var b,aa={b2:"GUI/bankeditor_icon.png",d2:"GUI/book.png",g2:"GUI/btnDown.png",h2:"GUI/btnLeft.png",i2:"GUI/btnRight.png",j2:"GUI/btnUp.png",B2:"GUI/chat.png",A2:"GUI/chat_icon.png",C2:"GUI/close.png",N2:"GUI/cross_icon.png",S2:"GUI/defaultitem.png",i3:"GUI/edit.png",j3:"GUI/editor-tab.png",m3:"GUI/equipment.png",l3:"GUI/equipment_icon.png",n3:"GUI/event_panel.png",t7:"GUI/healthbar.png",M7:"GUI/inventory.png",L7:"GUI/inventory_icon.png",B8:"GUI/itemeditor_bg.png",C8:"GUI/itemeditor_icon.png",D8:"GUI/itemeditor_tab1_bg.png",
E8:"GUI/itemeditor_tab2_bg.png",F8:"GUI/itemeditor_tab3_bg.png",T8:"GUI/list_panel.png",b9:"GUI/logout.png",f9:"GUI/mapeditor_icon.png",l9:"GUI/npceditor_icon.png",r$:"GUI/questeditor_icon.png",s$:"GUI/quickedit_closed_icon.png",t$:"GUI/quickedit_opened_icon.png",u$:"GUI/quickmenu_closed_icon.png",v$:"GUI/quickmenu_opened_icon.png",eaa:"GUI/scripteditor_icon.png",qca:"GUI/settings_icon.png",rca:"GUI/shopeditor_icon.png",uca:"GUI/signeditor_bg.png",vca:"GUI/signeditor_icon.png",wca:"GUI/signpost.png",
xca:"GUI/skilleditor_icon.png",zca:"GUI/skills.png",yca:"GUI/skills_icon.png",Bca:"GUI/splash.png",bda:"GUI/texture_change_left.png",cda:"GUI/texture_change_middle.png",dda:"GUI/texture_change_right.png",eda:"GUI/tick_icon.png",nda:"GUI/trash.png",wda:"GUI/use.png",Fda:"GUI/warpeditor_bg.png",Gda:"GUI/warpeditor_icon.png",k2:"building1.png",z2:"character_graphics.txt",G8:"items1.png",Cca:"sprites1.png",fda:"tile_graphics.txt",gda:"tiles1.png"};var q=q||{},ba={};q.AU=function(a){var c=q.GD[ba.WJ.rF];if(c){for(var d=[],e=0;e<c.length;++e)d.push({src:c[e]});a(d)}else a([])};ba={WJ:{rF:"_0"}};q.GD={};q.GD[ba.WJ.rF]=[];q.GD.pR=[];var io="undefined"===typeof module?{}:module.uc;
(function(){(function(a,d){a.version="0.9.16";a.protocol=1;a.transports=[];a.j=[];a.sockets={};a.connect=function(e,f){var g=a.util.parseUri(e),h,k;d&&d.location&&(g.protocol=g.protocol||d.location.protocol.slice(0,-1),g.host=g.host||(d.document?d.document.domain:d.location.hostname),g.port=g.port||d.location.port);h=a.util.uniqueUri(g);var l={host:g.host,Cn:"https"==g.protocol,port:g.port||("https"==g.protocol?443:80),query:g.query||""};a.util.merge(l,f);if(l["force new connection"]||!a.sockets[h])k=
new a.Socket(l);!l["force new connection"]&&k&&(a.sockets[h]=k);k=k||a.sockets[h];return k.Wp(1<g.path.length?g.path:"")}})("object"===typeof module?module.uc:io,this);(function(a,d){var e=a.util={},f=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,g="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");
e.parseUri=function(a){a=f.exec(a||"");for(var c={},d=14;d--;)c[g[d]]=a[d]||"";return c};e.uniqueUri=function(a){var c=a.protocol,e=a.host;a=a.port;"document"in d?(e=e||document.domain,a=a||("https"==c&&"https:"!==document.location.protocol?443:document.location.port)):(e=e||"localhost",a||"https"!=c||(a=443));return(c||"http")+"://"+e+":"+(a||80)};e.query=function(a,c){var d=e.chunkQuery(a||""),f=[];e.merge(d,e.chunkQuery(c||""));for(var g in d)d.hasOwnProperty(g)&&f.push(g+"\x3d"+d[g]);return f.length?
"?"+f.join("\x26"):""};e.chunkQuery=function(a){var c={};a=a.split("\x26");for(var d=0,e=a.length,f;d<e;++d)f=a[d].split("\x3d"),f[0]&&(c[f[0]]=f[1]);return c};var h=!1;e.load=function(a){if("document"in d&&"complete"===document.readyState||h)return a();e.on(d,"load",a,!1)};e.on=function(a,c,d,e){a.attachEvent?a.attachEvent("on"+c,d):a.addEventListener&&a.addEventListener(c,d,e)};e.request=function(a){if(a&&"undefined"!=typeof XDomainRequest&&!e.ua.hasCORS)return new XDomainRequest;if("undefined"!=
typeof XMLHttpRequest&&(!a||e.ua.hasCORS))return new XMLHttpRequest;if(!a)try{return new (window[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(c){}return null};"undefined"!=typeof window&&e.load(function(){h=!0});e.defer=function(a){if(!e.ua.webkit||"undefined"!=typeof importScripts)return a();e.load(function(){setTimeout(a,100)})};e.merge=function(a,c,d,f){f=f||[];d="undefined"==typeof d?2:d;for(var g in c)c.hasOwnProperty(g)&&0>e.indexOf(f,g)&&("object"===typeof a[g]&&d?e.merge(a[g],
c[g],d-1,f):(a[g]=c[g],f.push(c[g])));return a};e.mixin=function(a,c){e.merge(a.prototype,c.prototype)};e.inherit=function(a,c){function d(){}d.prototype=c.prototype;a.prototype=new d};e.isArray=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};e.intersect=function(a,c){for(var d=[],f=a.length>c.length?a:c,g=a.length>c.length?c:a,h=0,u=g.length;h<u;h++)~e.indexOf(f,g[h])&&d.push(g[h]);return d};e.indexOf=function(a,c,d){var e=a.length;for(d=0>d?0>d+e?0:d+e:d||
0;d<e&&a[d]!==c;d++);return e<=d?-1:d};e.toArray=function(a){for(var c=[],d=0,e=a.length;d<e;d++)c.push(a[d]);return c};e.ua={};e.ua.hasCORS="undefined"!=typeof XMLHttpRequest&&function(){try{var a=new XMLHttpRequest}catch(c){return!1}return void 0!=a.withCredentials}();e.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent);e.ua.iDevice="undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)})("undefined"!=typeof io?io:module.uc,this);(function(a,d){function e(){}
a.EventEmitter=e;e.prototype.on=function(a,c){this.Kf||(this.Kf={});this.Kf[a]?d.util.isArray(this.Kf[a])?this.Kf[a].push(c):this.Kf[a]=[this.Kf[a],c]:this.Kf[a]=c;return this};e.prototype.ZU=function(a){var c="connect";function d(){e.removeListener(c,d);a.apply(this,arguments)}var e=this;d.gx=a;this.on(c,d)};e.prototype.removeListener=function(a,c){if(this.Kf&&this.Kf[a]){var e=this.Kf[a];if(d.util.isArray(e)){for(var k=-1,l=0,m=e.length;l<m;l++)if(e[l]===c||e[l].gx&&e[l].gx===c){k=l;break}if(0>
k)return this;e.splice(k,1);e.length||delete this.Kf[a]}else(e===c||e.gx&&e.gx===c)&&delete this.Kf[a]}return this};e.prototype.wp=function(a){if(!this.Kf)return!1;var c=this.Kf[a];if(!c)return!1;var e=Array.prototype.slice.call(arguments,1);if("function"==typeof c)c.apply(this,e);else if(d.util.isArray(c))for(var c=c.slice(),k=0,l=c.length;k<l;k++)c[k].apply(this,e);else return!1;return!0}})("undefined"!=typeof io?io:module.uc,"undefined"!=typeof io?io:module.parent.uc);(function(a,d){function e(a){return 10>
a?"0"+a:a}function f(a){l.lastIndex=0;return l.test(a)?'"'+a.replace(l,function(a){var c=r[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function g(a,c){var d,h,k,l,r=m,Q,R=c[a];R instanceof Date&&(R=isFinite(a.valueOf())?a.getUTCFullYear()+"-"+e(a.getUTCMonth()+1)+"-"+e(a.getUTCDate())+"T"+e(a.getUTCHours())+":"+e(a.getUTCMinutes())+":"+e(a.getUTCSeconds())+"Z":null);"function"===typeof p&&(R=p.call(c,a,R));switch(typeof R){case "string":return f(R);
case "number":return isFinite(R)?String(R):"null";case "boolean":case "null":return String(R);case "object":if(!R)return"null";m+=n;Q=[];if("[object Array]"===Object.prototype.toString.apply(R)){l=R.length;for(d=0;d<l;d+=1)Q[d]=g(d,R)||"null";k=0===Q.length?"[]":m?"[\n"+m+Q.join(",\n"+m)+"\n"+r+"]":"["+Q.join(",")+"]";m=r;return k}if(p&&"object"===typeof p)for(l=p.length,d=0;d<l;d+=1)"string"===typeof p[d]&&(h=p[d],(k=g(h,R))&&Q.push(f(h)+(m?": ":":")+k));else for(h in R)Object.prototype.hasOwnProperty.call(R,
h)&&(k=g(h,R))&&Q.push(f(h)+(m?": ":":")+k);k=0===Q.length?"{}":m?"{\n"+m+Q.join(",\n"+m)+"\n"+r+"}":"{"+Q.join(",")+"}";m=r;return k}}if(d&&d.parse)return a.JSON={parse:d.parse,stringify:d.stringify};var h=a.JSON={},k=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,m,n,r={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f",
"\r":"\\r",'"':'\\"',"\\":"\\\\"},p;h.stringify=function(a,c,d){var e;n=m="";if("number"===typeof d)for(e=0;e<d;e+=1)n+=" ";else"string"===typeof d&&(n=d);if((p=c)&&"function"!==typeof c&&("object"!==typeof c||"number"!==typeof c.length))throw Error("JSON.stringify");return g("",{"":a})};h.parse=function(a,c){function d(a,e){var f,g,h=a[e];if(h&&"object"===typeof h)for(f in h)Object.prototype.hasOwnProperty.call(h,f)&&(g=d(h,f),void 0!==g?h[f]=g:delete h[f]);return c.call(a,e,h)}var e;a=String(a);
k.lastIndex=0;k.test(a)&&(a=a.replace(k,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"===typeof c?d({"":e},""):e;throw new SyntaxError("JSON.parse");}})("undefined"!=typeof io?io:module.uc,"undefined"!==typeof JSON?JSON:void 0);(function(a,d){var e=
a.parser={},f=e.packets="disconnect connect heartbeat message json event ack error noop".split(" "),g=e.reasons=["transport not supported","client not handshaken","unauthorized"],h=e.advice=["reconnect"],k=d.JSON,l=d.util.indexOf;e.encodePacket=function(a){var c=l(f,a.type),d=a.id||"",e=a.Kw||"",m=a.qp,z=null;switch(a.type){case "error":var D=a.reason?l(g,a.reason):"";a=a.advice?l(h,a.advice):"";if(""!==D||""!==a)z=D+(""!==a?"+"+a:"");break;case "message":""!==a.data&&(z=a.data);break;case "event":z=
{name:a.name};a.af&&a.af.length&&(z.af=a.af);z=k.stringify(z);break;case "json":z=k.stringify(a.data);break;case "connect":a.XJ&&(z=a.XJ);break;case "ack":z=a.rp+(a.af&&a.af.length?"+"+k.stringify(a.af):"")}c=[c,d+("data"==m?"+":""),e];null!==z&&void 0!==z&&c.push(z);return c.join(":")};e.encodePayload=function(a){var c="";if(1==a.length)return a[0];for(var d=0,e=a.length;d<e;d++)c+="\ufffd"+a[d].length+"\ufffd"+a[d];return c};var m=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;e.decodePacket=function(a){var c=
a.match(m);if(!c)return{};var d=c[2]||"";a=c[5]||"";var e={type:f[c[1]],Kw:c[4]||""};d&&(e.id=d,e.qp=c[3]?"data":!0);switch(e.type){case "error":c=a.split("+");e.reason=g[c[0]]||"";e.advice=h[c[1]]||"";break;case "message":e.data=a||"";break;case "event":try{var l=k.parse(a);e.name=l.name;e.af=l.af}catch(z){}e.af=e.af||[];break;case "json":try{e.data=k.parse(a)}catch(D){}break;case "connect":e.XJ=a||"";break;case "ack":if(c=a.match(/^([0-9]+)(\+)?(.*)/))if(e.rp=c[1],e.af=[],c[3])try{e.af=c[3]?k.parse(c[3]):
[]}catch(C){}}return e};e.decodePayload=function(a){if("\ufffd"==a.charAt(0)){for(var c=[],d=1,f="";d<a.length;d++)"\ufffd"==a.charAt(d)?(c.push(e.decodePacket(a.substr(d+1).substr(0,f))),d+=Number(f)+1,f=""):f+=a.charAt(d);return c}return[e.decodePacket(a)]}})("undefined"!=typeof io?io:module.uc,"undefined"!=typeof io?io:module.parent.uc);(function(a,d){function e(a,c){this.xb=a;this.vW=c}a.Transport=e;d.util.mixin(e,d.EventEmitter);e.prototype.UI=function(){return!0};e.prototype.Ts=function(a){this.gC();
(this.xb.rh||this.xb.Fg||this.xb.tn)&&this.yK();if(""!==a&&(a=d.parser.decodePayload(a))&&a.length)for(var c=0,e=a.length;c<e;c++)this.Us(a[c])};e.prototype.Us=function(a){this.xb.IK();if("heartbeat"==a.type)return this.LU();"connect"==a.type&&""==a.Kw&&this.jD();"error"==a.type&&"reconnect"==a.advice&&(this.Ks=!1);this.xb.Us(a);return this};e.prototype.yK=function(){if(!this.tp){var a=this;this.tp=setTimeout(function(){a.mn()},this.xb.tp)}};e.prototype.mn=function(){this.Ks&&this.close();this.hC();
this.xb.mn();return this};e.prototype.jD=function(){this.xb.jD();return this};e.prototype.gC=function(){this.tp&&(clearTimeout(this.tp),this.tp=null)};e.prototype.hC=function(){this.gC();this.aW&&clearTimeout(this.aW)};e.prototype.eg=function(a){this.send(d.parser.encodePacket(a))};e.prototype.LU=function(){this.eg({type:"heartbeat"})};e.prototype.mx=function(){this.Ks=!0;this.gC();this.xb.mx()};e.prototype.ii=function(){this.Ks=!1;this.xb.ii();this.mn()};e.prototype.Ws=function(){var a=this.xb.options;
return this.scheme()+"://"+a.host+":"+a.port+"/"+a.zx+"/"+d.protocol+"/"+this.name+"/"+this.vW};e.prototype.sx=function(a,c){c.call(this)}})("undefined"!=typeof io?io:module.uc,"undefined"!=typeof io?io:module.parent.uc);(function(a,d,e){function f(a){this.options={port:80,Cn:!1,document:"document"in e?document:!1,zx:"socket.io",transports:d.transports,"connect timeout":1E4,"try multiple transports":!0,reconnect:!0,"reconnection delay":500,"reconnection limit":Infinity,"reopen delay":3E3,"max reconnection attempts":10,
"sync disconnect on unload":!1,"auto connect":!0,"flash policy port":10843,manualFlush:!1};d.util.merge(this.options,a);this.tn=this.Fg=this.open=this.rh=!1;this.namespaces={};this.buffer=[];this.oC=!1;if(this.options["sync disconnect on unload"]&&(!this.Op()||d.util.ua.hasCORS)){var c=this;d.util.on(e,"beforeunload",function(){c.iS()},!1)}this.options["auto connect"]&&this.connect()}function g(){}a.Socket=f;d.util.mixin(f,d.EventEmitter);f.prototype.Wp=function(a){this.namespaces[a]||(this.namespaces[a]=
new d.SocketNamespace(this,a),""!==a&&this.namespaces[a].eg({type:"connect"}));return this.namespaces[a]};f.prototype.Dl=function(){this.wp.apply(this,arguments);var a,c;for(c in this.namespaces)this.namespaces.hasOwnProperty(c)&&(a=this.Wp(c),a.vk.apply(a,arguments))};f.prototype.IT=function(a){function c(d){d instanceof Error?(e.Fg=!1,e.nn(d.message)):a.apply(null,d.split(":"))}var e=this,f=this.options,f=["http"+(f.Cn?"s":"")+":/",f.host+":"+f.port,f.zx,d.protocol,d.util.query(this.options.query,
"t\x3d"+ +new Date)].join("/");if(this.Op()&&!d.util.ua.hasCORS){var n=document.getElementsByTagName("script")[0],r=document.createElement("script");r.src=f+"\x26jsonp\x3d"+d.j.length;n.parentNode.insertBefore(r,n);d.j.push(function(a){c(a);r.parentNode.removeChild(r)})}else{var p=d.util.request();p.open("GET",f,!0);this.Op()&&(p.withCredentials=!0);p.onreadystatechange=function(){4==p.readyState&&(p.onreadystatechange=g,200==p.status?c(p.responseText):403==p.status?e.nn(p.responseText):(e.Fg=!1,
!e.tn&&e.nn(p.responseText)))};p.send(null)}};f.prototype.KI=function(a){a=a||this.transports;for(var c=0,e;e=a[c];c++)if(d.Transport[e]&&d.Transport[e].Zm(this)&&(!this.Op()||d.Transport[e].tt(this)))return new d.Transport[e](this,this.pK);return null};f.prototype.connect=function(a){if(this.Fg)return this;var c=this;c.Fg=!0;this.IT(function(e,f,g,r){function p(a){c.mf&&c.mf.hC();c.mf=c.KI(a);c.mf?c.mf.sx(c,function(){c.Fg=!0;c.Dl("connecting",c.mf.name);c.mf.open();c.options["connect timeout"]&&
(c.NR=setTimeout(function(){if(!c.rh&&(c.Fg=!1,c.options["try multiple transports"])){for(var a=c.transports;0<a.length&&a.splice(0,1)[0]!=c.mf.name;);a.length?p(a):c.Dl("connect_failed")}},c.options["connect timeout"]))}):c.Dl("connect_failed")}c.pK=e;c.tp=1E3*g;c.NT=1E3*f;c.transports||(c.transports=c.$U=r?d.util.intersect(r.split(","),c.options.transports):c.options.transports);c.IK();p(c.transports);c.ZU(function(){clearTimeout(c.NR);a&&"function"==typeof a&&a()})});return this};f.prototype.IK=
function(){clearTimeout(this.TI);if(!this.mf||this.mf.UI()){var a=this;this.TI=setTimeout(function(){a.mf.ii()},this.NT)}};f.prototype.eg=function(a){this.rh&&!this.oC?this.mf.eg(a):this.buffer.push(a);return this};f.prototype.mk=function(a){this.oC=a;!a&&this.rh&&this.buffer.length&&(this.options.manualFlush||this.BS())};f.prototype.BS=function(){this.mf.PJ(this.buffer);this.buffer=[]};f.prototype.disconnect=function(){if(this.rh||this.Fg)this.open&&this.Wp("").eg({type:"disconnect"}),this.mn("booted");
return this};f.prototype.iS=function(){var a=d.util.request();a.open("GET",["http"+(this.options.Cn?"s":"")+":/",this.options.host+":"+this.options.port,this.options.zx,d.protocol,"",this.pK].join("/")+"/?disconnect\x3d1",!1);a.send(null);this.mn("booted")};f.prototype.Op=function(){var a=e.location.port||("https:"==e.location.protocol?443:80);return this.options.host!==e.location.hostname||this.options.port!=a};f.prototype.jD=function(){this.rh||(this.rh=!0,this.Fg=!1,this.oC||this.mk(!1),this.wp("connect"))};
f.prototype.mx=function(){this.open=!0};f.prototype.ii=function(){this.open=!1;clearTimeout(this.TI)};f.prototype.Us=function(a){this.Wp(a.Kw).Us(a)};f.prototype.nn=function(a){a&&a.advice&&"reconnect"===a.advice&&(this.rh||this.Fg)&&(this.disconnect(),this.options.tx&&this.tx());this.Dl("error",a&&a.reason?a.reason:a)};f.prototype.mn=function(a){var c=this.rh,d=this.Fg;this.open=this.Fg=this.rh=!1;if(c||d)this.mf.close(),this.mf.hC(),c&&(this.Dl("disconnect",a),"booted"!=a&&this.options.tx&&!this.tn&&
this.tx())};f.prototype.tx=function(){function a(){if(d.rh){for(var e in d.namespaces)d.namespaces.hasOwnProperty(e)&&""!==e&&d.namespaces[e].eg({type:"connect"});d.Dl("reconnect",d.mf.name,d.ux)}clearTimeout(d.vx);d.removeListener("connect_failed",c);d.removeListener("connect",c);d.tn=!1;delete d.ux;delete d.un;delete d.vx;delete d.bK;d.options["try multiple transports"]=f}function c(){if(d.tn){if(d.rh)return a();if(d.Fg&&d.tn)return d.vx=setTimeout(c,1E3);d.ux++>=e?d.bK?(d.Dl("reconnect_failed"),
a()):(d.on("connect_failed",c),d.options["try multiple transports"]=!0,d.transports=d.$U,d.mf=d.KI(),d.bK=!0,d.connect()):(d.un<g&&(d.un*=2),d.connect(),d.Dl("reconnecting",d.un,d.ux),d.vx=setTimeout(c,d.un))}}this.tn=!0;this.ux=0;this.un=this.options["reconnection delay"];var d=this,e=this.options["max reconnection attempts"],f=this.options["try multiple transports"],g=this.options["reconnection limit"];this.options["try multiple transports"]=!1;this.vx=setTimeout(c,this.un);this.on("connect",c)}})("undefined"!=
typeof io?io:module.uc,"undefined"!=typeof io?io:module.parent.uc,this);(function(a,d){function e(a,c){this.xb=a;this.name=c||"";this.Mw={};this.rU=new f(this,"json");this.xH=0;this.ps={}}function f(a,c){this.Vp=a;this.name=c}a.SocketNamespace=e;d.util.mixin(e,d.EventEmitter);e.prototype.vk=d.EventEmitter.prototype.wp;e.prototype.Wp=function(){return this.xb.Wp.apply(this.xb,arguments)};e.prototype.eg=function(a){a.Kw=this.name;this.xb.eg(a);this.Mw={};return this};e.prototype.send=function(a,c){var d=
{type:this.Mw.rU?"json":"message",data:a};"function"==typeof c&&(d.id=++this.xH,d.qp=!0,this.ps[d.id]=c);return this.eg(d)};e.prototype.wp=function(a){var c=Array.prototype.slice.call(arguments,1),d=c[c.length-1],e={type:"event",name:a};"function"==typeof d&&(e.id=++this.xH,e.qp="data",this.ps[e.id]=d,c=c.slice(0,c.length-1));e.af=c;return this.eg(e)};e.prototype.disconnect=function(){""===this.name?this.xb.disconnect():(this.eg({type:"disconnect"}),this.vk("disconnect"));return this};e.prototype.Us=
function(a){function c(){e.eg({type:"ack",af:d.util.toArray(arguments),rp:a.id})}var e=this;switch(a.type){case "connect":this.vk("connect");break;case "disconnect":""===this.name?this.xb.mn(a.reason||"booted"):this.vk("disconnect",a.reason);break;case "message":case "json":var f=["message",a.data];"data"==a.qp?f.push(c):a.qp&&this.eg({type:"ack",rp:a.id});this.vk.apply(this,f);break;case "event":f=[a.name].concat(a.af);"data"==a.qp&&f.push(c);this.vk.apply(this,f);break;case "ack":this.ps[a.rp]&&
(this.ps[a.rp].apply(this,a.af),delete this.ps[a.rp]);break;case "error":a.advice?this.xb.nn(a):"unauthorized"==a.reason?this.vk("connect_failed",a.reason):this.vk("error",a.reason)}};f.prototype.send=function(){this.Vp.Mw[this.name]=!0;this.Vp.send.apply(this.Vp,arguments)};f.prototype.wp=function(){this.Vp.Mw[this.name]=!0;this.Vp.wp.apply(this.Vp,arguments)}})("undefined"!=typeof io?io:module.uc,"undefined"!=typeof io?io:module.parent.uc);(function(a,d,e){function f(a){d.Transport.apply(this,arguments)}
a.Tg=f;d.util.inherit(f,d.Transport);f.prototype.name="websocket";f.prototype.open=function(){var a=d.util.query(this.xb.options.query),c=this,f;f||(f=e.j_||e.CN);this.Tg=new f(this.Ws()+a);this.Tg.onopen=function(){c.mx();c.xb.mk(!1)};this.Tg.onmessage=function(a){c.Ts(a.data)};this.Tg.onclose=function(){c.ii();c.xb.mk(!0)};this.Tg.onerror=function(a){c.nn(a)};return this};f.prototype.send=d.util.ua.iDevice?function(a){var c=this;setTimeout(function(){c.Tg.send(a)},0);return this}:function(a){this.Tg.send(a);
return this};f.prototype.PJ=function(a){for(var c=0,d=a.length;c<d;c++)this.eg(a[c]);return this};f.prototype.close=function(){this.Tg.close();return this};f.prototype.nn=function(a){this.xb.nn(a)};f.prototype.scheme=function(){return this.xb.options.Cn?"wss":"ws"};f.Zm=function(){return"WebSocket"in e&&!("__addTask"in WebSocket)||"MozWebSocket"in e};f.tt=function(){return!0};d.transports.push("websocket")})("undefined"!=typeof io?io.Transport:module.uc,"undefined"!=typeof io?io:module.parent.uc,
this);(function(c,d){function e(){d.Transport.Tg.apply(this,arguments)}c.G3=e;d.util.inherit(e,d.Transport.Tg);e.prototype.name="flashsocket";e.prototype.open=function(){var a=this,c=arguments;WebSocket.Gu(function(){d.Transport.Tg.prototype.open.apply(a,c)});return this};e.prototype.send=function(){var a=this,c=arguments;WebSocket.Gu(function(){d.Transport.Tg.prototype.send.apply(a,c)});return this};e.prototype.close=function(){WebSocket.Hq.length=0;d.Transport.Tg.prototype.close.call(this);return this};
e.prototype.sx=function(a,c){function h(){var d=a.options,h=d["flash policy port"],n=["http"+(d.Cn?"s":"")+":/",d.host+":"+d.port,d.zx,"static/flashsocket","WebSocketMain"+(a.Op()?"Insecure":"")+".swf"];e.loaded||("undefined"===typeof WEB_SOCKET_SWF_LOCATION&&(WEB_SOCKET_SWF_LOCATION=n.join("/")),843!==h&&WebSocket.zU("xmlsocket://"+d.host+":"+h),WebSocket.tz(),e.loaded=!0);c.call(k)}var k=this;if(document.body)return h();d.util.load(h)};e.Zm=function(){return"undefined"!=typeof WebSocket&&"__initialize"in
WebSocket&&a?10<=a.NS().EU:!1};e.tt=function(){return!0};"undefined"!=typeof window&&(WEB_SOCKET_DISABLE_AUTO_INITIALIZATION=!0);d.transports.push("flashsocket")})("undefined"!=typeof io?io.Transport:module.uc,"undefined"!=typeof io?io:module.parent.uc);if("undefined"!=typeof window)var a=function(){function c(){if(!ka){try{var a=K.getElementsByTagName("body")[0].appendChild(K.createElement("span"));a.parentNode.removeChild(a)}catch(c){return}ka=!0;for(var a=va.length,d=0;d<a;d++)va[d]()}}function d(a){ka?
a():va[va.length]=a}function e(a){if(typeof $.addEventListener!=L)$.addEventListener("load",a,!1);else if(typeof K.addEventListener!=L)K.addEventListener("load",a,!1);else if(typeof $.attachEvent!=L)x($,a);else if("function"==typeof $.onload){var c=$.onload;$.onload=function(){c();a()}}else $.onload=a}function f(){var a=K.getElementsByTagName("body")[0],c=K.createElement(Q);c.setAttribute("type",R);var d=a.appendChild(c);if(d){var e=0;(function(){if(typeof d.GetVariable!=L){var f=d.GetVariable("$version");
f&&(f=f.split(" ")[1].split(","),E.Zp=[parseInt(f[0],10),parseInt(f[1],10),parseInt(f[2],10)])}else if(10>e){e++;setTimeout(arguments.callee,10);return}a.removeChild(c);d=null;g()})()}else g()}function g(){var a=ia.length;if(0<a)for(var c=0;c<a;c++){var d=ia[c].id,e=ia[c].sR,f={Kn:!1,id:d};if(0<E.Zp[0]){var g=u(d);if(g)if(!z(ia[c].iY)||E.uk&&312>E.uk)if(ia[c].mI&&k()){f={};f.data=ia[c].mI;f.width=g.getAttribute("width")||"0";f.height=g.getAttribute("height")||"0";g.getAttribute("class")&&(f.Ica=g.getAttribute("class"));
g.getAttribute("align")&&(f.align=g.getAttribute("align"));for(var n={},g=g.getElementsByTagName("param"),r=g.length,p=0;p<r;p++)"movie"!=g[p].getAttribute("name").toLowerCase()&&(n[g[p].getAttribute("name")]=g[p].getAttribute("value"));l(f,n,d,e)}else m(g),e&&e(f);else C(d,!0),e&&(f.Kn=!0,f.cK=h(d),e(f))}else C(d,!0),e&&((d=h(d))&&typeof d.SetVariable!=L&&(f.Kn=!0,f.cK=d),e(f))}}function h(a){var c=null;(a=u(a))&&"OBJECT"==a.nodeName&&(typeof a.SetVariable!=L?c=a:(a=a.getElementsByTagName(Q)[0])&&
(c=a));return c}function k(){return!wa&&z("6.0.65")&&(E.Ch||E.zJ)&&!(E.uk&&312>E.uk)}function l(a,c,d,e){wa=!0;Ca=e||null;Ja={Kn:!1,id:d};var f=u(d);if(f){"OBJECT"==f.nodeName?(ra=n(f),xa=null):(ra=f,xa=d);a.id=na;if(typeof a.width==L||!/%$/.test(a.width)&&310>parseInt(a.width,10))a.width="310";if(typeof a.height==L||!/%$/.test(a.height)&&137>parseInt(a.height,10))a.height="137";K.title=K.title.slice(0,47)+" - Flash Player Installation";e=E.wh&&E.Ch?["Active"].concat("").join("X"):"PlugIn";e="MMredirectURL\x3d"+
$.location.toString().replace(/&/g,"%26")+"\x26MMplayerType\x3d"+e+"\x26MMdoctitle\x3d"+K.title;c.ts=typeof c.ts!=L?c.ts+("\x26"+e):e;E.wh&&E.Ch&&4!=f.readyState&&(e=K.createElement("div"),d+="SWFObjectNew",e.setAttribute("id",d),f.parentNode.insertBefore(e,f),f.style.display="none",function(){4==f.readyState?f.parentNode.removeChild(f):setTimeout(arguments.callee,10)}());r(a,c,d)}}function m(a){if(E.wh&&E.Ch&&4!=a.readyState){var c=K.createElement("div");a.parentNode.insertBefore(c,a);c.parentNode.replaceChild(n(a),
c);a.style.display="none";(function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)})()}else a.parentNode.replaceChild(n(a),a)}function n(a){var c=K.createElement("div");if(E.Ch&&E.wh)c.innerHTML=a.innerHTML;else if(a=a.getElementsByTagName(Q)[0])if(a=a.childNodes)for(var d=a.length,e=0;e<d;e++)1==a[e].nodeType&&"PARAM"==a[e].nodeName||8==a[e].nodeType||c.appendChild(a[e].cloneNode(!0));return c}function r(a,c,d){var e,f=u(d);if(E.uk&&312>E.uk)return e;if(f)if(typeof a.id==
L&&(a.id=d),E.wh&&E.Ch){var g="",h;for(h in a)a[h]!=Object.prototype[h]&&("data"==h.toLowerCase()?c.k9=a[h]:"styleclass"==h.toLowerCase()?g+=' class\x3d"'+a[h]+'"':"classid"!=h.toLowerCase()&&(g+=" "+h+'\x3d"'+a[h]+'"'));h="";for(var k in c)c[k]!=Object.prototype[k]&&(h+='\x3cparam name\x3d"'+k+'" value\x3d"'+c[k]+'" /\x3e');f.outerHTML='\x3cobject classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+g+"\x3e"+h+"\x3c/object\x3e";ya[ya.length]=a.id;e=u(a.id)}else{k=K.createElement(Q);k.setAttribute("type",
R);for(var l in a)a[l]!=Object.prototype[l]&&("styleclass"==l.toLowerCase()?k.setAttribute("class",a[l]):"classid"!=l.toLowerCase()&&k.setAttribute(l,a[l]));for(g in c)c[g]!=Object.prototype[g]&&"movie"!=g.toLowerCase()&&(a=k,h=g,l=c[g],d=K.createElement("param"),d.setAttribute("name",h),d.setAttribute("value",l),a.appendChild(d));f.parentNode.replaceChild(k,f);e=k}return e}function p(a){var c=u(a);c&&"OBJECT"==c.nodeName&&(E.wh&&E.Ch?(c.style.display="none",function(){if(4==c.readyState){var d=u(a);
if(d){for(var e in d)"function"==typeof d[e]&&(d[e]=null);d.parentNode.removeChild(d)}}else setTimeout(arguments.callee,10)}()):c.parentNode.removeChild(c))}function u(a){var c=null;try{c=K.getElementById(a)}catch(d){}return c}function x(a,c){a.attachEvent("onload",c);oa[oa.length]=[a,"onload",c]}function z(a){var c=E.Zp;a=a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return c[0]>a[0]||c[0]==a[0]&&c[1]>a[1]||c[0]==a[0]&&c[1]==a[1]&&c[2]>=a[2]?!0:!1}function D(a,
c,d,e){if(!E.wh||!E.zJ){var f=K.getElementsByTagName("head")[0];f&&(d=d&&"string"==typeof d?d:"screen",e&&(Da=ga=null),ga&&Da==d||(e=K.createElement("style"),e.setAttribute("type","text/css"),e.setAttribute("media",d),ga=f.appendChild(e),E.wh&&E.Ch&&typeof K.styleSheets!=L&&0<K.styleSheets.length&&(ga=K.styleSheets[K.styleSheets.length-1]),Da=d),E.wh&&E.Ch?ga&&typeof ga.addRule==Q&&ga.addRule(a,c):ga&&typeof K.createTextNode!=L&&ga.appendChild(K.createTextNode(a+" {"+c+"}")))}}function C(a,c){if(Ka){var d=
c?"visible":"hidden";ka&&u(a)?u(a).style.visibility=d:D("#"+a,"visibility:"+d)}}function Z(a){return null!=/[\\\"<>\.;]/.exec(a)&&typeof encodeURIComponent!=L?encodeURIComponent(a):a}var L="undefined",Q="object",R="application/x-shockwave-flash",na="SWFObjectExprInst",$=window,K=document,ja=navigator,La=!1,va=[function(){La?f():g()}],ia=[],ya=[],oa=[],ra,xa,Ca,Ja,ka=!1,wa=!1,ga,Da,Ka=!0,E=function(){var a=typeof K.getElementById!=L&&typeof K.getElementsByTagName!=L&&typeof K.createElement!=L,c=ja.userAgent.toLowerCase(),
d=ja.platform.toLowerCase(),e=d?/win/.test(d):/win/.test(c),d=d?/mac/.test(d):/mac/.test(c),c=/webkit/.test(c)?parseFloat(c.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,f=!+"\v1",g=[0,0,0],h=null;if(typeof ja.plugins!=L&&typeof ja.plugins["Shockwave Flash"]==Q)!(h=ja.plugins["Shockwave Flash"].description)||typeof ja.mimeTypes!=L&&ja.mimeTypes[R]&&!ja.mimeTypes[R].enabledPlugin||(La=!0,f=!1,h=h.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),g[0]=parseInt(h.replace(/^(.*)\..*$/,"$1"),10),g[1]=parseInt(h.replace(/^.*\.(.*)\s.*$/,
"$1"),10),g[2]=/[a-zA-Z]/.test(h)?parseInt(h.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof $[["Active"].concat("Object").join("X")]!=L)try{var k=new (window[["Active"].concat("Object").join("X")])("ShockwaveFlash.ShockwaveFlash");k&&(h=k.GetVariable("$version"))&&(f=!0,h=h.split(" ")[1].split(","),g=[parseInt(h[0],10),parseInt(h[1],10),parseInt(h[2],10)])}catch(l){}return{Ql:a,Zp:g,uk:c,wh:f,Ch:e,zJ:d}}();(function(){E.Ql&&((typeof K.readyState!=L&&"complete"==K.readyState||typeof K.readyState==
L&&(K.getElementsByTagName("body")[0]||K.body))&&c(),ka||(typeof K.addEventListener!=L&&K.addEventListener("DOMContentLoaded",c,!1),E.wh&&E.Ch&&(K.attachEvent("onreadystatechange",function(){"complete"==K.readyState&&(K.detachEvent("onreadystatechange",arguments.callee),c())}),$==top&&function(){if(!ka){try{K.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}c()}}()),E.uk&&function(){ka||(/loaded|complete/.test(K.readyState)?c():setTimeout(arguments.callee,0))}(),e(c)))})();
(function(){E.wh&&E.Ch&&window.attachEvent("onunload",function(){for(var c=oa.length,d=0;d<c;d++)oa[d][0].detachEvent(oa[d][1],oa[d][2]);c=ya.length;for(d=0;d<c;d++)p(ya[d]);for(var e in E)E[e]=null;E=null;for(var f in a)a[f]=null;a=null})})();return{B$:function(a,c,d,e){if(E.Ql&&a&&c){var f={};f.id=a;f.iY=c;f.mI=d;f.sR=e;ia[ia.length]=f;C(a,!1)}else e&&e({Kn:!1,id:a})},z5:function(a){if(E.Ql)return h(a)},tS:function(a,c,e,f,g,h,m,n,p,u){var x={Kn:!1,id:c};E.Ql&&!(E.uk&&312>E.uk)&&a&&c&&e&&f&&g?(C(c,
!1),d(function(){e+="";f+="";var d={};if(p&&typeof p===Q)for(var D in p)d[D]=p[D];d.data=a;d.width=e;d.height=f;D={};if(n&&typeof n===Q)for(var Z in n)D[Z]=n[Z];if(m&&typeof m===Q)for(var E in m)D.ts=typeof D.ts!=L?D.ts+("\x26"+E+"\x3d"+m[E]):E+"\x3d"+m[E];if(z(g))Z=r(d,D,c),d.id==c&&C(c,!0),x.Kn=!0,x.cK=Z;else{if(h&&k()){d.data=h;l(d,D,c,u);return}C(c,!0)}u&&u(x)})):u&&u(x)},Qca:function(){Ka=!1},ua:E,NS:function(){return{EU:E.Zp[0],g9:E.Zp[1],AD:E.Zp[2]}},KT:z,K2:function(a,c,d){if(E.Ql)return r(a,
c,d)},sca:function(a,c,d,e){E.Ql&&k()&&l(a,c,d,e)},P$:function(a){E.Ql&&p(a)},J2:function(a,c,d,e){E.Ql&&D(a,c,d,e)},B1:d,F1:e,e6:function(a){var c=K.location.search||K.location.hash;if(c){/\?/.test(c)&&(c=c.split("?")[1]);if(null==a)return Z(c);for(var c=c.split("\x26"),d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("\x3d"))==a)return Z(c[d].substring(c[d].indexOf("\x3d")+1))}return""},q3:function(){if(wa){var a=u(na);a&&ra&&(a.parentNode.replaceChild(ra,a),xa&&(C(xa,!0),E.wh&&E.Ch&&(ra.style.display=
"block")),Ca&&Ca(Ja));wa=!1}}}}();(function(){if("undefined"!=typeof window&&!window.CN){var c=window.console;c&&c.log&&c.error||(c={log:function(){},error:function(){}});a.KT("10.0.0")?("file:"==location.protocol&&c.error("WARNING: web-socket-js doesn't work in file:///... URL unless you set Flash Security Settings properly. Open the page via Web server i.e. http://..."),WebSocket=function(a,c,f,g,h){var k=this;k.Iu=WebSocket.JN++;WebSocket.KF[k.Iu]=k;k.readyState=WebSocket.CONNECTING;k.bufferedAmount=
0;k.ho={};c?"string"==typeof c&&(c=[c]):c=[];setTimeout(function(){WebSocket.Gu(function(){WebSocket.vi.create(k.Iu,a,c,f||null,g||0,h||null)})},0)},WebSocket.prototype.send=function(a){if(this.readyState==WebSocket.CONNECTING)throw"INVALID_STATE_ERR: Web Socket connection has not been established";a=WebSocket.vi.send(this.Iu,encodeURIComponent(a));if(0>a)return!0;this.bufferedAmount+=a;return!1},WebSocket.prototype.close=function(){this.readyState!=WebSocket.CLOSED&&this.readyState!=WebSocket.BE&&
(this.readyState=WebSocket.BE,WebSocket.vi.close(this.Iu))},WebSocket.prototype.addEventListener=function(a,c){a in this.ho||(this.ho[a]=[]);this.ho[a].push(c)},WebSocket.prototype.removeEventListener=function(a,c){if(a in this.ho)for(var f=this.ho[a],g=f.length-1;0<=g;--g)if(f[g]===c){f.splice(g,1);break}},WebSocket.prototype.dispatchEvent=function(a){for(var c=this.ho[a.type]||[],f=0;f<c.length;++f)c[f](a);(c=this["on"+a.type])&&c(a)},WebSocket.prototype.GN=function(a){"readyState"in a&&(this.readyState=
a.readyState);"protocol"in a&&(this.protocol=a.protocol);if("open"==a.type||"error"==a.type)a=this.IF(a.type);else if("close"==a.type)a=this.IF("close");else if("message"==a.type)a=this.EN(decodeURIComponent(a.message));else throw"unknown event type: "+a.type;this.dispatchEvent(a)},WebSocket.prototype.IF=function(a){if(document.createEvent&&window.IZ){var c=document.createEvent("Event");c.initEvent(a,!1,!1);return c}return{type:a,bubbles:!1,cancelable:!1}},WebSocket.prototype.EN=function(a){if(document.createEvent&&
window.h_&&!window.opera){var c=document.createEvent("MessageEvent");c.initMessageEvent("message",!1,!1,a,null,null,window,null);return c}return{type:"message",data:a,bubbles:!1,cancelable:!1}},WebSocket.CONNECTING=0,WebSocket.OPEN=1,WebSocket.BE=2,WebSocket.CLOSED=3,WebSocket.vi=null,WebSocket.KF={},WebSocket.Hq=[],WebSocket.JN=0,WebSocket.zU=function(a){WebSocket.Gu(function(){WebSocket.vi.Z8(a)})},WebSocket.tz=function(){if(!WebSocket.vi&&(WebSocket.LN&&(window.BN=WebSocket.LN),window.BN)){var d=
document.createElement("div");d.id="webSocketContainer";d.style.position="absolute";WebSocket.IN()?(d.style.left="0px",d.style.top="0px"):(d.style.left="-100px",d.style.top="-100px");var e=document.createElement("div");e.id="webSocketFlash";d.appendChild(e);document.body.appendChild(d);a.tS(WEB_SOCKET_SWF_LOCATION,"webSocketFlash","1","1","10.0.0",null,null,{s7:!0,Tca:!0,S1:"always"},null,function(a){a.Kn||c.error("[WebSocket] swfobject.embedSWF failed")})}},WebSocket.J0=function(){setTimeout(function(){WebSocket.vi=
document.getElementById("webSocketFlash");WebSocket.vi.saa(location.href);WebSocket.vi.Aaa(!!window.u0);for(var a=0;a<WebSocket.Hq.length;++a)WebSocket.Hq[a]();WebSocket.Hq=[]},0)},WebSocket.I0=function(){setTimeout(function(){try{for(var a=WebSocket.vi.w$(),e=0;e<a.length;++e)WebSocket.KF[a[e].Hda].GN(a[e])}catch(f){c.error(f)}},0);return!0},WebSocket.H0=function(a){c.log(decodeURIComponent(a))},WebSocket.G0=function(a){c.error(decodeURIComponent(a))},WebSocket.Gu=function(a){WebSocket.vi?a():WebSocket.Hq.push(a)},
WebSocket.IN=function(){if(!window.navigator||!window.navigator.mimeTypes)return!1;var a=window.navigator.mimeTypes["application/x-shockwave-flash"];return a&&a.enabledPlugin&&a.enabledPlugin.filename?a.enabledPlugin.filename.match(/flashlite/i)?!0:!1:!1},window.v0||(window.addEventListener?window.addEventListener("load",function(){WebSocket.tz()},!1):window.attachEvent("onload",function(){WebSocket.tz()}))):c.error("Flash Player \x3e\x3d 10.0.0 is required.")}})();(function(a,d,e){function f(a){a&&
d.Transport.apply(this,arguments)}function g(){}a.xj=f;d.util.inherit(f,d.Transport);f.prototype.open=function(){this.xb.mk(!1);this.mx();this.get();this.yK();return this};f.prototype.PJ=function(a){for(var c=[],e=0,f=a.length;e<f;e++)c.push(d.parser.encodePacket(a[e]));this.send(d.parser.encodePayload(c))};f.prototype.send=function(a){this.TJ(a);return this};f.prototype.TJ=function(a){function c(){4==this.readyState&&(this.onreadystatechange=g,f.k$=!1,200==this.status?f.xb.mk(!1):f.ii())}function d(){this.onload=
g;f.xb.mk(!1)}var f=this;this.xb.mk(!0);this.Ys=this.request("POST");e.XDomainRequest&&this.Ys instanceof XDomainRequest?this.Ys.onload=this.Ys.onerror=d:this.Ys.onreadystatechange=c;this.Ys.send(a)};f.prototype.close=function(){this.ii();return this};f.prototype.request=function(a){var c=d.util.request(this.xb.Op()),e=d.util.query(this.xb.options.query,"t\x3d"+ +new Date);c.open(a||"GET",this.Ws()+e,!0);if("POST"==a)try{c.setRequestHeader?c.setRequestHeader("Content-type","text/plain;charset\x3dUTF-8"):
c.contentType="text/plain"}catch(f){}return c};f.prototype.scheme=function(){return this.xb.options.Cn?"https":"http"};f.Zm=function(a,c){try{var f=d.util.request(c),g=e.XDomainRequest&&f instanceof XDomainRequest,n=a&&a.options&&a.options.Cn?"https:":"http:",r=e.location&&n!=e.location.protocol;if(f&&(!g||!r))return!0}catch(p){}return!1};f.tt=function(a){return f.Zm(a,!0)}})("undefined"!=typeof io?io.Transport:module.uc,"undefined"!=typeof io?io:module.parent.uc,this);(function(a,d){function e(a){d.Transport.xj.apply(this,
arguments)}a.v7=e;d.util.inherit(e,d.Transport.xj);e.prototype.name="htmlfile";e.prototype.get=function(){this.nl=new (window[["Active"].concat("Object").join("X")])("htmlfile");this.nl.open();this.nl.write("\x3chtml\x3e\x3c/html\x3e");this.nl.close();this.nl.parentWindow.ni=this;var a=this.nl.createElement("div");a.className="socketio";this.nl.body.appendChild(a);this.Ig=this.nl.createElement("iframe");a.appendChild(this.Ig);var c=this,a=d.util.query(this.xb.options.query,"t\x3d"+ +new Date);this.Ig.src=
this.Ws()+a;d.util.on(window,"unload",function(){c.yd()})};e.prototype.FF=function(a,c){a=a.replace(/\\\//g,"/");this.Ts(a);try{var d=c.getElementsByTagName("script")[0];d.parentNode.removeChild(d)}catch(e){}};e.prototype.yd=function(){if(this.Ig){try{this.Ig.src="about:blank"}catch(a){}this.nl=null;this.Ig.parentNode.removeChild(this.Ig);this.Ig=null;CollectGarbage()}};e.prototype.close=function(){this.yd();return d.Transport.xj.prototype.close.call(this)};e.Zm=function(a){if("undefined"!=typeof window&&
["Active"].concat("Object").join("X")in window)try{return new (window[["Active"].concat("Object").join("X")])("htmlfile")&&d.Transport.xj.Zm(a)}catch(c){}return!1};e.tt=function(){return!1};d.transports.push("htmlfile")})("undefined"!=typeof io?io.Transport:module.uc,"undefined"!=typeof io?io:module.parent.uc);(function(a,d,e){function f(){d.Transport.xj.apply(this,arguments)}function g(){}a["xhr-polling"]=f;d.util.inherit(f,d.Transport.xj);d.util.merge(f,d.Transport.xj);f.prototype.name="xhr-polling";
f.prototype.UI=function(){return!1};f.prototype.open=function(){d.Transport.xj.prototype.open.call(this);return!1};f.prototype.get=function(){function a(){4==this.readyState&&(this.onreadystatechange=g,200==this.status?(f.Ts(this.responseText),f.get()):f.ii())}function c(){this.onerror=this.onload=g;f.HD=1;f.Ts(this.responseText);f.get()}function d(){f.HD++;!f.HD||3<f.HD?f.ii():f.get()}if(this.Ks){var f=this;this.pi=this.request();e.XDomainRequest&&this.pi instanceof XDomainRequest?(this.pi.onload=
c,this.pi.onerror=d):this.pi.onreadystatechange=a;this.pi.send(null)}};f.prototype.ii=function(){d.Transport.xj.prototype.ii.call(this);if(this.pi){this.pi.onreadystatechange=this.pi.onload=this.pi.onerror=g;try{this.pi.abort()}catch(a){}this.pi=null}};f.prototype.sx=function(a,c){var e=this;d.util.defer(function(){c.call(e)})};d.transports.push("xhr-polling")})("undefined"!=typeof io?io.Transport:module.uc,"undefined"!=typeof io?io:module.parent.uc,this);(function(a,d,e){function f(a){d.Transport["xhr-polling"].apply(this,
arguments);this.index=d.j.length;var c=this;d.j.push(function(a){c.FF(a)})}var g=e.document&&"MozAppearance"in e.document.documentElement.style;a["jsonp-polling"]=f;d.util.inherit(f,d.Transport["xhr-polling"]);f.prototype.name="jsonp-polling";f.prototype.TJ=function(a){function c(){e();f.xb.mk(!1)}function e(){f.Ig&&f.form.removeChild(f.Ig);try{x=document.createElement('\x3ciframe name\x3d"'+f.PC+'"\x3e')}catch(a){x=document.createElement("iframe"),x.name=f.PC}x.id=f.PC;f.form.appendChild(x);f.Ig=
x}var f=this,g=d.util.query(this.xb.options.query,"t\x3d"+ +new Date+"\x26i\x3d"+this.index);if(!this.form){var r=document.createElement("form"),p=document.createElement("textarea"),u=this.PC="socketio_iframe_"+this.index,x;r.className="socketio";r.style.position="absolute";r.style.top="0px";r.style.left="0px";r.style.display="none";r.target=u;r.method="POST";r.setAttribute("accept-charset","utf-8");p.name="d";r.appendChild(p);document.body.appendChild(r);this.form=r;this.mR=p}this.form.action=this.Ws()+
g;e();this.mR.value=d.JSON.stringify(a);try{this.form.submit()}catch(z){}this.Ig.attachEvent?x.onreadystatechange=function(){"complete"==f.Ig.readyState&&c()}:this.Ig.onload=c;this.xb.mk(!0)};f.prototype.get=function(){var a=this,c=document.createElement("script"),e=d.util.query(this.xb.options.query,"t\x3d"+ +new Date+"\x26i\x3d"+this.index);this.mb&&(this.mb.parentNode.removeChild(this.mb),this.mb=null);c.async=!0;c.src=this.Ws()+e;c.onerror=function(){a.ii()};e=document.getElementsByTagName("script")[0];
e.parentNode.insertBefore(c,e);this.mb=c;g&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a);document.body.removeChild(a)},100)};f.prototype.FF=function(a){this.Ts(a);this.Ks&&this.get();return this};f.prototype.sx=function(a,c){var e=this;if(!g)return c.call(this);d.util.load(function(){c.call(e)})};f.Zm=function(){return"document"in e};f.tt=function(){return!0};d.transports.push("jsonp-polling")})("undefined"!=typeof io?io.Transport:module.uc,"undefined"!=
typeof io?io:module.parent.uc,this);"function"===typeof define&&define.T1&&define([],function(){return io})})();q=q||{};function ca(){return arguments.callee.name||arguments.callee.toString().match(/^function ([^(]+)/)[1]}ca.id=0|998*Math.random();ca.hU=0|998*Math.random();
ca.RH=function(a,c,d){for(var e=a.toString(),f=e.indexOf("("),g=e.indexOf(")"),f=e.substring(f+1,g),f=f.trim(),g=e.indexOf("{"),e=e.substring(g+1,e.lastIndexOf("}"));-1!=e.indexOf("this._super");)var g=e.indexOf("this._super"),h=e.indexOf("(",g),k=e.indexOf(")",h),k=e.substring(h+1,k),k=(k=k.trim())?",":"",l=arguments.callee.ZL(),e=e.substring(0,g)+l+"["+d+"]."+c+".call(this"+k+e.substring(h+1);return Function(f,e)};ca.RH.ZL=ca;ca.YS=function(){return this.id++};ca.ZS=function(){return this.hU++};
(function(){var a=/\b_super\b/,c=document.ccConfig&&document.ccConfig.CLASS_RELEASE_MODE?document.ccConfig.CLASS_RELEASE_MODE:null;c&&console.log("release Mode");q.Ea=function(){};q.Ea.extend=function(d){function e(){this.bc=ca.ZS();this.ctor&&this.ctor.apply(this,arguments)}var f=this.prototype,g=Object.create(f),h=ca.YS();ca[h]=f;var k={writable:!0,enumerable:!1,configurable:!0},l;for(l in d)c&&"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=ca.RH(d[l],l,h),Object.defineProperty(g,
l,k)):"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=function(a,c){return function(){var d=this._super;this._super=f[a];var e=c.apply(this,arguments);this._super=d;return e}}(l,d[l]),Object.defineProperty(g,l,k)):"function"==typeof d[l]?(k.value=d[l],Object.defineProperty(g,l,k)):g[l]=d[l];g.bc=null;e.id=h;k.value=h;Object.defineProperty(g,"__pid",k);e.prototype=g;k.value=e;Object.defineProperty(e.prototype,"constructor",k);e.extend=arguments.callee;e.x7=function(a){for(var c in a)g[c]=
a[c]};return e};Function.prototype.bind=Function.prototype.bind||function(a){var c=this;return function(){var f=Array.prototype.slice.call(arguments);return c.apply(a||null,f)}}})();q.z7=function(a,c){function d(){}d.prototype=c.prototype;a.dy=c.prototype;a.prototype=new d;a.prototype.constructor=a};
q.pR=function(a,c,d){var e=arguments.callee.caller;if(e.dy)return ret=e.dy.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var f=Array.prototype.slice.call(arguments,2),g=!1,h=a.constructor;h;h=h.dy&&h.dy.constructor)if(h.prototype[c]===e)g=!0;else if(g)return h.prototype[c].apply(a,f);if(a[c]===e)return a.constructor.prototype[c].apply(a,f);throw Error("cc.base called from a method of one name to a method of a different name");};
q.F2=function(a,c){a||(a={});for(var d in c)a[d]=c[d];return a};q.Wg=function(a,c){this.x=a||0;this.y=c||0};q.GF=function(a,c){this.F=a||0;this.H=c||0;this.dL=function(a){this.F=a};this.eL=function(a){this.H=a}};q.vd=function(){return new q.GF(0,0)};
Object.defineProperties(q.GF.prototype,{x:{get:function(){return this.F},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0},y:{get:function(){return this.H},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0}});q.y_=function(a,c){q.log("cc.PointMake will be deprecated sooner or later. Use cc.p instead.");return new q.Wg(a,c)};
q.a=function(a,c){return{x:a,y:c}};q.i1=q.a;q.tj=function(){return q.a(0,0)};q.QJ=function(a,c){return a&&c?a.x===c.x&&a.y===c.y:!1};q.Ck=function(a,c){this.width=a||0;this.height=c||0};q.HF=function(a,c){this.Ha=a||0;this.ta=c||0;this.bE=function(a){this.Ha=a};this.QD=function(a){this.ta=a}};q.Em=function(){return new q.HF(0,0)};
Object.defineProperties(q.HF.prototype,{width:{get:function(){return this.Ha},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0},height:{get:function(){return this.ta},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0}});q.c0=function(a,c){q.log("cc.SizeMake will be deprecated sooner or later. Use cc.size instead.");return q.size(a,c)};
q.size=function(a,c){return{width:a,height:c}};q.bb=q.size;q.am=function(){return q.size(0,0)};q.wH={lV:q.vd(),$X:q.Em()};Object.defineProperties(q,{YM:{get:function(){return q.wH.lV}},hN:{get:function(){return q.wH.$X}},D_:{get:function(){return q.rect(0,0,0,0)}}});q.ZX=function(a,c){return a&&c?a.width==c.width&&a.height==c.height:!1};
q.og=function(a,c,d,e){var f=arguments.length;if(4===f)this.kd=new q.Wg(a||0,c||0),this.bb=new q.Ck(d||0,e||0);else if(1===f)this.kd=new q.Wg(a.kd.x,a.kd.y),this.bb=new q.Ck(a.bb.width,a.bb.height);else if(0===f)this.kd=new q.Wg(0,0),this.bb=new q.Ck(0,0);else if(2===f)this.kd=new q.Wg(a.x,a.y),this.bb=new q.Ck(c.width,c.height);else throw"unknown argument type";};q.K_=function(a,c,d,e){q.log("cc.RectMake will be deprecated sooner or later. Use cc.rect instead.");return q.rect(a,c,d,e)};
q.rect=function(a,c,d,e){var f=arguments.length;if(0===f)return new q.og(0,0,0,0);if(1===f)return new q.og(a.x,a.y,a.width,a.height);if(2===f)return new q.og(a.x,a.y,c.width,c.height);if(4===f)return new q.og(a,c,d,e);throw"unknown argument type";};q.za=q.rect;q.gd=function(){return q.rect(0,0,0,0)};q.aK=function(a,c){return a&&c?q.QJ(a.kd,c.kd)&&q.ZX(a.bb,c.bb):!1};q.Jr=function(a){return a?0===a.x&&0===a.y&&0===a.width&&0===a.height:!1};
q.x$=function(a,c){return a&&c?!(a.x>=c.x||a.y>=c.y||a.x+a.width<=c.x+c.width||a.y+a.height<=c.y+c.height):!1};q.vn=function(a){return a.x+a.width};q.y$=function(a){return a.x+a.width/2};q.El=function(a){return a.x};q.wn=function(a){return a.y+a.height};q.z$=function(a){return a.y+a.height/2};q.Fl=function(a){return a.y};q.ab=function(a,c){return c.x>=q.El(a)&&c.x<=q.vn(a)&&c.y>=q.Fl(a)&&c.y<=q.wn(a)};q.CV=function(a,c){return!(q.vn(a)<q.El(c)||q.vn(c)<q.El(a)||q.wn(a)<q.Fl(c)||q.wn(c)<q.Fl(a))};
q.A$=function(a,c){return!(a.x+a.width<c.x||c.x+c.width<a.x||a.y+a.height<c.y||c.y+c.height<a.y)};q.wx=function(a,c){var d=q.rect(0,0,0,0);d.x=Math.min(a.x,c.x);d.y=Math.min(a.y,c.y);d.width=Math.max(a.x+a.width,c.x+c.width)-d.x;d.height=Math.max(a.y+a.height,c.y+c.height)-d.y;return d};q.BV=function(a,c){var d=q.rect(Math.max(q.El(a),q.El(c)),Math.max(q.Fl(a),q.Fl(c)),0,0);d.width=Math.min(q.vn(a),q.vn(c))-q.El(d);d.height=Math.min(q.wn(a),q.wn(c))-q.Fl(d);return d};b=q.og.prototype;
b.dL=function(a){this.kd.x=a};b.eL=function(a){this.kd.y=a};b.Fs=function(){return this.bb.width};b.bE=function(a){this.bb.width=a};b.zs=function(){return this.bb.height};b.QD=function(a){this.bb.height=a};
Object.defineProperties(q.og.prototype,{x:{get:function(){return this.kd.x},set:function(a){this.dL(a)},enumerable:!0,configurable:!0},y:{get:function(){return this.kd.y},set:function(a){this.eL(a)},enumerable:!0,configurable:!0},width:{get:function(){return this.Fs()},set:function(a){this.bE(a)},enumerable:!0,configurable:!0},height:{get:function(){return this.zs()},set:function(a){this.QD(a)},enumerable:!0,configurable:!0}});var s=s||{};try{s.localStorage=window.localStorage,window.localStorage.setItem("storage",""),window.localStorage.removeItem("storage")}catch(da){"SECURITY_ERR"!==da.name&&"QuotaExceededError"!==da.name||console.log("Warning: localStorage isn't enabled. Please confirm browser cookie or privacy option"),s.localStorage=function(){}}
Object.defineProperties(s,{r2:{get:function(){var a={canvas:!0};q.Ga.Qc&&(a.opengl=!0);"ontouchstart"in document.documentElement||window.navigator.msPointerEnabled?a.touches=!0:"onmouseup"in document.documentElement&&(a.mouse=!0);"onkeyup"in document.documentElement&&(a.keyboard=!0);if(window.DeviceMotionEvent||window.DeviceOrientationEvent)a.accelerometer=!0;return a},enumerable:!0,configurable:!0},F9:{get:function(){var a=navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?!0:!1,c=navigator.userAgent.match(/android/i)||
navigator.platform.match(/android/i)?!0:!1,d=navigator.appVersion;-1!=navigator.appVersion.indexOf("Win")?d="Windows":-1!=navigator.appVersion.indexOf("Mac")?d="OS X":-1!=navigator.appVersion.indexOf("X11")?d="UNIX":-1!=navigator.appVersion.indexOf("Linux")?d="Linux":a?d="iOS":c&&(d="Android");return d},enumerable:!0,configurable:!0},platform:{get:function(){return"browser"},enumerable:!0,configurable:!0},version:{get:function(){return q.Bt},enumerable:!0,configurable:!0}});s.L3=function(){};
s.f3=function(){};s.$$=function(){};q.Bt="Cocos2d-html5-v2.2.2";q.Vt=0;q.PE=q.a(0,0);q.dM=0.5;q.dZ=1;q.iN=1;q.VM=0;q.xF=0;q.e0=0;q.f0=0;q.G_=1;q.F_="-hd";q.xN=1;q.Bk=0;q.$_=0;q.a_=0;q.$Z=0;q.Ky=1;q.nZ=q.Bt+"-canvas";q.Aw={platform:s.platform};q.e3=function(){for(var a in s)q.log(a+" \x3d "+s[a])};q.At=1;q.RE=1;q.SH=function(a,c){for(var d=["webgl","experimental-webgl","webkit-3d","moz-webgl"],e=null,f=0;f<d.length;++f){try{e=a.getContext(d[f],c)}catch(g){}if(e)break}return e};q.Ga={};q.Ga.AY=["baidubrowser","opera","firefox","chrome","safari"];
(function(){q.Ga.ua=navigator.userAgent.toLowerCase();q.Ga.platform=navigator.platform.toLowerCase();q.Ga.ik=-1!=q.Ga.ua.indexOf("mobile")||-1!=q.Ga.ua.indexOf("android");q.Ga.type=function(){var a=q.Ga.ua.match(/micromessenger|qqbrowser|mqqbrowser|ucbrowser|360browser|baidubrowser|maxthon|ie|opera|firefox/)||q.Ga.ua.match(/chrome|safari/);return a&&0<a.length?(a=a[0],"micromessenger"==a?"wechat":a):"unknow"}();q.Ga.mode="ie"==q.Ga.type&&document.documentMode;document.ccConfig||(document.ccConfig=
{});q.OB=parseInt(document.ccConfig.renderMode)||0;var a=-1==q.Ga.AY.indexOf(q.Ga.type);1===q.OB||0===q.OB&&(q.Ga.ik||a)?q.Ga.Qc=!1:(q.Ga.Qc=null!=window.y0,a=document.createElement("Canvas"),a=q.SH(a,{stencil:!0,preserveDrawingBuffer:!0}),q.Ga.Qc=null!=a);2!==q.OB||q.Ga.Qc||(q.uz=!0);var a=q.Ga,c;try{c=new (window.AudioContext||window.webkitAudioContext||window.mozAudioContext)?!0:!1}catch(d){c=!1}a.Jca=c;q.Ga.C9=function(a){if(this.ik){var c=q.Y.e().Qb,d=c.width+"px",c=c.height+"px",h=q.wk("div");
h.style.backgroundColor="#ffffff";h.style.width=d;h.style.height=c;h.style.DY=1E3;h.style.position="absolute";h.style.top="0px";h.style.left="0px";h.id="cocos2d-browser";var k=q.wk("iframe");k.src=a;k.style.width=d;k.style.height=c;k.setAttribute("frameborder","no");k.setAttribute("scrolling","no");h.appendChild(k);k.onload=function(){var a=document.createElement("img");a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5OERBMEM3OUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5OERBMEM3QUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjk4REEwQzc3RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjk4REEwQzc4RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+NwBuoAAAA/tJREFUeNrEWF0sW3EUb6+28zFhbGadsBaNhazV+kpDYhFWKRGWbHvwFV5IvPiIFw9evElEPEiWSUgsIWoIglhmUomPxj6aKC0zKVJjtPU5o9j5J7dLdbf33jKc5Jfc3v+v5/+755x7/j1lMoiNBRDh4AO88HvO2m+ACbAC+AJQAyz2JCbBFyMBWQA/xv+3DUAXLuivudhcY4BMwCuAB+NqDPmNAnAAOsCZvQgk4BnjeiwEwAbM2YoQA14yrteQEANgDcML7gXjZgw9OAuJkADu3JAIb7Q/hr+GtCwuLs6LDq+iooLvhBAREhFEl11ZWRne0tIiIeNIpVKv4uJi4dTUVApNt0EY3ohILSIiwqO7u1sql8vD8vLyJJ2dnXH2HDabzczPz3/Y1taWzOfz78XExDxSq9Vyd3d3jMK9F2pWr6lEtLa2RmVnZ4tt7w0NDWlTU1OVtkK7urqSQ0NDzzW5hYWFjcTExAGDwXDkyD+VSkZ7e3tsWlpamP19mUwWplQqk9B1UlKST3NzczxE4K49D4mCiDwn24PyPMjIyHjs6urKIVpLSEgInp6eZsM6Kzw8nEvEMZvNBxC1BbI9KCMhkUgUy8vLRpL1QIFA4EcSyZmcnJzpS4mYnZ3dj46O7p2fn193xIGi/CeiFovlFIp5pqGhYZ5qD1qFiQxCjk1OTsqEQmEAFReloL+/X0sVAadFWE2n02VA+O+TcVZXV01QkO8ODw9P6fjEnO2zvb2936g4XC7XG4rWm65P2iL8/f05kN8nBQUFQkqnGMYcGBjIys3N5dLxjY7ydDrE6urqsNLSUqmbmxuH1tOBkMzMTIHRaNxSqVTmS4soKyvjFRUViTw9PV2dTR901WAOh7M/MjKyeeHCbGpqEhcWFkY5Wl9aWtpUKBRaONziSbsii/Xm5OTk7EIdU6/X7zpaW1xc/Al5HxkfH9/e2dk5rqmpeUrE6+vr06ADzpEIlI5kMjFwPhh5PB5DJBKdK7KDg4Oj2tpaVUdHxw/0eWxszIjyj8Jvy4N60FdVVX2Grnt4dkaowYJESAG3yaLR09Oz5uvrexwbGxuAR2erpKTkI6RqxW5DM6RnLT09PQQV5vDwsDYlJWUU+I4EIDMhEQLAA6q0DA4OrqMCg/c/qL6+XtXY2Kgn4sGJuavRaFbFYrFPeXn5FIj6ReFa64KnIpJOpaMK39vbM9XV1X13lF9kc3Nz+xMTEwZo89s03A4ycRE1N/RjF/WPKgyfDRU39Gu7w1qYyNYAtwDB1yhgGPDBfgzU4bMi7xoEjAI6iWZRdGMGH80Cr2goRlP5W8B7qwBHfw1YO6kEH4yC8EnJ5QKbnuDFh17nr4BPRP9P/BFgAHo7ZNgI9EbHAAAAAElFTkSuQmCC";
h.appendChild(a);a.style.DY=1E3;a.style.position="absolute";a.style.bottom="10px";a.style.right="10px";a.onclick=function(){h.remove()}};(a=document.getElementById(document.ccConfig.tag).parentNode)&&a.appendChild(h)}else window.open(a)}})();q.L_=function(){return"undefined"===q.uz?!1:q.uz};
q.Nb=function(a){var c=this==q?document:this;if(a=a instanceof HTMLElement?a:c.querySelector(a))a.find=a.find||q.Nb,a.KC=a.KC||function(a){return this.className.match(RegExp("(\\s|^)"+a+"(\\s|$)"))},a.CH=a.CH||function(a){this.KC(a)||(this.className&&(this.className+=" "),this.className+=a);return this},a.TV=a.TV||function(a){this.KC(a)&&(this.className=this.className.replace(a,""));return this},a.remove=a.remove||function(){this.parentNode&&this.parentNode.removeChild(this);return this},a.Xm=a.Xm||
function(a){a.appendChild(this);return this},a.vV=a.vV||function(a){a.childNodes[0]?a.insertBefore(this,a.childNodes[0]):a.appendChild(this);return this},a.Mn=a.Mn||function(){this.style[q.Nb.oY]=q.Nb.translate(this.position)+q.Nb.rotate(this.rotation)+q.Nb.scale(this.scale)+q.Nb.Kl(this.Kl);return this},a.position=a.position||{x:0,y:0},a.rotation=a.rotation||0,a.scale=a.scale||{x:1,y:1},a.Kl=a.Kl||{x:0,y:0},a.jE=function(a,c){this.position.x=a;this.position.y=c;this.Mn()},a.rotate=function(a){this.rotation=
a;this.Mn();return this},a.resize=function(a,c){this.scale.x=a;this.scale.y=c;this.Mn();return this},a.VK=function(a,c){this.Kl.x=a;this.Kl.y=c;this.Mn()};return a};switch(q.Ga.type){case "firefox":q.Nb.Yp="Moz";q.Nb.Ip=!0;break;case "chrome":case "safari":q.Nb.Yp="webkit";q.Nb.Ip=!0;break;case "opera":q.Nb.Yp="O";q.Nb.Ip=!1;break;case "ie":q.Nb.Yp="ms";q.Nb.Ip=!1;break;default:q.Nb.Yp="webkit",q.Nb.Ip=!0}q.Nb.oY=q.Nb.Yp+"Transform";
q.Nb.translate=q.Nb.Ip?function(a){return"translate3d("+a.x+"px, "+a.y+"px, 0) "}:function(a){return"translate("+a.x+"px, "+a.y+"px) "};q.Nb.rotate=q.Nb.Ip?function(a){return"rotateZ("+a+"deg) "}:function(a){return"rotate("+a+"deg) "};q.Nb.scale=function(a){return"scale("+a.x+", "+a.y+") "};q.Nb.Kl=function(a){return"skewX("+-a.x+"deg) skewY("+a.y+"deg)"};q.wk=function(a){return q.Nb(document.createElement(a))};
q.Nb.E3=function(a){var c=0,d=0;do c+=a.offsetLeft,d+=a.offsetTop;while(a=a.offsetParent);return{x:c,y:d}};q.G=function(a){var c=a.constructor?new a.constructor:{},d;for(d in a){var e=a[d];c[d]="object"!=typeof e||!e||e instanceof q.D||e instanceof HTMLElement?e:q.G(e)}return c};q.Y1=function(){};q.UE=q.UE||!1;
q.hP=function(a){var c=document.getElementById("logInfoList");if(!c){var d=document.createElement("Div");d.setAttribute("id","logInfoDiv");q.canvas.parentNode.appendChild(d);d.setAttribute("width","200");d.setAttribute("height",q.canvas.height);d.style.zIndex="99999";d.style.position="absolute";d.style.top="0";d.style.left="0";c=document.createElement("ul");d.appendChild(c);c.setAttribute("id","logInfoList");c.style.height=q.canvas.height+"px";c.style.color="#fff";c.style.textAlign="left";c.style.listStyle=
"disc outside";c.style.fontSize="12px";c.style.fontFamily="arial";c.style.padding="0 0 0 20px";c.style.margin="0";c.style.textShadow="0 0 3px #000";c.style.zIndex="99998";c.style.position="absolute";c.style.top="0";c.style.left="0";c.style.overflowY="hidden";var e=document.createElement("Div");d.appendChild(e);e.style.width="200px";e.style.height=q.canvas.height+"px";e.style.opacity="0.1";e.style.background="#fff";e.style.border="1px solid #dfdfdf";e.style.borderRadius="8px"}d=document.createElement("li");
d.innerHTML=a;0==c.childNodes.length?c.appendChild(d):c.insertBefore(d,c.childNodes[0])};q.log=function(a){q.UE?q.hP(a):console.log.apply(console,arguments)};q.g_=function(a){console.log(a)};q.wt=function(a,c){console.assert?console.assert(a,c):a||c&&alert(c)};q.UT=function(){0==q.yt?(q.log=function(){},q.xJ=function(){},q.wJ=function(){},q.wt=function(){}):1==q.yt?(q.xJ=q.log,q.wJ=function(){}):1<q.yt&&(q.xJ=q.log,q.wJ=q.log)};q.BM=0;q.AM=1;q.CM=2;q.FM=3;q.DM=4;q.MM=5;q.LM=6;q.HM=7;q.GM=8;q.EM=9;
q.KM=10;q.zM=11;q.IM=12;q.JM=13;
q.xM={a2:8,Vca:9,wS:13,shift:16,O2:17,alt:18,pause:19,s2:20,escape:27,c$:33,b$:34,end:35,home:36,left:37,qda:38,right:39,Z2:40,E7:45,uZ:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,I:65,g:66,Ca:67,La:68,g3:69,Lw:70,o:71,ye:72,w7:73,j:74,H8:75,Q8:76,d9:77,BJ:78,y9:79,a:80,q$:81,p:82,ni:83,Uca:84,Pa:85,ma:86,KL:87,x:88,y:89,z:90,m9:96,n9:97,o9:98,p9:99,q9:100,r9:101,s9:102,t9:103,u9:104,v9:105,"*":106,"+":107,"-":109,numdel:110,"/":111,r3:112,v3:113,w3:114,x3:115,y3:116,z3:117,A3:118,B3:119,
C3:120,s3:121,t3:122,u3:123,x9:144,faa:145,iaa:186,",":186,k3:187,"\x3d":187,";":188,E2:188,Q2:189,".":190,g$:190,J3:191,p7:192,"[":219,D9:219,"]":221,D2:221,Z1:220,quote:222,Aca:32};q.ti=-1;q.PI=Math.PI;q.oM=parseFloat("3.402823466e+38F");q.eN=q.PI/180;q.cM=180/q.PI;q.wN=4294967295;q.a0=function(a,c,d){if("object"==typeof d&&"undefined"!=typeof d.x&&"undefined"!=typeof d.y){var e=d[a];d[a]=d[c];d[c]=e}else q.log("cc.SWAP is being modified from original macro, please check usage")};q.S8=function(a,c,d){return a+(c-a)*d};q.C_=function(){return 2*(Math.random()-0.5)};q.B_=function(){return Math.random()};q.rj=function(a){return a*q.eN};q.Wy=function(a){return a*q.cM};
q.$l=Number.MAX_VALUE-1;q.Ie=q.VM?1:770;q.He=771;q.Qy=function(a){a.Ic&&(a.Ic.nf(),a.Ic.Rg())};q.GZ=function(){};q.tZ=function(){};q.Eh=function(){q.ci+=1};q.Wt=1.192092896E-7;q.Gd=q.Ky?function(){return q.Y.e().km}:function(){return 1};q.XM=function(a){var c=q.Gd();return q.a(a.x*c,a.y*c)};q.C0=function(a,c){var d=q.Gd();c.F=a.x*d;c.H=a.y*d};q.az=function(a){var c=q.Gd();return q.size(a.width*c,a.height*c)};q.Y_=function(a){var c=q.Gd();return q.size(a.width/c,a.height/c)};
q.rz=function(a,c){var d=q.Gd();c.Ha=a.width/d;c.ta=a.height/d};q.w_=function(a){var c=q.Gd();return q.a(a.x/c,a.y/c)};q.Fu=function(a,c){var d=q.Gd();c.F=a.x/d;c.H=a.y/d};q.tq=q.Ky?function(a){var c=q.Gd();return q.rect(a.x/c,a.y/c,a.width/c,a.height/c)}:function(a){return a};q.Yn=q.Ky?function(a){var c=q.Gd();return q.rect(a.x*c,a.y*c,a.width*c,a.height*c)}:function(a){return a};q.AE=function(){if(q.X$==q.Dk){var a=q.W.getError();a&&q.log("WebGL error "+a)}};q.Q_=0;q.P_=1;q.N_=2;q.O_=3;q.R_=4;q.S_=5;q.M_=6;var Uint8Array=Uint8Array||Array;
if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){var ea=document.createElement("script");ea.type="text/vbscript";ea.textContent='\x3c!-- IEBinaryToArray_ByteStr --\x3e\r\nFunction IEBinaryToArray_ByteStr(Binary)\r\n   IEBinaryToArray_ByteStr \x3d CStr(Binary)\r\nEnd Function\r\nFunction IEBinaryToArray_ByteStr_Last(Binary)\r\n   Dim lastIndex\r\n   lastIndex \x3d LenB(Binary)\r\n   if lastIndex mod 2 Then\r\n       IEBinaryToArray_ByteStr_Last \x3d Chr( AscB( MidB( Binary, lastIndex, 1 ) ) )\r\n   Else\r\n       IEBinaryToArray_ByteStr_Last \x3d ""\r\n   End If\r\nEnd Function\r\n';document.body.appendChild(ea);
q.ZF=function(a){for(var c={},d=0;256>d;d++)for(var e=0;256>e;e++)c[String.fromCharCode(d+256*e)]=String.fromCharCode(d)+String.fromCharCode(e);d=IEBinaryToArray_ByteStr(a);a=IEBinaryToArray_ByteStr_Last(a);return d.replace(/[\s\S]/g,function(a){return c[a]})+a}}
q.Hd=q.Ea.extend({Ej:null,fl:null,xO:null,lA:null,Yo:null,Sh:null,Vq:"",ctor:function(){this.Ej={};this.fl={};this.Sh=[];this.Sh.push(this.Vq);this.Yo=[];this.Yo.push("")},n$:function(){this.Sh=[]},c4:function(a){a=this.pe(a);return this.Ej.hasOwnProperty(a)?this.Ej[a]:this.eP(a)},kv:function(){return window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP")},pY:function(a){this.Ej.hasOwnProperty(a)&&delete this.Ej[a]},rV:function(a){a=this.pe(a);var c=this,d=this.kv();d.open("GET",
a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","x-user-defined"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=q.ZF(d.responseBody);e&&(c.Ej[a]=c.Yv(e))}else q.Yb.e().pn(a);q.Yb.e().li()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dx-user-defined"),d.onload=function(){var e=d.responseText;e?c.Ej[a]=c.Yv(e):q.Yb.e().pn(a);q.Yb.e().li()});d.send(null)},eP:function(a){var c=this.kv();
c.open("GET",a,!1);var d=null;if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){c.setRequestHeader("Accept-Charset","x-user-defined");c.send(null);if(200!=c.status)return null;if(c=q.ZF(c.responseBody))d=this.Yv(c),this.Ej[a]=d}else{c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dx-user-defined");c.send(null);if(200!=c.status)return null;d=this.Yv(c.responseText);this.Ej[a]=d}return d},Yv:function(a){if(!a)return null;for(var c=new Uint8Array(a.length),d=0;d<
a.length;d++)c[d]=a.charCodeAt(d)&255;return c},rY:function(a){a=this.pe(a);this.fl.hasOwnProperty(a)&&delete this.fl[a]},tV:function(a){a=this.pe(a);var c=this,d=this.kv();d.open("GET",a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","utf-8"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=d.responseText;e&&(c.fl[a]=e)}else q.Yb.e().pn(a);q.Yb.e().li()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dutf-8"),
d.onload=function(){d.responseText?c.fl[a]=d.responseText:q.Yb.e().pn(a);q.Yb.e().li()});d.send(null)},gP:function(a){var c=this.kv();c.open("GET",a,!1);var d=null;/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?c.setRequestHeader("Accept-Charset","utf-8"):c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dutf-8");c.send(null);if(200!=c.status)return null;(d=c.responseText)&&(this.fl[a]=d);return d},FI:function(a){a=this.pe(a);return this.fl.hasOwnProperty(a)?this.fl[a]:
this.gP(a)},J4:function(){},U$:function(){},RJ:!0,K3:function(a){return a},pe:function(a){var c=!1;a=this.IO(a);for(var d,e=0;e<this.Sh.length;e++){for(var f=this.Sh[e],g=0;g<this.Yo.length;g++)if(d=this.JO(a,this.Yo[g],f)){c=!0;break}if(c)break}return c?d:a},X8:function(a){var c=this.pe(a);if(0<c.length){var c=q.Ak.e().parse(c),d=parseInt(c.metadata.version);1!=d?q.log("cocos2d: ERROR: Invalid filenameLookup dictionary version: "+d+". Filename: "+a):this.SW(c.filenames)}},SW:function(a){this.lA=
a},uI:function(a,c){var d;if(a)return d=c.substring(0,c.lastIndexOf("/")+1),d+a;d=c.substring(0,c.lastIndexOf("."));return d+".png"},Pba:function(a){this.Yo=a},r6:function(){return this.Yo},Oba:function(a){this.Sh=a},p6:function(){return this.Sh},i6:function(){return this.xO},Jba:function(){},U2:function(a){q.log("dictionaryWithContentsOfFile is deprecated. Use createDictionaryWithContentsOfFile instead");return this.SR(a)},SR:function(a){return q.Ak.e().parse(a)},G6:function(a){return this.FI(a)},
Ew:function(a){return q.Ak.e().parse(a)},j7:function(){return""},zba:function(a){q.RJ=a},l8:function(){return q.RJ},hB:"",j6:function(){return this.hB},Kba:function(a){this.hB=a},IO:function(a){var c=null;(c=this.lA?this.lA[a]:null)&&0!==c.length?q.log("FOUND NEW FILE NAME: "+c):c=a;return c},JO:function(a,c,d){var e;e=this.hB;a&&0<a.length&&(0===a.indexOf("/")||0===a.indexOf("\\"))?e="":0<e.length&&"\\"!=e[e.length-1]&&"/"!=e[e.length-1]&&(e+="/");var f=a,g="",h=a.lastIndexOf("/");-1!=h&&(g=a.substr(0,
h+1),f=a.substr(h+1));a=d;0<a.length&&a.lastIndexOf("/")!==a.length-1&&(a+="/");a=a+g+c;0<a.length&&a.lastIndexOf("/")!==a.length-1&&(a+="/");a+=f;return e+=a},W0:function(){},UK:function(a){var c=!1;this.Sh=[];for(var d=0;d<a.length;d++){var e=a[d],f;this.jJ(e)||(f=this.Vq);e=f+e;0<e.length&&"/"!=e[e.length-1]&&(e+="/");c||e!=this.Vq||(c=!0);this.Sh.push(e)}c||this.Sh.push(this.Vq)},I1:function(a){var c;this.jJ(a)||(c=this.Vq);a=c+a;0<a.length&&"/"!=a[a.length-1]&&(a+="/");this.Sh.push(a)},q6:function(){},
jJ:function(a){return"/"==a[0]}});q.JD=null;q.Hd.e=function(){null==q.JD&&(q.JD=new q.Hd);return q.JD};q.Cc=function(a,c,d){switch(arguments.length){case 0:this.g=this.o=this.p=0;break;case 1:a&&a instanceof q.Cc?(this.p=0|a.p||0,this.o=0|a.o||0,this.g=0|a.g||0):this.g=this.o=this.p=0;break;case 3:this.p=0|a||0;this.o=0|c||0;this.g=0|d||0;break;default:throw"unknown argument type";}};q.k=function(a,c,d){return new q.Cc(a,c,d)};q.I7=function(a){a=a||0;var c=new q.Cc;c.p=a&255;c.o=a>>8&255;c.g=a>>16&255;return c};q.xw=q.k;q.l2=function(a,c){return a.p===c.p&&a.o===c.o&&a.g===c.g};
Object.defineProperties(q,{w0:{get:function(){return q.k(255,255,255)}},z0:{get:function(){return q.k(255,255,0)}},aZ:{get:function(){return q.k(0,0,255)}},PZ:{get:function(){return q.k(0,255,0)}},E_:{get:function(){return q.k(255,0,0)}},d_:{get:function(){return q.k(255,0,255)}},ZY:{get:function(){return q.k(0,0,0)}},n_:{get:function(){return q.k(255,127,0)}},OZ:{get:function(){return q.k(166,166,166)}}});q.yb=function(){return new q.Cc(255,255,255)};q.Lda=function(){return new q.Cc(255,255,0)};
q.blue=function(){return new q.Cc(0,0,255)};q.green=function(){return new q.Cc(0,255,0)};q.red=function(){return new q.Cc(255,0,0)};q.e9=function(){return new q.Cc(255,0,255)};q.c2=function(){return new q.Cc(0,0,0)};q.E9=function(){return new q.Cc(255,127,0)};q.Gp=function(){return new q.Cc(166,166,166)};q.Ob=function(a,c,d,e){this.p=0|a;this.o=0|c;this.g=0|d;this.I=0|e};q.h=function(a,c,d,e){return new q.Ob(a,c,d,e)};q.dC=q.h;q.Wd=function(a,c,d,e){this.p=a;this.o=c;this.g=d;this.I=e};
q.yw=function(a,c,d,e){return new q.Wd(a,c,d,e)};q.o2=function(a){return new q.Wd(a.p/255,a.o/255,a.g/255,1)};q.p2=function(a){return new q.Wd(a.p/255,a.o/255,a.g/255,a.I/255)};q.m2=function(a){return new q.Ob(0|255*a.p,0|255*a.o,0|255*a.g,0|255*a.I)};q.n2=function(a,c){return a.p==c.p&&a.o==c.o&&a.g==c.g&&a.I==c.I};q.Bb=function(a,c){this.x=a||0;this.y=c||0};q.Eu=function(a,c){return new q.Bb(a,c)};q.Wc=function(a,c,d){this.x=a||0;this.y=c||0;this.z=d||0};
q.Cda=function(a,c,d){return new q.Wc(a,c,d)};q.xc=function(a,c){this.Pa=a||0;this.ma=c||0};q.ada=function(a,c){return new q.xc(a,c)};q.z_=function(a,c,d){a||new q.Bb(0,0);this.color=c||new q.Ob(0,0,0,0);this.size=d||0};q.hu=function(a,c,d,e){this.Sa=a||new q.Bb(0,0);this.Na=c||new q.Bb(0,0);this.Ka=d||new q.Bb(0,0);this.Ua=e||new q.Bb(0,0)};q.A_=function(a,c,d,e){this.Ka=a||new q.Wc(0,0,0);this.Ua=c||new q.Wc(0,0,0);this.Sa=d||new q.Wc(0,0,0);this.Na=e||new q.Wc(0,0,0)};
q.rM=function(a,c){this.x=a;this.y=c};q.o=function(a,c){return new q.rM(a,c)};q.Ub=function(a,c,d){this.s=a||new q.Bb(0,0);this.K=c||new q.Ob(0,0,0,0);this.C=d||new q.xc(0,0)};q.Bu=function(){this.s=new q.Bb(0,0);this.K=new q.Wd(0,0,0,0);this.C=new q.xc(0,0)};q.qc=function(a,c,d){this.s=a||new q.Wc(0,0,0);this.K=c||new q.Ob(0,0,0,0);this.C=d||new q.xc(0,0)};q.Ec=function(a,c,d){this.I=a||new q.Ub;this.g=c||new q.Ub;this.Ca=d||new q.Ub};
q.yN=function(){var a=new q.Ub(new q.Bb(0,0),new q.Ob(0,0,0,255),new q.xc(0,0)),c=new q.Ub(new q.Bb(0,0),new q.Ob(0,0,0,255),new q.xc(0,0)),d=new q.Ub(new q.Bb(0,0),new q.Ob(0,0,0,255),new q.xc(0,0)),e=new q.Ub(new q.Bb(0,0),new q.Ob(0,0,0,255),new q.xc(0,0));this.Ka=a||new q.Ub;this.Ua=c||new q.Ub;this.Sa=d||new q.Ub;this.Na=e||new q.Ub};q.r0=function(){return new q.yN};q.ac=function(a,c,d,e){this.Sa=a||new q.qc;this.Ka=c||new q.qc;this.Na=d||new q.qc;this.Ua=e||new q.qc};
q.pz=function(){return new q.ac(new q.qc(new q.Wc(0,0,0),new q.Ob(0,0,0,255),new q.xc(0,0)),new q.qc(new q.Wc(0,0,0),new q.Ob(0,0,0,255),new q.xc(0,0)),new q.qc(new q.Wc(0,0,0),new q.Ob(0,0,0,255),new q.xc(0,0)),new q.qc(new q.Wc(0,0,0),new q.Ob(0,0,0,255),new q.xc(0,0)))};
q.oz=function(a){return a?new q.ac(new q.qc(new q.Wc(a.Sa.s.x,a.Sa.s.y,a.Sa.s.z),new q.Ob(a.Sa.K.p,a.Sa.K.o,a.Sa.K.g,a.Sa.K.I),new q.xc(a.Sa.C.Pa,a.Sa.C.ma)),new q.qc(new q.Wc(a.Ka.s.x,a.Ka.s.y,a.Ka.s.z),new q.Ob(a.Ka.K.p,a.Ka.K.o,a.Ka.K.g,a.Ka.K.I),new q.xc(a.Ka.C.Pa,a.Ka.C.ma)),new q.qc(new q.Wc(a.Na.s.x,a.Na.s.y,a.Na.s.z),new q.Ob(a.Na.K.p,a.Na.K.o,a.Na.K.g,a.Na.K.I),new q.xc(a.Na.C.Pa,a.Na.C.ma)),new q.qc(new q.Wc(a.Ua.s.x,a.Ua.s.y,a.Ua.s.z),new q.Ob(a.Ua.K.p,a.Ua.K.o,a.Ua.K.g,a.Ua.K.I),new q.xc(a.Ua.C.Pa,
a.Ua.C.ma))):q.pz()};q.t0=function(a){if(!a)return[];for(var c=[],d=0;d<a.length;d++)c.push(q.oz(a[d]));return c};q.s0=function(a,c,d,e){this.Ka=a||new q.Bu;this.Ua=c||new q.Bu;this.Sa=d||new q.Bu;this.Na=e||new q.Bu};q.Wl=function(a,c){this.src=a;this.Gb=c};q.bZ=function(){return new q.Wl(1,0)};q.kl=function(a){var c=a.p.toString(16),d=a.o.toString(16),e=a.g.toString(16);return"#"+(16>a.p?"0"+c:c)+(16>a.o?"0"+d:d)+(16>a.g?"0"+e:e)};
q.Ga.Qc&&(q.Ob=function(a,c,d,e,f,g){this.Pb=f||new ArrayBuffer(q.Ob.BYTES_PER_ELEMENT);this.Jb=g||0;f=this.Pb;g=this.Jb;var h=Uint8Array.BYTES_PER_ELEMENT;this.ZA=new Uint8Array(f,g,1);this.sA=new Uint8Array(f,g+h,1);this.Ez=new Uint8Array(f,g+2*h,1);this.wz=new Uint8Array(f,g+3*h,1);this.ZA[0]=a||0;this.sA[0]=c||0;this.Ez[0]=d||0;this.wz[0]=e||0},q.Ob.BYTES_PER_ELEMENT=4,Object.defineProperties(q.Ob.prototype,{p:{get:function(){return this.ZA[0]},set:function(a){this.ZA[0]=a},enumerable:!0},o:{get:function(){return this.sA[0]},
set:function(a){this.sA[0]=a},enumerable:!0},g:{get:function(){return this.Ez[0]},set:function(a){this.Ez[0]=a},enumerable:!0},I:{get:function(){return this.wz[0]},set:function(a){this.wz[0]=a},enumerable:!0}}),q.Wd=function(a,c,d,e,f,g){this.Pb=f||new ArrayBuffer(q.Wd.BYTES_PER_ELEMENT);this.Jb=g||0;f=this.Pb;g=this.Jb;var h=Float32Array.BYTES_PER_ELEMENT;this.YA=new Float32Array(f,g,1);this.YA[0]=a||0;this.rA=new Float32Array(f,g+h,1);this.rA[0]=c||0;this.Dz=new Float32Array(f,g+2*h,1);this.Dz[0]=
d||0;this.vz=new Float32Array(f,g+3*h,1);this.vz[0]=e||0},q.Wd.BYTES_PER_ELEMENT=16,Object.defineProperties(q.Wd.prototype,{p:{get:function(){return this.YA[0]},set:function(a){this.YA[0]=a},enumerable:!0},o:{get:function(){return this.rA[0]},set:function(a){this.rA[0]=a},enumerable:!0},g:{get:function(){return this.Dz[0]},set:function(a){this.Dz[0]=a},enumerable:!0},I:{get:function(){return this.vz[0]},set:function(a){this.vz[0]=a},enumerable:!0}}),q.Bb=function(a,c,d,e){this.Pb=d||new ArrayBuffer(q.Bb.BYTES_PER_ELEMENT);
this.Jb=e||0;this.Tm=new Float32Array(this.Pb,this.Jb,1);this.Um=new Float32Array(this.Pb,this.Jb+4,1);this.Tm[0]=a||0;this.Um[0]=c||0},q.Bb.BYTES_PER_ELEMENT=8,Object.defineProperties(q.Bb.prototype,{x:{get:function(){return this.Tm[0]},set:function(a){this.Tm[0]=a},enumerable:!0},y:{get:function(){return this.Um[0]},set:function(a){this.Um[0]=a},enumerable:!0}}),q.Wc=function(a,c,d,e,f){this.Pb=e||new ArrayBuffer(q.Wc.BYTES_PER_ELEMENT);this.Jb=f||0;e=this.Pb;f=this.Jb;this.Tm=new Float32Array(e,
f,1);this.Tm[0]=a||0;this.Um=new Float32Array(e,f+Float32Array.BYTES_PER_ELEMENT,1);this.Um[0]=c||0;this.WB=new Float32Array(e,f+2*Float32Array.BYTES_PER_ELEMENT,1);this.WB[0]=d||0},q.Wc.BYTES_PER_ELEMENT=12,Object.defineProperties(q.Wc.prototype,{x:{get:function(){return this.Tm[0]},set:function(a){this.Tm[0]=a},enumerable:!0},y:{get:function(){return this.Um[0]},set:function(a){this.Um[0]=a},enumerable:!0},z:{get:function(){return this.WB[0]},set:function(a){this.WB[0]=a},enumerable:!0}}),q.xc=
function(a,c,d,e){this.Pb=d||new ArrayBuffer(q.xc.BYTES_PER_ELEMENT);this.Jb=e||0;this.HB=new Float32Array(this.Pb,this.Jb,1);this.PB=new Float32Array(this.Pb,this.Jb+4,1);this.HB[0]=a||0;this.PB[0]=c||0},q.xc.BYTES_PER_ELEMENT=8,Object.defineProperties(q.xc.prototype,{Pa:{get:function(){return this.HB[0]},set:function(a){this.HB[0]=a},enumerable:!0},ma:{get:function(){return this.PB[0]},set:function(a){this.PB[0]=a},enumerable:!0}}),q.hu=function(a,c,d,e,f,g){this.Pb=f||new ArrayBuffer(q.hu.BYTES_PER_ELEMENT);
this.Jb=g||0;f=this.Pb;g=q.Bb.BYTES_PER_ELEMENT;this.jp=a?new q.Bb(a.x,a.y,f,0):new q.Bb(0,0,f,0);this.lp=c?new q.Bb(c.x,c.y,f,g):new q.Bb(0,0,f,g);this.mo=d?new q.Bb(d.x,d.y,f,2*g):new q.Bb(0,0,f,2*g);this.oo=e?new q.Bb(e.x,e.y,f,3*g):new q.Bb(0,0,f,3*g)},q.hu.BYTES_PER_ELEMENT=32,Object.defineProperties(q.hu.prototype,{Sa:{get:function(){return this.jp},set:function(a){this.jp.x=a.x;this.jp.y=a.y},enumerable:!0},Na:{get:function(){return this.lp},set:function(a){this.lp.x=a.x;this.lp.y=a.y},enumerable:!0},
Ka:{get:function(){return this.mo},set:function(a){this.mo.x=a.x;this.mo.y=a.y},enumerable:!0},Ua:{get:function(){return this.oo},set:function(a){this.oo.x=a.x;this.oo.y=a.y},enumerable:!0}}),q.qc=function(a,c,d,e,f){this.Pb=e||new ArrayBuffer(q.qc.BYTES_PER_ELEMENT);this.Jb=f||0;e=this.Pb;f=this.Jb;var g=q.Wc.BYTES_PER_ELEMENT;this.np=a?new q.Wc(a.x,a.y,a.z,e,f):new q.Wc(0,0,0,e,f);this.Rq=c?new q.Ob(c.p,c.o,c.g,c.I,e,f+g):new q.Ob(0,0,0,0,e,f+g);this.Jm=d?new q.xc(d.Pa,d.ma,e,f+g+q.Ob.BYTES_PER_ELEMENT):
new q.xc(0,0,e,f+g+q.Ob.BYTES_PER_ELEMENT)},q.qc.BYTES_PER_ELEMENT=24,Object.defineProperties(q.qc.prototype,{s:{get:function(){return this.np},set:function(a){var c=this.np;c.x=a.x;c.y=a.y;c.z=a.z},enumerable:!0},K:{get:function(){return this.Rq},set:function(a){var c=this.Rq;c.p=a.p;c.o=a.o;c.g=a.g;c.I=a.I},enumerable:!0},C:{get:function(){return this.Jm},set:function(a){this.Jm.Pa=a.Pa;this.Jm.ma=a.ma},enumerable:!0}}),q.ac=function(a,c,d,e,f,g){this.Pb=f||new ArrayBuffer(q.ac.BYTES_PER_ELEMENT);
this.Jb=g||0;f=this.Pb;g=this.Jb;var h=q.qc.BYTES_PER_ELEMENT;this.jp=a?new q.qc(a.s,a.K,a.C,f,g):new q.qc(null,null,null,f,g);this.mo=c?new q.qc(c.s,c.K,c.C,f,g+h):new q.qc(null,null,null,f,g+h);this.lp=d?new q.qc(d.s,d.K,d.C,f,g+2*h):new q.qc(null,null,null,f,g+2*h);this.oo=e?new q.qc(e.s,e.K,e.C,f,g+3*h):new q.qc(null,null,null,f,g+3*h)},q.ac.BYTES_PER_ELEMENT=96,Object.defineProperties(q.ac.prototype,{Sa:{get:function(){return this.jp},set:function(a){var c=this.jp;c.s=a.s;c.K=a.K;c.C=a.C},enumerable:!0},
Ka:{get:function(){return this.mo},set:function(a){var c=this.mo;c.s=a.s;c.K=a.K;c.C=a.C},enumerable:!0},Na:{get:function(){return this.lp},set:function(a){var c=this.lp;c.s=a.s;c.K=a.K;c.C=a.C},enumerable:!0},Ua:{get:function(){return this.oo},set:function(a){var c=this.oo;c.s=a.s;c.K=a.K;c.C=a.C},enumerable:!0},ZB:{get:function(){return this.Pb},enumerable:!0}}),q.pz=function(){return new q.ac},q.oz=function(a){if(!a)return q.pz();var c=a.Sa,d=a.Ka,e=a.Na;a=a.Ua;return{Sa:{s:{x:c.s.x,y:c.s.y,z:c.s.z},
K:{p:c.K.p,o:c.K.o,g:c.K.g,I:c.K.I},C:{Pa:c.C.Pa,ma:c.C.ma}},Ka:{s:{x:d.s.x,y:d.s.y,z:d.s.z},K:{p:d.K.p,o:d.K.o,g:d.K.g,I:d.K.I},C:{Pa:d.C.Pa,ma:d.C.ma}},Na:{s:{x:e.s.x,y:e.s.y,z:e.s.z},K:{p:e.K.p,o:e.K.o,g:e.K.g,I:e.K.I},C:{Pa:e.C.Pa,ma:e.C.ma}},Ua:{s:{x:a.s.x,y:a.s.y,z:a.s.z},K:{p:a.K.p,o:a.K.o,g:a.K.g,I:a.K.I},C:{Pa:a.C.Pa,ma:a.C.ma}}}},q.Ub=function(a,c,d,e,f){this.Pb=e||new ArrayBuffer(q.Ub.BYTES_PER_ELEMENT);this.Jb=f||0;e=this.Pb;f=this.Jb;var g=q.Bb.BYTES_PER_ELEMENT;this.np=a?new q.Bb(a.x,
a.y,e,f):new q.Bb(0,0,e,f);this.Rq=c?new q.Ob(c.p,c.o,c.g,c.I,e,f+g):new q.Ob(0,0,0,0,e,f+g);this.Jm=d?new q.xc(d.Pa,d.ma,e,f+g+q.Ob.BYTES_PER_ELEMENT):new q.xc(0,0,e,f+g+q.Ob.BYTES_PER_ELEMENT)},q.Ub.BYTES_PER_ELEMENT=20,Object.defineProperties(q.Ub.prototype,{s:{get:function(){return this.np},set:function(a){this.np.x=a.x;this.np.y=a.y},enumerable:!0},K:{get:function(){return this.Rq},set:function(a){var c=this.Rq;c.p=a.p;c.o=a.o;c.g=a.g;c.I=a.I},enumerable:!0},C:{get:function(){return this.Jm},
set:function(a){this.Jm.Pa=a.Pa;this.Jm.ma=a.ma},enumerable:!0}}),q.Ec=function(a,c,d,e,f){this.Pb=e||new ArrayBuffer(q.Ec.BYTES_PER_ELEMENT);this.Jb=f||0;e=this.Pb;f=this.Jb;var g=q.Ub.BYTES_PER_ELEMENT;this.LF=a?new q.Ub(a.s,a.K,a.C,e,f):new q.Ub(null,null,null,e,f);this.QF=c?new q.Ub(c.s,c.K,c.C,e,f+g):new q.Ub(null,null,null,e,f+g);this.VF=d?new q.Ub(d.s,d.K,d.C,e,f+2*g):new q.Ub(null,null,null,e,f+2*g)},q.Ec.BYTES_PER_ELEMENT=60,Object.defineProperties(q.Ec.prototype,{I:{get:function(){return this.LF},
set:function(a){var c=this.LF;c.s=a.s;c.K=a.K;c.C=a.C},enumerable:!0},g:{get:function(){return this.QF},set:function(a){var c=this.QF;c.s=a.s;c.K=a.K;c.C=a.C},enumerable:!0},Ca:{get:function(){return this.VF},set:function(a){var c=this.VF;c.s=a.s;c.K=a.K;c.C=a.C},enumerable:!0}}));q.G2=function(a){a=a.substr(1).split("");return new q.Cc(parseInt("0x"+a[0]+a[1]),parseInt("0x"+a[2]+a[3]),parseInt("0x"+a[4]+a[5]))};q.Aq=0;q.wj=1;q.pN=2;q.Fq=0;q.Du=1;q.Eq=2;
q.B0=q.Ea.extend({Po:null,ms:null,sz:0,ctor:function(){this.Po={};this.ms={};this.sz=2<<(0|10*Math.random())},FN:function(){this.sz++;return"key_"+this.sz},jX:function(a,c){if(null!=c){var d=this.FN();this.Po[d]=c;this.ms[d]=a}},KU:function(a){if(null==a)return null;var c=this.Po,d;for(d in c)if(c[d]===a)return this.ms[d];return null},Bda:function(a){return this.KU(a)},XV:function(a){if(null!=a){var c=this.Po,d;for(d in c)if(c[d]===a){delete this.ms[d];delete c[d];break}}},N$:function(a){if(null!=
a)for(var c=0;c<a.length;c++)this.XV(a[c])},hR:function(){var a=[],c=this.Po,d;for(d in c)a.push(c[d]);return a},G$:function(){this.Po={};this.ms={}},count:function(){return this.hR().length}});q.qM=function(){this.vs="Arial";this.fontSize=12;this.pI=q.wj;this.qI=q.Fq;this.rI=q.yb();this.us=q.size(0,0);this.gE=!1;this.strokeColor=q.yb();this.sL=1;this.gL=!1;this.hL=q.size(0,0);this.shadowBlur=0;this.iL=1};q.Zn={Ey:0,Ry:1,SHOW_ALL:2,Fy:3,Gy:4,q0:5};q.Au=[];q.Bq={};
q.sa=q.Ea.extend({Vb:null,Pe:null,Co:null,Xk:null,$e:null,SB:null,RB:"",fB:null,wa:1,FG:1,Ba:1,GG:1,rr:0,BG:5,Ph:null,MG:null,QG:null,PG:null,NG:null,OG:null,ur:!1,N0:!1,w1:null,lG:null,mG:null,MN:null,o1:!1,Tz:null,g1:null,Hj:null,nA:1,Ju:!1,qG:!1,ctor:function(){this.Hj=q.dk.parentNode===document.body?document.documentElement:q.dk.parentNode;this.Pe=q.size(0,0);this.BA();var a=q.canvas.width,c=q.canvas.height;this.Co=q.size(a,c);this.Xk=q.size(a,c);this.$e=q.rect(0,0,a,c);this.SB=q.rect(0,0,a,c);
this.Vb=q.Y.e().Ye;this.Tz={left:0,top:0};this.RB="Cocos2dHTML5";q.EF.r(this.Co);this.MG=new q.$n(q.Ug.Ct,q.Ke.Ey);this.QG=new q.$n(q.Ug.aN,q.Ke.SHOW_ALL);this.PG=new q.$n(q.Ug.Ct,q.Ke.Ry);this.NG=new q.$n(q.Ug.Ct,q.Ke.Fy);this.OG=new q.$n(q.Ug.Ct,q.Ke.Gy);this.lG=q.canvas;this.mG=q.W},gB:function(){var a=this.Xk.width,c=this.Xk.height;this.fB&&(this.BA(),this.fB.call());0<a&&this.ND(a,c,this.Ph)},Z$:function(a){a?this.Ju||(this.Ju=!0,a=this.gB.bind(this),window.addEventListener("resize",a,!1)):this.Ju&&
(this.Ju=!0,a=this.gB.bind(this),window.removeEventListener("resize",a,!1))},Iba:function(a){if("function"==typeof a||null==a)this.fB=a},BA:function(){var a=this.Pe;a.width=this.Hj.clientWidth;a.height=this.Hj.clientHeight},K0:function(){var a=this.Xk.width,c=this.Xk.height;0<a&&this.ND(a,c,this.Ph)},sQ:function(){if(this.qG){var a={"user-scalable":"no","maximum-scale":"1.0","initial-scale":"1.0"},c=document.getElementsByName("viewport"),d;0==c.length?(c=document.createElement("meta"),c.name="viewport",
c.content="",document.head.appendChild(c)):c=c[0];d=c.content;for(var e in a)RegExp(e).test(d)||(d+=(""==d?"":",")+e+"\x3d"+a[e]);c.content=d}},lQ:function(){var a=q.Gd();this.Ba=this.wa=a},OP:function(){this.wa=this.FG;this.Ba=this.GG},LO:function(){var a,c=this.rr;for(a=0;a<this.BG;a++){if(!(c&1))return this.rr|=1<<a,a;c>>=1}return-1},KP:function(a){0>a||a>=this.BG||(a=~(1<<a),this.rr&=a)},L0:function(){},eU:function(){this.ur=!0},N1:function(a){this.qG=a},end:function(){},j8:function(){return null!=
this.lG&&null!=this.mG},Oaa:function(a){this.nA=a;q.Y.e().Nx(q.Y.e().al)},Pca:function(){},Saa:function(){},zaa:function(a,c){this.Tz={left:a,top:c}},q4:function(){return this.Tz},Nw:function(){return q.size(this.Pe.width,this.Pe.height)},Naa:function(a,c){this.Pe.width=a;this.Pe.height=c;this.Hj.style.width=a+"px";this.Hj.style.height=c+"px";this.gB();q.Y.e().Nx(q.Y.e().al)},u2:function(){},laa:function(a){this.MN=a},Es:function(){return this.SB.bb},MI:function(){return this.SB.kd},q2:function(){return!0},
h6:function(){return this.Ph},xX:function(a){if(a instanceof q.$n)this.Ph=a;else switch(a){case q.Zn.Ey:this.Ph=this.MG;break;case q.Zn.SHOW_ALL:this.Ph=this.QG;break;case q.Zn.Ry:this.Ph=this.PG;break;case q.Zn.Fy:this.Ph=this.NG;break;case q.Zn.Gy:this.Ph=this.OG}},ND:function(a,c,d){if(isNaN(a)||0==a||isNaN(c)||0==c)q.log("Resolution not valid");else if(this.xX(d),policy=this.Ph){policy.sn(this);var e=this.Pe.width,f=this.Pe.height;q.Ga.ik&&this.sQ(this.Pe.width,this.Pe.height);this.BA();if(d!=
this.Ph||a!=this.Xk.width||c!=this.Xk.height||e!=this.Pe.width||f!=this.Pe.height)this.Co=q.size(a,c),this.Xk=q.size(a,c),a=policy.apply(this,this.Co),a.scale&&2==a.scale.length&&(this.wa=a.scale[0],this.Ba=a.scale[1]),a.viewport instanceof q.og&&(this.$e=a.viewport),a=q.Y.e(),a.Qb=this.Bp(),q.Dd==q.Dk&&(a.Ao(),a.HK()),this.FG=this.wa,this.GG=this.Ba,q.ic&&q.ic.MP(),q.EF.r(this.Es()),policy.rn(this)}else q.log("should set resolutionPolicy")},Bp:function(){return q.size(this.Co.width,this.Co.height)},
eca:function(a){this.Vb=a},KX:function(a,c,d,e){var f=this.nA,g=this.wa,h=this.Ba;q.W.viewport(a*g*f+this.$e.x*f,c*h*f+this.$e.y*f,d*g*f,e*h*f)},SD:function(a,c,d,e){var f=this.nA,g=this.wa,h=this.Ba;q.W.scissor(a*g*f+this.$e.x*f,c*h*f+this.$e.y*f,d*g*f,e*h*f)},oU:function(){var a=q.W;return a.isEnabled(a.SCISSOR_TEST)},jT:function(){var a=q.W,c=this.wa,d=this.Ba,a=a.getParameter(a.SCISSOR_BOX);return q.rect((a[0]-this.$e.x)/c,(a[1]-this.$e.y)/d,a[2]/c,a[3]/d)},nca:function(a){null!=a&&0<a.length&&
(this.RB=a)},e7:function(){return this.RB},f7:function(){return this.$e},hT:function(){return this.wa},iT:function(){return this.Ba},ek:function(a,c,d){return{x:a-d.left,y:d.top+d.height-c}},ET:function(a,c,d,e){for(var f=[],g=this.$e,h=this.wa,k=this.Ba,l=0;l<a;++l){var m=c[l],n=d[l],r=e[l],p=0;if(null==q.Bq[m])if(p=this.LO(),-1==p)q.log("The touches is more than MAX_TOUCHES, nUnusedIndex \x3d "+p);else{var u=q.Au[p]=new q.pf;u.XD(p,(n-g.x)/h,(r-g.y)/k);q.Bq[m]=0|p;f.push(u)}}0!=f.length&&this.Vb.gy(f,
null)},HT:function(a,c,d,e){for(var f=[],g=this.wa,h=this.Ba,k=this.$e.x,l=this.$e.y,m=0;m<a;++m){var n=d[m],r=e[m],p=q.Bq[c[m]];if(null!=p){var u=q.Au[p];if(u)u.XD(p,(n-k)/g,(r-l)/h),f.push(u);else return}}0!=f.length&&this.Vb.hy(f,null)},GT:function(a,c,d,e){var f=[];this.EI(f,a,c,d,e);this.Vb.lt(f,null)},FT:function(a,c,d,e){var f=[];this.EI(f,a,c,d,e);this.Vb.iE(f,null)},EI:function(a,c,d,e,f){for(var g=this.wa,h=this.Ba,k=this.$e,l=0;l<c;++l){var m=d[l],n=e[l],r=f[l],p=q.Bq[m];if(null!=p){var u=
q.Au[p];if(u)u.XD(p,(n-k.x)/g,(r-k.y)/h),a.push(u),q.Au[p]=null,this.KP(p),delete q.Bq[m];else break}}},gy:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Nf||h,d[f]=g.J.x,e[f]=g.J.y,++f;this.ET(f,c,d,e)},hy:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Nf||h,d[f]=g.J.x,e[f]=g.J.y,++f;this.HT(f,c,d,e)},lt:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Nf||h,d[f]=g.J.x,e[f]=g.J.y,++f;this.GT(f,c,d,e)},iE:function(a){for(var c=
[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Nf||h,d[f]=g.J.x,e[f]=g.J.y,++f;this.FT(f,c,d,e)}});q.sa.e=function(){this.Ib||(this.Ib=new q.sa,this.Ib.eU());return this.Ib};
q.Ug=q.Ea.extend({sn:function(){},apply:function(){},rn:function(){},XG:function(a,c,d){q.Ga.ik&&a==document.documentElement&&q.cz.e().oR(q.canvas);a=q.canvas;var e=q.dk;a.width=c;a.height=d;e.style.width=c+"px";e.style.height=d+"px";c=document.body;var f;c&&(f=c.style)&&(f.paddingTop=f.paddingTop||"0px",f.paddingRight=f.paddingRight||"0px",f.paddingBottom=f.paddingBottom||"0px",f.paddingLeft=f.paddingLeft||"0px",f.borderTop=f.borderTop||"0px",f.borderRight=f.borderRight||"0px",f.borderBottom=f.borderBottom||
"0px",f.borderLeft=f.borderLeft||"0px",f.marginTop=f.marginTop||"0px",f.marginRight=f.marginRight||"0px",f.marginBottom=f.marginBottom||"0px",f.marginLeft=f.marginLeft||"0px")},fG:function(){document.body.insertBefore(q.dk,document.body.firstChild);var a=document.body.style;a.width=window.innerWidth+"px";a.height=window.innerHeight+"px";a.overflow="hidden";a=q.dk.style;a.position="fixed";a.left=a.top="0px";document.body.scrollTop=0}});
q.Ke=q.Ea.extend({iB:{scale:[1,1],viewport:null},Oq:function(a,c,d,e,f,g){a=q.rect(Math.round((a-d)/2),Math.round((c-e)/2),d,e);q.Dd==q.lg&&q.W.translate(a.x,a.y+e);this.iB.scale=[f,g];this.iB.viewport=a;return this.iB},sn:function(){},apply:function(){return{scale:[1,1]}},rn:function(){}});
(function(){var a=q.Ug.extend({apply:function(a){this.XG(a.Hj,a.Pe.width,a.Pe.height)}}),c=q.Ug.extend({apply:function(a,c){var d=a.Pe.width,e=a.Pe.height,f=q.dk.style,n=c.width,r=c.height,p=d/n,u=e/r,x,z;p<u?(x=d,z=r*p):(x=n*u,z=e);n=Math.floor((d-x)/2);z=Math.floor((e-z)/2);this.XG(a.Hj,d-2*n,e-2*z);f.marginLeft=n+"px";f.marginRight=n+"px";f.marginTop=z+"px";f.marginBottom=z+"px"}});a.extend({sn:function(a){a.Hj=document.documentElement},apply:function(a){this._super(a);this.fG()}});c.extend({sn:function(a){a.Hj=
document.documentElement},apply:function(a,c){this._super(a,c);this.fG()}});var d=q.Ug.extend({});q.Ug.Ct=new a;q.Ug.aN=new c;q.Ug.s_=new d;var a=q.Ke.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height;return this.Oq(d,e,d,e,d/c.width,e/c.height)}}),c=q.Ke.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=c.width,n=c.height,r=d/f,p=e/n,u,x,z;r<p?(u=r,x=d,z=n*u):(u=p,x=f*u,z=e);return this.Oq(d,e,x,z,u,u)}}),d=q.Ke.extend({apply:function(a,c){var d=q.canvas.width,
e=q.canvas.height,f=c.width,n=c.height,r=d/f,p=e/n,u,x,z;r<p?(u=p,x=f*u,z=e):(u=r,x=d,z=n*u);return this.Oq(d,e,x,z,u,u)}}),e=q.Ke.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=e/c.height;return this.Oq(d,e,d,e,f,f)},rn:function(a){q.Y.e().Qb=a.Es()}}),f=q.Ke.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=d/c.width;return this.Oq(d,e,d,e,f,f)},rn:function(a){q.Y.e().Qb=a.Es()}});q.Ke.Ey=new a;q.Ke.SHOW_ALL=new c;q.Ke.Ry=new d;q.Ke.Fy=new e;q.Ke.Gy=new f})();
q.$n=q.Ea.extend({Xu:null,Yu:null,ctor:function(a,c){this.IW(a);this.LW(c)},sn:function(a){this.Xu.sn(a);this.Yu.sn(a)},apply:function(a,c){this.Xu.apply(a,c);return this.Yu.apply(a,c)},rn:function(a){this.Xu.rn(a);this.Yu.rn(a)},IW:function(a){a instanceof q.Ug&&(this.Xu=a)},LW:function(a){a instanceof q.Ke&&(this.Yu=a)}});q.cz=q.Ea.extend({Xr:!1,Ik:"",TA:null,UA:null,GB:"",r:function(){var a=["webkit","moz","o","ms","khtml"],c=document.body;if(c.requestFullScreen)this.Xr=!0;else for(var d=0,e=a.length,f;d<e;d++)if(f=a[d],c[f+"RequestFullScreen"]){this.Xr=!0;this.Ik=f;break}this.GB="ontouchstart"in window?"touchstart":"mousedown"},fullScreen:function(){var a=document;if(this.Xr)switch(this.Ik){case "":return a.fullScreen;case "webkit":return a.webkitIsFullScreen;default:return a[this.Ik+"FullScreen"]}return!1},jK:function(a,
c){if(this.Xr&&!this.fullScreen()){if(c){var d=this.Ik+"fullscreenchange";this.TA&&this.UA&&this.TA.removeEventListener(d,this.UA);this.TA=a;this.UA=c;a.addEventListener(d,c,!1)}return""===this.Ik?a.requestFullScreen():a[this.Ik+"RequestFullScreen"]()}},p3:function(){if(this.Xr&&this.fullScreen())return""===this.Ik?document.body.cancelFullScreen():document.body[this.Ik+"CancelFullScreen"]()},oR:function(a,c){function d(){e.jK(a,c);a.removeEventListener(e.GB,d)}var e=this;this.jK(a,c);a.addEventListener(this.GB,
d)}});q.cz.e=function(){if(!this.Ib){var a=new q.cz;a.r();this.Ib=a}return this.Ib};q.EF={Vh:q.vd(),nh:q.vd(),Uh:q.vd(),zi:q.vd(),Ai:q.vd(),yi:q.vd(),Lz:q.vd(),Ki:q.vd(),Qh:q.vd(),Ha:0,ta:0,r:function(a){this.Ha=a.width;this.ta=a.height;a=this.Ha;var c=this.ta;this.Vh.H=c;this.nh.F=a;this.nh.H=c;this.Uh.F=a/2;this.Uh.H=c;this.Ai.F=a;this.yi.F=a/2;this.Lz.F=a/2;this.Lz.H=c/2;this.Ki.H=c/2;this.Qh.F=a;this.Qh.H=c/2},Fs:function(){return this.Ha},zs:function(){return this.ta},jda:function(){return this.Vh},kda:function(){return this.nh},top:function(){return this.Uh},e2:function(){return this.zi},
f2:function(){return this.Ai},bottom:function(){return this.yi},t2:function(){return this.Lz},left:function(){return this.Ki},right:function(){return this.Qh}};q.by=function(a){var c;if(a&&0!=a.length){var d=a.indexOf("{"),e=a.indexOf("}");-1==d||-1==e||d>e||(a=a.substr(d+1,e-d-1),0!=a.length&&(d=a.indexOf("{"),e=a.indexOf("}"),-1==d&&-1==e&&(c=a.split(","))))}return c};
q.nF=function(a){var c=q.gd();if(a){var d=a.indexOf("{")+1,e=a.lastIndexOf("}",a.length);-1!=d&&-1!=e&&(a=a.substring(d,e),d=a.indexOf("}"),-1!=d&&(d=a.indexOf(",",d),-1!=d&&(c=a.substr(d+1,a.length-d),a=q.by(a.substr(0,d)),c=q.by(c),c=q.rect(parseFloat(a[0]),parseFloat(a[1]),parseFloat(c[0]),parseFloat(c[1])))))}return c};q.mF=function(a){var c=q.tj();try{if(""==a)return c;var d=q.by(a),c=q.a(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};
q.dz=function(a){var c=q.am();try{if(""==a)return c;var d=q.by(a),c=q.size(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};q.PY=function(a,c,d,e,f,g){this.I=a;this.g=c;this.Ca=d;this.La=e;this.Ya=f;this.Za=g};q.D0=function(a,c,d,e,f,g){return{I:a,g:c,Ca:d,La:e,Ya:f,Za:g}};q.SY=function(a,c,d,e,f,g){return{I:a,g:c,Ca:d,La:e,Ya:f,Za:g}};q.E0=function(a,c){return{x:c.I*a.x+c.Ca*a.y+c.Ya,y:c.g*a.x+c.La*a.y+c.Za}};q.lF=function(a,c){return{x:c.I*a.x+c.Ca*a.y+c.Ya,y:c.g*a.x+c.La*a.y+c.Za}};q.Fk=function(a,c,d){return{x:d.I*a+d.Ca*c+d.Ya,y:d.g*a+d.La*c+d.Za}};
q.F0=function(a,c){return{width:c.I*a.width+c.Ca*a.height,height:c.g*a.width+c.La*a.height}};q.b0=function(a,c){return{width:c.I*a.width+c.Ca*a.height,height:c.g*a.width+c.La*a.height}};q.TY=function(){return{I:1,g:0,Ca:0,La:1,Ya:0,Za:0}};q.RY=function(){return{I:1,g:0,Ca:0,La:1,Ya:0,Za:0}};
q.Xg=function(a,c){var d=q.Fl(a),e=q.El(a),f=q.vn(a),g=q.wn(a),h=q.Fk(e,d,c),d=q.Fk(f,d,c),e=q.Fk(e,g,c),k=q.Fk(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);return q.rect(f,l,g-f,h-l)};
q.ui=function(a,c){var d=q.Fl(a),e=q.El(a),f=q.vn(a),g=q.wn(a),h=q.Fk(e,d,c),d=q.Fk(f,d,c),e=q.Fk(e,g,c),k=q.Fk(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);a.x=f;a.y=l;a.width=g-f;a.height=h-l;return a};q.py=function(a,c,d){return{I:a.I,g:a.g,Ca:a.Ca,La:a.La,Ya:a.Ya+a.I*c+a.Ca*d,Za:a.Za+a.g*c+a.La*d}};q.UY=function(a,c,d){return{I:a.I*c,g:a.g*c,Ca:a.Ca*d,La:a.La*d,Ya:a.Ya,Za:a.Za}};
q.RL=function(a){var c=Math.sin(1.57079633),d=Math.cos(1.57079633);return{I:a.I*d+a.Ca*c,g:a.g*d+a.La*c,Ca:a.Ca*d-a.I*c,La:a.La*d-a.g*c,Ya:a.Ya,Za:a.Za}};q.Sl=function(a,c){return{I:a.I*c.I+a.g*c.Ca,g:a.I*c.g+a.g*c.La,Ca:a.Ca*c.I+a.La*c.Ca,La:a.Ca*c.g+a.La*c.La,Ya:a.Ya*c.I+a.Za*c.Ca+c.Ya,Za:a.Ya*c.g+a.Za*c.La+c.Za}};q.QY=function(a,c){return a.I===c.I&&a.g===c.g&&a.Ca===c.Ca&&a.La===c.La&&a.Ya===c.Ya&&a.Za===c.Za};
q.wE=function(a){var c=1/(a.I*a.La-a.g*a.Ca);return{I:c*a.La,g:-c*a.g,Ca:-c*a.Ca,La:c*a.I,Ya:c*(a.Ca*a.Za-a.La*a.Ya),Za:c*(a.g*a.Ya-a.I*a.Za)}};q.bF=parseFloat("1.192092896e-07F");q.pD=function(a){return q.a(-a.x,-a.y)};q.dg=function(a,c){return q.a(a.x+c.x,a.y+c.y)};q.Bd=function(a,c){return q.a(a.x-c.x,a.y-c.y)};q.ij=function(a,c){return q.a(a.x*c,a.y*c)};q.oD=function(a,c){return q.ij(q.dg(a,c),0.5)};q.Xp=function(a,c){return a.x*c.x+a.y*c.y};q.L9=function(a,c){return a.x*c.y-a.y*c.x};q.nx=function(a){return q.a(-a.y,a.x)};q.T9=function(a){return q.a(a.y,-a.x)};q.S9=function(a,c){return q.ij(c,q.Xp(a,c)/q.Xp(c,c))};
q.U9=function(a,c){return q.a(a.x*c.x-a.y*c.y,a.x*c.y+a.y*c.x)};q.Z9=function(a,c){return q.a(a.x*c.x+a.y*c.y,a.y*c.x-a.x*c.y)};q.MJ=function(a){return q.Xp(a,a)};q.M9=function(a,c){return q.MJ(q.Bd(a,c))};q.mD=function(a){return Math.sqrt(q.MJ(a))};q.lD=function(a,c){return q.mD(q.Bd(a,c))};q.Ah=function(a){return q.ij(a,1/q.mD(a))};q.N9=function(a){return q.a(Math.cos(a),Math.sin(a))};q.Y9=function(a){return Math.atan2(a.y,a.x)};q.qs=function(a,c,d){if(c>d){var e=c;c=d;d=e}return a<c?c:a<d?a:d};
q.LJ=function(a){var c=q.a(0,0),d=q.a(1,1);return q.a(q.qs(a.x,c.x,d.x),q.qs(a.y,c.y,d.y))};q.bV=function(){var a=q.Y.e().Qb;return q.a(a.width,a.height)};q.K9=function(a,c){return q.a(c(a.x),c(a.y))};q.NJ=function(a,c,d){return q.dg(q.ij(a,1-d),q.ij(c,d))};q.O9=function(a,c,d){return a.x-d<=c.x&&c.x<=a.x+d&&a.y-d<=c.y&&c.y<=a.y+d?!0:!1};q.J9=function(a,c){return q.a(a.x*c.x,a.y*c.y)};q.I9=function(a,c){var d=q.Ah(a),e=q.Ah(c),d=Math.atan2(d.x*e.y-d.y*e.x,q.Xp(d,e));return Math.abs(d)<q.bF?0:d};
q.H9=function(a,c){var d=Math.acos(q.Xp(q.Ah(a),q.Ah(c)));return Math.abs(d)<q.bF?0:d};q.dV=function(a,c,d){a=q.Bd(a,c);var e=Math.cos(d);d=Math.sin(d);var f=a.x;a.x=f*e-a.y*d+c.x;a.y=f*d+a.y*e+c.y;return a};q.nD=function(a,c,d,e,f){if(a.x==c.x&&a.y==c.y||d.x==e.x&&d.y==e.y)return!1;var g=c.x-a.x;c=c.y-a.y;var h=e.x-d.x;e=e.y-d.y;var k=a.x-d.x;a=a.y-d.y;d=e*g-h*c;f.x=h*a-e*k;f.y=g*a-c*k;if(0==d)return 0==f.x||0==f.y?!0:!1;f.x/=d;f.y/=d;return!0};
q.W9=function(a,c,d,e){var f=q.a(0,0);return q.nD(a,c,d,e,f)&&0<=f.x&&1>=f.x&&0<=f.y&&1>=f.y?!0:!1};q.Q9=function(a,c,d,e){var f=q.a(0,0);return q.nD(a,c,d,e,f)?(d=q.a(0,0),d.x=a.x+f.x*(c.x-a.x),d.y=a.y+f.x*(c.y-a.y),d):q.tj()};q.V9=function(a,c){return null!=a&&null!=c?a.x==c.x&&a.y==c.y:!1};q.a$=function(a){a.x=0;a.y=0};q.P9=function(a,c){a.x=c.x;a.y=c.y};q.cV=function(a,c){a.x*=c;a.y*=c};q.X9=function(a,c){a.x-=c.x;a.y-=c.y};q.G9=function(a,c){a.x+=c.x;a.y+=c.y};
q.R9=function(a){q.cV(a,1/Math.sqrt(a.x*a.x+a.y*a.y))};q.Dda=function(a,c,d,e,f){f+=e;if(!(1>=f)){c*=0.5;for(var g,h=f-1,k=e;k<f;k++){g=2*k;var l=q.a(a[2*k],a[2*k+1]),m;if(0===k)m=q.nx(q.Ah(q.Bd(l,q.a(a[2*(k+1)],a[2*(k+1)+1]))));else if(k===h)m=q.nx(q.Ah(q.Bd(q.a(a[2*(k-1)],a[2*(k-1)+1]),l)));else{m=q.a(a[2*(k-1)],a[2*(k-1)+1]);var n=q.a(a[2*(k+1)],a[2*(k+1)+1]),r=q.Ah(q.Bd(n,l)),p=q.Ah(q.Bd(m,l)),u=Math.acos(q.Xp(r,p));m=u<q.rj(70)?q.nx(q.Ah(q.oD(r,p))):u<q.rj(170)?q.Ah(q.oD(r,p)):q.nx(q.Ah(q.Bd(n,m)))}m=q.ij(m,c);d[2*g]=l.x+m.x;d[2*g+1]=l.y+m.y;d[2*
(g+1)]=l.x-m.x;d[2*(g+1)+1]=l.y-m.y}for(k=0==e?0:e-1;k<h;k++)g=2*k,a=g+2,c=q.Eu(d[2*g],d[2*g+1]),f=q.Eu(d[2*(g+1)],d[2*(g+1)+1]),g=q.Eu(d[2*a],d[2*a]),e=q.Eu(d[2*(a+1)],d[2*(a+1)+1]),c=!q.yY(c.x,c.y,e.x,e.y,f.x,f.y,g.x,g.y),!c.Ls&&(0>c.value||1<c.value)&&(c.Ls=!0),c.Ls&&(d[2*a]=e.x,d[2*a+1]=e.y,d[2*(a+1)]=g.x,d[2*(a+1)+1]=g.y)}};
q.yY=function(a,c,d,e,f,g,h,k){if(a==d&&c==e||f==h&&g==k)return{Ls:!1,value:0};d-=a;e-=c;f-=a;g-=c;h-=a;k-=c;a=Math.sqrt(d*d+e*e);d/=a;e/=a;c=f*d+g*e;g=g*d-f*e;f=c;c=h*d+k*e;k=k*d-h*e;h=c;return g==k?{Ls:!1,value:0}:{Ls:!0,value:(h+(f-h)*k/(k-g))/a}};q.cZ=function(a,c){c[2]=c[3]=c[6]=c[7]=c[8]=c[9]=c[11]=c[14]=0;c[10]=c[15]=1;c[0]=a.I;c[4]=a.Ca;c[12]=a.Ya;c[1]=a.g;c[5]=a.La;c[13]=a.Za};q.NZ=function(a,c){c.I=a[0];c.Ca=a[4];c.Ya=a[12];c.g=a[1];c.La=a[5];c.Za=a[13]};q.$E=-1;q.l_=null;q.m_=null;q.mW=1;
q.D=q.Ea.extend({eb:0,tw:0,Ag:0,Rh:0,wa:1,Ba:1,q:null,ie:0,je:0,t:null,ka:!0,Ih:null,Jd:null,va:null,Te:!1,X:null,Sk:!1,od:q.$E,tH:null,NB:null,Zj:!0,qv:!0,WF:!0,s1:null,Yj:null,pG:null,he:!1,Ic:null,Qf:0,$g:null,Bg:null,oG:!1,Iq:!1,Lu:null,Di:null,FA:!1,Am:0,Kr:0,CA:function(){this.Ih=q.vd();this.Jd=q.vd();this.va=q.Em();this.q=q.vd();this.t=[];this.Yj={I:1,g:0,Ca:0,La:1,Ya:0,Za:0};var a=q.Y.e();this.$g=a.Gg();this.Bg=a.Bf();this.oG=!0;this.Lu={I:1,g:0,Ca:0,La:1,Ya:0,Za:0};q.$L&&(this.Di=new q.$L(this))},
r:function(){!1===this.oG&&this.CA();return!0},rg:function(a,c){if(a&&0!==a.length){var d,e=a.length,f;d=q.D.Lf;switch(c){case d.Ng:for(d=0;d<e;d++)(f=a[d])&&f.Ng();break;case d.Rd:for(d=0;d<e;d++)(f=a[d])&&f.Rd();break;case d.ji:for(d=0;d<e;d++)(f=a[d])&&f.ji();break;case d.Yf:for(d=0;d<e;d++)(f=a[d])&&f.Yf();break;case d.jg:for(d=0;d<e;d++)(f=a[d])&&f.jg();break;case d.zh:for(d=0;d<e;d++)(f=a[d])&&f.zh();break;case d.Sd:for(d=0;d<e;d++)(f=a[d])&&f.Sd();break;default:throw"Unknown callback function";
}}},Wa:null,dQ:function(){this.Cm();!1===this.Zj&&(this.Zj=this.qv=!0)},eQ:function(){!1===this.Zj&&(this.Zj=this.qv=!0)},v6:function(){return this.ie},Tx:function(a){this.ie=a;this.Wa()},w6:function(){return this.je},Ux:function(a){this.je=a;this.Wa()},l7:function(){return this.eb},Wv:function(a){this.eb=a},pca:function(a){this.Wv(a);this.X&&this.X.Xs(this,a)},b7:function(){return this.tw},$K:function(a){this.tw=a},gT:function(){this.Ag!==this.Rh&&q.log("cc.Node.rotation(): RotationX !\x3d RotationY. Don't know which one to return");
return this.Ag},Px:function(a){this.Ag=this.Rh=a;this.Am=0.017453292519943295*this.Ag;this.Kr=0.017453292519943295*this.Rh;this.Wa()},l6:function(){return this.Ag},Qx:function(a){this.Ag=a;this.Am=0.017453292519943295*this.Ag;this.Wa()},m6:function(){return this.Rh},Rx:function(a){this.Rh=a;this.Kr=0.017453292519943295*this.Rh;this.Wa()},AC:function(){this.wa!==this.Ba&&q.log("cc.Node.getScale(): ScaleX !\x3d ScaleY. Don't know which one to return");return this.wa},rk:function(a,c){this.wa=a;this.Ba=
c||0===c?c:a;this.Wa()},hT:function(){return this.wa},cq:function(a){this.wa=a;this.Wa()},iT:function(){return this.Ba},En:function(a){this.Ba=a;this.Wa()},n:function(a,c){var d=this.q;2==arguments.length?(d.F=a,d.H=c):1==arguments.length&&(d.F=a.x,d.H=a.y);this.Wa()},V5:function(){return this.q},W5:function(){return this.q.F},ib:function(a){this.q.F=a;this.Wa()},X5:function(){return this.q.H},bd:function(a){this.q.H=a;this.Wa()},i4:function(){return this.t.length},h4:function(){return this.t},sJ:function(){return this.ka},
v:function(a){this.ka=a;this.Wa()},Q3:function(){return this.Ih},L:function(a,c){var d=this.Ih;if(2===arguments.length){if(a===d.F&&c===d.H)return;d.F=a;d.H=c}else{if(a.x===d.F&&a.y===d.H)return;d.F=a.x;d.H=a.y}var e=this.Jd,f=this.va;e.F=f.Ha*d.F;e.H=f.ta*d.H;this.Wa()},R3:function(){return this.Jd},c:function(){return this.va},V:function(a,c){var d=this.va;if(2===arguments.length){if(a===d.Ha&&c===d.ta)return;d.Ha=a;d.ta=c}else{if(a.width===d.Ha&&a.height===d.ta)return;d.Ha=a.width;d.ta=a.height}var e=
this.Jd,f=this.Ih;e.F=d.Ha*f.F;e.H=d.ta*f.H;this.Wa()},r8:function(){return this.Te},getParent:function(){return this.X},ct:function(a){this.X=a},c8:function(){return this.Sk},cj:function(a){a!=this.Sk&&(this.Sk=a,this.Wa())},rT:function(){return this.od},XK:function(a){this.od=a},getUserData:function(){return this.tH},setUserData:function(a){this.tH=a},Z6:function(){return this.NB},ica:function(a){this.NB!=a&&(this.NB=a)},L5:function(){return this.Qf},bq:function(a){this.Qf=a},Gg:function(){this.$g||
(this.$g=q.Y.e().Gg());return this.$g},xW:function(a){this.$g!=a&&(this.eE(),this.$g=a)},Bf:function(){this.Bg||(this.Bg=q.Y.e().Bf());return this.Bg},zX:function(a){this.Bg!=a&&(this.mt(),this.Bg=a)},Xa:function(){var a=q.rect(0,0,this.va.Ha,this.va.ta);return q.ui(a,this.bg())},Yf:function(){this.eE();this.mt();this.rg(this.t,q.D.Lf.Yf)},description:function(){return"\x3ccc.Node | Tag \x3d"+this.od+"\x3e"},IS:function(a){var c=this.t;if(null!=c)for(var d=0;d<c.length;d++){var e=c[d];if(e&&e.od==
a)return e}return null},f:function(a,c,d){if(!a)throw"cc.Node.addChild(): child must be non-null";a===this?q.log("cc.Node.addChild(): An Node can't be added as a child of itself."):null!==a.X?q.log("cc.Node.addChild(): child already added. It can't be added again"):(c=null!=c?c:a.eb,a.od=null!=d?d:a.od,this.YO(a,c),a.X=this,this.Te&&(a.Ng(),this.FA&&a.ji()))},N:function(a){this.X&&(null==a&&(a=!0),this.X.removeChild(this,a))},VV:function(a){q.log("removeFromParentAndCleanup is deprecated. Use removeFromParent instead");
this.N(a)},removeChild:function(a,c){0!==this.t.length&&(null==c&&(c=!0),-1<this.t.indexOf(a)&&this.wO(a,c),this.Wa())},L$:function(a,c){a===q.$E&&q.log("cc.Node.removeChildByTag(): argument tag is an invalid tag");var d=this.IS(a);null==d?q.log("cocos2d: removeChildByTag(tag \x3d "+a+"): child not found!"):this.removeChild(d,c)},D$:function(a){q.log("removeAllChildrenWithCleanup is deprecated. Use removeAllChildren instead");this.pc(a)},pc:function(a){var c=this.t;if(null!=c){null==a&&(a=!0);for(var d=
0;d<c.length;d++){var e=c[d];e&&(this.Te&&(e.zh(),e.Rd()),a&&e.Yf(),e.ct(null))}this.t.length=0}},wO:function(a,c){this.Te&&(a.zh(),a.Rd());c&&a.Yf();a.ct(null);q.Ud(this.t,a)},YO:function(a,c){this.he=!0;this.t.push(a);a.Wv(c)},Xs:function(a,c){if(!a)throw"cc.Node.reorderChild(): child must be non-null";this.he=!0;a.bq(q.mW++);a.Wv(c);this.Wa()},Sd:function(){if(this.he){var a=this.t,c,d,e=a.length,f;for(c=0;c<e;c++){var g=a[c];d=c-1;for(f=a[d];0<=d&&(g.eb<f.eb||g.eb==f.eb&&g.Qf<f.Qf);)a[d+1]=f,
d-=1,f=a[d];a[d+1]=g}this.he=!1}},Va:function(){},iy:function(){null!=this.X&&(this.X.iy(),this.X.transform())},Ng:function(){this.FA=!1;this.Te=!0;this.rg(this.t,q.D.Lf.Ng);this.Ax()},ji:function(){this.FA=!0;this.rg(this.t,q.D.Lf.ji)},zh:function(){this.rg(this.t,q.D.Lf.zh)},Rd:function(){this.Te=!1;this.px();this.rg(this.t,q.D.Lf.Rd);this.Di&&this.Di.QV()},Bx:function(a){if(!a)throw"cc.Node.runAction(): action must be non-null";this.Gg().WQ(a,this,!this.Te);return a},eE:function(){this.Gg().fK(this)},
fY:function(a){this.Gg().eK(a)},Hca:function(a){a===q.Rn?q.log("cc.Node.stopActionBy(): argument tag an invalid tag"):this.Gg().PV(a,this)},wC:function(a){return a===q.Rn?(q.log("cc.Node.getActionByTag(): argument tag is an invalid tag"),null):this.Gg().wC(a,this)},x5:function(){return this.Gg().JU(this)},pW:function(){this.qW(0)},qW:function(a){this.Bf().nK(this,a,!this.Te)},pda:function(){this.Bf().jq(this)},fc:function(a,c,d,e){c=c||0;if(!a)throw"cc.Node.schedule(): callback function must be non-null";
if(0>c)throw"cc.Node.schedule(): interval must be positive";d=null==d?q.$l:d;e=e||0;this.Bf().oW(this,a,c,d,e,!this.Te)},Bc:function(a,c){this.fc(a,0,0,c)},cd:function(a){a&&this.Bf().AL(this,a)},mt:function(){this.Bf().zL(this)},Ax:function(){this.Bf().yn(this);this.Gg().yn(this)},px:function(){this.Bf().Vs(this);this.Gg().Vs(this)},maa:function(a){this.Lu=a;this.Iq=this.Zj=!0},d$:function(){this.qv&&(this.pG=q.wE(this.bg()),this.qv=!1);return this.pG},Ss:function(){for(var a=this.bg(),c=this.X;null!=
c;c=c.getParent())a=q.Sl(a,c.bg());return a},BY:function(){return q.wE(this.Ss())},Da:function(a){return q.lF(a,this.BY())},ll:function(a){return q.lF(a,this.Ss())},QR:function(a){return q.Bd(this.Da(a),this.Jd)},H2:function(a){a=q.dg(a,this.Jd);return this.ll(a)},O0:function(a){a=this.ll(a);return q.Y.e().RR(a)},$h:function(a){return this.Da(a.J)},I2:function(a){a=a.J;a=q.Y.e().PR(a);return this.QR(a)},update:function(a){this.Di&&!this.Di.Y7()&&this.Di.ra(a)},jg:function(){this.rg(this.t,q.D.Lf.jg)},
lK:function(){},AD:function(){},JS:function(a){return this.Di.JS(a)},A1:function(a){this.Di.add(a)},M$:function(a){return this.Di.remove(a)},E$:function(){this.Di.QV()},gH:null,AB:null,xA:null,so:null,Pk:null,ctor:null,Jh:function(){this.CA()},Kh:function(){this.CA();var a=new q.xh;a.yh[2]=a.yh[3]=a.yh[6]=a.yh[7]=a.yh[8]=a.yh[9]=a.yh[11]=a.yh[14]=0;a.yh[10]=a.yh[15]=1;this.gH=a;this.xA=0;this.AB=new q.xh},ra:null,Qm:function(a){if(this.ka){a=a||q.W;var c,d=this.t,e;a.save();this.transform(a);var f=
d.length;if(0<f){this.Sd();for(c=0;c<f;c++)if(e=d[c],0>e.eb)e.ra(a);else break;for(this.Va(a);c<f;c++)d[c].ra(a)}else this.Va(a);this.Qf=0;a.restore()}},Rm:function(){if(this.ka){var a=q.W,c,d=q.VR;d.stack.push(d.top);q.M8(this.AB,d.top);d.top=this.AB;var e=this.Pk;e&&e.ON&&e.bC();this.transform();var f=this.t;if(f&&0<f.length){var g=f.length;this.Sd();for(c=0;c<g;c++)if(f[c]&&0>f[c].eb)f[c].ra();else break;for(this.Va(a);c<g;c++)f[c]&&f[c].ra()}else this.Va(a);this.Qf=0;e&&e.ON&&e.YB(this);d.top=
d.stack.pop()}},transform:null,EQ:function(a){a=a||q.W;var c=q.sa.e(),d=this.bg();a.transform(d.I,d.Ca,d.g,d.La,d.Ya*c.wa,-d.Za*c.Ba)},FQ:function(){var a=this.gH,c=q.VR.top,d=this.bg(),e=a.yh;e[0]=d.I;e[4]=d.Ca;e[12]=d.Ya;e[1]=d.g;e[5]=d.La;e[13]=d.Za;e[14]=this.tw;q.wU(c,c,a);null==this.so||null!=this.Pk&&this.Pk.Mp()||(a=this.Jd.F,c=this.Jd.H,0!==a||0!==c?(q.uU(q.ng(a),q.ng(c),0),this.so.vJ(),q.uU(q.ng(-a),q.ng(-c),0)):this.so.vJ())},bg:null,oP:function(){this.Yj||(this.Yj={I:1,g:0,Ca:0,La:1,Ya:0,
Za:0});if(this.Zj){var a=this.Yj;a.Ya=this.q.F;a.Za=this.q.H;var c=1,d=0;this.Ag&&(c=Math.cos(this.Am),d=Math.sin(this.Am));a.I=a.La=c;a.g=-d;a.Ca=d;var e=this.wa,f=this.Ba,g=this.Jd.F,h=this.Jd.H,k=1E-6>e&&-1E-6<e?1E-6:e,l=1E-6>f&&-1E-6<f?1E-6:f;if(this.ie||this.je){var m=Math.tan(-this.ie*Math.PI/180),n=Math.tan(-this.je*Math.PI/180),r=h*m*k,p=g*n*l;a.I=c+-d*n;a.g=c*m+-d;a.Ca=d+c*n;a.La=d*m+c;a.Ya+=c*r+-d*p;a.Za+=d*r+c*p}if(1!==e||1!==f)a.I*=k,a.Ca*=k,a.g*=l,a.La*=l;a.Ya+=c*-g*k+-d*h*l;a.Za-=d*
-g*k+c*h*l;this.Sk&&(a.Ya+=g,a.Za+=h);this.Iq&&(this.Yj=q.Sl(this.Yj,this.Lu),this.Iq=!1);this.Zj=!1}return this.Yj},pP:function(){if(this.Zj){var a=this.q.F,c=this.q.H,d=this.Jd.F,e=-d,f=this.Jd.H,g=-f,h=this.wa,k=this.Ba;this.Sk&&(a+=d,c+=f);var l=1,m=0,n=1,r=0;if(0!==this.Ag||0!==this.Rh)l=Math.cos(-this.Am),m=Math.sin(-this.Am),n=Math.cos(-this.Kr),r=Math.sin(-this.Kr);var p=this.ie||this.je;p||0===d&&0===f||(a+=n*e*h+-m*g*k,c+=r*e*h+l*g*k);a={I:n*h,g:r*h,Ca:-m*k,La:l*k,Ya:a,Za:c};p&&(a=q.Sl({I:1,
g:Math.tan(q.rj(this.je)),Ca:Math.tan(q.rj(this.ie)),La:1,Ya:0,Za:0},a),0!==d||0!==f)&&(a=q.py(a,e,g));this.Iq&&(a=q.Sl(a,this.Lu),this.Iq=!1);this.Yj=a;this.Zj=!1}return this.Yj},Cm:function(){this.WF=!0;this.X&&this.X.Cm()},xC:function(){this.so||(this.so=new q.pq);return this.so},R4:function(){return this.Pk},Qaa:function(a){this.Pk=a},CC:function(){return this.Ic},Pg:function(a){this.Ic=a},Q4:function(){return this.xA},Paa:function(a){this.xA=a},Z3:function(){var a=q.rect(0,0,this.va.Ha,this.va.ta),
c=this.Ss(),a=q.Xg(a,this.Ss());if(!this.t)return a;for(var d=this.t,e=0;e<d.length;e++){var f=d[e];f&&f.ka&&(f=f.hG(c))&&(a=q.wx(a,f))}return a},hG:function(a){var c=q.rect(0,0,this.va.Ha,this.va.ta);a=null==a?this.bg():q.Sl(this.bg(),a);c=q.Xg(c,a);if(!this.t)return c;for(var d=this.t,e=0;e<d.length;e++){var f=d[e];f&&f.ka&&(f=f.hG(a))&&(c=q.wx(c,f))}return c}});
q.Ga.Qc?(b=q.D.prototype,b.ctor=q.D.prototype.Kh,b.Wa=q.D.prototype.eQ,b.ra=q.D.prototype.Rm,b.transform=q.D.prototype.FQ,b.bg=q.D.prototype.pP):(b=q.D.prototype,b.ctor=q.D.prototype.Jh,b.Wa=q.D.prototype.dQ,b.ra=q.D.prototype.Qm,b.transform=q.D.prototype.EQ,b.bg=q.D.prototype.oP);q.D.create=function(){return new q.D};q.D.Lf={Ng:1,Rd:2,Yf:3,ji:4,jg:5,zh:6,Sd:7};
q.zb=q.D.extend({jb:!0,Wb:255,zg:255,Gc:null,ge:null,sd:!1,ae:!1,ctor:function(){q.D.prototype.ctor.call(this);this.zg=this.Wb=255;this.Gc=q.yb();this.ge=q.yb();this.ae=this.sd=!1},Zi:function(){return this.zg},LS:function(){return this.Wb},ia:function(a){this.Wb=this.zg=a;a=255;var c=this.X;c&&c.jb&&c.ae&&(a=c.Wb);this.ed(a)},ed:function(a){this.Wb=this.zg*a/255;if(this.ae){a=this.t;for(var c=0;c<a.length;c++){var d=a[c];d&&d.jb&&d.ed(this.Wb)}}},mU:function(){return this.ae},wK:function(a){this.ae!==
a&&((this.ae=a)?this.er():this.eA())},er:function(){var a=255,c=this.X;c&&c.jb&&c.ae&&(a=c.Wb);this.ed(a)},eA:function(){this.Wb=this.zg;for(var a=this.t,c=0;c<a.length;c++){var d=a[c];d&&d.jb&&d.ed(255)}},zd:function(){var a=this.ge;return new q.Cc(a.p,a.o,a.g)},ys:function(){return this.Gc},l:function(a){var c=this.Gc,d=this.ge;c.p=d.p=a.p;c.o=d.o=a.o;c.g=d.g=a.g;a=(a=this.X)&&a.jb&&a.sd?a.ys():q.yb();this.dd(a)},dd:function(a){var c=this.Gc,d=this.ge;c.p=0|d.p*a.p/255;c.o=0|d.o*a.o/255;c.g=0|d.g*
a.g/255;if(this.sd)for(a=this.t,d=0;d<a.length;d++){var e=a[d];e&&e.jb&&e.dd(c)}},lU:function(){return this.sd},vK:function(a){this.sd!==a&&((this.sd=a)?this.dr():this.dA())},dr:function(){var a;a=(a=this.X)&&a.jb&&a.sd?a.ys():q.yb();this.dd(a)},dA:function(){var a=this.Gc,c=this.ge;a.p=c.p;a.o=c.o;a.g=c.g;for(var a=this.t,c=q.yb(),d=0;d<a.length;d++){var e=a[d];e&&e.jb&&e.dd(c)}},f:function(a,c,d){q.D.prototype.f.call(this,a,c,d);this.sd&&this.dr();this.ae&&this.er()},If:function(){},tl:function(){return!1}});
q.zb.create=function(){var a=new q.zb;a.r();return a};q.Vd=q.zb.extend({jb:!0,vG:0,uG:0,sv:0,rv:0,Cj:null,Ra:null,mc:!1,ga:null,Hr:0,yA:!1,ctor:function(){q.zb.prototype.ctor.call(this);this.Cj=q.yb();this.ga={src:q.Ie,Gb:q.He};this.yA=!1},rda:function(){q.log("cc.AtlasNode.updateAtlasValues(): Shall be overridden in subclasses")},zd:function(){return this.mc?this.Cj:q.zb.prototype.zd.call(this)},If:function(a){var c=this.zd();this.mc=a;this.l(c)},tl:function(){return this.mc},xs:function(){return this.ga},Gl:function(a,c){this.ga=1==arguments.length?
a:{src:a,Gb:c}},eq:function(a){this.Ra=a},GI:function(){return this.Ra},d6:function(){return this.Hr},Dba:function(a){this.Hr=a},Km:null,vg:null,jH:null,Uu:null,bU:function(a,c,d,e){if(!a)throw"cc.AtlasNode.initWithTileFile(): title should not be null";a=q.ha.e().qa(a);return this.Ma(a,c,d,e)},Ma:null,sr:function(a,c,d,e){this.sv=c;this.rv=d;this.mc=!0;this.vg=a;if(!this.vg)return q.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.Km=this.vg;this.Qu();this.Hr=e;return!0},
tr:function(a,c,d,e){this.sv=c;this.rv=d;this.Cj=q.yb();this.mc=!0;this.ga.src=q.Ie;this.ga.Gb=q.He;c=this.ge;this.Uu=new Float32Array([c.p/255,c.o/255,c.g/255,this.zg/255]);this.Ra=new q.eo;this.Ra.Ma(a,e);if(!this.Ra)return q.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.Pm();this.qH();this.Qu();this.Hr=e;this.Pg(q.Hh.e().mi(q.W_));this.jH=q.W.getUniformLocation(this.CC().Qw(),"u_color");return!0},Va:null,ug:function(a){a=a||q.W;q.Qy(this);q.gk(this.ga.src,this.ga.Gb);
a.uniform4fv(this.jH,this.Uu);this.Ra.gI(this.Hr,0)},l:null,Mr:function(a){var c=this.ge;if(c.p!=a.p||c.o!=a.o||c.g!=a.g){c=new q.Cc(a.p,a.o,a.g);this.Cj=a;if(this.mc){var d=this.Wb;c.p=c.p*d/255;c.o=c.o*d/255;c.g=c.g*d/255}q.zb.prototype.l.call(this,a);this.aa()&&(a=this.vg.Hc)&&(c=q.ha.e().HI(a))&&(d=q.rect(0,0,a.width,a.height),a=q.vC(a,c,this.ge,d),c=new q.Zb,c.Df(a),c.ze(),this.fa(c))}},mB:function(a){var c=q.Cc(a.p,a.o,a.g);this.Cj=a;var d=this.Wb;this.mc&&(c.p=c.p*d/255,c.o=c.o*d/255,c.g=c.g*
d/255);q.zb.prototype.l.call(this,a);a=this.Gc;this.Uu=new Float32Array([a.p/255,a.o/255,a.g/255,d/255])},ia:null,Or:function(a){q.zb.prototype.ia.call(this,a);this.mc&&this.l(this.Cj)},pB:function(a){q.zb.prototype.ia.call(this,a);this.mc?this.l(this.Cj):(a=this.Gc,this.Uu=new Float32Array([a.p/255,a.o/255,a.g/255,this.Wb/255]))},aa:null,uA:function(){return this.Km},vA:function(){return this.Ra.aa()},fa:null,Pr:function(a){this.Km=a},Qr:function(a){this.Ra.fa(a);this.Pm();this.qH()},Qu:null,eO:function(){var a=
this.aa().c();this.uG=0|a.height/this.rv;this.vG=0|a.width/this.sv},fO:function(){var a=this.aa(),c=a.c();this.yA&&(c=a.va);this.uG=0|c.height/this.rv;this.vG=0|c.width/this.sv},Pm:function(){this.Ra.aa().Hs()||(this.ga.src=770,this.ga.Gb=771)},qH:function(){this.mc=this.Ra.aa().Hs()},oB:function(a){this.yA=a}});
q.Ga.Qc?(b=q.Vd.prototype,b.Ma=q.Vd.prototype.tr,b.Va=q.Vd.prototype.ug,b.l=q.Vd.prototype.mB,b.ia=q.Vd.prototype.pB,b.aa=q.Vd.prototype.vA,b.fa=q.Vd.prototype.Qr,b.Qu=q.Vd.prototype.fO):(b=q.Vd.prototype,b.Ma=q.Vd.prototype.sr,b.Va=q.D.prototype.Va,b.l=q.Vd.prototype.Mr,b.ia=q.Vd.prototype.Or,b.aa=q.Vd.prototype.uA,b.fa=q.Vd.prototype.Pr,b.Qu=q.Vd.prototype.eO);q.Vd.create=function(a,c,d,e){var f=new q.Vd;return f.bU(a,c,d,e)?f:null};q.vj=0;q.zq=1;q.yq=2;q.xq=3;q.gz=4;q.fz=5;q.uu=6;q.tu=7;q.wF=8;q.vF=9;q.uF=q.vj;q.Xz=q.uF;q.bN=!1;q.p1=function(a,c,d,e){this.FU=a||0;this.CU=c||0;this.NL=d||0;this.OL=e||0};
q.rN=q.Ea.extend({sP:null,Rf:null,jh:null,ih:null,JA:null,va:null,eh:null,fh:null,Io:null,pm:!1,Ic:null,rc:!1,Hc:null,Zh:null,Kd:null,ctor:function(){this.ih=this.jh=0;this.JA="";this.fh=this.eh=0;this.Io=!1;this.va=q.Em();this.pm=!1;this.sP=!0;this.Rf=q.Zb.WR();this.Ic=null;this.rc=!1;this.Zh=this.Hc=null;this.Kd=[]},BD:function(){this.Zh&&q.W.deleteTexture(this.Zh)},Q5:function(){return this.Rf},Ep:function(){return this.jh},Dp:function(){return this.ih},getName:function(){return this.Zh},c:function(){return q.size(this.va.width/
q.Gd(),this.va.height/q.Gd())},KS:function(){return this.va},TS:function(){return this.eh},dX:function(a){this.eh=a},US:function(){return this.fh},eX:function(a){this.fh=a},CC:function(){return this.Ic},Pg:function(a){this.Ic=a},Hs:function(){return this.Io},LT:function(){return this.pm},description:function(){return"\x3ccc.Texture2D | Name \x3d "+this.JA+" | Dimensions \x3d "+this.jh+" x "+this.ih+" | Coordinates \x3d ("+this.eh+", "+this.fh+")\x3e"},NV:function(){},sU:function(a){return a},Yw:function(a,
c,d,e,f){var g=q.W,h=0,h=c===q.vj?24:this.OH(c),h=d*h/8;0===h%8?g.pixelStorei(g.UNPACK_ALIGNMENT,8):0===h%4?g.pixelStorei(g.UNPACK_ALIGNMENT,4):0===h%2?g.pixelStorei(g.UNPACK_ALIGNMENT,2):g.pixelStorei(g.UNPACK_ALIGNMENT,1);this.Zh=g.createTexture();q.Hg(this);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE);
switch(c){case q.vj:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_BYTE,a);break;case q.zq:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_BYTE,a);break;case q.uu:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_4_4_4_4,a);break;case q.tu:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_5_5_5_1,a);break;case q.yq:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_SHORT_5_6_5,a);break;case q.fz:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE_ALPHA,
d,e,0,g.LUMINANCE_ALPHA,g.UNSIGNED_BYTE,a);break;case q.xq:g.texImage2D(g.TEXTURE_2D,0,g.ALPHA,d,e,0,g.ALPHA,g.UNSIGNED_BYTE,a);break;case q.gz:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE,d,e,0,g.LUMINANCE,g.UNSIGNED_BYTE,a);break;default:throw"NSInternalInconsistencyException";}this.va.Ha=f.width;this.va.ta=f.height;this.jh=d;this.ih=e;this.Rf=c;this.eh=f.width/d;this.fh=f.height/e;this.pm=this.Io=!1;this.Pg(q.Hh.e().mi(q.gN));return this.rc=!0},lS:function(a){var c=[0,this.fh,this.eh,this.fh,0,0,this.eh,
0],d=this.jh*this.eh,e=this.ih*this.fh;a=[a.x,a.y,0,d+a.x,a.y,0,a.x,e+a.y,0,d+a.x,e+a.y,0];q.ue(q.Zg|q.AN);this.Ic.nf();this.Ic.ZK();q.Hg(this);d=q.W;d.vertexAttribPointer(q.Le,2,d.FLOAT,!1,0,a);d.vertexAttribPointer(q.Dq,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},nS:function(a){var c=[0,this.fh,this.eh,this.fh,0,0,this.eh,0];a=[a.x,a.y,a.x+a.width,a.y,a.x,a.y+a.height,a.x+a.width,a.y+a.height];q.ue(q.Zg|q.AN);this.Ic.nf();this.Ic.ZK();q.Hg(this);var d=q.W;d.vertexAttribPointer(q.Le,2,
d.FLOAT,!1,0,a);d.vertexAttribPointer(q.Dq,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},RC:function(a){if(null==a)return q.log("cocos2d: cc.Texture2D. Can't create Texture. UIImage is nil"),!1;var c=a.Fs(),d=a.zs(),e=q.Je.e().Ar;if(c>e||d>e)return q.log("cocos2d: WARNING: Image ("+c+" x "+d+") is bigger than the supported "+e+" x "+e),!1;this.rc=!0;return this.PO(a,c,d)},Df:function(a){a&&(this.Zh=q.W.createTexture(),this.Hc=a)},OS:function(){return this.Hc},Kg:function(){return this.rc},
ze:function(){this.rc=!0;var a=q.W;q.Hg(this);a.pixelStorei(a.UNPACK_ALIGNMENT,4);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,this.Hc);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);this.Pg(q.Hh.e().mi(q.gN));q.Hg(null);a=this.Hc.height;this.jh=this.va.Ha=this.Hc.width;this.ih=this.va.ta=
a;this.Rf=q.vj;this.fh=this.eh=1;this.pm=this.Io=!1;this.$d()},rl:function(a,c,d,e,f,g){3==arguments.length&&(c=arguments[1],d=arguments[2],e=q.size(0,0),f=q.wj,g=q.Fq);var h=new q.vM,k;if(q.Fq===g)k=q.wj===f?q.KY:q.Aq===f?q.LY:q.MY;else if(q.Du===g)k=q.wj===f?q.HY:q.Aq===f?q.IY:q.JY;else if(q.Eq===g)k=q.wj===f?q.EY:q.Aq===f?q.FY:q.GY;else return q.log("Not supported alignment format!"),!1;return h.rl(a,e.width,e.height,k,c,d)?this.RC(h):!1},VT:function(){return!1},aJ:function(a){var c=!1,d=new q.l0;
(c=d.B7(a))?(d.Lba(!0),this.JA=d.getName(),this.fh=this.eh=1,this.jh=d.Fs(),this.ih=d.zs(),this.va.Ha=this.jh,this.va.ta=this.ih,this.Io=q.bN,this.Rf=d.O4(),this.rK()):q.log("cocos2d: Couldn't load PVR image "+a);return c},ZT:function(){return q.Je.e().Zr?!0:(q.log("cocos2d: WARNING: PVRTC images is not supported."),!1)},EX:function(a){var c=q.W;q.wt(this.jh==q.Xn(this.jh)&&this.ih==q.Xn(this.ih)||a.NL==c.CLAMP_TO_EDGE&&a.OL==c.CLAMP_TO_EDGE,"WebGLRenderingContext.CLAMP_TO_EDGE should be used in NPOT textures");
q.Hg(this);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,a.FU);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,a.CU);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,a.NL);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,a.OL)},rK:function(){var a=q.W;q.Hg(this);this.pm?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},qK:function(){var a=q.W;q.Hg(this);
this.pm?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},generateMipmap:function(){q.wt(this.jh==q.Xn(this.jh)&&this.ih==q.Xn(this.ih),"Mimpap texture only works in POT textures");q.Hg(this);q.W.generateMipmap(q.W.TEXTURE_2D);this.pm=!0},gY:function(){switch(this.Rf){case q.vj:return"RGBA8888";case q.zq:return"RGB888";case q.yq:return"RGB565";case q.uu:return"RGBA4444";
case q.tu:return"RGB5A1";case q.fz:return"AI88";case q.xq:return"A8";case q.gz:return"I8";case q.wF:return"PVRTC4";case q.vF:return"PVRTC2";default:q.log("stringForFormat: "+this.Rf+", cannot give useful result, it's a unrecognized pixel format")}return""},OH:function(a){a=a||this.Rf;switch(a){case q.vj:return 32;case q.zq:return 32;case q.yq:return 16;case q.xq:return 8;case q.uu:return 16;case q.tu:return 16;case q.wF:return 4;case q.vF:return 2;case q.gz:return 8;case q.fz:return 16;default:return q.log("bitsPerPixelForFormat: "+
this.Rf+", cannot give useful result, it's a illegal pixel format"),-1}},PO:function(a,c,d){var e=a.getData(),f=null,f=null,g=a.q7(),h=q.size(a.Fs(),a.zs()),k=q.uF,l=a.X3();g||(8<=l?k=q.zq:(q.log("cocos2d: cc.Texture2D: Using RGB565 texture since image has no alpha"),k=q.yq));var m=c*d;if(k==q.yq)if(g)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>2<<5|(f[l]>>16&255)>>3<<0;else for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]&255)>>3<<
11|(f[l]&255)>>2<<5|(f[l]&255)>>3<<0;else if(k==q.uu)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>4<<12|(f[l]>>8&255)>>4<<8|(f[l]>>16&255)>>4<<4|(f[l]>>24&255)>>4<<0;else if(k==q.tu)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>3<<6|(f[l]>>16&255)>>3<<1|(f[l]>>24&255)>>7<<0;else if(k==q.xq)for(e=new Uint8Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=f>>24&255;if(g&&k==q.zq)for(f=a.getData(),e=new Uint8Array(c*d*3),l=0;l<m;++l)e[3*
l]=f>>0&255,e[3*l+1]=f>>8&255,e[3*l+2]=f>>16&255;this.Yw(e,k,c,d,h);a.getData();this.Io=a.m8();return!0},Wf:function(a,c){this.Kd.push({fk:a,bi:c})},WV:function(a){for(var c=this.Kd,d=0;d<c.length;d++)c[d].bi==a&&c.splice(d,1)},$d:function(){for(var a=this.Kd,c=0,d=a.length;c<d;c++){var e=a[c];e.fk.call(e.bi,this)}a.length=0}});
q.qN=q.Ea.extend({va:null,rc:!1,Hc:null,Kd:null,ctor:function(){this.va=q.Em();this.rc=!1;this.Hc=null;this.Kd=[]},Ep:function(){return this.va.Ha},Dp:function(){return this.va.ta},c:function(){var a=q.Gd();return q.size(this.va.Ha/a,this.va.ta/a)},KS:function(){return this.va},Df:function(a){a&&(this.Hc=a)},OS:function(){return this.Hc},Kg:function(){return this.rc},ze:function(){this.rc=!0;var a=this.Hc;this.va.Ha=a.width;this.va.ta=a.height;this.$d()},description:function(){return"\x3ccc.Texture2D | width \x3d "+
this.va.Ha+" height "+this.va.ta+"\x3e"},Yw:function(){return!1},RC:function(){return!1},rl:function(){return!1},BD:function(){},getName:function(){return null},TS:function(){return 1},dX:function(){},US:function(){return 1},eX:function(){},CC:function(){return null},Pg:function(){},Hs:function(){return!1},LT:function(){return!1},NV:function(){},sU:function(a){return a},lS:function(){},nS:function(){},VT:function(){return!1},aJ:function(){return!1},ZT:function(){return!0},EX:function(){},rK:function(){},
qK:function(){},generateMipmap:function(){},gY:function(){return""},OH:function(){return-1},Wf:function(a,c){this.Kd.push({fk:a,bi:c})},WV:function(a){for(var c=this.Kd,d=0;d<c.length;d++)c[d].bi==a&&c.splice(d,1)},$d:function(){for(var a=this.Kd,c=0,d=a.length;c<d;c++){var e=a[c];e.fk.call(e.bi,this)}a.length=0}});q.Zb=q.Ga.Qc?q.rN:q.qN;q.Zb.Baa=function(a){q.Xz=a};q.Zb.WR=function(){return q.Xz};q.Zb.v4=function(){return q.Xz};q.ws=null;q.Y8=function(a){if(q.MR(a)==q.pM)q.log("unsupported format:"+a);else{var c=new Image;c.src=a;c.addEventListener("load",function(){q.ha.e().qR(a,c);this.removeEventListener("load",arguments.callee,!1)},!1)}};q.MR=function(a){return 0<a.toLowerCase().indexOf(".jpg")||0<a.toLowerCase().indexOf(".jpeg")?q.JZ:0<a.toLowerCase().indexOf(".png")?q.KZ:0<a.toLowerCase().indexOf(".webp")?q.MZ:q.pM};
q.ha=q.Ea.extend({rb:null,$r:null,gw:null,LG:!1,vv:null,wv:null,ctor:function(){if(q.ws)throw"Attempted to allocate a second instance of a singleton.";this.gw+=0|1E3*Math.random();this.rb={};this.$r={};q.Dd===q.Dk&&(this.vv={},this.wv={})},Az:function(a,c){if(a&&"string"===typeof c)a[c]();else a&&"function"===typeof c&&c.call(a)},XO:function(){this.LG=!0;var a,c=this.vv,d=this.rb;for(a in c){var e=c[a],f=new q.Zb;f.Df(e);f.ze();d[a]=f}this.vv={}},H1:function(){q.log("TextureCache:addPVRTCImage does not support on HTML5")},
C1:function(){q.log("TextureCache:addPVRTCImage does not support on HTML5")},description:function(){return"\x3cTextureCache | Number of textures \x3d "+this.rb.length+"\x3e"},ey:function(a){a=q.Hd.e().pe(a);return this.rb.hasOwnProperty(a)?this.rb[a]:null},QS:function(a){for(var c in this.rb)if(this.rb[c]==a)return c;return null},GO:function(){this.gw++;return"_textureKey_"+this.gw},HI:function(a){var c=this.QS(a);c||(c=a instanceof HTMLImageElement?a.src:this.GO());this.$r.hasOwnProperty(c)||(this.$r[c]=
q.zp(a));return this.$r[c]},G1:function(a){if(!a)throw"cc.TextureCache.addPVRImage(): path should be non-null";a=q.Hd.e().pe(a);if(null!=this.rb[a])return this.rb[a];var c=new q.Zb;c.aJ(a)?this.rb[a]=c:q.log("cocos2d: Couldn't add PVRImage:"+a+" in TextureCache");return c},H$:function(){var a=this.rb,c;for(c in a)a[c]&&a[c].BD();this.rb={}},W$:function(a){if(a){var c=this.rb,d;for(d in c)c[d]==a&&(c[d].BD(),delete c[d])}},$V:function(a){null!=a&&(a=q.Hd.e().pe(a),this.rb[a]&&delete this.rb[a])},D1:function(a,
c,d){if(!a)throw"cc.TextureCache.addImageAsync(): path should be non-null";a=q.Hd.e().pe(a);var e=this.rb[a],f,g;if(e)e.Kg()?this.Az(c,d):(g=this,f=e.Hc,f.addEventListener("load",function(){e.ze();g.Az(c,d);this.removeEventListener("load",arguments.callee,!1)}));else{f=new Image;f.crossOrigin="Anonymous";g=this;f.addEventListener("load",function(){g.rb.hasOwnProperty(a)&&g.rb[a].ze();g.Az(c,d);this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});
f.addEventListener("error",function(){q.Yb.e().pn(a);g.rb.hasOwnProperty(a)&&delete g.rb[a];this.removeEventListener("error",arguments.callee,!1)});f.src=a;var h=new q.Zb;h.Df(f);this.rb[a]=h}return this.rb[a]},QN:function(a){var c=new Image;c.crossOrigin="Anonymous";var d=this;c.addEventListener("load",function(){q.Yb.e().li();d.vv[a]=c;delete d.wv[a];this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});c.addEventListener("error",function(){q.Yb.e().pn(a);
delete d.wv[a];this.removeEventListener("error",arguments.callee,!1)});c.src=a;this.wv[a]=c},qa:function(a){if(!a)throw"cc.Texture.addImage(): path should be non-null";if(q.Dd===q.Dk&&!this.LG)return this.QN(a);a=q.Hd.e().pe(a);var c=this.rb[a],d;if(c)c.Kg()?q.Yb.e().li():(d=c.Hc,d.addEventListener("load",function(){c.ze();q.Yb.e().li();this.removeEventListener("load",arguments.callee,!1)}));else{d=new Image;d.crossOrigin="Anonymous";var e=this;d.addEventListener("load",function(){q.Yb.e().li();e.rb.hasOwnProperty(a)&&
e.rb[a].ze();this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});d.addEventListener("error",function(){q.Yb.e().pn(a);e.rb.hasOwnProperty(a)&&delete e.rb[a];this.removeEventListener("error",arguments.callee,!1)});d.src=a;var f=new q.Zb;f.Df(d);this.rb[a]=f}return this.rb[a]},qR:function(a,c){if(c instanceof q.Zb)this.rb[a]=c;else{var d=new q.Zb;d.Df(c);d.ze();this.rb[a]=d}},M1:function(a,c){if(!a)throw"cc.Texture.addUIImage(): image should be non-null";
if(c&&this.rb.hasOwnProperty(c)&&this.rb[c])return this.rb[c];var d=new q.Zb;d.RC(a);null!=c&&null!=d?this.rb[c]=d:q.log("cocos2d: Couldn't add UIImage in TextureCache");return d},d3:function(){var a=0,c=0,d=this.rb,e;for(e in d){var f=d[e];a++;f.Hc instanceof HTMLImageElement?q.log("cocos2d: '"+e+"' id\x3d"+f.Hc.src+" "+f.Ep()+" x "+f.Dp()):q.log("cocos2d: '"+e+"' id\x3d HTMLCanvasElement "+f.Ep()+" x "+f.Dp());c+=f.Ep()*f.Dp()*4}d=this.$r;for(e in d){var f=d[e],g;for(g in f){var h=f[g];a++;q.log("cocos2d: '"+
e+"' id\x3d HTMLCanvasElement "+h.width+" x "+h.height);c+=h.width*h.height*4}}q.log("cocos2d: TextureCache dumpDebugInfo: "+a+" textures, HTMLCanvasElement for "+c/1024+" KB ("+(c/1048576).toFixed(2)+" MB)")}});q.ha.e=function(){q.ws||(q.ws=new q.ha);return q.ws};q.ha.zV=function(){q.ws=null};q.eo=q.Ea.extend({ud:null,Bi:null,Ja:!1,hd:0,Fa:null,Qe:null,xg:null,Ir:null,yg:null,ctor:function(){this.Bi=[]},S6:function(){return this.Ta},f4:function(){return this.hd},aa:function(){return this.Fa},fa:function(a){this.Fa=a},Og:function(a){this.Ja=a},lJ:function(){return this.Ja},c6:function(){return this.Qe},Cba:function(a){this.Qe=a},P0:function(a,c){if(a)for(var d=0;d<a.length;d++)this.Vv(a[d],c+d)},Vv:function(a,c){var d=this.Qe;d[c]?(d[c].Ka=a.Ka,d[c].Ua=a.Ua,d[c].Sa=a.Sa,d[c].Na=a.Na):d[c]=
new q.ac(a.Sa,a.Ka,a.Na,a.Ua,this.xg,c*q.ac.BYTES_PER_ELEMENT)},description:function(){return"\x3ccc.TextureAtlas | totalQuads \x3d"+this.Ta+"\x3e"},YG:function(){if(0!==this.hd)for(var a=this.ud,c=this.hd,d=0;d<c;d++)q.xF?(a[6*d+0]=4*d+0,a[6*d+1]=4*d+0,a[6*d+2]=4*d+2,a[6*d+3]=4*d+1,a[6*d+4]=4*d+3,a[6*d+5]=4*d+3):(a[6*d+0]=4*d+0,a[6*d+1]=4*d+1,a[6*d+2]=4*d+2,a[6*d+3]=4*d+3,a[6*d+4]=4*d+2,a[6*d+5]=4*d+1)},tQ:function(){var a=q.W;this.Bi[0]=a.createBuffer();this.Bi[1]=a.createBuffer();this.Ir=a.createBuffer();
this.xG()},xG:function(){var a=q.W;a.bindBuffer(a.ARRAY_BUFFER,this.Ir);a.bufferData(a.ARRAY_BUFFER,this.xg,a.DYNAMIC_DRAW);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Bi[1]);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.ud,a.STATIC_DRAW)},dj:function(a,c){var d=q.ha.e().qa(a);if(d)return this.Ma(d,c);q.log("cocos2d: Could not open file: "+a);return!1},Ma:function(a,c){if(!a)throw"cc.TextureAtlas.initWithTexture():texture should be non-null";this.hd=c|=0;this.Ta=0;this.Fa=a;this.Qe=[];this.ud=new Uint16Array(6*
c);var d=q.ac.BYTES_PER_ELEMENT;this.xg=new ArrayBuffer(d*c);this.yg=new Uint8Array(this.xg);if((!this.Qe||!this.ud)&&0<c)return!1;for(var e=this.Qe,f=0;f<c;f++)e[f]=new q.ac(null,null,null,null,this.xg,f*d);this.YG();this.tQ();return this.Ja=!0},ky:function(a,c){if(!a)throw"cc.TextureAtlas.updateQuad(): quad should be non-null";if(0>c||c>=this.hd)throw"cc.TextureAtlas.updateQuad(): Invalid index";this.Ta=Math.max(c+1,this.Ta);this.Vv(a,c);this.Ja=!0},XC:function(a,c){if(c>=this.hd)throw"cc.TextureAtlas.insertQuad(): Invalid index";
this.Ta++;if(this.Ta>this.hd)q.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");else{var d=q.ac.BYTES_PER_ELEMENT,e=c*d,f=(this.Ta-1-c)*d;this.Qe[this.Ta-1]=new q.ac(null,null,null,null,this.xg,(this.Ta-1)*d);this.yg.set(this.yg.subarray(e,e+f),e+d);this.Vv(a,c);this.Ja=!0}},H7:function(a,c,d){d=d||a.length;if(c+d>this.hd)throw"cc.TextureAtlas.insertQuad(): Invalid index + amount";var e=q.ac.BYTES_PER_ELEMENT;this.Ta+=d;if(this.Ta>this.hd)q.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");
else{var f=c*e,g=(this.Ta-1-c-d)*e,h=this.Ta-1-d,k;for(k=0;k<d;k++)this.Qe[h+k]=new q.ac(null,null,null,null,this.xg,(this.Ta-1)*e);this.yg.set(this.yg.subarray(f,f+g),f+e*d);for(k=0;k<d;k++)this.Vv(a[k],c+k);this.Ja=!0}},G7:function(a,c){if(a!==c){if(0>c&&c>=this.Ta)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid newIndex";if(0>a&&a>=this.Ta)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid fromIndex";var d=q.ac.BYTES_PER_ELEMENT,e=this.yg,f=e.subarray(a*d,d),g;a>c?(g=c*d,e.set(e.subarray(g,
g+(a-c)*d),g+d),e.set(f,g)):(g=(a+1)*d,e.set(e.subarray(g,g+(c-a)*d),g-d),e.set(f,c*d));this.Ja=!0}},YV:function(a){if(a>=this.Ta)throw"cc.TextureAtlas.removeQuadAtIndex(): Invalid index";var c=q.ac.BYTES_PER_ELEMENT;this.Ta--;this.Qe.length=this.Ta;if(a!==this.Ta){var d=(a+1)*c;this.yg.set(this.yg.subarray(d,d+(this.Ta-a)*c),d-c)}this.Ja=!0},O$:function(a,c){if(a+c>this.Ta)throw"cc.TextureAtlas.removeQuadsAtIndex(): index + amount out of bounds";this.Ta-=c;if(a!==this.Ta){var d=q.ac.BYTES_PER_ELEMENT,
e=(a+c)*d;this.yg.set(this.yg.subarray(e,e+(this.Ta-a)*d),a*d)}this.Ja=!0},SV:function(){this.Ta=this.Qe.length=0},m1:function(a){this.Ja=a},dW:function(a){if(a==this.hd)return!0;var c=q.ac.BYTES_PER_ELEMENT,d=this.hd;this.Ta=Math.min(this.Ta,a);var e=this.hd=0|a,f=this.Ta;if(null==this.Qe)for(this.Qe=[],this.xg=new ArrayBuffer(c*e),this.yg=new Uint8Array(this.xg),a=0;a<e;a++)this.Qe=new q.ac(null,null,null,null,this.xg,a*c);else{var g,h,k=this.Qe;if(e>d){g=[];h=new ArrayBuffer(c*e);for(a=0;a<f;a++)g[a]=
new q.ac(k[a].Sa,k[a].Ka,k[a].Na,k[a].Ua,h,a*c);for(;a<e;a++)g[a]=new q.ac(null,null,null,null,h,a*c)}else for(f=Math.max(f,e),g=[],h=new ArrayBuffer(c*e),a=0;a<f;a++)g[a]=new q.ac(k[a].Sa,k[a].Ka,k[a].Na,k[a].Ua,h,a*c);this.yg=new Uint8Array(h);this.Qe=g;this.xg=h}null==this.ud?this.ud=new Uint16Array(6*e):e>d?(c=new Uint16Array(6*e),c.set(this.ud,0),this.ud=c):this.ud=this.ud.subarray(0,6*e);this.YG();this.xG();return this.Ja=!0},y7:function(a){this.Ta+=a},j9:function(a,c,d){if(2==arguments.length){d=
c;c=this.Ta-a;if(d+(this.Ta-a)>this.hd)throw"cc.TextureAtlas.moveQuadsFromIndex(): move is out of bounds";if(0===c)return}else{if(d+c>this.Ta)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid newIndex";if(a>=this.Ta)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid oldIndex";if(a==d)return}var e=q.ac.BYTES_PER_ELEMENT,f=a*e,g=c*e,h=this.yg,k=h.subarray(f,f+g),l=d*e,m;d<a?(m=d*e,h.set(h.subarray(m,m+(a-d)*e),m+g)):(m=(a+c)*e,h.set(h.subarray(m,m+(d-a)*e),f));h.set(k,l);this.Ja=!0},D3:function(a,
c){for(var d=c*q.ac.BYTES_PER_ELEMENT,e=new Uint8Array(this.xg,a*q.ac.BYTES_PER_ELEMENT,d),f=0;f<d;f++)e[f]=0},gI:function(a,c){c=c||0;if(0!==a&&this.Fa&&this.Fa.Kg()){var d=q.W;q.Hg(this.Fa);q.ue(q.Cu);d.bindBuffer(d.ARRAY_BUFFER,this.Ir);this.Ja&&d.bufferData(d.ARRAY_BUFFER,this.xg,d.DYNAMIC_DRAW);d.vertexAttribPointer(q.Le,3,d.FLOAT,!1,24,0);d.vertexAttribPointer(q.Cq,4,d.UNSIGNED_BYTE,!0,24,12);d.vertexAttribPointer(q.Dq,2,d.FLOAT,!1,24,16);this.Ja&&(this.Ja=!1);d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,
this.Bi[1]);q.xF?d.drawElements(d.TRIANGLE_STRIP,6*a,d.UNSIGNED_SHORT,6*c*this.ud.BYTES_PER_ELEMENT):d.drawElements(d.TRIANGLES,6*a,d.UNSIGNED_SHORT,6*c*this.ud.BYTES_PER_ELEMENT);q.ci++}},oS:function(){this.gI(this.Ta,0)},j1:function(){var a=q.W;this.Bi&&(this.Bi[0]&&a.deleteBuffer(this.Bi[0]),this.Bi[1]&&a.deleteBuffer(this.Bi[1]));this.Ir&&a.deleteBuffer(this.Ir)}});q.eo.create=function(a,c){var d=new q.eo;return d&&d.dj(a,c)?d:null};q.eo.gb=function(a,c){var d=new q.eo;return d&&d.Ma(a,c)?d:null};q.vq=q.D.extend({ctor:function(){q.D.prototype.ctor.call(this);this.Sk=!0;this.L(0.5,0.5);this.V(q.Y.e().Qb)}});q.vq.create=function(){return new q.vq};q.hz=0;q.g0=1;
q.Rc=q.D.extend({Uk:!1,Tk:!1,Ko:!1,hl:0,hs:q.hz,rm:!1,To:0,ctor:function(){q.D.prototype.ctor.call(this);this.Ko=this.Tk=this.Uk=!1;this.hl=0;this.hs=q.hz;this.rm=!1;this.To=0},OO:function(){this.L(0.5,0.5);this.Sk=!0;var a=q.Y.e();this.V(a.Qb)},r:function(){q.D.prototype.r.call(this);this.OO();return!0},xx:function(){this.hs===q.hz?q.MV(this,this.hl):q.xD(this.hl,!0,this)},f8:function(){return this.rm},Kx:function(a){if(!q.Yd)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.rm!=
a&&(this.rm=a,this.Te&&(a?q.Y.e().Af().EH(this,this.To):q.Y.e().Af().gK(this)))},iba:function(a){if(!q.Yd)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.To!==a&&(this.To=a,this.rm&&(this.Kx(!1),this.Kx(!0)))},u5:function(){return this.To},y8:function(){return this.Uk},Xb:function(a){this.Uk!==a&&(this.Uk=a,this.Te&&(a?this.xx():q.yL(this)))},W6:function(){return this.hl},fq:function(a){this.hl!==a&&(this.hl=a,this.Uk&&(this.Xb(!1),this.Xb(!0)))},V6:function(){return this.hs},
YD:function(a){this.hs!==a&&(this.hs=a,this.Uk&&(this.Xb(!1),this.Xb(!0)))},N7:function(){return this.Tk},kaa:function(a){if(!q.xk)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";if(a!==this.Tk&&(this.Tk=a,this.Te)){var c=q.Y.e();a?c.Ap().Bh(this):c.Ap().Bh(null)}},wW:function(a){this.Tk&&q.xk&&q.Y.e().Ap().wW(a)},A9:function(){q.log("onAccelerometer event should be handled.")},e8:function(){return this.Ko},$aa:function(a){if(!q.Wn)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";
if(a!==this.Ko&&(this.Ko=a,this.Te)){var c=q.Y.e();a?c.Ow().XQ(this):c.Ow().UV(this)}},Ng:function(){var a=q.Y.e();this.Uk&&this.xx();q.D.prototype.Ng.call(this);this.Tk&&q.xk&&a.Ap().Bh(this);this.Ko&&q.Wn&&a.Ow().XQ(this);this.rm&&q.Yd&&a.Af().EH(this,this.To)},Rd:function(){var a=q.Y.e();this.Uk&&q.yL(this);this.Tk&&q.xk&&a.Ap().Bh(null);this.Ko&&q.Wn&&a.Ow().UV(this);this.rm&&q.Yd&&a.Af().gK(this);q.D.prototype.Rd.call(this)},ji:function(){this.Tk&&q.xk&&q.Y.e().Ap().Bh(this);q.D.prototype.ji.call(this)},
lb:function(){q.log("onTouchBegan event should be handled.");return!0},qd:function(){},Ff:function(){},lk:function(){},HJ:function(){},KJ:function(){},JJ:function(){},IJ:function(){},NU:function(){return!1},OU:function(){return!1},ki:function(){return!1},RU:function(){return!1},VU:function(){return!1},WU:function(){return!1},XU:function(){return!1},SU:function(){return!1},TU:function(){return!1},UU:function(){return!1},YU:function(){return!1},PU:function(){return!1},QU:function(){return!1},kD:function(){},
Al:function(){}});q.Rc.create=function(){var a=new q.Rc;return a&&a.r()?a:null};
q.Fh=q.Rc.extend({jb:!0,Wb:0,zg:0,Gc:null,ge:null,ae:!1,sd:!1,ctor:function(){q.Rc.prototype.ctor.call(this);this.jb=!0;this.zg=this.Wb=255;this.Gc=q.yb();this.ge=q.yb();this.sd=this.ae=!1},r:function(){return q.Rc.prototype.r.call(this)?(this.wK(!1),this.vK(!1),!0):!1},Zi:function(){return this.zg},LS:function(){return this.Wb},ia:function(a){this.Wb=this.zg=a;a=255;var c=this.X;c&&c.jb&&c.ae&&(a=c.Wb);this.ed(a)},ed:function(a){this.Wb=0|this.zg*a/255;if(this.ae){a=this.t;for(var c=0;c<a.length;c++){var d=
a[c];d&&d.jb&&d.ed(this.Wb)}}},mU:function(){return this.ae},wK:function(a){this.ae!==a&&((this.ae=a)?this.er():this.eA())},er:function(){var a=255,c=this.X;c&&c.jb&&c.ae&&(a=c.Wb);this.ed(a)},eA:function(){this.Wb=this.zg;for(var a=this.t,c=0;c<a.length;c++){var d=a[c];d&&d.jb&&d.ed(255)}},zd:function(){var a=this.ge;return q.k(a.p,a.o,a.g)},ys:function(){var a=this.Gc;return q.k(a.p,a.o,a.g)},l:function(a){var c=this.Gc,d=this.ge;c.p=d.p=a.p;c.o=d.o=a.o;c.g=d.g=a.g;a=(a=this.X)&&a.jb&&a.sd?a.ys():
q.yb();this.dd(a)},dd:function(a){var c=this.Gc,d=this.ge;c.p=0|d.p*a.p/255;c.o=0|d.o*a.o/255;c.g=0|d.g*a.g/255;if(this.sd)for(a=this.t,d=0;d<a.length;d++){var e=a[d];e&&e.jb&&e.dd(c)}},lU:function(){return this.sd},vK:function(a){this.sd!==a&&((this.sd=a)?this.dr():this.dA())},dr:function(){var a;a=(a=this.X)&&a.jb&&a.sd?a.ys():q.yb();this.dd(a)},dA:function(){var a=this.Gc,c=this.ge;a.p=c.p;a.o=c.o;a.g=c.g;for(var a=this.t,c=q.yb(),d=0;d<a.length;d++){var e=a[d];e&&e.jb&&e.dd(c)}},f:function(a,
c,d){q.D.prototype.f.call(this,a,c,d);this.sd&&this.dr();this.ae&&this.er()},If:function(){},tl:function(){return!1}});
q.ca=q.Fh.extend({ga:null,xs:function(){return this.ga},y2:function(a,c){this.V(a,c)},QH:function(a){this.V(a,this.va.ta)},v2:function(a){this.V(this.va.Ha,a)},If:function(){},tl:function(){return!1},l:function(a){q.Fh.prototype.l.call(this,a);this.wd()},ia:function(a){q.Fh.prototype.ia.call(this,a);this.wd()},Lo:!1,bH:null,xB:null,QB:null,Sz:null,zB:null,yB:null,Jh:function(){q.Fh.prototype.ctor.call(this);this.ga=new q.Wl(q.Ie,q.He)},Kh:function(){q.Fh.prototype.ctor.call(this);this.ga=new q.Wl(q.Ie,
q.He);this.zB=new ArrayBuffer(32);this.yB=new ArrayBuffer(64);var a=this.zB,c=this.yB,d=q.Bb.BYTES_PER_ELEMENT,e=q.Wd.BYTES_PER_ELEMENT;this.bH=[new q.Bb(0,0,a,0),new q.Bb(0,0,a,d),new q.Bb(0,0,a,2*d),new q.Bb(0,0,a,3*d)];this.xB=[new q.Wd(0,0,0,1,c,0),new q.Wd(0,0,0,1,c,e),new q.Wd(0,0,0,1,c,2*e),new q.Wd(0,0,0,1,c,3*e)];this.QB=q.W.createBuffer();this.Sz=q.W.createBuffer()},Gl:function(a,c){this.ga=1==arguments.length?a:{src:a,Gb:c};q.Dd===q.lg&&(this.Lo=this.ga&&1==this.ga.src&&771==this.ga.Gb)},
r:function(a,c,d){if(!q.Rc.prototype.r.call(this))return!1;q.Dd!==q.lg&&this.Pg(q.Hh.e().mi(q.fN));var e=q.Y.e().Qb;a=a||new q.Ob(0,0,0,255);c=c||e.width;d=d||e.height;e=this.Gc;e.p=a.p;e.o=a.o;e.g=a.g;e=this.ge;e.p=a.p;e.o=a.o;e.g=a.g;this.zg=this.Wb=a.I;this.V(c,d);this.wd();return!0},V:null,ZP:function(a,c){var d=this.bH;2===arguments.length?(d[1].x=a,d[2].y=c,d[3].x=a,d[3].y=c,this.TF(),q.Rc.prototype.V.call(this,a,c)):(d[1].x=a.width,d[2].y=a.height,d[3].x=a.width,d[3].y=a.height,this.TF(),q.Rc.prototype.V.call(this,
a))},wd:null,JQ:function(){},KQ:function(){for(var a=this.Gc,c=this.Wb,d=this.xB,e=0;4>e;e++)d[e].p=a.p/255,d[e].o=a.o/255,d[e].g=a.g/255,d[e].I=c/255;this.SF()},dd:function(a){q.Fh.prototype.dd.call(this,a);this.wd()},ed:function(a){q.Fh.prototype.ed.call(this,a);this.wd()},TF:function(){var a=q.W;a.bindBuffer(a.ARRAY_BUFFER,this.QB);a.bufferData(a.ARRAY_BUFFER,this.zB,a.STATIC_DRAW)},SF:function(){var a=q.W;a.bindBuffer(a.ARRAY_BUFFER,this.Sz);a.bufferData(a.ARRAY_BUFFER,this.yB,a.STATIC_DRAW)},
Va:null,lm:function(a){a=a||q.W;var c=this.c(),d=q.sa.e(),e=this.Gc;a.fillStyle="rgba("+(0|e.p)+","+(0|e.o)+","+(0|e.g)+","+this.Wb/255+")";a.fillRect(0,0,c.width*d.wa,-c.height*d.Ba);q.ci++},ug:function(a){a=a||q.W;q.Qy(this);q.ue(q.Zg|q.zN);a.bindBuffer(a.ARRAY_BUFFER,this.QB);a.vertexAttribPointer(q.Le,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Sz);a.vertexAttribPointer(q.Cq,4,a.FLOAT,!1,0,0);q.gk(this.ga.src,this.ga.Gb);a.drawArrays(a.TRIANGLE_STRIP,0,4)}});
q.Ga.Qc?(q.ca.prototype.ctor=q.ca.prototype.Kh,q.ca.prototype.V=q.ca.prototype.ZP,q.ca.prototype.wd=q.ca.prototype.KQ,q.ca.prototype.Va=q.ca.prototype.ug):(q.ca.prototype.ctor=q.ca.prototype.Jh,q.ca.prototype.V=q.Fh.prototype.V,q.ca.prototype.wd=q.ca.prototype.JQ,q.ca.prototype.Va=q.ca.prototype.lm);q.ca.create=function(a,c,d){var e=new q.ca;switch(arguments.length){case 0:e.r();break;case 1:e.r(a);break;case 3:e.r(a,c,d);break;default:e.r()}return e};
q.VE=q.ca.extend({cH:null,Eo:null,bp:null,Fo:null,dm:null,Wu:!1,pr:null,or:null,ctor:function(){q.ca.prototype.ctor.call(this);this.cH=new q.Cc(0,0,0);this.Eo=new q.Cc(0,0,0);this.dm=q.a(0,-1);this.Fo=this.bp=255;this.pr=q.a(0,0);this.or=q.a(0,0)},V:function(a,c){2===arguments.length?q.ca.prototype.V.call(this,a,c):q.ca.prototype.V.call(this,a);this.wd()},A6:function(){return this.ge},Sba:function(a){this.l(a)},Iaa:function(a){this.Eo=a;this.wd()},E4:function(){return this.Eo},Tba:function(a){this.bp=
a;this.wd()},B6:function(){return this.bp},Jaa:function(a){this.Fo=a;this.wd()},F4:function(){return this.Fo},jca:function(a){this.dm.x=a.x;this.dm.y=a.y;this.wd()},a7:function(){return q.a(this.dm.x,this.dm.y)},S7:function(){return this.Wu},yaa:function(a){this.Wu=a;this.wd()},r:function(a,c,d){a=a||q.dC(0,0,0,255);c=c||q.dC(0,0,0,255);d=d||q.a(0,-1);var e=this.cH,f=this.Eo;e.p=a.p;e.o=a.o;e.g=a.g;this.bp=a.I;f.p=c.p;f.o=c.o;f.g=c.g;this.Fo=c.I;this.dm=d;this.Wu=!0;q.ca.prototype.r.call(this,q.h(a.p,
a.o,a.g,255));return!0},Va:function(a){if(q.Dd===q.Dk)q.ca.prototype.Va.call(this,a);else{a=a||q.W;this.Lo&&(a.globalCompositeOperation="lighter");a.save();var c=q.sa.e(),d=this.Wb/255,e=this.c().width*c.wa,c=this.c().height*c.Ba,f=a.createLinearGradient(this.pr.x,this.pr.y,this.or.x,this.or.y),g=this.Gc,h=this.Eo;f.addColorStop(0,"rgba("+Math.round(g.p)+","+Math.round(g.o)+","+Math.round(g.g)+","+(this.bp/255*d).toFixed(4)+")");f.addColorStop(1,"rgba("+Math.round(h.p)+","+Math.round(h.o)+","+Math.round(h.g)+
","+(this.Fo/255*d).toFixed(4)+")");a.fillStyle=f;a.fillRect(0,0,e,-c);0!=this.QP&&a.rotate(this.k1);a.restore()}},wd:function(){var a=this.dm;if(q.Dd===q.lg){var c=0.5*this.c().width,d=0.5*this.c().height;this.pr.x=c*-a.x+c;this.pr.y=d*a.y-d;this.or.x=c*a.x+c;this.or.y=d*-a.y-d}else if(d=q.mD(a),0!==d){c=Math.sqrt(2);a=q.a(a.x/d,a.y/d);this.Wu&&(a=q.ij(a,1/(Math.abs(a.x)+Math.abs(a.y))*c));var e=this.Wb/255,f=this.Gc,g=this.Eo,d=f.p/255,h=f.o/255,f=f.g/255,k=this.bp*e/255,l=g.p/255,m=g.o/255,g=g.g/
255,e=this.Fo*e/255,n=this.xB,r=n[0],p=n[1],u=n[2],n=n[3];r.p=l+(c+a.x+a.y)/(2*c)*(d-l);r.o=m+(c+a.x+a.y)/(2*c)*(h-m);r.g=g+(c+a.x+a.y)/(2*c)*(f-g);r.I=e+(c+a.x+a.y)/(2*c)*(k-e);p.p=l+(c-a.x+a.y)/(2*c)*(d-l);p.o=m+(c-a.x+a.y)/(2*c)*(h-m);p.g=g+(c-a.x+a.y)/(2*c)*(f-g);p.I=e+(c-a.x+a.y)/(2*c)*(k-e);u.p=l+(c+a.x-a.y)/(2*c)*(d-l);u.o=m+(c+a.x-a.y)/(2*c)*(h-m);u.g=g+(c+a.x-a.y)/(2*c)*(f-g);u.I=e+(c+a.x-a.y)/(2*c)*(k-e);n.p=l+(c-a.x-a.y)/(2*c)*(d-l);n.o=m+(c-a.x-a.y)/(2*c)*(h-m);n.g=g+(c-a.x-a.y)/(2*c)*
(f-g);n.I=e+(c-a.x-a.y)/(2*c)*(k-e);this.SF()}}});q.VE.create=function(a,c,d){var e=new q.VE;switch(arguments.length){case 2:if(e&&e.r(a,c))return e;break;case 3:if(e&&e.r(a,c,d))return e;break;case 0:if(e&&e.r())return e;break;default:throw"Arguments error ";}return null};
q.WE=q.Rc.extend({Nk:0,dh:null,D7:function(a){this.dh=[];this.dh.push(a);this.Nk=0;this.f(a);return!0},XT:function(a){this.dh=a;this.Nk=0;this.f(this.dh[this.Nk]);return!0},Rca:function(a){a>=this.dh.length?q.log("cc.LayerMultiplex.switchTo():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.dh[this.Nk],!0),this.Nk=a,this.f(this.dh[a]))},Sca:function(a){a>=this.dh.length?q.log("cc.LayerMultiplex.switchToAndReleaseMe():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.dh[this.Nk],
!0),this.dh[this.Nk]=null,this.Nk=a,this.f(this.dh[a]))},E1:function(a){a?this.dh.push(a):q.log("cc.Layer.addLayer(): layer should be non-null")}});q.WE.create=function(){0<arguments.length&&null==arguments[arguments.length-1]&&q.log("parameters should not be ending with null in Javascript");var a=new q.WE;return a.XT(arguments)?a:null};q.bz=-1;
q.zp=function(a){function c(){var c=q.zp,e=a.width,h=a.height;d[0].width=e;d[0].height=h;d[1].width=e;d[1].height=h;d[2].width=e;d[2].height=h;d[3].width=e;d[3].height=h;c.canvas.width=e;c.canvas.height=h;var k=c.canvas.getContext("2d");k.drawImage(a,0,0);c.hE.width=e;c.hE.height=h;for(var k=k.getImageData(0,0,e,h).data,l=0;4>l;l++){var m=d[l].getContext("2d");m.getImageData(0,0,e,h).data;c.uL.drawImage(a,0,0);for(var n=c.uL.getImageData(0,0,e,h),r=n.data,p=0;p<k.length;p+=4)r[p]=0===l?k[p]:0,r[p+
1]=1===l?k[p+1]:0,r[p+2]=2===l?k[p+2]:0,r[p+3]=k[p+3];m.putImageData(n,0,0)}a.onload=null}if(a.hasOwnProperty("channelCache"))return a.FR;var d=[document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas")];try{c()}catch(e){a.onload=c}return a.FR=d};q.zp.canvas=document.createElement("canvas");q.zp.hE=document.createElement("canvas");q.zp.uL=q.zp.hE.getContext("2d");
q.M3=function(a,c,d){d||(d=q.rect(0,0,a.width,a.height),d=q.tq(d));c=c instanceof q.Wd?q.h(255*c.p,255*c.o,255*c.g,255*c.I):q.h(c.p,c.o,c.g,50);var e=document.createElement("canvas"),f=e.getContext("2d");e.width!=d.width&&(e.width=d.width);e.height!=d.height&&(e.height=d.height);f.save();f.drawImage(a,d.x,d.y,d.width,d.height,0,0,d.width,d.height);f.globalCompositeOperation="source-in";f.globalAlpha=c.I/255;f.fillStyle="rgb("+c.p+","+c.o+","+c.g+")";f.fillRect(0,0,d.width,d.height);f.restore();return e};
q.vC=function(a,c,d,e,f){e||(e=q.rect(0,0,a.width,a.height));a=null==d.I?q.yw(d.p/255,d.o/255,d.g/255,1):d;d=Math.min(e.width,c[0].width);var g=Math.min(e.height,c[0].height),h;f?(h=f.getContext("2d"),h.clearRect(0,0,d,g)):(f=document.createElement("canvas"),f.width=d,f.height=g,h=f.getContext("2d"));h.save();h.globalCompositeOperation="lighter";var k=h.globalAlpha;0<a.p&&(h.globalAlpha=a.p*k,h.drawImage(c[0],e.x,e.y,d,g,0,0,d,g));0<a.o&&(h.globalAlpha=a.o*k,h.drawImage(c[1],e.x,e.y,d,g,0,0,d,g));
0<a.g&&(h.globalAlpha=a.g*k,h.drawImage(c[2],e.x,e.y,d,g,0,0,d,g));1>a.p+a.o+a.g&&(h.globalAlpha=k,h.drawImage(c[3],e.x,e.y,d,g,0,0,d,g));h.restore();return f};q.WH=function(a,c){if(!a)return null;if(!c)return a;var d=document.createElement("canvas");d.width=c.width;d.height=c.height;var e=d.getContext("2d");e.translate(d.width/2,d.height/2);e.rotate(-1.5707963267948966);e.drawImage(a,c.x,c.y,c.height,c.width,-c.height/2,-c.width/2,c.height,c.width);return d};
q.o0=function(a,c,d,e,f,g){this.scale=c;this.rotation=d;this.Kl=e;this.visible=g};q.ng=function(a){return 0|a};q.iN&&(q.ng=function(a){return a});
q.A=q.zb.extend({jb:!0,Ra:null,Xc:0,kb:null,Ja:!1,Oh:null,Ii:null,bl:!1,Om:null,ga:null,Fa:null,za:null,Yc:!1,dc:null,Wh:null,mc:!1,kc:!1,lc:!1,qb:!1,Kd:null,EG:null,wL:function(){return this.qb},Wf:function(a,c){this.Kd.push({fk:a,bi:c})},$d:function(){for(var a=this.Kd,c=0,d=a.length;c<d;c++){var e=a[c];e.fk.call(e.bi,this)}a.length=0},lJ:function(){return this.Ja},Og:function(a){this.Ja=a},w8:function(){return this.Yc},T3:function(){return this.Xc},De:function(a){this.Xc=a},EC:function(){return q.rect(this.za.x,
this.za.y,this.za.width,this.za.height)},GI:function(){return this.Ra},eq:function(a){this.Ra=a},z6:function(){return this.kb},Rba:function(a){this.kb=a},G5:function(){return this.dc},xs:function(){return this.ga},Ae:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrame(): spriteFrame should be non-null";a.qb||(this.qb=!1,a.Wf(this.vB,this));var c=this.Ma(a.aa(),a.se());this.$p(a);return c},vB:null,yQ:function(a){this.Wa();this.Sb(a.se(),a.md,a.ld);this.$d()},xQ:function(a){this.Wa();this.Sb(a.se(),
a.md,a.ld);a=this.zd();255===a.p&&255===a.o&&255===a.g||this.Su();this.$d()},cJ:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";a=q.pg.e().vh(a);return this.Ae(a)},vda:function(a){this.Ra=a.Ra;this.kb=a},$D:function(a){this.za.x=a.x;this.za.y=a.y;this.za.width=a.width;this.za.height=a.height},Sd:function(){if(this.he){for(var a,c,d=this.t,e,f=1;f<d.length;f++){c=d[f];a=f-1;for(e=d[a];0<=a&&(c.eb<e.eb||c.eb==e.eb&&c.Qf<e.Qf);)d[a+1]=e,a-=1,e=d[a];d[a+
1]=c}this.kb&&this.rg(d,q.D.Lf.Sd);this.he=!1}},Xs:function(a,c){if(!a)throw"cc.Sprite.reorderChild(): child should be non-null";-1===this.t.indexOf(a)?q.log("cc.Sprite.reorderChild(): this child is not in children list"):c!==a.eb&&(this.kb&&!this.he&&(this.qB(),this.kb.hK(!0)),q.D.prototype.Xs.call(this,a,c))},removeChild:function(a,c){this.kb&&this.kb.xn(a);q.D.prototype.removeChild.call(this,a,c)},pc:function(a){var c=this.t,d=this.kb;if(d&&null!=c)for(var e=0,f=c.length;e<f;e++)d.xn(c[e]);q.D.prototype.pc.call(this,
a);this.Ii=!1},BK:function(a){this.Oh=a;this.Og(a);a=this.t;if(null!=a)for(var c=0;c<a.length;c++)a[c]instanceof q.A&&a[c].BK(!0)},Yg:function(){this.kb&&!this.Oh&&(this.Ja=this.Oh=!0,this.Ii&&this.BK(!0))},n:function(a,c){2<=arguments.length?q.D.prototype.n.call(this,a,arguments[1]):q.D.prototype.n.call(this,a);this.Yg()},Px:function(a){q.D.prototype.Px.call(this,a);this.Yg()},Qx:function(a){q.D.prototype.Qx.call(this,a);this.Yg()},Rx:function(a){q.D.prototype.Rx.call(this,a);this.Yg()},Tx:function(a){q.D.prototype.Tx.call(this,
a);this.Yg()},Ux:function(a){q.D.prototype.Ux.call(this,a);this.Yg()},cq:function(a){q.D.prototype.cq.call(this,a);this.Yg()},En:function(a){q.D.prototype.En.call(this,a);this.Yg()},rk:function(a,c){q.D.prototype.rk.call(this,a,c);this.Yg()},$K:function(a){q.D.prototype.$K.call(this,a);this.Yg()},L:function(a,c){2===arguments.length?q.D.prototype.L.call(this,a,c):q.D.prototype.L.call(this,a);this.Yg()},v:function(a){q.D.prototype.v.call(this,a);this.Yg()},cj:function(a){this.kb?q.log("cc.Sprite.ignoreAnchorPointForPosition(): it is invalid in cc.Sprite when using SpriteBatchNode"):
q.D.prototype.cj.call(this,a)},TW:function(a){this.kc!=a&&(this.kc=a,this.Sb(this.za,this.Yc,this.va),this.Wa())},UW:function(a){this.lc!=a&&(this.lc=a,this.Sb(this.za,this.Yc,this.va),this.Wa())},Z7:function(){return this.kc},a8:function(){return this.lc},If:null,gQ:function(a){this.mc!==a&&(this.mc=a,this.nt())},fQ:function(a){this.mc!==a&&(this.mc=a,this.Wa())},tl:function(){return this.mc},ed:null,NQ:function(a){q.zb.prototype.ed.call(this,a);this.nt()},oH:function(a){q.zb.prototype.ed.call(this,
a);this.Cm()},Faa:function(a,c){if(!a)throw"cc.Sprite.setDisplayFrameWithAnimationName(): animationName must be non-null";var d=q.Tl.e().vI(a);d?(d=d.de[c])?this.$p(d.vh()):q.log("cc.Sprite.setDisplayFrameWithAnimationName(): Invalid frame index"):q.log("cc.Sprite.setDisplayFrameWithAnimationName(): Frame not found")},W3:function(){return this.kb},qB:function(){if(!this.he){this.he=!0;for(var a=this.X;a&&a!=this.kb;)a.qB(),a=a.getParent()}},aa:function(){return this.Fa},Kb:null,Qv:null,vf:!1,Vu:!1,
Lo:!1,vg:null,hp:null,gA:null,ctor:null,Kh:function(a){q.zb.prototype.ctor.call(this);this.bl=!1;this.dc=q.vd();this.Wh=q.vd();this.ga={src:q.Ie,Gb:q.He};this.za=q.rect(0,0,0,0);this.Kb=new q.ac;this.Qv=q.W.createBuffer();this.qb=this.vf=!0;this.Kd=[];if(a)if("string"===typeof a)a=q.pg.e().vh(a),this.Ae(a);else if("object"===typeof a)if(a instanceof q.Id)this.Ae(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new q.Zb;c.Df(a);c.ze();this.Ma(c)}else a instanceof q.Zb&&
this.Ma(a)},Jh:function(a){q.zb.prototype.ctor.call(this);this.bl=!1;this.dc=q.vd();this.Wh=q.vd();this.ga={src:q.Ie,Gb:q.He};this.za=q.rect(0,0,0,0);this.EG=!1;this.qb=!0;this.Kd=[];this.hp={x:0,y:0,width:0,height:0,rt:!1};this.gA=q.size(0,0);if(a)if("string"===typeof a)a=q.pg.e().vh(a),this.Ae(a);else if("object"===typeof a)if(a instanceof q.Id)this.Ae(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new q.Zb;c.Df(a);c.ze();this.Ma(c)}else a instanceof q.Zb&&this.Ma(a)},
b6:function(){return this.Kb},Gl:null,VP:function(a,c){var d=this.ga;1===arguments.length?(d.src=a.src,d.Gb=a.Gb):(d.src=a,d.Gb=c)},UP:function(a,c){var d=this.ga;1===arguments.length?(d.src=a.src,d.Gb=a.Gb):(d.src=a,d.Gb=c);this.Lo=d&&(770==d.src&&1==d.Gb||1==d.src&&1==d.Gb)},r:null,AA:function(){if(0<arguments.length)return this.dj(arguments[0],arguments[1]);q.zb.prototype.r.call(this);this.Ja=this.Oh=!1;this.mc=!0;this.ga.src=q.Ie;this.ga.Gb=q.He;this.fa(null);this.qb=!0;this.kc=this.lc=!1;this.L(0.5,
0.5);this.dc.F=0;this.dc.H=0;this.Ii=!1;var a={p:255,o:255,g:255,I:255};this.Kb.Ka.K=a;this.Kb.Ua.K=a;this.Kb.Sa.K=a;this.Kb.Na.K=a;this.vf=!0;this.Sb(q.gd(),!1,q.am());return!0},zA:function(){if(0<arguments.length)return this.dj(arguments[0],arguments[1]);q.zb.prototype.r.call(this);this.Ja=this.Oh=!1;this.mc=!0;this.ga.src=q.Ie;this.ga.Gb=q.He;this.fa(null);this.qb=!0;this.kc=this.lc=!1;this.L(0.5,0.5);this.dc.F=0;this.dc.H=0;this.Ii=!1;this.Sb(q.gd(),!1,q.am());return!0},dj:function(a,c){if(!a)throw"cc.Sprite.initWithFile(): filename should be non-null";
var d=q.ha.e().ey(a);if(!d)d=q.ha.e().qa(a);else if(!c){var e=d.c();c=q.rect(0,0,e.width,e.height)}return this.Ma(d,c)},Ma:null,tr:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";d=d||!1;if(!q.zb.prototype.r.call(this))return!1;this.kb=null;this.Ja=this.Oh=!1;this.mc=!0;this.ga.src=q.Ie;this.ga.Gb=q.He;this.kc=this.lc=!1;this.L(0.5,0.5);this.dc.F=0;this.dc.H=0;this.Ii=!1;var e=new q.Ob(255,255,255,255),f=this.Kb;f.Ka.K=e;f.Ua.K=e;f.Sa.K=e;f.Na.K=e;
this.qb=e=a.Kg();if(!e)return this.Yc=d||!1,c&&(e=this.za,e.x=c.x,e.y=c.y,e.width=c.width,e.height=c.height),a.Wf(this.hw,this),!0;c||(e=a.c(),c=q.rect(0,0,e.width,e.height));this.fa(a);this.Sb(c,d,c.bb);this.Ee(null);return this.vf=!0},sr:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";d=d||!1;if(!q.zb.prototype.r.call(this))return!1;this.kb=null;this.Ja=this.Oh=!1;this.mc=!0;this.ga.src=q.Ie;this.ga.Gb=q.He;this.kc=this.lc=!1;this.L(0.5,0.5);this.dc.F=
0;this.dc.H=0;this.Ii=!1;var e=a.Kg();this.qb=e;if(!e)return this.Yc=d||!1,c&&(this.za.x=c.x,this.za.y=c.y,this.za.width=c.width,this.za.height=c.height),a.Wf(this.hw,this),!0;c||(e=a.c(),c=q.rect(0,0,e.width,e.height));this.vg=a;this.fa(a);this.Sb(c,d,c.bb);this.Ee(null);return!0},hw:null,DQ:function(a){if(!this.qb){this.qb=!0;var c=this.za;if(!c)c=a.c(),c=q.rect(0,0,c.width,c.height);else if(q.Jr(c)){var d=a.c();c.width=d.width;c.height=d.height}this.fa(a);this.Sb(c,this.Yc,c.bb);this.Ee(null);
this.vf=!0;this.$d()}},CQ:function(a){if(!this.qb){this.qb=!0;var c=this.za;if(!c)c=a.c(),c=q.rect(0,0,c.width,c.height);else if(q.Jr(c)){var d=a.c();c.width=d.width;c.height=d.height}this.vg=a;this.fa(a);this.Sb(c,this.Yc,c.bb);this.Ee(null);this.$d()}},Sb:null,WG:function(a,c,d){this.Yc=c||!1;d=d||a.bb;this.V(d);this.$D(a);this.VG(a);a=this.Wh;this.kc&&(a.F=-a.F);this.lc&&(a.H=-a.H);var e=this.za;this.dc.F=a.F+(this.va.Ha-e.width)/2;this.dc.H=a.H+(this.va.ta-e.height)/2;if(this.kb)this.Ja=!0;else{a=
0+this.dc.F;c=0+this.dc.H;d=a+e.width;var e=c+e.height,f=this.Kb;f.Ka.s={x:a,y:c,z:0};f.Ua.s={x:d,y:c,z:0};f.Sa.s={x:a,y:e,z:0};f.Na.s={x:d,y:e,z:0};this.vf=!0}},rB:function(a,c,d){this.Yc=c||!1;d=d||a.bb;this.V(d);this.$D(a);c=this.hp;d=q.Gd();c.x=0|a.x*d;c.y=0|a.y*d;c.width=0|a.width*d;c.height=0|a.height*d;c.rt=!(0===c.width||0===c.height);a=this.Wh;this.kc&&(a.F=-a.F);this.lc&&(a.H=-a.H);this.dc.F=a.F+(this.va.Ha-this.za.width)/2;this.dc.H=a.H+(this.va.ta-this.za.height)/2;this.kb&&(this.Ja=!0)},
jg:null,VQ:function(){if(this.Ja){var a=this.Kb,c=this.X;if(!this.ka||c&&c!=this.kb&&c.bl)a.Ua.s={x:0,y:0,z:0},a.Sa.s={x:0,y:0,z:0},a.Na.s={x:0,y:0,z:0},a.Ka.s={x:0,y:0,z:0},this.bl=!0;else{this.bl=!1;var d=this.Om=c&&c!=this.kb?q.Sl(this.bg(),c.Om):this.bg(),e=this.za.bb,c=this.dc.F,f=this.dc.H,g=c+e.width,e=f+e.height,h=d.Ya,k=d.Za,l=d.I,m=d.g,n=d.La,d=-d.Ca,r=this.tw;a.Ka.s={x:q.ng(c*l-f*d+h),y:q.ng(c*m+f*n+k),z:r};a.Ua.s={x:q.ng(g*l-f*d+h),y:q.ng(g*m+f*n+k),z:r};a.Sa.s={x:q.ng(c*l-e*d+h),y:q.ng(c*
m+e*n+k),z:r};a.Na.s={x:q.ng(g*l-e*d+h),y:q.ng(g*m+e*n+k),z:r}}this.Ra.ky(a,this.Xc);this.Oh=!1;this.Og(!1)}this.Ii&&this.rg(this.t,q.D.Lf.jg);q.Bk&&(a=[q.a(this.Kb.Ka.s.x,this.Kb.Ka.s.y),q.a(this.Kb.Ua.s.x,this.Kb.Ua.s.y),q.a(this.Kb.Na.s.x,this.Kb.Na.s.y),q.a(this.Kb.Sa.s.x,this.Kb.Sa.s.y)],q.Zf.ke(a,4,!0))},UQ:function(){if(this.Ja){var a=this.X;!this.ka||a&&a!=this.kb&&a.bl?this.bl=!0:(this.bl=!1,this.Om=a&&a!=this.kb?q.Sl(this.bg(),a.Om):this.bg());this.Ja=this.Oh=!1}this.Ii&&this.rg(this.t,
q.D.Lf.jg)},f:null,zz:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.eb);null==d&&(d=a.od);if(this.kb){if(!(a instanceof q.A)){q.log("cc.Sprite.addChild(): cc.Sprite only supports cc.Sprites as children when using cc.SpriteBatchNode");return}a.aa().Zh!==this.Ra.aa().Zh&&q.log("cc.Sprite.addChild(): cc.Sprite only supports a sprite using same texture as children when using cc.SpriteBatchNode");this.kb.appendChild(a);this.he||this.qB()}q.D.prototype.f.call(this,
a,c,d);this.Ii=!0},yz:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.eb);null==d&&(d=a.od);q.D.prototype.f.call(this,a,c,d);this.Ii=!0},nt:function(){var a=this.Gc,c=this.Wb,a={p:a.p,o:a.o,g:a.g,I:c};this.mc&&(a.p*=c/255,a.o*=c/255,a.g*=c/255);c=this.Kb;c.Ka.K=a;c.Ua.K=a;c.Sa.K=a;c.Na.K=a;this.kb&&(this.Xc!=q.bz?this.Ra.ky(c,this.Xc):this.Ja=!0);this.vf=!0},ia:null,pB:function(a){q.zb.prototype.ia.call(this,a);this.nt()},Or:function(a){q.zb.prototype.ia.call(this,
a);this.Cm()},l:null,mB:function(a){q.zb.prototype.l.call(this,a);this.nt()},Mr:function(a){var c=this.zd();if(c.p!==a.p||c.o!==a.o||c.g!==a.g)q.zb.prototype.l.call(this,a),this.Su(),this.Cm()},dd:null,MQ:function(a){q.zb.prototype.dd.call(this,a);this.nt()},JB:function(a){var c=this.zd();q.zb.prototype.dd.call(this,a);a=this.Gc;if(c.p!==a.p||c.o!==a.o||c.g!==a.g)this.Su(),this.Cm()},$p:null,aQ:function(a){this.Wa();var c=a.Jb;this.Wh.F=c.x;this.Wh.H=c.y;c=a.aa();a.qb||(this.qb=!1,a.Wf(function(a){this.qb=
!0;var c=a.aa();c!=this.Fa&&this.fa(c);this.Sb(a.se(),a.md,a.ld);this.$d()},this));c!=this.Fa&&this.fa(c);this.Yc=a.md;this.Sb(a.se(),this.Yc,a.ld)},$P:function(a){this.Wa();var c=a.Jb;this.Wh.F=c.x;this.Wh.H=c.y;this.Yc=a.md;var c=a.aa(),d=a.qb;d||(this.qb=!1,a.Wf(function(a){this.qb=!0;var c=a.aa();c!=this.Fa&&this.fa(c);this.Sb(a.se(),a.md,a.ld);this.$d()},this));c!=this.Fa&&this.fa(c);this.Yc&&(this.vg=c);this.Sb(a.se(),this.Yc,a.ld);this.Vu=!1;d&&(a=this.zd(),255===a.p&&255===a.o&&255===a.g||
this.Su())},nJ:null,bP:function(a){return q.aK(a.se(),this.za)&&a.aa().getName()==this.Fa.getName()&&q.QJ(a.Jb,this.Wh)},aP:function(a){return a.aa()!=this.Fa?!1:q.aK(a.se(),this.za)},jS:function(){return q.Id.gb(this.Fa,q.Yn(this.za),this.Yc,q.XM(this.Wh),q.az(this.va))},Ee:null,TP:function(a){if(this.kb=a)this.Om={I:1,g:0,Ca:0,La:1,Ya:0,Za:0},this.eq(this.kb.Ra);else{this.Xc=q.bz;this.eq(null);this.Oh=!1;this.Og(!1);a=this.dc.F;var c=this.dc.H,d=a+this.za.width,e=c+this.za.height,f=this.Kb;f.Ka.s=
{x:a,y:c,z:0};f.Ua.s={x:d,y:c,z:0};f.Sa.s={x:a,y:e,z:0};f.Na.s={x:d,y:e,z:0};this.vf=!0}},SP:function(a){(this.kb=a)?(this.Om={I:1,g:0,Ca:0,La:1,Ya:0,Za:0},this.eq(this.kb.Ra)):(this.Xc=q.bz,this.eq(null),this.Oh=!1,this.Og(!1))},fa:null,Qr:function(a){if(a&&!(a instanceof q.Zb))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.kb&&this.kb.aa()!=a?q.log("cc.Sprite.setTexture(): Batched sprites should use the same texture as the batchnode"):(a?this.Pg(q.Hh.e().mi(q.$y)):
this.Pg(q.Hh.e().mi(q.fN)),this.kb||this.Fa==a||(this.Fa=a,this.Pm()))},Pr:function(a){if(a&&!(a instanceof q.Zb))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.Fa!=a&&(a&&a.Hc instanceof HTMLImageElement&&(this.vg=a),this.Fa=a)},Pm:function(){this.kb?q.log("cc.Sprite._updateBlendFunc(): _updateBlendFunc doesn't work when the sprite is rendered using a cc.CCSpriteBatchNode"):this.Fa&&this.Fa.Hs()?(this.ga.src=q.Ie,this.ga.Gb=q.He,this.If(!0)):(this.ga.src=770,
this.ga.Gb=771,this.If(!1))},Su:function(){var a,c=this.Fa,d=this.hp;c&&d.rt&&this.vg&&(a=c.Hc)&&(c=q.ha.e().HI(this.vg.Hc))&&(this.Vu=!0,a instanceof HTMLCanvasElement&&!this.Yc&&!this.EG?q.vC(a,c,this.Gc,d,a):(a=q.vC(a,c,this.Gc,d),c=new q.Zb,c.Df(a),c.ze(),this.fa(c)))},VG:function(a){a=q.Yn(a);var c=this.kb?this.Ra.aa():this.Fa;if(c){var d=c.Ep(),e=c.Dp(),f,g=this.Kb;this.Yc?(q.Vt?(c=(2*a.x+1)/(2*d),d=c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/
d,f=a.y/e,a=(a.y+a.width)/e),this.kc&&(e=f,f=a,a=e),this.lc&&(e=c,c=d,d=e),g.Ka.C.Pa=c,g.Ka.C.ma=f,g.Ua.C.Pa=c,g.Ua.C.ma=a,g.Sa.C.Pa=d,g.Sa.C.ma=f,g.Na.C.Pa=d,g.Na.C.ma=a):(q.Vt?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+a.height)/e),this.kc&&(e=c,c=d,d=e),this.lc&&(e=f,f=a,a=e),g.Ka.C.Pa=c,g.Ka.C.ma=a,g.Ua.C.Pa=d,g.Ua.C.ma=a,g.Sa.C.Pa=c,g.Sa.C.ma=f,g.Na.C.Pa=d,g.Na.C.ma=f);this.vf=!0}},Va:null,ug:function(){if(this.qb){var a=
q.W,c=this.Fa;c?c.rc&&(this.Ic.nf(),this.Ic.Rg(),q.gk(this.ga.src,this.ga.Gb),q.n7(0,c),q.ue(q.Cu),a.bindBuffer(a.ARRAY_BUFFER,this.Qv),this.vf&&(a.bufferData(a.ARRAY_BUFFER,this.Kb.ZB,a.DYNAMIC_DRAW),this.vf=!1),a.vertexAttribPointer(0,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(1,4,a.UNSIGNED_BYTE,!0,24,12),a.vertexAttribPointer(2,2,a.FLOAT,!1,24,16),a.drawArrays(a.TRIANGLE_STRIP,0,4)):(this.Ic.nf(),this.Ic.Rg(),q.gk(this.ga.src,this.ga.Gb),q.Hg(null),q.ue(q.Zg|q.zN),a.bindBuffer(a.ARRAY_BUFFER,this.Qv),
this.vf&&(q.W.bufferData(q.W.ARRAY_BUFFER,this.Kb.ZB,q.W.STATIC_DRAW),this.vf=!1),a.vertexAttribPointer(q.Le,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(q.Cq,4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));q.ci++;0!==q.Bk&&(1===q.Bk?(a=this.Kb,a=[q.a(a.Sa.s.x,a.Sa.s.y),q.a(a.Ka.s.x,a.Ka.s.y),q.a(a.Ua.s.x,a.Ua.s.y),q.a(a.Na.s.x,a.Na.s.y)],q.Zf.ke(a,4,!0)):2===q.Bk&&(a=this.EC().bb,c=this.dc,a=[q.a(c.x,c.y),q.a(c.x+a.width,c.y),q.a(c.x+a.width,c.y+a.height),q.a(c.x,c.y+a.height)],q.Zf.ke(a,
4,!0)))}},lm:function(a){if(this.qb){a=a||q.W;this.Lo&&(a.globalCompositeOperation="lighter");var c=q.sa.e().wa,d=q.sa.e().Ba;a.globalAlpha=this.Wb/255;var e=this.za,f=this.va,g=this.dc,h=this.gA,k=0|g.F,l=-g.H-e.height,m=this.hp;h.width=e.width*c;h.height=e.height*d;if(this.kc||this.lc)a.save(),this.kc&&(k=-g.F-e.width,a.scale(-1,1)),this.lc&&(l=g.H,a.scale(1,-1));k*=c;l*=d;this.Fa&&m.rt?(f=this.Fa.Hc,this.Vu?a.drawImage(f,0,0,m.width,m.height,k,l,h.width,h.height):a.drawImage(f,m.x,m.y,m.width,
m.height,k,l,h.width,h.height)):0!==f.Ha&&(h=this.zd(),a.fillStyle="rgba("+h.p+","+h.o+","+h.g+",1)",a.fillRect(k,l,f.Ha*c,f.ta*d));1===q.Bk?(a.strokeStyle="rgba(0,255,0,1)",k/=c,l=-(l/d),k=[q.a(k,l),q.a(k+e.width,l),q.a(k+e.width,l-e.height),q.a(k,l-e.height)],q.Zf.ke(k,4,!0)):2===q.Bk&&(a.strokeStyle="rgba(0,255,0,1)",c=this.za.bb,l=-l,k=[q.a(k,l),q.a(k+c.width,l),q.a(k+c.width,l-c.height),q.a(k,l-c.height)],q.Zf.ke(k,4,!0));(this.kc||this.lc)&&a.restore();q.ci++}}});
q.Ga.Qc?(b=q.A.prototype,b.vB=q.A.prototype.yQ,b.If=q.A.prototype.gQ,b.ed=q.A.prototype.NQ,b.ctor=q.A.prototype.Kh,b.Gl=q.A.prototype.VP,b.r=q.A.prototype.AA,b.Ma=q.A.prototype.tr,b.hw=q.A.prototype.DQ,b.Sb=q.A.prototype.WG,b.jg=q.A.prototype.VQ,b.f=q.A.prototype.zz,b.ia=q.A.prototype.pB,b.l=q.A.prototype.mB,b.dd=q.A.prototype.MQ,b.$p=q.A.prototype.aQ,b.nJ=q.A.prototype.bP,b.Ee=q.A.prototype.TP,b.fa=q.A.prototype.Qr,b.Va=q.A.prototype.ug):(b=q.A.prototype,b.vB=q.A.prototype.xQ,b.If=q.A.prototype.fQ,
b.ed=q.A.prototype.oH,b.ctor=q.A.prototype.Jh,b.Gl=q.A.prototype.UP,b.r=q.A.prototype.zA,b.Ma=q.A.prototype.sr,b.hw=q.A.prototype.CQ,b.Sb=q.A.prototype.rB,b.jg=q.A.prototype.UQ,b.f=q.A.prototype.yz,b.ia=q.A.prototype.Or,b.l=q.A.prototype.Mr,b.dd=q.A.prototype.JB,b.$p=q.A.prototype.$P,b.nJ=q.A.prototype.aP,b.Ee=q.A.prototype.SP,b.fa=q.A.prototype.Pr,b.Va=q.A.prototype.lm);
q.A.gb=function(a,c){var d=arguments.length,e=new q.A;switch(d){case 1:return e&&e.Ma(a)?e:null;case 2:return e&&e.Ma(a,c)?e:null;default:throw"Sprite.createWithTexture(): Argument must be non-nil ";}};q.A.create=function(a,c){var d=arguments.length,e=new q.A;if(0===d){if(e.r())return e}else if(e&&e.r(a,c))return e;return null};
q.A.VH=function(a){var c=null;if("string"==typeof a){if(c=q.pg.e().vh(a),!c)return q.log("Invalid spriteFrameName: "+a),null}else return q.log("Invalid argument. Expecting string."),null;return(a=new q.A)&&a.Ae(c)?a:null};q.A.UH=function(a){var c=new q.A;return c&&c.Ae(a)?c:null};q.pj=q.Ea.extend({Tr:null,be:0,ls:null,ctor:function(){this.be=0},G:function(){var a=new q.pj;a.Ae(this.Tr.G(),this.be,this.ls);return a},Cw:function(){return q.G(this)},copy:function(){var a=new q.pj;a.Ae(this.Tr.G(),this.be,this.ls);return a},Ae:function(a,c,d){this.Tr=a;this.be=c;this.ls=d;return!0},vh:function(){return this.Tr},Jf:function(a){this.Tr=a},x4:function(){return this.be},Eaa:function(a){this.be=a},Y6:function(){return this.ls},hca:function(a){this.ls=a}});
q.oj=q.Ea.extend({de:null,Pj:0,zm:!1,ya:0,be:0,Mm:0,ctor:function(){this.de=[]},P4:function(){return this.de},GK:function(a){this.de=a},XB:function(a){var c=new q.pj;c.Ae(a,1,null);this.de.push(c);this.Mm++},J1:function(a){a=q.ha.e().qa(a);var c=q.gd();c.bb=a.c();a=q.Id.gb(a,c);this.XB(a)},K1:function(a,c){var d=q.Id.gb(a,c);this.XB(d)},Is:function(a,c,d){q.vt(a,q.pj);this.be=c;this.Pj=d;this.GK([]);for(c=0;c<a.length;c++)d=a[c],this.de.push(d),this.Mm+=d.be;return!0},G:function(){var a=new q.oj;
a.Is(this.$F(),this.be,this.Pj);a.Ox(this.zm);return a},Cw:function(){var a=new q.oj;a.Is(this.$F(),this.be,this.Pj);a.Ox(this.zm);return a},$F:function(){for(var a=[],c=0;c<this.de.length;c++)a.push(this.de[c].G());return a},copy:function(){return this.Cw(null)},f5:function(){return this.Pj},aba:function(a){this.Pj=a},Ox:function(a){this.zm=a},k6:function(){return this.zm},zf:function(){return this.Mm*this.be},w4:function(){return this.be},Daa:function(a){this.be=a},Q6:function(){return this.Mm},
dJ:function(a,c){q.vt(a,q.Id);this.Pj=1;this.be=c||0;this.GK([]);if(a)for(var d=0;d<a.length;d++){var e=a[d],f=new q.pj;f.Ae(e,1,null);this.de.push(f);this.Mm++}return!0},lK:function(){},AD:function(){}});q.oj.create=function(a,c,d){var e=arguments.length,f=new q.oj;0==e?f.dJ(null,0):2==e?f.dJ(a,c||0):3==e&&f.Is(a,c,d);return f};q.oj.TH=function(a,c,d){var e=new q.oj;e.Is(a,c,d);return e};q.Tl=q.Ea.extend({AH:function(a,c){this.fm[c]=a},I$:function(a){a&&this.fm.hasOwnProperty(a)&&delete this.fm[a]},vI:function(a){return this.fm.hasOwnProperty(a)?this.fm[a]:null},PN:function(a,c){var d=a.animations;if(d){var e=1,f=a.properties;if(f)for(var e=null!=f.format?parseInt(f.format):e,f=f.spritesheets,g=q.pg.e(),h=q.Hd.e(),k,l=0;l<f.length;l++)k=h.uI(f[l],c),g.HH(k);switch(e){case 1:this.vP(d);break;case 2:this.wP(d);break;default:q.log("cc.AnimationCache. Invalid animation format")}}else q.log("cocos2d: cc.AnimationCache: No animations were found in provided dictionary.")},
z1:function(a){if(!a)throw"cc.AnimationCache.addAnimations(): Invalid texture file name";var c=q.Hd.e(),d=c.pe(a);(c=c.Ew(d))?this.PN(c,a):q.log("cc.AnimationCache.addAnimations(): File could not be found")},vP:function(a){var c=q.pg.e(),d;for(d in a){var e=a[d],f=e.frames,e=parseFloat(e.delay)||0,g=null;if(f){for(var g=[],h=0;h<f.length;h++){var k=c.vh(f[h]);if(k){var l=new q.pj;l.Ae(k,1,null);g.push(l)}else q.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+f[h]+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}0===
g.length?q.log("cocos2d: cc.AnimationCache: None of the frames for animation '"+d+"' were found in the cc.SpriteFrameCache. Animation is not being added to the Animation Cache."):(g.length!=f.length&&q.log("cocos2d: cc.AnimationCache: An animation in your dictionary refers to a frame which is not in the cc.SpriteFrameCache. Some or all of the frames for the animation '"+d+"' may be missing."),g=q.oj.TH(g,e,1),q.Tl.e().AH(g,d))}else q.log("cocos2d: cc.AnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},
wP:function(a){var c=q.pg.e(),d;for(d in a){var e=a[d],f=parseInt(e.loops),f=e.loop?q.$l:isNaN(f)?1:f,g=e.restoreOriginalFrame&&!0==e.restoreOriginalFrame?!0:!1,h=e.frames;if(h){for(var k=[],l=0;l<h.length;l++){var m=h[l],n=m.spriteframe,r=c.vh(n);if(r){var n=parseFloat(m.delayUnits)||0,m=m.notification,p=new q.pj;p.Ae(r,n,m);k.push(p)}else q.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+n+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}e=
parseFloat(e.delayPerUnit)||0;h=new q.oj;h.Is(k,e,f);h.Ox(g);q.Tl.e().AH(h,d)}else q.log("cocos2d: CCAnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},r:function(){this.fm={};return!0},fm:null});q.Tl.xV=function(){q.An&&(q.An.fm=null,q.An=null)};q.Tl.e=function(){null===q.An&&(q.An=new q.Tl,q.An.r());return q.An};q.An=null;q.Id=q.Ea.extend({Jb:null,ld:null,Se:null,md:!1,za:null,Pf:null,sf:null,Fa:null,gp:"",qb:!1,ev:null,ctor:function(){this.Jb=q.vd();this.Pf=q.vd();this.ld=q.Em();this.md=!1;this.sf=q.Em();this.gp="";this.Fa=null;this.qb=!1},wL:function(){return this.qb},Wf:function(a,c){null==this.ev&&(this.ev=[]);this.ev.push({fk:a,bi:c})},$d:function(){var a=this.ev;if(a){for(var c=0,d=a.length;c<d;c++){var e=a[c];e.fk.call(e.bi,this)}a.length=0}},fT:function(){var a=this.Se;return q.rect(a.x,a.y,a.width,a.height)},
Fba:function(a){this.Se||(this.Se=q.rect(0,0,0,0));this.Se.x=a.x;this.Se.y=a.y;this.Se.width=a.width;this.Se.height=a.height;this.za=q.tq(a)},q8:function(){return this.md},Nba:function(a){this.md=a},se:function(){var a=this.za;return q.rect(a.x,a.y,a.width,a.height)},QK:function(a){this.za||(this.za=q.rect(0,0,0,0));this.za.x=a.x;this.za.y=a.y;this.za.width=a.width;this.za.height=a.height;this.Se=q.Yn(this.za)},F5:function(){return this.Pf},oba:function(a){this.Pf.F=a.x;this.Pf.H=a.y;q.Fu(this.Pf,
this.Jb)},M5:function(){return this.sf},rba:function(a){this.sf.Ha=a.width;this.sf.ta=a.height},$S:function(){return this.ld},qba:function(a){this.ld.Ha=a.width;this.ld.ta=a.height},aa:function(){if(this.Fa)return this.Fa;if(""!==this.gp){var a=q.ha.e().qa(this.gp);a&&(this.qb=a.Kg());return a}return null},fa:function(a){if(this.Fa!=a){var c=a.Kg();this.qb=c;this.Fa=a;c||a.Wf(function(a){this.qb=!0;if(this.md&&q.Dd===q.lg){var c=a.Hc,c=q.WH(c,this.se()),f=new q.Zb;f.Df(c);f.ze();this.fa(f);c=this.se();
this.QK(q.rect(0,0,c.width,c.height))}c=this.za;0===c.width&&0===c.height&&(a=a.c(),this.za.width=a.width,this.za.height=a.height,this.Se=q.Yn(this.za),this.sf.Ha=this.Se.width,this.sf.ta=this.Se.height,this.ld.Ha=a.width,this.ld.ta=a.height);this.$d()},this)}},E5:function(){return this.Jb},nba:function(a){this.Jb.F=a.x;this.Jb.H=a.y},G:function(){var a=new q.Id;a.ax(this.gp,this.Se,this.md,this.Pf,this.sf);a.fa(this.Fa);return a},Cw:function(){var a=new q.Id;a.ax(this.gp,this.Se,this.md,this.Pf,
this.sf);a.fa(this.Fa);return a},copy:function(){return this.Cw()},Ma:function(a,c,d,e,f){2===arguments.length&&(c=q.Yn(c));e=e||q.a(0,0);f=f||c.bb;this.fa(a);this.Se=c;this.za=q.tq(c);this.Pf.F=e.x;this.Pf.H=e.y;q.Fu(e,this.Jb);this.sf.Ha=f.width;this.sf.ta=f.height;q.rz(f,this.ld);this.md=d||!1;return!0},ax:function(a,c,d,e,f){2===arguments.length&&(c=q.Yn(c));e=e||q.a(0,0);f=f||c.bb;this.Fa=null;this.gp=a;this.Se=c;this.za=q.tq(c);this.md=d||!1;this.Pf.F=e.x;this.Pf.H=e.y;q.Fu(e,this.Jb);this.sf.Ha=
f.width;this.sf.ta=f.height;q.rz(f,this.ld);return!0}});q.Id.create=function(a,c,d,e,f){var g=new q.Id;switch(arguments.length){case 2:g.ax(a,c);break;case 5:g.ax(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};q.Id.gb=function(a,c,d,e,f){var g=new q.Id;switch(arguments.length){case 2:g.Ma(a,c);break;case 5:g.Ma(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};
q.Id.T0=function(a,c,d,e,f){var g=new q.Id;g.Fa=a;g.Se=c;g.za=q.tq(c);g.Pf.F=e.x;g.Pf.H=e.y;q.Fu(g.Pf,g.Jb);g.sf.Ha=f.width;g.sf.ta=f.height;q.rz(g.sf,g.ld);g.md=d;return g};q.pg=q.Ea.extend({Ue:null,cl:null,yr:null,ctor:function(){this.Ue={};this.cl={};this.yr=[]},Bz:function(a,c){var d=a.metadata||a.meta,e=a.frames,f=0;d&&(f=d.format,f=1>=f.length?parseInt(f):f);if(0>f||3<f)q.log("format is not supported for cc.SpriteFrameCache.addSpriteFramesWithDictionary");else for(var g in e)if(d=e[g]){var h=this.Ue[g];if(!h){if(0==f){var h=parseFloat(d.x),k=parseFloat(d.y),l=parseFloat(d.width),m=parseFloat(d.height),n=parseFloat(d.offsetX),r=parseFloat(d.offsetY),p=parseInt(d.originalWidth),
d=parseInt(d.originalHeight);p&&d||q.log("cocos2d: WARNING: originalWidth/Height not found on the cc.SpriteFrame. AnchorPoint won't work as expected. Regenrate the .plist");p=Math.abs(p);d=Math.abs(d);h=q.Id.gb(c,q.rect(h,k,l,m),!1,q.a(n,r),q.size(p,d))}else if(1==f||2==f)h=q.nF(d.frame),k=!1,2==f&&(k=d.rotated),l=q.mF(d.offset),d=q.dz(d.sourceSize),h=q.Id.gb(c,h,k,l,d);else if(3==f){var h=q.dz(d.spriteSize),k=q.mF(d.spriteOffset),l=q.dz(d.spriteSourceSize),m=q.nF(d.textureRect),n=d.textureRotated,
r=d.aliases,p=g.toString(),u;for(u in r)this.cl.hasOwnProperty(r[u])&&q.log("cocos2d: WARNING: an alias with name "+u+" already exists"),this.cl[r[u]]=p;d.hasOwnProperty("spriteSize")&&(m=q.rect(m.x,m.y,h.width,h.height));h=q.Id.gb(c,m,n,k,l)}else var x=d.filename,k=d.frame,h=d.sourceSize,k=q.rect(k.x,k.y,k.KL,k.ye),d=d.rotated,l=q.a(0,0),h=q.size(h.KL,h.ye),h=q.Id.gb(c,k,d,l,h);q.Dd===q.lg&&h.md&&h.aa().Kg()&&(d=h.aa().Hc,d=q.WH(d,h.fT()),k=new q.Zb,k.Df(d),k.ze(),h.fa(k),d=h.za,h.QK(q.rect(0,0,
d.width,d.height)));this.Ue[null!=x?x:g]=h}}},HH:function(a,c){if(!a)throw"cc.SpriteFrameCache.addSpriteFrames(): plist should be non-null";var d=q.Hd.e(),e;"plist"==a.substr(a.lastIndexOf(".",a.length)+1,a.length)?(e=d.pe(a),e=d.Ew(e)):e=JSON.parse(d.FI(a));switch(arguments.length){case 1:if(!q.ry(this.yr,a)){var f="",g=e.metadata||e.meta;g&&(f=g.textureFileName||g.image);""!=f?f=d.uI(f,a):(f=a,f=f.substr(0,f.lastIndexOf(".",f.length)),f+=".png");(d=q.ha.e().qa(f))?this.Bz(e,d):q.log("cocos2d: cc.SpriteFrameCache: Couldn't load texture")}break;
case 2:if(c instanceof q.Zb)this.Bz(e,c);else{if(!c)throw"cc.SpriteFrameCache.addSpriteFrames(): texture name should not be null";(d=q.ha.e().qa(c))?this.Bz(e,d):q.log("cocos2d: cc.SpriteFrameCache: couldn't load texture file. File not found "+c)}break;default:throw"Argument must be non-nil ";}},XB:function(a,c){this.Ue[c]=a},R$:function(){this.Ue=[];this.cl=[];this.yr={}},Q$:function(a){a&&(this.cl.hasOwnProperty(a)&&delete this.cl[a],this.Ue.hasOwnProperty(a)&&delete this.Ue[a],this.yr={})},S$:function(a){var c=
q.Hd.e(),d=c.pe(a),c=c.Ew(d);this.GP(c);q.ry(this.yr,a)&&q.Ud(a)},GP:function(a){a=a.frames;for(var c in a)this.Ue.hasOwnProperty(c)&&delete this.Ue[c]},T$:function(a){for(var c in this.Ue){var d=this.Ue[c];d&&d.aa()==a&&delete this.Ue[c]}},vh:function(a){var c;this.Ue.hasOwnProperty(a)&&(c=this.Ue[a]);if(!c){var d;this.cl.hasOwnProperty(a)&&(d=this.cl[a]);d&&(this.Ue.hasOwnProperty(d.toString())&&(c=this.Ue[d.toString()]),c||q.log("cocos2d: cc.SpriteFrameCahce: Frame "+a+" not found"))}return c}});
q.Dx=null;q.pg.e=function(){q.Dx||(q.Dx=new q.pg);return q.Dx};q.pg.yV=function(){q.Dx=null};q.rq=29;
q.ub=q.D.extend({Ra:null,ga:null,td:null,L1:function(a,c,d){if(!a)throw"cc.SpriteBatchNode.addQuadFromSprite(): child should be non-null";if(!(a instanceof q.A))return q.log("cc.SpriteBatchNode.addQuadFromSprite(): SpriteBatchNode only supports cc.Sprites as children"),null;a.De(c);var e=0,f=this.td;if(f&&0<f.length)for(var g=0;g<f.length;g++){var h=f[g];h&&h.Xc>=c&&++e}this.td=q.Ul(f,a,e);q.D.prototype.f.call(this,a,c,d);this.hK(!1);return this},GI:function(){return this.Ra},eq:function(a){a!=this.Ra&&
(this.Ra=a)},A4:function(){return this.td},dj:function(a,c){var d=q.ha.e().ey(a);d||(d=q.ha.e().qa(a));return this.Ma(d,c)},Cm:function(){this.WF=!0},r:function(a,c){var d=q.ha.e().ey(a);d||(d=q.ha.e().qa(a));return this.Ma(d,c)},Ww:function(){var a=this.Ra.hd,c=Math.floor(4*(a+1)/3);q.log("cocos2d: CCSpriteBatchNode: resizing TextureAtlas capacity from "+a+" to "+c+".");this.Ra.dW(c)||q.log("cocos2d: WARNING: Not enough memory to resize the atlas")},K$:function(a,c){this.removeChild(this.t[a],c)},
$J:function(a,c){var d=a.t;if(d&&0<d.length)for(var e=0;e<d.length;e++){var f=d[e];f&&0>f.eb&&(c=this.$J(f,c))}!a==this&&(a.De(c),c++);if(d&&0<d.length)for(e=0;e<d.length;e++)(f=d[e])&&0<=f.eb&&(c=this.$J(f,c));return c},OC:function(a){var c=a.t;return c&&0!=c.length?this.OC(c[c.length-1]):a.Xc},BU:function(a){var c=a.t;return c&&0!=c.length?this.BU(c[c.length-1]):a.Xc},nR:function(a,c){var d=a.getParent().t,e=q.ty(d,a),f=a.getParent()==this,g=null;0<e&&e<q.wN&&(g=d[e-1]);if(f)return 0==e?0:this.OC(g)+
1;if(0==e)return d=a.getParent(),0>c?d.Xc:d.Xc+1;if(0>g.eb&&0>c||0<=g.eb&&0<=c)return this.OC(g)+1;d=a.getParent();return d.Xc+1},hK:function(a){this.he=a},Gl:function(a,c){this.ga=1==arguments.length?a:{src:a,Gb:c}},xs:function(){return this.ga},Xs:function(a,c){if(!a)throw"cc.SpriteBatchNode.addChild():child should be non-null";-1===this.t.indexOf(a)?q.log("cc.SpriteBatchNode.addChild(): Child doesn't belong to Sprite"):c!==a.eb&&(q.D.prototype.Xs.call(this,a,c),this.Wa())},removeChild:function(a,
c){null!=a&&(-1===this.t.indexOf(a)?q.log("cc.SpriteBatchNode.addChild(): sprite batch node should contain the child"):(this.xn(a),q.D.prototype.removeChild.call(this,a,c)))},lP:null,Km:null,v1:!1,vg:null,ctor:null,Jh:function(a){q.D.prototype.ctor.call(this);a&&this.r(a,q.rq)},Kh:function(a){q.D.prototype.ctor.call(this);this.lP=new q.xh;a&&this.r(a,q.rq)},GL:null,RQ:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";a instanceof q.A?(a.Ee(this),a.De(c),
a.Og(!0),a.jg()):q.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},SQ:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";if(a instanceof q.A){for(var d=this.Ra.hd;c>=d||d==this.Ra.Ta;)this.Ww();a.Ee(this);a.De(c);a.Og(!0);a.jg()}else q.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},dw:function(a,c){var d=this.td,e=this.Ra,f=e.Qe,g=d[a],
h=q.oz(f[a]);d[c].De(a);d[a]=d[c];e.ky(f[c],a);d[c]=g;e.ky(h,c)},eJ:null,ZO:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";a instanceof q.A?(a.Ee(this),a.De(c),a.Og(!0),a.jg(),this.t=q.Ul(this.t,a,c)):q.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},$O:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";if(a instanceof q.A){for(var d=this.Ra;c>=d.hd||
d.hd===d.Ta;)this.Ww();a.Ee(this);a.De(c);d.XC(a.Kb,c);a.Og(!0);a.jg()}else q.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},nH:function(a,c){var d=0,e=a.t;e&&(d=e.length);var f=0;if(0===d)f=a.Xc,a.De(c),a.bq(0),f!=c&&this.dw(f,c),c++;else{f=!0;0<=e[0].eb&&(f=a.Xc,a.De(c),a.bq(0),f!=c&&this.dw(f,c),c++,f=!1);for(d=0;d<e.length;d++){var g=e[d];f&&0<=g.eb&&(f=a.Xc,a.De(c),a.bq(0),f!=c&&this.dw(f,c),c++,f=!1);c=this.nH(g,c)}f&&(f=a.Xc,a.De(c),
a.bq(0),f!=c&&this.dw(f,c),c++)}return c},Pm:function(){this.Ra.aa().Hs()||(this.ga.src=770,this.ga.Gb=771)},Ma:null,sr:function(a){this.t=[];this.td=[];this.ga=new q.Wl(q.Ie,q.He);this.Km=this.vg=a;return!0},tr:function(a,c){this.t=[];this.td=[];this.ga=new q.Wl(q.Ie,q.He);c=c||q.rq;this.Ra=new q.eo;this.Ra.Ma(a,c);this.Pm();this.Pg(q.Hh.e().mi(q.$y));return!0},fU:function(a,c){a.Ee(this);a.De(c);a.Og(!0);var d=this.Ra;d.Ta>=d.hd&&this.Ww();d.XC(a.Kb,c);this.td=q.Ul(this.td,a,c);var d=c+1,e=this.td;
if(e&&0<e.length)for(;d<e.length;d++)e[d].De(e[d].Xc+1);if((e=a.t)&&0<e.length)for(d=0;d<e.length;d++)if(e[d]){var f=this.nR(e[d],e[d].eb);this.fU(e[d],f)}},appendChild:null,WN:function(a){this.he=!0;a.Ee(this);a.Og(!0);this.td.push(a);a.De(this.td.length-1);a=a.t;for(var c=0;c<a.length;c++)this.appendChild(a[c])},XN:function(a){this.he=!0;a.Ee(this);a.Og(!0);this.td.push(a);var c=this.td.length-1;a.De(c);var d=this.Ra;d.Ta==d.hd&&this.Ww();d.XC(a.Kb,c);a=a.t;for(c=0;c<a.length;c++)this.appendChild(a[c])},
xn:null,HP:function(a){a.Ee(null);var c=this.td,d=q.ty(c,a);if(-1!=d){q.mq(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.De(f.Xc-1)}}if((a=a.t)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.xn(a[c])},IP:function(a){this.Ra.YV(a.Xc);a.Ee(null);var c=this.td,d=q.ty(c,a);if(-1!=d){q.mq(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.De(f.Xc-1)}}if((a=a.t)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.xn(a[c])},aa:null,uA:function(){return this.Km},vA:function(){return this.Ra.aa()},fa:null,Pr:function(a){this.Km=
a;for(var c=this.t,d=0;d<c.length;d++)c[d].fa(a)},Qr:function(a){this.Ra.fa(a);this.Pm()},ra:null,Qm:function(a){var c=a||q.W;if(this.ka){c.save();this.transform(a);var d=this.t;if(d)for(this.Sd(),a=0;a<d.length;a++)d[a]&&d[a].ra(c);c.restore()}},Rm:function(a){a=a||q.W;if(this.ka){q.Qp();var c=this.Pk;c&&c.Mp()&&(c.bC(),this.iy());this.Sd();this.transform(a);this.Va(a);c&&c.Mp()&&c.YB(this);q.Pp();this.bq(0)}},f:null,yz:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";
a instanceof q.A?(c=null==c?a.eb:c,d=null==d?a.od:d,q.D.prototype.f.call(this,a,c,d),this.appendChild(a),this.Wa()):q.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},zz:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";a instanceof q.A?a.aa()!=this.Ra.aa()?q.log("cc.SpriteBatchNode.addChild(): cc.Sprite is not using the same texture"):(c=null==c?a.eb:c,d=null==d?a.od:d,q.D.prototype.f.call(this,a,c,d),this.appendChild(a),
this.Wa()):q.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},pc:null,DP:function(a){var c=this.td;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].Ee(null);q.D.prototype.pc.call(this,a);this.td=[]},EP:function(a){var c=this.td;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].Ee(null);q.D.prototype.pc.call(this,a);this.td=[];this.Ra.SV()},Sd:null,vQ:function(){if(this.he){var a,c=0,d=this.t,e=d.length,f;for(a=1;a<e;a++){var g=d[a],
c=a-1;for(f=d[c];0<=c&&(g.eb<f.eb||g.eb==f.eb&&g.Qf<f.Qf);)d[c+1]=f,c-=1,f=d[c];d[c+1]=g}0<d.length&&this.rg(d,q.D.Lf.Sd);this.he=!1}},wQ:function(){if(this.he){var a=this.t,c,d=0,e=a.length,f;for(c=1;c<e;c++){var g=a[c],d=c-1;for(f=a[d];0<=d&&(g.eb<f.eb||g.eb==f.eb&&g.Qf<f.Qf);)a[d+1]=f,d-=1,f=a[d];a[d+1]=g}if(0<a.length)for(this.rg(a,q.D.Lf.Sd),c=d=0;c<a.length;c++)d=this.nH(a[c],d);this.he=!1}},Va:null,ug:function(){0!==this.Ra.Ta&&(this.Ic.nf(),this.Ic.Rg(),this.rg(this.t,q.D.Lf.jg),q.gk(this.ga.src,
this.ga.Gb),this.Ra.oS())}});
q.Ga.Qc?(b=q.ub.prototype,b.ctor=q.ub.prototype.Kh,b.GL=q.ub.prototype.SQ,b.eJ=q.ub.prototype.$O,b.Ma=q.ub.prototype.tr,b.appendChild=q.ub.prototype.XN,b.xn=q.ub.prototype.IP,b.aa=q.ub.prototype.vA,b.fa=q.ub.prototype.Qr,b.ra=q.ub.prototype.Rm,b.f=q.ub.prototype.zz,b.pc=q.ub.prototype.EP,b.Sd=q.ub.prototype.wQ,b.Va=q.ub.prototype.ug):(b=q.ub.prototype,b.ctor=q.ub.prototype.Jh,b.GL=q.ub.prototype.RQ,b.eJ=q.ub.prototype.ZO,b.Ma=q.ub.prototype.sr,b.appendChild=q.ub.prototype.WN,b.xn=q.ub.prototype.HP,
b.aa=q.ub.prototype.uA,b.fa=q.ub.prototype.Pr,b.ra=q.ub.prototype.Qm,b.pc=q.ub.prototype.DP,b.f=q.ub.prototype.yz,b.Sd=q.ub.prototype.vQ,b.Va=q.D.prototype.Va);q.ub.create=function(a,c){c=c||q.rq;var d=new q.ub;d.r(a,c);return d};q.ub.gb=function(a,c){c=c||q.rq;var d=new q.ub;d.Ma(a,c);return d};q.mZ={jZ:0,lZ:1,kZ:2,iZ:3,hZ:4};
q.Je=q.Ea.extend({Ar:0,zG:0,Zr:!1,Yr:!1,$v:!1,aw:!1,bw:!1,iP:0,Cv:0,Gq:"",ak:null,ctor:function(){this.zG=this.Ar=0;this.bw=this.aw=this.$v=this.Yr=this.Zr=!1;this.Cv=this.iP=0;this.Gq="";this.ak={}},l5:function(){return this.Ar},k5:function(){return this.zG},m5:function(){return this.Cv},Mca:function(){return this.Yr},Nca:function(){return this.Zr},Kca:function(){return this.$v},Lca:function(){return this.aw},Oca:function(){return this.bw},sp:function(a){return-1<this.Gq.indexOf(a)},r:function(){var a=
this.ak;a["cocos2d.x.version"]=q.Bt;a["cocos2d.x.compiled_with_profiler"]=!1;a["cocos2d.x.compiled_with_gl_state_cache"]=q.RE;return!0},d4:function(a,c){var d=this.ak;return d.hasOwnProperty(a)?d[a]:c},Y3:function(a,c){null==c&&(c=!1);var d=this.ak;return d.hasOwnProperty(a)?d[a]:c},w5:function(a,c){null==c&&(c=0);var d=this.ak;return d.hasOwnProperty(a)?d[a]:c},y5:function(a){var c=this.ak;return c.hasOwnProperty(a)?c[a]:null},jX:function(a,c){this.ak[a]=c},sS:function(){0===q.RE&&(q.log(""),q.log("cocos2d: **** WARNING **** CC_ENABLE_PROFILERS is defined. Disable it when you finish profiling (from ccConfig.js)"),
q.log(""))},FS:function(){if(q.Dd!==q.lg){var a=q.W,c=this.ak;c["gl.vendor"]=a.getParameter(a.VENDOR);c["gl.renderer"]=a.getParameter(a.RENDERER);c["gl.version"]=a.getParameter(a.VERSION);this.Gq="";for(var d=a.getSupportedExtensions(),e=0;e<d.length;e++)this.Gq+=d[e]+" ";this.Ar=a.getParameter(a.MAX_TEXTURE_SIZE);c["gl.max_texture_size"]=this.Ar;this.Cv=a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS);c["gl.max_texture_units"]=this.Cv;this.Zr=this.sp("GL_IMG_texture_compression_pvrtc");c["gl.supports_PVRTC"]=
this.Zr;this.Yr=!1;c["gl.supports_NPOT"]=this.Yr;this.$v=this.sp("GL_IMG_texture_format_BGRA888");c["gl.supports_BGRA8888"]=this.$v;this.aw=this.sp("GL_EXT_discard_framebuffer");c["gl.supports_discard_framebuffer"]=this.aw;this.bw=this.sp("vertex_array_object");c["gl.supports_vertex_array_object"]=this.bw;q.AE()}},W8:function(a){var c=q.Hd.e(),d=c.pe(a),c=c.Ew(d);if(null!=c)if(c=c.data)for(var e in c)this.ak[e]=c[e];else q.log("Expected 'data' dict, but not found. Config file: "+a)}});q.Je.Sr=null;
q.Je.e=function(){q.Je.Sr||(q.Je.Sr=new q.Je,q.Je.Sr.r());return q.Je.Sr};q.Je.o$=function(){q.Je.Sr=null};q.ci=0;q.eM=0;q.OE=1;q.fM=3;q.gM=q.OE;q.rZ=0;q.pZ=1;q.sZ=2;q.qZ=3;q.oZ=2;q.vZ=q.Ea.extend({uda:function(){}});q.SE=function(a){var c=new q.xh;q.tU(q.cu,c);var d=new q.xh;q.tU(q.bu,d);q.wU(a,c,d)};
q.Y=q.Ea.extend({e1:!1,Er:!1,xm:!1,Pv:!1,Bm:!1,ah:0,LA:0,al:0,io:0,km:1,$q:!1,Lk:0,hv:0,Ek:null,Gk:null,Mk:null,Qb:null,Oj:null,Li:null,Hv:null,hh:null,Si:null,XA:null,nd:null,de:0,FB:0,lB:0,Q0:null,Bg:null,$g:null,Ye:null,GA:null,Ku:null,Cr:null,d1:!1,ctor:function(){this.Oj=Date.now();if(!q.YC){var a=this;window.addEventListener("focus",function(){a.Oj=Date.now()},!1)}},NP:function(){this.Oj=Date.now()},r:function(){this.LA=this.ah=1/q.XR;this.Si=[];this.al=q.gM;this.XA=null;this.hv=this.io=0;this.$q=
!1;this.FB=this.de=0;this.Oj=Date.now();this.Pv=this.xm=!1;this.Qb=q.Em();this.hh=null;this.km=1;this.Bg=new q.jN;this.$g=new q.QL;this.Bg.nK(this.$g,q.fu,!1);q.ja&&(this.Ye=new q.ja,this.Ye.r());q.Wn&&(this.GA=q.Wn.e());q.xk&&(this.Ku=new q.xk);q.Yd&&(this.Cr=new q.Yd,this.Cr.r());return!0},rR:function(){var a=Date.now();this.Er?(this.Lk=0,this.Er=!1):this.Lk=(a-this.Oj)/1E3;0<q.yt&&0.2<this.Lk&&(this.Lk=1/60);this.Oj=a},PR:function(a){var c=new q.xh;q.SE(c);var d=new q.xh;q.O8(d,c);var c=c.yh[14]/
c.yh[15],e=this.hh.Bp();a=new q.Rp(2*a.x/e.width-1,1-2*a.y/e.height,c);c=new q.Rp;q.yU(c,a,d);return q.a(c.x,c.y)},RR:function(a){var c=new q.xh;q.SE(c);var d=new q.Rp;a=new q.Rp(a.x,a.y,0);q.yU(d,a,c);c=this.hh.Bp();return q.a(c.width*(0.5*d.x+0.5),c.height*(0.5*-d.y+0.5))},pS:function(){this.rR();this.xm||this.Bg.update(this.Lk);this.YF();this.Li&&this.iX();this.Gz&&this.Gz();this.nd&&this.nd.ra();this.Hv&&this.Hv.ra();this.$q&&this.uQ();this.Cz&&this.Cz();this.FB++;this.$q&&this.dO()},lO:function(){var a=
this.hh.$e;q.W.clearRect(-a.x,a.y,a.width,-a.height)},sO:function(){var a=q.W;a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},Gz:null,Cz:null,ZN:function(){q.Qp()},VN:function(){q.Pp()},end:function(){this.Pv=!0},p4:function(){return this.km},v5:function(){return this.Hv},i7:function(){return this.Qb},wT:function(){return q.size(this.Qb.width*this.km,this.Qb.height*this.km)},Es:function(){return this.hh?this.hh.Es():this.Qb},MI:function(){return this.hh?this.hh.MI():q.YM},Gs:function(){return this.Qb.height/
1.1566},pause:function(){this.xm||(this.LA=this.ah,this.$s(0.25),this.xm=!0)},i$:function(){if(!this.nd)throw"running scene should not null";this.Si.pop();var a=this.Si.length;0==a?this.end():(this.Bm=!0,this.Li=this.Si[a-1])},tD:function(){q.Ny.tD()},wV:function(){this.Bf().mt();this.Ye&&this.Ye.RV();this.nd&&(this.nd.zh(),this.nd.Rd(),this.nd.Yf());this.Li=this.nd=null;this.Si=[];this.pL();q.Ny.tD();q.Tl.xV();q.pg.yV();q.ha.zV();q.AE()},AV:function(a){if(!a)throw"the scene should not null";this.Bm=
!1;this.Si.push(a);this.Li=a},iK:function(a){if(!this.nd)throw"Use runWithScene: instead to start the director";if(!a)throw"the scene should not be null";var c=this.Si.length;0===c?(this.Bm=!0,this.Si[c]=a):(this.Bm=!0,this.Si[c-1]=a);this.Li=a},kK:function(){this.xm&&(this.$s(this.LA),(this.Oj=Date.now())||q.log("cocos2d: Director: Error in gettimeofday"),this.xm=!1,this.Lk=0)},lW:function(a){if(!a)throw"This command can only be used to start the CCDirector. There is already a scene present.";if(this.nd)throw"_runningScene should be null";
this.AV(a);this.nL()},zW:function(a){a?q.gk(q.Ie,q.He):q.gk(q.W.ONE,q.W.ZERO)},KW:function(a){a!=this.km&&(this.km=a,this.Ao())},OW:function(a){if(q.Dd!==q.lg){var c=q.W;a?(c.clearDepth(1),c.enable(c.DEPTH_TEST),c.depthFunc(c.LEQUAL)):c.disable(c.DEPTH_TEST)}},Caa:function(){},HK:function(){this.zW(!0);this.OW(!1);this.Nx(this.al);q.W.clearColor(0,0,0,1)},jba:function(a){this.Er=a},iX:function(){var a=!1,c=!1;q.DF&&(a=this.nd?this.nd instanceof q.DF:!1,c=this.Li?this.Li instanceof q.DF:!1);if(!c){if(c=
this.nd)c.zh(),c.Rd();this.Bm&&c&&c.Yf()}this.nd=this.Li;this.Li=null;a||null==this.nd||(this.nd.Ng(),this.nd.ji())},kba:function(a){this.Hv=a},ec:function(){return this.XA},Bh:function(a){this.XA=a},oX:function(a){this.Qb.bE(q.canvas.width);this.Qb.QD(q.canvas.height);this.hh=a||q.sa.e();q.Dd!==q.lg&&(a=q.Je.e(),a.FS(),a.sS(),this.Ao(),this.HK(),this.Ye&&this.Ye.PW(!0))},bL:function(){if(this.hh){var a=this.Qb;this.hh.KX(0,0,a.width,a.height)}},Nx:function(a){var c=this.Qb;if(q.Dd===q.Dk){this.bL();
switch(a){case q.eM:q.en(q.cu);q.eD();var d=new q.xh;q.xU(d,0,c.width,0,c.height,-1024,1024);q.dx(d);q.en(q.bu);q.eD();break;case q.OE:var e=this.Gs(),f=new q.xh,d=new q.xh;q.en(q.cu);q.eD();q.P8(f,60,c.width/c.height,0.1,2*e);q.dx(f);q.en(q.bu);q.eD();e=q.Ms(null,c.width/2,c.height/2,e);c=q.Ms(null,c.width/2,c.height/2,0);f=q.Ms(null,0,1,0);q.vU(d,e,c,f);q.dx(d);break;case q.fM:break;default:q.log("cocos2d: Director: unrecognized projection")}this.al=a;q.Bba()}else this.al=a},uQ:function(){this.de++;
this.io+=this.Lk;this.Ek&&this.Gk&&this.Mk?(this.io>q.dM&&(this.Gk.ea(this.lB.toFixed(3)),this.hv=this.de/this.io,this.io=this.de=0,this.Ek.ea(this.hv.toFixed(1)),this.Mk.ea((0|q.ci).toString())),this.Ek.ra(),this.Gk.ra(),this.Mk.ra()):this.Ao();q.ci=0},t8:function(){return this.Bm},n6:function(){return this.nd},S3:function(){return this.ah},V7:function(){return this.$q},Gaa:function(a){this.$q=a},s6:function(){return this.lB},K5:function(){return this.hh},g8:function(){return this.Er},k8:function(){return this.xm},
R6:function(){return this.FB},a6:function(){return this.al},j$:function(){this.nV(1)},nV:function(a){if(!this.nd)throw"A running Scene is needed";var c=this.Si,d=c.length;if(0==d)this.end();else if(!(a>d)){for(;d>a;){var e=c.pop();e.Te&&(e.zh(),e.Rd());e.Yf();d--}this.Li=c[c.length-1];this.Bm=!1}},Bf:function(){return this.Bg},zX:function(a){this.Bg!=a&&(this.Bg=a)},Gg:function(){return this.$g},xW:function(a){this.$g!=a&&(this.$g=a)},T6:function(){return this.Ye},fca:function(a){this.Ye!=a&&(this.Ye=
a)},Ow:function(){if(!q.Wn)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";return this.GA},Zaa:function(a){if(!q.Wn)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";this.GA=a},Ap:function(){if(!q.xk)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";return this.Ku},jaa:function(a){if(!q.xk)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";this.Ku!=
a&&(this.Ku=a)},z4:function(){return this.Lk},Af:function(){if(!q.Yd)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";return this.Cr},hba:function(a){if(!q.Yd)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.Cr!=a&&(this.Cr=a)},Ao:null,vO:function(){if(!q.My)return this.aG();if(null!=q.Y.gG&&!1!=q.Y.gG){var a=new q.Zb;a.Df(q.Y.mA);a.ze();var c=q.sa.e().Bp().height/320;0===c&&(c=this.Qb.height/320);var d=new q.My;d.oB(!0);
d.rl("00.0",a,12,32,".");d.rk(c);this.Ek=d;d=new q.My;d.oB(!0);d.rl("0.000",a,12,32,".");d.rk(c);this.Gk=d;d=new q.My;d.oB(!0);d.rl("000",a,12,32,".");d.rk(c);this.Mk=d;a=q.PE;this.Mk.n(q.dg(q.a(0,34*c),a));this.Gk.n(q.dg(q.a(0,17*c),a));this.Ek.n(a)}},aG:function(){var a=0,a=this.Qb.width>this.Qb.height?0|this.Qb.height/320*24:0|this.Qb.width/320*24;this.Ek=q.S.create("000.0","Arial",a);this.Gk=q.S.create("0.000","Arial",a);this.Mk=q.S.create("0000","Arial",a);var a=q.PE,c=this.Mk.c();this.Mk.n(q.dg(q.a(c.width/
2,5*c.height/2),a));c=this.Gk.c();this.Gk.n(q.dg(q.a(c.width/2,3*c.height/2),a));c=this.Ek.c();this.Ek.n(q.dg(q.a(c.width/2,c.height/2),a))},dO:function(){this.lB=(Date.now()-this.Oj)/1E3}});q.Ga.Qc?(q.Y.prototype.YF=q.Y.prototype.sO,q.Y.prototype.Gz=q.Y.prototype.ZN,q.Y.prototype.Cz=q.Y.prototype.VN,q.Y.prototype.Ao=q.Y.prototype.vO):(q.Y.prototype.YF=q.Y.prototype.lO,q.Y.prototype.Ao=q.Y.prototype.aG);
q.hM=q.Y.extend({bx:!1,nL:function(){this.Er=!0;this.bx=!1;q.qj.e().$s(this.ah)},AJ:function(){this.Pv?(this.Pv=!1,this.wV()):this.bx||this.pS()},pL:function(){this.bx=!0},$s:function(a){this.ah=a;this.bx||(this.pL(),this.nL())}});q.Cx=null;q.oI=!0;q.Y.e=function(){q.oI&&(q.oI=!1,q.Cx=new q.hM,q.Cx.r(),q.Cx.oX(q.sa.e()));return q.Cx};Object.defineProperties(q,{Jda:{get:function(){return q.hS.Qb},enumerable:!0}});q.F3=!0;q.XR=60;q.Y.mA=new Image;
q.Y.mA.addEventListener("load",function(){q.Y.gG=!0;this.removeEventListener("load",arguments.callee,!1)});q.Y.mA.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAAgCAYAAAD9qabkAAAKQ2lDQ1BJQ0MgcHJvZmlsZQAAeNqdU3dYk/cWPt/3ZQ9WQtjwsZdsgQAiI6wIyBBZohCSAGGEEBJAxYWIClYUFRGcSFXEgtUKSJ2I4qAouGdBiohai1VcOO4f3Ke1fXrv7e371/u855zn/M55zw+AERImkeaiagA5UoU8Otgfj09IxMm9gAIVSOAEIBDmy8JnBcUAAPADeXh+dLA//AGvbwACAHDVLiQSx+H/g7pQJlcAIJEA4CIS5wsBkFIAyC5UyBQAyBgAsFOzZAoAlAAAbHl8QiIAqg0A7PRJPgUA2KmT3BcA2KIcqQgAjQEAmShHJAJAuwBgVYFSLALAwgCgrEAiLgTArgGAWbYyRwKAvQUAdo5YkA9AYACAmUIszAAgOAIAQx4TzQMgTAOgMNK/4KlfcIW4SAEAwMuVzZdL0jMUuJXQGnfy8ODiIeLCbLFCYRcpEGYJ5CKcl5sjE0jnA0zODAAAGvnRwf44P5Dn5uTh5mbnbO/0xaL+a/BvIj4h8d/+vIwCBAAQTs/v2l/l5dYDcMcBsHW/a6lbANpWAGjf+V0z2wmgWgrQevmLeTj8QB6eoVDIPB0cCgsL7SViob0w44s+/zPhb+CLfvb8QB7+23rwAHGaQJmtwKOD/XFhbnauUo7nywRCMW735yP+x4V//Y4p0eI0sVwsFYrxWIm4UCJNx3m5UpFEIcmV4hLpfzLxH5b9CZN3DQCshk/ATrYHtctswH7uAQKLDljSdgBAfvMtjBoLkQAQZzQyefcAAJO/+Y9AKwEAzZek4wAAvOgYXKiUF0zGCAAARKCBKrBBBwzBFKzADpzBHbzAFwJhBkRADCTAPBBCBuSAHAqhGJZBGVTAOtgEtbADGqARmuEQtMExOA3n4BJcgetwFwZgGJ7CGLyGCQRByAgTYSE6iBFijtgizggXmY4EImFINJKApCDpiBRRIsXIcqQCqUJqkV1II/ItchQ5jVxA+pDbyCAyivyKvEcxlIGyUQPUAnVAuagfGorGoHPRdDQPXYCWomvRGrQePYC2oqfRS+h1dAB9io5jgNExDmaM2WFcjIdFYIlYGibHFmPlWDVWjzVjHVg3dhUbwJ5h7wgkAouAE+wIXoQQwmyCkJBHWExYQ6gl7CO0EroIVwmDhDHCJyKTqE+0JXoS+cR4YjqxkFhGrCbuIR4hniVeJw4TX5NIJA7JkuROCiElkDJJC0lrSNtILaRTpD7SEGmcTCbrkG3J3uQIsoCsIJeRt5APkE+S+8nD5LcUOsWI4kwJoiRSpJQSSjVlP+UEpZ8yQpmgqlHNqZ7UCKqIOp9aSW2gdlAvU4epEzR1miXNmxZDy6Qto9XQmmlnafdoL+l0ugndgx5Fl9CX0mvoB+nn6YP0dwwNhg2Dx0hiKBlrGXsZpxi3GS+ZTKYF05eZyFQw1zIbmWeYD5hvVVgq9ip8FZHKEpU6lVaVfpXnqlRVc1U/1XmqC1SrVQ+rXlZ9pkZVs1DjqQnUFqvVqR1Vu6k2rs5Sd1KPUM9RX6O+X/2C+mMNsoaFRqCGSKNUY7fGGY0hFsYyZfFYQtZyVgPrLGuYTWJbsvnsTHYF+xt2L3tMU0NzqmasZpFmneZxzQEOxrHg8DnZnErOIc4NznstAy0/LbHWaq1mrX6tN9p62r7aYu1y7Rbt69rvdXCdQJ0snfU6bTr3dQm6NrpRuoW623XP6j7TY+t56Qn1yvUO6d3RR/Vt9KP1F+rv1u/RHzcwNAg2kBlsMThj8MyQY+hrmGm40fCE4agRy2i6kcRoo9FJoye4Ju6HZ+M1eBc+ZqxvHGKsNN5l3Gs8YWJpMtukxKTF5L4pzZRrmma60bTTdMzMyCzcrNisyeyOOdWca55hvtm82/yNhaVFnMVKizaLx5balnzLBZZNlvesmFY+VnlW9VbXrEnWXOss623WV2xQG1ebDJs6m8u2qK2brcR2m23fFOIUjynSKfVTbtox7PzsCuya7AbtOfZh9iX2bfbPHcwcEh3WO3Q7fHJ0dcx2bHC866ThNMOpxKnD6VdnG2ehc53zNRemS5DLEpd2lxdTbaeKp26fesuV5RruutK10/Wjm7ub3K3ZbdTdzD3Ffav7TS6bG8ldwz3vQfTw91jicczjnaebp8LzkOcvXnZeWV77vR5Ps5wmntYwbcjbxFvgvct7YDo+PWX6zukDPsY+Ap96n4e+pr4i3z2+I37Wfpl+B/ye+zv6y/2P+L/hefIW8U4FYAHBAeUBvYEagbMDawMfBJkEpQc1BY0FuwYvDD4VQgwJDVkfcpNvwBfyG/ljM9xnLJrRFcoInRVaG/owzCZMHtYRjobPCN8Qfm+m+UzpzLYIiOBHbIi4H2kZmRf5fRQpKjKqLupRtFN0cXT3LNas5Fn7Z72O8Y+pjLk722q2cnZnrGpsUmxj7Ju4gLiquIF4h/hF8ZcSdBMkCe2J5MTYxD2J43MC52yaM5zkmlSWdGOu5dyiuRfm6c7Lnnc8WTVZkHw4hZgSl7I/5YMgQlAvGE/lp25NHRPyhJuFT0W+oo2iUbG3uEo8kuadVpX2ON07fUP6aIZPRnXGMwlPUit5kRmSuSPzTVZE1t6sz9lx2S05lJyUnKNSDWmWtCvXMLcot09mKyuTDeR55m3KG5OHyvfkI/lz89sVbIVM0aO0Uq5QDhZML6greFsYW3i4SL1IWtQz32b+6vkjC4IWfL2QsFC4sLPYuHhZ8eAiv0W7FiOLUxd3LjFdUrpkeGnw0n3LaMuylv1Q4lhSVfJqedzyjlKD0qWlQyuCVzSVqZTJy26u9Fq5YxVhlWRV72qX1VtWfyoXlV+scKyorviwRrjm4ldOX9V89Xlt2treSrfK7etI66Trbqz3Wb+vSr1qQdXQhvANrRvxjeUbX21K3nShemr1js20zcrNAzVhNe1bzLas2/KhNqP2ep1/XctW/a2rt77ZJtrWv913e/MOgx0VO97vlOy8tSt4V2u9RX31btLugt2PGmIbur/mft24R3dPxZ6Pe6V7B/ZF7+tqdG9s3K+/v7IJbVI2jR5IOnDlm4Bv2pvtmne1cFoqDsJB5cEn36Z8e+NQ6KHOw9zDzd+Zf7f1COtIeSvSOr91rC2jbaA9ob3v6IyjnR1eHUe+t/9+7zHjY3XHNY9XnqCdKD3x+eSCk+OnZKeenU4/PdSZ3Hn3TPyZa11RXb1nQ8+ePxd07ky3X/fJ897nj13wvHD0Ivdi2yW3S609rj1HfnD94UivW2/rZffL7Vc8rnT0Tes70e/Tf/pqwNVz1/jXLl2feb3vxuwbt24m3Ry4Jbr1+Hb27Rd3Cu5M3F16j3iv/L7a/eoH+g/qf7T+sWXAbeD4YMBgz8NZD+8OCYee/pT/04fh0kfMR9UjRiONj50fHxsNGr3yZM6T4aeypxPPyn5W/3nrc6vn3/3i+0vPWPzY8Av5i8+/rnmp83Lvq6mvOscjxx+8znk98ab8rc7bfe+477rfx70fmSj8QP5Q89H6Y8en0E/3Pud8/vwv94Tz+4A5JREAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfcAgcQLxxUBNp/AAAQZ0lEQVR42u2be3QVVZbGv1N17829eRLyIKAEOiISEtPhJTJAYuyBDmhWjAEx4iAGBhxA4wABbVAMWUAeykMCM+HRTcBRWkNH2l5moS0LCCrQTkYeQWBQSCAIgYRXEpKbW/XNH5zS4noR7faPEeu31l0h4dSpvc+t/Z199jkFWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhY/H9D/MR9qfKnLj/00U71aqfJn9+HCkCR/Wk36ddsgyJ/1wF4fkDfqqm9/gPsUeTnVr6a2xlQfnxdI7zs0W7irzD17Ytb2WT7EeNv/r4ox1O3Quf2QP2pgt9utwfout4FQE8AVBSlnaRmfvAURQkg2RlAbwB9AThlW5L0GaiKojhJhgOIBqDa7XaPrusdPtr5kQwF0BVAAoBIABRCKDd5aFUhRDAAw57eAOwAhKIoupft3zoqhB1AqLwuHIBut9uFt02qqvqRDJR2dAEQJj/BAOjn56dqmma+xiaECAEQAWAggLsB6A6HQ2iaZggBhBAqgEAAnQB0kzaEmT4hAITT6VQ8Ho/HJAKKECJQtr8LwD1y/A1/vcdfEUIEyfZ9AcQbYvZ942Px88L2UwlJR0dH0EMPPbRj5syZPUeNGrXR7Xb/641xIwJ1XY9NSUlZm52dfW+XLl1w8uRJzJ8//+OGhoYJqqqe1TSt1Wsm9NN1PSIqKmr12rVrR5WUlHy1bdu2AQCumWc3IYRD1/UwVVXnFRQUTIuNjUVzczN2797dWFJSkq8oymZd15sAGAEnFEUJ1nX9nzIzM1dnZmZGh4SE4OTJk5g5c+Zf29vbp9pstrMej6fVOyhIhgAYU1hY+B+hoaGoqKg4XVlZea+XTULTNFdCQsLGiRMnPuR2u3UhBOV9eeDAAWXTpk095DUe6WsoyRE5OTlr0tLSAux2O/bs2cO5c+e+pijKUpIXSHaQVAGkvPLKK++6XK4OksJLCFlXV2cvKSlJBFAjhU+x2WwhHo9nUHp6+urMzMy7wsLCUF9fjxdffPHjxsbGiTab7WuPx9NiEutOuq4PyMjI+M+srKyYqKgoHD58GDNmzNjq8XhyVFU9b/q+LH7hBAEYu3PnTlZVVRFAGgCX6f/tAHoOHDjwa0p27txp/JO9e/f+QM7cipw9nfL3kQBKt2zZQpJ87rnn6mQmoHilw2EACs+cOUOSrK+vZ1NTE0nyo48+IoBpxswoBcMJ4Ndjx471kOTFixe5d+9ekqTH42H//v13A4jyzpAURfEH0H/OnDnthu1z5sw558MmFUCPWbNmnaMP3nrrLZoyDmP8Hl68eDFJ8siRI9/Yc+zYMQKYKdtAztrTrl27xptRXV1NAKMAOAyBBBA/Y8aMdpLs6Ojgxx9//E37+++//29yvFXppwvAwMcee8xjtDHsuXLlCqOjo//ia3wsfpkoALqFhoZuIckJEyackimm3dQmEMDUmpoakmRISMhhAHOHDx/eQJIbN24kgKEyMAHAFRMTs2XXrl1saWkhSZ0kp0+ffhrAr3wEW/S8efOukORLL72kA1gKYMPWrVtJkk899dRJAHeYrgsEsIQkjx8/TgDvAPjd448/3kaSb7zxBmUa7vC6z53BwcFbSHL9+vU6Sc6aNes8gF5ewWAH0PfVV18lSQL4DMBGIcQ6AKtcLleBFC2jXtFt8ODBe0iyoqKCAJYByC8qKmJDQwOzsrK+MAmqo1OnTveHhoa+GRkZ+XZkZOSWiIiIvzgcjk9mzpypkWRmZuZpmbYbGV4AgPnNzc1sa2sjgN0A5iQmJtaSZHl5OQHcb/K3s81mW0uSTU1NBFAFYFbfvn1Pk+Tbb79NAA8IIVzW42/hByA+Pz/fLR/2ZXIda05NI/z9/TeR5J49ewhgqlxTrtI0jY2NjQQw3zTLuWJiYjaUlJToS5Ys6fjkk080kwDEeAmADcA9GzZsIElGRUW9CyAWwLApU6Y0kOSKFSsog9QICGdERMTGsrIyZmVlEcC9AB4IDw/fTpLbtm0jgN94CUAnAJmVlZVcs2aNZ/LkyRdJcvbs2b4EwAkgZfPmzTxw4AABFAN4BkC6vFeUSewcAO5duXIlSTIhIaEawGMAxgKYAmAGgCS73e5vrKVk/yGythANYEhCQsIhkly+fDkBpKqqGmL6DgIALDKN/3yZpVWQZGVlJQE8aPI3KiMjo5okV61aRQAjAPQBMPfIkSN0u90EUCBtsPiFEwpgbn19PdetW2fM5N4zQ9ekpKQqkty0aRMBpMjiWM6JEydIkoqirJUFJ6iq6pAPVy8A6cZMehMBUACEuVyuFwG8HBwcPEIWx367ZMkSjSQXLVrUJouTRorrkAHdA8BdQogsAOsKCwtJkmPGjDkvMw2bDDo/ADEjRoz4XylyFbm5uY0mAbjLyyZ/AOOrq6tZVlbWsWDBgo69e/eyoqKCgwcPPg4gSQaoIRbp27dvN7KF+tLSUr28vJwFBQXtMpvpYRIM7+wrAkDeqVOnePbsWQIoNKfzpiXPg8uXLydJJicnNwF4f+nSpW6STEtLq5fjYwhk1wkTJtSQ5Ouvv04AqTKj+N2xY8dIkgEBAW/Ie1v8wncRegwZMmQvSfbr12+3Ua33WqPfOWbMmP0kWVpaSgCDZAqcfejQIWNZsEGKgvnh9gfQb9myZd8nAEJVVZtMkUNk8CcNHTq0liR1XWdYWNhmH1mJIme80OnTp18x1rp5eXkEsNJms92Fb7e/IgEsvHz5Mp999tkmAI/l5uZeMC0B7vEqqAYAyL106RJJsra2lpWVld+sucePH38ZQG+5NncBeOrgwYMkqbe3t/Po0aOsra011wAWyl0H7x0JJ4DE+fPnu0kyPT29DsDdUrBuyNKEEAkAdpw/f/6GeoEM8GUmfwEgPCIiopwkGxsbabPZPgOw6L777vvm4p49e26VGYjFLxUhhD+ApLKyMp44ccIoVnXybgbgzkcfffRzklyzZg0BDJYCMMmoCwQFBXkLgLGWvvcWAgBToSsKwNPTp09vMR7UuLi4rwH0lgU8c/Db5ezbeeTIkRWzZ8++aMxu+fn5BPCADBwHgP4LFy701NXVEUAJgAnPP/98kyxMNgHo53A4zH77BQQETMvPz7+Um5vbBuAlAFMSExPPmdbVL0qh8Acw8fDhw5SCchVAEYAVb775JknyhRdeaJYztHfxMwLAaqNwCGC2FArv8x0hAHKNLGPKlCme5OTk/Zs3bzb7O0wKiiG8KXl5ed8IxenTp0mSR48e1UmyW7duWywBuD2xyQcgFECgoih+8H1gyJgZV5Lkyy+/3CbTRIePtl2HDBmyw1QBHyGDdXZdXR1JUghRKkXBjOMHCoBdpr0L3nvvPZLkF198wejo6O0A4lVVDTb74HQ6AwD8Wq7Jh8rgGgDgQ13XjVR8qaxJuADMbmlpYXl5uV5UVNRWUFDgfv/993Vj/ZydnU1c37eHXML4S3viAcQqitJD2l104cIFY8lTKsXSBWBMVVWVcd9yed2A1NTUQ6Zl00CvLMMOoHdubm6zFIlWOf5+PsY/Kj09vdrU11QAwwGsv3jxIk21m2DZr10I0RXAuAcffPBgaWkpV69eTYfDcdiwUxY0w6xw+flX8L1xApjevXv3lREREaW6rofB93aPDUDQpEmTMgHgtddeqwBwEd/utZvpqK6uPgEAcXFxkA94NwB9unfvjrNnz4LklwDcf08iIqv66Zs2bXrl4YcfxooVKxAbG7uqrq5uAYA2TdOEqqpGYIi2tjbl6aeffu/YsWPv5uTk7JaC1wHg4Pnz542MwoVvTx+21dbWYvjw4WLixIl+2dnZ9lGjRgmSTE1NRUpKCkwFTGiaxtTU1OXTpk3707Bhw/6g67pDipnT4biuj7qut+Lbk3Vf1tTUXI9qu91Pjq1QFEUBgJaWFgBo8yGOQ8eNGxcAAOvXr/8QwBUfYygAKL169eoCABcuXACAWtn2hOGv0+kMNO1KiPDw8F4A4rZv3/7R1KlTR0+bNu1ht9u9r1+/fqitrQXJgwDarRC6/QjPzs4+QJIffPCB9/aQmSAA43ft2mW0e1QGoi8CAPyLsZccExNTC2BlRkbGRdOyYJCP2csBIN6UAZzCd7cBbQCijYp/dXU1ExMTz6SmptaMHj36f9LS0vYlJCRsl6mxIWSdu3fv/g5J7t+/nwC2AShMTk6+SJKff/45AWRLYbD7+fndAeDf5BJnLoCCyZMnt5JkdnZ2C4B/F0KEm1Pu+Pj4rST55ZdfEsBWAK+mpaVdMo3raDn7KwDuSEpK+m+S3LBhAwG8DuCtHTt2UBbpjgC408vvcFVV15HkuXPnjMp+p5uMf0RcXNyHJNnQ0EBVVfcCWBQXF3fG+Jv0yxABPwB5LS0tRmFxN4BlTzzxxGWSXLx4sS5F3GGFy+1Hp5SUlJq6ujoWFxdTpsZ2H+0iIyMj/0iSWVlZX5mr5jfJFroPGzasxlhTnjp1iiTZ3NxMl8tlrCd9pfa9SkpKSJI5OTmnZOageLUZZqxvfVFWVkZcPwdgNwnSCKPqb17jkmR8fPzfZMDZ5CRsFBmNI7h95s2b1yhT7/MAYmStwCx4vy0uLqa3v5qmEcCfvSr1QQAeXb16NY3Cm3HQ55133iGAp+SxZTNhKSkpfzUddkrFjYevzAQCeGjp0qXfsYckY2NjTwD4leGDLCL2HTdunNtoY+zWSHFcIHdsFCtcfuZ1vO9Eqs3m7/F47sb1k2qX/f3997W2tl7BjWfpBYDOzzzzzIVJkyZh0KBBCwEsB3AJvl9AETabLcDj8dwRFRW1ctasWb8JCgpSzp07d62wsPC/Wltb8xRFadR1/ZqPXYbgAQMGbI2Pjw/+6quv9ldVVT0r01ezuPRJSUn5Y9euXXVd11WzDaqq6kePHm3+7LPPRgO4KlNuxWazhXo8nuTk5OSXMjIyEl0uFxoaGtqKior+dPXq1VdUVT0jj7r68ieoT58+vx8yZMjdx48fP1JVVTVF9m20VW02WyfZf97YsWPjXS4X6urqWvPy8jYCWCyEuEDS8FdVFKWzruv//OSTTy5OTk7uqWkaPv3007qysrJ8RVH+LI8ym8/rB3Tu3HnRI488knLo0KG2ffv2ZQI4C98vP6mqqoZqmpaclpa2cOTIkX39/f3R0NDQUVxc/G5TU9PLqqrWa5rWLH1QVFUN0TStX1JSUvH48eP7BwYG4uDBg1cKCgpeBbBe2u+2Qug2EwD5N5sMPuNtMe8XP4TT6Qxoa2sbIGeXvUKIK7d4IISiKC5d1wPljOfA9bPwzYqiXNV13dd6Uqiq6qdpml2mpe02m63d4/G4vcTF5fF47LJf71nJA6BZVVW3pmntuPHlmAD5wk6Q9NnbHp9vHaqq6tA0zU/64PZhk1FfCZB9G/23ALiqKEqzD39tpvbGUqoFwFUhRLP3yzpCCDtJpxyXDulfG27+pqRR3DXsUWVd4Yq0x/taVQjhIhksC8L+ABpM9ljBf5sKwI8pIBr75L5E4vvu+UNeG/a+hv+AL7yFH8qPtOfHjtOP6V/Bja8D6z/B2Nys/1u9Xv33tLf4GfF/LC4GCJwByWIAAAAASUVORK5CYII\x3d";q.pq=q.Ea.extend({jr:null,kr:null,lr:null,vo:null,wo:null,xo:null,is:null,js:null,ks:null,Ja:null,yv:null,ctor:function(){this.yv=new q.xh;this.restore()},description:function(){return"\x3cCCCamera | center \x3d("+this.vo+","+this.wo+","+this.xo+")\x3e"},Og:function(a){this.Ja=a},lJ:function(){return this.Ja},restore:function(){this.jr=this.kr=0;this.lr=q.pq.Gs();this.is=this.vo=this.wo=this.xo=0;this.js=1;this.ks=0;q.N8(this.yv);this.Ja=!1},vJ:function(){if(this.Ja){var a=new q.Rp,c=new q.Rp,d=new q.Rp;
q.Ms(a,this.jr,this.kr,this.lr);q.Ms(c,this.vo,this.wo,this.xo);q.Ms(d,this.is,this.js,this.ks);q.vU(this.yv,a,c,d);this.Ja=!1}q.dx(this.yv)},Kaa:function(a,c,d){this.EK(a,c,d)},EK:function(a,c,d){this.jr=a;this.kr=c;this.lr=d;this.Ja=!0},taa:function(a,c,d){this.GW(a,c,d)},GW:function(a,c,d){this.vo=a;this.wo=c;this.xo=d;this.Ja=!0},gca:function(a,c,d){this.JX(a,c,d)},JX:function(a,c,d){this.is=a;this.js=c;this.ks=d;this.Ja=!0},H4:function(){return{x:this.jr,y:this.kr,z:this.lr}},zI:function(){return{x:this.jr,
y:this.kr,z:this.lr}},g4:function(){return{x:this.vo,y:this.wo,z:this.xo}},xI:function(){return{x:this.vo,y:this.wo,z:this.xo}},X6:function(){return{x:this.is,y:this.js,z:this.ks}},uT:function(){return{x:this.is,y:this.js,z:this.ks}},A0:function(){}});q.pq.Gs=function(){return q.Wt};q.fu=-2147483648;q.x_=q.fu+1;q.vt=function(a,c){if(a&&0<a.length)for(var d=0;d<a.length;d++)if(!(a[d]instanceof c)){q.log("element type is wrong!");break}};q.mq=function(a,c){a.splice(c,1)};q.Ud=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c){a.splice(d,1);break}};q.YY=function(a,c){for(var d=0,e=c.length;d<e;d++)q.Ud(a,c[d])};q.XY=function(a,c){return a.indexOf(c)};q.VY=function(a,c){a.push(c)};q.Ul=function(a,c,d){a.splice(d,0,c);return a};
q.WY=function(a,c,d){a.splice.apply(a,[d,0].concat(c));return a};q.ty=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c)return d;return-1};q.ry=function(a,c){return-1!=a.indexOf(c)};q.QZ=function(a,c){if(null==a)return null;for(var d=0;d<a.length;d++)if(a[d].target===c)return a[d];return null};q.XE=function(a,c,d){this.next=null;this.target=a;this.VJ=c;this.paused=d;this.zl=!1};q.TE=function(a,c,d){this.list=a;this.an=c;this.target=d;this.MC=null};
q.uM=function(a,c){this.hg=null;this.target=a;this.iq=0;this.ss=this.rs=null;this.paused=c;this.MC=null};
q.wu=q.Ea.extend({Nj:0,Sf:null,Q:null,cc:0,RG:!1,sw:!1,ip:0,eB:0,av:0,ctor:function(){},c5:function(){return this.Nj},setInterval:function(){},t6:function(){return this.Sf},Jg:function(a,c,d,e,f){this.Q=a;this.Sf=c;this.cc=-1;this.Nj=d||0;this.av=f||0;this.sw=0<this.av;this.eB=null==e?q.$l:e;this.RG=this.eB==q.$l;return!0},Jz:function(){if("string"==typeof this.Sf)this.Q[this.Sf](this.cc);else this.Sf.call(this.Q,this.cc)},update:function(a){if(-1==this.cc)this.ip=this.cc=0;else{var c=this.Q,d=this.Sf;
this.RG&&!this.sw?(this.cc+=a,this.cc>=this.Nj&&(c&&d&&this.Jz(),this.cc=0)):(this.cc+=a,this.sw?this.cc>=this.av&&(c&&d&&this.Jz(),this.cc-=this.av,this.ip+=1,this.sw=!1):this.cc>=this.Nj&&(c&&d&&this.Jz(),this.cc=0,this.ip+=1),this.ip>this.eB&&q.Y.e().Bf().AL(c,d))}}});q.wu.hda=function(a,c,d){if(2>arguments.length)throw Error("timerWithTarget'argument can't is null");var e=new q.wu;e.Jg(a,c,d||0,q.$l,0);return e};q.n1=null;
q.jN=q.Ea.extend({bs:1,qh:null,Xh:null,Dg:null,Kj:null,Mu:null,Jj:null,M0:null,qf:null,Ei:!1,pw:!1,ctor:function(){this.bs=1;this.qh=[];this.Xh=[];this.Dg=[];this.Kj={};this.Mu=[];this.Jj={};this.Hk=[];this.qf=null;this.pw=this.Ei=!1},dB:function(a){delete this.Jj[a.target.bc];q.Ud(this.Hk,a);a.wu=null;a.target=null},S0:function(a,c){for(var d=0;d<a.length;d++)if(a[d].target==c)return a[d];return null},Rv:function(a){if(a=this.Kj[a.target.bc])q.Ud(a.list,a.an),delete this.Kj[a.target.bc],q.Ud(this.Mu,
a),a.an=null,a.target=null},KG:function(a,c,d,e){e=new q.XE(c,d,e);if(a){for(var f=!1,g=0;g<a.length;g++)if(d<a[g].VJ){a=q.Ul(a,e,g);f=!0;break}f||a.push(e)}else a=[],a.push(e);d=new q.TE(a,e,c);this.Mu.push(d);this.Kj[c.bc]=d;return a},YN:function(a,c,d){d=new q.XE(c,0,d);a.push(d);a=new q.TE(a,d,c);this.Mu.push(a);this.Kj[c.bc]=a},aca:function(a){this.bs=a},M6:function(){return this.bs},update:function(a){this.pw=!0;1!=this.bs&&(a*=this.bs);var c,d;for(d=0;d<this.qh.length;d++)c=this.qh[d],c.paused||
c.zl||c.target.update(a);for(d=0;d<this.Xh.length;d++)c=this.Xh[d],c.paused||c.zl||c.target.update(a);for(d=0;d<this.Dg.length;d++)c=this.Dg[d],c.paused||c.zl||c.target.update(a);for(d=0;d<this.Hk.length;d++){c=this.qf=this.Hk[d];this.Ei=!1;if(!this.qf.paused)for(c.iq=0;c.iq<c.hg.length;c.iq++)c.rs=c.hg[c.iq],c.ss=!1,c.rs.update(a),c.rs=null;this.Ei&&0==this.qf.hg.length&&this.dB(this.qf)}for(d=0;d<this.qh.length;d++)this.qh[d].zl&&this.Rv(this.qh[d]);for(d=0;d<this.Xh.length;d++)this.Xh[d].zl&&this.Rv(this.Xh[d]);
for(d=0;d<this.Dg.length;d++)this.Dg[d].zl&&this.Rv(this.Dg[d]);this.pw=!1;this.qf=null},oW:function(a,c,d,e,f,g){if(!c)throw"cc.scheduler.scheduleCallbackForTarget(): callback_fn should be non-null.";if(!a)throw"cc.scheduler.scheduleCallbackForTarget(): target should be non-null.";d=d||0;e=null==e?q.$l:e;f=f||0;g=g||!1;var h=this.Jj[a.bc];h||(h=new q.uM(a,g),this.Hk.push(h),this.Jj[a.bc]=h);if(null==h.hg)h.hg=[];else for(var k=0;k<h.hg.length;k++)if(g=h.hg[k],c==g.Sf){q.log("CCSheduler#scheduleCallback. Callback already scheduled. Updating interval from:"+
g.Nj.toFixed(4)+" to "+d.toFixed(4));g.Nj=d;return}g=new q.wu;g.Jg(a,c,d,e,f);h.hg.push(g)},nK:function(a,c,d){var e=this.Kj[a.bc];e?e.an.zl=!1:0==c?this.YN(this.Xh,a,d):0>c?this.qh=this.KG(this.qh,a,c,d):this.Dg=this.KG(this.Dg,a,c,d)},AL:function(a,c){if(null!=a&&null!=c){var d=this.Jj[a.bc];if(null!=d)for(var e=0;e<d.hg.length;e++){var f=d.hg[e];if(c==f.Sf){f!=d.rs||d.ss||(d.ss=!0);q.mq(d.hg,e);d.iq>=e&&d.iq--;0==d.hg.length&&(this.qf==d?this.Ei=!0:this.dB(d));break}}}},jq:function(a){null!=a&&
(a=this.Kj[a.bc],null!=a&&(this.pw?a.an.zl=!0:this.Rv(a.an)))},zL:function(a){if(null!=a){var c=this.Jj[a.bc];c&&(!c.ss&&q.ry(c.hg,c.rs)&&(c.ss=!0),c.hg.length=0,this.qf==c?this.Ei=!0:this.dB(c));this.jq(a)}},mt:function(){this.sY(q.fu)},sY:function(a){var c;for(c=0;c<this.Hk.length;c++)this.zL(this.Hk[c].target);if(0>a)for(c=0;c<this.qh.length;c++)this.jq(this.qh[c].target);if(0>=a)for(c=0;c<this.Xh.length;c++)this.jq(this.Xh[c].target);for(c=0;c<this.Dg.length;c++)this.Dg[c].VJ>=a&&this.jq(this.Dg[c].target)},
f$:function(){return this.gV(q.fu)},gV:function(a){var c=[],d,e;for(d=0;d<this.Hk.length;d++)if(e=this.Hk[d])e.paused=!0,c.push(e.target);if(0>a)for(d=0;d<this.qh.length;d++)if(e=this.qh[d])e.paused=!0,c.push(e.target);if(0>=a)for(d=0;d<this.Xh.length;d++)if(e=this.Xh[d])e.paused=!0,c.push(e.target);for(d=0;d<this.Dg.length;d++)if(e=this.Dg[d])e.paused=!0,c.push(e.target);return c},hW:function(a){if(a)for(var c=0;c<a.length;c++)this.yn(a[c])},Vs:function(a){if(!a)throw"cc.Scheduler.pauseTarget():target should be non-null";
var c=this.Jj[a.bc];c&&(c.paused=!0);if(a=this.Kj[a.bc])a.an.paused=!0},yn:function(a){if(!a)throw"cc.Scheduler.resumeTarget():target should be non-null";var c=this.Jj[a.bc];c&&(c.paused=!1);if(a=this.Kj[a.bc])a.an.paused=!1},v8:function(a){if(!a)throw"cc.Scheduler.isTargetPaused():target should be non-null";return(a=this.Jj[a.bc])?a.paused:!1}});q.Xy={IMAGE:["png","jpg","bmp","jpeg","gif"],SOUND:["mp3","ogg","wav","mp4","m4a"],XML:["plist","xml","fnt","tmx","tsx"],BINARY:["ccbi"],FONT:"FONT",TEXT:["txt","vsh","fsh","json","ExportJson"],UNKNOW:[]};
q.Yb=q.Ea.extend({Bo:0,es:0,zr:0,ym:null,ah:1/60,Nj:null,rG:!1,ctor:function(){this.ym=[]},$w:function(a,c,d){if(a){c&&(this.Sf=c,this.Q=d);if(a!=this.ym||0==this.Bo){this.zr=this.Bo=0;if(a[0]instanceof Array)for(c=0;c<a.length;c++)this.ym=this.ym.concat(a[c]);else this.ym=a;this.es=this.ym.length}this.RP()}else console.log("resources should not null")},BW:function(a){this.rG=a},pn:function(a){this.zr++;q.log("cocos2d:Failed loading resource: "+a)},li:function(){this.zr++},Pw:function(){var a=0;return a=
0==this.es?100:0|this.zr/this.es*100},OV:function(a){if(a&&0<a.length)for(var c=q.ha.e(),d=q.Dh?q.Dh.e():null,e=q.Ak.e(),f=q.Hd.e(),g,h=0;h<a.length;h++){g=a[h];var k=this.jG(g);switch(k){case "IMAGE":c.$V(g.src);break;case "SOUND":if(!d)throw"Can not find AudioEngine! Install it, please.";d.oda(g.src);break;case "XML":e.qY(g.src);break;case "BINARY":f.pY(g.src);break;case "TEXT":f.rY(g.src);break;case "FONT":break;default:throw"cocos2d:unknown filename extension: "+k;}}},xP:function(){this.qw();
if(this.rG){var a=q.Y.e().hv;if(null!=a&&20>a){q.log("cocos2d: frame rate less than 20 fps, skip frame.");return}}this.Bo<this.es&&(this.fP(),this.Bo++)},fP:function(){var a=q.ha.e(),c=q.Dh?q.Dh.e():null,d=q.Ak.e(),e=q.Hd.e(),f=this.ym[this.Bo],g=this.jG(f);switch(g){case "IMAGE":a.qa(f.src);break;case "SOUND":if(!c)throw"Can not find AudioEngine! Install it, please.";c.m$(f.src);break;case "XML":d.sV(f.src);break;case "BINARY":e.rV(f.src);break;case "TEXT":e.tV(f.src);break;case "FONT":this.zP(f);
break;default:throw"cocos2d:unknown filename extension: "+g;}},RP:function(){var a=this;this.Nj=setInterval(function(){a.xP()},1E3*this.ah)},HQ:function(){clearInterval(this.Nj)},jG:function(a){if(null!=a.vs)return q.Xy.FONT;a=a.src;a=a.substring(a.lastIndexOf(".")+1,a.length);var c=a.indexOf("?");0<c&&(a=a.substring(0,c));for(var d in q.Xy)if(-1!=q.Xy[d].indexOf(a))return d;return a},qw:function(){100<=this.Pw()&&(this.HQ(),this.tO())},tO:function(){if(this.Q&&"string"==typeof this.Sf)this.Q[this.Sf](this);
else this.Q&&"function"==typeof this.Sf?this.Sf.call(this.Q,this):this.Sf(this);this.es=this.zr=this.Bo=0},zP:function(a){var c=a.src,d=q.Hd.e();if(c&&0<c.length){var e=document.createElement("style");e.type="text/css";document.body.appendChild(e);for(var f="@font-face { font-family:"+a.vs+"; src:",g=0;g<c.length;g++)f+="url('"+d.pe(encodeURI(c[g].src))+"') format('"+c[g].type+"')",f+=g==c.length-1?";":",";e.textContent+=f+"};";c=document.createElement("div");c.style.fontFamily=a.vs;c.innerHTML=".";
c.style.position="absolute";c.style.left="-100px";c.style.top="-100px";document.body.appendChild(c)}q.Yb.e().li()},t1:function(){}});q.Yb.sD=function(a,c,d){this.Ib||(this.Ib=new q.Yb);this.Ib.$w(a,c,d);return this.Ib};q.Yb.l$=function(a,c,d){this.Ib||(this.Ib=new q.Yb);this.Ib.BW(!0);this.Ib.$w(a,c,d);return this.Ib};q.Yb.tD=function(a){this.Ib&&this.Ib.OV(a)};q.Yb.e=function(){this.Ib||(this.Ib=new q.Yb);return this.Ib};q.Yb.Ib=null;
q.Oy=q.vq.extend({xv:null,So:null,fw:null,Mq:null,Qo:null,UB:null,ctor:function(){q.vq.prototype.ctor.call(this);this.UB=q.Y.e().Qb},r:function(){q.vq.prototype.r.call(this);var a=q.a(this.UB.width/2,this.UB.height/2);this.So=new Image;var c=this;this.So.addEventListener("load",function(){c.QO(a);this.removeEventListener("load",arguments.callee,!1)});this.So.src="";this.So.width=160;this.So.height=200;this.Mq=q.ca.create(q.dC(32,32,32,255));this.Mq.n(0,0);this.f(this.Mq,0);this.Qo=q.S.create("Loading... 0%",
"Arial",14);this.Qo.l(q.xw(180,180,180));this.Qo.n(q.dg(a,q.a(0,-110)));this.Mq.f(this.Qo,10)},QO:function(a){this.fw=new q.Zb;this.fw.Df(this.So);this.fw.ze();this.xv=q.A.gb(this.fw);this.xv.rk(q.Gd());this.xv.n(a);this.Mq.f(this.xv,10)},Ng:function(){q.D.prototype.Ng.call(this);this.fc(this.dH,0.3)},Rd:function(){q.D.prototype.Rd.call(this);this.Qo.ea("Loading... 0%")},$w:function(a,c,d){this.eW=a;this.tW=c;this.target=d},dH:function(){this.cd(this.dH);q.Yb.sD(this.eW,this.tW,this.target);this.fc(this.qw)},
qw:function(){var a=q.Yb.e().Pw();this.Qo.ea("Loading... "+a+"%");100<=a&&this.cd(this.qw)}});q.Oy.sD=function(a,c,d){this.Ib||(this.Ib=new q.Oy,this.Ib.r());this.Ib.$w(a,c,d);a=q.Y.e();a.nd?a.iK(this.Ib):a.lW(this.Ib);return this.Ib};q.Dy=q.Ea.extend({vb:null,Gba:function(a){this.vb=a},g6:function(){return this.vb},ctor:function(a){this.vb=a},pC:function(){q.log("DrawingPrimitive.drawPoint() not implement!")},hI:function(){q.log("DrawingPrimitive.drawPoints() not implement!")},ai:function(){q.log("DrawingPrimitive.drawLine() not implement!")},jI:function(){q.log("DrawingPrimitive.drawRect() not implement!")},qC:function(){q.log("DrawingPrimitive.drawSolidRect() not implement!")},ke:function(){q.log("DrawingPrimitive.drawPoly() not implement!")},
Gw:function(){q.log("DrawingPrimitive.drawSolidPoly() not implement!")},eI:function(){q.log("DrawingPrimitive.drawCircle() not implement!")},iI:function(){q.log("DrawingPrimitive.drawQuadBezier() not implement!")},fI:function(){q.log("DrawingPrimitive.drawCubicBezier() not implement!")},dI:function(){q.log("DrawingPrimitive.drawCardinalSpline() not implement!")},Fw:function(){q.log("DrawingPrimitive.drawCardinalSpline() not implement!")}});
q.QE=q.Dy.extend({pC:function(a,c){c||(c=1);var d=q.sa.e().wa,e=q.sa.e().Ba,e=q.a(a.x*d,a.y*e);this.vb.beginPath();this.vb.arc(e.x,-e.y,c*d,0,2*Math.PI,!1);this.vb.closePath();this.vb.fill()},hI:function(a,c,d){if(null!=a){d||(d=1);c=this.vb;var e=q.sa.e().wa,f=q.sa.e().Ba;c.beginPath();for(var g=0,h=a.length;g<h;g++)c.arc(a[g].x*e,-a[g].y*f,d*e,0,2*Math.PI,!1);c.closePath();c.fill()}},ai:function(a,c){var d=this.vb,e=q.sa.e().wa,f=q.sa.e().Ba;d.beginPath();d.moveTo(a.x*e,-a.y*f);d.lineTo(c.x*e,-c.y*
f);d.closePath();d.stroke()},jI:function(a,c){this.ai(q.a(a.x,a.y),q.a(c.x,a.y));this.ai(q.a(c.x,a.y),q.a(c.x,c.y));this.ai(q.a(c.x,c.y),q.a(a.x,c.y));this.ai(q.a(a.x,c.y),q.a(a.x,a.y))},qC:function(a,c,d){a=[a,q.a(c.x,a.y),c,q.a(a.x,c.y)];this.Gw(a,4,d)},ke:function(a,c,d,e){e=e||!1;if(null!=a){if(3>a.length)throw Error("Polygon's point must greater than 2");var f=a[0];c=this.vb;var g=q.sa.e().wa,h=q.sa.e().Ba;c.beginPath();c.moveTo(f.x*g,-f.y*h);for(var f=1,k=a.length;f<k;f++)c.lineTo(a[f].x*g,
-a[f].y*h);d&&c.closePath();e?c.fill():c.stroke()}},Gw:function(a,c,d){this.DK(d.p,d.o,d.g,d.I);this.ke(a,c,!0,!0)},eI:function(a,c,d,e,f){f=f||!1;e=this.vb;var g=q.sa.e().wa,h=q.sa.e().Ba;e.beginPath();e.arc(0|a.x*g,0|-(a.y*h),c*g,-d,-(d-2*Math.PI),!1);f&&e.lineTo(0|a.x*g,0|-(a.y*h));e.stroke()},iI:function(a,c,d,e){for(var f=[],g=0,h=0;h<e;h++)f.push(q.a(Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y)),g+=1/e;f.push(q.a(d.x,d.y));this.ke(f,e+1,!1,!1)},fI:function(a,
c,d,e,f){for(var g=[],h=0,k=0;k<f;k++)g.push(q.a(Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y)),h+=1/f;g.push(q.a(e.x,e.y));this.ke(g,f+1,!1,!1)},dI:function(a,c){this.Fw(a,0.5,c)},Fw:function(a,c,d){q.W.strokeStyle="rgba(255,255,255,1)";for(var e=[],f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=q.xy(q.uh(a,f-1),q.uh(a,f-0),q.uh(a,f+1),q.uh(a,f+2),c,g),e.push(f);this.ke(e,
d+1,!1,!1)},drawImage:function(a,c,d,e,f){switch(arguments.length){case 2:this.vb.drawImage(a,c.x,-(c.y+a.height));break;case 3:this.vb.drawImage(a,c.x,-(c.y+d.height),d.width,d.height);break;case 5:this.vb.drawImage(a,c.x,c.y,d.width,d.height,e.x,-(e.y+f.height),f.width,f.height);break;default:throw Error("Argument must be non-nil");}},c3:function(a,c,d){a=a||this.vb;c*=q.sa.e().wa;d instanceof q.Wd&&(d=new q.Cc(0|255*d.p,0|255*d.o,0|255*d.g));d="rgba("+d.p+","+d.o+","+d.g;a.fillStyle=d+",1)";var e=
c/10;a.beginPath();a.moveTo(-c,c);a.lineTo(0,e);a.lineTo(c,c);a.lineTo(e,0);a.lineTo(c,-c);a.lineTo(0,-e);a.lineTo(-c,-c);a.lineTo(-e,0);a.lineTo(-c,c);a.closePath();a.fill();var f=a.createRadialGradient(0,0,e,0,0,c);f.addColorStop(0,d+", 1)");f.addColorStop(0.3,d+", 0.8)");f.addColorStop(1,d+", 0.0)");a.fillStyle=f;a.beginPath();a.arc(0,0,c-e,0,q.aF,!1);a.closePath();a.fill()},a3:function(a,c,d){a=a||this.vb;c*=q.sa.e().wa;d instanceof q.Wd&&(d=new q.Cc(0|255*d.p,0|255*d.o,0|255*d.g));d="rgba("+
d.p+","+d.o+","+d.g;var e=a.createRadialGradient(0,0,c/10,0,0,c);e.addColorStop(0,d+", 1)");e.addColorStop(0.3,d+", 0.8)");e.addColorStop(0.6,d+", 0.4)");e.addColorStop(1,d+", 0.0)");a.fillStyle=e;a.beginPath();a.arc(0,0,c,0,q.aF,!1);a.closePath();a.fill()},fillText:function(a,c,d){this.vb.fillText(a,c,-d)},QW:function(a,c,d,e){this.vb.fillStyle="rgba("+a+","+c+","+d+","+e/255+")";this.vb.strokeStyle="rgba("+a+","+c+","+d+","+e/255+")"},DK:function(a,c,d,e){this.vb.fillStyle="rgba("+(0|255*a)+","+
(0|255*c)+","+(0|255*d)+","+e+")";this.vb.strokeStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+")"},sX:function(){},bX:function(a){this.vb.lineWidth=a*q.sa.e().wa}});
q.kM=q.Dy.extend({ur:!1,Lb:null,Ci:-1,jc:null,SA:-1,RA:-1,ctor:function(a){null==a&&(a=q.W);if(!a instanceof WebGLRenderingContext)throw"Can't initialise DrawingPrimitiveWebGL. context need is WebGLRenderingContext";q.Dy.prototype.ctor.call(this,a);this.jc=new q.Wd(1,1,1,1)},jk:function(){this.ur||(this.Lb=q.Hh.e().mi(q.X_),this.Ci=this.vb.getUniformLocation(this.Lb.Qw(),"u_color"),this.SA=this.vb.getUniformLocation(this.Lb.Qw(),"u_pointSize"),this.ur=!0)},b3:function(){this.ur=!1},pC:function(a){this.jk();
this.Lb.nf();this.Lb.Rg();q.ue(q.Zg);this.Lb.Jl(this.Ci,new Float32Array(this.jc.Pb,0,4),1);this.Lb.YK(this.SA,this.RA);var c=this.vb,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,new Float32Array([a.x,a.y]),c.STATIC_DRAW);c.vertexAttribPointer(q.Le,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,1);c.deleteBuffer(d);q.Eh()},hI:function(a){if(a&&0!=a.length){this.jk();this.Lb.nf();this.Lb.Rg();q.ue(q.Zg);this.Lb.Jl(this.Ci,new Float32Array(this.jc.Pb,0,4),1);this.Lb.YK(this.SA,
this.RA);var c=this.vb,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.Mv(a),c.STATIC_DRAW);c.vertexAttribPointer(q.Le,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,a.length);c.deleteBuffer(d);q.Eh()}},Mv:function(a){for(var c=new Float32Array(2*a.length),d=0;d<a.length;d++)c[2*d]=a[d].x,c[2*d+1]=a[d].y;return c},ai:function(a,c){this.jk();this.Lb.nf();this.Lb.Rg();q.ue(q.Zg);this.Lb.Jl(this.Ci,new Float32Array(this.jc.Pb,0,4),1);var d=this.vb,e=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,
e);d.bufferData(d.ARRAY_BUFFER,this.Mv([a,c]),d.STATIC_DRAW);d.vertexAttribPointer(q.Le,2,d.FLOAT,!1,0,0);d.drawArrays(d.LINES,0,2);d.deleteBuffer(e);q.Eh()},jI:function(a,c){this.ai(q.a(a.x,a.y),q.a(c.x,a.y));this.ai(q.a(c.x,a.y),q.a(c.x,c.y));this.ai(q.a(c.x,c.y),q.a(a.x,c.y));this.ai(q.a(a.x,c.y),q.a(a.x,a.y))},qC:function(a,c,d){a=[a,q.a(c.x,a.y),c,q.a(a.x,c.y)];this.Gw(a,4,d)},ke:function(a,c,d){this.jk();this.Lb.nf();this.Lb.Rg();q.ue(q.Zg);this.Lb.Jl(this.Ci,new Float32Array(this.jc.Pb,0,4),
1);c=this.vb;var e=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,e);c.bufferData(c.ARRAY_BUFFER,this.Mv(a),c.STATIC_DRAW);c.vertexAttribPointer(q.Le,2,c.FLOAT,!1,0,0);d?c.drawArrays(c.LINE_LOOP,0,a.length):c.drawArrays(c.LINE_STRIP,0,a.length);c.deleteBuffer(e);q.Eh()},Gw:function(a,c,d){this.jk();d||(d=this.jc);this.Lb.nf();this.Lb.Rg();q.ue(q.Zg);this.Lb.Jl(this.Ci,new Float32Array(d.Pb,0,4),1);c=this.vb;d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.Mv(a),c.STATIC_DRAW);
c.vertexAttribPointer(q.Le,2,c.FLOAT,!1,0,0);c.drawArrays(c.TRIANGLE_FAN,0,a.length);c.deleteBuffer(d);q.Eh()},eI:function(a,c,d,e,f){this.jk();var g=1;f&&g++;var h=2*Math.PI/e;if(f=new Float32Array(2*(e+2))){for(var k=0;k<=e;k++){var l=k*h,m=c*Math.sin(l+d)+a.y;f[2*k]=c*Math.cos(l+d)+a.x;f[2*k+1]=m}f[2*(e+1)]=a.x;f[2*(e+1)+1]=a.y;this.Lb.nf();this.Lb.Rg();q.ue(q.Zg);this.Lb.Jl(this.Ci,new Float32Array(this.jc.Pb,0,4),1);a=this.vb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(q.Le,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+g);a.deleteBuffer(c);q.Eh()}},iI:function(a,c,d,e){this.jk();for(var f=new Float32Array(2*(e+1)),g=0,h=0;h<e;h++)f[2*h]=Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,f[2*h+1]=Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y,g+=1/e;f[2*e]=d.x;f[2*e+1]=d.y;this.Lb.nf();this.Lb.Rg();q.ue(q.Zg);this.Lb.Jl(this.Ci,new Float32Array(this.jc.Pb,0,4),1);a=this.vb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(q.Le,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+1);a.deleteBuffer(c);q.Eh()},fI:function(a,c,d,e,f){this.jk();for(var g=new Float32Array(2*(f+1)),h=0,k=0;k<f;k++)g[2*k]=Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,g[2*k+1]=Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y,h+=1/f;g[2*f]=e.x;g[2*f+1]=e.y;this.Lb.nf();this.Lb.Rg();q.ue(q.Zg);this.Lb.Jl(this.Ci,new Float32Array(this.jc.Pb,0,4),1);a=this.vb;c=a.createBuffer();
a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,g,a.STATIC_DRAW);a.vertexAttribPointer(q.Le,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,f+1);a.deleteBuffer(c);q.Eh()},dI:function(a,c){this.Fw(a,0.5,c)},Fw:function(a,c,d){this.jk();for(var e=new Float32Array(2*(d+1)),f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=q.xy(q.uh(a,f-1),q.uh(a,f),q.uh(a,f+1),q.uh(a,f+2),c,g),e[2*k]=f.x,e[2*k+1]=f.y;this.Lb.nf();this.Lb.Rg();q.ue(q.Zg);this.Lb.Jl(this.Ci,
new Float32Array(this.jc.Pb,0,4),1);a=this.vb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,e,a.STATIC_DRAW);a.vertexAttribPointer(q.Le,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,d+1);a.deleteBuffer(c);q.Eh()},QW:function(a,c,d,e){this.jc.p=a/255;this.jc.o=c/255;this.jc.g=d/255;this.jc.I=e/255},DK:function(a,c,d,e){this.jc.p=a;this.jc.o=c;this.jc.g=d;this.jc.I=e},sX:function(a){this.RA=a*q.Gd()},bX:function(a){this.vb.lineWidth&&this.vb.lineWidth(a)}});q.aF=2*Math.PI;q.tF={x0:0,b_:1,c_:2,NY:3,VZ:4,UZ:5,$Y:6,k_:7,FZ:8,NM:100,WM:101};q.q_=0;q.r_=1;q.o_=2;q.p_=3;q.lg=0;q.Dk=1;q.Zf=null;q.W=null;q.canvas=null;q.DS=null;q.Dd=q.lg;q.aV=q.size(0,0);window.FD=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;window.console||(window.console={},window.console.log=function(){},window.console.assert=function(){});q.YC=!1;
q.sk=function(a,c,d){function e(){if(q.Dh){var a=q.Dh.e();document[k]?(a.fV(),a.hV()):(q.Y.e().NP(),a.fW(),a.gW())}}a=q.Nb(a)||q.Nb("#"+a);var f,g,h;"CANVAS"==a.tagName?(c=c||a.width,d=d||a.height,g=q.dk=q.wk("DIV"),h=g.style,f=q.canvas=a,f.parentNode.insertBefore(g,f),f.Xm(g),h.width=(c||480)+"px",h.height=(d||320)+"px",g.setAttribute("id","Cocos2dGameContainer"),h.margin="0 auto",f.setAttribute("width",c||480),f.setAttribute("height",d||320)):("DIV"!=a.tagName&&q.log("Warning: target element is not a DIV or CANVAS"),
c=c||a.clientWidth,d=d||a.clientHeight,f=q.canvas=q.wk("CANVAS"),f.CH("gameCanvas"),f.setAttribute("width",c||480),f.setAttribute("height",d||320),g=q.dk=a,h=g.style,a.appendChild(f),h.width=(c||480)+"px",h.height=(d||320)+"px",h.margin="0 auto");h.position="relative";h.overflow="hidden";g.top="100%";if(!q.uz){q.Ga.Qc&&(q.W=q.Ida=q.SH(f,{stencil:!0,preserveDrawingBuffer:!0,antialias:!q.Ga.ik,alpha:!1}));q.W?(q.Dd=q.Dk,window.gl=q.W,q.Zf=new q.kM(q.W),q.ha.e().XO()):(q.W=f.getContext("2d"),q.DU=q.W,
q.Dd=q.lg,q.W.translate(0,f.height),q.Zf=q.QE?new q.QE(q.W):null);q.aV=q.size(f.width,f.height);q.DS=g;q.log(q.Bt);q.Je.e();q.MW();q.Ga.ik&&q.TN();var k,l;"undefined"!==typeof document.hidden?(k="hidden",l="visibilitychange"):"undefined"!==typeof document.mozHidden?(k="mozHidden",l="mozvisibilitychange"):"undefined"!==typeof document.msHidden?(k="msHidden",l="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(k="webkitHidden",l="webkitvisibilitychange");"undefined"===typeof document.addEventListener||
"undefined"===typeof k?(q.YC=!1,window.addEventListener("focus",function(){if(q.Dh){var a=q.Dh.e();a.fW();a.gW()}},!1),window.addEventListener("blur",function(){if(q.Dh){var a=q.Dh.e();a.fV();a.hV()}},!1)):(q.YC=!0,document.addEventListener(l,e,!1))}};q.TN=function(){var a=document.createElement("style");a.type="text/css";document.body.appendChild(a);a.textContent="body,canvas,div{ -moz-user-select: none;-webkit-user-select: none;-ms-user-select: none;-khtml-user-select: none;-webkit-tap-highlight-color:rgba(0,0,0,0);}"};
q.sG=!1;q.MW=function(){q.sG=!1;q.canvas.oncontextmenu=q.sG?function(){}:function(){return!1}};q.qj=q.Ea.extend({ah:null,ctor:function(){this.ah=0;if(q.sB)throw"Application has been initialized";q.sB=this},$s:function(a){this.ah=a},Gca:function(a){a&&q.rect(0,0,0,0)},I6:function(){return q.Ga.ik?q.tF.NM:q.tF.WM},jW:function(){if(!this.kR())return 0;var a,c=q.Y.e(),d=window;q.hS=c;d.FD&&this.ah==1/60?(a=function(){c.AJ();d.FD(a)},d.FD(a)):(a=function(){c.AJ()},setInterval(a,1E3*this.ah));return 0}});
q.qj.e=function(){return q.sB};q.qj.s4=function(){var a=q.BM,c=navigator.language;c||(c=navigator.browserLanguage||navigator.xda);if(!c)return a;c=c.toLowerCase();switch(c){case "zh-cn":a=q.AM;break;case "fr":a=q.CM;break;case "it":a=q.FM;break;case "de":a=q.DM;break;case "es":a=q.MM;break;case "ru":a=q.LM;break;case "ko":a=q.HM;break;case "ja":a=q.GM;break;case "hu":a=q.EM;break;case "pt":a=q.KM;break;case "ar":a=q.zM;break;case "no":a=q.IM;break;case "pl":a=q.JM}return a};q.sB=null;q.Ak=q.Ea.extend({Kda:null,IG:null,op:null,EA:null,ctor:function(){this.op={};window.DOMParser?(this.EA=!0,this.IG=new DOMParser):this.EA=!1},parse:function(a){var c=a;a=this.AI(a);a=this.JG(a,c).documentElement;if("plist"!=a.tagName)throw"cocos2d: "+c+" is not a plist file or you forgot to preload the plist file";for(var c=null,d=0,e=a.childNodes.length;d<e&&(c=a.childNodes[d],1!=c.nodeType);d++);return this.OA(c)},ida:function(a,c){if(null==c||!1===c)a=this.AI(a);return this.JG(a)},JG:function(a,
c){var d;this.EA?d=this.IG.parseFromString(a,"text/xml"):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(a));null==d&&q.log("cocos2d:xml "+c+" not found!");return d},OA:function(a){var c=null;switch(a.tagName){case "dict":c=this.uP(a);break;case "array":c=this.tP(a);break;case "string":if(1==a.childNodes.length)c=a.firstChild.nodeValue;else for(var c="",d=0;d<a.childNodes.length;d++)c+=a.childNodes[d].nodeValue;break;case "false":c=!1;break;case "true":c=!0;break;case "real":c=
parseFloat(a.firstChild.nodeValue);break;case "integer":c=parseInt(a.firstChild.nodeValue,10)}return c},tP:function(a){for(var c=[],d=0,e=a.childNodes.length;d<e;d++){var f=a.childNodes[d];1==f.nodeType&&c.push(this.OA(f))}return c},uP:function(a){for(var c={},d=null,e=0,f=a.childNodes.length;e<f;e++){var g=a.childNodes[e];1==g.nodeType&&("key"==g.tagName?d=g.firstChild.nodeValue:c[d]=this.OA(g))}return c},sV:function(a){a=q.Hd.e().pe(a);if(window.XMLHttpRequest){var c=new XMLHttpRequest;c.overrideMimeType&&
c.overrideMimeType("text/xml")}if(null!=c){var d=this;c.onreadystatechange=function(){4==c.readyState&&(c.responseText?(q.Yb.e().li(),d.op[a]=c.responseText,c=null):(q.Yb.e().li(),q.log("cocos2d:There was a problem retrieving the xml data:"+c.statusText)))};c.open("GET",a,!0);c.send(null)}else throw"cocos2d:Your browser does not support XMLHTTP.";},qY:function(a){this.op.hasOwnProperty(a)&&delete this.op[a]},getName:function(a){return a.substring(a.lastIndexOf("/",a.length)+1,a.lastIndexOf(".",a.length))},
G4:function(a){return a.substring(a.lastIndexOf(".",a.length)+1,a.length)},AI:function(a){return null!=this.op?this.op[a]:null}});q.Ak.e=function(){this.Ib||(this.Ib=new q.Ak);return this.Ib};q.Ak.Ib=null;q.qy=q.Ea.extend({gS:function(){q.qj.e().jW();return!0},W1:function(){q.Y.e().pause()},V1:function(){q.Y.e().kK()},jR:function(){q.qj.e().jR()},lR:function(){q.qj.e().lR()},X1:function(){}});q.qy.SX=function(){null==q.Vx&&(q.Vx=new q.qy);if(!q.Vx)throw"Application initialize failure";return q.Vx};q.Vx=null;q.S=q.A.extend({ce:null,Qk:q.wj,jl:q.Eq,rf:null,Oe:0,Cg:"",NA:null,Mo:!1,Gj:null,Tj:!1,Dm:null,$o:0,Rr:0,Xv:null,el:!1,Wr:null,ep:0,Zv:null,fp:null,gv:null,CB:0,DB:0,jd:!1,tv:null,uv:null,ctor:function(){q.A.prototype.ctor.call(this);this.ce=q.am();this.Qk=q.Aq;this.jl=q.Eq;this.mc=!1;this.Gj="";this.rf="Arial";this.Tj=this.Mo=!1;this.Dm=q.am();this.Rr=this.$o=0;this.Xv="rgba(128, 128, 128, 0.5)";this.el=!1;this.Wr=q.yb();this.ep=0;this.Zv="";this.fp=q.yb();this.gv="rgba(255,255,255,1)";this.DB=this.CB=
0;this.jd=!1;this.Th()},r:function(){return this.rl(" ",this.rf,this.Oe)},jP:function(){this.tA().font=this.Gj},Br:function(a){return this.tA().measureText(a).width},hO:function(a,c){var d=this.Br(a),e=Math.floor(a.length*c/d),f=a.indexOf("\n");if(0.8*e>=f&&0<f)return f+1;if(d<c)return a.length;for(var d=!1,f=c+1,g=-1,h=e,k,l=q.S.iO,m=q.S.PP,n=q.S.gO,r=a.substr(e);k=l.exec(r);){h+=k[0].length;if("\n"==k[2]){d=!0;g=h;break}f=this.Br(a.substr(0,h));if(f>c){-1!=g&&(d=!0);break}g=h;r=a.substr(h)}if(d)return g;
r=a.substr(0,e);for(g=e;k=m.exec(r);)if(g=k[1].length,r=k[1],f=this.Br(r),f<c){n.test(k[2])&&g++;break}return g},description:function(){return"\x3ccc.LabelTTF | FontName \x3d"+this.rf+" FontSize \x3d "+this.Oe.toFixed(1)+"\x3e"},l:null,Mr:function(a){q.zb.prototype.l.call(this,a);this.SG()},Th:null,SG:function(){this.jd=!0;var a=this.Gc,c=this.Wb,d=this.Wr,e=this.fp;this.Xv="rgba("+(0|0.5*a.p)+","+(0|0.5*a.o)+","+(0|0.5*a.g)+","+this.$o+")";this.gv="rgba("+(0|a.p/255*e.p)+","+(0|a.o/255*e.o)+","+
(0|a.g/255*e.g)+", "+c/255+")";this.Zv="rgba("+(0|a.p/255*d.p)+","+(0|a.o/255*d.o)+","+(0|a.g/255*d.g)+", "+c/255+")"},YP:function(){this.jd=!0;var a=this.Wr,c=this.fp;this.Xv="rgba(128,128,128,"+this.$o+")";this.gv="rgba("+(0|c.p)+","+(0|c.o)+","+(0|c.g)+", 1)";this.Zv="rgba("+(0|a.p)+","+(0|a.o)+","+(0|a.g)+", 1)"},dd:null,JB:function(a){q.zb.prototype.dd.call(this,a);this.Th()},ia:null,Or:function(a){this.Ni!==a&&(q.A.prototype.ia.call(this,a),this.Th(),this.jd=!0)},ed:null,tda:function(a){q.zb.prototype.ed.call(this,
a);this.Th()},DC:function(){return this.Cg},S4:function(){return this.Qk},c7:function(){return this.jl},B4:function(){return q.size(this.ce.width,this.ce.height)},M4:function(){return this.Oe},L4:function(){return this.rf},rl:function(a,c,d,e,f,g){a=a?a+"":"";d=d||16;e=e||q.size(0,d);f=f||q.Aq;g=g||q.Fq;return q.A.prototype.r.call(this)?(this.mc=!1,this.ce=q.size(e.width,e.height),this.rf=c||"Arial",this.Qk=f,this.jl=g,this.Oe=d,this.Gj=this.Oe+"px '"+c+"'",this.Fj=q.S.Hu(c,this.Oe),this.ea(a),this.Th(),
this.LB(),this.jd=!1,!0):!1},UC:null,TO:function(a,c){if(!q.A.prototype.r.call(this))return!1;this.MB(c,!1);this.ea(a);return!0},UO:function(a,c){if(!q.A.prototype.r.call(this))return!1;this.Pg(q.Hh.e().mi(q.S.DN));this.MB(c,!1);this.ea(a);return!0},Zba:function(a){a&&this.MB(a,!0)},J6:function(){return this.yP(!1)},uS:function(a,c,d){c=c||0.5;!1===this.Tj&&(this.Tj=!0);var e=this.Dm;if(e&&e.width!=a.width||e.height!=a.height)e.width=a.width,e.height=a.height;this.$o!=c&&(this.$o=c);this.Th();this.Rr!=
d&&(this.Rr=d);this.jd=!0},V2:function(){this.Tj&&(this.Tj=!1,this.jd=!0)},vS:function(a,c){!1===this.el&&(this.el=!0);var d=this.Wr;if(d.p!==a.p||d.o!==a.o||d.g!==a.g)d.p=a.p,d.o=a.o,d.g=a.g,this.Th();this.ep!==c&&(this.ep=c||0);this.jd=!0},W2:function(){this.el&&(this.el=!1,this.jd=!0)},PD:null,bQ:function(a){var c=this.fp;if(c.p!=a.p||c.o!=a.o||c.g!=a.g)c.p=a.p,c.o=a.o,c.g=a.g,this.Th(),this.jd=!0},cQ:function(a){var c=this.fp;if(c.p!=a.p||c.o!=a.o||c.g!=a.g)c.p=a.p,c.o=a.o,c.g=a.g,this.Th(),this.jd=
!0},MB:function(a,c){a.us?(this.ce.width=a.us.width,this.ce.height=a.us.height):(this.ce.width=0,this.ce.height=0);this.Qk=a.pI;this.jl=a.qI;this.rf=a.vs;this.Oe=a.fontSize||12;this.Gj=this.Oe+"px '"+this.rf+"'";this.Fj=q.S.Hu(this.rf,this.Oe);a.gL&&this.uS(a.hL,a.iL,a.shadowBlur,!1);a.gE&&this.vS(a.strokeColor,a.sL,!1);this.PD(a.rI,!1);c&&this.LB()},yP:function(a){var c=new q.qM;a?(c.fontSize=this.Oe,c.us=q.az(this.ce)):(c.fontSize=this.Oe,c.us=q.size(this.ce.width,this.ce.height));c.vs=this.rf;
c.pI=this.Qk;c.qI=this.jl;if(this.el){c.gE=!0;var d=this.Wr;c.strokeColor=new q.Cc(d.p,d.o,d.g);c.sL=this.ep}else c.gE=!1;this.Tj?(c.gL=!0,c.shadowBlur=this.Rr,c.iL=this.$o,c.hL=a?q.az(this.Dm):q.size(this.Dm.width,this.Dm.height)):c.Tj=!1;a=this.fp;c.rI=new q.Cc(a.p,a.o,a.g);return c},Fj:18,ea:function(a){a=String(a);this.NA!=a&&(this.NA=a+"",this.rH(),this.jd=!0)},rH:function(){this.Cg=this.NA},Raa:function(a){a!==this.Qk&&(this.Qk=a,this.jd=!0)},kca:function(a){a!=this.jl&&(this.jl=a,this.jd=!0)},
gc:function(a){if(a.width!=this.ce.width||a.height!=this.ce.height)this.ce=a,this.rH(),this.jd=!0},FK:function(a){this.Oe!==a&&(this.Oe=a,this.Gj=a+"px '"+this.rf+"'",this.Fj=q.S.Hu(this.rf,a),this.jd=!0)},WW:function(a){this.rf&&this.rf!=a&&(this.rf=a,this.Gj=this.Oe+"px '"+a+"'",this.Fj=q.S.Hu(a,this.Oe),this.jd=!0)},yO:function(a){if(a){var c=this.CB,d=this.DB,e=this.va.ta-d,f=this.jl,g=this.Qk,h=this.Fj,k=this.ep;a.setTransform(1,0,0,1,0+0.5*c,e+0.5*d);a.font!=this.Gj&&(a.font=this.Gj);a.fillStyle=
this.gv;var l=d=0,m=this.el;m&&(a.lineWidth=2*k,a.strokeStyle=this.Zv);this.Tj&&(k=this.Dm,a.shadowColor=this.Xv,a.shadowOffsetX=k.width,a.shadowOffsetY=-k.height,a.shadowBlur=this.Rr);a.textBaseline=q.S.BQ[f];a.textAlign=q.S.AQ[g];c=this.va.Ha-c;d=g===q.pN?d+c:g===q.wj?d+c/2:d+0;if(this.Mo)for(g=this.Vj.length,f===q.Eq?l=h+e-h*g:f===q.Du&&(l=h/2+(e-h*g)/2),f=0;f<g;f++)c=this.Vj[f],k=-e+h*f+l,m&&a.strokeText(c,d,k),a.fillText(c,d,k);else f!==q.Eq&&(l=f===q.Fq?l-e:l-0.5*e),m&&a.strokeText(this.Cg,
d,l),a.fillText(this.Cg,d,l)}},tA:function(){if(this.uv)return this.uv;if(!this.tv){var a=document.createElement("canvas"),c=new q.Zb;c.Df(a);this.fa(c);this.tv=a}return this.uv=this.tv.getContext("2d")},sH:function(){var a=this.ce.width,c,d;this.wG=[];this.Mo=!1;this.jP();if(0!==a){var e=this.Cg;this.Vj=[];c=0;for(d=this.Cg.length;c<d;){var f=this.hO(e.substr(c),a);this.Vj.push(e.substr(c,f));c+=f}}else for(this.Vj=this.Cg.split("\n"),c=0,d=this.Vj.length;c<d;c++)this.wG.push(this.Br(this.Vj[c]));
0<this.Vj.length&&(this.Mo=!0);d=c=0;this.el&&(c=d=2*this.ep);this.Tj&&(e=this.Dm,c+=2*Math.abs(e.width),d+=2*Math.abs(e.height));a=0===a?this.Mo?q.size(0|Math.max.apply(Math,this.wG)+c,0|this.Fj*this.Vj.length+d):q.size(0|this.Br(this.Cg)+c,0|this.Fj+d):0===this.ce.height?this.Mo?q.size(0|a+c,0|this.Fj*this.Vj.length+d):q.size(0|a+c,0|this.Fj+d):q.size(0|a+c,0|this.ce.height+d);this.V(a);this.CB=c;this.DB=d;e=this.Ih;this.Jd.F=0.5*c+(a.width-c)*e.F;this.Jd.H=0.5*d+(a.height-d)*e.H},c:function(){this.jd&&
this.sH();return q.A.prototype.c.call(this)},LB:function(){var a=this.tA(),c=this.tv,d=this.va;if(0===this.Cg.length)return c.width=1,c.height=d.ta,this.Sb(q.rect(0,0,1,d.ta)),!0;a.font=this.Gj;this.sH();var e=d.Ha,d=d.ta,f=c.width==e&&c.height==d;c.width=e;c.height=d;f&&a.clearRect(0,0,e,d);this.yO(a);this.Fa.ze();this.Sb(q.rect(0,0,e,d));return!0},ra:function(a){this.Cg&&""!=this.Cg&&(this.jd&&(this.jd=!1,this.LB()),q.A.prototype.ra.call(this,a||q.W))},Va:null,ug:function(a){if(this.Cg&&""!=this.Cg){a=
a||q.W;var c=this.Fa;c&&c.rc&&(this.Ic.nf(),this.Ic.Rg(),q.gk(this.ga.src,this.ga.Gb),q.Hg(c),q.ue(q.Cu),a.bindBuffer(a.ARRAY_BUFFER,this.Qv),this.vf&&(a.bufferData(a.ARRAY_BUFFER,this.Kb.ZB,a.STATIC_DRAW),this.vf=!1),a.vertexAttribPointer(q.Le,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(q.Dq,2,a.FLOAT,!1,24,16),a.vertexAttribPointer(q.Cq,4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));1===q.Bk?(a=this.Kb,a=[q.a(a.Sa.s.x,a.Sa.s.y),q.a(a.Ka.s.x,a.Ka.s.y),q.a(a.Ua.s.x,a.Ua.s.y),q.a(a.Na.s.x,
a.Na.s.y)],q.Zf.ke(a,4,!0)):2===q.Bk&&(a=this.EC().bb,c=this.dc,a=[q.a(c.x,c.y),q.a(c.x+a.width,c.y),q.a(c.x+a.width,c.y+a.height),q.a(c.x,c.y+a.height)],q.Zf.ke(a,4,!0));q.ci++}},rB:function(a,c,d){this.Yc=c||!1;d=d||a.bb;this.V(d);this.$D(a);c=this.hp;c.x=a.x;c.y=a.y;c.width=a.width;c.height=a.height;c.rt=!(0===c.width||0===c.height);a=this.Wh;this.kc&&(a.F=-a.F);this.lc&&(a.H=-a.H);this.dc.F=a.x+(this.va.Ha-this.za.width)/2;this.dc.H=a.y+(this.va.ta-this.za.height)/2;this.kb&&(this.Ja=!0)},VG:function(a){var c=
this.kb?this.Ra.aa():this.Fa;if(c){var d=c.Ep(),e=c.Dp(),f,g=this.Kb;this.Yc?(q.Vt?(c=(2*a.x+1)/(2*d),d=c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/d,f=a.y/e,a=(a.y+a.width)/e),this.kc&&(e=f,f=a,a=e),this.lc&&(e=c,c=d,d=e),g.Ka.C.Pa=c,g.Ka.C.ma=f,g.Ua.C.Pa=c,g.Ua.C.ma=a,g.Sa.C.Pa=d,g.Sa.C.ma=f,g.Na.C.Pa=d,g.Na.C.ma=a):(q.Vt?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+
a.height)/e),this.kc&&(e=c,c=d,d=e),this.lc&&(e=f,f=a,a=e),g.Ka.C.Pa=c,g.Ka.C.ma=a,g.Ua.C.Pa=d,g.Ua.C.ma=a,g.Sa.C.Pa=c,g.Sa.C.ma=f,g.Na.C.Pa=d,g.Na.C.ma=f);this.vf=!0}}});
q.Ga.Qc?(b=q.S.prototype,b.l=q.A.prototype.l,b.Th=q.S.prototype.YP,b.dd=q.A.prototype.dd,b.ia=q.A.prototype.ia,b.ed=q.A.prototype.ed,b.UC=q.S.prototype.UO,b.PD=q.S.prototype.cQ,b.Va=q.S.prototype.ug,b.Sb=q.A.prototype.WG):(b=q.S.prototype,b.l=q.S.prototype.Mr,b.Th=q.S.prototype.SG,b.dd=q.S.prototype.JB,b.ia=q.S.prototype.Or,b.ed=q.S.prototype.oH,b.UC=q.S.prototype.TO,b.PD=q.S.prototype.bQ,b.Va=q.A.prototype.Va,b.Sb=q.S.prototype.rB);q.S.AQ=["left","center","right"];q.S.BQ=["top","middle","bottom"];
q.S.iO=/(.+?)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;q.S.PP=/(.*)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;q.S.gO=/[\s\-\/\\\:]/;q.S.create=function(a,c,d,e,f,g){var h=new q.S;return h.rl(a,c,d,e,f,g)?h:null};q.S.L2=function(a,c){var d=new q.S;return d&&d.UC(a,c)?d:null};q.S.DN=q.xN?q.$y:q.U_;q.S.bm=document.createElement("div");q.S.bm.style.fontFamily="Arial";q.S.bm.style.position="absolute";q.S.bm.style.left="-100px";q.S.bm.style.top="-100px";q.S.bm.style.lineHeight="normal";
document.body.appendChild(q.S.bm);q.S.Hu=function(a,c){var d=q.S.JF[a+"."+c];if(0<d)return d;var e=q.S.bm;e.innerHTML="ajghl~!";e.style.fontFamily=a;e.style.fontSize=c+"px";d=e.clientHeight;q.S.JF[a+"."+c]=d;e.innerHTML="";return d};q.S.JF={};q.tM=q.Ea.extend({Kc:null,target:null,Vm:0,sh:null,$m:!1,paused:!1,MC:null,ctor:function(){this.Kc=[];this.Q=null;this.Vm=0;this.sh=null;this.paused=this.$m=!1;this.MC=null}});
q.QL=q.Ea.extend({Lh:null,ko:null,qf:null,Ei:!1,l1:function(a,c){for(var d=0;d<a.length;d++)if(c==a[d].target)return a[d];return null},ctor:function(){this.Lh={};this.ko=[];this.qf=null;this.Ei=!1},WQ:function(a,c,d){if(!a)throw"cc.ActionManager.addAction(): action must be non-null";if(!c)throw"cc.ActionManager.addAction(): action must be non-null";var e=this.Lh[c.bc];e||(e=new q.tM,e.paused=d,e.target=c,this.Lh[c.bc]=e,this.ko.push(e));this.NN(e);e.Kc.push(a);a.$(c)},C$:function(){for(var a=this.ko,
c=0;c<a.length;c++){var d=a[c];d&&this.fK(d.target,!0)}},fK:function(a,c){if(null!=a){var d=this.Lh[a.bc];d&&(-1===d.Kc.indexOf(d.sh)||d.$m||(d.$m=!0),d.Kc=[],this.qf!=d||c?this.Yz(d):this.Ei=!0)}},eK:function(a){if(null!=a){var c=this.Lh[a.wm.bc];if(c)for(var d=0;d<c.Kc.length;d++){if(c.Kc[d]==a){c.Kc.splice(d,1);break}}else q.log("cocos2d: removeAction: Target not found")}},PV:function(a,c){a==q.Rn&&q.log("cc.ActionManager.removeActionByTag(): an invalid tag");if(!c)throw"cc.ActionManager.removeActionByTag(): target must be non-null";
var d=this.Lh[c.bc];if(d)for(var e=d.Kc.length,f=0;f<e;++f){var g=d.Kc[f];if(g&&g.od===a&&g.wm==c){this.CP(f,d);break}}},wC:function(a,c){a==q.Rn&&q.log("cc.ActionManager.getActionByTag(): an invalid tag");var d=this.Lh[c.bc];if(d){if(null!=d.Kc)for(var e=0;e<d.Kc.length;++e){var f=d.Kc[e];if(f&&f.od===a)return f}q.log("cocos2d : getActionByTag(tag \x3d"+a+"): Action not found")}return null},JU:function(a){return(a=this.Lh[a.bc])?a.Kc?a.Kc.length:0:0},Vs:function(a){if(a=this.Lh[a.bc])a.paused=!0},
yn:function(a){if(a=this.Lh[a.bc])a.paused=!1},e$:function(){for(var a=[],c=this.ko,d=0;d<c.length;d++){var e=c[d];e&&!e.paused&&(e.paused=!0,a.push(e.target))}return a},hW:function(a){if(a)for(var c=0;c<a.length;c++)a[c]&&this.yn(a[c])},p$:function(){q.Y.e().Bf().jq(this)},CP:function(a,c){c.Kc[a]!=c.sh||c.$m||(c.$m=!0);q.mq(c.Kc,a);c.Vm>=a&&c.Vm--;0==c.Kc.length&&(this.qf==c?this.Ei=!0:this.Yz(c))},Yz:function(a){a&&(delete this.Lh[a.target.bc],q.Ud(this.ko,a),a.Kc=null,a.target=null)},NN:function(a){null==
a.Kc&&(a.Kc=[])},update:function(a){for(var c=this.ko,d,e=0;e<c.length;e++){d=this.qf=c[e];if(!d.paused)for(d.Vm=0;d.Vm<d.Kc.length;d.Vm++)if(d.sh=d.Kc[d.Vm],d.sh){d.$m=!1;d.sh.step(a);if(d.$m)d.sh=null;else if(d.sh.gi()){d.sh.stop();var f=d.sh;d.sh=null;this.eK(f)}d.sh=null}this.Ei&&0===d.Kc.length&&this.Yz(d)}}});q.pf=q.Ea.extend({J:null,Ov:q.tj(),Nf:0,ctor:function(a,c,d){this.J=q.a(a||0,c||0);this.Nf=d||0},e5:function(){return this.J},cT:function(){return this.Ov},y4:function(){return q.Bd(this.J,this.Ov)},V4:function(){return this.Nf},W4:function(){return this.Nf},XD:function(a,c,d){this.Ov=this.J;this.J=q.a(c||0,d||0);this.Nf=a},Tf:function(a,c){this.Ov=q.a(a||0,c||0)}});
q.CF=q.Ea.extend({R0:null,lb:function(){return!1},qd:function(){},Ff:function(){},lk:function(){},HJ:function(){},KJ:function(){},JJ:function(){},IJ:function(){},mda:function(){},lda:function(){}});q.k0=q.CF.extend({lb:function(){return!1},qd:function(){},Ff:function(){},lk:function(){}});q.d0=q.CF.extend({HJ:function(){},KJ:function(){},JJ:function(){},IJ:function(){}});q.fo=q.Ea.extend({Vb:null,uf:0,Do:0,ec:function(){return this.Vb},Bh:function(a){this.Vb=a},dT:function(){return this.uf},et:function(a){this.uf=a},MS:function(){return this.Do},RW:function(a){this.Do=a},hk:function(a,c){if(!a)throw"cc.TouchHandler.initWithDelegate(): touch delegate should not be null";this.Vb=a;this.uf=c;this.Do=0;return!0}});q.fo.create=function(a,c){var d=new q.fo;d&&d.hk(a,c);return d};q.ez=q.fo.extend({hk:function(a,c){return q.fo.prototype.hk.call(this,a,c)}});
q.ez.create=function(a,c){var d=new q.ez;d&&d.hk(a,c);return d};q.vu=q.fo.extend({cw:!1,yo:null,u8:function(){return this.cw},Wba:function(a){this.cw=a},j4:function(){return this.yo},hk:function(a,c,d){return q.fo.prototype.hk.call(this,a,c)?(this.yo=[],this.cw=d,!0):!1}});q.vu.create=function(a,c,d){var e=new q.vu;e&&e.hk(a,c,d);return e};q.sN=1;q.vN=2;q.uN=4;q.tN=8;q.n0=q.sN|q.vN|q.uN|q.tN;q.iz=0;q.lz=1;q.kz=2;q.jz=3;q.m0=4;q.uJ=function(a,c){return a.uf>c.uf};q.zu=function(a){this.type=a};
q.ja=q.Ea.extend({Qj:!1,We:null,Ve:null,sm:!1,ds:!1,nw:!1,Rk:null,Ij:null,mw:!1,Dj:!1,MO:[new q.zu(q.iz),new q.zu(q.lz),new q.zu(q.kz),new q.zu(q.jz)],r:function(){this.Dj=!0;this.We=[];this.Ve=[];this.Rk=[];this.Ij=[];this.Qj=this.sm=this.mw=this.ds=this.nw=!1;q.ja.LV();return!0},Nr:function(a){this.Qj=a},HO:function(){return this.Qj},U7:function(){return this.Dj},PW:function(a){this.Dj=a},RN:function(a,c){var d=q.ez.create(a,c||0);this.sm?-1!=this.Ij.indexOf(a)?q.Ud(this.Ij,a):(this.Rk.push(d),
this.ds=!0):this.Ve=this.yp(d,this.Ve)},SN:function(a,c,d){c=q.vu.create(a,c,d);this.sm?-1!=this.Ij.indexOf(a)?q.Ud(this.Ij,a):(this.Rk.push(c),this.ds=!0):this.We=this.yp(c,this.We)},yp:function(a,c){for(var d=0,e,f=0;f<c.length;f++)if(e=c[f])if(e.uf<a.uf&&++d,e.ec()==a.ec())return q.log("cc.TouchDispatcher.forceAddHandler(): The handler has been added."),c;return q.Ul(c,a,d)},sI:function(){this.Ve.length=0;this.We.length=0},FP:function(a){if(null!=a)if(this.sm){var c=this.nI(this.Rk,a);c?q.Ud(this.Rk,
c):(this.Ij.push(a),this.nw=!0)}else this.tI(a)},RV:function(){this.sm?this.mw=!0:this.sI()},et:function(a,c){if(!c)throw"cc.TouchDispatcher.setPriority(): delegate should be non-null.";var d=this.nI(c);d?d.uf!=a&&(d.et(a),this.ZJ(this.We),this.ZJ(this.Ve)):q.log("cc.TouchDispatcher.setPriority(): Can't find TouchHandler.")},touches:function(a,c,d){if(0>d||4<=d)throw"cc.TouchDispatcher.touches(): invalid index";this.sm=!0;var e=this.We.length,f=this.Ve.length,g=e&&f,h=g?a.slice():a,k=this.MO[d];if(0<
e)for(var l,m,n=0;n<a.length;n++)for(var e=a[n],r=0;r<this.We.length;r++){l=this.We[r];if(!l)break;m=!1;if(d==q.iz)l.ec().lb&&(m=l.ec().lb(e,c))&&l.yo.push(e);else if(0<l.yo.length)switch(m=!0,k.type){case q.lz:q.Ga.ik?l.ec().qd&&l.ec().qd(e,c):this.Qj&&l.ec().qd&&l.ec().qd(e,c);break;case q.kz:l.ec().Ff&&l.ec().Ff(e,c);l.yo.length=0;break;case q.jz:l.ec().lk&&l.ec().lk(e,c),l.yo.length=0}if(m&&l.cw){g&&q.Ud(h,e);break}}if(0<f)for(n=0;n<this.Ve.length&&(l=this.Ve[n],l);n++);this.sm=!1;if(this.nw){this.nw=
!1;for(n=0;n<this.Ij.length;n++)this.tI(this.Ij[n]);this.Ij.length=0}if(this.ds){this.ds=!1;for(n=0;n<this.Rk.length;n++){l=this.Rk[n];if(!l)break;l instanceof q.vu?this.We=this.yp(l,this.We):this.Ve=this.yp(l,this.Ve)}this.Rk.length=0}this.mw&&(this.mw=!1,this.sI())},gy:function(a,c){this.Dj&&this.touches(a,c,q.iz)},hy:function(a,c){this.Dj&&this.touches(a,c,q.lz)},lt:function(a,c){this.Dj&&this.touches(a,c,q.kz)},iE:function(a,c){this.Dj&&this.touches(a,c,q.jz)},nI:function(a,c){switch(arguments.length){case 1:c=
arguments[0];if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(var d=0;d<this.We.length;d++)if(this.We[d].ec()==c)return this.We[d];for(d=0;d<this.Ve.length;d++)if(this.Ve[d].ec()==c)return this.Ve[d];return null;case 2:if(!a)throw"cc.TouchDispatcher.findHandler(): array should be non-null.";if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(d=0;d<a.length;d++)if(a[d].ec()==c)return a[d];return null;default:throw"Argument must be non-nil ";
}},tI:function(a){for(var c,d=0;d<this.Ve.length;d++)if((c=this.Ve[d])&&c.ec()==a){q.Ud(this.Ve,c);break}for(d=0;d<this.We.length;d++)if((c=this.We[d])&&c.ec()==a){q.Ud(this.We,c);break}},ZJ:function(a){a.sort(q.uJ)}});q.ja.sb=q.a(0,0);q.ja.pJ=!1;
q.Xi=function(a){var c=document.documentElement,d=window,e=null,e="function"===typeof a.getBoundingClientRect?a.getBoundingClientRect():a instanceof HTMLCanvasElement?{left:0,top:0,width:a.width,height:a.height}:{left:0,top:0,width:parseInt(a.style.width),height:parseInt(a.style.height)};return{left:e.left+d.pageXOffset-c.clientLeft,top:e.top+d.pageYOffset-c.clientTop,width:e.width,height:e.height}};
q.dN=function(a,c){var d=q.Xi(a),e,f;null!=c.pageX?(e=c.pageX,f=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,e=c.clientX,f=c.clientY);e=q.sa.e().ek(e,f,d);d=new q.pf(e.x,e.y);d.Tf(q.ja.sb.x,q.ja.sb.y);q.ja.sb.x=e.x;q.ja.sb.y=e.y;e=[];e.push(d);q.sa.e().lt(e,null)};
q.ja.LV=function(){var a=q.canvas;if(!q.ja.pJ){if(q.Ga.ik)if(window.navigator.msPointerEnabled){var c={MSPointerDown:"touchesBegan",MSPointerMove:"touchesMoved",MSPointerUp:"touchesEnded",MSPointerCancel:"touchesCancelled"},d;for(d in c)(function(c,d){a.addEventListener(c,function(c){var e=q.Xi(a);e.left-=document.body.scrollLeft;e.top-=document.body.scrollTop;var k,l;k=c.clientX;l=c.clientY;k=q.sa.e().ek(k,l,e);e=new q.pf(k.x,k.y);e.Tf(q.ja.sb.x,q.ja.sb.y);q.ja.sb.x=k.x;q.ja.sb.y=k.y;q.Y.e().Ye[d]([e],
null);c.stopPropagation();c.preventDefault()},!1)})(d,c[d])}else a.addEventListener("touchstart",function(c){if(c.changedTouches){var d=[],g=q.Xi(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=q.sa.e().ek(k,l,g),h.hasOwnProperty("identifier")?(h=new q.pf(k.x,k.y,h.identifier),l=q.ja.jv(h).J,h.Tf(l.x,l.y),q.ja.TG(h)):(h=new q.pf(k.x,k.y),h.Tf(q.ja.sb.x,q.ja.sb.y)),q.ja.sb.x=k.x,
q.ja.sb.y=k.y,d.push(h);q.sa.e().gy(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchmove",function(c){if(c.changedTouches){var d=[],g=q.Xi(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=q.sa.e().ek(k,l,g),h.hasOwnProperty("identifier")?(h=new q.pf(k.x,k.y,h.identifier),l=q.ja.jv(h).J,h.Tf(l.x,l.y),q.ja.TG(h)):(h=new q.pf(k.x,k.y),h.Tf(q.ja.sb.x,q.ja.sb.y)),
q.ja.sb.x=k.x,q.ja.sb.y=k.y,d.push(h);q.sa.e().hy(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchend",function(c){if(c.changedTouches){var d=[],g=q.Xi(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=q.sa.e().ek(k,l,g),h.hasOwnProperty("identifier")?(h=new q.pf(k.x,k.y,h.identifier),l=q.ja.jv(h).J,h.Tf(l.x,l.y),q.ja.bG(h)):(h=new q.pf(k.x,k.y),h.Tf(q.ja.sb.x,
q.ja.sb.y)),q.ja.sb.x=k.x,q.ja.sb.y=k.y,d.push(h);q.sa.e().lt(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchcancel",function(c){if(c.changedTouches){var d=[],g=q.Xi(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=q.sa.e().ek(k,l,g),h.hasOwnProperty("identifier")?(h=new q.pf(k.x,k.y,h.identifier),l=q.ja.jv(h).J,h.Tf(l.x,l.y),q.ja.bG(h)):(h=new q.pf(k.x,
k.y),h.Tf(q.ja.sb.x,q.ja.sb.y)),q.ja.sb.x=k.x,q.ja.sb.y=k.y,d.push(h);q.sa.e().iE(d,null);c.stopPropagation();c.preventDefault()}},!1);else window.addEventListener("mousedown",function(){q.Y.e().Ye.Nr(!0)}),window.addEventListener("mouseup",function(c){q.Y.e().Ye.Nr(!1);var d=q.Xi(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);q.ab(new q.og(d.left,d.top,d.width,d.height),q.a(g,c))||(g=q.sa.e().ek(g,c,d),d=new q.pf(g.x,
g.y),d.Tf(q.ja.sb.x,q.ja.sb.y),q.ja.sb.x=g.x,q.ja.sb.y=g.y,g=[],g.push(d),q.sa.e().lt(g,null))}),a.addEventListener("mousedown",function(c){var d=q.Xi(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=q.sa.e().ek(g,c,d);d=new q.pf(g.x,g.y);d.Tf(q.ja.sb.x,q.ja.sb.y);q.ja.sb.x=g.x;q.ja.sb.y=g.y;g=[];g.push(d);q.sa.e().gy(g,null)}),a.addEventListener("mouseup",function(c){q.dN(a,c)}),a.addEventListener("mousemove",function(c){var d=
q.Xi(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=q.sa.e().ek(g,c,d);d=new q.pf(g.x,g.y);d.Tf(q.ja.sb.x,q.ja.sb.y);q.ja.sb.x=g.x;q.ja.sb.y=g.y;g=[];g.push(d);q.sa.e().hy(g,null)});q.ja.pJ=!0}};q.ja.jv=function(a){for(var c=null,d=q.ja.VA,e=a.Nf,f=d.length-1;0<=f;f--)if(d[f].Nf==e){c=d[f];break}c||(c=a);return c};
q.ja.TG=function(a){for(var c=!1,d=q.ja.VA,e=a.Nf,f=d.length-1;0<=f;f--)if(d[f].Nf==e){d[f]=a;c=!0;break}c||(50>=d.length?d.push(a):(d[q.ja.WA]=a,q.ja.WA=(q.ja.WA+1)%50))};q.ja.bG=function(a){var c,d=q.ja.VA;c=a.Nf;for(a=d.length-1;0<=a;a--)if(d[a].Nf==c){c=d.pop();a!=d.length&&(d[a]=c);break}};q.ja.VA=[];q.ja.WA=0;q.xD=function(a,c,d){q.Y.e().Ye.SN(d,a,c)};q.MV=function(a,c){q.Y.e().Ye.RN(a,c)};q.yL=function(a){q.Y.e().Ye.FP(a)};q.OM=1;q.YE=2;q.e_=4;q.SM=8;q.H_=16;q.I_=32;q.J_=64;q.t_=128;q.u_=256;q.v_=512;q.pF=1024;q.PM=2048;q.QM=4096;q.RM=0;q.f_=1;q.ZE=2;q.i_=q.Ea.extend({NU:function(){return!1},OU:function(){return!1},ki:function(){return!1},RU:function(){return!1},VU:function(){return!1},WU:function(){return!1},XU:function(){return!1},SU:function(){return!1},TU:function(){return!1},UU:function(){return!1},YU:function(){return!1},PU:function(){return!1},QU:function(){return!1}});
q.TM=q.pf.extend({vH:0,UF:q.RM,h7:function(){return this.vH},cL:function(a){this.vH=a},b4:function(){return this.UF},EW:function(a){this.UF=a}});q.Py=q.Ea.extend({Vb:null,uf:0,Do:0,ec:function(){return this.Vb},Bh:function(a){this.Vb=a},dT:function(){return this.uf},et:function(a){this.uf=a},MS:function(){return this.Do},RW:function(a){this.Do=a},hk:function(a,c){this.Vb=a;this.uf=c}});q.Py.create=function(a,c){var d=new q.Py;d.hk(a,c);return d};
q.Yd=q.Ea.extend({Qj:!1,Sv:!1,Of:null,Dj:!1,r:function(){this.Dj=!0;this.Of=[];this.Sv=this.Qj=!1;q.Yd.AP();return!0},Nr:function(a){this.Qj=a},HO:function(){return this.Qj},UG:function(a){this.Sv=a},Y0:function(){return this.Sv},EH:function(a,c){var d=q.Py.create(a,c);this.Of=this.yp(d,this.Of)},yp:function(a,c){for(var d=0,e=0;e<c.length;e++){var f=c[e];if(f&&(f.uf<a.uf&&++d,f.ec()==a.ec()))return q.log("cc.MouseDispatcher.forceAddHandler(): handler has been added."),c}return q.Ul(c,a,d)},gK:function(a){if(null!=
a)for(var c=0;c<this.Of.length;c++){var d=this.Of[c];if(d&&d.ec()==a){q.Ud(this.Of,d);break}}},FO:function(a){for(var c=0;c<this.Of.length;c++)if(this.Of[c]&&this.Of[c].ec()==a)return this.Of[c];return null},et:function(a,c){if(!c)throw"cc.MouseDispatcher.setPriority(): delegate should be non-null";var d=this.FO(c);d?d.uf!=a&&(d.et(a),this.Of.sort(q.uJ)):q.log("cc.MouseDispatcher.setPriority(): Can't find MouseHandler in array")},F$:function(){this.Of.length=0},jn:function(a,c,d){for(c=0;c<this.Of.length;c++){var e=
this.Of[c];switch(d){case q.YE:this.Qj||this.Sv||!e.ec().ki||e.ec().ki(a)}}}});q.Yd.Nv=q.a(0,0);q.Yd.cP=!1;
q.Yd.AP=function(){var a=q.canvas;function c(c){var e=q.Xi(a),f=c.pageX,g=c.pageY,h=q.sa.e(),f=(f-e.left)/h.wa,e=(e.height-(g-e.top))/h.Ba,g=new q.TM(f,e);g.Tf(q.Yd.Nv.x,q.Yd.Nv.y);g.EW(c.button);q.Yd.Nv.x=f;q.Yd.Nv.y=e;return g}q.Yd.cP||(window.addEventListener("mousedown",function(a){a.button==q.ZE?q.Y.e().Af().UG(!0):q.Y.e().Af().Nr(!0)}),window.addEventListener("mouseup",function(a){a.button==q.ZE?q.Y.e().Af().UG(!1):q.Y.e().Af().Nr(!1)}),a.addEventListener("mousedown",function(a){q.Y.e().Af().jn(c(a),
a,q.OM)}),a.addEventListener("mouseup",function(a){q.Y.e().Af().jn(c(a),a,q.SM)}),a.addEventListener("mousemove",function(a){q.Y.e().Af().jn(c(a),a,q.YE)}),a.addEventListener("mousewheel",function(a){var e=c(a);e.cL(a.wheelDelta);q.Y.e().Af().jn(e,a,q.pF)},!1),a.addEventListener("DOMMouseScroll",function(a){var e=c(a);e.cL(-120*a.detail);q.Y.e().Af().jn(e,a,q.pF)}),a.addEventListener("mouseout",function(a){q.Y.e().Af().jn(c(a),a,q.QM)},!1),a.addEventListener("mouseover",function(a){q.Y.e().Af().jn(c(a),
a,q.PM)},!1))};q.Ada=function(){return{x:0,y:0}};q.Pl=function(a,c){return{x:a,y:c}};q.Sg=function(a,c){return q.Pl(a.x+c.x,a.y+c.y)};q.rd=function(a,c){return q.Pl(a.x-c.x,a.y-c.y)};q.kg=function(a,c){return q.Pl(a.x*c,a.y*c)};q.ny=function(a){return q.Pl(-a.y,a.x)};q.nj=function(a){return q.Pl(-a.x,-a.y)};q.wY=function(a,c){return a.x*c.x+a.y*c.y};q.zda=function(a){return q.Pl(Math.cos(a),Math.sin(a))};q.oE=function(a){a=q.Ah(q.a(a.x,a.y));return q.Pl(a.x,a.y)};q.wi=function(a){return q.Pl(a.x,a.y)};
q.Cb=function(a){return{Pa:a.x,ma:a.y}};
q.iM=q.D.extend({cb:null,ga:null,xs:function(){return this.ga},Gl:function(a){this.ga=a},ctor:function(){q.D.prototype.ctor.call(this);this.cb=[];this.ga=new q.Wl(q.Ie,q.He)},Va:function(a){a=a||q.W;var c=q.sa.e().wa;this.ga&&770==this.ga.src&&1==this.ga.Gb&&(a.globalCompositeOperation="lighter");for(var d=0;d<this.cb.length;d++){var e=this.cb[d];e.type===q.Vg.yF&&(a.fillStyle="rgba("+(0|255*e.color.p)+","+(0|255*e.color.o)+","+(0|255*e.color.g)+","+e.color.I+")",q.Zf.pC(e.position,e.vD));e.type===
q.Vg.AF&&(a.strokeStyle="rgba("+(0|255*e.color.p)+","+(0|255*e.color.o)+","+(0|255*e.color.g)+","+e.color.I+")",a.lineWidth=2*e.vD*c,a.lineCap="round",q.Zf.ai(e.bn,e.Ol));e.type===q.Vg.zF&&(a.fillStyle="rgba("+(0|255*e.fillColor.p)+","+(0|255*e.fillColor.o)+","+(0|255*e.fillColor.g)+","+e.fillColor.I+")",q.Zf.ke(e.qE,e.count,!1,!0),a.lineWidth=2*e.borderWidth*c,a.lineCap="round",a.strokeStyle="rgba("+(0|255*e.borderColor.p)+","+(0|255*e.borderColor.o)+","+(0|255*e.borderColor.g)+","+e.borderColor.I+
")",q.Zf.ke(e.qE,e.count,!0,!1))}},mS:function(a,c,d){var e=new q.qz(q.Vg.yF);e.position=a;e.vD=c;e.color=d;this.cb.push(e)},qS:function(a,c,d,e){var f=new q.qz(q.Vg.AF);f.bn=a;f.Ol=c;f.vD=d;f.color=e;this.cb.push(f)},ke:function(a,c,d,e){var f=new q.qz(q.Vg.zF);f.qE=a;f.count=a.length;f.fillColor=c;f.borderWidth=d;f.borderColor=e;this.cb.push(f)},clear:function(){this.cb.length=0}});
q.jM=q.D.extend({po:0,cb:null,il:null,iH:null,hH:null,ga:null,Ja:!1,xs:function(){return this.ga},Gl:function(a){this.ga=a},ctor:function(){q.D.prototype.ctor.call(this);this.cb=[];this.ga=new q.Wl(q.Ie,q.He)},r:function(){return q.D.prototype.r.call(this)?(this.Pg(q.Hh.e().mi(q.T_)),this.kA(512),this.iH=q.W.createBuffer(),this.Ja=!0):!1},LP:function(){var a=q.W;q.ue(q.Cu);a.bindBuffer(a.ARRAY_BUFFER,this.iH);this.Ja&&(a.bufferData(a.ARRAY_BUFFER,this.il,a.STREAM_DRAW),this.Ja=!1);var c=q.Ub.BYTES_PER_ELEMENT;
a.vertexAttribPointer(q.Le,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(q.Cq,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(q.Dq,2,a.FLOAT,!1,c,12);a.drawArrays(a.TRIANGLES,0,3*this.cb.length);q.Eh()},kA:function(a){if(this.cb.length+a>this.po){var c=q.Ec.BYTES_PER_ELEMENT;this.po+=Math.max(this.po,a);if(null==this.cb||0===this.cb.length)this.cb=[],this.il=new ArrayBuffer(c*this.po),this.hH=new Uint8Array(this.il);else{a=[];for(var d=new ArrayBuffer(c*this.po),e=0;e<this.cb.length;e++)a[e]=new q.Ec(this.cb[e].I,
this.cb[e].g,this.cb[e].Ca,d,e*c);this.hH=new Uint8Array(d);this.cb=a;this.il=d}}},Va:function(){q.gk(this.ga.src,this.ga.Gb);this.Ic.nf();this.Ic.ZK();this.LP()},mS:function(a,c,d){d={p:0|255*d.p,o:0|255*d.o,g:0|255*d.g,I:0|255*d.I};var e={s:{x:a.x-c,y:a.y-c},K:d,C:{Pa:-1,ma:-1}},f={s:{x:a.x+c,y:a.y+c},K:d,C:{Pa:1,ma:1}},g={s:{x:a.x+c,y:a.y-c},K:d,C:{Pa:1,ma:-1}};this.cb.push(new q.Ec(e,{s:{x:a.x-c,y:a.y+c},K:d,C:{Pa:-1,ma:1}},f,this.il,this.cb.length*q.Ec.BYTES_PER_ELEMENT));this.cb.push(new q.Ec(e,
f,g,this.il,this.cb.length*q.Ec.BYTES_PER_ELEMENT));this.Ja=!0},qS:function(a,c,d,e){this.kA(18);e={p:0|255*e.p,o:0|255*e.o,g:0|255*e.g,I:0|255*e.I};var f=q.wi(a);c=q.wi(c);a=q.oE(q.ny(q.rd(c,f)));var g=q.ny(a),h=q.kg(a,d);d=q.kg(g,d);var k=q.Sg(c,q.rd(h,d)),l=q.rd(c,h),m=q.Sg(c,h),n=q.rd(f,h),r=q.Sg(f,h),p=q.rd(f,q.rd(h,d)),f=q.Sg(f,q.Sg(h,d)),u=q.Ec.BYTES_PER_ELEMENT,x=this.il;this.cb.push(new q.Ec({s:q.rd(c,q.Sg(h,d)),K:e,C:q.Cb(q.nj(q.Sg(a,g)))},{s:k,K:e,C:q.Cb(q.rd(a,g))},{s:l,K:e,C:q.Cb(q.nj(a))},
x,this.cb.length*u));this.cb.push(new q.Ec({s:m,K:e,C:q.Cb(a)},{s:k,K:e,C:q.Cb(q.rd(a,g))},{s:l,K:e,C:q.Cb(q.nj(a))},x,this.cb.length*u));this.cb.push(new q.Ec({s:m,K:e,C:q.Cb(a)},{s:n,K:e,C:q.Cb(q.nj(a))},{s:l,K:e,C:q.Cb(q.nj(a))},x,this.cb.length*u));this.cb.push(new q.Ec({s:m,K:e,C:q.Cb(a)},{s:n,K:e,C:q.Cb(q.nj(a))},{s:r,K:e,C:q.Cb(a)},x,this.cb.length*u));this.cb.push(new q.Ec({s:p,K:e,C:q.Cb(q.rd(g,a))},{s:n,K:e,C:q.Cb(q.nj(a))},{s:r,K:e,C:q.Cb(a)},x,this.cb.length*u));this.cb.push(new q.Ec({s:p,
K:e,C:q.Cb(q.rd(g,a))},{s:f,K:e,C:q.Cb(q.Sg(a,g))},{s:r,K:e,C:q.Cb(a)},x,this.cb.length*u));this.Ja=!0},ke:function(a,c,d,e){c={p:0|255*c.p,o:0|255*c.o,g:0|255*c.g,I:0|255*c.I};e={p:0|255*e.p,o:0|255*e.o,g:0|255*e.g,I:0|255*e.I};var f=[],g,h,k,l,m=a.length;for(g=0;g<m;g++){h=q.wi(a[(g-1+m)%m]);k=q.wi(a[g]);l=q.wi(a[(g+1)%m]);var n=q.oE(q.ny(q.rd(k,h)));k=q.oE(q.ny(q.rd(l,k)));f[g]={offset:q.kg(q.Sg(n,k),1/(q.wY(n,k)+1)),BJ:k}}n=0<d;this.kA(3*(3*m-2));var r=q.Ec.BYTES_PER_ELEMENT,p=this.il,u=this.cb,
x=!1==n?0.5:0;for(g=0;g<m-2;g++)h=q.rd(q.wi(a[0]),q.kg(f[0].offset,x)),k=q.rd(q.wi(a[g+1]),q.kg(f[g+1].offset,x)),l=q.rd(q.wi(a[g+2]),q.kg(f[g+2].offset,x)),u.push(new q.Ec({s:h,K:c,C:q.Cb({x:0,y:0})},{s:k,K:c,C:q.Cb({x:0,y:0})},{s:l,K:c,C:q.Cb({x:0,y:0})},p,u.length*r));for(g=0;g<m;g++){x=(g+1)%m;h=q.wi(a[g]);k=q.wi(a[x]);l=f[g].BJ;var z=f[g].offset,D=f[x].offset,x=n?q.rd(h,q.kg(z,d)):q.rd(h,q.kg(z,0.5)),C=n?q.rd(k,q.kg(D,d)):q.rd(k,q.kg(D,0.5));h=n?q.Sg(h,q.kg(z,d)):q.Sg(h,q.kg(z,0.5));k=n?q.Sg(k,
q.kg(D,d)):q.Sg(k,q.kg(D,0.5));n?(u.push(new q.Ec({s:x,K:e,C:q.Cb(q.nj(l))},{s:C,K:e,C:q.Cb(q.nj(l))},{s:k,K:e,C:q.Cb(l)},p,u.length*r)),u.push(new q.Ec({s:x,K:e,C:q.Cb(q.nj(l))},{s:h,K:e,C:q.Cb(l)},{s:k,K:e,C:q.Cb(l)},p,u.length*r))):(u.push(new q.Ec({s:x,K:c,C:q.Cb({x:0,y:0})},{s:C,K:c,C:q.Cb({x:0,y:0})},{s:k,K:c,C:q.Cb(l)},p,u.length*r)),u.push(new q.Ec({s:x,K:c,C:q.Cb({x:0,y:0})},{s:h,K:c,C:q.Cb(l)},{s:k,K:c,C:q.Cb(l)},p,u.length*r)))}this.Ja=!0},clear:function(){this.cb.length=0;this.Ja=!0}});
q.Vg=q.Ga.Qc?q.jM:q.iM;q.Vg.create=function(){var a=new q.Vg;return a&&a.r()?a:null};q.qz=function(a){this.type=a};q.Vg.yF=0;q.Vg.AF=1;q.Vg.zF=2;q.jt=-1;q.PK=function(a,c){a.Pg(c);var d=a.t;if(d)for(var e=0;e<d.length;e++)q.PK(d[e],c)};
q.ob=q.D.extend({nc:null,em:0,Ji:!1,kG:!1,ctor:function(){q.D.prototype.ctor.call(this);this.nc=null;this.em=0;this.Ji=!1},r:null,AA:function(a){this.nc=a;this.em=1;this.Ji=!1;q.ob.DA=!0;q.ob.DA&&(q.jt=q.W.getParameter(q.W.STENCIL_BITS),0>=q.jt&&q.log("Stencil buffer is not enabled."),q.ob.DA=!1);return!0},zA:function(a){this.nc=a;this.em=1;this.Ji=!1},Ng:function(){q.D.prototype.Ng.call(this);this.nc.Ng()},ji:function(){q.D.prototype.ji.call(this);this.nc.ji()},zh:function(){this.nc.zh();q.D.prototype.zh.call(this)},
Rd:function(){this.nc.Rd();q.D.prototype.Rd.call(this)},ra:null,Rm:function(a){var c=a||q.W;if(1>q.jt)q.D.prototype.ra.call(this,a);else if(this.nc&&this.nc.ka)if(q.ob.xr=-1,q.ob.xr+1==q.jt)q.ob.TB=!0,q.ob.TB&&(q.log("Nesting more than "+q.jt+"stencils is not supported. Everything will be drawn without stencil for this node and its childs."),q.ob.TB=!1),q.D.prototype.ra.call(this,a);else{q.ob.xr++;var d=1<<q.ob.xr,e=d|d-1,f=c.isEnabled(c.STENCIL_TEST),g=c.getParameter(c.STENCIL_WRITEMASK),h=c.getParameter(c.STENCIL_FUNC),
k=c.getParameter(c.STENCIL_REF),l=c.getParameter(c.STENCIL_VALUE_MASK),m=c.getParameter(c.STENCIL_FAIL),n=c.getParameter(c.STENCIL_PASS_DEPTH_FAIL),r=c.getParameter(c.STENCIL_PASS_DEPTH_PASS);c.enable(c.STENCIL_TEST);c.stencilMask(d);var p=c.getParameter(c.DEPTH_WRITEMASK);c.depthMask(!1);c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.Ji?c.REPLACE:c.ZERO,c.KEEP,c.KEEP);q.Zf.qC(q.tj(),q.bV(),q.yw(1,1,1,1));c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.Ji?c.ZERO:c.REPLACE,c.KEEP,c.KEEP);if(1>this.em){var d=
q.Hh.e().mi(q.V_),u=c.getUniformLocation(d.Qw(),q.p0);q.o7(d.Qw());d.YK(u,this.em);q.PK(this.nc,d)}q.Qp();this.transform();this.nc.ra();q.Pp();c.depthMask(p);c.stencilFunc(c.EQUAL,e,e);c.stencilOp(c.KEEP,c.KEEP,c.KEEP);q.D.prototype.ra.call(this,a);c.stencilFunc(h,k,l);c.stencilOp(m,n,r);c.stencilMask(g);f||c.disable(c.STENCIL_TEST);q.ob.xr--}else this.Ji&&q.D.prototype.ra.call(this,a)},Qm:function(a){if(this.nc&&this.nc.ka){if(this.Kz()||this.nc instanceof q.A){a=a||q.W;var c=a.canvas,d=q.ob.KO();
d.width=c.width;d.height=c.height;d.getContext("2d").drawImage(c,0,0);a.save();this._super(a);a.globalCompositeOperation=this.Ji?"destination-out":"destination-in";this.transform(a);this.nc.ra();a.restore();a.save();a.setTransform(1,0,0,1,0,0);a.globalCompositeOperation="destination-over";a.drawImage(d,0,0)}else{a=a||q.W;var d=this.t,e;a.save();this.transform(a);this.nc.ra(a);a.clip();this.Kz(!0);var f=d.length;if(0<f){this.Sd();for(c=0;c<f;c++)if(e=d[c],0>e.eb)e.ra(a);else break;for(this.Va(a);c<
f;c++)d[c].ra(a)}else this.Va(a);this.Kz(!1)}a.restore()}else this.Ji&&q.D.prototype.ra.call(this,a)},F6:function(){return this.nc},UD:null,pQ:function(a){this.nc=a},oQ:function(a){this.nc=a;var c=q.sa.e().wa,d=q.sa.e().Ba,e=q.W;!(a instanceof q.A)&&a instanceof q.Vg&&(a.Va=function(){for(var f=0;f<a.cb.length;f++){var g=a.cb[f].qE,h=g[0];e.beginPath();e.moveTo(h.x*c,-h.y*d);for(var h=1,k=g.length;h<k;h++)e.lineTo(g[h].x*c,-g[h].y*d)}})},O3:function(){return this.em},naa:function(a){this.em=a},d8:function(){return this.Ji},
Yaa:function(a){this.Ji=a},Kz:function(a){if(!0===a||!1===a)q.ob.prototype.kG=a;return q.ob.prototype.kG}});q.Ga.Qc?(q.ob.prototype.r=q.ob.prototype.AA,q.ob.prototype.ra=q.ob.prototype.Rm,q.ob.prototype.UD=q.ob.prototype.pQ):(q.ob.prototype.r=q.ob.prototype.zA,q.ob.prototype.ra=q.ob.prototype.Qm,q.ob.prototype.UD=q.ob.prototype.oQ);q.ob.DA=null;q.ob.TB=null;q.ob.xr=null;q.ob.$G=null;q.ob.KO=function(){return q.ob.$G||(q.ob.$G=document.createElement("canvas"))};
q.ob.create=function(a){var c=new q.ob;c.r(a);return c};q.RZ=0;q.SZ=1;q.TZ=2;q.Xn=function(a){a-=1;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;return(a|a>>16)+1};
q.Ab=q.D.extend({qo:null,ro:null,fv:0,Zq:0,Jv:0,Fa:null,as:null,GQ:null,Rf:q.vj,pb:null,Tu:0,Bj:null,Qz:0,Rz:0,Kq:!1,Pz:null,ctor:null,Jh:function(){q.D.prototype.ctor.call(this);this.Bj=q.yw(1,1,1,1);this.Pz="rgba(255,255,255,1)";this.qo=document.createElement("canvas");this.ro=this.qo.getContext("2d");this.L(0,0)},Kh:function(){q.D.prototype.ctor.call(this);this.Bj=q.yw(0,0,0,0)},Yf:null,jO:function(){q.D.prototype.Rd.call(this);this.qo=this.ro=null},kO:function(){q.D.prototype.Rd.call(this);this.as=
null;var a=q.W;a.deleteFramebuffer(this.fv);this.Zq&&a.deleteRenderbuffer(this.Zq);this.GQ=null},oT:function(){return this.pb},ft:function(a){this.pb=a},WC:null,VO:function(a,c){var d=this.qo,e=q.Gd();d.width=0|a*e;d.height=0|c*e;this.ro.translate(0,d.height);e=new q.Zb;e.Df(d);e.ze();this.pb=q.A.gb(e);return!0},WO:function(a,c,d,e){d==q.xq&&q.log("cc.RenderTexture._initWithWidthAndHeightForWebGL() : only RGB and RGBA formats are valid for a render texture;");var f=q.W,g=q.Gd();a=0|a*g;c=0|c*g;this.Jv=
f.getParameter(f.FRAMEBUFFER_BINDING);var h;q.Je.e().Yr?(g=a,h=c):(g=q.Xn(a),h=q.Xn(c));for(var k=new Uint8Array(g*h*4),l=0;l<g*h*4;l++)k[l]=0;this.Rf=d;this.Fa=new q.Zb;if(!this.Fa)return!1;l=this.Fa;l.Yw(k,this.Rf,g,h,q.size(a,c));d=f.getParameter(f.RENDERBUFFER_BINDING);if(q.Je.e().sp("GL_QCOM")){this.as=new q.Zb;if(!this.as)return!1;this.as.Yw(k,this.Rf,g,h,q.size(a,c))}this.fv=f.createFramebuffer();f.bindFramebuffer(f.FRAMEBUFFER,this.fv);f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,
f.TEXTURE_2D,l.Zh,0);0!=e&&(this.Zq=f.createRenderbuffer(),f.bindRenderbuffer(f.RENDERBUFFER,this.Zq),f.renderbufferStorage(f.RENDERBUFFER,e,g,h),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,this.Zq));f.checkFramebufferStatus(f.FRAMEBUFFER)!==f.FRAMEBUFFER_COMPLETE&&q.log("Could not attach texture to the framebuffer");l.qK();a=this.pb=q.A.gb(l);a.En(-1);a.Gl(f.ONE,f.ONE_MINUS_SRC_ALPHA);f.bindRenderbuffer(f.RENDERBUFFER,d);f.bindFramebuffer(f.FRAMEBUFFER,this.Jv);this.Kq=
!1;this.f(a);return!0},bk:null,$N:function(){q.W=this.ro;q.sa.e().lQ()},aO:function(){q.en(q.cu);q.Qp();q.en(q.bu);q.Qp();var a=q.Y.e();a.Nx(a.al);var c=this.Fa.va,d=q.Y.e().wT(),a=d.width/c.width,d=d.height/c.height,e=q.W;e.viewport(0,0,c.width,c.height);c=new q.xh;q.xU(c,-1/a,1/a,-1/d,1/d,-1,1);q.dx(c);this.Jv=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,this.fv);q.Je.e().sp("GL_QCOM")&&(e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.as.Zh,0),
e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.Fa.Zh,0))},cC:function(a,c,d,e,f,g){var h=q.W;f=f||h.COLOR_BUFFER_BIT;g=g||h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT;this.Hz(a,c,d,e,f,g,h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT|h.STENCIL_BUFFER_BIT)},Hz:null,bO:function(a,c,d,e){this.bk();a=a||0;c=c||0;d=d||0;e=isNaN(e)?1:e;var f=this.ro,g=this.qo;f.save();f.fillStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+")";f.clearRect(0,
0,g.width,-g.height);f.fillRect(0,0,g.width,-g.height);f.restore()},cO:function(a,c,d,e,f,g,h){this.bk();var k=q.W,l=[0,0,0,0],m=0,n=0;h&k.COLOR_BUFFER_BIT&&(l=k.getParameter(k.COLOR_CLEAR_VALUE),k.clearColor(a,c,d,e));h&k.DEPTH_BUFFER_BIT&&(m=k.getParameter(k.DEPTH_CLEAR_VALUE),k.clearDepth(f));h&k.STENCIL_BUFFER_BIT&&(n=k.getParameter(k.STENCIL_CLEAR_VALUE),k.clearStencil(g));k.clear(h);h&k.COLOR_BUFFER_BIT&&k.clearColor(l[0],l[1],l[2],l[3]);h&k.DEPTH_BUFFER_BIT&&k.clearDepth(m);h&k.STENCIL_BUFFER_BIT&&
k.clearStencil(n)},end:null,DO:function(){q.W=q.DU;q.sa.e().OP()},EO:function(){var a=q.W,c=q.Y.e();a.bindFramebuffer(a.FRAMEBUFFER,this.Jv);c.bL();q.en(q.cu);q.Pp();q.en(q.bu);q.Pp()},clear:function(a,c,d,e){this.cC(a,c,d,e);this.end()},clearRect:null,oO:function(a,c,d,e){this.ro.clearRect(a,c,d,-e)},pO:function(){},clearDepth:null,mO:function(){q.log("clearDepth isn't supported on Cocos2d-Html5")},nO:function(a){this.bk();var c=q.W,d=c.getParameter(c.DEPTH_CLEAR_VALUE);c.clearDepth(a);c.clear(c.DEPTH_BUFFER_BIT);
c.clearDepth(d);this.end()},clearStencil:null,qO:function(){q.log("clearDepth isn't supported on Cocos2d-Html5")},rO:function(a){var c=q.W,d=c.getParameter(c.STENCIL_CLEAR_VALUE);c.clearStencil(a);c.clear(c.STENCIL_BUFFER_BIT);c.clearStencil(d)},ra:null,Qm:function(a){this.ka&&(a=a||q.W,a.save(),this.Va(a),this.transform(a),this.pb.ra(),a.restore(),this.Qf=0)},Rm:function(a){if(this.ka){q.Qp();var c=this.Pk;c&&c.Mp()&&(c.bC(),this.iy());this.transform(a);this.pb.ra();this.Va(a);c&&c.Mp()&&c.YB(this);
q.Pp();this.Qf=0}},Va:null,lm:function(a){a=a||q.W;if(this.Kq){this.bk();if(this.Tu){var c=this.qo;a.save();a.fillStyle=this.Pz;a.clearRect(0,0,c.width,-c.height);a.fillRect(0,0,c.width,-c.height);a.restore()}this.Sd();a=this.t;for(var c=a.length,d=this.pb,e=0;e<c;e++){var f=a[e];f!=d&&f.ra()}this.end()}},ug:function(){var a=q.W;if(this.Kq){this.bk();var c=this.Tu;if(c){var d=[0,0,0,0],e=0,f=0;c&a.COLOR_BUFFER_BIT&&(d=a.getParameter(a.COLOR_CLEAR_VALUE),a.clearColor(this.Bj.p,this.Bj.o,this.Bj.g,
this.Bj.I));c&a.DEPTH_BUFFER_BIT&&(e=a.getParameter(a.DEPTH_CLEAR_VALUE),a.clearDepth(this.Qz));c&a.STENCIL_BUFFER_BIT&&(f=a.getParameter(a.STENCIL_CLEAR_VALUE),a.clearStencil(this.Rz));a.clear(c);c&a.COLOR_BUFFER_BIT&&a.clearColor(d[0],d[1],d[2],d[3]);c&a.DEPTH_BUFFER_BIT&&a.clearDepth(e);c&a.STENCIL_BUFFER_BIT&&a.clearStencil(f)}this.Sd();a=this.t;for(c=0;c<a.length;c++)d=a[c],d!=this.pb&&d.ra();this.end()}},CJ:null,mP:function(){q.log("saveToFile isn't supported on Cocos2d-Html5");return null},
nP:function(){q.log("saveToFile isn't supported on Cocos2d-Html5");q.wt(this.Rf==q.vj,"only RGBA8888 can be saved as image");if(!this.Fa)return null;var a=this.Fa.va,c=a.width,a=a.height,d=new q.vM,e=q.W,f=new Uint8Array(c*a*4);if(!f)return d;var g=new Uint8Array(c*a*4);if(!g)return null;this.bk();e.pixelStorei(e.PACK_ALIGNMENT,1);e.readPixels(0,0,c,a,e.RGBA,e.UNSIGNED_BYTE,g);this.end();for(e=0;e<a;++e)this.kP(f,e*c*4,g,(a-e-1)*c*4,4*c);d.C7(f,c*a*4,q.LZ,c,a,8);return d},kP:function(a,c,d,e,f){for(var g=
0;g<f;g++)a[c+g]=d[e+g]},daa:function(){q.log("saveToFile isn't supported on Cocos2d-Html5")},U8:function(){q.log("listenToBackground isn't supported on Cocos2d-Html5")},V8:function(){q.log("listenToForeground isn't supported on Cocos2d-Html5")},m4:function(){return this.Tu},vaa:function(a){this.Tu=a},k4:function(){return this.Bj},xK:null,WP:function(a){var c=this.Bj;c.p=a.p;c.o=a.o;c.g=a.g;c.I=a.I;this.Pz="rgba("+(0|255*a.p)+","+(0|255*a.o)+","+(0|255*a.g)+","+a.I+")"},XP:function(a){var c=this.Bj;
c.p=a.p;c.o=a.o;c.g=a.g;c.I=a.I},l4:function(){return this.Qz},uaa:function(a){this.Qz=a},n4:function(){return this.Rz},waa:function(a){this.Rz=a},O7:function(){return this.Kq},paa:function(a){this.Kq=a}});
q.Ga.Qc?(b=q.Ab.prototype,b.ctor=q.Ab.prototype.Kh,b.Yf=q.Ab.prototype.kO,b.WC=q.Ab.prototype.WO,b.bk=q.Ab.prototype.aO,b.Hz=q.Ab.prototype.cO,b.end=q.Ab.prototype.EO,b.clearRect=q.Ab.prototype.pO,b.clearDepth=q.Ab.prototype.nO,b.clearStencil=q.Ab.prototype.rO,b.ra=q.Ab.prototype.Rm,b.Va=q.Ab.prototype.ug,b.CJ=q.Ab.prototype.nP,b.xK=q.Ab.prototype.XP):(b=q.Ab.prototype,b.ctor=q.Ab.prototype.Jh,b.Yf=q.Ab.prototype.jO,b.WC=q.Ab.prototype.VO,b.bk=q.Ab.prototype.$N,b.Hz=q.Ab.prototype.bO,b.end=q.Ab.prototype.DO,
b.clearRect=q.Ab.prototype.oO,b.clearDepth=q.Ab.prototype.mO,b.clearStencil=q.Ab.prototype.qO,b.ra=q.Ab.prototype.Qm,b.Va=q.Ab.prototype.lm,b.CJ=q.Ab.prototype.mP,b.xK=q.Ab.prototype.WP);q.Ab.create=function(a,c,d,e){d=d||q.vj;e=e||0;var f=new q.Ab;return f&&f.WC(a,c,d,e)?f:null};q.Rn=-1;
q.Fd=q.Ea.extend({wm:null,Q:null,od:q.Rn,ctor:function(){this.Q=this.wm=null;this.od=q.Rn},description:function(){return"\x3ccc.Action | Tag \x3d "+this.od+"\x3e"},copy:function(){return q.G(this)},G:function(){var a=new q.Fd;a.wm=null;a.Q=null;a.od=this.od;return a},gi:function(){return!0},$:function(a){this.Q=this.wm=a},stop:function(){this.Q=null},step:function(){q.log("[Action step]. override me")},update:function(){q.log("[Action update]. override me")},sT:function(){return this.Q},Xba:function(a){this.Q=a},
N5:function(){return this.wm},sba:function(a){this.wm=a},rT:function(){return this.od},XK:function(a){this.od=a},lK:function(){},AD:function(){}});q.Fd.create=function(){return new q.Fd};q.sj=q.Fd.extend({ya:0,ctor:function(){q.Fd.prototype.ctor.call(this);this.ya=0},zf:function(){return this.ya},Haa:function(a){this.ya=a},reverse:function(){q.log("cocos2d: FiniteTimeAction#reverse: Implement me");return null},G:function(){return new q.sj}});
q.su=q.Fd.extend({Fm:0,Db:null,ctor:function(){q.Fd.prototype.ctor.call(this);this.Fm=0;this.Db=null},y6:function(){return this.Fm},Qba:function(a){this.Fm=a},pa:function(a,c){if(!a)throw"cc.Speed.initWithAction(): action must be non nil";this.Db=a;this.Fm=c;return!0},G:function(){var a=new q.su;a.pa(this.Db.G(),this.Fm);return a},$:function(a){q.Fd.prototype.$.call(this,a);this.Db.$(a)},stop:function(){this.Db.stop();q.Fd.prototype.stop.call(this)},step:function(a){this.Db.step(a*this.Fm)},gi:function(){return this.Db.gi()},
reverse:function(){return q.su.create(this.Db.reverse(),this.Fm)},JK:function(a){this.Db!=a&&(this.Db=a)},yC:function(){return this.Db}});q.su.create=function(a,c){var d=new q.su;return d&&d.pa(a,c)?d:null};
q.Iy=q.Fd.extend({Ho:null,no:!1,Ou:!1,lv:null,nr:null,fn:0,zn:0,Ln:0,Ym:0,VB:null,ctor:function(){q.Fd.prototype.ctor.call(this);this.Ho=null;this.Ou=this.no=!1;this.nr=this.lv=null;this.Ym=this.Ln=this.zn=this.fn=0;this.VB=q.gd()},G:function(){var a=new q.Iy,c=this.VB,c=new q.og(c.x,c.y,c.width,c.height);a.Jg(this.Ho,c);return a},Q7:function(){return this.no},raa:function(a){this.no=a},Jg:function(a,c){if(!a)throw"cc.Follow.initWithAction(): followedNode must be non nil";c=c||q.gd();this.Ho=a;this.VB=
c;this.no=!q.Jr(c);this.Ou=!1;var d=q.Y.e().Qb;this.nr=q.a(d.width,d.height);this.lv=q.ij(this.nr,0.5);this.no&&(this.fn=-(c.x+c.width-this.nr.x),this.zn=-c.x,this.Ln=-c.y,this.Ym=-(c.y+c.height-this.nr.y),this.zn<this.fn&&(this.zn=this.fn=(this.fn+this.zn)/2),this.Ln<this.Ym&&(this.Ln=this.Ym=(this.Ln+this.Ym)/2),this.Ln==this.Ym&&this.fn==this.zn&&(this.Ou=!0));return!0},step:function(){var a=this.Ho.q.F,c=this.Ho.q.H,a=this.lv.x-a,c=this.lv.y-c;this.no?this.Ou||this.Q.n(q.qs(a,this.fn,this.zn),
q.qs(c,this.Ym,this.Ln)):this.Q.n(a,c)},gi:function(){return!this.Ho.Te},stop:function(){this.Q=null;q.Fd.prototype.stop.call(this)}});q.Iy.create=function(a,c){c=c||new q.gd;var d=new q.Iy;return null!=c&&d&&d.Jg(a,c)||d&&d.Jg(a)?d:null};q.P=q.sj.extend({cc:0,mr:!1,ctor:function(){q.sj.prototype.ctor.call(this);this.cc=0;this.mr=!1},D4:function(){return this.cc},M:function(a){this.ya=0===a?q.Wt:a;this.cc=0;return this.mr=!0},gi:function(){return this.cc>=this.ya},G:function(){var a=new q.P;a.M(this.ya);return a},step:function(a){this.mr?(this.mr=!1,this.cc=0):this.cc+=a;a=this.cc/(1.192092896E-7<this.ya?this.ya:1.192092896E-7);a=1>a?a:1;this.update(0<a?a:0)},$:function(a){q.Fd.prototype.$.call(this,a);this.cc=0;this.mr=!0},reverse:function(){q.log("cc.IntervalAction: reverse not implemented.");
return null},oaa:function(){q.log("cc.ActionInterval.setAmplitudeRate(): it should be overridden in subclass.")},P3:function(){q.log("cc.ActionInterval.getAmplitudeRate(): it should be overridden in subclass.")}});q.P.create=function(a){var c=new q.P;c.M(a);return c};
q.uj=q.P.extend({xi:null,tB:null,Ro:0,ctor:function(){q.P.prototype.ctor.call(this);this.xi=[];this.tB=null;this.Ro=0},Js:function(a,c){if(!a||!c)throw"cc.Sequence.initWithTwoActions(): arguments must all be non nil";this.M(a.zf()+c.zf());this.xi[0]=a;this.xi[1]=c;return!0},G:function(){var a=new q.uj;a.Js(this.xi[0].G(),this.xi[1].G());return a},$:function(a){q.P.prototype.$.call(this,a);this.tB=this.xi[0].zf()/this.ya;this.Ro=-1},stop:function(){-1!==this.Ro&&this.xi[this.Ro].stop();q.Fd.prototype.stop.call(this)},
update:function(a){var c=0,d=this.tB,e=this.xi,f=this.Ro;a<d?(a=0!==d?a/d:1,0===c&&1===f&&(e[1].update(0),e[1].stop())):(c=1,a=1===d?1:(a-d)/(1-d),-1===f&&(e[0].$(this.Q),e[0].update(1),e[0].stop()),f||(e[0].update(1),e[0].stop()));f===c&&e[c].gi()||(f!==c&&e[c].$(this.Q),e[c].update(a),this.Ro=c)},reverse:function(){return q.uj.cm(this.xi[1].reverse(),this.xi[0].reverse())},copy:function(){return this.G()}});
q.uj.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&q.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)c[e]&&(d=q.uj.cm(d,c[e]));return d};q.uj.cm=function(a,c){var d=new q.uj;d.Js(a,c);return d};
q.ju=q.P.extend({Uf:0,Wj:0,Gv:0,MF:!1,Db:null,ctor:function(){q.P.prototype.ctor.call(this);this.Gv=this.Wj=this.Uf=0;this.MF=!1;this.Db=null},pa:function(a,c){return this.M(a.zf()*c)?(this.Uf=c,this.Db=a,a instanceof q.qi&&(this.Uf-=1),this.Wj=0,!0):!1},G:function(){var a=new q.ju;a.pa(this.Db.G(),this.Uf);return a},$:function(a){this.Wj=0;this.Gv=this.Db.zf()/this.ya;q.P.prototype.$.call(this,a);this.Db.$(a)},stop:function(){this.Db.stop();q.Fd.prototype.stop.call(this)},update:function(a){var c=
this.Db,d=this.ya,e=this.Uf,f=this.Gv;if(a>=f){for(;a>f&&this.Wj<e;)c.update(1),this.Wj++,c.stop(),c.$(this.Q),this.Gv=f+=c.zf()/d;1<=a&&this.Wj<e&&this.Wj++;this.MF&&(this.Wj==e?(c.update(1),c.stop()):c.update(a-(f-c.zf()/d)))}else c.update(a*e%1)},gi:function(){return this.Wj==this.Uf},reverse:function(){return q.ju.create(this.Db.reverse(),this.Uf)},JK:function(a){this.Db!=a&&(this.Db=a)},yC:function(){return this.Db}});q.ju.create=function(a,c){var d=new q.ju;d.pa(a,c);return d};
q.ku=q.P.extend({Db:null,ctor:function(){q.P.prototype.ctor.call(this);this.Db=null},pa:function(a){if(!a)throw"cc.RepeatForever.initWithAction(): action must be non null";this.Db=a;return!0},G:function(){var a=new q.ku;a.pa(this.Db.G());return a},$:function(a){q.P.prototype.$.call(this,a);this.Db.$(a)},step:function(a){var c=this.Db;c.step(a);c.gi()&&(c.$(this.Q),c.step(c.cc-c.zf()))},gi:function(){return!1},reverse:function(){return q.ku.create(this.Db.reverse())},JK:function(a){this.Db!=a&&(this.Db=
a)},yC:function(){return this.Db}});q.ku.create=function(a){var c=new q.ku;return c&&c.pa(a)?c:null};
q.wq=q.P.extend({Rj:null,$j:null,ctor:function(){q.P.prototype.ctor.call(this);this.$j=this.Rj=null},Js:function(a,c){if(!a||!c)throw"cc.Spawn.initWithTwoActions(): arguments must all be non null";var d=!1,e=a.zf(),f=c.zf();this.M(Math.max(e,f))&&(this.Rj=a,this.$j=c,e>f?this.$j=q.uj.cm(c,q.Tn.create(e-f)):e<f&&(this.Rj=q.uj.cm(a,q.Tn.create(f-e))),d=!0);return d},G:function(){var a=new q.wq;a.Js(this.Rj.G(),this.$j.G());return a},$:function(a){q.P.prototype.$.call(this,a);this.Rj.$(a);this.$j.$(a)},
stop:function(){this.Rj.stop();this.$j.stop();q.Fd.prototype.stop.call(this)},update:function(a){this.Rj&&this.Rj.update(a);this.$j&&this.$j.update(a)},reverse:function(){return q.wq.cm(this.Rj.reverse(),this.$j.reverse())}});q.wq.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&q.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)null!=c[e]&&(d=this.cm(d,c[e]));return d};
q.wq.cm=function(a,c){var d=new q.wq;d.Js(a,c);return d};
q.Zy=q.P.extend({br:0,Gm:0,bA:0,dv:0,dl:0,cA:0,ctor:function(){q.P.prototype.ctor.call(this);this.cA=this.dl=this.dv=this.bA=this.Gm=this.br=0},M:function(a,c,d){return q.P.prototype.M.call(this,a)?(this.br=c||0,this.dv=d||this.br,!0):!1},G:function(){var a=new q.Zy;a.M(this.ya,this.br,this.dv);return a},$:function(a){q.P.prototype.$.call(this,a);var c=a.Ag%360,d=this.br-c;180<d&&(d-=360);-180>d&&(d+=360);this.Gm=c;this.bA=d;this.dl=a.Rh%360;a=this.dv-this.dl;180<a&&(a-=360);-180>a&&(a+=360);this.cA=
a},reverse:function(){q.log("cc.RotateTo.reverse(): it should be overridden in subclass.")},update:function(a){this.Q&&(this.Q.Qx(this.Gm+this.bA*a),this.Q.Rx(this.dl+this.cA*a))}});q.Zy.create=function(a,c,d){var e=new q.Zy;e.M(a,c,d);return e};
q.mu=q.P.extend({qg:0,Gm:0,Jq:0,dl:0,ctor:function(){q.P.prototype.ctor.call(this);this.dl=this.Jq=this.Gm=this.qg=0},M:function(a,c,d){return q.P.prototype.M.call(this,a)?(this.qg=c||0,this.Jq=d||this.qg,!0):!1},G:function(){var a=new q.mu;a.M(this.ya,this.qg,this.Jq);return a},$:function(a){q.P.prototype.$.call(this,a);this.Gm=a.Ag;this.dl=a.Rh},update:function(a){this.Q&&(this.Q.Qx(this.Gm+this.qg*a),this.Q.Rx(this.dl+this.Jq*a))},reverse:function(){return q.mu.create(this.ya,-this.qg,-this.Jq)}});
q.mu.create=function(a,c,d){var e=new q.mu;e.M(a,c,d);return e};
q.yk=q.P.extend({Qi:null,Tc:null,Sc:null,ctor:function(){q.P.prototype.ctor.call(this);this.Qi=q.a(0,0);this.Tc=q.a(0,0);this.Sc=q.a(0,0)},M:function(a,c){return q.P.prototype.M.call(this,a)?(this.Qi.x=c.x,this.Qi.y=c.y,!0):!1},G:function(){var a=new q.yk;a.M(this.ya,this.Qi);return a},$:function(a){q.P.prototype.$.call(this,a);var c=a.q.F;a=a.q.H;this.Sc.x=c;this.Sc.y=a;this.Tc.x=c;this.Tc.y=a},update:function(a){if(this.Q){var c=this.Qi.x*a;a*=this.Qi.y;var d=this.Tc;if(q.At){var e=this.Q.q.H,f=
this.Sc;d.x=d.x+this.Q.q.F-f.x;d.y=d.y+e-f.y;c+=d.x;a+=d.y;this.Q.n(c,a);f.x=c;f.y=a}else this.Q.n(d.x+c,d.y+a)}},reverse:function(){return q.yk.create(this.ya,q.a(-this.Qi.x,-this.Qi.y))}});q.yk.create=function(a,c){var d=new q.yk;d.M(a,c);return d};
q.eu=q.yk.extend({Go:null,ctor:function(){q.yk.prototype.ctor.call(this);this.Go=q.a(0,0)},M:function(a,c){return q.yk.prototype.M.call(this,a,c)?(this.Go.x=c.x,this.Go.y=c.y,!0):!1},G:function(){var a=new q.eu;a.M(this.ya,this.Go);return a},$:function(a){q.yk.prototype.$.call(this,a);this.Qi.x=this.Go.x-a.q.F;this.Qi.y=this.Go.y-a.q.H}});q.eu.create=function(a,c){var d=new q.eu;d.M(a,c);return d};
q.co=q.P.extend({ie:0,je:0,Ur:0,Vr:0,gr:0,hr:0,Me:0,Ne:0,ctor:function(){q.P.prototype.ctor.call(this);this.Ne=this.Me=this.hr=this.gr=this.Vr=this.Ur=this.je=this.ie=0},M:function(a,c,d){var e=!1;q.P.prototype.M.call(this,a)&&(this.gr=c,this.hr=d,e=!0);return e},G:function(){var a=new q.co;a.M(this.ya,this.gr,this.hr);return a},$:function(a){q.P.prototype.$.call(this,a);this.Ur=a.ie%180;this.Me=this.gr-this.Ur;180<this.Me&&(this.Me-=360);-180>this.Me&&(this.Me+=360);this.Vr=a.je%360;this.Ne=this.hr-
this.Vr;180<this.Ne&&(this.Ne-=360);-180>this.Ne&&(this.Ne+=360)},update:function(a){this.Q.Tx(this.Ur+this.Me*a);this.Q.Ux(this.Vr+this.Ne*a)}});q.co.create=function(a,c,d){var e=new q.co;e&&e.M(a,c,d);return e};
q.qu=q.co.extend({M:function(a,c,d){var e=!1;q.co.prototype.M.call(this,a,c,d)&&(this.ie=c,this.je=d,e=!0);return e},G:function(){var a=new q.qu;a.M(this.ya,this.ie,this.je);return a},$:function(a){q.co.prototype.$.call(this,a);this.Me=this.ie;this.Ne=this.je;this.gr=this.Ur+this.Me;this.hr=this.Vr+this.Ne},reverse:function(){return q.qu.create(this.ya,-this.ie,-this.je)}});q.qu.create=function(a,c,d){var e=new q.qu;e&&e.M(a,c,d);return e};
q.Vn=q.P.extend({Tc:null,tg:null,ta:0,Oo:0,Sc:null,ctor:function(){q.P.prototype.ctor.call(this);this.Tc=q.a(0,0);this.Sc=q.a(0,0);this.tg=q.a(0,0);this.Oo=this.ta=0},M:function(a,c,d,e){return q.P.prototype.M.call(this,a)?(this.tg.x=c.x,this.tg.y=c.y,this.ta=d,this.Oo=e,!0):!1},G:function(){var a=new q.Vn;a.M(this.ya,this.tg,this.ta,this.Oo);return a},$:function(a){q.P.prototype.$.call(this,a);var c=a.q.F;a=a.q.H;this.Sc.x=c;this.Sc.y=a;this.Tc.x=c;this.Tc.y=a},update:function(a){if(this.Q){var c=
a*this.Oo%1,c=4*this.ta*c*(1-c),c=c+this.tg.y*a;a*=this.tg.x;var d=this.Tc;if(q.At){var e=this.Q.q.H,f=this.Sc;d.x=d.x+this.Q.q.F-f.x;d.y=d.y+e-f.y;a+=d.x;c+=d.y;this.Q.n(a,c);f.x=a;f.y=c}else this.Q.n(d.x+a,d.y+c)}},reverse:function(){return q.Vn.create(this.ya,q.a(-this.tg.x,-this.tg.y),this.ta,this.Oo)}});q.Vn.create=function(a,c,d,e){var f=new q.Vn;f.M(a,c,d,e);return f};
q.Ly=q.Vn.extend({$:function(a){q.Vn.prototype.$.call(this,a);this.tg.x-=this.Tc.x;this.tg.y-=this.Tc.y},G:function(){var a=new q.Ly;a.M(this.ya,this.tg,this.ta,this.Oo);return a}});q.Ly.create=function(a,c,d,e){var f=new q.Ly;f.M(a,c,d,e);return f};q.NH=function(a,c,d,e){return 0*Math.pow(1-e,3)+3*e*Math.pow(1-e,2)*a+3*Math.pow(e,2)*(1-e)*c+Math.pow(e,3)*d};
q.Vl=q.P.extend({jm:null,Tc:null,Sc:null,ctor:function(){q.P.prototype.ctor.call(this);this.jm=[];this.Tc=q.a(0,0);this.Sc=q.a(0,0)},M:function(a,c){return q.P.prototype.M.call(this,a)?(this.jm=c,!0):!1},G:function(){for(var a=new q.Vl,c=[],d=0;d<this.jm.length;d++){var e=this.jm[d];c.push(q.a(e.x,e.y))}a.M(this.ya,c);return a},$:function(a){q.P.prototype.$.call(this,a);var c=a.q.F;a=a.q.H;this.Sc.x=c;this.Sc.y=a;this.Tc.x=c;this.Tc.y=a},update:function(a){if(this.Q){var c=this.jm,d=q.NH(c[0].x,c[1].x,
c[2].x,a);a=q.NH(c[0].y,c[1].y,c[2].y,a);c=this.Tc;if(q.At){var e=this.Q.q.H,f=this.Sc;c.x=c.x+this.Q.q.F-f.x;c.y=c.y+e-f.y;d+=c.x;a+=c.y;this.Q.n(d,a);f.x=d;f.y=a}else this.Q.n(c.x+d,c.y+a)}},reverse:function(){var a=this.jm,a=[q.dg(a[1],q.pD(a[2])),q.dg(a[0],q.pD(a[2])),q.pD(a[2])];return q.Vl.create(this.ya,a)}});q.Vl.create=function(a,c){var d=new q.Vl;d.M(a,c);return d};
q.uy=q.Vl.extend({kw:null,ctor:function(){q.Vl.prototype.ctor.call(this);this.kw=[]},M:function(a,c){return q.P.prototype.M.call(this,a)?(this.kw=c,!0):!1},G:function(){var a=new q.uy;a.M(this.ya,this.kw);return a},$:function(a){q.Vl.prototype.$.call(this,a);a=this.Tc;var c=this.kw,d=this.jm;d[0]=q.Bd(c[0],a);d[1]=q.Bd(c[1],a);d[2]=q.Bd(c[2],a)}});q.uy.create=function(a,c){var d=new q.uy;d.M(a,c);return d};
q.bo=q.P.extend({wa:1,Ba:1,cp:1,dp:1,mm:0,nm:0,Me:0,Ne:0,ctor:function(){q.P.prototype.ctor.call(this);this.dp=this.cp=this.Ba=this.wa=1;this.Ne=this.Me=this.nm=this.mm=0},M:function(a,c,d){return q.P.prototype.M.call(this,a)?(this.mm=c,this.nm=null!=d?d:c,!0):!1},G:function(){var a=new q.bo;a.M(this.ya,this.mm,this.nm);return a},$:function(a){q.P.prototype.$.call(this,a);this.cp=a.wa;this.dp=a.Ba;this.Me=this.mm-this.cp;this.Ne=this.nm-this.dp},update:function(a){this.Q&&this.Q.rk(this.cp+this.Me*
a,this.dp+this.Ne*a)}});q.bo.create=function(a,c,d){var e=new q.bo;e.M(a,c,d);return e};q.ou=q.bo.extend({$:function(a){q.bo.prototype.$.call(this,a);this.Me=this.cp*this.mm-this.cp;this.Ne=this.dp*this.nm-this.dp},reverse:function(){return q.ou.create(this.ya,1/this.mm,1/this.nm)},G:function(){var a=new q.ou;a.M(this.ya,this.mm,this.nm);return a}});q.ou.create=function(a,c,d){var e=new q.ou;e.M(a,c,d);return e};
q.xt=q.P.extend({Uf:0,MA:!1,ctor:function(){q.P.prototype.ctor.call(this);this.Uf=0;this.MA=!1},M:function(a,c){return q.P.prototype.M.call(this,a)?(this.Uf=c,!0):!1},G:function(){var a=new q.xt;a.M(this.ya,this.Uf);return a},update:function(a){if(this.Q&&!this.gi()){var c=1/this.Uf;this.Q.v(a%c>c/2)}},$:function(a){q.P.prototype.$.call(this,a);this.MA=a.ka},stop:function(){this.Q.v(this.MA);q.P.prototype.stop.call(this)},reverse:function(){return q.xt.create(this.ya,this.Uf)}});
q.xt.create=function(a,c){var d=new q.xt;d.M(a,c);return d};q.Xt=q.P.extend({update:function(a){this.Q.jb&&this.Q.ia(255*a)},reverse:function(){return q.Yt.create(this.ya)},G:function(){var a=new q.Xt;a.M(this.ya);return a}});q.Xt.create=function(a){var c=new q.Xt;c.M(a);return c};q.Yt=q.P.extend({update:function(a){this.Q.jb&&this.Q.ia(255*(1-a))},reverse:function(){return q.Xt.create(this.ya)},G:function(){var a=new q.Yt;a.M(this.ya);return a}});q.Yt.create=function(a){var c=new q.Yt;c.M(a);return c};
q.Hy=q.P.extend({lw:null,iv:null,ctor:function(){q.P.prototype.ctor.call(this);this.iv=this.lw=0},M:function(a,c){return q.P.prototype.M.call(this,a)?(this.lw=c,!0):!1},G:function(){var a=new q.Hy;a.M(this.ya,this.lw);return a},update:function(a){this.Q.jb&&this.Q.ia(this.iv+(this.lw-this.iv)*a)},$:function(a){q.P.prototype.$.call(this,a);this.Q.jb&&(this.iv=a.Zi())}});q.Hy.create=function(a,c){var d=new q.Hy;d.M(a,c);return d};
q.nz=q.P.extend({xf:null,ee:null,ctor:function(){q.P.prototype.ctor.call(this);this.xf=q.k(0,0,0);this.ee=q.k(0,0,0)},M:function(a,c,d,e){return q.P.prototype.M.call(this,a)?(this.xf=q.k(c,d,e),!0):!1},G:function(){var a=new q.nz,c=this.xf;a.M(this.ya,c.p,c.o,c.g);return a},$:function(a){q.P.prototype.$.call(this,a);this.Q.jb&&(this.ee=this.Q.zd())},update:function(a){var c=this.ee,d=this.xf;this.Q.jb&&this.Q.l(q.k(c.p+(d.p-c.p)*a,c.o+(d.o-c.o)*a,c.g+(d.g-c.g)*a))}});
q.nz.create=function(a,c,d,e){var f=new q.nz;f.M(a,c,d,e);return f};
q.xu=q.P.extend({Yq:0,Xq:0,Wq:0,qA:0,pA:0,oA:0,ctor:function(){q.P.prototype.ctor.call(this);this.oA=this.pA=this.qA=this.Wq=this.Xq=this.Yq=0},M:function(a,c,d,e){return q.P.prototype.M.call(this,a)?(this.Yq=c,this.Xq=d,this.Wq=e,!0):!1},G:function(){var a=new q.xu;a.M(this.ya,this.Yq,this.Xq,this.Wq);return a},$:function(a){q.P.prototype.$.call(this,a);a.jb&&(a=a.zd(),this.qA=a.p,this.pA=a.o,this.oA=a.g)},update:function(a){this.Q.jb&&this.Q.l(q.k(this.qA+this.Yq*a,this.pA+this.Xq*a,this.oA+this.Wq*
a))},reverse:function(){return q.xu.create(this.ya,-this.Yq,-this.Xq,-this.Wq)}});q.xu.create=function(a,c,d,e){var f=new q.xu;f.M(a,c,d,e);return f};q.Tn=q.P.extend({update:function(){},reverse:function(){return q.Tn.create(this.ya)},G:function(){var a=new q.Tn;a.M(this.ya);return a}});q.Tn.create=function(a){var c=new q.Tn;c.M(a);return c};
q.lu=q.P.extend({Sj:null,ctor:function(){q.P.prototype.ctor.call(this);this.Sj=null},pa:function(a){if(!a)throw"cc.ReverseTime.initWithAction(): action must be non null";if(a==this.Sj)throw"cc.ReverseTime.initWithAction(): the action was already passed in.";return q.P.prototype.M.call(this,a.zf())?(this.Sj=a,!0):!1},G:function(){var a=new q.lu;a.pa(this.Sj.G());return a},$:function(a){q.P.prototype.$.call(this,a);this.Sj.$(a)},update:function(a){this.Sj&&this.Sj.update(1-a)},reverse:function(){return this.Sj.G()},
stop:function(){this.Sj.stop();q.Fd.prototype.stop.call(this)}});q.lu.create=function(a){var c=new q.lu;c.pa(a);return c};
q.ut=q.P.extend({yj:null,Uo:0,Kv:null,ir:0,uB:null,ctor:function(){q.P.prototype.ctor.call(this);this.yj=null;this.Uo=0;this.Kv=null;this.ir=0;this.uB=null},vI:function(){return this.yj},AW:function(a){this.yj=a},XI:function(a){if(!a)throw"cc.Animate.initWithAnimation(): animation must be non-NULL";var c=a.zf();if(this.M(c*a.Pj)){this.Uo=0;this.AW(a);this.Kv=null;this.ir=0;var d=[],e=0,f=c/a.Mm;a=a.de;q.vt(a,q.pj);for(var g=0;g<a.length;g++){var h=e*f/c,e=e+a[g].be;d.push(h)}this.uB=d;return!0}return!1},
G:function(){var a=new q.ut;a.XI(this.yj.G());return a},$:function(a){q.P.prototype.$.call(this,a);this.yj.zm&&(this.Kv=a.jS());this.ir=this.Uo=0},update:function(a){1>a&&(a*=this.yj.Pj,(0|a)>this.ir&&(this.Uo=0,this.ir++),a%=1);for(var c=this.yj.de,d=c.length,e=this.uB,f=this.Uo;f<d;f++)if(e[f]<=a)this.Q.$p(c[f].vh()),this.Uo=f+1;else break},reverse:function(){var a=this.yj,c=a.de,d=[];q.vt(c,q.pj);if(0<c.length)for(var e=c.length-1;0<=e;e--){var f=c[e];if(!f)break;d.push(f.G())}c=q.oj.TH(d,a.be,
a.Pj);c.Ox(a.zm);return q.ut.create(c)},stop:function(){this.yj.zm&&this.Q&&this.Q.$p(this.Kv);q.Fd.prototype.stop.call(this)}});q.ut.create=function(a){var c=new q.ut;c.XI(a);return c};
q.mz=q.P.extend({Mf:null,om:null,ctor:function(){q.P.prototype.ctor.call(this);this.om=this.Mf=null},Jg:function(a,c){return this.M(c.zf())?(this.om=a,this.Mf=c,!0):!1},G:function(){var a=new q.mz;a.Jg(this.om,this.Mf.G());return a},$:function(a){q.P.prototype.$.call(this,a);this.Mf.$(this.om)},stop:function(){this.Mf.stop()},update:function(a){this.Mf.update(a)},N4:function(){return this.om},Maa:function(a){this.om!=a&&(this.om=a)}});q.mz.create=function(a,c){var d=new q.mz;d.Jg(a,c);return d};q.qi=q.sj.extend({gi:function(){return!0},step:function(){this.update(1)},update:function(){},reverse:function(){return this.G()},G:function(){return new q.qi}});q.pu=q.qi.extend({update:function(){this.Q.v(!0)},reverse:function(){return q.au.create()},G:function(){return new q.pu}});q.pu.create=function(){return new q.pu};q.au=q.qi.extend({update:function(){this.Q.v(!1)},reverse:function(){return q.pu.create()},G:function(){return new q.au}});q.au.create=function(){return new q.au};
q.yu=q.qi.extend({update:function(){this.Q.v(!this.Q.ka)},reverse:function(){return new q.yu},G:function(){return new q.yu}});q.yu.create=function(){return new q.yu};q.iu=q.qi.extend({vr:!0,ctor:function(){q.sj.prototype.ctor.call(this);this.vr=!0},update:function(){this.Q.N(this.vr)},r:function(a){this.vr=a;return!0},reverse:function(){return new q.iu(this.vr)},G:function(){return new q.iu(this.vr)}});q.iu.create=function(a){null==a&&(a=!0);var c=new q.iu;c&&c.r(a);return c};
q.Zt=q.qi.extend({kc:!1,ctor:function(){q.sj.prototype.ctor.call(this);this.kc=!1},ZI:function(a){this.kc=a;return!0},update:function(){this.Q.TW(this.kc)},reverse:function(){return q.Zt.create(!this.kc)},G:function(){var a=new q.Zt;a.ZI(this.kc);return a}});q.Zt.create=function(a){var c=new q.Zt;return c.ZI(a)?c:null};
q.$t=q.qi.extend({lc:!1,ctor:function(){q.sj.prototype.ctor.call(this);this.lc=!1},$I:function(a){this.lc=a;return!0},update:function(){this.Q.UW(this.lc)},reverse:function(){return q.$t.create(!this.lc)},G:function(){var a=new q.$t;a.$I(this.lc);return a}});q.$t.create=function(a){var c=new q.$t;return c.$I(a)?c:null};
q.Uy=q.qi.extend({q:null,ctor:function(){q.sj.prototype.ctor.call(this);this.q=q.a(0,0)},bJ:function(a){this.q.x=a.x;this.q.y=a.y;return!0},update:function(){this.Q.n(this.q)},G:function(){var a=new q.Uy;a.bJ(this.q);return a}});q.Uy.create=function(a){var c=new q.Uy;c.bJ(a);return c};
q.oq=q.qi.extend({lh:null,im:null,Ok:null,Uq:null,ctor:function(){q.sj.prototype.ctor.call(this);this.Uq=this.Ok=this.im=this.lh=null},Jg:function(a,c,d){this.Uq=d;this.im=a;this.lh=c;return!0},QC:function(a){this.Ok=a;return!0},execute:function(){null!=this.im?this.im.call(this.lh,this.Q,this.Uq):this.Ok&&this.Ok.call(null,this.Q)},update:function(){this.execute()},H6:function(){return this.lh},Yba:function(a){a!=this.lh&&(this.lh&&(this.lh=null),this.lh=a)},copy:function(){var a=new q.oq;this.lh?
a.Jg(this.im,this.lh,this.Uq):this.Ok&&a.QC(this.Ok);return a},G:function(){var a=new q.oq;this.lh?a.Jg(this.im,this.lh,this.Uq):this.Ok&&a.QC(this.Ok);return a}});q.oq.create=function(a,c,d){var e=new q.oq;if(1==arguments.length){if(e&&e.QC(a))return e}else if(e&&e.Jg(a,c,d))return e.im=a,e;return null};q.oy=q.P.extend({Mz:0,Nz:0,Oz:0,cG:0,dG:0,eG:0,kH:0,lH:0,mH:0,ctor:function(){q.P.prototype.ctor.call(this);this.mH=this.lH=this.kH=this.eG=this.dG=this.cG=this.Oz=this.Nz=this.Mz=0},$:function(a){q.P.prototype.$.call(this,a);a=a.xC();var c=a.xI();this.Mz=c.x;this.Nz=c.y;this.Oz=c.z;c=a.zI();this.cG=c.x;this.dG=c.y;this.eG=c.z;a=a.uT();this.kH=a.x;this.lH=a.y;this.mH=a.z},G:function(){return new q.oy},reverse:function(){return q.lu.create(this)}});
q.Sy=q.oy.extend({Ri:0,bv:0,jo:0,$z:0,qg:0,Zz:0,cB:0,aB:0,bB:0,$A:0,ctor:function(){q.oy.prototype.ctor.call(this);this.$A=this.bB=this.aB=this.cB=this.Zz=this.qg=this.$z=this.jo=this.bv=this.Ri=0},M:function(a,c,d,e,f,g,h){return q.P.prototype.M.call(this,a)?(this.Ri=c,this.bv=d,this.jo=e,this.$z=f,this.qg=g,this.Zz=h,this.aB=q.rj(f),this.$A=q.rj(h),!0):!1},eY:function(){var a=this.Q.xC(),c=a.zI(),d=a.xI(),a=c.x-d.x,e=c.y-d.y,c=c.z-d.z,d=Math.sqrt(Math.pow(a,2)+Math.pow(e,2)+Math.pow(c,2)),f=Math.sqrt(Math.pow(a,
2)+Math.pow(e,2));0===f&&(f=q.Wt);0===d&&(d=q.Wt);return{IU:d/q.pq.Gs(),CY:Math.acos(c/d),azimuth:0>a?Math.PI-Math.asin(e/f):Math.asin(e/f)}},$:function(a){q.P.prototype.$.call(this,a);a=this.eY();isNaN(this.Ri)&&(this.Ri=a.IU);isNaN(this.jo)&&(this.jo=q.Wy(a.CY));isNaN(this.qg)&&(this.qg=q.Wy(a.azimuth));this.cB=q.rj(this.jo);this.bB=q.rj(this.qg)},G:function(){var a=new q.Sy;a.M(this.ya,this.Ri,this.bv,this.jo,this.$z,this.qg,this.Zz);return a},update:function(a){var c=(this.Ri+this.bv*a)*q.pq.Gs(),
d=this.cB+this.aB*a,e=this.bB+this.$A*a;a=Math.sin(d)*Math.cos(e)*c+this.Mz;e=Math.sin(d)*Math.sin(e)*c+this.Nz;c=Math.cos(d)*c+this.Oz;this.Q.xC().EK(a,e,c)}});q.Sy.create=function(a,c,d,e,f,g,h){var k=new q.Sy;return k.M(a,c,d,e,f,g,h)?k:null};q.fd=q.P.extend({da:null,ctor:function(){q.P.prototype.ctor.call(this);this.da=null},pa:function(a){if(!a)throw"cc.ActionEase.initWithAction(): action must be non nil";return this.M(a.zf())?(this.da=a,!0):!1},G:function(){var a=new q.fd;a.pa(this.da.G());return a},$:function(a){q.P.prototype.$.call(this,a);this.da.$(this.Q)},stop:function(){this.da.stop();q.P.prototype.stop.call(this)},update:function(a){this.da.update(a)},reverse:function(){return q.fd.create(this.da.reverse())},yC:function(){return this.da}});
q.fd.create=function(a){var c=new q.fd;c&&c.pa(a);return c};q.Zl=q.fd.extend({Re:0,ctor:function(){q.fd.prototype.ctor.call(this);this.Re=0},Eba:function(a){this.Re=a},f6:function(){return this.Re},pa:function(a,c){return q.fd.prototype.pa.call(this,a)?(this.Re=c,!0):!1},G:function(){var a=new q.Zl;a.pa(this.da.G(),this.Re);return a},reverse:function(){return q.Zl.create(this.da.reverse(),1/this.Re)}});q.Zl.create=function(a,c){var d=new q.Zl;d&&d.pa(a,c);return d};
q.Pt=q.Zl.extend({update:function(a){this.da.update(Math.pow(a,this.Re))},reverse:function(){return q.Pt.create(this.da.reverse(),1/this.Re)},G:function(){var a=new q.Pt;a.pa(this.da.G(),this.Re);return a}});q.Pt.create=function(a,c){var d=new q.Pt;d&&d.pa(a,c);return d};q.Rt=q.Zl.extend({update:function(a){this.da.update(Math.pow(a,1/this.Re))},reverse:function(){return q.Rt.create(this.da.reverse(),1/this.Re)},G:function(){var a=new q.Rt;a.pa(this.da.G(),this.Re);return a}});
q.Rt.create=function(a,c){var d=new q.Rt;d&&d.pa(a,c);return d};q.Qt=q.Zl.extend({update:function(a){a*=2;1>a?this.da.update(0.5*Math.pow(a,this.Re)):this.da.update(1-0.5*Math.pow(2-a,this.Re))},G:function(){var a=new q.Qt;a.pa(this.da.G(),this.Re);return a},reverse:function(){return q.Qt.create(this.da.reverse(),this.Re)}});q.Qt.create=function(a,c){var d=new q.Qt;d&&d.pa(a,c);return d};
q.Mt=q.fd.extend({update:function(a){this.da.update(0===a?0:Math.pow(2,10*(a-1)))},reverse:function(){return q.Ot.create(this.da.reverse())},G:function(){var a=new q.Mt;a.pa(this.da.G());return a}});q.Mt.create=function(a){var c=new q.Mt;c&&c.pa(a);return c};q.Ot=q.fd.extend({update:function(a){this.da.update(1==a?1:-Math.pow(2,-10*a)+1)},reverse:function(){return q.Mt.create(this.da.reverse())},G:function(){var a=new q.Ot;a.pa(this.da.G());return a}});
q.Ot.create=function(a){var c=new q.Ot;c&&c.pa(a);return c};q.Nt=q.fd.extend({update:function(a){1!=a&&0!==a&&(a*=2,a=1>a?0.5*Math.pow(2,10*(a-1)):0.5*(-Math.pow(2,-10*(a-1))+2));this.da.update(a)},reverse:function(){return q.Nt.create(this.da.reverse())},G:function(){var a=new q.Nt;a.pa(this.da.G());return a}});q.Nt.create=function(a){var c=new q.Nt;c&&c.pa(a);return c};
q.St=q.fd.extend({update:function(a){a=0===a||1==a?a:-1*Math.cos(a*Math.PI/2)+1;this.da.update(a)},reverse:function(){return q.Ut.create(this.da.reverse())},G:function(){var a=new q.St;a.pa(this.da.G());return a}});q.St.create=function(a){var c=new q.St;c&&c.pa(a);return c};q.Ut=q.fd.extend({update:function(a){a=0===a||1==a?a:Math.sin(a*Math.PI/2);this.da.update(a)},reverse:function(){return q.St.create(this.da.reverse())},G:function(){var a=new q.Ut;a.pa(this.da.G());return a}});
q.Ut.create=function(a){var c=new q.Ut;c&&c.pa(a);return c};q.Tt=q.fd.extend({update:function(a){a=0===a||1==a?a:-0.5*(Math.cos(Math.PI*a)-1);this.da.update(a)},G:function(){var a=new q.Tt;a.pa(this.da.G());return a},reverse:function(){return q.Tt.create(this.da.reverse())}});q.Tt.create=function(a){var c=new q.Tt;c&&c.pa(a);return c};
q.Un=q.fd.extend({fe:null,ctor:function(){q.fd.prototype.ctor.call(this);this.fe=0.3},P5:function(){return this.fe},tba:function(a){this.fe=a},pa:function(a,c){q.fd.prototype.pa.call(this,a);this.fe=null==c?0.3:c;return!0},reverse:function(){q.log("cc.EaseElastic.reverse(): it should be overridden in subclass.")},G:function(){var a=new q.Un;a.pa(this.da.G(),this.fe);return a}});q.Un.create=function(a,c){var d=new q.Un;return d&&d.pa(a,c)?d:null};
q.Jt=q.Un.extend({update:function(a){var c=0;0===a||1===a?c=a:(c=this.fe/4,a-=1,c=-Math.pow(2,10*a)*Math.sin((a-c)*Math.PI*2/this.fe));this.da.update(c)},reverse:function(){return q.Lt.create(this.da.reverse(),this.fe)},G:function(){var a=new q.Jt;a.pa(this.da.G(),this.fe);return a}});q.Jt.create=function(a,c){var d=new q.Jt;return d&&d.pa(a,c)?d:null};
q.Lt=q.Un.extend({update:function(a){var c=0,c=0===a||1==a?a:Math.pow(2,-10*a)*Math.sin((a-this.fe/4)*Math.PI*2/this.fe)+1;this.da.update(c)},reverse:function(){return q.Jt.create(this.da.reverse(),this.fe)},G:function(){var a=new q.Lt;a.pa(this.da.G(),this.fe);return a}});q.Lt.create=function(a,c){var d=new q.Lt;d&&d.pa(a,c);return d};
q.Kt=q.Un.extend({update:function(a){var c=0,c=this.fe;if(0===a||1==a)c=a;else{c||(c=this.fe=0.3*1.5);var d=c/4;a=2*a-1;c=0>a?-0.5*Math.pow(2,10*a)*Math.sin((a-d)*Math.PI*2/c):Math.pow(2,-10*a)*Math.sin((a-d)*Math.PI*2/c)*0.5+1}this.da.update(c)},reverse:function(){return q.Kt.create(this.da.reverse(),this.fe)},G:function(){var a=new q.Kt;a.pa(this.da.G(),this.fe);return a}});q.Kt.create=function(a,c){var d=new q.Kt;d&&d.pa(a,c);return d};
q.Yl=q.fd.extend({ww:function(a){if(a<1/2.75)return 7.5625*a*a;if(a<2/2.75)return a-=1.5/2.75,7.5625*a*a+0.75;if(a<2.5/2.75)return a-=2.25/2.75,7.5625*a*a+0.9375;a-=2.625/2.75;return 7.5625*a*a+0.984375},G:function(){var a=new q.Yl;a.pa(this.da.G());return a},reverse:function(){return q.Yl.create(this.da.reverse())}});q.Yl.create=function(a){var c=new q.Yl;c&&c.pa(a);return c};
q.Gt=q.Yl.extend({update:function(a){this.da.update(1-this.ww(1-a))},reverse:function(){return q.It.create(this.da.reverse())},G:function(){var a=new q.Gt;a.pa(this.da.G());return a}});q.Gt.create=function(a){var c=new q.Gt;c&&c.pa(a);return c};q.It=q.Yl.extend({update:function(a){this.da.update(this.ww(a))},reverse:function(){return q.Gt.create(this.da.reverse())},G:function(){var a=new q.It;a.pa(this.da.G());return a}});q.It.create=function(a){var c=new q.It;c&&c.pa(a);return c};
q.Ht=q.Yl.extend({update:function(a){var c=0,c=0.5>a?0.5*(1-this.ww(1-2*a)):0.5*this.ww(2*a-1)+0.5;this.da.update(c)},G:function(){var a=new q.Ht;a.pa(this.da.G());return a},reverse:function(){return q.Ht.create(this.da.reverse())}});q.Ht.create=function(a){var c=new q.Ht;c&&c.pa(a);return c};q.Dt=q.fd.extend({update:function(a){this.da.update(0===a||1==a?a:a*a*(2.70158*a-1.70158))},reverse:function(){return q.Ft.create(this.da.reverse())},G:function(){var a=new q.Dt;a.pa(this.da.G());return a}});
q.Dt.create=function(a){var c=new q.Dt;c&&c.pa(a);return c};q.Ft=q.fd.extend({update:function(a){a-=1;this.da.update(a*a*(2.70158*a+1.70158)+1)},reverse:function(){return q.Dt.create(this.da.reverse())},G:function(){var a=new q.Ft;a.pa(this.da.G());return a}});q.Ft.create=function(a){var c=new q.Ft;c&&c.pa(a);return c};
q.Et=q.fd.extend({update:function(a){a*=2;1>a?this.da.update(a*a*(3.5949095*a-2.5949095)/2):(a-=2,this.da.update(a*a*(3.5949095*a+2.5949095)/2+1))},G:function(){var a=new q.Et;a.pa(this.da.G());return a},reverse:function(){return q.Et.create(this.da.reverse())}});q.Et.create=function(a){var c=new q.Et;c&&c.pa(a);return c};q.xy=function(a,c,d,e,f,g){var h=g*g,k=h*g,l=(1-f)/2;f=l*(-k+2*h-g);var m=l*(-k+h)+(2*k-3*h+1);g=l*(k-2*h+g)+(-2*k+3*h);h=l*(k-h);return q.a(a.x*f+c.x*m+d.x*g+e.x*h,a.y*f+c.y*m+d.y*g+e.y*h)};q.mK=function(a){for(var c=[],d=a.length-1;0<=d;d--)c.push(q.a(a[d].x,a[d].y));return c};q.Bw=function(a){for(var c=[],d=0;d<a.length;d++)c.push(q.a(a[d].x,a[d].y));return c};q.uh=function(a,c){var d=Math.min(a.length-1,Math.max(c,0));return a[d]};
q.caa=function(a){for(var c=a.length,d=0|c/2,e=0;e<d;++e){var f=a[e];a[e]=a[c-e-1];a[c-e-1]=f}};
q.si=q.P.extend({Nh:null,aA:0,Im:0,Sc:null,xz:null,ctor:function(){q.P.prototype.ctor.call(this);this.Nh=[];this.Im=this.aA=0;this.xz=this.Sc=null},M:function(a,c,d){if(!c||0==c.length)throw"Invalid configuration. It must at least have one control point";return q.P.prototype.M.call(this,a)?(this.tX(c),this.Im=d,!0):!1},G:function(){var a=new q.si;a.M(this.ya,q.Bw(this.Nh),this.Im);return a},$:function(a){q.P.prototype.$.call(this,a);this.aA=1/(this.Nh.length-1);a=this.Q.q;this.Sc=q.a(a.x,a.y);this.xz=
q.a(0,0)},update:function(a){var c,d=this.Nh;if(1==a)c=d.length-1,a=1;else{var e=this.aA;c=0|a/e;a=(a-e*c)/e}c=q.xy(q.uh(d,c-1),q.uh(d,c-0),q.uh(d,c+1),q.uh(d,c+2),this.Im,a);q.At&&(d=this.Q.q.F-this.Sc.x,a=this.Q.q.H-this.Sc.y,0!=d||0!=a)&&(e=this.xz,d=e.x+d,a=e.y+a,e.x=d,e.y=a,c.x+=d,c.y+=a);this.FL(c)},reverse:function(){var a=q.mK(this.Nh);return q.si.create(this.ya,a,this.Im)},FL:function(a){this.Q.n(a);this.Sc=a},U5:function(){return this.Nh},tX:function(a){this.Nh=a}});
q.si.create=function(a,c,d){var e=new q.si;return e.M(a,c,d)?e:null};
q.qq=q.si.extend({Tc:null,ctor:function(){q.si.prototype.ctor.call(this);this.Tc=q.a(0,0)},$:function(a){q.si.prototype.$.call(this,a);a=a.q;this.Tc.x=a.x;this.Tc.y=a.y},reverse:function(){for(var a=this.Nh.slice(),c,d=a[0],e=1;e<a.length;++e)c=a[e],a[e]=q.Bd(c,d),d=c;a=q.mK(a);d=a[a.length-1];a.pop();d.x=-d.x;d.y=-d.y;a.unshift(d);for(e=1;e<a.length;++e)c=a[e],c.x=-c.x,c.y=-c.y,c.x+=d.x,c.y+=d.y,d=a[e]=c;return q.qq.create(this.ya,a,this.Im)},FL:function(a){var c=this.Tc,d=a.x+c.x;a=a.y+c.y;this.Q.n(d,
a);this.Sc.x=d;this.Sc.y=a},G:function(){var a=new q.qq;a.M(this.ya,q.Bw(this.Nh),this.Im);return a}});q.qq.create=function(a,c,d){var e=new q.qq;return e.M(a,c,d)?e:null};q.zy=q.si.extend({M:function(a,c){return q.si.prototype.M.call(this,a,c,0.5)},G:function(){var a=new q.zy;a.M(this.ya,q.Bw(this.Nh));return a}});q.zy.create=function(a,c){var d=new q.zy;return d.M(a,c)?d:null};
q.yy=q.qq.extend({M:function(a,c){return q.si.prototype.M.call(this,a,c,0.5)},G:function(){var a=new q.yy;a.M(this.ya,q.Bw(this.Nh));return a}});q.yy.create=function(a,c){var d=new q.yy;return d.M(a,c)?d:null};q.OY=q.Ea.extend({nE:function(){}});
q.Sn=q.P.extend({key:"",bn:0,Ol:0,lC:0,ctor:function(){q.P.prototype.ctor.call(this);this.key="";this.lC=this.Ol=this.bn=0},M:function(a,c,d,e){return q.P.prototype.M.call(this,a)?(this.key=c,this.Ol=e,this.bn=d,!0):!1},$:function(a){if(!a||!a.nE)throw"cc.ActionTween.startWithTarget(): target must be non-null, and target must implement updateTweenAction function";q.P.prototype.$.call(this,a);this.lC=this.Ol-this.bn},update:function(a){this.Q.nE(this.Ol-this.lC*(1-a),this.key)},reverse:function(){return q.Sn.create(this.duration,
this.key,this.Ol,this.bn)},G:function(){var a=new q.Sn;a.M(this.ya,this.key,this.bn,this.Ol);return a}});q.Sn.create=function(a,c,d,e){var f=new q.Sn;return f.M(a,c,d,e)?f:null};q.zk=0;q.Ty=1;q.kF=4;q.$M=75;
q.Dc=q.zb.extend({yf:null,Oi:0,pb:null,Mh:null,hm:null,Md:!1,p5:function(){return q.a(this.Mh.x,this.Mh)},MK:function(a){this.Mh=q.LJ(a)},V3:function(){return q.a(this.hm.x,this.hm.y)},uK:function(a){this.hm=q.LJ(a)},oc:function(){return this.yf},Pw:function(){return this.Oi},oT:function(){return this.pb},dt:function(a){this.Oi!=a&&(this.Oi=q.qs(a,0,100),this.KB())},If:function(){},tl:function(){return!1},p8:function(){return this.Md},Iz:function(a){if(a<q.kF){var c=q.$M;return this.Md?q.a(c>>7-(a<<
1)&1,c>>7-((a<<1)+1)&1):q.a(c>>(a<<1)+1&1,c>>(a<<1)&1)}return q.tj()},kd:null,BB:270,jA:270,Ri:0,Uz:!1,Fz:null,xd:0,Jc:null,Vf:null,uH:null,ns:!1,ctor:null,Jh:function(){q.zb.prototype.ctor.call(this);this.yf=q.zk;this.Oi=0;this.Mh=q.a(0,0);this.hm=q.a(0,0);this.Md=!1;this.pb=null;this.kd=q.tj();this.jA=this.BB=270;this.Ri=0;this.Uz=!1;this.Fz=q.gd()},Kh:function(){q.zb.prototype.ctor.call(this);this.yf=q.zk;this.Oi=0;this.Mh=q.a(0,0);this.hm=q.a(0,0);this.Md=!1;this.pb=null;this.uH=q.W.createBuffer();
this.xd=0;this.Vf=this.Jc=null;this.ns=!1},l:function(a){this.pb.l(a);this.wd()},ia:function(a){this.pb.ia(a);this.wd()},zd:function(){return this.pb.zd()},Zi:function(){return this.pb.Zi()},SK:null,jQ:function(a){this.Md!==a&&(this.Md=a)},kQ:function(a){this.Md!==a&&(this.Md=a,this.Vf=this.Jc=null,this.xd=0)},ft:null,mQ:function(a){this.pb!=a&&(this.pb=a,this.V(this.pb.c()))},nQ:function(a){a&&this.pb!=a&&(this.pb=a,this.V(a.c()),this.Jc&&(this.Vf=this.Jc=null,this.xd=0))},lj:null,qQ:function(a){a!==
this.yf&&(this.yf=a)},rQ:function(a){a!==this.yf&&(this.Jc&&(this.Vf=this.Jc=null,this.xd=0),this.yf=a)},RK:null,hQ:function(a){this.Md!==a&&(this.Md=a)},iQ:function(a){this.Md!==a&&(this.Md=a,this.Vf=this.Jc=null,this.xd=0)},Xe:function(a){var c=this.pb;if(!c)return{Pa:0,ma:0};var d=c.Kb,e=q.a(d.Ka.C.Pa,d.Ka.C.ma),d=q.a(d.Na.C.Pa,d.Na.C.ma);c.Yc&&(c=a.x,a.x=a.y,a.y=c);return{Pa:e.x*(1-a.x)+d.x*a.x,ma:e.y*(1-a.y)+d.y*a.y}},Ze:function(a){if(!this.pb)return{x:0,y:0};var c=this.pb.Kb,d=q.a(c.Ka.s.x,
c.Ka.s.y),c=q.a(c.Na.s.x,c.Na.s.y);return{x:d.x*(1-a.x)+c.x*a.x,y:d.y*(1-a.y)+c.y*a.y}},TC:null,RO:function(a){this.dt(0);this.L(0.5,0.5);this.yf=q.zk;this.Md=!1;this.MK(q.a(0.5,0.5));this.uK(q.a(1,1));this.ft(a);return!0},SO:function(a){this.dt(0);this.Vf=this.Jc=null;this.xd=0;this.L(0.5,0.5);this.yf=q.zk;this.Md=!1;this.MK(q.a(0.5,0.5));this.uK(q.a(1,1));this.ft(a);this.Pg(q.Hh.e().mi(q.$y));return!0},Va:null,lm:function(a){a=a||q.W;var c=this.pb;c.Lo&&(a.globalCompositeOperation="lighter");var d=
q.sa.e().wa,e=q.sa.e().Ba;a.globalAlpha=c.Wb/255;var f=c.za,g=c.va,h=c.dc,k=c.gA,l=0|h.x,m=-h.y-f.height,n=c.hp;k.width=f.width*d;k.height=f.height*e;a.save();c.kc&&(l=-h.x-f.width,a.scale(-1,1));c.lc&&(m=h.y,a.scale(1,-1));l*=d;m*=e;this.yf==q.Ty?(f=this.Fz,a.beginPath(),a.rect(f.x*d,f.y*e,f.width*d,f.height*e),a.clip(),a.closePath()):this.yf==q.zk&&(f=this.kd.x*d,h=this.kd.y*e,a.beginPath(),a.arc(f,h,this.Ri*e,Math.PI/180*this.BB,Math.PI/180*this.jA,this.Uz),a.lineTo(f,h),a.clip(),a.closePath());
c.Fa&&n.rt?(d=c.Fa.Hc,this.Vu?a.drawImage(d,0,0,n.width,n.height,l,m,k.width,k.height):a.drawImage(d,n.x,n.y,n.width,n.height,l,m,k.width,k.height)):0!==g.width&&(k=this.zd(),a.fillStyle="rgba("+k.p+","+k.o+","+k.g+",1)",a.fillRect(l,m,g.width*d,g.height*e));a.restore();q.Eh()},ug:function(a){a=a||q.W;if(this.Jc&&this.pb){q.Qy(this);var c=this.pb.ga;q.gk(c.src,c.Gb);q.ue(q.Cu);this.pb.aa()?q.Hg(this.pb.aa()):q.Hg(null);a.bindBuffer(a.ARRAY_BUFFER,this.uH);this.ns&&(a.bufferData(a.ARRAY_BUFFER,this.Vf,
a.DYNAMIC_DRAW),this.ns=!1);c=q.Ub.BYTES_PER_ELEMENT;a.vertexAttribPointer(q.Le,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(q.Cq,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(q.Dq,2,a.FLOAT,!1,c,12);this.yf===q.zk?a.drawArrays(a.TRIANGLE_FAN,0,this.xd):this.yf==q.Ty&&(this.Md?(a.drawArrays(a.TRIANGLE_STRIP,0,this.xd/2),a.drawArrays(a.TRIANGLE_STRIP,4,this.xd/2),q.ci++):a.drawArrays(a.TRIANGLE_STRIP,0,this.xd));q.ci++}},TQ:function(){if(this.pb){var a,c=this.Mh;a=this.Oi/100;var d=2*q.PI*(this.Md?a:
1-a),e=q.a(c.x,1),f=q.dV(e,c,d),d=0;if(0==a)f=e,d=0;else if(1==a)f=e,d=4;else{var g=q.oM,h=q.kF;for(a=0;a<=h;++a){var k=(a+(h-1))%h,l=this.Iz(a%h),k=this.Iz(k);0==a?k=q.NJ(l,k,1-c.x):4==a&&(l=q.NJ(l,k,1-c.x));var m=q.a(0,0);q.nD(l,k,c,f,m)&&(0!=a&&4!=a||0<=m.x&&1>=m.x)&&0<=m.y&&m.y<g&&(g=m.y,d=a)}f=q.dg(c,q.ij(q.Bd(f,c),g))}g=!0;this.xd!=d+3&&(g=!1,this.Vf=this.Jc=null,this.xd=0);if(!this.Jc){h=this.xd=d+3;l=q.Ub.BYTES_PER_ELEMENT;this.Vf=new ArrayBuffer(h*l);k=[];for(a=0;a<h;a++)k[a]=new q.Ub(null,
null,null,this.Vf,a*l);this.Jc=k;if(!this.Jc){q.log("cc.ProgressTimer._updateRadial() : Not enough memory");return}}this.wd();h=this.Jc;if(!g)for(h[0].C=this.Xe(c),h[0].s=this.Ze(c),h[1].C=this.Xe(e),h[1].s=this.Ze(e),a=0;a<d;a++)c=this.Iz(a),h[a+2].C=this.Xe(c),h[a+2].s=this.Ze(c);h[this.xd-1].C=this.Xe(f);h[this.xd-1].s=this.Ze(f)}},IQ:function(){if(this.pb){var a,c=this.Oi/100,d=this.hm,d=q.ij(q.a(1-d.x+c*d.x,1-d.y+c*d.y),0.5),c=q.Bd(this.Mh,d),d=q.dg(this.Mh,d);0>c.x&&(d.x+=-c.x,c.x=0);1<d.x&&
(c.x-=d.x-1,d.x=1);0>c.y&&(d.y+=-c.y,c.y=0);1<d.y&&(c.y-=d.y-1,d.y=1);if(this.Md){if(!this.Jc){this.xd=8;var e=q.Ub.BYTES_PER_ELEMENT;this.Vf=new ArrayBuffer(8*e);var f=[];for(a=0;8>a;a++)f[a]=new q.Ub(null,null,null,this.Vf,a*e);f[0].C=this.Xe(q.a(0,1));f[0].s=this.Ze(q.a(0,1));f[1].C=this.Xe(q.a(0,0));f[1].s=this.Ze(q.a(0,0));f[6].C=this.Xe(q.a(1,1));f[6].s=this.Ze(q.a(1,1));f[7].C=this.Xe(q.a(1,0));f[7].s=this.Ze(q.a(1,0));this.Jc=f}a=this.Jc;a[2].C=this.Xe(q.a(c.x,d.y));a[2].s=this.Ze(q.a(c.x,
d.y));a[3].C=this.Xe(q.a(c.x,c.y));a[3].s=this.Ze(q.a(c.x,c.y));a[4].C=this.Xe(q.a(d.x,d.y));a[4].s=this.Ze(q.a(d.x,d.y));a[5].C=this.Xe(q.a(d.x,c.y));a[5].s=this.Ze(q.a(d.x,c.y))}else{if(!this.Jc)for(this.xd=4,e=q.Ub.BYTES_PER_ELEMENT,this.Vf=new ArrayBuffer(4*e),this.Jc=[],a=0;4>a;a++)this.Jc[a]=new q.Ub(null,null,null,this.Vf,a*e);a=this.Jc;a[0].C=this.Xe(q.a(c.x,d.y));a[0].s=this.Ze(q.a(c.x,d.y));a[1].C=this.Xe(q.a(c.x,c.y));a[1].s=this.Ze(q.a(c.x,c.y));a[2].C=this.Xe(q.a(d.x,d.y));a[2].s=this.Ze(q.a(d.x,
d.y));a[3].C=this.Xe(q.a(d.x,c.y));a[3].s=this.Ze(q.a(d.x,c.y))}this.wd()}},wd:function(){if(this.pb&&this.Jc){for(var a=this.pb.Kb.Sa.K,c=this.Jc,d=0,e=this.xd;d<e;++d)c[d].K=a;this.ns=!0}},KB:null,PQ:function(){var a=this.pb,c=a.c(),d=this.Mh;if(this.yf==q.zk){this.Ri=Math.round(Math.sqrt(c.width*c.width+c.height*c.height));var e,f=!1,g=this.kd;g.x=c.width*d.x;g.y=-c.height*d.y;this.Md?(e=270,d=270-3.6*this.Oi):(d=-90,e=-90+3.6*this.Oi);a.kc&&(g.x-=2*c.width*this.Mh.x,d=-d-180,e=-e-180,f=!f);a.lc&&
(g.y+=2*c.height*this.Mh.y,f=!f,d=-d,e=-e);this.BB=d;this.jA=e;this.Uz=f}else{e=this.hm;g=this.Oi/100;f=this.Fz;e=q.size(c.width*(1-e.x),c.height*(1-e.y));var g=q.size((c.width-e.width)*g,(c.height-e.height)*g),g=q.size(e.width+g.width,e.height+g.height),h=q.a(c.width*d.x,c.height*d.y),k=h.x-g.width/2;0.5<d.x&&g.width/2>=c.width-h.x&&(k=c.width-g.width);e=h.y-g.height/2;0.5<d.y&&g.height/2>=c.height-h.y&&(e=c.height-g.height);f.x=0;c=1;a.kc&&(f.x-=g.width,c=-1);0<k&&(f.x+=k*c);f.y=0;c=1;a.lc&&(f.y+=
g.height,c=-1);0<e&&(f.y-=e*c);f.width=g.width;f.height=-g.height}},QQ:function(){var a=this.yf;a===q.zk?this.TQ():a===q.Ty&&this.IQ();this.ns=!0}});
q.Ga.Qc?(b=q.Dc.prototype,b.ctor=q.Dc.prototype.Kh,b.SK=q.Dc.prototype.kQ,b.ft=q.Dc.prototype.nQ,b.lj=q.Dc.prototype.rQ,b.RK=q.Dc.prototype.iQ,b.TC=q.Dc.prototype.SO,b.Va=q.Dc.prototype.ug,b.KB=q.Dc.prototype.QQ):(b=q.Dc.prototype,b.ctor=q.Dc.prototype.Jh,b.SK=q.Dc.prototype.jQ,b.ft=q.Dc.prototype.mQ,b.lj=q.Dc.prototype.qQ,b.RK=q.Dc.prototype.hQ,b.TC=q.Dc.prototype.RO,b.Va=q.Dc.prototype.lm,b.KB=q.Dc.prototype.PQ);q.Dc.create=function(a){var c=new q.Dc;return c.TC(a)?c:null};q.Vy=q.P.extend({xf:0,ee:0,ctor:function(){q.P.prototype.ctor.call(this);this.ee=this.xf=0},M:function(a,c){return q.P.prototype.M.call(this,a)?(this.xf=c,!0):!1},G:function(){var a=new q.Vy;a.M(this.ya,this.xf);return a},reverse:function(){q.log("cc.ProgressTo.reverse(): reverse hasn't been supported.");return null},$:function(a){q.P.prototype.$.call(this,a);this.ee=a.Pw();100==this.ee&&(this.ee=0)},update:function(a){this.Q instanceof q.Dc&&this.Q.dt(this.ee+(this.xf-this.ee)*a)}});
q.Vy.create=function(a,c){var d=new q.Vy;d.M(a,c);return d};q.gu=q.P.extend({xf:0,ee:0,ctor:function(){q.P.prototype.ctor.call(this);this.ee=this.xf=0},M:function(a,c,d){return q.P.prototype.M.call(this,a)?(this.xf=d,this.ee=c,!0):!1},G:function(){var a=new q.gu;a.M(this.ya,this.ee,this.xf);return a},reverse:function(){return q.gu.create(this.ya,this.xf,this.ee)},$:function(a){q.P.prototype.$.call(this,a)},update:function(a){this.Q instanceof q.Dc&&this.Q.dt(this.ee+(this.xf-this.ee)*a)}});
q.gu.create=function(a,c,d){var e=new q.gu;e.M(a,c,d);return e};q.vy=9;q.TL=1;q.WL=2;q.XL=4;q.UL=8;q.VL=16;q.CE=32;q.YL=64;q.SL=128;q.ri=256;q.mg=1;q.EE=2;q.DE=4;q.fZ=8;q.eZ=8;
q.Tb=q.Fh.extend({tG:!1,a1:!1,tl:function(){return this.tG},If:function(a){this.tG=a;for(var c=this.t,d=0,e=c.length;d<e;d++){var f=c[d];f&&f.jb&&f.If(a)}},Ti:q.mg,E6:function(){return this.Ti},fr:!1,Zo:!1,Lj:!1,cv:null,Hf:function(a){this.Ti=(this.fr=a)?q.mg:q.DE;this.ad()},isEnabled:function(){return this.fr},dq:function(a){this.Zo=a;this.ad()},s8:function(){return this.Zo},Il:function(a){this.Lj=a;this.ad()},b8:function(){return this.Lj},MT:function(){for(var a=this.getParent();null!=a;a=a.getParent())if(!a.ka)return!1;
return!0},ctor:function(){q.Fh.prototype.ctor.call(this);this.cv={};this.jc=q.yb()},r:function(){return q.Fh.prototype.r.call(this)?(this.Ti=q.mg,this.fr=!0,this.Lj=this.Zo=!1,this.fq(1),!0):!1},xx:function(){q.xD(this.hl,!0,this)},gf:function(a){for(var c=0,d=q.vy;c<d;c++)if(a&1<<c)for(var e=this.fA(1<<c),f=0,g=e.length;f<g;f++)e[f].kU(this)},IH:function(a,c,d){for(var e=0,f=q.vy;e<f;e++)d&1<<e&&this.OF(a,c,1<<e)},V$:function(a,c,d){for(var e=0,f=q.vy;e<f;e++)d&1<<e&&this.JP(a,c,1<<e)},bj:function(a){return this.Da(a.J)},
hi:function(a){a=a.J;a=this.getParent().Da(a);return q.ab(this.Xa(),a)},c1:function(){return null},fA:function(a){a=a.toString();this.cv.hasOwnProperty(a)||(this.cv[a]=[]);return this.cv[a]},OF:function(a,c,d){a=new q.wM(a,c,d);this.fA(d).push(a)},JP:function(a,c,d){d=this.fA(d);if(a||c)for(var e=0;e<d.length;){var f=d[e],g=!0;a&&(g=a==f.Q);c&&(g=g&&c==f.Mf);g?q.Ud(d,f):e++}else d.length=0},ad:function(){}});q.Tb.create=function(){var a=new q.Tb;return a&&a.r()?a:null};q.IE=3435855873;
q.Xl=q.Tb.extend({ar:!1,os:!1,wg:null,wr:null,Tq:null,$u:null,Lm:null,Zd:null,Ni:0,No:!1,iw:null,cs:null,jw:null,gm:null,HG:!1,Av:0,zv:0,ctor:function(){q.Tb.prototype.ctor.call(this);this.wg=new q.Ck(0,0);this.wr=new q.Wg(0,0);this.Tq="";this.$u=q.yb();this.iw={};this.cs={};this.jw={};this.gm={}},r:function(){return this.Zw(q.S.create("","Arial",12),q.of.create())},ad:function(){if(this.HG){this.Lm&&this.Lm.v(!1);this.Zd&&this.Zd.v(!1);this.aX(this.wr);var a=this.Ti;this.Tq=this.FC(a);this.$u=this.tT(a);
var c=this.Lm=this.Ds(a);c&&c.ea&&c.ea(this.Tq);c&&c.jb&&c.l(this.$u);var d=this.c();c&&c.n(d.width/2,d.height/2);(a=this.Zd=this.HS(a))&&a.n(d.width/2,d.height/2);d=c?c.Xa().bb:q.size(0,0);if(this.ar)a&&a.V(d.width+2*this.zv,d.height+2*this.Av);else if(a){var e=a.wg,e=q.size(e.width,e.height);0>=e.width&&(e.width=d.width);0>=e.height&&(e.height=d.height);a.V(e)}d=c?c.Xa():q.rect(0,0,0,0);e=a?a.Xa():q.rect(0,0,0,0);d=q.wx(d,e);this.V(d.width,d.height);d=this.c();c&&(c.n(d.width/2,d.height/2),c.v(!0));
a&&(a.n(d.width/2,d.height/2),a.v(!0))}},Zw:function(a,c){if(!a||!a.jb)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): label should be non-null";if(!c)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): backgroundSprite should be non-null";return q.Tb.prototype.r.call(this,!0)?(this.HG=!0,this.iw={},this.cs={},this.jw={},this.gm={},this.Xb(!0),this.No=!1,this.os=!0,this.Tq=null,this.yW(!0),this.qk(q.size(0,0)),this.os=!0,this.cj(!1),this.L(0.5,0.5),this.Lm=a,this.Zd=c,this.ia(255),
this.If(!0),this.IX(a.DC(),q.mg),this.HX(a.zd(),q.mg),this.WD(a,q.mg),this.Ix(c,q.mg),this.Ti=q.mg,this.zv=24,this.Av=12,this.wr=new q.Wg(0.5,0.5),this.qk(q.am()),this.ad(),!0):!1},cU:function(a,c,d){a=q.S.create(a,c,d);return this.Zw(a,q.of.create())},YI:function(a){var c=q.S.create("","Arial",30);return this.Zw(c,a)},Y2:function(){return this.ar},yW:function(a){this.ar=a;this.ad()},m7:function(){return this.os},MX:function(a){return this.os=a},bT:function(){return this.wg},qk:function(a){if(0===
a.width&&0===a.height)this.ar=!0;else{this.ar=!1;var c=this.gm,d;for(d in c)c[d].qk(a)}this.wg=a;this.ad()},d5:function(){return this.wr},aX:function(a){this.wr=a;this.Lm&&this.Lm.L(a)},U0:function(){return this.Tq},V0:function(){return this.$u},Zi:function(){return this.Ni},ia:function(a){q.Tb.prototype.ia.call(this,a);var c=this.gm,d;for(d in c)c[d].ia(a)},l:function(a){q.Tb.prototype.l.call(this,a);var c=this.gm,d;for(d in c)c[d].l(a)},zd:function(){return this.ge},o8:function(){return this.No},
Z0:function(){return this.Av},X0:function(){return this.zv},bba:function(a,c){this.Av=c;this.zv=a;this.ad()},Hf:function(a){q.Tb.prototype.Hf.call(this,a);this.ad()},dq:function(a){q.Tb.prototype.dq.call(this,a);this.ad()},Il:function(a){this.Ti=a?q.EE:q.mg;q.Tb.prototype.Il.call(this,a);(a=this.wC(q.IE))&&this.fY(a);this.ad();this.os&&(a=q.bo.create(0.05,this.Lj&&this.isEnabled()&&!this.Zo?1.1:1),a.XK(q.IE),this.Bx(a))},lb:function(a){if(!(this.hi(a)&&this.isEnabled()&&this.ka&&this.MT()))return!1;
this.No=!0;this.Il(!0);this.gf(q.TL);return!0},qd:function(a){this.fr&&this.No&&!this.Zo?(a=this.hi(a))&&!this.Lj?(this.Il(!0),this.gf(q.UL)):a&&this.Lj?this.gf(q.WL):!a&&this.Lj?(this.Il(!1),this.gf(q.VL)):a||this.Lj||this.gf(q.XL):this.Lj&&this.Il(!1)},Ff:function(a){this.No=!1;this.Il(!1);this.hi(a)?this.gf(q.CE):this.gf(q.YL)},lk:function(){this.No=!1;this.Il(!1);this.gf(q.SL)},FC:function(a){var c=this.iw;return c?c[a]?c[a]:c[q.mg]:""},IX:function(a,c){this.iw[c]=a||"";this.Ti==c&&this.ad()},
tT:function(a){return(a=this.cs[a])?a:(a=this.cs[q.mg])?a:q.yb()},HX:function(a,c){this.cs[c]=a;this.Ti==c&&this.ad()},Ds:function(a){var c=this.jw;return c.hasOwnProperty(a)&&c[a]?c[a]:c[q.mg]},WD:function(a,c){var d=this.jw;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.v(!1);a.L(0.5,0.5);this.f(a,1);this.Ti==c&&this.ad()},cca:function(a,c){var d=this.FC(c);d||(d="");this.WD(q.S.create(d,a,12),c)},O6:function(a){a=this.Ds(a);return null!=a&&a instanceof q.S?a.rf:""},dca:function(a,
c){var d=this.Ds(c);null!=d&&d instanceof q.S&&d.FK(a)},P6:function(a){a=this.Ds(a);return null!=a&&a instanceof q.S?a.Oe:0},bca:function(a,c){var d=this.FC(c);d||(d="");this.WD(q.Ny.create(d,a),c)},N6:function(a){a=this.Ds(a);return null!=a&&a instanceof q.Ny?a.K4():""},HS:function(a){var c=this.gm;return c.hasOwnProperty(a)&&c[a]?c[a]:c[q.mg]},Ix:function(a,c){var d=this.gm;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.v(!1);a.L(0.5,0.5);this.f(a);d=this.wg;0===d.width&&
0===d.height||a.qk(d);this.Ti===c&&this.ad()},qaa:function(a,c){var d=q.of.UH(a);this.Ix(d,c)}});q.Xl.create=function(a,c){var d;if(0==arguments.length)return(d=new q.Xl)&&d.r()?d:null;1==arguments.length?(d=new q.Xl,d.YI(arguments[0])):2==arguments.length?(d=new q.Xl,d.Zw(a,c)):3==arguments.length&&(d=new q.Xl,d.cU(arguments[0],arguments[1],arguments[2]));return d};q.RGBA=function(a,c,d,e){this.p=a;this.o=c;this.g=d;this.I=e};q.Jy=function(a,c,d){this.ye=a;this.ni=c;this.ma=d};q.Xd={};q.Xd.Wm=function(a,c,d,e){a=q.A.VH(a);if(!a)return null;a.n(d);a.L(e);c.f(a);return a};q.Xd.sM=function(a){var c=new q.Jy,d,e;d=a.p<a.o?a.p:a.o;d=d<a.g?d:a.g;e=a.p>a.o?a.p:a.o;e=e>a.g?e:a.g;c.ma=e;d=e-d;if(0<e)c.ni=d/e;else return c.ni=0,c.ye=-1,c;c.ye=a.p>=e?(a.o-a.g)/d:a.o>=e?2+(a.g-a.p)/d:4+(a.p-a.o)/d;c.ye*=60;0>c.ye&&(c.ye+=360);return c};
q.Xd.Yy=function(a){var c,d,e,f,g=new q.RGBA;g.I=1;if(0>=a.ni){if(!a.ye)return g.p=a.ma,g.o=a.ma,g.g=a.ma,g;g.p=0;g.o=0;g.g=0;return g}c=a.ye;360<=c&&(c=0);c/=60;f=0|c;e=c-f;c=a.ma*(1-a.ni);d=a.ma*(1-a.ni*e);e=a.ma*(1-a.ni*(1-e));switch(f){case 0:g.p=a.ma;g.o=e;g.g=c;break;case 1:g.p=d;g.o=a.ma;g.g=c;break;case 2:g.p=c;g.o=a.ma;g.g=e;break;case 3:g.p=c;g.o=d;g.g=a.ma;break;case 4:g.p=e;g.o=c;g.g=a.ma;break;default:g.p=a.ma,g.o=c,g.g=d}return g};q.Xd.zE=function(a,c){return q.wx(a,c)};q.wM=q.Ea.extend({Mf:null,Q:null,Zu:null,ctor:function(a,c,d){this.Q=a;this.Mf=c;this.Zu=d},N3:function(){return this.Mf},sT:function(){return this.Q},r4:function(){return this.Zu},kU:function(a){if(this.Q&&this.Mf)if("string"==typeof this.Mf)this.Q[this.Mf](a,this.Zu);else this.Mf.call(this.Q,a,this.Zu)}});q.eF=0;q.hF=1;q.fF=2;q.gF=3;q.cF=4;q.jF=5;q.iF=6;q.ZM=7;q.dF=8;
q.of=q.zb.extend({jb:!0,ap:null,XF:null,Zk:!1,wf:null,Vh:null,Uh:null,nh:null,Ki:null,Aj:null,Qh:null,zi:null,yi:null,Ai:null,Cj:null,mc:!1,ld:null,wg:null,Ni:0,jc:null,to:null,nv:0,pv:0,ov:0,mv:0,aH:!1,wB:!1,qb:!1,Kd:null,wL:function(){return this.qb},Wf:function(a,c){this.Kd.push({fk:a,bi:c})},$d:function(){this.qb=!0;for(var a=this.Kd,c=0,d=a.length;c<d;c++){var e=a[c];e.fk.call(e.bi,this)}a.length=0},ow:function(){var a;a=this.nv;var c=this.pv,d=this.ov,e=this.ap,f=this.mv;a=0===a&&0===c&&0===
d&&0===f?q.gd():this.wB?q.rect(f,a,e.width-d-a,e.height-c-f):q.rect(a,c,e.width-a-d,e.height-c-f);this.FW(a)},OQ:function(){if(this.Vh&&this.nh&&this.Ai&&this.zi&&this.Aj){var a=this.va,c=this.Vh,d=this.nh,e=this.Ai,f=this.zi,g=this.Aj,h=this.Aj.c(),k=c.c(),l=f.c(),m=a.Ha-k.width-d.c().width,a=a.ta-k.height-e.c().height,m=m/h.width,a=a/h.height,k=h.width*m,n=h.height*a,r=l.width,l=l.height;if(!q.Ga.Qc){var p=Math.round(k);k!=p&&(k=p,m=k/h.width);p=Math.round(n);n!=p&&(n=p,a=n/h.height)}g.cq(m);g.En(a);
var h=this.Ki,p=this.Qh,u=this.Uh,x=this.yi,z=q.a(0,0);f.L(z);e.L(z);c.L(z);d.L(z);h.L(z);p.L(z);u.L(z);x.L(z);g.L(z);f.n(0,0);e.n(r+k,0);c.n(0,l+n);d.n(r+k,l+n);h.n(0,l);h.En(a);p.n(r+k,l);p.En(a);x.n(r,0);x.cq(m);u.n(r,l+n);u.cq(m);g.n(r,l)}},ctor:function(){q.zb.prototype.ctor.call(this);this.ap=q.gd();this.XF=q.gd();this.Cj=q.yb();this.ld=new q.Ck(0,0);this.wg=new q.Ck(0,0);this.jc=q.yb();this.Ni=255;this.to=q.gd();this.Kd=[]},$S:function(){return this.ld},bT:function(){return this.wg},qk:function(a){this.V(a);
this.wg=a},Zi:function(){return this.Ni},ia:function(a){if(this.wf){this.Ni=a;for(var c=this.wf.t,d=0;d<c.length;d++){var e=c[d];e&&e.jb&&e.ia(a)}}},zd:function(){return this.jc},l:function(a){if(this.wf){this.jc=a;for(var c=this.wf.t,d=0;d<c.length;d++){var e=c[d];e&&e.jb&&e.l(a)}}},e4:function(){return this.to},FW:function(a){if(this.wf){var c=this.va,d=c.Ha,c=c.ta;this.kq(this.wf,this.ap,this.wB,a);this.V(d,c)}},Z4:function(){return this.nv},Vaa:function(a){this.nv=a;this.ow()},b5:function(){return this.pv},
Xaa:function(a){this.pv=a;this.ow()},a5:function(){return this.ov},Waa:function(a){this.ov=a;this.ow()},Y4:function(){return this.mv},Uaa:function(a){this.mv=a;this.ow()},V:function(a,c){2===arguments.length?q.D.prototype.V.call(this,a,c):q.D.prototype.V.call(this,a);this.Zk=!0},ra:function(a){this.Zk&&(this.OQ(),this.Zk=!1);q.zb.prototype.ra.call(this,a)},r:function(){return this.Xw(null,q.gd(),!1,q.gd())},Xw:function(a,c,d,e){3===arguments.length&&(e=d,d=!1);a&&this.kq(a,c,d,e);this.L(0.5,0.5);
return this.Zk=!0},dj:function(a,c,d){a instanceof q.og?(d=a=c,c=q.gd()):(c=c||q.gd(),d=d||q.gd());if(!a)throw"cc.Scale9Sprite.initWithFile(): file should be non-null";var e=q.ha.e().ey(a);if(!e){var e=q.ha.e().qa(a),f=e.Kg();(this.qb=f)||e.Wf(function(a){var c=this.wg,c=q.size(c.width,c.height);a=a.c();this.kq(this.wf,q.rect(0,0,a.width,a.height),!1,this.to);this.qk(c);this.Zk=!0;this.$d()},this)}a=q.ub.create(a,9);return this.Xw(a,c,!1,d)},Ae:function(a,c){if(!a||!a.aa())throw"cc.Scale9Sprite.initWithSpriteFrame(): spriteFrame should be non-null and its texture should be non-null";
c=c||q.gd();var d=a.qb;(this.qb=d)||a.Wf(function(a){var c=this.wg,c=q.size(c.width,c.height);this.kq(this.wf,a.se(),q.Ga.Qc?a.md:!1,this.to);this.qk(c);this.Zk=!0;this.$d()},this);d=q.ub.gb(a.aa(),9);return this.Xw(d,a.se(),q.Ga.Qc?a.md:!1,c)},cJ:function(a,c){if(!a)throw"cc.Scale9Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";c=c||q.gd();var d=q.pg.e().vh(a);return null==d?(q.log("cc.Scale9Sprite.initWithSpriteFrameName(): can't find the sprite frame by spriteFrameName"),
!1):this.Ae(d,c)},Y$:function(a){var c=new q.of;return c&&c.Xw(this.wf,this.ap,!1,a)?c:null},If:function(a){if(this.wf){this.mc=a;var c=this.wf.t;if(c)for(var d=0,e=c.length;d<e;d++)c[d].If(a)}},tl:function(){return this.mc},kq:function(a,c,d,e){var f=this.Zi(),g=this.zd();c=q.rect(c.x,c.y,c.width,c.height);this.pc(!0);this.wf!=a&&(this.wf=a);a=a.aa();var h=a.Kg();if(this.qb=h){a=this.wf;a.pc(!0);h=this.to;h.x=e.x;h.y=e.y;h.width=e.width;h.height=e.height;this.wB=d;h=a.aa();q.Jr(c)&&(c=h.c(),c=q.rect(0,
0,c.width,c.height));var k=this.ap=c;k.x=c.x;k.y=c.y;k.width=c.width;k.height=c.height;var l=c.bb;this.ld.width=l.width;this.ld.height=l.height;k=this.wg;0===k.width&&0===k.height&&(k.width=l.width,k.height=l.height);k=this.XF;e&&(k.x=e.x,k.y=e.y,k.width=e.width,k.height=e.height);var m=l.width;e=l.height;q.Jr(k)&&(k.x=m/3,k.y=e/3,k.width=m/3,k.height=e/3);var n=k.x,r=k.width,p=m-(n+r),u=k.y,x=k.height,z=e-(u+x),D=0,C=0;e=q.rect(D,C,n,u);var D=D+n,k=q.rect(D,C,r,u),m=q.rect(D+r,C,p,u),D=0,C=0+u,l=
q.rect(D,C,n,x),D=D+n,Z=q.rect(D,C,r,x),D=D+r,L=q.rect(D,C,p,x),D=0,C=0+u+x,u=q.rect(D,C,n,z),D=D+n,n=q.rect(D,C,r,z),D=D+r,r=q.rect(D,C,p,z),p={I:1,g:0,Ca:0,La:1,Ya:0,Za:0};if(d){d=Z;var z=r,D=u,C=m,x=e,Q=L,R=l,na=n,$=k,p=q.py(p,c.height+c.x,c.y),p=q.RL(p),Z=q.Xg(Z,p),r=q.Xg(r,p),u=q.Xg(u,p),m=q.Xg(m,p);e=q.Xg(e,p);L=q.Xg(L,p);l=q.Xg(l,p);n=q.Xg(n,p);k=q.Xg(k,p);d.x=Z.x;d.y=Z.y;z.x=r.x;z.y=r.y;D.x=u.x;D.y=u.y;C.x=m.x;C.y=m.y;x.x=e.x;x.y=e.y;Q.x=L.x;Q.y=L.y;R.x=l.x;R.y=l.y;na.x=n.x;na.y=n.y;$.x=k.x;
$.y=k.y;this.Aj=new q.A;this.Aj.Ma(h,d,!0);a.f(this.Aj,0,q.eF);this.Uh=new q.A;this.Uh.Ma(h,$,!0);a.f(this.Uh,1,q.hF);this.yi=new q.A;this.yi.Ma(h,na,!0);a.f(this.yi,1,q.cF);this.Ki=new q.A;this.Ki.Ma(h,R,!0);a.f(this.Ki,1,q.fF);this.Qh=new q.A;this.Qh.Ma(h,Q,!0);a.f(this.Qh,1,q.gF);this.Vh=new q.A;this.Vh.Ma(h,x,!0);a.f(this.Vh,2,q.iF);this.nh=new q.A;this.nh.Ma(h,C,!0);a.f(this.nh,2,q.jF);this.zi=new q.A;this.zi.Ma(h,D,!0);a.f(this.zi,2,q.dF);this.Ai=new q.A;this.Ai.Ma(h,z,!0)}else p=q.py(p,c.x,
c.y),q.ui(Z,p),q.ui(r,p),q.ui(u,p),q.ui(m,p),q.ui(e,p),q.ui(L,p),q.ui(l,p),q.ui(n,p),q.ui(k,p),this.Aj=new q.A,this.Aj.Ma(h,Z),a.f(this.Aj,0,q.eF),this.Uh=new q.A,this.Uh.Ma(h,k),a.f(this.Uh,1,q.hF),this.yi=new q.A,this.yi.Ma(h,n),a.f(this.yi,1,q.cF),this.Ki=new q.A,this.Ki.Ma(h,l),a.f(this.Ki,1,q.fF),this.Qh=new q.A,this.Qh.Ma(h,L),a.f(this.Qh,1,q.gF),this.Vh=new q.A,this.Vh.Ma(h,e),a.f(this.Vh,2,q.iF),this.nh=new q.A,this.nh.Ma(h,m),a.f(this.nh,2,q.jF),this.zi=new q.A,this.zi.Ma(h,u),a.f(this.zi,
2,q.dF),this.Ai=new q.A,this.Ai.Ma(h,r);a.f(this.Ai,2,q.ZM);this.V(c.bb);this.f(a);this.aH&&(this.ia(f),255===g.p&&255===g.o&&255===g.g||this.l(g));return this.aH=!0}a.Wf(function(){this.Zk=!0;this.$d()},this)},Jf:function(a){var c=q.ub.gb(a.aa(),9),d=a.qb;(this.qb=d)||a.Wf(function(a){var c=this.wg,c=q.size(c.width,c.height);this.kq(this.wf,a.se(),q.Ga.Qc?a.md:!1,this.to);this.qk(c);this.Zk=!0;this.$d()},this);this.kq(c,a.se(),q.Ga.Qc?a.md:!1,q.gd());this.mv=this.ov=this.pv=this.nv=0}});
q.of.create=function(a,c,d){var e;if(2===arguments.length)if("string"==typeof a){if((e=new q.of)&&e.dj(a,c))return e}else{if(a instanceof q.og&&(e=new q.of)&&e.dj(a,d))return e}else if(3===arguments.length){if((e=new q.of)&&e.dj(a,c,d))return e}else if(1===arguments.length){if((e=new q.of)&&e.dj(a))return e}else if(0===arguments.length&&(e=new q.of)&&e.r())return e;return null};q.of.UH=function(a,c){var d=new q.of;return d&&d.Ae(a,c)?d:null};
q.of.VH=function(a,c){if(!a)throw"cc.Scale9Sprite.createWithSpriteFrameName(): spriteFrameName should be non-null";var d=new q.of;return d&&d.cJ(a,c)?d:null};q.ru=q.Rc.extend({});q.ru.Eda=function(a){var c=new q.ru;c.r();c.V(0,a);return c};q.ru.u7=function(a){var c=new q.ru;c.r();c.V(a,0);return c};
q.du=q.Rc.extend({jb:!0,jc:null,Ni:0,ctor:function(){},zd:function(){return this.jc},l:function(a){this.jc=a;if(this.t&&0<this.t.length)for(var c=0;c<this.t.length;c++)this.t[c]&&this.t[c].jb&&this.t[c].l(a)},Zi:function(){return this.Ni},ia:function(a){this.Ni=a;if(this.t&&0<this.t.length)for(var c=0;c<this.t.length;c++)this.t[c]&&this.t[c].jb&&this.t[c].ia(a)},WT:function(a,c){if(this.r()){var d=q.Y.e().Qb;this.cj(!0);this.L(0.5,0.5);this.V(d);this.n(d.width/2,d.height/2);d=0;if(a){this.f(a,d);
for(var e=0;e<c.length;e++)c[e]&&(d++,this.f(c[e],d))}return!0}return!1},R1:function(){this.gR(q.bM)},gR:function(a){var c=-a,d;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&(c+=this.t[d].c().height*this.t[d].Ba+a);var e=0,f=c/2;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&(e=Math.max(e,this.t[d].c().width),this.t[d].n(0,f-this.t[d].c().height*this.t[d].Ba/2),f-=this.t[d].c().height*this.t[d].Ba+a);this.V(e,c)},O1:function(){this.fR(q.bM)},fR:function(a){var c=
-a,d;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&(c+=this.t[d].c().width*this.t[d].wa+a);var e=0,f=-c/2;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&(e=Math.max(e,this.t[d].c().height),this.t[d].n(f+this.t[d].c().width*this.t[d].wa/2,0),f+=this.t[d].c().width*this.t[d].wa+a);this.V(c,e)},P1:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=-5,f=0,g=0,h=0,k,l;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&
(f>=c.length?q.log("cc.MenuPassive.alignItemsInColumns(): invalid row index"):(k=c[f])?(l=this.t[d].c().height,g=0|(g>=l||null==l?g:l),++h,h>=k&&(e+=g+5,g=h=0,++f)):q.log("cc.MenuPassive.alignItemsInColumns(): can not have zero columns on a row"));var m=q.Y.e().Qb,n=k=g=f=0,r=0,e=e/2;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&(0==k&&(k=c[f],r=n=m.width/(1+k)),l=this.t[d].c().height,g=0|(g>=l||null==l?g:l),this.t[d].n(r-m.width/2,e-this.t[d].c().height/2),r+=n,++h,h>=k&&(e-=
g+5,g=k=h=0,++f))},Q1:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=[],f=[],g=-10,h=-5,k=0,l=0,m=0,n,r;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&(k>=c.length?q.log("cc.MenuPassive.alignItemsInRows(): invalid row index"):(n=c[k])?(r=this.t[d].c().width,l=0|(l>=r||null==r?l:r),h+=0|this.t[d].c().height+5,++m,m>=n&&(e.push(l),f.push(h),g+=l+10,l=m=0,h=-5,++k)):q.log("cc.MenuPassive.alignItemsInColumns(): can't have zero rows on a column"));h=
q.Y.e().Qb;l=k=0;n=null;var g=-g/2,p=0;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&(null==n&&(n=c[k],p=f[k]),r=this.t[d].c().width,l=0|(l>=r||null==r?l:r),this.t[d].n(g+e[k]/2,p-h.height/2),p-=this.t[d].c().height+10,++m,m>=n&&(g+=l+5,l=n=m=0,++k))},If:function(){},tl:function(){return!1}});q.du.create=function(a){0==arguments.length&&(a=null);for(var c=[],d=1;d<arguments.length;d++)c.push(arguments[d]);return(d=new q.du)&&d.WT(a,c)?d:null};
q.du.M2=function(a){return q.du.create(a,null)};q.By=q.Tb.extend({jB:0,Pu:0,Fc:null,rP:null,ZG:null,mh:null,sc:null,sg:0,zj:0,o6:function(){return this.jB},a4:function(){return this.Pu},wI:function(){return this.Fc},O5:function(){return this.Pu},u6:function(){return this.ZG},nT:function(){return this.mh},pT:function(){return this.sc},VC:function(a,c){return q.Tb.prototype.r.call(this)?(this.Xb(!0),this.Fc=q.Xd.Wm("colourPickerBackground.png",a,c,q.a(0,0)),this.rP=q.Xd.Wm("colourPickerOverlay.png",a,c,q.a(0,0)),this.ZG=q.Xd.Wm("colourPickerShadow.png",
a,c,q.a(0,0)),this.mh=q.Xd.Wm("colourPicker.png",a,c,q.a(0.5,0.5)),this.sc=c,this.sg=35,this.zj=this.Fc.c().width/2,!0):!1},Hf:function(a){q.Tb.prototype.Hf.call(this,a);this.mh&&this.mh.ia(a?255:128)},JL:function(a){var c=new q.Jy;c.ni=1;c.ye=a.ye;c.ma=1;a=q.Xd.Yy(c);this.Fc.l(q.xw(0|255*a.p,0|255*a.o,0|255*a.g))},tY:function(a){a=q.a(this.sc.x+this.sg+this.zj*(1-a.ni),this.sc.y+this.sg+this.zj*a.ma);this.rw(a)},rw:function(a){var c=this.sc.x+0.5*this.Fc.Xa().width,d=this.sc.y+0.5*this.Fc.Xa().height,
e=a.x-c,f=a.y-d,g=Math.sqrt(e*e+f*f),e=Math.atan2(f,e),f=0.5*this.Fc.Xa().width;g>f&&(a.x=c+f*Math.cos(e),a.y=d+f*Math.sin(e));this.mh.n(a);a.x<this.sc.x+this.sg?a.x=this.sc.x+this.sg:a.x>this.sc.x+this.sg+this.zj-1&&(a.x=this.sc.x+this.sg+this.zj-1);a.y<this.sc.y+this.sg?a.y=this.sc.y+this.sg:a.y>this.sc.y+this.sg+this.zj&&(a.y=this.sc.y+this.sg+this.zj);this.jB=1-Math.abs((this.sc.x+this.sg-a.x)/this.zj);this.Pu=Math.abs((this.sc.y+this.sg-a.y)/this.zj)},Pq:function(a){var c=this.sc.x+0.5*this.Fc.Xa().width,
d=this.sc.y+0.5*this.Fc.Xa().height,c=a.x-c,d=a.y-d;return Math.sqrt(c*c+d*d)<=0.5*this.Fc.Xa().width?(this.rw(a),this.gf(q.ri),!0):!1},lb:function(a){if(!this.isEnabled()||!this.ka)return!1;a=this.bj(a);return this.Pq(a)},qd:function(a){a=this.bj(a);this.Pq(a)}});q.By.create=function(a,c){var d=new q.By;d.VC(a,c);return d};q.Ay=q.Tb.extend({Jo:0,qr:0,Fc:null,mh:null,sc:null,T4:function(){return this.Jo},RD:function(a){this.Jo=a;this.XW(this.Jo/360)},U4:function(){return this.qr},XW:function(a){this.qr=a;this.Jo=360*this.qr;a=this.Fc.Xa();var c=0.5*a.width-15,d=q.rj(360*this.qr-180);this.mh.n(this.sc.x+0.5*a.width+c*Math.cos(d),this.sc.y+0.5*a.height+c*Math.sin(d))},Hf:function(a){q.Tb.prototype.Hf.call(this,a);this.mh&&this.mh.ia(a?255:128)},wI:function(){return this.Fc},nT:function(){return this.mh},pT:function(){return this.sc},
VC:function(a,c){return q.Tb.prototype.r.call(this)?(this.Xb(!0),this.Fc=q.Xd.Wm("huePickerBackground.png",a,c,q.a(0,0)),this.mh=q.Xd.Wm("colourPicker.png",a,c,q.a(0.5,0.5)),this.mh.n(c.x,c.y+0.5*this.Fc.Xa().height),this.sc=c,this.qr=this.Jo=0,!0):!1},rw:function(a){var c=this.Fc.Xa();this.RD(q.Wy(Math.atan2(a.y-(this.sc.y+0.5*c.height),a.x-(this.sc.x+0.5*c.width)))+180);this.gf(q.ri)},Pq:function(a){var c=Math.sqrt(Math.pow(a.x+10,2)+Math.pow(a.y,2));return 80>c&&59<c?(this.rw(a),!0):!1},lb:function(a){if(!this.isEnabled()||
!this.ka)return!1;a=this.bj(a);return this.Pq(a)},qd:function(a){a=this.bj(a);this.Pq(a)}});q.Ay.create=function(a,c){var d=new q.Ay;d.VC(a,c);return d};q.JE=q.Tb.extend({bh:null,Kk:null,qm:null,Fc:null,TT:function(a){this.bh.ye=a.Jo;a=q.Xd.Yy(this.bh);q.Tb.prototype.l.call(this,q.xw(0|255*a.p,0|255*a.o,0|255*a.g));this.gf(q.ri);this.LQ()},GR:function(a){this.bh.ni=a.jB;this.bh.ma=a.Pu;a=q.Xd.Yy(this.bh);q.Tb.prototype.l.call(this,q.xw(0|255*a.p,0|255*a.o,0|255*a.g));this.gf(q.ri)},l:function(a){q.Tb.prototype.l.call(this,a);var c=new q.RGBA;c.p=a.p/255;c.o=a.o/255;c.g=a.g/255;c.I=1;this.bh=q.Xd.sM(c);this.pH()},wI:function(){return this.Fc},r:function(){if(q.Tb.prototype.r.call(this)){this.Xb(!0);
q.pg.e().HH(aa.xE);var a=q.ub.create(aa.yE);this.f(a);this.bh=new q.Jy(0,0,0);this.Fc=q.Xd.Wm("menuColourPanelBackground.png",a,q.tj(),q.a(0.5,0.5));var c=q.Bd(this.Fc.q,q.a(this.Fc.c().width/2,this.Fc.c().height/2));this.qm=q.Ay.create(a,q.a(c.x+8,c.y+8));this.Kk=q.By.create(a,q.a(c.x+28,c.y+28));this.qm.IH(this,this.TT,q.ri);this.Kk.IH(this,this.GR,q.ri);this.pH();this.f(this.qm);this.f(this.Kk);this.V(this.Fc.c());return!0}return!1},LQ:function(){this.qm.RD(this.bh.ye);this.Kk.JL(this.bh)},pH:function(){this.qm.RD(this.bh.ye);
this.Kk.JL(this.bh);this.Kk.tY(this.bh)},Hf:function(a){q.Tb.prototype.Hf.call(this,a);null!=this.qm&&this.qm.Hf(a);this.Kk&&this.Kk.Hf(a)},lb:function(){return!1}});q.JE.create=function(){var a=new q.JE;a.r();return a};aa=aa||{};aa.xE=aa.xE||"res/extensions/CCControlColourPickerSpriteSheet.plist";aa.yE=aa.yE||"res/extensions/CCControlColourPickerSpriteSheet.png";q.qF=24;q.Z_=8;
q.LE=q.Tb.extend({Uc:0,fb:0,Eb:0,Fv:0,Dv:0,Fb:null,$k:null,Zd:null,LI:function(){return this.Uc},hf:function(a){a=Math.max(a,this.fb);this.Uc=a=Math.min(a,this.Eb);this.ad();this.gf(q.ri)},WS:function(){return this.fb},NK:function(a){this.Fv=this.fb=a;this.fb>=this.Eb&&(this.Eb=this.fb+1);this.hf(this.Uc)},VS:function(){return this.Eb},LK:function(a){this.Dv=this.Eb=a;this.Eb<=this.fb&&(this.fb=this.Eb-1);this.hf(this.Uc)},hi:function(a){a=a.J;a=this.getParent().Da(a);var c=this.Xa();c.bb.width+=
this.Fb.c().width;c.kd.x-=this.Fb.c().width/2;return q.ab(c,a)},gn:function(a){a=a.J;a=this.Da(a);0>a.x?a.x=0:a.x>this.Zd.c().width&&(a.x=this.Zd.c().width);return a},r5:function(){return this.Fv},gba:function(a){this.Fv=a},o5:function(){return this.Dv},fba:function(a){this.Dv=a},II:function(){return this.Fb},Y5:function(){return this.$k},U3:function(){return this.Zd},aU:function(a,c,d){return q.Tb.prototype.r.call(this)?(this.cj(!1),this.Xb(!0),this.Zd=a,this.$k=c,this.Fb=d,a=q.Xd.zE(a.Xa(),d.Xa()),
this.V(a.width,a.height),this.Zd.L(0.5,0.5),this.Zd.n(a.width/2,a.height/2),this.f(this.Zd),this.$k.L(0,0.5),this.$k.n(0,a.height/2),this.f(this.$k),this.Fb.n(0,a.height/2),this.f(this.Fb),this.fb=0,this.Eb=1,this.hf(this.fb),!0):!1},Hf:function(a){q.Tb.prototype.Hf.call(this,a);this.Fb&&this.Fb.ia(a?255:128)},aY:function(a){this.dq(!0);this.Fb.l(q.Gp());this.hf(this.pE(a))},cY:function(a){this.hf(this.pE(a))},bY:function(){this.Zo&&this.hf(this.pE(this.Fb.q));this.Fb.l(q.yb());this.dq(!1)},U6:function(a){a=
a.J;a=this.Da(a);0>a.x?a.x=0:a.x>this.Zd.c().width+q.qF&&(a.x=this.Zd.c().width+q.qF);return a},lb:function(a){if(!this.hi(a)||!this.isEnabled()||!this.ka)return!1;a=this.gn(a);this.aY(a);return!0},qd:function(a){a=this.gn(a);this.cY(a)},Ff:function(){this.bY(q.tj())},ad:function(){this.Fb.ib((this.Uc-this.fb)/(this.Eb-this.fb)*this.Zd.c().width);var a=this.$k.EC(),a=q.rect(a.x,a.y,this.Fb.q.F,a.height);this.$k.Sb(a,this.$k.Yc,a.bb)},pE:function(a){a=a.x/this.Zd.c().width;return Math.max(Math.min(this.fb+
a*(this.Eb-this.fb),this.Dv),this.Fv)}});q.LE.create=function(a,c,d){"string"==typeof a&&(a=q.A.create(a),c=q.A.create(c),d=q.A.create(d));var e=new q.LE;e.aU(a,c,d);return e};q.NE=q.Tb.extend({Zc:null,nG:0,Dr:!1,Vo:!1,ctor:function(){q.Tb.prototype.ctor.call(this)},SC:function(a,c,d,e,f,g){if(!a)throw"cc.ControlSwitch.initWithMaskSprite(): maskSprite should be non-null.";if(!c)throw"cc.ControlSwitch.initWithMaskSprite(): onSprite should be non-null.";if(!d)throw"cc.ControlSwitch.initWithMaskSprite(): offSprite should be non-null.";if(!e)throw"cc.ControlSwitch.initWithMaskSprite(): thumbSprite should be non-null.";return this.r()?(this.Xb(!0),this.Vo=!0,this.Zc=new q.aM,
this.Zc.SC(a,c,d,e,f,g),this.Zc.n(this.Zc.c().width/2,this.Zc.c().height/2),this.f(this.Zc),this.cj(!1),this.L(0.5,0.5),this.V(this.Zc.c()),!0):!1},Mx:function(a,c){var d=(this.Vo=a)?this.Zc.Wk:this.Zc.um;c?this.Zc.Bx(q.Sn.create(0.2,"sliderXPosition",this.Zc.Uj,d)):this.Zc.TD(d);this.gf(q.ri)},i8:function(){return this.Vo},r7:function(){return this.Dr},Hf:function(a){this.fr=a;this.Zc.ia(a?255:128)},gn:function(a){a=a.J;return a=this.Da(a)},lb:function(a){if(!this.hi(a)||!this.isEnabled()||!this.ka)return!1;
this.Dr=!1;this.nG=this.gn(a).x-this.Zc.Uj;this.Zc.Fb.l(q.Gp());this.Zc.ad();return!0},qd:function(a){a=this.gn(a);a=q.a(a.x-this.nG,0);this.Dr=!0;this.Zc.TD(a.x)},Ff:function(a){a=this.gn(a);this.Zc.Fb.l(q.yb());this.Dr?this.Mx(!(a.x<this.Zc.c().width/2),!0):this.Mx(!this.Vo,!0)},lk:function(a){a=this.gn(a);this.Zc.Fb.l(q.yb());this.Dr?this.Mx(!(a.x<this.Zc.c().width/2),!0):this.Mx(!this.Vo,!0)}});q.NE.create=function(a,c,d,e,f,g){var h=new q.NE;return h&&h.SC(a,c,d,e,f,g)?h:null};
q.aM=q.A.extend({Uj:0,Wk:0,um:0,eH:0,HA:0,IA:null,gh:null,Mi:null,Fb:null,vm:null,tm:null,zo:null,nc:null,Nu:null,ctor:function(){q.A.prototype.ctor.call(this);this.HA=this.um=this.Wk=this.Uj=0;this.IA=q.size(0,0);this.tm=this.vm=this.Fb=this.Mi=this.gh=null},SC:function(a,c,d,e,f,g){return q.A.prototype.Ma.call(this,a.aa())?(this.Wk=0,this.um=-c.c().width+e.c().width/2,this.Uj=this.Wk,this.nX(c),this.lX(d),this.VD(e),this.mX(f),this.kX(g),this.nc=a,a=this.IA=this.nc.c(),this.nc.n(0,0),this.zo=q.ob.create(),
this.zo.L(0.5,0.5),this.zo.n(a.width/2,a.height/2),this.zo.UD(this.nc),this.Nu=q.Ab.create(a.width,a.height),this.zo.f(this.Nu.pb),this.f(this.zo),this.f(this.Fb),this.ad(),!0):!1},ad:function(){this.gh.n(this.gh.c().width/2+this.Uj,this.gh.c().height/2);this.Mi.n(this.gh.c().width+this.Mi.c().width/2+this.Uj,this.Mi.c().height/2);this.vm&&this.vm.n(this.gh.q.x-this.Fb.c().width/6,this.gh.c().height/2);this.tm&&this.tm.n(this.Mi.q.x+this.Fb.c().width/6,this.Mi.c().height/2);this.Fb.n(this.gh.c().width+
this.Uj,this.IA.height/2);this.Nu.bk();this.gh.ra();this.Mi.ra();this.vm&&this.vm.ra();this.tm&&this.tm.ra();this.Nu.end()},TD:function(a){a<=this.um?a=this.um:a>=this.Wk&&(a=this.Wk);this.Uj=a;this.ad()},x6:function(){return this.Uj},B9:function(){return this.gh.c().width},z9:function(){return this.Mi.c().height},nE:function(a,c){q.log("key \x3d "+c+", value \x3d "+a);this.TD(a)},pba:function(a){this.Wk=a},I5:function(){return this.Wk},mba:function(a){this.um=a},C5:function(){return this.um},dba:function(a){this.nc.fa(a)},
i5:function(){return this.nc.aa()},$ba:function(a){this.eH=a},K6:function(){return this.eH},cba:function(a){this.HA=a},h5:function(){return this.HA},nX:function(a){this.gh=a},J5:function(){return this.gh},lX:function(a){this.Mi=a},D5:function(){return this.Mi},VD:function(a){this.Fb=a},II:function(){return this.Fb},mX:function(a){this.vm=a},H5:function(){return this.vm},kX:function(a){this.tm=a},B5:function(){return this.tm}});q.GE=0;q.HE=1;q.zt=2;q.nq=q.k(55,55,55);q.wy=q.k(147,147,147);q.FE="CourierNewPSMT";q.vE=0.15;q.PL=12;
q.ME=q.Tb.extend({Ld:null,tf:null,Vk:null,Yk:null,Uc:0,Sq:!1,lo:!1,Sm:!1,fb:0,Eb:0,Hm:0,fs:!1,Nm:q.zt,Lq:0,ctor:function(){q.Tb.prototype.ctor.call(this);this.Yk=this.Vk=this.tf=this.Ld=null;this.Uc=0;this.Sm=this.lo=this.Sq=!1;this.Hm=this.Eb=this.fb=0;this.fs=!1;this.Nm=q.zt;this.Lq=0},YT:function(a,c){if(!a)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Minus sprite should be non-null.";if(!c)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Plus sprite should be non-null.";
if(this.r()){this.Xb(!0);this.Sq=this.lo=!0;this.fb=0;this.Eb=100;this.Uc=0;this.Hm=1;this.Sm=!1;this.cj(!1);this.gX(a);this.Ld.n(a.c().width/2,a.c().height/2);this.f(this.Ld);this.fX(q.S.create("-",q.FE,40,q.size(40,40),q.wj,q.Du));this.Vk.l(q.wy);this.Vk.n(this.Ld.c().width/2,this.Ld.c().height/2);this.Ld.f(this.Vk);this.rX(c);this.tf.n(a.c().width+c.c().width/2,a.c().height/2);this.f(this.tf);this.qX(q.S.create("+",q.FE,40,q.size(40,40),q.wj,q.Du));this.Yk.l(q.nq);this.Yk.n(this.tf.c().width/2,
this.tf.c().height/2);this.tf.f(this.Yk);var d=q.Xd.zE(this.Ld.Xa(),this.tf.Xa());this.V(this.Ld.c().width+this.tf.c().height,d.bb.height);return!0}return!1},oca:function(a){if(this.Sm=a)this.Vk.l(q.nq),this.Yk.l(q.nq);this.hf(this.Uc)},NK:function(a){if(a>=this.Eb)throw"cc.ControlStepper.setMinimumValue(): minimumValue should be numerically less than maximumValue.";this.fb=a;this.hf(this.Uc)},LK:function(a){if(a<=this.fb)throw"cc.ControlStepper.setMaximumValue(): maximumValue should be numerically less than maximumValue.";
this.Eb=a;this.hf(this.Uc)},hf:function(a){this.ZD(a,!0)},LI:function(){return this.Uc},Uba:function(a){if(0>=a)throw"cc.ControlStepper.setMaximumValue(): stepValue should be numerically greater than 0.";this.Hm=a},T7:function(){return this.Sq},ZD:function(a,c){a<this.fb?a=this.Sm?this.Eb:this.fb:a>this.Eb&&(a=this.Sm?this.fb:this.Eb);this.Uc=a;this.Sm||(this.Vk.l(a==this.fb?q.wy:q.nq),this.Yk.l(a==this.Eb?q.wy:q.nq));c&&this.gf(q.ri)},oL:function(){this.Lq=-1;this.fc(this.update,q.vE,q.$l,3*q.vE)},
qL:function(){this.cd(this.update)},update:function(){this.Lq++;this.Lq<q.PL&&0!=this.Lq%3||(this.Nm==q.GE?this.ZD(this.Uc-this.Hm,this.Sq):this.Nm==q.HE&&this.ZD(this.Uc+this.Hm,this.Sq))},BL:function(a){a.x<this.Ld.c().width&&this.Uc>this.fb?(this.Nm=q.GE,this.Ld.l(q.Gp()),this.tf.l(q.yb())):a.x>=this.Ld.c().width&&this.Uc<this.Eb?(this.Nm=q.HE,this.Ld.l(q.yb()),this.tf.l(q.Gp())):(this.Nm=q.zt,this.Ld.l(q.yb()),this.tf.l(q.yb()))},lb:function(a){if(!this.hi(a)||!this.isEnabled()||!this.ka)return!1;
a=this.bj(a);this.BL(a);this.fs=!0;this.lo&&this.oL();return!0},qd:function(a){this.hi(a)?(a=this.bj(a),this.BL(a),this.fs||(this.fs=!0,this.lo&&this.oL())):(this.fs=!1,this.Nm=q.zt,this.Ld.l(q.yb()),this.tf.l(q.yb()),this.lo&&this.qL())},Ff:function(a){this.Ld.l(q.yb());this.tf.l(q.yb());this.lo&&this.qL();this.hi(a)&&(a=this.bj(a),this.hf(this.Uc+(a.x<this.Ld.c().width?0-this.Hm:this.Hm)))},gX:function(a){this.Ld=a},t5:function(){return this.Ld},rX:function(a){this.tf=a},T5:function(){return this.tf},
fX:function(a){this.Vk=a},s5:function(){return this.Vk},qX:function(a){this.Yk=a},S5:function(){return this.Yk}});q.ME.create=function(a,c){var d=new q.ME;return d&&d.YT(a,c)?d:null};q.KE=q.Tb.extend({Fb:null,Xo:null,Wo:null,Uc:0,fb:0,Eb:1,dU:function(a,c,d){return this.r()?(this.Xb(!0),this.vX(c),this.VD(d),this.Fb.n(c.q),this.f(d,2),this.f(c,1),this.f(a),this.V(a.c()),this.fb=0,this.Eb=1,this.hf(this.fb),!0):!1},Hf:function(a){this.Hf(a);this.Fb!=NULL&&this.Fb.ia(a?255:128)},hf:function(a){a<this.fb&&(a=this.fb);a>this.Eb&&(a=this.Eb);this.Uc=a;a=(a-this.fb)/(this.Eb-this.fb);this.Xo.dt(100*a);this.Fb.Px(360*a);this.gf(q.ri)},LI:function(){return this.Uc},NK:function(a){this.fb=
a;this.fb>=this.Eb&&(this.Eb=this.fb+1);this.hf(this.Eb)},WS:function(){return this.fb},LK:function(a){this.Eb=a;this.Eb<=this.fb&&(this.fb=this.Eb-1);this.hf(this.fb)},VS:function(){return this.Eb},hi:function(a){a=this.bj(a);return this.kS(this.Xo.q,a)<Math.min(this.c().width/2,this.c().height/2)},lb:function(a){if(!this.hi(a)||!this.isEnabled()||!this.ka)return!1;this.Wo=this.bj(a);this.oV(this.Wo);return!0},qd:function(a){a=this.bj(a);this.qV(a)},Ff:function(){this.pV(q.a(0,0))},kS:function(a,
c){var d=a.x-c.x,e=a.y-c.y;return Math.sqrt(d*d+e*e)},iR:function(a,c,d,e){return 180*(Math.atan2(c.x-a.x,c.y-a.y)-Math.atan2(e.x-d.x,e.y-d.y))/Math.PI},oV:function(){this.dq(!0);this.Fb.l(q.Gp())},qV:function(a){var c=this.iR(this.Xo.q,a,this.Xo.q,this.Wo);180<c?c-=360:-180>c&&(c+=360);this.hf(this.Uc+c/360*(this.Eb-this.fb));this.Wo=a},pV:function(){this.Fb.l(q.yb());this.dq(!1)},VD:function(a){this.Fb=a},II:function(){return this.Fb},vX:function(a){this.Xo=a},Z5:function(){return this.Xo},Aba:function(a){this.Wo=
a},cT:function(){return this.Wo}});q.KE.create=function(a,c,d){var e=new q.KE;return e&&(a=q.A.create(a),d=q.A.create(d),c=q.Dc.create(q.A.create(c)),e.dU(a,c,d))?e:null};q.oF=-1;q.ao=0;q.uq=1;q.nu=2;q.OR=function(a){var c=q.sa.e();return(c.wa+c.Ba)/2*a/160};q.kN=q.Ea.extend({rW:function(){},sW:function(){}});
q.Gh=q.Rc.extend({x1:0,h1:0,f1:0,Vb:null,Fi:q.nu,Hi:!1,uO:null,Qa:null,oh:!1,Bv:null,Ev:null,Nq:!1,Qq:!1,Lr:null,kp:null,gs:0,ph:null,Yh:null,CG:0,AG:0,Fr:null,kB:!1,fH:null,ctor:function(){q.Rc.prototype.ctor.call(this);this.uO=new q.Wg(0,0);this.Bv=new q.Wg(0,0);this.Ev=new q.Wg(0,0);this.Lr=new q.Wg(0,0);this.kp=new q.Wg(0,0);this.ph=[];this.Yh=new q.Ck(0,0);this.Fr=new q.og(0,0,0,0);this.fH=new q.og(0,0,0,0)},r:function(){return this.Lp(q.size(200,200),null)},xx:function(){q.xD(this.hl,!1,this)},
Lp:function(a,c){var d=q.a(0,0);return q.Rc.prototype.r.call(this)?(this.Qa=c,this.Qa||(this.Qa=q.Rc.create(),this.Qa.cj(!1),this.Qa.L(d)),this.aL(a),this.Xb(!0),this.ph.length=0,this.Vb=null,this.Qq=this.Nq=!0,this.Fi=q.nu,this.Qa.n(d),this.gs=0,this.f(this.Qa),this.CG=this.AG=1,!0):!1},Hl:function(a,c){if(c)this.JW(a,0.15);else{if(!this.Nq){var d=this.hn(),e=this.Rs();a.x=Math.max(d.x,Math.min(e.x,a.x));a.y=Math.max(d.y,Math.min(e.y,a.y))}this.Qa.n(a)}},yI:function(){var a=this.Qa.q;return q.a(a.x,
a.y)},JW:function(a,c){var d=q.eu.create(c,a),e=q.oq.create(this.zQ,this);this.Qa.Bx(q.uj.create(d,e));this.fc(this.PA)},fL:function(a,c){if(c)this.NX(a,0.15);else{var d=this.Qa;if(d.AC()!=a){var e,f;0==this.gs?(f=this.Yh,f=q.a(0.5*f.width,0.5*f.height),f=this.ll(f)):f=this.kp;e=d.Da(f);d.rk(Math.max(this.CG,Math.min(this.AG,a)));e=d.ll(e);f=q.Bd(f,e);this.Hl(q.dg(d.q,f))}}},NI:function(){return this.Qa.AC()},NX:function(a,c){if(0<c){var d=this.Qa.AC();d!=a&&(d=q.Sn.create(c,"zoomScale",d,a),this.Bx(d))}else this.fL(a)},
hn:function(){var a=this.Qa,c=a.c(),d=this.Yh;return q.a(d.width-c.width*a.wa,d.height-c.height*a.Ba)},Rs:function(){return q.a(0,0)},h8:function(a){var c=this.yI(),d=this.Yh,e=this.NI(),c=q.rect(-c.x/e,-c.y/e,d.width/e,d.height/e);return q.CV(c,a.Xa())},pause:function(){this.Qa.px();for(var a=this.Qa.t,c=0;c<a.length;c++)a[c].px()},kK:function(){for(var a=this.Qa.t,c=0,d=a.length;c<d;c++)a[c].Ax();this.Qa.Ax()},W7:function(){return this.Hi},z8:function(){return this.oh},P7:function(){return this.Nq},
DW:function(a){this.Nq=a},g7:function(){return this.Yh},aL:function(a){this.Yh=a;q.D.prototype.V.call(this,a)},o4:function(){return this.Qa},HW:function(a){a&&(this.pc(!0),this.Qa=a,a.cj(!1),a.L(0,0),this.f(a),this.aL(this.Yh))},C4:function(){return this.Fi},AK:function(a){this.Fi=a},ec:function(){return this.Vb},Bh:function(a){this.Vb=a},lb:function(a){if(!this.ka)return!1;var c=this.wA(),d=this.Qa,e=d.ll(d.$h(a)),f=this.ph;if(2<f.length||this.oh||!q.ab(c,e))return!1;f.push(a);1===f.length?(this.kp=
this.$h(a),this.oh=!1,this.Hi=!0,this.Lr.x=0,this.gs=this.Lr.y=0):2==f.length&&(this.kp=q.oD(this.$h(f[0]),this.$h(f[1])),this.gs=q.lD(d.$h(f[0]),d.$h(f[1])),this.Hi=!1);return!0},qd:function(a){if(this.ka)if(1===this.ph.length&&this.Hi){this.oh=!0;var c=this.wA(),d=this.$h(a);a=q.Bd(d,this.kp);var e=0,f=this.Fi,e=f===q.uq?a.y:f===q.ao?a.x:Math.sqrt(a.x*a.x+a.y*a.y);if(this.oh||!(0.04375>Math.abs(q.OR(e))))if(this.oh||(a.x=0,a.y=0),this.kp=d,this.oh=!0,q.ab(c,this.ll(d))){switch(f){case q.uq:a.x=
0;break;case q.ao:a.y=0}d=this.Qa.q;c=d.x+a.x;d=d.y+a.y;this.Lr=a;this.Hl(q.a(c,d))}}else 2!==this.ph.length||this.Hi||(a=q.lD(this.Qa.$h(this.ph[0]),this.Qa.$h(this.ph[1])),this.fL(this.NI()*a/this.gs))},Ff:function(){this.ka&&(1==this.ph.length&&this.oh&&this.fc(this.Wz),this.ph.length=0,this.oh=this.Hi=!1)},lk:function(){this.ka&&(this.ph.length=0,this.oh=this.Hi=!1)},V:function(a,c){null!=this.Qa&&(2===arguments.length?this.Qa.V(a,c):this.Qa.V(a),this.uY())},c:function(){return this.Qa.c()},uY:function(){if(null!=
this.Qa){var a=this.Yh,c=this.Rs();this.Bv.x=c.x+0.2*a.width;this.Bv.y=c.y+0.2*a.height;c=this.hn();this.Ev.x=c.x-0.2*a.width;this.Ev.y=c.y-0.2*a.height}},R7:function(){return this.Qq},xaa:function(a){this.Qq=a},ra:function(a){if(this.ka){a=a||q.W;var c,d=this.t,e,f;if(q.Dd===q.lg){a.save();this.transform(a);this.RF(a);if(d&&0<d.length){f=d.length;this.Sd();for(c=0;c<f;c++)if((e=d[c])&&0>e.eb)e.ra(a);else break;for(this.Va(a);c<f;c++)d[c].ra(a)}else this.Va(a);this.PF();a.restore()}else{q.Qp();var g=
this.Pk;g&&g.Mp()&&(g.bC(),this.iy());this.transform(a);this.RF(a);if(d&&0<d.length){f=d.length;for(c=0;c<f;c++)if((e=d[c])&&0>e.eb)e.ra();else break;for(this.Va(a);c<f;c++)d[c].ra()}else this.Va(a);this.PF(a);g&&g.Mp()&&g.YB(this);q.Pp()}}},f:function(a,c,d){if(!a)throw Error("child must not nil!");c=c||a.eb;d=d||a.od;a.cj(!1);a.L(0,0);this.Qa!=a?this.Qa.f(a,c,d):q.Rc.prototype.f.call(this,a,c,d)},Xb:function(a){this._super(a);a||(this.oh=this.Hi=!1,this.ph.length=0)},b1:function(){return null},
BP:function(a){var c=this.hn(),d=this.Rs(),e=this.Fi,f=this.Qa.q,g=f.x,h=f.y;if(e===q.nu||e===q.ao)g=Math.max(g,c.x),g=Math.min(g,d.x);if(e==q.nu||e==q.uq)h=Math.min(h,d.y),h=Math.max(h,c.y);h==f.y&&g==f.x||this.Hl(q.a(g,h),a)},Wz:function(){if(this.Hi)this.cd(this.Wz);else{var a,c;a=this.Qa.q;var d=this.Lr;this.Qa.n(a.x+d.x,a.y+d.y);this.Nq?(a=this.Bv,c=this.Ev):(a=this.Rs(),c=this.hn());var e=this.Qa.q.F,f=this.Qa.q.H;d.x*=0.95;d.y*=0.95;this.Hl(q.a(e,f));if(1>=Math.abs(d.x)&&1>=Math.abs(d.y)||
f>a.y||f<c.y||e>a.x||e<c.x||e==a.x||e==c.x||f==a.y||f==c.y)this.cd(this.Wz),this.BP(!0)}},PA:function(){this.Hi&&this.cd(this.PA)},zQ:function(){this.cd(this.PA)},RF:function(a){if(this.Qq){this.kB=!1;var c=this.wA(),d=q.sa.e(),e=this.wa,f=this.Ba;a=a||q.W;if(q.Dd===q.lg)c=this.Yh.width*e*d.wa,d=this.Yh.height*f*d.Ba,a.beginPath(),a.rect(0,0,c,-d),a.clip(),a.closePath();else if(d=q.sa.e(),d.oU()){if(this.kB=!0,this.Fr=d.jT(),q.BV(c,this.Fr)){var g=this.Fr;a=Math.max(c.x,g.x);f=Math.max(c.y,g.y);e=
Math.min(c.x+c.width,g.x+g.width);c=Math.min(c.y+c.height,g.y+g.height);d.SD(a,f,e-a,c-f)}}else a.enable(a.SCISSOR_TEST),d.SD(c.x,c.y,c.width,c.height)}},PF:function(a){this.Qq&&q.Dd===q.Dk&&(this.kB?(a=this.Fr,q.sa.e().SD(a.x,a.y,a.width,a.height)):(a=a||q.W,a.disable(a.SCISSOR_TEST)))},$0:function(){},wA:function(){for(var a=this.ll(q.tj()),c=this.Yh,d=this.wa,e=this.Ba,f=this.X;null!=f;f=f.getParent())d*=f.wa,e*=f.Ba;0>d&&(a.x+=c.width*d,d=-d);0>e&&(a.y+=c.height*e,e=-e);f=this.fH;f.x=a.x;f.y=
a.y;f.width=c.width*d;f.height=c.height*e;return f}});q.Gh.create=function(a,c){var d=new q.Gh;if(2==arguments.length){if(d&&d.Lp(a,c))return d}else if(d&&d.r())return d;return null};q.lN=q.Ea.extend({Lx:function(){},ei:function(){return 0}});q.mN=q.lN.extend({KA:0,ctor:function(){this.KA=0},Lx:function(a){this.KA=a},ei:function(){return this.KA}});function fa(a,c){return a.ei()-c.ei()}
q.sy=q.Ea.extend({kh:null,ctor:function(){this.kh=[]},fJ:function(a){if(!a)throw"cc.ArrayForObjectSorting.insertSortedObject(): addObject should be non-null.";this.gU(a,this.Kp(a))},ZV:function(a){if(0!=this.count()){var c=this.Kp(a);c<this.count()&&c!=q.ti&&this.ln(c).ei()==a.ei()&&this.DD(c)}},lba:function(a,c){var d=this.Kp(c);if(d<this.count()&&d!=q.ti){var e=this.ln(d);e.ei()==c.ei()&&(this.DD(d),e.Lx(a),this.fJ(e))}},FJ:function(a){if(0==this.count())return null;var c=new q.mN;c.Lx(a);var d=
this.Kp(c);d<this.count()&&d!=q.ti&&(c=this.ln(d),c.ei()!=a&&(c=null));return c},A5:function(){return null},Kp:function(a){var c=0;if(a){var d=0;a=a.ei();for(var e=this.kh,f=0;f<e.length;f++){var g=e[f].ei();if(a==g||a>=d&&a<g)break;d=g;c++}}else c=q.ti;return c},count:function(){return this.kh.length},R8:function(){var a=this.kh;return 0==a.length?null:a[a.length-1]},ln:function(a){return this.kh[a]},GH:function(a){this.kh.push(a);this.kh.sort(fa)},DD:function(a){q.mq(this.kh,a);this.kh.sort(fa)},
gU:function(a,c){this.kh=q.Ul(this.kh,a,c);this.kh.sort(fa)}});q.sF=0;q.oN=1;q.h0=q.D.extend({Mj:0,X4:function(){return this.Mj},ZW:function(a){this.Mj=a},reset:function(){this.Mj=q.ti},Lx:function(a){this.Mj=a},ei:function(){return this.Mj}});q.j0=q.kN.extend({Yca:function(){},Xca:function(){},Zca:function(){},$ca:function(){}});q.i0=q.Ea.extend({lY:function(a){return this.tR(a)},tR:function(){return q.hN},Wca:function(){return null},w9:function(){return 0}});
q.BF=q.Gh.extend({mp:null,ud:null,uo:null,Vz:null,EB:null,Iv:null,Ru:null,Xj:null,ctor:function(){q.Gh.prototype.ctor.call(this);this.Iv=q.oF;this.Ru=[]},HN:function(a){var c=0,d=-1;switch(this.Fi){case q.ao:a=a.x;break;default:a=a.y}for(var e=this.Ru;d>=c;){var f=0|c+(d-c)/2,g=e[f],h=e[f+1];if(a>=g&&a<=h)return f;a<g?d=f-1:c=f+1}return 0>=c?0:-1},NO:function(a){a={x:a.x,y:a.y};this.mp===q.sF&&(a.y=this.Qa.c().height-a.y);a=this.HN(a);-1!=a&&(a=Math.max(0,a),-1<a&&(a=q.ti));return a},KN:function(a){switch(this.Fi){case q.ao:a=
q.a(this.Ru[a],0);break;default:a=q.a(0,this.Ru[a])}return a},qP:function(a){var c=this.KN(a);a=this.Vz.lY(this,a);this.mp===q.sF&&(c.y=this.Qa.c().height-c.y-a.height);return c},u1:function(){},IB:function(){var a=q.am();this.V(a);this.Iv!=this.Fi&&(this.Fi==q.ao?this.Hl(q.a(0,0)):this.Hl(q.a(0,this.hn().y)),this.Iv=this.Fi)},DG:function(a){this.uo.GH(a);this.Jk.ZV(a);q.Ud(this.ud,a.Mj);a.reset();a.getParent()==this.Qa&&this.Qa.removeChild(a,!0)},Tv:function(a,c){c.L(0,0);c.n(this.qP(a));c.ZW(a)},
NF:function(a){a.getParent()!=this.Qa&&this.Qa.f(a);this.Jk.fJ(a);var c=this.ud;a=a.Mj;-1==c.indexOf(a)&&(c.push(a),c.sort(function(a,c){return a-c}))},u4:function(){return this.Vz},NW:function(a){this.Vz=a},ec:function(){return this.EB},Bh:function(a){this.EB=a},lca:function(a){this.mp!=a&&(this.mp=a,0<this.Jk.count()&&this.CD())},d7:function(){return this.mp},Lp:function(a,c){return q.Gh.prototype.Lp.call(this,a,c)?(this.Jk=new q.sy,this.uo=new q.sy,this.ud=[],this.EB=null,this.mp=q.oN,this.AK(q.uq),
q.Gh.prototype.Bh.call(this,this),!0):!1},sda:function(a){if(!(a==q.ti||-1<a)){var c=this.eC(a);c&&this.DG(c);c=null;this.Tv(a,c);this.NF(c)}},F7:function(a){if(!(a==q.ti||-1<a)){var c,d=this.Jk;if(c=d.FJ(a))for(var e=c=d.Kp(c);e<d.count();e++)c=d.ln(e),this.Tv(c.Mj+1,c);c=null;this.Tv(a,c);this.NF(c);this.IB()}},J$:function(a){if(!(a==q.ti||-1<a)){var c=this.eC(a);if(c){var d=this.Jk,e=d.Kp(c);this.DG(c);q.Ud(this.ud,a);for(a=d.count()-1;a>e;a--)c=d.ln(a),this.Tv(c.Mj-1,c)}}},CD:function(){this.Iv=
q.oF;for(var a=this.Jk,c=this.uo,d=this.Qa,e=0,f=a.count();e<f;e++){var g=a.ln(e);c.GH(g);g.reset();g.getParent()==d&&d.removeChild(g,!0)}this.ud=[];this.Jk=new q.sy;this.IB()},T2:function(){if(0===this.uo.count())return null;var a=this.uo.ln(0);this.uo.DD(0);return a},eC:function(a){return-1==this.ud.indexOf(a)?null:this.Jk.FJ(a)},rW:function(){},sW:function(){},Ff:function(a,c){if(this.ka){if(this.Xj){var d=this.Xa();d.kd=this.X.ll(d.origin);this.Xj=null}q.Gh.prototype.Ff.call(this,a,c)}},lb:function(a,
c){if(!this.ka)return!1;var d=q.Gh.prototype.lb.call(this,a,c);if(1===this.ph.length){var e;e=this.Qa.$h(a);e=this.NO(e);this.Xj=e===q.ti?null:this.eC(e)}else this.Xj&&(this.Xj=null);return d},qd:function(a,c){q.Gh.prototype.qd.call(this,a,c);this.Xj&&this.oh&&(this.Xj=null)},lk:function(a,c){q.Gh.prototype.lk.call(this,a,c);this.Xj&&(this.Xj=null)}});q.BF.create=function(a,c,d){var e=new q.BF;e.Lp(c,d);e.NW(a);e.IB();return e};q.ic={};q.ic.DH=function(a){for(var c in q.ic.gD)a[c]=q.ic.gD[c]};
q.ic.gD={n:function(a,c){2==arguments.length?(this.q.F=a,this.q.H=c):(this.q.F=a.x,this.q.H=a.y);this.Wa();this.la.jE(this.q.F,-this.q.H)},bd:function(a){this.q.H=a;this.Wa();this.la.jE(this.q.F,-this.q.H)},ib:function(a){this.q.F=a;this.Wa();this.la.jE(this.q.F,-this.q.H)},rk:function(a,c){this.wa=a;this.Ba=c||a;this.Wa();this.la.resize(this.wa,this.Ba)},cq:function(a){this.wa=a;this.Wa();this.la.resize(this.wa,this.Ba)},En:function(a){this.Ba=a;this.Wa();this.la.resize(this.wa,this.Ba)},L:function(a,
c){var d=this.Ih;if(2===arguments.length){if(a===d.F&&c===d.H)return;d.F=a;d.H=c}else{if(a.x===d.F&&a.y===d.H)return;d.F=a.x;d.H=a.y}var e=this.Jd,f=this.va;e.F=f.Ha*d.F;e.H=f.ta*d.H;this.la.style[q.Nb.Yp+"TransformOrigin"]=""+e.F+"px "+-e.H+"px";this.Sk?(this.la.style.marginLeft=0,this.la.style.marginBottom=0):(this.la.style.marginLeft=this.x8?0:-e.F+"px",this.la.style.marginBottom=-e.H+"px");this.Wa()},V:function(a,c){var d=this.va;if(2===arguments.length){if(a===d.Ha&&c===d.ta)return;d.Ha=a;d.ta=
c}else{if(a.width===d.Ha&&a.height===d.ta)return;d.Ha=a.width;d.ta=a.height}var e=this.Jd,f=this.Ih;e.F=d.Ha*f.F;e.H=d.ta*f.H;this.la.width=d.Ha;this.la.height=d.ta;this.L(this.Ih);this.canvas&&(this.canvas.width=d.Ha,this.canvas.height=d.ta);this.Wa();this.DV()},Px:function(a){this.QP!=a&&(this.Ag=this.Rh=a,this.Am=Math.PI/180*this.Ag,this.Kr=Math.PI/180*this.Rh,this.Wa(),this.la.rotate(a))},Tx:function(a){this.ie=a;this.Wa();this.la.VK(this.ie,this.je)},Ux:function(a){this.je=a;this.Wa();this.la.VK(this.ie,
this.je)},v:function(a){this.ka=a;this.Wa();this.la&&(this.la.style.display=a?"block":"none")},Wv:function(a){this.eb=a;this.Wa();this.la&&(this.la.zIndex=a)},ct:function(a){this.X=a;null!==a&&(a.L(a.Ih),this.Wa(),q.ic.ox(this))},Ax:function(){this.Bf().yn(this);this.Gg().yn(this);this.la&&!this.la.parentNode&&(this.getParent()?q.ic.ox(this):this.la.Xm(q.dk));this.la&&(this.la.style.visibility="visible")},px:function(){this.Bf().Vs(this);this.Gg().Vs(this);this.la&&(this.la.style.visibility="hidden")},
Yf:function(){this.eE();this.mt();this.rg(this.t,q.D.Lf.Yf);this.la&&this.la.remove()},VV:function(){this.la.remove()},ia:function(a){this.Ni=a;this.la.style.opacity=a/255},DV:function(){if(this.bD){var a=this.t;this.t=[];q.A.prototype.ra.call(this,this.vp);this.t=a}else q.A.prototype.ra.call(this,this.vp)}};
q.ic.MP=function(){var a=q.Nb("#EGLViewDiv");if(a){var c=q.sa.e(),d=c.Bp(),e=c.$e,f=c.Nw(),g=d.width,h=d.height;0===d.width&&0===d.height&&(g=f.width,h=f.height);d=e.bb.width;0===e.bb.width&&0===e.bb.height&&(d=f.width);a.style.position="absolute";a.style.width=g+"px";a.style.maxHeight=h+"px";a.style.margin=0;a.resize(c.wa,c.Ba);a.style.left=(d-g)/2+"px";a.style.bottom="0px"}};
q.ic.ox=function(a){var c=a.getParent();if(c&&a.la)if(c.la||(q.ic.jV(c),c.ct=q.ic.gD.ct),a.la.Xm(c.la),c.L(c.Ih),c.getParent())q.ic.ox(c);else if(c.Te)if(a=q.Nb("#EGLViewDiv"))c.la.Xm(a);else{a=q.wk("div");a.id="EGLViewDiv";var d=q.sa.e(),e=d.Bp(),f=d.$e,g=d.Nw(),h=e.width,k=e.height;0===e.width&&0===e.height&&(h=g.width,k=g.height);e=f.bb.width;0===f.bb.width&&0===f.bb.height&&(e=g.width);a.style.position="absolute";a.style.width=h+"px";a.style.maxHeight=k+"px";a.style.margin=0;a.resize(d.wa,d.Ba);
a.style.left=(e-h)/2+"px";a.style.bottom="0px";c.la.Xm(a);a.Xm(q.dk)}};q.ic.setTransform=function(a){if(a.vp)if(a.vp.translate(a.Jd.x,a.Jd.y),a.bD){var c=a.t;a.t=[];q.A.prototype.ra.call(a,a.vp);a.t=c}else q.A.prototype.ra.call(a,a.vp);a.la&&(a.la.position.x=a.q.x,a.la.position.y=-a.q.y,a.la.rotation=a.gT(),a.la.scale={x:a.wa,y:a.Ba},a.la.Kl={x:a.ie,y:a.je},a.L&&a.L(a.Ih),a.la.Mn())};
q.ic.CS=function(a){a.la=q.wk("div");a.canvas=q.wk("canvas");var c=a.c();a.canvas.width=c.width;a.canvas.height=c.height;a.la.style.position="absolute";a.la.style.bottom=0;a.vp=a.canvas.getContext("2d");a.la.appendChild(a.canvas);a.getParent()&&q.ic.ox(a);a.bD=!0};
q.ic.jV=function(a){a.la=q.wk("div");a.placeholder=!0;a.la.style.position="absolute";a.la.style.bottom=0;a.la.style.width=(a.c().width||q.Y.e().Qb.width)+"px";a.la.style.maxHeight=(a.c().height||q.Y.e().Qb.height)+"px";a.la.style.margin=0;q.ic.setTransform(a);a.la.Mn();q.ic.DH(a)};
q.ic.jC=function(a){if(1<arguments.length)q.ic.jC(arguments);else if(1!=arguments.length||arguments[0].length)for(var c=arguments[0],d=0;d<c.length;d++)c[d]instanceof q.A?c[d].la||q.ic.CS(c[d]):q.log("DOM converter only supports sprite and menuitems yet"),q.ic.DH(c[d]),c[d].ra=function(){},c[d].transform=function(){},q.ic.setTransform(c[d]),c[d].v(c[d].ka);else q.ic.jC([arguments[0]])};q.yM=0;q.WZ=1;q.ZZ=2;q.YZ=3;q.XZ=4;q.nM=0;q.AZ=1;q.BZ=2;q.CZ=3;q.EZ=4;q.zZ=5;q.DZ=6;q.lM=0;q.mM=1;q.yZ=2;q.xZ=3;q.wZ=4;q.HZ=q.Ea.extend({Hw:function(){},Iw:function(){},Jw:function(){},h3:function(){}});
q.sq=q.Xl.extend({Gi:null,Vb:null,CO:q.nM,BO:q.mM,dP:q.yM,q1:"",Pi:"",ew:null,Gr:null,yG:50,UN:18,$a:null,cr:14,hA:"Arial",iA:!1,QA:"",Lv:14,r1:!1,ctor:function(a,c){q.Xl.prototype.ctor.call(this);this.iA=!1;this.ew=q.yb();this.Gr=q.Gp();this.V(a);this.Gi=new q.A;this.Gi.Va=function(){};this.f(this.Gi);var d=this;c?(this.$a=document.createElement("textarea"),this.$a.style.resize="none",this.iA=!0):this.$a=document.createElement("input");this.$a.type="text";this.$a.style.fontSize=this.cr+"px";this.$a.style.color=
"#000000";this.$a.style.border=0;this.$a.style.background="transparent";this.$a.style.width="100%";this.$a.style.height="100%";this.$a.style.y1=0;this.$a.style.outline="medium";this.$a.addEventListener("input",function(){d.Vb&&d.Vb.Jw&&d.Vb.Jw(d,this.value)});this.$a.addEventListener("keyup",function(a){a.keyCode===q.xM.wS&&!1==d.iA&&(a.stopPropagation(),a.preventDefault(),q.canvas.focus())});this.$a.addEventListener("focus",function(){this.value==d.Pi&&(this.value="",this.style.fontSize=d.cr+"px",
this.style.color=q.kl(d.ew));d.Vb&&d.Vb.Hw&&d.Vb.Hw(d)});this.$a.addEventListener("blur",function(){""==this.value&&(this.value=d.Pi,this.style.fontSize=d.Lv+"px",this.style.color=q.kl(d.Gr));d.Vb&&d.Vb.Iw&&d.Vb.Iw(d)});q.ic.jC(this.Gi);this.Gi.la.appendChild(this.$a);this.Gi.la.tca=!1;this.Gi.la.style.width=a.width-6+"px";this.Gi.la.style.height=a.height-6+"px";this.Gi.canvas.remove()},Laa:function(a,c){this.cr=c;this.hA=a;this.nB()},mca:function(){},WW:function(a){this.hA=a;this.nB()},FK:function(a){this.cr=
a;this.nB()},nB:function(){this.$a.value!=this.Pi&&(this.$a.style.fontFamily=this.hA,this.$a.style.fontSize=this.cr+"px")},Ge:function(a){null!=a&&(""==a?(this.$a.value=this.Pi,this.$a.style.color=q.kl(this.Gr)):(this.$a.value=a,this.$a.style.color=q.kl(this.ew)))},VW:function(a){this.ew=a;this.$a.value!=this.Pi&&(this.$a.style.color=q.kl(a))},eba:function(a){!isNaN(a)&&0<a&&(this.yG=a,this.$a.maxLength=a)},j5:function(){return this.yG},uba:function(a){if(null!=a){var c=this.Pi;this.Pi=a;this.$a.value==
c&&(this.$a.value=a,this.$a.style.color=q.kl(this.Gr),this.Uv())}},vba:function(a,c){this.QA=a;this.Lv=c;this.Uv()},xba:function(a){this.QA=a;this.Uv()},yba:function(a){this.Lv=a;this.Uv()},Uv:function(){this.$a.value==this.Pi&&(this.$a.style.fontFamily=this.QA,this.$a.style.fontSize=this.Lv+"px")},wba:function(a){this.Gr=a;this.$a.value==this.Pi&&(this.$a.style.color=q.kl(a))},Jx:function(a){this.BO=a;this.$a.type=a==q.lM?"password":"text"},U:function(){return this.$a.value},$T:function(a,c){return this.YI(c)?
(this.Gi.n(3,3),this.MX(!1),this.qk(a),this.n(0,0),this.OF(this,this.nY,q.CE),!0):!1},Bh:function(a){this.Vb=a},R5:function(){return this.Pi},Taa:function(a){this.CO=a},Mba:function(a){this.dP=a},L8:function(a){var c=q.sq.se(this);c.y-=4;c.J7(a.end)?this.UN=a.end.n5()-c.q5():q.log("needn't to adjust view layout.")},J8:function(){},K8:function(){},I8:function(){},nY:function(){},iC:function(a){a=a.toString(16);return 1==a.length?"0"+a:a},iW:function(a,c,d){return"#"+this.iC(a)+this.iC(c)+this.iC(d)},
tK:function(a){this.$a.style.background=this.iW(a.p,a.o,a.g)},A7:function(a,c){this.AO=a.width;this.la.style.width=this.AO.toString()+"px";this.zO=a.height;this.la.style.height=this.zO.toString()+"px";this.la.style.backgroundColor=q.kl(c)}});q.sq.se=function(a){var c=a.c(),c=q.rect(0,0,c.width,c.height);return q.Xg(c,a.Ss())};q.sq.create=function(a,c,d,e,f){d=new q.sq(a,d);c instanceof q.Cc?d.tK(c):d.$T(a,c)&&(e&&d.Ix(e,q.EE),f&&d.Ix(f,q.DE));return d};var t=[],ha=new XMLHttpRequest;ha.open("GET","config.txt",!1);ha.send(null);var la=ha.responseText,ma=la.split("\n")[0],pa=la.split("\n")[1];pa&&(ma+=":"+pa);var qa=io.connect(ma,{"sync disconnect on unload":!0,"connect timeout":5E3,"reconnection delay ":100});qa.on("connect",function(){v.Cy();v.nN();console.log("Client has connected to the server!");if(w){var a=w.e().pd;a?a.Fn(!0):t.push(JSON.stringify({connect:!0}))}else t.push(JSON.stringify({connect:!0}))});qa.on("message",function(a){reactToSocketMessage(a)});
reactToSocketMessage=function(a){a=JSON.parse(a);var c=!1,d;for(d in a){c=!0;break}if(!1!=c)if(console.log("Received a message from the server!",a),a.sync)a.mapdata&&v.CL(a.mapdata,a.maptime),a.warpdata&&v.my(a.warpdata,a.warptime),a.itemdata&&v.ot(a.itemdata,a.itemtime),a.skillsdata&&v.mE(a.skillsdata,a.skillstime),a.signsdata&&v.ly(a.signsdata,a.signstime),a.npcsdata&&v.DL(a.npcsdata,a.npcstime),a.questdata&&v.kE(a.questdata,a.queststime),a.settingsdata&&(v.lE(a.settingsdata,a.settingstime),y=sa(y,
a.settingsdata)),a.scriptsdata&&v.HL(a.scriptsdata,a.scriptstime),ta=!0;else if(c=w.e().pd)if(a.connect?c.Fn(!0):a.disconnect&&c.Fn(!1),"Game"==c.Nc())if(a.newPlayer)A.bR(a.newPlayer);else if(a.playerLeft)A.fi(a.playerLeft).cg==A.B.ba.cg&&(MapMaster=!1),A.bI(a.playerLeft);else if(a.changemap){for(c=0;c<t.length;c++)d=JSON.parse(t[c]),d.moveTo&&d.id==a.id&&(console.log("REMOVIN"),t.splice(c,1),c--);A.fi(a.id).cg==A.B.ba.cg&&(MapMaster=!1);A.xR(a.id,a.changemap);A.SJ(a.id,a.setTo)}else a.setTo?!A.fi(a.id)||
A.fi(a.id)&&!1==A.fi(a.id).Mg?A.SJ(a.id,a.setTo):t.push(JSON.stringify(a)):a.moveTo?!A.fi(a.id)||A.fi(a.id)&&!1==A.fi(a.id).Mg?A.HU(a.id,a.moveTo):t.push(JSON.stringify(a)):a.chatMessage?B.Mb(a.chatMessage):a.coinflip?B.Mb(a.coinflip):a.diceroll?B.Mb(a.diceroll):a.dance?B.Mb(a.dance):a.afk?A.yR(a.afk):a.savemap?(v.vR(a.savemap,a.mapdata,a.updatetime),F.QX(a.mapdata)):a.mapmaster?MapMaster=!0:a.savewarps?(v.ER(parseInt(a.savewarps),a.warpdata,a.updatetime),ObjectLists.cn()[parseInt(a.savewarps)]=a.warpdata,
Warpeditor&&(Warpeditor.Mc=ObjectLists.cn(),Warpeditor.oa())):a.savewarpswhole?(v.KV(a.savewarpswhole,a.updatetime),ObjectLists.LX(a.savewarpswhole)):a.savescripts?(v.AR(parseInt(a.savescripts),a.scriptsdata,a.updatetime),ObjectLists.$i()[parseInt(a.savescripts)]=a.scriptsdata,Scripteditor&&(Scripteditor.Mc=ObjectLists.$i(),Scripteditor.oa())):a.savescriptswhole?(v.HV(a.savescriptswhole,a.updatetime),ObjectLists.AX(a.savescriptswhole)):a.savesettings?(v.lE(a.savesettings,a.updatetime),y=sa(y,a.savesettings),
Settingseditor&&(Settingseditor.data=ua(y),Settingseditor.Hb())):a.savequests?(v.zR(parseInt(a.savequests),a.questdata,a.updatetime),ObjectLists.Bs()[parseInt(a.savequests)]=a.questdata,Questeditor&&(Questeditor.Mc=ObjectLists.Bs(),Questeditor.oa())):a.savequestswhole?(v.GV(a.savequestswhole,a.updatetime),ObjectLists.wX(a.savequestswhole)):a.saveskills?(v.CR(parseInt(a.saveskills),a.skillsdata,a.updatetime),ObjectLists.aj()[parseInt(a.saveskills)]=a.skillsdata,Skillseditor&&(Skillseditor.Mc=ObjectLists.aj(),
Skillseditor.oa()),G.update(),Skills&&Skills.hc()):a.saveskillswhole?(v.JV(a.saveskillswhole,a.updatetime),ObjectLists.CX(a.saveskillswhole),G.update(),Skills&&Skills.hc()):a.savesigns?(v.BR(parseInt(a.savesigns),a.signsdata,a.updatetime),ObjectLists.Cs()[parseInt(a.savesigns)]=a.signsdata,Signeditor&&(Signeditor.Mc=ObjectLists.Cs(),Signeditor.oa())):a.moveNPC?(a.npcID=parseInt(a.npcID),!A.As(a.npcID)||A.As(a.npcID)&&!1==A.As(a.npcID).Mg?A.GU(a.npcID,a.moveNPC,a.mapnumber):t.push(JSON.stringify(a))):
a.changeNPCPosition?(a.npcID=parseInt(a.npcID),A.As(a.npcID)&&!1==A.As(a.npcID).Mg?A.bW(a.npcID,a.changeNPCPosition):t.push(JSON.stringify(a))):a.savesignswhole?(v.IV(a.savesignswhole,a.updatetime),ObjectLists.BX(a.savesignswhole)):a.savenpcs?(v.wR(parseInt(a.savenpcs),a.npcsdata,a.updatetime),ObjectLists.pl()[parseInt(a.savenpcs)]=a.npcsdata,F.Tw(F.Pd(),!0),NPCeditor&&(NPCeditor.Mc=ObjectLists.pl(),NPCeditor.oa())):a.savenpcswhole?(v.FV(a.savenpcswhole,a.updatetime),ObjectLists.hX(a.savenpcswhole),
F.Tw(F.Pd(),!0),NPCeditor&&(NPCeditor.Mc=ObjectLists.pl(),NPCeditor.oa())):a.saveitems?(v.uR(parseInt(a.saveitems),a.itemdata,a.updatetime),c=ObjectLists.di()[parseInt(a.saveitems)].name,ObjectLists.di()[parseInt(a.saveitems)]=a.itemdata,F.Tw(F.Pd()),Itemeditor&&(Itemeditor.Mc=ObjectLists.di(),Itemeditor.oa()),Inventory&&Inventory.hc(),A.B.ba.ot(c,a.itemdata)):a.droppeditem?a.mapnumber==F.Pd()&&!1==F.e().Lg?(c=F.JI(a.index),c.YQ(a.droppeditem),F.qt()):t.push(JSON.stringify(a)):a.pickupitem?a.mapnumber==
F.Pd()&&(c=F.JI(a.pickupitem),c.qD(),F.qt()):a.saveitemswhole?(v.EV(a.saveitemswhole,a.updatetime),ObjectLists.$W(a.saveitemswhole)):a.savesuccess&&c.ES();else"Login"==c.Nc()&&(a.login_success?c.MU(a.login_success):a.login_fail?c.lx(a.login_fail):a.registrationsuccess?c.LR():a.registrationfailed&&c.zS(a.registrationfailed));else t.push(JSON.stringify(a))};qa.on("disconnect",function(){console.log("The client has disconnected!");var a=w.e().pd;a?a.Fn(!1):t.push(JSON.stringify({disconnect:!0}))});
function H(a){qa.send(JSON.stringify(a))};var I=Object.freeze({qe:{R2:"C to popup/dismiss, enter for chat. Say /help for help.",K7:"Welcome to the Powder Engine! Enter /help for some help.",ST:"-------HELP------",RT:" - Press C to expand the chat, I for Inventory",QT:" - Space to grab Items and E for Equipment.",PT:" - Enter /commands for command list",OT:"-------------------",KR:"Commands:  /editskill, /editsign, /editnpc,",JR:" - /editmap, /editwarp, /edititem,",IR:" - /dance, /coinflip, /diceroll, /afk",HR:"--------------------",kV:" has joined the game!",
h$:" has left the game!",qx:"Picked up ",rS:"Dropped ",iJ:"Your inventory is full"}});var za={},Aa=q.Hd.e();q.qj.e();Aa.UK(["res/Graphics"]);ha=new XMLHttpRequest;ha.open("GET","res/Graphics/tile_graphics.txt",!1);ha.send(null);var la=ha.responseText,Ba=la.split(","),J=[],Ea;for(Ea in Ba)J.push({name:Ba[Ea],texture:q.ha.e().qa(Ba[Ea])});var ta=!1,ha=new XMLHttpRequest;ha.open("GET","res/Graphics/character_graphics.txt",!1);ha.send(null);var la=ha.responseText,Ba=la.split(","),M=[];for(Ea in Ba)M.push({name:Ba[Ea],texture:q.ha.e().qa(Ba[Ea])});
document.getElementById("gameCanvas").onkeydown=function(a){a.preventDefault();za[a.keyCode]=!0};window.onbeforeunload=function(){H({disconnect:!0})};window.onfocus=function(){for(var a=[],c=t.length-1;0<=c;c--){var d=JSON.parse(t[c]);d.moveTo&&!a[d.id]?(a[d.id]=!0,d.setTo=d.moveTo,d.moveTo=null,t[c]=JSON.stringify(d)):d.moveTo&&a[d.id]&&t.splice(c,1)}};var N=q.h(255,255,255,255),Fa=q.h(0,255,0,255),Ga=q.h(255,0,0,255);
document.getElementById("gameCanvas").onkeyup=function(a){za[a.keyCode]=!1;if(null!=w.e().pd){a.stopPropagation();var c=null;switch(a.keyCode){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";
break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a.keyCode&&58>a.keyCode||64<a.keyCode&&91>a.keyCode)&&(c=String.fromCharCode(a.keyCode));null!=c&&w.e().pd.Al(c)}};rememberLoginNextTime=autoLoginNextTime=!1;
var y={GENERAL:"ISSECTION","Project Name":"Powder Engine Testbed","Version Number":"0.705",CHATBAR:"ISSECTION","Welcome Message":"Welcome to the Powder Engine! Enter /help for some help.","Join Message":"\x3cPLAYER\x3e has joined the game!","Leave Message":"\x3cPLAYER\x3e has left the game!","Default ChatBar Message":"C to popup/dismiss, enter for chat. Say /help for help.",ITEMS:"ISSECTION","Item Dropdown Pick Up":"Pick up \x3cITEM\x3e","Item Dropdown Walk To":"Walk to \x3cITEM\x3e","Item Pick Up":"Picked up \x3cITEM\x3e.",
"Item Dropped":"Dropped \x3cITEM\x3e.","Item Out-of-range":"\x3cITEM\x3e is too far away to pick up!","Item Dropdown Examine":"Examine \x3cITEM\x3e","Item Dropdown Equip":"Equip \x3cITEM\x3e","Item Dropdown Read":"Read \x3cITEM\x3e","Item Dropdown Eat":"Eat \x3cITEM\x3e","Item Dropdown Use":"Use \x3cITEM\x3e","Item Dropdown Unequip":"Unequip \x3cITEM\x3e","Item Dropdown Drop":"Drop \x3cITEM\x3e",NPCS:"ISSECTION","NPC Dropdown Examine":"Examine","NPC Dropdown Attack":"Attack","NPC Dropdown Talk":"Talk To",
"NPC Dropdown Follow":"Follow","NPC Dropdown Trade":"Trade","NPC Dropdown Bank":"Open Bank",SIGNS:"ISSECTION","Sign Dropdown list Read":"Read sign \x3cSIGN\x3e","Sign Out-of-range":"\x3cSIGN\x3e is too far away to read!",PANELS:"ISSECTION","Equipment Header":"Equipment","Inventory Header":"Inventory","Skills Header":"Skills List","Quest Header":"Quest Log",COMMANDS:"ISSECTION","/dance":"\x3cPLAYER\x3e danced the dance of his people.","/diceroll":"\x3cPLAYER\x3e threw a dice and got \x3cVALUE\x3e",
"/coinflip":"\x3cPLAYER\x3e flipped a coin and got \x3cVALUE\x3e"};function O(a,c){return(a.sJ&&a.ka||!a.sJ)&&q.ab(q.rect(a.q.F,a.q.H,a.c().width,a.c().height),c)}function ua(a){var c={},d;for(d in a)c[d]=a[d]&&"object"==typeof a[d]?ua(a[d]):a[d];return c}
isMobile=function(){var a=!1,c=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(c)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(c.substr(0,
4)))a=!0;return a};function Ha(a,c){var d=c?a:a.Oc();return Ia(d,"panels")}function Ma(){Na.Bc(function(){})}
function Ia(a,c,d){c=d?d[c]:a[c];"undefined"!=typeof c.nU?d=Oa.Cy(c.mY):"undefined"!=typeof c.u?(d=c.size?c.size:q.size(100,100),d=q.ca.create(c.u,d.width,d.height)):d="undefined"!=typeof c.bD?q.A.create():"undefined"!=typeof c.Z?q.A.gb(q.ha.e().qa(c.Z)):"undefined"!=typeof c.label?q.S.create(c.label,c.font?c.I3:"Arial",c.fontSize?c.fontSize:14):q.D.create();"undefined"!=typeof c.size&&d.V(Math.floor(c.size.width),Math.floor(c.size.height));"undefined"!=typeof c.position&&d.n(q.a(Math.floor(c.position.x),
Math.floor(c.position.y)));"undefined"!=typeof c.visible&&d.v(c.visible);"undefined"!=typeof c.d&&d.L(c.d);"undefined"!=typeof c.opacity&&d.ia(c.opacity);"undefined"!=typeof c.color&&(d.l||console.log(c),d.l(c.color));if("undefined"!=typeof c.children)for(var e in c.children)d[e]=Ia(a,e,c.children),d.f(d[e]);return d}q.size(960,640);var P=q.size(1600,1600),Pa=Math.floor(P.height/32),S=Math.floor(P.width/32);function T(a,c){return parseInt(S*(Pa-c))+parseInt(a)}
function sa(a,c){var d={},e;for(e in a)d[e]=a[e]+"";for(e in c)d[e]&&(d[e]=c[e]+"");return d};var v=q.Ea.extend({B:null,wb:function(a){return(a=s.localStorage.getItem("last_"+a))?a:null},ok:function(a,c){return(c=s.localStorage.setItem("last_"+a,c))?c:null}}),U=null;v.Cy=function(){U||(U=new v);return U};v.e=function(){return U};v.pX=function(a,c){var d=s.localStorage.getItem("panelStore");"null"==d||null==d?(console.log("NEW PANEL STORE"),d={}):d=JSON.parse(d);d[a]={x:c.x,y:c.y};s.localStorage.setItem("panelStore",JSON.stringify(d))};v.aT=function(){return s.localStorage.getItem("panelStore")};
v.RS=function(a){if(U.wb("maps")){if(a){var c=JSON.parse(s.localStorage.getItem("map_data"));return c[a]?c[a]:null}}else return[]};v.CL=function(a,c){U.ok("maps",c);s.localStorage.setItem("map_data",JSON.stringify(a))};v.vR=function(a,c,d){var e=U.wb("maps")?JSON.parse(s.localStorage.getItem("map_data")):[];e[a]=c;v.CL(e,d)};v.df=function(){if(U.wb("scripts")){if(""!=s.localStorage.getItem("scripts_data"))var a=JSON.parse(s.localStorage.getItem("scripts_data"));return a?a:[]}return[]};
v.HL=function(a,c){U.ok("scripts",c);s.localStorage.setItem("scripts_data",JSON.stringify(a))};v.AR=function(a,c,d){var e=U.wb("scripts")?""!=s.localStorage.getItem("scripts_data")?JSON.parse(s.localStorage.getItem("scripts_data")):[]:[];e[a]=c;v.HL(e,d)};v.HV=function(a,c){scriptarray=a;v.my(scriptarray,c)};v.vT=function(){if(U.wb("warps")){if(""!=s.localStorage.getItem("warps_data"))var a=JSON.parse(s.localStorage.getItem("warps_data"));return a?a:[]}return[]};
v.my=function(a,c){U.ok("warps",c);s.localStorage.setItem("warps_data",JSON.stringify(a))};v.ER=function(a,c,d){var e=U.wb("warps")?""!=s.localStorage.getItem("warps_data")?JSON.parse(s.localStorage.getItem("warps_data")):[]:[];e[a]=c;v.my(e,d)};v.KV=function(a,c){warparray=a;v.my(warparray,c)};v.PS=function(){if(U.wb("items")){if(""!=s.localStorage.getItem("items_data"))var a=JSON.parse(s.localStorage.getItem("items_data"));return a?a:[]}return[]};
v.ot=function(a,c){U.ok("items",c);s.localStorage.setItem("items_data",JSON.stringify(a))};v.uR=function(a,c,d){var e=U.wb("items")?""!=s.localStorage.getItem("items_data")?JSON.parse(s.localStorage.getItem("items_data")):[]:[];e[a]=c;v.ot(e,d)};v.EV=function(a,c){itemsarray=a;v.ot(itemsarray,c)};v.mT=function(){if(U.wb("skills")){if(""!=s.localStorage.getItem("skills_data"))var a=JSON.parse(s.localStorage.getItem("skills_data"));return a?a:[]}return[]};
v.mE=function(a,c){U.ok("skills",c);s.localStorage.setItem("skills_data",JSON.stringify(a))};v.CR=function(a,c,d){var e=U.wb("skills")?""!=s.localStorage.getItem("skills_data")?JSON.parse(s.localStorage.getItem("skills_data")):[]:[];e[a]=c;v.mE(e,d)};v.JV=function(a,c){skillarray=a;v.mE(skillarray,c)};v.kT=function(){if(U.wb("signs")){if(""!=s.localStorage.getItem("signs_data"))var a=JSON.parse(s.localStorage.getItem("signs_data"));return a?a:[]}return[]};
v.ly=function(a,c){U.ok("signs",c);s.localStorage.setItem("signs_data",JSON.stringify(a))};v.BR=function(a,c,d){var e=U.wb("signs")?""!=s.localStorage.getItem("signs_data")?JSON.parse(s.localStorage.getItem("signs_data")):[]:[];e[a]=c;v.ly(e,d)};v.IV=function(a,c){signarray=a;v.ly(signarray,c)};v.XS=function(){if(U.wb("npcs")){if(""!=s.localStorage.getItem("npcs_data"))var a=JSON.parse(s.localStorage.getItem("npcs_data"));return a?a:[]}return[]};
v.DL=function(a,c){U.ok("npcs",c);s.localStorage.setItem("npcs_data",JSON.stringify(a))};v.wR=function(a,c,d){var e=U.wb("npcs")?""!=s.localStorage.getItem("npcs_data")?JSON.parse(s.localStorage.getItem("npcs_data")):[]:[];e[a]=c;v.DL(e,d)};v.FV=function(a,c){npcsarray=a;v.ly(npcsarray,c)};v.eT=function(){if(U.wb("quests")){if(""!=s.localStorage.getItem("quests_data"))var a=JSON.parse(s.localStorage.getItem("quests_data"));return a?a:[]}return[]};
v.kE=function(a,c){U.ok("quests",c);s.localStorage.setItem("quests_data",JSON.stringify(a))};v.zR=function(a,c,d){var e=U.wb("quests")?""!=s.localStorage.getItem("quests_data")?JSON.parse(s.localStorage.getItem("quests_data")):[]:[];e[a]=c;v.kE(e,d)};v.GV=function(a,c){questsarray=a;v.kE(questsarray,c)};v.BC=function(){if(U.wb("settings")){if(""!=s.localStorage.getItem("settings_data"))var a=JSON.parse(s.localStorage.getItem("settings_data"));return a?a:[]}return[]};
v.lE=function(a,c){U.ok("settings",c);s.localStorage.setItem("settings_data",JSON.stringify(a))};
v.gZ=function(){s.localStorage.setItem("map_data",[]);s.localStorage.setItem("last_maps",0);s.localStorage.setItem("warps_data",[]);s.localStorage.setItem("last_warps",0);s.localStorage.setItem("items_data",[]);s.localStorage.setItem("last_items",0);s.localStorage.setItem("skills_data",[]);s.localStorage.setItem("last_skills",0);s.localStorage.setItem("signs_data",[]);s.localStorage.setItem("last_signs",0);s.localStorage.setItem("npcs_data",[]);s.localStorage.setItem("last_npcs",0);s.localStorage.setItem("quests_data",
[]);s.localStorage.setItem("last_quests",0);s.localStorage.setItem("settings_data",[]);s.localStorage.setItem("last_settings",0);s.localStorage.setItem("scripts_data",[]);s.localStorage.setItem("last_scripts",0);s.localStorage.setItem("panelStore",null)};
v.nN=function(){H({sync:!0,mapupdate:null!=U.wb("maps")?U.wb("maps"):2,warpupdate:null!=U.wb("warps")?U.wb("warps"):2,itemupdate:null!=U.wb("items")?U.wb("items"):2,skillsupdate:null!=U.wb("skills")?U.wb("skills"):2,signsupdate:null!=U.wb("signs")?U.wb("signs"):2,npcsupdate:null!=U.wb("npcs")?U.wb("npcs"):2,questsupdate:null!=U.wb("quests")?U.wb("quests"):2,settingsupdate:null!=U.wb("settings")?U.wb("settings"):2,scriptsupdate:null!=U.wb("scripts")?U.wb("scripts"):2})};
v.cX=function(a){!0!=a&&!1!=a||s.localStorage.setItem("mapedit_saveonexit",a)};v.SS=function(){return null==s.localStorage.getItem("mapedit_saveonexit")?!1:s.localStorage.getItem("mapedit_saveonexit")};v.yX=function(a,c){s.localStorage.setItem("savedcredentials",JSON.stringify({user:a,pass:c}))};v.sK=function(a){s.localStorage.setItem("autologin",JSON.stringify(a))};v.kJ=function(){var a=s.localStorage.getItem("autologin");return null!=a?JSON.parse(a):!1};
v.qJ=function(){return s.localStorage.getItem("savedcredentials")?!0:!1};v.qT=function(){var a=s.localStorage.getItem("savedcredentials");return a?JSON.parse(a):!1};ListView=q.Gh.extend({ul:null,m:null,zw:null,kx:!1,oi:null,Bn:null,rL:null,CD:function(){if(this.m){this.Bn&&(this.Bn.N(),this.oi.N());var a=this.m.Od();a.height<this.m.c().height&&(a=this.m.c(),this.kx=!0);this.ul=[];for(var c=0,d=0;d<this.m.Ad();d++){var e=this.m.te(d),c=c+e.height;this.ul[d]=q.D.create();this.ul[d].V(e);this.ul[d].n(q.a(0,a.height-c));this.ul[d].L(q.a(0,1));this.f(this.ul[d]);this.ul[d].f(this.m.re(d))}this.fq(-300);this.YD(0);!1==this.kx&&(this.Bn=q.ca.create(q.h(0,0,0,255),1,
this.m.c().height),this.Bn.n(q.a(this.m.c().width+20,0)),this.oi=q.ca.create(q.h(90,90,255,255),20,this.m.c().height/5),this.oi.n(q.a(this.m.c().width+10,0)),this.m.f(this.Bn),this.m.f(this.oi),this.Hl(q.a(0,this.Rs().y),!1));this.m.n(this.rL)}},r:function(a){this.m=a;this.L(q.a(0,0));this.rL=q.a(a.q.F,a.q.H);this.Lp(this.m.c(),this.m);this.AK(q.uq);this.DW(!1);a=this.m.Od();var c=q.D.create();c.V(a);this.HW(c)},Fe:function(a){this.zw=a},ID:!1,Hx:null,Ac:function(a){if(!this.m.Yi)return!1;for(var c=
0;c<this.m.Ad();c++)this.m.Yi(c).l(q.h(255,255,255,255));this.m.Yi(a).l(q.h(255,0,0,255))},lb:function(a){for(var c=a.J,d=0;d<this.m.Ad();d++)for(var e in this.zw[d]){var f=this.ul[d].Da(c),g=this.m.Da(c);g.x+=this.m.q.F;O(this.m,g);if(O(this.zw[d][e],f))return this.m.wc(this.zw[d][e].tc,d,a),this.ID=!0}if(!1==this.kx){a=this.m.Da(c);if(O(this.oi,a))return this.Hx=a.y-this.oi.q.H,!0;console.log("TURNING OFF SCROLOL");this.Hx=null}},qd:function(a){if(!0==this.ID)return this.ID=!1;if(!1==this.kx){var c=
a.J;if(null!=this.Hx&&(c=this.m.Da(c),c.y-=this.Hx,0<=c.y&&c.y+this.oi.c().height<=this.m.c().height))return a=c.y/(this.Bn.c().height-this.oi.c().height),this.Hl(q.a(0,this.hn().y*a),!1),this.oi.bd(c.y),!0;c=this._super(a);a=this.yI().y/this.hn().y;this.oi.bd((this.Bn.c().height-this.oi.c().height)*a);return c}}});ListView.create=function(a){var c=new ListView;c.r(a);c.CD();return c};var Oa=q.D.extend({ve:null,we:null,xe:null,Be:null,Ce:null,Qd:null,item:null,le:null,me:null,oe:null,ne:null,position:null,jf:null,type:null,mb:null,ctor:function(){this._super()},r:function(){this._super();this.jf=q.S.create("","Arial",16);this.jf.L(0.5,0.5);this.jf.n(16,-16);this.jf.ia(0);this.jf.l(q.k(0,0,0));this.f(this.jf,900);this.item=[];this.mb=[];this.lj(0)},YQ:function(a){this.pk(a.sprite.texture,a.sprite.position,"item");for(var c=0;c<ObjectLists.di().length;c++)if(a.name==ObjectLists.di()[c].name){this.Sx({id:c,
data:{amount:a.amount}},!0);break}this.lj(4)},qD:function(){this.mb[this.mb.length-1].temp&&(this.item[this.item.length-1].N(),this.item.splice(this.item.length-1,1),this.mV())},pk:function(a,c,d){a=q.A.gb(q.ha.e().qa(a));a.Sb(q.rect(Math.floor(32*c.x),Math.floor(32*c.y),32,32));a.l(q.h(255,255,255,255));a.L(0,1);switch(d){case "ground1":null!=this.ve&&this.ve.N();this.ve=a;this.f(this.ve);break;case "ground2":null!=this.we&&this.we.N();this.we=a;this.f(this.we,1);break;case "groundShadow":null!=
this.xe&&this.xe.N();this.xe=a;this.f(this.xe,2);break;case "mask1":null!=this.Be&&this.Be.N();this.Be=a;this.f(this.Be,3);break;case "mask2":null!=this.Ce&&this.Ce.N();this.Ce=a;this.f(this.Ce,4);break;case "mask3":null!=this.Qd&&this.Qd.N();this.Qd=a;this.f(this.Qd,5);break;case "item":this.item.push(a);this.f(this.item[this.item.length-1],6);break;case "fringe1":null!=this.le&&this.le.N();this.le=a;this.f(this.le,7);break;case "fringe2":null!=this.me&&this.me.N();this.me=a;this.f(this.me,8);break;
case "fringeShadow":null!=this.oe&&this.oe.N();this.oe=a;this.f(this.oe,9);break;case "fringe3":null!=this.ne&&this.ne.N(),this.ne=a,this.f(this.ne,10)}},Kg:function(){var a=!0;if(null!=this.ve&&this.ve.aa()&&!1==this.ve.aa().rc)a=!1;else if(null!=this.we&&this.we.aa()&&!1==this.we.aa().rc)a=!1;else if(null!=this.xe&&this.xe.aa()&&!1==this.xe.L6)a=!1;else if(null!=this.Be&&this.Be.aa()&&!1==this.Be.aa().rc)a=!1;else if(null!=this.Ce&&this.Ce.aa()&&!1==this.Ce.aa().rc)a=!1;else if(null!=this.Qd&&this.Qd.aa()&&
!1==this.Qd.aa().rc)a=!1;else if(0<this.item.length)for(var c in this.item)this.item[c].aa()&&!1==this.item[c].aa().rc&&(a=!1);else null!=this.le&&this.le.aa()&&!1==this.le.aa().rc?a=!1:null!=this.me&&this.me.aa()&&!1==this.me.aa().rc?a=!1:null!=this.oe&&this.oe.aa()&&!1==this.oe.aa().rc?a=!1:null!=this.ne&&this.ne.aa()&&!1==this.ne.aa().rc&&(a=!1);return a},yd:function(){null!=this.ve&&this.ve.N();this.ve=null;null!=this.we&&this.we.N();this.we=null;null!=this.xe&&this.xe.N();this.xe=null;null!=
this.Be&&this.Be.N();this.Be=null;null!=this.Ce&&this.Ce.N();this.Ce=null;null!=this.Qd&&this.Qd.N();this.Qd=null;for(var a=0;a<this.item.length;a++)this.item[a].N();this.item=[];this.Qd=null;null!=this.le&&this.le.N();this.le=null;null!=this.me&&this.me.N();this.me=null;null!=this.oe&&this.oe.N();this.oe=null;null!=this.ne&&this.ne.N();this.ne=null;this.lj(0);this.mb=[];this.item=[]},nC:function(a){switch(a){case "ground1":null!=this.ve&&this.ve.N();this.ve=null;break;case "ground2":null!=this.we&&
this.we.N();this.we=null;break;case "groundShadow":null!=this.xe&&this.xe.N();this.xe=null;break;case "mask1":null!=this.Be&&this.Be.N();this.Be=null;break;case "mask2":null!=this.Ce&&this.Ce.N();this.Ce=null;break;case "mask3":null!=this.Qd&&this.Qd.N();this.Qd=null;break;case "item":for(a=0;a<this.item.length;a++)this.item[a].N(),this.item[a].splice(a,1),a--;this.item=[];break;case "fringe1":null!=this.le&&this.le.N();this.le=null;break;case "fringe2":null!=this.me&&this.me.N();this.me=null;break;
case "fringeShadow":null!=this.oe&&this.oe.N();this.oe=null;break;case "fringe3":null!=this.ne&&this.ne.N(),this.ne=null}},lj:function(a){this.type=a;switch(this.type){case 0:this.jf.ea("");break;case 1:this.jf.ea("BLK");break;case 2:this.jf.ea("SPW");break;case 3:this.jf.ea("WRP");break;case 4:this.jf.ea("ITM");break;case 5:this.jf.ea("NPC");break;case 6:this.jf.ea("SKL");break;case 7:this.jf.ea("SGN")}},Sx:function(a,c){c||(c=!1);this.mb.push({num:parseInt(a.id),data:a.data,temp:c})},mV:function(){this.mb.splice(this.mb.length-
1,1);0==this.mb.length&&this.lj(0)},Rw:function(){return this.mb[this.mb.length-1]},Fp:function(){switch(this.type){case 3:return ObjectLists.cn()[this.mb[this.mb.length-1].num];case 4:var a=ObjectLists.di()[this.mb[this.mb.length-1].num];a.amount=parseInt(this.mb[this.mb.length-1].data.amount);return a;case 7:return ObjectLists.Cs()[this.mb[this.mb.length-1].num];case 5:return ObjectLists.pl()[this.mb[this.mb.length-1].num]}},df:function(){switch(this.type){case 3:return ObjectLists.cn()[this.mb[this.mb.length-
1].num]?ObjectLists.cn()[this.mb[this.mb.length-1].num]:null;case 4:return ObjectLists.di()[this.mb[this.mb.length-1].num]?ObjectLists.di()[this.mb[this.mb.length-1].num]:null;case 5:return ObjectLists.pl()[this.mb[this.mb.length-1].num]?ObjectLists.pl()[this.mb[this.mb.length-1].num]:null}},DX:function(a){this.jf.ia(!0==a?255:0)},oc:function(){return this.type}});Oa.Cy=function(a,c){var d=new Oa;d.r();d.position=q.a(a,c);return d};StatsController=q.A.extend({data:null,ex:null,m:null,r:function(a,c){this.data=a;this.m=c;this.pW()},update:function(){for(var a in this.data)this.ex&&(0==this.data[a].value&&0<this.ex[a]&&this.m.Dca(a),this.data[a].Pc>this.ex[a].Pc&&this.m.Fca(a)),this.ex[a]=this.data[a]},D6:function(a){return this.data[a].value},C6:function(a){return this.data[a].Pc},i9:function(a,c){this.data[a].value+=c;this.data[a].value>this.data[a].ag&&(this.data[a].value=this.data[a].ag);0>this.data[a].value&&(this.data[a].value=
0)},DR:function(a,c){this.data[a].value=c;this.data[a].value>this.data[a].ag&&(this.data[a].value=this.data[a].ag);0>this.data[a].value&&(this.data[a].value=0)},h9:function(a,c){this.data[a].Pc+=c;this.data[a].Pc>this.data[a].$f&&(this.data[a].Pc=this.data[a].$f);0>this.data[a].Pc&&(this.data[a].Pc=0)},DR:function(a,c){this.data[a].Pc=c;this.data[a].Pc>this.data[a].$f&&(this.data[a].Pc=this.data[a].$f);0>this.data[a].Pc&&(this.data[a].Pc=0)},w2:function(a,c){this.data[a].$f=c},x2:function(a,c){this.data[a].ag=
c}});ObjectLists=q.Ea.extend({uE:null,dD:null,dE:null,cE:null,hD:null,uD:null,LD:null});var V;ObjectLists.e=function(){V||(V=new ObjectLists,V.uE=v.vT(),V.dD=v.PS(),V.dE=v.mT(),V.cE=v.kT(),V.hD=v.XS(),V.uD=v.eT(),V.LD=v.df());return V};ObjectLists.cn=function(){return V.uE};ObjectLists.LX=function(a){V.uE=a};ObjectLists.di=function(){return V.dD};ObjectLists.$W=function(a){V.dD=a};ObjectLists.aj=function(){return V.dE};ObjectLists.CX=function(a){V.dE=a};ObjectLists.Cs=function(){return V.cE};
ObjectLists.BX=function(a){V.cE=a};ObjectLists.pl=function(){return V.hD};ObjectLists.hX=function(a){V.hD=a};ObjectLists.Bs=function(){return V.uD};ObjectLists.wX=function(a){V.uD=a};ObjectLists.$i=function(){return V.LD};ObjectLists.AX=function(a){V.LD=a};gameMapInstance=null;
var F=q.Rc.extend({Td:null,w:null,Lg:!1,Nn:null,qn:null,rD:null,dn:null,yl:null,vl:null,wl:null,xl:null,O:q.a(0,0),Ui:1,uC:function(a,c){function d(a,c){return{cN:a,value:c.x+c.y*S,x:c.x,y:c.y,Lw:0,o:0}}function e(a,c){var d=c-1,e=c+1,g=a+1,h=a-1,k=-1<d&&f.w["tile"+T(a,d)]&&1!=f.w["tile"+T(a,d)].oc()&&7!=f.w["tile"+T(a,d)].oc();myS=e<S&&f.w["tile"+T(a,e)]&&1!=f.w["tile"+T(a,e)].oc()&&7!=f.w["tile"+T(a,e)].oc();myE=g<S&&f.w["tile"+T(g,c)]&&1!=f.w["tile"+T(g,c)].oc()&&7!=f.w["tile"+T(g,c)].oc();myW=
-1<h&&f.w["tile"+T(h,c)]&&1!=f.w["tile"+T(h,c)].oc()&&7!=f.w["tile"+T(h,c)].oc();result=[];k&&result.push({x:a,y:d});myE&&result.push({x:g,y:c});myS&&result.push({x:a,y:e});myW&&result.push({x:h,y:c});return result}for(var f=this,g=d(null,c),h,k,l,m,n,r=[],p=[],u=[d(null,a)],x=Array(Pa*S);h=u.length;){k=Pa*S;l=-1;for(m=0;m<h;m++)u[m].Lw<k&&(k=u[m].Lw,l=m);k=u.splice(l,1)[0];if(k.value===g.value){l=p[p.push(k)-1];do r.push(q.a(l.x,l.y));while(l=l.cN);x=p=u=[];r.reverse()}else{h=e(k.x,k.y);m=0;for(n=
h.length;m<n;m++)l=d(k,h[m]),x[l.value]||(l.o=k.o+(Math.abs(h[m].x-k.x)+Math.abs(h[m].y-k.y)),l.Lw=l.o+(Math.abs(h[m].x-g.x)+Math.abs(h[m].y-g.y)),u.push(l),x[l.value]=!0);p.push(k)}}return r},PX:function(a){this.Td={};this.Td.mapdata={};for(var c in this.w)"tile"==c.substring(0,4)&&(this.w[c].yd(),this.Td[c]={});if(a)for(c in this.Td=a,a)if("tile"==c.substring(0,4))for(var d in a[c])"info"!=d?null!=a[c][d]&&this.w[c].pk(a[c][d].texture,a[c][d].frame,d):(this.w[c].lj(a[c][d].type),a[c][d].script&&
this.w[c].Sx(a[c][d].script),4==a[c][d].type&&this.w[c].df()&&this.w[c].pk(this.w[c].df().sprite.texture,this.w[c].df().sprite.position,"item"),5==a[c][d].type&&this.w[c].df()&&A.FH(this.w[c].df(),q.a(this.w[c].q.x/32,this.w[c].q.y/32),this.Ui));else"mapdata"==c&&(this.yl=""!=a[c].mapConnectors.up&&null!=a[c].mapConnectors.up?a[c].mapConnectors.up:null,this.vl=""!=a[c].mapConnectors.down&&null!=a[c].mapConnectors.down?a[c].mapConnectors.down:null,this.wl=""!=a[c].mapConnectors.left&&null!=a[c].mapConnectors.left?
a[c].mapConnectors.left:null,this.xl=""!=a[c].mapConnectors.right&&null!=a[c].mapConnectors.right?a[c].mapConnectors.right:null);this.fc(this.wD)},sk:function(a){A.e().v(!1);a=v.RS(a);this.Td={};this.Td.mapdata={};for(var c in this.w)"tile"==c.substring(0,4)&&(this.w[c].yd(),this.Td[c]={});if(a)for(c in this.Td=a,a)if("tile"==c.substring(0,4))for(var d in a[c])"info"!=d?null!=a[c][d]&&this.w[c].pk(a[c][d].texture,a[c][d].frame,d):(this.w[c].lj(a[c][d].type),a[c][d].script&&this.w[c].Sx(a[c][d].script),
4==a[c][d].type&&this.w[c].df()&&this.w[c].pk(this.w[c].df().sprite.texture,this.w[c].df().sprite.position,"item"),5==a[c][d].type&&this.w[c].df()&&A.FH(this.w[c].df(),q.a(this.w[c].q.x/32,this.w[c].q.y/32),this.Ui));else"mapdata"==c&&(this.yl=""!=a[c].mapConnectors.up&&null!=a[c].mapConnectors.up?a[c].mapConnectors.up:null,this.vl=""!=a[c].mapConnectors.down&&null!=a[c].mapConnectors.down?a[c].mapConnectors.down:null,this.wl=""!=a[c].mapConnectors.left&&null!=a[c].mapConnectors.left?a[c].mapConnectors.left:
null,this.xl=""!=a[c].mapConnectors.right&&null!=a[c].mapConnectors.right?a[c].mapConnectors.right:null);this.fc(this.wD)},wD:function(){for(var a in this.w)if("tile"==a.substring(0,4)&&!1==this.w[a].Kg())return;A.e().v(!0);A.tk();this.cd(this.wD);this.qn.v(!0);this.Nn.v(!0);this.Lg=!0},Oc:function(){for(var a={},c=0;c<S;c++)for(var d=0;d<Pa;d++)a["tile"+(c+d*S)]={size:q.size(32,32),d:q.a(0,0),position:q.a(32*c,32*(Pa-d)),nU:!0,mY:q.a(d,c),visible:!1};return{panels:{children:a}}},r:function(){this.Xb(!0);
this.YD(1)},lb:function(a){!this.dn||Mapeditor&&Mapeditor.X||(this.dn=Mapeditor=null);if(this.dn)for(var c in this.w)"tile"==c.substring(0,4)&&q.ab(this.w[c].Xa(),q.a(a.J.x-this.O.x,a.J.y+32-this.O.y))&&(this.dn.xL(this.w,c),F.qt());else for(c in this.w)if("tile"==c.substring(0,4)&&q.ab(this.w[c].Xa(),q.a(a.J.x-this.O.x,a.J.y+32-this.O.y)))if(4==this.w[c].oc()){var d=y["Item Dropdown Pick Up"]+"",e=y["Item Dropdown Walk To"]+"",d=d.replace("\x3cITEM\x3e",this.w[c].df().name),e=e.replace("\x3cITEM\x3e",
this.w[c].df().name);this.X.f(DropDownList.Nd(this,this.qU,[d,e],a.J));this.Eg=c}else 7==this.w[c].oc()?(d=y["Sign Dropdown list Read"]+"",d=d.replace("\x3cSIGN\x3e",this.w[c].Fp().name),this.X.f(DropDownList.Nd(this,this.YX,[d],a.J)),this.Eg=c):1!=this.w[c].oc()&&7!=this.w[c].oc()&&4!=this.w[c].oc()&&(d=A.B.ba.cf(),A.B.ba.aE(this.uC(q.a(Math.floor(d.x),Math.ceil(d.y)),q.a(this.w[c].q.x/32,this.w[c].q.y/32))));return!0},Eg:null,qU:function(a){if(null!=this.m.Eg){var c=A.B.ba.cf(),d=q.a(gameMapInstance.w[gameMapInstance.Eg].q.x/
32,gameMapInstance.w[gameMapInstance.Eg].q.y/32);switch(a){case 0:a=c.x>d.x?c.x-d.x:d.x-c.x;c=c.y>d.y?c.y-d.y:d.y-c.y;5>Math.sqrt(a*a+c*c)?A.B.ba.gJ(gameMapInstance.w[gameMapInstance.Eg]):(c=y["Item Out-of-range"]+"",c=c.replace("\x3cITEM\x3e",this.m.w[gameMapInstance.Eg].df().name),B.Mb(c));break;case 1:A.B.ba.aE(gameMapInstance.uC(q.a(Math.floor(c.x),Math.ceil(c.y)),d)),this.m.Eg=null}}},YX:function(a){if(null!=this.m.Eg){var c=A.B.ba.cf(),d=q.a(gameMapInstance.w[gameMapInstance.Eg].q.x/32,gameMapInstance.w[gameMapInstance.Eg].q.y/
32);switch(a){case 0:a=c.x>d.x?c.x-d.x:d.x-c.x,c=c.y>d.y?c.y-d.y:d.y-c.y,5>Math.sqrt(a*a+c*c)?A.B.ba.gJ(gameMapInstance.w[gameMapInstance.Eg]):(c=y["Sign Out-of-range"]+"",c=c.replace("\x3cSIGN\x3e",this.m.w[gameMapInstance.Eg].Fp().name),B.Mb(c))}}},qd:function(a){if(this.dn){for(var c in this.w)"tile"==c.substring(0,4)&&q.ab(this.w[c].Xa(),q.a(a.J.x-this.O.x,a.J.y+32-this.O.y))&&(this.dn.xL(this.w,c,"moved"),F.qt());return!0}for(c in this.w)if("tile"==c.substring(0,4)&&1!=this.w[c].oc()&&7!=this.w[c].oc()&&
4!=this.w[c].oc()&&q.ab(this.w[c].Xa(),q.a(a.J.x-this.O.x,a.J.y+32-this.O.y))){var d=A.B.ba.cf();A.B.ba.aE(this.uC(q.a(Math.floor(d.x),Math.ceil(d.y)),q.a(this.w[c].q.x/32,this.w[c].q.y/32)))}},ra:function(){this._super();if(!0==this.Lg){this.Nn.cC(0,0,0,0);for(var a in this.w)"tile"==a.substring(0,4)&&(this.w[a].v(!0),null!=this.w[a].le&&this.w[a].le.v(!1),null!=this.w[a].me&&this.w[a].me.v(!1),null!=this.w[a].oe&&this.w[a].oe.v(!1),null!=this.w[a].ne&&this.w[a].ne.v(!1),this.w[a].ra(),null!=this.w[a].le&&
this.w[a].le.v(!0),null!=this.w[a].me&&this.w[a].me.v(!0),null!=this.w[a].oe&&this.w[a].oe.v(!0),null!=this.w[a].ne&&this.w[a].ne.v(!0),this.w[a].v(!1));this.Nn.end();this.qn.cC(0,0,0,0);for(a in this.w)if("tile"==a.substring(0,4)){this.w[a].v(!0);null!=this.w[a].ve&&this.w[a].ve.v(!1);null!=this.w[a].we&&this.w[a].we.v(!1);null!=this.w[a].xe&&this.w[a].xe.v(!1);null!=this.w[a].Be&&this.w[a].Be.v(!1);null!=this.w[a].Ce&&this.w[a].Ce.v(!1);null!=this.w[a].Qd&&this.w[a].Qd.v(!1);for(var c=0;c<this.w[a].item.length;c++)this.w[a].item[c].v(!1);
this.w[a].ra();null!=this.w[a].ve&&this.w[a].ve.v(!0);null!=this.w[a].we&&this.w[a].we.v(!0);null!=this.w[a].xe&&this.w[a].xe.v(!0);null!=this.w[a].Be&&this.w[a].Be.v(!0);null!=this.w[a].Ce&&this.w[a].Ce.v(!0);null!=this.w[a].Qd&&this.w[a].Qd.v(!0);for(c=0;c<this.w[a].item.length;c++)this.w[a].item[c].v(!0);this.w[a].v(!1)}this.qn.end();this.Lg=!1}}});
F.jy=function(a,c){0<=gameMapInstance.O.x+(P.width-W.width/2)+a&&A.B.ba.q.x<P.width-W.width/2&&0>=gameMapInstance.O.x+a&&A.B.ba.q.x>W.width/2&&(gameMapInstance.O.x+=a);0<=gameMapInstance.O.y+(P.height-W.height/2)+c&&A.B.ba.q.y<P.height-W.height/2&&0>=gameMapInstance.O.y+c&&A.B.ba.q.y>W.height/2&&(gameMapInstance.O.y+=c);gameMapInstance.n(gameMapInstance.O.x,gameMapInstance.O.y)};
F.Uw=function(a,c){a=parseInt(a);c=parseInt(c);!0==gameMapInstance.Lg?0==offsetFromPositionScheduledX&&0==offsetFromPositionScheduledY&&(offsetFromPositionScheduledX=a,offsetFromPositionScheduledY=c,gameMapInstance.fc(F.oK)):(gameMapInstance.O.x=a>P.width-W.width/2?-(P.width-W.width):a<W.width/2?0:-(a-W.width/2),gameMapInstance.O.y=c>P.height-W.height/2?-(P.height-W.height):c<W.height/2?0:-(c-W.height/2),offsetFromPositionScheduledY=offsetFromPositionScheduledX=0,gameMapInstance.cd(F.oK),gameMapInstance.n(gameMapInstance.O.x,
gameMapInstance.O.y))};offsetFromPositionScheduledY=offsetFromPositionScheduledX=0;F.oK=function(){F.Uw(offsetFromPositionScheduledX,offsetFromPositionScheduledY)};F.IC=function(){!0==gameMapInstance.Lg?gameMapInstance.fc(F.IC):(gameMapInstance.cd(F.IC),gameMapInstance.O.x=-(P.width-W.width),gameMapInstance.n(gameMapInstance.O.x,gameMapInstance.O.y))};
F.HC=function(){!0==gameMapInstance.Lg?gameMapInstance.fc(F.HC):(gameMapInstance.cd(F.HC),gameMapInstance.O.x=0,gameMapInstance.n(gameMapInstance.O.x,gameMapInstance.O.y))};F.GC=function(){!0==gameMapInstance.Lg?gameMapInstance.fc(F.GC):(gameMapInstance.cd(F.GC),gameMapInstance.O.y=-(P.height-W.height),gameMapInstance.n(gameMapInstance.O.x,gameMapInstance.O.y))};
F.JC=function(){!0==gameMapInstance.Lg?gameMapInstance.fc(F.JC):(gameMapInstance.cd(F.JC),gameMapInstance.O.y=0,gameMapInstance.n(gameMapInstance.O.x,gameMapInstance.O.y))};
F.create=function(){gameMapInstance||(gameMapInstance=new F,gameMapInstance.w=Ha(gameMapInstance),gameMapInstance.f(gameMapInstance.w),gameMapInstance.Nn=q.Ab.create(P.width,P.height),gameMapInstance.Nn.n(q.a(Math.floor(P.width/2),Math.floor(P.height/2))),gameMapInstance.f(gameMapInstance.Nn),gameMapInstance.Nn.v(!1),gameMapInstance.rD=q.D.create(),gameMapInstance.f(gameMapInstance.rD),gameMapInstance.qn=q.Ab.create(P.width,P.height),gameMapInstance.qn.n(q.a(Math.floor(P.width/2),Math.floor(P.height/
2))),gameMapInstance.f(gameMapInstance.qn),gameMapInstance.qn.v(!1),gameMapInstance.fq(-15),gameMapInstance.r());return gameMapInstance};F.e=function(){return gameMapInstance};F.at=function(){gameMapInstance.N();gameMapInstance=null};F.qt=function(){gameMapInstance||(gameMapInstance=F.create());gameMapInstance.Lg=!0};F.QX=function(a){gameMapInstance.PX(a)};F.e=function(){return gameMapInstance};F.pk=function(a,c,d,e){gameMapInstance.w[a].pk(c,d,e);gameMapInstance.Td[a][e]={texture:c,frame:d}};
F.IL=function(){H({savemap:gameMapInstance.Ui,mapdata:gameMapInstance.Td})};F.nC=function(a,c){gameMapInstance.Td[a][c]=null;gameMapInstance.w[a].nC(c)};F.kj=function(a,c,d,e){gameMapInstance.w[a].lj(c);null!=d&&"undefined"!==d?(gameMapInstance.w[a].Sx(d,e),gameMapInstance.Td[a].info={type:c,script:{id:d+"",data:null!=e&&"undefined"!==e?e:null}}):gameMapInstance.Td[a].info={type:c}};
F.KK=function(a){gameMapInstance.Td.mapdata.mapConnectors=a;gameMapInstance.yl=a.up;gameMapInstance.vl=a.down;gameMapInstance.wl=a.left;gameMapInstance.xl=a.right};F.AS=function(a,c,d){for(var e in gameMapInstance.w)"tile"==e.substring(0,4)&&(gameMapInstance.w[e].pk(a,c,d),gameMapInstance.Td[e][d]={texture:a,frame:c})};F.WK=function(a){for(var c in gameMapInstance.w)"tile"==c.substring(0,4)&&gameMapInstance.w[c].DX(a);SkillBarsInstance.v(!a);X.v(!a);gameMapInstance.Lg=!0};
F.Vba=function(){for(var a in gameMapInstance.w)"tile"==a.substring(0,4)&&gameMapInstance.w[a].jf.ea(a.substring(4));gameMapInstance.Lg=!0};F.SI=function(){return null!=gameMapInstance.yl};F.QI=function(){return null!=gameMapInstance.vl};F.RI=function(){return null!=gameMapInstance.wl};F.LC=function(){return null!=gameMapInstance.xl};F.Pd=function(){return gameMapInstance.Ui};F.DI=function(){return gameMapInstance.yl};F.BI=function(){return gameMapInstance.vl};F.CI=function(){return gameMapInstance.wl};
F.zC=function(){return gameMapInstance.xl};F.Tw=function(a,c){c||(MapMaster=!1);A.e().v(!1);A.aI();F.yd();gameMapInstance.Ui=a;A.B.ba.aq(a);A.tk();gameMapInstance.sk(a)};F.BT=function(a){A.aI();F.yd();gameMapInstance.Ui=a;gameMapInstance.sk(a)};F.AT=function(){A.e().v(!1);F.yd();gameMapInstance.Ui=gameMapInstance.yl;A.B.ba.aq(gameMapInstance.yl);A.tk();gameMapInstance.sk(gameMapInstance.yl)};
F.xT=function(){A.e().v(!1);F.yd();gameMapInstance.Ui=gameMapInstance.vl;A.B.ba.aq(gameMapInstance.vl);A.tk();gameMapInstance.sk(gameMapInstance.vl)};F.yT=function(){A.e().v(!1);F.yd();gameMapInstance.Ui=gameMapInstance.wl;A.B.ba.aq(gameMapInstance.wl);A.tk();gameMapInstance.sk(gameMapInstance.wl)};F.zT=function(){A.e().v(!1);F.yd();gameMapInstance.Ui=gameMapInstance.xl;A.B.ba.aq(gameMapInstance.xl);A.tk();gameMapInstance.sk(gameMapInstance.xl)};F.bt=function(a){gameMapInstance.dn=a};
F.Sw=function(a,c){return a>S-1||0>a?void 0:gameMapInstance.w["tile"+(a+(Pa-c)*S)]};F.JI=function(a){return gameMapInstance.w["tile"+a]};F.cR=function(){var a=A.e();gameMapInstance.rD.f(a);F.Uw(A.B.ba.q.F,A.B.ba.q.H)};F.yd=function(){gameMapInstance.Td={};for(var a in gameMapInstance.w)"tile"==a.substring(0,4)&&(gameMapInstance.w[a].yd(),gameMapInstance.Td[a]={});gameMapInstance.Td.mapdata={};gameMapInstance.Lg=!0};var A=q.Rc.extend({B:null,$b:[],Ef:[],ba:null});A.e=function(){return this.B};A.at=function(){this.B.N();this.B=null};A.create=function(a){this.B||(this.B=new A,this.B.ba=PlayerCharacter.create(a),this.B.f(this.B.ba));return this.B};A.UM=function(){var a=F.Pd(),c=[],d;for(d in this.B.Ef)this.B.Ef[d].cg==a&&c.push(this.B.Ef[d]);return c};A.As=function(a){return this.B.Ef[a]};A.GU=function(a,c,d){this.B.Ef[a]&&"default"!=c&&this.B.ba.cg==d&&this.B.Ef[a].LL(c)};
A.bW=function(a,c){this.B.Ef[a]&&"default"!=c&&this.B.Ef[a].n(q.a(c%S*32,32*Math.floor(c/S)))};A.aI=function(){for(var a in this.B.Ef)this.B.Ef[a].N();this.B.Ef=[]};A.FH=function(a,c,d){var e=parseInt(this.B.Ef.length);this.B.Ef.push(NonPlayerCharacter.create({name:a.name,Jn:{health:{Pc:1,value:100,ag:200,$f:900},mana:{Pc:1,value:100,ag:200,$f:99}},map:d,kt:"sprites1.png",it:2,sl:e}));this.B.Ef[e].n(32*c.x,32*c.y);this.B.f(this.B.Ef[e])};A.k7=function(){return this.B.ba};A.fi=function(a){return this.B.$b[a]};
A.bR=function(a){this.B.$b[a]=PlayerCharacter.create({name:a,Jn:{health:{Pc:1,value:100,ag:200,$f:900},mana:{Pc:1,value:100,ag:200,$f:99}},map:1,kt:"sprites1.png",it:1});this.B.$b[a].n(960,320);A.tk();this.B.f(this.B.$b[a]);var c=y["Join Message"]+"",c=c.replace("\x3cPLAYER\x3e",a);B.Mb(c)};
A.bI=function(a){if(this.B.$b[a]){this.B.$b[a].N();this.B.$b[a]=null;var c=y["Leave Message"]+"",c=playerJoinString.replace("\x3cPLAYER\x3e",a);B.Mb(c);for(c=0;c<t.length;c++){var d=JSON.parse(t[c]);d.id&&d.id==a&&(t.splice(c,1),c--)}}};
A.HU=function(a,c){if(this.B.$b[a]&&"default"!=c)this.B.$b[a].LL(c);else{this.B.$b[a]=PlayerCharacter.create({name:a,Jn:{health:{Pc:1,value:100,ag:200,$f:900},mana:{Pc:1,value:100,ag:200,$f:99}},map:1,kt:"sprites1.png",it:1});this.B.$b[a].n(960,320);this.B.$b[a].n(q.a(c%S*32,32*Math.floor(c/S)));A.tk();this.B.f(this.B.$b[a]);var d=y["Join Message"]+"",d=d.replace("\x3cPLAYER\x3e",a);B.Mb(d)}};
A.SJ=function(a,c){this.B.$b[a]&&"default"!=c?this.B.$b[a].n(q.a(c%S*32,32*Math.floor(c/S))):(this.B.$b[a]=PlayerCharacter.create({name:a,Jn:{health:{Pc:1,value:100,ag:200,$f:900},mana:{Pc:1,value:100,ag:200,$f:99}},map:1,kt:"sprites1.png",it:1}),this.B.$b[a].n(q.a(c%S*32,32*Math.floor(c/S))),A.tk(),this.B.f(this.B.$b[a]),B.Mb(a+I.qe.kV))};A.yR=function(a){this.B.$b[a]&&this.B.$b[a].updateStatus("AFK")};
A.tk=function(){var a=this.B.ba.cg,c;for(c in this.B.$b)null!=this.B.$b[c]&&this.B.$b[c].v(this.B.$b[c].cg==a)};A.yd=function(){for(var a in this.B.$b)null!=this.B.$b[a]&&A.bI(a);this.B.ba.N();this.B.ba=null};A.xR=function(a,c){this.B.$b[a].aq(c);this.B.$b[a].v(this.B.ba.cg==c)};Character=q.A.extend({name:null,Jn:null,vL:null,U1:null,lf:null,Mg:!1,kn:null,cy:null,ej:!1,sl:-1,status:null,cg:null,path:null,tC:"DOWN",r:function(a){this.FX(a.kt,a.it);this.Jn=new StatsController(a.Eca,this);this.f(this.Jn);this.name=a.name;a.ej&&(this.ej=a.ej);a.map&&(this.cg=a.map);null!=a.sl&&"undefined"!==a.sl&&(console.log(this.sl),this.sl=a.sl);this.L(0,1);this.kn=q.S.create("","Arial",12);this.kn.L(0.5,0);this.kn.l(255,0,0);this.kn.n(Math.floor(this.c().width/2),this.c().width+3);this.f(this.kn);
this.EL()},I4:function(){return this.tC},aq:function(a){this.cg=a},g5:function(){return this.cg},updateStatus:function(a){this.status=a&&a!=this.status?a:null;this.EL()},EL:function(){null!=this.status?this.kn.ea(this.name+"-"+this.status):this.kn.ea(this.name)},getName:function(){return this.name},Jf:function(a,c,d){this.Sb(q.rect(32*a,128*this.vL.id+32*c,32,32));this.cy=q.a(a,c);this.tC=d},vh:function(){return this.cy},FX:function(a,c){this.vL={name:a,id:c};this.fa(q.ha.e().qa(a));this.Jf(1,0)},
cf:function(){return q.a(this.q.x/32,this.q.y/32)},uw:0.24,xY:0.24,ml:2,zY:function(a){var c=a.position%S,d=Math.floor(a.position/S);this.n(32*c,32*d);H({changemap:a.mapTo,setTo:a.position});F.Tw(a.mapTo);F.Uw(32*c,32*d)},jU:function(){if(!this.Mg){var a=this.cf(),a=F.Sw(a.x,a.y);switch(a.oc()){case 4:this.qD(a.Fp())}}},gJ:function(a){if(a&&!this.Mg)switch(a.oc()){case 4:this.iV(a.Fp(),a);break;case 7:Na.lL(a.Fp())}},iU:function(){if(!this.Mg){var a=this.cf();switch(this.tC){case "RIGHT":a.x+=1;break;
case "LEFT":a.x-=1;break;case "UP":a.y+=1;break;case "DOWN":a.y-=1}if(a=F.Sw(a.x,a.y))switch(a.oc()){case 7:Na.lL(a.Fp())}}},st:function(a){this.uw+=a;a=this.q;var c=this.vh();this.uw>this.xY&&(this.uw=0,this.lf.x<a.x?this.Jf((c.x+1)%3,1,"LEFT"):this.lf.x>a.x?this.Jf((c.x+1)%3,2,"RIGHT"):this.lf.y<a.y?this.Jf((c.x+1)%3,0,"DOWN"):this.lf.y>a.y&&this.Jf((c.x+1)%3,3,"UP"));this.lf.x<a.x?(this.ib(a.x-this.ml),this.ej&&F.jy(+this.ml,0)):this.lf.x>a.x?(this.ib(a.x+this.ml),this.ej&&F.jy(-this.ml,0)):this.lf.y<
a.y?(this.bd(a.y-this.ml),this.ej&&F.jy(0,this.ml)):this.lf.y>a.y&&(this.bd(a.y+this.ml),this.ej&&F.jy(0,-this.ml));a.y==this.lf.y&&a.x==this.lf.x&&(this.Mg=!1,this.cd(this.st),null!=this.path&&this.MH())},lq:function(a,c){if(!1!=this.ka){var d=F.Sw(a,c),e=this.cy,f=this.cf();f.x>a?this.Jf(e.x,1,"LEFT"):f.x<a&&this.Jf(e.x,2,"RIGHT");f.y>c?this.Jf(e.x,0,"DOWN"):f.y<c&&this.Jf(e.x,3,"UP");if(!d)this.ej&&null==Mapeditor&&(f.x<a&&F.LC()?(this.n(0,32*c),H({changemap:parseInt(F.zC()),setTo:0+c*S}),F.zT(),
F.HC()):f.x>a&&F.RI()&&(this.n(32*(S-1),32*c),H({changemap:parseInt(F.CI()),setTo:S-1+c*S}),F.yT(),F.IC()),f.y<c&&F.SI()?(this.n(32*a,32),H({changemap:parseInt(F.DI()),setTo:a+1*S}),F.AT(),F.JC()):f.y>c&&F.QI()&&(H({changemap:parseInt(F.BI()),setTo:a+Pa*S}),F.xT(),this.n(32*a,32*Pa),F.GC()));else if(!1==this.Mg&&d){switch(d.oc()){case 1:case 7:return;case 3:this.zY(d.df());return}this.lf=q.a(32*a,32*c);this.Mg=!0;this.fc(this.st);this.st(0);this.ej?H({moveTo:this.lf.x/32+this.lf.y/32*S}):-1<this.sl&&
H({npcID:this.sl+"",mapnumber:this.cg,moveNPC:this.lf.x/32+this.lf.y/32*S})}}},MH:function(){0==this.path.length?this.path=null:(this.path.splice(0,1),0==this.path.length?this.path=null:this.lq(this.path[0].x,this.path[0].y))},aE:function(a){if(null==this.path||0!=a.length)this.path=a,this.MH()},LL:function(a){if(!1!=this.ka){var c=a%S;a=Math.floor(a/S);if(!1==this.Mg){var d=this.cy,e=this.cf();4<Math.abs(q.lD(q.a(c,a),e))?this.n(q.a(32*c,32*a)):(e.x>c?this.Jf(d.x,1,"LEFT"):e.x<c?this.Jf(d.x,2,"RIGHT"):
e.y>a?this.Jf(d.x,0,"DOWN"):e.y<a&&this.Jf(d.x,3,"UP"),this.lf=q.a(32*c,32*a),this.Mg=!0,this.fc(this.st),this.st(0))}}}});
PlayerCharacter=Character.extend({items:null,pp:3,r:function(a){this._super(a);a.pp&&(this.pp=a.pp);this.items={stored:[],equipped:{}};if(a.position){var c=a.position%S,d=Math.floor(a.position/S);this.n(32*c,32*d);F.BT(a.map);F.Uw(32*c,32*d);this.cg=a.map}a.hJ&&(this.items.stored=a.hJ);a.lI&&(this.items.equipped=a.lI,this.Bc(function(){for(var a in this.items.equipped){var c=this.items.equipped[a],d=[];c&&c.script&&(d=ObjectLists.$i()[c.script].data);for(c=0;c<d.length;c++)if("Default Event"==d[c].type)for(var h=
d[c].responses,k=0;k<h.length;k++)switch(h[k].type){case "Modify Player Stats":var l=ObjectLists.aj()[h[k].data.skill].name;console.log("modifying stat: "+l);G.ix(l,h[k].data.level);G.hx(l,h[k].data.health);G.jx(l,h[k].data.xp)}}}))},ot:function(a,c){for(var d=0;d<this.items.stored.length;d++)this.items.stored[d]&&this.items.stored[d].name==a&&(this.items.stored[d]=c);console.log(this.items)},qD:function(a){var c=this.cf(),d=F.Sw(c.x,c.y);if(!0==a.stackable)for(var e=0;40>e;e++)if(this.items.stored[e]&&
this.items.stored[e].name==a.name){Inventory&&(this.items.stored[e].amount+=a.amount,Inventory.Hn(e,this.items.stored[e].amount));B.Mb(I.qe.qx+a.name);d.Rw().temp?H({pickupitem:T(c.x,c.y),mapnumber:F.Pd(),temp:!0}):H({pickupitem:T(c.x,c.y),mapnumber:F.Pd()});console.log(this.items);return}for(var f=!1,e=0;40>e;e++)if(null==this.items.stored[e]){this.items.stored[e]=ua(a);Inventory&&Inventory.Hn(e,this.items.stored[e].amount);B.Mb(I.qe.qx+a.name);d.Rw().temp?H({pickupitem:T(c.x,c.y),mapnumber:F.Pd(),
temp:!0}):H({pickupitem:T(c.x,c.y),mapnumber:F.Pd()});f=!0;break}!1==f&&B.Mb(I.qe.iJ);console.log(this.items)},iV:function(a,c){var d=q.a(c.q.F/32,c.q.H/32);if(!0==a.stackable)for(var e=0;40>e;e++)if(this.items.stored[e]&&this.items.stored[e].name==a.name){Inventory&&(this.items.stored[e].amount+=a.amount,Inventory.Hn(e,this.items.stored[e].amount));B.Mb(I.qe.qx+a.name);c.Rw().temp?H({pickupitem:T(d.x,d.y),mapnumber:F.Pd(),temp:!0}):H({pickupitem:T(d.x,d.y),mapnumber:F.Pd()});return}for(var f=!1,
e=0;40>e;e++)if(null==this.items.stored[e]){this.items.stored[e]=ua(a);Inventory&&Inventory.Hn(e,this.items.stored[e].amount);B.Mb(I.qe.qx+a.name);c.Rw().temp?H({pickupitem:T(d.x,d.y),mapnumber:F.Pd(),temp:!0}):H({pickupitem:T(d.x,d.y),mapnumber:F.Pd()});f=!0;break}!1==f&&B.Mb(I.qe.iJ)},rC:function(a,c){var d=this.cf();B.Mb(I.qe.rS+this.items[c][a].name);H({droppeditem:this.items[c][a],mapnumber:F.Pd(),index:T(d.x,d.y)});!0==this.items[c][a].stackable&&1<this.items[c][a].amount&&Inventory.Hn(a,0);
this.items[c][a]=null;Inventory&&Inventory.hc();Equipment&&Equipment.hc()},vY:function(a){var c=this.items.stored[a],d=[];c.script&&(d=ObjectLists.$i()[c.script].data);for(var e=0;e<d.length;e++)if("Default Event"==d[e].type)for(var f=d[e].responses,g=0;g<f.length;g++)switch(f[g].type){case "Equip Item":this.xS(a,f[g].data.equip);break;case "Modify Player Stats":var h=ObjectLists.aj()[f[g].data.skill].name;console.log("modifying stat: "+h);G.ix(h,f[g].data.level);G.hx(h,f[g].data.health);G.jx(h,f[g].data.xp);
break;case "Read Item":Na.TX(c.name,f[g].data.say);break;case "Open/Close Panel":h=1==f[g].data.visible?!0:!1;switch(f[g].data.panel){case 0:null==Inventory||Inventory.X||(Inventory=null);!0==h?Inventory?Inventory.hc():(Inventory=new InventoryPanel,Inventory.r(),Inventory.oa(),Na.f(Inventory)):Inventory&&(Inventory.xa(),Inventory.N(),Inventory=null);break;case 1:null==Equipment||Equipment.X||(Equipment=null);!0==h?Equipment?Equipment.hc():(Equipment=new EquipmentPanel,Equipment.r(),Equipment.oa(),
Na.f(Equipment)):Equipment&&(Equipment.xa(),Equipment.N(),Equipment=null);break;case 2:null==Skills||Skills.X||(Skills=null),!0==h?Skills?Skills.hc():(Skills=new SkillsPanel,Skills.r(),Skills.oa(),Na.f(Skills)):Skills&&(Skills.xa(),Skills.N(),Skills=null)}break;case "Destroy":this.items.stored[a]=null,Inventory&&Inventory.hc()}},xS:function(a,c){"bothArms"==c&&(c="lArm",this.items.equipped.rArm||(c="rArm"));var d=null;if(this.items.equipped[c]){var d=ua(this.items.equipped[c]),e=[];d.script&&(e=ObjectLists.$i()[d.script].data);
for(var f=0;f<e.length;f++)if("On Dequip"==e[f].type)for(var g=e[f].responses,h=0;h<g.length;h++)switch(g[h].type){case "Modify Player Stats":var k=ObjectLists.aj()[g[h].data.skill].name;console.log("modifying stat: "+k);G.ix(k,g[h].data.level);G.hx(k,g[h].data.health);G.jx(k,g[h].data.xp);break;case "Open/Close Panel":k=1==g[h].data.visible?!0:!1;switch(g[h].data.panel){case 0:null==Inventory||Inventory.X||(Inventory=null);!0==k?Inventory?Inventory.hc():(Inventory=new InventoryPanel,Inventory.r(),
Inventory.oa(),Na.f(Inventory)):Inventory&&(Inventory.xa(),Inventory.N(),Inventory=null);break;case 1:null==Equipment||Equipment.X||(Equipment=null);!0==k?Equipment?Equipment.hc():(Equipment=new EquipmentPanel,Equipment.r(),Equipment.oa(),Na.f(Equipment)):Equipment&&(Equipment.xa(),Equipment.N(),Equipment=null);break;case 2:null==Skills||Skills.X||(Skills=null),!0==k?Skills?Skills.hc():(Skills=new SkillsPanel,Skills.r(),Skills.oa(),Na.f(Skills)):Skills&&(Skills.xa(),Skills.N(),Skills=null)}break;
case "Destroy":d=null,Inventory&&Inventory.hc()}}this.items.equipped[c]=ua(this.items.stored[a]);this.items.stored[a]=d;Inventory&&Inventory.hc();Equipment&&Equipment.hc()},dS:function(a){for(var c=0;40>c;c++)if(null==this.items.stored[c]){this.items.stored[c]=ua(this.items.equipped[a]);this.items.equipped[a]=null;Inventory&&Inventory.hc();Equipment&&Equipment.hc();var d=this.items.stored[c];a=[];d.script&&(a=ObjectLists.$i()[d.script].data);for(d=0;d<a.length;d++)if("On Dequip"==a[d].type)for(var e=
a[d].responses,f=0;f<e.length;f++)switch(e[f].type){case "Modify Player Stats":var g=ObjectLists.aj()[e[f].data.skill].name;G.ix(g,e[f].data.level);G.hx(g,e[f].data.health);G.jx(g,e[f].data.xp);break;case "Open/Close Panel":g=1==e[f].data.visible?!0:!1;switch(e[f].data.panel){case 0:null==Inventory||Inventory.X||(Inventory=null);!0==g?Inventory?Inventory.hc():(Inventory=new InventoryPanel,Inventory.r(),Inventory.oa(),Na.f(Inventory)):Inventory&&(Inventory.xa(),Inventory.N(),Inventory=null);break;
case 1:null==Equipment||Equipment.X||(Equipment=null);!0==g?Equipment?Equipment.hc():(Equipment=new EquipmentPanel,Equipment.r(),Equipment.oa(),Na.f(Equipment)):Equipment&&(Equipment.xa(),Equipment.N(),Equipment=null);break;case 2:null==Skills||Skills.X||(Skills=null),!0==g?Skills?Skills.hc():(Skills=new SkillsPanel,Skills.r(),Skills.oa(),Na.f(Skills)):Skills&&(Skills.xa(),Skills.N(),Skills=null)}break;case "Destroy":this.items.stored[c]=null,Inventory&&Inventory.hc()}return}B.Mb("No space in inventory to dequip this item.")},
ol:function(){return this.items.stored},Cp:function(){return this.items.equipped}});PlayerCharacter.create=function(a){var c=new PlayerCharacter;c.r(a);return c};NonPlayerCharacter=Character.extend({c9:null,rx:!1,uX:function(a,c){this.rx=!0;this.Bc(function(){this.lq(a.x,a.y);this.rx=!1},c)},n8:function(){return this.rx}});NonPlayerCharacter.create=function(a){var c=new NonPlayerCharacter;c.r(a);return c};var Qa=q.Rc.extend({KD:null,b:null,ctor:function(){this._super()},ML:function(){},Fn:function(){},ki:function(){},oa:function(){this.b&&this.b.N();this.b=Ha(this);this.f(this.b)},xa:function(){},r:function(){this.YD(1);this.Kx(!0);this.Xb(!0);w.Dn(this);this._super()},kD:function(){q.log("Override onKeyDown in scene extended class to use keyboard")},Al:function(){q.log("Override onKeyUp in scene extended class to use keyboard")},YW:function(a){this.KD=a},Nc:function(){return this.KD}});DropDownList=Qa.extend({list:null,UR:null,selected:null,b:null,m:null,ZH:null,UJ:null,ht:null,ctor:function(){this._super();this.list=[];this.UR=0},r:function(a,c,d,e){this._super();a&&(this.m=a,this.ZH=c,d&&(this.list=d),e&&this.n(e),this.UJ=w.GS(),w.Dn(this),this.fq(-1001),this.Kx(!0))},lb:function(a){for(var c=this.b.control_menu.Da(a.J),d=0;d<this.list.length;d++)this.ht&&!0!=this.ht[d].enabled||q.ab(q.rect(this.b.control_menu[d+""].q.F,this.b.control_menu[d+""].q.H,this.b.control_menu[d+""].c().width,
this.b.control_menu[d+""].c().height),c)&&this.ZH(d,a);this.uV();return!0},uV:function(){w.Dn(this.UJ);this.N();Ma()},cW:function(){this.bd(this.q.H-24*this.list.length);for(var a=0,c=0;c<this.list.length;c++)this.b.control_menu[c+""].content.c().width>a&&(a=this.b.control_menu[c+""].content.c().width);for(c=0;c<this.list.length;c++)this.b.control_menu[c+""].QH(a+8);this.b.control_menu.QH(a+8)},Oc:function(){for(var a={},c=0;c<this.list.length;c++)a[c+""]={position:q.a(0,24*(this.list.length-1)-24*
c),size:q.size(96,24),d:q.a(0,0),u:q.h(200,200,200,200),children:{content:{label:this.list[c],fontSize:20,color:q.k(0,0,0),d:q.a(0,0.5),position:q.a(4,12)}}};return{panels:{children:{control_menu:{position:q.a(0,0),u:q.h(200,200,200,0),size:q.size(96,48),children:a}}}}},ki:function(a){a=this.b.control_menu.Da(a.J);for(var c=0;c<this.list.length;c++)this.b.control_menu[c+""].l(q.h(200,200,200,200)),this.ht&&!0!=this.ht[c].enabled||q.ab(q.rect(this.b.control_menu[c+""].q.F,this.b.control_menu[c+""].q.H,
this.b.control_menu[c+""].c().width,this.b.control_menu[c+""].c().height),a)&&this.b.control_menu[c+""].l(q.h(255,0,0,255))}});DropDownList.Nd=function(a,c,d,e,f){var g=new DropDownList;g.r(a,c,d,e);g.b=Ha(g.Oc(),!0);if(f){for(a=0;a<g.list.length;a++)!1==f[a].enabled&&g.b.control_menu[a+""].content.l(q.h(127,127,127,200));g.ht=f}g.f(g.b);g.cW();return g};Popup=Qa.extend({Cd:null,Cf:!1,r:function(){this.KD=this.Nc();this._super();w.Dn(this);this.RX();this.fq(-50)},o3:function(){this.N()},lb:function(a){var c=a.J;w.Dn(this);c=this.b.control_panel.Da(c);if(q.ab(q.rect(this.b.control_panel.exitBtn.q.F,this.b.control_panel.exitBtn.q.H,this.b.control_panel.exitBtn.c().width,this.b.control_panel.exitBtn.c().height),c)){var d=this;this.X.Bc(function(){!1==d.Cf&&d.xa();d.N();d=null});return!0}return q.ab(q.rect(this.b.q.x,this.b.q.y+this.b.control_panel.q.y,
this.b.control_panel.c().width,this.b.control_panel.c().height),a.J)?(this.Cd=this.b.$h(a),!0):!1},qd:function(a){return this.Cd?(a=a.J,this.b.n(q.a(a.x-this.Cd.x,a.y-this.Cd.y)),!0):!1},N:function(){v.pX(this.Nc(),this.b.q);this._super()},RX:function(){q.log("Ovveride setupPopup")},Nc:function(){q.log("No id given... using default 'Popup'");return"Popup"},Ff:function(){},oa:function(){this._super();var a=v.aT();if("null"!=a&&null!=a&&(a=JSON.parse(a)[this.Nc()])){a=q.a(a.x,a.y);if(a.x>W.width-10||
a.y>W.height)a=q.a(8,100);this.b.n(a)}}});Book=null;
BookPanel=Popup.extend({name:null,content:null,fg:null,Nc:function(){return"Book"},Oc:function(){return{panels:{position:q.a(100,20),children:{main_panel:{d:q.a(0,0),position:q.a(0,0),size:q.size(514,313),Z:"GUI/book.png",children:{pageBackbtn:{position:q.a(2,1),size:q.size(36,36),Z:"GUI/btnLeft.png",d:q.a(0,0)},pageForwardbtn:{position:q.a(475,1),size:q.size(36,36),Z:"GUI/btnRight.png",d:q.a(0,0)},leftPage:{label:this.fg[0],d:q.a(0,1),position:q.a(4,308),color:q.k(0,0,0)},rightPage:{label:1<this.fg.length?
this.fg[1]:"",d:q.a(0,1),position:q.a(260,308),color:q.k(0,0,0)}}},control_panel:{d:q.a(0,0),position:q.a(0,313),size:q.size(514,32),children:{header:{label:this.name,fontSize:20,d:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(490,6),size:q.size(20,20),d:q.a(0,0),Z:"GUI/close.png"}}}}}}},r:function(a,c){this._super();this.name=a;this.content=c;this.fg=[];for(var d=c;d;)if(470>d.length){this.fg.push(d);break}else this.fg.push(d.substr(0,470)+"..."),d=d.substr(470);this.eV=Math.floor(this.fg.length/
2)-1;this.Vi=0},oa:function(){this._super();this.b.main_panel.leftPage.gc(q.size(248,0));this.b.main_panel.rightPage.gc(q.size(248,0));this.b.main_panel.pageBackbtn.v(!1);2>this.fg.length&&this.b.main_panel.pageForwardbtn.v(!1)},CT:function(){this.Vi++;this.b.main_panel.pageBackbtn.v(!0);this.Vi==this.eV&&this.b.main_panel.pageForwardbtn.v(!1);this.b.main_panel.leftPage.ea(this.fg[2*this.Vi]);this.fg[2*this.Vi+1]?this.b.main_panel.rightPage.ea(this.fg[2*this.Vi+1]):this.b.main_panel.rightPage.ea("")},
DT:function(){this.Vi--;this.b.main_panel.pageForwardbtn.v(!0);0==this.Vi&&this.b.main_panel.pageBackbtn.v(!1);this.b.main_panel.leftPage.ea(this.fg[2*this.Vi]);this.fg[2*this.Vi+1]&&this.b.main_panel.rightPage.ea(this.fg[2*this.Vi+1])},lb:function(a){if(this._super(a))return!0;this.Cd=null;a=this.b.main_panel.Da(a.J);if(O(this.b.main_panel.pageForwardbtn,a))return this.CT(),!0;if(O(this.b.main_panel.pageBackbtn,a))return this.DT(),!0}});Equipment=null;
EquipmentPanel=Popup.extend({Nc:function(){return"Equipment"},Oc:function(){var a={};a.head={Z:"GUI/defaultitem.png",position:q.a(88,162),size:q.size(32,32),d:q.a(0,1)};a.legs={Z:"GUI/defaultitem.png",position:q.a(88,82),size:q.size(32,32),d:q.a(0,1)};a.feet={Z:"GUI/defaultitem.png",position:q.a(88,40),size:q.size(32,32),d:q.a(0,1)};a.body={Z:"GUI/defaultitem.png",position:q.a(88,122),size:q.size(32,32),d:q.a(0,1)};a.lArm={Z:"GUI/defaultitem.png",position:q.a(48,122),size:q.size(32,32),d:q.a(0,1)};
a.rArm={Z:"GUI/defaultitem.png",position:q.a(128,122),size:q.size(32,32),d:q.a(0,1)};a.mod={Z:"GUI/defaultitem.png",position:q.a(8,162),size:q.size(32,32),d:q.a(0,1)};return{panels:{position:q.a(100,300),children:{main_panel:{d:q.a(0,0),size:q.size(168,168),Z:"GUI/equipment.png",children:a},control_panel:{d:q.a(0,0),position:q.a(0,168),size:q.size(168,32),children:{header:{label:y["Equipment Header"],fontSize:20,d:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(144,6),size:q.size(20,20),d:q.a(0,
0),Z:"GUI/close.png"}}},item_name:{position:q.a(0,0),u:q.h(200,200,200,200),size:q.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:q.k(0,0,0),d:q.a(0.5,0.5),position:q.a(32,8)}}}}}}},hc:function(){var a=A.B.ba.Cp();this.b.main_panel.head.fa(q.ha.e().qa("GUI/defaultitem.png"));this.b.main_panel.body.fa(q.ha.e().qa("GUI/defaultitem.png"));this.b.main_panel.legs.fa(q.ha.e().qa("GUI/defaultitem.png"));this.b.main_panel.feet.fa(q.ha.e().qa("GUI/defaultitem.png"));this.b.main_panel.lArm.fa(q.ha.e().qa("GUI/defaultitem.png"));
this.b.main_panel.rArm.fa(q.ha.e().qa("GUI/defaultitem.png"));this.b.main_panel.mod.fa(q.ha.e().qa("GUI/defaultitem.png"));for(var c in a)if(a[c]){for(var d in J)if(J[d].name==a[c].sprite.texture)var e=J[d].texture;this.b.main_panel[c].L(0,1);this.b.main_panel[c].fa(e);this.b.main_panel[c].Sb(q.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,32,32))}},fx:function(a){switch(a){case 0:A.B.ba.dS(this.m.gj);break;case 1:A.B.ba.rC(this.m.gj,"equipped")}},lb:function(a){if(this._super(a))return!0;
this.Cd=null;var c=this.b.main_panel.Da(a.J),d=A.B.ba.Cp(),e;for(e in d)if(d[e]&&O(this.b.main_panel[e],q.a(c.x,c.y+32)))return this.gj=e,this.b.item_name.v(!1),c=y["Item Dropdown Unequip"]+"",c=c.replace("\x3cITEM\x3e",A.B.ba.Cp()[e].name),d=y["Item Dropdown Drop"]+"",d=d.replace("\x3cITEM\x3e",A.B.ba.Cp()[e].name),this.f(DropDownList.Nd(this,this.fx,[c,d],a.J)),!0},ki:function(a){a=this.b.main_panel.Da(a.J);this.b.item_name.v(!1);var c=A.B.ba.Cp(),d;for(d in c)if(c[d]&&O(this.b.main_panel[d],q.a(a.x,
a.y+32)))return this.b.item_name.content.ea(c[d].name),this.b.item_name.v(!0),this.b.item_name.V(this.b.item_name.content.c()),this.b.item_name.content.ib(this.b.item_name.content.c().width/2),this.b.item_name.n(q.a(this.b.main_panel[d].q.F-this.b.item_name.content.c().width/2+16,this.b.main_panel[d].q.H)),!0},oa:function(){this._super();this.hc()}});Inventory=null;
InventoryPanel=Popup.extend({gj:null,cD:!1,Nc:function(){return"Inventory"},Oc:function(){for(var a={},c=0;5>c;c++)for(var d=0;8>d;d++)a[5*d+c+""]={size:q.size(32,32),position:q.a(40*c+8,40*(7-d)+40),Z:"GUI/defaultitem.png",d:q.a(0,1),children:{stacklabelbg:{position:q.a(1,1),size:q.size(10,6),d:q.a(0,0),u:q.h(255,255,255,200),children:{stacklabel:{label:"",fontSize:10,color:q.k(0,0,0),d:q.a(0,0),position:q.a(0,0)}}}}};return{panels:{position:q.a(300,200),children:{main_panel:{d:q.a(0,0),Z:"GUI/inventory.png",
size:q.size(208,328),children:a},control_panel:{d:q.a(0,0),position:q.a(0,328),size:q.size(208,32),children:{header:{label:y["Inventory Header"],fontSize:20,d:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(184,6),size:q.size(20,20),d:q.a(0,0),Z:"GUI/close.png"}}},item_name:{position:q.a(0,0),u:q.h(200,200,200,200),size:q.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:q.k(0,0,0),d:q.a(0.5,0.5),position:q.a(32,8)}}}}}}},Hn:function(a,c){this.b.main_panel[a+""].stacklabelbg.v(!1);
1<c&&(this.b.main_panel[a+""].stacklabelbg.v(!0),this.b.main_panel[a+""].stacklabelbg.stacklabel.ea(c),this.b.main_panel[a+""].stacklabelbg.V(this.b.main_panel[a+""].stacklabelbg.stacklabel.c()))},hc:function(){for(var a=A.B.ba.ol(),c=0;40>c;c++)if(a[c]){for(var d in J)if(J[d].name==a[c].sprite.texture)var e=J[d].texture;this.b.main_panel[c+""].L(0,1);this.b.main_panel[c+""].fa(e);this.b.main_panel[c+""].Sb(q.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,32,32));this.Hn(c,a[c].amount)}else this.b.main_panel[c+
""].fa(q.ha.e().qa("GUI/defaultitem.png")),this.Hn(c,0)},oa:function(){this._super();this.hc()},fx:function(a){switch(a){case 0:!0==this.m.cD?A.B.ba.vY(this.m.gj):A.B.ba.rC(this.m.gj,"stored");break;case 1:A.B.ba.rC(this.m.gj,"stored")}this.m.cD=!1},lb:function(a){if(this._super(a))return!0;this.Cd=null;for(var c=this.b.main_panel.Da(a.J),d=0;40>d;d++)if(A.B.ba.ol()[d]&&O(this.b.main_panel[d+""],q.a(c.x,c.y+32))){var e=A.B.ba.ol()[d],c=[];e.script&&(c=ObjectLists.$i()[e.script].data);for(var e=null,
f=0;f<c.length;f++)if("Default Event"==c[f].type)for(var g=c[f].responses,h=0;h<g.length;h++)switch(console.log(g[h].type),g[h].type){case "Equip Item":e=y["Item Dropdown Equip"]+"";break;case "Read Item":e=y["Item Dropdown Read"]+""}c=y["Item Dropdown Drop"]+"";c=c.replace("\x3cITEM\x3e",A.B.ba.ol()[d].name);e?(this.cD=!0,e=e.replace("\x3cITEM\x3e",A.B.ba.ol()[d].name),this.f(DropDownList.Nd(this,this.fx,[e,c],a.J))):this.f(DropDownList.Nd(this,this.fx,[c],a.J));this.gj=d;this.b.item_name.v(!1);
return!0}},ki:function(a){a=this.b.main_panel.Da(a.J);for(var c=0;40>c;c++)if(A.B.ba.ol()[c]&&O(this.b.main_panel[c+""],q.a(a.x,a.y+32)))return this.b.item_name.content.ea(A.B.ba.ol()[c].name),this.b.item_name.v(!0),this.b.item_name.V(this.b.item_name.content.c()),this.b.item_name.content.ib(this.b.item_name.content.c().width/2),this.b.item_name.n(q.a(this.b.main_panel[c+""].q.F-this.b.item_name.content.c().width/2+16,this.b.main_panel[c+""].q.H)),!0}});Sign=null;
SignPanel=Popup.extend({data:null,Nc:function(){return"Sign"},Oc:function(){return{panels:{position:q.a(100,300),children:{control_panel:{d:q.a(0,0),size:q.size(128,96),Z:"GUI/signpost.png",children:{content:{label:this.data.label,fontSize:12,color:q.k(255,255,255),d:q.a(0,1),position:q.a(4,94)},exitBtn:{position:q.a(100,6),size:q.size(20,20),d:q.a(0,0),Z:"GUI/close.png"}}}}}}},r:function(a){this._super();this.data=a},oa:function(){this._super();this.b.control_panel.content.gc(q.size(120,0))}});Skills=null;
SkillsPanel=Popup.extend({R:null,Nc:function(){return"Skills"},Hb:function(){this.R&&this.R.pc();var a=[],c=[];q.ha.e();var d=0,e=0,f;for(f in this.data){e+=this.data[f].level+1;a[d]=q.D.create();a[d].V(420,32);var g=q.ca.create(q.h(0,0,0,127),316,1);g.n(q.a(4,0));var h=q.S.create("Lvl "+(this.data[f].level+1+this.data[f].modifier)+"/"+(this.data[f].level+1),"Arial",15);h.l(q.k(0,0,0));h.L(q.a(0,0));h.n(q.a(4,4));var k=q.S.create(f,"Arial",15);k.l(q.k(0,0,0));k.L(q.a(0.5,0));k.n(q.a(h.c().width+65,
4));var l=q.ca.create(q.h(255,255,255,255),144,k.c().height),m=q.ca.create(q.h(100,120,200,255),this.data[f].experience/this.data[f].requirement*144,k.c().height);l.f(m);m.L(q.a(0,0));m=q.S.create(this.data[f].experience+"/"+this.data[f].requirement,"Arial",14);m.L(q.a(0,0));m.l(q.k(0,0,0));l.f(m);m.bd(1);l.L(q.a(0,0));l.n(q.a(172,4));c.push([]);a[d].f(g);a[d].f(k);a[d].f(h);a[d].f(l);a[d].V(324,k.c().height+8);d++}this.R=this.b.main_panel.list;console.log(this.b);this.R.Od=function(){for(var c=0,
d=0;d<a.length;d++)c+=a[d].c().height;return q.size(324,c)};this.R.Ad=function(){return a.length};this.R.te=function(c){return a[c].c()};this.R.re=function(c){return a[c]};this.R.wc=function(){};this.R.na=ListView.create(this.R);this.R.na.Fe(c);this.R.f(this.R.na);this.b.main_panel.character_level.ea("LEVEL: "+e);this.b.main_panel.character_level.ib(306);this.b.main_panel.character_level.L(q.a(1,0))},Oc:function(){return{panels:{position:q.a(300,200),children:{background_image:{Z:"GUI/list_panel.png",
d:q.a(0,0)},main_panel:{d:q.a(0,0),size:q.size(365,328),children:{character_level:{label:"",position:q.a(2,310),d:q.a(0,0),color:q.k(0,0,0)},list:{size:q.size(324,308),u:q.h(0,200,200,200),position:q.a(0,0),d:q.a(0,0)}}},control_panel:{d:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Skills",fontSize:20,d:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),d:q.a(0,0),Z:"GUI/close.png"}}}}}}},hc:function(){},oa:function(){this._super();this.hc();
this.data=G.lT();this.Hb()}});
var G=q.Rc.extend({vw:[],Vc:null,pt:function(){var a=ObjectLists.aj(),c;for(c in this.vw)this.vw[c].N();this.vw=[];var d=0;for(c=a.length-1;0<=c;c--)if(null!=a[c].healthbar&&""!=a[c].healthbar){var e=this.TR(a[c].name,a[c].healthbar,d);this.f(e);this.vw.push(e);d++}this.n(q.a(0,W.height-32*d))},TR:function(a,c,d){var e,f,g;g=255;f=c.replace("#","");8==f.length&&(g=f.substr(6,8));c=parseInt(f.substring(0,2),16);e=parseInt(f.substring(2,4),16);f=parseInt(f.substring(4,6),16);g=parseInt(g,16);console.log(a);
console.log(this.Vc[a]);c=q.ca.create(q.h(c,e,f,g),0<this.Vc[a].currenthealth?this.Vc[a].currenthealth/this.Vc[a].maxhealth*300:1,23);c.aC=q.A.gb(q.ha.e().qa("GUI/healthbar.png"));c.n(10,32*d- -5*d-10);c.L(q.a(0,0));c.aC.n(-5,-4);c.aC.L(q.a(0,0));c.f(c.aC);a=q.S.create(a,"Arial",16);a.n(10,11.5);a.L(q.a(0,0.5));c.f(a);return c}});SkillBarsInstance=null;G.create=function(a){null==SkillBarsInstance&&(SkillBarsInstance=new G,SkillBarsInstance.Vc=a,SkillBarsInstance.pt());return SkillBarsInstance};
G.hx=function(a,c){SkillBarsInstance.Vc[a].currenthealth+=c;0>SkillBarsInstance.Vc[a].currenthealth&&(SkillBarsInstance.Vc[a].currenthealth=0);SkillBarsInstance.Vc[a].currenthealth>SkillBarsInstance.Vc[a].maxhealth&&(SkillBarsInstance.Vc[a].currenthealth=SkillBarsInstance.Vc[a].maxhealth);SkillBarsInstance.pt();Skills&&Skills.Hb()};G.jx=function(a,c){SkillBarsInstance.Vc[a].experience+=c;0>SkillBarsInstance.Vc[a].experience&&(SkillBarsInstance.Vc[a].experience=0);SkillBarsInstance.pt();Skills&&Skills.Hb()};
G.ix=function(a,c){console.log("modifying modifier "+c);SkillBarsInstance.Vc[a].modifier+=c;0>SkillBarsInstance.Vc[a].modifier&&(SkillBarsInstance.Vc[a].modifier=0);SkillBarsInstance.pt();Skills&&Skills.Hb()};G.lT=function(){return SkillBarsInstance.Vc};G.update=function(){SkillBarsInstance.pt()};Scripteditor=null;
ScriptEditor=Popup.extend({data:null,R:null,hb:null,hj:null,ef:null,ff:null,P2:null,m:null,Oa:null,mL:null,XH:null,Ia:null,i:null,hq:null,jj:function(a){H({savescripts:a+"",scriptsdata:this.data})},Wi:function(a,c){H({savescriptswhole:c})},Nc:function(){return"Scripts"},xa:function(a){this._super();if(this.m){var c=this.m;!0!=a&&this.m.Bc(function(){c.$c(null)})}},r:function(a){this._super();this.data={data:[],name:null};this.Oa=null;a.data&&(this.data=a.data);this.m=a.m},oa:function(){this._super();this.Oa=
new Y(this.b.main_panel.nameEntry,q.size(this.b.main_panel.nameEntry.c().width,this.b.main_panel.nameEntry.c().height),q.a(0,this.b.main_panel.nameEntry.c().height),this.data.name,q.h(255,255,255),q.k(0,0,0));this.Oa.tb(!0);this.Hb()},Hb:function(){this.R&&this.R.pc();for(var a in this.ef)this.ef[a].pc(),this.ef[a].N();for(a in this.ff)this.ff[a].pc(),this.ff[a].N();var c=[],d=[],e=[],f=[],g=[],h=[],k=q.ha.e();this.ef=[];this.ff=[];for(a=0;a<this.data.data.length;a++){g[a]=[];h[a]=[];d[a]=[];e[a]=
[];c[a]=q.D.create();c[a].V(758,100);var l=q.ca.create(q.h(0,0,0,127),750,1);l.n(q.a(4,0));var m=q.ca.create(q.h(0,0,0,127),1,92);m.n(q.a(152,4));var n=q.ca.create(q.h(0,0,0,127),1,92);n.n(q.a(451,4));var r=this.data.data[a].type;"On Event End"==r&&(r+=" ("+this.data.data[a].data.attachedEvent+":"+this.data.data[this.data.data[a].data.attachedEvent].type+")");r=q.S.create(a+": "+r,"Arial",15);r.l(q.k(0,0,0));r.L(q.a(0,1));r.n(q.a(4,96));r.gc(q.size(100,0));var p=q.ca.create(q.h(0,255,0,60),259,100);
p.V(q.size(259,100));p.ib(451);p.L(q.a(0,0));c[a].f(p);var u=q.ca.create(q.h(0,255,0,60),259,100);u.V(q.size(259,100));u.ib(152);u.L(q.a(0,0));c[a].f(u);var x=q.A.gb(k.qa("GUI/trash.png"));x.n(q.a(120,4));x.L(q.a(0,0));x.tc="Delete";c[a].f(x);var z=q.A.gb(k.qa("GUI/edit.png"));z.n(q.a(96,4));z.L(q.a(0,0));z.tc="Edit";c[a].f(z);f.push([x,z]);for(x=0;x<this.data.data[a].responses.length;x++){d[a].push(q.D.create());d[a][x].V(259,32);var z=!0,D=q.S.create(x+1+": "+this.data.data[a].responses[x].type,
"Arial",15);D.l(q.k(0,0,0));D.L(q.a(0,0));D.n(q.a(4,4));D.gc(q.size(180,0));d[a][x].V(259,D.c().height+8);d[a][x].f(D);D=q.A.gb(k.qa("GUI/trash.png"));D.n(q.a(229,0));D.L(q.a(0,0));D.tc="Delete";d[a][x].f(D);switch(this.data.data[a].responses[x].type){case "Destroy":case "Attack":case "Run Away":z=!1}z?(z=q.A.gb(k.qa("GUI/edit.png")),z.n(q.a(205,0)),z.L(q.a(0,0)),z.tc="Edit",d[a][x].f(z),g[a].push([D,z])):g[a].push([D])}x=q.ca.create(q.h(70,200,70,255),90,26);z=q.S.create("+","Arial",20);z.n(45,13);
z.L(q.a(0.5,0.5));x.n(q.a(84.5,0));x.tc="Add";x.f(z);g[a].push([x]);d[a].push(x);this.ff[a]=u;this.ff[a].identifier=a;var C=this;this.ff[a].Od=function(){for(var a=0,c=0;c<d[this.identifier].length;c++)a+=d[this.identifier][c].c().height;return q.size(259,a)};this.ff[a].Ad=function(){return d[this.identifier].length};this.ff[a].te=function(a){return d[this.identifier][a].c()};this.ff[a].re=function(a){return d[this.identifier][a]};this.ff[a].wc=function(a,c,d){C.Da(d.J);if(null==C.i)switch(a){case "Delete":C.X.f(DropDownList.Nd(C,
C.cS,["Cancel","Delete"],d.J));C.hb=c;C.hj=this.identifier;break;case "Edit":C.kI(this.identifier,"responses",c);break;case "Add":a="Talk;Give Talk Options;Destroy;Give/ Take Item;Set Quest Point;Warp Player;Wait;Repeat Responses;Open/Close Panel;Modify Player Stats".split(";");c=[{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0}];for(var e=0;e<C.data.data[this.identifier].responses.length;e++)"Repeat Responses"==C.data.data[this.identifier].responses[e].type&&
(c[7].enabled=!1);switch(C.data.specifier){case "NPC":a.push("Attack","Run Away","Defend","Modify NPC Stats");c.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0});break;case "Item":a.push("Equip Item","Read Item");c.push({enabled:!0},{enabled:!0});break;case "Tile":a.push("Block Entry","Add Layer Graphic"),c.push({enabled:!0},{enabled:!0})}C.X.f(DropDownList.Nd(C,C.eR,a,d.J,c));C.hj=this.identifier;break;case "Use":C.m.gt(c,C.Mc[c])}};this.ff[a].na=ListView.create(this.ff[a]);this.ff[a].na.Fe(g[a]);
this.ff[a].f(this.ff[a].na);for(x=0;x<this.data.data[a].requirements.length;x++)e[a].push(q.D.create()),e[a][x].V(259,32),u=q.S.create(x+1+": "+this.data.data[a].requirements[x].type,"Arial",15),u.l(q.k(0,0,0)),u.L(q.a(0,0)),u.n(q.a(4,4)),u.gc(q.size(180,0)),e[a][x].V(259,u.c().height+8),e[a][x].f(u),D=q.A.gb(k.qa("GUI/trash.png")),D.n(q.a(229,0)),D.L(q.a(0,0)),D.tc="Delete",e[a][x].f(D),z=q.A.gb(k.qa("GUI/edit.png")),z.n(q.a(205,0)),z.L(q.a(0,0)),z.tc="Edit",e[a][x].f(z),h[a].push([D,z]);u=q.ca.create(q.h(70,
200,70,255),90,26);x=q.S.create("+","Arial",20);x.n(45,13);x.L(q.a(0.5,0.5));u.n(q.a(84.5,0));u.tc="Add";u.f(x);h[a].push([u]);e[a].push(u);this.ef[a]=p;this.ef[a].identifier=a;C=this;this.ef[a].Od=function(){for(var a=0,c=0;c<e[this.identifier].length;c++)a+=e[this.identifier][c].c().height;return q.size(259,a)};this.ef[a].Ad=function(){return e[this.identifier].length};this.ef[a].te=function(a){return e[this.identifier][a].c()};this.ef[a].re=function(a){return e[this.identifier][a]};this.ef[a].wc=
function(a,c,d){C.Da(d.J);if(null==C.i)switch(a){case "Delete":C.X.f(DropDownList.Nd(C,C.bS,["Cancel","Delete"],d.J));C.hb=c;C.hj=this.identifier;break;case "Edit":C.kI(this.identifier,"requirements",c);break;case "Add":a=["Has Player Item","Is Player Statistics","Is Quest Point","Is Panel Visibility","Is Player Inventory Space"];switch(C.data.specifier){case "Tile":a.push("Is Event Fired By");break;case "NPC":a.push("Is NPC Statistics","Is NPC Actioning")}C.X.f(DropDownList.Nd(C,C.dR,a,d.J));C.hj=
this.identifier;break;case "Use":C.m.gt(c,C.Mc[c])}};this.ef[a].na=ListView.create(this.ef[a]);this.ef[a].na.Fe(h[a]);this.ef[a].f(this.ef[a].na);c[a].f(r);c[a].f(l);c[a].f(m);c[a].f(n)}a=q.ca.create(q.h(70,200,70,255),90,26);g=q.S.create("+","Arial",20);g.n(45,13);g.L(q.a(0.5,0.5));a.n(q.a(334,0));a.tc="Add";a.f(g);f.push([a]);c.push(a);this.R=this.b.main_panel.list;C=this;this.R.Od=function(){for(var a=0,d=0;d<c.length;d++)a+=c[d].c().height;return q.size(758,a)};this.R.Ad=function(){return c.length};
this.R.te=function(a){return c[a].c()};this.R.re=function(a){return c[a]};this.R.wc=function(a,c,d){C.Da(d.J);if(null==C.i)switch(a){case "Delete":a="Delete";C.JT(c)&&(a="Delete (Will destroy all child events)");C.X.f(DropDownList.Nd(C,C.aS,["Cancel",a],d.J));C.hb=c;break;case "Add":a=["Default Interaction","On Event End","On Examine","On Talk Option Selected"];var e=[{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!1}];0==C.data.data.length&&(e[1].enabled=!1);C.yS()&&(e[3].enabled=!0);switch(C.data.specifier){case "Item":a.push("On Pickup",
"On Drop","On Dequip","On Trade");e.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0});break;case "Tile":a.push("Interact On","Interact Facing","Will Enter","On Enter","Will Leave","On Leave","On Come Near"),e.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0}),e[0].enabled=!1}C.X.f(DropDownList.Nd(C,C.$Q,a,d.J,e));C.hb=c;break;case "Use":C.m.gt(c,C.Mc[c])}};this.R.na=ListView.create(this.R);this.R.na.Fe(f);this.R.f(this.R.na)},$H:function(a){for(var c=
0;c<this.data.data.length;c++)"On Event End"==this.data.data[c].type&&this.data.data[c].data.attachedEvent==a&&(this.$H(c),this.data.data.splice(c,1))},JT:function(a){for(var c=0;c<this.data.data.length;c++)if("On Event End"==this.data.data[c].type&&this.data.data[c].data.attachedEvent==a)return!0;return!1},yS:function(){for(var a=0;a<this.data.data.length;a++)for(var c=0;c<this.data.data[a].responses.length;c++)if("Give Talk Options"==this.data.data[a].responses[c].type)return!0;return!1},aS:function(a){switch(a){case 1:null!=
this.m.hb&&(this.m.$H(this.m.hb),this.m.data.data.splice(this.m.hb,1),this.m.Hb(),this.m.hb=null)}},cS:function(a){switch(a){case 1:null!=this.m.hb&&(this.m.data.data[this.m.hj].responses.splice(this.m.hb,1),this.m.Hb(),this.m.hb=null,this.m.hj=null)}},bS:function(a){switch(a){case 1:null!=this.m.hb&&(this.m.data.data[this.m.hj].requirements.splice(this.m.hb,1),this.m.Hb(),this.m.hb=null,this.m.hj=null)}},ZQ:function(a){this.m.data.data.push({type:"On Event End",responses:[],requirements:[],data:{attachedEvent:a}});
this.m.Hb()},$Q:function(a,c){var d="";switch(a){case 0:d="Default Event";break;case 1:for(var d=[],e=0;e<this.m.data.data.length;e++)d.push(e+": "+this.m.data.data[e].type);this.X.f(DropDownList.Nd(this.m,this.m.ZQ,d,c.J));return;case 2:d="On Examine";break;case 3:d="On Talk Option Selected"}if(""==d)switch(this.m.data.specifier){case "Item":switch(a){case 4:d="On Pickup";break;case 5:d="On Drop";break;case 6:d="On Dequip";break;case 7:d="On Trade"}break;case "Tile":switch(a){case 4:d="Interact On";
break;case 5:d="Interact Facing";break;case 6:d="Will Enter";break;case 7:d="On Enter";break;case 8:d="Will Leave";break;case 9:d="On Leave";break;case 10:d="On Come Near"}}this.m.data.data.push({type:d,responses:[],requirements:[],data:{}});this.m.Hb()},eR:function(a){var c="";switch(a){case 0:c="Talk";break;case 1:c="Give Talk Options";break;case 2:c="Destroy";break;case 3:c="Give /Take Item";break;case 4:c="Set Quest Point";break;case 5:c="Warp Player";break;case 6:c="Wait";break;case 7:c="Repeat Responses";
break;case 8:c="Open/Close Panel";break;case 9:c="Modify Player Stats"}if(""==c)switch(this.m.data.specifier){case "NPC":switch(a){case 10:c="Attack";break;case 11:c="Run Away";break;case 12:c="Defend";break;case 13:c="Modify NPC Stats"}break;case "Item":switch(a){case 10:c="Equip Item";break;case 11:c="Read Item"}break;case "Tile":switch(a){case 10:c="Block Entry";break;case 11:c="Add Layer Graphic"}}this.m.data.data[this.m.hj].responses.push({type:c,data:{}});this.m.Hb()},dR:function(a){var c="";
switch(a){case 0:c="Has Player Item";break;case 1:c="Is Player Statistics";break;case 2:c="Is Quest Point";break;case 3:c="Is Panel Visbility";break;case 4:c="Is Player Inventory Space"}if(""==c)switch(this.m.data.specifier){case "Tile":switch(a){case 5:c="Is Event Fired By"}break;case "NPC":switch(a){case 5:c="Is NPC Statistics";break;case 6:c="Is NPC Actioning"}}this.m.data.data[this.m.hj].requirements.push({type:c,data:{}});this.m.Hb()},Oc:function(){return{panels:{position:q.a(0,60),children:{background_image:{Z:"GUI/event_panel.png",
d:q.a(0,0)},main_panel:{d:q.a(0,0),size:q.size(1E3,400),children:{list:{size:q.size(758,360),u:q.h(0,200,200,200),position:q.a(0,0),d:q.a(0,0)},okbtn:{position:q.a(4,364),size:q.size(32,32),Z:"GUI/tick_icon.png",d:q.a(0,0)},cancelbtn:{position:q.a(46,364),size:q.size(32,32),Z:"GUI/cross_icon.png",d:q.a(0,0)},defaultsbtn:{position:q.a(542,364),size:q.size(64,32),u:q.h(0,255,0,255),d:q.a(0,0),children:{contents:{label:"Defaults",position:q.a(32,16),d:q.a(0.5,0.5),color:q.k(0,0,0)}}},specifier:{position:q.a(620,
364),size:q.size(128,32),u:q.h(0,255,0,255),d:q.a(0,0),children:{contents:{label:"Includes: None",position:q.a(64,16),d:q.a(0.5,0.5),color:q.k(0,0,0)}}},namelbl:{label:"Name:",fontSize:20,d:q.a(0,0),position:q.a(110,368),color:q.k(0,0,0)},nameEntry:{position:q.a(180,364),size:q.size(340,32),u:q.h(255,255,255,255)}}},control_panel:{d:q.a(0,0),position:q.a(0,400),size:q.size(1E3,32),children:{header:{label:"Script Editor",fontSize:20,d:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(976,6),size:q.size(20,
20),d:q.a(0,0),Z:"GUI/close.png"}}},subEditorOver:{visible:!1,u:q.h(0,0,0,127),position:q.a(0,0),size:q.size(800,400)},mainEditorOver:{u:q.h(0,0,0,127),position:q.a(800,0),size:q.size(200,400)}}}}},kI:function(a,c,d){this.Ia={event:a,listtype:c,id:d};this.hq=this.data.data[a][c][d].type;this.WX()},baa:function(a){this.data.data[this.Ia.event][this.Ia.listtype][this.Ia.id].data=ua(a);this.Vw();this.Ia=null;this.Hb()},aaa:function(){this.Vw();this.Ia=null},defaultSelected:function(a,c){0<this.m.data.data.length?
(this.m.XH=a,this.X.f(DropDownList.Nd(this.m,this.m.eS,["Cancel","Clear Script (Required)"],c.J))):this.m.zK(a)},X2:function(){},rE:null,sE:null,tE:null,Gx:null,YJ:null,GJ:null,fj:null,gj:null,Yx:null,Ml:null,Nl:null,Ll:null,$x:null,ay:null,Zx:null,OJ:null,Qn:0,EJ:null,yH:null,cx:null,zc:null,fy:null,WX:function(){this.b.subEditorOver.v(!0);this.b.mainEditorOver.v(!1);var a={panels:{position:q.a(802,0),children:{}}},c=this.data.data[this.Ia.event][this.Ia.listtype][this.Ia.id].data;switch(this.hq){case "Warp Player":a.panels.children=
{mapNumberLabel:{label:"Map ID",d:q.a(0,0),position:q.a(12,374)},mapNumberText:{u:q.h(255,255,255,255),d:q.a(0,0),position:q.a(12,340),size:q.size(100,32)},mapXLabel:{label:"Map X",d:q.a(0,0),position:q.a(12,310)},mapXText:{u:q.h(255,255,255,255),d:q.a(0,0),position:q.a(12,276),size:q.size(80,32)},mapYLabel:{label:"Map Y",d:q.a(0,0),position:q.a(100,310)},mapYText:{u:q.h(255,255,255,255),d:q.a(0,0),position:q.a(100,276),size:q.size(80,32)}};break;case "Talk":case "Read Item":a.panels.children={sayLabel:{label:"Say:",
d:q.a(0,0),position:q.a(12,374)},sayText:{u:q.h(255,255,255,255),d:q.a(0,0),position:q.a(12,50),size:q.size(174,322)}};break;case "Is Quest Point":case "Set Quest Point":a.panels.children={questLabel:{label:"Quest:",d:q.a(0,0),position:q.a(12,374)},questList:{u:q.h(255,255,255,255),d:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},objectiveLabel:{label:"Objective:",d:q.a(0,0),position:q.a(12,189)},objectiveList:{u:q.h(255,255,255,255),d:q.a(0,0),position:q.a(12,50),size:q.size(154,135)}};break;
case "Give /Take Item":case "Has Player Item":a.panels.children={itemsLabel:{label:"Item:",d:q.a(0,0),position:q.a(12,374)},itemList:{u:q.h(255,255,255,255),d:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},amountLabel:{label:"Amount:",d:q.a(0,0),position:q.a(12,189)},amountText:{u:q.h(255,255,255,255),d:q.a(0,0),position:q.a(12,153),size:q.size(154,32)},amountNote:{label:"Has Player Item"==this.hq?"":"Use negative item amounts to take away. Use positive amounts to give.",d:q.a(0,1),position:q.a(12,
145)}};break;case "Modify Player Stats":case "Modify NPC Stats":a.panels.children={skillsLabel:{label:"Skill:",d:q.a(0,0),position:q.a(12,374)},skillList:{u:q.h(255,255,255,255),d:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},levelLabel:{label:"Level Modify",d:q.a(0,0),position:q.a(12,205)},levelText:{u:q.h(255,255,255,255),d:q.a(0,0),position:q.a(12,169),size:q.size(154,32)},expLabel:{label:"XP Modify: (% allowed)",d:q.a(0,0),position:q.a(12,145)},expText:{u:q.h(255,255,255,255),d:q.a(0,0),
position:q.a(12,109),size:q.size(154,32)},healthLabel:{label:"Health Modify: (% allowed)",d:q.a(0,0),position:q.a(12,85)},healthText:{u:q.h(255,255,255,255),d:q.a(0,0),position:q.a(12,49),size:q.size(154,32)}};break;case "Is Panel Visbility":case "Open/Close Panel":a.panels.children={panelsLabel:{label:"Panel:",d:q.a(0,0),position:q.a(12,374)},panelList:{u:q.h(255,255,255,255),d:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},visibleLabel:{label:"Visibility:",d:q.a(0,0),position:q.a(12,205)},
visibleButton:{u:q.h(255,0,0,255),d:q.a(0,0),position:q.a(12,169),size:q.size(154,32),children:{content:{position:q.a(77,16),d:q.a(0.5,0.5),label:"Invisible",color:q.k(0,0,0)}}}};break;case "Is Event Fired By":a.panels.children={objectLabel:{label:"Possible Types:",d:q.a(0,0),position:q.a(12,374)},objectList:{u:q.h(255,255,255,255),d:q.a(0,0),position:q.a(12,230),size:q.size(154,135)}};break;case "Is NPC Actioning":a.panels.children={actionLabel:{label:"Actions:",d:q.a(0,0),position:q.a(12,374)},
actionList:{u:q.h(255,255,255,255),d:q.a(0,0),position:q.a(12,230),size:q.size(154,135)}};break;case "Is Player Inventory Space":a.panels.children={spaceLabel:{label:"Inventory Space",d:q.a(0,0),position:q.a(12,374)},spaceText:{u:q.h(255,255,255,255),d:q.a(0,0),position:q.a(12,340),size:q.size(100,32)}};break;case "Wait":a.panels.children={timeLabel:{label:"Time (Seconds)",d:q.a(0,0),position:q.a(12,374)},timeText:{u:q.h(255,255,255,255),d:q.a(0,0),position:q.a(12,340),size:q.size(100,32)}};break;
case "Repeat Responses":a.panels.children={amountLabel:{label:"Repeat Amount",d:q.a(0,0),position:q.a(12,374)},amountText:{u:q.h(255,255,255,255),d:q.a(0,0),position:q.a(12,340),size:q.size(100,32)},amountNote:{label:"Use 0 for infinite amount of repeats.",d:q.a(0,1),position:q.a(12,300)}};break;case "Is Player Statistics":case "Is NPC Statistics":a.panels.children={skillsLabel:{label:"Skill:",d:q.a(0,0),position:q.a(12,374)},skillList:{u:q.h(255,255,255,255),d:q.a(0,0),position:q.a(12,230),size:q.size(154,
135)},levelLabel:{label:"Level Range",d:q.a(0,0),position:q.a(12,205)},levelDash:{label:"-",d:q.a(0,0),position:q.a(91,174)},levelTextLower:{u:q.h(255,255,255,255),d:q.a(0,0),position:q.a(12,169),size:q.size(75,32)},levelTextUpper:{u:q.h(255,255,255,255),d:q.a(0,0),position:q.a(100,169),size:q.size(75,32)},expLabel:{label:"XP Range: (% allowed)",d:q.a(0,0),position:q.a(12,145)},expDash:{label:"-",d:q.a(0,0),position:q.a(91,114)},expTextLower:{u:q.h(255,255,255,255),d:q.a(0,0),position:q.a(100,109),
size:q.size(75,32)},expTextUpper:{u:q.h(255,255,255,255),d:q.a(0,0),position:q.a(12,109),size:q.size(75,32)},healthLabel:{label:"Health Range: (% allowed)",d:q.a(0,0),position:q.a(12,85)},healthDash:{label:"-",d:q.a(0,0),position:q.a(91,54)},healthTextLower:{u:q.h(255,255,255,255),d:q.a(0,0),position:q.a(12,49),size:q.size(75,32)},healthTextUpper:{u:q.h(255,255,255,255),d:q.a(0,0),position:q.a(100,49),size:q.size(75,32)}};break;case "Equip Item":a.panels.children={equipLabel:{label:"Equips To:",d:q.a(0,
0),position:q.a(12,374)},headButton:{u:q.h(255,0,0,255),d:q.a(0,0),position:q.a(69,320),size:q.size(55,32),children:{content:{position:q.a(28,16),d:q.a(0.5,0.5),label:"Head",color:q.k(0,0,0)}}},bodyButton:{u:q.h(255,0,0,255),d:q.a(0,0),position:q.a(69,280),size:q.size(55,32),children:{content:{position:q.a(28,16),d:q.a(0.5,0.5),label:"Body",color:q.k(0,0,0)}}},legButton:{u:q.h(255,0,0,255),d:q.a(0,0),position:q.a(69,240),size:q.size(55,32),children:{content:{position:q.a(28,16),d:q.a(0.5,0.5),label:"Legs",
color:q.k(0,0,0)}}},feetButton:{u:q.h(255,0,0,255),d:q.a(0,0),position:q.a(69,200),size:q.size(55,32),children:{content:{position:q.a(28,16),d:q.a(0.5,0.5),label:"Feet",color:q.k(0,0,0)}}},lArmButton:{u:q.h(255,0,0,255),d:q.a(0,0),position:q.a(10,280),size:q.size(55,32),children:{content:{position:q.a(28,16),d:q.a(0.5,0.5),label:"L Arm",color:q.k(0,0,0)}}},rArmButton:{u:q.h(255,0,0,255),d:q.a(0,0),position:q.a(128,280),size:q.size(55,32),children:{content:{position:q.a(28,16),d:q.a(0.5,0.5),label:"R Arm",
color:q.k(0,0,0)}}},modButton:{u:q.h(255,0,0,255),d:q.a(0,0),position:q.a(10,160),size:q.size(55,32),children:{content:{position:q.a(28,16),d:q.a(0.5,0.5),label:"Mod",color:q.k(0,0,0)}}}}}a.panels.children.okbtn={position:q.a(62,8),size:q.size(32,32),Z:"GUI/tick_icon.png",d:q.a(0,0)};a.panels.children.cancelbtn={position:q.a(106,8),size:q.size(32,32),Z:"GUI/cross_icon.png",d:q.a(0,0)};this.i=Ha(a,!0);this.b.f(this.i);switch(this.hq){case "Warp Player":var d=a=1;c.index&&(a=c.index%S,d=Math.floor(c.index/
S));this.rE=new Y(this.i.mapNumberText,q.size(this.i.mapNumberText.c().width,this.i.mapNumberText.c().height),q.a(0,this.i.mapNumberText.c().height),null!=c.mapnum&&"undefined"!==c.mapnum?c.mapnum:"0",q.h(255,255,255),q.k(0,0,0));this.rE.tb(!0);this.sE=new Y(this.i.mapXText,q.size(this.i.mapXText.c().width,this.i.mapXText.c().height),q.a(0,this.i.mapXText.c().height),a,q.h(255,255,255),q.k(0,0,0));this.sE.tb(!0);this.tE=new Y(this.i.mapYText,q.size(this.i.mapYText.c().width,this.i.mapYText.c().height),
q.a(0,this.i.mapYText.c().height),d,q.h(255,255,255),q.k(0,0,0));this.tE.tb(!0);break;case "Talk":case "Read Item":this.Gx=new Y(this.i.sayText,q.size(this.i.sayText.c().width,this.i.sayText.c().height),q.a(0,this.i.sayText.c().height),c.say?c.say:"\x3cEnter text\x3e",q.h(255,255,255),q.k(0,0,0),!0);this.Gx.tb(!0);this.Gx.Ed(!1);break;case "Is Quest Point":case "Set Quest Point":for(var e=[],a=[],f=ObjectLists.Bs(),d=0;d<f.length;d++){e[d]=q.D.create();var g=q.ca.create(q.h(0,0,0,127),154,1),h=q.S.create(f[d].name,
"Arial",15);h.l(q.k(0,0,0));h.L(q.a(0,0));h.n(q.a(4,4));h.gc(q.size(126,0));var k=q.A.gb(q.ha.e().qa("GUI/use.png"));k.n(q.a(130,0));k.L(q.a(0,0));k.tc="Use";e[d].V(154,h.c().height+8);k.bd((h.c().height+8)/2-10);a.push([k]);var l=q.ca.create(q.h(255,255,255,255),154,h.c().height+8);e[d].f(l);e[d].Ac=l;e[d].f(g);e[d].f(h);e[d].f(k)}var m=this;this.i.questList.Od=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.i.questList.Ad=function(){return e.length};this.i.questList.te=
function(a){return e[a].c()};this.i.questList.re=function(a){return e[a]};this.i.questList.Yi=function(a){return e[a].Ac};this.i.questList.wc=function(a,c){if("Use"==a){m.i.objectiveList.na&&m.i.objectiveList.na.N();this.na.Ac(c);m.YJ=c;for(var d=[],e=[],f=q.ha.e(),g=ObjectLists.Bs()[c].objectiveList,h=0;h<g.length;h++){d[h]=q.D.create();var k=q.ca.create(q.h(0,0,0,127),154,1);k.n(q.a(0,0));var l=q.S.create(g[h],"Arial",15);l.l(q.k(0,0,0));l.L(q.a(0,0));l.n(q.a(4,4));l.gc(q.size(126,0));var L=q.A.gb(f.qa("GUI/use.png"));
L.n(q.a(130,0));L.L(q.a(0,0));L.tc="Use";e.push([L]);d[h].V(126,l.c().height+8);L.bd((l.c().height+8)/2-10);var Q=q.ca.create(q.h(255,255,255,255),154,l.c().height+8);d[h].f(Q);d[h].Ac=Q;d[h].f(k);d[h].f(l);d[h].f(L)}m.i.objectiveList.Od=function(){for(var a=0,c=0;c<d.length;c++)a+=d[c].c().height;return q.size(154,a)};m.i.objectiveList.Ad=function(){return d.length};m.i.objectiveList.Yi=function(a){return d[a].Ac};m.i.objectiveList.te=function(a){return d[a].c()};m.i.objectiveList.re=function(a){return d[a]};
m.i.objectiveList.wc=function(a,c){this.na.Ac(c);m.GJ=c};m.i.objectiveList.na=ListView.create(m.i.objectiveList);m.i.objectiveList.na.Fe(e);m.i.objectiveList.f(m.i.objectiveList.na)}};this.i.questList.na=ListView.create(this.i.questList);this.i.questList.na.Fe(a);this.i.questList.f(this.i.questList.na);null!=c.quest&&"undefined"!==c.quest&&(this.i.questList.wc("Use",c.quest),null!=c.objective&&"undefined"!==c.objective&&this.i.objectiveList.wc("Use",c.objective));break;case "Give /Take Item":case "Has Player Item":this.i.amountNote.gc(q.size(180,
0));e=[];a=[];f=ObjectLists.di();for(d=0;d<f.length;d++)e[d]=q.D.create(),g=q.ca.create(q.h(0,0,0,127),154,1),h=q.S.create(f[d].name,"Arial",15),h.l(q.k(0,0,0)),h.L(q.a(0,0)),h.n(q.a(4,4)),h.gc(q.size(126,0)),k=q.A.gb(q.ha.e().qa("GUI/use.png")),k.n(q.a(130,0)),k.L(q.a(0,0)),k.tc="Use",e[d].V(154,h.c().height+8),k.bd((h.c().height+8)/2-10),a.push([k]),l=q.ca.create(q.h(255,255,255,255),154,h.c().height+8),e[d].f(l),e[d].Ac=l,e[d].f(g),e[d].f(h),e[d].f(k);m=this;this.i.itemList.Od=function(){for(var a=
0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.i.itemList.Ad=function(){return e.length};this.i.itemList.te=function(a){return e[a].c()};this.i.itemList.re=function(a){return e[a]};this.i.itemList.Yi=function(a){return e[a].Ac};this.i.itemList.wc=function(a,c){"Use"==a&&(this.na.Ac(c),m.gj=c)};this.i.itemList.na=ListView.create(this.i.itemList);this.i.itemList.na.Fe(a);this.i.itemList.f(this.i.itemList.na);null!=c.item&&"undefined"!==c.item&&this.i.itemList.wc("Use",c.item);this.fj=
new Y(this.i.amountText,q.size(this.i.amountText.c().width,this.i.amountText.c().height),q.a(0,this.i.amountText.c().height),c.amount?c.amount:"0",q.h(255,255,255),q.k(0,0,0));this.fj.tb(!0);this.fj.Ed(!1);break;case "Modify Player Stats":case "Modify NPC Stats":e=[];a=[];f=ObjectLists.aj();for(d=0;d<f.length;d++)e[d]=q.D.create(),g=q.ca.create(q.h(0,0,0,127),154,1),h=q.S.create(f[d].name,"Arial",15),h.l(q.k(0,0,0)),h.L(q.a(0,0)),h.n(q.a(4,4)),h.gc(q.size(126,0)),k=q.A.gb(q.ha.e().qa("GUI/use.png")),
k.n(q.a(130,0)),k.L(q.a(0,0)),k.tc="Use",e[d].V(154,h.c().height+8),k.bd((h.c().height+8)/2-10),a.push([k]),l=q.ca.create(q.h(255,255,255,255),154,h.c().height+8),e[d].f(l),e[d].Ac=l,e[d].f(g),e[d].f(h),e[d].f(k);m=this;this.i.skillList.Od=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.i.skillList.Ad=function(){return e.length};this.i.skillList.te=function(a){return e[a].c()};this.i.skillList.re=function(a){return e[a]};this.i.skillList.Yi=function(a){return e[a].Ac};
this.i.skillList.wc=function(a,c){"Use"==a&&(this.na.Ac(c),m.Yx=c)};this.i.skillList.na=ListView.create(this.i.skillList);this.i.skillList.na.Fe(a);this.i.skillList.f(this.i.skillList.na);null!=c.skill&&"undefined"!==c.skill&&this.i.skillList.wc("Use",c.skill);this.Ml=new Y(this.i.levelText,q.size(this.i.levelText.c().width,this.i.levelText.c().height),q.a(0,this.i.levelText.c().height),c.level?c.level:"0",q.h(255,255,255),q.k(0,0,0));this.Ml.tb(!0);this.Ml.Ed(!1);this.Nl=new Y(this.i.expText,q.size(this.i.expText.c().width,
this.i.expText.c().height),q.a(0,this.i.expText.c().height),c.xp?c.xp:"0",q.h(255,255,255),q.k(0,0,0));this.Nl.tb(!0);this.Nl.Ed(!1);this.Ll=new Y(this.i.healthText,q.size(this.i.healthText.c().width,this.i.healthText.c().height),q.a(0,this.i.healthText.c().height),c.health?c.health:"0",q.h(255,255,255),q.k(0,0,0));this.Ll.tb(!0);this.Ll.Ed(!1);break;case "Is Panel Visbility":case "Open/Close Panel":e=[];a=[];f=["Inventory","Equipment","Skills","QuestLog"];for(d=0;d<f.length;d++)e[d]=q.D.create(),
g=q.ca.create(q.h(0,0,0,127),154,1),h=q.S.create(f[d],"Arial",15),h.l(q.k(0,0,0)),h.L(q.a(0,0)),h.n(q.a(4,4)),h.gc(q.size(126,0)),k=q.A.gb(q.ha.e().qa("GUI/use.png")),k.n(q.a(130,0)),k.L(q.a(0,0)),k.tc="Use",e[d].V(154,h.c().height+8),k.bd((h.c().height+8)/2-10),a.push([k]),l=q.ca.create(q.h(255,255,255,255),154,h.c().height+8),e[d].f(l),e[d].Ac=l,e[d].f(g),e[d].f(h),e[d].f(k);m=this;this.i.panelList.Od=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.i.panelList.Ad=
function(){return e.length};this.i.panelList.te=function(a){return e[a].c()};this.i.panelList.re=function(a){return e[a]};this.i.panelList.Yi=function(a){return e[a].Ac};this.i.panelList.wc=function(a,c){"Use"==a&&(this.na.Ac(c),m.OJ=c)};this.i.panelList.na=ListView.create(this.i.panelList);this.i.panelList.na.Fe(a);this.i.panelList.f(this.i.panelList.na);null!=c.panel&&"undefined"!==c.panel&&this.i.panelList.wc("Use",c.panel);this.Qn=1==c.visible?1:0;1==this.Qn&&(this.i.visibleButton.l(q.h(0,255,
0,255)),this.i.visibleButton.content.ea("Visible"));break;case "Is Event Fired By":e=[];a=[];f=["Player","NPC"];for(d=0;d<f.length;d++)e[d]=q.D.create(),g=q.ca.create(q.h(0,0,0,127),154,1),h=q.S.create(f[d],"Arial",15),h.l(q.k(0,0,0)),h.L(q.a(0,0)),h.n(q.a(4,4)),h.gc(q.size(126,0)),k=q.A.gb(q.ha.e().qa("GUI/use.png")),k.n(q.a(130,0)),k.L(q.a(0,0)),k.tc="Use",e[d].V(154,h.c().height+8),k.bd((h.c().height+8)/2-10),a.push([k]),l=q.ca.create(q.h(255,255,255,255),154,h.c().height+8),e[d].f(l),e[d].Ac=
l,e[d].f(g),e[d].f(h),e[d].f(k);m=this;this.i.objectList.Od=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.i.objectList.Ad=function(){return e.length};this.i.objectList.te=function(a){return e[a].c()};this.i.objectList.re=function(a){return e[a]};this.i.objectList.Yi=function(a){return e[a].Ac};this.i.objectList.wc=function(a,c){"Use"==a&&(this.na.Ac(c),m.EJ=c)};this.i.objectList.na=ListView.create(this.i.objectList);this.i.objectList.na.Fe(a);this.i.objectList.f(this.i.objectList.na);
null!=c.object&&"undefined"!==c.object&&this.i.objectList.wc("Use",c.object);break;case "Is NPC Actioning":e=[];a=[];f=["Attacking","Defending","Fleeing"];for(d=0;d<f.length;d++)e[d]=q.D.create(),g=q.ca.create(q.h(0,0,0,127),154,1),h=q.S.create(f[d],"Arial",15),h.l(q.k(0,0,0)),h.L(q.a(0,0)),h.n(q.a(4,4)),h.gc(q.size(126,0)),k=q.A.gb(q.ha.e().qa("GUI/use.png")),k.n(q.a(130,0)),k.L(q.a(0,0)),k.tc="Use",e[d].V(154,h.c().height+8),k.bd((h.c().height+8)/2-10),a.push([k]),l=q.ca.create(q.h(255,255,255,
255),154,h.c().height+8),e[d].f(l),e[d].Ac=l,e[d].f(g),e[d].f(h),e[d].f(k);m=this;this.i.actionList.Od=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.i.actionList.Ad=function(){return e.length};this.i.actionList.te=function(a){return e[a].c()};this.i.actionList.re=function(a){return e[a]};this.i.actionList.Yi=function(a){return e[a].Ac};this.i.actionList.wc=function(a,c){"Use"==a&&(this.na.Ac(c),m.yH=c)};this.i.actionList.na=ListView.create(this.i.actionList);
this.i.actionList.na.Fe(a);this.i.actionList.f(this.i.actionList.na);null!=c.action&&"undefined"!==c.action&&this.i.actionList.wc("Use",c.action);break;case "Is Player Inventory Space":this.cx=new Y(this.i.spaceText,q.size(this.i.spaceText.c().width,this.i.spaceText.c().height),q.a(0,this.i.spaceText.c().height),null!=c.space&&"undefined"!==c.space?c.space:"0",q.h(255,255,255),q.k(0,0,0));this.cx.tb(!0);this.cx.Ed(!1);break;case "Wait":this.fy=new Y(this.i.timeText,q.size(this.i.timeText.c().width,
this.i.timeText.c().height),q.a(0,this.i.timeText.c().height),null!=c.time&&"undefined"!==c.time?c.time:"0",q.h(255,255,255),q.k(0,0,0));this.fy.tb(!0);this.fy.Ed(!1);break;case "Repeat Responses":this.i.amountNote.gc(q.size(180,0));this.ED=new Y(this.i.amountText,q.size(this.i.amountText.c().width,this.i.amountText.c().height),q.a(0,this.i.amountText.c().height),null!=c.amount&&"undefined"!==c.amount?c.amount:"1",q.h(255,255,255),q.k(0,0,0));this.ED.tb(!0);this.ED.Ed(!1);break;case "Is Player Statistics":case "Is NPC Statistics":e=
[];a=[];f=ObjectLists.aj();for(d=0;d<f.length;d++)e[d]=q.D.create(),g=q.ca.create(q.h(0,0,0,127),154,1),h=q.S.create(f[d].name,"Arial",15),h.l(q.k(0,0,0)),h.L(q.a(0,0)),h.n(q.a(4,4)),h.gc(q.size(126,0)),k=q.A.gb(q.ha.e().qa("GUI/use.png")),k.n(q.a(130,0)),k.L(q.a(0,0)),k.tc="Use",e[d].V(154,h.c().height+8),k.bd((h.c().height+8)/2-10),a.push([k]),l=q.ca.create(q.h(255,255,255,255),154,h.c().height+8),e[d].f(l),e[d].Ac=l,e[d].f(g),e[d].f(h),e[d].f(k);m=this;this.i.skillList.Od=function(){for(var a=
0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.i.skillList.Ad=function(){return e.length};this.i.skillList.te=function(a){return e[a].c()};this.i.skillList.re=function(a){return e[a]};this.i.skillList.Yi=function(a){return e[a].Ac};this.i.skillList.wc=function(a,c){"Use"==a&&(this.na.Ac(c),m.Yx=c)};this.i.skillList.na=ListView.create(this.i.skillList);this.i.skillList.na.Fe(a);this.i.skillList.f(this.i.skillList.na);null!=c.skill&&"undefined"!==c.skill&&this.i.skillList.wc("Use",
c.skill);this.Ml=new Y(this.i.levelTextLower,q.size(this.i.levelTextLower.c().width,this.i.levelTextLower.c().height),q.a(0,this.i.levelTextLower.c().height),null!=c.levelLower&&"undefined"!==c.levelLower?c.levelLower:"0",q.h(255,255,255),q.k(0,0,0));this.Ml.tb(!0);this.Ml.Ed(!1);this.Nl=new Y(this.i.expTextLower,q.size(this.i.expTextLower.c().width,this.i.expTextLower.c().height),q.a(0,this.i.expTextLower.c().height),null!=c.xpLower&&"undefined"!==c.xpLower?c.xpLower:"0",q.h(255,255,255),q.k(0,0,
0));this.Nl.tb(!0);this.Nl.Ed(!1);this.Ll=new Y(this.i.healthTextLower,q.size(this.i.healthTextLower.c().width,this.i.healthTextLower.c().height),q.a(0,this.i.healthTextLower.c().height),null!=c.healthLower&&"undefined"!==c.healthLower?c.healthLower:"0",q.h(255,255,255),q.k(0,0,0));this.Ll.tb(!0);this.Ll.Ed(!1);this.$x=new Y(this.i.levelTextUpper,q.size(this.i.levelTextUpper.c().width,this.i.levelTextUpper.c().height),q.a(0,this.i.levelTextUpper.c().height),null!=c.levelUpper&&"undefined"!==c.levelUpper?
c.levelUpper:"0",q.h(255,255,255),q.k(0,0,0));this.$x.tb(!0);this.$x.Ed(!1);this.ay=new Y(this.i.expTextUpper,q.size(this.i.expTextUpper.c().width,this.i.expTextUpper.c().height),q.a(0,this.i.expTextUpper.c().height),null!=c.xpUpper&&"undefined"!==c.xpUpper?c.xpUpper:"0",q.h(255,255,255),q.k(0,0,0));this.ay.tb(!0);this.ay.Ed(!1);this.Zx=new Y(this.i.healthTextUpper,q.size(this.i.healthTextUpper.c().width,this.i.healthTextUpper.c().height),q.a(0,this.i.healthTextUpper.c().height),null!=c.healthUpper&&
"undefined"!==c.healthUpper?c.healthUpper:"0",q.h(255,255,255),q.k(0,0,0));this.Zx.tb(!0);this.Zx.Ed(!1);break;case "Equip Item":null!=c.equip&&"undefined"!==c.equip?(this.zc="head",this.nk(c.equip)):this.nk("head")}},Vw:function(){this.b.subEditorOver.v(!1);this.b.mainEditorOver.v(!0);this.hq=null;this.i.N();this.i=null},zK:function(a){switch(a){case 0:this.Gn(1,!0);this.data.data=[{type:"Will Enter",responses:[{type:"Block Entry",data:{}}],requirements:[],data:{}}];break;case 1:this.Gn(1,!0);this.data.data=
[{type:"On Enter",responses:[{type:"Warp Player",data:{}}],requirements:[],data:{}}];break;case 2:this.Gn(1,!0);this.data.data=[{type:"Default Event",responses:[{type:"Show Sign",data:{}}],requirements:[],data:{}}];break;case 3:this.Gn(1,!0);this.data.data=[{type:"Will Enter",responses:[{type:"Block Entry",data:{}}],requirements:[{objectType:"NPC"}],data:{}}];break;case 4:this.Gn(1,!0),this.data.data=[{type:"On Enter",responses:[{type:"Allow PVP",data:{}}],requirements:[],data:{}}]}this.Hb()},Gn:function(a,
c){switch(a){case 0:this.data.specifier="Item";this.b.main_panel.specifier.contents.ea("Includes: Item");break;case 1:this.data.specifier="Tile";this.b.main_panel.specifier.contents.ea("Includes: Tile");break;case 2:this.data.specifier="NPC";this.b.main_panel.specifier.contents.ea("Includes: NPC");break;case 3:this.data.specifier="None",this.b.main_panel.specifier.contents.ea("Includes: None")}this.data.data=[];c||this.Hb()},fS:function(a){1==a&&this.m.Gn(this.m.mL)},eS:function(a){1==a&&this.m.zK(this.m.XH)},
nk:function(a){this.i.headButton.l(q.h(255,255,255,255));this.i.bodyButton.l(q.h(255,255,255,255));this.i.legButton.l(q.h(255,255,255,255));this.i.feetButton.l(q.h(255,255,255,255));this.i.lArmButton.l(q.h(255,255,255,255));this.i.rArmButton.l(q.h(255,255,255,255));this.i.modButton.l(q.h(255,255,255,255));switch(a){case "head":this.zc=a;this.i.headButton.l(q.h(255,0,0,255));return;case "body":this.zc=a;this.i.bodyButton.l(q.h(255,0,0,255));return;case "legs":this.zc=a;this.i.legButton.l(q.h(255,0,
0,255));return;case "feet":this.zc=a;this.i.feetButton.l(q.h(255,0,0,255));return;case "mod":this.zc=a;this.i.modButton.l(q.h(255,0,0,255));return;case "bothArms":this.zc=a;this.i.lArmButton.l(q.h(255,0,0,255));this.i.rArmButton.l(q.h(255,0,0,255));return}"bothArms"!=this.zc&&"lArm"!=this.zc&&"rArm"!=this.zc&&"lArm"==a?(this.i.lArmButton.l(q.h(255,0,0,255)),this.zc="lArm"):"bothArms"!=this.zc&&"lArm"!=this.zc&&"rArm"!=this.zc&&"rArm"==a?(this.i.rArmButton.l(q.h(255,0,0,255)),this.zc="rArm"):"rArm"==
this.zc&&"lArm"==a?(this.i.lArmButton.l(q.h(255,0,0,255)),this.i.rArmButton.l(q.h(255,0,0,255)),this.zc="bothArms"):"lArm"==this.zc&&"rArm"==a?(this.i.lArmButton.l(q.h(255,0,0,255)),this.i.rArmButton.l(q.h(255,0,0,255)),this.zc="bothArms"):"bothArms"==this.zc&&"rArm"==a?(this.i.lArmButton.l(q.h(255,0,0,255)),this.zc="lArm"):"bothArms"==this.zc&&"lArm"==a&&(this.i.rArmButton.l(q.h(255,0,0,255)),this.zc="rArm")},dY:function(a,c){if(0<this.m.data.data.length)return this.m.mL=a,this.X.f(DropDownList.Nd(this.m,
this.m.fS,["Cancel","Clear Script (Required)"],c.J)),!1;this.m.Gn(a)},lb:function(a){if(this._super(a))return!0;this.Cd=null;var c=a.J;if(this.i){c=this.i.Da(c);if(O(this.i.okbtn,c)){switch(this.hq){case "Warp Player":this.data.data[this.Ia.event][this.Ia.listtype][this.Ia.id].data={mapnum:parseInt(this.rE.U()),index:T(parseInt(this.sE.U()),Pa-parseInt(this.tE.U()))};break;case "Talk":case "Read Item":this.data.data[this.Ia.event][this.Ia.listtype][this.Ia.id].data={say:this.Gx.U()};break;case "Is Quest Point":case "Set Quest Point":this.data.data[this.Ia.event][this.Ia.listtype][this.Ia.id].data=
{quest:this.YJ,objective:this.GJ};break;case "Give /Take Item":case "Has Player Item":this.data.data[this.Ia.event][this.Ia.listtype][this.Ia.id].data={item:this.gj,amount:parseInt(this.fj.U())};break;case "Modify Player Stats":case "Modify NPC Stats":this.data.data[this.Ia.event][this.Ia.listtype][this.Ia.id].data={skill:this.Yx,level:parseInt(this.Ml.U()),xp:parseInt(this.Nl.U()),health:parseInt(this.Ll.U())};break;case "Is Panel Visbility":case "Open/Close Panel":this.data.data[this.Ia.event][this.Ia.listtype][this.Ia.id].data=
{panel:this.OJ,visible:this.Qn};break;case "Is Event Fired By":this.data.data[this.Ia.event][this.Ia.listtype][this.Ia.id].data={object:this.EJ};break;case "Is NPC Actioning":this.data.data[this.Ia.event][this.Ia.listtype][this.Ia.id].data={action:this.yH};break;case "Is Player Inventory Space":this.data.data[this.Ia.event][this.Ia.listtype][this.Ia.id].data={space:parseInt(this.cx.U())};break;case "Wait":this.data.data[this.Ia.event][this.Ia.listtype][this.Ia.id].data={time:parseInt(this.fy.U())};
break;case "Repeat Responses":this.data.data[this.Ia.event][this.Ia.listtype][this.Ia.id].data={amount:parseInt(this.ED.U())};break;case "Is Player Statistics":case "Is NPC Statistics":this.data.data[this.Ia.event][this.Ia.listtype][this.Ia.id].data={skill:this.Yx,levelLower:parseInt(this.Ml.U()),xpLower:parseInt(this.Nl.U()),healthLower:parseInt(this.Ll.U()),levelUpper:parseInt(this.$x.U()),xpUpper:parseInt(this.ay.U()),healthUpper:parseInt(this.Zx.U())};break;case "Equip Item":this.data.data[this.Ia.event][this.Ia.listtype][this.Ia.id].data=
{equip:this.zc}}this.Vw();return!0}if(this.i.headButton&&O(this.i.headButton,c))return this.nk("head"),!0;if(this.i.bodyButton&&O(this.i.bodyButton,c))return this.nk("body"),!0;if(this.i.legButton&&O(this.i.legButton,c))return this.nk("legs"),!0;if(this.i.feetButton&&O(this.i.feetButton,c))return this.nk("feet"),!0;if(this.i.lArmButton&&O(this.i.lArmButton,c))return this.nk("lArm"),!0;if(this.i.rArmButton&&O(this.i.rArmButton,c))return this.nk("rArm"),!0;if(this.i.modButton&&O(this.i.modButton,c))return this.nk("mod"),
!0;if(this.i.visibleButton&&O(this.i.visibleButton,c))return this.Qn=0==this.Qn?1:0,this.i.visibleButton.l(0==this.Qn?q.h(255,0,0,255):q.h(0,255,0,255)),this.i.visibleButton.content.ea(0==this.Qn?"Invisible":"Visible"),!0;if(O(this.i.cancelbtn,c))return this.Vw(),!0}else{c=this.b.main_panel.Da(c);if(O(this.b.main_panel.defaultsbtn,c))return this.X.f(DropDownList.Nd(this,this.defaultSelected,"Block Player;Warp Player;Show Sign;Spawn NPC;Spawn Item;Block NPC;PVP Area".split(";"),a.J)),!0;if(O(this.b.main_panel.specifier,
c))return this.X.f(DropDownList.Nd(this,this.dY,["Item","Tile","NPC","None"],a.J)),!0;if(O(this.b.main_panel.okbtn,c)){if(null==this.Oa.U()||""==this.Oa.U())return!0;this.data.name=this.Oa.U();this.Cf=!0;this.m.$c(this.data);return!0}if(O(this.b.main_panel.cancelbtn,c)){this.Cf=!0;var d=this.m;this.m.Bc(function(){d.$c(null)});return!0}return O(this.b.main_panel,c)?!0:!1}}});Itemeditor=null;
ItemEditor=Popup.extend({Rb:J[0].name,T:0,gt:function(a,c){Scripteditor&&(Scripteditor.xa(),Scripteditor.N(),this.ig=a,this.Xb(!0),this.b.main_panel.scriptbtn.text.ea(c.name),this.b.main_panel.scriptbtn.l(q.h(0,255,0,255)))},OK:function(){this.b.main_panel.scriptbtn.text.ea("None");this.b.main_panel.scriptbtn.l(q.h(255,0,0,255))},Oc:function(){return{panels:{position:q.a(300,10),children:{background:{Z:"GUI/itemeditor_bg.png",d:q.a(0,0)},main_panel:{d:q.a(0,0),position:q.a(0,0),size:q.size(500,330),
children:{namelbl:{label:"Name:",fontSize:20,d:q.a(0,0),position:q.a(4,292),color:q.k(0,0,0)},name_entry:{position:q.a(74,292),size:q.size(266,32),u:q.h(255,255,255,255)},tiles:{d:q.a(0,1),position:q.a(16,272),Z:J[0].name},textureleftbtn:{position:q.a(362,292),size:q.size(16,32),Z:"GUI/texture_change_left.png",d:q.a(0,0)},texturerightbtn:{position:q.a(471,292),size:q.size(16,32),Z:"GUI/texture_change_right.png",d:q.a(0,0)},textureName:{position:q.a(375,292),size:q.size(96,32),Z:"GUI/texture_change_middle.png",
d:q.a(0,0),children:{text:{label:J[0].name,fontSize:12,d:q.a(0.5,0.5),position:q.a(48,16),color:q.k(0,0,0)}}},leftbtn:{position:q.a(0,16),size:q.size(16,256),u:q.h(0,0,255,255),d:q.a(0,0),children:{text:{label:"\x3c",fontSize:12,d:q.a(0.5,0.5),position:q.a(8,160),color:q.k(255,255,255)}}},rightbtn:{position:q.a(336,16),size:q.size(16,256),u:q.h(0,0,255,255),d:q.a(0,0),children:{text:{label:"\x3e",fontSize:12,d:q.a(0.5,0.5),position:q.a(8,160),color:q.k(255,255,255)}}},upbtn:{position:q.a(16,272),
size:q.size(320,16),u:q.h(0,0,255,255),d:q.a(0,0),children:{text:{label:"^",fontSize:12,d:q.a(0.5,0.5),position:q.a(160,8),color:q.k(255,255,255)}}},downbtn:{position:q.a(16,0),size:q.size(320,16),u:q.h(0,0,255,255),d:q.a(0,0),children:{text:{label:"v",fontSize:12,d:q.a(0.5,0.5),position:q.a(160,8),color:q.k(255,255,255)}}},stacklbl:{label:"Stackable:",fontSize:12,d:q.a(0,0),position:q.a(360,206),color:q.k(0,0,0)},stackbtn:{position:q.a(360,176),size:q.size(128,26),u:Ga,d:q.a(0,0),children:{text:{label:"No",
fontSize:12,d:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,0,0)}}},scriptlbl:{label:"Script:",fontSize:12,d:q.a(0,0),position:q.a(360,262),color:q.k(0,0,0)},scriptbtn:{position:q.a(360,232),size:q.size(128,26),u:Ga,d:q.a(0,0),children:{text:{label:"None",fontSize:12,d:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,0,0)}}},highlightnode:{d:q.a(0,0),position:q.a(0,0),size:q.size(32,32),u:q.h(255,100,100,255)},selectednode:{d:q.a(0,0),position:q.a(0,0),size:q.size(32,32),u:q.h(100,255,100,255)},okbtn:{position:q.a(434,
16),size:q.size(32,32),Z:"GUI/tick_icon.png",d:q.a(0,0)},cancelbtn:{position:q.a(384,16),size:q.size(32,32),Z:"GUI/cross_icon.png",d:q.a(0,0)}}},control_panel:{d:q.a(0,0),position:q.a(0,330),size:q.size(500,32),children:{header:{label:"Item Editor",fontSize:20,d:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(476,6),size:q.size(20,20),d:q.a(0,0),Z:"GUI/close.png"}}}}}}},Nc:function(){return"itemEditor"},Oa:null,m:null,data:null,ig:null,r:function(a){this._super();this.data={sprite:{texture:J[0].name,
position:{x:0,y:0}},script:null,stackable:!1,name:""};this.Rb=J[0].name;this.T=0;this.ig=this.m=this.Oa=null;this.O=q.a(0,0);this.m=a.m;a&&a.data&&(this.data=a.data,this.data.script&&(this.ig=this.data.script))},jj:function(a){H({saveitems:a+"",itemdata:this.data})},Wi:function(a,c){H({saveitemswhole:c})},oa:function(){this._super();this.b.main_panel.highlightnode.ia(0);this.b.main_panel.selectednode.ia(127);for(var a in J)J[a].name==this.data.sprite.texture&&(this.T=a,this.Rb=J[a].name);this.b.main_panel.textureName.text.ea(this.Rb);
this.b.main_panel.tiles.fa(J[this.T].texture);null!=this.data.script&&(this.b.main_panel.scriptbtn.l(q.h(0,255,0,255)),this.b.main_panel.scriptbtn.text.ea(ObjectLists.$i()[this.data.script].name),this.ig=this.data.script);for(a=this.data.sprite.position.x;10<=a;)a--,this.O.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.O.y++;a=q.a(32*(this.data.sprite.position.x-this.O.x),32*(this.data.sprite.position.y-this.O.y));this.b.main_panel.selectednode.n(this.b.main_panel.tiles.q.x+a.x,this.b.main_panel.tiles.q.y-
(a.y+32));this.Oa=new Y(this.b.main_panel.name_entry,q.size(this.b.main_panel.name_entry.c().width,this.b.main_panel.name_entry.c().height),q.a(0,this.b.main_panel.name_entry.c().height),this.data.name?this.data.name:"",q.h(255,255,255),q.k(0,0,0));this.Oa.tb(!0);this.b.main_panel.stackbtn.l(Ga);this.b.main_panel.stackbtn.text.ea("No");!0==this.data.stackable&&(this.b.main_panel.stackbtn.l(Fa),this.b.main_panel.stackbtn.text.ea("Yes"));this.nb()},xa:function(a){this._super();if(this.m){var c=this.m;
!0!=a&&this.m.Bc(function(){c.$c(null)})}},ki:function(a){a=a.J;this.b.main_panel.highlightnode.ia(0);a=this.b.main_panel.tiles.Da(a);if(0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tiles.c().width&&a.y<=this.b.main_panel.tiles.c().height)return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+16,this.b.main_panel.highlightnode.ia(127),this.b.main_panel.highlightnode.n(a),!0},nb:function(){this.fc(this.nb);this.b.main_panel.tiles.aa()&&!0==this.b.main_panel.tiles.aa().rc&&(this.cd(this.nb),this.b.main_panel.tiles.Sb(q.rect(Math.floor(32*
this.O.x),Math.floor(32*this.O.y),320>J[this.T].texture.c().width?J[this.T].texture.c().width:320,256>J[this.T].texture.c().height?J[this.T].texture.c().height:256)))},lb:function(a){if(this._super(a))return!0;this.Cd=null;a=a.J;var c=this.b.main_panel.Da(q.a(a.x,a.y));if(O(this.b.main_panel.okbtn,c)){if(null==this.Oa.U()||""==this.Oa.U())return!0;this.Cf=!0;this.data.name=this.Oa.U();this.data.script=this.ig;this.m.$c(this.data);return!0}O(this.b.main_panel.scriptbtn,c)&&(Scripteditor?(Scripteditor.xa(),
Scripteditor.N(),Scripteditor=null):(Scripteditor=new PopupList,Scripteditor.r({m:this,th:new ScriptEditor,list:ObjectLists.$i(),name:"Script List"}),Scripteditor.oa(),this.f(Scripteditor)));if(O(this.b.main_panel.cancelbtn,c)){this.Cf=!0;var d=this.m;this.m.Bc(function(){d.$c(null)});return!0}if(O(this.b.main_panel.leftbtn,c))return 264<J[this.T].texture.c().width&&0<this.O.x&&(this.O.x--,this.nb()),!0;if(O(this.b.main_panel.rightbtn,c))return 320<J[this.T].texture.c().width&&this.O.x<(J[this.T].texture.c().width-
320)/32&&(this.O.x++,this.nb()),!0;if(O(this.b.main_panel.upbtn,c))return 320<J[this.T].texture.c().height&&0<this.O.y&&(this.O.y--,this.nb()),!0;if(O(this.b.main_panel.downbtn,c))return 320<J[this.T].texture.c().height&&this.O.y<(J[this.T].texture.c().height-320)/32&&(this.O.y++,this.nb()),!0;if(O(this.b.main_panel.texturerightbtn,c))return this.On(),!0;if(O(this.b.main_panel.textureleftbtn,c))return this.Pn(),!0;if(O(this.b.main_panel.stackbtn,c))return this.tL(),!0;if(O(this.b.main_panel.scriptbtn,
c))return this.gaa(),!0;c=this.b.main_panel.tiles.Da(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tiles.c().width&&c.y<=this.b.main_panel.tiles.c().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+16;this.b.main_panel.selectednode.ia(0);if(this.b.main_panel.selectednode.q.F!=c.x||this.b.main_panel.selectednode.q.H!=c.y)this.b.main_panel.selectednode.ia(127),this.b.main_panel.selectednode.n(c);a=q.a((this.b.main_panel.selectednode.q.F-16)/32+this.O.x,8-(this.b.main_panel.selectednode.q.H-16)/32+this.O.y-1);
this.data.sprite.position=a;return!0}return!1},tL:function(){this.data.stackable=!this.data.stackable;this.b.main_panel.stackbtn.l(Ga);this.b.main_panel.stackbtn.text.ea("No");!0==this.data.stackable&&(this.b.main_panel.stackbtn.l(Fa),this.b.main_panel.stackbtn.text.ea("Yes"))},On:function(){this.T>=J.length-1&&(this.T=-1);this.T++;this.b.main_panel.tiles.fa(J[this.T].texture);this.Rb=J[this.T].name;this.b.main_panel.textureName.text.ea(this.Rb);this.data.sprite.texture=this.Rb;this.O=q.a(0,0);this.nb()},
Pn:function(){0>=this.T&&(this.T=J.length);this.T--;this.b.main_panel.tiles.fa(J[this.T].texture);this.Rb=J[this.T].name;this.b.main_panel.textureName.text.ea(this.Rb);this.O=q.a(0,0);this.nb()}});Settingseditor=null;
SettingsEditor=Popup.extend({data:null,R:null,hb:null,Nc:function(){return"Settings Editor"},xa:function(){this._super()},r:function(){this._super();this.data=ua(y)},jj:function(a){H({savequests:a+"",questdata:this.data})},Wi:function(a,c){H({savequestswhole:c})},oa:function(){this._super();this.Hb()},Hb:function(){this.R&&this.R.pc();var a=[],c=[],d=q.ha.e(),e=0,f;for(f in this.data){if("ISSECTION"!=this.data[f]){a[e]=q.D.create();a[e].V(324,32);var g=q.S.create(f,"Arial",18);g.L(q.a(0,0));g.n(q.a(4,
0));g.gc(q.size(246,0));g.l(q.k(100,0,0));a[e].f(g);a[e].V(324,g.c().height+4);g=[];c.push(g);e++}a[e]=q.D.create();a[e].V(324,32);var h=q.ca.create(q.h(0,0,0,127),316,1);h.n(q.a(4,0));if("ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]){var k=q.A.gb(d.qa("GUI/edit.png"));k.n(q.a(300,0));k.L(q.a(0,0))}if("ISSECTION"==this.data[f]){var l=q.S.create(f,"Arial",22);l.l(q.k(255,0,0))}else l=q.S.create(this.data[f],"Arial",15),l.l(q.k(0,0,0));l.L(q.a(0,0));l.n(q.a(4,4));l.gc(q.size(246,0));g=[];"ISSECTION"!=
this.data[f]&&"ISYESNO"!=this.data[f]&&(k.tc="Edit",g=[],g.push(k));c.push(g);a[e].f(h);"ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]&&a[e].f(k);a[e].f(l);"ISSECTION"==this.data[f]?a[e].V(324,l.c().height+12):a[e].V(324,l.c().height+8);"ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]&&k.bd((l.c().height+8)/2-10);e++}this.R=this.b.main_panel.list;var m=this;this.R.Od=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(324,c)};this.R.Ad=function(){return a.length};this.R.te=
function(c){return a[c].c()};this.R.re=function(c){return a[c]};this.R.wc=function(a,c,d){m.Da(d.J);if(!0!=m.In)switch(a){case "Edit":a=0;d="";for(var e in m.data){if(a==c){d=e;break}a++;if("ISSECTION"!=m.data[e]){if(a==c){d=e;break}a++}}m.hb=d;m.sC(d)}};this.R.na=ListView.create(this.R);this.R.na.Fe(c);this.R.f(this.R.na)},Oc:function(){return{panels:{position:q.a(300,200),children:{background_image:{Z:"GUI/list_panel.png",d:q.a(0,0)},main_panel:{d:q.a(0,0),size:q.size(365,328),children:{savebtn:{size:q.size(64,
32),u:q.h(0,255,0,255),position:q.a(241,292),d:q.a(0,0),children:{content:{label:"Save",color:q.k(0,0,0),position:q.a(32,16),d:q.a(0.5,0.5)}}},list:{size:q.size(324,284),u:q.h(0,200,200,200),position:q.a(0,0),d:q.a(0,0)}}},control_panel:{d:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Settings Editor",fontSize:20,d:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),d:q.a(0,0),Z:"GUI/close.png"}}}}}}},bf:null,Aa:null,sC:function(a){null!=this.Aa&&
(this.Aa.pc(),this.bf=null,this.Aa.N(),this.hb=this.Aa=null);this.Aa=q.ca.create(q.h(255,255,255,200),200,200);this.Aa.n(q.a((this.b.main_panel.c().width-200)/2,(this.b.main_panel.c().height-200)/2));this.bf=new Y(this.Aa,q.size(190,150),q.a(0,this.Aa.c().height),this.data[a],q.h(100,100,100),q.k(255,255,255),!0);this.bf.tb(!0);this.bf.CK(!0);a=q.ca.create(q.h(0,200,255,255),64,32);a.n(q.a(14,9));var c=q.S.create("OK","Arial",16);c.l(q.k(0,0,0));c.n(32,16);c.L(q.a(0.5,0.5));a.f(c);c=q.ca.create(q.h(200,
0,0,255),64,32);c.n(q.a(120,9));var d=q.S.create("Cancel","Arial",16);d.l(q.k(0,0,0));d.n(32,16);d.L(q.a(0.5,0.5));c.f(d);this.b.main_panel.f(this.Aa);this.Aa.f(a);this.Aa.iD=a;this.Aa.f(c);this.Aa.cancel=c},lb:function(a){if(this._super(a))return!0;this.Cd=null;a=a.J;if(null!=this.Aa){a=this.Aa.Da(a);if(O(this.Aa.iD,a))return this.data[this.hb]=this.bf.U(),this.Aa.pc(),this.bf=null,this.Aa.N(),this.hb=this.Aa=null,this.Hb(),!0;O(this.Aa.cancel,a)&&(this.Aa.pc(),this.bf=null,this.Aa.N(),this.hb=this.Aa=
null);return!0}a=this.b.main_panel.Da(a);return O(this.b.main_panel.savebtn,a)?(y=ua(this.data),console.log(y),console.log(this.data),H({savesettings:this.data}),v.lE(this.data,Date.now()),!0):O(this.b.main_panel,a)?!0:!1}});Questeditor=null;
QuestEditor=Popup.extend({data:null,R:null,m:null,hb:null,Nc:function(){return"Quest Editor"},xa:function(a){this._super();if(this.m){var c=this.m;!0!=a&&this.m.Bc(function(){c.$c(null)})}},r:function(a){this._super();this.data={name:"",objectiveList:["Initial Objective. Click edit to change this first objective. Click the '+' to add another object. You cannot delete every objective (you need at least one)"]};this.m=a.m;a&&a.data&&(this.data=a.data)},jj:function(a){H({savequests:a+"",questdata:this.data})},
Wi:function(a,c){H({savequestswhole:c})},oa:function(){this._super();this.Hb();this.Oa=new Y(this.b.main_panel.nameBox,q.size(this.b.main_panel.nameBox.c().width,this.b.main_panel.nameBox.c().height),q.a(0,this.b.main_panel.nameBox.c().height),this.data.name?this.data.name:"",q.h(255,255,255,255),q.k(0,0,0));this.Oa.tb(!0)},Hb:function(){this.R&&this.R.pc();var a=[],c=[],d=q.ha.e();this.YH={};for(var e in this.data.objectiveList)if(a[e]=q.D.create(),a[e].V(324,32),null==this.data.objectiveList[e])this.data.objectiveList.splice(e,
1);else{var f=q.ca.create(q.h(0,0,0,127),316,1);f.n(q.a(4,0));var g=q.A.gb(d.qa("GUI/edit.png"));g.n(q.a(272,0));g.L(q.a(0,0));var h=q.A.gb(d.qa("GUI/trash.png"));h.n(q.a(300,0));h.L(q.a(0,0));var k=q.S.create(this.data.objectiveList[e],"Arial",15);k.L(q.a(0,0));k.n(q.a(4,4));k.gc(q.size(246,0));k.l(q.k(0,0,0));g.tc="Edit";var l=[];l.push(g);0!=e&&(h.tc="Delete",l.push(h));c.push(l);a[e].f(f);a[e].f(g);0!=e&&a[e].f(h);a[e].f(k);a[e].V(324,k.c().height+8);g.bd((k.c().height+8)/2-10);h.bd((k.c().height+
8)/2-10)}d=q.ca.create(q.h(70,200,70,255),90,26);e=q.S.create("+","Arial",20);e.n(45,13);e.L(q.a(0.5,0.5));d.n(q.a(120,0));d.tc="Add";d.f(e);c.push([d]);a.push(d);this.R=this.b.main_panel.list;var m=this;this.R.Od=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(324,c)};this.R.Ad=function(){return a.length};this.R.te=function(c){return a[c].c()};this.R.re=function(c){return a[c]};this.R.wc=function(a,c,d){m.Da(d.J);if(!0!=m.In)switch(a){case "Delete":null!=m.Aa&&(m.Aa.pc(),
m.bf=null,m.Aa.N(),m.Aa=null,m.hb=null);m.X.f(DropDownList.Nd(m,m.kC,["Cancel","Delete"],d.J));m.hb=c;break;case "Edit":m.hb=c;m.sC(c);break;case "Add":m.aR()}};this.R.na=ListView.create(this.R);this.R.na.Fe(c);this.R.f(this.R.na)},Oc:function(){return{panels:{position:q.a(300,200),children:{background_image:{Z:"GUI/list_panel.png",d:q.a(0,0)},main_panel:{d:q.a(0,0),size:q.size(365,328),children:{nameLabel:{label:"Quest Name",color:q.k(0,0,0),position:q.a(8,312),d:q.a(0,0)},nameBox:{size:q.size(150,
32),u:q.h(255,255,255,255),position:q.a(8,277),d:q.a(0,0)},savebtn:{size:q.size(64,32),u:q.h(0,255,0,255),position:q.a(175,277),d:q.a(0,0),children:{content:{label:"Save",color:q.k(0,0,0),position:q.a(32,16),d:q.a(0.5,0.5)}}},exitbtn:{size:q.size(64,32),u:q.h(255,0,0,255),position:q.a(253,277),d:q.a(0,0),children:{content:{label:"Exit",color:q.k(0,0,0),position:q.a(32,16),d:q.a(0.5,0.5)}}},objectivesLabel:{label:"Objectives",color:q.k(0,0,0),position:q.a(8,254),d:q.a(0,0)},list:{size:q.size(324,250),
u:q.h(0,200,200,200),position:q.a(0,0),d:q.a(0,0)}}},control_panel:{d:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Quest Editor",fontSize:20,d:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),d:q.a(0,0),Z:"GUI/close.png"}}}}}}},kC:function(a){switch(a){case 1:this.m.hb&&(this.m.data.objectiveList.splice(this.m.hb,1),this.m.Hb(),this.m.hb=null)}},aR:function(){this.data.objectiveList.push("Blank Objective");this.Hb()},bf:null,Aa:null,sC:function(a){null!=
this.Aa&&(this.Aa.pc(),this.bf=null,this.Aa.N(),this.hb=this.Aa=null);this.Aa=q.ca.create(q.h(255,255,255,200),200,200);this.Aa.n(q.a((this.b.main_panel.c().width-200)/2,(this.b.main_panel.c().height-200)/2));this.bf=new Y(this.Aa,q.size(190,150),q.a(0,this.Aa.c().height),this.data.objectiveList[a],q.h(100,100,100),q.k(255,255,255),!0);this.bf.tb(!0);this.bf.CK(!0);a=q.ca.create(q.h(0,200,255,255),64,32);a.n(q.a(14,9));var c=q.S.create("OK","Arial",16);c.l(q.k(0,0,0));c.n(32,16);c.L(q.a(0.5,0.5));
a.f(c);c=q.ca.create(q.h(200,0,0,255),64,32);c.n(q.a(120,9));var d=q.S.create("Cancel","Arial",16);d.l(q.k(0,0,0));d.n(32,16);d.L(q.a(0.5,0.5));c.f(d);this.b.main_panel.f(this.Aa);this.Aa.f(a);this.Aa.iD=a;this.Aa.f(c);this.Aa.cancel=c},lb:function(a){if(this._super(a))return!0;this.Cd=null;a=a.J;if(null!=this.Aa){a=this.Aa.Da(a);if(O(this.Aa.iD,a))return this.data.objectiveList[this.hb]=this.bf.U(),this.Aa.pc(),this.bf=null,this.Aa.N(),this.hb=this.Aa=null,this.Hb(),!0;O(this.Aa.cancel,a)&&(this.Aa.pc(),
this.bf=null,this.Aa.N(),this.hb=this.Aa=null);return!0}a=this.b.main_panel.Da(a);if(O(this.b.main_panel.savebtn,a)){if(null==this.Oa.U()||""==this.Oa.U())return!0;this.Cf=!0;this.data.name=this.Oa.U();this.m.$c(this.data);return!0}if(O(this.b.main_panel.exitbtn,a)){this.Cf=!0;var c=this.m;this.m.Bc(function(){c.$c(null)});return!0}return O(this.b.main_panel,a)?!0:!1}});Mapeditor=null;
MapEditor=Popup.extend({map:null,O:q.a(0,0),yc:"tiles",tJ:null,Dw:"ground1",Rb:J[0].name,T:0,Oc:function(){return{panels:{position:q.a(300,10),children:{main_panel:{d:q.a(0,0),position:q.a(0,0),size:q.size(420,380),u:q.h(0,0,100,120),children:{tab1:{children:{tiles:{d:q.a(0,1),position:q.a(16,336),Z:J[0].name},textureleftbtn:{position:q.a(360,344),size:q.size(16,32),u:N,d:q.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,d:q.a(0.5,0.5),position:q.a(8,16),color:q.k(0,0,0)}}},texturerightbtn:{position:q.a(472,344),
size:q.size(16,32),u:N,d:q.a(0,0),children:{text:{label:"\x3e\x3e",fontSize:12,d:q.a(0.5,0.5),position:q.a(8,16),color:q.k(0,0,0)}}},textureName:{position:q.a(376,344),size:q.size(96,32),u:q.h(255,255,255,170),d:q.a(0,0),children:{text:{label:J[0].name,fontSize:12,d:q.a(0.5,0.5),position:q.a(48,16),color:q.k(0,0,0)}}},deletebtn:{position:q.a(360,308),size:q.size(60,32),u:N,d:q.a(0,0),children:{text:{label:"Erase",fontSize:12,d:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},leftbtn:{position:q.a(0,
16),size:q.size(16,320),u:q.h(0,0,255,255),d:q.a(0,0),children:{text:{label:"\x3c",fontSize:12,d:q.a(0.5,0.5),position:q.a(8,160),color:q.k(255,255,255)}}},rightbtn:{position:q.a(336,16),size:q.size(16,320),u:q.h(0,0,255,255),d:q.a(0,0),children:{text:{label:"\x3e",fontSize:12,d:q.a(0.5,0.5),position:q.a(8,160),color:q.k(255,255,255)}}},upbtn:{position:q.a(16,336),size:q.size(320,16),u:q.h(0,0,255,255),d:q.a(0,0),children:{text:{label:"^",fontSize:12,d:q.a(0.5,0.5),position:q.a(160,8),color:q.k(255,
255,255)}}},downbtn:{position:q.a(16,0),size:q.size(320,16),u:q.h(0,0,255,255),d:q.a(0,0),children:{text:{label:"v",fontSize:12,d:q.a(0.5,0.5),position:q.a(160,8),color:q.k(255,255,255)}}},fillbtn:{position:q.a(428,308),size:q.size(60,32),u:N,d:q.a(0,0),children:{text:{label:"Fill",fontSize:12,d:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},ground1btn:{position:q.a(360,278),size:q.size(128,26),u:Fa,d:q.a(0,0),children:{text:{label:"Ground 1",fontSize:12,d:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,
0,0)}}},ground2btn:{position:q.a(360,248),size:q.size(128,26),u:N,d:q.a(0,0),children:{text:{label:"Ground 2",fontSize:12,d:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,0,0)}}},groundShadowbtn:{position:q.a(360,218),size:q.size(128,26),u:N,d:q.a(0,0),children:{text:{label:"Ground Shadow",fontSize:12,d:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,0,0)}}},mask1btn:{position:q.a(360,188),size:q.size(128,26),u:N,d:q.a(0,0),children:{text:{label:"Mask 1",fontSize:12,d:q.a(0.5,0.5),position:q.a(64,13),
color:q.k(0,0,0)}}},mask2btn:{position:q.a(360,158),size:q.size(128,26),u:N,d:q.a(0,0),children:{text:{label:"Mask 2",fontSize:12,d:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,0,0)}}},mask3btn:{position:q.a(360,128),size:q.size(128,26),u:N,d:q.a(0,0),children:{text:{label:"Mask 3",fontSize:12,d:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,0,0)}}},fringe1btn:{position:q.a(360,98),size:q.size(128,26),u:N,d:q.a(0,0),children:{text:{label:"Fringe 1",fontSize:12,d:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,
0,0)}}},fringe2btn:{position:q.a(360,68),size:q.size(128,26),u:N,d:q.a(0,0),children:{text:{label:"Fringe 2",fontSize:12,d:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,0,0)}}},fringeShadowbtn:{position:q.a(360,38),size:q.size(128,26),u:N,d:q.a(0,0),children:{text:{label:"Fringe Shadow",fontSize:12,d:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,0,0)}}},fringe3btn:{position:q.a(360,8),size:q.size(128,26),u:N,d:q.a(0,0),children:{text:{label:"Fringe 3",fontSize:12,d:q.a(0.5,0.5),position:q.a(64,13),
color:q.k(0,0,0)}}},highlightnode:{d:q.a(0,0),position:q.a(0,0),size:q.size(32,32),u:q.h(255,100,100,255)},selectednode:{d:q.a(0,0),position:q.a(0,0),size:q.size(32,32),u:q.h(100,255,100,255)}}},tab2:{children:{blockbtn:{position:q.a(8,320),size:q.size(60,32),u:N,d:q.a(0,0),children:{text:{label:"Block",fontSize:12,d:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},warpbtn:{position:q.a(8,280),size:q.size(60,32),u:N,d:q.a(0,0),children:{text:{label:"Warp",fontSize:12,d:q.a(0.5,0.5),position:q.a(32,
16),color:q.k(0,0,0)}}},itembtn:{position:q.a(8,240),size:q.size(60,32),u:N,d:q.a(0,0),children:{text:{label:"Item",fontSize:12,d:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},signbtn:{position:q.a(8,200),size:q.size(60,32),u:N,d:q.a(0,0),children:{text:{label:"Sign",fontSize:12,d:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},npcbtn:{position:q.a(8,160),size:q.size(60,32),u:N,d:q.a(0,0),children:{text:{label:"NPC",fontSize:12,d:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},amountLabelHead:{visible:!1,
label:"Item Amount",fontSize:12,d:q.a(0,0),position:q.a(100,342)},amountLabel:{size:q.size(60,32),position:q.a(98,-1E6)}}},tab3:{children:{saveBack:{position:q.a(0,78),size:q.size(200,60),u:q.h(0,255,0,100),d:q.a(0,0)},deleteback:{position:q.a(0,138),size:q.size(200,60),u:q.h(255,0,0,100),d:q.a(0,0)},mapnumsback:{position:q.a(0,198),size:q.size(200,162),u:q.h(0,0,0,170),d:q.a(0,0)},mapUp_text:{label:"Map Up",fontSize:10,d:q.a(0.5,0),position:q.a(100,344)},mapUp_entry:{size:q.size(60,32),position:q.a(70,
312)},mapDown_text:{label:"Map Down",fontSize:10,d:q.a(0.5,0),position:q.a(100,232)},mapDown_entry:{size:q.size(60,32),position:q.a(70,200)},mapLeft_text:{label:"Map Left",fontSize:10,d:q.a(0.5,0),position:q.a(38,290)},mapLeft_entry:{size:q.size(60,32),position:q.a(8,258)},mapRight_text:{label:"Map Right",fontSize:10,d:q.a(0.5,0),position:q.a(162,290)},mapRight_entry:{size:q.size(60,32),position:q.a(132,258)},this_map:{position:q.a(70,248),size:q.size(60,60),u:N,d:q.a(0,0),children:{text:{label:"THIS MAP\n#"+
F.Pd(),fontSize:12,d:q.a(0.5,0.5),position:q.a(30,30),color:q.k(0,0,0)}}},clearbtn:{position:q.a(70,150),size:q.size(60,32),u:N,d:q.a(0,0),children:{text:{label:"Clear",fontSize:12,d:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},clear_text:{label:"Clear Map: You sure?",fontSize:14,d:q.a(0.5,0),position:q.a(100,182)},clearbtnNo:{position:q.a(10,150),size:q.size(60,32),u:N,d:q.a(0,0),children:{text:{label:"NO",fontSize:12,d:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},clearbtnYes:{position:q.a(130,
150),size:q.size(60,32),u:N,d:q.a(0,0),children:{text:{label:"YES",fontSize:12,d:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},savebtn:{position:q.a(70,90),size:q.size(60,32),u:N,d:q.a(0,0),children:{text:{label:"Save",fontSize:12,d:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},save_text:{label:"Save Map: You sure?",fontSize:14,d:q.a(0.5,0),position:q.a(100,122)},savebtnNo:{position:q.a(10,90),size:q.size(60,32),u:N,d:q.a(0,0),children:{text:{label:"NO",fontSize:12,d:q.a(0.5,0.5),position:q.a(32,
16),color:q.k(0,0,0)}}},savebtnYes:{position:q.a(130,90),size:q.size(60,32),u:N,d:q.a(0,0),children:{text:{label:"YES",fontSize:12,d:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},saveOnExit:{position:q.a(40,30),size:q.size(120,32),u:N,d:q.a(0.5,0),children:{content:{label:"",fontSize:14,d:q.a(0.5,0.5),position:q.a(60,15),color:q.k(0,0,0)}}}}},tab1Clickable:{position:q.a(0,360),size:q.size(60,20),u:N,d:q.a(0,0),children:{text:{label:"Editor",fontSize:12,d:q.a(0.5,0.5),position:q.a(32,10),color:q.k(0,
0,0)}}},tab2Clickable:{position:q.a(64,360),size:q.size(60,20),u:N,d:q.a(0,0),children:{text:{label:"Scripts",fontSize:12,d:q.a(0.5,0.5),position:q.a(32,10),color:q.k(0,0,0)}}},tab3Clickable:{position:q.a(128,360),size:q.size(60,20),u:N,d:q.a(0,0),children:{text:{label:"Settings",fontSize:12,d:q.a(0.5,0.5),position:q.a(32,10),color:q.k(0,0,0)}}}}},control_panel:{d:q.a(0,0),position:q.a(0,380),size:q.size(420,32),u:q.h(255,0,0,200),children:{header:{label:"Map Editor - Map #"+F.Pd(),fontSize:20,d:q.a(0,
0.5),position:q.a(8,16)},exitBtn:{position:q.a(391,3),size:q.size(26,26),d:q.a(0,0),u:q.h(255,255,255,200),children:{content:{label:"X",fontSize:20,color:q.k(0,0,0),d:q.a(0.5,0.5),position:q.a(13,13)}}}}}}}}},Nc:function(){return"MapEditor"},O:null,Qs:null,Ns:null,Os:null,Ps:null,fj:null,kf:null,Lc:0,ig:null,r:function(a){this._super();this.map=a;this.O=q.a(0,0);this.kf=[null,496,200,200]},oa:function(){this._super();this.b.main_panel.tab1.highlightnode.ia(0);this.b.main_panel.tab1.selectednode.ia(0);
this.Qs=new Y(this.b.main_panel.tab3.mapUp_entry,q.size(this.b.main_panel.tab3.mapUp_entry.c().width,this.b.main_panel.tab3.mapUp_entry.c().height),q.a(0,this.b.main_panel.tab3.mapUp_entry.c().height),F.SI()?F.DI():"",q.h(100,100,100),q.k(255,255,255));this.Qs.tb(!0);this.Qs.Ed(!0);this.Ns=new Y(this.b.main_panel.tab3.mapDown_entry,q.size(this.b.main_panel.tab3.mapDown_entry.c().width,this.b.main_panel.tab3.mapDown_entry.c().height),q.a(0,this.b.main_panel.tab3.mapDown_entry.c().height),F.QI()?F.BI():
"",q.h(100,100,100),q.k(255,255,255));this.Ns.tb(!0);this.Ns.Ed(!0);this.Os=new Y(this.b.main_panel.tab3.mapLeft_entry,q.size(this.b.main_panel.tab3.mapLeft_entry.c().width,this.b.main_panel.tab3.mapLeft_entry.c().height),q.a(0,this.b.main_panel.tab3.mapLeft_entry.c().height),F.RI()?F.CI():"",q.h(100,100,100),q.k(255,255,255));this.Os.tb(!0);this.Os.Ed(!0);this.Ps=new Y(this.b.main_panel.tab3.mapRight_entry,q.size(this.b.main_panel.tab3.mapRight_entry.c().width,this.b.main_panel.tab3.mapRight_entry.c().height),
q.a(0,this.b.main_panel.tab3.mapRight_entry.c().height),F.LC()?F.zC():"",q.h(100,100,100),q.k(255,255,255));this.Ps.tb(!0);this.Ps.Ed(!0);this.fj=new Y(this.b.main_panel.tab2.amountLabel,q.size(this.b.main_panel.tab2.amountLabel.c().width,this.b.main_panel.tab2.amountLabel.c().height),q.a(0,this.b.main_panel.tab2.amountLabel.c().height),F.LC()?F.zC():"1",q.h(100,100,100),q.k(255,255,255));this.fj.tb(!0);this.fj.Ed(!0);this.Wx(!1);this.Xx(!1);this.Fx=v.SS();this.TK(this.Fx);this.Qg(1);this.nb();F.WK(!0)},
gt:function(a,c){Warpeditor&&(Warpeditor.xa(),this.Bc(function(){Warpeditor.N();Warpeditor=null}),this.ig=a,this.Xb(!0));Signeditor&&(Signeditor.xa(),this.Bc(function(){Signeditor.N();Signeditor=null}),this.ig=a,this.Xb(!0));Itemeditor&&(Itemeditor.xa(),this.Bc(function(){Itemeditor.N();Itemeditor=null}),this.ig=a,this.Xb(!0),this.fj.vc.Ge("1"),!0==c.stackable&&(this.b.main_panel.tab2.amountLabelHead.v(!0),this.b.main_panel.tab2.amountLabel.n(98,308)));NPCeditor&&(NPCeditor.xa(),this.Bc(function(){NPCeditor.N();
NPCeditor=null}),this.ig=a,this.Xb(!0))},xa:function(){this._super();!0==this.Fx&&(F.KK({up:this.Qs.U(),down:this.Ns.U(),left:this.Os.U(),right:this.Ps.U()}),F.IL());F.WK(!1)},ki:function(a){a=a.J;if(1==this.Lc&&(this.b.main_panel.tab1.highlightnode.ia(0),a=this.b.main_panel.tab1.tiles.Da(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.c().width&&a.y<=this.b.main_panel.tab1.tiles.c().height))return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+16,this.b.main_panel.tab1.highlightnode.ia(127),this.b.main_panel.tab1.highlightnode.n(a),
!0},Qg:function(a){if(a!=this.Lc){this.b.main_panel.V(this.kf[a],this.b.main_panel.c().height);this.b.control_panel.V(this.kf[a],this.b.control_panel.c().height);if(3==this.Lc||0==this.Lc)this.b.main_panel.tab3.mapUp_entry.ib(this.b.main_panel.tab3.mapUp_entry.q.F-1E3),this.b.main_panel.tab3.mapLeft_entry.ib(this.b.main_panel.tab3.mapLeft_entry.q.F-1E3),this.b.main_panel.tab3.mapDown_entry.ib(this.b.main_panel.tab3.mapDown_entry.q.F-1E3),this.b.main_panel.tab3.mapRight_entry.ib(this.b.main_panel.tab3.mapRight_entry.q.F-
1E3);1!=this.Lc||"erasing"!=this.yc&&"tiles"!=this.yc||(this.yc="blocking");2==this.Lc&&"blocking"==this.yc&&(this.yc="tiles");this.Lc=a;this.b.main_panel.tab1.v(!1);this.b.main_panel.tab2.v(!1);this.b.main_panel.tab3.v(!1);this.b.main_panel.tab1Clickable.l(N);this.b.main_panel.tab2Clickable.l(N);this.b.main_panel.tab3Clickable.l(N);this.b.main_panel["tab"+a].v(!0);this.b.main_panel["tab"+a+"Clickable"].l(q.h(255,255,0,255));3==a&&(this.b.main_panel.tab3.mapUp_entry.ib(this.b.main_panel.tab3.mapUp_entry.q.F+
1E3),this.b.main_panel.tab3.mapLeft_entry.ib(this.b.main_panel.tab3.mapLeft_entry.q.F+1E3),this.b.main_panel.tab3.mapDown_entry.ib(this.b.main_panel.tab3.mapDown_entry.q.F+1E3),this.b.main_panel.tab3.mapRight_entry.ib(this.b.main_panel.tab3.mapRight_entry.q.F+1E3));this.b.control_panel.exitBtn.ib(this.kf[a]-29)}},TK:function(a){v.cX(a);this.Fx=a;this.b.main_panel.tab3.saveOnExit.l(q.k(255,0,0));this.b.main_panel.tab3.saveOnExit.content.ea("Save on exit: NO");if("true"==a||!0==a)this.b.main_panel.tab3.saveOnExit.l(q.k(0,
255,0)),this.b.main_panel.tab3.saveOnExit.content.ea("Save on exit: YES")},nb:function(){this.fc(this.nb);this.b.main_panel.tab1.tiles.aa()&&!0==this.b.main_panel.tab1.tiles.aa().rc&&(this.cd(this.nb),this.b.main_panel.tab1.tiles.Sb(q.rect(Math.floor(32*this.O.x),Math.floor(32*this.O.y),320>J[this.T].texture.c().width?J[this.T].texture.c().width:320,320>J[this.T].texture.c().height?J[this.T].texture.c().height:320)))},lb:function(a){if(this._super(a))return!0;this.Cd=null;a=a.J;var c=this.b.main_panel.Da(a);
if(O(this.b.main_panel.tab1Clickable,c))return this.Qg(1),!0;if(O(this.b.main_panel.tab2Clickable,c))return this.Qg(2),!0;if(O(this.b.main_panel.tab3Clickable,c))return this.Qg(3),!0;if(1==this.Lc){if(O(this.b.main_panel.tab1.leftbtn,c))return 320<J[this.T].texture.c().width&&0<this.O.x&&(this.O.x--,this.nb()),!0;if(O(this.b.main_panel.tab1.rightbtn,c))return 320<J[this.T].texture.c().width&&this.O.x<(J[this.T].texture.c().width-320)/32&&(this.O.x++,this.nb()),!0;if(O(this.b.main_panel.tab1.upbtn,
c))return 320<J[this.T].texture.c().height&&0<this.O.y&&(this.O.y--,this.nb()),!0;if(O(this.b.main_panel.tab1.downbtn,c))return 320<J[this.T].texture.c().height&&this.O.y<(J[this.T].texture.c().height-320)/32&&(this.O.y++,this.nb()),!0;if(O(this.b.main_panel.tab1.ground1btn,c))return this.mj("ground1"),!0;if(O(this.b.main_panel.tab1.ground2btn,c))return this.mj("ground2"),!0;if(O(this.b.main_panel.tab1.groundShadowbtn,c))return this.mj("groundShadow"),!0;if(O(this.b.main_panel.tab1.mask1btn,c))return this.mj("mask1"),
!0;if(O(this.b.main_panel.tab1.mask2btn,c))return this.mj("mask2"),!0;if(O(this.b.main_panel.tab1.mask3btn,c))return this.mj("mask3"),!0;if(O(this.b.main_panel.tab1.fringe1btn,c))return this.mj("fringe1"),!0;if(O(this.b.main_panel.tab1.fringe2btn,c))return this.mj("fringe2"),!0;if(O(this.b.main_panel.tab1.fringeShadowbtn,c))return this.mj("fringeShadow"),!0;if(O(this.b.main_panel.tab1.fringe3btn,c))return this.mj("fringe3"),!0;if(O(this.b.main_panel.tab1.texturerightbtn,c))return this.On(),!0;if(O(this.b.main_panel.tab1.textureleftbtn,
c))return this.Pn(),!0;if(O(this.b.main_panel.tab1.deletebtn,c))return this.yc="erasing"==this.yc?"tiles":"erasing",this.b.main_panel.tab1.deletebtn.l(N),"erasing"==this.yc&&this.b.main_panel.tab1.deletebtn.l(Ga),!0;if(O(this.b.main_panel.tab1.fillbtn,c))return 0!=this.b.main_panel.tab1.selectednode.Zi()&&(F.AS(J[this.T].name,q.a((this.b.main_panel.tab1.selectednode.q.F-16)/32+this.O.x,9-(this.b.main_panel.tab1.selectednode.q.H-16)/32+this.O.y),this.Dw),F.qt()),!0;c=this.b.main_panel.tab1.tiles.Da(a);
if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.c().width&&c.y<=this.b.main_panel.tab1.tiles.c().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+16;this.b.main_panel.tab1.selectednode.ia(0);if(this.b.main_panel.tab1.selectednode.q.F!=c.x||this.b.main_panel.tab1.selectednode.q.H!=c.y)this.b.main_panel.tab1.selectednode.ia(127),this.b.main_panel.tab1.selectednode.n(c);return!0}}if(2==this.Lc){if(O(this.b.main_panel.tab2.blockbtn,c))return this.b.main_panel.tab2.warpbtn.l(N),this.b.main_panel.tab2.signbtn.l(N),
this.b.main_panel.tab2.npcbtn.l(N),this.b.main_panel.tab2.itembtn.l(N),this.b.main_panel.tab2.blockbtn.l(N),this.yc="blocking"==this.yc?"tiles":"blocking","blocking"==this.yc&&(this.b.main_panel.tab2.blockbtn.l(Ga),this.b.main_panel.tab2.amountLabelHead.v(!1),this.b.main_panel.tab2.amountLabel.n(68,-1E5)),!0;if(O(this.b.main_panel.tab2.warpbtn,c))return this.b.main_panel.tab2.warpbtn.l(N),this.b.main_panel.tab2.signbtn.l(N),this.b.main_panel.tab2.npcbtn.l(N),this.b.main_panel.tab2.itembtn.l(N),this.b.main_panel.tab2.blockbtn.l(N),
this.b.main_panel.tab2.amountLabelHead.v(!1),this.b.main_panel.tab2.amountLabel.n(68,-1E6),this.yc="warping"==this.yc?"tiles":"warping","warping"==this.yc&&(null==Warpeditor||Warpeditor.X||(Warpeditor=null),Warpeditor&&(Warpeditor.xa(),Warpeditor.N(),Warpeditor=null),Warpeditor=new PopupList,Warpeditor.r({m:this,th:new WarpEditor,list:ObjectLists.cn(),name:"Warp List"}),Warpeditor.oa(),this.X.f(Warpeditor),this.Xb(!1),this.b.main_panel.tab2.warpbtn.l(Ga),this.b.main_panel.tab2.amountLabelHead.v(!1),
this.b.main_panel.tab2.amountLabel.n(68,-1E5)),!0;if(O(this.b.main_panel.tab2.signbtn,c))return this.b.main_panel.tab2.signbtn.l(N),this.b.main_panel.tab2.warpbtn.l(N),this.b.main_panel.tab2.npcbtn.l(N),this.b.main_panel.tab2.itembtn.l(N),this.b.main_panel.tab2.blockbtn.l(N),this.b.main_panel.tab2.amountLabelHead.v(!1),this.b.main_panel.tab2.amountLabel.n(68,-1E6),this.yc="signs"==this.yc?"tiles":"signs","signs"==this.yc&&(null==Signeditor||Signeditor.X||(Signeditor=null),Signeditor&&(Signeditor.xa(),
Signeditor.N(),Signeditor=null),Signeditor=new PopupList,Signeditor.r({m:this,th:new SignEditor,list:ObjectLists.Cs(),name:"Sign List"}),Signeditor.oa(),this.X.f(Signeditor),this.Xb(!1),this.b.main_panel.tab2.signbtn.l(Ga)),!0;if(O(this.b.main_panel.tab2.npcbtn,c))return this.b.main_panel.tab2.signbtn.l(N),this.b.main_panel.tab2.warpbtn.l(N),this.b.main_panel.tab2.npcbtn.l(N),this.b.main_panel.tab2.itembtn.l(N),this.b.main_panel.tab2.blockbtn.l(N),this.b.main_panel.tab2.amountLabelHead.v(!1),this.b.main_panel.tab2.amountLabel.n(68,
-1E6),this.yc="npcs"==this.yc?"tiles":"npcs","npcs"==this.yc&&(null==NPCeditor||NPCeditor.X||(NPCeditor=null),NPCeditor&&(NPCeditor.xa(),NPCeditor.N(),NPCeditor=null),NPCeditor=new PopupList,NPCeditor.r({m:this,th:new NPCEditor,list:ObjectLists.pl(),name:"NPC List"}),NPCeditor.oa(),this.X.f(NPCeditor),this.Xb(!1),this.b.main_panel.tab2.npcbtn.l(Ga)),!0;if(O(this.b.main_panel.tab2.itembtn,c))return this.b.main_panel.tab2.warpbtn.l(N),this.b.main_panel.tab2.itembtn.l(N),this.b.main_panel.tab2.npcbtn.l(N),
this.b.main_panel.tab2.blockbtn.l(N),this.b.main_panel.tab2.amountLabelHead.v(!1),this.b.main_panel.tab2.amountLabel.n(68,-1E6),this.yc="items"==this.yc?"tiles":"items","items"==this.yc&&(null==Itemeditor||Itemeditor.X||(Itemeditor=null),Itemeditor&&(Itemeditor.xa(),Itemeditor.N(),Itemeditor=null),Itemeditor=new PopupList,Itemeditor.r({m:this,th:new ItemEditor,list:ObjectLists.di(),name:"Item List"}),Itemeditor.oa(),this.X.f(Itemeditor),this.Xb(!1),this.b.main_panel.tab2.itembtn.l(Ga)),!0}if(3==this.Lc){if(O(this.b.main_panel.tab3.clearbtn,
c))return this.Wx(!0),!0;if(O(this.b.main_panel.tab3.clearbtnNo,c))return this.Wx(!1),!0;if(O(this.b.main_panel.tab3.clearbtnYes,c))return F.yd(),this.Wx(!1),!0;if(O(this.b.main_panel.tab3.savebtn,c))return this.Xx(!0),!0;if(O(this.b.main_panel.tab3.savebtnNo,c))return this.Xx(!1),!0;if(O(this.b.main_panel.tab3.savebtnYes,c))return F.KK({up:this.Qs.U(),down:this.Ns.U(),left:this.Os.U(),right:this.Ps.U()}),F.IL(),this.Xx(!1),!0;if(O(this.b.main_panel.tab3.saveOnExit,c))return this.TK(!this.Fx),!0}return!1},
mj:function(a){this.b.main_panel.tab1.ground1btn.l(N);this.b.main_panel.tab1.ground2btn.l(N);this.b.main_panel.tab1.groundShadowbtn.l(N);this.b.main_panel.tab1.mask1btn.l(N);this.b.main_panel.tab1.mask2btn.l(N);this.b.main_panel.tab1.mask3btn.l(N);this.b.main_panel.tab1.fringe1btn.l(N);this.b.main_panel.tab1.fringe2btn.l(N);this.b.main_panel.tab1.fringeShadowbtn.l(N);this.b.main_panel.tab1.fringe3btn.l(N);this.b.main_panel.tab1[a+"btn"].l(Fa);this.Dw=a},On:function(){this.T>=J.length-1&&(this.T=-1);
this.T++;this.b.main_panel.tab1.tiles.fa(J[this.T].texture);this.Rb=J[this.T].name;this.b.main_panel.tab1.textureName.text.ea(this.Rb);this.O=q.a(0,0);this.nb()},Pn:function(){0>=this.T&&(this.T=J.length);this.T--;this.b.main_panel.tab1.tiles.fa(J[this.T].texture);this.Rb=J[this.T].name;this.b.main_panel.tab1.textureName.text.ea(this.Rb);this.O=q.a(0,0);this.nb()},Wx:function(a){this.b.main_panel.tab3.clearbtnYes.v(a);this.b.main_panel.tab3.clearbtnNo.v(a);this.b.main_panel.tab3.clear_text.v(a);this.b.main_panel.tab3.clearbtn.v(!a)},
Xx:function(a){this.b.main_panel.tab3.savebtnYes.v(a);this.b.main_panel.tab3.savebtnNo.v(a);this.b.main_panel.tab3.save_text.v(a);this.b.main_panel.tab3.savebtn.v(!a)},xL:function(a,c,d){if(a[c]==this.tJ&&"moved"==d)return!1;this.tJ=a[c];switch(this.yc){case "tiles":0!=this.b.main_panel.tab1.selectednode.Zi()&&F.pk(c,J[this.T].name,q.a((this.b.main_panel.tab1.selectednode.q.F-16)/32+this.O.x,9-(this.b.main_panel.tab1.selectednode.q.H-16)/32+this.O.y),this.Dw);break;case "blocking":if(1!=a[c].oc()){F.kj(c,
1);break}F.kj(c,0);break;case "warping":if(null==Warpeditor||!Warpeditor.X){if(3!=a[c].oc()){F.kj(c,3,this.ig);break}F.kj(c,0,null)}break;case "signs":if(null==Signeditor||!Signeditor.X){if(7!=a[c].oc()){F.kj(c,7,this.ig);break}F.kj(c,0,null)}break;case "items":if(null==Itemeditor||!Itemeditor.X){if(4!=a[c].oc()){F.kj(c,4,this.ig,{amount:this.fj.U()});break}F.kj(c,0,null)}break;case "npcs":if(null==NPCeditor||!NPCeditor.X){if(5!=a[c].oc()){F.kj(c,5,this.ig);break}F.kj(c,0,null)}break;case "erasing":F.nC(c,
this.Dw)}}});NPCeditor=null;
NPCEditor=Popup.extend({Rb:M[0].name,T:0,Oc:function(){return{panels:{position:q.a(300,10),children:{main_panel:{d:q.a(0,0),position:q.a(0,0),size:q.size(420,396),u:q.h(0,0,100,120),children:{tab1:{children:{tiles:{d:q.a(0,1),position:q.a(48,320),Z:M[0].name},textureleftbtn:{position:q.a(32,340),size:q.size(16,32),u:N,d:q.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,d:q.a(0.5,0.5),position:q.a(8,16),color:q.k(0,0,0)}}},texturerightbtn:{position:q.a(144,340),size:q.size(16,32),u:N,d:q.a(0,0),
children:{text:{label:"\x3e\x3e",fontSize:12,d:q.a(0.5,0.5),position:q.a(8,16),color:q.k(0,0,0)}}},textureName:{position:q.a(48,340),size:q.size(96,32),u:q.h(255,255,255,170),d:q.a(0,0),children:{text:{label:M[0].name,fontSize:12,d:q.a(0.5,0.5),position:q.a(48,16),color:q.k(0,0,0)}}},upbtn:{position:q.a(48,320),size:q.size(96,16),u:q.h(0,0,255,255),d:q.a(0,0),children:{text:{label:"^",fontSize:12,d:q.a(0.5,0.5),position:q.a(48,8),color:q.k(255,255,255)}}},downbtn:{position:q.a(48,48),size:q.size(96,
16),u:q.h(0,0,255,255),d:q.a(0,0),children:{text:{label:"v",fontSize:12,d:q.a(0.5,0.5),position:q.a(48,8),color:q.k(255,255,255)}}},highlightnode:{d:q.a(0,0),position:q.a(0,0),size:q.size(96,128),u:q.h(255,100,100,255)},selectednode:{d:q.a(0,0),position:q.a(0,0),size:q.size(96,128),u:q.h(100,255,100,255)}}},tab2:{children:{itemdetailsback:{position:q.a(144,0),size:q.size(250,366),u:q.h(0,0,255,100),d:q.a(0,0)},name_text:{label:"Item Name",fontSize:10,d:q.a(0,0),position:q.a(8,344)},name_entry:{size:q.size(136,
32),position:q.a(4,312)}}},tab3:{},tab1Clickable:{position:q.a(0,376),size:q.size(60,20),u:N,d:q.a(0,0),children:{text:{label:"Sprite",fontSize:12,d:q.a(0.5,0.5),position:q.a(32,10),color:q.k(0,0,0)}}},tab2Clickable:{position:q.a(64,376),size:q.size(60,20),u:N,d:q.a(0,0),children:{text:{label:"Details",fontSize:12,d:q.a(0.5,0.5),position:q.a(32,10),color:q.k(0,0,0)}}},tab3Clickable:{position:q.a(128,376),size:q.size(60,20),u:N,d:q.a(0,0),children:{text:{label:"Modifier",fontSize:12,d:q.a(0.5,0.5),
position:q.a(32,10),color:q.k(0,0,0)}}},okbtn:{position:q.a(104,8),size:q.size(60,32),u:N,d:q.a(0,0),children:{text:{label:"OK",fontSize:12,d:q.a(0.5,0.5),position:q.a(30,16),color:q.k(0,0,0)}}},cancelbtn:{position:q.a(32,8),size:q.size(60,32),u:N,d:q.a(0,0),children:{text:{label:"Cancel",fontSize:12,d:q.a(0.5,0.5),position:q.a(30,16),color:q.k(0,0,0)}}}}},control_panel:{d:q.a(0,0),position:q.a(0,396),size:q.size(420,32),u:q.h(255,0,0,200),children:{header:{label:"Item Editor",fontSize:20,d:q.a(0,
0.5),position:q.a(8,16)},exitBtn:{position:q.a(391,3),size:q.size(26,26),d:q.a(0,0),u:q.h(255,255,255,200),children:{content:{label:"X",fontSize:20,color:q.k(0,0,0),d:q.a(0.5,0.5),position:q.a(13,13)}}}}}}}}},Nc:function(){return"npcEditor"},Oa:null,kf:null,Lc:0,m:null,data:null,r:function(a){this._super();this.data={name:"",sprite:{texture:null,position:null}};this.Rb=M[0].name;this.T=0;this.kf=this.Oa=null;this.Lc=0;this.m=null;this.O=q.a(0,0);this.kf=[null,190,400,200];this.m=a.m;a&&a.data&&(this.data=
a.data)},jj:function(a){H({savenpcs:a+"",npcsdata:this.data})},Wi:function(a,c){H({savenpcswhole:c})},oa:function(){this._super();this.b.main_panel.tab1.highlightnode.ia(0);this.b.main_panel.tab1.selectednode.ia(127);for(var a in M)M[a].name==this.data.sprite.texture&&(this.T=a,this.Rb=M[a].name);this.b.main_panel.tab1.textureName.text.ea(this.Rb);this.b.main_panel.tab1.tiles.fa(M[this.T].texture);this.Oa=new Y(this.b.main_panel.tab2.name_entry,q.size(this.b.main_panel.tab2.name_entry.c().width,this.b.main_panel.tab2.name_entry.c().height),
q.a(0,this.b.main_panel.tab2.name_entry.c().height),this.data.name?this.data.name:"",q.h(100,100,100),q.k(255,255,255));this.Oa.tb(!0);this.Qg(1);this.nb()},GX:function(){},xa:function(a){this._super();if(this.m){var c=this.m;!0!=a&&this.m.Bc(function(){c.$c(null)})}},ki:function(a){a=a.J;if(1==this.Lc&&(this.b.main_panel.tab1.highlightnode.ia(0),a=this.b.main_panel.tab1.tiles.Da(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.c().width&&a.y<=this.b.main_panel.tab1.tiles.c().height))return a.x=
a.x-a.x%96+48,a.y=a.y-a.y%128+64,this.b.main_panel.tab1.highlightnode.ia(127),this.b.main_panel.tab1.highlightnode.n(a),!0},Qg:function(a){a!=this.Lc&&(this.b.main_panel.V(this.kf[a],this.b.main_panel.c().height),this.b.control_panel.V(this.kf[a],this.b.control_panel.c().height),this.b.main_panel.tab2.name_entry.ib(this.b.main_panel.tab2.name_entry.q.F-1E3),this.Lc=a,this.b.main_panel.tab1.v(!1),this.b.main_panel.tab2.v(!1),this.b.main_panel.tab3.v(!1),this.b.main_panel.tab1Clickable.l(N),this.b.main_panel.tab2Clickable.l(N),
this.b.main_panel.tab3Clickable.l(N),this.b.main_panel["tab"+a].v(!0),this.b.main_panel["tab"+a+"Clickable"].l(q.h(255,255,0,255)),2==a&&this.b.main_panel.tab2.name_entry.ib(4),this.b.control_panel.exitBtn.ib(this.kf[a]-29))},nb:function(){this.fc(this.nb);this.b.main_panel.tab1.tiles.aa()&&!0==this.b.main_panel.tab1.tiles.aa().rc&&(this.cd(this.nb),this.b.main_panel.tab1.tiles.Sb(q.rect(Math.floor(96*this.O.x),Math.floor(128*this.O.y),96>M[this.T].texture.c().width?M[this.T].texture.c().width:96,
256>M[this.T].texture.c().height?M[this.T].texture.c().height:256)))},lb:function(a){if(this._super(a))return!0;this.Cd=null;a=a.J;var c=this.b.main_panel.Da(a);if(O(this.b.main_panel.tab1Clickable,c))return this.Qg(1),!0;if(O(this.b.main_panel.tab2Clickable,c))return this.Qg(2),!0;if(O(this.b.main_panel.tab3Clickable,c))return this.Qg(3),!0;if(O(this.b.main_panel.okbtn,c)){if(null==this.Oa.U()||""==this.Oa.U())return!0;this.Cf=!0;this.data.name=this.Oa.U();this.m.$c(this.data);return!0}if(O(this.b.main_panel.cancelbtn,
c)){this.Cf=!0;var d=this.m;this.m.Bc(function(){d.$c(null)});return!0}if(1==this.Lc){if(O(this.b.main_panel.tab1.upbtn,c))return 320<M[this.T].texture.c().height&&0<this.O.y&&(this.O.y--,this.nb()),!0;if(O(this.b.main_panel.tab1.downbtn,c))return 320<M[this.T].texture.c().height&&this.O.y<(M[this.T].texture.c().height-320)/32&&(this.O.y++,this.nb()),!0;if(O(this.b.main_panel.tab1.texturerightbtn,c))return this.On(),!0;if(O(this.b.main_panel.tab1.textureleftbtn,c))return this.Pn(),!0;c=this.b.main_panel.tab1.tiles.Da(a);
if(O(this.b.main_panel.tab1.tiles,c)){c.x=c.x-c.x%96+48;c.y=c.y-c.y%128+64;this.b.main_panel.tab1.selectednode.ia(0);if(this.b.main_panel.tab1.selectednode.q.F!=c.x||this.b.main_panel.tab1.selectednode.q.H!=c.y)this.b.main_panel.tab1.selectednode.ia(127),this.b.main_panel.tab1.selectednode.n(c);a=q.a((this.b.main_panel.tab1.selectednode.q.F-16)/96+this.O.x,8-(this.b.main_panel.tab1.selectednode.q.H-64)/128+this.O.y-1);this.data.sprite.position=a;return!0}}return!1},tL:function(){this.data.stackable=
!this.data.stackable;this.b.main_panel.tab2.stackbtn.l(Ga);this.b.main_panel.tab2.stackbtn.text.ea("NOT STACKABLE");!0==this.data.stackable&&(this.b.main_panel.tab2.stackbtn.l(Fa),this.b.main_panel.tab2.stackbtn.text.ea("IS STACKABLE"))},haa:function(a){this.b.main_panel.tab2.wearabletab.head.l(N);this.b.main_panel.tab2.wearabletab.body.l(N);this.b.main_panel.tab2.wearabletab.legs.l(N);this.b.main_panel.tab2.wearabletab.feet.l(N);this.b.main_panel.tab2.wearabletab.rarm.l(N);this.b.main_panel.tab2.wearabletab.larm.l(N);
this.b.main_panel.tab2.wearabletab.mod.l(N);"wearable"==this.data.itemType&&this.b.main_panel.tab2.wearabletab[a]&&this.b.main_panel.tab2.wearabletab[a].l(Ga);this.data.subType=a},On:function(){this.T>=M.length-1&&(this.T=-1);this.T++;this.b.main_panel.tab1.tiles.fa(M[this.T].texture);this.Rb=M[this.T].name;this.b.main_panel.tab1.textureName.text.ea(this.Rb);this.data.sprite.texture=this.Rb;this.O=q.a(0,0);this.nb()},Pn:function(){0>=this.T&&(this.T=M.length);this.T--;this.b.main_panel.tab1.tiles.fa(M[this.T].texture);
this.Rb=M[this.T].name;this.b.main_panel.tab1.textureName.text.ea(this.Rb);this.O=q.a(0,0);this.nb()}});Skillseditor=null;
SkillsEditor=Popup.extend({Rb:J[0].name,T:0,Oc:function(){return{panels:{position:q.a(300,10),children:{main_panel:{d:q.a(0,0),position:q.a(0,0),size:q.size(420,396),u:q.h(0,0,100,120),children:{tab1:{children:{tiles:{d:q.a(0,1),position:q.a(16,320),Z:J[0].name},textureleftbtn:{position:q.a(208,340),size:q.size(16,32),u:N,d:q.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,d:q.a(0.5,0.5),position:q.a(8,16),color:q.k(0,0,0)}}},texturerightbtn:{position:q.a(320,340),size:q.size(16,32),u:N,d:q.a(0,
0),children:{text:{label:"\x3e\x3e",fontSize:12,d:q.a(0.5,0.5),position:q.a(8,16),color:q.k(0,0,0)}}},textureName:{position:q.a(224,340),size:q.size(96,32),u:q.h(255,255,255,170),d:q.a(0,0),children:{text:{label:J[0].name,fontSize:12,d:q.a(0.5,0.5),position:q.a(48,16),color:q.k(0,0,0)}}},leftbtn:{position:q.a(0,64),size:q.size(16,252),u:q.h(0,0,255,255),d:q.a(0,0),children:{text:{label:"\x3c",fontSize:12,d:q.a(0.5,0.5),position:q.a(8,160),color:q.k(255,255,255)}}},rightbtn:{position:q.a(336,64),size:q.size(16,
252),u:q.h(0,0,255,255),d:q.a(0,0),children:{text:{label:"\x3e",fontSize:12,d:q.a(0.5,0.5),position:q.a(8,160),color:q.k(255,255,255)}}},upbtn:{position:q.a(16,320),size:q.size(320,16),u:q.h(0,0,255,255),d:q.a(0,0),children:{text:{label:"^",fontSize:12,d:q.a(0.5,0.5),position:q.a(160,8),color:q.k(255,255,255)}}},downbtn:{position:q.a(16,48),size:q.size(320,16),u:q.h(0,0,255,255),d:q.a(0,0),children:{text:{label:"v",fontSize:12,d:q.a(0.5,0.5),position:q.a(160,8),color:q.k(255,255,255)}}},highlightnode:{d:q.a(0,
0),position:q.a(0,0),size:q.size(32,32),u:q.h(255,100,100,255)},selectednode:{d:q.a(0,0),position:q.a(0,0),size:q.size(32,32),u:q.h(100,255,100,255)}}},tab2:{children:{name_text:{label:"Skill Name",fontSize:10,d:q.a(0,0),position:q.a(8,344)},name_entry:{size:q.size(136,32),position:q.a(4,312)},healthcolor_text:{label:"Healthbar Color",fontSize:10,d:q.a(0,0),position:q.a(8,250)},healthcolor_entry:{size:q.size(136,32),position:q.a(4,210)},tile:{d:q.a(0,1),position:q.a(55,150),Z:J[0].name},healthbtn:{position:q.a(8,
265),size:q.size(128,26),u:Ga,d:q.a(0,0),children:{text:{label:"NOT HEALTHBAR",fontSize:12,d:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,0,0)}}}}},tab1Clickable:{position:q.a(0,376),size:q.size(60,20),u:N,d:q.a(0,0),children:{text:{label:"Icon",fontSize:12,d:q.a(0.5,0.5),position:q.a(32,10),color:q.k(0,0,0)}}},tab2Clickable:{position:q.a(64,376),size:q.size(60,20),u:N,d:q.a(0,0),children:{text:{label:"Details",fontSize:12,d:q.a(0.5,0.5),position:q.a(32,10),color:q.k(0,0,0)}}},okbtn:{position:q.a(76,
8),size:q.size(60,32),u:N,d:q.a(0,0),children:{text:{label:"OK",fontSize:12,d:q.a(0.5,0.5),position:q.a(30,16),color:q.k(0,0,0)}}},cancelbtn:{position:q.a(8,8),size:q.size(60,32),u:N,d:q.a(0,0),children:{text:{label:"Cancel",fontSize:12,d:q.a(0.5,0.5),position:q.a(30,16),color:q.k(0,0,0)}}}}},control_panel:{d:q.a(0,0),position:q.a(0,396),size:q.size(420,32),u:q.h(255,0,0,200),children:{header:{label:"Skill Editor",fontSize:20,d:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(391,3),size:q.size(26,
26),d:q.a(0,0),u:q.h(255,255,255,200),children:{content:{label:"X",fontSize:20,color:q.k(0,0,0),d:q.a(0.5,0.5),position:q.a(13,13)}}}}}}}}},Nc:function(){return"SkillsEditor"},Oa:null,Jp:null,kf:null,Lc:0,m:null,data:null,r:function(a){this._super();this.data={sprite:{texture:J[0].name,position:{x:0,y:0}},additionalData:{},healthbar:null,name:""};this.Rb=J[0].name;this.T=0;this.kf=this.Oa=null;this.Lc=0;this.m=null;this.O=q.a(0,0);this.kf=[null,352,142];this.m=a.m;a&&a.data&&(this.data=a.data)},jj:function(a){H({saveskills:a+
"",skillsdata:this.data})},Wi:function(a,c){H({saveskillswhole:c})},oa:function(){this._super();this.b.main_panel.tab1.highlightnode.ia(0);this.b.main_panel.tab1.selectednode.ia(127);for(var a in J)J[a].name==this.data.sprite.texture&&(this.T=a,this.Rb=J[a].name);this.b.main_panel.tab1.textureName.text.ea(this.Rb);this.b.main_panel.tab1.tiles.fa(J[this.T].texture);for(a=this.data.sprite.position.x;10<=a;)a--,this.O.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.O.y++;a=q.a(32*(this.data.sprite.position.x-
this.O.x),32*(this.data.sprite.position.y-this.O.y));this.b.main_panel.tab1.selectednode.n(this.b.main_panel.tab1.tiles.q.x+a.x,this.b.main_panel.tab1.tiles.q.y-(a.y+32));this.b.main_panel.tab2.tile.fa(J[this.T].texture);this.b.main_panel.tab2.tile.Sb(q.rect(Math.floor(32*this.data.sprite.position.x),Math.floor(32*this.data.sprite.position.y),32,32));this.Oa=new Y(this.b.main_panel.tab2.name_entry,q.size(this.b.main_panel.tab2.name_entry.c().width,this.b.main_panel.tab2.name_entry.c().height),q.a(0,
this.b.main_panel.tab2.name_entry.c().height),this.data.name?this.data.name:"",q.h(100,100,100),q.k(255,255,255));this.Oa.tb(!0);this.Jp=new Y(this.b.main_panel.tab2.healthcolor_entry,q.size(this.b.main_panel.tab2.healthcolor_entry.c().width,this.b.main_panel.tab2.healthcolor_entry.c().height),q.a(0,this.b.main_panel.tab2.healthcolor_entry.c().height),this.data.healthbar?this.data.healthbar:"",q.h(100,100,100),q.k(255,255,255));this.Jp.tb(!0);this.b.main_panel.tab2.healthbtn.l(Ga);this.b.main_panel.tab2.healthbtn.text.ea("NOT HEALTHBAR");
null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.l(Fa),this.b.main_panel.tab2.healthbtn.text.ea("IS HEALTHBAR"));this.Qg(1);this.nb()},GX:function(){},xa:function(a){this._super();if(this.m){var c=this.m;!0!=a&&this.m.Bc(function(){c.$c(null)})}},ki:function(a){a=a.J;if(1==this.Lc&&(this.b.main_panel.tab1.highlightnode.ia(0),a=this.b.main_panel.tab1.tiles.Da(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.c().width&&a.y<=this.b.main_panel.tab1.tiles.c().height))return a.x=
a.x-a.x%32+16,a.y=a.y-a.y%32+64,this.b.main_panel.tab1.highlightnode.ia(127),this.b.main_panel.tab1.highlightnode.n(a),!0},Qg:function(a){a!=this.Lc&&(this.b.main_panel.V(this.kf[a],this.b.main_panel.c().height),this.b.control_panel.V(this.kf[a],this.b.control_panel.c().height),this.b.main_panel.tab2.name_entry.ib(this.b.main_panel.tab2.name_entry.q.F-1E3),this.b.main_panel.tab2.healthcolor_entry.ib(this.b.main_panel.tab2.healthcolor_entry.q.F-1E3),this.b.main_panel.tab2.healthcolor_text.v(!1),this.Lc=
a,this.b.main_panel.tab1.v(!1),this.b.main_panel.tab2.v(!1),this.b.main_panel.tab1Clickable.l(N),this.b.main_panel.tab2Clickable.l(N),this.b.main_panel["tab"+a].v(!0),this.b.main_panel["tab"+a+"Clickable"].l(q.h(255,255,0,255)),this.b.control_panel.exitBtn.ib(this.kf[a]-29));2==a&&(this.b.main_panel.tab2.name_entry.ib(4),null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthcolor_entry.ib(4),this.b.main_panel.tab2.healthcolor_text.v(!0)))},nb:function(){this.fc(this.nb);
this.b.main_panel.tab1.tiles.aa()&&!0==this.b.main_panel.tab1.tiles.aa().rc&&(this.cd(this.nb),this.b.main_panel.tab1.tiles.Sb(q.rect(Math.floor(32*this.O.x),Math.floor(32*this.O.y),320>J[this.T].texture.c().width?J[this.T].texture.c().width:320,256>J[this.T].texture.c().height?J[this.T].texture.c().height:256)))},lb:function(a){if(this._super(a))return!0;this.Cd=null;a=a.J;var c=this.b.main_panel.Da(a);if(O(this.b.main_panel.tab1Clickable,c))return this.Qg(1),!0;if(O(this.b.main_panel.tab2Clickable,
c))return this.Qg(2),!0;if(O(this.b.main_panel.okbtn,c)){if(null==this.Oa.U()||""==this.Oa.U())return!0;this.Cf=!0;this.data.name=this.Oa.U();if(null!=this.Jp.U()||""!=this.Jp.U())this.data.healthbar=this.Jp.U();this.m.$c(this.data);return!0}if(O(this.b.main_panel.cancelbtn,c)){this.Cf=!0;var d=this.m;this.m.Bc(function(){d.$c(null)});return!0}if(1==this.Lc){if(O(this.b.main_panel.tab1.leftbtn,c))return 264<J[this.T].texture.c().width&&0<this.O.x&&(this.O.x--,this.nb()),!0;if(O(this.b.main_panel.tab1.rightbtn,
c))return 320<J[this.T].texture.c().width&&this.O.x<(J[this.T].texture.c().width-320)/32&&(this.O.x++,this.nb()),!0;if(O(this.b.main_panel.tab1.upbtn,c))return 320<J[this.T].texture.c().height&&0<this.O.y&&(this.O.y--,this.nb()),!0;if(O(this.b.main_panel.tab1.downbtn,c))return 320<J[this.T].texture.c().height&&this.O.y<(J[this.T].texture.c().height-320)/32&&(this.O.y++,this.nb()),!0;if(O(this.b.main_panel.tab1.texturerightbtn,c))return this.On(),!0;if(O(this.b.main_panel.tab1.textureleftbtn,c))return this.Pn(),
!0;c=this.b.main_panel.tab1.tiles.Da(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.c().width&&c.y<=this.b.main_panel.tab1.tiles.c().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+64;this.b.main_panel.tab1.selectednode.ia(0);if(this.b.main_panel.tab1.selectednode.q.F!=c.x||this.b.main_panel.tab1.selectednode.q.H!=c.y)this.b.main_panel.tab1.selectednode.ia(127),this.b.main_panel.tab1.selectednode.n(c);a=q.a((this.b.main_panel.tab1.selectednode.q.F-16)/32+this.O.x,8-(this.b.main_panel.tab1.selectednode.q.H-
64)/32+this.O.y-1);this.b.main_panel.tab2.tile.Sb(q.rect(32*a.x,32*a.y,32,32));this.data.sprite.position=a;console.log("TOUCHED");return!0}}return 2==this.Lc&&O(this.b.main_panel.tab2.healthbtn,c)?(this.hY(),!0):!1},hY:function(){this.b.main_panel.tab2.healthcolor_entry.ib(this.b.main_panel.tab2.healthcolor_entry.q.F-1E3);this.b.main_panel.tab2.healthcolor_text.v(!1);null!=this.data.healthbar&&""!=this.data.healthbar?(this.data.healthbar="",this.Jp.Ge("")):(this.data.healthbar="FF0000",this.b.main_panel.tab2.healthcolor_entry.ib(4),
this.b.main_panel.tab2.healthcolor_text.v(!0));this.b.main_panel.tab2.healthbtn.l(Ga);this.b.main_panel.tab2.healthbtn.text.ea("NOT HEALTHBAR");null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.l(Fa),this.b.main_panel.tab2.healthbtn.text.ea("IS HEALTHBAR"))},On:function(){this.T>=J.length-1&&(this.T=-1);this.T++;this.b.main_panel.tab1.tiles.fa(J[this.T].texture);this.b.main_panel.tab2.tile.fa(J[this.T].texture);this.Rb=J[this.T].name;this.b.main_panel.tab1.textureName.text.ea(this.Rb);
this.data.sprite.texture=this.Rb;this.O=q.a(0,0);this.nb()},Pn:function(){0>=this.T&&(this.T=J.length);this.T--;this.b.main_panel.tab1.tiles.fa(J[this.T].texture);this.b.main_panel.tab2.tile.fa(J[this.T].texture);this.Rb=J[this.T].name;this.b.main_panel.tab1.textureName.text.ea(this.Rb);this.O=q.a(0,0);this.nb()}});PopupList=Popup.extend({Xf:null,Mc:[],fD:null,In:!1,Ex:-1,A8:0,YH:null,R:null,OI:!1,xa:function(){this._super();this.m&&(this.m.Xb(!0),!this.OI&&this.m.OK&&this.m.OK(null,null))},r:function(a){this._super();this.Xf=null;this.Mc=[];this.fD=null;this.In=!1;this.Ex=-1;this.Xf=a.th;a.list&&(this.Mc=a.list);this.fD=a.name;this.m=a.m},oa:function(){this._super();this.Hb()},R:null,Hb:function(){this.R&&this.R.na.N();var a=[],c=[],d=q.ha.e();this.YH={};for(var e in this.Mc)if(a[e]=q.D.create(),a[e].V(324,
32),null==this.Mc[e])this.Mc.splice(e,1);else{if(null!=this.m){var f=q.A.gb(d.qa("GUI/use.png"));f.n(q.a(244,6));f.L(q.a(0,0))}var g=q.ca.create(q.h(0,0,0,127),316,1);g.n(q.a(4,0));var h=q.S.create(this.Mc[e].name,"Arial",20);h.L(q.a(0,0.5));h.n(q.a(0,16));var k=q.A.gb(d.qa("GUI/edit.png"));k.n(q.a(272,6));k.L(q.a(0,0));var l=q.A.gb(d.qa("GUI/trash.png"));l.n(q.a(300,6));l.L(q.a(0,0));k.tc="Edit";var m=[];m.push(k);l.tc="Delete";m.push(l);null!=this.m&&(f.tc="Use",m.push(f));c.push(m);a[e].f(g);a[e].f(h);
a[e].f(k);a[e].f(l);null!=this.m&&a[e].f(f)}d=q.ca.create(q.h(70,200,70,255),90,26);e=q.S.create("+","Arial",20);e.n(45,13);e.L(q.a(0.5,0.5));d.n(q.a(120,0));d.tc="Add";d.f(e);c.push([d]);a.push(d);this.R=this.b.main_panel.list;var n=this;this.R.Od=function(){return q.size(324,32*a.length)};this.R.Ad=function(){return a.length};this.R.te=function(c){return a[c].c()};this.R.re=function(c){return a[c]};this.R.wc=function(a,c,d){n.Da(d.J);if(!0!=n.In)switch(a){case "Delete":n.X.f(DropDownList.Nd(n,n.kC,
["Cancel","Delete"],d.J));n.hb=c;break;case "Edit":n.Xf.X&&n.Xf.N();n.In=!0;n.Xf.r({m:n,data:n.Mc[c]});n.X.f(n.Xf);n.Xb(!1);n.Xf.oa();n.Ex=c+"";break;case "Add":n.JH=!0;n.In=!0;n.Ex=n.Mc.length;n.Xf.r({m:n,data:null});n.Xb(!1);n.X.f(n.Xf);n.Xf.oa();break;case "Use":n.m.gt(c,n.Mc[c]),n.OI=!0}};this.R.na=ListView.create(this.R);this.R.na.Fe(c);this.R.f(this.R.na)},Oc:function(){return{panels:{position:q.a(300,200),children:{background_image:{Z:"GUI/list_panel.png",d:q.a(0,0)},main_panel:{d:q.a(0,0),
size:q.size(365,328),children:{list:{size:q.size(324,328),position:q.a(0,0),d:q.a(0,0)}}},control_panel:{d:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:this.fD,fontSize:20,d:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),d:q.a(0,0),Z:"GUI/close.png"}}}}}}},hb:null,kC:function(a){switch(a){case 1:null!=this.m.hb&&(this.m.$R(this.m.hb),this.m.hb=null)}},lb:function(a){if(this._super(a))return!0;this.Cd=null;a=this.b.main_panel.Da(a.J);return O(this.b.main_panel,
a)?!0:!1},$c:function(a){a&&(this.Xf.jj(this.Ex),this.JH&&(this.Mc.push(a),this.Hb()));this.Xb(!0);this.In=this.JH=!1;var c=this;this.Bc(function(){c.Xf.xa(!0);c.Xf.N()})},$R:function(a){this.Mc.splice(a,1);this.Xf.Wi(a,this.Mc);this.Hb()}});Warpeditor=null;
WarpEditor=Popup.extend({Nc:function(){return"WarpEditor"},jj:function(a){H({savewarps:a+"",warpdata:this.data})},Wi:function(a,c){H({savewarpswhole:c})},Oc:function(){return{panels:{position:q.a(300,200),children:{background:{Z:"GUI/warpeditor_bg.png",d:q.a(0,0)},main_panel:{d:q.a(0,0),size:q.size(180,160),children:{okbtn:{position:q.a(114,16),size:q.size(32,32),Z:"GUI/tick_icon.png",d:q.a(0,0)},cancelbtn:{position:q.a(34,16),size:q.size(32,32),Z:"GUI/cross_icon.png",d:q.a(0,0)},namelbl:{label:"Name of warp.",
fontSize:12,d:q.a(0,0),position:q.a(20,140),color:q.k(0,0,0)},nameEntry:{position:q.a(16,110),size:q.size(120,30)},mapnumlbl:{label:"Map #",fontSize:12,d:q.a(0,0),position:q.a(20,90),color:q.k(0,0,0)},mapNumEntry:{position:q.a(16,60),size:q.size(40,30)},mapxlbl:{label:"x",fontSize:12,d:q.a(0,0),position:q.a(80,90),color:q.k(0,0,0)},mapXEntry:{position:q.a(76,60),size:q.size(36,30)},mapylbl:{label:"y",fontSize:12,d:q.a(0,0),position:q.a(130,90),color:q.k(0,0,0)},mapYEntry:{position:q.a(126,60),size:q.size(36,
30)}}},control_panel:{d:q.a(0,0),position:q.a(0,160),size:q.size(180,32),children:{header:{label:"Warp Editor",fontSize:20,d:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(156,6),size:q.size(20,20),d:q.a(0,0),Z:"GUI/close.png"}}}}}}},Oa:null,Sp:null,Tp:null,Up:null,m:null,data:null,r:function(a){this._super();this.m=this.Up=this.Tp=this.Sp=this.Oa=null;this.data={mapTo:0,position:0,name:""};a.data&&(this.data=a.data);this.m=a.m},oa:function(){this._super();var a=this.data.position%S,c=Math.floor(this.data.position/
S);this.Oa=new Y(this.b.main_panel.nameEntry,q.size(this.b.main_panel.nameEntry.c().width,this.b.main_panel.nameEntry.c().height),q.a(0,this.b.main_panel.nameEntry.c().height),this.data.name,q.h(100,100,100),q.k(255,255,255));this.Oa.tb(!0);this.Sp=new Y(this.b.main_panel.mapNumEntry,q.size(this.b.main_panel.mapNumEntry.c().width,this.b.main_panel.mapNumEntry.c().height),q.a(0,this.b.main_panel.mapNumEntry.c().height),""+this.data.mapTo,q.h(100,100,100),q.k(255,255,255));this.Sp.tb(!0);this.Tp=new Y(this.b.main_panel.mapXEntry,
q.size(this.b.main_panel.mapXEntry.c().width,this.b.main_panel.mapXEntry.c().height),q.a(0,this.b.main_panel.mapXEntry.c().height),""+a,q.h(100,100,100),q.k(255,255,255));this.Tp.tb(!0);this.Up=new Y(this.b.main_panel.mapYEntry,q.size(this.b.main_panel.mapYEntry.c().width,this.b.main_panel.mapYEntry.c().height),q.a(0,this.b.main_panel.mapYEntry.c().height),""+c,q.h(100,100,100),q.k(255,255,255));this.Up.tb(!0)},lb:function(a){if(this._super(a))return!0;this.Cd=null;a=this.b.main_panel.Da(a.J);if(O(this.b.main_panel.okbtn,
a)){if(null==this.Oa.U()||""==this.Oa.U()||null==this.Sp.U()||""==this.Sp.U()||null==this.Tp.U()||""==this.Tp.U()||null==this.Up.U()||""==this.Up.U())return!0;this.Cf=!0;this.data.position=T(parseInt(this.Tp.U()),Pa-parseInt(this.Up.U()));this.data.mapTo=parseInt(this.Sp.U());this.data.name=this.Oa.U();this.m.$c(this.data);return!0}if(O(this.b.main_panel.cancelbtn,a)){this.Cf=!0;var c=this.m;this.m.Bc(function(){c.$c(null)});return!0}},xa:function(a){this._super();var c=this.m;a||this.m.Bc(function(){c.$c(null)})}});Signeditor=null;
SignEditor=Popup.extend({Nc:function(){return"SignEditor"},jj:function(a){H({savesigns:a+"",signsdata:this.data})},Wi:function(a,c){H({savesignswhole:c})},Oc:function(){return{panels:{position:q.a(300,200),children:{background:{Z:"GUI/signeditor_bg.png",d:q.a(0,0)},main_panel:{d:q.a(0,0),size:q.size(142,256),children:{okbtn:{position:q.a(88,16),size:q.size(32,32),Z:"GUI/tick_icon.png",d:q.a(0,0)},cancelbtn:{position:q.a(22,16),size:q.size(32,32),Z:"GUI/cross_icon.png",d:q.a(0,0)},namelbl:{label:"Name of sign.",
fontSize:12,d:q.a(0,0),position:q.a(6,238),color:q.k(0,0,0)},nameEntry:{position:q.a(4,206),size:q.size(120,30)},signlbl:{label:"Contents",fontSize:12,d:q.a(0,0),position:q.a(6,190),color:q.k(0,0,0)},signEntry:{position:q.a(4,60),size:q.size(120,128)}}},control_panel:{d:q.a(0,0),position:q.a(0,256),size:q.size(142,32),children:{header:{label:"Sign Editor",fontSize:20,d:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(118,6),size:q.size(20,20),d:q.a(0,0),Z:"GUI/close.png"}}}}}}},Oa:null,gq:null,
m:null,data:null,r:function(a){this._super();this.m=this.gq=this.Oa=null;this.data={label:"",name:""};a.data&&(this.data=a.data);this.m=a.m},oa:function(){this._super();this.Oa=new Y(this.b.main_panel.nameEntry,q.size(this.b.main_panel.nameEntry.c().width,this.b.main_panel.nameEntry.c().height),q.a(0,this.b.main_panel.nameEntry.c().height),this.data.name,q.h(100,100,100),q.k(255,255,255));this.Oa.tb(!0);this.gq=new Y(this.b.main_panel.signEntry,q.size(this.b.main_panel.signEntry.c().width,this.b.main_panel.signEntry.c().height),
q.a(0,this.b.main_panel.signEntry.c().height),""+this.data.label,q.h(100,100,100),q.k(255,255,255),!0);this.gq.tb(!0)},lb:function(a){if(this._super(a))return!0;this.Cd=null;a=this.b.main_panel.Da(a.J);if(O(this.b.main_panel.okbtn,a)){if(null==this.Oa.U()||""==this.Oa.U()||null==this.gq.U()||""==this.gq.U())return!0;this.Cf=!0;this.data.label=this.gq.U();this.data.name=this.Oa.U();this.m.$c(this.data);return!0}if(O(this.b.main_panel.cancelbtn,a)){this.Cf=!0;var c=this.m;this.m.Bc(function(){c.$c(null)});
return!0}},xa:function(a){this._super();var c=this.m;a||this.m.Bc(function(){c.$c(null)})}});var Na=Qa.extend({ctor:function(){this._super()},ML:function(){this._super()},oa:function(){this._super()},xa:function(){this._super()},lb:function(a){q.ab(this.b.health_panel.Xa(),a.J)&&w.e().ql("Game")},r:function(){var a=q.S.create("ITS WOKKIN!","Arial",16);a.l(q.k(0,0,0));a.n(q.a(200,200));this.f(a);this._super()}});NewsPanel=null;
News=Popup.extend({data:null,R:null,hb:null,Nc:function(){return"Credits"},xa:function(){this._super()},r:function(){this._super();this.data={"24th October 2014: (v0.724)":["Added functionality to more scripts. Items can now use the destroy and open/close panel scripts.","Fixed equip script to use the equip position defined within the scripting system instead of previously defined sub-item types from previous versions."],"23rd October 2014: (v0.722)":["Added functionality to some item scripts. Game now modifies inventory drop down behaviour based on responses type (read/equip).","Items can now influence player stats on equip, dequip, swapped and on read."],
"30th September 2014: (v0.72)":["Added user saving and loading for player position, items and equipment. Picked up and equipped items are now stored and saved regardless of session.","Edited the skills panel to utilise the list view logic. Skills menu now shows level and experience progression and uses data from the user account","Added health manipulation functionality utilising new skill logic as noted in the previous point."],"27th September 2014: (v0.72)":["Added registration and logging in system. Users can now have automatic login setup for their accounts and player data is starting to be saved from an actual account.",
"Server now has a new folder where user data is stored.","Added the beginnings of a user ranking system, game editors can now only be accessed if the player rank is above 1. Rank 1 is now the default registration rank."],"25th August 2014: (v0.718)":["Added 90% of subeditors needed for the scripting system. Go into the script editor and press the pencil icon on the responses and requirements to edit their core data.","Updated script panel texture to utilize inpanel submenu editors.","Abstracted out the script editor so that its not dependant on certain types.",
"Added/removed requirements responses based on logical conclusions on what is actually needed. Consume as an item response, for example, is unecessary because it would work identically to destroy."],"17th August 2014: (v0.714)":["Added basic template logic of new scripting editor system. Scripts can be saved and loaded like other list systems. This editor currently does not allow you to apply scripts to anything (it is simply the GUI interface template logic that's in there). The item editor has been changed to utilize the new saved scripts list.",
"Fixed localstorage issue caused by settings implementation. Game now does not now load until the game is fully in sync. The issue was causing an error on some game-loads because the localstorage was not yet available (requiring a refresh)."],"11th August 2014: (v0.708)":["Added settings menu for various game controls. Settings menu only currently controls a load of in game string settings. Also added the additional required admin panel graphic for settings access. The new chatbox command is /editsettings.",
"Added scrolling credits button to login page and populated it.","Added this scrolling news feed to login page and obviously populated it as well."],"11th August 2014 (v0.7)":["Added some additional custom gui for some of the editors.","Fixed a lot of bugs (and I mean a lot).","Added 0.7 download to site."],"10th August 2014 (v0.695)":["Added quest objective editor. New button now made usable in menu.","Objective editor utilizes abstract scrolling list from 0.69."]}},jj:function(a){H({savequests:a+
"",questdata:this.data})},Wi:function(a,c){H({savequestswhole:c})},oa:function(){this._super();this.Hb()},Hb:function(){this.R&&this.R.pc();var a=[],c=[];q.ha.e();var d=0,e;for(e in this.data){a[d]=q.D.create();a[d].V(324,32);var f=q.S.create(e,"Arial",18);f.L(q.a(0,0));f.n(q.a(4,0));f.gc(q.size(246,0));f.l(q.k(100,0,0));a[d].f(f);a[d].V(324,f.c().height+4);f=[];c.push(f);d++;for(var g in this.data[e]){a[d]=q.D.create();a[d].V(324,32);var h=q.ca.create(q.h(0,0,0,127),316,1);h.n(q.a(4,0));var k=q.S.create(this.data[e][g],
"Arial",15);k.l(q.k(0,0,0));k.L(q.a(0,0));k.n(q.a(4,4));k.gc(q.size(246,0));f=[];c.push(f);a[d].f(h);a[d].f(k);a[d].V(324,k.c().height+8);d++}}this.R=this.b.main_panel.list;this.R.Od=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(324,c)};this.R.Ad=function(){return a.length};this.R.te=function(c){return a[c].c()};this.R.re=function(c){return a[c]};this.R.wc=function(){};this.R.na=ListView.create(this.R);this.R.na.Fe(c);this.R.f(this.R.na)},Oc:function(){return{panels:{position:q.a(300,
200),children:{background_image:{Z:"GUI/list_panel.png",d:q.a(0,0)},main_panel:{d:q.a(0,0),size:q.size(365,328),children:{list:{size:q.size(324,328),u:q.h(0,200,200,200),position:q.a(0,0),d:q.a(0,0)}}},control_panel:{d:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"News",fontSize:20,d:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),d:q.a(0,0),Z:"GUI/close.png"}}}}}}},lb:function(a){if(this._super(a))return!0;this.Cd=null;a=this.b.main_panel.Da(a.J);
return O(this.b.main_panel,a)?!0:!1}});CreditsPanel=null;
Credits=Popup.extend({data:null,R:null,hb:null,Nc:function(){return"Credits"},xa:function(){this._super()},r:function(){this._super();this.data={"Programmed and designed by:":"Alan Tuckwood","Special thanks:":"Claire, for putting up with all the non-talking hours.","Special thanks 2:":"IndieRising dev community for all their wonderful support.","Special thanks 3:":"Finblade, for all the skills I was able to pass into this engine.","Special thanks 4:":"All of you players, who's positive response keep me motivated.","Powder Engine is Copywritten":"Contact the developer in-site regarding questions."}},
jj:function(a){H({savequests:a+"",questdata:this.data})},Wi:function(a,c){H({savequestswhole:c})},oa:function(){this._super();this.Hb()},Hb:function(){this.R&&this.R.pc();var a=[],c=[];q.ha.e();var d=0,e;for(e in this.data){if("ISSECTION"!=this.data[e]){a[d]=q.D.create();a[d].V(324,32);var f=q.S.create(e,"Arial",18);f.L(q.a(0,0));f.n(q.a(4,0));f.gc(q.size(246,0));f.l(q.k(100,0,0));a[d].f(f);a[d].V(324,f.c().height+4);f=[];c.push(f);d++}a[d]=q.D.create();a[d].V(324,32);var g=q.ca.create(q.h(0,0,0,
127),316,1);g.n(q.a(4,0));if("ISSECTION"==this.data[e]){var h=q.S.create(e,"Arial",22);h.l(q.k(255,0,0))}else h=q.S.create(this.data[e],"Arial",15),h.l(q.k(0,0,0));h.L(q.a(0,0));h.n(q.a(4,4));h.gc(q.size(246,0));f=[];c.push(f);a[d].f(g);a[d].f(h);"ISSECTION"==this.data[e]?a[d].V(324,h.c().height+12):a[d].V(324,h.c().height+8);d++}this.R=this.b.main_panel.list;this.R.Od=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(324,c)};this.R.Ad=function(){return a.length};this.R.te=
function(c){return a[c].c()};this.R.re=function(c){return a[c]};this.R.wc=function(){};this.R.na=ListView.create(this.R);this.R.na.Fe(c);this.R.f(this.R.na)},Oc:function(){return{panels:{position:q.a(300,200),children:{background_image:{Z:"GUI/list_panel.png",d:q.a(0,0)},main_panel:{d:q.a(0,0),size:q.size(365,328),children:{list:{size:q.size(324,328),u:q.h(0,200,200,200),position:q.a(0,0),d:q.a(0,0)}}},control_panel:{d:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Credits",
fontSize:20,d:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),d:q.a(0,0),Z:"GUI/close.png"}}}}}}},lb:function(a){if(this._super(a))return!0;this.Cd=null;a=this.b.main_panel.Da(a.J);return O(this.b.main_panel,a)?!0:!1}});Login=Qa.extend({Zs:!1,Rl:!1,r:function(a){y=sa(y,v.BC());this._super();w.Dn(this);this.Np=this.aD=!1;this.kk=new Y(this.b.name_entry,q.size(this.b.name_entry.c().width,this.b.name_entry.c().height),q.a(0,this.b.name_entry.c().height),"Username",q.h(100,100,100),q.k(255,255,255));this.Bl=new Y(this.b.password_entry,q.size(this.b.password_entry.c().width,this.b.password_entry.c().height),q.a(0,this.b.password_entry.c().height),"Password",q.h(100,100,100),q.k(255,255,255));this.Bl.Jx(0);this.zD=new Y(this.b.new_user_name,
q.size(this.b.new_user_name.c().width,this.b.new_user_name.c().height),q.a(0,this.b.new_user_name.c().height),"Username",q.h(100,100,100),q.k(255,255,255));this.yx=new Y(this.b.new_user_pass,q.size(this.b.new_user_pass.c().width,this.b.new_user_pass.c().height),q.a(0,this.b.new_user_pass.c().height),"Password",q.h(100,100,100),q.k(255,255,255));this.yx.Jx(0);this.yD=new Y(this.b.new_user_email,q.size(this.b.new_user_email.c().width,this.b.new_user_email.c().height),q.a(0,this.b.new_user_email.c().height),
"Email Address",q.h(100,100,100),q.k(255,255,255));this.LH=!1;a&&(a.yJ?(t=[],H({logout:!0})):this.LH=!0,this.Fn(a.MD));this.fc(this.fC);this.KH=!1;this.fc(this.fE);this.NC();this.b.rem_login_text.gc(q.size(80,0));this.b.auto_login_text.gc(q.size(80,0));this.b.server_message.gc(q.size(300,0));this.b.server_message2.gc(q.size(150,0))},Al:function(a){switch(a){case "ENTER":if(this.aD){a=this.zD.U();var c=this.yx.U(),d=this.yD.U();""!=a&&null!=a&&""!=c&&null!=c&&""!=d&&null!=d?!1==/\S+@\S+\.\S+/.test(d)?
this.gg("Please use a correct email address."):(this.Np=!0,this.gg("Registering please wait..."),this.dK({name:a,password:c,email:d})):this.gg("Please fill all fields.")}else!1==this.Rl&&this.Zs?(a=this.kk.U(),c=this.Bl.U(),""!=a&&null!=a&&""!=c&&null!=c?(this.Rl=!0,this.gg("Logging In"),H({login:!0,username:this.kk.U(),password:this.Bl.U()})):this.gg("Please enter a User and Password")):this.lx("Server is offline!")}},Fn:function(a){this.Zs=a;!0==a?(this.b.server_activity.ea("Server: Online"),this.b.server_activity.l(q.k(0,
255,0))):(this.b.server_activity.ea("Server: Offline"),this.b.server_activity.l(q.k(255,0,0)))},fC:function(){var a=v.qT();a&&!1==this.KH&&(this.kk.Ge(a.user),this.KH=!0,this.Bl.Ge(a.pass));!0==this.LH&&autoLoginNextTime&&!1==this.Rl&&this.Zs&&(!1==this.Rl&&this.Zs?(this.Rl=!0,this.gg("Logging In"),H({login:!0,username:this.kk.U(),password:this.Bl.U()})):this.lx("Server is offline!"))},fE:function(){if(0<t.length)for(var a=t.length-1;0<=a;a--)reactToSocketMessage(t[a]),t.splice(a,1);autoLoginNextTime?
(v.sK(!0),this.b.auto_login.fa(q.ha.e().qa("GUI/checkbox_checked.png"))):(v.sK(!1),this.b.auto_login.fa(q.ha.e().qa("GUI/checkbox_uncheck.png")));rememberLoginNextTime?this.b.remember_login.fa(q.ha.e().qa("GUI/checkbox_checked.png")):this.b.remember_login.fa(q.ha.e().qa("GUI/checkbox_uncheck.png"))},Oc:function(){return{panels:{children:{background:{Z:"GUI/splash.png",size:q.size(960,640),d:q.a(0,0),position:q.a(0,0)},name_entry:{size:q.size(300,30),position:q.a(325,325)},password_entry:{size:q.size(300,
30),position:q.a(325,290)},new_user_name:{size:q.size(300,30),position:q.a(325,360)},new_user_pass:{size:q.size(300,30),position:q.a(325,325)},new_user_email:{size:q.size(300,30),position:q.a(325,290)},remember_login:{size:q.size(20,20),position:q.a(630,295),Z:"GUI/checkbox_uncheck.png",d:q.a(0,0)},rem_login_text:{label:"Remember login.",fontSize:16,color:q.k(255,255,255),d:q.a(0,1),position:q.a(665,315)},auto_login:{size:q.size(20,20),position:q.a(630,330),Z:"GUI/checkbox_uncheck.png",d:q.a(0,0)},
auto_login_text:{label:"Auto login next time.",fontSize:16,color:q.k(255,255,255),d:q.a(0,0),position:q.a(665,330)},go_button:{position:q.a(325,240),size:q.size(120,40),u:q.h(0,0,0,255),children:{label:{label:"Play",fontSize:20,color:q.k(255,255,255),d:q.a(0.5,0.5),position:q.a(60,20)}}},register_button:{position:q.a(505,240),size:q.size(120,40),u:q.h(0,0,0,255),d:q.a(0,1),children:{label:{label:"Register",fontSize:20,color:q.k(255,255,255),d:q.a(0.5,0.5),position:q.a(60,20)}}},new_user_back:{position:q.a(325,
240),size:q.size(120,40),u:q.h(0,0,0,255),children:{label:{label:"Go Back",fontSize:20,color:q.k(255,255,255),d:q.a(0.5,0.5),position:q.a(60,20)}}},new_user_confirm:{position:q.a(505,240),size:q.size(120,40),u:q.h(0,0,0,255),d:q.a(0,1),children:{label:{label:"Confirm",fontSize:20,color:q.k(255,255,255),d:q.a(0.5,0.5),position:q.a(60,20)}}},credits_button:{position:q.a(30,400),size:q.size(120,40),u:q.h(0,0,0,255),children:{label:{label:"Credits",fontSize:20,color:q.k(255,255,255),d:q.a(0.5,0.5),position:q.a(60,
20)}}},news_button:{position:q.a(30,340),size:q.size(120,40),u:q.h(0,0,0,255),d:q.a(0,1),children:{label:{label:"News",fontSize:20,color:q.k(255,255,255),d:q.a(0.5,0.5),position:q.a(60,20)}}},server_message:{label:"",fontSize:16,color:q.k(255,255,255),d:q.a(0,1),position:q.a(325,220)},server_message2:{label:"This game saves data automatically.",fontSize:16,color:q.k(255,255,255),d:q.a(0,1),position:q.a(175,355)},version_number:{label:y["Version Number"],fontSize:34,color:q.k(255,255,255),d:q.a(1,
1),position:q.a(710,55)},server_activity:{position:q.a(910,630),size:q.size(100,20),d:q.a(0.5,0.5),label:"Server: Offline",color:q.k(255,0,0)}}}}},jY:function(){autoLoginNextTime?(autoLoginNextTime=!1,this.b.auto_login.fa(q.ha.e().qa("GUI/checkbox_uncheck.png"))):(autoLoginNextTime=!0,this.b.auto_login.fa(q.ha.e().qa("GUI/checkbox_checked.png")),rememberLoginNextTime=!0,this.b.remember_login.fa(q.ha.e().qa("GUI/checkbox_checked.png")))},kY:function(){rememberLoginNextTime?(rememberLoginNextTime=!1,
this.b.remember_login.fa(q.ha.e().qa("GUI/checkbox_uncheck.png")),autoLoginNextTime=!1,this.b.auto_login.fa(q.ha.e().qa("GUI/checkbox_uncheck.png"))):(rememberLoginNextTime=!0,this.b.remember_login.fa(q.ha.e().qa("GUI/checkbox_checked.png")))},lb:function(a){if(null!=this.kk.U()&&this.b.go_button.ka&&q.ab(q.rect(this.b.go_button.q.F,this.b.go_button.q.H,this.b.go_button.c().width,this.b.go_button.c().height),a.J)){if(!1==this.Rl&&this.Zs){a=this.kk.U();var c=this.Bl.U();""!=a&&null!=a&&""!=c&&null!=
c?(this.Rl=!0,this.gg("Logging In"),H({login:!0,username:this.kk.U(),password:this.Bl.U()})):this.gg("Please enter a User and Password")}else this.lx("Server is offline!");return!0}this.b.credits_button.ka&&q.ab(q.rect(this.b.credits_button.q.F,this.b.credits_button.q.H,this.b.credits_button.c().width,this.b.credits_button.c().height),a.J)&&this.Gf("/openCredits");this.b.news_button.ka&&q.ab(q.rect(this.b.news_button.q.F,this.b.news_button.q.H,this.b.news_button.c().width,this.b.news_button.c().height),
a.J)&&this.Gf("/openNews");if(this.b.register_button.ka&&q.ab(q.rect(this.b.register_button.q.F,this.b.register_button.q.H,this.b.register_button.c().width,this.b.register_button.c().height),a.J))return this.VX(),!1;if(this.b.auto_login.ka&&q.ab(q.rect(this.b.auto_login.q.F,this.b.auto_login.q.H,this.b.auto_login.c().width,this.b.auto_login.c().height),a.J))return this.jY(),!1;if(this.b.remember_login.ka&&q.ab(q.rect(this.b.remember_login.q.F,this.b.remember_login.q.H,this.b.remember_login.c().width,
this.b.remember_login.c().height),a.J))return this.kY(),!1;if(this.b.new_user_back.ka&&!1==this.Np&&q.ab(q.rect(this.b.new_user_back.q.F,this.b.new_user_back.q.H,this.b.new_user_back.c().width,this.b.new_user_back.c().height),a.J))return this.NC(),this.gg(""),!1;if(this.b.new_user_confirm.ka&&!1==this.Np&&q.ab(q.rect(this.b.new_user_confirm.q.F,this.b.new_user_confirm.q.H,this.b.new_user_confirm.c().width,this.b.new_user_confirm.c().height),a.J)){a=this.zD.U();var c=this.yx.U(),d=this.yD.U();""!=
a&&null!=a&&""!=c&&null!=c&&""!=d&&null!=d?!1==/\S+@\S+\.\S+/.test(d)?this.gg("Please use a correct email address."):(this.Np=!0,this.gg("Registering please wait..."),this.dK({name:a,password:c,email:d})):this.gg("Please fill all fields.");return!1}},dK:function(a){a.newUser=1;H(a)},LR:function(){this.gg("Registration successful.");this.zD.Ge("Username");this.yx.Ge("Password");this.yD.Ge("Email Address");this.Np=!1;this.NC()},zS:function(a){this.Np=!1;switch(a){case "UserTaken":this.gg("Registration failed, user already exists.")}},
VX:function(){this.b.new_user_name.v(!0);this.b.new_user_pass.v(!0);this.b.new_user_email.v(!0);this.b.new_user_confirm.v(!0);this.b.new_user_back.v(!0);this.b.register_button.v(!1);this.b.go_button.v(!1);this.b.name_entry.ib(-1E5);this.b.password_entry.ib(-1E5);this.b.new_user_name.ib(325);this.b.new_user_pass.ib(325);this.b.new_user_email.ib(325);this.b.rem_login_text.v(!1);this.b.auto_login_text.v(!1);this.b.auto_login.v(!1);this.b.remember_login.v(!1);this.aD=!0},NC:function(){this.b.new_user_name.v(!1);
this.b.new_user_pass.v(!1);this.b.new_user_email.v(!1);this.b.new_user_confirm.v(!1);this.b.new_user_back.v(!1);this.b.register_button.v(!0);this.b.go_button.v(!0);this.b.name_entry.ib(325);this.b.password_entry.ib(325);this.b.new_user_name.ib(-1E5);this.b.new_user_pass.ib(1E5);this.b.new_user_email.ib(1E5);this.b.rem_login_text.v(!0);this.b.auto_login_text.v(!0);this.b.auto_login.v(!0);this.b.remember_login.v(!0);this.aD=!1},Gf:function(a){switch(a){case "/openCredits":null==CreditsPanel||CreditsPanel.X||
(CreditsPanel=null);CreditsPanel?(CreditsPanel.xa(),CreditsPanel.N(),CreditsPanel=null):(CreditsPanel=new Credits,CreditsPanel.r(),CreditsPanel.oa(),this.f(CreditsPanel));break;case "/openNews":null==NewsPanel||NewsPanel.X||(NewsPanel=null),NewsPanel?(NewsPanel.xa(),NewsPanel.N(),NewsPanel=null):(NewsPanel=new News,NewsPanel.r(),NewsPanel.oa(),this.f(NewsPanel))}},MU:function(a){rememberLoginNextTime&&v.yX(this.kk.U(),this.Bl.U());this.cd(this.fC);w.e().ql("Game",{Cl:a,map:1})},lx:function(a){this.cd(this.fC);
this.b.server_message.ea(a);this.Rl=!1},gg:function(a){this.b.server_message.ea(a)},qd:function(){},Ff:function(){},a9:function(){w.e().ql("Game",{yda:this.kk.U()})}});Na=null;MapMaster=!1;
var Ra=Qa.extend({rJ:!1,ctor:function(){this._super()},Oc:function(){return{panels:{children:{saving_icon:{visible:!1,position:q.a(W.width-52,4),d:q.a(0,0),size:q.size(48,48),Z:"GUI/save_icon.png"},logout_button:{position:q.a(W.width-52,W.height-52),d:q.a(0,0),size:q.size(48,48),Z:"GUI/logout.png"},quicknav_button:{position:q.a(W.width-30,Math.floor(W.height/2)-24),d:q.a(0,0),size:q.size(48,48),Z:"GUI/quickmenu_closed_icon.png"},inventory_button:{position:q.a(W.width-52,Math.floor(W.height/2)+60),
d:q.a(0,0),size:q.size(48,48),Z:"GUI/inventory_icon.png"},equipment_button:{position:q.a(W.width-82,Math.floor(W.height/2)+4),d:q.a(0,0),size:q.size(48,48),Z:"GUI/equipment_icon.png"},skill_button:{position:q.a(W.width-82,Math.floor(W.height/2)-52),d:q.a(0,0),size:q.size(48,48),Z:"GUI/skills_icon.png"},chat_button:{position:q.a(W.width-52,Math.floor(W.height/2)-108),d:q.a(0,0),size:q.size(48,48),Z:"GUI/chat_icon.png"},quickedit_button:{position:q.a(0,Math.floor(W.height/2)-24),d:q.a(0,0),size:q.size(48,
48),Z:"GUI/quickedit_closed_icon.png"},mapedit_button:{position:q.a(4,Math.floor(W.height/2)+116),d:q.a(0,0),size:q.size(48,48),Z:"GUI/mapeditor_icon.png"},npcedit_button:{position:q.a(34,Math.floor(W.height/2)+60),d:q.a(0,0),size:q.size(48,48),Z:"GUI/npceditor_icon.png"},itemedit_button:{position:q.a(64,Math.floor(W.height/2)+4),d:q.a(0,0),size:q.size(48,48),Z:"GUI/itemeditor_icon.png"},skilledit_button:{position:q.a(64,Math.floor(W.height/2)-52),d:q.a(0,0),size:q.size(48,48),Z:"GUI/skilleditor_icon.png"},
signedit_button:{position:q.a(34,Math.floor(W.height/2)-108),d:q.a(0,0),size:q.size(48,48),Z:"GUI/signeditor_icon.png"},warpedit_button:{position:q.a(4,Math.floor(W.height/2)-164),d:q.a(0,0),size:q.size(48,48),Z:"GUI/warpeditor_icon.png"},scriptedit_button:{position:q.a(90,Math.floor(W.height/2)-108),d:q.a(0,0),size:q.size(48,48),Z:"GUI/scripteditor_icon.png"},settings_button:{position:q.a(4,Math.floor(W.height/2)-220),d:q.a(0,0),size:q.size(48,48),Z:"GUI/settings_icon.png"},bankedit_button:{position:q.a(90,
Math.floor(W.height/2)+60),d:q.a(0,0),size:q.size(48,48),Z:"GUI/bankeditor_icon.png"},shopedit_button:{position:q.a(120,Math.floor(W.height/2)+4),d:q.a(0,0),size:q.size(48,48),Z:"GUI/shopeditor_icon.png"},questedit_button:{position:q.a(120,Math.floor(W.height/2)-52),d:q.a(0,0),size:q.size(48,48),Z:"GUI/questeditor_icon.png"}}}}},oJ:!1,mJ:!1,Fn:function(a){!1==a&&(this.mC(),w.e().ql("Login",{MD:!1}))},mC:function(){F.yd();F.at();null!=Equipment&&(Equipment.xa(),Equipment.N(),Equipment=null);null!=
Inventory&&(Inventory.xa(),Inventory.N(),Inventory=null);null!=Skills&&(Skills.xa(),Skills.N(),Skills=null);SkillBarsInstance.N();A.yd();A.at();B.yd();B.at()},lb:function(a){if(q.ab(q.rect(this.b.logout_button.q.F,this.b.logout_button.q.H,this.b.logout_button.c().width,this.b.logout_button.c().height),a.J))return this.mC(),w.e().ql("Login",{yJ:!0,MD:!0}),!0;w.Dn(this);if(q.ab(this.b.chat_button.Xa(),a.J)&&this.b.chat_button.ka)return this.Al("C"),!0;if(q.ab(this.b.inventory_button.Xa(),a.J)&&this.b.inventory_button.ka)return this.Al("I"),
!0;if(q.ab(this.b.equipment_button.Xa(),a.J)&&this.b.equipment_button.ka)return this.Al("E"),!0;if(q.ab(this.b.skill_button.Xa(),a.J)&&this.b.skill_button.ka)return this.Al("S"),!0;if(this.b.quickedit_button.ka&&q.ab(this.b.quickedit_button.Xa(),a.J)&&this.b.quickedit_button.ka)return this.jL(!this.mJ),!0;if(q.ab(this.b.quicknav_button.Xa(),a.J)&&this.b.quicknav_button.ka)return this.kL(!this.oJ),!0;if(q.ab(this.b.mapedit_button.Xa(),a.J)&&this.b.mapedit_button.ka)return this.Gf("/editmap"),!0;if(q.ab(this.b.npcedit_button.Xa(),
a.J)&&this.b.npcedit_button.ka)return this.Gf("/editnpc"),!0;if(q.ab(this.b.itemedit_button.Xa(),a.J)&&this.b.itemedit_button.ka)return this.Gf("/edititem"),!0;if(q.ab(this.b.skilledit_button.Xa(),a.J)&&this.b.skilledit_button.ka)return this.Gf("/editskill"),!0;if(q.ab(this.b.signedit_button.Xa(),a.J)&&this.b.signedit_button.ka)return this.Gf("/editsign"),!0;if(q.ab(this.b.scriptedit_button.Xa(),a.J)&&this.b.scriptedit_button.ka)return this.Gf("/editscript"),!0;if(q.ab(this.b.warpedit_button.Xa(),
a.J)&&this.b.warpedit_button.ka)return this.Gf("/editwarp"),!0;if(q.ab(this.b.settings_button.Xa(),a.J)&&this.b.settings_button.ka)return this.Gf("/editsettings"),!0;if(q.ab(this.b.shopedit_button.Xa(),a.J)&&this.b.shopedit_button.ka)return this.Gf("/editshop"),!0;if(q.ab(this.b.questedit_button.Xa(),a.J)&&this.b.questedit_button.ka)return this.Gf("/editquest"),!0;if(q.ab(this.b.bankedit_button.Xa(),a.J)&&this.b.bankedit_button.ka)return this.Gf("/editbank"),!0},lL:function(a){null==Sign||Sign.X||
(Sign=null);Sign?(Sign.xa(),Sign.N(),Sign=null):(Sign=new SignPanel,Sign.r(a),Sign.oa(),this.f(Sign))},TX:function(a,c){null==Book||Book.X||(Book=null);Book?(Book.xa(),Book.N(),Book=null):(Book=new BookPanel,Book.r(a,c),Book.oa(),this.f(Book))},Ff:function(){},Al:function(a){switch(a){case "C":B.pU()?B.VI():B.show();break;case "ENTER":B.$C()||B.OD(!0);break;case "SPACE":A.B.ba.jU();Inventory&&Inventory.hc();break;case "CTRL":A.B.ba.iU();break;case "ESC":this.mC();w.e().ql("Login",{yJ:!0,MD:!0});break;
case "I":null==Inventory||Inventory.X||(Inventory=null);Inventory?(Inventory.xa(),Inventory.N(),Inventory=null):(Inventory=new InventoryPanel,Inventory.r(),Inventory.oa(),this.f(Inventory));break;case "E":null==Equipment||Equipment.X||(Equipment=null);Equipment?(Equipment.xa(),Equipment.N(),Equipment=null):(Equipment=new EquipmentPanel,Equipment.r(),Equipment.oa(),this.f(Equipment));break;case "S":null==Skills||Skills.X||(Skills=null),Skills?(Skills.xa(),Skills.N(),Skills=null):(Skills=new SkillsPanel,
Skills.r(),Skills.oa(),this.f(Skills))}},kD:function(a){var c=A.B.ba.cf();A.B.ba.path=null;if(0==c.x%1&&0==c.y%1)switch(a){case "RIGHTARROW":A.B.ba.lq(c.x+1,c.y);break;case "LEFTARROW":A.B.ba.lq(c.x-1,c.y);break;case "UPARROW":A.B.ba.lq(c.x,c.y+1);break;case "DOWNARROW":A.B.ba.lq(c.x,c.y-1)}},kL:function(a){this.oJ=a;this.b.chat_button.v(a);this.b.inventory_button.v(a);this.b.equipment_button.v(a);this.b.skill_button.v(a);this.b.quicknav_button.fa(q.ha.e().qa(!0==a?"GUI/quickmenu_opened_icon.png":
"GUI/quickmenu_closed_icon.png"))},jL:function(a){this.mJ=a;this.b.mapedit_button.v(a);this.b.npcedit_button.v(a);this.b.itemedit_button.v(a);this.b.skilledit_button.v(a);this.b.signedit_button.v(a);this.b.scriptedit_button.v(a);this.b.warpedit_button.v(a);this.b.settings_button.v(a);this.b.shopedit_button.v(a);this.b.bankedit_button.v(a);this.b.questedit_button.v(a);this.b.quickedit_button.fa(q.ha.e().qa(!0==a?"GUI/quickedit_opened_icon.png":"GUI/quickedit_closed_icon.png"))},Gf:function(a){if(a){if(1<
A.B.ba.pp)switch(a){case "/editscript":null==Scripteditor||Scripteditor.X||(Scripteditor=null);Scripteditor?(Scripteditor.xa(),Scripteditor.N(),Scripteditor=null):(Scripteditor=new PopupList,Scripteditor.r({m:null,th:new ScriptEditor,list:ObjectLists.$i(),name:"Script List"}),Scripteditor.oa(),this.f(Scripteditor));break;case "/editmap":null==Mapeditor||Mapeditor.X||(Mapeditor=null);Mapeditor?(Mapeditor.xa(),Mapeditor.N(),Mapeditor=null,F.bt(null)):(Mapeditor=new MapEditor,Mapeditor.r(),Mapeditor.oa(),
this.f(Mapeditor),F.bt(Mapeditor));break;case "/editsettings":null==Settingseditor||Settingseditor.X||(Settingseditor=null);Settingseditor?(Settingseditor.xa(),Settingseditor.N(),Settingseditor=null):(Settingseditor=new SettingsEditor,Settingseditor.r(),Settingseditor.oa(),this.f(Settingseditor));break;case "/editwarp":null==Warpeditor||Warpeditor.X||(Warpeditor=null);Warpeditor?(Warpeditor.xa(),Warpeditor.N(),Warpeditor=null):(Warpeditor=new PopupList,Warpeditor.r({m:null,th:new WarpEditor,list:ObjectLists.cn(),
name:"Warp List"}),Warpeditor.oa(),this.f(Warpeditor));break;case "/editsign":null==Signeditor||Signeditor.X||(Signeditor=null);Signeditor?(Signeditor.xa(),Signeditor.N(),Signeditor=null):(Signeditor=new PopupList,Signeditor.r({m:null,th:new SignEditor,list:ObjectLists.Cs(),name:"Sign List"}),Signeditor.oa(),this.f(Signeditor));break;case "/editskill":null==Skillseditor||Skillseditor.X||(Skillseditor=null);Skillseditor?(Skillseditor.xa(),Skillseditor.N(),Skillseditor=null):(Skillseditor=new PopupList,
Skillseditor.r({m:null,th:new SkillsEditor,list:ObjectLists.aj(),name:"Skills List"}),Skillseditor.oa(),this.f(Skillseditor));break;case "/edititem":null==Itemeditor||Itemeditor.X||(Itemeditor=null);Itemeditor?(Itemeditor.xa(),Itemeditor.N(),Itemeditor=null,F.bt(null)):(Itemeditor=new PopupList,Itemeditor.r({m:null,th:new ItemEditor,list:ObjectLists.di(),name:"Item List"}),Itemeditor.oa(),this.f(Itemeditor));break;case "/editnpc":null==NPCeditor||NPCeditor.X||(NPCeditor=null);NPCeditor?(NPCeditor.xa(),
NPCeditor.N(),NPCeditor=null,F.bt(null)):(NPCeditor=new PopupList,NPCeditor.r({m:null,th:new NPCEditor,list:ObjectLists.pl(),name:"NPC List"}),NPCeditor.oa(),this.f(NPCeditor));break;case "/editquest":null==Questeditor||Questeditor.X||(Questeditor=null),Questeditor?(Questeditor.xa(),Questeditor.N(),Questeditor=null,F.bt(null)):(Questeditor=new PopupList,Questeditor.r({m:null,th:new QuestEditor,list:ObjectLists.Bs(),name:"Quest List"}),Questeditor.oa(),this.f(Questeditor))}switch(a){case "/help":B.showHelp();
break;case "/commands":B.UX();break;case "/diceroll":a=Math.floor(6*Math.random()+1);var c=y["/diceroll"],c=c.replace("\x3cPLAYER\x3e",A.B.ba.getName()),c=c.replace("\x3cVALUE\x3e",a);B.Mb(c);H({diceroll:c});break;case "/coinflip":a=1==Math.floor(3*Math.random()+1)?"Heads":"Tails";c=y["/coinflip"];c=c.replace("\x3cPLAYER\x3e",A.B.ba.getName());c=c.replace("\x3cVALUE\x3e",a);B.Mb(c);H({coinflip:c});break;case "/dance":a=y["/dance"];a=a.replace("\x3cPLAYER\x3e",A.B.ba.getName());B.Mb(a);H({dance:a});
break;case "/afk":A.B.ba.updateStatus("AFK"),H({afk:!0})}}},r:function(a){this._super();this.f(F.create());ObjectLists.e();A.create({name:a.Cl.name,ej:!0,Jn:{health:{Pc:1,value:100,ag:200,$f:900},mana:{Pc:1,value:100,ag:200,$f:99}},map:a.Cl.location.mapnumber,position:a.Cl.location.position,kt:"sprites1.png",it:1,pp:a.Cl.rank,hJ:a.Cl.inventory,lI:a.Cl.equipment});F.cR();this.b.N();this.fq(-20);this.Bc(function(){F.e().sk(a.map)});H({moveTo:A.B.ba.cf().x+A.B.ba.cf().y*S});this.f(B.create());console.log(a.Cl);
this.f(G.create(a.Cl.skills));this.kL(!1);this.jL(!1);this.OX();this.f(this.b);this.fc(this.fE);this.fc(this.uW);Na=this;this.fc(this.nW,120)},nW:function(){var a={saveUser:!0,name:A.B.ba.getName(),location:{mapnumber:F.Pd(),position:A.B.ba.cf().x+A.B.ba.cf().y*S},inventory:A.B.ba.ol(),equipment:A.B.ba.Cp(),skills:[],clan:"",guilds:[],quests:[],friends:[],pets:[],pmessages:[],lastchats:[],health:100};this.b.saving_icon.v(!0);this.rJ=!0;H(a);console.log("SAVING NOW!")},ES:function(){this.b.saving_icon.v(!1);
this.rJ=!1},OX:function(){1==A.B.ba.pp&&this.b.quickedit_button.v(!1)},fE:function(){if(0<t.length)for(var a=0;a<t.length;a++){var c=JSON.parse(t[a]);c.moveTo&&(!A.fi(c.id)||A.fi(c.id)&&!1==A.fi(c.id).Mg)?(reactToSocketMessage(JSON.stringify(c)),t.splice(a,1)):c.moveTo||(reactToSocketMessage(JSON.stringify(c)),t.splice(a,1))}},uW:function(){if(!0==MapMaster){var a=A.UM(),c;for(c in a)if(!1==a[c].rx){var d=10*Math.random()+1,e=a[c].cf();switch(Math.floor(4*Math.random())+1){case 1:e.x++;break;case 2:e.y++;
break;case 3:e.x--;break;case 4:e.y--}a[c].uX(e,d)}}}});var Sa=q.Ea.extend({vc:null,H3:!1,OD:function(a){a?this.vc.$a.focus():this.vc.$a.blur()},$C:function(){return document.activeElement==this.vc.$a},ea:function(a){this.vc.Ge(a)},DC:function(){return this.vc.U()},r:function(){q.log("Ovveride inputbox init call if necessary")},ctor:function(a,c,d,e,f,g,h){this.vc=q.sq.create(q.size(c.width,c.height),q.of.create(),h);this.vc.Ge(e);this.vc.ZR=e;this.vc.VW(q.k(g.p,g.o,g.g));this.vc.tK(q.k(f.p,f.o,f.g));this.vc.n(q.a(d.x,d.y));this.vc.L(0,1);this.vc.Bh(this);
a.f(this.vc);this.r()}});var Ta=Sa.extend({Hw:function(a){a.Ge("")},Iw:function(a,c){c||("/"==a.U().substring(0,1)?this.kW(a.U()):0<a.U().length&&B.Mb(a.U(),!0));a.Ge(y["Default ChatBar Message"])},kW:function(a){w.e().pd.Gf(a)},Jw:function(a,c){a.Ge(c);q.log("chatBox "+this.iG(a)+", TextChanged, text: "+c)},iG:function(){return"chatbox"}}),X=null,B=q.Rc.extend({ck:null,r:function(){this.ck=new Ta(this.b.chat_panel,q.size(this.b.chat_panel.c().width-4,25),q.a(2,this.b.chat_panel.c().height-2),y["Default ChatBar Message"],
q.k(255,255,255),q.k(0,0,0));this.ck.vc.X.bd(this.ck.vc.q.H+59)},BH:function(a){for(var c=[],d=0;7>d;d++)c.push(this.b.chat_panel["label"+d].DC());this.b.chat_panel.label0.ea(a);for(d=1;8>d;d++)this.b.chat_panel["label"+d].ea(c[d-1])},Oc:function(){return{panels:{children:{chat_panel:{size:q.size(400,150),Z:"GUI/chat.png",d:q.a(0,0),opacity:200,position:q.a(0,-200),children:{label7:{label:"",position:q.a(5,0),d:q.a(0,0),color:q.k(0,0,0)},label6:{label:"",position:q.a(5,15),d:q.a(0,0),color:q.k(0,
0,0)},label5:{label:"",position:q.a(5,30),d:q.a(0,0),color:q.k(0,0,0)},label4:{label:"",position:q.a(5,45),d:q.a(0,0),color:q.k(0,0,0)},label3:{label:"",position:q.a(5,60),d:q.a(0,0),color:q.k(0,0,0)},label2:{label:"",position:q.a(5,75),d:q.a(0,0),color:q.k(0,0,0)},label1:{label:"",position:q.a(5,90),d:q.a(0,0),color:q.k(0,0,0)},label0:{label:"",position:q.a(5,105),d:q.a(0,0),color:q.k(0,0,0)}}}}}}}});B.create=function(){X||(X=new B,X.b=Ha(X),X.f(X.b),X.r(),B.VI(),B.XX());return X};B.e=function(){return X};
B.Mb=function(a,c){50<a.length&&(a=a.substring(0,50)+"...");c?(H({chatMessage:a}),X.BH(A.B.ba.getName()+": "+a)):X.BH(a)};B.show=function(){X.ck.vc.X.bd(0)};B.VI=function(){X.ck.vc.X.bd(-X.ck.vc.q.H+59)};B.pU=function(){return 0!=X.ck.vc.X.q.H?!1:!0};B.OD=function(a){X.ck.OD(a)};B.$C=function(){return X.ck.$C()};B.showHelp=function(){B.Mb(I.qe.OT);B.Mb(I.qe.PT);B.Mb(I.qe.QT);B.Mb(I.qe.RT);B.Mb(I.qe.ST)};B.UX=function(){B.Mb(I.qe.HR);B.Mb(I.qe.IR);B.Mb(I.qe.JR);B.Mb(I.qe.KR)};B.XX=function(){B.Mb(y["Welcome Message"])};
B.yd=function(){X.b.N();X.b=null};B.at=function(){X.N();X=null};var Y=Sa.extend({Hp:!1,DJ:!1,cI:!1,ZC:!1,Hw:function(a){!1==this.cI&&a.Ge("");this.ZC=!0},Jx:function(a){this.vc.Jx(a)},X7:function(){return this.ZC},Iw:function(a){this.ZC=!1;null==a.U()||""==a.U().length&&this.DJ?this.Hp=!0:0<!a.U().length?(a.Ge(this.vc.ZR),this.Hp=!1):this.Hp=!0},Jw:function(a,c){a.Ge(c);this.Hp=!0},iG:function(){return"name_entry"},U:function(){return!0==this.Hp||!0==this.YR?this.vc.U():null},Ge:function(a){this.vc.Ge(a);this.Hp=!0},tb:function(a){this.YR=a},Ed:function(a){this.DJ=
a},CK:function(a){this.cI=a},r:function(){}});var w=q.Rc.extend({B:null,$B:null,pd:null,zH:null,r:function(){var a=q.sa.e().Nw();this.$B=q.ca.create(q.h(255,255,255,255),parseInt(4*a.width),parseInt(4*a.height));this.$B.L(q.a(0,0));this.f(this.$B);v.e()&&ta?(y=sa(y,v.BC()),this.ql("Login",{}),this.fc(this.PH),autoLoginNextTime=v.kJ(),rememberLoginNextTime=v.qJ()):this.fc(this.WI)},WI:function(){v.e()&&ta&&(this.cd(this.WI),y=sa(y,v.BC()),this.ql("Login",{}),this.fc(this.PH),autoLoginNextTime=v.kJ(),rememberLoginNextTime=v.qJ())},PH:function(){for(var a in za)if(!0==
za[a]&&null!=this.pd){var c=null;a=parseInt(a);switch(a){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;
case 46:c="DELETE"}null==c&&(47<a&&58>a||64<a&&91>a)&&(c=String.fromCharCode(a));null!=c&&this.pd.kD(c)}},ql:function(a,c){null!=this.pd&&(this.pd.xa(),this.pd.N(),this.pd=null);switch(a){case "Login":this.pd=new Login;break;case "Game":this.pd=new Ra}this.pd.ML();this.f(this.pd,1);this.pd.YW(a);this.pd.oa();this.pd.r(c)},t4:function(){return this.pd.Nc()}});w.e=function(){null==this.B&&(this.B=new w);return this.B};w.Dn=function(a){null==this.B&&(this.B=new w);this.B.zH=a};
w.GS=function(){null==this.B&&(this.B=new w);return this.B.zH};var W;
new (q.qj.extend({Aw:document.ccConfig,ctor:function(){this._super();q.yt=this.Aw.COCOS2D_DEBUG;q.UT();q.sk(this.Aw.tag);q.qy.SX().gS()},kR:function(){var a=this.Aw,c=q.Y.e(),d=q.sa.e();W=d.Nw();q.size(W.width,W.height);var e=q.size(W.width,W.height),f=q.Hd.e();q.qj.e();f.UK(["res/Graphics"]);q.Dh&&q.Dh.e().Hba("res/Audio");c.KW(1);d.ND(e.width,e.height,q.Zn.SHOW_ALL);c.$s(1/a.frameRate);a.test?q.test(a.test):(q.log("++++++++++++++++entry for game++++++++++++"),q.AU(function(a){q.Oy.sD(a,function(){document.getElementById("gameCanvas").setAttribute("tabindex","0");
document.getElementById("gameCanvas").focus();var a=w.e();q.Y.e().iK(a);a.r()})}));return!0}}));
//@ sourceMappingURL=sourcemap