var b,aa={JZ:"building1.png",K4:"items1.png",o9:"sprites1.png",O9:"tile_graphics.txt",P9:"tiles1.png"};var p=p||{},ba={};p.xR=function(a){var c=p.OB[ba.zH.vD];if(c){for(var d=[],e=0;e<c.length;++e)d.push({src:c[e]});a(d)}else a([])};ba={zH:{vD:"_0"}};p.OB={};p.OB[ba.zH.vD]=[];p.OB.DO=[];var io="undefined"===typeof module?{}:module.bc;
(function(){(function(a,d){a.version="0.9.16";a.protocol=1;a.transports=[];a.j=[];a.sockets={};a.connect=function(e,f){var g=a.util.parseUri(e),h,k;d&&d.location&&(g.protocol=g.protocol||d.location.protocol.slice(0,-1),g.host=g.host||(d.document?d.document.domain:d.location.hostname),g.port=g.port||d.location.port);h=a.util.uniqueUri(g);var l={host:g.host,wm:"https"==g.protocol,port:g.port||("https"==g.protocol?443:80),query:g.query||""};a.util.merge(l,f);if(l["force new connection"]||!a.sockets[h])k=
new a.Socket(l);!l["force new connection"]&&k&&(a.sockets[h]=k);k=k||a.sockets[h];return k.Eo(1<g.path.length?g.path:"")}})("object"===typeof module?module.bc:io,this);(function(a,d){var e=a.util={},f=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,g="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");
e.parseUri=function(a){a=f.exec(a||"");for(var c={},d=14;d--;)c[g[d]]=a[d]||"";return c};e.uniqueUri=function(a){var c=a.protocol,e=a.host;a=a.port;"document"in d?(e=e||document.domain,a=a||("https"==c&&"https:"!==document.location.protocol?443:document.location.port)):(e=e||"localhost",a||"https"!=c||(a=443));return(c||"http")+"://"+e+":"+(a||80)};e.query=function(a,c){var d=e.chunkQuery(a||""),f=[];e.merge(d,e.chunkQuery(c||""));for(var g in d)d.hasOwnProperty(g)&&f.push(g+"\x3d"+d[g]);return f.length?
"?"+f.join("\x26"):""};e.chunkQuery=function(a){var c={};a=a.split("\x26");for(var d=0,e=a.length,f;d<e;++d)f=a[d].split("\x3d"),f[0]&&(c[f[0]]=f[1]);return c};var h=!1;e.load=function(a){if("document"in d&&"complete"===document.readyState||h)return a();e.on(d,"load",a,!1)};e.on=function(a,c,d,e){a.attachEvent?a.attachEvent("on"+c,d):a.addEventListener&&a.addEventListener(c,d,e)};e.request=function(a){if(a&&"undefined"!=typeof XDomainRequest&&!e.ua.hasCORS)return new XDomainRequest;if("undefined"!=
typeof XMLHttpRequest&&(!a||e.ua.hasCORS))return new XMLHttpRequest;if(!a)try{return new (window[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(c){}return null};"undefined"!=typeof window&&e.load(function(){h=!0});e.defer=function(a){if(!e.ua.webkit||"undefined"!=typeof importScripts)return a();e.load(function(){setTimeout(a,100)})};e.merge=function(a,c,d,f){f=f||[];d="undefined"==typeof d?2:d;for(var g in c)c.hasOwnProperty(g)&&0>e.indexOf(f,g)&&("object"===typeof a[g]&&d?e.merge(a[g],
c[g],d-1,f):(a[g]=c[g],f.push(c[g])));return a};e.mixin=function(a,c){e.merge(a.prototype,c.prototype)};e.inherit=function(a,c){function d(){}d.prototype=c.prototype;a.prototype=new d};e.isArray=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};e.intersect=function(a,c){for(var d=[],f=a.length>c.length?a:c,g=a.length>c.length?c:a,h=0,t=g.length;h<t;h++)~e.indexOf(f,g[h])&&d.push(g[h]);return d};e.indexOf=function(a,c,d){var e=a.length;for(d=0>d?0>d+e?0:d+e:d||
0;d<e&&a[d]!==c;d++);return e<=d?-1:d};e.toArray=function(a){for(var c=[],d=0,e=a.length;d<e;d++)c.push(a[d]);return c};e.ua={};e.ua.hasCORS="undefined"!=typeof XMLHttpRequest&&function(){try{var a=new XMLHttpRequest}catch(c){return!1}return void 0!=a.withCredentials}();e.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent);e.ua.iDevice="undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)})("undefined"!=typeof io?io:module.bc,this);(function(a,d){function e(){}
a.EventEmitter=e;e.prototype.on=function(a,c){this.cf||(this.cf={});this.cf[a]?d.util.isArray(this.cf[a])?this.cf[a].push(c):this.cf[a]=[this.cf[a],c]:this.cf[a]=c;return this};e.prototype.VR=function(a){var c="connect";function d(){e.removeListener(c,d);a.apply(this,arguments)}var e=this;d.Vv=a;this.on(c,d)};e.prototype.removeListener=function(a,c){if(this.cf&&this.cf[a]){var e=this.cf[a];if(d.util.isArray(e)){for(var k=-1,l=0,m=e.length;l<m;l++)if(e[l]===c||e[l].Vv&&e[l].Vv===c){k=l;break}if(0>
k)return this;e.splice(k,1);e.length||delete this.cf[a]}else(e===c||e.Vv&&e.Vv===c)&&delete this.cf[a]}return this};e.prototype.ho=function(a){if(!this.cf)return!1;var c=this.cf[a];if(!c)return!1;var e=Array.prototype.slice.call(arguments,1);if("function"==typeof c)c.apply(this,e);else if(d.util.isArray(c))for(var c=c.slice(),k=0,l=c.length;k<l;k++)c[k].apply(this,e);else return!1;return!0}})("undefined"!=typeof io?io:module.bc,"undefined"!=typeof io?io:module.parent.bc);(function(a,d){function e(a){return 10>
a?"0"+a:a}function f(a){l.lastIndex=0;return l.test(a)?'"'+a.replace(l,function(a){var c=r[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function g(a,c){var d,h,k,l,r=m,N,L=c[a];L instanceof Date&&(L=isFinite(a.valueOf())?a.getUTCFullYear()+"-"+e(a.getUTCMonth()+1)+"-"+e(a.getUTCDate())+"T"+e(a.getUTCHours())+":"+e(a.getUTCMinutes())+":"+e(a.getUTCSeconds())+"Z":null);"function"===typeof q&&(L=q.call(c,a,L));switch(typeof L){case "string":return f(L);
case "number":return isFinite(L)?String(L):"null";case "boolean":case "null":return String(L);case "object":if(!L)return"null";m+=n;N=[];if("[object Array]"===Object.prototype.toString.apply(L)){l=L.length;for(d=0;d<l;d+=1)N[d]=g(d,L)||"null";k=0===N.length?"[]":m?"[\n"+m+N.join(",\n"+m)+"\n"+r+"]":"["+N.join(",")+"]";m=r;return k}if(q&&"object"===typeof q)for(l=q.length,d=0;d<l;d+=1)"string"===typeof q[d]&&(h=q[d],(k=g(h,L))&&N.push(f(h)+(m?": ":":")+k));else for(h in L)Object.prototype.hasOwnProperty.call(L,
h)&&(k=g(h,L))&&N.push(f(h)+(m?": ":":")+k);k=0===N.length?"{}":m?"{\n"+m+N.join(",\n"+m)+"\n"+r+"}":"{"+N.join(",")+"}";m=r;return k}}if(d&&d.parse)return a.JSON={parse:d.parse,stringify:d.stringify};var h=a.JSON={},k=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,m,n,r={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f",
"\r":"\\r",'"':'\\"',"\\":"\\\\"},q;h.stringify=function(a,c,d){var e;n=m="";if("number"===typeof d)for(e=0;e<d;e+=1)n+=" ";else"string"===typeof d&&(n=d);if((q=c)&&"function"!==typeof c&&("object"!==typeof c||"number"!==typeof c.length))throw Error("JSON.stringify");return g("",{"":a})};h.parse=function(a,c){function d(a,e){var f,g,h=a[e];if(h&&"object"===typeof h)for(f in h)Object.prototype.hasOwnProperty.call(h,f)&&(g=d(h,f),void 0!==g?h[f]=g:delete h[f]);return c.call(a,e,h)}var e;a=String(a);
k.lastIndex=0;k.test(a)&&(a=a.replace(k,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"===typeof c?d({"":e},""):e;throw new SyntaxError("JSON.parse");}})("undefined"!=typeof io?io:module.bc,"undefined"!==typeof JSON?JSON:void 0);(function(a,d){var e=
a.parser={},f=e.packets="disconnect connect heartbeat message json event ack error noop".split(" "),g=e.reasons=["transport not supported","client not handshaken","unauthorized"],h=e.advice=["reconnect"],k=d.JSON,l=d.util.indexOf;e.encodePacket=function(a){var c=l(f,a.type),d=a.id||"",e=a.Ev||"",m=a.ao,A=null;switch(a.type){case "error":var F=a.reason?l(g,a.reason):"";a=a.advice?l(h,a.advice):"";if(""!==F||""!==a)A=F+(""!==a?"+"+a:"");break;case "message":""!==a.data&&(A=a.data);break;case "event":A=
{name:a.name};a.te&&a.te.length&&(A.te=a.te);A=k.stringify(A);break;case "json":A=k.stringify(a.data);break;case "connect":a.AH&&(A=a.AH);break;case "ack":A=a.bo+(a.te&&a.te.length?"+"+k.stringify(a.te):"")}c=[c,d+("data"==m?"+":""),e];null!==A&&void 0!==A&&c.push(A);return c.join(":")};e.encodePayload=function(a){var c="";if(1==a.length)return a[0];for(var d=0,e=a.length;d<e;d++)c+="\ufffd"+a[d].length+"\ufffd"+a[d];return c};var m=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;e.decodePacket=function(a){var c=
a.match(m);if(!c)return{};var d=c[2]||"";a=c[5]||"";var e={type:f[c[1]],Ev:c[4]||""};d&&(e.id=d,e.ao=c[3]?"data":!0);switch(e.type){case "error":c=a.split("+");e.reason=g[c[0]]||"";e.advice=h[c[1]]||"";break;case "message":e.data=a||"";break;case "event":try{var l=k.parse(a);e.name=l.name;e.te=l.te}catch(A){}e.te=e.te||[];break;case "json":try{e.data=k.parse(a)}catch(F){}break;case "connect":e.AH=a||"";break;case "ack":if(c=a.match(/^([0-9]+)(\+)?(.*)/))if(e.bo=c[1],e.te=[],c[3])try{e.te=c[3]?k.parse(c[3]):
[]}catch(J){}}return e};e.decodePayload=function(a){if("\ufffd"==a.charAt(0)){for(var c=[],d=1,f="";d<a.length;d++)"\ufffd"==a.charAt(d)?(c.push(e.decodePacket(a.substr(d+1).substr(0,f))),d+=Number(f)+1,f=""):f+=a.charAt(d);return c}return[e.decodePacket(a)]}})("undefined"!=typeof io?io:module.bc,"undefined"!=typeof io?io:module.parent.bc);(function(a,d){function e(a,c){this.bb=a;this.kT=c}a.Transport=e;d.util.mixin(e,d.EventEmitter);e.prototype.KG=function(){return!0};e.prototype.Ir=function(a){this.GA();
(this.bb.Fg||this.bb.Vf||this.bb.om)&&this.YH();if(""!==a&&(a=d.parser.decodePayload(a))&&a.length)for(var c=0,e=a.length;c<e;c++)this.Jr(a[c])};e.prototype.Jr=function(a){this.bb.fI();if("heartbeat"==a.type)return this.HR();"connect"==a.type&&""==a.Ev&&this.uB();"error"==a.type&&"reconnect"==a.advice&&(this.xr=!1);this.bb.Jr(a);return this};e.prototype.YH=function(){if(!this.eo){var a=this;this.eo=setTimeout(function(){a.im()},this.bb.eo)}};e.prototype.im=function(){this.xr&&this.close();this.HA();
this.bb.im();return this};e.prototype.uB=function(){this.bb.uB();return this};e.prototype.GA=function(){this.eo&&(clearTimeout(this.eo),this.eo=null)};e.prototype.HA=function(){this.GA();this.TS&&clearTimeout(this.TS)};e.prototype.vf=function(a){this.send(d.parser.encodePacket(a))};e.prototype.HR=function(){this.vf({type:"heartbeat"})};e.prototype.Yv=function(){this.xr=!0;this.GA();this.bb.Yv()};e.prototype.zh=function(){this.xr=!1;this.bb.zh();this.im()};e.prototype.Lr=function(){var a=this.bb.options;
return this.scheme()+"://"+a.host+":"+a.port+"/"+a.hw+"/"+d.protocol+"/"+this.name+"/"+this.kT};e.prototype.bw=function(a,c){c.call(this)}})("undefined"!=typeof io?io:module.bc,"undefined"!=typeof io?io:module.parent.bc);(function(a,d,e){function f(a){this.options={port:80,wm:!1,document:"document"in e?document:!1,hw:"socket.io",transports:d.transports,"connect timeout":1E4,"try multiple transports":!0,reconnect:!0,"reconnection delay":500,"reconnection limit":Infinity,"reopen delay":3E3,"max reconnection attempts":10,
"sync disconnect on unload":!1,"auto connect":!0,"flash policy port":10843,manualFlush:!1};d.util.merge(this.options,a);this.om=this.Vf=this.open=this.Fg=!1;this.namespaces={};this.buffer=[];this.NA=!1;if(this.options["sync disconnect on unload"]&&(!this.wo()||d.util.ua.hasCORS)){var c=this;d.util.on(e,"beforeunload",function(){c.nP()},!1)}this.options["auto connect"]&&this.connect()}function g(){}a.Socket=f;d.util.mixin(f,d.EventEmitter);f.prototype.Eo=function(a){this.namespaces[a]||(this.namespaces[a]=
new d.SocketNamespace(this,a),""!==a&&this.namespaces[a].vf({type:"connect"}));return this.namespaces[a]};f.prototype.Ak=function(){this.ho.apply(this,arguments);var a,c;for(c in this.namespaces)this.namespaces.hasOwnProperty(c)&&(a=this.Eo(c),a.Fj.apply(a,arguments))};f.prototype.FQ=function(a){function c(d){d instanceof Error?(e.Vf=!1,e.jm(d.message)):a.apply(null,d.split(":"))}var e=this,f=this.options,f=["http"+(f.wm?"s":"")+":/",f.host+":"+f.port,f.hw,d.protocol,d.util.query(this.options.query,
"t\x3d"+ +new Date)].join("/");if(this.wo()&&!d.util.ua.hasCORS){var n=document.getElementsByTagName("script")[0],r=document.createElement("script");r.src=f+"\x26jsonp\x3d"+d.j.length;n.parentNode.insertBefore(r,n);d.j.push(function(a){c(a);r.parentNode.removeChild(r)})}else{var q=d.util.request();q.open("GET",f,!0);this.wo()&&(q.withCredentials=!0);q.onreadystatechange=function(){4==q.readyState&&(q.onreadystatechange=g,200==q.status?c(q.responseText):403==q.status?e.jm(q.responseText):(e.Vf=!1,
!e.om&&e.jm(q.responseText)))};q.send(null)}};f.prototype.BG=function(a){a=a||this.transports;for(var c=0,e;e=a[c];c++)if(d.Transport[e]&&d.Transport[e].Ul(this)&&(!this.wo()||d.Transport[e].ks(this)))return new d.Transport[e](this,this.QH);return null};f.prototype.connect=function(a){if(this.Vf)return this;var c=this;c.Vf=!0;this.FQ(function(e,f,g,r){function q(a){c.Ce&&c.Ce.HA();c.Ce=c.BG(a);c.Ce?c.Ce.bw(c,function(){c.Vf=!0;c.Ak("connecting",c.Ce.name);c.Ce.open();c.options["connect timeout"]&&
(c.YO=setTimeout(function(){if(!c.Fg&&(c.Vf=!1,c.options["try multiple transports"])){for(var a=c.transports;0<a.length&&a.splice(0,1)[0]!=c.Ce.name;);a.length?q(a):c.Ak("connect_failed")}},c.options["connect timeout"]))}):c.Ak("connect_failed")}c.QH=e;c.eo=1E3*g;c.JQ=1E3*f;c.transports||(c.transports=c.WR=r?d.util.intersect(r.split(","),c.options.transports):c.options.transports);c.fI();q(c.transports);c.VR(function(){clearTimeout(c.YO);a&&"function"==typeof a&&a()})});return this};f.prototype.fI=
function(){clearTimeout(this.JG);if(!this.Ce||this.Ce.KG()){var a=this;this.JG=setTimeout(function(){a.Ce.zh()},this.JQ)}};f.prototype.vf=function(a){this.Fg&&!this.NA?this.Ce.vf(a):this.buffer.push(a);return this};f.prototype.zj=function(a){this.NA=a;!a&&this.Fg&&this.buffer.length&&(this.options.manualFlush||this.EP())};f.prototype.EP=function(){this.Ce.sH(this.buffer);this.buffer=[]};f.prototype.disconnect=function(){if(this.Fg||this.Vf)this.open&&this.Eo("").vf({type:"disconnect"}),this.im("booted");
return this};f.prototype.nP=function(){var a=d.util.request();a.open("GET",["http"+(this.options.wm?"s":"")+":/",this.options.host+":"+this.options.port,this.options.hw,d.protocol,"",this.QH].join("/")+"/?disconnect\x3d1",!1);a.send(null);this.im("booted")};f.prototype.wo=function(){var a=e.location.port||("https:"==e.location.protocol?443:80);return this.options.host!==e.location.hostname||this.options.port!=a};f.prototype.uB=function(){this.Fg||(this.Fg=!0,this.Vf=!1,this.NA||this.zj(!1),this.ho("connect"))};
f.prototype.Yv=function(){this.open=!0};f.prototype.zh=function(){this.open=!1;clearTimeout(this.JG)};f.prototype.Jr=function(a){this.Eo(a.Ev).Jr(a)};f.prototype.jm=function(a){a&&a.advice&&"reconnect"===a.advice&&(this.Fg||this.Vf)&&(this.disconnect(),this.options.cw&&this.cw());this.Ak("error",a&&a.reason?a.reason:a)};f.prototype.im=function(a){var c=this.Fg,d=this.Vf;this.open=this.Vf=this.Fg=!1;if(c||d)this.Ce.close(),this.Ce.HA(),c&&(this.Ak("disconnect",a),"booted"!=a&&this.options.cw&&!this.om&&
this.cw())};f.prototype.cw=function(){function a(){if(d.Fg){for(var e in d.namespaces)d.namespaces.hasOwnProperty(e)&&""!==e&&d.namespaces[e].vf({type:"connect"});d.Ak("reconnect",d.Ce.name,d.dw)}clearTimeout(d.ew);d.removeListener("connect_failed",c);d.removeListener("connect",c);d.om=!1;delete d.dw;delete d.pm;delete d.ew;delete d.EH;d.options["try multiple transports"]=f}function c(){if(d.om){if(d.Fg)return a();if(d.Vf&&d.om)return d.ew=setTimeout(c,1E3);d.dw++>=e?d.EH?(d.Ak("reconnect_failed"),
a()):(d.on("connect_failed",c),d.options["try multiple transports"]=!0,d.transports=d.WR,d.Ce=d.BG(),d.EH=!0,d.connect()):(d.pm<g&&(d.pm*=2),d.connect(),d.Ak("reconnecting",d.pm,d.dw),d.ew=setTimeout(c,d.pm))}}this.om=!0;this.dw=0;this.pm=this.options["reconnection delay"];var d=this,e=this.options["max reconnection attempts"],f=this.options["try multiple transports"],g=this.options["reconnection limit"];this.options["try multiple transports"]=!1;this.ew=setTimeout(c,this.pm);this.on("connect",c)}})("undefined"!=
typeof io?io:module.bc,"undefined"!=typeof io?io:module.parent.bc,this);(function(a,d){function e(a,c){this.bb=a;this.name=c||"";this.Gv={};this.oR=new f(this,"json");this.BF=0;this.br={}}function f(a,c){this.Do=a;this.name=c}a.SocketNamespace=e;d.util.mixin(e,d.EventEmitter);e.prototype.Fj=d.EventEmitter.prototype.ho;e.prototype.Eo=function(){return this.bb.Eo.apply(this.bb,arguments)};e.prototype.vf=function(a){a.Ev=this.name;this.bb.vf(a);this.Gv={};return this};e.prototype.send=function(a,c){var d=
{type:this.Gv.oR?"json":"message",data:a};"function"==typeof c&&(d.id=++this.BF,d.ao=!0,this.br[d.id]=c);return this.vf(d)};e.prototype.ho=function(a){var c=Array.prototype.slice.call(arguments,1),d=c[c.length-1],e={type:"event",name:a};"function"==typeof d&&(e.id=++this.BF,e.ao="data",this.br[e.id]=d,c=c.slice(0,c.length-1));e.te=c;return this.vf(e)};e.prototype.disconnect=function(){""===this.name?this.bb.disconnect():(this.vf({type:"disconnect"}),this.Fj("disconnect"));return this};e.prototype.Jr=
function(a){function c(){e.vf({type:"ack",te:d.util.toArray(arguments),bo:a.id})}var e=this;switch(a.type){case "connect":this.Fj("connect");break;case "disconnect":""===this.name?this.bb.im(a.reason||"booted"):this.Fj("disconnect",a.reason);break;case "message":case "json":var f=["message",a.data];"data"==a.ao?f.push(c):a.ao&&this.vf({type:"ack",bo:a.id});this.Fj.apply(this,f);break;case "event":f=[a.name].concat(a.te);"data"==a.ao&&f.push(c);this.Fj.apply(this,f);break;case "ack":this.br[a.bo]&&
(this.br[a.bo].apply(this,a.te),delete this.br[a.bo]);break;case "error":a.advice?this.bb.jm(a):"unauthorized"==a.reason?this.Fj("connect_failed",a.reason):this.Fj("error",a.reason)}};f.prototype.send=function(){this.Do.Gv[this.name]=!0;this.Do.send.apply(this.Do,arguments)};f.prototype.ho=function(){this.Do.Gv[this.name]=!0;this.Do.ho.apply(this.Do,arguments)}})("undefined"!=typeof io?io:module.bc,"undefined"!=typeof io?io:module.parent.bc);(function(a,d,e){function f(a){d.Transport.apply(this,arguments)}
a.gg=f;d.util.inherit(f,d.Transport);f.prototype.name="websocket";f.prototype.open=function(){var a=d.util.query(this.bb.options.query),c=this,f;f||(f=e.PW||e.VK);this.gg=new f(this.Lr()+a);this.gg.onopen=function(){c.Yv();c.bb.zj(!1)};this.gg.onmessage=function(a){c.Ir(a.data)};this.gg.onclose=function(){c.zh();c.bb.zj(!0)};this.gg.onerror=function(a){c.jm(a)};return this};f.prototype.send=d.util.ua.iDevice?function(a){var c=this;setTimeout(function(){c.gg.send(a)},0);return this}:function(a){this.gg.send(a);
return this};f.prototype.sH=function(a){for(var c=0,d=a.length;c<d;c++)this.vf(a[c]);return this};f.prototype.close=function(){this.gg.close();return this};f.prototype.jm=function(a){this.bb.jm(a)};f.prototype.scheme=function(){return this.bb.options.wm?"wss":"ws"};f.Ul=function(){return"WebSocket"in e&&!("__addTask"in WebSocket)||"MozWebSocket"in e};f.ks=function(){return!0};d.transports.push("websocket")})("undefined"!=typeof io?io.Transport:module.bc,"undefined"!=typeof io?io:module.parent.bc,
this);(function(c,d){function e(){d.Transport.gg.apply(this,arguments)}c.R_=e;d.util.inherit(e,d.Transport.gg);e.prototype.name="flashsocket";e.prototype.open=function(){var a=this,c=arguments;WebSocket.yt(function(){d.Transport.gg.prototype.open.apply(a,c)});return this};e.prototype.send=function(){var a=this,c=arguments;WebSocket.yt(function(){d.Transport.gg.prototype.send.apply(a,c)});return this};e.prototype.close=function(){WebSocket.sp.length=0;d.Transport.gg.prototype.close.call(this);return this};
e.prototype.bw=function(a,c){function h(){var d=a.options,h=d["flash policy port"],n=["http"+(d.wm?"s":"")+":/",d.host+":"+d.port,d.hw,"static/flashsocket","WebSocketMain"+(a.wo()?"Insecure":"")+".swf"];e.loaded||("undefined"===typeof WEB_SOCKET_SWF_LOCATION&&(WEB_SOCKET_SWF_LOCATION=n.join("/")),843!==h&&WebSocket.wR("xmlsocket://"+d.host+":"+h),WebSocket.Ux(),e.loaded=!0);c.call(k)}var k=this;if(document.body)return h();d.util.load(h)};e.Ul=function(){return"undefined"!=typeof WebSocket&&"__initialize"in
WebSocket&&a?10<=a.PP().BR:!1};e.ks=function(){return!0};"undefined"!=typeof window&&(WEB_SOCKET_DISABLE_AUTO_INITIALIZATION=!0);d.transports.push("flashsocket")})("undefined"!=typeof io?io.Transport:module.bc,"undefined"!=typeof io?io:module.parent.bc);if("undefined"!=typeof window)var a=function(){function c(){if(!ea){try{var a=E.getElementsByTagName("body")[0].appendChild(E.createElement("span"));a.parentNode.removeChild(a)}catch(c){return}ea=!0;for(var a=na.length,d=0;d<a;d++)na[d]()}}function d(a){ea?
a():na[na.length]=a}function e(a){if(typeof T.addEventListener!=G)T.addEventListener("load",a,!1);else if(typeof E.addEventListener!=G)E.addEventListener("load",a,!1);else if(typeof T.attachEvent!=G)y(T,a);else if("function"==typeof T.onload){var c=T.onload;T.onload=function(){c();a()}}else T.onload=a}function f(){var a=E.getElementsByTagName("body")[0],c=E.createElement(N);c.setAttribute("type",L);var d=a.appendChild(c);if(d){var e=0;(function(){if(typeof d.GetVariable!=G){var f=d.GetVariable("$version");
f&&(f=f.split(" ")[1].split(","),z.Io=[parseInt(f[0],10),parseInt(f[1],10),parseInt(f[2],10)])}else if(10>e){e++;setTimeout(arguments.callee,10);return}a.removeChild(c);d=null;g()})()}else g()}function g(){var a=ca.length;if(0<a)for(var c=0;c<a;c++){var d=ca[c].id,e=ca[c].HO,f={zm:!1,id:d};if(0<z.Io[0]){var g=t(d);if(g)if(!A(ca[c].OU)||z.Ej&&312>z.Ej)if(ca[c].eG&&k()){f={};f.data=ca[c].eG;f.width=g.getAttribute("width")||"0";f.height=g.getAttribute("height")||"0";g.getAttribute("class")&&(f.u9=g.getAttribute("class"));
g.getAttribute("align")&&(f.align=g.getAttribute("align"));for(var n={},g=g.getElementsByTagName("param"),q=g.length,r=0;r<q;r++)"movie"!=g[r].getAttribute("name").toLowerCase()&&(n[g[r].getAttribute("name")]=g[r].getAttribute("value"));l(f,n,d,e)}else m(g),e&&e(f);else J(d,!0),e&&(f.zm=!0,f.FH=h(d),e(f))}else J(d,!0),e&&((d=h(d))&&typeof d.SetVariable!=G&&(f.zm=!0,f.FH=d),e(f))}}function h(a){var c=null;(a=t(a))&&"OBJECT"==a.nodeName&&(typeof a.SetVariable!=G?c=a:(a=a.getElementsByTagName(N)[0])&&
(c=a));return c}function k(){return!oa&&A("6.0.65")&&(z.Ug||z.fH)&&!(z.Ej&&312>z.Ej)}function l(a,c,d,e){oa=!0;va=e||null;Fa={zm:!1,id:d};var f=t(d);if(f){"OBJECT"==f.nodeName?(ma=n(f),pa=null):(ma=f,pa=d);a.id=ia;if(typeof a.width==G||!/%$/.test(a.width)&&310>parseInt(a.width,10))a.width="310";if(typeof a.height==G||!/%$/.test(a.height)&&137>parseInt(a.height,10))a.height="137";E.title=E.title.slice(0,47)+" - Flash Player Installation";e=z.Kg&&z.Ug?["Active"].concat("").join("X"):"PlugIn";e="MMredirectURL\x3d"+
T.location.toString().replace(/&/g,"%26")+"\x26MMplayerType\x3d"+e+"\x26MMdoctitle\x3d"+E.title;c.fr=typeof c.fr!=G?c.fr+("\x26"+e):e;z.Kg&&z.Ug&&4!=f.readyState&&(e=E.createElement("div"),d+="SWFObjectNew",e.setAttribute("id",d),f.parentNode.insertBefore(e,f),f.style.display="none",function(){4==f.readyState?f.parentNode.removeChild(f):setTimeout(arguments.callee,10)}());r(a,c,d)}}function m(a){if(z.Kg&&z.Ug&&4!=a.readyState){var c=E.createElement("div");a.parentNode.insertBefore(c,a);c.parentNode.replaceChild(n(a),
c);a.style.display="none";(function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)})()}else a.parentNode.replaceChild(n(a),a)}function n(a){var c=E.createElement("div");if(z.Ug&&z.Kg)c.innerHTML=a.innerHTML;else if(a=a.getElementsByTagName(N)[0])if(a=a.childNodes)for(var d=a.length,e=0;e<d;e++)1==a[e].nodeType&&"PARAM"==a[e].nodeName||8==a[e].nodeType||c.appendChild(a[e].cloneNode(!0));return c}function r(a,c,d){var e,f=t(d);if(z.Ej&&312>z.Ej)return e;if(f)if(typeof a.id==
G&&(a.id=d),z.Kg&&z.Ug){var g="",h;for(h in a)a[h]!=Object.prototype[h]&&("data"==h.toLowerCase()?c.l5=a[h]:"styleclass"==h.toLowerCase()?g+=' class\x3d"'+a[h]+'"':"classid"!=h.toLowerCase()&&(g+=" "+h+'\x3d"'+a[h]+'"'));h="";for(var k in c)c[k]!=Object.prototype[k]&&(h+='\x3cparam name\x3d"'+k+'" value\x3d"'+c[k]+'" /\x3e');f.outerHTML='\x3cobject classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+g+"\x3e"+h+"\x3c/object\x3e";qa[qa.length]=a.id;e=t(a.id)}else{k=E.createElement(N);k.setAttribute("type",
L);for(var l in a)a[l]!=Object.prototype[l]&&("styleclass"==l.toLowerCase()?k.setAttribute("class",a[l]):"classid"!=l.toLowerCase()&&k.setAttribute(l,a[l]));for(g in c)c[g]!=Object.prototype[g]&&"movie"!=g.toLowerCase()&&(a=k,h=g,l=c[g],d=E.createElement("param"),d.setAttribute("name",h),d.setAttribute("value",l),a.appendChild(d));f.parentNode.replaceChild(k,f);e=k}return e}function q(a){var c=t(a);c&&"OBJECT"==c.nodeName&&(z.Kg&&z.Ug?(c.style.display="none",function(){if(4==c.readyState){var d=t(a);
if(d){for(var e in d)"function"==typeof d[e]&&(d[e]=null);d.parentNode.removeChild(d)}}else setTimeout(arguments.callee,10)}()):c.parentNode.removeChild(c))}function t(a){var c=null;try{c=E.getElementById(a)}catch(d){}return c}function y(a,c){a.attachEvent("onload",c);ja[ja.length]=[a,"onload",c]}function A(a){var c=z.Io;a=a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return c[0]>a[0]||c[0]==a[0]&&c[1]>a[1]||c[0]==a[0]&&c[1]==a[1]&&c[2]>=a[2]?!0:!1}function F(a,
c,d,e){if(!z.Kg||!z.fH){var f=E.getElementsByTagName("head")[0];f&&(d=d&&"string"==typeof d?d:"screen",e&&(wa=$=null),$&&wa==d||(e=E.createElement("style"),e.setAttribute("type","text/css"),e.setAttribute("media",d),$=f.appendChild(e),z.Kg&&z.Ug&&typeof E.styleSheets!=G&&0<E.styleSheets.length&&($=E.styleSheets[E.styleSheets.length-1]),wa=d),z.Kg&&z.Ug?$&&typeof $.addRule==N&&$.addRule(a,c):$&&typeof E.createTextNode!=G&&$.appendChild(E.createTextNode(a+" {"+c+"}")))}}function J(a,c){if(Ga){var d=
c?"visible":"hidden";ea&&t(a)?t(a).style.visibility=d:F("#"+a,"visibility:"+d)}}function Y(a){return null!=/[\\\"<>\.;]/.exec(a)&&typeof encodeURIComponent!=G?encodeURIComponent(a):a}var G="undefined",N="object",L="application/x-shockwave-flash",ia="SWFObjectExprInst",T=window,E=document,da=navigator,Ha=!1,na=[function(){Ha?f():g()}],ca=[],qa=[],ja=[],ma,pa,va,Fa,ea=!1,oa=!1,$,wa,Ga=!0,z=function(){var a=typeof E.getElementById!=G&&typeof E.getElementsByTagName!=G&&typeof E.createElement!=G,c=da.userAgent.toLowerCase(),
d=da.platform.toLowerCase(),e=d?/win/.test(d):/win/.test(c),d=d?/mac/.test(d):/mac/.test(c),c=/webkit/.test(c)?parseFloat(c.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,f=!+"\v1",g=[0,0,0],h=null;if(typeof da.plugins!=G&&typeof da.plugins["Shockwave Flash"]==N)!(h=da.plugins["Shockwave Flash"].description)||typeof da.mimeTypes!=G&&da.mimeTypes[L]&&!da.mimeTypes[L].enabledPlugin||(Ha=!0,f=!1,h=h.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),g[0]=parseInt(h.replace(/^(.*)\..*$/,"$1"),10),g[1]=parseInt(h.replace(/^.*\.(.*)\s.*$/,
"$1"),10),g[2]=/[a-zA-Z]/.test(h)?parseInt(h.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof T[["Active"].concat("Object").join("X")]!=G)try{var k=new (window[["Active"].concat("Object").join("X")])("ShockwaveFlash.ShockwaveFlash");k&&(h=k.GetVariable("$version"))&&(f=!0,h=h.split(" ")[1].split(","),g=[parseInt(h[0],10),parseInt(h[1],10),parseInt(h[2],10)])}catch(l){}return{Lk:a,Io:g,Ej:c,Kg:f,Ug:e,fH:d}}();(function(){z.Lk&&((typeof E.readyState!=G&&"complete"==E.readyState||typeof E.readyState==
G&&(E.getElementsByTagName("body")[0]||E.body))&&c(),ea||(typeof E.addEventListener!=G&&E.addEventListener("DOMContentLoaded",c,!1),z.Kg&&z.Ug&&(E.attachEvent("onreadystatechange",function(){"complete"==E.readyState&&(E.detachEvent("onreadystatechange",arguments.callee),c())}),T==top&&function(){if(!ea){try{E.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}c()}}()),z.Ej&&function(){ea||(/loaded|complete/.test(E.readyState)?c():setTimeout(arguments.callee,0))}(),e(c)))})();
(function(){z.Kg&&z.Ug&&window.attachEvent("onunload",function(){for(var c=ja.length,d=0;d<c;d++)ja[d][0].detachEvent(ja[d][1],ja[d][2]);c=qa.length;for(d=0;d<c;d++)q(qa[d]);for(var e in z)z[e]=null;z=null;for(var f in a)a[f]=null;a=null})})();return{v6:function(a,c,d,e){if(z.Lk&&a&&c){var f={};f.id=a;f.OU=c;f.eG=d;f.HO=e;ca[ca.length]=f;J(a,!1)}else e&&e({zm:!1,id:a})},O1:function(a){if(z.Lk)return h(a)},yP:function(a,c,e,f,g,h,m,n,q,t){var y={zm:!1,id:c};z.Lk&&!(z.Ej&&312>z.Ej)&&a&&c&&e&&f&&g?(J(c,
!1),d(function(){e+="";f+="";var d={};if(q&&typeof q===N)for(var z in q)d[z]=q[z];d.data=a;d.width=e;d.height=f;z={};if(n&&typeof n===N)for(var F in n)z[F]=n[F];if(m&&typeof m===N)for(var E in m)z.fr=typeof z.fr!=G?z.fr+("\x26"+E+"\x3d"+m[E]):E+"\x3d"+m[E];if(A(g))F=r(d,z,c),d.id==c&&J(c,!0),y.zm=!0,y.FH=F;else{if(h&&k()){d.data=h;l(d,z,c,t);return}J(c,!0)}t&&t(y)})):t&&t(y)},C9:function(){Ga=!1},ua:z,PP:function(){return{BR:z.Io[0],h5:z.Io[1],KB:z.Io[2]}},GQ:A,f_:function(a,c,d){if(z.Lk)return r(a,
c,d)},l9:function(a,c,d,e){z.Lk&&k()&&l(a,c,d,e)},J6:function(a){z.Lk&&q(a)},e_:function(a,c,d,e){z.Lk&&F(a,c,d,e)},gZ:d,kZ:e,t2:function(a){var c=E.location.search||E.location.hash;if(c){/\?/.test(c)&&(c=c.split("?")[1]);if(null==a)return Y(c);for(var c=c.split("\x26"),d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("\x3d"))==a)return Y(c[d].substring(c[d].indexOf("\x3d")+1))}return""},B_:function(){if(oa){var a=t(ia);a&&ma&&(a.parentNode.replaceChild(ma,a),pa&&(J(pa,!0),z.Kg&&z.Ug&&(ma.style.display=
"block")),va&&va(Fa));oa=!1}}}}();(function(){if("undefined"!=typeof window&&!window.VK){var c=window.console;c&&c.log&&c.error||(c={log:function(){},error:function(){}});a.GQ("10.0.0")?("file:"==location.protocol&&c.error("WARNING: web-socket-js doesn't work in file:///... URL unless you set Flash Security Settings properly. Open the page via Web server i.e. http://..."),WebSocket=function(a,c,f,g,h){var k=this;k.At=WebSocket.bL++;WebSocket.OD[k.At]=k;k.readyState=WebSocket.CONNECTING;k.bufferedAmount=
0;k.Rm={};c?"string"==typeof c&&(c=[c]):c=[];setTimeout(function(){WebSocket.yt(function(){WebSocket.Nh.create(k.At,a,c,f||null,g||0,h||null)})},0)},WebSocket.prototype.send=function(a){if(this.readyState==WebSocket.CONNECTING)throw"INVALID_STATE_ERR: Web Socket connection has not been established";a=WebSocket.Nh.send(this.At,encodeURIComponent(a));if(0>a)return!0;this.bufferedAmount+=a;return!1},WebSocket.prototype.close=function(){this.readyState!=WebSocket.CLOSED&&this.readyState!=WebSocket.FC&&
(this.readyState=WebSocket.FC,WebSocket.Nh.close(this.At))},WebSocket.prototype.addEventListener=function(a,c){a in this.Rm||(this.Rm[a]=[]);this.Rm[a].push(c)},WebSocket.prototype.removeEventListener=function(a,c){if(a in this.Rm)for(var f=this.Rm[a],g=f.length-1;0<=g;--g)if(f[g]===c){f.splice(g,1);break}},WebSocket.prototype.dispatchEvent=function(a){for(var c=this.Rm[a.type]||[],f=0;f<c.length;++f)c[f](a);(c=this["on"+a.type])&&c(a)},WebSocket.prototype.ZK=function(a){"readyState"in a&&(this.readyState=
a.readyState);"protocol"in a&&(this.protocol=a.protocol);if("open"==a.type||"error"==a.type)a=this.MD(a.type);else if("close"==a.type)a=this.MD("close");else if("message"==a.type)a=this.XK(decodeURIComponent(a.message));else throw"unknown event type: "+a.type;this.dispatchEvent(a)},WebSocket.prototype.MD=function(a){if(document.createEvent&&window.mW){var c=document.createEvent("Event");c.initEvent(a,!1,!1);return c}return{type:a,bubbles:!1,cancelable:!1}},WebSocket.prototype.XK=function(a){if(document.createEvent&&
window.NW&&!window.opera){var c=document.createEvent("MessageEvent");c.initMessageEvent("message",!1,!1,a,null,null,window,null);return c}return{type:"message",data:a,bubbles:!1,cancelable:!1}},WebSocket.CONNECTING=0,WebSocket.OPEN=1,WebSocket.FC=2,WebSocket.CLOSED=3,WebSocket.Nh=null,WebSocket.OD={},WebSocket.sp=[],WebSocket.bL=0,WebSocket.wR=function(a){WebSocket.yt(function(){WebSocket.Nh.c5(a)})},WebSocket.Ux=function(){if(!WebSocket.Nh&&(WebSocket.dL&&(window.UK=WebSocket.dL),window.UK)){var d=
document.createElement("div");d.id="webSocketContainer";d.style.position="absolute";WebSocket.aL()?(d.style.left="0px",d.style.top="0px"):(d.style.left="-100px",d.style.top="-100px");var e=document.createElement("div");e.id="webSocketFlash";d.appendChild(e);document.body.appendChild(d);a.yP(WEB_SOCKET_SWF_LOCATION,"webSocketFlash","1","1","10.0.0",null,null,{H3:!0,F9:!0,xZ:"always"},null,function(a){a.zm||c.error("[WebSocket] swfobject.embedSWF failed")})}},WebSocket.oY=function(){setTimeout(function(){WebSocket.Nh=
document.getElementById("webSocketFlash");WebSocket.Nh.j7(location.href);WebSocket.Nh.s7(!!window.$X);for(var a=0;a<WebSocket.sp.length;++a)WebSocket.sp[a]();WebSocket.sp=[]},0)},WebSocket.nY=function(){setTimeout(function(){try{for(var a=WebSocket.Nh.q6(),e=0;e<a.length;++e)WebSocket.OD[a[e].l$].ZK(a[e])}catch(f){c.error(f)}},0);return!0},WebSocket.mY=function(a){c.log(decodeURIComponent(a))},WebSocket.lY=function(a){c.error(decodeURIComponent(a))},WebSocket.yt=function(a){WebSocket.Nh?a():WebSocket.sp.push(a)},
WebSocket.aL=function(){if(!window.navigator||!window.navigator.mimeTypes)return!1;var a=window.navigator.mimeTypes["application/x-shockwave-flash"];return a&&a.enabledPlugin&&a.enabledPlugin.filename?a.enabledPlugin.filename.match(/flashlite/i)?!0:!1:!1},window.aY||(window.addEventListener?window.addEventListener("load",function(){WebSocket.Ux()},!1):window.attachEvent("onload",function(){WebSocket.Ux()}))):c.error("Flash Player \x3e\x3d 10.0.0 is required.")}})();(function(a,d,e){function f(a){a&&
d.Transport.apply(this,arguments)}function g(){}a.Ii=f;d.util.inherit(f,d.Transport);f.prototype.open=function(){this.bb.zj(!1);this.Yv();this.get();this.YH();return this};f.prototype.sH=function(a){for(var c=[],e=0,f=a.length;e<f;e++)c.push(d.parser.encodePacket(a[e]));this.send(d.parser.encodePayload(c))};f.prototype.send=function(a){this.xH(a);return this};f.prototype.xH=function(a){function c(){4==this.readyState&&(this.onreadystatechange=g,f.j6=!1,200==this.status?f.bb.zj(!1):f.zh())}function d(){this.onload=
g;f.bb.zj(!1)}var f=this;this.bb.zj(!0);this.Nr=this.request("POST");e.XDomainRequest&&this.Nr instanceof XDomainRequest?this.Nr.onload=this.Nr.onerror=d:this.Nr.onreadystatechange=c;this.Nr.send(a)};f.prototype.close=function(){this.zh();return this};f.prototype.request=function(a){var c=d.util.request(this.bb.wo()),e=d.util.query(this.bb.options.query,"t\x3d"+ +new Date);c.open(a||"GET",this.Lr()+e,!0);if("POST"==a)try{c.setRequestHeader?c.setRequestHeader("Content-type","text/plain;charset\x3dUTF-8"):
c.contentType="text/plain"}catch(f){}return c};f.prototype.scheme=function(){return this.bb.options.wm?"https":"http"};f.Ul=function(a,c){try{var f=d.util.request(c),g=e.XDomainRequest&&f instanceof XDomainRequest,n=a&&a.options&&a.options.wm?"https:":"http:",r=e.location&&n!=e.location.protocol;if(f&&(!g||!r))return!0}catch(q){}return!1};f.ks=function(a){return f.Ul(a,!0)}})("undefined"!=typeof io?io.Transport:module.bc,"undefined"!=typeof io?io:module.parent.bc,this);(function(a,d){function e(a){d.Transport.Ii.apply(this,
arguments)}a.J3=e;d.util.inherit(e,d.Transport.Ii);e.prototype.name="htmlfile";e.prototype.get=function(){this.vk=new (window[["Active"].concat("Object").join("X")])("htmlfile");this.vk.open();this.vk.write("\x3chtml\x3e\x3c/html\x3e");this.vk.close();this.vk.parentWindow.Fh=this;var a=this.vk.createElement("div");a.className="socketio";this.vk.body.appendChild(a);this.Yf=this.vk.createElement("iframe");a.appendChild(this.Yf);var c=this,a=d.util.query(this.bb.options.query,"t\x3d"+ +new Date);this.Yf.src=
this.Lr()+a;d.util.on(window,"unload",function(){c.kd()})};e.prototype.JD=function(a,c){a=a.replace(/\\\//g,"/");this.Ir(a);try{var d=c.getElementsByTagName("script")[0];d.parentNode.removeChild(d)}catch(e){}};e.prototype.kd=function(){if(this.Yf){try{this.Yf.src="about:blank"}catch(a){}this.vk=null;this.Yf.parentNode.removeChild(this.Yf);this.Yf=null;CollectGarbage()}};e.prototype.close=function(){this.kd();return d.Transport.Ii.prototype.close.call(this)};e.Ul=function(a){if("undefined"!=typeof window&&
["Active"].concat("Object").join("X")in window)try{return new (window[["Active"].concat("Object").join("X")])("htmlfile")&&d.Transport.Ii.Ul(a)}catch(c){}return!1};e.ks=function(){return!1};d.transports.push("htmlfile")})("undefined"!=typeof io?io.Transport:module.bc,"undefined"!=typeof io?io:module.parent.bc);(function(a,d,e){function f(){d.Transport.Ii.apply(this,arguments)}function g(){}a["xhr-polling"]=f;d.util.inherit(f,d.Transport.Ii);d.util.merge(f,d.Transport.Ii);f.prototype.name="xhr-polling";
f.prototype.KG=function(){return!1};f.prototype.open=function(){d.Transport.Ii.prototype.open.call(this);return!1};f.prototype.get=function(){function a(){4==this.readyState&&(this.onreadystatechange=g,200==this.status?(f.Ir(this.responseText),f.get()):f.zh())}function c(){this.onerror=this.onload=g;f.PB=1;f.Ir(this.responseText);f.get()}function d(){f.PB++;!f.PB||3<f.PB?f.zh():f.get()}if(this.xr){var f=this;this.Gh=this.request();e.XDomainRequest&&this.Gh instanceof XDomainRequest?(this.Gh.onload=
c,this.Gh.onerror=d):this.Gh.onreadystatechange=a;this.Gh.send(null)}};f.prototype.zh=function(){d.Transport.Ii.prototype.zh.call(this);if(this.Gh){this.Gh.onreadystatechange=this.Gh.onload=this.Gh.onerror=g;try{this.Gh.abort()}catch(a){}this.Gh=null}};f.prototype.bw=function(a,c){var e=this;d.util.defer(function(){c.call(e)})};d.transports.push("xhr-polling")})("undefined"!=typeof io?io.Transport:module.bc,"undefined"!=typeof io?io:module.parent.bc,this);(function(a,d,e){function f(a){d.Transport["xhr-polling"].apply(this,
arguments);this.index=d.j.length;var c=this;d.j.push(function(a){c.JD(a)})}var g=e.document&&"MozAppearance"in e.document.documentElement.style;a["jsonp-polling"]=f;d.util.inherit(f,d.Transport["xhr-polling"]);f.prototype.name="jsonp-polling";f.prototype.xH=function(a){function c(){e();f.bb.zj(!1)}function e(){f.Yf&&f.form.removeChild(f.Yf);try{y=document.createElement('\x3ciframe name\x3d"'+f.fB+'"\x3e')}catch(a){y=document.createElement("iframe"),y.name=f.fB}y.id=f.fB;f.form.appendChild(y);f.Yf=
y}var f=this,g=d.util.query(this.bb.options.query,"t\x3d"+ +new Date+"\x26i\x3d"+this.index);if(!this.form){var r=document.createElement("form"),q=document.createElement("textarea"),t=this.fB="socketio_iframe_"+this.index,y;r.className="socketio";r.style.position="absolute";r.style.top="0px";r.style.left="0px";r.style.display="none";r.target=t;r.method="POST";r.setAttribute("accept-charset","utf-8");q.name="d";r.appendChild(q);document.body.appendChild(r);this.form=r;this.AO=q}this.form.action=this.Lr()+
g;e();this.AO.value=d.JSON.stringify(a);try{this.form.submit()}catch(A){}this.Yf.attachEvent?y.onreadystatechange=function(){"complete"==f.Yf.readyState&&c()}:this.Yf.onload=c;this.bb.zj(!0)};f.prototype.get=function(){var a=this,c=document.createElement("script"),e=d.util.query(this.bb.options.query,"t\x3d"+ +new Date+"\x26i\x3d"+this.index);this.yb&&(this.yb.parentNode.removeChild(this.yb),this.yb=null);c.async=!0;c.src=this.Lr()+e;c.onerror=function(){a.zh()};e=document.getElementsByTagName("script")[0];
e.parentNode.insertBefore(c,e);this.yb=c;g&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a);document.body.removeChild(a)},100)};f.prototype.JD=function(a){this.Ir(a);this.xr&&this.get();return this};f.prototype.bw=function(a,c){var e=this;if(!g)return c.call(this);d.util.load(function(){c.call(e)})};f.Ul=function(){return"document"in e};f.ks=function(){return!0};d.transports.push("jsonp-polling")})("undefined"!=typeof io?io.Transport:module.bc,"undefined"!=
typeof io?io:module.parent.bc,this);"function"===typeof define&&define.yZ&&define([],function(){return io})})();p=p||{};function s(){return arguments.callee.name||arguments.callee.toString().match(/^function ([^(]+)/)[1]}s.id=0|998*Math.random();s.dR=0|998*Math.random();
s.OF=function(a,c,d){for(var e=a.toString(),f=e.indexOf("("),g=e.indexOf(")"),f=e.substring(f+1,g),f=f.trim(),g=e.indexOf("{"),e=e.substring(g+1,e.lastIndexOf("}"));-1!=e.indexOf("this._super");)var g=e.indexOf("this._super"),h=e.indexOf("(",g),k=e.indexOf(")",h),k=e.substring(h+1,k),k=(k=k.trim())?",":"",l=arguments.callee.sJ(),e=e.substring(0,g)+l+"["+d+"]."+c+".call(this"+k+e.substring(h+1);return Function(f,e)};s.OF.sJ=s;s.$P=function(){return this.id++};s.aQ=function(){return this.dR++};
(function(){var a=/\b_super\b/,c=document.ccConfig&&document.ccConfig.CLASS_RELEASE_MODE?document.ccConfig.CLASS_RELEASE_MODE:null;c&&console.log("release Mode");p.qa=function(){};p.qa.extend=function(d){function e(){this.Nb=s.aQ();this.ctor&&this.ctor.apply(this,arguments)}var f=this.prototype,g=Object.create(f),h=s.$P();s[h]=f;var k={writable:!0,enumerable:!1,configurable:!0},l;for(l in d)c&&"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=s.OF(d[l],l,h),Object.defineProperty(g,
l,k)):"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=function(a,c){return function(){var d=this._super;this._super=f[a];var e=c.apply(this,arguments);this._super=d;return e}}(l,d[l]),Object.defineProperty(g,l,k)):"function"==typeof d[l]?(k.value=d[l],Object.defineProperty(g,l,k)):g[l]=d[l];g.Nb=null;e.id=h;k.value=h;Object.defineProperty(g,"__pid",k);e.prototype=g;k.value=e;Object.defineProperty(e.prototype,"constructor",k);e.extend=arguments.callee;e.L3=function(a){for(var c in a)g[c]=
a[c]};return e};Function.prototype.bind=Function.prototype.bind||function(a){var c=this;return function(){var f=Array.prototype.slice.call(arguments);return c.apply(a||null,f)}}})();p.N3=function(a,c){function d(){}d.prototype=c.prototype;a.Hw=c.prototype;a.prototype=new d;a.prototype.constructor=a};
p.DO=function(a,c,d){var e=arguments.callee.caller;if(e.Hw)return ret=e.Hw.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var f=Array.prototype.slice.call(arguments,2),g=!1,h=a.constructor;h;h=h.Hw&&h.Hw.constructor)if(h.prototype[c]===e)g=!0;else if(g)return h.prototype[c].apply(a,f);if(a[c]===e)return a.constructor.prototype[c].apply(a,f);throw Error("cc.base called from a method of one name to a method of a different name");};
p.a_=function(a,c){a||(a={});for(var d in c)a[d]=c[d];return a};p.jg=function(a,c){this.x=a||0;this.y=c||0};p.KD=function(a,c){this.A=a||0;this.I=c||0;this.CI=function(a){this.A=a};this.DI=function(a){this.I=a}};p.Uc=function(){return new p.KD(0,0)};
Object.defineProperties(p.KD.prototype,{x:{get:function(){return this.A},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0},y:{get:function(){return this.I},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0}});p.dX=function(a,c){p.log("cc.PointMake will be deprecated sooner or later. Use cc.p instead.");return new p.jg(a,c)};
p.a=function(a,c){return{x:a,y:c}};p.OY=p.a;p.Ei=function(){return p.a(0,0)};p.uH=function(a,c){return a&&c?a.x===c.x&&a.y===c.y:!1};p.Mj=function(a,c){this.width=a||0;this.height=c||0};p.LD=function(a,c){this.va=a||0;this.ga=c||0;this.iC=function(a){this.va=a};this.XB=function(a){this.ga=a}};p.zl=function(){return new p.LD(0,0)};
Object.defineProperties(p.LD.prototype,{width:{get:function(){return this.va},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0},height:{get:function(){return this.ga},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0}});p.IX=function(a,c){p.log("cc.SizeMake will be deprecated sooner or later. Use cc.size instead.");return p.size(a,c)};
p.size=function(a,c){return{width:a,height:c}};p.Na=p.size;p.Vk=function(){return p.size(0,0)};p.AF={gS:p.Uc(),FU:p.zl()};Object.defineProperties(p,{qK:{get:function(){return p.AF.gS}},AK:{get:function(){return p.AF.FU}},iX:{get:function(){return p.rect(0,0,0,0)}}});p.EU=function(a,c){return a&&c?a.width==c.width&&a.height==c.height:!1};
p.Ff=function(a,c,d,e){var f=arguments.length;if(4===f)this.Ic=new p.jg(a||0,c||0),this.Na=new p.Mj(d||0,e||0);else if(1===f)this.Ic=new p.jg(a.Ic.x,a.Ic.y),this.Na=new p.Mj(a.Na.width,a.Na.height);else if(0===f)this.Ic=new p.jg(0,0),this.Na=new p.Mj(0,0);else if(2===f)this.Ic=new p.jg(a.x,a.y),this.Na=new p.Mj(c.width,c.height);else throw"unknown argument type";};p.pX=function(a,c,d,e){p.log("cc.RectMake will be deprecated sooner or later. Use cc.rect instead.");return p.rect(a,c,d,e)};
p.rect=function(a,c,d,e){var f=arguments.length;if(0===f)return new p.Ff(0,0,0,0);if(1===f)return new p.Ff(a.x,a.y,a.width,a.height);if(2===f)return new p.Ff(a.x,a.y,c.width,c.height);if(4===f)return new p.Ff(a,c,d,e);throw"unknown argument type";};p.la=p.rect;p.Fc=function(){return p.rect(0,0,0,0)};p.DH=function(a,c){return a&&c?p.uH(a.Ic,c.Ic)&&p.EU(a.Na,c.Na):!1};p.vq=function(a){return a?0===a.x&&0===a.y&&0===a.width&&0===a.height:!1};
p.r6=function(a,c){return a&&c?!(a.x>=c.x||a.y>=c.y||a.x+a.width<=c.x+c.width||a.y+a.height<=c.y+c.height):!1};p.qm=function(a){return a.x+a.width};p.s6=function(a){return a.x+a.width/2};p.Bk=function(a){return a.x};p.rm=function(a){return a.y+a.height};p.t6=function(a){return a.y+a.height/2};p.Ck=function(a){return a.y};p.xb=function(a,c){return c.x>=p.Bk(a)&&c.x<=p.qm(a)&&c.y>=p.Ck(a)&&c.y<=p.rm(a)};p.wS=function(a,c){return!(p.qm(a)<p.Bk(c)||p.qm(c)<p.Bk(a)||p.rm(a)<p.Ck(c)||p.rm(c)<p.Ck(a))};
p.u6=function(a,c){return!(a.x+a.width<c.x||c.x+c.width<a.x||a.y+a.height<c.y||c.y+c.height<a.y)};p.fw=function(a,c){var d=p.rect(0,0,0,0);d.x=Math.min(a.x,c.x);d.y=Math.min(a.y,c.y);d.width=Math.max(a.x+a.width,c.x+c.width)-d.x;d.height=Math.max(a.y+a.height,c.y+c.height)-d.y;return d};p.vS=function(a,c){var d=p.rect(Math.max(p.Bk(a),p.Bk(c)),Math.max(p.Ck(a),p.Ck(c)),0,0);d.width=Math.min(p.qm(a),p.qm(c))-p.Bk(d);d.height=Math.min(p.rm(a),p.rm(c))-p.Ck(d);return d};b=p.Ff.prototype;
b.CI=function(a){this.Ic.x=a};b.DI=function(a){this.Ic.y=a};b.qr=function(){return this.Na.width};b.iC=function(a){this.Na.width=a};b.lr=function(){return this.Na.height};b.XB=function(a){this.Na.height=a};
Object.defineProperties(p.Ff.prototype,{x:{get:function(){return this.Ic.x},set:function(a){this.CI(a)},enumerable:!0,configurable:!0},y:{get:function(){return this.Ic.y},set:function(a){this.DI(a)},enumerable:!0,configurable:!0},width:{get:function(){return this.qr()},set:function(a){this.iC(a)},enumerable:!0,configurable:!0},height:{get:function(){return this.lr()},set:function(a){this.XB(a)},enumerable:!0,configurable:!0}});var u=u||{};try{u.localStorage=window.localStorage,window.localStorage.setItem("storage",""),window.localStorage.removeItem("storage")}catch(fa){"SECURITY_ERR"!==fa.name&&"QuotaExceededError"!==fa.name||console.log("Warning: localStorage isn't enabled. Please confirm browser cookie or privacy option"),u.localStorage=function(){}}
Object.defineProperties(u,{QZ:{get:function(){var a={canvas:!0};p.sa.qc&&(a.opengl=!0);"ontouchstart"in document.documentElement||window.navigator.msPointerEnabled?a.touches=!0:"onmouseup"in document.documentElement&&(a.mouse=!0);"onkeyup"in document.documentElement&&(a.keyboard=!0);if(window.DeviceMotionEvent||window.DeviceOrientationEvent)a.accelerometer=!0;return a},enumerable:!0,configurable:!0},F5:{get:function(){var a=navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?!0:!1,c=navigator.userAgent.match(/android/i)||
navigator.platform.match(/android/i)?!0:!1,d=navigator.appVersion;-1!=navigator.appVersion.indexOf("Win")?d="Windows":-1!=navigator.appVersion.indexOf("Mac")?d="OS X":-1!=navigator.appVersion.indexOf("X11")?d="UNIX":-1!=navigator.appVersion.indexOf("Linux")?d="Linux":a?d="iOS":c&&(d="Android");return d},enumerable:!0,configurable:!0},platform:{get:function(){return"browser"},enumerable:!0,configurable:!0},version:{get:function(){return p.ss},enumerable:!0,configurable:!0}});u.W_=function(){};
u.v_=function(){};u.U6=function(){};p.ss="Cocos2d-html5-v2.2.2";p.Ms=0;p.TC=p.a(0,0);p.xJ=0.5;p.IV=1;p.BK=1;p.nK=0;p.BD=0;p.KX=0;p.LX=0;p.lX=1;p.kX="-hd";p.QK=1;p.Lj=0;p.FX=0;p.GW=0;p.FW=0;p.kx=1;p.SV=p.ss+"-canvas";p.sv={platform:u.platform};p.u_=function(){for(var a in u)p.log(a+" \x3d "+u[a])};p.rs=1;p.VC=1;p.PF=function(a,c){for(var d=["webgl","experimental-webgl","webkit-3d","moz-webgl"],e=null,f=0;f<d.length;++f){try{e=a.getContext(d[f],c)}catch(g){}if(e)break}return e};p.sa={};p.sa.eV=["baidubrowser","opera","firefox","chrome","safari"];
(function(){p.sa.ua=navigator.userAgent.toLowerCase();p.sa.platform=navigator.platform.toLowerCase();p.sa.vj=-1!=p.sa.ua.indexOf("mobile")||-1!=p.sa.ua.indexOf("android");p.sa.type=function(){var a=p.sa.ua.match(/micromessenger|qqbrowser|mqqbrowser|ucbrowser|360browser|baidubrowser|maxthon|ie|opera|firefox/)||p.sa.ua.match(/chrome|safari/);return a&&0<a.length?(a=a[0],"micromessenger"==a?"wechat":a):"unknow"}();p.sa.mode="ie"==p.sa.type&&document.documentMode;document.ccConfig||(document.ccConfig=
{});p.oA=parseInt(document.ccConfig.renderMode)||0;var a=-1==p.sa.eV.indexOf(p.sa.type);1===p.oA||0===p.oA&&(p.sa.vj||a)?p.sa.qc=!1:(p.sa.qc=null!=window.dY,a=document.createElement("Canvas"),a=p.PF(a,{stencil:!0,preserveDrawingBuffer:!0}),p.sa.qc=null!=a);2!==p.oA||p.sa.qc||(p.Vx=!0);var a=p.sa,c;try{c=new (window.AudioContext||window.webkitAudioContext||window.mozAudioContext)?!0:!1}catch(d){c=!1}a.v9=c;p.sa.C5=function(a){if(this.vj){var c=p.M.d().vb,d=c.width+"px",c=c.height+"px",h=p.Gj("div");
h.style.backgroundColor="#ffffff";h.style.width=d;h.style.height=c;h.style.hV=1E3;h.style.position="absolute";h.style.top="0px";h.style.left="0px";h.id="cocos2d-browser";var k=p.Gj("iframe");k.src=a;k.style.width=d;k.style.height=c;k.setAttribute("frameborder","no");k.setAttribute("scrolling","no");h.appendChild(k);k.onload=function(){var a=document.createElement("img");a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5OERBMEM3OUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5OERBMEM3QUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjk4REEwQzc3RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjk4REEwQzc4RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+NwBuoAAAA/tJREFUeNrEWF0sW3EUb6+28zFhbGadsBaNhazV+kpDYhFWKRGWbHvwFV5IvPiIFw9evElEPEiWSUgsIWoIglhmUomPxj6aKC0zKVJjtPU5o9j5J7dLdbf33jKc5Jfc3v+v5/+755x7/j1lMoiNBRDh4AO88HvO2m+ACbAC+AJQAyz2JCbBFyMBWQA/xv+3DUAXLuivudhcY4BMwCuAB+NqDPmNAnAAOsCZvQgk4BnjeiwEwAbM2YoQA14yrteQEANgDcML7gXjZgw9OAuJkADu3JAIb7Q/hr+GtCwuLs6LDq+iooLvhBAREhFEl11ZWRne0tIiIeNIpVKv4uJi4dTUVApNt0EY3ohILSIiwqO7u1sql8vD8vLyJJ2dnXH2HDabzczPz3/Y1taWzOfz78XExDxSq9Vyd3d3jMK9F2pWr6lEtLa2RmVnZ4tt7w0NDWlTU1OVtkK7urqSQ0NDzzW5hYWFjcTExAGDwXDkyD+VSkZ7e3tsWlpamP19mUwWplQqk9B1UlKST3NzczxE4K49D4mCiDwn24PyPMjIyHjs6urKIVpLSEgInp6eZsM6Kzw8nEvEMZvNBxC1BbI9KCMhkUgUy8vLRpL1QIFA4EcSyZmcnJzpS4mYnZ3dj46O7p2fn193xIGi/CeiFovlFIp5pqGhYZ5qD1qFiQxCjk1OTsqEQmEAFReloL+/X0sVAadFWE2n02VA+O+TcVZXV01QkO8ODw9P6fjEnO2zvb2936g4XC7XG4rWm65P2iL8/f05kN8nBQUFQkqnGMYcGBjIys3N5dLxjY7ydDrE6urqsNLSUqmbmxuH1tOBkMzMTIHRaNxSqVTmS4soKyvjFRUViTw9PV2dTR901WAOh7M/MjKyeeHCbGpqEhcWFkY5Wl9aWtpUKBRaONziSbsii/Xm5OTk7EIdU6/X7zpaW1xc/Al5HxkfH9/e2dk5rqmpeUrE6+vr06ADzpEIlI5kMjFwPhh5PB5DJBKdK7KDg4Oj2tpaVUdHxw/0eWxszIjyj8Jvy4N60FdVVX2Grnt4dkaowYJESAG3yaLR09Oz5uvrexwbGxuAR2erpKTkI6RqxW5DM6RnLT09PQQV5vDwsDYlJWUU+I4EIDMhEQLAA6q0DA4OrqMCg/c/qL6+XtXY2Kgn4sGJuavRaFbFYrFPeXn5FIj6ReFa64KnIpJOpaMK39vbM9XV1X13lF9kc3Nz+xMTEwZo89s03A4ycRE1N/RjF/WPKgyfDRU39Gu7w1qYyNYAtwDB1yhgGPDBfgzU4bMi7xoEjAI6iWZRdGMGH80Cr2goRlP5W8B7qwBHfw1YO6kEH4yC8EnJ5QKbnuDFh17nr4BPRP9P/BFgAHo7ZNgI9EbHAAAAAElFTkSuQmCC";
h.appendChild(a);a.style.hV=1E3;a.style.position="absolute";a.style.bottom="10px";a.style.right="10px";a.onclick=function(){h.remove()}};(a=document.getElementById(document.ccConfig.tag).parentNode)&&a.appendChild(h)}else window.open(a)}})();p.qX=function(){return"undefined"===p.Vx?!1:p.Vx};
p.sb=function(a){var c=this==p?document:this;if(a=a instanceof HTMLElement?a:c.querySelector(a))a.find=a.find||p.sb,a.aB=a.aB||function(a){return this.className.match(RegExp("(\\s|^)"+a+"(\\s|$)"))},a.EF=a.EF||function(a){this.aB(a)||(this.className&&(this.className+=" "),this.className+=a);return this},a.LS=a.LS||function(a){this.aB(a)&&(this.className=this.className.replace(a,""));return this},a.remove=a.remove||function(){this.parentNode&&this.parentNode.removeChild(this);return this},a.Sl=a.Sl||
function(a){a.appendChild(this);return this},a.pS=a.pS||function(a){a.childNodes[0]?a.insertBefore(this,a.childNodes[0]):a.appendChild(this);return this},a.Bm=a.Bm||function(){this.style[p.sb.SU]=p.sb.translate(this.position)+p.sb.rotate(this.rotation)+p.sb.scale(this.scale)+p.sb.Ik(this.Ik);return this},a.position=a.position||{x:0,y:0},a.rotation=a.rotation||0,a.scale=a.scale||{x:1,y:1},a.Ik=a.Ik||{x:0,y:0},a.qC=function(a,c){this.position.x=a;this.position.y=c;this.Bm()},a.rotate=function(a){this.rotation=
a;this.Bm();return this},a.resize=function(a,c){this.scale.x=a;this.scale.y=c;this.Bm();return this},a.rI=function(a,c){this.Ik.x=a;this.Ik.y=c;this.Bm()};return a};switch(p.sa.type){case "firefox":p.sb.Ho="Moz";p.sb.qo=!0;break;case "chrome":case "safari":p.sb.Ho="webkit";p.sb.qo=!0;break;case "opera":p.sb.Ho="O";p.sb.qo=!1;break;case "ie":p.sb.Ho="ms";p.sb.qo=!1;break;default:p.sb.Ho="webkit",p.sb.qo=!0}p.sb.SU=p.sb.Ho+"Transform";
p.sb.translate=p.sb.qo?function(a){return"translate3d("+a.x+"px, "+a.y+"px, 0) "}:function(a){return"translate("+a.x+"px, "+a.y+"px) "};p.sb.rotate=p.sb.qo?function(a){return"rotateZ("+a+"deg) "}:function(a){return"rotate("+a+"deg) "};p.sb.scale=function(a){return"scale("+a.x+", "+a.y+") "};p.sb.Ik=function(a){return"skewX("+-a.x+"deg) skewY("+a.y+"deg)"};p.Gj=function(a){return p.sb(document.createElement(a))};
p.sb.P_=function(a){var c=0,d=0;do c+=a.offsetLeft,d+=a.offsetTop;while(a=a.offsetParent);return{x:c,y:d}};p.v=function(a){var c=a.constructor?new a.constructor:{},d;for(d in a){var e=a[d];c[d]="object"!=typeof e||!e||e instanceof p.H||e instanceof HTMLElement?e:p.v(e)}return c};p.DZ=function(){};p.YC=p.YC||!1;
p.AM=function(a){var c=document.getElementById("logInfoList");if(!c){var d=document.createElement("Div");d.setAttribute("id","logInfoDiv");p.canvas.parentNode.appendChild(d);d.setAttribute("width","200");d.setAttribute("height",p.canvas.height);d.style.zIndex="99999";d.style.position="absolute";d.style.top="0";d.style.left="0";c=document.createElement("ul");d.appendChild(c);c.setAttribute("id","logInfoList");c.style.height=p.canvas.height+"px";c.style.color="#fff";c.style.textAlign="left";c.style.listStyle=
"disc outside";c.style.fontSize="12px";c.style.fontFamily="arial";c.style.padding="0 0 0 20px";c.style.margin="0";c.style.textShadow="0 0 3px #000";c.style.zIndex="99998";c.style.position="absolute";c.style.top="0";c.style.left="0";c.style.overflowY="hidden";var e=document.createElement("Div");d.appendChild(e);e.style.width="200px";e.style.height=p.canvas.height+"px";e.style.opacity="0.1";e.style.background="#fff";e.style.border="1px solid #dfdfdf";e.style.borderRadius="8px"}d=document.createElement("li");
d.innerHTML=a;0==c.childNodes.length?c.appendChild(d):c.insertBefore(d,c.childNodes[0])};p.log=function(a){p.YC?p.AM(a):console.log.apply(console,arguments)};p.MW=function(a){console.log(a)};p.ns=function(a,c){console.assert?console.assert(a,c):a||c&&alert(c)};p.QQ=function(){0==p.ps?(p.log=function(){},p.dH=function(){},p.cH=function(){},p.ns=function(){}):1==p.ps?(p.dH=p.log,p.cH=function(){}):1<p.ps&&(p.dH=p.log,p.cH=p.log)};p.VJ=0;p.UJ=1;p.WJ=2;p.ZJ=3;p.XJ=4;p.fK=5;p.eK=6;p.aK=7;p.$J=8;p.YJ=9;
p.dK=10;p.TJ=11;p.bK=12;p.cK=13;
p.RJ={FZ:8,H9:9,BP:13,shift:16,i_:17,alt:18,pause:19,RZ:20,escape:27,c6:33,b6:34,end:35,home:36,left:37,Y9:38,right:39,p_:40,S3:45,ZV:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,B:65,f:66,pa:67,za:68,w_:69,Fv:70,h:71,Td:72,K3:73,j:74,L4:75,U4:76,f5:77,hH:78,y5:79,a:80,p6:81,i:82,Fh:83,G9:84,Ca:85,W:86,eJ:87,x:88,y:89,z:90,m5:96,n5:97,o5:98,p5:99,q5:100,r5:101,s5:102,t5:103,u5:104,v5:105,"*":106,"+":107,"-":109,numdel:110,"/":111,C_:112,G_:113,H_:114,I_:115,J_:116,K_:117,L_:118,M_:119,N_:120,
D_:121,E_:122,F_:123,x5:144,X6:145,Y6:186,",":186,y_:187,"\x3d":187,";":188,$Z:188,j_:189,".":190,g6:190,U_:191,E3:192,"[":219,D5:219,"]":221,ZZ:221,EZ:220,quote:222,n9:32};p.Kh=-1;p.PI=Math.PI;p.IJ=parseFloat("3.402823466e+38F");p.xK=p.PI/180;p.wJ=180/p.PI;p.PK=4294967295;p.GX=function(a,c,d){if("object"==typeof d&&"undefined"!=typeof d.x&&"undefined"!=typeof d.y){var e=d[a];d[a]=d[c];d[c]=e}else p.log("cc.SWAP is being modified from original macro, please check usage")};p.W4=function(a,c,d){return a+(c-a)*d};p.hX=function(){return 2*(Math.random()-0.5)};p.gX=function(){return Math.random()};p.Ci=function(a){return a*p.xK};p.wx=function(a){return a*p.wJ};
p.Uk=Number.MAX_VALUE-1;p.ae=p.nK?1:770;p.$d=771;p.qx=function(a){a.nc&&(a.nc.Ee(),a.nc.eg())};p.kW=function(){};p.YV=function(){};p.Wg=function(){p.th+=1};p.Ns=1.192092896E-7;p.cd=p.kx?function(){return p.M.d().el}:function(){return 1};p.pK=function(a){var c=p.cd();return p.a(a.x*c,a.y*c)};p.hY=function(a,c){var d=p.cd();c.A=a.x*d;c.I=a.y*d};p.Bx=function(a){var c=p.cd();return p.size(a.width*c,a.height*c)};p.DX=function(a){var c=p.cd();return p.size(a.width/c,a.height/c)};
p.Sx=function(a,c){var d=p.cd();c.va=a.width/d;c.ga=a.height/d};p.bX=function(a){var c=p.cd();return p.a(a.x/c,a.y/c)};p.xt=function(a,c){var d=p.cd();c.A=a.x/d;c.I=a.y/d};p.ep=p.kx?function(a){var c=p.cd();return p.rect(a.x/c,a.y/c,a.width/c,a.height/c)}:function(a){return a};p.Km=p.kx?function(a){var c=p.cd();return p.rect(a.x*c,a.y*c,a.width*c,a.height*c)}:function(a){return a};p.EC=function(){if(p.R6==p.Nj){var a=p.L.getError();a&&p.log("WebGL error "+a)}};p.vX=0;p.uX=1;p.sX=2;p.tX=3;p.wX=4;p.xX=5;p.rX=6;var Uint8Array=Uint8Array||Array;
if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){var ga=document.createElement("script");ga.type="text/vbscript";ga.textContent='\x3c!-- IEBinaryToArray_ByteStr --\x3e\r\nFunction IEBinaryToArray_ByteStr(Binary)\r\n   IEBinaryToArray_ByteStr \x3d CStr(Binary)\r\nEnd Function\r\nFunction IEBinaryToArray_ByteStr_Last(Binary)\r\n   Dim lastIndex\r\n   lastIndex \x3d LenB(Binary)\r\n   if lastIndex mod 2 Then\r\n       IEBinaryToArray_ByteStr_Last \x3d Chr( AscB( MidB( Binary, lastIndex, 1 ) ) )\r\n   Else\r\n       IEBinaryToArray_ByteStr_Last \x3d ""\r\n   End If\r\nEnd Function\r\n';document.body.appendChild(ga);
p.cE=function(a){for(var c={},d=0;256>d;d++)for(var e=0;256>e;e++)c[String.fromCharCode(d+256*e)]=String.fromCharCode(d)+String.fromCharCode(e);d=IEBinaryToArray_ByteStr(a);a=IEBinaryToArray_ByteStr_Last(a);return d.replace(/[\s\S]/g,function(a){return c[a]})+a}}
p.dd=p.qa.extend({Pi:null,pk:null,QL:null,My:null,Jn:null,ih:null,Hp:"",ctor:function(){this.Pi={};this.pk={};this.ih=[];this.ih.push(this.Hp);this.Jn=[];this.Jn.push("")},m6:function(){this.ih=[]},n0:function(a){a=this.Nd(a);return this.Pi.hasOwnProperty(a)?this.Pi[a]:this.xM(a)},cu:function(){return window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP")},TU:function(a){this.Pi.hasOwnProperty(a)&&delete this.Pi[a]},mS:function(a){a=this.Nd(a);var c=this,d=this.cu();d.open("GET",
a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","x-user-defined"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=p.cE(d.responseBody);e&&(c.Pi[a]=c.Qu(e))}else p.Gb.d().km(a);p.Gb.d().Ch()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dx-user-defined"),d.onload=function(){var e=d.responseText;e?c.Pi[a]=c.Qu(e):p.Gb.d().km(a);p.Gb.d().Ch()});d.send(null)},xM:function(a){var c=this.cu();
c.open("GET",a,!1);var d=null;if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){c.setRequestHeader("Accept-Charset","x-user-defined");c.send(null);if(200!=c.status)return null;if(c=p.cE(c.responseBody))d=this.Qu(c),this.Pi[a]=d}else{c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dx-user-defined");c.send(null);if(200!=c.status)return null;d=this.Qu(c.responseText);this.Pi[a]=d}return d},Qu:function(a){if(!a)return null;for(var c=new Uint8Array(a.length),d=0;d<
a.length;d++)c[d]=a.charCodeAt(d)&255;return c},VU:function(a){a=this.Nd(a);this.pk.hasOwnProperty(a)&&delete this.pk[a]},oS:function(a){a=this.Nd(a);var c=this,d=this.cu();d.open("GET",a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","utf-8"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=d.responseText;e&&(c.pk[a]=e)}else p.Gb.d().km(a);p.Gb.d().Ch()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dutf-8"),
d.onload=function(){d.responseText?c.pk[a]=d.responseText:p.Gb.d().km(a);p.Gb.d().Ch()});d.send(null)},zM:function(a){var c=this.cu();c.open("GET",a,!1);var d=null;/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?c.setRequestHeader("Accept-Charset","utf-8"):c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dutf-8");c.send(null);if(200!=c.status)return null;(d=c.responseText)&&(this.pk[a]=d);return d},wG:function(a){a=this.Nd(a);return this.pk.hasOwnProperty(a)?this.pk[a]:
this.zM(a)},U0:function(){},O6:function(){},vH:!0,V_:function(a){return a},Nd:function(a){var c=!1;a=this.aM(a);for(var d,e=0;e<this.ih.length;e++){for(var f=this.ih[e],g=0;g<this.Jn.length;g++)if(d=this.bM(a,this.Jn[g],f)){c=!0;break}if(c)break}return c?d:a},a5:function(a){var c=this.Nd(a);if(0<c.length){var c=p.Kj.d().parse(c),d=parseInt(c.metadata.version);1!=d?p.log("cocos2d: ERROR: Invalid filenameLookup dictionary version: "+d+". Filename: "+a):this.GT(c.filenames)}},GT:function(a){this.My=
a},nG:function(a,c){var d;if(a)return d=c.substring(0,c.lastIndexOf("/")+1),d+a;d=c.substring(0,c.lastIndexOf("."));return d+".png"},J8:function(a){this.Jn=a},G2:function(){return this.Jn},I8:function(a){this.ih=a},E2:function(){return this.ih},x2:function(){return this.QL},D8:function(){},l_:function(a){p.log("dictionaryWithContentsOfFile is deprecated. Use createDictionaryWithContentsOfFile instead");return this.cP(a)},cP:function(a){return p.Kj.d().parse(a)},V2:function(a){return this.wG(a)},xv:function(a){return p.Kj.d().parse(a)},
y3:function(){return""},t8:function(a){p.vH=a},v4:function(){return p.vH},Iz:"",y2:function(){return this.Iz},E8:function(a){this.Iz=a},aM:function(a){var c=null;(c=this.My?this.My[a]:null)&&0!==c.length?p.log("FOUND NEW FILE NAME: "+c):c=a;return c},bM:function(a,c,d){var e;e=this.Iz;a&&0<a.length&&(0===a.indexOf("/")||0===a.indexOf("\\"))?e="":0<e.length&&"\\"!=e[e.length-1]&&"/"!=e[e.length-1]&&(e+="/");var f=a,g="",h=a.lastIndexOf("/");-1!=h&&(g=a.substr(0,h+1),f=a.substr(h+1));a=d;0<a.length&&
a.lastIndexOf("/")!==a.length-1&&(a+="/");a=a+g+c;0<a.length&&a.lastIndexOf("/")!==a.length-1&&(a+="/");a+=f;return e+=a},BY:function(){},qI:function(a){var c=!1;this.ih=[];for(var d=0;d<a.length;d++){var e=a[d],f;this.VG(e)||(f=this.Hp);e=f+e;0<e.length&&"/"!=e[e.length-1]&&(e+="/");c||e!=this.Hp||(c=!0);this.ih.push(e)}c||this.ih.push(this.Hp)},nZ:function(a){var c;this.VG(a)||(c=this.Hp);a=c+a;0<a.length&&"/"!=a[a.length-1]&&(a+="/");this.ih.push(a)},F2:function(){},VG:function(a){return"/"==a[0]}});
p.QB=null;p.dd.d=function(){null==p.QB&&(p.QB=new p.dd);return p.QB};p.gc=function(a,c,d){switch(arguments.length){case 0:this.f=this.h=this.i=0;break;case 1:a&&a instanceof p.gc?(this.i=0|a.i||0,this.h=0|a.h||0,this.f=0|a.f||0):this.f=this.h=this.i=0;break;case 3:this.i=0|a||0;this.h=0|c||0;this.f=0|d||0;break;default:throw"unknown argument type";}};p.k=function(a,c,d){return new p.gc(a,c,d)};p.W3=function(a){a=a||0;var c=new p.gc;c.i=a&255;c.h=a>>8&255;c.f=a>>16&255;return c};p.qv=p.k;p.KZ=function(a,c){return a.i===c.i&&a.h===c.h&&a.f===c.f};
Object.defineProperties(p,{bY:{get:function(){return p.k(255,255,255)}},eY:{get:function(){return p.k(255,255,0)}},FV:{get:function(){return p.k(0,0,255)}},tW:{get:function(){return p.k(0,255,0)}},jX:{get:function(){return p.k(255,0,0)}},JW:{get:function(){return p.k(255,0,255)}},DV:{get:function(){return p.k(0,0,0)}},TW:{get:function(){return p.k(255,127,0)}},sW:{get:function(){return p.k(166,166,166)}}});p.cb=function(){return new p.gc(255,255,255)};p.p$=function(){return new p.gc(255,255,0)};
p.blue=function(){return new p.gc(0,0,255)};p.green=function(){return new p.gc(0,255,0)};p.red=function(){return new p.gc(255,0,0)};p.g5=function(){return new p.gc(255,0,255)};p.GZ=function(){return new p.gc(0,0,0)};p.E5=function(){return new p.gc(255,127,0)};p.po=function(){return new p.gc(166,166,166)};p.tb=function(a,c,d,e){this.i=0|a;this.h=0|c;this.f=0|d;this.B=0|e};p.p=function(a,c,d,e){return new p.tb(a,c,d,e)};p.EA=p.p;p.rd=function(a,c,d,e){this.i=a;this.h=c;this.f=d;this.B=e};
p.rv=function(a,c,d,e){return new p.rd(a,c,d,e)};p.NZ=function(a){return new p.rd(a.i/255,a.h/255,a.f/255,1)};p.OZ=function(a){return new p.rd(a.i/255,a.h/255,a.f/255,a.B/255)};p.LZ=function(a){return new p.tb(0|255*a.i,0|255*a.h,0|255*a.f,0|255*a.B)};p.MZ=function(a,c){return a.i==c.i&&a.h==c.h&&a.f==c.f&&a.B==c.B};p.gb=function(a,c){this.x=a||0;this.y=c||0};p.wt=function(a,c){return new p.gb(a,c)};p.vc=function(a,c,d){this.x=a||0;this.y=c||0;this.z=d||0};
p.i$=function(a,c,d){return new p.vc(a,c,d)};p.cc=function(a,c){this.Ca=a||0;this.W=c||0};p.N9=function(a,c){return new p.cc(a,c)};p.eX=function(a,c,d){a||new p.gb(0,0);this.color=c||new p.tb(0,0,0,0);this.size=d||0};p.Zs=function(a,c,d,e){this.Fa=a||new p.gb(0,0);this.Ba=c||new p.gb(0,0);this.ya=d||new p.gb(0,0);this.Ha=e||new p.gb(0,0)};p.fX=function(a,c,d,e){this.ya=a||new p.vc(0,0,0);this.Ha=c||new p.vc(0,0,0);this.Fa=d||new p.vc(0,0,0);this.Ba=e||new p.vc(0,0,0)};
p.LJ=function(a,c){this.x=a;this.y=c};p.h=function(a,c){return new p.LJ(a,c)};p.Ab=function(a,c,d){this.m=a||new p.gb(0,0);this.D=c||new p.tb(0,0,0,0);this.r=d||new p.cc(0,0)};p.tt=function(){this.m=new p.gb(0,0);this.D=new p.rd(0,0,0,0);this.r=new p.cc(0,0)};p.$b=function(a,c,d){this.m=a||new p.vc(0,0,0);this.D=c||new p.tb(0,0,0,0);this.r=d||new p.cc(0,0)};p.jc=function(a,c,d){this.B=a||new p.Ab;this.f=c||new p.Ab;this.pa=d||new p.Ab};
p.RK=function(){var a=new p.Ab(new p.gb(0,0),new p.tb(0,0,0,255),new p.cc(0,0)),c=new p.Ab(new p.gb(0,0),new p.tb(0,0,0,255),new p.cc(0,0)),d=new p.Ab(new p.gb(0,0),new p.tb(0,0,0,255),new p.cc(0,0)),e=new p.Ab(new p.gb(0,0),new p.tb(0,0,0,255),new p.cc(0,0));this.ya=a||new p.Ab;this.Ha=c||new p.Ab;this.Fa=d||new p.Ab;this.Ba=e||new p.Ab};p.XX=function(){return new p.RK};p.Mb=function(a,c,d,e){this.Fa=a||new p.$b;this.ya=c||new p.$b;this.Ba=d||new p.$b;this.Ha=e||new p.$b};
p.Qx=function(){return new p.Mb(new p.$b(new p.vc(0,0,0),new p.tb(0,0,0,255),new p.cc(0,0)),new p.$b(new p.vc(0,0,0),new p.tb(0,0,0,255),new p.cc(0,0)),new p.$b(new p.vc(0,0,0),new p.tb(0,0,0,255),new p.cc(0,0)),new p.$b(new p.vc(0,0,0),new p.tb(0,0,0,255),new p.cc(0,0)))};
p.Px=function(a){return a?new p.Mb(new p.$b(new p.vc(a.Fa.m.x,a.Fa.m.y,a.Fa.m.z),new p.tb(a.Fa.D.i,a.Fa.D.h,a.Fa.D.f,a.Fa.D.B),new p.cc(a.Fa.r.Ca,a.Fa.r.W)),new p.$b(new p.vc(a.ya.m.x,a.ya.m.y,a.ya.m.z),new p.tb(a.ya.D.i,a.ya.D.h,a.ya.D.f,a.ya.D.B),new p.cc(a.ya.r.Ca,a.ya.r.W)),new p.$b(new p.vc(a.Ba.m.x,a.Ba.m.y,a.Ba.m.z),new p.tb(a.Ba.D.i,a.Ba.D.h,a.Ba.D.f,a.Ba.D.B),new p.cc(a.Ba.r.Ca,a.Ba.r.W)),new p.$b(new p.vc(a.Ha.m.x,a.Ha.m.y,a.Ha.m.z),new p.tb(a.Ha.D.i,a.Ha.D.h,a.Ha.D.f,a.Ha.D.B),new p.cc(a.Ha.r.Ca,
a.Ha.r.W))):p.Qx()};p.ZX=function(a){if(!a)return[];for(var c=[],d=0;d<a.length;d++)c.push(p.Px(a[d]));return c};p.YX=function(a,c,d,e){this.ya=a||new p.tt;this.Ha=c||new p.tt;this.Fa=d||new p.tt;this.Ba=e||new p.tt};p.Qk=function(a,c){this.src=a;this.mb=c};p.GV=function(){return new p.Qk(1,0)};p.tk=function(a){var c=a.i.toString(16),d=a.h.toString(16),e=a.f.toString(16);return"#"+(16>a.i?"0"+c:c)+(16>a.h?"0"+d:d)+(16>a.f?"0"+e:e)};
p.sa.qc&&(p.tb=function(a,c,d,e,f,g){this.ub=f||new ArrayBuffer(p.tb.BYTES_PER_ELEMENT);this.pb=g||0;f=this.ub;g=this.pb;var h=Uint8Array.BYTES_PER_ELEMENT;this.zz=new Uint8Array(f,g,1);this.Ty=new Uint8Array(f,g+h,1);this.ey=new Uint8Array(f,g+2*h,1);this.Xx=new Uint8Array(f,g+3*h,1);this.zz[0]=a||0;this.Ty[0]=c||0;this.ey[0]=d||0;this.Xx[0]=e||0},p.tb.BYTES_PER_ELEMENT=4,Object.defineProperties(p.tb.prototype,{i:{get:function(){return this.zz[0]},set:function(a){this.zz[0]=a},enumerable:!0},h:{get:function(){return this.Ty[0]},
set:function(a){this.Ty[0]=a},enumerable:!0},f:{get:function(){return this.ey[0]},set:function(a){this.ey[0]=a},enumerable:!0},B:{get:function(){return this.Xx[0]},set:function(a){this.Xx[0]=a},enumerable:!0}}),p.rd=function(a,c,d,e,f,g){this.ub=f||new ArrayBuffer(p.rd.BYTES_PER_ELEMENT);this.pb=g||0;f=this.ub;g=this.pb;var h=Float32Array.BYTES_PER_ELEMENT;this.yz=new Float32Array(f,g,1);this.yz[0]=a||0;this.Sy=new Float32Array(f,g+h,1);this.Sy[0]=c||0;this.dy=new Float32Array(f,g+2*h,1);this.dy[0]=
d||0;this.Wx=new Float32Array(f,g+3*h,1);this.Wx[0]=e||0},p.rd.BYTES_PER_ELEMENT=16,Object.defineProperties(p.rd.prototype,{i:{get:function(){return this.yz[0]},set:function(a){this.yz[0]=a},enumerable:!0},h:{get:function(){return this.Sy[0]},set:function(a){this.Sy[0]=a},enumerable:!0},f:{get:function(){return this.dy[0]},set:function(a){this.dy[0]=a},enumerable:!0},B:{get:function(){return this.Wx[0]},set:function(a){this.Wx[0]=a},enumerable:!0}}),p.gb=function(a,c,d,e){this.ub=d||new ArrayBuffer(p.gb.BYTES_PER_ELEMENT);
this.pb=e||0;this.Ol=new Float32Array(this.ub,this.pb,1);this.Pl=new Float32Array(this.ub,this.pb+4,1);this.Ol[0]=a||0;this.Pl[0]=c||0},p.gb.BYTES_PER_ELEMENT=8,Object.defineProperties(p.gb.prototype,{x:{get:function(){return this.Ol[0]},set:function(a){this.Ol[0]=a},enumerable:!0},y:{get:function(){return this.Pl[0]},set:function(a){this.Pl[0]=a},enumerable:!0}}),p.vc=function(a,c,d,e,f){this.ub=e||new ArrayBuffer(p.vc.BYTES_PER_ELEMENT);this.pb=f||0;e=this.ub;f=this.pb;this.Ol=new Float32Array(e,
f,1);this.Ol[0]=a||0;this.Pl=new Float32Array(e,f+Float32Array.BYTES_PER_ELEMENT,1);this.Pl[0]=c||0;this.wA=new Float32Array(e,f+2*Float32Array.BYTES_PER_ELEMENT,1);this.wA[0]=d||0},p.vc.BYTES_PER_ELEMENT=12,Object.defineProperties(p.vc.prototype,{x:{get:function(){return this.Ol[0]},set:function(a){this.Ol[0]=a},enumerable:!0},y:{get:function(){return this.Pl[0]},set:function(a){this.Pl[0]=a},enumerable:!0},z:{get:function(){return this.wA[0]},set:function(a){this.wA[0]=a},enumerable:!0}}),p.cc=
function(a,c,d,e){this.ub=d||new ArrayBuffer(p.cc.BYTES_PER_ELEMENT);this.pb=e||0;this.hA=new Float32Array(this.ub,this.pb,1);this.pA=new Float32Array(this.ub,this.pb+4,1);this.hA[0]=a||0;this.pA[0]=c||0},p.cc.BYTES_PER_ELEMENT=8,Object.defineProperties(p.cc.prototype,{Ca:{get:function(){return this.hA[0]},set:function(a){this.hA[0]=a},enumerable:!0},W:{get:function(){return this.pA[0]},set:function(a){this.pA[0]=a},enumerable:!0}}),p.Zs=function(a,c,d,e,f,g){this.ub=f||new ArrayBuffer(p.Zs.BYTES_PER_ELEMENT);
this.pb=g||0;f=this.ub;g=p.gb.BYTES_PER_ELEMENT;this.Vn=a?new p.gb(a.x,a.y,f,0):new p.gb(0,0,f,0);this.Xn=c?new p.gb(c.x,c.y,f,g):new p.gb(0,0,f,g);this.Wm=d?new p.gb(d.x,d.y,f,2*g):new p.gb(0,0,f,2*g);this.Ym=e?new p.gb(e.x,e.y,f,3*g):new p.gb(0,0,f,3*g)},p.Zs.BYTES_PER_ELEMENT=32,Object.defineProperties(p.Zs.prototype,{Fa:{get:function(){return this.Vn},set:function(a){this.Vn.x=a.x;this.Vn.y=a.y},enumerable:!0},Ba:{get:function(){return this.Xn},set:function(a){this.Xn.x=a.x;this.Xn.y=a.y},enumerable:!0},
ya:{get:function(){return this.Wm},set:function(a){this.Wm.x=a.x;this.Wm.y=a.y},enumerable:!0},Ha:{get:function(){return this.Ym},set:function(a){this.Ym.x=a.x;this.Ym.y=a.y},enumerable:!0}}),p.$b=function(a,c,d,e,f){this.ub=e||new ArrayBuffer(p.$b.BYTES_PER_ELEMENT);this.pb=f||0;e=this.ub;f=this.pb;var g=p.vc.BYTES_PER_ELEMENT;this.Zn=a?new p.vc(a.x,a.y,a.z,e,f):new p.vc(0,0,0,e,f);this.Dp=c?new p.tb(c.i,c.h,c.f,c.B,e,f+g):new p.tb(0,0,0,0,e,f+g);this.El=d?new p.cc(d.Ca,d.W,e,f+g+p.tb.BYTES_PER_ELEMENT):
new p.cc(0,0,e,f+g+p.tb.BYTES_PER_ELEMENT)},p.$b.BYTES_PER_ELEMENT=24,Object.defineProperties(p.$b.prototype,{m:{get:function(){return this.Zn},set:function(a){var c=this.Zn;c.x=a.x;c.y=a.y;c.z=a.z},enumerable:!0},D:{get:function(){return this.Dp},set:function(a){var c=this.Dp;c.i=a.i;c.h=a.h;c.f=a.f;c.B=a.B},enumerable:!0},r:{get:function(){return this.El},set:function(a){this.El.Ca=a.Ca;this.El.W=a.W},enumerable:!0}}),p.Mb=function(a,c,d,e,f,g){this.ub=f||new ArrayBuffer(p.Mb.BYTES_PER_ELEMENT);
this.pb=g||0;f=this.ub;g=this.pb;var h=p.$b.BYTES_PER_ELEMENT;this.Vn=a?new p.$b(a.m,a.D,a.r,f,g):new p.$b(null,null,null,f,g);this.Wm=c?new p.$b(c.m,c.D,c.r,f,g+h):new p.$b(null,null,null,f,g+h);this.Xn=d?new p.$b(d.m,d.D,d.r,f,g+2*h):new p.$b(null,null,null,f,g+2*h);this.Ym=e?new p.$b(e.m,e.D,e.r,f,g+3*h):new p.$b(null,null,null,f,g+3*h)},p.Mb.BYTES_PER_ELEMENT=96,Object.defineProperties(p.Mb.prototype,{Fa:{get:function(){return this.Vn},set:function(a){var c=this.Vn;c.m=a.m;c.D=a.D;c.r=a.r},enumerable:!0},
ya:{get:function(){return this.Wm},set:function(a){var c=this.Wm;c.m=a.m;c.D=a.D;c.r=a.r},enumerable:!0},Ba:{get:function(){return this.Xn},set:function(a){var c=this.Xn;c.m=a.m;c.D=a.D;c.r=a.r},enumerable:!0},Ha:{get:function(){return this.Ym},set:function(a){var c=this.Ym;c.m=a.m;c.D=a.D;c.r=a.r},enumerable:!0},zA:{get:function(){return this.ub},enumerable:!0}}),p.Qx=function(){return new p.Mb},p.Px=function(a){if(!a)return p.Qx();var c=a.Fa,d=a.ya,e=a.Ba;a=a.Ha;return{Fa:{m:{x:c.m.x,y:c.m.y,z:c.m.z},
D:{i:c.D.i,h:c.D.h,f:c.D.f,B:c.D.B},r:{Ca:c.r.Ca,W:c.r.W}},ya:{m:{x:d.m.x,y:d.m.y,z:d.m.z},D:{i:d.D.i,h:d.D.h,f:d.D.f,B:d.D.B},r:{Ca:d.r.Ca,W:d.r.W}},Ba:{m:{x:e.m.x,y:e.m.y,z:e.m.z},D:{i:e.D.i,h:e.D.h,f:e.D.f,B:e.D.B},r:{Ca:e.r.Ca,W:e.r.W}},Ha:{m:{x:a.m.x,y:a.m.y,z:a.m.z},D:{i:a.D.i,h:a.D.h,f:a.D.f,B:a.D.B},r:{Ca:a.r.Ca,W:a.r.W}}}},p.Ab=function(a,c,d,e,f){this.ub=e||new ArrayBuffer(p.Ab.BYTES_PER_ELEMENT);this.pb=f||0;e=this.ub;f=this.pb;var g=p.gb.BYTES_PER_ELEMENT;this.Zn=a?new p.gb(a.x,a.y,e,
f):new p.gb(0,0,e,f);this.Dp=c?new p.tb(c.i,c.h,c.f,c.B,e,f+g):new p.tb(0,0,0,0,e,f+g);this.El=d?new p.cc(d.Ca,d.W,e,f+g+p.tb.BYTES_PER_ELEMENT):new p.cc(0,0,e,f+g+p.tb.BYTES_PER_ELEMENT)},p.Ab.BYTES_PER_ELEMENT=20,Object.defineProperties(p.Ab.prototype,{m:{get:function(){return this.Zn},set:function(a){this.Zn.x=a.x;this.Zn.y=a.y},enumerable:!0},D:{get:function(){return this.Dp},set:function(a){var c=this.Dp;c.i=a.i;c.h=a.h;c.f=a.f;c.B=a.B},enumerable:!0},r:{get:function(){return this.El},set:function(a){this.El.Ca=
a.Ca;this.El.W=a.W},enumerable:!0}}),p.jc=function(a,c,d,e,f){this.ub=e||new ArrayBuffer(p.jc.BYTES_PER_ELEMENT);this.pb=f||0;e=this.ub;f=this.pb;var g=p.Ab.BYTES_PER_ELEMENT;this.PD=a?new p.Ab(a.m,a.D,a.r,e,f):new p.Ab(null,null,null,e,f);this.UD=c?new p.Ab(c.m,c.D,c.r,e,f+g):new p.Ab(null,null,null,e,f+g);this.ZD=d?new p.Ab(d.m,d.D,d.r,e,f+2*g):new p.Ab(null,null,null,e,f+2*g)},p.jc.BYTES_PER_ELEMENT=60,Object.defineProperties(p.jc.prototype,{B:{get:function(){return this.PD},set:function(a){var c=
this.PD;c.m=a.m;c.D=a.D;c.r=a.r},enumerable:!0},f:{get:function(){return this.UD},set:function(a){var c=this.UD;c.m=a.m;c.D=a.D;c.r=a.r},enumerable:!0},pa:{get:function(){return this.ZD},set:function(a){var c=this.ZD;c.m=a.m;c.D=a.D;c.r=a.r},enumerable:!0}}));p.b_=function(a){a=a.substr(1).split("");return new p.gc(parseInt("0x"+a[0]+a[1]),parseInt("0x"+a[2]+a[3]),parseInt("0x"+a[4]+a[5]))};p.lp=0;p.Hi=1;p.IK=2;p.qp=0;p.vt=1;p.pp=2;
p.gY=p.qa.extend({An:null,Zq:null,Tx:0,ctor:function(){this.An={};this.Zq={};this.Tx=2<<(0|10*Math.random())},YK:function(){this.Tx++;return"key_"+this.Tx},XT:function(a,c){if(null!=c){var d=this.YK();this.An[d]=c;this.Zq[d]=a}},GR:function(a){if(null==a)return null;var c=this.An,d;for(d in c)if(c[d]===a)return this.Zq[d];return null},h$:function(a){return this.GR(a)},PS:function(a){if(null!=a){var c=this.An,d;for(d in c)if(c[d]===a){delete this.Zq[d];delete c[d];break}}},H6:function(a){if(null!=
a)for(var c=0;c<a.length;c++)this.PS(a[c])},vO:function(){var a=[],c=this.An,d;for(d in c)a.push(c[d]);return a},A6:function(){this.An={};this.Zq={}},count:function(){return this.vO().length}});p.KJ=function(){this.hr="Arial";this.fontSize=12;this.iG=p.Hi;this.jG=p.qp;this.kG=p.cb();this.gr=p.size(0,0);this.nC=!1;this.strokeColor=p.cb();this.NI=1;this.FI=!1;this.GI=p.size(0,0);this.shadowBlur=0;this.HI=1};p.fp={ex:0,rx:1,SHOW_ALL:2,fx:3,gx:4,WX:5};p.st=[];p.mp={};
p.fa=p.qa.extend({Bb:null,he:null,mn:null,gk:null,se:null,sA:null,rA:"",Gz:null,ia:1,JE:1,oa:1,KE:1,dq:0,FE:5,fh:null,QE:null,UE:null,TE:null,RE:null,SE:null,gq:!1,sY:!1,bZ:null,pE:null,qE:null,eL:null,UY:!1,ty:null,MY:null,Si:null,Oy:1,Bt:!1,uE:!1,ctor:function(){this.Si=p.oj.parentNode===document.body?document.documentElement:p.oj.parentNode;this.he=p.size(0,0);this.bz();var a=p.canvas.width,c=p.canvas.height;this.mn=p.size(a,c);this.gk=p.size(a,c);this.se=p.rect(0,0,a,c);this.sA=p.rect(0,0,a,c);
this.Bb=p.M.d().qe;this.ty={left:0,top:0};this.rA="Cocos2dHTML5";p.ID.s(this.mn);this.QE=new p.Lm(p.hg.ts,p.ce.ex);this.UE=new p.Lm(p.hg.tK,p.ce.SHOW_ALL);this.TE=new p.Lm(p.hg.ts,p.ce.rx);this.RE=new p.Lm(p.hg.ts,p.ce.fx);this.SE=new p.Lm(p.hg.ts,p.ce.gx);this.pE=p.canvas;this.qE=p.L},Hz:function(){var a=this.gk.width,c=this.gk.height;this.Gz&&(this.bz(),this.Gz.call());0<a&&this.ZH(a,c,this.fh)},T6:function(a){a?this.Bt||(this.Bt=!0,a=this.Hz.bind(this),window.addEventListener("resize",a,!1)):this.Bt&&
(this.Bt=!0,a=this.Hz.bind(this),window.removeEventListener("resize",a,!1))},C8:function(a){if("function"==typeof a||null==a)this.Gz=a},bz:function(){var a=this.he;a.width=this.Si.clientWidth;a.height=this.Si.clientHeight},pY:function(){var a=this.gk.width,c=this.gk.height;0<a&&this.ZH(a,c,this.fh)},LN:function(){if(this.uE){var a={"user-scalable":"no","maximum-scale":"1.0","initial-scale":"1.0"},c=document.getElementsByName("viewport"),d;0==c.length?(c=document.createElement("meta"),c.name="viewport",
c.content="",document.head.appendChild(c)):c=c[0];d=c.content;for(var e in a)RegExp(e).test(d)||(d+=(""==d?"":",")+e+"\x3d"+a[e]);c.content=d}},EN:function(){var a=p.cd();this.oa=this.ia=a},gN:function(){this.ia=this.JE;this.oa=this.KE},dM:function(){var a,c=this.dq;for(a=0;a<this.FE;a++){if(!(c&1))return this.dq|=1<<a,a;c>>=1}return-1},cN:function(a){0>a||a>=this.FE||(a=~(1<<a),this.dq&=a)},qY:function(){},aR:function(){this.gq=!0},sZ:function(a){this.uE=a},end:function(){},t4:function(){return null!=
this.pE&&null!=this.qE},G7:function(a){this.Oy=a;p.M.d().sw(p.M.d().kk)},B9:function(){},K7:function(){},r7:function(a,c){this.ty={left:a,top:c}},B0:function(){return this.ty},Hv:function(){return p.size(this.he.width,this.he.height)},F7:function(a,c){this.he.width=a;this.he.height=c;this.Si.style.width=a+"px";this.Si.style.height=c+"px";this.Hz();p.M.d().sw(p.M.d().kk)},TZ:function(){},b7:function(a){this.eL=a},pr:function(){return this.sA.Na},DG:function(){return this.sA.Ic},PZ:function(){return!0},
w2:function(){return this.fh},hU:function(a){if(a instanceof p.Lm)this.fh=a;else switch(a){case p.fp.ex:this.fh=this.QE;break;case p.fp.SHOW_ALL:this.fh=this.UE;break;case p.fp.rx:this.fh=this.TE;break;case p.fp.fx:this.fh=this.RE;break;case p.fp.gx:this.fh=this.SE}},ZH:function(a,c,d){if(isNaN(a)||0==a||isNaN(c)||0==c)p.log("Resolution not valid");else if(this.hU(d),policy=this.fh){policy.nm(this);var e=this.he.width,f=this.he.height;p.sa.vj&&this.LN(this.he.width,this.he.height);this.bz();if(d!=
this.fh||a!=this.gk.width||c!=this.gk.height||e!=this.he.width||f!=this.he.height)this.mn=p.size(a,c),this.gk=p.size(a,c),a=policy.apply(this,this.mn),a.scale&&2==a.scale.length&&(this.ia=a.scale[0],this.oa=a.scale[1]),a.viewport instanceof p.Ff&&(this.se=a.viewport),a=p.M.d(),a.vb=this.lo(),p.ad==p.Nj&&(a.kn(),a.eI()),this.JE=this.ia,this.KE=this.oa,p.Ub&&p.Ub.eN(),p.ID.s(this.pr()),policy.mm(this)}else p.log("should set resolutionPolicy")},lo:function(){return p.size(this.mn.width,this.mn.height)},
Z8:function(a){this.Bb=a},tU:function(a,c,d,e){var f=this.Oy,g=this.ia,h=this.oa;p.L.viewport(a*g*f+this.se.x*f,c*h*f+this.se.y*f,d*g*f,e*h*f)},aC:function(a,c,d,e){var f=this.Oy,g=this.ia,h=this.oa;p.L.scissor(a*g*f+this.se.x*f,c*h*f+this.se.y*f,d*g*f,e*h*f)},mR:function(){var a=p.L;return a.isEnabled(a.SCISSOR_TEST)},jQ:function(){var a=p.L,c=this.ia,d=this.oa,a=a.getParameter(a.SCISSOR_BOX);return p.rect((a[0]-this.se.x)/c,(a[1]-this.se.y)/d,a[2]/c,a[3]/d)},i9:function(a){null!=a&&0<a.length&&
(this.rA=a)},t3:function(){return this.rA},u3:function(){return this.se},hQ:function(){return this.ia},iQ:function(){return this.oa},pj:function(a,c,d){return{x:a-d.left,y:d.top+d.height-c}},BQ:function(a,c,d,e){for(var f=[],g=this.se,h=this.ia,k=this.oa,l=0;l<a;++l){var m=c[l],n=d[l],r=e[l],q=0;if(null==p.mp[m])if(q=this.dM(),-1==q)p.log("The touches is more than MAX_TOUCHES, nUnusedIndex \x3d "+q);else{var t=p.st[q]=new p.Ge;t.fC(q,(n-g.x)/h,(r-g.y)/k);p.mp[m]=0|q;f.push(t)}}0!=f.length&&this.Bb.Kw(f,
null)},EQ:function(a,c,d,e){for(var f=[],g=this.ia,h=this.oa,k=this.se.x,l=this.se.y,m=0;m<a;++m){var n=d[m],r=e[m],q=p.mp[c[m]];if(null!=q){var t=p.st[q];if(t)t.fC(q,(n-k)/g,(r-l)/h),f.push(t);else return}}0!=f.length&&this.Bb.Lw(f,null)},DQ:function(a,c,d,e){var f=[];this.vG(f,a,c,d,e);this.Bb.$r(f,null)},CQ:function(a,c,d,e){var f=[];this.vG(f,a,c,d,e);this.Bb.pC(f,null)},vG:function(a,c,d,e,f){for(var g=this.ia,h=this.oa,k=this.se,l=0;l<c;++l){var m=d[l],n=e[l],r=f[l],q=p.mp[m];if(null!=q){var t=
p.st[q];if(t)t.fC(q,(n-k.x)/g,(r-k.y)/h),a.push(t),p.st[q]=null,this.cN(q),delete p.mp[m];else break}}},Kw:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.ff||h,d[f]=g.X.x,e[f]=g.X.y,++f;this.BQ(f,c,d,e)},Lw:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.ff||h,d[f]=g.X.x,e[f]=g.X.y,++f;this.EQ(f,c,d,e)},$r:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.ff||h,d[f]=g.X.x,e[f]=g.X.y,++f;this.DQ(f,c,d,e)},pC:function(a){for(var c=
[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.ff||h,d[f]=g.X.x,e[f]=g.X.y,++f;this.CQ(f,c,d,e)}});p.fa.d=function(){this.ob||(this.ob=new p.fa,this.ob.aR());return this.ob};
p.hg=p.qa.extend({nm:function(){},apply:function(){},mm:function(){},aF:function(a,c,d){p.sa.vj&&a==document.documentElement&&p.Dx.d().CO(p.canvas);a=p.canvas;var e=p.oj;a.width=c;a.height=d;e.style.width=c+"px";e.style.height=d+"px";c=document.body;var f;c&&(f=c.style)&&(f.paddingTop=f.paddingTop||"0px",f.paddingRight=f.paddingRight||"0px",f.paddingBottom=f.paddingBottom||"0px",f.paddingLeft=f.paddingLeft||"0px",f.borderTop=f.borderTop||"0px",f.borderRight=f.borderRight||"0px",f.borderBottom=f.borderBottom||
"0px",f.borderLeft=f.borderLeft||"0px",f.marginTop=f.marginTop||"0px",f.marginRight=f.marginRight||"0px",f.marginBottom=f.marginBottom||"0px",f.marginLeft=f.marginLeft||"0px")},jE:function(){document.body.insertBefore(p.oj,document.body.firstChild);var a=document.body.style;a.width=window.innerWidth+"px";a.height=window.innerHeight+"px";a.overflow="hidden";a=p.oj.style;a.position="fixed";a.left=a.top="0px";document.body.scrollTop=0}});
p.ce=p.qa.extend({Jz:{scale:[1,1],viewport:null},Ap:function(a,c,d,e,f,g){a=p.rect(Math.round((a-d)/2),Math.round((c-e)/2),d,e);p.ad==p.Cf&&p.L.translate(a.x,a.y+e);this.Jz.scale=[f,g];this.Jz.viewport=a;return this.Jz},nm:function(){},apply:function(){return{scale:[1,1]}},mm:function(){}});
(function(){var a=p.hg.extend({apply:function(a){this.aF(a.Si,a.he.width,a.he.height)}}),c=p.hg.extend({apply:function(a,c){var d=a.he.width,e=a.he.height,f=p.oj.style,n=c.width,r=c.height,q=d/n,t=e/r,y,A;q<t?(y=d,A=r*q):(y=n*t,A=e);n=Math.floor((d-y)/2);A=Math.floor((e-A)/2);this.aF(a.Si,d-2*n,e-2*A);f.marginLeft=n+"px";f.marginRight=n+"px";f.marginTop=A+"px";f.marginBottom=A+"px"}});a.extend({nm:function(a){a.Si=document.documentElement},apply:function(a){this._super(a);this.jE()}});c.extend({nm:function(a){a.Si=
document.documentElement},apply:function(a,c){this._super(a,c);this.jE()}});var d=p.hg.extend({});p.hg.ts=new a;p.hg.tK=new c;p.hg.YW=new d;var a=p.ce.extend({apply:function(a,c){var d=p.canvas.width,e=p.canvas.height;return this.Ap(d,e,d,e,d/c.width,e/c.height)}}),c=p.ce.extend({apply:function(a,c){var d=p.canvas.width,e=p.canvas.height,f=c.width,n=c.height,r=d/f,q=e/n,t,y,A;r<q?(t=r,y=d,A=n*t):(t=q,y=f*t,A=e);return this.Ap(d,e,y,A,t,t)}}),d=p.ce.extend({apply:function(a,c){var d=p.canvas.width,
e=p.canvas.height,f=c.width,n=c.height,r=d/f,q=e/n,t,y,A;r<q?(t=q,y=f*t,A=e):(t=r,y=d,A=n*t);return this.Ap(d,e,y,A,t,t)}}),e=p.ce.extend({apply:function(a,c){var d=p.canvas.width,e=p.canvas.height,f=e/c.height;return this.Ap(d,e,d,e,f,f)},mm:function(a){p.M.d().vb=a.pr()}}),f=p.ce.extend({apply:function(a,c){var d=p.canvas.width,e=p.canvas.height,f=d/c.width;return this.Ap(d,e,d,e,f,f)},mm:function(a){p.M.d().vb=a.pr()}});p.ce.ex=new a;p.ce.SHOW_ALL=new c;p.ce.rx=new d;p.ce.fx=new e;p.ce.gx=new f})();
p.Lm=p.qa.extend({Pt:null,Qt:null,ctor:function(a,c){this.uT(a);this.xT(c)},nm:function(a){this.Pt.nm(a);this.Qt.nm(a)},apply:function(a,c){this.Pt.apply(a,c);return this.Qt.apply(a,c)},mm:function(a){this.Pt.mm(a);this.Qt.mm(a)},uT:function(a){a instanceof p.hg&&(this.Pt=a)},xT:function(a){a instanceof p.ce&&(this.Qt=a)}});p.Dx=p.qa.extend({Jq:!1,Sj:"",tz:null,uz:null,gA:"",s:function(){var a=["webkit","moz","o","ms","khtml"],c=document.body;if(c.requestFullScreen)this.Jq=!0;else for(var d=0,e=a.length,f;d<e;d++)if(f=a[d],c[f+"RequestFullScreen"]){this.Jq=!0;this.Sj=f;break}this.gA="ontouchstart"in window?"touchstart":"mousedown"},fullScreen:function(){var a=document;if(this.Jq)switch(this.Sj){case "":return a.fullScreen;case "webkit":return a.webkitIsFullScreen;default:return a[this.Sj+"FullScreen"]}return!1},LH:function(a,
c){if(this.Jq&&!this.fullScreen()){if(c){var d=this.Sj+"fullscreenchange";this.tz&&this.uz&&this.tz.removeEventListener(d,this.uz);this.tz=a;this.uz=c;a.addEventListener(d,c,!1)}return""===this.Sj?a.requestFullScreen():a[this.Sj+"RequestFullScreen"]()}},A_:function(){if(this.Jq&&this.fullScreen())return""===this.Sj?document.body.cancelFullScreen():document.body[this.Sj+"CancelFullScreen"]()},CO:function(a,c){function d(){e.LH(a,c);a.removeEventListener(e.gA,d)}var e=this;this.LH(a,c);a.addEventListener(this.gA,
d)}});p.Dx.d=function(){if(!this.ob){var a=new p.Dx;a.s();this.ob=a}return this.ob};p.ID={lh:p.Uc(),Ag:p.Uc(),kh:p.Uc(),Rh:p.Uc(),Sh:p.Uc(),Qh:p.Uc(),ly:p.Uc(),bi:p.Uc(),gh:p.Uc(),va:0,ga:0,s:function(a){this.va=a.width;this.ga=a.height;a=this.va;var c=this.ga;this.lh.I=c;this.Ag.A=a;this.Ag.I=c;this.kh.A=a/2;this.kh.I=c;this.Sh.A=a;this.Qh.A=a/2;this.ly.A=a/2;this.ly.I=c/2;this.bi.I=c/2;this.gh.A=a;this.gh.I=c/2},qr:function(){return this.va},lr:function(){return this.ga},S9:function(){return this.lh},T9:function(){return this.Ag},top:function(){return this.kh},HZ:function(){return this.Rh},
IZ:function(){return this.Sh},bottom:function(){return this.Qh},SZ:function(){return this.ly},left:function(){return this.bi},right:function(){return this.gh}};p.Ew=function(a){var c;if(a&&0!=a.length){var d=a.indexOf("{"),e=a.indexOf("}");-1==d||-1==e||d>e||(a=a.substr(d+1,e-d-1),0!=a.length&&(d=a.indexOf("{"),e=a.indexOf("}"),-1==d&&-1==e&&(c=a.split(","))))}return c};
p.rD=function(a){var c=p.Fc();if(a){var d=a.indexOf("{")+1,e=a.lastIndexOf("}",a.length);-1!=d&&-1!=e&&(a=a.substring(d,e),d=a.indexOf("}"),-1!=d&&(d=a.indexOf(",",d),-1!=d&&(c=a.substr(d+1,a.length-d),a=p.Ew(a.substr(0,d)),c=p.Ew(c),c=p.rect(parseFloat(a[0]),parseFloat(a[1]),parseFloat(c[0]),parseFloat(c[1])))))}return c};p.qD=function(a){var c=p.Ei();try{if(""==a)return c;var d=p.Ew(a),c=p.a(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};
p.Ex=function(a){var c=p.Vk();try{if(""==a)return c;var d=p.Ew(a),c=p.size(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};p.tV=function(a,c,d,e,f,g){this.B=a;this.f=c;this.pa=d;this.za=e;this.Ka=f;this.La=g};p.iY=function(a,c,d,e,f,g){return{B:a,f:c,pa:d,za:e,Ka:f,La:g}};p.wV=function(a,c,d,e,f,g){return{B:a,f:c,pa:d,za:e,Ka:f,La:g}};p.jY=function(a,c){return{x:c.B*a.x+c.pa*a.y+c.Ka,y:c.f*a.x+c.za*a.y+c.La}};p.pD=function(a,c){return{x:c.B*a.x+c.pa*a.y+c.Ka,y:c.f*a.x+c.za*a.y+c.La}};p.Pj=function(a,c,d){return{x:d.B*a+d.pa*c+d.Ka,y:d.f*a+d.za*c+d.La}};
p.kY=function(a,c){return{width:c.B*a.width+c.pa*a.height,height:c.f*a.width+c.za*a.height}};p.HX=function(a,c){return{width:c.B*a.width+c.pa*a.height,height:c.f*a.width+c.za*a.height}};p.xV=function(){return{B:1,f:0,pa:0,za:1,Ka:0,La:0}};p.vV=function(){return{B:1,f:0,pa:0,za:1,Ka:0,La:0}};
p.kg=function(a,c){var d=p.Ck(a),e=p.Bk(a),f=p.qm(a),g=p.rm(a),h=p.Pj(e,d,c),d=p.Pj(f,d,c),e=p.Pj(e,g,c),k=p.Pj(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);return p.rect(f,l,g-f,h-l)};
p.Mh=function(a,c){var d=p.Ck(a),e=p.Bk(a),f=p.qm(a),g=p.rm(a),h=p.Pj(e,d,c),d=p.Pj(f,d,c),e=p.Pj(e,g,c),k=p.Pj(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);a.x=f;a.y=l;a.width=g-f;a.height=h-l;return a};p.Qw=function(a,c,d){return{B:a.B,f:a.f,pa:a.pa,za:a.za,Ka:a.Ka+a.B*c+a.pa*d,La:a.La+a.f*c+a.za*d}};p.yV=function(a,c,d){return{B:a.B*c,f:a.f*c,pa:a.pa*d,za:a.za*d,Ka:a.Ka,La:a.La}};
p.kJ=function(a){var c=Math.sin(1.57079633),d=Math.cos(1.57079633);return{B:a.B*d+a.pa*c,f:a.f*d+a.za*c,pa:a.pa*d-a.B*c,za:a.za*d-a.f*c,Ka:a.Ka,La:a.La}};p.Mk=function(a,c){return{B:a.B*c.B+a.f*c.pa,f:a.B*c.f+a.f*c.za,pa:a.pa*c.B+a.za*c.pa,za:a.pa*c.f+a.za*c.za,Ka:a.Ka*c.B+a.La*c.pa+c.Ka,La:a.Ka*c.f+a.La*c.za+c.La}};p.uV=function(a,c){return a.B===c.B&&a.f===c.f&&a.pa===c.pa&&a.za===c.za&&a.Ka===c.Ka&&a.La===c.La};
p.AC=function(a){var c=1/(a.B*a.za-a.f*a.pa);return{B:c*a.za,f:-c*a.f,pa:-c*a.pa,za:c*a.B,Ka:c*(a.pa*a.La-a.za*a.Ka),La:c*(a.f*a.Ka-a.B*a.La)}};p.fD=parseFloat("1.192092896e-07F");p.BB=function(a){return p.a(-a.x,-a.y)};p.uf=function(a,c){return p.a(a.x+c.x,a.y+c.y)};p.$c=function(a,c){return p.a(a.x-c.x,a.y-c.y)};p.wi=function(a,c){return p.a(a.x*c,a.y*c)};p.AB=function(a,c){return p.wi(p.uf(a,c),0.5)};p.Go=function(a,c){return a.x*c.x+a.y*c.y};p.L5=function(a,c){return a.x*c.y-a.y*c.x};p.Zv=function(a){return p.a(-a.y,a.x)};p.T5=function(a){return p.a(a.y,-a.x)};p.S5=function(a,c){return p.wi(c,p.Go(a,c)/p.Go(c,c))};
p.U5=function(a,c){return p.a(a.x*c.x-a.y*c.y,a.x*c.y+a.y*c.x)};p.Z5=function(a,c){return p.a(a.x*c.x+a.y*c.y,a.y*c.x-a.x*c.y)};p.qH=function(a){return p.Go(a,a)};p.M5=function(a,c){return p.qH(p.$c(a,c))};p.yB=function(a){return Math.sqrt(p.qH(a))};p.xB=function(a,c){return p.yB(p.$c(a,c))};p.Qg=function(a){return p.wi(a,1/p.yB(a))};p.N5=function(a){return p.a(Math.cos(a),Math.sin(a))};p.Y5=function(a){return Math.atan2(a.y,a.x)};p.cr=function(a,c,d){if(c>d){var e=c;c=d;d=e}return a<c?c:a<d?a:d};
p.pH=function(a){var c=p.a(0,0),d=p.a(1,1);return p.a(p.cr(a.x,c.x,d.x),p.cr(a.y,c.y,d.y))};p.YR=function(){var a=p.M.d().vb;return p.a(a.width,a.height)};p.K5=function(a,c){return p.a(c(a.x),c(a.y))};p.rH=function(a,c,d){return p.uf(p.wi(a,1-d),p.wi(c,d))};p.O5=function(a,c,d){return a.x-d<=c.x&&c.x<=a.x+d&&a.y-d<=c.y&&c.y<=a.y+d?!0:!1};p.J5=function(a,c){return p.a(a.x*c.x,a.y*c.y)};p.I5=function(a,c){var d=p.Qg(a),e=p.Qg(c),d=Math.atan2(d.x*e.y-d.y*e.x,p.Go(d,e));return Math.abs(d)<p.fD?0:d};
p.H5=function(a,c){var d=Math.acos(p.Go(p.Qg(a),p.Qg(c)));return Math.abs(d)<p.fD?0:d};p.$R=function(a,c,d){a=p.$c(a,c);var e=Math.cos(d);d=Math.sin(d);var f=a.x;a.x=f*e-a.y*d+c.x;a.y=f*d+a.y*e+c.y;return a};p.zB=function(a,c,d,e,f){if(a.x==c.x&&a.y==c.y||d.x==e.x&&d.y==e.y)return!1;var g=c.x-a.x;c=c.y-a.y;var h=e.x-d.x;e=e.y-d.y;var k=a.x-d.x;a=a.y-d.y;d=e*g-h*c;f.x=h*a-e*k;f.y=g*a-c*k;if(0==d)return 0==f.x||0==f.y?!0:!1;f.x/=d;f.y/=d;return!0};
p.W5=function(a,c,d,e){var f=p.a(0,0);return p.zB(a,c,d,e,f)&&0<=f.x&&1>=f.x&&0<=f.y&&1>=f.y?!0:!1};p.Q5=function(a,c,d,e){var f=p.a(0,0);return p.zB(a,c,d,e,f)?(d=p.a(0,0),d.x=a.x+f.x*(c.x-a.x),d.y=a.y+f.x*(c.y-a.y),d):p.Ei()};p.V5=function(a,c){return null!=a&&null!=c?a.x==c.x&&a.y==c.y:!1};p.a6=function(a){a.x=0;a.y=0};p.P5=function(a,c){a.x=c.x;a.y=c.y};p.ZR=function(a,c){a.x*=c;a.y*=c};p.X5=function(a,c){a.x-=c.x;a.y-=c.y};p.G5=function(a,c){a.x+=c.x;a.y+=c.y};
p.R5=function(a){p.ZR(a,1/Math.sqrt(a.x*a.x+a.y*a.y))};p.j$=function(a,c,d,e,f){f+=e;if(!(1>=f)){c*=0.5;for(var g,h=f-1,k=e;k<f;k++){g=2*k;var l=p.a(a[2*k],a[2*k+1]),m;if(0===k)m=p.Zv(p.Qg(p.$c(l,p.a(a[2*(k+1)],a[2*(k+1)+1]))));else if(k===h)m=p.Zv(p.Qg(p.$c(p.a(a[2*(k-1)],a[2*(k-1)+1]),l)));else{m=p.a(a[2*(k-1)],a[2*(k-1)+1]);var n=p.a(a[2*(k+1)],a[2*(k+1)+1]),r=p.Qg(p.$c(n,l)),q=p.Qg(p.$c(m,l)),t=Math.acos(p.Go(r,q));m=t<p.Ci(70)?p.Zv(p.Qg(p.AB(r,q))):t<p.Ci(170)?p.Qg(p.AB(r,q)):p.Zv(p.Qg(p.$c(n,m)))}m=p.wi(m,c);d[2*g]=l.x+m.x;d[2*g+1]=l.y+m.y;d[2*
(g+1)]=l.x-m.x;d[2*(g+1)+1]=l.y-m.y}for(k=0==e?0:e-1;k<h;k++)g=2*k,a=g+2,c=p.wt(d[2*g],d[2*g+1]),f=p.wt(d[2*(g+1)],d[2*(g+1)+1]),g=p.wt(d[2*a],d[2*a]),e=p.wt(d[2*(a+1)],d[2*(a+1)+1]),c=!p.bV(c.x,c.y,e.x,e.y,f.x,f.y,g.x,g.y),!c.yr&&(0>c.value||1<c.value)&&(c.yr=!0),c.yr&&(d[2*a]=e.x,d[2*a+1]=e.y,d[2*(a+1)]=g.x,d[2*(a+1)+1]=g.y)}};
p.bV=function(a,c,d,e,f,g,h,k){if(a==d&&c==e||f==h&&g==k)return{yr:!1,value:0};d-=a;e-=c;f-=a;g-=c;h-=a;k-=c;a=Math.sqrt(d*d+e*e);d/=a;e/=a;c=f*d+g*e;g=g*d-f*e;f=c;c=h*d+k*e;k=k*d-h*e;h=c;return g==k?{yr:!1,value:0}:{yr:!0,value:(h+(f-h)*k/(k-g))/a}};p.HV=function(a,c){c[2]=c[3]=c[6]=c[7]=c[8]=c[9]=c[11]=c[14]=0;c[10]=c[15]=1;c[0]=a.B;c[4]=a.pa;c[12]=a.Ka;c[1]=a.f;c[5]=a.za;c[13]=a.La};p.rW=function(a,c){c.B=a[0];c.pa=a[4];c.Ka=a[12];c.f=a[1];c.za=a[5];c.La=a[13]};p.dD=-1;p.RW=null;p.SW=null;p.dT=1;
p.H=p.qa.extend({Pa:0,lv:0,Rf:0,hh:0,ia:1,oa:1,q:null,Ed:0,Fd:0,n:null,ta:!0,He:null,fd:null,ha:null,le:!1,Y:null,bk:!1,Mc:p.dD,xF:null,nA:null,jj:!0,iu:!0,$D:!0,YY:null,ij:null,tE:null,Dd:!1,nc:null,jf:0,ng:null,Sf:null,sE:!1,tp:!1,Dt:null,Vh:null,fz:!1,vl:0,wq:0,cz:function(){this.He=p.Uc();this.fd=p.Uc();this.ha=p.zl();this.q=p.Uc();this.n=[];this.ij={B:1,f:0,pa:0,za:1,Ka:0,La:0};var a=p.M.d();this.ng=a.Wf();this.Sf=a.We();this.sE=!0;this.Dt={B:1,f:0,pa:0,za:1,Ka:0,La:0};p.tJ&&(this.Vh=new p.tJ(this))},
s:function(){!1===this.sE&&this.cz();return!0},If:function(a,c){if(a&&0!==a.length){var d,e=a.length,f;d=p.H.df;switch(c){case d.ag:for(d=0;d<e;d++)(f=a[d])&&f.ag();break;case d.md:for(d=0;d<e;d++)(f=a[d])&&f.md();break;case d.Ah:for(d=0;d<e;d++)(f=a[d])&&f.Ah();break;case d.qf:for(d=0;d<e;d++)(f=a[d])&&f.qf();break;case d.Af:for(d=0;d<e;d++)(f=a[d])&&f.Af();break;case d.Pg:for(d=0;d<e;d++)(f=a[d])&&f.Pg();break;case d.nd:for(d=0;d<e;d++)(f=a[d])&&f.nd();break;default:throw"Unknown callback function";
}}},Ja:null,wN:function(){this.xl();!1===this.jj&&(this.jj=this.iu=!0)},xN:function(){!1===this.jj&&(this.jj=this.iu=!0)},K2:function(){return this.Ed},yw:function(a){this.Ed=a;this.Ja()},L2:function(){return this.Fd},zw:function(a){this.Fd=a;this.Ja()},A3:function(){return this.Pa},Ou:function(a){this.Pa=a},k9:function(a){this.Ou(a);this.Y&&this.Y.Mr(this,a)},q3:function(){return this.lv},xI:function(a){this.lv=a},gQ:function(){this.Rf!==this.hh&&p.log("cc.Node.rotation(): RotationX !\x3d RotationY. Don't know which one to return");
return this.Rf},uw:function(a){this.Rf=this.hh=a;this.vl=0.017453292519943295*this.Rf;this.wq=0.017453292519943295*this.hh;this.Ja()},A2:function(){return this.Rf},vw:function(a){this.Rf=a;this.vl=0.017453292519943295*this.Rf;this.Ja()},B2:function(){return this.hh},ww:function(a){this.hh=a;this.wq=0.017453292519943295*this.hh;this.Ja()},WA:function(){this.ia!==this.oa&&p.log("cc.Node.getScale(): ScaleX !\x3d ScaleY. Don't know which one to return");return this.ia},Cj:function(a,c){this.ia=a;this.oa=
c||0===c?c:a;this.Ja()},hQ:function(){return this.ia},Oo:function(a){this.ia=a;this.Ja()},iQ:function(){return this.oa},xm:function(a){this.oa=a;this.Ja()},F:function(a,c){var d=this.q;2==arguments.length?(d.A=a,d.I=c):1==arguments.length&&(d.A=a.x,d.I=a.y);this.Ja()},k2:function(){return this.q},l2:function(){return this.q.A},Eb:function(a){this.q.A=a;this.Ja()},m2:function(){return this.q.I},No:function(a){this.q.I=a;this.Ja()},t0:function(){return this.n.length},s0:function(){return this.n},J4:function(){return this.ta},
u:function(a){this.ta=a;this.Ja()},b0:function(){return this.He},na:function(a,c){var d=this.He;if(2===arguments.length){if(a===d.A&&c===d.I)return;d.A=a;d.I=c}else{if(a.x===d.A&&a.y===d.I)return;d.A=a.x;d.I=a.y}var e=this.fd,f=this.ha;e.A=f.va*d.A;e.I=f.ga*d.I;this.Ja()},c0:function(){return this.fd},g:function(){return this.ha},da:function(a,c){var d=this.ha;if(2===arguments.length){if(a===d.va&&c===d.ga)return;d.va=a;d.ga=c}else{if(a.width===d.va&&a.height===d.ga)return;d.va=a.width;d.ga=a.height}var e=
this.fd,f=this.He;e.A=d.va*f.A;e.I=d.ga*f.I;this.Ja()},A4:function(){return this.le},getParent:function(){return this.Y},Tr:function(a){this.Y=a},m4:function(){return this.bk},qi:function(a){a!=this.bk&&(this.bk=a,this.Ja())},pQ:function(){return this.Mc},tI:function(a){this.Mc=a},getUserData:function(){return this.xF},setUserData:function(a){this.xF=a},o3:function(){return this.nA},d9:function(a){this.nA!=a&&(this.nA=a)},a2:function(){return this.jf},Mo:function(a){this.jf=a},Wf:function(){this.ng||
(this.ng=p.M.d().Wf());return this.ng},mT:function(a){this.ng!=a&&(this.lC(),this.ng=a)},We:function(){this.Sf||(this.Sf=p.M.d().We());return this.Sf},iU:function(a){this.Sf!=a&&(this.as(),this.Sf=a)},Ua:function(){var a=p.rect(0,0,this.ha.va,this.ha.ga);return p.Mh(a,this.tf())},qf:function(){this.lC();this.as();this.If(this.n,p.H.df.qf)},description:function(){return"\x3ccc.Node | Tag \x3d"+this.Mc+"\x3e"},JP:function(a){var c=this.n;if(null!=c)for(var d=0;d<c.length;d++){var e=c[d];if(e&&e.Mc==
a)return e}return null},t:function(a,c,d){if(!a)throw"cc.Node.addChild(): child must be non-null";a===this?p.log("cc.Node.addChild(): An Node can't be added as a child of itself."):null!==a.Y?p.log("cc.Node.addChild(): child already added. It can't be added again"):(c=null!=c?c:a.Pa,a.Mc=null!=d?d:a.Mc,this.qM(a,c),a.Y=this,this.le&&(a.ag(),this.fz&&a.Ah()))},R:function(a){this.Y&&(null==a&&(a=!0),this.Y.removeChild(this,a))},NS:function(a){p.log("removeFromParentAndCleanup is deprecated. Use removeFromParent instead");
this.R(a)},removeChild:function(a,c){0!==this.n.length&&(null==c&&(c=!0),-1<this.n.indexOf(a)&&this.PL(a,c),this.Ja())},F6:function(a,c){a===p.dD&&p.log("cc.Node.removeChildByTag(): argument tag is an invalid tag");var d=this.JP(a);null==d?p.log("cocos2d: removeChildByTag(tag \x3d "+a+"): child not found!"):this.removeChild(d,c)},x6:function(a){p.log("removeAllChildrenWithCleanup is deprecated. Use removeAllChildren instead");this.Eh(a)},Eh:function(a){var c=this.n;if(null!=c){null==a&&(a=!0);for(var d=
0;d<c.length;d++){var e=c[d];e&&(this.le&&(e.Pg(),e.md()),a&&e.qf(),e.Tr(null))}this.n.length=0}},PL:function(a,c){this.le&&(a.Pg(),a.md());c&&a.qf();a.Tr(null);p.pd(this.n,a)},qM:function(a,c){this.Dd=!0;this.n.push(a);a.Ou(c)},Mr:function(a,c){if(!a)throw"cc.Node.reorderChild(): child must be non-null";this.Dd=!0;a.Mo(p.dT++);a.Ou(c);this.Ja()},nd:function(){if(this.Dd){var a=this.n,c,d,e=a.length,f;for(c=0;c<e;c++){var g=a[c];d=c-1;for(f=a[d];0<=d&&(g.Pa<f.Pa||g.Pa==f.Pa&&g.jf<f.jf);)a[d+1]=f,
d-=1,f=a[d];a[d+1]=g}this.Dd=!1}},Ia:function(){},Mw:function(){null!=this.Y&&(this.Y.Mw(),this.Y.transform())},ag:function(){this.fz=!1;this.le=!0;this.If(this.n,p.H.df.ag);this.iw()},Ah:function(){this.fz=!0;this.If(this.n,p.H.df.Ah)},Pg:function(){this.If(this.n,p.H.df.Pg)},md:function(){this.le=!1;this.aw();this.If(this.n,p.H.df.md);this.Vh&&this.Vh.IS()},jw:function(a){if(!a)throw"cc.Node.runAction(): action must be non-null";this.Wf().oO(a,this,!this.le);return a},lC:function(){this.Wf().HH(this)},
KU:function(a){this.Wf().GH(a)},t9:function(a){a===p.Dm?p.log("cc.Node.stopActionBy(): argument tag an invalid tag"):this.Wf().HS(a,this)},SA:function(a){return a===p.Dm?(p.log("cc.Node.getActionByTag(): argument tag is an invalid tag"),null):this.Wf().SA(a,this)},M1:function(){return this.Wf().FR(this)},fT:function(){this.gT(0)},gT:function(a){this.We().PH(this,a,!this.le)},X9:function(){this.We().Wo(this)},xe:function(a,c,d,e){c=c||0;if(!a)throw"cc.Node.schedule(): callback function must be non-null";
if(0>c)throw"cc.Node.schedule(): interval must be positive";d=null==d?p.Uk:d;e=e||0;this.We().eT(this,a,c,d,e,!this.le)},xf:function(a,c){this.xe(a,0,0,c)},Tg:function(a){a&&this.We().VI(this,a)},as:function(){this.We().UI(this)},iw:function(){this.We().tm(this);this.Wf().tm(this)},aw:function(){this.We().Kr(this);this.Wf().Kr(this)},c7:function(a){this.Dt=a;this.tp=this.jj=!0},d6:function(){this.iu&&(this.tE=p.AC(this.tf()),this.iu=!1);return this.tE},Hr:function(){for(var a=this.tf(),c=this.Y;null!=
c;c=c.getParent())a=p.Mk(a,c.tf());return a},fV:function(){return p.AC(this.Hr())},wb:function(a){return p.pD(a,this.fV())},uk:function(a){return p.pD(a,this.Hr())},aP:function(a){return p.$c(this.wb(a),this.fd)},c_:function(a){a=p.uf(a,this.fd);return this.uk(a)},tY:function(a){a=this.uk(a);return p.M.d().bP(a)},qh:function(a){return this.wb(a.X)},d_:function(a){a=a.X;a=p.M.d().$O(a);return this.aP(a)},update:function(a){this.Vh&&!this.Vh.i4()&&this.Vh.ea(a)},Af:function(){this.If(this.n,p.H.df.Af)},
NH:function(){},KB:function(){},KP:function(a){return this.Vh.KP(a)},fZ:function(a){this.Vh.add(a)},G6:function(a){return this.Vh.remove(a)},y6:function(){this.Vh.IS()},kF:null,aA:null,Yy:null,bn:null,Zj:null,ctor:null,Zg:function(){this.cz()},$g:function(){this.cz();var a=new p.Lg;a.Mg[2]=a.Mg[3]=a.Mg[6]=a.Mg[7]=a.Mg[8]=a.Mg[9]=a.Mg[11]=a.Mg[14]=0;a.Mg[10]=a.Mg[15]=1;this.kF=a;this.Yy=0;this.aA=new p.Lg},ea:null,Ll:function(a){if(this.ta){a=a||p.L;var c,d=this.n,e;a.save();this.transform(a);var f=
d.length;if(0<f){this.nd();for(c=0;c<f;c++)if(e=d[c],0>e.Pa)e.ea(a);else break;for(this.Ia(a);c<f;c++)d[c].ea(a)}else this.Ia(a);this.jf=0;a.restore()}},Ml:function(){if(this.ta){var a=p.L,c,d=p.eP;d.stack.push(d.top);p.Q4(this.aA,d.top);d.top=this.aA;var e=this.Zj;e&&e.gL&&e.BA();this.transform();var f=this.n;if(f&&0<f.length){var g=f.length;this.nd();for(c=0;c<g;c++)if(f[c]&&0>f[c].Pa)f[c].ea();else break;for(this.Ia(a);c<g;c++)f[c]&&f[c].ea()}else this.Ia(a);this.jf=0;e&&e.gL&&e.yA(this);d.top=
d.stack.pop()}},transform:null,XN:function(a){a=a||p.L;var c=p.fa.d(),d=this.tf();a.transform(d.B,d.pa,d.f,d.za,d.Ka*c.ia,-d.La*c.oa)},YN:function(){var a=this.kF,c=p.eP.top,d=this.tf(),e=a.Mg;e[0]=d.B;e[4]=d.pa;e[12]=d.Ka;e[1]=d.f;e[5]=d.za;e[13]=d.La;e[14]=this.lv;p.tR(c,c,a);null==this.bn||null!=this.Zj&&this.Zj.to()||(a=this.fd.A,c=this.fd.I,0!==a||0!==c?(p.rR(p.Ef(a),p.Ef(c),0),this.bn.bH(),p.rR(p.Ef(-a),p.Ef(-c),0)):this.bn.bH())},tf:null,HM:function(){this.ij||(this.ij={B:1,f:0,pa:0,za:1,Ka:0,
La:0});if(this.jj){var a=this.ij;a.Ka=this.q.A;a.La=this.q.I;var c=1,d=0;this.Rf&&(c=Math.cos(this.vl),d=Math.sin(this.vl));a.B=a.za=c;a.f=-d;a.pa=d;var e=this.ia,f=this.oa,g=this.fd.A,h=this.fd.I,k=1E-6>e&&-1E-6<e?1E-6:e,l=1E-6>f&&-1E-6<f?1E-6:f;if(this.Ed||this.Fd){var m=Math.tan(-this.Ed*Math.PI/180),n=Math.tan(-this.Fd*Math.PI/180),r=h*m*k,q=g*n*l;a.B=c+-d*n;a.f=c*m+-d;a.pa=d+c*n;a.za=d*m+c;a.Ka+=c*r+-d*q;a.La+=d*r+c*q}if(1!==e||1!==f)a.B*=k,a.pa*=k,a.f*=l,a.za*=l;a.Ka+=c*-g*k+-d*h*l;a.La-=d*
-g*k+c*h*l;this.bk&&(a.Ka+=g,a.La+=h);this.tp&&(this.ij=p.Mk(this.ij,this.Dt),this.tp=!1);this.jj=!1}return this.ij},IM:function(){if(this.jj){var a=this.q.A,c=this.q.I,d=this.fd.A,e=-d,f=this.fd.I,g=-f,h=this.ia,k=this.oa;this.bk&&(a+=d,c+=f);var l=1,m=0,n=1,r=0;if(0!==this.Rf||0!==this.hh)l=Math.cos(-this.vl),m=Math.sin(-this.vl),n=Math.cos(-this.wq),r=Math.sin(-this.wq);var q=this.Ed||this.Fd;q||0===d&&0===f||(a+=n*e*h+-m*g*k,c+=r*e*h+l*g*k);a={B:n*h,f:r*h,pa:-m*k,za:l*k,Ka:a,La:c};q&&(a=p.Mk({B:1,
f:Math.tan(p.Ci(this.Fd)),pa:Math.tan(p.Ci(this.Ed)),za:1,Ka:0,La:0},a),0!==d||0!==f)&&(a=p.Qw(a,e,g));this.tp&&(a=p.Mk(a,this.Dt),this.tp=!1);this.ij=a;this.jj=!1}return this.ij},xl:function(){this.$D=!0;this.Y&&this.Y.xl()},TA:function(){this.bn||(this.bn=new p.ap);return this.bn},b1:function(){return this.Zj},I7:function(a){this.Zj=a},XA:function(){return this.nc},cg:function(a){this.nc=a},a1:function(){return this.Yy},H7:function(a){this.Yy=a},k0:function(){var a=p.rect(0,0,this.ha.va,this.ha.ga),
c=this.Hr(),a=p.kg(a,this.Hr());if(!this.n)return a;for(var d=this.n,e=0;e<d.length;e++){var f=d[e];f&&f.ta&&(f=f.lE(c))&&(a=p.fw(a,f))}return a},lE:function(a){var c=p.rect(0,0,this.ha.va,this.ha.ga);a=null==a?this.tf():p.Mk(this.tf(),a);c=p.kg(c,a);if(!this.n)return c;for(var d=this.n,e=0;e<d.length;e++){var f=d[e];f&&f.ta&&(f=f.lE(a))&&(c=p.fw(c,f))}return c}});
p.sa.qc?(b=p.H.prototype,b.ctor=p.H.prototype.$g,b.Ja=p.H.prototype.xN,b.ea=p.H.prototype.Ml,b.transform=p.H.prototype.YN,b.tf=p.H.prototype.IM):(b=p.H.prototype,b.ctor=p.H.prototype.Zg,b.Ja=p.H.prototype.wN,b.ea=p.H.prototype.Ll,b.transform=p.H.prototype.XN,b.tf=p.H.prototype.HM);p.H.create=function(){return new p.H};p.H.df={ag:1,md:2,qf:3,Ah:4,Af:5,Pg:6,nd:7};
p.eb=p.H.extend({Sa:!0,Cb:255,Qf:255,lc:null,Cd:null,Rc:!1,wd:!1,ctor:function(){p.H.prototype.ctor.call(this);this.Qf=this.Cb=255;this.lc=p.cb();this.Cd=p.cb();this.wd=this.Rc=!1},oi:function(){return this.Qf},NP:function(){return this.Cb},$:function(a){this.Cb=this.Qf=a;a=255;var c=this.Y;c&&c.Sa&&c.wd&&(a=c.Cb);this.Dc(a)},Dc:function(a){this.Cb=this.Qf*a/255;if(this.wd){a=this.n;for(var c=0;c<a.length;c++){var d=a[c];d&&d.Sa&&d.Dc(this.Cb)}}},kR:function(){return this.wd},WH:function(a){this.wd!==
a&&((this.wd=a)?this.Rp():this.Fy())},Rp:function(){var a=255,c=this.Y;c&&c.Sa&&c.wd&&(a=c.Cb);this.Dc(a)},Fy:function(){this.Cb=this.Qf;for(var a=this.n,c=0;c<a.length;c++){var d=a[c];d&&d.Sa&&d.Dc(255)}},Yc:function(){var a=this.Cd;return new p.gc(a.i,a.h,a.f)},kr:function(){return this.lc},o:function(a){var c=this.lc,d=this.Cd;c.i=d.i=a.i;c.h=d.h=a.h;c.f=d.f=a.f;a=(a=this.Y)&&a.Sa&&a.Rc?a.kr():p.cb();this.Cc(a)},Cc:function(a){var c=this.lc,d=this.Cd;c.i=0|d.i*a.i/255;c.h=0|d.h*a.h/255;c.f=0|d.f*
a.f/255;if(this.Rc)for(a=this.n,d=0;d<a.length;d++){var e=a[d];e&&e.Sa&&e.Cc(c)}},jR:function(){return this.Rc},VH:function(a){this.Rc!==a&&((this.Rc=a)?this.Qp():this.Ey())},Qp:function(){var a;a=(a=this.Y)&&a.Sa&&a.Rc?a.kr():p.cb();this.Cc(a)},Ey:function(){var a=this.lc,c=this.Cd;a.i=c.i;a.h=c.h;a.f=c.f;for(var a=this.n,c=p.cb(),d=0;d<a.length;d++){var e=a[d];e&&e.Sa&&e.Cc(c)}},t:function(a,c,d){p.H.prototype.t.call(this,a,c,d);this.Rc&&this.Qp();this.wd&&this.Rp()},$e:function(){},yk:function(){return!1}});
p.eb.create=function(){var a=new p.eb;a.s();return a};p.qd=p.eb.extend({Sa:!0,zE:0,yE:0,ku:0,ju:0,Ni:null,Ea:null,Yb:!1,S:null,tq:0,Zy:!1,ctor:function(){p.eb.prototype.ctor.call(this);this.Ni=p.cb();this.S={src:p.ae,mb:p.$d};this.Zy=!1},Z9:function(){p.log("cc.AtlasNode.updateAtlasValues(): Shall be overridden in subclasses")},Yc:function(){return this.Yb?this.Ni:p.eb.prototype.Yc.call(this)},$e:function(a){var c=this.Yc();this.Yb=a;this.o(c)},yk:function(){return this.Yb},jr:function(){return this.S},Dk:function(a,c){this.S=1==arguments.length?a:{src:a,
mb:c}},Qo:function(a){this.Ea=a},xG:function(){return this.Ea},s2:function(){return this.tq},x8:function(a){this.tq=a},Fl:null,Mf:null,nF:null,Mt:null,YQ:function(a,c,d,e){if(!a)throw"cc.AtlasNode.initWithTileFile(): title should not be null";a=p.Ib.d().Re(a);return this.Aa(a,c,d,e)},Aa:null,eq:function(a,c,d,e){this.ku=c;this.ju=d;this.Yb=!0;this.Mf=a;if(!this.Mf)return p.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.Fl=this.Mf;this.It();this.tq=e;return!0},fq:function(a,
c,d,e){this.ku=c;this.ju=d;this.Ni=p.cb();this.Yb=!0;this.S.src=p.ae;this.S.mb=p.$d;c=this.Cd;this.Mt=new Float32Array([c.i/255,c.h/255,c.f/255,this.Qf/255]);this.Ea=new p.Pm;this.Ea.Aa(a,e);if(!this.Ea)return p.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.Kl();this.uF();this.It();this.tq=e;this.cg(p.Yg.d().Dh(p.BX));this.nF=p.L.getUniformLocation(this.XA().Kv(),"u_color");return!0},Ia:null,Lf:function(a){a=a||p.L;p.qx(this);p.sj(this.S.src,this.S.mb);a.uniform4fv(this.nF,
this.Mt);this.Ea.$F(this.tq,0)},o:null,yq:function(a){var c=this.Cd;if(c.i!=a.i||c.h!=a.h||c.f!=a.f){c=new p.gc(a.i,a.h,a.f);this.Ni=a;if(this.Yb){var d=this.Cb;c.i=c.i*d/255;c.h=c.h*d/255;c.f=c.f*d/255}p.eb.prototype.o.call(this,a);this.Q()&&(a=this.Mf.mc)&&(c=p.Ib.d().yG(a))&&(d=p.rect(0,0,a.width,a.height),a=p.RA(a,c,this.Cd,d),c=new p.Hb,c.Xe(a),c.Ud(),this.aa(c))}},Nz:function(a){var c=p.gc(a.i,a.h,a.f);this.Ni=a;var d=this.Cb;this.Yb&&(c.i=c.i*d/255,c.h=c.h*d/255,c.f=c.f*d/255);p.eb.prototype.o.call(this,
a);a=this.lc;this.Mt=new Float32Array([a.i/255,a.h/255,a.f/255,d/255])},$:null,Aq:function(a){p.eb.prototype.$.call(this,a);this.Yb&&this.o(this.Ni)},Qz:function(a){p.eb.prototype.$.call(this,a);this.Yb?this.o(this.Ni):(a=this.lc,this.Mt=new Float32Array([a.i/255,a.h/255,a.f/255,this.Cb/255]))},Q:null,Vy:function(){return this.Fl},Wy:function(){return this.Ea.Q()},aa:null,Bq:function(a){this.Fl=a},Cq:function(a){this.Ea.aa(a);this.Kl();this.uF()},It:null,xL:function(){var a=this.Q().g();this.yE=0|
a.height/this.ju;this.zE=0|a.width/this.ku},yL:function(){var a=this.Q(),c=a.g();this.Zy&&(c=a.ha);this.yE=0|c.height/this.ju;this.zE=0|c.width/this.ku},Kl:function(){this.Ea.Q().tr()||(this.S.src=770,this.S.mb=771)},uF:function(){this.Yb=this.Ea.Q().tr()},Pz:function(a){this.Zy=a}});
p.sa.qc?(b=p.qd.prototype,b.Aa=p.qd.prototype.fq,b.Ia=p.qd.prototype.Lf,b.o=p.qd.prototype.Nz,b.$=p.qd.prototype.Qz,b.Q=p.qd.prototype.Wy,b.aa=p.qd.prototype.Cq,b.It=p.qd.prototype.yL):(b=p.qd.prototype,b.Aa=p.qd.prototype.eq,b.Ia=p.H.prototype.Ia,b.o=p.qd.prototype.yq,b.$=p.qd.prototype.Aq,b.Q=p.qd.prototype.Vy,b.aa=p.qd.prototype.Bq,b.It=p.qd.prototype.xL);p.qd.create=function(a,c,d,e){var f=new p.qd;return f.YQ(a,c,d,e)?f:null};p.Gi=0;p.kp=1;p.jp=2;p.ip=3;p.Hx=4;p.Gx=5;p.mt=6;p.lt=7;p.AD=8;p.zD=9;p.yD=p.Gi;p.xy=p.yD;p.uK=!1;p.VY=function(a,c,d,e){this.CR=a||0;this.zR=c||0;this.gJ=d||0;this.hJ=e||0};
p.KK=p.qa.extend({LM:null,kf:null,wg:null,vg:null,jz:null,ha:null,rg:null,sg:null,tn:null,kl:!1,nc:null,dc:!1,mc:null,ph:null,gd:null,ctor:function(){this.vg=this.wg=0;this.jz="";this.sg=this.rg=0;this.tn=!1;this.ha=p.zl();this.kl=!1;this.LM=!0;this.kf=p.Hb.fP();this.nc=null;this.dc=!1;this.ph=this.mc=null;this.gd=[]},LB:function(){this.ph&&p.L.deleteTexture(this.ph)},f2:function(){return this.kf},no:function(){return this.wg},mo:function(){return this.vg},getName:function(){return this.ph},g:function(){return p.size(this.ha.width/
p.cd(),this.ha.height/p.cd())},MP:function(){return this.ha},VP:function(){return this.rg},ST:function(a){this.rg=a},WP:function(){return this.sg},TT:function(a){this.sg=a},XA:function(){return this.nc},cg:function(a){this.nc=a},tr:function(){return this.tn},HQ:function(){return this.kl},description:function(){return"\x3ccc.Texture2D | Name \x3d "+this.jz+" | Dimensions \x3d "+this.wg+" x "+this.vg+" | Coordinates \x3d ("+this.rg+", "+this.sg+")\x3e"},ES:function(){},pR:function(a){return a},Ov:function(a,
c,d,e,f){var g=p.L,h=0,h=c===p.Gi?24:this.NF(c),h=d*h/8;0===h%8?g.pixelStorei(g.UNPACK_ALIGNMENT,8):0===h%4?g.pixelStorei(g.UNPACK_ALIGNMENT,4):0===h%2?g.pixelStorei(g.UNPACK_ALIGNMENT,2):g.pixelStorei(g.UNPACK_ALIGNMENT,1);this.ph=g.createTexture();p.Xf(this);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE);
switch(c){case p.Gi:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_BYTE,a);break;case p.kp:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_BYTE,a);break;case p.mt:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_4_4_4_4,a);break;case p.lt:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_5_5_5_1,a);break;case p.jp:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_SHORT_5_6_5,a);break;case p.Gx:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE_ALPHA,
d,e,0,g.LUMINANCE_ALPHA,g.UNSIGNED_BYTE,a);break;case p.ip:g.texImage2D(g.TEXTURE_2D,0,g.ALPHA,d,e,0,g.ALPHA,g.UNSIGNED_BYTE,a);break;case p.Hx:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE,d,e,0,g.LUMINANCE,g.UNSIGNED_BYTE,a);break;default:throw"NSInternalInconsistencyException";}this.ha.va=f.width;this.ha.ga=f.height;this.wg=d;this.vg=e;this.kf=c;this.rg=f.width/d;this.sg=f.height/e;this.kl=this.tn=!1;this.cg(p.Yg.d().Dh(p.zK));return this.dc=!0},qP:function(a){var c=[0,this.sg,this.rg,this.sg,0,0,this.rg,
0],d=this.wg*this.rg,e=this.vg*this.sg;a=[a.x,a.y,0,d+a.x,a.y,0,a.x,e+a.y,0,d+a.x,e+a.y,0];p.Pd(p.mg|p.TK);this.nc.Ee();this.nc.wI();p.Xf(this);d=p.L;d.vertexAttribPointer(p.de,2,d.FLOAT,!1,0,a);d.vertexAttribPointer(p.op,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},sP:function(a){var c=[0,this.sg,this.rg,this.sg,0,0,this.rg,0];a=[a.x,a.y,a.x+a.width,a.y,a.x,a.y+a.height,a.x+a.width,a.y+a.height];p.Pd(p.mg|p.TK);this.nc.Ee();this.nc.wI();p.Xf(this);var d=p.L;d.vertexAttribPointer(p.de,2,
d.FLOAT,!1,0,a);d.vertexAttribPointer(p.op,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},hB:function(a){if(null==a)return p.log("cocos2d: cc.Texture2D. Can't create Texture. UIImage is nil"),!1;var c=a.qr(),d=a.lr(),e=p.be.d().mq;if(c>e||d>e)return p.log("cocos2d: WARNING: Image ("+c+" x "+d+") is bigger than the supported "+e+" x "+e),!1;this.dc=!0;return this.hM(a,c,d)},Xe:function(a){a&&(this.ph=p.L.createTexture(),this.mc=a)},QP:function(){return this.mc},$f:function(){return this.dc},
Ud:function(){this.dc=!0;var a=p.L;p.Xf(this);a.pixelStorei(a.UNPACK_ALIGNMENT,4);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,this.mc);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);this.cg(p.Yg.d().Dh(p.zK));p.Xf(null);a=this.mc.height;this.wg=this.ha.va=this.mc.width;this.vg=this.ha.ga=
a;this.kf=p.Gi;this.sg=this.rg=1;this.kl=this.tn=!1;this.vd()},wk:function(a,c,d,e,f,g){3==arguments.length&&(c=arguments[1],d=arguments[2],e=p.size(0,0),f=p.Hi,g=p.qp);var h=new p.PJ,k;if(p.qp===g)k=p.Hi===f?p.oV:p.lp===f?p.pV:p.qV;else if(p.vt===g)k=p.Hi===f?p.lV:p.lp===f?p.mV:p.nV;else if(p.pp===g)k=p.Hi===f?p.iV:p.lp===f?p.jV:p.kV;else return p.log("Not supported alignment format!"),!1;return h.wk(a,e.width,e.height,k,c,d)?this.hB(h):!1},RQ:function(){return!1},PG:function(a){var c=!1,d=new p.RX;
(c=d.P3(a))?(d.F8(!0),this.jz=d.getName(),this.sg=this.rg=1,this.wg=d.qr(),this.vg=d.lr(),this.ha.va=this.wg,this.ha.ga=this.vg,this.tn=p.uK,this.kf=d.Z0(),this.SH()):p.log("cocos2d: Couldn't load PVR image "+a);return c},VQ:function(){return p.be.d().Lq?!0:(p.log("cocos2d: WARNING: PVRTC images is not supported."),!1)},mU:function(a){var c=p.L;p.ns(this.wg==p.Jm(this.wg)&&this.vg==p.Jm(this.vg)||a.gJ==c.CLAMP_TO_EDGE&&a.hJ==c.CLAMP_TO_EDGE,"WebGLRenderingContext.CLAMP_TO_EDGE should be used in NPOT textures");
p.Xf(this);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,a.CR);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,a.zR);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,a.gJ);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,a.hJ)},SH:function(){var a=p.L;p.Xf(this);this.kl?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},RH:function(){var a=p.L;p.Xf(this);
this.kl?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},generateMipmap:function(){p.ns(this.wg==p.Jm(this.wg)&&this.vg==p.Jm(this.vg),"Mimpap texture only works in POT textures");p.Xf(this);p.L.generateMipmap(p.L.TEXTURE_2D);this.kl=!0},LU:function(){switch(this.kf){case p.Gi:return"RGBA8888";case p.kp:return"RGB888";case p.jp:return"RGB565";case p.mt:return"RGBA4444";
case p.lt:return"RGB5A1";case p.Gx:return"AI88";case p.ip:return"A8";case p.Hx:return"I8";case p.AD:return"PVRTC4";case p.zD:return"PVRTC2";default:p.log("stringForFormat: "+this.kf+", cannot give useful result, it's a unrecognized pixel format")}return""},NF:function(a){a=a||this.kf;switch(a){case p.Gi:return 32;case p.kp:return 32;case p.jp:return 16;case p.ip:return 8;case p.mt:return 16;case p.lt:return 16;case p.AD:return 4;case p.zD:return 2;case p.Hx:return 8;case p.Gx:return 16;default:return p.log("bitsPerPixelForFormat: "+
this.kf+", cannot give useful result, it's a illegal pixel format"),-1}},hM:function(a,c,d){var e=a.getData(),f=null,f=null,g=a.F3(),h=p.size(a.qr(),a.lr()),k=p.yD,l=a.i0();g||(8<=l?k=p.kp:(p.log("cocos2d: cc.Texture2D: Using RGB565 texture since image has no alpha"),k=p.jp));var m=c*d;if(k==p.jp)if(g)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>2<<5|(f[l]>>16&255)>>3<<0;else for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]&255)>>3<<
11|(f[l]&255)>>2<<5|(f[l]&255)>>3<<0;else if(k==p.mt)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>4<<12|(f[l]>>8&255)>>4<<8|(f[l]>>16&255)>>4<<4|(f[l]>>24&255)>>4<<0;else if(k==p.lt)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>3<<6|(f[l]>>16&255)>>3<<1|(f[l]>>24&255)>>7<<0;else if(k==p.ip)for(e=new Uint8Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=f>>24&255;if(g&&k==p.kp)for(f=a.getData(),e=new Uint8Array(c*d*3),l=0;l<m;++l)e[3*
l]=f>>0&255,e[3*l+1]=f>>8&255,e[3*l+2]=f>>16&255;this.Ov(e,k,c,d,h);a.getData();this.tn=a.w4();return!0},pf:function(a,c){this.gd.push({qj:a,sh:c})},OS:function(a){for(var c=this.gd,d=0;d<c.length;d++)c[d].sh==a&&c.splice(d,1)},vd:function(){for(var a=this.gd,c=0,d=a.length;c<d;c++){var e=a[c];e.qj.call(e.sh,this)}a.length=0}});
p.JK=p.qa.extend({ha:null,dc:!1,mc:null,gd:null,ctor:function(){this.ha=p.zl();this.dc=!1;this.mc=null;this.gd=[]},no:function(){return this.ha.va},mo:function(){return this.ha.ga},g:function(){var a=p.cd();return p.size(this.ha.va/a,this.ha.ga/a)},MP:function(){return this.ha},Xe:function(a){a&&(this.mc=a)},QP:function(){return this.mc},$f:function(){return this.dc},Ud:function(){this.dc=!0;var a=this.mc;this.ha.va=a.width;this.ha.ga=a.height;this.vd()},description:function(){return"\x3ccc.Texture2D | width \x3d "+
this.ha.va+" height "+this.ha.ga+"\x3e"},Ov:function(){return!1},hB:function(){return!1},wk:function(){return!1},LB:function(){},getName:function(){return null},VP:function(){return 1},ST:function(){},WP:function(){return 1},TT:function(){},XA:function(){return null},cg:function(){},tr:function(){return!1},HQ:function(){return!1},ES:function(){},pR:function(a){return a},qP:function(){},sP:function(){},RQ:function(){return!1},PG:function(){return!1},VQ:function(){return!0},mU:function(){},SH:function(){},
RH:function(){},generateMipmap:function(){},LU:function(){return""},NF:function(){return-1},pf:function(a,c){this.gd.push({qj:a,sh:c})},OS:function(a){for(var c=this.gd,d=0;d<c.length;d++)c[d].sh==a&&c.splice(d,1)},vd:function(){for(var a=this.gd,c=0,d=a.length;c<d;c++){var e=a[c];e.qj.call(e.sh,this)}a.length=0}});p.Hb=p.sa.qc?p.KK:p.JK;p.Hb.t7=function(a){p.xy=a};p.Hb.fP=function(){return p.xy};p.Hb.G0=function(){return p.xy};p.ir=null;p.b5=function(a){if(p.XO(a)==p.JJ)p.log("unsupported format:"+a);else{var c=new Image;c.src=a;c.addEventListener("load",function(){p.Ib.d().FO(a,c);this.removeEventListener("load",arguments.callee,!1)},!1)}};p.XO=function(a){return 0<a.toLowerCase().indexOf(".jpg")||0<a.toLowerCase().indexOf(".jpeg")?p.nW:0<a.toLowerCase().indexOf(".png")?p.oW:0<a.toLowerCase().indexOf(".webp")?p.qW:p.JJ};
p.Ib=p.qa.extend({Ya:null,Mq:null,Zu:null,PE:!1,nu:null,ou:null,ctor:function(){if(p.ir)throw"Attempted to allocate a second instance of a singleton.";this.Zu+=0|1E3*Math.random();this.Ya={};this.Mq={};p.ad===p.Nj&&(this.nu={},this.ou={})},ay:function(a,c){if(a&&"string"===typeof c)a[c]();else a&&"function"===typeof c&&c.call(a)},pM:function(){this.PE=!0;var a,c=this.nu,d=this.Ya;for(a in c){var e=c[a],f=new p.Hb;f.Xe(e);f.Ud();d[a]=f}this.nu={}},mZ:function(){p.log("TextureCache:addPVRTCImage does not support on HTML5")},
hZ:function(){p.log("TextureCache:addPVRTCImage does not support on HTML5")},description:function(){return"\x3cTextureCache | Number of textures \x3d "+this.Ya.length+"\x3e"},Iw:function(a){a=p.dd.d().Nd(a);return this.Ya.hasOwnProperty(a)?this.Ya[a]:null},SP:function(a){for(var c in this.Ya)if(this.Ya[c]==a)return c;return null},ZL:function(){this.Zu++;return"_textureKey_"+this.Zu},yG:function(a){var c=this.SP(a);c||(c=a instanceof HTMLImageElement?a.src:this.ZL());this.Mq.hasOwnProperty(c)||(this.Mq[c]=
p.jo(a));return this.Mq[c]},lZ:function(a){if(!a)throw"cc.TextureCache.addPVRImage(): path should be non-null";a=p.dd.d().Nd(a);if(null!=this.Ya[a])return this.Ya[a];var c=new p.Hb;c.PG(a)?this.Ya[a]=c:p.log("cocos2d: Couldn't add PVRImage:"+a+" in TextureCache");return c},B6:function(){var a=this.Ya,c;for(c in a)a[c]&&a[c].LB();this.Ya={}},Q6:function(a){if(a){var c=this.Ya,d;for(d in c)c[d]==a&&(c[d].LB(),delete c[d])}},SS:function(a){null!=a&&(a=p.dd.d().Nd(a),this.Ya[a]&&delete this.Ya[a])},iZ:function(a,
c,d){if(!a)throw"cc.TextureCache.addImageAsync(): path should be non-null";a=p.dd.d().Nd(a);var e=this.Ya[a],f,g;if(e)e.$f()?this.ay(c,d):(g=this,f=e.mc,f.addEventListener("load",function(){e.Ud();g.ay(c,d);this.removeEventListener("load",arguments.callee,!1)}));else{f=new Image;f.crossOrigin="Anonymous";g=this;f.addEventListener("load",function(){g.Ya.hasOwnProperty(a)&&g.Ya[a].Ud();g.ay(c,d);this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});
f.addEventListener("error",function(){p.Gb.d().km(a);g.Ya.hasOwnProperty(a)&&delete g.Ya[a];this.removeEventListener("error",arguments.callee,!1)});f.src=a;var h=new p.Hb;h.Xe(f);this.Ya[a]=h}return this.Ya[a]},iL:function(a){var c=new Image;c.crossOrigin="Anonymous";var d=this;c.addEventListener("load",function(){p.Gb.d().Ch();d.nu[a]=c;delete d.ou[a];this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});c.addEventListener("error",function(){p.Gb.d().km(a);
delete d.ou[a];this.removeEventListener("error",arguments.callee,!1)});c.src=a;this.ou[a]=c},Re:function(a){if(!a)throw"cc.Texture.addImage(): path should be non-null";if(p.ad===p.Nj&&!this.PE)return this.iL(a);a=p.dd.d().Nd(a);var c=this.Ya[a],d;if(c)c.$f()?p.Gb.d().Ch():(d=c.mc,d.addEventListener("load",function(){c.Ud();p.Gb.d().Ch();this.removeEventListener("load",arguments.callee,!1)}));else{d=new Image;d.crossOrigin="Anonymous";var e=this;d.addEventListener("load",function(){p.Gb.d().Ch();e.Ya.hasOwnProperty(a)&&
e.Ya[a].Ud();this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});d.addEventListener("error",function(){p.Gb.d().km(a);e.Ya.hasOwnProperty(a)&&delete e.Ya[a];this.removeEventListener("error",arguments.callee,!1)});d.src=a;var f=new p.Hb;f.Xe(d);this.Ya[a]=f}return this.Ya[a]},FO:function(a,c){if(c instanceof p.Hb)this.Ya[a]=c;else{var d=new p.Hb;d.Xe(c);d.Ud();this.Ya[a]=d}},rZ:function(a,c){if(!a)throw"cc.Texture.addUIImage(): image should be non-null";
if(c&&this.Ya.hasOwnProperty(c)&&this.Ya[c])return this.Ya[c];var d=new p.Hb;d.hB(a);null!=c&&null!=d?this.Ya[c]=d:p.log("cocos2d: Couldn't add UIImage in TextureCache");return d},t_:function(){var a=0,c=0,d=this.Ya,e;for(e in d){var f=d[e];a++;f.mc instanceof HTMLImageElement?p.log("cocos2d: '"+e+"' id\x3d"+f.mc.src+" "+f.no()+" x "+f.mo()):p.log("cocos2d: '"+e+"' id\x3d HTMLCanvasElement "+f.no()+" x "+f.mo());c+=f.no()*f.mo()*4}d=this.Mq;for(e in d){var f=d[e],g;for(g in f){var h=f[g];a++;p.log("cocos2d: '"+
e+"' id\x3d HTMLCanvasElement "+h.width+" x "+h.height);c+=h.width*h.height*4}}p.log("cocos2d: TextureCache dumpDebugInfo: "+a+" textures, HTMLCanvasElement for "+c/1024+" KB ("+(c/1048576).toFixed(2)+" MB)")}});p.Ib.d=function(){p.ir||(p.ir=new p.Ib);return p.ir};p.Ib.tS=function(){p.ir=null};p.Pm=p.qa.extend({Tc:null,Th:null,xa:!1,Gc:0,ra:null,ie:null,Of:null,uq:null,Pf:null,ctor:function(){this.Th=[]},h3:function(){return this.Ga},q0:function(){return this.Gc},Q:function(){return this.ra},aa:function(a){this.ra=a},bg:function(a){this.xa=a},WG:function(){return this.xa},r2:function(){return this.ie},w8:function(a){this.ie=a},uY:function(a,c){if(a)for(var d=0;d<a.length;d++)this.Nu(a[d],c+d)},Nu:function(a,c){var d=this.ie;d[c]?(d[c].ya=a.ya,d[c].Ha=a.Ha,d[c].Fa=a.Fa,d[c].Ba=a.Ba):d[c]=
new p.Mb(a.Fa,a.ya,a.Ba,a.Ha,this.Of,c*p.Mb.BYTES_PER_ELEMENT)},description:function(){return"\x3ccc.TextureAtlas | totalQuads \x3d"+this.Ga+"\x3e"},bF:function(){if(0!==this.Gc)for(var a=this.Tc,c=this.Gc,d=0;d<c;d++)p.BD?(a[6*d+0]=4*d+0,a[6*d+1]=4*d+0,a[6*d+2]=4*d+2,a[6*d+3]=4*d+1,a[6*d+4]=4*d+3,a[6*d+5]=4*d+3):(a[6*d+0]=4*d+0,a[6*d+1]=4*d+1,a[6*d+2]=4*d+2,a[6*d+3]=4*d+3,a[6*d+4]=4*d+2,a[6*d+5]=4*d+1)},MN:function(){var a=p.L;this.Th[0]=a.createBuffer();this.Th[1]=a.createBuffer();this.uq=a.createBuffer();
this.BE()},BE:function(){var a=p.L;a.bindBuffer(a.ARRAY_BUFFER,this.uq);a.bufferData(a.ARRAY_BUFFER,this.Of,a.DYNAMIC_DRAW);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Th[1]);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.Tc,a.STATIC_DRAW)},ri:function(a,c){var d=p.Ib.d().Re(a);if(d)return this.Aa(d,c);p.log("cocos2d: Could not open file: "+a);return!1},Aa:function(a,c){if(!a)throw"cc.TextureAtlas.initWithTexture():texture should be non-null";this.Gc=c|=0;this.Ga=0;this.ra=a;this.ie=[];this.Tc=new Uint16Array(6*
c);var d=p.Mb.BYTES_PER_ELEMENT;this.Of=new ArrayBuffer(d*c);this.Pf=new Uint8Array(this.Of);if((!this.ie||!this.Tc)&&0<c)return!1;for(var e=this.ie,f=0;f<c;f++)e[f]=new p.Mb(null,null,null,null,this.Of,f*d);this.bF();this.MN();return this.xa=!0},Nw:function(a,c){if(!a)throw"cc.TextureAtlas.updateQuad(): quad should be non-null";if(0>c||c>=this.Gc)throw"cc.TextureAtlas.updateQuad(): Invalid index";this.Ga=Math.max(c+1,this.Ga);this.Nu(a,c);this.xa=!0},nB:function(a,c){if(c>=this.Gc)throw"cc.TextureAtlas.insertQuad(): Invalid index";
this.Ga++;if(this.Ga>this.Gc)p.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");else{var d=p.Mb.BYTES_PER_ELEMENT,e=c*d,f=(this.Ga-1-c)*d;this.ie[this.Ga-1]=new p.Mb(null,null,null,null,this.Of,(this.Ga-1)*d);this.Pf.set(this.Pf.subarray(e,e+f),e+d);this.Nu(a,c);this.xa=!0}},V3:function(a,c,d){d=d||a.length;if(c+d>this.Gc)throw"cc.TextureAtlas.insertQuad(): Invalid index + amount";var e=p.Mb.BYTES_PER_ELEMENT;this.Ga+=d;if(this.Ga>this.Gc)p.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");
else{var f=c*e,g=(this.Ga-1-c-d)*e,h=this.Ga-1-d,k;for(k=0;k<d;k++)this.ie[h+k]=new p.Mb(null,null,null,null,this.Of,(this.Ga-1)*e);this.Pf.set(this.Pf.subarray(f,f+g),f+e*d);for(k=0;k<d;k++)this.Nu(a[k],c+k);this.xa=!0}},U3:function(a,c){if(a!==c){if(0>c&&c>=this.Ga)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid newIndex";if(0>a&&a>=this.Ga)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid fromIndex";var d=p.Mb.BYTES_PER_ELEMENT,e=this.Pf,f=e.subarray(a*d,d),g;a>c?(g=c*d,e.set(e.subarray(g,
g+(a-c)*d),g+d),e.set(f,g)):(g=(a+1)*d,e.set(e.subarray(g,g+(c-a)*d),g-d),e.set(f,c*d));this.xa=!0}},QS:function(a){if(a>=this.Ga)throw"cc.TextureAtlas.removeQuadAtIndex(): Invalid index";var c=p.Mb.BYTES_PER_ELEMENT;this.Ga--;this.ie.length=this.Ga;if(a!==this.Ga){var d=(a+1)*c;this.Pf.set(this.Pf.subarray(d,d+(this.Ga-a)*c),d-c)}this.xa=!0},I6:function(a,c){if(a+c>this.Ga)throw"cc.TextureAtlas.removeQuadsAtIndex(): index + amount out of bounds";this.Ga-=c;if(a!==this.Ga){var d=p.Mb.BYTES_PER_ELEMENT,
e=(a+c)*d;this.Pf.set(this.Pf.subarray(e,e+(this.Ga-a)*d),a*d)}this.xa=!0},KS:function(){this.Ga=this.ie.length=0},SY:function(a){this.xa=a},US:function(a){if(a==this.Gc)return!0;var c=p.Mb.BYTES_PER_ELEMENT,d=this.Gc;this.Ga=Math.min(this.Ga,a);var e=this.Gc=0|a,f=this.Ga;if(null==this.ie)for(this.ie=[],this.Of=new ArrayBuffer(c*e),this.Pf=new Uint8Array(this.Of),a=0;a<e;a++)this.ie=new p.Mb(null,null,null,null,this.Of,a*c);else{var g,h,k=this.ie;if(e>d){g=[];h=new ArrayBuffer(c*e);for(a=0;a<f;a++)g[a]=
new p.Mb(k[a].Fa,k[a].ya,k[a].Ba,k[a].Ha,h,a*c);for(;a<e;a++)g[a]=new p.Mb(null,null,null,null,h,a*c)}else for(f=Math.max(f,e),g=[],h=new ArrayBuffer(c*e),a=0;a<f;a++)g[a]=new p.Mb(k[a].Fa,k[a].ya,k[a].Ba,k[a].Ha,h,a*c);this.Pf=new Uint8Array(h);this.ie=g;this.Of=h}null==this.Tc?this.Tc=new Uint16Array(6*e):e>d?(c=new Uint16Array(6*e),c.set(this.Tc,0),this.Tc=c):this.Tc=this.Tc.subarray(0,6*e);this.bF();this.BE();return this.xa=!0},M3:function(a){this.Ga+=a},k5:function(a,c,d){if(2==arguments.length){d=
c;c=this.Ga-a;if(d+(this.Ga-a)>this.Gc)throw"cc.TextureAtlas.moveQuadsFromIndex(): move is out of bounds";if(0===c)return}else{if(d+c>this.Ga)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid newIndex";if(a>=this.Ga)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid oldIndex";if(a==d)return}var e=p.Mb.BYTES_PER_ELEMENT,f=a*e,g=c*e,h=this.Pf,k=h.subarray(f,f+g),l=d*e,m;d<a?(m=d*e,h.set(h.subarray(m,m+(a-d)*e),m+g)):(m=(a+c)*e,h.set(h.subarray(m,m+(d-a)*e),f));h.set(k,l);this.xa=!0},O_:function(a,
c){for(var d=c*p.Mb.BYTES_PER_ELEMENT,e=new Uint8Array(this.Of,a*p.Mb.BYTES_PER_ELEMENT,d),f=0;f<d;f++)e[f]=0},$F:function(a,c){c=c||0;if(0!==a&&this.ra&&this.ra.$f()){var d=p.L;p.Xf(this.ra);p.Pd(p.ut);d.bindBuffer(d.ARRAY_BUFFER,this.uq);this.xa&&d.bufferData(d.ARRAY_BUFFER,this.Of,d.DYNAMIC_DRAW);d.vertexAttribPointer(p.de,3,d.FLOAT,!1,24,0);d.vertexAttribPointer(p.np,4,d.UNSIGNED_BYTE,!0,24,12);d.vertexAttribPointer(p.op,2,d.FLOAT,!1,24,16);this.xa&&(this.xa=!1);d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,
this.Th[1]);p.BD?d.drawElements(d.TRIANGLE_STRIP,6*a,d.UNSIGNED_SHORT,6*c*this.Tc.BYTES_PER_ELEMENT):d.drawElements(d.TRIANGLES,6*a,d.UNSIGNED_SHORT,6*c*this.Tc.BYTES_PER_ELEMENT);p.th++}},tP:function(){this.$F(this.Ga,0)},PY:function(){var a=p.L;this.Th&&(this.Th[0]&&a.deleteBuffer(this.Th[0]),this.Th[1]&&a.deleteBuffer(this.Th[1]));this.uq&&a.deleteBuffer(this.uq)}});p.Pm.create=function(a,c){var d=new p.Pm;return d&&d.ri(a,c)?d:null};p.Pm.Gd=function(a,c){var d=new p.Pm;return d&&d.Aa(a,c)?d:null};p.gp=p.H.extend({ctor:function(){p.H.prototype.ctor.call(this);this.bk=!0;this.na(0.5,0.5);this.da(p.M.d().vb)}});p.gp.create=function(){return new p.gp};p.Ix=0;p.MX=1;
p.hc=p.H.extend({dk:!1,ck:!1,vn:!1,qk:0,Uq:p.Ix,ml:!1,En:0,ctor:function(){p.H.prototype.ctor.call(this);this.vn=this.ck=this.dk=!1;this.qk=0;this.Uq=p.Ix;this.ml=!1;this.En=0},gM:function(){this.na(0.5,0.5);this.bk=!0;var a=p.M.d();this.da(a.vb)},s:function(){p.H.prototype.s.call(this);this.gM();return!0},gw:function(){this.Uq===p.Ix?p.DS(this,this.qk):p.JB(this.qk,!0,this)},p4:function(){return this.ml},$B:function(a){if(!p.td)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.ml!=
a&&(this.ml=a,this.le&&(a?p.M.d().Ve().GF(this,this.En):p.M.d().Ve().IH(this)))},c8:function(a){if(!p.td)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.En!==a&&(this.En=a,this.ml&&(this.$B(!1),this.$B(!0)))},J1:function(){return this.En},H4:function(){return this.dk},Tb:function(a){this.dk!==a&&(this.dk=a,this.le&&(a?this.gw():p.TI(this)))},l3:function(){return this.qk},Aw:function(a){this.qk!==a&&(this.qk=a,this.dk&&(this.Tb(!1),this.Tb(!0)))},k3:function(){return this.Uq},
uI:function(a){this.Uq!==a&&(this.Uq=a,this.dk&&(this.Tb(!1),this.Tb(!0)))},Y3:function(){return this.ck},a7:function(a){if(!p.Hj)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";if(a!==this.ck&&(this.ck=a,this.le)){var c=p.M.d();a?c.ko().Rg(this):c.ko().Rg(null)}},lT:function(a){this.ck&&p.Hj&&p.M.d().ko().lT(a)},A5:function(){p.log("onAccelerometer event should be handled.")},o4:function(){return this.vn},T7:function(a){if(!p.Im)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";
if(a!==this.vn&&(this.vn=a,this.le)){var c=p.M.d();a?c.Iv().pO(this):c.Iv().MS(this)}},ag:function(){var a=p.M.d();this.dk&&this.gw();p.H.prototype.ag.call(this);this.ck&&p.Hj&&a.ko().Rg(this);this.vn&&p.Im&&a.Iv().pO(this);this.ml&&p.td&&a.Ve().GF(this,this.En)},md:function(){var a=p.M.d();this.dk&&p.TI(this);this.ck&&p.Hj&&a.ko().Rg(null);this.vn&&p.Im&&a.Iv().MS(this);this.ml&&p.td&&a.Ve().IH(this);p.H.prototype.md.call(this)},Ah:function(){this.ck&&p.Hj&&p.M.d().ko().Rg(this);p.H.prototype.Ah.call(this)},
Db:function(){p.log("onTouchBegan event should be handled.");return!0},Zc:function(){},ve:function(){},xj:function(){},lH:function(){},oH:function(){},nH:function(){},mH:function(){},JR:function(){return!1},KR:function(){return!1},Bh:function(){return!1},NR:function(){return!1},RR:function(){return!1},SR:function(){return!1},TR:function(){return!1},OR:function(){return!1},PR:function(){return!1},QR:function(){return!1},UR:function(){return!1},LR:function(){return!1},MR:function(){return!1},vB:function(){},
Xv:function(){}});p.hc.create=function(){var a=new p.hc;return a&&a.s()?a:null};
p.Xg=p.hc.extend({Sa:!0,Cb:0,Qf:0,lc:null,Cd:null,wd:!1,Rc:!1,ctor:function(){p.hc.prototype.ctor.call(this);this.Sa=!0;this.Qf=this.Cb=255;this.lc=p.cb();this.Cd=p.cb();this.Rc=this.wd=!1},s:function(){return p.hc.prototype.s.call(this)?(this.WH(!1),this.VH(!1),!0):!1},oi:function(){return this.Qf},NP:function(){return this.Cb},$:function(a){this.Cb=this.Qf=a;a=255;var c=this.Y;c&&c.Sa&&c.wd&&(a=c.Cb);this.Dc(a)},Dc:function(a){this.Cb=0|this.Qf*a/255;if(this.wd){a=this.n;for(var c=0;c<a.length;c++){var d=
a[c];d&&d.Sa&&d.Dc(this.Cb)}}},kR:function(){return this.wd},WH:function(a){this.wd!==a&&((this.wd=a)?this.Rp():this.Fy())},Rp:function(){var a=255,c=this.Y;c&&c.Sa&&c.wd&&(a=c.Cb);this.Dc(a)},Fy:function(){this.Cb=this.Qf;for(var a=this.n,c=0;c<a.length;c++){var d=a[c];d&&d.Sa&&d.Dc(255)}},Yc:function(){var a=this.Cd;return p.k(a.i,a.h,a.f)},kr:function(){var a=this.lc;return p.k(a.i,a.h,a.f)},o:function(a){var c=this.lc,d=this.Cd;c.i=d.i=a.i;c.h=d.h=a.h;c.f=d.f=a.f;a=(a=this.Y)&&a.Sa&&a.Rc?a.kr():
p.cb();this.Cc(a)},Cc:function(a){var c=this.lc,d=this.Cd;c.i=0|d.i*a.i/255;c.h=0|d.h*a.h/255;c.f=0|d.f*a.f/255;if(this.Rc)for(a=this.n,d=0;d<a.length;d++){var e=a[d];e&&e.Sa&&e.Cc(c)}},jR:function(){return this.Rc},VH:function(a){this.Rc!==a&&((this.Rc=a)?this.Qp():this.Ey())},Qp:function(){var a;a=(a=this.Y)&&a.Sa&&a.Rc?a.kr():p.cb();this.Cc(a)},Ey:function(){var a=this.lc,c=this.Cd;a.i=c.i;a.h=c.h;a.f=c.f;for(var a=this.n,c=p.cb(),d=0;d<a.length;d++){var e=a[d];e&&e.Sa&&e.Cc(c)}},t:function(a,
c,d){p.H.prototype.t.call(this,a,c,d);this.Rc&&this.Qp();this.wd&&this.Rp()},$e:function(){},yk:function(){return!1}});
p.Lb=p.Xg.extend({S:null,jr:function(){return this.S},YZ:function(a,c){this.da(a,c)},XZ:function(a){this.da(a,this.ha.ga)},UZ:function(a){this.da(this.ha.va,a)},$e:function(){},yk:function(){return!1},o:function(a){p.Xg.prototype.o.call(this,a);this.Vc()},$:function(a){p.Xg.prototype.$.call(this,a);this.Vc()},wn:!1,fF:null,Yz:null,qA:null,sy:null,$z:null,Zz:null,Zg:function(){p.Xg.prototype.ctor.call(this);this.S=new p.Qk(p.ae,p.$d)},$g:function(){p.Xg.prototype.ctor.call(this);this.S=new p.Qk(p.ae,
p.$d);this.$z=new ArrayBuffer(32);this.Zz=new ArrayBuffer(64);var a=this.$z,c=this.Zz,d=p.gb.BYTES_PER_ELEMENT,e=p.rd.BYTES_PER_ELEMENT;this.fF=[new p.gb(0,0,a,0),new p.gb(0,0,a,d),new p.gb(0,0,a,2*d),new p.gb(0,0,a,3*d)];this.Yz=[new p.rd(0,0,0,1,c,0),new p.rd(0,0,0,1,c,e),new p.rd(0,0,0,1,c,2*e),new p.rd(0,0,0,1,c,3*e)];this.qA=p.L.createBuffer();this.sy=p.L.createBuffer()},Dk:function(a,c){this.S=1==arguments.length?a:{src:a,mb:c};p.ad===p.Cf&&(this.wn=this.S&&1==this.S.src&&771==this.S.mb)},s:function(a,
c,d){if(!p.hc.prototype.s.call(this))return!1;p.ad!==p.Cf&&this.cg(p.Yg.d().Dh(p.yK));var e=p.M.d().vb;a=a||new p.tb(0,0,0,255);c=c||e.width;d=d||e.height;e=this.lc;e.i=a.i;e.h=a.h;e.f=a.f;e=this.Cd;e.i=a.i;e.h=a.h;e.f=a.f;this.Qf=this.Cb=a.B;this.da(c,d);this.Vc();return!0},da:null,rN:function(a,c){var d=this.fF;2===arguments.length?(d[1].x=a,d[2].y=c,d[3].x=a,d[3].y=c,this.XD(),p.hc.prototype.da.call(this,a,c)):(d[1].x=a.width,d[2].y=a.height,d[3].x=a.width,d[3].y=a.height,this.XD(),p.hc.prototype.da.call(this,
a))},Vc:null,bO:function(){},cO:function(){for(var a=this.lc,c=this.Cb,d=this.Yz,e=0;4>e;e++)d[e].i=a.i/255,d[e].h=a.h/255,d[e].f=a.f/255,d[e].B=c/255;this.WD()},Cc:function(a){p.Xg.prototype.Cc.call(this,a);this.Vc()},Dc:function(a){p.Xg.prototype.Dc.call(this,a);this.Vc()},XD:function(){var a=p.L;a.bindBuffer(a.ARRAY_BUFFER,this.qA);a.bufferData(a.ARRAY_BUFFER,this.$z,a.STATIC_DRAW)},WD:function(){var a=p.L;a.bindBuffer(a.ARRAY_BUFFER,this.sy);a.bufferData(a.ARRAY_BUFFER,this.Zz,a.STATIC_DRAW)},
Ia:null,fl:function(a){a=a||p.L;var c=this.g(),d=p.fa.d(),e=this.lc;a.fillStyle="rgba("+(0|e.i)+","+(0|e.h)+","+(0|e.f)+","+this.Cb/255+")";a.fillRect(0,0,c.width*d.ia,-c.height*d.oa);p.th++},Lf:function(a){a=a||p.L;p.qx(this);p.Pd(p.mg|p.SK);a.bindBuffer(a.ARRAY_BUFFER,this.qA);a.vertexAttribPointer(p.de,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.sy);a.vertexAttribPointer(p.np,4,a.FLOAT,!1,0,0);p.sj(this.S.src,this.S.mb);a.drawArrays(a.TRIANGLE_STRIP,0,4)}});
p.sa.qc?(p.Lb.prototype.ctor=p.Lb.prototype.$g,p.Lb.prototype.da=p.Lb.prototype.rN,p.Lb.prototype.Vc=p.Lb.prototype.cO,p.Lb.prototype.Ia=p.Lb.prototype.Lf):(p.Lb.prototype.ctor=p.Lb.prototype.Zg,p.Lb.prototype.da=p.Xg.prototype.da,p.Lb.prototype.Vc=p.Lb.prototype.bO,p.Lb.prototype.Ia=p.Lb.prototype.fl);p.Lb.create=function(a,c,d){var e=new p.Lb;switch(arguments.length){case 0:e.s();break;case 1:e.s(a);break;case 3:e.s(a,c,d);break;default:e.s()}return e};
p.ZC=p.Lb.extend({gF:null,pn:null,Nn:null,qn:null,Yk:null,Ot:!1,bq:null,aq:null,ctor:function(){p.Lb.prototype.ctor.call(this);this.gF=new p.gc(0,0,0);this.pn=new p.gc(0,0,0);this.Yk=p.a(0,-1);this.qn=this.Nn=255;this.bq=p.a(0,0);this.aq=p.a(0,0)},da:function(a,c){2===arguments.length?p.Lb.prototype.da.call(this,a,c):p.Lb.prototype.da.call(this,a);this.Vc()},P2:function(){return this.Cd},M8:function(a){this.o(a)},A7:function(a){this.pn=a;this.Vc()},P0:function(){return this.pn},N8:function(a){this.Nn=
a;this.Vc()},Q2:function(){return this.Nn},B7:function(a){this.qn=a;this.Vc()},Q0:function(){return this.qn},e9:function(a){this.Yk.x=a.x;this.Yk.y=a.y;this.Vc()},p3:function(){return p.a(this.Yk.x,this.Yk.y)},d4:function(){return this.Ot},p7:function(a){this.Ot=a;this.Vc()},s:function(a,c,d){a=a||p.EA(0,0,0,255);c=c||p.EA(0,0,0,255);d=d||p.a(0,-1);var e=this.gF,f=this.pn;e.i=a.i;e.h=a.h;e.f=a.f;this.Nn=a.B;f.i=c.i;f.h=c.h;f.f=c.f;this.qn=c.B;this.Yk=d;this.Ot=!0;p.Lb.prototype.s.call(this,p.p(a.i,
a.h,a.f,255));return!0},Ia:function(a){if(p.ad===p.Nj)p.Lb.prototype.Ia.call(this,a);else{a=a||p.L;this.wn&&(a.globalCompositeOperation="lighter");a.save();var c=p.fa.d(),d=this.Cb/255,e=this.g().width*c.ia,c=this.g().height*c.oa,f=a.createLinearGradient(this.bq.x,this.bq.y,this.aq.x,this.aq.y),g=this.lc,h=this.pn;f.addColorStop(0,"rgba("+Math.round(g.i)+","+Math.round(g.h)+","+Math.round(g.f)+","+(this.Nn/255*d).toFixed(4)+")");f.addColorStop(1,"rgba("+Math.round(h.i)+","+Math.round(h.h)+","+Math.round(h.f)+
","+(this.qn/255*d).toFixed(4)+")");a.fillStyle=f;a.fillRect(0,0,e,-c);0!=this.iN&&a.rotate(this.QY);a.restore()}},Vc:function(){var a=this.Yk;if(p.ad===p.Cf){var c=0.5*this.g().width,d=0.5*this.g().height;this.bq.x=c*-a.x+c;this.bq.y=d*a.y-d;this.aq.x=c*a.x+c;this.aq.y=d*-a.y-d}else if(d=p.yB(a),0!==d){c=Math.sqrt(2);a=p.a(a.x/d,a.y/d);this.Ot&&(a=p.wi(a,1/(Math.abs(a.x)+Math.abs(a.y))*c));var e=this.Cb/255,f=this.lc,g=this.pn,d=f.i/255,h=f.h/255,f=f.f/255,k=this.Nn*e/255,l=g.i/255,m=g.h/255,g=g.f/
255,e=this.qn*e/255,n=this.Yz,r=n[0],q=n[1],t=n[2],n=n[3];r.i=l+(c+a.x+a.y)/(2*c)*(d-l);r.h=m+(c+a.x+a.y)/(2*c)*(h-m);r.f=g+(c+a.x+a.y)/(2*c)*(f-g);r.B=e+(c+a.x+a.y)/(2*c)*(k-e);q.i=l+(c-a.x+a.y)/(2*c)*(d-l);q.h=m+(c-a.x+a.y)/(2*c)*(h-m);q.f=g+(c-a.x+a.y)/(2*c)*(f-g);q.B=e+(c-a.x+a.y)/(2*c)*(k-e);t.i=l+(c+a.x-a.y)/(2*c)*(d-l);t.h=m+(c+a.x-a.y)/(2*c)*(h-m);t.f=g+(c+a.x-a.y)/(2*c)*(f-g);t.B=e+(c+a.x-a.y)/(2*c)*(k-e);n.i=l+(c-a.x-a.y)/(2*c)*(d-l);n.h=m+(c-a.x-a.y)/(2*c)*(h-m);n.f=g+(c-a.x-a.y)/(2*c)*
(f-g);n.B=e+(c-a.x-a.y)/(2*c)*(k-e);this.WD()}}});p.ZC.create=function(a,c,d){var e=new p.ZC;switch(arguments.length){case 2:if(e&&e.s(a,c))return e;break;case 3:if(e&&e.s(a,c,d))return e;break;case 0:if(e&&e.s())return e;break;default:throw"Arguments error ";}return null};
p.$C=p.hc.extend({Xj:0,qg:null,R3:function(a){this.qg=[];this.qg.push(a);this.Xj=0;this.t(a);return!0},TQ:function(a){this.qg=a;this.Xj=0;this.t(this.qg[this.Xj]);return!0},D9:function(a){a>=this.qg.length?p.log("cc.LayerMultiplex.switchTo():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.qg[this.Xj],!0),this.Xj=a,this.t(this.qg[a]))},E9:function(a){a>=this.qg.length?p.log("cc.LayerMultiplex.switchToAndReleaseMe():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.qg[this.Xj],
!0),this.qg[this.Xj]=null,this.Xj=a,this.t(this.qg[a]))},jZ:function(a){a?this.qg.push(a):p.log("cc.Layer.addLayer(): layer should be non-null")}});p.$C.create=function(){0<arguments.length&&null==arguments[arguments.length-1]&&p.log("parameters should not be ending with null in Javascript");var a=new p.$C;return a.TQ(arguments)?a:null};p.Cx=-1;
p.jo=function(a){function c(){var c=p.jo,e=a.width,h=a.height;d[0].width=e;d[0].height=h;d[1].width=e;d[1].height=h;d[2].width=e;d[2].height=h;d[3].width=e;d[3].height=h;c.canvas.width=e;c.canvas.height=h;var k=c.canvas.getContext("2d");k.drawImage(a,0,0);c.oC.width=e;c.oC.height=h;for(var k=k.getImageData(0,0,e,h).data,l=0;4>l;l++){var m=d[l].getContext("2d");m.getImageData(0,0,e,h).data;c.OI.drawImage(a,0,0);for(var n=c.OI.getImageData(0,0,e,h),r=n.data,q=0;q<k.length;q+=4)r[q]=0===l?k[q]:0,r[q+
1]=1===l?k[q+1]:0,r[q+2]=2===l?k[q+2]:0,r[q+3]=k[q+3];m.putImageData(n,0,0)}a.onload=null}if(a.hasOwnProperty("channelCache"))return a.RO;var d=[document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas")];try{c()}catch(e){a.onload=c}return a.RO=d};p.jo.canvas=document.createElement("canvas");p.jo.oC=document.createElement("canvas");p.jo.OI=p.jo.oC.getContext("2d");
p.X_=function(a,c,d){d||(d=p.rect(0,0,a.width,a.height),d=p.ep(d));c=c instanceof p.rd?p.p(255*c.i,255*c.h,255*c.f,255*c.B):p.p(c.i,c.h,c.f,50);var e=document.createElement("canvas"),f=e.getContext("2d");e.width!=d.width&&(e.width=d.width);e.height!=d.height&&(e.height=d.height);f.save();f.drawImage(a,d.x,d.y,d.width,d.height,0,0,d.width,d.height);f.globalCompositeOperation="source-in";f.globalAlpha=c.B/255;f.fillStyle="rgb("+c.i+","+c.h+","+c.f+")";f.fillRect(0,0,d.width,d.height);f.restore();return e};
p.RA=function(a,c,d,e,f){e||(e=p.rect(0,0,a.width,a.height));a=null==d.B?p.rv(d.i/255,d.h/255,d.f/255,1):d;d=Math.min(e.width,c[0].width);var g=Math.min(e.height,c[0].height),h;f?(h=f.getContext("2d"),h.clearRect(0,0,d,g)):(f=document.createElement("canvas"),f.width=d,f.height=g,h=f.getContext("2d"));h.save();h.globalCompositeOperation="lighter";var k=h.globalAlpha;0<a.i&&(h.globalAlpha=a.i*k,h.drawImage(c[0],e.x,e.y,d,g,0,0,d,g));0<a.h&&(h.globalAlpha=a.h*k,h.drawImage(c[1],e.x,e.y,d,g,0,0,d,g));
0<a.f&&(h.globalAlpha=a.f*k,h.drawImage(c[2],e.x,e.y,d,g,0,0,d,g));1>a.i+a.h+a.f&&(h.globalAlpha=k,h.drawImage(c[3],e.x,e.y,d,g,0,0,d,g));h.restore();return f};p.TF=function(a,c){if(!a)return null;if(!c)return a;var d=document.createElement("canvas");d.width=c.width;d.height=c.height;var e=d.getContext("2d");e.translate(d.width/2,d.height/2);e.rotate(-1.5707963267948966);e.drawImage(a,c.x,c.y,c.height,c.width,-c.height/2,-c.width/2,c.height,c.width);return d};
p.UX=function(a,c,d,e,f,g){this.scale=c;this.rotation=d;this.Ik=e;this.visible=g};p.Ef=function(a){return 0|a};p.BK&&(p.Ef=function(a){return a});
p.w=p.eb.extend({Sa:!0,Ea:null,wc:0,Ta:null,xa:!1,eh:null,$h:null,lk:!1,Jl:null,S:null,ra:null,la:null,xc:!1,Pb:null,mh:null,Yb:!1,Wb:!1,Xb:!1,Xa:!1,gd:null,IE:null,RI:function(){return this.Xa},pf:function(a,c){this.gd.push({qj:a,sh:c})},vd:function(){for(var a=this.gd,c=0,d=a.length;c<d;c++){var e=a[c];e.qj.call(e.sh,this)}a.length=0},WG:function(){return this.xa},bg:function(a){this.xa=a},F4:function(){return this.xc},e0:function(){return this.wc},Yd:function(a){this.wc=a},ZA:function(){return p.rect(this.la.x,
this.la.y,this.la.width,this.la.height)},xG:function(){return this.Ea},Qo:function(a){this.Ea=a},O2:function(){return this.Ta},L8:function(a){this.Ta=a},V1:function(){return this.Pb},jr:function(){return this.S},Vd:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrame(): spriteFrame should be non-null";a.Xa||(this.Xa=!1,a.pf(this.Wz,this));var c=this.Aa(a.Q(),a.Od());this.Ko(a);return c},Wz:null,RN:function(a){this.Ja();this.nb(a.Od(),a.Kc,a.Jc);this.vd()},QN:function(a){this.Ja();this.nb(a.Od(),
a.Kc,a.Jc);a=this.Yc();255===a.i&&255===a.h&&255===a.f||this.Kt();this.vd()},RG:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";a=p.Gf.d().Jg(a);return this.Vd(a)},d$:function(a){this.Ea=a.Ea;this.Ta=a},hC:function(a){this.la.x=a.x;this.la.y=a.y;this.la.width=a.width;this.la.height=a.height},nd:function(){if(this.Dd){for(var a,c,d=this.n,e,f=1;f<d.length;f++){c=d[f];a=f-1;for(e=d[a];0<=a&&(c.Pa<e.Pa||c.Pa==e.Pa&&c.jf<e.jf);)d[a+1]=e,a-=1,e=d[a];d[a+
1]=c}this.Ta&&this.If(d,p.H.df.nd);this.Dd=!1}},Mr:function(a,c){if(!a)throw"cc.Sprite.reorderChild(): child should be non-null";-1===this.n.indexOf(a)?p.log("cc.Sprite.reorderChild(): this child is not in children list"):c!==a.Pa&&(this.Ta&&!this.Dd&&(this.Rz(),this.Ta.JH(!0)),p.H.prototype.Mr.call(this,a,c))},removeChild:function(a,c){this.Ta&&this.Ta.sm(a);p.H.prototype.removeChild.call(this,a,c)},Eh:function(a){var c=this.n,d=this.Ta;if(d&&null!=c)for(var e=0,f=c.length;e<f;e++)d.sm(c[e]);p.H.prototype.Eh.call(this,
a);this.$h=!1},$H:function(a){this.eh=a;this.bg(a);a=this.n;if(null!=a)for(var c=0;c<a.length;c++)a[c]instanceof p.w&&a[c].$H(!0)},lg:function(){this.Ta&&!this.eh&&(this.xa=this.eh=!0,this.$h&&this.$H(!0))},F:function(a,c){2<=arguments.length?p.H.prototype.F.call(this,a,arguments[1]):p.H.prototype.F.call(this,a);this.lg()},uw:function(a){p.H.prototype.uw.call(this,a);this.lg()},vw:function(a){p.H.prototype.vw.call(this,a);this.lg()},ww:function(a){p.H.prototype.ww.call(this,a);this.lg()},yw:function(a){p.H.prototype.yw.call(this,
a);this.lg()},zw:function(a){p.H.prototype.zw.call(this,a);this.lg()},Oo:function(a){p.H.prototype.Oo.call(this,a);this.lg()},xm:function(a){p.H.prototype.xm.call(this,a);this.lg()},Cj:function(a,c){p.H.prototype.Cj.call(this,a,c);this.lg()},xI:function(a){p.H.prototype.xI.call(this,a);this.lg()},na:function(a,c){2===arguments.length?p.H.prototype.na.call(this,a,c):p.H.prototype.na.call(this,a);this.lg()},u:function(a){p.H.prototype.u.call(this,a);this.lg()},qi:function(a){this.Ta?p.log("cc.Sprite.ignoreAnchorPointForPosition(): it is invalid in cc.Sprite when using SpriteBatchNode"):
p.H.prototype.qi.call(this,a)},HT:function(a){this.Wb!=a&&(this.Wb=a,this.nb(this.la,this.xc,this.ha),this.Ja())},IT:function(a){this.Xb!=a&&(this.Xb=a,this.nb(this.la,this.xc,this.ha),this.Ja())},j4:function(){return this.Wb},k4:function(){return this.Xb},$e:null,zN:function(a){this.Yb!==a&&(this.Yb=a,this.bs())},yN:function(a){this.Yb!==a&&(this.Yb=a,this.Ja())},yk:function(){return this.Yb},Dc:null,fO:function(a){p.eb.prototype.Dc.call(this,a);this.bs()},sF:function(a){p.eb.prototype.Dc.call(this,
a);this.xl()},x7:function(a,c){if(!a)throw"cc.Sprite.setDisplayFrameWithAnimationName(): animationName must be non-null";var d=p.Nk.d().oG(a);d?(d=d.zd[c])?this.Ko(d.Jg()):p.log("cc.Sprite.setDisplayFrameWithAnimationName(): Invalid frame index"):p.log("cc.Sprite.setDisplayFrameWithAnimationName(): Frame not found")},h0:function(){return this.Ta},Rz:function(){if(!this.Dd){this.Dd=!0;for(var a=this.Y;a&&a!=this.Ta;)a.Rz(),a=a.getParent()}},Q:function(){return this.ra},qb:null,Iu:null,Ne:!1,Nt:!1,
wn:!1,Mf:null,Tn:null,Hy:null,ctor:null,$g:function(a){p.eb.prototype.ctor.call(this);this.lk=!1;this.Pb=p.Uc();this.mh=p.Uc();this.S={src:p.ae,mb:p.$d};this.la=p.rect(0,0,0,0);this.qb=new p.Mb;this.Iu=p.L.createBuffer();this.Xa=this.Ne=!0;this.gd=[];if(a)if("string"===typeof a)a=p.Gf.d().Jg(a),this.Vd(a);else if("object"===typeof a)if(a instanceof p.ed)this.Vd(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new p.Hb;c.Xe(a);c.Ud();this.Aa(c)}else a instanceof p.Hb&&
this.Aa(a)},Zg:function(a){p.eb.prototype.ctor.call(this);this.lk=!1;this.Pb=p.Uc();this.mh=p.Uc();this.S={src:p.ae,mb:p.$d};this.la=p.rect(0,0,0,0);this.IE=!1;this.Xa=!0;this.gd=[];this.Tn={x:0,y:0,width:0,height:0,gs:!1};this.Hy=p.size(0,0);if(a)if("string"===typeof a)a=p.Gf.d().Jg(a),this.Vd(a);else if("object"===typeof a)if(a instanceof p.ed)this.Vd(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new p.Hb;c.Xe(a);c.Ud();this.Aa(c)}else a instanceof p.Hb&&this.Aa(a)},
q2:function(){return this.qb},Dk:null,nN:function(a,c){var d=this.S;1===arguments.length?(d.src=a.src,d.mb=a.mb):(d.src=a,d.mb=c)},mN:function(a,c){var d=this.S;1===arguments.length?(d.src=a.src,d.mb=a.mb):(d.src=a,d.mb=c);this.wn=d&&(770==d.src&&1==d.mb||1==d.src&&1==d.mb)},s:null,az:function(){if(0<arguments.length)return this.ri(arguments[0],arguments[1]);p.eb.prototype.s.call(this);this.xa=this.eh=!1;this.Yb=!0;this.S.src=p.ae;this.S.mb=p.$d;this.aa(null);this.Xa=!0;this.Wb=this.Xb=!1;this.na(0.5,
0.5);this.Pb.A=0;this.Pb.I=0;this.$h=!1;var a={i:255,h:255,f:255,B:255};this.qb.ya.D=a;this.qb.Ha.D=a;this.qb.Fa.D=a;this.qb.Ba.D=a;this.Ne=!0;this.nb(p.Fc(),!1,p.Vk());return!0},$y:function(){if(0<arguments.length)return this.ri(arguments[0],arguments[1]);p.eb.prototype.s.call(this);this.xa=this.eh=!1;this.Yb=!0;this.S.src=p.ae;this.S.mb=p.$d;this.aa(null);this.Xa=!0;this.Wb=this.Xb=!1;this.na(0.5,0.5);this.Pb.A=0;this.Pb.I=0;this.$h=!1;this.nb(p.Fc(),!1,p.Vk());return!0},ri:function(a,c){if(!a)throw"cc.Sprite.initWithFile(): filename should be non-null";
var d=p.Ib.d().Iw(a);if(!d)d=p.Ib.d().Re(a);else if(!c){var e=d.g();c=p.rect(0,0,e.width,e.height)}return this.Aa(d,c)},Aa:null,fq:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";d=d||!1;if(!p.eb.prototype.s.call(this))return!1;this.Ta=null;this.xa=this.eh=!1;this.Yb=!0;this.S.src=p.ae;this.S.mb=p.$d;this.Wb=this.Xb=!1;this.na(0.5,0.5);this.Pb.A=0;this.Pb.I=0;this.$h=!1;var e=new p.tb(255,255,255,255),f=this.qb;f.ya.D=e;f.Ha.D=e;f.Fa.D=e;f.Ba.D=e;
this.Xa=e=a.$f();if(!e)return this.xc=d||!1,c&&(e=this.la,e.x=c.x,e.y=c.y,e.width=c.width,e.height=c.height),a.pf(this.$u,this),!0;c||(e=a.g(),c=p.rect(0,0,e.width,e.height));this.aa(a);this.nb(c,d,c.Na);this.Zd(null);return this.Ne=!0},eq:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";d=d||!1;if(!p.eb.prototype.s.call(this))return!1;this.Ta=null;this.xa=this.eh=!1;this.Yb=!0;this.S.src=p.ae;this.S.mb=p.$d;this.Wb=this.Xb=!1;this.na(0.5,0.5);this.Pb.A=
0;this.Pb.I=0;this.$h=!1;var e=a.$f();this.Xa=e;if(!e)return this.xc=d||!1,c&&(this.la.x=c.x,this.la.y=c.y,this.la.width=c.width,this.la.height=c.height),a.pf(this.$u,this),!0;c||(e=a.g(),c=p.rect(0,0,e.width,e.height));this.Mf=a;this.aa(a);this.nb(c,d,c.Na);this.Zd(null);return!0},$u:null,WN:function(a){if(!this.Xa){this.Xa=!0;var c=this.la;if(!c)c=a.g(),c=p.rect(0,0,c.width,c.height);else if(p.vq(c)){var d=a.g();c.width=d.width;c.height=d.height}this.aa(a);this.nb(c,this.xc,c.Na);this.Zd(null);
this.Ne=!0;this.vd()}},VN:function(a){if(!this.Xa){this.Xa=!0;var c=this.la;if(!c)c=a.g(),c=p.rect(0,0,c.width,c.height);else if(p.vq(c)){var d=a.g();c.width=d.width;c.height=d.height}this.Mf=a;this.aa(a);this.nb(c,this.xc,c.Na);this.Zd(null);this.vd()}},nb:null,$E:function(a,c,d){this.xc=c||!1;d=d||a.Na;this.da(d);this.hC(a);this.ZE(a);a=this.mh;this.Wb&&(a.A=-a.A);this.Xb&&(a.I=-a.I);var e=this.la;this.Pb.A=a.A+(this.ha.va-e.width)/2;this.Pb.I=a.I+(this.ha.ga-e.height)/2;if(this.Ta)this.xa=!0;else{a=
0+this.Pb.A;c=0+this.Pb.I;d=a+e.width;var e=c+e.height,f=this.qb;f.ya.m={x:a,y:c,z:0};f.Ha.m={x:d,y:c,z:0};f.Fa.m={x:a,y:e,z:0};f.Ba.m={x:d,y:e,z:0};this.Ne=!0}},Sz:function(a,c,d){this.xc=c||!1;d=d||a.Na;this.da(d);this.hC(a);c=this.Tn;d=p.cd();c.x=0|a.x*d;c.y=0|a.y*d;c.width=0|a.width*d;c.height=0|a.height*d;c.gs=!(0===c.width||0===c.height);a=this.mh;this.Wb&&(a.A=-a.A);this.Xb&&(a.I=-a.I);this.Pb.A=a.A+(this.ha.va-this.la.width)/2;this.Pb.I=a.I+(this.ha.ga-this.la.height)/2;this.Ta&&(this.xa=
!0)},Af:null,nO:function(){if(this.xa){var a=this.qb,c=this.Y;if(!this.ta||c&&c!=this.Ta&&c.lk)a.Ha.m={x:0,y:0,z:0},a.Fa.m={x:0,y:0,z:0},a.Ba.m={x:0,y:0,z:0},a.ya.m={x:0,y:0,z:0},this.lk=!0;else{this.lk=!1;var d=this.Jl=c&&c!=this.Ta?p.Mk(this.tf(),c.Jl):this.tf(),e=this.la.Na,c=this.Pb.A,f=this.Pb.I,g=c+e.width,e=f+e.height,h=d.Ka,k=d.La,l=d.B,m=d.f,n=d.za,d=-d.pa,r=this.lv;a.ya.m={x:p.Ef(c*l-f*d+h),y:p.Ef(c*m+f*n+k),z:r};a.Ha.m={x:p.Ef(g*l-f*d+h),y:p.Ef(g*m+f*n+k),z:r};a.Fa.m={x:p.Ef(c*l-e*d+h),
y:p.Ef(c*m+e*n+k),z:r};a.Ba.m={x:p.Ef(g*l-e*d+h),y:p.Ef(g*m+e*n+k),z:r}}this.Ea.Nw(a,this.wc);this.eh=!1;this.bg(!1)}this.$h&&this.If(this.n,p.H.df.Af);p.Lj&&(a=[p.a(this.qb.ya.m.x,this.qb.ya.m.y),p.a(this.qb.Ha.m.x,this.qb.Ha.m.y),p.a(this.qb.Ba.m.x,this.qb.Ba.m.y),p.a(this.qb.Fa.m.x,this.qb.Fa.m.y)],p.rf.Id(a,4,!0))},mO:function(){if(this.xa){var a=this.Y;!this.ta||a&&a!=this.Ta&&a.lk?this.lk=!0:(this.lk=!1,this.Jl=a&&a!=this.Ta?p.Mk(this.tf(),a.Jl):this.tf());this.xa=this.eh=!1}this.$h&&this.If(this.n,
p.H.df.Af)},t:null,$x:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.Pa);null==d&&(d=a.Mc);if(this.Ta){if(!(a instanceof p.w)){p.log("cc.Sprite.addChild(): cc.Sprite only supports cc.Sprites as children when using cc.SpriteBatchNode");return}a.Q().ph!==this.Ea.Q().ph&&p.log("cc.Sprite.addChild(): cc.Sprite only supports a sprite using same texture as children when using cc.SpriteBatchNode");this.Ta.appendChild(a);this.Dd||this.Rz()}p.H.prototype.t.call(this,
a,c,d);this.$h=!0},Zx:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.Pa);null==d&&(d=a.Mc);p.H.prototype.t.call(this,a,c,d);this.$h=!0},bs:function(){var a=this.lc,c=this.Cb,a={i:a.i,h:a.h,f:a.f,B:c};this.Yb&&(a.i*=c/255,a.h*=c/255,a.f*=c/255);c=this.qb;c.ya.D=a;c.Ha.D=a;c.Fa.D=a;c.Ba.D=a;this.Ta&&(this.wc!=p.Cx?this.Ea.Nw(c,this.wc):this.xa=!0);this.Ne=!0},$:null,Qz:function(a){p.eb.prototype.$.call(this,a);this.bs()},Aq:function(a){p.eb.prototype.$.call(this,
a);this.xl()},o:null,Nz:function(a){p.eb.prototype.o.call(this,a);this.bs()},yq:function(a){var c=this.Yc();if(c.i!==a.i||c.h!==a.h||c.f!==a.f)p.eb.prototype.o.call(this,a),this.Kt(),this.xl()},Cc:null,eO:function(a){p.eb.prototype.Cc.call(this,a);this.bs()},jA:function(a){var c=this.Yc();p.eb.prototype.Cc.call(this,a);a=this.lc;if(c.i!==a.i||c.h!==a.h||c.f!==a.f)this.Kt(),this.xl()},Ko:null,tN:function(a){this.Ja();var c=a.pb;this.mh.A=c.x;this.mh.I=c.y;c=a.Q();a.Xa||(this.Xa=!1,a.pf(function(a){this.Xa=
!0;var c=a.Q();c!=this.ra&&this.aa(c);this.nb(a.Od(),a.Kc,a.Jc);this.vd()},this));c!=this.ra&&this.aa(c);this.xc=a.Kc;this.nb(a.Od(),this.xc,a.Jc)},sN:function(a){this.Ja();var c=a.pb;this.mh.A=c.x;this.mh.I=c.y;this.xc=a.Kc;var c=a.Q(),d=a.Xa;d||(this.Xa=!1,a.pf(function(a){this.Xa=!0;var c=a.Q();c!=this.ra&&this.aa(c);this.nb(a.Od(),a.Kc,a.Jc);this.vd()},this));c!=this.ra&&this.aa(c);this.xc&&(this.Mf=c);this.nb(a.Od(),this.xc,a.Jc);this.Nt=!1;d&&(a=this.Yc(),255===a.i&&255===a.h&&255===a.f||this.Kt())},
XG:null,uM:function(a){return p.DH(a.Od(),this.la)&&a.Q().getName()==this.ra.getName()&&p.uH(a.pb,this.mh)},tM:function(a){return a.Q()!=this.ra?!1:p.DH(a.Od(),this.la)},oP:function(){return p.ed.Gd(this.ra,p.Km(this.la),this.xc,p.pK(this.mh),p.Bx(this.ha))},Zd:null,lN:function(a){if(this.Ta=a)this.Jl={B:1,f:0,pa:0,za:1,Ka:0,La:0},this.Qo(this.Ta.Ea);else{this.wc=p.Cx;this.Qo(null);this.eh=!1;this.bg(!1);a=this.Pb.A;var c=this.Pb.I,d=a+this.la.width,e=c+this.la.height,f=this.qb;f.ya.m={x:a,y:c,z:0};
f.Ha.m={x:d,y:c,z:0};f.Fa.m={x:a,y:e,z:0};f.Ba.m={x:d,y:e,z:0};this.Ne=!0}},kN:function(a){(this.Ta=a)?(this.Jl={B:1,f:0,pa:0,za:1,Ka:0,La:0},this.Qo(this.Ta.Ea)):(this.wc=p.Cx,this.Qo(null),this.eh=!1,this.bg(!1))},aa:null,Cq:function(a){if(a&&!(a instanceof p.Hb))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.Ta&&this.Ta.Q()!=a?p.log("cc.Sprite.setTexture(): Batched sprites should use the same texture as the batchnode"):(a?this.cg(p.Yg.d().Dh(p.Ax)):this.cg(p.Yg.d().Dh(p.yK)),
this.Ta||this.ra==a||(this.ra=a,this.Kl()))},Bq:function(a){if(a&&!(a instanceof p.Hb))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.ra!=a&&(a&&a.mc instanceof HTMLImageElement&&(this.Mf=a),this.ra=a)},Kl:function(){this.Ta?p.log("cc.Sprite._updateBlendFunc(): _updateBlendFunc doesn't work when the sprite is rendered using a cc.CCSpriteBatchNode"):this.ra&&this.ra.tr()?(this.S.src=p.ae,this.S.mb=p.$d,this.$e(!0)):(this.S.src=770,this.S.mb=771,this.$e(!1))},
Kt:function(){var a,c=this.ra,d=this.Tn;c&&d.gs&&this.Mf&&(a=c.mc)&&(c=p.Ib.d().yG(this.Mf.mc))&&(this.Nt=!0,a instanceof HTMLCanvasElement&&!this.xc&&!this.IE?p.RA(a,c,this.lc,d,a):(a=p.RA(a,c,this.lc,d),c=new p.Hb,c.Xe(a),c.Ud(),this.aa(c)))},ZE:function(a){a=p.Km(a);var c=this.Ta?this.Ea.Q():this.ra;if(c){var d=c.no(),e=c.mo(),f,g=this.qb;this.xc?(p.Ms?(c=(2*a.x+1)/(2*d),d=c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/d,f=a.y/e,a=(a.y+a.width)/e),this.Wb&&
(e=f,f=a,a=e),this.Xb&&(e=c,c=d,d=e),g.ya.r.Ca=c,g.ya.r.W=f,g.Ha.r.Ca=c,g.Ha.r.W=a,g.Fa.r.Ca=d,g.Fa.r.W=f,g.Ba.r.Ca=d,g.Ba.r.W=a):(p.Ms?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+a.height)/e),this.Wb&&(e=c,c=d,d=e),this.Xb&&(e=f,f=a,a=e),g.ya.r.Ca=c,g.ya.r.W=a,g.Ha.r.Ca=d,g.Ha.r.W=a,g.Fa.r.Ca=c,g.Fa.r.W=f,g.Ba.r.Ca=d,g.Ba.r.W=f);this.Ne=!0}},Ia:null,Lf:function(){if(this.Xa){var a=p.L,c=this.ra;c?c.dc&&(this.nc.Ee(),
this.nc.eg(),p.sj(this.S.src,this.S.mb),p.C3(0,c),p.Pd(p.ut),a.bindBuffer(a.ARRAY_BUFFER,this.Iu),this.Ne&&(a.bufferData(a.ARRAY_BUFFER,this.qb.zA,a.DYNAMIC_DRAW),this.Ne=!1),a.vertexAttribPointer(0,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(1,4,a.UNSIGNED_BYTE,!0,24,12),a.vertexAttribPointer(2,2,a.FLOAT,!1,24,16),a.drawArrays(a.TRIANGLE_STRIP,0,4)):(this.nc.Ee(),this.nc.eg(),p.sj(this.S.src,this.S.mb),p.Xf(null),p.Pd(p.mg|p.SK),a.bindBuffer(a.ARRAY_BUFFER,this.Iu),this.Ne&&(p.L.bufferData(p.L.ARRAY_BUFFER,
this.qb.zA,p.L.STATIC_DRAW),this.Ne=!1),a.vertexAttribPointer(p.de,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(p.np,4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));p.th++;0!==p.Lj&&(1===p.Lj?(a=this.qb,a=[p.a(a.Fa.m.x,a.Fa.m.y),p.a(a.ya.m.x,a.ya.m.y),p.a(a.Ha.m.x,a.Ha.m.y),p.a(a.Ba.m.x,a.Ba.m.y)],p.rf.Id(a,4,!0)):2===p.Lj&&(a=this.ZA().Na,c=this.Pb,a=[p.a(c.x,c.y),p.a(c.x+a.width,c.y),p.a(c.x+a.width,c.y+a.height),p.a(c.x,c.y+a.height)],p.rf.Id(a,4,!0)))}},fl:function(a){if(this.Xa){a=
a||p.L;this.wn&&(a.globalCompositeOperation="lighter");var c=p.fa.d().ia,d=p.fa.d().oa;a.globalAlpha=this.Cb/255;var e=this.la,f=this.ha,g=this.Pb,h=this.Hy,k=0|g.A,l=-g.I-e.height,m=this.Tn;h.width=e.width*c;h.height=e.height*d;if(this.Wb||this.Xb)a.save(),this.Wb&&(k=-g.A-e.width,a.scale(-1,1)),this.Xb&&(l=g.I,a.scale(1,-1));k*=c;l*=d;this.ra&&m.gs?(f=this.ra.mc,this.Nt?a.drawImage(f,0,0,m.width,m.height,k,l,h.width,h.height):a.drawImage(f,m.x,m.y,m.width,m.height,k,l,h.width,h.height)):0!==f.va&&
(h=this.Yc(),a.fillStyle="rgba("+h.i+","+h.h+","+h.f+",1)",a.fillRect(k,l,f.va*c,f.ga*d));1===p.Lj?(a.strokeStyle="rgba(0,255,0,1)",k/=c,l=-(l/d),k=[p.a(k,l),p.a(k+e.width,l),p.a(k+e.width,l-e.height),p.a(k,l-e.height)],p.rf.Id(k,4,!0)):2===p.Lj&&(a.strokeStyle="rgba(0,255,0,1)",c=this.la.Na,l=-l,k=[p.a(k,l),p.a(k+c.width,l),p.a(k+c.width,l-c.height),p.a(k,l-c.height)],p.rf.Id(k,4,!0));(this.Wb||this.Xb)&&a.restore();p.th++}}});
p.sa.qc?(b=p.w.prototype,b.Wz=p.w.prototype.RN,b.$e=p.w.prototype.zN,b.Dc=p.w.prototype.fO,b.ctor=p.w.prototype.$g,b.Dk=p.w.prototype.nN,b.s=p.w.prototype.az,b.Aa=p.w.prototype.fq,b.$u=p.w.prototype.WN,b.nb=p.w.prototype.$E,b.Af=p.w.prototype.nO,b.t=p.w.prototype.$x,b.$=p.w.prototype.Qz,b.o=p.w.prototype.Nz,b.Cc=p.w.prototype.eO,b.Ko=p.w.prototype.tN,b.XG=p.w.prototype.uM,b.Zd=p.w.prototype.lN,b.aa=p.w.prototype.Cq,b.Ia=p.w.prototype.Lf):(b=p.w.prototype,b.Wz=p.w.prototype.QN,b.$e=p.w.prototype.yN,
b.Dc=p.w.prototype.sF,b.ctor=p.w.prototype.Zg,b.Dk=p.w.prototype.mN,b.s=p.w.prototype.$y,b.Aa=p.w.prototype.eq,b.$u=p.w.prototype.VN,b.nb=p.w.prototype.Sz,b.Af=p.w.prototype.mO,b.t=p.w.prototype.Zx,b.$=p.w.prototype.Aq,b.o=p.w.prototype.yq,b.Cc=p.w.prototype.jA,b.Ko=p.w.prototype.sN,b.XG=p.w.prototype.tM,b.Zd=p.w.prototype.kN,b.aa=p.w.prototype.Bq,b.Ia=p.w.prototype.fl);
p.w.Gd=function(a,c){var d=arguments.length,e=new p.w;switch(d){case 1:return e&&e.Aa(a)?e:null;case 2:return e&&e.Aa(a,c)?e:null;default:throw"Sprite.createWithTexture(): Argument must be non-nil ";}};p.w.create=function(a,c){var d=arguments.length,e=new p.w;if(0===d){if(e.s())return e}else if(e&&e.s(a,c))return e;return null};
p.w.SF=function(a){var c=null;if("string"==typeof a){if(c=p.Gf.d().Jg(a),!c)return p.log("Invalid spriteFrameName: "+a),null}else return p.log("Invalid argument. Expecting string."),null;return(a=new p.w)&&a.Vd(c)?a:null};p.w.RF=function(a){var c=new p.w;return c&&c.Vd(a)?c:null};p.Ai=p.qa.extend({Fq:null,xd:0,Yq:null,ctor:function(){this.xd=0},v:function(){var a=new p.Ai;a.Vd(this.Fq.v(),this.xd,this.Yq);return a},uv:function(){return p.v(this)},copy:function(){var a=new p.Ai;a.Vd(this.Fq.v(),this.xd,this.Yq);return a},Vd:function(a,c,d){this.Fq=a;this.xd=c;this.Yq=d;return!0},Jg:function(){return this.Fq},af:function(a){this.Fq=a},I0:function(){return this.xd},w7:function(a){this.xd=a},n3:function(){return this.Yq},c9:function(a){this.Yq=a}});
p.zi=p.qa.extend({zd:null,$i:0,ul:!1,ka:0,xd:0,Hl:0,ctor:function(){this.zd=[]},$0:function(){return this.zd},dI:function(a){this.zd=a},xA:function(a){var c=new p.Ai;c.Vd(a,1,null);this.zd.push(c);this.Hl++},oZ:function(a){a=p.Ib.d().Re(a);var c=p.Fc();c.Na=a.g();a=p.ed.Gd(a,c);this.xA(a)},pZ:function(a,c){var d=p.ed.Gd(a,c);this.xA(d)},ur:function(a,c,d){p.ms(a,p.Ai);this.xd=c;this.$i=d;this.dI([]);for(c=0;c<a.length;c++)d=a[c],this.zd.push(d),this.Hl+=d.xd;return!0},v:function(){var a=new p.zi;
a.ur(this.dE(),this.xd,this.$i);a.tw(this.ul);return a},uv:function(){var a=new p.zi;a.ur(this.dE(),this.xd,this.$i);a.tw(this.ul);return a},dE:function(){for(var a=[],c=0;c<this.zd.length;c++)a.push(this.zd[c].v());return a},copy:function(){return this.uv(null)},p1:function(){return this.$i},U7:function(a){this.$i=a},tw:function(a){this.ul=a},z2:function(){return this.ul},Se:function(){return this.Hl*this.xd},H0:function(){return this.xd},v7:function(a){this.xd=a},f3:function(){return this.Hl},SG:function(a,
c){p.ms(a,p.ed);this.$i=1;this.xd=c||0;this.dI([]);if(a)for(var d=0;d<a.length;d++){var e=a[d],f=new p.Ai;f.Vd(e,1,null);this.zd.push(f);this.Hl++}return!0},NH:function(){},KB:function(){}});p.zi.create=function(a,c,d){var e=arguments.length,f=new p.zi;0==e?f.SG(null,0):2==e?f.SG(a,c||0):3==e&&f.ur(a,c,d);return f};p.zi.QF=function(a,c,d){var e=new p.zi;e.ur(a,c,d);return e};p.Nk=p.qa.extend({CF:function(a,c){this.$k[c]=a},C6:function(a){a&&this.$k.hasOwnProperty(a)&&delete this.$k[a]},oG:function(a){return this.$k.hasOwnProperty(a)?this.$k[a]:null},hL:function(a,c){var d=a.animations;if(d){var e=1,f=a.properties;if(f)for(var e=null!=f.format?parseInt(f.format):e,f=f.spritesheets,g=p.Gf.d(),h=p.dd.d(),k,l=0;l<f.length;l++)k=h.nG(f[l],c),g.IF(k);switch(e){case 1:this.OM(d);break;case 2:this.PM(d);break;default:p.log("cc.AnimationCache. Invalid animation format")}}else p.log("cocos2d: cc.AnimationCache: No animations were found in provided dictionary.")},
eZ:function(a){if(!a)throw"cc.AnimationCache.addAnimations(): Invalid texture file name";var c=p.dd.d(),d=c.Nd(a);(c=c.xv(d))?this.hL(c,a):p.log("cc.AnimationCache.addAnimations(): File could not be found")},OM:function(a){var c=p.Gf.d(),d;for(d in a){var e=a[d],f=e.frames,e=parseFloat(e.delay)||0,g=null;if(f){for(var g=[],h=0;h<f.length;h++){var k=c.Jg(f[h]);if(k){var l=new p.Ai;l.Vd(k,1,null);g.push(l)}else p.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+f[h]+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}0===
g.length?p.log("cocos2d: cc.AnimationCache: None of the frames for animation '"+d+"' were found in the cc.SpriteFrameCache. Animation is not being added to the Animation Cache."):(g.length!=f.length&&p.log("cocos2d: cc.AnimationCache: An animation in your dictionary refers to a frame which is not in the cc.SpriteFrameCache. Some or all of the frames for the animation '"+d+"' may be missing."),g=p.zi.QF(g,e,1),p.Nk.d().CF(g,d))}else p.log("cocos2d: cc.AnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},
PM:function(a){var c=p.Gf.d(),d;for(d in a){var e=a[d],f=parseInt(e.loops),f=e.loop?p.Uk:isNaN(f)?1:f,g=e.restoreOriginalFrame&&!0==e.restoreOriginalFrame?!0:!1,h=e.frames;if(h){for(var k=[],l=0;l<h.length;l++){var m=h[l],n=m.spriteframe,r=c.Jg(n);if(r){var n=parseFloat(m.delayUnits)||0,m=m.notification,q=new p.Ai;q.Vd(r,n,m);k.push(q)}else p.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+n+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}e=
parseFloat(e.delayPerUnit)||0;h=new p.zi;h.ur(k,e,f);h.tw(g);p.Nk.d().CF(h,d)}else p.log("cocos2d: CCAnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},s:function(){this.$k={};return!0},$k:null});p.Nk.rS=function(){p.vm&&(p.vm.$k=null,p.vm=null)};p.Nk.d=function(){null===p.vm&&(p.vm=new p.Nk,p.vm.s());return p.vm};p.vm=null;p.ed=p.qa.extend({pb:null,Jc:null,ke:null,Kc:!1,la:null,hf:null,Ke:null,ra:null,Sn:"",Xa:!1,Xt:null,ctor:function(){this.pb=p.Uc();this.hf=p.Uc();this.Jc=p.zl();this.Kc=!1;this.Ke=p.zl();this.Sn="";this.ra=null;this.Xa=!1},RI:function(){return this.Xa},pf:function(a,c){null==this.Xt&&(this.Xt=[]);this.Xt.push({qj:a,sh:c})},vd:function(){var a=this.Xt;if(a){for(var c=0,d=a.length;c<d;c++){var e=a[c];e.qj.call(e.sh,this)}a.length=0}},fQ:function(){var a=this.ke;return p.rect(a.x,a.y,a.width,a.height)},
z8:function(a){this.ke||(this.ke=p.rect(0,0,0,0));this.ke.x=a.x;this.ke.y=a.y;this.ke.width=a.width;this.ke.height=a.height;this.la=p.ep(a)},z4:function(){return this.Kc},H8:function(a){this.Kc=a},Od:function(){var a=this.la;return p.rect(a.x,a.y,a.width,a.height)},mI:function(a){this.la||(this.la=p.rect(0,0,0,0));this.la.x=a.x;this.la.y=a.y;this.la.width=a.width;this.la.height=a.height;this.ke=p.Km(this.la)},U1:function(){return this.hf},i8:function(a){this.hf.A=a.x;this.hf.I=a.y;p.xt(this.hf,this.pb)},
b2:function(){return this.Ke},l8:function(a){this.Ke.va=a.width;this.Ke.ga=a.height},bQ:function(){return this.Jc},k8:function(a){this.Jc.va=a.width;this.Jc.ga=a.height},Q:function(){if(this.ra)return this.ra;if(""!==this.Sn){var a=p.Ib.d().Re(this.Sn);a&&(this.Xa=a.$f());return a}return null},aa:function(a){if(this.ra!=a){var c=a.$f();this.Xa=c;this.ra=a;c||a.pf(function(a){this.Xa=!0;if(this.Kc&&p.ad===p.Cf){var c=a.mc,c=p.TF(c,this.Od()),f=new p.Hb;f.Xe(c);f.Ud();this.aa(f);c=this.Od();this.mI(p.rect(0,
0,c.width,c.height))}c=this.la;0===c.width&&0===c.height&&(a=a.g(),this.la.width=a.width,this.la.height=a.height,this.ke=p.Km(this.la),this.Ke.va=this.ke.width,this.Ke.ga=this.ke.height,this.Jc.va=a.width,this.Jc.ga=a.height);this.vd()},this)}},T1:function(){return this.pb},h8:function(a){this.pb.A=a.x;this.pb.I=a.y},v:function(){var a=new p.ed;a.Rv(this.Sn,this.ke,this.Kc,this.hf,this.Ke);a.aa(this.ra);return a},uv:function(){var a=new p.ed;a.Rv(this.Sn,this.ke,this.Kc,this.hf,this.Ke);a.aa(this.ra);
return a},copy:function(){return this.uv()},Aa:function(a,c,d,e,f){2===arguments.length&&(c=p.Km(c));e=e||p.a(0,0);f=f||c.Na;this.aa(a);this.ke=c;this.la=p.ep(c);this.hf.A=e.x;this.hf.I=e.y;p.xt(e,this.pb);this.Ke.va=f.width;this.Ke.ga=f.height;p.Sx(f,this.Jc);this.Kc=d||!1;return!0},Rv:function(a,c,d,e,f){2===arguments.length&&(c=p.Km(c));e=e||p.a(0,0);f=f||c.Na;this.ra=null;this.Sn=a;this.ke=c;this.la=p.ep(c);this.Kc=d||!1;this.hf.A=e.x;this.hf.I=e.y;p.xt(e,this.pb);this.Ke.va=f.width;this.Ke.ga=
f.height;p.Sx(f,this.Jc);return!0}});p.ed.create=function(a,c,d,e,f){var g=new p.ed;switch(arguments.length){case 2:g.Rv(a,c);break;case 5:g.Rv(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};p.ed.Gd=function(a,c,d,e,f){var g=new p.ed;switch(arguments.length){case 2:g.Aa(a,c);break;case 5:g.Aa(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};
p.ed.yY=function(a,c,d,e,f){var g=new p.ed;g.ra=a;g.ke=c;g.la=p.ep(c);g.hf.A=e.x;g.hf.I=e.y;p.xt(g.hf,g.pb);g.Ke.va=f.width;g.Ke.ga=f.height;p.Sx(g.Ke,g.Jc);g.Kc=d;return g};p.Gf=p.qa.extend({me:null,mk:null,kq:null,ctor:function(){this.me={};this.mk={};this.kq=[]},by:function(a,c){var d=a.metadata||a.meta,e=a.frames,f=0;d&&(f=d.format,f=1>=f.length?parseInt(f):f);if(0>f||3<f)p.log("format is not supported for cc.SpriteFrameCache.addSpriteFramesWithDictionary");else for(var g in e)if(d=e[g]){var h=this.me[g];if(!h){if(0==f){var h=parseFloat(d.x),k=parseFloat(d.y),l=parseFloat(d.width),m=parseFloat(d.height),n=parseFloat(d.offsetX),r=parseFloat(d.offsetY),q=parseInt(d.originalWidth),
d=parseInt(d.originalHeight);q&&d||p.log("cocos2d: WARNING: originalWidth/Height not found on the cc.SpriteFrame. AnchorPoint won't work as expected. Regenrate the .plist");q=Math.abs(q);d=Math.abs(d);h=p.ed.Gd(c,p.rect(h,k,l,m),!1,p.a(n,r),p.size(q,d))}else if(1==f||2==f)h=p.rD(d.frame),k=!1,2==f&&(k=d.rotated),l=p.qD(d.offset),d=p.Ex(d.sourceSize),h=p.ed.Gd(c,h,k,l,d);else if(3==f){var h=p.Ex(d.spriteSize),k=p.qD(d.spriteOffset),l=p.Ex(d.spriteSourceSize),m=p.rD(d.textureRect),n=d.textureRotated,
r=d.aliases,q=g.toString(),t;for(t in r)this.mk.hasOwnProperty(r[t])&&p.log("cocos2d: WARNING: an alias with name "+t+" already exists"),this.mk[r[t]]=q;d.hasOwnProperty("spriteSize")&&(m=p.rect(m.x,m.y,h.width,h.height));h=p.ed.Gd(c,m,n,k,l)}else var y=d.filename,k=d.frame,h=d.sourceSize,k=p.rect(k.x,k.y,k.eJ,k.Td),d=d.rotated,l=p.a(0,0),h=p.size(h.eJ,h.Td),h=p.ed.Gd(c,k,d,l,h);p.ad===p.Cf&&h.Kc&&h.Q().$f()&&(d=h.Q().mc,d=p.TF(d,h.fQ()),k=new p.Hb,k.Xe(d),k.Ud(),h.aa(k),d=h.la,h.mI(p.rect(0,0,d.width,
d.height)));this.me[null!=y?y:g]=h}}},IF:function(a,c){if(!a)throw"cc.SpriteFrameCache.addSpriteFrames(): plist should be non-null";var d=p.dd.d(),e;"plist"==a.substr(a.lastIndexOf(".",a.length)+1,a.length)?(e=d.Nd(a),e=d.xv(e)):e=JSON.parse(d.wG(a));switch(arguments.length){case 1:if(!p.Sw(this.kq,a)){var f="",g=e.metadata||e.meta;g&&(f=g.textureFileName||g.image);""!=f?f=d.nG(f,a):(f=a,f=f.substr(0,f.lastIndexOf(".",f.length)),f+=".png");(d=p.Ib.d().Re(f))?this.by(e,d):p.log("cocos2d: cc.SpriteFrameCache: Couldn't load texture")}break;
case 2:if(c instanceof p.Hb)this.by(e,c);else{if(!c)throw"cc.SpriteFrameCache.addSpriteFrames(): texture name should not be null";(d=p.Ib.d().Re(c))?this.by(e,d):p.log("cocos2d: cc.SpriteFrameCache: couldn't load texture file. File not found "+c)}break;default:throw"Argument must be non-nil ";}},xA:function(a,c){this.me[c]=a},L6:function(){this.me=[];this.mk=[];this.kq={}},K6:function(a){a&&(this.mk.hasOwnProperty(a)&&delete this.mk[a],this.me.hasOwnProperty(a)&&delete this.me[a],this.kq={})},M6:function(a){var c=
p.dd.d(),d=c.Nd(a),c=c.xv(d);this.ZM(c);p.Sw(this.kq,a)&&p.pd(a)},ZM:function(a){a=a.frames;for(var c in a)this.me.hasOwnProperty(c)&&delete this.me[c]},N6:function(a){for(var c in this.me){var d=this.me[c];d&&d.Q()==a&&delete this.me[c]}},Jg:function(a){var c;this.me.hasOwnProperty(a)&&(c=this.me[a]);if(!c){var d;this.mk.hasOwnProperty(a)&&(d=this.mk[a]);d&&(this.me.hasOwnProperty(d.toString())&&(c=this.me[d.toString()]),c||p.log("cocos2d: cc.SpriteFrameCahce: Frame "+a+" not found"))}return c}});
p.mw=null;p.Gf.d=function(){p.mw||(p.mw=new p.Gf);return p.mw};p.Gf.sS=function(){p.mw=null};p.cp=29;
p.$a=p.H.extend({Ea:null,S:null,Sc:null,qZ:function(a,c,d){if(!a)throw"cc.SpriteBatchNode.addQuadFromSprite(): child should be non-null";if(!(a instanceof p.w))return p.log("cc.SpriteBatchNode.addQuadFromSprite(): SpriteBatchNode only supports cc.Sprites as children"),null;a.Yd(c);var e=0,f=this.Sc;if(f&&0<f.length)for(var g=0;g<f.length;g++){var h=f[g];h&&h.wc>=c&&++e}this.Sc=p.Ok(f,a,e);p.H.prototype.t.call(this,a,c,d);this.JH(!1);return this},xG:function(){return this.Ea},Qo:function(a){a!=this.Ea&&
(this.Ea=a)},L0:function(){return this.Sc},ri:function(a,c){var d=p.Ib.d().Iw(a);d||(d=p.Ib.d().Re(a));return this.Aa(d,c)},xl:function(){this.$D=!0},s:function(a,c){var d=p.Ib.d().Iw(a);d||(d=p.Ib.d().Re(a));return this.Aa(d,c)},Mv:function(){var a=this.Ea.Gc,c=Math.floor(4*(a+1)/3);p.log("cocos2d: CCSpriteBatchNode: resizing TextureAtlas capacity from "+a+" to "+c+".");this.Ea.US(c)||p.log("cocos2d: WARNING: Not enough memory to resize the atlas")},E6:function(a,c){this.removeChild(this.n[a],c)},
CH:function(a,c){var d=a.n;if(d&&0<d.length)for(var e=0;e<d.length;e++){var f=d[e];f&&0>f.Pa&&(c=this.CH(f,c))}!a==this&&(a.Yd(c),c++);if(d&&0<d.length)for(e=0;e<d.length;e++)(f=d[e])&&0<=f.Pa&&(c=this.CH(f,c));return c},eB:function(a){var c=a.n;return c&&0!=c.length?this.eB(c[c.length-1]):a.wc},yR:function(a){var c=a.n;return c&&0!=c.length?this.yR(c[c.length-1]):a.wc},BO:function(a,c){var d=a.getParent().n,e=p.Uw(d,a),f=a.getParent()==this,g=null;0<e&&e<p.PK&&(g=d[e-1]);if(f)return 0==e?0:this.eB(g)+
1;if(0==e)return d=a.getParent(),0>c?d.wc:d.wc+1;if(0>g.Pa&&0>c||0<=g.Pa&&0<=c)return this.eB(g)+1;d=a.getParent();return d.wc+1},JH:function(a){this.Dd=a},Dk:function(a,c){this.S=1==arguments.length?a:{src:a,mb:c}},jr:function(){return this.S},Mr:function(a,c){if(!a)throw"cc.SpriteBatchNode.addChild():child should be non-null";-1===this.n.indexOf(a)?p.log("cc.SpriteBatchNode.addChild(): Child doesn't belong to Sprite"):c!==a.Pa&&(p.H.prototype.Mr.call(this,a,c),this.Ja())},removeChild:function(a,
c){null!=a&&(-1===this.n.indexOf(a)?p.log("cc.SpriteBatchNode.addChild(): sprite batch node should contain the child"):(this.sm(a),p.H.prototype.removeChild.call(this,a,c)))},EM:null,Fl:null,aZ:!1,Mf:null,ctor:null,Zg:function(a){p.H.prototype.ctor.call(this);a&&this.s(a,p.cp)},$g:function(a){p.H.prototype.ctor.call(this);this.EM=new p.Lg;a&&this.s(a,p.cp)},aJ:null,jO:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";a instanceof p.w?(a.Zd(this),a.Yd(c),
a.bg(!0),a.Af()):p.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},kO:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";if(a instanceof p.w){for(var d=this.Ea.Gc;c>=d||d==this.Ea.Ga;)this.Mv();a.Zd(this);a.Yd(c);a.bg(!0);a.Af()}else p.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},Wu:function(a,c){var d=this.Sc,e=this.Ea,f=e.ie,g=d[a],
h=p.Px(f[a]);d[c].Yd(a);d[a]=d[c];e.Nw(f[c],a);d[c]=g;e.Nw(h,c)},TG:null,rM:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";a instanceof p.w?(a.Zd(this),a.Yd(c),a.bg(!0),a.Af(),this.n=p.Ok(this.n,a,c)):p.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},sM:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";if(a instanceof p.w){for(var d=this.Ea;c>=d.Gc||
d.Gc===d.Ga;)this.Mv();a.Zd(this);a.Yd(c);d.nB(a.qb,c);a.bg(!0);a.Af()}else p.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},rF:function(a,c){var d=0,e=a.n;e&&(d=e.length);var f=0;if(0===d)f=a.wc,a.Yd(c),a.Mo(0),f!=c&&this.Wu(f,c),c++;else{f=!0;0<=e[0].Pa&&(f=a.wc,a.Yd(c),a.Mo(0),f!=c&&this.Wu(f,c),c++,f=!1);for(d=0;d<e.length;d++){var g=e[d];f&&0<=g.Pa&&(f=a.wc,a.Yd(c),a.Mo(0),f!=c&&this.Wu(f,c),c++,f=!1);c=this.rF(g,c)}f&&(f=a.wc,a.Yd(c),
a.Mo(0),f!=c&&this.Wu(f,c),c++)}return c},Kl:function(){this.Ea.Q().tr()||(this.S.src=770,this.S.mb=771)},Aa:null,eq:function(a){this.n=[];this.Sc=[];this.S=new p.Qk(p.ae,p.$d);this.Fl=this.Mf=a;return!0},fq:function(a,c){this.n=[];this.Sc=[];this.S=new p.Qk(p.ae,p.$d);c=c||p.cp;this.Ea=new p.Pm;this.Ea.Aa(a,c);this.Kl();this.cg(p.Yg.d().Dh(p.Ax));return!0},bR:function(a,c){a.Zd(this);a.Yd(c);a.bg(!0);var d=this.Ea;d.Ga>=d.Gc&&this.Mv();d.nB(a.qb,c);this.Sc=p.Ok(this.Sc,a,c);var d=c+1,e=this.Sc;if(e&&
0<e.length)for(;d<e.length;d++)e[d].Yd(e[d].wc+1);if((e=a.n)&&0<e.length)for(d=0;d<e.length;d++)if(e[d]){var f=this.BO(e[d],e[d].Pa);this.bR(e[d],f)}},appendChild:null,oL:function(a){this.Dd=!0;a.Zd(this);a.bg(!0);this.Sc.push(a);a.Yd(this.Sc.length-1);a=a.n;for(var c=0;c<a.length;c++)this.appendChild(a[c])},pL:function(a){this.Dd=!0;a.Zd(this);a.bg(!0);this.Sc.push(a);var c=this.Sc.length-1;a.Yd(c);var d=this.Ea;d.Ga==d.Gc&&this.Mv();d.nB(a.qb,c);a=a.n;for(c=0;c<a.length;c++)this.appendChild(a[c])},
sm:null,$M:function(a){a.Zd(null);var c=this.Sc,d=p.Uw(c,a);if(-1!=d){p.Yo(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.Yd(f.wc-1)}}if((a=a.n)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.sm(a[c])},aN:function(a){this.Ea.QS(a.wc);a.Zd(null);var c=this.Sc,d=p.Uw(c,a);if(-1!=d){p.Yo(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.Yd(f.wc-1)}}if((a=a.n)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.sm(a[c])},Q:null,Vy:function(){return this.Fl},Wy:function(){return this.Ea.Q()},aa:null,Bq:function(a){this.Fl=
a;for(var c=this.n,d=0;d<c.length;d++)c[d].aa(a)},Cq:function(a){this.Ea.aa(a);this.Kl()},ea:null,Ll:function(a){var c=a||p.L;if(this.ta){c.save();this.transform(a);var d=this.n;if(d)for(this.nd(),a=0;a<d.length;a++)d[a]&&d[a].ea(c);c.restore()}},Ml:function(a){a=a||p.L;if(this.ta){p.yo();var c=this.Zj;c&&c.to()&&(c.BA(),this.Mw());this.nd();this.transform(a);this.Ia(a);c&&c.to()&&c.yA(this);p.xo();this.Mo(0)}},t:null,Zx:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";
a instanceof p.w?(c=null==c?a.Pa:c,d=null==d?a.Mc:d,p.H.prototype.t.call(this,a,c,d),this.appendChild(a),this.Ja()):p.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},$x:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";a instanceof p.w?a.Q()!=this.Ea.Q()?p.log("cc.SpriteBatchNode.addChild(): cc.Sprite is not using the same texture"):(c=null==c?a.Pa:c,d=null==d?a.Mc:d,p.H.prototype.t.call(this,a,c,d),this.appendChild(a),
this.Ja()):p.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},Eh:null,WM:function(a){var c=this.Sc;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].Zd(null);p.H.prototype.Eh.call(this,a);this.Sc=[]},XM:function(a){var c=this.Sc;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].Zd(null);p.H.prototype.Eh.call(this,a);this.Sc=[];this.Ea.KS()},nd:null,ON:function(){if(this.Dd){var a,c=0,d=this.n,e=d.length,f;for(a=1;a<e;a++){var g=d[a],
c=a-1;for(f=d[c];0<=c&&(g.Pa<f.Pa||g.Pa==f.Pa&&g.jf<f.jf);)d[c+1]=f,c-=1,f=d[c];d[c+1]=g}0<d.length&&this.If(d,p.H.df.nd);this.Dd=!1}},PN:function(){if(this.Dd){var a=this.n,c,d=0,e=a.length,f;for(c=1;c<e;c++){var g=a[c],d=c-1;for(f=a[d];0<=d&&(g.Pa<f.Pa||g.Pa==f.Pa&&g.jf<f.jf);)a[d+1]=f,d-=1,f=a[d];a[d+1]=g}if(0<a.length)for(this.If(a,p.H.df.nd),c=d=0;c<a.length;c++)d=this.rF(a[c],d);this.Dd=!1}},Ia:null,Lf:function(){0!==this.Ea.Ga&&(this.nc.Ee(),this.nc.eg(),this.If(this.n,p.H.df.Af),p.sj(this.S.src,
this.S.mb),this.Ea.tP())}});
p.sa.qc?(b=p.$a.prototype,b.ctor=p.$a.prototype.$g,b.aJ=p.$a.prototype.kO,b.TG=p.$a.prototype.sM,b.Aa=p.$a.prototype.fq,b.appendChild=p.$a.prototype.pL,b.sm=p.$a.prototype.aN,b.Q=p.$a.prototype.Wy,b.aa=p.$a.prototype.Cq,b.ea=p.$a.prototype.Ml,b.t=p.$a.prototype.$x,b.Eh=p.$a.prototype.XM,b.nd=p.$a.prototype.PN,b.Ia=p.$a.prototype.Lf):(b=p.$a.prototype,b.ctor=p.$a.prototype.Zg,b.aJ=p.$a.prototype.jO,b.TG=p.$a.prototype.rM,b.Aa=p.$a.prototype.eq,b.appendChild=p.$a.prototype.oL,b.sm=p.$a.prototype.$M,
b.Q=p.$a.prototype.Vy,b.aa=p.$a.prototype.Bq,b.ea=p.$a.prototype.Ll,b.Eh=p.$a.prototype.WM,b.t=p.$a.prototype.Zx,b.nd=p.$a.prototype.ON,b.Ia=p.H.prototype.Ia);p.$a.create=function(a,c){c=c||p.cp;var d=new p.$a;d.s(a,c);return d};p.$a.Gd=function(a,c){c=c||p.cp;var d=new p.$a;d.Aa(a,c);return d};p.RV={OV:0,QV:1,PV:2,NV:3,MV:4};
p.be=p.qa.extend({mq:0,DE:0,Lq:!1,Kq:!1,Su:!1,Tu:!1,Uu:!1,BM:0,uu:0,rp:"",lj:null,ctor:function(){this.DE=this.mq=0;this.Uu=this.Tu=this.Su=this.Kq=this.Lq=!1;this.uu=this.BM=0;this.rp="";this.lj={}},A1:function(){return this.mq},z1:function(){return this.DE},B1:function(){return this.uu},y9:function(){return this.Kq},z9:function(){return this.Lq},w9:function(){return this.Su},x9:function(){return this.Tu},A9:function(){return this.Uu},co:function(a){return-1<this.rp.indexOf(a)},s:function(){var a=
this.lj;a["cocos2d.x.version"]=p.ss;a["cocos2d.x.compiled_with_profiler"]=!1;a["cocos2d.x.compiled_with_gl_state_cache"]=p.VC;return!0},o0:function(a,c){var d=this.lj;return d.hasOwnProperty(a)?d[a]:c},j0:function(a,c){null==c&&(c=!1);var d=this.lj;return d.hasOwnProperty(a)?d[a]:c},L1:function(a,c){null==c&&(c=0);var d=this.lj;return d.hasOwnProperty(a)?d[a]:c},N1:function(a){var c=this.lj;return c.hasOwnProperty(a)?c[a]:null},XT:function(a,c){this.lj[a]=c},xP:function(){0===p.VC&&(p.log(""),p.log("cocos2d: **** WARNING **** CC_ENABLE_PROFILERS is defined. Disable it when you finish profiling (from ccConfig.js)"),
p.log(""))},HP:function(){if(p.ad!==p.Cf){var a=p.L,c=this.lj;c["gl.vendor"]=a.getParameter(a.VENDOR);c["gl.renderer"]=a.getParameter(a.RENDERER);c["gl.version"]=a.getParameter(a.VERSION);this.rp="";for(var d=a.getSupportedExtensions(),e=0;e<d.length;e++)this.rp+=d[e]+" ";this.mq=a.getParameter(a.MAX_TEXTURE_SIZE);c["gl.max_texture_size"]=this.mq;this.uu=a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS);c["gl.max_texture_units"]=this.uu;this.Lq=this.co("GL_IMG_texture_compression_pvrtc");c["gl.supports_PVRTC"]=
this.Lq;this.Kq=!1;c["gl.supports_NPOT"]=this.Kq;this.Su=this.co("GL_IMG_texture_format_BGRA888");c["gl.supports_BGRA8888"]=this.Su;this.Tu=this.co("GL_EXT_discard_framebuffer");c["gl.supports_discard_framebuffer"]=this.Tu;this.Uu=this.co("vertex_array_object");c["gl.supports_vertex_array_object"]=this.Uu;p.EC()}},Z4:function(a){var c=p.dd.d(),d=c.Nd(a),c=c.xv(d);if(null!=c)if(c=c.data)for(var e in c)this.lj[e]=c[e];else p.log("Expected 'data' dict, but not found. Config file: "+a)}});p.be.Eq=null;
p.be.d=function(){p.be.Eq||(p.be.Eq=new p.be,p.be.Eq.s());return p.be.Eq};p.be.n6=function(){p.be.Eq=null};p.th=0;p.yJ=0;p.SC=1;p.zJ=3;p.AJ=p.SC;p.WV=0;p.UV=1;p.XV=2;p.VV=3;p.TV=2;p.$V=p.qa.extend({c$:function(){}});p.WC=function(a){var c=new p.Lg;p.qR(p.Us,c);var d=new p.Lg;p.qR(p.Ts,d);p.tR(a,c,d)};
p.M=p.qa.extend({KY:!1,qq:!1,sl:!1,Hu:!1,wl:!1,og:0,lz:0,kk:0,Sm:0,el:1,Mp:!1,Vj:0,$t:0,Oj:null,Qj:null,Wj:null,vb:null,Zi:null,ci:null,zu:null,ug:null,ji:null,xz:null,Lc:null,zd:0,fA:0,Mz:0,vY:null,Sf:null,ng:null,qe:null,gz:null,Ct:null,oq:null,JY:!1,ctor:function(){this.Zi=Date.now();if(!p.oB){var a=this;window.addEventListener("focus",function(){a.Zi=Date.now()},!1)}},fN:function(){this.Zi=Date.now()},s:function(){this.lz=this.og=1/p.gP;this.ji=[];this.kk=p.AJ;this.xz=null;this.$t=this.Sm=0;this.Mp=
!1;this.fA=this.zd=0;this.Zi=Date.now();this.Hu=this.sl=!1;this.vb=p.zl();this.ug=null;this.el=1;this.Sf=new p.CK;this.ng=new p.jJ;this.Sf.PH(this.ng,p.Xs,!1);p.U&&(this.qe=new p.U,this.qe.s());p.Im&&(this.gz=p.Im.d());p.Hj&&(this.Ct=new p.Hj);p.td&&(this.oq=new p.td,this.oq.s());return!0},GO:function(){var a=Date.now();this.qq?(this.Vj=0,this.qq=!1):this.Vj=(a-this.Zi)/1E3;0<p.ps&&0.2<this.Vj&&(this.Vj=1/60);this.Zi=a},$O:function(a){var c=new p.Lg;p.WC(c);var d=new p.Lg;p.S4(d,c);var c=c.Mg[14]/
c.Mg[15],e=this.ug.lo();a=new p.zo(2*a.x/e.width-1,1-2*a.y/e.height,c);c=new p.zo;p.vR(c,a,d);return p.a(c.x,c.y)},bP:function(a){var c=new p.Lg;p.WC(c);var d=new p.zo;a=new p.zo(a.x,a.y,0);p.vR(d,a,c);c=this.ug.lo();return p.a(c.width*(0.5*d.x+0.5),c.height*(0.5*-d.y+0.5))},uP:function(){this.GO();this.sl||this.Sf.update(this.Vj);this.bE();this.ci&&this.WT();this.gy&&this.gy();this.Lc&&this.Lc.ea();this.zu&&this.zu.ea();this.Mp&&this.NN();this.cy&&this.cy();this.fA++;this.Mp&&this.wL()},EL:function(){var a=
this.ug.se;p.L.clearRect(-a.x,a.y,a.width,-a.height)},LL:function(){var a=p.L;a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},gy:null,cy:null,rL:function(){p.yo()},nL:function(){p.xo()},end:function(){this.Hu=!0},A0:function(){return this.el},K1:function(){return this.zu},x3:function(){return this.vb},uQ:function(){return p.size(this.vb.width*this.el,this.vb.height*this.el)},pr:function(){return this.ug?this.ug.pr():this.vb},DG:function(){return this.ug?this.ug.DG():p.qK},rr:function(){return this.vb.height/
1.1566},pause:function(){this.sl||(this.lz=this.og,this.Pr(0.25),this.sl=!0)},h6:function(){if(!this.Lc)throw"running scene should not null";this.ji.pop();var a=this.ji.length;0==a?this.end():(this.wl=!0,this.ci=this.ji[a-1])},GB:function(){p.nx.GB()},qS:function(){this.We().as();this.qe&&this.qe.JS();this.Lc&&(this.Lc.Pg(),this.Lc.md(),this.Lc.qf());this.ci=this.Lc=null;this.ji=[];this.LI();p.nx.GB();p.Nk.rS();p.Gf.sS();p.Ib.tS();p.EC()},uS:function(a){if(!a)throw"the scene should not null";this.wl=
!1;this.ji.push(a);this.ci=a},KH:function(a){if(!this.Lc)throw"Use runWithScene: instead to start the director";if(!a)throw"the scene should not be null";var c=this.ji.length;0===c?(this.wl=!0,this.ji[c]=a):(this.wl=!0,this.ji[c-1]=a);this.ci=a},MH:function(){this.sl&&(this.Pr(this.lz),(this.Zi=Date.now())||p.log("cocos2d: Director: Error in gettimeofday"),this.sl=!1,this.Vj=0)},cT:function(a){if(!a)throw"This command can only be used to start the CCDirector. There is already a scene present.";if(this.Lc)throw"_runningScene should be null";
this.uS(a);this.JI()},oT:function(a){a?p.sj(p.ae,p.$d):p.sj(p.L.ONE,p.L.ZERO)},wT:function(a){a!=this.el&&(this.el=a,this.kn())},AT:function(a){if(p.ad!==p.Cf){var c=p.L;a?(c.clearDepth(1),c.enable(c.DEPTH_TEST),c.depthFunc(c.LEQUAL)):c.disable(c.DEPTH_TEST)}},u7:function(){},eI:function(){this.oT(!0);this.AT(!1);this.sw(this.kk);p.L.clearColor(0,0,0,1)},d8:function(a){this.qq=a},WT:function(){var a=!1,c=!1;p.HD&&(a=this.Lc?this.Lc instanceof p.HD:!1,c=this.ci?this.ci instanceof p.HD:!1);if(!c){if(c=
this.Lc)c.Pg(),c.md();this.wl&&c&&c.qf()}this.Lc=this.ci;this.ci=null;a||null==this.Lc||(this.Lc.ag(),this.Lc.Ah())},e8:function(a){this.zu=a},Rb:function(){return this.xz},Rg:function(a){this.xz=a},bU:function(a){this.vb.iC(p.canvas.width);this.vb.XB(p.canvas.height);this.ug=a||p.fa.d();p.ad!==p.Cf&&(a=p.be.d(),a.HP(),a.xP(),this.kn(),this.eI(),this.qe&&this.qe.CT(!0))},zI:function(){if(this.ug){var a=this.vb;this.ug.tU(0,0,a.width,a.height)}},sw:function(a){var c=this.vb;if(p.ad===p.Nj){this.zI();
switch(a){case p.yJ:p.cm(p.Us);p.rB();var d=new p.Lg;p.uR(d,0,c.width,0,c.height,-1024,1024);p.Tv(d);p.cm(p.Ts);p.rB();break;case p.SC:var e=this.rr(),f=new p.Lg,d=new p.Lg;p.cm(p.Us);p.rB();p.T4(f,60,c.width/c.height,0.1,2*e);p.Tv(f);p.cm(p.Ts);p.rB();e=p.Ar(null,c.width/2,c.height/2,e);c=p.Ar(null,c.width/2,c.height/2,0);f=p.Ar(null,0,1,0);p.sR(d,e,c,f);p.Tv(d);break;case p.zJ:break;default:p.log("cocos2d: Director: unrecognized projection")}this.kk=a;p.v8()}else this.kk=a},NN:function(){this.zd++;
this.Sm+=this.Vj;this.Oj&&this.Qj&&this.Wj?(this.Sm>p.xJ&&(this.Qj.ba(this.Mz.toFixed(3)),this.$t=this.zd/this.Sm,this.Sm=this.zd=0,this.Oj.ba(this.$t.toFixed(1)),this.Wj.ba((0|p.th).toString())),this.Oj.ea(),this.Qj.ea(),this.Wj.ea()):this.kn();p.th=0},C4:function(){return this.wl},C2:function(){return this.Lc},d0:function(){return this.og},g4:function(){return this.Mp},y7:function(a){this.Mp=a},H2:function(){return this.Mz},Z1:function(){return this.ug},q4:function(){return this.qq},u4:function(){return this.sl},
g3:function(){return this.fA},p2:function(){return this.kk},i6:function(){this.iS(1)},iS:function(a){if(!this.Lc)throw"A running Scene is needed";var c=this.ji,d=c.length;if(0==d)this.end();else if(!(a>d)){for(;d>a;){var e=c.pop();e.le&&(e.Pg(),e.md());e.qf();d--}this.ci=c[c.length-1];this.wl=!1}},We:function(){return this.Sf},iU:function(a){this.Sf!=a&&(this.Sf=a)},Wf:function(){return this.ng},mT:function(a){this.ng!=a&&(this.ng=a)},i3:function(){return this.qe},a9:function(a){this.qe!=a&&(this.qe=
a)},Iv:function(){if(!p.Im)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";return this.gz},S7:function(a){if(!p.Im)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";this.gz=a},ko:function(){if(!p.Hj)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";return this.Ct},Z6:function(a){if(!p.Hj)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";this.Ct!=
a&&(this.Ct=a)},K0:function(){return this.Vj},Ve:function(){if(!p.td)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";return this.oq},b8:function(a){if(!p.td)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.oq!=a&&(this.oq=a)},kn:null,OL:function(){if(!p.mx)return this.eE();if(null!=p.M.kE&&!1!=p.M.kE){var a=new p.Hb;a.Xe(p.M.Ny);a.Ud();var c=p.fa.d().lo().height/320;0===c&&(c=this.vb.height/320);var d=new p.mx;d.Pz(!0);
d.wk("00.0",a,12,32,".");d.Cj(c);this.Oj=d;d=new p.mx;d.Pz(!0);d.wk("0.000",a,12,32,".");d.Cj(c);this.Qj=d;d=new p.mx;d.Pz(!0);d.wk("000",a,12,32,".");d.Cj(c);this.Wj=d;a=p.TC;this.Wj.F(p.uf(p.a(0,34*c),a));this.Qj.F(p.uf(p.a(0,17*c),a));this.Oj.F(a)}},eE:function(){var a=0,a=this.vb.width>this.vb.height?0|this.vb.height/320*24:0|this.vb.width/320*24;this.Oj=p.T.create("000.0","Arial",a);this.Qj=p.T.create("0.000","Arial",a);this.Wj=p.T.create("0000","Arial",a);var a=p.TC,c=this.Wj.g();this.Wj.F(p.uf(p.a(c.width/
2,5*c.height/2),a));c=this.Qj.g();this.Qj.F(p.uf(p.a(c.width/2,3*c.height/2),a));c=this.Oj.g();this.Oj.F(p.uf(p.a(c.width/2,c.height/2),a))},wL:function(){this.Mz=(Date.now()-this.Zi)/1E3}});p.sa.qc?(p.M.prototype.bE=p.M.prototype.LL,p.M.prototype.gy=p.M.prototype.rL,p.M.prototype.cy=p.M.prototype.nL,p.M.prototype.kn=p.M.prototype.OL):(p.M.prototype.bE=p.M.prototype.EL,p.M.prototype.kn=p.M.prototype.eE);
p.BJ=p.M.extend({Sv:!1,JI:function(){this.qq=!0;this.Sv=!1;p.Bi.d().Pr(this.og)},gH:function(){this.Hu?(this.Hu=!1,this.qS()):this.Sv||this.uP()},LI:function(){this.Sv=!0},Pr:function(a){this.og=a;this.Sv||(this.LI(),this.JI())}});p.lw=null;p.hG=!0;p.M.d=function(){p.hG&&(p.hG=!1,p.lw=new p.BJ,p.lw.s(),p.lw.bU(p.fa.d()));return p.lw};Object.defineProperties(p,{n$:{get:function(){return p.mP.vb},enumerable:!0}});p.Q_=!0;p.gP=60;p.M.Ny=new Image;
p.M.Ny.addEventListener("load",function(){p.M.kE=!0;this.removeEventListener("load",arguments.callee,!1)});p.M.Ny.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAAgCAYAAAD9qabkAAAKQ2lDQ1BJQ0MgcHJvZmlsZQAAeNqdU3dYk/cWPt/3ZQ9WQtjwsZdsgQAiI6wIyBBZohCSAGGEEBJAxYWIClYUFRGcSFXEgtUKSJ2I4qAouGdBiohai1VcOO4f3Ke1fXrv7e371/u855zn/M55zw+AERImkeaiagA5UoU8Otgfj09IxMm9gAIVSOAEIBDmy8JnBcUAAPADeXh+dLA//AGvbwACAHDVLiQSx+H/g7pQJlcAIJEA4CIS5wsBkFIAyC5UyBQAyBgAsFOzZAoAlAAAbHl8QiIAqg0A7PRJPgUA2KmT3BcA2KIcqQgAjQEAmShHJAJAuwBgVYFSLALAwgCgrEAiLgTArgGAWbYyRwKAvQUAdo5YkA9AYACAmUIszAAgOAIAQx4TzQMgTAOgMNK/4KlfcIW4SAEAwMuVzZdL0jMUuJXQGnfy8ODiIeLCbLFCYRcpEGYJ5CKcl5sjE0jnA0zODAAAGvnRwf44P5Dn5uTh5mbnbO/0xaL+a/BvIj4h8d/+vIwCBAAQTs/v2l/l5dYDcMcBsHW/a6lbANpWAGjf+V0z2wmgWgrQevmLeTj8QB6eoVDIPB0cCgsL7SViob0w44s+/zPhb+CLfvb8QB7+23rwAHGaQJmtwKOD/XFhbnauUo7nywRCMW735yP+x4V//Y4p0eI0sVwsFYrxWIm4UCJNx3m5UpFEIcmV4hLpfzLxH5b9CZN3DQCshk/ATrYHtctswH7uAQKLDljSdgBAfvMtjBoLkQAQZzQyefcAAJO/+Y9AKwEAzZek4wAAvOgYXKiUF0zGCAAARKCBKrBBBwzBFKzADpzBHbzAFwJhBkRADCTAPBBCBuSAHAqhGJZBGVTAOtgEtbADGqARmuEQtMExOA3n4BJcgetwFwZgGJ7CGLyGCQRByAgTYSE6iBFijtgizggXmY4EImFINJKApCDpiBRRIsXIcqQCqUJqkV1II/ItchQ5jVxA+pDbyCAyivyKvEcxlIGyUQPUAnVAuagfGorGoHPRdDQPXYCWomvRGrQePYC2oqfRS+h1dAB9io5jgNExDmaM2WFcjIdFYIlYGibHFmPlWDVWjzVjHVg3dhUbwJ5h7wgkAouAE+wIXoQQwmyCkJBHWExYQ6gl7CO0EroIVwmDhDHCJyKTqE+0JXoS+cR4YjqxkFhGrCbuIR4hniVeJw4TX5NIJA7JkuROCiElkDJJC0lrSNtILaRTpD7SEGmcTCbrkG3J3uQIsoCsIJeRt5APkE+S+8nD5LcUOsWI4kwJoiRSpJQSSjVlP+UEpZ8yQpmgqlHNqZ7UCKqIOp9aSW2gdlAvU4epEzR1miXNmxZDy6Qto9XQmmlnafdoL+l0ugndgx5Fl9CX0mvoB+nn6YP0dwwNhg2Dx0hiKBlrGXsZpxi3GS+ZTKYF05eZyFQw1zIbmWeYD5hvVVgq9ip8FZHKEpU6lVaVfpXnqlRVc1U/1XmqC1SrVQ+rXlZ9pkZVs1DjqQnUFqvVqR1Vu6k2rs5Sd1KPUM9RX6O+X/2C+mMNsoaFRqCGSKNUY7fGGY0hFsYyZfFYQtZyVgPrLGuYTWJbsvnsTHYF+xt2L3tMU0NzqmasZpFmneZxzQEOxrHg8DnZnErOIc4NznstAy0/LbHWaq1mrX6tN9p62r7aYu1y7Rbt69rvdXCdQJ0snfU6bTr3dQm6NrpRuoW623XP6j7TY+t56Qn1yvUO6d3RR/Vt9KP1F+rv1u/RHzcwNAg2kBlsMThj8MyQY+hrmGm40fCE4agRy2i6kcRoo9FJoye4Ju6HZ+M1eBc+ZqxvHGKsNN5l3Gs8YWJpMtukxKTF5L4pzZRrmma60bTTdMzMyCzcrNisyeyOOdWca55hvtm82/yNhaVFnMVKizaLx5balnzLBZZNlvesmFY+VnlW9VbXrEnWXOss623WV2xQG1ebDJs6m8u2qK2brcR2m23fFOIUjynSKfVTbtox7PzsCuya7AbtOfZh9iX2bfbPHcwcEh3WO3Q7fHJ0dcx2bHC866ThNMOpxKnD6VdnG2ehc53zNRemS5DLEpd2lxdTbaeKp26fesuV5RruutK10/Wjm7ub3K3ZbdTdzD3Ffav7TS6bG8ldwz3vQfTw91jicczjnaebp8LzkOcvXnZeWV77vR5Ps5wmntYwbcjbxFvgvct7YDo+PWX6zukDPsY+Ap96n4e+pr4i3z2+I37Wfpl+B/ye+zv6y/2P+L/hefIW8U4FYAHBAeUBvYEagbMDawMfBJkEpQc1BY0FuwYvDD4VQgwJDVkfcpNvwBfyG/ljM9xnLJrRFcoInRVaG/owzCZMHtYRjobPCN8Qfm+m+UzpzLYIiOBHbIi4H2kZmRf5fRQpKjKqLupRtFN0cXT3LNas5Fn7Z72O8Y+pjLk722q2cnZnrGpsUmxj7Ju4gLiquIF4h/hF8ZcSdBMkCe2J5MTYxD2J43MC52yaM5zkmlSWdGOu5dyiuRfm6c7Lnnc8WTVZkHw4hZgSl7I/5YMgQlAvGE/lp25NHRPyhJuFT0W+oo2iUbG3uEo8kuadVpX2ON07fUP6aIZPRnXGMwlPUit5kRmSuSPzTVZE1t6sz9lx2S05lJyUnKNSDWmWtCvXMLcot09mKyuTDeR55m3KG5OHyvfkI/lz89sVbIVM0aO0Uq5QDhZML6greFsYW3i4SL1IWtQz32b+6vkjC4IWfL2QsFC4sLPYuHhZ8eAiv0W7FiOLUxd3LjFdUrpkeGnw0n3LaMuylv1Q4lhSVfJqedzyjlKD0qWlQyuCVzSVqZTJy26u9Fq5YxVhlWRV72qX1VtWfyoXlV+scKyorviwRrjm4ldOX9V89Xlt2treSrfK7etI66Trbqz3Wb+vSr1qQdXQhvANrRvxjeUbX21K3nShemr1js20zcrNAzVhNe1bzLas2/KhNqP2ep1/XctW/a2rt77ZJtrWv913e/MOgx0VO97vlOy8tSt4V2u9RX31btLugt2PGmIbur/mft24R3dPxZ6Pe6V7B/ZF7+tqdG9s3K+/v7IJbVI2jR5IOnDlm4Bv2pvtmne1cFoqDsJB5cEn36Z8e+NQ6KHOw9zDzd+Zf7f1COtIeSvSOr91rC2jbaA9ob3v6IyjnR1eHUe+t/9+7zHjY3XHNY9XnqCdKD3x+eSCk+OnZKeenU4/PdSZ3Hn3TPyZa11RXb1nQ8+ePxd07ky3X/fJ897nj13wvHD0Ivdi2yW3S609rj1HfnD94UivW2/rZffL7Vc8rnT0Tes70e/Tf/pqwNVz1/jXLl2feb3vxuwbt24m3Ry4Jbr1+Hb27Rd3Cu5M3F16j3iv/L7a/eoH+g/qf7T+sWXAbeD4YMBgz8NZD+8OCYee/pT/04fh0kfMR9UjRiONj50fHxsNGr3yZM6T4aeypxPPyn5W/3nrc6vn3/3i+0vPWPzY8Av5i8+/rnmp83Lvq6mvOscjxx+8znk98ab8rc7bfe+477rfx70fmSj8QP5Q89H6Y8en0E/3Pud8/vwv94Tz+4A5JREAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfcAgcQLxxUBNp/AAAQZ0lEQVR42u2be3QVVZbGv1N17829eRLyIKAEOiISEtPhJTJAYuyBDmhWjAEx4iAGBhxA4wABbVAMWUAeykMCM+HRTcBRWkNH2l5moS0LCCrQTkYeQWBQSCAIgYRXEpKbW/XNH5zS4noR7faPEeu31l0h4dSpvc+t/Z199jkFWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhY/H9D/MR9qfKnLj/00U71aqfJn9+HCkCR/Wk36ddsgyJ/1wF4fkDfqqm9/gPsUeTnVr6a2xlQfnxdI7zs0W7irzD17Ytb2WT7EeNv/r4ox1O3Quf2QP2pgt9utwfout4FQE8AVBSlnaRmfvAURQkg2RlAbwB9AThlW5L0GaiKojhJhgOIBqDa7XaPrusdPtr5kQwF0BVAAoBIABRCKDd5aFUhRDAAw57eAOwAhKIoupft3zoqhB1AqLwuHIBut9uFt02qqvqRDJR2dAEQJj/BAOjn56dqmma+xiaECAEQAWAggLsB6A6HQ2iaZggBhBAqgEAAnQB0kzaEmT4hAITT6VQ8Ho/HJAKKECJQtr8LwD1y/A1/vcdfEUIEyfZ9AcQbYvZ942Px88L2UwlJR0dH0EMPPbRj5syZPUeNGrXR7Xb/641xIwJ1XY9NSUlZm52dfW+XLl1w8uRJzJ8//+OGhoYJqqqe1TSt1Wsm9NN1PSIqKmr12rVrR5WUlHy1bdu2AQCumWc3IYRD1/UwVVXnFRQUTIuNjUVzczN2797dWFJSkq8oymZd15sAGAEnFEUJ1nX9nzIzM1dnZmZGh4SE4OTJk5g5c+Zf29vbp9pstrMej6fVOyhIhgAYU1hY+B+hoaGoqKg4XVlZea+XTULTNFdCQsLGiRMnPuR2u3UhBOV9eeDAAWXTpk095DUe6WsoyRE5OTlr0tLSAux2O/bs2cO5c+e+pijKUpIXSHaQVAGkvPLKK++6XK4OksJLCFlXV2cvKSlJBFAjhU+x2WwhHo9nUHp6+urMzMy7wsLCUF9fjxdffPHjxsbGiTab7WuPx9NiEutOuq4PyMjI+M+srKyYqKgoHD58GDNmzNjq8XhyVFU9b/q+LH7hBAEYu3PnTlZVVRFAGgCX6f/tAHoOHDjwa0p27txp/JO9e/f+QM7cipw9nfL3kQBKt2zZQpJ87rnn6mQmoHilw2EACs+cOUOSrK+vZ1NTE0nyo48+IoBpxswoBcMJ4Ndjx471kOTFixe5d+9ekqTH42H//v13A4jyzpAURfEH0H/OnDnthu1z5sw558MmFUCPWbNmnaMP3nrrLZoyDmP8Hl68eDFJ8siRI9/Yc+zYMQKYKdtAztrTrl27xptRXV1NAKMAOAyBBBA/Y8aMdpLs6Ojgxx9//E37+++//29yvFXppwvAwMcee8xjtDHsuXLlCqOjo//ia3wsfpkoALqFhoZuIckJEyackimm3dQmEMDUmpoakmRISMhhAHOHDx/eQJIbN24kgKEyMAHAFRMTs2XXrl1saWkhSZ0kp0+ffhrAr3wEW/S8efOukORLL72kA1gKYMPWrVtJkk899dRJAHeYrgsEsIQkjx8/TgDvAPjd448/3kaSb7zxBmUa7vC6z53BwcFbSHL9+vU6Sc6aNes8gF5ewWAH0PfVV18lSQL4DMBGIcQ6AKtcLleBFC2jXtFt8ODBe0iyoqKCAJYByC8qKmJDQwOzsrK+MAmqo1OnTveHhoa+GRkZ+XZkZOSWiIiIvzgcjk9mzpypkWRmZuZpmbYbGV4AgPnNzc1sa2sjgN0A5iQmJtaSZHl5OQHcb/K3s81mW0uSTU1NBFAFYFbfvn1Pk+Tbb79NAA8IIVzW42/hByA+Pz/fLR/2ZXIda05NI/z9/TeR5J49ewhgqlxTrtI0jY2NjQQw3zTLuWJiYjaUlJToS5Ys6fjkk080kwDEeAmADcA9GzZsIElGRUW9CyAWwLApU6Y0kOSKFSsog9QICGdERMTGsrIyZmVlEcC9AB4IDw/fTpLbtm0jgN94CUAnAJmVlZVcs2aNZ/LkyRdJcvbs2b4EwAkgZfPmzTxw4AABFAN4BkC6vFeUSewcAO5duXIlSTIhIaEawGMAxgKYAmAGgCS73e5vrKVk/yGythANYEhCQsIhkly+fDkBpKqqGmL6DgIALDKN/3yZpVWQZGVlJQE8aPI3KiMjo5okV61aRQAjAPQBMPfIkSN0u90EUCBtsPiFEwpgbn19PdetW2fM5N4zQ9ekpKQqkty0aRMBpMjiWM6JEydIkoqirJUFJ6iq6pAPVy8A6cZMehMBUACEuVyuFwG8HBwcPEIWx367ZMkSjSQXLVrUJouTRorrkAHdA8BdQogsAOsKCwtJkmPGjDkvMw2bDDo/ADEjRoz4XylyFbm5uY0mAbjLyyZ/AOOrq6tZVlbWsWDBgo69e/eyoqKCgwcPPg4gSQaoIRbp27dvN7KF+tLSUr28vJwFBQXtMpvpYRIM7+wrAkDeqVOnePbsWQIoNKfzpiXPg8uXLydJJicnNwF4f+nSpW6STEtLq5fjYwhk1wkTJtSQ5Ouvv04AqTKj+N2xY8dIkgEBAW/Ie1v8wncRegwZMmQvSfbr12+3Ua33WqPfOWbMmP0kWVpaSgCDZAqcfejQIWNZsEGKgvnh9gfQb9myZd8nAEJVVZtMkUNk8CcNHTq0liR1XWdYWNhmH1mJIme80OnTp18x1rp5eXkEsNJms92Fb7e/IgEsvHz5Mp999tkmAI/l5uZeMC0B7vEqqAYAyL106RJJsra2lpWVld+sucePH38ZQG+5NncBeOrgwYMkqbe3t/Po0aOsra011wAWyl0H7x0JJ4DE+fPnu0kyPT29DsDdUrBuyNKEEAkAdpw/f/6GeoEM8GUmfwEgPCIiopwkGxsbabPZPgOw6L777vvm4p49e26VGYjFLxUhhD+ApLKyMp44ccIoVnXybgbgzkcfffRzklyzZg0BDJYCMMmoCwQFBXkLgLGWvvcWAgBToSsKwNPTp09vMR7UuLi4rwH0lgU8c/Db5ezbeeTIkRWzZ8++aMxu+fn5BPCADBwHgP4LFy701NXVEUAJgAnPP/98kyxMNgHo53A4zH77BQQETMvPz7+Um5vbBuAlAFMSExPPmdbVL0qh8Acw8fDhw5SCchVAEYAVb775JknyhRdeaJYztHfxMwLAaqNwCGC2FArv8x0hAHKNLGPKlCme5OTk/Zs3bzb7O0wKiiG8KXl5ed8IxenTp0mSR48e1UmyW7duWywBuD2xyQcgFECgoih+8H1gyJgZV5Lkyy+/3CbTRIePtl2HDBmyw1QBHyGDdXZdXR1JUghRKkXBjOMHCoBdpr0L3nvvPZLkF198wejo6O0A4lVVDTb74HQ6AwD8Wq7Jh8rgGgDgQ13XjVR8qaxJuADMbmlpYXl5uV5UVNRWUFDgfv/993Vj/ZydnU1c37eHXML4S3viAcQqitJD2l104cIFY8lTKsXSBWBMVVWVcd9yed2A1NTUQ6Zl00CvLMMOoHdubm6zFIlWOf5+PsY/Kj09vdrU11QAwwGsv3jxIk21m2DZr10I0RXAuAcffPBgaWkpV69eTYfDcdiwUxY0w6xw+flX8L1xApjevXv3lREREaW6rofB93aPDUDQpEmTMgHgtddeqwBwEd/utZvpqK6uPgEAcXFxkA94NwB9unfvjrNnz4LklwDcf08iIqv66Zs2bXrl4YcfxooVKxAbG7uqrq5uAYA2TdOEqqpGYIi2tjbl6aeffu/YsWPv5uTk7JaC1wHg4Pnz542MwoVvTx+21dbWYvjw4WLixIl+2dnZ9lGjRgmSTE1NRUpKCkwFTGiaxtTU1OXTpk3707Bhw/6g67pDipnT4biuj7qut+Lbk3Vf1tTUXI9qu91Pjq1QFEUBgJaWFgBo8yGOQ8eNGxcAAOvXr/8QwBUfYygAKL169eoCABcuXACAWtn2hOGv0+kMNO1KiPDw8F4A4rZv3/7R1KlTR0+bNu1ht9u9r1+/fqitrQXJgwDarRC6/QjPzs4+QJIffPCB9/aQmSAA43ft2mW0e1QGoi8CAPyLsZccExNTC2BlRkbGRdOyYJCP2csBIN6UAZzCd7cBbQCijYp/dXU1ExMTz6SmptaMHj36f9LS0vYlJCRsl6mxIWSdu3fv/g5J7t+/nwC2AShMTk6+SJKff/45AWRLYbD7+fndAeDf5BJnLoCCyZMnt5JkdnZ2C4B/F0KEm1Pu+Pj4rST55ZdfEsBWAK+mpaVdMo3raDn7KwDuSEpK+m+S3LBhAwG8DuCtHTt2UBbpjgC408vvcFVV15HkuXPnjMp+p5uMf0RcXNyHJNnQ0EBVVfcCWBQXF3fG+Jv0yxABPwB5LS0tRmFxN4BlTzzxxGWSXLx4sS5F3GGFy+1Hp5SUlJq6ujoWFxdTpsZ2H+0iIyMj/0iSWVlZX5mr5jfJFroPGzasxlhTnjp1iiTZ3NxMl8tlrCd9pfa9SkpKSJI5OTmnZOageLUZZqxvfVFWVkZcPwdgNwnSCKPqb17jkmR8fPzfZMDZ5CRsFBmNI7h95s2b1yhT7/MAYmStwCx4vy0uLqa3v5qmEcCfvSr1QQAeXb16NY3Cm3HQ55133iGAp+SxZTNhKSkpfzUddkrFjYevzAQCeGjp0qXfsYckY2NjTwD4leGDLCL2HTdunNtoY+zWSHFcIHdsFCtcfuZ1vO9Eqs3m7/F47sb1k2qX/f3997W2tl7BjWfpBYDOzzzzzIVJkyZh0KBBCwEsB3AJvl9AETabLcDj8dwRFRW1ctasWb8JCgpSzp07d62wsPC/Wltb8xRFadR1/ZqPXYbgAQMGbI2Pjw/+6quv9ldVVT0r01ezuPRJSUn5Y9euXXVd11WzDaqq6kePHm3+7LPPRgO4KlNuxWazhXo8nuTk5OSXMjIyEl0uFxoaGtqKior+dPXq1VdUVT0jj7r68ieoT58+vx8yZMjdx48fP1JVVTVF9m20VW02WyfZf97YsWPjXS4X6urqWvPy8jYCWCyEuEDS8FdVFKWzruv//OSTTy5OTk7uqWkaPv3007qysrJ8RVH+LI8ym8/rB3Tu3HnRI488knLo0KG2ffv2ZQI4C98vP6mqqoZqmpaclpa2cOTIkX39/f3R0NDQUVxc/G5TU9PLqqrWa5rWLH1QVFUN0TStX1JSUvH48eP7BwYG4uDBg1cKCgpeBbBe2u+2Qug2EwD5N5sMPuNtMe8XP4TT6Qxoa2sbIGeXvUKIK7d4IISiKC5d1wPljOfA9bPwzYqiXNV13dd6Uqiq6qdpml2mpe02m63d4/G4vcTF5fF47LJf71nJA6BZVVW3pmntuPHlmAD5wk6Q9NnbHp9vHaqq6tA0zU/64PZhk1FfCZB9G/23ALiqKEqzD39tpvbGUqoFwFUhRLP3yzpCCDtJpxyXDulfG27+pqRR3DXsUWVd4Yq0x/taVQjhIhksC8L+ABpM9ljBf5sKwI8pIBr75L5E4vvu+UNeG/a+hv+AL7yFH8qPtOfHjtOP6V/Bja8D6z/B2Nys/1u9Xv33tLf4GfF/LC4GCJwByWIAAAAASUVORK5CYII\x3d";p.ap=p.qa.extend({Wp:null,Xp:null,Yp:null,en:null,fn:null,gn:null,Vq:null,Wq:null,Xq:null,xa:null,qu:null,ctor:function(){this.qu=new p.Lg;this.restore()},description:function(){return"\x3cCCCamera | center \x3d("+this.en+","+this.fn+","+this.gn+")\x3e"},bg:function(a){this.xa=a},WG:function(){return this.xa},restore:function(){this.Wp=this.Xp=0;this.Yp=p.ap.rr();this.Vq=this.en=this.fn=this.gn=0;this.Wq=1;this.Xq=0;p.R4(this.qu);this.xa=!1},bH:function(){if(this.xa){var a=new p.zo,c=new p.zo,d=new p.zo;
p.Ar(a,this.Wp,this.Xp,this.Yp);p.Ar(c,this.en,this.fn,this.gn);p.Ar(d,this.Vq,this.Wq,this.Xq);p.sR(this.qu,a,c,d);this.xa=!1}p.Tv(this.qu)},C7:function(a,c,d){this.bI(a,c,d)},bI:function(a,c,d){this.Wp=a;this.Xp=c;this.Yp=d;this.xa=!0},k7:function(a,c,d){this.tT(a,c,d)},tT:function(a,c,d){this.en=a;this.fn=c;this.gn=d;this.xa=!0},b9:function(a,c,d){this.sU(a,c,d)},sU:function(a,c,d){this.Vq=a;this.Wq=c;this.Xq=d;this.xa=!0},S0:function(){return{x:this.Wp,y:this.Xp,z:this.Yp}},rG:function(){return{x:this.Wp,
y:this.Xp,z:this.Yp}},r0:function(){return{x:this.en,y:this.fn,z:this.gn}},qG:function(){return{x:this.en,y:this.fn,z:this.gn}},m3:function(){return{x:this.Vq,y:this.Wq,z:this.Xq}},sQ:function(){return{x:this.Vq,y:this.Wq,z:this.Xq}},fY:function(){}});p.ap.rr=function(){return p.Ns};p.Xs=-2147483648;p.cX=p.Xs+1;p.ms=function(a,c){if(a&&0<a.length)for(var d=0;d<a.length;d++)if(!(a[d]instanceof c)){p.log("element type is wrong!");break}};p.Yo=function(a,c){a.splice(c,1)};p.pd=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c){a.splice(d,1);break}};p.CV=function(a,c){for(var d=0,e=c.length;d<e;d++)p.pd(a,c[d])};p.BV=function(a,c){return a.indexOf(c)};p.zV=function(a,c){a.push(c)};p.Ok=function(a,c,d){a.splice(d,0,c);return a};
p.AV=function(a,c,d){a.splice.apply(a,[d,0].concat(c));return a};p.Uw=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c)return d;return-1};p.Sw=function(a,c){return-1!=a.indexOf(c)};p.uW=function(a,c){if(null==a)return null;for(var d=0;d<a.length;d++)if(a[d].target===c)return a[d];return null};p.aD=function(a,c,d){this.next=null;this.target=a;this.yH=c;this.paused=d;this.zk=!1};p.XC=function(a,c,d){this.list=a;this.Xl=c;this.target=d;this.cB=null};
p.OJ=function(a,c){this.yf=null;this.target=a;this.Uo=0;this.er=this.dr=null;this.paused=c;this.cB=null};
p.ot=p.qa.extend({Yi:0,lf:null,K:null,Ob:0,VE:!1,kv:!1,Un:0,Fz:0,Tt:0,ctor:function(){},m1:function(){return this.Yi},setInterval:function(){},I2:function(){return this.lf},Zf:function(a,c,d,e,f){this.K=a;this.lf=c;this.Ob=-1;this.Yi=d||0;this.Tt=f||0;this.kv=0<this.Tt;this.Fz=null==e?p.Uk:e;this.VE=this.Fz==p.Uk;return!0},jy:function(){if("string"==typeof this.lf)this.K[this.lf](this.Ob);else this.lf.call(this.K,this.Ob)},update:function(a){if(-1==this.Ob)this.Un=this.Ob=0;else{var c=this.K,d=this.lf;
this.VE&&!this.kv?(this.Ob+=a,this.Ob>=this.Yi&&(c&&d&&this.jy(),this.Ob=0)):(this.Ob+=a,this.kv?this.Ob>=this.Tt&&(c&&d&&this.jy(),this.Ob-=this.Tt,this.Un+=1,this.kv=!1):this.Ob>=this.Yi&&(c&&d&&this.jy(),this.Ob=0,this.Un+=1),this.Un>this.Fz&&p.M.d().We().VI(c,d))}}});p.ot.Q9=function(a,c,d){if(2>arguments.length)throw Error("timerWithTarget'argument can't is null");var e=new p.ot;e.Zf(a,c,d||0,p.Uk,0);return e};p.TY=null;
p.CK=p.qa.extend({Oq:1,Dg:null,nh:null,Uf:null,Vi:null,Et:null,Ui:null,rY:null,Ie:null,Wh:!1,hv:!1,ctor:function(){this.Oq=1;this.Dg=[];this.nh=[];this.Uf=[];this.Vi={};this.Et=[];this.Ui={};this.Rj=[];this.Ie=null;this.hv=this.Wh=!1},Ez:function(a){delete this.Ui[a.target.Nb];p.pd(this.Rj,a);a.ot=null;a.target=null},xY:function(a,c){for(var d=0;d<a.length;d++)if(a[d].target==c)return a[d];return null},Ju:function(a){if(a=this.Vi[a.target.Nb])p.pd(a.list,a.Xl),delete this.Vi[a.target.Nb],p.pd(this.Et,
a),a.Xl=null,a.target=null},OE:function(a,c,d,e){e=new p.aD(c,d,e);if(a){for(var f=!1,g=0;g<a.length;g++)if(d<a[g].yH){a=p.Ok(a,e,g);f=!0;break}f||a.push(e)}else a=[],a.push(e);d=new p.XC(a,e,c);this.Et.push(d);this.Vi[c.Nb]=d;return a},qL:function(a,c,d){d=new p.aD(c,0,d);a.push(d);a=new p.XC(a,d,c);this.Et.push(a);this.Vi[c.Nb]=a},V8:function(a){this.Oq=a},b3:function(){return this.Oq},update:function(a){this.hv=!0;1!=this.Oq&&(a*=this.Oq);var c,d;for(d=0;d<this.Dg.length;d++)c=this.Dg[d],c.paused||
c.zk||c.target.update(a);for(d=0;d<this.nh.length;d++)c=this.nh[d],c.paused||c.zk||c.target.update(a);for(d=0;d<this.Uf.length;d++)c=this.Uf[d],c.paused||c.zk||c.target.update(a);for(d=0;d<this.Rj.length;d++){c=this.Ie=this.Rj[d];this.Wh=!1;if(!this.Ie.paused)for(c.Uo=0;c.Uo<c.yf.length;c.Uo++)c.dr=c.yf[c.Uo],c.er=!1,c.dr.update(a),c.dr=null;this.Wh&&0==this.Ie.yf.length&&this.Ez(this.Ie)}for(d=0;d<this.Dg.length;d++)this.Dg[d].zk&&this.Ju(this.Dg[d]);for(d=0;d<this.nh.length;d++)this.nh[d].zk&&this.Ju(this.nh[d]);
for(d=0;d<this.Uf.length;d++)this.Uf[d].zk&&this.Ju(this.Uf[d]);this.hv=!1;this.Ie=null},eT:function(a,c,d,e,f,g){if(!c)throw"cc.scheduler.scheduleCallbackForTarget(): callback_fn should be non-null.";if(!a)throw"cc.scheduler.scheduleCallbackForTarget(): target should be non-null.";d=d||0;e=null==e?p.Uk:e;f=f||0;g=g||!1;var h=this.Ui[a.Nb];h||(h=new p.OJ(a,g),this.Rj.push(h),this.Ui[a.Nb]=h);if(null==h.yf)h.yf=[];else for(var k=0;k<h.yf.length;k++)if(g=h.yf[k],c==g.lf){p.log("CCSheduler#scheduleCallback. Callback already scheduled. Updating interval from:"+
g.Yi.toFixed(4)+" to "+d.toFixed(4));g.Yi=d;return}g=new p.ot;g.Zf(a,c,d,e,f);h.yf.push(g)},PH:function(a,c,d){var e=this.Vi[a.Nb];e?e.Xl.zk=!1:0==c?this.qL(this.nh,a,d):0>c?this.Dg=this.OE(this.Dg,a,c,d):this.Uf=this.OE(this.Uf,a,c,d)},VI:function(a,c){if(null!=a&&null!=c){var d=this.Ui[a.Nb];if(null!=d)for(var e=0;e<d.yf.length;e++){var f=d.yf[e];if(c==f.lf){f!=d.dr||d.er||(d.er=!0);p.Yo(d.yf,e);d.Uo>=e&&d.Uo--;0==d.yf.length&&(this.Ie==d?this.Wh=!0:this.Ez(d));break}}}},Wo:function(a){null!=a&&
(a=this.Vi[a.Nb],null!=a&&(this.hv?a.Xl.zk=!0:this.Ju(a.Xl)))},UI:function(a){if(null!=a){var c=this.Ui[a.Nb];c&&(!c.er&&p.Sw(c.yf,c.dr)&&(c.er=!0),c.yf.length=0,this.Ie==c?this.Wh=!0:this.Ez(c));this.Wo(a)}},as:function(){this.WU(p.Xs)},WU:function(a){var c;for(c=0;c<this.Rj.length;c++)this.UI(this.Rj[c].target);if(0>a)for(c=0;c<this.Dg.length;c++)this.Wo(this.Dg[c].target);if(0>=a)for(c=0;c<this.nh.length;c++)this.Wo(this.nh[c].target);for(c=0;c<this.Uf.length;c++)this.Uf[c].yH>=a&&this.Wo(this.Uf[c].target)},
f6:function(){return this.cS(p.Xs)},cS:function(a){var c=[],d,e;for(d=0;d<this.Rj.length;d++)if(e=this.Rj[d])e.paused=!0,c.push(e.target);if(0>a)for(d=0;d<this.Dg.length;d++)if(e=this.Dg[d])e.paused=!0,c.push(e.target);if(0>=a)for(d=0;d<this.nh.length;d++)if(e=this.nh[d])e.paused=!0,c.push(e.target);for(d=0;d<this.Uf.length;d++)if(e=this.Uf[d])e.paused=!0,c.push(e.target);return c},YS:function(a){if(a)for(var c=0;c<a.length;c++)this.tm(a[c])},Kr:function(a){if(!a)throw"cc.Scheduler.pauseTarget():target should be non-null";
var c=this.Ui[a.Nb];c&&(c.paused=!0);if(a=this.Vi[a.Nb])a.Xl.paused=!0},tm:function(a){if(!a)throw"cc.Scheduler.resumeTarget():target should be non-null";var c=this.Ui[a.Nb];c&&(c.paused=!1);if(a=this.Vi[a.Nb])a.Xl.paused=!1},E4:function(a){if(!a)throw"cc.Scheduler.isTargetPaused():target should be non-null";return(a=this.Ui[a.Nb])?a.paused:!1}});p.xx={IMAGE:["png","jpg","bmp","jpeg","gif"],SOUND:["mp3","ogg","wav","mp4","m4a"],XML:["plist","xml","fnt","tmx","tsx"],BINARY:["ccbi"],FONT:"FONT",TEXT:["txt","vsh","fsh","json","ExportJson"],UNKNOW:[]};
p.Gb=p.qa.extend({ln:0,Rq:0,lq:0,tl:null,og:1/60,Yi:null,vE:!1,ctor:function(){this.tl=[]},Qv:function(a,c,d){if(a){c&&(this.lf=c,this.K=d);if(a!=this.tl||0==this.ln){this.lq=this.ln=0;if(a[0]instanceof Array)for(c=0;c<a.length;c++)this.tl=this.tl.concat(a[c]);else this.tl=a;this.Rq=this.tl.length}this.jN()}else console.log("resources should not null")},qT:function(a){this.vE=a},km:function(a){this.lq++;p.log("cocos2d:Failed loading resource: "+a)},Ch:function(){this.lq++},Jv:function(){var a=0;return a=
0==this.Rq?100:0|this.lq/this.Rq*100},FS:function(a){if(a&&0<a.length)for(var c=p.Ib.d(),d=p.Vg?p.Vg.d():null,e=p.Kj.d(),f=p.dd.d(),g,h=0;h<a.length;h++){g=a[h];var k=this.nE(g);switch(k){case "IMAGE":c.SS(g.src);break;case "SOUND":if(!d)throw"Can not find AudioEngine! Install it, please.";d.W9(g.src);break;case "XML":e.UU(g.src);break;case "BINARY":f.TU(g.src);break;case "TEXT":f.VU(g.src);break;case "FONT":break;default:throw"cocos2d:unknown filename extension: "+k;}}},QM:function(){this.iv();if(this.vE){var a=
p.M.d().$t;if(null!=a&&20>a){p.log("cocos2d: frame rate less than 20 fps, skip frame.");return}}this.ln<this.Rq&&(this.yM(),this.ln++)},yM:function(){var a=p.Ib.d(),c=p.Vg?p.Vg.d():null,d=p.Kj.d(),e=p.dd.d(),f=this.tl[this.ln],g=this.nE(f);switch(g){case "IMAGE":a.Re(f.src);break;case "SOUND":if(!c)throw"Can not find AudioEngine! Install it, please.";c.l6(f.src);break;case "XML":d.nS(f.src);break;case "BINARY":e.mS(f.src);break;case "TEXT":e.oS(f.src);break;case "FONT":this.SM(f);break;default:throw"cocos2d:unknown filename extension: "+
g;}},jN:function(){var a=this;this.Yi=setInterval(function(){a.QM()},1E3*this.og)},$N:function(){clearInterval(this.Yi)},nE:function(a){if(null!=a.hr)return p.xx.FONT;a=a.src;a=a.substring(a.lastIndexOf(".")+1,a.length);var c=a.indexOf("?");0<c&&(a=a.substring(0,c));for(var d in p.xx)if(-1!=p.xx[d].indexOf(a))return d;return a},iv:function(){100<=this.Jv()&&(this.$N(),this.ML())},ML:function(){if(this.K&&"string"==typeof this.lf)this.K[this.lf](this);else this.K&&"function"==typeof this.lf?this.lf.call(this.K,
this):this.lf(this);this.Rq=this.lq=this.ln=0},SM:function(a){var c=a.src,d=p.dd.d();if(c&&0<c.length){var e=document.createElement("style");e.type="text/css";document.body.appendChild(e);for(var f="@font-face { font-family:"+a.hr+"; src:",g=0;g<c.length;g++)f+="url('"+d.Nd(encodeURI(c[g].src))+"') format('"+c[g].type+"')",f+=g==c.length-1?";":",";e.textContent+=f+"};";c=document.createElement("div");c.style.fontFamily=a.hr;c.innerHTML=".";c.style.position="absolute";c.style.left="-100px";c.style.top=
"-100px";document.body.appendChild(c)}p.Gb.d().Ch()},ZY:function(){}});p.Gb.FB=function(a,c,d){this.ob||(this.ob=new p.Gb);this.ob.Qv(a,c,d);return this.ob};p.Gb.k6=function(a,c,d){this.ob||(this.ob=new p.Gb);this.ob.qT(!0);this.ob.Qv(a,c,d);return this.ob};p.Gb.GB=function(a){this.ob&&this.ob.FS(a)};p.Gb.d=function(){this.ob||(this.ob=new p.Gb);return this.ob};p.Gb.ob=null;
p.ox=p.gp.extend({pu:null,Dn:null,Yu:null,yp:null,Bn:null,uA:null,ctor:function(){p.gp.prototype.ctor.call(this);this.uA=p.M.d().vb},s:function(){p.gp.prototype.s.call(this);var a=p.a(this.uA.width/2,this.uA.height/2);this.Dn=new Image;var c=this;this.Dn.addEventListener("load",function(){c.iM(a);this.removeEventListener("load",arguments.callee,!1)});this.Dn.src="";this.Dn.width=160;this.Dn.height=200;this.yp=p.Lb.create(p.EA(32,32,32,255));this.yp.F(0,0);this.t(this.yp,0);this.Bn=p.T.create("Loading... 0%",
"Arial",14);this.Bn.o(p.qv(180,180,180));this.Bn.F(p.uf(a,p.a(0,-110)));this.yp.t(this.Bn,10)},iM:function(a){this.Yu=new p.Hb;this.Yu.Xe(this.Dn);this.Yu.Ud();this.pu=p.w.Gd(this.Yu);this.pu.Cj(p.cd());this.pu.F(a);this.yp.t(this.pu,10)},ag:function(){p.H.prototype.ag.call(this);this.xe(this.hF,0.3)},md:function(){p.H.prototype.md.call(this);this.Bn.ba("Loading... 0%")},Qv:function(a,c,d){this.VS=a;this.jT=c;this.target=d},hF:function(){this.Tg(this.hF);p.Gb.FB(this.VS,this.jT,this.target);this.xe(this.iv)},
iv:function(){var a=p.Gb.d().Jv();this.Bn.ba("Loading... "+a+"%");100<=a&&this.Tg(this.iv)}});p.ox.FB=function(a,c,d){this.ob||(this.ob=new p.ox,this.ob.s());this.ob.Qv(a,c,d);a=p.M.d();a.Lc?a.KH(this.ob):a.cT(this.ob);return this.ob};p.dx=p.qa.extend({ab:null,A8:function(a){this.ab=a},v2:function(){return this.ab},ctor:function(a){this.ab=a},OA:function(){p.log("DrawingPrimitive.drawPoint() not implement!")},aG:function(){p.log("DrawingPrimitive.drawPoints() not implement!")},rh:function(){p.log("DrawingPrimitive.drawLine() not implement!")},cG:function(){p.log("DrawingPrimitive.drawRect() not implement!")},PA:function(){p.log("DrawingPrimitive.drawSolidRect() not implement!")},Id:function(){p.log("DrawingPrimitive.drawPoly() not implement!")},
Av:function(){p.log("DrawingPrimitive.drawSolidPoly() not implement!")},YF:function(){p.log("DrawingPrimitive.drawCircle() not implement!")},bG:function(){p.log("DrawingPrimitive.drawQuadBezier() not implement!")},ZF:function(){p.log("DrawingPrimitive.drawCubicBezier() not implement!")},XF:function(){p.log("DrawingPrimitive.drawCardinalSpline() not implement!")},zv:function(){p.log("DrawingPrimitive.drawCardinalSpline() not implement!")}});
p.UC=p.dx.extend({OA:function(a,c){c||(c=1);var d=p.fa.d().ia,e=p.fa.d().oa,e=p.a(a.x*d,a.y*e);this.ab.beginPath();this.ab.arc(e.x,-e.y,c*d,0,2*Math.PI,!1);this.ab.closePath();this.ab.fill()},aG:function(a,c,d){if(null!=a){d||(d=1);c=this.ab;var e=p.fa.d().ia,f=p.fa.d().oa;c.beginPath();for(var g=0,h=a.length;g<h;g++)c.arc(a[g].x*e,-a[g].y*f,d*e,0,2*Math.PI,!1);c.closePath();c.fill()}},rh:function(a,c){var d=this.ab,e=p.fa.d().ia,f=p.fa.d().oa;d.beginPath();d.moveTo(a.x*e,-a.y*f);d.lineTo(c.x*e,-c.y*
f);d.closePath();d.stroke()},cG:function(a,c){this.rh(p.a(a.x,a.y),p.a(c.x,a.y));this.rh(p.a(c.x,a.y),p.a(c.x,c.y));this.rh(p.a(c.x,c.y),p.a(a.x,c.y));this.rh(p.a(a.x,c.y),p.a(a.x,a.y))},PA:function(a,c,d){a=[a,p.a(c.x,a.y),c,p.a(a.x,c.y)];this.Av(a,4,d)},Id:function(a,c,d,e){e=e||!1;if(null!=a){if(3>a.length)throw Error("Polygon's point must greater than 2");var f=a[0];c=this.ab;var g=p.fa.d().ia,h=p.fa.d().oa;c.beginPath();c.moveTo(f.x*g,-f.y*h);for(var f=1,k=a.length;f<k;f++)c.lineTo(a[f].x*g,
-a[f].y*h);d&&c.closePath();e?c.fill():c.stroke()}},Av:function(a,c,d){this.aI(d.i,d.h,d.f,d.B);this.Id(a,c,!0,!0)},YF:function(a,c,d,e,f){f=f||!1;e=this.ab;var g=p.fa.d().ia,h=p.fa.d().oa;e.beginPath();e.arc(0|a.x*g,0|-(a.y*h),c*g,-d,-(d-2*Math.PI),!1);f&&e.lineTo(0|a.x*g,0|-(a.y*h));e.stroke()},bG:function(a,c,d,e){for(var f=[],g=0,h=0;h<e;h++)f.push(p.a(Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y)),g+=1/e;f.push(p.a(d.x,d.y));this.Id(f,e+1,!1,!1)},ZF:function(a,
c,d,e,f){for(var g=[],h=0,k=0;k<f;k++)g.push(p.a(Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y)),h+=1/f;g.push(p.a(e.x,e.y));this.Id(g,f+1,!1,!1)},XF:function(a,c){this.zv(a,0.5,c)},zv:function(a,c,d){p.L.strokeStyle="rgba(255,255,255,1)";for(var e=[],f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=p.Yw(p.Ig(a,f-1),p.Ig(a,f-0),p.Ig(a,f+1),p.Ig(a,f+2),c,g),e.push(f);this.Id(e,
d+1,!1,!1)},drawImage:function(a,c,d,e,f){switch(arguments.length){case 2:this.ab.drawImage(a,c.x,-(c.y+a.height));break;case 3:this.ab.drawImage(a,c.x,-(c.y+d.height),d.width,d.height);break;case 5:this.ab.drawImage(a,c.x,c.y,d.width,d.height,e.x,-(e.y+f.height),f.width,f.height);break;default:throw Error("Argument must be non-nil");}},s_:function(a,c,d){a=a||this.ab;c*=p.fa.d().ia;d instanceof p.rd&&(d=new p.gc(0|255*d.i,0|255*d.h,0|255*d.f));d="rgba("+d.i+","+d.h+","+d.f;a.fillStyle=d+",1)";var e=
c/10;a.beginPath();a.moveTo(-c,c);a.lineTo(0,e);a.lineTo(c,c);a.lineTo(e,0);a.lineTo(c,-c);a.lineTo(0,-e);a.lineTo(-c,-c);a.lineTo(-e,0);a.lineTo(-c,c);a.closePath();a.fill();var f=a.createRadialGradient(0,0,e,0,0,c);f.addColorStop(0,d+", 1)");f.addColorStop(0.3,d+", 0.8)");f.addColorStop(1,d+", 0.0)");a.fillStyle=f;a.beginPath();a.arc(0,0,c-e,0,p.eD,!1);a.closePath();a.fill()},q_:function(a,c,d){a=a||this.ab;c*=p.fa.d().ia;d instanceof p.rd&&(d=new p.gc(0|255*d.i,0|255*d.h,0|255*d.f));d="rgba("+
d.i+","+d.h+","+d.f;var e=a.createRadialGradient(0,0,c/10,0,0,c);e.addColorStop(0,d+", 1)");e.addColorStop(0.3,d+", 0.8)");e.addColorStop(0.6,d+", 0.4)");e.addColorStop(1,d+", 0.0)");a.fillStyle=e;a.beginPath();a.arc(0,0,c,0,p.eD,!1);a.closePath();a.fill()},fillText:function(a,c,d){this.ab.fillText(a,c,-d)},ET:function(a,c,d,e){this.ab.fillStyle="rgba("+a+","+c+","+d+","+e/255+")";this.ab.strokeStyle="rgba("+a+","+c+","+d+","+e/255+")"},aI:function(a,c,d,e){this.ab.fillStyle="rgba("+(0|255*a)+","+
(0|255*c)+","+(0|255*d)+","+e+")";this.ab.strokeStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+")"},eU:function(){},QT:function(a){this.ab.lineWidth=a*p.fa.d().ia}});
p.EJ=p.dx.extend({gq:!1,rb:null,Uh:-1,Vb:null,sz:-1,rz:-1,ctor:function(a){null==a&&(a=p.L);if(!a instanceof WebGLRenderingContext)throw"Can't initialise DrawingPrimitiveWebGL. context need is WebGLRenderingContext";p.dx.prototype.ctor.call(this,a);this.Vb=new p.rd(1,1,1,1)},wj:function(){this.gq||(this.rb=p.Yg.d().Dh(p.CX),this.Uh=this.ab.getUniformLocation(this.rb.Kv(),"u_color"),this.sz=this.ab.getUniformLocation(this.rb.Kv(),"u_pointSize"),this.gq=!0)},r_:function(){this.gq=!1},OA:function(a){this.wj();
this.rb.Ee();this.rb.eg();p.Pd(p.mg);this.rb.Gk(this.Uh,new Float32Array(this.Vb.ub,0,4),1);this.rb.vI(this.sz,this.rz);var c=this.ab,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,new Float32Array([a.x,a.y]),c.STATIC_DRAW);c.vertexAttribPointer(p.de,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,1);c.deleteBuffer(d);p.Wg()},aG:function(a){if(a&&0!=a.length){this.wj();this.rb.Ee();this.rb.eg();p.Pd(p.mg);this.rb.Gk(this.Uh,new Float32Array(this.Vb.ub,0,4),1);this.rb.vI(this.sz,
this.rz);var c=this.ab,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.Eu(a),c.STATIC_DRAW);c.vertexAttribPointer(p.de,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,a.length);c.deleteBuffer(d);p.Wg()}},Eu:function(a){for(var c=new Float32Array(2*a.length),d=0;d<a.length;d++)c[2*d]=a[d].x,c[2*d+1]=a[d].y;return c},rh:function(a,c){this.wj();this.rb.Ee();this.rb.eg();p.Pd(p.mg);this.rb.Gk(this.Uh,new Float32Array(this.Vb.ub,0,4),1);var d=this.ab,e=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,
e);d.bufferData(d.ARRAY_BUFFER,this.Eu([a,c]),d.STATIC_DRAW);d.vertexAttribPointer(p.de,2,d.FLOAT,!1,0,0);d.drawArrays(d.LINES,0,2);d.deleteBuffer(e);p.Wg()},cG:function(a,c){this.rh(p.a(a.x,a.y),p.a(c.x,a.y));this.rh(p.a(c.x,a.y),p.a(c.x,c.y));this.rh(p.a(c.x,c.y),p.a(a.x,c.y));this.rh(p.a(a.x,c.y),p.a(a.x,a.y))},PA:function(a,c,d){a=[a,p.a(c.x,a.y),c,p.a(a.x,c.y)];this.Av(a,4,d)},Id:function(a,c,d){this.wj();this.rb.Ee();this.rb.eg();p.Pd(p.mg);this.rb.Gk(this.Uh,new Float32Array(this.Vb.ub,0,4),
1);c=this.ab;var e=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,e);c.bufferData(c.ARRAY_BUFFER,this.Eu(a),c.STATIC_DRAW);c.vertexAttribPointer(p.de,2,c.FLOAT,!1,0,0);d?c.drawArrays(c.LINE_LOOP,0,a.length):c.drawArrays(c.LINE_STRIP,0,a.length);c.deleteBuffer(e);p.Wg()},Av:function(a,c,d){this.wj();d||(d=this.Vb);this.rb.Ee();this.rb.eg();p.Pd(p.mg);this.rb.Gk(this.Uh,new Float32Array(d.ub,0,4),1);c=this.ab;d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.Eu(a),c.STATIC_DRAW);
c.vertexAttribPointer(p.de,2,c.FLOAT,!1,0,0);c.drawArrays(c.TRIANGLE_FAN,0,a.length);c.deleteBuffer(d);p.Wg()},YF:function(a,c,d,e,f){this.wj();var g=1;f&&g++;var h=2*Math.PI/e;if(f=new Float32Array(2*(e+2))){for(var k=0;k<=e;k++){var l=k*h,m=c*Math.sin(l+d)+a.y;f[2*k]=c*Math.cos(l+d)+a.x;f[2*k+1]=m}f[2*(e+1)]=a.x;f[2*(e+1)+1]=a.y;this.rb.Ee();this.rb.eg();p.Pd(p.mg);this.rb.Gk(this.Uh,new Float32Array(this.Vb.ub,0,4),1);a=this.ab;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(p.de,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+g);a.deleteBuffer(c);p.Wg()}},bG:function(a,c,d,e){this.wj();for(var f=new Float32Array(2*(e+1)),g=0,h=0;h<e;h++)f[2*h]=Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,f[2*h+1]=Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y,g+=1/e;f[2*e]=d.x;f[2*e+1]=d.y;this.rb.Ee();this.rb.eg();p.Pd(p.mg);this.rb.Gk(this.Uh,new Float32Array(this.Vb.ub,0,4),1);a=this.ab;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(p.de,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+1);a.deleteBuffer(c);p.Wg()},ZF:function(a,c,d,e,f){this.wj();for(var g=new Float32Array(2*(f+1)),h=0,k=0;k<f;k++)g[2*k]=Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,g[2*k+1]=Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y,h+=1/f;g[2*f]=e.x;g[2*f+1]=e.y;this.rb.Ee();this.rb.eg();p.Pd(p.mg);this.rb.Gk(this.Uh,new Float32Array(this.Vb.ub,0,4),1);a=this.ab;c=a.createBuffer();
a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,g,a.STATIC_DRAW);a.vertexAttribPointer(p.de,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,f+1);a.deleteBuffer(c);p.Wg()},XF:function(a,c){this.zv(a,0.5,c)},zv:function(a,c,d){this.wj();for(var e=new Float32Array(2*(d+1)),f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=p.Yw(p.Ig(a,f-1),p.Ig(a,f),p.Ig(a,f+1),p.Ig(a,f+2),c,g),e[2*k]=f.x,e[2*k+1]=f.y;this.rb.Ee();this.rb.eg();p.Pd(p.mg);this.rb.Gk(this.Uh,
new Float32Array(this.Vb.ub,0,4),1);a=this.ab;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,e,a.STATIC_DRAW);a.vertexAttribPointer(p.de,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,d+1);a.deleteBuffer(c);p.Wg()},ET:function(a,c,d,e){this.Vb.i=a/255;this.Vb.h=c/255;this.Vb.f=d/255;this.Vb.B=e/255},aI:function(a,c,d,e){this.Vb.i=a;this.Vb.h=c;this.Vb.f=d;this.Vb.B=e},eU:function(a){this.rz=a*p.cd()},QT:function(a){this.ab.lineWidth&&this.ab.lineWidth(a)}});p.eD=2*Math.PI;p.xD={cY:0,HW:1,IW:2,rV:3,zW:4,yW:5,EV:6,QW:7,jW:8,gK:100,oK:101};p.WW=0;p.XW=1;p.UW=2;p.VW=3;p.Cf=0;p.Nj=1;p.rf=null;p.L=null;p.canvas=null;p.GP=null;p.ad=p.Cf;p.XR=p.size(0,0);window.NB=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;window.console||(window.console={},window.console.log=function(){},window.console.assert=function(){});p.oB=!1;
p.Hk=function(a,c,d){function e(){if(p.Vg){var a=p.Vg.d();document[k]?(a.bS(),a.dS()):(p.M.d().fN(),a.WS(),a.XS())}}a=p.sb(a)||p.sb("#"+a);var f,g,h;"CANVAS"==a.tagName?(c=c||a.width,d=d||a.height,g=p.oj=p.Gj("DIV"),h=g.style,f=p.canvas=a,f.parentNode.insertBefore(g,f),f.Sl(g),h.width=(c||480)+"px",h.height=(d||320)+"px",g.setAttribute("id","Cocos2dGameContainer"),h.margin="0 auto",f.setAttribute("width",c||480),f.setAttribute("height",d||320)):("DIV"!=a.tagName&&p.log("Warning: target element is not a DIV or CANVAS"),
c=c||a.clientWidth,d=d||a.clientHeight,f=p.canvas=p.Gj("CANVAS"),f.EF("gameCanvas"),f.setAttribute("width",c||480),f.setAttribute("height",d||320),g=p.oj=a,h=g.style,a.appendChild(f),h.width=(c||480)+"px",h.height=(d||320)+"px",h.margin="0 auto");h.position="relative";h.overflow="hidden";g.top="100%";if(!p.Vx){p.sa.qc&&(p.L=p.m$=p.PF(f,{stencil:!0,preserveDrawingBuffer:!0,antialias:!p.sa.vj,alpha:!1}));p.L?(p.ad=p.Nj,window.gl=p.L,p.rf=new p.EJ(p.L),p.Ib.d().pM()):(p.L=f.getContext("2d"),p.AR=p.L,
p.ad=p.Cf,p.L.translate(0,f.height),p.rf=p.UC?new p.UC(p.L):null);p.XR=p.size(f.width,f.height);p.GP=g;p.log(p.ss);p.be.d();p.yT();p.sa.vj&&p.lL();var k,l;"undefined"!==typeof document.hidden?(k="hidden",l="visibilitychange"):"undefined"!==typeof document.mozHidden?(k="mozHidden",l="mozvisibilitychange"):"undefined"!==typeof document.msHidden?(k="msHidden",l="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(k="webkitHidden",l="webkitvisibilitychange");"undefined"===typeof document.addEventListener||
"undefined"===typeof k?(p.oB=!1,window.addEventListener("focus",function(){if(p.Vg){var a=p.Vg.d();a.WS();a.XS()}},!1),window.addEventListener("blur",function(){if(p.Vg){var a=p.Vg.d();a.bS();a.dS()}},!1)):(p.oB=!0,document.addEventListener(l,e,!1))}};p.lL=function(){var a=document.createElement("style");a.type="text/css";document.body.appendChild(a);a.textContent="body,canvas,div{ -moz-user-select: none;-webkit-user-select: none;-ms-user-select: none;-khtml-user-select: none;-webkit-tap-highlight-color:rgba(0,0,0,0);}"};
p.wE=!1;p.yT=function(){p.wE=!1;p.canvas.oncontextmenu=p.wE?function(){}:function(){return!1}};p.Bi=p.qa.extend({og:null,ctor:function(){this.og=0;if(p.Tz)throw"Application has been initialized";p.Tz=this},Pr:function(a){this.og=a},s9:function(a){a&&p.rect(0,0,0,0)},X2:function(){return p.sa.vj?p.xD.gK:p.xD.oK},$S:function(){if(!this.yO())return 0;var a,c=p.M.d(),d=window;p.mP=c;d.NB&&this.og==1/60?(a=function(){c.gH();d.NB(a)},d.NB(a)):(a=function(){c.gH()},setInterval(a,1E3*this.og));return 0}});
p.Bi.d=function(){return p.Tz};p.Bi.D0=function(){var a=p.VJ,c=navigator.language;c||(c=navigator.browserLanguage||navigator.e$);if(!c)return a;c=c.toLowerCase();switch(c){case "zh-cn":a=p.UJ;break;case "fr":a=p.WJ;break;case "it":a=p.ZJ;break;case "de":a=p.XJ;break;case "es":a=p.fK;break;case "ru":a=p.eK;break;case "ko":a=p.aK;break;case "ja":a=p.$J;break;case "hu":a=p.YJ;break;case "pt":a=p.dK;break;case "ar":a=p.TJ;break;case "no":a=p.bK;break;case "pl":a=p.cK}return a};p.Tz=null;p.Kj=p.qa.extend({o$:null,ME:null,$n:null,ez:null,ctor:function(){this.$n={};window.DOMParser?(this.ez=!0,this.ME=new DOMParser):this.ez=!1},parse:function(a){var c=a;a=this.sG(a);a=this.NE(a,c).documentElement;if("plist"!=a.tagName)throw"cocos2d: "+c+" is not a plist file or you forgot to preload the plist file";for(var c=null,d=0,e=a.childNodes.length;d<e&&(c=a.childNodes[d],1!=c.nodeType);d++);return this.oz(c)},R9:function(a,c){if(null==c||!1===c)a=this.sG(a);return this.NE(a)},NE:function(a,
c){var d;this.ez?d=this.ME.parseFromString(a,"text/xml"):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(a));null==d&&p.log("cocos2d:xml "+c+" not found!");return d},oz:function(a){var c=null;switch(a.tagName){case "dict":c=this.NM(a);break;case "array":c=this.MM(a);break;case "string":if(1==a.childNodes.length)c=a.firstChild.nodeValue;else for(var c="",d=0;d<a.childNodes.length;d++)c+=a.childNodes[d].nodeValue;break;case "false":c=!1;break;case "true":c=!0;break;case "real":c=
parseFloat(a.firstChild.nodeValue);break;case "integer":c=parseInt(a.firstChild.nodeValue,10)}return c},MM:function(a){for(var c=[],d=0,e=a.childNodes.length;d<e;d++){var f=a.childNodes[d];1==f.nodeType&&c.push(this.oz(f))}return c},NM:function(a){for(var c={},d=null,e=0,f=a.childNodes.length;e<f;e++){var g=a.childNodes[e];1==g.nodeType&&("key"==g.tagName?d=g.firstChild.nodeValue:c[d]=this.oz(g))}return c},nS:function(a){a=p.dd.d().Nd(a);if(window.XMLHttpRequest){var c=new XMLHttpRequest;c.overrideMimeType&&
c.overrideMimeType("text/xml")}if(null!=c){var d=this;c.onreadystatechange=function(){4==c.readyState&&(c.responseText?(p.Gb.d().Ch(),d.$n[a]=c.responseText,c=null):(p.Gb.d().Ch(),p.log("cocos2d:There was a problem retrieving the xml data:"+c.statusText)))};c.open("GET",a,!0);c.send(null)}else throw"cocos2d:Your browser does not support XMLHTTP.";},UU:function(a){this.$n.hasOwnProperty(a)&&delete this.$n[a]},getName:function(a){return a.substring(a.lastIndexOf("/",a.length)+1,a.lastIndexOf(".",a.length))},
R0:function(a){return a.substring(a.lastIndexOf(".",a.length)+1,a.length)},sG:function(a){return null!=this.$n?this.$n[a]:null}});p.Kj.d=function(){this.ob||(this.ob=new p.Kj);return this.ob};p.Kj.ob=null;p.Rw=p.qa.extend({lP:function(){p.Bi.d().$S();return!0},BZ:function(){p.M.d().pause()},AZ:function(){p.M.d().MH()},xO:function(){p.Bi.d().xO()},zO:function(){p.Bi.d().zO()},CZ:function(){}});p.Rw.AU=function(){null==p.Bw&&(p.Bw=new p.Rw);if(!p.Bw)throw"Application initialize failure";return p.Bw};p.Bw=null;p.T=p.w.extend({yd:null,$j:p.Hi,sk:p.pp,Je:null,ge:0,Tf:"",nz:null,xn:!1,Ri:null,dj:!1,yl:null,Ln:0,Dq:0,Pu:null,ok:!1,Iq:null,Qn:0,Ru:null,Rn:null,Zt:null,cA:0,dA:0,Hc:!1,lu:null,mu:null,ctor:function(){p.w.prototype.ctor.call(this);this.yd=p.Vk();this.$j=p.lp;this.sk=p.pp;this.Yb=!1;this.Ri="";this.Je="Arial";this.dj=this.xn=!1;this.yl=p.Vk();this.Dq=this.Ln=0;this.Pu="rgba(128, 128, 128, 0.5)";this.ok=!1;this.Iq=p.cb();this.Qn=0;this.Ru="";this.Rn=p.cb();this.Zt="rgba(255,255,255,1)";this.dA=this.cA=
0;this.Hc=!1;this.jh()},s:function(){return this.wk(" ",this.Je,this.ge)},CM:function(){this.Uy().font=this.Ri},nq:function(a){return this.Uy().measureText(a).width},AL:function(a,c){var d=this.nq(a),e=Math.floor(a.length*c/d),f=a.indexOf("\n");if(0.8*e>=f&&0<f)return f+1;if(d<c)return a.length;for(var d=!1,f=c+1,g=-1,h=e,k,l=p.T.BL,m=p.T.hN,n=p.T.zL,r=a.substr(e);k=l.exec(r);){h+=k[0].length;if("\n"==k[2]){d=!0;g=h;break}f=this.nq(a.substr(0,h));if(f>c){-1!=g&&(d=!0);break}g=h;r=a.substr(h)}if(d)return g;
r=a.substr(0,e);for(g=e;k=m.exec(r);)if(g=k[1].length,r=k[1],f=this.nq(r),f<c){n.test(k[2])&&g++;break}return g},description:function(){return"\x3ccc.LabelTTF | FontName \x3d"+this.Je+" FontSize \x3d "+this.ge.toFixed(1)+"\x3e"},o:null,yq:function(a){p.eb.prototype.o.call(this,a);this.WE()},jh:null,WE:function(){this.Hc=!0;var a=this.lc,c=this.Cb,d=this.Iq,e=this.Rn;this.Pu="rgba("+(0|0.5*a.i)+","+(0|0.5*a.h)+","+(0|0.5*a.f)+","+this.Ln+")";this.Zt="rgba("+(0|a.i/255*e.i)+","+(0|a.h/255*e.h)+","+
(0|a.f/255*e.f)+", "+c/255+")";this.Ru="rgba("+(0|a.i/255*d.i)+","+(0|a.h/255*d.h)+","+(0|a.f/255*d.f)+", "+c/255+")"},qN:function(){this.Hc=!0;var a=this.Iq,c=this.Rn;this.Pu="rgba(128,128,128,"+this.Ln+")";this.Zt="rgba("+(0|c.i)+","+(0|c.h)+","+(0|c.f)+", 1)";this.Ru="rgba("+(0|a.i)+","+(0|a.h)+","+(0|a.f)+", 1)"},Cc:null,jA:function(a){p.eb.prototype.Cc.call(this,a);this.jh()},$:null,Aq:function(a){this.ei!==a&&(p.w.prototype.$.call(this,a),this.jh(),this.Hc=!0)},Dc:null,b$:function(a){p.eb.prototype.Dc.call(this,
a);this.jh()},YA:function(){return this.Tf},c1:function(){return this.$j},r3:function(){return this.sk},M0:function(){return p.size(this.yd.width,this.yd.height)},X0:function(){return this.ge},W0:function(){return this.Je},wk:function(a,c,d,e,f,g){a=a?a+"":"";d=d||16;e=e||p.size(0,d);f=f||p.lp;g=g||p.qp;return p.w.prototype.s.call(this)?(this.Yb=!1,this.yd=p.size(e.width,e.height),this.Je=c||"Arial",this.$j=f,this.sk=g,this.ge=d,this.Ri=this.ge+"px '"+c+"'",this.Qi=p.T.zt(c,this.ge),this.ba(a),this.jh(),
this.lA(),this.Hc=!1,!0):!1},kB:null,lM:function(a,c){if(!p.w.prototype.s.call(this))return!1;this.mA(c,!1);this.ba(a);return!0},mM:function(a,c){if(!p.w.prototype.s.call(this))return!1;this.cg(p.Yg.d().Dh(p.T.WK));this.mA(c,!1);this.ba(a);return!0},T8:function(a){a&&this.mA(a,!0)},Y2:function(){return this.RM(!1)},zP:function(a,c,d){c=c||0.5;!1===this.dj&&(this.dj=!0);var e=this.yl;if(e&&e.width!=a.width||e.height!=a.height)e.width=a.width,e.height=a.height;this.Ln!=c&&(this.Ln=c);this.jh();this.Dq!=
d&&(this.Dq=d);this.Hc=!0},m_:function(){this.dj&&(this.dj=!1,this.Hc=!0)},AP:function(a,c){!1===this.ok&&(this.ok=!0);var d=this.Iq;if(d.i!==a.i||d.h!==a.h||d.f!==a.f)d.i=a.i,d.h=a.h,d.f=a.f,this.jh();this.Qn!==c&&(this.Qn=c||0);this.Hc=!0},n_:function(){this.ok&&(this.ok=!1,this.Hc=!0)},WB:null,uN:function(a){var c=this.Rn;if(c.i!=a.i||c.h!=a.h||c.f!=a.f)c.i=a.i,c.h=a.h,c.f=a.f,this.jh(),this.Hc=!0},vN:function(a){var c=this.Rn;if(c.i!=a.i||c.h!=a.h||c.f!=a.f)c.i=a.i,c.h=a.h,c.f=a.f,this.jh(),this.Hc=
!0},mA:function(a,c){a.gr?(this.yd.width=a.gr.width,this.yd.height=a.gr.height):(this.yd.width=0,this.yd.height=0);this.$j=a.iG;this.sk=a.jG;this.Je=a.hr;this.ge=a.fontSize||12;this.Ri=this.ge+"px '"+this.Je+"'";this.Qi=p.T.zt(this.Je,this.ge);a.FI&&this.zP(a.GI,a.HI,a.shadowBlur,!1);a.nC&&this.AP(a.strokeColor,a.NI,!1);this.WB(a.kG,!1);c&&this.lA()},RM:function(a){var c=new p.KJ;a?(c.fontSize=this.ge,c.gr=p.Bx(this.yd)):(c.fontSize=this.ge,c.gr=p.size(this.yd.width,this.yd.height));c.hr=this.Je;
c.iG=this.$j;c.jG=this.sk;if(this.ok){c.nC=!0;var d=this.Iq;c.strokeColor=new p.gc(d.i,d.h,d.f);c.NI=this.Qn}else c.nC=!1;this.dj?(c.FI=!0,c.shadowBlur=this.Dq,c.HI=this.Ln,c.GI=a?p.Bx(this.yl):p.size(this.yl.width,this.yl.height)):c.dj=!1;a=this.Rn;c.kG=new p.gc(a.i,a.h,a.f);return c},Qi:18,ba:function(a){a=String(a);this.nz!=a&&(this.nz=a+"",this.vF(),this.Hc=!0)},vF:function(){this.Tf=this.nz},J7:function(a){a!==this.$j&&(this.$j=a,this.Hc=!0)},f9:function(a){a!=this.sk&&(this.sk=a,this.Hc=!0)},
UB:function(a){if(a.width!=this.yd.width||a.height!=this.yd.height)this.yd=a,this.vF(),this.Hc=!0},cI:function(a){this.ge!==a&&(this.ge=a,this.Ri=a+"px '"+this.Je+"'",this.Qi=p.T.zt(this.Je,a),this.Hc=!0)},KT:function(a){this.Je&&this.Je!=a&&(this.Je=a,this.Ri=this.ge+"px '"+a+"'",this.Qi=p.T.zt(a,this.ge),this.Hc=!0)},RL:function(a){if(a){var c=this.cA,d=this.dA,e=this.ha.ga-d,f=this.sk,g=this.$j,h=this.Qi,k=this.Qn;a.setTransform(1,0,0,1,0+0.5*c,e+0.5*d);a.font!=this.Ri&&(a.font=this.Ri);a.fillStyle=
this.Zt;var l=d=0,m=this.ok;m&&(a.lineWidth=2*k,a.strokeStyle=this.Ru);this.dj&&(k=this.yl,a.shadowColor=this.Pu,a.shadowOffsetX=k.width,a.shadowOffsetY=-k.height,a.shadowBlur=this.Dq);a.textBaseline=p.T.UN[f];a.textAlign=p.T.TN[g];c=this.ha.va-c;d=g===p.IK?d+c:g===p.Hi?d+c/2:d+0;if(this.xn)for(g=this.fj.length,f===p.pp?l=h+e-h*g:f===p.vt&&(l=h/2+(e-h*g)/2),f=0;f<g;f++)c=this.fj[f],k=-e+h*f+l,m&&a.strokeText(c,d,k),a.fillText(c,d,k);else f!==p.pp&&(l=f===p.qp?l-e:l-0.5*e),m&&a.strokeText(this.Tf,
d,l),a.fillText(this.Tf,d,l)}},Uy:function(){if(this.mu)return this.mu;if(!this.lu){var a=document.createElement("canvas"),c=new p.Hb;c.Xe(a);this.aa(c);this.lu=a}return this.mu=this.lu.getContext("2d")},wF:function(){var a=this.yd.width,c,d;this.AE=[];this.xn=!1;this.CM();if(0!==a){var e=this.Tf;this.fj=[];c=0;for(d=this.Tf.length;c<d;){var f=this.AL(e.substr(c),a);this.fj.push(e.substr(c,f));c+=f}}else for(this.fj=this.Tf.split("\n"),c=0,d=this.fj.length;c<d;c++)this.AE.push(this.nq(this.fj[c]));
0<this.fj.length&&(this.xn=!0);d=c=0;this.ok&&(c=d=2*this.Qn);this.dj&&(e=this.yl,c+=2*Math.abs(e.width),d+=2*Math.abs(e.height));a=0===a?this.xn?p.size(0|Math.max.apply(Math,this.AE)+c,0|this.Qi*this.fj.length+d):p.size(0|this.nq(this.Tf)+c,0|this.Qi+d):0===this.yd.height?this.xn?p.size(0|a+c,0|this.Qi*this.fj.length+d):p.size(0|a+c,0|this.Qi+d):p.size(0|a+c,0|this.yd.height+d);this.da(a);this.cA=c;this.dA=d;e=this.He;this.fd.A=0.5*c+(a.width-c)*e.A;this.fd.I=0.5*d+(a.height-d)*e.I},g:function(){this.Hc&&
this.wF();return p.w.prototype.g.call(this)},lA:function(){var a=this.Uy(),c=this.lu,d=this.ha;if(0===this.Tf.length)return c.width=1,c.height=d.ga,this.nb(p.rect(0,0,1,d.ga)),!0;a.font=this.Ri;this.wF();var e=d.va,d=d.ga,f=c.width==e&&c.height==d;c.width=e;c.height=d;f&&a.clearRect(0,0,e,d);this.RL(a);this.ra.Ud();this.nb(p.rect(0,0,e,d));return!0},ea:function(a){this.Tf&&""!=this.Tf&&(this.Hc&&(this.Hc=!1,this.lA()),p.w.prototype.ea.call(this,a||p.L))},Ia:null,Lf:function(a){if(this.Tf&&""!=this.Tf){a=
a||p.L;var c=this.ra;c&&c.dc&&(this.nc.Ee(),this.nc.eg(),p.sj(this.S.src,this.S.mb),p.Xf(c),p.Pd(p.ut),a.bindBuffer(a.ARRAY_BUFFER,this.Iu),this.Ne&&(a.bufferData(a.ARRAY_BUFFER,this.qb.zA,a.STATIC_DRAW),this.Ne=!1),a.vertexAttribPointer(p.de,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(p.op,2,a.FLOAT,!1,24,16),a.vertexAttribPointer(p.np,4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));1===p.Lj?(a=this.qb,a=[p.a(a.Fa.m.x,a.Fa.m.y),p.a(a.ya.m.x,a.ya.m.y),p.a(a.Ha.m.x,a.Ha.m.y),p.a(a.Ba.m.x,
a.Ba.m.y)],p.rf.Id(a,4,!0)):2===p.Lj&&(a=this.ZA().Na,c=this.Pb,a=[p.a(c.x,c.y),p.a(c.x+a.width,c.y),p.a(c.x+a.width,c.y+a.height),p.a(c.x,c.y+a.height)],p.rf.Id(a,4,!0));p.th++}},Sz:function(a,c,d){this.xc=c||!1;d=d||a.Na;this.da(d);this.hC(a);c=this.Tn;c.x=a.x;c.y=a.y;c.width=a.width;c.height=a.height;c.gs=!(0===c.width||0===c.height);a=this.mh;this.Wb&&(a.A=-a.A);this.Xb&&(a.I=-a.I);this.Pb.A=a.x+(this.ha.va-this.la.width)/2;this.Pb.I=a.y+(this.ha.ga-this.la.height)/2;this.Ta&&(this.xa=!0)},ZE:function(a){var c=
this.Ta?this.Ea.Q():this.ra;if(c){var d=c.no(),e=c.mo(),f,g=this.qb;this.xc?(p.Ms?(c=(2*a.x+1)/(2*d),d=c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/d,f=a.y/e,a=(a.y+a.width)/e),this.Wb&&(e=f,f=a,a=e),this.Xb&&(e=c,c=d,d=e),g.ya.r.Ca=c,g.ya.r.W=f,g.Ha.r.Ca=c,g.Ha.r.W=a,g.Fa.r.Ca=d,g.Fa.r.W=f,g.Ba.r.Ca=d,g.Ba.r.W=a):(p.Ms?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+a.height)/
e),this.Wb&&(e=c,c=d,d=e),this.Xb&&(e=f,f=a,a=e),g.ya.r.Ca=c,g.ya.r.W=a,g.Ha.r.Ca=d,g.Ha.r.W=a,g.Fa.r.Ca=c,g.Fa.r.W=f,g.Ba.r.Ca=d,g.Ba.r.W=f);this.Ne=!0}}});
p.sa.qc?(b=p.T.prototype,b.o=p.w.prototype.o,b.jh=p.T.prototype.qN,b.Cc=p.w.prototype.Cc,b.$=p.w.prototype.$,b.Dc=p.w.prototype.Dc,b.kB=p.T.prototype.mM,b.WB=p.T.prototype.vN,b.Ia=p.T.prototype.Lf,b.nb=p.w.prototype.$E):(b=p.T.prototype,b.o=p.T.prototype.yq,b.jh=p.T.prototype.WE,b.Cc=p.T.prototype.jA,b.$=p.T.prototype.Aq,b.Dc=p.T.prototype.sF,b.kB=p.T.prototype.lM,b.WB=p.T.prototype.uN,b.Ia=p.w.prototype.Ia,b.nb=p.T.prototype.Sz);p.T.TN=["left","center","right"];p.T.UN=["top","middle","bottom"];
p.T.BL=/(.+?)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;p.T.hN=/(.*)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;p.T.zL=/[\s\-\/\\\:]/;p.T.create=function(a,c,d,e,f,g){var h=new p.T;return h.wk(a,c,d,e,f,g)?h:null};p.T.g_=function(a,c){var d=new p.T;return d&&d.kB(a,c)?d:null};p.T.WK=p.QK?p.Ax:p.zX;p.T.Wk=document.createElement("div");p.T.Wk.style.fontFamily="Arial";p.T.Wk.style.position="absolute";p.T.Wk.style.left="-100px";p.T.Wk.style.top="-100px";p.T.Wk.style.lineHeight="normal";
document.body.appendChild(p.T.Wk);p.T.zt=function(a,c){var d=p.T.ND[a+"."+c];if(0<d)return d;var e=p.T.Wk;e.innerHTML="ajghl~!";e.style.fontFamily=a;e.style.fontSize=c+"px";d=e.clientHeight;p.T.ND[a+"."+c]=d;e.innerHTML="";return d};p.T.ND={};p.NJ=p.qa.extend({pc:null,target:null,Ql:0,Gg:null,Vl:!1,paused:!1,cB:null,ctor:function(){this.pc=[];this.K=null;this.Ql=0;this.Gg=null;this.paused=this.Vl=!1;this.cB=null}});
p.jJ=p.qa.extend({ah:null,Um:null,Ie:null,Wh:!1,RY:function(a,c){for(var d=0;d<a.length;d++)if(c==a[d].target)return a[d];return null},ctor:function(){this.ah={};this.Um=[];this.Ie=null;this.Wh=!1},oO:function(a,c,d){if(!a)throw"cc.ActionManager.addAction(): action must be non-null";if(!c)throw"cc.ActionManager.addAction(): action must be non-null";var e=this.ah[c.Nb];e||(e=new p.NJ,e.paused=d,e.target=c,this.ah[c.Nb]=e,this.Um.push(e));this.fL(e);e.pc.push(a);a.N(c)},w6:function(){for(var a=this.Um,
c=0;c<a.length;c++){var d=a[c];d&&this.HH(d.target,!0)}},HH:function(a,c){if(null!=a){var d=this.ah[a.Nb];d&&(-1===d.pc.indexOf(d.Gg)||d.Vl||(d.Vl=!0),d.pc=[],this.Ie!=d||c?this.yy(d):this.Wh=!0)}},GH:function(a){if(null!=a){var c=this.ah[a.rl.Nb];if(c)for(var d=0;d<c.pc.length;d++){if(c.pc[d]==a){c.pc.splice(d,1);break}}else p.log("cocos2d: removeAction: Target not found")}},HS:function(a,c){a==p.Dm&&p.log("cc.ActionManager.removeActionByTag(): an invalid tag");if(!c)throw"cc.ActionManager.removeActionByTag(): target must be non-null";
var d=this.ah[c.Nb];if(d)for(var e=d.pc.length,f=0;f<e;++f){var g=d.pc[f];if(g&&g.Mc===a&&g.rl==c){this.VM(f,d);break}}},SA:function(a,c){a==p.Dm&&p.log("cc.ActionManager.getActionByTag(): an invalid tag");var d=this.ah[c.Nb];if(d){if(null!=d.pc)for(var e=0;e<d.pc.length;++e){var f=d.pc[e];if(f&&f.Mc===a)return f}p.log("cocos2d : getActionByTag(tag \x3d"+a+"): Action not found")}return null},FR:function(a){return(a=this.ah[a.Nb])?a.pc?a.pc.length:0:0},Kr:function(a){if(a=this.ah[a.Nb])a.paused=!0},
tm:function(a){if(a=this.ah[a.Nb])a.paused=!1},e6:function(){for(var a=[],c=this.Um,d=0;d<c.length;d++){var e=c[d];e&&!e.paused&&(e.paused=!0,a.push(e.target))}return a},YS:function(a){if(a)for(var c=0;c<a.length;c++)a[c]&&this.tm(a[c])},o6:function(){p.M.d().We().Wo(this)},VM:function(a,c){c.pc[a]!=c.Gg||c.Vl||(c.Vl=!0);p.Yo(c.pc,a);c.Ql>=a&&c.Ql--;0==c.pc.length&&(this.Ie==c?this.Wh=!0:this.yy(c))},yy:function(a){a&&(delete this.ah[a.target.Nb],p.pd(this.Um,a),a.pc=null,a.target=null)},fL:function(a){null==
a.pc&&(a.pc=[])},update:function(a){for(var c=this.Um,d,e=0;e<c.length;e++){d=this.Ie=c[e];if(!d.paused)for(d.Ql=0;d.Ql<d.pc.length;d.Ql++)if(d.Gg=d.pc[d.Ql],d.Gg){d.Vl=!1;d.Gg.step(a);if(d.Vl)d.Gg=null;else if(d.Gg.wh()){d.Gg.stop();var f=d.Gg;d.Gg=null;this.GH(f)}d.Gg=null}this.Wh&&0===d.pc.length&&this.yy(d)}}});p.Ge=p.qa.extend({X:null,Gu:p.Ei(),ff:0,ctor:function(a,c,d){this.X=p.a(a||0,c||0);this.ff=d||0},o1:function(){return this.X},dQ:function(){return this.Gu},J0:function(){return p.$c(this.X,this.Gu)},f1:function(){return this.ff},g1:function(){return this.ff},fC:function(a,c,d){this.Gu=this.X;this.X=p.a(c||0,d||0);this.ff=a},mf:function(a,c){this.Gu=p.a(a||0,c||0)}});
p.GD=p.qa.extend({wY:null,Db:function(){return!1},Zc:function(){},ve:function(){},xj:function(){},lH:function(){},oH:function(){},nH:function(){},mH:function(){},V9:function(){},U9:function(){}});p.QX=p.GD.extend({Db:function(){return!1},Zc:function(){},ve:function(){},xj:function(){}});p.JX=p.GD.extend({lH:function(){},oH:function(){},nH:function(){},mH:function(){}});p.Qm=p.qa.extend({Bb:null,Me:0,nn:0,Rb:function(){return this.Bb},Rg:function(a){this.Bb=a},eQ:function(){return this.Me},Vr:function(a){this.Me=a},OP:function(){return this.nn},FT:function(a){this.nn=a},uj:function(a,c){if(!a)throw"cc.TouchHandler.initWithDelegate(): touch delegate should not be null";this.Bb=a;this.Me=c;this.nn=0;return!0}});p.Qm.create=function(a,c){var d=new p.Qm;d&&d.uj(a,c);return d};p.Fx=p.Qm.extend({uj:function(a,c){return p.Qm.prototype.uj.call(this,a,c)}});
p.Fx.create=function(a,c){var d=new p.Fx;d&&d.uj(a,c);return d};p.nt=p.Qm.extend({Vu:!1,hn:null,D4:function(){return this.Vu},Q8:function(a){this.Vu=a},u0:function(){return this.hn},uj:function(a,c,d){return p.Qm.prototype.uj.call(this,a,c)?(this.hn=[],this.Vu=d,!0):!1}});p.nt.create=function(a,c,d){var e=new p.nt;e&&e.uj(a,c,d);return e};p.LK=1;p.OK=2;p.NK=4;p.MK=8;p.TX=p.LK|p.OK|p.NK|p.MK;p.Jx=0;p.Mx=1;p.Lx=2;p.Kx=3;p.SX=4;p.aH=function(a,c){return a.Me>c.Me};p.rt=function(a){this.type=a};
p.U=p.qa.extend({aj:!1,oe:null,ne:null,nl:!1,Qq:!1,fv:!1,ak:null,Ti:null,ev:!1,Oi:!1,eM:[new p.rt(p.Jx),new p.rt(p.Mx),new p.rt(p.Lx),new p.rt(p.Kx)],s:function(){this.Oi=!0;this.oe=[];this.ne=[];this.ak=[];this.Ti=[];this.aj=this.nl=this.ev=this.Qq=this.fv=!1;p.U.CS();return!0},zq:function(a){this.aj=a},$L:function(){return this.aj},f4:function(){return this.Oi},CT:function(a){this.Oi=a},jL:function(a,c){var d=p.Fx.create(a,c||0);this.nl?-1!=this.Ti.indexOf(a)?p.pd(this.Ti,a):(this.ak.push(d),this.Qq=
!0):this.ne=this.io(d,this.ne)},kL:function(a,c,d){c=p.nt.create(a,c,d);this.nl?-1!=this.Ti.indexOf(a)?p.pd(this.Ti,a):(this.ak.push(c),this.Qq=!0):this.oe=this.io(c,this.oe)},io:function(a,c){for(var d=0,e,f=0;f<c.length;f++)if(e=c[f])if(e.Me<a.Me&&++d,e.Rb()==a.Rb())return p.log("cc.TouchDispatcher.forceAddHandler(): The handler has been added."),c;return p.Ok(c,a,d)},lG:function(){this.ne.length=0;this.oe.length=0},YM:function(a){if(null!=a)if(this.nl){var c=this.fG(this.ak,a);c?p.pd(this.ak,c):
(this.Ti.push(a),this.fv=!0)}else this.mG(a)},JS:function(){this.nl?this.ev=!0:this.lG()},Vr:function(a,c){if(!c)throw"cc.TouchDispatcher.setPriority(): delegate should be non-null.";var d=this.fG(c);d?d.Me!=a&&(d.Vr(a),this.BH(this.oe),this.BH(this.ne)):p.log("cc.TouchDispatcher.setPriority(): Can't find TouchHandler.")},touches:function(a,c,d){if(0>d||4<=d)throw"cc.TouchDispatcher.touches(): invalid index";this.nl=!0;var e=this.oe.length,f=this.ne.length,g=e&&f,h=g?a.slice():a,k=this.eM[d];if(0<
e)for(var l,m,n=0;n<a.length;n++)for(var e=a[n],r=0;r<this.oe.length;r++){l=this.oe[r];if(!l)break;m=!1;if(d==p.Jx)l.Rb().Db&&(m=l.Rb().Db(e,c))&&l.hn.push(e);else if(0<l.hn.length)switch(m=!0,k.type){case p.Mx:p.sa.vj?l.Rb().Zc&&l.Rb().Zc(e,c):this.aj&&l.Rb().Zc&&l.Rb().Zc(e,c);break;case p.Lx:l.Rb().ve&&l.Rb().ve(e,c);l.hn.length=0;break;case p.Kx:l.Rb().xj&&l.Rb().xj(e,c),l.hn.length=0}if(m&&l.Vu){g&&p.pd(h,e);break}}if(0<f)for(n=0;n<this.ne.length&&(l=this.ne[n],l);n++);this.nl=!1;if(this.fv){this.fv=
!1;for(n=0;n<this.Ti.length;n++)this.mG(this.Ti[n]);this.Ti.length=0}if(this.Qq){this.Qq=!1;for(n=0;n<this.ak.length;n++){l=this.ak[n];if(!l)break;l instanceof p.nt?this.oe=this.io(l,this.oe):this.ne=this.io(l,this.ne)}this.ak.length=0}this.ev&&(this.ev=!1,this.lG())},Kw:function(a,c){this.Oi&&this.touches(a,c,p.Jx)},Lw:function(a,c){this.Oi&&this.touches(a,c,p.Mx)},$r:function(a,c){this.Oi&&this.touches(a,c,p.Lx)},pC:function(a,c){this.Oi&&this.touches(a,c,p.Kx)},fG:function(a,c){switch(arguments.length){case 1:c=
arguments[0];if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(var d=0;d<this.oe.length;d++)if(this.oe[d].Rb()==c)return this.oe[d];for(d=0;d<this.ne.length;d++)if(this.ne[d].Rb()==c)return this.ne[d];return null;case 2:if(!a)throw"cc.TouchDispatcher.findHandler(): array should be non-null.";if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(d=0;d<a.length;d++)if(a[d].Rb()==c)return a[d];return null;default:throw"Argument must be non-nil ";
}},mG:function(a){for(var c,d=0;d<this.ne.length;d++)if((c=this.ne[d])&&c.Rb()==a){p.pd(this.ne,c);break}for(d=0;d<this.oe.length;d++)if((c=this.oe[d])&&c.Rb()==a){p.pd(this.oe,c);break}},BH:function(a){a.sort(p.aH)}});p.U.Za=p.a(0,0);p.U.YG=!1;
p.mi=function(a){var c=document.documentElement,d=window,e=null,e="function"===typeof a.getBoundingClientRect?a.getBoundingClientRect():a instanceof HTMLCanvasElement?{left:0,top:0,width:a.width,height:a.height}:{left:0,top:0,width:parseInt(a.style.width),height:parseInt(a.style.height)};return{left:e.left+d.pageXOffset-c.clientLeft,top:e.top+d.pageYOffset-c.clientTop,width:e.width,height:e.height}};
p.wK=function(a,c){var d=p.mi(a),e,f;null!=c.pageX?(e=c.pageX,f=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,e=c.clientX,f=c.clientY);e=p.fa.d().pj(e,f,d);d=new p.Ge(e.x,e.y);d.mf(p.U.Za.x,p.U.Za.y);p.U.Za.x=e.x;p.U.Za.y=e.y;e=[];e.push(d);p.fa.d().$r(e,null)};
p.U.CS=function(){var a=p.canvas;if(!p.U.YG){if(p.sa.vj)if(window.navigator.msPointerEnabled){var c={MSPointerDown:"touchesBegan",MSPointerMove:"touchesMoved",MSPointerUp:"touchesEnded",MSPointerCancel:"touchesCancelled"},d;for(d in c)(function(c,d){a.addEventListener(c,function(c){var e=p.mi(a);e.left-=document.body.scrollLeft;e.top-=document.body.scrollTop;var k,l;k=c.clientX;l=c.clientY;k=p.fa.d().pj(k,l,e);e=new p.Ge(k.x,k.y);e.mf(p.U.Za.x,p.U.Za.y);p.U.Za.x=k.x;p.U.Za.y=k.y;p.M.d().qe[d]([e],
null);c.stopPropagation();c.preventDefault()},!1)})(d,c[d])}else a.addEventListener("touchstart",function(c){if(c.changedTouches){var d=[],g=p.mi(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=p.fa.d().pj(k,l,g),h.hasOwnProperty("identifier")?(h=new p.Ge(k.x,k.y,h.identifier),l=p.U.bu(h).X,h.mf(l.x,l.y),p.U.XE(h)):(h=new p.Ge(k.x,k.y),h.mf(p.U.Za.x,p.U.Za.y)),p.U.Za.x=k.x,p.U.Za.y=
k.y,d.push(h);p.fa.d().Kw(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchmove",function(c){if(c.changedTouches){var d=[],g=p.mi(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=p.fa.d().pj(k,l,g),h.hasOwnProperty("identifier")?(h=new p.Ge(k.x,k.y,h.identifier),l=p.U.bu(h).X,h.mf(l.x,l.y),p.U.XE(h)):(h=new p.Ge(k.x,k.y),h.mf(p.U.Za.x,p.U.Za.y)),p.U.Za.x=
k.x,p.U.Za.y=k.y,d.push(h);p.fa.d().Lw(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchend",function(c){if(c.changedTouches){var d=[],g=p.mi(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=p.fa.d().pj(k,l,g),h.hasOwnProperty("identifier")?(h=new p.Ge(k.x,k.y,h.identifier),l=p.U.bu(h).X,h.mf(l.x,l.y),p.U.fE(h)):(h=new p.Ge(k.x,k.y),h.mf(p.U.Za.x,p.U.Za.y)),
p.U.Za.x=k.x,p.U.Za.y=k.y,d.push(h);p.fa.d().$r(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchcancel",function(c){if(c.changedTouches){var d=[],g=p.mi(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=p.fa.d().pj(k,l,g),h.hasOwnProperty("identifier")?(h=new p.Ge(k.x,k.y,h.identifier),l=p.U.bu(h).X,h.mf(l.x,l.y),p.U.fE(h)):(h=new p.Ge(k.x,k.y),h.mf(p.U.Za.x,
p.U.Za.y)),p.U.Za.x=k.x,p.U.Za.y=k.y,d.push(h);p.fa.d().pC(d,null);c.stopPropagation();c.preventDefault()}},!1);else window.addEventListener("mousedown",function(){p.M.d().qe.zq(!0)}),window.addEventListener("mouseup",function(c){p.M.d().qe.zq(!1);var d=p.mi(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);p.xb(new p.Ff(d.left,d.top,d.width,d.height),p.a(g,c))||(g=p.fa.d().pj(g,c,d),d=new p.Ge(g.x,g.y),d.mf(p.U.Za.x,
p.U.Za.y),p.U.Za.x=g.x,p.U.Za.y=g.y,g=[],g.push(d),p.fa.d().$r(g,null))}),a.addEventListener("mousedown",function(c){var d=p.mi(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=p.fa.d().pj(g,c,d);d=new p.Ge(g.x,g.y);d.mf(p.U.Za.x,p.U.Za.y);p.U.Za.x=g.x;p.U.Za.y=g.y;g=[];g.push(d);p.fa.d().Kw(g,null)}),a.addEventListener("mouseup",function(c){p.wK(a,c)}),a.addEventListener("mousemove",function(c){var d=p.mi(a),g;null!=
c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=p.fa.d().pj(g,c,d);d=new p.Ge(g.x,g.y);d.mf(p.U.Za.x,p.U.Za.y);p.U.Za.x=g.x;p.U.Za.y=g.y;g=[];g.push(d);p.fa.d().Lw(g,null)});p.U.YG=!0}};p.U.bu=function(a){for(var c=null,d=p.U.vz,e=a.ff,f=d.length-1;0<=f;f--)if(d[f].ff==e){c=d[f];break}c||(c=a);return c};
p.U.XE=function(a){for(var c=!1,d=p.U.vz,e=a.ff,f=d.length-1;0<=f;f--)if(d[f].ff==e){d[f]=a;c=!0;break}c||(50>=d.length?d.push(a):(d[p.U.wz]=a,p.U.wz=(p.U.wz+1)%50))};p.U.fE=function(a){var c,d=p.U.vz;c=a.ff;for(a=d.length-1;0<=a;a--)if(d[a].ff==c){c=d.pop();a!=d.length&&(d[a]=c);break}};p.U.vz=[];p.U.wz=0;p.JB=function(a,c,d){p.M.d().qe.kL(d,a,c)};p.DS=function(a,c){p.M.d().qe.jL(a,c)};p.TI=function(a){p.M.d().qe.YM(a)};p.hK=1;p.bD=2;p.KW=4;p.lK=8;p.mX=16;p.nX=32;p.oX=64;p.ZW=128;p.$W=256;p.aX=512;p.tD=1024;p.iK=2048;p.jK=4096;p.kK=0;p.LW=1;p.cD=2;p.OW=p.qa.extend({JR:function(){return!1},KR:function(){return!1},Bh:function(){return!1},NR:function(){return!1},RR:function(){return!1},SR:function(){return!1},TR:function(){return!1},OR:function(){return!1},PR:function(){return!1},QR:function(){return!1},UR:function(){return!1},LR:function(){return!1},MR:function(){return!1}});
p.mK=p.Ge.extend({zF:0,YD:p.kK,w3:function(){return this.zF},BI:function(a){this.zF=a},m0:function(){return this.YD},rT:function(a){this.YD=a}});p.px=p.qa.extend({Bb:null,Me:0,nn:0,Rb:function(){return this.Bb},Rg:function(a){this.Bb=a},eQ:function(){return this.Me},Vr:function(a){this.Me=a},OP:function(){return this.nn},FT:function(a){this.nn=a},uj:function(a,c){this.Bb=a;this.Me=c}});p.px.create=function(a,c){var d=new p.px;d.uj(a,c);return d};
p.td=p.qa.extend({aj:!1,Ku:!1,gf:null,Oi:!1,s:function(){this.Oi=!0;this.gf=[];this.Ku=this.aj=!1;p.td.TM();return!0},zq:function(a){this.aj=a},$L:function(){return this.aj},YE:function(a){this.Ku=a},DY:function(){return this.Ku},GF:function(a,c){var d=p.px.create(a,c);this.gf=this.io(d,this.gf)},io:function(a,c){for(var d=0,e=0;e<c.length;e++){var f=c[e];if(f&&(f.Me<a.Me&&++d,f.Rb()==a.Rb()))return p.log("cc.MouseDispatcher.forceAddHandler(): handler has been added."),c}return p.Ok(c,a,d)},IH:function(a){if(null!=
a)for(var c=0;c<this.gf.length;c++){var d=this.gf[c];if(d&&d.Rb()==a){p.pd(this.gf,d);break}}},YL:function(a){for(var c=0;c<this.gf.length;c++)if(this.gf[c]&&this.gf[c].Rb()==a)return this.gf[c];return null},Vr:function(a,c){if(!c)throw"cc.MouseDispatcher.setPriority(): delegate should be non-null";var d=this.YL(c);d?d.Me!=a&&(d.Vr(a),this.gf.sort(p.aH)):p.log("cc.MouseDispatcher.setPriority(): Can't find MouseHandler in array")},z6:function(){this.gf.length=0},fm:function(a,c,d){for(c=0;c<this.gf.length;c++){var e=
this.gf[c];switch(d){case p.bD:this.aj||this.Ku||!e.Rb().Bh||e.Rb().Bh(a)}}}});p.td.Fu=p.a(0,0);p.td.vM=!1;
p.td.TM=function(){var a=p.canvas;function c(c){var e=p.mi(a),f=c.pageX,g=c.pageY,h=p.fa.d(),f=(f-e.left)/h.ia,e=(e.height-(g-e.top))/h.oa,g=new p.mK(f,e);g.mf(p.td.Fu.x,p.td.Fu.y);g.rT(c.button);p.td.Fu.x=f;p.td.Fu.y=e;return g}p.td.vM||(window.addEventListener("mousedown",function(a){a.button==p.cD?p.M.d().Ve().YE(!0):p.M.d().Ve().zq(!0)}),window.addEventListener("mouseup",function(a){a.button==p.cD?p.M.d().Ve().YE(!1):p.M.d().Ve().zq(!1)}),a.addEventListener("mousedown",function(a){p.M.d().Ve().fm(c(a),
a,p.hK)}),a.addEventListener("mouseup",function(a){p.M.d().Ve().fm(c(a),a,p.lK)}),a.addEventListener("mousemove",function(a){p.M.d().Ve().fm(c(a),a,p.bD)}),a.addEventListener("mousewheel",function(a){var e=c(a);e.BI(a.wheelDelta);p.M.d().Ve().fm(e,a,p.tD)},!1),a.addEventListener("DOMMouseScroll",function(a){var e=c(a);e.BI(-120*a.detail);p.M.d().Ve().fm(e,a,p.tD)}),a.addEventListener("mouseout",function(a){p.M.d().Ve().fm(c(a),a,p.jK)},!1),a.addEventListener("mouseover",function(a){p.M.d().Ve().fm(c(a),
a,p.iK)},!1))};p.g$=function(){return{x:0,y:0}};p.Kk=function(a,c){return{x:a,y:c}};p.fg=function(a,c){return p.Kk(a.x+c.x,a.y+c.y)};p.Qc=function(a,c){return p.Kk(a.x-c.x,a.y-c.y)};p.Bf=function(a,c){return p.Kk(a.x*c,a.y*c)};p.Ow=function(a){return p.Kk(-a.y,a.x)};p.yi=function(a){return p.Kk(-a.x,-a.y)};p.$U=function(a,c){return a.x*c.x+a.y*c.y};p.f$=function(a){return p.Kk(Math.cos(a),Math.sin(a))};p.vC=function(a){a=p.Qg(p.a(a.x,a.y));return p.Kk(a.x,a.y)};p.Oh=function(a){return p.Kk(a.x,a.y)};
p.hb=function(a){return{Ca:a.x,W:a.y}};
p.CJ=p.H.extend({Oa:null,S:null,jr:function(){return this.S},Dk:function(a){this.S=a},ctor:function(){p.H.prototype.ctor.call(this);this.Oa=[];this.S=new p.Qk(p.ae,p.$d)},Ia:function(a){a=a||p.L;var c=p.fa.d().ia;this.S&&770==this.S.src&&1==this.S.mb&&(a.globalCompositeOperation="lighter");for(var d=0;d<this.Oa.length;d++){var e=this.Oa[d];e.type===p.ig.CD&&(a.fillStyle="rgba("+(0|255*e.color.i)+","+(0|255*e.color.h)+","+(0|255*e.color.f)+","+e.color.B+")",p.rf.OA(e.position,e.HB));e.type===p.ig.ED&&
(a.strokeStyle="rgba("+(0|255*e.color.i)+","+(0|255*e.color.h)+","+(0|255*e.color.f)+","+e.color.B+")",a.lineWidth=2*e.HB*c,a.lineCap="round",p.rf.rh(e.Yl,e.Jk));e.type===p.ig.DD&&(a.fillStyle="rgba("+(0|255*e.fillColor.i)+","+(0|255*e.fillColor.h)+","+(0|255*e.fillColor.f)+","+e.fillColor.B+")",p.rf.Id(e.xC,e.count,!1,!0),a.lineWidth=2*e.borderWidth*c,a.lineCap="round",a.strokeStyle="rgba("+(0|255*e.borderColor.i)+","+(0|255*e.borderColor.h)+","+(0|255*e.borderColor.f)+","+e.borderColor.B+")",p.rf.Id(e.xC,
e.count,!0,!1))}},rP:function(a,c,d){var e=new p.Rx(p.ig.CD);e.position=a;e.HB=c;e.color=d;this.Oa.push(e)},vP:function(a,c,d,e){var f=new p.Rx(p.ig.ED);f.Yl=a;f.Jk=c;f.HB=d;f.color=e;this.Oa.push(f)},Id:function(a,c,d,e){var f=new p.Rx(p.ig.DD);f.xC=a;f.count=a.length;f.fillColor=c;f.borderWidth=d;f.borderColor=e;this.Oa.push(f)},clear:function(){this.Oa.length=0}});
p.DJ=p.H.extend({Zm:0,Oa:null,rk:null,mF:null,lF:null,S:null,xa:!1,jr:function(){return this.S},Dk:function(a){this.S=a},ctor:function(){p.H.prototype.ctor.call(this);this.Oa=[];this.S=new p.Qk(p.ae,p.$d)},s:function(){return p.H.prototype.s.call(this)?(this.cg(p.Yg.d().Dh(p.yX)),this.Ly(512),this.mF=p.L.createBuffer(),this.xa=!0):!1},dN:function(){var a=p.L;p.Pd(p.ut);a.bindBuffer(a.ARRAY_BUFFER,this.mF);this.xa&&(a.bufferData(a.ARRAY_BUFFER,this.rk,a.STREAM_DRAW),this.xa=!1);var c=p.Ab.BYTES_PER_ELEMENT;
a.vertexAttribPointer(p.de,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(p.np,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(p.op,2,a.FLOAT,!1,c,12);a.drawArrays(a.TRIANGLES,0,3*this.Oa.length);p.Wg()},Ly:function(a){if(this.Oa.length+a>this.Zm){var c=p.jc.BYTES_PER_ELEMENT;this.Zm+=Math.max(this.Zm,a);if(null==this.Oa||0===this.Oa.length)this.Oa=[],this.rk=new ArrayBuffer(c*this.Zm),this.lF=new Uint8Array(this.rk);else{a=[];for(var d=new ArrayBuffer(c*this.Zm),e=0;e<this.Oa.length;e++)a[e]=new p.jc(this.Oa[e].B,
this.Oa[e].f,this.Oa[e].pa,d,e*c);this.lF=new Uint8Array(d);this.Oa=a;this.rk=d}}},Ia:function(){p.sj(this.S.src,this.S.mb);this.nc.Ee();this.nc.wI();this.dN()},rP:function(a,c,d){d={i:0|255*d.i,h:0|255*d.h,f:0|255*d.f,B:0|255*d.B};var e={m:{x:a.x-c,y:a.y-c},D:d,r:{Ca:-1,W:-1}},f={m:{x:a.x+c,y:a.y+c},D:d,r:{Ca:1,W:1}},g={m:{x:a.x+c,y:a.y-c},D:d,r:{Ca:1,W:-1}};this.Oa.push(new p.jc(e,{m:{x:a.x-c,y:a.y+c},D:d,r:{Ca:-1,W:1}},f,this.rk,this.Oa.length*p.jc.BYTES_PER_ELEMENT));this.Oa.push(new p.jc(e,f,
g,this.rk,this.Oa.length*p.jc.BYTES_PER_ELEMENT));this.xa=!0},vP:function(a,c,d,e){this.Ly(18);e={i:0|255*e.i,h:0|255*e.h,f:0|255*e.f,B:0|255*e.B};var f=p.Oh(a);c=p.Oh(c);a=p.vC(p.Ow(p.Qc(c,f)));var g=p.Ow(a),h=p.Bf(a,d);d=p.Bf(g,d);var k=p.fg(c,p.Qc(h,d)),l=p.Qc(c,h),m=p.fg(c,h),n=p.Qc(f,h),r=p.fg(f,h),q=p.Qc(f,p.Qc(h,d)),f=p.fg(f,p.fg(h,d)),t=p.jc.BYTES_PER_ELEMENT,y=this.rk;this.Oa.push(new p.jc({m:p.Qc(c,p.fg(h,d)),D:e,r:p.hb(p.yi(p.fg(a,g)))},{m:k,D:e,r:p.hb(p.Qc(a,g))},{m:l,D:e,r:p.hb(p.yi(a))},
y,this.Oa.length*t));this.Oa.push(new p.jc({m:m,D:e,r:p.hb(a)},{m:k,D:e,r:p.hb(p.Qc(a,g))},{m:l,D:e,r:p.hb(p.yi(a))},y,this.Oa.length*t));this.Oa.push(new p.jc({m:m,D:e,r:p.hb(a)},{m:n,D:e,r:p.hb(p.yi(a))},{m:l,D:e,r:p.hb(p.yi(a))},y,this.Oa.length*t));this.Oa.push(new p.jc({m:m,D:e,r:p.hb(a)},{m:n,D:e,r:p.hb(p.yi(a))},{m:r,D:e,r:p.hb(a)},y,this.Oa.length*t));this.Oa.push(new p.jc({m:q,D:e,r:p.hb(p.Qc(g,a))},{m:n,D:e,r:p.hb(p.yi(a))},{m:r,D:e,r:p.hb(a)},y,this.Oa.length*t));this.Oa.push(new p.jc({m:q,
D:e,r:p.hb(p.Qc(g,a))},{m:f,D:e,r:p.hb(p.fg(a,g))},{m:r,D:e,r:p.hb(a)},y,this.Oa.length*t));this.xa=!0},Id:function(a,c,d,e){c={i:0|255*c.i,h:0|255*c.h,f:0|255*c.f,B:0|255*c.B};e={i:0|255*e.i,h:0|255*e.h,f:0|255*e.f,B:0|255*e.B};var f=[],g,h,k,l,m=a.length;for(g=0;g<m;g++){h=p.Oh(a[(g-1+m)%m]);k=p.Oh(a[g]);l=p.Oh(a[(g+1)%m]);var n=p.vC(p.Ow(p.Qc(k,h)));k=p.vC(p.Ow(p.Qc(l,k)));f[g]={offset:p.Bf(p.fg(n,k),1/(p.$U(n,k)+1)),hH:k}}n=0<d;this.Ly(3*(3*m-2));var r=p.jc.BYTES_PER_ELEMENT,q=this.rk,t=this.Oa,
y=!1==n?0.5:0;for(g=0;g<m-2;g++)h=p.Qc(p.Oh(a[0]),p.Bf(f[0].offset,y)),k=p.Qc(p.Oh(a[g+1]),p.Bf(f[g+1].offset,y)),l=p.Qc(p.Oh(a[g+2]),p.Bf(f[g+2].offset,y)),t.push(new p.jc({m:h,D:c,r:p.hb({x:0,y:0})},{m:k,D:c,r:p.hb({x:0,y:0})},{m:l,D:c,r:p.hb({x:0,y:0})},q,t.length*r));for(g=0;g<m;g++){y=(g+1)%m;h=p.Oh(a[g]);k=p.Oh(a[y]);l=f[g].hH;var A=f[g].offset,F=f[y].offset,y=n?p.Qc(h,p.Bf(A,d)):p.Qc(h,p.Bf(A,0.5)),J=n?p.Qc(k,p.Bf(F,d)):p.Qc(k,p.Bf(F,0.5));h=n?p.fg(h,p.Bf(A,d)):p.fg(h,p.Bf(A,0.5));k=n?p.fg(k,
p.Bf(F,d)):p.fg(k,p.Bf(F,0.5));n?(t.push(new p.jc({m:y,D:e,r:p.hb(p.yi(l))},{m:J,D:e,r:p.hb(p.yi(l))},{m:k,D:e,r:p.hb(l)},q,t.length*r)),t.push(new p.jc({m:y,D:e,r:p.hb(p.yi(l))},{m:h,D:e,r:p.hb(l)},{m:k,D:e,r:p.hb(l)},q,t.length*r))):(t.push(new p.jc({m:y,D:c,r:p.hb({x:0,y:0})},{m:J,D:c,r:p.hb({x:0,y:0})},{m:k,D:c,r:p.hb(l)},q,t.length*r)),t.push(new p.jc({m:y,D:c,r:p.hb({x:0,y:0})},{m:h,D:c,r:p.hb(l)},{m:k,D:c,r:p.hb(l)},q,t.length*r)))}this.xa=!0},clear:function(){this.Oa.length=0;this.xa=!0}});
p.ig=p.sa.qc?p.DJ:p.CJ;p.ig.create=function(){var a=new p.ig;return a&&a.s()?a:null};p.Rx=function(a){this.type=a};p.ig.CD=0;p.ig.ED=1;p.ig.DD=2;p.Zr=-1;p.lI=function(a,c){a.cg(c);var d=a.n;if(d)for(var e=0;e<d.length;e++)p.lI(d[e],c)};
p.Va=p.H.extend({Zb:null,Zk:0,ai:!1,oE:!1,ctor:function(){p.H.prototype.ctor.call(this);this.Zb=null;this.Zk=0;this.ai=!1},s:null,az:function(a){this.Zb=a;this.Zk=1;this.ai=!1;p.Va.dz=!0;p.Va.dz&&(p.Zr=p.L.getParameter(p.L.STENCIL_BITS),0>=p.Zr&&p.log("Stencil buffer is not enabled."),p.Va.dz=!1);return!0},$y:function(a){this.Zb=a;this.Zk=1;this.ai=!1},ag:function(){p.H.prototype.ag.call(this);this.Zb.ag()},Ah:function(){p.H.prototype.Ah.call(this);this.Zb.Ah()},Pg:function(){this.Zb.Pg();p.H.prototype.Pg.call(this)},
md:function(){this.Zb.md();p.H.prototype.md.call(this)},ea:null,Ml:function(a){var c=a||p.L;if(1>p.Zr)p.H.prototype.ea.call(this,a);else if(this.Zb&&this.Zb.ta)if(p.Va.jq=-1,p.Va.jq+1==p.Zr)p.Va.tA=!0,p.Va.tA&&(p.log("Nesting more than "+p.Zr+"stencils is not supported. Everything will be drawn without stencil for this node and its childs."),p.Va.tA=!1),p.H.prototype.ea.call(this,a);else{p.Va.jq++;var d=1<<p.Va.jq,e=d|d-1,f=c.isEnabled(c.STENCIL_TEST),g=c.getParameter(c.STENCIL_WRITEMASK),h=c.getParameter(c.STENCIL_FUNC),
k=c.getParameter(c.STENCIL_REF),l=c.getParameter(c.STENCIL_VALUE_MASK),m=c.getParameter(c.STENCIL_FAIL),n=c.getParameter(c.STENCIL_PASS_DEPTH_FAIL),r=c.getParameter(c.STENCIL_PASS_DEPTH_PASS);c.enable(c.STENCIL_TEST);c.stencilMask(d);var q=c.getParameter(c.DEPTH_WRITEMASK);c.depthMask(!1);c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.ai?c.REPLACE:c.ZERO,c.KEEP,c.KEEP);p.rf.PA(p.Ei(),p.YR(),p.rv(1,1,1,1));c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.ai?c.ZERO:c.REPLACE,c.KEEP,c.KEEP);if(1>this.Zk){var d=
p.Yg.d().Dh(p.AX),t=c.getUniformLocation(d.Kv(),p.VX);p.D3(d.Kv());d.vI(t,this.Zk);p.lI(this.Zb,d)}p.yo();this.transform();this.Zb.ea();p.xo();c.depthMask(q);c.stencilFunc(c.EQUAL,e,e);c.stencilOp(c.KEEP,c.KEEP,c.KEEP);p.H.prototype.ea.call(this,a);c.stencilFunc(h,k,l);c.stencilOp(m,n,r);c.stencilMask(g);f||c.disable(c.STENCIL_TEST);p.Va.jq--}else this.ai&&p.H.prototype.ea.call(this,a)},Ll:function(a){if(this.Zb&&this.Zb.ta){if(this.ky()||this.Zb instanceof p.w){a=a||p.L;var c=a.canvas,d=p.Va.cM();
d.width=c.width;d.height=c.height;d.getContext("2d").drawImage(c,0,0);a.save();this._super(a);a.globalCompositeOperation=this.ai?"destination-out":"destination-in";this.transform(a);this.Zb.ea();a.restore();a.save();a.setTransform(1,0,0,1,0,0);a.globalCompositeOperation="destination-over";a.drawImage(d,0,0)}else{a=a||p.L;var d=this.n,e;a.save();this.transform(a);this.Zb.ea(a);a.clip();this.ky(!0);var f=d.length;if(0<f){this.nd();for(c=0;c<f;c++)if(e=d[c],0>e.Pa)e.ea(a);else break;for(this.Ia(a);c<
f;c++)d[c].ea(a)}else this.Ia(a);this.ky(!1)}a.restore()}else this.ai&&p.H.prototype.ea.call(this,a)},U2:function(){return this.Zb},cC:null,IN:function(a){this.Zb=a},HN:function(a){this.Zb=a;var c=p.fa.d().ia,d=p.fa.d().oa,e=p.L;!(a instanceof p.w)&&a instanceof p.ig&&(a.Ia=function(){for(var f=0;f<a.Oa.length;f++){var g=a.Oa[f].xC,h=g[0];e.beginPath();e.moveTo(h.x*c,-h.y*d);for(var h=1,k=g.length;h<k;h++)e.lineTo(g[h].x*c,-g[h].y*d)}})},$_:function(){return this.Zk},d7:function(a){this.Zk=a},n4:function(){return this.ai},
R7:function(a){this.ai=a},ky:function(a){if(!0===a||!1===a)p.Va.prototype.oE=a;return p.Va.prototype.oE}});p.sa.qc?(p.Va.prototype.s=p.Va.prototype.az,p.Va.prototype.ea=p.Va.prototype.Ml,p.Va.prototype.cC=p.Va.prototype.IN):(p.Va.prototype.s=p.Va.prototype.$y,p.Va.prototype.ea=p.Va.prototype.Ll,p.Va.prototype.cC=p.Va.prototype.HN);p.Va.dz=null;p.Va.tA=null;p.Va.jq=null;p.Va.dF=null;p.Va.cM=function(){return p.Va.dF||(p.Va.dF=document.createElement("canvas"))};
p.Va.create=function(a){var c=new p.Va;c.s(a);return c};p.vW=0;p.wW=1;p.xW=2;p.Jm=function(a){a-=1;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;return(a|a>>16)+1};
p.fb=p.H.extend({$m:null,an:null,Yt:0,Lp:0,Bu:0,ra:null,Nq:null,ZN:null,kf:p.Gi,Wa:null,Lt:0,Mi:null,qy:0,ry:0,wp:!1,py:null,ctor:null,Zg:function(){p.H.prototype.ctor.call(this);this.Mi=p.rv(1,1,1,1);this.py="rgba(255,255,255,1)";this.$m=document.createElement("canvas");this.an=this.$m.getContext("2d");this.na(0,0)},$g:function(){p.H.prototype.ctor.call(this);this.Mi=p.rv(0,0,0,0)},qf:null,CL:function(){p.H.prototype.md.call(this);this.$m=this.an=null},DL:function(){p.H.prototype.md.call(this);this.Nq=
null;var a=p.L;a.deleteFramebuffer(this.Yt);this.Lp&&a.deleteRenderbuffer(this.Lp);this.ZN=null},nQ:function(){return this.Wa},Wr:function(a){this.Wa=a},mB:null,nM:function(a,c){var d=this.$m,e=p.cd();d.width=0|a*e;d.height=0|c*e;this.an.translate(0,d.height);e=new p.Hb;e.Xe(d);e.Ud();this.Wa=p.w.Gd(e);return!0},oM:function(a,c,d,e){d==p.ip&&p.log("cc.RenderTexture._initWithWidthAndHeightForWebGL() : only RGB and RGBA formats are valid for a render texture;");var f=p.L,g=p.cd();a=0|a*g;c=0|c*g;this.Bu=
f.getParameter(f.FRAMEBUFFER_BINDING);var h;p.be.d().Kq?(g=a,h=c):(g=p.Jm(a),h=p.Jm(c));for(var k=new Uint8Array(g*h*4),l=0;l<g*h*4;l++)k[l]=0;this.kf=d;this.ra=new p.Hb;if(!this.ra)return!1;l=this.ra;l.Ov(k,this.kf,g,h,p.size(a,c));d=f.getParameter(f.RENDERBUFFER_BINDING);if(p.be.d().co("GL_QCOM")){this.Nq=new p.Hb;if(!this.Nq)return!1;this.Nq.Ov(k,this.kf,g,h,p.size(a,c))}this.Yt=f.createFramebuffer();f.bindFramebuffer(f.FRAMEBUFFER,this.Yt);f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,
f.TEXTURE_2D,l.ph,0);0!=e&&(this.Lp=f.createRenderbuffer(),f.bindRenderbuffer(f.RENDERBUFFER,this.Lp),f.renderbufferStorage(f.RENDERBUFFER,e,g,h),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,this.Lp));f.checkFramebufferStatus(f.FRAMEBUFFER)!==f.FRAMEBUFFER_COMPLETE&&p.log("Could not attach texture to the framebuffer");l.RH();a=this.Wa=p.w.Gd(l);a.xm(-1);a.Dk(f.ONE,f.ONE_MINUS_SRC_ALPHA);f.bindRenderbuffer(f.RENDERBUFFER,d);f.bindFramebuffer(f.FRAMEBUFFER,this.Bu);this.wp=
!1;this.t(a);return!0},mj:null,sL:function(){p.L=this.an;p.fa.d().EN()},tL:function(){p.cm(p.Us);p.yo();p.cm(p.Ts);p.yo();var a=p.M.d();a.sw(a.kk);var c=this.ra.ha,d=p.M.d().uQ(),a=d.width/c.width,d=d.height/c.height,e=p.L;e.viewport(0,0,c.width,c.height);c=new p.Lg;p.uR(c,-1/a,1/a,-1/d,1/d,-1,1);p.Tv(c);this.Bu=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,this.Yt);p.be.d().co("GL_QCOM")&&(e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.Nq.ph,0),
e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.ra.ph,0))},CA:function(a,c,d,e,f,g){var h=p.L;f=f||h.COLOR_BUFFER_BIT;g=g||h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT;this.hy(a,c,d,e,f,g,h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT|h.STENCIL_BUFFER_BIT)},hy:null,uL:function(a,c,d,e){this.mj();a=a||0;c=c||0;d=d||0;e=isNaN(e)?1:e;var f=this.an,g=this.$m;f.save();f.fillStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+")";f.clearRect(0,
0,g.width,-g.height);f.fillRect(0,0,g.width,-g.height);f.restore()},vL:function(a,c,d,e,f,g,h){this.mj();var k=p.L,l=[0,0,0,0],m=0,n=0;h&k.COLOR_BUFFER_BIT&&(l=k.getParameter(k.COLOR_CLEAR_VALUE),k.clearColor(a,c,d,e));h&k.DEPTH_BUFFER_BIT&&(m=k.getParameter(k.DEPTH_CLEAR_VALUE),k.clearDepth(f));h&k.STENCIL_BUFFER_BIT&&(n=k.getParameter(k.STENCIL_CLEAR_VALUE),k.clearStencil(g));k.clear(h);h&k.COLOR_BUFFER_BIT&&k.clearColor(l[0],l[1],l[2],l[3]);h&k.DEPTH_BUFFER_BIT&&k.clearDepth(m);h&k.STENCIL_BUFFER_BIT&&
k.clearStencil(n)},end:null,WL:function(){p.L=p.AR;p.fa.d().gN()},XL:function(){var a=p.L,c=p.M.d();a.bindFramebuffer(a.FRAMEBUFFER,this.Bu);c.zI();p.cm(p.Us);p.xo();p.cm(p.Ts);p.xo()},clear:function(a,c,d,e){this.CA(a,c,d,e);this.end()},clearRect:null,HL:function(a,c,d,e){this.an.clearRect(a,c,d,-e)},IL:function(){},clearDepth:null,FL:function(){p.log("clearDepth isn't supported on Cocos2d-Html5")},GL:function(a){this.mj();var c=p.L,d=c.getParameter(c.DEPTH_CLEAR_VALUE);c.clearDepth(a);c.clear(c.DEPTH_BUFFER_BIT);
c.clearDepth(d);this.end()},clearStencil:null,JL:function(){p.log("clearDepth isn't supported on Cocos2d-Html5")},KL:function(a){var c=p.L,d=c.getParameter(c.STENCIL_CLEAR_VALUE);c.clearStencil(a);c.clear(c.STENCIL_BUFFER_BIT);c.clearStencil(d)},ea:null,Ll:function(a){this.ta&&(a=a||p.L,a.save(),this.Ia(a),this.transform(a),this.Wa.ea(),a.restore(),this.jf=0)},Ml:function(a){if(this.ta){p.yo();var c=this.Zj;c&&c.to()&&(c.BA(),this.Mw());this.transform(a);this.Wa.ea();this.Ia(a);c&&c.to()&&c.yA(this);
p.xo();this.jf=0}},Ia:null,fl:function(a){a=a||p.L;if(this.wp){this.mj();if(this.Lt){var c=this.$m;a.save();a.fillStyle=this.py;a.clearRect(0,0,c.width,-c.height);a.fillRect(0,0,c.width,-c.height);a.restore()}this.nd();a=this.n;for(var c=a.length,d=this.Wa,e=0;e<c;e++){var f=a[e];f!=d&&f.ea()}this.end()}},Lf:function(){var a=p.L;if(this.wp){this.mj();var c=this.Lt;if(c){var d=[0,0,0,0],e=0,f=0;c&a.COLOR_BUFFER_BIT&&(d=a.getParameter(a.COLOR_CLEAR_VALUE),a.clearColor(this.Mi.i,this.Mi.h,this.Mi.f,
this.Mi.B));c&a.DEPTH_BUFFER_BIT&&(e=a.getParameter(a.DEPTH_CLEAR_VALUE),a.clearDepth(this.qy));c&a.STENCIL_BUFFER_BIT&&(f=a.getParameter(a.STENCIL_CLEAR_VALUE),a.clearStencil(this.ry));a.clear(c);c&a.COLOR_BUFFER_BIT&&a.clearColor(d[0],d[1],d[2],d[3]);c&a.DEPTH_BUFFER_BIT&&a.clearDepth(e);c&a.STENCIL_BUFFER_BIT&&a.clearStencil(f)}this.nd();a=this.n;for(c=0;c<a.length;c++)d=a[c],d!=this.Wa&&d.ea();this.end()}},iH:null,FM:function(){p.log("saveToFile isn't supported on Cocos2d-Html5");return null},
GM:function(){p.log("saveToFile isn't supported on Cocos2d-Html5");p.ns(this.kf==p.Gi,"only RGBA8888 can be saved as image");if(!this.ra)return null;var a=this.ra.ha,c=a.width,a=a.height,d=new p.PJ,e=p.L,f=new Uint8Array(c*a*4);if(!f)return d;var g=new Uint8Array(c*a*4);if(!g)return null;this.mj();e.pixelStorei(e.PACK_ALIGNMENT,1);e.readPixels(0,0,c,a,e.RGBA,e.UNSIGNED_BYTE,g);this.end();for(e=0;e<a;++e)this.DM(f,e*c*4,g,(a-e-1)*c*4,4*c);d.Q3(f,c*a*4,p.pW,c,a,8);return d},DM:function(a,c,d,e,f){for(var g=
0;g<f;g++)a[c+g]=d[e+g]},W6:function(){p.log("saveToFile isn't supported on Cocos2d-Html5")},X4:function(){p.log("listenToBackground isn't supported on Cocos2d-Html5")},Y4:function(){p.log("listenToForeground isn't supported on Cocos2d-Html5")},x0:function(){return this.Lt},m7:function(a){this.Lt=a},v0:function(){return this.Mi},XH:null,oN:function(a){var c=this.Mi;c.i=a.i;c.h=a.h;c.f=a.f;c.B=a.B;this.py="rgba("+(0|255*a.i)+","+(0|255*a.h)+","+(0|255*a.f)+","+a.B+")"},pN:function(a){var c=this.Mi;
c.i=a.i;c.h=a.h;c.f=a.f;c.B=a.B},w0:function(){return this.qy},l7:function(a){this.qy=a},y0:function(){return this.ry},n7:function(a){this.ry=a},Z3:function(){return this.wp},f7:function(a){this.wp=a}});
p.sa.qc?(b=p.fb.prototype,b.ctor=p.fb.prototype.$g,b.qf=p.fb.prototype.DL,b.mB=p.fb.prototype.oM,b.mj=p.fb.prototype.tL,b.hy=p.fb.prototype.vL,b.end=p.fb.prototype.XL,b.clearRect=p.fb.prototype.IL,b.clearDepth=p.fb.prototype.GL,b.clearStencil=p.fb.prototype.KL,b.ea=p.fb.prototype.Ml,b.Ia=p.fb.prototype.Lf,b.iH=p.fb.prototype.GM,b.XH=p.fb.prototype.pN):(b=p.fb.prototype,b.ctor=p.fb.prototype.Zg,b.qf=p.fb.prototype.CL,b.mB=p.fb.prototype.nM,b.mj=p.fb.prototype.sL,b.hy=p.fb.prototype.uL,b.end=p.fb.prototype.WL,
b.clearRect=p.fb.prototype.HL,b.clearDepth=p.fb.prototype.FL,b.clearStencil=p.fb.prototype.JL,b.ea=p.fb.prototype.Ll,b.Ia=p.fb.prototype.fl,b.iH=p.fb.prototype.FM,b.XH=p.fb.prototype.oN);p.fb.create=function(a,c,d,e){d=d||p.Gi;e=e||0;var f=new p.fb;return f&&f.mB(a,c,d,e)?f:null};p.Dm=-1;
p.bd=p.qa.extend({rl:null,K:null,Mc:p.Dm,ctor:function(){this.K=this.rl=null;this.Mc=p.Dm},description:function(){return"\x3ccc.Action | Tag \x3d "+this.Mc+"\x3e"},copy:function(){return p.v(this)},v:function(){var a=new p.bd;a.rl=null;a.K=null;a.Mc=this.Mc;return a},wh:function(){return!0},N:function(a){this.K=this.rl=a},stop:function(){this.K=null},step:function(){p.log("[Action step]. override me")},update:function(){p.log("[Action update]. override me")},qQ:function(){return this.K},R8:function(a){this.K=a},
c2:function(){return this.rl},m8:function(a){this.rl=a},pQ:function(){return this.Mc},tI:function(a){this.Mc=a},NH:function(){},KB:function(){}});p.bd.create=function(){return new p.bd};p.Di=p.bd.extend({ka:0,ctor:function(){p.bd.prototype.ctor.call(this);this.ka=0},Se:function(){return this.ka},z7:function(a){this.ka=a},reverse:function(){p.log("cocos2d: FiniteTimeAction#reverse: Implement me");return null},v:function(){return new p.Di}});
p.kt=p.bd.extend({Al:0,ib:null,ctor:function(){p.bd.prototype.ctor.call(this);this.Al=0;this.ib=null},N2:function(){return this.Al},K8:function(a){this.Al=a},Z:function(a,c){if(!a)throw"cc.Speed.initWithAction(): action must be non nil";this.ib=a;this.Al=c;return!0},v:function(){var a=new p.kt;a.Z(this.ib.v(),this.Al);return a},N:function(a){p.bd.prototype.N.call(this,a);this.ib.N(a)},stop:function(){this.ib.stop();p.bd.prototype.stop.call(this)},step:function(a){this.ib.step(a*this.Al)},wh:function(){return this.ib.wh()},
reverse:function(){return p.kt.create(this.ib.reverse(),this.Al)},gI:function(a){this.ib!=a&&(this.ib=a)},VA:function(){return this.ib}});p.kt.create=function(a,c){var d=new p.kt;return d&&d.Z(a,c)?d:null};
p.ix=p.bd.extend({sn:null,Xm:!1,Gt:!1,du:null,$p:null,dm:0,um:0,Am:0,Tl:0,vA:null,ctor:function(){p.bd.prototype.ctor.call(this);this.sn=null;this.Gt=this.Xm=!1;this.$p=this.du=null;this.Tl=this.Am=this.um=this.dm=0;this.vA=p.Fc()},v:function(){var a=new p.ix,c=this.vA,c=new p.Ff(c.x,c.y,c.width,c.height);a.Zf(this.sn,c);return a},b4:function(){return this.Xm},h7:function(a){this.Xm=a},Zf:function(a,c){if(!a)throw"cc.Follow.initWithAction(): followedNode must be non nil";c=c||p.Fc();this.sn=a;this.vA=
c;this.Xm=!p.vq(c);this.Gt=!1;var d=p.M.d().vb;this.$p=p.a(d.width,d.height);this.du=p.wi(this.$p,0.5);this.Xm&&(this.dm=-(c.x+c.width-this.$p.x),this.um=-c.x,this.Am=-c.y,this.Tl=-(c.y+c.height-this.$p.y),this.um<this.dm&&(this.um=this.dm=(this.dm+this.um)/2),this.Am<this.Tl&&(this.Am=this.Tl=(this.Am+this.Tl)/2),this.Am==this.Tl&&this.dm==this.um&&(this.Gt=!0));return!0},step:function(){var a=this.sn.q.A,c=this.sn.q.I,a=this.du.x-a,c=this.du.y-c;this.Xm?this.Gt||this.K.F(p.cr(a,this.dm,this.um),
p.cr(c,this.Tl,this.Am)):this.K.F(a,c)},wh:function(){return!this.sn.le},stop:function(){this.K=null;p.bd.prototype.stop.call(this)}});p.ix.create=function(a,c){c=c||new p.Fc;var d=new p.ix;return null!=c&&d&&d.Zf(a,c)||d&&d.Zf(a)?d:null};p.J=p.Di.extend({Ob:0,Zp:!1,ctor:function(){p.Di.prototype.ctor.call(this);this.Ob=0;this.Zp=!1},O0:function(){return this.Ob},G:function(a){this.ka=0===a?p.Ns:a;this.Ob=0;return this.Zp=!0},wh:function(){return this.Ob>=this.ka},v:function(){var a=new p.J;a.G(this.ka);return a},step:function(a){this.Zp?(this.Zp=!1,this.Ob=0):this.Ob+=a;a=this.Ob/(1.192092896E-7<this.ka?this.ka:1.192092896E-7);a=1>a?a:1;this.update(0<a?a:0)},N:function(a){p.bd.prototype.N.call(this,a);this.Ob=0;this.Zp=!0},reverse:function(){p.log("cc.IntervalAction: reverse not implemented.");
return null},e7:function(){p.log("cc.ActionInterval.setAmplitudeRate(): it should be overridden in subclass.")},a0:function(){p.log("cc.ActionInterval.getAmplitudeRate(): it should be overridden in subclass.")}});p.J.create=function(a){var c=new p.J;c.G(a);return c};
p.Fi=p.J.extend({Ph:null,Uz:null,Cn:0,ctor:function(){p.J.prototype.ctor.call(this);this.Ph=[];this.Uz=null;this.Cn=0},vr:function(a,c){if(!a||!c)throw"cc.Sequence.initWithTwoActions(): arguments must all be non nil";this.G(a.Se()+c.Se());this.Ph[0]=a;this.Ph[1]=c;return!0},v:function(){var a=new p.Fi;a.vr(this.Ph[0].v(),this.Ph[1].v());return a},N:function(a){p.J.prototype.N.call(this,a);this.Uz=this.Ph[0].Se()/this.ka;this.Cn=-1},stop:function(){-1!==this.Cn&&this.Ph[this.Cn].stop();p.bd.prototype.stop.call(this)},
update:function(a){var c=0,d=this.Uz,e=this.Ph,f=this.Cn;a<d?(a=0!==d?a/d:1,0===c&&1===f&&(e[1].update(0),e[1].stop())):(c=1,a=1===d?1:(a-d)/(1-d),-1===f&&(e[0].N(this.K),e[0].update(1),e[0].stop()),f||(e[0].update(1),e[0].stop()));f===c&&e[c].wh()||(f!==c&&e[c].N(this.K),e[c].update(a),this.Cn=c)},reverse:function(){return p.Fi.Xk(this.Ph[1].reverse(),this.Ph[0].reverse())},copy:function(){return this.v()}});
p.Fi.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&p.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)c[e]&&(d=p.Fi.Xk(d,c[e]));return d};p.Fi.Xk=function(a,c){var d=new p.Fi;d.vr(a,c);return d};
p.at=p.J.extend({nf:0,gj:0,yu:0,QD:!1,ib:null,ctor:function(){p.J.prototype.ctor.call(this);this.yu=this.gj=this.nf=0;this.QD=!1;this.ib=null},Z:function(a,c){return this.G(a.Se()*c)?(this.nf=c,this.ib=a,a instanceof p.Hh&&(this.nf-=1),this.gj=0,!0):!1},v:function(){var a=new p.at;a.Z(this.ib.v(),this.nf);return a},N:function(a){this.gj=0;this.yu=this.ib.Se()/this.ka;p.J.prototype.N.call(this,a);this.ib.N(a)},stop:function(){this.ib.stop();p.bd.prototype.stop.call(this)},update:function(a){var c=
this.ib,d=this.ka,e=this.nf,f=this.yu;if(a>=f){for(;a>f&&this.gj<e;)c.update(1),this.gj++,c.stop(),c.N(this.K),this.yu=f+=c.Se()/d;1<=a&&this.gj<e&&this.gj++;this.QD&&(this.gj==e?(c.update(1),c.stop()):c.update(a-(f-c.Se()/d)))}else c.update(a*e%1)},wh:function(){return this.gj==this.nf},reverse:function(){return p.at.create(this.ib.reverse(),this.nf)},gI:function(a){this.ib!=a&&(this.ib=a)},VA:function(){return this.ib}});p.at.create=function(a,c){var d=new p.at;d.Z(a,c);return d};
p.bt=p.J.extend({ib:null,ctor:function(){p.J.prototype.ctor.call(this);this.ib=null},Z:function(a){if(!a)throw"cc.RepeatForever.initWithAction(): action must be non null";this.ib=a;return!0},v:function(){var a=new p.bt;a.Z(this.ib.v());return a},N:function(a){p.J.prototype.N.call(this,a);this.ib.N(a)},step:function(a){var c=this.ib;c.step(a);c.wh()&&(c.N(this.K),c.step(c.Ob-c.Se()))},wh:function(){return!1},reverse:function(){return p.bt.create(this.ib.reverse())},gI:function(a){this.ib!=a&&(this.ib=
a)},VA:function(){return this.ib}});p.bt.create=function(a){var c=new p.bt;return c&&c.Z(a)?c:null};
p.hp=p.J.extend({bj:null,kj:null,ctor:function(){p.J.prototype.ctor.call(this);this.kj=this.bj=null},vr:function(a,c){if(!a||!c)throw"cc.Spawn.initWithTwoActions(): arguments must all be non null";var d=!1,e=a.Se(),f=c.Se();this.G(Math.max(e,f))&&(this.bj=a,this.kj=c,e>f?this.kj=p.Fi.Xk(c,p.Fm.create(e-f)):e<f&&(this.bj=p.Fi.Xk(a,p.Fm.create(f-e))),d=!0);return d},v:function(){var a=new p.hp;a.vr(this.bj.v(),this.kj.v());return a},N:function(a){p.J.prototype.N.call(this,a);this.bj.N(a);this.kj.N(a)},
stop:function(){this.bj.stop();this.kj.stop();p.bd.prototype.stop.call(this)},update:function(a){this.bj&&this.bj.update(a);this.kj&&this.kj.update(a)},reverse:function(){return p.hp.Xk(this.bj.reverse(),this.kj.reverse())}});p.hp.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&p.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)null!=c[e]&&(d=this.Xk(d,c[e]));return d};
p.hp.Xk=function(a,c){var d=new p.hp;d.vr(a,c);return d};
p.zx=p.J.extend({Op:0,Bl:0,Cy:0,Wt:0,nk:0,Dy:0,ctor:function(){p.J.prototype.ctor.call(this);this.Dy=this.nk=this.Wt=this.Cy=this.Bl=this.Op=0},G:function(a,c,d){return p.J.prototype.G.call(this,a)?(this.Op=c||0,this.Wt=d||this.Op,!0):!1},v:function(){var a=new p.zx;a.G(this.ka,this.Op,this.Wt);return a},N:function(a){p.J.prototype.N.call(this,a);var c=a.Rf%360,d=this.Op-c;180<d&&(d-=360);-180>d&&(d+=360);this.Bl=c;this.Cy=d;this.nk=a.hh%360;a=this.Wt-this.nk;180<a&&(a-=360);-180>a&&(a+=360);this.Dy=
a},reverse:function(){p.log("cc.RotateTo.reverse(): it should be overridden in subclass.")},update:function(a){this.K&&(this.K.vw(this.Bl+this.Cy*a),this.K.ww(this.nk+this.Dy*a))}});p.zx.create=function(a,c,d){var e=new p.zx;e.G(a,c,d);return e};
p.dt=p.J.extend({Hf:0,Bl:0,vp:0,nk:0,ctor:function(){p.J.prototype.ctor.call(this);this.nk=this.vp=this.Bl=this.Hf=0},G:function(a,c,d){return p.J.prototype.G.call(this,a)?(this.Hf=c||0,this.vp=d||this.Hf,!0):!1},v:function(){var a=new p.dt;a.G(this.ka,this.Hf,this.vp);return a},N:function(a){p.J.prototype.N.call(this,a);this.Bl=a.Rf;this.nk=a.hh},update:function(a){this.K&&(this.K.vw(this.Bl+this.Hf*a),this.K.ww(this.nk+this.vp*a))},reverse:function(){return p.dt.create(this.ka,-this.Hf,-this.vp)}});
p.dt.create=function(a,c,d){var e=new p.dt;e.G(a,c,d);return e};
p.Ij=p.J.extend({hi:null,sc:null,rc:null,ctor:function(){p.J.prototype.ctor.call(this);this.hi=p.a(0,0);this.sc=p.a(0,0);this.rc=p.a(0,0)},G:function(a,c){return p.J.prototype.G.call(this,a)?(this.hi.x=c.x,this.hi.y=c.y,!0):!1},v:function(){var a=new p.Ij;a.G(this.ka,this.hi);return a},N:function(a){p.J.prototype.N.call(this,a);var c=a.q.A;a=a.q.I;this.rc.x=c;this.rc.y=a;this.sc.x=c;this.sc.y=a},update:function(a){if(this.K){var c=this.hi.x*a;a*=this.hi.y;var d=this.sc;if(p.rs){var e=this.K.q.I,f=
this.rc;d.x=d.x+this.K.q.A-f.x;d.y=d.y+e-f.y;c+=d.x;a+=d.y;this.K.F(c,a);f.x=c;f.y=a}else this.K.F(d.x+c,d.y+a)}},reverse:function(){return p.Ij.create(this.ka,p.a(-this.hi.x,-this.hi.y))}});p.Ij.create=function(a,c){var d=new p.Ij;d.G(a,c);return d};
p.Ws=p.Ij.extend({rn:null,ctor:function(){p.Ij.prototype.ctor.call(this);this.rn=p.a(0,0)},G:function(a,c){return p.Ij.prototype.G.call(this,a,c)?(this.rn.x=c.x,this.rn.y=c.y,!0):!1},v:function(){var a=new p.Ws;a.G(this.ka,this.rn);return a},N:function(a){p.Ij.prototype.N.call(this,a);this.hi.x=this.rn.x-a.q.A;this.hi.y=this.rn.y-a.q.I}});p.Ws.create=function(a,c){var d=new p.Ws;d.G(a,c);return d};
p.Om=p.J.extend({Ed:0,Fd:0,Gq:0,Hq:0,Tp:0,Up:0,ee:0,fe:0,ctor:function(){p.J.prototype.ctor.call(this);this.fe=this.ee=this.Up=this.Tp=this.Hq=this.Gq=this.Fd=this.Ed=0},G:function(a,c,d){var e=!1;p.J.prototype.G.call(this,a)&&(this.Tp=c,this.Up=d,e=!0);return e},v:function(){var a=new p.Om;a.G(this.ka,this.Tp,this.Up);return a},N:function(a){p.J.prototype.N.call(this,a);this.Gq=a.Ed%180;this.ee=this.Tp-this.Gq;180<this.ee&&(this.ee-=360);-180>this.ee&&(this.ee+=360);this.Hq=a.Fd%360;this.fe=this.Up-
this.Hq;180<this.fe&&(this.fe-=360);-180>this.fe&&(this.fe+=360)},update:function(a){this.K.yw(this.Gq+this.ee*a);this.K.zw(this.Hq+this.fe*a)}});p.Om.create=function(a,c,d){var e=new p.Om;e&&e.G(a,c,d);return e};
p.it=p.Om.extend({G:function(a,c,d){var e=!1;p.Om.prototype.G.call(this,a,c,d)&&(this.Ed=c,this.Fd=d,e=!0);return e},v:function(){var a=new p.it;a.G(this.ka,this.Ed,this.Fd);return a},N:function(a){p.Om.prototype.N.call(this,a);this.ee=this.Ed;this.fe=this.Fd;this.Tp=this.Gq+this.ee;this.Up=this.Hq+this.fe},reverse:function(){return p.it.create(this.ka,-this.Ed,-this.Fd)}});p.it.create=function(a,c,d){var e=new p.it;e&&e.G(a,c,d);return e};
p.Hm=p.J.extend({sc:null,Kf:null,ga:0,zn:0,rc:null,ctor:function(){p.J.prototype.ctor.call(this);this.sc=p.a(0,0);this.rc=p.a(0,0);this.Kf=p.a(0,0);this.zn=this.ga=0},G:function(a,c,d,e){return p.J.prototype.G.call(this,a)?(this.Kf.x=c.x,this.Kf.y=c.y,this.ga=d,this.zn=e,!0):!1},v:function(){var a=new p.Hm;a.G(this.ka,this.Kf,this.ga,this.zn);return a},N:function(a){p.J.prototype.N.call(this,a);var c=a.q.A;a=a.q.I;this.rc.x=c;this.rc.y=a;this.sc.x=c;this.sc.y=a},update:function(a){if(this.K){var c=
a*this.zn%1,c=4*this.ga*c*(1-c),c=c+this.Kf.y*a;a*=this.Kf.x;var d=this.sc;if(p.rs){var e=this.K.q.I,f=this.rc;d.x=d.x+this.K.q.A-f.x;d.y=d.y+e-f.y;a+=d.x;c+=d.y;this.K.F(a,c);f.x=a;f.y=c}else this.K.F(d.x+a,d.y+c)}},reverse:function(){return p.Hm.create(this.ka,p.a(-this.Kf.x,-this.Kf.y),this.ga,this.zn)}});p.Hm.create=function(a,c,d,e){var f=new p.Hm;f.G(a,c,d,e);return f};
p.lx=p.Hm.extend({N:function(a){p.Hm.prototype.N.call(this,a);this.Kf.x-=this.sc.x;this.Kf.y-=this.sc.y},v:function(){var a=new p.lx;a.G(this.ka,this.Kf,this.ga,this.zn);return a}});p.lx.create=function(a,c,d,e){var f=new p.lx;f.G(a,c,d,e);return f};p.MF=function(a,c,d,e){return 0*Math.pow(1-e,3)+3*e*Math.pow(1-e,2)*a+3*Math.pow(e,2)*(1-e)*c+Math.pow(e,3)*d};
p.Pk=p.J.extend({dl:null,sc:null,rc:null,ctor:function(){p.J.prototype.ctor.call(this);this.dl=[];this.sc=p.a(0,0);this.rc=p.a(0,0)},G:function(a,c){return p.J.prototype.G.call(this,a)?(this.dl=c,!0):!1},v:function(){for(var a=new p.Pk,c=[],d=0;d<this.dl.length;d++){var e=this.dl[d];c.push(p.a(e.x,e.y))}a.G(this.ka,c);return a},N:function(a){p.J.prototype.N.call(this,a);var c=a.q.A;a=a.q.I;this.rc.x=c;this.rc.y=a;this.sc.x=c;this.sc.y=a},update:function(a){if(this.K){var c=this.dl,d=p.MF(c[0].x,c[1].x,
c[2].x,a);a=p.MF(c[0].y,c[1].y,c[2].y,a);c=this.sc;if(p.rs){var e=this.K.q.I,f=this.rc;c.x=c.x+this.K.q.A-f.x;c.y=c.y+e-f.y;d+=c.x;a+=c.y;this.K.F(d,a);f.x=d;f.y=a}else this.K.F(c.x+d,c.y+a)}},reverse:function(){var a=this.dl,a=[p.uf(a[1],p.BB(a[2])),p.uf(a[0],p.BB(a[2])),p.BB(a[2])];return p.Pk.create(this.ka,a)}});p.Pk.create=function(a,c){var d=new p.Pk;d.G(a,c);return d};
p.Vw=p.Pk.extend({cv:null,ctor:function(){p.Pk.prototype.ctor.call(this);this.cv=[]},G:function(a,c){return p.J.prototype.G.call(this,a)?(this.cv=c,!0):!1},v:function(){var a=new p.Vw;a.G(this.ka,this.cv);return a},N:function(a){p.Pk.prototype.N.call(this,a);a=this.sc;var c=this.cv,d=this.dl;d[0]=p.$c(c[0],a);d[1]=p.$c(c[1],a);d[2]=p.$c(c[2],a)}});p.Vw.create=function(a,c){var d=new p.Vw;d.G(a,c);return d};
p.Nm=p.J.extend({ia:1,oa:1,On:1,Pn:1,hl:0,il:0,ee:0,fe:0,ctor:function(){p.J.prototype.ctor.call(this);this.Pn=this.On=this.oa=this.ia=1;this.fe=this.ee=this.il=this.hl=0},G:function(a,c,d){return p.J.prototype.G.call(this,a)?(this.hl=c,this.il=null!=d?d:c,!0):!1},v:function(){var a=new p.Nm;a.G(this.ka,this.hl,this.il);return a},N:function(a){p.J.prototype.N.call(this,a);this.On=a.ia;this.Pn=a.oa;this.ee=this.hl-this.On;this.fe=this.il-this.Pn},update:function(a){this.K&&this.K.Cj(this.On+this.ee*
a,this.Pn+this.fe*a)}});p.Nm.create=function(a,c,d){var e=new p.Nm;e.G(a,c,d);return e};p.gt=p.Nm.extend({N:function(a){p.Nm.prototype.N.call(this,a);this.ee=this.On*this.hl-this.On;this.fe=this.Pn*this.il-this.Pn},reverse:function(){return p.gt.create(this.ka,1/this.hl,1/this.il)},v:function(){var a=new p.gt;a.G(this.ka,this.hl,this.il);return a}});p.gt.create=function(a,c,d){var e=new p.gt;e.G(a,c,d);return e};
p.os=p.J.extend({nf:0,mz:!1,ctor:function(){p.J.prototype.ctor.call(this);this.nf=0;this.mz=!1},G:function(a,c){return p.J.prototype.G.call(this,a)?(this.nf=c,!0):!1},v:function(){var a=new p.os;a.G(this.ka,this.nf);return a},update:function(a){if(this.K&&!this.wh()){var c=1/this.nf;this.K.u(a%c>c/2)}},N:function(a){p.J.prototype.N.call(this,a);this.mz=a.ta},stop:function(){this.K.u(this.mz);p.J.prototype.stop.call(this)},reverse:function(){return p.os.create(this.ka,this.nf)}});
p.os.create=function(a,c){var d=new p.os;d.G(a,c);return d};p.Os=p.J.extend({update:function(a){this.K.Sa&&this.K.$(255*a)},reverse:function(){return p.Ps.create(this.ka)},v:function(){var a=new p.Os;a.G(this.ka);return a}});p.Os.create=function(a){var c=new p.Os;c.G(a);return c};p.Ps=p.J.extend({update:function(a){this.K.Sa&&this.K.$(255*(1-a))},reverse:function(){return p.Os.create(this.ka)},v:function(){var a=new p.Ps;a.G(this.ka);return a}});p.Ps.create=function(a){var c=new p.Ps;c.G(a);return c};
p.hx=p.J.extend({dv:null,au:null,ctor:function(){p.J.prototype.ctor.call(this);this.au=this.dv=0},G:function(a,c){return p.J.prototype.G.call(this,a)?(this.dv=c,!0):!1},v:function(){var a=new p.hx;a.G(this.ka,this.dv);return a},update:function(a){this.K.Sa&&this.K.$(this.au+(this.dv-this.au)*a)},N:function(a){p.J.prototype.N.call(this,a);this.K.Sa&&(this.au=a.oi())}});p.hx.create=function(a,c){var d=new p.hx;d.G(a,c);return d};
p.Ox=p.J.extend({Pe:null,Ad:null,ctor:function(){p.J.prototype.ctor.call(this);this.Pe=p.k(0,0,0);this.Ad=p.k(0,0,0)},G:function(a,c,d,e){return p.J.prototype.G.call(this,a)?(this.Pe=p.k(c,d,e),!0):!1},v:function(){var a=new p.Ox,c=this.Pe;a.G(this.ka,c.i,c.h,c.f);return a},N:function(a){p.J.prototype.N.call(this,a);this.K.Sa&&(this.Ad=this.K.Yc())},update:function(a){var c=this.Ad,d=this.Pe;this.K.Sa&&this.K.o(p.k(c.i+(d.i-c.i)*a,c.h+(d.h-c.h)*a,c.f+(d.f-c.f)*a))}});
p.Ox.create=function(a,c,d,e){var f=new p.Ox;f.G(a,c,d,e);return f};
p.pt=p.J.extend({Kp:0,Jp:0,Ip:0,Ry:0,Qy:0,Py:0,ctor:function(){p.J.prototype.ctor.call(this);this.Py=this.Qy=this.Ry=this.Ip=this.Jp=this.Kp=0},G:function(a,c,d,e){return p.J.prototype.G.call(this,a)?(this.Kp=c,this.Jp=d,this.Ip=e,!0):!1},v:function(){var a=new p.pt;a.G(this.ka,this.Kp,this.Jp,this.Ip);return a},N:function(a){p.J.prototype.N.call(this,a);a.Sa&&(a=a.Yc(),this.Ry=a.i,this.Qy=a.h,this.Py=a.f)},update:function(a){this.K.Sa&&this.K.o(p.k(this.Ry+this.Kp*a,this.Qy+this.Jp*a,this.Py+this.Ip*
a))},reverse:function(){return p.pt.create(this.ka,-this.Kp,-this.Jp,-this.Ip)}});p.pt.create=function(a,c,d,e){var f=new p.pt;f.G(a,c,d,e);return f};p.Fm=p.J.extend({update:function(){},reverse:function(){return p.Fm.create(this.ka)},v:function(){var a=new p.Fm;a.G(this.ka);return a}});p.Fm.create=function(a){var c=new p.Fm;c.G(a);return c};
p.ct=p.J.extend({cj:null,ctor:function(){p.J.prototype.ctor.call(this);this.cj=null},Z:function(a){if(!a)throw"cc.ReverseTime.initWithAction(): action must be non null";if(a==this.cj)throw"cc.ReverseTime.initWithAction(): the action was already passed in.";return p.J.prototype.G.call(this,a.Se())?(this.cj=a,!0):!1},v:function(){var a=new p.ct;a.Z(this.cj.v());return a},N:function(a){p.J.prototype.N.call(this,a);this.cj.N(a)},update:function(a){this.cj&&this.cj.update(1-a)},reverse:function(){return this.cj.v()},
stop:function(){this.cj.stop();p.bd.prototype.stop.call(this)}});p.ct.create=function(a){var c=new p.ct;c.Z(a);return c};
p.ls=p.J.extend({Ji:null,Fn:0,Cu:null,Vp:0,Vz:null,ctor:function(){p.J.prototype.ctor.call(this);this.Ji=null;this.Fn=0;this.Cu=null;this.Vp=0;this.Vz=null},oG:function(){return this.Ji},pT:function(a){this.Ji=a},LG:function(a){if(!a)throw"cc.Animate.initWithAnimation(): animation must be non-NULL";var c=a.Se();if(this.G(c*a.$i)){this.Fn=0;this.pT(a);this.Cu=null;this.Vp=0;var d=[],e=0,f=c/a.Hl;a=a.zd;p.ms(a,p.Ai);for(var g=0;g<a.length;g++){var h=e*f/c,e=e+a[g].xd;d.push(h)}this.Vz=d;return!0}return!1},
v:function(){var a=new p.ls;a.LG(this.Ji.v());return a},N:function(a){p.J.prototype.N.call(this,a);this.Ji.ul&&(this.Cu=a.oP());this.Vp=this.Fn=0},update:function(a){1>a&&(a*=this.Ji.$i,(0|a)>this.Vp&&(this.Fn=0,this.Vp++),a%=1);for(var c=this.Ji.zd,d=c.length,e=this.Vz,f=this.Fn;f<d;f++)if(e[f]<=a)this.K.Ko(c[f].Jg()),this.Fn=f+1;else break},reverse:function(){var a=this.Ji,c=a.zd,d=[];p.ms(c,p.Ai);if(0<c.length)for(var e=c.length-1;0<=e;e--){var f=c[e];if(!f)break;d.push(f.v())}c=p.zi.QF(d,a.xd,
a.$i);c.tw(a.ul);return p.ls.create(c)},stop:function(){this.Ji.ul&&this.K&&this.K.Ko(this.Cu);p.bd.prototype.stop.call(this)}});p.ls.create=function(a){var c=new p.ls;c.LG(a);return c};
p.Nx=p.J.extend({ef:null,jl:null,ctor:function(){p.J.prototype.ctor.call(this);this.jl=this.ef=null},Zf:function(a,c){return this.G(c.Se())?(this.jl=a,this.ef=c,!0):!1},v:function(){var a=new p.Nx;a.Zf(this.jl,this.ef.v());return a},N:function(a){p.J.prototype.N.call(this,a);this.ef.N(this.jl)},stop:function(){this.ef.stop()},update:function(a){this.ef.update(a)},Y0:function(){return this.jl},E7:function(a){this.jl!=a&&(this.jl=a)}});p.Nx.create=function(a,c){var d=new p.Nx;d.Zf(a,c);return d};p.Hh=p.Di.extend({wh:function(){return!0},step:function(){this.update(1)},update:function(){},reverse:function(){return this.v()},v:function(){return new p.Hh}});p.ht=p.Hh.extend({update:function(){this.K.u(!0)},reverse:function(){return p.Ss.create()},v:function(){return new p.ht}});p.ht.create=function(){return new p.ht};p.Ss=p.Hh.extend({update:function(){this.K.u(!1)},reverse:function(){return p.ht.create()},v:function(){return new p.Ss}});p.Ss.create=function(){return new p.Ss};
p.qt=p.Hh.extend({update:function(){this.K.u(!this.K.ta)},reverse:function(){return new p.qt},v:function(){return new p.qt}});p.qt.create=function(){return new p.qt};p.$s=p.Hh.extend({hq:!0,ctor:function(){p.Di.prototype.ctor.call(this);this.hq=!0},update:function(){this.K.R(this.hq)},s:function(a){this.hq=a;return!0},reverse:function(){return new p.$s(this.hq)},v:function(){return new p.$s(this.hq)}});p.$s.create=function(a){null==a&&(a=!0);var c=new p.$s;c&&c.s(a);return c};
p.Qs=p.Hh.extend({Wb:!1,ctor:function(){p.Di.prototype.ctor.call(this);this.Wb=!1},NG:function(a){this.Wb=a;return!0},update:function(){this.K.HT(this.Wb)},reverse:function(){return p.Qs.create(!this.Wb)},v:function(){var a=new p.Qs;a.NG(this.Wb);return a}});p.Qs.create=function(a){var c=new p.Qs;return c.NG(a)?c:null};
p.Rs=p.Hh.extend({Xb:!1,ctor:function(){p.Di.prototype.ctor.call(this);this.Xb=!1},OG:function(a){this.Xb=a;return!0},update:function(){this.K.IT(this.Xb)},reverse:function(){return p.Rs.create(!this.Xb)},v:function(){var a=new p.Rs;a.OG(this.Xb);return a}});p.Rs.create=function(a){var c=new p.Rs;return c.OG(a)?c:null};
p.ux=p.Hh.extend({q:null,ctor:function(){p.Di.prototype.ctor.call(this);this.q=p.a(0,0)},QG:function(a){this.q.x=a.x;this.q.y=a.y;return!0},update:function(){this.K.F(this.q)},v:function(){var a=new p.ux;a.QG(this.q);return a}});p.ux.create=function(a){var c=new p.ux;c.QG(a);return c};
p.$o=p.Hh.extend({yg:null,cl:null,Yj:null,Gp:null,ctor:function(){p.Di.prototype.ctor.call(this);this.Gp=this.Yj=this.cl=this.yg=null},Zf:function(a,c,d){this.Gp=d;this.cl=a;this.yg=c;return!0},gB:function(a){this.Yj=a;return!0},execute:function(){null!=this.cl?this.cl.call(this.yg,this.K,this.Gp):this.Yj&&this.Yj.call(null,this.K)},update:function(){this.execute()},W2:function(){return this.yg},S8:function(a){a!=this.yg&&(this.yg&&(this.yg=null),this.yg=a)},copy:function(){var a=new p.$o;this.yg?
a.Zf(this.cl,this.yg,this.Gp):this.Yj&&a.gB(this.Yj);return a},v:function(){var a=new p.$o;this.yg?a.Zf(this.cl,this.yg,this.Gp):this.Yj&&a.gB(this.Yj);return a}});p.$o.create=function(a,c,d){var e=new p.$o;if(1==arguments.length){if(e&&e.gB(a))return e}else if(e&&e.Zf(a,c,d))return e.cl=a,e;return null};p.Pw=p.J.extend({my:0,ny:0,oy:0,gE:0,hE:0,iE:0,oF:0,pF:0,qF:0,ctor:function(){p.J.prototype.ctor.call(this);this.qF=this.pF=this.oF=this.iE=this.hE=this.gE=this.oy=this.ny=this.my=0},N:function(a){p.J.prototype.N.call(this,a);a=a.TA();var c=a.qG();this.my=c.x;this.ny=c.y;this.oy=c.z;c=a.rG();this.gE=c.x;this.hE=c.y;this.iE=c.z;a=a.sQ();this.oF=a.x;this.pF=a.y;this.qF=a.z},v:function(){return new p.Pw},reverse:function(){return p.ct.create(this)}});
p.sx=p.Pw.extend({ii:0,Ut:0,Tm:0,Ay:0,Hf:0,zy:0,Dz:0,Bz:0,Cz:0,Az:0,ctor:function(){p.Pw.prototype.ctor.call(this);this.Az=this.Cz=this.Bz=this.Dz=this.zy=this.Hf=this.Ay=this.Tm=this.Ut=this.ii=0},G:function(a,c,d,e,f,g,h){return p.J.prototype.G.call(this,a)?(this.ii=c,this.Ut=d,this.Tm=e,this.Ay=f,this.Hf=g,this.zy=h,this.Bz=p.Ci(f),this.Az=p.Ci(h),!0):!1},JU:function(){var a=this.K.TA(),c=a.rG(),d=a.qG(),a=c.x-d.x,e=c.y-d.y,c=c.z-d.z,d=Math.sqrt(Math.pow(a,2)+Math.pow(e,2)+Math.pow(c,2)),f=Math.sqrt(Math.pow(a,
2)+Math.pow(e,2));0===f&&(f=p.Ns);0===d&&(d=p.Ns);return{ER:d/p.ap.rr(),gV:Math.acos(c/d),azimuth:0>a?Math.PI-Math.asin(e/f):Math.asin(e/f)}},N:function(a){p.J.prototype.N.call(this,a);a=this.JU();isNaN(this.ii)&&(this.ii=a.ER);isNaN(this.Tm)&&(this.Tm=p.wx(a.gV));isNaN(this.Hf)&&(this.Hf=p.wx(a.azimuth));this.Dz=p.Ci(this.Tm);this.Cz=p.Ci(this.Hf)},v:function(){var a=new p.sx;a.G(this.ka,this.ii,this.Ut,this.Tm,this.Ay,this.Hf,this.zy);return a},update:function(a){var c=(this.ii+this.Ut*a)*p.ap.rr(),
d=this.Dz+this.Bz*a,e=this.Cz+this.Az*a;a=Math.sin(d)*Math.cos(e)*c+this.my;e=Math.sin(d)*Math.sin(e)*c+this.ny;c=Math.cos(d)*c+this.oy;this.K.TA().bI(a,e,c)}});p.sx.create=function(a,c,d,e,f,g,h){var k=new p.sx;return k.G(a,c,d,e,f,g,h)?k:null};p.Ec=p.J.extend({P:null,ctor:function(){p.J.prototype.ctor.call(this);this.P=null},Z:function(a){if(!a)throw"cc.ActionEase.initWithAction(): action must be non nil";return this.G(a.Se())?(this.P=a,!0):!1},v:function(){var a=new p.Ec;a.Z(this.P.v());return a},N:function(a){p.J.prototype.N.call(this,a);this.P.N(this.K)},stop:function(){this.P.stop();p.J.prototype.stop.call(this)},update:function(a){this.P.update(a)},reverse:function(){return p.Ec.create(this.P.reverse())},VA:function(){return this.P}});
p.Ec.create=function(a){var c=new p.Ec;c&&c.Z(a);return c};p.Tk=p.Ec.extend({je:0,ctor:function(){p.Ec.prototype.ctor.call(this);this.je=0},y8:function(a){this.je=a},u2:function(){return this.je},Z:function(a,c){return p.Ec.prototype.Z.call(this,a)?(this.je=c,!0):!1},v:function(){var a=new p.Tk;a.Z(this.P.v(),this.je);return a},reverse:function(){return p.Tk.create(this.P.reverse(),1/this.je)}});p.Tk.create=function(a,c){var d=new p.Tk;d&&d.Z(a,c);return d};
p.Gs=p.Tk.extend({update:function(a){this.P.update(Math.pow(a,this.je))},reverse:function(){return p.Gs.create(this.P.reverse(),1/this.je)},v:function(){var a=new p.Gs;a.Z(this.P.v(),this.je);return a}});p.Gs.create=function(a,c){var d=new p.Gs;d&&d.Z(a,c);return d};p.Is=p.Tk.extend({update:function(a){this.P.update(Math.pow(a,1/this.je))},reverse:function(){return p.Is.create(this.P.reverse(),1/this.je)},v:function(){var a=new p.Is;a.Z(this.P.v(),this.je);return a}});
p.Is.create=function(a,c){var d=new p.Is;d&&d.Z(a,c);return d};p.Hs=p.Tk.extend({update:function(a){a*=2;1>a?this.P.update(0.5*Math.pow(a,this.je)):this.P.update(1-0.5*Math.pow(2-a,this.je))},v:function(){var a=new p.Hs;a.Z(this.P.v(),this.je);return a},reverse:function(){return p.Hs.create(this.P.reverse(),this.je)}});p.Hs.create=function(a,c){var d=new p.Hs;d&&d.Z(a,c);return d};
p.Ds=p.Ec.extend({update:function(a){this.P.update(0===a?0:Math.pow(2,10*(a-1)))},reverse:function(){return p.Fs.create(this.P.reverse())},v:function(){var a=new p.Ds;a.Z(this.P.v());return a}});p.Ds.create=function(a){var c=new p.Ds;c&&c.Z(a);return c};p.Fs=p.Ec.extend({update:function(a){this.P.update(1==a?1:-Math.pow(2,-10*a)+1)},reverse:function(){return p.Ds.create(this.P.reverse())},v:function(){var a=new p.Fs;a.Z(this.P.v());return a}});p.Fs.create=function(a){var c=new p.Fs;c&&c.Z(a);return c};
p.Es=p.Ec.extend({update:function(a){1!=a&&0!==a&&(a*=2,a=1>a?0.5*Math.pow(2,10*(a-1)):0.5*(-Math.pow(2,-10*(a-1))+2));this.P.update(a)},reverse:function(){return p.Es.create(this.P.reverse())},v:function(){var a=new p.Es;a.Z(this.P.v());return a}});p.Es.create=function(a){var c=new p.Es;c&&c.Z(a);return c};
p.Js=p.Ec.extend({update:function(a){a=0===a||1==a?a:-1*Math.cos(a*Math.PI/2)+1;this.P.update(a)},reverse:function(){return p.Ls.create(this.P.reverse())},v:function(){var a=new p.Js;a.Z(this.P.v());return a}});p.Js.create=function(a){var c=new p.Js;c&&c.Z(a);return c};p.Ls=p.Ec.extend({update:function(a){a=0===a||1==a?a:Math.sin(a*Math.PI/2);this.P.update(a)},reverse:function(){return p.Js.create(this.P.reverse())},v:function(){var a=new p.Ls;a.Z(this.P.v());return a}});
p.Ls.create=function(a){var c=new p.Ls;c&&c.Z(a);return c};p.Ks=p.Ec.extend({update:function(a){a=0===a||1==a?a:-0.5*(Math.cos(Math.PI*a)-1);this.P.update(a)},v:function(){var a=new p.Ks;a.Z(this.P.v());return a},reverse:function(){return p.Ks.create(this.P.reverse())}});p.Ks.create=function(a){var c=new p.Ks;c&&c.Z(a);return c};
p.Gm=p.Ec.extend({Bd:null,ctor:function(){p.Ec.prototype.ctor.call(this);this.Bd=0.3},e2:function(){return this.Bd},n8:function(a){this.Bd=a},Z:function(a,c){p.Ec.prototype.Z.call(this,a);this.Bd=null==c?0.3:c;return!0},reverse:function(){p.log("cc.EaseElastic.reverse(): it should be overridden in subclass.")},v:function(){var a=new p.Gm;a.Z(this.P.v(),this.Bd);return a}});p.Gm.create=function(a,c){var d=new p.Gm;return d&&d.Z(a,c)?d:null};
p.As=p.Gm.extend({update:function(a){var c=0;0===a||1===a?c=a:(c=this.Bd/4,a-=1,c=-Math.pow(2,10*a)*Math.sin((a-c)*Math.PI*2/this.Bd));this.P.update(c)},reverse:function(){return p.Cs.create(this.P.reverse(),this.Bd)},v:function(){var a=new p.As;a.Z(this.P.v(),this.Bd);return a}});p.As.create=function(a,c){var d=new p.As;return d&&d.Z(a,c)?d:null};
p.Cs=p.Gm.extend({update:function(a){var c=0,c=0===a||1==a?a:Math.pow(2,-10*a)*Math.sin((a-this.Bd/4)*Math.PI*2/this.Bd)+1;this.P.update(c)},reverse:function(){return p.As.create(this.P.reverse(),this.Bd)},v:function(){var a=new p.Cs;a.Z(this.P.v(),this.Bd);return a}});p.Cs.create=function(a,c){var d=new p.Cs;d&&d.Z(a,c);return d};
p.Bs=p.Gm.extend({update:function(a){var c=0,c=this.Bd;if(0===a||1==a)c=a;else{c||(c=this.Bd=0.3*1.5);var d=c/4;a=2*a-1;c=0>a?-0.5*Math.pow(2,10*a)*Math.sin((a-d)*Math.PI*2/c):Math.pow(2,-10*a)*Math.sin((a-d)*Math.PI*2/c)*0.5+1}this.P.update(c)},reverse:function(){return p.Bs.create(this.P.reverse(),this.Bd)},v:function(){var a=new p.Bs;a.Z(this.P.v(),this.Bd);return a}});p.Bs.create=function(a,c){var d=new p.Bs;d&&d.Z(a,c);return d};
p.Sk=p.Ec.extend({pv:function(a){if(a<1/2.75)return 7.5625*a*a;if(a<2/2.75)return a-=1.5/2.75,7.5625*a*a+0.75;if(a<2.5/2.75)return a-=2.25/2.75,7.5625*a*a+0.9375;a-=2.625/2.75;return 7.5625*a*a+0.984375},v:function(){var a=new p.Sk;a.Z(this.P.v());return a},reverse:function(){return p.Sk.create(this.P.reverse())}});p.Sk.create=function(a){var c=new p.Sk;c&&c.Z(a);return c};
p.xs=p.Sk.extend({update:function(a){this.P.update(1-this.pv(1-a))},reverse:function(){return p.zs.create(this.P.reverse())},v:function(){var a=new p.xs;a.Z(this.P.v());return a}});p.xs.create=function(a){var c=new p.xs;c&&c.Z(a);return c};p.zs=p.Sk.extend({update:function(a){this.P.update(this.pv(a))},reverse:function(){return p.xs.create(this.P.reverse())},v:function(){var a=new p.zs;a.Z(this.P.v());return a}});p.zs.create=function(a){var c=new p.zs;c&&c.Z(a);return c};
p.ys=p.Sk.extend({update:function(a){var c=0,c=0.5>a?0.5*(1-this.pv(1-2*a)):0.5*this.pv(2*a-1)+0.5;this.P.update(c)},v:function(){var a=new p.ys;a.Z(this.P.v());return a},reverse:function(){return p.ys.create(this.P.reverse())}});p.ys.create=function(a){var c=new p.ys;c&&c.Z(a);return c};p.us=p.Ec.extend({update:function(a){this.P.update(0===a||1==a?a:a*a*(2.70158*a-1.70158))},reverse:function(){return p.ws.create(this.P.reverse())},v:function(){var a=new p.us;a.Z(this.P.v());return a}});
p.us.create=function(a){var c=new p.us;c&&c.Z(a);return c};p.ws=p.Ec.extend({update:function(a){a-=1;this.P.update(a*a*(2.70158*a+1.70158)+1)},reverse:function(){return p.us.create(this.P.reverse())},v:function(){var a=new p.ws;a.Z(this.P.v());return a}});p.ws.create=function(a){var c=new p.ws;c&&c.Z(a);return c};
p.vs=p.Ec.extend({update:function(a){a*=2;1>a?this.P.update(a*a*(3.5949095*a-2.5949095)/2):(a-=2,this.P.update(a*a*(3.5949095*a+2.5949095)/2+1))},v:function(){var a=new p.vs;a.Z(this.P.v());return a},reverse:function(){return p.vs.create(this.P.reverse())}});p.vs.create=function(a){var c=new p.vs;c&&c.Z(a);return c};p.Yw=function(a,c,d,e,f,g){var h=g*g,k=h*g,l=(1-f)/2;f=l*(-k+2*h-g);var m=l*(-k+h)+(2*k-3*h+1);g=l*(k-2*h+g)+(-2*k+3*h);h=l*(k-h);return p.a(a.x*f+c.x*m+d.x*g+e.x*h,a.y*f+c.y*m+d.y*g+e.y*h)};p.OH=function(a){for(var c=[],d=a.length-1;0<=d;d--)c.push(p.a(a[d].x,a[d].y));return c};p.tv=function(a){for(var c=[],d=0;d<a.length;d++)c.push(p.a(a[d].x,a[d].y));return c};p.Ig=function(a,c){var d=Math.min(a.length-1,Math.max(c,0));return a[d]};
p.V6=function(a){for(var c=a.length,d=0|c/2,e=0;e<d;++e){var f=a[e];a[e]=a[c-e-1];a[c-e-1]=f}};
p.Jh=p.J.extend({dh:null,By:0,Dl:0,rc:null,Yx:null,ctor:function(){p.J.prototype.ctor.call(this);this.dh=[];this.Dl=this.By=0;this.Yx=this.rc=null},G:function(a,c,d){if(!c||0==c.length)throw"Invalid configuration. It must at least have one control point";return p.J.prototype.G.call(this,a)?(this.fU(c),this.Dl=d,!0):!1},v:function(){var a=new p.Jh;a.G(this.ka,p.tv(this.dh),this.Dl);return a},N:function(a){p.J.prototype.N.call(this,a);this.By=1/(this.dh.length-1);a=this.K.q;this.rc=p.a(a.x,a.y);this.Yx=
p.a(0,0)},update:function(a){var c,d=this.dh;if(1==a)c=d.length-1,a=1;else{var e=this.By;c=0|a/e;a=(a-e*c)/e}c=p.Yw(p.Ig(d,c-1),p.Ig(d,c-0),p.Ig(d,c+1),p.Ig(d,c+2),this.Dl,a);p.rs&&(d=this.K.q.A-this.rc.x,a=this.K.q.I-this.rc.y,0!=d||0!=a)&&(e=this.Yx,d=e.x+d,a=e.y+a,e.x=d,e.y=a,c.x+=d,c.y+=a);this.$I(c)},reverse:function(){var a=p.OH(this.dh);return p.Jh.create(this.ka,a,this.Dl)},$I:function(a){this.K.F(a);this.rc=a},j2:function(){return this.dh},fU:function(a){this.dh=a}});
p.Jh.create=function(a,c,d){var e=new p.Jh;return e.G(a,c,d)?e:null};
p.bp=p.Jh.extend({sc:null,ctor:function(){p.Jh.prototype.ctor.call(this);this.sc=p.a(0,0)},N:function(a){p.Jh.prototype.N.call(this,a);a=a.q;this.sc.x=a.x;this.sc.y=a.y},reverse:function(){for(var a=this.dh.slice(),c,d=a[0],e=1;e<a.length;++e)c=a[e],a[e]=p.$c(c,d),d=c;a=p.OH(a);d=a[a.length-1];a.pop();d.x=-d.x;d.y=-d.y;a.unshift(d);for(e=1;e<a.length;++e)c=a[e],c.x=-c.x,c.y=-c.y,c.x+=d.x,c.y+=d.y,d=a[e]=c;return p.bp.create(this.ka,a,this.Dl)},$I:function(a){var c=this.sc,d=a.x+c.x;a=a.y+c.y;this.K.F(d,
a);this.rc.x=d;this.rc.y=a},v:function(){var a=new p.bp;a.G(this.ka,p.tv(this.dh),this.Dl);return a}});p.bp.create=function(a,c,d){var e=new p.bp;return e.G(a,c,d)?e:null};p.$w=p.Jh.extend({G:function(a,c){return p.Jh.prototype.G.call(this,a,c,0.5)},v:function(){var a=new p.$w;a.G(this.ka,p.tv(this.dh));return a}});p.$w.create=function(a,c){var d=new p.$w;return d.G(a,c)?d:null};
p.Zw=p.bp.extend({G:function(a,c){return p.Jh.prototype.G.call(this,a,c,0.5)},v:function(){var a=new p.Zw;a.G(this.ka,p.tv(this.dh));return a}});p.Zw.create=function(a,c){var d=new p.Zw;return d.G(a,c)?d:null};p.sV=p.qa.extend({tC:function(){}});
p.Em=p.J.extend({key:"",Yl:0,Jk:0,KA:0,ctor:function(){p.J.prototype.ctor.call(this);this.key="";this.KA=this.Jk=this.Yl=0},G:function(a,c,d,e){return p.J.prototype.G.call(this,a)?(this.key=c,this.Jk=e,this.Yl=d,!0):!1},N:function(a){if(!a||!a.tC)throw"cc.ActionTween.startWithTarget(): target must be non-null, and target must implement updateTweenAction function";p.J.prototype.N.call(this,a);this.KA=this.Jk-this.Yl},update:function(a){this.K.tC(this.Jk-this.KA*(1-a),this.key)},reverse:function(){return p.Em.create(this.duration,
this.key,this.Jk,this.Yl)},v:function(){var a=new p.Em;a.G(this.ka,this.key,this.Yl,this.Jk);return a}});p.Em.create=function(a,c,d,e){var f=new p.Em;return f.G(a,c,d,e)?f:null};p.Jj=0;p.tx=1;p.oD=4;p.sK=75;
p.ic=p.eb.extend({Qe:null,fi:0,Wa:null,bh:null,bl:null,jd:!1,E1:function(){return p.a(this.bh.x,this.bh)},jI:function(a){this.bh=p.pH(a)},g0:function(){return p.a(this.bl.x,this.bl.y)},UH:function(a){this.bl=p.pH(a)},ue:function(){return this.Qe},Jv:function(){return this.fi},nQ:function(){return this.Wa},Ur:function(a){this.fi!=a&&(this.fi=p.cr(a,0,100),this.kA())},$e:function(){},yk:function(){return!1},y4:function(){return this.jd},iy:function(a){if(a<p.oD){var c=p.sK;return this.jd?p.a(c>>7-(a<<
1)&1,c>>7-((a<<1)+1)&1):p.a(c>>(a<<1)+1&1,c>>(a<<1)&1)}return p.Ei()},Ic:null,bA:270,Ky:270,ii:0,uy:!1,fy:null,Wc:0,oc:null,of:null,yF:null,$q:!1,ctor:null,Zg:function(){p.eb.prototype.ctor.call(this);this.Qe=p.Jj;this.fi=0;this.bh=p.a(0,0);this.bl=p.a(0,0);this.jd=!1;this.Wa=null;this.Ic=p.Ei();this.Ky=this.bA=270;this.ii=0;this.uy=!1;this.fy=p.Fc()},$g:function(){p.eb.prototype.ctor.call(this);this.Qe=p.Jj;this.fi=0;this.bh=p.a(0,0);this.bl=p.a(0,0);this.jd=!1;this.Wa=null;this.yF=p.L.createBuffer();
this.Wc=0;this.of=this.oc=null;this.$q=!1},o:function(a){this.Wa.o(a);this.Vc()},$:function(a){this.Wa.$(a);this.Vc()},Yc:function(){return this.Wa.Yc()},oi:function(){return this.Wa.oi()},oI:null,CN:function(a){this.jd!==a&&(this.jd=a)},DN:function(a){this.jd!==a&&(this.jd=a,this.of=this.oc=null,this.Wc=0)},Wr:null,FN:function(a){this.Wa!=a&&(this.Wa=a,this.da(this.Wa.g()))},GN:function(a){a&&this.Wa!=a&&(this.Wa=a,this.da(a.g()),this.oc&&(this.of=this.oc=null,this.Wc=0))},xi:null,JN:function(a){a!==
this.Qe&&(this.Qe=a)},KN:function(a){a!==this.Qe&&(this.oc&&(this.of=this.oc=null,this.Wc=0),this.Qe=a)},nI:null,AN:function(a){this.jd!==a&&(this.jd=a)},BN:function(a){this.jd!==a&&(this.jd=a,this.of=this.oc=null,this.Wc=0)},pe:function(a){var c=this.Wa;if(!c)return{Ca:0,W:0};var d=c.qb,e=p.a(d.ya.r.Ca,d.ya.r.W),d=p.a(d.Ba.r.Ca,d.Ba.r.W);c.xc&&(c=a.x,a.x=a.y,a.y=c);return{Ca:e.x*(1-a.x)+d.x*a.x,W:e.y*(1-a.y)+d.y*a.y}},re:function(a){if(!this.Wa)return{x:0,y:0};var c=this.Wa.qb,d=p.a(c.ya.m.x,c.ya.m.y),
c=p.a(c.Ba.m.x,c.Ba.m.y);return{x:d.x*(1-a.x)+c.x*a.x,y:d.y*(1-a.y)+c.y*a.y}},jB:null,jM:function(a){this.Ur(0);this.na(0.5,0.5);this.Qe=p.Jj;this.jd=!1;this.jI(p.a(0.5,0.5));this.UH(p.a(1,1));this.Wr(a);return!0},kM:function(a){this.Ur(0);this.of=this.oc=null;this.Wc=0;this.na(0.5,0.5);this.Qe=p.Jj;this.jd=!1;this.jI(p.a(0.5,0.5));this.UH(p.a(1,1));this.Wr(a);this.cg(p.Yg.d().Dh(p.Ax));return!0},Ia:null,fl:function(a){a=a||p.L;var c=this.Wa;c.wn&&(a.globalCompositeOperation="lighter");var d=p.fa.d().ia,
e=p.fa.d().oa;a.globalAlpha=c.Cb/255;var f=c.la,g=c.ha,h=c.Pb,k=c.Hy,l=0|h.x,m=-h.y-f.height,n=c.Tn;k.width=f.width*d;k.height=f.height*e;a.save();c.Wb&&(l=-h.x-f.width,a.scale(-1,1));c.Xb&&(m=h.y,a.scale(1,-1));l*=d;m*=e;this.Qe==p.tx?(f=this.fy,a.beginPath(),a.rect(f.x*d,f.y*e,f.width*d,f.height*e),a.clip(),a.closePath()):this.Qe==p.Jj&&(f=this.Ic.x*d,h=this.Ic.y*e,a.beginPath(),a.arc(f,h,this.ii*e,Math.PI/180*this.bA,Math.PI/180*this.Ky,this.uy),a.lineTo(f,h),a.clip(),a.closePath());c.ra&&n.gs?
(d=c.ra.mc,this.Nt?a.drawImage(d,0,0,n.width,n.height,l,m,k.width,k.height):a.drawImage(d,n.x,n.y,n.width,n.height,l,m,k.width,k.height)):0!==g.width&&(k=this.Yc(),a.fillStyle="rgba("+k.i+","+k.h+","+k.f+",1)",a.fillRect(l,m,g.width*d,g.height*e));a.restore();p.Wg()},Lf:function(a){a=a||p.L;if(this.oc&&this.Wa){p.qx(this);var c=this.Wa.S;p.sj(c.src,c.mb);p.Pd(p.ut);this.Wa.Q()?p.Xf(this.Wa.Q()):p.Xf(null);a.bindBuffer(a.ARRAY_BUFFER,this.yF);this.$q&&(a.bufferData(a.ARRAY_BUFFER,this.of,a.DYNAMIC_DRAW),
this.$q=!1);c=p.Ab.BYTES_PER_ELEMENT;a.vertexAttribPointer(p.de,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(p.np,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(p.op,2,a.FLOAT,!1,c,12);this.Qe===p.Jj?a.drawArrays(a.TRIANGLE_FAN,0,this.Wc):this.Qe==p.tx&&(this.jd?(a.drawArrays(a.TRIANGLE_STRIP,0,this.Wc/2),a.drawArrays(a.TRIANGLE_STRIP,4,this.Wc/2),p.th++):a.drawArrays(a.TRIANGLE_STRIP,0,this.Wc));p.th++}},lO:function(){if(this.Wa){var a,c=this.bh;a=this.fi/100;var d=2*p.PI*(this.jd?a:1-a),e=p.a(c.x,1),
f=p.$R(e,c,d),d=0;if(0==a)f=e,d=0;else if(1==a)f=e,d=4;else{var g=p.IJ,h=p.oD;for(a=0;a<=h;++a){var k=(a+(h-1))%h,l=this.iy(a%h),k=this.iy(k);0==a?k=p.rH(l,k,1-c.x):4==a&&(l=p.rH(l,k,1-c.x));var m=p.a(0,0);p.zB(l,k,c,f,m)&&(0!=a&&4!=a||0<=m.x&&1>=m.x)&&0<=m.y&&m.y<g&&(g=m.y,d=a)}f=p.uf(c,p.wi(p.$c(f,c),g))}g=!0;this.Wc!=d+3&&(g=!1,this.of=this.oc=null,this.Wc=0);if(!this.oc){h=this.Wc=d+3;l=p.Ab.BYTES_PER_ELEMENT;this.of=new ArrayBuffer(h*l);k=[];for(a=0;a<h;a++)k[a]=new p.Ab(null,null,null,this.of,
a*l);this.oc=k;if(!this.oc){p.log("cc.ProgressTimer._updateRadial() : Not enough memory");return}}this.Vc();h=this.oc;if(!g)for(h[0].r=this.pe(c),h[0].m=this.re(c),h[1].r=this.pe(e),h[1].m=this.re(e),a=0;a<d;a++)c=this.iy(a),h[a+2].r=this.pe(c),h[a+2].m=this.re(c);h[this.Wc-1].r=this.pe(f);h[this.Wc-1].m=this.re(f)}},aO:function(){if(this.Wa){var a,c=this.fi/100,d=this.bl,d=p.wi(p.a(1-d.x+c*d.x,1-d.y+c*d.y),0.5),c=p.$c(this.bh,d),d=p.uf(this.bh,d);0>c.x&&(d.x+=-c.x,c.x=0);1<d.x&&(c.x-=d.x-1,d.x=1);
0>c.y&&(d.y+=-c.y,c.y=0);1<d.y&&(c.y-=d.y-1,d.y=1);if(this.jd){if(!this.oc){this.Wc=8;var e=p.Ab.BYTES_PER_ELEMENT;this.of=new ArrayBuffer(8*e);var f=[];for(a=0;8>a;a++)f[a]=new p.Ab(null,null,null,this.of,a*e);f[0].r=this.pe(p.a(0,1));f[0].m=this.re(p.a(0,1));f[1].r=this.pe(p.a(0,0));f[1].m=this.re(p.a(0,0));f[6].r=this.pe(p.a(1,1));f[6].m=this.re(p.a(1,1));f[7].r=this.pe(p.a(1,0));f[7].m=this.re(p.a(1,0));this.oc=f}a=this.oc;a[2].r=this.pe(p.a(c.x,d.y));a[2].m=this.re(p.a(c.x,d.y));a[3].r=this.pe(p.a(c.x,
c.y));a[3].m=this.re(p.a(c.x,c.y));a[4].r=this.pe(p.a(d.x,d.y));a[4].m=this.re(p.a(d.x,d.y));a[5].r=this.pe(p.a(d.x,c.y));a[5].m=this.re(p.a(d.x,c.y))}else{if(!this.oc)for(this.Wc=4,e=p.Ab.BYTES_PER_ELEMENT,this.of=new ArrayBuffer(4*e),this.oc=[],a=0;4>a;a++)this.oc[a]=new p.Ab(null,null,null,this.of,a*e);a=this.oc;a[0].r=this.pe(p.a(c.x,d.y));a[0].m=this.re(p.a(c.x,d.y));a[1].r=this.pe(p.a(c.x,c.y));a[1].m=this.re(p.a(c.x,c.y));a[2].r=this.pe(p.a(d.x,d.y));a[2].m=this.re(p.a(d.x,d.y));a[3].r=this.pe(p.a(d.x,
c.y));a[3].m=this.re(p.a(d.x,c.y))}this.Vc()}},Vc:function(){if(this.Wa&&this.oc){for(var a=this.Wa.qb.Fa.D,c=this.oc,d=0,e=this.Wc;d<e;++d)c[d].D=a;this.$q=!0}},kA:null,hO:function(){var a=this.Wa,c=a.g(),d=this.bh;if(this.Qe==p.Jj){this.ii=Math.round(Math.sqrt(c.width*c.width+c.height*c.height));var e,f=!1,g=this.Ic;g.x=c.width*d.x;g.y=-c.height*d.y;this.jd?(e=270,d=270-3.6*this.fi):(d=-90,e=-90+3.6*this.fi);a.Wb&&(g.x-=2*c.width*this.bh.x,d=-d-180,e=-e-180,f=!f);a.Xb&&(g.y+=2*c.height*this.bh.y,
f=!f,d=-d,e=-e);this.bA=d;this.Ky=e;this.uy=f}else{e=this.bl;g=this.fi/100;f=this.fy;e=p.size(c.width*(1-e.x),c.height*(1-e.y));var g=p.size((c.width-e.width)*g,(c.height-e.height)*g),g=p.size(e.width+g.width,e.height+g.height),h=p.a(c.width*d.x,c.height*d.y),k=h.x-g.width/2;0.5<d.x&&g.width/2>=c.width-h.x&&(k=c.width-g.width);e=h.y-g.height/2;0.5<d.y&&g.height/2>=c.height-h.y&&(e=c.height-g.height);f.x=0;c=1;a.Wb&&(f.x-=g.width,c=-1);0<k&&(f.x+=k*c);f.y=0;c=1;a.Xb&&(f.y+=g.height,c=-1);0<e&&(f.y-=
e*c);f.width=g.width;f.height=-g.height}},iO:function(){var a=this.Qe;a===p.Jj?this.lO():a===p.tx&&this.aO();this.$q=!0}});
p.sa.qc?(b=p.ic.prototype,b.ctor=p.ic.prototype.$g,b.oI=p.ic.prototype.DN,b.Wr=p.ic.prototype.GN,b.xi=p.ic.prototype.KN,b.nI=p.ic.prototype.BN,b.jB=p.ic.prototype.kM,b.Ia=p.ic.prototype.Lf,b.kA=p.ic.prototype.iO):(b=p.ic.prototype,b.ctor=p.ic.prototype.Zg,b.oI=p.ic.prototype.CN,b.Wr=p.ic.prototype.FN,b.xi=p.ic.prototype.JN,b.nI=p.ic.prototype.AN,b.jB=p.ic.prototype.jM,b.Ia=p.ic.prototype.fl,b.kA=p.ic.prototype.hO);p.ic.create=function(a){var c=new p.ic;return c.jB(a)?c:null};p.vx=p.J.extend({Pe:0,Ad:0,ctor:function(){p.J.prototype.ctor.call(this);this.Ad=this.Pe=0},G:function(a,c){return p.J.prototype.G.call(this,a)?(this.Pe=c,!0):!1},v:function(){var a=new p.vx;a.G(this.ka,this.Pe);return a},reverse:function(){p.log("cc.ProgressTo.reverse(): reverse hasn't been supported.");return null},N:function(a){p.J.prototype.N.call(this,a);this.Ad=a.Jv();100==this.Ad&&(this.Ad=0)},update:function(a){this.K instanceof p.ic&&this.K.Ur(this.Ad+(this.Pe-this.Ad)*a)}});
p.vx.create=function(a,c){var d=new p.vx;d.G(a,c);return d};p.Ys=p.J.extend({Pe:0,Ad:0,ctor:function(){p.J.prototype.ctor.call(this);this.Ad=this.Pe=0},G:function(a,c,d){return p.J.prototype.G.call(this,a)?(this.Pe=d,this.Ad=c,!0):!1},v:function(){var a=new p.Ys;a.G(this.ka,this.Ad,this.Pe);return a},reverse:function(){return p.Ys.create(this.ka,this.Pe,this.Ad)},N:function(a){p.J.prototype.N.call(this,a)},update:function(a){this.K instanceof p.ic&&this.K.Ur(this.Ad+(this.Pe-this.Ad)*a)}});
p.Ys.create=function(a,c,d){var e=new p.Ys;e.G(a,c,d);return e};p.Ww=9;p.mJ=1;p.pJ=2;p.qJ=4;p.nJ=8;p.oJ=16;p.GC=32;p.rJ=64;p.lJ=128;p.Ih=256;p.Df=1;p.IC=2;p.HC=4;p.KV=8;p.JV=8;
p.zb=p.Xg.extend({xE:!1,GY:!1,yk:function(){return this.xE},$e:function(a){this.xE=a;for(var c=this.n,d=0,e=c.length;d<e;d++){var f=c[d];f&&f.Sa&&f.$e(a)}},ki:p.Df,T2:function(){return this.ki},Sp:!1,Kn:!1,Wi:!1,Vt:null,Ze:function(a){this.ki=(this.Sp=a)?p.Df:p.HC;this.Bc()},isEnabled:function(){return this.Sp},Po:function(a){this.Kn=a;this.Bc()},B4:function(){return this.Kn},Ek:function(a){this.Wi=a;this.Bc()},l4:function(){return this.Wi},IQ:function(){for(var a=this.getParent();null!=a;a=a.getParent())if(!a.ta)return!1;
return!0},ctor:function(){p.Xg.prototype.ctor.call(this);this.Vt={};this.Vb=p.cb()},s:function(){return p.Xg.prototype.s.call(this)?(this.ki=p.Df,this.Sp=!0,this.Wi=this.Kn=!1,this.Aw(1),!0):!1},gw:function(){p.JB(this.qk,!0,this)},ye:function(a){for(var c=0,d=p.Ww;c<d;c++)if(a&1<<c)for(var e=this.Gy(1<<c),f=0,g=e.length;f<g;f++)e[f].iR(this)},JF:function(a,c,d){for(var e=0,f=p.Ww;e<f;e++)d&1<<e&&this.SD(a,c,1<<e)},P6:function(a,c,d){for(var e=0,f=p.Ww;e<f;e++)d&1<<e&&this.bN(a,c,1<<e)},pi:function(a){return this.wb(a.X)},
xh:function(a){a=a.X;a=this.getParent().wb(a);return p.xb(this.Ua(),a)},IY:function(){return null},Gy:function(a){a=a.toString();this.Vt.hasOwnProperty(a)||(this.Vt[a]=[]);return this.Vt[a]},SD:function(a,c,d){a=new p.QJ(a,c,d);this.Gy(d).push(a)},bN:function(a,c,d){d=this.Gy(d);if(a||c)for(var e=0;e<d.length;){var f=d[e],g=!0;a&&(g=a==f.K);c&&(g=g&&c==f.ef);g?p.pd(d,f):e++}else d.length=0},Bc:function(){}});p.zb.create=function(){var a=new p.zb;return a&&a.s()?a:null};p.MC=3435855873;
p.Rk=p.zb.extend({Np:!1,ar:!1,Nf:null,iq:null,Fp:null,St:null,Gl:null,ud:null,ei:0,yn:!1,av:null,Pq:null,bv:null,al:null,LE:!1,su:0,ru:0,ctor:function(){p.zb.prototype.ctor.call(this);this.Nf=new p.Mj(0,0);this.iq=new p.jg(0,0);this.Fp="";this.St=p.cb();this.av={};this.Pq={};this.bv={};this.al={}},s:function(){return this.Pv(p.T.create("","Arial",12),p.Fe.create())},Bc:function(){if(this.LE){this.Gl&&this.Gl.u(!1);this.ud&&this.ud.u(!1);this.PT(this.iq);var a=this.ki;this.Fp=this.$A(a);this.St=this.rQ(a);
var c=this.Gl=this.or(a);c&&c.ba&&c.ba(this.Fp);c&&c.Sa&&c.o(this.St);var d=this.g();c&&c.F(d.width/2,d.height/2);(a=this.ud=this.IP(a))&&a.F(d.width/2,d.height/2);d=c?c.Ua().Na:p.size(0,0);if(this.Np)a&&a.da(d.width+2*this.ru,d.height+2*this.su);else if(a){var e=a.Nf,e=p.size(e.width,e.height);0>=e.width&&(e.width=d.width);0>=e.height&&(e.height=d.height);a.da(e)}d=c?c.Ua():p.rect(0,0,0,0);e=a?a.Ua():p.rect(0,0,0,0);d=p.fw(d,e);this.da(d.width,d.height);d=this.g();c&&(c.F(d.width/2,d.height/2),c.u(!0));
a&&(a.F(d.width/2,d.height/2),a.u(!0))}},Pv:function(a,c){if(!a||!a.Sa)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): label should be non-null";if(!c)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): backgroundSprite should be non-null";return p.zb.prototype.s.call(this,!0)?(this.LE=!0,this.av={},this.Pq={},this.bv={},this.al={},this.Tb(!0),this.yn=!1,this.ar=!0,this.Fp=null,this.nT(!0),this.Bj(p.size(0,0)),this.ar=!0,this.qi(!1),this.na(0.5,0.5),this.Gl=a,this.ud=c,this.$(255),
this.$e(!0),this.qU(a.YA(),p.Df),this.pU(a.Yc(),p.Df),this.eC(a,p.Df),this.pw(c,p.Df),this.ki=p.Df,this.ru=24,this.su=12,this.iq=new p.jg(0.5,0.5),this.Bj(p.Vk()),this.Bc(),!0):!1},ZQ:function(a,c,d){a=p.T.create(a,c,d);return this.Pv(a,p.Fe.create())},MG:function(a){var c=p.T.create("","Arial",30);return this.Pv(c,a)},o_:function(){return this.Np},nT:function(a){this.Np=a;this.Bc()},B3:function(){return this.ar},vU:function(a){return this.ar=a},cQ:function(){return this.Nf},Bj:function(a){if(0===
a.width&&0===a.height)this.Np=!0;else{this.Np=!1;var c=this.al,d;for(d in c)c[d].Bj(a)}this.Nf=a;this.Bc()},n1:function(){return this.iq},PT:function(a){this.iq=a;this.Gl&&this.Gl.na(a)},zY:function(){return this.Fp},AY:function(){return this.St},oi:function(){return this.ei},$:function(a){p.zb.prototype.$.call(this,a);var c=this.al,d;for(d in c)c[d].$(a)},o:function(a){p.zb.prototype.o.call(this,a);var c=this.al,d;for(d in c)c[d].o(a)},Yc:function(){return this.Cd},x4:function(){return this.yn},
EY:function(){return this.su},CY:function(){return this.ru},V7:function(a,c){this.su=c;this.ru=a;this.Bc()},Ze:function(a){p.zb.prototype.Ze.call(this,a);this.Bc()},Po:function(a){p.zb.prototype.Po.call(this,a);this.Bc()},Ek:function(a){this.ki=a?p.IC:p.Df;p.zb.prototype.Ek.call(this,a);(a=this.SA(p.MC))&&this.KU(a);this.Bc();this.ar&&(a=p.Nm.create(0.05,this.Wi&&this.isEnabled()&&!this.Kn?1.1:1),a.tI(p.MC),this.jw(a))},Db:function(a){if(!(this.xh(a)&&this.isEnabled()&&this.ta&&this.IQ()))return!1;
this.yn=!0;this.Ek(!0);this.ye(p.mJ);return!0},Zc:function(a){this.Sp&&this.yn&&!this.Kn?(a=this.xh(a))&&!this.Wi?(this.Ek(!0),this.ye(p.nJ)):a&&this.Wi?this.ye(p.pJ):!a&&this.Wi?(this.Ek(!1),this.ye(p.oJ)):a||this.Wi||this.ye(p.qJ):this.Wi&&this.Ek(!1)},ve:function(a){this.yn=!1;this.Ek(!1);this.xh(a)?this.ye(p.GC):this.ye(p.rJ)},xj:function(){this.yn=!1;this.Ek(!1);this.ye(p.lJ)},$A:function(a){var c=this.av;return c?c[a]?c[a]:c[p.Df]:""},qU:function(a,c){this.av[c]=a||"";this.ki==c&&this.Bc()},
rQ:function(a){return(a=this.Pq[a])?a:(a=this.Pq[p.Df])?a:p.cb()},pU:function(a,c){this.Pq[c]=a;this.ki==c&&this.Bc()},or:function(a){var c=this.bv;return c.hasOwnProperty(a)&&c[a]?c[a]:c[p.Df]},eC:function(a,c){var d=this.bv;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.u(!1);a.na(0.5,0.5);this.t(a,1);this.ki==c&&this.Bc()},X8:function(a,c){var d=this.$A(c);d||(d="");this.eC(p.T.create(d,a,12),c)},d3:function(a){a=this.or(a);return null!=a&&a instanceof p.T?a.Je:""},Y8:function(a,
c){var d=this.or(c);null!=d&&d instanceof p.T&&d.cI(a)},e3:function(a){a=this.or(a);return null!=a&&a instanceof p.T?a.ge:0},W8:function(a,c){var d=this.$A(c);d||(d="");this.eC(p.nx.create(d,a),c)},c3:function(a){a=this.or(a);return null!=a&&a instanceof p.nx?a.V0():""},IP:function(a){var c=this.al;return c.hasOwnProperty(a)&&c[a]?c[a]:c[p.Df]},pw:function(a,c){var d=this.al;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.u(!1);a.na(0.5,0.5);this.t(a);d=this.Nf;0===d.width&&
0===d.height||a.Bj(d);this.ki===c&&this.Bc()},g7:function(a,c){var d=p.Fe.RF(a);this.pw(d,c)}});p.Rk.create=function(a,c){var d;if(0==arguments.length)return(d=new p.Rk)&&d.s()?d:null;1==arguments.length?(d=new p.Rk,d.MG(arguments[0])):2==arguments.length?(d=new p.Rk,d.Pv(a,c)):3==arguments.length&&(d=new p.Rk,d.ZQ(arguments[0],arguments[1],arguments[2]));return d};p.RGBA=function(a,c,d,e){this.i=a;this.h=c;this.f=d;this.B=e};p.jx=function(a,c,d){this.Td=a;this.Fh=c;this.W=d};p.sd={};p.sd.Rl=function(a,c,d,e){a=p.w.SF(a);if(!a)return null;a.F(d);a.na(e);c.t(a);return a};p.sd.MJ=function(a){var c=new p.jx,d,e;d=a.i<a.h?a.i:a.h;d=d<a.f?d:a.f;e=a.i>a.h?a.i:a.h;e=e>a.f?e:a.f;c.W=e;d=e-d;if(0<e)c.Fh=d/e;else return c.Fh=0,c.Td=-1,c;c.Td=a.i>=e?(a.h-a.f)/d:a.h>=e?2+(a.f-a.i)/d:4+(a.i-a.h)/d;c.Td*=60;0>c.Td&&(c.Td+=360);return c};
p.sd.yx=function(a){var c,d,e,f,g=new p.RGBA;g.B=1;if(0>=a.Fh){if(!a.Td)return g.i=a.W,g.h=a.W,g.f=a.W,g;g.i=0;g.h=0;g.f=0;return g}c=a.Td;360<=c&&(c=0);c/=60;f=0|c;e=c-f;c=a.W*(1-a.Fh);d=a.W*(1-a.Fh*e);e=a.W*(1-a.Fh*(1-e));switch(f){case 0:g.i=a.W;g.h=e;g.f=c;break;case 1:g.i=d;g.h=a.W;g.f=c;break;case 2:g.i=c;g.h=a.W;g.f=e;break;case 3:g.i=c;g.h=d;g.f=a.W;break;case 4:g.i=e;g.h=c;g.f=a.W;break;default:g.i=a.W,g.h=c,g.f=d}return g};p.sd.DC=function(a,c){return p.fw(a,c)};p.QJ=p.qa.extend({ef:null,K:null,Rt:null,ctor:function(a,c,d){this.K=a;this.ef=c;this.Rt=d},Y_:function(){return this.ef},qQ:function(){return this.K},C0:function(){return this.Rt},iR:function(a){if(this.K&&this.ef)if("string"==typeof this.ef)this.K[this.ef](a,this.Rt);else this.ef.call(this.K,a,this.Rt)}});p.iD=0;p.lD=1;p.jD=2;p.kD=3;p.gD=4;p.nD=5;p.mD=6;p.rK=7;p.hD=8;
p.Fe=p.eb.extend({Sa:!0,Mn:null,aE:null,ik:!1,Oe:null,lh:null,kh:null,Ag:null,bi:null,Li:null,gh:null,Rh:null,Qh:null,Sh:null,Ni:null,Yb:!1,Jc:null,Nf:null,ei:0,Vb:null,cn:null,fu:0,hu:0,gu:0,eu:0,eF:!1,Xz:!1,Xa:!1,gd:null,RI:function(){return this.Xa},pf:function(a,c){this.gd.push({qj:a,sh:c})},vd:function(){this.Xa=!0;for(var a=this.gd,c=0,d=a.length;c<d;c++){var e=a[c];e.qj.call(e.sh,this)}a.length=0},gv:function(){var a;a=this.fu;var c=this.hu,d=this.gu,e=this.Mn,f=this.eu;a=0===a&&0===c&&0===
d&&0===f?p.Fc():this.Xz?p.rect(f,a,e.width-d-a,e.height-c-f):p.rect(a,c,e.width-a-d,e.height-c-f);this.sT(a)},gO:function(){if(this.lh&&this.Ag&&this.Sh&&this.Rh&&this.Li){var a=this.ha,c=this.lh,d=this.Ag,e=this.Sh,f=this.Rh,g=this.Li,h=this.Li.g(),k=c.g(),l=f.g(),m=a.va-k.width-d.g().width,a=a.ga-k.height-e.g().height,m=m/h.width,a=a/h.height,k=h.width*m,n=h.height*a,r=l.width,l=l.height;if(!p.sa.qc){var q=Math.round(k);k!=q&&(k=q,m=k/h.width);q=Math.round(n);n!=q&&(n=q,a=n/h.height)}g.Oo(m);g.xm(a);
var h=this.bi,q=this.gh,t=this.kh,y=this.Qh,A=p.a(0,0);f.na(A);e.na(A);c.na(A);d.na(A);h.na(A);q.na(A);t.na(A);y.na(A);g.na(A);f.F(0,0);e.F(r+k,0);c.F(0,l+n);d.F(r+k,l+n);h.F(0,l);h.xm(a);q.F(r+k,l);q.xm(a);y.F(r,0);y.Oo(m);t.F(r,l+n);t.Oo(m);g.F(r,l)}},ctor:function(){p.eb.prototype.ctor.call(this);this.Mn=p.Fc();this.aE=p.Fc();this.Ni=p.cb();this.Jc=new p.Mj(0,0);this.Nf=new p.Mj(0,0);this.Vb=p.cb();this.ei=255;this.cn=p.Fc();this.gd=[]},bQ:function(){return this.Jc},cQ:function(){return this.Nf},
Bj:function(a){this.da(a);this.Nf=a},oi:function(){return this.ei},$:function(a){if(this.Oe){this.ei=a;for(var c=this.Oe.n,d=0;d<c.length;d++){var e=c[d];e&&e.Sa&&e.$(a)}}},Yc:function(){return this.Vb},o:function(a){if(this.Oe){this.Vb=a;for(var c=this.Oe.n,d=0;d<c.length;d++){var e=c[d];e&&e.Sa&&e.o(a)}}},p0:function(){return this.cn},sT:function(a){if(this.Oe){var c=this.ha,d=c.va,c=c.ga;this.Xo(this.Oe,this.Mn,this.Xz,a);this.da(d,c)}},j1:function(){return this.fu},O7:function(a){this.fu=a;this.gv()},
l1:function(){return this.hu},Q7:function(a){this.hu=a;this.gv()},k1:function(){return this.gu},P7:function(a){this.gu=a;this.gv()},i1:function(){return this.eu},N7:function(a){this.eu=a;this.gv()},da:function(a,c){2===arguments.length?p.H.prototype.da.call(this,a,c):p.H.prototype.da.call(this,a);this.ik=!0},ea:function(a){this.ik&&(this.gO(),this.ik=!1);p.eb.prototype.ea.call(this,a)},s:function(){return this.Nv(null,p.Fc(),!1,p.Fc())},Nv:function(a,c,d,e){3===arguments.length&&(e=d,d=!1);a&&this.Xo(a,
c,d,e);this.na(0.5,0.5);return this.ik=!0},ri:function(a,c,d){a instanceof p.Ff?(d=a=c,c=p.Fc()):(c=c||p.Fc(),d=d||p.Fc());if(!a)throw"cc.Scale9Sprite.initWithFile(): file should be non-null";var e=p.Ib.d().Iw(a);if(!e){var e=p.Ib.d().Re(a),f=e.$f();(this.Xa=f)||e.pf(function(a){var c=this.Nf,c=p.size(c.width,c.height);a=a.g();this.Xo(this.Oe,p.rect(0,0,a.width,a.height),!1,this.cn);this.Bj(c);this.ik=!0;this.vd()},this)}a=p.$a.create(a,9);return this.Nv(a,c,!1,d)},Vd:function(a,c){if(!a||!a.Q())throw"cc.Scale9Sprite.initWithSpriteFrame(): spriteFrame should be non-null and its texture should be non-null";
c=c||p.Fc();var d=a.Xa;(this.Xa=d)||a.pf(function(a){var c=this.Nf,c=p.size(c.width,c.height);this.Xo(this.Oe,a.Od(),p.sa.qc?a.Kc:!1,this.cn);this.Bj(c);this.ik=!0;this.vd()},this);d=p.$a.Gd(a.Q(),9);return this.Nv(d,a.Od(),p.sa.qc?a.Kc:!1,c)},RG:function(a,c){if(!a)throw"cc.Scale9Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";c=c||p.Fc();var d=p.Gf.d().Jg(a);return null==d?(p.log("cc.Scale9Sprite.initWithSpriteFrameName(): can't find the sprite frame by spriteFrameName"),!1):
this.Vd(d,c)},S6:function(a){var c=new p.Fe;return c&&c.Nv(this.Oe,this.Mn,!1,a)?c:null},$e:function(a){if(this.Oe){this.Yb=a;var c=this.Oe.n;if(c)for(var d=0,e=c.length;d<e;d++)c[d].$e(a)}},yk:function(){return this.Yb},Xo:function(a,c,d,e){var f=this.oi(),g=this.Yc();c=p.rect(c.x,c.y,c.width,c.height);this.Eh(!0);this.Oe!=a&&(this.Oe=a);a=a.Q();var h=a.$f();if(this.Xa=h){a=this.Oe;a.Eh(!0);h=this.cn;h.x=e.x;h.y=e.y;h.width=e.width;h.height=e.height;this.Xz=d;h=a.Q();p.vq(c)&&(c=h.g(),c=p.rect(0,
0,c.width,c.height));var k=this.Mn=c;k.x=c.x;k.y=c.y;k.width=c.width;k.height=c.height;var l=c.Na;this.Jc.width=l.width;this.Jc.height=l.height;k=this.Nf;0===k.width&&0===k.height&&(k.width=l.width,k.height=l.height);k=this.aE;e&&(k.x=e.x,k.y=e.y,k.width=e.width,k.height=e.height);var m=l.width;e=l.height;p.vq(k)&&(k.x=m/3,k.y=e/3,k.width=m/3,k.height=e/3);var n=k.x,r=k.width,q=m-(n+r),t=k.y,y=k.height,A=e-(t+y),F=0,J=0;e=p.rect(F,J,n,t);var F=F+n,k=p.rect(F,J,r,t),m=p.rect(F+r,J,q,t),F=0,J=0+t,l=
p.rect(F,J,n,y),F=F+n,Y=p.rect(F,J,r,y),F=F+r,G=p.rect(F,J,q,y),F=0,J=0+t+y,t=p.rect(F,J,n,A),F=F+n,n=p.rect(F,J,r,A),F=F+r,r=p.rect(F,J,q,A),q={B:1,f:0,pa:0,za:1,Ka:0,La:0};if(d){d=Y;var A=r,F=t,J=m,y=e,N=G,L=l,ia=n,T=k,q=p.Qw(q,c.height+c.x,c.y),q=p.kJ(q),Y=p.kg(Y,q),r=p.kg(r,q),t=p.kg(t,q),m=p.kg(m,q);e=p.kg(e,q);G=p.kg(G,q);l=p.kg(l,q);n=p.kg(n,q);k=p.kg(k,q);d.x=Y.x;d.y=Y.y;A.x=r.x;A.y=r.y;F.x=t.x;F.y=t.y;J.x=m.x;J.y=m.y;y.x=e.x;y.y=e.y;N.x=G.x;N.y=G.y;L.x=l.x;L.y=l.y;ia.x=n.x;ia.y=n.y;T.x=k.x;
T.y=k.y;this.Li=new p.w;this.Li.Aa(h,d,!0);a.t(this.Li,0,p.iD);this.kh=new p.w;this.kh.Aa(h,T,!0);a.t(this.kh,1,p.lD);this.Qh=new p.w;this.Qh.Aa(h,ia,!0);a.t(this.Qh,1,p.gD);this.bi=new p.w;this.bi.Aa(h,L,!0);a.t(this.bi,1,p.jD);this.gh=new p.w;this.gh.Aa(h,N,!0);a.t(this.gh,1,p.kD);this.lh=new p.w;this.lh.Aa(h,y,!0);a.t(this.lh,2,p.mD);this.Ag=new p.w;this.Ag.Aa(h,J,!0);a.t(this.Ag,2,p.nD);this.Rh=new p.w;this.Rh.Aa(h,F,!0);a.t(this.Rh,2,p.hD);this.Sh=new p.w;this.Sh.Aa(h,A,!0)}else q=p.Qw(q,c.x,
c.y),p.Mh(Y,q),p.Mh(r,q),p.Mh(t,q),p.Mh(m,q),p.Mh(e,q),p.Mh(G,q),p.Mh(l,q),p.Mh(n,q),p.Mh(k,q),this.Li=new p.w,this.Li.Aa(h,Y),a.t(this.Li,0,p.iD),this.kh=new p.w,this.kh.Aa(h,k),a.t(this.kh,1,p.lD),this.Qh=new p.w,this.Qh.Aa(h,n),a.t(this.Qh,1,p.gD),this.bi=new p.w,this.bi.Aa(h,l),a.t(this.bi,1,p.jD),this.gh=new p.w,this.gh.Aa(h,G),a.t(this.gh,1,p.kD),this.lh=new p.w,this.lh.Aa(h,e),a.t(this.lh,2,p.mD),this.Ag=new p.w,this.Ag.Aa(h,m),a.t(this.Ag,2,p.nD),this.Rh=new p.w,this.Rh.Aa(h,t),a.t(this.Rh,
2,p.hD),this.Sh=new p.w,this.Sh.Aa(h,r);a.t(this.Sh,2,p.rK);this.da(c.Na);this.t(a);this.eF&&(this.$(f),255===g.i&&255===g.h&&255===g.f||this.o(g));return this.eF=!0}a.pf(function(){this.ik=!0;this.vd()},this)},af:function(a){var c=p.$a.Gd(a.Q(),9),d=a.Xa;(this.Xa=d)||a.pf(function(a){var c=this.Nf,c=p.size(c.width,c.height);this.Xo(this.Oe,a.Od(),p.sa.qc?a.Kc:!1,this.cn);this.Bj(c);this.ik=!0;this.vd()},this);this.Xo(c,a.Od(),p.sa.qc?a.Kc:!1,p.Fc());this.eu=this.gu=this.hu=this.fu=0}});
p.Fe.create=function(a,c,d){var e;if(2===arguments.length)if("string"==typeof a){if((e=new p.Fe)&&e.ri(a,c))return e}else{if(a instanceof p.Ff&&(e=new p.Fe)&&e.ri(a,d))return e}else if(3===arguments.length){if((e=new p.Fe)&&e.ri(a,c,d))return e}else if(1===arguments.length){if((e=new p.Fe)&&e.ri(a))return e}else if(0===arguments.length&&(e=new p.Fe)&&e.s())return e;return null};p.Fe.RF=function(a,c){var d=new p.Fe;return d&&d.Vd(a,c)?d:null};
p.Fe.SF=function(a,c){if(!a)throw"cc.Scale9Sprite.createWithSpriteFrameName(): spriteFrameName should be non-null";var d=new p.Fe;return d&&d.RG(a,c)?d:null};p.jt=p.hc.extend({});p.jt.k$=function(a){var c=new p.jt;c.s();c.da(0,a);return c};p.jt.I3=function(a){var c=new p.jt;c.s();c.da(a,0);return c};
p.Vs=p.hc.extend({Sa:!0,Vb:null,ei:0,ctor:function(){},Yc:function(){return this.Vb},o:function(a){this.Vb=a;if(this.n&&0<this.n.length)for(var c=0;c<this.n.length;c++)this.n[c]&&this.n[c].Sa&&this.n[c].o(a)},oi:function(){return this.ei},$:function(a){this.ei=a;if(this.n&&0<this.n.length)for(var c=0;c<this.n.length;c++)this.n[c]&&this.n[c].Sa&&this.n[c].$(a)},SQ:function(a,c){if(this.s()){var d=p.M.d().vb;this.qi(!0);this.na(0.5,0.5);this.da(d);this.F(d.width/2,d.height/2);d=0;if(a){this.t(a,d);
for(var e=0;e<c.length;e++)c[e]&&(d++,this.t(c[e],d))}return!0}return!1},wZ:function(){this.uO(p.vJ)},uO:function(a){var c=-a,d;if(this.n&&0<this.n.length)for(d=0;d<this.n.length;d++)this.n[d]&&(c+=this.n[d].g().height*this.n[d].oa+a);var e=0,f=c/2;if(this.n&&0<this.n.length)for(d=0;d<this.n.length;d++)this.n[d]&&(e=Math.max(e,this.n[d].g().width),this.n[d].F(0,f-this.n[d].g().height*this.n[d].oa/2),f-=this.n[d].g().height*this.n[d].oa+a);this.da(e,c)},tZ:function(){this.tO(p.vJ)},tO:function(a){var c=
-a,d;if(this.n&&0<this.n.length)for(d=0;d<this.n.length;d++)this.n[d]&&(c+=this.n[d].g().width*this.n[d].ia+a);var e=0,f=-c/2;if(this.n&&0<this.n.length)for(d=0;d<this.n.length;d++)this.n[d]&&(e=Math.max(e,this.n[d].g().height),this.n[d].F(f+this.n[d].g().width*this.n[d].ia/2,0),f+=this.n[d].g().width*this.n[d].ia+a);this.da(c,e)},uZ:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=-5,f=0,g=0,h=0,k,l;if(this.n&&0<this.n.length)for(d=0;d<this.n.length;d++)this.n[d]&&
(f>=c.length?p.log("cc.MenuPassive.alignItemsInColumns(): invalid row index"):(k=c[f])?(l=this.n[d].g().height,g=0|(g>=l||null==l?g:l),++h,h>=k&&(e+=g+5,g=h=0,++f)):p.log("cc.MenuPassive.alignItemsInColumns(): can not have zero columns on a row"));var m=p.M.d().vb,n=k=g=f=0,r=0,e=e/2;if(this.n&&0<this.n.length)for(d=0;d<this.n.length;d++)this.n[d]&&(0==k&&(k=c[f],r=n=m.width/(1+k)),l=this.n[d].g().height,g=0|(g>=l||null==l?g:l),this.n[d].F(r-m.width/2,e-this.n[d].g().height/2),r+=n,++h,h>=k&&(e-=
g+5,g=k=h=0,++f))},vZ:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=[],f=[],g=-10,h=-5,k=0,l=0,m=0,n,r;if(this.n&&0<this.n.length)for(d=0;d<this.n.length;d++)this.n[d]&&(k>=c.length?p.log("cc.MenuPassive.alignItemsInRows(): invalid row index"):(n=c[k])?(r=this.n[d].g().width,l=0|(l>=r||null==r?l:r),h+=0|this.n[d].g().height+5,++m,m>=n&&(e.push(l),f.push(h),g+=l+10,l=m=0,h=-5,++k)):p.log("cc.MenuPassive.alignItemsInColumns(): can't have zero rows on a column"));h=
p.M.d().vb;l=k=0;n=null;var g=-g/2,q=0;if(this.n&&0<this.n.length)for(d=0;d<this.n.length;d++)this.n[d]&&(null==n&&(n=c[k],q=f[k]),r=this.n[d].g().width,l=0|(l>=r||null==r?l:r),this.n[d].F(g+e[k]/2,q-h.height/2),q-=this.n[d].g().height+10,++m,m>=n&&(g+=l+5,l=n=m=0,++k))},$e:function(){},yk:function(){return!1}});p.Vs.create=function(a){0==arguments.length&&(a=null);for(var c=[],d=1;d<arguments.length;d++)c.push(arguments[d]);return(d=new p.Vs)&&d.SQ(a,c)?d:null};
p.Vs.h_=function(a){return p.Vs.create(a,null)};p.bx=p.zb.extend({Kz:0,Ht:0,kc:null,KM:null,cF:null,zg:null,ac:null,Jf:0,Ki:0,D2:function(){return this.Kz},l0:function(){return this.Ht},pG:function(){return this.kc},d2:function(){return this.Ht},J2:function(){return this.cF},mQ:function(){return this.zg},oQ:function(){return this.ac},lB:function(a,c){return p.zb.prototype.s.call(this)?(this.Tb(!0),this.kc=p.sd.Rl("colourPickerBackground.png",a,c,p.a(0,0)),this.KM=p.sd.Rl("colourPickerOverlay.png",a,c,p.a(0,0)),this.cF=p.sd.Rl("colourPickerShadow.png",
a,c,p.a(0,0)),this.zg=p.sd.Rl("colourPicker.png",a,c,p.a(0.5,0.5)),this.ac=c,this.Jf=35,this.Ki=this.kc.g().width/2,!0):!1},Ze:function(a){p.zb.prototype.Ze.call(this,a);this.zg&&this.zg.$(a?255:128)},cJ:function(a){var c=new p.jx;c.Fh=1;c.Td=a.Td;c.W=1;a=p.sd.yx(c);this.kc.o(p.qv(0|255*a.i,0|255*a.h,0|255*a.f))},XU:function(a){a=p.a(this.ac.x+this.Jf+this.Ki*(1-a.Fh),this.ac.y+this.Jf+this.Ki*a.W);this.jv(a)},jv:function(a){var c=this.ac.x+0.5*this.kc.Ua().width,d=this.ac.y+0.5*this.kc.Ua().height,
e=a.x-c,f=a.y-d,g=Math.sqrt(e*e+f*f),e=Math.atan2(f,e),f=0.5*this.kc.Ua().width;g>f&&(a.x=c+f*Math.cos(e),a.y=d+f*Math.sin(e));this.zg.F(a);a.x<this.ac.x+this.Jf?a.x=this.ac.x+this.Jf:a.x>this.ac.x+this.Jf+this.Ki-1&&(a.x=this.ac.x+this.Jf+this.Ki-1);a.y<this.ac.y+this.Jf?a.y=this.ac.y+this.Jf:a.y>this.ac.y+this.Jf+this.Ki&&(a.y=this.ac.y+this.Jf+this.Ki);this.Kz=1-Math.abs((this.ac.x+this.Jf-a.x)/this.Ki);this.Ht=Math.abs((this.ac.y+this.Jf-a.y)/this.Ki)},Bp:function(a){var c=this.ac.x+0.5*this.kc.Ua().width,
d=this.ac.y+0.5*this.kc.Ua().height,c=a.x-c,d=a.y-d;return Math.sqrt(c*c+d*d)<=0.5*this.kc.Ua().width?(this.jv(a),this.ye(p.Ih),!0):!1},Db:function(a){if(!this.isEnabled()||!this.ta)return!1;a=this.pi(a);return this.Bp(a)},Zc:function(a){a=this.pi(a);this.Bp(a)}});p.bx.create=function(a,c){var d=new p.bx;d.lB(a,c);return d};p.ax=p.zb.extend({un:0,cq:0,kc:null,zg:null,ac:null,d1:function(){return this.un},YB:function(a){this.un=a;this.LT(this.un/360)},e1:function(){return this.cq},LT:function(a){this.cq=a;this.un=360*this.cq;a=this.kc.Ua();var c=0.5*a.width-15,d=p.Ci(360*this.cq-180);this.zg.F(this.ac.x+0.5*a.width+c*Math.cos(d),this.ac.y+0.5*a.height+c*Math.sin(d))},Ze:function(a){p.zb.prototype.Ze.call(this,a);this.zg&&this.zg.$(a?255:128)},pG:function(){return this.kc},mQ:function(){return this.zg},oQ:function(){return this.ac},
lB:function(a,c){return p.zb.prototype.s.call(this)?(this.Tb(!0),this.kc=p.sd.Rl("huePickerBackground.png",a,c,p.a(0,0)),this.zg=p.sd.Rl("colourPicker.png",a,c,p.a(0.5,0.5)),this.zg.F(c.x,c.y+0.5*this.kc.Ua().height),this.ac=c,this.cq=this.un=0,!0):!1},jv:function(a){var c=this.kc.Ua();this.YB(p.wx(Math.atan2(a.y-(this.ac.y+0.5*c.height),a.x-(this.ac.x+0.5*c.width)))+180);this.ye(p.Ih)},Bp:function(a){var c=Math.sqrt(Math.pow(a.x+10,2)+Math.pow(a.y,2));return 80>c&&59<c?(this.jv(a),!0):!1},Db:function(a){if(!this.isEnabled()||
!this.ta)return!1;a=this.pi(a);return this.Bp(a)},Zc:function(a){a=this.pi(a);this.Bp(a)}});p.ax.create=function(a,c){var d=new p.ax;d.lB(a,c);return d};p.NC=p.zb.extend({pg:null,Uj:null,ll:null,kc:null,PQ:function(a){this.pg.Td=a.un;a=p.sd.yx(this.pg);p.zb.prototype.o.call(this,p.qv(0|255*a.i,0|255*a.h,0|255*a.f));this.ye(p.Ih);this.dO()},SO:function(a){this.pg.Fh=a.Kz;this.pg.W=a.Ht;a=p.sd.yx(this.pg);p.zb.prototype.o.call(this,p.qv(0|255*a.i,0|255*a.h,0|255*a.f));this.ye(p.Ih)},o:function(a){p.zb.prototype.o.call(this,a);var c=new p.RGBA;c.i=a.i/255;c.h=a.h/255;c.f=a.f/255;c.B=1;this.pg=p.sd.MJ(c);this.tF()},pG:function(){return this.kc},s:function(){if(p.zb.prototype.s.call(this)){this.Tb(!0);
p.Gf.d().IF(aa.BC);var a=p.$a.create(aa.CC);this.t(a);this.pg=new p.jx(0,0,0);this.kc=p.sd.Rl("menuColourPanelBackground.png",a,p.Ei(),p.a(0.5,0.5));var c=p.$c(this.kc.q,p.a(this.kc.g().width/2,this.kc.g().height/2));this.ll=p.ax.create(a,p.a(c.x+8,c.y+8));this.Uj=p.bx.create(a,p.a(c.x+28,c.y+28));this.ll.JF(this,this.PQ,p.Ih);this.Uj.JF(this,this.SO,p.Ih);this.tF();this.t(this.ll);this.t(this.Uj);this.da(this.kc.g());return!0}return!1},dO:function(){this.ll.YB(this.pg.Td);this.Uj.cJ(this.pg)},tF:function(){this.ll.YB(this.pg.Td);
this.Uj.cJ(this.pg);this.Uj.XU(this.pg)},Ze:function(a){p.zb.prototype.Ze.call(this,a);null!=this.ll&&this.ll.Ze(a);this.Uj&&this.Uj.Ze(a)},Db:function(){return!1}});p.NC.create=function(){var a=new p.NC;a.s();return a};aa=aa||{};aa.BC=aa.BC||"res/extensions/CCControlColourPickerSpriteSheet.plist";aa.CC=aa.CC||"res/extensions/CCControlColourPickerSpriteSheet.png";p.uD=24;p.EX=8;
p.PC=p.zb.extend({tc:0,Qa:0,jb:0,xu:0,vu:0,kb:null,jk:null,ud:null,CG:function(){return this.tc},ze:function(a){a=Math.max(a,this.Qa);this.tc=a=Math.min(a,this.jb);this.Bc();this.ye(p.Ih)},YP:function(){return this.Qa},kI:function(a){this.xu=this.Qa=a;this.Qa>=this.jb&&(this.jb=this.Qa+1);this.ze(this.tc)},XP:function(){return this.jb},iI:function(a){this.vu=this.jb=a;this.jb<=this.Qa&&(this.Qa=this.jb-1);this.ze(this.tc)},xh:function(a){a=a.X;a=this.getParent().wb(a);var c=this.Ua();c.Na.width+=
this.kb.g().width;c.Ic.x-=this.kb.g().width/2;return p.xb(c,a)},em:function(a){a=a.X;a=this.wb(a);0>a.x?a.x=0:a.x>this.ud.g().width&&(a.x=this.ud.g().width);return a},G1:function(){return this.xu},a8:function(a){this.xu=a},D1:function(){return this.vu},Z7:function(a){this.vu=a},zG:function(){return this.kb},n2:function(){return this.jk},f0:function(){return this.ud},XQ:function(a,c,d){return p.zb.prototype.s.call(this)?(this.qi(!1),this.Tb(!0),this.ud=a,this.jk=c,this.kb=d,a=p.sd.DC(a.Ua(),d.Ua()),
this.da(a.width,a.height),this.ud.na(0.5,0.5),this.ud.F(a.width/2,a.height/2),this.t(this.ud),this.jk.na(0,0.5),this.jk.F(0,a.height/2),this.t(this.jk),this.kb.F(0,a.height/2),this.t(this.kb),this.Qa=0,this.jb=1,this.ze(this.Qa),!0):!1},Ze:function(a){p.zb.prototype.Ze.call(this,a);this.kb&&this.kb.$(a?255:128)},GU:function(a){this.Po(!0);this.kb.o(p.po());this.ze(this.wC(a))},IU:function(a){this.ze(this.wC(a))},HU:function(){this.Kn&&this.ze(this.wC(this.kb.q));this.kb.o(p.cb());this.Po(!1)},j3:function(a){a=
a.X;a=this.wb(a);0>a.x?a.x=0:a.x>this.ud.g().width+p.uD&&(a.x=this.ud.g().width+p.uD);return a},Db:function(a){if(!this.xh(a)||!this.isEnabled()||!this.ta)return!1;a=this.em(a);this.GU(a);return!0},Zc:function(a){a=this.em(a);this.IU(a)},ve:function(){this.HU(p.Ei())},Bc:function(){this.kb.Eb((this.tc-this.Qa)/(this.jb-this.Qa)*this.ud.g().width);var a=this.jk.ZA(),a=p.rect(a.x,a.y,this.kb.q.A,a.height);this.jk.nb(a,this.jk.xc,a.Na)},wC:function(a){a=a.x/this.ud.g().width;return Math.max(Math.min(this.Qa+
a*(this.jb-this.Qa),this.vu),this.xu)}});p.PC.create=function(a,c,d){"string"==typeof a&&(a=p.w.create(a),c=p.w.create(c),d=p.w.create(d));var e=new p.PC;e.XQ(a,c,d);return e};p.RC=p.zb.extend({yc:null,rE:0,pq:!1,Gn:!1,ctor:function(){p.zb.prototype.ctor.call(this)},iB:function(a,c,d,e,f,g){if(!a)throw"cc.ControlSwitch.initWithMaskSprite(): maskSprite should be non-null.";if(!c)throw"cc.ControlSwitch.initWithMaskSprite(): onSprite should be non-null.";if(!d)throw"cc.ControlSwitch.initWithMaskSprite(): offSprite should be non-null.";if(!e)throw"cc.ControlSwitch.initWithMaskSprite(): thumbSprite should be non-null.";return this.s()?(this.Tb(!0),this.Gn=!0,this.yc=new p.uJ,
this.yc.iB(a,c,d,e,f,g),this.yc.F(this.yc.g().width/2,this.yc.g().height/2),this.t(this.yc),this.qi(!1),this.na(0.5,0.5),this.da(this.yc.g()),!0):!1},rw:function(a,c){var d=(this.Gn=a)?this.yc.fk:this.yc.pl;c?this.yc.jw(p.Em.create(0.2,"sliderXPosition",this.yc.ej,d)):this.yc.bC(d);this.ye(p.Ih)},s4:function(){return this.Gn},G3:function(){return this.pq},Ze:function(a){this.Sp=a;this.yc.$(a?255:128)},em:function(a){a=a.X;return a=this.wb(a)},Db:function(a){if(!this.xh(a)||!this.isEnabled()||!this.ta)return!1;
this.pq=!1;this.rE=this.em(a).x-this.yc.ej;this.yc.kb.o(p.po());this.yc.Bc();return!0},Zc:function(a){a=this.em(a);a=p.a(a.x-this.rE,0);this.pq=!0;this.yc.bC(a.x)},ve:function(a){a=this.em(a);this.yc.kb.o(p.cb());this.pq?this.rw(!(a.x<this.yc.g().width/2),!0):this.rw(!this.Gn,!0)},xj:function(a){a=this.em(a);this.yc.kb.o(p.cb());this.pq?this.rw(!(a.x<this.yc.g().width/2),!0):this.rw(!this.Gn,!0)}});p.RC.create=function(a,c,d,e,f,g){var h=new p.RC;return h&&h.iB(a,c,d,e,f,g)?h:null};
p.uJ=p.w.extend({ej:0,fk:0,pl:0,iF:0,hz:0,iz:null,tg:null,di:null,kb:null,ql:null,ol:null,jn:null,Zb:null,Ft:null,ctor:function(){p.w.prototype.ctor.call(this);this.hz=this.pl=this.fk=this.ej=0;this.iz=p.size(0,0);this.ol=this.ql=this.kb=this.di=this.tg=null},iB:function(a,c,d,e,f,g){return p.w.prototype.Aa.call(this,a.Q())?(this.fk=0,this.pl=-c.g().width+e.g().width/2,this.ej=this.fk,this.aU(c),this.ZT(d),this.dC(e),this.$T(f),this.YT(g),this.Zb=a,a=this.iz=this.Zb.g(),this.Zb.F(0,0),this.jn=p.Va.create(),
this.jn.na(0.5,0.5),this.jn.F(a.width/2,a.height/2),this.jn.cC(this.Zb),this.Ft=p.fb.create(a.width,a.height),this.jn.t(this.Ft.Wa),this.t(this.jn),this.t(this.kb),this.Bc(),!0):!1},Bc:function(){this.tg.F(this.tg.g().width/2+this.ej,this.tg.g().height/2);this.di.F(this.tg.g().width+this.di.g().width/2+this.ej,this.di.g().height/2);this.ql&&this.ql.F(this.tg.q.x-this.kb.g().width/6,this.tg.g().height/2);this.ol&&this.ol.F(this.di.q.x+this.kb.g().width/6,this.di.g().height/2);this.kb.F(this.tg.g().width+
this.ej,this.iz.height/2);this.Ft.mj();this.tg.ea();this.di.ea();this.ql&&this.ql.ea();this.ol&&this.ol.ea();this.Ft.end()},bC:function(a){a<=this.pl?a=this.pl:a>=this.fk&&(a=this.fk);this.ej=a;this.Bc()},M2:function(){return this.ej},B5:function(){return this.tg.g().width},z5:function(){return this.di.g().height},tC:function(a,c){p.log("key \x3d "+c+", value \x3d "+a);this.bC(a)},j8:function(a){this.fk=a},X1:function(){return this.fk},g8:function(a){this.pl=a},R1:function(){return this.pl},X7:function(a){this.Zb.aa(a)},
x1:function(){return this.Zb.Q()},U8:function(a){this.iF=a},Z2:function(){return this.iF},W7:function(a){this.hz=a},w1:function(){return this.hz},aU:function(a){this.tg=a},Y1:function(){return this.tg},ZT:function(a){this.di=a},S1:function(){return this.di},dC:function(a){this.kb=a},zG:function(){return this.kb},$T:function(a){this.ql=a},W1:function(){return this.ql},YT:function(a){this.ol=a},Q1:function(){return this.ol}});p.KC=0;p.LC=1;p.qs=2;p.Zo=p.k(55,55,55);p.Xw=p.k(147,147,147);p.JC="CourierNewPSMT";p.zC=0.15;p.iJ=12;
p.QC=p.zb.extend({hd:null,Le:null,ek:null,hk:null,tc:0,Ep:!1,Vm:!1,Nl:!1,Qa:0,jb:0,Cl:0,Sq:!1,Il:p.qs,xp:0,ctor:function(){p.zb.prototype.ctor.call(this);this.hk=this.ek=this.Le=this.hd=null;this.tc=0;this.Nl=this.Vm=this.Ep=!1;this.Cl=this.jb=this.Qa=0;this.Sq=!1;this.Il=p.qs;this.xp=0},UQ:function(a,c){if(!a)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Minus sprite should be non-null.";if(!c)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Plus sprite should be non-null.";
if(this.s()){this.Tb(!0);this.Ep=this.Vm=!0;this.Qa=0;this.jb=100;this.tc=0;this.Cl=1;this.Nl=!1;this.qi(!1);this.VT(a);this.hd.F(a.g().width/2,a.g().height/2);this.t(this.hd);this.UT(p.T.create("-",p.JC,40,p.size(40,40),p.Hi,p.vt));this.ek.o(p.Xw);this.ek.F(this.hd.g().width/2,this.hd.g().height/2);this.hd.t(this.ek);this.dU(c);this.Le.F(a.g().width+c.g().width/2,a.g().height/2);this.t(this.Le);this.cU(p.T.create("+",p.JC,40,p.size(40,40),p.Hi,p.vt));this.hk.o(p.Zo);this.hk.F(this.Le.g().width/2,
this.Le.g().height/2);this.Le.t(this.hk);var d=p.sd.DC(this.hd.Ua(),this.Le.Ua());this.da(this.hd.g().width+this.Le.g().height,d.Na.height);return!0}return!1},j9:function(a){if(this.Nl=a)this.ek.o(p.Zo),this.hk.o(p.Zo);this.ze(this.tc)},kI:function(a){if(a>=this.jb)throw"cc.ControlStepper.setMinimumValue(): minimumValue should be numerically less than maximumValue.";this.Qa=a;this.ze(this.tc)},iI:function(a){if(a<=this.Qa)throw"cc.ControlStepper.setMaximumValue(): maximumValue should be numerically less than maximumValue.";
this.jb=a;this.ze(this.tc)},ze:function(a){this.gC(a,!0)},CG:function(){return this.tc},O8:function(a){if(0>=a)throw"cc.ControlStepper.setMaximumValue(): stepValue should be numerically greater than 0.";this.Cl=a},e4:function(){return this.Ep},gC:function(a,c){a<this.Qa?a=this.Nl?this.jb:this.Qa:a>this.jb&&(a=this.Nl?this.Qa:this.jb);this.tc=a;this.Nl||(this.ek.o(a==this.Qa?p.Xw:p.Zo),this.hk.o(a==this.jb?p.Xw:p.Zo));c&&this.ye(p.Ih)},KI:function(){this.xp=-1;this.xe(this.update,p.zC,p.Uk,3*p.zC)},
MI:function(){this.Tg(this.update)},update:function(){this.xp++;this.xp<p.iJ&&0!=this.xp%3||(this.Il==p.KC?this.gC(this.tc-this.Cl,this.Ep):this.Il==p.LC&&this.gC(this.tc+this.Cl,this.Ep))},XI:function(a){a.x<this.hd.g().width&&this.tc>this.Qa?(this.Il=p.KC,this.hd.o(p.po()),this.Le.o(p.cb())):a.x>=this.hd.g().width&&this.tc<this.jb?(this.Il=p.LC,this.hd.o(p.cb()),this.Le.o(p.po())):(this.Il=p.qs,this.hd.o(p.cb()),this.Le.o(p.cb()))},Db:function(a){if(!this.xh(a)||!this.isEnabled()||!this.ta)return!1;
a=this.pi(a);this.XI(a);this.Sq=!0;this.Vm&&this.KI();return!0},Zc:function(a){this.xh(a)?(a=this.pi(a),this.XI(a),this.Sq||(this.Sq=!0,this.Vm&&this.KI())):(this.Sq=!1,this.Il=p.qs,this.hd.o(p.cb()),this.Le.o(p.cb()),this.Vm&&this.MI())},ve:function(a){this.hd.o(p.cb());this.Le.o(p.cb());this.Vm&&this.MI();this.xh(a)&&(a=this.pi(a),this.ze(this.tc+(a.x<this.hd.g().width?0-this.Cl:this.Cl)))},VT:function(a){this.hd=a},I1:function(){return this.hd},dU:function(a){this.Le=a},i2:function(){return this.Le},
UT:function(a){this.ek=a},H1:function(){return this.ek},cU:function(a){this.hk=a},h2:function(){return this.hk}});p.QC.create=function(a,c){var d=new p.QC;return d&&d.UQ(a,c)?d:null};p.OC=p.zb.extend({kb:null,In:null,Hn:null,tc:0,Qa:0,jb:1,$Q:function(a,c,d){return this.s()?(this.Tb(!0),this.gU(c),this.dC(d),this.kb.F(c.q),this.t(d,2),this.t(c,1),this.t(a),this.da(a.g()),this.Qa=0,this.jb=1,this.ze(this.Qa),!0):!1},Ze:function(a){this.Ze(a);this.kb!=NULL&&this.kb.$(a?255:128)},ze:function(a){a<this.Qa&&(a=this.Qa);a>this.jb&&(a=this.jb);this.tc=a;a=(a-this.Qa)/(this.jb-this.Qa);this.In.Ur(100*a);this.kb.uw(360*a);this.ye(p.Ih)},CG:function(){return this.tc},kI:function(a){this.Qa=
a;this.Qa>=this.jb&&(this.jb=this.Qa+1);this.ze(this.jb)},YP:function(){return this.Qa},iI:function(a){this.jb=a;this.jb<=this.Qa&&(this.Qa=this.jb-1);this.ze(this.Qa)},XP:function(){return this.jb},xh:function(a){a=this.pi(a);return this.pP(this.In.q,a)<Math.min(this.g().width/2,this.g().height/2)},Db:function(a){if(!this.xh(a)||!this.isEnabled()||!this.ta)return!1;this.Hn=this.pi(a);this.jS(this.Hn);return!0},Zc:function(a){a=this.pi(a);this.lS(a)},ve:function(){this.kS(p.a(0,0))},pP:function(a,
c){var d=a.x-c.x,e=a.y-c.y;return Math.sqrt(d*d+e*e)},wO:function(a,c,d,e){return 180*(Math.atan2(c.x-a.x,c.y-a.y)-Math.atan2(e.x-d.x,e.y-d.y))/Math.PI},jS:function(){this.Po(!0);this.kb.o(p.po())},lS:function(a){var c=this.wO(this.In.q,a,this.In.q,this.Hn);180<c?c-=360:-180>c&&(c+=360);this.ze(this.tc+c/360*(this.jb-this.Qa));this.Hn=a},kS:function(){this.kb.o(p.cb());this.Po(!1)},dC:function(a){this.kb=a},zG:function(){return this.kb},gU:function(a){this.In=a},o2:function(){return this.In},u8:function(a){this.Hn=
a},dQ:function(){return this.Hn}});p.OC.create=function(a,c,d){var e=new p.OC;return e&&(a=p.w.create(a),d=p.w.create(d),c=p.ic.create(p.w.create(c)),e.$Q(a,c,d))?e:null};p.sD=-1;p.Mm=0;p.ft=1;p.et=2;p.ZO=function(a){var c=p.fa.d();return(c.ia+c.oa)/2*a/160};p.DK=p.qa.extend({hT:function(){},iT:function(){}});
p.Lh=p.hc.extend({cZ:0,NY:0,LY:0,Bb:null,Xh:p.et,Zh:!1,NL:null,Da:null,Bg:!1,tu:null,wu:null,zp:!1,Cp:!1,xq:null,Wn:null,Tq:0,Cg:null,oh:null,GE:0,EE:0,rq:null,Lz:!1,jF:null,ctor:function(){p.hc.prototype.ctor.call(this);this.NL=new p.jg(0,0);this.tu=new p.jg(0,0);this.wu=new p.jg(0,0);this.xq=new p.jg(0,0);this.Wn=new p.jg(0,0);this.Cg=[];this.oh=new p.Mj(0,0);this.rq=new p.Ff(0,0,0,0);this.jF=new p.Ff(0,0,0,0)},s:function(){return this.wr(p.size(200,200),null)},gw:function(){p.JB(this.qk,!1,this)},
wr:function(a,c){var d=p.a(0,0);return p.hc.prototype.s.call(this)?(this.Da=c,this.Da||(this.Da=p.hc.create(),this.Da.qi(!1),this.Da.na(d)),this.yI(a),this.Tb(!0),this.Cg.length=0,this.Bb=null,this.Cp=this.zp=!0,this.Xh=p.et,this.Da.F(d),this.Tq=0,this.t(this.Da),this.GE=this.EE=1,!0):!1},Jo:function(a,c){if(c)this.vT(a,0.15);else{if(!this.zp){var d=this.Fr(),e=this.Wv();a.x=Math.max(d.x,Math.min(e.x,a.x));a.y=Math.max(d.y,Math.min(e.y,a.y))}this.Da.F(a)}},LP:function(){var a=this.Da.q;return p.a(a.x,
a.y)},vT:function(a,c){var d=p.Ws.create(c,a),e=p.$o.create(this.SN,this);this.Da.jw(p.Fi.create(d,e));this.xe(this.pz)},EI:function(a,c){if(c)this.wU(a,0.15);else{var d=this.Da;if(d.WA()!=a){var e,f;0==this.Tq?(f=this.oh,f=p.a(0.5*f.width,0.5*f.height),f=this.uk(f)):f=this.Wn;e=d.wb(f);d.Cj(Math.max(this.GE,Math.min(this.EE,a)));e=d.uk(e);f=p.$c(f,e);this.Jo(p.uf(d.q,f))}}},EG:function(){return this.Da.WA()},wU:function(a,c){if(0<c){var d=this.Da.WA();d!=a&&(d=p.Em.create(c,"zoomScale",d,a),this.jw(d))}else this.EI(a)},
Fr:function(){var a=this.Da,c=a.g(),d=this.oh;return p.a(d.width-c.width*a.ia,d.height-c.height*a.oa)},Wv:function(){return p.a(0,0)},r4:function(a){var c=this.LP(),d=this.oh,e=this.EG(),c=p.rect(-c.x/e,-c.y/e,d.width/e,d.height/e);return p.wS(c,a.Ua())},pause:function(){this.Da.aw();for(var a=this.Da.n,c=0;c<a.length;c++)a[c].aw()},MH:function(){for(var a=this.Da.n,c=0,d=a.length;c<d;c++)a[c].iw();this.Da.iw()},h4:function(){return this.Zh},I4:function(){return this.Bg},a4:function(){return this.zp},
i7:function(a){this.zp=a},v3:function(){return this.oh},yI:function(a){this.oh=a;p.H.prototype.da.call(this,a)},z0:function(){return this.Da},q7:function(a){a&&(this.Eh(!0),this.Da=a,a.qi(!1),a.na(0,0),this.t(a),this.yI(this.oh))},N0:function(){return this.Xh},BT:function(a){this.Xh=a},Rb:function(){return this.Bb},Rg:function(a){this.Bb=a},Db:function(a){if(!this.ta)return!1;var c=this.Xy(),d=this.Da,e=d.uk(d.qh(a)),f=this.Cg;if(2<f.length||this.Bg||!p.xb(c,e))return!1;f.push(a);1===f.length?(this.Wn=
this.qh(a),this.Bg=!1,this.Zh=!0,this.xq.x=0,this.Tq=this.xq.y=0):2==f.length&&(this.Wn=p.AB(this.qh(f[0]),this.qh(f[1])),this.Tq=p.xB(d.qh(f[0]),d.qh(f[1])),this.Zh=!1);return!0},Zc:function(a){if(this.ta)if(1===this.Cg.length&&this.Zh){this.Bg=!0;var c=this.Xy(),d=this.qh(a);a=p.$c(d,this.Wn);var e=0,f=this.Xh,e=f===p.ft?a.y:f===p.Mm?a.x:Math.sqrt(a.x*a.x+a.y*a.y);if(this.Bg||!(0.04375>Math.abs(p.ZO(e))))if(this.Bg||(a.x=0,a.y=0),this.Wn=d,this.Bg=!0,p.xb(c,this.uk(d))){switch(f){case p.ft:a.x=
0;break;case p.Mm:a.y=0}d=this.Da.q;c=d.x+a.x;d=d.y+a.y;this.xq=a;this.Jo(p.a(c,d))}}else 2!==this.Cg.length||this.Zh||(a=p.xB(this.Da.qh(this.Cg[0]),this.Da.qh(this.Cg[1])),this.EI(this.EG()*a/this.Tq))},ve:function(){this.ta&&(1==this.Cg.length&&this.Bg&&this.xe(this.wy),this.Cg.length=0,this.Bg=this.Zh=!1)},xj:function(){this.ta&&(this.Cg.length=0,this.Bg=this.Zh=!1)},da:function(a,c){null!=this.Da&&(2===arguments.length?this.Da.da(a,c):this.Da.da(a),this.YU())},g:function(){return this.Da.g()},
YU:function(){if(null!=this.Da){var a=this.oh,c=this.Wv();this.tu.x=c.x+0.2*a.width;this.tu.y=c.y+0.2*a.height;c=this.Fr();this.wu.x=c.x-0.2*a.width;this.wu.y=c.y-0.2*a.height}},c4:function(){return this.Cp},o7:function(a){this.Cp=a},ea:function(a){if(this.ta){a=a||p.L;var c,d=this.n,e,f;if(p.ad===p.Cf){a.save();this.transform(a);this.VD(a);if(d&&0<d.length){f=d.length;this.nd();for(c=0;c<f;c++)if((e=d[c])&&0>e.Pa)e.ea(a);else break;for(this.Ia(a);c<f;c++)d[c].ea(a)}else this.Ia(a);this.TD();a.restore()}else{p.yo();
var g=this.Zj;g&&g.to()&&(g.BA(),this.Mw());this.transform(a);this.VD(a);if(d&&0<d.length){f=d.length;for(c=0;c<f;c++)if((e=d[c])&&0>e.Pa)e.ea();else break;for(this.Ia(a);c<f;c++)d[c].ea()}else this.Ia(a);this.TD(a);g&&g.to()&&g.yA(this);p.xo()}}},t:function(a,c,d){if(!a)throw Error("child must not nil!");c=c||a.Pa;d=d||a.Mc;a.qi(!1);a.na(0,0);this.Da!=a?this.Da.t(a,c,d):p.hc.prototype.t.call(this,a,c,d)},Tb:function(a){p.hc.prototype.Tb.call(this,a);a||(this.Bg=this.Zh=!1,this.Cg.length=0)},HY:function(){return null},
UM:function(a){var c=this.Fr(),d=this.Wv(),e=this.Xh,f=this.Da.q,g=f.x,h=f.y;if(e===p.et||e===p.Mm)g=Math.max(g,c.x),g=Math.min(g,d.x);if(e==p.et||e==p.ft)h=Math.min(h,d.y),h=Math.max(h,c.y);h==f.y&&g==f.x||this.Jo(p.a(g,h),a)},wy:function(){if(this.Zh)this.Tg(this.wy);else{var a,c;a=this.Da.q;var d=this.xq;this.Da.F(a.x+d.x,a.y+d.y);this.zp?(a=this.tu,c=this.wu):(a=this.Wv(),c=this.Fr());var e=this.Da.q.A,f=this.Da.q.I;d.x*=0.95;d.y*=0.95;this.Jo(p.a(e,f));if(1>=Math.abs(d.x)&&1>=Math.abs(d.y)||
f>a.y||f<c.y||e>a.x||e<c.x||e==a.x||e==c.x||f==a.y||f==c.y)this.Tg(this.wy),this.UM(!0)}},pz:function(){this.Zh&&this.Tg(this.pz)},SN:function(){this.Tg(this.pz)},VD:function(a){if(this.Cp){this.Lz=!1;var c=this.Xy(),d=p.fa.d(),e=this.ia,f=this.oa;a=a||p.L;if(p.ad===p.Cf)c=this.oh.width*e*d.ia,d=this.oh.height*f*d.oa,a.beginPath(),a.rect(0,0,c,-d),a.clip(),a.closePath();else if(d=p.fa.d(),d.mR()){if(this.Lz=!0,this.rq=d.jQ(),p.vS(c,this.rq)){var g=this.rq;a=Math.max(c.x,g.x);f=Math.max(c.y,g.y);e=
Math.min(c.x+c.width,g.x+g.width);c=Math.min(c.y+c.height,g.y+g.height);d.aC(a,f,e-a,c-f)}}else a.enable(a.SCISSOR_TEST),d.aC(c.x,c.y,c.width,c.height)}},TD:function(a){this.Cp&&p.ad===p.Nj&&(this.Lz?(a=this.rq,p.fa.d().aC(a.x,a.y,a.width,a.height)):(a=a||p.L,a.disable(a.SCISSOR_TEST)))},FY:function(){},Xy:function(){for(var a=this.uk(p.Ei()),c=this.oh,d=this.ia,e=this.oa,f=this.Y;null!=f;f=f.getParent())d*=f.ia,e*=f.oa;0>d&&(a.x+=c.width*d,d=-d);0>e&&(a.y+=c.height*e,e=-e);f=this.jF;f.x=a.x;f.y=
a.y;f.width=c.width*d;f.height=c.height*e;return f}});p.Lh.create=function(a,c){var d=new p.Lh;if(2==arguments.length){if(d&&d.wr(a,c))return d}else if(d&&d.s())return d;return null};p.EK=p.qa.extend({qw:function(){},vh:function(){return 0}});p.FK=p.EK.extend({kz:0,ctor:function(){this.kz=0},qw:function(a){this.kz=a},vh:function(){return this.kz}});function ha(a,c){return a.vh()-c.vh()}
p.Tw=p.qa.extend({xg:null,ctor:function(){this.xg=[]},UG:function(a){if(!a)throw"cc.ArrayForObjectSorting.insertSortedObject(): addObject should be non-null.";this.cR(a,this.so(a))},RS:function(a){if(0!=this.count()){var c=this.so(a);c<this.count()&&c!=p.Kh&&this.hm(c).vh()==a.vh()&&this.MB(c)}},f8:function(a,c){var d=this.so(c);if(d<this.count()&&d!=p.Kh){var e=this.hm(d);e.vh()==c.vh()&&(this.MB(d),e.qw(a),this.UG(e))}},kH:function(a){if(0==this.count())return null;var c=new p.FK;c.qw(a);var d=
this.so(c);d<this.count()&&d!=p.Kh&&(c=this.hm(d),c.vh()!=a&&(c=null));return c},P1:function(){return null},so:function(a){var c=0;if(a){var d=0;a=a.vh();for(var e=this.xg,f=0;f<e.length;f++){var g=e[f].vh();if(a==g||a>=d&&a<g)break;d=g;c++}}else c=p.Kh;return c},count:function(){return this.xg.length},V4:function(){var a=this.xg;return 0==a.length?null:a[a.length-1]},hm:function(a){return this.xg[a]},HF:function(a){this.xg.push(a);this.xg.sort(ha)},MB:function(a){p.Yo(this.xg,a);this.xg.sort(ha)},
cR:function(a,c){this.xg=p.Ok(this.xg,a,c);this.xg.sort(ha)}});p.wD=0;p.HK=1;p.NX=p.H.extend({Xi:0,h1:function(){return this.Xi},NT:function(a){this.Xi=a},reset:function(){this.Xi=p.Kh},qw:function(a){this.Xi=a},vh:function(){return this.Xi}});p.PX=p.DK.extend({K9:function(){},J9:function(){},L9:function(){},M9:function(){}});p.OX=p.qa.extend({PU:function(a){return this.IO(a)},IO:function(){return p.AK},I9:function(){return null},w5:function(){return 0}});
p.FD=p.Lh.extend({Yn:null,Tc:null,dn:null,vy:null,eA:null,Au:null,Jt:null,hj:null,ctor:function(){p.Lh.prototype.ctor.call(this);this.Au=p.sD;this.Jt=[]},$K:function(a){var c=0,d=-1;switch(this.Xh){case p.Mm:a=a.x;break;default:a=a.y}for(var e=this.Jt;d>=c;){var f=0|c+(d-c)/2,g=e[f],h=e[f+1];if(a>=g&&a<=h)return f;a<g?d=f-1:c=f+1}return 0>=c?0:-1},fM:function(a){a={x:a.x,y:a.y};this.Yn===p.wD&&(a.y=this.Da.g().height-a.y);a=this.$K(a);-1!=a&&(a=Math.max(0,a),-1<a&&(a=p.Kh));return a},cL:function(a){switch(this.Xh){case p.Mm:a=
p.a(this.Jt[a],0);break;default:a=p.a(0,this.Jt[a])}return a},JM:function(a){var c=this.cL(a);a=this.vy.PU(this,a);this.Yn===p.wD&&(c.y=this.Da.g().height-c.y-a.height);return c},$Y:function(){},iA:function(){var a=p.Vk();this.da(a);this.Au!=this.Xh&&(this.Xh==p.Mm?this.Jo(p.a(0,0)):this.Jo(p.a(0,this.Fr().y)),this.Au=this.Xh)},HE:function(a){this.dn.HF(a);this.Tj.RS(a);p.pd(this.Tc,a.Xi);a.reset();a.getParent()==this.Da&&this.Da.removeChild(a,!0)},Lu:function(a,c){c.na(0,0);c.F(this.JM(a));c.NT(a)},
RD:function(a){a.getParent()!=this.Da&&this.Da.t(a);this.Tj.UG(a);var c=this.Tc;a=a.Xi;-1==c.indexOf(a)&&(c.push(a),c.sort(function(a,c){return a-c}))},F0:function(){return this.vy},zT:function(a){this.vy=a},Rb:function(){return this.eA},Rg:function(a){this.eA=a},g9:function(a){this.Yn!=a&&(this.Yn=a,0<this.Tj.count()&&this.GS())},s3:function(){return this.Yn},wr:function(a,c){return p.Lh.prototype.wr.call(this,a,c)?(this.Tj=new p.Tw,this.dn=new p.Tw,this.Tc=[],this.eA=null,this.Yn=p.HK,this.BT(p.ft),
p.Lh.prototype.Rg.call(this,this),!0):!1},a$:function(a){if(!(a==p.Kh||-1<a)){var c=this.FA(a);c&&this.HE(c);c=null;this.Lu(a,c);this.RD(c)}},T3:function(a){if(!(a==p.Kh||-1<a)){var c,d=this.Tj;if(c=d.kH(a))for(var e=c=d.so(c);e<d.count();e++)c=d.hm(e),this.Lu(c.Xi+1,c);c=null;this.Lu(a,c);this.RD(c);this.iA()}},D6:function(a){if(!(a==p.Kh||-1<a)){var c=this.FA(a);if(c){var d=this.Tj,e=d.so(c);this.HE(c);p.pd(this.Tc,a);for(a=d.count()-1;a>e;a--)c=d.hm(a),this.Lu(c.Xi-1,c)}}},GS:function(){this.Au=
p.sD;for(var a=this.Tj,c=this.dn,d=this.Da,e=0,f=a.count();e<f;e++){var g=a.hm(e);c.HF(g);g.reset();g.getParent()==d&&d.removeChild(g,!0)}this.Tc=[];this.Tj=new p.Tw;this.iA()},k_:function(){if(0===this.dn.count())return null;var a=this.dn.hm(0);this.dn.MB(0);return a},FA:function(a){return-1==this.Tc.indexOf(a)?null:this.Tj.kH(a)},hT:function(){},iT:function(){},ve:function(a,c){if(this.ta){if(this.hj){var d=this.Ua();d.Ic=this.Y.uk(d.origin);this.hj=null}p.Lh.prototype.ve.call(this,a,c)}},Db:function(a,
c){if(!this.ta)return!1;var d=p.Lh.prototype.Db.call(this,a,c);if(1===this.Cg.length){var e;e=this.Da.qh(a);e=this.fM(e);this.hj=e===p.Kh?null:this.FA(e)}else this.hj&&(this.hj=null);return d},Zc:function(a,c){p.Lh.prototype.Zc.call(this,a,c);this.hj&&this.Bg&&(this.hj=null)},xj:function(a,c){p.Lh.prototype.xj.call(this,a,c);this.hj&&(this.hj=null)}});p.FD.create=function(a,c,d){var e=new p.FD;e.wr(c,d);e.zT(a);e.iA();return e};p.Ub={};p.Ub.FF=function(a){for(var c in p.Ub.tB)a[c]=p.Ub.tB[c]};
p.Ub.tB={F:function(a,c){2==arguments.length?(this.q.A=a,this.q.I=c):(this.q.A=a.x,this.q.I=a.y);this.Ja();this.V.qC(this.q.A,-this.q.I)},No:function(a){this.q.I=a;this.Ja();this.V.qC(this.q.A,-this.q.I)},Eb:function(a){this.q.A=a;this.Ja();this.V.qC(this.q.A,-this.q.I)},Cj:function(a,c){this.ia=a;this.oa=c||a;this.Ja();this.V.resize(this.ia,this.oa)},Oo:function(a){this.ia=a;this.Ja();this.V.resize(this.ia,this.oa)},xm:function(a){this.oa=a;this.Ja();this.V.resize(this.ia,this.oa)},na:function(a,
c){var d=this.He;if(2===arguments.length){if(a===d.A&&c===d.I)return;d.A=a;d.I=c}else{if(a.x===d.A&&a.y===d.I)return;d.A=a.x;d.I=a.y}var e=this.fd,f=this.ha;e.A=f.va*d.A;e.I=f.ga*d.I;this.V.style[p.sb.Ho+"TransformOrigin"]=""+e.A+"px "+-e.I+"px";this.bk?(this.V.style.marginLeft=0,this.V.style.marginBottom=0):(this.V.style.marginLeft=this.G4?0:-e.A+"px",this.V.style.marginBottom=-e.I+"px");this.Ja()},da:function(a,c){var d=this.ha;if(2===arguments.length){if(a===d.va&&c===d.ga)return;d.va=a;d.ga=c}else{if(a.width===
d.va&&a.height===d.ga)return;d.va=a.width;d.ga=a.height}var e=this.fd,f=this.He;e.A=d.va*f.A;e.I=d.ga*f.I;this.V.width=d.va;this.V.height=d.ga;this.na(this.He);this.canvas&&(this.canvas.width=d.va,this.canvas.height=d.ga);this.Ja();this.xS()},uw:function(a){this.iN!=a&&(this.Rf=this.hh=a,this.vl=Math.PI/180*this.Rf,this.wq=Math.PI/180*this.hh,this.Ja(),this.V.rotate(a))},yw:function(a){this.Ed=a;this.Ja();this.V.rI(this.Ed,this.Fd)},zw:function(a){this.Fd=a;this.Ja();this.V.rI(this.Ed,this.Fd)},u:function(a){this.ta=
a;this.Ja();this.V&&(this.V.style.display=a?"block":"none")},Ou:function(a){this.Pa=a;this.Ja();this.V&&(this.V.zIndex=a)},Tr:function(a){this.Y=a;null!==a&&(a.na(a.He),this.Ja(),p.Ub.$v(this))},iw:function(){this.We().tm(this);this.Wf().tm(this);this.V&&!this.V.parentNode&&(this.getParent()?p.Ub.$v(this):this.V.Sl(p.oj));this.V&&(this.V.style.visibility="visible")},aw:function(){this.We().Kr(this);this.Wf().Kr(this);this.V&&(this.V.style.visibility="hidden")},qf:function(){this.lC();this.as();this.If(this.n,
p.H.df.qf);this.V&&this.V.remove()},NS:function(){this.V.remove()},$:function(a){this.ei=a;this.V.style.opacity=a/255},xS:function(){if(this.vo){var a=this.n;this.n=[];p.w.prototype.ea.call(this,this.fo);this.n=a}else p.w.prototype.ea.call(this,this.fo)}};
p.Ub.eN=function(){var a=p.sb("#EGLViewDiv");if(a){var c=p.fa.d(),d=c.lo(),e=c.se,f=c.Hv(),g=d.width,h=d.height;0===d.width&&0===d.height&&(g=f.width,h=f.height);d=e.Na.width;0===e.Na.width&&0===e.Na.height&&(d=f.width);a.style.position="absolute";a.style.width=g+"px";a.style.maxHeight=h+"px";a.style.margin=0;a.resize(c.ia,c.oa);a.style.left=(d-g)/2+"px";a.style.bottom="0px"}};
p.Ub.$v=function(a){var c=a.getParent();if(c&&a.V)if(c.V||(p.Ub.eS(c),c.Tr=p.Ub.tB.Tr),a.V.Sl(c.V),c.na(c.He),c.getParent())p.Ub.$v(c);else if(c.le)if(a=p.sb("#EGLViewDiv"))c.V.Sl(a);else{a=p.Gj("div");a.id="EGLViewDiv";var d=p.fa.d(),e=d.lo(),f=d.se,g=d.Hv(),h=e.width,k=e.height;0===e.width&&0===e.height&&(h=g.width,k=g.height);e=f.Na.width;0===f.Na.width&&0===f.Na.height&&(e=g.width);a.style.position="absolute";a.style.width=h+"px";a.style.maxHeight=k+"px";a.style.margin=0;a.resize(d.ia,d.oa);a.style.left=
(e-h)/2+"px";a.style.bottom="0px";c.V.Sl(a);a.Sl(p.oj)}};p.Ub.setTransform=function(a){if(a.fo)if(a.fo.translate(a.fd.x,a.fd.y),a.vo){var c=a.n;a.n=[];p.w.prototype.ea.call(a,a.fo);a.n=c}else p.w.prototype.ea.call(a,a.fo);a.V&&(a.V.position.x=a.q.x,a.V.position.y=-a.q.y,a.V.rotation=a.gQ(),a.V.scale={x:a.ia,y:a.oa},a.V.Ik={x:a.Ed,y:a.Fd},a.na&&a.na(a.He),a.V.Bm())};
p.Ub.FP=function(a){a.V=p.Gj("div");a.canvas=p.Gj("canvas");var c=a.g();a.canvas.width=c.width;a.canvas.height=c.height;a.V.style.position="absolute";a.V.style.bottom=0;a.fo=a.canvas.getContext("2d");a.V.appendChild(a.canvas);a.getParent()&&p.Ub.$v(a);a.vo=!0};
p.Ub.eS=function(a){a.V=p.Gj("div");a.placeholder=!0;a.V.style.position="absolute";a.V.style.bottom=0;a.V.style.width=(a.g().width||p.M.d().vb.width)+"px";a.V.style.maxHeight=(a.g().height||p.M.d().vb.height)+"px";a.V.style.margin=0;p.Ub.setTransform(a);a.V.Bm();p.Ub.FF(a)};
p.Ub.JA=function(a){if(1<arguments.length)p.Ub.JA(arguments);else if(1!=arguments.length||arguments[0].length)for(var c=arguments[0],d=0;d<c.length;d++)c[d]instanceof p.w?c[d].V||p.Ub.FP(c[d]):p.log("DOM converter only supports sprite and menuitems yet"),p.Ub.FF(c[d]),c[d].ea=function(){},c[d].transform=function(){},p.Ub.setTransform(c[d]),c[d].u(c[d].ta);else p.Ub.JA([arguments[0]])};p.SJ=0;p.AW=1;p.EW=2;p.DW=3;p.BW=4;p.HJ=0;p.eW=1;p.fW=2;p.gW=3;p.iW=4;p.dW=5;p.hW=6;p.FJ=0;p.GJ=1;p.cW=2;p.bW=3;p.aW=4;p.lW=p.qa.extend({Bv:function(){},Cv:function(){},Dv:function(){},x_:function(){}});
p.dp=p.Rk.extend({Yh:null,Bb:null,VL:p.HJ,UL:p.GJ,wM:p.SJ,WY:"",gi:"",Xu:null,sq:null,CE:50,mL:18,Ma:null,Pp:14,Iy:"Arial",Jy:!1,qz:"",Du:14,XY:!1,ctor:function(a,c){p.Rk.prototype.ctor.call(this);this.Jy=!1;this.Xu=p.cb();this.sq=p.po();this.da(a);this.Yh=new p.w;this.Yh.Ia=function(){};this.t(this.Yh);var d=this;c?(this.Ma=document.createElement("textarea"),this.Ma.style.resize="none",this.Jy=!0):this.Ma=document.createElement("input");this.Ma.type="text";this.Ma.style.fontSize=this.Pp+"px";this.Ma.style.color=
"#000000";this.Ma.style.border=0;this.Ma.style.background="transparent";this.Ma.style.width="100%";this.Ma.style.height="100%";this.Ma.style.dZ=0;this.Ma.style.outline="medium";this.Ma.addEventListener("input",function(){d.Bb&&d.Bb.Dv&&d.Bb.Dv(d,this.value)});this.Ma.addEventListener("keyup",function(a){a.keyCode===p.RJ.BP&&!1==d.Jy&&(a.stopPropagation(),a.preventDefault(),p.canvas.focus())});this.Ma.addEventListener("focus",function(){this.value==d.gi&&(this.value="",this.style.fontSize=d.Pp+"px",
this.style.color=p.tk(d.Xu));d.Bb&&d.Bb.Bv&&d.Bb.Bv(d)});this.Ma.addEventListener("blur",function(){""==this.value&&(this.value=d.gi,this.style.fontSize=d.Du+"px",this.style.color=p.tk(d.sq));d.Bb&&d.Bb.Cv&&d.Bb.Cv(d)});p.Ub.JA(this.Yh);this.Yh.V.appendChild(this.Ma);this.Yh.V.m9=!1;this.Yh.V.style.width=a.width-6+"px";this.Yh.V.style.height=a.height-6+"px";this.Yh.canvas.remove()},D7:function(a,c){this.Pp=c;this.Iy=a;this.Oz()},h9:function(){},KT:function(a){this.Iy=a;this.Oz()},cI:function(a){this.Pp=
a;this.Oz()},Oz:function(){this.Ma.value!=this.gi&&(this.Ma.style.fontFamily=this.Iy,this.Ma.style.fontSize=this.Pp+"px")},Sg:function(a){null!=a&&(""==a?(this.Ma.value=this.gi,this.Ma.style.color=p.tk(this.sq)):(this.Ma.value=a,this.Ma.style.color=p.tk(this.Xu)))},JT:function(a){this.Xu=a;this.Ma.value!=this.gi&&(this.Ma.style.color=p.tk(a))},Y7:function(a){!isNaN(a)&&0<a&&(this.CE=a,this.Ma.maxLength=a)},y1:function(){return this.CE},o8:function(a){if(null!=a){var c=this.gi;this.gi=a;this.Ma.value==
c&&(this.Ma.value=a,this.Ma.style.color=p.tk(this.sq),this.Mu())}},p8:function(a,c){this.qz=a;this.Du=c;this.Mu()},r8:function(a){this.qz=a;this.Mu()},s8:function(a){this.Du=a;this.Mu()},Mu:function(){this.Ma.value==this.gi&&(this.Ma.style.fontFamily=this.qz,this.Ma.style.fontSize=this.Du+"px")},q8:function(a){this.sq=a;this.Ma.value==this.gi&&(this.Ma.style.color=p.tk(a))},L7:function(a){this.UL=a;this.Ma.type=a==p.FJ?"password":"text"},ma:function(){return this.Ma.value},WQ:function(a,c){return this.MG(c)?
(this.Yh.F(3,3),this.vU(!1),this.Bj(a),this.F(0,0),this.SD(this,this.RU,p.GC),!0):!1},Rg:function(a){this.Bb=a},g2:function(){return this.gi},M7:function(a){this.VL=a},G8:function(a){this.wM=a},P4:function(a){var c=p.dp.Od(this);c.y-=4;c.X3(a.end)?this.mL=a.end.C1()-c.F1():p.log("needn't to adjust view layout.")},N4:function(){},O4:function(){},M4:function(){},RU:function(){},IA:function(a){a=a.toString(16);return 1==a.length?"0"+a:a},ZS:function(a,c,d){return"#"+this.IA(a)+this.IA(c)+this.IA(d)},
TH:function(a){this.Ma.style.background=this.ZS(a.i,a.h,a.f)},O3:function(a,c){this.TL=a.width;this.V.style.width=this.TL.toString()+"px";this.SL=a.height;this.V.style.height=this.SL.toString()+"px";this.V.style.backgroundColor=p.tk(c)}});p.dp.Od=function(a){var c=a.g(),c=p.rect(0,0,c.width,c.height);return p.kg(c,a.Hr())};p.dp.create=function(a,c,d,e,f){d=new p.dp(a,d);c instanceof p.gc?d.TH(c):d.WQ(a,c)&&(e&&d.pw(e,p.IC),f&&d.pw(f,p.HC));return d};var v=[],ka=new XMLHttpRequest;ka.open("GET","config.txt",!1);ka.send(null);var la=ka.responseText,ra=la.split("\n")[0],sa=la.split("\n")[1];sa&&(ra+=":"+sa);var ta=io.connect(ra,{"sync disconnect on unload":!0,"connect timeout":5E3,"reconnection delay ":100});ta.on("connect",function(){w.cx();w.GK();console.log("Client has connected to the server!");if(x){var a=x.d().Nc;a?a.ym(!0):v.push(JSON.stringify({connect:!0}))}else v.push(JSON.stringify({connect:!0}))});ta.on("message",function(a){reactToSocketMessage(a)});
reactToSocketMessage=function(a){a=JSON.parse(a);var c=!1,d;for(d in a){c=!0;break}if(!1!=c)if(console.log("Received a message from the server!",a),a.sync)a.mapdata&&w.YI(a.mapdata,a.maptime),a.warpdata&&w.uC(a.warpdata,a.warptime),a.itemdata&&w.cs(a.itemdata,a.itemtime),a.skillsdata&&w.sC(a.skillsdata,a.skillstime),a.signsdata&&w.rC(a.signsdata,a.signstime);else if(c=x.d().Nc)if(a.connect?c.ym(!0):a.disconnect&&c.ym(!1),"Game"==c.Te())if(a.newPlayer)B.rO(a.newPlayer);else if(a.playerLeft)B.VF(a.playerLeft);
else if(a.changemap){for(c=0;c<v.length;c++)d=JSON.parse(v[c]),d.moveTo&&d.id==a.id&&(console.log("REMOVIN"),v.splice(c,1),c--);B.LO(a.id,a.changemap);B.wH(a.id,a.setTo)}else a.setTo?!B.rj(a.id)||B.rj(a.id)&&!1==B.rj(a.id).si?B.wH(a.id,a.setTo):v.push(JSON.stringify(a)):a.moveTo?!B.rj(a.id)||B.rj(a.id)&&!1==B.rj(a.id).si?B.DR(a.id,a.moveTo):v.push(JSON.stringify(a)):a.chatMessage?C.Qb(a.chatMessage):a.coinflip?C.Qb(a.coinflip):a.diceroll?C.Qb(a.diceroll):a.dance?C.Qb(a.dance):a.afk?B.MO(a.afk):a.savemap?
(w.KO(a.savemap,a.mapdata,a.updatetime),D.yU(a.mapdata)):a.savewarps?(w.QO(parseInt(a.savewarps),a.warpdata,a.updatetime),ObjectLists.$l()[parseInt(a.savewarps)]=a.warpdata,Warpeditor&&(Warpeditor.Xc=ObjectLists.$l(),Warpeditor.lb())):a.savewarpswhole?(w.BS(a.savewarpswhole,a.updatetime),ObjectLists.uU(a.savewarpswhole)):a.saveskills?(w.OO(parseInt(a.saveskills),a.skillsdata,a.updatetime),ObjectLists.oo()[parseInt(a.saveskills)]=a.skillsdata,Skillseditor&&(Skillseditor.Xc=ObjectLists.oo(),Skillseditor.lb()),
ua.update(),Skills&&Skills.bf()):a.saveskillswhole?(w.AS(a.saveskillswhole,a.updatetime),ObjectLists.kU(a.saveskillswhole),ua.update(),Skills&&Skills.bf()):a.savesigns?(w.NO(parseInt(a.savesigns),a.signsdata,a.updatetime),ObjectLists.nr()[parseInt(a.savesigns)]=a.signsdata,Signeditor&&(Signeditor.Xc=ObjectLists.nr(),Signeditor.lb())):a.savesignswhole?(w.zS(a.savesignswhole,a.updatetime),ObjectLists.jU(a.savesignswhole)):a.saveitems?(w.JO(parseInt(a.saveitems),a.itemdata,a.updatetime),c=ObjectLists.ni()[parseInt(a.saveitems)].name,
ObjectLists.ni()[parseInt(a.saveitems)]=a.itemdata,D.FG(D.e.Hd),Itemeditor&&(Itemeditor.Xc=ObjectLists.ni(),Itemeditor.lb()),Inventory&&Inventory.bf(),B.e.wa.cs(c,a.itemdata)):a.droppeditem?a.mapnumber==D.e.Hd&&!1==D.d().xk?(c=D.AG(a.index),c.qO(a.droppeditem),D.ds()):v.push(JSON.stringify(a)):a.pickupitem?a.mapnumber==D.e.Hd&&(c=D.AG(a.pickupitem),c.CB(),D.ds()):a.saveitemswhole&&(w.yS(a.saveitemswhole,a.updatetime),ObjectLists.OT(a.saveitemswhole));else"Login"==c.Te()&&(a.login_success?c.IR():a.login_fail&&
c.wB(a.login_fail));else v.push(JSON.stringify(a))};ta.on("disconnect",function(){console.log("The client has disconnected!");var a=x.d().Nc;a?a.ym(!1):v.push(JSON.stringify({disconnect:!0}))});function H(a){ta.send(JSON.stringify(a))};var I=Object.freeze({Oc:{UF:"C to popup/dismiss, enter for chat. Say /help for help.",gR:"Welcome to the Powder Engine! Enter /help for some help.",OQ:"-------HELP------",NQ:" - Press C to expand the chat, I for Inventory",MQ:" - Space to grab Items and E for Equipment.",LQ:" - Enter /commands for command list",KQ:"-------------------",WO:"--COMMANDS--",VO:" - /editmap, /editwarp, /edititems, /editskills",UO:" - /dance, /coinflip, /diceroll, /afk",TO:"--------------------",DB:" has joined the game!",
fS:" has left the game!",tH:"Picked up ",wP:"Dropped ",hR:"Your inventory is full"}});var K={},xa=p.dd.d();p.Bi.d();xa.qI(["res/Graphics"]);ka=new XMLHttpRequest;ka.open("GET","res/Graphics/tile_graphics.txt",!1);ka.send(null);var la=ka.responseText,ya=la.split(","),M=[],za;for(za in ya)M.push({name:ya[za],texture:p.Ib.d().Re(ya[za])});document.getElementById("gameCanvas").onkeydown=function(a){a.preventDefault();K[a.keyCode]=!0};window.onbeforeunload=function(){H({disconnect:!0})};
window.onfocus=function(){for(var a=[],c=v.length-1;0<=c;c--){var d=JSON.parse(v[c]);d.moveTo&&!a[d.id]?(a[d.id]=!0,d.setTo=d.moveTo,d.moveTo=null,v[c]=JSON.stringify(d)):d.moveTo&&a[d.id]&&v.splice(c,1)}};var O=p.p(255,255,255,255),P=p.p(0,255,0,255),Q=p.p(255,0,0,255);
document.getElementById("gameCanvas").onkeyup=function(a){K[a.keyCode]=!1;if(null!=x.d().Nc){a.stopPropagation();var c=null;switch(a.keyCode){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";
break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a.keyCode&&58>a.keyCode||64<a.keyCode&&91>a.keyCode)&&(c=String.fromCharCode(a.keyCode));null!=c&&x.d().Nc.Xv(c)}};function R(a,c){return a.ta&&p.xb(p.rect(a.q.A,a.q.I,a.g().width,a.g().height),c)}function Aa(a){var c={},d;for(d in a)c[d]=a[d]&&"object"==typeof a[d]?Aa(a[d]):a[d];return c}
isMobile=function(){var a=!1,c=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(c)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(c.substr(0,
4)))a=!0;return a};function Ba(a,c){var d=c?a:a.Ue();return Ca(d,"panels")}
function Ca(a,c,d){c=d?d[c]:a[c];"undefined"!=typeof c.lR?d=Da.cx(c.QU):"undefined"!=typeof c.l?(d=c.size?c.size:p.size(100,100),d=p.Lb.create(c.l,d.width,d.height)):d="undefined"!=typeof c.vo?p.w.create():"undefined"!=typeof c.To?p.w.Gd(p.Ib.d().Re(c.To)):"undefined"!=typeof c.label?p.T.create(c.label,c.font?c.T_:"Arial",c.fontSize?c.fontSize:14):p.H.create();"undefined"!=typeof c.size&&d.da(Math.floor(c.size.width),Math.floor(c.size.height));"undefined"!=typeof c.position&&d.F(p.a(Math.floor(c.position.x),
Math.floor(c.position.y)));"undefined"!=typeof c.visible&&d.u(c.visible);"undefined"!=typeof c.c&&d.na(c.c);"undefined"!=typeof c.opacity&&d.$(c.opacity);"undefined"!=typeof c.color&&d.o(c.color);if("undefined"!=typeof c.children)for(var e in c.children)d[e]=Ca(a,e,c.children),d.t(d[e]);return d}var S=p.size(960,640),Ea=Math.floor(S.height/32),U=Math.floor(S.width/32);function V(a,c){return parseInt(U*(Ea-c))+parseInt(a)}
function Ia(a,c){var d={},e;for(e in a)d[e]=Aa(a[e]);for(e in c)d[e]=Aa(c[e]);return d};var w=p.qa.extend({e:null,Pc:function(a){return(a=u.localStorage.getItem("last_"+a))?a:null},Rr:function(a,c){return(c=u.localStorage.setItem("last_"+a,c))?c:null}});w.cx=function(){this.e||(this.e=new w);return this.e};w.d=function(){return this.e};w.TP=function(a){if(this.e.Pc("maps")){if(a){var c=JSON.parse(u.localStorage.getItem("map_data"));return c[a]?c[a]:null}}else return[]};w.YI=function(a,c){this.e.Rr("maps",c);u.localStorage.setItem("map_data",JSON.stringify(a))};
w.KO=function(a,c,d){var e=this.e.Pc("maps")?JSON.parse(u.localStorage.getItem("map_data")):[];e[a]=c;w.YI(e,d)};w.tQ=function(){if(this.e.Pc("warps")){if(""!=u.localStorage.getItem("warps_data"))var a=JSON.parse(u.localStorage.getItem("warps_data"));return a?a:[]}return[]};w.uC=function(a,c){this.e.Rr("warps",c);u.localStorage.setItem("warps_data",JSON.stringify(a))};
w.QO=function(a,c,d){var e=this.e.Pc("warps")?""!=u.localStorage.getItem("warps_data")?JSON.parse(u.localStorage.getItem("warps_data")):[]:[];e[a]=c;w.uC(e,d)};w.BS=function(a,c){warparray=a;w.uC(warparray,c)};w.RP=function(){if(this.e.Pc("items")){if(""!=u.localStorage.getItem("items_data"))var a=JSON.parse(u.localStorage.getItem("items_data"));return a?a:[]}return[]};w.cs=function(a,c){this.e.Rr("items",c);u.localStorage.setItem("items_data",JSON.stringify(a))};
w.JO=function(a,c,d){var e=this.e.Pc("items")?""!=u.localStorage.getItem("items_data")?JSON.parse(u.localStorage.getItem("items_data")):[]:[];e[a]=c;w.cs(e,d)};w.yS=function(a,c){itemsarray=a;w.cs(itemsarray,c)};w.lQ=function(){if(this.e.Pc("skills")){if(""!=u.localStorage.getItem("skills_data"))var a=JSON.parse(u.localStorage.getItem("skills_data"));return a?a:[]}return[]};w.sC=function(a,c){this.e.Rr("skills",c);u.localStorage.setItem("skills_data",JSON.stringify(a))};
w.OO=function(a,c,d){var e=this.e.Pc("skills")?""!=u.localStorage.getItem("skills_data")?JSON.parse(u.localStorage.getItem("skills_data")):[]:[];e[a]=c;w.sC(e,d)};w.AS=function(a,c){skillarray=a;w.sC(skillarray,c)};w.kQ=function(){if(this.e.Pc("signs")){if(""!=u.localStorage.getItem("signs_data"))var a=JSON.parse(u.localStorage.getItem("signs_data"));return a?a:[]}return[]};w.rC=function(a,c){this.e.Rr("signs",c);u.localStorage.setItem("signs_data",JSON.stringify(a))};
w.NO=function(a,c,d){var e=this.e.Pc("signs")?""!=u.localStorage.getItem("signs_data")?JSON.parse(u.localStorage.getItem("signs_data")):[]:[];e[a]=c;w.rC(e,d)};w.zS=function(a,c){signarray=a;w.rC(signarray,c)};
w.LV=function(){u.localStorage.setItem("map_data",[]);u.localStorage.setItem("last_maps",0);u.localStorage.setItem("warps_data",[]);u.localStorage.setItem("last_warps",0);u.localStorage.setItem("items_data",[]);u.localStorage.setItem("last_items",0);u.localStorage.setItem("skills_data",[]);u.localStorage.setItem("last_skills",0);u.localStorage.setItem("signs_data",[]);u.localStorage.setItem("last_signs",0)};
w.GK=function(){H({sync:!0,mapupdate:null!=this.e.Pc("maps")?this.e.Pc("maps"):2,warpupdate:null!=this.e.Pc("warps")?this.e.Pc("warps"):2,itemupdate:null!=this.e.Pc("items")?this.e.Pc("items"):2,skillsupdate:null!=this.e.Pc("skills")?this.e.Pc("skills"):2,signsupdate:null!=this.e.Pc("signs")?this.e.Pc("signs"):2})};w.RT=function(a){!0!=a&&!1!=a||u.localStorage.setItem("mapedit_saveonexit",a)};w.UP=function(){return null==u.localStorage.getItem("mapedit_saveonexit")?!1:u.localStorage.getItem("mapedit_saveonexit")};var Da=p.H.extend({Qd:null,Rd:null,Sd:null,Wd:null,Xd:null,ld:null,item:null,Jd:null,Kd:null,Md:null,Ld:null,position:null,Ae:null,type:null,yb:null,ctor:function(){this._super()},s:function(){this._super();this.Ae=p.T.create("","Arial",16);this.Ae.na(0.5,0.5);this.Ae.F(16,-16);this.Ae.$(0);this.Ae.o(p.k(0,0,0));this.t(this.Ae,900);this.item=[];this.yb=[];this.xi(0)},qO:function(a){this.Aj(a.sprite.texture,a.sprite.position,"item");for(var c=0;c<ObjectLists.ni().length;c++)if(a.name==ObjectLists.ni()[c].name){this.xw({id:c,
data:{amount:a.amount}},!0);break}this.xi(4)},CB:function(){this.yb[this.yb.length-1].temp&&(this.item[this.item.length-1].R(),this.item.splice(this.item.length-1,1),this.hS())},Aj:function(a,c,d){a=p.w.Gd(p.Ib.d().Re(a));a.nb(p.rect(Math.floor(32*c.x),Math.floor(32*c.y),32,32));a.o(p.p(255,255,255,255));a.na(0,1);switch(d){case "ground1":null!=this.Qd&&this.Qd.R();this.Qd=a;this.t(this.Qd);break;case "ground2":null!=this.Rd&&this.Rd.R();this.Rd=a;this.t(this.Rd,1);break;case "groundShadow":null!=
this.Sd&&this.Sd.R();this.Sd=a;this.t(this.Sd,2);break;case "mask1":null!=this.Wd&&this.Wd.R();this.Wd=a;this.t(this.Wd,3);break;case "mask2":null!=this.Xd&&this.Xd.R();this.Xd=a;this.t(this.Xd,4);break;case "mask3":null!=this.ld&&this.ld.R();this.ld=a;this.t(this.ld,5);break;case "item":this.item.push(a);this.t(this.item[this.item.length-1],6);break;case "fringe1":null!=this.Jd&&this.Jd.R();this.Jd=a;this.t(this.Jd,7);break;case "fringe2":null!=this.Kd&&this.Kd.R();this.Kd=a;this.t(this.Kd,8);break;
case "fringeShadow":null!=this.Md&&this.Md.R();this.Md=a;this.t(this.Md,9);break;case "fringe3":null!=this.Ld&&this.Ld.R(),this.Ld=a,this.t(this.Ld,10)}},$f:function(){var a=!0;if(null!=this.Qd&&this.Qd.Q()&&!1==this.Qd.Q().dc)a=!1;else if(null!=this.Rd&&this.Rd.Q()&&!1==this.Rd.Q().dc)a=!1;else if(null!=this.Sd&&this.Sd.Q()&&!1==this.Sd.a3)a=!1;else if(null!=this.Wd&&this.Wd.Q()&&!1==this.Wd.Q().dc)a=!1;else if(null!=this.Xd&&this.Xd.Q()&&!1==this.Xd.Q().dc)a=!1;else if(null!=this.ld&&this.ld.Q()&&
!1==this.ld.Q().dc)a=!1;else if(0<this.item.length)for(var c in this.item)this.item[c].Q()&&!1==this.item[c].Q().dc&&(a=!1);else null!=this.Jd&&this.Jd.Q()&&!1==this.Jd.Q().dc?a=!1:null!=this.Kd&&this.Kd.Q()&&!1==this.Kd.Q().dc?a=!1:null!=this.Md&&this.Md.Q()&&!1==this.Md.Q().dc?a=!1:null!=this.Ld&&this.Ld.Q()&&!1==this.Ld.Q().dc&&(a=!1);return a},kd:function(){null!=this.Qd&&this.Qd.R();this.Qd=null;null!=this.Rd&&this.Rd.R();this.Rd=null;null!=this.Sd&&this.Sd.R();this.Sd=null;null!=this.Wd&&this.Wd.R();
this.Wd=null;null!=this.Xd&&this.Xd.R();this.Xd=null;null!=this.ld&&this.ld.R();this.ld=null;for(var a=0;a<this.item.length;a++)this.item[a].R();this.item=[];this.ld=null;null!=this.Jd&&this.Jd.R();this.Jd=null;null!=this.Kd&&this.Kd.R();this.Kd=null;null!=this.Md&&this.Md.R();this.Md=null;null!=this.Ld&&this.Ld.R();this.Ld=null;this.xi(0);this.yb=[];this.item=[]},MA:function(a){switch(a){case "ground1":null!=this.Qd&&this.Qd.R();this.Qd=null;break;case "ground2":null!=this.Rd&&this.Rd.R();this.Rd=
null;break;case "groundShadow":null!=this.Sd&&this.Sd.R();this.Sd=null;break;case "mask1":null!=this.Wd&&this.Wd.R();this.Wd=null;break;case "mask2":null!=this.Xd&&this.Xd.R();this.Xd=null;break;case "mask3":null!=this.ld&&this.ld.R();this.ld=null;break;case "item":for(a=0;a<this.item.length;a++)this.item[a].R(),this.item[a].splice(a,1),a--;this.item=[];break;case "fringe1":null!=this.Jd&&this.Jd.R();this.Jd=null;break;case "fringe2":null!=this.Kd&&this.Kd.R();this.Kd=null;break;case "fringeShadow":null!=
this.Md&&this.Md.R();this.Md=null;break;case "fringe3":null!=this.Ld&&this.Ld.R(),this.Ld=null}},xi:function(a){this.type=a;switch(this.type){case 0:this.Ae.ba("");break;case 1:this.Ae.ba("BLK");break;case 2:this.Ae.ba("SPW");break;case 3:this.Ae.ba("WRP");break;case 4:this.Ae.ba("ITM");break;case 5:this.Ae.ba("SCR");break;case 6:this.Ae.ba("SKL");break;case 7:this.Ae.ba("SGN")}},xw:function(a,c){c||(c=!1);this.yb.push({num:a.id,data:a.data,temp:c})},hS:function(){this.yb.splice(this.yb.length-1,
1);0==this.yb.length&&this.xi(0)},uG:function(){return this.yb[this.yb.length-1]},tG:function(){switch(this.type){case 3:return ObjectLists.$l()[this.yb[this.yb.length-1].num];case 4:var a=ObjectLists.ni()[this.yb[this.yb.length-1].num];a.amount=parseInt(this.yb[this.yb.length-1].data.amount);return a;case 7:return ObjectLists.nr()[this.yb[this.yb.length-1].num]}},Zl:function(){switch(this.type){case 3:return ObjectLists.$l()[this.yb[this.yb.length-1].num]?ObjectLists.$l()[this.yb[this.yb.length-
1].num]:null;case 4:return ObjectLists.ni()[this.yb[this.yb.length-1].num]?ObjectLists.ni()[this.yb[this.yb.length-1].num]:null}},lU:function(a){this.Ae.$(!0==a?255:0)},ue:function(){return this.type}});Da.cx=function(a,c){var d=new Da;d.s();d.position=p.a(a,c);return d};StatsController=p.w.extend({data:null,Uv:null,ca:null,s:function(a,c){this.data=a;this.ca=c;this.fT()},update:function(){for(var a in this.data)this.Uv&&(0==this.data[a].value&&0<this.Uv[a]&&this.ca.p9(a),this.data[a].Ac>this.Uv[a].Ac&&this.ca.r9(a)),this.Uv[a]=this.data[a]},S2:function(a){return this.data[a].value},R2:function(a){return this.data[a].Ac},j5:function(a,c){this.data[a].value+=c;this.data[a].value>this.data[a].Og&&(this.data[a].value=this.data[a].Og);0>this.data[a].value&&(this.data[a].value=
0)},PO:function(a,c){this.data[a].value=c;this.data[a].value>this.data[a].Og&&(this.data[a].value=this.data[a].Og);0>this.data[a].value&&(this.data[a].value=0)},i5:function(a,c){this.data[a].Ac+=c;this.data[a].Ac>this.data[a].Ng&&(this.data[a].Ac=this.data[a].Ng);0>this.data[a].Ac&&(this.data[a].Ac=0)},PO:function(a,c){this.data[a].Ac=c;this.data[a].Ac>this.data[a].Ng&&(this.data[a].Ac=this.data[a].Ng);0>this.data[a].Ac&&(this.data[a].Ac=0)},VZ:function(a,c){this.data[a].Ng=c},WZ:function(a,c){this.data[a].Og=
c}});ObjectLists=p.qa.extend({yC:null,qB:null,kC:null,jC:null});var W;ObjectLists.d=function(){W||(W=new ObjectLists,W.yC=w.tQ(),W.qB=w.RP(),W.kC=w.lQ(),W.jC=w.kQ());return W};ObjectLists.$l=function(){return W.yC};ObjectLists.uU=function(a){W.yC=a};ObjectLists.ni=function(){return W.qB};ObjectLists.OT=function(a){W.qB=a};ObjectLists.oo=function(){return W.kC};ObjectLists.kU=function(a){W.kC=a};ObjectLists.nr=function(){return W.jC};ObjectLists.jU=function(a){W.jC=a};var D=p.hc.extend({e:null,od:null,C:null,xk:!1,Cm:null,lm:null,EB:null,bm:null,vi:null,ti:null,ui:null,yh:null,Hd:1,gG:function(a,c){function d(a,c){return{vK:a,value:c.x+c.y*U,x:c.x,y:c.y,Fv:0,h:0}}function e(a,c){var d=c-1,e=c+1,g=a+1,h=a-1,k=-1<d&&f.C["tile"+V(a,d)]&&1!=f.C["tile"+V(a,d)].ue()&&7!=f.C["tile"+V(a,d)].ue();myS=e<U&&f.C["tile"+V(a,e)]&&1!=f.C["tile"+V(a,e)].ue()&&7!=f.C["tile"+V(a,d)].ue();myE=g<U&&f.C["tile"+V(g,c)]&&1!=f.C["tile"+V(g,c)].ue()&&7!=f.C["tile"+V(a,d)].ue();myW=-1<
h&&f.C["tile"+V(h,c)]&&1!=f.C["tile"+V(h,c)].ue()&&7!=f.C["tile"+V(a,d)].ue();result=[];k&&result.push({x:a,y:d});myE&&result.push({x:g,y:c});myS&&result.push({x:a,y:e});myW&&result.push({x:h,y:c});return result}for(var f=this,g=d(null,c),h,k,l,m,n,r=[],q=[],t=[d(null,a)],y=Array(Ea*U);h=t.length;){k=Ea*U;l=-1;for(m=0;m<h;m++)t[m].Fv<k&&(k=t[m].Fv,l=m);k=t.splice(l,1)[0];if(k.value===g.value){l=q[q.push(k)-1];do r.push(p.a(l.x,l.y));while(l=l.vK);y=q=t=[];r.reverse()}else{h=e(k.x,k.y);m=0;for(n=h.length;m<
n;m++)l=d(k,h[m]),y[l.value]||(l.h=k.h+(Math.abs(h[m].x-k.x)+Math.abs(h[m].y-k.y)),l.Fv=l.h+(Math.abs(h[m].x-g.x)+Math.abs(h[m].y-g.y)),t.push(l),y[l.value]=!0);q.push(k)}}return r},xU:function(a){this.od={};this.od.mapdata={};for(var c in this.C)"tile"==c.substring(0,4)&&(this.C[c].kd(),this.od[c]={});if(a)for(c in this.od=a,a)if("tile"==c.substring(0,4))for(var d in a[c])"info"!=d?null!=a[c][d]&&this.C[c].Aj(a[c][d].texture,a[c][d].frame,d):(this.C[c].xi(a[c][d].type),a[c][d].script&&this.C[c].xw(a[c][d].script),
4==a[c][d].type&&this.C[c].Zl()&&this.C[c].Aj(this.C[c].Zl().sprite.texture,this.C[c].Zl().sprite.position,"item"));else"mapdata"==c&&(this.vi=""!=a[c].mapConnectors.up&&null!=a[c].mapConnectors.up?a[c].mapConnectors.up:null,this.ti=""!=a[c].mapConnectors.down&&null!=a[c].mapConnectors.down?a[c].mapConnectors.down:null,this.ui=""!=a[c].mapConnectors.left&&null!=a[c].mapConnectors.left?a[c].mapConnectors.left:null,this.yh=""!=a[c].mapConnectors.right&&null!=a[c].mapConnectors.right?a[c].mapConnectors.right:
null);this.xe(this.IB)},Hk:function(a){B.d().u(!1);a=w.TP(a);this.od={};this.od.mapdata={};for(var c in this.C)"tile"==c.substring(0,4)&&(this.C[c].kd(),this.od[c]={});if(a)for(c in this.od=a,a)if("tile"==c.substring(0,4))for(var d in a[c])"info"!=d?null!=a[c][d]&&this.C[c].Aj(a[c][d].texture,a[c][d].frame,d):(this.C[c].xi(a[c][d].type),a[c][d].script&&this.C[c].xw(a[c][d].script),4==a[c][d].type&&this.C[c].Zl()&&this.C[c].Aj(this.C[c].Zl().sprite.texture,this.C[c].Zl().sprite.position,"item"));else"mapdata"==
c&&(this.vi=""!=a[c].mapConnectors.up&&null!=a[c].mapConnectors.up?a[c].mapConnectors.up:null,this.ti=""!=a[c].mapConnectors.down&&null!=a[c].mapConnectors.down?a[c].mapConnectors.down:null,this.ui=""!=a[c].mapConnectors.left&&null!=a[c].mapConnectors.left?a[c].mapConnectors.left:null,this.yh=""!=a[c].mapConnectors.right&&null!=a[c].mapConnectors.right?a[c].mapConnectors.right:null);this.xe(this.IB)},IB:function(){for(var a in this.C)if("tile"==a.substring(0,4)&&!1==this.C[a].$f())return;B.d().u(!0);
B.Dj();this.Tg(this.IB);this.lm.u(!0);this.Cm.u(!0);this.xk=!0},Ue:function(){for(var a={},c=0;c<U;c++)for(var d=0;d<Ea;d++)a["tile"+(c+d*U)]={size:p.size(32,32),c:p.a(0,0),position:p.a(32*c,32*(Ea-d)),lR:!0,QU:p.a(d,c),visible:!1};return{panels:{children:a}}},s:function(){this.Tb(!0);this.uI(1)},Db:function(a){!this.bm||Mapeditor&&Mapeditor.Y||(this.bm=Mapeditor=null);if(this.bm)for(var c in this.C)"tile"==c.substring(0,4)&&p.xb(this.C[c].Ua(),p.a(a.X.x,a.X.y+32))&&(this.bm.SI(this.C,c),D.ds());
else for(c in this.C)if("tile"==c.substring(0,4)&&p.xb(this.C[c].Ua(),p.a(a.X.x,a.X.y+32))){var d=B.e.wa.uh();B.e.wa.AI(this.gG(p.a(Math.floor(d.x),Math.ceil(d.y)),p.a(this.C[c].q.x/32,this.C[c].q.y/32)))}return!0},Zc:function(a){if(this.bm){for(var c in this.C)"tile"==c.substring(0,4)&&p.xb(this.C[c].Ua(),p.a(a.X.x,a.X.y+32))&&(this.bm.SI(this.C,c,"moved"),D.ds());return!0}for(c in this.C)if("tile"==c.substring(0,4)&&p.xb(this.C[c].Ua(),p.a(a.X.x,a.X.y+32))){var d=B.e.wa.uh();B.e.wa.AI(this.gG(p.a(Math.floor(d.x),
Math.ceil(d.y)),p.a(this.C[c].q.x/32,this.C[c].q.y/32)))}},ea:function(){this._super();if(!0==this.xk){this.Cm.CA(0,0,0,0);for(var a in this.C)"tile"==a.substring(0,4)&&(this.C[a].u(!0),null!=this.C[a].Jd&&this.C[a].Jd.u(!1),null!=this.C[a].Kd&&this.C[a].Kd.u(!1),null!=this.C[a].Md&&this.C[a].Md.u(!1),null!=this.C[a].Ld&&this.C[a].Ld.u(!1),this.C[a].ea(),null!=this.C[a].Jd&&this.C[a].Jd.u(!0),null!=this.C[a].Kd&&this.C[a].Kd.u(!0),null!=this.C[a].Md&&this.C[a].Md.u(!0),null!=this.C[a].Ld&&this.C[a].Ld.u(!0),
this.C[a].u(!1));this.Cm.end();this.lm.CA(0,0,0,0);for(a in this.C)if("tile"==a.substring(0,4)){this.C[a].u(!0);null!=this.C[a].Qd&&this.C[a].Qd.u(!1);null!=this.C[a].Rd&&this.C[a].Rd.u(!1);null!=this.C[a].Sd&&this.C[a].Sd.u(!1);null!=this.C[a].Wd&&this.C[a].Wd.u(!1);null!=this.C[a].Xd&&this.C[a].Xd.u(!1);null!=this.C[a].ld&&this.C[a].ld.u(!1);for(var c=0;c<this.C[a].item.length;c++)this.C[a].item[c].u(!1);this.C[a].ea();null!=this.C[a].Qd&&this.C[a].Qd.u(!0);null!=this.C[a].Rd&&this.C[a].Rd.u(!0);
null!=this.C[a].Sd&&this.C[a].Sd.u(!0);null!=this.C[a].Wd&&this.C[a].Wd.u(!0);null!=this.C[a].Xd&&this.C[a].Xd.u(!0);null!=this.C[a].ld&&this.C[a].ld.u(!0);for(c=0;c<this.C[a].item.length;c++)this.C[a].item[c].u(!0);this.C[a].u(!1)}this.lm.end();this.xk=!1}}});
D.create=function(){this.e||(this.e=new D,this.e.C=Ba(this.e),this.e.t(this.e.C),this.e.Cm=p.fb.create(S.width,S.height),this.e.Cm.F(p.a(Math.floor(S.width/2),Math.floor(S.height/2))),this.e.t(this.e.Cm),this.e.Cm.u(!1),this.e.EB=p.H.create(),this.e.t(this.e.EB),this.e.lm=p.fb.create(S.width,S.height),this.e.lm.F(p.a(Math.floor(S.width/2),Math.floor(S.height/2))),this.e.t(this.e.lm),this.e.lm.u(!1),this.e.Aw(-15),this.e.s());return this.e};D.d=function(){return this.e};
D.Qr=function(){this.e.R();this.e=null};D.ds=function(){this.e||(this.e=D.create());this.e.xk=!0};D.yU=function(a){this.e.xU(a)};D.d=function(){return this.e};D.Aj=function(a,c,d,e){this.e.C[a].Aj(c,d,e);this.e.od[a][e]={texture:c,frame:d}};D.bJ=function(){H({savemap:this.e.Hd,mapdata:this.e.od})};D.MA=function(a,c){this.e.od[a][c]=null;this.e.C[a].MA(c)};D.Fk=function(a,c,d,e){this.e.C[a].xi(c);d?(this.e.C[a].xw(d,e),this.e.od[a].info={type:c,script:{id:d,data:e?e:null}}):this.e.od[a].info={type:c}};
D.hI=function(a){this.e.od.mapdata.mapConnectors=a;this.e.vi=a.up;this.e.ti=a.down;this.e.ui=a.left;this.e.yh=a.right};D.DP=function(a,c,d){for(var e in this.e.C)"tile"==e.substring(0,4)&&(this.e.C[e].Aj(a,c,d),this.e.od[e][d]={texture:a,frame:c})};D.sI=function(a){for(var c in this.e.C)"tile"==c.substring(0,4)&&this.e.C[c].lU(a);this.e.xk=!0};D.P8=function(){for(var a in this.e.C)"tile"==a.substring(0,4)&&this.e.C[a].Ae.ba(a.substring(4));this.e.xk=!0};D.IG=function(){return null!=this.e.vi};
D.GG=function(){return null!=this.e.ti};D.HG=function(){return null!=this.e.ui};D.bB=function(){return null!=this.e.yh};D.t1=function(){return this.e.Hd};D.v1=function(){return this.e.vi};D.r1=function(){return this.e.ti};D.s1=function(){return this.e.ui};D.u1=function(){return this.e.yh};D.FG=function(a){B.d().u(!1);D.kd();this.e.Hd=a;B.e.wa.Lo(a);B.Dj();this.e.Hk(a)};D.yQ=function(){B.d().u(!1);D.kd();this.e.Hd=this.e.vi;B.e.wa.Lo(this.e.vi);B.Dj();this.e.Hk(this.e.vi)};
D.vQ=function(){B.d().u(!1);D.kd();this.e.Hd=this.e.ti;B.e.wa.Lo(this.e.ti);B.Dj();this.e.Hk(this.e.ti)};D.wQ=function(){B.d().u(!1);D.kd();this.e.Hd=this.e.ui;B.e.wa.Lo(this.e.ui);B.Dj();this.e.Hk(this.e.ui)};D.xQ=function(){B.d().u(!1);D.kd();this.e.Hd=this.e.yh;B.e.wa.Lo(this.e.yh);B.Dj();this.e.Hk(this.e.yh)};D.ZB=function(a){this.e.bm=a};D.Lv=function(a,c){return a>U-1||0>a?void 0:this.e.C["tile"+(a+(Ea-c)*U)]};D.AG=function(a){return this.e.C["tile"+a]};D.sO=function(){var a=B.d();this.e.EB.t(a)};
D.kd=function(){this.e.od={};for(var a in this.e.C)"tile"==a.substring(0,4)&&(this.e.C[a].kd(),this.e.od[a]={});this.e.od.mapdata={};this.e.xk=!0};var B=p.hc.extend({e:null,Jb:[],wa:null});B.d=function(){return this.e};B.Qr=function(){this.e.R();this.e=null};B.create=function(a){this.e||(this.e=new B,this.e.wa=PlayerCharacter.create(a),this.e.wa.F(320,320),this.e.t(this.e.wa));return this.e};B.z3=function(){return this.e.wa};B.rj=function(a){return this.e.Jb[a]};
B.rO=function(a){this.e.Jb[a]=PlayerCharacter.create({name:a,So:{health:{Ac:1,value:100,Og:200,Ng:900},mana:{Ac:1,value:100,Og:200,Ng:99}},map:1,Jw:"sprites1.png",Gw:1});this.e.Jb[a].F(320,320);B.Dj();this.e.t(this.e.Jb[a]);C.Qb(a+I.Oc.DB)};B.VF=function(a){if(this.e.Jb[a]){this.e.Jb[a].R();this.e.Jb[a]=null;C.Qb(a+I.Oc.fS);for(var c=0;c<v.length;c++){var d=JSON.parse(v[c]);d.id&&d.id==a&&(v.splice(c,1),c--)}}};
B.DR=function(a,c){this.e.Jb[a]&&"default"!=c?this.e.Jb[a].cV(c):(this.e.Jb[a]=PlayerCharacter.create({name:a,So:{health:{Ac:1,value:100,Og:200,Ng:900},mana:{Ac:1,value:100,Og:200,Ng:99}},map:1,Jw:"sprites1.png",Gw:1}),this.e.Jb[a].F(320,320),this.e.Jb[a].F(p.a(c%U*32,32*Math.floor(c/U))),B.Dj(),this.e.t(this.e.Jb[a]),C.Qb(a+I.Oc.DB))};
B.wH=function(a,c){this.e.Jb[a]&&"default"!=c?this.e.Jb[a].F(p.a(c%U*32,32*Math.floor(c/U))):(this.e.Jb[a]=PlayerCharacter.create({name:a,So:{health:{Ac:1,value:100,Og:200,Ng:900},mana:{Ac:1,value:100,Og:200,Ng:99}},map:1,Jw:"sprites1.png",Gw:1}),this.e.Jb[a].F(p.a(c%U*32,32*Math.floor(c/U))),B.Dj(),this.e.t(this.e.Jb[a]),C.Qb(a+I.Oc.DB))};B.MO=function(a){this.e.Jb[a]&&this.e.Jb[a].updateStatus("AFK")};
B.Dj=function(){var a=this.e.wa.Fo,c;for(c in this.e.Jb)null!=this.e.Jb[c]&&this.e.Jb[c].u(this.e.Jb[c].Fo==a)};B.kd=function(){for(var a in this.e.Jb)null!=this.e.Jb[a]&&B.VF(a);this.e.wa.R();this.e.wa=null};B.LO=function(a,c){this.e.Jb[a].Lo(c);this.e.Jb[a].u(this.e.wa.Fo==c)};Character=p.w.extend({name:null,So:null,QI:null,zZ:null,zf:null,si:!1,gm:null,Fw:null,uo:!1,status:null,Fo:null,path:null,QA:"DOWN",s:function(a){this.nU(a.Jw,a.Gw);this.So=new StatsController(a.q9,this);this.t(this.So);this.name=a.name;a.uo&&(this.uo=a.uo);a.map&&(this.Fo=a.map);this.na(0,1);this.gm=p.T.create("","Arial",12);this.gm.na(0.5,0);this.gm.o(255,0,0);this.gm.F(Math.floor(this.g().width/2),this.g().width+3);this.t(this.gm);this.ZI()},T0:function(){return this.QA},Lo:function(a){this.Fo=
a},q1:function(){return this.Fo},updateStatus:function(a){this.status=a&&a!=this.status?a:null;this.ZI()},ZI:function(){null!=this.status?this.gm.ba(this.name+"-"+this.status):this.gm.ba(this.name)},getName:function(){return this.name},af:function(a,c,d){this.nb(p.rect(32*a,128*this.QI.id+32*c,32,32));this.Fw=p.a(a,c);this.QA=d},Jg:function(){return this.Fw},nU:function(a,c){this.QI={name:a,id:c};this.aa(p.Ib.d().Re(a));this.af(1,0)},uh:function(){return p.a(this.q.x/32,this.q.y/32)},nv:0.24,aV:0.24,
yv:2,dV:function(a){this.F(a.position%U*32,32*Math.floor(a.position/U));H({changemap:a.mapTo,setTo:a.position});D.FG(a.mapTo)},fR:function(){if(!this.si){var a=this.uh(),a=D.Lv(a.x,a.y);switch(a.ue()){case 4:this.CB(a.tG())}}},eR:function(){if(!this.si){var a=this.uh();switch(this.QA){case "RIGHT":a.x+=1;break;case "LEFT":a.x-=1;break;case "UP":a.y+=1;break;case "DOWN":a.y-=1}if(a=D.Lv(a.x,a.y))switch(a.ue()){case 7:Ja.CU(a.tG())}}},is:function(a){this.nv+=a;a=this.q;var c=this.Jg();this.nv>this.aV&&
(this.nv=0,this.zf.x<a.x?this.af((c.x+1)%3,1,"LEFT"):this.zf.x>a.x?this.af((c.x+1)%3,2,"RIGHT"):this.zf.y<a.y?this.af((c.x+1)%3,0,"DOWN"):this.zf.y>a.y&&this.af((c.x+1)%3,3,"UP"));this.zf.x<a.x?this.Eb(a.x-this.yv):this.zf.x>a.x?this.Eb(a.x+this.yv):this.zf.y<a.y?this.No(a.y-this.yv):this.zf.y>a.y&&this.No(a.y+this.yv);a.y==this.zf.y&&a.x==this.zf.x&&(this.si=!1,this.Tg(this.is),null!=this.path&&this.LF())},js:function(a,c){if(!1!=this.ta){var d=D.Lv(a,c),e=this.Fw,f=this.uh();f.x>a?this.af(e.x,1,
"LEFT"):f.x<a&&this.af(e.x,2,"RIGHT");f.y>c?this.af(e.x,0,"DOWN"):f.y<c&&this.af(e.x,3,"UP");if(!d)this.uo&&null==Mapeditor&&(f.x<a&&D.bB()?(this.F(0,32*c),H({changemap:parseInt(D.e.yh),setTo:0+c*U}),D.xQ()):f.x>a&&D.HG()&&(this.F(32*(U-1),32*c),H({changemap:parseInt(D.e.ui),setTo:U-1+c*U}),D.wQ()),f.y<c&&D.IG()?(this.F(32*a,32),H({changemap:parseInt(D.e.vi),setTo:a+1*U}),D.yQ()):f.y>c&&D.GG()&&(H({changemap:parseInt(D.e.ti),setTo:a+Ea*U}),D.vQ(),this.F(32*a,32*Ea)));else if(!1==this.si&&d){switch(d.ue()){case 1:case 7:return;
case 3:this.dV(d.Zl());return}this.zf=p.a(32*a,32*c);this.si=!0;this.xe(this.is);this.is(0);this.uo&&H({moveTo:this.zf.x/32+this.zf.y/32*U})}}},LF:function(){0==this.path.length?this.path=null:(this.path.splice(0,1),0==this.path.length?this.path=null:this.js(this.path[0].x,this.path[0].y))},AI:function(a){if(null==this.path||0!=a.length)this.path=a,this.LF()},cV:function(a){if(!1!=this.ta){var c=a%U;a=Math.floor(a/U);if(!1==this.si){var d=this.Fw,e=this.uh();4<Math.abs(p.xB(p.a(c,a),e))?this.F(p.a(32*
c,32*a)):(e.x>c?this.af(d.x,1,"LEFT"):e.x<c?this.af(d.x,2,"RIGHT"):e.y>a?this.af(d.x,0,"DOWN"):e.y<a&&this.af(d.x,3,"UP"),this.zf=p.a(32*c,32*a),this.si=!0,this.xe(this.is),this.is(0))}}}});
PlayerCharacter=Character.extend({items:null,s:function(a){this._super(a);this.items={stored:[],equipped:{}}},cs:function(a,c){for(var d=0;d<this.items.stored.length;d++)this.items.stored[d].name==a&&(this.items.stored[d]=c)},CB:function(a){var c=this.uh(),d=D.Lv(c.x,c.y);if(!0==a.stackable)for(var e=0;40>e;e++)if(this.items.stored[e]&&this.items.stored[e].name==a.name){Inventory&&(this.items.stored[e].amount+=a.amount,Inventory.Xr(e,this.items.stored[e].amount));C.Qb(I.Oc.tH+a.name);d.uG().temp?
H({pickupitem:V(c.x,c.y),mapnumber:D.e.Hd,temp:!0}):H({pickupitem:V(c.x,c.y),mapnumber:D.e.Hd});return}for(var f=!1,e=0;40>e;e++)if(null==this.items.stored[e]){this.items.stored[e]=Aa(a);Inventory&&Inventory.Xr(e,this.items.stored[e].amount);C.Qb(I.Oc.tH+a.name);d.uG().temp?H({pickupitem:V(c.x,c.y),mapnumber:D.e.Hd,temp:!0}):H({pickupitem:V(c.x,c.y),mapnumber:D.e.Hd});f=!0;break}!1==f&&C.Qb(I.Oc.hR)},dG:function(a,c){var d=this.uh();C.Qb(I.Oc.wP+this.items[c][a].name);H({droppeditem:this.items[c][a],
mapnumber:D.e.Hd,index:V(d.x,d.y)});!0==this.items[c][a].stackable&&1<this.items[c][a].amount&&Inventory.Xr(a,0);this.items[c][a]=null;Inventory&&Inventory.bf();Equipment&&Equipment.bf()},ZU:function(a){switch(this.items.stored[a].itemType){case "book":null==Book||Book.Y||(Itemeditor=null);Book&&(Book.Kb(),Book.R(),Book=null);Book=new BookPanel;Book.s(this.items.stored[a]);Book.lb();this.Y.Y.Y.t(Book);break;case "wearable":this.CP(a)}},CP:function(a){var c=null;this.items.equipped[this.items.stored[a].subType]&&
(c=Aa(this.items.equipped[this.items.stored[a].subType]));this.items.equipped[this.items.stored[a].subType]=Aa(this.items.stored[a]);this.items.stored[a]=c;Inventory&&Inventory.bf();Equipment&&Equipment.bf()},kP:function(a){for(var c=0;40>c;c++)if(null==this.items.stored[c]){this.items.stored[c]=Aa(this.items.equipped[a]);this.items.equipped[a]=null;Inventory&&Inventory.bf();Equipment&&Equipment.bf();return}C.Qb("No space in inventory to dequip this item.")},mr:function(){return this.items.stored},
UA:function(){return this.items.equipped}});PlayerCharacter.create=function(a){var c=new PlayerCharacter;c.s(a);return c};NonPlayerCharacter=Character.extend({e5:null});var Ka=p.hc.extend({RB:null,b:null,ctor:function(){this._super()},fJ:function(){},ym:function(){},lb:function(){this.b&&this.b.R();this.b=Ba(this);this.t(this.b)},Kb:function(){},s:function(){this.uI(1);this.Tb(!0);x.Or(this);this._super()},vB:function(){p.log("Override onKeyDown in scene extended class to use keyboard")},Xv:function(){p.log("Override onKeyUp in scene extended class to use keyboard")},MT:function(a){this.RB=a},Te:function(){return this.RB}});Popup=Ka.extend({wf:null,tj:!1,s:function(){this.RB=this.Te();this._super();x.Or(this);this.zU();this.Aw(-50)},z_:function(){this.R()},Db:function(a){var c=a.X;x.Or(this);c=this.b.control_panel.wb(c);if(p.xb(p.rect(this.b.control_panel.exitBtn.q.A,this.b.control_panel.exitBtn.q.I,this.b.control_panel.exitBtn.g().width,this.b.control_panel.exitBtn.g().height),c)){var d=this;this.Y.xf(function(){!1==d.tj&&d.Kb();d.R();d=null});return!0}return p.xb(p.rect(this.b.q.x,this.b.q.y+this.b.control_panel.q.y,
this.b.control_panel.g().width,this.b.control_panel.g().height),a.X)?(this.wf=this.b.qh(a),!0):!1},Zc:function(a){if(this.wf)return a=a.X,this.b.F(p.a(a.x-this.wf.x,a.y-this.wf.y)),!0},ve:function(){this.wf=null},zU:function(){p.log("Ovveride setupPopup")},Te:function(){p.log("No id given... using default 'Popup'");return"Popup"},ve:function(){}});Book=null;
BookPanel=Popup.extend({data:null,we:null,Te:function(){return"Book"},Ue:function(){return{panels:{position:p.a(100,20),children:{main_panel:{c:p.a(0,0),position:p.a(0,0),size:p.size(512,320),l:p.p(0,0,100,200),children:{pageBackbtn:{position:p.a(4,4),size:p.size(96,32),l:p.p(255,255,255,255),c:p.a(0,0),children:{text:{label:"Previous Page",fontSize:12,c:p.a(0.5,0.5),position:p.a(48,16),color:p.k(0,0,0)}}},pageForwardbtn:{position:p.a(412,4),size:p.size(96,32),l:p.p(255,255,255,255),c:p.a(0,0),children:{text:{label:"Next Page",
fontSize:12,c:p.a(0.5,0.5),position:p.a(48,16),color:p.k(0,0,0)}}},pageSplitter:{position:p.a(254,0),size:p.size(4,320),l:p.p(255,255,255,255),c:p.a(0,0)},leftPage:{label:0<this.we.length?this.we[0]:this.we,c:p.a(0,1),position:p.a(4,316),color:p.k(255,255,255)},rightPage:{label:0<this.we.length?this.we[1]:"",c:p.a(0,1),position:p.a(260,316),color:p.k(255,255,255)}}},control_panel:{c:p.a(0,0),position:p.a(0,320),size:p.size(512,32),l:p.p(255,0,0,200),children:{header:{label:this.data.name,fontSize:20,
c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(482,3),size:p.size(26,26),c:p.a(0,0),l:p.p(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.k(0,0,0),c:p.a(0.5,0.5),position:p.a(13,13)}}}}}}}}},s:function(a){this._super();this.data=a;this.we=[];for(a=a.additionalData.Contents;a;)if(490>a.length){this.we.push(a);break}else this.we.push(a.substr(0,490)+"..."),a=a.substr(490);this.aS=Math.floor(this.we.length/2)-1;this.li=0},lb:function(){this._super();this.b.main_panel.leftPage.UB(p.size(248,
0));this.b.main_panel.rightPage.UB(p.size(248,0));this.b.main_panel.pageBackbtn.u(!1);2>this.we.length&&this.b.main_panel.pageForwardbtn.u(!1)},zQ:function(){this.li++;this.b.main_panel.pageBackbtn.u(!0);this.li==this.aS&&this.b.main_panel.pageForwardbtn.u(!1);this.b.main_panel.leftPage.ba(this.we[2*this.li]);this.we[2*this.li+1]?this.b.main_panel.rightPage.ba(this.we[2*this.li+1]):this.b.main_panel.rightPage.ba("")},AQ:function(){this.li--;this.b.main_panel.pageForwardbtn.u(!0);0==this.li&&this.b.main_panel.pageBackbtn.u(!1);
this.b.main_panel.leftPage.ba(this.we[2*this.li]);this.we[2*this.li+1]&&this.b.main_panel.rightPage.ba(this.we[2*this.li+1])},Db:function(a){if(this._super(a))return!0;this.wf=null;a=this.b.main_panel.wb(a.X);if(R(this.b.main_panel.pageForwardbtn,a))return this.zQ(),!0;if(R(this.b.main_panel.pageBackbtn,a))return this.AQ(),!0}});Equipment=null;
EquipmentPanel=Popup.extend({Te:function(){return"Equipment"},Ue:function(){var a={vo:!0,size:p.size(32,32),c:p.a(0,0)},a={head:Ia(a,{position:p.a(88,162)}),body:Ia(a,{position:p.a(88,122)}),legs:Ia(a,{position:p.a(88,82)}),feet:Ia(a,{position:p.a(88,40)}),rarm:Ia(a,{position:p.a(128,122)}),larm:Ia(a,{position:p.a(48,122)}),mod:Ia(a,{position:p.a(8,162)})};return{panels:{position:p.a(100,300),children:{main_panel:{c:p.a(0,0),size:p.size(168,168),l:p.p(255,255,255,200),children:a},control_panel:{c:p.a(0,0),
position:p.a(0,168),size:p.size(168,32),l:p.p(255,0,0,200),children:{header:{label:"Equipment",fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(139,3),size:p.size(26,26),c:p.a(0,0),l:p.p(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.k(0,0,0),c:p.a(0.5,0.5),position:p.a(13,13)}}}}},item_name:{position:p.a(0,0),l:p.p(200,200,200,200),size:p.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:p.k(0,0,0),c:p.a(0.5,0.5),position:p.a(32,8)}}},control_menu:{position:p.a(0,
0),l:p.p(200,200,200,200),size:p.size(96,48),visible:!1,children:{dropbtn:{position:p.a(0,0),size:p.size(96,24),c:p.a(0,0),l:p.p(200,200,200,200),children:{content:{label:"Drop",fontSize:20,color:p.k(0,0,0),c:p.a(0,0.5),position:p.a(4,12)}}},unequipbtn:{position:p.a(0,24),size:p.size(96,24),c:p.a(0,0),l:p.p(200,200,200,200),children:{content:{label:"Unequip",fontSize:20,color:p.k(0,0,0),c:p.a(0,0.5),position:p.a(4,12)}}}}}}}}},bf:function(){var a=B.e.wa.UA();this.b.main_panel.head.aa(null);this.b.main_panel.body.aa(null);
this.b.main_panel.legs.aa(null);this.b.main_panel.feet.aa(null);this.b.main_panel.larm.aa(null);this.b.main_panel.rarm.aa(null);this.b.main_panel.mod.aa(null);for(var c in a)if(a[c]){for(var d in M)if(M[d].name==a[c].sprite.texture)var e=M[d].texture;this.b.main_panel[a[c].subType].na(0,1);this.b.main_panel[a[c].subType].aa(e);this.b.main_panel[a[c].subType].nb(p.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,32,32))}},Db:function(a){if(this._super(a))return!0;this.wf=null;var c=a.X;a=this.b.main_panel.wb(c);
c=this.b.control_menu.wb(c);if(null!=this.sf)return R(this.b.control_menu.dropbtn,c)&&B.e.wa.dG(this.sf,"equipped"),R(this.b.control_menu.unequipbtn,c)&&B.e.wa.kP(this.sf),this.sf=null,this.b.control_menu.u(!1),!0;this.sf=null;this.b.control_menu.u(!1);var c=B.e.wa.UA(),d;for(d in c)if(c[d]){var e=1==this.b.main_panel[c[d].subType].He.y?32:0;if(R(this.b.main_panel[c[d].subType],p.a(a.x,a.y+e)))return this.b.control_menu.u(!0),this.b.control_menu.F(p.a(this.b.main_panel[c[d].subType].q.A+28,this.b.main_panel[c[d].subType].q.I-
(0!=e?40:0)-8)),this.sf=d,!0}},Bh:function(a){var c=this.b.main_panel.wb(a);a=this.b.control_menu.wb(a);this.b.control_menu.unequipbtn.o(p.p(200,200,200,200));this.b.control_menu.dropbtn.o(p.p(200,200,200,200));this.b.item_name.u(!1);if(null!=this.sf)R(this.b.control_menu.unequipbtn,a)&&this.b.control_menu.unequipbtn.o(Q),R(this.b.control_menu.dropbtn,a)&&this.b.control_menu.dropbtn.o(Q);else{a=B.e.wa.UA();for(var d in a)if(a[d]&&R(this.b.main_panel[a[d].subType],p.a(c.x,c.y+(1==this.b.main_panel[a[d].subType].He.y?
32:0))))return this.b.item_name.content.ba(a[d].name),this.b.item_name.u(!0),this.b.item_name.da(this.b.item_name.content.g()),this.b.item_name.content.Eb(this.b.item_name.content.g().width/2),this.b.item_name.F(p.a(this.b.main_panel[a[d].subType].q.A-this.b.item_name.content.g().width/2+16,this.b.main_panel[a[d].subType].q.I)),!0}},lb:function(){this._super();this.bf()}});Inventory=null;
InventoryPanel=Popup.extend({sf:null,Te:function(){return"Inventory"},Ue:function(){for(var a={},c=0;5>c;c++)for(var d=0;8>d;d++)a[5*d+c+""]={size:p.size(32,32),position:p.a(40*c+8,40*(7-d)+40),vo:!0,c:p.a(0,0),children:{stacklabelbg:{position:p.a(1,1),size:p.size(10,6),c:p.a(0,0),l:p.p(255,255,255,200),children:{stacklabel:{label:"",fontSize:10,color:p.k(0,0,0),c:p.a(0,0),position:p.a(0,0)}}}}};return{panels:{position:p.a(300,200),children:{main_panel:{c:p.a(0,0),l:p.p(255,255,255,200),size:p.size(208,
328),children:a},control_panel:{c:p.a(0,0),position:p.a(0,328),size:p.size(208,32),l:p.p(255,0,0,200),children:{header:{label:"Inventory",fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(179,3),size:p.size(26,26),c:p.a(0,0),l:p.p(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.k(0,0,0),c:p.a(0.5,0.5),position:p.a(13,13)}}}}},item_name:{position:p.a(0,0),l:p.p(200,200,200,200),size:p.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:p.k(0,0,0),
c:p.a(0.5,0.5),position:p.a(32,8)}}},control_menu:{position:p.a(0,0),l:p.p(200,200,200,200),size:p.size(96,48),visible:!1,children:{dropbtn:{position:p.a(0,0),size:p.size(96,24),c:p.a(0,0),l:p.p(200,200,200,200),children:{content:{label:"Drop",fontSize:20,color:p.k(0,0,0),c:p.a(0,0.5),position:p.a(4,12)}}},usebtn:{position:p.a(0,24),size:p.size(96,24),c:p.a(0,0),l:p.p(200,200,200,200),children:{content:{label:"Use",fontSize:20,color:p.k(0,0,0),c:p.a(0,0.5),position:p.a(4,12)}}}}}}}}},Xr:function(a,
c){this.b.main_panel[a+""].stacklabelbg.u(!1);1<c&&(this.b.main_panel[a+""].stacklabelbg.u(!0),this.b.main_panel[a+""].stacklabelbg.stacklabel.ba(c),this.b.main_panel[a+""].stacklabelbg.da(this.b.main_panel[a+""].stacklabelbg.stacklabel.g()))},bf:function(){for(var a=B.e.wa.mr(),c=0;40>c;c++)if(a[c]){for(var d in M)if(M[d].name==a[c].sprite.texture)var e=M[d].texture;this.b.main_panel[c+""].na(0,1);this.b.main_panel[c+""].aa(e);this.b.main_panel[c+""].nb(p.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,
32,32));this.Xr(c,a[c].amount)}else this.b.main_panel[c+""].aa(null),this.Xr(c,0)},lb:function(){this._super();this.bf()},Db:function(a){if(this._super(a))return!0;this.wf=null;var c=a.X;a=this.b.main_panel.wb(c);c=this.b.control_menu.wb(c);if(null!=this.sf)return p.xb(p.rect(this.b.control_menu.dropbtn.q.A,this.b.control_menu.dropbtn.q.I,this.b.control_menu.dropbtn.g().width,this.b.control_menu.dropbtn.g().height),c)?B.e.wa.dG(this.sf,"stored"):p.xb(p.rect(this.b.control_menu.usebtn.q.A,this.b.control_menu.usebtn.q.I,
this.b.control_menu.usebtn.g().width,this.b.control_menu.usebtn.g().height),c)&&B.e.wa.ZU(this.sf),this.sf=null,this.b.control_menu.u(!1),!0;this.sf=null;this.b.control_menu.u(!1);for(c=0;40>c;c++)if(B.e.wa.mr()[c]){var d=1==this.b.main_panel[c+""].He.y?32:0;if(R(this.b.main_panel[c+""],p.a(a.x,a.y+d))){this.b.control_menu.u(!0);switch(B.e.wa.mr()[c].itemType){case "wearable":this.b.control_menu.usebtn.content.ba("Equip");break;case "resource":this.b.control_menu.usebtn.content.ba("Use");break;case "consumable":this.b.control_menu.usebtn.content.ba("Consume");
break;case "book":this.b.control_menu.usebtn.content.ba("Read")}this.b.control_menu.F(p.a(this.b.main_panel[c+""].q.A+28,this.b.main_panel[c+""].q.I-(0!=d?40:0)-8));this.sf=c;return!0}}},Bh:function(a){var c=this.b.control_menu.wb(a);a=this.b.main_panel.wb(a);this.b.control_menu.dropbtn.o(p.p(200,200,200,200));this.b.control_menu.usebtn.o(p.p(200,200,200,200));this.b.item_name.u(!1);if(null!=this.sf)p.xb(p.rect(this.b.control_menu.dropbtn.q.A,this.b.control_menu.dropbtn.q.I,this.b.control_menu.dropbtn.g().width,
this.b.control_menu.dropbtn.g().height),c)?this.b.control_menu.dropbtn.o(p.p(255,0,0,255)):p.xb(p.rect(this.b.control_menu.usebtn.q.A,this.b.control_menu.usebtn.q.I,this.b.control_menu.usebtn.g().width,this.b.control_menu.usebtn.g().height),c)&&this.b.control_menu.usebtn.o(p.p(255,0,0,255));else for(c=0;40>c;c++)if(B.e.wa.mr()[c]&&R(this.b.main_panel[c+""],p.a(a.x,a.y+(1==this.b.main_panel[c+""].He.y?32:0))))return this.b.item_name.content.ba(B.e.wa.mr()[c].name),this.b.item_name.u(!0),this.b.item_name.da(this.b.item_name.content.g()),
this.b.item_name.content.Eb(this.b.item_name.content.g().width/2),this.b.item_name.F(p.a(this.b.main_panel[c+""].q.A-this.b.item_name.content.g().width/2+16,this.b.main_panel[c+""].q.I)),!0}});Sign=null;
SignPanel=Popup.extend({data:null,Te:function(){return"Sign"},Ue:function(){return{panels:{position:p.a(100,300),children:{main_panel:{c:p.a(0,0),size:p.size(128,128),l:p.p(255,255,255,200),children:{content:{label:this.data.label,fontSize:12,color:p.k(0,0,0),c:p.a(0,1),position:p.a(4,124)}}},control_panel:{c:p.a(0,0),position:p.a(0,128),size:p.size(128,32),l:p.p(255,0,0,200),children:{header:{label:this.data.name,fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(98,3),size:p.size(26,
26),c:p.a(0,0),l:p.p(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.k(0,0,0),c:p.a(0.5,0.5),position:p.a(13,13)}}}}}}}}},s:function(a){this._super();this.data=a},lb:function(){this._super();this.b.main_panel.content.UB(p.size(120,0))}});Skills=null;
SkillsPanel=Popup.extend({Te:function(){return"Equipment"},Ue:function(){for(var a={},c=ObjectLists.oo(),d=0;d<c.length;d++)a[d+""]={c:p.a(0,0),position:p.a(0,40*c.length-40*(d+1)+2),children:{icon:{position:p.a(4,2),vo:!0,c:p.a(0,0)},name:{position:p.a(40,2),size:p.size(120,32),c:p.a(0,0),l:p.p(255,255,255,200),children:{content:{label:c[d].name,fontSize:16,color:p.k(0,0,0),c:p.a(0,0.5),position:p.a(4,16)}}},level:{position:p.a(164,2),size:p.size(86,32),c:p.a(0,0),l:p.p(255,255,255,200),children:{content:{label:"Level",
fontSize:16,color:p.k(0,0,0),c:p.a(0.5,0.5),position:p.a(43,16)}}}}};return{panels:{position:p.a(100,300),children:{main_panel:{c:p.a(0,0),size:p.size(256,40*c.length),l:p.p(255,255,255,200),children:a},control_panel:{c:p.a(0,0),position:p.a(0,40*c.length),size:p.size(256,32),l:p.p(255,0,0,200),children:{header:{label:"Skills",fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(226,3),size:p.size(26,26),c:p.a(0,0),l:p.p(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.k(0,
0,0),c:p.a(0.5,0.5),position:p.a(13,13)}}}}},item_name:{position:p.a(0,0),l:p.p(200,200,200,200),size:p.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:p.k(0,0,0),c:p.a(0.5,0.5),position:p.a(32,8)}}},control_menu:{position:p.a(0,0),l:p.p(200,200,200,200),size:p.size(96,48),visible:!1,children:{dropbtn:{position:p.a(0,0),size:p.size(96,24),c:p.a(0,0),l:p.p(200,200,200,200),children:{content:{label:"Drop",fontSize:20,color:p.k(0,0,0),c:p.a(0,0.5),position:p.a(4,12)}}},unequipbtn:{position:p.a(0,
24),size:p.size(96,24),c:p.a(0,0),l:p.p(200,200,200,200),children:{content:{label:"Unequip",fontSize:20,color:p.k(0,0,0),c:p.a(0,0.5),position:p.a(4,12)}}}}}}}}},bf:function(){console.log("Updating tile grid");for(var a=ObjectLists.oo(),c=0;c<a.length;c++)this.b.main_panel[c+""].icon.aa(null);for(c=0;c<a.length;c++)if(a[c]){for(var d in M)if(M[d].name==a[c].sprite.texture)var e=M[d].texture;this.b.main_panel[c+""].icon.aa(e);this.b.main_panel[c+""].icon.nb(p.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,
32,32))}},lb:function(){this._super();this.bf()}});
var ua=p.hc.extend({ov:[],WI:function(){var a=ObjectLists.oo(),c;for(c in this.ov)this.ov[c].R();this.ov=[];var d=0;for(c=a.length-1;0<=c;c--)if(null!=a[c].healthbar&&""!=a[c].healthbar){var e=this.dP(a[c].name,a[c].healthbar,d);this.t(e);this.ov.push(e);d++}this.F(p.a(0,640-32*d))},dP:function(a,c,d){var e=255;c=c.replace("#","");8==c.length&&(e=c.substr(6,8));e=p.Lb.create(p.p(parseInt(c.substring(0,2),16),parseInt(c.substring(2,4),16),parseInt(c.substring(4,6),16),parseInt(e,16)),300,22);e.F(4,
32*d-5);a=p.T.create(a,"Arial",16);a.F(4,11);a.na(p.a(0,0.5));e.t(a);return e}});SkillBarsInstance=null;ua.create=function(){null==SkillBarsInstance&&(SkillBarsInstance=new ua,SkillBarsInstance.WI());return SkillBarsInstance};ua.update=function(){SkillBarsInstance.WI()};Itemeditor=null;
ItemEditor=Popup.extend({uc:M[0].name,O:0,Ue:function(){return{panels:{position:p.a(300,10),children:{main_panel:{c:p.a(0,0),position:p.a(0,0),size:p.size(420,396),l:p.p(0,0,100,120),children:{tab1:{children:{tiles:{c:p.a(0,1),position:p.a(16,320),To:M[0].name},textureleftbtn:{position:p.a(208,340),size:p.size(16,32),l:O,c:p.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.k(0,0,0)}}},texturerightbtn:{position:p.a(320,340),size:p.size(16,32),l:O,c:p.a(0,
0),children:{text:{label:"\x3e\x3e",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.k(0,0,0)}}},textureName:{position:p.a(224,340),size:p.size(96,32),l:p.p(255,255,255,170),c:p.a(0,0),children:{text:{label:M[0].name,fontSize:12,c:p.a(0.5,0.5),position:p.a(48,16),color:p.k(0,0,0)}}},leftbtn:{position:p.a(0,64),size:p.size(16,252),l:p.p(0,0,255,255),c:p.a(0,0),children:{text:{label:"\x3c",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,160),color:p.k(255,255,255)}}},rightbtn:{position:p.a(336,64),size:p.size(16,
252),l:p.p(0,0,255,255),c:p.a(0,0),children:{text:{label:"\x3e",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,160),color:p.k(255,255,255)}}},upbtn:{position:p.a(16,320),size:p.size(320,16),l:p.p(0,0,255,255),c:p.a(0,0),children:{text:{label:"^",fontSize:12,c:p.a(0.5,0.5),position:p.a(160,8),color:p.k(255,255,255)}}},downbtn:{position:p.a(16,48),size:p.size(320,16),l:p.p(0,0,255,255),c:p.a(0,0),children:{text:{label:"v",fontSize:12,c:p.a(0.5,0.5),position:p.a(160,8),color:p.k(255,255,255)}}},highlightnode:{c:p.a(0,
0),position:p.a(0,0),size:p.size(32,32),l:p.p(255,100,100,255)},selectednode:{c:p.a(0,0),position:p.a(0,0),size:p.size(32,32),l:p.p(100,255,100,255)}}},tab2:{children:{itemdetailsback:{position:p.a(144,0),size:p.size(250,366),l:p.p(0,0,255,100),c:p.a(0,0)},name_text:{label:"Item Name",fontSize:10,c:p.a(0,0),position:p.a(8,344)},name_entry:{size:p.size(136,32),position:p.a(4,312)},resourcetab:{visible:!1},consumabletab:{visible:!1},booktab:{visible:!1,children:{book_text:{label:"Book Contents",fontSize:10,
c:p.a(0,0),position:p.a(152,348)},book_entry:{size:p.size(240,340),position:p.a(-1E5,8)}}},wearabletab:{visible:!1,children:{head:{position:p.a(250,230),size:p.size(64,26),l:P,c:p.a(0,0),children:{text:{label:"Head",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,13),color:p.k(0,0,0)}}},body:{position:p.a(250,200),size:p.size(64,26),l:P,c:p.a(0,0),children:{text:{label:"Body",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,13),color:p.k(0,0,0)}}},legs:{position:p.a(250,170),size:p.size(64,26),l:P,c:p.a(0,0),
children:{text:{label:"Legs",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,13),color:p.k(0,0,0)}}},feet:{position:p.a(250,140),size:p.size(64,26),l:P,c:p.a(0,0),children:{text:{label:"Feet",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,13),color:p.k(0,0,0)}}},larm:{position:p.a(180,200),size:p.size(64,26),l:P,c:p.a(0,0),children:{text:{label:"L Arm",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,13),color:p.k(0,0,0)}}},rarm:{position:p.a(320,200),size:p.size(64,26),l:P,c:p.a(0,0),children:{text:{label:"R Arm",
fontSize:12,c:p.a(0.5,0.5),position:p.a(32,13),color:p.k(0,0,0)}}},mod:{position:p.a(150,230),size:p.size(64,26),l:P,c:p.a(0,0),children:{text:{label:"Mod",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,13),color:p.k(0,0,0)}}}}},resourcebtn:{position:p.a(8,248),size:p.size(128,26),l:O,c:p.a(0,0),children:{text:{label:"Resource",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.k(0,0,0)}}},consumablebtn:{position:p.a(8,218),size:p.size(128,26),l:O,c:p.a(0,0),children:{text:{label:"Consumable",fontSize:12,
c:p.a(0.5,0.5),position:p.a(64,13),color:p.k(0,0,0)}}},bookbtn:{position:p.a(8,188),size:p.size(128,26),l:O,c:p.a(0,0),children:{text:{label:"Book",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.k(0,0,0)}}},wearablebtn:{position:p.a(8,158),size:p.size(128,26),l:O,c:p.a(0,0),children:{text:{label:"wearable",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.k(0,0,0)}}},tile:{c:p.a(0,1),position:p.a(55,130),To:M[0].name},stackbtn:{position:p.a(8,48),size:p.size(128,26),l:Q,c:p.a(0,0),children:{text:{label:"NOT STACKABLE",
fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.k(0,0,0)}}}}},tab3:{children:{saveBack:{position:p.a(0,78),size:p.size(200,60),l:p.p(0,255,0,100),c:p.a(0,0)},deleteback:{position:p.a(0,138),size:p.size(200,60),l:p.p(255,0,0,100),c:p.a(0,0)},mapnumsback:{position:p.a(0,198),size:p.size(200,162),l:p.p(0,0,0,170),c:p.a(0,0)}}},tab1Clickable:{position:p.a(0,376),size:p.size(60,20),l:O,c:p.a(0,0),children:{text:{label:"Sprite",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.k(0,0,0)}}},tab2Clickable:{position:p.a(64,
376),size:p.size(60,20),l:O,c:p.a(0,0),children:{text:{label:"Details",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.k(0,0,0)}}},tab3Clickable:{position:p.a(128,376),size:p.size(60,20),l:O,c:p.a(0,0),children:{text:{label:"Modifier",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.k(0,0,0)}}},okbtn:{position:p.a(76,8),size:p.size(60,32),l:O,c:p.a(0,0),children:{text:{label:"OK",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.k(0,0,0)}}},cancelbtn:{position:p.a(8,8),size:p.size(60,
32),l:O,c:p.a(0,0),children:{text:{label:"Cancel",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.k(0,0,0)}}}}},control_panel:{c:p.a(0,0),position:p.a(0,396),size:p.size(420,32),l:p.p(255,0,0,200),children:{header:{label:"Item Editor",fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(391,3),size:p.size(26,26),c:p.a(0,0),l:p.p(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.k(0,0,0),c:p.a(0.5,0.5),position:p.a(13,13)}}}}}}}}},Te:function(){return"itemEditor"},
Sb:null,Be:null,ec:0,ca:null,data:null,s:function(a){this._super();this.data={itemType:"resource",subType:"",sprite:{texture:M[0].name,position:{x:0,y:0}},additionalData:{},stackable:!1,name:""};this.uc=M[0].name;this.O=0;this.Be=this.Sb=null;this.ec=0;this.ca=null;this.ja=p.a(0,0);this.Be=[null,352,400,200];this.ca=a.ca;a&&a.data&&(this.data=a.data)},kw:function(a){H({saveitems:a+"",itemdata:this.data})},wv:function(a,c){H({saveitemswhole:c})},lb:function(){this._super();this.b.main_panel.tab1.highlightnode.$(0);
this.b.main_panel.tab1.selectednode.$(127);for(var a in M)M[a].name==this.data.sprite.texture&&(this.O=a,this.uc=M[a].name);this.b.main_panel.tab1.textureName.text.ba(this.uc);this.b.main_panel.tab1.tiles.aa(M[this.O].texture);for(a=this.data.sprite.position.x;10<=a;)a--,this.ja.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.ja.y++;a=p.a(32*(this.data.sprite.position.x-this.ja.x),32*(this.data.sprite.position.y-this.ja.y));this.b.main_panel.tab1.selectednode.F(this.b.main_panel.tab1.tiles.q.x+
a.x,this.b.main_panel.tab1.tiles.q.y-(a.y+32));this.b.main_panel.tab2.tile.aa(M[this.O].texture);this.b.main_panel.tab2.tile.nb(p.rect(Math.floor(32*this.data.sprite.position.x),Math.floor(32*this.data.sprite.position.y),32,32));this.Sb=new X(this.b.main_panel.tab2.name_entry,p.size(this.b.main_panel.tab2.name_entry.g().width,this.b.main_panel.tab2.name_entry.g().height),p.a(0,this.b.main_panel.tab2.name_entry.g().height),this.data.name?this.data.name:"",p.p(100,100,100),p.k(255,255,255));this.Sb.Ye(!0);
this.DA=new X(this.b.main_panel.tab2.booktab.book_entry,p.size(this.b.main_panel.tab2.booktab.book_entry.g().width,this.b.main_panel.tab2.booktab.book_entry.g().height),p.a(0,this.b.main_panel.tab2.booktab.book_entry.g().height),this.data.additionalData.Contents?this.data.additionalData.Contents:"",p.p(100,100,100),p.k(255,255,255),!0);this.DA.Ye(!0);this.DA.DT(!0);this.De(this.data.itemType);""!=this.data.subType&&this.yj(this.data.subType);this.b.main_panel.tab2.stackbtn.o(Q);this.b.main_panel.tab2.stackbtn.text.ba("NOT STACKABLE");
!0==this.data.stackable&&(this.b.main_panel.tab2.stackbtn.o(P),this.b.main_panel.tab2.stackbtn.text.ba("IS STACKABLE"));this.dg(1);this.Fb()},oU:function(){},Kb:function(a){if(this.ca){var c=this.ca;!0!=a&&this.ca.xf(function(){c.Hg(null)})}},Bh:function(a){if(1==this.ec&&(this.b.main_panel.tab1.highlightnode.$(0),a=this.b.main_panel.tab1.tiles.wb(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.g().width&&a.y<=this.b.main_panel.tab1.tiles.g().height))return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+64,
this.b.main_panel.tab1.highlightnode.$(127),this.b.main_panel.tab1.highlightnode.F(a),!0},dg:function(a){a!=this.ec&&(this.b.main_panel.da(this.Be[a],this.b.main_panel.g().height),this.b.control_panel.da(this.Be[a],this.b.control_panel.g().height),this.b.main_panel.tab2.name_entry.Eb(this.b.main_panel.tab2.name_entry.q.A-1E3),this.ec=a,this.b.main_panel.tab1.u(!1),this.b.main_panel.tab2.u(!1),this.b.main_panel.tab3.u(!1),this.b.main_panel.tab1Clickable.o(O),this.b.main_panel.tab2Clickable.o(O),this.b.main_panel.tab3Clickable.o(O),
this.b.main_panel["tab"+a].u(!0),this.b.main_panel["tab"+a+"Clickable"].o(p.p(255,255,0,255)),2==a&&(this.b.main_panel.tab2.name_entry.Eb(4),"book"==this.data.itemType?(this.b.main_panel.tab2.booktab.book_entry.Eb(150),this.b.main_panel.tab2.booktab.book_text.u(!0)):(this.b.main_panel.tab2.booktab.book_entry.Eb(-1E9),this.b.main_panel.tab2.booktab.book_text.u(!1))),this.b.control_panel.exitBtn.Eb(this.Be[a]-29))},Fb:function(){this.xe(this.Fb);this.b.main_panel.tab1.tiles.Q()&&!0==this.b.main_panel.tab1.tiles.Q().dc&&
(this.Tg(this.Fb),this.b.main_panel.tab1.tiles.nb(p.rect(Math.floor(32*this.ja.x),Math.floor(32*this.ja.y),320>M[this.O].texture.g().width?M[this.O].texture.g().width:320,256>M[this.O].texture.g().height?M[this.O].texture.g().height:256)))},Db:function(a){if(this._super(a))return!0;this.wf=null;a=a.X;var c=this.b.main_panel.wb(a);if(R(this.b.main_panel.tab1Clickable,c))return this.dg(1),!0;if(R(this.b.main_panel.tab2Clickable,c))return this.dg(2),!0;if(R(this.b.main_panel.tab3Clickable,c))return this.dg(3),
!0;if(R(this.b.main_panel.okbtn,c)){if(null==this.Sb.ma()||""==this.Sb.ma())return!0;this.tj=!0;this.data.name=this.Sb.ma();switch(this.data.itemType){case "book":this.data.additionalData={Contents:this.DA.ma()}}this.ca.Hg(this.data);return!0}if(R(this.b.main_panel.cancelbtn,c)){this.tj=!0;var d=this.ca;this.ca.xf(function(){d.Hg(null)});return!0}if(1==this.ec){if(R(this.b.main_panel.tab1.leftbtn,c))return 264<M[this.O].texture.g().width&&0<this.ja.x&&(this.ja.x--,this.Fb()),!0;if(R(this.b.main_panel.tab1.rightbtn,
c))return 320<M[this.O].texture.g().width&&this.ja.x<(M[this.O].texture.g().width-320)/32&&(this.ja.x++,this.Fb()),!0;if(R(this.b.main_panel.tab1.upbtn,c))return 320<M[this.O].texture.g().height&&0<this.ja.y&&(this.ja.y--,this.Fb()),!0;if(R(this.b.main_panel.tab1.ldownbtn,c))return 320<M[this.O].texture.g().height&&this.ja.y<(M[this.O].texture.g().height-320)/32&&(this.ja.y++,this.Fb()),!0;if(R(this.b.main_panel.tab1.texturerightbtn,c))return this.es(),!0;if(R(this.b.main_panel.tab1.textureleftbtn,
c))return this.fs(),!0;c=this.b.main_panel.tab1.tiles.wb(a);if(R(this.b.main_panel.tab1.tiles,c)){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+64;this.b.main_panel.tab1.selectednode.$(0);if(this.b.main_panel.tab1.selectednode.q.A!=c.x||this.b.main_panel.tab1.selectednode.q.I!=c.y)this.b.main_panel.tab1.selectednode.$(127),this.b.main_panel.tab1.selectednode.F(c);a=p.a((this.b.main_panel.tab1.selectednode.q.A-16)/32+this.ja.x,8-(this.b.main_panel.tab1.selectednode.q.I-64)/32+this.ja.y-1);this.b.main_panel.tab2.tile.nb(p.rect(32*
a.x,32*a.y,32,32));this.data.sprite.position=a;return!0}}if(2==this.ec){if(R(this.b.main_panel.tab2.stackbtn,c))return this.NU(),!0;if(R(this.b.main_panel.tab2.resourcebtn,c))return this.De("resource"),!0;if(R(this.b.main_panel.tab2.consumablebtn,c))return this.De("consumable"),!0;if(R(this.b.main_panel.tab2.bookbtn,c))return this.De("book"),!0;if(R(this.b.main_panel.tab2.wearablebtn,c))return this.De("wearable"),this.yj("body"),!0;if(R(this.b.main_panel.tab2.wearabletab.body,c))return this.yj("body"),
!0;if(R(this.b.main_panel.tab2.wearabletab.head,c))return this.yj("head"),!0;if(R(this.b.main_panel.tab2.wearabletab.legs,c))return this.yj("legs"),!0;if(R(this.b.main_panel.tab2.wearabletab.feet,c))return this.yj("feet"),!0;if(R(this.b.main_panel.tab2.wearabletab.larm,c))return this.yj("larm"),!0;if(R(this.b.main_panel.tab2.wearabletab.rarm,c))return this.yj("rarm"),!0;if(R(this.b.main_panel.tab2.wearabletab.mod,c))return this.yj("mod"),!0}return!1},NU:function(){this.data.stackable=!this.data.stackable;
this.b.main_panel.tab2.stackbtn.o(Q);this.b.main_panel.tab2.stackbtn.text.ba("NOT STACKABLE");!0==this.data.stackable&&(this.b.main_panel.tab2.stackbtn.o(P),this.b.main_panel.tab2.stackbtn.text.ba("IS STACKABLE"))},De:function(a){this.b.main_panel.tab2.booktab.book_entry.Eb(-1E7);this.b.main_panel.tab2.booktab.book_text.u(!1);this.b.main_panel.tab2.resourcebtn.o(O);this.b.main_panel.tab2.consumablebtn.o(O);this.b.main_panel.tab2.bookbtn.o(O);this.b.main_panel.tab2.wearablebtn.o(O);this.b.main_panel.tab2.resourcetab.u(!1);
this.b.main_panel.tab2.consumabletab.u(!1);this.b.main_panel.tab2.booktab.u(!1);this.b.main_panel.tab2.wearabletab.u(!1);switch(a){case "book":this.b.main_panel.tab2.booktab.book_entry.Eb(150),this.b.main_panel.tab2.booktab.book_text.u(!0)}this.data.itemType=a;this.b.main_panel.tab2[a+"btn"].o(P);this.b.main_panel.tab2[a+"tab"].u(!0)},yj:function(a){this.b.main_panel.tab2.wearabletab.head.o(O);this.b.main_panel.tab2.wearabletab.body.o(O);this.b.main_panel.tab2.wearabletab.legs.o(O);this.b.main_panel.tab2.wearabletab.feet.o(O);
this.b.main_panel.tab2.wearabletab.rarm.o(O);this.b.main_panel.tab2.wearabletab.larm.o(O);this.b.main_panel.tab2.wearabletab.mod.o(O);"wearable"==this.data.itemType&&this.b.main_panel.tab2.wearabletab[a]&&this.b.main_panel.tab2.wearabletab[a].o(Q);this.data.subType=a},es:function(){this.O>=M.length-1&&(this.O=-1);this.O++;this.b.main_panel.tab1.tiles.aa(M[this.O].texture);this.b.main_panel.tab2.tile.aa(M[this.O].texture);this.uc=M[this.O].name;this.b.main_panel.tab1.textureName.text.ba(this.uc);this.data.sprite.texture=
this.uc;this.ja=p.a(0,0);this.Fb()},fs:function(){0>=this.O&&(this.O=M.length);this.O--;this.b.main_panel.tab1.tiles.aa(M[this.O].texture);this.b.main_panel.tab2.tile.aa(M[this.O].texture);this.uc=M[this.O].name;this.b.main_panel.tab1.textureName.text.ba(this.uc);this.ja=p.a(0,0);this.Fb()}});Mapeditor=null;
MapEditor=Popup.extend({map:null,zc:"tiles",$G:null,vv:"ground1",uc:M[0].name,O:0,Ue:function(){return{panels:{position:p.a(300,10),children:{main_panel:{c:p.a(0,0),position:p.a(0,0),size:p.size(420,380),l:p.p(0,0,100,120),children:{tab1:{children:{tiles:{c:p.a(0,1),position:p.a(16,336),To:M[0].name},textureleftbtn:{position:p.a(360,344),size:p.size(16,32),l:O,c:p.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.k(0,0,0)}}},texturerightbtn:{position:p.a(472,344),
size:p.size(16,32),l:O,c:p.a(0,0),children:{text:{label:"\x3e\x3e",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.k(0,0,0)}}},textureName:{position:p.a(376,344),size:p.size(96,32),l:p.p(255,255,255,170),c:p.a(0,0),children:{text:{label:M[0].name,fontSize:12,c:p.a(0.5,0.5),position:p.a(48,16),color:p.k(0,0,0)}}},deletebtn:{position:p.a(360,308),size:p.size(60,32),l:O,c:p.a(0,0),children:{text:{label:"Erase",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.k(0,0,0)}}},leftbtn:{position:p.a(0,
16),size:p.size(16,320),l:p.p(0,0,255,255),c:p.a(0,0),children:{text:{label:"\x3c",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,160),color:p.k(255,255,255)}}},rightbtn:{position:p.a(336,16),size:p.size(16,320),l:p.p(0,0,255,255),c:p.a(0,0),children:{text:{label:"\x3e",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,160),color:p.k(255,255,255)}}},upbtn:{position:p.a(16,336),size:p.size(320,16),l:p.p(0,0,255,255),c:p.a(0,0),children:{text:{label:"^",fontSize:12,c:p.a(0.5,0.5),position:p.a(160,8),color:p.k(255,
255,255)}}},downbtn:{position:p.a(16,0),size:p.size(320,16),l:p.p(0,0,255,255),c:p.a(0,0),children:{text:{label:"v",fontSize:12,c:p.a(0.5,0.5),position:p.a(160,8),color:p.k(255,255,255)}}},fillbtn:{position:p.a(428,308),size:p.size(60,32),l:O,c:p.a(0,0),children:{text:{label:"Fill",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.k(0,0,0)}}},ground1btn:{position:p.a(360,278),size:p.size(128,26),l:P,c:p.a(0,0),children:{text:{label:"Ground 1",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.k(0,
0,0)}}},ground2btn:{position:p.a(360,248),size:p.size(128,26),l:O,c:p.a(0,0),children:{text:{label:"Ground 2",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.k(0,0,0)}}},groundShadowbtn:{position:p.a(360,218),size:p.size(128,26),l:O,c:p.a(0,0),children:{text:{label:"Ground Shadow",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.k(0,0,0)}}},mask1btn:{position:p.a(360,188),size:p.size(128,26),l:O,c:p.a(0,0),children:{text:{label:"Mask 1",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),
color:p.k(0,0,0)}}},mask2btn:{position:p.a(360,158),size:p.size(128,26),l:O,c:p.a(0,0),children:{text:{label:"Mask 2",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.k(0,0,0)}}},mask3btn:{position:p.a(360,128),size:p.size(128,26),l:O,c:p.a(0,0),children:{text:{label:"Mask 3",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.k(0,0,0)}}},fringe1btn:{position:p.a(360,98),size:p.size(128,26),l:O,c:p.a(0,0),children:{text:{label:"Fringe 1",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.k(0,
0,0)}}},fringe2btn:{position:p.a(360,68),size:p.size(128,26),l:O,c:p.a(0,0),children:{text:{label:"Fringe 2",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.k(0,0,0)}}},fringeShadowbtn:{position:p.a(360,38),size:p.size(128,26),l:O,c:p.a(0,0),children:{text:{label:"Fringe Shadow",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.k(0,0,0)}}},fringe3btn:{position:p.a(360,8),size:p.size(128,26),l:O,c:p.a(0,0),children:{text:{label:"Fringe 3",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),
color:p.k(0,0,0)}}},highlightnode:{c:p.a(0,0),position:p.a(0,0),size:p.size(32,32),l:p.p(255,100,100,255)},selectednode:{c:p.a(0,0),position:p.a(0,0),size:p.size(32,32),l:p.p(100,255,100,255)}}},tab2:{children:{blockbtn:{position:p.a(8,320),size:p.size(60,32),l:O,c:p.a(0,0),children:{text:{label:"Block",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.k(0,0,0)}}},warpbtn:{position:p.a(8,280),size:p.size(60,32),l:O,c:p.a(0,0),children:{text:{label:"Warp",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,
16),color:p.k(0,0,0)}}},itembtn:{position:p.a(8,240),size:p.size(60,32),l:O,c:p.a(0,0),children:{text:{label:"Item",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.k(0,0,0)}}},signbtn:{position:p.a(8,200),size:p.size(60,32),l:O,c:p.a(0,0),children:{text:{label:"Sign",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.k(0,0,0)}}},amountLabelHead:{visible:!1,label:"Item Amount",fontSize:12,c:p.a(0,0),position:p.a(100,342)},amountLabel:{size:p.size(60,32),position:p.a(98,-1E6)}}},tab3:{children:{saveBack:{position:p.a(0,
78),size:p.size(200,60),l:p.p(0,255,0,100),c:p.a(0,0)},deleteback:{position:p.a(0,138),size:p.size(200,60),l:p.p(255,0,0,100),c:p.a(0,0)},mapnumsback:{position:p.a(0,198),size:p.size(200,162),l:p.p(0,0,0,170),c:p.a(0,0)},mapUp_text:{label:"Map Up",fontSize:10,c:p.a(0.5,0),position:p.a(100,344)},mapUp_entry:{size:p.size(60,32),position:p.a(70,312)},mapDown_text:{label:"Map Down",fontSize:10,c:p.a(0.5,0),position:p.a(100,232)},mapDown_entry:{size:p.size(60,32),position:p.a(70,200)},mapLeft_text:{label:"Map Left",
fontSize:10,c:p.a(0.5,0),position:p.a(38,290)},mapLeft_entry:{size:p.size(60,32),position:p.a(8,258)},mapRight_text:{label:"Map Right",fontSize:10,c:p.a(0.5,0),position:p.a(162,290)},mapRight_entry:{size:p.size(60,32),position:p.a(132,258)},this_map:{position:p.a(70,248),size:p.size(60,60),l:O,c:p.a(0,0),children:{text:{label:"THIS MAP\n#"+D.e.Hd,fontSize:12,c:p.a(0.5,0.5),position:p.a(30,30),color:p.k(0,0,0)}}},clearbtn:{position:p.a(70,150),size:p.size(60,32),l:O,c:p.a(0,0),children:{text:{label:"Clear",
fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.k(0,0,0)}}},clear_text:{label:"Clear Map: You sure?",fontSize:14,c:p.a(0.5,0),position:p.a(100,182)},clearbtnNo:{position:p.a(10,150),size:p.size(60,32),l:O,c:p.a(0,0),children:{text:{label:"NO",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.k(0,0,0)}}},clearbtnYes:{position:p.a(130,150),size:p.size(60,32),l:O,c:p.a(0,0),children:{text:{label:"YES",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.k(0,0,0)}}},savebtn:{position:p.a(70,
90),size:p.size(60,32),l:O,c:p.a(0,0),children:{text:{label:"Save",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.k(0,0,0)}}},save_text:{label:"Save Map: You sure?",fontSize:14,c:p.a(0.5,0),position:p.a(100,122)},savebtnNo:{position:p.a(10,90),size:p.size(60,32),l:O,c:p.a(0,0),children:{text:{label:"NO",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.k(0,0,0)}}},savebtnYes:{position:p.a(130,90),size:p.size(60,32),l:O,c:p.a(0,0),children:{text:{label:"YES",fontSize:12,c:p.a(0.5,0.5),
position:p.a(32,16),color:p.k(0,0,0)}}},saveOnExit:{position:p.a(40,30),size:p.size(120,32),l:O,c:p.a(0.5,0),children:{content:{label:"",fontSize:14,c:p.a(0.5,0.5),position:p.a(60,15),color:p.k(0,0,0)}}}}},tab1Clickable:{position:p.a(0,360),size:p.size(60,20),l:O,c:p.a(0,0),children:{text:{label:"Editor",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.k(0,0,0)}}},tab2Clickable:{position:p.a(64,360),size:p.size(60,20),l:O,c:p.a(0,0),children:{text:{label:"Scripts",fontSize:12,c:p.a(0.5,0.5),
position:p.a(32,10),color:p.k(0,0,0)}}},tab3Clickable:{position:p.a(128,360),size:p.size(60,20),l:O,c:p.a(0,0),children:{text:{label:"Settings",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.k(0,0,0)}}}}},control_panel:{c:p.a(0,0),position:p.a(0,380),size:p.size(420,32),l:p.p(255,0,0,200),children:{header:{label:"Map Editor - Map #"+D.e.Hd,fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(391,3),size:p.size(26,26),c:p.a(0,0),l:p.p(255,255,255,200),children:{content:{label:"X",
fontSize:20,color:p.k(0,0,0),c:p.a(0.5,0.5),position:p.a(13,13)}}}}}}}}},Te:function(){return"MapEditor"},ja:null,Er:null,Br:null,Cr:null,Dr:null,zr:null,Be:null,ec:0,Vo:null,s:function(a){this._super();this.map=a;this.ja=p.a(0,0);this.Be=[null,496,200,200]},lb:function(){this._super();this.b.main_panel.tab1.highlightnode.$(0);this.b.main_panel.tab1.selectednode.$(0);this.Er=new X(this.b.main_panel.tab3.mapUp_entry,p.size(this.b.main_panel.tab3.mapUp_entry.g().width,this.b.main_panel.tab3.mapUp_entry.g().height),
p.a(0,this.b.main_panel.tab3.mapUp_entry.g().height),D.IG()?D.e.vi:"",p.p(100,100,100),p.k(255,255,255));this.Er.Ye(!0);this.Er.Sr(!0);this.Br=new X(this.b.main_panel.tab3.mapDown_entry,p.size(this.b.main_panel.tab3.mapDown_entry.g().width,this.b.main_panel.tab3.mapDown_entry.g().height),p.a(0,this.b.main_panel.tab3.mapDown_entry.g().height),D.GG()?D.e.ti:"",p.p(100,100,100),p.k(255,255,255));this.Br.Ye(!0);this.Br.Sr(!0);this.Cr=new X(this.b.main_panel.tab3.mapLeft_entry,p.size(this.b.main_panel.tab3.mapLeft_entry.g().width,
this.b.main_panel.tab3.mapLeft_entry.g().height),p.a(0,this.b.main_panel.tab3.mapLeft_entry.g().height),D.HG()?D.e.ui:"",p.p(100,100,100),p.k(255,255,255));this.Cr.Ye(!0);this.Cr.Sr(!0);this.Dr=new X(this.b.main_panel.tab3.mapRight_entry,p.size(this.b.main_panel.tab3.mapRight_entry.g().width,this.b.main_panel.tab3.mapRight_entry.g().height),p.a(0,this.b.main_panel.tab3.mapRight_entry.g().height),D.bB()?D.e.yh:"",p.p(100,100,100),p.k(255,255,255));this.Dr.Ye(!0);this.Dr.Sr(!0);this.zr=new X(this.b.main_panel.tab2.amountLabel,
p.size(this.b.main_panel.tab2.amountLabel.g().width,this.b.main_panel.tab2.amountLabel.g().height),p.a(0,this.b.main_panel.tab2.amountLabel.g().height),D.bB()?D.e.yh:"1",p.p(100,100,100),p.k(255,255,255));this.zr.Ye(!0);this.zr.Sr(!0);this.Cw(!1);this.Dw(!1);this.ow=w.UP();this.pI(this.ow);this.dg(1);this.Fb();D.sI(!0)},rU:function(a,c){Warpeditor&&(Warpeditor.Kb(),this.xf(function(){Warpeditor.R();Warpeditor=null}),this.Vo=a,this.Tb(!0));Signeditor&&(Signeditor.Kb(),this.xf(function(){Signeditor.R();
Signeditor=null}),this.Vo=a,this.Tb(!0));Itemeditor&&(Itemeditor.Kb(),this.xf(function(){Itemeditor.R();Itemeditor=null}),this.Vo=a,this.Tb(!0),this.zr.fc.Sg("1"),!0==c.stackable&&(this.b.main_panel.tab2.amountLabelHead.u(!0),this.b.main_panel.tab2.amountLabel.F(98,308)))},Kb:function(){!0==this.ow&&(D.hI({up:this.Er.ma(),down:this.Br.ma(),left:this.Cr.ma(),right:this.Dr.ma()}),D.bJ());D.sI(!1)},Bh:function(a){if(1==this.ec&&(this.b.main_panel.tab1.highlightnode.$(0),a=this.b.main_panel.tab1.tiles.wb(a),
0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.g().width&&a.y<=this.b.main_panel.tab1.tiles.g().height))return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+16,this.b.main_panel.tab1.highlightnode.$(127),this.b.main_panel.tab1.highlightnode.F(a),!0},dg:function(a){if(a!=this.ec){this.b.main_panel.da(this.Be[a],this.b.main_panel.g().height);this.b.control_panel.da(this.Be[a],this.b.control_panel.g().height);if(3==this.ec||0==this.ec)this.b.main_panel.tab3.mapUp_entry.Eb(this.b.main_panel.tab3.mapUp_entry.q.A-
1E3),this.b.main_panel.tab3.mapLeft_entry.Eb(this.b.main_panel.tab3.mapLeft_entry.q.A-1E3),this.b.main_panel.tab3.mapDown_entry.Eb(this.b.main_panel.tab3.mapDown_entry.q.A-1E3),this.b.main_panel.tab3.mapRight_entry.Eb(this.b.main_panel.tab3.mapRight_entry.q.A-1E3);1!=this.ec||"erasing"!=this.zc&&"tiles"!=this.zc||(this.zc="blocking");2==this.ec&&"blocking"==this.zc&&(this.zc="tiles");this.ec=a;this.b.main_panel.tab1.u(!1);this.b.main_panel.tab2.u(!1);this.b.main_panel.tab3.u(!1);this.b.main_panel.tab1Clickable.o(O);
this.b.main_panel.tab2Clickable.o(O);this.b.main_panel.tab3Clickable.o(O);this.b.main_panel["tab"+a].u(!0);this.b.main_panel["tab"+a+"Clickable"].o(p.p(255,255,0,255));3==a&&(this.b.main_panel.tab3.mapUp_entry.Eb(this.b.main_panel.tab3.mapUp_entry.q.A+1E3),this.b.main_panel.tab3.mapLeft_entry.Eb(this.b.main_panel.tab3.mapLeft_entry.q.A+1E3),this.b.main_panel.tab3.mapDown_entry.Eb(this.b.main_panel.tab3.mapDown_entry.q.A+1E3),this.b.main_panel.tab3.mapRight_entry.Eb(this.b.main_panel.tab3.mapRight_entry.q.A+
1E3));this.b.control_panel.exitBtn.Eb(this.Be[a]-29)}},pI:function(a){w.RT(a);this.ow=a;this.b.main_panel.tab3.saveOnExit.o(p.k(255,0,0));this.b.main_panel.tab3.saveOnExit.content.ba("Save on exit: NO");if("true"==a||!0==a)this.b.main_panel.tab3.saveOnExit.o(p.k(0,255,0)),this.b.main_panel.tab3.saveOnExit.content.ba("Save on exit: YES")},Fb:function(){this.xe(this.Fb);this.b.main_panel.tab1.tiles.Q()&&!0==this.b.main_panel.tab1.tiles.Q().dc&&(this.Tg(this.Fb),this.b.main_panel.tab1.tiles.nb(p.rect(Math.floor(32*
this.ja.x),Math.floor(32*this.ja.y),320>M[this.O].texture.g().width?M[this.O].texture.g().width:320,320>M[this.O].texture.g().height?M[this.O].texture.g().height:320)))},Db:function(a){if(this._super(a))return!0;this.wf=null;a=a.X;var c=this.b.main_panel.wb(a);if(R(this.b.main_panel.tab1Clickable,c))return this.dg(1),!0;if(R(this.b.main_panel.tab2Clickable,c))return this.dg(2),!0;if(R(this.b.main_panel.tab3Clickable,c))return this.dg(3),!0;if(1==this.ec){if(R(this.b.main_panel.tab1.leftbtn,c))return 320<
M[this.O].texture.g().width&&0<this.ja.x&&(this.ja.x--,this.Fb()),!0;if(R(this.b.main_panel.tab1.rightbtn,c))return 320<M[this.O].texture.g().width&&this.ja.x<(M[this.O].texture.g().width-320)/32&&(this.ja.x++,this.Fb()),!0;if(R(this.b.main_panel.tab1.upbtn,c))return 320<M[this.O].texture.g().height&&0<this.ja.y&&(this.ja.y--,this.Fb()),!0;if(R(this.b.main_panel.tab1.downbtn,c))return 320<M[this.O].texture.g().height&&this.ja.y<(M[this.O].texture.g().height-320)/32&&(this.ja.y++,this.Fb()),!0;if(R(this.b.main_panel.tab1.ground1btn,
c))return this.De("ground1"),!0;if(R(this.b.main_panel.tab1.ground2btn,c))return this.De("ground2"),!0;if(R(this.b.main_panel.tab1.groundShadowbtn,c))return this.De("groundShadow"),!0;if(R(this.b.main_panel.tab1.mask1btn,c))return this.De("mask1"),!0;if(R(this.b.main_panel.tab1.mask2btn,c))return this.De("mask2"),!0;if(R(this.b.main_panel.tab1.mask3btn,c))return this.De("mask3"),!0;if(R(this.b.main_panel.tab1.fringe1btn,c))return this.De("fringe1"),!0;if(R(this.b.main_panel.tab1.fringe2btn,c))return this.De("fringe2"),
!0;if(R(this.b.main_panel.tab1.fringeShadowbtn,c))return this.De("fringeShadow"),!0;if(R(this.b.main_panel.tab1.fringe3btn,c))return this.De("fringe3"),!0;if(R(this.b.main_panel.tab1.texturerightbtn,c))return this.es(),!0;if(R(this.b.main_panel.tab1.textureleftbtn,c))return this.fs(),!0;if(R(this.b.main_panel.tab1.deletebtn,c))return this.zc="erasing"==this.zc?"tiles":"erasing",this.b.main_panel.tab1.deletebtn.o(O),"erasing"==this.zc&&this.b.main_panel.tab1.deletebtn.o(Q),!0;if(R(this.b.main_panel.tab1.fillbtn,
c))return 0!=this.b.main_panel.tab1.selectednode.oi()&&(D.DP(M[this.O].name,p.a((this.b.main_panel.tab1.selectednode.q.A-16)/32+this.ja.x,9-(this.b.main_panel.tab1.selectednode.q.I-16)/32+this.ja.y),this.vv),D.ds()),!0;c=this.b.main_panel.tab1.tiles.wb(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.g().width&&c.y<=this.b.main_panel.tab1.tiles.g().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+16;this.b.main_panel.tab1.selectednode.$(0);if(this.b.main_panel.tab1.selectednode.q.A!=c.x||this.b.main_panel.tab1.selectednode.q.I!=
c.y)this.b.main_panel.tab1.selectednode.$(127),this.b.main_panel.tab1.selectednode.F(c);return!0}}if(2==this.ec){if(R(this.b.main_panel.tab2.blockbtn,c))return this.b.main_panel.tab2.warpbtn.o(O),this.b.main_panel.tab2.signbtn.o(O),this.b.main_panel.tab2.itembtn.o(O),this.b.main_panel.tab2.blockbtn.o(O),this.zc="blocking"==this.zc?"tiles":"blocking","blocking"==this.zc&&(this.b.main_panel.tab2.blockbtn.o(Q),this.b.main_panel.tab2.amountLabelHead.u(!1),this.b.main_panel.tab2.amountLabel.F(68,-1E5)),
!0;if(R(this.b.main_panel.tab2.warpbtn,c))return this.b.main_panel.tab2.warpbtn.o(O),this.b.main_panel.tab2.signbtn.o(O),this.b.main_panel.tab2.itembtn.o(O),this.b.main_panel.tab2.blockbtn.o(O),this.b.main_panel.tab2.amountLabelHead.u(!1),this.b.main_panel.tab2.amountLabel.F(68,-1E6),this.zc="warping"==this.zc?"tiles":"warping","warping"==this.zc&&(null==Warpeditor||Warpeditor.Y||(Warpeditor=null),Warpeditor&&(Warpeditor.Kb(),Warpeditor.R(),Warpeditor=null),Warpeditor=new PopupList,Warpeditor.s({ca:this,
Wl:new WarpEditor,list:ObjectLists.$l(),name:"Warp List"}),Warpeditor.lb(),this.Y.t(Warpeditor),this.Tb(!1),this.b.main_panel.tab2.warpbtn.o(Q),this.b.main_panel.tab2.amountLabelHead.u(!1),this.b.main_panel.tab2.amountLabel.F(68,-1E5)),!0;if(R(this.b.main_panel.tab2.signbtn,c))return this.b.main_panel.tab2.signbtn.o(O),this.b.main_panel.tab2.warpbtn.o(O),this.b.main_panel.tab2.itembtn.o(O),this.b.main_panel.tab2.blockbtn.o(O),this.b.main_panel.tab2.amountLabelHead.u(!1),this.b.main_panel.tab2.amountLabel.F(68,
-1E6),this.zc="signs"==this.zc?"tiles":"signs","signs"==this.zc&&(null==Signeditor||Signeditor.Y||(Signeditor=null),Signeditor&&(Signeditor.Kb(),Signeditor.R(),Signeditor=null),Signeditor=new PopupList,Signeditor.s({ca:this,Wl:new SignEditor,list:ObjectLists.nr(),name:"Sign List"}),Signeditor.lb(),this.Y.t(Signeditor),this.Tb(!1),this.b.main_panel.tab2.signbtn.o(Q)),!0;if(R(this.b.main_panel.tab2.itembtn,c))return this.b.main_panel.tab2.warpbtn.o(O),this.b.main_panel.tab2.itembtn.o(O),this.b.main_panel.tab2.blockbtn.o(O),
this.b.main_panel.tab2.amountLabelHead.u(!1),this.b.main_panel.tab2.amountLabel.F(68,-1E6),this.zc="items"==this.zc?"tiles":"items","items"==this.zc&&(null==Itemeditor||Itemeditor.Y||(Itemeditor=null),Itemeditor&&(Itemeditor.Kb(),Itemeditor.R(),Itemeditor=null),Itemeditor=new PopupList,Itemeditor.s({ca:this,Wl:new ItemEditor,list:ObjectLists.ni(),name:"Item List"}),Itemeditor.lb(),this.Y.t(Itemeditor),this.Tb(!1),this.b.main_panel.tab2.itembtn.o(Q)),!0}if(3==this.ec){if(R(this.b.main_panel.tab3.clearbtn,
c))return this.Cw(!0),!0;if(R(this.b.main_panel.tab3.clearbtnNo,c))return this.Cw(!1),!0;if(R(this.b.main_panel.tab3.clearbtnYes,c))return D.kd(),this.Cw(!1),!0;if(R(this.b.main_panel.tab3.savebtn,c))return this.Dw(!0),!0;if(R(this.b.main_panel.tab3.savebtnNo,c))return this.Dw(!1),!0;if(R(this.b.main_panel.tab3.savebtnYes,c))return D.hI({up:this.Er.ma(),down:this.Br.ma(),left:this.Cr.ma(),right:this.Dr.ma()}),D.bJ(),this.Dw(!1),!0;if(R(this.b.main_panel.tab3.saveOnExit,c))return this.pI(!this.ow),
!0}return!1},De:function(a){this.b.main_panel.tab1.ground1btn.o(O);this.b.main_panel.tab1.ground2btn.o(O);this.b.main_panel.tab1.groundShadowbtn.o(O);this.b.main_panel.tab1.mask1btn.o(O);this.b.main_panel.tab1.mask2btn.o(O);this.b.main_panel.tab1.mask3btn.o(O);this.b.main_panel.tab1.fringe1btn.o(O);this.b.main_panel.tab1.fringe2btn.o(O);this.b.main_panel.tab1.fringeShadowbtn.o(O);this.b.main_panel.tab1.fringe3btn.o(O);this.b.main_panel.tab1[a+"btn"].o(P);this.vv=a},es:function(){this.O>=M.length-
1&&(this.O=-1);this.O++;this.b.main_panel.tab1.tiles.aa(M[this.O].texture);this.uc=M[this.O].name;this.b.main_panel.tab1.textureName.text.ba(this.uc);this.ja=p.a(0,0);this.Fb()},fs:function(){0>=this.O&&(this.O=M.length);this.O--;this.b.main_panel.tab1.tiles.aa(M[this.O].texture);this.uc=M[this.O].name;this.b.main_panel.tab1.textureName.text.ba(this.uc);this.ja=p.a(0,0);this.Fb()},Cw:function(a){this.b.main_panel.tab3.clearbtnYes.u(a);this.b.main_panel.tab3.clearbtnNo.u(a);this.b.main_panel.tab3.clear_text.u(a);
this.b.main_panel.tab3.clearbtn.u(!a)},Dw:function(a){this.b.main_panel.tab3.savebtnYes.u(a);this.b.main_panel.tab3.savebtnNo.u(a);this.b.main_panel.tab3.save_text.u(a);this.b.main_panel.tab3.savebtn.u(!a)},SI:function(a,c,d){if(a[c]==this.$G&&"moved"==d)return!1;this.$G=a[c];switch(this.zc){case "tiles":0!=this.b.main_panel.tab1.selectednode.oi()&&D.Aj(c,M[this.O].name,p.a((this.b.main_panel.tab1.selectednode.q.A-16)/32+this.ja.x,9-(this.b.main_panel.tab1.selectednode.q.I-16)/32+this.ja.y),this.vv);
break;case "blocking":if(1!=a[c].ue()){D.Fk(c,1);break}D.Fk(c,0);break;case "warping":if(null==Warpeditor||!Warpeditor.Y){if(3!=a[c].ue()){D.Fk(c,3,this.Vo);break}D.Fk(c,0,null)}break;case "signs":if(null==Signeditor||!Signeditor.Y){if(7!=a[c].ue()){D.Fk(c,7,this.Vo);break}D.Fk(c,0,null)}break;case "items":if(null==Itemeditor||!Itemeditor.Y){if(4!=a[c].ue()){D.Fk(c,4,this.Vo,{amount:this.zr.ma()});break}D.Fk(c,0,null)}break;case "erasing":D.MA(c,this.vv)}}});Skillseditor=null;
SkillsEditor=Popup.extend({uc:M[0].name,O:0,Ue:function(){return{panels:{position:p.a(300,10),children:{main_panel:{c:p.a(0,0),position:p.a(0,0),size:p.size(420,396),l:p.p(0,0,100,120),children:{tab1:{children:{tiles:{c:p.a(0,1),position:p.a(16,320),To:M[0].name},textureleftbtn:{position:p.a(208,340),size:p.size(16,32),l:O,c:p.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.k(0,0,0)}}},texturerightbtn:{position:p.a(320,340),size:p.size(16,32),l:O,c:p.a(0,
0),children:{text:{label:"\x3e\x3e",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.k(0,0,0)}}},textureName:{position:p.a(224,340),size:p.size(96,32),l:p.p(255,255,255,170),c:p.a(0,0),children:{text:{label:M[0].name,fontSize:12,c:p.a(0.5,0.5),position:p.a(48,16),color:p.k(0,0,0)}}},leftbtn:{position:p.a(0,64),size:p.size(16,252),l:p.p(0,0,255,255),c:p.a(0,0),children:{text:{label:"\x3c",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,160),color:p.k(255,255,255)}}},rightbtn:{position:p.a(336,64),size:p.size(16,
252),l:p.p(0,0,255,255),c:p.a(0,0),children:{text:{label:"\x3e",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,160),color:p.k(255,255,255)}}},upbtn:{position:p.a(16,320),size:p.size(320,16),l:p.p(0,0,255,255),c:p.a(0,0),children:{text:{label:"^",fontSize:12,c:p.a(0.5,0.5),position:p.a(160,8),color:p.k(255,255,255)}}},downbtn:{position:p.a(16,48),size:p.size(320,16),l:p.p(0,0,255,255),c:p.a(0,0),children:{text:{label:"v",fontSize:12,c:p.a(0.5,0.5),position:p.a(160,8),color:p.k(255,255,255)}}},highlightnode:{c:p.a(0,
0),position:p.a(0,0),size:p.size(32,32),l:p.p(255,100,100,255)},selectednode:{c:p.a(0,0),position:p.a(0,0),size:p.size(32,32),l:p.p(100,255,100,255)}}},tab2:{children:{name_text:{label:"Skill Name",fontSize:10,c:p.a(0,0),position:p.a(8,344)},name_entry:{size:p.size(136,32),position:p.a(4,312)},healthcolor_text:{label:"Healthbar Color",fontSize:10,c:p.a(0,0),position:p.a(8,250)},healthcolor_entry:{size:p.size(136,32),position:p.a(4,210)},tile:{c:p.a(0,1),position:p.a(55,150),To:M[0].name},healthbtn:{position:p.a(8,
265),size:p.size(128,26),l:Q,c:p.a(0,0),children:{text:{label:"NOT HEALTHBAR",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.k(0,0,0)}}}}},tab1Clickable:{position:p.a(0,376),size:p.size(60,20),l:O,c:p.a(0,0),children:{text:{label:"Icon",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.k(0,0,0)}}},tab2Clickable:{position:p.a(64,376),size:p.size(60,20),l:O,c:p.a(0,0),children:{text:{label:"Details",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.k(0,0,0)}}},okbtn:{position:p.a(76,
8),size:p.size(60,32),l:O,c:p.a(0,0),children:{text:{label:"OK",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.k(0,0,0)}}},cancelbtn:{position:p.a(8,8),size:p.size(60,32),l:O,c:p.a(0,0),children:{text:{label:"Cancel",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.k(0,0,0)}}}}},control_panel:{c:p.a(0,0),position:p.a(0,396),size:p.size(420,32),l:p.p(255,0,0,200),children:{header:{label:"Skill Editor",fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(391,3),size:p.size(26,
26),c:p.a(0,0),l:p.p(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.k(0,0,0),c:p.a(0.5,0.5),position:p.a(13,13)}}}}}}}}},Te:function(){return"SkillsEditor"},Sb:null,ro:null,Be:null,ec:0,ca:null,data:null,s:function(a){this._super();this.data={sprite:{texture:M[0].name,position:{x:0,y:0}},additionalData:{},healthbar:null,name:""};this.uc=M[0].name;this.O=0;this.Be=this.Sb=null;this.ec=0;this.ca=null;this.ja=p.a(0,0);this.Be=[null,352,142];this.ca=a.ca;a&&a.data&&(this.data=a.data)},
kw:function(a){H({saveskills:a+"",skillsdata:this.data})},wv:function(a,c){H({saveskillswhole:c})},lb:function(){this._super();this.b.main_panel.tab1.highlightnode.$(0);this.b.main_panel.tab1.selectednode.$(127);for(var a in M)M[a].name==this.data.sprite.texture&&(this.O=a,this.uc=M[a].name);this.b.main_panel.tab1.textureName.text.ba(this.uc);this.b.main_panel.tab1.tiles.aa(M[this.O].texture);for(a=this.data.sprite.position.x;10<=a;)a--,this.ja.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.ja.y++;
a=p.a(32*(this.data.sprite.position.x-this.ja.x),32*(this.data.sprite.position.y-this.ja.y));this.b.main_panel.tab1.selectednode.F(this.b.main_panel.tab1.tiles.q.x+a.x,this.b.main_panel.tab1.tiles.q.y-(a.y+32));this.b.main_panel.tab2.tile.aa(M[this.O].texture);this.b.main_panel.tab2.tile.nb(p.rect(Math.floor(32*this.data.sprite.position.x),Math.floor(32*this.data.sprite.position.y),32,32));this.Sb=new X(this.b.main_panel.tab2.name_entry,p.size(this.b.main_panel.tab2.name_entry.g().width,this.b.main_panel.tab2.name_entry.g().height),
p.a(0,this.b.main_panel.tab2.name_entry.g().height),this.data.name?this.data.name:"",p.p(100,100,100),p.k(255,255,255));this.Sb.Ye(!0);this.ro=new X(this.b.main_panel.tab2.healthcolor_entry,p.size(this.b.main_panel.tab2.healthcolor_entry.g().width,this.b.main_panel.tab2.healthcolor_entry.g().height),p.a(0,this.b.main_panel.tab2.healthcolor_entry.g().height),this.data.healthbar?this.data.healthbar:"",p.p(100,100,100),p.k(255,255,255));this.ro.Ye(!0);this.b.main_panel.tab2.healthbtn.o(Q);this.b.main_panel.tab2.healthbtn.text.ba("NOT HEALTHBAR");
null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.o(P),this.b.main_panel.tab2.healthbtn.text.ba("IS HEALTHBAR"));this.dg(1);this.Fb()},oU:function(){},Kb:function(a){if(this.ca){var c=this.ca;!0!=a&&this.ca.xf(function(){c.Hg(null)})}},Bh:function(a){if(1==this.ec&&(this.b.main_panel.tab1.highlightnode.$(0),a=this.b.main_panel.tab1.tiles.wb(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.g().width&&a.y<=this.b.main_panel.tab1.tiles.g().height))return a.x=a.x-
a.x%32+16,a.y=a.y-a.y%32+64,this.b.main_panel.tab1.highlightnode.$(127),this.b.main_panel.tab1.highlightnode.F(a),!0},dg:function(a){a!=this.ec&&(this.b.main_panel.da(this.Be[a],this.b.main_panel.g().height),this.b.control_panel.da(this.Be[a],this.b.control_panel.g().height),this.b.main_panel.tab2.name_entry.Eb(this.b.main_panel.tab2.name_entry.q.A-1E3),this.b.main_panel.tab2.healthcolor_entry.Eb(this.b.main_panel.tab2.healthcolor_entry.q.A-1E3),this.b.main_panel.tab2.healthcolor_text.u(!1),this.ec=
a,this.b.main_panel.tab1.u(!1),this.b.main_panel.tab2.u(!1),this.b.main_panel.tab1Clickable.o(O),this.b.main_panel.tab2Clickable.o(O),this.b.main_panel["tab"+a].u(!0),this.b.main_panel["tab"+a+"Clickable"].o(p.p(255,255,0,255)),this.b.control_panel.exitBtn.Eb(this.Be[a]-29));2==a&&(this.b.main_panel.tab2.name_entry.Eb(4),null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthcolor_entry.Eb(4),this.b.main_panel.tab2.healthcolor_text.u(!0)))},Fb:function(){this.xe(this.Fb);
this.b.main_panel.tab1.tiles.Q()&&!0==this.b.main_panel.tab1.tiles.Q().dc&&(this.Tg(this.Fb),this.b.main_panel.tab1.tiles.nb(p.rect(Math.floor(32*this.ja.x),Math.floor(32*this.ja.y),320>M[this.O].texture.g().width?M[this.O].texture.g().width:320,256>M[this.O].texture.g().height?M[this.O].texture.g().height:256)))},Db:function(a){if(this._super(a))return!0;this.wf=null;a=a.X;var c=this.b.main_panel.wb(a);if(R(this.b.main_panel.tab1Clickable,c))return this.dg(1),!0;if(R(this.b.main_panel.tab2Clickable,
c))return this.dg(2),!0;if(R(this.b.main_panel.okbtn,c)){if(null==this.Sb.ma()||""==this.Sb.ma())return!0;this.tj=!0;this.data.name=this.Sb.ma();if(null!=this.ro.ma()||""!=this.ro.ma())this.data.healthbar=this.ro.ma();this.ca.Hg(this.data);return!0}if(R(this.b.main_panel.cancelbtn,c)){this.tj=!0;var d=this.ca;this.ca.xf(function(){d.Hg(null)});return!0}if(1==this.ec){if(R(this.b.main_panel.tab1.leftbtn,c))return 264<M[this.O].texture.g().width&&0<this.ja.x&&(this.ja.x--,this.Fb()),!0;if(R(this.b.main_panel.tab1.rightbtn,
c))return 320<M[this.O].texture.g().width&&this.ja.x<(M[this.O].texture.g().width-320)/32&&(this.ja.x++,this.Fb()),!0;if(R(this.b.main_panel.tab1.upbtn,c))return 320<M[this.O].texture.g().height&&0<this.ja.y&&(this.ja.y--,this.Fb()),!0;if(R(this.b.main_panel.tab1.downbtn,c))return 320<M[this.O].texture.g().height&&this.ja.y<(M[this.O].texture.g().height-320)/32&&(this.ja.y++,this.Fb()),!0;if(R(this.b.main_panel.tab1.texturerightbtn,c))return this.es(),!0;if(R(this.b.main_panel.tab1.textureleftbtn,
c))return this.fs(),!0;c=this.b.main_panel.tab1.tiles.wb(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.g().width&&c.y<=this.b.main_panel.tab1.tiles.g().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+64;this.b.main_panel.tab1.selectednode.$(0);if(this.b.main_panel.tab1.selectednode.q.A!=c.x||this.b.main_panel.tab1.selectednode.q.I!=c.y)this.b.main_panel.tab1.selectednode.$(127),this.b.main_panel.tab1.selectednode.F(c);a=p.a((this.b.main_panel.tab1.selectednode.q.A-16)/32+this.ja.x,8-(this.b.main_panel.tab1.selectednode.q.I-
64)/32+this.ja.y-1);this.b.main_panel.tab2.tile.nb(p.rect(32*a.x,32*a.y,32,32));this.data.sprite.position=a;console.log("TOUCHED");return!0}}return 2==this.ec&&R(this.b.main_panel.tab2.healthbtn,c)?(this.MU(),!0):!1},MU:function(){this.b.main_panel.tab2.healthcolor_entry.Eb(this.b.main_panel.tab2.healthcolor_entry.q.A-1E3);this.b.main_panel.tab2.healthcolor_text.u(!1);null!=this.data.healthbar&&""!=this.data.healthbar?(this.data.healthbar="",this.ro.Sg("")):(this.data.healthbar="FF0000",this.b.main_panel.tab2.healthcolor_entry.Eb(4),
this.b.main_panel.tab2.healthcolor_text.u(!0));this.b.main_panel.tab2.healthbtn.o(Q);this.b.main_panel.tab2.healthbtn.text.ba("NOT HEALTHBAR");null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.o(P),this.b.main_panel.tab2.healthbtn.text.ba("IS HEALTHBAR"))},es:function(){this.O>=M.length-1&&(this.O=-1);this.O++;this.b.main_panel.tab1.tiles.aa(M[this.O].texture);this.b.main_panel.tab2.tile.aa(M[this.O].texture);this.uc=M[this.O].name;this.b.main_panel.tab1.textureName.text.ba(this.uc);
this.data.sprite.texture=this.uc;this.ja=p.a(0,0);this.Fb()},fs:function(){0>=this.O&&(this.O=M.length);this.O--;this.b.main_panel.tab1.tiles.aa(M[this.O].texture);this.b.main_panel.tab2.tile.aa(M[this.O].texture);this.uc=M[this.O].name;this.b.main_panel.tab1.textureName.text.ba(this.uc);this.ja=p.a(0,0);this.Fb()}});PopupList=Popup.extend({Eg:null,Xc:[],sB:null,Yr:!1,nw:-1,Kb:function(){this.ca&&this.ca.Tb(!0)},s:function(a){this._super();this.Eg=null;this.Xc=[];this.sB=null;this.Yr=!1;this.nw=-1;this.Eg=a.Wl;a.list&&(this.Xc=a.list);this.sB=a.name;this.ca=a.ca},Ue:function(){var a={},c;for(c in this.Xc)null==this.Xc[c]?this.Xc.splice(c,1):(null!=this.ca?(a["useElement"+c]={size:p.size(32,26),l:p.p(0,255,0,200),position:p.a(0,302-30*c),children:{content:{label:"Use",fontSize:20,c:p.a(0.5,0.5),position:p.a(16,
13)}}},a["element"+c]={size:p.size(116,26),l:p.p(140,140,140,200),position:p.a(32,302-30*c),children:{content:{label:this.Xc[c].name,fontSize:20,c:p.a(0.5,0.5),position:p.a(58,13)}}}):a["element"+c]={size:p.size(148,26),l:p.p(140,140,140,200),position:p.a(0,302-30*c),children:{content:{label:this.Xc[c].name,fontSize:20,c:p.a(0.5,0.5),position:p.a(79,13)}}},a["delElement"+c]={size:p.size(32,26),l:p.p(255,0,0,200),position:p.a(148,302-30*c),children:{content:{label:"Del",fontSize:20,c:p.a(0.5,0.5),
position:p.a(16,13)}}});return{panels:{position:p.a(300,200),children:{main_panel:{c:p.a(0,0),size:p.size(180,328),l:p.p(255,255,255,200),children:{list:{children:a},addButton:{size:p.size(90,26),l:p.p(140,140,140,200),position:p.a(45,302-30*this.Xc.length),children:{content:{label:"+",fontSize:20,c:p.a(0.5,0.5),position:p.a(45,13)}}}}},control_panel:{c:p.a(0,0),position:p.a(0,328),size:p.size(180,32),l:p.p(255,0,0,200),children:{header:{label:this.sB,fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},
exitBtn:{position:p.a(151,3),size:p.size(26,26),c:p.a(0,0),l:p.p(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.k(0,0,0),c:p.a(0.5,0.5),position:p.a(13,13)}}}}}}}}},Db:function(a){if(this._super(a))return!0;this.wf=null;a=this.b.main_panel.wb(a.X);if(!1==this.Yr){for(var c in this.Xc){if(R(this.b.main_panel.list["element"+c],a))return this.Yr=!0,this.Eg.s({ca:this,data:this.Xc[c]}),this.Y.t(this.Eg),this.Tb(!1),this.Eg.lb(),this.nw=c+"",!0;if(R(this.b.main_panel.list["delElement"+
c],a))return this.jP(c),!0;if(this.ca&&R(this.b.main_panel.list["useElement"+c],a))return this.ca.rU(c,this.Xc[c]),!0}if(R(this.b.main_panel.addButton,a))return this.Yr=this.KF=!0,this.nw=this.Xc.length,this.Eg.s({ca:this,data:null}),this.Tb(!1),this.Y.t(this.Eg),this.Eg.lb(),!0}},Hg:function(a){a&&(this.Eg.kw(this.nw),this.KF&&(this.Xc.push(a),this.b.R(),this.b=Ba(this),this.t(this.b)));this.Tb(!0);this.Yr=this.KF=!1;var c=this;this.xf(function(){c.Eg.Kb(!0);c.Eg.R()})},jP:function(a){this.Xc.splice(a,
1);this.Eg.wv(a,this.Xc);this.b.R();this.b=Ba(this);this.t(this.b)}});Warpeditor=null;
WarpEditor=Popup.extend({Te:function(){return"WarpEditor"},kw:function(a){H({savewarps:a+"",warpdata:this.data})},wv:function(a,c){H({savewarpswhole:c})},Ue:function(){return{panels:{position:p.a(300,200),children:{main_panel:{c:p.a(0,0),size:p.size(180,160),l:p.p(100,255,100,200),children:{okbtn:{position:p.a(100,16),size:p.size(60,32),l:p.p(255,255,255,255),c:p.a(0,0),children:{text:{label:"OK",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.k(0,0,0)}}},cancelbtn:{position:p.a(20,16),size:p.size(60,
32),l:p.p(255,255,255,255),c:p.a(0,0),children:{text:{label:"Cancel",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.k(0,0,0)}}},namelbl:{label:"Name of warp.",fontSize:12,c:p.a(0,0),position:p.a(20,140),color:p.k(0,0,0)},nameEntry:{position:p.a(16,110),size:p.size(120,30)},mapnumlbl:{label:"Map #",fontSize:12,c:p.a(0,0),position:p.a(20,90),color:p.k(0,0,0)},mapNumEntry:{position:p.a(16,60),size:p.size(40,30)},mapxlbl:{label:"x",fontSize:12,c:p.a(0,0),position:p.a(80,90),color:p.k(0,0,0)},
mapXEntry:{position:p.a(76,60),size:p.size(36,30)},mapylbl:{label:"y",fontSize:12,c:p.a(0,0),position:p.a(130,90),color:p.k(0,0,0)},mapYEntry:{position:p.a(126,60),size:p.size(36,30)}}},control_panel:{c:p.a(0,0),position:p.a(0,160),size:p.size(180,32),l:p.p(255,0,0,200),children:{header:{label:"Warp Editor",fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(151,3),size:p.size(26,26),c:p.a(0,0),l:p.p(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.k(0,0,0),c:p.a(0.5,
0.5),position:p.a(13,13)}}}}}}}}},Sb:null,Ao:null,Bo:null,Co:null,ca:null,data:null,s:function(a){this._super();this.ca=this.Co=this.Bo=this.Ao=this.Sb=null;this.data={mapTo:0,position:0,name:""};a.data&&(this.data=a.data);this.ca=a.ca},lb:function(){this._super();var a=this.data.position%U,c=Math.floor(this.data.position/U);this.Sb=new X(this.b.main_panel.nameEntry,p.size(this.b.main_panel.nameEntry.g().width,this.b.main_panel.nameEntry.g().height),p.a(0,this.b.main_panel.nameEntry.g().height),this.data.name,
p.p(100,100,100),p.k(255,255,255));this.Sb.Ye(!0);this.Ao=new X(this.b.main_panel.mapNumEntry,p.size(this.b.main_panel.mapNumEntry.g().width,this.b.main_panel.mapNumEntry.g().height),p.a(0,this.b.main_panel.mapNumEntry.g().height),""+this.data.mapTo,p.p(100,100,100),p.k(255,255,255));this.Ao.Ye(!0);this.Bo=new X(this.b.main_panel.mapXEntry,p.size(this.b.main_panel.mapXEntry.g().width,this.b.main_panel.mapXEntry.g().height),p.a(0,this.b.main_panel.mapXEntry.g().height),""+a,p.p(100,100,100),p.k(255,
255,255));this.Bo.Ye(!0);this.Co=new X(this.b.main_panel.mapYEntry,p.size(this.b.main_panel.mapYEntry.g().width,this.b.main_panel.mapYEntry.g().height),p.a(0,this.b.main_panel.mapYEntry.g().height),""+c,p.p(100,100,100),p.k(255,255,255));this.Co.Ye(!0)},Db:function(a){if(this._super(a))return!0;this.wf=null;a=this.b.main_panel.wb(a.X);if(R(this.b.main_panel.okbtn,a)){if(null==this.Sb.ma()||""==this.Sb.ma()||null==this.Ao.ma()||""==this.Ao.ma()||null==this.Bo.ma()||""==this.Bo.ma()||null==this.Co.ma()||
""==this.Co.ma())return!0;this.tj=!0;this.data.position=V(parseInt(this.Bo.ma()),Ea-parseInt(this.Co.ma()));this.data.mapTo=parseInt(this.Ao.ma());this.data.name=this.Sb.ma();this.ca.Hg(this.data);return!0}if(R(this.b.main_panel.cancelbtn,a)){this.tj=!0;var c=this.ca;this.ca.xf(function(){c.Hg(null)});return!0}},Kb:function(a){var c=this.ca;a||this.ca.xf(function(){c.Hg(null)})}});Signeditor=null;
SignEditor=Popup.extend({Te:function(){return"SignEditor"},kw:function(a){H({savesigns:a+"",signsdata:this.data})},wv:function(a,c){H({savesignswhole:c})},Ue:function(){return{panels:{position:p.a(300,200),children:{main_panel:{c:p.a(0,0),size:p.size(142,256),l:p.p(100,255,100,200),children:{okbtn:{position:p.a(74,16),size:p.size(60,32),l:p.p(255,255,255,255),c:p.a(0,0),children:{text:{label:"OK",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.k(0,0,0)}}},cancelbtn:{position:p.a(8,16),size:p.size(60,
32),l:p.p(255,255,255,255),c:p.a(0,0),children:{text:{label:"Cancel",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.k(0,0,0)}}},namelbl:{label:"Name of sign.",fontSize:12,c:p.a(0,0),position:p.a(6,238),color:p.k(0,0,0)},nameEntry:{position:p.a(4,206),size:p.size(120,30)},signlbl:{label:"Contents",fontSize:12,c:p.a(0,0),position:p.a(6,190),color:p.k(0,0,0)},signEntry:{position:p.a(4,60),size:p.size(120,128)}}},control_panel:{c:p.a(0,0),position:p.a(0,256),size:p.size(142,32),l:p.p(255,0,0,
200),children:{header:{label:"Sign Editor",fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(112,3),size:p.size(26,26),c:p.a(0,0),l:p.p(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.k(0,0,0),c:p.a(0.5,0.5),position:p.a(13,13)}}}}}}}}},Sb:null,Ro:null,ca:null,data:null,s:function(a){this._super();this.ca=this.Ro=this.Sb=null;this.data={label:"",name:""};a.data&&(this.data=a.data);this.ca=a.ca},lb:function(){this._super();this.Sb=new X(this.b.main_panel.nameEntry,
p.size(this.b.main_panel.nameEntry.g().width,this.b.main_panel.nameEntry.g().height),p.a(0,this.b.main_panel.nameEntry.g().height),this.data.name,p.p(100,100,100),p.k(255,255,255));this.Sb.Ye(!0);this.Ro=new X(this.b.main_panel.signEntry,p.size(this.b.main_panel.signEntry.g().width,this.b.main_panel.signEntry.g().height),p.a(0,this.b.main_panel.signEntry.g().height),""+this.data.label,p.p(100,100,100),p.k(255,255,255),!0);this.Ro.Ye(!0)},Db:function(a){if(this._super(a))return!0;this.wf=null;a=this.b.main_panel.wb(a.X);
if(R(this.b.main_panel.okbtn,a)){if(null==this.Sb.ma()||""==this.Sb.ma()||null==this.Ro.ma()||""==this.Ro.ma())return!0;this.tj=!0;this.data.label=this.Ro.ma();this.data.name=this.Sb.ma();this.ca.Hg(this.data);return!0}if(R(this.b.main_panel.cancelbtn,a)){this.tj=!0;var c=this.ca;this.ca.xf(function(){c.Hg(null)});return!0}},Kb:function(a){var c=this.ca;a||this.ca.xf(function(){c.Hg(null)})}});var Ja=Ka.extend({ctor:function(){this._super()},fJ:function(){this._super()},lb:function(){this._super()},Kb:function(){this._super()},Db:function(a){p.xb(this.b.health_panel.Ua(),a.X)&&x.d().am("Game")},s:function(){var a=p.T.create("ITS WOKKIN!","Arial",16);a.o(p.k(0,0,0));a.F(p.a(200,200));this.t(a);this._super()}});var La=new XMLHttpRequest;La.open("GET","news.txt",!1);La.send(null);var Ma=La.responseText;
Login=Ka.extend({SB:!1,hs:!1,s:function(a){this._super();x.Or(this);this.Gr=new X(this.b.name_entry,p.size(this.b.name_entry.g().width,this.b.name_entry.g().height),p.a(0,this.b.name_entry.g().height),"Enter Name",p.p(100,100,100),p.k(255,255,255));a&&(a.eH&&(v=[],H({logout:!0})),this.ym(a.TB));this.xe(this.mC)},Xv:function(a){switch(a){case "ENTER":!1==this.hs&&this.SB?(this.hs=!0,H({login:!0,username:this.Gr.ma()})):this.wB("Server is offline!")}},ym:function(a){this.SB=a;!0==a?(this.b.server_activity.label.ba("Server: Online"),
this.b.server_activity.label.o(p.k(0,255,0))):(this.b.server_activity.label.ba("Server: Offline"),this.b.server_activity.label.o(p.k(255,0,0)))},mC:function(){if(0<v.length)for(var a=v.length-1;0<=a;a--)reactToSocketMessage(v[a]),v.splice(a,1)},Ue:function(){return{panels:{children:{name_entry:{size:p.size(300,30),position:p.a(325,300)},go_button:{position:p.a(420,220),size:p.size(120,40),l:p.p(0,0,0,255),children:{label:{label:"Play",fontSize:20,color:p.k(255,255,255),c:p.a(0.5,0.5),position:p.a(60,
20)}}},news_message:{label:Ma,fontSize:14,color:p.k(0,0,0),c:p.a(0,1),position:p.a(30,610)},server_message:{label:"",fontSize:16,color:p.k(127,0,0),c:p.a(0,0),position:p.a(327,325)},server_activity:{position:p.a(860,620),size:p.size(100,20),l:p.p(255,255,0,127),children:{label:{label:"Server: Offline",color:p.k(255,0,0),c:p.a(0.5,0.5),position:p.a(50,10)}}}}}}},Db:function(a){if(null!=this.Gr.ma()&&p.xb(p.rect(this.b.go_button.q.A,this.b.go_button.q.I,this.b.go_button.g().width,this.b.go_button.g().height),
a.X))return!1==this.hs&&this.SB?(this.hs=!0,H({login:!0,username:this.Gr.ma()})):this.wB("Server is offline!"),!0},IR:function(){x.d().am("Game",{dJ:this.Gr.ma(),map:1})},wB:function(a){this.b.server_message.ba(a);this.hs=!1},Zc:function(){},ve:function(){},d5:function(){x.d().am("Game",{dJ:this.Gr.ma()})}});var Ja=null,Na=Ka.extend({ctor:function(){this._super()},Ue:function(){return{panels:{children:{logout_button:{position:p.a(860,620),size:p.size(100,20),l:p.p(0,0,0,127),children:{Logout:{label:"Logout",color:p.k(255,255,255),position:p.a(50,10)}}}}}}},ZP:function(){return{panels:{children:{chattoggle:{position:p.a(410,0),size:p.size(64,64),l:p.p(255,255,255,120),children:{label:{label:"Chat",color:p.k(0,0,0),position:p.a(32,32)}}},inventorytoggle:{position:p.a(484,0),size:p.size(64,64),l:p.p(255,
255,255,120),children:{label:{label:"Inventory",color:p.k(0,0,0),position:p.a(32,32)}}},equipmenttoggle:{position:p.a(558,0),size:p.size(64,64),l:p.p(255,255,255,120),children:{label:{label:"Equipment",color:p.k(0,0,0),position:p.a(32,32)}}},upbutton:{position:p.a(632,0),size:p.size(64,64),l:p.p(255,255,255,120),children:{label:{label:"Up",color:p.k(0,0,0),position:p.a(32,32)}}},downbutton:{position:p.a(706,0),size:p.size(64,64),l:p.p(255,255,255,120),children:{label:{label:"Down",color:p.k(0,0,0),
position:p.a(32,32)}}},leftbutton:{position:p.a(780,0),size:p.size(64,64),l:p.p(255,255,255,120),children:{label:{label:"Left",color:p.k(0,0,0),position:p.a(32,32)}}},rightbutton:{position:p.a(854,0),size:p.size(64,64),l:p.p(255,255,255,120),children:{label:{label:"Right",color:p.k(0,0,0),position:p.a(32,32)}}},hidebutton:{position:p.a(928,0),size:p.size(32,64),l:p.p(255,255,255,120),children:{label:{label:"\x3c\x3c",color:p.k(0,0,0),position:p.a(16,32)}}}}}}},ym:function(a){!1==a&&(this.LA(),x.d().am("Login",
{TB:!1}))},LA:function(){D.kd();D.Qr();B.kd();B.Qr();C.kd();C.Qr()},Db:function(a){if(p.xb(p.rect(this.b.logout_button.q.A,this.b.logout_button.q.I,this.b.logout_button.g().width,this.b.logout_button.g().height),a.X))return this.LA(),x.d().am("Login",{eH:!0,TB:!0}),!0;x.Or(this);if(this.Ra){if(p.xb(this.Ra.upbutton.Ua(),a.X)&&this.Ra.upbutton.ta)return K[38]=!0;if(p.xb(this.Ra.downbutton.Ua(),a.X)&&this.Ra.downbutton.ta)return K[40]=!0;if(p.xb(this.Ra.leftbutton.Ua(),a.X)&&this.Ra.leftbutton.ta)return K[37]=
!0;if(p.xb(this.Ra.rightbutton.Ua(),a.X)&&this.Ra.rightbutton.ta)return K[39]=!0;if(p.xb(this.Ra.chattoggle.Ua(),a.X)&&this.Ra.chattoggle.ta)return B.e.wa.path=null,C.ZG()?C.dB():C.show(),!0;if(p.xb(this.Ra.inventorytoggle.Ua(),a.X)&&this.Ra.inventorytoggle.ta)return B.e.wa.path=null,null==Inventory||Inventory.Y||(Equipment=null),Inventory?(Inventory.Kb(),Inventory.R(),Inventory=null):(Inventory=new InventoryPanel,Inventory.s(),Inventory.lb(),this.t(Inventory)),!0;if(p.xb(this.Ra.equipmenttoggle.Ua(),
a.X)&&this.Ra.equipmenttoggle.ta)return B.e.wa.path=null,null==Equipment||Equipment.Y||(Equipment=null),Equipment?(Equipment.Kb(),Equipment.R(),Equipment=null):(Equipment=new EquipmentPanel,Equipment.s(),Equipment.lb(),this.t(Equipment)),!0;if(p.xb(this.Ra.hidebutton.Ua(),a.X)&&this.Ra.hidebutton.ta)return this.II(!0==this.Ra.nR?!1:!0),K[37]=!1,K[38]=!1,K[39]=!1,K[34]=!1,!0}},CU:function(a){null==Sign||Sign.Y||(Sign=null);Sign?(Sign.Kb(),Sign.R(),Sign=null):(Sign=new SignPanel,Sign.s(a),Sign.lb(),
this.t(Sign))},ve:function(a){if(this.Ra){if(p.xb(this.Ra.upbutton.Ua(),a.X)&&this.Ra.upbutton.ta)return K[38]=!1,!0;if(p.xb(this.Ra.downbutton.Ua(),a.X)&&this.Ra.downbutton.ta)return K[40]=!1,!0;if(p.xb(this.Ra.leftbutton.Ua(),a.X)&&this.Ra.leftbutton.ta)return K[37]=!1,!0;if(p.xb(this.Ra.rightbutton.Ua(),a.X)&&this.Ra.rightbutton.ta)return K[39]=!1,!0}},Xv:function(a){switch(a){case "C":C.ZG()?C.dB():C.show();break;case "ENTER":C.pB()||C.VB(!0);break;case "SPACE":B.e.wa.fR();Inventory&&Inventory.bf();
break;case "CTRL":B.e.wa.eR();break;case "ESC":this.LA();x.d().am("Login",{eH:!0,TB:!0});break;case "I":null==Inventory||Inventory.Y||(Inventory=null);Inventory?(Inventory.Kb(),Inventory.R(),Inventory=null):(Inventory=new InventoryPanel,Inventory.s(),Inventory.lb(),this.t(Inventory));break;case "E":null==Equipment||Equipment.Y||(Equipment=null);Equipment?(Equipment.Kb(),Equipment.R(),Equipment=null):(Equipment=new EquipmentPanel,Equipment.s(),Equipment.lb(),this.t(Equipment));break;case "S":null==
Skills||Skills.Y||(Skills=null),Skills?(Skills.Kb(),Skills.R(),Skills=null):(Skills=new SkillsPanel,Skills.s(),Skills.lb(),this.t(Skills))}},vB:function(a){var c=B.e.wa.uh();B.e.wa.path=null;if(0==c.x%1&&0==c.y%1)switch(a){case "RIGHTARROW":B.e.wa.js(c.x+1,c.y);break;case "LEFTARROW":B.e.wa.js(c.x-1,c.y);break;case "UPARROW":B.e.wa.js(c.x,c.y+1);break;case "DOWNARROW":B.e.wa.js(c.x,c.y-1)}},II:function(a){this.Ra&&(this.Ra.nR=a,this.Ra.upbutton.u(a),this.Ra.downbutton.u(a),this.Ra.leftbutton.u(a),
this.Ra.rightbutton.u(a),this.Ra.chattoggle.u(a),this.Ra.inventorytoggle.u(a),this.Ra.equipmenttoggle.u(a),this.Ra.hidebutton.label.ba(!0==a?"\x3e\x3e":"\x3c\x3c"))},bT:function(a){if(a)switch(p.log(a),a){case "/editmap":null==Mapeditor||Mapeditor.Y||(Mapeditor=null);Mapeditor?(Mapeditor.Kb(),Mapeditor.R(),Mapeditor=null,D.ZB(null)):(Mapeditor=new MapEditor,Mapeditor.s(),Mapeditor.lb(),this.t(Mapeditor),D.ZB(Mapeditor));break;case "/editwarp":null==Warpeditor||Warpeditor.Y||(Warpeditor=null);Warpeditor?
(Warpeditor.Kb(),Warpeditor.R(),Warpeditor=null):(Warpeditor=new PopupList,Warpeditor.s({ca:null,Wl:new WarpEditor,list:ObjectLists.$l(),name:"Warp List"}),Warpeditor.lb(),this.t(Warpeditor));break;case "/editsigns":null==Signeditor||Signeditor.Y||(Signeditor=null);Signeditor?(Signeditor.Kb(),Signeditor.R(),Signeditor=null):(Signeditor=new PopupList,Signeditor.s({ca:null,Wl:new SignEditor,list:ObjectLists.nr(),name:"Sign List"}),Signeditor.lb(),this.t(Signeditor));break;case "/editskills":null==Skillseditor||
Skillseditor.Y||(Skillseditor=null);Skillseditor?(Skillseditor.Kb(),Skillseditor.R(),Skillseditor=null):(Skillseditor=new PopupList,Skillseditor.s({ca:null,Wl:new SkillsEditor,list:ObjectLists.oo(),name:"Skills List"}),Skillseditor.lb(),this.t(Skillseditor));break;case "/edititems":null==Itemeditor||Itemeditor.Y||(Itemeditor=null);Itemeditor?(Itemeditor.Kb(),Itemeditor.R(),Itemeditor=null,D.ZB(null)):(Itemeditor=new PopupList,Itemeditor.s({ca:null,Wl:new ItemEditor,list:ObjectLists.ni(),name:"Item List"}),
Itemeditor.lb(),this.t(Itemeditor));break;case "/help":C.showHelp();break;case "/commands":C.BU();break;case "/diceroll":a=Math.floor(6*Math.random()+1);a=B.e.wa.getName()+" threw a dice and got "+a+".";C.Qb(a);H({diceroll:a});break;case "/coinflip":a=1==Math.floor(3*Math.random()+1)?"Heads":"Tails";a=B.e.wa.getName()+" flipped a coin and got "+a+".";C.Qb(a);H({coinflip:a});break;case "/dance":a=B.e.wa.getName()+" dances the dance of his people.";C.Qb(a);H({dance:a});break;case "/afk":B.e.wa.updateStatus("AFK"),
H({afk:!0})}},s:function(a){this._super();this.t(D.create());ObjectLists.d();a={name:a.dJ,uo:!0,So:{health:{Ac:1,value:100,Og:200,Ng:900},mana:{Ac:1,value:100,Og:200,Ng:99}},map:1,Jw:"sprites1.png",Gw:1};B.create(a);D.sO();this.b.R();this.Aw(-20);this.xf(function(){D.d().Hk(a.map)});H({moveTo:B.e.wa.uh().x+B.e.wa.uh().y*U});this.t(C.create());this.t(ua.create());isMobile()&&(this.Ra=Ba(this.ZP(),!0),this.t(this.Ra),this.II(!1));this.t(this.b);this.xe(this.mC);Ja=this},mC:function(){if(0<v.length)for(var a=
0;a<v.length;a++){var c=JSON.parse(v[a]);c.moveTo&&(!B.rj(c.id)||B.rj(c.id)&&!1==B.rj(c.id).si)?(reactToSocketMessage(JSON.stringify(c)),v.splice(a,1)):c.moveTo||(reactToSocketMessage(JSON.stringify(c)),v.splice(a,1))}}});var Oa=p.qa.extend({fc:null,S_:!1,VB:function(a){a?this.fc.Ma.focus():this.fc.Ma.blur()},pB:function(){return document.activeElement==this.fc.Ma},ba:function(a){this.fc.Sg(a)},YA:function(){return this.fc.ma()},s:function(){p.log("Ovveride inputbox init call if necessary")},ctor:function(a,c,d,e,f,g,h){this.fc=p.dp.create(p.size(c.width,c.height),p.Fe.create(),h);this.fc.Sg(e);this.fc.iP=e;this.fc.JT(p.k(g.i,g.h,g.f));this.fc.TH(p.k(f.i,f.h,f.f));this.fc.F(p.a(d.x,d.y));this.fc.na(0,1);this.fc.Rg(this);
a.t(this.fc);this.s()}});var Pa=Oa.extend({Bv:function(a){a.Sg("")},Cv:function(a,c){c||("/"==a.ma().substring(0,1)?this.aT(a.ma()):0<a.ma().length&&C.Qb(a.ma(),!0));a.Sg(I.Oc.UF)},aT:function(a){x.d().Nc.bT(a)},Dv:function(a,c){a.Sg(c);p.log("chatBox "+this.mE(a)+", TextChanged, text: "+c)},mE:function(){return"chatbox"}}),Z=null,C=p.hc.extend({nj:null,s:function(){this.nj=new Pa(this.b.chat_panel,p.size(this.b.chat_panel.g().width-4,25),p.a(2,this.b.chat_panel.g().height-2),I.Oc.UF,p.k(255,255,255),p.k(0,0,0));this.nj.fc.Y.No(this.nj.fc.q.I+
59)},DF:function(a){for(var c=[],d=0;7>d;d++)c.push(this.b.chat_panel["label"+d].YA());this.b.chat_panel.label0.ba(a);for(d=1;8>d;d++)this.b.chat_panel["label"+d].ba(c[d-1])},Ue:function(){return{panels:{children:{chat_panel:{size:p.size(400,150),l:p.p(0,0,0,255),opacity:127,position:p.a(0,-200),children:{label7:{label:"",position:p.a(5,0),c:p.a(0,0)},label6:{label:"",position:p.a(5,15),c:p.a(0,0)},label5:{label:"",position:p.a(5,30),c:p.a(0,0)},label4:{label:"",position:p.a(5,45),c:p.a(0,0)},label3:{label:"",
position:p.a(5,60),c:p.a(0,0)},label2:{label:"",position:p.a(5,75),c:p.a(0,0)},label1:{label:"",position:p.a(5,90),c:p.a(0,0)},label0:{label:"",position:p.a(5,105),c:p.a(0,0)}}}}}}}});C.create=function(){Z||(Z=new C,Z.b=Ba(Z),Z.t(Z.b),Z.s(),C.dB(),C.DU());return Z};C.d=function(){return Z};C.Qb=function(a,c){c?(H({chatMessage:a}),Z.DF(B.e.wa.getName()+": "+a)):Z.DF(a)};C.show=function(){Z.nj.fc.Y.No(0)};C.dB=function(){Z.nj.fc.Y.No(-Z.nj.fc.q.I+59)};C.ZG=function(){return 0!=Z.nj.fc.Y.q.I?!1:!0};
C.VB=function(a){Z.nj.VB(a)};C.pB=function(){return Z.nj.pB()};C.showHelp=function(){C.Qb(I.Oc.KQ);C.Qb(I.Oc.LQ);C.Qb(I.Oc.MQ);C.Qb(I.Oc.NQ);C.Qb(I.Oc.OQ)};C.BU=function(){C.Qb(I.Oc.TO);C.Qb(I.Oc.UO);C.Qb(I.Oc.VO);C.Qb(I.Oc.WO)};C.DU=function(){C.Qb(I.Oc.gR)};C.kd=function(){Z.b.R();Z.b=null};C.Qr=function(){Z.R();Z=null};var X=Oa.extend({sr:!1,jH:!1,WF:!1,Bv:function(a){!1==this.WF&&a.Sg("")},Cv:function(a){null==a.ma()||""==a.ma().length&&this.jH?this.sr=!0:0<!a.ma().length?(a.Sg(this.fc.iP),this.sr=!1):this.sr=!0},Dv:function(a,c){a.Sg(c);this.sr=!0},mE:function(){return"name_entry"},ma:function(){return!0==this.sr||!0==this.hP?this.fc.ma():null},Sg:function(a){this.fc.Sg(a)},Ye:function(a){this.hP=a},Sr:function(a){this.jH=a},DT:function(a){this.WF=a},s:function(){}});var x=p.hc.extend({e:null,AA:null,Nc:null,mv:null,s:function(){var a=p.fa.d().Hv();this.AA=p.Lb.create(p.p(255,255,255,255),parseInt(4*a.width),parseInt(4*a.height));this.AA.na(p.a(0,0));this.t(this.AA);this.am("Login",{});this.xe(this.EO);this.$B(!0)},Bh:function(a){a=a.X;this.mv.Bh&&this.mv.Bh(a)},EO:function(){for(var a in K)if(!0==K[a]&&null!=this.Nc){var c=null;a=parseInt(a);switch(a){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";
break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a&&58>a||64<a&&91>a)&&(c=String.fromCharCode(a));null!=c&&this.Nc.vB(c)}},am:function(a,c){null!=this.Nc&&(this.Nc.Kb(),this.Nc.R(),this.Nc=
null);switch(a){case "Login":this.Nc=new Login;break;case "Game":this.Nc=new Na}this.Nc.fJ();this.t(this.Nc,1);this.Nc.MT(a);this.Nc.lb();this.Nc.s(c)},E0:function(){return this.Nc.Te()}});x.d=function(){null==this.e&&(this.e=new x);return this.e};x.Or=function(a){null==this.e&&(this.e=new x);this.e.mv=a};x.Z_=function(){null==this.e&&(this.e=new x);return this.e.mv};new (p.Bi.extend({sv:document.ccConfig,ctor:function(){this._super();p.ps=this.sv.COCOS2D_DEBUG;p.QQ();p.Hk(this.sv.tag);p.Rw.AU().lP()},yO:function(){var a=this.sv,c=p.M.d();p.fa.d().Hv();p.size(960,640);p.size(960,640);var d=p.dd.d();p.Bi.d();d.qI(["res/Graphics"]);p.Vg&&p.Vg.d().B8("res/Audio");c.wT(1);c.Pr(1/a.frameRate);a.test?p.test(a.test):(p.log("++++++++++++++++entry for game++++++++++++"),p.xR(function(a){p.ox.FB(a,function(){document.getElementById("gameCanvas").setAttribute("tabindex",
"0");document.getElementById("gameCanvas").focus();var a=x.d();p.M.d().KH(a);a.s()})}));return!0}}));
//@ sourceMappingURL=sourcemap