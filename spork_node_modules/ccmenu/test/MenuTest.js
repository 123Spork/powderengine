/**
 * Created by Huabin LING on 12/31/13.
 */

var MenuTest = cc.Layer.extend({

    ctor: function() {
        this._super();

        this.setTouchEnabled(true);
        this.setTouchPriority(cc.MENU_HANDLER_PRIORITY + 1);
        this.setTouchMode(cc.TOUCH_ONE_BY_ONE);

        // Sprite Item with sprites
        var spriteNormal = cc.Sprite.create(res.menuitemsprite_png, cc.rect(0,0,115,23));
        var spriteSelected = cc.Sprite.create(res.menuitemsprite_png, cc.rect(0,23,115,23));
        var item1 = cc.MenuItemSprite.create(spriteNormal, spriteSelected, null, this.menuCallback, this);

        // Sprite item with images
        var item2 = cc.MenuItemImage.create(res.SendScoreButton_png, res.SendScoreButtonPressed_png, this.menuCallback2, this);

        // Font Item
        var item3 = cc.MenuItemFont.create("Font item", this.menuCallback3.bind(this));
        item3.setFontSize(20);
        item3.setFontName("Arial");

        cc.MenuItemFont.setFontName("Helvetica");
        cc.MenuItemFont.setFontSize(32);
        var item4 = cc.MenuItemFont.create("Disabled item", this.menuCallback4, this);
        item4.setEnabled(false);

        var item5 = cc.MenuItemFont.create("Close", this.menuCallback5, this);

        var menu = cc.Menu.create( item1, item2, item3, item4, item5);
        menu.alignItemsVertically();
        var winSize = cc.Director.getInstance().getWinSize();
        menu.setPosition(winSize.width/2, winSize.height/2);
        this.addChild(menu);
    },

    menuCallback: function() {
        logTest("Atlas Sprite clicked");
    },

    menuCallback2: function() {
        logTest("Send Scores clicked");
    },

    menuCallback3: function() {
        logTest("Font item clicked");
    },

    menuCallback4: function() {
        logTest("Disabled item clicked, this should never appear");
    },

    menuCallback5: function() {
        logTest("Close item clicked");
    }
});

MenuTest.create = function() {
    var layer = new MenuTest();
    return layer;
};