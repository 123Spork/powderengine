var b,aa={n0:"2D Circle Graphic/TOWNBOT2.bmp",o0:"2D Circle Graphic/TOWNBOT2.png",p0:"2D Circle Graphic/TOWNJNT2.bmp",I0:"2D Circle Graphic/_BACKUP_.bmp",H0:"40x40Tiles.png",f2:"GUI/bank.png",g2:"GUI/bankeditor_icon.png",i2:"GUI/book.png",l2:"GUI/btnDown.png",m2:"GUI/btnLeft.png",n2:"GUI/btnRight.png",o2:"GUI/btnUp.png",H2:"GUI/chat.png",G2:"GUI/chat_icon.png",I2:"GUI/checkbox_checked.png",J2:"GUI/checkbox_uncheck.png",K2:"GUI/close.png",R2:"GUI/copy.png",U2:"GUI/cross_icon.png",a3:"GUI/defaultitem.png",
r3:"GUI/edit.png",s3:"GUI/editor-tab.png",v3:"GUI/equipment.png",u3:"GUI/equipment_icon.png",w3:"GUI/event_panel.png",w7:"GUI/healthbar.png",N7:"GUI/inventory.png",M7:"GUI/inventory_icon.png",C8:"GUI/itemeditor_bg.png",D8:"GUI/itemeditor_icon.png",E8:"GUI/itemeditor_tab1_bg.png",F8:"GUI/itemeditor_tab2_bg.png",G8:"GUI/itemeditor_tab3_bg.png",R8:"GUI/list_panel.png",Y8:"GUI/logout.png",b9:"GUI/mapeditor_icon.png",g9:"GUI/npceditor_icon.png",h9:"GUI/npctalk.png",n$:"GUI/quest_panel.png",o$:"GUI/questeditor_icon.png",
p$:"GUI/quickedit_closed_icon.png",q$:"GUI/quickedit_opened_icon.png",r$:"GUI/quickmenu_closed_icon.png",s$:"GUI/quickmenu_opened_icon.png",Y$:"GUI/save_icon.png",Z$:"GUI/scripteditor_icon.png",$$:"GUI/scripting_list.png",baa:"GUI/selected.png",bca:"GUI/settings_icon.png",cca:"GUI/shopeditor_icon.png",dca:"GUI/signeditor_bg.png",eca:"GUI/signeditor_icon.png",fca:"GUI/signpost.png",gca:"GUI/skilleditor_icon.png",ica:"GUI/skills.png",hca:"GUI/skills_icon.png",mca:"GUI/splash.png",Kca:"GUI/texture_change_left.png",
Lca:"GUI/texture_change_middle.png",Mca:"GUI/texture_change_right.png",Nca:"GUI/tick_icon.png",Xca:"GUI/trash.png",fda:"GUI/use.png",pda:"GUI/warpeditor_bg.png",qda:"GUI/warpeditor_icon.png",p2:"building1.png",F2:"character_graphics.txt",H8:"items1.png",nca:"sprites1.png",Oca:"tile_graphics.txt",Pca:"tiles0.png",Qca:"tiles1.png"};var q=q||{},ba={};q.JU=function(a){var c=q.KD[ba.WH.zF];if(c){for(var d=[],e=0;e<c.length;++e)d.push({src:c[e]});a(d)}else a([])};ba={WH:{zF:"_0"}};q.KD={};q.KD[ba.WH.zF]=[];q.KD.uR=[];q=q||{};function ca(){return arguments.callee.name||arguments.callee.toString().match(/^function ([^(]+)/)[1]}ca.id=0|998*Math.random();ca.oU=0|998*Math.random();
ca.XH=function(a,c,d){for(var e=a.toString(),f=e.substring(e.indexOf("(")+1,e.indexOf(")")),f=f.trim(),e=e.substring(e.indexOf("{")+1,e.lastIndexOf("}"));-1!=e.indexOf("this._super");)var g=e.indexOf("this._super"),h=e.indexOf("(",g),k=e.substring(h+1,e.indexOf(")",h)),k=(k=k.trim())?",":"",l=arguments.callee.nM(),e=e.substring(0,g)+l+"["+d+"]."+c+".call(this"+k+e.substring(h+1);return Function(f,e)};ca.XH.nM=ca;ca.eT=function(){return this.id++};ca.fT=function(){return this.oU++};
(function(){var a=/\b_super\b/,c=document.ccConfig&&document.ccConfig.CLASS_RELEASE_MODE?document.ccConfig.CLASS_RELEASE_MODE:null;c&&console.log("release Mode");q.Na=function(){};q.Na.extend=function(d){function e(){this.tc=ca.fT();this.ctor&&this.ctor.apply(this,arguments)}var f=this.prototype,g=Object.create(f),h=ca.eT();ca[h]=f;var k={writable:!0,enumerable:!1,configurable:!0},l;for(l in d)c&&"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=ca.XH(d[l],l,h),Object.defineProperty(g,
l,k)):"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=function(a,c){return function(){var d=this._super;this._super=f[a];var e=c.apply(this,arguments);this._super=d;return e}}(l,d[l]),Object.defineProperty(g,l,k)):"function"==typeof d[l]?(k.value=d[l],Object.defineProperty(g,l,k)):g[l]=d[l];g.tc=null;e.id=h;k.value=h;Object.defineProperty(g,"__pid",k);e.prototype=g;k.value=e;Object.defineProperty(e.prototype,"constructor",k);e.extend=arguments.callee;e.z7=function(a){for(var c in a)g[c]=
a[c]};return e};Function.prototype.bind=Function.prototype.bind||function(a){var c=this;return function(){var f=Array.prototype.slice.call(arguments);return c.apply(a||null,f)}}})();q.B7=function(a,c){function d(){}d.prototype=c.prototype;a.ey=c.prototype;a.prototype=new d;a.prototype.constructor=a};
q.uR=function(a,c,d){var e=arguments.callee.caller;if(e.ey)return ret=e.ey.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var f=Array.prototype.slice.call(arguments,2),g=!1,h=a.constructor;h;h=h.ey&&h.ey.constructor)if(h.prototype[c]===e)g=!0;else if(g)return h.prototype[c].apply(a,f);if(a[c]===e)return a.constructor.prototype[c].apply(a,f);throw Error("cc.base called from a method of one name to a method of a different name");};
q.N2=function(a,c){a||(a={});for(var d in c)a[d]=c[d];return a};q.kh=function(a,c){this.x=a||0;this.y=c||0};q.MF=function(a,c){this.H=a||0;this.S=c||0;this.sL=function(a){this.H=a};this.tL=function(a){this.S=a}};q.Kd=function(){return new q.MF(0,0)};
Object.defineProperties(q.MF.prototype,{x:{get:function(){return this.H},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0},y:{get:function(){return this.S},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0}});q.E_=function(a,c){q.log("cc.PointMake will be deprecated sooner or later. Use cc.p instead.");return new q.kh(a,c)};
q.a=function(a,c){return{x:a,y:c}};q.o1=q.a;q.Gj=function(){return q.a(0,0)};q.fK=function(a,c){return a&&c?a.x===c.x&&a.y===c.y:!1};q.Hk=function(a,c){this.width=a||0;this.height=c||0};q.NF=function(a,c){this.Ia=a||0;this.xa=c||0;this.jE=function(a){this.Ia=a};this.YD=function(a){this.xa=a}};q.Om=function(){return new q.NF(0,0)};
Object.defineProperties(q.NF.prototype,{width:{get:function(){return this.Ia},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0},height:{get:function(){return this.xa},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0}});q.i0=function(a,c){q.log("cc.SizeMake will be deprecated sooner or later. Use cc.size instead.");return q.size(a,c)};
q.size=function(a,c){return{width:a,height:c}};q.Xa=q.size;q.jm=function(){return q.size(0,0)};q.CH={uV:q.Kd(),kY:q.Om()};Object.defineProperties(q,{jN:{get:function(){return q.CH.uV},configurable:!0},tN:{get:function(){return q.CH.kY},configurable:!0},J_:{get:function(){return q.rect(0,0,0,0)},configurable:!0}});q.jY=function(a,c){return a&&c?a.width==c.width&&a.height==c.height:!1};
q.yg=function(a,c,d,e){var f=arguments.length;if(4===f)this.fd=new q.kh(a||0,c||0),this.Xa=new q.Hk(d||0,e||0);else if(1===f)this.fd=new q.kh(a.fd.x,a.fd.y),this.Xa=new q.Hk(a.Xa.width,a.Xa.height);else if(0===f)this.fd=new q.kh(0,0),this.Xa=new q.Hk(0,0);else if(2===f)this.fd=new q.kh(a.x,a.y),this.Xa=new q.Hk(c.width,c.height);else throw"unknown argument type";};q.Q_=function(a,c,d,e){q.log("cc.RectMake will be deprecated sooner or later. Use cc.rect instead.");return q.rect(a,c,d,e)};
q.rect=function(a,c,d,e){var f=arguments.length;if(0===f)return new q.yg(0,0,0,0);if(1===f)return new q.yg(a.x,a.y,a.width,a.height);if(2===f)return new q.yg(a.x,a.y,c.width,c.height);if(4===f)return new q.yg(a,c,d,e);throw"unknown argument type";};q.za=q.rect;q.wd=function(){return q.rect(0,0,0,0)};q.mK=function(a,c){return a&&c?q.fK(a.fd,c.fd)&&q.jY(a.Xa,c.Xa):!1};q.Tr=function(a){return a?0===a.x&&0===a.y&&0===a.width&&0===a.height:!1};
q.t$=function(a,c){return a&&c?!(a.x>=c.x||a.y>=c.y||a.x+a.width<=c.x+c.width||a.y+a.height<=c.y+c.height):!1};q.In=function(a){return a.x+a.width};q.u$=function(a){return a.x+a.width/2};q.Jl=function(a){return a.x};q.Jn=function(a){return a.y+a.height};q.v$=function(a){return a.y+a.height/2};q.Kl=function(a){return a.y};q.tb=function(a,c){return c.x>=q.Jl(a)&&c.x<=q.In(a)&&c.y>=q.Kl(a)&&c.y<=q.Jn(a)};q.NV=function(a,c){return!(q.In(a)<q.Jl(c)||q.In(c)<q.Jl(a)||q.Jn(a)<q.Kl(c)||q.Jn(c)<q.Kl(a))};
q.w$=function(a,c){return!(a.x+a.width<c.x||c.x+c.width<a.x||a.y+a.height<c.y||c.y+c.height<a.y)};q.Dx=function(a,c){var d=q.rect(0,0,0,0);d.x=Math.min(a.x,c.x);d.y=Math.min(a.y,c.y);d.width=Math.max(a.x+a.width,c.x+c.width)-d.x;d.height=Math.max(a.y+a.height,c.y+c.height)-d.y;return d};q.MV=function(a,c){var d=q.rect(Math.max(q.Jl(a),q.Jl(c)),Math.max(q.Kl(a),q.Kl(c)),0,0);d.width=Math.min(q.In(a),q.In(c))-q.Jl(d);d.height=Math.min(q.Jn(a),q.Jn(c))-q.Kl(d);return d};b=q.yg.prototype;
b.sL=function(a){this.fd.x=a};b.tL=function(a){this.fd.y=a};b.Rs=function(){return this.Xa.width};b.jE=function(a){this.Xa.width=a};b.Ns=function(){return this.Xa.height};b.YD=function(a){this.Xa.height=a};
Object.defineProperties(q.yg.prototype,{x:{get:function(){return this.fd.x},set:function(a){this.sL(a)},enumerable:!0,configurable:!0},y:{get:function(){return this.fd.y},set:function(a){this.tL(a)},enumerable:!0,configurable:!0},width:{get:function(){return this.Rs()},set:function(a){this.jE(a)},enumerable:!0,configurable:!0},height:{get:function(){return this.Ns()},set:function(a){this.YD(a)},enumerable:!0,configurable:!0}});var r=r||{};try{r.localStorage=window.localStorage,window.localStorage.setItem("storage",""),window.localStorage.removeItem("storage")}catch(da){"SECURITY_ERR"!==da.name&&"QuotaExceededError"!==da.name||console.log("Warning: localStorage isn't enabled. Please confirm browser cookie or privacy option"),r.localStorage=function(){}}
Object.defineProperties(r,{w2:{get:function(){var a={canvas:!0};q.Ja.cd&&(a.opengl=!0);"ontouchstart"in document.documentElement||window.navigator.msPointerEnabled?a.touches=!0:"onmouseup"in document.documentElement&&(a.mouse=!0);"onkeyup"in document.documentElement&&(a.keyboard=!0);if(window.DeviceMotionEvent||window.DeviceOrientationEvent)a.accelerometer=!0;return a},enumerable:!0,configurable:!0},aK:{get:function(){var a=navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?!0:!1,c=navigator.userAgent.match(/android/i)||
navigator.platform.match(/android/i)?!0:!1,d=navigator.appVersion;-1!=navigator.appVersion.indexOf("Win")?d="Windows":a?d="iOS":-1!=navigator.appVersion.indexOf("Mac")?d="OS X":-1!=navigator.appVersion.indexOf("X11")?d="UNIX":-1!=navigator.appVersion.indexOf("Linux")?d="Linux":c&&(d="Android");return d},enumerable:!0,configurable:!0},platform:{get:function(){return"browser"},enumerable:!0,configurable:!0},version:{get:function(){return q.Lt},enumerable:!0,configurable:!0}});r.S3=function(){};
r.o3=function(){};r.T$=function(){};q.Lt="Cocos2d-html5-v2.2.2";q.eu=0;q.XE=q.a(0,0);q.tM=0.5;q.mZ=1;q.uN=1;q.gN=0;q.FF=0;q.k0=0;q.l0=0;q.M_=1;q.L_="-hd";q.JN=1;q.Hj=0;q.f0=0;q.i_=0;q.h_=0;q.Sy=1;q.vZ=q.Lt+"-canvas";q.Nw={platform:r.platform};q.n3=function(){for(var a in r)q.log(a+" \x3d "+r[a])};q.Kt=1;q.ZE=1;q.YH=function(a,c){for(var d=["webgl","experimental-webgl","webkit-3d","moz-webgl"],e=null,f=0;f<d.length;++f){try{e=a.getContext(d[f],c)}catch(g){}if(e)break}return e};q.Ja={};q.Ja.IY=["baidubrowser","opera","firefox","chrome","safari"];q.Ja.f9="baidubrowser opera firefox chrome safari ucbrowser qqbrowser mqqbrowser ie".split(" ");
(function(){q.Ja.ky=navigator.userAgent.toLowerCase();q.Ja.platform=navigator.platform.toLowerCase();q.Ja.qj=-1!=q.Ja.ky.indexOf("mobile")||-1!=q.Ja.ky.indexOf("android");q.Ja.type=function(){var a=q.Ja.ky.match(/micromessenger|qqbrowser|mqqbrowser|ucbrowser|360browser|baidubrowser|maxthon|ie|opera|firefox/)||q.Ja.ky.match(/chrome|safari/);return a&&0<a.length?(a=a[0],"micromessenger"==a?"wechat":a):"unknow"}();q.Ja.mode="ie"==q.Ja.type&&document.documentMode;document.ccConfig||(document.ccConfig=
{});q.UB=parseInt(document.ccConfig.renderMode)||0;var a=-1==q.Ja.IY.indexOf(q.Ja.type);1===q.UB||0===q.UB&&(q.Ja.qj||a)?q.Ja.cd=!1:(q.Ja.cd=null!=window.F0,a=document.createElement("Canvas"),a=q.YH(a,{stencil:!0,preserveDrawingBuffer:!0}),q.Ja.cd=null!=a);2!==q.UB||q.Ja.cd||(q.Cz=!0);var a=q.Ja,c;try{c=new (window.AudioContext||window.webkitAudioContext||window.mozAudioContext)?!0:!1}catch(d){c=!1}a.tca=c;q.Ja.z9=function(a){if(this.qj){var c=q.fa.g().bc,d=c.width+"px",c=c.height+"px",h=q.Ck("div");
h.style.backgroundColor="#ffffff";h.style.width=d;h.style.height=c;h.style.MY=1E3;h.style.position="absolute";h.style.top="0px";h.style.left="0px";h.id="cocos2d-browser";var k=q.Ck("iframe");k.src=a;k.style.width=d;k.style.height=c;k.setAttribute("frameborder","no");k.setAttribute("scrolling","no");h.appendChild(k);k.onload=function(){var a=document.createElement("img");a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5OERBMEM3OUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5OERBMEM3QUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjk4REEwQzc3RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjk4REEwQzc4RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+NwBuoAAAA/tJREFUeNrEWF0sW3EUb6+28zFhbGadsBaNhazV+kpDYhFWKRGWbHvwFV5IvPiIFw9evElEPEiWSUgsIWoIglhmUomPxj6aKC0zKVJjtPU5o9j5J7dLdbf33jKc5Jfc3v+v5/+755x7/j1lMoiNBRDh4AO88HvO2m+ACbAC+AJQAyz2JCbBFyMBWQA/xv+3DUAXLuivudhcY4BMwCuAB+NqDPmNAnAAOsCZvQgk4BnjeiwEwAbM2YoQA14yrteQEANgDcML7gXjZgw9OAuJkADu3JAIb7Q/hr+GtCwuLs6LDq+iooLvhBAREhFEl11ZWRne0tIiIeNIpVKv4uJi4dTUVApNt0EY3ohILSIiwqO7u1sql8vD8vLyJJ2dnXH2HDabzczPz3/Y1taWzOfz78XExDxSq9Vyd3d3jMK9F2pWr6lEtLa2RmVnZ4tt7w0NDWlTU1OVtkK7urqSQ0NDzzW5hYWFjcTExAGDwXDkyD+VSkZ7e3tsWlpamP19mUwWplQqk9B1UlKST3NzczxE4K49D4mCiDwn24PyPMjIyHjs6urKIVpLSEgInp6eZsM6Kzw8nEvEMZvNBxC1BbI9KCMhkUgUy8vLRpL1QIFA4EcSyZmcnJzpS4mYnZ3dj46O7p2fn193xIGi/CeiFovlFIp5pqGhYZ5qD1qFiQxCjk1OTsqEQmEAFReloL+/X0sVAadFWE2n02VA+O+TcVZXV01QkO8ODw9P6fjEnO2zvb2936g4XC7XG4rWm65P2iL8/f05kN8nBQUFQkqnGMYcGBjIys3N5dLxjY7ydDrE6urqsNLSUqmbmxuH1tOBkMzMTIHRaNxSqVTmS4soKyvjFRUViTw9PV2dTR901WAOh7M/MjKyeeHCbGpqEhcWFkY5Wl9aWtpUKBRaONziSbsii/Xm5OTk7EIdU6/X7zpaW1xc/Al5HxkfH9/e2dk5rqmpeUrE6+vr06ADzpEIlI5kMjFwPhh5PB5DJBKdK7KDg4Oj2tpaVUdHxw/0eWxszIjyj8Jvy4N60FdVVX2Grnt4dkaowYJESAG3yaLR09Oz5uvrexwbGxuAR2erpKTkI6RqxW5DM6RnLT09PQQV5vDwsDYlJWUU+I4EIDMhEQLAA6q0DA4OrqMCg/c/qL6+XtXY2Kgn4sGJuavRaFbFYrFPeXn5FIj6ReFa64KnIpJOpaMK39vbM9XV1X13lF9kc3Nz+xMTEwZo89s03A4ycRE1N/RjF/WPKgyfDRU39Gu7w1qYyNYAtwDB1yhgGPDBfgzU4bMi7xoEjAI6iWZRdGMGH80Cr2goRlP5W8B7qwBHfw1YO6kEH4yC8EnJ5QKbnuDFh17nr4BPRP9P/BFgAHo7ZNgI9EbHAAAAAElFTkSuQmCC";
h.appendChild(a);a.style.MY=1E3;a.style.position="absolute";a.style.bottom="10px";a.style.right="10px";a.onclick=function(){h.remove()}};(a=document.getElementById(document.ccConfig.tag).parentNode)&&a.appendChild(h)}else window.open(a)}})();q.R_=function(){return"undefined"===q.Cz?!1:q.Cz};
q.Sb=function(a){var c=this==q?document:this;if(a=a instanceof HTMLElement?a:c.querySelector(a))a.find=a.find||q.Sb,a.UC=a.UC||function(a){return this.className.match(RegExp("(\\s|^)"+a+"(\\s|$)"))},a.IH=a.IH||function(a){this.UC(a)||(this.className&&(this.className+=" "),this.className+=a);return this},a.eW=a.eW||function(a){this.UC(a)&&(this.className=this.className.replace(a,""));return this},a.remove=a.remove||function(){this.parentNode&&this.parentNode.removeChild(this);return this},a.kn=a.kn||
function(a){a.appendChild(this);return this},a.GV=a.GV||function(a){a.childNodes[0]?a.insertBefore(this,a.childNodes[0]):a.appendChild(this);return this},a.Wn=a.Wn||function(){this.style[q.Sb.wY]=q.Sb.translate(this.position)+q.Sb.rotate(this.rotation)+q.Sb.scale(this.scale)+q.Sb.Tl(this.Tl);return this},a.position=a.position||{x:0,y:0},a.rotation=a.rotation||0,a.scale=a.scale||{x:1,y:1},a.Tl=a.Tl||{x:0,y:0},a.yE=function(a,c){this.position.x=a;this.position.y=c;this.Wn()},a.rotate=function(a){this.rotation=
a;this.Wn();return this},a.resize=function(a,c){this.scale.x=a;this.scale.y=c;this.Wn();return this},a.iL=function(a,c){this.Tl.x=a;this.Tl.y=c;this.Wn()};return a};switch(q.Ja.type){case "firefox":q.Sb.En="Moz";q.Sb.Xp=!0;break;case "chrome":case "safari":q.Sb.En="webkit";q.Sb.Xp=!0;break;case "opera":q.Sb.En="O";q.Sb.Xp=!1;break;case "ie":q.Sb.En="ms";q.Sb.Xp=!1;break;default:q.Sb.En="webkit",q.Sb.Xp=!0}q.Sb.wY=q.Sb.En+"Transform";
q.Sb.translate=q.Sb.Xp?function(a){return"translate3d("+a.x+"px, "+a.y+"px, 0) "}:function(a){return"translate("+a.x+"px, "+a.y+"px) "};q.Sb.rotate=q.Sb.Xp?function(a){return"rotateZ("+a+"deg) "}:function(a){return"rotate("+a+"deg) "};q.Sb.scale=function(a){return"scale("+a.x+", "+a.y+") "};q.Sb.Tl=function(a){return"skewX("+-a.x+"deg) skewY("+a.y+"deg)"};q.Ck=function(a){return q.Sb(document.createElement(a))};
q.Sb.M3=function(a){var c=0,d=0;do c+=a.offsetLeft,d+=a.offsetTop;while(a=a.offsetParent);return{x:c,y:d}};q.clone=function(a){var c=a.constructor?new a.constructor:{},d;for(d in a){var e=a[d];c[d]="object"!=typeof e||!e||e instanceof q.F||e instanceof HTMLElement?e:q.clone(e)}return c};q.d2=function(){};q.bF=q.bF||!1;
q.gP=function(a){var c=document.getElementById("logInfoList");if(!c){var d=document.createElement("Div");d.setAttribute("id","logInfoDiv");q.canvas.parentNode.appendChild(d);d.setAttribute("width","200");d.setAttribute("height",q.canvas.height);d.style.zIndex="99999";d.style.position="absolute";d.style.top="0";d.style.left="0";c=document.createElement("ul");d.appendChild(c);c.setAttribute("id","logInfoList");c.style.height=q.canvas.height+"px";c.style.color="#fff";c.style.textAlign="left";c.style.listStyle=
"disc outside";c.style.fontSize="12px";c.style.fontFamily="arial";c.style.padding="0 0 0 20px";c.style.margin="0";c.style.textShadow="0 0 3px #000";c.style.zIndex="99998";c.style.position="absolute";c.style.top="0";c.style.left="0";c.style.overflowY="hidden";var e=document.createElement("Div");d.appendChild(e);e.style.width="200px";e.style.height=q.canvas.height+"px";e.style.opacity="0.1";e.style.background="#fff";e.style.border="1px solid #dfdfdf";e.style.borderRadius="8px"}d=document.createElement("li");
d.innerHTML=a;0==c.childNodes.length?c.appendChild(d):c.insertBefore(d,c.childNodes[0])};q.log=function(a){document.ccConfig.dev&&!0==document.ccConfig.dev&&(q.bF?q.gP(a):console.log.apply(console,arguments))};q.o_=function(a){console.log(a)};q.Dt=function(a,c){console.assert?console.assert(a,c):a||c&&alert(c)};q.C7=function(){0==q.Ft?(q.log=function(){},q.LJ=function(){},q.KJ=function(){},q.Dt=function(){}):1==q.Ft?(q.LJ=q.log,q.KJ=function(){}):1<q.Ft&&(q.LJ=q.log,q.KJ=q.log)};q.NM=0;q.LM=1;
q.OM=2;q.RM=3;q.PM=4;q.YM=5;q.XM=6;q.TM=7;q.SM=8;q.QM=9;q.WM=10;q.KM=11;q.UM=12;q.VM=13;
q.zq={RH:8,Dca:9,xC:13,shift:16,V2:17,alt:18,pause:19,x2:20,escape:27,Y9:33,X9:34,end:35,home:36,left:37,$ca:38,right:39,i3:40,G7:45,CZ:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,O:65,n:66,La:67,d:68,p3:69,Ww:70,p:71,h:72,y7:73,I8:74,J8:75,O8:76,m:77,OJ:78,v9:79,a:80,m$:81,q:82,s:83,Cca:84,Va:85,ua:86,ZL:87,x:88,y:89,z:90,i9:96,j9:97,k9:98,l9:99,m9:100,n9:101,o9:102,p9:103,q9:104,r9:105,"*":106,"+":107,"-":109,numdel:110,"/":111,z3:112,D3:113,E3:114,F3:115,G3:116,H3:117,I3:118,J3:119,K3:120,
A3:121,B3:122,C3:123,u9:144,aaa:145,daa:186,",":186,t3:187,"\x3d":187,";":188,M2:188,X2:189,".":190,c$:190,Q3:191,t7:192,"[":219,A9:219,"]":221,L2:221,e2:220,quote:222,kca:32};q.g3=function(a,c,d){if(a)if(c&&"string"==typeof a)c[a](d);else c&&"function"==typeof a?a.call(c,d):a(d)};q.Ii=-1;q.PI=Math.PI;q.BM=parseFloat("3.402823466e+38F");q.qN=q.PI/180;q.sM=180/q.PI;q.IN=4294967295;q.g0=function(a,c,d){if("object"==typeof d&&"undefined"!=typeof d.x&&"undefined"!=typeof d.y){var e=d[a];d[a]=d[c];d[c]=e}else q.log("cc.SWAP is being modified from original macro, please check usage")};q.Q8=function(a,c,d){return a+(c-a)*d};q.I_=function(){return 2*(Math.random()-0.5)};q.H_=function(){return Math.random()};q.Ej=function(a){return a*q.qN};q.ez=function(a){return a*q.sM};
q.im=Number.MAX_VALUE-1;q.Te=q.gN?1:770;q.Se=771;q.Zy=function(a){a.Xc&&(a.Xc.tf(),a.Xc.fh())};q.OZ=function(){};q.BZ=function(){};q.Sh=function(){q.Gh+=1};q.fu=1.192092896E-7;q.ed=q.Sy?function(){return q.fa.g().vm}:function(){return 1};q.iN=function(a){var c=q.ed();return q.a(a.x*c,a.y*c)};q.L0=function(a,c){var d=q.ed();c.H=a.x*d;c.S=a.y*d};q.jz=function(a){var c=q.ed();return q.size(a.width*c,a.height*c)};q.d0=function(a){var c=q.ed();return q.size(a.width/c,a.height/c)};
q.Az=function(a,c){var d=q.ed();c.Ia=a.width/d;c.xa=a.height/d};q.C_=function(a){var c=q.ed();return q.a(a.x/c,a.y/c)};q.Tu=function(a,c){var d=q.ed();c.H=a.x/d;c.S=a.y/d};q.Aq=q.Sy?function(a){var c=q.ed();return q.rect(a.x/c,a.y/c,a.width/c,a.height/c)}:function(a){return a};q.jo=q.Sy?function(a){var c=q.ed();return q.rect(a.x*c,a.y*c,a.width*c,a.height*c)}:function(a){return a};q.ME=function(){if(q.R$==q.Ik){var a=q.ca.getError();a&&q.log("WebGL error "+a)}};q.W_=0;q.V_=1;q.T_=2;q.U_=3;q.X_=4;q.Y_=5;q.S_=6;var Uint8Array=Uint8Array||Array;
if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){var ea=document.createElement("script");ea.type="text/vbscript";ea.textContent='\x3c!-- IEBinaryToArray_ByteStr --\x3e\r\nFunction IEBinaryToArray_ByteStr(Binary)\r\n   IEBinaryToArray_ByteStr \x3d CStr(Binary)\r\nEnd Function\r\nFunction IEBinaryToArray_ByteStr_Last(Binary)\r\n   Dim lastIndex\r\n   lastIndex \x3d LenB(Binary)\r\n   if lastIndex mod 2 Then\r\n       IEBinaryToArray_ByteStr_Last \x3d Chr( AscB( MidB( Binary, lastIndex, 1 ) ) )\r\n   Else\r\n       IEBinaryToArray_ByteStr_Last \x3d ""\r\n   End If\r\nEnd Function\r\n';document.body.appendChild(ea);
q.cG=function(a){for(var c={},d=0;256>d;d++)for(var e=0;256>e;e++)c[String.fromCharCode(d+256*e)]=String.fromCharCode(d)+String.fromCharCode(e);d=IEBinaryToArray_ByteStr(a);a=IEBinaryToArray_ByteStr_Last(a);return d.replace(/[\s\S]/g,function(a){return c[a]})+a}}
q.Vd=q.Na.extend({Vi:null,ll:null,BO:null,qA:null,jp:null,gi:null,$q:"",ctor:function(){this.Vi={};this.ll={};this.gi=[];this.gi.push(this.$q);this.jp=[];this.jp.push("")},j$:function(){this.gi=[]},i4:function(a){a=this.Ge(a);return this.Vi.hasOwnProperty(a)?this.Vi[a]:this.dP(a)},xv:function(){return window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP")},xY:function(a){this.Vi.hasOwnProperty(a)&&delete this.Vi[a]},BV:function(a){a=this.Ge(a);var c=this,d=this.xv();d.open("GET",
a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","x-user-defined"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=q.cG(d.responseBody);e&&(c.Vi[a]=c.jw(e))}else q.Tb.g().Gl(a);q.Tb.g().lg()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dx-user-defined"),d.onload=function(){var e=d.responseText;e?c.Vi[a]=c.jw(e):q.Tb.g().Gl(a);q.Tb.g().lg()});d.send(null)},h$:function(a,c){this.Vi[c]=a;
q.Tb.g().lg()},dP:function(a){var c=this.xv();c.open("GET",a,!1);var d=null;if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){c.setRequestHeader("Accept-Charset","x-user-defined");c.send(null);if(200!=c.status)return null;if(c=q.cG(c.responseBody))d=this.jw(c),this.Vi[a]=d}else{c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dx-user-defined");c.send(null);if(!c.responseText||200!=c.status&&0!=c.status)return null;d="undefined"!==typeof VBArray?(new VBArray(c.responseBody)).toArray():
this.jw(c.responseText);this.Vi[a]=d}return d},jw:function(a){if(!a)return null;for(var c=new Uint8Array(a.length),d=0;d<a.length;d++)c[d]=a.charCodeAt(d)&255;return c},zY:function(a){a=this.Ge(a);this.ll.hasOwnProperty(a)&&delete this.ll[a]},DV:function(a){a=this.Ge(a);var c=this,d=this.xv();d.open("GET",a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","utf-8"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=
d.responseText;e&&(c.ll[a]=e)}else q.Tb.g().Gl(a);q.Tb.g().lg()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dutf-8"),d.onload=function(){d.responseText?c.ll[a]=d.responseText:q.Tb.g().Gl(a);q.Tb.g().lg()});d.send(null)},fP:function(a){var c=this.xv();c.open("GET",a,!1);var d=null;/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?c.setRequestHeader("Accept-Charset","utf-8"):c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dutf-8");c.send(null);
if(200!=c.status)return null;(d=c.responseText)&&(this.ll[a]=d);return d},QI:function(a){a=this.Ge(a);return this.ll.hasOwnProperty(a)?this.ll[a]:this.fP(a)},Q4:function(){},O$:function(){},gK:!0,R3:function(a){return a},Ge:function(a){var c=!1;a=this.IO(a);for(var d,e=0;e<this.gi.length;e++){for(var f=this.gi[e],g=0;g<this.jp.length;g++)if(d=this.JO(a,this.jp[g],f)){c=!0;break}if(c)break}return c?d:a},V8:function(a){var c=this.Ge(a);if(0<c.length){var c=q.Gk.g().parse(c),d=parseInt(c.metadata.version);
1!=d?q.log("cocos2d: ERROR: Invalid filenameLookup dictionary version: "+d+". Filename: "+a):this.bX(c.filenames)}},bX:function(a){this.qA=a},xI:function(a,c){var d;if(a)return d=c.substring(0,c.lastIndexOf("/")+1),d+a;d=c.substring(0,c.lastIndexOf("."));return d+".png"},Aba:function(a){this.jp=a},u6:function(){return this.jp},zba:function(a){this.gi=a},s6:function(){return this.gi},k6:function(){return this.BO},vba:function(){},c3:function(a){q.log("dictionaryWithContentsOfFile is deprecated. Use createDictionaryWithContentsOfFile instead");
return this.ZR(a)},ZR:function(a){return q.Gk.g().parse(a)},J6:function(a){return this.QI(a)},Sw:function(a){return q.Gk.g().parse(a)},n7:function(){return""},nba:function(a){q.gK=a},m8:function(){return q.gK},kB:"",l6:function(){return this.kB},wba:function(a){this.kB=a},IO:function(a){var c=null;(c=this.qA?this.qA[a]:null)&&0!==c.length?q.log("FOUND NEW FILE NAME: "+c):c=a;return c},JO:function(a,c,d){var e;e=this.kB;a&&0<a.length&&(0===a.indexOf("/")||0===a.indexOf("\\"))?e="":0<e.length&&"\\"!=
e[e.length-1]&&"/"!=e[e.length-1]&&(e+="/");var f=a,g="",h=a.lastIndexOf("/");-1!=h&&(g=a.substr(0,h+1),f=a.substr(h+1));a=d;0<a.length&&a.lastIndexOf("/")!==a.length-1&&(a+="/");a=a+g+c;0<a.length&&a.lastIndexOf("/")!==a.length-1&&(a+="/");a+=f;return e+=a},a1:function(){},hL:function(a){var c=!1;this.gi=[];for(var d=0;d<a.length;d++){var e=a[d],f;this.rJ(e)||(f=this.$q);e=f+e;0<e.length&&"/"!=e[e.length-1]&&(e+="/");c||e!=this.$q||(c=!0);this.gi.push(e)}c||this.gi.push(this.$q)},N1:function(a){var c;
this.rJ(a)||(c=this.$q);a=c+a;0<a.length&&"/"!=a[a.length-1]&&(a+="/");this.gi.push(a)},t6:function(){},rJ:function(a){return"/"==a[0]}});q.MD=null;q.Vd.g=function(){null==q.MD&&(q.MD=new q.Vd);return q.MD};q.Fc=function(a,c,d){switch(arguments.length){case 0:this.n=this.p=this.q=0;break;case 1:a&&a instanceof q.Fc?(this.q=0|a.q||0,this.p=0|a.p||0,this.n=0|a.n||0):this.n=this.p=this.q=0;break;case 3:this.q=0|a||0;this.p=0|c||0;this.n=0|d||0;break;default:throw"unknown argument type";}};q.o=function(a,c,d){return new q.Fc(a,c,d)};q.K7=function(a){a=a||0;var c=new q.Fc;c.q=a&255;c.p=a>>8&255;c.n=a>>16&255;return c};q.iC=q.o;q.q2=function(a,c){return a.q===c.q&&a.p===c.p&&a.n===c.n};
Object.defineProperties(q,{D0:{get:function(){return q.o(255,255,255)},configurable:!0},G0:{get:function(){return q.o(255,255,0)},configurable:!0},jZ:{get:function(){return q.o(0,0,255)},configurable:!0},XZ:{get:function(){return q.o(0,255,0)},configurable:!0},K_:{get:function(){return q.o(255,0,0)},configurable:!0},l_:{get:function(){return q.o(255,0,255)},configurable:!0},hZ:{get:function(){return q.o(0,0,0)},configurable:!0},t_:{get:function(){return q.o(255,127,0)},configurable:!0},WZ:{get:function(){return q.o(166,
166,166)},configurable:!0}});q.Fb=function(){return new q.Fc(255,255,255)};q.uda=function(){return new q.Fc(255,255,0)};q.blue=function(){return new q.Fc(0,0,255)};q.green=function(){return new q.Fc(0,255,0)};q.red=function(){return new q.Fc(255,0,0)};q.a9=function(){return new q.Fc(255,0,255)};q.h2=function(){return new q.Fc(0,0,0)};q.B9=function(){return new q.Fc(255,127,0)};q.wl=function(){return new q.Fc(166,166,166)};q.$b=function(a,c,d,e){this.q=0|a;this.p=0|c;this.n=0|d;this.O=0|e};
q.j=function(a,c,d,e){return new q.$b(a,c,d,e)};q.jC=q.j;q.me=function(a,c,d,e){this.q=a;this.p=c;this.n=d;this.O=e};q.Kw=function(a,c,d,e){return new q.me(a,c,d,e)};q.t2=function(a){return new q.me(a.q/255,a.p/255,a.n/255,1)};q.u2=function(a){return new q.me(a.q/255,a.p/255,a.n/255,a.O/255)};q.r2=function(a){return new q.$b(0|255*a.q,0|255*a.p,0|255*a.n,0|255*a.O)};q.s2=function(a,c){return a.q==c.q&&a.p==c.p&&a.n==c.n&&a.O==c.O};q.Kb=function(a,c){this.x=a||0;this.y=c||0};
q.Ru=function(a,c){return new q.Kb(a,c)};q.kd=function(a,c,d){this.x=a||0;this.y=c||0;this.z=d||0};q.lda=function(a,c,d){return new q.kd(a,c,d)};q.Kc=function(a,c){this.Va=a||0;this.ua=c||0};q.Jca=function(a,c){return new q.Kc(a,c)};q.F_=function(a,c,d){a||new q.Kb(0,0);this.color=c||new q.$b(0,0,0,0);this.size=d||0};q.ru=function(a,c,d,e){this.Za=a||new q.Kb(0,0);this.Sa=c||new q.Kb(0,0);this.Pa=d||new q.Kb(0,0);this.bb=e||new q.Kb(0,0)};
q.G_=function(a,c,d,e){this.Pa=a||new q.kd(0,0,0);this.bb=c||new q.kd(0,0,0);this.Za=d||new q.kd(0,0,0);this.Sa=e||new q.kd(0,0,0)};q.EM=function(a,c){this.x=a;this.y=c};q.p=function(a,c){return new q.EM(a,c)};q.dc=function(a,c,d){this.B=a||new q.Kb(0,0);this.V=c||new q.$b(0,0,0,0);this.G=d||new q.Kc(0,0)};q.Lu=function(){this.B=new q.Kb(0,0);this.V=new q.me(0,0,0,0);this.G=new q.Kc(0,0)};q.Gc=function(a,c,d){this.B=a||new q.kd(0,0,0);this.V=c||new q.$b(0,0,0,0);this.G=d||new q.Kc(0,0)};
q.Vc=function(a,c,d){this.O=a||new q.dc;this.n=c||new q.dc;this.La=d||new q.dc};q.KN=function(){var a=new q.dc(new q.Kb(0,0),new q.$b(0,0,0,255),new q.Kc(0,0)),c=new q.dc(new q.Kb(0,0),new q.$b(0,0,0,255),new q.Kc(0,0)),d=new q.dc(new q.Kb(0,0),new q.$b(0,0,0,255),new q.Kc(0,0)),e=new q.dc(new q.Kb(0,0),new q.$b(0,0,0,255),new q.Kc(0,0));this.Pa=a||new q.dc;this.bb=c||new q.dc;this.Za=d||new q.dc;this.Sa=e||new q.dc};q.A0=function(){return new q.KN};
q.sc=function(a,c,d,e){this.Za=a||new q.Gc;this.Pa=c||new q.Gc;this.Sa=d||new q.Gc;this.bb=e||new q.Gc};q.zz=function(){return new q.sc(new q.Gc(new q.kd(0,0,0),new q.$b(0,0,0,255),new q.Kc(0,0)),new q.Gc(new q.kd(0,0,0),new q.$b(0,0,0,255),new q.Kc(0,0)),new q.Gc(new q.kd(0,0,0),new q.$b(0,0,0,255),new q.Kc(0,0)),new q.Gc(new q.kd(0,0,0),new q.$b(0,0,0,255),new q.Kc(0,0)))};
q.yz=function(a){return a?new q.sc(new q.Gc(new q.kd(a.Za.B.x,a.Za.B.y,a.Za.B.z),new q.$b(a.Za.V.q,a.Za.V.p,a.Za.V.n,a.Za.V.O),new q.Kc(a.Za.G.Va,a.Za.G.ua)),new q.Gc(new q.kd(a.Pa.B.x,a.Pa.B.y,a.Pa.B.z),new q.$b(a.Pa.V.q,a.Pa.V.p,a.Pa.V.n,a.Pa.V.O),new q.Kc(a.Pa.G.Va,a.Pa.G.ua)),new q.Gc(new q.kd(a.Sa.B.x,a.Sa.B.y,a.Sa.B.z),new q.$b(a.Sa.V.q,a.Sa.V.p,a.Sa.V.n,a.Sa.V.O),new q.Kc(a.Sa.G.Va,a.Sa.G.ua)),new q.Gc(new q.kd(a.bb.B.x,a.bb.B.y,a.bb.B.z),new q.$b(a.bb.V.q,a.bb.V.p,a.bb.V.n,a.bb.V.O),new q.Kc(a.bb.G.Va,
a.bb.G.ua))):q.zz()};q.C0=function(a){if(!a)return[];for(var c=[],d=0;d<a.length;d++)c.push(q.yz(a[d]));return c};q.B0=function(a,c,d,e){this.Pa=a||new q.Lu;this.bb=c||new q.Lu;this.Za=d||new q.Lu;this.Sa=e||new q.Lu};q.fm=function(a,c){this.src=a;this.Rb=c};q.kZ=function(){return new q.fm(1,0)};q.Mc=function(a){var c=a.q.toString(16),d=a.p.toString(16),e=a.n.toString(16);return"#"+(16>a.q?"0"+c:c)+(16>a.p?"0"+d:d)+(16>a.n?"0"+e:e)};
q.Ja.cd&&(q.$b=function(a,c,d,e,f,g){this.ac=f||new ArrayBuffer(q.$b.BYTES_PER_ELEMENT);this._offset=g||0;f=this.ac;g=this._offset;var h=Uint8Array.BYTES_PER_ELEMENT;this.bB=new Uint8Array(f,g,1);this.xA=new Uint8Array(f,g+h,1);this.Mz=new Uint8Array(f,g+2*h,1);this.Ez=new Uint8Array(f,g+3*h,1);this.bB[0]=a||0;this.xA[0]=c||0;this.Mz[0]=d||0;this.Ez[0]=e||0},q.$b.BYTES_PER_ELEMENT=4,Object.defineProperties(q.$b.prototype,{q:{get:function(){return this.bB[0]},set:function(a){this.bB[0]=a},enumerable:!0},
p:{get:function(){return this.xA[0]},set:function(a){this.xA[0]=a},enumerable:!0},n:{get:function(){return this.Mz[0]},set:function(a){this.Mz[0]=a},enumerable:!0},O:{get:function(){return this.Ez[0]},set:function(a){this.Ez[0]=a},enumerable:!0}}),q.me=function(a,c,d,e,f,g){this.ac=f||new ArrayBuffer(q.me.BYTES_PER_ELEMENT);this._offset=g||0;f=this.ac;g=this._offset;var h=Float32Array.BYTES_PER_ELEMENT;this.aB=new Float32Array(f,g,1);this.aB[0]=a||0;this.wA=new Float32Array(f,g+h,1);this.wA[0]=c||
0;this.Lz=new Float32Array(f,g+2*h,1);this.Lz[0]=d||0;this.Dz=new Float32Array(f,g+3*h,1);this.Dz[0]=e||0},q.me.BYTES_PER_ELEMENT=16,Object.defineProperties(q.me.prototype,{q:{get:function(){return this.aB[0]},set:function(a){this.aB[0]=a},enumerable:!0},p:{get:function(){return this.wA[0]},set:function(a){this.wA[0]=a},enumerable:!0},n:{get:function(){return this.Lz[0]},set:function(a){this.Lz[0]=a},enumerable:!0},O:{get:function(){return this.Dz[0]},set:function(a){this.Dz[0]=a},enumerable:!0}}),
q.Kb=function(a,c,d,e){this.ac=d||new ArrayBuffer(q.Kb.BYTES_PER_ELEMENT);this._offset=e||0;this.dn=new Float32Array(this.ac,this._offset,1);this.en=new Float32Array(this.ac,this._offset+4,1);this.dn[0]=a||0;this.en[0]=c||0},q.Kb.BYTES_PER_ELEMENT=8,Object.defineProperties(q.Kb.prototype,{x:{get:function(){return this.dn[0]},set:function(a){this.dn[0]=a},enumerable:!0},y:{get:function(){return this.en[0]},set:function(a){this.en[0]=a},enumerable:!0}}),q.kd=function(a,c,d,e,f){this.ac=e||new ArrayBuffer(q.kd.BYTES_PER_ELEMENT);
this._offset=f||0;e=this.ac;f=this._offset;this.dn=new Float32Array(e,f,1);this.dn[0]=a||0;this.en=new Float32Array(e,f+Float32Array.BYTES_PER_ELEMENT,1);this.en[0]=c||0;this.aC=new Float32Array(e,f+2*Float32Array.BYTES_PER_ELEMENT,1);this.aC[0]=d||0},q.kd.BYTES_PER_ELEMENT=12,Object.defineProperties(q.kd.prototype,{x:{get:function(){return this.dn[0]},set:function(a){this.dn[0]=a},enumerable:!0},y:{get:function(){return this.en[0]},set:function(a){this.en[0]=a},enumerable:!0},z:{get:function(){return this.aC[0]},
set:function(a){this.aC[0]=a},enumerable:!0}}),q.Kc=function(a,c,d,e){this.ac=d||new ArrayBuffer(q.Kc.BYTES_PER_ELEMENT);this._offset=e||0;this.NB=new Float32Array(this.ac,this._offset,1);this.VB=new Float32Array(this.ac,this._offset+4,1);this.NB[0]=a||0;this.VB[0]=c||0},q.Kc.BYTES_PER_ELEMENT=8,Object.defineProperties(q.Kc.prototype,{Va:{get:function(){return this.NB[0]},set:function(a){this.NB[0]=a},enumerable:!0},ua:{get:function(){return this.VB[0]},set:function(a){this.VB[0]=a},enumerable:!0}}),
q.ru=function(a,c,d,e,f,g){this.ac=f||new ArrayBuffer(q.ru.BYTES_PER_ELEMENT);this._offset=g||0;f=this.ac;g=q.Kb.BYTES_PER_ELEMENT;this.wp=a?new q.Kb(a.x,a.y,f,0):new q.Kb(0,0,f,0);this.zp=c?new q.Kb(c.x,c.y,f,g):new q.Kb(0,0,f,g);this.wo=d?new q.Kb(d.x,d.y,f,2*g):new q.Kb(0,0,f,2*g);this.yo=e?new q.Kb(e.x,e.y,f,3*g):new q.Kb(0,0,f,3*g)},q.ru.BYTES_PER_ELEMENT=32,Object.defineProperties(q.ru.prototype,{Za:{get:function(){return this.wp},set:function(a){this.wp.x=a.x;this.wp.y=a.y},enumerable:!0},
Sa:{get:function(){return this.zp},set:function(a){this.zp.x=a.x;this.zp.y=a.y},enumerable:!0},Pa:{get:function(){return this.wo},set:function(a){this.wo.x=a.x;this.wo.y=a.y},enumerable:!0},bb:{get:function(){return this.yo},set:function(a){this.yo.x=a.x;this.yo.y=a.y},enumerable:!0}}),q.Gc=function(a,c,d,e,f){this.ac=e||new ArrayBuffer(q.Gc.BYTES_PER_ELEMENT);this._offset=f||0;e=this.ac;f=this._offset;var g=q.kd.BYTES_PER_ELEMENT;this.Bp=a?new q.kd(a.x,a.y,a.z,e,f):new q.kd(0,0,0,e,f);this.Wq=c?
new q.$b(c.q,c.p,c.n,c.O,e,f+g):new q.$b(0,0,0,0,e,f+g);this.Tm=d?new q.Kc(d.Va,d.ua,e,f+g+q.$b.BYTES_PER_ELEMENT):new q.Kc(0,0,e,f+g+q.$b.BYTES_PER_ELEMENT)},q.Gc.BYTES_PER_ELEMENT=24,Object.defineProperties(q.Gc.prototype,{B:{get:function(){return this.Bp},set:function(a){var c=this.Bp;c.x=a.x;c.y=a.y;c.z=a.z},enumerable:!0},V:{get:function(){return this.Wq},set:function(a){var c=this.Wq;c.q=a.q;c.p=a.p;c.n=a.n;c.O=a.O},enumerable:!0},G:{get:function(){return this.Tm},set:function(a){this.Tm.Va=
a.Va;this.Tm.ua=a.ua},enumerable:!0}}),q.sc=function(a,c,d,e,f,g){this.ac=f||new ArrayBuffer(q.sc.BYTES_PER_ELEMENT);this._offset=g||0;f=this.ac;g=this._offset;var h=q.Gc.BYTES_PER_ELEMENT;this.wp=a?new q.Gc(a.B,a.V,a.G,f,g):new q.Gc(null,null,null,f,g);this.wo=c?new q.Gc(c.B,c.V,c.G,f,g+h):new q.Gc(null,null,null,f,g+h);this.zp=d?new q.Gc(d.B,d.V,d.G,f,g+2*h):new q.Gc(null,null,null,f,g+2*h);this.yo=e?new q.Gc(e.B,e.V,e.G,f,g+3*h):new q.Gc(null,null,null,f,g+3*h)},q.sc.BYTES_PER_ELEMENT=96,Object.defineProperties(q.sc.prototype,
{Za:{get:function(){return this.wp},set:function(a){var c=this.wp;c.B=a.B;c.V=a.V;c.G=a.G},enumerable:!0},Pa:{get:function(){return this.wo},set:function(a){var c=this.wo;c.B=a.B;c.V=a.V;c.G=a.G},enumerable:!0},Sa:{get:function(){return this.zp},set:function(a){var c=this.zp;c.B=a.B;c.V=a.V;c.G=a.G},enumerable:!0},bb:{get:function(){return this.yo},set:function(a){var c=this.yo;c.B=a.B;c.V=a.V;c.G=a.G},enumerable:!0},eC:{get:function(){return this.ac},enumerable:!0}}),q.zz=function(){return new q.sc},
q.yz=function(a){if(!a)return q.zz();var c=a.Za,d=a.Pa,e=a.Sa;a=a.bb;return{Za:{B:{x:c.B.x,y:c.B.y,z:c.B.z},V:{q:c.V.q,p:c.V.p,n:c.V.n,O:c.V.O},G:{Va:c.G.Va,ua:c.G.ua}},Pa:{B:{x:d.B.x,y:d.B.y,z:d.B.z},V:{q:d.V.q,p:d.V.p,n:d.V.n,O:d.V.O},G:{Va:d.G.Va,ua:d.G.ua}},Sa:{B:{x:e.B.x,y:e.B.y,z:e.B.z},V:{q:e.V.q,p:e.V.p,n:e.V.n,O:e.V.O},G:{Va:e.G.Va,ua:e.G.ua}},bb:{B:{x:a.B.x,y:a.B.y,z:a.B.z},V:{q:a.V.q,p:a.V.p,n:a.V.n,O:a.V.O},G:{Va:a.G.Va,ua:a.G.ua}}}},q.dc=function(a,c,d,e,f){this.ac=e||new ArrayBuffer(q.dc.BYTES_PER_ELEMENT);
this._offset=f||0;e=this.ac;f=this._offset;var g=q.Kb.BYTES_PER_ELEMENT;this.Bp=a?new q.Kb(a.x,a.y,e,f):new q.Kb(0,0,e,f);this.Wq=c?new q.$b(c.q,c.p,c.n,c.O,e,f+g):new q.$b(0,0,0,0,e,f+g);this.Tm=d?new q.Kc(d.Va,d.ua,e,f+g+q.$b.BYTES_PER_ELEMENT):new q.Kc(0,0,e,f+g+q.$b.BYTES_PER_ELEMENT)},q.dc.BYTES_PER_ELEMENT=20,Object.defineProperties(q.dc.prototype,{B:{get:function(){return this.Bp},set:function(a){this.Bp.x=a.x;this.Bp.y=a.y},enumerable:!0},V:{get:function(){return this.Wq},set:function(a){var c=
this.Wq;c.q=a.q;c.p=a.p;c.n=a.n;c.O=a.O},enumerable:!0},G:{get:function(){return this.Tm},set:function(a){this.Tm.Va=a.Va;this.Tm.ua=a.ua},enumerable:!0}}),q.Vc=function(a,c,d,e,f){this.ac=e||new ArrayBuffer(q.Vc.BYTES_PER_ELEMENT);this._offset=f||0;e=this.ac;f=this._offset;var g=q.dc.BYTES_PER_ELEMENT;this.PF=a?new q.dc(a.B,a.V,a.G,e,f):new q.dc(null,null,null,e,f);this.UF=c?new q.dc(c.B,c.V,c.G,e,f+g):new q.dc(null,null,null,e,f+g);this.ZF=d?new q.dc(d.B,d.V,d.G,e,f+2*g):new q.dc(null,null,null,
e,f+2*g)},q.Vc.BYTES_PER_ELEMENT=60,Object.defineProperties(q.Vc.prototype,{O:{get:function(){return this.PF},set:function(a){var c=this.PF;c.B=a.B;c.V=a.V;c.G=a.G},enumerable:!0},n:{get:function(){return this.UF},set:function(a){var c=this.UF;c.B=a.B;c.V=a.V;c.G=a.G},enumerable:!0},La:{get:function(){return this.ZF},set:function(a){var c=this.ZF;c.B=a.B;c.V=a.V;c.G=a.G},enumerable:!0}}));
q.O2=function(a){a=a.substr(1).split("");return new q.Fc(parseInt("0x"+a[0]+a[1]),parseInt("0x"+a[2]+a[3]),parseInt("0x"+a[4]+a[5]))};q.Hq=0;q.Kj=1;q.BN=2;q.Qu=0;q.Pu=1;q.Ou=2;q.Nu=3;
q.K0=q.Na.extend({$o:null,xs:null,Bz:0,ctor:function(){this.$o={};this.xs={};this.Bz=2<<(0|10*Math.random())},ON:function(){this.Bz++;return"key_"+this.Bz},rX:function(a,c){if(null!=c){var d=this.ON();this.$o[d]=c;this.xs[d]=a}},UU:function(a){if(null==a)return null;var c=this.$o,d;for(d in c)if(c[d]===a)return this.xs[d];return null},kda:function(a){return this.UU(a)},iW:function(a){if(null!=a){var c=this.$o,d;for(d in c)if(c[d]===a){delete this.xs[d];delete c[d];break}}},I$:function(a){if(null!=
a)for(var c=0;c<a.length;c++)this.iW(a[c])},mR:function(){var a=[],c=this.$o,d;for(d in c)a.push(c[d]);return a},B$:function(){this.$o={};this.xs={}},count:function(){return this.mR().length}});q.DM=function(){this.Js="Arial";this.fontSize=12;this.sI=q.Kj;this.tI=q.Qu;this.uI=q.Fb();this.Is=q.size(0,0);this.rE=!1;this.strokeColor=q.Fb();this.HL=1;this.vL=!1;this.wL=q.size(0,0);this.shadowBlur=0;this.xL=1};q.ko={My:0,$y:1,SHOW_ALL:2,Ny:3,Oy:4,z0:5};q.Ku=[];q.Iq={};
q.qa=q.Na.extend({Ea:null,Id:null,Mo:null,gp:null,jf:null,Fw:null,er:1,XB:"",iB:null,va:1,JG:1,Da:1,KG:1,Br:0,FG:5,di:null,QG:null,UG:null,TG:null,RG:null,SG:null,Er:!1,S0:!1,D1:null,pG:null,qG:null,RN:null,x1:!1,aA:null,m1:null,Tk:null,sA:1,Vu:!1,vG:!0,ctor:function(){this.Tk=q.ok.parentNode===document.body?document.documentElement:q.ok.parentNode;this.Id=q.size(0,0);this.rG();var a=q.canvas.width,c=q.canvas.height;this.Mo=q.size(a,c);this.gp=q.size(a,c);this.jf=q.rect(0,0,a,c);this.Fw=q.rect(0,
0,a,c);this.Ea=q.fa.g().gf;this.aA={left:0,top:0};this.XB="Cocos2dHTML5";q.LF.w(this.Mo);this.QG=new q.lo(q.jh.Mt,q.Ve.My);this.UG=new q.lo(q.jh.mN,q.Ve.SHOW_ALL);this.TG=new q.lo(q.jh.Mt,q.Ve.$y);this.RG=new q.lo(q.jh.Mt,q.Ve.Ny);this.SG=new q.lo(q.jh.Mt,q.Ve.Oy);this.pG=q.canvas;this.qG=q.ca},jB:function(){this.ctor();this.iB&&this.iB.call();var a=this.Id.width,c=this.Id.height;0<a&&this.SD(a,c,this.di)},pW:function(a){a?this.Vu||(this.Vu=!0,a=this.jB.bind(this),window.addEventListener("resize",
a,!1)):this.Vu&&(this.Vu=!0,a=this.jB.bind(this),window.removeEventListener("resize",a,!1))},GX:function(a){if("function"==typeof a||null==a)this.iB=a},rG:function(){var a=this.Id;a.width=this.Tk.clientWidth;a.height=this.Tk.clientHeight;this.Id=a},P0:function(){var a=this.gp.width,c=this.gp.height;0<a&&this.SD(a,c,this.di)},rQ:function(){if(this.vG){var a={"user-scalable":"no","maximum-scale":"1.0","initial-scale":"1.0"},c=document.getElementsByName("viewport"),d;0==c.length?(c=document.createElement("meta"),
c.name="viewport",c.content="",document.head.appendChild(c)):c=c[0];if(q.Ja.qj&&"firefox"==q.Ja.type)c.content="initial-scale:1";else{d=c.content;for(var e in a)RegExp(e).test(d)||(d+=(""==d?"":",")+e+"\x3d"+a[e]);c.content=d}}},kQ:function(){var a=q.ed();this.Da=this.va=a},NP:function(){this.va=this.JG;this.Da=this.KG},LO:function(){var a,c=this.Br;for(a=0;a<this.FG;a++){if(!(c&1))return this.Br|=1<<a,a;c>>=1}return-1},JP:function(a){0>a||a>=this.FG||(a=~(1<<a),this.Br&=a)},Q0:function(){},lU:function(){this.Er=
!0},S1:function(a){this.vG=a},end:function(){},k8:function(){return null!=this.pG&&null!=this.qG},Haa:function(a){this.sA=a;q.fa.g().Px(q.fa.g().fl)},zca:function(){},Laa:function(){},taa:function(a,c){this.aA={left:a,top:c}},w4:function(){return this.aA},pn:function(){return q.size(this.Id.width,this.Id.height)},Gaa:function(a,c){this.Id.width=a;this.Id.height=c;this.Tk.style.width=a+"px";this.Tk.style.height=c+"px";this.jB();q.fa.g().Px(q.fa.g().fl)},z2:function(){},gaa:function(a){this.RN=a},Qs:function(){return this.Fw.Xa},
WI:function(){return this.Fw.fd},v2:function(){return!0},j6:function(){return this.di},HX:function(a){if(a instanceof q.lo)this.di=a;else switch(a){case q.ko.My:this.di=this.QG;break;case q.ko.SHOW_ALL:this.di=this.UG;break;case q.ko.$y:this.di=this.TG;break;case q.ko.Ny:this.di=this.RG;break;case q.ko.Oy:this.di=this.SG}},SD:function(a,c,d){if(isNaN(a)||0==a||isNaN(c)||0==c)q.log("Resolution not valid");else{this.HX(d);var e=this.di;if(e){e.Hn(this);var f=this.Id.width,g=this.Id.height;q.Ja.qj&&
this.rQ(this.Id.width,this.Id.height);this.rG();if(d!=this.di||a!=this.gp.width||c!=this.gp.height||f!=this.Id.width||g!=this.Id.height)this.Mo=q.size(a,c),this.gp=q.size(a,c),a=e.apply(this,this.Mo),a.scale&&2==a.scale.length&&(this.va=a.scale[0],this.Da=a.scale[1]),a.viewport instanceof q.yg&&(a=this.jf=a.viewport,c=this.Fw,c.Xa.width=q.canvas.width/this.va,c.Xa.height=q.canvas.height/this.Da,c.fd.x=-a.x/this.va,c.fd.y=-a.y/this.Da),a=q.fa.g(),a.bc=this.Op(),e.Gn(this),q.Sd==q.Ik&&(a.Ko(),a.PK()),
this.JG=this.va,this.KG=this.Da,q.oc&&q.oc.LP(),q.LF.w(this.Qs())}else q.log("should set resolutionPolicy")}},Op:function(){return q.size(this.Mo.width,this.Mo.height)},Rba:function(a){this.Ea=a},WX:function(a,c,d,e){var f=this.sA,g=this.va,h=this.Da;q.ca.viewport(a*g*f+this.jf.x*f,c*h*f+this.jf.y*f,d*g*f,e*h*f)},$D:function(a,c,d,e){var f=this.sA,g=this.va,h=this.Da;q.ca.scissor(a*g*f+this.jf.x*f,c*h*f+this.jf.y*f,d*g*f,e*h*f)},xU:function(){var a=q.ca;return a.isEnabled(a.SCISSOR_TEST)},pT:function(){var a=
q.ca,c=this.va,d=this.Da,a=a.getParameter(a.SCISSOR_BOX);return q.rect((a[0]-this.jf.x)/c,(a[1]-this.jf.y)/d,a[2]/c,a[3]/d)},Zba:function(a){null!=a&&0<a.length&&(this.XB=a)},i7:function(){return this.XB},j7:function(){return this.jf},nT:function(){return this.va},oT:function(){return this.Da},H4:function(){return this.er},pk:function(a,c,d){return{x:this.er*(a-d.left),y:this.er*(d.top+d.height-c)}},OT:function(a,c,d,e){for(var f=[],g=this.jf,h=this.va,k=this.Da,l=0;l<a;++l){var m=c[l],p=d[l],s=e[l],
u=0;if(null==q.Iq[m])if(u=this.LO(),-1==u)q.log("The touches is more than MAX_TOUCHES, nUnusedIndex \x3d "+u);else{var w=q.Ku[u]=new q.uf;w.fE(u,(p-g.x)/h,(s-g.y)/k);q.Iq[m]=0|u;f.push(w)}}0!==f.length&&this.Ea.hy(f,null)},RT:function(a,c,d,e){for(var f=[],g=this.va,h=this.Da,k=this.jf.x,l=this.jf.y,m=0;m<a;++m){var p=d[m],s=e[m],u=q.Iq[c[m]];if(null!=u){var w=q.Ku[u];if(w)w.fE(u,(p-k)/g,(s-l)/h),f.push(w);else return}}0!=f.length&&this.Ea.iy(f,null)},QT:function(a,c,d,e){var f=[];this.NI(f,a,c,d,
e);this.Ea.ut(f,null)},PT:function(a,c,d,e){var f=[];this.NI(f,a,c,d,e);this.Ea.xE(f,null)},NI:function(a,c,d,e,f){for(var g=this.va,h=this.Da,k=this.jf,l=0;l<c;++l){var m=d[l],p=e[l],s=f[l],u=q.Iq[m];if(null!=u){var w=q.Ku[u];if(w)w.fE(u,(p-k.x)/g,(s-k.y)/h),a.push(w),q.Ku[u]=null,this.JP(u),delete q.Iq[m];else break}}},hy:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Tf||h,d[f]=g.R.x,e[f]=g.R.y,++f;this.OT(f,c,d,e)},iy:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=
a[h],c[f]=g.Tf||h,d[f]=g.R.x,e[f]=g.R.y,++f;this.RT(f,c,d,e)},ut:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Tf||h,d[f]=g.R.x,e[f]=g.R.y,++f;this.QT(f,c,d,e)},xE:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Tf||h,d[f]=g.R.x,e[f]=g.R.y,++f;this.PT(f,c,d,e)}});q.qa.g=function(){this.Nb||(q.fa.g(),this.Nb=this.Nb||new q.qa,this.Nb.lU());return this.Nb};
q.jh=q.Na.extend({SF:!1,Hn:function(){if("iOS"==r.aK||"OS X"==r.aK)this.SF=!0},apply:function(){},Gn:function(){},uB:function(a,c,d){var e=a.Tk;q.Ja.qj&&e==document.documentElement&&q.lz.g().sR(e);var e=q.canvas,f=q.ok;f.style.width=e.style.width=c+"px";f.style.height=e.style.height=d+"px";f=a.er=1;this.SF&&(f=a.er=window.devicePixelRatio||1);e.width=c*f;e.height=d*f;a=document.body;var g;a&&(g=a.style)&&(g.paddingTop=g.paddingTop||"0px",g.paddingRight=g.paddingRight||"0px",g.paddingBottom=g.paddingBottom||
"0px",g.paddingLeft=g.paddingLeft||"0px",g.borderTop=g.borderTop||"0px",g.borderRight=g.borderRight||"0px",g.borderBottom=g.borderBottom||"0px",g.borderLeft=g.borderLeft||"0px",g.marginTop=g.marginTop||"0px",g.marginRight=g.marginRight||"0px",g.marginBottom=g.marginBottom||"0px",g.marginLeft=g.marginLeft||"0px")},jG:function(){document.body.insertBefore(q.ok,document.body.firstChild);var a=document.body.style;a.width=window.innerWidth+"px";a.height=window.innerHeight+"px";a.overflow="hidden";a=q.ok.style;
a.position="fixed";a.left=a.top="0px";document.body.scrollTop=0}});q.Ve=q.Na.extend({lB:{scale:[1,1],viewport:null},Sq:function(a,c,d,e,f,g){2>Math.abs(a-d)&&(d=a);2>Math.abs(c-e)&&(e=c);a=q.rect(Math.round((a-d)/2),Math.round((c-e)/2),d,e);q.Sd==q.ug&&q.ca.translate(a.x,a.y+e);this.lB.scale=[f,g];this.lB.viewport=a;return this.lB},Hn:function(){},apply:function(){return{scale:[1,1]}},Gn:function(){}});
(function(){var a=q.jh.extend({apply:function(a){this.uB(a,a.Id.width,a.Id.height)}}),c=q.jh.extend({apply:function(a,c){var d=a.Id.width,e=a.Id.height,f=q.ok.style,p=c.width,s=c.height,u=d/p,w=e/s,x,E;u<w?(x=d,E=s*u):(x=p*w,E=e);p=Math.round((d-x)/2);E=Math.round((e-E)/2);this.uB(a,d-2*p,e-2*E);f.marginLeft=p+"px";f.marginRight=p+"px";f.marginTop=E+"px";f.marginBottom=E+"px"}});a.extend({Hn:function(a){this._super(a);a.Tk=document.documentElement},apply:function(a){this._super(a);this.jG()}});c.extend({Hn:function(a){this._super(a);
a.Tk=document.documentElement},apply:function(a,c){this._super(a,c);this.jG()}});var d=q.jh.extend({apply:function(a){this.uB(a,q.canvas.width,q.canvas.height)}});q.jh.Mt=new a;q.jh.mN=new c;q.jh.y_=new d;var a=q.Ve.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height;return this.Sq(d,e,d,e,d/c.width,e/c.height)}}),c=q.Ve.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=c.width,p=c.height,s=d/f,u=e/p,w=0,x,E;s<u?(w=s,x=d,E=p*w):(w=u,x=f*w,E=e);return this.Sq(d,e,
x,E,w,w)}}),d=q.Ve.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=c.width,p=c.height,s=d/f,u=e/p,w,x,E;s<u?(w=u,x=f*w,E=e):(w=s,x=d,E=p*w);return this.Sq(d,e,x,E,w,w)}}),e=q.Ve.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=e/c.height;return this.Sq(d,e,d,e,f,f)},Gn:function(a){q.fa.g().bc=a.Qs()}}),f=q.Ve.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=d/c.width;return this.Sq(d,e,d,e,f,f)},Gn:function(a){q.fa.g().bc=a.Qs()}});q.Ve.My=
new a;q.Ve.SHOW_ALL=new c;q.Ve.$y=new d;q.Ve.Ny=new e;q.Ve.Oy=new f})();q.lo=q.Na.extend({jv:null,kv:null,ctor:function(a,c){this.SW(a);this.VW(c)},Hn:function(a){this.jv.Hn(a);this.kv.Hn(a)},apply:function(a,c){this.jv.apply(a,c);return this.kv.apply(a,c)},Gn:function(a){this.jv.Gn(a);this.kv.Gn(a)},SW:function(a){a instanceof q.jh&&(this.jv=a)},VW:function(a){a instanceof q.Ve&&(this.kv=a)}});q.lz=q.Na.extend({hs:!1,Nk:"",WA:null,XA:null,MB:"",w:function(){var a=["webkit","moz","o","ms","khtml"],c=document.body;if(c.requestFullScreen)this.hs=!0;else for(var d=0,e=a.length,f;d<e;d++)if(f=a[d],c[f+"RequestFullScreen"]){this.hs=!0;this.Nk=f;break}this.MB="ontouchstart"in window?"touchstart":"mousedown"},fullScreen:function(){var a=document;if(this.hs)switch(this.Nk){case "":return a.fullScreen;case "webkit":return a.webkitIsFullScreen;default:return a[this.Nk+"FullScreen"]}return!1},uK:function(a,
c){if(this.hs&&!this.fullScreen()){if(c){var d=this.Nk+"fullscreenchange";this.WA&&this.XA&&this.WA.removeEventListener(d,this.XA);this.WA=a;this.XA=c;a.addEventListener(d,c,!1)}return""===this.Nk?a.requestFullScreen():a[this.Nk+"RequestFullScreen"]()}},y3:function(){if(this.hs&&this.fullScreen())return""===this.Nk?document.body.cancelFullScreen():document.body[this.Nk+"CancelFullScreen"]()},sR:function(a,c){function d(){e.uK(a,c);a.removeEventListener(e.MB,d)}var e=this;this.uK(a,c);a.addEventListener(this.MB,
d)}});q.lz.g=function(){if(!this.Nb){var a=new q.lz;a.w();this.Nb=a}return this.Nb};q.LF={ki:q.Kd(),Ah:q.Kd(),ji:q.Kd(),Ni:q.Kd(),Oi:q.Kd(),Mi:q.Kd(),Tz:q.Kd(),Yi:q.Kd(),ei:q.Kd(),Ia:0,xa:0,w:function(a){this.Ia=a.width;this.xa=a.height;a=this.Ia;var c=this.xa;this.ki.S=c;this.Ah.H=a;this.Ah.S=c;this.ji.H=a/2;this.ji.S=c;this.Oi.H=a;this.Mi.H=a/2;this.Tz.H=a/2;this.Tz.S=c/2;this.Yi.S=c/2;this.ei.H=a;this.ei.S=c/2},Rs:function(){return this.Ia},Ns:function(){return this.xa},Tca:function(){return this.ki},Uca:function(){return this.Ah},top:function(){return this.ji},j2:function(){return this.Ni},
k2:function(){return this.Oi},bottom:function(){return this.Mi},y2:function(){return this.Tz},left:function(){return this.Yi},right:function(){return this.ei}};q.cy=function(a){var c;if(a&&0!=a.length){var d=a.indexOf("{"),e=a.indexOf("}");-1==d||-1==e||d>e||(a=a.substr(d+1,e-d-1),0!=a.length&&(d=a.indexOf("}"),-1==a.indexOf("{")&&-1==d&&(c=a.split(","))))}return c};q.vF=function(a){var c=q.wd();if(a){var d=a.indexOf("{")+1,e=a.lastIndexOf("}",a.length);-1!=d&&-1!=e&&(a=a.substring(d,e),d=a.indexOf("}"),-1!=d&&(d=a.indexOf(",",d),-1!=d&&(c=q.cy(a.substr(0,d)),a=q.cy(a.substr(d+1,a.length-d)),c=q.rect(parseFloat(c[0]),parseFloat(c[1]),parseFloat(a[0]),parseFloat(a[1])))))}return c};
q.uF=function(a){var c=q.Gj();try{if(""==a)return c;var d=q.cy(a),c=q.a(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};q.mz=function(a){var c=q.jm();try{if(""==a)return c;var d=q.cy(a),c=q.size(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};q.YY=function(a,c,d,e,f,g){this.O=a;this.n=c;this.La=d;this.d=e;this.hb=f;this.ib=g};q.M0=function(a,c,d,e,f,g){return{O:a,n:c,La:d,d:e,hb:f,ib:g}};q.aZ=function(a,c,d,e,f,g){return{O:a,n:c,La:d,d:e,hb:f,ib:g}};q.N0=function(a,c){return{x:c.O*a.x+c.La*a.y+c.hb,y:c.n*a.x+c.d*a.y+c.ib}};q.tF=function(a,c){return{x:c.O*a.x+c.La*a.y+c.hb,y:c.n*a.x+c.d*a.y+c.ib}};q.Kk=function(a,c,d){return{x:d.O*a+d.La*c+d.hb,y:d.n*a+d.d*c+d.ib}};
q.O0=function(a,c){return{width:c.O*a.width+c.La*a.height,height:c.n*a.width+c.d*a.height}};q.h0=function(a,c){return{width:c.O*a.width+c.La*a.height,height:c.n*a.width+c.d*a.height}};q.bZ=function(){return{O:1,n:0,La:0,d:1,hb:0,ib:0}};q.$Y=function(){return{O:1,n:0,La:0,d:1,hb:0,ib:0}};
q.Qf=function(a,c){var d=q.Kl(a),e=q.Jl(a),f=q.In(a),g=q.Jn(a),h=q.Kk(e,d,c),d=q.Kk(f,d,c),e=q.Kk(e,g,c),k=q.Kk(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);return q.rect(f,l,g-f,h-l)};
q.Ji=function(a,c){var d=q.Kl(a),e=q.Jl(a),f=q.In(a),g=q.Jn(a),h=q.Kk(e,d,c),d=q.Kk(f,d,c),e=q.Kk(e,g,c),k=q.Kk(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);a.x=f;a.y=l;a.width=g-f;a.height=h-l;return a};q.ty=function(a,c,d){return{O:a.O,n:a.n,La:a.La,d:a.d,hb:a.hb+a.O*c+a.La*d,ib:a.ib+a.n*c+a.d*d}};q.cZ=function(a,c,d){return{O:a.O*c,n:a.n*c,La:a.La*d,d:a.d*d,hb:a.hb,ib:a.ib}};
q.fM=function(a){var c=Math.sin(1.57079633),d=Math.cos(1.57079633);return{O:a.O*d+a.La*c,n:a.n*d+a.d*c,La:a.La*d-a.O*c,d:a.d*d-a.n*c,hb:a.hb,ib:a.ib}};q.bm=function(a,c){return{O:a.O*c.O+a.n*c.La,n:a.O*c.n+a.n*c.d,La:a.La*c.O+a.d*c.La,d:a.La*c.n+a.d*c.d,hb:a.hb*c.O+a.ib*c.La+c.hb,ib:a.hb*c.n+a.ib*c.d+c.ib}};q.ZY=function(a,c){return a.O===c.O&&a.n===c.n&&a.La===c.La&&a.d===c.d&&a.hb===c.hb&&a.ib===c.ib};
q.IE=function(a){var c=1/(a.O*a.d-a.n*a.La);return{O:c*a.d,n:-c*a.n,La:-c*a.La,d:c*a.O,hb:c*(a.La*a.ib-a.d*a.hb),ib:c*(a.n*a.hb-a.O*a.ib)}};q.jF=parseFloat("1.192092896e-07F");q.vD=function(a){return q.a(-a.x,-a.y)};q.ah=function(a,c){return q.a(a.x+c.x,a.y+c.y)};q.Rd=function(a,c){return q.a(a.x-c.x,a.y-c.y)};q.tj=function(a,c){return q.a(a.x*c,a.y*c)};q.uD=function(a,c){return q.tj(q.ah(a,c),0.5)};q.fq=function(a,c){return a.x*c.x+a.y*c.y};q.H9=function(a,c){return a.x*c.y-a.y*c.x};q.xx=function(a){return q.a(-a.y,a.x)};q.P9=function(a){return q.a(a.y,-a.x)};q.O9=function(a,c){return q.tj(c,q.fq(a,c)/q.fq(c,c))};
q.Q9=function(a,c){return q.a(a.x*c.x-a.y*c.y,a.x*c.y+a.y*c.x)};q.V9=function(a,c){return q.a(a.x*c.x+a.y*c.y,a.y*c.x-a.x*c.y)};q.cK=function(a){return q.fq(a,a)};q.I9=function(a,c){return q.cK(q.Rd(a,c))};q.sD=function(a){return Math.sqrt(q.cK(a))};q.rD=function(a,c){return q.sD(q.Rd(a,c))};q.Nh=function(a){return q.tj(a,1/q.sD(a))};q.J9=function(a){return q.a(Math.cos(a),Math.sin(a))};q.U9=function(a){return Math.atan2(a.y,a.x)};q.Cs=function(a,c,d){if(c>d){var e=c;c=d;d=e}return a<c?c:a<d?a:d};
q.bK=function(a){var c=q.a(0,0),d=q.a(1,1);return q.a(q.Cs(a.x,c.x,d.x),q.Cs(a.y,c.y,d.y))};q.jV=function(){var a=q.fa.g().bc;return q.a(a.width,a.height)};q.G9=function(a,c){return q.a(c(a.x),c(a.y))};q.dK=function(a,c,d){return q.ah(q.tj(a,1-d),q.tj(c,d))};q.K9=function(a,c,d){return a.x-d<=c.x&&c.x<=a.x+d&&a.y-d<=c.y&&c.y<=a.y+d?!0:!1};q.F9=function(a,c){return q.a(a.x*c.x,a.y*c.y)};q.E9=function(a,c){var d=q.Nh(a),e=q.Nh(c),d=Math.atan2(d.x*e.y-d.y*e.x,q.fq(d,e));return Math.abs(d)<q.jF?0:d};
q.D9=function(a,c){var d=Math.acos(q.fq(q.Nh(a),q.Nh(c)));return Math.abs(d)<q.jF?0:d};q.lV=function(a,c,d){a=q.Rd(a,c);var e=Math.cos(d);d=Math.sin(d);var f=a.x;a.x=f*e-a.y*d+c.x;a.y=f*d+a.y*e+c.y;return a};q.tD=function(a,c,d,e,f){if(a.x==c.x&&a.y==c.y||d.x==e.x&&d.y==e.y)return!1;var g=c.x-a.x;c=c.y-a.y;var h=e.x-d.x;e=e.y-d.y;var k=a.x-d.x;a=a.y-d.y;d=e*g-h*c;f.x=h*a-e*k;f.y=g*a-c*k;if(0==d)return 0==f.x||0==f.y?!0:!1;f.x/=d;f.y/=d;return!0};
q.S9=function(a,c,d,e){var f=q.a(0,0);return q.tD(a,c,d,e,f)&&0<=f.x&&1>=f.x&&0<=f.y&&1>=f.y?!0:!1};q.M9=function(a,c,d,e){var f=q.a(0,0);return q.tD(a,c,d,e,f)?(d=q.a(0,0),d.x=a.x+f.x*(c.x-a.x),d.y=a.y+f.x*(c.y-a.y),d):q.Gj()};q.R9=function(a,c){return null!=a&&null!=c?a.x==c.x&&a.y==c.y:!1};q.W9=function(a){a.x=0;a.y=0};q.L9=function(a,c){a.x=c.x;a.y=c.y};q.kV=function(a,c){a.x*=c;a.y*=c};q.T9=function(a,c){a.x-=c.x;a.y-=c.y};q.C9=function(a,c){a.x+=c.x;a.y+=c.y};
q.N9=function(a){q.kV(a,1/Math.sqrt(a.x*a.x+a.y*a.y))};q.mda=function(a,c,d,e,f){f+=e;if(!(1>=f)){c*=0.5;for(var g,h=f-1,k=e;k<f;k++){g=2*k;var l=q.a(a[2*k],a[2*k+1]),m;if(0===k)m=q.xx(q.Nh(q.Rd(l,q.a(a[2*(k+1)],a[2*(k+1)+1]))));else if(k===h)m=q.xx(q.Nh(q.Rd(q.a(a[2*(k-1)],a[2*(k-1)+1]),l)));else{m=q.a(a[2*(k-1)],a[2*(k-1)+1]);var p=q.a(a[2*(k+1)],a[2*(k+1)+1]),s=q.Nh(q.Rd(p,l)),u=q.Nh(q.Rd(m,l)),w=Math.acos(q.fq(s,u));m=w<q.Ej(70)?q.xx(q.Nh(q.uD(s,u))):w<q.Ej(170)?q.Nh(q.uD(s,u)):q.xx(q.Nh(q.Rd(p,m)))}m=q.tj(m,c);d[2*g]=l.x+m.x;d[2*g+1]=l.y+m.y;d[2*
(g+1)]=l.x-m.x;d[2*(g+1)+1]=l.y-m.y}for(k=0==e?0:e-1;k<h;k++)g=2*k,a=g+2,c=q.Ru(d[2*g],d[2*g+1]),f=q.Ru(d[2*(g+1)],d[2*(g+1)+1]),g=q.Ru(d[2*a],d[2*a]),e=q.Ru(d[2*(a+1)],d[2*(a+1)+1]),c=!q.HY(c.x,c.y,e.x,e.y,f.x,f.y,g.x,g.y),!c.Ys&&(0>c.value||1<c.value)&&(c.Ys=!0),c.Ys&&(d[2*a]=e.x,d[2*a+1]=e.y,d[2*(a+1)]=g.x,d[2*(a+1)+1]=g.y)}};
q.HY=function(a,c,d,e,f,g,h,k){if(a==d&&c==e||f==h&&g==k)return{Ys:!1,value:0};d-=a;e-=c;f-=a;g-=c;h-=a;k-=c;a=Math.sqrt(d*d+e*e);d/=a;e/=a;c=f*d+g*e;g=g*d-f*e;f=c;c=h*d+k*e;k=k*d-h*e;h=c;return g==k?{Ys:!1,value:0}:{Ys:!0,value:(h+(f-h)*k/(k-g))/a}};q.lZ=function(a,c){c[2]=c[3]=c[6]=c[7]=c[8]=c[9]=c[11]=c[14]=0;c[10]=c[15]=1;c[0]=a.O;c[4]=a.La;c[12]=a.hb;c[1]=a.n;c[5]=a.d;c[13]=a.ib};q.VZ=function(a,c){c.O=a[0];c.La=a[4];c.hb=a[12];c.n=a[1];c.d=a[5];c.ib=a[13]};q.hF=-1;q.r_=null;q.s_=null;q.xW=1;
q.F=q.Na.extend({nb:0,Ew:0,Kg:0,fi:0,va:1,Da:1,u:null,Ae:0,Be:0,C:null,ya:!0,pm:null,Fd:null,Ca:null,bf:!1,ea:null,Zj:!1,Cd:q.hF,zH:null,TB:null,kk:!0,Dv:!0,$F:!0,z1:null,jk:null,uG:null,ze:!1,Xc:null,Wf:0,nh:null,Lg:null,tG:!1,Mq:!1,Yu:null,Ri:null,JA:!1,Lm:0,Ur:0,GA:function(){this.pm=q.Kd();this.Fd=q.Kd();this.Ca=q.Om();this.u=q.Kd();this.C=[];this.jk={O:1,n:0,La:0,d:1,hb:0,ib:0};var a=q.fa.g();this.nh=a.gg();this.Lg=a.If();this.tG=!0;this.Yu={O:1,n:0,La:0,d:1,hb:0,ib:0};q.pM&&(this.Ri=new q.pM(this))},
w:function(){!1===this.tG&&this.GA();return!0},Bg:function(a,c){if(a&&0!==a.length){var d,e=a.length,f;d=q.F.Rf;switch(c){case d.Zg:for(d=0;d<e;d++)(f=a[d])&&f.Zg();break;case d.ge:for(d=0;d<e;d++)(f=a[d])&&f.ge();break;case d.Bi:for(d=0;d<e;d++)(f=a[d])&&f.Bi();break;case d.fg:for(d=0;d<e;d++)(f=a[d])&&f.fg();break;case d.sg:for(d=0;d<e;d++)(f=a[d])&&f.sg();break;case d.Mh:for(d=0;d<e;d++)(f=a[d])&&f.Mh();break;case d.je:for(d=0;d<e;d++)(f=a[d])&&f.je();break;default:throw"Unknown callback function";
}}},eb:null,cQ:function(){this.Nm();!1===this.kk&&(this.kk=this.Dv=!0)},dQ:function(){!1===this.kk&&(this.kk=this.Dv=!0)},y6:function(){return this.Ae},Ux:function(a){this.Ae=a;this.eb()},z6:function(){return this.Be},Vx:function(a){this.Be=a;this.eb()},p7:function(){return this.nb},hw:function(a){this.nb=a},aca:function(a){this.hw(a);this.ea&&this.ea.ct(this,a)},f7:function(){return this.Ew},oL:function(a){this.Ew=a},mT:function(){this.Kg!==this.fi&&q.log("cc.Node.rotation(): RotationX !\x3d RotationY. Don't know which one to return");
return this.Kg},Rx:function(a){this.Kg=this.fi=a;this.Lm=0.017453292519943295*this.Kg;this.Ur=0.017453292519943295*this.fi;this.eb()},n6:function(){return this.Kg},Sx:function(a){this.Kg=a;this.Lm=0.017453292519943295*this.Kg;this.eb()},o6:function(){return this.fi},Tx:function(a){this.fi=a;this.Ur=0.017453292519943295*this.fi;this.eb()},JC:function(){this.va!==this.Da&&q.log("cc.Node.getScale(): ScaleX !\x3d ScaleY. Don't know which one to return");return this.va},yk:function(a,c){this.va=a;this.Da=
c||0===c?c:a;this.eb()},nT:function(){return this.va},kq:function(a){this.va=a;this.eb()},oT:function(){return this.Da},Qn:function(a){this.Da=a;this.eb()},l:function(a,c){var d=this.u;2==arguments.length?(d.H=a,d.S=c):1==arguments.length&&(d.H=a.x,d.S=a.y);this.eb()},Y5:function(){return this.u},Z5:function(){return this.u.H},Ra:function(a){this.u.H=a;this.eb()},a6:function(){return this.u.S},Ac:function(a){this.u.S=a;this.eb()},o4:function(){return this.C.length},n4:function(){return this.C},BJ:function(){return this.ya},
D:function(a){this.ya=a;this.eb()},W3:function(){return this.pm},A:function(a,c){var d=this.pm;if(2===arguments.length){if(a===d.H&&c===d.S)return;d.H=a;d.S=c}else{if(a.x===d.H&&a.y===d.S)return;d.H=a.x;d.S=a.y}var e=this.Fd,f=this.Ca;e.H=f.Ia*d.H;e.S=f.xa*d.S;this.eb()},X3:function(){return this.Fd},c:function(){return this.Ca},P:function(a,c){var d=this.Ca;if(2===arguments.length){if(a===d.Ia&&c===d.xa)return;d.Ia=a;d.xa=c}else{if(a.width===d.Ia&&a.height===d.xa)return;d.Ia=a.width;d.xa=a.height}var e=
this.Fd,f=this.pm;e.H=d.Ia*f.H;e.S=d.xa*f.S;this.eb()},s8:function(){return this.bf},getParent:function(){return this.ea},jt:function(a){this.ea=a},d8:function(){return this.Zj},oj:function(a){a!=this.Zj&&(this.Zj=a,this.eb())},zT:function(){return this.Cd},kL:function(a){this.Cd=a},getUserData:function(){return this.zH},setUserData:function(a){this.zH=a},d7:function(){return this.TB},Vba:function(a){this.TB!=a&&(this.TB=a)},P5:function(){return this.Wf},jq:function(a){this.Wf=a},gg:function(){this.nh||
(this.nh=q.fa.g().gg());return this.nh},IW:function(a){this.nh!=a&&(this.pE(),this.nh=a)},If:function(){this.Lg||(this.Lg=q.fa.g().If());return this.Lg},JX:function(a){this.Lg!=a&&(this.vt(),this.Lg=a)},ob:function(){var a=q.rect(0,0,this.Ca.Ia,this.Ca.xa);return q.Ji(a,this.jg())},fg:function(){this.pE();this.vt();this.Bg(this.C,q.F.Rf.fg)},description:function(){return"\x3ccc.Node | Tag \x3d"+this.Cd+"\x3e"},SS:function(a){var c=this.C;if(null!=c)for(var d=0;d<c.length;d++){var e=c[d];if(e&&e.Cd==
a)return e}return null},f:function(a,c,d){if(!a)throw"cc.Node.addChild(): child must be non-null";a===this?q.log("cc.Node.addChild(): An Node can't be added as a child of itself."):null!==a.ea?q.log("cc.Node.addChild(): child already added. It can't be added again"):(c=null!=c?c:a.nb,a.Cd=null!=d?d:a.Cd,this.YO(a,c),a.ea=this,this.bf&&(a.Zg(),this.JA&&a.Bi()))},K:function(a){this.ea&&(null==a&&(a=!0),this.ea.removeChild(this,a))},gW:function(a){q.log("removeFromParentAndCleanup is deprecated. Use removeFromParent instead");
this.K(a)},removeChild:function(a,c){0!==this.C.length&&(null==c&&(c=!0),-1<this.C.indexOf(a)&&this.AO(a,c),this.eb())},G$:function(a,c){a===q.hF&&q.log("cc.Node.removeChildByTag(): argument tag is an invalid tag");var d=this.SS(a);null==d?q.log("cocos2d: removeChildByTag(tag \x3d "+a+"): child not found!"):this.removeChild(d,c)},y$:function(a){q.log("removeAllChildrenWithCleanup is deprecated. Use removeAllChildren instead");this.nc(a)},nc:function(a){var c=this.C;if(null!=c){null==a&&(a=!0);for(var d=
0;d<c.length;d++){var e=c[d];e&&(this.bf&&(e.Mh(),e.ge()),a&&e.fg(),e.jt(null))}this.C.length=0}},AO:function(a,c){this.bf&&(a.Mh(),a.ge());c&&a.fg();a.jt(null);q.ke(this.C,a)},YO:function(a,c){this.ze=!0;this.C.push(a);a.hw(c)},ct:function(a,c){if(!a)throw"cc.Node.reorderChild(): child must be non-null";this.ze=!0;a.jq(q.xW++);a.hw(c);this.eb()},je:function(){if(this.ze){var a=this.C,c,d,e=a.length,f;for(c=0;c<e;c++){var g=a[c];d=c-1;for(f=a[d];0<=d&&(g.nb<f.nb||g.nb==f.nb&&g.Wf<f.Wf);)a[d+1]=f,
d-=1,f=a[d];a[d+1]=g}this.ze=!1}},Ya:function(){},jy:function(){null!=this.ea&&(this.ea.jy(),this.ea.transform())},Zg:function(){this.JA=!1;this.bf=!0;this.Bg(this.C,q.F.Rf.Zg);this.Gx()},Bi:function(){this.JA=!0;this.Bg(this.C,q.F.Rf.Bi)},Mh:function(){this.Bg(this.C,q.F.Rf.Mh)},ge:function(){this.bf=!1;this.zx();this.Bg(this.C,q.F.Rf.ge);this.Ri&&this.Ri.bW()},Hx:function(a){if(!a)throw"cc.Node.runAction(): action must be non-null";this.gg().VQ(a,this,!this.bf);return a},pE:function(){this.gg().qK(this)},
pY:function(a){this.gg().pK(a)},sca:function(a){a===q.$n?q.log("cc.Node.stopActionBy(): argument tag an invalid tag"):this.gg().aW(a,this)},BC:function(a){return a===q.$n?(q.log("cc.Node.getActionByTag(): argument tag is an invalid tag"),null):this.gg().BC(a,this)},C5:function(){return this.gg().TJ(this)},t9:function(){return this.gg().TJ(this)},AW:function(){this.BW(0)},BW:function(a){this.If().yK(this,a,!this.bf)},Zca:function(){this.If().pq(this)},gc:function(a,c,d,e){c=c||0;if(!a)throw"cc.Node.schedule(): callback function must be non-null";
if(0>c)throw"cc.Node.schedule(): interval must be positive";d=null==d?q.im:d;e=e||0;this.If().zW(this,a,c,d,e,!this.bf)},Td:function(a,c){this.gc(a,0,0,c)},Sc:function(a){a&&this.If().PL(this,a)},vt:function(){this.If().OL(this)},Gx:function(){this.If().Ln(this);this.gg().Ln(this)},zx:function(){this.If().bt(this);this.gg().bt(this)},haa:function(a){this.Yu=a;this.Mq=this.kk=!0},Z9:function(){this.Dv&&(this.uG=q.IE(this.jg()),this.Dv=!1);return this.uG},Bn:function(){for(var a=this.jg(),c=this.ea;null!=
c;c=c.getParent())a=q.bm(a,c.jg());return a},KY:function(){return q.IE(this.Bn())},Ka:function(a){return q.tF(a,this.KY())},pl:function(a){return q.tF(a,this.Bn())},WR:function(a){return q.Rd(this.Ka(a),this.Fd)},P2:function(a){a=q.ah(a,this.Fd);return this.pl(a)},T0:function(a){a=this.pl(a);return q.fa.g().XR(a)},pi:function(a){return this.Ka(a.R)},Q2:function(a){a=a.R;a=q.fa.g().VR(a);return this.WR(a)},update:function(a){this.Ri&&!this.Ri.Z7()&&this.Ri.Ba(a)},sg:function(){this.Bg(this.C,q.F.Rf.sg)},
wK:function(){},oK:function(){},TS:function(a){return this.Ri.TS(a)},G1:function(a){this.Ri.add(a)},H$:function(a){return this.Ri.remove(a)},z$:function(){this.Ri.bW()},mH:null,GB:null,CA:null,Co:null,Vk:null,ctor:null,Wh:function(){this.GA()},Xh:function(){this.GA();var a=new q.Kh;a.Lh[2]=a.Lh[3]=a.Lh[6]=a.Lh[7]=a.Lh[8]=a.Lh[9]=a.Lh[11]=a.Lh[14]=0;a.Lh[10]=a.Lh[15]=1;this.mH=a;this.CA=0;this.GB=new q.Kh},Ba:null,an:function(a){if(this.ya){a=a||q.ca;var c,d=this.C,e;a.save();this.transform(a);var f=
d.length;if(0<f){this.je();for(c=0;c<f;c++)if(e=d[c],0>e.nb)e.Ba(a);else break;for(this.Ya(a);c<f;c++)d[c].Ba(a)}else this.Ya(a);this.Wf=0;a.restore()}},bn:function(){if(this.ya){var a=q.ca,c,d=q.bS;d.stack.push(d.top);q.K8(this.GB,d.top);d.top=this.GB;var e=this.Vk;e&&e.TN&&e.gC();this.transform();var f=this.C;if(f&&0<f.length){var g=f.length;this.je();for(c=0;c<g;c++)if(f[c]&&0>f[c].nb)f[c].Ba();else break;for(this.Ya(a);c<g;c++)f[c]&&f[c].Ba()}else this.Ya(a);this.Wf=0;e&&e.TN&&e.cC(this);d.top=
d.stack.pop()}},transform:null,DQ:function(a){a=a||q.ca;var c=q.qa.g(),d=this.jg();a.transform(d.O,d.La,d.n,d.d,d.hb*c.va,-d.ib*c.Da)},EQ:function(){var a=this.mH,c=q.bS.top,d=this.jg(),e=a.Lh;e[0]=d.O;e[4]=d.La;e[12]=d.hb;e[1]=d.n;e[5]=d.d;e[13]=d.ib;e[14]=this.Ew;q.GU(c,c,a);null==this.Co||null!=this.Vk&&this.Vk.aq()||(a=this.Fd.H,c=this.Fd.S,0!==a||0!==c?(q.EU(q.xg(a),q.xg(c),0),this.Co.JJ(),q.EU(q.xg(-a),q.xg(-c),0)):this.Co.JJ())},jg:null,nP:function(){this.jk||(this.jk={O:1,n:0,La:0,d:1,hb:0,
ib:0});if(this.kk){var a=this.jk;a.hb=this.u.H;a.ib=this.u.S;var c=1,d=0;this.Kg&&(c=Math.cos(this.Lm),d=Math.sin(this.Lm));a.O=a.d=c;a.n=-d;a.La=d;var e=this.va,f=this.Da,g=this.Fd.H,h=this.Fd.S,k=1E-6>e&&-1E-6<e?1E-6:e,l=1E-6>f&&-1E-6<f?1E-6:f;if(this.Ae||this.Be){var m=Math.tan(-this.Ae*Math.PI/180),p=Math.tan(-this.Be*Math.PI/180),s=h*m*k,u=g*p*l;a.O=c+-d*p;a.n=c*m+-d;a.La=d+c*p;a.d=d*m+c;a.hb+=c*s+-d*u;a.ib+=d*s+c*u}if(1!==e||1!==f)a.O*=k,a.La*=k,a.n*=l,a.d*=l;a.hb+=c*-g*k+-d*h*l;a.ib-=d*-g*
k+c*h*l;this.Zj&&(a.hb+=g,a.ib+=h);this.Mq&&(this.jk=q.bm(this.jk,this.Yu),this.Mq=!1);this.kk=!1}return this.jk},oP:function(){if(this.kk){var a=this.u.H,c=this.u.S,d=this.Fd.H,e=-d,f=this.Fd.S,g=-f,h=this.va,k=this.Da;this.Zj&&(a+=d,c+=f);var l=1,m=0,p=1,s=0;if(0!==this.Kg||0!==this.fi)l=Math.cos(-this.Lm),m=Math.sin(-this.Lm),p=Math.cos(-this.Ur),s=Math.sin(-this.Ur);var u=this.Ae||this.Be;u||0===d&&0===f||(a+=p*e*h+-m*g*k,c+=s*e*h+l*g*k);a={O:p*h,n:s*h,La:-m*k,d:l*k,hb:a,ib:c};u&&(a=q.bm({O:1,
n:Math.tan(q.Ej(this.Be)),La:Math.tan(q.Ej(this.Ae)),d:1,hb:0,ib:0},a),0!==d||0!==f)&&(a=q.ty(a,e,g));this.Mq&&(a=q.bm(a,this.Yu),this.Mq=!1);this.jk=a;this.kk=!1}return this.jk},Nm:function(){this.$F=!0;this.ea&&this.ea.Nm()},CC:function(){this.Co||(this.Co=new q.wq);return this.Co},Y4:function(){return this.Vk},Jaa:function(a){this.Vk=a},LC:function(){return this.Xc},eh:function(a){this.Xc=a},X4:function(){return this.CA},Iaa:function(a){this.CA=a},f4:function(){var a=q.rect(0,0,this.Ca.Ia,this.Ca.xa),
c=this.Bn(),a=q.Qf(a,this.Bn());if(!this.C)return a;for(var d=this.C,e=0;e<d.length;e++){var f=d[e];f&&f.ya&&(f=f.lG(c))&&(a=q.Dx(a,f))}return a},lG:function(a){var c=q.rect(0,0,this.Ca.Ia,this.Ca.xa);a=null==a?this.jg():q.bm(this.jg(),a);c=q.Qf(c,a);if(!this.C)return c;for(var d=this.C,e=0;e<d.length;e++){var f=d[e];f&&f.ya&&(f=f.lG(a))&&(c=q.Dx(c,f))}return c}});
q.Ja.cd?(b=q.F.prototype,b.ctor=q.F.prototype.Xh,b.eb=q.F.prototype.dQ,b.Ba=q.F.prototype.bn,b.transform=q.F.prototype.EQ,b.jg=q.F.prototype.oP):(b=q.F.prototype,b.ctor=q.F.prototype.Wh,b.eb=q.F.prototype.cQ,b.Ba=q.F.prototype.an,b.transform=q.F.prototype.DQ,b.jg=q.F.prototype.nP);q.F.create=function(){return new q.F};q.F.Rf={Zg:1,ge:2,fg:3,Bi:4,sg:5,Mh:6,je:7};
q.Jb=q.F.extend({ub:!0,ec:255,Jg:255,Hc:null,ye:null,Gd:!1,re:!1,ctor:function(){q.F.prototype.ctor.call(this);this.Jg=this.ec=255;this.Hc=q.Fb();this.ye=q.Fb();this.re=this.Gd=!1},mj:function(){return this.Jg},VS:function(){return this.ec},ta:function(a){this.ec=this.Jg=a;a=255;var c=this.ea;c&&c.ub&&c.re&&(a=c.ec);this.ud(a)},ud:function(a){this.ec=this.Jg*a/255;if(this.re){a=this.C;for(var c=0;c<a.length;c++){var d=a[c];d&&d.ub&&d.ud(this.ec)}}},uU:function(){return this.re},GK:function(a){this.re!==
a&&((this.re=a)?this.or():this.mA())},or:function(){var a=255,c=this.ea;c&&c.ub&&c.re&&(a=c.ec);this.ud(a)},mA:function(){this.ec=this.Jg;for(var a=this.C,c=0;c<a.length;c++){var d=a[c];d&&d.ub&&d.ud(255)}},Dd:function(){var a=this.ye;return new q.Fc(a.q,a.p,a.n)},Ms:function(){return this.Hc},r:function(a){var c=this.Hc,d=this.ye;c.q=d.q=a.q;c.p=d.p=a.p;c.n=d.n=a.n;a=(a=this.ea)&&a.ub&&a.Gd?a.Ms():q.Fb();this.td(a)},td:function(a){var c=this.Hc,d=this.ye;c.q=0|d.q*a.q/255;c.p=0|d.p*a.p/255;c.n=0|
d.n*a.n/255;if(this.Gd)for(a=this.C,d=0;d<a.length;d++){var e=a[d];e&&e.ub&&e.td(c)}},tU:function(){return this.Gd},FK:function(a){this.Gd!==a&&((this.Gd=a)?this.nr():this.lA())},nr:function(){var a;a=(a=this.ea)&&a.ub&&a.Gd?a.Ms():q.Fb();this.td(a)},lA:function(){var a=this.Hc,c=this.ye;a.q=c.q;a.p=c.p;a.n=c.n;for(var a=this.C,c=q.Fb(),d=0;d<a.length;d++){var e=a[d];e&&e.ub&&e.td(c)}},f:function(a,c,d){q.F.prototype.f.call(this,a,c,d);this.Gd&&this.nr();this.re&&this.or()},Lf:function(){},yl:function(){return!1}});
q.Jb.create=function(){var a=new q.Jb;a.w();return a};q.le=q.Jb.extend({ub:!0,AG:0,zG:0,Fv:0,Ev:0,Pj:null,Ta:null,Dc:!1,oa:null,Rr:0,DA:!1,ctor:function(){q.Jb.prototype.ctor.call(this);this.Pj=q.Fb();this.oa={src:q.Te,Rb:q.Se};this.DA=!1},ada:function(){q.log("cc.AtlasNode.updateAtlasValues(): Shall be overridden in subclasses")},Dd:function(){return this.Dc?this.Pj:q.Jb.prototype.Dd.call(this)},Lf:function(a){var c=this.Dd();this.Dc=a;this.r(c)},yl:function(){return this.Dc},Ls:function(){return this.oa},Nl:function(a,c){this.oa=1==arguments.length?
a:{src:a,Rb:c}},mq:function(a){this.Ta=a},RI:function(){return this.Ta},g6:function(){return this.Rr},rba:function(a){this.Rr=a},Um:null,Xf:null,pH:null,hv:null,iU:function(a,c,d,e){if(!a)throw"cc.AtlasNode.initWithTileFile(): title should not be null";a=q.ia.g().ma(a);return this.Qa(a,c,d,e)},Qa:null,Cr:function(a,c,d,e){this.Fv=c;this.Ev=d;this.Dc=!0;this.Xf=a;if(!this.Xf)return q.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.Um=this.Xf;this.dv();this.Rr=e;return!0},
Dr:function(a,c,d,e){this.Fv=c;this.Ev=d;this.Pj=q.Fb();this.Dc=!0;this.oa.src=q.Te;this.oa.Rb=q.Se;c=this.ye;this.hv=new Float32Array([c.q/255,c.p/255,c.n/255,this.Jg/255]);this.Ta=new q.po;this.Ta.Qa(a,e);if(!this.Ta)return q.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.$m();this.wH();this.dv();this.Rr=e;this.eh(q.Vh.g().Di(q.b0));this.pH=q.ca.getUniformLocation(this.LC().ax(),"u_color");return!0},Ya:null,Eg:function(a){a=a||q.ca;q.Zy(this);q.sk(this.oa.src,this.oa.Rb);
a.uniform4fv(this.pH,this.hv);this.Ta.kI(this.Rr,0)},r:null,Wr:function(a){var c=this.ye;if(c.q!=a.q||c.p!=a.p||c.n!=a.n){c=new q.Fc(a.q,a.p,a.n);this.Pj=a;if(this.Dc){var d=this.ec;c.q=c.q*d/255;c.p=c.p*d/255;c.n=c.n*d/255}q.Jb.prototype.r.call(this,a);this.ja()&&(a=this.Xf.Cc)&&(c=q.ia.g().SI(a))&&(d=q.rect(0,0,a.width,a.height),a=q.AC(a,c,this.ye,d),c=new q.ic,c.nf(a),c.ee(),this.ka(c))}},pB:function(a){var c=q.Fc(a.q,a.p,a.n);this.Pj=a;var d=this.ec;this.Dc&&(c.q=c.q*d/255,c.p=c.p*d/255,c.n=c.n*
d/255);q.Jb.prototype.r.call(this,a);a=this.Hc;this.hv=new Float32Array([a.q/255,a.p/255,a.n/255,d/255])},ta:null,Yr:function(a){q.Jb.prototype.ta.call(this,a);this.Dc&&this.r(this.Pj)},rB:function(a){q.Jb.prototype.ta.call(this,a);this.Dc?this.r(this.Pj):(a=this.Hc,this.hv=new Float32Array([a.q/255,a.p/255,a.n/255,this.ec/255]))},ja:null,zA:function(){return this.Um},AA:function(){return this.Ta.ja()},ka:null,Zr:function(a){this.Um=a},$r:function(a){this.Ta.ka(a);this.$m();this.wH()},dv:null,iO:function(){var a=
this.ja().c();this.zG=0|a.height/this.Ev;this.AG=0|a.width/this.Fv},jO:function(){var a=this.ja(),c=a.c();this.DA&&(c=a.Ca);this.zG=0|c.height/this.Ev;this.AG=0|c.width/this.Fv},$m:function(){this.Ta.ja().Us()||(this.oa.src=770,this.oa.Rb=771)},wH:function(){this.Dc=this.Ta.ja().Us()},qB:function(a){this.DA=a}});
q.Ja.cd?(b=q.le.prototype,b.Qa=q.le.prototype.Dr,b.Ya=q.le.prototype.Eg,b.r=q.le.prototype.pB,b.ta=q.le.prototype.rB,b.ja=q.le.prototype.AA,b.ka=q.le.prototype.$r,b.dv=q.le.prototype.jO):(b=q.le.prototype,b.Qa=q.le.prototype.Cr,b.Ya=q.F.prototype.Ya,b.r=q.le.prototype.Wr,b.ta=q.le.prototype.Yr,b.ja=q.le.prototype.zA,b.ka=q.le.prototype.Zr,b.dv=q.le.prototype.iO);q.le.create=function(a,c,d,e){var f=new q.le;return f.iU(a,c,d,e)?f:null};q.Jj=0;q.Gq=1;q.Fq=2;q.Eq=3;q.pz=4;q.oz=5;q.Eu=6;q.Du=7;q.EF=8;q.DF=9;q.CF=q.Jj;q.eA=q.CF;q.nN=!1;q.y1=function(a,c,d,e){this.NU=a||0;this.LU=c||0;this.bM=d||0;this.cM=e||0};
q.DN=q.Na.extend({rP:null,Yf:null,wh:null,vh:null,NA:null,Ca:null,rh:null,sh:null,Uo:null,zm:!1,Xc:null,Lc:!1,Cc:null,oi:null,ae:null,ctor:function(){this.vh=this.wh=0;this.NA="";this.sh=this.rh=0;this.Uo=!1;this.Ca=q.Om();this.zm=!1;this.rP=!0;this.Yf=q.ic.cS();this.Xc=null;this.Lc=!1;this.oi=this.Cc=null;this.ae=[]},FD:function(){this.oi&&q.ca.deleteTexture(this.oi)},U5:function(){return this.Yf},Tp:function(){return this.wh},Sp:function(){return this.vh},getName:function(){return this.oi},c:function(){return q.size(this.Ca.width/
q.ed(),this.Ca.height/q.ed())},US:function(){return this.Ca},$S:function(){return this.rh},lX:function(a){this.rh=a},aT:function(){return this.sh},mX:function(a){this.sh=a},LC:function(){return this.Xc},eh:function(a){this.Xc=a},Us:function(){return this.Uo},TT:function(){return this.zm},description:function(){return"\x3ccc.Texture2D | Name \x3d "+this.NA+" | Dimensions \x3d "+this.wh+" x "+this.vh+" | Coordinates \x3d ("+this.rh+", "+this.sh+")\x3e"},ZV:function(){},CU:function(a){return a},fx:function(a,
c,d,e,f){var g=q.ca,h=0,h=c===q.Jj?24:this.UH(c),h=d*h/8;0===h%8?g.pixelStorei(g.UNPACK_ALIGNMENT,8):0===h%4?g.pixelStorei(g.UNPACK_ALIGNMENT,4):0===h%2?g.pixelStorei(g.UNPACK_ALIGNMENT,2):g.pixelStorei(g.UNPACK_ALIGNMENT,1);this.oi=g.createTexture();q.Rg(this);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE);
switch(c){case q.Jj:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_BYTE,a);break;case q.Gq:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_BYTE,a);break;case q.Eu:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_4_4_4_4,a);break;case q.Du:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_5_5_5_1,a);break;case q.Fq:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_SHORT_5_6_5,a);break;case q.oz:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE_ALPHA,
d,e,0,g.LUMINANCE_ALPHA,g.UNSIGNED_BYTE,a);break;case q.Eq:g.texImage2D(g.TEXTURE_2D,0,g.ALPHA,d,e,0,g.ALPHA,g.UNSIGNED_BYTE,a);break;case q.pz:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE,d,e,0,g.LUMINANCE,g.UNSIGNED_BYTE,a);break;default:throw"NSInternalInconsistencyException";}this.Ca.Ia=f.width;this.Ca.xa=f.height;this.wh=d;this.vh=e;this.Yf=c;this.rh=f.width/d;this.sh=f.height/e;this.zm=this.Uo=!1;this.eh(q.Vh.g().Di(q.sN));return this.Lc=!0},xS:function(a){var c=[0,this.sh,this.rh,this.sh,0,0,this.rh,
0],d=this.wh*this.rh,e=this.vh*this.sh;a=[a.x,a.y,0,d+a.x,a.y,0,a.x,e+a.y,0,d+a.x,e+a.y,0];q.Je(q.mh|q.MN);this.Xc.tf();this.Xc.nL();q.Rg(this);d=q.ca;d.vertexAttribPointer(q.We,2,d.FLOAT,!1,0,a);d.vertexAttribPointer(q.Kq,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},zS:function(a){var c=[0,this.sh,this.rh,this.sh,0,0,this.rh,0];a=[a.x,a.y,a.x+a.width,a.y,a.x,a.y+a.height,a.x+a.width,a.y+a.height];q.Je(q.mh|q.MN);this.Xc.tf();this.Xc.nL();q.Rg(this);var d=q.ca;d.vertexAttribPointer(q.We,
2,d.FLOAT,!1,0,a);d.vertexAttribPointer(q.Kq,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},YC:function(a){if(null==a)return q.log("cocos2d: cc.Texture2D. Can't create Texture. UIImage is nil"),!1;var c=a.Rs(),d=a.Ns(),e=q.Ue.g().Lr;if(c>e||d>e)return q.log("cocos2d: WARNING: Image ("+c+" x "+d+") is bigger than the supported "+e+" x "+e),!1;this.Lc=!0;return this.PO(a,c,d)},nf:function(a){a&&(this.oi=q.ca.createTexture(),this.Cc=a)},XS:function(){return this.Cc},Vg:function(){return this.Lc},
ee:function(){this.Lc=!0;var a=q.ca;q.Rg(this);a.pixelStorei(a.UNPACK_ALIGNMENT,4);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,this.Cc);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);this.eh(q.Vh.g().Di(q.sN));q.Rg(null);a=this.Cc.height;this.wh=this.Ca.Ia=this.Cc.width;this.vh=this.Ca.xa=
a;this.Yf=q.Jj;this.sh=this.rh=1;this.zm=this.Uo=!1;this.qe()},xl:function(a,c,d,e,f,g){3==arguments.length&&(c=arguments[1],d=arguments[2],e=q.size(0,0),f=q.Kj,g=q.Qu);var h=new q.IM,k;if(q.Qu===g)k=q.Kj===f?q.TY:q.Hq===f?q.UY:q.VY;else if(q.Pu===g)k=q.Kj===f?q.QY:q.Hq===f?q.RY:q.SY;else if(q.Ou===g)k=q.Kj===f?q.NY:q.Hq===f?q.OY:q.PY;else return q.log("Not supported alignment format!"),!1;return h.xl(a,e.width,e.height,k,c,d)?this.YC(h):!1},cU:function(){return!1},iJ:function(a){var c=!1,d=new q.u0;
(c=d.D7(a))?(d.xba(!0),this.NA=d.getName(),this.sh=this.rh=1,this.wh=d.Rs(),this.vh=d.Ns(),this.Ca.Ia=this.wh,this.Ca.xa=this.vh,this.Uo=q.nN,this.Yf=d.V4(),this.BK()):q.log("cocos2d: Couldn't load PVR image "+a);return c},gU:function(){return q.Ue.g().js?!0:(q.log("cocos2d: WARNING: PVRTC images is not supported."),!1)},PX:function(a){var c=q.ca;q.Dt(this.wh==q.io(this.wh)&&this.vh==q.io(this.vh)||a.bM==c.CLAMP_TO_EDGE&&a.cM==c.CLAMP_TO_EDGE,"WebGLRenderingContext.CLAMP_TO_EDGE should be used in NPOT textures");
q.Rg(this);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,a.NU);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,a.LU);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,a.bM);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,a.cM)},BK:function(){var a=q.ca;q.Rg(this);this.zm?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},AK:function(){var a=q.ca;q.Rg(this);
this.zm?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},generateMipmap:function(){q.Dt(this.wh==q.io(this.wh)&&this.vh==q.io(this.vh),"Mimpap texture only works in POT textures");q.Rg(this);q.ca.generateMipmap(q.ca.TEXTURE_2D);this.zm=!0},qY:function(){switch(this.Yf){case q.Jj:return"RGBA8888";case q.Gq:return"RGB888";case q.Fq:return"RGB565";case q.Eu:return"RGBA4444";
case q.Du:return"RGB5A1";case q.oz:return"AI88";case q.Eq:return"A8";case q.pz:return"I8";case q.EF:return"PVRTC4";case q.DF:return"PVRTC2";default:q.log("stringForFormat: "+this.Yf+", cannot give useful result, it's a unrecognized pixel format")}return""},UH:function(a){a=a||this.Yf;switch(a){case q.Jj:return 32;case q.Gq:return 32;case q.Fq:return 16;case q.Eq:return 8;case q.Eu:return 16;case q.Du:return 16;case q.EF:return 4;case q.DF:return 2;case q.pz:return 8;case q.oz:return 16;default:return q.log("bitsPerPixelForFormat: "+
this.Yf+", cannot give useful result, it's a illegal pixel format"),-1}},PO:function(a,c,d){var e=a.getData(),f=null,f=null,g=a.u7(),h=q.size(a.Rs(),a.Ns()),k=q.CF,l=a.d4();g||(8<=l?k=q.Gq:(q.log("cocos2d: cc.Texture2D: Using RGB565 texture since image has no alpha"),k=q.Fq));var m=c*d;if(k==q.Fq)if(g)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>2<<5|(f[l]>>16&255)>>3<<0;else for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]&255)>>3<<
11|(f[l]&255)>>2<<5|(f[l]&255)>>3<<0;else if(k==q.Eu)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>4<<12|(f[l]>>8&255)>>4<<8|(f[l]>>16&255)>>4<<4|(f[l]>>24&255)>>4<<0;else if(k==q.Du)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>3<<6|(f[l]>>16&255)>>3<<1|(f[l]>>24&255)>>7<<0;else if(k==q.Eq)for(e=new Uint8Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=f>>24&255;if(g&&k==q.Gq)for(f=a.getData(),e=new Uint8Array(c*d*3),l=0;l<m;++l)e[3*
l]=f>>0&255,e[3*l+1]=f>>8&255,e[3*l+2]=f>>16&255;this.fx(e,k,c,d,h);a.getData();this.Uo=a.n8();return!0},eg:function(a,c){this.ae.push({eventCallback:a,si:c})},hW:function(a){for(var c=this.ae,d=0;d<c.length;d++)c[d].si==a&&c.splice(d,1)},qe:function(){for(var a=this.ae,c=0,d=a.length;c<d;c++){var e=a[c];e.eventCallback.call(e.si,this)}a.length=0}});
q.CN=q.Na.extend({Ca:null,Lc:!1,Cc:null,ae:null,ctor:function(){this.Ca=q.Om();this.Lc=!1;this.Cc=null;this.ae=[]},Tp:function(){return this.Ca.Ia},Sp:function(){return this.Ca.xa},c:function(){var a=q.ed();return q.size(this.Ca.Ia/a,this.Ca.xa/a)},US:function(){return this.Ca},nf:function(a){a&&(this.Cc=a)},XS:function(){return this.Cc},Vg:function(){return this.Lc},ee:function(){this.Lc=!0;var a=this.Cc;this.Ca.Ia=a.width;this.Ca.xa=a.height;this.qe()},description:function(){return"\x3ccc.Texture2D | width \x3d "+
this.Ca.Ia+" height "+this.Ca.xa+"\x3e"},fx:function(){return!1},YC:function(){return!1},xl:function(){return!1},FD:function(){},getName:function(){return null},$S:function(){return 1},lX:function(){},aT:function(){return 1},mX:function(){},LC:function(){return null},eh:function(){},Us:function(){return!1},TT:function(){return!1},ZV:function(){},CU:function(a){return a},xS:function(){},zS:function(){},cU:function(){return!1},iJ:function(){return!1},gU:function(){return!0},PX:function(){},BK:function(){},
AK:function(){},generateMipmap:function(){},qY:function(){return""},UH:function(){return-1},eg:function(a,c){this.ae.push({eventCallback:a,si:c})},hW:function(a){for(var c=this.ae,d=0;d<c.length;d++)c[d].si==a&&c.splice(d,1)},qe:function(){for(var a=this.ae,c=0,d=a.length;c<d;c++){var e=a[c];e.eventCallback.call(e.si,this)}a.length=0}});q.ic=q.Ja.cd?q.DN:q.CN;q.ic.uaa=function(a){q.eA=a};q.ic.cS=function(){return q.eA};q.ic.B4=function(){return q.eA};q.Ks=null;q.W8=function(a){if(q.TR(a)==q.CM)q.log("unsupported format:"+a);else{var c=new Image;c.src=a;c.addEventListener("load",function(){q.ia.g().vR(a,c);this.removeEventListener("load",arguments.callee,!1)},!1)}};q.TR=function(a){return 0<a.toLowerCase().indexOf(".jpg")||0<a.toLowerCase().indexOf(".jpeg")?q.QZ:0<a.toLowerCase().indexOf(".png")?q.RZ:0<a.toLowerCase().indexOf(".webp")?q.TZ:q.CM};
q.ia=q.Na.extend({$a:null,ks:null,rw:null,PG:!1,Jv:null,Kv:null,ctor:function(){if(q.Ks)throw"Attempted to allocate a second instance of a singleton.";this.rw+=0|1E3*Math.random();this.$a={};this.ks={};q.Sd===q.Ik&&(this.Jv={},this.Kv={})},Iz:function(a,c){if(a&&"string"===typeof c)a[c]();else a&&"function"===typeof c&&c.call(a)},XO:function(){this.PG=!0;var a,c=this.Jv,d=this.$a;for(a in c){var e=c[a],f=new q.ic;f.nf(e);f.ee();d[a]=f}this.Jv={}},M1:function(){q.log("TextureCache:addPVRTCImage does not support on HTML5")},
H1:function(){q.log("TextureCache:addPVRTCImage does not support on HTML5")},description:function(){return"\x3cTextureCache | Number of textures \x3d "+this.$a.length+"\x3e"},fy:function(a,c){var d=c?a:q.Vd.g().Ge(a);return this.$a.hasOwnProperty(d)?this.$a[d]:null},ZS:function(a){for(var c in this.$a)if(this.$a[c]==a)return c;return null},GO:function(){this.rw++;return"_textureKey_"+this.rw},SI:function(a){var c=this.ZS(a);c||(c=a instanceof HTMLImageElement?a.src:this.GO());this.ks.hasOwnProperty(c)||
(this.ks[c]=q.Lp(a));return this.ks[c]},L1:function(a){if(!a)throw"cc.TextureCache.addPVRImage(): path should be non-null";a=q.Vd.g().Ge(a);if(null!=this.$a[a])return this.$a[a];var c=new q.ic;c.iJ(a)?this.$a[a]=c:q.log("cocos2d: Couldn't add PVRImage:"+a+" in TextureCache");return c},C$:function(){var a=this.$a,c;for(c in a)a[c]&&a[c].FD();this.$a={}},Q$:function(a){if(a){var c=this.$a,d;for(d in c)c[d]==a&&(c[d].FD(),delete c[d])}},lW:function(a){null!=a&&(a=q.Vd.g().Ge(a),this.$a[a]&&delete this.$a[a])},
I1:function(a,c,d){if(!a)throw"cc.TextureCache.addImageAsync(): path should be non-null";a=q.Vd.g().Ge(a);var e=this.$a[a],f,g;if(e)e.Vg()?this.Iz(c,d):(g=this,f=e.Cc,f.addEventListener("load",function(){e.ee();g.Iz(c,d);this.removeEventListener("load",arguments.callee,!1)}));else{f=new Image;f.crossOrigin="Anonymous";g=this;f.addEventListener("load",function(){g.$a.hasOwnProperty(a)&&g.$a[a].ee();g.Iz(c,d);this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,
!1)});f.addEventListener("error",function(){q.Tb.g().Gl(a);g.$a.hasOwnProperty(a)&&delete g.$a[a];this.removeEventListener("error",arguments.callee,!1)});f.src=a;var h=new q.ic;h.nf(f);this.$a[a]=h}return this.$a[a]},VN:function(a){var c=new Image;c.crossOrigin="Anonymous";var d=this;c.addEventListener("load",function(){q.Tb.g().lg();d.Jv[a]=c;delete d.Kv[a];this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});c.addEventListener("error",function(){q.Tb.g().Gl(a);
delete d.Kv[a];this.removeEventListener("error",arguments.callee,!1)});c.src=a;this.Kv[a]=c},ma:function(a,c){if(!a)throw"cc.Texture.addImage(): path should be non-null";if(q.Sd===q.Ik&&!this.PG)return this.VN(a);c||(a=q.Vd.g().Ge(a));var d=this.$a[a],e;if(d)d.Vg()?q.Tb.g().lg():(e=d.Cc,e.addEventListener("load",function(){d.ee();q.Tb.g().lg();this.removeEventListener("load",arguments.callee,!1)}));else{e=new Image;e.crossOrigin="Anonymous";var f=this;e.addEventListener("load",function(){q.Tb.g().lg();
f.$a.hasOwnProperty(a)&&f.$a[a].ee();this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});e.addEventListener("error",function(){q.Tb.g().Gl(a);f.$a.hasOwnProperty(a)&&delete f.$a[a];this.removeEventListener("error",arguments.callee,!1)});e.src=a;var g=new q.ic;g.nf(e);this.$a[a]=g}return this.$a[a]},J1:function(a,c,d){if(!a)throw"cc.Texture.addImageFromBase64(): data should be non-null";var e=this,f=new Image;f.src="data:image/"+d+";base64,"+
a;f.addEventListener("load",function(){q.Tb.g().lg();e.$a.hasOwnProperty(c)&&e.$a[c].ee();this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});f.addEventListener("error",function(){q.Tb.g().Gl(c);e.$a.hasOwnProperty(c)&&delete e.$a[c];this.removeEventListener("error",arguments.callee,!1)});a=new q.ic;a.nf(f);this.$a[c]=a;return this.$a[c]},vR:function(a,c){if(c instanceof q.ic)this.$a[a]=c;else{var d=new q.ic;d.nf(c);d.ee();this.$a[a]=d;q.log(a);
q.log(this.$a[a])}},R1:function(a,c){if(!a)throw"cc.Texture.addUIImage(): image should be non-null";if(c&&this.$a.hasOwnProperty(c)&&this.$a[c])return this.$a[c];var d=new q.ic;d.YC(a);null!=c&&null!=d?this.$a[c]=d:q.log("cocos2d: Couldn't add UIImage in TextureCache");return d},m3:function(){var a=0,c=0,d=this.$a,e;for(e in d){var f=d[e];a++;f.Cc instanceof HTMLImageElement?q.log("cocos2d: '"+e+"' id\x3d"+f.Cc.src+" "+f.Tp()+" x "+f.Sp()):q.log("cocos2d: '"+e+"' id\x3d HTMLCanvasElement "+f.Tp()+
" x "+f.Sp());c+=f.Tp()*f.Sp()*4}d=this.ks;for(e in d){var f=d[e],g;for(g in f){var h=f[g];a++;q.log("cocos2d: '"+e+"' id\x3d HTMLCanvasElement "+h.width+" x "+h.height);c+=h.width*h.height*4}}q.log("cocos2d: TextureCache dumpDebugInfo: "+a+" textures, HTMLCanvasElement for "+c/1024+" KB ("+(c/1048576).toFixed(2)+" MB)")}});q.ia.g=function(){q.Ks||(q.Ks=new q.ia);return q.Ks};q.ia.KV=function(){q.Ks=null};q.po=q.Na.extend({Jd:null,Pi:null,Oa:!1,xd:0,Ha:null,Ze:null,Hg:null,Sr:null,Ig:null,ctor:function(){this.Pi=[]},V6:function(){return this.ab},l4:function(){return this.xd},ja:function(){return this.Ha},ka:function(a){this.Ha=a},dh:function(a){this.Oa=a},tJ:function(){return this.Oa},f6:function(){return this.Ze},qba:function(a){this.Ze=a},U0:function(a,c){if(a)for(var d=0;d<a.length;d++)this.gw(a[d],c+d)},gw:function(a,c){var d=this.Ze;d[c]?(d[c].Pa=a.Pa,d[c].bb=a.bb,d[c].Za=a.Za,d[c].Sa=a.Sa):d[c]=
new q.sc(a.Za,a.Pa,a.Sa,a.bb,this.Hg,c*q.sc.BYTES_PER_ELEMENT)},description:function(){return"\x3ccc.TextureAtlas | totalQuads \x3d"+this.ab+"\x3e"},bH:function(){if(0!==this.xd)for(var a=this.Jd,c=this.xd,d=0;d<c;d++)q.FF?(a[6*d+0]=4*d+0,a[6*d+1]=4*d+0,a[6*d+2]=4*d+2,a[6*d+3]=4*d+1,a[6*d+4]=4*d+3,a[6*d+5]=4*d+3):(a[6*d+0]=4*d+0,a[6*d+1]=4*d+1,a[6*d+2]=4*d+2,a[6*d+3]=4*d+3,a[6*d+4]=4*d+2,a[6*d+5]=4*d+1)},sQ:function(){var a=q.ca;this.Pi[0]=a.createBuffer();this.Pi[1]=a.createBuffer();this.Sr=a.createBuffer();
this.CG()},CG:function(){var a=q.ca;a.bindBuffer(a.ARRAY_BUFFER,this.Sr);a.bufferData(a.ARRAY_BUFFER,this.Hg,a.DYNAMIC_DRAW);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Pi[1]);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.Jd,a.STATIC_DRAW)},pj:function(a,c){var d=q.ia.g().ma(a);if(d)return this.Qa(d,c);q.log("cocos2d: Could not open file: "+a);return!1},Qa:function(a,c){if(!a)throw"cc.TextureAtlas.initWithTexture():texture should be non-null";this.xd=c|=0;this.ab=0;this.Ha=a;this.Ze=[];this.Jd=new Uint16Array(6*
c);var d=q.sc.BYTES_PER_ELEMENT;this.Hg=new ArrayBuffer(d*c);this.Ig=new Uint8Array(this.Hg);if((!this.Ze||!this.Jd)&&0<c)return!1;for(var e=this.Ze,f=0;f<c;f++)e[f]=new q.sc(null,null,null,null,this.Hg,f*d);this.bH();this.sQ();return this.Oa=!0},ly:function(a,c){if(!a)throw"cc.TextureAtlas.updateQuad(): quad should be non-null";if(0>c||c>=this.xd)throw"cc.TextureAtlas.updateQuad(): Invalid index";this.ab=Math.max(c+1,this.ab);this.gw(a,c);this.Oa=!0},dD:function(a,c){if(c>=this.xd)throw"cc.TextureAtlas.insertQuad(): Invalid index";
this.ab++;if(this.ab>this.xd)q.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");else{var d=q.sc.BYTES_PER_ELEMENT,e=c*d,f=(this.ab-1-c)*d;this.Ze[this.ab-1]=new q.sc(null,null,null,null,this.Hg,(this.ab-1)*d);this.Ig.set(this.Ig.subarray(e,e+f),e+d);this.gw(a,c);this.Oa=!0}},J7:function(a,c,d){d=d||a.length;if(c+d>this.xd)throw"cc.TextureAtlas.insertQuad(): Invalid index + amount";var e=q.sc.BYTES_PER_ELEMENT;this.ab+=d;if(this.ab>this.xd)q.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");
else{var f=c*e,g=(this.ab-1-c-d)*e,h=this.ab-1-d,k;for(k=0;k<d;k++)this.Ze[h+k]=new q.sc(null,null,null,null,this.Hg,(this.ab-1)*e);this.Ig.set(this.Ig.subarray(f,f+g),f+e*d);for(k=0;k<d;k++)this.gw(a[k],c+k);this.Oa=!0}},I7:function(a,c){if(a!==c){if(0>c&&c>=this.ab)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid newIndex";if(0>a&&a>=this.ab)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid fromIndex";var d=q.sc.BYTES_PER_ELEMENT,e=this.Ig,f=e.subarray(a*d,d),g;a>c?(g=c*d,e.set(e.subarray(g,
g+(a-c)*d),g+d),e.set(f,g)):(g=(a+1)*d,e.set(e.subarray(g,g+(c-a)*d),g-d),e.set(f,c*d));this.Oa=!0}},jW:function(a){if(a>=this.ab)throw"cc.TextureAtlas.removeQuadAtIndex(): Invalid index";var c=q.sc.BYTES_PER_ELEMENT;this.ab--;this.Ze.length=this.ab;if(a!==this.ab){var d=(a+1)*c;this.Ig.set(this.Ig.subarray(d,d+(this.ab-a)*c),d-c)}this.Oa=!0},J$:function(a,c){if(a+c>this.ab)throw"cc.TextureAtlas.removeQuadsAtIndex(): index + amount out of bounds";this.ab-=c;if(a!==this.ab){var d=q.sc.BYTES_PER_ELEMENT,
e=(a+c)*d;this.Ig.set(this.Ig.subarray(e,e+(this.ab-a)*d),a*d)}this.Oa=!0},dW:function(){this.ab=this.Ze.length=0},t1:function(a){this.Oa=a},oW:function(a){if(a==this.xd)return!0;var c=q.sc.BYTES_PER_ELEMENT,d=this.xd;this.ab=Math.min(this.ab,a);var e=this.xd=0|a,f=this.ab;if(null==this.Ze)for(this.Ze=[],this.Hg=new ArrayBuffer(c*e),this.Ig=new Uint8Array(this.Hg),a=0;a<e;a++)this.Ze=new q.sc(null,null,null,null,this.Hg,a*c);else{var g,h,k=this.Ze;if(e>d){g=[];h=new ArrayBuffer(c*e);for(a=0;a<f;a++)g[a]=
new q.sc(k[a].Za,k[a].Pa,k[a].Sa,k[a].bb,h,a*c);for(;a<e;a++)g[a]=new q.sc(null,null,null,null,h,a*c)}else for(f=Math.max(f,e),g=[],h=new ArrayBuffer(c*e),a=0;a<f;a++)g[a]=new q.sc(k[a].Za,k[a].Pa,k[a].Sa,k[a].bb,h,a*c);this.Ig=new Uint8Array(h);this.Ze=g;this.Hg=h}null==this.Jd?this.Jd=new Uint16Array(6*e):e>d?(c=new Uint16Array(6*e),c.set(this.Jd,0),this.Jd=c):this.Jd=this.Jd.subarray(0,6*e);this.bH();this.CG();return this.Oa=!0},A7:function(a){this.ab+=a},e9:function(a,c,d){if(2==arguments.length){d=
c;c=this.ab-a;if(d+(this.ab-a)>this.xd)throw"cc.TextureAtlas.moveQuadsFromIndex(): move is out of bounds";if(0===c)return}else{if(d+c>this.ab)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid newIndex";if(a>=this.ab)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid oldIndex";if(a==d)return}var e=q.sc.BYTES_PER_ELEMENT,f=a*e,g=c*e,h=this.Ig,k=h.subarray(f,f+g),l=d*e,m;d<a?(m=d*e,h.set(h.subarray(m,m+(a-d)*e),m+g)):(m=(a+c)*e,h.set(h.subarray(m,m+(d-a)*e),f));h.set(k,l);this.Oa=!0},L3:function(a,
c){for(var d=c*q.sc.BYTES_PER_ELEMENT,e=new Uint8Array(this.Hg,a*q.sc.BYTES_PER_ELEMENT,d),f=0;f<d;f++)e[f]=0},kI:function(a,c){c=c||0;if(0!==a&&this.Ha&&this.Ha.Vg()){var d=q.ca;q.Rg(this.Ha);q.Je(q.Mu);d.bindBuffer(d.ARRAY_BUFFER,this.Sr);this.Oa&&d.bufferData(d.ARRAY_BUFFER,this.Hg,d.DYNAMIC_DRAW);d.vertexAttribPointer(q.We,3,d.FLOAT,!1,24,0);d.vertexAttribPointer(q.Jq,4,d.UNSIGNED_BYTE,!0,24,12);d.vertexAttribPointer(q.Kq,2,d.FLOAT,!1,24,16);this.Oa&&(this.Oa=!1);d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,
this.Pi[1]);q.FF?d.drawElements(d.TRIANGLE_STRIP,6*a,d.UNSIGNED_SHORT,6*c*this.Jd.BYTES_PER_ELEMENT):d.drawElements(d.TRIANGLES,6*a,d.UNSIGNED_SHORT,6*c*this.Jd.BYTES_PER_ELEMENT);q.Gh++}},AS:function(){this.kI(this.ab,0)},q1:function(){var a=q.ca;this.Pi&&(this.Pi[0]&&a.deleteBuffer(this.Pi[0]),this.Pi[1]&&a.deleteBuffer(this.Pi[1]));this.Sr&&a.deleteBuffer(this.Sr)}});q.po.create=function(a,c){var d=new q.po;return d&&d.pj(a,c)?d:null};
q.po.Ma=function(a,c){var d=new q.po;return d&&d.Qa(a,c)?d:null};q.Cq=q.F.extend({ctor:function(){q.F.prototype.ctor.call(this);this.Zj=!0;this.A(0.5,0.5);this.P(q.fa.g().bc)}});q.Cq.create=function(){return new q.Cq};q.qz=0;q.m0=1;
q.Tc=q.F.extend({Zk:!1,Yk:!1,Wo:!1,ml:0,ss:q.qz,Cm:!1,dp:0,ctor:function(){q.F.prototype.ctor.call(this);this.Wo=this.Yk=this.Zk=!1;this.ml=0;this.ss=q.qz;this.Cm=!1;this.dp=0},OO:function(){this.A(0.5,0.5);this.Zj=!0;var a=q.fa.g();this.P(a.bc)},w:function(){q.F.prototype.w.call(this);this.OO();return!0},Ex:function(){this.ss===q.qz?q.YV(this,this.ml):q.CD(this.ml,!0,this)},g8:function(){return this.Cm},Mx:function(a){if(!q.oe)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.Cm!=
a&&(this.Cm=a,this.bf&&(a?q.fa.g().Hf().LH(this,this.dp):q.fa.g().Hf().rK(this)))},bba:function(a){if(!q.oe)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.dp!==a&&(this.dp=a,this.Cm&&(this.Mx(!1),this.Mx(!0)))},z5:function(){return this.dp},z8:function(){return this.Zk},hc:function(a){this.Zk!==a&&(this.Zk=a,this.bf&&(a?this.Ex():q.NL(this)))},Z6:function(){return this.ml},nq:function(a){this.ml!==a&&(this.ml=a,this.Zk&&(this.hc(!1),this.hc(!0)))},Y6:function(){return this.ss},
gE:function(a){this.ss!==a&&(this.ss=a,this.Zk&&(this.hc(!1),this.hc(!0)))},O7:function(){return this.Yk},faa:function(a){if(!q.Dk)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";if(a!==this.Yk&&(this.Yk=a,this.bf)){var c=q.fa.g();a?c.Mp().og(this):c.Mp().og(null)}},HW:function(a){this.Yk&&q.Dk&&q.fa.g().Mp().HW(a)},x9:function(){q.log("onAccelerometer event should be handled.")},f8:function(){return this.Wo},Saa:function(a){if(!q.ho)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";
if(a!==this.Wo&&(this.Wo=a,this.bf)){var c=q.fa.g();a?c.Zw().WQ(this):c.Zw().fW(this)}},Zg:function(){var a=q.fa.g();this.Zk&&this.Ex();q.F.prototype.Zg.call(this);this.Yk&&q.Dk&&a.Mp().og(this);this.Wo&&q.ho&&a.Zw().WQ(this);this.Cm&&q.oe&&a.Hf().LH(this,this.dp)},ge:function(){var a=q.fa.g();this.Zk&&q.NL(this);this.Yk&&q.Dk&&a.Mp().og(null);this.Wo&&q.ho&&a.Zw().fW(this);this.Cm&&q.oe&&a.Hf().rK(this);q.F.prototype.ge.call(this)},Bi:function(){this.Yk&&q.Dk&&q.fa.g().Mp().og(this);q.F.prototype.Bi.call(this)},
xb:function(){q.log("onTouchBegan event should be handled.");return!0},Qd:function(){},$g:function(){},wk:function(){},XJ:function(){},$J:function(){},ZJ:function(){},YJ:function(){},WU:function(){return!1},XU:function(){return!1},Ci:function(){return!1},$U:function(){return!1},dV:function(){return!1},eV:function(){return!1},fV:function(){return!1},aV:function(){return!1},bV:function(){return!1},cV:function(){return!1},gV:function(){return!1},YU:function(){return!1},ZU:function(){return!1},pD:function(){},
Fl:function(){}});q.Tc.create=function(){var a=new q.Tc;return a&&a.w()?a:null};
q.Th=q.Tc.extend({ub:!0,ec:0,Jg:0,Hc:null,ye:null,re:!1,Gd:!1,ctor:function(){q.Tc.prototype.ctor.call(this);this.ub=!0;this.Jg=this.ec=255;this.Hc=q.Fb();this.ye=q.Fb();this.Gd=this.re=!1},w:function(){return q.Tc.prototype.w.call(this)?(this.GK(!1),this.FK(!1),!0):!1},mj:function(){return this.Jg},VS:function(){return this.ec},ta:function(a){this.ec=this.Jg=a;a=255;var c=this.ea;c&&c.ub&&c.re&&(a=c.ec);this.ud(a)},ud:function(a){this.ec=0|this.Jg*a/255;if(this.re){a=this.C;for(var c=0;c<a.length;c++){var d=
a[c];d&&d.ub&&d.ud(this.ec)}}},uU:function(){return this.re},GK:function(a){this.re!==a&&((this.re=a)?this.or():this.mA())},or:function(){var a=255,c=this.ea;c&&c.ub&&c.re&&(a=c.ec);this.ud(a)},mA:function(){this.ec=this.Jg;for(var a=this.C,c=0;c<a.length;c++){var d=a[c];d&&d.ub&&d.ud(255)}},Dd:function(){var a=this.ye;return q.o(a.q,a.p,a.n)},Ms:function(){var a=this.Hc;return q.o(a.q,a.p,a.n)},r:function(a){var c=this.Hc,d=this.ye;c.q=d.q=a.q;c.p=d.p=a.p;c.n=d.n=a.n;a=(a=this.ea)&&a.ub&&a.Gd?a.Ms():
q.Fb();this.td(a)},td:function(a){var c=this.Hc,d=this.ye;c.q=0|d.q*a.q/255;c.p=0|d.p*a.p/255;c.n=0|d.n*a.n/255;if(this.Gd)for(a=this.C,d=0;d<a.length;d++){var e=a[d];e&&e.ub&&e.td(c)}},tU:function(){return this.Gd},FK:function(a){this.Gd!==a&&((this.Gd=a)?this.nr():this.lA())},nr:function(){var a;a=(a=this.ea)&&a.ub&&a.Gd?a.Ms():q.Fb();this.td(a)},lA:function(){var a=this.Hc,c=this.ye;a.q=c.q;a.p=c.p;a.n=c.n;for(var a=this.C,c=q.Fb(),d=0;d<a.length;d++){var e=a[d];e&&e.ub&&e.td(c)}},f:function(a,
c,d){q.F.prototype.f.call(this,a,c,d);this.Gd&&this.nr();this.re&&this.or()},Lf:function(){},yl:function(){return!1}});
q.da=q.Th.extend({oa:null,Ls:function(){return this.oa},E2:function(a,c){this.P(a,c)},D2:function(a){this.P(a,this.Ca.xa)},A2:function(a){this.P(this.Ca.Ia,a)},Lf:function(){},yl:function(){return!1},r:function(a){q.Th.prototype.r.call(this,a);this.Ld()},ta:function(a){q.Th.prototype.ta.call(this,a);this.Ld()},Bm:!1,fH:null,DB:null,WB:null,$z:null,FB:null,EB:null,Wh:function(){q.Th.prototype.ctor.call(this);this.oa=new q.fm(q.Te,q.Se)},Xh:function(){q.Th.prototype.ctor.call(this);this.oa=new q.fm(q.Te,
q.Se);this.FB=new ArrayBuffer(32);this.EB=new ArrayBuffer(64);var a=this.FB,c=this.EB,d=q.Kb.BYTES_PER_ELEMENT,e=q.me.BYTES_PER_ELEMENT;this.fH=[new q.Kb(0,0,a,0),new q.Kb(0,0,a,d),new q.Kb(0,0,a,2*d),new q.Kb(0,0,a,3*d)];this.DB=[new q.me(0,0,0,1,c,0),new q.me(0,0,0,1,c,e),new q.me(0,0,0,1,c,2*e),new q.me(0,0,0,1,c,3*e)];this.WB=q.ca.createBuffer();this.$z=q.ca.createBuffer()},Nl:function(a,c){this.oa=1==arguments.length?a:{src:a,Rb:c};q.Sd===q.ug&&(this.Bm=this.oa&&1==this.oa.src&&771==this.oa.Rb)},
w:function(a,c,d){if(!q.Tc.prototype.w.call(this))return!1;q.Sd!==q.ug&&this.eh(q.Vh.g().Di(q.rN));var e=q.fa.g().bc;a=a||new q.$b(0,0,0,255);c=c||e.width;d=d||e.height;e=this.Hc;e.q=a.q;e.p=a.p;e.n=a.n;e=this.ye;e.q=a.q;e.p=a.p;e.n=a.n;this.Jg=this.ec=a.O;this.P(c,d);this.Ld();return!0},P:null,YP:function(a,c){var d=this.fH;2===arguments.length?(d[1].x=a,d[2].y=c,d[3].x=a,d[3].y=c,this.XF(),q.Tc.prototype.P.call(this,a,c)):(d[1].x=a.width,d[2].y=a.height,d[3].x=a.width,d[3].y=a.height,this.XF(),
q.Tc.prototype.P.call(this,a))},Ld:null,IQ:function(){},JQ:function(){for(var a=this.Hc,c=this.ec,d=this.DB,e=0;4>e;e++)d[e].q=a.q/255,d[e].p=a.p/255,d[e].n=a.n/255,d[e].O=c/255;this.WF()},td:function(a){q.Th.prototype.td.call(this,a);this.Ld()},ud:function(a){q.Th.prototype.ud.call(this,a);this.Ld()},XF:function(){var a=q.ca;a.bindBuffer(a.ARRAY_BUFFER,this.WB);a.bufferData(a.ARRAY_BUFFER,this.FB,a.STATIC_DRAW)},WF:function(){var a=q.ca;a.bindBuffer(a.ARRAY_BUFFER,this.$z);a.bufferData(a.ARRAY_BUFFER,
this.EB,a.STATIC_DRAW)},Ya:null,Rj:function(a){a=a||q.ca;var c=this.c(),d=q.qa.g(),e=this.Hc;a.fillStyle="rgba("+(0|e.q)+","+(0|e.p)+","+(0|e.n)+","+this.ec/255+")";a.fillRect(0,0,c.width*d.va,-c.height*d.Da);q.Gh++},Eg:function(a){a=a||q.ca;q.Zy(this);q.Je(q.mh|q.LN);a.bindBuffer(a.ARRAY_BUFFER,this.WB);a.vertexAttribPointer(q.We,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.$z);a.vertexAttribPointer(q.Jq,4,a.FLOAT,!1,0,0);q.sk(this.oa.src,this.oa.Rb);a.drawArrays(a.TRIANGLE_STRIP,0,4)}});
q.Ja.cd?(q.da.prototype.ctor=q.da.prototype.Xh,q.da.prototype.P=q.da.prototype.YP,q.da.prototype.Ld=q.da.prototype.JQ,q.da.prototype.Ya=q.da.prototype.Eg):(q.da.prototype.ctor=q.da.prototype.Wh,q.da.prototype.P=q.Th.prototype.P,q.da.prototype.Ld=q.da.prototype.IQ,q.da.prototype.Ya=q.da.prototype.Rj);q.da.create=function(a,c,d){var e=new q.da;switch(arguments.length){case 0:e.w();break;case 1:e.w(a);break;case 3:e.w(a,c,d);break;default:e.w()}return e};
q.cF=q.da.extend({gH:null,Qo:null,op:null,Ro:null,nm:null,iv:!1,zr:null,yr:null,ctor:function(){q.da.prototype.ctor.call(this);this.gH=new q.Fc(0,0,0);this.Qo=new q.Fc(0,0,0);this.nm=q.a(0,-1);this.Ro=this.op=255;this.zr=q.a(0,0);this.yr=q.a(0,0)},P:function(a,c){2===arguments.length?q.da.prototype.P.call(this,a,c):q.da.prototype.P.call(this,a);this.Ld()},D6:function(){return this.ye},Dba:function(a){this.r(a)},Caa:function(a){this.Qo=a;this.Ld()},L4:function(){return this.Qo},Eba:function(a){this.op=
a;this.Ld()},E6:function(){return this.op},Daa:function(a){this.Ro=a;this.Ld()},M4:function(){return this.Ro},Wba:function(a){this.nm.x=a.x;this.nm.y=a.y;this.Ld()},e7:function(){return q.a(this.nm.x,this.nm.y)},T7:function(){return this.iv},saa:function(a){this.iv=a;this.Ld()},w:function(a,c,d){a=a||q.jC(0,0,0,255);c=c||q.jC(0,0,0,255);d=d||q.a(0,-1);var e=this.gH,f=this.Qo;e.q=a.q;e.p=a.p;e.n=a.n;this.op=a.O;f.q=c.q;f.p=c.p;f.n=c.n;this.Ro=c.O;this.nm=d;this.iv=!0;q.da.prototype.w.call(this,q.j(a.q,
a.p,a.n,255));return!0},Ya:function(a){if(q.Sd===q.Ik)q.da.prototype.Ya.call(this,a);else{a=a||q.ca;this.Bm&&(a.globalCompositeOperation="lighter");a.save();var c=q.qa.g(),d=this.ec/255,e=this.c().width*c.va,c=this.c().height*c.Da,f=a.createLinearGradient(this.zr.x,this.zr.y,this.yr.x,this.yr.y),g=this.Hc,h=this.Qo;f.addColorStop(0,"rgba("+Math.round(g.q)+","+Math.round(g.p)+","+Math.round(g.n)+","+(this.op/255*d).toFixed(4)+")");f.addColorStop(1,"rgba("+Math.round(h.q)+","+Math.round(h.p)+","+Math.round(h.n)+
","+(this.Ro/255*d).toFixed(4)+")");a.fillStyle=f;a.fillRect(0,0,e,-c);0!=this.PP&&a.rotate(this.r1);a.restore()}},Ld:function(){var a=this.nm;if(q.Sd===q.ug){var c=0.5*this.c().width,d=0.5*this.c().height;this.zr.x=c*-a.x+c;this.zr.y=d*a.y-d;this.yr.x=c*a.x+c;this.yr.y=d*-a.y-d}else if(d=q.sD(a),0!==d){c=Math.sqrt(2);a=q.a(a.x/d,a.y/d);this.iv&&(a=q.tj(a,1/(Math.abs(a.x)+Math.abs(a.y))*c));var e=this.ec/255,f=this.Hc,g=this.Qo,d=f.q/255,h=f.p/255,f=f.n/255,k=this.op*e/255,l=g.q/255,m=g.p/255,g=g.n/
255,e=this.Ro*e/255,p=this.DB,s=p[0],u=p[1],w=p[2],p=p[3];s.q=l+(c+a.x+a.y)/(2*c)*(d-l);s.p=m+(c+a.x+a.y)/(2*c)*(h-m);s.n=g+(c+a.x+a.y)/(2*c)*(f-g);s.O=e+(c+a.x+a.y)/(2*c)*(k-e);u.q=l+(c-a.x+a.y)/(2*c)*(d-l);u.p=m+(c-a.x+a.y)/(2*c)*(h-m);u.n=g+(c-a.x+a.y)/(2*c)*(f-g);u.O=e+(c-a.x+a.y)/(2*c)*(k-e);w.q=l+(c+a.x-a.y)/(2*c)*(d-l);w.p=m+(c+a.x-a.y)/(2*c)*(h-m);w.n=g+(c+a.x-a.y)/(2*c)*(f-g);w.O=e+(c+a.x-a.y)/(2*c)*(k-e);p.q=l+(c-a.x-a.y)/(2*c)*(d-l);p.p=m+(c-a.x-a.y)/(2*c)*(h-m);p.n=g+(c-a.x-a.y)/(2*c)*
(f-g);p.O=e+(c-a.x-a.y)/(2*c)*(k-e);this.WF()}}});q.cF.create=function(a,c,d){var e=new q.cF;switch(arguments.length){case 2:if(e&&e.w(a,c))return e;break;case 3:if(e&&e.w(a,c,d))return e;break;case 0:if(e&&e.w())return e;break;default:throw"Arguments error ";}return null};
q.dF=q.Tc.extend({Sk:0,qh:null,F7:function(a){this.qh=[];this.qh.push(a);this.Sk=0;this.f(a);return!0},eU:function(a){this.qh=a;this.Sk=0;this.f(this.qh[this.Sk]);return!0},Aca:function(a){a>=this.qh.length?q.log("cc.LayerMultiplex.switchTo():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.qh[this.Sk],!0),this.Sk=a,this.f(this.qh[a]))},Bca:function(a){a>=this.qh.length?q.log("cc.LayerMultiplex.switchToAndReleaseMe():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.qh[this.Sk],
!0),this.qh[this.Sk]=null,this.Sk=a,this.f(this.qh[a]))},K1:function(a){a?this.qh.push(a):q.log("cc.Layer.addLayer(): layer should be non-null")}});q.dF.create=function(){0<arguments.length&&null==arguments[arguments.length-1]&&q.log("parameters should not be ending with null in Javascript");var a=new q.dF;return a.eU(arguments)?a:null};function ha(a,c,d,e,f){var g=10;e<2*g&&(g=e/2);f<2*g&&(g=f/2);a.beginPath();a.moveTo(c+g,d);a.arcTo(c+e,d,c+e,d+f,g);a.arcTo(c+e,d+f,c,d+f,g);a.arcTo(c,d+f,c,d,g);a.arcTo(c,d,c+e,d,g);a.closePath()}q.kz=-1;
q.Lp=function(a){function c(){var c=q.Lp,e=a.width,h=a.height;d[0].width=e;d[0].height=h;d[1].width=e;d[1].height=h;d[2].width=e;d[2].height=h;d[3].width=e;d[3].height=h;c.canvas.width=e;c.canvas.height=h;var k=c.canvas.getContext("2d");k.drawImage(a,0,0);c.wE.width=e;c.wE.height=h;for(var k=k.getImageData(0,0,e,h).data,l=0;4>l;l++){var m=d[l].getContext("2d");m.getImageData(0,0,e,h).data;c.IL.drawImage(a,0,0);for(var p=c.IL.getImageData(0,0,e,h),s=p.data,u=0;u<k.length;u+=4)s[u]=0===l?k[u]:0,s[u+
1]=1===l?k[u+1]:0,s[u+2]=2===l?k[u+2]:0,s[u+3]=k[u+3];m.putImageData(p,0,0)}a.onload=null}if(a.hasOwnProperty("channelCache"))return a.KR;var d=[document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas")];try{c()}catch(e){a.onload=c}return a.KR=d};q.Lp.canvas=document.createElement("canvas");q.Lp.wE=document.createElement("canvas");q.Lp.IL=q.Lp.wE.getContext("2d");
q.yI=function(a,c,d,e){d||(d=q.rect(0,0,a.width,a.height),d=q.Aq(d));c=c instanceof q.me?q.j(255*c.q,255*c.p,255*c.n,255*c.O):q.j(c.q,c.p,c.n,255);e=e||document.createElement("canvas");var f=e.getContext("2d");e.width!=d.width&&(e.width=d.width);e.height!=d.height&&(e.height=d.height);f.clearRect(0,0,d.width,d.height);f.save();f.globalCompositeOperation="destination-atop";f.globalAlpha=c.O/255;if(254>c.q||254>c.p||254>c.n)f.fillStyle="rgb("+c.q+","+c.p+","+c.n+")",f.fillRect(0,0,d.width,d.height);
f.drawImage(a,d.x,d.y,d.width,d.height,0,0,d.width,d.height);f.restore();return e};
q.AC=function(a,c,d,e,f){e||(e=q.rect(0,0,a.width,a.height));a=null==d.O?q.Kw(d.q/255,d.p/255,d.n/255,1):d;d=Math.min(e.width,c[0].width);var g=Math.min(e.height,c[0].height),h;f?(h=f.getContext("2d"),h.clearRect(0,0,d,g)):(f=document.createElement("canvas"),f.width=d,f.height=g,h=f.getContext("2d"));h.save();h.globalCompositeOperation="lighter";var k=h.globalAlpha;0<a.q&&(h.globalAlpha=a.q*k,h.drawImage(c[0],e.x,e.y,d,g,0,0,d,g));0<a.p&&(h.globalAlpha=a.p*k,h.drawImage(c[1],e.x,e.y,d,g,0,0,d,g));
0<a.n&&(h.globalAlpha=a.n*k,h.drawImage(c[2],e.x,e.y,d,g,0,0,d,g));1>a.q+a.p+a.n&&(h.globalAlpha=k,h.drawImage(c[3],e.x,e.y,d,g,0,0,d,g));h.restore();return f};q.bI=function(a,c){if(!a)return null;if(!c)return a;var d=document.createElement("canvas");d.width=c.width;d.height=c.height;var e=d.getContext("2d");e.translate(d.width/2,d.height/2);e.rotate(-1.5707963267948966);e.drawImage(a,c.x,c.y,c.height,c.width,-c.height/2,-c.width/2,c.height,c.width);return d};
q.x0=function(a,c,d,e,f,g){this.scale=c;this.rotation=d;this.Tl=e;this.visible=g};q.xg=function(a){return 0|a};q.uN&&(q.xg=function(a){return a});
q.v=q.Jb.extend({ub:!0,Ta:null,ld:0,rb:null,Oa:!1,ci:null,Wi:null,hl:!1,Zm:null,oa:null,Ha:null,za:null,md:!1,pc:null,li:null,Dc:!1,jc:!1,kc:!1,wb:!1,ae:null,IG:null,mp:null,so:null,cs:!1,Mg:null,wB:null,vB:null,yB:!1,KL:function(){return this.wb},eg:function(a,c){this.ae.push({eventCallback:a,si:c})},qe:function(){for(var a=this.ae,c=0,d=a.length;c<d;c++){var e=a[c];e.eventCallback.call(e.si,this)}a.length=0},tJ:function(){return this.Oa},dh:function(a){this.Oa=a},y8:function(){return this.md},Z3:function(){return this.ld},
Qe:function(a){this.ld=a},NC:function(){return q.rect(this.za.x,this.za.y,this.za.width,this.za.height)},RI:function(){return this.Ta},mq:function(a){this.Ta=a},C6:function(){return this.rb},Cba:function(a){this.rb=a},K5:function(){return this.pc},Ls:function(){return this.oa},Me:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrame(): spriteFrame should be non-null";a.wb||(this.wb=!1,a.eg(this.BB,this));var c=this.Qa(a.ja(),a.pd());this.gq(a);return c},BB:null,xQ:function(a){this.eb();this.gb(a.pd(),
a.Ad,a.zd);this.qe()},wQ:function(a){this.eb();this.gb(a.pd(),a.Ad,a.zd);a=this.Dd();255===a.q&&255===a.p&&255===a.n||this.fv();this.qe()},kJ:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";a=q.zg.g().Jh(a);return this.Me(a)},eda:function(a){this.Ta=a.Ta;this.rb=a},iE:function(a){this.za.x=a.x;this.za.y=a.y;this.za.width=a.width;this.za.height=a.height},je:function(){if(this.ze){for(var a,c,d=this.C,e,f=1;f<d.length;f++){c=d[f];a=f-1;for(e=d[a];0<=
a&&(c.nb<e.nb||c.nb==e.nb&&c.Wf<e.Wf);)d[a+1]=e,a-=1,e=d[a];d[a+1]=c}this.rb&&this.Bg(d,q.F.Rf.je);this.ze=!1}},ct:function(a,c){if(!a)throw"cc.Sprite.reorderChild(): child should be non-null";-1===this.C.indexOf(a)?q.log("cc.Sprite.reorderChild(): this child is not in children list"):c!==a.nb&&(this.rb&&!this.ze&&(this.sB(),this.rb.sK(!0)),q.F.prototype.ct.call(this,a,c))},removeChild:function(a,c){this.rb&&this.rb.Kn(a);q.F.prototype.removeChild.call(this,a,c)},nc:function(a){var c=this.C,d=this.rb;
if(d&&null!=c)for(var e=0,f=c.length;e<f;e++)d.Kn(c[e]);q.F.prototype.nc.call(this,a);this.Wi=!1},JK:function(a){this.ci=a;this.dh(a);a=this.C;if(null!=a)for(var c=0;c<a.length;c++)a[c]instanceof q.v&&a[c].JK(!0)},lh:function(){this.rb&&!this.ci&&(this.Oa=this.ci=!0,this.Wi&&this.JK(!0))},l:function(a,c){2<=arguments.length?q.F.prototype.l.call(this,a,arguments[1]):q.F.prototype.l.call(this,a);this.lh()},Rx:function(a){q.F.prototype.Rx.call(this,a);this.lh()},Sx:function(a){q.F.prototype.Sx.call(this,
a);this.lh()},Tx:function(a){q.F.prototype.Tx.call(this,a);this.lh()},Ux:function(a){q.F.prototype.Ux.call(this,a);this.lh()},Vx:function(a){q.F.prototype.Vx.call(this,a);this.lh()},kq:function(a){q.F.prototype.kq.call(this,a);this.lh()},Qn:function(a){q.F.prototype.Qn.call(this,a);this.lh()},yk:function(a,c){q.F.prototype.yk.call(this,a,c);this.lh()},oL:function(a){q.F.prototype.oL.call(this,a);this.lh()},A:function(a,c){2===arguments.length?q.F.prototype.A.call(this,a,c):q.F.prototype.A.call(this,
a);this.lh()},D:function(a){q.F.prototype.D.call(this,a);this.lh()},oj:function(a){this.rb?q.log("cc.Sprite.ignoreAnchorPointForPosition(): it is invalid in cc.Sprite when using SpriteBatchNode"):q.F.prototype.oj.call(this,a)},cX:function(a){this.jc!=a&&(this.jc=a,this.gb(this.za,this.md,this.Ca),this.eb())},dX:function(a){this.kc!=a&&(this.kc=a,this.gb(this.za,this.md,this.Ca),this.eb())},a8:function(){return this.jc},b8:function(){return this.kc},Lf:null,fQ:function(a){this.Dc!==a&&(this.Dc=a,this.wt())},
eQ:function(a){this.Dc!==a&&(this.Dc=a,this.eb())},yl:function(){return this.Dc},ud:null,MQ:function(a){q.Jb.prototype.ud.call(this,a);this.wt()},uH:function(a){q.Jb.prototype.ud.call(this,a);this.Nm()},yaa:function(a,c){if(!a)throw"cc.Sprite.setDisplayFrameWithAnimationName(): animationName must be non-null";var d=q.cm.g().zI(a);d?(d=d.ue[c])?this.gq(d.Jh()):q.log("cc.Sprite.setDisplayFrameWithAnimationName(): Invalid frame index"):q.log("cc.Sprite.setDisplayFrameWithAnimationName(): Frame not found")},
c4:function(){return this.rb},sB:function(){if(!this.ze){this.ze=!0;for(var a=this.ea;a&&a!=this.rb;)a.sB(),a=a.getParent()}},ja:function(){return this.Ha},Vb:null,cw:null,Af:!1,Vq:!1,Bm:!1,Xf:null,Vm:null,Oo:null,ctor:null,Xh:function(a){q.Jb.prototype.ctor.call(this);this.hl=!1;this.pc=q.Kd();this.li=q.Kd();this.oa={src:q.Te,Rb:q.Se};this.za=q.rect(0,0,0,0);this.Vb=new q.sc;this.cw=q.ca.createBuffer();this.wb=this.Af=!0;this.ae=[];this.mp=!0;this.so=!1;if(a)if("string"===typeof a)a=q.zg.g().Jh(a),
this.Me(a);else if("object"===typeof a)if(a instanceof q.Xd)this.Me(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new q.ic;c.nf(a);c.ee();this.Qa(c)}else a instanceof q.ic&&this.Qa(a)},Wh:function(a){q.Jb.prototype.ctor.call(this);this.hl=!1;this.pc=q.Kd();this.li=q.Kd();this.oa={src:q.Te,Rb:q.Se};this.za=q.rect(0,0,0,0);this.IG=!1;this.wb=!0;this.ae=[];this.Vm={x:0,y:0,width:0,height:0,$l:!1};this.Oo=q.size(0,0);this.mp=!0;this.so=!1;if(a)if("string"===typeof a)a=
q.zg.g().Jh(a),this.Me(a);else if("object"===typeof a)if(a instanceof q.Xd)this.Me(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new q.ic;c.nf(a);c.ee();this.Qa(c)}else a instanceof q.ic&&this.Qa(a)},e6:function(){return this.Vb},Nl:null,UP:function(a,c){var d=this.oa;1===arguments.length?(d.src=a.src,d.Rb=a.Rb):(d.src=a,d.Rb=c)},TP:function(a,c){var d=this.oa;1===arguments.length?(d.src=a.src,d.Rb=a.Rb):(d.src=a,d.Rb=c);this.Bm=d&&(770==d.src&&1==d.Rb||1==d.src&&
1==d.Rb)},w:null,FA:function(){if(0<arguments.length)return this.pj(arguments[0],arguments[1]);q.Jb.prototype.w.call(this);this.Oa=this.ci=!1;this.Dc=!0;this.oa.src=q.Te;this.oa.Rb=q.Se;this.ka(null);this.wb=!0;this.jc=this.kc=!1;this.A(0.5,0.5);this.pc.H=0;this.pc.S=0;this.Wi=!1;var a={q:255,p:255,n:255,O:255};this.Vb.Pa.V=a;this.Vb.bb.V=a;this.Vb.Za.V=a;this.Vb.Sa.V=a;this.Af=!0;this.gb(q.wd(),!1,q.jm());return!0},EA:function(){if(0<arguments.length)return this.pj(arguments[0],arguments[1]);q.Jb.prototype.w.call(this);
this.Oa=this.ci=!1;this.Dc=!0;this.oa.src=q.Te;this.oa.Rb=q.Se;this.ka(null);this.wb=!0;this.jc=this.kc=!1;this.A(0.5,0.5);this.pc.H=0;this.pc.S=0;this.Wi=!1;this.gb(q.wd(),!1,q.jm());return!0},pj:function(a,c){if(!a)throw"cc.Sprite.initWithFile(): filename should be non-null";var d=q.ia.g().fy(a);if(!d)d=q.ia.g().ma(a);else if(!c){var e=d.c();c=q.rect(0,0,e.width,e.height)}return this.Qa(d,c)},Qa:null,Dr:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";
d=d||!1;if(!q.Jb.prototype.w.call(this))return!1;this.rb=null;this.Oa=this.ci=!1;this.Dc=!0;this.oa.src=q.Te;this.oa.Rb=q.Se;this.jc=this.kc=!1;this.A(0.5,0.5);this.pc.H=0;this.pc.S=0;this.Wi=!1;var e=new q.$b(255,255,255,255),f=this.Vb;f.Pa.V=e;f.bb.V=e;f.Za.V=e;f.Sa.V=e;this.wb=e=a.Vg();if(!e)return this.md=d||!1,c&&(e=this.za,e.x=c.x,e.y=c.y,e.width=c.width,e.height=c.height),a.eg(this.sw,this),!0;c||(e=a.c(),c=q.rect(0,0,e.width,e.height));this.ka(a);this.gb(c,d,c.Xa);this.Re(null);return this.Af=
!0},Cr:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";d=d||!1;if(!q.Jb.prototype.w.call(this))return!1;this.rb=null;this.Oa=this.ci=!1;this.Dc=!0;this.oa.src=q.Te;this.oa.Rb=q.Se;this.jc=this.kc=!1;this.A(0.5,0.5);this.pc.H=0;this.pc.S=0;this.Wi=!1;var e=a.Vg();this.wb=e;if(!e)return this.md=d||!1,c&&(this.za.x=c.x,this.za.y=c.y,this.za.width=c.width,this.za.height=c.height),a.eg(this.sw,this),!0;c||(e=a.c(),c=q.rect(0,0,e.width,e.height));this.Xf=
a;this.ka(a);this.gb(c,d,c.Xa);this.Re(null);return!0},sw:null,CQ:function(a){if(!this.wb){this.wb=!0;var c=this.za;if(!c)c=a.c(),c=q.rect(0,0,c.width,c.height);else if(q.Tr(c)){var d=a.c();c.width=d.width;c.height=d.height}this.ka(a);this.gb(c,this.md,c.Xa);this.Re(null);this.Af=!0;this.qe()}},BQ:function(a){if(!this.wb){this.wb=!0;var c=this.za;if(!c)c=a.c(),c=q.rect(0,0,c.width,c.height);else if(q.Tr(c)){var d=a.c();c.width=d.width;c.height=d.height}this.Xf=a;this.ka(a);this.gb(c,this.md,c.Xa);
this.Re(null);this.qe()}},gb:null,aH:function(a,c,d){this.md=c||!1;d=d||a.Xa;this.P(d);this.iE(a);this.$G(a);c=this.li;this.jc&&(c.H=-c.H);this.kc&&(c.S=-c.S);a=this.za;if(this.BL){d=q.qa.g().va;var e=q.qa.g().Da;a.width/=d;a.height/=e}this.pc.H=c.H+(this.Ca.Ia-a.width)/2;this.pc.S=c.S+(this.Ca.xa-a.height)/2;if(this.rb)this.Oa=!0;else{c=0+this.pc.H;d=0+this.pc.S;e=c+a.width;a=d+a.height;var f=this.Vb;f.Pa.B={x:c,y:d,z:0};f.bb.B={x:e,y:d,z:0};f.Za.B={x:c,y:a,z:0};f.Sa.B={x:e,y:a,z:0};this.Af=!0}},
tB:function(a,c,d){this.md=c||!1;d=d||a.Xa;this.P(d);this.iE(a);c=this.Vm;var e=q.ed();c.x=0|a.x*e;c.y=0|a.y*e;var f=this.Oo,g=(this.rb&&this.Ta?this.Ta.ja():this.Ha)?this.ja().c():q.size(d.width,d.height);a.width>g.width||a.height>g.height?(c.width=0|g.width*e,c.height=0|g.height*e,f.width=0|d.width*e,f.height=0|d.height*e):(c.width=0|a.width*e,c.height=0|a.height*e,f.width=c.width,f.height=c.height);c.$l=!(0===c.width||0===c.height);f.$l=!(0===f.width||0===f.height);a=this.li;this.jc&&(a.H=-a.H);
this.kc&&(a.S=-a.S);this.pc.H=a.H+(this.Ca.Ia-this.za.width)/2;this.pc.S=a.S+(this.Ca.xa-this.za.height)/2;this.rb&&(this.Oa=!0)},sg:null,UQ:function(){if(this.Oa){var a=this.Vb,c=this.ea;if(!this.ya||c&&c!=this.rb&&c.hl)a.bb.B={x:0,y:0,z:0},a.Za.B={x:0,y:0,z:0},a.Sa.B={x:0,y:0,z:0},a.Pa.B={x:0,y:0,z:0},this.hl=!0;else{this.hl=!1;var d=this.Zm=c&&c!=this.rb?q.bm(this.jg(),c.Zm):this.jg(),e=this.za.Xa,c=this.pc.H,f=this.pc.S,g=c+e.width,e=f+e.height,h=d.hb,k=d.ib,l=d.O,m=d.n,p=d.d,d=-d.La,s=this.Ew;
a.Pa.B={x:q.xg(c*l-f*d+h),y:q.xg(c*m+f*p+k),z:s};a.bb.B={x:q.xg(g*l-f*d+h),y:q.xg(g*m+f*p+k),z:s};a.Za.B={x:q.xg(c*l-e*d+h),y:q.xg(c*m+e*p+k),z:s};a.Sa.B={x:q.xg(g*l-e*d+h),y:q.xg(g*m+e*p+k),z:s}}this.Ta.ly(a,this.ld);this.ci=!1;this.dh(!1)}this.Wi&&this.Bg(this.C,q.F.Rf.sg);q.Hj&&(a=[q.a(this.Vb.Pa.B.x,this.Vb.Pa.B.y),q.a(this.Vb.bb.B.x,this.Vb.bb.B.y),q.a(this.Vb.Sa.B.x,this.Vb.Sa.B.y),q.a(this.Vb.Za.B.x,this.Vb.Za.B.y)],q.Ce.de(a,4,!0))},TQ:function(){if(this.Oa){var a=this.ea;!this.ya||a&&a!=
this.rb&&a.hl?this.hl=!0:(this.hl=!1,this.Zm=a&&a!=this.rb?q.bm(this.jg(),a.Zm):this.jg());this.Oa=this.ci=!1}this.Wi&&this.Bg(this.C,q.F.Rf.sg)},f:null,Hz:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.nb);null==d&&(d=a.Cd);if(this.rb){if(!(a instanceof q.v)){q.log("cc.Sprite.addChild(): cc.Sprite only supports cc.Sprites as children when using cc.SpriteBatchNode");return}a.ja().oi!==this.Ta.ja().oi&&q.log("cc.Sprite.addChild(): cc.Sprite only supports a sprite using same texture as children when using cc.SpriteBatchNode");
this.rb.appendChild(a);this.ze||this.sB()}q.F.prototype.f.call(this,a,c,d);this.Wi=!0},Gz:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.nb);null==d&&(d=a.Cd);q.F.prototype.f.call(this,a,c,d);this.Wi=!0},wt:function(){var a=this.Hc,c=this.ec,a={q:a.q,p:a.p,n:a.n,O:c};this.Dc&&(a.q*=c/255,a.p*=c/255,a.n*=c/255);c=this.Vb;c.Pa.V=a;c.bb.V=a;c.Za.V=a;c.Sa.V=a;this.rb&&(this.ld!=q.kz?this.Ta.ly(c,this.ld):this.Oa=!0);this.Af=!0},ta:null,rB:function(a){q.Jb.prototype.ta.call(this,
a);this.wt()},Yr:function(a){q.Jb.prototype.ta.call(this,a);this.Nm()},r:null,pB:function(a){q.Jb.prototype.r.call(this,a);this.wt()},Wr:function(a){var c=this.Dd();if(c.q!==a.q||c.p!==a.p||c.n!==a.n)q.Jb.prototype.r.call(this,a),this.fv(),this.Nm()},td:null,LQ:function(a){q.Jb.prototype.td.call(this,a);this.wt()},PB:function(a){var c=this.Dd();q.Jb.prototype.td.call(this,a);a=this.Hc;if(c.q!==a.q||c.p!==a.p||c.n!==a.n)this.fv(),this.Nm()},gq:null,$P:function(a){this.eb();var c=a._offset;this.li.H=
c.x;this.li.S=c.y;c=a.ja();a.wb||(this.wb=!1,a.eg(function(a){this.wb=!0;var c=a.ja();c!=this.Ha&&this.ka(c);this.gb(a.pd(),a.Ad,a.zd);this.qe()},this));c!=this.Ha&&this.ka(c);this.md=a.Ad;this.gb(a.pd(),this.md,a.zd)},ZP:function(a){this.eb();var c=a._offset;this.li.H=c.x;this.li.S=c.y;this.md=a.Ad;var c=a.ja(),d=a.wb;d||(this.wb=!1,a.eg(function(a){this.wb=!0;var c=a.ja();c!=this.Ha&&this.ka(c);this.gb(a.pd(),a.Ad,a.zd);this.qe()},this));c!=this.Ha&&this.ka(c);this.md&&(this.Xf=c);this.gb(a.pd(),
this.md,a.zd);this.Vq=!1;d&&(a=this.Dd(),255===a.q&&255===a.p&&255===a.n||this.fv())},vJ:null,bP:function(a){return q.mK(a.pd(),this.za)&&a.ja().getName()==this.Ha.getName()&&q.fK(a._offset,this.li)},aP:function(a){return a.ja()!=this.Ha?!1:q.mK(a.pd(),this.za)},vS:function(){return q.Xd.Ma(this.Ha,q.jo(this.za),this.md,q.iN(this.li),q.jz(this.Ca))},Re:null,SP:function(a){if(this.rb=a)this.Zm={O:1,n:0,La:0,d:1,hb:0,ib:0},this.mq(this.rb.Ta);else{this.ld=q.kz;this.mq(null);this.ci=!1;this.dh(!1);a=
this.pc.H;var c=this.pc.S,d=a+this.za.width,e=c+this.za.height,f=this.Vb;f.Pa.B={x:a,y:c,z:0};f.bb.B={x:d,y:c,z:0};f.Za.B={x:a,y:e,z:0};f.Sa.B={x:d,y:e,z:0};this.Af=!0}},RP:function(a){(this.rb=a)?(this.Zm={O:1,n:0,La:0,d:1,hb:0,ib:0},this.mq(this.rb.Ta)):(this.ld=q.kz,this.mq(null),this.ci=!1,this.dh(!1))},ka:null,$r:function(a){if(a&&!(a instanceof q.ic))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.rb&&this.rb.ja()!=a?q.log("cc.Sprite.setTexture(): Batched sprites should use the same texture as the batchnode"):
(a?this.eh(q.Vh.g().Di(q.iz)):this.eh(q.Vh.g().Di(q.rN)),this.rb||this.Ha==a||(this.Ha=a,this.$m()))},Zr:function(a){if(a&&!(a instanceof q.ic))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.Ha!=a&&(a&&a.Cc instanceof HTMLImageElement&&(this.Xf=a),this.Ha=a)},$m:function(){this.rb?q.log("cc.Sprite._updateBlendFunc(): _updateBlendFunc doesn't work when the sprite is rendered using a cc.CCSpriteBatchNode"):this.Ha&&this.Ha.Us()?(this.oa.src=q.Te,this.oa.Rb=q.Se,
this.Lf(!0)):(this.oa.src=770,this.oa.Rb=771,this.Lf(!1))},fv:function(){var a,c=this.Ha,d=this.Vm;if(c&&d.$l&&this.Xf&&(a=c.Cc)){var e=q.ia.g().SI(this.Xf.Cc);e&&(this.Vq=!0,a instanceof HTMLCanvasElement&&!this.md&&!this.IG?this.so?q.yI(this.Xf.Cc,this.Hc,d,c.Cc):q.AC(a,e,this.Hc,d,a):(a=this.so?q.yI(a,this.Hc,d):q.AC(a,e,this.Hc,d),c=new q.ic,c.nf(a),c.ee(),this.ka(c)))}},$G:function(a){a=q.jo(a);var c=this.rb?this.Ta.ja():this.Ha;if(c){var d=c.Tp(),e=c.Sp(),f,g=this.Vb;this.md?(q.eu?(c=(2*a.x+
1)/(2*d),d=c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/d,f=a.y/e,a=(a.y+a.width)/e),this.jc&&(e=f,f=a,a=e),this.kc&&(e=c,c=d,d=e),g.Pa.G.Va=c,g.Pa.G.ua=f,g.bb.G.Va=c,g.bb.G.ua=a,g.Za.G.Va=d,g.Za.G.ua=f,g.Sa.G.Va=d,g.Sa.G.ua=a):(q.eu?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+a.height)/e),this.jc&&(e=c,c=d,d=e),this.kc&&(e=f,f=a,a=e),g.Pa.G.Va=c,g.Pa.G.ua=a,g.bb.G.Va=
d,g.bb.G.ua=a,g.Za.G.Va=c,g.Za.G.ua=f,g.Sa.G.Va=d,g.Sa.G.ua=f);this.Af=!0}},Ya:null,Eg:function(){if(this.wb){var a=q.ca,c=this.Ha;c?c.Lc&&(this.Xc.tf(),this.Xc.fh(),q.sk(this.oa.src,this.oa.Rb),q.r7(0,c),q.Je(q.Mu),a.bindBuffer(a.ARRAY_BUFFER,this.cw),this.Af&&(a.bufferData(a.ARRAY_BUFFER,this.Vb.eC,a.DYNAMIC_DRAW),this.Af=!1),a.vertexAttribPointer(0,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(1,4,a.UNSIGNED_BYTE,!0,24,12),a.vertexAttribPointer(2,2,a.FLOAT,!1,24,16),a.drawArrays(a.TRIANGLE_STRIP,0,
4)):(this.Xc.tf(),this.Xc.fh(),q.sk(this.oa.src,this.oa.Rb),q.Rg(null),q.Je(q.mh|q.LN),a.bindBuffer(a.ARRAY_BUFFER,this.cw),this.Af&&(q.ca.bufferData(q.ca.ARRAY_BUFFER,this.Vb.eC,q.ca.STATIC_DRAW),this.Af=!1),a.vertexAttribPointer(q.We,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(q.Jq,4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));q.Gh++;0!==q.Hj&&(1===q.Hj?(a=this.Vb,a=[q.a(a.Za.B.x,a.Za.B.y),q.a(a.Pa.B.x,a.Pa.B.y),q.a(a.bb.B.x,a.bb.B.y),q.a(a.Sa.B.x,a.Sa.B.y)],q.Ce.de(a,4,!0)):2===
q.Hj&&(a=this.NC().Xa,c=this.pc,a=[q.a(c.x,c.y),q.a(c.x+a.width,c.y),q.a(c.x+a.width,c.y+a.height),q.a(c.x,c.y+a.height)],q.Ce.de(a,4,!0)))}},v1:function(a,c,d,e){this.wB=c;this.Mg=d;this.vB=e;this.cs=a},u1:function(a){this.yB=a},Rj:function(a){if(this.wb){a=a||q.ca;this.Bm&&(a.globalCompositeOperation="lighter");a.bU=this.mp;var c=q.qa.g().va,d=q.qa.g().Da;a.globalAlpha=this.ec/255;var e=this.za,f=this.Ca,g=this.pc,h=this.Oo,k=0|g.H,l=-g.S-e.height,m=this.Vm;!0==this.cs&&(a.shadowBlur=this.wB?this.wB:
30,a.shadowColor=this.vB?this.vB:"black",a.shadowOffsetX=this.Mg?this.Mg.x:5,a.shadowOffsetY=this.Mg?this.Mg.y:5);if(this.jc||this.kc)a.save(),this.jc&&(k=-g.H-e.width,a.scale(-1,1)),this.kc&&(l=g.S,a.scale(1,-1));k*=c;l*=d;if(this.Ha&&m.$l)g=this.Ha.Cc,this.Vq?a.drawImage(g,0,0,m.width,m.height,k,l,h.width,h.height):a.drawImage(g,m.x,m.y,m.width,m.height,k,l,h.width,h.height);else if(0!==f.Ia){var p=this.Dd();a.fillStyle="rgba("+p.q+","+p.p+","+p.n+",1)";a.fillRect(k,l,f.Ia*c,f.xa*d)}!0==this.cs&&
(a.shadowBlur=0,a.shadowOffsetX=0,a.shadowOffsetY=0);!0==this.yB&&(a.globalAlpha=1,a.beginPath(),a.strokeStyle="rgba("+p.q+","+p.p+","+p.n+",1)",a.lineWidth="1",ha(a,k,l,f.Ia*c,f.xa*d),a.stroke());1===q.Hj?(a.strokeStyle="rgba(0,255,0,1)",k/=c,l=-(l/d),k=[q.a(k,l),q.a(k+e.width,l),q.a(k+e.width,l-e.height),q.a(k,l-e.height)],q.Ce.de(k,4,!0)):2===q.Hj&&(a.strokeStyle="rgba(0,255,0,1)",p=this.za.Xa,l=-l,k=[q.a(k,l),q.a(k+p.width,l),q.a(k+p.width,l-p.height),q.a(k,l-p.height)],q.Ce.de(k,4,!0));(this.jc||
this.kc)&&a.restore();q.Gh++}}});
q.Ja.cd?(b=q.v.prototype,b.BB=q.v.prototype.xQ,b.Lf=q.v.prototype.fQ,b.ud=q.v.prototype.MQ,b.ctor=q.v.prototype.Xh,b.Nl=q.v.prototype.UP,b.w=q.v.prototype.FA,b.Qa=q.v.prototype.Dr,b.sw=q.v.prototype.CQ,b.gb=q.v.prototype.aH,b.sg=q.v.prototype.UQ,b.f=q.v.prototype.Hz,b.ta=q.v.prototype.rB,b.r=q.v.prototype.pB,b.td=q.v.prototype.LQ,b.gq=q.v.prototype.$P,b.vJ=q.v.prototype.bP,b.Re=q.v.prototype.SP,b.ka=q.v.prototype.$r,b.Ya=q.v.prototype.Eg):(b=q.v.prototype,b.BB=q.v.prototype.wQ,b.Lf=q.v.prototype.eQ,
b.ud=q.v.prototype.uH,b.ctor=q.v.prototype.Wh,b.Nl=q.v.prototype.TP,b.w=q.v.prototype.EA,b.Qa=q.v.prototype.Cr,b.sw=q.v.prototype.BQ,b.gb=q.v.prototype.tB,b.sg=q.v.prototype.TQ,b.f=q.v.prototype.Gz,b.ta=q.v.prototype.Yr,b.r=q.v.prototype.Wr,b.td=q.v.prototype.PB,b.gq=q.v.prototype.ZP,b.vJ=q.v.prototype.aP,b.Re=q.v.prototype.RP,b.ka=q.v.prototype.Zr,b.Ya=q.v.prototype.Rj);
q.v.Ma=function(a,c){var d=arguments.length,e=new q.v;switch(d){case 1:return e&&e.Qa(a)?e:null;case 2:return e&&e.Qa(a,c)?e:null;default:throw"Sprite.createWithTexture(): Argument must be non-nil ";}};q.v.create=function(a,c){var d=arguments.length,e=new q.v;if(0===d){if(e.w())return e}else if(e&&e.w(a,c))return e;return null};
q.v.aI=function(a){var c=null;if("string"==typeof a){if(c=q.zg.g().Jh(a),!c)return q.log("Invalid spriteFrameName: "+a),null}else return q.log("Invalid argument. Expecting string."),null;return(a=new q.v)&&a.Me(c)?a:null};q.v.$H=function(a){var c=new q.v;return c&&c.Me(a)?c:null};Object.defineProperties(q.v.prototype,{jca:{get:function(){return this.mp},set:function(a){this.mp=a},enumerable:!0},X1:{get:function(){return this.so},set:function(a){this.so=a},enumerable:!0}});q.Cj=q.Na.extend({ds:null,se:0,ws:null,ctor:function(){this.se=0},clone:function(){var a=new q.Cj;a.Me(this.ds.clone(),this.se,this.ws);return a},Pw:function(){return q.clone(this)},copy:function(){var a=new q.Cj;a.Me(this.ds.clone(),this.se,this.ws);return a},Me:function(a,c,d){this.ds=a;this.se=c;this.ws=d;return!0},Jh:function(){return this.ds},Mf:function(a){this.ds=a},D4:function(){return this.se},xaa:function(a){this.se=a},c7:function(){return this.ws},Uba:function(a){this.ws=a}});
q.Bj=q.Na.extend({ue:null,bk:0,Km:!1,Ga:0,se:0,Xm:0,ctor:function(){this.ue=[]},W4:function(){return this.ue},OK:function(a){this.ue=a},bC:function(a){var c=new q.Cj;c.Me(a,1,null);this.ue.push(c);this.Xm++},O1:function(a){a=q.ia.g().ma(a);var c=q.wd();c.Xa=a.c();a=q.Xd.Ma(a,c);this.bC(a)},P1:function(a,c){var d=q.Xd.Ma(a,c);this.bC(d)},Vs:function(a,c,d){q.Ct(a,q.Cj);this.se=c;this.bk=d;this.OK([]);for(c=0;c<a.length;c++)d=a[c],this.ue.push(d),this.Xm+=d.se;return!0},clone:function(){var a=new q.Bj;
a.Vs(this.dG(),this.se,this.bk);a.Qx(this.Km);return a},Pw:function(){var a=new q.Bj;a.Vs(this.dG(),this.se,this.bk);a.Qx(this.Km);return a},dG:function(){for(var a=[],c=0;c<this.ue.length;c++)a.push(this.ue[c].clone());return a},copy:function(){return this.Pw(null)},m5:function(){return this.bk},Uaa:function(a){this.bk=a},Qx:function(a){this.Km=a},m6:function(){return this.Km},Ff:function(){return this.Xm*this.se},C4:function(){return this.se},waa:function(a){this.se=a},T6:function(){return this.Xm},
lJ:function(a,c){q.Ct(a,q.Xd);this.bk=1;this.se=c||0;this.OK([]);if(a)for(var d=0;d<a.length;d++){var e=a[d],f=new q.Cj;f.Me(e,1,null);this.ue.push(f);this.Xm++}return!0},wK:function(){},oK:function(){}});q.Bj.create=function(a,c,d){var e=arguments.length,f=new q.Bj;0==e?f.lJ(null,0):2==e?f.lJ(a,c||0):3==e&&f.Vs(a,c,d);return f};q.Bj.ZH=function(a,c,d){var e=new q.Bj;e.Vs(a,c,d);return e};q.cm=q.Na.extend({GH:function(a,c){this.qm[c]=a},D$:function(a){a&&this.qm.hasOwnProperty(a)&&delete this.qm[a]},zI:function(a){return this.qm.hasOwnProperty(a)?this.qm[a]:null},UN:function(a,c){var d=a.animations;if(d){var e=1,f=a.properties;if(f)for(var e=null!=f.format?parseInt(f.format):e,f=f.spritesheets,g=q.zg.g(),h=q.Vd.g(),k,l=0;l<f.length;l++)k=h.xI(f[l],c),g.NH(k);switch(e){case 1:this.uP(d);break;case 2:this.vP(d);break;default:q.log("cc.AnimationCache. Invalid animation format")}}else q.log("cocos2d: cc.AnimationCache: No animations were found in provided dictionary.")},
F1:function(a){if(!a)throw"cc.AnimationCache.addAnimations(): Invalid texture file name";var c=q.Vd.g(),d=c.Ge(a);(c=c.Sw(d))?this.UN(c,a):q.log("cc.AnimationCache.addAnimations(): File could not be found")},uP:function(a){var c=q.zg.g(),d;for(d in a){var e=a[d],f=e.frames,e=parseFloat(e.delay)||0,g=null;if(f){for(var g=[],h=0;h<f.length;h++){var k=c.Jh(f[h]);if(k){var l=new q.Cj;l.Me(k,1,null);g.push(l)}else q.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+f[h]+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}0===
g.length?q.log("cocos2d: cc.AnimationCache: None of the frames for animation '"+d+"' were found in the cc.SpriteFrameCache. Animation is not being added to the Animation Cache."):(g.length!=f.length&&q.log("cocos2d: cc.AnimationCache: An animation in your dictionary refers to a frame which is not in the cc.SpriteFrameCache. Some or all of the frames for the animation '"+d+"' may be missing."),g=q.Bj.ZH(g,e,1),q.cm.g().GH(g,d))}else q.log("cocos2d: cc.AnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},
vP:function(a){var c=q.zg.g(),d;for(d in a){var e=a[d],f=parseInt(e.loops),f=e.loop?q.im:isNaN(f)?1:f,g=e.restoreOriginalFrame&&!0==e.restoreOriginalFrame?!0:!1,h=e.frames;if(h){for(var k=[],l=0;l<h.length;l++){var m=h[l],p=m.spriteframe,s=c.Jh(p);if(s){var p=parseFloat(m.delayUnits)||0,m=m.notification,u=new q.Cj;u.Me(s,p,m);k.push(u)}else q.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+p+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}e=
parseFloat(e.delayPerUnit)||0;h=new q.Bj;h.Vs(k,e,f);h.Qx(g);q.cm.g().GH(h,d)}else q.log("cocos2d: CCAnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},w:function(){this.qm={};return!0},qm:null});q.cm.IV=function(){q.Nn&&(q.Nn.qm=null,q.Nn=null)};q.cm.g=function(){null===q.Nn&&(q.Nn=new q.cm,q.Nn.w());return q.Nn};q.Nn=null;q.Xd=q.Na.extend({_offset:null,zd:null,af:null,Ad:!1,za:null,Vf:null,xf:null,Ha:null,tp:"",wb:!1,rv:null,ctor:function(){this._offset=q.Kd();this.Vf=q.Kd();this.zd=q.Om();this.Ad=!1;this.xf=q.Om();this.tp="";this.Ha=null;this.wb=!1},KL:function(){return this.wb},eg:function(a,c){null==this.rv&&(this.rv=[]);this.rv.push({eventCallback:a,si:c})},qe:function(){var a=this.rv;if(a){for(var c=0,d=a.length;c<d;c++){var e=a[c];e.eventCallback.call(e.si,this)}a.length=0}},lT:function(){var a=this.af;return q.rect(a.x,
a.y,a.width,a.height)},tba:function(a){this.af||(this.af=q.rect(0,0,0,0));this.af.x=a.x;this.af.y=a.y;this.af.width=a.width;this.af.height=a.height;this.za=q.Aq(a)},r8:function(){return this.Ad},yba:function(a){this.Ad=a},pd:function(){var a=this.za;return q.rect(a.x,a.y,a.width,a.height)},cL:function(a){this.za||(this.za=q.rect(0,0,0,0));this.za.x=a.x;this.za.y=a.y;this.za.width=a.width;this.za.height=a.height;this.af=q.jo(this.za)},J5:function(){return this.Vf},hba:function(a){this.Vf.H=a.x;this.Vf.S=
a.y;q.Tu(this.Vf,this._offset)},Q5:function(){return this.xf},kba:function(a){this.xf.Ia=a.width;this.xf.xa=a.height},gT:function(){return this.zd},jba:function(a){this.zd.Ia=a.width;this.zd.xa=a.height},ja:function(){if(this.Ha)return this.Ha;if(""!==this.tp){var a=q.ia.g().ma(this.tp);a&&(this.wb=a.Vg());return a}return null},ka:function(a){if(this.Ha!=a){var c=a.Vg();this.wb=c;this.Ha=a;c||a.eg(function(a){this.wb=!0;if(this.Ad&&q.Sd===q.ug){var c=a.Cc,c=q.bI(c,this.pd()),f=new q.ic;f.nf(c);f.ee();
this.ka(f);c=this.pd();this.cL(q.rect(0,0,c.width,c.height))}c=this.za;0===c.width&&0===c.height&&(a=a.c(),this.za.width=a.width,this.za.height=a.height,this.af=q.jo(this.za),this.xf.Ia=this.af.width,this.xf.xa=this.af.height,this.zd.Ia=a.width,this.zd.xa=a.height);this.qe()},this)}},I5:function(){return this._offset},gba:function(a){this._offset.H=a.x;this._offset.S=a.y},clone:function(){var a=new q.Xd;a.ix(this.tp,this.af,this.Ad,this.Vf,this.xf);a.ka(this.Ha);return a},Pw:function(){var a=new q.Xd;
a.ix(this.tp,this.af,this.Ad,this.Vf,this.xf);a.ka(this.Ha);return a},copy:function(){return this.Pw()},Qa:function(a,c,d,e,f){2===arguments.length&&(c=q.jo(c));e=e||q.a(0,0);f=f||c.Xa;this.ka(a);this.af=c;this.za=q.Aq(c);this.Vf.H=e.x;this.Vf.S=e.y;q.Tu(e,this._offset);this.xf.Ia=f.width;this.xf.xa=f.height;q.Az(f,this.zd);this.Ad=d||!1;return!0},ix:function(a,c,d,e,f){2===arguments.length&&(c=q.jo(c));e=e||q.a(0,0);f=f||c.Xa;this.Ha=null;this.tp=a;this.af=c;this.za=q.Aq(c);this.Ad=d||!1;this.Vf.H=
e.x;this.Vf.S=e.y;q.Tu(e,this._offset);this.xf.Ia=f.width;this.xf.xa=f.height;q.Az(f,this.zd);return!0}});q.Xd.create=function(a,c,d,e,f){var g=new q.Xd;switch(arguments.length){case 2:g.ix(a,c);break;case 5:g.ix(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};q.Xd.Ma=function(a,c,d,e,f){var g=new q.Xd;switch(arguments.length){case 2:g.Qa(a,c);break;case 5:g.Qa(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};
q.Xd.Y0=function(a,c,d,e,f){var g=new q.Xd;g.Ha=a;g.af=c;g.za=q.Aq(c);g.Vf.H=e.x;g.Vf.S=e.y;q.Tu(g.Vf,g._offset);g.xf.Ia=f.width;g.xf.xa=f.height;q.Az(g.xf,g.zd);g.Ad=d;return g};q.zg=q.Na.extend({cf:null,il:null,Jr:null,ctor:function(){this.cf={};this.il={};this.Jr=[]},Jz:function(a,c){var d=a.metadata||a.meta,e=a.frames,f=0;d&&(f=d.format,f=1>=f.length?parseInt(f):f);if(0>f||3<f)q.log("format is not supported for cc.SpriteFrameCache.addSpriteFramesWithDictionary");else for(var g in e)if(d=e[g]){var h=this.cf[g];if(!h){if(0==f){var h=parseFloat(d.x),k=parseFloat(d.y),l=parseFloat(d.width),m=parseFloat(d.height),p=parseFloat(d.offsetX),s=parseFloat(d.offsetY),u=parseInt(d.originalWidth),
d=parseInt(d.originalHeight);u&&d||q.log("cocos2d: WARNING: originalWidth/Height not found on the cc.SpriteFrame. AnchorPoint won't work as expected. Regenrate the .plist");u=Math.abs(u);d=Math.abs(d);h=q.Xd.Ma(c,q.rect(h,k,l,m),!1,q.a(p,s),q.size(u,d))}else if(1==f||2==f)h=q.vF(d.frame),k=!1,2==f&&(k=d.rotated),l=q.uF(d.offset),d=q.mz(d.sourceSize),h=q.Xd.Ma(c,h,k,l,d);else if(3==f){var h=q.mz(d.spriteSize),k=q.uF(d.spriteOffset),l=q.mz(d.spriteSourceSize),m=q.vF(d.textureRect),p=d.textureRotated,
s=d.aliases,u=g.toString(),w;for(w in s)this.il.hasOwnProperty(s[w])&&q.log("cocos2d: WARNING: an alias with name "+w+" already exists"),this.il[s[w]]=u;d.hasOwnProperty("spriteSize")&&(m=q.rect(m.x,m.y,h.width,h.height));h=q.Xd.Ma(c,m,p,k,l)}else var x=d.filename,k=d.frame,h=d.sourceSize,k=q.rect(k.x,k.y,k.ZL,k.h),d=d.rotated,l=q.a(0,0),h=q.size(h.ZL,h.h),h=q.Xd.Ma(c,k,d,l,h);q.Sd===q.ug&&h.Ad&&h.ja().Vg()&&(d=h.ja().Cc,d=q.bI(d,h.lT()),k=new q.ic,k.nf(d),k.ee(),h.ka(k),d=h.za,h.cL(q.rect(0,0,d.width,
d.height)));this.cf[null!=x?x:g]=h}}},NH:function(a,c){if(!a)throw"cc.SpriteFrameCache.addSpriteFrames(): plist should be non-null";var d=q.Vd.g(),e;"plist"==a.substr(a.lastIndexOf(".",a.length)+1,a.length)?(e=d.Ge(a),e=d.Sw(e)):e=JSON.parse(d.QI(a));switch(arguments.length){case 1:if(!q.vy(this.Jr,a)){var f="",g=e.metadata||e.meta;g&&(f=g.textureFileName||g.image);""!=f?f=d.xI(f,a):(f=a,f=f.substr(0,f.lastIndexOf(".",f.length)),f+=".png");(d=q.ia.g().ma(f))?this.Jz(e,d):q.log("cocos2d: cc.SpriteFrameCache: Couldn't load texture")}break;
case 2:if(c instanceof q.ic)this.Jz(e,c);else{if(!c)throw"cc.SpriteFrameCache.addSpriteFrames(): texture name should not be null";(d=q.ia.g().ma(c))?this.Jz(e,d):q.log("cocos2d: cc.SpriteFrameCache: couldn't load texture file. File not found "+c)}break;default:throw"Argument must be non-nil ";}},bC:function(a,c){this.cf[c]=a},L$:function(){this.cf=[];this.il=[];this.Jr={}},K$:function(a){a&&(this.il.hasOwnProperty(a)&&delete this.il[a],this.cf.hasOwnProperty(a)&&delete this.cf[a],this.Jr={})},M$:function(a){var c=
q.Vd.g(),d=c.Ge(a),c=c.Sw(d);this.FP(c);q.vy(this.Jr,a)&&q.ke(a)},FP:function(a){a=a.frames;for(var c in a)this.cf.hasOwnProperty(c)&&delete this.cf[c]},N$:function(a){for(var c in this.cf){var d=this.cf[c];d&&d.ja()==a&&delete this.cf[c]}},Jh:function(a){var c;this.cf.hasOwnProperty(a)&&(c=this.cf[a]);if(!c){var d;this.il.hasOwnProperty(a)&&(d=this.il[a]);d&&(this.cf.hasOwnProperty(d.toString())&&(c=this.cf[d.toString()]),c||q.log("cocos2d: cc.SpriteFrameCahce: Frame "+a+" not found"))}return c}});
q.Jx=null;q.zg.g=function(){q.Jx||(q.Jx=new q.zg);return q.Jx};q.zg.JV=function(){q.Jx=null};q.yq=29;
q.Gb=q.F.extend({Ta:null,oa:null,Hd:null,Q1:function(a,c,d){if(!a)throw"cc.SpriteBatchNode.addQuadFromSprite(): child should be non-null";if(!(a instanceof q.v))return q.log("cc.SpriteBatchNode.addQuadFromSprite(): SpriteBatchNode only supports cc.Sprites as children"),null;a.Qe(c);var e=0,f=this.Hd;if(f&&0<f.length)for(var g=0;g<f.length;g++){var h=f[g];h&&h.ld>=c&&++e}this.Hd=q.dm(f,a,e);q.F.prototype.f.call(this,a,c,d);this.sK(!1);return this},RI:function(){return this.Ta},mq:function(a){a!=this.Ta&&
(this.Ta=a)},G4:function(){return this.Hd},pj:function(a,c){var d=q.ia.g().fy(a);d||(d=q.ia.g().ma(a));return this.Qa(d,c)},Nm:function(){this.$F=!0},w:function(a,c){var d=q.ia.g().fy(a);d||(d=q.ia.g().ma(a));return this.Qa(d,c)},cx:function(){var a=this.Ta.xd,c=Math.floor(4*(a+1)/3);q.log("cocos2d: CCSpriteBatchNode: resizing TextureAtlas capacity from "+a+" to "+c+".");this.Ta.oW(c)||q.log("cocos2d: WARNING: Not enough memory to resize the atlas")},F$:function(a,c){this.removeChild(this.C[a],c)},
lK:function(a,c){var d=a.C;if(d&&0<d.length)for(var e=0;e<d.length;e++){var f=d[e];f&&0>f.nb&&(c=this.lK(f,c))}!a==this&&(a.Qe(c),c++);if(d&&0<d.length)for(e=0;e<d.length;e++)(f=d[e])&&0<=f.nb&&(c=this.lK(f,c));return c},WC:function(a){var c=a.C;return c&&0!=c.length?this.WC(c[c.length-1]):a.ld},KU:function(a){var c=a.C;return c&&0!=c.length?this.KU(c[c.length-1]):a.ld},rR:function(a,c){var d=a.getParent().C,e=q.xy(d,a),f=a.getParent()==this,g=null;0<e&&e<q.IN&&(g=d[e-1]);if(f)return 0==e?0:this.WC(g)+
1;if(0==e)return d=a.getParent(),0>c?d.ld:d.ld+1;if(0>g.nb&&0>c||0<=g.nb&&0<=c)return this.WC(g)+1;d=a.getParent();return d.ld+1},sK:function(a){this.ze=a},Nl:function(a,c){this.oa=1==arguments.length?a:{src:a,Rb:c}},Ls:function(){return this.oa},ct:function(a,c){if(!a)throw"cc.SpriteBatchNode.addChild():child should be non-null";-1===this.C.indexOf(a)?q.log("cc.SpriteBatchNode.addChild(): Child doesn't belong to Sprite"):c!==a.nb&&(q.F.prototype.ct.call(this,a,c),this.eb())},removeChild:function(a,
c){null!=a&&(-1===this.C.indexOf(a)?q.log("cc.SpriteBatchNode.addChild(): sprite batch node should contain the child"):(this.Kn(a),q.F.prototype.removeChild.call(this,a,c)))},kP:null,Um:null,C1:!1,Xf:null,ctor:null,Wh:function(a){q.F.prototype.ctor.call(this);a&&this.w(a,q.yq)},Xh:function(a){q.F.prototype.ctor.call(this);this.kP=new q.Kh;a&&this.w(a,q.yq)},VL:null,QQ:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";a instanceof q.v?(a.Re(this),a.Qe(c),
a.dh(!0),a.sg()):q.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},RQ:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";if(a instanceof q.v){for(var d=this.Ta.xd;c>=d||d==this.Ta.ab;)this.cx();a.Re(this);a.Qe(c);a.dh(!0);a.sg()}else q.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},pw:function(a,c){var d=this.Hd,e=this.Ta,f=e.Ze,g=d[a],
h=q.yz(f[a]);d[c].Qe(a);d[a]=d[c];e.ly(f[c],a);d[c]=g;e.ly(h,c)},mJ:null,ZO:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";a instanceof q.v?(a.Re(this),a.Qe(c),a.dh(!0),a.sg(),this.C=q.dm(this.C,a,c)):q.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},$O:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";if(a instanceof q.v){for(var d=this.Ta;c>=d.xd||
d.xd===d.ab;)this.cx();a.Re(this);a.Qe(c);d.dD(a.Vb,c);a.dh(!0);a.sg()}else q.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},tH:function(a,c){var d=0,e=a.C;e&&(d=e.length);var f=0;if(0===d)f=a.ld,a.Qe(c),a.jq(0),f!=c&&this.pw(f,c),c++;else{f=!0;0<=e[0].nb&&(f=a.ld,a.Qe(c),a.jq(0),f!=c&&this.pw(f,c),c++,f=!1);for(d=0;d<e.length;d++){var g=e[d];f&&0<=g.nb&&(f=a.ld,a.Qe(c),a.jq(0),f!=c&&this.pw(f,c),c++,f=!1);c=this.tH(g,c)}f&&(f=a.ld,a.Qe(c),
a.jq(0),f!=c&&this.pw(f,c),c++)}return c},$m:function(){this.Ta.ja().Us()||(this.oa.src=770,this.oa.Rb=771)},Qa:null,Cr:function(a){this.C=[];this.Hd=[];this.oa=new q.fm(q.Te,q.Se);this.Um=this.Xf=a;return!0},Dr:function(a,c){this.C=[];this.Hd=[];this.oa=new q.fm(q.Te,q.Se);c=c||q.yq;this.Ta=new q.po;this.Ta.Qa(a,c);this.$m();this.eh(q.Vh.g().Di(q.iz));return!0},mU:function(a,c){a.Re(this);a.Qe(c);a.dh(!0);var d=this.Ta;d.ab>=d.xd&&this.cx();d.dD(a.Vb,c);this.Hd=q.dm(this.Hd,a,c);var d=c+1,e=this.Hd;
if(e&&0<e.length)for(;d<e.length;d++)e[d].Qe(e[d].ld+1);if((e=a.C)&&0<e.length)for(d=0;d<e.length;d++)if(e[d]){var f=this.rR(e[d],e[d].nb);this.mU(e[d],f)}},appendChild:null,$N:function(a){this.ze=!0;a.Re(this);a.dh(!0);this.Hd.push(a);a.Qe(this.Hd.length-1);a=a.C;for(var c=0;c<a.length;c++)this.appendChild(a[c])},aO:function(a){this.ze=!0;a.Re(this);a.dh(!0);this.Hd.push(a);var c=this.Hd.length-1;a.Qe(c);var d=this.Ta;d.ab==d.xd&&this.cx();d.dD(a.Vb,c);a=a.C;for(c=0;c<a.length;c++)this.appendChild(a[c])},
Kn:null,GP:function(a){a.Re(null);var c=this.Hd,d=q.xy(c,a);if(-1!=d){q.tq(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.Qe(f.ld-1)}}if((a=a.C)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.Kn(a[c])},HP:function(a){this.Ta.jW(a.ld);a.Re(null);var c=this.Hd,d=q.xy(c,a);if(-1!=d){q.tq(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.Qe(f.ld-1)}}if((a=a.C)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.Kn(a[c])},ja:null,zA:function(){return this.Um},AA:function(){return this.Ta.ja()},ka:null,Zr:function(a){this.Um=
a;for(var c=this.C,d=0;d<c.length;d++)c[d].ka(a)},$r:function(a){this.Ta.ka(a);this.$m()},Ba:null,an:function(a){var c=a||q.ca;if(this.ya){c.save();this.transform(a);var d=this.C;if(d)for(this.je(),a=0;a<d.length;a++)d[a]&&d[a].Ba(c);c.restore()}},bn:function(a){a=a||q.ca;if(this.ya){q.dq();var c=this.Vk;c&&c.aq()&&(c.gC(),this.jy());this.je();this.transform(a);this.Ya(a);c&&c.aq()&&c.cC(this);q.cq();this.jq(0)}},f:null,Gz:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";
a instanceof q.v?(c=null==c?a.nb:c,d=null==d?a.Cd:d,q.F.prototype.f.call(this,a,c,d),this.appendChild(a),this.eb()):q.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},Hz:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";a instanceof q.v?a.ja()!=this.Ta.ja()?q.log("cc.SpriteBatchNode.addChild(): cc.Sprite is not using the same texture"):(c=null==c?a.nb:c,d=null==d?a.Cd:d,q.F.prototype.f.call(this,a,c,d),this.appendChild(a),
this.eb()):q.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},nc:null,CP:function(a){var c=this.Hd;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].Re(null);q.F.prototype.nc.call(this,a);this.Hd=[]},DP:function(a){var c=this.Hd;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].Re(null);q.F.prototype.nc.call(this,a);this.Hd=[];this.Ta.dW()},je:null,uQ:function(){if(this.ze){var a,c=0,d=this.C,e=d.length,f;for(a=1;a<e;a++){var g=d[a],
c=a-1;for(f=d[c];0<=c&&(g.nb<f.nb||g.nb==f.nb&&g.Wf<f.Wf);)d[c+1]=f,c-=1,f=d[c];d[c+1]=g}0<d.length&&this.Bg(d,q.F.Rf.je);this.ze=!1}},vQ:function(){if(this.ze){var a=this.C,c,d=0,e=a.length,f;for(c=1;c<e;c++){var g=a[c],d=c-1;for(f=a[d];0<=d&&(g.nb<f.nb||g.nb==f.nb&&g.Wf<f.Wf);)a[d+1]=f,d-=1,f=a[d];a[d+1]=g}if(0<a.length)for(this.Bg(a,q.F.Rf.je),c=d=0;c<a.length;c++)d=this.tH(a[c],d);this.ze=!1}},Ya:null,Eg:function(){0!==this.Ta.ab&&(this.Xc.tf(),this.Xc.fh(),this.Bg(this.C,q.F.Rf.sg),q.sk(this.oa.src,
this.oa.Rb),this.Ta.AS())}});
q.Ja.cd?(b=q.Gb.prototype,b.ctor=q.Gb.prototype.Xh,b.VL=q.Gb.prototype.RQ,b.mJ=q.Gb.prototype.$O,b.Qa=q.Gb.prototype.Dr,b.appendChild=q.Gb.prototype.aO,b.Kn=q.Gb.prototype.HP,b.ja=q.Gb.prototype.AA,b.ka=q.Gb.prototype.$r,b.Ba=q.Gb.prototype.bn,b.f=q.Gb.prototype.Hz,b.nc=q.Gb.prototype.DP,b.je=q.Gb.prototype.vQ,b.Ya=q.Gb.prototype.Eg):(b=q.Gb.prototype,b.ctor=q.Gb.prototype.Wh,b.VL=q.Gb.prototype.QQ,b.mJ=q.Gb.prototype.ZO,b.Qa=q.Gb.prototype.Cr,b.appendChild=q.Gb.prototype.$N,b.Kn=q.Gb.prototype.GP,
b.ja=q.Gb.prototype.zA,b.ka=q.Gb.prototype.Zr,b.Ba=q.Gb.prototype.an,b.nc=q.Gb.prototype.CP,b.f=q.Gb.prototype.Gz,b.je=q.Gb.prototype.uQ,b.Ya=q.F.prototype.Ya);q.Gb.create=function(a,c){c=c||q.yq;var d=new q.Gb;d.w(a,c);return d};q.Gb.Ma=function(a,c){c=c||q.yq;var d=new q.Gb;d.Qa(a,c);return d};q.uZ={rZ:0,tZ:1,sZ:2,qZ:3,pZ:4};
q.Ue=q.Na.extend({Lr:0,DG:0,js:!1,is:!1,lw:!1,mw:!1,nw:!1,hP:0,Qv:0,Lq:"",mk:null,ctor:function(){this.DG=this.Lr=0;this.nw=this.mw=this.lw=this.is=this.js=!1;this.Qv=this.hP=0;this.Lq="";this.mk={}},s5:function(){return this.Lr},r5:function(){return this.DG},t5:function(){return this.Qv},wca:function(){return this.is},xca:function(){return this.js},uca:function(){return this.lw},vca:function(){return this.mw},yca:function(){return this.nw},Ip:function(a){return-1<this.Lq.indexOf(a)},w:function(){var a=
this.mk;a["cocos2d.x.version"]=q.Lt;a["cocos2d.x.compiled_with_profiler"]=!1;a["cocos2d.x.compiled_with_gl_state_cache"]=q.ZE;return!0},j4:function(a,c){var d=this.mk;return d.hasOwnProperty(a)?d[a]:c},e4:function(a,c){null==c&&(c=!1);var d=this.mk;return d.hasOwnProperty(a)?d[a]:c},B5:function(a,c){null==c&&(c=0);var d=this.mk;return d.hasOwnProperty(a)?d[a]:c},D5:function(a){var c=this.mk;return c.hasOwnProperty(a)?c[a]:null},rX:function(a,c){this.mk[a]=c},ES:function(){0===q.ZE&&(q.log(""),q.log("cocos2d: **** WARNING **** CC_ENABLE_PROFILERS is defined. Disable it when you finish profiling (from ccConfig.js)"),
q.log(""))},PS:function(){if(q.Sd!==q.ug){var a=q.ca,c=this.mk;c["gl.vendor"]=a.getParameter(a.VENDOR);c["gl.renderer"]=a.getParameter(a.RENDERER);c["gl.version"]=a.getParameter(a.VERSION);this.Lq="";for(var d=a.getSupportedExtensions(),e=0;e<d.length;e++)this.Lq+=d[e]+" ";this.Lr=a.getParameter(a.MAX_TEXTURE_SIZE);c["gl.max_texture_size"]=this.Lr;this.Qv=a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS);c["gl.max_texture_units"]=this.Qv;this.js=this.Ip("GL_IMG_texture_compression_pvrtc");c["gl.supports_PVRTC"]=
this.js;this.is=!1;c["gl.supports_NPOT"]=this.is;this.lw=this.Ip("GL_IMG_texture_format_BGRA888");c["gl.supports_BGRA8888"]=this.lw;this.mw=this.Ip("GL_EXT_discard_framebuffer");c["gl.supports_discard_framebuffer"]=this.mw;this.nw=this.Ip("vertex_array_object");c["gl.supports_vertex_array_object"]=this.nw;q.ME()}},U8:function(a){var c=q.Vd.g(),d=c.Ge(a),c=c.Sw(d);if(null!=c)if(c=c.data)for(var e in c)this.mk[e]=c[e];else q.log("Expected 'data' dict, but not found. Config file: "+a)}});q.Ue.bs=null;
q.Ue.g=function(){q.Ue.bs||(q.Ue.bs=new q.Ue,q.Ue.bs.w());return q.Ue.bs};q.Ue.k$=function(){q.Ue.bs=null};q.Gh=0;q.uM=0;q.WE=1;q.vM=3;q.wM=q.WE;q.zZ=0;q.xZ=1;q.AZ=2;q.yZ=3;q.wZ=2;q.DZ=q.Na.extend({dda:function(){}});q.$E=function(a){var c=new q.Kh;q.DU(q.mu,c);var d=new q.Kh;q.DU(q.lu,d);q.GU(a,c,d)};
q.fa=q.Na.extend({j1:!1,Pr:!1,Im:!1,bw:!1,Mm:!1,oh:0,PA:0,fl:0,ro:0,vm:1,fr:!1,Qk:0,uv:0,Jk:null,Lk:null,Rk:null,bc:null,ak:null,Zi:null,Vv:null,uh:null,ej:null,$A:null,Bd:null,ue:0,LB:0,oB:0,V0:null,Lg:null,nh:null,gf:null,KA:null,Wu:null,Nr:null,i1:!1,ctor:function(){this.ak=Date.now();if(!q.eD){var a=this;window.addEventListener("focus",function(){a.ak=Date.now()},!1)}},MP:function(){this.ak=Date.now()},w:function(){this.PA=this.oh=1/q.dS;this.ej=[];this.fl=q.wM;this.$A=null;this.uv=this.ro=0;
this.fr=!1;this.LB=this.ue=0;this.ak=Date.now();this.bw=this.Im=!1;this.bc=q.Om();this.uh=null;this.vm=1;this.Lg=new q.vN;this.nh=new q.eM;this.Lg.yK(this.nh,q.pu,!1);q.sa&&(this.gf=new q.sa,this.gf.w());q.ho&&(this.KA=q.ho.g());q.Dk&&(this.Wu=new q.Dk);q.oe&&(this.Nr=new q.oe,this.Nr.w());return!0},wR:function(){var a=Date.now();this.Pr?(this.Qk=0,this.Pr=!1):this.Qk=(a-this.ak)/1E3;0<q.Ft&&0.2<this.Qk&&(this.Qk=1/60);this.ak=a},VR:function(a){var c=new q.Kh;q.$E(c);var d=new q.Kh;q.M8(d,c);var c=
c.Lh[14]/c.Lh[15],e=this.uh.Op();a=new q.eq(2*a.x/e.width-1,1-2*a.y/e.height,c);c=new q.eq;q.IU(c,a,d);return q.a(c.x,c.y)},XR:function(a){var c=new q.Kh;q.$E(c);var d=new q.eq;a=new q.eq(a.x,a.y,0);q.IU(d,a,c);c=this.uh.Op();return q.a(c.width*(0.5*d.x+0.5),c.height*(0.5*-d.y+0.5))},BS:function(){this.wR();this.Im||this.Lg.update(this.Qk);this.bG();this.Zi&&this.qX();this.Oz&&this.Oz();this.Bd&&this.Bd.Ba();this.Vv&&this.Vv.Ba();this.fr&&this.tQ();this.Kz&&this.Kz();this.LB++;this.fr&&this.hO()},
pO:function(){var a=this.uh.jf;q.ca.clearRect(-a.x,a.y,a.width,-a.height)},wO:function(){var a=q.ca;a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},Oz:null,Kz:null,cO:function(){q.dq()},ZN:function(){q.cq()},end:function(){this.bw=!0},v4:function(){return this.vm},A5:function(){return this.Vv},m7:function(){return this.bc},FT:function(){return q.size(this.bc.width*this.vm,this.bc.height*this.vm)},Qs:function(){return this.uh?this.uh.Qs():this.bc},WI:function(){return this.uh?this.uh.WI():q.jN},Ss:function(){return this.bc.height/
1.1566},pause:function(){this.Im||(this.PA=this.oh,this.et(0.25),this.Im=!0)},e$:function(){if(!this.Bd)throw"running scene should not null";this.ej.pop();var a=this.ej.length;0==a?this.end():(this.Mm=!0,this.Zi=this.ej[a-1])},yD:function(){q.Wy.yD()},HV:function(){this.If().vt();this.gf&&this.gf.cW();this.Bd&&(this.Bd.Mh(),this.Bd.ge(),this.Bd.fg());this.Zi=this.Bd=null;this.ej=[];this.EL();q.Wy.yD();q.cm.IV();q.zg.JV();q.ia.KV();q.ME()},LV:function(a){if(!a)throw"the scene should not null";this.Mm=
!1;this.ej.push(a);this.Zi=a},tK:function(a){if(!this.Bd)throw"Use runWithScene: instead to start the director";if(!a)throw"the scene should not be null";var c=this.ej.length;0===c?(this.Mm=!0,this.ej[c]=a):(this.Mm=!0,this.ej[c-1]=a);this.Zi=a},vK:function(){this.Im&&(this.et(this.PA),(this.ak=Date.now())||q.log("cocos2d: Director: Error in gettimeofday"),this.Im=!1,this.Qk=0)},wW:function(a){if(!a)throw"This command can only be used to start the CCDirector. There is already a scene present.";if(this.Bd)throw"_runningScene should be null";
this.LV(a);this.CL()},KW:function(a){a?q.sk(q.Te,q.Se):q.sk(q.ca.ONE,q.ca.ZERO)},UW:function(a){a!=this.vm&&(this.vm=a,this.Ko())},YW:function(a){if(q.Sd!==q.ug){var c=q.ca;a?(c.clearDepth(1),c.enable(c.DEPTH_TEST),c.depthFunc(c.LEQUAL)):c.disable(c.DEPTH_TEST)}},vaa:function(){},PK:function(){this.KW(!0);this.YW(!1);this.Px(this.fl);q.ca.clearColor(0,0,0,1)},cba:function(a){this.Pr=a},qX:function(){var a=!1,c=!1;q.KF&&(a=this.Bd?this.Bd instanceof q.KF:!1,c=this.Zi?this.Zi instanceof q.KF:!1);if(!c){if(c=
this.Bd)c.Mh(),c.ge();this.Mm&&c&&c.fg()}this.Bd=this.Zi;this.Zi=null;a||null==this.Bd||(this.Bd.Zg(),this.Bd.Bi())},dba:function(a){this.Vv=a},vc:function(){return this.$A},og:function(a){this.$A=a},wX:function(a){this.bc.jE(q.canvas.width);this.bc.YD(q.canvas.height);this.uh=a||q.qa.g();q.Sd!==q.ug&&(a=q.Ue.g(),a.PS(),a.ES(),this.Ko(),this.PK(),this.gf&&this.gf.ZW(!0))},qL:function(){if(this.uh){var a=this.bc;this.uh.WX(0,0,a.width,a.height)}},Px:function(a){var c=this.bc;if(q.Sd===q.Ik){this.qL();
switch(a){case q.uM:q.un(q.mu);q.jD();var d=new q.Kh;q.HU(d,0,c.width,0,c.height,-1024,1024);q.mx(d);q.un(q.lu);q.jD();break;case q.WE:var e=this.Ss(),f=new q.Kh,d=new q.Kh;q.un(q.mu);q.jD();q.N8(f,60,c.width/c.height,0.1,2*e);q.mx(f);q.un(q.lu);q.jD();e=q.$s(null,c.width/2,c.height/2,e);c=q.$s(null,c.width/2,c.height/2,0);f=q.$s(null,0,1,0);q.FU(d,e,c,f);q.mx(d);break;case q.vM:break;default:q.log("cocos2d: Director: unrecognized projection")}this.fl=a;q.pba()}else this.fl=a},tQ:function(){this.ue++;
this.ro+=this.Qk;this.Jk&&this.Lk&&this.Rk?(this.ro>q.tM&&(this.Lk.pa(this.oB.toFixed(3)),this.uv=this.ue/this.ro,this.ro=this.ue=0,this.Jk.pa(this.uv.toFixed(1)),this.Rk.pa((0|q.Gh).toString())),this.Jk.Ba(),this.Lk.Ba(),this.Rk.Ba()):this.Ko();q.Gh=0},u8:function(){return this.Mm},p6:function(){return this.Bd},Y3:function(){return this.oh},W7:function(){return this.fr},zaa:function(a){this.fr=a},v6:function(){return this.oB},O5:function(){return this.uh},h8:function(){return this.Pr},l8:function(){return this.Im},
U6:function(){return this.LB},d6:function(){return this.fl},f$:function(){this.vV(1)},vV:function(a){if(!this.Bd)throw"A running Scene is needed";var c=this.ej,d=c.length;if(0==d)this.end();else if(!(a>d)){for(;d>a;){var e=c.pop();e.bf&&(e.Mh(),e.ge());e.fg();d--}this.Zi=c[c.length-1];this.Mm=!1}},If:function(){return this.Lg},JX:function(a){this.Lg!=a&&(this.Lg=a)},gg:function(){return this.nh},IW:function(a){this.nh!=a&&(this.nh=a)},W6:function(){return this.gf},Sba:function(a){this.gf!=a&&(this.gf=
a)},Zw:function(){if(!q.ho)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";return this.KA},Raa:function(a){if(!q.ho)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";this.KA=a},Mp:function(){if(!q.Dk)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";return this.Wu},eaa:function(a){if(!q.Dk)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";this.Wu!=
a&&(this.Wu=a)},F4:function(){return this.Qk},Hf:function(){if(!q.oe)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";return this.Nr},aba:function(a){if(!q.oe)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.Nr!=a&&(this.Nr=a)},Ko:null,zO:function(){if(!q.Vy)return this.eG();if(null!=q.fa.kG&&!1!=q.fa.kG){var a=new q.ic;a.nf(q.fa.rA);a.ee();var c=q.qa.g().Op().height/320;0===c&&(c=this.bc.height/320);var d=new q.Vy;
d.qB(!0);d.xl("00.0",a,12,32,".");d.yk(c);this.Jk=d;d=new q.Vy;d.qB(!0);d.xl("0.000",a,12,32,".");d.yk(c);this.Lk=d;d=new q.Vy;d.qB(!0);d.xl("000",a,12,32,".");d.yk(c);this.Rk=d;a=q.XE;this.Rk.l(q.ah(q.a(0,34*c),a));this.Lk.l(q.ah(q.a(0,17*c),a));this.Jk.l(a)}},eG:function(){var a=0,a=this.bc.width>this.bc.height?0|this.bc.height/320*24:0|this.bc.width/320*24;this.Jk=q.T.create("000.0","Arial",a);this.Lk=q.T.create("0.000","Arial",a);this.Rk=q.T.create("0000","Arial",a);var a=q.XE,c=this.Rk.c();this.Rk.l(q.ah(q.a(c.width/
2,5*c.height/2),a));c=this.Lk.c();this.Lk.l(q.ah(q.a(c.width/2,3*c.height/2),a));c=this.Jk.c();this.Jk.l(q.ah(q.a(c.width/2,c.height/2),a))},hO:function(){this.oB=(Date.now()-this.ak)/1E3}});q.Ja.cd?(q.fa.prototype.bG=q.fa.prototype.wO,q.fa.prototype.Oz=q.fa.prototype.cO,q.fa.prototype.Kz=q.fa.prototype.ZN,q.fa.prototype.Ko=q.fa.prototype.zO):(q.fa.prototype.bG=q.fa.prototype.pO,q.fa.prototype.Ko=q.fa.prototype.eG);
q.xM=q.fa.extend({invalid:!1,CL:function(){this.Pr=!0;this.invalid=!1;q.Dj.g().et(this.oh)},NJ:function(){this.bw?(this.bw=!1,this.HV()):this.invalid||this.BS()},EL:function(){this.invalid=!0},et:function(a){this.oh=a;this.invalid||(this.EL(),this.CL())}});q.Ix=null;q.rI=!0;q.fa.g=function(){q.rI&&(q.rI=!1,q.Ix=new q.xM,q.Ix.w(),q.Ix.wX(q.qa.g()));return q.Ix};Object.defineProperties(q,{sda:{get:function(){return q.uS.bc},enumerable:!0,configurable:!0}});q.N3=!0;q.dS=60;q.fa.rA=new Image;
q.fa.rA.addEventListener("load",function(){q.fa.kG=!0;this.removeEventListener("load",arguments.callee,!1)});q.fa.rA.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAAgCAYAAAD9qabkAAAKQ2lDQ1BJQ0MgcHJvZmlsZQAAeNqdU3dYk/cWPt/3ZQ9WQtjwsZdsgQAiI6wIyBBZohCSAGGEEBJAxYWIClYUFRGcSFXEgtUKSJ2I4qAouGdBiohai1VcOO4f3Ke1fXrv7e371/u855zn/M55zw+AERImkeaiagA5UoU8Otgfj09IxMm9gAIVSOAEIBDmy8JnBcUAAPADeXh+dLA//AGvbwACAHDVLiQSx+H/g7pQJlcAIJEA4CIS5wsBkFIAyC5UyBQAyBgAsFOzZAoAlAAAbHl8QiIAqg0A7PRJPgUA2KmT3BcA2KIcqQgAjQEAmShHJAJAuwBgVYFSLALAwgCgrEAiLgTArgGAWbYyRwKAvQUAdo5YkA9AYACAmUIszAAgOAIAQx4TzQMgTAOgMNK/4KlfcIW4SAEAwMuVzZdL0jMUuJXQGnfy8ODiIeLCbLFCYRcpEGYJ5CKcl5sjE0jnA0zODAAAGvnRwf44P5Dn5uTh5mbnbO/0xaL+a/BvIj4h8d/+vIwCBAAQTs/v2l/l5dYDcMcBsHW/a6lbANpWAGjf+V0z2wmgWgrQevmLeTj8QB6eoVDIPB0cCgsL7SViob0w44s+/zPhb+CLfvb8QB7+23rwAHGaQJmtwKOD/XFhbnauUo7nywRCMW735yP+x4V//Y4p0eI0sVwsFYrxWIm4UCJNx3m5UpFEIcmV4hLpfzLxH5b9CZN3DQCshk/ATrYHtctswH7uAQKLDljSdgBAfvMtjBoLkQAQZzQyefcAAJO/+Y9AKwEAzZek4wAAvOgYXKiUF0zGCAAARKCBKrBBBwzBFKzADpzBHbzAFwJhBkRADCTAPBBCBuSAHAqhGJZBGVTAOtgEtbADGqARmuEQtMExOA3n4BJcgetwFwZgGJ7CGLyGCQRByAgTYSE6iBFijtgizggXmY4EImFINJKApCDpiBRRIsXIcqQCqUJqkV1II/ItchQ5jVxA+pDbyCAyivyKvEcxlIGyUQPUAnVAuagfGorGoHPRdDQPXYCWomvRGrQePYC2oqfRS+h1dAB9io5jgNExDmaM2WFcjIdFYIlYGibHFmPlWDVWjzVjHVg3dhUbwJ5h7wgkAouAE+wIXoQQwmyCkJBHWExYQ6gl7CO0EroIVwmDhDHCJyKTqE+0JXoS+cR4YjqxkFhGrCbuIR4hniVeJw4TX5NIJA7JkuROCiElkDJJC0lrSNtILaRTpD7SEGmcTCbrkG3J3uQIsoCsIJeRt5APkE+S+8nD5LcUOsWI4kwJoiRSpJQSSjVlP+UEpZ8yQpmgqlHNqZ7UCKqIOp9aSW2gdlAvU4epEzR1miXNmxZDy6Qto9XQmmlnafdoL+l0ugndgx5Fl9CX0mvoB+nn6YP0dwwNhg2Dx0hiKBlrGXsZpxi3GS+ZTKYF05eZyFQw1zIbmWeYD5hvVVgq9ip8FZHKEpU6lVaVfpXnqlRVc1U/1XmqC1SrVQ+rXlZ9pkZVs1DjqQnUFqvVqR1Vu6k2rs5Sd1KPUM9RX6O+X/2C+mMNsoaFRqCGSKNUY7fGGY0hFsYyZfFYQtZyVgPrLGuYTWJbsvnsTHYF+xt2L3tMU0NzqmasZpFmneZxzQEOxrHg8DnZnErOIc4NznstAy0/LbHWaq1mrX6tN9p62r7aYu1y7Rbt69rvdXCdQJ0snfU6bTr3dQm6NrpRuoW623XP6j7TY+t56Qn1yvUO6d3RR/Vt9KP1F+rv1u/RHzcwNAg2kBlsMThj8MyQY+hrmGm40fCE4agRy2i6kcRoo9FJoye4Ju6HZ+M1eBc+ZqxvHGKsNN5l3Gs8YWJpMtukxKTF5L4pzZRrmma60bTTdMzMyCzcrNisyeyOOdWca55hvtm82/yNhaVFnMVKizaLx5balnzLBZZNlvesmFY+VnlW9VbXrEnWXOss623WV2xQG1ebDJs6m8u2qK2brcR2m23fFOIUjynSKfVTbtox7PzsCuya7AbtOfZh9iX2bfbPHcwcEh3WO3Q7fHJ0dcx2bHC866ThNMOpxKnD6VdnG2ehc53zNRemS5DLEpd2lxdTbaeKp26fesuV5RruutK10/Wjm7ub3K3ZbdTdzD3Ffav7TS6bG8ldwz3vQfTw91jicczjnaebp8LzkOcvXnZeWV77vR5Ps5wmntYwbcjbxFvgvct7YDo+PWX6zukDPsY+Ap96n4e+pr4i3z2+I37Wfpl+B/ye+zv6y/2P+L/hefIW8U4FYAHBAeUBvYEagbMDawMfBJkEpQc1BY0FuwYvDD4VQgwJDVkfcpNvwBfyG/ljM9xnLJrRFcoInRVaG/owzCZMHtYRjobPCN8Qfm+m+UzpzLYIiOBHbIi4H2kZmRf5fRQpKjKqLupRtFN0cXT3LNas5Fn7Z72O8Y+pjLk722q2cnZnrGpsUmxj7Ju4gLiquIF4h/hF8ZcSdBMkCe2J5MTYxD2J43MC52yaM5zkmlSWdGOu5dyiuRfm6c7Lnnc8WTVZkHw4hZgSl7I/5YMgQlAvGE/lp25NHRPyhJuFT0W+oo2iUbG3uEo8kuadVpX2ON07fUP6aIZPRnXGMwlPUit5kRmSuSPzTVZE1t6sz9lx2S05lJyUnKNSDWmWtCvXMLcot09mKyuTDeR55m3KG5OHyvfkI/lz89sVbIVM0aO0Uq5QDhZML6greFsYW3i4SL1IWtQz32b+6vkjC4IWfL2QsFC4sLPYuHhZ8eAiv0W7FiOLUxd3LjFdUrpkeGnw0n3LaMuylv1Q4lhSVfJqedzyjlKD0qWlQyuCVzSVqZTJy26u9Fq5YxVhlWRV72qX1VtWfyoXlV+scKyorviwRrjm4ldOX9V89Xlt2treSrfK7etI66Trbqz3Wb+vSr1qQdXQhvANrRvxjeUbX21K3nShemr1js20zcrNAzVhNe1bzLas2/KhNqP2ep1/XctW/a2rt77ZJtrWv913e/MOgx0VO97vlOy8tSt4V2u9RX31btLugt2PGmIbur/mft24R3dPxZ6Pe6V7B/ZF7+tqdG9s3K+/v7IJbVI2jR5IOnDlm4Bv2pvtmne1cFoqDsJB5cEn36Z8e+NQ6KHOw9zDzd+Zf7f1COtIeSvSOr91rC2jbaA9ob3v6IyjnR1eHUe+t/9+7zHjY3XHNY9XnqCdKD3x+eSCk+OnZKeenU4/PdSZ3Hn3TPyZa11RXb1nQ8+ePxd07ky3X/fJ897nj13wvHD0Ivdi2yW3S609rj1HfnD94UivW2/rZffL7Vc8rnT0Tes70e/Tf/pqwNVz1/jXLl2feb3vxuwbt24m3Ry4Jbr1+Hb27Rd3Cu5M3F16j3iv/L7a/eoH+g/qf7T+sWXAbeD4YMBgz8NZD+8OCYee/pT/04fh0kfMR9UjRiONj50fHxsNGr3yZM6T4aeypxPPyn5W/3nrc6vn3/3i+0vPWPzY8Av5i8+/rnmp83Lvq6mvOscjxx+8znk98ab8rc7bfe+477rfx70fmSj8QP5Q89H6Y8en0E/3Pud8/vwv94Tz+4A5JREAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfcAgcQLxxUBNp/AAAQZ0lEQVR42u2be3QVVZbGv1N17829eRLyIKAEOiISEtPhJTJAYuyBDmhWjAEx4iAGBhxA4wABbVAMWUAeykMCM+HRTcBRWkNH2l5moS0LCCrQTkYeQWBQSCAIgYRXEpKbW/XNH5zS4noR7faPEeu31l0h4dSpvc+t/Z199jkFWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhY/H9D/MR9qfKnLj/00U71aqfJn9+HCkCR/Wk36ddsgyJ/1wF4fkDfqqm9/gPsUeTnVr6a2xlQfnxdI7zs0W7irzD17Ytb2WT7EeNv/r4ox1O3Quf2QP2pgt9utwfout4FQE8AVBSlnaRmfvAURQkg2RlAbwB9AThlW5L0GaiKojhJhgOIBqDa7XaPrusdPtr5kQwF0BVAAoBIABRCKDd5aFUhRDAAw57eAOwAhKIoupft3zoqhB1AqLwuHIBut9uFt02qqvqRDJR2dAEQJj/BAOjn56dqmma+xiaECAEQAWAggLsB6A6HQ2iaZggBhBAqgEAAnQB0kzaEmT4hAITT6VQ8Ho/HJAKKECJQtr8LwD1y/A1/vcdfEUIEyfZ9AcQbYvZ942Px88L2UwlJR0dH0EMPPbRj5syZPUeNGrXR7Xb/641xIwJ1XY9NSUlZm52dfW+XLl1w8uRJzJ8//+OGhoYJqqqe1TSt1Wsm9NN1PSIqKmr12rVrR5WUlHy1bdu2AQCumWc3IYRD1/UwVVXnFRQUTIuNjUVzczN2797dWFJSkq8oymZd15sAGAEnFEUJ1nX9nzIzM1dnZmZGh4SE4OTJk5g5c+Zf29vbp9pstrMej6fVOyhIhgAYU1hY+B+hoaGoqKg4XVlZea+XTULTNFdCQsLGiRMnPuR2u3UhBOV9eeDAAWXTpk095DUe6WsoyRE5OTlr0tLSAux2O/bs2cO5c+e+pijKUpIXSHaQVAGkvPLKK++6XK4OksJLCFlXV2cvKSlJBFAjhU+x2WwhHo9nUHp6+urMzMy7wsLCUF9fjxdffPHjxsbGiTab7WuPx9NiEutOuq4PyMjI+M+srKyYqKgoHD58GDNmzNjq8XhyVFU9b/q+LH7hBAEYu3PnTlZVVRFAGgCX6f/tAHoOHDjwa0p27txp/JO9e/f+QM7cipw9nfL3kQBKt2zZQpJ87rnn6mQmoHilw2EACs+cOUOSrK+vZ1NTE0nyo48+IoBpxswoBcMJ4Ndjx471kOTFixe5d+9ekqTH42H//v13A4jyzpAURfEH0H/OnDnthu1z5sw558MmFUCPWbNmnaMP3nrrLZoyDmP8Hl68eDFJ8siRI9/Yc+zYMQKYKdtAztrTrl27xptRXV1NAKMAOAyBBBA/Y8aMdpLs6Ojgxx9//E37+++//29yvFXppwvAwMcee8xjtDHsuXLlCqOjo//ia3wsfpkoALqFhoZuIckJEyackimm3dQmEMDUmpoakmRISMhhAHOHDx/eQJIbN24kgKEyMAHAFRMTs2XXrl1saWkhSZ0kp0+ffhrAr3wEW/S8efOukORLL72kA1gKYMPWrVtJkk899dRJAHeYrgsEsIQkjx8/TgDvAPjd448/3kaSb7zxBmUa7vC6z53BwcFbSHL9+vU6Sc6aNes8gF5ewWAH0PfVV18lSQL4DMBGIcQ6AKtcLleBFC2jXtFt8ODBe0iyoqKCAJYByC8qKmJDQwOzsrK+MAmqo1OnTveHhoa+GRkZ+XZkZOSWiIiIvzgcjk9mzpypkWRmZuZpmbYbGV4AgPnNzc1sa2sjgN0A5iQmJtaSZHl5OQHcb/K3s81mW0uSTU1NBFAFYFbfvn1Pk+Tbb79NAA8IIVzW42/hByA+Pz/fLR/2ZXIda05NI/z9/TeR5J49ewhgqlxTrtI0jY2NjQQw3zTLuWJiYjaUlJToS5Ys6fjkk080kwDEeAmADcA9GzZsIElGRUW9CyAWwLApU6Y0kOSKFSsog9QICGdERMTGsrIyZmVlEcC9AB4IDw/fTpLbtm0jgN94CUAnAJmVlZVcs2aNZ/LkyRdJcvbs2b4EwAkgZfPmzTxw4AABFAN4BkC6vFeUSewcAO5duXIlSTIhIaEawGMAxgKYAmAGgCS73e5vrKVk/yGythANYEhCQsIhkly+fDkBpKqqGmL6DgIALDKN/3yZpVWQZGVlJQE8aPI3KiMjo5okV61aRQAjAPQBMPfIkSN0u90EUCBtsPiFEwpgbn19PdetW2fM5N4zQ9ekpKQqkty0aRMBpMjiWM6JEydIkoqirJUFJ6iq6pAPVy8A6cZMehMBUACEuVyuFwG8HBwcPEIWx367ZMkSjSQXLVrUJouTRorrkAHdA8BdQogsAOsKCwtJkmPGjDkvMw2bDDo/ADEjRoz4XylyFbm5uY0mAbjLyyZ/AOOrq6tZVlbWsWDBgo69e/eyoqKCgwcPPg4gSQaoIRbp27dvN7KF+tLSUr28vJwFBQXtMpvpYRIM7+wrAkDeqVOnePbsWQIoNKfzpiXPg8uXLydJJicnNwF4f+nSpW6STEtLq5fjYwhk1wkTJtSQ5Ouvv04AqTKj+N2xY8dIkgEBAW/Ie1v8wncRegwZMmQvSfbr12+3Ua33WqPfOWbMmP0kWVpaSgCDZAqcfejQIWNZsEGKgvnh9gfQb9myZd8nAEJVVZtMkUNk8CcNHTq0liR1XWdYWNhmH1mJIme80OnTp18x1rp5eXkEsNJms92Fb7e/IgEsvHz5Mp999tkmAI/l5uZeMC0B7vEqqAYAyL106RJJsra2lpWVld+sucePH38ZQG+5NncBeOrgwYMkqbe3t/Po0aOsra011wAWyl0H7x0JJ4DE+fPnu0kyPT29DsDdUrBuyNKEEAkAdpw/f/6GeoEM8GUmfwEgPCIiopwkGxsbabPZPgOw6L777vvm4p49e26VGYjFLxUhhD+ApLKyMp44ccIoVnXybgbgzkcfffRzklyzZg0BDJYCMMmoCwQFBXkLgLGWvvcWAgBToSsKwNPTp09vMR7UuLi4rwH0lgU8c/Db5ezbeeTIkRWzZ8++aMxu+fn5BPCADBwHgP4LFy701NXVEUAJgAnPP/98kyxMNgHo53A4zH77BQQETMvPz7+Um5vbBuAlAFMSExPPmdbVL0qh8Acw8fDhw5SCchVAEYAVb775JknyhRdeaJYztHfxMwLAaqNwCGC2FArv8x0hAHKNLGPKlCme5OTk/Zs3bzb7O0wKiiG8KXl5ed8IxenTp0mSR48e1UmyW7duWywBuD2xyQcgFECgoih+8H1gyJgZV5Lkyy+/3CbTRIePtl2HDBmyw1QBHyGDdXZdXR1JUghRKkXBjOMHCoBdpr0L3nvvPZLkF198wejo6O0A4lVVDTb74HQ6AwD8Wq7Jh8rgGgDgQ13XjVR8qaxJuADMbmlpYXl5uV5UVNRWUFDgfv/993Vj/ZydnU1c37eHXML4S3viAcQqitJD2l104cIFY8lTKsXSBWBMVVWVcd9yed2A1NTUQ6Zl00CvLMMOoHdubm6zFIlWOf5+PsY/Kj09vdrU11QAwwGsv3jxIk21m2DZr10I0RXAuAcffPBgaWkpV69eTYfDcdiwUxY0w6xw+flX8L1xApjevXv3lREREaW6rofB93aPDUDQpEmTMgHgtddeqwBwEd/utZvpqK6uPgEAcXFxkA94NwB9unfvjrNnz4LklwDcf08iIqv66Zs2bXrl4YcfxooVKxAbG7uqrq5uAYA2TdOEqqpGYIi2tjbl6aeffu/YsWPv5uTk7JaC1wHg4Pnz542MwoVvTx+21dbWYvjw4WLixIl+2dnZ9lGjRgmSTE1NRUpKCkwFTGiaxtTU1OXTpk3707Bhw/6g67pDipnT4biuj7qut+Lbk3Vf1tTUXI9qu91Pjq1QFEUBgJaWFgBo8yGOQ8eNGxcAAOvXr/8QwBUfYygAKL169eoCABcuXACAWtn2hOGv0+kMNO1KiPDw8F4A4rZv3/7R1KlTR0+bNu1ht9u9r1+/fqitrQXJgwDarRC6/QjPzs4+QJIffPCB9/aQmSAA43ft2mW0e1QGoi8CAPyLsZccExNTC2BlRkbGRdOyYJCP2csBIN6UAZzCd7cBbQCijYp/dXU1ExMTz6SmptaMHj36f9LS0vYlJCRsl6mxIWSdu3fv/g5J7t+/nwC2AShMTk6+SJKff/45AWRLYbD7+fndAeDf5BJnLoCCyZMnt5JkdnZ2C4B/F0KEm1Pu+Pj4rST55ZdfEsBWAK+mpaVdMo3raDn7KwDuSEpK+m+S3LBhAwG8DuCtHTt2UBbpjgC408vvcFVV15HkuXPnjMp+p5uMf0RcXNyHJNnQ0EBVVfcCWBQXF3fG+Jv0yxABPwB5LS0tRmFxN4BlTzzxxGWSXLx4sS5F3GGFy+1Hp5SUlJq6ujoWFxdTpsZ2H+0iIyMj/0iSWVlZX5mr5jfJFroPGzasxlhTnjp1iiTZ3NxMl8tlrCd9pfa9SkpKSJI5OTmnZOageLUZZqxvfVFWVkZcPwdgNwnSCKPqb17jkmR8fPzfZMDZ5CRsFBmNI7h95s2b1yhT7/MAYmStwCx4vy0uLqa3v5qmEcCfvSr1QQAeXb16NY3Cm3HQ55133iGAp+SxZTNhKSkpfzUddkrFjYevzAQCeGjp0qXfsYckY2NjTwD4leGDLCL2HTdunNtoY+zWSHFcIHdsFCtcfuZ1vO9Eqs3m7/F47sb1k2qX/f3997W2tl7BjWfpBYDOzzzzzIVJkyZh0KBBCwEsB3AJvl9AETabLcDj8dwRFRW1ctasWb8JCgpSzp07d62wsPC/Wltb8xRFadR1/ZqPXYbgAQMGbI2Pjw/+6quv9ldVVT0r01ezuPRJSUn5Y9euXXVd11WzDaqq6kePHm3+7LPPRgO4KlNuxWazhXo8nuTk5OSXMjIyEl0uFxoaGtqKior+dPXq1VdUVT0jj7r68ieoT58+vx8yZMjdx48fP1JVVTVF9m20VW02WyfZf97YsWPjXS4X6urqWvPy8jYCWCyEuEDS8FdVFKWzruv//OSTTy5OTk7uqWkaPv3007qysrJ8RVH+LI8ym8/rB3Tu3HnRI488knLo0KG2ffv2ZQI4C98vP6mqqoZqmpaclpa2cOTIkX39/f3R0NDQUVxc/G5TU9PLqqrWa5rWLH1QVFUN0TStX1JSUvH48eP7BwYG4uDBg1cKCgpeBbBe2u+2Qug2EwD5N5sMPuNtMe8XP4TT6Qxoa2sbIGeXvUKIK7d4IISiKC5d1wPljOfA9bPwzYqiXNV13dd6Uqiq6qdpml2mpe02m63d4/G4vcTF5fF47LJf71nJA6BZVVW3pmntuPHlmAD5wk6Q9NnbHp9vHaqq6tA0zU/64PZhk1FfCZB9G/23ALiqKEqzD39tpvbGUqoFwFUhRLP3yzpCCDtJpxyXDulfG27+pqRR3DXsUWVd4Yq0x/taVQjhIhksC8L+ABpM9ljBf5sKwI8pIBr75L5E4vvu+UNeG/a+hv+AL7yFH8qPtOfHjtOP6V/Bja8D6z/B2Nys/1u9Xv33tLf4GfF/LC4GCJwByWIAAAAASUVORK5CYII\x3d";q.wq=q.Na.extend({tr:null,ur:null,vr:null,Fo:null,Go:null,Ho:null,ts:null,us:null,vs:null,Oa:null,Mv:null,ctor:function(){this.Mv=new q.Kh;this.restore()},description:function(){return"\x3cCCCamera | center \x3d("+this.Fo+","+this.Go+","+this.Ho+")\x3e"},dh:function(a){this.Oa=a},tJ:function(){return this.Oa},restore:function(){this.tr=this.ur=0;this.vr=q.wq.Ss();this.ts=this.Fo=this.Go=this.Ho=0;this.us=1;this.vs=0;q.L8(this.Mv);this.Oa=!1},JJ:function(){if(this.Oa){var a=new q.eq,c=new q.eq,d=new q.eq;
q.$s(a,this.tr,this.ur,this.vr);q.$s(c,this.Fo,this.Go,this.Ho);q.$s(d,this.ts,this.us,this.vs);q.FU(this.Mv,a,c,d);this.Oa=!1}q.mx(this.Mv)},Eaa:function(a,c,d){this.MK(a,c,d)},MK:function(a,c,d){this.tr=a;this.ur=c;this.vr=d;this.Oa=!0},naa:function(a,c,d){this.QW(a,c,d)},QW:function(a,c,d){this.Fo=a;this.Go=c;this.Ho=d;this.Oa=!0},Tba:function(a,c,d){this.UX(a,c,d)},UX:function(a,c,d){this.ts=a;this.us=c;this.vs=d;this.Oa=!0},O4:function(){return{x:this.tr,y:this.ur,z:this.vr}},DI:function(){return{x:this.tr,
y:this.ur,z:this.vr}},m4:function(){return{x:this.Fo,y:this.Go,z:this.Ho}},BI:function(){return{x:this.Fo,y:this.Go,z:this.Ho}},b7:function(){return{x:this.ts,y:this.us,z:this.vs}},DT:function(){return{x:this.ts,y:this.us,z:this.vs}},J0:function(){}});q.wq.Ss=function(){return q.fu};q.pu=-2147483648;q.D_=q.pu+1;q.Ct=function(a,c){if(a&&0<a.length)for(var d=0;d<a.length;d++)if(!(a[d]instanceof c)){q.log("element type is wrong!");break}};q.tq=function(a,c){a.splice(c,1)};q.ke=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c){a.splice(d,1);break}};q.gZ=function(a,c){for(var d=0,e=c.length;d<e;d++)q.ke(a,c[d])};q.fZ=function(a,c){return a.indexOf(c)};q.dZ=function(a,c){a.push(c)};q.dm=function(a,c,d){a.splice(d,0,c);return a};
q.eZ=function(a,c,d){a.splice.apply(a,[d,0].concat(c));return a};q.xy=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c)return d;return-1};q.vy=function(a,c){return-1!=a.indexOf(c)};q.YZ=function(a,c){if(null==a)return null;for(var d=0;d<a.length;d++)if(a[d].target===c)return a[d];return null};q.eF=function(a,c,d){this.next=null;this.target=a;this.iK=c;this.paused=d;this.El=!1};q.aF=function(a,c,d){this.list=a;this.nn=c;this.target=d;this.hh=null};
q.HM=function(a,c){this.rg=null;this.target=a;this.oq=0;this.Fs=this.Es=null;this.paused=c;this.hh=null};
q.Gu=q.Na.extend({$j:0,$f:null,Z:null,uc:0,VG:!1,Dw:!1,vp:0,hB:0,nv:0,ctor:function(){},j5:function(){return this.$j},setInterval:function(){},w6:function(){return this.$f},Ug:function(a,c,d,e,f){this.Z=a;this.$f=c;this.uc=-1;this.$j=d||0;this.nv=f||0;this.Dw=0<this.nv;this.hB=null==e?q.im:e;this.VG=this.hB==q.im;return!0},Rz:function(){if("string"==typeof this.$f)this.Z[this.$f](this.uc);else this.$f.call(this.Z,this.uc)},update:function(a){if(-1==this.uc)this.vp=this.uc=0;else{var c=this.Z,d=this.$f;
this.VG&&!this.Dw?(this.uc+=a,this.uc>=this.$j&&(c&&d&&this.Rz(),this.uc=0)):(this.uc+=a,this.Dw?this.uc>=this.nv&&(c&&d&&this.Rz(),this.uc-=this.nv,this.vp+=1,this.Dw=!1):this.uc>=this.$j&&(c&&d&&this.Rz(),this.uc=0,this.vp+=1),this.vp>this.hB&&q.fa.g().If().PL(c,d))}}});q.Gu.Rca=function(a,c,d){if(2>arguments.length)throw Error("timerWithTarget'argument can't is null");var e=new q.Gu;e.Ug(a,c,d||0,q.im,0);return e};q.w1=null;
q.vN=q.Na.extend({ms:1,Dh:null,mi:null,Og:null,Wj:null,Zu:null,Vj:null,R0:null,vf:null,Si:!1,Aw:!1,ctor:function(){this.ms=1;this.Dh=[];this.mi=[];this.Og=[];this.Wj={};this.Zu=[];this.Vj={};this.Mk=[];this.vf=null;this.Aw=this.Si=!1},gB:function(a){delete this.Vj[a.target.tc];q.ke(this.Mk,a);a.Gu=null;a.target=null},X0:function(a,c){for(var d=0;d<a.length;d++)if(a[d].target==c)return a[d];return null},dw:function(a){if(a=this.Wj[a.target.tc])q.ke(a.list,a.nn),delete this.Wj[a.target.tc],q.ke(this.Zu,
a),a.nn=null,a.target=null},OG:function(a,c,d,e){e=new q.eF(c,d,e);if(a){for(var f=!1,g=0;g<a.length;g++)if(d<a[g].iK){a=q.dm(a,e,g);f=!0;break}f||a.push(e)}else a=[],a.push(e);d=new q.aF(a,e,c);this.Zu.push(d);this.Wj[c.tc]=d;return a},bO:function(a,c,d){d=new q.eF(c,0,d);a.push(d);a=new q.aF(a,d,c);this.Zu.push(a);this.Wj[c.tc]=a},Nba:function(a){this.ms=a},P6:function(){return this.ms},update:function(a){this.Aw=!0;1!=this.ms&&(a*=this.ms);var c,d;for(d=0;d<this.Dh.length;d++)c=this.Dh[d],c.paused||
c.El||c.target.update(a);for(d=0;d<this.mi.length;d++)c=this.mi[d],c.paused||c.El||c.target.update(a);for(d=0;d<this.Og.length;d++)c=this.Og[d],c.paused||c.El||c.target.update(a);for(d=0;d<this.Mk.length;d++){c=this.vf=this.Mk[d];this.Si=!1;if(!this.vf.paused)for(c.oq=0;c.oq<c.rg.length;c.oq++)c.Es=c.rg[c.oq],c.Fs=!1,c.Es.update(a),c.Es=null;this.Si&&0==this.vf.rg.length&&this.gB(this.vf)}for(d=0;d<this.Dh.length;d++)this.Dh[d].El&&this.dw(this.Dh[d]);for(d=0;d<this.mi.length;d++)this.mi[d].El&&this.dw(this.mi[d]);
for(d=0;d<this.Og.length;d++)this.Og[d].El&&this.dw(this.Og[d]);this.Aw=!1;this.vf=null},zW:function(a,c,d,e,f,g){if(!c)throw"cc.scheduler.scheduleCallbackForTarget(): callback_fn should be non-null.";if(!a)throw"cc.scheduler.scheduleCallbackForTarget(): target should be non-null.";d=d||0;e=null==e?q.im:e;f=f||0;g=g||!1;var h=this.Vj[a.tc];h||(h=new q.HM(a,g),this.Mk.push(h),this.Vj[a.tc]=h);if(null==h.rg)h.rg=[];else for(var k=0;k<h.rg.length;k++)if(g=h.rg[k],c==g.$f){q.log("CCSheduler#scheduleCallback. Callback already scheduled. Updating interval from:"+
g.$j.toFixed(4)+" to "+d.toFixed(4));g.$j=d;return}g=new q.Gu;g.Ug(a,c,d,e,f);h.rg.push(g)},yK:function(a,c,d){var e=this.Wj[a.tc];e?e.nn.El=!1:0==c?this.bO(this.mi,a,d):0>c?this.Dh=this.OG(this.Dh,a,c,d):this.Og=this.OG(this.Og,a,c,d)},PL:function(a,c){if(null!=a&&null!=c){var d=this.Vj[a.tc];if(null!=d)for(var e=0;e<d.rg.length;e++){var f=d.rg[e];if(c==f.$f){f!=d.Es||d.Fs||(d.Fs=!0);q.tq(d.rg,e);d.oq>=e&&d.oq--;0==d.rg.length&&(this.vf==d?this.Si=!0:this.gB(d));break}}}},pq:function(a){null!=a&&
(a=this.Wj[a.tc],null!=a&&(this.Aw?a.nn.El=!0:this.dw(a.nn)))},OL:function(a){if(null!=a){var c=this.Vj[a.tc];c&&(!c.Fs&&q.vy(c.rg,c.Es)&&(c.Fs=!0),c.rg.length=0,this.vf==c?this.Si=!0:this.gB(c));this.pq(a)}},vt:function(){this.AY(q.pu)},AY:function(a){var c;for(c=0;c<this.Mk.length;c++)this.OL(this.Mk[c].target);if(0>a)for(c=0;c<this.Dh.length;c++)this.pq(this.Dh[c].target);if(0>=a)for(c=0;c<this.mi.length;c++)this.pq(this.mi[c].target);for(c=0;c<this.Og.length;c++)this.Og[c].iK>=a&&this.pq(this.Og[c].target)},
b$:function(){return this.oV(q.pu)},oV:function(a){var c=[],d,e;for(d=0;d<this.Mk.length;d++)if(e=this.Mk[d])e.paused=!0,c.push(e.target);if(0>a)for(d=0;d<this.Dh.length;d++)if(e=this.Dh[d])e.paused=!0,c.push(e.target);if(0>=a)for(d=0;d<this.mi.length;d++)if(e=this.mi[d])e.paused=!0,c.push(e.target);for(d=0;d<this.Og.length;d++)if(e=this.Og[d])e.paused=!0,c.push(e.target);return c},tW:function(a){if(a)for(var c=0;c<a.length;c++)this.Ln(a[c])},bt:function(a){if(!a)throw"cc.Scheduler.pauseTarget():target should be non-null";
var c=this.Vj[a.tc];c&&(c.paused=!0);if(a=this.Wj[a.tc])a.nn.paused=!0},Ln:function(a){if(!a)throw"cc.Scheduler.resumeTarget():target should be non-null";var c=this.Vj[a.tc];c&&(c.paused=!1);if(a=this.Wj[a.tc])a.nn.paused=!1},x8:function(a){if(!a)throw"cc.Scheduler.isTargetPaused():target should be non-null";return(a=this.Vj[a.tc])?a.paused:!1}});q.fz={IMAGE:["png","jpg","bmp","jpeg","gif"],SOUND:["mp3","ogg","wav","mp4","m4a"],XML:["plist","xml","fnt","tmx","tsx"],BINARY:["ccbi"],FONT:"FONT",TEXT:["txt","vsh","fsh","json","ExportJson"],UNKNOW:[]};
q.Tb=q.Na.extend({Lo:0,ps:0,Kr:0,Jm:null,oh:1/60,$j:null,wG:!1,ctor:function(){this.Jm=[]},hx:function(a,c,d){if(a){c&&(this.$f=c,this.Z=d);if(a!=this.Jm||0==this.Lo){this.Kr=this.Lo=0;if(a[0]instanceof Array)for(c=0;c<a.length;c++)this.Jm=this.Jm.concat(a[c]);else this.Jm=a;this.ps=this.Jm.length}this.QP()}else console.log("resources should not null")},MW:function(a){this.wG=a},Gl:function(a){this.Kr++;q.log("cocos2d:Failed loading resource: "+a)},lg:function(){this.Kr++},$w:function(){var a=0;return a=
0==this.ps?100:0|this.Kr/this.ps*100},$V:function(a){if(a&&0<a.length)for(var c=q.ia.g(),d=q.Qh?q.Qh.g():null,e=q.Gk.g(),f=q.Vd.g(),g,h=0;h<a.length;h++){g=a[h];var k=this.nG(g);switch(k){case "IMAGE":c.lW(g.src);break;case "SOUND":if(!d)throw"Can not find AudioEngine! Install it, please.";d.Yca(g.src);break;case "XML":e.yY(g.src);break;case "BINARY":f.xY(g.src);break;case "TEXT":f.zY(g.src);break;case "FONT":break;default:throw"cocos2d:unknown filename extension: "+k;}}},wP:function(){this.Bw();
if(this.wG){var a=q.fa.g().uv;if(null!=a&&20>a){q.log("cocos2d: frame rate less than 20 fps, skip frame.");return}}this.Lo<this.ps&&(this.eP(),this.Lo++)},eP:function(){var a=q.ia.g(),c=q.Qh?q.Qh.g():null,d=q.Gk.g(),e=q.Vd.g(),f=this.Jm[this.Lo],g=this.nG(f);switch(g){case "IMAGE":a.ma(f.src);break;case "SOUND":if(!c)throw"Can not find AudioEngine! Install it, please.";c.i$(f.src);break;case "XML":d.CV(f.src);break;case "BINARY":e.BV(f.src);break;case "TEXT":e.DV(f.src);break;case "FONT":this.yP(f);
break;default:throw"cocos2d:unknown filename extension: "+g;}},QP:function(){var a=this;this.$j=setInterval(function(){a.wP()},1E3*this.oh)},GQ:function(){clearInterval(this.$j)},nG:function(a){if(null!=a.Js)return q.fz.FONT;a=a.src;a=a.substring(a.lastIndexOf(".")+1,a.length);var c=a.indexOf("?");0<c&&(a=a.substring(0,c));for(var d in q.fz)if(-1!=q.fz[d].indexOf(a))return d;return a},Bw:function(){100<=this.$w()&&(this.GQ(),this.xO())},xO:function(){if(this.Z&&"string"==typeof this.$f)this.Z[this.$f](this);
else this.Z&&"function"==typeof this.$f?this.$f.call(this.Z,this):this.$f(this);this.ps=this.Kr=this.Lo=0},yP:function(a){var c=a.src,d=q.Vd.g();if(c&&0<c.length){var e=document.createElement("style");e.type="text/css";document.body.appendChild(e);for(var f="@font-face { font-family:"+a.Js+"; src:",g=0;g<c.length;g++)f+="url('"+d.Ge(encodeURI(c[g].src))+"') format('"+c[g].type+"')",f+=g==c.length-1?";":",";e.textContent+=f+"};";c=document.createElement("div");c.style.fontFamily=a.Js;c.innerHTML=".";
c.style.position="absolute";c.style.left="-100px";c.style.top="-100px";document.body.appendChild(c)}q.Tb.g().lg()},p1:function(a,c){var d=document.createElement("style");d.type="text/css";document.body.appendChild(d);d.textContent+="@font-face {font-family:"+a+";src: url(data:font/ttf;base64,"+c+") format('truetype');};";d=document.createElement("div");d.style.fontFamily=a;d.innerHTML="ajghl~!";d.style.position="absolute";d.style.left="-100px";d.style.top="-100px";document.body.appendChild(d);q.Tb.g().lg()},
A1:function(){}});q.Tb.wD=function(a,c,d){this.Nb||(this.Nb=new q.Tb);this.Nb.hx(a,c,d);return this.Nb};q.Tb.g$=function(a,c,d){this.Nb||(this.Nb=new q.Tb);this.Nb.MW(!0);this.Nb.hx(a,c,d);return this.Nb};q.Tb.yD=function(a){this.Nb&&this.Nb.$V(a)};q.Tb.g=function(){this.Nb||(this.Nb=new q.Tb);return this.Nb};q.Tb.Nb=null;
q.Xy=q.Cq.extend({Lv:null,cp:null,qw:null,av:null,Gv:null,ZB:null,ctor:function(){q.Cq.prototype.ctor.call(this);this.ZB=q.fa.g().bc},w:function(){q.Cq.prototype.w.call(this);var a=q.a(this.ZB.width/2,this.ZB.height/2);this.cp=new Image;var c=this;this.cp.addEventListener("load",function(){c.QO(a);this.removeEventListener("load",arguments.callee,!1)});this.cp.src="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAAlAAD/4QMpaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjAtYzA2MCA2MS4xMzQ3NzcsIDIwMTAvMDIvMTItMTc6MzI6MDAgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjM4MDBEMDY2QTU1MjExRTFBQTAzQjEzMUNFNzMxRkQwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjM4MDBEMDY1QTU1MjExRTFBQTAzQjEzMUNFNzMxRkQwIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzUgV2luZG93cyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU2RTk0OEM4OERCNDExRTE5NEUyRkE3M0M3QkE1NTlEIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU2RTk0OEM5OERCNDExRTE5NEUyRkE3M0M3QkE1NTlEIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+/+4ADkFkb2JlAGTAAAAAAf/bAIQADQkJCQoJDQoKDRMMCwwTFhENDREWGhUVFhUVGhkUFhUVFhQZGR0fIB8dGScnKionJzk4ODg5QEBAQEBAQEBAQAEODAwOEA4RDw8RFA4RDhQVERISERUfFRUXFRUfKB0ZGRkZHSgjJiAgICYjLCwoKCwsNzc1NzdAQEBAQEBAQEBA/8AAEQgAyACgAwEiAAIRAQMRAf/EALAAAAEFAQEAAAAAAAAAAAAAAAQAAgMFBgcBAQEAAwEBAAAAAAAAAAAAAAAAAQMEAgUQAAIBAgIEBwoLBgQGAwAAAAECAwAEEQUhMRIGQVFxsTITFGGBwdEiQlKSMzWRoeFicqKyI1NzFYJjJDQWB9KjVCbxwkNkJWXik3QRAAIBAgMFBQcDBQEAAAAAAAABAhEDIRIEMUFRcTJhwVIUBZGhsSJyEzOB0ULhYpIjUxX/2gAMAwEAAhEDEQA/AMJSpUqAVKlXuFAeUq9wpUB5XuFe4V6ooDzZHDox0CnGMinzwl7Z8NajaHeoO3vmTBZBtp9YUIqTEV5ROxHKnWRnaU8VRMhFBUjpV7hSoSeUq9pUB5Sr2lhQHlKvcK8oBV7hSFSRrtaKAZs07YNPM1pG2xJIAw1jSeandry/8X4m8VCKkWwaWwam7Xl/4v1W8VLtmX/i/VbxUoKkWwakSM407tmX/i/VbxUmzGwjQsjdY41IARie/U0IbZO0kNtCXnOCkEBeFu4KI3Bs7DNb27ya+jDx3kJeEnpJJEcQVbWDsk17u5urd591ucZkWhym2Vnd9RkCDEpFxDRpbw0bunu5mlp2De2FMLYXOD2wB2xbOeraUcYGJ72mlSUiqzzdzMd3Z3mixltA2yzcK/NlHM1DQyRXce1HocdNOEfJXZ88y9ZojOqhiBszIRiHQ8Y4cK5TvHuzLljHNMqxNoDjLFraHHnjPxcNCGVbxEUzYNTx5jZSxhpW6qTzlwJ+DCvO2Zf+L9VvFSgqyHYNLYNTdssPxfibxUu15f8Ai/VPiqCakOwa82DU/a8v/F+JvFTDdWPBL8R8VKCvYRYV5UzoMAy6QdIIqI0B4KJtxiRQwou16QoGUkntH5Tz0RbZbmF2hktraSVBo2lUkY8tDye0flPPXTslVUyiyVRsjqUOA4yMT8dW2ram2m6UVTNq9S7EIyUVJydMTn/6DnP+im9Wl+g5z/opvVrpteEhQWY4AaSTwAVf5WPiZh/9S5/zj7zltzlmYWkfWXNvJDGTgGcYDHirR7i7mSbwXParsFMrgb7w6jKw/wCmnc9I14kF3vpvCljbMyWMOJL4aEiB8qU/ObUK7HYWVrl1pFZWiCOCBQqKOLjPGTrNZZqKbUXVHq2nNwTuJRk1VpbgXN8s7Rk5ym0UQQzhIG2NAjhxHWbI+gCBVjBBFbwxwQqEiiUJGg1BVGAFe7dV28WYLYZFmF2Th1UD7JGjymGyn1iK5OyzIBGB1HgrLZhamzumQAGJwSqnSCh1q3GOCodxt4cxurdcpzuN4cyhiWaF5Bg09udUmnWw1H/jV9nFuJ7Quo+8h8peThFA+047vduyMtk7fYqTl07YFdfUufMPzT5p71UdtlmYXaGS2t3mQHAsgxANdadYJopLe4QS2867EsZ4QfCNYrCFbjdDPmgkYyWFxgVf04ifJf6ScNdRUW1XBb6FU5TjF5EpSSrGu/s5lN+g5z/opvVpfoOc/wCim9WtdHnatvObJXDW7xLGhB8nrPaY9/HCr+tEdPCVaSeDoYLnqF63lzW4/PFSW3ecxbI84VSzWUwUaSdg0DXXK5nvAipnd6qgKvWnQO7pri9ZUEmm3Vl2j1kr8pRlFRyquBNZjGxQ/S56Y1S2fu9OVueon11Szahoou06QoQUXadIVCD2FJJ7R+U89dMydv8Axdn+TH9muZye0flPPXQstlK5Tbka1gUjlC1q0vVLkeb6r+O3Tx9xcY1nt8c0NrZCyiOE1108NYjGv1joo7Js1jzKyScYLIvkzL6LDwHXVJksH9Sb49dKNq0tj1jA6uriOCL+02FWX7iVtZX1/AzaHTyeoauKn2MX9W79zebiZCuR5MjSrhfXuEtwTrUeZH+yNfdrRNcxI6IzhXlJEak6WIGJ2Rw4ChWnChndtlVBLMdQA0k1gbXNMzzDfDLs6mjaPKppJbWwJ1bOwwxw43OnHh71YT3DpfWUJmFlb5jHHDdeXBHIsrRea5TSqvxqG04cNN62vetoCS4tre5mgnkGE9q+3DKOkuI2WX6LDQRRHWDh1UCtwj7QRg2wdl8Djgw1qe7XvW0BQ3kfZ7mSLgU+T9E6RVbnuVrnWVSWqj+Lt8ZbRuHEdKPkYVcZ2MJY5fSGyeVar45+rkWQHAqccalPE5km1htWK5nK4Wnt5FuUBUwOMG4nGkA/BXUrW4S6torlOjMgcd/xVn7rLo7zKs0uEjCNeSvdwoBhgsZxX1l2j36k3Lu+uyprdj5Vs5A+i/lD48a0aaVJOPi7jB6lbzWozpjB48pf1NDXNN4vfl7+Z4BXS65pvF78vfzPAK71XTHmZ/S/yT+jvJ7L3fHytz1E+upbL+Qj5W56jfXWRnsIYKLtekKEFGWvSFQgyjk9o/Keet3YthlMP/5x9msJJ7R+U89biyb/AMXEv7gD6tadL1T+kwepRrC39ZkLDMbiwMvUHRPG0bjlGg8ore/23sxBldxfMPLupNhT8yL/AORNZbdzJ484scytxgLqJY5LZj6Q2sV5G1Vud1mjjyG0ij0NEGSZToKyhjtqw4waztuiXA3qKTbSxltfGhbZlE95ZtZqxVbgiOZhrER9ph3Svk9+pJILZ4Y4DGBFCUMKjRsGPobPFhUfW0NJmljE2xJcIrcI2vFUEln1lRXd6lrazXT9GCNpD+yNqoI7mOVduNw6nzlOIoPOUa6yye1XXcbMR5GdQ3xY0BSbj31/FcTQZirJ+q431q7anbHCTZ72Bw7lbPrKBMcBWNNgbMBBh+bsjBdni0VJ1lARZs6yWiupxCuMDy6KpS2IwOo6DTr3Mre3e5tZZVUM4ZBjqOOJoWO4jkXajcOOMHGgDISvWIrdAkKR80+TzVl908bPPL3LzxOuHdifxVfiTAg92qI/w+/8gGgSyN/mR7XPVlp0lF/3L3mbVKtu5Hjbk/8AHE2Fc03i9+Xv5ngFdKNc13i9+Xv5ngFaNV0x5nn+l/kn9HeEWXu+PlbnqJ9dS2Xu9OVueon11kZ7CGCjLXpCgxRlr0hUIPYUcntH5Tz1s8vb+Bt1/dqPirGSe0flPPWusG/g4Py15q06XqlyMWvVYQ+ruI9xJOqzO9hOto/sP8tbGOFIrmWeM7IuMDMnAXXQJOUjQeOsJk0nY96ip0CYunrjaHx1t+srPJUbXBm2LrFPikwTOb+T+VhbZxGMrDXp83x1QSy2tucJpUjPETp+Cn5/ftaRvKvtp3Kx48HG3erHMzOxZiWZtLMdJNQSbbL71Vk6yynViOkqnEEfOWtPbXi3EQkGg6mXiNckjeSJxJGxR10qw0GtxuxmvbImD4CZMFlA4fRfv0BqesqqzTMZNMEDbIHtHH2QeCiZJSqMQdOGiue53mz3czQwsRbIcNHnkec3c4qAMuriz68gTIToxwOOnlp0MjxMJYW741Gs3RVldtbygE/dMcHX/moDaxTiWNZB53B3arb8/wC+4SOF4sf/AKxU9kcBsfOGHfoUHtG/RbzY5Die5HHhXdvavqiZ9Q8Jdlq4/gbKua7xe/L38zwCuhpf2Uk/Zo50kmwJKIdogDjw1VzzeL35e/meAVp1LTgqY4nn+mRauzqmqwrjzCLL3fHytz1E+upLL+Qj5W56jfXWRnroYKLtekKEFF2vSFQg9hSSe0flPPWosm/hIfoLzVl5PaPynnrRWb/w0X0F5q06XqlyM2sVYx5gmbFre/t71NY2T+0h8VbSO5SWNJUOKSAMp7jDGspmMPaLRlXS6eWve1/FRO7WYdbZm1Y/eW/R7qHxHRXGojlm3ulid6aVbaW+OALvgCLq2Hm9WxHKWqjhj6xsK1e8dm15l4niG1LZkswGsxtrPeOmsvayBJA1VItlWjptLuTdPMo7LtjRDq9naK4+WF9IrUW7BaHOljGqVHB7w2hzVoZt87d8vaNYSLl02CcRsDEbJbj71Uu7UBkvJ7/D7q2QoDxySaAO8MTXdxRVMpRp5XZOWdF/ms7R5XdyKfKWJsO/5PhrG5XlNxmEywW6bTnTxAAcJNbGSMXkM1pjgbiNo1PziPJ+Os7u7m/6ReM00ZOgxSpqYYHT3wRXMKN4ll9zUG4bQfNshu8sZVuEA2hirA4qe/VOwwrVbzbww5mI44UKRRYkbWG0S3JWctbd7u5WFfOOLHiUdJqmaipfLsIsObhWe001lMkMVvJNjhghIALMcBxCs7fxXQmkupx1bXDswGPlaTidVaEyKNXkoo4eBV+Sq7L7Vs9zcBgeyQ4GQ/MB1crmoim2orezqcowTuSeEY48jQ7oZX2PLzdyLhNd6RjrEY6I7+uspvH78vfzPAK6UAAAFGAGgAcArmu8Xvy9/M8ArTfio24RW5nnaG67uou3H/KPuqT2X8hHytz1G+upLL3enK3PUb66ys9RDBRdr0hQgou06QqEGUkntH5Tz1e238vF9BeaqKT2j8p56vbb+Xi+gvNWjTdUuRn1XTHmTh8KrJTJlt8t1CPIY44cGnpJVjTJYkmjaN9Ib4u7V923njTethRauZJV3PaW1rfLIiXEDYg6R4VYc9CXW7thfOZbKdbGZtLW8uPVY/u3GrkNUkM9zlcxUjbhfWOA90cRq4gv4LhdqN+VToNYWmnRm9NNVWNTyHc6VWBv8wt4YeHqm6xyPmroq1Z7WGFLSxTq7WLSuPSdjrkfumq5yHXDUeA92oO2SKpVumNAaoJLMXH3myp0rpJ4uKhc3tbDM5BMri1zAj79j7KTiY8TcdBpcsith0286o+sPCagEX9Pzg4zXUCp6QYse8oouCG3tk6m1BYv05W6T+IdyolxbHDAAa2OgDlNCz3ryN2WxBd5PJMg1t81eId2ukqnLlTBbfcuY+9uJLiRcvtPvHdsHK+cfRHcHDWsyawjyy0WBcDI3lTP6TeIcFV+S5OmXx9bJg1048o8Cj0V8Jq2DVu09nL80up7OxHi+oal3P8AXB/IsZS8T/YOV65zvCcc7vfzPAK3ivWCz445zeH954BXOr6I8yfSfyz+jvCLP3fHytz1G+upLP3fHytz1E+usbPaQ0UXadIUIKLtekKhB7Ckk9o/Keer22/l4/oLzVRSe0flPPV7b/y8X0F5q0abqlyM+q6Y8yQsBTDMor1o8aiaE1pbluMqS3sbLLHIhSRQyngqukhaJ9uBjo+H5aOa3ao2t34qouRlLajTalGP8v0IY8ylXQ+PKPFU/bYXOLPge6CKia0LaxTOxHu1Q7cuBd9yPEJ7TbjXKO8CajbMIF6CNIeNvJHjqIWJ7tSpYkalqVblwIdyG+RGXur0hXYJFxal+Dhq5y3slkv3Y2pD0pTr+QUClpJRUdo9XW4OLrTHtM16cZLLWkeC7y4jvlNEpcRtw1Ux27Ci448NZrTFy3nn3IQWxlgGrDZ3pza7/M8ArZo+ArF5171uvp+CqdV0R5l/psUrs2vB3hdl7vTlbnqJ9dS2Xu+PlbnqJ9dY2eshooq16QoQUXa9IVCD2FLJ7RuU89WNtmUSQqkgYMgw0accKrpPaPynnrZWG4Vi+VWmY5tnMWXG+XrIYnA0rhj0mdcTgdNdwnKDqjmduM1SRR/qlr8/4KX6pa8T/BVzDuLZXudRZblmbxXcPUNPc3KqCIwrbOzgrHEnHjoyD+3eSXkht7DeKG4umDGOJVUklfouThXfmbnZ7Cvy1vt9pmv1W1+d8FL9VteJvgq5yrcOGfLmzHN80iyyETPbptAEFo2ZG8pmUa1OFNn3Ky6W/sbDKM5hv5bx2WTZA+7RF2y52WOPJTzE+z2Dy1vt9pT/AKpacTerS/U7Tib1a04/t7kDXPY03jhN0W6sQ7K7W3q2dnrMccaDy/8At80kuZfqWYxWNtlcvUPPhiGYhWDeUy7IwYU8xPs9g8tb7faUn6pacTerTxm9oOBvVq3v9z927aynuId44LiWKNnjhAXF2UYhRg516qpsryjLr21665zFLSTaK9U2GOA87SwqY37knRU+BzOzags0s1Oyr+BKM6sxwP6tSDPLMen6vy0rvdm3Sxlu7K/S7WDDrFUDUTxgnTU826eXW7KlxmqQuwDBXUKcD+1Xee/wXuKX5XDGWLapSVcOyhEM/seJ/V+WnjeGx4pPV+Wkm6kKZlFay3Jlt7iFpYZY8ASVK6DjtDDA0f8A0Tl340/1f8Ndx8xJVWXB0KbktFFpNzdVXAC/qOwA0CQni2flrO3Vwbm5lnI2TKxbDirX/wBE5d+NcfV/wVR7xZPa5U9utvI8nWhmbbw0YEAYYAVxfhfy5rlKR4Fulu6X7mW1mzT8S4Yis/5CPlbnqJ9dSWfu9OVueon11mZvQ2i7XpChKKtekKhBlNJ7R+U89bDfGTb3a3ZX0Lcj6kdY+T2j8p560288m1kWQr6MJ+ylSAr+2cnV5renjs3H1loX+3j9XvbbtxLN9lqW4UnV5jdnjtXHxihtyZNjeSBu5J9k1BJe7xy7W5CJ/wCzuD/mTVTf2+fq97LJuLrPsNRueS7W6aJ/38x+vLVXuY+xvHaNxbf2GoCezf8A36j/APsSf8w1sLnqczTefJluYoLm5uo5F61sBshItP1cNFYe1f8A3ir/APfE/wCZUe9bB94r5jwuPsrQFhmG4l/Z2M17HdW90tuu3IkTHaCjWdIw0VVZdks9/C06yJFEp2dp+E1bbqybGTZ8vpQD7L1XRv8A7blT96Oda7tpNuuNE37Cq9KSisjyuUoxrStKllHbLlWTXsMs8chuSuwEPDqwoLe5y+YRE/gLzmqRekvKKtd4327yM/ulHxmrHJStySWVRyrjxKI2XC/CTlnlPPKTpTdFbP0L1bgrf5Lp0G3dPhQHwV0S1lzBsns3sESR8Crh9WAJGjSOKuU3E+zdZQ3oJh8IArdZXFDmOTpHa3i2+YrI2KtKy4ricBsBuHHgFXSo440+Wa2qqxjvM9uMoy+WvzWpLCWWWE28HxL6e43ojgkeSCBY1Ri5BGIUDT51cl3vm276BBqSEH4WbxV0tlkyXJcxTMb+OW6uY9mGHrCzDQwwAbTp2uKuTZ9N1uYsfRRR8WPhrm419mSSjRyiqxVK7y23B/ftuTm2oSdJyzNVw3BFn7vTlbnqF9dS2fu9OVueon11lZuQ2iLdsGFD05H2dNQGV0ntG5Tz1dWm9N1b2kVq8EVwsI2UaQaQOKhmitZGLOmk68DhSFvY+gfWNSAg7z3Qvo7yKCKIohiaNR5LKxx8qpxvjcqS0VpbxvwOAcRQPZ7D0G9Y0uz2HoH1jUCpLY7zXlpbm3eKO5QuzjrBqZji3x17PvNcyT288VvDBJbMWUovS2hslW7mFQ9nsPQPrGl2ew9A+saCod/WNxtbYsrfb17WBxx5ddD2281xC88klvDcSXEnWuzrqOGGC9zRUPZ7D0G9Y0uzWHoH1jQVCLreq6ntZbaO3it1mGy7RjTs1X2mYy20ZiCq8ZOODcdEdmsPQb1jS7PYegfWNdJuLqnQiSUlRqpFLmryxtH1Ma7Qw2gNNPOdSt0oI27p007s9h6B9Y0uz2HoH1jXX3Z+I4+1b8IJdX89xLHKQFMXQUahpxoiPN5P+onfU+A0/s9h6DesaXZ7D0D6xpG7OLbUtu0StW5JJx2bBsmbtiSiEk+cxoCWWSaVpZOk2vDVo0VYdnsPQb1jSNvZcCH1jSd2c+p1XAmFqEOmOPEfaH+BQd1ueo211IzrgFUYKNAAqI1WztCpUqVCRUqVKgFSpUqAVKlSoBUqVKgFSpUqAVKlSoBUqVKgFSpUqAVKlSoD/9k\x3d";
this.cp.width=160;this.cp.height=200;this.av=q.da.create(q.jC(32,32,32,255));this.av.l(0,0);this.f(this.av,0)},QO:function(a){this.qw=new q.ic;this.qw.nf(this.cp);this.qw.ee();this.Lv=q.v.Ma(this.qw);this.Lv.yk(q.ed());this.Lv.l(a);this.av.f(this.Lv,10)},Zg:function(){q.F.prototype.Zg.call(this);this.gc(this.hH,0.3)},ge:function(){q.F.prototype.ge.call(this);this.Gv&&this.Gv.pa("Loading... 0%")},hx:function(a,c,d){this.qW=a;this.FW=c;this.target=d},hH:function(){this.Sc(this.hH);q.Tb.wD(this.qW,this.FW,
this.target);this.gc(this.Bw)},Bw:function(){if(this.Gv){var a=q.Tb.g().$w();this.Gv.pa("Loading... "+a+"%")}100<=a&&this.Sc(this.Bw)}});q.Xy.wD=function(a,c,d){this.Nb||(this.Nb=new q.Xy,this.Nb.w());this.Nb.hx(a,c,d);a=q.fa.g();a.Bd?a.tK(this.Nb):a.wW(this.Nb);return this.Nb};q.Iy=q.Na.extend({Ib:null,dL:function(a){this.Ib=a},i6:function(){return this.Ib},ctor:function(a){this.Ib=a},sC:function(){q.log("DrawingPrimitive.drawPoint() not implement!")},lI:function(){q.log("DrawingPrimitive.drawPoints() not implement!")},qi:function(){q.log("DrawingPrimitive.drawLine() not implement!")},mI:function(){q.log("DrawingPrimitive.drawRect() not implement!")},uC:function(){q.log("DrawingPrimitive.drawSolidRect() not implement!")},de:function(){q.log("DrawingPrimitive.drawPoly() not implement!")},
Uw:function(){q.log("DrawingPrimitive.drawSolidPoly() not implement!")},iI:function(){q.log("DrawingPrimitive.drawCircle() not implement!")},tC:function(){q.log("DrawingPrimitive.drawQuadBezier() not implement!")},jI:function(){q.log("DrawingPrimitive.drawCubicBezier() not implement!")},hI:function(){q.log("DrawingPrimitive.drawCardinalSpline() not implement!")},Tw:function(){q.log("DrawingPrimitive.drawCardinalSpline() not implement!")}});
q.YE=q.Iy.extend({sC:function(a,c){c||(c=1);var d=q.qa.g().va,e=q.qa.g().Da,e=q.a(a.x*d,a.y*e);this.Ib.beginPath();this.Ib.arc(e.x,-e.y,c*d,0,2*Math.PI,!1);this.Ib.closePath();this.Ib.fill()},lI:function(a,c,d){if(null!=a){d||(d=1);c=this.Ib;var e=q.qa.g().va,f=q.qa.g().Da;c.beginPath();for(var g=0,h=a.length;g<h;g++)c.arc(a[g].x*e,-a[g].y*f,d*e,0,2*Math.PI,!1);c.closePath();c.fill()}},qi:function(a,c){var d=this.Ib,e=q.qa.g().va,f=q.qa.g().Da;d.beginPath();d.moveTo(a.x*e,-a.y*f);d.lineTo(c.x*e,-c.y*
f);d.closePath();d.stroke()},mI:function(a,c){this.qi(q.a(a.x,a.y),q.a(c.x,a.y));this.qi(q.a(c.x,a.y),q.a(c.x,c.y));this.qi(q.a(c.x,c.y),q.a(a.x,c.y));this.qi(q.a(a.x,c.y),q.a(a.x,a.y))},uC:function(a,c,d){a=[a,q.a(c.x,a.y),c,q.a(a.x,c.y)];this.Uw(a,4,d)},de:function(a,c,d,e){e=e||!1;if(null!=a){if(3>a.length)throw Error("Polygon's point must greater than 2");var f=a[0];c=this.Ib;var g=q.qa.g().va,h=q.qa.g().Da;c.beginPath();c.moveTo(f.x*g,-f.y*h);for(var f=1,k=a.length;f<k;f++)c.lineTo(a[f].x*g,
-a[f].y*h);d&&c.closePath();e?c.fill():c.stroke()}},Uw:function(a,c,d){this.LK(d.q,d.p,d.n,d.O);this.de(a,c,!0,!0)},iI:function(a,c,d,e,f){f=f||!1;e=this.Ib;var g=q.qa.g().va,h=q.qa.g().Da;e.beginPath();e.arc(0|a.x*g,0|-(a.y*h),c*g,-d,-(d-2*Math.PI),!1);f&&e.lineTo(0|a.x*g,0|-(a.y*h));e.stroke()},tC:function(a,c,d,e){for(var f=[],g=0,h=0;h<e;h++)f.push(q.a(Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y)),g+=1/e;f.push(q.a(d.x,d.y));this.de(f,e+1,!1,!1)},jI:function(a,
c,d,e,f){for(var g=[],h=0,k=0;k<f;k++)g.push(q.a(Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y)),h+=1/f;g.push(q.a(e.x,e.y));this.de(g,f+1,!1,!1)},hI:function(a,c){this.Tw(a,0.5,c)},Tw:function(a,c,d){q.ca.strokeStyle="rgba(255,255,255,1)";for(var e=[],f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=q.Cy(q.Hh(a,f-1),q.Hh(a,f-0),q.Hh(a,f+1),q.Hh(a,f+2),c,g),e.push(f);this.de(e,
d+1,!1,!1)},drawImage:function(a,c,d,e,f){switch(arguments.length){case 2:this.Ib.drawImage(a,c.x,-(c.y+a.height));break;case 3:this.Ib.drawImage(a,c.x,-(c.y+d.height),d.width,d.height);break;case 5:this.Ib.drawImage(a,c.x,c.y,d.width,d.height,e.x,-(e.y+f.height),f.width,f.height);break;default:throw Error("Argument must be non-nil");}},l3:function(a,c,d){a=a||this.Ib;c*=q.qa.g().va;d instanceof q.me&&(d=new q.Fc(0|255*d.q,0|255*d.p,0|255*d.n));d="rgba("+d.q+","+d.p+","+d.n;a.fillStyle=d+",1)";var e=
c/10;a.beginPath();a.moveTo(-c,c);a.lineTo(0,e);a.lineTo(c,c);a.lineTo(e,0);a.lineTo(c,-c);a.lineTo(0,-e);a.lineTo(-c,-c);a.lineTo(-e,0);a.lineTo(-c,c);a.closePath();a.fill();var f=a.createRadialGradient(0,0,e,0,0,c);f.addColorStop(0,d+", 1)");f.addColorStop(0.3,d+", 0.8)");f.addColorStop(1,d+", 0.0)");a.fillStyle=f;a.beginPath();a.arc(0,0,c-e,0,q.iF,!1);a.closePath();a.fill()},j3:function(a,c,d){a=a||this.Ib;c*=q.qa.g().va;d instanceof q.me&&(d=new q.Fc(0|255*d.q,0|255*d.p,0|255*d.n));d="rgba("+
d.q+","+d.p+","+d.n;var e=a.createRadialGradient(0,0,c/10,0,0,c);e.addColorStop(0,d+", 1)");e.addColorStop(0.3,d+", 0.8)");e.addColorStop(0.6,d+", 0.4)");e.addColorStop(1,d+", 0.0)");a.fillStyle=e;a.beginPath();a.arc(0,0,c,0,q.iF,!1);a.closePath();a.fill()},fillText:function(a,c,d){this.Ib.fillText(a,c,-d)},$W:function(a,c,d,e){this.Ib.fillStyle="rgba("+a+","+c+","+d+","+e/255+")";this.Ib.strokeStyle="rgba("+a+","+c+","+d+","+e/255+")"},LK:function(a,c,d,e){this.Ib.fillStyle="rgba("+(0|255*a)+","+
(0|255*c)+","+(0|255*d)+","+e+")";this.Ib.strokeStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+")"},AX:function(){},jX:function(a){this.Ib.lineWidth=a*q.qa.g().va}});
q.AM=q.Iy.extend({Er:!1,Wb:null,Qi:-1,Bc:null,VA:-1,UA:-1,ctor:function(a){null==a&&(a=q.ca);if(!a instanceof WebGLRenderingContext)throw"Can't initialise DrawingPrimitiveWebGL. context need is WebGLRenderingContext";q.Iy.prototype.ctor.call(this,a);this.Bc=new q.me(1,1,1,1)},uk:function(){this.Er||(this.Wb=q.Vh.g().Di(q.c0),this.Qi=this.Ib.getUniformLocation(this.Wb.ax(),"u_color"),this.VA=this.Ib.getUniformLocation(this.Wb.ax(),"u_pointSize"),this.Er=!0)},k3:function(){this.Er=!1},sC:function(a){this.uk();
this.Wb.tf();this.Wb.fh();q.Je(q.mh);this.Wb.Rl(this.Qi,new Float32Array(this.Bc.ac,0,4),1);this.Wb.mL(this.VA,this.UA);var c=this.Ib,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,new Float32Array([a.x,a.y]),c.STATIC_DRAW);c.vertexAttribPointer(q.We,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,1);c.deleteBuffer(d);q.Sh()},lI:function(a){if(a&&0!=a.length){this.uk();this.Wb.tf();this.Wb.fh();q.Je(q.mh);this.Wb.Rl(this.Qi,new Float32Array(this.Bc.ac,0,4),1);this.Wb.mL(this.VA,
this.UA);var c=this.Ib,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.Zv(a),c.STATIC_DRAW);c.vertexAttribPointer(q.We,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,a.length);c.deleteBuffer(d);q.Sh()}},Zv:function(a){for(var c=new Float32Array(2*a.length),d=0;d<a.length;d++)c[2*d]=a[d].x,c[2*d+1]=a[d].y;return c},qi:function(a,c){this.uk();this.Wb.tf();this.Wb.fh();q.Je(q.mh);this.Wb.Rl(this.Qi,new Float32Array(this.Bc.ac,0,4),1);var d=this.Ib,e=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,
e);d.bufferData(d.ARRAY_BUFFER,this.Zv([a,c]),d.STATIC_DRAW);d.vertexAttribPointer(q.We,2,d.FLOAT,!1,0,0);d.drawArrays(d.LINES,0,2);d.deleteBuffer(e);q.Sh()},mI:function(a,c){this.qi(q.a(a.x,a.y),q.a(c.x,a.y));this.qi(q.a(c.x,a.y),q.a(c.x,c.y));this.qi(q.a(c.x,c.y),q.a(a.x,c.y));this.qi(q.a(a.x,c.y),q.a(a.x,a.y))},uC:function(a,c,d){a=[a,q.a(c.x,a.y),c,q.a(a.x,c.y)];this.Uw(a,4,d)},de:function(a,c,d){this.uk();this.Wb.tf();this.Wb.fh();q.Je(q.mh);this.Wb.Rl(this.Qi,new Float32Array(this.Bc.ac,0,4),
1);c=this.Ib;var e=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,e);c.bufferData(c.ARRAY_BUFFER,this.Zv(a),c.STATIC_DRAW);c.vertexAttribPointer(q.We,2,c.FLOAT,!1,0,0);d?c.drawArrays(c.LINE_LOOP,0,a.length):c.drawArrays(c.LINE_STRIP,0,a.length);c.deleteBuffer(e);q.Sh()},Uw:function(a,c,d){this.uk();d||(d=this.Bc);this.Wb.tf();this.Wb.fh();q.Je(q.mh);this.Wb.Rl(this.Qi,new Float32Array(d.ac,0,4),1);c=this.Ib;d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.Zv(a),c.STATIC_DRAW);
c.vertexAttribPointer(q.We,2,c.FLOAT,!1,0,0);c.drawArrays(c.TRIANGLE_FAN,0,a.length);c.deleteBuffer(d);q.Sh()},iI:function(a,c,d,e,f){this.uk();var g=1;f&&g++;var h=2*Math.PI/e;if(f=new Float32Array(2*(e+2))){for(var k=0;k<=e;k++){var l=k*h,m=c*Math.sin(l+d)+a.y;f[2*k]=c*Math.cos(l+d)+a.x;f[2*k+1]=m}f[2*(e+1)]=a.x;f[2*(e+1)+1]=a.y;this.Wb.tf();this.Wb.fh();q.Je(q.mh);this.Wb.Rl(this.Qi,new Float32Array(this.Bc.ac,0,4),1);a=this.Ib;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(q.We,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+g);a.deleteBuffer(c);q.Sh()}},tC:function(a,c,d,e){this.uk();for(var f=new Float32Array(2*(e+1)),g=0,h=0;h<e;h++)f[2*h]=Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,f[2*h+1]=Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y,g+=1/e;f[2*e]=d.x;f[2*e+1]=d.y;this.Wb.tf();this.Wb.fh();q.Je(q.mh);this.Wb.Rl(this.Qi,new Float32Array(this.Bc.ac,0,4),1);a=this.Ib;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(q.We,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+1);a.deleteBuffer(c);q.Sh()},jI:function(a,c,d,e,f){this.uk();for(var g=new Float32Array(2*(f+1)),h=0,k=0;k<f;k++)g[2*k]=Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,g[2*k+1]=Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y,h+=1/f;g[2*f]=e.x;g[2*f+1]=e.y;this.Wb.tf();this.Wb.fh();q.Je(q.mh);this.Wb.Rl(this.Qi,new Float32Array(this.Bc.ac,0,4),1);a=this.Ib;c=a.createBuffer();
a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,g,a.STATIC_DRAW);a.vertexAttribPointer(q.We,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,f+1);a.deleteBuffer(c);q.Sh()},hI:function(a,c){this.Tw(a,0.5,c)},Tw:function(a,c,d){this.uk();for(var e=new Float32Array(2*(d+1)),f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=q.Cy(q.Hh(a,f-1),q.Hh(a,f),q.Hh(a,f+1),q.Hh(a,f+2),c,g),e[2*k]=f.x,e[2*k+1]=f.y;this.Wb.tf();this.Wb.fh();q.Je(q.mh);this.Wb.Rl(this.Qi,
new Float32Array(this.Bc.ac,0,4),1);a=this.Ib;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,e,a.STATIC_DRAW);a.vertexAttribPointer(q.We,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,d+1);a.deleteBuffer(c);q.Sh()},$W:function(a,c,d,e){this.Bc.q=a/255;this.Bc.p=c/255;this.Bc.n=d/255;this.Bc.O=e/255},LK:function(a,c,d,e){this.Bc.q=a;this.Bc.p=c;this.Bc.n=d;this.Bc.O=e},AX:function(a){this.UA=a*q.ed()},jX:function(a){this.Ib.lineWidth&&this.Ib.lineWidth(a)}});q.iF=2*Math.PI;q.BF={E0:0,j_:1,k_:2,WY:3,c_:4,b_:5,iZ:6,q_:7,NZ:8,ZM:100,hN:101};q.w_=0;q.x_=1;q.u_=2;q.v_=3;q.ug=0;q.Ik=1;q.Ce=null;q.ca=null;q.canvas=null;q.NS=null;q.Sd=q.ug;q.iV=q.size(0,0);window.JD=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;window.console||(window.console={},window.console.log=function(){},window.console.assert=function(){});q.eD=!1;
q.Sl=function(a,c,d){function e(){if(q.Qh){var a=q.Qh.g();document[k]?(a.nV(),a.pV()):(q.fa.g().MP(),a.rW(),a.sW())}}a=q.Sb(a)||q.Sb("#"+a);var f,g,h;"CANVAS"==a.tagName?(c=c||a.width,d=d||a.height,g=q.ok=q.Ck("DIV"),h=g.style,f=q.canvas=a,f.parentNode.insertBefore(g,f),f.kn(g),h.width=(c||480)+"px",h.height=(d||320)+"px",g.setAttribute("id","Cocos2dGameContainer")):("DIV"!=a.tagName&&q.log("Warning: target element is not a DIV or CANVAS"),c=c||a.clientWidth,d=d||a.clientHeight,f=q.canvas=q.Ck("CANVAS"),
f.IH("gameCanvas"),f.setAttribute("width",c||480),f.setAttribute("height",d||320),g=q.ok=a,h=g.style,a.appendChild(f),h.width=(c||480)+"px",h.height=(d||320)+"px");h.margin="0 auto";h.position="relative";h.overflow="hidden";g.top="100%";if(!q.Cz){q.Ja.cd&&(q.ca=q.rda=q.YH(f,{stencil:!0,preserveDrawingBuffer:!0,antialias:!q.Ja.qj,alpha:!1}));q.ca?(q.Sd=q.Ik,window.gl=q.ca,q.Ce=new q.AM(q.ca),q.ia.g().XO()):(q.ca=f.getContext("2d"),q.MU=q.ca,q.Sd=q.ug,q.ca.translate(0,f.height),q.Ce=q.YE?new q.YE(q.ca):
null);q.iV=q.size(f.width,f.height);q.NS=g;q.log(q.Lt);q.Ue.g();q.WW();q.Ja.qj&&q.YN();var k,l;"undefined"!==typeof document.hidden?(k="hidden",l="visibilitychange"):"undefined"!==typeof document.mozHidden?(k="mozHidden",l="mozvisibilitychange"):"undefined"!==typeof document.msHidden?(k="msHidden",l="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(k="webkitHidden",l="webkitvisibilitychange");"undefined"===typeof document.addEventListener||"undefined"===typeof k?(q.eD=!1,window.addEventListener("focus",
function(){if(q.Qh){var a=q.Qh.g();a.rW();a.sW()}},!1),window.addEventListener("blur",function(){if(q.Qh){var a=q.Qh.g();a.nV();a.pV()}},!1)):(q.eD=!0,document.addEventListener(l,e,!1))}};q.YN=function(){var a=document.createElement("style");a.type="text/css";document.body.appendChild(a);a.textContent="body,canvas,div{ -moz-user-select: none;-webkit-user-select: none;-ms-user-select: none;-khtml-user-select: none;-webkit-tap-highlight-color:rgba(0,0,0,0);}"};q.xG=!1;
q.WW=function(){q.xG=!1;q.canvas.oncontextmenu=q.xG?function(){}:function(){return!1}};q.Dj=q.Na.extend({oh:null,ctor:function(){this.oh=0;if(q.xB)throw"Application has been initialized";q.xB=this},et:function(a){this.oh=a},rca:function(a){a&&q.rect(0,0,0,0)},L6:function(){return q.Ja.qj?q.BF.ZM:q.BF.hN},uW:function(){if(!this.pR())return 0;var a,c=q.fa.g(),d=window;q.uS=c;d.JD&&this.oh==1/60?(a=function(){c.NJ();d.JD(a)},d.JD(a)):(a=function(){c.NJ()},setInterval(a,1E3*this.oh));return 0}});
q.Dj.g=function(){return q.xB};q.Dj.y4=function(){var a=q.NM,c=navigator.language;c||(c=navigator.browserLanguage||navigator.gda);if(!c)return a;c=c.toLowerCase();switch(c){case "zh-cn":a=q.LM;break;case "fr":a=q.OM;break;case "it":a=q.RM;break;case "de":a=q.PM;break;case "es":a=q.YM;break;case "ru":a=q.XM;break;case "ko":a=q.TM;break;case "ja":a=q.SM;break;case "hu":a=q.QM;break;case "pt":a=q.WM;break;case "ar":a=q.KM;break;case "no":a=q.UM;break;case "pl":a=q.VM}return a};q.xB=null;q.Gk=q.Na.extend({tda:null,MG:null,Cp:null,IA:null,ctor:function(){this.Cp={};window.DOMParser?(this.IA=!0,this.MG=new DOMParser):this.IA=!1},parse:function(a){var c=a;a=this.FI(a);a=this.NG(a,c).documentElement;if("plist"!=a.tagName)throw"cocos2d: "+c+" is not a plist file or you forgot to preload the plist file";for(var c=null,d=0,e=a.childNodes.length;d<e&&(c=a.childNodes[d],1!=c.nodeType);d++);return this.SA(c)},Sca:function(a,c){if(null==c||!1===c)a=this.FI(a);return this.NG(a)},NG:function(a,
c){var d;this.IA?d=this.MG.parseFromString(a,"text/xml"):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(a));null==d&&q.log("cocos2d:xml "+c+" not found!");return d},SA:function(a){var c=null;switch(a.tagName){case "dict":c=this.tP(a);break;case "array":c=this.sP(a);break;case "string":if(1==a.childNodes.length)c=a.firstChild.nodeValue;else for(var c="",d=0;d<a.childNodes.length;d++)c+=a.childNodes[d].nodeValue;break;case "false":c=!1;break;case "true":c=!0;break;case "real":c=
parseFloat(a.firstChild.nodeValue);break;case "integer":c=parseInt(a.firstChild.nodeValue,10)}return c},sP:function(a){for(var c=[],d=0,e=a.childNodes.length;d<e;d++){var f=a.childNodes[d];1==f.nodeType&&c.push(this.SA(f))}return c},tP:function(a){for(var c={},d=null,e=0,f=a.childNodes.length;e<f;e++){var g=a.childNodes[e];1==g.nodeType&&("key"==g.tagName?d=g.firstChild.nodeValue:c[d]=this.SA(g))}return c},CV:function(a){a=q.Vd.g().Ge(a);if(window.XMLHttpRequest){var c=new XMLHttpRequest;c.overrideMimeType&&
c.overrideMimeType("text/xml")}if(null!=c){var d=this;c.onreadystatechange=function(){4==c.readyState&&(c.responseText?(q.Tb.g().lg(),d.Cp[a]=c.responseText,c=null):(q.Tb.g().lg(),q.log("cocos2d:There was a problem retrieving the xml data:"+c.statusText)))};c.open("GET",a,!0);c.send(null)}else throw"cocos2d:Your browser does not support XMLHTTP.";},yY:function(a){this.Cp.hasOwnProperty(a)&&delete this.Cp[a]},getName:function(a){return a.substring(a.lastIndexOf("/",a.length)+1,a.lastIndexOf(".",a.length))},
N4:function(a){return a.substring(a.lastIndexOf(".",a.length)+1,a.length)},FI:function(a){return null!=this.Cp?this.Cp[a]:null}});q.Gk.g=function(){this.Nb||(this.Nb=new q.Gk);return this.Nb};q.Gk.Nb=null;q.uy=q.Na.extend({tS:function(){q.Dj.g().uW();return!0},b2:function(){q.fa.g().pause()},a2:function(){q.fa.g().vK()},oR:function(){q.Dj.g().oR()},qR:function(){q.Dj.g().qR()},c2:function(){}});q.uy.bY=function(){null==q.Wx&&(q.Wx=new q.uy);if(!q.Wx)throw"Application initialize failure";return q.Wx};q.Wx=null;q.T=q.v.extend({Yd:null,Wk:q.Kj,ol:q.Nu,wf:null,Zd:0,Ng:"",RA:null,Xo:!1,Tj:null,fk:!1,Mg:null,lp:0,as:0,iw:null,kl:!1,gs:null,rp:0,kw:null,sp:null,tv:null,IB:0,JB:0,yd:!1,Hv:null,Iv:null,ctor:function(){q.v.prototype.ctor.call(this);this.Yd=q.jm();this.Wk=q.Hq;this.ol=q.Nu;this.Dc=!1;this.Tj="";this.wf="Arial";this.fk=this.Xo=!1;this.Mg=q.jm();this.as=this.lp=0;this.iw="rgba(128, 128, 128, 0.5)";this.kl=!1;this.gs=q.Fb();this.rp=0;this.kw="";this.sp=q.Fb();this.tv="rgba(255,255,255,1)";this.JB=this.IB=
0;this.yd=!1;this.hi()},w:function(){return this.xl(" ",this.wf,this.Zd)},iP:function(){this.yA().font=this.Tj},Mr:function(a){return this.yA().measureText(a).width},lO:function(a,c){var d=this.Mr(a),e=Math.floor(a.length*c/d),f=a.indexOf("\n");if(0.8*e>=f&&0<f)return f+1;if(d<c)return a.length;for(var d=!1,f=c+1,g=-1,h=e,k,l=q.T.mO,m=q.T.OP,p=q.T.kO,s=a.substr(e);k=l.exec(s);){h+=k[0].length;if("\n"==k[2]){d=!0;g=h;break}f=this.Mr(a.substr(0,h));if(f>c){-1!=g&&(d=!0);break}g=h;s=a.substr(h)}if(d)return g;
s=a.substr(0,e);for(g=e;k=m.exec(s);)if(g=k[1].length,s=k[1],f=this.Mr(s),f<c){p.test(k[2])&&g++;break}return g},description:function(){return"\x3ccc.LabelTTF | FontName \x3d"+this.wf+" FontSize \x3d "+this.Zd.toFixed(1)+"\x3e"},r:null,Wr:function(a){q.Jb.prototype.r.call(this,a);this.XG()},hi:null,XG:function(){this.yd=!0;var a=this.Hc,c=this.ec,d=this.gs,e=this.sp;this.iw="rgba("+(0|0.5*a.q)+","+(0|0.5*a.p)+","+(0|0.5*a.n)+","+this.lp+")";this.tv="rgba("+(0|a.q/255*e.q)+","+(0|a.p/255*e.p)+","+
(0|a.n/255*e.n)+", "+c/255+")";this.kw="rgba("+(0|a.q/255*d.q)+","+(0|a.p/255*d.p)+","+(0|a.n/255*d.n)+", "+c/255+")"},XP:function(){this.yd=!0;var a=this.gs,c=this.sp;this.iw="rgba(128,128,128,"+this.lp+")";this.tv="rgba("+(0|c.q)+","+(0|c.p)+","+(0|c.n)+", 1)";this.kw="rgba("+(0|a.q)+","+(0|a.p)+","+(0|a.n)+", 1)"},td:null,PB:function(a){q.Jb.prototype.td.call(this,a);this.hi()},ta:null,Yr:function(a){this.aj!==a&&(q.v.prototype.ta.call(this,a),this.hi(),this.yd=!0)},ud:null,cda:function(a){q.Jb.prototype.ud.call(this,
a);this.hi()},MC:function(){return this.Ng},Z4:function(){return this.Wk},g7:function(){return this.ol},I4:function(){return q.size(this.Yd.width,this.Yd.height)},T4:function(){return this.Zd},S4:function(){return this.wf},xl:function(a,c,d,e,f,g){a=a?a+"":"";d=d||16;e=e||q.size(0,d);f=f||q.Hq;g=g||q.Ou;return q.v.prototype.w.call(this)?(this.Dc=!1,this.Yd=q.size(e.width,e.height),this.wf=c||"Arial",this.Wk=f,this.ol=g,this.Zd=d*q.ed(),this.Tj=this.Zd+"px '"+c+"'",this.Sj=q.T.Uu(c,this.Zd),this.pa(a),
this.hi(),this.RB(),this.yd=!1,!0):!1},aD:null,TO:function(a,c){if(!q.v.prototype.w.call(this))return!1;this.SB(c,!1);this.pa(a);return!0},UO:function(a,c){if(!q.v.prototype.w.call(this))return!1;this.eh(q.Vh.g().Di(q.T.NN));this.SB(c,!1);this.pa(a);return!0},Kba:function(a){a&&this.SB(a,!0)},M6:function(){return this.xP(!1)},GS:function(a,c,d){c=c||0.5;!1===this.fk&&(this.fk=!0);var e=this.Mg;if(e&&e.width!=a.width||e.height!=a.height)e.width=a.width,e.height=a.height;this.lp!=c&&(this.lp=c);this.hi();
this.as!=d&&(this.as=d);this.yd=!0},d3:function(){this.fk&&(this.fk=!1,this.yd=!0)},HS:function(a,c){!1===this.kl&&(this.kl=!0);var d=this.gs;if(d.q!==a.q||d.p!==a.p||d.n!==a.n)d.q=a.q,d.p=a.p,d.n=a.n,this.hi();this.rp!==c&&(this.rp=c||0);this.yd=!0},e3:function(){this.kl&&(this.kl=!1,this.yd=!0)},WD:null,aQ:function(a){var c=this.sp;if(c.q!=a.q||c.p!=a.p||c.n!=a.n)c.q=a.q,c.p=a.p,c.n=a.n,this.hi(),this.yd=!0},bQ:function(a){var c=this.sp;if(c.q!=a.q||c.p!=a.p||c.n!=a.n)c.q=a.q,c.p=a.p,c.n=a.n,this.hi(),
this.yd=!0},SB:function(a,c){a.Is?(this.Yd.width=a.Is.width,this.Yd.height=a.Is.height):(this.Yd.width=0,this.Yd.height=0);this.Wk=a.sI;this.ol=a.tI;this.wf=a.Js;this.Zd=a.fontSize||12;this.Tj=this.Zd+"px '"+this.wf+"'";this.Sj=q.T.Uu(this.wf,this.Zd);a.vL&&this.GS(a.wL,a.xL,a.shadowBlur,!1);a.rE&&this.HS(a.strokeColor,a.HL,!1);this.WD(a.uI,!1);c&&this.RB()},xP:function(a){var c=new q.DM;a?(c.fontSize=this.Zd,c.Is=q.jz(this.Yd)):(c.fontSize=this.Zd,c.Is=q.size(this.Yd.width,this.Yd.height));c.Js=
this.wf;c.sI=this.Wk;c.tI=this.ol;if(this.kl){c.rE=!0;var d=this.gs;c.strokeColor=new q.Fc(d.q,d.p,d.n);c.HL=this.rp}else c.rE=!1;this.fk?(c.vL=!0,c.shadowBlur=this.as,c.xL=this.lp,c.wL=a?q.jz(this.Mg):q.size(this.Mg.width,this.Mg.height)):c.fk=!1;a=this.sp;c.uI=new q.Fc(a.q,a.p,a.n);return c},Sj:18,pa:function(a){a&&(a=String(a),a=a.replace("\x3cCOPYRIGHT\x3e","\u00a9"));this.RA!=a&&(this.RA=a+"",this.xH(),this.yd=!0)},xH:function(){this.Ng=this.RA},Kaa:function(a){a!==this.Wk&&(this.Wk=a,this.yd=
!0)},Xba:function(a){a!=this.ol&&(this.ol=a,this.yd=!0)},mb:function(a){if(a.width!=this.Yd.width||a.height!=this.Yd.height)this.Yd=a,this.xH(),this.yd=!0},Lx:function(a){this.Zd!==a&&(this.Zd=a*q.ed(),this.Tj=this.Zd+"px '"+this.wf+"'",this.Sj=q.T.Uu(this.wf,this.Zd),this.yd=!0)},XD:function(a){this.wf&&this.wf!=a&&(this.wf=a,this.Tj=this.Zd+"px '"+a+"'",this.Sj=q.T.Uu(a,this.Zd),this.yd=!0)},CO:function(a){if(a){var c=this.IB,d=this.JB,e=this.Ca.xa-d,f=this.ol,g=this.Wk,h=this.Sj,k=this.rp;a.setTransform(1,
0,0,1,0+0.5*c,e+0.5*d);a.font!=this.Tj&&(a.font=this.Tj);a.fillStyle=this.tv;var l=d=0,m=this.kl;m&&(a.lineWidth=2*k,a.strokeStyle=this.kw);this.fk&&(k=this.Mg,a.shadowColor=this.iw,a.shadowOffsetX=k.width,a.shadowOffsetY=-k.height,a.shadowBlur=this.as);a.textBaseline=q.T.AQ[f];a.textAlign=q.T.zQ[g];c=this.Ca.Ia-c;d=g===q.BN?d+c:g===q.Kj?d+Math.floor(c/2):d+0;a.lineHeight=this.Yd.height/this.gj.length;if(this.Xo)for(g=this.gj.length,f===q.Ou||f===q.Nu?l=h+e-h*g:f===q.Pu&&(l=h/2+(e-h*g)/2),f=0;f<g;f++)c=
this.gj[f],k=-e+h*f+l,m&&a.strokeText(c,d,k),a.fillText(c,d,k);else f!==q.Ou&&(l=f===q.Qu?l-e:f===q.Nu?l+e:l-0.5*e),m&&a.strokeText(this.Ng,d,l),a.fillText(this.Ng,d,l)}},yA:function(){if(this.Iv)return this.Iv;if(!this.Hv){var a=document.createElement("canvas"),c=new q.ic;c.nf(a);this.ka(c);this.Hv=a}return this.Iv=this.Hv.getContext("2d")},yH:function(){var a=this.Yd.width,c,d;this.BG=[];this.Xo=!1;this.iP();if(0!==a){var e=this.Ng;this.gj=[];c=0;for(d=this.Ng.length;c<d;){var f=this.lO(e.substr(c),
a);this.gj.push(e.substr(c,f));c+=f}}else for(this.gj=this.Ng.split("\n"),c=0,d=this.gj.length;c<d;c++)this.BG.push(this.Mr(this.gj[c]));0<this.gj.length&&(this.Xo=!0);d=c=0;this.kl&&(c=d=2*this.rp);this.fk&&(e=this.Mg,c+=2*Math.abs(e.width),d+=2*Math.abs(e.height));a=0===a?this.Xo?q.size(0|Math.max.apply(Math,this.BG)+c,0|this.Sj*this.gj.length+d):q.size(0|this.Mr(this.Ng)+c,0|this.Sj+d):0===this.Yd.height?this.Xo?q.size(0|a+c,0|this.Sj*this.gj.length+d):q.size(0|a+c,0|this.Sj+d):q.size(0|a+c,0|
this.Yd.height+d);this.P(a);this.IB=c;this.JB=d;e=this.pm;this.Fd.H=0.5*c+Math.round((a.width-c)*e.H);this.Fd.S=0.5*d+Math.round((a.height-d)*e.S)},c:function(){this.yd&&this.yH();return q.v.prototype.c.call(this)},RB:function(){var a=this.yA(),c=this.Hv,d=this.Ca;if(0===this.Ng.length)return c.width=1,c.height=d.xa,this.gb(q.rect(0,0,1,d.xa)),!0;a.font=this.Tj;this.yH();var e=d.Ia,d=d.xa,f=c.width==e&&c.height==d;c.width=e;c.height=d;f&&a.clearRect(0,0,e,d);this.CO(a);this.Ha.ee();this.BL=!0;this.gb(q.rect(0,
0,e,d));return!0},Ba:function(a){this.Ng&&""!=this.Ng&&(this.yd&&(this.yd=!1,this.RB()),q.v.prototype.Ba.call(this,a||q.ca))},Ya:null,Eg:function(a){if(this.Ng&&""!=this.Ng){a=a||q.ca;var c=this.Ha;c&&c.Lc&&(this.Xc.tf(),this.Xc.fh(),q.sk(this.oa.src,this.oa.Rb),q.Rg(c),q.Je(q.Mu),a.bindBuffer(a.ARRAY_BUFFER,this.cw),this.Af&&(a.bufferData(a.ARRAY_BUFFER,this.Vb.eC,a.STATIC_DRAW),this.Af=!1),a.vertexAttribPointer(q.We,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(q.Kq,2,a.FLOAT,!1,24,16),a.vertexAttribPointer(q.Jq,
4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));1===q.Hj?(a=this.Vb,a=[q.a(a.Za.B.x,a.Za.B.y),q.a(a.Pa.B.x,a.Pa.B.y),q.a(a.bb.B.x,a.bb.B.y),q.a(a.Sa.B.x,a.Sa.B.y)],q.Ce.de(a,4,!0)):2===q.Hj&&(a=this.NC().Xa,c=this.pc,a=[q.a(c.x,c.y),q.a(c.x+a.width,c.y),q.a(c.x+a.width,c.y+a.height),q.a(c.x,c.y+a.height)],q.Ce.de(a,4,!0));q.Gh++}},tB:function(a,c,d){this.md=c||!1;d=d||q.size(a.width/q.ed(),a.height/q.ed());this.P(d);this.iE(a);this.BL&&(c=q.qa.g().va,d=q.qa.g().Da,this.za.width/=c,
this.za.height/=d);c=this.Vm;d=this.Oo;c.x=a.x;c.y=a.y;c.width=a.width;c.height=a.height;c.$l=!(0===c.width||0===c.height);d.width=c.width;d.height=c.height;d.$l=!(0===d.width||0===d.height);a=this.li;this.jc&&(a.H=-a.H);this.kc&&(a.S=-a.S);this.pc.H=a.x+(this.Ca.Ia-this.za.width)/2;this.pc.S=a.y+(this.Ca.xa-this.za.height)/2;this.rb&&(this.Oa=!0)},Rj:function(a){if(this.wb){a=a||q.ca;this.Bm&&(a.globalCompositeOperation="lighter");a.bU=this.mp;var c=q.qa.g().va,d=q.qa.g().Da;a.globalAlpha=this.ec/
255;var e=this.za,f=this.Ca,g=this.pc,h=this.Oo,k=0|g.H,l=-g.S-e.height,m=this.Vm;!0==this.cs&&(a.shadowBlur=30,a.shadowColor="black");if(this.jc||this.kc)a.save(),this.jc&&(k=-g.H-e.width,a.scale(-1,1)),this.kc&&(l=g.S,a.scale(1,-1));k*=c;l*=d;if(this.Ha&&m.$l)e=this.Ha.Cc,this.Vq?a.drawImage(e,0,0,m.width,m.height,k,l,h.width,h.height):a.drawImage(e,m.x,m.y,m.width,m.height,k,l,h.width,h.height);else if(0!==f.Ia){var p=this.Dd();a.fillStyle="rgba("+p.q+","+p.p+","+p.n+",1)";a.fillRect(k,l,f.Ia*
c,f.xa*d)}!0==this.cs&&(a.shadowBlur=0);!0==this.yB&&(a.globalAlpha=1,a.beginPath(),a.strokeStyle="rgba("+p.q+","+p.p+","+p.n+",1)",a.lineWidth="1",ha(a,k,l,f.Ia*c,f.xa*d),a.stroke());2===q.Hj&&(a.strokeStyle="rgba(0,255,0,1)",p=this.za.Xa,l=-l,k=[q.a(k,l),q.a(k+p.width,l),q.a(k+p.width,l-p.height),q.a(k,l-p.height)],q.Ce.de(k,4,!0));(this.jc||this.kc)&&a.restore();q.Gh++}},$G:function(a){var c=this.rb?this.Ta.ja():this.Ha;if(c){var d=c.Tp(),e=c.Sp(),f,g=this.Vb;this.md?(q.eu?(c=(2*a.x+1)/(2*d),d=
c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/d,f=a.y/e,a=(a.y+a.width)/e),this.jc&&(e=f,f=a,a=e),this.kc&&(e=c,c=d,d=e),g.Pa.G.Va=c,g.Pa.G.ua=f,g.bb.G.Va=c,g.bb.G.ua=a,g.Za.G.Va=d,g.Za.G.ua=f,g.Sa.G.Va=d,g.Sa.G.ua=a):(q.eu?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+a.height)/e),this.jc&&(e=c,c=d,d=e),this.kc&&(e=f,f=a,a=e),g.Pa.G.Va=c,g.Pa.G.ua=a,g.bb.G.Va=d,g.bb.G.ua=
a,g.Za.G.Va=c,g.Za.G.ua=f,g.Sa.G.Va=d,g.Sa.G.ua=f);this.Af=!0}}});q.Ja.cd?(b=q.T.prototype,b.r=q.v.prototype.r,b.hi=q.T.prototype.XP,b.td=q.v.prototype.td,b.ta=q.v.prototype.ta,b.ud=q.v.prototype.ud,b.aD=q.T.prototype.UO,b.WD=q.T.prototype.bQ,b.Ya=q.T.prototype.Eg,b.gb=q.v.prototype.aH):(b=q.T.prototype,b.r=q.T.prototype.Wr,b.hi=q.T.prototype.XG,b.td=q.T.prototype.PB,b.ta=q.T.prototype.Yr,b.ud=q.T.prototype.uH,b.aD=q.T.prototype.TO,b.WD=q.T.prototype.aQ,b.Ya=q.T.prototype.Rj,b.gb=q.T.prototype.tB);
q.T.zQ=["left","center","right"];q.T.AQ=["top","middle","bottom","alphabetic"];q.T.mO=/(.+?)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;q.T.OP=/(.*)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;q.T.kO=/[\s\-\/\\\:]/;q.T.create=function(a,c,d,e,f,g){var h=new q.T;return h.xl(a,c,d,e,f,g)?h:null};q.T.S2=function(a,c){var d=new q.T;return d&&d.aD(a,c)?d:null};q.T.NN=q.JN?q.iz:q.$_;q.T.km=document.createElement("div");q.T.km.style.fontFamily="Arial";q.T.km.style.position="absolute";
q.T.km.style.left="-100px";q.T.km.style.top="-100px";q.T.km.style.lineHeight="normal";document.body.appendChild(q.T.km);q.T.Uu=function(a,c){var d=q.T.OF[a+"."+c];if(0<d)return d;var e=q.T.km;e.innerHTML="ajghl~!";e.style.fontFamily=a;e.style.fontSize=c+"px";d=e.clientHeight;q.T.OF[a+"."+c]=d;e.innerHTML="";return d};q.T.OF={};q.GM=q.Na.extend({Zc:null,target:null,gn:0,Eh:null,mn:!1,paused:!1,hh:null,ctor:function(){this.Zc=[];this.Z=null;this.gn=0;this.Eh=null;this.paused=this.mn=!1;this.hh=null}});
q.eM=q.Na.extend({Zh:null,uo:null,vf:null,Si:!1,s1:function(a,c){for(var d=0;d<a.length;d++)if(c==a[d].target)return a[d];return null},ctor:function(){this.Zh={};this.uo=[];this.vf=null;this.Si=!1},VQ:function(a,c,d){if(!a)throw"cc.ActionManager.addAction(): action must be non-null";if(!c)throw"cc.ActionManager.addAction(): action must be non-null";var e=this.Zh[c.tc];e||(e=new q.GM,e.paused=d,e.target=c,this.Zh[c.tc]=e,this.uo.push(e));this.SN(e);e.Zc.push(a);a.ha(c)},x$:function(){for(var a=this.uo,
c=0;c<a.length;c++){var d=a[c];d&&this.qK(d.target,!0)}},qK:function(a,c){if(null!=a){var d=this.Zh[a.tc];d&&(-1===d.Zc.indexOf(d.Eh)||d.mn||(d.mn=!0),d.Zc=[],this.vf!=d||c?this.fA(d):this.Si=!0)}},pK:function(a){if(null!=a){var c=this.Zh[a.Hm.tc];if(c)for(var d=0;d<c.Zc.length;d++){if(c.Zc[d]==a){c.Zc.splice(d,1);break}}else q.log("cocos2d: removeAction: Target not found")}},aW:function(a,c){a==q.$n&&q.log("cc.ActionManager.removeActionByTag(): an invalid tag");if(!c)throw"cc.ActionManager.removeActionByTag(): target must be non-null";
var d=this.Zh[c.tc];if(d)for(var e=d.Zc.length,f=0;f<e;++f){var g=d.Zc[f];if(g&&g.Cd===a&&g.Hm==c){this.BP(f,d);break}}},BC:function(a,c){a==q.$n&&q.log("cc.ActionManager.getActionByTag(): an invalid tag");var d=this.Zh[c.tc];if(d){if(null!=d.Zc)for(var e=0;e<d.Zc.length;++e){var f=d.Zc[e];if(f&&f.Cd===a)return f}q.log("cocos2d : getActionByTag(tag \x3d"+a+"): Action not found")}return null},TJ:function(a){return(a=this.Zh[a.tc])?a.Zc?a.Zc.length:0:0},bt:function(a){if(a=this.Zh[a.tc])a.paused=!0},
Ln:function(a){if(a=this.Zh[a.tc])a.paused=!1},a$:function(){for(var a=[],c=this.uo,d=0;d<c.length;d++){var e=c[d];e&&!e.paused&&(e.paused=!0,a.push(e.target))}return a},tW:function(a){if(a)for(var c=0;c<a.length;c++)a[c]&&this.Ln(a[c])},l$:function(){q.fa.g().If().pq(this)},BP:function(a,c){c.Zc[a]!=c.Eh||c.mn||(c.mn=!0);q.tq(c.Zc,a);c.gn>=a&&c.gn--;0==c.Zc.length&&(this.vf==c?this.Si=!0:this.fA(c))},fA:function(a){a&&(delete this.Zh[a.target.tc],q.ke(this.uo,a),a.Zc=null,a.target=null)},SN:function(a){null==
a.Zc&&(a.Zc=[])},update:function(a){for(var c=this.uo,d,e=0;e<c.length;e++){d=this.vf=c[e];if(!d.paused)for(d.gn=0;d.gn<d.Zc.length;d.gn++)if(d.Eh=d.Zc[d.gn],d.Eh){d.mn=!1;d.Eh.step(a);if(d.mn)d.Eh=null;else if(d.Eh.xi()){d.Eh.stop();var f=d.Eh;d.Eh=null;this.pK(f)}d.Eh=null}this.Si&&0===d.Zc.length&&this.fA(d)}}});q.uf=q.Na.extend({R:null,aw:q.Gj(),Tf:0,ctor:function(a,c,d){this.R=q.a(a||0,c||0);this.Tf=d||0},l5:function(){return this.R},jT:function(){return this.aw},E4:function(){return q.Rd(this.R,this.aw)},c5:function(){return this.Tf},d5:function(){return this.Tf},fE:function(a,c,d){this.aw=this.R;this.R=q.a(c||0,d||0);this.Tf=a},ag:function(a,c){this.aw=q.a(a||0,c||0)}});
q.JF=q.Na.extend({W0:null,xb:function(){return!1},Qd:function(){},$g:function(){},wk:function(){},XJ:function(){},$J:function(){},ZJ:function(){},YJ:function(){},Wca:function(){},Vca:function(){}});q.t0=q.JF.extend({xb:function(){return!1},Qd:function(){},$g:function(){},wk:function(){}});q.j0=q.JF.extend({XJ:function(){},$J:function(){},ZJ:function(){},YJ:function(){}});q.qo=q.Na.extend({Ea:null,zf:0,Po:0,vc:function(){return this.Ea},og:function(a){this.Ea=a},kT:function(){return this.zf},lt:function(a){this.zf=a},WS:function(){return this.Po},aX:function(a){this.Po=a},tk:function(a,c){if(!a)throw"cc.TouchHandler.initWithDelegate(): touch delegate should not be null";this.Ea=a;this.zf=c;this.Po=0;return!0}});q.qo.create=function(a,c){var d=new q.qo;d&&d.tk(a,c);return d};q.nz=q.qo.extend({tk:function(a,c){return q.qo.prototype.tk.call(this,a,c)}});
q.nz.create=function(a,c){var d=new q.nz;d&&d.tk(a,c);return d};q.Fu=q.qo.extend({ow:!1,Io:null,w8:function(){return this.ow},Hba:function(a){this.ow=a},p4:function(){return this.Io},tk:function(a,c,d){return q.qo.prototype.tk.call(this,a,c)?(this.Io=[],this.ow=d,!0):!1}});q.Fu.create=function(a,c,d){var e=new q.Fu;e&&e.tk(a,c,d);return e};q.EN=1;q.HN=2;q.GN=4;q.FN=8;q.w0=q.EN|q.HN|q.GN|q.FN;q.rz=0;q.uz=1;q.tz=2;q.sz=3;q.v0=4;q.IJ=function(a,c){return a.zf>c.zf};q.Ju=function(a){this.type=a};
q.sa=q.Na.extend({ck:!1,ef:null,df:null,Dm:!1,os:!1,yw:!1,Xk:null,Uj:null,xw:!1,Qj:!1,MO:[new q.Ju(q.rz),new q.Ju(q.uz),new q.Ju(q.tz),new q.Ju(q.sz)],w:function(){this.Qj=!0;this.ef=[];this.df=[];this.Xk=[];this.Uj=[];this.ck=this.Dm=this.xw=this.os=this.yw=!1;q.sa.XV();return!0},Xr:function(a){this.ck=a},HO:function(){return this.ck},V7:function(){return this.Qj},ZW:function(a){this.Qj=a},WN:function(a,c){var d=q.nz.create(a,c||0);this.Dm?-1!=this.Uj.indexOf(a)?q.ke(this.Uj,a):(this.Xk.push(d),
this.os=!0):this.df=this.Kp(d,this.df)},XN:function(a,c,d){c=q.Fu.create(a,c,d);this.Dm?-1!=this.Uj.indexOf(a)?q.ke(this.Uj,a):(this.Xk.push(c),this.os=!0):this.ef=this.Kp(c,this.ef)},Kp:function(a,c){for(var d=0,e,f=0;f<c.length;f++)if(e=c[f])if(e.zf<a.zf&&++d,e.vc()==a.vc())return q.log("cc.TouchDispatcher.forceAddHandler(): The handler has been added."),c;return q.dm(c,a,d)},vI:function(){this.df.length=0;this.ef.length=0},EP:function(a){if(null!=a)if(this.Dm){var c=this.qI(this.Xk,a);c?q.ke(this.Xk,
c):(this.Uj.push(a),this.yw=!0)}else this.wI(a)},cW:function(){this.Dm?this.xw=!0:this.vI()},lt:function(a,c){if(!c)throw"cc.TouchDispatcher.setPriority(): delegate should be non-null.";var d=this.qI(c);d?d.zf!=a&&(d.lt(a),this.kK(this.ef),this.kK(this.df)):q.log("cc.TouchDispatcher.setPriority(): Can't find TouchHandler.")},touches:function(a,c,d){if(0>d||4<=d)throw"cc.TouchDispatcher.touches(): invalid index";this.Dm=!0;var e=this.ef.length,f=this.df.length,g=e&&f,h=g?a.slice():a,k=this.MO[d];if(0<
e)for(var l,m,p=0;p<a.length;p++)for(var e=a[p],s=0;s<this.ef.length;s++){l=this.ef[s];if(!l)break;m=!1;if(d==q.rz)l.vc().xb&&(m=l.vc().xb(e,c))&&l.Io.push(e);else if(0<l.Io.length)switch(m=!0,k.type){case q.uz:q.Ja.qj?l.vc().Qd&&l.vc().Qd(e,c):this.ck&&l.vc().Qd&&l.vc().Qd(e,c);break;case q.tz:l.vc().$g&&l.vc().$g(e,c);l.Io.length=0;break;case q.sz:l.vc().wk&&l.vc().wk(e,c),l.Io.length=0}if(m&&l.ow){g&&q.ke(h,e);break}}if(0<f)for(p=0;p<this.df.length&&(l=this.df[p],l);p++);this.Dm=!1;if(this.yw){this.yw=
!1;for(p=0;p<this.Uj.length;p++)this.wI(this.Uj[p]);this.Uj.length=0}if(this.os){this.os=!1;for(p=0;p<this.Xk.length;p++){l=this.Xk[p];if(!l)break;l instanceof q.Fu?this.ef=this.Kp(l,this.ef):this.df=this.Kp(l,this.df)}this.Xk.length=0}this.xw&&(this.xw=!1,this.vI())},hy:function(a,c){this.Qj&&this.touches(a,c,q.rz)},iy:function(a,c){this.Qj&&this.touches(a,c,q.uz)},ut:function(a,c){this.Qj&&this.touches(a,c,q.tz)},xE:function(a,c){this.Qj&&this.touches(a,c,q.sz)},qI:function(a,c){switch(arguments.length){case 1:c=
arguments[0];if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(var d=0;d<this.ef.length;d++)if(this.ef[d].vc()==c)return this.ef[d];for(d=0;d<this.df.length;d++)if(this.df[d].vc()==c)return this.df[d];return null;case 2:if(!a)throw"cc.TouchDispatcher.findHandler(): array should be non-null.";if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(d=0;d<a.length;d++)if(a[d].vc()==c)return a[d];return null;default:throw"Argument must be non-nil ";
}},wI:function(a){for(var c,d=0;d<this.df.length;d++)if((c=this.df[d])&&c.vc()==a){q.ke(this.df,c);break}for(d=0;d<this.ef.length;d++)if((c=this.ef[d])&&c.vc()==a){q.ke(this.ef,c);break}},kK:function(a){a.sort(q.IJ)}});q.sa.Db=q.a(0,0);q.sa.xJ=!1;
q.lj=function(a){var c=document.documentElement,d=window,e=null,e="function"===typeof a.getBoundingClientRect?a.getBoundingClientRect():a instanceof HTMLCanvasElement?{left:0,top:0,width:a.width,height:a.height}:{left:0,top:0,width:parseInt(a.style.width),height:parseInt(a.style.height)};return{left:e.left+d.pageXOffset-c.clientLeft,top:e.top+d.pageYOffset-c.clientTop,width:e.width,height:e.height}};
q.pN=function(a,c){var d=q.lj(a),e,f;null!=c.pageX?(e=c.pageX,f=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,e=c.clientX,f=c.clientY);e=q.qa.g().pk(e,f,d);d=new q.uf(e.x,e.y);d.ag(q.sa.Db.x,q.sa.Db.y);q.sa.Db.x=e.x;q.sa.Db.y=e.y;e=[];e.push(d);q.qa.g().ut(e,null)};
q.sa.XV=function(){var a=q.canvas;if(!q.sa.xJ){if(q.Ja.qj)if(window.navigator.msPointerEnabled){var c={MSPointerDown:"touchesBegan",MSPointerMove:"touchesMoved",MSPointerUp:"touchesEnded",MSPointerCancel:"touchesCancelled"},d;for(d in c)(function(c,d){a.addEventListener(c,function(c){var e=q.lj(a);e.left-=document.body.scrollLeft;e.top-=document.body.scrollTop;var k,l;k=c.clientX;l=c.clientY;k=q.qa.g().pk(k,l,e);e=new q.uf(k.x,k.y);e.ag(q.sa.Db.x,q.sa.Db.y);q.sa.Db.x=k.x;q.sa.Db.y=k.y;q.fa.g().gf[d]([e],
null);c.stopPropagation();c.preventDefault()},!1)})(d,c[d])}else a.addEventListener("touchstart",function(c){if(c.changedTouches){var d=[],g=q.lj(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,p=0;p<m;p++)if(h=c.changedTouches[p])k=h.clientX,l=h.clientY,k=q.qa.g().pk(k,l,g),h.hasOwnProperty("identifier")?(h=new q.uf(k.x,k.y,h.identifier),l=q.sa.wv(h).R,h.ag(l.x,l.y),q.sa.YG(h)):(h=new q.uf(k.x,k.y),h.ag(q.sa.Db.x,q.sa.Db.y)),q.sa.Db.x=k.x,
q.sa.Db.y=k.y,d.push(h);q.qa.g().hy(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchmove",function(c){if(c.changedTouches){var d=[],g=q.lj(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,p=0;p<m;p++)if(h=c.changedTouches[p])k=h.clientX,l=h.clientY,k=q.qa.g().pk(k,l,g),h.hasOwnProperty("identifier")?(h=new q.uf(k.x,k.y,h.identifier),l=q.sa.wv(h).R,h.ag(l.x,l.y),q.sa.YG(h)):(h=new q.uf(k.x,k.y),h.ag(q.sa.Db.x,q.sa.Db.y)),
q.sa.Db.x=k.x,q.sa.Db.y=k.y,d.push(h);q.qa.g().iy(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchend",function(c){if(c.changedTouches){var d=[],g=q.lj(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,p=0;p<m;p++)if(h=c.changedTouches[p])k=h.clientX,l=h.clientY,k=q.qa.g().pk(k,l,g),h.hasOwnProperty("identifier")?(h=new q.uf(k.x,k.y,h.identifier),l=q.sa.wv(h).R,h.ag(l.x,l.y),q.sa.fG(h)):(h=new q.uf(k.x,k.y),h.ag(q.sa.Db.x,
q.sa.Db.y)),q.sa.Db.x=k.x,q.sa.Db.y=k.y,d.push(h);q.qa.g().ut(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchcancel",function(c){if(c.changedTouches){var d=[],g=q.lj(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,p=0;p<m;p++)if(h=c.changedTouches[p])k=h.clientX,l=h.clientY,k=q.qa.g().pk(k,l,g),h.hasOwnProperty("identifier")?(h=new q.uf(k.x,k.y,h.identifier),l=q.sa.wv(h).R,h.ag(l.x,l.y),q.sa.fG(h)):(h=new q.uf(k.x,
k.y),h.ag(q.sa.Db.x,q.sa.Db.y)),q.sa.Db.x=k.x,q.sa.Db.y=k.y,d.push(h);q.qa.g().xE(d,null);c.stopPropagation();c.preventDefault()}},!1);else window.addEventListener("mousedown",function(){q.fa.g().gf.Xr(!0)}),window.addEventListener("mouseup",function(c){q.fa.g().gf.Xr(!1);var d=q.lj(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);q.tb(new q.yg(d.left,d.top,d.width,d.height),q.a(g,c))||(g=q.qa.g().pk(g,c,d),d=new q.uf(g.x,
g.y),d.ag(q.sa.Db.x,q.sa.Db.y),q.sa.Db.x=g.x,q.sa.Db.y=g.y,g=[],g.push(d),q.qa.g().ut(g,null))}),a.addEventListener("mousedown",function(c){var d=q.lj(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=q.qa.g().pk(g,c,d);d=new q.uf(g.x,g.y);d.ag(q.sa.Db.x,q.sa.Db.y);q.sa.Db.x=g.x;q.sa.Db.y=g.y;g=[];g.push(d);q.qa.g().hy(g,null)}),a.addEventListener("mouseup",function(c){q.pN(a,c)}),a.addEventListener("mousemove",function(c){var d=
q.lj(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=q.qa.g().pk(g,c,d);d=new q.uf(g.x,g.y);d.ag(q.sa.Db.x,q.sa.Db.y);q.sa.Db.x=g.x;q.sa.Db.y=g.y;g=[];g.push(d);q.qa.g().iy(g,null)});q.sa.xJ=!0}};q.sa.wv=function(a){for(var c=null,d=q.sa.YA,e=a.Tf,f=d.length-1;0<=f;f--)if(d[f].Tf==e){c=d[f];break}c||(c=a);return c};
q.sa.YG=function(a){for(var c=!1,d=q.sa.YA,e=a.Tf,f=d.length-1;0<=f;f--)if(d[f].Tf==e){d[f]=a;c=!0;break}c||(50>=d.length?d.push(a):(d[q.sa.ZA]=a,q.sa.ZA=(q.sa.ZA+1)%50))};q.sa.fG=function(a){var c,d=q.sa.YA;c=a.Tf;for(a=d.length-1;0<=a;a--)if(d[a].Tf==c){c=d.pop();a!=d.length&&(d[a]=c);break}};q.sa.YA=[];q.sa.ZA=0;q.CD=function(a,c,d){q.fa.g().gf.XN(d,a,c)};q.YV=function(a,c){q.fa.g().gf.WN(a,c)};q.NL=function(a){q.fa.g().gf.EP(a)};q.$M=1;q.fF=2;q.m_=4;q.dN=8;q.N_=16;q.O_=32;q.P_=64;q.z_=128;q.A_=256;q.B_=512;q.xF=1024;q.aN=2048;q.bN=4096;q.cN=0;q.n_=1;q.gF=2;q.p_=q.Na.extend({WU:function(){return!1},XU:function(){return!1},Ci:function(){return!1},$U:function(){return!1},dV:function(){return!1},eV:function(){return!1},fV:function(){return!1},aV:function(){return!1},bV:function(){return!1},cV:function(){return!1},gV:function(){return!1},YU:function(){return!1},ZU:function(){return!1}});
q.eN=q.uf.extend({BH:0,YF:q.cN,l7:function(){return this.BH},rL:function(a){this.BH=a},h4:function(){return this.YF},OW:function(a){this.YF=a}});q.Yy=q.Na.extend({Ea:null,zf:0,Po:0,vc:function(){return this.Ea},og:function(a){this.Ea=a},kT:function(){return this.zf},lt:function(a){this.zf=a},WS:function(){return this.Po},aX:function(a){this.Po=a},tk:function(a,c){this.Ea=a;this.zf=c}});q.Yy.create=function(a,c){var d=new q.Yy;d.tk(a,c);return d};
q.oe=q.Na.extend({ck:!1,ew:!1,Uf:null,Qj:!1,w:function(){this.Qj=!0;this.Uf=[];this.ew=this.ck=!1;q.oe.zP();return!0},Xr:function(a){this.ck=a},HO:function(){return this.ck},ZG:function(a){this.ew=a},c1:function(){return this.ew},LH:function(a,c){var d=q.Yy.create(a,c);this.Uf=this.Kp(d,this.Uf)},Kp:function(a,c){for(var d=0,e=0;e<c.length;e++){var f=c[e];if(f&&(f.zf<a.zf&&++d,f.vc()==a.vc()))return q.log("cc.MouseDispatcher.forceAddHandler(): handler has been added."),c}return q.dm(c,a,d)},rK:function(a){if(null!=
a)for(var c=0;c<this.Uf.length;c++){var d=this.Uf[c];if(d&&d.vc()==a){q.ke(this.Uf,d);break}}},FO:function(a){for(var c=0;c<this.Uf.length;c++)if(this.Uf[c]&&this.Uf[c].vc()==a)return this.Uf[c];return null},lt:function(a,c){if(!c)throw"cc.MouseDispatcher.setPriority(): delegate should be non-null";var d=this.FO(c);d?d.zf!=a&&(d.lt(a),this.Uf.sort(q.IJ)):q.log("cc.MouseDispatcher.setPriority(): Can't find MouseHandler in array")},A$:function(){this.Uf.length=0},zn:function(a,c,d){for(c=0;c<this.Uf.length;c++){var e=
this.Uf[c];switch(d){case q.fF:this.ck||this.ew||!e.vc().Ci||e.vc().Ci(a)}}}});q.oe.$v=q.a(0,0);q.oe.cP=!1;
q.oe.zP=function(){var a=q.canvas;function c(c){var e=q.lj(a),f=c.pageX,g=c.pageY,h=q.qa.g(),f=(f-e.left)/h.va,e=(e.height-(g-e.top))/h.Da,g=new q.eN(f,e);g.ag(q.oe.$v.x,q.oe.$v.y);g.OW(c.button);q.oe.$v.x=f;q.oe.$v.y=e;return g}q.oe.cP||(window.addEventListener("mousedown",function(a){a.button==q.gF?q.fa.g().Hf().ZG(!0):q.fa.g().Hf().Xr(!0)}),window.addEventListener("mouseup",function(a){a.button==q.gF?q.fa.g().Hf().ZG(!1):q.fa.g().Hf().Xr(!1)}),a.addEventListener("mousedown",function(a){q.fa.g().Hf().zn(c(a),
a,q.$M)}),a.addEventListener("mouseup",function(a){q.fa.g().Hf().zn(c(a),a,q.dN)}),a.addEventListener("mousemove",function(a){q.fa.g().Hf().zn(c(a),a,q.fF)}),a.addEventListener("mousewheel",function(a){var e=c(a);e.rL(a.wheelDelta);q.fa.g().Hf().zn(e,a,q.xF)},!1),a.addEventListener("DOMMouseScroll",function(a){var e=c(a);e.rL(-120*a.detail);q.fa.g().Hf().zn(e,a,q.xF)}),a.addEventListener("mouseout",function(a){q.fa.g().Hf().zn(c(a),a,q.bN)},!1),a.addEventListener("mouseover",function(a){q.fa.g().Hf().zn(c(a),
a,q.aN)},!1))};q.jda=function(){return{x:0,y:0}};q.Zl=function(a,c){return{x:a,y:c}};q.ih=function(a,c){return q.Zl(a.x+c.x,a.y+c.y)};q.Ed=function(a,c){return q.Zl(a.x-c.x,a.y-c.y)};q.tg=function(a,c){return q.Zl(a.x*c,a.y*c)};q.py=function(a){return q.Zl(-a.y,a.x)};q.Aj=function(a){return q.Zl(-a.x,-a.y)};q.FY=function(a,c){return a.x*c.x+a.y*c.y};q.ida=function(a){return q.Zl(Math.cos(a),Math.sin(a))};q.CE=function(a){a=q.Nh(q.a(a.x,a.y));return q.Zl(a.x,a.y)};q.Ki=function(a){return q.Zl(a.x,a.y)};
q.Lb=function(a){return{Va:a.x,ua:a.y}};
q.yM=q.F.extend({kb:null,oa:null,No:null,bp:null,Ls:function(){return this.oa},Nl:function(a){this.oa=a},Aaa:function(a){this.No=q.j(a.q,a.p,a.n,a.O)},Taa:function(a){this.bp=null==a?null:q.j(a.q,a.p,a.n,a.O)},Xw:function(){return q.j(this.No.q,this.No.p,this.No.n,this.No.O)},EI:function(){return this.bp?q.j(this.bp.q,this.bp.p,this.bp.n,this.bp.O):null},ctor:function(){q.F.prototype.ctor.call(this);this.kb=[];this.No=q.j(0,0,0,255);this.oa=new q.fm(q.Te,q.Se)},Ya:function(a){a=a||q.ca;var c=q.qa.g().va;
this.oa&&770==this.oa.src&&1==this.oa.Rb&&(a.globalCompositeOperation="lighter");for(var d=0;d<this.kb.length;d++){var e=this.kb[d];e.type===q.wg.GF&&(a.fillStyle="rgba("+(0|e.color.q)+","+(0|e.color.p)+","+(0|e.color.n)+","+e.color.O/255+")",q.Ce.sC(e.position,e.AD));e.type===q.wg.HF&&(a.strokeStyle="rgba("+(0|e.color.q)+","+(0|e.color.p)+","+(0|e.color.n)+","+e.color.O/255+")",a.lineWidth=2*e.AD*c,a.lineCap="round",q.Ce.qi(e.from,e.Xl));e.type===q.wg.vz&&(a.fillStyle="rgba("+(0|e.fillColor.q)+","+
(0|e.fillColor.p)+","+(0|e.fillColor.n)+","+e.fillColor.O/255+")",q.Ce.de(e.qy,e.count,!1,!0),a.lineWidth=2*e.borderWidth*c,a.lineCap="round",a.strokeStyle="rgba("+(0|e.borderColor.q)+","+(0|e.borderColor.p)+","+(0|e.borderColor.n)+","+e.borderColor.O/255+")",q.Ce.de(e.qy,e.count,!0,!1))}},tC:function(a,c,d,e,f,g){f=f||this.k1;g=g||this.Xw();null==g.O&&(g.O=255);for(var h=[],k=0,l=0;l<e;l++)h.push(q.a(Math.pow(1-k,2)*a.x+2*(1-k)*k*c.x+k*k*d.x,Math.pow(1-k,2)*a.y+2*(1-k)*k*c.y+k*k*d.y)),k+=1/e;h.push(q.a(d.x,
d.y));a=new q.Su(q.wg.vz);a.qy=h;a.lineWidth=f;a.fillColor=g;a.borderColor=g;a.v8=!0;a.lineCap="round";this.kb.push(a)},yS:function(a,c,d){var e=new q.Su(q.wg.GF);e.position=q.a(a.x,a.y);e.AD=c;e.color=d;this.kb.push(e)},CS:function(a,c,d,e){var f=new q.Su(q.wg.HF);f.from=q.a(a.x,a.y);f.Xl=q.a(c.x,c.y);f.AD=d?d:1;f.color=e?e:this.Xw();this.kb.push(f)},de:function(a,c,d,e){var f=new q.Su(q.wg.vz);f.qy=a;f.count=a.length;f.fillColor=c?c:this.Xw();f.borderWidth=d?d:1;f.borderColor=e?e:this.EI()?this.EI():
this.Xw();this.kb.push(f)},clear:function(){this.kb.length=0}});
q.zM=q.F.extend({zo:0,kb:null,nl:null,oH:null,nH:null,oa:null,Oa:!1,Ls:function(){return this.oa},Nl:function(a){this.oa=a},ctor:function(){q.F.prototype.ctor.call(this);this.kb=[];this.oa=new q.fm(q.Te,q.Se)},w:function(){return q.F.prototype.w.call(this)?(this.eh(q.Vh.g().Di(q.Z_)),this.pA(512),this.oH=q.ca.createBuffer(),this.Oa=!0):!1},KP:function(){var a=q.ca;q.Je(q.Mu);a.bindBuffer(a.ARRAY_BUFFER,this.oH);this.Oa&&(a.bufferData(a.ARRAY_BUFFER,this.nl,a.STREAM_DRAW),this.Oa=!1);var c=q.dc.BYTES_PER_ELEMENT;
a.vertexAttribPointer(q.We,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(q.Jq,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(q.Kq,2,a.FLOAT,!1,c,12);a.drawArrays(a.TRIANGLES,0,3*this.kb.length);q.Sh()},pA:function(a){if(this.kb.length+a>this.zo){var c=q.Vc.BYTES_PER_ELEMENT;this.zo+=Math.max(this.zo,a);if(null==this.kb||0===this.kb.length)this.kb=[],this.nl=new ArrayBuffer(c*this.zo),this.nH=new Uint8Array(this.nl);else{a=[];for(var d=new ArrayBuffer(c*this.zo),e=0;e<this.kb.length;e++)a[e]=new q.Vc(this.kb[e].O,
this.kb[e].n,this.kb[e].La,d,e*c);this.nH=new Uint8Array(d);this.kb=a;this.nl=d}}},Ya:function(){q.sk(this.oa.src,this.oa.Rb);this.Xc.tf();this.Xc.nL();this.KP()},yS:function(a,c,d){d={q:0|255*d.q,p:0|255*d.p,n:0|255*d.n,O:0|255*d.O};var e={B:{x:a.x-c,y:a.y-c},V:d,G:{Va:-1,ua:-1}},f={B:{x:a.x+c,y:a.y+c},V:d,G:{Va:1,ua:1}},g={B:{x:a.x+c,y:a.y-c},V:d,G:{Va:1,ua:-1}};this.kb.push(new q.Vc(e,{B:{x:a.x-c,y:a.y+c},V:d,G:{Va:-1,ua:1}},f,this.nl,this.kb.length*q.Vc.BYTES_PER_ELEMENT));this.kb.push(new q.Vc(e,
f,g,this.nl,this.kb.length*q.Vc.BYTES_PER_ELEMENT));this.Oa=!0},CS:function(a,c,d,e){this.pA(18);e={q:0|255*e.q,p:0|255*e.p,n:0|255*e.n,O:0|255*e.O};var f=q.Ki(a);c=q.Ki(c);a=q.CE(q.py(q.Ed(c,f)));var g=q.py(a),h=q.tg(a,d);d=q.tg(g,d);var k=q.ih(c,q.Ed(h,d)),l=q.Ed(c,h),m=q.ih(c,h),p=q.Ed(f,h),s=q.ih(f,h),u=q.Ed(f,q.Ed(h,d)),f=q.ih(f,q.ih(h,d)),w=q.Vc.BYTES_PER_ELEMENT,x=this.nl;this.kb.push(new q.Vc({B:q.Ed(c,q.ih(h,d)),V:e,G:q.Lb(q.Aj(q.ih(a,g)))},{B:k,V:e,G:q.Lb(q.Ed(a,g))},{B:l,V:e,G:q.Lb(q.Aj(a))},
x,this.kb.length*w));this.kb.push(new q.Vc({B:m,V:e,G:q.Lb(a)},{B:k,V:e,G:q.Lb(q.Ed(a,g))},{B:l,V:e,G:q.Lb(q.Aj(a))},x,this.kb.length*w));this.kb.push(new q.Vc({B:m,V:e,G:q.Lb(a)},{B:p,V:e,G:q.Lb(q.Aj(a))},{B:l,V:e,G:q.Lb(q.Aj(a))},x,this.kb.length*w));this.kb.push(new q.Vc({B:m,V:e,G:q.Lb(a)},{B:p,V:e,G:q.Lb(q.Aj(a))},{B:s,V:e,G:q.Lb(a)},x,this.kb.length*w));this.kb.push(new q.Vc({B:u,V:e,G:q.Lb(q.Ed(g,a))},{B:p,V:e,G:q.Lb(q.Aj(a))},{B:s,V:e,G:q.Lb(a)},x,this.kb.length*w));this.kb.push(new q.Vc({B:u,
V:e,G:q.Lb(q.Ed(g,a))},{B:f,V:e,G:q.Lb(q.ih(a,g))},{B:s,V:e,G:q.Lb(a)},x,this.kb.length*w));this.Oa=!0},de:function(a,c,d,e){c={q:0|255*c.q,p:0|255*c.p,n:0|255*c.n,O:0|255*c.O};e={q:0|255*e.q,p:0|255*e.p,n:0|255*e.n,O:0|255*e.O};var f=[],g,h,k,l,m=a.length;for(g=0;g<m;g++){h=q.Ki(a[(g-1+m)%m]);k=q.Ki(a[g]);l=q.Ki(a[(g+1)%m]);var p=q.CE(q.py(q.Ed(k,h)));k=q.CE(q.py(q.Ed(l,k)));f[g]={offset:q.tg(q.ih(p,k),1/(q.FY(p,k)+1)),OJ:k}}p=0<d;this.pA(3*(3*m-2));var s=q.Vc.BYTES_PER_ELEMENT,u=this.nl,w=this.kb,
x=!1==p?0.5:0;for(g=0;g<m-2;g++)h=q.Ed(q.Ki(a[0]),q.tg(f[0].offset,x)),k=q.Ed(q.Ki(a[g+1]),q.tg(f[g+1].offset,x)),l=q.Ed(q.Ki(a[g+2]),q.tg(f[g+2].offset,x)),w.push(new q.Vc({B:h,V:c,G:q.Lb({x:0,y:0})},{B:k,V:c,G:q.Lb({x:0,y:0})},{B:l,V:c,G:q.Lb({x:0,y:0})},u,w.length*s));for(g=0;g<m;g++){x=(g+1)%m;h=q.Ki(a[g]);k=q.Ki(a[x]);l=f[g].OJ;var E=f[g].offset,I=f[x].offset,x=p?q.Ed(h,q.tg(E,d)):q.Ed(h,q.tg(E,0.5)),D=p?q.Ed(k,q.tg(I,d)):q.Ed(k,q.tg(I,0.5));h=p?q.ih(h,q.tg(E,d)):q.ih(h,q.tg(E,0.5));k=p?q.ih(k,
q.tg(I,d)):q.ih(k,q.tg(I,0.5));p?(w.push(new q.Vc({B:x,V:e,G:q.Lb(q.Aj(l))},{B:D,V:e,G:q.Lb(q.Aj(l))},{B:k,V:e,G:q.Lb(l)},u,w.length*s)),w.push(new q.Vc({B:x,V:e,G:q.Lb(q.Aj(l))},{B:h,V:e,G:q.Lb(l)},{B:k,V:e,G:q.Lb(l)},u,w.length*s))):(w.push(new q.Vc({B:x,V:c,G:q.Lb({x:0,y:0})},{B:D,V:c,G:q.Lb({x:0,y:0})},{B:k,V:c,G:q.Lb(l)},u,w.length*s)),w.push(new q.Vc({B:x,V:c,G:q.Lb({x:0,y:0})},{B:h,V:c,G:q.Lb(l)},{B:k,V:c,G:q.Lb(l)},u,w.length*s)))}this.Oa=!0},clear:function(){this.kb.length=0;this.Oa=!0}});
q.wg=q.Ja.cd?q.zM:q.yM;q.wg.create=function(){var a=new q.wg;return a&&a.w()?a:null};q.Su=function(a){this.type=a};q.wg.GF=0;q.wg.HF=1;q.wg.vz=2;q.rt=-1;q.bL=function(a,c){a.eh(c);var d=a.C;if(d)for(var e=0;e<d.length;e++)q.bL(d[e],c)};
q.Ab=q.F.extend({Ec:null,om:0,Xi:!1,oG:!1,ctor:function(){q.F.prototype.ctor.call(this);this.Ec=null;this.om=0;this.Xi=!1},w:null,FA:function(a){this.Ec=a;this.om=1;this.Xi=!1;q.Ab.HA=!0;q.Ab.HA&&(q.rt=q.ca.getParameter(q.ca.STENCIL_BITS),0>=q.rt&&q.log("Stencil buffer is not enabled."),q.Ab.HA=!1);return!0},EA:function(a){this.Ec=a;this.om=1;this.Xi=!1},Zg:function(){q.F.prototype.Zg.call(this);this.Ec.Zg()},Bi:function(){q.F.prototype.Bi.call(this);this.Ec.Bi()},Mh:function(){this.Ec.Mh();q.F.prototype.Mh.call(this)},
ge:function(){this.Ec.ge();q.F.prototype.ge.call(this)},Ba:null,bn:function(a){var c=a||q.ca;if(1>q.rt)q.F.prototype.Ba.call(this,a);else if(this.Ec&&this.Ec.ya)if(q.Ab.Ir=-1,q.Ab.Ir+1==q.rt)q.Ab.YB=!0,q.Ab.YB&&(q.log("Nesting more than "+q.rt+"stencils is not supported. Everything will be drawn without stencil for this node and its childs."),q.Ab.YB=!1),q.F.prototype.Ba.call(this,a);else{q.Ab.Ir++;var d=1<<q.Ab.Ir,e=d|d-1,f=c.isEnabled(c.STENCIL_TEST),g=c.getParameter(c.STENCIL_WRITEMASK),h=c.getParameter(c.STENCIL_FUNC),
k=c.getParameter(c.STENCIL_REF),l=c.getParameter(c.STENCIL_VALUE_MASK),m=c.getParameter(c.STENCIL_FAIL),p=c.getParameter(c.STENCIL_PASS_DEPTH_FAIL),s=c.getParameter(c.STENCIL_PASS_DEPTH_PASS);c.enable(c.STENCIL_TEST);c.stencilMask(d);var u=c.getParameter(c.DEPTH_WRITEMASK);c.depthMask(!1);c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.Xi?c.REPLACE:c.ZERO,c.KEEP,c.KEEP);q.Ce.uC(q.Gj(),q.jV(),q.Kw(1,1,1,1));c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.Xi?c.ZERO:c.REPLACE,c.KEEP,c.KEEP);if(1>this.om){var d=
q.Vh.g().Di(q.a0),w=c.getUniformLocation(d.ax(),q.y0);q.s7(d.ax());d.mL(w,this.om);q.bL(this.Ec,d)}q.dq();this.transform();this.Ec.Ba();q.cq();c.depthMask(u);c.stencilFunc(c.EQUAL,e,e);c.stencilOp(c.KEEP,c.KEEP,c.KEEP);q.F.prototype.Ba.call(this,a);c.stencilFunc(h,k,l);c.stencilOp(m,p,s);c.stencilMask(g);f||c.disable(c.STENCIL_TEST);q.Ab.Ir--}else this.Xi&&q.F.prototype.Ba.call(this,a)},an:function(a){if(this.Ec&&this.Ec.ya){if(this.Sz()||this.Ec instanceof q.v){a=a||q.ca;var c=a.canvas,d=q.Ab.KO();
d.width=c.width;d.height=c.height;d.getContext("2d").drawImage(c,0,0);a.save();this._super(a);a.globalCompositeOperation=this.Xi?"destination-out":"destination-in";this.transform(a);this.Ec.Ba();a.restore();a.save();a.setTransform(1,0,0,1,0,0);a.globalCompositeOperation="destination-over";a.drawImage(d,0,0)}else{a=a||q.ca;var d=this.C,e;a.save();this.transform(a);this.Ec.Ba(a);a.clip();this.Sz(!0);var f=d.length;if(0<f){this.je();for(c=0;c<f;c++)if(e=d[c],0>e.nb)e.Ba(a);else break;for(this.Ya(a);c<
f;c++)d[c].Ba(a)}else this.Ya(a);this.Sz(!1)}a.restore()}else this.Xi&&q.F.prototype.Ba.call(this,a)},I6:function(){return this.Ec},cE:null,oQ:function(a){this.Ec=a},nQ:function(a){this.Ec=a;var c=q.qa.g().va,d=q.qa.g().Da,e=q.ca;!(a instanceof q.v)&&a instanceof q.wg&&(a.Ya=function(){for(var f=0;f<a.kb.length;f++){var g=a.kb[f].qy,h=g[0];e.beginPath();e.moveTo(h.x*c,-h.y*d);for(var h=1,k=g.length;h<k;h++)e.lineTo(g[h].x*c,-g[h].y*d)}})},U3:function(){return this.om},iaa:function(a){this.om=a},e8:function(){return this.Xi},
Qaa:function(a){this.Xi=a},Sz:function(a){if(!0===a||!1===a)q.Ab.prototype.oG=a;return q.Ab.prototype.oG}});q.Ja.cd?(q.Ab.prototype.w=q.Ab.prototype.FA,q.Ab.prototype.Ba=q.Ab.prototype.bn,q.Ab.prototype.cE=q.Ab.prototype.oQ):(q.Ab.prototype.w=q.Ab.prototype.EA,q.Ab.prototype.Ba=q.Ab.prototype.an,q.Ab.prototype.cE=q.Ab.prototype.nQ);q.Ab.HA=null;q.Ab.YB=null;q.Ab.Ir=null;q.Ab.dH=null;q.Ab.KO=function(){return q.Ab.dH||(q.Ab.dH=document.createElement("canvas"))};
q.Ab.create=function(a){var c=new q.Ab;c.w(a);return c};q.ZZ=0;q.$Z=1;q.a_=2;q.io=function(a){a-=1;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;return(a|a>>16)+1};
q.vb=q.F.extend({Ao:null,Bo:null,sv:0,dr:0,Xv:0,Ha:null,ls:null,FQ:null,Yf:q.Jj,Bb:null,gv:0,Oj:null,Yz:0,Zz:0,Pq:!1,Xz:null,ctor:null,Wh:function(){q.F.prototype.ctor.call(this);this.Oj=q.Kw(1,1,1,1);this.Xz="rgba(255,255,255,1)";this.Ao=document.createElement("canvas");this.Bo=this.Ao.getContext("2d");this.A(0,0)},Xh:function(){q.F.prototype.ctor.call(this);this.Oj=q.Kw(0,0,0,0)},fg:null,nO:function(){q.F.prototype.ge.call(this);this.Ao=this.Bo=null},oO:function(){q.F.prototype.ge.call(this);this.ls=
null;var a=q.ca;a.deleteFramebuffer(this.sv);this.dr&&a.deleteRenderbuffer(this.dr);this.FQ=null},wT:function(){return this.Bb},mt:function(a){this.Bb=a},cD:null,VO:function(a,c){var d=this.Ao,e=q.ed();d.width=0|a*e;d.height=0|c*e;this.Bo.translate(0,d.height);e=new q.ic;e.nf(d);e.ee();this.Bb=q.v.Ma(e);return!0},WO:function(a,c,d,e){d==q.Eq&&q.log("cc.RenderTexture._initWithWidthAndHeightForWebGL() : only RGB and RGBA formats are valid for a render texture;");var f=q.ca,g=q.ed();a=0|a*g;c=0|c*g;
this.Xv=f.getParameter(f.FRAMEBUFFER_BINDING);var h;q.Ue.g().is?(g=a,h=c):(g=q.io(a),h=q.io(c));for(var k=new Uint8Array(g*h*4),l=0;l<g*h*4;l++)k[l]=0;this.Yf=d;this.Ha=new q.ic;if(!this.Ha)return!1;l=this.Ha;l.fx(k,this.Yf,g,h,q.size(a,c));d=f.getParameter(f.RENDERBUFFER_BINDING);if(q.Ue.g().Ip("GL_QCOM")){this.ls=new q.ic;if(!this.ls)return!1;this.ls.fx(k,this.Yf,g,h,q.size(a,c))}this.sv=f.createFramebuffer();f.bindFramebuffer(f.FRAMEBUFFER,this.sv);f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,
f.TEXTURE_2D,l.oi,0);0!=e&&(this.dr=f.createRenderbuffer(),f.bindRenderbuffer(f.RENDERBUFFER,this.dr),f.renderbufferStorage(f.RENDERBUFFER,e,g,h),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,this.dr));f.checkFramebufferStatus(f.FRAMEBUFFER)!==f.FRAMEBUFFER_COMPLETE&&q.log("Could not attach texture to the framebuffer");l.AK();a=this.Bb=q.v.Ma(l);a.Qn(-1);a.Nl(f.ONE,f.ONE_MINUS_SRC_ALPHA);f.bindRenderbuffer(f.RENDERBUFFER,d);f.bindFramebuffer(f.FRAMEBUFFER,this.Xv);this.Pq=
!1;this.f(a);return!0},nk:null,dO:function(){q.ca=this.Bo;q.Ce.dL(q.ca);q.qa.g().kQ()},eO:function(){q.un(q.mu);q.dq();q.un(q.lu);q.dq();var a=q.fa.g();a.Px(a.fl);var c=this.Ha.Ca,d=q.fa.g().FT(),a=d.width/c.width,d=d.height/c.height,e=q.ca;e.viewport(0,0,c.width,c.height);c=new q.Kh;q.HU(c,-1/a,1/a,-1/d,1/d,-1,1);q.mx(c);this.Xv=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,this.sv);q.Ue.g().Ip("GL_QCOM")&&(e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,
this.ls.oi,0),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.Ha.oi,0))},hC:function(a,c,d,e,f,g){var h=q.ca;f=f||h.COLOR_BUFFER_BIT;g=g||h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT;this.Pz(a,c,d,e,f,g,h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT|h.STENCIL_BUFFER_BIT)},Pz:null,fO:function(a,c,d,e){this.nk();a=a||0;c=c||0;d=d||0;e=isNaN(e)?1:e;var f=this.Bo,g=this.Ao;f.save();f.fillStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+
e+")";f.clearRect(0,0,g.width,-g.height);f.fillRect(0,0,g.width,-g.height);f.restore()},gO:function(a,c,d,e,f,g,h){this.nk();var k=q.ca,l=[0,0,0,0],m=0,p=0;h&k.COLOR_BUFFER_BIT&&(l=k.getParameter(k.COLOR_CLEAR_VALUE),k.clearColor(a,c,d,e));h&k.DEPTH_BUFFER_BIT&&(m=k.getParameter(k.DEPTH_CLEAR_VALUE),k.clearDepth(f));h&k.STENCIL_BUFFER_BIT&&(p=k.getParameter(k.STENCIL_CLEAR_VALUE),k.clearStencil(g));k.clear(h);h&k.COLOR_BUFFER_BIT&&k.clearColor(l[0],l[1],l[2],l[3]);h&k.DEPTH_BUFFER_BIT&&k.clearDepth(m);
h&k.STENCIL_BUFFER_BIT&&k.clearStencil(p)},end:null,DO:function(){q.ca=q.MU;q.Ce.dL(q.ca);q.qa.g().NP()},EO:function(){var a=q.ca,c=q.fa.g();a.bindFramebuffer(a.FRAMEBUFFER,this.Xv);c.qL();q.un(q.mu);q.cq();q.un(q.lu);q.cq()},clear:function(a,c,d,e){this.hC(a,c,d,e);this.end()},clearRect:null,sO:function(a,c,d,e){this.Bo.clearRect(a,c,d,-e)},tO:function(){},clearDepth:null,qO:function(){q.log("clearDepth isn't supported on Cocos2d-Html5")},rO:function(a){this.nk();var c=q.ca,d=c.getParameter(c.DEPTH_CLEAR_VALUE);
c.clearDepth(a);c.clear(c.DEPTH_BUFFER_BIT);c.clearDepth(d);this.end()},clearStencil:null,uO:function(){q.log("clearDepth isn't supported on Cocos2d-Html5")},vO:function(a){var c=q.ca,d=c.getParameter(c.STENCIL_CLEAR_VALUE);c.clearStencil(a);c.clear(c.STENCIL_BUFFER_BIT);c.clearStencil(d)},Ba:null,an:function(a){this.ya&&(a=a||q.ca,a.save(),this.Ya(a),this.transform(a),this.Bb.Ba(),a.restore(),this.Wf=0)},bn:function(a){if(this.ya){q.dq();var c=this.Vk;c&&c.aq()&&(c.gC(),this.jy());this.transform(a);
this.Bb.Ba();this.Ya(a);c&&c.aq()&&c.cC(this);q.cq();this.Wf=0}},Ya:null,Rj:function(a){a=a||q.ca;if(this.Pq){this.nk();if(this.gv){var c=this.Ao;a.save();a.fillStyle=this.Xz;a.clearRect(0,0,c.width,-c.height);a.fillRect(0,0,c.width,-c.height);a.restore()}this.je();a=this.C;for(var c=a.length,d=this.Bb,e=0;e<c;e++){var f=a[e];f!=d&&f.Ba()}this.end()}},Eg:function(){var a=q.ca;if(this.Pq){this.nk();var c=this.gv;if(c){var d=[0,0,0,0],e=0,f=0;c&a.COLOR_BUFFER_BIT&&(d=a.getParameter(a.COLOR_CLEAR_VALUE),
a.clearColor(this.Oj.q,this.Oj.p,this.Oj.n,this.Oj.O));c&a.DEPTH_BUFFER_BIT&&(e=a.getParameter(a.DEPTH_CLEAR_VALUE),a.clearDepth(this.Yz));c&a.STENCIL_BUFFER_BIT&&(f=a.getParameter(a.STENCIL_CLEAR_VALUE),a.clearStencil(this.Zz));a.clear(c);c&a.COLOR_BUFFER_BIT&&a.clearColor(d[0],d[1],d[2],d[3]);c&a.DEPTH_BUFFER_BIT&&a.clearDepth(e);c&a.STENCIL_BUFFER_BIT&&a.clearStencil(f)}this.je();a=this.C;for(c=0;c<a.length;c++)d=a[c],d!=this.Bb&&d.Ba();this.end()}},PJ:null,lP:function(){q.log("saveToFile isn't supported on Cocos2d-Html5");
return null},mP:function(){q.log("saveToFile isn't supported on Cocos2d-Html5");q.Dt(this.Yf==q.Jj,"only RGBA8888 can be saved as image");if(!this.Ha)return null;var a=this.Ha.Ca,c=a.width,a=a.height,d=new q.IM,e=q.ca,f=new Uint8Array(c*a*4);if(!f)return d;var g=new Uint8Array(c*a*4);if(!g)return null;this.nk();e.pixelStorei(e.PACK_ALIGNMENT,1);e.readPixels(0,0,c,a,e.RGBA,e.UNSIGNED_BYTE,g);this.end();for(e=0;e<a;++e)this.jP(f,e*c*4,g,(a-e-1)*c*4,4*c);d.E7(f,c*a*4,q.SZ,c,a,8);return d},jP:function(a,
c,d,e,f){for(var g=0;g<f;g++)a[c+g]=d[e+g]},X$:function(){q.log("saveToFile isn't supported on Cocos2d-Html5")},S8:function(){q.log("listenToBackground isn't supported on Cocos2d-Html5")},T8:function(){q.log("listenToForeground isn't supported on Cocos2d-Html5")},s4:function(){return this.gv},paa:function(a){this.gv=a},q4:function(){return this.Oj},HK:null,VP:function(a){var c=this.Oj;c.q=a.q;c.p=a.p;c.n=a.n;c.O=a.O;this.Xz="rgba("+(0|255*a.q)+","+(0|255*a.p)+","+(0|255*a.n)+","+a.O+")"},WP:function(a){var c=
this.Oj;c.q=a.q;c.p=a.p;c.n=a.n;c.O=a.O},r4:function(){return this.Yz},oaa:function(a){this.Yz=a},t4:function(){return this.Zz},qaa:function(a){this.Zz=a},P7:function(){return this.Pq},kaa:function(a){this.Pq=a}});
q.Ja.cd?(b=q.vb.prototype,b.ctor=q.vb.prototype.Xh,b.fg=q.vb.prototype.oO,b.cD=q.vb.prototype.WO,b.nk=q.vb.prototype.eO,b.Pz=q.vb.prototype.gO,b.end=q.vb.prototype.EO,b.clearRect=q.vb.prototype.tO,b.clearDepth=q.vb.prototype.rO,b.clearStencil=q.vb.prototype.vO,b.Ba=q.vb.prototype.bn,b.Ya=q.vb.prototype.Eg,b.PJ=q.vb.prototype.mP,b.HK=q.vb.prototype.WP):(b=q.vb.prototype,b.ctor=q.vb.prototype.Wh,b.fg=q.vb.prototype.nO,b.cD=q.vb.prototype.VO,b.nk=q.vb.prototype.dO,b.Pz=q.vb.prototype.fO,b.end=q.vb.prototype.DO,
b.clearRect=q.vb.prototype.sO,b.clearDepth=q.vb.prototype.qO,b.clearStencil=q.vb.prototype.uO,b.Ba=q.vb.prototype.an,b.Ya=q.vb.prototype.Rj,b.PJ=q.vb.prototype.lP,b.HK=q.vb.prototype.VP);q.vb.create=function(a,c,d,e){d=d||q.Jj;e=e||0;var f=new q.vb;return f&&f.cD(a,c,d,e)?f:null};q.$n=-1;
q.Ud=q.Na.extend({Hm:null,Z:null,Cd:q.$n,ctor:function(){this.Z=this.Hm=null;this.Cd=q.$n},description:function(){return"\x3ccc.Action | Tag \x3d "+this.Cd+"\x3e"},copy:function(){return q.clone(this)},clone:function(){var a=new q.Ud;a.Hm=null;a.Z=null;a.Cd=this.Cd;return a},xi:function(){return!0},ha:function(a){this.Z=this.Hm=a},stop:function(){this.Z=null},step:function(){q.log("[Action step]. override me")},update:function(){q.log("[Action update]. override me")},AT:function(){return this.Z},Iba:function(a){this.Z=
a},R5:function(){return this.Hm},lba:function(a){this.Hm=a},zT:function(){return this.Cd},kL:function(a){this.Cd=a},wK:function(){},oK:function(){}});q.Ud.create=function(){return new q.Ud};q.Fj=q.Ud.extend({Ga:0,ctor:function(){q.Ud.prototype.ctor.call(this);this.Ga=0},Ff:function(){return this.Ga},Baa:function(a){this.Ga=a},reverse:function(){q.log("cocos2d: FiniteTimeAction#reverse: Implement me");return null},clone:function(){return new q.Fj}});
q.Cu=q.Ud.extend({Pm:0,Mb:null,ctor:function(){q.Ud.prototype.ctor.call(this);this.Pm=0;this.Mb=null},B6:function(){return this.Pm},Bba:function(a){this.Pm=a},wa:function(a,c){if(!a)throw"cc.Speed.initWithAction(): action must be non nil";this.Mb=a;this.Pm=c;return!0},clone:function(){var a=new q.Cu;a.wa(this.Mb.clone(),this.Pm);return a},ha:function(a){q.Ud.prototype.ha.call(this,a);this.Mb.ha(a)},stop:function(){this.Mb.stop();q.Ud.prototype.stop.call(this)},step:function(a){this.Mb.step(a*this.Pm)},
xi:function(){return this.Mb.xi()},reverse:function(){return q.Cu.create(this.Mb.reverse(),this.Pm)},QK:function(a){this.Mb!=a&&(this.Mb=a)},DC:function(){return this.Mb}});q.Cu.create=function(a,c){var d=new q.Cu;return d&&d.wa(a,c)?d:null};
q.Qy=q.Ud.extend({To:null,xo:!1,bv:!1,yv:null,xr:null,vn:0,Mn:0,Vn:0,ln:0,$B:null,ctor:function(){q.Ud.prototype.ctor.call(this);this.To=null;this.bv=this.xo=!1;this.xr=this.yv=null;this.ln=this.Vn=this.Mn=this.vn=0;this.$B=q.wd()},clone:function(){var a=new q.Qy,c=this.$B,c=new q.yg(c.x,c.y,c.width,c.height);a.Ug(this.To,c);return a},R7:function(){return this.xo},maa:function(a){this.xo=a},Ug:function(a,c){if(!a)throw"cc.Follow.initWithAction(): followedNode must be non nil";c=c||q.wd();this.To=
a;this.$B=c;this.xo=!q.Tr(c);this.bv=!1;var d=q.fa.g().bc;this.xr=q.a(d.width,d.height);this.yv=q.tj(this.xr,0.5);this.xo&&(this.vn=-(c.x+c.width-this.xr.x),this.Mn=-c.x,this.Vn=-c.y,this.ln=-(c.y+c.height-this.xr.y),this.Mn<this.vn&&(this.Mn=this.vn=(this.vn+this.Mn)/2),this.Vn<this.ln&&(this.Vn=this.ln=(this.Vn+this.ln)/2),this.Vn==this.ln&&this.vn==this.Mn&&(this.bv=!0));return!0},step:function(){var a=this.To.u.H,c=this.To.u.S,a=this.yv.x-a,c=this.yv.y-c;this.xo?this.bv||this.Z.l(q.Cs(a,this.vn,
this.Mn),q.Cs(c,this.ln,this.Vn)):this.Z.l(a,c)},xi:function(){return!this.To.bf},stop:function(){this.Z=null;q.Ud.prototype.stop.call(this)}});q.Qy.create=function(a,c){c=c||new q.wd;var d=new q.Qy;return null!=c&&d&&d.Ug(a,c)||d&&d.Ug(a)?d:null};q.Y=q.Fj.extend({uc:0,wr:!1,ctor:function(){q.Fj.prototype.ctor.call(this);this.uc=0;this.wr=!1},K4:function(){return this.uc},X:function(a){this.Ga=0===a?q.fu:a;this.uc=0;return this.wr=!0},xi:function(){return this.uc>=this.Ga},clone:function(){var a=new q.Y;a.X(this.Ga);return a},step:function(a){this.wr?(this.wr=!1,this.uc=0):this.uc+=a;a=this.uc/(1.192092896E-7<this.Ga?this.Ga:1.192092896E-7);a=1>a?a:1;this.update(0<a?a:0)},ha:function(a){q.Ud.prototype.ha.call(this,a);this.uc=0;this.wr=!0},
reverse:function(){q.log("cc.IntervalAction: reverse not implemented.");return null},jaa:function(){q.log("cc.ActionInterval.setAmplitudeRate(): it should be overridden in subclass.")},V3:function(){q.log("cc.ActionInterval.getAmplitudeRate(): it should be overridden in subclass.")}});q.Y.create=function(a){var c=new q.Y;c.X(a);return c};
q.Ij=q.Y.extend({Li:null,zB:null,ap:0,ctor:function(){q.Y.prototype.ctor.call(this);this.Li=[];this.zB=null;this.ap=0},Xs:function(a,c){if(!a||!c)throw"cc.Sequence.initWithTwoActions(): arguments must all be non nil";this.X(a.Ff()+c.Ff());this.Li[0]=a;this.Li[1]=c;return!0},clone:function(){var a=new q.Ij;a.Xs(this.Li[0].clone(),this.Li[1].clone());return a},ha:function(a){q.Y.prototype.ha.call(this,a);this.zB=this.Li[0].Ff()/this.Ga;this.ap=-1},stop:function(){-1!==this.ap&&this.Li[this.ap].stop();
q.Ud.prototype.stop.call(this)},update:function(a){var c=0,d=this.zB,e=this.Li,f=this.ap;a<d?(a=0!==d?a/d:1,0===c&&1===f&&(e[1].update(0),e[1].stop())):(c=1,a=1===d?1:(a-d)/(1-d),-1===f&&(e[0].ha(this.Z),e[0].update(1),e[0].stop()),f||(e[0].update(1),e[0].stop()));f===c&&e[c].xi()||(f!==c&&e[c].ha(this.Z),e[c].update(a),this.ap=c)},reverse:function(){return q.Ij.lm(this.Li[1].reverse(),this.Li[0].reverse())},copy:function(){return this.clone()}});
q.Ij.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&q.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)c[e]&&(d=q.Ij.lm(d,c[e]));return d};q.Ij.lm=function(a,c){var d=new q.Ij;d.Xs(a,c);return d};
q.tu=q.Y.extend({cg:0,hk:0,Uv:0,QF:!1,Mb:null,ctor:function(){q.Y.prototype.ctor.call(this);this.Uv=this.hk=this.cg=0;this.QF=!1;this.Mb=null},wa:function(a,c){return this.X(a.Ff()*c)?(this.cg=c,this.Mb=a,a instanceof q.Fi&&(this.cg-=1),this.hk=0,!0):!1},clone:function(){var a=new q.tu;a.wa(this.Mb.clone(),this.cg);return a},ha:function(a){this.hk=0;this.Uv=this.Mb.Ff()/this.Ga;q.Y.prototype.ha.call(this,a);this.Mb.ha(a)},stop:function(){this.Mb.stop();q.Ud.prototype.stop.call(this)},update:function(a){var c=
this.Mb,d=this.Ga,e=this.cg,f=this.Uv;if(a>=f){for(;a>f&&this.hk<e;)c.update(1),this.hk++,c.stop(),c.ha(this.Z),this.Uv=f+=c.Ff()/d;1<=a&&this.hk<e&&this.hk++;this.QF&&(this.hk==e?(c.update(1),c.stop()):c.update(a-(f-c.Ff()/d)))}else c.update(a*e%1)},xi:function(){return this.hk==this.cg},reverse:function(){return q.tu.create(this.Mb.reverse(),this.cg)},QK:function(a){this.Mb!=a&&(this.Mb=a)},DC:function(){return this.Mb}});q.tu.create=function(a,c){var d=new q.tu;d.wa(a,c);return d};
q.uu=q.Y.extend({Mb:null,ctor:function(){q.Y.prototype.ctor.call(this);this.Mb=null},wa:function(a){if(!a)throw"cc.RepeatForever.initWithAction(): action must be non null";this.Mb=a;return!0},clone:function(){var a=new q.uu;a.wa(this.Mb.clone());return a},ha:function(a){q.Y.prototype.ha.call(this,a);this.Mb.ha(a)},step:function(a){var c=this.Mb;c.step(a);c.xi()&&(c.ha(this.Z),c.step(c.uc-c.Ff()))},xi:function(){return!1},reverse:function(){return q.uu.create(this.Mb.reverse())},QK:function(a){this.Mb!=
a&&(this.Mb=a)},DC:function(){return this.Mb}});q.uu.create=function(a){var c=new q.uu;return c&&c.wa(a)?c:null};
q.Dq=q.Y.extend({dk:null,lk:null,ctor:function(){q.Y.prototype.ctor.call(this);this.lk=this.dk=null},Xs:function(a,c){if(!a||!c)throw"cc.Spawn.initWithTwoActions(): arguments must all be non null";var d=!1,e=a.Ff(),f=c.Ff();this.X(Math.max(e,f))&&(this.dk=a,this.lk=c,e>f?this.lk=q.Ij.lm(c,q.bo.create(e-f)):e<f&&(this.dk=q.Ij.lm(a,q.bo.create(f-e))),d=!0);return d},clone:function(){var a=new q.Dq;a.Xs(this.dk.clone(),this.lk.clone());return a},ha:function(a){q.Y.prototype.ha.call(this,a);this.dk.ha(a);
this.lk.ha(a)},stop:function(){this.dk.stop();this.lk.stop();q.Ud.prototype.stop.call(this)},update:function(a){this.dk&&this.dk.update(a);this.lk&&this.lk.update(a)},reverse:function(){return q.Dq.lm(this.dk.reverse(),this.lk.reverse())}});q.Dq.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&q.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)null!=c[e]&&(d=this.lm(d,c[e]));return d};
q.Dq.lm=function(a,c){var d=new q.Dq;d.Xs(a,c);return d};
q.hz=q.Y.extend({hr:0,Qm:0,jA:0,qv:0,jl:0,kA:0,ctor:function(){q.Y.prototype.ctor.call(this);this.kA=this.jl=this.qv=this.jA=this.Qm=this.hr=0},X:function(a,c,d){return q.Y.prototype.X.call(this,a)?(this.hr=c||0,this.qv=d||this.hr,!0):!1},clone:function(){var a=new q.hz;a.X(this.Ga,this.hr,this.qv);return a},ha:function(a){q.Y.prototype.ha.call(this,a);var c=a.Kg%360,d=this.hr-c;180<d&&(d-=360);-180>d&&(d+=360);this.Qm=c;this.jA=d;this.jl=a.fi%360;a=this.qv-this.jl;180<a&&(a-=360);-180>a&&(a+=360);
this.kA=a},reverse:function(){q.log("cc.RotateTo.reverse(): it should be overridden in subclass.")},update:function(a){this.Z&&(this.Z.Sx(this.Qm+this.jA*a),this.Z.Tx(this.jl+this.kA*a))}});q.hz.create=function(a,c,d){var e=new q.hz;e.X(a,c,d);return e};
q.wu=q.Y.extend({Ag:0,Qm:0,Oq:0,jl:0,ctor:function(){q.Y.prototype.ctor.call(this);this.jl=this.Oq=this.Qm=this.Ag=0},X:function(a,c,d){return q.Y.prototype.X.call(this,a)?(this.Ag=c||0,this.Oq=d||this.Ag,!0):!1},clone:function(){var a=new q.wu;a.X(this.Ga,this.Ag,this.Oq);return a},ha:function(a){q.Y.prototype.ha.call(this,a);this.Qm=a.Kg;this.jl=a.fi},update:function(a){this.Z&&(this.Z.Sx(this.Qm+this.Ag*a),this.Z.Tx(this.jl+this.Oq*a))},reverse:function(){return q.wu.create(this.Ga,-this.Ag,-this.Oq)}});
q.wu.create=function(a,c,d){var e=new q.wu;e.X(a,c,d);return e};
q.Ek=q.Y.extend({cj:null,hd:null,gd:null,ctor:function(){q.Y.prototype.ctor.call(this);this.cj=q.a(0,0);this.hd=q.a(0,0);this.gd=q.a(0,0)},X:function(a,c){return q.Y.prototype.X.call(this,a)?(this.cj.x=c.x,this.cj.y=c.y,!0):!1},clone:function(){var a=new q.Ek;a.X(this.Ga,this.cj);return a},ha:function(a){q.Y.prototype.ha.call(this,a);var c=a.u.H;a=a.u.S;this.gd.x=c;this.gd.y=a;this.hd.x=c;this.hd.y=a},update:function(a){if(this.Z){var c=this.cj.x*a;a*=this.cj.y;var d=this.hd;if(q.Kt){var e=this.Z.u.S,
f=this.gd;d.x=d.x+this.Z.u.H-f.x;d.y=d.y+e-f.y;c+=d.x;a+=d.y;this.Z.l(c,a);f.x=c;f.y=a}else this.Z.l(d.x+c,d.y+a)}},reverse:function(){return q.Ek.create(this.Ga,q.a(-this.cj.x,-this.cj.y))}});q.Ek.create=function(a,c){var d=new q.Ek;d.X(a,c);return d};
q.ou=q.Ek.extend({So:null,ctor:function(){q.Ek.prototype.ctor.call(this);this.So=q.a(0,0)},X:function(a,c){return q.Ek.prototype.X.call(this,a,c)?(this.So.x=c.x,this.So.y=c.y,!0):!1},clone:function(){var a=new q.ou;a.X(this.Ga,this.So);return a},ha:function(a){q.Ek.prototype.ha.call(this,a);this.cj.x=this.So.x-a.u.H;this.cj.y=this.So.y-a.u.S}});q.ou.create=function(a,c){var d=new q.ou;d.X(a,c);return d};
q.oo=q.Y.extend({Ae:0,Be:0,es:0,fs:0,qr:0,rr:0,Xe:0,Ye:0,ctor:function(){q.Y.prototype.ctor.call(this);this.Ye=this.Xe=this.rr=this.qr=this.fs=this.es=this.Be=this.Ae=0},X:function(a,c,d){var e=!1;q.Y.prototype.X.call(this,a)&&(this.qr=c,this.rr=d,e=!0);return e},clone:function(){var a=new q.oo;a.X(this.Ga,this.qr,this.rr);return a},ha:function(a){q.Y.prototype.ha.call(this,a);this.es=a.Ae%180;this.Xe=this.qr-this.es;180<this.Xe&&(this.Xe-=360);-180>this.Xe&&(this.Xe+=360);this.fs=a.Be%360;this.Ye=
this.rr-this.fs;180<this.Ye&&(this.Ye-=360);-180>this.Ye&&(this.Ye+=360)},update:function(a){this.Z.Ux(this.es+this.Xe*a);this.Z.Vx(this.fs+this.Ye*a)}});q.oo.create=function(a,c,d){var e=new q.oo;e&&e.X(a,c,d);return e};
q.Au=q.oo.extend({X:function(a,c,d){var e=!1;q.oo.prototype.X.call(this,a,c,d)&&(this.Ae=c,this.Be=d,e=!0);return e},clone:function(){var a=new q.Au;a.X(this.Ga,this.Ae,this.Be);return a},ha:function(a){q.oo.prototype.ha.call(this,a);this.Xe=this.Ae;this.Ye=this.Be;this.qr=this.es+this.Xe;this.rr=this.fs+this.Ye},reverse:function(){return q.Au.create(this.Ga,-this.Ae,-this.Be)}});q.Au.create=function(a,c,d){var e=new q.Au;e&&e.X(a,c,d);return e};
q.fo=q.Y.extend({hd:null,Dg:null,xa:0,Zo:0,gd:null,ctor:function(){q.Y.prototype.ctor.call(this);this.hd=q.a(0,0);this.gd=q.a(0,0);this.Dg=q.a(0,0);this.Zo=this.xa=0},X:function(a,c,d,e){return q.Y.prototype.X.call(this,a)?(this.Dg.x=c.x,this.Dg.y=c.y,this.xa=d,this.Zo=e,!0):!1},clone:function(){var a=new q.fo;a.X(this.Ga,this.Dg,this.xa,this.Zo);return a},ha:function(a){q.Y.prototype.ha.call(this,a);var c=a.u.H;a=a.u.S;this.gd.x=c;this.gd.y=a;this.hd.x=c;this.hd.y=a},update:function(a){if(this.Z){var c=
a*this.Zo%1,c=4*this.xa*c*(1-c),c=c+this.Dg.y*a;a*=this.Dg.x;var d=this.hd;if(q.Kt){var e=this.Z.u.S,f=this.gd;d.x=d.x+this.Z.u.H-f.x;d.y=d.y+e-f.y;a+=d.x;c+=d.y;this.Z.l(a,c);f.x=a;f.y=c}else this.Z.l(d.x+a,d.y+c)}},reverse:function(){return q.fo.create(this.Ga,q.a(-this.Dg.x,-this.Dg.y),this.xa,this.Zo)}});q.fo.create=function(a,c,d,e){var f=new q.fo;f.X(a,c,d,e);return f};
q.Ty=q.fo.extend({ha:function(a){q.fo.prototype.ha.call(this,a);this.Dg.x-=this.hd.x;this.Dg.y-=this.hd.y},clone:function(){var a=new q.Ty;a.X(this.Ga,this.Dg,this.xa,this.Zo);return a}});q.Ty.create=function(a,c,d,e){var f=new q.Ty;f.X(a,c,d,e);return f};q.TH=function(a,c,d,e){return 0*Math.pow(1-e,3)+3*e*Math.pow(1-e,2)*a+3*Math.pow(e,2)*(1-e)*c+Math.pow(e,3)*d};
q.em=q.Y.extend({um:null,hd:null,gd:null,ctor:function(){q.Y.prototype.ctor.call(this);this.um=[];this.hd=q.a(0,0);this.gd=q.a(0,0)},X:function(a,c){return q.Y.prototype.X.call(this,a)?(this.um=c,!0):!1},clone:function(){for(var a=new q.em,c=[],d=0;d<this.um.length;d++){var e=this.um[d];c.push(q.a(e.x,e.y))}a.X(this.Ga,c);return a},ha:function(a){q.Y.prototype.ha.call(this,a);var c=a.u.H;a=a.u.S;this.gd.x=c;this.gd.y=a;this.hd.x=c;this.hd.y=a},update:function(a){if(this.Z){var c=this.um,d=q.TH(c[0].x,
c[1].x,c[2].x,a);a=q.TH(c[0].y,c[1].y,c[2].y,a);c=this.hd;if(q.Kt){var e=this.Z.u.S,f=this.gd;c.x=c.x+this.Z.u.H-f.x;c.y=c.y+e-f.y;d+=c.x;a+=c.y;this.Z.l(d,a);f.x=d;f.y=a}else this.Z.l(c.x+d,c.y+a)}},reverse:function(){var a=this.um,a=[q.ah(a[1],q.vD(a[2])),q.ah(a[0],q.vD(a[2])),q.vD(a[2])];return q.em.create(this.Ga,a)}});q.em.create=function(a,c){var d=new q.em;d.X(a,c);return d};
q.zy=q.em.extend({vw:null,ctor:function(){q.em.prototype.ctor.call(this);this.vw=[]},X:function(a,c){return q.Y.prototype.X.call(this,a)?(this.vw=c,!0):!1},clone:function(){var a=new q.zy;a.X(this.Ga,this.vw);return a},ha:function(a){q.em.prototype.ha.call(this,a);a=this.hd;var c=this.vw,d=this.um;d[0]=q.Rd(c[0],a);d[1]=q.Rd(c[1],a);d[2]=q.Rd(c[2],a)}});q.zy.create=function(a,c){var d=new q.zy;d.X(a,c);return d};
q.no=q.Y.extend({va:1,Da:1,pp:1,qp:1,wm:0,xm:0,Xe:0,Ye:0,ctor:function(){q.Y.prototype.ctor.call(this);this.qp=this.pp=this.Da=this.va=1;this.Ye=this.Xe=this.xm=this.wm=0},X:function(a,c,d){return q.Y.prototype.X.call(this,a)?(this.wm=c,this.xm=null!=d?d:c,!0):!1},clone:function(){var a=new q.no;a.X(this.Ga,this.wm,this.xm);return a},ha:function(a){q.Y.prototype.ha.call(this,a);this.pp=a.va;this.qp=a.Da;this.Xe=this.wm-this.pp;this.Ye=this.xm-this.qp},update:function(a){this.Z&&this.Z.yk(this.pp+
this.Xe*a,this.qp+this.Ye*a)}});q.no.create=function(a,c,d){var e=new q.no;e.X(a,c,d);return e};q.yu=q.no.extend({ha:function(a){q.no.prototype.ha.call(this,a);this.Xe=this.pp*this.wm-this.pp;this.Ye=this.qp*this.xm-this.qp},reverse:function(){return q.yu.create(this.Ga,1/this.wm,1/this.xm)},clone:function(){var a=new q.yu;a.X(this.Ga,this.wm,this.xm);return a}});q.yu.create=function(a,c,d){var e=new q.yu;e.X(a,c,d);return e};
q.Et=q.Y.extend({cg:0,QA:!1,ctor:function(){q.Y.prototype.ctor.call(this);this.cg=0;this.QA=!1},X:function(a,c){return q.Y.prototype.X.call(this,a)?(this.cg=c,!0):!1},clone:function(){var a=new q.Et;a.X(this.Ga,this.cg);return a},update:function(a){if(this.Z&&!this.xi()){var c=1/this.cg;this.Z.D(a%c>c/2)}},ha:function(a){q.Y.prototype.ha.call(this,a);this.QA=a.ya},stop:function(){this.Z.D(this.QA);q.Y.prototype.stop.call(this)},reverse:function(){return q.Et.create(this.Ga,this.cg)}});
q.Et.create=function(a,c){var d=new q.Et;d.X(a,c);return d};q.gu=q.Y.extend({update:function(a){this.Z.ub&&this.Z.ta(255*a)},reverse:function(){return q.hu.create(this.Ga)},clone:function(){var a=new q.gu;a.X(this.Ga);return a}});q.gu.create=function(a){var c=new q.gu;c.X(a);return c};q.hu=q.Y.extend({update:function(a){this.Z.ub&&this.Z.ta(255*(1-a))},reverse:function(){return q.gu.create(this.Ga)},clone:function(){var a=new q.hu;a.X(this.Ga);return a}});
q.hu.create=function(a){var c=new q.hu;c.X(a);return c};q.Py=q.Y.extend({ww:null,vv:null,ctor:function(){q.Y.prototype.ctor.call(this);this.vv=this.ww=0},X:function(a,c){return q.Y.prototype.X.call(this,a)?(this.ww=c,!0):!1},clone:function(){var a=new q.Py;a.X(this.Ga,this.ww);return a},update:function(a){this.Z.ub&&this.Z.ta(this.vv+(this.ww-this.vv)*a)},ha:function(a){q.Y.prototype.ha.call(this,a);this.Z.ub&&(this.vv=a.mj())}});q.Py.create=function(a,c){var d=new q.Py;d.X(a,c);return d};
q.xz=q.Y.extend({Df:null,ve:null,ctor:function(){q.Y.prototype.ctor.call(this);this.Df=q.o(0,0,0);this.ve=q.o(0,0,0)},X:function(a,c,d,e){return q.Y.prototype.X.call(this,a)?(this.Df=q.o(c,d,e),!0):!1},clone:function(){var a=new q.xz,c=this.Df;a.X(this.Ga,c.q,c.p,c.n);return a},ha:function(a){q.Y.prototype.ha.call(this,a);this.Z.ub&&(this.ve=this.Z.Dd())},update:function(a){var c=this.ve,d=this.Df;this.Z.ub&&this.Z.r(q.o(c.q+(d.q-c.q)*a,c.p+(d.p-c.p)*a,c.n+(d.n-c.n)*a))}});
q.xz.create=function(a,c,d,e){var f=new q.xz;f.X(a,c,d,e);return f};
q.Hu=q.Y.extend({cr:0,br:0,ar:0,vA:0,uA:0,tA:0,ctor:function(){q.Y.prototype.ctor.call(this);this.tA=this.uA=this.vA=this.ar=this.br=this.cr=0},X:function(a,c,d,e){return q.Y.prototype.X.call(this,a)?(this.cr=c,this.br=d,this.ar=e,!0):!1},clone:function(){var a=new q.Hu;a.X(this.Ga,this.cr,this.br,this.ar);return a},ha:function(a){q.Y.prototype.ha.call(this,a);a.ub&&(a=a.Dd(),this.vA=a.q,this.uA=a.p,this.tA=a.n)},update:function(a){this.Z.ub&&this.Z.r(q.o(this.vA+this.cr*a,this.uA+this.br*a,this.tA+
this.ar*a))},reverse:function(){return q.Hu.create(this.Ga,-this.cr,-this.br,-this.ar)}});q.Hu.create=function(a,c,d,e){var f=new q.Hu;f.X(a,c,d,e);return f};q.bo=q.Y.extend({update:function(){},reverse:function(){return q.bo.create(this.Ga)},clone:function(){var a=new q.bo;a.X(this.Ga);return a}});q.bo.create=function(a){var c=new q.bo;c.X(a);return c};
q.vu=q.Y.extend({ek:null,ctor:function(){q.Y.prototype.ctor.call(this);this.ek=null},wa:function(a){if(!a)throw"cc.ReverseTime.initWithAction(): action must be non null";if(a==this.ek)throw"cc.ReverseTime.initWithAction(): the action was already passed in.";return q.Y.prototype.X.call(this,a.Ff())?(this.ek=a,!0):!1},clone:function(){var a=new q.vu;a.wa(this.ek.clone());return a},ha:function(a){q.Y.prototype.ha.call(this,a);this.ek.ha(a)},update:function(a){this.ek&&this.ek.update(1-a)},reverse:function(){return this.ek.clone()},
stop:function(){this.ek.stop();q.Ud.prototype.stop.call(this)}});q.vu.create=function(a){var c=new q.vu;c.wa(a);return c};
q.Bt=q.Y.extend({Lj:null,ep:0,Yv:null,sr:0,AB:null,ctor:function(){q.Y.prototype.ctor.call(this);this.Lj=null;this.ep=0;this.Yv=null;this.sr=0;this.AB=null},zI:function(){return this.Lj},LW:function(a){this.Lj=a},eJ:function(a){if(!a)throw"cc.Animate.initWithAnimation(): animation must be non-NULL";var c=a.Ff();if(this.X(c*a.bk)){this.ep=0;this.LW(a);this.Yv=null;this.sr=0;var d=[],e=0,f=c/a.Xm;a=a.ue;q.Ct(a,q.Cj);for(var g=0;g<a.length;g++){var h=e*f/c,e=e+a[g].se;d.push(h)}this.AB=d;return!0}return!1},
clone:function(){var a=new q.Bt;a.eJ(this.Lj.clone());return a},ha:function(a){q.Y.prototype.ha.call(this,a);this.Lj.Km&&(this.Yv=a.vS());this.sr=this.ep=0},update:function(a){1>a&&(a*=this.Lj.bk,(0|a)>this.sr&&(this.ep=0,this.sr++),a%=1);for(var c=this.Lj.ue,d=c.length,e=this.AB,f=this.ep;f<d;f++)if(e[f]<=a)this.Z.gq(c[f].Jh()),this.ep=f+1;else break},reverse:function(){var a=this.Lj,c=a.ue,d=[];q.Ct(c,q.Cj);if(0<c.length)for(var e=c.length-1;0<=e;e--){var f=c[e];if(!f)break;d.push(f.clone())}c=
q.Bj.ZH(d,a.se,a.bk);c.Qx(a.Km);return q.Bt.create(c)},stop:function(){this.Lj.Km&&this.Z&&this.Z.gq(this.Yv);q.Ud.prototype.stop.call(this)}});q.Bt.create=function(a){var c=new q.Bt;c.eJ(a);return c};
q.wz=q.Y.extend({Sf:null,ym:null,ctor:function(){q.Y.prototype.ctor.call(this);this.ym=this.Sf=null},Ug:function(a,c){return this.X(c.Ff())?(this.ym=a,this.Sf=c,!0):!1},clone:function(){var a=new q.wz;a.Ug(this.ym,this.Sf.clone());return a},ha:function(a){q.Y.prototype.ha.call(this,a);this.Sf.ha(this.ym)},stop:function(){this.Sf.stop()},update:function(a){this.Sf.update(a)},U4:function(){return this.ym},Faa:function(a){this.ym!=a&&(this.ym=a)}});
q.wz.create=function(a,c){var d=new q.wz;d.Ug(a,c);return d};q.Fi=q.Fj.extend({xi:function(){return!0},step:function(){this.update(1)},update:function(){},reverse:function(){return this.clone()},clone:function(){return new q.Fi}});q.zu=q.Fi.extend({update:function(){this.Z.D(!0)},reverse:function(){return q.ku.create()},clone:function(){return new q.zu}});q.zu.create=function(){return new q.zu};q.ku=q.Fi.extend({update:function(){this.Z.D(!1)},reverse:function(){return q.zu.create()},clone:function(){return new q.ku}});q.ku.create=function(){return new q.ku};
q.Iu=q.Fi.extend({update:function(){this.Z.D(!this.Z.ya)},reverse:function(){return new q.Iu},clone:function(){return new q.Iu}});q.Iu.create=function(){return new q.Iu};q.su=q.Fi.extend({Fr:!0,ctor:function(){q.Fj.prototype.ctor.call(this);this.Fr=!0},update:function(){this.Z.K(this.Fr)},w:function(a){this.Fr=a;return!0},reverse:function(){return new q.su(this.Fr)},clone:function(){return new q.su(this.Fr)}});q.su.create=function(a){null==a&&(a=!0);var c=new q.su;c&&c.w(a);return c};
q.iu=q.Fi.extend({jc:!1,ctor:function(){q.Fj.prototype.ctor.call(this);this.jc=!1},gJ:function(a){this.jc=a;return!0},update:function(){this.Z.cX(this.jc)},reverse:function(){return q.iu.create(!this.jc)},clone:function(){var a=new q.iu;a.gJ(this.jc);return a}});q.iu.create=function(a){var c=new q.iu;return c.gJ(a)?c:null};
q.ju=q.Fi.extend({kc:!1,ctor:function(){q.Fj.prototype.ctor.call(this);this.kc=!1},hJ:function(a){this.kc=a;return!0},update:function(){this.Z.dX(this.kc)},reverse:function(){return q.ju.create(!this.kc)},clone:function(){var a=new q.ju;a.hJ(this.kc);return a}});q.ju.create=function(a){var c=new q.ju;return c.hJ(a)?c:null};
q.cz=q.Fi.extend({u:null,ctor:function(){q.Fj.prototype.ctor.call(this);this.u=q.a(0,0)},jJ:function(a){this.u.x=a.x;this.u.y=a.y;return!0},update:function(){this.Z.l(this.u)},clone:function(){var a=new q.cz;a.jJ(this.u);return a}});q.cz.create=function(a){var c=new q.cz;c.jJ(a);return c};
q.vq=q.Fi.extend({yh:null,tm:null,Uk:null,Zq:null,ctor:function(){q.Fj.prototype.ctor.call(this);this.Zq=this.Uk=this.tm=this.yh=null},Ug:function(a,c,d){this.Zq=d;this.tm=a;this.yh=c;return!0},XC:function(a){this.Uk=a;return!0},execute:function(){null!=this.tm?this.tm.call(this.yh,this.Z,this.Zq):this.Uk&&this.Uk.call(null,this.Z)},update:function(){this.execute()},K6:function(){return this.yh},Jba:function(a){a!=this.yh&&(this.yh&&(this.yh=null),this.yh=a)},copy:function(){var a=new q.vq;this.yh?
a.Ug(this.tm,this.yh,this.Zq):this.Uk&&a.XC(this.Uk);return a},clone:function(){var a=new q.vq;this.yh?a.Ug(this.tm,this.yh,this.Zq):this.Uk&&a.XC(this.Uk);return a}});q.vq.create=function(a,c,d){var e=new q.vq;if(1==arguments.length){if(e&&e.XC(a))return e}else if(e&&e.Ug(a,c,d))return e.tm=a,e;return null};q.sy=q.Y.extend({Uz:0,Vz:0,Wz:0,gG:0,hG:0,iG:0,qH:0,rH:0,sH:0,ctor:function(){q.Y.prototype.ctor.call(this);this.sH=this.rH=this.qH=this.iG=this.hG=this.gG=this.Wz=this.Vz=this.Uz=0},ha:function(a){q.Y.prototype.ha.call(this,a);a=a.CC();var c=a.BI();this.Uz=c.x;this.Vz=c.y;this.Wz=c.z;c=a.DI();this.gG=c.x;this.hG=c.y;this.iG=c.z;a=a.DT();this.qH=a.x;this.rH=a.y;this.sH=a.z},clone:function(){return new q.sy},reverse:function(){return q.vu.create(this)}});
q.az=q.sy.extend({dj:0,ov:0,to:0,hA:0,Ag:0,gA:0,fB:0,dB:0,eB:0,cB:0,ctor:function(){q.sy.prototype.ctor.call(this);this.cB=this.eB=this.dB=this.fB=this.gA=this.Ag=this.hA=this.to=this.ov=this.dj=0},X:function(a,c,d,e,f,g,h){return q.Y.prototype.X.call(this,a)?(this.dj=c,this.ov=d,this.to=e,this.hA=f,this.Ag=g,this.gA=h,this.dB=q.Ej(f),this.cB=q.Ej(h),!0):!1},oY:function(){var a=this.Z.CC(),c=a.DI(),d=a.BI(),a=c.x-d.x,e=c.y-d.y,c=c.z-d.z,d=Math.sqrt(Math.pow(a,2)+Math.pow(e,2)+Math.pow(c,2)),f=Math.sqrt(Math.pow(a,
2)+Math.pow(e,2));0===f&&(f=q.fu);0===d&&(d=q.fu);return{TU:d/q.wq.Ss(),LY:Math.acos(c/d),azimuth:0>a?Math.PI-Math.asin(e/f):Math.asin(e/f)}},ha:function(a){q.Y.prototype.ha.call(this,a);a=this.oY();isNaN(this.dj)&&(this.dj=a.TU);isNaN(this.to)&&(this.to=q.ez(a.LY));isNaN(this.Ag)&&(this.Ag=q.ez(a.azimuth));this.fB=q.Ej(this.to);this.eB=q.Ej(this.Ag)},clone:function(){var a=new q.az;a.X(this.Ga,this.dj,this.ov,this.to,this.hA,this.Ag,this.gA);return a},update:function(a){var c=(this.dj+this.ov*a)*
q.wq.Ss(),d=this.fB+this.dB*a,e=this.eB+this.cB*a;a=Math.sin(d)*Math.cos(e)*c+this.Uz;e=Math.sin(d)*Math.sin(e)*c+this.Vz;c=Math.cos(d)*c+this.Wz;this.Z.CC().MK(a,e,c)}});q.az.create=function(a,c,d,e,f,g,h){var k=new q.az;return k.X(a,c,d,e,f,g,h)?k:null};q.vd=q.Y.extend({na:null,ctor:function(){q.Y.prototype.ctor.call(this);this.na=null},wa:function(a){if(!a)throw"cc.ActionEase.initWithAction(): action must be non nil";return this.X(a.Ff())?(this.na=a,!0):!1},clone:function(){var a=new q.vd;a.wa(this.na.clone());return a},ha:function(a){q.Y.prototype.ha.call(this,a);this.na.ha(this.Z)},stop:function(){this.na.stop();q.Y.prototype.stop.call(this)},update:function(a){this.na.update(a)},reverse:function(){return q.vd.create(this.na.reverse())},DC:function(){return this.na}});
q.vd.create=function(a){var c=new q.vd;c&&c.wa(a);return c};q.hm=q.vd.extend({$e:0,ctor:function(){q.vd.prototype.ctor.call(this);this.$e=0},sba:function(a){this.$e=a},h6:function(){return this.$e},wa:function(a,c){return q.vd.prototype.wa.call(this,a)?(this.$e=c,!0):!1},clone:function(){var a=new q.hm;a.wa(this.na.clone(),this.$e);return a},reverse:function(){return q.hm.create(this.na.reverse(),1/this.$e)}});q.hm.create=function(a,c){var d=new q.hm;d&&d.wa(a,c);return d};
q.Zt=q.hm.extend({update:function(a){this.na.update(Math.pow(a,this.$e))},reverse:function(){return q.Zt.create(this.na.reverse(),1/this.$e)},clone:function(){var a=new q.Zt;a.wa(this.na.clone(),this.$e);return a}});q.Zt.create=function(a,c){var d=new q.Zt;d&&d.wa(a,c);return d};q.au=q.hm.extend({update:function(a){this.na.update(Math.pow(a,1/this.$e))},reverse:function(){return q.au.create(this.na.reverse(),1/this.$e)},clone:function(){var a=new q.au;a.wa(this.na.clone(),this.$e);return a}});
q.au.create=function(a,c){var d=new q.au;d&&d.wa(a,c);return d};q.$t=q.hm.extend({update:function(a){a*=2;1>a?this.na.update(0.5*Math.pow(a,this.$e)):this.na.update(1-0.5*Math.pow(2-a,this.$e))},clone:function(){var a=new q.$t;a.wa(this.na.clone(),this.$e);return a},reverse:function(){return q.$t.create(this.na.reverse(),this.$e)}});q.$t.create=function(a,c){var d=new q.$t;d&&d.wa(a,c);return d};
q.Wt=q.vd.extend({update:function(a){this.na.update(0===a?0:Math.pow(2,10*(a-1)))},reverse:function(){return q.Yt.create(this.na.reverse())},clone:function(){var a=new q.Wt;a.wa(this.na.clone());return a}});q.Wt.create=function(a){var c=new q.Wt;c&&c.wa(a);return c};q.Yt=q.vd.extend({update:function(a){this.na.update(1==a?1:-Math.pow(2,-10*a)+1)},reverse:function(){return q.Wt.create(this.na.reverse())},clone:function(){var a=new q.Yt;a.wa(this.na.clone());return a}});
q.Yt.create=function(a){var c=new q.Yt;c&&c.wa(a);return c};q.Xt=q.vd.extend({update:function(a){1!=a&&0!==a&&(a*=2,a=1>a?0.5*Math.pow(2,10*(a-1)):0.5*(-Math.pow(2,-10*(a-1))+2));this.na.update(a)},reverse:function(){return q.Xt.create(this.na.reverse())},clone:function(){var a=new q.Xt;a.wa(this.na.clone());return a}});q.Xt.create=function(a){var c=new q.Xt;c&&c.wa(a);return c};
q.bu=q.vd.extend({update:function(a){a=0===a||1==a?a:-1*Math.cos(a*Math.PI/2)+1;this.na.update(a)},reverse:function(){return q.du.create(this.na.reverse())},clone:function(){var a=new q.bu;a.wa(this.na.clone());return a}});q.bu.create=function(a){var c=new q.bu;c&&c.wa(a);return c};q.du=q.vd.extend({update:function(a){a=0===a||1==a?a:Math.sin(a*Math.PI/2);this.na.update(a)},reverse:function(){return q.bu.create(this.na.reverse())},clone:function(){var a=new q.du;a.wa(this.na.clone());return a}});
q.du.create=function(a){var c=new q.du;c&&c.wa(a);return c};q.cu=q.vd.extend({update:function(a){a=0===a||1==a?a:-0.5*(Math.cos(Math.PI*a)-1);this.na.update(a)},clone:function(){var a=new q.cu;a.wa(this.na.clone());return a},reverse:function(){return q.cu.create(this.na.reverse())}});q.cu.create=function(a){var c=new q.cu;c&&c.wa(a);return c};
q.co=q.vd.extend({we:null,ctor:function(){q.vd.prototype.ctor.call(this);this.we=0.3},T5:function(){return this.we},mba:function(a){this.we=a},wa:function(a,c){q.vd.prototype.wa.call(this,a);this.we=null==c?0.3:c;return!0},reverse:function(){q.log("cc.EaseElastic.reverse(): it should be overridden in subclass.")},clone:function(){var a=new q.co;a.wa(this.na.clone(),this.we);return a}});q.co.create=function(a,c){var d=new q.co;return d&&d.wa(a,c)?d:null};
q.Tt=q.co.extend({update:function(a){var c=0;0===a||1===a?c=a:(c=this.we/4,a-=1,c=-Math.pow(2,10*a)*Math.sin((a-c)*Math.PI*2/this.we));this.na.update(c)},reverse:function(){return q.Vt.create(this.na.reverse(),this.we)},clone:function(){var a=new q.Tt;a.wa(this.na.clone(),this.we);return a}});q.Tt.create=function(a,c){var d=new q.Tt;return d&&d.wa(a,c)?d:null};
q.Vt=q.co.extend({update:function(a){var c=0,c=0===a||1==a?a:Math.pow(2,-10*a)*Math.sin((a-this.we/4)*Math.PI*2/this.we)+1;this.na.update(c)},reverse:function(){return q.Tt.create(this.na.reverse(),this.we)},clone:function(){var a=new q.Vt;a.wa(this.na.clone(),this.we);return a}});q.Vt.create=function(a,c){var d=new q.Vt;d&&d.wa(a,c);return d};
q.Ut=q.co.extend({update:function(a){var c=0,c=this.we;if(0===a||1==a)c=a;else{c||(c=this.we=0.3*1.5);var d=c/4;a=2*a-1;c=0>a?-0.5*Math.pow(2,10*a)*Math.sin((a-d)*Math.PI*2/c):Math.pow(2,-10*a)*Math.sin((a-d)*Math.PI*2/c)*0.5+1}this.na.update(c)},reverse:function(){return q.Ut.create(this.na.reverse(),this.we)},clone:function(){var a=new q.Ut;a.wa(this.na.clone(),this.we);return a}});q.Ut.create=function(a,c){var d=new q.Ut;d&&d.wa(a,c);return d};
q.gm=q.vd.extend({Jw:function(a){if(a<1/2.75)return 7.5625*a*a;if(a<2/2.75)return a-=1.5/2.75,7.5625*a*a+0.75;if(a<2.5/2.75)return a-=2.25/2.75,7.5625*a*a+0.9375;a-=2.625/2.75;return 7.5625*a*a+0.984375},clone:function(){var a=new q.gm;a.wa(this.na.clone());return a},reverse:function(){return q.gm.create(this.na.reverse())}});q.gm.create=function(a){var c=new q.gm;c&&c.wa(a);return c};
q.Qt=q.gm.extend({update:function(a){this.na.update(1-this.Jw(1-a))},reverse:function(){return q.St.create(this.na.reverse())},clone:function(){var a=new q.Qt;a.wa(this.na.clone());return a}});q.Qt.create=function(a){var c=new q.Qt;c&&c.wa(a);return c};q.St=q.gm.extend({update:function(a){this.na.update(this.Jw(a))},reverse:function(){return q.Qt.create(this.na.reverse())},clone:function(){var a=new q.St;a.wa(this.na.clone());return a}});q.St.create=function(a){var c=new q.St;c&&c.wa(a);return c};
q.Rt=q.gm.extend({update:function(a){var c=0,c=0.5>a?0.5*(1-this.Jw(1-2*a)):0.5*this.Jw(2*a-1)+0.5;this.na.update(c)},clone:function(){var a=new q.Rt;a.wa(this.na.clone());return a},reverse:function(){return q.Rt.create(this.na.reverse())}});q.Rt.create=function(a){var c=new q.Rt;c&&c.wa(a);return c};
q.Nt=q.vd.extend({update:function(a){this.na.update(0===a||1==a?a:a*a*(2.70158*a-1.70158))},reverse:function(){return q.Pt.create(this.na.reverse())},clone:function(){var a=new q.Nt;a.wa(this.na.clone());return a}});q.Nt.create=function(a){var c=new q.Nt;c&&c.wa(a);return c};q.Pt=q.vd.extend({update:function(a){a-=1;this.na.update(a*a*(2.70158*a+1.70158)+1)},reverse:function(){return q.Nt.create(this.na.reverse())},clone:function(){var a=new q.Pt;a.wa(this.na.clone());return a}});
q.Pt.create=function(a){var c=new q.Pt;c&&c.wa(a);return c};q.Ot=q.vd.extend({update:function(a){a*=2;1>a?this.na.update(a*a*(3.5949095*a-2.5949095)/2):(a-=2,this.na.update(a*a*(3.5949095*a+2.5949095)/2+1))},clone:function(){var a=new q.Ot;a.wa(this.na.clone());return a},reverse:function(){return q.Ot.create(this.na.reverse())}});q.Ot.create=function(a){var c=new q.Ot;c&&c.wa(a);return c};q.Cy=function(a,c,d,e,f,g){var h=g*g,k=h*g,l=(1-f)/2;f=l*(-k+2*h-g);var m=l*(-k+h)+(2*k-3*h+1);g=l*(k-2*h+g)+(-2*k+3*h);h=l*(k-h);return q.a(a.x*f+c.x*m+d.x*g+e.x*h,a.y*f+c.y*m+d.y*g+e.y*h)};q.xK=function(a){for(var c=[],d=a.length-1;0<=d;d--)c.push(q.a(a[d].x,a[d].y));return c};q.Ow=function(a){for(var c=[],d=0;d<a.length;d++)c.push(q.a(a[d].x,a[d].y));return c};q.Hh=function(a,c){var d=Math.min(a.length-1,Math.max(c,0));return a[d]};
q.W$=function(a){for(var c=a.length,d=0|c/2,e=0;e<d;++e){var f=a[e];a[e]=a[c-e-1];a[c-e-1]=f}};
q.Hi=q.Y.extend({bi:null,iA:0,Sm:0,gd:null,Fz:null,ctor:function(){q.Y.prototype.ctor.call(this);this.bi=[];this.Sm=this.iA=0;this.Fz=this.gd=null},X:function(a,c,d){if(!c||0==c.length)throw"Invalid configuration. It must at least have one control point";return q.Y.prototype.X.call(this,a)?(this.BX(c),this.Sm=d,!0):!1},clone:function(){var a=new q.Hi;a.X(this.Ga,q.Ow(this.bi),this.Sm);return a},ha:function(a){q.Y.prototype.ha.call(this,a);this.iA=1/(this.bi.length-1);a=this.Z.u;this.gd=q.a(a.x,a.y);
this.Fz=q.a(0,0)},update:function(a){var c,d=this.bi;if(1==a)c=d.length-1,a=1;else{var e=this.iA;c=0|a/e;a=(a-e*c)/e}c=q.Cy(q.Hh(d,c-1),q.Hh(d,c-0),q.Hh(d,c+1),q.Hh(d,c+2),this.Sm,a);q.Kt&&(d=this.Z.u.H-this.gd.x,a=this.Z.u.S-this.gd.y,0!=d||0!=a)&&(e=this.Fz,d=e.x+d,a=e.y+a,e.x=d,e.y=a,c.x+=d,c.y+=a);this.UL(c)},reverse:function(){var a=q.xK(this.bi);return q.Hi.create(this.Ga,a,this.Sm)},UL:function(a){this.Z.l(a);this.gd=a},X5:function(){return this.bi},BX:function(a){this.bi=a}});
q.Hi.create=function(a,c,d){var e=new q.Hi;return e.X(a,c,d)?e:null};
q.xq=q.Hi.extend({hd:null,ctor:function(){q.Hi.prototype.ctor.call(this);this.hd=q.a(0,0)},ha:function(a){q.Hi.prototype.ha.call(this,a);a=a.u;this.hd.x=a.x;this.hd.y=a.y},reverse:function(){for(var a=this.bi.slice(),c,d=a[0],e=1;e<a.length;++e)c=a[e],a[e]=q.Rd(c,d),d=c;a=q.xK(a);d=a[a.length-1];a.pop();d.x=-d.x;d.y=-d.y;a.unshift(d);for(e=1;e<a.length;++e)c=a[e],c.x=-c.x,c.y=-c.y,c.x+=d.x,c.y+=d.y,d=a[e]=c;return q.xq.create(this.Ga,a,this.Sm)},UL:function(a){var c=this.hd,d=a.x+c.x;a=a.y+c.y;this.Z.l(d,
a);this.gd.x=d;this.gd.y=a},clone:function(){var a=new q.xq;a.X(this.Ga,q.Ow(this.bi),this.Sm);return a}});q.xq.create=function(a,c,d){var e=new q.xq;return e.X(a,c,d)?e:null};q.Ey=q.Hi.extend({X:function(a,c){return q.Hi.prototype.X.call(this,a,c,0.5)},clone:function(){var a=new q.Ey;a.X(this.Ga,q.Ow(this.bi));return a}});q.Ey.create=function(a,c){var d=new q.Ey;return d.X(a,c)?d:null};
q.Dy=q.xq.extend({X:function(a,c){return q.Hi.prototype.X.call(this,a,c,0.5)},clone:function(){var a=new q.Dy;a.X(this.Ga,q.Ow(this.bi));return a}});q.Dy.create=function(a,c){var d=new q.Dy;return d.X(a,c)?d:null};q.XY=q.Na.extend({BE:function(){}});
q.ao=q.Y.extend({key:"",from:0,Xl:0,oC:0,ctor:function(){q.Y.prototype.ctor.call(this);this.key="";this.oC=this.Xl=this.from=0},X:function(a,c,d,e){return q.Y.prototype.X.call(this,a)?(this.key=c,this.Xl=e,this.from=d,!0):!1},ha:function(a){if(!a||!a.BE)throw"cc.ActionTween.startWithTarget(): target must be non-null, and target must implement updateTweenAction function";q.Y.prototype.ha.call(this,a);this.oC=this.Xl-this.from},update:function(a){this.Z.BE(this.Xl-this.oC*(1-a),this.key)},reverse:function(){return q.ao.create(this.duration,
this.key,this.Xl,this.from)},clone:function(){var a=new q.ao;a.X(this.Ga,this.key,this.from,this.Xl);return a}});q.ao.create=function(a,c,d,e){var f=new q.ao;return f.X(a,c,d,e)?f:null};q.Fk=0;q.bz=1;q.sF=4;q.lN=75;
q.Uc=q.Jb.extend({Ef:null,bj:0,Bb:null,$h:null,sm:null,ce:!1,v5:function(){return q.a(this.$h.x,this.$h)},VK:function(a){this.$h=q.bK(a)},b4:function(){return q.a(this.sm.x,this.sm.y)},EK:function(a){this.sm=q.bK(a)},a7:function(){return this.Ef},$w:function(){return this.bj},wT:function(){return this.Bb},kt:function(a){this.bj!=a&&(this.bj=q.Cs(a,0,100),this.QB())},Lf:function(){},yl:function(){return!1},q8:function(){return this.ce},Qz:function(a){if(a<q.sF){var c=q.lN;return this.ce?q.a(c>>7-(a<<
1)&1,c>>7-((a<<1)+1)&1):q.a(c>>(a<<1)+1&1,c>>(a<<1)&1)}return q.Gj()},fd:null,HB:270,oA:270,dj:0,bA:!1,Nz:null,Md:0,Yc:null,dg:null,AH:null,ys:!1,ctor:null,Wh:function(){q.Jb.prototype.ctor.call(this);this.Ef=q.Fk;this.bj=0;this.$h=q.a(0,0);this.sm=q.a(0,0);this.ce=!1;this.Bb=null;this.fd=q.Gj();this.oA=this.HB=270;this.dj=0;this.bA=!1;this.Nz=q.wd()},Xh:function(){q.Jb.prototype.ctor.call(this);this.Ef=q.Fk;this.bj=0;this.$h=q.a(0,0);this.sm=q.a(0,0);this.ce=!1;this.Bb=null;this.AH=q.ca.createBuffer();
this.Md=0;this.dg=this.Yc=null;this.ys=!1},r:function(a){this.Bb.r(a);this.Ld()},ta:function(a){this.Bb.ta(a);this.Ld()},Dd:function(){return this.Bb.Dd()},mj:function(){return this.Bb.mj()},gL:null,iQ:function(a){this.ce!==a&&(this.ce=a)},jQ:function(a){this.ce!==a&&(this.ce=a,this.dg=this.Yc=null,this.Md=0)},mt:null,lQ:function(a){this.Bb!=a&&(this.Bb=a,this.P(this.Bb.c()))},mQ:function(a){a&&this.Bb!=a&&(this.Bb=a,this.P(a.c()),this.Yc&&(this.dg=this.Yc=null,this.Md=0))},lL:null,pQ:function(a){a!==
this.Ef&&(this.Ef=a)},qQ:function(a){a!==this.Ef&&(this.Yc&&(this.dg=this.Yc=null,this.Md=0),this.Ef=a)},fL:null,gQ:function(a){this.ce!==a&&(this.ce=a)},hQ:function(a){this.ce!==a&&(this.ce=a,this.dg=this.Yc=null,this.Md=0)},ff:function(a){var c=this.Bb;if(!c)return{Va:0,ua:0};var d=c.Vb,e=q.a(d.Pa.G.Va,d.Pa.G.ua),d=q.a(d.Sa.G.Va,d.Sa.G.ua);c.md&&(c=a.x,a.x=a.y,a.y=c);return{Va:e.x*(1-a.x)+d.x*a.x,ua:e.y*(1-a.y)+d.y*a.y}},hf:function(a){if(!this.Bb)return{x:0,y:0};var c=this.Bb.Vb,d=q.a(c.Pa.B.x,
c.Pa.B.y),c=q.a(c.Sa.B.x,c.Sa.B.y);return{x:d.x*(1-a.x)+c.x*a.x,y:d.y*(1-a.y)+c.y*a.y}},$C:null,RO:function(a){this.kt(0);this.A(0.5,0.5);this.Ef=q.Fk;this.ce=!1;this.VK(q.a(0.5,0.5));this.EK(q.a(1,1));this.mt(a);return!0},SO:function(a){this.kt(0);this.dg=this.Yc=null;this.Md=0;this.A(0.5,0.5);this.Ef=q.Fk;this.ce=!1;this.VK(q.a(0.5,0.5));this.EK(q.a(1,1));this.mt(a);this.eh(q.Vh.g().Di(q.iz));return!0},Ya:null,Rj:function(a){a=a||q.ca;var c=this.Bb;c.Bm&&(a.globalCompositeOperation="lighter");var d=
q.qa.g().va,e=q.qa.g().Da;a.globalAlpha=c.ec/255;var f=c.za,g=c.Ca,h=c.pc,k=c.Oo,l=0|h.x,m=-h.y-f.height,p=c.Vm;k.width=f.width*d;k.height=f.height*e;a.save();c.jc&&(l=-h.x-f.width,a.scale(-1,1));c.kc&&(m=h.y,a.scale(1,-1));l*=d;m*=e;this.Ef==q.bz?(f=this.Nz,a.beginPath(),a.rect(f.x*d,f.y*e,f.width*d,f.height*e),a.clip(),a.closePath()):this.Ef==q.Fk&&(f=this.fd.x*d,h=this.fd.y*e,a.beginPath(),a.arc(f,h,this.dj*e,Math.PI/180*this.HB,Math.PI/180*this.oA,this.bA),a.lineTo(f,h),a.clip(),a.closePath());
c.Ha&&p.$l?(d=c.Ha.Cc,this.Vq?a.drawImage(d,0,0,p.width,p.height,l,m,k.width,k.height):a.drawImage(d,p.x,p.y,p.width,p.height,l,m,k.width,k.height)):0!==g.width&&(k=this.Dd(),a.fillStyle="rgba("+k.q+","+k.p+","+k.n+",1)",a.fillRect(l,m,g.width*d,g.height*e));a.restore();q.Sh()},Eg:function(a){a=a||q.ca;if(this.Yc&&this.Bb){q.Zy(this);var c=this.Bb.oa;q.sk(c.src,c.Rb);q.Je(q.Mu);this.Bb.ja()?q.Rg(this.Bb.ja()):q.Rg(null);a.bindBuffer(a.ARRAY_BUFFER,this.AH);this.ys&&(a.bufferData(a.ARRAY_BUFFER,this.dg,
a.DYNAMIC_DRAW),this.ys=!1);c=q.dc.BYTES_PER_ELEMENT;a.vertexAttribPointer(q.We,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(q.Jq,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(q.Kq,2,a.FLOAT,!1,c,12);this.Ef===q.Fk?a.drawArrays(a.TRIANGLE_FAN,0,this.Md):this.Ef==q.bz&&(this.ce?(a.drawArrays(a.TRIANGLE_STRIP,0,this.Md/2),a.drawArrays(a.TRIANGLE_STRIP,4,this.Md/2),q.Gh++):a.drawArrays(a.TRIANGLE_STRIP,0,this.Md));q.Gh++}},SQ:function(){if(this.Bb){var a,c=this.$h;a=this.bj/100;var d=2*q.PI*(this.ce?a:
1-a),e=q.a(c.x,1),f=q.lV(e,c,d),d=0;if(0==a)f=e,d=0;else if(1==a)f=e,d=4;else{var g=q.BM,h=q.sF;for(a=0;a<=h;++a){var k=(a+(h-1))%h,l=this.Qz(a%h),k=this.Qz(k);0==a?k=q.dK(l,k,1-c.x):4==a&&(l=q.dK(l,k,1-c.x));var m=q.a(0,0);q.tD(l,k,c,f,m)&&(0!=a&&4!=a||0<=m.x&&1>=m.x)&&0<=m.y&&m.y<g&&(g=m.y,d=a)}f=q.ah(c,q.tj(q.Rd(f,c),g))}g=!0;this.Md!=d+3&&(g=!1,this.dg=this.Yc=null,this.Md=0);if(!this.Yc){h=this.Md=d+3;l=q.dc.BYTES_PER_ELEMENT;this.dg=new ArrayBuffer(h*l);k=[];for(a=0;a<h;a++)k[a]=new q.dc(null,
null,null,this.dg,a*l);this.Yc=k;if(!this.Yc){q.log("cc.ProgressTimer._updateRadial() : Not enough memory");return}}this.Ld();h=this.Yc;if(!g)for(h[0].G=this.ff(c),h[0].B=this.hf(c),h[1].G=this.ff(e),h[1].B=this.hf(e),a=0;a<d;a++)c=this.Qz(a),h[a+2].G=this.ff(c),h[a+2].B=this.hf(c);h[this.Md-1].G=this.ff(f);h[this.Md-1].B=this.hf(f)}},HQ:function(){if(this.Bb){var a,c=this.bj/100,d=this.sm,d=q.tj(q.a(1-d.x+c*d.x,1-d.y+c*d.y),0.5),c=q.Rd(this.$h,d),d=q.ah(this.$h,d);0>c.x&&(d.x+=-c.x,c.x=0);1<d.x&&
(c.x-=d.x-1,d.x=1);0>c.y&&(d.y+=-c.y,c.y=0);1<d.y&&(c.y-=d.y-1,d.y=1);if(this.ce){if(!this.Yc){this.Md=8;var e=q.dc.BYTES_PER_ELEMENT;this.dg=new ArrayBuffer(8*e);var f=[];for(a=0;8>a;a++)f[a]=new q.dc(null,null,null,this.dg,a*e);f[0].G=this.ff(q.a(0,1));f[0].B=this.hf(q.a(0,1));f[1].G=this.ff(q.a(0,0));f[1].B=this.hf(q.a(0,0));f[6].G=this.ff(q.a(1,1));f[6].B=this.hf(q.a(1,1));f[7].G=this.ff(q.a(1,0));f[7].B=this.hf(q.a(1,0));this.Yc=f}a=this.Yc;a[2].G=this.ff(q.a(c.x,d.y));a[2].B=this.hf(q.a(c.x,
d.y));a[3].G=this.ff(q.a(c.x,c.y));a[3].B=this.hf(q.a(c.x,c.y));a[4].G=this.ff(q.a(d.x,d.y));a[4].B=this.hf(q.a(d.x,d.y));a[5].G=this.ff(q.a(d.x,c.y));a[5].B=this.hf(q.a(d.x,c.y))}else{if(!this.Yc)for(this.Md=4,e=q.dc.BYTES_PER_ELEMENT,this.dg=new ArrayBuffer(4*e),this.Yc=[],a=0;4>a;a++)this.Yc[a]=new q.dc(null,null,null,this.dg,a*e);a=this.Yc;a[0].G=this.ff(q.a(c.x,d.y));a[0].B=this.hf(q.a(c.x,d.y));a[1].G=this.ff(q.a(c.x,c.y));a[1].B=this.hf(q.a(c.x,c.y));a[2].G=this.ff(q.a(d.x,d.y));a[2].B=this.hf(q.a(d.x,
d.y));a[3].G=this.ff(q.a(d.x,c.y));a[3].B=this.hf(q.a(d.x,c.y))}this.Ld()}},Ld:function(){if(this.Bb&&this.Yc){for(var a=this.Bb.Vb.Za.V,c=this.Yc,d=0,e=this.Md;d<e;++d)c[d].V=a;this.ys=!0}},QB:null,OQ:function(){var a=this.Bb,c=a.c(),d=this.$h;if(this.Ef==q.Fk){this.dj=Math.round(Math.sqrt(c.width*c.width+c.height*c.height));var e,f=!1,g=this.fd;g.x=c.width*d.x;g.y=-c.height*d.y;this.ce?(e=270,d=270-3.6*this.bj):(d=-90,e=-90+3.6*this.bj);a.jc&&(g.x-=2*c.width*this.$h.x,d=-d-180,e=-e-180,f=!f);a.kc&&
(g.y+=2*c.height*this.$h.y,f=!f,d=-d,e=-e);this.HB=d;this.oA=e;this.bA=f}else{e=this.sm;g=this.bj/100;f=this.Nz;e=q.size(c.width*(1-e.x),c.height*(1-e.y));var g=q.size((c.width-e.width)*g,(c.height-e.height)*g),g=q.size(e.width+g.width,e.height+g.height),h=q.a(c.width*d.x,c.height*d.y),k=h.x-g.width/2;0.5<d.x&&g.width/2>=c.width-h.x&&(k=c.width-g.width);e=h.y-g.height/2;0.5<d.y&&g.height/2>=c.height-h.y&&(e=c.height-g.height);f.x=0;c=1;a.jc&&(f.x-=g.width,c=-1);0<k&&(f.x+=k*c);f.y=0;c=1;a.kc&&(f.y+=
g.height,c=-1);0<e&&(f.y-=e*c);f.width=g.width;f.height=-g.height}},PQ:function(){var a=this.Ef;a===q.Fk?this.SQ():a===q.bz&&this.HQ();this.ys=!0}});
q.Ja.cd?(b=q.Uc.prototype,b.ctor=q.Uc.prototype.Xh,b.gL=q.Uc.prototype.jQ,b.mt=q.Uc.prototype.mQ,b.lL=q.Uc.prototype.qQ,b.fL=q.Uc.prototype.hQ,b.$C=q.Uc.prototype.SO,b.Ya=q.Uc.prototype.Eg,b.QB=q.Uc.prototype.PQ):(b=q.Uc.prototype,b.ctor=q.Uc.prototype.Wh,b.gL=q.Uc.prototype.iQ,b.mt=q.Uc.prototype.lQ,b.lL=q.Uc.prototype.pQ,b.fL=q.Uc.prototype.gQ,b.$C=q.Uc.prototype.RO,b.Ya=q.Uc.prototype.Rj,b.QB=q.Uc.prototype.OQ);q.Uc.create=function(a){var c=new q.Uc;return c.$C(a)?c:null};q.dz=q.Y.extend({Df:0,ve:0,ctor:function(){q.Y.prototype.ctor.call(this);this.ve=this.Df=0},X:function(a,c){return q.Y.prototype.X.call(this,a)?(this.Df=c,!0):!1},clone:function(){var a=new q.dz;a.X(this.Ga,this.Df);return a},reverse:function(){q.log("cc.ProgressTo.reverse(): reverse hasn't been supported.");return null},ha:function(a){q.Y.prototype.ha.call(this,a);this.ve=a.$w();100==this.ve&&(this.ve=0)},update:function(a){this.Z instanceof q.Uc&&this.Z.kt(this.ve+(this.Df-this.ve)*a)}});
q.dz.create=function(a,c){var d=new q.dz;d.X(a,c);return d};q.qu=q.Y.extend({Df:0,ve:0,ctor:function(){q.Y.prototype.ctor.call(this);this.ve=this.Df=0},X:function(a,c,d){return q.Y.prototype.X.call(this,a)?(this.Df=d,this.ve=c,!0):!1},clone:function(){var a=new q.qu;a.X(this.Ga,this.ve,this.Df);return a},reverse:function(){return q.qu.create(this.Ga,this.Df,this.ve)},ha:function(a){q.Y.prototype.ha.call(this,a)},update:function(a){this.Z instanceof q.Uc&&this.Z.kt(this.ve+(this.Df-this.ve)*a)}});
q.qu.create=function(a,c,d){var e=new q.qu;e.X(a,c,d);return e};q.Ay=9;q.hM=1;q.kM=2;q.lM=4;q.iM=8;q.jM=16;q.Gt=32;q.mM=64;q.gM=128;q.Gi=256;q.vg=1;q.It=2;q.Ht=4;q.oZ=8;q.nZ=8;
q.cc=q.Th.extend({yG:!1,f1:!1,yl:function(){return this.yG},Lf:function(a){this.yG=a;for(var c=this.C,d=0,e=c.length;d<e;d++){var f=c[d];f&&f.ub&&f.Lf(a)}},fj:q.vg,H6:function(){return this.fj},pr:!1,kp:!1,Xj:!1,pv:null,Kf:function(a){this.fj=(this.pr=a)?q.vg:q.Ht;this.sd()},isEnabled:function(){return this.pr},lq:function(a){this.kp=a;this.sd()},t8:function(){return this.kp},Pl:function(a){this.Xj=a;this.sd()},c8:function(){return this.Xj},UT:function(){for(var a=this.getParent();null!=a;a=a.getParent())if(!a.ya)return!1;
return!0},ctor:function(){q.Th.prototype.ctor.call(this);this.pv={};this.Bc=q.Fb()},w:function(){return q.Th.prototype.w.call(this)?(this.fj=q.vg,this.pr=!0,this.Xj=this.kp=!1,this.nq(1),!0):!1},Ex:function(){q.CD(this.ml,!0,this)},qf:function(a){for(var c=0,d=q.Ay;c<d;c++)if(a&1<<c)for(var e=this.nA(1<<c),f=0,g=e.length;f<g;f++)e[f].sU(this)},OH:function(a,c,d){for(var e=0,f=q.Ay;e<f;e++)d&1<<e&&this.Xu(a,c,1<<e)},P$:function(a,c,d){for(var e=0,f=q.Ay;e<f;e++)d&1<<e&&this.IP(a,c,1<<e)},nj:function(a){return this.Ka(a.R)},
yi:function(a){a=a.R;a=this.getParent().Ka(a);return q.tb(this.ob(),a)},h1:function(){return null},nA:function(a){a=a.toString();this.pv.hasOwnProperty(a)||(this.pv[a]=[]);return this.pv[a]},Xu:function(a,c,d){a=new q.JM(a,c,d);this.nA(d).push(a)},IP:function(a,c,d){d=this.nA(d);if(a||c)for(var e=0;e<d.length;){var f=d[e],g=!0;a&&(g=a==f.Z);c&&(g=g&&c==f.Sf);g?q.ke(d,f):e++}else d.length=0},sd:function(){}});q.cc.create=function(){var a=new q.cc;return a&&a.w()?a:null};q.QE=3435855873;
q.Rh=q.cc.extend({gr:!1,zs:!1,Gg:null,Hr:null,Yq:null,mv:null,Wm:null,pe:null,aj:0,Yo:!1,tw:null,ns:null,uw:null,rm:null,LG:!1,Ov:0,Nv:0,ctor:function(){q.cc.prototype.ctor.call(this);this.Gg=new q.Hk(0,0);this.Hr=new q.kh(0,0);this.Yq="";this.mv=q.Fb();this.tw={};this.ns={};this.uw={};this.rm={}},w:function(){return this.gx(q.T.create("","Arial",12),q.Wd.create())},sd:function(){if(this.LG){this.Wm&&this.Wm.D(!1);this.pe&&this.pe.D(!1);this.iX(this.Hr);var a=this.fj;this.Yq=this.OC(a);this.mv=this.CT(a);
var c=this.Wm=this.Ps(a);c&&c.pa&&c.pa(this.Yq);c&&c.ub&&c.r(this.mv);var d=this.c();c&&c.l(d.width/2,d.height/2);(a=this.pe=this.RS(a))&&a.l(d.width/2,d.height/2);d=c?c.ob().Xa:q.size(0,0);if(this.gr)a&&a.P(d.width+2*this.Nv,d.height+2*this.Ov);else if(a){var e=a.Gg,e=q.size(e.width,e.height);0>=e.width&&(e.width=d.width);0>=e.height&&(e.height=d.height);a.P(e)}d=c?c.ob():q.rect(0,0,0,0);e=a?a.ob():q.rect(0,0,0,0);d=q.Dx(d,e);this.P(d.width,d.height);d=this.c();c&&(c.l(d.width/2,d.height/2),c.D(!0));
a&&(a.l(d.width/2,d.height/2),a.D(!0))}},gx:function(a,c){if(!a||!a.ub)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): label should be non-null";if(!c)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): backgroundSprite should be non-null";return q.cc.prototype.w.call(this,!0)?(this.LG=!0,this.tw={},this.ns={},this.uw={},this.rm={},this.hc(!0),this.Yo=!1,this.zs=!0,this.Yq=null,this.JW(!0),this.Ei(q.size(0,0)),this.zs=!0,this.oj(!1),this.A(0.5,0.5),this.Wm=a,this.pe=c,this.ta(255),
this.Lf(!0),this.TX(a.MC(),q.vg),this.SX(a.Dd(),q.vg),this.eE(a,q.vg),this.Ml(c,q.vg),this.fj=q.vg,this.Nv=24,this.Ov=12,this.Hr=new q.kh(0.5,0.5),this.Ei(q.jm()),this.sd(),!0):!1},jU:function(a,c,d){a=q.T.create(a,c,d);return this.gx(a,q.Wd.create())},dx:function(a){var c=q.T.create("","Arial",30);return this.gx(c,a)},h3:function(){return this.gr},JW:function(a){this.gr=a;this.sd()},q7:function(){return this.zs},kE:function(a){return this.zs=a},iT:function(){return this.Gg},Ei:function(a){if(0===
a.width&&0===a.height)this.gr=!0;else{this.gr=!1;var c=this.rm,d;for(d in c)c[d].Ei(a)}this.Gg=a;this.sd()},k5:function(){return this.Hr},iX:function(a){this.Hr=a;this.Wm&&this.Wm.A(a)},Z0:function(){return this.Yq},$0:function(){return this.mv},mj:function(){return this.aj},ta:function(a){q.cc.prototype.ta.call(this,a);var c=this.rm,d;for(d in c)c[d].ta(a)},r:function(a){q.cc.prototype.r.call(this,a);var c=this.rm,d;for(d in c)c[d].r(a)},Dd:function(){return this.ye},p8:function(){return this.Yo},
d1:function(){return this.Ov},b1:function(){return this.Nv},Waa:function(a,c){this.Ov=c;this.Nv=a;this.sd()},Kf:function(a){q.cc.prototype.Kf.call(this,a);this.sd()},lq:function(a){q.cc.prototype.lq.call(this,a);this.sd()},Pl:function(a){this.fj=a?q.It:q.vg;q.cc.prototype.Pl.call(this,a);(a=this.BC(q.QE))&&this.pY(a);this.sd();this.zs&&(a=q.no.create(0.05,this.Xj&&this.isEnabled()&&!this.kp?1.1:1),a.kL(q.QE),this.Hx(a))},xb:function(a){if(!(this.yi(a)&&this.isEnabled()&&this.ya&&this.UT()))return!1;
this.Yo=!0;this.Pl(!0);this.qf(q.hM);return!0},Qd:function(a){this.pr&&this.Yo&&!this.kp?(a=this.yi(a))&&!this.Xj?(this.Pl(!0),this.qf(q.iM)):a&&this.Xj?this.qf(q.kM):!a&&this.Xj?(this.Pl(!1),this.qf(q.jM)):a||this.Xj||this.qf(q.lM):this.Xj&&this.Pl(!1)},$g:function(a){this.Yo=!1;this.Pl(!1);this.yi(a)?this.qf(q.Gt):this.qf(q.mM)},wk:function(){this.Yo=!1;this.Pl(!1);this.qf(q.gM)},OC:function(a){var c=this.tw;return c?c[a]?c[a]:c[q.vg]:""},TX:function(a,c){this.tw[c]=a||"";this.fj==c&&this.sd()},
CT:function(a){return(a=this.ns[a])?a:(a=this.ns[q.vg])?a:q.Fb()},SX:function(a,c){this.ns[c]=a;this.fj==c&&this.sd()},Ps:function(a){var c=this.uw;return c.hasOwnProperty(a)&&c[a]?c[a]:c[q.vg]},eE:function(a,c){var d=this.uw;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.D(!1);a.A(0.5,0.5);this.f(a,1);this.fj==c&&this.sd()},Pba:function(a,c){var d=this.OC(c);d||(d="");this.eE(q.T.create(d,a,12),c)},R6:function(a){a=this.Ps(a);return null!=a&&a instanceof q.T?a.wf:""},Qba:function(a,
c){var d=this.Ps(c);null!=d&&d instanceof q.T&&d.Lx(a)},S6:function(a){a=this.Ps(a);return null!=a&&a instanceof q.T?a.Zd:0},Oba:function(a,c){var d=this.OC(c);d||(d="");this.eE(q.Wy.create(d,a),c)},Q6:function(a){a=this.Ps(a);return null!=a&&a instanceof q.Wy?a.R4():""},RS:function(a){var c=this.rm;return c.hasOwnProperty(a)&&c[a]?c[a]:c[q.vg]},Ml:function(a,c){var d=this.rm;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.D(!1);a.A(0.5,0.5);this.f(a);d=this.Gg;0===d.width&&
0===d.height||a.Ei(d);this.fj===c&&this.sd()},laa:function(a,c){var d=q.Wd.$H(a);this.Ml(d,c)}});q.Rh.create=function(a,c){var d;if(0==arguments.length)return(d=new q.Rh)&&d.w()?d:null;1==arguments.length?(d=new q.Rh,d.dx(arguments[0])):2==arguments.length?(d=new q.Rh,d.gx(a,c)):3==arguments.length&&(d=new q.Rh,d.jU(arguments[0],arguments[1],arguments[2]));return d};q.RGBA=function(a,c,d,e){this.q=a;this.p=c;this.n=d;this.O=e};q.Ry=function(a,c,d){this.h=a;this.s=c;this.ua=d};q.ne={};q.ne.hn=function(a,c,d,e){a=q.v.aI(a);if(!a)return null;a.l(d);a.A(e);c.f(a);return a};q.ne.FM=function(a){var c=new q.Ry,d,e;d=a.q<a.p?a.q:a.p;d=d<a.n?d:a.n;e=a.q>a.p?a.q:a.p;e=e>a.n?e:a.n;c.ua=e;d=e-d;if(0<e)c.s=d/e;else return c.s=0,c.h=-1,c;c.h=a.q>=e?(a.p-a.n)/d:a.p>=e?2+(a.n-a.q)/d:4+(a.q-a.p)/d;c.h*=60;0>c.h&&(c.h+=360);return c};
q.ne.gz=function(a){var c,d,e,f,g=new q.RGBA;g.O=1;if(0>=a.s){if(!a.h)return g.q=a.ua,g.p=a.ua,g.n=a.ua,g;g.q=0;g.p=0;g.n=0;return g}c=a.h;360<=c&&(c=0);c/=60;f=0|c;e=c-f;c=a.ua*(1-a.s);d=a.ua*(1-a.s*e);e=a.ua*(1-a.s*(1-e));switch(f){case 0:g.q=a.ua;g.p=e;g.n=c;break;case 1:g.q=d;g.p=a.ua;g.n=c;break;case 2:g.q=c;g.p=a.ua;g.n=e;break;case 3:g.q=c;g.p=d;g.n=a.ua;break;case 4:g.q=e;g.p=c;g.n=a.ua;break;default:g.q=a.ua,g.p=c,g.n=d}return g};q.ne.LE=function(a,c){return q.Dx(a,c)};q.JM=q.Na.extend({Sf:null,Z:null,lv:null,ctor:function(a,c,d){this.Z=a;this.Sf=c;this.lv=d},T3:function(){return this.Sf},AT:function(){return this.Z},x4:function(){return this.lv},sU:function(a){if(this.Z&&this.Sf)if("string"==typeof this.Sf)this.Z[this.Sf](a,this.lv);else this.Sf.call(this.Z,a,this.lv)}});q.mF=0;q.pF=1;q.nF=2;q.oF=3;q.kF=4;q.rF=5;q.qF=6;q.kN=7;q.lF=8;
q.Wd=q.Jb.extend({ub:!0,np:null,aG:null,dl:!1,Bf:null,ki:null,ji:null,Ah:null,Yi:null,Nj:null,ei:null,Ni:null,Mi:null,Oi:null,Pj:null,Dc:!1,zd:null,Gg:null,aj:0,Bc:null,Do:null,Av:0,Cv:0,Bv:0,zv:0,eH:!1,CB:!1,wb:!1,ae:null,KL:function(){return this.wb},eg:function(a,c){this.ae.push({eventCallback:a,si:c})},qe:function(){this.wb=!0;for(var a=this.ae,c=0,d=a.length;c<d;c++){var e=a[c];e.eventCallback.call(e.si,this)}a.length=0},zw:function(){var a;a=this.Av;var c=this.Cv,d=this.Bv,e=this.np,f=this.zv;
a=0===a&&0===c&&0===d&&0===f?q.wd():this.CB?q.rect(f,a,e.width-d-a,e.height-c-f):q.rect(a,c,e.width-a-d,e.height-c-f);this.PW(a)},NQ:function(){if(this.ki&&this.Ah&&this.Oi&&this.Ni&&this.Nj){var a=this.Ca,c=this.ki,d=this.Ah,e=this.Oi,f=this.Ni,g=this.Nj,h=this.Nj.c(),k=c.c(),l=f.c(),m=a.Ia-k.width-d.c().width,a=a.xa-k.height-e.c().height,m=m/h.width,a=a/h.height,k=h.width*m,p=h.height*a,s=l.width,l=l.height;if(!q.Ja.cd){var u=Math.round(k);k!=u&&(k=u,m=k/h.width);u=Math.round(p);p!=u&&(p=u,a=p/
h.height)}g.kq(m);g.Qn(a);var h=this.Yi,u=this.ei,w=this.ji,x=this.Mi,E=q.a(0,0);f.A(E);e.A(E);c.A(E);d.A(E);h.A(E);u.A(E);w.A(E);x.A(E);g.A(E);f.l(0,0);e.l(s+k,0);c.l(0,l+p);d.l(s+k,l+p);h.l(0,l);h.Qn(a);u.l(s+k,l);u.Qn(a);x.l(s,0);x.kq(m);w.l(s,l+p);w.kq(m);g.l(s,l)}},ctor:function(){q.Jb.prototype.ctor.call(this);this.np=q.wd();this.aG=q.wd();this.Pj=q.Fb();this.zd=new q.Hk(0,0);this.Gg=new q.Hk(0,0);this.Bc=q.Fb();this.aj=255;this.Do=q.wd();this.ae=[]},gT:function(){return this.zd},iT:function(){return this.Gg},
Ei:function(a){this.P(a);this.Gg=a},mj:function(){return this.aj},ta:function(a){if(this.Bf){this.aj=a;for(var c=this.Bf.C,d=0;d<c.length;d++){var e=c[d];e&&e.ub&&e.ta(a)}}},Dd:function(){return this.Bc},r:function(a){if(this.Bf){this.Bc=a;for(var c=this.Bf.C,d=0;d<c.length;d++){var e=c[d];e&&e.ub&&e.r(a)}}},k4:function(){return this.Do},PW:function(a){if(this.Bf){var c=this.Ca,d=c.Ia,c=c.xa;this.rq(this.Bf,this.np,this.CB,a);this.P(d,c)}},g5:function(){return this.Av},Naa:function(a){this.Av=a;this.zw()},
i5:function(){return this.Cv},Paa:function(a){this.Cv=a;this.zw()},h5:function(){return this.Bv},Oaa:function(a){this.Bv=a;this.zw()},f5:function(){return this.zv},Maa:function(a){this.zv=a;this.zw()},P:function(a,c){2===arguments.length?q.F.prototype.P.call(this,a,c):q.F.prototype.P.call(this,a);this.dl=!0},Ba:function(a){this.dl&&(this.NQ(),this.dl=!1);q.Jb.prototype.Ba.call(this,a)},w:function(){return this.ex(null,q.wd(),!1,q.wd())},ex:function(a,c,d,e){3===arguments.length&&(e=d,d=!1);a&&this.rq(a,
c,d,e);this.A(0.5,0.5);return this.dl=!0},pj:function(a,c,d){a instanceof q.yg?(d=a=c,c=q.wd()):(c=c||q.wd(),d=d||q.wd());if(!a)throw"cc.Scale9Sprite.initWithFile(): file should be non-null";var e=q.ia.g().fy(a);if(!e){var e=q.ia.g().ma(a),f=e.Vg();(this.wb=f)||e.eg(function(a){var c=this.Gg,c=q.size(c.width,c.height);a=a.c();this.rq(this.Bf,q.rect(0,0,a.width,a.height),!1,this.Do);this.Ei(c);this.dl=!0;this.qe()},this)}a=q.Gb.create(a,9);return this.ex(a,c,!1,d)},Me:function(a,c){if(!a||!a.ja())throw"cc.Scale9Sprite.initWithSpriteFrame(): spriteFrame should be non-null and its texture should be non-null";
c=c||q.wd();var d=a.wb;(this.wb=d)||a.eg(function(a){var c=this.Gg,c=q.size(c.width,c.height);this.rq(this.Bf,a.pd(),q.Ja.cd?a.Ad:!1,this.Do);this.Ei(c);this.dl=!0;this.qe()},this);d=q.Gb.Ma(a.ja(),9);return this.ex(d,a.pd(),q.Ja.cd?a.Ad:!1,c)},kJ:function(a,c){if(!a)throw"cc.Scale9Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";c=c||q.wd();var d=q.zg.g().Jh(a);return null==d?(q.log("cc.Scale9Sprite.initWithSpriteFrameName(): can't find the sprite frame by spriteFrameName"),
!1):this.Me(d,c)},S$:function(a){var c=new q.Wd;return c&&c.ex(this.Bf,this.np,!1,a)?c:null},Lf:function(a){if(this.Bf){this.Dc=a;var c=this.Bf.C;if(c)for(var d=0,e=c.length;d<e;d++)c[d].Lf(a)}},yl:function(){return this.Dc},rq:function(a,c,d,e){var f=this.mj(),g=this.Dd();c=q.rect(c.x,c.y,c.width,c.height);this.nc(!0);this.Bf!=a&&(this.Bf=a);a=a.ja();var h=a.Vg();if(this.wb=h){a=this.Bf;a.nc(!0);h=this.Do;h.x=e.x;h.y=e.y;h.width=e.width;h.height=e.height;this.CB=d;h=a.ja();q.Tr(c)&&(c=h.c(),c=q.rect(0,
0,c.width,c.height));var k=this.np=c;k.x=c.x;k.y=c.y;k.width=c.width;k.height=c.height;var l=c.Xa;this.zd.width=l.width;this.zd.height=l.height;k=this.Gg;0===k.width&&0===k.height&&(k.width=l.width,k.height=l.height);k=this.aG;e&&(k.x=e.x,k.y=e.y,k.width=e.width,k.height=e.height);var m=l.width;e=l.height;q.Tr(k)&&(k.x=m/3,k.y=e/3,k.width=m/3,k.height=e/3);var p=k.x,s=k.width,u=m-(p+s),w=k.y,x=k.height,E=e-(w+x),I=0,D=0;e=q.rect(I,D,p,w);var I=I+p,k=q.rect(I,D,s,w),m=q.rect(I+s,D,u,w),I=0,D=0+w,l=
q.rect(I,D,p,x),I=I+p,fa=q.rect(I,D,s,x),I=I+s,ga=q.rect(I,D,u,x),I=0,D=0+w+x,w=q.rect(I,D,p,E),I=I+p,p=q.rect(I,D,s,E),I=I+s,s=q.rect(I,D,u,E),u={O:1,n:0,La:0,d:1,hb:0,ib:0};if(d){d=fa;var E=s,I=w,D=m,x=e,ta=ga,ja=l,ua=p,va=k,u=q.ty(u,c.height+c.x,c.y),u=q.fM(u),fa=q.Qf(fa,u),s=q.Qf(s,u),w=q.Qf(w,u),m=q.Qf(m,u);e=q.Qf(e,u);ga=q.Qf(ga,u);l=q.Qf(l,u);p=q.Qf(p,u);k=q.Qf(k,u);d.x=fa.x;d.y=fa.y;E.x=s.x;E.y=s.y;I.x=w.x;I.y=w.y;D.x=m.x;D.y=m.y;x.x=e.x;x.y=e.y;ta.x=ga.x;ta.y=ga.y;ja.x=l.x;ja.y=l.y;ua.x=
p.x;ua.y=p.y;va.x=k.x;va.y=k.y;this.Nj=new q.v;this.Nj.Qa(h,d,!0);a.f(this.Nj,0,q.mF);this.ji=new q.v;this.ji.Qa(h,va,!0);a.f(this.ji,1,q.pF);this.Mi=new q.v;this.Mi.Qa(h,ua,!0);a.f(this.Mi,1,q.kF);this.Yi=new q.v;this.Yi.Qa(h,ja,!0);a.f(this.Yi,1,q.nF);this.ei=new q.v;this.ei.Qa(h,ta,!0);a.f(this.ei,1,q.oF);this.ki=new q.v;this.ki.Qa(h,x,!0);a.f(this.ki,2,q.qF);this.Ah=new q.v;this.Ah.Qa(h,D,!0);a.f(this.Ah,2,q.rF);this.Ni=new q.v;this.Ni.Qa(h,I,!0);a.f(this.Ni,2,q.lF);this.Oi=new q.v;this.Oi.Qa(h,
E,!0)}else u=q.ty(u,c.x,c.y),q.Ji(fa,u),q.Ji(s,u),q.Ji(w,u),q.Ji(m,u),q.Ji(e,u),q.Ji(ga,u),q.Ji(l,u),q.Ji(p,u),q.Ji(k,u),this.Nj=new q.v,this.Nj.Qa(h,fa),a.f(this.Nj,0,q.mF),this.ji=new q.v,this.ji.Qa(h,k),a.f(this.ji,1,q.pF),this.Mi=new q.v,this.Mi.Qa(h,p),a.f(this.Mi,1,q.kF),this.Yi=new q.v,this.Yi.Qa(h,l),a.f(this.Yi,1,q.nF),this.ei=new q.v,this.ei.Qa(h,ga),a.f(this.ei,1,q.oF),this.ki=new q.v,this.ki.Qa(h,e),a.f(this.ki,2,q.qF),this.Ah=new q.v,this.Ah.Qa(h,m),a.f(this.Ah,2,q.rF),this.Ni=new q.v,
this.Ni.Qa(h,w),a.f(this.Ni,2,q.lF),this.Oi=new q.v,this.Oi.Qa(h,s);a.f(this.Oi,2,q.kN);this.P(c.Xa);this.f(a);this.eH&&(this.ta(f),255===g.q&&255===g.p&&255===g.n||this.r(g));return this.eH=!0}a.eg(function(){this.dl=!0;this.qe()},this)},Mf:function(a){var c=q.Gb.Ma(a.ja(),9),d=a.wb;(this.wb=d)||a.eg(function(a){var c=this.Gg,c=q.size(c.width,c.height);this.rq(this.Bf,a.pd(),q.Ja.cd?a.Ad:!1,this.Do);this.Ei(c);this.dl=!0;this.qe()},this);this.rq(c,a.pd(),q.Ja.cd?a.Ad:!1,q.wd());this.zv=this.Bv=this.Cv=
this.Av=0}});q.Wd.create=function(a,c,d){var e;if(2===arguments.length)if("string"==typeof a){if((e=new q.Wd)&&e.pj(a,c))return e}else{if(a instanceof q.yg&&(e=new q.Wd)&&e.pj(a,d))return e}else if(3===arguments.length){if((e=new q.Wd)&&e.pj(a,c,d))return e}else if(1===arguments.length){if((e=new q.Wd)&&e.pj(a))return e}else if(0===arguments.length&&(e=new q.Wd)&&e.w())return e;return null};q.Wd.$H=function(a,c){var d=new q.Wd;return d&&d.Me(a,c)?d:null};
q.Wd.aI=function(a,c){if(!a)throw"cc.Scale9Sprite.createWithSpriteFrameName(): spriteFrameName should be non-null";var d=new q.Wd;return d&&d.kJ(a,c)?d:null};q.Bu=q.Tc.extend({});q.Bu.nda=function(a){var c=new q.Bu;c.w();c.P(0,a);return c};q.Bu.x7=function(a){var c=new q.Bu;c.w();c.P(a,0);return c};
q.nu=q.Tc.extend({ub:!0,Bc:null,aj:0,ctor:function(){},Dd:function(){return this.Bc},r:function(a){this.Bc=a;if(this.C&&0<this.C.length)for(var c=0;c<this.C.length;c++)this.C[c]&&this.C[c].ub&&this.C[c].r(a)},mj:function(){return this.aj},ta:function(a){this.aj=a;if(this.C&&0<this.C.length)for(var c=0;c<this.C.length;c++)this.C[c]&&this.C[c].ub&&this.C[c].ta(a)},dU:function(a,c){if(this.w()){var d=q.fa.g().bc;this.oj(!0);this.A(0.5,0.5);this.P(d);this.l(d.width/2,d.height/2);d=0;if(a){this.f(a,d);
for(var e=0;e<c.length;e++)c[e]&&(d++,this.f(c[e],d))}return!0}return!1},W1:function(){this.lR(q.rM)},lR:function(a){var c=-a,d;if(this.C&&0<this.C.length)for(d=0;d<this.C.length;d++)this.C[d]&&(c+=this.C[d].c().height*this.C[d].Da+a);var e=0,f=c/2;if(this.C&&0<this.C.length)for(d=0;d<this.C.length;d++)this.C[d]&&(e=Math.max(e,this.C[d].c().width),this.C[d].l(0,f-this.C[d].c().height*this.C[d].Da/2),f-=this.C[d].c().height*this.C[d].Da+a);this.P(e,c)},T1:function(){this.kR(q.rM)},kR:function(a){var c=
-a,d;if(this.C&&0<this.C.length)for(d=0;d<this.C.length;d++)this.C[d]&&(c+=this.C[d].c().width*this.C[d].va+a);var e=0,f=-c/2;if(this.C&&0<this.C.length)for(d=0;d<this.C.length;d++)this.C[d]&&(e=Math.max(e,this.C[d].c().height),this.C[d].l(f+this.C[d].c().width*this.C[d].va/2,0),f+=this.C[d].c().width*this.C[d].va+a);this.P(c,e)},U1:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=-5,f=0,g=0,h=0,k,l;if(this.C&&0<this.C.length)for(d=0;d<this.C.length;d++)this.C[d]&&
(f>=c.length?q.log("cc.MenuPassive.alignItemsInColumns(): invalid row index"):(k=c[f])?(l=this.C[d].c().height,g=0|(g>=l||null==l?g:l),++h,h>=k&&(e+=g+5,g=h=0,++f)):q.log("cc.MenuPassive.alignItemsInColumns(): can not have zero columns on a row"));var m=q.fa.g().bc,p=k=g=f=0,s=0,e=e/2;if(this.C&&0<this.C.length)for(d=0;d<this.C.length;d++)this.C[d]&&(0==k&&(k=c[f],s=p=m.width/(1+k)),l=this.C[d].c().height,g=0|(g>=l||null==l?g:l),this.C[d].l(s-m.width/2,e-this.C[d].c().height/2),s+=p,++h,h>=k&&(e-=
g+5,g=k=h=0,++f))},V1:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=[],f=[],g=-10,h=-5,k=0,l=0,m=0,p,s;if(this.C&&0<this.C.length)for(d=0;d<this.C.length;d++)this.C[d]&&(k>=c.length?q.log("cc.MenuPassive.alignItemsInRows(): invalid row index"):(p=c[k])?(s=this.C[d].c().width,l=0|(l>=s||null==s?l:s),h+=0|this.C[d].c().height+5,++m,m>=p&&(e.push(l),f.push(h),g+=l+10,l=m=0,h=-5,++k)):q.log("cc.MenuPassive.alignItemsInColumns(): can't have zero rows on a column"));h=
q.fa.g().bc;l=k=0;p=null;var g=-g/2,u=0;if(this.C&&0<this.C.length)for(d=0;d<this.C.length;d++)this.C[d]&&(null==p&&(p=c[k],u=f[k]),s=this.C[d].c().width,l=0|(l>=s||null==s?l:s),this.C[d].l(g+e[k]/2,u-h.height/2),u-=this.C[d].c().height+10,++m,m>=p&&(g+=l+5,l=p=m=0,++k))},Lf:function(){},yl:function(){return!1}});q.nu.create=function(a){0==arguments.length&&(a=null);for(var c=[],d=1;d<arguments.length;d++)c.push(arguments[d]);return(d=new q.nu)&&d.dU(a,c)?d:null};
q.nu.T2=function(a){return q.nu.create(a,null)};q.Gy=q.cc.extend({mB:0,cv:0,Wc:null,qP:null,cH:null,zh:null,Ic:null,Cg:0,Mj:0,q6:function(){return this.mB},g4:function(){return this.cv},AI:function(){return this.Wc},S5:function(){return this.cv},x6:function(){return this.cH},vT:function(){return this.zh},xT:function(){return this.Ic},bD:function(a,c){return q.cc.prototype.w.call(this)?(this.hc(!0),this.Wc=q.ne.hn("colourPickerBackground.png",a,c,q.a(0,0)),this.qP=q.ne.hn("colourPickerOverlay.png",a,c,q.a(0,0)),this.cH=q.ne.hn("colourPickerShadow.png",
a,c,q.a(0,0)),this.zh=q.ne.hn("colourPicker.png",a,c,q.a(0.5,0.5)),this.Ic=c,this.Cg=35,this.Mj=this.Wc.c().width/2,!0):!1},Kf:function(a){q.cc.prototype.Kf.call(this,a);this.zh&&this.zh.ta(a?255:128)},YL:function(a){var c=new q.Ry;c.s=1;c.h=a.h;c.ua=1;a=q.ne.gz(c);this.Wc.r(q.iC(0|255*a.q,0|255*a.p,0|255*a.n))},BY:function(a){a=q.a(this.Ic.x+this.Cg+this.Mj*(1-a.s),this.Ic.y+this.Cg+this.Mj*a.ua);this.Cw(a)},Cw:function(a){var c=this.Ic.x+0.5*this.Wc.ob().width,d=this.Ic.y+0.5*this.Wc.ob().height,
e=a.x-c,f=a.y-d,g=Math.sqrt(e*e+f*f),e=Math.atan2(f,e),f=0.5*this.Wc.ob().width;g>f&&(a.x=c+f*Math.cos(e),a.y=d+f*Math.sin(e));this.zh.l(a);a.x<this.Ic.x+this.Cg?a.x=this.Ic.x+this.Cg:a.x>this.Ic.x+this.Cg+this.Mj-1&&(a.x=this.Ic.x+this.Cg+this.Mj-1);a.y<this.Ic.y+this.Cg?a.y=this.Ic.y+this.Cg:a.y>this.Ic.y+this.Cg+this.Mj&&(a.y=this.Ic.y+this.Cg+this.Mj);this.mB=1-Math.abs((this.Ic.x+this.Cg-a.x)/this.Mj);this.cv=Math.abs((this.Ic.y+this.Cg-a.y)/this.Mj)},Tq:function(a){var c=this.Ic.x+0.5*this.Wc.ob().width,
d=this.Ic.y+0.5*this.Wc.ob().height,c=a.x-c,d=a.y-d;return Math.sqrt(c*c+d*d)<=0.5*this.Wc.ob().width?(this.Cw(a),this.qf(q.Gi),!0):!1},xb:function(a){if(!this.isEnabled()||!this.ya)return!1;a=this.nj(a);return this.Tq(a)},Qd:function(a){a=this.nj(a);this.Tq(a)}});q.Gy.create=function(a,c){var d=new q.Gy;d.bD(a,c);return d};q.Fy=q.cc.extend({Vo:0,Ar:0,Wc:null,zh:null,Ic:null,a5:function(){return this.Vo},ZD:function(a){this.Vo=a;this.eX(this.Vo/360)},b5:function(){return this.Ar},eX:function(a){this.Ar=a;this.Vo=360*this.Ar;a=this.Wc.ob();var c=0.5*a.width-15,d=q.Ej(360*this.Ar-180);this.zh.l(this.Ic.x+0.5*a.width+c*Math.cos(d),this.Ic.y+0.5*a.height+c*Math.sin(d))},Kf:function(a){q.cc.prototype.Kf.call(this,a);this.zh&&this.zh.ta(a?255:128)},AI:function(){return this.Wc},vT:function(){return this.zh},xT:function(){return this.Ic},
bD:function(a,c){return q.cc.prototype.w.call(this)?(this.hc(!0),this.Wc=q.ne.hn("huePickerBackground.png",a,c,q.a(0,0)),this.zh=q.ne.hn("colourPicker.png",a,c,q.a(0.5,0.5)),this.zh.l(c.x,c.y+0.5*this.Wc.ob().height),this.Ic=c,this.Ar=this.Vo=0,!0):!1},Cw:function(a){var c=this.Wc.ob();this.ZD(q.ez(Math.atan2(a.y-(this.Ic.y+0.5*c.height),a.x-(this.Ic.x+0.5*c.width)))+180);this.qf(q.Gi)},Tq:function(a){var c=Math.sqrt(Math.pow(a.x+10,2)+Math.pow(a.y,2));return 80>c&&59<c?(this.Cw(a),!0):!1},xb:function(a){if(!this.isEnabled()||
!this.ya)return!1;a=this.nj(a);return this.Tq(a)},Qd:function(a){a=this.nj(a);this.Tq(a)}});q.Fy.create=function(a,c){var d=new q.Fy;d.bD(a,c);return d};q.RE=q.cc.extend({ph:null,Pk:null,Am:null,Wc:null,aU:function(a){this.ph.h=a.Vo;a=q.ne.gz(this.ph);q.cc.prototype.r.call(this,q.iC(0|255*a.q,0|255*a.p,0|255*a.n));this.qf(q.Gi);this.KQ()},NR:function(a){this.ph.s=a.mB;this.ph.ua=a.cv;a=q.ne.gz(this.ph);q.cc.prototype.r.call(this,q.iC(0|255*a.q,0|255*a.p,0|255*a.n));this.qf(q.Gi)},r:function(a){q.cc.prototype.r.call(this,a);var c=new q.RGBA;c.q=a.q/255;c.p=a.p/255;c.n=a.n/255;c.O=1;this.ph=q.ne.FM(c);this.vH()},AI:function(){return this.Wc},w:function(){if(q.cc.prototype.w.call(this)){this.hc(!0);
q.zg.g().NH(aa.JE);var a=q.Gb.create(aa.KE);this.f(a);this.ph=new q.Ry(0,0,0);this.Wc=q.ne.hn("menuColourPanelBackground.png",a,q.Gj(),q.a(0.5,0.5));var c=q.Rd(this.Wc.u,q.a(this.Wc.c().width/2,this.Wc.c().height/2));this.Am=q.Fy.create(a,q.a(c.x+8,c.y+8));this.Pk=q.Gy.create(a,q.a(c.x+28,c.y+28));this.Am.OH(this,this.aU,q.Gi);this.Pk.OH(this,this.NR,q.Gi);this.vH();this.f(this.Am);this.f(this.Pk);this.P(this.Wc.c());return!0}return!1},KQ:function(){this.Am.ZD(this.ph.h);this.Pk.YL(this.ph)},vH:function(){this.Am.ZD(this.ph.h);
this.Pk.YL(this.ph);this.Pk.BY(this.ph)},Kf:function(a){q.cc.prototype.Kf.call(this,a);null!=this.Am&&this.Am.Kf(a);this.Pk&&this.Pk.Kf(a)},xb:function(){return!1}});q.RE.create=function(){var a=new q.RE;a.w();return a};aa=aa||{};aa.JE=aa.JE||"res/extensions/CCControlColourPickerSpriteSheet.plist";aa.KE=aa.KE||"res/extensions/CCControlColourPickerSpriteSheet.png";q.yF=24;q.e0=8;
q.TE=q.cc.extend({jd:0,sb:0,Ob:0,Tv:0,Rv:0,Pb:null,el:null,pe:null,VI:function(){return this.jd},rf:function(a){a=Math.max(a,this.sb);this.jd=a=Math.min(a,this.Ob);this.sd();this.qf(q.Gi)},cT:function(){return this.sb},WK:function(a){this.Tv=this.sb=a;this.sb>=this.Ob&&(this.Ob=this.sb+1);this.rf(this.jd)},bT:function(){return this.Ob},UK:function(a){this.Rv=this.Ob=a;this.Ob<=this.sb&&(this.sb=this.Ob-1);this.rf(this.jd)},yi:function(a){a=a.R;a=this.getParent().Ka(a);var c=this.ob();c.Xa.width+=
this.Pb.c().width;c.fd.x-=this.Pb.c().width/2;return q.tb(c,a)},xn:function(a){a=a.R;a=this.Ka(a);0>a.x?a.x=0:a.x>this.pe.c().width&&(a.x=this.pe.c().width);return a},w5:function(){return this.Tv},$aa:function(a){this.Tv=a},u5:function(){return this.Rv},Zaa:function(a){this.Rv=a},TI:function(){return this.Pb},b6:function(){return this.el},a4:function(){return this.pe},hU:function(a,c,d){return q.cc.prototype.w.call(this)?(this.oj(!1),this.hc(!0),this.pe=a,this.el=c,this.Pb=d,a=q.ne.LE(a.ob(),d.ob()),
this.P(a.width,a.height),this.pe.A(0.5,0.5),this.pe.l(a.width/2,a.height/2),this.f(this.pe),this.el.A(0,0.5),this.el.l(0,a.height/2),this.f(this.el),this.Pb.l(0,a.height/2),this.f(this.Pb),this.sb=0,this.Ob=1,this.rf(this.sb),!0):!1},Kf:function(a){q.cc.prototype.Kf.call(this,a);this.Pb&&this.Pb.ta(a?255:128)},lY:function(a){this.lq(!0);this.Pb.r(q.wl());this.rf(this.DE(a))},nY:function(a){this.rf(this.DE(a))},mY:function(){this.kp&&this.rf(this.DE(this.Pb.u));this.Pb.r(q.Fb());this.lq(!1)},X6:function(a){a=
a.R;a=this.Ka(a);0>a.x?a.x=0:a.x>this.pe.c().width+q.yF&&(a.x=this.pe.c().width+q.yF);return a},xb:function(a){if(!this.yi(a)||!this.isEnabled()||!this.ya)return!1;a=this.xn(a);this.lY(a);return!0},Qd:function(a){a=this.xn(a);this.nY(a)},$g:function(){this.mY(q.Gj())},sd:function(){this.Pb.Ra((this.jd-this.sb)/(this.Ob-this.sb)*this.pe.c().width);var a=this.el.NC(),a=q.rect(a.x,a.y,this.Pb.u.H,a.height);this.el.gb(a,this.el.md,a.Xa)},DE:function(a){a=a.x/this.pe.c().width;return Math.max(Math.min(this.sb+
a*(this.Ob-this.sb),this.Rv),this.Tv)}});q.TE.create=function(a,c,d){"string"==typeof a&&(a=q.v.create(a),c=q.v.create(c),d=q.v.create(d));var e=new q.TE;e.hU(a,c,d);return e};q.VE=q.cc.extend({nd:null,sG:0,Or:!1,fp:!1,ctor:function(){q.cc.prototype.ctor.call(this)},ZC:function(a,c,d,e,f,g){if(!a)throw"cc.ControlSwitch.initWithMaskSprite(): maskSprite should be non-null.";if(!c)throw"cc.ControlSwitch.initWithMaskSprite(): onSprite should be non-null.";if(!d)throw"cc.ControlSwitch.initWithMaskSprite(): offSprite should be non-null.";if(!e)throw"cc.ControlSwitch.initWithMaskSprite(): thumbSprite should be non-null.";return this.w()?(this.hc(!0),this.fp=!0,this.nd=new q.qM,
this.nd.ZC(a,c,d,e,f,g),this.nd.l(this.nd.c().width/2,this.nd.c().height/2),this.f(this.nd),this.oj(!1),this.A(0.5,0.5),this.P(this.nd.c()),!0):!1},Ox:function(a,c){var d=(this.fp=a)?this.nd.bl:this.nd.Fm;c?this.nd.Hx(q.ao.create(0.2,"sliderXPosition",this.nd.gk,d)):this.nd.bE(d);this.qf(q.Gi)},j8:function(){return this.fp},v7:function(){return this.Or},Kf:function(a){this.pr=a;this.nd.ta(a?255:128)},xn:function(a){a=a.R;return a=this.Ka(a)},xb:function(a){if(!this.yi(a)||!this.isEnabled()||!this.ya)return!1;
this.Or=!1;this.sG=this.xn(a).x-this.nd.gk;this.nd.Pb.r(q.wl());this.nd.sd();return!0},Qd:function(a){a=this.xn(a);a=q.a(a.x-this.sG,0);this.Or=!0;this.nd.bE(a.x)},$g:function(a){a=this.xn(a);this.nd.Pb.r(q.Fb());this.Or?this.Ox(!(a.x<this.nd.c().width/2),!0):this.Ox(!this.fp,!0)},wk:function(a){a=this.xn(a);this.nd.Pb.r(q.Fb());this.Or?this.Ox(!(a.x<this.nd.c().width/2),!0):this.Ox(!this.fp,!0)}});q.VE.create=function(a,c,d,e,f,g){var h=new q.VE;return h&&h.ZC(a,c,d,e,f,g)?h:null};
q.qM=q.v.extend({gk:0,bl:0,Fm:0,jH:0,LA:0,MA:null,th:null,$i:null,Pb:null,Gm:null,Em:null,Jo:null,Ec:null,$u:null,ctor:function(){q.v.prototype.ctor.call(this);this.LA=this.Fm=this.bl=this.gk=0;this.MA=q.size(0,0);this.Em=this.Gm=this.Pb=this.$i=this.th=null},ZC:function(a,c,d,e,f,g){return q.v.prototype.Qa.call(this,a.ja())?(this.bl=0,this.Fm=-c.c().width+e.c().width/2,this.gk=this.bl,this.vX(c),this.tX(d),this.dE(e),this.uX(f),this.sX(g),this.Ec=a,a=this.MA=this.Ec.c(),this.Ec.l(0,0),this.Jo=q.Ab.create(),
this.Jo.A(0.5,0.5),this.Jo.l(a.width/2,a.height/2),this.Jo.cE(this.Ec),this.$u=q.vb.create(a.width,a.height),this.Jo.f(this.$u.Bb),this.f(this.Jo),this.f(this.Pb),this.sd(),!0):!1},sd:function(){this.th.l(this.th.c().width/2+this.gk,this.th.c().height/2);this.$i.l(this.th.c().width+this.$i.c().width/2+this.gk,this.$i.c().height/2);this.Gm&&this.Gm.l(this.th.u.x-this.Pb.c().width/6,this.th.c().height/2);this.Em&&this.Em.l(this.$i.u.x+this.Pb.c().width/6,this.$i.c().height/2);this.Pb.l(this.th.c().width+
this.gk,this.MA.height/2);this.$u.nk();this.th.Ba();this.$i.Ba();this.Gm&&this.Gm.Ba();this.Em&&this.Em.Ba();this.$u.end()},bE:function(a){a<=this.Fm?a=this.Fm:a>=this.bl&&(a=this.bl);this.gk=a;this.sd()},A6:function(){return this.gk},y9:function(){return this.th.c().width},w9:function(){return this.$i.c().height},BE:function(a,c){q.log("key \x3d "+c+", value \x3d "+a);this.bE(a)},iba:function(a){this.bl=a},M5:function(){return this.bl},fba:function(a){this.Fm=a},G5:function(){return this.Fm},Yaa:function(a){this.Ec.ka(a)},
q5:function(){return this.Ec.ja()},Mba:function(a){this.jH=a},N6:function(){return this.jH},Xaa:function(a){this.LA=a},p5:function(){return this.LA},vX:function(a){this.th=a},N5:function(){return this.th},tX:function(a){this.$i=a},H5:function(){return this.$i},dE:function(a){this.Pb=a},TI:function(){return this.Pb},uX:function(a){this.Gm=a},L5:function(){return this.Gm},sX:function(a){this.Em=a},F5:function(){return this.Em}});q.OE=0;q.PE=1;q.Jt=2;q.uq=q.o(55,55,55);q.By=q.o(147,147,147);q.NE="CourierNewPSMT";q.HE=0.15;q.dM=12;
q.UE=q.cc.extend({be:null,yf:null,al:null,cl:null,jd:0,Xq:!1,vo:!1,cn:!1,sb:0,Ob:0,Rm:0,qs:!1,Ym:q.Jt,Qq:0,ctor:function(){q.cc.prototype.ctor.call(this);this.cl=this.al=this.yf=this.be=null;this.jd=0;this.cn=this.vo=this.Xq=!1;this.Rm=this.Ob=this.sb=0;this.qs=!1;this.Ym=q.Jt;this.Qq=0},fU:function(a,c){if(!a)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Minus sprite should be non-null.";if(!c)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Plus sprite should be non-null.";
if(this.w()){this.hc(!0);this.Xq=this.vo=!0;this.sb=0;this.Ob=100;this.jd=0;this.Rm=1;this.cn=!1;this.oj(!1);this.oX(a);this.be.l(a.c().width/2,a.c().height/2);this.f(this.be);this.nX(q.T.create("-",q.NE,40,q.size(40,40),q.Kj,q.Pu));this.al.r(q.By);this.al.l(this.be.c().width/2,this.be.c().height/2);this.be.f(this.al);this.zX(c);this.yf.l(a.c().width+c.c().width/2,a.c().height/2);this.f(this.yf);this.yX(q.T.create("+",q.NE,40,q.size(40,40),q.Kj,q.Pu));this.cl.r(q.uq);this.cl.l(this.yf.c().width/2,
this.yf.c().height/2);this.yf.f(this.cl);var d=q.ne.LE(this.be.ob(),this.yf.ob());this.P(this.be.c().width+this.yf.c().height,d.Xa.height);return!0}return!1},$ba:function(a){if(this.cn=a)this.al.r(q.uq),this.cl.r(q.uq);this.rf(this.jd)},WK:function(a){if(a>=this.Ob)throw"cc.ControlStepper.setMinimumValue(): minimumValue should be numerically less than maximumValue.";this.sb=a;this.rf(this.jd)},UK:function(a){if(a<=this.sb)throw"cc.ControlStepper.setMaximumValue(): maximumValue should be numerically less than maximumValue.";
this.Ob=a;this.rf(this.jd)},rf:function(a){this.hE(a,!0)},VI:function(){return this.jd},Fba:function(a){if(0>=a)throw"cc.ControlStepper.setMaximumValue(): stepValue should be numerically greater than 0.";this.Rm=a},U7:function(){return this.Xq},hE:function(a,c){a<this.sb?a=this.cn?this.Ob:this.sb:a>this.Ob&&(a=this.cn?this.sb:this.Ob);this.jd=a;this.cn||(this.al.r(a==this.sb?q.By:q.uq),this.cl.r(a==this.Ob?q.By:q.uq));c&&this.qf(q.Gi)},DL:function(){this.Qq=-1;this.gc(this.update,q.HE,q.im,3*q.HE)},
FL:function(){this.Sc(this.update)},update:function(){this.Qq++;this.Qq<q.dM&&0!=this.Qq%3||(this.Ym==q.OE?this.hE(this.jd-this.Rm,this.Xq):this.Ym==q.PE&&this.hE(this.jd+this.Rm,this.Xq))},QL:function(a){a.x<this.be.c().width&&this.jd>this.sb?(this.Ym=q.OE,this.be.r(q.wl()),this.yf.r(q.Fb())):a.x>=this.be.c().width&&this.jd<this.Ob?(this.Ym=q.PE,this.be.r(q.Fb()),this.yf.r(q.wl())):(this.Ym=q.Jt,this.be.r(q.Fb()),this.yf.r(q.Fb()))},xb:function(a){if(!this.yi(a)||!this.isEnabled()||!this.ya)return!1;
a=this.nj(a);this.QL(a);this.qs=!0;this.vo&&this.DL();return!0},Qd:function(a){this.yi(a)?(a=this.nj(a),this.QL(a),this.qs||(this.qs=!0,this.vo&&this.DL())):(this.qs=!1,this.Ym=q.Jt,this.be.r(q.Fb()),this.yf.r(q.Fb()),this.vo&&this.FL())},$g:function(a){this.be.r(q.Fb());this.yf.r(q.Fb());this.vo&&this.FL();this.yi(a)&&(a=this.nj(a),this.rf(this.jd+(a.x<this.be.c().width?0-this.Rm:this.Rm)))},oX:function(a){this.be=a},y5:function(){return this.be},zX:function(a){this.yf=a},W5:function(){return this.yf},
nX:function(a){this.al=a},x5:function(){return this.al},yX:function(a){this.cl=a},V5:function(){return this.cl}});q.UE.create=function(a,c){var d=new q.UE;return d&&d.fU(a,c)?d:null};q.SE=q.cc.extend({Pb:null,ip:null,hp:null,jd:0,sb:0,Ob:1,kU:function(a,c,d){return this.w()?(this.hc(!0),this.DX(c),this.dE(d),this.Pb.l(c.u),this.f(d,2),this.f(c,1),this.f(a),this.P(a.c()),this.sb=0,this.Ob=1,this.rf(this.sb),!0):!1},Kf:function(a){this.Kf(a);this.Pb!=NULL&&this.Pb.ta(a?255:128)},rf:function(a){a<this.sb&&(a=this.sb);a>this.Ob&&(a=this.Ob);this.jd=a;a=(a-this.sb)/(this.Ob-this.sb);this.ip.kt(100*a);this.Pb.Rx(360*a);this.qf(q.Gi)},VI:function(){return this.jd},WK:function(a){this.sb=
a;this.sb>=this.Ob&&(this.Ob=this.sb+1);this.rf(this.Ob)},cT:function(){return this.sb},UK:function(a){this.Ob=a;this.Ob<=this.sb&&(this.sb=this.Ob-1);this.rf(this.sb)},bT:function(){return this.Ob},yi:function(a){a=this.nj(a);return this.wS(this.ip.u,a)<Math.min(this.c().width/2,this.c().height/2)},xb:function(a){if(!this.yi(a)||!this.isEnabled()||!this.ya)return!1;this.hp=this.nj(a);this.xV(this.hp);return!0},Qd:function(a){a=this.nj(a);this.zV(a)},$g:function(){this.yV(q.a(0,0))},wS:function(a,
c){var d=a.x-c.x,e=a.y-c.y;return Math.sqrt(d*d+e*e)},nR:function(a,c,d,e){return 180*(Math.atan2(c.x-a.x,c.y-a.y)-Math.atan2(e.x-d.x,e.y-d.y))/Math.PI},xV:function(){this.lq(!0);this.Pb.r(q.wl())},zV:function(a){var c=this.nR(this.ip.u,a,this.ip.u,this.hp);180<c?c-=360:-180>c&&(c+=360);this.rf(this.jd+c/360*(this.Ob-this.sb));this.hp=a},yV:function(){this.Pb.r(q.Fb());this.lq(!1)},dE:function(a){this.Pb=a},TI:function(){return this.Pb},DX:function(a){this.ip=a},c6:function(){return this.ip},oba:function(a){this.hp=
a},jT:function(){return this.hp}});q.SE.create=function(a,c,d){var e=new q.SE;return e&&(a=q.v.create(a),d=q.v.create(d),c=q.Uc.create(q.v.create(c)),e.kU(a,c,d))?e:null};q.wF=-1;q.mo=0;q.Bq=1;q.xu=2;q.UR=function(a){var c=q.qa.g();return(c.va+c.Da)/2*a/160};q.wN=q.Na.extend({DW:function(){},EW:function(){}});
q.Uh=q.Tc.extend({E1:0,n1:0,l1:0,Ea:null,Ti:q.xu,Ui:!1,yO:null,Wa:null,Bh:!1,Pv:null,Sv:null,Rq:!1,Uq:!1,Vr:null,yp:null,rs:0,Ch:null,ni:null,GG:0,EG:0,Qr:null,nB:!1,kH:null,ctor:function(){q.Tc.prototype.ctor.call(this);this.yO=new q.kh(0,0);this.Pv=new q.kh(0,0);this.Sv=new q.kh(0,0);this.Vr=new q.kh(0,0);this.yp=new q.kh(0,0);this.Ch=[];this.ni=new q.Hk(0,0);this.Qr=new q.yg(0,0,0,0);this.kH=new q.yg(0,0,0,0)},w:function(){return this.$p(q.size(200,200),null)},Ex:function(){q.CD(this.ml,!1,this)},
$p:function(a,c){var d=q.a(0,0);return q.Tc.prototype.w.call(this)?(this.Wa=c,this.Wa||(this.Wa=q.Tc.create(),this.Wa.oj(!1),this.Wa.A(d)),this.pL(a),this.hc(!0),this.Ch.length=0,this.Ea=null,this.Uq=this.Rq=!0,this.Ti=q.xu,this.Wa.l(d),this.rs=0,this.f(this.Wa),this.GG=this.EG=1,!0):!1},Ol:function(a,c){if(c)this.TW(a,0.15);else{if(!this.Rq){var d=this.yn(),e=this.at();a.x=Math.max(d.x,Math.min(e.x,a.x));a.y=Math.max(d.y,Math.min(e.y,a.y))}this.Wa.l(a)}},CI:function(){var a=this.Wa.u;return q.a(a.x,
a.y)},TW:function(a,c){var d=q.ou.create(c,a),e=q.vq.create(this.yQ,this);this.Wa.Hx(q.Ij.create(d,e));this.gc(this.TA)},uL:function(a,c){if(c)this.YX(a,0.15);else{var d=this.Wa;if(d.JC()!=a){var e,f;0==this.rs?(f=this.ni,f=q.a(0.5*f.width,0.5*f.height),f=this.pl(f)):f=this.yp;e=d.Ka(f);d.yk(Math.max(this.GG,Math.min(this.EG,a)));e=d.pl(e);f=q.Rd(f,e);this.Ol(q.ah(d.u,f))}}},YI:function(){return this.Wa.JC()},YX:function(a,c){if(0<c){var d=this.Wa.JC();d!=a&&(d=q.ao.create(c,"zoomScale",d,a),this.Hx(d))}else this.uL(a)},
yn:function(){var a=this.Wa,c=a.c(),d=this.ni;return q.a(d.width-c.width*a.va,d.height-c.height*a.Da)},at:function(){return q.a(0,0)},i8:function(a){var c=this.CI(),d=this.ni,e=this.YI(),c=q.rect(-c.x/e,-c.y/e,d.width/e,d.height/e);return q.NV(c,a.ob())},pause:function(){this.Wa.zx();for(var a=this.Wa.C,c=0;c<a.length;c++)a[c].zx()},vK:function(){for(var a=this.Wa.C,c=0,d=a.length;c<d;c++)a[c].Gx();this.Wa.Gx()},X7:function(){return this.Ui},A8:function(){return this.Bh},Q7:function(){return this.Rq},
NW:function(a){this.Rq=a},k7:function(){return this.ni},pL:function(a){this.ni=a;q.F.prototype.P.call(this,a)},u4:function(){return this.Wa},RW:function(a){a&&(this.nc(!0),this.Wa=a,a.oj(!1),a.A(0,0),this.f(a),this.pL(this.ni))},J4:function(){return this.Ti},IK:function(a){this.Ti=a},vc:function(){return this.Ea},og:function(a){this.Ea=a},xb:function(a){if(!this.ya)return!1;var c=this.BA(),d=this.Wa,e=d.pl(d.pi(a)),f=this.Ch;if(2<f.length||this.Bh||!q.tb(c,e))return!1;f.push(a);1===f.length?(this.yp=
this.pi(a),this.Bh=!1,this.Ui=!0,this.Vr.x=0,this.rs=this.Vr.y=0):2==f.length&&(this.yp=q.uD(this.pi(f[0]),this.pi(f[1])),this.rs=q.rD(d.pi(f[0]),d.pi(f[1])),this.Ui=!1);return!0},Qd:function(a){if(this.ya)if(1===this.Ch.length&&this.Ui){this.Bh=!0;var c=this.BA(),d=this.pi(a);a=q.Rd(d,this.yp);var e=0,f=this.Ti,e=f===q.Bq?a.y:f===q.mo?a.x:Math.sqrt(a.x*a.x+a.y*a.y);if(this.Bh||!(0.04375>Math.abs(q.UR(e))))if(this.Bh||(a.x=0,a.y=0),this.yp=d,this.Bh=!0,q.tb(c,this.pl(d))){switch(f){case q.Bq:a.x=
0;break;case q.mo:a.y=0}d=this.Wa.u;c=d.x+a.x;d=d.y+a.y;this.Vr=a;this.Ol(q.a(c,d))}}else 2!==this.Ch.length||this.Ui||(a=q.rD(this.Wa.pi(this.Ch[0]),this.Wa.pi(this.Ch[1])),this.uL(this.YI()*a/this.rs))},$g:function(){this.ya&&(1==this.Ch.length&&this.Bh&&this.gc(this.dA),this.Ch.length=0,this.Bh=this.Ui=!1)},wk:function(){this.ya&&(this.Ch.length=0,this.Bh=this.Ui=!1)},P:function(a,c){null!=this.Wa&&(2===arguments.length?this.Wa.P(a,c):this.Wa.P(a),this.CY())},c:function(){return this.Wa.c()},CY:function(){if(null!=
this.Wa){var a=this.ni,c=this.at();this.Pv.x=c.x+0.2*a.width;this.Pv.y=c.y+0.2*a.height;c=this.yn();this.Sv.x=c.x-0.2*a.width;this.Sv.y=c.y-0.2*a.height}},S7:function(){return this.Uq},raa:function(a){this.Uq=a},Ba:function(a){if(this.ya){a=a||q.ca;var c,d=this.C,e,f;if(q.Sd===q.ug){a.save();this.transform(a);this.VF(a);if(d&&0<d.length){f=d.length;this.je();for(c=0;c<f;c++)if((e=d[c])&&0>e.nb)e.Ba(a);else break;for(this.Ya(a);c<f;c++)d[c].Ba(a)}else this.Ya(a);this.TF();a.restore()}else{q.dq();var g=
this.Vk;g&&g.aq()&&(g.gC(),this.jy());this.transform(a);this.VF(a);if(d&&0<d.length){f=d.length;for(c=0;c<f;c++)if((e=d[c])&&0>e.nb)e.Ba();else break;for(this.Ya(a);c<f;c++)d[c].Ba()}else this.Ya(a);this.TF(a);g&&g.aq()&&g.cC(this);q.cq()}}},f:function(a,c,d){if(!a)throw Error("child must not nil!");c=c||a.nb;d=d||a.Cd;a.oj(!1);a.A(0,0);this.Wa!=a?this.Wa.f(a,c,d):q.Tc.prototype.f.call(this,a,c,d)},hc:function(a){q.Tc.prototype.hc.call(this,a);a||(this.Bh=this.Ui=!1,this.Ch.length=0)},g1:function(){return null},
AP:function(a){var c=this.yn(),d=this.at(),e=this.Ti,f=this.Wa.u,g=f.x,h=f.y;if(e===q.xu||e===q.mo)g=Math.max(g,c.x),g=Math.min(g,d.x);if(e==q.xu||e==q.Bq)h=Math.min(h,d.y),h=Math.max(h,c.y);h==f.y&&g==f.x||this.Ol(q.a(g,h),a)},dA:function(){if(this.Ui)this.Sc(this.dA);else{var a,c;a=this.Wa.u;var d=this.Vr;this.Wa.l(a.x+d.x,a.y+d.y);this.Rq?(a=this.Pv,c=this.Sv):(a=this.at(),c=this.yn());var e=this.Wa.u.H,f=this.Wa.u.S;d.x*=0.95;d.y*=0.95;this.Ol(q.a(e,f));if(1>=Math.abs(d.x)&&1>=Math.abs(d.y)||
f>a.y||f<c.y||e>a.x||e<c.x||e==a.x||e==c.x||f==a.y||f==c.y)this.Sc(this.dA),this.AP(!0)}},TA:function(){this.Ui&&this.Sc(this.TA)},yQ:function(){this.Sc(this.TA)},VF:function(a){if(this.Uq){this.nB=!1;var c=this.BA(),d=q.qa.g(),e=this.va,f=this.Da;a=a||q.ca;if(q.Sd===q.ug)c=this.ni.width*e*d.va,d=this.ni.height*f*d.Da,a.beginPath(),a.rect(0,0,c,-d),a.clip(),a.closePath();else if(d=q.qa.g(),d.xU()){if(this.nB=!0,this.Qr=d.pT(),q.MV(c,this.Qr)){var g=this.Qr;a=Math.max(c.x,g.x);f=Math.max(c.y,g.y);
e=Math.min(c.x+c.width,g.x+g.width);c=Math.min(c.y+c.height,g.y+g.height);d.$D(a,f,e-a,c-f)}}else a.enable(a.SCISSOR_TEST),d.$D(c.x,c.y,c.width,c.height)}},TF:function(a){this.Uq&&q.Sd===q.Ik&&(this.nB?(a=this.Qr,q.qa.g().$D(a.x,a.y,a.width,a.height)):(a=a||q.ca,a.disable(a.SCISSOR_TEST)))},e1:function(){},BA:function(){for(var a=this.pl(q.Gj()),c=this.ni,d=this.va,e=this.Da,f=this.ea;null!=f;f=f.getParent())d*=f.va,e*=f.Da;0>d&&(a.x+=c.width*d,d=-d);0>e&&(a.y+=c.height*e,e=-e);f=this.kH;f.x=a.x;
f.y=a.y;f.width=c.width*d;f.height=c.height*e;return f}});q.Uh.create=function(a,c){var d=new q.Uh;if(2==arguments.length){if(d&&d.$p(a,c))return d}else if(d&&d.w())return d;return null};q.xN=q.Na.extend({Nx:function(){},vi:function(){return 0}});q.yN=q.xN.extend({OA:0,ctor:function(){this.OA=0},Nx:function(a){this.OA=a},vi:function(){return this.OA}});function ia(a,c){return a.vi()-c.vi()}
q.wy=q.Na.extend({xh:null,ctor:function(){this.xh=[]},nJ:function(a){if(!a)throw"cc.ArrayForObjectSorting.insertSortedObject(): addObject should be non-null.";this.nU(a,this.Zp(a))},kW:function(a){if(0!=this.count()){var c=this.Zp(a);c<this.count()&&c!=q.Ii&&this.Dn(c).vi()==a.vi()&&this.HD(c)}},eba:function(a,c){var d=this.Zp(c);if(d<this.count()&&d!=q.Ii){var e=this.Dn(d);e.vi()==c.vi()&&(this.HD(d),e.Nx(a),this.nJ(e))}},VJ:function(a){if(0==this.count())return null;var c=new q.yN;c.Nx(a);var d=
this.Zp(c);d<this.count()&&d!=q.Ii&&(c=this.Dn(d),c.vi()!=a&&(c=null));return c},E5:function(){return null},Zp:function(a){var c=0;if(a){var d=0;a=a.vi();for(var e=this.xh,f=0;f<e.length;f++){var g=e[f].vi();if(a==g||a>=d&&a<g)break;d=g;c++}}else c=q.Ii;return c},count:function(){return this.xh.length},P8:function(){var a=this.xh;return 0==a.length?null:a[a.length-1]},Dn:function(a){return this.xh[a]},MH:function(a){this.xh.push(a);this.xh.sort(ia)},HD:function(a){q.tq(this.xh,a);this.xh.sort(ia)},
nU:function(a,c){this.xh=q.dm(this.xh,a,c);this.xh.sort(ia)}});q.AF=0;q.AN=1;q.q0=q.F.extend({Yj:0,e5:function(){return this.Yj},gX:function(a){this.Yj=a},reset:function(){this.Yj=q.Ii},Nx:function(a){this.Yj=a},vi:function(){return this.Yj}});q.s0=q.wN.extend({Gca:function(){},Fca:function(){},Hca:function(){},Ica:function(){}});q.r0=q.Na.extend({uY:function(a){return this.xR(a)},xR:function(){return q.tN},Eca:function(){return null},s9:function(){return 0}});
q.IF=q.Uh.extend({Ap:null,Jd:null,Eo:null,cA:null,KB:null,Wv:null,ev:null,ik:null,ctor:function(){q.Uh.prototype.ctor.call(this);this.Wv=q.wF;this.ev=[]},PN:function(a){var c=0,d=-1;switch(this.Ti){case q.mo:a=a.x;break;default:a=a.y}for(var e=this.ev;d>=c;){var f=0|c+(d-c)/2,g=e[f],h=e[f+1];if(a>=g&&a<=h)return f;a<g?d=f-1:c=f+1}return 0>=c?0:-1},NO:function(a){a={x:a.x,y:a.y};this.Ap===q.AF&&(a.y=this.Wa.c().height-a.y);a=this.PN(a);-1!=a&&(a=Math.max(0,a),-1<a&&(a=q.Ii));return a},QN:function(a){switch(this.Ti){case q.mo:a=
q.a(this.ev[a],0);break;default:a=q.a(0,this.ev[a])}return a},pP:function(a){var c=this.QN(a);a=this.cA.uY(this,a);this.Ap===q.AF&&(c.y=this.Wa.c().height-c.y-a.height);return c},B1:function(){},OB:function(){var a=q.jm();this.P(a);this.Wv!=this.Ti&&(this.Ti==q.mo?this.Ol(q.a(0,0)):this.Ol(q.a(0,this.yn().y)),this.Wv=this.Ti)},HG:function(a){this.Eo.MH(a);this.Ok.kW(a);q.ke(this.Jd,a.Yj);a.reset();a.getParent()==this.Wa&&this.Wa.removeChild(a,!0)},fw:function(a,c){c.A(0,0);c.l(this.pP(a));c.gX(a)},
RF:function(a){a.getParent()!=this.Wa&&this.Wa.f(a);this.Ok.nJ(a);var c=this.Jd;a=a.Yj;-1==c.indexOf(a)&&(c.push(a),c.sort(function(a,c){return a-c}))},A4:function(){return this.cA},XW:function(a){this.cA=a},vc:function(){return this.KB},og:function(a){this.KB=a},Yba:function(a){this.Ap!=a&&(this.Ap=a,0<this.Ok.count()&&this.GD())},h7:function(){return this.Ap},$p:function(a,c){return q.Uh.prototype.$p.call(this,a,c)?(this.Ok=new q.wy,this.Eo=new q.wy,this.Jd=[],this.KB=null,this.Ap=q.AN,this.IK(q.Bq),
q.Uh.prototype.og.call(this,this),!0):!1},bda:function(a){if(!(a==q.Ii||-1<a)){var c=this.kC(a);c&&this.HG(c);c=null;this.fw(a,c);this.RF(c)}},H7:function(a){if(!(a==q.Ii||-1<a)){var c,d=this.Ok;if(c=d.VJ(a))for(var e=c=d.Zp(c);e<d.count();e++)c=d.Dn(e),this.fw(c.Yj+1,c);c=null;this.fw(a,c);this.RF(c);this.OB()}},E$:function(a){if(!(a==q.Ii||-1<a)){var c=this.kC(a);if(c){var d=this.Ok,e=d.Zp(c);this.HG(c);q.ke(this.Jd,a);for(a=d.count()-1;a>e;a--)c=d.Dn(a),this.fw(c.Yj-1,c)}}},GD:function(){this.Wv=
q.wF;for(var a=this.Ok,c=this.Eo,d=this.Wa,e=0,f=a.count();e<f;e++){var g=a.Dn(e);c.MH(g);g.reset();g.getParent()==d&&d.removeChild(g,!0)}this.Jd=[];this.Ok=new q.wy;this.OB()},b3:function(){if(0===this.Eo.count())return null;var a=this.Eo.Dn(0);this.Eo.HD(0);return a},kC:function(a){return-1==this.Jd.indexOf(a)?null:this.Ok.VJ(a)},DW:function(){},EW:function(){},$g:function(a,c){if(this.ya){if(this.ik){var d=this.ob();d.fd=this.ea.pl(d.origin);this.ik=null}q.Uh.prototype.$g.call(this,a,c)}},xb:function(a,
c){if(!this.ya)return!1;var d=q.Uh.prototype.xb.call(this,a,c);if(1===this.Ch.length){var e;e=this.Wa.pi(a);e=this.NO(e);this.ik=e===q.Ii?null:this.kC(e)}else this.ik&&(this.ik=null);return d},Qd:function(a,c){q.Uh.prototype.Qd.call(this,a,c);this.ik&&this.Bh&&(this.ik=null)},wk:function(a,c){q.Uh.prototype.wk.call(this,a,c);this.ik&&(this.ik=null)}});q.IF.create=function(a,c,d){var e=new q.IF;e.$p(c,d);e.XW(a);e.OB();return e};q.oc={};q.oc.KH=function(a){for(var c in q.oc.mD)a[c]=q.oc.mD[c]};
q.oc.mD={l:function(a,c){2==arguments.length?(this.u.H=a,this.u.S=c):(this.u.H=a.x,this.u.S=a.y);this.eb();this.ga.yE(this.u.H,-this.u.S)},Ac:function(a){this.u.S=a;this.eb();this.ga.yE(this.u.H,-this.u.S)},Ra:function(a){this.u.H=a;this.eb();this.ga.yE(this.u.H,-this.u.S)},yk:function(a,c){this.va=a;this.Da=c||a;this.eb();this.ga.resize(this.va,this.Da)},kq:function(a){this.va=a;this.eb();this.ga.resize(this.va,this.Da)},Qn:function(a){this.Da=a;this.eb();this.ga.resize(this.va,this.Da)},A:function(a,
c){var d=this.pm;if(2===arguments.length){if(a===d.H&&c===d.S)return;d.H=a;d.S=c}else{if(a.x===d.H&&a.y===d.S)return;d.H=a.x;d.S=a.y}var e=this.Fd,f=this.Ca;e.H=f.Ia*d.H;e.S=f.xa*d.S;this.ga.style[q.Sb.En+"TransformOrigin"]=""+e.H+"px "+-e.S+"px";this.Zj?(this.ga.style.marginLeft=0,this.ga.style.marginBottom=0):(this.ga.style.marginLeft=this.AU?0:-e.H+"px",this.ga.style.marginBottom=-e.S+"px");this.eb()},zt:function(){var a=this.Fd;this.ga.style[q.Sb.En+"TransformOrigin"]=""+a.H+"px "+-a.S+"px";this.Zj?
(this.ga.style.marginLeft=0,this.ga.style.marginBottom=0):(this.ga.style.marginLeft=this.AU?0:-a.H+"px",this.ga.style.marginBottom=-a.S+"px")},P:function(a,c){var d=this.Ca;if(2===arguments.length){if(a===d.Ia&&c===d.xa)return;d.Ia=a;d.xa=c}else{if(a.width===d.Ia&&a.height===d.xa)return;d.Ia=a.width;d.xa=a.height}var e=this.Fd,f=this.pm;e.H=d.Ia*f.H;e.S=d.xa*f.S;this.ga.width=d.Ia;this.ga.height=d.xa;this.zt();this.canvas&&(this.canvas.width=d.Ia,this.canvas.height=d.xa);this.eb();this.OV()},Rx:function(a){this.PP!=
a&&(this.Kg=this.fi=a,this.Lm=Math.PI/180*this.Kg,this.Ur=Math.PI/180*this.fi,this.eb(),this.ga.rotate(a))},Ux:function(a){this.Ae=a;this.eb();this.ga.iL(this.Ae,this.Be)},Vx:function(a){this.Be=a;this.eb();this.ga.iL(this.Ae,this.Be)},D:function(a){this.ya=a;this.eb();this.ga&&(this.ga.style.display=a?"block":"none")},hw:function(a){this.nb=a;this.eb();this.ga&&(this.ga.zIndex=a)},jt:function(a){this.ea=a;null!==a&&(a.zt(),this.eb(),q.oc.yx(this))},Gx:function(){this.If().Ln(this);this.gg().Ln(this);
this.ga&&!this.ga.parentNode&&(this.getParent()?q.oc.yx(this):this.ga.kn(q.ok));this.ga&&(this.ga.style.visibility="visible")},zx:function(){this.If().bt(this);this.gg().bt(this);this.ga&&(this.ga.style.visibility="hidden")},fg:function(){this.pE();this.vt();this.Bg(this.C,q.F.Rf.fg);this.ga&&this.ga.remove()},gW:function(){this.ga.remove()},ta:function(a){this.aj=a;this.ga.style.opacity=a/255},OV:function(){if(this.AJ){var a=this.C;this.C=[];q.v.prototype.Ba.call(this,this.Jp);this.C=a}else q.v.prototype.Ba.call(this,
this.Jp)}};q.oc.LP=function(){var a=q.Sb("#EGLViewDiv");if(a){var c=q.qa.g(),d=c.Op(),e=c.jf,f=c.pn(),g=d.width,h=d.height;0===d.width&&0===d.height&&(g=f.width,h=f.height);var d=e.Xa.width,k=e.Xa.height;0===e.Xa.width&&0===e.Xa.height&&(d=f.width,k=f.height);a.style.position="absolute";a.style.width=g+"px";a.style.maxHeight=h+"px";a.style.margin=0;a.resize(c.va,c.Da);a.style.left=d<f.width?(d-g)/2+(f.width-d)/2+"px":(d-g)/2+"px";a.style.bottom=k<f.height?(f.height-k)/2+"px":"0px"}};
q.oc.yx=function(a){var c=a.getParent();if(c&&a.ga)if(c.ga||(q.oc.sV(c),c.jt=q.oc.mD.jt),a.ga.kn(c.ga),c.zt(),c.getParent())q.oc.yx(c);else if(c.bf)if(a=q.Sb("#EGLViewDiv"))c.ga.kn(a);else{a=q.Ck("div");a.id="EGLViewDiv";var d=q.qa.g(),e=d.Op(),f=d.jf,g=d.pn(),h=e.width,k=e.height;0===e.width&&0===e.height&&(h=g.width,k=g.height);var e=f.Xa.width,l=f.Xa.height;0===f.Xa.width&&0===f.Xa.height&&(e=g.width,l=g.height);a.style.position="absolute";a.style.width=h+"px";a.style.maxHeight=k+"px";a.style.margin=
0;a.resize(d.va,d.Da);a.style.left=e<g.width?(e-h)/2+(g.width-e)/2+"px":(e-h)/2+"px";a.style.bottom=l<g.height?(g.height-l)/2+"px":"0px";c.ga.kn(a);a.kn(q.ok)}};q.oc.setTransform=function(a){if(a.Jp)if(a.Jp.translate(a.Fd.x,a.Fd.y),a.AJ){var c=a.C;a.C=[];q.v.prototype.Ba.call(a,a.Jp);a.C=c}else q.v.prototype.Ba.call(a,a.Jp);a.ga&&(a.ga.position.x=a.u.x,a.ga.position.y=-a.u.y,a.ga.rotation=a.mT(),a.ga.scale={x:a.va,y:a.Da},a.ga.Tl={x:a.Ae,y:a.Be},a.zt&&a.zt(),a.ga.Wn())};
q.oc.MS=function(a){a.ga=q.Ck("div");a.canvas=q.Ck("canvas");var c=a.c();a.canvas.width=c.width;a.canvas.height=c.height;a.ga.style.position="absolute";a.ga.style.bottom=0;a.Jp=a.canvas.getContext("2d");a.ga.appendChild(a.canvas);a.getParent()&&q.oc.yx(a);a.AJ=!0};
q.oc.sV=function(a){a.ga=q.Ck("div");a.placeholder=!0;a.ga.style.position="absolute";a.ga.style.bottom=0;a.ga.style.width=(a.c().width||q.fa.g().bc.width)+"px";a.ga.style.maxHeight=(a.c().height||q.fa.g().bc.height)+"px";a.ga.style.margin=0;q.oc.setTransform(a);a.ga.Wn();q.oc.KH(a)};
q.oc.Ds=function(a){if(1<arguments.length)q.oc.Ds(arguments);else if(1!=arguments.length||arguments[0].length)for(var c=arguments[0],d=0;d<c.length;d++)c[d]instanceof q.v?c[d].ga||q.oc.MS(c[d]):q.log("DOM converter only supports sprite and menuitems yet"),q.oc.KH(c[d]),c[d].Ba=function(){},c[d].transform=function(){},q.oc.setTransform(c[d]),c[d].D(c[d].ya);else q.oc.Ds([arguments[0]])};q.Uy=0;q.d_=1;q.g_=2;q.f_=3;q.e_=4;q.Ly=0;q.IZ=1;q.JZ=2;q.KZ=3;q.MZ=4;q.HZ=5;q.LZ=6;q.Jy=0;q.Ky=1;q.GZ=2;q.FZ=3;q.EZ=4;q.PZ=q.Na.extend({sl:function(){},tl:function(){},ri:function(){},q3:function(){}});
q.eo=q.Rh.extend({Ub:null,Ea:null,lr:q.Ly,kr:q.Ky,Gr:q.Uy,iH:"",Hb:"",bg:null,xe:null,$k:50,Nq:18,N:null,te:14,Yh:"Arial",ai:"",Zf:14,$d:"",Fg:!0,lH:!1,WG:0,ctor:function(a){function c(){this.focus()}function d(){e.Ea&&e.Ea.ri&&(e.Fg?e.Ea.ri(e,this.value):(e.Ea.ri(e,e.$d),this.value=" "))}q.Rh.prototype.ctor.call(this);this.bg=q.Fb();this.xe=q.wl();this.P(a);this.Ub=new q.v;this.Ub.Ya=function(){};this.f(this.Ub);var e=this;this.N=document.createElement("input");this.N.type="text";this.N.style.fontSize=
this.te+"px";this.N.style.color="#000000";this.N.style.border=0;this.N["vertical-align"]="middle";this.N.style.background="transparent";this.N.style.width="100%";this.N.style.height="100%";this.N.style.EH=0;this.N.style.outline="medium";this.N.attachEvent?(this.N.attachEvent("oninput",d),this.N.attachEvent("onclick",c)):(this.N.addEventListener("input",d),this.N.addEventListener("click",c,!1));this.N.addEventListener("keypress",function(a){var c="number"==typeof a.which?a.which:a.keyCode;a.stopPropagation();
c===q.zq.xC?(a.preventDefault(),q.canvas.focus()):e.Fg||c===q.zq.RH||(e.$d+=String.fromCharCode(c),e.Ea.ri(e,e.$d))});this.N.addEventListener("keydown",function(a){a.stopPropagation();!e.Fg&&("number"==typeof a.which?a.which:a.keyCode)===q.zq.RH&&0<e.$d.length&&(e.$d=e.$d.substring(0,e.$d.length-1),e.Ea.ri(e,e.$d))});this.N.addEventListener("focus",function(){e.Fg?this.value==e.Hb&&(this.value="",this.style.fontSize=e.te+"px",this.style.color=q.Mc(e.bg)):(this.style.position="absolute",this.WG=this.style.top,
this.style.top="-1000000px",e.$d==e.Hb&&(e.$d="",this.value="                                                 "));e.Ea&&e.Ea.sl&&e.Ea.sl(e)});this.N.addEventListener("blur",function(){e.Fg?""==this.value&&(this.value=e.Hb,this.style.fontSize=e.Zf+"px",this.style.color=q.Mc(e.xe)):(this.style.position="relative",this.style.top=this.WG,""==e.$d&&(this.value=" ",e.$d=e.Hb));e.Ea&&e.Ea.tl&&e.Ea.tl(e)});q.oc.Ds(this.Ub);this.Ub.ga.appendChild(this.N);this.Ub.ga.AL=!1;this.Ub.ga.style.width=a.width-6+"px";
this.Ub.ga.style.height=a.height-6+"px";this.Ub.canvas.remove()},NK:function(a,c){this.te=c;this.Yh=a;this.ii()},XD:function(a){this.Yh=a;this.ii()},Lx:function(a){this.te=a;this.ii()},ii:function(){this.Fg&&this.N.value!=this.Hb&&(this.N.style.fontFamily=this.Yh,this.N.style.fontSize=this.te+"px")},ie:function(a){null!=a&&(""==a?this.Fg?(this.N.value=this.Hb,this.N.style.color=q.Mc(this.xe)):(this.N.value=" ",this.$d=this.Hb):this.Fg?(this.N.value=a,this.N.style.color=q.Mc(this.bg)):this.$d=a)},
VD:function(a){this.Fg&&(this.bg=a,this.N.value!=this.Hb&&(this.N.style.color=q.Mc(a)))},TK:function(a){!isNaN(a)&&0<a&&(this.$k=a,this.N.maxLength=a)},II:function(){return this.$k},XK:function(a){if(null!=a){var c=this.Hb;this.Hb=a;this.Fg?this.N.value==c&&(this.N.value=a,this.N.style.color=q.Mc(this.xe),this.Cf()):this.$d==c&&(this.$d=a,this.N.value=" ",this.Cf())}},YK:function(a,c){this.ai=a;this.Zf=c;this.Cf()},$K:function(a){this.ai=a;this.Cf()},aL:function(a){this.Zf=a;this.Cf()},Cf:function(){this.Fg&&
this.N.value==this.Hb&&(this.N.style.fontFamily=this.ai,this.N.style.fontSize=this.Zf+"px")},ZK:function(a){this.Fg&&(this.xe=a,this.N.value==this.Hb&&(this.N.style.color=q.Mc(a)))},hq:function(a){this.kr=a;this.N.type=a==q.Jy?"password":"text"},ba:function(){return this.Fg?this.N.value:this.$d},Ws:function(a,c){return this.dx(c)?(this.Ub.l(3,3),this.kE(!1),this.Ei(a),this.l(0,0),this.Xu(this,this.tt,q.Gt),!0):!1},og:function(a){this.Ea=a},MI:function(){return this.Hb},RK:function(a){this.lr=a},eL:function(a){this.Gr=
a},GJ:function(a){var c=q.eo.pd(this);c.y-=4;c.oJ(a.end)?this.Nq=a.end.JI()-c.KI():q.log("needn't to adjust view layout.")},EJ:function(){},FJ:function(){},DJ:function(){},tt:function(){},fJ:function(a,c){this.jr=a.width;this.ga.style.width=this.jr.toString()+"px";this.ir=a.height;this.ga.style.height=this.ir.toString()+"px";this.ga.style.backgroundColor=q.Mc(c)}});q.eo.pd=function(a){var c=a.c(),c=q.rect(0,0,c.width,c.height);return q.Qf(c,a.Bn())};
q.eo.create=function(a,c,d,e){var f=new q.eo(a);c instanceof q.Fc?f.ft(c):f.Ws(a,c)&&(d&&f.Ml(d,q.It),e&&f.Ml(e,q.Ht));return f};SingleLineBox=q.Rh.extend({Ub:null,Ea:null,lr:q.Ly,kr:q.Ky,Gr:q.Uy,iH:"",Hb:"",bg:null,xe:null,$k:50,Nq:18,N:null,te:14,Yh:"Arial",mr:!1,ai:"",Zf:14,lH:!1,ctor:function(a){q.Rh.prototype.ctor.call(this);this.mr=!1;this.bg=q.Fb();this.xe=q.wl();this.P(a);this.Ub=new q.v;this.Ub.Ya=function(){};this.f(this.Ub);var c=this;this.N=document.createElement("input");this.N.type="text";this.N.style.fontSize=this.te+"px";this.N.style.color="#000000";this.N.style.border=0;this.N.style.background="transparent";
this.N.style.width="100%";this.N.style.height="100%";this.N.style.EH=0;this.N.style.outline="medium";this.N.addEventListener("input",function(){c.Ea&&c.Ea.ri&&c.Ea.ri(c,this.value)});this.N.addEventListener("keyup",function(a){a.keyCode===q.zq.xC&&!1==c.mr&&(a.stopPropagation(),a.preventDefault(),q.canvas.focus())});this.N.addEventListener("focus",function(){this.value==c.Hb&&(this.value="",this.style.fontSize=c.te+"px",this.style.color=q.Mc(c.bg));c.Ea&&c.Ea.sl&&c.Ea.sl(c)});this.N.addEventListener("blur",
function(){""==this.value&&(this.value=c.Hb,this.style.fontSize=c.Zf+"px",this.style.color=q.Mc(c.xe));c.Ea&&c.Ea.tl&&c.Ea.tl(c)});q.oc.Ds(this.Ub);this.Ub.ga.appendChild(this.N);this.Ub.ga.AL=!1;this.Ub.ga.style.width=a.width-6+"px";this.Ub.ga.style.height=a.height-6+"px";this.Ub.canvas.remove()},NK:function(a,c){this.te=c;this.Yh=a;this.ii()},VX:function(){},XD:function(a){this.Yh=a;this.ii()},Lx:function(a){this.te=a;this.ii()},ii:function(){this.N.value!=this.Hb&&(this.N.style.fontFamily=this.Yh,
this.N.style.fontSize=this.te+"px")},ie:function(a){null!=a&&(""==a?(this.N.value=this.Hb,this.N.style.color=q.Mc(this.xe)):(this.N.value=a,this.N.style.color=q.Mc(this.bg)))},VD:function(a){this.bg=a;this.N.value!=this.Hb&&(this.N.style.color=q.Mc(a))},TK:function(a){!isNaN(a)&&0<a&&(this.$k=a,this.N.maxLength=a)},II:function(){return this.$k},XK:function(a){if(null!=a){var c=this.Hb;this.Hb=a;this.N.value==c&&(this.N.value=a,this.N.style.color=q.Mc(this.xe),this.Cf())}},YK:function(a,c){this.ai=
a;this.Zf=c;this.Cf()},$K:function(a){this.ai=a;this.Cf()},aL:function(a){this.Zf=a;this.Cf()},Cf:function(){this.N.value==this.Hb&&(this.N.style.fontFamily=this.ai,this.N.style.fontSize=this.Zf+"px")},ZK:function(a){this.xe=a;this.N.value==this.Hb&&(this.N.style.color=q.Mc(a))},hq:function(a){this.kr=a;this.N.type=a==q.Jy?"password":"text"},ba:function(){return this.N.value},Ws:function(a,c){return this.dx(c)?(this.Ub.l(3,3),this.kE(!1),this.Ei(a),this.l(0,0),this.Xu(this,this.tt,q.Gt),!0):!1},og:function(a){this.Ea=
a},MI:function(){return this.Hb},RK:function(a){this.lr=a},eL:function(a){this.Gr=a},GJ:function(a){var c=q.eo.pd(this);c.y-=4;c.oJ(a.end)?this.Nq=a.end.JI()-c.KI():q.log("needn't to adjust view layout.")},EJ:function(){},FJ:function(){},DJ:function(){},tt:function(){},ft:function(a){a=ka(a.q,a.p,a.n);this.N.style.background=a},fJ:function(a,c){this.jr=a.width;this.ga.style.width=this.jr.toString()+"px";this.ir=a.height;this.ga.style.height=this.ir.toString()+"px";this.ga.style.backgroundColor=q.Mc(c)}});
SingleLineBox.pd=function(a){var c=a.c(),c=q.rect(0,0,c.width,c.height);return q.Qf(c,a.Bn())};SingleLineBox.create=function(a,c,d,e){var f=new SingleLineBox(a);c instanceof q.Fc?f.ft(c):f.Ws(a,c)&&(d&&f.Ml(d,q.It),e&&f.Ml(e,q.Ht));return f};MultiLineBox=q.Rh.extend({Ub:null,Ea:null,lr:q.Ly,kr:q.Ky,Gr:q.Uy,iH:"",Hb:"",bg:null,xe:null,$k:50,Nq:18,N:null,te:14,Yh:"Arial",mr:!1,ai:"",Zf:14,lH:!1,ctor:function(a){q.Rh.prototype.ctor.call(this);this.mr=!1;this.bg=q.Fb();this.xe=q.wl();this.P(a);this.Ub=new q.v;this.Ub.Ya=function(){};this.f(this.Ub);var c=this;this.N=document.createElement("TEXTAREA");this.N.type="text";this.N.style.fontSize=this.te+"px";this.N.style.color="#000000";this.N.style.border=0;this.N.style.background="transparent";
this.N.style.width="100%";this.N.style.height="100%";this.N.style.EH=0;this.N.style.outline="medium";this.N.addEventListener("input",function(){c.Ea&&c.Ea.ri&&c.Ea.ri(c,this.value)});this.N.addEventListener("keyup",function(a){a.keyCode===q.zq.xC&&!1==c.mr&&(a.stopPropagation(),a.preventDefault(),q.canvas.focus())});this.N.addEventListener("focus",function(){this.value==c.Hb&&(this.value="",this.style.fontSize=c.te+"px",this.style.color=q.Mc(c.bg));c.Ea&&c.Ea.sl&&c.Ea.sl(c)});this.N.addEventListener("blur",
function(){""==this.value&&(this.value=c.Hb,this.style.fontSize=c.Zf+"px",this.style.color=q.Mc(c.xe));c.Ea&&c.Ea.tl&&c.Ea.tl(c)});q.oc.Ds(this.Ub);this.Ub.ga.appendChild(this.N);this.Ub.ga.AL=!1;this.Ub.ga.style.width=a.width-6+"px";this.Ub.ga.style.height=a.height-6+"px";this.Ub.canvas.remove()},NK:function(a,c){this.te=c;this.Yh=a;this.ii()},VX:function(){},XD:function(a){this.Yh=a;this.ii()},Lx:function(a){this.te=a;this.ii()},ii:function(){this.N.value!=this.Hb&&(this.N.style.fontFamily=this.Yh,
this.N.style.fontSize=this.te+"px")},ie:function(a){null!=a&&(""==a?(this.N.value=this.Hb,this.N.style.color=q.Mc(this.xe)):(this.N.value=a,this.N.style.color=q.Mc(this.bg)))},VD:function(a){this.bg=a;this.N.value!=this.Hb&&(this.N.style.color=q.Mc(a))},TK:function(a){!isNaN(a)&&0<a&&(this.$k=a,this.N.maxLength=a)},II:function(){return this.$k},XK:function(a){if(null!=a){var c=this.Hb;this.Hb=a;this.N.value==c&&(this.N.value=a,this.N.style.color=q.Mc(this.xe),this.Cf())}},YK:function(a,c){this.ai=
a;this.Zf=c;this.Cf()},$K:function(a){this.ai=a;this.Cf()},aL:function(a){this.Zf=a;this.Cf()},Cf:function(){this.N.value==this.Hb&&(this.N.style.fontFamily=this.ai,this.N.style.fontSize=this.Zf+"px")},ZK:function(a){this.xe=a;this.N.value==this.Hb&&(this.N.style.color=q.Mc(a))},hq:function(a){this.kr=a;this.N.type=a==q.Jy?"password":"text"},ba:function(){return this.N.value},Ws:function(a,c){return this.dx(c)?(this.Ub.l(3,3),this.kE(!1),this.Ei(a),this.l(0,0),this.Xu(this,this.tt,q.Gt),!0):!1},og:function(a){this.Ea=
a},MI:function(){return this.Hb},RK:function(a){this.lr=a},eL:function(a){this.Gr=a},GJ:function(a){var c=q.eo.pd(this);c.y-=4;c.oJ(a.end)?this.Nq=a.end.JI()-c.KI():q.log("needn't to adjust view layout.")},EJ:function(){},FJ:function(){},DJ:function(){},tt:function(){},ft:function(a){a=ka(a.q,a.p,a.n);this.N.style.background=a},fJ:function(a,c){this.jr=a.width;this.ga.style.width=this.jr.toString()+"px";this.ir=a.height;this.ga.style.height=this.ir.toString()+"px";this.ga.style.backgroundColor=q.Mc(c)}});
MultiLineBox.pd=function(a){var c=a.c(),c=q.rect(0,0,c.width,c.height);return q.Qf(c,a.Bn())};MultiLineBox.create=function(a,c,d,e){var f=new MultiLineBox(a);c instanceof q.Fc?f.ft(c):f.Ws(a,c)&&(d&&f.Ml(d,q.It),e&&f.Ml(e,q.Ht));return f};var t=Object.freeze({He:{Y2:"C to popup/dismiss, enter for chat. Say /help for help.",L7:"Welcome to the Powder Engine! Enter /help for some help.",ZT:"-------HELP------",YT:" - Press C to expand the chat, I for Inventory",XT:" - Space to grab Items and E for Equipment.",WT:" - Enter /commands for command list",VT:"-------------------",RR:"Commands:  /editskill, /editsign, /editnpc,",QR:" - /editmap, /editwarp, /edititem, /whereami",PR:" - /dance,/coinflip,/diceroll,/warpmeto map x y",OR:"--------------------",
tV:" has joined the game!",d$:" has left the game!",Ax:"Picked up ",DS:"Dropped ",qJ:"Your inventory is full"}});var la=eval("gameConfig();"),ma={},na=q.Vd.g();q.Dj.g();na.hL(["res/Graphics"]);var oa=new XMLHttpRequest;oa.open("GET","res/Graphics/tile_graphics.txt",!1);oa.send(null);var pa=oa.responseText,qa=pa.split(","),v=[],ra;for(ra in qa)v.push({name:qa[ra],texture:q.ia.g().ma(qa[ra])});var sa=!1,oa=new XMLHttpRequest;oa.open("GET","res/Graphics/character_graphics.txt",!1);oa.send(null);var pa=oa.responseText,qa=pa.split(","),y=[];for(ra in qa)y.push({name:qa[ra],texture:q.ia.g().ma(qa[ra])});
document.getElementById("gameCanvas").onkeydown=function(a){a.preventDefault();ma[a.keyCode]=!0};window.onbeforeunload=function(){z({disconnect:!0})};window.onfocus=function(){for(var a=[],c=A.length-1;0<=c;c--){var d=JSON.parse(A[c]);d.moveTo&&!a[d.id]?(a[d.id]=!0,d.setTo=1,d.moveTo=null,A[c]=JSON.stringify(d)):d.moveTo&&a[d.id]&&A.splice(c,1)}};var B=q.j(255,255,255,255),wa=q.j(0,255,0,255),C=q.j(255,0,0,255);
document.getElementById("gameCanvas").onkeyup=function(a){ma[a.keyCode]=!1;if(null!=F.g().od){a.stopPropagation();var c=null;switch(a.keyCode){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";
break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a.keyCode&&58>a.keyCode||64<a.keyCode&&91>a.keyCode)&&(c=String.fromCharCode(a.keyCode));null!=c&&F.g().od.Fl(c)}};rememberLoginNextTime=autoLoginNextTime=!1;
var G={GENERAL:"ISSECTION","Project Name":"Powder Engine Testbed","Version Number":"0.705",CHATBAR:"ISSECTION","Welcome Message":"Welcome to the Powder Engine! Enter /help for some help.","Join Message":"\x3cPLAYER\x3e has joined the game!","Leave Message":"\x3cPLAYER\x3e has left the game!","Default ChatBar Message":"C to popup/dismiss, enter for chat. Say /help for help.",ITEMS:"ISSECTION","Item Dropdown Pick Up":"Pick up \x3cITEM\x3e","Item Dropdown Walk To":"Walk to \x3cITEM\x3e","Item Pick Up":"Picked up \x3cITEM\x3e.",
"Item Dropped":"Dropped \x3cITEM\x3e.","Item Out-of-range":"\x3cITEM\x3e is too far away to pick up!","Item Dropdown Examine":"Examine \x3cITEM\x3e","Item Dropdown Equip":"Equip \x3cITEM\x3e","Item Dropdown Read":"Read \x3cITEM\x3e","Item Dropdown Eat":"Eat \x3cITEM\x3e","Item Dropdown Use":"Use \x3cITEM\x3e","Item Dropdown Unequip":"Unequip \x3cITEM\x3e","Item Dropdown Drop":"Drop \x3cITEM\x3e",NPCS:"ISSECTION","NPC Dropdown Examine":"Examine","NPC Dropdown Attack":"Attack","NPC Dropdown Talk":"Talk To \x3cNPC\x3e",
"NPC Dropdown Walk To":"Walk To \x3cNPC\x3e","NPC Dropdown Follow":"Follow","NPC Dropdown Trade":"Trade","NPC Dropdown Bank":"Open Bank","NPC Out-of-range":"\x3cNPC\x3e is too far away!",SIGNS:"ISSECTION","Sign Dropdown list Read":"Read sign \x3cSIGN\x3e","Sign Out-of-range":"\x3cSIGN\x3e is too far away to read!",PANELS:"ISSECTION","Equipment Header":"Equipment","Bank Header":"Bank","Inventory Header":"Inventory","Skills Header":"Skills List","Quest Header":"Quest Log",COMMANDS:"ISSECTION","/dance":"\x3cPLAYER\x3e danced the dance of his people.",
"/diceroll":"\x3cPLAYER\x3e threw a dice and got \x3cVALUE\x3e","/coinflip":"\x3cPLAYER\x3e flipped a coin and got \x3cVALUE\x3e"};function H(a,c){return a?(a.BJ&&a.ya||!a.BJ)&&q.tb(q.rect(a.u.H,a.u.S,a.c().width,a.c().height),c):!1}function J(a){if(!a)return null;var c=null;"object"==typeof a&&(c={});a instanceof Array&&(c=[]);for(var d in a)c[d]=a[d]&&("object"==typeof a[d]||a[d]instanceof Array)?J(a[d]):a[d];return c}
isMobile=function(){var a=!1,c=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(c)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(c.substr(0,
4)))a=!0;return a};function xa(){K.Td(function(){})}function ya(a,c){var d=c?a:a.qc();return za(d,"panels")}
function za(a,c,d){if(c=d?d[c]:a[c]){"undefined"!=typeof c.vU?d=Aa.Hy(c.vY):"undefined"!=typeof c.$?d=q.v.Ma(q.ia.g().ma(c.$)):"undefined"!=typeof c.label?d=q.T.create(c.label,c.font?c.P3:"Arial",c.fontSize?c.fontSize:14):"undefined"!=typeof c.color&&"undefined"!=typeof c.size?(d=q.v.create(),d.gb(q.rect(0,0,c.size.width,c.size.height)),d.A(q.a(0,0))):d=q.F.create();"undefined"!=typeof c.size&&d.P(Math.floor(c.size.width),Math.floor(c.size.height));"undefined"!=typeof c.position&&d.l(q.a(Math.floor(c.position.x),
Math.floor(c.position.y)));"undefined"!=typeof c.visible&&d.D(c.visible);"undefined"!=typeof c.e&&d.A(c.e);"undefined"!=typeof c.color&&d.r&&(d.r(c.color),c.color.O&&d.ta(c.color.O));"undefined"!=typeof c.opacity&&d.ta(c.opacity);if("undefined"!=typeof c.children)for(var e in c.children)d[e]=za(a,e,c.children),d[e]&&d.f(d[e]);return d}}
function Ba(a,c,d){a=a[c];"undefined"!=typeof a.size&&d.P(Math.floor(a.size.width),Math.floor(a.size.height));"undefined"!=typeof a.position&&d.l(q.a(Math.floor(a.position.x),Math.floor(a.position.y)));"undefined"!=typeof a.visible&&d.D(a.visible);"undefined"!=typeof a.e&&d.A(a.e);"undefined"!=typeof a.opacity&&d.ta(a.opacity);"undefined"!=typeof a.color&&d.r(a.color);if("undefined"!=typeof a.children)for(var e in a.children)Ba(a.children,e,d[e])}
function Ca(a){a=a.toString(16);return 1==a.length?"0"+a:a}function ka(a,c,d){return"#"+Ca(a)+Ca(c)+Ca(d)}var L=null,M=la.tileSize,Da=la.characterSize,N=Math.floor(36),O=Math.floor(36);function Ea(){P=q.qa.g().pn();q.size(P.width,P.height);L=q.size(O*M,N*M)}function Q(a,c){return parseInt(O*(N-c))+parseInt(a)}function Fa(a,c){var d={},e;for(e in a)d[e]=a[e]+"";for(e in c)d[e]&&(d[e]=c[e]+"");return d}
function Ga(a,c,d){if(0==a.length)return!0;for(var e=0;e<a.length;e++)switch(a[e].type){case "Is Quest Point":var f=R.t.Q.qk(a[e].data.quest);f||(f=0);if(f!=a[e].data.objective)return!1;break;case "Script Requirement":if("Tile"==c)var g=J(R.t.Q.Pp(d.Pc));else"NPC"==c?g=J(R.t.Q.Pp(d.Pc)):"Item"==c&&(g=J(R.t.Q.Pp(d.script)));g||(g={});try{var h=a[e].data.functionContent.replace(/,/g,"").split(":"),f="{",k;for(k in h)f=0==k%2?f+('"'+h[k]+'":'):k!=h.length-1?f+('"'+h[k]+'",'):f+('"'+h[k]+'"');var f=f+
"}",l=JSON.parse(f);for(k in l)if(g[k]||(g[k]="null"),g[k]!=l[k])return!1}catch(m){return S.Cb("your custom require script failed"),!1}break;case "Is Panel Visibility":f=1==a[e].data.visible?!0:!1;switch(a[e].data.panel){case 0:null==Inventory||Inventory.ea||(Inventory=null);if(Inventory&&!f||!Inventory&&f)return!1;break;case 1:null==Equipment||Equipment.ea||(Equipment=null);if(Equipment&&!f||!Equipment&&f)return!1;break;case 2:if(null==Skills||Skills.ea||(Skills=null),Skills&&!f||!Skills&&f)return!1}break;
case "Is Player Inventory Space":for(var p=a[e].data.space?a[e].data.space:0,s=f=0;40>s;s++)userItems.stored[s]||f++;if(f<p)return!1;break;case "Has Player Item":if(a[e].data.item){p=a[e].data.amount?a[e].data.amount:0;f=0;s=ObjectLists.lc()[a[e].data.item].name;for(k in userItems.stored)userItems.stored[k]&&userItems.stored[k].name==s&&f++;if(f<p)return!1}break;case "Is Player Statistics":f=ObjectLists.rk()[a[e].data.skill].name;a[e].data.levelUpper||(a[e].data.levelUpper=0);a[e].data.levelLower||
(a[e].data.levelLower=0);a[e].data.healthUpper||(a[e].data.healthUpper=0);a[e].data.healthLower||(a[e].data.healthLower=0);a[e].data.xpUpper||(a[e].data.xpUpper=0);a[e].data.xpLower||(a[e].data.xpLower=0);if(0!=a[e].data.levelUpper||0!=a[e].data.levelLower)if(p=SkillBarsInstance.Rc[f].level+1,p>a[e].data.levelUpper||p<a[e].data.levelLower)return!1;if(0!=a[e].data.healthUpper||0!=a[e].data.healthLower)if(p=SkillBarsInstance.Rc[f].currenthealth,p>a[e].data.healthUpper||p<a[e].data.healthLower)return!1;
if(0!=a[e].data.xpUpper||0!=a[e].data.xpLower)if(p=SkillBarsInstance.Rc[f].experience,p>a[e].data.xpUpper||p<a[e].data.xpLower)return!1}return!0}
function Ha(a,c,d,e,f,g){var h=[];if(!(1>a.length)){for(var k=R.t.Q.items,l=0;l<a.length;l++)e&&e[a[l].type]||h.push([l,function(){switch(a[l].type){case "Spawn NPC":return function(c){null!=a[c].data.npc&&"undefined"!==a[c].data.npc&&R.YQ(ObjectLists.Rp()[a[c].data.npc],q.a(d.u.x/M,d.u.y/M))};case "Equip Item":return function(c){c=a[c].data.equip;"bothArms"==c&&(c="lArm",k.equipped.rArm||(c="rArm"));var e=null;k.equipped[c]&&(e=J(k.equipped[c]),T("On Dequip",e,"Item"));var f=ObjectLists.lc(),g;for(g in f)if(f[g].name==
d.name){k.equipped[c]={number:g,amount:d.amount};break}k.stored[d.CJ]=e;Inventory&&Inventory.jb();Equipment&&Equipment.jb()};case "Read Item":return function(c){K.cY(d.name,a[c].data.say)};case "Spawn Item":return function(c){d.JH(a[c].data.item,a[c].data.amount)};case "Talk":return function(c){K.eY(d,f,g,d.name,a[c].data.say,a[c].data.options)};case "Script Response":return function(e){if("Tile"==c)var f=J(R.t.Q.Pp(d.Pc));else"NPC"==c?f=J(R.t.Q.Pp(d.Pc)):"Item"==c&&(f=J(R.t.Q.Pp(d.script)));f||(f=
{});try{var g=a[e].data.functionContent.replace(/,/g,"").split(":");e="{";for(var h in g)e=0==h%2?e+('"'+g[h]+'":'):h!=g.length-1?e+('"'+g[h]+'",'):e+('"'+g[h]+'"');var k=JSON.parse(e+"}"),g=f;h={};for(var l in g)h[l]=g[l];for(l in k)h[l]=k[l];f=h;"Tile"==c?R.t.Q.TD(d.Pc,J(f)):"NPC"==c?R.t.Q.TD(d.Pc,J(f)):"Item"==c&&R.t.Q.TD(d.script,J(f))}catch(E){S.Cb("Your custom response script failed")}};case "Give /Take Item":return function(c){var d=ObjectLists.lc()[a[c].data.item];if(0<a[c].data.amount){var e=
a[c].data.amount;if(!0==d.stackable){for(var f=0;40>f;f++)k.stored[f]&&k.stored[f].name==d.name&&(e=0);0!=g&&(e=1)}else for(var g=0,f=0;40>f;f++)k.stored[f]||g++;if(g<e)return;if(!0==d.stackable){g=!1;for(f=0;40>f;f++)if(k.stored[f]&&k.stored[f].name==d.name){k.stored[f].amount+=a[c].data.amount;Inventory&&Inventory.zk(f,k.stored[f].amount);g=!0;break}if(!1==g)for(f=0;40>f;f++)if(!k.stored[f]){k.stored[f]=J(d);k.stored[f].amount=a[c].data.amount;Inventory&&Inventory.zk(f,k.stored[f].amount);break}}else for(g=
0;g<a[c].data.amount;g++)for(f=0;40>f;f++)if(!k.stored[f]){k.stored[f]=J(d);break}}else if(0>a[c].data.amount){e=Math.abs(a[c].data.amount);g=0;d=d.name;for(f in k.stored)k.stored[f]&&k.stored[f].name==d&&g++;if(g<e)return;for(g=0;g<Math.abs(a[c].data.amount);g++)for(f in k.stored)if(k.stored[f]&&k.stored[f].name==d){console.log("gettin rid"+g);user.stored[f]=null;break}}Inventory&&Inventory.jb();Equipment&&Equipment.jb()};case "Modify Player Stats":return function(c){if(ObjectLists.rk()[a[c].data.skill]){var d=
ObjectLists.rk()[a[c].data.skill].name;U.PU(d,a[c].data.level);U.OU(d,a[c].data.health);U.QU(d,a[c].data.xp)}};case "Show Sign":return function(c){K.gY(a[c].data.title,a[c].data.content)};case "Set Quest Point":return function(c){R.t.Q.EX(a[c].data.quest,a[c].data.objective)};case "Warp Player":return function(c){var d=a[c].data.index%O,e=Math.floor(a[c].data.index/O)+1;R.t.Q.l(d*M,e*M);z({changemap:""+a[c].data.mapnum,setTo:a[c].data.index});V.Vp(a[c].data.mapnum);V.ul(d*M,e*M)};case "Open/Close Panel":return function(c){var d=
1==a[c].data.visible?!0:!1;switch(a[c].data.panel){case 0:null==Inventory||Inventory.ea||(Inventory=null);!0==d?Inventory?Inventory.jb():(Inventory=new InventoryPanel,Inventory.w(),Inventory.ra(),K.f(Inventory)):Inventory&&(Inventory.Aa(),Inventory.K(),Inventory=null);break;case 1:null==Equipment||Equipment.ea||(Equipment=null);!0==d?Equipment?Equipment.jb():(Equipment=new EquipmentPanel,Equipment.w(),Equipment.ra(),K.f(Equipment)):Equipment&&(Equipment.Aa(),Equipment.K(),Equipment=null);break;case 2:null==
Skills||Skills.ea||(Skills=null);!0==d?Skills?Skills.jb():(Skills=new SkillsPanel,Skills.w(),Skills.ra(),K.f(Skills)):Skills&&(Skills.Aa(),Skills.K(),Skills=null);break;case 3:null==Quests||Quests.ea||(Quests=null);!0==d?Quests?Quests.jb():(Quests=new QuestsPanel,Quests.w(),Quests.ra(),K.f(Quests)):Quests&&(Quests.Aa(),Quests.K(),Quests=null);break;case 4:null==Inventory||Inventory.ea||(Inventory=null),Inventory&&(Inventory.Aa(),Inventory.K(),Inventory=null),null==Bank||Bank.ea||(Bank=null),!0==d?
Bank?Bank.jb():(Bank=new BankPanel,Bank.w(),Bank.ra(),K.f(Bank)):Bank&&(Bank.Aa(),Bank.K(),Bank=null)}};case "Destroy":item=null,Inventory&&Inventory.jb(),l=a.length}}()]);for(e=0;e<h.length;e++)h[e][1](h[e][0]),h.splice(e,1),e--}}
function T(a,c,d,e,f){K.Td(function(){var g=[];c&&("Item"==d?c.script&&ObjectLists.Ie()[c.script]&&(f&&(c.CJ=f),g=ObjectLists.Ie()[c.script].data):"Tile"==d?c.Ih()&&(g=c.Ih().data):"NPC"==d&&c.Pc&&(g=ObjectLists.Ie()[c.Pc].data));for(var h=0;h<g.length;h++)g[h].type==a&&Ga(g[h].requirements,d,e)&&Ha(g[h].responses,d,c,e,g,h);f&&(c.CJ=null)})};var W=q.Na.extend({t:null,pb:function(a){return(a=r.localStorage.getItem("last_"+a))?a:null},yj:function(a,c){return(c=r.localStorage.setItem("last_"+a,c))?c:null}}),X=null;W.Hy=function(){X||(X=new W);return X};W.g=function(){return X};W.xX=function(a,c){var d=r.localStorage.getItem("panelStore");"null"==d||null==d?(console.log("NEW PANEL STORE"),d={}):d=JSON.parse(d);d[a]={x:c.x,y:c.y};r.localStorage.setItem("panelStore",JSON.stringify(d))};W.hT=function(){return r.localStorage.getItem("panelStore")};
W.EC=function(a){if(X.pb("maps")){if(a){var c=JSON.parse(r.localStorage.getItem("map_data"));return c[a]?c[a]:null}}else return[]};W.RL=function(a,c){X.yj("maps",c);r.localStorage.setItem("map_data",JSON.stringify(a))};W.zR=function(a,c,d){var e=X.pb("maps")?JSON.parse(r.localStorage.getItem("map_data")):[];e[a]=c;W.RL(e,d)};W.qT=function(){if(X.pb("scripts")){if(""!=r.localStorage.getItem("scripts_data"))var a=JSON.parse(r.localStorage.getItem("scripts_data"));return a?a:[]}return[]};
W.WL=function(a,c){X.yj("scripts",c);r.localStorage.setItem("scripts_data",JSON.stringify(a))};W.ER=function(a,c,d){var e=X.pb("scripts")?""!=r.localStorage.getItem("scripts_data")?JSON.parse(r.localStorage.getItem("scripts_data")):[]:[];e[a]=c;W.WL(e,d)};W.SV=function(a,c){scriptarray=a;W.oy(scriptarray,c)};W.ET=function(){if(X.pb("warps")){if(""!=r.localStorage.getItem("warps_data"))var a=JSON.parse(r.localStorage.getItem("warps_data"));return a?a:[]}return[]};
W.oy=function(a,c){X.yj("warps",c);r.localStorage.setItem("warps_data",JSON.stringify(a))};W.JR=function(a,c,d){var e=X.pb("warps")?""!=r.localStorage.getItem("warps_data")?JSON.parse(r.localStorage.getItem("warps_data")):[]:[];e[a]=c;W.oy(e,d)};W.WV=function(a,c){warparray=a;W.oy(warparray,c)};W.YS=function(){if(X.pb("items")){if(""!=r.localStorage.getItem("items_data"))var a=JSON.parse(r.localStorage.getItem("items_data"));return a?a:[]}return[]};
W.xt=function(a,c){X.yj("items",c);r.localStorage.setItem("items_data",JSON.stringify(a))};W.yR=function(a,c,d){var e=X.pb("items")?""!=r.localStorage.getItem("items_data")?JSON.parse(r.localStorage.getItem("items_data")):[]:[];e[a]=c;W.xt(e,d)};W.PV=function(a,c){itemsarray=a;W.xt(itemsarray,c)};W.uT=function(){if(X.pb("skills")){if(""!=r.localStorage.getItem("skills_data"))var a=JSON.parse(r.localStorage.getItem("skills_data"));return a?a:[]}return[]};
W.AE=function(a,c){X.yj("skills",c);r.localStorage.setItem("skills_data",JSON.stringify(a))};W.HR=function(a,c,d){var e=X.pb("skills")?""!=r.localStorage.getItem("skills_data")?JSON.parse(r.localStorage.getItem("skills_data")):[]:[];e[a]=c;W.AE(e,d)};W.VV=function(a,c){skillarray=a;W.AE(skillarray,c)};W.sT=function(){if(X.pb("signs")){if(""!=r.localStorage.getItem("signs_data"))var a=JSON.parse(r.localStorage.getItem("signs_data"));return a?a:[]}return[]};
W.ny=function(a,c){X.yj("signs",c);r.localStorage.setItem("signs_data",JSON.stringify(a))};W.GR=function(a,c,d){var e=X.pb("signs")?""!=r.localStorage.getItem("signs_data")?JSON.parse(r.localStorage.getItem("signs_data")):[]:[];e[a]=c;W.ny(e,d)};W.UV=function(a,c){signarray=a;W.ny(signarray,c)};W.dT=function(){if(X.pb("npcs")){if(""!=r.localStorage.getItem("npcs_data"))var a=JSON.parse(r.localStorage.getItem("npcs_data"));return a?a:[]}return[]};
W.SL=function(a,c){X.yj("npcs",c);r.localStorage.setItem("npcs_data",JSON.stringify(a))};W.AR=function(a,c,d){var e=X.pb("npcs")?""!=r.localStorage.getItem("npcs_data")?JSON.parse(r.localStorage.getItem("npcs_data")):[]:[];e[a]=c;W.SL(e,d)};W.QV=function(a,c){npcsarray=a;W.ny(npcsarray,c)};W.qk=function(){if(X.pb("quests")){if(""!=r.localStorage.getItem("quests_data"))var a=JSON.parse(r.localStorage.getItem("quests_data"));return a?a:[]}return[]};
W.my=function(a,c){X.yj("quests",c);r.localStorage.setItem("quests_data",JSON.stringify(a))};W.DR=function(a,c,d){var e=X.pb("quests")?""!=r.localStorage.getItem("quests_data")?JSON.parse(r.localStorage.getItem("quests_data")):[]:[];e[a]=c;W.my(e,d)};W.RV=function(a,c){questsarray=a;W.my(questsarray,c)};W.rT=function(){if(X.pb("shops")){if(""!=r.localStorage.getItem("shops_data"))var a=JSON.parse(r.localStorage.getItem("shops_data"));return a?a:[]}return[]};
W.XL=function(a,c){X.yj("shops",c);r.localStorage.setItem("shops_data",JSON.stringify(a))};W.FR=function(a,c,d){var e=X.pb("shops")?""!=r.localStorage.getItem("shops_data")?JSON.parse(r.localStorage.getItem("shops_data")):[]:[];e[a]=c;W.my(e,d)};W.TV=function(a,c){shopsarray=a;W.XL(shopsarray,c)};W.KC=function(){if(X.pb("settings")){if(""!=r.localStorage.getItem("settings_data"))var a=JSON.parse(r.localStorage.getItem("settings_data"));return a?a:[]}return[]};
W.zE=function(a,c){X.yj("settings",c);r.localStorage.setItem("settings_data",JSON.stringify(a))};
W.oM=function(){r.localStorage.setItem("map_data",[]);r.localStorage.setItem("last_maps",2);r.localStorage.setItem("warps_data",[]);r.localStorage.setItem("last_warps",2);r.localStorage.setItem("items_data",[]);r.localStorage.setItem("last_items",2);r.localStorage.setItem("skills_data",[]);r.localStorage.setItem("last_skills",2);r.localStorage.setItem("signs_data",[]);r.localStorage.setItem("last_signs",2);r.localStorage.setItem("npcs_data",[]);r.localStorage.setItem("last_npcs",2);r.localStorage.setItem("quests_data",
[]);r.localStorage.setItem("last_quests",2);r.localStorage.setItem("shops_data",[]);r.localStorage.setItem("last_shops",2);r.localStorage.setItem("settings_data",[]);r.localStorage.setItem("last_settings",2);r.localStorage.setItem("scripts_data",[]);r.localStorage.setItem("last_scripts",2);r.localStorage.setItem("panelStore",null)};
W.zN=function(){z({sync:!0,mapupdate:null!=X.pb("maps")?X.pb("maps"):2,warpupdate:null!=X.pb("warps")?X.pb("warps"):2,itemupdate:null!=X.pb("items")?X.pb("items"):2,skillsupdate:null!=X.pb("skills")?X.pb("skills"):2,signsupdate:null!=X.pb("signs")?X.pb("signs"):2,npcsupdate:null!=X.pb("npcs")?X.pb("npcs"):2,questsupdate:null!=X.pb("quests")?X.pb("quests"):2,shopsupdate:null!=X.pb("shops")?X.pb("shops"):2,settingsupdate:null!=X.pb("settings")?X.pb("settings"):2,scriptsupdate:null!=X.pb("scripts")?
X.pb("scripts"):2})};W.Vaa=function(a){!0!=a&&!1!=a||r.localStorage.setItem("mapedit_saveonexit",a)};W.o5=function(){return null==r.localStorage.getItem("mapedit_saveonexit")?!1:r.localStorage.getItem("mapedit_saveonexit")};W.IX=function(a,c){r.localStorage.setItem("savedcredentials",JSON.stringify({user:a,pass:c}))};W.CK=function(a){r.localStorage.setItem("autologin",JSON.stringify(a))};W.sJ=function(){var a=r.localStorage.getItem("autologin");return null!=a?JSON.parse(a):!1};
W.yJ=function(){return r.localStorage.getItem("savedcredentials")?!0:!1};W.yT=function(){var a=r.localStorage.getItem("savedcredentials");return a?JSON.parse(a):!1};ListView=q.Uh.extend({zl:null,k:null,Lw:null,ux:!1,ng:null,xj:null,GL:null,GD:function(){if(this.k){this.xj&&(this.xj.K(),this.ng.K());var a=this.k.rc();a.height<this.k.c().height&&(a=this.k.c(),this.ux=!0);this.zl=[];for(var c=0,d=0;d<this.k.mc();d++){var e=this.k.xc(d),c=c+e.height;this.zl[d]=q.F.create();this.zl[d].P(e);this.zl[d].l(q.a(0,a.height-c));this.zl[d].A(q.a(0,1));this.f(this.zl[d]);this.zl[d].f(this.k.wc(d))}this.nq(-300);this.gE(0);!1==this.ux&&(this.xj=q.v.create(),this.xj.gb(q.rect(0,
0,1,this.k.c().height)),this.xj.r(q.j(0,0,0,255)),this.xj.A(q.a(0,0)),this.xj.l(q.a(this.k.c().width+20,0)),this.ng=q.v.create(),this.ng.A(q.a(0,0)),this.ng.gb(q.rect(0,0,20,this.k.c().height/5)),this.ng.r(q.j(90,90,255,255)),this.ng.l(q.a(this.k.c().width+10,0)),this.k.f(this.xj),this.k.f(this.ng),this.Ol(q.a(0,this.at().y),!1));this.k.l(this.GL)}},w:function(a){this.k=a;this.A(q.a(0,0));this.GL=q.a(a.u.H,a.u.S);this.$p(this.k.c(),this.k);this.IK(q.Bq);this.NW(!1);a=this.k.rc();var c=q.F.create();
c.P(a);this.RW(c)},zc:function(a){this.Lw=a},LD:!1,Kx:null,Yb:function(a){if(!this.k.Gf)return!1;for(var c=0;c<this.k.mc();c++)this.k.Gf(c).r(q.j(255,255,255,255));this.k.Gf(a).r(q.j(255,0,0,255))},xb:function(a){for(var c=a.R,d=0;d<this.k.mc();d++)for(var e in this.Lw[d]){var f=this.zl[d].Ka(c),g=this.k.Ka(c);g.x+=this.k.u.H;H(this.k,g);if(H(this.Lw[d][e],f))return this.k.Eb(this.Lw[d][e].Ua,d,a),this.LD=!0}if(!1==this.ux){a=this.k.Ka(c);if(H(this.ng,a))return this.Kx=a.y-this.ng.u.S,!0;this.Kx=
null}},Qd:function(a){if(!0==this.LD)return this.LD=!1;if(!1==this.ux){var c=a.R;if(null!=this.Kx&&(c=this.k.Ka(c),c.y-=this.Kx,0<=c.y&&c.y+this.ng.c().height<=this.k.c().height))return a=c.y/(this.xj.c().height-this.ng.c().height),this.Ol(q.a(0,this.yn().y*a),!1),this.ng.Ac(c.y),!0;c=this._super(a);a=this.CI().y/this.yn().y;this.ng.Ac((this.xj.c().height-this.ng.c().height)*a);return c}}});ListView.create=function(a){var c=new ListView;c.w(a);c.GD();return c};var Aa=q.F.extend({Ke:null,Le:null,Sg:null,Ne:null,Oe:null,Pe:null,item:null,Yg:null,De:null,Ee:null,Fe:null,position:null,string:null,type:null,Pc:null,ctor:function(){this._super()},w:function(){this._super();this.string=q.T.create("","Arial",16);this.string.A(0.5,0.5);this.string.l(16,-16);this.string.ta(0);this.string.r(q.o(0,0,0));this.f(this.string,900);this.Yg=[]},JH:function(a,c){c||(c=1);var d=ObjectLists.lc()[a];d&&(this.Ql(d.sprite.texture,d.sprite.position,"item"),this.Yg.push({Cn:a,Fp:c}))},
removeItem:function(){0<this.Yg.length&&this.Yg.splice(this.Yg.length-1,1);if(0<this.Yg.length){var a=ObjectLists.lc()[this.Yg[this.Yg.length-1].Cn];this.Ql(a.sprite.texture,a.sprite.position,"item")}else this.item.K(),this.item=null},rn:function(){return 0==this.Yg.length?null:this.Yg[this.Yg.length-1]},Ql:function(a,c,d){a=q.v.Ma(q.ia.g().ma(a));a.gb(q.rect(Math.floor(M*c.x),Math.floor(M*c.y),M,M));a.r(q.j(255,255,255,255));a.A(0,1);switch(d){case "ground1":null!=this.Ke&&this.Ke.K();this.Ke=a;
this.f(this.Ke);break;case "ground2":null!=this.Le&&this.Le.K();this.Le=a;this.f(this.Le,1);break;case "ground3":null!=this.Sg&&this.Sg.K();this.Sg=a;this.f(this.Sg,2);break;case "mask1":null!=this.Ne&&this.Ne.K();this.Ne=a;this.f(this.Ne,3);break;case "mask2":null!=this.Oe&&this.Oe.K();this.Oe=a;this.f(this.Oe,4);break;case "mask3":null!=this.Pe&&this.Pe.K();this.Pe=a;this.f(this.Pe,5);break;case "item":null!=this.item&&this.item.K();this.item=a;this.f(this.item,6);break;case "fringe1":null!=this.De&&
this.De.K();this.De=a;this.f(this.De,7);break;case "fringe2":null!=this.Ee&&this.Ee.K();this.Ee=a;this.f(this.Ee,8);break;case "fringe3":null!=this.Fe&&this.Fe.K(),this.Fe=a,this.f(this.Fe,10)}},Vg:function(){var a=!0;null!=this.Ke&&this.Ke.ja()&&!1==this.Ke.ja().Lc?a=!1:null!=this.Le&&this.Le.ja()&&!1==this.Le.ja().Lc?a=!1:null!=this.Sg&&this.Sg.ja()&&!1==this.Sg.O6?a=!1:null!=this.Ne&&this.Ne.ja()&&!1==this.Ne.ja().Lc?a=!1:null!=this.Oe&&this.Oe.ja()&&!1==this.Oe.ja().Lc?a=!1:null!=this.Pe&&this.Pe.ja()&&
!1==this.Pe.ja().Lc?a=!1:null!=this.item&&this.item.ja()&&!1==this.item.ja().Lc?a=!1:null!=this.De&&this.De.ja()&&!1==this.De.ja().Lc?a=!1:null!=this.Ee&&this.Ee.ja()&&!1==this.Ee.ja().Lc?a=!1:null!=this.Fe&&this.Fe.ja()&&!1==this.Fe.ja().Lc&&(a=!1);return a},kf:function(){null!=this.Ke&&this.Ke.K();this.Ke=null;null!=this.Le&&this.Le.K();this.Le=null;null!=this.Sg&&this.Sg.K();this.Sg=null;null!=this.Ne&&this.Ne.K();this.Ne=null;null!=this.Oe&&this.Oe.K();this.Oe=null;null!=this.Pe&&this.Pe.K();
this.Pe=null;null!=this.item&&this.item.K();this.item=null;this.Yg=[];null!=this.De&&this.De.K();this.De=null;null!=this.Ee&&this.Ee.K();this.Ee=null;null!=this.Fe&&this.Fe.K();this.Pc=this.Fe=null},qC:function(a){switch(a){case "ground1":null!=this.Ke&&this.Ke.K();this.Ke=null;break;case "ground2":null!=this.Le&&this.Le.K();this.Le=null;break;case "ground3":null!=this.Sg&&this.Sg.K();this.Sg=null;break;case "mask1":null!=this.Ne&&this.Ne.K();this.Ne=null;break;case "mask2":null!=this.Oe&&this.Oe.K();
this.Oe=null;break;case "mask3":null!=this.Pe&&this.Pe.K();this.Pe=null;break;case "item":null!=this.item&&this.item.K();this.item=null;this.Yg=[];break;case "fringe1":null!=this.De&&this.De.K();this.De=null;break;case "fringe2":null!=this.Ee&&this.Ee.K();this.Ee=null;break;case "fringe3":null!=this.Fe&&this.Fe.K(),this.Fe=null}},aE:function(a){if(!c)var c=!1;this.Pc=a;ObjectLists.Ie()[a]?this.string.pa(ObjectLists.Ie()[a].abbr):this.string.pa("_")},rS:function(){this.Pc=null;this.string.pa("")},
Ih:function(){return ObjectLists.Ie()[this.Pc]},r6:function(){return this.Pc},OX:function(a){this.string.ta(!0==a?255:0)}});Aa.Hy=function(a){var c=new Aa;c.w();c.position=q.a(a.x,a.y);return c};StatsController=q.v.extend({data:null,nx:null,k:null,w:function(a,c){this.data=a;this.k=c;this.AW()},update:function(){for(var a in this.data)this.nx&&(0==this.data[a].value&&0<this.nx[a]&&this.k.oca(a),this.data[a].ad>this.nx[a].ad&&this.k.qca(a)),this.nx[a]=this.data[a]},G6:function(a){return this.data[a].value},F6:function(a){return this.data[a].ad},d9:function(a,c){this.data[a].value+=c;this.data[a].value>this.data[a].ig&&(this.data[a].value=this.data[a].ig);0>this.data[a].value&&(this.data[a].value=
0)},IR:function(a,c){this.data[a].value=c;this.data[a].value>this.data[a].ig&&(this.data[a].value=this.data[a].ig);0>this.data[a].value&&(this.data[a].value=0)},c9:function(a,c){this.data[a].ad+=c;this.data[a].ad>this.data[a].hg&&(this.data[a].ad=this.data[a].hg);0>this.data[a].ad&&(this.data[a].ad=0)},IR:function(a,c){this.data[a].ad=c;this.data[a].ad>this.data[a].hg&&(this.data[a].ad=this.data[a].hg);0>this.data[a].ad&&(this.data[a].ad=0)},B2:function(a,c){this.data[a].hg=c},C2:function(a,c){this.data[a].ig=
c}});ObjectLists=q.Na.extend({GE:null,iD:null,oE:null,nE:null,nD:null,zD:null,PD:null,lE:null});var Y;ObjectLists.g=function(){Y||(Y=new ObjectLists,Y.GE=W.ET(),Y.iD=W.YS(),Y.oE=W.uT(),Y.nE=W.sT(),Y.nD=W.dT(),Y.zD=W.qk(),Y.PD=W.qT(),Y.lE=W.rT());return Y};ObjectLists.XI=function(){return Y.GE};ObjectLists.XX=function(a){Y.GE=a};ObjectLists.lc=function(){return Y.iD};ObjectLists.hX=function(a){Y.iD=a};ObjectLists.rk=function(){return Y.oE};ObjectLists.NX=function(a){Y.oE=a};ObjectLists.OI=function(){return Y.nE};
ObjectLists.MX=function(a){Y.nE=a};ObjectLists.Rp=function(){return Y.nD};ObjectLists.pX=function(a){Y.nD=a};ObjectLists.Up=function(){return Y.zD};ObjectLists.FX=function(a){Y.zD=a};ObjectLists.Ie=function(){return Y.PD};ObjectLists.KX=function(a){Y.PD=a};ObjectLists.Os=function(){return Y.lE};ObjectLists.LX=function(a){Y.lE=a};gameMapInstance=null;
var V=q.Tc.extend({Zb:null,I:null,Wg:!1,Pf:null,Jf:null,Fn:null,sn:null,Dl:null,Al:null,Bl:null,Cl:null,Ai:null,zi:null,U:q.a(0,0),ql:1,Zs:function(a){if("string"===typeof a){if(0==this.I[a].Pc)return!0;a=this.I[a].Ih()}else{if(0==a.Pc)return!0;a=a.Ih()}if(a)for(var c=["Will Enter","On Enter"],d=0;d<a.data.length;d++)if(-1<c.indexOf(a.data[d].type)&&Ga(a.data[d].requirements))for(var e=a.data[d].responses,f=0;f<e.length;f++)if("Block Entry"==e[f].type)return!0;return!1},zU:function(a){if("string"===typeof a){if(0==
this.I[a].Pc)return!1;a=this.I[a].Ih()}else{if(0==a.Pc)return!1;a=a.Ih()}if(a)for(var c=["Interact On","Interact Facing"],d=0;d<a.data.length;d++)if(-1<c.indexOf(a.data[d].type)&&Ga(a.data[d].requirements))for(var e=a.data[d].responses,f=0;f<e.length;f++)if("Show Sign"==e[f].type)return!0;return!1},wU:function(a){if(a=ObjectLists.Ie()[a.Pc])for(var c=["Default Event"],d=0;d<a.data.length;d++)if(-1<c.indexOf(a.data[d].type)&&Ga(a.data[d].requirements))for(var e=a.data[d].responses,f=0;f<e.length;f++)if("Talk"==
e[f].type)return!0;return!1},Hs:function(a,c){function d(a,c){return{oN:a,value:c.x+c.y*O,x:c.x,y:c.y,Ww:0,p:0}}function e(a,c){var d=c-1,e=c+1,g=a+1,h=a-1,k=-1<d&&f.I["tile"+Q(a,d)]&&!f.Zs("tile"+Q(a,d));myS=e<O&&f.I["tile"+Q(a,e)]&&!f.Zs("tile"+Q(a,e));myE=g<O&&f.I["tile"+Q(g,c)]&&!f.Zs("tile"+Q(g,c));myW=-1<h&&f.I["tile"+Q(h,c)]&&!f.Zs("tile"+Q(h,c));result=[];k&&result.push({x:a,y:d});myE&&result.push({x:g,y:c});myS&&result.push({x:a,y:e});myW&&result.push({x:h,y:c});return result}for(var f=this,
g=d(null,c),h,k,l,m,p,s=[],u=[],w=[d(null,a)],x=Array(N*O);h=w.length;){k=N*O;l=-1;for(m=0;m<h;m++)w[m].Ww<k&&(k=w[m].Ww,l=m);k=w.splice(l,1)[0];if(k.value===g.value){l=u[u.push(k)-1];do s.push(q.a(l.x,l.y));while(l=l.oN);x=u=w=[];s.reverse()}else{h=e(k.x,k.y);m=0;for(p=h.length;m<p;m++)l=d(k,h[m]),x[l.value]||(l.p=k.p+(Math.abs(h[m].x-k.x)+Math.abs(h[m].y-k.y)),l.Ww=l.p+(Math.abs(h[m].x-g.x)+Math.abs(h[m].y-g.y)),w.push(l),x[l.value]=!0);u.push(k)}}return s},$X:function(a){this.Zb={};this.Zb.mapdata=
{};for(var c in this.I)"tile"==c.substring(0,4)&&(this.I[c].kf(),this.Zb[c]={});if(a){if(a.mapdata){this.Dl=""!=a.mapdata.mapConnectors.up&&null!=a.mapdata.mapConnectors.up?a.mapdata.mapConnectors.up:null;this.Al=""!=a.mapdata.mapConnectors.down&&null!=a.mapdata.mapConnectors.down?a.mapdata.mapConnectors.down:null;this.Bl=""!=a.mapdata.mapConnectors.left&&null!=a.mapdata.mapConnectors.left?a.mapdata.mapConnectors.left:null;this.Cl=""!=a.mapdata.mapConnectors.right&&null!=a.mapdata.mapConnectors.right?
a.mapdata.mapConnectors.right:null;if(gameMapInstance.Ai!=a.mapdata.mapConnectors.width||gameMapInstance.zi!=a.mapdata.mapConnectors.height){O=a.mapdata.mapConnectors.width;N=a.mapdata.mapConnectors.height;Ea();gameMapInstance.I.K();var d=0;for(c in gameMapInstance.Zb)"mapdata"!=c&&d++;if(d>O*N)for(c=O*N;c<d;c++)delete gameMapInstance.Zb["tile"+c];for(c=0;c<O*N;c++)gameMapInstance.Zb["tile"+c]||(gameMapInstance.Zb["tile"+c]={})}this.Ai=""!=a.mapdata.mapConnectors.width&&null!=a.mapdata.mapConnectors.width?
a.mapdata.mapConnectors.width:36;this.zi=""!=a.mapdata.mapConnectors.height&&null!=a.mapdata.mapConnectors.height?a.mapdata.mapConnectors.height:36;R&&R.t.Q&&(d=R.t.Q.fc(),d.y>this.zi&&R.t.Q.Ac(M*this.zi),d.x>this.Ai-1&&R.t.Q.Ra(M*(this.Ai-1)));this.I.K();this.Pf.K();this.Jf.K();this.Fn.K();this.I=ya(this);this.f(this.I);this.Pf=q.vb.create(L.width,L.height);this.Pf.l(q.a(Math.floor(L.width/2),Math.floor(L.height/2)));this.f(this.Pf);this.f(this.Fn);this.Jf=q.vb.create(L.width,L.height);this.Jf.l(q.a(Math.floor(L.width/
2),Math.floor(L.height/2)));this.f(this.Jf)}this.Zb=a;for(c in a)if("tile"==c.substring(0,4))for(var e in a[c])"info"!=e?null!=a[c][e]&&this.I[c]&&this.I[c].Ql(a[c][e].texture,a[c][e].frame,e):null!=a[c][e].script&&"undefined"!==a[c][e].script&&this.I[c]&&(this.I[c].aE(a[c][e].script),T("On Game load",this.I[c],"Tile"))}R&&R.t.Q&&(a=R.t.Q.fc(),V.ul(a.x*M,a.y*M),this.gc(this.BD))},Sl:function(a){a=W.EC(a);this.Zb={};this.Zb.mapdata={};for(var c in this.I)"tile"==c.substring(0,4)&&(this.I[c].kf(),this.Zb[c]=
{});if(a){if(a.mapdata){this.Dl=""!=a.mapdata.mapConnectors.up&&null!=a.mapdata.mapConnectors.up?a.mapdata.mapConnectors.up:null;this.Al=""!=a.mapdata.mapConnectors.down&&null!=a.mapdata.mapConnectors.down?a.mapdata.mapConnectors.down:null;this.Bl=""!=a.mapdata.mapConnectors.left&&null!=a.mapdata.mapConnectors.left?a.mapdata.mapConnectors.left:null;this.Cl=""!=a.mapdata.mapConnectors.right&&null!=a.mapdata.mapConnectors.right?a.mapdata.mapConnectors.right:null;if(gameMapInstance.Ai!=a.mapdata.mapConnectors.width||
gameMapInstance.zi!=a.mapdata.mapConnectors.height){O=a.mapdata.mapConnectors.width;N=a.mapdata.mapConnectors.height;Ea();gameMapInstance.I.K();var d=0;for(c in gameMapInstance.Zb)"mapdata"!=c&&d++;if(d>O*N)for(c=O*N;c<d;c++)delete gameMapInstance.Zb["tile"+c];for(c=0;c<O*N;c++)gameMapInstance.Zb["tile"+c]||(gameMapInstance.Zb["tile"+c]={})}this.Ai=""!=a.mapdata.mapConnectors.width&&null!=a.mapdata.mapConnectors.width?a.mapdata.mapConnectors.width:36;this.zi=""!=a.mapdata.mapConnectors.height&&null!=
a.mapdata.mapConnectors.height?a.mapdata.mapConnectors.height:36;R&&R.t.Q&&(d=R.t.Q.fc(),d.y>this.zi&&R.t.Q.Ac(M*this.zi),d.x>this.Ai-1&&R.t.Q.Ra(M*(this.Ai-1)));this.I.K();this.Pf.K();this.Jf.K();this.Fn.K();this.I=ya(this);this.f(this.I);this.Pf=q.vb.create(L.width,L.height);this.Pf.l(q.a(Math.floor(L.width/2),Math.floor(L.height/2)));this.f(this.Pf);this.f(this.Fn);this.Jf=q.vb.create(L.width,L.height);this.Jf.l(q.a(Math.floor(L.width/2),Math.floor(L.height/2)));this.f(this.Jf)}this.Zb=a;for(c in a)if("tile"==
c.substring(0,4))for(var e in a[c])"info"!=e?null!=a[c][e]&&this.I[c]&&this.I[c].Ql(a[c][e].texture,a[c][e].frame,e):null!=a[c][e].script&&"undefined"!==a[c][e].script&&this.I[c]&&(this.I[c].aE(a[c][e].script),T("On Game load",this.I[c],"Tile"))}R&&R.t.Q&&(c=R.t.Q.fc(),V.ul(c.x*M,c.y*M),this.gc(this.BD))},BD:function(){for(var a in this.I)if("tile"==a.substring(0,4)&&!1==this.I[a].Vg())return;R.g().D(!0);R.Ak();this.Sc(this.BD);this.Jf.D(!0);this.Pf.D(!0);this.Wg=!0},qc:function(){for(var a={},c=
0;c<O;c++)for(var d=0;d<N;d++)a["tile"+(c+d*O)]={size:q.size(M,M),e:q.a(0,0),position:q.a(c*M,(N-d)*M),vU:!0,vY:q.a(d,c),visible:!1};return{panels:{children:a}}},w:function(){this.hc(!0);this.gE(1)},xb:function(a){!this.sn||Mapeditor&&Mapeditor.ea||(this.sn=Mapeditor=null);if(this.sn)for(var c in this.I)"tile"==c.substring(0,4)&&q.tb(this.I[c].ob(),q.a(a.R.x-this.U.x,a.R.y+M-this.U.y))&&(this.sn.ML(this.I,c),V.yt());else for(c in this.I)if("tile"==c.substring(0,4)&&q.tb(this.I[c].ob(),q.a(a.R.x-this.U.x,
a.R.y+M-this.U.y))){var d=V.LI(this.I[c].u.H/M,this.I[c].u.S/M),e=this.zU(c);if(this.I[c].rn()){var d=ObjectLists.lc()[this.I[c].rn().number],f=G["Item Dropdown Pick Up"]+"",e=G["Item Dropdown Walk To"]+"",f=f.replace("\x3cITEM\x3e",d.name),e=e.replace("\x3cITEM\x3e",d.name);this.ea.f(DropDownList.Nc(this,this.BU,[f,e],a.R));this.Nd=c}else if(d){if(this.wU(d))var g=G["NPC Dropdown Talk"]+"",g=g.replace("\x3cNPC\x3e",d.name);e=G["NPC Dropdown Walk To"]+"";e=e.replace("\x3cNPC\x3e",d.name);g?this.ea.f(DropDownList.Nc(this,
this.QJ,[g,e],a.R,null,{vx:d})):this.ea.f(DropDownList.Nc(this,this.QJ,[e],a.R));this.Nd=c}else e?(e=G["Sign Dropdown list Read"]+"",e=e.replace("\x3cSIGN\x3e",this.I[c].Ih().name),this.ea.f(DropDownList.Nc(this,this.iY,[e],a.R)),this.Nd=c):(e=R.t.Q.fc(),R.t.Q.nt(this.Hs(q.a(Math.floor(e.x),Math.ceil(e.y)),q.a(this.I[c].u.x/M,this.I[c].u.y/M))))}return!0},Nd:null,BU:function(a){if(null!=this.k.Nd){var c=ObjectLists.lc()[this.k.I[gameMapInstance.Nd].rn().number],d=R.t.Q.fc(),e=q.a(gameMapInstance.I[gameMapInstance.Nd].u.x/
M,gameMapInstance.I[gameMapInstance.Nd].u.y/M);switch(a){case 0:a=d.x>e.x?d.x-e.x:e.x-d.x;d=d.y>e.y?d.y-e.y:e.y-d.y;5>Math.sqrt(a*a+d*d)?R.t.Q.qU(gameMapInstance.I[gameMapInstance.Nd]):(d=G["Item Out-of-range"]+"",d=d.replace("\x3cITEM\x3e",c.name),S.Cb(d));break;case 1:R.t.Q.nt(gameMapInstance.Hs(q.a(Math.floor(d.x),Math.ceil(d.y)),e)),this.k.Nd=null}}},QJ:function(a,c,d,e){if(null!=this.k.Nd)if(c=R.t.Q.fc(),1==d.length)R.t.Q.nt(gameMapInstance.Hs(q.a(Math.floor(c.x),Math.ceil(c.y)),itemPosition)),
this.k.Nd=null;else switch(d=q.a(e.vx.u.x/M,e.vx.u.y/M),a){case 0:a=c.x>d.x?c.x-d.x:d.x-c.x;c=c.y>d.y?c.y-d.y:d.y-c.y;5>Math.sqrt(a*a+c*c)?(T("Default Event",e.vx,"NPC"),this.k.Nd=null):(a=G["NPC Out-of-range"]+"",a=a.replace("\x3cNPC\x3e",e.vx.name),S.Cb(a));break;case 1:R.t.Q.nt(gameMapInstance.Hs(q.a(Math.floor(c.x),Math.ceil(c.y)),itemPosition)),this.k.Nd=null}},iY:function(a){if(null!=this.k.Nd){var c=R.t.Q.fc(),d=q.a(gameMapInstance.I[gameMapInstance.Nd].u.x/M,gameMapInstance.I[gameMapInstance.Nd].u.y/
M);switch(a){case 0:a=c.x>d.x?c.x-d.x:d.x-c.x,c=c.y>d.y?c.y-d.y:d.y-c.y,5>Math.sqrt(a*a+c*c)?(T("Interact Facing",this.k.I[gameMapInstance.Nd],"Tile"),this.k.Nd=null):(c=G["Sign Out-of-range"]+"",c=c.replace("\x3cSIGN\x3e",this.k.I[gameMapInstance.Nd].Ih().name),S.Cb(c))}}},Qd:function(a){if(this.sn){for(var c in this.I)"tile"==c.substring(0,4)&&q.tb(this.I[c].ob(),q.a(a.R.x-this.U.x,a.R.y+M-this.U.y))&&(this.sn.ML(this.I,c,"moved"),V.yt());return!0}for(c in this.I)if("tile"==c.substring(0,4)&&q.tb(this.I[c].ob(),
q.a(a.R.x-this.U.x,a.R.y+M-this.U.y))){var d=R.t.Q.fc();R.t.Q.nt(this.Hs(q.a(Math.floor(d.x),Math.ceil(d.y)),q.a(this.I[c].u.x/M,this.I[c].u.y/M)))}},Ba:function(){this._super();if(!0==this.Wg){this.Pf.hC(0,0,0,0);for(var a in this.I)"tile"==a.substring(0,4)&&(this.I[a].D(!0),null!=this.I[a].De&&this.I[a].De.D(!1),null!=this.I[a].Ee&&this.I[a].Ee.D(!1),null!=this.I[a].zC&&this.I[a].zC.D(!1),null!=this.I[a].Fe&&this.I[a].Fe.D(!1),this.I[a].Ba(),null!=this.I[a].De&&this.I[a].De.D(!0),null!=this.I[a].Ee&&
this.I[a].Ee.D(!0),null!=this.I[a].zC&&this.I[a].zC.D(!0),null!=this.I[a].Fe&&this.I[a].Fe.D(!0),this.I[a].D(!1));this.Pf.end();this.Jf.hC(0,0,0,0);for(a in this.I)"tile"==a.substring(0,4)&&(this.I[a].D(!0),null!=this.I[a].Ke&&this.I[a].Ke.D(!1),null!=this.I[a].Le&&this.I[a].Le.D(!1),null!=this.I[a].TC&&this.I[a].TC.D(!1),null!=this.I[a].Ne&&this.I[a].Ne.D(!1),null!=this.I[a].Oe&&this.I[a].Oe.D(!1),null!=this.I[a].Pe&&this.I[a].Pe.D(!1),null!=this.I[a].item&&this.I[a].item.D(!1),this.I[a].Ba(),null!=
this.I[a].Ke&&this.I[a].Ke.D(!0),null!=this.I[a].Le&&this.I[a].Le.D(!0),null!=this.I[a].TC&&this.I[a].TC.D(!0),null!=this.I[a].Ne&&this.I[a].Ne.D(!0),null!=this.I[a].Oe&&this.I[a].Oe.D(!0),null!=this.I[a].Pe&&this.I[a].Pe.D(!0),null!=this.I[a].item&&this.I[a].item.D(!0),this.I[a].D(!1));this.Jf.end();this.Wg=!1}}});
V.updateOffset=function(a,c){0<=gameMapInstance.U.x+(L.width-P.width/2)+a&&R.t.Q.u.x<L.width-P.width/2&&0>=gameMapInstance.U.x+a&&R.t.Q.u.x>P.width/2&&(gameMapInstance.U.x+=a);0<=gameMapInstance.U.y+(L.height-P.height/2)+c&&R.t.Q.u.y<L.height-P.height/2&&0>=gameMapInstance.U.y+c&&R.t.Q.u.y>P.height/2&&(gameMapInstance.U.y+=c);L.height<P.height&&(gameMapInstance.U.y=(P.height-L.height)/2);L.width<P.width&&(gameMapInstance.U.x=(P.width-L.width)/2);gameMapInstance.l(gameMapInstance.U.x,gameMapInstance.U.y)};
V.ul=function(a,c){a=parseInt(a);c=parseInt(c);!0==gameMapInstance.Wg?0==offsetFromPositionScheduledX&&0==offsetFromPositionScheduledY&&(offsetFromPositionScheduledX=a,offsetFromPositionScheduledY=c,gameMapInstance.gc(V.zK)):(gameMapInstance.U.x=a>L.width-P.width/2?-(L.width-P.width):a<P.width/2?0:-(a-P.width/2),gameMapInstance.U.y=c>L.height-P.height/2?-(L.height-P.height):c<P.height/2?0:-(c-P.height/2),offsetFromPositionScheduledY=offsetFromPositionScheduledX=0,gameMapInstance.Sc(V.zK),L.height<
P.height&&(gameMapInstance.U.y=(P.height-L.height)/2),L.width<P.width&&(gameMapInstance.U.x=(P.width-L.width)/2),gameMapInstance.l(gameMapInstance.U.x,gameMapInstance.U.y))};offsetFromPositionScheduledY=offsetFromPositionScheduledX=0;V.zK=function(){V.ul(offsetFromPositionScheduledX,offsetFromPositionScheduledY)};
V.RC=function(){!0==gameMapInstance.Wg?gameMapInstance.gc(V.RC):(gameMapInstance.Sc(V.RC),gameMapInstance.U.x=-(L.width-P.width),L.height<P.height&&(gameMapInstance.U.y=(P.height-L.height)/2),L.width<P.width&&(gameMapInstance.U.x=(P.width-L.width)/2),gameMapInstance.l(gameMapInstance.U.x,gameMapInstance.U.y))};
V.QC=function(){!0==gameMapInstance.Wg?gameMapInstance.gc(V.QC):(gameMapInstance.Sc(V.QC),gameMapInstance.U.x=0,L.height<P.height&&(gameMapInstance.U.y=(P.height-L.height)/2),L.width<P.width&&(gameMapInstance.U.x=(P.width-L.width)/2),gameMapInstance.l(gameMapInstance.U.x,gameMapInstance.U.y))};
V.PC=function(){!0==gameMapInstance.Wg?gameMapInstance.gc(V.PC):(gameMapInstance.Sc(V.PC),gameMapInstance.U.y=-(L.height-P.height),L.height<P.height&&(gameMapInstance.U.y=(P.height-L.height)/2),L.width<P.width&&(gameMapInstance.U.x=(P.width-L.width)/2),gameMapInstance.l(gameMapInstance.U.x,gameMapInstance.U.y))};
V.SC=function(){!0==gameMapInstance.Wg?gameMapInstance.gc(V.SC):(gameMapInstance.Sc(V.SC),gameMapInstance.U.y=0,L.height<P.height&&(gameMapInstance.U.y=(P.height-L.height)/2),L.width<P.width&&(gameMapInstance.U.x=(P.width-L.width)/2),gameMapInstance.l(gameMapInstance.U.x,gameMapInstance.U.y))};
V.create=function(){gameMapInstance||(gameMapInstance=new V,gameMapInstance.I=ya(gameMapInstance),gameMapInstance.f(gameMapInstance.I),gameMapInstance.Pf=q.vb.create(L.width,L.height),gameMapInstance.Pf.l(q.a(Math.floor(L.width/2),Math.floor(L.height/2))),gameMapInstance.f(gameMapInstance.Pf),gameMapInstance.Pf.D(!1),gameMapInstance.Fn=q.F.create(),gameMapInstance.f(gameMapInstance.Fn),gameMapInstance.Jf=q.vb.create(L.width,L.height),gameMapInstance.Jf.l(q.a(Math.floor(L.width/2),Math.floor(L.height/
2))),gameMapInstance.f(gameMapInstance.Jf),gameMapInstance.Jf.D(!1),gameMapInstance.nq(-15),gameMapInstance.w());return gameMapInstance};V.g=function(){return gameMapInstance};V.gt=function(){gameMapInstance.K();gameMapInstance=null};V.yt=function(){gameMapInstance||(gameMapInstance=V.create());gameMapInstance.Wg=!0};V.aY=function(a){gameMapInstance.$X(a)};V.g=function(){return gameMapInstance};
V.Ql=function(a,c,d,e){gameMapInstance.Zb[a]&&(gameMapInstance.I[a].Ql(c,d,e),gameMapInstance.Zb[a][e]={texture:c,frame:d})};V.DY=function(){R.rC();z({savemap:gameMapInstance.ql,mapdata:gameMapInstance.Zb})};V.qC=function(a,c){gameMapInstance.Zb[a][c]=null;gameMapInstance.I[a].qC(c)};V.RX=function(a,c){null!=c&&"undefined"!==c&&(gameMapInstance.I[a].aE(c),gameMapInstance.Zb[a].info={script:c})};V.BT=function(a){return gameMapInstance.I[a].Ih()};
V.sS=function(a){gameMapInstance.I[a].rS();gameMapInstance.Zb[a].info={script:null}};
V.kX=function(a){gameMapInstance.Zb.mapdata.mapConnectors=a;gameMapInstance.Dl=a.up;gameMapInstance.Al=a.down;gameMapInstance.Bl=a.left;gameMapInstance.Cl=a.right;if(gameMapInstance.Ai!=a.width||gameMapInstance.zi!=a.height){O=a.width;N=a.height;Ea();gameMapInstance.I.K();var c=0,d;for(d in gameMapInstance.Zb)"mapdata"!=d&&c++;if(c>O*N)for(d=O*N;d<c;d++)delete gameMapInstance.Zb["tile"+d];for(d=0;d<O*N;d++)gameMapInstance.Zb["tile"+d]||(gameMapInstance.Zb["tile"+d]={})}gameMapInstance.Ai=a.width;
gameMapInstance.zi=a.height};V.LS=function(a,c,d){for(var e in gameMapInstance.I)"tile"==e.substring(0,4)&&gameMapInstance.Zb[e]&&(gameMapInstance.I[e].Ql(a,c,d),gameMapInstance.Zb[e][d]={texture:a,frame:c})};V.jL=function(a){for(var c in gameMapInstance.I)"tile"==c.substring(0,4)&&gameMapInstance.I[c].OX(a);SkillBarsInstance.D(!a);Z.D(!a);gameMapInstance.Wg=!0};
V.Gba=function(){for(var a in gameMapInstance.I)"tile"==a.substring(0,4)&&gameMapInstance.I[a].string.pa(a.substring(4));gameMapInstance.Wg=!0};V.bJ=function(){return null!=gameMapInstance.Dl};V.ZI=function(){return null!=gameMapInstance.Al};V.$I=function(){return null!=gameMapInstance.Bl};V.aJ=function(){return null!=gameMapInstance.Cl};V.mf=function(){return gameMapInstance.ql};V.IC=function(){return gameMapInstance.Dl};V.FC=function(){return gameMapInstance.Al};V.GC=function(){return gameMapInstance.Bl};
V.HC=function(){return gameMapInstance.Cl};V.HI=function(){return gameMapInstance.Ai};V.GI=function(){return gameMapInstance.zi};V.Vp=function(a,c){c||(MapMaster=!1);R.g().D(!1);R.rC();V.kf();gameMapInstance.ql=a;R.t.Q.iq(a);R.Ak();gameMapInstance.Sl(a)};V.KT=function(a){R.rC();V.kf();gameMapInstance.ql=a;gameMapInstance.Sl(a)};V.JT=function(){R.g().D(!1);V.kf();gameMapInstance.ql=gameMapInstance.Dl;R.t.Q.iq(gameMapInstance.Dl);R.Ak();gameMapInstance.Sl(gameMapInstance.Dl)};
V.GT=function(){R.g().D(!1);V.kf();gameMapInstance.ql=gameMapInstance.Al;R.t.Q.iq(gameMapInstance.Al);R.Ak();gameMapInstance.Sl(gameMapInstance.Al)};V.HT=function(){R.g().D(!1);V.kf();gameMapInstance.ql=gameMapInstance.Bl;R.t.Q.iq(gameMapInstance.Bl);R.Ak();gameMapInstance.Sl(gameMapInstance.Bl)};V.ui=function(a){if(!W.EC(a))return q.size(36,36);a=W.EC(a).mapdata.mapConnectors;return q.size(a.width,a.height)};
V.IT=function(){R.g().D(!1);V.kf();gameMapInstance.ql=gameMapInstance.Cl;R.t.Q.iq(gameMapInstance.Cl);R.Ak();gameMapInstance.Sl(gameMapInstance.Cl)};V.ht=function(a){gameMapInstance.sn=a};V.qn=function(a,c){return a>O-1||0>a?void 0:gameMapInstance.I["tile"+(a+(N-c)*O)]};V.LI=function(a,c){for(var d in R.g().fe){var e=R.g().fe[d].fc();if(e.x==a&&e.y==c)return R.g().fe[d]}return null};V.UI=function(a){return gameMapInstance.I["tile"+a]};
V.dR=function(){var a=R.g();gameMapInstance.Fn.f(a);V.ul(R.t.Q.u.H,R.t.Q.u.S)};V.kf=function(){gameMapInstance.Zb={};for(var a in gameMapInstance.I)"tile"==a.substring(0,4)&&(gameMapInstance.I[a].kf(),gameMapInstance.Zb[a]={});gameMapInstance.Zb.mapdata={};gameMapInstance.Wg=!0};var R=q.Tc.extend({t:null,yc:[],fe:[],Q:null});R.g=function(){return this.t};R.gt=function(){this.t.K();this.t=null};R.create=function(a){this.t||(this.t=new R,this.t.Q=PlayerCharacter.create(a),this.t.f(this.t.Q));return this.t};R.fN=function(){var a=V.mf(),c=[],d;for(d in this.t.fe)this.t.fe[d].kg==a&&c.push(this.t.fe[d]);return c};R.Qp=function(a){return this.t.fe[a]};R.RU=function(a,c,d){this.t.fe[a]&&"default"!=c&&this.t.Q.kg==d&&this.t.fe[a].$L(c)};
R.mW=function(a,c){this.t.fe[a]&&"default"!=c&&this.t.fe[a].l(q.a(c%O*M,Math.floor(c/O)*M))};R.rC=function(){for(var a in this.t.fe)this.t.fe[a].K();this.t.fe=[]};R.YQ=function(a,c){var d=V.mf();if(a&&a.sprite){var e=parseInt(this.t.fe.length);this.t.fe.push(NonPlayerCharacter.create({name:a.name,Tn:{health:{ad:1,value:100,ig:200,hg:900},mana:{ad:1,value:100,ig:200,hg:99}},map:d,st:"sprites1.png",qt:a.sprite.number,tn:e,Pc:a.script}));this.t.fe[e].l(c.x*M,c.y*M);this.t.f(this.t.fe[e])}};R.o7=function(){return this.t.Q};
R.wi=function(a){return this.t.yc[a]};R.cR=function(a){this.t.yc[a.id]=PlayerCharacter.create({name:a.id,Tn:{health:{ad:1,value:100,ig:200,hg:900},mana:{ad:1,value:100,ig:200,hg:99}},map:a.location.mapnumber,st:"sprites1.png",qt:1});var c=a.location.position,d=V.ui(a.location.mapnumber);this.t.yc[a.id].l(c%d.width*M,Math.floor(c/d.width)*M);R.Ak();this.t.f(this.t.yc[a.id]);c=G["Join Message"]+"";c=c.replace("\x3cPLAYER\x3e",a.id);S.Cb(c)};
R.fI=function(a){if(this.t.yc[a]){this.t.yc[a].K();this.t.yc[a]=null;var c=G["Leave Message"]+"",c=c.replace("\x3cPLAYER\x3e",a);S.Cb(c);for(c=0;c<A.length;c++){var d=JSON.parse(A[c]);d.id&&d.id==a&&(A.splice(c,1),c--)}}};
R.SU=function(a){console.log(a.location.position);if(this.t.yc[a.id])this.t.yc[a.id].$L(a.location.position);else{this.t.yc[id]=PlayerCharacter.create({name:a.id,Tn:{health:{ad:1,value:100,ig:200,hg:900},mana:{ad:1,value:100,ig:200,hg:99}},map:a.location.mapnumber,st:"sprites1.png",qt:1});var c=a.location.position,d=V.ui(a.location.mapnumber);this.t.yc[id].l(q.a(c%d.width*M,Math.floor(c/d.width)*M));R.Ak();this.t.f(this.t.yc[a.id]);c=G["Join Message"]+"";c=c.replace("\x3cPLAYER\x3e",a.id);S.Cb(c)}};
R.wV=function(a){if(this.t.yc[a.id])this.t.yc[a.id].l(q.a(a.location.position%O*M,Math.floor(a.location.position/O)*M));else{this.t.yc[a.id]=PlayerCharacter.create({name:a.id,Tn:{health:{ad:1,value:100,ig:200,hg:900},mana:{ad:1,value:100,ig:200,hg:99}},map:a.location.mapnumber,st:"sprites1.png",qt:1});var c=a.location.position,d=V.ui(a.location.mapnumber);this.t.yc[id].l(q.a(c%d.width*M,Math.floor(c/d.width)*M));R.Ak();this.t.f(this.t.yc[a.id]);S.Cb(a.id+t.He.tV)}};
R.CR=function(a){this.t.yc[a]&&this.t.yc[a].updateStatus("AFK")};R.Ak=function(){var a=this.t.Q.kg,c;for(c in this.t.yc)null!=this.t.yc[c]&&this.t.yc[c].D(this.t.yc[c].kg==a)};R.kf=function(){for(var a in this.t.yc)null!=this.t.yc[a]&&R.fI(a);this.t.Q.K();this.t.Q=null};R.BR=function(a,c){this.t.yc[a].iq(c);this.t.yc[a].D(this.t.Q.kg==c)};Character=q.v.extend({name:null,Tn:null,JL:null,Z1:null,sf:null,Xg:!1,An:null,dy:null,rj:!1,tn:-1,status:null,kg:null,path:null,yC:"DOWN",w:function(a){this.QX(a.st,a.qt);this.Tn=new StatsController(a.pca,this);this.f(this.Tn);this.name=a.name;a.Pc&&(this.Pc=a.Pc);a.rj&&(this.rj=a.rj);a.map&&(this.kg=a.map);null!=a.tn&&"undefined"!==a.tn&&(this.tn=a.tn);this.A(0,1);this.An=q.T.create("","Arial",12);this.An.A(0.5,0);this.An.r(255,0,0);this.An.l(Math.floor(this.c().width/2),this.c().width+3);this.f(this.An);
this.TL()},P4:function(){return this.yC},iq:function(a){this.kg=a},n5:function(){return this.kg},updateStatus:function(a){this.status=a&&a!=this.status?a:null;this.TL()},TL:function(){null!=this.status?this.An.pa(this.name+"-"+this.status):this.An.pa(this.name)},getName:function(){return this.name},Mf:function(a,c,d){this.gb(q.rect(a*Da,4*this.JL.id*Da+c*Da,Da,Da));this.dy=q.a(a,c);this.yC=d},Jh:function(){return this.dy},QX:function(a,c){this.JL={name:a,id:c};this.ka(q.ia.g().ma(a));this.Mf(1,0)},
fc:function(){return q.a(this.u.x/M,this.u.y/M)},Hw:0.24,GY:0.24,rl:2,oda:function(a){var c=a.position%O,d=Math.floor(a.position/O);this.l(c*M,d*M);z({changemap:a.mapTo,setTo:a.position});V.Vp(a.mapTo);V.ul(c*M,d*M)},rU:function(){if(!this.Xg){var a=this.fc();if(a=V.qn(a.x,a.y))a.rn()&&this.qV(a.rn()),a.Ih()&&T("Interact On",a,"Tile")}},qU:function(a){a&&(this.Xg||a&&(a.rn()?this.rV(a.rn(),a):a.Ih()&&T("Interact On",a,"Tile")))},pU:function(){if(!this.Xg){var a=this.fc();switch(this.yC){case "RIGHT":a.x+=
1;break;case "LEFT":a.x-=1;break;case "UP":a.y+=1;break;case "DOWN":a.y-=1}var c=V.LI(a.x,a.y);c?T("Default Event",c,"NPC"):(a=V.qn(a.x,a.y))&&a.Ih()&&T("Interact Facing",a,"Tile")}},At:function(a){this.Hw+=a;a=this.u;var c=this.Jh();this.Hw>this.GY&&(this.Hw=0,this.sf.x<a.x?this.Mf((c.x+1)%3,1,"LEFT"):this.sf.x>a.x?this.Mf((c.x+1)%3,2,"RIGHT"):this.sf.y<a.y?this.Mf((c.x+1)%3,0,"DOWN"):this.sf.y>a.y&&this.Mf((c.x+1)%3,3,"UP"));this.sf.x<a.x?(this.Ra(a.x-this.rl),this.rj&&V.updateOffset(+this.rl,0)):
this.sf.x>a.x?(this.Ra(a.x+this.rl),this.rj&&V.updateOffset(-this.rl,0)):this.sf.y<a.y?(this.Ac(a.y-this.rl),this.rj&&V.updateOffset(0,this.rl)):this.sf.y>a.y&&(this.Ac(a.y+this.rl),this.rj&&V.updateOffset(0,-this.rl));a.y==this.sf.y&&a.x==this.sf.x&&(this.Xg=!1,this.ox&&T("On Leave",V.qn(this.ox.x,this.ox.y),"Tile"),this.ox=null,T("On Enter",V.qn(this.fc().x,this.fc().y),"Tile"),this.Sc(this.At),null!=this.path&&this.SH())},sq:function(a,c){if(!1!=this.ya){var d=V.qn(a,c),e=this.dy,f=this.fc();f.x>
a?this.Mf(e.x,1,"LEFT"):f.x<a&&this.Mf(e.x,2,"RIGHT");f.y>c?this.Mf(e.x,0,"DOWN"):f.y<c&&this.Mf(e.x,3,"UP");d?!1==this.Xg&&d&&!gameMapInstance.Zs(d)&&(T("Will Leave",V.qn(this.fc().x,this.fc().y),"Tile"),this.ox=q.a(this.fc().x,this.fc().y),this.sf=q.a(M*a,M*c),this.Xg=!0,T("Will Enter",V.qn(a,c),"Tile"),this.gc(this.At),this.At(0),this.rj?z({moveTo:this.sf.x/M+this.sf.y/M*O}):-1<this.tn&&z({npcID:this.tn+"",mapnumber:this.kg,moveNPC:this.sf.x/M+this.sf.y/M*O})):(null==Mapeditor||Mapeditor.ea||(Mapeditor=
null),this.rj&&null==Mapeditor&&(f.x<a&&V.aJ()?(d=V.ui(V.HC()),this.l(0,M*c),z({changemap:parseInt(V.HC()),setTo:0+c*d.width}),V.IT(),V.QC()):f.x>a&&V.$I()&&(d=V.ui(V.GC()),this.l(M*(d.width-1),M*c),z({changemap:parseInt(V.GC()),setTo:d.width-1+c*d.width}),V.HT(),V.RC()),f.y<c&&V.bJ()?(d=V.ui(V.IC()),this.l(M*a,M),z({changemap:parseInt(V.IC()),setTo:a+1*d.width}),V.JT(),V.SC()):f.y>c&&V.ZI()&&(d=V.ui(V.FC()),z({changemap:parseInt(V.FC()),setTo:a+d.height*d.width}),this.l(M*a,M*d.height),V.GT(),V.PC())))}},
SH:function(){0==this.path.length?this.path=null:(this.path.splice(0,1),0==this.path.length?this.path=null:this.sq(this.path[0].x,this.path[0].y))},nt:function(a){if(null==this.path||0!=a.length)this.path=a,this.SH()},$L:function(a){if(!1!=this.ya){var c=a%O;a=Math.floor(a/O);if(!1==this.Xg){var d=this.dy,e=this.fc();4<Math.abs(q.rD(q.a(c,a),e))?this.l(q.a(M*c,M*a)):(e.x>c?this.Mf(d.x,1,"LEFT"):e.x<c?this.Mf(d.x,2,"RIGHT"):e.y>a?this.Mf(d.x,0,"DOWN"):e.y<a&&this.Mf(d.x,3,"UP"),this.sf=q.a(M*c,M*a),
this.Xg=!0,this.gc(this.At),this.At(0))}}}});
PlayerCharacter=Character.extend({items:null,Dp:3,ti:null,Il:null,w:function(a){this._super(a);this.ti=[];this.Il=[];a.Dp&&(this.Dp=a.Dp);this.items={stored:[],equipped:{},bank:[]};if(a.position){var c=V.ui(a.map),d=a.position%c.width,c=Math.floor(a.position/c.width);this.l(d*M,c*M);V.KT(a.map);V.ul(d*M,c*M);this.kg=a.map}a.pJ&&(this.items.stored=a.pJ);a.tR&&(this.items.bank=a.tR);a.ti&&(this.ti=a.ti);a.Il&&(this.Il=a.Il);if(a.oI){this.items.equipped=a.oI;for(var e in this.items.equipped)T("Default Event",
this.items.equipped[e],"Item",{"Equip Item":!0,"Give /Take Item":!0,"Warp Player":!0,"Read Item":!0,"Open/Close Panel":!0,Destroy:!0})}this.MR()},MR:function(){this.ti=[];z({saveUserExtra:[],name:this.getName()})},TD:function(a,c){this.ti[a]=c;z({saveUserExtra:this.ti,name:this.getName()})},Pp:function(a){return this.ti[a]?this.ti[a]:null},EX:function(a,c){this.Il[a]=c},qk:function(a){return this.Il[a]},xt:function(){Inventory&&Inventory.jb();Equipment&&Equipment.jb()},iR:function(a){for(var c=0,
d=0;d<this.items.bank.length;d++)if(!this.items.bank[d]){c=d;break}this.items.bank[c]=a},jR:function(a){for(var c=0,d=0;d<this.items.stored.length;d++)if(!this.items.stored[d]){c=d;break}this.items.stored[c]=a},qV:function(a){item=ObjectLists.lc()[a.Cn];var c=this.fc();T("On Pickup",item,"Item");if(!0==item.stackable)for(var d=0;40>d;d++)if(this.items.stored[d]&&this.items.stored[d].number==a.Cn){Inventory&&(this.items.stored[d].amount+=a.Fp,Inventory.zk(d,this.items.stored[d].amount));S.Cb(t.He.Ax+
item.name);z({pickupitem:Q(c.x,c.y),mapnumber:V.mf()});return}for(var e=!1,d=0;40>d;d++)if(null==this.items.stored[d]){this.items.stored[d]={number:a.Cn,amount:a.Fp};Inventory&&Inventory.zk(d,a.Fp);S.Cb(t.He.Ax+item.name);z({pickupitem:Q(c.x,c.y),mapnumber:V.mf()});e=!0;break}!1==e&&S.Cb(t.He.qJ);Inventory&&Inventory.jb();Equipment&&Equipment.jb()},rV:function(a,c){item=ObjectLists.lc()[a.Cn];var d=q.a(c.u.H/M,c.u.S/M);T("On Pickup",item,"Item");if(!0==item.stackable)for(var e=0;40>e;e++)if(this.items.stored[e]&&
this.items.stored[e].number==a.Cn){Inventory&&(this.items.stored[e].amount+=a.Fp,Inventory.zk(e,this.items.stored[e].amount));S.Cb(t.He.Ax+item.name);z({pickupitem:Q(d.x,d.y),mapnumber:V.mf()});return}for(var f=!1,e=0;40>e;e++)if(null==this.items.stored[e]){this.items.stored[e]={number:a.Cn,amount:a.Fp};Inventory&&Inventory.zk(e,a.Fp);S.Cb(t.He.Ax+item.name);z({pickupitem:Q(d.x,d.y),mapnumber:V.mf()});f=!0;break}!1==f&&S.Cb(t.He.qJ);Inventory&&Inventory.jb();Equipment&&Equipment.jb()},vC:function(a,
c){var d=this.fc(),e=this.items[c][a],f=ObjectLists.lc()[e.number];T("On Drop",f,"Item");this.items[c][a]&&(S.Cb(t.He.DS+f.name),z({droppeditem:e.number,mapnumber:V.mf(),index:Q(d.x,d.y),amount:e.amount}),!0==f.stackable&&1<e.amount&&Inventory.zk(a,0),this.items[c][a]=null);Inventory&&Inventory.jb();Equipment&&Equipment.jb()},EY:function(a){T("Default Event",ObjectLists.lc()[this.items.stored[a].number],"Item",{},a)},qS:function(a){for(var c=0;40>c;c++)if(null==this.items.stored[c]){this.items.stored[c]=
J(this.items.equipped[a]);this.items.equipped[a]=null;Inventory&&Inventory.jb();Equipment&&Equipment.jb();T("On Dequip",this.items.stored[c],"Item");return}S.Cb("No space in inventory to dequip this item.")},Qg:function(){return this.items.stored},Np:function(){return this.items.bank},Yw:function(){return this.items.equipped}});PlayerCharacter.create=function(a){var c=new PlayerCharacter;c.w(a);return c};
NonPlayerCharacter=Character.extend({Z8:null,Cx:!1,CX:function(a,c){this.Cx=!0;this.Td(function(){this.sq(a.x,a.y);this.Cx=!1},c)},o8:function(){return this.Cx}});NonPlayerCharacter.create=function(a){var c=new NonPlayerCharacter;c.w(a);return c};var Ia=q.Tc.extend({ND:null,b:null,qD:function(){},ctor:function(){this._super()},aM:function(){},Rn:function(){},Ci:function(){},ra:function(){this.b&&this.b.K();this.b=ya(this);this.f(this.b)},Aa:function(){},w:function(){this.gE(1);this.Mx(!0);this.hc(!0);F.Pn(this);this._super()},pD:function(){q.log("Override onKeyDown in scene extended class to use keyboard")},Fl:function(){q.log("Override onKeyUp in scene extended class to use keyboard")},fX:function(a){this.ND=a},Jc:function(){return this.ND}});DropDownList=Ia.extend({list:null,aS:null,selected:null,b:null,k:null,dI:null,hK:null,ot:null,ctor:function(){this._super();this.list=[];this.aS=0},w:function(a,c,d,e,f){this._super();a&&(this.k=a,this.dI=c,d&&(this.list=d),e&&this.l(e),this.JS=f?f:{},this.hK=F.QS(),F.Pn(this),this.nq(-1001),this.Mx(!0))},xb:function(a){for(var c=this.b.control_menu.Ka(a.R),d=0;d<this.list.length;d++)this.ot&&!0!=this.ot[d].enabled||q.tb(q.rect(this.b.control_menu[d+""].u.H,this.b.control_menu[d+""].u.S,this.b.control_menu[d+
""].c().width,this.b.control_menu[d+""].c().height),c)&&this.dI(d,a,this.list,this.JS);this.EV();return!0},EV:function(){F.Pn(this.hK);this.K();xa()},nW:function(){this.Ac(this.u.S-24*this.list.length);for(var a=0,c=0;c<this.list.length;c++)this.b.control_menu[c+""].content.c().width>a&&(a=this.b.control_menu[c+""].content.c().width);for(c=0;c<this.list.length;c++)this.b.control_menu[c+""].P(a+8,this.b.control_menu[c+""].c().height);this.b.control_menu.P(a+8,this.b.control_menu.c().height)},qc:function(){for(var a=
{},c=0;c<this.list.length;c++)a[c+""]={position:q.a(0,24*(this.list.length-1)-24*c),size:q.size(96,24),e:q.a(0,0),color:q.j(200,200,200,200),children:{content:{label:this.list[c],fontSize:20,color:q.o(0,0,0),e:q.a(0,0.5),position:q.a(4,12)}}};return{panels:{children:{control_menu:{position:q.a(0,0),color:q.j(200,200,200,0),size:q.size(96,24),children:a}}}}},Ci:function(a){a=this.b.control_menu.Ka(a.R);for(var c=0;c<this.list.length;c++)this.b.control_menu[c+""].r(q.j(200,200,200,200)),this.ot&&!0!=
this.ot[c].enabled||q.tb(q.rect(this.b.control_menu[c+""].u.H,this.b.control_menu[c+""].u.S,this.b.control_menu[c+""].c().width,this.b.control_menu[c+""].c().height),a)&&this.b.control_menu[c+""].r(q.j(255,0,0,255))}});DropDownList.Nc=function(a,c,d,e,f,g){var h=new DropDownList;h.w(a,c,d,e,g);h.b=ya(h.qc(),!0);if(f){for(a=0;a<h.list.length;a++)!1==f[a].enabled&&h.b.control_menu[a+""].content.r(q.j(127,127,127,200));h.ot=f}h.f(h.b);h.nW();return h};Popup=Ia.extend({he:null,Tg:!1,w:function(){this.ND=this.Jc();this._super();F.Pn(this);this.nq(-300)},x3:function(){this.K()},xb:function(a){var c=a.R;F.Pn(this);c=this.b.control_panel.Ka(c);if(q.tb(q.rect(this.b.control_panel.exitBtn.u.H,this.b.control_panel.exitBtn.u.S,this.b.control_panel.exitBtn.c().width,this.b.control_panel.exitBtn.c().height),c)){var d=this;this.ea.Td(function(){!1==d.Tg&&d.Aa();d.K();d=null});return!0}return q.tb(q.rect(this.b.u.x,this.b.u.y+this.b.control_panel.u.y,this.b.control_panel.c().width,
this.b.control_panel.c().height),a.R)?(this.he=this.b.pi(a),!0):!1},Qd:function(a){return this.he?(a=a.R,this.b.l(a.x-this.he.x,a.y-this.he.y),!0):!1},$g:function(){this.he&&(this.he=null);W.xX(this.Jc(),this.b.u)},Jc:function(){q.log("No id given... using default 'Popup'");return"Popup"},ra:function(){this._super();var a=W.hT();if("null"!=a&&null!=a&&(a=JSON.parse(a)[this.Jc()])){a=q.a(a.x,a.y);if(a.x>P.width-10||a.y>P.height)a=q.a(8,100);this.b.l(a)}}});Book=null;
BookPanel=Popup.extend({name:null,content:null,mg:null,Jc:function(){return"Book"},qc:function(){return{panels:{position:q.a(100,20),children:{main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(514,313),$:"GUI/book.png",children:{pageBackbtn:{position:q.a(2,1),size:q.size(36,36),$:"GUI/btnLeft.png",e:q.a(0,0)},pageForwardbtn:{position:q.a(475,1),size:q.size(36,36),$:"GUI/btnRight.png",e:q.a(0,0)},leftPage:{label:this.mg[0],e:q.a(0,1),position:q.a(4,308),color:q.o(0,0,0)},rightPage:{label:1<this.mg.length?
this.mg[1]:"",e:q.a(0,1),position:q.a(260,308),color:q.o(0,0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,313),size:q.size(514,32),children:{header:{label:this.name,fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(490,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},w:function(a,c){this._super();this.name=a;this.content=c;this.mg=[];for(var d=c;d;)if(470>d.length){this.mg.push(d);break}else this.mg.push(d.substr(0,470)+"..."),d=d.substr(470);this.mV=Math.floor(this.mg.length/
2)-1;this.ij=0},ra:function(){this._super();this.b.main_panel.leftPage.mb(q.size(248,0));this.b.main_panel.rightPage.mb(q.size(248,0));this.b.main_panel.pageBackbtn.D(!1);2>this.mg.length&&this.b.main_panel.pageForwardbtn.D(!1)},MT:function(){this.ij++;this.b.main_panel.pageBackbtn.D(!0);this.ij==this.mV&&this.b.main_panel.pageForwardbtn.D(!1);this.b.main_panel.leftPage.pa(this.mg[2*this.ij]);this.mg[2*this.ij+1]?this.b.main_panel.rightPage.pa(this.mg[2*this.ij+1]):this.b.main_panel.rightPage.pa("")},
NT:function(){this.ij--;this.b.main_panel.pageForwardbtn.D(!0);0==this.ij&&this.b.main_panel.pageBackbtn.D(!1);this.b.main_panel.leftPage.pa(this.mg[2*this.ij]);this.mg[2*this.ij+1]&&this.b.main_panel.rightPage.pa(this.mg[2*this.ij+1])},xb:function(a){if(this._super(a))return!0;this.he=null;a=this.b.main_panel.Ka(a.R);if(H(this.b.main_panel.pageForwardbtn,a))return this.MT(),!0;if(H(this.b.main_panel.pageBackbtn,a))return this.NT(),!0}});NpcChat=null;
NpcChatPanel=Popup.extend({name:null,content:null,Mw:null,Pc:null,pI:null,RJ:null,J:null,Jc:function(){return"Book"},qc:function(){return{panels:{position:q.a(100,20),children:{main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(512,138),$:"GUI/npctalk.png",children:{chatText:{label:this.content?this.content:"",e:q.a(0,1),position:q.a(138,134),color:q.o(0,0,0)},list:{size:q.size(320,80),position:q.a(154,4),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,138),size:q.size(512,32),children:{header:{label:this.name?
this.name:"",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(488,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},yb:function(){this.J&&this.J.nc();var a=[],c=[];q.ia.g();for(var d in this.Mw){a[d]=q.F.create();a[d].P(324,32);var e=q.da.create(q.j(200,200,200,200),300,10);e.l(q.a(12,1));var f=q.T.create("\x3e"+this.Mw[d],"Arial",14);f.A(q.a(0,0));f.l(q.a(4,2));f.mb(q.size(300,0));f.r(q.o(100,0,0));a[d].f(e);e.f(f);a[d].P(324,f.c().height+8);e.P(300,f.c().height+4);e.Ua=
"Use";c.push([e])}this.J=this.b.main_panel.list;var g=this;this.J.rc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(324,c)};this.J.mc=function(){return a.length};this.J.xc=function(c){return a[c].c()};this.J.wc=function(c){return a[c]};this.J.Eb=function(a,c){switch(a){case "Use":K.$T(),T("On Talk Option Selected for event:"+g.pI+", option:"+c,g.RJ,"NPC")}};this.J.W=ListView.create(this.J);this.J.W.zc(c);this.J.f(this.J.W)},w:function(a,c,d,e,f,g){this._super();this.name=
e;this.content=f;this.Pc=c;this.pI=d;this.RJ=a;g&&(this.Mw=g)},ra:function(){this._super();this.b.main_panel.chatText.mb(q.size(350,0));this.Mw&&this.yb()},xb:function(a){if(this._super(a))return!0}});Equipment=null;
EquipmentPanel=Popup.extend({Jc:function(){return"Equipment"},qc:function(){var a={};a.head={$:"GUI/defaultitem.png",position:q.a(88,162),size:q.size(32,32),e:q.a(0,1)};a.legs={$:"GUI/defaultitem.png",position:q.a(88,82),size:q.size(32,32),e:q.a(0,1)};a.feet={$:"GUI/defaultitem.png",position:q.a(88,40),size:q.size(32,32),e:q.a(0,1)};a.body={$:"GUI/defaultitem.png",position:q.a(88,122),size:q.size(32,32),e:q.a(0,1)};a.lArm={$:"GUI/defaultitem.png",position:q.a(48,122),size:q.size(32,32),e:q.a(0,1)};
a.rArm={$:"GUI/defaultitem.png",position:q.a(128,122),size:q.size(32,32),e:q.a(0,1)};a.mod={$:"GUI/defaultitem.png",position:q.a(8,162),size:q.size(32,32),e:q.a(0,1)};return{panels:{position:q.a(100,300),children:{main_panel:{e:q.a(0,0),size:q.size(168,168),$:"GUI/equipment.png",children:a},control_panel:{e:q.a(0,0),position:q.a(0,168),size:q.size(168,32),children:{header:{label:G["Equipment Header"],fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(144,6),size:q.size(20,20),e:q.a(0,
0),$:"GUI/close.png"}}},item_name:{position:q.a(0,0),color:q.j(200,200,200,200),size:q.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:q.o(0,0,0),e:q.a(0.5,0.5),position:q.a(32,8)}}}}}}},jb:function(){var a=R.t.Q.Yw();this.b.main_panel.head.ka(q.ia.g().ma("GUI/defaultitem.png"));this.b.main_panel.body.ka(q.ia.g().ma("GUI/defaultitem.png"));this.b.main_panel.legs.ka(q.ia.g().ma("GUI/defaultitem.png"));this.b.main_panel.feet.ka(q.ia.g().ma("GUI/defaultitem.png"));this.b.main_panel.lArm.ka(q.ia.g().ma("GUI/defaultitem.png"));
this.b.main_panel.rArm.ka(q.ia.g().ma("GUI/defaultitem.png"));this.b.main_panel.mod.ka(q.ia.g().ma("GUI/defaultitem.png"));for(var c in a)if(a[c]){var d=ObjectLists.lc()[a[c].number],e;for(e in v)if(v[e].name==d.sprite.texture)var f=v[e].texture;this.b.main_panel[c]&&(this.b.main_panel[c].A(0,1),this.b.main_panel[c].ka(f),this.b.main_panel[c].gb(q.rect(32*d.sprite.position.x,32*d.sprite.position.y,32,32)))}},px:function(a){switch(a){case 0:R.t.Q.qS(this.k.rd);break;case 1:R.t.Q.vC(this.k.rd,"equipped")}},
xb:function(a){if(this._super(a))return!0;this.he=null;var c=this.b.main_panel.Ka(a.R),d=R.t.Q.Yw(),e;for(e in d)if(d[e]){var f=ObjectLists.lc()[d[e].number];if(H(this.b.main_panel[e],q.a(c.x,c.y+32)))return this.rd=e,this.b.item_name.D(!1),c=G["Item Dropdown Unequip"]+"",c=c.replace("\x3cITEM\x3e",f.name),d=G["Item Dropdown Drop"]+"",d=d.replace("\x3cITEM\x3e",f.name),this.f(DropDownList.Nc(this,this.px,[c,d],a.R)),!0}},Ci:function(a){a=this.b.main_panel.Ka(a.R);this.b.item_name.D(!1);var c=R.t.Q.Yw(),
d;for(d in c)if(c[d]){var e=ObjectLists.lc()[c[d].number];if(H(this.b.main_panel[d],q.a(a.x,a.y+32)))return this.b.item_name.content.pa(e.name),this.b.item_name.D(!0),this.b.item_name.P(this.b.item_name.content.c()),this.b.item_name.content.Ra(this.b.item_name.content.c().width/2),this.b.item_name.l(q.a(this.b.main_panel[d].u.H-this.b.item_name.content.c().width/2+16,this.b.main_panel[d].u.S)),!0}},Ll:function(){this.b.main_panel.head.ja()&&(this.Sc(this.Ll),this.jb())},ra:function(){this._super();
this.b.main_panel.head.ja()?this.jb():this.gc(this.Ll)}});Inventory=null;
InventoryPanel=Popup.extend({rd:null,lx:!1,Jc:function(){return"Inventory"},qc:function(){for(var a={},c=0;5>c;c++)for(var d=0;8>d;d++)a[5*d+c+""]={size:q.size(32,32),position:q.a(40*c+8,40*(7-d)+40),$:"GUI/defaultitem.png",e:q.a(0,1),children:{stacklabelbg:{position:q.a(1,1),size:q.size(10,6),e:q.a(0,0),color:q.j(255,255,255,200),children:{stacklabel:{label:"",fontSize:10,color:q.o(0,0,0),e:q.a(0,0),position:q.a(0,0)}}}}};return{panels:{position:q.a(300,200),children:{main_panel:{e:q.a(0,0),$:"GUI/inventory.png",
size:q.size(208,328),children:a},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(208,32),children:{header:{label:G["Inventory Header"],fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(184,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}},item_name:{position:q.a(0,0),color:q.j(200,200,200,200),size:q.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:q.o(0,0,0),e:q.a(0.5,0.5),position:q.a(32,8)}}}}}}},zk:function(a,c){this.b.main_panel[a+""].stacklabelbg.D(!1);
1<c&&(this.b.main_panel[a+""].stacklabelbg.D(!0),this.b.main_panel[a+""].stacklabelbg.stacklabel.pa(c),this.b.main_panel[a+""].stacklabelbg.P(this.b.main_panel[a+""].stacklabelbg.stacklabel.c()))},jb:function(){for(var a=R.t.Q.Qg(),c=0;40>c;c++)if(a[c]){var d=ObjectLists.lc()[a[c].number],e;for(e in v)if(v[e].name==d.sprite.texture)var f=v[e].texture;this.b.main_panel[c+""].A(0,1);this.b.main_panel[c+""].ka(f);this.b.main_panel[c+""].gb(q.rect(32*d.sprite.position.x,32*d.sprite.position.y,32,32));
this.zk(c,a[c].amount)}else this.b.main_panel[c+""].ka(q.ia.g().ma("GUI/defaultitem.png")),this.zk(c,0)},Ll:function(){this.b.main_panel[ra+""].ja()&&(this.Sc(this.Ll),this.jb())},ra:function(){this._super();this.b.main_panel[ra+""].ja()?this.jb():this.gc(this.Ll)},px:function(a){switch(a){case 0:!0==this.k.lx?R.t.Q.EY(this.k.rd):R.t.Q.vC(this.k.rd,"stored");break;case 1:R.t.Q.vC(this.k.rd,"stored")}this.k.lx=!1},xb:function(a){if(this._super(a))return!0;this.he=null;for(var c=this.b.main_panel.Ka(a.R),
d=0;40>d;d++)if(R.t.Q.Qg()[d]&&H(this.b.main_panel[d+""],q.a(c.x,c.y+32))){var e=ObjectLists.lc()[R.t.Q.Qg()[d].number],f=[];e.script&&ObjectLists.Ie()[e.script]&&(f=ObjectLists.Ie()[e.script].data);if(f){for(c=0;c<f.length;c++)if("Default Event"==f[c].type)for(var g="Use Item",h=f[c].responses,k=0;k<h.length;k++)switch(console.log(h[k].type),h[k].type){case "Equip Item":g=G["Item Dropdown Equip"]+"";break;case "Read Item":g=G["Item Dropdown Read"]+""}f=G["Item Dropdown Drop"]+"";f=f.replace("\x3cITEM\x3e",
e.name);g?(this.lx=!0,g=g.replace("\x3cITEM\x3e",e.name),this.f(DropDownList.Nc(this,this.px,[g,f],a.R))):this.f(DropDownList.Nc(this,this.px,[f],a.R));this.rd=d;this.b.item_name.D(!1);return!0}}},Ci:function(a){a=this.b.main_panel.Ka(a.R);for(var c=0;40>c;c++)if(R.t.Q.Qg()[c]&&H(this.b.main_panel[c+""],q.a(a.x,a.y+32)))return this.b.item_name.content.pa(ObjectLists.lc()[R.t.Q.Qg()[c].number].name),this.b.item_name.D(!0),this.b.item_name.P(this.b.item_name.content.c()),this.b.item_name.content.Ra(this.b.item_name.content.c().width/
2),this.b.item_name.l(q.a(this.b.main_panel[c+""].u.H-this.b.item_name.content.c().width/2+16,this.b.main_panel[c+""].u.S)),!0}});Bank=null;
BankPanel=Popup.extend({rd:null,lx:!1,Jc:function(){return"Bank"},qc:function(){for(var a={},c={},d=0;5>d;d++)for(var e=0;8>e;e++)a[5*e+d+""]={size:q.size(32,32),position:q.a(40*d+8,40*(7-e)+40),$:"GUI/defaultitem.png",e:q.a(0,1),children:{stacklabelbg:{position:q.a(1,1),size:q.size(10,6),e:q.a(0,0),color:q.j(255,255,255,200),children:{stacklabel:{label:"",fontSize:10,color:q.o(0,0,0),e:q.a(0,0),position:q.a(0,0)}}}}};for(d=0;9>d;d++)for(e=0;8>e;e++)c[9*e+d+""]={size:q.size(32,32),position:q.a(220+(40*
d+8),40*(7-e)+40),$:"GUI/defaultitem.png",e:q.a(0,1),children:{stacklabelbg:{position:q.a(1,1),size:q.size(10,6),e:q.a(0,0),color:q.j(255,255,255,200),children:{stacklabel:{label:"",fontSize:10,color:q.o(0,0,0),e:q.a(0,0),position:q.a(0,0)}}}}};return{panels:{position:q.a(300,200),children:{main_panel:{e:q.a(0,0),$:"GUI/bank.png",size:q.size(590,348),children:{inventory:{children:a},inventory_label:{label:"Inventory",color:q.o(255,255,255),position:q.a(8,324),fontSize:16,e:q.a(0,0)},bank:{children:c},
bank_label:{label:"Stored",color:q.o(255,255,255),position:q.a(228,324),fontSize:16,e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,348),size:q.size(590,32),children:{header:{label:G["Bank Header"],fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(566,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}},item_name:{position:q.a(0,0),color:q.j(200,200,200,200),size:q.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:q.o(0,0,0),e:q.a(0.5,0.5),position:q.a(32,
8)}}}}}}},SK:function(a,c){this.b.main_panel.inventory[a+""].stacklabelbg.D(!1);1<c&&(this.b.main_panel.inventory[a+""].stacklabelbg.D(!0),this.b.main_panel.inventory[a+""].stacklabelbg.stacklabel.pa(c),this.b.main_panel.inventory[a+""].stacklabelbg.P(this.b.main_panel.inventory[a+""].stacklabelbg.stacklabel.c()))},DK:function(a,c){this.b.main_panel.bank[a+""].stacklabelbg.D(!1);1<c&&(this.b.main_panel.bank[a+""].stacklabelbg.D(!0),this.b.main_panel.bank[a+""].stacklabelbg.stacklabel.pa(c),this.b.main_panel.bank[a+
""].stacklabelbg.P(this.b.main_panel.inventory[a+""].stacklabelbg.stacklabel.c()))},jb:function(){for(var a=R.t.Q.Qg(),c=R.t.Q.Np(),d=0;40>d;d++)if(a[d]){var e=ObjectLists.lc()[a[d].number],f;for(f in v)if(v[f].name==e.sprite.texture)var g=v[f].texture;this.b.main_panel.inventory[d+""].A(0,1);this.b.main_panel.inventory[d+""].ka(g);this.b.main_panel.inventory[d+""].gb(q.rect(32*e.sprite.position.x,32*e.sprite.position.y,32,32));this.SK(d,a[d].amount)}else this.b.main_panel.inventory[d+""].ka(q.ia.g().ma("GUI/defaultitem.png")),
this.SK(d,0);for(d=0;72>d;d++)if(c[d]){e=ObjectLists.lc()[c[d].number];for(f in v)v[f].name==e.sprite.texture&&(g=v[f].texture);this.b.main_panel.bank[d+""].A(0,1);this.b.main_panel.bank[d+""].ka(g);this.b.main_panel.bank[d+""].gb(q.rect(32*e.sprite.position.x,32*e.sprite.position.y,32,32));this.DK(d,c[d].amount)}else this.b.main_panel.bank[d+""].ka(q.ia.g().ma("GUI/defaultitem.png")),this.DK(d,0)},Ll:function(){this.b.main_panel.inventory[ra+""].ja()&&(this.Sc(this.Ll),this.jb())},ra:function(){this._super();
this.b.main_panel.inventory[ra+""].ja()?this.jb():this.gc(this.Ll)},JY:function(a){0==a&&(a=R.t.Q.Np()[this.k.rd],R.t.Q.jR({number:a.number,amount:a.amount}),R.t.Q.Np().splice(this.k.rd,1),Inventory&&Inventory.jb(),Equipment&&Equipment.jb(),this.k.jb());this.k.rd=null},pS:function(a){0==a&&(a=R.t.Q.Qg()[this.k.rd],R.t.Q.iR({number:a.number,amount:a.amount}),R.t.Q.Qg().splice(this.k.rd,1),Inventory&&Inventory.jb(),Equipment&&Equipment.jb(),this.k.jb());this.k.rd=null},xb:function(a){if(this._super(a))return!0;
this.he=null;for(var c=this.b.main_panel.inventory.Ka(a.R),d=!1,e=!1,f=0;40>f;f++)if(!R.t.Q.Qg()[f]){d=!0;break}for(f=0;72>f;f++)if(!R.t.Q.Np()[f]){e=!0;break}for(f=0;40>f;f++)if(R.t.Q.Qg()[f]){var g=32;if(H(this.b.main_panel.inventory[f+""],q.a(c.x,c.y+g)))return this.f(DropDownList.Nc(this,this.pS,["Deposit","Cancel"],a.R,[{enabled:d},{enabled:!0}])),this.rd=f,this.b.item_name.D(!1),!0}for(f=0;72>f;f++)if(R.t.Q.Np()[f]&&(g=32,H(this.b.main_panel.bank[f+""],q.a(c.x,c.y+g))))return this.f(DropDownList.Nc(this,
this.JY,["Withdraw","Cancel"],a.R,[{enabled:e},{enabled:!0}])),this.rd=f,this.b.item_name.D(!1),!0},Ci:function(a){a=this.b.main_panel.inventory.Ka(a.R);for(var c=0;40>c;c++)if(R.t.Q.Qg()[c]&&H(this.b.main_panel.inventory[c+""],q.a(a.x,a.y+32)))return this.b.item_name.content.pa(ObjectLists.lc()[R.t.Q.Qg()[c].number].name),this.b.item_name.D(!0),this.b.item_name.P(this.b.item_name.content.c()),this.b.item_name.content.Ra(this.b.item_name.content.c().width/2),this.b.item_name.l(q.a(this.b.main_panel.inventory[c+
""].u.H-this.b.item_name.content.c().width/2+16,this.b.main_panel.inventory[c+""].u.S)),!0}});Sign=null;
SignPanel=Popup.extend({title:null,content:null,Jc:function(){return"Sign"},qc:function(){return{panels:{position:q.a(100,300),children:{control_panel:{e:q.a(0,0),size:q.size(128,96),$:"GUI/signpost.png",children:{content:{label:this.content,fontSize:12,color:q.o(255,255,255),e:q.a(0,1),position:q.a(4,94)},exitBtn:{position:q.a(100,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},w:function(a,c){this._super();this.content=c},ra:function(){this._super();this.b.control_panel.content.mb(q.size(120,0))}});Quests=null;
QuestsPanel=Popup.extend({J:null,gh:null,QD:null,Jc:function(){return"Quests"},yb:function(){this.J&&this.J.nc();for(var a=[],c=[],d=q.ia.g(),e=0;e<this.data.length;e++)if(!(null==R.t.Q.qk(e)||"undefined"===R.t.Q.qk(e)&&1>R.t.Q.qk(e))){a[e]=q.da.create(q.j(0,0,0,0),420,32);var f=q.da.create(q.j(0,0,0,127),212,1);f.l(q.a(4,0));var g=q.T.create(this.data[e].name,"Arial",15);g.r(q.o(0,0,0));g.A(q.a(0,0));g.l(q.a(4,4));g.mb(q.size(216,0));a[e].P(216,g.c().height+8);if(null!=this.QD&&this.QD==e){a[e]=
q.da.create(q.j(100,0,0,255),216,g.c().height+8);var h=q.v.Ma(d.ma("GUI/selected.png"));h.l(q.a(192,(g.c().height+8-20)/2));h.A(q.a(0,0));a[e].f(h);g.r(q.o(255,255,255))}a[e].f(f);a[e].f(g);a[e].Ua="Use";c.push([a[e]])}1>a.length&&(a[0]=q.da.create(q.j(0,0,0,0),420,32),f=q.da.create(q.j(0,0,0,127),212,1),f.l(q.a(4,0)),g=q.T.create("THERES NO QUESTS!","Arial",15),g.r(q.o(0,0,0)),g.A(q.a(0,0)),g.l(q.a(4,4)),g.mb(q.size(216,0)),a[0].P(216,g.c().height+8),a[0].f(g),c.push([]));this.J=this.b.main_panel.list;
var k=this;this.J.rc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(216,c)};this.J.mc=function(){return a.length};this.J.xc=function(c){return a[c].c()};this.J.wc=function(c){return a[c]};this.J.Eb=function(a,c){"Use"==a&&(k.QD=c,k.FV(c),k.yb())};this.J.W=ListView.create(this.J);this.J.W.zc(c);this.J.f(this.J.W)},FV:function(a){this.gh&&this.gh.nc();var c=this.data[a].objectiveList,d=[],e=[];q.ia.g();if(0<R.t.Q.qk(a))for(var f=0;f<c.length;f++)if(!(R.t.Q.qk(a)<f)){if(0==
f)d[f]=q.da.create(q.j(0,0,0,0),1,1);else if(f==c.length)d[f]=q.da.create(q.j(0,0,0,0),1,1);else{d[f]=q.da.create(q.j(0,0,0,0),208,32);var g=q.da.create(q.j(0,0,0,127),208,1);g.l(q.a(4,0));var h=q.T.create(c[f],"Arial",15);h.r(q.o(0,0,0));h.A(q.a(0,0));h.l(q.a(4,4));h.mb(q.size(208,0));d[f].P(208,h.c().height+8);R.t.Q.qk(a)>f&&h.ta(200);d[f].f(g);d[f].f(h)}e.push([])}this.gh=this.b.main_panel.sublist;this.gh.rc=function(){for(var a=0,c=0;c<d.length;c++)a+=d[c].c().height;return q.size(212,a)};this.gh.mc=
function(){return d.length};this.gh.xc=function(a){return d[a].c()};this.gh.wc=function(a){return d[a]};this.gh.Eb=function(){};this.gh.W=ListView.create(this.gh);this.gh.W.zc(e);this.gh.f(this.gh.W)},qc:function(){return{panels:{position:q.a(300,200),children:{background_image:{$:"GUI/quest_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(512,328),children:{list:{size:q.size(216,328),color:q.j(0,200,200,0),position:q.a(0,0),e:q.a(0,0)},sublist:{size:q.size(212,328),color:q.j(0,200,200,0),
position:q.a(258,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Quest Log",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(484,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},jb:function(){},ra:function(){this._super();this.jb();this.data=ObjectLists.Up();this.yb()}});Skills=null;
SkillsPanel=Popup.extend({J:null,Jc:function(){return"Skills"},yb:function(){this.J&&this.J.nc();var a=[],c=[];q.ia.g();var d=0,e=0,f;for(f in this.data){e+=this.data[f].level+1;a[d]=q.F.create();a[d].P(420,32);var g=q.da.create(q.j(0,0,0,127),316,1);g.l(q.a(4,0));var h=q.T.create("Lvl "+(this.data[f].level+1+this.data[f].modifier)+"/"+(this.data[f].level+1),"Arial",15);h.r(q.o(0,0,0));h.A(q.a(0,0));h.l(q.a(4,4));var k=q.T.create(f,"Arial",15);k.r(q.o(0,0,0));k.A(q.a(0.5,0));k.l(q.a(h.c().width+65,
4));var l=q.da.create(q.j(255,255,255,255),144,k.c().height),m=q.da.create(q.j(100,120,200,255),this.data[f].experience/this.data[f].requirement*144,k.c().height);l.f(m);m.A(q.a(0,0));m=q.T.create(this.data[f].experience+"/"+this.data[f].requirement,"Arial",14);m.A(q.a(0,0));m.r(q.o(0,0,0));l.f(m);m.Ac(1);l.A(q.a(0,0));l.l(q.a(172,4));c.push([]);a[d].f(g);a[d].f(k);a[d].f(h);a[d].f(l);a[d].P(324,k.c().height+8);d++}this.J=this.b.main_panel.list;this.J.rc=function(){for(var c=0,d=0;d<a.length;d++)c+=
a[d].c().height;return q.size(324,c)};this.J.mc=function(){return a.length};this.J.xc=function(c){return a[c].c()};this.J.wc=function(c){return a[c]};this.J.Eb=function(){};this.J.W=ListView.create(this.J);this.J.W.zc(c);this.J.f(this.J.W);this.b.main_panel.character_level.pa("LEVEL: "+e);this.b.main_panel.character_level.Ra(306);this.b.main_panel.character_level.A(q.a(1,0))},qc:function(){return{panels:{position:q.a(300,200),children:{background_image:{$:"GUI/list_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,
0),size:q.size(365,328),children:{character_level:{label:"",position:q.a(2,310),e:q.a(0,0),color:q.o(0,0,0)},list:{size:q.size(324,308),color:q.j(0,200,200,200),position:q.a(0,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Skills",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},jb:function(){},ra:function(){this._super();this.jb();this.data=U.tT();this.yb()}});
var U=q.Tc.extend({Iw:[],Rc:null,qq:function(){var a=ObjectLists.rk(),c;for(c in this.Iw)this.Iw[c].K();this.Iw=[];var d=0;for(c=a.length-1;0<=c;c--)if(null!=a[c].healthbar&&""!=a[c].healthbar){var e=this.$R(a[c].name,a[c].healthbar,d);this.f(e);this.Iw.push(e);d++}this.l(q.a(0,P.height-32*d))},$R:function(a,c,d){var e=255;c=c.replace("#","");8==c.length&&(e=c.substr(6,8));e=q.da.create(q.j(parseInt(c.substring(0,2),16),parseInt(c.substring(2,4),16),parseInt(c.substring(4,6),16),parseInt(e,16)),0<
this.Rc[a].currenthealth?this.Rc[a].currenthealth/this.Rc[a].maxhealth*300:1,23);e.fC=q.v.Ma(q.ia.g().ma("GUI/healthbar.png"));e.l(10,32*d- -5*d-10);e.A(q.a(0,0));e.fC.l(-5,-4);e.fC.A(q.a(0,0));e.f(e.fC);a=q.T.create(a,"Arial",16);a.l(10,11.5);a.A(q.a(0,0.5));e.f(a);return e}});SkillBarsInstance=null;U.create=function(a){null==SkillBarsInstance&&(SkillBarsInstance=new U,SkillBarsInstance.Rc=a,SkillBarsInstance.qq());return SkillBarsInstance};
U.OU=function(a,c){SkillBarsInstance.Rc[a].currenthealth+=c;0>SkillBarsInstance.Rc[a].currenthealth&&(SkillBarsInstance.Rc[a].currenthealth=0);SkillBarsInstance.Rc[a].currenthealth>SkillBarsInstance.Rc[a].maxhealth&&(SkillBarsInstance.Rc[a].currenthealth=SkillBarsInstance.Rc[a].maxhealth);SkillBarsInstance.qq();Skills&&Skills.yb()};U.QU=function(a,c){SkillBarsInstance.Rc[a].experience+=c;0>SkillBarsInstance.Rc[a].experience&&(SkillBarsInstance.Rc[a].experience=0);SkillBarsInstance.qq();Skills&&Skills.yb()};
U.PU=function(a,c){SkillBarsInstance.Rc[a].modifier+=c;0>SkillBarsInstance.Rc[a].modifier&&(SkillBarsInstance.Rc[a].modifier=0);SkillBarsInstance.qq();Skills&&Skills.yb()};U.tT=function(){return SkillBarsInstance.Rc};U.update=function(){SkillBarsInstance.qq()};Scripteditor=null;
ScriptEditor=Popup.extend({data:null,J:null,cb:null,sj:null,of:null,pf:null,W2:null,k:null,qb:null,lca:null,Z2:null,la:null,i:null,Un:null,vj:function(a){z({savescripts:a+"",scriptsdata:this.data})},jj:function(a,c){z({savescriptswhole:c})},Jc:function(){return"Scripts"},Aa:function(a){this._super();if(this.k){var c=this.k;!0!=a&&this.k.Td(function(){c.Pd(null)})}},w:function(a){this._super();this.data={data:[],name:null};this.qb=null;a.data&&(this.data=a.data);a.OD&&(this.data.specifier=a.OD);this.k=
a.k},ra:function(){this._super();this.qb=new $(this.b.main_panel.nameEntry,q.size(this.b.main_panel.nameEntry.c().width,this.b.main_panel.nameEntry.c().height),q.a(0,this.b.main_panel.nameEntry.c().height),this.data.name,q.j(255,255,255),q.o(0,0,0));this.qb.lb(!0);this.b.main_panel.abbrEntry&&(this.Gw=new $(this.b.main_panel.abbrEntry,q.size(this.b.main_panel.abbrEntry.c().width,this.b.main_panel.abbrEntry.c().height),q.a(0,this.b.main_panel.abbrEntry.c().height),this.data.abbr,q.j(255,255,255),q.o(0,
0,0)),this.Gw.lb(!0));this.yb()},yb:function(){this.J&&this.J.nc();for(var a in this.of)this.of[a].nc(),this.of[a].K();for(a in this.pf)this.pf[a].nc(),this.pf[a].K();var c=[],d=[],e=[],f=[],g=[],h=[],k=q.ia.g();this.of=[];this.pf=[];for(a=0;a<this.data.data.length;a++){g[a]=[];h[a]=[];d[a]=[];e[a]=[];c[a]=q.F.create();c[a].P(758,100);var l=q.da.create(q.j(0,0,0,127),750,1);l.l(q.a(4,0));var m=q.da.create(q.j(0,0,0,127),1,92);m.l(q.a(152,4));var p=q.da.create(q.j(0,0,0,127),1,92);p.l(q.a(451,4));
var s=this.data.data[a].type;"On Talk Close"==s&&(s+=" ("+this.data.data[a].data.attachedEvent+":"+this.data.data[this.data.data[a].data.attachedEvent].type+")");s=q.T.create(a+": "+s,"Arial",15);s.r(q.o(0,0,0));s.A(q.a(0,1));s.l(q.a(4,96));s.mb(q.size(100,0));var u=q.da.create(q.j(0,255,0,60),259,100);u.P(q.size(259,100));u.Ra(451);u.A(q.a(0,0));c[a].f(u);var w=q.da.create(q.j(0,255,0,60),259,100);w.P(q.size(259,100));w.Ra(152);w.A(q.a(0,0));c[a].f(w);var x=q.v.Ma(k.ma("GUI/trash.png"));x.l(q.a(120,
4));x.A(q.a(0,0));x.Ua="Delete";c[a].f(x);var E=q.v.Ma(k.ma("GUI/edit.png"));E.l(q.a(96,4));E.A(q.a(0,0));E.Ua="Edit";c[a].f(E);f.push([x,E]);for(x=0;x<this.data.data[a].responses.length;x++){d[a].push(q.F.create());d[a][x].P(259,32);var E=!0,I=q.T.create(x+1+": "+this.data.data[a].responses[x].type,"Arial",15);I.r(q.o(0,0,0));I.A(q.a(0,0));I.l(q.a(4,4));I.mb(q.size(180,0));d[a][x].P(259,I.c().height+8);d[a][x].f(I);I=q.v.Ma(k.ma("GUI/trash.png"));I.l(q.a(229,0));I.A(q.a(0,0));I.Ua="Delete";d[a][x].f(I);
switch(this.data.data[a].responses[x].type){case "Destroy":case "Attack":case "Run Away":E=!1}E?(E=q.v.Ma(k.ma("GUI/edit.png")),E.l(q.a(205,0)),E.A(q.a(0,0)),E.Ua="Edit",d[a][x].f(E),g[a].push([I,E])):g[a].push([I])}x=q.da.create(q.j(70,200,70,255),90,26);E=q.T.create("+","Arial",20);E.l(45,13);E.A(q.a(0.5,0.5));x.l(q.a(84.5,0));x.Ua="Add";x.f(E);g[a].push([x]);d[a].push(x);this.pf[a]=w;this.pf[a].identifier=a;var D=this;this.pf[a].rc=function(){for(var a=0,c=0;c<d[this.identifier].length;c++)a+=
d[this.identifier][c].c().height;return q.size(259,a)};this.pf[a].mc=function(){return d[this.identifier].length};this.pf[a].xc=function(a){return d[this.identifier][a].c()};this.pf[a].wc=function(a){return d[this.identifier][a]};this.pf[a].Eb=function(a,c,d){D.Ka(d.R);if(null==D.i)switch(a){case "Delete":D.ea.f(DropDownList.Nc(D,D.kS,["Cancel","Delete"],d.R));D.cb=c;D.sj=this.identifier;break;case "Edit":D.nI(this.identifier,"responses",c);break;case "Add":a="Talk;Destroy;Give/ Take Item;Set Quest Point;Warp Player;Wait;Repeat Responses;Open/Close Panel;Modify Player Stats;Script Response".split(";");
c=[{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0}];for(var e=0;e<D.data.data[this.identifier].responses.length;e++)"Repeat Responses"==D.data.data[this.identifier].responses[e].type&&(c[7].enabled=!1);switch(D.data.specifier){case "NPC":a.push("Attack","Run Away","Defend","Modify NPC Stats");c.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0});break;case "Item":a.push("Equip Item","Read Item");c.push({enabled:!0},
{enabled:!0});break;case "Tile":a.push("Block Entry","Add Layer Graphic","Show Sign","Spawn NPC","Spawn Item"),c.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0})}D.ea.f(DropDownList.Nc(D,D.fR,a,d.R,c));D.sj=this.identifier;break;case "Use":D.k.Sn(c,D.fb[c])}};this.pf[a].W=ListView.create(this.pf[a]);this.pf[a].W.zc(g[a]);this.pf[a].f(this.pf[a].W);for(x=0;x<this.data.data[a].requirements.length;x++)e[a].push(q.F.create()),e[a][x].P(259,32),w=q.T.create(x+1+": "+this.data.data[a].requirements[x].type,
"Arial",15),w.r(q.o(0,0,0)),w.A(q.a(0,0)),w.l(q.a(4,4)),w.mb(q.size(180,0)),e[a][x].P(259,w.c().height+8),e[a][x].f(w),I=q.v.Ma(k.ma("GUI/trash.png")),I.l(q.a(229,0)),I.A(q.a(0,0)),I.Ua="Delete",e[a][x].f(I),E=q.v.Ma(k.ma("GUI/edit.png")),E.l(q.a(205,0)),E.A(q.a(0,0)),E.Ua="Edit",e[a][x].f(E),h[a].push([I,E]);w=q.da.create(q.j(70,200,70,255),90,26);x=q.T.create("+","Arial",20);x.l(45,13);x.A(q.a(0.5,0.5));w.l(q.a(84.5,0));w.Ua="Add";w.f(x);h[a].push([w]);e[a].push(w);this.of[a]=u;this.of[a].identifier=
a;D=this;this.of[a].rc=function(){for(var a=0,c=0;c<e[this.identifier].length;c++)a+=e[this.identifier][c].c().height;return q.size(259,a)};this.of[a].mc=function(){return e[this.identifier].length};this.of[a].xc=function(a){return e[this.identifier][a].c()};this.of[a].wc=function(a){return e[this.identifier][a]};this.of[a].Eb=function(a,c,d){D.Ka(d.R);if(null==D.i)switch(a){case "Delete":D.ea.f(DropDownList.Nc(D,D.jS,["Cancel","Delete"],d.R));D.cb=c;D.sj=this.identifier;break;case "Edit":D.nI(this.identifier,
"requirements",c);break;case "Add":a="Has Player Item;Is Player Statistics;Is Quest Point;Is Panel Visibility;Is Player Inventory Space;Script Requirement".split(";");switch(D.data.specifier){case "Tile":a.push("Is Event Fired By");break;case "NPC":a.push("Is NPC Statistics","Is NPC Actioning")}D.ea.f(DropDownList.Nc(D,D.eR,a,d.R));D.sj=this.identifier;break;case "Use":D.k.Sn(c,D.fb[c])}};this.of[a].W=ListView.create(this.of[a]);this.of[a].W.zc(h[a]);this.of[a].f(this.of[a].W);c[a].f(s);c[a].f(l);
c[a].f(m);c[a].f(p)}a=q.da.create(q.j(70,200,70,255),90,26);g=q.T.create("+","Arial",20);g.l(45,13);g.A(q.a(0.5,0.5));a.l(q.a(334,0));a.Ua="Add";a.f(g);f.push([a]);c.push(a);this.J=this.b.main_panel.list;D=this;this.J.rc=function(){for(var a=0,d=0;d<c.length;d++)a+=c[d].c().height;return q.size(758,a)};this.J.mc=function(){return c.length};this.J.xc=function(a){return c[a].c()};this.J.wc=function(a){return c[a]};this.J.Eb=function(a,c,d){D.Ka(d.R);if(null==D.i)switch(a){case "Delete":var e="Delete";
D.ST(c)&&(e="Delete (Will destroy all child events)");D.ea.f(DropDownList.Nc(D,D.iS,["Cancel",e],d.R));D.cb=c;break;case "Add":a=["Default Interaction","On Examine","On Talk Close","On Talk Option Selected","On Game Load"];var f=[{enabled:!0},{enabled:!1},{enabled:!1},{enabled:!1},{enabled:!0}];for(e in D.data.data)if(D.data.data[e])for(var g=0;g<D.data.data[e].responses.length;g++)if("Talk"==D.data.data[e].responses[g].type){f[2].enabled=!0;break}0==D.data.data.length&&(f[1].enabled=!1);D.IS()&&
(f[3].enabled=!0);switch(D.data.specifier){case "Item":a.push("On Pickup","On Drop","On Dequip","On Trade");f.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0});break;case "Tile":a.push("Interact On","Interact Facing","Will Enter","On Enter","Will Leave","On Leave","On Come Near"),f.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0}),f[0].enabled=!1}D.ea.f(DropDownList.Nc(D,D.XQ,a,d.R,f));D.cb=c;break;case "Use":D.k.Sn(c,D.fb[c])}};this.J.W=ListView.create(this.J);
this.J.W.zc(f);this.J.f(this.J.W)},eI:function(a){for(var c=0;c<this.data.data.length;c++)"On Talk Close"==this.data.data[c].type&&this.data.data[c].data.attachedEvent==a&&(this.eI(c),this.data.data.splice(c,1))},ST:function(a){for(var c=0;c<this.data.data.length;c++)if("On Talk Close"==this.data.data[c].type&&this.data.data[c].data.attachedEvent==a)return!0;return!1},IS:function(){for(var a=0;a<this.data.data.length;a++)for(var c=0;c<this.data.data[a].responses.length;c++)if("Talk"==this.data.data[a].responses[c].type)return!0;
return!1},iS:function(a){switch(a){case 1:null!=this.k.cb&&(this.k.eI(this.k.cb),this.k.data.data.splice(this.k.cb,1),this.k.yb(),this.k.cb=null)}},kS:function(a){switch(a){case 1:null!=this.k.cb&&(this.k.data.data[this.k.sj].responses.splice(this.k.cb,1),this.k.yb(),this.k.cb=null,this.k.sj=null)}},jS:function(a){switch(a){case 1:null!=this.k.cb&&(this.k.data.data[this.k.sj].requirements.splice(this.k.cb,1),this.k.yb(),this.k.cb=null,this.k.sj=null)}},gR:function(a){this.k.data.data.push({type:"On Talk Close",
responses:[],requirements:[],data:{attachedEvent:a}});this.k.yb()},hR:function(a,c){this.k.vE=a;for(var d=[],e=0;e<this.k.data.data[a].responses.length;e++)if("Talk"==this.k.data.data[a].responses[e].type)for(var f in this.k.data.data[a].responses[e].data.options)d.push(f+": "+this.k.data.data[a].responses[e].data.options[f]);this.ea.f(DropDownList.Nc(this.k,this.k.LR,d,c.R))},LR:function(a){this.k.data.data.push({type:"On Talk Option Selected for event:"+this.k.vE+", option:"+a,responses:[],requirements:[],
data:{attachedEvent:this.k.vE,attachedOption:a}});this.k.yb();this.k.vE=null},XQ:function(a,c){var d="";switch(a){case 0:d="Default Event";break;case 1:d="On Examine";break;case 2:var d=[],e;for(e in this.k.data.data)if(this.k.data.data[e])for(var f=0;f<this.k.data.data[e].responses.length;f++)"Talk"==this.k.data.data[e].responses[f].type&&d.push(e+": "+this.k.data.data[e].type);this.ea.f(DropDownList.Nc(this.k,this.k.gR,d,c.R));return;case 3:d=[];for(e in this.k.data.data)if(this.k.data.data[e])for(f=
0;f<this.k.data.data[e].responses.length;f++)"Talk"==this.k.data.data[e].responses[f].type&&this.k.data.data[e].responses[f].data.options&&0<this.k.data.data[e].responses[f].data.options.length&&d.push(e+": "+this.k.data.data[e].type);this.ea.f(DropDownList.Nc(this.k,this.k.hR,d,c.R));return;case 4:d="On Game load"}if(""==d)switch(this.k.data.specifier){case "Item":switch(a){case 5:d="On Pickup";break;case 6:d="On Drop";break;case 7:d="On Dequip";break;case 8:d="On Trade"}break;case "Tile":switch(a){case 5:d=
"Interact On";break;case 6:d="Interact Facing";break;case 7:d="Will Enter";break;case 8:d="On Enter";break;case 9:d="Will Leave";break;case 10:d="On Leave";break;case 11:d="On Come Near"}}this.k.data.data.push({type:d,responses:[],requirements:[],data:{}});this.k.yb()},fR:function(a){var c="";switch(a){case 0:c="Talk";break;case 1:c="Destroy";break;case 2:c="Give /Take Item";break;case 3:c="Set Quest Point";break;case 4:c="Warp Player";break;case 5:c="Wait";break;case 6:c="Repeat Responses";break;
case 7:c="Open/Close Panel";break;case 8:c="Modify Player Stats";break;case 9:c="Script Response"}if(""==c)switch(this.k.data.specifier){case "NPC":switch(a){case 10:c="Attack";break;case 11:c="Run Away";break;case 12:c="Defend";break;case 13:c="Modify NPC Stats"}break;case "Item":switch(a){case 10:c="Equip Item";break;case 11:c="Read Item"}break;case "Tile":switch(a){case 10:c="Block Entry";break;case 11:c="Add Layer Graphic";break;case 12:c="Show Sign";break;case 13:c="Spawn NPC";break;case 14:c=
"Spawn Item"}}this.k.data.data[this.k.sj].responses.push({type:c,data:{}});this.k.yb()},eR:function(a){var c="";switch(a){case 0:c="Has Player Item";break;case 1:c="Is Player Statistics";break;case 2:c="Is Quest Point";break;case 3:c="Is Panel Visibility";break;case 4:c="Is Player Inventory Space";break;case 5:c="Script Requirement"}if(""==c)switch(this.k.data.specifier){case "Tile":switch(a){case 6:c="Is Event Fired By"}break;case "NPC":switch(a){case 6:c="Is NPC Statistics";break;case 7:c="Is NPC Actioning"}}this.k.data.data[this.k.sj].requirements.push({type:c,
data:{}});this.k.yb()},qc:function(){return{panels:{children:{background_image:{$:"GUI/event_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(1E3,400),children:{list:{size:q.size(758,360),color:q.j(0,200,200,200),position:q.a(0,0),e:q.a(0,0)},okbtn:{position:q.a(4,364),size:q.size(32,32),$:"GUI/tick_icon.png",e:q.a(0,0)},cancelbtn:{position:q.a(46,364),size:q.size(32,32),$:"GUI/cross_icon.png",e:q.a(0,0)},abbrlbl:"Tile"==this.data.specifier?{label:"Abbr",fontSize:20,e:q.a(0,0),position:q.a(550,
368),size:q.size(36,32),color:q.o(0,0,0)}:null,abbrEntry:"Tile"==this.data.specifier?{position:q.a(595,364),size:q.size(36,32),color:q.o(255,255,255)}:null,namelbl:{label:"Name:",fontSize:20,e:q.a(0,0),position:q.a(110,368),color:q.o(0,0,0)},nameEntry:{position:q.a(180,364),size:q.size(340,32),color:q.j(255,255,255,255)}}},control_panel:{e:q.a(0,0),position:q.a(0,400),size:q.size(1E3,32),children:{header:{label:"Script Editor",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(976,
6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}},subEditorOver:{visible:!1,color:q.j(0,0,0,127),position:q.a(0,0),size:q.size(800,400)},mainEditorOver:{color:q.j(0,0,0,127),position:q.a(800,0),size:q.size(200,400)}}}}},nI:function(a,c,d){this.la={event:a,listtype:c,id:d};this.Un=this.data.data[a][c][d].type;this.AV=J(this.data.data[this.la.event][this.la.listtype][this.la.id].data);this.pt()},V$:function(a){this.data.data[this.la.event][this.la.listtype][this.la.id].data=J(a);this.bx();this.la=
null;this.yb()},U$:function(){this.bx();this.la=null},f3:function(){},ry:null,EE:null,FE:null,bd:null,jK:null,WJ:null,kx:null,rd:null,Zx:null,Vl:null,Wl:null,Ul:null,ay:null,by:null,$x:null,eK:null,Zn:0,UJ:null,DH:null,jx:null,Oc:null,gy:null,FS:function(a,c){var d={panels:{children:{editArea:{color:q.j(127,127,127,255),e:q.a(0,0),position:q.a(0,0),size:q.size(200,250)},editBox:{size:q.size(178,196),e:q.a(0,0),position:q.a(8,12)},okbtn:{position:q.a(62,210),size:q.size(32,32),$:"GUI/tick_icon.png",
e:q.a(0,0)},cancelbtn:{position:q.a(106,210),size:q.size(32,32),$:"GUI/cross_icon.png",e:q.a(0,0)}}}};this.qg=ya(d,!0);this.i.f(this.qg);this.sE=new $(this.qg.editBox,q.size(this.qg.editBox.c().width,this.qg.editBox.c().height),q.a(0,this.qg.editBox.c().height),c?c:"\x3cEnter text\x3e",q.j(255,255,255),q.o(0,0,0),!0);this.sE.lb(!0);this.sE.Qc(!1);this.tE=a},pt:function(){this.i&&(this.i.K(),this.i=null);this.b.subEditorOver.D(!0);this.b.mainEditorOver.D(!1);var a={panels:{position:q.a(802,0),children:{}}},
c=this.data.data[this.la.event][this.la.listtype][this.la.id].data;switch(this.Un){case "Warp Player":a.panels.children={mapNumberLabel:{label:"Map ID",e:q.a(0,0),position:q.a(12,374)},mapNumberText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,340),size:q.size(100,32)},mapXLabel:{label:"Map X",e:q.a(0,0),position:q.a(12,310)},mapXText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,276),size:q.size(80,32)},mapYLabel:{label:"Map Y",e:q.a(0,0),position:q.a(100,310)},mapYText:{color:q.j(255,
255,255,255),e:q.a(0,0),position:q.a(100,276),size:q.size(80,32)}};break;case "Script Response":a.panels.children={sayLabelPre:{label:"Script:\n\nfunction resp(data){\n//data is { }",e:q.a(0,1),position:q.a(12,374),color:q.o(255,0,0)},sayLabelPost:{label:"};",e:q.a(0,1),position:q.a(12,95),color:q.o(255,0,0)},sayText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,100),size:q.size(174,200)}};break;case "Script Requirement":a.panels.children={sayLabelPre:{label:"Script:\n\nfunction req(data,isAllow){\n//data is { }\n//isAllow defaults false",
e:q.a(0,1),position:q.a(12,374),color:q.o(255,0,0)},sayLabelPost:{label:"return isAllow;\n};",e:q.a(0,1),position:q.a(12,95),color:q.o(255,0,0)},sayText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,100),size:q.size(174,190)}};break;case "Read Item":a.panels.children={sayLabel:{label:"Say:",e:q.a(0,0),position:q.a(12,374)},sayText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,50),size:q.size(174,322)}};break;case "Show Sign":a.panels.children={signLabel:{label:"Sign Title:",e:q.a(0,
0),position:q.a(12,376)},signText:{color:q.o(255,255,255),e:q.a(0,0),position:q.a(12,340),size:q.size(174,32)},sayLabel:{label:"Sign Content:",e:q.a(0,0),position:q.a(12,318)},sayText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,50),size:q.size(174,258)}};break;case "Talk":a.panels.children={sayLabel:{label:"Say:",e:q.a(0,0),position:q.a(12,374)},sayText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,274),size:q.size(174,100)},optionLabel:{label:"Options:",e:q.a(0,0),position:q.a(12,
235)},optionList:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,50),size:q.size(154,185)}};break;case "Is Quest Point":case "Set Quest Point":a.panels.children={questLabel:{label:"Quest:",e:q.a(0,0),position:q.a(12,374)},questList:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},objectiveLabel:{label:"Objective:",e:q.a(0,0),position:q.a(12,189)},objectiveList:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,50),size:q.size(154,135)}};break;case "Give /Take Item":case "Has Player Item":case "Spawn Item":a.panels.children=
{itemsLabel:{label:"Item:",e:q.a(0,0),position:q.a(12,374)},itemList:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},amountLabel:{label:"Amount:",e:q.a(0,0),position:q.a(12,189)},amountText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,153),size:q.size(154,32)},amountNote:{label:"Has Player Item"==this.Un?"":"Use negative item amounts to take away. Use positive amounts to give.",e:q.a(0,1),position:q.a(12,145)}};break;case "Spawn NPC":a.panels.children={npcLabel:{label:"NPC:",
e:q.a(0,0),position:q.a(12,374)},npcList:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)}};break;case "Modify Player Stats":case "Modify NPC Stats":a.panels.children={skillsLabel:{label:"Skill:",e:q.a(0,0),position:q.a(12,374)},skillList:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},levelLabel:{label:"Level Modify",e:q.a(0,0),position:q.a(12,205)},levelText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,169),size:q.size(154,
32)},expLabel:{label:"XP Modify: (% allowed)",e:q.a(0,0),position:q.a(12,145)},expText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,109),size:q.size(154,32)},healthLabel:{label:"Health Modify: (% allowed)",e:q.a(0,0),position:q.a(12,85)},healthText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,49),size:q.size(154,32)}};break;case "Is Panel Visibility":case "Open/Close Panel":a.panels.children={panelsLabel:{label:"Panel:",e:q.a(0,0),position:q.a(12,374)},panelList:{color:q.j(255,
255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},visibleLabel:{label:"Visibility:",e:q.a(0,0),position:q.a(12,205)},visibleButton:{color:q.j(255,0,0,255),e:q.a(0,0),position:q.a(12,169),size:q.size(154,32),children:{content:{position:q.a(77,16),e:q.a(0.5,0.5),label:"Invisible",color:q.o(0,0,0)}}}};break;case "Is Event Fired By":a.panels.children={objectLabel:{label:"Possible Types:",e:q.a(0,0),position:q.a(12,374)},objectList:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,
230),size:q.size(154,135)}};break;case "Is NPC Actioning":a.panels.children={actionLabel:{label:"Actions:",e:q.a(0,0),position:q.a(12,374)},actionList:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)}};break;case "Is Player Inventory Space":a.panels.children={spaceLabel:{label:"Inventory Space",e:q.a(0,0),position:q.a(12,374)},spaceText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,340),size:q.size(100,32)}};break;case "Wait":a.panels.children={timeLabel:{label:"Time (Seconds)",
e:q.a(0,0),position:q.a(12,374)},timeText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,340),size:q.size(100,32)}};break;case "Repeat Responses":a.panels.children={amountLabel:{label:"Repeat Amount",e:q.a(0,0),position:q.a(12,374)},amountText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,340),size:q.size(100,32)},amountNote:{label:"Use 0 for infinite amount of repeats.",e:q.a(0,1),position:q.a(12,300)}};break;case "Is Player Statistics":case "Is NPC Statistics":a.panels.children=
{skillsLabel:{label:"Skill:",e:q.a(0,0),position:q.a(12,374)},skillList:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},levelLabel:{label:"Level Range",e:q.a(0,0),position:q.a(12,205)},levelDash:{label:"-",e:q.a(0,0),position:q.a(91,174)},levelTextLower:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,169),size:q.size(75,32)},levelTextUpper:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(100,169),size:q.size(75,32)},expLabel:{label:"XP Range: (% allowed)",
e:q.a(0,0),position:q.a(12,145)},expDash:{label:"-",e:q.a(0,0),position:q.a(91,114)},expTextLower:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,109),size:q.size(75,32)},expTextUpper:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(100,109),size:q.size(75,32)},healthLabel:{label:"Health Range: (% allowed)",e:q.a(0,0),position:q.a(12,85)},healthDash:{label:"-",e:q.a(0,0),position:q.a(91,54)},healthTextLower:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,49),size:q.size(75,32)},healthTextUpper:{color:q.j(255,
255,255,255),e:q.a(0,0),position:q.a(100,49),size:q.size(75,32)}};break;case "Equip Item":a.panels.children={equipLabel:{label:"Equips To:",e:q.a(0,0),position:q.a(12,374)},headButton:{color:q.j(255,0,0,255),e:q.a(0,0),position:q.a(69,320),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(0.5,0.5),label:"Head",color:q.o(0,0,0)}}},bodyButton:{color:q.j(255,0,0,255),e:q.a(0,0),position:q.a(69,280),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(0.5,0.5),label:"Body",color:q.o(0,
0,0)}}},legButton:{color:q.j(255,0,0,255),e:q.a(0,0),position:q.a(69,240),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(0.5,0.5),label:"Legs",color:q.o(0,0,0)}}},feetButton:{color:q.j(255,0,0,255),e:q.a(0,0),position:q.a(69,200),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(0.5,0.5),label:"Feet",color:q.o(0,0,0)}}},lArmButton:{color:q.j(255,0,0,255),e:q.a(0,0),position:q.a(10,280),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(0.5,0.5),label:"L Arm",
color:q.o(0,0,0)}}},rArmButton:{color:q.j(255,0,0,255),e:q.a(0,0),position:q.a(128,280),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(0.5,0.5),label:"R Arm",color:q.o(0,0,0)}}},modButton:{color:q.j(255,0,0,255),e:q.a(0,0),position:q.a(10,160),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(0.5,0.5),label:"Mod",color:q.o(0,0,0)}}}}}a.panels.children.okbtn={position:q.a(62,8),size:q.size(32,32),$:"GUI/tick_icon.png",e:q.a(0,0)};a.panels.children.cancelbtn={position:q.a(106,
8),size:q.size(32,32),$:"GUI/cross_icon.png",e:q.a(0,0)};this.i=ya(a,!0);this.b.f(this.i);switch(this.Un){case "Warp Player":var d=a=1;c.index&&(d=V.ui(c.mapnum),a=c.index%d.width,d=Math.floor(c.index/d.width));this.ry=new $(this.i.mapNumberText,q.size(this.i.mapNumberText.c().width,this.i.mapNumberText.c().height),q.a(0,this.i.mapNumberText.c().height),null!=c.mapnum&&"undefined"!==c.mapnum?c.mapnum:"0",q.j(255,255,255),q.o(0,0,0));this.ry.lb(!0);this.EE=new $(this.i.mapXText,q.size(this.i.mapXText.c().width,
this.i.mapXText.c().height),q.a(0,this.i.mapXText.c().height),a,q.j(255,255,255),q.o(0,0,0));this.EE.lb(!0);this.FE=new $(this.i.mapYText,q.size(this.i.mapYText.c().width,this.i.mapYText.c().height),q.a(0,this.i.mapYText.c().height),d,q.j(255,255,255),q.o(0,0,0));this.FE.lb(!0);break;case "Show Sign":this.bd=new $(this.i.sayText,q.size(this.i.sayText.c().width,this.i.sayText.c().height),q.a(0,this.i.sayText.c().height),c.content?c.content:"\x3cEnter text\x3e",q.j(255,255,255),q.o(0,0,0),!0);this.bd.lb(!0);
this.bd.Qc(!1);this.mE=new $(this.i.signText,q.size(this.i.signText.c().width,this.i.signText.c().height),q.a(0,this.i.signText.c().height),c.title?c.title:"\x3cEnter text\x3e",q.j(255,255,255),q.o(0,0,0),!0);this.mE.lb(!0);this.mE.Qc(!1);break;case "Read Item":this.bd=new $(this.i.sayText,q.size(this.i.sayText.c().width,this.i.sayText.c().height),q.a(0,this.i.sayText.c().height),c.say?c.say:"\x3cEnter text\x3e",q.j(255,255,255),q.o(0,0,0),!0);this.bd.lb(!0);this.bd.Qc(!1);break;case "Script Response":this.bd=
new $(this.i.sayText,q.size(this.i.sayText.c().width,this.i.sayText.c().height),q.a(0,this.i.sayText.c().height),c.functionContent?c.functionContent:"\x3cEnter text\x3e",q.j(255,255,255),q.o(0,0,0),!0);this.bd.lb(!0);this.bd.Qc(!1);break;case "Script Requirement":this.bd=new $(this.i.sayText,q.size(this.i.sayText.c().width,this.i.sayText.c().height),q.a(0,this.i.sayText.c().height),c.functionContent?c.functionContent:"\x3cEnter text\x3e",q.j(255,255,255),q.o(0,0,0),!0);this.bd.lb(!0);this.bd.Qc(!1);
break;case "Talk":this.bd=new $(this.i.sayText,q.size(this.i.sayText.c().width,this.i.sayText.c().height),q.a(0,this.i.sayText.c().height),c.say?c.say:"\x3cEnter text\x3e",q.j(255,255,255),q.o(0,0,0),!0);this.bd.lb(!0);this.bd.Qc(!1);var e=[],a=[],f=c.options?c.options:[];console.log(f);for(d=0;d<f.length;d++){e[d]=q.F.create();var g=q.da.create(q.j(0,0,0,127),154,1),h=q.T.create(f[d],"Arial",15);h.r(q.o(0,0,0));h.A(q.a(0,0));h.l(q.a(4,4));h.mb(q.size(104,0));e[d].P(154,h.c().height+8);var k=q.v.Ma(q.ia.g().ma("GUI/edit.png"));
k.l(q.a(130,0));k.A(q.a(0,0));k.Ua="Edit";k.Ac((h.c().height+8)/2-10);var l=q.v.Ma(q.ia.g().ma("GUI/trash.png"));l.l(q.a(108,0));l.A(q.a(0,0));l.Ua="Delete";l.Ac((h.c().height+8)/2-10);a.push([k,l]);var m=q.da.create(q.j(255,255,255,255),154,h.c().height+8);e[d].f(m);e[d].Yb=m;e[d].f(g);e[d].f(h);e[d].f(k);e[d].f(l)}d=q.da.create(q.j(70,200,70,255),90,26);g=q.T.create("+","Arial",20);g.l(45,13);g.A(q.a(0.5,0.5));d.l(q.a(34,0));d.Ua="Add";d.f(g);a.push([d]);e.push(d);var p=this;this.i.optionList.rc=
function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.i.optionList.mc=function(){return e.length};this.i.optionList.xc=function(a){return e[a].c()};this.i.optionList.wc=function(a){return e[a]};this.i.optionList.Gf=function(a){return e[a].Yb};this.i.optionList.Eb=function(a,d){if(!p.qg)switch(a){case "Add":c.options||(c.options=[]);c.options.push("\x3cEnter Text\x3e");c.say=p.bd.ba();p.i.optionList.W.K();p.i.optionList.W=null;p.pt();break;case "Delete":c.options.splice(d,
1);c.say=p.bd.ba();p.i.K();p.i=null;p.pt();break;case "Edit":c.say=p.bd.ba(),p.FS(d,c.options[d]),p.i.optionList.W.K(),p.i.optionList.W=null}};this.i.optionList.W=ListView.create(this.i.optionList);this.i.optionList.W.zc(a);this.i.optionList.f(this.i.optionList.W);break;case "Is Quest Point":case "Set Quest Point":e=[];a=[];f=ObjectLists.Up();for(d=0;d<f.length;d++)e[d]=q.F.create(),g=q.da.create(q.j(0,0,0,127),154,1),h=q.T.create(f[d].name,"Arial",15),h.r(q.o(0,0,0)),h.A(q.a(0,0)),h.l(q.a(4,4)),
h.mb(q.size(126,0)),k=q.v.Ma(q.ia.g().ma("GUI/use.png")),k.l(q.a(130,0)),k.A(q.a(0,0)),k.Ua="Use",e[d].P(154,h.c().height+8),k.Ac((h.c().height+8)/2-10),a.push([k]),m=q.da.create(q.j(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].Yb=m,e[d].f(g),e[d].f(h),e[d].f(k);p=this;this.i.questList.rc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.i.questList.mc=function(){return e.length};this.i.questList.xc=function(a){return e[a].c()};this.i.questList.wc=function(a){return e[a]};
this.i.questList.Gf=function(a){return e[a].Yb};this.i.questList.Eb=function(a,c){if("Use"==a){p.i.objectiveList.W&&p.i.objectiveList.W.K();this.W.Yb(c);p.jK=c;for(var d=[],e=[],f=q.ia.g(),g=ObjectLists.Up()[c].objectiveList,h=0;h<g.length;h++){d[h]=q.F.create();var k=q.da.create(q.j(0,0,0,127),154,1);k.l(q.a(0,0));var l=q.T.create(g[h],"Arial",15);l.r(q.o(0,0,0));l.A(q.a(0,0));l.l(q.a(4,4));l.mb(q.size(126,0));var m=q.v.Ma(f.ma("GUI/use.png"));m.l(q.a(130,0));m.A(q.a(0,0));m.Ua="Use";e.push([m]);
d[h].P(126,l.c().height+8);m.Ac((l.c().height+8)/2-10);var ja=q.da.create(q.j(255,255,255,255),154,l.c().height+8);d[h].f(ja);d[h].Yb=ja;d[h].f(k);d[h].f(l);d[h].f(m)}p.i.objectiveList.rc=function(){for(var a=0,c=0;c<d.length;c++)a+=d[c].c().height;return q.size(154,a)};p.i.objectiveList.mc=function(){return d.length};p.i.objectiveList.Gf=function(a){return d[a].Yb};p.i.objectiveList.xc=function(a){return d[a].c()};p.i.objectiveList.wc=function(a){return d[a]};p.i.objectiveList.Eb=function(a,c){this.W.Yb(c);
p.WJ=c};p.i.objectiveList.W=ListView.create(p.i.objectiveList);p.i.objectiveList.W.zc(e);p.i.objectiveList.f(p.i.objectiveList.W)}};this.i.questList.W=ListView.create(this.i.questList);this.i.questList.W.zc(a);this.i.questList.f(this.i.questList.W);null!=c.quest&&"undefined"!==c.quest&&(this.i.questList.Eb("Use",c.quest),null!=c.objective&&"undefined"!==c.objective&&this.i.objectiveList.Eb("Use",c.objective));break;case "Spawn NPC":e=[];a=[];f=ObjectLists.Rp();for(d=0;d<f.length;d++)e[d]=q.F.create(),
g=q.da.create(q.j(0,0,0,127),154,1),h=q.T.create(f[d].name,"Arial",15),h.r(q.o(0,0,0)),h.A(q.a(0,0)),h.l(q.a(4,4)),h.mb(q.size(126,0)),k=q.v.Ma(q.ia.g().ma("GUI/use.png")),k.l(q.a(130,0)),k.A(q.a(0,0)),k.Ua="Use",e[d].P(154,h.c().height+8),k.Ac((h.c().height+8)/2-10),a.push([k]),m=q.da.create(q.j(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].Yb=m,e[d].f(g),e[d].f(h),e[d].f(k);p=this;this.i.npcList.rc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.i.npcList.mc=
function(){return e.length};this.i.npcList.xc=function(a){return e[a].c()};this.i.npcList.wc=function(a){return e[a]};this.i.npcList.Gf=function(a){return e[a].Yb};this.i.npcList.Eb=function(a,c){"Use"==a&&(this.W.Yb(c),p.rd=c)};this.i.npcList.W=ListView.create(this.i.npcList);this.i.npcList.W.zc(a);this.i.npcList.f(this.i.npcList.W);null!=c.npc&&"undefined"!==c.npc&&this.i.npcList.Eb("Use",c.npc);break;case "Give /Take Item":case "Has Player Item":case "Spawn Item":this.i.amountNote.mb(q.size(180,
0));e=[];a=[];f=ObjectLists.lc();for(d=0;d<f.length;d++)e[d]=q.F.create(),g=q.da.create(q.j(0,0,0,127),154,1),h=q.T.create(f[d].name,"Arial",15),h.r(q.o(0,0,0)),h.A(q.a(0,0)),h.l(q.a(4,4)),h.mb(q.size(126,0)),k=q.v.Ma(q.ia.g().ma("GUI/use.png")),k.l(q.a(130,0)),k.A(q.a(0,0)),k.Ua="Use",e[d].P(154,h.c().height+8),k.Ac((h.c().height+8)/2-10),a.push([k]),m=q.da.create(q.j(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].Yb=m,e[d].f(g),e[d].f(h),e[d].f(k);p=this;this.i.itemList.rc=function(){for(var a=
0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.i.itemList.mc=function(){return e.length};this.i.itemList.xc=function(a){return e[a].c()};this.i.itemList.wc=function(a){return e[a]};this.i.itemList.Gf=function(a){return e[a].Yb};this.i.itemList.Eb=function(a,c){"Use"==a&&(this.W.Yb(c),p.rd=c)};this.i.itemList.W=ListView.create(this.i.itemList);this.i.itemList.W.zc(a);this.i.itemList.f(this.i.itemList.W);null!=c.item&&"undefined"!==c.item&&this.i.itemList.Eb("Use",c.item);this.kx=
new $(this.i.amountText,q.size(this.i.amountText.c().width,this.i.amountText.c().height),q.a(0,this.i.amountText.c().height),c.amount?c.amount:"0",q.j(255,255,255),q.o(0,0,0));this.kx.lb(!0);this.kx.Qc(!1);break;case "Modify Player Stats":case "Modify NPC Stats":e=[];a=[];f=ObjectLists.rk();for(d=0;d<f.length;d++)e[d]=q.F.create(),g=q.da.create(q.j(0,0,0,127),154,1),h=q.T.create(f[d].name,"Arial",15),h.r(q.o(0,0,0)),h.A(q.a(0,0)),h.l(q.a(4,4)),h.mb(q.size(126,0)),k=q.v.Ma(q.ia.g().ma("GUI/use.png")),
k.l(q.a(130,0)),k.A(q.a(0,0)),k.Ua="Use",e[d].P(154,h.c().height+8),k.Ac((h.c().height+8)/2-10),a.push([k]),m=q.da.create(q.j(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].Yb=m,e[d].f(g),e[d].f(h),e[d].f(k);p=this;this.i.skillList.rc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.i.skillList.mc=function(){return e.length};this.i.skillList.xc=function(a){return e[a].c()};this.i.skillList.wc=function(a){return e[a]};this.i.skillList.Gf=function(a){return e[a].Yb};
this.i.skillList.Eb=function(a,c){"Use"==a&&(this.W.Yb(c),p.Zx=c)};this.i.skillList.W=ListView.create(this.i.skillList);this.i.skillList.W.zc(a);this.i.skillList.f(this.i.skillList.W);null!=c.skill&&"undefined"!==c.skill&&this.i.skillList.Eb("Use",c.skill);this.Vl=new $(this.i.levelText,q.size(this.i.levelText.c().width,this.i.levelText.c().height),q.a(0,this.i.levelText.c().height),c.level?c.level:"0",q.j(255,255,255),q.o(0,0,0));this.Vl.lb(!0);this.Vl.Qc(!1);this.Wl=new $(this.i.expText,q.size(this.i.expText.c().width,
this.i.expText.c().height),q.a(0,this.i.expText.c().height),c.xp?c.xp:"0",q.j(255,255,255),q.o(0,0,0));this.Wl.lb(!0);this.Wl.Qc(!1);this.Ul=new $(this.i.healthText,q.size(this.i.healthText.c().width,this.i.healthText.c().height),q.a(0,this.i.healthText.c().height),c.health?c.health:"0",q.j(255,255,255),q.o(0,0,0));this.Ul.lb(!0);this.Ul.Qc(!1);break;case "Is Panel Visibility":case "Open/Close Panel":e=[];a=[];f=["Inventory","Equipment","Skills","QuestLog","Bank"];for(d=0;d<f.length;d++)e[d]=q.F.create(),
g=q.da.create(q.j(0,0,0,127),154,1),h=q.T.create(f[d],"Arial",15),h.r(q.o(0,0,0)),h.A(q.a(0,0)),h.l(q.a(4,4)),h.mb(q.size(126,0)),k=q.v.Ma(q.ia.g().ma("GUI/use.png")),k.l(q.a(130,0)),k.A(q.a(0,0)),k.Ua="Use",e[d].P(154,h.c().height+8),k.Ac((h.c().height+8)/2-10),a.push([k]),m=q.da.create(q.j(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].Yb=m,e[d].f(g),e[d].f(h),e[d].f(k);p=this;this.i.panelList.rc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.i.panelList.mc=
function(){return e.length};this.i.panelList.xc=function(a){return e[a].c()};this.i.panelList.wc=function(a){return e[a]};this.i.panelList.Gf=function(a){return e[a].Yb};this.i.panelList.Eb=function(a,c){"Use"==a&&(this.W.Yb(c),p.eK=c)};this.i.panelList.W=ListView.create(this.i.panelList);this.i.panelList.W.zc(a);this.i.panelList.f(this.i.panelList.W);null!=c.panel&&"undefined"!==c.panel&&this.i.panelList.Eb("Use",c.panel);this.Zn=1==c.visible?1:0;1==this.Zn&&(this.i.visibleButton.r(q.j(0,255,0,255)),
this.i.visibleButton.content.pa("Visible"));break;case "Is Event Fired By":e=[];a=[];f=["Player","NPC"];for(d=0;d<f.length;d++)e[d]=q.F.create(),g=q.da.create(q.j(0,0,0,127),154,1),h=q.T.create(f[d],"Arial",15),h.r(q.o(0,0,0)),h.A(q.a(0,0)),h.l(q.a(4,4)),h.mb(q.size(126,0)),k=q.v.Ma(q.ia.g().ma("GUI/use.png")),k.l(q.a(130,0)),k.A(q.a(0,0)),k.Ua="Use",e[d].P(154,h.c().height+8),k.Ac((h.c().height+8)/2-10),a.push([k]),m=q.da.create(q.j(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].Yb=m,e[d].f(g),
e[d].f(h),e[d].f(k);p=this;this.i.objectList.rc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.i.objectList.mc=function(){return e.length};this.i.objectList.xc=function(a){return e[a].c()};this.i.objectList.wc=function(a){return e[a]};this.i.objectList.Gf=function(a){return e[a].Yb};this.i.objectList.Eb=function(a,c){"Use"==a&&(this.W.Yb(c),p.UJ=c)};this.i.objectList.W=ListView.create(this.i.objectList);this.i.objectList.W.zc(a);this.i.objectList.f(this.i.objectList.W);
null!=c.object&&"undefined"!==c.object&&this.i.objectList.Eb("Use",c.object);break;case "Is NPC Actioning":e=[];a=[];f=["Attacking","Defending","Fleeing"];for(d=0;d<f.length;d++)e[d]=q.F.create(),g=q.da.create(q.j(0,0,0,127),154,1),h=q.T.create(f[d],"Arial",15),h.r(q.o(0,0,0)),h.A(q.a(0,0)),h.l(q.a(4,4)),h.mb(q.size(126,0)),k=q.v.Ma(q.ia.g().ma("GUI/use.png")),k.l(q.a(130,0)),k.A(q.a(0,0)),k.Ua="Use",e[d].P(154,h.c().height+8),k.Ac((h.c().height+8)/2-10),a.push([k]),m=q.da.create(q.j(255,255,255,
255),154,h.c().height+8),e[d].f(m),e[d].Yb=m,e[d].f(g),e[d].f(h),e[d].f(k);p=this;this.i.actionList.rc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.i.actionList.mc=function(){return e.length};this.i.actionList.xc=function(a){return e[a].c()};this.i.actionList.wc=function(a){return e[a]};this.i.actionList.Gf=function(a){return e[a].Yb};this.i.actionList.Eb=function(a,c){"Use"==a&&(this.W.Yb(c),p.DH=c)};this.i.actionList.W=ListView.create(this.i.actionList);
this.i.actionList.W.zc(a);this.i.actionList.f(this.i.actionList.W);null!=c.action&&"undefined"!==c.action&&this.i.actionList.Eb("Use",c.action);break;case "Is Player Inventory Space":this.jx=new $(this.i.spaceText,q.size(this.i.spaceText.c().width,this.i.spaceText.c().height),q.a(0,this.i.spaceText.c().height),null!=c.space&&"undefined"!==c.space?c.space:"0",q.j(255,255,255),q.o(0,0,0));this.jx.lb(!0);this.jx.Qc(!1);break;case "Wait":this.gy=new $(this.i.timeText,q.size(this.i.timeText.c().width,
this.i.timeText.c().height),q.a(0,this.i.timeText.c().height),null!=c.time&&"undefined"!==c.time?c.time:"0",q.j(255,255,255),q.o(0,0,0));this.gy.lb(!0);this.gy.Qc(!1);break;case "Repeat Responses":this.i.amountNote.mb(q.size(180,0));this.ID=new $(this.i.amountText,q.size(this.i.amountText.c().width,this.i.amountText.c().height),q.a(0,this.i.amountText.c().height),null!=c.amount&&"undefined"!==c.amount?c.amount:"1",q.j(255,255,255),q.o(0,0,0));this.ID.lb(!0);this.ID.Qc(!1);break;case "Is Player Statistics":case "Is NPC Statistics":e=
[];a=[];f=ObjectLists.rk();for(d=0;d<f.length;d++)e[d]=q.F.create(),g=q.da.create(q.j(0,0,0,127),154,1),h=q.T.create(f[d].name,"Arial",15),h.r(q.o(0,0,0)),h.A(q.a(0,0)),h.l(q.a(4,4)),h.mb(q.size(126,0)),k=q.v.Ma(q.ia.g().ma("GUI/use.png")),k.l(q.a(130,0)),k.A(q.a(0,0)),k.Ua="Use",e[d].P(154,h.c().height+8),k.Ac((h.c().height+8)/2-10),a.push([k]),m=q.da.create(q.j(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].Yb=m,e[d].f(g),e[d].f(h),e[d].f(k);p=this;this.i.skillList.rc=function(){for(var a=
0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.i.skillList.mc=function(){return e.length};this.i.skillList.xc=function(a){return e[a].c()};this.i.skillList.wc=function(a){return e[a]};this.i.skillList.Gf=function(a){return e[a].Yb};this.i.skillList.Eb=function(a,c){"Use"==a&&(this.W.Yb(c),p.Zx=c)};this.i.skillList.W=ListView.create(this.i.skillList);this.i.skillList.W.zc(a);this.i.skillList.f(this.i.skillList.W);null!=c.skill&&"undefined"!==c.skill&&this.i.skillList.Eb("Use",c.skill);
this.Vl=new $(this.i.levelTextLower,q.size(this.i.levelTextLower.c().width,this.i.levelTextLower.c().height),q.a(0,this.i.levelTextLower.c().height),null!=c.levelLower&&"undefined"!==c.levelLower&&""!=c.levelLower?c.levelLower:"0",q.j(255,255,255),q.o(0,0,0));this.Vl.lb(!0);this.Vl.Qc(!1);this.Wl=new $(this.i.expTextLower,q.size(this.i.expTextLower.c().width,this.i.expTextLower.c().height),q.a(0,this.i.expTextLower.c().height),null!=c.xpLower&&"undefined"!==c.xpLower&&""!=c.xpLower?c.xpLower:"0",
q.j(255,255,255),q.o(0,0,0));this.Wl.lb(!0);this.Wl.Qc(!1);this.Ul=new $(this.i.healthTextLower,q.size(this.i.healthTextLower.c().width,this.i.healthTextLower.c().height),q.a(0,this.i.healthTextLower.c().height),null!=c.healthLower&&"undefined"!==c.healthLower&&""!=c.healthLower?c.healthLower:"0",q.j(255,255,255),q.o(0,0,0));this.Ul.lb(!0);this.Ul.Qc(!1);this.ay=new $(this.i.levelTextUpper,q.size(this.i.levelTextUpper.c().width,this.i.levelTextUpper.c().height),q.a(0,this.i.levelTextUpper.c().height),
null!=c.levelUpper&&"undefined"!==c.levelUpper&&""!=c.levelUpper?c.levelUpper:"0",q.j(255,255,255),q.o(0,0,0));this.ay.lb(!0);this.ay.Qc(!1);this.by=new $(this.i.expTextUpper,q.size(this.i.expTextUpper.c().width,this.i.expTextUpper.c().height),q.a(0,this.i.expTextUpper.c().height),null!=c.xpUpper&&"undefined"!==c.xpUpper&&""!=c.xpUpper?c.xpUpper:"0",q.j(255,255,255),q.o(0,0,0));this.by.lb(!0);this.by.Qc(!1);this.$x=new $(this.i.healthTextUpper,q.size(this.i.healthTextUpper.c().width,this.i.healthTextUpper.c().height),
q.a(0,this.i.healthTextUpper.c().height),null!=c.healthUpper&&"undefined"!==c.healthUpper&&""!=c.healthUpper?c.healthUpper:"0",q.j(255,255,255),q.o(0,0,0));this.$x.lb(!0);this.$x.Qc(!1);break;case "Equip Item":null!=c.equip&&"undefined"!==c.equip?(this.Oc="head",this.xk(c.equip)):this.xk("head")}},bx:function(){this.b.subEditorOver.D(!1);this.b.mainEditorOver.D(!0);this.Un=null;this.i.K();this.i=null},xk:function(a){this.i.headButton.r(q.j(255,255,255,255));this.i.bodyButton.r(q.j(255,255,255,255));
this.i.legButton.r(q.j(255,255,255,255));this.i.feetButton.r(q.j(255,255,255,255));this.i.lArmButton.r(q.j(255,255,255,255));this.i.rArmButton.r(q.j(255,255,255,255));this.i.modButton.r(q.j(255,255,255,255));switch(a){case "head":this.Oc=a;this.i.headButton.r(q.j(255,0,0,255));return;case "body":this.Oc=a;this.i.bodyButton.r(q.j(255,0,0,255));return;case "legs":this.Oc=a;this.i.legButton.r(q.j(255,0,0,255));return;case "feet":this.Oc=a;this.i.feetButton.r(q.j(255,0,0,255));return;case "mod":this.Oc=
a;this.i.modButton.r(q.j(255,0,0,255));return;case "bothArms":this.Oc=a;this.i.lArmButton.r(q.j(255,0,0,255));this.i.rArmButton.r(q.j(255,0,0,255));return}"bothArms"!=this.Oc&&"lArm"!=this.Oc&&"rArm"!=this.Oc&&"lArm"==a?(this.i.lArmButton.r(q.j(255,0,0,255)),this.Oc="lArm"):"bothArms"!=this.Oc&&"lArm"!=this.Oc&&"rArm"!=this.Oc&&"rArm"==a?(this.i.rArmButton.r(q.j(255,0,0,255)),this.Oc="rArm"):"rArm"==this.Oc&&"lArm"==a?(this.i.lArmButton.r(q.j(255,0,0,255)),this.i.rArmButton.r(q.j(255,0,0,255)),this.Oc=
"bothArms"):"lArm"==this.Oc&&"rArm"==a?(this.i.lArmButton.r(q.j(255,0,0,255)),this.i.rArmButton.r(q.j(255,0,0,255)),this.Oc="bothArms"):"bothArms"==this.Oc&&"rArm"==a?(this.i.lArmButton.r(q.j(255,0,0,255)),this.Oc="lArm"):"bothArms"==this.Oc&&"lArm"==a&&(this.i.rArmButton.r(q.j(255,0,0,255)),this.Oc="rArm")},xb:function(a){if(this._super(a))return!0;a=q.a(a.R.x,a.R.y);if(this.qg){var c=this.qg.Ka(a);if(H(this.qg.okbtn,c)){switch(this.Un){case "Talk":this.data.data[this.la.event][this.la.listtype][this.la.id].data.options[this.tE]=
this.sE.ba(),this.data.data[this.la.event][this.la.listtype][this.la.id].data.say=this.bd.ba()}this.qg.K();this.tE=this.qg=null;this.pt();return}if(H(this.qg.cancelbtn,c)){this.qg.K();this.tE=this.qg=null;this.pt();return}}if(this.i)if(c=this.i.Ka(a),H(this.i.okbtn,c)){switch(this.Un){case "Warp Player":a=V.ui(this.ry.ba());this.data.data[this.la.event][this.la.listtype][this.la.id].data={mapnum:parseInt(this.ry.ba()),index:Q(parseInt(this.EE.ba()),a.width-parseInt(this.FE.ba()))};break;case "Show Sign":this.data.data[this.la.event][this.la.listtype][this.la.id].data=
{content:this.bd.ba(),title:this.mE.ba()};break;case "Read Item":this.data.data[this.la.event][this.la.listtype][this.la.id].data={say:this.bd.ba()};break;case "Script Response":case "Script Requirement":this.data.data[this.la.event][this.la.listtype][this.la.id].data.functionContent=this.bd.ba();break;case "Talk":this.data.data[this.la.event][this.la.listtype][this.la.id].data.say=this.bd.ba();break;case "Is Quest Point":case "Set Quest Point":this.data.data[this.la.event][this.la.listtype][this.la.id].data=
{quest:this.jK,objective:this.WJ};break;case "Spawn NPC":this.data.data[this.la.event][this.la.listtype][this.la.id].data={npc:this.rd};break;case "Give /Take Item":case "Has Player Item":case "Spawn Item":this.data.data[this.la.event][this.la.listtype][this.la.id].data={item:this.rd,amount:parseInt(this.kx.ba())};break;case "Modify Player Stats":case "Modify NPC Stats":this.data.data[this.la.event][this.la.listtype][this.la.id].data={skill:this.Zx,level:parseInt(this.Vl.ba()),xp:parseInt(this.Wl.ba()),
health:parseInt(this.Ul.ba())};break;case "Is Panel Visibility":case "Open/Close Panel":this.data.data[this.la.event][this.la.listtype][this.la.id].data={panel:this.eK,visible:this.Zn};break;case "Is Event Fired By":this.data.data[this.la.event][this.la.listtype][this.la.id].data={object:this.UJ};break;case "Is NPC Actioning":this.data.data[this.la.event][this.la.listtype][this.la.id].data={action:this.DH};break;case "Is Player Inventory Space":this.data.data[this.la.event][this.la.listtype][this.la.id].data=
{space:parseInt(this.jx.ba())};break;case "Wait":this.data.data[this.la.event][this.la.listtype][this.la.id].data={time:parseInt(this.gy.ba())};break;case "Repeat Responses":this.data.data[this.la.event][this.la.listtype][this.la.id].data={amount:parseInt(this.ID.ba())};break;case "Is Player Statistics":case "Is NPC Statistics":this.data.data[this.la.event][this.la.listtype][this.la.id].data={skill:this.Zx,levelLower:parseInt(this.Vl.ba()),xpLower:parseInt(this.Wl.ba()),healthLower:parseInt(this.Ul.ba()),
levelUpper:parseInt(this.ay.ba()),xpUpper:parseInt(this.by.ba()),healthUpper:parseInt(this.$x.ba())};break;case "Equip Item":this.data.data[this.la.event][this.la.listtype][this.la.id].data={equip:this.Oc}}this.bx()}else this.i.headButton&&H(this.i.headButton,c)?this.xk("head"):this.i.bodyButton&&H(this.i.bodyButton,c)?this.xk("body"):this.i.legButton&&H(this.i.legButton,c)?this.xk("legs"):this.i.feetButton&&H(this.i.feetButton,c)?this.xk("feet"):this.i.lArmButton&&H(this.i.lArmButton,c)?this.xk("lArm"):
this.i.rArmButton&&H(this.i.rArmButton,c)?this.xk("rArm"):this.i.modButton&&H(this.i.modButton,c)?this.xk("mod"):this.i.visibleButton&&H(this.i.visibleButton,c)?(this.Zn=0==this.Zn?1:0,this.i.visibleButton.r(0==this.Zn?q.j(255,0,0,255):q.j(0,255,0,255)),this.i.visibleButton.content.pa(0==this.Zn?"Invisible":"Visible")):H(this.i.cancelbtn,c)&&(this.data.data[this.la.event][this.la.listtype][this.la.id].data=J(this.AV),this.bx());else if(c=this.b.main_panel.Ka(a),H(this.b.main_panel.okbtn,c))this.b.main_panel.abbrEntry&&
(null==this.Gw.ba()||""==this.Gw.ba())||null==this.qb.ba()||""==this.qb.ba()||(this.data.name=this.qb.ba(),this.b.main_panel.abbrEntry&&(this.data.abbr=this.Gw.ba()),this.Tg=!0,this.k.Pd(this.data));else if(H(this.b.main_panel.cancelbtn,c)){this.Tg=!0;var d=this.k;this.k.Td(function(){d.Pd(null)})}else H(this.b.main_panel,c)}});Itemeditor2=Itemeditor=null;
ItemEditor=Popup.extend({Qb:v[0].name,aa:0,$c:1,Y1:null,hj:null,Od:null,jn:!1,Sn:function(a,c){Scripteditor&&(Scripteditor.Aa(),Scripteditor.K(),this.Ph=a,this.hc(!0),this.b.main_panel.tab1.scriptbtn.text.pa(c.name),this.b.main_panel.tab1.scriptbtn.r(q.j(0,255,0,255)));Shopeditor&&(Shopeditor.Aa(),Shopeditor.K(),Shopeditor=null,this.bR(a));Itemeditor2&&!0==this.jn&&(Itemeditor2.Aa(),Itemeditor2.K(),Itemeditor2=null,this.aR(this.Od,a,c),this.Od=null);Itemeditor2&&!1==this.jn&&(Itemeditor2.Aa(),Itemeditor2.K(),
Itemeditor2=null,this.ZQ(this.Od,a,c),this.Od=null)},it:function(){this.b.main_panel.tab1.scriptbtn.text.pa("None");this.b.main_panel.tab1.scriptbtn.r(q.j(255,0,0,255))},qc:function(){return{panels:{position:q.a(300,10),children:{background:{$:"GUI/itemeditor_bg.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(500,368),children:{tab1:{children:{namelbl:{label:"Name:",fontSize:20,e:q.a(0,0),position:q.a(4,292),color:q.o(0,0,0)},name_entry:{position:q.a(74,292),size:q.size(266,
32),color:q.j(255,255,255,255)},tiles:{e:q.a(0,1),position:q.a(16,272),$:v[0].name},textureleftbtn:{position:q.a(362,292),size:q.size(16,32),$:"GUI/texture_change_left.png",e:q.a(0,0)},texturerightbtn:{position:q.a(471,292),size:q.size(16,32),$:"GUI/texture_change_right.png",e:q.a(0,0)},textureName:{position:q.a(375,292),size:q.size(96,32),$:"GUI/texture_change_middle.png",e:q.a(0,0),children:{text:{label:v[0].name,fontSize:12,e:q.a(0.5,0.5),position:q.a(48,16),color:q.o(0,0,0)}}},leftbtn:{position:q.a(0,
16),size:q.size(16,256),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"\x3c",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,160),color:q.o(255,255,255)}}},rightbtn:{position:q.a(336,16),size:q.size(16,256),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"\x3e",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,160),color:q.o(255,255,255)}}},upbtn:{position:q.a(16,272),size:q.size(320,16),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"^",fontSize:12,e:q.a(0.5,0.5),position:q.a(160,8),
color:q.o(255,255,255)}}},downbtn:{position:q.a(16,0),size:q.size(320,16),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"v",fontSize:12,e:q.a(0.5,0.5),position:q.a(160,8),color:q.o(255,255,255)}}},stacklbl:{label:"Stackable:",fontSize:12,e:q.a(0,0),position:q.a(360,206),color:q.o(0,0,0)},stackbtn:{position:q.a(360,176),size:q.size(128,26),color:C,e:q.a(0,0),children:{text:{label:"No",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.o(0,0,0)}}},scriptlbl:{label:"Script:",fontSize:12,
e:q.a(0,0),position:q.a(360,262),color:q.o(0,0,0)},scriptbtn:{position:q.a(360,232),size:q.size(128,26),color:C,e:q.a(0,0),children:{text:{label:"None",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.o(0,0,0)}}},highlightnode:{e:q.a(0,0),position:q.a(0,0),size:q.size(32,32),color:q.j(255,100,100,255)},selectednode:{e:q.a(0,0),position:q.a(0,0),size:q.size(32,32),color:q.j(100,255,100,255)},okbtn:{position:q.a(434,16),size:q.size(32,32),$:"GUI/tick_icon.png",e:q.a(0,0)},cancelbtn:{position:q.a(384,
16),size:q.size(32,32),$:"GUI/cross_icon.png",e:q.a(0,0)}}},tab2:{children:{list:{size:q.size(466,320),position:q.a(2,2),e:q.a(0,0)},shopName_label:{label:"Store Name",position:q.a(4,328),color:q.o(255,255,255),fontSize:15,e:q.a(0,0)},shopSell_label:{label:"Sell Price",position:q.a(130,328),color:q.o(255,255,255),fontSize:15,e:q.a(0,0)},shopBuy_label:{label:"Buy Price",position:q.a(315,328),color:q.o(255,255,255),fontSize:15,e:q.a(0,0)}}},tab3:{size:q.size(200,100),color:q.o(100,100,100),children:{okbtn:{position:q.a(20,
32),size:q.size(32,32),$:"GUI/tick_icon.png",e:q.a(0,0)},cancelbtn:{position:q.a(60,32),size:q.size(32,32),$:"GUI/cross_icon.png",e:q.a(0,0)},textBox:{size:q.size(100,20),position:q.a(20,72),color:q.o(255,255,255)}}},tab1Clickable:{position:q.a(8,348),size:q.size(60,20),color:B,e:q.a(0,0),children:{text:{label:"Details",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,10),color:q.o(0,0,0)}}},tab2Clickable:{position:q.a(70,348),size:q.size(60,20),color:B,e:q.a(0,0),children:{text:{label:"Value",fontSize:12,
e:q.a(0.5,0.5),position:q.a(32,10),color:q.o(0,0,0)}}}}},control_panel:{e:q.a(0,0),position:q.a(0,368),size:q.size(500,32),children:{header:{label:"Item Editor",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(476,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},Jc:function(){return"itemEditor"},qb:null,k:null,data:null,Ph:null,w:function(a){this._super();this.data={value:[],sprite:{texture:v[0].name,position:{x:0,y:0}},script:null,stackable:!1,name:""};this.Qb=v[0].name;
this.aa=0;this.Ph=this.k=this.qb=null;this.U=q.a(0,0);this.k=a.k;a&&a.data&&(this.data=a.data,this.data.script&&(this.Ph=this.data.script),a.data.value||(this.data.value=[]))},vj:function(a){z({saveitems:a+"",itemdata:this.data})},jj:function(a,c){z({saveitemswhole:c})},ra:function(){this._super();this.b.main_panel.tab1.highlightnode.ta(0);this.b.main_panel.tab1.selectednode.ta(127);for(var a in v)v[a].name==this.data.sprite.texture&&(this.aa=a,this.Qb=v[a].name);this.b.main_panel.tab1.textureName.text.pa(this.Qb);
this.b.main_panel.tab1.tiles.ka(v[this.aa].texture);null!=this.data.script&&(this.b.main_panel.tab1.scriptbtn.r(q.j(0,255,0,255)),this.b.main_panel.tab1.scriptbtn.text.pa(ObjectLists.Ie()[this.data.script].name),this.Ph=this.data.script);for(a=this.data.sprite.position.x;10<=a;)a--,this.U.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.U.y++;a=q.a(32*(this.data.sprite.position.x-this.U.x),32*(this.data.sprite.position.y-this.U.y));this.b.main_panel.tab1.selectednode.l(this.b.main_panel.tab1.tiles.u.x+
a.x,this.b.main_panel.tab1.tiles.u.y-(a.y+32));this.qb=new $(this.b.main_panel.tab1.name_entry,q.size(this.b.main_panel.tab1.name_entry.c().width,this.b.main_panel.tab1.name_entry.c().height),q.a(0,this.b.main_panel.tab1.name_entry.c().height),this.data.name?this.data.name:"",q.j(255,255,255),q.o(0,0,0));this.qb.lb(!0);this.Gp=new $(this.b.main_panel.tab3.textBox,q.size(this.b.main_panel.tab3.textBox.c().width,this.b.main_panel.tab3.textBox.c().height),q.a(0,this.b.main_panel.tab3.textBox.c().height),
"1",q.j(255,255,255),q.o(0,0,0));this.Gp.lb(!0);this.b.main_panel.tab1.stackbtn.r(C);this.b.main_panel.tab1.stackbtn.text.pa("No");!0==this.data.stackable&&(this.b.main_panel.tab1.stackbtn.r(wa),this.b.main_panel.tab1.stackbtn.text.pa("Yes"));this.Yl();this.Nf(1);this.zb()},Nf:function(a){2==a&&(this.b.main_panel.tab1.name_entry.Ra(-1E4),this.b.main_panel.tab3.textBox.Ra(-1E4));1==a&&(this.b.main_panel.tab1.name_entry.Ra(74),this.b.main_panel.tab3.textBox.Ra(-1E4));3==a?(this.b.main_panel.tab2.D(!0),
this.b.main_panel.tab3.textBox.Ra(20),this.b.main_panel.tab3.D(!0),this.$c=a):(this.$c=a,this.b.main_panel.tab1.D(!1),this.b.main_panel.tab2.D(!1),this.b.main_panel.tab3.D(!1),this.b.main_panel.tab1Clickable.r(B),this.b.main_panel.tab2Clickable.r(B),this.b.main_panel["tab"+a].D(!0),this.b.main_panel["tab"+a+"Clickable"].r(q.j(255,255,0,255)))},Aa:function(a){this._super();if(this.k){var c=this.k;!0!=a&&this.k.Td(function(){c.Pd(null)})}},Ci:function(a){a=a.R;this.b.main_panel.tab1.highlightnode.ta(0);
a=this.b.main_panel.tab1.tiles.Ka(a);if(0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.c().width&&a.y<=this.b.main_panel.tab1.tiles.c().height)return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+16,this.b.main_panel.tab1.highlightnode.ta(127),this.b.main_panel.tab1.highlightnode.l(a),!0},Yl:function(){this.b.main_panel.tab2.list.W&&(this.b.main_panel.tab2.list.W.K(),this.b.main_panel.tab2.list.W=null);for(var a=[],c=[],d=this.data.value,e=this,f=0;f<d.length;f++){a[f]=q.F.create();var g=q.da.create(q.j(255,
0,0,127),456,1),h=q.T.create(ObjectLists.Os()[d[f].shopid].name,"Arial",12);h.r(q.o(0,0,0));h.A(q.a(0,0.5));h.l(q.a(4,30));h.mb(q.size(40,0));var k=q.v.Ma(q.ia.g().ma("GUI/trash.png"));k.l(q.a(64,18));k.A(q.a(0,0));k.Ua="Delete";a[f].P(468,60);c.push([k]);a[f].f(g);a[f].f(h);a[f].f(k);g=f;h=q.da.create(q.j(255,255,255,100),148,59);h.l(88,1);a[f].f(h);for(var l=[],k=[],m=0;m<d[f].sell.length;m++){var p=ObjectLists.lc()[d[f].sell[m].id].name;l[m]=q.F.create();l[m].P(148,20);p=q.T.create(p,"Arial",15);
p.r(q.o(0,0,0));p.A(q.a(0,0));p.l(q.a(4,4));p.mb(q.size(65,0));var s=q.v.Ma(q.ia.g().ma("GUI/trash.png"));s.l(q.a(124,(p.c().height+8)/2-10));s.A(q.a(0,0));s.Ua="Delete";a[f].P(148,60);var u=q.da.create(q.j(255,255,255,255),50,20);u.l(q.a(69,(p.c().height+8)/2-10));u.A(q.a(0,0));u.Ua="Edit";var w=q.T.create("x "+d[f].sell[m].amount,"Arial",12);w.l(2,(20-w.c().height)/2);w.r(q.o(0,0,0));w.A(q.a(0,0));u.f(w);w=q.da.create(q.j(0,0,0,127),148,1);l[m].f(w);l[m].f(p);l[m].f(s);l[m].f(u);l[m].P(148,p.c().height+
8);k.push([s,u])}m=q.da.create(q.j(70,200,70,255),40,20);p=q.T.create("+","Arial",15);p.l(20,10);p.A(q.a(0.5,0.5));m.l(q.a(54,0));m.Ua="Add";m.f(p);k.push([m]);l.push(m);h.rc=function(){for(var a=0,c=0;c<l.length;c++)a+=l[c].c().height;return q.size(180,a)};h.mc=function(){return l.length};h.xc=function(a){return l[a].c()};h.wc=function(a){return l[a]};h.Gf=function(a){return l[a].Yb};h.Eb=function(a,c,d){if(2==e.$c)switch(a){case "Add":e.Od=this.W.index;e.jn=!0;Itemeditor2&&!Itemeditor2.ea&&(Itemeditor2=
null);Itemeditor2?(Itemeditor2.Aa(),Itemeditor2.K(),Itemeditor2r=null):(Itemeditor2=new PopupList,Itemeditor2.w({k:e,Pg:new ShopEditor,list:ObjectLists.lc(),name:"Item List"},{Rw:!1,Vw:!1,add:!1}),Itemeditor2.ra(),e.f(Itemeditor2),Itemeditor2.l(e.u));break;case "Edit":e.jn=!0;e.Od=this.W.index;e.hj=c;e.Nf(3);break;case "Delete":e.Od=this.W.index,e.hj=c,e.lS(d)}};h.W=ListView.create(h);h.W.zc(k);h.W.index=g;h.f(h.W);h=q.da.create(q.j(255,255,255,180),148,59);h.l(274,1);a[f].f(h);for(var x=[],k=[],
m=0;m<d[f].buy.length;m++)p=ObjectLists.lc()[d[f].buy[m].id].name,x[m]=q.F.create(),x[m].P(148,20),p=q.T.create(p,"Arial",15),p.r(q.o(0,0,0)),p.A(q.a(0,0)),p.l(q.a(4,4)),p.mb(q.size(65,0)),s=q.v.Ma(q.ia.g().ma("GUI/trash.png")),s.l(q.a(124,(p.c().height+8)/2-10)),s.A(q.a(0,0)),s.Ua="Delete",a[f].P(148,60),u=q.da.create(q.j(255,255,255,255),50,20),u.l(q.a(69,(p.c().height+8)/2-10)),u.A(q.a(0,0)),u.Ua="Edit",w=q.T.create("x "+d[f].buy[m].amount,"Arial",12),w.l(2,(20-w.c().height)/2),w.r(q.o(0,0,0)),
w.A(q.a(0,0)),u.f(w),w=q.da.create(q.j(0,0,0,127),148,1),x[m].f(w),x[m].f(p),x[m].f(s),x[m].f(u),x[m].P(148,p.c().height+8),k.push([s,u]);m=q.da.create(q.j(70,200,70,255),40,20);p=q.T.create("+","Arial",15);p.l(20,10);p.A(q.a(0.5,0.5));m.l(q.a(54,0));m.Ua="Add";m.f(p);k.push([m]);x.push(m);h.rc=function(){for(var a=0,c=0;c<x.length;c++)a+=x[c].c().height;return q.size(180,a)};h.mc=function(){return x.length};h.xc=function(a){return x[a].c()};h.wc=function(a){return x[a]};h.Gf=function(a){return x[a].Yb};
h.Eb=function(a,c,d){if(2==e.$c)switch(a){case "Add":e.Od=this.W.index;e.jn=!1;Itemeditor2&&!Itemeditor2.ea&&(Itemeditor2=null);Itemeditor2?(Itemeditor2.Aa(),Itemeditor2.K(),Itemeditor2r=null):(Itemeditor2=new PopupList,Itemeditor2.w({k:e,Pg:new ShopEditor,list:ObjectLists.lc(),name:"Item List"},{Rw:!1,Vw:!1,add:!1}),Itemeditor2.ra(),e.f(Itemeditor2));break;case "Edit":e.jn=!1;e.Od=this.W.index;e.hj=c;e.Nf(3);break;case "Delete":e.Od=this.W.index,e.hj=c,e.gS(d)}};h.W=ListView.create(h);h.W.index=
g;h.W.zc(k);h.f(h.W)}d=q.da.create(q.j(70,200,70,255),90,26);f=q.T.create("+","Arial",20);f.l(45,13);f.A(q.a(0.5,0.5));d.l(q.a(185,0));d.Ua="Add";d.f(f);c.push([d]);a.push(d);this.b.main_panel.tab2.list.rc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(468,c)};this.b.main_panel.tab2.list.mc=function(){return a.length};this.b.main_panel.tab2.list.xc=function(c){return a[c].c()};this.b.main_panel.tab2.list.wc=function(c){return a[c]};this.b.main_panel.tab2.list.Gf=function(c){return a[c].Yb};
this.b.main_panel.tab2.list.Eb=function(a,c,d){if(2==e.$c)switch(a){case "Add":if(Shopeditor)Shopeditor.Aa(),Shopeditor.K(),Shopeditor=null;else{Shopeditor=new PopupList;a=ObjectLists.Os();c=[];for(var f in a)c.push({name:a[f].name});for(f=0;f<e.data.value.length;f++)c[e.data.value[f].shopid]={};0<c.length&&(Shopeditor.w({k:e,Pg:new ShopEditor,list:c,name:"Shop List"}),Shopeditor.ra(),e.f(Shopeditor))}break;case "Delete":e.Od=c,e.nS(d)}};this.b.main_panel.tab2.list.W=ListView.create(this.b.main_panel.tab2.list);
this.b.main_panel.tab2.list.W.zc(c);this.b.main_panel.tab2.list.f(this.b.main_panel.tab2.list.W)},bR:function(a){this.data.value.push({shopid:a,sell:[],buy:[]});this.Yl()},lS:function(a){this.ea.f(DropDownList.Nc(this,this.mS,["Delete","Cancel"],a.R))},mS:function(a){0==a&&(this.k.data.value[this.k.Od].sell.splice(this.k.hj,1),this.k.Yl());this.k.Od=null;this.k.hj=null},nS:function(a){this.ea.f(DropDownList.Nc(this,this.oS,["Delete","Cancel"],a.R))},oS:function(a){0==a&&(this.k.data.value.splice(this.k.Od,
1),this.k.Yl());this.k.Od=null},gS:function(a){this.ea.f(DropDownList.Nc(this,this.hS,["Delete","Cancel"],a.R))},hS:function(a){0==a&&(this.k.data.value[this.k.Od].buy.splice(this.k.hj,1),this.k.Yl());this.k.Od=null;this.k.hj=null},aR:function(a,c){this.data.value[a].sell.push({id:c,amount:1});this.Yl()},ZQ:function(a,c){this.data.value[a].buy.push({id:c,amount:1});this.Yl()},zb:function(){this.gc(this.zb);this.b.main_panel.tab1.tiles.ja()&&!0==this.b.main_panel.tab1.tiles.ja().Lc&&(this.Sc(this.zb),
this.b.main_panel.tab1.tiles.gb(q.rect(Math.floor(32*this.U.x),Math.floor(32*this.U.y),320>v[this.aa].texture.c().width?v[this.aa].texture.c().width:320,256>v[this.aa].texture.c().height?v[this.aa].texture.c().height:256)))},xb:function(a){if(this._super(a))return!0;this.he=null;a=a.R;var c=this.b.main_panel.Ka(q.a(a.x,a.y));if(H(this.b.main_panel.tab1Clickable,c))return this.Nf(1),!0;if(H(this.b.main_panel.tab2Clickable,c))return this.Nf(2),!0;if(3==this.$c){if(H(this.b.main_panel.tab3.okbtn,c)){if(null==
this.Gp.ba()||""==this.Gp.ba()||0>=this.Gp.ba())return!0;!0==this.jn?this.data.value[this.Od].sell[this.hj].amount=this.Gp.ba():this.data.value[this.Od].buy[this.hj].amount=this.Gp.ba();this.Nf(2);this.Yl();return!0}if(H(this.b.main_panel.tab3.cancelbtn,c))return this.Nf(2),!0}if(1==this.$c){if(H(this.b.main_panel.tab1.okbtn,c)){if(null==this.qb.ba()||""==this.qb.ba())return!0;this.Tg=!0;this.data.name=this.qb.ba();this.data.script=this.Ph;this.k.Pd(this.data);return!0}H(this.b.main_panel.tab1.scriptbtn,
c)&&(Scripteditor?(Scripteditor.Aa(),Scripteditor.K(),Scripteditor=null):(Scripteditor=new PopupList,Scripteditor.w({k:this,Pg:new ScriptEditor,list:ObjectLists.Ie(),name:"Script List"}),Scripteditor.ra(),this.f(Scripteditor)));if(H(this.b.main_panel.tab1.cancelbtn,c)){this.Tg=!0;var d=this.k;this.k.Td(function(){d.Pd(null)});return!0}if(H(this.b.main_panel.tab1.leftbtn,c))return 264<v[this.aa].texture.c().width&&0<this.U.x&&(this.U.x--,this.zb()),!0;if(H(this.b.main_panel.tab1.rightbtn,c))return 320<
v[this.aa].texture.c().width&&this.U.x<(v[this.aa].texture.c().width-320)/32&&(this.U.x++,this.zb()),!0;if(H(this.b.main_panel.tab1.upbtn,c))return 320<v[this.aa].texture.c().height&&0<this.U.y&&(this.U.y--,this.zb()),!0;if(H(this.b.main_panel.tab1.downbtn,c))return 320<v[this.aa].texture.c().height&&this.U.y<(v[this.aa].texture.c().height-320)/32&&(this.U.y++,this.zb()),!0;if(H(this.b.main_panel.tab1.texturerightbtn,c))return this.Xn(),!0;if(H(this.b.main_panel.tab1.textureleftbtn,c))return this.Yn(),
!0;if(H(this.b.main_panel.tab1.stackbtn,c))return this.uE(),!0;c=this.b.main_panel.tab1.tiles.Ka(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.c().width&&c.y<=this.b.main_panel.tab1.tiles.c().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+16;this.b.main_panel.tab1.selectednode.ta(0);if(this.b.main_panel.tab1.selectednode.u.H!=c.x||this.b.main_panel.tab1.selectednode.u.S!=c.y)this.b.main_panel.tab1.selectednode.ta(127),this.b.main_panel.tab1.selectednode.l(c);a=q.a((this.b.main_panel.tab1.selectednode.u.H-
16)/32+this.U.x,8-(this.b.main_panel.tab1.selectednode.u.S-16)/32+this.U.y-1);this.data.sprite.position=a;return!0}}return!1},uE:function(){this.data.stackable=!this.data.stackable;this.b.main_panel.tab1.stackbtn.r(C);this.b.main_panel.tab1.stackbtn.text.pa("No");!0==this.data.stackable&&(this.b.main_panel.tab1.stackbtn.r(wa),this.b.main_panel.tab1.stackbtn.text.pa("Yes"))},Xn:function(){this.aa>=v.length-1&&(this.aa=-1);this.aa++;this.b.main_panel.tab1.tiles.ka(v[this.aa].texture);this.Qb=v[this.aa].name;
this.b.main_panel.tab1.textureName.text.pa(this.Qb);this.data.sprite.texture=this.Qb;this.U=q.a(0,0);this.zb()},Yn:function(){0>=this.aa&&(this.aa=v.length);this.aa--;this.b.main_panel.tab1.tiles.ka(v[this.aa].texture);this.Qb=v[this.aa].name;this.b.main_panel.tab1.textureName.text.pa(this.Qb);this.U=q.a(0,0);this.zb()}});Settingseditor=null;
SettingsEditor=Popup.extend({data:null,J:null,cb:null,Jc:function(){return"Settings Editor"},Aa:function(){this._super()},w:function(){this._super();this.data=J(G)},vj:function(a){z({savequests:a+"",questdata:this.data})},jj:function(a,c){z({savequestswhole:c})},ra:function(){this._super();this.yb()},yb:function(){this.J&&this.J.nc();var a=[],c=[],d=q.ia.g(),e=0,f;for(f in this.data){if("ISSECTION"!=this.data[f]){a[e]=q.F.create();a[e].P(324,32);var g=q.T.create(f,"Arial",18);g.A(q.a(0,0));g.l(q.a(4,
0));g.mb(q.size(246,0));g.r(q.o(100,0,0));a[e].f(g);a[e].P(324,g.c().height+4);g=[];c.push(g);e++}a[e]=q.F.create();a[e].P(324,32);var h=q.da.create(q.j(0,0,0,127),316,1);h.l(q.a(4,0));if("ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]){var k=q.v.Ma(d.ma("GUI/edit.png"));k.l(q.a(300,0));k.A(q.a(0,0))}if("ISSECTION"==this.data[f]){var l=q.T.create(f,"Arial",22);l.r(q.o(255,0,0))}else l=q.T.create(this.data[f],"Arial",15),l.r(q.o(0,0,0));l.A(q.a(0,0));l.l(q.a(4,4));l.mb(q.size(246,0));g=[];"ISSECTION"!=
this.data[f]&&"ISYESNO"!=this.data[f]&&(k.Ua="Edit",g=[],g.push(k));c.push(g);a[e].f(h);"ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]&&a[e].f(k);a[e].f(l);"ISSECTION"==this.data[f]?a[e].P(324,l.c().height+12):a[e].P(324,l.c().height+8);"ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]&&k.Ac((l.c().height+8)/2-10);e++}this.J=this.b.main_panel.list;var m=this;this.J.rc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(324,c)};this.J.mc=function(){return a.length};this.J.xc=
function(c){return a[c].c()};this.J.wc=function(c){return a[c]};this.J.Eb=function(a,c,d){m.Ka(d.R);if(!0!=m.Of)switch(a){case "Edit":a=0;d="";for(var e in m.data){if(a==c){d=e;break}a++;if("ISSECTION"!=m.data[e]){if(a==c){d=e;break}a++}}m.cb=d;m.wC(d)}};this.J.W=ListView.create(this.J);this.J.W.zc(c);this.J.f(this.J.W)},qc:function(){return{panels:{position:q.a(300,200),children:{background_image:{$:"GUI/list_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(365,328),children:{savebtn:{size:q.size(64,
32),color:q.j(0,255,0,255),position:q.a(241,292),e:q.a(0,0),children:{content:{label:"Save",color:q.o(0,0,0),position:q.a(32,16),e:q.a(0.5,0.5)}}},list:{size:q.size(324,284),color:q.j(0,200,200,200),position:q.a(0,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Settings Editor",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},lf:null,Fa:null,wC:function(a){null!=
this.Fa&&(this.Fa.nc(),this.lf=null,this.Fa.K(),this.cb=this.Fa=null);this.Fa=q.da.create(q.j(255,255,255,200),200,200);this.Fa.l(q.a((this.b.main_panel.c().width-200)/2,(this.b.main_panel.c().height-200)/2));this.lf=new $(this.Fa,q.size(190,150),q.a(0,this.Fa.c().height),this.data[a],q.j(100,100,100),q.o(255,255,255),!0);this.lf.lb(!0);this.lf.KK(!0);a=q.da.create(q.j(0,200,255,255),64,32);a.l(q.a(14,9));var c=q.T.create("OK","Arial",16);c.r(q.o(0,0,0));c.l(32,16);c.A(q.a(0.5,0.5));a.f(c);c=q.da.create(q.j(200,
0,0,255),64,32);c.l(q.a(120,9));var d=q.T.create("Cancel","Arial",16);d.r(q.o(0,0,0));d.l(32,16);d.A(q.a(0.5,0.5));c.f(d);this.b.main_panel.f(this.Fa);this.Fa.f(a);this.Fa.oD=a;this.Fa.f(c);this.Fa.cancel=c},xb:function(a){if(this._super(a))return!0;this.he=null;a=a.R;if(null!=this.Fa){a=this.Fa.Ka(a);if(H(this.Fa.oD,a))return this.data[this.cb]=this.lf.ba(),this.Fa.nc(),this.lf=null,this.Fa.K(),this.cb=this.Fa=null,this.yb(),!0;H(this.Fa.cancel,a)&&(this.Fa.nc(),this.lf=null,this.Fa.K(),this.cb=
this.Fa=null);return!0}a=this.b.main_panel.Ka(a);return H(this.b.main_panel.savebtn,a)?(G=J(this.data),console.log(G),console.log(this.data),z({savesettings:this.data}),W.zE(this.data,Date.now()),!0):H(this.b.main_panel,a)?!0:!1}});Questeditor=null;
QuestEditor=Popup.extend({data:null,J:null,k:null,cb:null,Jc:function(){return"Quest Editor"},Aa:function(a){this._super();if(this.k){var c=this.k;!0!=a&&this.k.Td(function(){c.Pd(null)})}},w:function(a){this._super();this.data={name:"",objectiveList:["Unstarted","Initial Objective. Click edit to change this first objective. Click the '+' to add another object. You cannot delete every objective (you need at least one)","Finished"]};this.k=a.k;a&&a.data&&(this.data=a.data)},vj:function(a){z({savequests:a+"",
questdata:this.data})},jj:function(a,c){z({savequestswhole:c})},ra:function(){this._super();this.yb();this.qb=new $(this.b.main_panel.nameBox,q.size(this.b.main_panel.nameBox.c().width,this.b.main_panel.nameBox.c().height),q.a(0,this.b.main_panel.nameBox.c().height),this.data.name?this.data.name:"",q.j(255,255,255,255),q.o(0,0,0));this.qb.lb(!0)},yb:function(){this.J&&this.J.nc();var a=[],c=[],d=q.ia.g();this.cI={};var e;console.log(this.data.objectiveList);for(e=0;e<this.data.objectiveList.length-
1;e++)if(a[e]=q.F.create(),a[e].P(324,32),null==this.data.objectiveList[e])this.data.objectiveList.splice(e,1);else{var f=q.v.create();f.gb(q.rect(0,0,316,1));f.r(q.j(0,0,0,127));f.A(q.a(0,0));f.l(q.a(4,0));var g=q.v.Ma(d.ma("GUI/edit.png"));g.l(q.a(272,0));g.A(q.a(0,0));var h=q.v.Ma(d.ma("GUI/trash.png"));h.l(q.a(300,0));h.A(q.a(0,0));var k=q.T.create(this.data.objectiveList[e],"Arial",15);k.A(q.a(0,0));k.l(q.a(4,4));k.mb(q.size(246,0));k.r(q.o(0,0,0));if(0<e){g.Ua="Edit";var l=[];l.push(g)}1<e&&
(h.Ua="Delete",l.push(h));c.push(l);a[e].f(f);0<e&&a[e].f(g);1<e&&a[e].f(h);a[e].f(k);a[e].P(324,k.c().height+8);g.Ac((k.c().height+8)/2-10);h.Ac((k.c().height+8)/2-10)}d=q.v.create();d.gb(q.rect(0,0,90,26));d.r(q.j(70,200,70,255));d.A(q.a(0,0));f=q.T.create("+","Arial",20);f.l(45,13);f.A(q.a(0.5,0.5));d.l(q.a(120,0));d.Ua="Add";d.f(f);c.push([d]);a.push(d);a[e+1]=q.F.create();a[e+1].P(324,32);f=q.v.create();f.gb(q.rect(0,0,316,1));f.r(q.j(0,0,0,127));f.A(q.a(0,0));f.l(q.a(4,0));k=q.T.create(this.data.objectiveList[e],
"Arial",15);k.A(q.a(0,0));k.l(q.a(4,4));k.mb(q.size(246,0));k.r(q.o(0,0,0));c.push([]);a[e+1].f(f);a[e+1].f(k);a[e+1].P(324,k.c().height+8);g.Ac((k.c().height+8)/2-10);h.Ac((k.c().height+8)/2-10);delete e;this.J=this.b.main_panel.list;var m=this;this.J.rc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(324,c)};this.J.mc=function(){return a.length};this.J.xc=function(c){return a[c].c()};this.J.wc=function(c){return a[c]};this.J.Eb=function(a,c,d){m.Ka(d.R);if(!0!=m.Of)switch(a){case "Delete":null!=
m.Fa&&(m.Fa.nc(),m.lf=null,m.Fa.K(),m.Fa=null,m.cb=null);m.ea.f(DropDownList.Nc(m,m.Gs,["Cancel","Delete"],d.R));m.cb=c;break;case "Edit":m.cb=c;m.wC(c);break;case "Add":m.$Q()}};this.J.W=ListView.create(this.J);this.J.W.zc(c);this.J.f(this.J.W)},qc:function(){return{panels:{position:q.a(300,200),children:{background_image:{$:"GUI/list_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(365,328),children:{nameLabel:{label:"Quest Name",color:q.o(0,0,0),position:q.a(8,312),e:q.a(0,0)},nameBox:{size:q.size(150,
32),color:q.j(255,255,255,255),position:q.a(8,277),e:q.a(0,0)},savebtn:{size:q.size(64,32),color:q.j(0,255,0,255),position:q.a(175,277),e:q.a(0,0),children:{content:{label:"Save",color:q.o(0,0,0),position:q.a(32,16),e:q.a(0.5,0.5)}}},exitbtn:{size:q.size(64,32),color:q.j(255,0,0,255),position:q.a(253,277),e:q.a(0,0),children:{content:{label:"Exit",color:q.o(0,0,0),position:q.a(32,16),e:q.a(0.5,0.5)}}},objectivesLabel:{label:"Objectives",color:q.o(0,0,0),position:q.a(8,254),e:q.a(0,0)},list:{size:q.size(324,
250),color:q.j(0,200,200,200),position:q.a(0,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Quest Editor",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},Gs:function(a){switch(a){case 1:this.k.cb&&(this.k.data.objectiveList.splice(this.k.cb,1),this.k.yb(),this.k.cb=null)}},$Q:function(){this.data.objectiveList.splice(this.data.objectiveList.length-1,0,"Blank Objective");
this.yb()},lf:null,Fa:null,wC:function(a){null!=this.Fa&&(this.Fa.nc(),this.lf=null,this.Fa.K(),this.cb=this.Fa=null);this.Fa=q.v.create();this.Fa.gb(q.rect(0,0,200,200));this.Fa.r(q.j(255,255,255,200));this.Fa.A(q.a(0,0));this.Fa.l(q.a((this.b.main_panel.c().width-200)/2,(this.b.main_panel.c().height-200)/2));this.lf=new $(this.Fa,q.size(190,150),q.a(0,this.Fa.c().height),this.data.objectiveList[a],q.j(100,100,100),q.o(255,255,255),!0);this.lf.lb(!0);this.lf.KK(!0);a=q.da.create(q.j(0,200,255,255),
64,32);a.l(q.a(14,9));var c=q.T.create("OK","Arial",16);c.r(q.o(0,0,0));c.l(32,16);c.A(q.a(0.5,0.5));a.f(c);c=q.da.create(q.j(200,0,0,255),64,32);c.l(q.a(120,9));var d=q.T.create("Cancel","Arial",16);d.r(q.o(0,0,0));d.l(32,16);d.A(q.a(0.5,0.5));c.f(d);this.b.main_panel.f(this.Fa);this.Fa.f(a);this.Fa.oD=a;this.Fa.f(c);this.Fa.cancel=c},xb:function(a){if(this._super(a))return!0;a=q.a(a.R.x,a.R.y);if(null!=this.Fa){a=this.Fa.Ka(a);if(H(this.Fa.oD,a))return this.data.objectiveList[this.cb]=this.lf.ba(),
this.Fa.nc(),this.lf=null,this.Fa.K(),this.cb=this.Fa=null,this.yb(),!0;H(this.Fa.cancel,a)&&(this.Fa.nc(),this.lf=null,this.Fa.K(),this.cb=this.Fa=null);return!0}a=this.b.main_panel.Ka(a);if(H(this.b.main_panel.savebtn,a)){if(null==this.qb.ba()||""==this.qb.ba())return!0;this.Tg=!0;this.data.name=this.qb.ba();this.k.Pd(this.data);return!0}if(H(this.b.main_panel.exitbtn,a)){this.Tg=!0;var c=this.k;this.k.Td(function(){c.Pd(null)});return!0}return H(this.b.main_panel,a)?!0:!1}});Mapeditor=null;
MapEditor=Popup.extend({map:null,U:q.a(0,0),kj:"tiles",HJ:null,Qw:"ground1",Qb:v[0].name,aa:0,qc:function(){return{panels:{position:q.a(300,10),children:{main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(420,400),color:q.j(0,0,100,120),children:{tab1:{children:{tiles:{e:q.a(0,1),position:q.a(16,336),$:v[0].name},scriptbtn:{position:q.a(360,360),size:q.size(128,26),color:B,e:q.a(0,0),children:{text:{label:"Script",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.o(0,0,0)}}},textureleftbtn:{position:q.a(200,
360),size:q.size(16,32),$:"GUI/texture_change_left.png",e:q.a(0,0)},texturerightbtn:{position:q.a(310,360),size:q.size(16,32),$:"GUI/texture_change_right.png",e:q.a(0,0)},textureName:{position:q.a(214,360),size:q.size(96,32),$:"GUI/texture_change_middle.png",e:q.a(0,0),children:{text:{label:v[0].name,fontSize:12,e:q.a(0.5,0.5),position:q.a(48,16),color:q.o(0,0,0)}}},deletebtn:{position:q.a(360,308),size:q.size(60,32),color:B,e:q.a(0,0),children:{text:{label:"Erase",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,
16),color:q.o(0,0,0)}}},leftbtn:{position:q.a(0,16),size:q.size(16,320),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"\x3c",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,160),color:q.o(255,255,255)}}},rightbtn:{position:q.a(336,16),size:q.size(16,320),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"\x3e",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,160),color:q.o(255,255,255)}}},upbtn:{position:q.a(16,336),size:q.size(320,16),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"^",
fontSize:12,e:q.a(0.5,0.5),position:q.a(160,8),color:q.o(255,255,255)}}},downbtn:{position:q.a(16,0),size:q.size(320,16),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"v",fontSize:12,e:q.a(0.5,0.5),position:q.a(160,8),color:q.o(255,255,255)}}},fillbtn:{position:q.a(428,308),size:q.size(60,32),color:B,e:q.a(0,0),children:{text:{label:"Fill",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,16),color:q.o(0,0,0)}}},ground1btn:{position:q.a(360,278),size:q.size(128,26),color:wa,e:q.a(0,0),children:{text:{label:"Ground 1",
fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.o(0,0,0)}}},ground2btn:{position:q.a(360,248),size:q.size(128,26),color:B,e:q.a(0,0),children:{text:{label:"Ground 2",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.o(0,0,0)}}},ground3btn:{position:q.a(360,218),size:q.size(128,26),color:B,e:q.a(0,0),children:{text:{label:"Ground 3",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.o(0,0,0)}}},mask1btn:{position:q.a(360,188),size:q.size(128,26),color:B,e:q.a(0,0),children:{text:{label:"Mask 1",
fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.o(0,0,0)}}},mask2btn:{position:q.a(360,158),size:q.size(128,26),color:B,e:q.a(0,0),children:{text:{label:"Mask 2",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.o(0,0,0)}}},mask3btn:{position:q.a(360,128),size:q.size(128,26),color:B,e:q.a(0,0),children:{text:{label:"Mask 3",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.o(0,0,0)}}},fringe1btn:{position:q.a(360,98),size:q.size(128,26),color:B,e:q.a(0,0),children:{text:{label:"Fringe 1",
fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.o(0,0,0)}}},fringe2btn:{position:q.a(360,68),size:q.size(128,26),color:B,e:q.a(0,0),children:{text:{label:"Fringe 2",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.o(0,0,0)}}},fringe3btn:{position:q.a(360,8),size:q.size(128,26),color:B,e:q.a(0,0),children:{text:{label:"Fringe 3",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.o(0,0,0)}}},highlightnode:{e:q.a(0,0),position:q.a(0,0),size:q.size(M,M),color:q.j(255,100,100,255)},selectednode:{e:q.a(0,
0),position:q.a(0,0),size:q.size(M,M),color:q.j(100,255,100,255)}}},tab2:{children:{saveBack:{position:q.a(0,78),size:q.size(200,60),color:q.j(0,255,0,100),e:q.a(0,0)},deleteback:{position:q.a(0,138),size:q.size(200,60),color:q.j(255,0,0,100),e:q.a(0,0)},mapnumsback:{position:q.a(0,198),size:q.size(200,162),color:q.j(0,0,0,170),e:q.a(0,0)},mapUp_text:{label:"Map Up",fontSize:10,e:q.a(0.5,0),position:q.a(100,344)},mapUp_entry:{size:q.size(60,32),position:q.a(70,312)},mapDown_text:{label:"Map Down",
fontSize:10,e:q.a(0.5,0),position:q.a(100,232)},mapDown_entry:{size:q.size(60,32),position:q.a(70,200)},mapLeft_text:{label:"Map Left",fontSize:10,e:q.a(0.5,0),position:q.a(38,290)},mapLeft_entry:{size:q.size(60,32),position:q.a(8,258)},mapRight_text:{label:"Map Right",fontSize:10,e:q.a(0.5,0),position:q.a(162,290)},mapRight_entry:{size:q.size(60,32),position:q.a(132,258)},mapHeight_text:{label:"Map Height",fontSize:10,e:q.a(0.5,0),position:q.a(162,122)},mapHeight_entry:{size:q.size(60,32),position:q.a(128,
90),color:q.o(255,255,255)},mapWidth_text:{label:"Map Width",fontSize:10,e:q.a(0,0),position:q.a(10,122)},mapWidth_entry:{size:q.size(60,32),position:q.a(10,90),color:q.o(255,255,255)},this_map:{position:q.a(70,248),size:q.size(60,60),color:B,e:q.a(0,0),children:{text:{label:"THIS MAP\n#"+V.mf(),fontSize:12,e:q.a(0.5,0.5),position:q.a(30,30),color:q.o(0,0,0)}}},clearbtn:{position:q.a(70,150),size:q.size(60,32),color:B,e:q.a(0,0),children:{text:{label:"Clear",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,
16),color:q.o(0,0,0)}}},clear_text:{label:"Clear Map: You sure?",fontSize:14,e:q.a(0.5,0),position:q.a(100,182)},clearbtnNo:{position:q.a(10,150),size:q.size(60,32),color:B,e:q.a(0,0),children:{text:{label:"NO",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,16),color:q.o(0,0,0)}}},clearbtnYes:{position:q.a(130,150),size:q.size(60,32),color:B,e:q.a(0,0),children:{text:{label:"YES",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,16),color:q.o(0,0,0)}}},savebtn:{position:q.a(70,16),size:q.size(60,32),color:B,
e:q.a(0,0),children:{text:{label:"Save",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,16),color:q.o(0,0,0)}}},save_text:{label:"Save Map: You sure?",fontSize:14,e:q.a(0.5,0),position:q.a(100,52)},savebtnNo:{position:q.a(10,16),size:q.size(60,32),color:B,e:q.a(0,0),children:{text:{label:"NO",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,16),color:q.o(0,0,0)}}},savebtnYes:{position:q.a(130,16),size:q.size(60,32),color:B,e:q.a(0,0),children:{text:{label:"YES",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,16),
color:q.o(0,0,0)}}}}},tab1Clickable:{position:q.a(0,380),size:q.size(60,20),color:B,e:q.a(0,0),children:{text:{label:"Editor",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,10),color:q.o(0,0,0)}}},tab2Clickable:{position:q.a(62,380),size:q.size(60,20),color:B,e:q.a(0,0),children:{text:{label:"Settings",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,10),color:q.o(0,0,0)}}}}},control_panel:{e:q.a(0,0),position:q.a(0,400),size:q.size(420,32),color:q.j(255,0,0,200),children:{header:{label:"Map Editor - Map #"+
V.mf(),fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(391,3),size:q.size(26,26),e:q.a(0,0),color:q.j(255,255,255,200),children:{content:{label:"X",fontSize:20,color:q.o(0,0,0),e:q.a(0.5,0.5),position:q.a(13,13)}}}}}}}}},Jc:function(){return"MapEditor"},U:null,tx:null,qx:null,rx:null,sx:null,lD:null,kD:null,zj:null,$c:0,Ph:null,w:function(a){this._super();this.map=a;this.U=q.a(0,0);this.zj=[null,496,200]},ra:function(){this._super();this.b.main_panel.tab1.highlightnode.ta(0);this.b.main_panel.tab1.selectednode.ta(0);
this.tx=new $(this.b.main_panel.tab2.mapUp_entry,q.size(this.b.main_panel.tab2.mapUp_entry.c().width,this.b.main_panel.tab2.mapUp_entry.c().height),q.a(0,this.b.main_panel.tab2.mapUp_entry.c().height),V.bJ()?V.IC():"",q.j(100,100,100),q.o(255,255,255));this.tx.lb(!0);this.tx.Qc(!0);this.qx=new $(this.b.main_panel.tab2.mapDown_entry,q.size(this.b.main_panel.tab2.mapDown_entry.c().width,this.b.main_panel.tab2.mapDown_entry.c().height),q.a(0,this.b.main_panel.tab2.mapDown_entry.c().height),V.ZI()?V.FC():
"",q.j(100,100,100),q.o(255,255,255));this.qx.lb(!0);this.qx.Qc(!0);this.rx=new $(this.b.main_panel.tab2.mapLeft_entry,q.size(this.b.main_panel.tab2.mapLeft_entry.c().width,this.b.main_panel.tab2.mapLeft_entry.c().height),q.a(0,this.b.main_panel.tab2.mapLeft_entry.c().height),V.$I()?V.GC():"",q.j(100,100,100),q.o(255,255,255));this.rx.lb(!0);this.rx.Qc(!0);this.sx=new $(this.b.main_panel.tab2.mapRight_entry,q.size(this.b.main_panel.tab2.mapRight_entry.c().width,this.b.main_panel.tab2.mapRight_entry.c().height),
q.a(0,this.b.main_panel.tab2.mapRight_entry.c().height),V.aJ()?V.HC():"",q.j(100,100,100),q.o(255,255,255));this.sx.lb(!0);this.sx.Qc(!0);this.lD=new $(this.b.main_panel.tab2.mapWidth_entry,q.size(this.b.main_panel.tab2.mapWidth_entry.c().width,this.b.main_panel.tab2.mapWidth_entry.c().height),q.a(0,this.b.main_panel.tab2.mapWidth_entry.c().height),V.HI()?V.HI():36,q.j(255,255,255),q.o(0,0,0));this.lD.lb(!0);this.kD=new $(this.b.main_panel.tab2.mapHeight_entry,q.size(this.b.main_panel.tab2.mapHeight_entry.c().width,
this.b.main_panel.tab2.mapHeight_entry.c().height),q.a(0,this.b.main_panel.tab2.mapHeight_entry.c().height),V.GI()?V.GI():36,q.j(255,255,255),q.o(0,0,0));this.kD.lb(!0);this.Xx(!1);this.Yx(!1);this.Nf(1);this.zb();V.jL(!0)},Sn:function(a){Scripteditor&&(Scripteditor.Aa(),this.Td(function(){Scripteditor.K();Scripteditor=null}),this.Ph=a,this.hc(!0))},Aa:function(){this._super();V.jL(!1)},Ci:function(a){a=a.R;if(1==this.$c&&(this.b.main_panel.tab1.highlightnode.ta(0),a=this.b.main_panel.tab1.tiles.Ka(a),
0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.c().width&&a.y<=this.b.main_panel.tab1.tiles.c().height))return a.x=a.x-a.x%M+16,a.y=a.y-a.y%M+16,this.b.main_panel.tab1.highlightnode.ta(127),this.b.main_panel.tab1.highlightnode.l(a),!0},Nf:function(a){if(a!=this.$c){this.b.main_panel.P(this.zj[a],this.b.main_panel.c().height);this.b.control_panel.P(this.zj[a],this.b.control_panel.c().height);if(2==this.$c||0==this.$c)this.b.main_panel.tab2.mapUp_entry.Ra(this.b.main_panel.tab2.mapUp_entry.u.H-1E3),
this.b.main_panel.tab2.mapLeft_entry.Ra(this.b.main_panel.tab2.mapLeft_entry.u.H-1E3),this.b.main_panel.tab2.mapDown_entry.Ra(this.b.main_panel.tab2.mapDown_entry.u.H-1E3),this.b.main_panel.tab2.mapRight_entry.Ra(this.b.main_panel.tab2.mapRight_entry.u.H-1E3),this.b.main_panel.tab2.mapWidth_entry.Ra(this.b.main_panel.tab2.mapWidth_entry.u.H-1E3),this.b.main_panel.tab2.mapHeight_entry.Ra(this.b.main_panel.tab2.mapHeight_entry.u.H-1E3);1!=this.$c||"erasing"!=this.kj&&"tiles"!=this.kj||(this.kj="blocking");
this.$c=a;this.b.main_panel.tab1.D(!1);this.b.main_panel.tab2.D(!1);this.b.main_panel.tab1Clickable.r(B);this.b.main_panel.tab2Clickable.r(B);this.b.main_panel["tab"+a].D(!0);this.b.main_panel["tab"+a+"Clickable"].r(q.j(255,255,0,255));2==a&&(this.b.main_panel.tab2.mapUp_entry.Ra(this.b.main_panel.tab2.mapUp_entry.u.H+1E3),this.b.main_panel.tab2.mapLeft_entry.Ra(this.b.main_panel.tab2.mapLeft_entry.u.H+1E3),this.b.main_panel.tab2.mapDown_entry.Ra(this.b.main_panel.tab2.mapDown_entry.u.H+1E3),this.b.main_panel.tab2.mapRight_entry.Ra(this.b.main_panel.tab2.mapRight_entry.u.H+
1E3),this.b.main_panel.tab2.mapWidth_entry.Ra(this.b.main_panel.tab2.mapWidth_entry.u.H+1E3),this.b.main_panel.tab2.mapHeight_entry.Ra(this.b.main_panel.tab2.mapHeight_entry.u.H+1E3));this.b.control_panel.exitBtn.Ra(this.zj[a]-29)}},zb:function(){this.gc(this.zb);this.b.main_panel.tab1.tiles.ja()&&!0==this.b.main_panel.tab1.tiles.ja().Lc&&(this.Sc(this.zb),this.b.main_panel.tab1.tiles.gb(q.rect(Math.floor(M*this.U.x),Math.floor(M*this.U.y),320>v[this.aa].texture.c().width?v[this.aa].texture.c().width:
320,320>v[this.aa].texture.c().height?v[this.aa].texture.c().height:320)))},xb:function(a){if(this._super(a))return!0;this.he=null;a=a.R;var c=this.b.main_panel.Ka(a);if(H(this.b.main_panel.tab1Clickable,c))return this.Nf(1),!0;if(H(this.b.main_panel.tab2Clickable,c))return this.Nf(2),!0;if(1==this.$c){if(H(this.b.main_panel.tab1.scriptbtn,c))return this.kj="script"==this.kj?"tiles":"script","script"==this.kj&&(null==Scripteditor||Scripteditor.ea||(Scripteditor=null),Scripteditor&&(Scripteditor.Aa(),
Scripteditor.K(),Scripteditor=null),Scripteditor=new ScriptingList,Scripteditor.w({k:this,Pg:new ScriptEditor,list:ObjectLists.Ie(),name:"Script List"}),Scripteditor.ra(),this.ea.f(Scripteditor),this.hc(!1),this.b.main_panel.tab1.scriptbtn.r(C)),!0;if(H(this.b.main_panel.tab1.leftbtn,c))return 320<v[this.aa].texture.c().width&&0<this.U.x&&(this.U.x--,this.zb()),!0;if(H(this.b.main_panel.tab1.rightbtn,c))return 320<v[this.aa].texture.c().width&&this.U.x<(v[this.aa].texture.c().width-320)/M&&(this.U.x++,
this.zb()),!0;if(H(this.b.main_panel.tab1.upbtn,c))return 320<v[this.aa].texture.c().height&&0<this.U.y&&(this.U.y--,this.zb()),!0;if(H(this.b.main_panel.tab1.downbtn,c))return 320<v[this.aa].texture.c().height&&this.U.y<(v[this.aa].texture.c().height-320)/M&&(this.U.y++,this.zb()),!0;if(H(this.b.main_panel.tab1.ground1btn,c))return this.Bk("ground1"),!0;if(H(this.b.main_panel.tab1.ground2btn,c))return this.Bk("ground2"),!0;if(H(this.b.main_panel.tab1.ground3btn,c))return this.Bk("ground3"),!0;if(H(this.b.main_panel.tab1.mask1btn,
c))return this.Bk("mask1"),!0;if(H(this.b.main_panel.tab1.mask2btn,c))return this.Bk("mask2"),!0;if(H(this.b.main_panel.tab1.mask3btn,c))return this.Bk("mask3"),!0;if(H(this.b.main_panel.tab1.fringe1btn,c))return this.Bk("fringe1"),!0;if(H(this.b.main_panel.tab1.fringe2btn,c))return this.Bk("fringe2"),!0;if(H(this.b.main_panel.tab1.fringe3btn,c))return this.Bk("fringe3"),!0;if(H(this.b.main_panel.tab1.texturerightbtn,c))return this.Xn(),!0;if(H(this.b.main_panel.tab1.textureleftbtn,c))return this.Yn(),
!0;if(H(this.b.main_panel.tab1.deletebtn,c))return this.kj="erasing"==this.kj?"tiles":"erasing",this.b.main_panel.tab1.deletebtn.r(B),"erasing"==this.kj&&this.b.main_panel.tab1.deletebtn.r(C),!0;if(H(this.b.main_panel.tab1.fillbtn,c))return 0!=this.b.main_panel.tab1.selectednode.mj()&&(V.LS(v[this.aa].name,q.a((this.b.main_panel.tab1.selectednode.u.H-16)/M+this.U.x,Math.floor(320/M)-1-(this.b.main_panel.tab1.selectednode.u.S-16)/M+this.U.y),this.Qw),V.yt()),!0;c=this.b.main_panel.tab1.tiles.Ka(a);
if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.c().width&&c.y<=this.b.main_panel.tab1.tiles.c().height){c.x=c.x-c.x%M+16;c.y=c.y-c.y%M+16;this.b.main_panel.tab1.selectednode.ta(0);if(this.b.main_panel.tab1.selectednode.u.H!=c.x||this.b.main_panel.tab1.selectednode.u.S!=c.y)this.b.main_panel.tab1.selectednode.ta(127),this.b.main_panel.tab1.selectednode.l(c);return!0}}if(2==this.$c){if(H(this.b.main_panel.tab2.clearbtn,c))return this.Xx(!0),!0;if(H(this.b.main_panel.tab2.clearbtnNo,c))return this.Xx(!1),
!0;if(H(this.b.main_panel.tab2.clearbtnYes,c))return V.kf(),this.Xx(!1),!0;if(H(this.b.main_panel.tab2.savebtn,c))return this.Yx(!0),!0;if(H(this.b.main_panel.tab2.savebtnNo,c))return this.Yx(!1),!0;if(H(this.b.main_panel.tab2.savebtnYes,c))return V.kX({up:this.tx.ba(),down:this.qx.ba(),left:this.rx.ba(),right:this.sx.ba(),width:this.lD.ba(),height:this.kD.ba()}),V.DY(),this.Yx(!1),!0}return!1},Bk:function(a){this.b.main_panel.tab1.ground1btn.r(B);this.b.main_panel.tab1.ground2btn.r(B);this.b.main_panel.tab1.ground3btn.r(B);
this.b.main_panel.tab1.mask1btn.r(B);this.b.main_panel.tab1.mask2btn.r(B);this.b.main_panel.tab1.mask3btn.r(B);this.b.main_panel.tab1.fringe1btn.r(B);this.b.main_panel.tab1.fringe2btn.r(B);this.b.main_panel.tab1.fringe3btn.r(B);this.b.main_panel.tab1[a+"btn"].r(wa);this.Qw=a},Xn:function(){this.aa>=v.length-1&&(this.aa=-1);this.aa++;this.b.main_panel.tab1.tiles.ka(v[this.aa].texture);this.Qb=v[this.aa].name;this.b.main_panel.tab1.textureName.text.pa(this.Qb);this.U=q.a(0,0);this.zb()},Yn:function(){0>=
this.aa&&(this.aa=v.length);this.aa--;this.b.main_panel.tab1.tiles.ka(v[this.aa].texture);this.Qb=v[this.aa].name;this.b.main_panel.tab1.textureName.text.pa(this.Qb);this.U=q.a(0,0);this.zb()},Xx:function(a){this.b.main_panel.tab2.clearbtnYes.D(a);this.b.main_panel.tab2.clearbtnNo.D(a);this.b.main_panel.tab2.clear_text.D(a);this.b.main_panel.tab2.clearbtn.D(!a)},Yx:function(a){this.b.main_panel.tab2.savebtnYes.D(a);this.b.main_panel.tab2.savebtnNo.D(a);this.b.main_panel.tab2.save_text.D(a);this.b.main_panel.tab2.savebtn.D(!a)},
ML:function(a,c,d){if(a[c]==this.HJ&&"moved"==d)return!1;this.HJ=a[c];switch(this.kj){case "tiles":0!=this.b.main_panel.tab1.selectednode.mj()&&V.Ql(c,v[this.aa].name,q.a((this.b.main_panel.tab1.selectednode.u.H-16)/M+this.U.x,Math.floor(320/M)-1-(this.b.main_panel.tab1.selectednode.u.S-16)/M+this.U.y),this.Qw);break;case "script":V.BT(c)?V.sS(c):V.RX(c,this.Ph);break;case "erasing":V.qC(c,this.Qw)}}});NPCeditor=null;
NPCEditor=Popup.extend({Qb:y[0].name,aa:0,Sn:function(a,c){Scripteditor&&(Scripteditor.Aa(),Scripteditor.K(),this.Ph=a,this.hc(!0),this.b.main_panel.scriptbtn.text.pa(c.name),this.b.main_panel.scriptbtn.r(q.j(0,255,0,255)))},it:function(){this.b.main_panel.scriptbtn.text.pa("None");this.b.main_panel.scriptbtn.r(q.j(255,0,0,255))},qc:function(){return{panels:{position:q.a(300,10),children:{background:{$:"GUI/itemeditor_bg.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(500,330),
children:{namelbl:{label:"Name:",fontSize:20,e:q.a(0,0),position:q.a(4,292),color:q.o(0,0,0)},name_entry:{position:q.a(74,292),size:q.size(266,32),color:q.j(255,255,255,255)},tiles:{e:q.a(0,1),position:q.a(374,232),$:y[0].name},textureleftbtn:{position:q.a(362,292),size:q.size(16,32),$:"GUI/texture_change_left.png",e:q.a(0,0)},texturerightbtn:{position:q.a(471,292),size:q.size(16,32),$:"GUI/texture_change_right.png",e:q.a(0,0)},textureName:{position:q.a(375,292),size:q.size(96,32),$:"GUI/texture_change_middle.png",
e:q.a(0,0),children:{text:{label:v[0].name,fontSize:12,e:q.a(0.5,0.5),position:q.a(48,16),color:q.o(0,0,0)}}},upbtn:{position:q.a(374,236),size:q.size(96,16),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"^",fontSize:12,e:q.a(0.5,0.5),position:q.a(48,8),color:q.o(255,255,255)}}},downbtn:{position:q.a(374,86),size:q.size(96,16),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"v",fontSize:12,e:q.a(0.5,0.5),position:q.a(48,8),color:q.o(255,255,255)}}},scriptlbl:{label:"Script:",fontSize:12,
e:q.a(0,0),position:q.a(8,262),color:q.o(0,0,0)},scriptbtn:{position:q.a(8,232),size:q.size(128,26),color:C,e:q.a(0,0),children:{text:{label:"None",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.o(0,0,0)}}},okbtn:{position:q.a(434,16),size:q.size(32,32),$:"GUI/tick_icon.png",e:q.a(0,0)},cancelbtn:{position:q.a(384,16),size:q.size(32,32),$:"GUI/cross_icon.png",e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,330),size:q.size(500,32),children:{header:{label:"Item Editor",fontSize:20,e:q.a(0,
0.5),position:q.a(8,16)},exitBtn:{position:q.a(476,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},Jc:function(){return"npcEditor"},qb:null,k:null,data:null,w:function(a){this._super();this.data={name:"",sprite:{texture:null,number:null},script:null};this.Qb=y[0].name;this.aa=0;this.k=this.qb=null;this.U=q.a(0,0);this.k=a.k;a&&a.data&&(this.data=a.data,this.data.sprite.number&&(this.U.y=this.data.sprite.number),this.data.script&&(this.Ph=this.data.script))},vj:function(a){z({savenpcs:a+
"",npcsdata:this.data})},jj:function(a,c){z({savenpcswhole:c})},ra:function(){this._super();for(var a in y)y[a].name==this.data.sprite.texture&&(this.aa=a,this.Qb=y[a].name);this.b.main_panel.textureName.text.pa(this.Qb);this.b.main_panel.tiles.ka(y[this.aa].texture);null!=this.data.script&&(this.b.main_panel.scriptbtn.r(q.j(0,255,0,255)),this.b.main_panel.scriptbtn.text.pa(ObjectLists.Ie()[this.data.script].name),this.Ph=this.data.script);this.qb=new $(this.b.main_panel.name_entry,q.size(this.b.main_panel.name_entry.c().width,
this.b.main_panel.name_entry.c().height),q.a(0,this.b.main_panel.name_entry.c().height),this.data.name?this.data.name:"",q.j(100,100,100),q.o(255,255,255));this.qb.lb(!0);this.zb()},Aa:function(a){this._super();if(this.k){var c=this.k;!0!=a&&this.k.Td(function(){c.Pd(null)})}},zb:function(){this.gc(this.zb);this.b.main_panel.tiles.ja()&&!0==this.b.main_panel.tiles.ja().Lc&&(this.Sc(this.zb),this.b.main_panel.tiles.gb(q.rect(Math.floor(96*this.U.x),Math.floor(128*this.U.y),96>y[this.aa].texture.c().width?
y[this.aa].texture.c().width:96,128>y[this.aa].texture.c().height?y[this.aa].texture.c().height:128)))},xb:function(a){if(this._super(a))return!0;this.he=null;a=this.b.main_panel.Ka(a.R);if(H(this.b.main_panel.okbtn,a)){if(null==this.qb.ba()||""==this.qb.ba())return!0;this.Tg=!0;this.data.name=this.qb.ba();this.data.sprite.number=this.U.y;this.data.script=this.Ph;this.k.Pd(this.data);return!0}if(H(this.b.main_panel.cancelbtn,a)){this.Tg=!0;var c=this.k;this.k.Td(function(){c.Pd(null)});return!0}H(this.b.main_panel.scriptbtn,
a)&&(Scripteditor?(Scripteditor.Aa(),Scripteditor.K(),Scripteditor=null):(Scripteditor=new PopupList,Scripteditor.w({k:this,Pg:new ScriptEditor,list:ObjectLists.Ie(),name:"Script List"}),Scripteditor.ra(),this.f(Scripteditor)));return H(this.b.main_panel.upbtn,a)?(320<y[this.aa].texture.c().height&&0<this.U.y&&(this.U.y--,this.zb()),!0):H(this.b.main_panel.downbtn,a)?(320<y[this.aa].texture.c().height&&this.U.y<(y[this.aa].texture.c().height-320)/32&&(this.U.y++,this.zb()),!0):H(this.b.main_panel.texturerightbtn,
a)?(this.Xn(),!0):H(this.b.main_panel.textureleftbtn,a)?(this.Yn(),!0):!1},uE:function(){this.data.stackable=!this.data.stackable;this.b.main_panel.stackbtn.r(C);this.b.main_panel.stackbtn.text.pa("NOT STACKABLE");!0==this.data.stackable&&(this.b.main_panel.stackbtn.r(wa),this.b.main_panel.stackbtn.text.pa("IS STACKABLE"))},Xn:function(){this.aa>=y.length-1&&(this.aa=-1);this.aa++;this.b.main_panel.tiles.ka(y[this.aa].texture);this.Qb=y[this.aa].name;this.b.main_panel.textureName.text.pa(this.Qb);
this.data.sprite.texture=this.Qb;this.U=q.a(0,0);this.zb()},Yn:function(){0>=this.aa&&(this.aa=y.length);this.aa--;this.b.main_panel.tiles.ka(y[this.aa].texture);this.Qb=y[this.aa].name;this.b.main_panel.textureName.text.pa(this.Qb);this.U=q.a(0,0);this.zb()}});Shopeditor=null;
ShopEditor=Popup.extend({Qb:y[0].name,aa:0,qc:function(){return{panels:{position:q.a(300,10),children:{background:{$:"GUI/itemeditor_bg.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(500,330),children:{namelbl:{label:"Name:",fontSize:20,e:q.a(0,0),position:q.a(4,292),color:q.o(0,0,0)},name_entry:{position:q.a(74,292),size:q.size(266,32),color:q.j(255,255,255,255)},okbtn:{position:q.a(434,16),size:q.size(32,32),$:"GUI/tick_icon.png",e:q.a(0,0)},cancelbtn:{position:q.a(384,16),
size:q.size(32,32),$:"GUI/cross_icon.png",e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,330),size:q.size(500,32),children:{header:{label:"Item Editor",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(476,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},Jc:function(){return"shopEditor"},qb:null,k:null,data:null,w:function(a){this._super();this.data={name:""};this.Qb=y[0].name;this.aa=0;this.k=this.qb=null;this.k=a.k;a&&a.data&&(this.data=a.data)},vj:function(a){z({saveshops:a+
"",shopsdata:this.data})},jj:function(a,c){z({saveshopswhole:c})},ra:function(){this._super();this.qb=new $(this.b.main_panel.name_entry,q.size(this.b.main_panel.name_entry.c().width,this.b.main_panel.name_entry.c().height),q.a(0,this.b.main_panel.name_entry.c().height),this.data.name?this.data.name:"",q.j(100,100,100),q.o(255,255,255));this.qb.lb(!0)},Aa:function(a){this._super();if(this.k){var c=this.k;!0!=a&&this.k.Td(function(){c.Pd(null)})}},xb:function(a){if(this._super(a))return!0;this.he=
null;a=this.b.main_panel.Ka(a.R);if(H(this.b.main_panel.okbtn,a)){if(null==this.qb.ba()||""==this.qb.ba())return!0;this.Tg=!0;this.data.name=this.qb.ba();this.k.Pd(this.data);return!0}if(H(this.b.main_panel.cancelbtn,a)){this.Tg=!0;var c=this.k;this.k.Td(function(){c.Pd(null)});return!0}return!1},uE:function(){this.data.stackable=!this.data.stackable;this.b.main_panel.stackbtn.r(C);this.b.main_panel.stackbtn.text.pa("NOT STACKABLE");!0==this.data.stackable&&(this.b.main_panel.stackbtn.r(wa),this.b.main_panel.stackbtn.text.pa("IS STACKABLE"))}});Skillseditor=null;
SkillsEditor=Popup.extend({Qb:v[0].name,aa:0,qc:function(){return{panels:{position:q.a(300,10),children:{main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(420,396),color:q.j(0,0,100,120),children:{tab1:{children:{tiles:{e:q.a(0,1),position:q.a(16,320),$:v[0].name},textureleftbtn:{position:q.a(208,340),size:q.size(16,32),color:B,e:q.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,16),color:q.o(0,0,0)}}},texturerightbtn:{position:q.a(320,340),size:q.size(16,32),
color:B,e:q.a(0,0),children:{text:{label:"\x3e\x3e",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,16),color:q.o(0,0,0)}}},textureName:{position:q.a(224,340),size:q.size(96,32),color:q.j(255,255,255,170),e:q.a(0,0),children:{text:{label:v[0].name,fontSize:12,e:q.a(0.5,0.5),position:q.a(48,16),color:q.o(0,0,0)}}},leftbtn:{position:q.a(0,64),size:q.size(16,252),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"\x3c",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,160),color:q.o(255,255,255)}}},rightbtn:{position:q.a(336,
64),size:q.size(16,252),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"\x3e",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,160),color:q.o(255,255,255)}}},upbtn:{position:q.a(16,320),size:q.size(320,16),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"^",fontSize:12,e:q.a(0.5,0.5),position:q.a(160,8),color:q.o(255,255,255)}}},downbtn:{position:q.a(16,48),size:q.size(320,16),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"v",fontSize:12,e:q.a(0.5,0.5),position:q.a(160,8),color:q.o(255,
255,255)}}},highlightnode:{e:q.a(0,0),position:q.a(0,0),size:q.size(32,32),color:q.j(255,100,100,255)},selectednode:{e:q.a(0,0),position:q.a(0,0),size:q.size(32,32),color:q.j(100,255,100,255)}}},tab2:{children:{name_text:{label:"Skill Name",fontSize:10,e:q.a(0,0),position:q.a(8,344)},name_entry:{size:q.size(136,32),position:q.a(4,312)},healthcolor_text:{label:"Healthbar Color",fontSize:10,e:q.a(0,0),position:q.a(8,250)},healthcolor_entry:{size:q.size(136,32),position:q.a(4,210)},tile:{e:q.a(0,1),
position:q.a(55,150),$:v[0].name},healthbtn:{position:q.a(8,265),size:q.size(128,26),color:C,e:q.a(0,0),children:{text:{label:"NOT HEALTHBAR",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.o(0,0,0)}}}}},tab1Clickable:{position:q.a(0,376),size:q.size(60,20),color:B,e:q.a(0,0),children:{text:{label:"Icon",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,10),color:q.o(0,0,0)}}},tab2Clickable:{position:q.a(64,376),size:q.size(60,20),color:B,e:q.a(0,0),children:{text:{label:"Details",fontSize:12,e:q.a(0.5,
0.5),position:q.a(32,10),color:q.o(0,0,0)}}},okbtn:{position:q.a(76,8),size:q.size(60,32),color:B,e:q.a(0,0),children:{text:{label:"OK",fontSize:12,e:q.a(0.5,0.5),position:q.a(30,16),color:q.o(0,0,0)}}},cancelbtn:{position:q.a(8,8),size:q.size(60,32),color:B,e:q.a(0,0),children:{text:{label:"Cancel",fontSize:12,e:q.a(0.5,0.5),position:q.a(30,16),color:q.o(0,0,0)}}}}},control_panel:{e:q.a(0,0),position:q.a(0,396),size:q.size(420,32),color:q.j(255,0,0,200),children:{header:{label:"Skill Editor",fontSize:20,
e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(391,3),size:q.size(26,26),e:q.a(0,0),color:q.j(255,255,255,200),children:{content:{label:"X",fontSize:20,color:q.o(0,0,0),e:q.a(0.5,0.5),position:q.a(13,13)}}}}}}}}},Jc:function(){return"SkillsEditor"},qb:null,Yp:null,zj:null,$c:0,k:null,data:null,w:function(a){this._super();this.data={sprite:{texture:v[0].name,position:{x:0,y:0}},additionalData:{},healthbar:null,name:""};this.Qb=v[0].name;this.aa=0;this.zj=this.qb=null;this.$c=0;this.k=null;
this.U=q.a(0,0);this.zj=[null,352,142];this.k=a.k;a&&a.data&&(this.data=a.data)},vj:function(a){z({saveskills:a+"",skillsdata:this.data})},jj:function(a,c){z({saveskillswhole:c})},ra:function(){this._super();this.b.main_panel.tab1.highlightnode.ta(0);this.b.main_panel.tab1.selectednode.ta(127);for(var a in v)v[a].name==this.data.sprite.texture&&(this.aa=a,this.Qb=v[a].name);this.b.main_panel.tab1.textureName.text.pa(this.Qb);this.b.main_panel.tab1.tiles.ka(v[this.aa].texture);for(a=this.data.sprite.position.x;10<=
a;)a--,this.U.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.U.y++;a=q.a(32*(this.data.sprite.position.x-this.U.x),32*(this.data.sprite.position.y-this.U.y));this.b.main_panel.tab1.selectednode.l(this.b.main_panel.tab1.tiles.u.x+a.x,this.b.main_panel.tab1.tiles.u.y-(a.y+32));this.b.main_panel.tab2.tile.ka(v[this.aa].texture);this.b.main_panel.tab2.tile.gb(q.rect(Math.floor(32*this.data.sprite.position.x),Math.floor(32*this.data.sprite.position.y),32,32));this.qb=new $(this.b.main_panel.tab2.name_entry,
q.size(this.b.main_panel.tab2.name_entry.c().width,this.b.main_panel.tab2.name_entry.c().height),q.a(0,this.b.main_panel.tab2.name_entry.c().height),this.data.name?this.data.name:"",q.j(100,100,100),q.o(255,255,255));this.qb.lb(!0);this.Yp=new $(this.b.main_panel.tab2.healthcolor_entry,q.size(this.b.main_panel.tab2.healthcolor_entry.c().width,this.b.main_panel.tab2.healthcolor_entry.c().height),q.a(0,this.b.main_panel.tab2.healthcolor_entry.c().height),this.data.healthbar?this.data.healthbar:"",q.j(100,
100,100),q.o(255,255,255));this.Yp.lb(!0);this.b.main_panel.tab2.healthbtn.r(C);this.b.main_panel.tab2.healthbtn.text.pa("NOT HEALTHBAR");null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.r(wa),this.b.main_panel.tab2.healthbtn.text.pa("IS HEALTHBAR"));this.Nf(1);this.zb()},Lba:function(){},Aa:function(a){this._super();if(this.k){var c=this.k;!0!=a&&this.k.Td(function(){c.Pd(null)})}},Ci:function(a){a=a.R;if(1==this.$c&&(this.b.main_panel.tab1.highlightnode.ta(0),
a=this.b.main_panel.tab1.tiles.Ka(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.c().width&&a.y<=this.b.main_panel.tab1.tiles.c().height))return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+64,this.b.main_panel.tab1.highlightnode.ta(127),this.b.main_panel.tab1.highlightnode.l(a),!0},Nf:function(a){a!=this.$c&&(this.b.main_panel.P(this.zj[a],this.b.main_panel.c().height),this.b.control_panel.P(this.zj[a],this.b.control_panel.c().height),this.b.main_panel.tab2.name_entry.Ra(this.b.main_panel.tab2.name_entry.u.H-
1E3),this.b.main_panel.tab2.healthcolor_entry.Ra(this.b.main_panel.tab2.healthcolor_entry.u.H-1E3),this.b.main_panel.tab2.healthcolor_text.D(!1),this.$c=a,this.b.main_panel.tab1.D(!1),this.b.main_panel.tab2.D(!1),this.b.main_panel.tab1Clickable.r(B),this.b.main_panel.tab2Clickable.r(B),this.b.main_panel["tab"+a].D(!0),this.b.main_panel["tab"+a+"Clickable"].r(q.j(255,255,0,255)),this.b.control_panel.exitBtn.Ra(this.zj[a]-29));2==a&&(this.b.main_panel.tab2.name_entry.Ra(4),null!=this.data.healthbar&&
""!=this.data.healthbar&&(this.b.main_panel.tab2.healthcolor_entry.Ra(4),this.b.main_panel.tab2.healthcolor_text.D(!0)))},zb:function(){this.gc(this.zb);this.b.main_panel.tab1.tiles.ja()&&!0==this.b.main_panel.tab1.tiles.ja().Lc&&(this.Sc(this.zb),this.b.main_panel.tab1.tiles.gb(q.rect(Math.floor(32*this.U.x),Math.floor(32*this.U.y),320>v[this.aa].texture.c().width?v[this.aa].texture.c().width:320,256>v[this.aa].texture.c().height?v[this.aa].texture.c().height:256)))},xb:function(a){if(this._super(a))return!0;
this.he=null;a=a.R;var c=this.b.main_panel.Ka(a);if(H(this.b.main_panel.tab1Clickable,c))return this.Nf(1),!0;if(H(this.b.main_panel.tab2Clickable,c))return this.Nf(2),!0;if(H(this.b.main_panel.okbtn,c)){if(null==this.qb.ba()||""==this.qb.ba())return!0;this.Tg=!0;this.data.name=this.qb.ba();if(null!=this.Yp.ba()||""!=this.Yp.ba())this.data.healthbar=this.Yp.ba();this.k.Pd(this.data);return!0}if(H(this.b.main_panel.cancelbtn,c)){this.Tg=!0;var d=this.k;this.k.Td(function(){d.Pd(null)});return!0}if(1==
this.$c){if(H(this.b.main_panel.tab1.leftbtn,c))return 264<v[this.aa].texture.c().width&&0<this.U.x&&(this.U.x--,this.zb()),!0;if(H(this.b.main_panel.tab1.rightbtn,c))return 320<v[this.aa].texture.c().width&&this.U.x<(v[this.aa].texture.c().width-320)/32&&(this.U.x++,this.zb()),!0;if(H(this.b.main_panel.tab1.upbtn,c))return 320<v[this.aa].texture.c().height&&0<this.U.y&&(this.U.y--,this.zb()),!0;if(H(this.b.main_panel.tab1.downbtn,c))return 320<v[this.aa].texture.c().height&&this.U.y<(v[this.aa].texture.c().height-
320)/32&&(this.U.y++,this.zb()),!0;if(H(this.b.main_panel.tab1.texturerightbtn,c))return this.Xn(),!0;if(H(this.b.main_panel.tab1.textureleftbtn,c))return this.Yn(),!0;c=this.b.main_panel.tab1.tiles.Ka(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.c().width&&c.y<=this.b.main_panel.tab1.tiles.c().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+64;this.b.main_panel.tab1.selectednode.ta(0);if(this.b.main_panel.tab1.selectednode.u.H!=c.x||this.b.main_panel.tab1.selectednode.u.S!=c.y)this.b.main_panel.tab1.selectednode.ta(127),
this.b.main_panel.tab1.selectednode.l(c);a=q.a((this.b.main_panel.tab1.selectednode.u.H-16)/32+this.U.x,8-(this.b.main_panel.tab1.selectednode.u.S-64)/32+this.U.y-1);this.b.main_panel.tab2.tile.gb(q.rect(32*a.x,32*a.y,32,32));this.data.sprite.position=a;console.log("TOUCHED");return!0}}return 2==this.$c&&H(this.b.main_panel.tab2.healthbtn,c)?(this.rY(),!0):!1},rY:function(){this.b.main_panel.tab2.healthcolor_entry.Ra(this.b.main_panel.tab2.healthcolor_entry.u.H-1E3);this.b.main_panel.tab2.healthcolor_text.D(!1);
null!=this.data.healthbar&&""!=this.data.healthbar?(this.data.healthbar="",this.Yp.ie("")):(this.data.healthbar="FF0000",this.b.main_panel.tab2.healthcolor_entry.Ra(4),this.b.main_panel.tab2.healthcolor_text.D(!0));this.b.main_panel.tab2.healthbtn.r(C);this.b.main_panel.tab2.healthbtn.text.pa("NOT HEALTHBAR");null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.r(wa),this.b.main_panel.tab2.healthbtn.text.pa("IS HEALTHBAR"))},Xn:function(){this.aa>=v.length-1&&(this.aa=
-1);this.aa++;this.b.main_panel.tab1.tiles.ka(v[this.aa].texture);this.b.main_panel.tab2.tile.ka(v[this.aa].texture);this.Qb=v[this.aa].name;this.b.main_panel.tab1.textureName.text.pa(this.Qb);this.data.sprite.texture=this.Qb;this.U=q.a(0,0);this.zb()},Yn:function(){0>=this.aa&&(this.aa=v.length);this.aa--;this.b.main_panel.tab1.tiles.ka(v[this.aa].texture);this.b.main_panel.tab2.tile.ka(v[this.aa].texture);this.Qb=v[this.aa].name;this.b.main_panel.tab1.textureName.text.pa(this.Qb);this.U=q.a(0,0);
this.zb()}});PopupList=Popup.extend({Xb:null,fb:[],wn:null,Of:!1,wj:-1,B8:0,cI:null,J:null,Bs:!0,As:!0,dC:!0,Ts:!1,Aa:function(){this._super();this.k&&(this.k.hc(!0),!this.Ts&&this.k.it&&this.k.it(null,null))},w:function(a,c){this._super();this.Xb=null;this.fb=[];this.dC=this.Bs=this.As=!0;if(c){if(!1==c.Vw||!0==c.Vw)this.Bs=c.Vw;if(!1==c.Rw||!0==c.Rw)this.As=c.Rw;if(!1==c.add||!0==c.add)this.dC=c.add}this.wn=null;this.Of=!1;this.wj=-1;this.Xb=a.Pg;a.list&&(this.fb=a.list);this.wn=a.name;this.k=a.k},ra:function(){this._super();
this.yb()},J:null,yb:function(){this.J&&this.J.W.K();var a=[],c=[],d=q.ia.g();this.cI={};for(var e in this.fb)if(a[e]=q.F.create(),this.fb[e].name)if(a[e].P(324,32),null==this.fb[e])this.fb.splice(e,1);else{if(null!=this.k){var f=q.v.Ma(d.ma("GUI/use.png"));f.l(q.a(244,6));f.A(q.a(0,0))}var g=q.da.create(q.j(0,0,0,127),316,1);g.l(q.a(4,0));var h=q.T.create(this.fb[e].name,"Arial",20);h.A(q.a(0,0.5));h.l(q.a(0,16));if(this.Bs){var k=q.v.Ma(d.ma("GUI/edit.png"));k.l(q.a(272,6));k.A(q.a(0,0))}if(this.As){var l=
q.v.Ma(d.ma("GUI/trash.png"));l.l(q.a(300,6));l.A(q.a(0,0))}var m=[];this.Bs&&(k.Ua="Edit",m.push(k));this.As&&(l.Ua="Delete",m.push(l));null!=this.k&&(f.Ua="Use",m.push(f));c.push(m);a[e].f(g);a[e].f(h);this.Bs&&a[e].f(k);this.As&&a[e].f(l);null!=this.k&&a[e].f(f)}else a[e].P(q.size(0,0)),c.push([]);this.dC&&(d=q.da.create(q.j(70,200,70,255),90,26),e=q.T.create("+","Arial",20),e.l(45,13),e.A(q.a(0.5,0.5)),d.l(q.a(120,0)),d.Ua="Add",d.f(e),c.push([d]),a.push(d));this.J=this.b.main_panel.list;var p=
this;this.J.rc=function(){return q.size(324,32*a.length)};this.J.mc=function(){return a.length};this.J.xc=function(c){return a[c].c()};this.J.wc=function(c){return a[c]};this.J.Eb=function(a,c,d){p.Ka(d.R);if(!0!=p.Of)switch(a){case "Delete":p.ea.f(DropDownList.Nc(p,p.Gs,["Cancel","Delete"],d.R));p.cb=c;break;case "Edit":p.Xb.ea&&p.Xb.K();p.Of=!0;p.Xb.w({k:p,data:p.fb[c]});p.ea.f(p.Xb);p.hc(!1);p.Xb.ra();p.wj=c+"";break;case "Add":p.Ep=!0;p.Of=!0;p.wj=p.fb.length;p.Xb.w({k:p,data:null});p.hc(!1);
p.ea.f(p.Xb);p.Xb.ra();break;case "Use":p.k.Sn(c,p.fb[c]),p.Ts=!0}};this.J.W=ListView.create(this.J);this.J.W.zc(c);this.J.f(this.J.W)},qc:function(){return{panels:{position:q.a(300,200),children:{background_image:{$:"GUI/list_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(365,328),children:{list:{size:q.size(324,328),position:q.a(0,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:this.wn,fontSize:20,e:q.a(0,0.5),position:q.a(8,
16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},cb:null,Gs:function(a){switch(a){case 1:null!=this.k.cb&&(this.k.nC(this.k.cb),this.k.cb=null)}},Pd:function(a){a&&(this.Xb.vj(this.wj),this.Ep&&(this.fb.push(a),this.yb()));this.hc(!0);this.Of=this.Ep=!1;var c=this;this.Td(function(){c.Xb.Aa(!0);c.Xb.K()})},nC:function(a){this.fb[a]={};this.Xb.jj(a,this.fb);this.yb()}});ScriptingList=Popup.extend({Xb:null,fb:[],wn:null,Of:!1,wj:-1,caa:null,bh:null,Ts:!1,On:null,Aa:function(){this._super();this.k&&(this.k.hc(!0),!this.Ts&&this.k.it&&this.k.it(null,null))},w:function(a){this._super();this.Xb=null;this.fb=[];this.wn=null;this.Of=!1;this.wj=-1;this.Xb=a.Pg;a.list&&(this.fb=a.list);this.wn=a.name;this.k=a.k},ra:function(){this._super();this.Bx()},Bx:function(){this.Fh&&this.Fh.W.K();var a=[],c=[],d=q.ia.g(),e=["Default Scripts","NPC Scripts","Item Scripts","Tile Scripts"],
f;for(f in e){a[f]=q.F.create();a[f].P(220,32);var g=q.da.create(q.j(0,0,0,127),220,1);g.l(q.a(0,0));var h=q.T.create(e[f],"Arial",20);h.A(q.a(0,0));h.l(q.a(4,4));h.mb(q.size(192,0));a[f].P(220,h.c().height+8);if(null!=this.On&&this.On==f){a[f]=q.da.create(q.j(100,0,0,255),220,h.c().height+8);var k=q.v.Ma(d.ma("GUI/selected.png"));k.l(q.a(196,(h.c().height+8-20)/2));k.A(q.a(0,0));a[f].f(k);h.r(q.o(255,255,255))}a[f].Ua="Use";c.push([a[f]]);a[f].f(g);a[f].f(h)}this.Fh=this.b.main_panel.mainlist;var l=
this;this.Fh.rc=function(){return q.size(324,32*a.length)};this.Fh.mc=function(){return a.length};this.Fh.xc=function(c){return a[c].c()};this.Fh.wc=function(c){return a[c]};this.Fh.Eb=function(a,c,d){l.Ka(d.R);if(!0!=l.Of)switch(a){case "Use":l.On=c,l.xD(c),l.Bx()}};this.Fh.W=ListView.create(this.Fh);this.Fh.W.zc(c);this.Fh.f(this.Fh.W)},xD:function(a){var c="";switch(a){case 0:c="Default";break;case 1:c="NPC";break;case 2:c="Item";break;case 3:c="Tile"}this.bh&&this.bh.W.K();var d=[];a=[];for(var e=
q.ia.g(),f=0;f<this.fb.length;f++)if(d[f]=q.F.create(),this.fb[f]!={}&&this.fb[f].specifier==c){d[f].P(286,32);var g=q.da.create(q.j(0,0,0,127),286,1);g.l(q.a(0,0));var h=q.T.create(this.fb[f].name,"Arial",20);h.A(q.a(0,0));h.l(q.a(2,4));h.mb(q.size(208,0));d[f].P(286,h.c().height+8);if(null!=this.k&&!this.fb[f].isTemplate){var k=q.v.Ma(e.ma("GUI/use.png"));k.l(q.a(212,(d[f].c().height-20)/2));k.A(q.a(0,0))}var l=[];if("Default"!=c){var m=q.v.Ma(e.ma("GUI/edit.png"));m.l(q.a(236,(d[f].c().height-
20)/2));m.A(q.a(0,0));var p=q.v.Ma(e.ma("GUI/trash.png"));p.l(q.a(260,(d[f].c().height-20)/2));p.A(q.a(0,0));l.push(m);p.Ua="Delete";m.Ua="Edit";l.push(p);d[f].f(m);d[f].f(p)}null==this.k||this.fb[f].isTemplate||(k.Ua="Use",l.push(k));m=q.v.Ma(e.ma("GUI/copy.png"));m.l(q.a(188,(d[f].c().height-20)/2));m.A(q.a(0,0));m.Ua="Copy";l.push(m);d[f].f(m);a.push(l);d[f].f(g);d[f].f(h);null!=this.k&&d[f].f(k)}else d[f].P(q.size(0,0)),a.push([]);"Default"!=c&&(k=q.da.create(q.j(70,200,70,255),90,26),e=q.T.create("+",
"Arial",20),e.l(45,13),e.A(q.a(0.5,0.5)),k.l(q.a(100,0)),k.Ua="Add",k.f(e),a.push([k]),d.push(k));this.bh=this.b.main_panel.sublist;var s=this;this.bh.rc=function(){return q.size(324,32*d.length)};this.bh.mc=function(){return d.length};this.bh.xc=function(a){return d[a].c()};this.bh.wc=function(a){return d[a]};this.bh.Eb=function(a,d,e){s.Ka(e.R);if(!0!=s.Of)switch(a){case "Delete":s.ea.f(DropDownList.Nc(s,s.Gs,["Cancel","Delete"],e.R));s.cb=d;break;case "Edit":s.Xb.ea&&s.Xb.K();s.Of=!0;s.Xb.w({k:s,
data:s.fb[d]});s.ea.f(s.Xb);s.hc(!1);s.Xb.ra();s.wj=d+"";break;case "Add":s.Ep=!0;s.Of=!0;s.wj=s.fb.length+"";s.Xb.w({k:s,data:null,OD:c});s.hc(!1);s.ea.f(s.Xb);s.Xb.ra();break;case "Use":s.k.Sn(d,s.fb[d]);s.Ts=!0;break;case "Copy":s.YR(d)}};this.bh.W=ListView.create(this.bh);this.bh.W.zc(a);this.bh.f(this.bh.W)},qc:function(){return{panels:{position:q.a(20,20),children:{background_image:{$:"GUI/scripting_list.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(584,408),children:{mainlist:{size:q.size(220,
408),position:q.a(0,0),e:q.a(0,0)},sublist:{size:q.size(280,408),position:q.a(261,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,408),size:q.size(584,32),children:{header:{label:this.wn,fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(560,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},cb:null,Gs:function(a){switch(a){case 1:null!=this.k.cb&&(this.k.nC(this.k.cb),this.k.cb=null)}},Pd:function(a){a&&(this.Xb.vj(this.wj),this.Ep&&(this.fb.push(a),this.Bx(),this.On&&
this.xD(this.On)));this.hc(!0);this.Of=this.Ep=!1;var c=this;this.Td(function(){c.Xb.Aa(!0);c.Xb.K()})},nC:function(a){this.fb[a]={};this.Xb.jj(a,this.fb);this.Bx();this.On&&this.xD(this.On)},YR:function(a){console.log("DUPLICATING");this.Of=this.Ep=!0;this.wj=this.fb.length+"";a=J(this.fb[a]);a.implementsAs&&(a.specifier=a.implementsAs,a.implementsAs=null);a.isTemplate&&(a.isTemplate=null);this.Xb.w({k:this,data:a,OD:a.specifier});this.hc(!1);this.ea.f(this.Xb);this.Xb.ra()}});var K=Ia.extend({ctor:function(){this._super()},aM:function(){this._super()},ra:function(){this._super()},Aa:function(){this._super()},xb:function(a){q.tb(this.b.health_panel.ob(),a.R)&&F.g().vl("Game")}});NewsPanel=null;
News=Popup.extend({data:null,J:null,cb:null,Jc:function(){return"Credits"},Aa:function(){this._super()},w:function(){this._super();this.data={"18th December 2014: (v0.79)":["Added buying price section of item value setup. Fixed some basic issues with the system"],"18th December 2014: (v0.79)":["Added initial setup value tab into item editor to add trade values to defined items. You simply add a shop in list and then the price to buy it.","The above system will eventually include a sale price area as well."],"17th December 2014: (v0.78)":["Added /wherami and /warpmeto user commands."],
"17th December 2014: (v0.78)":["Added banking panel and implemented banking storage into player profile data.","Added map width and height specifiers to map editor for custom map sizes.","Added shop editor for custom shop type generation.","Compressed script logic into single straightforward functions with a type specifier.","Fixed a couple of bugs"],"14th December 2014: (v0.75)":["Fixed multiplayer login movement crash."],"24th November 2014: (v0.75)":["Re-introduced dependancies so that I can added orientation change logic to the project. Clicking and dragging a client window now correctly resizes the game."],
"16th November 2014: (v0.75)":["Cleaned up project dependancies, removed dependancy on socket.io and cocos-utils changes."],"11th November 2014: (v0.74)":["Added quest log (hotkey Q).","Implemented quest response logic. Added 2 additional 'quest unstarted' and 'quest finished' parameters"],"10th November 2014: (v0.735)":["Added user extradata content for subscripting. Allows for developers to code in specific scripting logic if needed.","Extradata updates with user login data and is purposefully not localstorage based."],
"9th November 2014: (v0.733)":["Added talking and talk with option callback to the npc scripts contexts."],"8th November 2014: (v0.731)":["Fixed NPC editor.","Added talk graphic and basic logic for npc interaction","Abstracted Item script logic to a utils function...wiped a lot of duplicate code."],"25th October 2014: (v0.729)":["Added scripting response logic for giving/taking items.","Added scripting requirements logic for if a panel is visible and inventory has a certain amount of slots."],"25th October 2014: (v0.727)":["Fixed a bunch of persistant bugs. Game is now much much more stable than it was.",
"Added scripts for on pickup and on drop. Added some additional response logic for warping the player. Added requirement logic for check if player has items and if player stats are within certain ranges."],"24th October 2014: (v0.724)":["Added functionality to more scripts. Items can now use the destroy and open/close panel scripts.","Fixed equip script to use the equip position defined within the scripting system instead of previously defined sub-item types from previous versions."],"23rd October 2014: (v0.722)":["Added functionality to some item scripts. Game now modifies inventory drop down behaviour based on responses type (read/equip).",
"Items can now influence player stats on equip, dequip, swapped and on read."],"30th September 2014: (v0.72)":["Added user saving and loading for player position, items and equipment. Picked up and equipped items are now stored and saved regardless of session.","Edited the skills panel to utilise the list view logic. Skills menu now shows level and experience progression and uses data from the user account","Added health manipulation functionality utilising new skill logic as noted in the previous point."],
"27th September 2014: (v0.72)":["Added registration and logging in system. Users can now have automatic login setup for their accounts and player data is starting to be saved from an actual account.","Server now has a new folder where user data is stored.","Added the beginnings of a user ranking system, game editors can now only be accessed if the player rank is above 1. Rank 1 is now the default registration rank."],"25th August 2014: (v0.718)":["Added 90% of subeditors needed for the scripting system. Go into the script editor and press the pencil icon on the responses and requirements to edit their core data.",
"Updated script panel texture to utilize inpanel submenu editors.","Abstracted out the script editor so that its not dependant on certain types.","Added/removed requirements responses based on logical conclusions on what is actually needed. Consume as an item response, for example, is unecessary because it would work identically to destroy."],"17th August 2014: (v0.714)":["Added basic template logic of new scripting editor system. Scripts can be saved and loaded like other list systems. This editor currently does not allow you to apply scripts to anything (it is simply the GUI interface template logic that's in there). The item editor has been changed to utilize the new saved scripts list.",
"Fixed localstorage issue caused by settings implementation. Game now does not now load until the game is fully in sync. The issue was causing an error on some game-loads because the localstorage was not yet available (requiring a refresh)."],"11th August 2014: (v0.708)":["Added settings menu for various game controls. Settings menu only currently controls a load of in game string settings. Also added the additional required admin panel graphic for settings access. The new chatbox command is /editsettings.",
"Added scrolling credits button to login page and populated it.","Added this scrolling news feed to login page and obviously populated it as well."],"11th August 2014 (v0.7)":["Added some additional custom gui for some of the editors.","Fixed a lot of bugs (and I mean a lot).","Added 0.7 download to site."],"10th August 2014 (v0.695)":["Added quest objective editor. New button now made usable in menu.","Objective editor utilizes abstract scrolling list from 0.69."]}},vj:function(a){z({savequests:a+
"",questdata:this.data})},jj:function(a,c){z({savequestswhole:c})},ra:function(){this._super();this.yb()},yb:function(){this.J&&this.J.nc();var a=[],c=[];q.ia.g();var d=0,e;for(e in this.data){a[d]=q.F.create();a[d].P(324,32);var f=q.T.create(e,"Arial",18);f.A(q.a(0,0));f.l(q.a(4,0));f.mb(q.size(246,0));f.r(q.o(100,0,0));a[d].f(f);a[d].P(324,f.c().height+4);f=[];c.push(f);d++;for(var g in this.data[e]){a[d]=q.F.create();a[d].P(324,32);var h=q.da.create(q.j(0,0,0,127),316,1);h.l(q.a(4,0));var k=q.T.create(this.data[e][g],
"Arial",15);k.r(q.o(0,0,0));k.A(q.a(0,0));k.l(q.a(4,4));k.mb(q.size(246,0));f=[];c.push(f);a[d].f(h);a[d].f(k);a[d].P(324,k.c().height+8);d++}}this.J=this.b.main_panel.list;this.J.rc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(324,c)};this.J.mc=function(){return a.length};this.J.xc=function(c){return a[c].c()};this.J.wc=function(c){return a[c]};this.J.Eb=function(){};this.J.W=ListView.create(this.J);this.J.W.zc(c);this.J.f(this.J.W)},qc:function(){return{panels:{position:q.a(300,
200),children:{background_image:{$:"GUI/list_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(365,328),children:{list:{size:q.size(324,328),color:q.j(0,200,200,200),position:q.a(0,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"News",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},xb:function(a){if(this._super(a))return!0;this.he=null;a=this.b.main_panel.Ka(a.R);
return H(this.b.main_panel,a)?!0:!1}});CreditsPanel=null;
Credits=Popup.extend({data:null,J:null,cb:null,Jc:function(){return"Credits"},Aa:function(){this._super()},w:function(){this._super();this.data={"Programmed and designed by:":"Alan Tuckwood","Special thanks:":"Claire, for putting up with all the non-talking hours.","Special thanks 2:":"IndieRising dev community for all their wonderful support.","Special thanks 3:":"Finblade, for all the skills I was able to pass into this engine.","Special thanks 4:":"All of you players, who's positive response keep me motivated.","Powder Engine is Copywritten":"Contact the developer in-site regarding questions."}},
vj:function(a){z({savequests:a+"",questdata:this.data})},jj:function(a,c){z({savequestswhole:c})},ra:function(){this._super();this.yb()},yb:function(){this.J&&this.J.nc();var a=[],c=[];q.ia.g();var d=0,e;for(e in this.data){if("ISSECTION"!=this.data[e]){a[d]=q.F.create();a[d].P(324,32);var f=q.T.create(e,"Arial",18);f.A(q.a(0,0));f.l(q.a(4,0));f.mb(q.size(246,0));f.r(q.o(100,0,0));a[d].f(f);a[d].P(324,f.c().height+4);f=[];c.push(f);d++}a[d]=q.F.create();a[d].P(324,32);var g=q.da.create(q.j(0,0,0,
127),316,1);g.l(q.a(4,0));if("ISSECTION"==this.data[e]){var h=q.T.create(e,"Arial",22);h.r(q.o(255,0,0))}else h=q.T.create(this.data[e],"Arial",15),h.r(q.o(0,0,0));h.A(q.a(0,0));h.l(q.a(4,4));h.mb(q.size(246,0));f=[];c.push(f);a[d].f(g);a[d].f(h);"ISSECTION"==this.data[e]?a[d].P(324,h.c().height+12):a[d].P(324,h.c().height+8);d++}this.J=this.b.main_panel.list;this.J.rc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(324,c)};this.J.mc=function(){return a.length};this.J.xc=
function(c){return a[c].c()};this.J.wc=function(c){return a[c]};this.J.Eb=function(){};this.J.W=ListView.create(this.J);this.J.W.zc(c);this.J.f(this.J.W)},qc:function(){return{panels:{position:q.a(300,200),children:{background_image:{$:"GUI/list_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(365,328),children:{list:{size:q.size(324,328),color:q.j(0,200,200,200),position:q.a(0,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Credits",
fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},xb:function(a){if(this._super(a))return!0;this.he=null;a=this.b.main_panel.Ka(a.R);return H(this.b.main_panel,a)?!0:!1}});Login=Ia.extend({dt:!1,am:!1,qD:function(){var a=this.qc();Ba(a,"panels",this.b)},w:function(a){G=Fa(G,W.KC());this._super();F.Pn(this);this.bq=this.hD=!1;this.vk=new $(this.b.name_entry,q.size(this.b.name_entry.c().width,this.b.name_entry.c().height),q.a(0,this.b.name_entry.c().height),"Username",q.j(100,100,100),q.o(255,255,255));this.Hl=new $(this.b.password_entry,q.size(this.b.password_entry.c().width,this.b.password_entry.c().height),q.a(0,this.b.password_entry.c().height),"Password",q.j(100,
100,100),q.o(255,255,255));this.Hl.hq(0);this.ED=new $(this.b.new_user_name,q.size(this.b.new_user_name.c().width,this.b.new_user_name.c().height),q.a(0,this.b.new_user_name.c().height),"Username",q.j(100,100,100),q.o(255,255,255));this.Fx=new $(this.b.new_user_pass,q.size(this.b.new_user_pass.c().width,this.b.new_user_pass.c().height),q.a(0,this.b.new_user_pass.c().height),"Password",q.j(100,100,100),q.o(255,255,255));this.Fx.hq(0);this.DD=new $(this.b.new_user_email,q.size(this.b.new_user_email.c().width,
this.b.new_user_email.c().height),q.a(0,this.b.new_user_email.c().height),"Email Address",q.j(100,100,100),q.o(255,255,255));this.QH=!1;a&&(a.MJ?(A=[],z({logout:!0})):this.QH=!0,this.Rn(a.RD));this.gc(this.mC);this.PH=!1;this.gc(this.qE);this.VC();this.b.rem_login_text.mb(q.size(80,0));this.b.auto_login_text.mb(q.size(80,0));this.b.server_message.mb(q.size(300,0));this.b.server_message2.mb(q.size(150,0))},Fl:function(a){switch(a){case "ENTER":if(this.hD){a=this.ED.ba();var c=this.Fx.ba(),d=this.DD.ba();
""!=a&&null!=a&&""!=c&&null!=c&&""!=d&&null!=d?!1==/\S+@\S+\.\S+/.test(d)?this.pg("Please use a correct email address."):(this.bq=!0,this.pg("Registering please wait..."),this.nK({name:a,password:c,email:d})):this.pg("Please fill all fields.")}else!1==this.am&&this.dt?(a=this.vk.ba(),c=this.Hl.ba(),""!=a&&null!=a&&""!=c&&null!=c?(this.am=!0,this.pg("Logging In"),z({login:!0,username:this.vk.ba(),password:this.Hl.ba()})):this.pg("Please enter a User and Password")):this.wx("Server is offline!")}},
Rn:function(a){this.dt=a;!0==a?(this.b.server_activity.pa("Server: Online"),this.b.server_activity.r(q.o(0,255,0))):(this.b.server_activity.pa("Server: Offline"),this.b.server_activity.r(q.o(255,0,0)))},mC:function(){var a=W.yT();a&&!1==this.PH&&(this.vk.ie(a.user),this.PH=!0,this.Hl.ie(a.pass));!0==this.QH&&autoLoginNextTime&&!1==this.am&&this.dt&&(!1==this.am&&this.dt?(this.am=!0,this.pg("Logging In"),z({login:!0,username:this.vk.ba(),password:this.Hl.ba()})):this.wx("Server is offline!"))},qE:function(){if(0<
A.length)for(var a=A.length-1;0<=a;a--)reactToSocketMessage(A[a]),A.splice(a,1);autoLoginNextTime?(W.CK(!0),this.b.auto_login.ka(q.ia.g().ma("GUI/checkbox_checked.png"))):(W.CK(!1),this.b.auto_login.ka(q.ia.g().ma("GUI/checkbox_uncheck.png")));rememberLoginNextTime?this.b.remember_login.ka(q.ia.g().ma("GUI/checkbox_checked.png")):this.b.remember_login.ka(q.ia.g().ma("GUI/checkbox_uncheck.png"))},qc:function(){return{panels:{children:{background:{$:"GUI/splash.png",size:q.size(960,640),e:q.a(0,0),
position:q.a(0,0)},name_entry:{size:q.size(300,30),position:q.a(325,325)},password_entry:{size:q.size(300,30),position:q.a(325,290)},new_user_name:{size:q.size(300,30),position:q.a(325,360)},new_user_pass:{size:q.size(300,30),position:q.a(325,325)},new_user_email:{size:q.size(300,30),position:q.a(325,290)},remember_login:{size:q.size(20,20),position:q.a(630,295),$:"GUI/checkbox_uncheck.png",e:q.a(0,0)},rem_login_text:{label:"Remember login.",fontSize:16,color:q.o(255,255,255),e:q.a(0,1),position:q.a(665,
315)},auto_login:{size:q.size(20,20),position:q.a(630,330),$:"GUI/checkbox_uncheck.png",e:q.a(0,0)},auto_login_text:{label:"Auto login next time.",fontSize:16,color:q.o(255,255,255),e:q.a(0,0),position:q.a(665,330)},go_button:{position:q.a(325,240),size:q.size(120,40),color:q.j(0,0,0,255),children:{label:{label:"Play",fontSize:20,color:q.o(255,255,255),e:q.a(0.5,0.5),position:q.a(60,20)}}},register_button:{position:q.a(505,240),size:q.size(120,40),color:q.j(0,0,0,255),children:{label:{label:"Register",
fontSize:20,color:q.o(255,255,255),e:q.a(0.5,0.5),position:q.a(60,20)}}},new_user_back:{position:q.a(325,240),size:q.size(120,40),color:q.j(0,0,0,255),children:{label:{label:"Go Back",fontSize:20,color:q.o(255,255,255),e:q.a(0.5,0.5),position:q.a(60,20)}}},new_user_confirm:{position:q.a(505,240),size:q.size(120,40),color:q.j(0,0,0,255),children:{label:{label:"Confirm",fontSize:20,color:q.o(255,255,255),e:q.a(0.5,0.5),position:q.a(60,20)}}},credits_button:{position:q.a(30,400),size:q.size(120,40),
color:q.j(0,0,0,255),children:{label:{label:"Credits",fontSize:20,color:q.o(255,255,255),e:q.a(0.5,0.5),position:q.a(60,20)}}},news_button:{position:q.a(30,340),size:q.size(120,40),color:q.j(0,0,0,255),e:q.a(0,1),children:{label:{label:"News",fontSize:20,color:q.o(255,255,255),e:q.a(0.5,0.5),position:q.a(60,20)}}},server_message:{label:"",fontSize:16,color:q.o(255,255,255),e:q.a(0,1),position:q.a(325,220)},server_message2:{label:"This game saves data automatically.",fontSize:16,color:q.o(255,255,
255),e:q.a(0,1),position:q.a(175,355)},version_number:{label:G["Version Number"],fontSize:34,color:q.o(255,255,255),e:q.a(1,1),position:q.a(710,55)},server_activity:{position:q.a(910,630),size:q.size(100,20),e:q.a(0.5,0.5),label:"Server: Offline",color:q.o(255,0,0)}}}}},sY:function(){autoLoginNextTime?(autoLoginNextTime=!1,this.b.auto_login.ka(q.ia.g().ma("GUI/checkbox_uncheck.png"))):(autoLoginNextTime=!0,this.b.auto_login.ka(q.ia.g().ma("GUI/checkbox_checked.png")),rememberLoginNextTime=!0,this.b.remember_login.ka(q.ia.g().ma("GUI/checkbox_checked.png")))},
tY:function(){rememberLoginNextTime?(rememberLoginNextTime=!1,this.b.remember_login.ka(q.ia.g().ma("GUI/checkbox_uncheck.png")),autoLoginNextTime=!1,this.b.auto_login.ka(q.ia.g().ma("GUI/checkbox_uncheck.png"))):(rememberLoginNextTime=!0,this.b.remember_login.ka(q.ia.g().ma("GUI/checkbox_checked.png")))},xb:function(a){if(null!=this.vk.ba()&&this.b.go_button.ya&&q.tb(q.rect(this.b.go_button.u.H,this.b.go_button.u.S,this.b.go_button.c().width,this.b.go_button.c().height),a.R)){if(!1==this.am&&this.dt){a=
this.vk.ba();var c=this.Hl.ba();""!=a&&null!=a&&""!=c&&null!=c?(this.am=!0,this.pg("Logging In"),z({login:!0,username:this.vk.ba(),password:this.Hl.ba()})):this.pg("Please enter a User and Password")}else this.wx("Server is offline!");return!0}this.b.credits_button.ya&&q.tb(q.rect(this.b.credits_button.u.H,this.b.credits_button.u.S,this.b.credits_button.c().width,this.b.credits_button.c().height),a.R)&&this.Oh("/openCredits");this.b.news_button.ya&&q.tb(q.rect(this.b.news_button.u.H,this.b.news_button.u.S,
this.b.news_button.c().width,this.b.news_button.c().height),a.R)&&this.Oh("/openNews");if(this.b.register_button.ya&&q.tb(q.rect(this.b.register_button.u.H,this.b.register_button.u.S,this.b.register_button.c().width,this.b.register_button.c().height),a.R))return this.fY(),!1;if(this.b.auto_login.ya&&q.tb(q.rect(this.b.auto_login.u.H,this.b.auto_login.u.S,this.b.auto_login.c().width,this.b.auto_login.c().height),a.R))return this.sY(),!1;if(this.b.remember_login.ya&&q.tb(q.rect(this.b.remember_login.u.H,
this.b.remember_login.u.S,this.b.remember_login.c().width,this.b.remember_login.c().height),a.R))return this.tY(),!1;if(this.b.new_user_back.ya&&!1==this.bq&&q.tb(q.rect(this.b.new_user_back.u.H,this.b.new_user_back.u.S,this.b.new_user_back.c().width,this.b.new_user_back.c().height),a.R))return this.VC(),this.pg(""),!1;if(this.b.new_user_confirm.ya&&!1==this.bq&&q.tb(q.rect(this.b.new_user_confirm.u.H,this.b.new_user_confirm.u.S,this.b.new_user_confirm.c().width,this.b.new_user_confirm.c().height),
a.R)){a=this.ED.ba();var c=this.Fx.ba(),d=this.DD.ba();""!=a&&null!=a&&""!=c&&null!=c&&""!=d&&null!=d?!1==/\S+@\S+\.\S+/.test(d)?this.pg("Please use a correct email address."):(this.bq=!0,this.pg("Registering please wait..."),this.nK({name:a,password:c,email:d})):this.pg("Please fill all fields.");return!1}},nK:function(a){a.newUser=1;z(a)},SR:function(){this.pg("Registration successful.");this.ED.ie("Username");this.Fx.ie("Password");this.DD.ie("Email Address");this.bq=!1;this.VC()},KS:function(a){this.bq=
!1;switch(a){case "UserTaken":this.pg("Registration failed, user already exists.")}},fY:function(){this.b.new_user_name.D(!0);this.b.new_user_pass.D(!0);this.b.new_user_email.D(!0);this.b.new_user_confirm.D(!0);this.b.new_user_back.D(!0);this.b.register_button.D(!1);this.b.go_button.D(!1);this.b.name_entry.Ra(-1E5);this.b.password_entry.Ra(-1E5);this.b.new_user_name.Ra(325);this.b.new_user_pass.Ra(325);this.b.new_user_email.Ra(325);this.b.rem_login_text.D(!1);this.b.auto_login_text.D(!1);this.b.auto_login.D(!1);
this.b.remember_login.D(!1);this.hD=!0},VC:function(){this.b.new_user_name.D(!1);this.b.new_user_pass.D(!1);this.b.new_user_email.D(!1);this.b.new_user_confirm.D(!1);this.b.new_user_back.D(!1);this.b.register_button.D(!0);this.b.go_button.D(!0);this.b.name_entry.Ra(325);this.b.password_entry.Ra(325);this.b.new_user_name.Ra(-1E5);this.b.new_user_pass.Ra(1E5);this.b.new_user_email.Ra(1E5);this.b.rem_login_text.D(!0);this.b.auto_login_text.D(!0);this.b.auto_login.D(!0);this.b.remember_login.D(!0);this.hD=
!1},Oh:function(a){switch(a){case "/openCredits":null==CreditsPanel||CreditsPanel.ea||(CreditsPanel=null);CreditsPanel?(CreditsPanel.Aa(),CreditsPanel.K(),CreditsPanel=null):(CreditsPanel=new Credits,CreditsPanel.w(),CreditsPanel.ra(),this.f(CreditsPanel));break;case "/openNews":null==NewsPanel||NewsPanel.ea||(NewsPanel=null),NewsPanel?(NewsPanel.Aa(),NewsPanel.K(),NewsPanel=null):(NewsPanel=new News,NewsPanel.w(),NewsPanel.ra(),this.f(NewsPanel))}},VU:function(a){rememberLoginNextTime&&W.IX(this.vk.ba(),
this.Hl.ba());this.Sc(this.mC);F.g().vl("Game",{uj:a,map:1})},wx:function(a){this.Sc(this.mC);this.b.server_message.pa(a);this.am=!1},pg:function(a){this.b.server_message.pa(a)},X8:function(){F.g().vl("Game",{hda:this.vk.ba()})}});K=null;MapMaster=!1;
var Ja=Ia.extend({zJ:!1,ctor:function(){this._super()},qD:function(){var a=R.t.Q.fc();V.ul(a.x*M,a.y*M);a=this.qc();Ba(a,"panels",this.b);SkillBarsInstance.qq()},qc:function(){return{panels:{children:{saving_icon:{visible:!1,position:q.a(P.width-52,4),e:q.a(0,0),size:q.size(48,48),$:"GUI/save_icon.png"},logout_button:{position:q.a(P.width-52,P.height-52),e:q.a(0,0),size:q.size(48,48),$:"GUI/logout.png"},quicknav_button:{position:q.a(P.width-30,Math.floor(P.height/2)-24),e:q.a(0,0),size:q.size(48,
48),$:"GUI/quickmenu_closed_icon.png"},inventory_button:{position:q.a(P.width-52,Math.floor(P.height/2)+60),e:q.a(0,0),size:q.size(48,48),$:"GUI/inventory_icon.png"},equipment_button:{position:q.a(P.width-82,Math.floor(P.height/2)+4),e:q.a(0,0),size:q.size(48,48),$:"GUI/equipment_icon.png"},skill_button:{position:q.a(P.width-82,Math.floor(P.height/2)-52),e:q.a(0,0),size:q.size(48,48),$:"GUI/skills_icon.png"},chat_button:{position:q.a(P.width-52,Math.floor(P.height/2)-108),e:q.a(0,0),size:q.size(48,
48),$:"GUI/chat_icon.png"},quickedit_button:{position:q.a(0,Math.floor(P.height/2)-24),e:q.a(0,0),size:q.size(48,48),$:"GUI/quickedit_closed_icon.png"},mapedit_button:{position:q.a(4,Math.floor(P.height/2)+116),e:q.a(0,0),size:q.size(48,48),$:"GUI/mapeditor_icon.png"},npcedit_button:{position:q.a(34,Math.floor(P.height/2)+60),e:q.a(0,0),size:q.size(48,48),$:"GUI/npceditor_icon.png"},itemedit_button:{position:q.a(64,Math.floor(P.height/2)+4),e:q.a(0,0),size:q.size(48,48),$:"GUI/itemeditor_icon.png"},
skilledit_button:{position:q.a(64,Math.floor(P.height/2)-52),e:q.a(0,0),size:q.size(48,48),$:"GUI/skilleditor_icon.png"},scriptedit_button:{position:q.a(34,Math.floor(P.height/2)-108),e:q.a(0,0),size:q.size(48,48),$:"GUI/scripteditor_icon.png"},settings_button:{position:q.a(4,Math.floor(P.height/2)-164),e:q.a(0,0),size:q.size(48,48),$:"GUI/settings_icon.png"},shopedit_button:{position:q.a(120,Math.floor(P.height/2)+4),e:q.a(0,0),size:q.size(48,48),$:"GUI/shopeditor_icon.png"},questedit_button:{position:q.a(120,
Math.floor(P.height/2)-52),e:q.a(0,0),size:q.size(48,48),$:"GUI/questeditor_icon.png"}}}}},wJ:!1,uJ:!1,Rn:function(a){!1==a&&(this.pC(),F.g().vl("Login",{RD:!1}))},pC:function(){V.kf();V.gt();null!=Equipment&&(Equipment.Aa(),Equipment.K(),Equipment=null);null!=Inventory&&(Inventory.Aa(),Inventory.K(),Inventory=null);null!=Bank&&(Bank.Aa(),Bank.UZ(),Bank=null);null!=Skills&&(Skills.Aa(),Skills.K(),Skills=null);null!=Quests&&(Quests.Aa(),Quests.K(),Quests=null);SkillBarsInstance.K();R.kf();R.gt();S.kf();
S.gt()},xb:function(a){if(q.tb(q.rect(this.b.logout_button.u.H,this.b.logout_button.u.S,this.b.logout_button.c().width,this.b.logout_button.c().height),a.R))return this.pC(),F.g().vl("Login",{MJ:!0,RD:!0}),!0;F.Pn(this);if(q.tb(this.b.chat_button.ob(),a.R)&&this.b.chat_button.ya)return this.Fl("C"),!0;if(q.tb(this.b.inventory_button.ob(),a.R)&&this.b.inventory_button.ya)return this.Fl("I"),!0;if(q.tb(this.b.equipment_button.ob(),a.R)&&this.b.equipment_button.ya)return this.Fl("E"),!0;if(q.tb(this.b.skill_button.ob(),
a.R)&&this.b.skill_button.ya)return this.Fl("S"),!0;if(this.b.quickedit_button.ya&&q.tb(this.b.quickedit_button.ob(),a.R)&&this.b.quickedit_button.ya)return this.yL(!this.uJ),!0;if(q.tb(this.b.quicknav_button.ob(),a.R)&&this.b.quicknav_button.ya)return this.zL(!this.wJ),!0;if(q.tb(this.b.mapedit_button.ob(),a.R)&&this.b.mapedit_button.ya)return this.Oh("/editmap"),!0;if(q.tb(this.b.npcedit_button.ob(),a.R)&&this.b.npcedit_button.ya)return this.Oh("/editnpc"),!0;if(q.tb(this.b.itemedit_button.ob(),
a.R)&&this.b.itemedit_button.ya)return this.Oh("/edititem"),!0;if(q.tb(this.b.skilledit_button.ob(),a.R)&&this.b.skilledit_button.ya)return this.Oh("/editskill"),!0;if(q.tb(this.b.scriptedit_button.ob(),a.R)&&this.b.scriptedit_button.ya)return this.Oh("/editscript"),!0;if(q.tb(this.b.settings_button.ob(),a.R)&&this.b.settings_button.ya)return this.Oh("/editsettings"),!0;if(q.tb(this.b.shopedit_button.ob(),a.R)&&this.b.shopedit_button.ya)return this.Oh("/editshop"),!0;if(q.tb(this.b.questedit_button.ob(),
a.R)&&this.b.questedit_button.ya)return this.Oh("/editquest"),!0},gY:function(a,c){null==Sign||Sign.ea||(Sign=null);Sign?(Sign.Aa(),Sign.K(),Sign=null):(Sign=new SignPanel,Sign.w(a,c),Sign.ra(),this.f(Sign))},cY:function(a,c){null==Book||Book.ea||(Book=null);Book?(Book.Aa(),Book.K(),Book=null):(Book=new BookPanel,Book.w(a,c),Book.ra(),this.f(Book))},eY:function(a,c,d,e,f,g){null==NpcChat||NpcChat.ea||(NpcChat=null);NpcChat&&(NpcChat.Aa(),NpcChat.K(),NpcChat=null);NpcChat=new NpcChatPanel;NpcChat.w(a,
c,d,e,f,g);NpcChat.ra();this.f(NpcChat)},$T:function(){null==NpcChat||NpcChat.ea||(NpcChat=null);NpcChat&&(NpcChat.Aa(),NpcChat.K(),NpcChat=null)},Fl:function(a){switch(a){case "C":S.yU()?S.cJ():S.show();break;case "ENTER":S.UD(!S.gD());break;case "SPACE":R.t.Q.rU();Inventory&&Inventory.jb();break;case "CTRL":R.t.Q.pU();break;case "ESC":this.pC();F.g().vl("Login",{MJ:!0,RD:!0});break;case "I":null==Inventory||Inventory.ea||(Inventory=null);Inventory?(Inventory.Aa(),Inventory.K(),Inventory=null):(null==
Bank||Bank.ea||(Bank=null),Bank||(Inventory=new InventoryPanel,Inventory.w(),Inventory.ra(),this.f(Inventory)));break;case "E":null==Equipment||Equipment.ea||(Equipment=null);Equipment?(Equipment.Aa(),Equipment.K(),Equipment=null):(Equipment=new EquipmentPanel,Equipment.w(),Equipment.ra(),this.f(Equipment));break;case "S":null==Skills||Skills.ea||(Skills=null);Skills?(Skills.Aa(),Skills.K(),Skills=null):(Skills=new SkillsPanel,Skills.w(),Skills.ra(),this.f(Skills));break;case "Q":null==Quests||Quests.ea||
(Quests=null),Quests?(Quests.Aa(),Quests.K(),Quests=null):(Quests=new QuestsPanel,Quests.w(),Quests.ra(),this.f(Quests))}},pD:function(a){var c=R.t.Q.fc();R.t.Q.path=null;if(0==c.x%1&&0==c.y%1)switch(a){case "RIGHTARROW":R.t.Q.sq(c.x+1,c.y);break;case "LEFTARROW":R.t.Q.sq(c.x-1,c.y);break;case "UPARROW":R.t.Q.sq(c.x,c.y+1);break;case "DOWNARROW":R.t.Q.sq(c.x,c.y-1)}},zL:function(a){this.wJ=a;this.b.chat_button.D(a);this.b.inventory_button.D(a);this.b.equipment_button.D(a);this.b.skill_button.D(a);
this.b.quicknav_button.ka(q.ia.g().ma(!0==a?"GUI/quickmenu_opened_icon.png":"GUI/quickmenu_closed_icon.png"))},yL:function(a){this.uJ=a;this.b.mapedit_button.D(a);this.b.npcedit_button.D(a);this.b.itemedit_button.D(a);this.b.skilledit_button.D(a);this.b.scriptedit_button.D(a);this.b.settings_button.D(a);this.b.shopedit_button.D(a);this.b.questedit_button.D(a);this.b.quickedit_button.ka(q.ia.g().ma(!0==a?"GUI/quickedit_opened_icon.png":"GUI/quickedit_closed_icon.png"))},Oh:function(a){if(a){switch(a){case "/whereami":var c=
R.t.Q,c=c.fc();S.Cb("Map: "+V.mf()+", XY: ("+c.x+","+c.y+")")}if(1<R.t.Q.Dp){if("/warpmeto"==a.substring(0,9)&&4==a.split(" ").length){a=a.substring(10).split(" ");c=V.ui(a[0]);z({changemap:a[0],setTo:a[1]+a[2]*c.width});V.Vp(a[0]);c=R.t.Q;c.l(a[1]*M,a[2]*M);return}switch(a){case "/editscript":null==Scripteditor||Scripteditor.ea||(Scripteditor=null);Scripteditor?(Scripteditor.Aa(),Scripteditor.K(),Scripteditor=null):(Scripteditor=new ScriptingList,Scripteditor.w({k:null,Pg:new ScriptEditor,list:ObjectLists.Ie(),
name:"Script List"}),Scripteditor.ra(),this.f(Scripteditor));break;case "/editshop":null==Shopeditor||Shopeditor.ea||(Shopeditor=null);Shopeditor?(Shopeditor.Aa(),Shopeditor.K(),Shopeditor=null):(Shopeditor=new PopupList,Shopeditor.w({k:null,Pg:new ShopEditor,list:ObjectLists.Os(),name:"Shop List"}),Shopeditor.ra(),this.f(Shopeditor));break;case "/editmap":null==Mapeditor||Mapeditor.ea||(Mapeditor=null);Mapeditor?(Mapeditor.Aa(),Mapeditor.K(),Mapeditor=null,V.ht(null)):(Mapeditor=new MapEditor,Mapeditor.w(),
Mapeditor.ra(),this.f(Mapeditor),V.ht(Mapeditor));break;case "/editsettings":null==Settingseditor||Settingseditor.ea||(Settingseditor=null);Settingseditor?(Settingseditor.Aa(),Settingseditor.K(),Settingseditor=null):(Settingseditor=new SettingsEditor,Settingseditor.w(),Settingseditor.ra(),this.f(Settingseditor));break;case "/editskill":null==Skillseditor||Skillseditor.ea||(Skillseditor=null);Skillseditor?(Skillseditor.Aa(),Skillseditor.K(),Skillseditor=null):(Skillseditor=new PopupList,Skillseditor.w({k:null,
Pg:new SkillsEditor,list:ObjectLists.rk(),name:"Skills List"}),Skillseditor.ra(),this.f(Skillseditor));break;case "/edititem":null==Itemeditor||Itemeditor.ea||(Itemeditor=null);Itemeditor?(Itemeditor.Aa(),Itemeditor.K(),Itemeditor=null,V.ht(null)):(Itemeditor=new PopupList,Itemeditor.w({k:null,Pg:new ItemEditor,list:ObjectLists.lc(),name:"Item List"}),Itemeditor.ra(),this.f(Itemeditor));break;case "/editnpc":null==NPCeditor||NPCeditor.ea||(NPCeditor=null);NPCeditor?(NPCeditor.Aa(),NPCeditor.K(),NPCeditor=
null,V.ht(null)):(NPCeditor=new PopupList,NPCeditor.w({k:null,Pg:new NPCEditor,list:ObjectLists.Rp(),name:"NPC List"}),NPCeditor.ra(),this.f(NPCeditor));break;case "/editquest":null==Questeditor||Questeditor.ea||(Questeditor=null),Questeditor?(Questeditor.Aa(),Questeditor.K(),Questeditor=null,V.ht(null)):(Questeditor=new PopupList,Questeditor.w({k:null,Pg:new QuestEditor,list:ObjectLists.Up(),name:"Quest List"}),Questeditor.ra(),this.f(Questeditor))}}switch(a){case "/help":S.showHelp();break;case "/commands":S.dY();
break;case "/diceroll":a=Math.floor(6*Math.random()+1);c=G["/diceroll"];c=c.replace("\x3cPLAYER\x3e",R.t.Q.getName());c=c.replace("\x3cVALUE\x3e",a);S.Cb(c);z({diceroll:c});break;case "/coinflip":a=1==Math.floor(3*Math.random()+1)?"Heads":"Tails";c=G["/coinflip"];c=c.replace("\x3cPLAYER\x3e",R.t.Q.getName());c=c.replace("\x3cVALUE\x3e",a);S.Cb(c);z({coinflip:c});break;case "/dance":a=G["/dance"];a=a.replace("\x3cPLAYER\x3e",R.t.Q.getName());S.Cb(a);z({dance:a});break;case "/afk":R.t.Q.updateStatus("AFK"),
z({afk:!0})}}},w:function(a){this._super();K=this;this.f(V.create());ObjectLists.g();R.create({name:a.uj.name,rj:!0,Tn:{health:{ad:1,value:100,ig:200,hg:900},mana:{ad:1,value:100,ig:200,hg:99}},map:a.uj.location.mapnumber?a.uj.location.mapnumber:1,position:a.uj.location.position,st:"sprites1.png",qt:1,Dp:a.uj.rank,pJ:a.uj.inventory,oI:a.uj.equipment,Il:a.uj.quests,ti:a.uj.extraData});V.dR();this.b.K();this.nq(-20);z({moveTo:R.t.Q.fc().x+R.t.Q.fc().y*O});this.f(S.create());this.f(U.create(a.uj.skills));
this.zL(!1);this.yL(!1);this.ZX();this.f(this.b);this.gc(this.qE);this.gc(this.GW);this.gc(this.yW,120)},yW:function(){var a={saveUser:!0,name:R.t.Q.getName(),location:{mapnumber:V.mf(),position:R.t.Q.fc().x+R.t.Q.fc().y*O},inventory:R.t.Q.Qg(),equipment:R.t.Q.Yw(),skills:[],clan:"",guilds:[],quests:R.t.Q.Il,friends:[],bank:R.t.Q.Np(),pets:[],pmessages:[],lastchats:[],health:100,extraData:R.t.Q.ti};this.b.saving_icon.D(!0);this.zJ=!0;z(a);console.log("SAVING NOW!")},OS:function(){this.b.saving_icon.D(!1);
this.zJ=!1},ZX:function(){1==R.t.Q.Dp&&this.b.quickedit_button.D(!1)},qE:function(){if(0<A.length)for(var a=0;a<A.length;a++){var c=JSON.parse(A[a]);c.moveTo&&(!R.wi(c.id)||R.wi(c.id)&&!1==R.wi(c.id).Xg)?(reactToSocketMessage(JSON.stringify(c)),A.splice(a,1)):c.moveTo||(reactToSocketMessage(JSON.stringify(c)),A.splice(a,1))}},GW:function(){if(!0==MapMaster){var a=R.fN(),c;for(c in a)if(!1==a[c].Cx){var d=10*Math.random()+1,e=a[c].fc();switch(Math.floor(4*Math.random())+1){case 1:e.x++;break;case 2:e.y++;
break;case 3:e.x--;break;case 4:e.y--}a[c].CX(e,d)}}}});var Ka=q.Na.extend({qd:null,O3:!1,UD:function(a){console.log("setting focused: "+a);a&&!0==a?this.qd.N.focus():(console.log("blurrin"),this.qd.N.blur())},gD:function(){console.log("isfocused\x3d"+document.activeElement==this.qd.N);return document.activeElement==this.qd.N},pa:function(a){this.qd.ie(a)},MC:function(){return this.qd.ba()},w:function(){q.log("Ovveride inputbox init call if necessary")},ctor:function(a,c,d,e,f,g,h,k){h&&!1!=h?(this.qd=MultiLineBox.create(q.size(c.width,c.height),k?q.Wd.create(k):
q.Wd.create()),this.qd.ft(q.o(f.q,f.p,f.n))):(this.qd=SingleLineBox.create(q.size(c.width,c.height),k?q.Wd.create(k):q.Wd.create()),c=ka(f.q,f.p,f.n),this.qd.N.style.background=c);this.qd.ie(e);this.qd.fS=e;this.qd.VD(q.o(g.q,g.p,g.n));this.qd.l(d.x,d.y);this.qd.A(q.a(0,1));this.qd.og(this);a.f(this.qd);this.w()}});var La=Ka.extend({sl:function(a){a.ie("")},tl:function(a,c){c||("/"==a.ba().substring(0,1)?this.vW(a.ba()):0<a.ba().length&&S.Cb(a.ba(),!0));a.ie(G["Default ChatBar Message"])},vW:function(a){F.g().od.Oh(a)},ri:function(a,c){a.ie(c);q.log("chatBox "+this.mG(a)+", TextChanged, text: "+c)},mG:function(){return"chatbox"}}),Z=null,S=q.Tc.extend({lC:null,HH:function(a){for(var c=[],d=0;7>d;d++)c.push(this.b.chat_panel["label"+d].MC());this.b.chat_panel.label0.pa(a);for(d=1;8>d;d++)this.b.chat_panel["label"+
d].pa(c[d-1])},qc:function(){return{panels:{children:{chat_panel:{size:q.size(400,150),$:"GUI/chat.png",e:q.a(0,0),opacity:200,position:q.a(0,0),children:{chatbar:{size:q.size(390,22),position:q.a(5,124),color:q.j(255,255,255,255)},label7:{label:"",position:q.a(5,0),e:q.a(0,0),color:q.o(0,0,0)},label6:{label:"",position:q.a(5,15),e:q.a(0,0),color:q.o(0,0,0)},label5:{label:"",position:q.a(5,30),e:q.a(0,0),color:q.o(0,0,0)},label4:{label:"",position:q.a(5,45),e:q.a(0,0),color:q.o(0,0,0)},label3:{label:"",
position:q.a(5,60),e:q.a(0,0),color:q.o(0,0,0)},label2:{label:"",position:q.a(5,75),e:q.a(0,0),color:q.o(0,0,0)},label1:{label:"",position:q.a(5,90),e:q.a(0,0),color:q.o(0,0,0)},label0:{label:"",position:q.a(5,105),e:q.a(0,0),color:q.o(0,0,0)}}}}}}}});
S.create=function(){Z||(Z=new S,Z.b=ya(Z),Z.f(Z.b),Z.lC=new La(Z.b.chat_panel.chatbar,q.size(Z.b.chat_panel.chatbar.c().width-4,Z.b.chat_panel.chatbar.c().height),q.a(2,Z.b.chat_panel.chatbar.c().height),G["Default ChatBar Message"],q.o(255,255,255),q.o(0,0,0)),S.cJ(),S.hY());return Z};S.g=function(){return Z};S.Cb=function(a,c){50<a.length&&(a=a.substring(0,50)+"...");c?(z({chatMessage:a}),Z.HH(R.t.Q.getName()+": "+a)):Z.HH(a)};S.show=function(){Z.b.Ac(0)};S.cJ=function(){Z.b.Ac(-76)};
S.yU=function(){return 0!=Z.b.u.S?!1:!0};S.UD=function(a){Z.lC.UD(a)};S.gD=function(){return Z.lC.gD()};S.showHelp=function(){S.Cb(t.He.VT);S.Cb(t.He.WT);S.Cb(t.He.XT);S.Cb(t.He.YT);S.Cb(t.He.ZT)};S.dY=function(){S.Cb(t.He.OR);S.Cb(t.He.PR);S.Cb(t.He.QR);S.Cb(t.He.RR)};S.hY=function(){S.Cb(G["Welcome Message"])};S.kf=function(){Z.b.K();Z.b=null};S.gt=function(){Z.K();Z=null};var $=Ka.extend({Wp:!1,SJ:!1,gI:!1,fD:!1,sl:function(a){!1==this.gI&&a.ie("");this.fD=!0},hq:function(a){this.qd.hq(a)},Y7:function(){return this.fD},tl:function(a){this.fD=!1;null==a.ba()||""==a.ba().length&&this.SJ?this.Wp=!0:0<!a.ba().length?(a.ie(this.qd.fS),this.Wp=!1):this.Wp=!0},ri:function(a,c){a.ie(c);this.Wp=!0},mG:function(){return"name_entry"},ba:function(){return!0==this.Wp||!0==this.eS?this.qd.ba():null},ie:function(a){this.qd.ie(a);this.Wp=!0},lb:function(a){this.eS=a},Qc:function(a){this.SJ=
a},KK:function(a){this.gI=a},w:function(){}});var A=[],Ma=io.connect(la["SERVER:PORT"],{"sync disconnect on unload":!0,"connect timeout":5E3,"reconnection delay ":100});Ma.on("connect",function(){W.Hy();W.oM();W.zN();console.log("Client has connected to the server!");if(F){var a=F.g().od;a?a.Rn(!0):A.push(JSON.stringify({connect:!0}))}else A.push(JSON.stringify({connect:!0}))});Ma.on("message",function(a){reactToSocketMessage(a)});
reactToSocketMessage=function(a){a=JSON.parse(a);var c=!1,d;for(d in a){c=!0;break}if(!1!=c)if(console.log("Received a message from the server!",a),a.sync)a.mapdata&&W.RL(a.mapdata,a.maptime),a.warpdata&&W.oy(a.warpdata,a.warptime),a.itemdata&&W.xt(a.itemdata,a.itemtime),a.skillsdata&&W.AE(a.skillsdata,a.skillstime),a.signsdata&&W.ny(a.signsdata,a.signstime),a.npcsdata&&W.SL(a.npcsdata,a.npcstime),a.questdata&&W.my(a.questdata,a.queststime),a.shopsdata&&W.XL(a.shopsdata,a.shopstime),a.settingsdata&&
(W.zE(a.settingsdata,a.settingstime),G=Fa(G,a.settingsdata)),a.scriptsdata&&W.WL(a.scriptsdata,a.scriptstime),sa=!0;else if(c=F.g().od)if(a.connect?c.Rn(!0):a.disconnect&&c.Rn(!1),"Game"==c.Jc())if(a.newPlayer)R.cR({id:a.id,location:{position:a.position,mapnumber:a.mapnumber}});else if(a.playerLeft)R.wi(a.playerLeft).kg==R.t.Q.kg&&(MapMaster=!1),R.fI(a.playerLeft);else if(a.setTo)if(!R.wi(a.id)||R.wi(a.id)&&!1==R.wi(a.id).Xg){for(c=0;c<A.length;c++)d=JSON.parse(A[c]),d.moveTo&&null!=d.moveTo&&d.id==
a.id&&(A.splice(c,1),c--);R.wV({id:a.id,location:{position:a.position,mapnumber:a.mapnumber}});R.wi(a.id).kg==R.t.Q.kg&&(MapMaster=!1);R.BR(a.id,a.mapnumber)}else A.push(JSON.stringify(a));else a.moveTo?!R.wi(a.id)||R.wi(a.id)&&!1==R.wi(a.id).Xg?R.SU({id:a.id,location:{position:a.position,mapnumber:a.mapnumber}}):A.push(JSON.stringify(a)):a.chatMessage?S.Cb(a.chatMessage):a.coinflip?S.Cb(a.coinflip):a.diceroll?S.Cb(a.diceroll):a.dance?S.Cb(a.dance):a.afk?R.CR(a.afk):a.savemap?(W.zR(a.savemap,a.mapdata,
a.updatetime),V.aY(a.mapdata)):a.mapmaster?MapMaster=!0:a.savewarps?(W.JR(parseInt(a.savewarps),a.warpdata,a.updatetime),ObjectLists.XI()[parseInt(a.savewarps)]=a.warpdata,Warpeditor&&(Warpeditor.fb=ObjectLists.XI(),Warpeditor.ra())):a.savewarpswhole?(W.WV(a.savewarpswhole,a.updatetime),ObjectLists.XX(a.savewarpswhole)):a.savescripts?(W.ER(parseInt(a.savescripts),a.scriptsdata,a.updatetime),ObjectLists.Ie()[parseInt(a.savescripts)]=a.scriptsdata,Scripteditor&&(Scripteditor.fb=ObjectLists.Ie(),Scripteditor.ra())):
a.savescriptswhole?(W.SV(a.savescriptswhole,a.updatetime),ObjectLists.KX(a.savescriptswhole)):a.savesettings?(W.zE(a.savesettings,a.updatetime),G=Fa(G,a.savesettings),Settingseditor&&(Settingseditor.data=J(G),Settingseditor.yb())):a.savequests?(W.DR(parseInt(a.savequests),a.questdata,a.updatetime),ObjectLists.Up()[parseInt(a.savequests)]=a.questdata,Questeditor&&(Questeditor.fb=ObjectLists.Up(),Questeditor.ra())):a.savequestswhole?(n,W.RV(a.savequestswhole,a.updatetime),ObjectLists.FX(a.savequestswhole)):
a.saveshops?(W.FR(parseInt(a.saveshops),a.shopsdata,a.updatetime),ObjectLists.Os()[parseInt(a.saveshops)]=a.shopsdata,Shopeditor&&(Shopeditor.fb=ObjectLists.Os(),Shopeditor.ra())):a.saveshopswhole?(W.TV(a.saveshopswhole,a.updatetime),ObjectLists.LX(a.saveshopswhole)):a.saveskills?(W.HR(parseInt(a.saveskills),a.skillsdata,a.updatetime),ObjectLists.rk()[parseInt(a.saveskills)]=a.skillsdata,Skillseditor&&(Skillseditor.fb=ObjectLists.rk(),Skillseditor.ra()),U.update(),Skills&&Skills.jb()):a.saveskillswhole?
(W.VV(a.saveskillswhole,a.updatetime),ObjectLists.NX(a.saveskillswhole),U.update(),Skills&&Skills.jb()):a.savesigns?(W.GR(parseInt(a.savesigns),a.signsdata,a.updatetime),ObjectLists.OI()[parseInt(a.savesigns)]=a.signsdata,Signeditor&&(Signeditor.fb=ObjectLists.OI(),Signeditor.ra())):a.moveNPC?(a.npcID=parseInt(a.npcID),!R.Qp(a.npcID)||R.Qp(a.npcID)&&!1==R.Qp(a.npcID).Xg?R.RU(a.npcID,a.moveNPC,a.mapnumber):A.push(JSON.stringify(a))):a.changeNPCPosition?R.Qp(a.npcID)&&(a.npcID=parseInt(a.npcID),R.Qp(a.npcID)&&
!1==R.Qp(a.npcID).Xg?R.mW(a.npcID,a.changeNPCPosition):A.push(JSON.stringify(a))):a.savesignswhole?(W.UV(a.savesignswhole,a.updatetime),ObjectLists.MX(a.savesignswhole)):a.savenpcs?(W.AR(parseInt(a.savenpcs),a.npcsdata,a.updatetime),ObjectLists.Rp()[parseInt(a.savenpcs)]=a.npcsdata,V.Vp(V.mf(),!0),NPCeditor&&(NPCeditor.fb=ObjectLists.Rp(),NPCeditor.ra())):a.savenpcswhole?(W.QV(a.savenpcswhole,a.updatetime),ObjectLists.pX(a.savenpcswhole),V.Vp(V.mf(),!0),NPCeditor&&(NPCeditor.fb=ObjectLists.Rp(),NPCeditor.ra())):
a.saveitems?(W.yR(parseInt(a.saveitems),a.itemdata,a.updatetime),c=ObjectLists.lc()[parseInt(a.saveitems)].name,ObjectLists.lc()[parseInt(a.saveitems)]=a.itemdata,V.Vp(V.mf()),Itemeditor&&(Itemeditor.fb=ObjectLists.lc(),Itemeditor.ra()),Inventory&&Inventory.jb(),R.t.Q.xt(c,a.itemdata)):a.droppeditem?a.mapnumber==V.mf()&&!1==V.g().Wg?(c=V.UI(a.index),c.JH(a.droppeditem,a.amount),V.yt()):A.push(JSON.stringify(a)):a.pickupitem?a.mapnumber==V.mf()&&(c=V.UI(a.pickupitem),c.removeItem(),V.yt()):a.saveitemswhole?
(W.PV(a.saveitemswhole,a.updatetime),ObjectLists.hX(a.saveitemswhole)):a.savesuccess&&c.OS();else"Login"==c.Jc()&&(a.login_success?c.VU(a.login_success):a.login_fail?c.wx(a.login_fail):a.registrationsuccess?c.SR():a.registrationfailed&&c.KS(a.registrationfailed));else A.push(JSON.stringify(a))};Ma.on("disconnect",function(){console.log("The client has disconnected!");var a=F.g().od;a?a.Rn(!1):A.push(JSON.stringify({disconnect:!0}))});function z(a){Ma.send(JSON.stringify(a))};var F=q.Tc.extend({t:null,Hp:null,od:null,FH:null,w:function(){Ea();q.qa.g().GX(this.hV);var a=q.qa.g().pn();this.Hp=q.v.create();this.Hp.r(q.o(0,0,0));this.Hp.gb(q.rect(0,0,a.width,a.height));this.Hp.A(q.a(0,0));this.f(this.Hp);W.g()&&sa?(G=Fa(G,W.KC()),this.vl("Login",{}),this.gc(this.VH),autoLoginNextTime=W.sJ(),rememberLoginNextTime=W.yJ()):this.gc(this.dJ)},hV:function(){var a=q.qa.g();P=q.size(a.pn().width,a.pn().height);F.g().Hp.gb(q.rect(0,0,P.width,P.height));F.g().od.qD()},dJ:function(){W.g()&&
sa&&(this.Sc(this.dJ),G=Fa(G,W.KC()),this.vl("Login",{}),this.gc(this.VH),autoLoginNextTime=W.sJ(),rememberLoginNextTime=W.yJ())},VH:function(){for(var a in ma)if(!0==ma[a]&&null!=this.od){var c=null;a=parseInt(a);switch(a){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";
break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a&&58>a||64<a&&91>a)&&(c=String.fromCharCode(a));null!=c&&this.od.pD(c)}},vl:function(a,c){null!=this.od&&(this.od.Aa(),this.od.K(),this.od=null);switch(a){case "Login":this.od=new Login;break;case "Game":this.od=new Ja}this.od.aM();this.f(this.od,1);this.od.fX(a);this.od.ra();this.od.w(c)},z4:function(){return this.od.Jc()}});
F.g=function(){null==this.t&&(this.t=new F);return this.t};F.Pn=function(a){null==this.t&&(this.t=new F);this.t.FH=a};F.QS=function(){null==this.t&&(this.t=new F);return this.t.FH};var P;
new (q.Dj.extend({Nw:document.ccConfig,ctor:function(){this._super();q.Ft=this.Nw.COCOS2D_DEBUG;q.Sl(this.Nw.tag);q.uy.bY().tS()},pR:function(){var a=this.Nw,c=q.fa.g(),d=q.qa.g();d.pW(!0);P=d.pn();q.size(P.width,P.height);var e=q.size(P.width,P.height),f=q.Vd.g();q.Dj.g();f.hL(["res/Graphics"]);q.Qh&&q.Qh.g().uba("res/Audio");c.UW(1);d.SD(e.width,e.height,q.ko.SHOW_ALL);c.et(1/a.frameRate);a.test?q.test(a.test):q.JU(function(a){q.Xy.wD(a,function(){document.getElementById("gameCanvas").setAttribute("tabindex","0");
document.getElementById("gameCanvas").focus();var a=F.g();q.fa.g().tK(a);a.w()})});return!0}}));
//@ sourceMappingURL=sourcemap