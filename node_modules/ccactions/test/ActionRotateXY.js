var SPRITE_GROSSINI_TAG = 1;
var SPRITE_TAMARA_TAG = 2;
var SPRITE_KATHIA_TAG = 3;

var ActionRotateXY = cc.LayerGradient.extend({
    init : function(){
        this._super(cc.c4b(0,0,0,255), cc.c4b(98,99,117,255) );

        this._grossini = cc.Sprite.create(res.grossini_png);
        this._tamara = cc.Sprite.create(res.grossinis_sister1_png);
        this._kathia = cc.Sprite.create(res.grossinis_sister2_png);
        this.addChild(this._grossini, SPRITE_GROSSINI_TAG);
        this.addChild(this._tamara, SPRITE_TAMARA_TAG);
        this.addChild(this._kathia, SPRITE_KATHIA_TAG);
        winSize = cc.Director.getInstance().getWinSize();
        this._grossini.setPosition(winSize.width / 2, winSize.height / 2);
        this._tamara.setPosition(winSize.width / 4, winSize.height / 2);
        this._kathia.setPosition(3 * winSize.width / 4, winSize.height / 2);

        var actionTo = cc.RotateTo.create(2, 37.2, -37.2);
        var actionToBack = cc.RotateTo.create(2, 0, 0);
        var actionBy = cc.RotateBy.create(2, 0, -90);
        var actionBy2 = cc.RotateBy.create(2, 45.0, 45.0);

        var delay = cc.DelayTime.create(0.25);

        this._tamara.runAction(cc.Sequence.create(actionTo, delay, actionToBack));
        this._grossini.runAction(cc.Sequence.create(actionBy, delay.clone(), actionBy.reverse()));

        this._kathia.runAction(cc.Sequence.create(actionBy2, delay.clone(), actionBy2.reverse()));

        if (sys.platform === 'browser' && !("opengl" in sys.capabilities)) {
            var label = cc.LabelTTF.create("Not support Actions on HTML5-canvas", "Times New Roman", 30);
            label.setPosition(winSize.width / 2, winSize.height / 2 + 50);
            this.addChild(label, 100);
        }

        return true;
    }
});
ActionRotateXY.create = function(args){
    var layer = new ActionRotateXY();
    layer.init();
    return layer;
}