var MouseTest = cc.Layer.extend({
    init : function(){
        this._super();

        var sprite = this.sprite = cc.Sprite.create(res.r2_png);
        this.addChild(sprite);
        sprite.setPosition(0,0);
        sprite.setScale(1);
        sprite.setColor( cc.c3b(Math.random()*200+55, Math.random()*200+55, Math.random()*200+55) );

        if( 'mouse' in sys.capabilities ) {
            this.setMouseEnabled(true);
        } else {
            cc.log("MOUSE Not supported");
        }
        return true;
    },
    onMouseDown:function(event) {
        var pos = event.getLocation();
        logTest("onMouseDown at: " + pos.x + " " + pos.y );
        this.sprite.setPosition( pos );
    },
    onMouseDragged:function(event) {
        var pos = event.getLocation();
        logTest("onMouseDragged at: " + pos.x + " " + pos.y );
        this.sprite.setPosition( pos );
    },
    onMouseUp:function(event) {
        var pos = event.getLocation();
        this.sprite.setPosition( pos );
        logTest("onMouseUp at: " + pos.x + " " + pos.y );
    },
    onRightMouseDown:function(event){
        var pos = event.getLocation();
        this.sprite.setPosition( pos );
        logTest("onRightMouseDown at: " + pos.x + " " + pos.y );
    }
});

MouseTest.create = function(args){
    var layer = new MouseTest();
    return layer.init() ? layer : null;
};
