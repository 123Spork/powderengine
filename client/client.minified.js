var b,aa={J2:"40x40Tiles.png",h4:"GUI/bank.png",j4:"GUI/book.png",m4:"GUI/btnDown.png",n4:"GUI/btnLeft.png",o4:"GUI/btnRight.png",p4:"GUI/btnUp.png",G4:"GUI/checkbox_checked.png",H4:"GUI/checkbox_uncheck.png",I4:"GUI/close.png",P4:"GUI/copy.png",S4:"GUI/cross_icon.png",X4:"GUI/defaultitem.png",n5:"GUI/edit.png",p5:"GUI/equipment.png",q5:"GUI/event_panel.png",s9:"GUI/healthbar.png",H9:"GUI/inventory.png",W$:"GUI/npctalk.png",$aa:"GUI/quest_panel.png",Gba:"GUI/save_icon.png",Jba:"GUI/selected.png",
Jda:"GUI/shop.png",Lda:"GUI/signpost.png",Pda:"GUI/splash.png",lea:"GUI/tick_icon.png",uea:"GUI/trash.png",Hea:"GUI/use.png",q4:"building1.png",y$:"items1.png",Qda:"sprites1.png",mea:"tiles0.png",nea:"tiles1.png"};var q=q||{},ba={};q.MW=function(a){var c=q.hF[ba.IJ.ZG];if(c){for(var d=[],e=0;e<c.length;++e)d.push({src:c[e]});a(d)}else a([])};ba={IJ:{ZG:"_0"}};q.hF={};q.hF[ba.IJ.ZG]=[];q.hF.BT=[];q=q||{};function ca(){return arguments.callee.name||arguments.callee.toString().match(/^function ([^(]+)/)[1]}ca.id=0|998*Math.random();ca.qW=0|998*Math.random();
ca.JJ=function(a,c,d){for(var e=a.toString(),f=e.substring(e.indexOf("(")+1,e.indexOf(")")),f=f.trim(),e=e.substring(e.indexOf("{")+1,e.lastIndexOf("}"));-1!=e.indexOf("this._super");)var g=e.indexOf("this._super"),h=e.indexOf("(",g),k=e.substring(h+1,e.indexOf(")",h)),k=(k=k.trim())?",":"",l=arguments.callee.iO(),e=e.substring(0,g)+l+"["+d+"]."+c+".call(this"+k+e.substring(h+1);return Function(f,e)};ca.JJ.iO=ca;ca.oV=function(){return this.id++};ca.pV=function(){return this.qW++};
(function(){var a=/\b_super\b/,c=document.ccConfig&&document.ccConfig.CLASS_RELEASE_MODE?document.ccConfig.CLASS_RELEASE_MODE:null;c&&console.log("release Mode");q.Ka=function(){};q.Ka.extend=function(d){function e(){this.Bc=ca.pV();this.ctor&&this.ctor.apply(this,arguments)}var f=this.prototype,g=Object.create(f),h=ca.oV();ca[h]=f;var k={writable:!0,enumerable:!1,configurable:!0},l;for(l in d)c&&"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=ca.JJ(d[l],l,h),Object.defineProperty(g,
l,k)):"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=function(a,c){return function(){var d=this._super;this._super=f[a];var e=c.apply(this,arguments);this._super=d;return e}}(l,d[l]),Object.defineProperty(g,l,k)):"function"==typeof d[l]?(k.value=d[l],Object.defineProperty(g,l,k)):g[l]=d[l];g.Bc=null;e.id=h;k.value=h;Object.defineProperty(g,"__pid",k);e.prototype=g;k.value=e;Object.defineProperty(e.prototype,"constructor",k);e.extend=arguments.callee;e.v9=function(a){for(var c in a)g[c]=
a[c]};return e};Function.prototype.bind=Function.prototype.bind||function(a){var c=this;return function(){return c.apply(a||null,Array.prototype.slice.call(arguments))}}})();q.x9=function(a,c){function d(){}d.prototype=c.prototype;a.Bz=c.prototype;a.prototype=new d;a.prototype.constructor=a};
q.BT=function(a,c,d){var e=arguments.callee.caller;if(e.Bz)return ret=e.Bz.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var f=Array.prototype.slice.call(arguments,2),g=!1,h=a.constructor;h;h=h.Bz&&h.Bz.constructor)if(h.prototype[c]===e)g=!0;else if(g)return h.prototype[c].apply(a,f);if(a[c]===e)return a.constructor.prototype[c].apply(a,f);throw Error("cc.base called from a method of one name to a method of a different name");};
q.L4=function(a,c){a||(a={});for(var d in c)a[d]=c[d];return a};q.Hh=function(a,c){this.x=a||0;this.y=c||0};q.lH=function(a,c){this.R=a||0;this.S=c||0;this.lN=function(a){this.R=a};this.mN=function(a){this.S=a}};q.Yd=function(){return new q.lH(0,0)};
Object.defineProperties(q.lH.prototype,{x:{get:function(){return this.R},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0},y:{get:function(){return this.S},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0}});q.J1=function(a,c){q.log("cc.PointMake will be deprecated sooner or later. Use cc.p instead.");return new q.Hh(a,c)};
q.a=function(a,c){return{x:a,y:c}};q.r3=q.a;q.lk=function(){return q.a(0,0)};q.VL=function(a,c){return a&&c?a.x===c.x&&a.y===c.y:!1};q.ql=function(a,c){this.width=a||0;this.height=c||0};q.mH=function(a,c){this.Ea=a||0;this.ra=c||0;this.IF=function(a){this.Ea=a};this.vF=function(a){this.ra=a}};q.Ln=function(){return new q.mH(0,0)};
Object.defineProperties(q.mH.prototype,{width:{get:function(){return this.Ea},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0},height:{get:function(){return this.ra},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0}});q.o2=function(a,c){q.log("cc.SizeMake will be deprecated sooner or later. Use cc.size instead.");return q.size(a,c)};
q.size=function(a,c){return{width:a,height:c}};q.Xa=q.size;q.cn=function(){return q.size(0,0)};q.lJ={wX:q.Yd(),n_:q.Ln()};Object.defineProperties(q,{dP:{get:function(){return q.lJ.wX},configurable:!0},oP:{get:function(){return q.lJ.n_},configurable:!0},O1:{get:function(){return q.rect(0,0,0,0)},configurable:!0}});q.m_=function(a,c){return a&&c?a.width==c.width&&a.height==c.height:!1};
q.Rect=function(a,c,d,e){var f=arguments.length;if(4===f)this.rd=new q.Hh(a||0,c||0),this.Xa=new q.ql(d||0,e||0);else if(1===f)this.rd=new q.Hh(a.rd.x,a.rd.y),this.Xa=new q.ql(a.Xa.width,a.Xa.height);else if(0===f)this.rd=new q.Hh(0,0),this.Xa=new q.ql(0,0);else if(2===f)this.rd=new q.Hh(a.x,a.y),this.Xa=new q.ql(c.width,c.height);else throw"unknown argument type";};q.V1=function(a,c,d,e){q.log("cc.RectMake will be deprecated sooner or later. Use cc.rect instead.");return q.rect(a,c,d,e)};
q.rect=function(a,c,d,e){var f=arguments.length;if(0===f)return new q.Rect(0,0,0,0);if(1===f)return new q.Rect(a.x,a.y,a.width,a.height);if(2===f)return new q.Rect(a.x,a.y,c.width,c.height);if(4===f)return new q.Rect(a,c,d,e);throw"unknown argument type";};q.va=q.rect;q.Gd=function(){return q.rect(0,0,0,0)};q.bM=function(a,c){return a&&c?q.VL(a.rd,c.rd)&&q.m_(a.Xa,c.Xa):!1};q.Ts=function(a){return a?0===a.x&&0===a.y&&0===a.width&&0===a.height:!1};
q.aba=function(a,c){return a&&c?!(a.x>=c.x||a.y>=c.y||a.x+a.width<=c.x+c.width||a.y+a.height<=c.y+c.height):!1};q.Go=function(a){return a.x+a.width};q.bba=function(a){return a.x+a.width/2};q.wm=function(a){return a.x};q.Ho=function(a){return a.y+a.height};q.cba=function(a){return a.y+a.height/2};q.xm=function(a){return a.y};q.vc=function(a,c){return c.x>=q.wm(a)&&c.x<=q.Go(a)&&c.y>=q.xm(a)&&c.y<=q.Ho(a)};q.QX=function(a,c){return!(q.Go(a)<q.wm(c)||q.Go(c)<q.wm(a)||q.Ho(a)<q.xm(c)||q.Ho(c)<q.xm(a))};
q.dba=function(a,c){return!(a.x+a.width<c.x||c.x+c.width<a.x||a.y+a.height<c.y||c.y+c.height<a.y)};q.az=function(a,c){var d=q.rect(0,0,0,0);d.x=Math.min(a.x,c.x);d.y=Math.min(a.y,c.y);d.width=Math.max(a.x+a.width,c.x+c.width)-d.x;d.height=Math.max(a.y+a.height,c.y+c.height)-d.y;return d};q.PX=function(a,c){var d=q.rect(Math.max(q.wm(a),q.wm(c)),Math.max(q.xm(a),q.xm(c)),0,0);d.width=Math.min(q.Go(a),q.Go(c))-q.wm(d);d.height=Math.min(q.Ho(a),q.Ho(c))-q.xm(d);return d};b=q.Rect.prototype;
b.lN=function(a){this.rd.x=a};b.mN=function(a){this.rd.y=a};b.Xt=function(){return this.Xa.width};b.IF=function(a){this.Xa.width=a};b.St=function(){return this.Xa.height};b.vF=function(a){this.Xa.height=a};
Object.defineProperties(q.Rect.prototype,{x:{get:function(){return this.rd.x},set:function(a){this.lN(a)},enumerable:!0,configurable:!0},y:{get:function(){return this.rd.y},set:function(a){this.mN(a)},enumerable:!0,configurable:!0},width:{get:function(){return this.Xt()},set:function(a){this.IF(a)},enumerable:!0,configurable:!0},height:{get:function(){return this.St()},set:function(a){this.vF(a)},enumerable:!0,configurable:!0}});var r=r||{};try{r.localStorage=window.localStorage,window.localStorage.setItem("storage",""),window.localStorage.removeItem("storage")}catch(da){"SECURITY_ERR"!==da.name&&"QuotaExceededError"!==da.name||console.log("Warning: localStorage isn't enabled. Please confirm browser cookie or privacy option"),r.localStorage=function(){}}
Object.defineProperties(r,{x4:{get:function(){var a={canvas:!0};q.Aa.pd&&(a.opengl=!0);"ontouchstart"in document.documentElement||window.navigator.msPointerEnabled?a.touches=!0:"onmouseup"in document.documentElement&&(a.mouse=!0);"onkeyup"in document.documentElement&&(a.keyboard=!0);if(window.DeviceMotionEvent||window.DeviceOrientationEvent)a.accelerometer=!0;return a},enumerable:!0,configurable:!0},QL:{get:function(){var a=navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?!0:!1,c=navigator.userAgent.match(/android/i)||
navigator.platform.match(/android/i)?!0:!1,d=navigator.appVersion;-1!=navigator.appVersion.indexOf("Win")?d="Windows":a?d="iOS":-1!=navigator.appVersion.indexOf("Mac")?d="OS X":-1!=navigator.appVersion.indexOf("X11")?d="UNIX":-1!=navigator.appVersion.indexOf("Linux")?d="Linux":c&&(d="Android");return d},enumerable:!0,configurable:!0},platform:{get:function(){return"browser"},enumerable:!0,configurable:!0},version:{get:function(){return q.bv},enumerable:!0,configurable:!0}});r.M5=function(){};
r.k5=function(){};r.Bba=function(){};q.bv="Cocos2d-html5-v2.2.2";q.vv=0;q.wG=q.a(0,0);q.oO=.5;q.r0=1;q.pP=1;q.aP=0;q.eH=0;q.q2=0;q.r2=0;q.R1=1;q.Q1="-hd";q.FP=1;q.mk=0;q.l2=0;q.n1=0;q.m1=0;q.nA=1;q.A0=q.bv+"-canvas";q.iy={platform:r.platform};q.j5=function(){for(var a in r)q.log(a+" = "+r[a])};q.av=1;q.yG=1;q.KJ=function(a,c){for(var d=["webgl","experimental-webgl","webkit-3d","moz-webgl"],e=null,f=0;f<d.length;++f){try{e=a.getContext(d[f],c)}catch(g){}if(e)break}return e};q.Aa={};q.Aa.O_=["baidubrowser","opera","firefox","chrome","safari"];q.Aa.XW="baidubrowser opera firefox chrome safari ucbrowser qqbrowser mqqbrowser ie".split(" ");
(function(){q.Aa.Hz=navigator.userAgent.toLowerCase();q.Aa.platform=navigator.platform.toLowerCase();q.Aa.Zj=-1!=q.Aa.Hz.indexOf("mobile")||-1!=q.Aa.Hz.indexOf("android");q.Aa.type=function(){var a=q.Aa.Hz.match(/micromessenger|qqbrowser|mqqbrowser|ucbrowser|360browser|baidubrowser|maxthon|ie|opera|firefox/)||q.Aa.Hz.match(/chrome|safari/);return a&&0<a.length?(a=a[0],"micromessenger"==a?"wechat":a):"unknow"}();q.Aa.mode="ie"==q.Aa.type&&document.documentMode;document.ccConfig||(document.ccConfig=
{});q.wD=parseInt(document.ccConfig.renderMode)||0;var a=-1==q.Aa.O_.indexOf(q.Aa.type);1===q.wD||0===q.wD&&(q.Aa.Zj||a)?q.Aa.pd=!1:(q.Aa.pd=null!=window.WebGLRenderingContext,a=q.KJ(document.createElement("Canvas"),{stencil:!0,preserveDrawingBuffer:!0}),q.Aa.pd=null!=a);2!==q.wD||q.Aa.pd||(q.$A=!0);var a=q.Aa,c;try{c=new (window.AudioContext||window.webkitAudioContext||window.mozAudioContext)?!0:!1}catch(d){c=!1}a.u_=c;q.Aa.naa=function(a){if(this.Zj){var c=q.aa.f().ic,d=c.width+"px",c=c.height+
"px",h=q.kl("div");h.style.backgroundColor="#ffffff";h.style.width=d;h.style.height=c;h.style.R_=1E3;h.style.position="absolute";h.style.top="0px";h.style.left="0px";h.id="cocos2d-browser";var k=q.kl("iframe");k.src=a;k.style.width=d;k.style.height=c;k.setAttribute("frameborder","no");k.setAttribute("scrolling","no");h.appendChild(k);k.onload=function(){var a=document.createElement("img");a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5OERBMEM3OUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5OERBMEM3QUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjk4REEwQzc3RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjk4REEwQzc4RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+NwBuoAAAA/tJREFUeNrEWF0sW3EUb6+28zFhbGadsBaNhazV+kpDYhFWKRGWbHvwFV5IvPiIFw9evElEPEiWSUgsIWoIglhmUomPxj6aKC0zKVJjtPU5o9j5J7dLdbf33jKc5Jfc3v+v5/+755x7/j1lMoiNBRDh4AO88HvO2m+ACbAC+AJQAyz2JCbBFyMBWQA/xv+3DUAXLuivudhcY4BMwCuAB+NqDPmNAnAAOsCZvQgk4BnjeiwEwAbM2YoQA14yrteQEANgDcML7gXjZgw9OAuJkADu3JAIb7Q/hr+GtCwuLs6LDq+iooLvhBAREhFEl11ZWRne0tIiIeNIpVKv4uJi4dTUVApNt0EY3ohILSIiwqO7u1sql8vD8vLyJJ2dnXH2HDabzczPz3/Y1taWzOfz78XExDxSq9Vyd3d3jMK9F2pWr6lEtLa2RmVnZ4tt7w0NDWlTU1OVtkK7urqSQ0NDzzW5hYWFjcTExAGDwXDkyD+VSkZ7e3tsWlpamP19mUwWplQqk9B1UlKST3NzczxE4K49D4mCiDwn24PyPMjIyHjs6urKIVpLSEgInp6eZsM6Kzw8nEvEMZvNBxC1BbI9KCMhkUgUy8vLRpL1QIFA4EcSyZmcnJzpS4mYnZ3dj46O7p2fn193xIGi/CeiFovlFIp5pqGhYZ5qD1qFiQxCjk1OTsqEQmEAFReloL+/X0sVAadFWE2n02VA+O+TcVZXV01QkO8ODw9P6fjEnO2zvb2936g4XC7XG4rWm65P2iL8/f05kN8nBQUFQkqnGMYcGBjIys3N5dLxjY7ydDrE6urqsNLSUqmbmxuH1tOBkMzMTIHRaNxSqVTmS4soKyvjFRUViTw9PV2dTR901WAOh7M/MjKyeeHCbGpqEhcWFkY5Wl9aWtpUKBRaONziSbsii/Xm5OTk7EIdU6/X7zpaW1xc/Al5HxkfH9/e2dk5rqmpeUrE6+vr06ADzpEIlI5kMjFwPhh5PB5DJBKdK7KDg4Oj2tpaVUdHxw/0eWxszIjyj8Jvy4N60FdVVX2Grnt4dkaowYJESAG3yaLR09Oz5uvrexwbGxuAR2erpKTkI6RqxW5DM6RnLT09PQQV5vDwsDYlJWUU+I4EIDMhEQLAA6q0DA4OrqMCg/c/qL6+XtXY2Kgn4sGJuavRaFbFYrFPeXn5FIj6ReFa64KnIpJOpaMK39vbM9XV1X13lF9kc3Nz+xMTEwZo89s03A4ycRE1N/RjF/WPKgyfDRU39Gu7w1qYyNYAtwDB1yhgGPDBfgzU4bMi7xoEjAI6iWZRdGMGH80Cr2goRlP5W8B7qwBHfw1YO6kEH4yC8EnJ5QKbnuDFh17nr4BPRP9P/BFgAHo7ZNgI9EbHAAAAAElFTkSuQmCC";
h.appendChild(a);a.style.R_=1E3;a.style.position="absolute";a.style.bottom="10px";a.style.right="10px";a.onclick=function(){h.remove()}};(a=document.getElementById(document.ccConfig.tag).parentNode)&&a.appendChild(h)}else window.open(a)}})();q.W1=function(){return"undefined"===q.$A?!1:q.$A};
q.ac=function(a){var c=this==q?document:this;if(a=a instanceof HTMLElement?a:c.querySelector(a))a.find=a.find||q.ac,a.tE=a.tE||function(a){return this.className.match(new RegExp("(\\s|^)"+a+"(\\s|$)"))},a.rJ=a.rJ||function(a){this.tE(a)||(this.className&&(this.className+=" "),this.className+=a);return this},a.eY=a.eY||function(a){this.tE(a)&&(this.className=this.className.replace(a,""));return this},a.remove=a.remove||function(){this.parentNode&&this.parentNode.removeChild(this);return this},a.ho=
a.ho||function(a){a.appendChild(this);return this},a.JX=a.JX||function(a){a.childNodes[0]?a.insertBefore(this,a.childNodes[0]):a.appendChild(this);return this},a.To=a.To||function(){this.style[q.ac.B_]=q.ac.translate(this.position)+q.ac.rotate(this.rotation)+q.ac.scale(this.scale)+q.ac.Mm(this.Mm);return this},a.position=a.position||{x:0,y:0},a.rotation=a.rotation||0,a.scale=a.scale||{x:1,y:1},a.Mm=a.Mm||{x:0,y:0},a.WF=function(a,c){this.position.x=a;this.position.y=c;this.To()},a.rotate=function(a){this.rotation=
a;this.To();return this},a.resize=function(a,c){this.scale.x=a;this.scale.y=c;this.To();return this},a.bN=function(a,c){this.Mm.x=a;this.Mm.y=c;this.To()};return a};switch(q.Aa.type){case "firefox":q.ac.Co="Moz";q.ac.Qq=!0;break;case "chrome":case "safari":q.ac.Co="webkit";q.ac.Qq=!0;break;case "opera":q.ac.Co="O";q.ac.Qq=!1;break;case "ie":q.ac.Co="ms";q.ac.Qq=!1;break;default:q.ac.Co="webkit",q.ac.Qq=!0}q.ac.B_=q.ac.Co+"Transform";
q.ac.translate=q.ac.Qq?function(a){return"translate3d("+a.x+"px, "+a.y+"px, 0) "}:function(a){return"translate("+a.x+"px, "+a.y+"px) "};q.ac.rotate=q.ac.Qq?function(a){return"rotateZ("+a+"deg) "}:function(a){return"rotate("+a+"deg) "};q.ac.scale=function(a){return"scale("+a.x+", "+a.y+") "};q.ac.Mm=function(a){return"skewX("+-a.x+"deg) skewY("+a.y+"deg)"};q.kl=function(a){return q.ac(document.createElement(a))};
q.ac.G5=function(a){var c=0,d=0;do c+=a.offsetLeft,d+=a.offsetTop;while(a=a.offsetParent);return{x:c,y:d}};q.clone=function(a){var c=a.constructor?new a.constructor:{},d;for(d in a){var e=a[d];c[d]="object"!=typeof e||!e||e instanceof q.Node||e instanceof HTMLElement?e:q.clone(e)}return c};q.f4=function(){};q.BG=q.BG||!1;
q.gR=function(a){var c=document.getElementById("logInfoList");if(!c){var d=document.createElement("Div");d.setAttribute("id","logInfoDiv");q.canvas.parentNode.appendChild(d);d.setAttribute("width","200");d.setAttribute("height",q.canvas.height);d.style.zIndex="99999";d.style.position="absolute";d.style.top="0";d.style.left="0";c=document.createElement("ul");d.appendChild(c);c.setAttribute("id","logInfoList");c.style.height=q.canvas.height+"px";c.style.color="#fff";c.style.textAlign="left";c.style.listStyle=
"disc outside";c.style.fontSize="12px";c.style.fontFamily="arial";c.style.padding="0 0 0 20px";c.style.margin="0";c.style.textShadow="0 0 3px #000";c.style.zIndex="99998";c.style.position="absolute";c.style.top="0";c.style.left="0";c.style.overflowY="hidden";var e=document.createElement("Div");d.appendChild(e);e.style.width="200px";e.style.height=q.canvas.height+"px";e.style.opacity="0.1";e.style.background="#fff";e.style.border="1px solid #dfdfdf";e.style.borderRadius="8px"}d=document.createElement("li");
d.innerHTML=a;0==c.childNodes.length?c.appendChild(d):c.insertBefore(d,c.childNodes[0])};q.log=function(a){document.ccConfig.dev&&1==document.ccConfig.dev&&(q.BG?q.gR(a):console.log.apply(console,arguments))};q.t1=function(a){console.log(a)};q.Uu=function(a,c){console.assert?console.assert(a,c):a||c&&alert(c)};q.y9=function(){0==q.Wu?(q.log=function(){},q.yL=function(){},q.xL=function(){},q.Uu=function(){}):1==q.Wu?(q.yL=q.log,q.xL=function(){}):1<q.Wu&&(q.yL=q.log,q.xL=q.log)};q.HO=0;q.GO=1;
q.IO=2;q.LO=3;q.JO=4;q.SO=5;q.RO=6;q.NO=7;q.MO=8;q.KO=9;q.QO=10;q.FO=11;q.OO=12;q.PO=13;
q.Cv={DJ:8,eea:9,dK:13,shift:16,T4:17,alt:18,pause:19,y4:20,escape:27,Maa:33,Laa:34,end:35,home:36,left:37,wea:38,right:39,e5:40,C9:45,H0:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,Q:65,p:66,La:67,d:68,l5:69,qy:70,r:71,h:72,u9:73,z$:74,A$:75,F$:76,m:77,BL:78,jaa:79,a:80,Zaa:81,t:82,s:83,dea:84,Va:85,qa:86,TN:87,x:88,y:89,z:90,X$:96,Y$:97,Z$:98,$$:99,aaa:100,baa:101,caa:102,daa:103,eaa:104,faa:105,"*":106,"+":107,"-":109,numdel:110,"/":111,t5:112,x5:113,y5:114,z5:115,A5:116,B5:117,C5:118,
D5:119,E5:120,u5:121,v5:122,w5:123,iaa:144,Iba:145,Lba:186,",":186,o5:187,"=":187,";":188,K4:188,V4:189,".":190,Qaa:190,K5:191,p9:192,"[":219,oaa:219,"]":221,J4:221,g4:220,quote:222,Nda:32};q.Dq=function(a,c,d){if(a)if(c&&"string"==typeof a)c[a](d);else c&&"function"==typeof a?a.call(c,d):a(d)};q.rj=-1;q.PI=Math.PI;q.xO=parseFloat("3.402823466e+38F");q.lP=q.PI/180;q.nO=180/q.PI;q.EP=4294967295;q.m2=function(a,c,d){if("object"==typeof d&&"undefined"!=typeof d.x&&"undefined"!=typeof d.y){var e=d[a];d[a]=d[c];d[c]=e}else q.log("cc.SWAP is being modified from original macro, please check usage")};q.H$=function(a,c,d){return a+(c-a)*d};q.N1=function(){return 2*(Math.random()-.5)};q.M1=function(){return Math.random()};q.jk=function(a){return a*q.lP};q.AA=function(a){return a*q.nO};
q.bn=Number.MAX_VALUE-1;q.ff=q.aP?1:770;q.ef=771;q.uA=function(a){a.gd&&(a.gd.If(),a.gd.Dh())};q.T0=function(){};q.G0=function(){};q.wi=function(){q.ei+=1};q.wv=1.192092896E-7;q.qd=q.nA?function(){return q.aa.f().rn}:function(){return 1};q.cP=function(a){var c=q.qd();return q.a(a.x*c,a.y*c)};q.M2=function(a,c){var d=q.qd();c.R=a.x*d;c.S=a.y*d};q.FA=function(a){var c=q.qd();return q.size(a.width*c,a.height*c)};q.j2=function(a){var c=q.qd();return q.size(a.width/c,a.height/c)};
q.YA=function(a,c){var d=q.qd();c.Ea=a.width/d;c.ra=a.height/d};q.H1=function(a){var c=q.qd();return q.a(a.x/c,a.y/c)};q.kw=function(a,c){var d=q.qd();c.R=a.x/d;c.S=a.y/d};q.wr=q.nA?function(a){var c=q.qd();return q.rect(a.x/c,a.y/c,a.width/c,a.height/c)}:function(a){return a};q.bp=q.nA?function(a){var c=q.qd();return q.rect(a.x*c,a.y*c,a.width*c,a.height*c)}:function(a){return a};q.lG=function(){if(q.zba==q.rl){var a=q.$.getError();a&&q.log("WebGL error "+a)}};q.b2=0;q.a2=1;q.Y1=2;q.Z1=3;q.c2=4;q.d2=5;q.X1=6;var Uint8Array=Uint8Array||Array;
if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){var ea=document.createElement("script");ea.type="text/vbscript";ea.textContent='\x3c!-- IEBinaryToArray_ByteStr --\x3e\r\nFunction IEBinaryToArray_ByteStr(Binary)\r\n   IEBinaryToArray_ByteStr = CStr(Binary)\r\nEnd Function\r\nFunction IEBinaryToArray_ByteStr_Last(Binary)\r\n   Dim lastIndex\r\n   lastIndex = LenB(Binary)\r\n   if lastIndex mod 2 Then\r\n       IEBinaryToArray_ByteStr_Last = Chr( AscB( MidB( Binary, lastIndex, 1 ) ) )\r\n   Else\r\n       IEBinaryToArray_ByteStr_Last = ""\r\n   End If\r\nEnd Function\r\n';document.body.appendChild(ea);
q.EH=function(a){for(var c={},d=0;256>d;d++)for(var e=0;256>e;e++)c[String.fromCharCode(d+256*e)]=String.fromCharCode(d)+String.fromCharCode(e);d=IEBinaryToArray_ByteStr(a);a=IEBinaryToArray_ByteStr_Last(a);return d.replace(/[\s\S]/g,function(a){return c[a]})+a}}
q.je=q.Ka.extend({Ej:null,Wl:null,BQ:null,PB:null,hq:null,Ni:null,Xr:"",ctor:function(){this.Ej={};this.Wl={};this.Ni=[];this.Ni.push(this.Xr);this.hq=[];this.hq.push("")},Waa:function(){this.Ni=[]},c6:function(a){a=this.Se(a);return this.Ej.hasOwnProperty(a)?this.Ej[a]:this.dR(a)},Rw:function(){return window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP")},C_:function(a){this.Ej.hasOwnProperty(a)&&delete this.Ej[a]},DX:function(a){a=this.Se(a);var c=this,d=this.Rw();
d.open("GET",a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","x-user-defined"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=q.EH(d.responseBody);e&&(c.Ej[a]=c.Ex(e))}else q.bc.f().tm(a);q.bc.f().Gg()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset=x-user-defined"),d.onload=function(){var e=d.responseText;e?c.Ej[a]=c.Ex(e):q.bc.f().tm(a);q.bc.f().Gg()});d.send(null)},Uaa:function(a,c){this.Ej[c]=
a;q.bc.f().Gg()},dR:function(a){var c=this.Rw();c.open("GET",a,!1);var d=null;if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){c.setRequestHeader("Accept-Charset","x-user-defined");c.send(null);if(200!=c.status)return null;if(c=q.EH(c.responseBody))d=this.Ex(c),this.Ej[a]=d}else{c.overrideMimeType&&c.overrideMimeType("text/plain; charset=x-user-defined");c.send(null);if(!c.responseText||200!=c.status&&0!=c.status)return null;d="undefined"!==typeof VBArray?(new VBArray(c.responseBody)).toArray():
this.Ex(c.responseText);this.Ej[a]=d}return d},Ex:function(a){if(!a)return null;for(var c=new Uint8Array(a.length),d=0;d<a.length;d++)c[d]=a.charCodeAt(d)&255;return c},E_:function(a){a=this.Se(a);this.Wl.hasOwnProperty(a)&&delete this.Wl[a]},GX:function(a){a=this.Se(a);var c=this,d=this.Rw();d.open("GET",a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","utf-8"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=
d.responseText;e&&(c.Wl[a]=e)}else q.bc.f().tm(a);q.bc.f().Gg()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset=utf-8"),d.onload=function(){d.responseText?c.Wl[a]=d.responseText:q.bc.f().tm(a);q.bc.f().Gg()});d.send(null)},fR:function(a){var c=this.Rw();c.open("GET",a,!1);var d=null;/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?c.setRequestHeader("Accept-Charset","utf-8"):c.overrideMimeType&&c.overrideMimeType("text/plain; charset=utf-8");c.send(null);if(200!=
c.status)return null;(d=c.responseText)&&(this.Wl[a]=d);return d},HK:function(a){a=this.Se(a);return this.Wl.hasOwnProperty(a)?this.Wl[a]:this.fR(a)},L6:function(){},wba:function(){},WL:!0,L5:function(a){return a},Se:function(a){var c=!1;a=this.IQ(a);for(var d,e=0;e<this.Ni.length;e++){for(var f=this.Ni[e],g=0;g<this.hq.length;g++)if(d=this.JQ(a,this.hq[g],f)){c=!0;break}if(c)break}return c?d:a},M$:function(a){var c=this.Se(a);if(0<c.length){var c=q.pl.f().parse(c),d=parseInt(c.metadata.version);
1!=d?q.log("cocos2d: ERROR: Invalid filenameLookup dictionary version: "+d+". Filename: "+a):this.dZ(c.filenames)}},dZ:function(a){this.PB=a},nK:function(a,c){var d;if(a)return d=c.substring(0,c.lastIndexOf("/")+1),d+a;d=c.substring(0,c.lastIndexOf("."));return d+".png"},ida:function(a){this.hq=a},q8:function(){return this.hq},hda:function(a){this.Ni=a},o8:function(){return this.Ni},g8:function(){return this.BQ},dda:function(){},Z4:function(a){q.log("dictionaryWithContentsOfFile is deprecated. Use createDictionaryWithContentsOfFile instead");
return this.fU(a)},fU:function(a){return q.pl.f().parse(a)},F8:function(a){return this.HK(a)},my:function(a){return q.pl.f().parse(a)},j9:function(){return""},Xca:function(a){q.WL=a},g$:function(){return q.WL},MC:"",h8:function(){return this.MC},eda:function(a){this.MC=a},IQ:function(a){var c=null;(c=this.PB?this.PB[a]:null)&&0!==c.length?q.log("FOUND NEW FILE NAME: "+c):c=a;return c},JQ:function(a,c,d){var e;e=this.MC;a&&0<a.length&&(0===a.indexOf("/")||0===a.indexOf("\\"))?e="":0<e.length&&"\\"!=
e[e.length-1]&&"/"!=e[e.length-1]&&(e+="/");var f=a,g="",h=a.lastIndexOf("/");-1!=h&&(g=a.substr(0,h+1),f=a.substr(h+1));a=d;0<a.length&&a.lastIndexOf("/")!==a.length-1&&(a+="/");a=a+g+c;0<a.length&&a.lastIndexOf("/")!==a.length-1&&(a+="/");a+=f;return e+=a},c3:function(){},aN:function(a){var c=!1;this.Ni=[];for(var d=0;d<a.length;d++){var e=a[d],f;this.fL(e)||(f=this.Xr);e=f+e;0<e.length&&"/"!=e[e.length-1]&&(e+="/");c||e!=this.Xr||(c=!0);this.Ni.push(e)}c||this.Ni.push(this.Xr)},P3:function(a){var c;
this.fL(a)||(c=this.Xr);a=c+a;0<a.length&&"/"!=a[a.length-1]&&(a+="/");this.Ni.push(a)},p8:function(){},fL:function(a){return"/"==a[0]}});q.kF=null;q.je.f=function(){null==q.kF&&(q.kF=new q.je);return q.kF};q.Lc=function(a,c,d){switch(arguments.length){case 0:this.p=this.r=this.t=0;break;case 1:a&&a instanceof q.Lc?(this.t=0|a.t||0,this.r=0|a.r||0,this.p=0|a.p||0):this.p=this.r=this.t=0;break;case 3:this.t=0|a||0;this.r=0|c||0;this.p=0|d||0;break;default:throw"unknown argument type";}};q.j=function(a,c,d){return new q.Lc(a,c,d)};q.G9=function(a){a=a||0;var c=new q.Lc;c.t=a&255;c.r=a>>8&255;c.p=a>>16&255;return c};q.MD=q.j;q.r4=function(a,c){return a.t===c.t&&a.r===c.r&&a.p===c.p};
Object.defineProperties(q,{G2:{get:function(){return q.j(255,255,255)},configurable:!0},I2:{get:function(){return q.j(255,255,0)},configurable:!0},o0:{get:function(){return q.j(0,0,255)},configurable:!0},b1:{get:function(){return q.j(0,255,0)},configurable:!0},P1:{get:function(){return q.j(255,0,0)},configurable:!0},q1:{get:function(){return q.j(255,0,255)},configurable:!0},m0:{get:function(){return q.j(0,0,0)},configurable:!0},y1:{get:function(){return q.j(255,127,0)},configurable:!0},a1:{get:function(){return q.j(166,
166,166)},configurable:!0}});q.Jb=function(){return new q.Lc(255,255,255)};q.Uea=function(){return new q.Lc(255,255,0)};q.blue=function(){return new q.Lc(0,0,255)};q.green=function(){return new q.Lc(0,255,0)};q.red=function(){return new q.Lc(255,0,0)};q.Q$=function(){return new q.Lc(255,0,255)};q.i4=function(){return new q.Lc(0,0,0)};q.paa=function(){return new q.Lc(255,127,0)};q.im=function(){return new q.Lc(166,166,166)};q.gc=function(a,c,d,e){this.t=0|a;this.r=0|c;this.p=0|d;this.Q=0|e};
q.l=function(a,c,d,e){return new q.gc(a,c,d,e)};q.ND=q.l;q.ye=function(a,c,d,e){this.t=a;this.r=c;this.p=d;this.Q=e};q.fy=function(a,c,d,e){return new q.ye(a,c,d,e)};q.u4=function(a){return new q.ye(a.t/255,a.r/255,a.p/255,1)};q.v4=function(a){return new q.ye(a.t/255,a.r/255,a.p/255,a.Q/255)};q.s4=function(a){return new q.gc(0|255*a.t,0|255*a.r,0|255*a.p,0|255*a.Q)};q.t4=function(a,c){return a.t==c.t&&a.r==c.r&&a.p==c.p&&a.Q==c.Q};q.Sb=function(a,c){this.x=a||0;this.y=c||0};
q.iw=function(a,c){return new q.Sb(a,c)};q.vd=function(a,c,d){this.x=a||0;this.y=c||0;this.z=d||0};q.Nea=function(a,c,d){return new q.vd(a,c,d)};q.Rc=function(a,c){this.Va=a||0;this.qa=c||0};q.kea=function(a,c){return new q.Rc(a,c)};q.K1=function(a,c,d){a||new q.Sb(0,0);this.color=c||new q.gc(0,0,0,0);this.size=d||0};q.Jv=function(a,c,d,e){this.Za=a||new q.Sb(0,0);this.Ra=c||new q.Sb(0,0);this.Pa=d||new q.Sb(0,0);this.bb=e||new q.Sb(0,0)};
q.L1=function(a,c,d,e){this.Pa=a||new q.vd(0,0,0);this.bb=c||new q.vd(0,0,0);this.Za=d||new q.vd(0,0,0);this.Ra=e||new q.vd(0,0,0)};q.AO=function(a,c){this.x=a;this.y=c};q.r=function(a,c){return new q.AO(a,c)};q.mc=function(a,c,d){this.C=a||new q.Sb(0,0);this.T=c||new q.gc(0,0,0,0);this.J=d||new q.Rc(0,0)};q.cw=function(){this.C=new q.Sb(0,0);this.T=new q.ye(0,0,0,0);this.J=new q.Rc(0,0)};q.Mc=function(a,c,d){this.C=a||new q.vd(0,0,0);this.T=c||new q.gc(0,0,0,0);this.J=d||new q.Rc(0,0)};
q.cd=function(a,c,d){this.Q=a||new q.mc;this.p=c||new q.mc;this.La=d||new q.mc};q.GP=function(){var a=new q.mc(new q.Sb(0,0),new q.gc(0,0,0,255),new q.Rc(0,0)),c=new q.mc(new q.Sb(0,0),new q.gc(0,0,0,255),new q.Rc(0,0)),d=new q.mc(new q.Sb(0,0),new q.gc(0,0,0,255),new q.Rc(0,0)),e=new q.mc(new q.Sb(0,0),new q.gc(0,0,0,255),new q.Rc(0,0));this.Pa=a||new q.mc;this.bb=c||new q.mc;this.Za=d||new q.mc;this.Ra=e||new q.mc};q.D2=function(){return new q.GP};
q.Ac=function(a,c,d,e){this.Za=a||new q.Mc;this.Pa=c||new q.Mc;this.Ra=d||new q.Mc;this.bb=e||new q.Mc};q.XA=function(){return new q.Ac(new q.Mc(new q.vd(0,0,0),new q.gc(0,0,0,255),new q.Rc(0,0)),new q.Mc(new q.vd(0,0,0),new q.gc(0,0,0,255),new q.Rc(0,0)),new q.Mc(new q.vd(0,0,0),new q.gc(0,0,0,255),new q.Rc(0,0)),new q.Mc(new q.vd(0,0,0),new q.gc(0,0,0,255),new q.Rc(0,0)))};
q.WA=function(a){return a?new q.Ac(new q.Mc(new q.vd(a.Za.C.x,a.Za.C.y,a.Za.C.z),new q.gc(a.Za.T.t,a.Za.T.r,a.Za.T.p,a.Za.T.Q),new q.Rc(a.Za.J.Va,a.Za.J.qa)),new q.Mc(new q.vd(a.Pa.C.x,a.Pa.C.y,a.Pa.C.z),new q.gc(a.Pa.T.t,a.Pa.T.r,a.Pa.T.p,a.Pa.T.Q),new q.Rc(a.Pa.J.Va,a.Pa.J.qa)),new q.Mc(new q.vd(a.Ra.C.x,a.Ra.C.y,a.Ra.C.z),new q.gc(a.Ra.T.t,a.Ra.T.r,a.Ra.T.p,a.Ra.T.Q),new q.Rc(a.Ra.J.Va,a.Ra.J.qa)),new q.Mc(new q.vd(a.bb.C.x,a.bb.C.y,a.bb.C.z),new q.gc(a.bb.T.t,a.bb.T.r,a.bb.T.p,a.bb.T.Q),new q.Rc(a.bb.J.Va,
a.bb.J.qa))):q.XA()};q.F2=function(a){if(!a)return[];for(var c=[],d=0;d<a.length;d++)c.push(q.WA(a[d]));return c};q.E2=function(a,c,d,e){this.Pa=a||new q.cw;this.bb=c||new q.cw;this.Za=d||new q.cw;this.Ra=e||new q.cw};q.Zm=function(a,c){this.src=a;this.Xb=c};q.p0=function(){return new q.Zm(1,0)};q.Sc=function(a){var c=a.t.toString(16),d=a.r.toString(16),e=a.p.toString(16);return"#"+(16>a.t?"0"+c:c)+(16>a.r?"0"+d:d)+(16>a.p?"0"+e:e)};
q.Aa.pd&&(q.gc=function(a,c,d,e,f,g){this.hc=f||new ArrayBuffer(q.gc.BYTES_PER_ELEMENT);this._offset=g||0;f=this.hc;g=this._offset;var h=Uint8Array.BYTES_PER_ELEMENT;this.CC=new Uint8Array(f,g,1);this.WB=new Uint8Array(f,g+h,1);this.jB=new Uint8Array(f,g+2*h,1);this.bB=new Uint8Array(f,g+3*h,1);this.CC[0]=a||0;this.WB[0]=c||0;this.jB[0]=d||0;this.bB[0]=e||0},q.gc.BYTES_PER_ELEMENT=4,Object.defineProperties(q.gc.prototype,{t:{get:function(){return this.CC[0]},set:function(a){this.CC[0]=a},enumerable:!0},
r:{get:function(){return this.WB[0]},set:function(a){this.WB[0]=a},enumerable:!0},p:{get:function(){return this.jB[0]},set:function(a){this.jB[0]=a},enumerable:!0},Q:{get:function(){return this.bB[0]},set:function(a){this.bB[0]=a},enumerable:!0}}),q.ye=function(a,c,d,e,f,g){this.hc=f||new ArrayBuffer(q.ye.BYTES_PER_ELEMENT);this._offset=g||0;f=this.hc;g=this._offset;var h=Float32Array.BYTES_PER_ELEMENT;this.BC=new Float32Array(f,g,1);this.BC[0]=a||0;this.VB=new Float32Array(f,g+h,1);this.VB[0]=c||
0;this.iB=new Float32Array(f,g+2*h,1);this.iB[0]=d||0;this.aB=new Float32Array(f,g+3*h,1);this.aB[0]=e||0},q.ye.BYTES_PER_ELEMENT=16,Object.defineProperties(q.ye.prototype,{t:{get:function(){return this.BC[0]},set:function(a){this.BC[0]=a},enumerable:!0},r:{get:function(){return this.VB[0]},set:function(a){this.VB[0]=a},enumerable:!0},p:{get:function(){return this.iB[0]},set:function(a){this.iB[0]=a},enumerable:!0},Q:{get:function(){return this.aB[0]},set:function(a){this.aB[0]=a},enumerable:!0}}),
q.Sb=function(a,c,d,e){this.hc=d||new ArrayBuffer(q.Sb.BYTES_PER_ELEMENT);this._offset=e||0;this.ao=new Float32Array(this.hc,this._offset,1);this.bo=new Float32Array(this.hc,this._offset+4,1);this.ao[0]=a||0;this.bo[0]=c||0},q.Sb.BYTES_PER_ELEMENT=8,Object.defineProperties(q.Sb.prototype,{x:{get:function(){return this.ao[0]},set:function(a){this.ao[0]=a},enumerable:!0},y:{get:function(){return this.bo[0]},set:function(a){this.bo[0]=a},enumerable:!0}}),q.vd=function(a,c,d,e,f){this.hc=e||new ArrayBuffer(q.vd.BYTES_PER_ELEMENT);
this._offset=f||0;e=this.hc;f=this._offset;this.ao=new Float32Array(e,f,1);this.ao[0]=a||0;this.bo=new Float32Array(e,f+Float32Array.BYTES_PER_ELEMENT,1);this.bo[0]=c||0;this.DD=new Float32Array(e,f+2*Float32Array.BYTES_PER_ELEMENT,1);this.DD[0]=d||0},q.vd.BYTES_PER_ELEMENT=12,Object.defineProperties(q.vd.prototype,{x:{get:function(){return this.ao[0]},set:function(a){this.ao[0]=a},enumerable:!0},y:{get:function(){return this.bo[0]},set:function(a){this.bo[0]=a},enumerable:!0},z:{get:function(){return this.DD[0]},
set:function(a){this.DD[0]=a},enumerable:!0}}),q.Rc=function(a,c,d,e){this.hc=d||new ArrayBuffer(q.Rc.BYTES_PER_ELEMENT);this._offset=e||0;this.oD=new Float32Array(this.hc,this._offset,1);this.xD=new Float32Array(this.hc,this._offset+4,1);this.oD[0]=a||0;this.xD[0]=c||0},q.Rc.BYTES_PER_ELEMENT=8,Object.defineProperties(q.Rc.prototype,{Va:{get:function(){return this.oD[0]},set:function(a){this.oD[0]=a},enumerable:!0},qa:{get:function(){return this.xD[0]},set:function(a){this.xD[0]=a},enumerable:!0}}),
q.Jv=function(a,c,d,e,f,g){this.hc=f||new ArrayBuffer(q.Jv.BYTES_PER_ELEMENT);this._offset=g||0;f=this.hc;g=q.Sb.BYTES_PER_ELEMENT;this.tq=a?new q.Sb(a.x,a.y,f,0):new q.Sb(0,0,f,0);this.vq=c?new q.Sb(c.x,c.y,f,g):new q.Sb(0,0,f,g);this.pp=d?new q.Sb(d.x,d.y,f,2*g):new q.Sb(0,0,f,2*g);this.rp=e?new q.Sb(e.x,e.y,f,3*g):new q.Sb(0,0,f,3*g)},q.Jv.BYTES_PER_ELEMENT=32,Object.defineProperties(q.Jv.prototype,{Za:{get:function(){return this.tq},set:function(a){this.tq.x=a.x;this.tq.y=a.y},enumerable:!0},
Ra:{get:function(){return this.vq},set:function(a){this.vq.x=a.x;this.vq.y=a.y},enumerable:!0},Pa:{get:function(){return this.pp},set:function(a){this.pp.x=a.x;this.pp.y=a.y},enumerable:!0},bb:{get:function(){return this.rp},set:function(a){this.rp.x=a.x;this.rp.y=a.y},enumerable:!0}}),q.Mc=function(a,c,d,e,f){this.hc=e||new ArrayBuffer(q.Mc.BYTES_PER_ELEMENT);this._offset=f||0;e=this.hc;f=this._offset;var g=q.vd.BYTES_PER_ELEMENT;this.xq=a?new q.vd(a.x,a.y,a.z,e,f):new q.vd(0,0,0,e,f);this.Tr=c?
new q.gc(c.t,c.r,c.p,c.Q,e,f+g):new q.gc(0,0,0,0,e,f+g);this.Qn=d?new q.Rc(d.Va,d.qa,e,f+g+q.gc.BYTES_PER_ELEMENT):new q.Rc(0,0,e,f+g+q.gc.BYTES_PER_ELEMENT)},q.Mc.BYTES_PER_ELEMENT=24,Object.defineProperties(q.Mc.prototype,{C:{get:function(){return this.xq},set:function(a){var c=this.xq;c.x=a.x;c.y=a.y;c.z=a.z},enumerable:!0},T:{get:function(){return this.Tr},set:function(a){var c=this.Tr;c.t=a.t;c.r=a.r;c.p=a.p;c.Q=a.Q},enumerable:!0},J:{get:function(){return this.Qn},set:function(a){this.Qn.Va=
a.Va;this.Qn.qa=a.qa},enumerable:!0}}),q.Ac=function(a,c,d,e,f,g){this.hc=f||new ArrayBuffer(q.Ac.BYTES_PER_ELEMENT);this._offset=g||0;f=this.hc;g=this._offset;var h=q.Mc.BYTES_PER_ELEMENT;this.tq=a?new q.Mc(a.C,a.T,a.J,f,g):new q.Mc(null,null,null,f,g);this.pp=c?new q.Mc(c.C,c.T,c.J,f,g+h):new q.Mc(null,null,null,f,g+h);this.vq=d?new q.Mc(d.C,d.T,d.J,f,g+2*h):new q.Mc(null,null,null,f,g+2*h);this.rp=e?new q.Mc(e.C,e.T,e.J,f,g+3*h):new q.Mc(null,null,null,f,g+3*h)},q.Ac.BYTES_PER_ELEMENT=96,Object.defineProperties(q.Ac.prototype,
{Za:{get:function(){return this.tq},set:function(a){var c=this.tq;c.C=a.C;c.T=a.T;c.J=a.J},enumerable:!0},Pa:{get:function(){return this.pp},set:function(a){var c=this.pp;c.C=a.C;c.T=a.T;c.J=a.J},enumerable:!0},Ra:{get:function(){return this.vq},set:function(a){var c=this.vq;c.C=a.C;c.T=a.T;c.J=a.J},enumerable:!0},bb:{get:function(){return this.rp},set:function(a){var c=this.rp;c.C=a.C;c.T=a.T;c.J=a.J},enumerable:!0},JD:{get:function(){return this.hc},enumerable:!0}}),q.XA=function(){return new q.Ac},
q.WA=function(a){if(!a)return q.XA();var c=a.Za,d=a.Pa,e=a.Ra;a=a.bb;return{Za:{C:{x:c.C.x,y:c.C.y,z:c.C.z},T:{t:c.T.t,r:c.T.r,p:c.T.p,Q:c.T.Q},J:{Va:c.J.Va,qa:c.J.qa}},Pa:{C:{x:d.C.x,y:d.C.y,z:d.C.z},T:{t:d.T.t,r:d.T.r,p:d.T.p,Q:d.T.Q},J:{Va:d.J.Va,qa:d.J.qa}},Ra:{C:{x:e.C.x,y:e.C.y,z:e.C.z},T:{t:e.T.t,r:e.T.r,p:e.T.p,Q:e.T.Q},J:{Va:e.J.Va,qa:e.J.qa}},bb:{C:{x:a.C.x,y:a.C.y,z:a.C.z},T:{t:a.T.t,r:a.T.r,p:a.T.p,Q:a.T.Q},J:{Va:a.J.Va,qa:a.J.qa}}}},q.mc=function(a,c,d,e,f){this.hc=e||new ArrayBuffer(q.mc.BYTES_PER_ELEMENT);
this._offset=f||0;e=this.hc;f=this._offset;var g=q.Sb.BYTES_PER_ELEMENT;this.xq=a?new q.Sb(a.x,a.y,e,f):new q.Sb(0,0,e,f);this.Tr=c?new q.gc(c.t,c.r,c.p,c.Q,e,f+g):new q.gc(0,0,0,0,e,f+g);this.Qn=d?new q.Rc(d.Va,d.qa,e,f+g+q.gc.BYTES_PER_ELEMENT):new q.Rc(0,0,e,f+g+q.gc.BYTES_PER_ELEMENT)},q.mc.BYTES_PER_ELEMENT=20,Object.defineProperties(q.mc.prototype,{C:{get:function(){return this.xq},set:function(a){this.xq.x=a.x;this.xq.y=a.y},enumerable:!0},T:{get:function(){return this.Tr},set:function(a){var c=
this.Tr;c.t=a.t;c.r=a.r;c.p=a.p;c.Q=a.Q},enumerable:!0},J:{get:function(){return this.Qn},set:function(a){this.Qn.Va=a.Va;this.Qn.qa=a.qa},enumerable:!0}}),q.cd=function(a,c,d,e,f){this.hc=e||new ArrayBuffer(q.cd.BYTES_PER_ELEMENT);this._offset=f||0;e=this.hc;f=this._offset;var g=q.mc.BYTES_PER_ELEMENT;this.oH=a?new q.mc(a.C,a.T,a.J,e,f):new q.mc(null,null,null,e,f);this.tH=c?new q.mc(c.C,c.T,c.J,e,f+g):new q.mc(null,null,null,e,f+g);this.yH=d?new q.mc(d.C,d.T,d.J,e,f+2*g):new q.mc(null,null,null,
e,f+2*g)},q.cd.BYTES_PER_ELEMENT=60,Object.defineProperties(q.cd.prototype,{Q:{get:function(){return this.oH},set:function(a){var c=this.oH;c.C=a.C;c.T=a.T;c.J=a.J},enumerable:!0},p:{get:function(){return this.tH},set:function(a){var c=this.tH;c.C=a.C;c.T=a.T;c.J=a.J},enumerable:!0},La:{get:function(){return this.yH},set:function(a){var c=this.yH;c.C=a.C;c.T=a.T;c.J=a.J},enumerable:!0}}));
q.M4=function(a){a=a.substr(1).split("");return new q.Lc(parseInt("0x"+a[0]+a[1]),parseInt("0x"+a[2]+a[3]),parseInt("0x"+a[4]+a[5]))};q.Dr=0;q.pk=1;q.xP=2;q.hw=0;q.gw=1;q.fw=2;q.ew=3;
q.L2=q.Ka.extend({Yp:null,yt:null,ZA:0,ctor:function(){this.Yp={};this.yt={};this.ZA=2<<(0|10*Math.random())},MP:function(){this.ZA++;return"key_"+this.ZA},tZ:function(a,c){if(null!=c){var d=this.MP();this.Yp[d]=c;this.yt[d]=a}},ZW:function(a){if(null==a)return null;var c=this.Yp,d;for(d in c)if(c[d]===a)return this.yt[d];return null},Mea:function(a){return this.ZW(a)},iY:function(a){if(null!=a){var c=this.Yp,d;for(d in c)if(c[d]===a){delete this.yt[d];delete c[d];break}}},qba:function(a){if(null!=
a)for(var c=0;c<a.length;c++)this.iY(a[c])},tT:function(){var a=[],c=this.Yp,d;for(d in c)a.push(c[d]);return a},jba:function(){this.Yp={};this.yt={}},count:function(){return this.tT().length}});q.zO=function(){this.Ot="Arial";this.fontSize=12;this.iK=q.pk;this.jK=q.hw;this.kK=q.Jb();this.Nt=q.size(0,0);this.PF=!1;this.strokeColor=q.Jb();this.zN=1;this.oN=!1;this.pN=q.size(0,0);this.shadowBlur=0;this.qN=1};q.cp={hA:0,vA:1,SHOW_ALL:2,iA:3,jA:4,C2:5};q.bw=[];q.Er={};
q.la=q.Ka.extend({Ba:null,Wd:null,Ip:null,eq:null,wf:null,ay:null,bs:1,zD:"",KC:null,sa:1,lI:1,za:1,mI:1,zs:0,hI:5,Ki:null,xI:null,BI:null,AI:null,yI:null,zI:null,Cs:!1,T2:!1,F3:null,SH:null,TH:null,PP:null,z3:!1,yB:null,p3:null,Cl:null,RB:1,mw:!1,YH:!0,ctor:function(){this.Cl=q.Vk.parentNode===document.body?document.documentElement:q.Vk.parentNode;this.Wd=q.size(0,0);this.UH();var a=q.canvas.width,c=q.canvas.height;this.Ip=q.size(a,c);this.eq=q.size(a,c);this.wf=q.rect(0,0,a,c);this.ay=q.rect(0,
0,a,c);this.Ba=q.aa.f().uf;this.yB={left:0,top:0};this.zD="Cocos2dHTML5";q.kH.w(this.Ip);this.xI=new q.dp(q.Gh.cv,q.hf.hA);this.BI=new q.dp(q.Gh.gP,q.hf.SHOW_ALL);this.AI=new q.dp(q.Gh.cv,q.hf.vA);this.yI=new q.dp(q.Gh.cv,q.hf.iA);this.zI=new q.dp(q.Gh.cv,q.hf.jA);this.SH=q.canvas;this.TH=q.$},LC:function(){this.ctor();this.KC&&this.KC.call();var a=this.Wd.width,c=this.Wd.height;0<a&&this.qF(a,c,this.Ki)},qY:function(a){a?this.mw||(this.mw=!0,a=this.LC.bind(this),window.addEventListener("resize",
a,!1)):this.mw&&(this.mw=!0,a=this.LC.bind(this),window.removeEventListener("resize",a,!1))},KZ:function(a){if("function"==typeof a||null==a)this.KC=a},UH:function(){var a=this.Wd;a.width=this.Cl.clientWidth;a.height=this.Cl.clientHeight;this.Wd=a},Q2:function(){var a=this.eq.width,c=this.eq.height;0<a&&this.qF(a,c,this.Ki)},yS:function(){if(this.YH){var a={"user-scalable":"no","maximum-scale":"1.0","initial-scale":"1.0"},c=document.getElementsByName("viewport"),d;0==c.length?(c=document.createElement("meta"),
c.name="viewport",c.content="",document.head.appendChild(c)):c=c[0];if(q.Aa.Zj&&"firefox"==q.Aa.type)c.content="initial-scale:1";else{d=c.content;for(var e in a)(new RegExp(e)).test(d)||(d+=(""==d?"":",")+e+"="+a[e]);c.content=d}}},rS:function(){var a=q.qd();this.za=this.sa=a},RR:function(){this.sa=this.lI;this.za=this.mI},LQ:function(){var a,c=this.zs;for(a=0;a<this.hI;a++){if(!(c&1))return this.zs|=1<<a,a;c>>=1}return-1},NR:function(a){0>a||a>=this.hI||(a=~(1<<a),this.zs&=a)},R2:function(){},nW:function(){this.Cs=
!0},U3:function(a){this.YH=a},end:function(){},f$:function(){return null!=this.SH&&null!=this.TH},pca:function(a){this.RB=a;q.aa.f().lz(q.aa.f().Rl)},aea:function(){},tca:function(){},aca:function(a,c){this.yB={left:a,top:c}},q6:function(){return this.yB},oo:function(){return q.size(this.Wd.width,this.Wd.height)},oca:function(a,c){this.Wd.width=a;this.Wd.height=c;this.Cl.style.width=a+"px";this.Cl.style.height=c+"px";this.LC();q.aa.f().lz(q.aa.f().Rl)},A4:function(){},Oba:function(a){this.PP=a},Wt:function(){return this.ay.Xa},
NK:function(){return this.ay.rd},w4:function(){return!0},f8:function(){return this.Ki},LZ:function(a){if(a instanceof q.dp)this.Ki=a;else switch(a){case q.cp.hA:this.Ki=this.xI;break;case q.cp.SHOW_ALL:this.Ki=this.BI;break;case q.cp.vA:this.Ki=this.AI;break;case q.cp.iA:this.Ki=this.yI;break;case q.cp.jA:this.Ki=this.zI}},qF:function(a,c,d){if(isNaN(a)||0==a||isNaN(c)||0==c)q.log("Resolution not valid");else{this.LZ(d);var e=this.Ki;if(e){e.Fo(this);var f=this.Wd.width,g=this.Wd.height;q.Aa.Zj&&
this.yS(this.Wd.width,this.Wd.height);this.UH();if(d!=this.Ki||a!=this.eq.width||c!=this.eq.height||f!=this.Wd.width||g!=this.Wd.height)this.Ip=q.size(a,c),this.eq=q.size(a,c),a=e.apply(this,this.Ip),a.scale&&2==a.scale.length&&(this.sa=a.scale[0],this.za=a.scale[1]),a.viewport instanceof q.Rect&&(a=this.wf=a.viewport,c=this.ay,c.Xa.width=q.canvas.width/this.sa,c.Xa.height=q.canvas.height/this.za,c.rd.x=-a.x/this.sa,c.rd.y=-a.y/this.za),a=q.aa.f(),a.ic=this.Iq(),e.Eo(this),q.ee==q.rl&&(a.Gp(),a.GM()),
this.lI=this.sa,this.mI=this.za,q.wc&&q.wc.PR(),q.kH.w(this.Wt())}else q.log("should set resolutionPolicy")}},Iq:function(){return q.size(this.Ip.width,this.Ip.height)},yda:function(a){this.Ba=a},ZZ:function(a,c,d,e){var f=this.RB,g=this.sa,h=this.za;q.$.viewport(a*g*f+this.wf.x*f,c*h*f+this.wf.y*f,d*g*f,e*h*f)},yF:function(a,c,d,e){var f=this.RB,g=this.sa,h=this.za;q.$.scissor(a*g*f+this.wf.x*f,c*h*f+this.wf.y*f,d*g*f,e*h*f)},AW:function(){var a=q.$;return a.isEnabled(a.SCISSOR_TEST)},yV:function(){var a=
q.$,c=this.sa,d=this.za,a=a.getParameter(a.SCISSOR_BOX);return q.rect((a[0]-this.wf.x)/c,(a[1]-this.wf.y)/d,a[2]/c,a[3]/d)},Gda:function(a){null!=a&&0<a.length&&(this.zD=a)},e9:function(){return this.zD},f9:function(){return this.wf},wV:function(){return this.sa},xV:function(){return this.za},B6:function(){return this.bs},Wk:function(a,c,d){return{x:this.bs*(a-d.left),y:this.bs*(d.top+d.height-c)}},UV:function(a,c,d,e){for(var f=[],g=this.wf,h=this.sa,k=this.za,l=0;l<a;++l){var m=c[l],p=d[l],w=e[l],
v=0;if(null==q.Er[m])if(v=this.LQ(),-1==v)q.log("The touches is more than MAX_TOUCHES, nUnusedIndex = "+v);else{var x=q.bw[v]=new q.Touch;x.EF(v,(p-g.x)/h,(w-g.y)/k);q.Er[m]=0|v;f.push(x)}}0!==f.length&&this.Ba.Ez(f,null)},XV:function(a,c,d,e){for(var f=[],g=this.sa,h=this.za,k=this.wf.x,l=this.wf.y,m=0;m<a;++m){var p=d[m],w=e[m],v=q.Er[c[m]];if(null!=v){var x=q.bw[v];if(x)x.EF(v,(p-k)/g,(w-l)/h),f.push(x);else return}}0!=f.length&&this.Ba.Fz(f,null)},WV:function(a,c,d,e){var f=[];this.FK(f,a,c,d,
e);this.Ba.Hu(f,null)},VV:function(a,c,d,e){var f=[];this.FK(f,a,c,d,e);this.Ba.VF(f,null)},FK:function(a,c,d,e,f){for(var g=this.sa,h=this.za,k=this.wf,l=0;l<c;++l){var m=d[l],p=e[l],w=f[l],v=q.Er[m];if(null!=v){var x=q.bw[v];if(x)x.EF(v,(p-k.x)/g,(w-k.y)/h),a.push(x),q.bw[v]=null,this.NR(v),delete q.Er[m];else break}}},Ez:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.ng||h,d[f]=g.W.x,e[f]=g.W.y,++f;this.UV(f,c,d,e)},Fz:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=
a[h],c[f]=g.ng||h,d[f]=g.W.x,e[f]=g.W.y,++f;this.XV(f,c,d,e)},Hu:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.ng||h,d[f]=g.W.x,e[f]=g.W.y,++f;this.WV(f,c,d,e)},VF:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.ng||h,d[f]=g.W.x,e[f]=g.W.y,++f;this.VV(f,c,d,e)}});q.la.f=function(){this.jb||(q.aa.f(),this.jb=this.jb||new q.la,this.jb.nW());return this.jb};
q.Gh=q.Ka.extend({rH:!1,Fo:function(){if("iOS"==r.QL||"OS X"==r.QL)this.rH=!0},apply:function(){},Eo:function(){},WC:function(a,c,d){var e=a.Cl;q.Aa.Zj&&e==document.documentElement&&q.Screen.f().zT(e);var e=q.canvas,f=q.Vk;f.style.width=e.style.width=c+"px";f.style.height=e.style.height=d+"px";f=a.bs=1;this.rH&&(f=a.bs=window.devicePixelRatio||1);e.width=c*f;e.height=d*f;a=document.body;var g;a&&(g=a.style)&&(g.paddingTop=g.paddingTop||"0px",g.paddingRight=g.paddingRight||"0px",g.paddingBottom=g.paddingBottom||
"0px",g.paddingLeft=g.paddingLeft||"0px",g.borderTop=g.borderTop||"0px",g.borderRight=g.borderRight||"0px",g.borderBottom=g.borderBottom||"0px",g.borderLeft=g.borderLeft||"0px",g.marginTop=g.marginTop||"0px",g.marginRight=g.marginRight||"0px",g.marginBottom=g.marginBottom||"0px",g.marginLeft=g.marginLeft||"0px")},LH:function(){document.body.insertBefore(q.Vk,document.body.firstChild);var a=document.body.style;a.width=window.innerWidth+"px";a.height=window.innerHeight+"px";a.overflow="hidden";a=q.Vk.style;
a.position="fixed";a.left=a.top="0px";document.body.scrollTop=0}});q.hf=q.Ka.extend({NC:{scale:[1,1],viewport:null},Pr:function(a,c,d,e,f,g){2>Math.abs(a-d)&&(d=a);2>Math.abs(c-e)&&(e=c);a=q.rect(Math.round((a-d)/2),Math.round((c-e)/2),d,e);q.ee==q.Qg&&q.$.translate(a.x,a.y+e);this.NC.scale=[f,g];this.NC.viewport=a;return this.NC},Fo:function(){},apply:function(){return{scale:[1,1]}},Eo:function(){}});
(function(){var a=q.Gh.extend({apply:function(a){this.WC(a,a.Wd.width,a.Wd.height)}}),c=q.Gh.extend({apply:function(a,c){var d=a.Wd.width,e=a.Wd.height,f=q.Vk.style,p=c.width,w=c.height,v=d/p,x=e/w,z,G;v<x?(z=d,G=w*v):(z=p*x,G=e);p=Math.round((d-z)/2);G=Math.round((e-G)/2);this.WC(a,d-2*p,e-2*G);f.marginLeft=p+"px";f.marginRight=p+"px";f.marginTop=G+"px";f.marginBottom=G+"px"}});a.extend({Fo:function(a){this._super(a);a.Cl=document.documentElement},apply:function(a){this._super(a);this.LH()}});c.extend({Fo:function(a){this._super(a);
a.Cl=document.documentElement},apply:function(a,c){this._super(a,c);this.LH()}});var d=q.Gh.extend({apply:function(a){this.WC(a,q.canvas.width,q.canvas.height)}});q.Gh.cv=new a;q.Gh.gP=new c;q.Gh.D1=new d;var a=q.hf.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height;return this.Pr(d,e,d,e,d/c.width,e/c.height)}}),c=q.hf.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=c.width,p=c.height,w=d/f,v=e/p,x=0,z,G;w<v?(x=w,z=d,G=p*x):(x=v,z=f*x,G=e);return this.Pr(d,e,
z,G,x,x)}}),d=q.hf.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=c.width,p=c.height,w=d/f,v=e/p,x,z,G;w<v?(x=v,z=f*x,G=e):(x=w,z=d,G=p*x);return this.Pr(d,e,z,G,x,x)}}),e=q.hf.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=e/c.height;return this.Pr(d,e,d,e,f,f)},Eo:function(a){q.aa.f().ic=a.Wt()}}),f=q.hf.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=d/c.width;return this.Pr(d,e,d,e,f,f)},Eo:function(a){q.aa.f().ic=a.Wt()}});q.hf.hA=
new a;q.hf.SHOW_ALL=new c;q.hf.vA=new d;q.hf.iA=new e;q.hf.jA=new f})();q.dp=q.Ka.extend({Bw:null,Cw:null,ctor:function(a,c){this.UY(a);this.XY(c)},Fo:function(a){this.Bw.Fo(a);this.Cw.Fo(a)},apply:function(a,c){this.Bw.apply(a,c);return this.Cw.apply(a,c)},Eo:function(a){this.Bw.Eo(a);this.Cw.Eo(a)},UY:function(a){a instanceof q.Gh&&(this.Bw=a)},XY:function(a){a instanceof q.hf&&(this.Cw=a)}});q.Screen=q.Ka.extend({it:!1,wl:"",wC:null,xC:null,nD:"",w:function(){var a=["webkit","moz","o","ms","khtml"],c=document.body;if(c.requestFullScreen)this.it=!0;else for(var d=0,e=a.length,f;d<e;d++)if(f=a[d],c[f+"RequestFullScreen"]){this.it=!0;this.wl=f;break}this.nD="ontouchstart"in window?"touchstart":"mousedown"},fullScreen:function(){var a=document;if(this.it)switch(this.wl){case "":return a.fullScreen;case "webkit":return a.webkitIsFullScreen;default:return a[this.wl+"FullScreen"]}return!1},
jM:function(a,c){if(this.it&&!this.fullScreen()){if(c){var d=this.wl+"fullscreenchange";this.wC&&this.xC&&this.wC.removeEventListener(d,this.xC);this.wC=a;this.xC=c;a.addEventListener(d,c,!1)}return""===this.wl?a.requestFullScreen():a[this.wl+"RequestFullScreen"]()}},s5:function(){if(this.it&&this.fullScreen())return""===this.wl?document.body.cancelFullScreen():document.body[this.wl+"CancelFullScreen"]()},zT:function(a,c){function d(){e.jM(a,c);a.removeEventListener(e.nD,d)}var e=this;this.jM(a,c);
a.addEventListener(this.nD,d)}});q.Screen.f=function(){if(!this.jb){var a=new q.Screen;a.w();this.jb=a}return this.jb};q.kH={Ri:q.Yd(),Yh:q.Yd(),Qi:q.Yd(),wj:q.Yd(),xj:q.Yd(),vj:q.Yd(),qB:q.Yd(),Hj:q.Yd(),Li:q.Yd(),Ea:0,ra:0,w:function(a){this.Ea=a.width;this.ra=a.height;a=this.Ea;var c=this.ra;this.Ri.S=c;this.Yh.R=a;this.Yh.S=c;this.Qi.R=a/2;this.Qi.S=c;this.xj.R=a;this.vj.R=a/2;this.qB.R=a/2;this.qB.S=c/2;this.Hj.S=c/2;this.Li.R=a;this.Li.S=c/2},Xt:function(){return this.Ea},St:function(){return this.ra},qea:function(){return this.Ri},rea:function(){return this.Yh},top:function(){return this.Qi},k4:function(){return this.wj},
l4:function(){return this.xj},bottom:function(){return this.vj},z4:function(){return this.qB},left:function(){return this.Hj},right:function(){return this.Li}};q.yz=function(a){var c;if(a&&0!=a.length){var d=a.indexOf("{"),e=a.indexOf("}");-1==d||-1==e||d>e||(a=a.substr(d+1,e-d-1),0!=a.length&&(d=a.indexOf("}"),-1==a.indexOf("{")&&-1==d&&(c=a.split(","))))}return c};q.VG=function(a){var c=q.Gd();if(a){var d=a.indexOf("{")+1,e=a.lastIndexOf("}",a.length);-1!=d&&-1!=e&&(a=a.substring(d,e),d=a.indexOf("}"),-1!=d&&(d=a.indexOf(",",d),-1!=d&&(c=q.yz(a.substr(0,d)),a=q.yz(a.substr(d+1,a.length-d)),c=q.rect(parseFloat(c[0]),parseFloat(c[1]),parseFloat(a[0]),parseFloat(a[1])))))}return c};
q.UG=function(a){var c=q.lk();try{if(""==a)return c;var d=q.yz(a),c=q.a(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};q.JA=function(a){var c=q.cn();try{if(""==a)return c;var d=q.yz(a),c=q.size(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};q.c0=function(a,c,d,e,f,g){this.Q=a;this.p=c;this.La=d;this.d=e;this.lb=f;this.mb=g};q.N2=function(a,c,d,e,f,g){return{Q:a,p:c,La:d,d:e,lb:f,mb:g}};q.f0=function(a,c,d,e,f,g){return{Q:a,p:c,La:d,d:e,lb:f,mb:g}};q.O2=function(a,c){return{x:c.Q*a.x+c.La*a.y+c.lb,y:c.p*a.x+c.d*a.y+c.mb}};q.TG=function(a,c){return{x:c.Q*a.x+c.La*a.y+c.lb,y:c.p*a.x+c.d*a.y+c.mb}};q.tl=function(a,c,d){return{x:d.Q*a+d.La*c+d.lb,y:d.p*a+d.d*c+d.mb}};
q.P2=function(a,c){return{width:c.Q*a.width+c.La*a.height,height:c.p*a.width+c.d*a.height}};q.n2=function(a,c){return{width:c.Q*a.width+c.La*a.height,height:c.p*a.width+c.d*a.height}};q.g0=function(){return{Q:1,p:0,La:0,d:1,lb:0,mb:0}};q.e0=function(){return{Q:1,p:0,La:0,d:1,lb:0,mb:0}};
q.hg=function(a,c){var d=q.xm(a),e=q.wm(a),f=q.Go(a),g=q.Ho(a),h=q.tl(e,d,c),d=q.tl(f,d,c),e=q.tl(e,g,c),k=q.tl(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);return q.rect(f,l,g-f,h-l)};
q.sj=function(a,c){var d=q.xm(a),e=q.wm(a),f=q.Go(a),g=q.Ho(a),h=q.tl(e,d,c),d=q.tl(f,d,c),e=q.tl(e,g,c),k=q.tl(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);a.x=f;a.y=l;a.width=g-f;a.height=h-l;return a};q.Qz=function(a,c,d){return{Q:a.Q,p:a.p,La:a.La,d:a.d,lb:a.lb+a.Q*c+a.La*d,mb:a.mb+a.p*c+a.d*d}};q.h0=function(a,c,d){return{Q:a.Q*c,p:a.p*c,La:a.La*d,d:a.d*d,lb:a.lb,mb:a.mb}};
q.aO=function(a){var c=Math.sin(1.57079633),d=Math.cos(1.57079633);return{Q:a.Q*d+a.La*c,p:a.p*d+a.d*c,La:a.La*d-a.Q*c,d:a.d*d-a.p*c,lb:a.lb,mb:a.mb}};q.Vm=function(a,c){return{Q:a.Q*c.Q+a.p*c.La,p:a.Q*c.p+a.p*c.d,La:a.La*c.Q+a.d*c.La,d:a.La*c.p+a.d*c.d,lb:a.lb*c.Q+a.mb*c.La+c.lb,mb:a.lb*c.p+a.mb*c.d+c.mb}};q.d0=function(a,c){return a.Q===c.Q&&a.p===c.p&&a.La===c.La&&a.d===c.d&&a.lb===c.lb&&a.mb===c.mb};
q.hG=function(a){var c=1/(a.Q*a.d-a.p*a.La);return{Q:c*a.d,p:-c*a.p,La:-c*a.La,d:c*a.Q,lb:c*(a.La*a.mb-a.d*a.lb),mb:c*(a.p*a.lb-a.Q*a.mb)}};q.JG=parseFloat("1.192092896e-07F");q.SE=function(a){return q.a(-a.x,-a.y)};q.xh=function(a,c){return q.a(a.x+c.x,a.y+c.y)};q.de=function(a,c){return q.a(a.x-c.x,a.y-c.y)};q.bk=function(a,c){return q.a(a.x*c,a.y*c)};q.RE=function(a,c){return q.bk(q.xh(a,c),.5)};q.br=function(a,c){return a.x*c.x+a.y*c.y};q.vaa=function(a,c){return a.x*c.y-a.y*c.x};q.Sy=function(a){return q.a(-a.y,a.x)};q.Daa=function(a){return q.a(a.y,-a.x)};q.Caa=function(a,c){return q.bk(c,q.br(a,c)/q.br(c,c))};
q.Eaa=function(a,c){return q.a(a.x*c.x-a.y*c.y,a.x*c.y+a.y*c.x)};q.Jaa=function(a,c){return q.a(a.x*c.x+a.y*c.y,a.y*c.x-a.x*c.y)};q.SL=function(a){return q.br(a,a)};q.waa=function(a,c){return q.SL(q.de(a,c))};q.PE=function(a){return Math.sqrt(q.SL(a))};q.OE=function(a,c){return q.PE(q.de(a,c))};q.ri=function(a){return q.bk(a,1/q.PE(a))};q.xaa=function(a){return q.a(Math.cos(a),Math.sin(a))};q.Iaa=function(a){return Math.atan2(a.y,a.x)};
q.Dt=function(a,c,d){if(c>d){var e=c;c=d;d=e}return a<c?c:a<d?a:d};q.RL=function(a){var c=q.a(0,0),d=q.a(1,1);return q.a(q.Dt(a.x,c.x,d.x),q.Dt(a.y,c.y,d.y))};q.oX=function(){var a=q.aa.f().ic;return q.a(a.width,a.height)};q.uaa=function(a,c){return q.a(c(a.x),c(a.y))};q.TL=function(a,c,d){return q.xh(q.bk(a,1-d),q.bk(c,d))};q.yaa=function(a,c,d){return a.x-d<=c.x&&c.x<=a.x+d&&a.y-d<=c.y&&c.y<=a.y+d?!0:!1};q.taa=function(a,c){return q.a(a.x*c.x,a.y*c.y)};
q.saa=function(a,c){var d=q.ri(a),e=q.ri(c),d=Math.atan2(d.x*e.y-d.y*e.x,q.br(d,e));return Math.abs(d)<q.JG?0:d};q.raa=function(a,c){var d=Math.acos(q.br(q.ri(a),q.ri(c)));return Math.abs(d)<q.JG?0:d};q.qX=function(a,c,d){a=q.de(a,c);var e=Math.cos(d);d=Math.sin(d);var f=a.x;a.x=f*e-a.y*d+c.x;a.y=f*d+a.y*e+c.y;return a};
q.QE=function(a,c,d,e,f){if(a.x==c.x&&a.y==c.y||d.x==e.x&&d.y==e.y)return!1;var g=c.x-a.x;c=c.y-a.y;var h=e.x-d.x;e=e.y-d.y;var k=a.x-d.x;a=a.y-d.y;d=e*g-h*c;f.x=h*a-e*k;f.y=g*a-c*k;if(0==d)return 0==f.x||0==f.y?!0:!1;f.x/=d;f.y/=d;return!0};q.Gaa=function(a,c,d,e){var f=q.a(0,0);return q.QE(a,c,d,e,f)&&0<=f.x&&1>=f.x&&0<=f.y&&1>=f.y?!0:!1};q.Aaa=function(a,c,d,e){var f=q.a(0,0);return q.QE(a,c,d,e,f)?(d=q.a(0,0),d.x=a.x+f.x*(c.x-a.x),d.y=a.y+f.x*(c.y-a.y),d):q.lk()};
q.Faa=function(a,c){return null!=a&&null!=c?a.x==c.x&&a.y==c.y:!1};q.Kaa=function(a){a.x=0;a.y=0};q.zaa=function(a,c){a.x=c.x;a.y=c.y};q.pX=function(a,c){a.x*=c;a.y*=c};q.Haa=function(a,c){a.x-=c.x;a.y-=c.y};q.qaa=function(a,c){a.x+=c.x;a.y+=c.y};q.Baa=function(a){q.pX(a,1/Math.sqrt(a.x*a.x+a.y*a.y))};q.Oea=function(a,c,d,e,f){f+=e;if(!(1>=f)){c*=.5;for(var g,h=f-1,k=e;k<f;k++){g=2*k;var l=q.a(a[2*k],a[2*k+1]),m;if(0===k)m=q.Sy(q.ri(q.de(l,q.a(a[2*(k+1)],a[2*(k+1)+1]))));else if(k===h)m=q.Sy(q.ri(q.de(q.a(a[2*(k-1)],a[2*(k-1)+1]),l)));else{m=q.a(a[2*(k-1)],a[2*(k-1)+1]);var p=q.a(a[2*(k+1)],a[2*(k+1)+1]),w=q.ri(q.de(p,l)),v=q.ri(q.de(m,l)),x=Math.acos(q.br(w,v));m=x<q.jk(70)?q.Sy(q.ri(q.RE(w,v))):x<q.jk(170)?q.ri(q.RE(w,v)):q.Sy(q.ri(q.de(p,m)))}m=q.bk(m,c);d[2*g]=l.x+m.x;d[2*g+1]=l.y+m.y;d[2*
(g+1)]=l.x-m.x;d[2*(g+1)+1]=l.y-m.y}for(k=0==e?0:e-1;k<h;k++)g=2*k,a=g+2,c=q.iw(d[2*g],d[2*g+1]),f=q.iw(d[2*(g+1)],d[2*(g+1)+1]),g=q.iw(d[2*a],d[2*a]),e=q.iw(d[2*(a+1)],d[2*(a+1)+1]),c=!q.N_(c.x,c.y,e.x,e.y,f.x,f.y,g.x,g.y),!c.du&&(0>c.value||1<c.value)&&(c.du=!0),c.du&&(d[2*a]=e.x,d[2*a+1]=e.y,d[2*(a+1)]=g.x,d[2*(a+1)+1]=g.y)}};
q.N_=function(a,c,d,e,f,g,h,k){if(a==d&&c==e||f==h&&g==k)return{du:!1,value:0};d-=a;e-=c;f-=a;g-=c;h-=a;k-=c;a=Math.sqrt(d*d+e*e);d/=a;e/=a;c=f*d+g*e;g=g*d-f*e;f=c;c=h*d+k*e;k=k*d-h*e;h=c;return g==k?{du:!1,value:0}:{du:!0,value:(h+(f-h)*k/(k-g))/a}};q.q0=function(a,c){c[2]=c[3]=c[6]=c[7]=c[8]=c[9]=c[11]=c[14]=0;c[10]=c[15]=1;c[0]=a.Q;c[4]=a.La;c[12]=a.lb;c[1]=a.p;c[5]=a.d;c[13]=a.mb};q.$0=function(a,c){c.Q=a[0];c.La=a[4];c.lb=a[12];c.p=a[1];c.d=a[5];c.mb=a[13]};q.HG=-1;q.w1=null;q.x1=null;q.xY=1;
q.Node=q.Ka.extend({qb:0,$x:0,ih:0,Mi:0,sa:1,za:1,v:null,Me:0,Ne:0,D:null,Ua:!0,jn:null,Td:null,ya:null,pf:!1,ea:null,Fk:!1,Md:q.HG,iJ:null,vD:null,Rk:!0,Xw:!0,zH:!0,B3:null,Qk:null,XH:null,Le:!1,gd:null,qg:0,Kh:null,jh:null,WH:!1,Ir:!1,pw:null,Aj:null,hC:!1,In:0,Vs:0,eC:function(){this.jn=q.Yd();this.Td=q.Yd();this.ya=q.Ln();this.v=q.Yd();this.D=[];this.Qk={Q:1,p:0,La:0,d:1,lb:0,mb:0};var a=q.aa.f();this.Kh=a.Ag();this.jh=a.Yf();this.WH=!0;this.pw={Q:1,p:0,La:0,d:1,lb:0,mb:0};q.kO&&(this.Aj=new q.kO(this))},
w:function(){!1===this.WH&&this.eC();return!0},Wg:function(a,c){if(a&&0!==a.length){var d,e=a.length,f;d=q.Node.ig;switch(c){case d.wh:for(d=0;d<e;d++)(f=a[d])&&f.wh();break;case d.ve:for(d=0;d<e;d++)(f=a[d])&&f.ve();break;case d.hj:for(d=0;d<e;d++)(f=a[d])&&f.hj();break;case d.zg:for(d=0;d<e;d++)(f=a[d])&&f.zg();break;case d.Og:for(d=0;d<e;d++)(f=a[d])&&f.Og();break;case d.qi:for(d=0;d<e;d++)(f=a[d])&&f.qi();break;case d.we:for(d=0;d<e;d++)(f=a[d])&&f.we();break;default:throw"Unknown callback function";
}}},gb:null,iS:function(){this.Kn();!1===this.Rk&&(this.Rk=this.Xw=!0)},jS:function(){!1===this.Rk&&(this.Rk=this.Xw=!0)},u8:function(){return this.Me},qz:function(a){this.Me=a;this.gb()},v8:function(){return this.Ne},rz:function(a){this.Ne=a;this.gb()},l9:function(){return this.qb},Cx:function(a){this.qb=a},Ida:function(a){this.Cx(a);this.ea&&this.ea.ou(this,a)},b9:function(){return this.$x},hN:function(a){this.$x=a},vV:function(){this.ih!==this.Mi&&q.log("cc.Node.rotation(): RotationX != RotationY. Don't know which one to return");
return this.ih},nz:function(a){this.ih=this.Mi=a;this.In=.017453292519943295*this.ih;this.Vs=.017453292519943295*this.Mi;this.gb()},j8:function(){return this.ih},oz:function(a){this.ih=a;this.In=.017453292519943295*this.ih;this.gb()},k8:function(){return this.Mi},pz:function(a){this.Mi=a;this.Vs=.017453292519943295*this.Mi;this.gb()},iE:function(){this.sa!==this.za&&q.log("cc.Node.getScale(): ScaleX != ScaleY. Don't know which one to return");return this.sa},il:function(a,c){this.sa=a;this.za=c||
0===c?c:a;this.gb()},wV:function(){return this.sa},ir:function(a){this.sa=a;this.gb()},xV:function(){return this.za},Oo:function(a){this.za=a;this.gb()},o:function(a,c){var d=this.v;2==arguments.length?(d.R=a,d.S=c):1==arguments.length&&(d.R=a.x,d.S=a.y);this.gb()},U7:function(){return this.v},V7:function(){return this.v.R},Qb:function(a){this.v.R=a;this.gb()},W7:function(){return this.v.S},od:function(a){this.v.S=a;this.gb()},i6:function(){return this.D.length},h6:function(){return this.D},nL:function(){return this.Ua},
H:function(a){this.Ua=a;this.gb()},Q5:function(){return this.jn},A:function(a,c){var d=this.jn;if(2===arguments.length){if(a===d.R&&c===d.S)return;d.R=a;d.S=c}else{if(a.x===d.R&&a.y===d.S)return;d.R=a.x;d.S=a.y}var e=this.Td,f=this.ya;e.R=f.Ea*d.R;e.S=f.ra*d.S;this.gb()},R5:function(){return this.Td},c:function(){return this.ya},G:function(a,c){var d=this.ya;if(2===arguments.length){if(a===d.Ea&&c===d.ra)return;d.Ea=a;d.ra=c}else{if(a.width===d.Ea&&a.height===d.ra)return;d.Ea=a.width;d.ra=a.height}var e=
this.Td,f=this.jn;e.R=d.Ea*f.R;e.S=d.ra*f.S;this.gb()},n$:function(){return this.pf},getParent:function(){return this.ea},uu:function(a){this.ea=a},Y9:function(){return this.Fk},Xj:function(a){a!=this.Fk&&(this.Fk=a,this.gb())},HV:function(){return this.Md},dN:function(a){this.Md=a},getUserData:function(){return this.iJ},setUserData:function(a){this.iJ=a},Z8:function(){return this.vD},Cda:function(a){this.vD!=a&&(this.vD=a)},K7:function(){return this.qg},hr:function(a){this.qg=a},Ag:function(){this.Kh||
(this.Kh=q.aa.f().Ag());return this.Kh},KY:function(a){this.Kh!=a&&(this.NF(),this.Kh=a)},Yf:function(){this.jh||(this.jh=q.aa.f().Yf());return this.jh},NZ:function(a){this.jh!=a&&(this.Iu(),this.jh=a)},Qc:function(){var a=q.rect(0,0,this.ya.Ea,this.ya.ra);return q.sj(a,this.Eg())},zg:function(){this.NF();this.Iu();this.Wg(this.D,q.Node.ig.zg)},description:function(){return"<cc.Node | Tag ="+this.Md+">"},bV:function(a){var c=this.D;if(null!=c)for(var d=0;d<c.length;d++){var e=c[d];if(e&&e.Md==a)return e}return null},
e:function(a,c,d){if(!a)throw"cc.Node.addChild(): child must be non-null";a===this?q.log("cc.Node.addChild(): An Node can't be added as a child of itself."):null!==a.ea?q.log("cc.Node.addChild(): child already added. It can't be added again"):(c=null!=c?c:a.qb,a.Md=null!=d?d:a.Md,this.YQ(a,c),a.ea=this,this.pf&&(a.wh(),this.hC&&a.hj()))},N:function(a){this.ea&&(null==a&&(a=!0),this.ea.removeChild(this,a))},gY:function(a){q.log("removeFromParentAndCleanup is deprecated. Use removeFromParent instead");
this.N(a)},removeChild:function(a,c){0!==this.D.length&&(null==c&&(c=!0),-1<this.D.indexOf(a)&&this.AQ(a,c),this.gb())},oba:function(a,c){a===q.HG&&q.log("cc.Node.removeChildByTag(): argument tag is an invalid tag");var d=this.bV(a);null==d?q.log("cocos2d: removeChildByTag(tag = "+a+"): child not found!"):this.removeChild(d,c)},gba:function(a){q.log("removeAllChildrenWithCleanup is deprecated. Use removeAllChildren instead");this.Wc(a)},Wc:function(a){var c=this.D;if(null!=c){null==a&&(a=!0);for(var d=
0;d<c.length;d++){var e=c[d];e&&(this.pf&&(e.qi(),e.ve()),a&&e.zg(),e.uu(null))}this.D.length=0}},AQ:function(a,c){this.pf&&(a.qi(),a.ve());c&&a.zg();a.uu(null);q.ie(this.D,a)},YQ:function(a,c){this.Le=!0;this.D.push(a);a.Cx(c)},ou:function(a,c){if(!a)throw"cc.Node.reorderChild(): child must be non-null";this.Le=!0;a.hr(q.xY++);a.Cx(c);this.gb()},we:function(){if(this.Le){var a=this.D,c,d,e=a.length,f;for(c=0;c<e;c++){var g=a[c];d=c-1;for(f=a[d];0<=d&&(g.qb<f.qb||g.qb==f.qb&&g.qg<f.qg);)a[d+1]=f,
--d,f=a[d];a[d+1]=g}this.Le=!1}},Ya:function(){},Gz:function(){null!=this.ea&&(this.ea.Gz(),this.ea.transform())},wh:function(){this.hC=!1;this.pf=!0;this.Wg(this.D,q.Node.ig.wh);this.dz()},hj:function(){this.hC=!0;this.Wg(this.D,q.Node.ig.hj)},qi:function(){this.Wg(this.D,q.Node.ig.qi)},ve:function(){this.pf=!1;this.Vy();this.Wg(this.D,q.Node.ig.ve);this.Aj&&this.Aj.bY()},ez:function(a){if(!a)throw"cc.Node.runAction(): action must be non-null";this.Ag().dT(a,this,!this.pf);return a},NF:function(){this.Ag().fM(this)},
s_:function(a){this.Ag().eM(a)},Vda:function(a){a===q.Uo?q.log("cc.Node.stopActionBy(): argument tag an invalid tag"):this.Ag().aY(a,this)},aE:function(a){return a===q.Uo?(q.log("cc.Node.getActionByTag(): argument tag is an invalid tag"),null):this.Ag().aE(a,this)},x7:function(){return this.Ag().HL(this)},haa:function(){return this.Ag().HL(this)},BY:function(){this.CY(0)},CY:function(a){this.Yf().pM(this,a,!this.pf)},vea:function(){this.Yf().mr(this)},Db:function(a,c,d,e){c=c||0;if(!a)throw"cc.Node.schedule(): callback function must be non-null";
if(0>c)throw"cc.Node.schedule(): interval must be positive";d=null==d?q.bn:d;e=e||0;this.Yf().AY(this,a,c,d,e,!this.pf)},fe:function(a,c){this.Db(a,0,0,c)},fc:function(a){a&&this.Yf().HN(this,a)},Iu:function(){this.Yf().GN(this)},dz:function(){this.Yf().Ko(this);this.Ag().Ko(this)},Vy:function(){this.Yf().mu(this);this.Ag().mu(this)},Pba:function(a){this.pw=a;this.Ir=this.Rk=!0},Naa:function(){this.Xw&&(this.XH=q.hG(this.Eg()),this.Xw=!1);return this.XH},Ao:function(){for(var a=this.Eg(),c=this.ea;null!=
c;c=c.getParent())a=q.Vm(a,c.Eg());return a},P_:function(){return q.hG(this.Ao())},Ca:function(a){return q.TG(a,this.P_())},$l:function(a){return q.TG(a,this.Ao())},cU:function(a){return q.de(this.Ca(a),this.Td)},N4:function(a){a=q.xh(a,this.Td);return this.$l(a)},U2:function(a){a=this.$l(a);return q.aa.f().dU(a)},Yi:function(a){return this.Ca(a.W)},O4:function(a){a=a.W;a=q.aa.f().bU(a);return this.cU(a)},update:function(a){this.Aj&&!this.Aj.U9()&&this.Aj.xa(a)},Og:function(){this.Wg(this.D,q.Node.ig.Og)},
mM:function(){},dM:function(){},cV:function(a){return this.Aj.cV(a)},I3:function(a){this.Aj.add(a)},pba:function(a){return this.Aj.remove(a)},hba:function(){this.Aj.bY()},WI:null,hD:null,aC:null,wp:null,Fl:null,ctor:null,Bi:function(){this.eC()},Ci:function(){this.eC();var a=new q.ki;a.oi[2]=a.oi[3]=a.oi[6]=a.oi[7]=a.oi[8]=a.oi[9]=a.oi[11]=a.oi[14]=0;a.oi[10]=a.oi[15]=1;this.WI=a;this.aC=0;this.hD=new q.ki},xa:null,Yn:function(a){if(this.Ua){a=a||q.$;var c,d=this.D,e;a.save();this.transform(a);var f=
d.length;if(0<f){this.we();for(c=0;c<f;c++)if(e=d[c],0>e.qb)e.xa(a);else break;for(this.Ya(a);c<f;c++)d[c].xa(a)}else this.Ya(a);this.qg=0;a.restore()}},Zn:function(){if(this.Ua){var a=q.$,c,d=q.jU;d.stack.push(d.top);q.B$(this.hD,d.top);d.top=this.hD;var e=this.Fl;e&&e.RP&&e.KD();this.transform();var f=this.D;if(f&&0<f.length){var g=f.length;this.we();for(c=0;c<g;c++)if(f[c]&&0>f[c].qb)f[c].xa();else break;for(this.Ya(a);c<g;c++)f[c]&&f[c].xa()}else this.Ya(a);this.qg=0;e&&e.RP&&e.GD(this);d.top=
d.stack.pop()}},transform:null,MS:function(a){a=a||q.$;var c=q.la.f(),d=this.Eg();a.transform(d.Q,d.La,d.p,d.d,d.lb*c.sa,-d.mb*c.za)},NS:function(){var a=this.WI,c=q.jU.top,d=this.Eg(),e=a.oi;e[0]=d.Q;e[4]=d.La;e[12]=d.lb;e[1]=d.p;e[5]=d.d;e[13]=d.mb;e[14]=this.$x;q.JW(c,c,a);null==this.wp||null!=this.Fl&&this.Fl.Tq()||(a=this.Td.R,c=this.Td.S,0!==a||0!==c?(q.HW(q.Tg(a),q.Tg(c),0),this.wp.wL(),q.HW(q.Tg(-a),q.Tg(-c),0)):this.wp.wL())},Eg:null,nR:function(){this.Qk||(this.Qk={Q:1,p:0,La:0,d:1,lb:0,
mb:0});if(this.Rk){var a=this.Qk;a.lb=this.v.R;a.mb=this.v.S;var c=1,d=0;this.ih&&(c=Math.cos(this.In),d=Math.sin(this.In));a.Q=a.d=c;a.p=-d;a.La=d;var e=this.sa,f=this.za,g=this.Td.R,h=this.Td.S,k=1E-6>e&&-1E-6<e?1E-6:e,l=1E-6>f&&-1E-6<f?1E-6:f;if(this.Me||this.Ne){var m=Math.tan(-this.Me*Math.PI/180),p=Math.tan(-this.Ne*Math.PI/180),w=h*m*k,v=g*p*l;a.Q=c+-d*p;a.p=c*m+-d;a.La=d+c*p;a.d=d*m+c;a.lb+=c*w+-d*v;a.mb+=d*w+c*v}if(1!==e||1!==f)a.Q*=k,a.La*=k,a.p*=l,a.d*=l;a.lb+=c*-g*k+-d*h*l;a.mb-=d*-g*
k+c*h*l;this.Fk&&(a.lb+=g,a.mb+=h);this.Ir&&(this.Qk=q.Vm(this.Qk,this.pw),this.Ir=!1);this.Rk=!1}return this.Qk},oR:function(){if(this.Rk){var a=this.v.R,c=this.v.S,d=this.Td.R,e=-d,f=this.Td.S,g=-f,h=this.sa,k=this.za;this.Fk&&(a+=d,c+=f);var l=1,m=0,p=1,w=0;if(0!==this.ih||0!==this.Mi)l=Math.cos(-this.In),m=Math.sin(-this.In),p=Math.cos(-this.Vs),w=Math.sin(-this.Vs);var v=this.Me||this.Ne;v||0===d&&0===f||(a+=p*e*h+-m*g*k,c+=w*e*h+l*g*k);a={Q:p*h,p:w*h,La:-m*k,d:l*k,lb:a,mb:c};v&&(a=q.Vm({Q:1,
p:Math.tan(q.jk(this.Ne)),La:Math.tan(q.jk(this.Me)),d:1,lb:0,mb:0},a),0!==d||0!==f)&&(a=q.Qz(a,e,g));this.Ir&&(a=q.Vm(a,this.pw),this.Ir=!1);this.Qk=a;this.Rk=!1}return this.Qk},Kn:function(){this.zH=!0;this.ea&&this.ea.Kn()},bE:function(){this.wp||(this.wp=new q.tr);return this.wp},T6:function(){return this.Fl},rca:function(a){this.Fl=a},kE:function(){return this.gd},Bh:function(a){this.gd=a},S6:function(){return this.aC},qca:function(a){this.aC=a},Z5:function(){var a=q.rect(0,0,this.ya.Ea,this.ya.ra),
c=this.Ao(),a=q.hg(a,this.Ao());if(!this.D)return a;for(var d=this.D,e=0;e<d.length;e++){var f=d[e];f&&f.Ua&&(f=f.NH(c))&&(a=q.az(a,f))}return a},NH:function(a){var c=q.rect(0,0,this.ya.Ea,this.ya.ra);a=null==a?this.Eg():q.Vm(this.Eg(),a);c=q.hg(c,a);if(!this.D)return c;for(var d=this.D,e=0;e<d.length;e++){var f=d[e];f&&f.Ua&&(f=f.NH(a))&&(c=q.az(c,f))}return c}});
q.Aa.pd?(b=q.Node.prototype,b.ctor=q.Node.prototype.Ci,b.gb=q.Node.prototype.jS,b.xa=q.Node.prototype.Zn,b.transform=q.Node.prototype.NS,b.Eg=q.Node.prototype.oR):(b=q.Node.prototype,b.ctor=q.Node.prototype.Bi,b.gb=q.Node.prototype.iS,b.xa=q.Node.prototype.Yn,b.transform=q.Node.prototype.MS,b.Eg=q.Node.prototype.nR);q.Node.create=function(){return new q.Node};q.Node.ig={wh:1,ve:2,zg:3,hj:4,Og:5,qi:6,we:7};
q.Rb=q.Node.extend({Ab:!0,oc:255,gh:255,Nc:null,Ke:null,Ud:!1,De:!1,ctor:function(){q.Node.prototype.ctor.call(this);this.gh=this.oc=255;this.Nc=q.Jb();this.Ke=q.Jb();this.De=this.Ud=!1},Vj:function(){return this.gh},eV:function(){return this.oc},ua:function(a){this.oc=this.gh=a;a=255;var c=this.ea;c&&c.Ab&&c.De&&(a=c.oc);this.Ed(a)},Ed:function(a){this.oc=this.gh*a/255;if(this.De){a=this.D;for(var c=0;c<a.length;c++){var d=a[c];d&&d.Ab&&d.Ed(this.oc)}}},wW:function(){return this.De},xM:function(a){this.De!==
a&&((this.De=a)?this.ls():this.KB())},ls:function(){var a=255,c=this.ea;c&&c.Ab&&c.De&&(a=c.oc);this.Ed(a)},KB:function(){this.oc=this.gh;for(var a=this.D,c=0;c<a.length;c++){var d=a[c];d&&d.Ab&&d.Ed(255)}},Od:function(){var a=this.Ke;return new q.Lc(a.t,a.r,a.p)},Rt:function(){return this.Nc},n:function(a){var c=this.Nc,d=this.Ke;c.t=d.t=a.t;c.r=d.r=a.r;c.p=d.p=a.p;a=(a=this.ea)&&a.Ab&&a.Ud?a.Rt():q.Jb();this.Dd(a)},Dd:function(a){var c=this.Nc,d=this.Ke;c.t=0|d.t*a.t/255;c.r=0|d.r*a.r/255;c.p=0|
d.p*a.p/255;if(this.Ud)for(a=this.D,d=0;d<a.length;d++){var e=a[d];e&&e.Ab&&e.Dd(c)}},vW:function(){return this.Ud},wM:function(a){this.Ud!==a&&((this.Ud=a)?this.ks():this.JB())},ks:function(){var a;a=(a=this.ea)&&a.Ab&&a.Ud?a.Rt():q.Jb();this.Dd(a)},JB:function(){var a=this.Nc,c=this.Ke;a.t=c.t;a.r=c.r;a.p=c.p;for(var a=this.D,c=q.Jb(),d=0;d<a.length;d++){var e=a[d];e&&e.Ab&&e.Dd(c)}},e:function(a,c,d){q.Node.prototype.e.call(this,a,c,d);this.Ud&&this.ks();this.De&&this.ls()},dg:function(){},km:function(){return!1}});
q.Rb.create=function(){var a=new q.Rb;a.w();return a};q.xe=q.Rb.extend({Ab:!0,cI:0,bI:0,Zw:0,Yw:0,uk:null,Sa:null,Gc:!1,ka:null,Rs:0,bC:!1,ctor:function(){q.Rb.prototype.ctor.call(this);this.uk=q.Jb();this.ka={src:q.ff,Xb:q.ef};this.bC=!1},xea:function(){q.log("cc.AtlasNode.updateAtlasValues(): Shall be overridden in subclasses")},Od:function(){return this.Gc?this.uk:q.Rb.prototype.Od.call(this)},dg:function(a){var c=this.Od();this.Gc=a;this.n(c)},km:function(){return this.Gc},Qt:function(){return this.ka},Dm:function(a,c){this.ka=1==arguments.length?
a:{src:a,Xb:c}},kr:function(a){this.Sa=a},IK:function(){return this.Sa},c8:function(){return this.Rs},ada:function(a){this.Rs=a},Rn:null,rg:null,ZI:null,zw:null,kW:function(a,c,d,e){if(!a)throw"cc.AtlasNode.initWithTileFile(): title should not be null";a=q.da.f().pa(a);return this.Qa(a,c,d,e)},Qa:null,As:function(a,c,d,e){this.Zw=c;this.Yw=d;this.Gc=!0;this.rg=a;if(!this.rg)return q.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.Rn=this.rg;this.vw();this.Rs=e;return!0},
Bs:function(a,c,d,e){this.Zw=c;this.Yw=d;this.uk=q.Jb();this.Gc=!0;this.ka.src=q.ff;this.ka.Xb=q.ef;c=this.Ke;this.zw=new Float32Array([c.t/255,c.r/255,c.p/255,this.gh/255]);this.Sa=new q.hp;this.Sa.Qa(a,e);if(!this.Sa)return q.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.Xn();this.fJ();this.vw();this.Rs=e;this.Bh(q.zi.f().jj(q.h2));this.ZI=q.$.getUniformLocation(this.kE().vy(),"u_color");return!0},Ya:null,Zg:function(a){a=a||q.$;q.uA(this);q.$k(this.ka.src,this.ka.Xb);
a.uniform4fv(this.ZI,this.zw);this.Sa.ZJ(this.Rs,0)},n:null,Xs:function(a){var c=this.Ke;if(c.t!=a.t||c.r!=a.r||c.p!=a.p){c=new q.Lc(a.t,a.r,a.p);this.uk=a;if(this.Gc){var d=this.oc;c.t=c.t*d/255;c.r=c.r*d/255;c.p=c.p*d/255}q.Rb.prototype.n.call(this,a);this.ha()&&(a=this.rg.Fc)&&(c=q.da.f().JK(a))&&(d=q.rect(0,0,a.width,a.height),a=q.$D(a,c,this.Ke,d),c=new q.qc,c.Bf(a),c.te(),this.ma(c))}},RC:function(a){var c=q.Lc(a.t,a.r,a.p);this.uk=a;var d=this.oc;this.Gc&&(c.t=c.t*d/255,c.r=c.r*d/255,c.p=c.p*
d/255);q.Rb.prototype.n.call(this,a);a=this.Nc;this.zw=new Float32Array([a.t/255,a.r/255,a.p/255,d/255])},ua:null,Zs:function(a){q.Rb.prototype.ua.call(this,a);this.Gc&&this.n(this.uk)},TC:function(a){q.Rb.prototype.ua.call(this,a);this.Gc?this.n(this.uk):(a=this.Nc,this.zw=new Float32Array([a.t/255,a.r/255,a.p/255,this.oc/255]))},ha:null,YB:function(){return this.Rn},ZB:function(){return this.Sa.ha()},ma:null,$s:function(a){this.Rn=a},at:function(a){this.Sa.ma(a);this.Xn();this.fJ()},vw:null,hQ:function(){var a=
this.ha().c();this.bI=0|a.height/this.Yw;this.cI=0|a.width/this.Zw},iQ:function(){var a=this.ha(),c=a.c();this.bC&&(c=a.ya);this.bI=0|c.height/this.Yw;this.cI=0|c.width/this.Zw},Xn:function(){this.Sa.ha().$t()||(this.ka.src=770,this.ka.Xb=771)},fJ:function(){this.Gc=this.Sa.ha().$t()},SC:function(a){this.bC=a}});
q.Aa.pd?(b=q.xe.prototype,b.Qa=q.xe.prototype.Bs,b.Ya=q.xe.prototype.Zg,b.n=q.xe.prototype.RC,b.ua=q.xe.prototype.TC,b.ha=q.xe.prototype.ZB,b.ma=q.xe.prototype.at,b.vw=q.xe.prototype.iQ):(b=q.xe.prototype,b.Qa=q.xe.prototype.As,b.Ya=q.Node.prototype.Ya,b.n=q.xe.prototype.Xs,b.ua=q.xe.prototype.Zs,b.ha=q.xe.prototype.YB,b.ma=q.xe.prototype.$s,b.vw=q.xe.prototype.hQ);q.xe.create=function(a,c,d,e){var f=new q.xe;return f.kW(a,c,d,e)?f:null};q.ok=0;q.Cr=1;q.Br=2;q.Ar=3;q.NA=4;q.MA=5;q.Wv=6;q.Vv=7;q.dH=8;q.cH=9;q.bH=q.ok;q.CB=q.bH;q.hP=!1;q.A3=function(a,c,d,e){this.RW=a||0;this.OW=c||0;this.XN=d||0;this.YN=e||0};
q.zP=q.Ka.extend({rR:null,sg:null,Uh:null,Th:null,mC:null,ya:null,Ph:null,Qh:null,Qp:null,vn:!1,gd:null,fd:!1,Fc:null,Vi:null,pe:null,ctor:function(){this.Th=this.Uh=0;this.mC="";this.Qh=this.Ph=0;this.Qp=!1;this.ya=q.Ln();this.vn=!1;this.rR=!0;this.sg=q.qc.kU();this.gd=null;this.fd=!1;this.Vi=this.Fc=null;this.pe=[]},cF:function(){this.Vi&&q.$.deleteTexture(this.Vi)},Q7:function(){return this.sg},Nq:function(){return this.Uh},Mq:function(){return this.Th},getName:function(){return this.Vi},c:function(){return q.size(this.ya.width/
q.qd(),this.ya.height/q.qd())},dV:function(){return this.ya},jV:function(){return this.Ph},nZ:function(a){this.Ph=a},kV:function(){return this.Qh},oZ:function(a){this.Qh=a},kE:function(){return this.gd},Bh:function(a){this.gd=a},$t:function(){return this.Qp},$V:function(){return this.vn},description:function(){return"<cc.Texture2D | Name = "+this.mC+" | Dimensions = "+this.Uh+" x "+this.Th+" | Coordinates = ("+this.Ph+", "+this.Qh+")>"},ZX:function(){},FW:function(a){return a},Cy:function(a,c,d,e,
f){var g=q.$,h=0,h=c===q.ok?24:this.GJ(c),h=d*h/8;0===h%8?g.pixelStorei(g.UNPACK_ALIGNMENT,8):0===h%4?g.pixelStorei(g.UNPACK_ALIGNMENT,4):0===h%2?g.pixelStorei(g.UNPACK_ALIGNMENT,2):g.pixelStorei(g.UNPACK_ALIGNMENT,1);this.Vi=g.createTexture();q.oh(this);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE);
switch(c){case q.ok:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_BYTE,a);break;case q.Cr:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_BYTE,a);break;case q.Wv:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_4_4_4_4,a);break;case q.Vv:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_5_5_5_1,a);break;case q.Br:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_SHORT_5_6_5,a);break;case q.MA:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE_ALPHA,
d,e,0,g.LUMINANCE_ALPHA,g.UNSIGNED_BYTE,a);break;case q.Ar:g.texImage2D(g.TEXTURE_2D,0,g.ALPHA,d,e,0,g.ALPHA,g.UNSIGNED_BYTE,a);break;case q.NA:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE,d,e,0,g.LUMINANCE,g.UNSIGNED_BYTE,a);break;default:throw"NSInternalInconsistencyException";}this.ya.Ea=f.width;this.ya.ra=f.height;this.Uh=d;this.Th=e;this.sg=c;this.Ph=f.width/d;this.Qh=f.height/e;this.vn=this.Qp=!1;this.Bh(q.zi.f().jj(q.nP));return this.fd=!0},FU:function(a){var c=[0,this.Qh,this.Ph,this.Qh,0,0,this.Ph,
0],d=this.Uh*this.Ph,e=this.Th*this.Qh;a=[a.x,a.y,0,d+a.x,a.y,0,a.x,e+a.y,0,d+a.x,e+a.y,0];q.Te(q.Jh|q.IP);this.gd.If();this.gd.gN();q.oh(this);d=q.$;d.vertexAttribPointer(q.jf,2,d.FLOAT,!1,0,a);d.vertexAttribPointer(q.Gr,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},HU:function(a){var c=[0,this.Qh,this.Ph,this.Qh,0,0,this.Ph,0];a=[a.x,a.y,a.x+a.width,a.y,a.x,a.y+a.height,a.x+a.width,a.y+a.height];q.Te(q.Jh|q.IP);this.gd.If();this.gd.gN();q.oh(this);var d=q.$;d.vertexAttribPointer(q.jf,2,
d.FLOAT,!1,0,a);d.vertexAttribPointer(q.Gr,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},xE:function(a){if(null==a)return q.log("cocos2d: cc.Texture2D. Can't create Texture. UIImage is nil"),!1;var c=a.Xt(),d=a.St(),e=q.gf.f().Ks;if(c>e||d>e)return q.log("cocos2d: WARNING: Image ("+c+" x "+d+") is bigger than the supported "+e+" x "+e),!1;this.fd=!0;return this.PQ(a,c,d)},Bf:function(a){a&&(this.Vi=q.$.createTexture(),this.Fc=a)},gV:function(){return this.Fc},rh:function(){return this.fd},
te:function(){this.fd=!0;var a=q.$;q.oh(this);a.pixelStorei(a.UNPACK_ALIGNMENT,4);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,this.Fc);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);this.Bh(q.zi.f().jj(q.nP));q.oh(null);a=this.Fc.height;this.Uh=this.ya.Ea=this.Fc.width;this.Th=this.ya.ra=
a;this.sg=q.ok;this.Qh=this.Ph=1;this.vn=this.Qp=!1;this.Ce()},jm:function(a,c,d,e,f,g){3==arguments.length&&(c=arguments[1],d=arguments[2],e=q.size(0,0),f=q.pk,g=q.hw);var h=new q.Image,k;if(q.hw===g)k=q.pk===f?q.Y_:q.Dr===f?q.Z_:q.$_;else if(q.gw===g)k=q.pk===f?q.V_:q.Dr===f?q.W_:q.X_;else if(q.fw===g)k=q.pk===f?q.S_:q.Dr===f?q.T_:q.U_;else return q.log("Not supported alignment format!"),!1;return h.jm(a,e.width,e.height,k,c,d)?this.xE(h):!1},eW:function(){return!1},YK:function(a){var c=!1,d=new q.x2;
(c=d.z9(a))?(d.fda(!0),this.mC=d.getName(),this.Qh=this.Ph=1,this.Uh=d.Xt(),this.Th=d.St(),this.ya.Ea=this.Uh,this.ya.ra=this.Th,this.Qp=q.hP,this.sg=d.Q6(),this.sM()):q.log("cocos2d: Couldn't load PVR image "+a);return c},iW:function(){return q.gf.f().kt?!0:(q.log("cocos2d: WARNING: PVRTC images is not supported."),!1)},SZ:function(a){var c=q.$;q.Uu(this.Uh==q.ap(this.Uh)&&this.Th==q.ap(this.Th)||a.XN==c.CLAMP_TO_EDGE&&a.YN==c.CLAMP_TO_EDGE,"WebGLRenderingContext.CLAMP_TO_EDGE should be used in NPOT textures");
q.oh(this);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,a.RW);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,a.OW);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,a.XN);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,a.YN)},sM:function(){var a=q.$;q.oh(this);this.vn?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},rM:function(){var a=q.$;q.oh(this);
this.vn?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},generateMipmap:function(){q.Uu(this.Uh==q.ap(this.Uh)&&this.Th==q.ap(this.Th),"Mimpap texture only works in POT textures");q.oh(this);q.$.generateMipmap(q.$.TEXTURE_2D);this.vn=!0},t_:function(){switch(this.sg){case q.ok:return"RGBA8888";case q.Cr:return"RGB888";case q.Br:return"RGB565";case q.Wv:return"RGBA4444";
case q.Vv:return"RGB5A1";case q.MA:return"AI88";case q.Ar:return"A8";case q.NA:return"I8";case q.dH:return"PVRTC4";case q.cH:return"PVRTC2";default:q.log("stringForFormat: "+this.sg+", cannot give useful result, it's a unrecognized pixel format")}return""},GJ:function(a){a=a||this.sg;switch(a){case q.ok:return 32;case q.Cr:return 32;case q.Br:return 16;case q.Ar:return 8;case q.Wv:return 16;case q.Vv:return 16;case q.dH:return 4;case q.cH:return 2;case q.NA:return 8;case q.MA:return 16;default:return q.log("bitsPerPixelForFormat: "+
this.sg+", cannot give useful result, it's a illegal pixel format"),-1}},PQ:function(a,c,d){var e=a.getData(),f=null,f=null,g=a.q9(),h=q.size(a.Xt(),a.St()),k=q.bH,l=a.X5();g||(8<=l?k=q.Cr:(q.log("cocos2d: cc.Texture2D: Using RGB565 texture since image has no alpha"),k=q.Br));var m=c*d;if(k==q.Br)if(g)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>2<<5|(f[l]>>16&255)>>3<<0;else for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]&255)>>3<<
11|(f[l]&255)>>2<<5|(f[l]&255)>>3<<0;else if(k==q.Wv)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>4<<12|(f[l]>>8&255)>>4<<8|(f[l]>>16&255)>>4<<4|(f[l]>>24&255)>>4<<0;else if(k==q.Vv)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>3<<6|(f[l]>>16&255)>>3<<1|(f[l]>>24&255)>>7<<0;else if(k==q.Ar)for(e=new Uint8Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=f>>24&255;if(g&&k==q.Cr)for(f=a.getData(),e=new Uint8Array(c*d*3),l=0;l<m;++l)e[3*
l]=f>>0&255,e[3*l+1]=f>>8&255,e[3*l+2]=f>>16&255;this.Cy(e,k,c,d,h);a.getData();this.Qp=a.h$();return!0},yg:function(a,c){this.pe.push({eventCallback:a,aj:c})},hY:function(a){for(var c=this.pe,d=0;d<c.length;d++)c[d].aj==a&&c.splice(d,1)},Ce:function(){for(var a=this.pe,c=0,d=a.length;c<d;c++){var e=a[c];e.eventCallback.call(e.aj,this)}a.length=0}});
q.yP=q.Ka.extend({ya:null,fd:!1,Fc:null,pe:null,ctor:function(){this.ya=q.Ln();this.fd=!1;this.Fc=null;this.pe=[]},Nq:function(){return this.ya.Ea},Mq:function(){return this.ya.ra},c:function(){var a=q.qd();return q.size(this.ya.Ea/a,this.ya.ra/a)},dV:function(){return this.ya},Bf:function(a){a&&(this.Fc=a)},gV:function(){return this.Fc},rh:function(){return this.fd},te:function(){this.fd=!0;var a=this.Fc;this.ya.Ea=a.width;this.ya.ra=a.height;this.Ce()},description:function(){return"<cc.Texture2D | width = "+
this.ya.Ea+" height "+this.ya.ra+">"},Cy:function(){return!1},xE:function(){return!1},jm:function(){return!1},cF:function(){},getName:function(){return null},jV:function(){return 1},nZ:function(){},kV:function(){return 1},oZ:function(){},kE:function(){return null},Bh:function(){},$t:function(){return!1},$V:function(){return!1},ZX:function(){},FW:function(a){return a},FU:function(){},HU:function(){},eW:function(){return!1},YK:function(){return!1},iW:function(){return!0},SZ:function(){},sM:function(){},
rM:function(){},generateMipmap:function(){},t_:function(){return""},GJ:function(){return-1},yg:function(a,c){this.pe.push({eventCallback:a,aj:c})},hY:function(a){for(var c=this.pe,d=0;d<c.length;d++)c[d].aj==a&&c.splice(d,1)},Ce:function(){for(var a=this.pe,c=0,d=a.length;c<d;c++){var e=a[c];e.eventCallback.call(e.aj,this)}a.length=0}});q.qc=q.Aa.pd?q.zP:q.yP;q.qc.bca=function(a){q.CB=a};q.qc.kU=function(){return q.CB};q.qc.v6=function(){return q.CB};q.Pt=null;q.N$=function(a){if(q.YT(a)==q.yO)q.log("unsupported format:"+a);else{var c=new Image;c.src=a;c.addEventListener("load",function(){q.da.f().DT(a,c);this.removeEventListener("load",arguments.callee,!1)},!1)}};q.YT=function(a){return 0<a.toLowerCase().indexOf(".jpg")||0<a.toLowerCase().indexOf(".jpeg")?q.V0:0<a.toLowerCase().indexOf(".png")?q.W0:0<a.toLowerCase().indexOf(".webp")?q.Y0:q.yO};
q.da=q.Ka.extend({$a:null,lt:null,Nx:null,vI:!1,cx:null,dx:null,ctor:function(){if(q.Pt)throw"Attempted to allocate a second instance of a singleton.";this.Nx+=0|1E3*Math.random();this.$a={};this.lt={};q.ee===q.rl&&(this.cx={},this.dx={})},fB:function(a,c){if(a&&"string"===typeof c)a[c]();else a&&"function"===typeof c&&c.call(a)},XQ:function(){this.vI=!0;var a,c=this.cx,d=this.$a;for(a in c){var e=c[a],f=new q.qc;f.Bf(e);f.te();d[a]=f}this.cx={}},O3:function(){q.log("TextureCache:addPVRTCImage does not support on HTML5")},
J3:function(){q.log("TextureCache:addPVRTCImage does not support on HTML5")},description:function(){return"<TextureCache | Number of textures = "+this.$a.length+">"},Cz:function(a,c){var d=c?a:q.je.f().Se(a);return this.$a.hasOwnProperty(d)?this.$a[d]:null},iV:function(a){for(var c in this.$a)if(this.$a[c]==a)return c;return null},GQ:function(){this.Nx++;return"_textureKey_"+this.Nx},JK:function(a){var c=this.iV(a);c||(c=a instanceof HTMLImageElement?a.src:this.GQ());this.lt.hasOwnProperty(c)||(this.lt[c]=
q.Gq(a));return this.lt[c]},N3:function(a){if(!a)throw"cc.TextureCache.addPVRImage(): path should be non-null";a=q.je.f().Se(a);if(null!=this.$a[a])return this.$a[a];var c=new q.qc;c.YK(a)?this.$a[a]=c:q.log("cocos2d: Couldn't add PVRImage:"+a+" in TextureCache");return c},kba:function(){var a=this.$a,c;for(c in a)a[c]&&a[c].cF();this.$a={}},yba:function(a){if(a){var c=this.$a,d;for(d in c)c[d]==a&&(c[d].cF(),delete c[d])}},lY:function(a){null!=a&&(a=q.je.f().Se(a),this.$a[a]&&delete this.$a[a])},
K3:function(a,c,d){if(!a)throw"cc.TextureCache.addImageAsync(): path should be non-null";a=q.je.f().Se(a);var e=this.$a[a],f,g;if(e)e.rh()?this.fB(c,d):(g=this,f=e.Fc,f.addEventListener("load",function(){e.te();g.fB(c,d);this.removeEventListener("load",arguments.callee,!1)}));else{f=new Image;f.crossOrigin="Anonymous";g=this;f.addEventListener("load",function(){g.$a.hasOwnProperty(a)&&g.$a[a].te();g.fB(c,d);this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,
!1)});f.addEventListener("error",function(){q.bc.f().tm(a);g.$a.hasOwnProperty(a)&&delete g.$a[a];this.removeEventListener("error",arguments.callee,!1)});f.src=a;var h=new q.qc;h.Bf(f);this.$a[a]=h}return this.$a[a]},TP:function(a){var c=new Image;c.crossOrigin="Anonymous";var d=this;c.addEventListener("load",function(){q.bc.f().Gg();d.cx[a]=c;delete d.dx[a];this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});c.addEventListener("error",function(){q.bc.f().tm(a);
delete d.dx[a];this.removeEventListener("error",arguments.callee,!1)});c.src=a;this.dx[a]=c},pa:function(a,c){if(!a)throw"cc.Texture.addImage(): path should be non-null";if(q.ee===q.rl&&!this.vI)return this.TP(a);c||(a=q.je.f().Se(a));var d=this.$a[a],e;if(d)d.rh()?q.bc.f().Gg():(e=d.Fc,e.addEventListener("load",function(){d.te();q.bc.f().Gg();this.removeEventListener("load",arguments.callee,!1)}));else{e=new Image;e.crossOrigin="Anonymous";var f=this;e.addEventListener("load",function(){q.bc.f().Gg();
f.$a.hasOwnProperty(a)&&f.$a[a].te();this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});e.addEventListener("error",function(){q.bc.f().tm(a);f.$a.hasOwnProperty(a)&&delete f.$a[a];this.removeEventListener("error",arguments.callee,!1)});e.src=a;var g=new q.qc;g.Bf(e);this.$a[a]=g}return this.$a[a]},L3:function(a,c,d){if(!a)throw"cc.Texture.addImageFromBase64(): data should be non-null";var e=this,f=new Image;f.src="data:image/"+d+";base64,"+
a;f.addEventListener("load",function(){q.bc.f().Gg();e.$a.hasOwnProperty(c)&&e.$a[c].te();this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});f.addEventListener("error",function(){q.bc.f().tm(c);e.$a.hasOwnProperty(c)&&delete e.$a[c];this.removeEventListener("error",arguments.callee,!1)});a=new q.qc;a.Bf(f);this.$a[c]=a;return this.$a[c]},DT:function(a,c){if(c instanceof q.qc)this.$a[a]=c;else{var d=new q.qc;d.Bf(c);d.te();this.$a[a]=d;q.log(a);
q.log(this.$a[a])}},T3:function(a,c){if(!a)throw"cc.Texture.addUIImage(): image should be non-null";if(c&&this.$a.hasOwnProperty(c)&&this.$a[c])return this.$a[c];var d=new q.qc;d.xE(a);null!=c&&null!=d?this.$a[c]=d:q.log("cocos2d: Couldn't add UIImage in TextureCache");return d},i5:function(){var a=0,c=0,d=this.$a,e;for(e in d){var f=d[e];a++;f.Fc instanceof HTMLImageElement?q.log("cocos2d: '"+e+"' id="+f.Fc.src+" "+f.Nq()+" x "+f.Mq()):q.log("cocos2d: '"+e+"' id= HTMLCanvasElement "+f.Nq()+" x "+
f.Mq());c+=f.Nq()*f.Mq()*4}d=this.lt;for(e in d){var f=d[e],g;for(g in f){var h=f[g];a++;q.log("cocos2d: '"+e+"' id= HTMLCanvasElement "+h.width+" x "+h.height);c+=h.width*h.height*4}}q.log("cocos2d: TextureCache dumpDebugInfo: "+a+" textures, HTMLCanvasElement for "+c/1024+" KB ("+(c/1048576).toFixed(2)+" MB)")}});q.da.f=function(){q.Pt||(q.Pt=new q.da);return q.Pt};q.da.NX=function(){q.Pt=null};q.hp=q.Ka.extend({Xd:null,yj:null,Oa:!1,Hd:0,Ga:null,mf:null,eh:null,Ss:null,fh:null,ctor:function(){this.yj=[]},R8:function(){return this.ab},f6:function(){return this.Hd},ha:function(){return this.Ga},ma:function(a){this.Ga=a},Ah:function(a){this.Oa=a},hL:function(){return this.Oa},b8:function(){return this.mf},$ca:function(a){this.mf=a},V2:function(a,c){if(a)for(var d=0;d<a.length;d++)this.Bx(a[d],c+d)},Bx:function(a,c){var d=this.mf;d[c]?(d[c].Pa=a.Pa,d[c].bb=a.bb,d[c].Za=a.Za,d[c].Ra=a.Ra):d[c]=
new q.Ac(a.Za,a.Pa,a.Ra,a.bb,this.eh,c*q.Ac.BYTES_PER_ELEMENT)},description:function(){return"<cc.TextureAtlas | totalQuads ="+this.ab+">"},KI:function(){if(0!==this.Hd)for(var a=this.Xd,c=this.Hd,d=0;d<c;d++)q.eH?(a[6*d+0]=4*d+0,a[6*d+1]=4*d+0,a[6*d+2]=4*d+2,a[6*d+3]=4*d+1,a[6*d+4]=4*d+3,a[6*d+5]=4*d+3):(a[6*d+0]=4*d+0,a[6*d+1]=4*d+1,a[6*d+2]=4*d+2,a[6*d+3]=4*d+3,a[6*d+4]=4*d+2,a[6*d+5]=4*d+1)},zS:function(){var a=q.$;this.yj[0]=a.createBuffer();this.yj[1]=a.createBuffer();this.Ss=a.createBuffer();
this.eI()},eI:function(){var a=q.$;a.bindBuffer(a.ARRAY_BUFFER,this.Ss);a.bufferData(a.ARRAY_BUFFER,this.eh,a.DYNAMIC_DRAW);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.yj[1]);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.Xd,a.STATIC_DRAW)},Yj:function(a,c){var d=q.da.f().pa(a);if(d)return this.Qa(d,c);q.log("cocos2d: Could not open file: "+a);return!1},Qa:function(a,c){if(!a)throw"cc.TextureAtlas.initWithTexture():texture should be non-null";this.Hd=c|=0;this.ab=0;this.Ga=a;this.mf=[];this.Xd=new Uint16Array(6*
c);var d=q.Ac.BYTES_PER_ELEMENT;this.eh=new ArrayBuffer(d*c);this.fh=new Uint8Array(this.eh);if((!this.mf||!this.Xd)&&0<c)return!1;for(var e=this.mf,f=0;f<c;f++)e[f]=new q.Ac(null,null,null,null,this.eh,f*d);this.KI();this.zS();return this.Oa=!0},Jz:function(a,c){if(!a)throw"cc.TextureAtlas.updateQuad(): quad should be non-null";if(0>c||c>=this.Hd)throw"cc.TextureAtlas.updateQuad(): Invalid index";this.ab=Math.max(c+1,this.ab);this.Bx(a,c);this.Oa=!0},DE:function(a,c){if(c>=this.Hd)throw"cc.TextureAtlas.insertQuad(): Invalid index";
this.ab++;if(this.ab>this.Hd)q.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");else{var d=q.Ac.BYTES_PER_ELEMENT,e=c*d,f=(this.ab-1-c)*d;this.mf[this.ab-1]=new q.Ac(null,null,null,null,this.eh,(this.ab-1)*d);this.fh.set(this.fh.subarray(e,e+f),e+d);this.Bx(a,c);this.Oa=!0}},F9:function(a,c,d){d=d||a.length;if(c+d>this.Hd)throw"cc.TextureAtlas.insertQuad(): Invalid index + amount";var e=q.Ac.BYTES_PER_ELEMENT;this.ab+=d;if(this.ab>this.Hd)q.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");
else{var f=c*e,g=(this.ab-1-c-d)*e,h=this.ab-1-d,k;for(k=0;k<d;k++)this.mf[h+k]=new q.Ac(null,null,null,null,this.eh,(this.ab-1)*e);this.fh.set(this.fh.subarray(f,f+g),f+e*d);for(k=0;k<d;k++)this.Bx(a[k],c+k);this.Oa=!0}},E9:function(a,c){if(a!==c){if(0>c&&c>=this.ab)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid newIndex";if(0>a&&a>=this.ab)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid fromIndex";var d=q.Ac.BYTES_PER_ELEMENT,e=this.fh,f=e.subarray(a*d,d),g;a>c?(g=c*d,e.set(e.subarray(g,
g+(a-c)*d),g+d),e.set(f,g)):(g=(a+1)*d,e.set(e.subarray(g,g+(c-a)*d),g-d),e.set(f,c*d));this.Oa=!0}},jY:function(a){if(a>=this.ab)throw"cc.TextureAtlas.removeQuadAtIndex(): Invalid index";var c=q.Ac.BYTES_PER_ELEMENT;this.ab--;this.mf.length=this.ab;if(a!==this.ab){var d=(a+1)*c;this.fh.set(this.fh.subarray(d,d+(this.ab-a)*c),d-c)}this.Oa=!0},rba:function(a,c){if(a+c>this.ab)throw"cc.TextureAtlas.removeQuadsAtIndex(): index + amount out of bounds";this.ab-=c;if(a!==this.ab){var d=q.Ac.BYTES_PER_ELEMENT,
e=(a+c)*d;this.fh.set(this.fh.subarray(e,e+(this.ab-a)*d),a*d)}this.Oa=!0},dY:function(){this.ab=this.mf.length=0},w3:function(a){this.Oa=a},pY:function(a){if(a==this.Hd)return!0;var c=q.Ac.BYTES_PER_ELEMENT,d=this.Hd;this.ab=Math.min(this.ab,a);var e=this.Hd=0|a,f=this.ab;if(null==this.mf)for(this.mf=[],this.eh=new ArrayBuffer(c*e),this.fh=new Uint8Array(this.eh),a=0;a<e;a++)this.mf=new q.Ac(null,null,null,null,this.eh,a*c);else{var g,h,k=this.mf;if(e>d){g=[];h=new ArrayBuffer(c*e);for(a=0;a<f;a++)g[a]=
new q.Ac(k[a].Za,k[a].Pa,k[a].Ra,k[a].bb,h,a*c);for(;a<e;a++)g[a]=new q.Ac(null,null,null,null,h,a*c)}else for(f=Math.max(f,e),g=[],h=new ArrayBuffer(c*e),a=0;a<f;a++)g[a]=new q.Ac(k[a].Za,k[a].Pa,k[a].Ra,k[a].bb,h,a*c);this.fh=new Uint8Array(h);this.mf=g;this.eh=h}null==this.Xd?this.Xd=new Uint16Array(6*e):e>d?(c=new Uint16Array(6*e),c.set(this.Xd,0),this.Xd=c):this.Xd=this.Xd.subarray(0,6*e);this.KI();this.eI();return this.Oa=!0},w9:function(a){this.ab+=a},T$:function(a,c,d){if(2==arguments.length){d=
c;c=this.ab-a;if(d+(this.ab-a)>this.Hd)throw"cc.TextureAtlas.moveQuadsFromIndex(): move is out of bounds";if(0===c)return}else{if(d+c>this.ab)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid newIndex";if(a>=this.ab)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid oldIndex";if(a==d)return}var e=q.Ac.BYTES_PER_ELEMENT,f=a*e,g=c*e,h=this.fh,k=h.subarray(f,f+g),l=d*e,m;d<a?(m=d*e,h.set(h.subarray(m,m+(a-d)*e),m+g)):(m=(a+c)*e,h.set(h.subarray(m,m+(d-a)*e),f));h.set(k,l);this.Oa=!0},F5:function(a,
c){for(var d=c*q.Ac.BYTES_PER_ELEMENT,e=new Uint8Array(this.eh,a*q.Ac.BYTES_PER_ELEMENT,d),f=0;f<d;f++)e[f]=0},ZJ:function(a,c){c=c||0;if(0!==a&&this.Ga&&this.Ga.rh()){var d=q.$;q.oh(this.Ga);q.Te(q.dw);d.bindBuffer(d.ARRAY_BUFFER,this.Ss);this.Oa&&d.bufferData(d.ARRAY_BUFFER,this.eh,d.DYNAMIC_DRAW);d.vertexAttribPointer(q.jf,3,d.FLOAT,!1,24,0);d.vertexAttribPointer(q.Fr,4,d.UNSIGNED_BYTE,!0,24,12);d.vertexAttribPointer(q.Gr,2,d.FLOAT,!1,24,16);this.Oa&&(this.Oa=!1);d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,
this.yj[1]);q.eH?d.drawElements(d.TRIANGLE_STRIP,6*a,d.UNSIGNED_SHORT,6*c*this.Xd.BYTES_PER_ELEMENT):d.drawElements(d.TRIANGLES,6*a,d.UNSIGNED_SHORT,6*c*this.Xd.BYTES_PER_ELEMENT);q.ei++}},IU:function(){this.ZJ(this.ab,0)},t3:function(){var a=q.$;this.yj&&(this.yj[0]&&a.deleteBuffer(this.yj[0]),this.yj[1]&&a.deleteBuffer(this.yj[1]));this.Ss&&a.deleteBuffer(this.Ss)}});q.hp.create=function(a,c){var d=new q.hp;return d&&d.Yj(a,c)?d:null};q.hp.cb=function(a,c){var d=new q.hp;return d&&d.Qa(a,c)?d:null};q.yr=q.Node.extend({ctor:function(){q.Node.prototype.ctor.call(this);this.Fk=!0;this.A(.5,.5);this.G(q.aa.f().ic)}});q.yr.create=function(){return new q.yr};q.OA=0;q.s2=1;
q.ad=q.Node.extend({Jl:!1,Il:!1,Sp:!1,Xl:0,tt:q.OA,yn:!1,bq:0,ctor:function(){q.Node.prototype.ctor.call(this);this.Sp=this.Il=this.Jl=!1;this.Xl=0;this.tt=q.OA;this.yn=!1;this.bq=0},OQ:function(){this.A(.5,.5);this.Fk=!0;var a=q.aa.f();this.G(a.ic)},w:function(){q.Node.prototype.w.call(this);this.OQ();return!0},bz:function(){this.tt===q.OA?q.YX(this,this.Xl):q.$E(this.Xl,!0,this)},b$:function(){return this.yn},xF:function(a){if(!q.Ae)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.yn!=
a&&(this.yn=a,this.pf&&(a?q.aa.f().Wf().vJ(this,this.bq):q.aa.f().Wf().gM(this)))},Kca:function(a){if(!q.Ae)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.bq!==a&&(this.bq=a,this.yn&&(this.xF(!1),this.xF(!0)))},u7:function(){return this.bq},v$:function(){return this.Jl},Zc:function(a){this.Jl!==a&&(this.Jl=a,this.pf&&(a?this.bz():q.FN(this)))},V8:function(){return this.Xl},nj:function(a){this.Xl!==a&&(this.Xl=a,this.Jl&&(this.Zc(!1),this.Zc(!0)))},U8:function(){return this.tt},
FF:function(a){this.tt!==a&&(this.tt=a,this.Jl&&(this.Zc(!1),this.Zc(!0)))},I9:function(){return this.Il},Nba:function(a){if(!q.ll)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";if(a!==this.Il&&(this.Il=a,this.pf)){var c=q.aa.f();a?c.Hq().Ig(this):c.Hq().Ig(null)}},JY:function(a){this.Il&&q.ll&&q.aa.f().Hq().JY(a)},laa:function(){q.log("onAccelerometer event should be handled.")},a$:function(){return this.Sp},Aca:function(a){if(!q.$o)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";
if(a!==this.Sp&&(this.Sp=a,this.pf)){var c=q.aa.f();a?c.ty().eT(this):c.ty().fY(this)}},wh:function(){var a=q.aa.f();this.Jl&&this.bz();q.Node.prototype.wh.call(this);this.Il&&q.ll&&a.Hq().Ig(this);this.Sp&&q.$o&&a.ty().eT(this);this.yn&&q.Ae&&a.Wf().vJ(this,this.bq)},ve:function(){var a=q.aa.f();this.Jl&&q.FN(this);this.Il&&q.ll&&a.Hq().Ig(null);this.Sp&&q.$o&&a.ty().fY(this);this.yn&&q.Ae&&a.Wf().gM(this);q.Node.prototype.ve.call(this)},hj:function(){this.Il&&q.ll&&q.aa.f().Hq().Ig(this);q.Node.prototype.hj.call(this)},
yb:function(){q.log("onTouchBegan event should be handled.");return!0},Cd:function(){},Zf:function(){},fl:function(){},ML:function(){},PL:function(){},OL:function(){},NL:function(){},aX:function(){return!1},bX:function(){return!1},ij:function(){return!1},eX:function(){return!1},iX:function(){return!1},jX:function(){return!1},kX:function(){return!1},fX:function(){return!1},gX:function(){return!1},hX:function(){return!1},lX:function(){return!1},cX:function(){return!1},dX:function(){return!1},NE:function(){},
Qy:function(){}});q.ad.create=function(){var a=new q.ad;return a&&a.w()?a:null};
q.xi=q.ad.extend({Ab:!0,oc:0,gh:0,Nc:null,Ke:null,De:!1,Ud:!1,ctor:function(){q.ad.prototype.ctor.call(this);this.Ab=!0;this.gh=this.oc=255;this.Nc=q.Jb();this.Ke=q.Jb();this.Ud=this.De=!1},w:function(){return q.ad.prototype.w.call(this)?(this.xM(!1),this.wM(!1),!0):!1},Vj:function(){return this.gh},eV:function(){return this.oc},ua:function(a){this.oc=this.gh=a;a=255;var c=this.ea;c&&c.Ab&&c.De&&(a=c.oc);this.Ed(a)},Ed:function(a){this.oc=0|this.gh*a/255;if(this.De){a=this.D;for(var c=0;c<a.length;c++){var d=
a[c];d&&d.Ab&&d.Ed(this.oc)}}},wW:function(){return this.De},xM:function(a){this.De!==a&&((this.De=a)?this.ls():this.KB())},ls:function(){var a=255,c=this.ea;c&&c.Ab&&c.De&&(a=c.oc);this.Ed(a)},KB:function(){this.oc=this.gh;for(var a=this.D,c=0;c<a.length;c++){var d=a[c];d&&d.Ab&&d.Ed(255)}},Od:function(){var a=this.Ke;return q.j(a.t,a.r,a.p)},Rt:function(){var a=this.Nc;return q.j(a.t,a.r,a.p)},n:function(a){var c=this.Nc,d=this.Ke;c.t=d.t=a.t;c.r=d.r=a.r;c.p=d.p=a.p;a=(a=this.ea)&&a.Ab&&a.Ud?a.Rt():
q.Jb();this.Dd(a)},Dd:function(a){var c=this.Nc,d=this.Ke;c.t=0|d.t*a.t/255;c.r=0|d.r*a.r/255;c.p=0|d.p*a.p/255;if(this.Ud)for(a=this.D,d=0;d<a.length;d++){var e=a[d];e&&e.Ab&&e.Dd(c)}},vW:function(){return this.Ud},wM:function(a){this.Ud!==a&&((this.Ud=a)?this.ks():this.JB())},ks:function(){var a;a=(a=this.ea)&&a.Ab&&a.Ud?a.Rt():q.Jb();this.Dd(a)},JB:function(){var a=this.Nc,c=this.Ke;a.t=c.t;a.r=c.r;a.p=c.p;for(var a=this.D,c=q.Jb(),d=0;d<a.length;d++){var e=a[d];e&&e.Ab&&e.Dd(c)}},e:function(a,
c,d){q.Node.prototype.e.call(this,a,c,d);this.Ud&&this.ks();this.De&&this.ls()},dg:function(){},km:function(){return!1}});
q.V=q.xi.extend({ka:null,Qt:function(){return this.ka},F4:function(a,c){this.G(a,c)},E4:function(a){this.G(a,this.ya.ra)},B4:function(a){this.G(this.ya.Ea,a)},dg:function(){},km:function(){return!1},n:function(a){q.xi.prototype.n.call(this,a);this.Zd()},ua:function(a){q.xi.prototype.ua.call(this,a);this.Zd()},xn:!1,OI:null,eD:null,yD:null,xB:null,gD:null,fD:null,Bi:function(){q.xi.prototype.ctor.call(this);this.ka=new q.Zm(q.ff,q.ef)},Ci:function(){q.xi.prototype.ctor.call(this);this.ka=new q.Zm(q.ff,
q.ef);this.gD=new ArrayBuffer(32);this.fD=new ArrayBuffer(64);var a=this.gD,c=this.fD,d=q.Sb.BYTES_PER_ELEMENT,e=q.ye.BYTES_PER_ELEMENT;this.OI=[new q.Sb(0,0,a,0),new q.Sb(0,0,a,d),new q.Sb(0,0,a,2*d),new q.Sb(0,0,a,3*d)];this.eD=[new q.ye(0,0,0,1,c,0),new q.ye(0,0,0,1,c,e),new q.ye(0,0,0,1,c,2*e),new q.ye(0,0,0,1,c,3*e)];this.yD=q.$.createBuffer();this.xB=q.$.createBuffer()},Dm:function(a,c){this.ka=1==arguments.length?a:{src:a,Xb:c};q.ee===q.Qg&&(this.xn=this.ka&&1==this.ka.src&&771==this.ka.Xb)},
w:function(a,c,d){if(!q.ad.prototype.w.call(this))return!1;q.ee!==q.Qg&&this.Bh(q.zi.f().jj(q.mP));var e=q.aa.f().ic;a=a||new q.gc(0,0,0,255);c=c||e.width;d=d||e.height;e=this.Nc;e.t=a.t;e.r=a.r;e.p=a.p;e=this.Ke;e.t=a.t;e.r=a.r;e.p=a.p;this.gh=this.oc=a.Q;this.G(c,d);this.Zd();return!0},G:null,dS:function(a,c){var d=this.OI;2===arguments.length?(d[1].x=a,d[2].y=c,d[3].x=a,d[3].y=c,this.wH(),q.ad.prototype.G.call(this,a,c)):(d[1].x=a.width,d[2].y=a.height,d[3].x=a.width,d[3].y=a.height,this.wH(),
q.ad.prototype.G.call(this,a))},Zd:null,RS:function(){},SS:function(){for(var a=this.Nc,c=this.oc,d=this.eD,e=0;4>e;e++)d[e].t=a.t/255,d[e].r=a.r/255,d[e].p=a.p/255,d[e].Q=c/255;this.vH()},Dd:function(a){q.xi.prototype.Dd.call(this,a);this.Zd()},Ed:function(a){q.xi.prototype.Ed.call(this,a);this.Zd()},wH:function(){var a=q.$;a.bindBuffer(a.ARRAY_BUFFER,this.yD);a.bufferData(a.ARRAY_BUFFER,this.gD,a.STATIC_DRAW)},vH:function(){var a=q.$;a.bindBuffer(a.ARRAY_BUFFER,this.xB);a.bufferData(a.ARRAY_BUFFER,
this.fD,a.STATIC_DRAW)},Ya:null,xk:function(a){a=a||q.$;var c=this.c(),d=q.la.f(),e=this.Nc;a.fillStyle="rgba("+(0|e.t)+","+(0|e.r)+","+(0|e.p)+","+this.oc/255+")";a.fillRect(0,0,c.width*d.sa,-c.height*d.za);q.ei++},Zg:function(a){a=a||q.$;q.uA(this);q.Te(q.Jh|q.HP);a.bindBuffer(a.ARRAY_BUFFER,this.yD);a.vertexAttribPointer(q.jf,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.xB);a.vertexAttribPointer(q.Fr,4,a.FLOAT,!1,0,0);q.$k(this.ka.src,this.ka.Xb);a.drawArrays(a.TRIANGLE_STRIP,0,4)}});
q.Aa.pd?(q.V.prototype.ctor=q.V.prototype.Ci,q.V.prototype.G=q.V.prototype.dS,q.V.prototype.Zd=q.V.prototype.SS,q.V.prototype.Ya=q.V.prototype.Zg):(q.V.prototype.ctor=q.V.prototype.Bi,q.V.prototype.G=q.xi.prototype.G,q.V.prototype.Zd=q.V.prototype.RS,q.V.prototype.Ya=q.V.prototype.xk);q.V.create=function(a,c,d){var e=new q.V;switch(arguments.length){case 0:e.w();break;case 1:e.w(a);break;case 3:e.w(a,c,d);break;default:e.w()}return e};
q.CG=q.V.extend({QI:null,Mp:null,mq:null,Np:null,gn:null,Aw:!1,xs:null,ws:null,ctor:function(){q.V.prototype.ctor.call(this);this.QI=new q.Lc(0,0,0);this.Mp=new q.Lc(0,0,0);this.gn=q.a(0,-1);this.Np=this.mq=255;this.xs=q.a(0,0);this.ws=q.a(0,0)},G:function(a,c){2===arguments.length?q.V.prototype.G.call(this,a,c):q.V.prototype.G.call(this,a);this.Zd()},z8:function(){return this.Ke},lda:function(a){this.n(a)},kca:function(a){this.Mp=a;this.Zd()},G6:function(){return this.Mp},mda:function(a){this.mq=
a;this.Zd()},A8:function(){return this.mq},lca:function(a){this.Np=a;this.Zd()},H6:function(){return this.Np},Dda:function(a){this.gn.x=a.x;this.gn.y=a.y;this.Zd()},a9:function(){return q.a(this.gn.x,this.gn.y)},N9:function(){return this.Aw},$ba:function(a){this.Aw=a;this.Zd()},w:function(a,c,d){a=a||q.ND(0,0,0,255);c=c||q.ND(0,0,0,255);d=d||q.a(0,-1);var e=this.QI,f=this.Mp;e.t=a.t;e.r=a.r;e.p=a.p;this.mq=a.Q;f.t=c.t;f.r=c.r;f.p=c.p;this.Np=c.Q;this.gn=d;this.Aw=!0;q.V.prototype.w.call(this,q.l(a.t,
a.r,a.p,255));return!0},Ya:function(a){if(q.ee===q.rl)q.V.prototype.Ya.call(this,a);else{a=a||q.$;this.xn&&(a.globalCompositeOperation="lighter");a.save();var c=q.la.f(),d=this.oc/255,e=this.c().width*c.sa,c=this.c().height*c.za,f=a.createLinearGradient(this.xs.x,this.xs.y,this.ws.x,this.ws.y),g=this.Nc,h=this.Mp;f.addColorStop(0,"rgba("+Math.round(g.t)+","+Math.round(g.r)+","+Math.round(g.p)+","+(this.mq/255*d).toFixed(4)+")");f.addColorStop(1,"rgba("+Math.round(h.t)+","+Math.round(h.r)+","+Math.round(h.p)+
","+(this.Np/255*d).toFixed(4)+")");a.fillStyle=f;a.fillRect(0,0,e,-c);0!=this.VR&&a.rotate(this.u3);a.restore()}},Zd:function(){var a=this.gn;if(q.ee===q.Qg){var c=.5*this.c().width,d=.5*this.c().height;this.xs.x=c*-a.x+c;this.xs.y=d*a.y-d;this.ws.x=c*a.x+c;this.ws.y=d*-a.y-d}else if(d=q.PE(a),0!==d){c=Math.sqrt(2);a=q.a(a.x/d,a.y/d);this.Aw&&(a=q.bk(a,1/(Math.abs(a.x)+Math.abs(a.y))*c));var e=this.oc/255,f=this.Nc,g=this.Mp,d=f.t/255,h=f.r/255,f=f.p/255,k=this.mq*e/255,l=g.t/255,m=g.r/255,g=g.p/
255,e=this.Np*e/255,p=this.eD,w=p[0],v=p[1],x=p[2],p=p[3];w.t=l+(c+a.x+a.y)/(2*c)*(d-l);w.r=m+(c+a.x+a.y)/(2*c)*(h-m);w.p=g+(c+a.x+a.y)/(2*c)*(f-g);w.Q=e+(c+a.x+a.y)/(2*c)*(k-e);v.t=l+(c-a.x+a.y)/(2*c)*(d-l);v.r=m+(c-a.x+a.y)/(2*c)*(h-m);v.p=g+(c-a.x+a.y)/(2*c)*(f-g);v.Q=e+(c-a.x+a.y)/(2*c)*(k-e);x.t=l+(c+a.x-a.y)/(2*c)*(d-l);x.r=m+(c+a.x-a.y)/(2*c)*(h-m);x.p=g+(c+a.x-a.y)/(2*c)*(f-g);x.Q=e+(c+a.x-a.y)/(2*c)*(k-e);p.t=l+(c-a.x-a.y)/(2*c)*(d-l);p.r=m+(c-a.x-a.y)/(2*c)*(h-m);p.p=g+(c-a.x-a.y)/(2*c)*
(f-g);p.Q=e+(c-a.x-a.y)/(2*c)*(k-e);this.vH()}}});q.CG.create=function(a,c,d){var e=new q.CG;switch(arguments.length){case 2:if(e&&e.w(a,c))return e;break;case 3:if(e&&e.w(a,c,d))return e;break;case 0:if(e&&e.w())return e;break;default:throw"Arguments error ";}return null};
q.DG=q.ad.extend({Bl:0,Oh:null,B9:function(a){this.Oh=[];this.Oh.push(a);this.Bl=0;this.e(a);return!0},gW:function(a){this.Oh=a;this.Bl=0;this.e(this.Oh[this.Bl]);return!0},bea:function(a){a>=this.Oh.length?q.log("cc.LayerMultiplex.switchTo():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.Oh[this.Bl],!0),this.Bl=a,this.e(this.Oh[a]))},cea:function(a){a>=this.Oh.length?q.log("cc.LayerMultiplex.switchToAndReleaseMe():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.Oh[this.Bl],
!0),this.Oh[this.Bl]=null,this.Bl=a,this.e(this.Oh[a]))},M3:function(a){a?this.Oh.push(a):q.log("cc.Layer.addLayer(): layer should be non-null")}});q.DG.create=function(){0<arguments.length&&null==arguments[arguments.length-1]&&q.log("parameters should not be ending with null in Javascript");var a=new q.DG;return a.gW(arguments)?a:null};function fa(a,c,d,e,f,g){e<2*g&&(g=e/2);f<2*g&&(g=f/2);a.beginPath();a.moveTo(c+g,d);a.arcTo(c+e,d,c+e,d+f,g);a.arcTo(c+e,d+f,c,d+f,g);a.arcTo(c,d+f,c,d,g);a.arcTo(c,d,c+e,d,g);a.closePath()}q.GA=-1;
q.Gq=function(a){function c(){var c=q.Gq,e=a.width,h=a.height;d[0].width=e;d[0].height=h;d[1].width=e;d[1].height=h;d[2].width=e;d[2].height=h;d[3].width=e;d[3].height=h;c.canvas.width=e;c.canvas.height=h;var k=c.canvas.getContext("2d");k.drawImage(a,0,0);c.UF.width=e;c.UF.height=h;for(var k=k.getImageData(0,0,e,h).data,l=0;4>l;l++){var m=d[l].getContext("2d");m.getImageData(0,0,e,h).data;c.AN.drawImage(a,0,0);for(var p=c.AN.getImageData(0,0,e,h),w=p.data,v=0;v<k.length;v+=4)w[v]=0===l?k[v]:0,w[v+
1]=1===l?k[v+1]:0,w[v+2]=2===l?k[v+2]:0,w[v+3]=k[v+3];m.putImageData(p,0,0)}a.onload=null}if(a.hasOwnProperty("channelCache"))return a.ST;var d=[document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas")];try{c()}catch(e){a.onload=c}return a.ST=d};q.Gq.canvas=document.createElement("canvas");q.Gq.UF=document.createElement("canvas");q.Gq.AN=q.Gq.UF.getContext("2d");
q.oK=function(a,c,d,e){d||(d=q.rect(0,0,a.width,a.height),d=q.wr(d));c=c instanceof q.ye?q.l(255*c.t,255*c.r,255*c.p,255*c.Q):q.l(c.t,c.r,c.p,255);e=e||document.createElement("canvas");var f=e.getContext("2d");e.width!=d.width&&(e.width=d.width);e.height!=d.height&&(e.height=d.height);f.clearRect(0,0,d.width,d.height);f.save();f.globalCompositeOperation="destination-atop";f.globalAlpha=c.Q/255;if(254>c.t||254>c.r||254>c.p)f.fillStyle="rgb("+c.t+","+c.r+","+c.p+")",f.fillRect(0,0,d.width,d.height);
f.drawImage(a,d.x,d.y,d.width,d.height,0,0,d.width,d.height);f.restore();return e};
q.$D=function(a,c,d,e,f){e||(e=q.rect(0,0,a.width,a.height));a=null==d.Q?q.fy(d.t/255,d.r/255,d.p/255,1):d;d=Math.min(e.width,c[0].width);var g=Math.min(e.height,c[0].height),h;f?(h=f.getContext("2d"),h.clearRect(0,0,d,g)):(f=document.createElement("canvas"),f.width=d,f.height=g,h=f.getContext("2d"));h.save();h.globalCompositeOperation="lighter";var k=h.globalAlpha;0<a.t&&(h.globalAlpha=a.t*k,h.drawImage(c[0],e.x,e.y,d,g,0,0,d,g));0<a.r&&(h.globalAlpha=a.r*k,h.drawImage(c[1],e.x,e.y,d,g,0,0,d,g));
0<a.p&&(h.globalAlpha=a.p*k,h.drawImage(c[2],e.x,e.y,d,g,0,0,d,g));1>a.t+a.r+a.p&&(h.globalAlpha=k,h.drawImage(c[3],e.x,e.y,d,g,0,0,d,g));h.restore();return f};q.PJ=function(a,c){if(!a)return null;if(!c)return a;var d=document.createElement("canvas");d.width=c.width;d.height=c.height;var e=d.getContext("2d");e.translate(d.width/2,d.height/2);e.rotate(-1.5707963267948966);e.drawImage(a,c.x,c.y,c.height,c.width,-c.height/2,-c.width/2,c.height,c.width);return d};
q.A2=function(a,c,d,e,f,g){this.scale=c;this.rotation=d;this.Mm=e;this.visible=g};q.Tg=function(a){return 0|a};q.pP&&(q.Tg=function(a){return a});
q.B=q.Rb.extend({Ab:!0,Sa:null,wd:0,ub:null,Oa:!1,Ji:null,Fj:null,Sl:!1,Wn:null,ka:null,Ga:null,va:null,xd:!1,xc:null,Si:null,Gc:!1,rc:!1,sc:!1,Cb:!1,pe:null,kI:null,kq:null,kp:null,dt:!1,kh:null,YC:null,XC:null,$C:!1,nI:"rgba(0,0,0,1)",rC:0,oI:1,CN:function(){return this.Cb},yg:function(a,c){this.pe.push({eventCallback:a,aj:c})},Ce:function(){for(var a=this.pe,c=0,d=a.length;c<d;c++){var e=a[c];e.eventCallback.call(e.aj,this)}a.length=0},hL:function(){return this.Oa},Ah:function(a){this.Oa=a},u$:function(){return this.xd},
T5:function(){return this.wd},bf:function(a){this.wd=a},lE:function(){return q.rect(this.va.x,this.va.y,this.va.width,this.va.height)},IK:function(){return this.Sa},kr:function(a){this.Sa=a},y8:function(){return this.ub},kda:function(a){this.ub=a},F7:function(){return this.xc},Qt:function(){return this.ka},We:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrame(): spriteFrame should be non-null";a.Cb||(this.Cb=!1,a.yg(this.cD,this));var c=this.Qa(a.ha(),a.zd());this.er(a);return c},cD:null,ES:function(a){this.gb();
this.hb(a.zd(),a.Kd,a.Jd);this.Ce()},DS:function(a){this.gb();this.hb(a.zd(),a.Kd,a.Jd);a=this.Od();255===a.t&&255===a.r&&255===a.p||this.xw();this.Ce()},$K:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";a=q.Ug.f().ii(a);return this.We(a)},Dea:function(a){this.Sa=a.Sa;this.ub=a},HF:function(a){this.va.x=a.x;this.va.y=a.y;this.va.width=a.width;this.va.height=a.height},we:function(){if(this.Le){for(var a,c,d=this.D,e,f=1;f<d.length;f++){c=d[f];a=f-1;
for(e=d[a];0<=a&&(c.qb<e.qb||c.qb==e.qb&&c.qg<e.qg);)d[a+1]=e,--a,e=d[a];d[a+1]=c}this.ub&&this.Wg(d,q.Node.ig.we);this.Le=!1}},ou:function(a,c){if(!a)throw"cc.Sprite.reorderChild(): child should be non-null";-1===this.D.indexOf(a)?q.log("cc.Sprite.reorderChild(): this child is not in children list"):c!==a.qb&&(this.ub&&!this.Le&&(this.UC(),this.ub.hM(!0)),q.Node.prototype.ou.call(this,a,c))},removeChild:function(a,c){this.ub&&this.ub.Io(a);q.Node.prototype.removeChild.call(this,a,c)},Wc:function(a){var c=
this.D,d=this.ub;if(d&&null!=c)for(var e=0,f=c.length;e<f;e++)d.Io(c[e]);q.Node.prototype.Wc.call(this,a);this.Fj=!1},AM:function(a){this.Ji=a;this.Ah(a);a=this.D;if(null!=a)for(var c=0;c<a.length;c++)a[c]instanceof q.B&&a[c].AM(!0)},Ih:function(){this.ub&&!this.Ji&&(this.Oa=this.Ji=!0,this.Fj&&this.AM(!0))},o:function(a,c){2<=arguments.length?q.Node.prototype.o.call(this,a,arguments[1]):q.Node.prototype.o.call(this,a);this.Ih()},nz:function(a){q.Node.prototype.nz.call(this,a);this.Ih()},oz:function(a){q.Node.prototype.oz.call(this,
a);this.Ih()},pz:function(a){q.Node.prototype.pz.call(this,a);this.Ih()},qz:function(a){q.Node.prototype.qz.call(this,a);this.Ih()},rz:function(a){q.Node.prototype.rz.call(this,a);this.Ih()},ir:function(a){q.Node.prototype.ir.call(this,a);this.Ih()},Oo:function(a){q.Node.prototype.Oo.call(this,a);this.Ih()},il:function(a,c){q.Node.prototype.il.call(this,a,c);this.Ih()},hN:function(a){q.Node.prototype.hN.call(this,a);this.Ih()},A:function(a,c){2===arguments.length?q.Node.prototype.A.call(this,a,c):
q.Node.prototype.A.call(this,a);this.Ih()},H:function(a){q.Node.prototype.H.call(this,a);this.Ih()},Xj:function(a){this.ub?q.log("cc.Sprite.ignoreAnchorPointForPosition(): it is invalid in cc.Sprite when using SpriteBatchNode"):q.Node.prototype.Xj.call(this,a)},eZ:function(a){this.rc!=a&&(this.rc=a,this.hb(this.va,this.xd,this.ya),this.gb())},fZ:function(a){this.sc!=a&&(this.sc=a,this.hb(this.va,this.xd,this.ya),this.gb())},V9:function(){return this.rc},W9:function(){return this.sc},dg:null,lS:function(a){this.Gc!==
a&&(this.Gc=a,this.Ju())},kS:function(a){this.Gc!==a&&(this.Gc=a,this.gb())},km:function(){return this.Gc},Ed:null,VS:function(a){q.Rb.prototype.Ed.call(this,a);this.Ju()},dJ:function(a){q.Rb.prototype.Ed.call(this,a);this.Kn()},fca:function(a,c){if(!a)throw"cc.Sprite.setDisplayFrameWithAnimationName(): animationName must be non-null";var d=q.Wm.f().pK(a);d?(d=d.Ge[c])?this.er(d.ii()):q.log("cc.Sprite.setDisplayFrameWithAnimationName(): Invalid frame index"):q.log("cc.Sprite.setDisplayFrameWithAnimationName(): Frame not found")},
W5:function(){return this.ub},UC:function(){if(!this.Le){this.Le=!0;for(var a=this.ea;a&&a!=this.ub;)a.UC(),a=a.getParent()}},ha:function(){return this.Ga},dc:null,xx:null,Pf:!1,Sr:!1,xn:!1,rg:null,Sn:null,Kp:null,ctor:null,Ci:function(a){q.Rb.prototype.ctor.call(this);this.Sl=!1;this.xc=q.Yd();this.Si=q.Yd();this.ka={src:q.ff,Xb:q.ef};this.va=q.rect(0,0,0,0);this.dc=new q.Ac;this.xx=q.$.createBuffer();this.Cb=this.Pf=!0;this.pe=[];this.kq=!0;this.kp=!1;if(a)if("string"===typeof a)a=q.Ug.f().ii(a),
this.We(a);else if("object"===typeof a)if(a instanceof q.le)this.We(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new q.qc;c.Bf(a);c.te();this.Qa(c)}else a instanceof q.qc&&this.Qa(a)},Bi:function(a){q.Rb.prototype.ctor.call(this);this.Sl=!1;this.xc=q.Yd();this.Si=q.Yd();this.ka={src:q.ff,Xb:q.ef};this.va=q.rect(0,0,0,0);this.kI=!1;this.Cb=!0;this.pe=[];this.Sn={x:0,y:0,width:0,height:0,Tm:!1};this.Kp=q.size(0,0);this.kq=!0;this.kp=!1;if(a)if("string"===typeof a)a=
q.Ug.f().ii(a),this.We(a);else if("object"===typeof a)if(a instanceof q.le)this.We(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new q.qc;c.Bf(a);c.te();this.Qa(c)}else a instanceof q.qc&&this.Qa(a)},a8:function(){return this.dc},Dm:null,$R:function(a,c){var d=this.ka;1===arguments.length?(d.src=a.src,d.Xb=a.Xb):(d.src=a,d.Xb=c)},ZR:function(a,c){var d=this.ka;1===arguments.length?(d.src=a.src,d.Xb=a.Xb):(d.src=a,d.Xb=c);this.xn=d&&(770==d.src&&1==d.Xb||1==d.src&&
1==d.Xb)},w:null,dC:function(){if(0<arguments.length)return this.Yj(arguments[0],arguments[1]);q.Rb.prototype.w.call(this);this.Oa=this.Ji=!1;this.Gc=!0;this.ka.src=q.ff;this.ka.Xb=q.ef;this.ma(null);this.Cb=!0;this.rc=this.sc=!1;this.A(.5,.5);this.xc.R=0;this.xc.S=0;this.Fj=!1;var a={t:255,r:255,p:255,Q:255};this.dc.Pa.T=a;this.dc.bb.T=a;this.dc.Za.T=a;this.dc.Ra.T=a;this.Pf=!0;this.hb(q.Gd(),!1,q.cn());return!0},cC:function(){if(0<arguments.length)return this.Yj(arguments[0],arguments[1]);q.Rb.prototype.w.call(this);
this.Oa=this.Ji=!1;this.Gc=!0;this.ka.src=q.ff;this.ka.Xb=q.ef;this.ma(null);this.Cb=!0;this.rc=this.sc=!1;this.A(.5,.5);this.xc.R=0;this.xc.S=0;this.Fj=!1;this.hb(q.Gd(),!1,q.cn());return!0},Yj:function(a,c){if(!a)throw"cc.Sprite.initWithFile(): filename should be non-null";var d=q.da.f().Cz(a);if(!d)d=q.da.f().pa(a);else if(!c){var e=d.c();c=q.rect(0,0,e.width,e.height)}return this.Qa(d,c)},Qa:null,Bs:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";
d=d||!1;if(!q.Rb.prototype.w.call(this))return!1;this.ub=null;this.Oa=this.Ji=!1;this.Gc=!0;this.ka.src=q.ff;this.ka.Xb=q.ef;this.rc=this.sc=!1;this.A(.5,.5);this.xc.R=0;this.xc.S=0;this.Fj=!1;var e=new q.gc(255,255,255,255),f=this.dc;f.Pa.T=e;f.bb.T=e;f.Za.T=e;f.Ra.T=e;this.Cb=e=a.rh();if(!e)return this.xd=d||!1,c&&(e=this.va,e.x=c.x,e.y=c.y,e.width=c.width,e.height=c.height),a.yg(this.Ox,this),!0;c||(e=a.c(),c=q.rect(0,0,e.width,e.height));this.ma(a);this.hb(c,d,c.Xa);this.cf(null);return this.Pf=
!0},As:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";d=d||!1;if(!q.Rb.prototype.w.call(this))return!1;this.ub=null;this.Oa=this.Ji=!1;this.Gc=!0;this.ka.src=q.ff;this.ka.Xb=q.ef;this.rc=this.sc=!1;this.A(.5,.5);this.xc.R=0;this.xc.S=0;this.Fj=!1;var e=a.rh();this.Cb=e;if(!e)return this.xd=d||!1,c&&(this.va.x=c.x,this.va.y=c.y,this.va.width=c.width,this.va.height=c.height),a.yg(this.Ox,this),!0;c||(e=a.c(),c=q.rect(0,0,e.width,e.height));this.rg=
a;this.ma(a);this.hb(c,d,c.Xa);this.cf(null);return!0},Ox:null,LS:function(a){if(!this.Cb){this.Cb=!0;var c=this.va;if(!c)c=a.c(),c=q.rect(0,0,c.width,c.height);else if(q.Ts(c)){var d=a.c();c.width=d.width;c.height=d.height}this.ma(a);this.hb(c,this.xd,c.Xa);this.cf(null);this.Pf=!0;this.Ce()}},KS:function(a){if(!this.Cb){this.Cb=!0;var c=this.va;if(!c)c=a.c(),c=q.rect(0,0,c.width,c.height);else if(q.Ts(c)){var d=a.c();c.width=d.width;c.height=d.height}this.rg=a;this.ma(a);this.hb(c,this.xd,c.Xa);
this.cf(null);this.Ce()}},hb:null,JI:function(a,c,d){this.xd=c||!1;d=d||a.Xa;this.G(d);this.HF(a);this.II(a);c=this.Si;this.rc&&(c.R=-c.R);this.sc&&(c.S=-c.S);a=this.va;if(this.tN){d=q.la.f().sa;var e=q.la.f().za;a.width/=d;a.height/=e}this.xc.R=c.R+(this.ya.Ea-a.width)/2;this.xc.S=c.S+(this.ya.ra-a.height)/2;if(this.ub)this.Oa=!0;else{c=0+this.xc.R;d=0+this.xc.S;e=c+a.width;a=d+a.height;var f=this.dc;f.Pa.C={x:c,y:d,z:0};f.bb.C={x:e,y:d,z:0};f.Za.C={x:c,y:a,z:0};f.Ra.C={x:e,y:a,z:0};this.Pf=!0}},
VC:function(a,c,d){this.xd=c||!1;d=d||a.Xa;this.G(d);this.HF(a);c=this.Sn;var e=q.qd();c.x=0|a.x*e;c.y=0|a.y*e;var f=this.Kp,g=(this.ub&&this.Sa?this.Sa.ha():this.Ga)?this.ha().c():q.size(d.width,d.height);a.width>g.width||a.height>g.height?(c.width=0|g.width*e,c.height=0|g.height*e,f.width=0|d.width*e,f.height=0|d.height*e):(c.width=0|a.width*e,c.height=0|a.height*e,f.width=c.width,f.height=c.height);c.Tm=!(0===c.width||0===c.height);f.Tm=!(0===f.width||0===f.height);a=this.Si;this.rc&&(a.R=-a.R);
this.sc&&(a.S=-a.S);this.xc.R=a.R+(this.ya.Ea-this.va.width)/2;this.xc.S=a.S+(this.ya.ra-this.va.height)/2;this.ub&&(this.Oa=!0)},Og:null,cT:function(){if(this.Oa){var a=this.dc,c=this.ea;if(!this.Ua||c&&c!=this.ub&&c.Sl)a.bb.C={x:0,y:0,z:0},a.Za.C={x:0,y:0,z:0},a.Ra.C={x:0,y:0,z:0},a.Pa.C={x:0,y:0,z:0},this.Sl=!0;else{this.Sl=!1;var d=this.Wn=c&&c!=this.ub?q.Vm(this.Eg(),c.Wn):this.Eg(),e=this.va.Xa,c=this.xc.R,f=this.xc.S,g=c+e.width,e=f+e.height,h=d.lb,k=d.mb,l=d.Q,m=d.p,p=d.d,d=-d.La,w=this.$x;
a.Pa.C={x:q.Tg(c*l-f*d+h),y:q.Tg(c*m+f*p+k),z:w};a.bb.C={x:q.Tg(g*l-f*d+h),y:q.Tg(g*m+f*p+k),z:w};a.Za.C={x:q.Tg(c*l-e*d+h),y:q.Tg(c*m+e*p+k),z:w};a.Ra.C={x:q.Tg(g*l-e*d+h),y:q.Tg(g*m+e*p+k),z:w}}this.Sa.Jz(a,this.wd);this.Ji=!1;this.Ah(!1)}this.Fj&&this.Wg(this.D,q.Node.ig.Og);q.mk&&(a=[q.a(this.dc.Pa.C.x,this.dc.Pa.C.y),q.a(this.dc.bb.C.x,this.dc.bb.C.y),q.a(this.dc.Ra.C.x,this.dc.Ra.C.y),q.a(this.dc.Za.C.x,this.dc.Za.C.y)],q.Oe.se(a,4,!0))},bT:function(){if(this.Oa){var a=this.ea;!this.Ua||a&&
a!=this.ub&&a.Sl?this.Sl=!0:(this.Sl=!1,this.Wn=a&&a!=this.ub?q.Vm(this.Eg(),a.Wn):this.Eg());this.Oa=this.Ji=!1}this.Fj&&this.Wg(this.D,q.Node.ig.Og)},e:null,eB:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.qb);null==d&&(d=a.Md);if(this.ub){if(!(a instanceof q.B)){q.log("cc.Sprite.addChild(): cc.Sprite only supports cc.Sprites as children when using cc.SpriteBatchNode");return}a.ha().Vi!==this.Sa.ha().Vi&&q.log("cc.Sprite.addChild(): cc.Sprite only supports a sprite using same texture as children when using cc.SpriteBatchNode");
this.ub.appendChild(a);this.Le||this.UC()}q.Node.prototype.e.call(this,a,c,d);this.Fj=!0},dB:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.qb);null==d&&(d=a.Md);q.Node.prototype.e.call(this,a,c,d);this.Fj=!0},Ju:function(){var a=this.Nc,c=this.oc,a={t:a.t,r:a.r,p:a.p,Q:c};this.Gc&&(a.t*=c/255,a.r*=c/255,a.p*=c/255);c=this.dc;c.Pa.T=a;c.bb.T=a;c.Za.T=a;c.Ra.T=a;this.ub&&(this.wd!=q.GA?this.Sa.Jz(c,this.wd):this.Oa=!0);this.Pf=!0},ua:null,TC:function(a){q.Rb.prototype.ua.call(this,
a);this.Ju()},Zs:function(a){q.Rb.prototype.ua.call(this,a);this.Kn()},n:null,RC:function(a){q.Rb.prototype.n.call(this,a);this.Ju()},Xs:function(a){var c=this.Od();if(c.t!==a.t||c.r!==a.r||c.p!==a.p)q.Rb.prototype.n.call(this,a),this.xw(),this.Kn()},Dd:null,US:function(a){q.Rb.prototype.Dd.call(this,a);this.Ju()},qD:function(a){var c=this.Od();q.Rb.prototype.Dd.call(this,a);a=this.Nc;if(c.t!==a.t||c.r!==a.r||c.p!==a.p)this.xw(),this.Kn()},er:null,fS:function(a){this.gb();var c=a._offset;this.Si.R=
c.x;this.Si.S=c.y;c=a.ha();a.Cb||(this.Cb=!1,a.yg(function(a){this.Cb=!0;var c=a.ha();c!=this.Ga&&this.ma(c);this.hb(a.zd(),a.Kd,a.Jd);this.Ce()},this));c!=this.Ga&&this.ma(c);this.xd=a.Kd;this.hb(a.zd(),this.xd,a.Jd)},eS:function(a){this.gb();var c=a._offset;this.Si.R=c.x;this.Si.S=c.y;this.xd=a.Kd;var c=a.ha(),d=a.Cb;d||(this.Cb=!1,a.yg(function(a){this.Cb=!0;var c=a.ha();c!=this.Ga&&this.ma(c);this.hb(a.zd(),a.Kd,a.Jd);this.Ce()},this));c!=this.Ga&&this.ma(c);this.xd&&(this.rg=c);this.hb(a.zd(),
this.xd,a.Jd);this.Sr=!1;d&&(a=this.Od(),255===a.t&&255===a.r&&255===a.p||this.xw())},iL:null,bR:function(a){return q.bM(a.zd(),this.va)&&a.ha().getName()==this.Ga.getName()&&q.VL(a._offset,this.Si)},aR:function(a){return a.ha()!=this.Ga?!1:q.bM(a.zd(),this.va)},DU:function(){return q.le.cb(this.Ga,q.bp(this.va),this.xd,q.cP(this.Si),q.FA(this.ya))},cf:null,YR:function(a){if(this.ub=a)this.Wn={Q:1,p:0,La:0,d:1,lb:0,mb:0},this.kr(this.ub.Sa);else{this.wd=q.GA;this.kr(null);this.Ji=!1;this.Ah(!1);a=
this.xc.R;var c=this.xc.S,d=a+this.va.width,e=c+this.va.height,f=this.dc;f.Pa.C={x:a,y:c,z:0};f.bb.C={x:d,y:c,z:0};f.Za.C={x:a,y:e,z:0};f.Ra.C={x:d,y:e,z:0};this.Pf=!0}},XR:function(a){(this.ub=a)?(this.Wn={Q:1,p:0,La:0,d:1,lb:0,mb:0},this.kr(this.ub.Sa)):(this.wd=q.GA,this.kr(null),this.Ji=!1,this.Ah(!1))},ma:null,at:function(a){if(a&&!(a instanceof q.qc))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.ub&&this.ub.ha()!=a?q.log("cc.Sprite.setTexture(): Batched sprites should use the same texture as the batchnode"):
(a?this.Bh(q.zi.f().jj(q.EA)):this.Bh(q.zi.f().jj(q.mP)),this.ub||this.Ga==a||(this.Ga=a,this.Xn()))},$s:function(a){if(a&&!(a instanceof q.qc))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.Ga!=a&&(a&&a.Fc instanceof HTMLImageElement&&(this.rg=a),this.Ga=a)},Xn:function(){this.ub?q.log("cc.Sprite._updateBlendFunc(): _updateBlendFunc doesn't work when the sprite is rendered using a cc.CCSpriteBatchNode"):this.Ga&&this.Ga.$t()?(this.ka.src=q.ff,this.ka.Xb=q.ef,
this.dg(!0)):(this.ka.src=770,this.ka.Xb=771,this.dg(!1))},xw:function(){var a,c=this.Ga,d=this.Sn;if(c&&d.Tm&&this.rg&&(a=c.Fc)){var e=q.da.f().JK(this.rg.Fc);e&&(this.Sr=!0,a instanceof HTMLCanvasElement&&!this.xd&&!this.kI?this.kp?q.oK(this.rg.Fc,this.Nc,d,c.Fc):q.$D(a,e,this.Nc,d,a):(a=this.kp?q.oK(a,this.Nc,d):q.$D(a,e,this.Nc,d),c=new q.qc,c.Bf(a),c.te(),this.ma(c)))}},II:function(a){a=q.bp(a);var c=this.ub?this.Sa.ha():this.Ga;if(c){var d=c.Nq(),e=c.Mq(),f,g=this.dc;this.xd?(q.vv?(c=(2*a.x+
1)/(2*d),d=c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/d,f=a.y/e,a=(a.y+a.width)/e),this.rc&&(e=f,f=a,a=e),this.sc&&(e=c,c=d,d=e),g.Pa.J.Va=c,g.Pa.J.qa=f,g.bb.J.Va=c,g.bb.J.qa=a,g.Za.J.Va=d,g.Za.J.qa=f,g.Ra.J.Va=d,g.Ra.J.qa=a):(q.vv?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+a.height)/e),this.rc&&(e=c,c=d,d=e),this.sc&&(e=f,f=a,a=e),g.Pa.J.Va=c,g.Pa.J.qa=a,g.bb.J.Va=
d,g.bb.J.qa=a,g.Za.J.Va=c,g.Za.J.qa=f,g.Ra.J.Va=d,g.Ra.J.qa=f);this.Pf=!0}},Ya:null,Zg:function(){if(this.Cb){var a=q.$,c=this.Ga;c?c.fd&&(this.gd.If(),this.gd.Dh(),q.$k(this.ka.src,this.ka.Xb),q.n9(0,c),q.Te(q.dw),a.bindBuffer(a.ARRAY_BUFFER,this.xx),this.Pf&&(a.bufferData(a.ARRAY_BUFFER,this.dc.JD,a.DYNAMIC_DRAW),this.Pf=!1),a.vertexAttribPointer(0,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(1,4,a.UNSIGNED_BYTE,!0,24,12),a.vertexAttribPointer(2,2,a.FLOAT,!1,24,16),a.drawArrays(a.TRIANGLE_STRIP,0,4)):
(this.gd.If(),this.gd.Dh(),q.$k(this.ka.src,this.ka.Xb),q.oh(null),q.Te(q.Jh|q.HP),a.bindBuffer(a.ARRAY_BUFFER,this.xx),this.Pf&&(q.$.bufferData(q.$.ARRAY_BUFFER,this.dc.JD,q.$.STATIC_DRAW),this.Pf=!1),a.vertexAttribPointer(q.jf,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(q.Fr,4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));q.ei++;0!==q.mk&&(1===q.mk?(a=this.dc,a=[q.a(a.Za.C.x,a.Za.C.y),q.a(a.Pa.C.x,a.Pa.C.y),q.a(a.bb.C.x,a.bb.C.y),q.a(a.Ra.C.x,a.Ra.C.y)],q.Oe.se(a,4,!0)):2===q.mk&&(a=
this.lE().Xa,c=this.xc,a=[q.a(c.x,c.y),q.a(c.x+a.width,c.y),q.a(c.x+a.width,c.y+a.height),q.a(c.x,c.y+a.height)],q.Oe.se(a,4,!0)))}},x3:function(a,c,d,e){this.YC=c;this.kh=d;this.XC=e;this.dt=a},mS:function(a,c,d,e){this.$C=a;c&&(this.nI=c);d&&(this.oI=d);e&&(this.rC=e)},xk:function(a){if(this.Cb){a=a||q.$;this.xn&&(a.globalCompositeOperation="lighter");a.dW=this.kq;var c=q.la.f().sa,d=q.la.f().za;a.globalAlpha=this.oc/255;var e=this.va,f=this.ya,g=this.xc,h=this.Kp,k=0|g.R,l=-g.S-e.height,m=this.Sn;
1==this.dt&&(a.shadowBlur=this.YC?this.YC:30,a.shadowColor=this.XC?this.XC:"black",a.shadowOffsetX=this.kh?this.kh.x:5,a.shadowOffsetY=this.kh?this.kh.y:5);if(this.rc||this.sc)a.save(),this.rc&&(k=-g.R-e.width,a.scale(-1,1)),this.sc&&(l=g.S,a.scale(1,-1));k*=c;l*=d;this.Ga&&m.Tm?(g=this.Ga.Fc,this.Sr?a.drawImage(g,0,0,m.width,m.height,k,l,h.width,h.height):a.drawImage(g,m.x,m.y,m.width,m.height,k,l,h.width,h.height)):0!==f.Ea&&(h=this.Od(),a.fillStyle="rgba("+h.t+","+h.r+","+h.p+",1)",a.fillRect(k,
l,f.Ea*c,f.ra*d));1==this.dt&&(a.shadowBlur=0,a.shadowOffsetX=0,a.shadowOffsetY=0);1==this.$C&&(a.globalAlpha=1,a.beginPath(),a.strokeStyle=this.nI,a.lineWidth=this.oI+"",0<this.rC?a.rect(k,l,f.Ea*c,f.ra*d):fa(a,k+.5,l+.5,f.Ea*c,f.ra*d,this.rC),a.stroke());1===q.mk?(a.strokeStyle="rgba(0,255,0,1)",k/=c,l=-(l/d),k=[q.a(k,l),q.a(k+e.width,l),q.a(k+e.width,l-e.height),q.a(k,l-e.height)],q.Oe.se(k,4,!0)):2===q.mk&&(a.strokeStyle="rgba(0,255,0,1)",c=this.va.Xa,l=-l,k=[q.a(k,l),q.a(k+c.width,l),q.a(k+c.width,
l-c.height),q.a(k,l-c.height)],q.Oe.se(k,4,!0));(this.rc||this.sc)&&a.restore();q.ei++}}});
q.Aa.pd?(b=q.B.prototype,b.cD=q.B.prototype.ES,b.dg=q.B.prototype.lS,b.Ed=q.B.prototype.VS,b.ctor=q.B.prototype.Ci,b.Dm=q.B.prototype.$R,b.w=q.B.prototype.dC,b.Qa=q.B.prototype.Bs,b.Ox=q.B.prototype.LS,b.hb=q.B.prototype.JI,b.Og=q.B.prototype.cT,b.e=q.B.prototype.eB,b.ua=q.B.prototype.TC,b.n=q.B.prototype.RC,b.Dd=q.B.prototype.US,b.er=q.B.prototype.fS,b.iL=q.B.prototype.bR,b.cf=q.B.prototype.YR,b.ma=q.B.prototype.at,b.Ya=q.B.prototype.Zg):(b=q.B.prototype,b.cD=q.B.prototype.DS,b.dg=q.B.prototype.kS,
b.Ed=q.B.prototype.dJ,b.ctor=q.B.prototype.Bi,b.Dm=q.B.prototype.ZR,b.w=q.B.prototype.cC,b.Qa=q.B.prototype.As,b.Ox=q.B.prototype.KS,b.hb=q.B.prototype.VC,b.Og=q.B.prototype.bT,b.e=q.B.prototype.dB,b.ua=q.B.prototype.Zs,b.n=q.B.prototype.Xs,b.Dd=q.B.prototype.qD,b.er=q.B.prototype.eS,b.iL=q.B.prototype.aR,b.cf=q.B.prototype.XR,b.ma=q.B.prototype.$s,b.Ya=q.B.prototype.xk);
q.B.cb=function(a,c){var d=arguments.length,e=new q.B;switch(d){case 1:return e&&e.Qa(a)?e:null;case 2:return e&&e.Qa(a,c)?e:null;default:throw"Sprite.createWithTexture(): Argument must be non-nil ";}};q.B.create=function(a,c){var d=arguments.length,e=new q.B;if(0===d){if(e.w())return e}else if(e&&e.w(a,c))return e;return null};
q.B.NJ=function(a){var c=null;if("string"==typeof a){if(c=q.Ug.f().ii(a),!c)return q.log("Invalid spriteFrameName: "+a),null}else return q.log("Invalid argument. Expecting string."),null;return(a=new q.B)&&a.We(c)?a:null};q.B.MJ=function(a){var c=new q.B;return c&&c.We(a)?c:null};Object.defineProperties(q.B.prototype,{Mda:{get:function(){return this.kq},set:function(a){this.kq=a},enumerable:!0},Z3:{get:function(){return this.kp},set:function(a){this.kp=a},enumerable:!0}});q.ik=q.Ka.extend({et:null,Ee:0,xt:null,ctor:function(){this.Ee=0},clone:function(){var a=new q.ik;a.We(this.et.clone(),this.Ee,this.xt);return a},ky:function(){return q.clone(this)},Ft:function(){var a=new q.ik;a.We(this.et.clone(),this.Ee,this.xt);return a},We:function(a,c,d){this.et=a;this.Ee=c;this.xt=d;return!0},ii:function(){return this.et},eg:function(a){this.et=a},x6:function(){return this.Ee},eca:function(a){this.Ee=a},Y8:function(){return this.xt},Bda:function(a){this.xt=a}});
q.hk=q.Ka.extend({Ge:null,Ik:0,Hn:!1,Da:0,Ee:0,Un:0,ctor:function(){this.Ge=[]},R6:function(){return this.Ge},FM:function(a){this.Ge=a},FD:function(a){var c=new q.ik;c.We(a,1,null);this.Ge.push(c);this.Un++},Q3:function(a){a=q.da.f().pa(a);var c=q.Gd();c.Xa=a.c();a=q.le.cb(a,c);this.FD(a)},R3:function(a,c){var d=q.le.cb(a,c);this.FD(d)},au:function(a,c,d){q.Tu(a,q.ik);this.Ee=c;this.Ik=d;this.FM([]);for(c=0;c<a.length;c++)d=a[c],this.Ge.push(d),this.Un+=d.Ee;return!0},clone:function(){var a=new q.hk;
a.au(this.FH(),this.Ee,this.Ik);a.mz(this.Hn);return a},ky:function(){var a=new q.hk;a.au(this.FH(),this.Ee,this.Ik);a.mz(this.Hn);return a},FH:function(){for(var a=[],c=0;c<this.Ge.length;c++)a.push(this.Ge[c].clone());return a},Ft:function(){return this.ky(null)},h7:function(){return this.Ik},Cca:function(a){this.Ik=a},mz:function(a){this.Hn=a},i8:function(){return this.Hn},Vf:function(){return this.Un*this.Ee},w6:function(){return this.Ee},dca:function(a){this.Ee=a},P8:function(){return this.Un},
aL:function(a,c){q.Tu(a,q.le);this.Ik=1;this.Ee=c||0;this.FM([]);if(a)for(var d=0;d<a.length;d++){var e=a[d],f=new q.ik;f.We(e,1,null);this.Ge.push(f);this.Un++}return!0},mM:function(){},dM:function(){}});q.hk.create=function(a,c,d){var e=arguments.length,f=new q.hk;0==e?f.aL(null,0):2==e?f.aL(a,c||0):3==e&&f.au(a,c,d);return f};q.hk.LJ=function(a,c,d){var e=new q.hk;e.au(a,c,d);return e};q.Wm=q.Ka.extend({pJ:function(a,c){this.kn[c]=a},lba:function(a){a&&this.kn.hasOwnProperty(a)&&delete this.kn[a]},pK:function(a){return this.kn.hasOwnProperty(a)?this.kn[a]:null},SP:function(a,c){var d=a.animations;if(d){var e=1,f=a.properties;if(f)for(var e=null!=f.format?parseInt(f.format):e,f=f.spritesheets,g=q.Ug.f(),h=q.je.f(),k,l=0;l<f.length;l++)k=h.nK(f[l],c),g.xJ(k);switch(e){case 1:this.uR(d);break;case 2:this.vR(d);break;default:q.log("cc.AnimationCache. Invalid animation format")}}else q.log("cocos2d: cc.AnimationCache: No animations were found in provided dictionary.")},
H3:function(a){if(!a)throw"cc.AnimationCache.addAnimations(): Invalid texture file name";var c=q.je.f(),d=c.Se(a);(c=c.my(d))?this.SP(c,a):q.log("cc.AnimationCache.addAnimations(): File could not be found")},uR:function(a){var c=q.Ug.f(),d;for(d in a){var e=a[d],f=e.frames,e=parseFloat(e.delay)||0,g=null;if(f){for(var g=[],h=0;h<f.length;h++){var k=c.ii(f[h]);if(k){var l=new q.ik;l.We(k,1,null);g.push(l)}else q.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+f[h]+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}0===
g.length?q.log("cocos2d: cc.AnimationCache: None of the frames for animation '"+d+"' were found in the cc.SpriteFrameCache. Animation is not being added to the Animation Cache."):(g.length!=f.length&&q.log("cocos2d: cc.AnimationCache: An animation in your dictionary refers to a frame which is not in the cc.SpriteFrameCache. Some or all of the frames for the animation '"+d+"' may be missing."),g=q.hk.LJ(g,e,1),q.Wm.f().pJ(g,d))}else q.log("cocos2d: cc.AnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},
vR:function(a){var c=q.Ug.f(),d;for(d in a){var e=a[d],f=parseInt(e.loops),f=e.loop?q.bn:isNaN(f)?1:f,g=e.restoreOriginalFrame&&1==e.restoreOriginalFrame?!0:!1,h=e.frames;if(h){for(var k=[],l=0;l<h.length;l++){var m=h[l],p=m.spriteframe,w=c.ii(p);if(w){var p=parseFloat(m.delayUnits)||0,m=m.notification,v=new q.ik;v.We(w,p,m);k.push(v)}else q.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+p+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}e=
parseFloat(e.delayPerUnit)||0;h=new q.hk;h.au(k,e,f);h.mz(g);q.Wm.f().pJ(h,d)}else q.log("cocos2d: CCAnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},w:function(){this.kn={};return!0},kn:null});q.Wm.LX=function(){q.Mo&&(q.Mo.kn=null,q.Mo=null)};q.Wm.f=function(){null===q.Mo&&(q.Mo=new q.Wm,q.Mo.w());return q.Mo};q.Mo=null;q.le=q.Ka.extend({_offset:null,Jd:null,of:null,Kd:!1,va:null,pg:null,Mf:null,Ga:null,rq:"",Cb:!1,Kw:null,ctor:function(){this._offset=q.Yd();this.pg=q.Yd();this.Jd=q.Ln();this.Kd=!1;this.Mf=q.Ln();this.rq="";this.Ga=null;this.Cb=!1},CN:function(){return this.Cb},yg:function(a,c){null==this.Kw&&(this.Kw=[]);this.Kw.push({eventCallback:a,aj:c})},Ce:function(){var a=this.Kw;if(a){for(var c=0,d=a.length;c<d;c++){var e=a[c];e.eventCallback.call(e.aj,this)}a.length=0}},uV:function(){var a=this.of;return q.rect(a.x,
a.y,a.width,a.height)},cda:function(a){this.of||(this.of=q.rect(0,0,0,0));this.of.x=a.x;this.of.y=a.y;this.of.width=a.width;this.of.height=a.height;this.va=q.wr(a)},m$:function(){return this.Kd},gda:function(a){this.Kd=a},zd:function(){var a=this.va;return q.rect(a.x,a.y,a.width,a.height)},WM:function(a){this.va||(this.va=q.rect(0,0,0,0));this.va.x=a.x;this.va.y=a.y;this.va.width=a.width;this.va.height=a.height;this.of=q.bp(this.va)},E7:function(){return this.pg},Rca:function(a){this.pg.R=a.x;this.pg.S=
a.y;q.kw(this.pg,this._offset)},L7:function(){return this.Mf},Uca:function(a){this.Mf.Ea=a.width;this.Mf.ra=a.height},qV:function(){return this.Jd},Tca:function(a){this.Jd.Ea=a.width;this.Jd.ra=a.height},ha:function(){if(this.Ga)return this.Ga;if(""!==this.rq){var a=q.da.f().pa(this.rq);a&&(this.Cb=a.rh());return a}return null},ma:function(a){if(this.Ga!=a){var c=a.rh();this.Cb=c;this.Ga=a;c||a.yg(function(a){this.Cb=!0;if(this.Kd&&q.ee===q.Qg){var c=a.Fc,c=q.PJ(c,this.zd()),f=new q.qc;f.Bf(c);f.te();
this.ma(f);c=this.zd();this.WM(q.rect(0,0,c.width,c.height))}c=this.va;0===c.width&&0===c.height&&(a=a.c(),this.va.width=a.width,this.va.height=a.height,this.of=q.bp(this.va),this.Mf.Ea=this.of.width,this.Mf.ra=this.of.height,this.Jd.Ea=a.width,this.Jd.ra=a.height);this.Ce()},this)}},D7:function(){return this._offset},Qca:function(a){this._offset.R=a.x;this._offset.S=a.y},clone:function(){var a=new q.le;a.Fy(this.rq,this.of,this.Kd,this.pg,this.Mf);a.ma(this.Ga);return a},ky:function(){var a=new q.le;
a.Fy(this.rq,this.of,this.Kd,this.pg,this.Mf);a.ma(this.Ga);return a},Ft:function(){return this.ky()},Qa:function(a,c,d,e,f){2===arguments.length&&(c=q.bp(c));e=e||q.a(0,0);f=f||c.Xa;this.ma(a);this.of=c;this.va=q.wr(c);this.pg.R=e.x;this.pg.S=e.y;q.kw(e,this._offset);this.Mf.Ea=f.width;this.Mf.ra=f.height;q.YA(f,this.Jd);this.Kd=d||!1;return!0},Fy:function(a,c,d,e,f){2===arguments.length&&(c=q.bp(c));e=e||q.a(0,0);f=f||c.Xa;this.Ga=null;this.rq=a;this.of=c;this.va=q.wr(c);this.Kd=d||!1;this.pg.R=
e.x;this.pg.S=e.y;q.kw(e,this._offset);this.Mf.Ea=f.width;this.Mf.ra=f.height;q.YA(f,this.Jd);return!0}});q.le.create=function(a,c,d,e,f){var g=new q.le;switch(arguments.length){case 2:g.Fy(a,c);break;case 5:g.Fy(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};q.le.cb=function(a,c,d,e,f){var g=new q.le;switch(arguments.length){case 2:g.Qa(a,c);break;case 5:g.Qa(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};
q.le.Z2=function(a,c,d,e,f){var g=new q.le;g.Ga=a;g.of=c;g.va=q.wr(c);g.pg.R=e.x;g.pg.S=e.y;q.kw(g.pg,g._offset);g.Mf.Ea=f.width;g.Mf.ra=f.height;q.YA(g.Mf,g.Jd);g.Kd=d;return g};q.Ug=q.Ka.extend({qf:null,Tl:null,Hs:null,ctor:function(){this.qf={};this.Tl={};this.Hs=[]},gB:function(a,c){var d=a.metadata||a.meta,e=a.frames,f=0;d&&(f=d.format,f=1>=f.length?parseInt(f):f);if(0>f||3<f)q.log("format is not supported for cc.SpriteFrameCache.addSpriteFramesWithDictionary");else for(var g in e)if(d=e[g]){var h=this.qf[g];if(!h){if(0==f){var h=parseFloat(d.x),k=parseFloat(d.y),l=parseFloat(d.width),m=parseFloat(d.height),p=parseFloat(d.offsetX),w=parseFloat(d.offsetY),v=parseInt(d.originalWidth),
d=parseInt(d.originalHeight);v&&d||q.log("cocos2d: WARNING: originalWidth/Height not found on the cc.SpriteFrame. AnchorPoint won't work as expected. Regenrate the .plist");v=Math.abs(v);d=Math.abs(d);h=q.le.cb(c,q.rect(h,k,l,m),!1,q.a(p,w),q.size(v,d))}else if(1==f||2==f)h=q.VG(d.frame),k=!1,2==f&&(k=d.rotated),l=q.UG(d.offset),d=q.JA(d.sourceSize),h=q.le.cb(c,h,k,l,d);else if(3==f){var h=q.JA(d.spriteSize),k=q.UG(d.spriteOffset),l=q.JA(d.spriteSourceSize),m=q.VG(d.textureRect),p=d.textureRotated,
w=d.aliases,v=g.toString(),x;for(x in w)this.Tl.hasOwnProperty(w[x])&&q.log("cocos2d: WARNING: an alias with name "+x+" already exists"),this.Tl[w[x]]=v;d.hasOwnProperty("spriteSize")&&(m=q.rect(m.x,m.y,h.width,h.height));h=q.le.cb(c,m,p,k,l)}else var z=d.filename,k=d.frame,h=d.sourceSize,k=q.rect(k.x,k.y,k.TN,k.h),d=d.rotated,l=q.a(0,0),h=q.size(h.TN,h.h),h=q.le.cb(c,k,d,l,h);q.ee===q.Qg&&h.Kd&&h.ha().rh()&&(d=h.ha().Fc,d=q.PJ(d,h.uV()),k=new q.qc,k.Bf(d),k.te(),h.ma(k),d=h.va,h.WM(q.rect(0,0,d.width,
d.height)));this.qf[null!=z?z:g]=h}}},xJ:function(a,c){if(!a)throw"cc.SpriteFrameCache.addSpriteFrames(): plist should be non-null";var d=q.je.f(),e;"plist"==a.substr(a.lastIndexOf(".",a.length)+1,a.length)?(e=d.Se(a),e=d.my(e)):e=JSON.parse(d.HK(a));switch(arguments.length){case 1:if(!q.Sz(this.Hs,a)){var f="",g=e.metadata||e.meta;g&&(f=g.textureFileName||g.image);""!=f?f=d.nK(f,a):(f=a,f=f.substr(0,f.lastIndexOf(".",f.length)),f+=".png");(d=q.da.f().pa(f))?this.gB(e,d):q.log("cocos2d: cc.SpriteFrameCache: Couldn't load texture")}break;
case 2:if(c instanceof q.qc)this.gB(e,c);else{if(!c)throw"cc.SpriteFrameCache.addSpriteFrames(): texture name should not be null";(d=q.da.f().pa(c))?this.gB(e,d):q.log("cocos2d: cc.SpriteFrameCache: couldn't load texture file. File not found "+c)}break;default:throw"Argument must be non-nil ";}},FD:function(a,c){this.qf[c]=a},tba:function(){this.qf=[];this.Tl=[];this.Hs={}},sba:function(a){a&&(this.Tl.hasOwnProperty(a)&&delete this.Tl[a],this.qf.hasOwnProperty(a)&&delete this.qf[a],this.Hs={})},uba:function(a){var c=
q.je.f(),d=c.Se(a),c=c.my(d);this.JR(c);q.Sz(this.Hs,a)&&q.ie(a)},JR:function(a){a=a.frames;for(var c in a)this.qf.hasOwnProperty(c)&&delete this.qf[c]},vba:function(a){for(var c in this.qf){var d=this.qf[c];d&&d.ha()==a&&delete this.qf[c]}},ii:function(a){var c;this.qf.hasOwnProperty(a)&&(c=this.qf[a]);if(!c){var d;this.Tl.hasOwnProperty(a)&&(d=this.Tl[a]);d&&(this.qf.hasOwnProperty(d.toString())&&(c=this.qf[d.toString()]),c||q.log("cocos2d: cc.SpriteFrameCahce: Frame "+a+" not found"))}return c}});
q.gz=null;q.Ug.f=function(){q.gz||(q.gz=new q.Ug);return q.gz};q.Ug.MX=function(){q.gz=null};q.vr=29;
q.Kb=q.Node.extend({Sa:null,ka:null,Vd:null,S3:function(a,c,d){if(!a)throw"cc.SpriteBatchNode.addQuadFromSprite(): child should be non-null";if(!(a instanceof q.B))return q.log("cc.SpriteBatchNode.addQuadFromSprite(): SpriteBatchNode only supports cc.Sprites as children"),null;a.bf(c);var e=0,f=this.Vd;if(f&&0<f.length)for(var g=0;g<f.length;g++){var h=f[g];h&&h.wd>=c&&++e}this.Vd=q.Xm(f,a,e);q.Node.prototype.e.call(this,a,c,d);this.hM(!1);return this},IK:function(){return this.Sa},kr:function(a){a!=this.Sa&&
(this.Sa=a)},A6:function(){return this.Vd},Yj:function(a,c){var d=q.da.f().Cz(a);d||(d=q.da.f().pa(a));return this.Qa(d,c)},Kn:function(){this.zH=!0},w:function(a,c){var d=q.da.f().Cz(a);d||(d=q.da.f().pa(a));return this.Qa(d,c)},zy:function(){var a=this.Sa.Hd,c=Math.floor(4*(a+1)/3);q.log("cocos2d: CCSpriteBatchNode: resizing TextureAtlas capacity from "+a+" to "+c+".");this.Sa.pY(c)||q.log("cocos2d: WARNING: Not enough memory to resize the atlas")},nba:function(a,c){this.removeChild(this.D[a],c)},
aM:function(a,c){var d=a.D;if(d&&0<d.length)for(var e=0;e<d.length;e++){var f=d[e];f&&0>f.qb&&(c=this.aM(f,c))}!a==this&&(a.bf(c),c++);if(d&&0<d.length)for(e=0;e<d.length;e++)(f=d[e])&&0<=f.qb&&(c=this.aM(f,c));return c},vE:function(a){var c=a.D;return c&&0!=c.length?this.vE(c[c.length-1]):a.wd},NW:function(a){var c=a.D;return c&&0!=c.length?this.NW(c[c.length-1]):a.wd},yT:function(a,c){var d=a.getParent().D,e=q.Uz(d,a),f=a.getParent()==this,g=null;0<e&&e<q.EP&&(g=d[e-1]);if(f)return 0==e?0:this.vE(g)+
1;if(0==e)return d=a.getParent(),0>c?d.wd:d.wd+1;if(0>g.qb&&0>c||0<=g.qb&&0<=c)return this.vE(g)+1;d=a.getParent();return d.wd+1},hM:function(a){this.Le=a},Dm:function(a,c){this.ka=1==arguments.length?a:{src:a,Xb:c}},Qt:function(){return this.ka},ou:function(a,c){if(!a)throw"cc.SpriteBatchNode.addChild():child should be non-null";-1===this.D.indexOf(a)?q.log("cc.SpriteBatchNode.addChild(): Child doesn't belong to Sprite"):c!==a.qb&&(q.Node.prototype.ou.call(this,a,c),this.gb())},removeChild:function(a,
c){null!=a&&(-1===this.D.indexOf(a)?q.log("cc.SpriteBatchNode.addChild(): sprite batch node should contain the child"):(this.Io(a),q.Node.prototype.removeChild.call(this,a,c)))},kR:null,Rn:null,E3:!1,rg:null,ctor:null,Bi:function(a){q.Node.prototype.ctor.call(this);a&&this.w(a,q.vr)},Ci:function(a){q.Node.prototype.ctor.call(this);this.kR=new q.ki;a&&this.w(a,q.vr)},ON:null,ZS:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";a instanceof q.B?(a.cf(this),
a.bf(c),a.Ah(!0),a.Og()):q.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},$S:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";if(a instanceof q.B){for(var d=this.Sa.Hd;c>=d||d==this.Sa.ab;)this.zy();a.cf(this);a.bf(c);a.Ah(!0);a.Og()}else q.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},Lx:function(a,c){var d=this.Vd,e=this.Sa,f=e.mf,
g=d[a],h=q.WA(f[a]);d[c].bf(a);d[a]=d[c];e.Jz(f[c],a);d[c]=g;e.Jz(h,c)},bL:null,ZQ:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";a instanceof q.B?(a.cf(this),a.bf(c),a.Ah(!0),a.Og(),this.D=q.Xm(this.D,a,c)):q.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},$Q:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";if(a instanceof q.B){for(var d=this.Sa;c>=
d.Hd||d.Hd===d.ab;)this.zy();a.cf(this);a.bf(c);d.DE(a.dc,c);a.Ah(!0);a.Og()}else q.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},cJ:function(a,c){var d=0,e=a.D;e&&(d=e.length);var f=0;if(0===d)f=a.wd,a.bf(c),a.hr(0),f!=c&&this.Lx(f,c),c++;else{f=!0;0<=e[0].qb&&(f=a.wd,a.bf(c),a.hr(0),f!=c&&this.Lx(f,c),c++,f=!1);for(d=0;d<e.length;d++){var g=e[d];f&&0<=g.qb&&(f=a.wd,a.bf(c),a.hr(0),f!=c&&this.Lx(f,c),c++,f=!1);c=this.cJ(g,c)}f&&(f=a.wd,
a.bf(c),a.hr(0),f!=c&&this.Lx(f,c),c++)}return c},Xn:function(){this.Sa.ha().$t()||(this.ka.src=770,this.ka.Xb=771)},Qa:null,As:function(a){this.D=[];this.Vd=[];this.ka=new q.Zm(q.ff,q.ef);this.Rn=this.rg=a;return!0},Bs:function(a,c){this.D=[];this.Vd=[];this.ka=new q.Zm(q.ff,q.ef);c=c||q.vr;this.Sa=new q.hp;this.Sa.Qa(a,c);this.Xn();this.Bh(q.zi.f().jj(q.EA));return!0},oW:function(a,c){a.cf(this);a.bf(c);a.Ah(!0);var d=this.Sa;d.ab>=d.Hd&&this.zy();d.DE(a.dc,c);this.Vd=q.Xm(this.Vd,a,c);var d=c+
1,e=this.Vd;if(e&&0<e.length)for(;d<e.length;d++)e[d].bf(e[d].wd+1);if((e=a.D)&&0<e.length)for(d=0;d<e.length;d++)if(e[d]){var f=this.yT(e[d],e[d].qb);this.oW(e[d],f)}},appendChild:null,YP:function(a){this.Le=!0;a.cf(this);a.Ah(!0);this.Vd.push(a);a.bf(this.Vd.length-1);a=a.D;for(var c=0;c<a.length;c++)this.appendChild(a[c])},ZP:function(a){this.Le=!0;a.cf(this);a.Ah(!0);this.Vd.push(a);var c=this.Vd.length-1;a.bf(c);var d=this.Sa;d.ab==d.Hd&&this.zy();d.DE(a.dc,c);a=a.D;for(c=0;c<a.length;c++)this.appendChild(a[c])},
Io:null,KR:function(a){a.cf(null);var c=this.Vd,d=q.Uz(c,a);if(-1!=d){q.qr(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.bf(f.wd-1)}}if((a=a.D)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.Io(a[c])},LR:function(a){this.Sa.jY(a.wd);a.cf(null);var c=this.Vd,d=q.Uz(c,a);if(-1!=d){q.qr(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.bf(f.wd-1)}}if((a=a.D)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.Io(a[c])},ha:null,YB:function(){return this.Rn},ZB:function(){return this.Sa.ha()},ma:null,$s:function(a){this.Rn=
a;for(var c=this.D,d=0;d<c.length;d++)c[d].ma(a)},at:function(a){this.Sa.ma(a);this.Xn()},xa:null,Yn:function(a){var c=a||q.$;if(this.Ua){c.save();this.transform(a);var d=this.D;if(d)for(this.we(),a=0;a<d.length;a++)d[a]&&d[a].xa(c);c.restore()}},Zn:function(a){a=a||q.$;if(this.Ua){q.Wq();var c=this.Fl;c&&c.Tq()&&(c.KD(),this.Gz());this.we();this.transform(a);this.Ya(a);c&&c.Tq()&&c.GD(this);q.Vq();this.hr(0)}},e:null,dB:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";
a instanceof q.B?(c=null==c?a.qb:c,d=null==d?a.Md:d,q.Node.prototype.e.call(this,a,c,d),this.appendChild(a),this.gb()):q.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},eB:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";a instanceof q.B?a.ha()!=this.Sa.ha()?q.log("cc.SpriteBatchNode.addChild(): cc.Sprite is not using the same texture"):(c=null==c?a.qb:c,d=null==d?a.Md:d,q.Node.prototype.e.call(this,a,c,d),this.appendChild(a),
this.gb()):q.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},Wc:null,GR:function(a){var c=this.Vd;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].cf(null);q.Node.prototype.Wc.call(this,a);this.Vd=[]},HR:function(a){var c=this.Vd;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].cf(null);q.Node.prototype.Wc.call(this,a);this.Vd=[];this.Sa.dY()},we:null,BS:function(){if(this.Le){var a,c=0,d=this.D,e=d.length,f;for(a=1;a<e;a++){var g=
d[a],c=a-1;for(f=d[c];0<=c&&(g.qb<f.qb||g.qb==f.qb&&g.qg<f.qg);)d[c+1]=f,--c,f=d[c];d[c+1]=g}0<d.length&&this.Wg(d,q.Node.ig.we);this.Le=!1}},CS:function(){if(this.Le){var a=this.D,c,d=0,e=a.length,f;for(c=1;c<e;c++){var g=a[c],d=c-1;for(f=a[d];0<=d&&(g.qb<f.qb||g.qb==f.qb&&g.qg<f.qg);)a[d+1]=f,--d,f=a[d];a[d+1]=g}if(0<a.length)for(this.Wg(a,q.Node.ig.we),c=d=0;c<a.length;c++)d=this.cJ(a[c],d);this.Le=!1}},Ya:null,Zg:function(){0!==this.Sa.ab&&(this.gd.If(),this.gd.Dh(),this.Wg(this.D,q.Node.ig.Og),
q.$k(this.ka.src,this.ka.Xb),this.Sa.IU())}});
q.Aa.pd?(b=q.Kb.prototype,b.ctor=q.Kb.prototype.Ci,b.ON=q.Kb.prototype.$S,b.bL=q.Kb.prototype.$Q,b.Qa=q.Kb.prototype.Bs,b.appendChild=q.Kb.prototype.ZP,b.Io=q.Kb.prototype.LR,b.ha=q.Kb.prototype.ZB,b.ma=q.Kb.prototype.at,b.xa=q.Kb.prototype.Zn,b.e=q.Kb.prototype.eB,b.Wc=q.Kb.prototype.HR,b.we=q.Kb.prototype.CS,b.Ya=q.Kb.prototype.Zg):(b=q.Kb.prototype,b.ctor=q.Kb.prototype.Bi,b.ON=q.Kb.prototype.ZS,b.bL=q.Kb.prototype.ZQ,b.Qa=q.Kb.prototype.As,b.appendChild=q.Kb.prototype.YP,b.Io=q.Kb.prototype.KR,
b.ha=q.Kb.prototype.YB,b.ma=q.Kb.prototype.$s,b.xa=q.Kb.prototype.Yn,b.Wc=q.Kb.prototype.GR,b.e=q.Kb.prototype.dB,b.we=q.Kb.prototype.BS,b.Ya=q.Node.prototype.Ya);q.Kb.create=function(a,c){c=c||q.vr;var d=new q.Kb;d.w(a,c);return d};q.Kb.cb=function(a,c){c=c||q.vr;var d=new q.Kb;d.Qa(a,c);return d};q.z0={w0:0,y0:1,x0:2,v0:3,u0:4};
q.gf=q.Ka.extend({Ks:0,fI:0,kt:!1,jt:!1,Hx:!1,Ix:!1,Jx:!1,hR:0,jx:0,Hr:"",Tk:null,ctor:function(){this.fI=this.Ks=0;this.Jx=this.Ix=this.Hx=this.jt=this.kt=!1;this.jx=this.hR=0;this.Hr="";this.Tk={}},n7:function(){return this.Ks},m7:function(){return this.fI},o7:function(){return this.jx},Yda:function(){return this.jt},Zda:function(){return this.kt},Wda:function(){return this.Hx},Xda:function(){return this.Ix},$da:function(){return this.Jx},Bq:function(a){return-1<this.Hr.indexOf(a)},w:function(){var a=
this.Tk;a["cocos2d.x.version"]=q.bv;a["cocos2d.x.compiled_with_profiler"]=!1;a["cocos2d.x.compiled_with_gl_state_cache"]=q.yG;return!0},d6:function(a,c){var d=this.Tk;return d.hasOwnProperty(a)?d[a]:c},Y5:function(a,c){null==c&&(c=!1);var d=this.Tk;return d.hasOwnProperty(a)?d[a]:c},w7:function(a,c){null==c&&(c=0);var d=this.Tk;return d.hasOwnProperty(a)?d[a]:c},y7:function(a){var c=this.Tk;return c.hasOwnProperty(a)?c[a]:null},tZ:function(a,c){this.Tk[a]=c},LU:function(){0===q.yG&&(q.log(""),q.log("cocos2d: **** WARNING **** CC_ENABLE_PROFILERS is defined. Disable it when you finish profiling (from ccConfig.js)"),
q.log(""))},ZU:function(){if(q.ee!==q.Qg){var a=q.$,c=this.Tk;c["gl.vendor"]=a.getParameter(a.VENDOR);c["gl.renderer"]=a.getParameter(a.RENDERER);c["gl.version"]=a.getParameter(a.VERSION);this.Hr="";for(var d=a.getSupportedExtensions(),e=0;e<d.length;e++)this.Hr+=d[e]+" ";this.Ks=a.getParameter(a.MAX_TEXTURE_SIZE);c["gl.max_texture_size"]=this.Ks;this.jx=a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS);c["gl.max_texture_units"]=this.jx;this.kt=this.Bq("GL_IMG_texture_compression_pvrtc");c["gl.supports_PVRTC"]=
this.kt;this.jt=!1;c["gl.supports_NPOT"]=this.jt;this.Hx=this.Bq("GL_IMG_texture_format_BGRA888");c["gl.supports_BGRA8888"]=this.Hx;this.Ix=this.Bq("GL_EXT_discard_framebuffer");c["gl.supports_discard_framebuffer"]=this.Ix;this.Jx=this.Bq("vertex_array_object");c["gl.supports_vertex_array_object"]=this.Jx;q.lG()}},L$:function(a){var c=q.je.f(),d=c.Se(a),c=c.my(d);if(null!=c)if(c=c.data)for(var e in c)this.Tk[e]=c[e];else q.log("Expected 'data' dict, but not found. Config file: "+a)}});q.gf.ct=null;
q.gf.f=function(){q.gf.ct||(q.gf.ct=new q.gf,q.gf.ct.w());return q.gf.ct};q.gf.Xaa=function(){q.gf.ct=null};q.ei=0;q.pO=0;q.vG=1;q.qO=3;q.rO=q.vG;q.E0=0;q.C0=1;q.F0=2;q.D0=3;q.B0=2;q.I0=q.Ka.extend({Cea:function(){}});q.zG=function(a){var c=new q.ki;q.GW(q.Ev,c);var d=new q.ki;q.GW(q.Dv,d);q.JW(a,c,d)};
q.aa=q.Ka.extend({m3:!1,Os:!1,En:!1,wx:!1,Jn:!1,Lh:0,oC:0,Rl:0,jp:0,rn:1,cs:!1,zl:0,Nw:0,sl:null,ul:null,Al:null,ic:null,Hk:null,Jj:null,px:null,Sh:null,Pj:null,AC:null,Ld:null,Ge:0,mD:0,QC:0,W2:null,jh:null,Kh:null,uf:null,iC:null,nw:null,Ms:null,l3:!1,ctor:function(){this.Hk=Date.now();if(!q.EE){var a=this;window.addEventListener("focus",function(){a.Hk=Date.now()},!1)}},QR:function(){this.Hk=Date.now()},w:function(){this.oC=this.Lh=1/q.lU;this.Pj=[];this.Rl=q.rO;this.AC=null;this.Nw=this.jp=0;
this.cs=!1;this.mD=this.Ge=0;this.Hk=Date.now();this.wx=this.En=!1;this.ic=q.Ln();this.Sh=null;this.rn=1;this.jh=new q.qP;this.Kh=new q.$N;this.jh.pM(this.Kh,q.Hv,!1);q.na&&(this.uf=new q.na,this.uf.w());q.$o&&(this.iC=q.$o.f());q.ll&&(this.nw=new q.ll);q.Ae&&(this.Ms=new q.Ae,this.Ms.w());return!0},ET:function(){var a=Date.now();this.Os?(this.zl=0,this.Os=!1):this.zl=(a-this.Hk)/1E3;0<q.Wu&&.2<this.zl&&(this.zl=1/60);this.Hk=a},bU:function(a){var c=new q.ki;q.zG(c);var d=new q.ki;q.D$(d,c);var c=
c.oi[14]/c.oi[15],e=this.Sh.Iq();a=new q.Xq(2*a.x/e.width-1,1-2*a.y/e.height,c);c=new q.Xq;q.LW(c,a,d);return q.a(c.x,c.y)},dU:function(a){var c=new q.ki;q.zG(c);var d=new q.Xq;a=new q.Xq(a.x,a.y,0);q.LW(d,a,c);c=this.Sh.Iq();return q.a(c.width*(.5*d.x+.5),c.height*(.5*-d.y+.5))},JU:function(){this.ET();this.En||this.jh.update(this.zl);this.DH();this.Jj&&this.sZ();this.lB&&this.lB();this.Ld&&this.Ld.xa();this.px&&this.px.xa();this.cs&&this.AS();this.hB&&this.hB();this.mD++;this.cs&&this.gQ()},oQ:function(){var a=
this.Sh.wf;q.$.clearRect(-a.x,a.y,a.width,-a.height)},vQ:function(){var a=q.$;a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},lB:null,hB:null,bQ:function(){q.Wq()},XP:function(){q.Vq()},end:function(){this.wx=!0},p6:function(){return this.rn},v7:function(){return this.px},i9:function(){return this.ic},MV:function(){return q.size(this.ic.width*this.rn,this.ic.height*this.rn)},Wt:function(){return this.Sh?this.Sh.Wt():this.ic},NK:function(){return this.Sh?this.Sh.NK():q.dP},Yt:function(){return this.ic.height/
1.1566},pause:function(){this.En||(this.oC=this.Lh,this.ru(.25),this.En=!0)},Raa:function(){if(!this.Ld)throw"running scene should not null";this.Pj.pop();var a=this.Pj.length;0==a?this.end():(this.Jn=!0,this.Jj=this.Pj[a-1])},WE:function(){q.rA.WE()},KX:function(){this.Yf().Iu();this.uf&&this.uf.cY();this.Ld&&(this.Ld.qi(),this.Ld.ve(),this.Ld.zg());this.Jj=this.Ld=null;this.Pj=[];this.wN();q.rA.WE();q.Wm.LX();q.Ug.MX();q.da.NX();q.lG()},OX:function(a){if(!a)throw"the scene should not null";this.Jn=
!1;this.Pj.push(a);this.Jj=a},iM:function(a){if(!this.Ld)throw"Use runWithScene: instead to start the director";if(!a)throw"the scene should not be null";var c=this.Pj.length;0===c?(this.Jn=!0,this.Pj[c]=a):(this.Jn=!0,this.Pj[c-1]=a);this.Jj=a},lM:function(){this.En&&(this.ru(this.oC),(this.Hk=Date.now())||q.log("cocos2d: Director: Error in gettimeofday"),this.En=!1,this.zl=0)},wY:function(a){if(!a)throw"This command can only be used to start the CCDirector. There is already a scene present.";if(this.Ld)throw"_runningScene should be null";
this.OX(a);this.uN()},MY:function(a){a?q.$k(q.ff,q.ef):q.$k(q.$.ONE,q.$.ZERO)},WY:function(a){a!=this.rn&&(this.rn=a,this.Gp())},$Y:function(a){if(q.ee!==q.Qg){var c=q.$;a?(c.clearDepth(1),c.enable(c.DEPTH_TEST),c.depthFunc(c.LEQUAL)):c.disable(c.DEPTH_TEST)}},cca:function(){},GM:function(){this.MY(!0);this.$Y(!1);this.lz(this.Rl);q.$.clearColor(0,0,0,1)},Lca:function(a){this.Os=a},sZ:function(){var a=!1,c=!1;q.jH&&(a=this.Ld?this.Ld instanceof q.jH:!1,c=this.Jj?this.Jj instanceof q.jH:!1);if(!c){if(c=
this.Ld)c.qi(),c.ve();this.Jn&&c&&c.zg()}this.Ld=this.Jj;this.Jj=null;a||null==this.Ld||(this.Ld.wh(),this.Ld.hj())},Nca:function(a){this.px=a},Dc:function(){return this.AC},Ig:function(a){this.AC=a},yZ:function(a){this.ic.IF(q.canvas.width);this.ic.vF(q.canvas.height);this.Sh=a||q.la.f();q.ee!==q.Qg&&(a=q.gf.f(),a.ZU(),a.LU(),this.Gp(),this.GM(),this.uf&&this.uf.aZ(!0))},jN:function(){if(this.Sh){var a=this.ic;this.Sh.ZZ(0,0,a.width,a.height)}},lz:function(a){var c=this.ic;if(q.ee===q.rl){this.jN();
switch(a){case q.pO:q.uo(q.Ev);q.JE();var d=new q.ki;q.KW(d,0,c.width,0,c.height,-1024,1024);q.Ky(d);q.uo(q.Dv);q.JE();break;case q.vG:var e=this.Yt(),f=new q.ki,d=new q.ki;q.uo(q.Ev);q.JE();q.E$(f,60,c.width/c.height,.1,2*e);q.Ky(f);q.uo(q.Dv);q.JE();e=q.gu(null,c.width/2,c.height/2,e);c=q.gu(null,c.width/2,c.height/2,0);f=q.gu(null,0,1,0);q.IW(d,e,c,f);q.Ky(d);break;case q.qO:break;default:q.log("cocos2d: Director: unrecognized projection")}this.Rl=a;q.Zca()}else this.Rl=a},AS:function(){this.Ge++;
this.jp+=this.zl;this.sl&&this.ul&&this.Al?(this.jp>q.oO&&(this.ul.ia(this.QC.toFixed(3)),this.Nw=this.Ge/this.jp,this.jp=this.Ge=0,this.sl.ia(this.Nw.toFixed(1)),this.Al.ia((0|q.ei).toString())),this.sl.xa(),this.ul.xa(),this.Al.xa()):this.Gp();q.ei=0},p$:function(){return this.Jn},l8:function(){return this.Ld},S5:function(){return this.Lh},Q9:function(){return this.cs},gca:function(a){this.cs=a},r8:function(){return this.QC},J7:function(){return this.Sh},c$:function(){return this.Os},Iy:function(){return this.En},
Q8:function(){return this.mD},Z7:function(){return this.Rl},Saa:function(){this.xX(1)},xX:function(a){if(!this.Ld)throw"A running Scene is needed";var c=this.Pj,d=c.length;if(0==d)this.end();else if(!(a>d)){for(;d>a;){var e=c.pop();e.pf&&(e.qi(),e.ve());e.zg();d--}this.Jj=c[c.length-1];this.Jn=!1}},Yf:function(){return this.jh},NZ:function(a){this.jh!=a&&(this.jh=a)},Ag:function(){return this.Kh},KY:function(a){this.Kh!=a&&(this.Kh=a)},S8:function(){return this.uf},zda:function(a){this.uf!=a&&(this.uf=
a)},ty:function(){if(!q.$o)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";return this.iC},zca:function(a){if(!q.$o)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";this.iC=a},Hq:function(){if(!q.ll)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";return this.nw},Mba:function(a){if(!q.ll)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";this.nw!=
a&&(this.nw=a)},z6:function(){return this.zl},Wf:function(){if(!q.Ae)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";return this.Ms},Jca:function(a){if(!q.Ae)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.Ms!=a&&(this.Ms=a)},Gp:null,yQ:function(){if(!q.qA)return this.GH();if(null!=q.aa.MH&&0!=q.aa.MH){var a=new q.qc;a.Bf(q.aa.QB);a.te();var c=q.la.f().Iq().height/320;0===c&&(c=this.ic.height/320);var d=new q.qA;
d.SC(!0);d.jm("00.0",a,12,32,".");d.il(c);this.sl=d;d=new q.qA;d.SC(!0);d.jm("0.000",a,12,32,".");d.il(c);this.ul=d;d=new q.qA;d.SC(!0);d.jm("000",a,12,32,".");d.il(c);this.Al=d;a=q.wG;this.Al.o(q.xh(q.a(0,34*c),a));this.ul.o(q.xh(q.a(0,17*c),a));this.sl.o(a)}},GH:function(){var a=0,a=this.ic.width>this.ic.height?0|this.ic.height/320*24:0|this.ic.width/320*24;this.sl=q.O.create("000.0","Arial",a);this.ul=q.O.create("0.000","Arial",a);this.Al=q.O.create("0000","Arial",a);var a=q.wG,c=this.Al.c();this.Al.o(q.xh(q.a(c.width/
2,5*c.height/2),a));c=this.ul.c();this.ul.o(q.xh(q.a(c.width/2,3*c.height/2),a));c=this.sl.c();this.sl.o(q.xh(q.a(c.width/2,c.height/2),a))},gQ:function(){this.QC=(Date.now()-this.Hk)/1E3}});q.Aa.pd?(q.aa.prototype.DH=q.aa.prototype.vQ,q.aa.prototype.lB=q.aa.prototype.bQ,q.aa.prototype.hB=q.aa.prototype.XP,q.aa.prototype.Gp=q.aa.prototype.yQ):(q.aa.prototype.DH=q.aa.prototype.oQ,q.aa.prototype.Gp=q.aa.prototype.GH);
q.sO=q.aa.extend({invalid:!1,uN:function(){this.Os=!0;this.invalid=!1;q.ml.f().ru(this.Lh)},AL:function(){this.wx?(this.wx=!1,this.KX()):this.invalid||this.JU()},wN:function(){this.invalid=!0},ru:function(a){this.Lh=a;this.invalid||(this.wN(),this.uN())}});q.fz=null;q.hK=!0;q.aa.f=function(){q.hK&&(q.hK=!1,q.fz=new q.sO,q.fz.w(),q.fz.yZ(q.la.f()));return q.fz};Object.defineProperties(q,{Sea:{get:function(){return q.CU.ic},enumerable:!0,configurable:!0}});q.H5=!0;q.lU=60;q.aa.QB=new Image;
q.aa.QB.addEventListener("load",function(){q.aa.MH=!0;this.removeEventListener("load",arguments.callee,!1)});q.aa.QB.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAAgCAYAAAD9qabkAAAKQ2lDQ1BJQ0MgcHJvZmlsZQAAeNqdU3dYk/cWPt/3ZQ9WQtjwsZdsgQAiI6wIyBBZohCSAGGEEBJAxYWIClYUFRGcSFXEgtUKSJ2I4qAouGdBiohai1VcOO4f3Ke1fXrv7e371/u855zn/M55zw+AERImkeaiagA5UoU8Otgfj09IxMm9gAIVSOAEIBDmy8JnBcUAAPADeXh+dLA//AGvbwACAHDVLiQSx+H/g7pQJlcAIJEA4CIS5wsBkFIAyC5UyBQAyBgAsFOzZAoAlAAAbHl8QiIAqg0A7PRJPgUA2KmT3BcA2KIcqQgAjQEAmShHJAJAuwBgVYFSLALAwgCgrEAiLgTArgGAWbYyRwKAvQUAdo5YkA9AYACAmUIszAAgOAIAQx4TzQMgTAOgMNK/4KlfcIW4SAEAwMuVzZdL0jMUuJXQGnfy8ODiIeLCbLFCYRcpEGYJ5CKcl5sjE0jnA0zODAAAGvnRwf44P5Dn5uTh5mbnbO/0xaL+a/BvIj4h8d/+vIwCBAAQTs/v2l/l5dYDcMcBsHW/a6lbANpWAGjf+V0z2wmgWgrQevmLeTj8QB6eoVDIPB0cCgsL7SViob0w44s+/zPhb+CLfvb8QB7+23rwAHGaQJmtwKOD/XFhbnauUo7nywRCMW735yP+x4V//Y4p0eI0sVwsFYrxWIm4UCJNx3m5UpFEIcmV4hLpfzLxH5b9CZN3DQCshk/ATrYHtctswH7uAQKLDljSdgBAfvMtjBoLkQAQZzQyefcAAJO/+Y9AKwEAzZek4wAAvOgYXKiUF0zGCAAARKCBKrBBBwzBFKzADpzBHbzAFwJhBkRADCTAPBBCBuSAHAqhGJZBGVTAOtgEtbADGqARmuEQtMExOA3n4BJcgetwFwZgGJ7CGLyGCQRByAgTYSE6iBFijtgizggXmY4EImFINJKApCDpiBRRIsXIcqQCqUJqkV1II/ItchQ5jVxA+pDbyCAyivyKvEcxlIGyUQPUAnVAuagfGorGoHPRdDQPXYCWomvRGrQePYC2oqfRS+h1dAB9io5jgNExDmaM2WFcjIdFYIlYGibHFmPlWDVWjzVjHVg3dhUbwJ5h7wgkAouAE+wIXoQQwmyCkJBHWExYQ6gl7CO0EroIVwmDhDHCJyKTqE+0JXoS+cR4YjqxkFhGrCbuIR4hniVeJw4TX5NIJA7JkuROCiElkDJJC0lrSNtILaRTpD7SEGmcTCbrkG3J3uQIsoCsIJeRt5APkE+S+8nD5LcUOsWI4kwJoiRSpJQSSjVlP+UEpZ8yQpmgqlHNqZ7UCKqIOp9aSW2gdlAvU4epEzR1miXNmxZDy6Qto9XQmmlnafdoL+l0ugndgx5Fl9CX0mvoB+nn6YP0dwwNhg2Dx0hiKBlrGXsZpxi3GS+ZTKYF05eZyFQw1zIbmWeYD5hvVVgq9ip8FZHKEpU6lVaVfpXnqlRVc1U/1XmqC1SrVQ+rXlZ9pkZVs1DjqQnUFqvVqR1Vu6k2rs5Sd1KPUM9RX6O+X/2C+mMNsoaFRqCGSKNUY7fGGY0hFsYyZfFYQtZyVgPrLGuYTWJbsvnsTHYF+xt2L3tMU0NzqmasZpFmneZxzQEOxrHg8DnZnErOIc4NznstAy0/LbHWaq1mrX6tN9p62r7aYu1y7Rbt69rvdXCdQJ0snfU6bTr3dQm6NrpRuoW623XP6j7TY+t56Qn1yvUO6d3RR/Vt9KP1F+rv1u/RHzcwNAg2kBlsMThj8MyQY+hrmGm40fCE4agRy2i6kcRoo9FJoye4Ju6HZ+M1eBc+ZqxvHGKsNN5l3Gs8YWJpMtukxKTF5L4pzZRrmma60bTTdMzMyCzcrNisyeyOOdWca55hvtm82/yNhaVFnMVKizaLx5balnzLBZZNlvesmFY+VnlW9VbXrEnWXOss623WV2xQG1ebDJs6m8u2qK2brcR2m23fFOIUjynSKfVTbtox7PzsCuya7AbtOfZh9iX2bfbPHcwcEh3WO3Q7fHJ0dcx2bHC866ThNMOpxKnD6VdnG2ehc53zNRemS5DLEpd2lxdTbaeKp26fesuV5RruutK10/Wjm7ub3K3ZbdTdzD3Ffav7TS6bG8ldwz3vQfTw91jicczjnaebp8LzkOcvXnZeWV77vR5Ps5wmntYwbcjbxFvgvct7YDo+PWX6zukDPsY+Ap96n4e+pr4i3z2+I37Wfpl+B/ye+zv6y/2P+L/hefIW8U4FYAHBAeUBvYEagbMDawMfBJkEpQc1BY0FuwYvDD4VQgwJDVkfcpNvwBfyG/ljM9xnLJrRFcoInRVaG/owzCZMHtYRjobPCN8Qfm+m+UzpzLYIiOBHbIi4H2kZmRf5fRQpKjKqLupRtFN0cXT3LNas5Fn7Z72O8Y+pjLk722q2cnZnrGpsUmxj7Ju4gLiquIF4h/hF8ZcSdBMkCe2J5MTYxD2J43MC52yaM5zkmlSWdGOu5dyiuRfm6c7Lnnc8WTVZkHw4hZgSl7I/5YMgQlAvGE/lp25NHRPyhJuFT0W+oo2iUbG3uEo8kuadVpX2ON07fUP6aIZPRnXGMwlPUit5kRmSuSPzTVZE1t6sz9lx2S05lJyUnKNSDWmWtCvXMLcot09mKyuTDeR55m3KG5OHyvfkI/lz89sVbIVM0aO0Uq5QDhZML6greFsYW3i4SL1IWtQz32b+6vkjC4IWfL2QsFC4sLPYuHhZ8eAiv0W7FiOLUxd3LjFdUrpkeGnw0n3LaMuylv1Q4lhSVfJqedzyjlKD0qWlQyuCVzSVqZTJy26u9Fq5YxVhlWRV72qX1VtWfyoXlV+scKyorviwRrjm4ldOX9V89Xlt2treSrfK7etI66Trbqz3Wb+vSr1qQdXQhvANrRvxjeUbX21K3nShemr1js20zcrNAzVhNe1bzLas2/KhNqP2ep1/XctW/a2rt77ZJtrWv913e/MOgx0VO97vlOy8tSt4V2u9RX31btLugt2PGmIbur/mft24R3dPxZ6Pe6V7B/ZF7+tqdG9s3K+/v7IJbVI2jR5IOnDlm4Bv2pvtmne1cFoqDsJB5cEn36Z8e+NQ6KHOw9zDzd+Zf7f1COtIeSvSOr91rC2jbaA9ob3v6IyjnR1eHUe+t/9+7zHjY3XHNY9XnqCdKD3x+eSCk+OnZKeenU4/PdSZ3Hn3TPyZa11RXb1nQ8+ePxd07ky3X/fJ897nj13wvHD0Ivdi2yW3S609rj1HfnD94UivW2/rZffL7Vc8rnT0Tes70e/Tf/pqwNVz1/jXLl2feb3vxuwbt24m3Ry4Jbr1+Hb27Rd3Cu5M3F16j3iv/L7a/eoH+g/qf7T+sWXAbeD4YMBgz8NZD+8OCYee/pT/04fh0kfMR9UjRiONj50fHxsNGr3yZM6T4aeypxPPyn5W/3nrc6vn3/3i+0vPWPzY8Av5i8+/rnmp83Lvq6mvOscjxx+8znk98ab8rc7bfe+477rfx70fmSj8QP5Q89H6Y8en0E/3Pud8/vwv94Tz+4A5JREAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfcAgcQLxxUBNp/AAAQZ0lEQVR42u2be3QVVZbGv1N17829eRLyIKAEOiISEtPhJTJAYuyBDmhWjAEx4iAGBhxA4wABbVAMWUAeykMCM+HRTcBRWkNH2l5moS0LCCrQTkYeQWBQSCAIgYRXEpKbW/XNH5zS4noR7faPEeu31l0h4dSpvc+t/Z199jkFWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhY/H9D/MR9qfKnLj/00U71aqfJn9+HCkCR/Wk36ddsgyJ/1wF4fkDfqqm9/gPsUeTnVr6a2xlQfnxdI7zs0W7irzD17Ytb2WT7EeNv/r4ox1O3Quf2QP2pgt9utwfout4FQE8AVBSlnaRmfvAURQkg2RlAbwB9AThlW5L0GaiKojhJhgOIBqDa7XaPrusdPtr5kQwF0BVAAoBIABRCKDd5aFUhRDAAw57eAOwAhKIoupft3zoqhB1AqLwuHIBut9uFt02qqvqRDJR2dAEQJj/BAOjn56dqmma+xiaECAEQAWAggLsB6A6HQ2iaZggBhBAqgEAAnQB0kzaEmT4hAITT6VQ8Ho/HJAKKECJQtr8LwD1y/A1/vcdfEUIEyfZ9AcQbYvZ942Px88L2UwlJR0dH0EMPPbRj5syZPUeNGrXR7Xb/641xIwJ1XY9NSUlZm52dfW+XLl1w8uRJzJ8//+OGhoYJqqqe1TSt1Wsm9NN1PSIqKmr12rVrR5WUlHy1bdu2AQCumWc3IYRD1/UwVVXnFRQUTIuNjUVzczN2797dWFJSkq8oymZd15sAGAEnFEUJ1nX9nzIzM1dnZmZGh4SE4OTJk5g5c+Zf29vbp9pstrMej6fVOyhIhgAYU1hY+B+hoaGoqKg4XVlZea+XTULTNFdCQsLGiRMnPuR2u3UhBOV9eeDAAWXTpk095DUe6WsoyRE5OTlr0tLSAux2O/bs2cO5c+e+pijKUpIXSHaQVAGkvPLKK++6XK4OksJLCFlXV2cvKSlJBFAjhU+x2WwhHo9nUHp6+urMzMy7wsLCUF9fjxdffPHjxsbGiTab7WuPx9NiEutOuq4PyMjI+M+srKyYqKgoHD58GDNmzNjq8XhyVFU9b/q+LH7hBAEYu3PnTlZVVRFAGgCX6f/tAHoOHDjwa0p27txp/JO9e/f+QM7cipw9nfL3kQBKt2zZQpJ87rnn6mQmoHilw2EACs+cOUOSrK+vZ1NTE0nyo48+IoBpxswoBcMJ4Ndjx471kOTFixe5d+9ekqTH42H//v13A4jyzpAURfEH0H/OnDnthu1z5sw558MmFUCPWbNmnaMP3nrrLZoyDmP8Hl68eDFJ8siRI9/Yc+zYMQKYKdtAztrTrl27xptRXV1NAKMAOAyBBBA/Y8aMdpLs6Ojgxx9//E37+++//29yvFXppwvAwMcee8xjtDHsuXLlCqOjo//ia3wsfpkoALqFhoZuIckJEyackimm3dQmEMDUmpoakmRISMhhAHOHDx/eQJIbN24kgKEyMAHAFRMTs2XXrl1saWkhSZ0kp0+ffhrAr3wEW/S8efOukORLL72kA1gKYMPWrVtJkk899dRJAHeYrgsEsIQkjx8/TgDvAPjd448/3kaSb7zxBmUa7vC6z53BwcFbSHL9+vU6Sc6aNes8gF5ewWAH0PfVV18lSQL4DMBGIcQ6AKtcLleBFC2jXtFt8ODBe0iyoqKCAJYByC8qKmJDQwOzsrK+MAmqo1OnTveHhoa+GRkZ+XZkZOSWiIiIvzgcjk9mzpypkWRmZuZpmbYbGV4AgPnNzc1sa2sjgN0A5iQmJtaSZHl5OQHcb/K3s81mW0uSTU1NBFAFYFbfvn1Pk+Tbb79NAA8IIVzW42/hByA+Pz/fLR/2ZXIda05NI/z9/TeR5J49ewhgqlxTrtI0jY2NjQQw3zTLuWJiYjaUlJToS5Ys6fjkk080kwDEeAmADcA9GzZsIElGRUW9CyAWwLApU6Y0kOSKFSsog9QICGdERMTGsrIyZmVlEcC9AB4IDw/fTpLbtm0jgN94CUAnAJmVlZVcs2aNZ/LkyRdJcvbs2b4EwAkgZfPmzTxw4AABFAN4BkC6vFeUSewcAO5duXIlSTIhIaEawGMAxgKYAmAGgCS73e5vrKVk/yGythANYEhCQsIhkly+fDkBpKqqGmL6DgIALDKN/3yZpVWQZGVlJQE8aPI3KiMjo5okV61aRQAjAPQBMPfIkSN0u90EUCBtsPiFEwpgbn19PdetW2fM5N4zQ9ekpKQqkty0aRMBpMjiWM6JEydIkoqirJUFJ6iq6pAPVy8A6cZMehMBUACEuVyuFwG8HBwcPEIWx367ZMkSjSQXLVrUJouTRorrkAHdA8BdQogsAOsKCwtJkmPGjDkvMw2bDDo/ADEjRoz4XylyFbm5uY0mAbjLyyZ/AOOrq6tZVlbWsWDBgo69e/eyoqKCgwcPPg4gSQaoIRbp27dvN7KF+tLSUr28vJwFBQXtMpvpYRIM7+wrAkDeqVOnePbsWQIoNKfzpiXPg8uXLydJJicnNwF4f+nSpW6STEtLq5fjYwhk1wkTJtSQ5Ouvv04AqTKj+N2xY8dIkgEBAW/Ie1v8wncRegwZMmQvSfbr12+3Ua33WqPfOWbMmP0kWVpaSgCDZAqcfejQIWNZsEGKgvnh9gfQb9myZd8nAEJVVZtMkUNk8CcNHTq0liR1XWdYWNhmH1mJIme80OnTp18x1rp5eXkEsNJms92Fb7e/IgEsvHz5Mp999tkmAI/l5uZeMC0B7vEqqAYAyL106RJJsra2lpWVld+sucePH38ZQG+5NncBeOrgwYMkqbe3t/Po0aOsra011wAWyl0H7x0JJ4DE+fPnu0kyPT29DsDdUrBuyNKEEAkAdpw/f/6GeoEM8GUmfwEgPCIiopwkGxsbabPZPgOw6L777vvm4p49e26VGYjFLxUhhD+ApLKyMp44ccIoVnXybgbgzkcfffRzklyzZg0BDJYCMMmoCwQFBXkLgLGWvvcWAgBToSsKwNPTp09vMR7UuLi4rwH0lgU8c/Db5ezbeeTIkRWzZ8++aMxu+fn5BPCADBwHgP4LFy701NXVEUAJgAnPP/98kyxMNgHo53A4zH77BQQETMvPz7+Um5vbBuAlAFMSExPPmdbVL0qh8Acw8fDhw5SCchVAEYAVb775JknyhRdeaJYztHfxMwLAaqNwCGC2FArv8x0hAHKNLGPKlCme5OTk/Zs3bzb7O0wKiiG8KXl5ed8IxenTp0mSR48e1UmyW7duWywBuD2xyQcgFECgoih+8H1gyJgZV5Lkyy+/3CbTRIePtl2HDBmyw1QBHyGDdXZdXR1JUghRKkXBjOMHCoBdpr0L3nvvPZLkF198wejo6O0A4lVVDTb74HQ6AwD8Wq7Jh8rgGgDgQ13XjVR8qaxJuADMbmlpYXl5uV5UVNRWUFDgfv/993Vj/ZydnU1c37eHXML4S3viAcQqitJD2l104cIFY8lTKsXSBWBMVVWVcd9yed2A1NTUQ6Zl00CvLMMOoHdubm6zFIlWOf5+PsY/Kj09vdrU11QAwwGsv3jxIk21m2DZr10I0RXAuAcffPBgaWkpV69eTYfDcdiwUxY0w6xw+flX8L1xApjevXv3lREREaW6rofB93aPDUDQpEmTMgHgtddeqwBwEd/utZvpqK6uPgEAcXFxkA94NwB9unfvjrNnz4LklwDcf08iIqv66Zs2bXrl4YcfxooVKxAbG7uqrq5uAYA2TdOEqqpGYIi2tjbl6aeffu/YsWPv5uTk7JaC1wHg4Pnz542MwoVvTx+21dbWYvjw4WLixIl+2dnZ9lGjRgmSTE1NRUpKCkwFTGiaxtTU1OXTpk3707Bhw/6g67pDipnT4biuj7qut+Lbk3Vf1tTUXI9qu91Pjq1QFEUBgJaWFgBo8yGOQ8eNGxcAAOvXr/8QwBUfYygAKL169eoCABcuXACAWtn2hOGv0+kMNO1KiPDw8F4A4rZv3/7R1KlTR0+bNu1ht9u9r1+/fqitrQXJgwDarRC6/QjPzs4+QJIffPCB9/aQmSAA43ft2mW0e1QGoi8CAPyLsZccExNTC2BlRkbGRdOyYJCP2csBIN6UAZzCd7cBbQCijYp/dXU1ExMTz6SmptaMHj36f9LS0vYlJCRsl6mxIWSdu3fv/g5J7t+/nwC2AShMTk6+SJKff/45AWRLYbD7+fndAeDf5BJnLoCCyZMnt5JkdnZ2C4B/F0KEm1Pu+Pj4rST55ZdfEsBWAK+mpaVdMo3raDn7KwDuSEpK+m+S3LBhAwG8DuCtHTt2UBbpjgC408vvcFVV15HkuXPnjMp+p5uMf0RcXNyHJNnQ0EBVVfcCWBQXF3fG+Jv0yxABPwB5LS0tRmFxN4BlTzzxxGWSXLx4sS5F3GGFy+1Hp5SUlJq6ujoWFxdTpsZ2H+0iIyMj/0iSWVlZX5mr5jfJFroPGzasxlhTnjp1iiTZ3NxMl8tlrCd9pfa9SkpKSJI5OTmnZOageLUZZqxvfVFWVkZcPwdgNwnSCKPqb17jkmR8fPzfZMDZ5CRsFBmNI7h95s2b1yhT7/MAYmStwCx4vy0uLqa3v5qmEcCfvSr1QQAeXb16NY3Cm3HQ55133iGAp+SxZTNhKSkpfzUddkrFjYevzAQCeGjp0qXfsYckY2NjTwD4leGDLCL2HTdunNtoY+zWSHFcIHdsFCtcfuZ1vO9Eqs3m7/F47sb1k2qX/f3997W2tl7BjWfpBYDOzzzzzIVJkyZh0KBBCwEsB3AJvl9AETabLcDj8dwRFRW1ctasWb8JCgpSzp07d62wsPC/Wltb8xRFadR1/ZqPXYbgAQMGbI2Pjw/+6quv9ldVVT0r01ezuPRJSUn5Y9euXXVd11WzDaqq6kePHm3+7LPPRgO4KlNuxWazhXo8nuTk5OSXMjIyEl0uFxoaGtqKior+dPXq1VdUVT0jj7r68ieoT58+vx8yZMjdx48fP1JVVTVF9m20VW02WyfZf97YsWPjXS4X6urqWvPy8jYCWCyEuEDS8FdVFKWzruv//OSTTy5OTk7uqWkaPv3007qysrJ8RVH+LI8ym8/rB3Tu3HnRI488knLo0KG2ffv2ZQI4C98vP6mqqoZqmpaclpa2cOTIkX39/f3R0NDQUVxc/G5TU9PLqqrWa5rWLH1QVFUN0TStX1JSUvH48eP7BwYG4uDBg1cKCgpeBbBe2u+2Qug2EwD5N5sMPuNtMe8XP4TT6Qxoa2sbIGeXvUKIK7d4IISiKC5d1wPljOfA9bPwzYqiXNV13dd6Uqiq6qdpml2mpe02m63d4/G4vcTF5fF47LJf71nJA6BZVVW3pmntuPHlmAD5wk6Q9NnbHp9vHaqq6tA0zU/64PZhk1FfCZB9G/23ALiqKEqzD39tpvbGUqoFwFUhRLP3yzpCCDtJpxyXDulfG27+pqRR3DXsUWVd4Yq0x/taVQjhIhksC8L+ABpM9ljBf5sKwI8pIBr75L5E4vvu+UNeG/a+hv+AL7yFH8qPtOfHjtOP6V/Bja8D6z/B2Nys/1u9Xv33tLf4GfF/LC4GCJwByWIAAAAASUVORK5CYII=";q.tr=q.Ka.extend({rs:null,ss:null,ts:null,Ap:null,Bp:null,Cp:null,ut:null,vt:null,wt:null,Oa:null,fx:null,ctor:function(){this.fx=new q.ki;this.restore()},description:function(){return"<CCCamera | center =("+this.Ap+","+this.Bp+","+this.Cp+")>"},Ah:function(a){this.Oa=a},hL:function(){return this.Oa},restore:function(){this.rs=this.ss=0;this.ts=q.tr.Yt();this.ut=this.Ap=this.Bp=this.Cp=0;this.vt=1;this.wt=0;q.C$(this.fx);this.Oa=!1},wL:function(){if(this.Oa){var a=new q.Xq,c=new q.Xq,d=new q.Xq;q.gu(a,
this.rs,this.ss,this.ts);q.gu(c,this.Ap,this.Bp,this.Cp);q.gu(d,this.ut,this.vt,this.wt);q.IW(this.fx,a,c,d);this.Oa=!1}q.Ky(this.fx)},mca:function(a,c,d){this.DM(a,c,d)},DM:function(a,c,d){this.rs=a;this.ss=c;this.ts=d;this.Oa=!0},Vba:function(a,c,d){this.SY(a,c,d)},SY:function(a,c,d){this.Ap=a;this.Bp=c;this.Cp=d;this.Oa=!0},Ada:function(a,c,d){this.XZ(a,c,d)},XZ:function(a,c,d){this.ut=a;this.vt=c;this.wt=d;this.Oa=!0},J6:function(){return{x:this.rs,y:this.ss,z:this.ts}},tK:function(){return{x:this.rs,
y:this.ss,z:this.ts}},g6:function(){return{x:this.Ap,y:this.Bp,z:this.Cp}},rK:function(){return{x:this.Ap,y:this.Bp,z:this.Cp}},X8:function(){return{x:this.ut,y:this.vt,z:this.wt}},LV:function(){return{x:this.ut,y:this.vt,z:this.wt}},K2:function(){}});q.tr.Yt=function(){return q.wv};q.Hv=-2147483648;q.I1=q.Hv+1;q.Tu=function(a,c){if(a&&0<a.length)for(var d=0;d<a.length;d++)if(!(a[d]instanceof c)){q.log("element type is wrong!");break}};q.qr=function(a,c){a.splice(c,1)};q.ie=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c){a.splice(d,1);break}};q.l0=function(a,c){for(var d=0,e=c.length;d<e;d++)q.ie(a,c[d])};q.k0=function(a,c){return a.indexOf(c)};q.i0=function(a,c){a.push(c)};q.Xm=function(a,c,d){a.splice(d,0,c);return a};
q.j0=function(a,c,d){a.splice.apply(a,[d,0].concat(c));return a};q.Uz=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c)return d;return-1};q.Sz=function(a,c){return-1!=a.indexOf(c)};q.c1=function(a,c){if(null==a)return null;for(var d=0;d<a.length;d++)if(a[d].target===c)return a[d];return null};q.EG=function(a,c,d){this.next=null;this.target=a;this.YL=c;this.paused=d;this.rm=!1};q.AG=function(a,c,d){this.list=a;this.no=c;this.target=d;this.hh=null};
q.DO=function(a,c){this.Mg=null;this.target=a;this.lr=0;this.It=this.Ht=null;this.paused=c;this.hh=null};
q.Yv=q.Ka.extend({Gk:0,ug:null,Y:null,Cc:0,CI:!1,Zx:!1,sq:0,IC:0,Fw:0,ctor:function(){},e7:function(){return this.Gk},setInterval:function(){},s8:function(){return this.ug},qh:function(a,c,d,e,f){this.Y=a;this.ug=c;this.Cc=-1;this.Gk=d||0;this.Fw=f||0;this.Zx=0<this.Fw;this.IC=null==e?q.bn:e;this.CI=this.IC==q.bn;return!0},oB:function(){if("string"==typeof this.ug)this.Y[this.ug](this.Cc);else this.ug.call(this.Y,this.Cc)},update:function(a){if(-1==this.Cc)this.sq=this.Cc=0;else{var c=this.Y,d=this.ug;
this.CI&&!this.Zx?(this.Cc+=a,this.Cc>=this.Gk&&(c&&d&&this.oB(),this.Cc=0)):(this.Cc+=a,this.Zx?this.Cc>=this.Fw&&(c&&d&&this.oB(),this.Cc-=this.Fw,this.sq+=1,this.Zx=!1):this.Cc>=this.Gk&&(c&&d&&this.oB(),this.Cc=0,this.sq+=1),this.sq>this.IC&&q.aa.f().Yf().HN(c,d))}}});q.Yv.oea=function(a,c,d){if(2>arguments.length)throw Error("timerWithTarget'argument can't is null");var e=new q.Yv;e.qh(a,c,d||0,q.bn,0);return e};q.y3=null;
q.qP=q.Ka.extend({nt:1,ai:null,Ti:null,nh:null,Ck:null,qw:null,Bk:null,S2:null,Jf:null,Bj:!1,Wx:!1,ctor:function(){this.nt=1;this.ai=[];this.Ti=[];this.nh=[];this.Ck={};this.qw=[];this.Bk={};this.vl=[];this.Jf=null;this.Wx=this.Bj=!1},HC:function(a){delete this.Bk[a.target.Bc];q.ie(this.vl,a);a.Yv=null;a.target=null},Y2:function(a,c){for(var d=0;d<a.length;d++)if(a[d].target==c)return a[d];return null},yx:function(a){if(a=this.Ck[a.target.Bc])q.ie(a.list,a.no),delete this.Ck[a.target.Bc],q.ie(this.qw,
a),a.no=null,a.target=null},uI:function(a,c,d,e){e=new q.EG(c,d,e);if(a){for(var f=!1,g=0;g<a.length;g++)if(d<a[g].YL){a=q.Xm(a,e,g);f=!0;break}f||a.push(e)}else a=[],a.push(e);d=new q.AG(a,e,c);this.qw.push(d);this.Ck[c.Bc]=d;return a},$P:function(a,c,d){d=new q.EG(c,0,d);a.push(d);a=new q.AG(a,d,c);this.qw.push(a);this.Ck[c.Bc]=a},uda:function(a){this.nt=a},L8:function(){return this.nt},update:function(a){this.Wx=!0;1!=this.nt&&(a*=this.nt);var c,d;for(d=0;d<this.ai.length;d++)c=this.ai[d],c.paused||
c.rm||c.target.update(a);for(d=0;d<this.Ti.length;d++)c=this.Ti[d],c.paused||c.rm||c.target.update(a);for(d=0;d<this.nh.length;d++)c=this.nh[d],c.paused||c.rm||c.target.update(a);for(d=0;d<this.vl.length;d++){c=this.Jf=this.vl[d];this.Bj=!1;if(!this.Jf.paused)for(c.lr=0;c.lr<c.Mg.length;c.lr++)c.Ht=c.Mg[c.lr],c.It=!1,c.Ht.update(a),c.Ht=null;this.Bj&&0==this.Jf.Mg.length&&this.HC(this.Jf)}for(d=0;d<this.ai.length;d++)this.ai[d].rm&&this.yx(this.ai[d]);for(d=0;d<this.Ti.length;d++)this.Ti[d].rm&&this.yx(this.Ti[d]);
for(d=0;d<this.nh.length;d++)this.nh[d].rm&&this.yx(this.nh[d]);this.Wx=!1;this.Jf=null},AY:function(a,c,d,e,f,g){if(!c)throw"cc.scheduler.scheduleCallbackForTarget(): callback_fn should be non-null.";if(!a)throw"cc.scheduler.scheduleCallbackForTarget(): target should be non-null.";d=d||0;e=null==e?q.bn:e;f=f||0;g=g||!1;var h=this.Bk[a.Bc];h||(h=new q.DO(a,g),this.vl.push(h),this.Bk[a.Bc]=h);if(null==h.Mg)h.Mg=[];else for(var k=0;k<h.Mg.length;k++)if(g=h.Mg[k],c==g.ug){q.log("CCSheduler#scheduleCallback. Callback already scheduled. Updating interval from:"+
g.Gk.toFixed(4)+" to "+d.toFixed(4));g.Gk=d;return}g=new q.Yv;g.qh(a,c,d,e,f);h.Mg.push(g)},pM:function(a,c,d){var e=this.Ck[a.Bc];e?e.no.rm=!1:0==c?this.$P(this.Ti,a,d):0>c?this.ai=this.uI(this.ai,a,c,d):this.nh=this.uI(this.nh,a,c,d)},HN:function(a,c){if(null!=a&&null!=c){var d=this.Bk[a.Bc];if(null!=d)for(var e=0;e<d.Mg.length;e++){var f=d.Mg[e];if(c==f.ug){f!=d.Ht||d.It||(d.It=!0);q.qr(d.Mg,e);d.lr>=e&&d.lr--;0==d.Mg.length&&(this.Jf==d?this.Bj=!0:this.HC(d));break}}}},mr:function(a){null!=a&&
(a=this.Ck[a.Bc],null!=a&&(this.Wx?a.no.rm=!0:this.yx(a.no)))},GN:function(a){if(null!=a){var c=this.Bk[a.Bc];c&&(!c.It&&q.Sz(c.Mg,c.Ht)&&(c.It=!0),c.Mg.length=0,this.Jf==c?this.Bj=!0:this.HC(c));this.mr(a)}},Iu:function(){this.F_(q.Hv)},F_:function(a){var c;for(c=0;c<this.vl.length;c++)this.GN(this.vl[c].target);if(0>a)for(c=0;c<this.ai.length;c++)this.mr(this.ai[c].target);if(0>=a)for(c=0;c<this.Ti.length;c++)this.mr(this.Ti[c].target);for(c=0;c<this.nh.length;c++)this.nh[c].YL>=a&&this.mr(this.nh[c].target)},
Paa:function(){return this.sX(q.Hv)},sX:function(a){var c=[],d,e;for(d=0;d<this.vl.length;d++)if(e=this.vl[d])e.paused=!0,c.push(e.target);if(0>a)for(d=0;d<this.ai.length;d++)if(e=this.ai[d])e.paused=!0,c.push(e.target);if(0>=a)for(d=0;d<this.Ti.length;d++)if(e=this.Ti[d])e.paused=!0,c.push(e.target);for(d=0;d<this.nh.length;d++)if(e=this.nh[d])e.paused=!0,c.push(e.target);return c},sY:function(a){if(a)for(var c=0;c<a.length;c++)this.Ko(a[c])},mu:function(a){if(!a)throw"cc.Scheduler.pauseTarget():target should be non-null";
var c=this.Bk[a.Bc];c&&(c.paused=!0);if(a=this.Ck[a.Bc])a.no.paused=!0},Ko:function(a){if(!a)throw"cc.Scheduler.resumeTarget():target should be non-null";var c=this.Bk[a.Bc];c&&(c.paused=!1);if(a=this.Ck[a.Bc])a.no.paused=!1},t$:function(a){if(!a)throw"cc.Scheduler.isTargetPaused():target should be non-null";return(a=this.Bk[a.Bc])?a.paused:!1}});q.BA={IMAGE:["png","jpg","bmp","jpeg","gif"],SOUND:["mp3","ogg","wav","mp4","m4a"],XML:["plist","xml","fnt","tmx","tsx"],BINARY:["ccbi"],FONT:"FONT",TEXT:["txt","vsh","fsh","json","ExportJson"],UNKNOW:[]};
q.bc=q.Ka.extend({Hp:0,qt:0,Is:0,Gn:null,Lh:1/60,Gk:null,ZH:!1,ctor:function(){this.Gn=[]},Ey:function(a,c,d){if(a){c&&(this.ug=c,this.Y=d);if(a!=this.Gn||0==this.Hp){this.Is=this.Hp=0;if(a[0]instanceof Array)for(c=0;c<a.length;c++)this.Gn=this.Gn.concat(a[c]);else this.Gn=a;this.qt=this.Gn.length}this.WR()}else console.log("resources should not null")},OY:function(a){this.ZH=a},tm:function(a){this.Is++;q.log("cocos2d:Failed loading resource: "+a)},Gg:function(){this.Is++},uy:function(){var a=0;return a=
0==this.qt?100:0|this.Is/this.qt*100},$X:function(a){if(a&&0<a.length)for(var c=q.da.f(),d=q.Ob?q.Ob.f():null,e=q.pl.f(),f=q.je.f(),g,h=0;h<a.length;h++){g=a[h];var k=this.QH(g);switch(k){case "IMAGE":c.lY(g.src);break;case "SOUND":if(!d)throw"Can not find AudioEngine! Install it, please.";d.XF(g.src);break;case "XML":e.D_(g.src);break;case "BINARY":f.C_(g.src);break;case "TEXT":f.E_(g.src);break;case "FONT":break;default:throw"cocos2d:unknown filename extension: "+k;}}},zR:function(){this.Xx();if(this.ZH){var a=
q.aa.f().Nw;if(null!=a&&20>a){q.log("cocos2d: frame rate less than 20 fps, skip frame.");return}}this.Hp<this.qt&&(this.eR(),this.Hp++)},eR:function(){var a=q.da.f(),c=q.Ob?q.Ob.f():null,d=q.pl.f(),e=q.je.f(),f=this.Gn[this.Hp],g=this.QH(f);switch(g){case "IMAGE":a.pa(f.src);break;case "SOUND":if(!c)throw"Can not find AudioEngine! Install it, please.";c.Xy(f.src);break;case "XML":d.FX(f.src);break;case "BINARY":e.DX(f.src);break;case "TEXT":e.GX(f.src);break;case "FONT":this.CR(f);break;default:throw"cocos2d:unknown filename extension: "+
g;}},WR:function(){var a=this;this.Gk=setInterval(function(){a.zR()},1E3*this.Lh)},PS:function(){clearInterval(this.Gk)},QH:function(a){if(null!=a.Ot)return q.BA.FONT;a=a.src;a=a.substring(a.lastIndexOf(".")+1,a.length);var c=a.indexOf("?");0<c&&(a=a.substring(0,c));for(var d in q.BA)if(-1!=q.BA[d].indexOf(a))return d;return a},Xx:function(){100<=this.uy()&&(this.PS(),this.wQ())},wQ:function(){if(this.Y&&"string"==typeof this.ug)this.Y[this.ug](this);else this.Y&&"function"==typeof this.ug?this.ug.call(this.Y,
this):this.ug(this);this.qt=this.Is=this.Hp=0},CR:function(a){var c=a.src,d=q.je.f();if(c&&0<c.length){var e=document.createElement("style");e.type="text/css";document.body.appendChild(e);for(var f="@font-face { font-family:"+a.Ot+"; src:",g=0;g<c.length;g++)f+="url('"+d.Se(encodeURI(c[g].src))+"') format('"+c[g].type+"')",f+=g==c.length-1?";":",";e.textContent+=f+"};";c=document.createElement("div");c.style.fontFamily=a.Ot;c.innerHTML=".";c.style.position="absolute";c.style.left="-100px";c.style.top=
"-100px";document.body.appendChild(c)}q.bc.f().Gg()},s3:function(a,c){var d=document.createElement("style");d.type="text/css";document.body.appendChild(d);d.textContent+="@font-face {font-family:"+a+";src: url(data:font/ttf;base64,"+c+") format('truetype');};";d=document.createElement("div");d.style.fontFamily=a;d.innerHTML="ajghl~!";d.style.position="absolute";d.style.left="-100px";d.style.top="-100px";document.body.appendChild(d);q.bc.f().Gg()},C3:function(){}});
q.bc.dr=function(a,c,d){this.jb||(this.jb=new q.bc);this.jb.Ey(a,c,d);return this.jb};q.bc.Taa=function(a,c,d){this.jb||(this.jb=new q.bc);this.jb.OY(!0);this.jb.Ey(a,c,d);return this.jb};q.bc.WE=function(a){this.jb&&this.jb.$X(a)};q.bc.f=function(){this.jb||(this.jb=new q.bc);return this.jb};q.bc.jb=null;
q.sA=q.yr.extend({ex:null,aq:null,Mx:null,sw:null,$w:null,BD:null,ctor:function(){q.yr.prototype.ctor.call(this);this.BD=q.aa.f().ic},w:function(){q.yr.prototype.w.call(this);var a=q.a(this.BD.width/2,this.BD.height/2);this.aq=new Image;var c=this;this.aq.addEventListener("load",function(){c.QQ(a);this.removeEventListener("load",arguments.callee,!1)});this.aq.src="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAAlAAD/4QMpaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjAtYzA2MCA2MS4xMzQ3NzcsIDIwMTAvMDIvMTItMTc6MzI6MDAgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjM4MDBEMDY2QTU1MjExRTFBQTAzQjEzMUNFNzMxRkQwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjM4MDBEMDY1QTU1MjExRTFBQTAzQjEzMUNFNzMxRkQwIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzUgV2luZG93cyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU2RTk0OEM4OERCNDExRTE5NEUyRkE3M0M3QkE1NTlEIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU2RTk0OEM5OERCNDExRTE5NEUyRkE3M0M3QkE1NTlEIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+/+4ADkFkb2JlAGTAAAAAAf/bAIQADQkJCQoJDQoKDRMMCwwTFhENDREWGhUVFhUVGhkUFhUVFhQZGR0fIB8dGScnKionJzk4ODg5QEBAQEBAQEBAQAEODAwOEA4RDw8RFA4RDhQVERISERUfFRUXFRUfKB0ZGRkZHSgjJiAgICYjLCwoKCwsNzc1NzdAQEBAQEBAQEBA/8AAEQgAyACgAwEiAAIRAQMRAf/EALAAAAEFAQEAAAAAAAAAAAAAAAQAAgMFBgcBAQEAAwEBAAAAAAAAAAAAAAAAAQMEAgUQAAIBAgIEBwoLBgQGAwAAAAECAwAEEQUhMRIGQVFxsTITFGGBwdEiQlKSMzWRoeFicqKyI1NzFYJjJDQWB9KjVCbxwkNkJWXik3QRAAIBAgMFBQcDBQEAAAAAAAABAhEDIRIEMUFRcTJhwVIUBZGhsSJyEzOB0ULhYpIjUxX/2gAMAwEAAhEDEQA/AMJSpUqAVKlXuFAeUq9wpUB5XuFe4V6ooDzZHDox0CnGMinzwl7Z8NajaHeoO3vmTBZBtp9YUIqTEV5ROxHKnWRnaU8VRMhFBUjpV7hSoSeUq9pUB5Sr2lhQHlKvcK8oBV7hSFSRrtaKAZs07YNPM1pG2xJIAw1jSeandry/8X4m8VCKkWwaWwam7Xl/4v1W8VLtmX/i/VbxUoKkWwakSM407tmX/i/VbxUmzGwjQsjdY41IARie/U0IbZO0kNtCXnOCkEBeFu4KI3Bs7DNb27ya+jDx3kJeEnpJJEcQVbWDsk17u5urd591ucZkWhym2Vnd9RkCDEpFxDRpbw0bunu5mlp2De2FMLYXOD2wB2xbOeraUcYGJ72mlSUiqzzdzMd3Z3mixltA2yzcK/NlHM1DQyRXce1HocdNOEfJXZ88y9ZojOqhiBszIRiHQ8Y4cK5TvHuzLljHNMqxNoDjLFraHHnjPxcNCGVbxEUzYNTx5jZSxhpW6qTzlwJ+DCvO2Zf+L9VvFSgqyHYNLYNTdssPxfibxUu15f8Ai/VPiqCakOwa82DU/a8v/F+JvFTDdWPBL8R8VKCvYRYV5UzoMAy6QdIIqI0B4KJtxiRQwou16QoGUkntH5Tz0RbZbmF2hktraSVBo2lUkY8tDye0flPPXTslVUyiyVRsjqUOA4yMT8dW2ram2m6UVTNq9S7EIyUVJydMTn/6DnP+im9Wl+g5z/opvVrpteEhQWY4AaSTwAVf5WPiZh/9S5/zj7zltzlmYWkfWXNvJDGTgGcYDHirR7i7mSbwXParsFMrgb7w6jKw/wCmnc9I14kF3vpvCljbMyWMOJL4aEiB8qU/ObUK7HYWVrl1pFZWiCOCBQqKOLjPGTrNZZqKbUXVHq2nNwTuJRk1VpbgXN8s7Rk5ym0UQQzhIG2NAjhxHWbI+gCBVjBBFbwxwQqEiiUJGg1BVGAFe7dV28WYLYZFmF2Th1UD7JGjymGyn1iK5OyzIBGB1HgrLZhamzumQAGJwSqnSCh1q3GOCodxt4cxurdcpzuN4cyhiWaF5Bg09udUmnWw1H/jV9nFuJ7Quo+8h8peThFA+047vduyMtk7fYqTl07YFdfUufMPzT5p71UdtlmYXaGS2t3mQHAsgxANdadYJopLe4QS2867EsZ4QfCNYrCFbjdDPmgkYyWFxgVf04ifJf6ScNdRUW1XBb6FU5TjF5EpSSrGu/s5lN+g5z/opvVpfoOc/wCim9WtdHnatvObJXDW7xLGhB8nrPaY9/HCr+tEdPCVaSeDoYLnqF63lzW4/PFSW3ecxbI84VSzWUwUaSdg0DXXK5nvAipnd6qgKvWnQO7pri9ZUEmm3Vl2j1kr8pRlFRyquBNZjGxQ/S56Y1S2fu9OVueon11Szahoou06QoQUXadIVCD2FJJ7R+U89dMydv8Axdn+TH9muZye0flPPXQstlK5Tbka1gUjlC1q0vVLkeb6r+O3Tx9xcY1nt8c0NrZCyiOE1108NYjGv1joo7Js1jzKyScYLIvkzL6LDwHXVJksH9Sb49dKNq0tj1jA6uriOCL+02FWX7iVtZX1/AzaHTyeoauKn2MX9W79zebiZCuR5MjSrhfXuEtwTrUeZH+yNfdrRNcxI6IzhXlJEak6WIGJ2Rw4ChWnChndtlVBLMdQA0k1gbXNMzzDfDLs6mjaPKppJbWwJ1bOwwxw43OnHh71YT3DpfWUJmFlb5jHHDdeXBHIsrRea5TSqvxqG04cNN62vetoCS4tre5mgnkGE9q+3DKOkuI2WX6LDQRRHWDh1UCtwj7QRg2wdl8Djgw1qe7XvW0BQ3kfZ7mSLgU+T9E6RVbnuVrnWVSWqj+Lt8ZbRuHEdKPkYVcZ2MJY5fSGyeVar45+rkWQHAqccalPE5km1htWK5nK4Wnt5FuUBUwOMG4nGkA/BXUrW4S6torlOjMgcd/xVn7rLo7zKs0uEjCNeSvdwoBhgsZxX1l2j36k3Lu+uyprdj5Vs5A+i/lD48a0aaVJOPi7jB6lbzWozpjB48pf1NDXNN4vfl7+Z4BXS65pvF78vfzPAK71XTHmZ/S/yT+jvJ7L3fHytz1E+upbL+Qj5W56jfXWRnsIYKLtekKEFGWvSFQgyjk9o/Keet3YthlMP/5x9msJJ7R+U89biyb/AMXEv7gD6tadL1T+kwepRrC39ZkLDMbiwMvUHRPG0bjlGg8ore/23sxBldxfMPLupNhT8yL/AORNZbdzJ484scytxgLqJY5LZj6Q2sV5G1Vud1mjjyG0ij0NEGSZToKyhjtqw4waztuiXA3qKTbSxltfGhbZlE95ZtZqxVbgiOZhrER9ph3Svk9+pJILZ4Y4DGBFCUMKjRsGPobPFhUfW0NJmljE2xJcIrcI2vFUEln1lRXd6lrazXT9GCNpD+yNqoI7mOVduNw6nzlOIoPOUa6yye1XXcbMR5GdQ3xY0BSbj31/FcTQZirJ+q431q7anbHCTZ72Bw7lbPrKBMcBWNNgbMBBh+bsjBdni0VJ1lARZs6yWiupxCuMDy6KpS2IwOo6DTr3Mre3e5tZZVUM4ZBjqOOJoWO4jkXajcOOMHGgDISvWIrdAkKR80+TzVl908bPPL3LzxOuHdifxVfiTAg92qI/w+/8gGgSyN/mR7XPVlp0lF/3L3mbVKtu5Hjbk/8AHE2Fc03i9+Xv5ngFdKNc13i9+Xv5ngFaNV0x5nn+l/kn9HeEWXu+PlbnqJ9dS2Xu9OVueon11kZ7CGCjLXpCgxRlr0hUIPYUcntH5Tz1s8vb+Bt1/dqPirGSe0flPPWusG/g4Py15q06XqlyMWvVYQ+ruI9xJOqzO9hOto/sP8tbGOFIrmWeM7IuMDMnAXXQJOUjQeOsJk0nY96ip0CYunrjaHx1t+srPJUbXBm2LrFPikwTOb+T+VhbZxGMrDXp83x1QSy2tucJpUjPETp+Cn5/ftaRvKvtp3Kx48HG3erHMzOxZiWZtLMdJNQSbbL71Vk6yynViOkqnEEfOWtPbXi3EQkGg6mXiNckjeSJxJGxR10qw0GtxuxmvbImD4CZMFlA4fRfv0BqesqqzTMZNMEDbIHtHH2QeCiZJSqMQdOGiue53mz3czQwsRbIcNHnkec3c4qAMuriz68gTIToxwOOnlp0MjxMJYW741Gs3RVldtbygE/dMcHX/moDaxTiWNZB53B3arb8/wC+4SOF4sf/AKxU9kcBsfOGHfoUHtG/RbzY5Die5HHhXdvavqiZ9Q8Jdlq4/gbKua7xe/L38zwCuhpf2Uk/Zo50kmwJKIdogDjw1VzzeL35e/meAVp1LTgqY4nn+mRauzqmqwrjzCLL3fHytz1E+upLL+Qj5W56jfXWRnroYKLtekKEFF2vSFQg9hSSe0flPPWosm/hIfoLzVl5PaPynnrRWb/w0X0F5q06XqlyM2sVYx5gmbFre/t71NY2T+0h8VbSO5SWNJUOKSAMp7jDGspmMPaLRlXS6eWve1/FRO7WYdbZm1Y/eW/R7qHxHRXGojlm3ulid6aVbaW+OALvgCLq2Hm9WxHKWqjhj6xsK1e8dm15l4niG1LZkswGsxtrPeOmsvayBJA1VItlWjptLuTdPMo7LtjRDq9naK4+WF9IrUW7BaHOljGqVHB7w2hzVoZt87d8vaNYSLl02CcRsDEbJbj71Uu7UBkvJ7/D7q2QoDxySaAO8MTXdxRVMpRp5XZOWdF/ms7R5XdyKfKWJsO/5PhrG5XlNxmEywW6bTnTxAAcJNbGSMXkM1pjgbiNo1PziPJ+Os7u7m/6ReM00ZOgxSpqYYHT3wRXMKN4ll9zUG4bQfNshu8sZVuEA2hirA4qe/VOwwrVbzbww5mI44UKRRYkbWG0S3JWctbd7u5WFfOOLHiUdJqmaipfLsIsObhWe001lMkMVvJNjhghIALMcBxCs7fxXQmkupx1bXDswGPlaTidVaEyKNXkoo4eBV+Sq7L7Vs9zcBgeyQ4GQ/MB1crmoim2orezqcowTuSeEY48jQ7oZX2PLzdyLhNd6RjrEY6I7+uspvH78vfzPAK6UAAAFGAGgAcArmu8Xvy9/M8ArTfio24RW5nnaG67uou3H/KPuqT2X8hHytz1G+upLL3enK3PUb66ys9RDBRdr0hQgou06QqEGUkntH5Tz1e238vF9BeaqKT2j8p56vbb+Xi+gvNWjTdUuRn1XTHmTh8KrJTJlt8t1CPIY44cGnpJVjTJYkmjaN9Ib4u7V923njTethRauZJV3PaW1rfLIiXEDYg6R4VYc9CXW7thfOZbKdbGZtLW8uPVY/u3GrkNUkM9zlcxUjbhfWOA90cRq4gv4LhdqN+VToNYWmnRm9NNVWNTyHc6VWBv8wt4YeHqm6xyPmroq1Z7WGFLSxTq7WLSuPSdjrkfumq5yHXDUeA92oO2SKpVumNAaoJLMXH3myp0rpJ4uKhc3tbDM5BMri1zAj79j7KTiY8TcdBpcsith0286o+sPCagEX9Pzg4zXUCp6QYse8oouCG3tk6m1BYv05W6T+IdyolxbHDAAa2OgDlNCz3ryN2WxBd5PJMg1t81eId2ukqnLlTBbfcuY+9uJLiRcvtPvHdsHK+cfRHcHDWsyawjyy0WBcDI3lTP6TeIcFV+S5OmXx9bJg1048o8Cj0V8Jq2DVu09nL80up7OxHi+oal3P8AXB/IsZS8T/YOV65zvCcc7vfzPAK3ivWCz445zeH954BXOr6I8yfSfyz+jvCLP3fHytz1G+upLP3fHytz1E+usbPaQ0UXadIUIKLtekKhB7Ckk9o/Keer22/l4/oLzVRSe0flPPV7b/y8X0F5q0abqlyM+q6Y8yQsBTDMor1o8aiaE1pbluMqS3sbLLHIhSRQyngqukhaJ9uBjo+H5aOa3ao2t34qouRlLajTalGP8v0IY8ylXQ+PKPFU/bYXOLPge6CKia0LaxTOxHu1Q7cuBd9yPEJ7TbjXKO8CajbMIF6CNIeNvJHjqIWJ7tSpYkalqVblwIdyG+RGXur0hXYJFxal+Dhq5y3slkv3Y2pD0pTr+QUClpJRUdo9XW4OLrTHtM16cZLLWkeC7y4jvlNEpcRtw1Ux27Ci448NZrTFy3nn3IQWxlgGrDZ3pza7/M8ArZo+ArF5171uvp+CqdV0R5l/psUrs2vB3hdl7vTlbnqJ9dS2Xu+PlbnqJ9dY2eshooq16QoQUXa9IVCD2FLJ7RuU89WNtmUSQqkgYMgw0accKrpPaPynnrZWG4Vi+VWmY5tnMWXG+XrIYnA0rhj0mdcTgdNdwnKDqjmduM1SRR/qlr8/4KX6pa8T/BVzDuLZXudRZblmbxXcPUNPc3KqCIwrbOzgrHEnHjoyD+3eSXkht7DeKG4umDGOJVUklfouThXfmbnZ7Cvy1vt9pmv1W1+d8FL9VteJvgq5yrcOGfLmzHN80iyyETPbptAEFo2ZG8pmUa1OFNn3Ky6W/sbDKM5hv5bx2WTZA+7RF2y52WOPJTzE+z2Dy1vt9pT/AKpacTerS/U7Tib1a04/t7kDXPY03jhN0W6sQ7K7W3q2dnrMccaDy/8At80kuZfqWYxWNtlcvUPPhiGYhWDeUy7IwYU8xPs9g8tb7faUn6pacTerTxm9oOBvVq3v9z927aynuId44LiWKNnjhAXF2UYhRg516qpsryjLr21665zFLSTaK9U2GOA87SwqY37knRU+BzOzags0s1Oyr+BKM6sxwP6tSDPLMen6vy0rvdm3Sxlu7K/S7WDDrFUDUTxgnTU826eXW7KlxmqQuwDBXUKcD+1Xee/wXuKX5XDGWLapSVcOyhEM/seJ/V+WnjeGx4pPV+Wkm6kKZlFay3Jlt7iFpYZY8ASVK6DjtDDA0f8A0Tl340/1f8Ndx8xJVWXB0KbktFFpNzdVXAC/qOwA0CQni2flrO3Vwbm5lnI2TKxbDirX/wBE5d+NcfV/wVR7xZPa5U9utvI8nWhmbbw0YEAYYAVxfhfy5rlKR4Fulu6X7mW1mzT8S4Yis/5CPlbnqJ9dSWfu9OVueon11mZvQ2i7XpChKKtekKhBlNJ7R+U89bDfGTb3a3ZX0Lcj6kdY+T2j8p560288m1kWQr6MJ+ylSAr+2cnV5renjs3H1loX+3j9XvbbtxLN9lqW4UnV5jdnjtXHxihtyZNjeSBu5J9k1BJe7xy7W5CJ/wCzuD/mTVTf2+fq97LJuLrPsNRueS7W6aJ/38x+vLVXuY+xvHaNxbf2GoCezf8A36j/APsSf8w1sLnqczTefJluYoLm5uo5F61sBshItP1cNFYe1f8A3ir/APfE/wCZUe9bB94r5jwuPsrQFhmG4l/Z2M17HdW90tuu3IkTHaCjWdIw0VVZdks9/C06yJFEp2dp+E1bbqybGTZ8vpQD7L1XRv8A7blT96Oda7tpNuuNE37Cq9KSisjyuUoxrStKllHbLlWTXsMs8chuSuwEPDqwoLe5y+YRE/gLzmqRekvKKtd4327yM/ulHxmrHJStySWVRyrjxKI2XC/CTlnlPPKTpTdFbP0L1bgrf5Lp0G3dPhQHwV0S1lzBsns3sESR8Crh9WAJGjSOKuU3E+zdZQ3oJh8IArdZXFDmOTpHa3i2+YrI2KtKy4ricBsBuHHgFXSo440+Wa2qqxjvM9uMoy+WvzWpLCWWWE28HxL6e43ojgkeSCBY1Ri5BGIUDT51cl3vm276BBqSEH4WbxV0tlkyXJcxTMb+OW6uY9mGHrCzDQwwAbTp2uKuTZ9N1uYsfRRR8WPhrm419mSSjRyiqxVK7y23B/ftuTm2oSdJyzNVw3BFn7vTlbnqF9dS2fu9OVueon11lZuQ2iLdsGFD05H2dNQGV0ntG5Tz1dWm9N1b2kVq8EVwsI2UaQaQOKhmitZGLOmk68DhSFvY+gfWNSAg7z3Qvo7yKCKIohiaNR5LKxx8qpxvjcqS0VpbxvwOAcRQPZ7D0G9Y0uz2HoH1jUCpLY7zXlpbm3eKO5QuzjrBqZji3x17PvNcyT288VvDBJbMWUovS2hslW7mFQ9nsPQPrGl2ew9A+saCod/WNxtbYsrfb17WBxx5ddD2281xC88klvDcSXEnWuzrqOGGC9zRUPZ7D0G9Y0uzWHoH1jQVCLreq6ntZbaO3it1mGy7RjTs1X2mYy20ZiCq8ZOODcdEdmsPQb1jS7PYegfWNdJuLqnQiSUlRqpFLmryxtH1Ma7Qw2gNNPOdSt0oI27p007s9h6B9Y0uz2HoH1jXX3Z+I4+1b8IJdX89xLHKQFMXQUahpxoiPN5P+onfU+A0/s9h6DesaXZ7D0D6xpG7OLbUtu0StW5JJx2bBsmbtiSiEk+cxoCWWSaVpZOk2vDVo0VYdnsPQb1jSNvZcCH1jSd2c+p1XAmFqEOmOPEfaH+BQd1ueo211IzrgFUYKNAAqI1WztCpUqVCRUqVKgFSpUqAVKlSoBUqVKgFSpUqAVKlSoBUqVKgFSpUqAVKlSoD/9k=";
this.aq.width=160;this.aq.height=200;this.sw=q.V.create(q.ND(32,32,32,255));this.sw.o(0,0);this.e(this.sw,0)},QQ:function(a){this.Mx=new q.qc;this.Mx.Bf(this.aq);this.Mx.te();this.ex=q.B.cb(this.Mx);this.ex.il(q.qd());this.ex.o(a);this.sw.e(this.ex,10)},wh:function(){q.Node.prototype.wh.call(this);this.Db(this.RI,.3)},ve:function(){q.Node.prototype.ve.call(this);this.$w&&this.$w.ia("Loading... 0%")},Ey:function(a,c,d){this.rY=a;this.HY=c;this.target=d},RI:function(){this.fc(this.RI);q.bc.dr(this.rY,
this.HY,this.target);this.Db(this.Xx)},Xx:function(){if(this.$w){var a=q.bc.f().uy();this.$w.ia("Loading... "+a+"%")}100<=a&&this.fc(this.Xx)}});q.sA.dr=function(a,c,d){this.jb||(this.jb=new q.sA,this.jb.w());this.jb.Ey(a,c,d);a=q.aa.f();a.Ld?a.iM(this.jb):a.wY(this.jb);return this.jb};q.dA=q.Ka.extend({Mb:null,XM:function(a){this.Mb=a},e8:function(){return this.Mb},ctor:function(a){this.Mb=a},VD:function(){q.log("DrawingPrimitive.drawPoint() not implement!")},$J:function(){q.log("DrawingPrimitive.drawPoints() not implement!")},Zi:function(){q.log("DrawingPrimitive.drawLine() not implement!")},aK:function(){q.log("DrawingPrimitive.drawRect() not implement!")},XD:function(){q.log("DrawingPrimitive.drawSolidRect() not implement!")},se:function(){q.log("DrawingPrimitive.drawPoly() not implement!")},
oy:function(){q.log("DrawingPrimitive.drawSolidPoly() not implement!")},XJ:function(){q.log("DrawingPrimitive.drawCircle() not implement!")},WD:function(){q.log("DrawingPrimitive.drawQuadBezier() not implement!")},YJ:function(){q.log("DrawingPrimitive.drawCubicBezier() not implement!")},WJ:function(){q.log("DrawingPrimitive.drawCardinalSpline() not implement!")},ny:function(){q.log("DrawingPrimitive.drawCardinalSpline() not implement!")}});
q.xG=q.dA.extend({VD:function(a,c){c||(c=1);var d=q.la.f().sa,e=q.la.f().za,e=q.a(a.x*d,a.y*e);this.Mb.beginPath();this.Mb.arc(e.x,-e.y,c*d,0,2*Math.PI,!1);this.Mb.closePath();this.Mb.fill()},$J:function(a,c,d){if(null!=a){d||(d=1);c=this.Mb;var e=q.la.f().sa,f=q.la.f().za;c.beginPath();for(var g=0,h=a.length;g<h;g++)c.arc(a[g].x*e,-a[g].y*f,d*e,0,2*Math.PI,!1);c.closePath();c.fill()}},Zi:function(a,c){var d=this.Mb,e=q.la.f().sa,f=q.la.f().za;d.beginPath();d.moveTo(a.x*e,-a.y*f);d.lineTo(c.x*e,-c.y*
f);d.closePath();d.stroke()},aK:function(a,c){this.Zi(q.a(a.x,a.y),q.a(c.x,a.y));this.Zi(q.a(c.x,a.y),q.a(c.x,c.y));this.Zi(q.a(c.x,c.y),q.a(a.x,c.y));this.Zi(q.a(a.x,c.y),q.a(a.x,a.y))},XD:function(a,c,d){a=[a,q.a(c.x,a.y),c,q.a(a.x,c.y)];this.oy(a,4,d)},se:function(a,c,d,e){e=e||!1;if(null!=a){if(3>a.length)throw Error("Polygon's point must greater than 2");var f=a[0];c=this.Mb;var g=q.la.f().sa,h=q.la.f().za;c.beginPath();c.moveTo(f.x*g,-f.y*h);for(var f=1,k=a.length;f<k;f++)c.lineTo(a[f].x*g,
-a[f].y*h);d&&c.closePath();e?c.fill():c.stroke()}},oy:function(a,c,d){this.BM(d.t,d.r,d.p,d.Q);this.se(a,c,!0,!0)},XJ:function(a,c,d,e,f){f=f||!1;e=this.Mb;var g=q.la.f().sa,h=q.la.f().za;e.beginPath();e.arc(0|a.x*g,0|-(a.y*h),c*g,-d,-(d-2*Math.PI),!1);f&&e.lineTo(0|a.x*g,0|-(a.y*h));e.stroke()},WD:function(a,c,d,e){for(var f=[],g=0,h=0;h<e;h++)f.push(q.a(Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y)),g+=1/e;f.push(q.a(d.x,d.y));this.se(f,e+1,!1,!1)},YJ:function(a,
c,d,e,f){for(var g=[],h=0,k=0;k<f;k++)g.push(q.a(Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y)),h+=1/f;g.push(q.a(e.x,e.y));this.se(g,f+1,!1,!1)},WJ:function(a,c){this.ny(a,.5,c)},ny:function(a,c,d){q.$.strokeStyle="rgba(255,255,255,1)";for(var e=[],f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=q.Yz(q.gi(a,f-1),q.gi(a,f-0),q.gi(a,f+1),q.gi(a,f+2),c,g),e.push(f);this.se(e,
d+1,!1,!1)},drawImage:function(a,c,d,e,f){switch(arguments.length){case 2:this.Mb.drawImage(a,c.x,-(c.y+a.height));break;case 3:this.Mb.drawImage(a,c.x,-(c.y+d.height),d.width,d.height);break;case 5:this.Mb.drawImage(a,c.x,c.y,d.width,d.height,e.x,-(e.y+f.height),f.width,f.height);break;default:throw Error("Argument must be non-nil");}},h5:function(a,c,d){a=a||this.Mb;c*=q.la.f().sa;d instanceof q.ye&&(d=new q.Lc(0|255*d.t,0|255*d.r,0|255*d.p));d="rgba("+d.t+","+d.r+","+d.p;a.fillStyle=d+",1)";var e=
c/10;a.beginPath();a.moveTo(-c,c);a.lineTo(0,e);a.lineTo(c,c);a.lineTo(e,0);a.lineTo(c,-c);a.lineTo(0,-e);a.lineTo(-c,-c);a.lineTo(-e,0);a.lineTo(-c,c);a.closePath();a.fill();var f=a.createRadialGradient(0,0,e,0,0,c);f.addColorStop(0,d+", 1)");f.addColorStop(.3,d+", 0.8)");f.addColorStop(1,d+", 0.0)");a.fillStyle=f;a.beginPath();a.arc(0,0,c-e,0,q.IG,!1);a.closePath();a.fill()},f5:function(a,c,d){a=a||this.Mb;c*=q.la.f().sa;d instanceof q.ye&&(d=new q.Lc(0|255*d.t,0|255*d.r,0|255*d.p));d="rgba("+d.t+
","+d.r+","+d.p;var e=a.createRadialGradient(0,0,c/10,0,0,c);e.addColorStop(0,d+", 1)");e.addColorStop(.3,d+", 0.8)");e.addColorStop(.6,d+", 0.4)");e.addColorStop(1,d+", 0.0)");a.fillStyle=e;a.beginPath();a.arc(0,0,c,0,q.IG,!1);a.closePath();a.fill()},fillText:function(a,c,d){this.Mb.fillText(a,c,-d)},bZ:function(a,c,d,e){this.Mb.fillStyle="rgba("+a+","+c+","+d+","+e/255+")";this.Mb.strokeStyle="rgba("+a+","+c+","+d+","+e/255+")"},BM:function(a,c,d,e){this.Mb.fillStyle="rgba("+(0|255*a)+","+(0|255*
c)+","+(0|255*d)+","+e+")";this.Mb.strokeStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+")"},DZ:function(){},lZ:function(a){this.Mb.lineWidth=a*q.la.f().sa}});
q.vO=q.dA.extend({Cs:!1,ec:null,zj:-1,Ec:null,vC:-1,uC:-1,ctor:function(a){null==a&&(a=q.$);if(!a instanceof WebGLRenderingContext)throw"Can't initialise DrawingPrimitiveWebGL. context need is WebGLRenderingContext";q.dA.prototype.ctor.call(this,a);this.Ec=new q.ye(1,1,1,1)},cl:function(){this.Cs||(this.ec=q.zi.f().jj(q.i2),this.zj=this.Mb.getUniformLocation(this.ec.vy(),"u_color"),this.vC=this.Mb.getUniformLocation(this.ec.vy(),"u_pointSize"),this.Cs=!0)},g5:function(){this.Cs=!1},VD:function(a){this.cl();
this.ec.If();this.ec.Dh();q.Te(q.Jh);this.ec.Im(this.zj,new Float32Array(this.Ec.hc,0,4),1);this.ec.fN(this.vC,this.uC);var c=this.Mb,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,new Float32Array([a.x,a.y]),c.STATIC_DRAW);c.vertexAttribPointer(q.jf,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,1);c.deleteBuffer(d);q.wi()},$J:function(a){if(a&&0!=a.length){this.cl();this.ec.If();this.ec.Dh();q.Te(q.Jh);this.ec.Im(this.zj,new Float32Array(this.Ec.hc,0,4),1);this.ec.fN(this.vC,
this.uC);var c=this.Mb,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.tx(a),c.STATIC_DRAW);c.vertexAttribPointer(q.jf,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,a.length);c.deleteBuffer(d);q.wi()}},tx:function(a){for(var c=new Float32Array(2*a.length),d=0;d<a.length;d++)c[2*d]=a[d].x,c[2*d+1]=a[d].y;return c},Zi:function(a,c){this.cl();this.ec.If();this.ec.Dh();q.Te(q.Jh);this.ec.Im(this.zj,new Float32Array(this.Ec.hc,0,4),1);var d=this.Mb,e=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,
e);d.bufferData(d.ARRAY_BUFFER,this.tx([a,c]),d.STATIC_DRAW);d.vertexAttribPointer(q.jf,2,d.FLOAT,!1,0,0);d.drawArrays(d.LINES,0,2);d.deleteBuffer(e);q.wi()},aK:function(a,c){this.Zi(q.a(a.x,a.y),q.a(c.x,a.y));this.Zi(q.a(c.x,a.y),q.a(c.x,c.y));this.Zi(q.a(c.x,c.y),q.a(a.x,c.y));this.Zi(q.a(a.x,c.y),q.a(a.x,a.y))},XD:function(a,c,d){a=[a,q.a(c.x,a.y),c,q.a(a.x,c.y)];this.oy(a,4,d)},se:function(a,c,d){this.cl();this.ec.If();this.ec.Dh();q.Te(q.Jh);this.ec.Im(this.zj,new Float32Array(this.Ec.hc,0,4),
1);c=this.Mb;var e=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,e);c.bufferData(c.ARRAY_BUFFER,this.tx(a),c.STATIC_DRAW);c.vertexAttribPointer(q.jf,2,c.FLOAT,!1,0,0);d?c.drawArrays(c.LINE_LOOP,0,a.length):c.drawArrays(c.LINE_STRIP,0,a.length);c.deleteBuffer(e);q.wi()},oy:function(a,c,d){this.cl();d||(d=this.Ec);this.ec.If();this.ec.Dh();q.Te(q.Jh);this.ec.Im(this.zj,new Float32Array(d.hc,0,4),1);c=this.Mb;d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.tx(a),c.STATIC_DRAW);
c.vertexAttribPointer(q.jf,2,c.FLOAT,!1,0,0);c.drawArrays(c.TRIANGLE_FAN,0,a.length);c.deleteBuffer(d);q.wi()},XJ:function(a,c,d,e,f){this.cl();var g=1;f&&g++;var h=2*Math.PI/e;if(f=new Float32Array(2*(e+2))){for(var k=0;k<=e;k++){var l=k*h,m=c*Math.sin(l+d)+a.y;f[2*k]=c*Math.cos(l+d)+a.x;f[2*k+1]=m}f[2*(e+1)]=a.x;f[2*(e+1)+1]=a.y;this.ec.If();this.ec.Dh();q.Te(q.Jh);this.ec.Im(this.zj,new Float32Array(this.Ec.hc,0,4),1);a=this.Mb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(q.jf,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+g);a.deleteBuffer(c);q.wi()}},WD:function(a,c,d,e){this.cl();for(var f=new Float32Array(2*(e+1)),g=0,h=0;h<e;h++)f[2*h]=Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,f[2*h+1]=Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y,g+=1/e;f[2*e]=d.x;f[2*e+1]=d.y;this.ec.If();this.ec.Dh();q.Te(q.Jh);this.ec.Im(this.zj,new Float32Array(this.Ec.hc,0,4),1);a=this.Mb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(q.jf,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+1);a.deleteBuffer(c);q.wi()},YJ:function(a,c,d,e,f){this.cl();for(var g=new Float32Array(2*(f+1)),h=0,k=0;k<f;k++)g[2*k]=Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,g[2*k+1]=Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y,h+=1/f;g[2*f]=e.x;g[2*f+1]=e.y;this.ec.If();this.ec.Dh();q.Te(q.Jh);this.ec.Im(this.zj,new Float32Array(this.Ec.hc,0,4),1);a=this.Mb;c=a.createBuffer();
a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,g,a.STATIC_DRAW);a.vertexAttribPointer(q.jf,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,f+1);a.deleteBuffer(c);q.wi()},WJ:function(a,c){this.ny(a,.5,c)},ny:function(a,c,d){this.cl();for(var e=new Float32Array(2*(d+1)),f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=q.Yz(q.gi(a,f-1),q.gi(a,f),q.gi(a,f+1),q.gi(a,f+2),c,g),e[2*k]=f.x,e[2*k+1]=f.y;this.ec.If();this.ec.Dh();q.Te(q.Jh);this.ec.Im(this.zj,new Float32Array(this.Ec.hc,
0,4),1);a=this.Mb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,e,a.STATIC_DRAW);a.vertexAttribPointer(q.jf,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,d+1);a.deleteBuffer(c);q.wi()},bZ:function(a,c,d,e){this.Ec.t=a/255;this.Ec.r=c/255;this.Ec.p=d/255;this.Ec.Q=e/255},BM:function(a,c,d,e){this.Ec.t=a;this.Ec.r=c;this.Ec.p=d;this.Ec.Q=e},DZ:function(a){this.uC=a*q.qd()},lZ:function(a){this.Mb.lineWidth&&this.Mb.lineWidth(a)}});q.IG=2*Math.PI;q.aH={H2:0,o1:1,p1:2,a0:3,h1:4,g1:5,n0:6,v1:7,S0:8,TO:100,bP:101};q.B1=0;q.C1=1;q.z1=2;q.A1=3;q.Qg=0;q.rl=1;q.Oe=null;q.$=null;q.canvas=null;q.XU=null;q.ee=q.Qg;q.nX=q.size(0,0);window.gF=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;window.console||(window.console={},window.console.log=function(){},window.console.assert=function(){});q.EE=!1;
q.Jm=function(a,c,d){function e(){if(q.Ob){var a=q.Ob.f();document[k]?(a.lu(),a.cr()):(q.aa.f().QR(),a.pu(),a.Jo())}}a=q.ac(a)||q.ac("#"+a);var f,g,h;"CANVAS"==a.tagName?(c=c||a.width,d=d||a.height,g=q.Vk=q.kl("DIV"),h=g.style,f=q.canvas=a,f.parentNode.insertBefore(g,f),f.ho(g),h.width=(c||480)+"px",h.height=(d||320)+"px",g.setAttribute("id","Cocos2dGameContainer")):("DIV"!=a.tagName&&q.log("Warning: target element is not a DIV or CANVAS"),c=c||a.clientWidth,d=d||a.clientHeight,f=q.canvas=q.kl("CANVAS"),
f.rJ("gameCanvas"),f.setAttribute("width",c||480),f.setAttribute("height",d||320),g=q.Vk=a,h=g.style,a.appendChild(f),h.width=(c||480)+"px",h.height=(d||320)+"px");h.margin="0 auto";h.position="relative";h.overflow="hidden";g.top="100%";if(!q.$A){q.Aa.pd&&(q.$=q.Qea=q.KJ(f,{stencil:!0,preserveDrawingBuffer:!0,antialias:!q.Aa.Zj,alpha:!1}));q.$?(q.ee=q.rl,window.gl=q.$,q.Oe=new q.vO(q.$),q.da.f().XQ()):(q.$=f.getContext("2d"),q.PW=q.$,q.ee=q.Qg,q.$.translate(0,f.height),q.Oe=q.xG?new q.xG(q.$):null);
q.nX=q.size(f.width,f.height);q.XU=g;q.log(q.bv);q.gf.f();q.YY();q.Aa.Zj&&q.WP();var k,l;"undefined"!==typeof document.hidden?(k="hidden",l="visibilitychange"):"undefined"!==typeof document.mozHidden?(k="mozHidden",l="mozvisibilitychange"):"undefined"!==typeof document.msHidden?(k="msHidden",l="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(k="webkitHidden",l="webkitvisibilitychange");"undefined"===typeof document.addEventListener||"undefined"===typeof k?(q.EE=!1,window.addEventListener("focus",
function(){if(q.Ob){var a=q.Ob.f();a.pu();a.Jo()}},!1),window.addEventListener("blur",function(){if(q.Ob){var a=q.Ob.f();a.lu();a.cr()}},!1)):(q.EE=!0,document.addEventListener(l,e,!1))}};q.WP=function(){var a=document.createElement("style");a.type="text/css";document.body.appendChild(a);a.textContent="body,canvas,div{ -moz-user-select: none;-webkit-user-select: none;-ms-user-select: none;-khtml-user-select: none;-webkit-tap-highlight-color:rgba(0,0,0,0);}"};q.$H=!1;
q.YY=function(){q.$H=!1;q.canvas.oncontextmenu=q.$H?function(){}:function(){return!1}};q.ml=q.Ka.extend({Lh:null,ctor:function(){this.Lh=0;if(q.ZC)throw"Application has been initialized";q.ZC=this},ru:function(a){this.Lh=a},Uda:function(a){a&&q.rect(0,0,0,0)},H8:function(){return q.Aa.Zj?q.aH.TO:q.aH.bP},uY:function(){if(!this.wT())return 0;var a,c=q.aa.f(),d=window;q.CU=c;d.gF&&this.Lh==1/60?(a=function(){c.AL();d.gF(a)},d.gF(a)):(a=function(){c.AL()},setInterval(a,1E3*this.Lh));return 0}});
q.ml.f=function(){return q.ZC};q.ml.s6=function(){var a=q.HO,c=navigator.language;c||(c=navigator.browserLanguage||navigator.Iea);if(!c)return a;c=c.toLowerCase();switch(c){case "zh-cn":a=q.GO;break;case "fr":a=q.IO;break;case "it":a=q.LO;break;case "de":a=q.JO;break;case "es":a=q.SO;break;case "ru":a=q.RO;break;case "ko":a=q.NO;break;case "ja":a=q.MO;break;case "hu":a=q.KO;break;case "pt":a=q.QO;break;case "ar":a=q.FO;break;case "no":a=q.OO;break;case "pl":a=q.PO}return a};q.ZC=null;q.pl=q.Ka.extend({Tea:null,qI:null,yq:null,gC:null,ctor:function(){this.yq={};window.DOMParser?(this.gC=!0,this.qI=new DOMParser):this.gC=!1},parse:function(a){var c=a;a=this.vK(a);a=this.rI(a,c).documentElement;if("plist"!=a.tagName)throw"cocos2d: "+c+" is not a plist file or you forgot to preload the plist file";for(var c=null,d=0,e=a.childNodes.length;d<e&&(c=a.childNodes[d],1!=c.nodeType);d++);return this.sC(c)},pea:function(a,c){if(null==c||!1===c)a=this.vK(a);return this.rI(a)},rI:function(a,
c){var d;this.gC?d=this.qI.parseFromString(a,"text/xml"):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(a));null==d&&q.log("cocos2d:xml "+c+" not found!");return d},sC:function(a){var c=null;switch(a.tagName){case "dict":c=this.tR(a);break;case "array":c=this.sR(a);break;case "string":if(1==a.childNodes.length)c=a.firstChild.nodeValue;else for(var c="",d=0;d<a.childNodes.length;d++)c+=a.childNodes[d].nodeValue;break;case "false":c=!1;break;case "true":c=!0;break;case "real":c=
parseFloat(a.firstChild.nodeValue);break;case "integer":c=parseInt(a.firstChild.nodeValue,10)}return c},sR:function(a){for(var c=[],d=0,e=a.childNodes.length;d<e;d++){var f=a.childNodes[d];1==f.nodeType&&c.push(this.sC(f))}return c},tR:function(a){for(var c={},d=null,e=0,f=a.childNodes.length;e<f;e++){var g=a.childNodes[e];1==g.nodeType&&("key"==g.tagName?d=g.firstChild.nodeValue:c[d]=this.sC(g))}return c},FX:function(a){a=q.je.f().Se(a);if(window.XMLHttpRequest){var c=new XMLHttpRequest;c.overrideMimeType&&
c.overrideMimeType("text/xml")}if(null!=c){var d=this;c.onreadystatechange=function(){4==c.readyState&&(c.responseText?(q.bc.f().Gg(),d.yq[a]=c.responseText,c=null):(q.bc.f().Gg(),q.log("cocos2d:There was a problem retrieving the xml data:"+c.statusText)))};c.open("GET",a,!0);c.send(null)}else throw"cocos2d:Your browser does not support XMLHTTP.";},D_:function(a){this.yq.hasOwnProperty(a)&&delete this.yq[a]},getName:function(a){return a.substring(a.lastIndexOf("/",a.length)+1,a.lastIndexOf(".",a.length))},
I6:function(a){return a.substring(a.lastIndexOf(".",a.length)+1,a.length)},vK:function(a){return null!=this.yq?this.yq[a]:null}});q.pl.f=function(){this.jb||(this.jb=new q.pl);return this.jb};q.pl.jb=null;q.Rz=q.Ka.extend({BU:function(){q.ml.f().uY();return!0},d4:function(){q.aa.f().pause()},c4:function(){q.aa.f().lM()},vT:function(){q.ml.f().vT()},xT:function(){q.ml.f().xT()},e4:function(){}});q.Rz.e_=function(){null==q.tz&&(q.tz=new q.Rz);if(!q.tz)throw"Application initialize failure";return q.tz};q.tz=null;q.O=q.B.extend({me:null,Gl:q.pk,Zl:q.ew,Lf:null,ne:0,lh:"",qC:null,Tp:!1,zk:null,Mk:!1,kh:null,jq:0,bt:0,Dx:null,Vl:!1,ht:null,pq:0,Fx:null,qq:null,Mw:null,jD:0,kD:0,Id:!1,ax:null,bx:null,ctor:function(){q.B.prototype.ctor.call(this);this.me=q.cn();this.Gl=q.Dr;this.Zl=q.ew;this.Gc=!1;this.zk="";this.Lf="Arial";this.Mk=this.Tp=!1;this.kh=q.cn();this.bt=this.jq=0;this.Dx="rgba(128, 128, 128, 0.5)";this.Vl=!1;this.ht=q.Jb();this.pq=0;this.Fx="";this.qq=q.Jb();this.Mw="rgba(255,255,255,1)";this.kD=this.jD=
0;this.Id=!1;this.Oi()},w:function(){return this.jm(" ",this.Lf,this.ne)},iR:function(){this.XB().font=this.zk},Ls:function(a){return this.XB().measureText(a).width},kQ:function(a,c){var d=this.Ls(a),e=Math.floor(a.length*c/d),f=a.indexOf("\n");if(.8*e>=f&&0<f)return f+1;if(d<c)return a.length;for(var d=!1,f=c+1,g=-1,h=e,k,l=q.O.lQ,m=q.O.UR,p=q.O.jQ,w=a.substr(e);k=l.exec(w);){h+=k[0].length;if("\n"==k[2]){d=!0;g=h;break}f=this.Ls(a.substr(0,h));if(f>c){-1!=g&&(d=!0);break}g=h;w=a.substr(h)}if(d)return g;
w=a.substr(0,e);for(g=e;k=m.exec(w);)if(g=k[1].length,w=k[1],f=this.Ls(w),f<c){p.test(k[2])&&g++;break}return g},description:function(){return"<cc.LabelTTF | FontName ="+this.Lf+" FontSize = "+this.ne.toFixed(1)+">"},n:null,Xs:function(a){q.Rb.prototype.n.call(this,a);this.EI()},Oi:null,EI:function(){this.Id=!0;var a=this.Nc,c=this.oc,d=this.ht,e=this.qq;this.Dx="rgba("+(0|.5*a.t)+","+(0|.5*a.r)+","+(0|.5*a.p)+","+this.jq+")";this.Mw="rgba("+(0|a.t/255*e.t)+","+(0|a.r/255*e.r)+","+(0|a.p/255*e.p)+
", "+c/255+")";this.Fx="rgba("+(0|a.t/255*d.t)+","+(0|a.r/255*d.r)+","+(0|a.p/255*d.p)+", "+c/255+")"},cS:function(){this.Id=!0;var a=this.ht,c=this.qq;this.Dx="rgba(128,128,128,"+this.jq+")";this.Mw="rgba("+(0|c.t)+","+(0|c.r)+","+(0|c.p)+", 1)";this.Fx="rgba("+(0|a.t)+","+(0|a.r)+","+(0|a.p)+", 1)"},Dd:null,qD:function(a){q.Rb.prototype.Dd.call(this,a);this.Oi()},ua:null,Zs:function(a){this.Lj!==a&&(q.B.prototype.ua.call(this,a),this.Oi(),this.Id=!0)},Ed:null,Aea:function(a){q.Rb.prototype.Ed.call(this,
a);this.Oi()},GK:function(){return this.lh},U6:function(){return this.Gl},c9:function(){return this.Zl},C6:function(){return q.size(this.me.width,this.me.height)},O6:function(){return this.ne},N6:function(){return this.Lf},jm:function(a,c,d,e,f,g){a=a?a+"":"";d=d||16;e=e||q.size(0,d);f=f||q.Dr;g=g||q.fw;return q.B.prototype.w.call(this)?(this.Gc=!1,this.me=q.size(e.width,e.height),this.Lf=c||"Arial",this.Gl=f,this.Zl=g,this.ne=d*q.qd(),this.zk=this.ne+"px '"+c+"'",this.yk=q.O.lw(c,this.ne),this.ia(a),
this.Oi(),this.tD(),this.Id=!1,!0):!1},AE:null,TQ:function(a,c){if(!q.B.prototype.w.call(this))return!1;this.uD(c,!1);this.ia(a);return!0},UQ:function(a,c){if(!q.B.prototype.w.call(this))return!1;this.Bh(q.zi.f().jj(q.O.LP));this.uD(c,!1);this.ia(a);return!0},sda:function(a){a&&this.uD(a,!0)},I8:function(){return this.AR(!1)},OU:function(a,c,d){c=c||.5;!1===this.Mk&&(this.Mk=!0);var e=this.kh;if(e&&e.width!=a.width||e.height!=a.height)e.width=a.width,e.height=a.height;this.jq!=c&&(this.jq=c);this.Oi();
this.bt!=d&&(this.bt=d);this.Id=!0},a5:function(){this.Mk&&(this.Mk=!1,this.Id=!0)},PU:function(a,c){!1===this.Vl&&(this.Vl=!0);var d=this.ht;if(d.t!==a.t||d.r!==a.r||d.p!==a.p)d.t=a.t,d.r=a.r,d.p=a.p,this.Oi();this.pq!==c&&(this.pq=c||0);this.Id=!0},b5:function(){this.Vl&&(this.Vl=!1,this.Id=!0)},tF:null,gS:function(a){var c=this.qq;if(c.t!=a.t||c.r!=a.r||c.p!=a.p)c.t=a.t,c.r=a.r,c.p=a.p,this.Oi(),this.Id=!0},hS:function(a){var c=this.qq;if(c.t!=a.t||c.r!=a.r||c.p!=a.p)c.t=a.t,c.r=a.r,c.p=a.p,this.Oi(),
this.Id=!0},uD:function(a,c){a.Nt?(this.me.width=a.Nt.width,this.me.height=a.Nt.height):(this.me.width=0,this.me.height=0);this.Gl=a.iK;this.Zl=a.jK;this.Lf=a.Ot;this.ne=a.fontSize||12;this.zk=this.ne+"px '"+this.Lf+"'";this.yk=q.O.lw(this.Lf,this.ne);a.oN&&this.OU(a.pN,a.qN,a.shadowBlur,!1);a.PF&&this.PU(a.strokeColor,a.zN,!1);this.tF(a.kK,!1);c&&this.tD()},AR:function(a){var c=new q.zO;a?(c.fontSize=this.ne,c.Nt=q.FA(this.me)):(c.fontSize=this.ne,c.Nt=q.size(this.me.width,this.me.height));c.Ot=
this.Lf;c.iK=this.Gl;c.jK=this.Zl;if(this.Vl){c.PF=!0;var d=this.ht;c.strokeColor=new q.Lc(d.t,d.r,d.p);c.zN=this.pq}else c.PF=!1;this.Mk?(c.oN=!0,c.shadowBlur=this.bt,c.qN=this.jq,c.pN=a?q.FA(this.kh):q.size(this.kh.width,this.kh.height)):c.Mk=!1;a=this.qq;c.kK=new q.Lc(a.t,a.r,a.p);return c},yk:18,ia:function(a){a&&(a=String(a),a=a.replace("<COPYRIGHT>","©"));this.qC!=a&&(this.qC=a+"",this.gJ(),this.Id=!0)},gJ:function(){this.lh=this.qC},sca:function(a){a!==this.Gl&&(this.Gl=a,this.Id=!0)},Eda:function(a){a!=
this.Zl&&(this.Zl=a,this.Id=!0)},Fa:function(a){if(a.width!=this.me.width||a.height!=this.me.height)this.me=a,this.gJ(),this.Id=!0},iz:function(a){this.ne!==a&&(this.ne=a*q.qd(),this.zk=this.ne+"px '"+this.Lf+"'",this.yk=q.O.lw(this.Lf,this.ne),this.Id=!0)},uF:function(a){this.Lf&&this.Lf!=a&&(this.Lf=a,this.zk=this.ne+"px '"+a+"'",this.yk=q.O.lw(a,this.ne),this.Id=!0)},CQ:function(a){if(a){var c=this.jD,d=this.kD,e=this.ya.ra-d,f=this.Zl,g=this.Gl,h=this.yk,k=this.pq;a.setTransform(1,0,0,1,0+.5*
c,e+.5*d);a.font!=this.zk&&(a.font=this.zk);a.fillStyle=this.Mw;var l=d=0,m=this.Vl;m&&(a.lineWidth=2*k,a.strokeStyle=this.Fx);this.Mk&&(k=this.kh,a.shadowColor=this.Dx,a.shadowOffsetX=k.width,a.shadowOffsetY=-k.height,a.shadowBlur=this.bt);a.textBaseline=q.O.JS[f];a.textAlign=q.O.IS[g];c=this.ya.Ea-c;d=g===q.xP?d+c:g===q.pk?d+Math.floor(c/2):d+0;a.lineHeight=this.me.height/this.Sj.length;if(this.Tp)for(g=this.Sj.length,f===q.fw||f===q.ew?l=h+e-h*g:f===q.gw&&Math.floor(l=h/2+(e-h*g)/2),f=0;f<g;f++)c=
this.Sj[f],k=-e+h*f+l,m&&a.strokeText(c,d,k),a.fillText(c,d,k);else f!==q.fw&&(l=f===q.hw?l-e:f===q.ew?l+e:l-.5*e),m&&a.strokeText(this.lh,d,l),a.fillText(this.lh,d,l)}},XB:function(){if(this.bx)return this.bx;if(!this.ax){var a=document.createElement("canvas"),c=new q.qc;c.Bf(a);this.ma(c);this.ax=a}return this.bx=this.ax.getContext("2d")},hJ:function(){var a=this.me.width,c,d;this.dI=[];this.Tp=!1;this.iR();if(0!==a){var e=this.lh;this.Sj=[];c=0;for(d=this.lh.length;c<d;){var f=this.kQ(e.substr(c),
a);this.Sj.push(e.substr(c,f));c+=f}}else for(this.Sj=this.lh.split("\n"),c=0,d=this.Sj.length;c<d;c++)this.dI.push(this.Ls(this.Sj[c]));0<this.Sj.length&&(this.Tp=!0);d=c=0;this.Vl&&(c=d=2*this.pq);this.Mk&&(e=this.kh,c+=2*Math.abs(e.width),d+=2*Math.abs(e.height));a=0===a?this.Tp?q.size(0|Math.max.apply(Math,this.dI)+c,0|this.yk*this.Sj.length+d):q.size(0|this.Ls(this.lh)+c,0|this.yk+d):0===this.me.height?this.Tp?q.size(0|a+c,0|this.yk*this.Sj.length+d):q.size(0|a+c,0|this.yk+d):q.size(0|a+c,0|
this.me.height+d);this.G(a);this.jD=c;this.kD=d;e=this.jn;this.Td.R=.5*c+Math.round((a.width-c)*e.R);this.Td.S=.5*d+Math.round((a.height-d)*e.S)},c:function(){this.Id&&this.hJ();return q.B.prototype.c.call(this)},tD:function(){var a=this.XB(),c=this.ax,d=this.ya;if(0===this.lh.length)return c.width=1,c.height=d.ra,this.hb(q.rect(0,0,1,d.ra)),!0;a.font=this.zk;this.hJ();var e=d.Ea,d=d.ra,f=c.width==e&&c.height==d;c.width=e;c.height=d;f&&a.clearRect(0,0,e,d);this.CQ(a);this.Ga.te();this.tN=!0;this.hb(q.rect(0,
0,e,d));return!0},xa:function(a){this.lh&&""!=this.lh&&(this.Id&&(this.Id=!1,this.tD()),q.B.prototype.xa.call(this,a||q.$))},Ya:null,Zg:function(a){if(this.lh&&""!=this.lh){a=a||q.$;var c=this.Ga;c&&c.fd&&(this.gd.If(),this.gd.Dh(),q.$k(this.ka.src,this.ka.Xb),q.oh(c),q.Te(q.dw),a.bindBuffer(a.ARRAY_BUFFER,this.xx),this.Pf&&(a.bufferData(a.ARRAY_BUFFER,this.dc.JD,a.STATIC_DRAW),this.Pf=!1),a.vertexAttribPointer(q.jf,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(q.Gr,2,a.FLOAT,!1,24,16),a.vertexAttribPointer(q.Fr,
4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));1===q.mk?(a=this.dc,a=[q.a(a.Za.C.x,a.Za.C.y),q.a(a.Pa.C.x,a.Pa.C.y),q.a(a.bb.C.x,a.bb.C.y),q.a(a.Ra.C.x,a.Ra.C.y)],q.Oe.se(a,4,!0)):2===q.mk&&(a=this.lE().Xa,c=this.xc,a=[q.a(c.x,c.y),q.a(c.x+a.width,c.y),q.a(c.x+a.width,c.y+a.height),q.a(c.x,c.y+a.height)],q.Oe.se(a,4,!0));q.ei++}},VC:function(a,c,d){this.xd=c||!1;d=d||q.size(a.width/q.qd(),a.height/q.qd());this.G(d);this.HF(a);this.tN&&(c=q.la.f().sa,d=q.la.f().za,this.va.width/=c,
this.va.height/=d);c=this.Sn;d=this.Kp;c.x=a.x;c.y=a.y;c.width=a.width;c.height=a.height;c.Tm=!(0===c.width||0===c.height);d.width=c.width;d.height=c.height;d.Tm=!(0===d.width||0===d.height);a=this.Si;this.rc&&(a.R=-a.R);this.sc&&(a.S=-a.S);this.xc.R=a.x+(this.ya.Ea-this.va.width)/2;this.xc.S=a.y+(this.ya.ra-this.va.height)/2;this.ub&&(this.Oa=!0)},xk:function(a){if(this.Cb){a=a||q.$;this.xn&&(a.globalCompositeOperation="lighter");a.dW=this.kq;var c=q.la.f().sa,d=q.la.f().za;a.globalAlpha=this.oc/
255;var e=this.va,f=this.ya,g=this.xc,h=this.Kp,k=0|g.R,l=-g.S-e.height,m=this.Sn;1==this.dt&&(a.shadowBlur=30,a.shadowColor="black");if(this.rc||this.sc)a.save(),this.rc&&(k=-g.R-e.width,a.scale(-1,1)),this.sc&&(l=g.S,a.scale(1,-1));k*=c;l*=d;if(this.Ga&&m.Tm)e=this.Ga.Fc,this.Sr?a.drawImage(e,0,0,m.width,m.height,k,l,h.width,h.height):a.drawImage(e,m.x,m.y,m.width,m.height,k,l,h.width,h.height);else if(0!==f.Ea){var p=this.Od();a.fillStyle="rgba("+p.t+","+p.r+","+p.p+",1)";a.fillRect(k,l,f.Ea*c,
f.ra*d)}1==this.dt&&(a.shadowBlur=0);1==this.$C&&(a.globalAlpha=1,a.beginPath(),a.strokeStyle="rgba("+p.t+","+p.r+","+p.p+",1)",a.lineWidth="1",fa(a,k,l,f.Ea*c,f.ra*d,10),a.stroke());2===q.mk&&(a.strokeStyle="rgba(0,255,0,1)",p=this.va.Xa,l=-l,k=[q.a(k,l),q.a(k+p.width,l),q.a(k+p.width,l-p.height),q.a(k,l-p.height)],q.Oe.se(k,4,!0));(this.rc||this.sc)&&a.restore();q.ei++}},II:function(a){var c=this.ub?this.Sa.ha():this.Ga;if(c){var d=c.Nq(),e=c.Mq(),f,g=this.dc;this.xd?(q.vv?(c=(2*a.x+1)/(2*d),d=
c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/d,f=a.y/e,a=(a.y+a.width)/e),this.rc&&(e=f,f=a,a=e),this.sc&&(e=c,c=d,d=e),g.Pa.J.Va=c,g.Pa.J.qa=f,g.bb.J.Va=c,g.bb.J.qa=a,g.Za.J.Va=d,g.Za.J.qa=f,g.Ra.J.Va=d,g.Ra.J.qa=a):(q.vv?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+a.height)/e),this.rc&&(e=c,c=d,d=e),this.sc&&(e=f,f=a,a=e),g.Pa.J.Va=c,g.Pa.J.qa=a,g.bb.J.Va=d,g.bb.J.qa=
a,g.Za.J.Va=c,g.Za.J.qa=f,g.Ra.J.Va=d,g.Ra.J.qa=f);this.Pf=!0}}});q.Aa.pd?(b=q.O.prototype,b.n=q.B.prototype.n,b.Oi=q.O.prototype.cS,b.Dd=q.B.prototype.Dd,b.ua=q.B.prototype.ua,b.Ed=q.B.prototype.Ed,b.AE=q.O.prototype.UQ,b.tF=q.O.prototype.hS,b.Ya=q.O.prototype.Zg,b.hb=q.B.prototype.JI):(b=q.O.prototype,b.n=q.O.prototype.Xs,b.Oi=q.O.prototype.EI,b.Dd=q.O.prototype.qD,b.ua=q.O.prototype.Zs,b.Ed=q.O.prototype.dJ,b.AE=q.O.prototype.TQ,b.tF=q.O.prototype.gS,b.Ya=q.O.prototype.xk,b.hb=q.O.prototype.VC);
q.O.IS=["left","center","right"];q.O.JS=["top","middle","bottom","alphabetic"];q.O.lQ=/(.+?)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;q.O.UR=/(.*)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;q.O.jQ=/[\s\-\/\\\:]/;q.O.create=function(a,c,d,e,f,g){var h=new q.O;return h.jm(a,c,d,e,f,g)?h:null};q.O.Q4=function(a,c){var d=new q.O;return d&&d.AE(a,c)?d:null};q.O.LP=q.FP?q.EA:q.f2;q.O.dn=document.createElement("div");q.O.dn.style.fontFamily="Arial";q.O.dn.style.position="absolute";
q.O.dn.style.left="-100px";q.O.dn.style.top="-100px";q.O.dn.style.lineHeight="normal";document.body.appendChild(q.O.dn);q.O.lw=function(a,c){var d=q.O.nH[a+"."+c];if(0<d)return d;var e=q.O.dn;e.innerHTML="ajghl~!";e.style.fontFamily=a;e.style.fontSize=c+"px";d=e.clientHeight;q.O.nH[a+"."+c]=d;e.innerHTML="";return d};q.O.nH={};q.CO=q.Ka.extend({jd:null,target:null,eo:0,ci:null,lo:!1,paused:!1,hh:null,ctor:function(){this.jd=[];this.Y=null;this.eo=0;this.ci=null;this.paused=this.lo=!1;this.hh=null}});
q.$N=q.Ka.extend({Fi:null,mp:null,Jf:null,Bj:!1,v3:function(a,c){for(var d=0;d<a.length;d++)if(c==a[d].target)return a[d];return null},ctor:function(){this.Fi={};this.mp=[];this.Jf=null;this.Bj=!1},dT:function(a,c,d){if(!a)throw"cc.ActionManager.addAction(): action must be non-null";if(!c)throw"cc.ActionManager.addAction(): action must be non-null";var e=this.Fi[c.Bc];e||(e=new q.CO,e.paused=d,e.target=c,this.Fi[c.Bc]=e,this.mp.push(e));this.QP(e);e.jd.push(a);a.fa(c)},fba:function(){for(var a=this.mp,
c=0;c<a.length;c++){var d=a[c];d&&this.fM(d.target,!0)}},fM:function(a,c){if(null!=a){var d=this.Fi[a.Bc];d&&(-1===d.jd.indexOf(d.ci)||d.lo||(d.lo=!0),d.jd=[],this.Jf!=d||c?this.DB(d):this.Bj=!0)}},eM:function(a){if(null!=a){var c=this.Fi[a.Dn.Bc];if(c)for(var d=0;d<c.jd.length;d++){if(c.jd[d]==a){c.jd.splice(d,1);break}}else q.log("cocos2d: removeAction: Target not found")}},aY:function(a,c){a==q.Uo&&q.log("cc.ActionManager.removeActionByTag(): an invalid tag");if(!c)throw"cc.ActionManager.removeActionByTag(): target must be non-null";
var d=this.Fi[c.Bc];if(d)for(var e=d.jd.length,f=0;f<e;++f){var g=d.jd[f];if(g&&g.Md===a&&g.Dn==c){this.FR(f,d);break}}},aE:function(a,c){a==q.Uo&&q.log("cc.ActionManager.getActionByTag(): an invalid tag");var d=this.Fi[c.Bc];if(d){if(null!=d.jd)for(var e=0;e<d.jd.length;++e){var f=d.jd[e];if(f&&f.Md===a)return f}q.log("cocos2d : getActionByTag(tag ="+a+"): Action not found")}return null},HL:function(a){return(a=this.Fi[a.Bc])?a.jd?a.jd.length:0:0},mu:function(a){if(a=this.Fi[a.Bc])a.paused=!0},Ko:function(a){if(a=
this.Fi[a.Bc])a.paused=!1},Oaa:function(){for(var a=[],c=this.mp,d=0;d<c.length;d++){var e=c[d];e&&!e.paused&&(e.paused=!0,a.push(e.target))}return a},sY:function(a){if(a)for(var c=0;c<a.length;c++)a[c]&&this.Ko(a[c])},Yaa:function(){q.aa.f().Yf().mr(this)},FR:function(a,c){c.jd[a]!=c.ci||c.lo||(c.lo=!0);q.qr(c.jd,a);c.eo>=a&&c.eo--;0==c.jd.length&&(this.Jf==c?this.Bj=!0:this.DB(c))},DB:function(a){a&&(delete this.Fi[a.target.Bc],q.ie(this.mp,a),a.jd=null,a.target=null)},QP:function(a){null==a.jd&&
(a.jd=[])},update:function(a){for(var c=this.mp,d,e=0;e<c.length;e++){d=this.Jf=c[e];if(!d.paused)for(d.eo=0;d.eo<d.jd.length;d.eo++)if(d.ci=d.jd[d.eo],d.ci){d.lo=!1;d.ci.step(a);if(d.lo)d.ci=null;else if(d.ci.dj()){d.ci.stop();var f=d.ci;d.ci=null;this.eM(f)}d.ci=null}this.Bj&&0===d.jd.length&&this.DB(d)}}});q.Touch=q.Ka.extend({W:null,vx:q.lk(),ng:0,ctor:function(a,c,d){this.W=q.a(a||0,c||0);this.ng=d||0},g7:function(){return this.W},sV:function(){return this.vx},y6:function(){return q.de(this.W,this.vx)},X6:function(){return this.ng},Y6:function(){return this.ng},EF:function(a,c,d){this.vx=this.W;this.W=q.a(c||0,d||0);this.ng=a},vg:function(a,c){this.vx=q.a(a||0,c||0)}});
q.iH=q.Ka.extend({X2:null,yb:function(){return!1},Cd:function(){},Zf:function(){},fl:function(){},ML:function(){},PL:function(){},OL:function(){},NL:function(){},tea:function(){},sea:function(){}});q.w2=q.iH.extend({yb:function(){return!1},Cd:function(){},Zf:function(){},fl:function(){}});q.p2=q.iH.extend({ML:function(){},PL:function(){},OL:function(){},NL:function(){}});q.ip=q.Ka.extend({Ba:null,Of:0,Lp:0,Dc:function(){return this.Ba},Ig:function(a){this.Ba=a},tV:function(){return this.Of},wu:function(a){this.Of=a},fV:function(){return this.Lp},cZ:function(a){this.Lp=a},bl:function(a,c){if(!a)throw"cc.TouchHandler.initWithDelegate(): touch delegate should not be null";this.Ba=a;this.Of=c;this.Lp=0;return!0}});q.ip.create=function(a,c){var d=new q.ip;d&&d.bl(a,c);return d};q.KA=q.ip.extend({bl:function(a,c){return q.ip.prototype.bl.call(this,a,c)}});
q.KA.create=function(a,c){var d=new q.KA;d&&d.bl(a,c);return d};q.Xv=q.ip.extend({Kx:!1,Ep:null,s$:function(){return this.Kx},pda:function(a){this.Kx=a},j6:function(){return this.Ep},bl:function(a,c,d){return q.ip.prototype.bl.call(this,a,c)?(this.Ep=[],this.Kx=d,!0):!1}});q.Xv.create=function(a,c,d){var e=new q.Xv;e&&e.bl(a,c,d);return e};q.AP=1;q.DP=2;q.CP=4;q.BP=8;q.z2=q.AP|q.DP|q.CP|q.BP;q.PA=0;q.SA=1;q.RA=2;q.QA=3;q.y2=4;q.uL=function(a,c){return a.Of>c.Of};q.aw=function(a){this.type=a};
q.na=q.Ka.extend({Jk:!1,sf:null,rf:null,zn:!1,pt:!1,Ux:!1,Hl:null,Ak:null,Tx:!1,wk:!1,MQ:[new q.aw(q.PA),new q.aw(q.SA),new q.aw(q.RA),new q.aw(q.QA)],w:function(){this.wk=!0;this.sf=[];this.rf=[];this.Hl=[];this.Ak=[];this.Jk=this.zn=this.Tx=this.pt=this.Ux=!1;q.na.XX();return!0},Ys:function(a){this.Jk=a},HQ:function(){return this.Jk},P9:function(){return this.wk},aZ:function(a){this.wk=a},UP:function(a,c){var d=q.KA.create(a,c||0);this.zn?-1!=this.Ak.indexOf(a)?q.ie(this.Ak,a):(this.Hl.push(d),
this.pt=!0):this.rf=this.Fq(d,this.rf)},VP:function(a,c,d){c=q.Xv.create(a,c,d);this.zn?-1!=this.Ak.indexOf(a)?q.ie(this.Ak,a):(this.Hl.push(c),this.pt=!0):this.sf=this.Fq(c,this.sf)},Fq:function(a,c){for(var d=0,e,f=0;f<c.length;f++)if(e=c[f])if(e.Of<a.Of&&++d,e.Dc()==a.Dc())return q.log("cc.TouchDispatcher.forceAddHandler(): The handler has been added."),c;return q.Xm(c,a,d)},lK:function(){this.rf.length=0;this.sf.length=0},IR:function(a){if(null!=a)if(this.zn){var c=this.gK(this.Hl,a);c?q.ie(this.Hl,
c):(this.Ak.push(a),this.Ux=!0)}else this.mK(a)},cY:function(){this.zn?this.Tx=!0:this.lK()},wu:function(a,c){if(!c)throw"cc.TouchDispatcher.setPriority(): delegate should be non-null.";var d=this.gK(c);d?d.Of!=a&&(d.wu(a),this.$L(this.sf),this.$L(this.rf)):q.log("cc.TouchDispatcher.setPriority(): Can't find TouchHandler.")},touches:function(a,c,d){if(0>d||4<=d)throw"cc.TouchDispatcher.touches(): invalid index";this.zn=!0;var e=this.sf.length,f=this.rf.length,g=e&&f,h=g?a.slice():a,k=this.MQ[d];if(0<
e)for(var l,m,p=0;p<a.length;p++)for(var e=a[p],w=0;w<this.sf.length;w++){l=this.sf[w];if(!l)break;m=!1;if(d==q.PA)l.Dc().yb&&(m=l.Dc().yb(e,c))&&l.Ep.push(e);else if(0<l.Ep.length)switch(m=!0,k.type){case q.SA:q.Aa.Zj?l.Dc().Cd&&l.Dc().Cd(e,c):this.Jk&&l.Dc().Cd&&l.Dc().Cd(e,c);break;case q.RA:l.Dc().Zf&&l.Dc().Zf(e,c);l.Ep.length=0;break;case q.QA:l.Dc().fl&&l.Dc().fl(e,c),l.Ep.length=0}if(m&&l.Kx){g&&q.ie(h,e);break}}if(0<f)for(p=0;p<this.rf.length&&(l=this.rf[p],l);p++);this.zn=!1;if(this.Ux){this.Ux=
!1;for(p=0;p<this.Ak.length;p++)this.mK(this.Ak[p]);this.Ak.length=0}if(this.pt){this.pt=!1;for(p=0;p<this.Hl.length;p++){l=this.Hl[p];if(!l)break;l instanceof q.Xv?this.sf=this.Fq(l,this.sf):this.rf=this.Fq(l,this.rf)}this.Hl.length=0}this.Tx&&(this.Tx=!1,this.lK())},Ez:function(a,c){this.wk&&this.touches(a,c,q.PA)},Fz:function(a,c){this.wk&&this.touches(a,c,q.SA)},Hu:function(a,c){this.wk&&this.touches(a,c,q.RA)},VF:function(a,c){this.wk&&this.touches(a,c,q.QA)},gK:function(a,c){switch(arguments.length){case 1:c=
arguments[0];if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(var d=0;d<this.sf.length;d++)if(this.sf[d].Dc()==c)return this.sf[d];for(d=0;d<this.rf.length;d++)if(this.rf[d].Dc()==c)return this.rf[d];return null;case 2:if(!a)throw"cc.TouchDispatcher.findHandler(): array should be non-null.";if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(d=0;d<a.length;d++)if(a[d].Dc()==c)return a[d];return null;default:throw"Argument must be non-nil ";
}},mK:function(a){for(var c,d=0;d<this.rf.length;d++)if((c=this.rf[d])&&c.Dc()==a){q.ie(this.rf,c);break}for(d=0;d<this.sf.length;d++)if((c=this.sf[d])&&c.Dc()==a){q.ie(this.sf,c);break}},$L:function(a){a.sort(q.uL)}});q.na.Hb=q.a(0,0);q.na.jL=!1;
q.Uj=function(a){var c=document.documentElement,d=window,e=null,e="function"===typeof a.getBoundingClientRect?a.getBoundingClientRect():a instanceof HTMLCanvasElement?{left:0,top:0,width:a.width,height:a.height}:{left:0,top:0,width:parseInt(a.style.width),height:parseInt(a.style.height)};return{left:e.left+d.pageXOffset-c.clientLeft,top:e.top+d.pageYOffset-c.clientTop,width:e.width,height:e.height}};
q.kP=function(a,c){var d=q.Uj(a),e,f;null!=c.pageX?(e=c.pageX,f=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,e=c.clientX,f=c.clientY);e=q.la.f().Wk(e,f,d);d=new q.Touch(e.x,e.y);d.vg(q.na.Hb.x,q.na.Hb.y);q.na.Hb.x=e.x;q.na.Hb.y=e.y;e=[];e.push(d);q.la.f().Hu(e,null)};
q.na.XX=function(){var a=q.canvas;if(!q.na.jL){if(q.Aa.Zj)if(window.navigator.msPointerEnabled){var c={MSPointerDown:"touchesBegan",MSPointerMove:"touchesMoved",MSPointerUp:"touchesEnded",MSPointerCancel:"touchesCancelled"},d;for(d in c)(function(c,d){a.addEventListener(c,function(c){var e=q.Uj(a);e.left-=document.body.scrollLeft;e.top-=document.body.scrollTop;var k,l;k=c.clientX;l=c.clientY;k=q.la.f().Wk(k,l,e);e=new q.Touch(k.x,k.y);e.vg(q.na.Hb.x,q.na.Hb.y);q.na.Hb.x=k.x;q.na.Hb.y=k.y;q.aa.f().uf[d]([e],
null);c.stopPropagation();c.preventDefault()},!1)})(d,c[d])}else a.addEventListener("touchstart",function(c){if(c.changedTouches){var d=[],g=q.Uj(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,p=0;p<m;p++)if(h=c.changedTouches[p])k=h.clientX,l=h.clientY,k=q.la.f().Wk(k,l,g),h.hasOwnProperty("identifier")?(h=new q.Touch(k.x,k.y,h.identifier),l=q.na.Qw(h).W,h.vg(l.x,l.y),q.na.FI(h)):(h=new q.Touch(k.x,k.y),h.vg(q.na.Hb.x,q.na.Hb.y)),q.na.Hb.x=
k.x,q.na.Hb.y=k.y,d.push(h);q.la.f().Ez(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchmove",function(c){if(c.changedTouches){var d=[],g=q.Uj(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,p=0;p<m;p++)if(h=c.changedTouches[p])k=h.clientX,l=h.clientY,k=q.la.f().Wk(k,l,g),h.hasOwnProperty("identifier")?(h=new q.Touch(k.x,k.y,h.identifier),l=q.na.Qw(h).W,h.vg(l.x,l.y),q.na.FI(h)):(h=new q.Touch(k.x,k.y),h.vg(q.na.Hb.x,
q.na.Hb.y)),q.na.Hb.x=k.x,q.na.Hb.y=k.y,d.push(h);q.la.f().Fz(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchend",function(c){if(c.changedTouches){var d=[],g=q.Uj(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,p=0;p<m;p++)if(h=c.changedTouches[p])k=h.clientX,l=h.clientY,k=q.la.f().Wk(k,l,g),h.hasOwnProperty("identifier")?(h=new q.Touch(k.x,k.y,h.identifier),l=q.na.Qw(h).W,h.vg(l.x,l.y),q.na.HH(h)):(h=new q.Touch(k.x,
k.y),h.vg(q.na.Hb.x,q.na.Hb.y)),q.na.Hb.x=k.x,q.na.Hb.y=k.y,d.push(h);q.la.f().Hu(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchcancel",function(c){if(c.changedTouches){var d=[],g=q.Uj(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,p=0;p<m;p++)if(h=c.changedTouches[p])k=h.clientX,l=h.clientY,k=q.la.f().Wk(k,l,g),h.hasOwnProperty("identifier")?(h=new q.Touch(k.x,k.y,h.identifier),l=q.na.Qw(h).W,h.vg(l.x,l.y),
q.na.HH(h)):(h=new q.Touch(k.x,k.y),h.vg(q.na.Hb.x,q.na.Hb.y)),q.na.Hb.x=k.x,q.na.Hb.y=k.y,d.push(h);q.la.f().VF(d,null);c.stopPropagation();c.preventDefault()}},!1);else window.addEventListener("mousedown",function(){q.aa.f().uf.Ys(!0)}),window.addEventListener("mouseup",function(c){q.aa.f().uf.Ys(!1);var d=q.Uj(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);q.vc(new q.Rect(d.left,d.top,d.width,d.height),q.a(g,c))||
(g=q.la.f().Wk(g,c,d),d=new q.Touch(g.x,g.y),d.vg(q.na.Hb.x,q.na.Hb.y),q.na.Hb.x=g.x,q.na.Hb.y=g.y,g=[],g.push(d),q.la.f().Hu(g,null))}),a.addEventListener("mousedown",function(c){var d=q.Uj(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=q.la.f().Wk(g,c,d);d=new q.Touch(g.x,g.y);d.vg(q.na.Hb.x,q.na.Hb.y);q.na.Hb.x=g.x;q.na.Hb.y=g.y;g=[];g.push(d);q.la.f().Ez(g,null)}),a.addEventListener("mouseup",function(c){q.kP(a,
c)}),a.addEventListener("mousemove",function(c){var d=q.Uj(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=q.la.f().Wk(g,c,d);d=new q.Touch(g.x,g.y);d.vg(q.na.Hb.x,q.na.Hb.y);q.na.Hb.x=g.x;q.na.Hb.y=g.y;g=[];g.push(d);q.la.f().Fz(g,null)});q.na.jL=!0}};q.na.Qw=function(a){for(var c=null,d=q.na.yC,e=a.ng,f=d.length-1;0<=f;f--)if(d[f].ng==e){c=d[f];break}c||(c=a);return c};
q.na.FI=function(a){for(var c=!1,d=q.na.yC,e=a.ng,f=d.length-1;0<=f;f--)if(d[f].ng==e){d[f]=a;c=!0;break}c||(50>=d.length?d.push(a):(d[q.na.zC]=a,q.na.zC=(q.na.zC+1)%50))};q.na.HH=function(a){var c,d=q.na.yC;c=a.ng;for(a=d.length-1;0<=a;a--)if(d[a].ng==c){c=d.pop();a!=d.length&&(d[a]=c);break}};q.na.yC=[];q.na.zC=0;q.$E=function(a,c,d){q.aa.f().uf.VP(d,a,c)};q.YX=function(a,c){q.aa.f().uf.UP(a,c)};q.FN=function(a){q.aa.f().uf.IR(a)};q.UO=1;q.FG=2;q.r1=4;q.YO=8;q.S1=16;q.T1=32;q.U1=64;q.E1=128;q.F1=256;q.G1=512;q.XG=1024;q.VO=2048;q.WO=4096;q.XO=0;q.s1=1;q.GG=2;q.u1=q.Ka.extend({aX:function(){return!1},bX:function(){return!1},ij:function(){return!1},eX:function(){return!1},iX:function(){return!1},jX:function(){return!1},kX:function(){return!1},fX:function(){return!1},gX:function(){return!1},hX:function(){return!1},lX:function(){return!1},cX:function(){return!1},dX:function(){return!1}});
q.ZO=q.Touch.extend({kJ:0,xH:q.XO,h9:function(){return this.kJ},kN:function(a){this.kJ=a},b6:function(){return this.xH},QY:function(a){this.xH=a}});q.tA=q.Ka.extend({Ba:null,Of:0,Lp:0,Dc:function(){return this.Ba},Ig:function(a){this.Ba=a},tV:function(){return this.Of},wu:function(a){this.Of=a},fV:function(){return this.Lp},cZ:function(a){this.Lp=a},bl:function(a,c){this.Ba=a;this.Of=c}});q.tA.create=function(a,c){var d=new q.tA;d.bl(a,c);return d};
q.Ae=q.Ka.extend({Jk:!1,zx:!1,og:null,wk:!1,w:function(){this.wk=!0;this.og=[];this.zx=this.Jk=!1;q.Ae.DR();return!0},Ys:function(a){this.Jk=a},HQ:function(){return this.Jk},GI:function(a){this.zx=a},f3:function(){return this.zx},vJ:function(a,c){var d=q.tA.create(a,c);this.og=this.Fq(d,this.og)},Fq:function(a,c){for(var d=0,e=0;e<c.length;e++){var f=c[e];if(f&&(f.Of<a.Of&&++d,f.Dc()==a.Dc()))return q.log("cc.MouseDispatcher.forceAddHandler(): handler has been added."),c}return q.Xm(c,a,d)},gM:function(a){if(null!=
a)for(var c=0;c<this.og.length;c++){var d=this.og[c];if(d&&d.Dc()==a){q.ie(this.og,d);break}}},FQ:function(a){for(var c=0;c<this.og.length;c++)if(this.og[c]&&this.og[c].Dc()==a)return this.og[c];return null},wu:function(a,c){if(!c)throw"cc.MouseDispatcher.setPriority(): delegate should be non-null";var d=this.FQ(c);d?d.Of!=a&&(d.wu(a),this.og.sort(q.uL)):q.log("cc.MouseDispatcher.setPriority(): Can't find MouseHandler in array")},iba:function(){this.og.length=0},yo:function(a,c,d){for(c=0;c<this.og.length;c++){var e=
this.og[c];switch(d){case q.FG:this.Jk||this.zx||!e.Dc().ij||e.Dc().ij(a)}}}});q.Ae.ux=q.a(0,0);q.Ae.cR=!1;
q.Ae.DR=function(){var a=q.canvas;function c(c){var e=q.Uj(a),f=c.pageX,g=c.pageY,h=q.la.f(),f=(f-e.left)/h.sa,e=(e.height-(g-e.top))/h.za,g=new q.ZO(f,e);g.vg(q.Ae.ux.x,q.Ae.ux.y);g.QY(c.button);q.Ae.ux.x=f;q.Ae.ux.y=e;return g}q.Ae.cR||(window.addEventListener("mousedown",function(a){a.button==q.GG?q.aa.f().Wf().GI(!0):q.aa.f().Wf().Ys(!0)}),window.addEventListener("mouseup",function(a){a.button==q.GG?q.aa.f().Wf().GI(!1):q.aa.f().Wf().Ys(!1)}),a.addEventListener("mousedown",function(a){q.aa.f().Wf().yo(c(a),
a,q.UO)}),a.addEventListener("mouseup",function(a){q.aa.f().Wf().yo(c(a),a,q.YO)}),a.addEventListener("mousemove",function(a){q.aa.f().Wf().yo(c(a),a,q.FG)}),a.addEventListener("mousewheel",function(a){var e=c(a);e.kN(a.wheelDelta);q.aa.f().Wf().yo(e,a,q.XG)},!1),a.addEventListener("DOMMouseScroll",function(a){var e=c(a);e.kN(-120*a.detail);q.aa.f().Wf().yo(e,a,q.XG)}),a.addEventListener("mouseout",function(a){q.aa.f().Wf().yo(c(a),a,q.WO)},!1),a.addEventListener("mouseover",function(a){q.aa.f().Wf().yo(c(a),
a,q.VO)},!1))};q.Lea=function(){return{x:0,y:0}};q.Sm=function(a,c){return{x:a,y:c}};q.Fh=function(a,c){return q.Sm(a.x+c.x,a.y+c.y)};q.Sd=function(a,c){return q.Sm(a.x-c.x,a.y-c.y)};q.Pg=function(a,c){return q.Sm(a.x*c,a.y*c)};q.Mz=function(a){return q.Sm(-a.y,a.x)};q.fk=function(a){return q.Sm(-a.x,-a.y)};q.L_=function(a,c){return a.x*c.x+a.y*c.y};q.Kea=function(a){return q.Sm(Math.cos(a),Math.sin(a))};q.cG=function(a){a=q.ri(q.a(a.x,a.y));return q.Sm(a.x,a.y)};q.tj=function(a){return q.Sm(a.x,a.y)};
q.Tb=function(a){return{Va:a.x,qa:a.y}};
q.tO=q.Node.extend({ob:null,ka:null,Jp:null,$p:null,Qt:function(){return this.ka},Dm:function(a){this.ka=a},ica:function(a){this.Jp=q.l(a.t,a.r,a.p,a.Q)},Bca:function(a){this.$p=null==a?null:q.l(a.t,a.r,a.p,a.Q)},ry:function(){return q.l(this.Jp.t,this.Jp.r,this.Jp.p,this.Jp.Q)},uK:function(){return this.$p?q.l(this.$p.t,this.$p.r,this.$p.p,this.$p.Q):null},ctor:function(){q.Node.prototype.ctor.call(this);this.ob=[];this.Jp=q.l(0,0,0,255);this.ka=new q.Zm(q.ff,q.ef)},Ya:function(a){a=a||q.$;var c=
q.la.f().sa;this.ka&&770==this.ka.src&&1==this.ka.Xb&&(a.globalCompositeOperation="lighter");for(var d=0;d<this.ob.length;d++){var e=this.ob[d];e.type===q.Sg.fH&&(a.fillStyle="rgba("+(0|e.color.t)+","+(0|e.color.r)+","+(0|e.color.p)+","+e.color.Q/255+")",q.Oe.VD(e.position,e.YE));e.type===q.Sg.gH&&(a.strokeStyle="rgba("+(0|e.color.t)+","+(0|e.color.r)+","+(0|e.color.p)+","+e.color.Q/255+")",a.lineWidth=2*e.YE*c,a.lineCap="round",q.Oe.Zi(e.from,e.Qm));e.type===q.Sg.TA&&(a.fillStyle="rgba("+(0|e.fillColor.t)+
","+(0|e.fillColor.r)+","+(0|e.fillColor.p)+","+e.fillColor.Q/255+")",q.Oe.se(e.Nz,e.count,!1,!0),a.lineWidth=2*e.borderWidth*c,a.lineCap="round",a.strokeStyle="rgba("+(0|e.borderColor.t)+","+(0|e.borderColor.r)+","+(0|e.borderColor.p)+","+e.borderColor.Q/255+")",q.Oe.se(e.Nz,e.count,!0,!1))}},WD:function(a,c,d,e,f,g){f=f||this.n3;g=g||this.ry();null==g.Q&&(g.Q=255);for(var h=[],k=0,l=0;l<e;l++)h.push(q.a(Math.pow(1-k,2)*a.x+2*(1-k)*k*c.x+k*k*d.x,Math.pow(1-k,2)*a.y+2*(1-k)*k*c.y+k*k*d.y)),k+=1/e;
h.push(q.a(d.x,d.y));a=new q.jw(q.Sg.TA);a.Nz=h;a.lineWidth=f;a.fillColor=g;a.borderColor=g;a.r$=!0;a.lineCap="round";this.ob.push(a)},GU:function(a,c,d){var e=new q.jw(q.Sg.fH);e.position=q.a(a.x,a.y);e.YE=c;e.color=d;this.ob.push(e)},KU:function(a,c,d,e){var f=new q.jw(q.Sg.gH);f.from=q.a(a.x,a.y);f.Qm=q.a(c.x,c.y);f.YE=d?d:1;f.color=e?e:this.ry();this.ob.push(f)},se:function(a,c,d,e){var f=new q.jw(q.Sg.TA);f.Nz=a;f.count=a.length;f.fillColor=c?c:this.ry();f.borderWidth=d?d:1;f.borderColor=e?e:
this.uK()?this.uK():this.ry();this.ob.push(f)},clear:function(){this.ob.length=0}});
q.uO=q.Node.extend({sp:0,ob:null,Yl:null,YI:null,XI:null,ka:null,Oa:!1,Qt:function(){return this.ka},Dm:function(a){this.ka=a},ctor:function(){q.Node.prototype.ctor.call(this);this.ob=[];this.ka=new q.Zm(q.ff,q.ef)},w:function(){return q.Node.prototype.w.call(this)?(this.Bh(q.zi.f().jj(q.e2)),this.NB(512),this.YI=q.$.createBuffer(),this.Oa=!0):!1},OR:function(){var a=q.$;q.Te(q.dw);a.bindBuffer(a.ARRAY_BUFFER,this.YI);this.Oa&&(a.bufferData(a.ARRAY_BUFFER,this.Yl,a.STREAM_DRAW),this.Oa=!1);var c=
q.mc.BYTES_PER_ELEMENT;a.vertexAttribPointer(q.jf,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(q.Fr,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(q.Gr,2,a.FLOAT,!1,c,12);a.drawArrays(a.TRIANGLES,0,3*this.ob.length);q.wi()},NB:function(a){if(this.ob.length+a>this.sp){var c=q.cd.BYTES_PER_ELEMENT;this.sp+=Math.max(this.sp,a);if(null==this.ob||0===this.ob.length)this.ob=[],this.Yl=new ArrayBuffer(c*this.sp),this.XI=new Uint8Array(this.Yl);else{a=[];for(var d=new ArrayBuffer(c*this.sp),e=0;e<this.ob.length;e++)a[e]=
new q.cd(this.ob[e].Q,this.ob[e].p,this.ob[e].La,d,e*c);this.XI=new Uint8Array(d);this.ob=a;this.Yl=d}}},Ya:function(){q.$k(this.ka.src,this.ka.Xb);this.gd.If();this.gd.gN();this.OR()},GU:function(a,c,d){d={t:0|255*d.t,r:0|255*d.r,p:0|255*d.p,Q:0|255*d.Q};var e={C:{x:a.x-c,y:a.y-c},T:d,J:{Va:-1,qa:-1}},f={C:{x:a.x+c,y:a.y+c},T:d,J:{Va:1,qa:1}},g={C:{x:a.x+c,y:a.y-c},T:d,J:{Va:1,qa:-1}};this.ob.push(new q.cd(e,{C:{x:a.x-c,y:a.y+c},T:d,J:{Va:-1,qa:1}},f,this.Yl,this.ob.length*q.cd.BYTES_PER_ELEMENT));
this.ob.push(new q.cd(e,f,g,this.Yl,this.ob.length*q.cd.BYTES_PER_ELEMENT));this.Oa=!0},KU:function(a,c,d,e){this.NB(18);e={t:0|255*e.t,r:0|255*e.r,p:0|255*e.p,Q:0|255*e.Q};var f=q.tj(a);c=q.tj(c);a=q.cG(q.Mz(q.Sd(c,f)));var g=q.Mz(a),h=q.Pg(a,d);d=q.Pg(g,d);var k=q.Fh(c,q.Sd(h,d)),l=q.Sd(c,h),m=q.Fh(c,h),p=q.Sd(f,h),w=q.Fh(f,h),v=q.Sd(f,q.Sd(h,d)),f=q.Fh(f,q.Fh(h,d)),x=q.cd.BYTES_PER_ELEMENT,z=this.Yl;this.ob.push(new q.cd({C:q.Sd(c,q.Fh(h,d)),T:e,J:q.Tb(q.fk(q.Fh(a,g)))},{C:k,T:e,J:q.Tb(q.Sd(a,
g))},{C:l,T:e,J:q.Tb(q.fk(a))},z,this.ob.length*x));this.ob.push(new q.cd({C:m,T:e,J:q.Tb(a)},{C:k,T:e,J:q.Tb(q.Sd(a,g))},{C:l,T:e,J:q.Tb(q.fk(a))},z,this.ob.length*x));this.ob.push(new q.cd({C:m,T:e,J:q.Tb(a)},{C:p,T:e,J:q.Tb(q.fk(a))},{C:l,T:e,J:q.Tb(q.fk(a))},z,this.ob.length*x));this.ob.push(new q.cd({C:m,T:e,J:q.Tb(a)},{C:p,T:e,J:q.Tb(q.fk(a))},{C:w,T:e,J:q.Tb(a)},z,this.ob.length*x));this.ob.push(new q.cd({C:v,T:e,J:q.Tb(q.Sd(g,a))},{C:p,T:e,J:q.Tb(q.fk(a))},{C:w,T:e,J:q.Tb(a)},z,this.ob.length*
x));this.ob.push(new q.cd({C:v,T:e,J:q.Tb(q.Sd(g,a))},{C:f,T:e,J:q.Tb(q.Fh(a,g))},{C:w,T:e,J:q.Tb(a)},z,this.ob.length*x));this.Oa=!0},se:function(a,c,d,e){c={t:0|255*c.t,r:0|255*c.r,p:0|255*c.p,Q:0|255*c.Q};e={t:0|255*e.t,r:0|255*e.r,p:0|255*e.p,Q:0|255*e.Q};var f=[],g,h,k,l,m=a.length;for(g=0;g<m;g++){h=q.tj(a[(g-1+m)%m]);k=q.tj(a[g]);l=q.tj(a[(g+1)%m]);var p=q.cG(q.Mz(q.Sd(k,h)));k=q.cG(q.Mz(q.Sd(l,k)));f[g]={offset:q.Pg(q.Fh(p,k),1/(q.L_(p,k)+1)),BL:k}}p=0<d;this.NB(3*(3*m-2));var w=q.cd.BYTES_PER_ELEMENT,
v=this.Yl,x=this.ob,z=0==p?.5:0;for(g=0;g<m-2;g++)h=q.Sd(q.tj(a[0]),q.Pg(f[0].offset,z)),k=q.Sd(q.tj(a[g+1]),q.Pg(f[g+1].offset,z)),l=q.Sd(q.tj(a[g+2]),q.Pg(f[g+2].offset,z)),x.push(new q.cd({C:h,T:c,J:q.Tb({x:0,y:0})},{C:k,T:c,J:q.Tb({x:0,y:0})},{C:l,T:c,J:q.Tb({x:0,y:0})},v,x.length*w));for(g=0;g<m;g++){z=(g+1)%m;h=q.tj(a[g]);k=q.tj(a[z]);l=f[g].BL;var G=f[g].offset,J=f[z].offset,z=p?q.Sd(h,q.Pg(G,d)):q.Sd(h,q.Pg(G,.5)),D=p?q.Sd(k,q.Pg(J,d)):q.Sd(k,q.Pg(J,.5));h=p?q.Fh(h,q.Pg(G,d)):q.Fh(h,q.Pg(G,
.5));k=p?q.Fh(k,q.Pg(J,d)):q.Fh(k,q.Pg(J,.5));p?(x.push(new q.cd({C:z,T:e,J:q.Tb(q.fk(l))},{C:D,T:e,J:q.Tb(q.fk(l))},{C:k,T:e,J:q.Tb(l)},v,x.length*w)),x.push(new q.cd({C:z,T:e,J:q.Tb(q.fk(l))},{C:h,T:e,J:q.Tb(l)},{C:k,T:e,J:q.Tb(l)},v,x.length*w))):(x.push(new q.cd({C:z,T:c,J:q.Tb({x:0,y:0})},{C:D,T:c,J:q.Tb({x:0,y:0})},{C:k,T:c,J:q.Tb(l)},v,x.length*w)),x.push(new q.cd({C:z,T:c,J:q.Tb({x:0,y:0})},{C:h,T:c,J:q.Tb(l)},{C:k,T:c,J:q.Tb(l)},v,x.length*w)))}this.Oa=!0},clear:function(){this.ob.length=
0;this.Oa=!0}});q.Sg=q.Aa.pd?q.uO:q.tO;q.Sg.create=function(){var a=new q.Sg;return a&&a.w()?a:null};q.jw=function(a){this.type=a};q.Sg.fH=0;q.Sg.gH=1;q.Sg.TA=2;q.Cu=-1;q.VM=function(a,c){a.Bh(c);var d=a.D;if(d)for(var e=0;e<d.length;e++)q.VM(d[e],c)};
q.Eb=q.Node.extend({Hc:null,hn:0,Gj:!1,RH:!1,ctor:function(){q.Node.prototype.ctor.call(this);this.Hc=null;this.hn=0;this.Gj=!1},w:null,dC:function(a){this.Hc=a;this.hn=1;this.Gj=!1;q.Eb.fC=!0;q.Eb.fC&&(q.Cu=q.$.getParameter(q.$.STENCIL_BITS),0>=q.Cu&&q.log("Stencil buffer is not enabled."),q.Eb.fC=!1);return!0},cC:function(a){this.Hc=a;this.hn=1;this.Gj=!1},wh:function(){q.Node.prototype.wh.call(this);this.Hc.wh()},hj:function(){q.Node.prototype.hj.call(this);this.Hc.hj()},qi:function(){this.Hc.qi();
q.Node.prototype.qi.call(this)},ve:function(){this.Hc.ve();q.Node.prototype.ve.call(this)},xa:null,Zn:function(a){var c=a||q.$;if(1>q.Cu)q.Node.prototype.xa.call(this,a);else if(this.Hc&&this.Hc.Ua)if(q.Eb.Gs=-1,q.Eb.Gs+1==q.Cu)q.Eb.AD=!0,q.Eb.AD&&(q.log("Nesting more than "+q.Cu+"stencils is not supported. Everything will be drawn without stencil for this node and its childs."),q.Eb.AD=!1),q.Node.prototype.xa.call(this,a);else{q.Eb.Gs++;var d=1<<q.Eb.Gs,e=d|d-1,f=c.isEnabled(c.STENCIL_TEST),g=c.getParameter(c.STENCIL_WRITEMASK),
h=c.getParameter(c.STENCIL_FUNC),k=c.getParameter(c.STENCIL_REF),l=c.getParameter(c.STENCIL_VALUE_MASK),m=c.getParameter(c.STENCIL_FAIL),p=c.getParameter(c.STENCIL_PASS_DEPTH_FAIL),w=c.getParameter(c.STENCIL_PASS_DEPTH_PASS);c.enable(c.STENCIL_TEST);c.stencilMask(d);var v=c.getParameter(c.DEPTH_WRITEMASK);c.depthMask(!1);c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.Gj?c.REPLACE:c.ZERO,c.KEEP,c.KEEP);q.Oe.XD(q.lk(),q.oX(),q.fy(1,1,1,1));c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.Gj?c.ZERO:c.REPLACE,
c.KEEP,c.KEEP);if(1>this.hn){var d=q.zi.f().jj(q.g2),x=c.getUniformLocation(d.vy(),q.B2);q.o9(d.vy());d.fN(x,this.hn);q.VM(this.Hc,d)}q.Wq();this.transform();this.Hc.xa();q.Vq();c.depthMask(v);c.stencilFunc(c.EQUAL,e,e);c.stencilOp(c.KEEP,c.KEEP,c.KEEP);q.Node.prototype.xa.call(this,a);c.stencilFunc(h,k,l);c.stencilOp(m,p,w);c.stencilMask(g);f||c.disable(c.STENCIL_TEST);q.Eb.Gs--}else this.Gj&&q.Node.prototype.xa.call(this,a)},Yn:function(a){if(this.Hc&&this.Hc.Ua){if(this.pB()||this.Hc instanceof
q.B){a=a||q.$;var c=a.canvas,d=q.Eb.KQ();d.width=c.width;d.height=c.height;d.getContext("2d").drawImage(c,0,0);a.save();this._super(a);a.globalCompositeOperation=this.Gj?"destination-out":"destination-in";this.transform(a);this.Hc.xa();a.restore();a.save();a.setTransform(1,0,0,1,0,0);a.globalCompositeOperation="destination-over";a.drawImage(d,0,0)}else{a=a||q.$;var d=this.D,e;a.save();this.transform(a);this.Hc.xa(a);a.clip();this.pB(!0);var f=d.length;if(0<f){this.we();for(c=0;c<f;c++)if(e=d[c],0>
e.qb)e.xa(a);else break;for(this.Ya(a);c<f;c++)d[c].xa(a)}else this.Ya(a);this.pB(!1)}a.restore()}else this.Gj&&q.Node.prototype.xa.call(this,a)},E8:function(){return this.Hc},BF:null,vS:function(a){this.Hc=a},uS:function(a){this.Hc=a;var c=q.la.f().sa,d=q.la.f().za,e=q.$;!(a instanceof q.B)&&a instanceof q.Sg&&(a.Ya=function(){for(var f=0;f<a.ob.length;f++){var g=a.ob[f].Nz,h=g[0];e.beginPath();e.moveTo(h.x*c,-h.y*d);for(var h=1,k=g.length;h<k;h++)e.lineTo(g[h].x*c,-g[h].y*d)}})},O5:function(){return this.hn},
Qba:function(a){this.hn=a},Z9:function(){return this.Gj},yca:function(a){this.Gj=a},pB:function(a){if(!0===a||!1===a)q.Eb.prototype.RH=a;return q.Eb.prototype.RH}});q.Aa.pd?(q.Eb.prototype.w=q.Eb.prototype.dC,q.Eb.prototype.xa=q.Eb.prototype.Zn,q.Eb.prototype.BF=q.Eb.prototype.vS):(q.Eb.prototype.w=q.Eb.prototype.cC,q.Eb.prototype.xa=q.Eb.prototype.Yn,q.Eb.prototype.BF=q.Eb.prototype.uS);q.Eb.fC=null;q.Eb.AD=null;q.Eb.Gs=null;q.Eb.MI=null;q.Eb.KQ=function(){return q.Eb.MI||(q.Eb.MI=document.createElement("canvas"))};
q.Eb.create=function(a){var c=new q.Eb;c.w(a);return c};q.d1=0;q.e1=1;q.f1=2;q.ap=function(a){--a;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;return(a|a>>16)+1};
q.Bb=q.Node.extend({tp:null,vp:null,Lw:0,as:0,rx:0,Ga:null,mt:null,OS:null,sg:q.ok,Fb:null,yw:0,tk:null,vB:0,wB:0,Mr:!1,uB:null,ctor:null,Bi:function(){q.Node.prototype.ctor.call(this);this.tk=q.fy(1,1,1,1);this.uB="rgba(255,255,255,1)";this.tp=document.createElement("canvas");this.vp=this.tp.getContext("2d");this.A(0,0)},Ci:function(){q.Node.prototype.ctor.call(this);this.tk=q.fy(0,0,0,0)},zg:null,mQ:function(){q.Node.prototype.ve.call(this);this.tp=this.vp=null},nQ:function(){q.Node.prototype.ve.call(this);
this.mt=null;var a=q.$;a.deleteFramebuffer(this.Lw);this.as&&a.deleteRenderbuffer(this.as);this.OS=null},EV:function(){return this.Fb},xu:function(a){this.Fb=a},CE:null,VQ:function(a,c){var d=this.tp,e=q.qd();d.width=0|a*e;d.height=0|c*e;this.vp.translate(0,d.height);e=new q.qc;e.Bf(d);e.te();this.Fb=q.B.cb(e);return!0},WQ:function(a,c,d,e){d==q.Ar&&q.log("cc.RenderTexture._initWithWidthAndHeightForWebGL() : only RGB and RGBA formats are valid for a render texture;");var f=q.$,g=q.qd();a=0|a*g;c=
0|c*g;this.rx=f.getParameter(f.FRAMEBUFFER_BINDING);var h;q.gf.f().jt?(g=a,h=c):(g=q.ap(a),h=q.ap(c));for(var k=new Uint8Array(g*h*4),l=0;l<g*h*4;l++)k[l]=0;this.sg=d;this.Ga=new q.qc;if(!this.Ga)return!1;l=this.Ga;l.Cy(k,this.sg,g,h,q.size(a,c));d=f.getParameter(f.RENDERBUFFER_BINDING);if(q.gf.f().Bq("GL_QCOM")){this.mt=new q.qc;if(!this.mt)return!1;this.mt.Cy(k,this.sg,g,h,q.size(a,c))}this.Lw=f.createFramebuffer();f.bindFramebuffer(f.FRAMEBUFFER,this.Lw);f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,
f.TEXTURE_2D,l.Vi,0);0!=e&&(this.as=f.createRenderbuffer(),f.bindRenderbuffer(f.RENDERBUFFER,this.as),f.renderbufferStorage(f.RENDERBUFFER,e,g,h),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,this.as));f.checkFramebufferStatus(f.FRAMEBUFFER)!==f.FRAMEBUFFER_COMPLETE&&q.log("Could not attach texture to the framebuffer");l.rM();a=this.Fb=q.B.cb(l);a.Oo(-1);a.Dm(f.ONE,f.ONE_MINUS_SRC_ALPHA);f.bindRenderbuffer(f.RENDERBUFFER,d);f.bindFramebuffer(f.FRAMEBUFFER,this.rx);this.Mr=
!1;this.e(a);return!0},Uk:null,cQ:function(){q.$=this.vp;q.Oe.XM(q.$);q.la.f().rS()},dQ:function(){q.uo(q.Ev);q.Wq();q.uo(q.Dv);q.Wq();var a=q.aa.f();a.lz(a.Rl);var c=this.Ga.ya,d=q.aa.f().MV(),a=d.width/c.width,d=d.height/c.height,e=q.$;e.viewport(0,0,c.width,c.height);c=new q.ki;q.KW(c,-1/a,1/a,-1/d,1/d,-1,1);q.Ky(c);this.rx=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,this.Lw);q.gf.f().Bq("GL_QCOM")&&(e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,
this.mt.Vi,0),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.Ga.Vi,0))},LD:function(a,c,d,e,f,g){var h=q.$;f=f||h.COLOR_BUFFER_BIT;g=g||h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT;this.mB(a,c,d,e,f,g,h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT|h.STENCIL_BUFFER_BIT)},mB:null,eQ:function(a,c,d,e){this.Uk();a=a||0;c=c||0;d=d||0;e=isNaN(e)?1:e;var f=this.vp,g=this.tp;f.save();f.fillStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+
")";f.clearRect(0,0,g.width,-g.height);f.fillRect(0,0,g.width,-g.height);f.restore()},fQ:function(a,c,d,e,f,g,h){this.Uk();var k=q.$,l=[0,0,0,0],m=0,p=0;h&k.COLOR_BUFFER_BIT&&(l=k.getParameter(k.COLOR_CLEAR_VALUE),k.clearColor(a,c,d,e));h&k.DEPTH_BUFFER_BIT&&(m=k.getParameter(k.DEPTH_CLEAR_VALUE),k.clearDepth(f));h&k.STENCIL_BUFFER_BIT&&(p=k.getParameter(k.STENCIL_CLEAR_VALUE),k.clearStencil(g));k.clear(h);h&k.COLOR_BUFFER_BIT&&k.clearColor(l[0],l[1],l[2],l[3]);h&k.DEPTH_BUFFER_BIT&&k.clearDepth(m);
h&k.STENCIL_BUFFER_BIT&&k.clearStencil(p)},end:null,DQ:function(){q.$=q.PW;q.Oe.XM(q.$);q.la.f().RR()},EQ:function(){var a=q.$,c=q.aa.f();a.bindFramebuffer(a.FRAMEBUFFER,this.rx);c.jN();q.uo(q.Ev);q.Vq();q.uo(q.Dv);q.Vq()},clear:function(a,c,d,e){this.LD(a,c,d,e);this.end()},clearRect:null,rQ:function(a,c,d,e){this.vp.clearRect(a,c,d,-e)},sQ:function(){},clearDepth:null,pQ:function(){q.log("clearDepth isn't supported on Cocos2d-Html5")},qQ:function(a){this.Uk();var c=q.$,d=c.getParameter(c.DEPTH_CLEAR_VALUE);
c.clearDepth(a);c.clear(c.DEPTH_BUFFER_BIT);c.clearDepth(d);this.end()},clearStencil:null,tQ:function(){q.log("clearDepth isn't supported on Cocos2d-Html5")},uQ:function(a){var c=q.$,d=c.getParameter(c.STENCIL_CLEAR_VALUE);c.clearStencil(a);c.clear(c.STENCIL_BUFFER_BIT);c.clearStencil(d)},xa:null,Yn:function(a){this.Ua&&(a=a||q.$,a.save(),this.Ya(a),this.transform(a),this.Fb.xa(),a.restore(),this.qg=0)},Zn:function(a){if(this.Ua){q.Wq();var c=this.Fl;c&&c.Tq()&&(c.KD(),this.Gz());this.transform(a);
this.Fb.xa();this.Ya(a);c&&c.Tq()&&c.GD(this);q.Vq();this.qg=0}},Ya:null,xk:function(a){a=a||q.$;if(this.Mr){this.Uk();if(this.yw){var c=this.tp;a.save();a.fillStyle=this.uB;a.clearRect(0,0,c.width,-c.height);a.fillRect(0,0,c.width,-c.height);a.restore()}this.we();a=this.D;for(var c=a.length,d=this.Fb,e=0;e<c;e++){var f=a[e];f!=d&&f.xa()}this.end()}},Zg:function(){var a=q.$;if(this.Mr){this.Uk();var c=this.yw;if(c){var d=[0,0,0,0],e=0,f=0;c&a.COLOR_BUFFER_BIT&&(d=a.getParameter(a.COLOR_CLEAR_VALUE),
a.clearColor(this.tk.t,this.tk.r,this.tk.p,this.tk.Q));c&a.DEPTH_BUFFER_BIT&&(e=a.getParameter(a.DEPTH_CLEAR_VALUE),a.clearDepth(this.vB));c&a.STENCIL_BUFFER_BIT&&(f=a.getParameter(a.STENCIL_CLEAR_VALUE),a.clearStencil(this.wB));a.clear(c);c&a.COLOR_BUFFER_BIT&&a.clearColor(d[0],d[1],d[2],d[3]);c&a.DEPTH_BUFFER_BIT&&a.clearDepth(e);c&a.STENCIL_BUFFER_BIT&&a.clearStencil(f)}this.we();a=this.D;for(c=0;c<a.length;c++)d=a[c],d!=this.Fb&&d.xa();this.end()}},CL:null,lR:function(){q.log("saveToFile isn't supported on Cocos2d-Html5");
return null},mR:function(){q.log("saveToFile isn't supported on Cocos2d-Html5");q.Uu(this.sg==q.ok,"only RGBA8888 can be saved as image");if(!this.Ga)return null;var a=this.Ga.ya,c=a.width,a=a.height,d=new q.Image,e=q.$,f=new Uint8Array(c*a*4);if(!f)return d;var g=new Uint8Array(c*a*4);if(!g)return null;this.Uk();e.pixelStorei(e.PACK_ALIGNMENT,1);e.readPixels(0,0,c,a,e.RGBA,e.UNSIGNED_BYTE,g);this.end();for(e=0;e<a;++e)this.jR(f,e*c*4,g,(a-e-1)*c*4,4*c);d.A9(f,c*a*4,q.X0,c,a,8);return d},jR:function(a,
c,d,e,f){for(var g=0;g<f;g++)a[c+g]=d[e+g]},Fba:function(){q.log("saveToFile isn't supported on Cocos2d-Html5")},I$:function(){q.log("listenToBackground isn't supported on Cocos2d-Html5")},J$:function(){q.log("listenToForeground isn't supported on Cocos2d-Html5")},m6:function(){return this.yw},Xba:function(a){this.yw=a},k6:function(){return this.tk},yM:null,aS:function(a){var c=this.tk;c.t=a.t;c.r=a.r;c.p=a.p;c.Q=a.Q;this.uB="rgba("+(0|255*a.t)+","+(0|255*a.r)+","+(0|255*a.p)+","+a.Q+")"},bS:function(a){var c=
this.tk;c.t=a.t;c.r=a.r;c.p=a.p;c.Q=a.Q},l6:function(){return this.vB},Wba:function(a){this.vB=a},n6:function(){return this.wB},Yba:function(a){this.wB=a},J9:function(){return this.Mr},Sba:function(a){this.Mr=a}});
q.Aa.pd?(b=q.Bb.prototype,b.ctor=q.Bb.prototype.Ci,b.zg=q.Bb.prototype.nQ,b.CE=q.Bb.prototype.WQ,b.Uk=q.Bb.prototype.dQ,b.mB=q.Bb.prototype.fQ,b.end=q.Bb.prototype.EQ,b.clearRect=q.Bb.prototype.sQ,b.clearDepth=q.Bb.prototype.qQ,b.clearStencil=q.Bb.prototype.uQ,b.xa=q.Bb.prototype.Zn,b.Ya=q.Bb.prototype.Zg,b.CL=q.Bb.prototype.mR,b.yM=q.Bb.prototype.bS):(b=q.Bb.prototype,b.ctor=q.Bb.prototype.Bi,b.zg=q.Bb.prototype.mQ,b.CE=q.Bb.prototype.VQ,b.Uk=q.Bb.prototype.cQ,b.mB=q.Bb.prototype.eQ,b.end=q.Bb.prototype.DQ,
b.clearRect=q.Bb.prototype.rQ,b.clearDepth=q.Bb.prototype.pQ,b.clearStencil=q.Bb.prototype.tQ,b.xa=q.Bb.prototype.Yn,b.Ya=q.Bb.prototype.xk,b.CL=q.Bb.prototype.lR,b.yM=q.Bb.prototype.aS);q.Bb.create=function(a,c,d,e){d=d||q.ok;e=e||0;var f=new q.Bb;return f&&f.CE(a,c,d,e)?f:null};q.Uo=-1;
q.he=q.Ka.extend({Dn:null,Y:null,Md:q.Uo,ctor:function(){this.Y=this.Dn=null;this.Md=q.Uo},description:function(){return"<cc.Action | Tag = "+this.Md+">"},Ft:function(){return q.clone(this)},clone:function(){var a=new q.he;a.Dn=null;a.Y=null;a.Md=this.Md;return a},dj:function(){return!0},fa:function(a){this.Y=this.Dn=a},stop:function(){this.Y=null},step:function(){q.log("[Action step]. override me")},update:function(){q.log("[Action update]. override me")},IV:function(){return this.Y},qda:function(a){this.Y=a},
M7:function(){return this.Dn},Vca:function(a){this.Dn=a},HV:function(){return this.Md},dN:function(a){this.Md=a},mM:function(){},dM:function(){}});q.he.create=function(){return new q.he};q.kk=q.he.extend({Da:0,ctor:function(){q.he.prototype.ctor.call(this);this.Da=0},Vf:function(){return this.Da},jca:function(a){this.Da=a},reverse:function(){q.log("cocos2d: FiniteTimeAction#reverse: Implement me");return null},clone:function(){return new q.kk}});
q.Uv=q.he.extend({Mn:0,Ub:null,ctor:function(){q.he.prototype.ctor.call(this);this.Mn=0;this.Ub=null},x8:function(){return this.Mn},jda:function(a){this.Mn=a},ta:function(a,c){if(!a)throw"cc.Speed.initWithAction(): action must be non nil";this.Ub=a;this.Mn=c;return!0},clone:function(){var a=new q.Uv;a.ta(this.Ub.clone(),this.Mn);return a},fa:function(a){q.he.prototype.fa.call(this,a);this.Ub.fa(a)},stop:function(){this.Ub.stop();q.he.prototype.stop.call(this)},step:function(a){this.Ub.step(a*this.Mn)},
dj:function(){return this.Ub.dj()},reverse:function(){return q.Uv.create(this.Ub.reverse(),this.Mn)},HM:function(a){this.Ub!=a&&(this.Ub=a)},cE:function(){return this.Ub}});q.Uv.create=function(a,c){var d=new q.Uv;return d&&d.ta(a,c)?d:null};
q.lA=q.he.extend({Pp:null,qp:!1,tw:!1,Sw:null,vs:null,vo:0,Lo:0,So:0,jo:0,CD:null,ctor:function(){q.he.prototype.ctor.call(this);this.Pp=null;this.tw=this.qp=!1;this.vs=this.Sw=null;this.jo=this.So=this.Lo=this.vo=0;this.CD=q.Gd()},clone:function(){var a=new q.lA,c=this.CD,c=new q.Rect(c.x,c.y,c.width,c.height);a.qh(this.Pp,c);return a},L9:function(){return this.qp},Uba:function(a){this.qp=a},qh:function(a,c){if(!a)throw"cc.Follow.initWithAction(): followedNode must be non nil";c=c||q.Gd();this.Pp=
a;this.CD=c;this.qp=!q.Ts(c);this.tw=!1;var d=q.aa.f().ic;this.vs=q.a(d.width,d.height);this.Sw=q.bk(this.vs,.5);this.qp&&(this.vo=-(c.x+c.width-this.vs.x),this.Lo=-c.x,this.So=-c.y,this.jo=-(c.y+c.height-this.vs.y),this.Lo<this.vo&&(this.Lo=this.vo=(this.vo+this.Lo)/2),this.So<this.jo&&(this.So=this.jo=(this.So+this.jo)/2),this.So==this.jo&&this.vo==this.Lo&&(this.tw=!0));return!0},step:function(){var a=this.Pp.v.R,c=this.Pp.v.S,a=this.Sw.x-a,c=this.Sw.y-c;this.qp?this.tw||this.Y.o(q.Dt(a,this.vo,
this.Lo),q.Dt(c,this.jo,this.So)):this.Y.o(a,c)},dj:function(){return!this.Pp.pf},stop:function(){this.Y=null;q.he.prototype.stop.call(this)}});q.lA.create=function(a,c){c=c||new q.Gd;var d=new q.lA;return null!=c&&d&&d.qh(a,c)||d&&d.qh(a)?d:null};q.X=q.kk.extend({Cc:0,us:!1,ctor:function(){q.kk.prototype.ctor.call(this);this.Cc=0;this.us=!1},F6:function(){return this.Cc},U:function(a){this.Da=0===a?q.wv:a;this.Cc=0;return this.us=!0},dj:function(){return this.Cc>=this.Da},clone:function(){var a=new q.X;a.U(this.Da);return a},step:function(a){this.us?(this.us=!1,this.Cc=0):this.Cc+=a;a=this.Cc/(1.192092896E-7<this.Da?this.Da:1.192092896E-7);a=1>a?a:1;this.update(0<a?a:0)},fa:function(a){q.he.prototype.fa.call(this,a);this.Cc=0;this.us=!0},
reverse:function(){q.log("cc.IntervalAction: reverse not implemented.");return null},Rba:function(){q.log("cc.ActionInterval.setAmplitudeRate(): it should be overridden in subclass.")},P5:function(){q.log("cc.ActionInterval.getAmplitudeRate(): it should be overridden in subclass.")}});q.X.create=function(a){var c=new q.X;c.U(a);return c};
q.nk=q.X.extend({uj:null,aD:null,Zp:0,ctor:function(){q.X.prototype.ctor.call(this);this.uj=[];this.aD=null;this.Zp=0},cu:function(a,c){if(!a||!c)throw"cc.Sequence.initWithTwoActions(): arguments must all be non nil";this.U(a.Vf()+c.Vf());this.uj[0]=a;this.uj[1]=c;return!0},clone:function(){var a=new q.nk;a.cu(this.uj[0].clone(),this.uj[1].clone());return a},fa:function(a){q.X.prototype.fa.call(this,a);this.aD=this.uj[0].Vf()/this.Da;this.Zp=-1},stop:function(){-1!==this.Zp&&this.uj[this.Zp].stop();
q.he.prototype.stop.call(this)},update:function(a){var c=0,d=this.aD,e=this.uj,f=this.Zp;a<d?(a=0!==d?a/d:1,0===c&&1===f&&(e[1].update(0),e[1].stop())):(c=1,a=1===d?1:(a-d)/(1-d),-1===f&&(e[0].fa(this.Y),e[0].update(1),e[0].stop()),f||(e[0].update(1),e[0].stop()));f===c&&e[c].dj()||(f!==c&&e[c].fa(this.Y),e[c].update(a),this.Zp=c)},reverse:function(){return q.nk.en(this.uj[1].reverse(),this.uj[0].reverse())},Ft:function(){return this.clone()}});
q.nk.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&q.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)c[e]&&(d=q.nk.en(d,c[e]));return d};q.nk.en=function(a,c){var d=new q.nk;d.cu(a,c);return d};
q.Lv=q.X.extend({mh:0,Ok:0,ox:0,pH:!1,Ub:null,ctor:function(){q.X.prototype.ctor.call(this);this.ox=this.Ok=this.mh=0;this.pH=!1;this.Ub=null},ta:function(a,c){return this.U(a.Vf()*c)?(this.mh=c,this.Ub=a,a instanceof q.oj&&--this.mh,this.Ok=0,!0):!1},clone:function(){var a=new q.Lv;a.ta(this.Ub.clone(),this.mh);return a},fa:function(a){this.Ok=0;this.ox=this.Ub.Vf()/this.Da;q.X.prototype.fa.call(this,a);this.Ub.fa(a)},stop:function(){this.Ub.stop();q.he.prototype.stop.call(this)},update:function(a){var c=
this.Ub,d=this.Da,e=this.mh,f=this.ox;if(a>=f){for(;a>f&&this.Ok<e;)c.update(1),this.Ok++,c.stop(),c.fa(this.Y),this.ox=f+=c.Vf()/d;1<=a&&this.Ok<e&&this.Ok++;this.pH&&(this.Ok==e?(c.update(1),c.stop()):c.update(a-(f-c.Vf()/d)))}else c.update(a*e%1)},dj:function(){return this.Ok==this.mh},reverse:function(){return q.Lv.create(this.Ub.reverse(),this.mh)},HM:function(a){this.Ub!=a&&(this.Ub=a)},cE:function(){return this.Ub}});q.Lv.create=function(a,c){var d=new q.Lv;d.ta(a,c);return d};
q.Mv=q.X.extend({Ub:null,ctor:function(){q.X.prototype.ctor.call(this);this.Ub=null},ta:function(a){if(!a)throw"cc.RepeatForever.initWithAction(): action must be non null";this.Ub=a;return!0},clone:function(){var a=new q.Mv;a.ta(this.Ub.clone());return a},fa:function(a){q.X.prototype.fa.call(this,a);this.Ub.fa(a)},step:function(a){var c=this.Ub;c.step(a);c.dj()&&(c.fa(this.Y),c.step(c.Cc-c.Vf()))},dj:function(){return!1},reverse:function(){return q.Mv.create(this.Ub.reverse())},HM:function(a){this.Ub!=
a&&(this.Ub=a)},cE:function(){return this.Ub}});q.Mv.create=function(a){var c=new q.Mv;return c&&c.ta(a)?c:null};
q.zr=q.X.extend({Kk:null,Sk:null,ctor:function(){q.X.prototype.ctor.call(this);this.Sk=this.Kk=null},cu:function(a,c){if(!a||!c)throw"cc.Spawn.initWithTwoActions(): arguments must all be non null";var d=!1,e=a.Vf(),f=c.Vf();this.U(Math.max(e,f))&&(this.Kk=a,this.Sk=c,e>f?this.Sk=q.nk.en(c,q.Wo.create(e-f)):e<f&&(this.Kk=q.nk.en(a,q.Wo.create(f-e))),d=!0);return d},clone:function(){var a=new q.zr;a.cu(this.Kk.clone(),this.Sk.clone());return a},fa:function(a){q.X.prototype.fa.call(this,a);this.Kk.fa(a);
this.Sk.fa(a)},stop:function(){this.Kk.stop();this.Sk.stop();q.he.prototype.stop.call(this)},update:function(a){this.Kk&&this.Kk.update(a);this.Sk&&this.Sk.update(a)},reverse:function(){return q.zr.en(this.Kk.reverse(),this.Sk.reverse())}});q.zr.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&q.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)null!=c[e]&&(d=this.en(d,c[e]));return d};
q.zr.en=function(a,c){var d=new q.zr;d.cu(a,c);return d};
q.DA=q.X.extend({es:0,Nn:0,HB:0,Iw:0,Ul:0,IB:0,ctor:function(){q.X.prototype.ctor.call(this);this.IB=this.Ul=this.Iw=this.HB=this.Nn=this.es=0},U:function(a,c,d){return q.X.prototype.U.call(this,a)?(this.es=c||0,this.Iw=d||this.es,!0):!1},clone:function(){var a=new q.DA;a.U(this.Da,this.es,this.Iw);return a},fa:function(a){q.X.prototype.fa.call(this,a);var c=a.ih%360,d=this.es-c;180<d&&(d-=360);-180>d&&(d+=360);this.Nn=c;this.HB=d;this.Ul=a.Mi%360;a=this.Iw-this.Ul;180<a&&(a-=360);-180>a&&(a+=360);
this.IB=a},reverse:function(){q.log("cc.RotateTo.reverse(): it should be overridden in subclass.")},update:function(a){this.Y&&(this.Y.oz(this.Nn+this.HB*a),this.Y.pz(this.Ul+this.IB*a))}});q.DA.create=function(a,c,d){var e=new q.DA;e.U(a,c,d);return e};
q.Ov=q.X.extend({Vg:0,Nn:0,Kr:0,Ul:0,ctor:function(){q.X.prototype.ctor.call(this);this.Ul=this.Kr=this.Nn=this.Vg=0},U:function(a,c,d){return q.X.prototype.U.call(this,a)?(this.Vg=c||0,this.Kr=d||this.Vg,!0):!1},clone:function(){var a=new q.Ov;a.U(this.Da,this.Vg,this.Kr);return a},fa:function(a){q.X.prototype.fa.call(this,a);this.Nn=a.ih;this.Ul=a.Mi},update:function(a){this.Y&&(this.Y.oz(this.Nn+this.Vg*a),this.Y.pz(this.Ul+this.Kr*a))},reverse:function(){return q.Ov.create(this.Da,-this.Vg,-this.Kr)}});
q.Ov.create=function(a,c,d){var e=new q.Ov;e.U(a,c,d);return e};
q.nl=q.X.extend({Nj:null,td:null,sd:null,ctor:function(){q.X.prototype.ctor.call(this);this.Nj=q.a(0,0);this.td=q.a(0,0);this.sd=q.a(0,0)},U:function(a,c){return q.X.prototype.U.call(this,a)?(this.Nj.x=c.x,this.Nj.y=c.y,!0):!1},clone:function(){var a=new q.nl;a.U(this.Da,this.Nj);return a},fa:function(a){q.X.prototype.fa.call(this,a);var c=a.v.R;a=a.v.S;this.sd.x=c;this.sd.y=a;this.td.x=c;this.td.y=a},update:function(a){if(this.Y){var c=this.Nj.x*a;a*=this.Nj.y;var d=this.td;if(q.av){var e=this.Y.v.S,
f=this.sd;d.x=d.x+this.Y.v.R-f.x;d.y=d.y+e-f.y;c+=d.x;a+=d.y;this.Y.o(c,a);f.x=c;f.y=a}else this.Y.o(d.x+c,d.y+a)}},reverse:function(){return q.nl.create(this.Da,q.a(-this.Nj.x,-this.Nj.y))}});q.nl.create=function(a,c){var d=new q.nl;d.U(a,c);return d};
q.Gv=q.nl.extend({Op:null,ctor:function(){q.nl.prototype.ctor.call(this);this.Op=q.a(0,0)},U:function(a,c){return q.nl.prototype.U.call(this,a,c)?(this.Op.x=c.x,this.Op.y=c.y,!0):!1},clone:function(){var a=new q.Gv;a.U(this.Da,this.Op);return a},fa:function(a){q.nl.prototype.fa.call(this,a);this.Nj.x=this.Op.x-a.v.R;this.Nj.y=this.Op.y-a.v.S}});q.Gv.create=function(a,c){var d=new q.Gv;d.U(a,c);return d};
q.gp=q.X.extend({Me:0,Ne:0,ft:0,gt:0,ns:0,os:0,kf:0,lf:0,ctor:function(){q.X.prototype.ctor.call(this);this.lf=this.kf=this.os=this.ns=this.gt=this.ft=this.Ne=this.Me=0},U:function(a,c,d){var e=!1;q.X.prototype.U.call(this,a)&&(this.ns=c,this.os=d,e=!0);return e},clone:function(){var a=new q.gp;a.U(this.Da,this.ns,this.os);return a},fa:function(a){q.X.prototype.fa.call(this,a);this.ft=a.Me%180;this.kf=this.ns-this.ft;180<this.kf&&(this.kf-=360);-180>this.kf&&(this.kf+=360);this.gt=a.Ne%360;this.lf=
this.os-this.gt;180<this.lf&&(this.lf-=360);-180>this.lf&&(this.lf+=360)},update:function(a){this.Y.qz(this.ft+this.kf*a);this.Y.rz(this.gt+this.lf*a)}});q.gp.create=function(a,c,d){var e=new q.gp;e&&e.U(a,c,d);return e};
q.Sv=q.gp.extend({U:function(a,c,d){var e=!1;q.gp.prototype.U.call(this,a,c,d)&&(this.Me=c,this.Ne=d,e=!0);return e},clone:function(){var a=new q.Sv;a.U(this.Da,this.Me,this.Ne);return a},fa:function(a){q.gp.prototype.fa.call(this,a);this.kf=this.Me;this.lf=this.Ne;this.ns=this.ft+this.kf;this.os=this.gt+this.lf},reverse:function(){return q.Sv.create(this.Da,-this.Me,-this.Ne)}});q.Sv.create=function(a,c,d){var e=new q.Sv;e&&e.U(a,c,d);return e};
q.Zo=q.X.extend({td:null,Yg:null,ra:0,Xp:0,sd:null,ctor:function(){q.X.prototype.ctor.call(this);this.td=q.a(0,0);this.sd=q.a(0,0);this.Yg=q.a(0,0);this.Xp=this.ra=0},U:function(a,c,d,e){return q.X.prototype.U.call(this,a)?(this.Yg.x=c.x,this.Yg.y=c.y,this.ra=d,this.Xp=e,!0):!1},clone:function(){var a=new q.Zo;a.U(this.Da,this.Yg,this.ra,this.Xp);return a},fa:function(a){q.X.prototype.fa.call(this,a);var c=a.v.R;a=a.v.S;this.sd.x=c;this.sd.y=a;this.td.x=c;this.td.y=a},update:function(a){if(this.Y){var c=
a*this.Xp%1,c=4*this.ra*c*(1-c),c=c+this.Yg.y*a;a*=this.Yg.x;var d=this.td;if(q.av){var e=this.Y.v.S,f=this.sd;d.x=d.x+this.Y.v.R-f.x;d.y=d.y+e-f.y;a+=d.x;c+=d.y;this.Y.o(a,c);f.x=a;f.y=c}else this.Y.o(d.x+a,d.y+c)}},reverse:function(){return q.Zo.create(this.Da,q.a(-this.Yg.x,-this.Yg.y),this.ra,this.Xp)}});q.Zo.create=function(a,c,d,e){var f=new q.Zo;f.U(a,c,d,e);return f};
q.oA=q.Zo.extend({fa:function(a){q.Zo.prototype.fa.call(this,a);this.Yg.x-=this.td.x;this.Yg.y-=this.td.y},clone:function(){var a=new q.oA;a.U(this.Da,this.Yg,this.ra,this.Xp);return a}});q.oA.create=function(a,c,d,e){var f=new q.oA;f.U(a,c,d,e);return f};q.FJ=function(a,c,d,e){return 0*Math.pow(1-e,3)+3*e*Math.pow(1-e,2)*a+3*Math.pow(e,2)*(1-e)*c+Math.pow(e,3)*d};
q.Ym=q.X.extend({qn:null,td:null,sd:null,ctor:function(){q.X.prototype.ctor.call(this);this.qn=[];this.td=q.a(0,0);this.sd=q.a(0,0)},U:function(a,c){return q.X.prototype.U.call(this,a)?(this.qn=c,!0):!1},clone:function(){for(var a=new q.Ym,c=[],d=0;d<this.qn.length;d++){var e=this.qn[d];c.push(q.a(e.x,e.y))}a.U(this.Da,c);return a},fa:function(a){q.X.prototype.fa.call(this,a);var c=a.v.R;a=a.v.S;this.sd.x=c;this.sd.y=a;this.td.x=c;this.td.y=a},update:function(a){if(this.Y){var c=this.qn,d=q.FJ(c[0].x,
c[1].x,c[2].x,a);a=q.FJ(c[0].y,c[1].y,c[2].y,a);c=this.td;if(q.av){var e=this.Y.v.S,f=this.sd;c.x=c.x+this.Y.v.R-f.x;c.y=c.y+e-f.y;d+=c.x;a+=c.y;this.Y.o(d,a);f.x=d;f.y=a}else this.Y.o(c.x+d,c.y+a)}},reverse:function(){var a=this.qn,a=[q.xh(a[1],q.SE(a[2])),q.xh(a[0],q.SE(a[2])),q.SE(a[2])];return q.Ym.create(this.Da,a)}});q.Ym.create=function(a,c){var d=new q.Ym;d.U(a,c);return d};
q.Vz=q.Ym.extend({Rx:null,ctor:function(){q.Ym.prototype.ctor.call(this);this.Rx=[]},U:function(a,c){return q.X.prototype.U.call(this,a)?(this.Rx=c,!0):!1},clone:function(){var a=new q.Vz;a.U(this.Da,this.Rx);return a},fa:function(a){q.Ym.prototype.fa.call(this,a);a=this.td;var c=this.Rx,d=this.qn;d[0]=q.de(c[0],a);d[1]=q.de(c[1],a);d[2]=q.de(c[2],a)}});q.Vz.create=function(a,c){var d=new q.Vz;d.U(a,c);return d};
q.fp=q.X.extend({sa:1,za:1,nq:1,oq:1,sn:0,tn:0,kf:0,lf:0,ctor:function(){q.X.prototype.ctor.call(this);this.oq=this.nq=this.za=this.sa=1;this.lf=this.kf=this.tn=this.sn=0},U:function(a,c,d){return q.X.prototype.U.call(this,a)?(this.sn=c,this.tn=null!=d?d:c,!0):!1},clone:function(){var a=new q.fp;a.U(this.Da,this.sn,this.tn);return a},fa:function(a){q.X.prototype.fa.call(this,a);this.nq=a.sa;this.oq=a.za;this.kf=this.sn-this.nq;this.lf=this.tn-this.oq},update:function(a){this.Y&&this.Y.il(this.nq+
this.kf*a,this.oq+this.lf*a)}});q.fp.create=function(a,c,d){var e=new q.fp;e.U(a,c,d);return e};q.Qv=q.fp.extend({fa:function(a){q.fp.prototype.fa.call(this,a);this.kf=this.nq*this.sn-this.nq;this.lf=this.oq*this.tn-this.oq},reverse:function(){return q.Qv.create(this.Da,1/this.sn,1/this.tn)},clone:function(){var a=new q.Qv;a.U(this.Da,this.sn,this.tn);return a}});q.Qv.create=function(a,c,d){var e=new q.Qv;e.U(a,c,d);return e};
q.Vu=q.X.extend({mh:0,pC:!1,ctor:function(){q.X.prototype.ctor.call(this);this.mh=0;this.pC=!1},U:function(a,c){return q.X.prototype.U.call(this,a)?(this.mh=c,!0):!1},clone:function(){var a=new q.Vu;a.U(this.Da,this.mh);return a},update:function(a){if(this.Y&&!this.dj()){var c=1/this.mh;this.Y.H(a%c>c/2)}},fa:function(a){q.X.prototype.fa.call(this,a);this.pC=a.Ua},stop:function(){this.Y.H(this.pC);q.X.prototype.stop.call(this)},reverse:function(){return q.Vu.create(this.Da,this.mh)}});
q.Vu.create=function(a,c){var d=new q.Vu;d.U(a,c);return d};q.xv=q.X.extend({update:function(a){this.Y.Ab&&this.Y.ua(255*a)},reverse:function(){return q.yv.create(this.Da)},clone:function(){var a=new q.xv;a.U(this.Da);return a}});q.xv.create=function(a){var c=new q.xv;c.U(a);return c};q.yv=q.X.extend({update:function(a){this.Y.Ab&&this.Y.ua(255*(1-a))},reverse:function(){return q.xv.create(this.Da)},clone:function(){var a=new q.yv;a.U(this.Da);return a}});
q.yv.create=function(a){var c=new q.yv;c.U(a);return c};q.kA=q.X.extend({Sx:null,Ow:null,ctor:function(){q.X.prototype.ctor.call(this);this.Ow=this.Sx=0},U:function(a,c){return q.X.prototype.U.call(this,a)?(this.Sx=c,!0):!1},clone:function(){var a=new q.kA;a.U(this.Da,this.Sx);return a},update:function(a){this.Y.Ab&&this.Y.ua(this.Ow+(this.Sx-this.Ow)*a)},fa:function(a){q.X.prototype.fa.call(this,a);this.Y.Ab&&(this.Ow=a.Vj())}});q.kA.create=function(a,c){var d=new q.kA;d.U(a,c);return d};
q.VA=q.X.extend({Sf:null,He:null,ctor:function(){q.X.prototype.ctor.call(this);this.Sf=q.j(0,0,0);this.He=q.j(0,0,0)},U:function(a,c,d,e){return q.X.prototype.U.call(this,a)?(this.Sf=q.j(c,d,e),!0):!1},clone:function(){var a=new q.VA,c=this.Sf;a.U(this.Da,c.t,c.r,c.p);return a},fa:function(a){q.X.prototype.fa.call(this,a);this.Y.Ab&&(this.He=this.Y.Od())},update:function(a){var c=this.He,d=this.Sf;this.Y.Ab&&this.Y.n(q.j(c.t+(d.t-c.t)*a,c.r+(d.r-c.r)*a,c.p+(d.p-c.p)*a))}});
q.VA.create=function(a,c,d,e){var f=new q.VA;f.U(a,c,d,e);return f};
q.Zv=q.X.extend({$r:0,Zr:0,Yr:0,UB:0,TB:0,SB:0,ctor:function(){q.X.prototype.ctor.call(this);this.SB=this.TB=this.UB=this.Yr=this.Zr=this.$r=0},U:function(a,c,d,e){return q.X.prototype.U.call(this,a)?(this.$r=c,this.Zr=d,this.Yr=e,!0):!1},clone:function(){var a=new q.Zv;a.U(this.Da,this.$r,this.Zr,this.Yr);return a},fa:function(a){q.X.prototype.fa.call(this,a);a.Ab&&(a=a.Od(),this.UB=a.t,this.TB=a.r,this.SB=a.p)},update:function(a){this.Y.Ab&&this.Y.n(q.j(this.UB+this.$r*a,this.TB+this.Zr*a,this.SB+
this.Yr*a))},reverse:function(){return q.Zv.create(this.Da,-this.$r,-this.Zr,-this.Yr)}});q.Zv.create=function(a,c,d,e){var f=new q.Zv;f.U(a,c,d,e);return f};q.Wo=q.X.extend({update:function(){},reverse:function(){return q.Wo.create(this.Da)},clone:function(){var a=new q.Wo;a.U(this.Da);return a}});q.Wo.create=function(a){var c=new q.Wo;c.U(a);return c};
q.Nv=q.X.extend({Lk:null,ctor:function(){q.X.prototype.ctor.call(this);this.Lk=null},ta:function(a){if(!a)throw"cc.ReverseTime.initWithAction(): action must be non null";if(a==this.Lk)throw"cc.ReverseTime.initWithAction(): the action was already passed in.";return q.X.prototype.U.call(this,a.Vf())?(this.Lk=a,!0):!1},clone:function(){var a=new q.Nv;a.ta(this.Lk.clone());return a},fa:function(a){q.X.prototype.fa.call(this,a);this.Lk.fa(a)},update:function(a){this.Lk&&this.Lk.update(1-a)},reverse:function(){return this.Lk.clone()},
stop:function(){this.Lk.stop();q.he.prototype.stop.call(this)}});q.Nv.create=function(a){var c=new q.Nv;c.ta(a);return c};
q.Su=q.X.extend({qk:null,cq:0,sx:null,qs:0,bD:null,ctor:function(){q.X.prototype.ctor.call(this);this.qk=null;this.cq=0;this.sx=null;this.qs=0;this.bD=null},pK:function(){return this.qk},NY:function(a){this.qk=a},UK:function(a){if(!a)throw"cc.Animate.initWithAnimation(): animation must be non-NULL";var c=a.Vf();if(this.U(c*a.Ik)){this.cq=0;this.NY(a);this.sx=null;this.qs=0;var d=[],e=0,f=c/a.Un;a=a.Ge;q.Tu(a,q.ik);for(var g=0;g<a.length;g++){var h=e*f/c,e=e+a[g].Ee;d.push(h)}this.bD=d;return!0}return!1},
clone:function(){var a=new q.Su;a.UK(this.qk.clone());return a},fa:function(a){q.X.prototype.fa.call(this,a);this.qk.Hn&&(this.sx=a.DU());this.qs=this.cq=0},update:function(a){1>a&&(a*=this.qk.Ik,(0|a)>this.qs&&(this.cq=0,this.qs++),a%=1);for(var c=this.qk.Ge,d=c.length,e=this.bD,f=this.cq;f<d;f++)if(e[f]<=a)this.Y.er(c[f].ii()),this.cq=f+1;else break},reverse:function(){var a=this.qk,c=a.Ge,d=[];q.Tu(c,q.ik);if(0<c.length)for(var e=c.length-1;0<=e;e--){var f=c[e];if(!f)break;d.push(f.clone())}c=
q.hk.LJ(d,a.Ee,a.Ik);c.mz(a.Hn);return q.Su.create(c)},stop:function(){this.qk.Hn&&this.Y&&this.Y.er(this.sx);q.he.prototype.stop.call(this)}});q.Su.create=function(a){var c=new q.Su;c.UK(a);return c};
q.UA=q.X.extend({jg:null,un:null,ctor:function(){q.X.prototype.ctor.call(this);this.un=this.jg=null},qh:function(a,c){return this.U(c.Vf())?(this.un=a,this.jg=c,!0):!1},clone:function(){var a=new q.UA;a.qh(this.un,this.jg.clone());return a},fa:function(a){q.X.prototype.fa.call(this,a);this.jg.fa(this.un)},stop:function(){this.jg.stop()},update:function(a){this.jg.update(a)},P6:function(){return this.un},nca:function(a){this.un!=a&&(this.un=a)}});
q.UA.create=function(a,c){var d=new q.UA;d.qh(a,c);return d};q.oj=q.kk.extend({dj:function(){return!0},step:function(){this.update(1)},update:function(){},reverse:function(){return this.clone()},clone:function(){return new q.oj}});q.Rv=q.oj.extend({update:function(){this.Y.H(!0)},reverse:function(){return q.Bv.create()},clone:function(){return new q.Rv}});q.Rv.create=function(){return new q.Rv};q.Bv=q.oj.extend({update:function(){this.Y.H(!1)},reverse:function(){return q.Rv.create()},clone:function(){return new q.Bv}});q.Bv.create=function(){return new q.Bv};
q.$v=q.oj.extend({update:function(){this.Y.H(!this.Y.Ua)},reverse:function(){return new q.$v},clone:function(){return new q.$v}});q.$v.create=function(){return new q.$v};q.Kv=q.oj.extend({Ds:!0,ctor:function(){q.kk.prototype.ctor.call(this);this.Ds=!0},update:function(){this.Y.N(this.Ds)},w:function(a){this.Ds=a;return!0},reverse:function(){return new q.Kv(this.Ds)},clone:function(){return new q.Kv(this.Ds)}});q.Kv.create=function(a){null==a&&(a=!0);var c=new q.Kv;c&&c.w(a);return c};
q.zv=q.oj.extend({rc:!1,ctor:function(){q.kk.prototype.ctor.call(this);this.rc=!1},WK:function(a){this.rc=a;return!0},update:function(){this.Y.eZ(this.rc)},reverse:function(){return q.zv.create(!this.rc)},clone:function(){var a=new q.zv;a.WK(this.rc);return a}});q.zv.create=function(a){var c=new q.zv;return c.WK(a)?c:null};
q.Av=q.oj.extend({sc:!1,ctor:function(){q.kk.prototype.ctor.call(this);this.sc=!1},XK:function(a){this.sc=a;return!0},update:function(){this.Y.fZ(this.sc)},reverse:function(){return q.Av.create(!this.sc)},clone:function(){var a=new q.Av;a.XK(this.sc);return a}});q.Av.create=function(a){var c=new q.Av;return c.XK(a)?c:null};
q.yA=q.oj.extend({v:null,ctor:function(){q.kk.prototype.ctor.call(this);this.v=q.a(0,0)},ZK:function(a){this.v.x=a.x;this.v.y=a.y;return!0},update:function(){this.Y.o(this.v)},clone:function(){var a=new q.yA;a.ZK(this.v);return a}});q.yA.create=function(a){var c=new q.yA;c.ZK(a);return c};
q.sr=q.oj.extend({Wh:null,pn:null,Dl:null,Wr:null,ctor:function(){q.kk.prototype.ctor.call(this);this.Wr=this.Dl=this.pn=this.Wh=null},qh:function(a,c,d){this.Wr=d;this.pn=a;this.Wh=c;return!0},wE:function(a){this.Dl=a;return!0},RU:function(){null!=this.pn?this.pn.call(this.Wh,this.Y,this.Wr):this.Dl&&this.Dl.call(null,this.Y)},update:function(){this.RU()},G8:function(){return this.Wh},rda:function(a){a!=this.Wh&&(this.Wh&&(this.Wh=null),this.Wh=a)},Ft:function(){var a=new q.sr;this.Wh?a.qh(this.pn,
this.Wh,this.Wr):this.Dl&&a.wE(this.Dl);return a},clone:function(){var a=new q.sr;this.Wh?a.qh(this.pn,this.Wh,this.Wr):this.Dl&&a.wE(this.Dl);return a}});q.sr.create=function(a,c,d){var e=new q.sr;if(1==arguments.length){if(e&&e.wE(a))return e}else if(e&&e.qh(a,c,d))return e.pn=a,e;return null};q.Pz=q.X.extend({rB:0,sB:0,tB:0,IH:0,JH:0,KH:0,$I:0,aJ:0,bJ:0,ctor:function(){q.X.prototype.ctor.call(this);this.bJ=this.aJ=this.$I=this.KH=this.JH=this.IH=this.tB=this.sB=this.rB=0},fa:function(a){q.X.prototype.fa.call(this,a);a=a.bE();var c=a.rK();this.rB=c.x;this.sB=c.y;this.tB=c.z;c=a.tK();this.IH=c.x;this.JH=c.y;this.KH=c.z;a=a.LV();this.$I=a.x;this.aJ=a.y;this.bJ=a.z},clone:function(){return new q.Pz},reverse:function(){return q.Nv.create(this)}});
q.wA=q.Pz.extend({Oj:0,Gw:0,lp:0,FB:0,Vg:0,EB:0,GC:0,EC:0,FC:0,DC:0,ctor:function(){q.Pz.prototype.ctor.call(this);this.DC=this.FC=this.EC=this.GC=this.EB=this.Vg=this.FB=this.lp=this.Gw=this.Oj=0},U:function(a,c,d,e,f,g,h){return q.X.prototype.U.call(this,a)?(this.Oj=c,this.Gw=d,this.lp=e,this.FB=f,this.Vg=g,this.EB=h,this.EC=q.jk(f),this.DC=q.jk(h),!0):!1},r_:function(){var a=this.Y.bE(),c=a.tK(),d=a.rK(),a=c.x-d.x,e=c.y-d.y,c=c.z-d.z,d=Math.sqrt(Math.pow(a,2)+Math.pow(e,2)+Math.pow(c,2)),f=Math.sqrt(Math.pow(a,
2)+Math.pow(e,2));0===f&&(f=q.wv);0===d&&(d=q.wv);return{YW:d/q.tr.Yt(),Q_:Math.acos(c/d),azimuth:0>a?Math.PI-Math.asin(e/f):Math.asin(e/f)}},fa:function(a){q.X.prototype.fa.call(this,a);a=this.r_();isNaN(this.Oj)&&(this.Oj=a.YW);isNaN(this.lp)&&(this.lp=q.AA(a.Q_));isNaN(this.Vg)&&(this.Vg=q.AA(a.azimuth));this.GC=q.jk(this.lp);this.FC=q.jk(this.Vg)},clone:function(){var a=new q.wA;a.U(this.Da,this.Oj,this.Gw,this.lp,this.FB,this.Vg,this.EB);return a},update:function(a){var c=(this.Oj+this.Gw*a)*
q.tr.Yt(),d=this.GC+this.EC*a,e=this.FC+this.DC*a;a=Math.sin(d)*Math.cos(e)*c+this.rB;e=Math.sin(d)*Math.sin(e)*c+this.sB;c=Math.cos(d)*c+this.tB;this.Y.bE().DM(a,e,c)}});q.wA.create=function(a,c,d,e,f,g,h){var k=new q.wA;return k.U(a,c,d,e,f,g,h)?k:null};q.Fd=q.X.extend({ja:null,ctor:function(){q.X.prototype.ctor.call(this);this.ja=null},ta:function(a){if(!a)throw"cc.ActionEase.initWithAction(): action must be non nil";return this.U(a.Vf())?(this.ja=a,!0):!1},clone:function(){var a=new q.Fd;a.ta(this.ja.clone());return a},fa:function(a){q.X.prototype.fa.call(this,a);this.ja.fa(this.Y)},stop:function(){this.ja.stop();q.X.prototype.stop.call(this)},update:function(a){this.ja.update(a)},reverse:function(){return q.Fd.create(this.ja.reverse())},cE:function(){return this.ja}});
q.Fd.create=function(a){var c=new q.Fd;c&&c.ta(a);return c};q.an=q.Fd.extend({nf:0,ctor:function(){q.Fd.prototype.ctor.call(this);this.nf=0},bda:function(a){this.nf=a},d8:function(){return this.nf},ta:function(a,c){return q.Fd.prototype.ta.call(this,a)?(this.nf=c,!0):!1},clone:function(){var a=new q.an;a.ta(this.ja.clone(),this.nf);return a},reverse:function(){return q.an.create(this.ja.reverse(),1/this.nf)}});q.an.create=function(a,c){var d=new q.an;d&&d.ta(a,c);return d};
q.pv=q.an.extend({update:function(a){this.ja.update(Math.pow(a,this.nf))},reverse:function(){return q.pv.create(this.ja.reverse(),1/this.nf)},clone:function(){var a=new q.pv;a.ta(this.ja.clone(),this.nf);return a}});q.pv.create=function(a,c){var d=new q.pv;d&&d.ta(a,c);return d};q.rv=q.an.extend({update:function(a){this.ja.update(Math.pow(a,1/this.nf))},reverse:function(){return q.rv.create(this.ja.reverse(),1/this.nf)},clone:function(){var a=new q.rv;a.ta(this.ja.clone(),this.nf);return a}});
q.rv.create=function(a,c){var d=new q.rv;d&&d.ta(a,c);return d};q.qv=q.an.extend({update:function(a){a*=2;1>a?this.ja.update(.5*Math.pow(a,this.nf)):this.ja.update(1-.5*Math.pow(2-a,this.nf))},clone:function(){var a=new q.qv;a.ta(this.ja.clone(),this.nf);return a},reverse:function(){return q.qv.create(this.ja.reverse(),this.nf)}});q.qv.create=function(a,c){var d=new q.qv;d&&d.ta(a,c);return d};
q.mv=q.Fd.extend({update:function(a){this.ja.update(0===a?0:Math.pow(2,10*(a-1)))},reverse:function(){return q.ov.create(this.ja.reverse())},clone:function(){var a=new q.mv;a.ta(this.ja.clone());return a}});q.mv.create=function(a){var c=new q.mv;c&&c.ta(a);return c};q.ov=q.Fd.extend({update:function(a){this.ja.update(1==a?1:-Math.pow(2,-10*a)+1)},reverse:function(){return q.mv.create(this.ja.reverse())},clone:function(){var a=new q.ov;a.ta(this.ja.clone());return a}});
q.ov.create=function(a){var c=new q.ov;c&&c.ta(a);return c};q.nv=q.Fd.extend({update:function(a){1!=a&&0!==a&&(a*=2,a=1>a?.5*Math.pow(2,10*(a-1)):.5*(-Math.pow(2,-10*(a-1))+2));this.ja.update(a)},reverse:function(){return q.nv.create(this.ja.reverse())},clone:function(){var a=new q.nv;a.ta(this.ja.clone());return a}});q.nv.create=function(a){var c=new q.nv;c&&c.ta(a);return c};
q.sv=q.Fd.extend({update:function(a){a=0===a||1==a?a:-1*Math.cos(a*Math.PI/2)+1;this.ja.update(a)},reverse:function(){return q.uv.create(this.ja.reverse())},clone:function(){var a=new q.sv;a.ta(this.ja.clone());return a}});q.sv.create=function(a){var c=new q.sv;c&&c.ta(a);return c};q.uv=q.Fd.extend({update:function(a){a=0===a||1==a?a:Math.sin(a*Math.PI/2);this.ja.update(a)},reverse:function(){return q.sv.create(this.ja.reverse())},clone:function(){var a=new q.uv;a.ta(this.ja.clone());return a}});
q.uv.create=function(a){var c=new q.uv;c&&c.ta(a);return c};q.tv=q.Fd.extend({update:function(a){a=0===a||1==a?a:-.5*(Math.cos(Math.PI*a)-1);this.ja.update(a)},clone:function(){var a=new q.tv;a.ta(this.ja.clone());return a},reverse:function(){return q.tv.create(this.ja.reverse())}});q.tv.create=function(a){var c=new q.tv;c&&c.ta(a);return c};
q.Xo=q.Fd.extend({Ie:null,ctor:function(){q.Fd.prototype.ctor.call(this);this.Ie=.3},P7:function(){return this.Ie},Wca:function(a){this.Ie=a},ta:function(a,c){q.Fd.prototype.ta.call(this,a);this.Ie=null==c?.3:c;return!0},reverse:function(){q.log("cc.EaseElastic.reverse(): it should be overridden in subclass.")},clone:function(){var a=new q.Xo;a.ta(this.ja.clone(),this.Ie);return a}});q.Xo.create=function(a,c){var d=new q.Xo;return d&&d.ta(a,c)?d:null};
q.jv=q.Xo.extend({update:function(a){var c=0;0===a||1===a?c=a:(c=this.Ie/4,--a,c=-Math.pow(2,10*a)*Math.sin((a-c)*Math.PI*2/this.Ie));this.ja.update(c)},reverse:function(){return q.lv.create(this.ja.reverse(),this.Ie)},clone:function(){var a=new q.jv;a.ta(this.ja.clone(),this.Ie);return a}});q.jv.create=function(a,c){var d=new q.jv;return d&&d.ta(a,c)?d:null};
q.lv=q.Xo.extend({update:function(a){var c=0,c=0===a||1==a?a:Math.pow(2,-10*a)*Math.sin((a-this.Ie/4)*Math.PI*2/this.Ie)+1;this.ja.update(c)},reverse:function(){return q.jv.create(this.ja.reverse(),this.Ie)},clone:function(){var a=new q.lv;a.ta(this.ja.clone(),this.Ie);return a}});q.lv.create=function(a,c){var d=new q.lv;d&&d.ta(a,c);return d};
q.kv=q.Xo.extend({update:function(a){var c=0,c=this.Ie;if(0===a||1==a)c=a;else{c||(c=this.Ie=.3*1.5);var d=c/4;a=2*a-1;c=0>a?-.5*Math.pow(2,10*a)*Math.sin((a-d)*Math.PI*2/c):Math.pow(2,-10*a)*Math.sin((a-d)*Math.PI*2/c)*.5+1}this.ja.update(c)},reverse:function(){return q.kv.create(this.ja.reverse(),this.Ie)},clone:function(){var a=new q.kv;a.ta(this.ja.clone(),this.Ie);return a}});q.kv.create=function(a,c){var d=new q.kv;d&&d.ta(a,c);return d};
q.$m=q.Fd.extend({ey:function(a){if(a<1/2.75)return 7.5625*a*a;if(a<2/2.75)return a-=1.5/2.75,7.5625*a*a+.75;if(a<2.5/2.75)return a-=2.25/2.75,7.5625*a*a+.9375;a-=2.625/2.75;return 7.5625*a*a+.984375},clone:function(){var a=new q.$m;a.ta(this.ja.clone());return a},reverse:function(){return q.$m.create(this.ja.reverse())}});q.$m.create=function(a){var c=new q.$m;c&&c.ta(a);return c};
q.gv=q.$m.extend({update:function(a){this.ja.update(1-this.ey(1-a))},reverse:function(){return q.iv.create(this.ja.reverse())},clone:function(){var a=new q.gv;a.ta(this.ja.clone());return a}});q.gv.create=function(a){var c=new q.gv;c&&c.ta(a);return c};q.iv=q.$m.extend({update:function(a){this.ja.update(this.ey(a))},reverse:function(){return q.gv.create(this.ja.reverse())},clone:function(){var a=new q.iv;a.ta(this.ja.clone());return a}});q.iv.create=function(a){var c=new q.iv;c&&c.ta(a);return c};
q.hv=q.$m.extend({update:function(a){var c=0,c=.5>a?.5*(1-this.ey(1-2*a)):.5*this.ey(2*a-1)+.5;this.ja.update(c)},clone:function(){var a=new q.hv;a.ta(this.ja.clone());return a},reverse:function(){return q.hv.create(this.ja.reverse())}});q.hv.create=function(a){var c=new q.hv;c&&c.ta(a);return c};
q.dv=q.Fd.extend({update:function(a){this.ja.update(0===a||1==a?a:a*a*(2.70158*a-1.70158))},reverse:function(){return q.fv.create(this.ja.reverse())},clone:function(){var a=new q.dv;a.ta(this.ja.clone());return a}});q.dv.create=function(a){var c=new q.dv;c&&c.ta(a);return c};q.fv=q.Fd.extend({update:function(a){--a;this.ja.update(a*a*(2.70158*a+1.70158)+1)},reverse:function(){return q.dv.create(this.ja.reverse())},clone:function(){var a=new q.fv;a.ta(this.ja.clone());return a}});
q.fv.create=function(a){var c=new q.fv;c&&c.ta(a);return c};q.ev=q.Fd.extend({update:function(a){a*=2;1>a?this.ja.update(a*a*(3.5949095*a-2.5949095)/2):(a-=2,this.ja.update(a*a*(3.5949095*a+2.5949095)/2+1))},clone:function(){var a=new q.ev;a.ta(this.ja.clone());return a},reverse:function(){return q.ev.create(this.ja.reverse())}});q.ev.create=function(a){var c=new q.ev;c&&c.ta(a);return c};q.Yz=function(a,c,d,e,f,g){var h=g*g,k=h*g,l=(1-f)/2;f=l*(-k+2*h-g);var m=l*(-k+h)+(2*k-3*h+1);g=l*(k-2*h+g)+(-2*k+3*h);h=l*(k-h);return q.a(a.x*f+c.x*m+d.x*g+e.x*h,a.y*f+c.y*m+d.y*g+e.y*h)};q.nM=function(a){for(var c=[],d=a.length-1;0<=d;d--)c.push(q.a(a[d].x,a[d].y));return c};q.jy=function(a){for(var c=[],d=0;d<a.length;d++)c.push(q.a(a[d].x,a[d].y));return c};q.gi=function(a,c){var d=Math.min(a.length-1,Math.max(c,0));return a[d]};
q.Eba=function(a){for(var c=a.length,d=0|c/2,e=0;e<d;++e){var f=a[e];a[e]=a[c-e-1];a[c-e-1]=f}};
q.qj=q.X.extend({Ii:null,GB:0,Pn:0,sd:null,cB:null,ctor:function(){q.X.prototype.ctor.call(this);this.Ii=[];this.Pn=this.GB=0;this.cB=this.sd=null},U:function(a,c,d){if(!c||0==c.length)throw"Invalid configuration. It must at least have one control point";return q.X.prototype.U.call(this,a)?(this.EZ(c),this.Pn=d,!0):!1},clone:function(){var a=new q.qj;a.U(this.Da,q.jy(this.Ii),this.Pn);return a},fa:function(a){q.X.prototype.fa.call(this,a);this.GB=1/(this.Ii.length-1);a=this.Y.v;this.sd=q.a(a.x,a.y);
this.cB=q.a(0,0)},update:function(a){var c,d=this.Ii;if(1==a)c=d.length-1,a=1;else{var e=this.GB;c=0|a/e;a=(a-e*c)/e}c=q.Yz(q.gi(d,c-1),q.gi(d,c-0),q.gi(d,c+1),q.gi(d,c+2),this.Pn,a);q.av&&(d=this.Y.v.R-this.sd.x,a=this.Y.v.S-this.sd.y,0!=d||0!=a)&&(e=this.cB,d=e.x+d,a=e.y+a,e.x=d,e.y=a,c.x+=d,c.y+=a);this.NN(c)},reverse:function(){var a=q.nM(this.Ii);return q.qj.create(this.Da,a,this.Pn)},NN:function(a){this.Y.o(a);this.sd=a},T7:function(){return this.Ii},EZ:function(a){this.Ii=a}});
q.qj.create=function(a,c,d){var e=new q.qj;return e.U(a,c,d)?e:null};
q.ur=q.qj.extend({td:null,ctor:function(){q.qj.prototype.ctor.call(this);this.td=q.a(0,0)},fa:function(a){q.qj.prototype.fa.call(this,a);a=a.v;this.td.x=a.x;this.td.y=a.y},reverse:function(){for(var a=this.Ii.slice(),c,d=a[0],e=1;e<a.length;++e)c=a[e],a[e]=q.de(c,d),d=c;a=q.nM(a);d=a[a.length-1];a.pop();d.x=-d.x;d.y=-d.y;a.unshift(d);for(e=1;e<a.length;++e)c=a[e],c.x=-c.x,c.y=-c.y,c.x+=d.x,c.y+=d.y,d=a[e]=c;return q.ur.create(this.Da,a,this.Pn)},NN:function(a){var c=this.td,d=a.x+c.x;a=a.y+c.y;this.Y.o(d,
a);this.sd.x=d;this.sd.y=a},clone:function(){var a=new q.ur;a.U(this.Da,q.jy(this.Ii),this.Pn);return a}});q.ur.create=function(a,c,d){var e=new q.ur;return e.U(a,c,d)?e:null};q.$z=q.qj.extend({U:function(a,c){return q.qj.prototype.U.call(this,a,c,.5)},clone:function(){var a=new q.$z;a.U(this.Da,q.jy(this.Ii));return a}});q.$z.create=function(a,c){var d=new q.$z;return d.U(a,c)?d:null};
q.Zz=q.ur.extend({U:function(a,c){return q.qj.prototype.U.call(this,a,c,.5)},clone:function(){var a=new q.Zz;a.U(this.Da,q.jy(this.Ii));return a}});q.Zz.create=function(a,c){var d=new q.Zz;return d.U(a,c)?d:null};q.b0=q.Ka.extend({bG:function(){}});
q.Vo=q.X.extend({key:"",from:0,Qm:0,RD:0,ctor:function(){q.X.prototype.ctor.call(this);this.key="";this.RD=this.Qm=this.from=0},U:function(a,c,d,e){return q.X.prototype.U.call(this,a)?(this.key=c,this.Qm=e,this.from=d,!0):!1},fa:function(a){if(!a||!a.bG)throw"cc.ActionTween.startWithTarget(): target must be non-null, and target must implement updateTweenAction function";q.X.prototype.fa.call(this,a);this.RD=this.Qm-this.from},update:function(a){this.Y.bG(this.Qm-this.RD*(1-a),this.key)},reverse:function(){return q.Vo.create(this.duration,
this.key,this.Qm,this.from)},clone:function(){var a=new q.Vo;a.U(this.Da,this.key,this.from,this.Qm);return a}});q.Vo.create=function(a,c,d,e){var f=new q.Vo;return f.U(a,c,d,e)?f:null};q.ol=0;q.xA=1;q.SG=4;q.fP=75;
q.bd=q.Rb.extend({Tf:null,Mj:0,Fb:null,Gi:null,nn:null,re:!1,q7:function(){return q.a(this.Gi.x,this.Gi)},NM:function(a){this.Gi=q.RL(a)},V5:function(){return q.a(this.nn.x,this.nn.y)},vM:function(a){this.nn=q.RL(a)},W8:function(){return this.Tf},uy:function(){return this.Mj},EV:function(){return this.Fb},vu:function(a){this.Mj!=a&&(this.Mj=q.Dt(a,0,100),this.sD())},dg:function(){},km:function(){return!1},l$:function(){return this.re},nB:function(a){if(a<q.SG){var c=q.fP;return this.re?q.a(c>>7-(a<<
1)&1,c>>7-((a<<1)+1)&1):q.a(c>>(a<<1)+1&1,c>>(a<<1)&1)}return q.lk()},rd:null,iD:270,MB:270,Oj:0,zB:!1,kB:null,$d:0,hd:null,xg:null,jJ:null,zt:!1,ctor:null,Bi:function(){q.Rb.prototype.ctor.call(this);this.Tf=q.ol;this.Mj=0;this.Gi=q.a(0,0);this.nn=q.a(0,0);this.re=!1;this.Fb=null;this.rd=q.lk();this.MB=this.iD=270;this.Oj=0;this.zB=!1;this.kB=q.Gd()},Ci:function(){q.Rb.prototype.ctor.call(this);this.Tf=q.ol;this.Mj=0;this.Gi=q.a(0,0);this.nn=q.a(0,0);this.re=!1;this.Fb=null;this.jJ=q.$.createBuffer();
this.$d=0;this.xg=this.hd=null;this.zt=!1},n:function(a){this.Fb.n(a);this.Zd()},ua:function(a){this.Fb.ua(a);this.Zd()},Od:function(){return this.Fb.Od()},Vj:function(){return this.Fb.Vj()},$M:null,pS:function(a){this.re!==a&&(this.re=a)},qS:function(a){this.re!==a&&(this.re=a,this.xg=this.hd=null,this.$d=0)},xu:null,sS:function(a){this.Fb!=a&&(this.Fb=a,this.G(this.Fb.c()))},tS:function(a){a&&this.Fb!=a&&(this.Fb=a,this.G(a.c()),this.hd&&(this.xg=this.hd=null,this.$d=0))},eN:null,wS:function(a){a!==
this.Tf&&(this.Tf=a)},xS:function(a){a!==this.Tf&&(this.hd&&(this.xg=this.hd=null,this.$d=0),this.Tf=a)},ZM:null,nS:function(a){this.re!==a&&(this.re=a)},oS:function(a){this.re!==a&&(this.re=a,this.xg=this.hd=null,this.$d=0)},tf:function(a){var c=this.Fb;if(!c)return{Va:0,qa:0};var d=c.dc,e=q.a(d.Pa.J.Va,d.Pa.J.qa),d=q.a(d.Ra.J.Va,d.Ra.J.qa);c.xd&&(c=a.x,a.x=a.y,a.y=c);return{Va:e.x*(1-a.x)+d.x*a.x,qa:e.y*(1-a.y)+d.y*a.y}},vf:function(a){if(!this.Fb)return{x:0,y:0};var c=this.Fb.dc,d=q.a(c.Pa.C.x,
c.Pa.C.y),c=q.a(c.Ra.C.x,c.Ra.C.y);return{x:d.x*(1-a.x)+c.x*a.x,y:d.y*(1-a.y)+c.y*a.y}},zE:null,RQ:function(a){this.vu(0);this.A(.5,.5);this.Tf=q.ol;this.re=!1;this.NM(q.a(.5,.5));this.vM(q.a(1,1));this.xu(a);return!0},SQ:function(a){this.vu(0);this.xg=this.hd=null;this.$d=0;this.A(.5,.5);this.Tf=q.ol;this.re=!1;this.NM(q.a(.5,.5));this.vM(q.a(1,1));this.xu(a);this.Bh(q.zi.f().jj(q.EA));return!0},Ya:null,xk:function(a){a=a||q.$;var c=this.Fb;c.xn&&(a.globalCompositeOperation="lighter");var d=q.la.f().sa,
e=q.la.f().za;a.globalAlpha=c.oc/255;var f=c.va,g=c.ya,h=c.xc,k=c.Kp,l=0|h.x,m=-h.y-f.height,p=c.Sn;k.width=f.width*d;k.height=f.height*e;a.save();c.rc&&(l=-h.x-f.width,a.scale(-1,1));c.sc&&(m=h.y,a.scale(1,-1));l*=d;m*=e;this.Tf==q.xA?(f=this.kB,a.beginPath(),a.rect(f.x*d,f.y*e,f.width*d,f.height*e),a.clip(),a.closePath()):this.Tf==q.ol&&(f=this.rd.x*d,h=this.rd.y*e,a.beginPath(),a.arc(f,h,this.Oj*e,Math.PI/180*this.iD,Math.PI/180*this.MB,this.zB),a.lineTo(f,h),a.clip(),a.closePath());c.Ga&&p.Tm?
(d=c.Ga.Fc,this.Sr?a.drawImage(d,0,0,p.width,p.height,l,m,k.width,k.height):a.drawImage(d,p.x,p.y,p.width,p.height,l,m,k.width,k.height)):0!==g.width&&(k=this.Od(),a.fillStyle="rgba("+k.t+","+k.r+","+k.p+",1)",a.fillRect(l,m,g.width*d,g.height*e));a.restore();q.wi()},Zg:function(a){a=a||q.$;if(this.hd&&this.Fb){q.uA(this);var c=this.Fb.ka;q.$k(c.src,c.Xb);q.Te(q.dw);this.Fb.ha()?q.oh(this.Fb.ha()):q.oh(null);a.bindBuffer(a.ARRAY_BUFFER,this.jJ);this.zt&&(a.bufferData(a.ARRAY_BUFFER,this.xg,a.DYNAMIC_DRAW),
this.zt=!1);c=q.mc.BYTES_PER_ELEMENT;a.vertexAttribPointer(q.jf,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(q.Fr,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(q.Gr,2,a.FLOAT,!1,c,12);this.Tf===q.ol?a.drawArrays(a.TRIANGLE_FAN,0,this.$d):this.Tf==q.xA&&(this.re?(a.drawArrays(a.TRIANGLE_STRIP,0,this.$d/2),a.drawArrays(a.TRIANGLE_STRIP,4,this.$d/2),q.ei++):a.drawArrays(a.TRIANGLE_STRIP,0,this.$d));q.ei++}},aT:function(){if(this.Fb){var a,c=this.Gi;a=this.Mj/100;var d=2*q.PI*(this.re?a:1-a),e=q.a(c.x,1),
f=q.qX(e,c,d),d=0;if(0==a)f=e,d=0;else if(1==a)f=e,d=4;else{var g=q.xO,h=q.SG;for(a=0;a<=h;++a){var k=(a+(h-1))%h,l=this.nB(a%h),k=this.nB(k);0==a?k=q.TL(l,k,1-c.x):4==a&&(l=q.TL(l,k,1-c.x));var m=q.a(0,0);q.QE(l,k,c,f,m)&&(0!=a&&4!=a||0<=m.x&&1>=m.x)&&0<=m.y&&m.y<g&&(g=m.y,d=a)}f=q.xh(c,q.bk(q.de(f,c),g))}g=!0;this.$d!=d+3&&(g=!1,this.xg=this.hd=null,this.$d=0);if(!this.hd){h=this.$d=d+3;l=q.mc.BYTES_PER_ELEMENT;this.xg=new ArrayBuffer(h*l);k=[];for(a=0;a<h;a++)k[a]=new q.mc(null,null,null,this.xg,
a*l);this.hd=k;if(!this.hd){q.log("cc.ProgressTimer._updateRadial() : Not enough memory");return}}this.Zd();h=this.hd;if(!g)for(h[0].J=this.tf(c),h[0].C=this.vf(c),h[1].J=this.tf(e),h[1].C=this.vf(e),a=0;a<d;a++)c=this.nB(a),h[a+2].J=this.tf(c),h[a+2].C=this.vf(c);h[this.$d-1].J=this.tf(f);h[this.$d-1].C=this.vf(f)}},QS:function(){if(this.Fb){var a,c=this.Mj/100,d=this.nn,d=q.bk(q.a(1-d.x+c*d.x,1-d.y+c*d.y),.5),c=q.de(this.Gi,d),d=q.xh(this.Gi,d);0>c.x&&(d.x+=-c.x,c.x=0);1<d.x&&(c.x-=d.x-1,d.x=1);
0>c.y&&(d.y+=-c.y,c.y=0);1<d.y&&(c.y-=d.y-1,d.y=1);if(this.re){if(!this.hd){this.$d=8;var e=q.mc.BYTES_PER_ELEMENT;this.xg=new ArrayBuffer(8*e);var f=[];for(a=0;8>a;a++)f[a]=new q.mc(null,null,null,this.xg,a*e);f[0].J=this.tf(q.a(0,1));f[0].C=this.vf(q.a(0,1));f[1].J=this.tf(q.a(0,0));f[1].C=this.vf(q.a(0,0));f[6].J=this.tf(q.a(1,1));f[6].C=this.vf(q.a(1,1));f[7].J=this.tf(q.a(1,0));f[7].C=this.vf(q.a(1,0));this.hd=f}a=this.hd;a[2].J=this.tf(q.a(c.x,d.y));a[2].C=this.vf(q.a(c.x,d.y));a[3].J=this.tf(q.a(c.x,
c.y));a[3].C=this.vf(q.a(c.x,c.y));a[4].J=this.tf(q.a(d.x,d.y));a[4].C=this.vf(q.a(d.x,d.y));a[5].J=this.tf(q.a(d.x,c.y));a[5].C=this.vf(q.a(d.x,c.y))}else{if(!this.hd)for(this.$d=4,e=q.mc.BYTES_PER_ELEMENT,this.xg=new ArrayBuffer(4*e),this.hd=[],a=0;4>a;a++)this.hd[a]=new q.mc(null,null,null,this.xg,a*e);a=this.hd;a[0].J=this.tf(q.a(c.x,d.y));a[0].C=this.vf(q.a(c.x,d.y));a[1].J=this.tf(q.a(c.x,c.y));a[1].C=this.vf(q.a(c.x,c.y));a[2].J=this.tf(q.a(d.x,d.y));a[2].C=this.vf(q.a(d.x,d.y));a[3].J=this.tf(q.a(d.x,
c.y));a[3].C=this.vf(q.a(d.x,c.y))}this.Zd()}},Zd:function(){if(this.Fb&&this.hd){for(var a=this.Fb.dc.Za.T,c=this.hd,d=0,e=this.$d;d<e;++d)c[d].T=a;this.zt=!0}},sD:null,XS:function(){var a=this.Fb,c=a.c(),d=this.Gi;if(this.Tf==q.ol){this.Oj=Math.round(Math.sqrt(c.width*c.width+c.height*c.height));var e,f=!1,g=this.rd;g.x=c.width*d.x;g.y=-c.height*d.y;this.re?(e=270,d=270-3.6*this.Mj):(d=-90,e=-90+3.6*this.Mj);a.rc&&(g.x-=2*c.width*this.Gi.x,d=-d-180,e=-e-180,f=!f);a.sc&&(g.y+=2*c.height*this.Gi.y,
f=!f,d=-d,e=-e);this.iD=d;this.MB=e;this.zB=f}else{e=this.nn;g=this.Mj/100;f=this.kB;e=q.size(c.width*(1-e.x),c.height*(1-e.y));var g=q.size((c.width-e.width)*g,(c.height-e.height)*g),g=q.size(e.width+g.width,e.height+g.height),h=q.a(c.width*d.x,c.height*d.y),k=h.x-g.width/2;.5<d.x&&g.width/2>=c.width-h.x&&(k=c.width-g.width);e=h.y-g.height/2;.5<d.y&&g.height/2>=c.height-h.y&&(e=c.height-g.height);f.x=0;c=1;a.rc&&(f.x-=g.width,c=-1);0<k&&(f.x+=k*c);f.y=0;c=1;a.sc&&(f.y+=g.height,c=-1);0<e&&(f.y-=
e*c);f.width=g.width;f.height=-g.height}},YS:function(){var a=this.Tf;a===q.ol?this.aT():a===q.xA&&this.QS();this.zt=!0}});
q.Aa.pd?(b=q.bd.prototype,b.ctor=q.bd.prototype.Ci,b.$M=q.bd.prototype.qS,b.xu=q.bd.prototype.tS,b.eN=q.bd.prototype.xS,b.ZM=q.bd.prototype.oS,b.zE=q.bd.prototype.SQ,b.Ya=q.bd.prototype.Zg,b.sD=q.bd.prototype.YS):(b=q.bd.prototype,b.ctor=q.bd.prototype.Bi,b.$M=q.bd.prototype.pS,b.xu=q.bd.prototype.sS,b.eN=q.bd.prototype.wS,b.ZM=q.bd.prototype.nS,b.zE=q.bd.prototype.RQ,b.Ya=q.bd.prototype.xk,b.sD=q.bd.prototype.XS);q.bd.create=function(a){var c=new q.bd;return c.zE(a)?c:null};q.zA=q.X.extend({Sf:0,He:0,ctor:function(){q.X.prototype.ctor.call(this);this.He=this.Sf=0},U:function(a,c){return q.X.prototype.U.call(this,a)?(this.Sf=c,!0):!1},clone:function(){var a=new q.zA;a.U(this.Da,this.Sf);return a},reverse:function(){q.log("cc.ProgressTo.reverse(): reverse hasn't been supported.");return null},fa:function(a){q.X.prototype.fa.call(this,a);this.He=a.uy();100==this.He&&(this.He=0)},update:function(a){this.Y instanceof q.bd&&this.Y.vu(this.He+(this.Sf-this.He)*a)}});
q.zA.create=function(a,c){var d=new q.zA;d.U(a,c);return d};q.Iv=q.X.extend({Sf:0,He:0,ctor:function(){q.X.prototype.ctor.call(this);this.He=this.Sf=0},U:function(a,c,d){return q.X.prototype.U.call(this,a)?(this.Sf=d,this.He=c,!0):!1},clone:function(){var a=new q.Iv;a.U(this.Da,this.He,this.Sf);return a},reverse:function(){return q.Iv.create(this.Da,this.Sf,this.He)},fa:function(a){q.X.prototype.fa.call(this,a)},update:function(a){this.Y instanceof q.bd&&this.Y.vu(this.He+(this.Sf-this.He)*a)}});
q.Iv.create=function(a,c,d){var e=new q.Iv;e.U(a,c,d);return e};q.Wz=9;q.cO=1;q.fO=2;q.gO=4;q.dO=8;q.eO=16;q.Xu=32;q.hO=64;q.bO=128;q.pj=256;q.Rg=1;q.Zu=2;q.Yu=4;q.t0=8;q.s0=8;
q.lc=q.xi.extend({aI:!1,i3:!1,km:function(){return this.aI},dg:function(a){this.aI=a;for(var c=this.D,d=0,e=c.length;d<e;d++){var f=c[d];f&&f.Ab&&f.dg(a)}},Rj:q.Rg,D8:function(){return this.Rj},ms:!1,iq:!1,Dk:!1,Hw:null,cg:function(a){this.Rj=(this.ms=a)?q.Rg:q.Yu;this.Bd()},isEnabled:function(){return this.ms},jr:function(a){this.iq=a;this.Bd()},o$:function(){return this.iq},Fm:function(a){this.Dk=a;this.Bd()},X9:function(){return this.Dk},aW:function(){for(var a=this.getParent();null!=a;a=a.getParent())if(!a.Ua)return!1;
return!0},ctor:function(){q.xi.prototype.ctor.call(this);this.Hw={};this.Ec=q.Jb()},w:function(){return q.xi.prototype.w.call(this)?(this.Rj=q.Rg,this.ms=!0,this.Dk=this.iq=!1,this.nj(1),!0):!1},bz:function(){q.$E(this.Xl,!0,this)},Ef:function(a){for(var c=0,d=q.Wz;c<d;c++)if(a&1<<c)for(var e=this.LB(1<<c),f=0,g=e.length;f<g;f++)e[f].uW(this)},yJ:function(a,c,d){for(var e=0,f=q.Wz;e<f;e++)d&1<<e&&this.ow(a,c,1<<e)},xba:function(a,c,d){for(var e=0,f=q.Wz;e<f;e++)d&1<<e&&this.MR(a,c,1<<e)},Wj:function(a){return this.Ca(a.W)},
ej:function(a){a=a.W;a=this.getParent().Ca(a);return q.vc(this.Qc(),a)},k3:function(){return null},LB:function(a){a=a.toString();this.Hw.hasOwnProperty(a)||(this.Hw[a]=[]);return this.Hw[a]},ow:function(a,c,d){a=new q.EO(a,c,d);this.LB(d).push(a)},MR:function(a,c,d){d=this.LB(d);if(a||c)for(var e=0;e<d.length;){var f=d[e],g=!0;a&&(g=a==f.Y);c&&(g=g&&c==f.jg);g?q.ie(d,f):e++}else d.length=0},Bd:function(){}});q.lc.create=function(){var a=new q.lc;return a&&a.w()?a:null};q.pG=3435855873;
q.vi=q.lc.extend({ds:!1,At:!1,dh:null,Fs:null,Vr:null,Ew:null,Tn:null,Be:null,Lj:0,Up:!1,Px:null,ot:null,Qx:null,mn:null,pI:!1,hx:0,gx:0,ctor:function(){q.lc.prototype.ctor.call(this);this.dh=new q.ql(0,0);this.Fs=new q.Hh(0,0);this.Vr="";this.Ew=q.Jb();this.Px={};this.ot={};this.Qx={};this.mn={}},w:function(){return this.Dy(q.O.create("","Arial",12),q.ke.create())},Bd:function(){if(this.pI){this.Tn&&this.Tn.H(!1);this.Be&&this.Be.H(!1);this.kZ(this.Fs);var a=this.Rj;this.Vr=this.mE(a);this.Ew=this.KV(a);
var c=this.Tn=this.Vt(a);c&&c.ia&&c.ia(this.Vr);c&&c.Ab&&c.n(this.Ew);var d=this.c();c&&c.o(d.width/2,d.height/2);(a=this.Be=this.aV(a))&&a.o(d.width/2,d.height/2);d=c?c.Qc().Xa:q.size(0,0);if(this.ds)a&&a.G(d.width+2*this.gx,d.height+2*this.hx);else if(a){var e=a.dh,e=q.size(e.width,e.height);0>=e.width&&(e.width=d.width);0>=e.height&&(e.height=d.height);a.G(e)}d=c?c.Qc():q.rect(0,0,0,0);e=a?a.Qc():q.rect(0,0,0,0);d=q.az(d,e);this.G(d.width,d.height);d=this.c();c&&(c.o(d.width/2,d.height/2),c.H(!0));
a&&(a.o(d.width/2,d.height/2),a.H(!0))}},Dy:function(a,c){if(!a||!a.Ab)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): label should be non-null";if(!c)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): backgroundSprite should be non-null";return q.lc.prototype.w.call(this,!0)?(this.pI=!0,this.Px={},this.ot={},this.Qx={},this.mn={},this.Zc(!0),this.Up=!1,this.At=!0,this.Vr=null,this.LY(!0),this.mj(q.size(0,0)),this.At=!0,this.Xj(!1),this.A(.5,.5),this.Tn=a,this.Be=c,this.ua(255),
this.dg(!0),this.WZ(a.GK(),q.Rg),this.VZ(a.Od(),q.Rg),this.DF(a,q.Rg),this.Cm(c,q.Rg),this.Rj=q.Rg,this.gx=24,this.hx=12,this.Fs=new q.Hh(.5,.5),this.mj(q.cn()),this.Bd(),!0):!1},lW:function(a,c,d){a=q.O.create(a,c,d);return this.Dy(a,q.ke.create())},Ay:function(a){var c=q.O.create("","Arial",30);return this.Dy(c,a)},d5:function(){return this.ds},LY:function(a){this.ds=a;this.Bd()},m9:function(){return this.At},JF:function(a){return this.At=a},rV:function(){return this.dh},mj:function(a){if(0===a.width&&
0===a.height)this.ds=!0;else{this.ds=!1;var c=this.mn,d;for(d in c)c[d].mj(a)}this.dh=a;this.Bd()},f7:function(){return this.Fs},kZ:function(a){this.Fs=a;this.Tn&&this.Tn.A(a)},a3:function(){return this.Vr},b3:function(){return this.Ew},Vj:function(){return this.Lj},ua:function(a){q.lc.prototype.ua.call(this,a);var c=this.mn,d;for(d in c)c[d].ua(a)},n:function(a){q.lc.prototype.n.call(this,a);var c=this.mn,d;for(d in c)c[d].n(a)},Od:function(){return this.Ke},j$:function(){return this.Up},g3:function(){return this.hx},
d3:function(){return this.gx},Eca:function(a,c){this.hx=c;this.gx=a;this.Bd()},cg:function(a){q.lc.prototype.cg.call(this,a);this.Bd()},jr:function(a){q.lc.prototype.jr.call(this,a);this.Bd()},Fm:function(a){this.Rj=a?q.Zu:q.Rg;q.lc.prototype.Fm.call(this,a);(a=this.aE(q.pG))&&this.s_(a);this.Bd();this.At&&(a=q.fp.create(.05,this.Dk&&this.isEnabled()&&!this.iq?1.1:1),a.dN(q.pG),this.ez(a))},yb:function(a){if(!(this.ej(a)&&this.isEnabled()&&this.Ua&&this.aW()))return!1;this.Up=!0;this.Fm(!0);this.Ef(q.cO);
return!0},Cd:function(a){this.ms&&this.Up&&!this.iq?(a=this.ej(a))&&!this.Dk?(this.Fm(!0),this.Ef(q.dO)):a&&this.Dk?this.Ef(q.fO):!a&&this.Dk?(this.Fm(!1),this.Ef(q.eO)):a||this.Dk||this.Ef(q.gO):this.Dk&&this.Fm(!1)},Zf:function(a){this.Up=!1;this.Fm(!1);this.ej(a)?this.Ef(q.Xu):this.Ef(q.hO)},fl:function(){this.Up=!1;this.Fm(!1);this.Ef(q.bO)},mE:function(a){var c=this.Px;return c?c[a]?c[a]:c[q.Rg]:""},WZ:function(a,c){this.Px[c]=a||"";this.Rj==c&&this.Bd()},KV:function(a){return(a=this.ot[a])?
a:(a=this.ot[q.Rg])?a:q.Jb()},VZ:function(a,c){this.ot[c]=a;this.Rj==c&&this.Bd()},Vt:function(a){var c=this.Qx;return c.hasOwnProperty(a)&&c[a]?c[a]:c[q.Rg]},DF:function(a,c){var d=this.Qx;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.H(!1);a.A(.5,.5);this.e(a,1);this.Rj==c&&this.Bd()},wda:function(a,c){var d=this.mE(c);d||(d="");this.DF(q.O.create(d,a,12),c)},N8:function(a){a=this.Vt(a);return null!=a&&a instanceof q.O?a.Lf:""},xda:function(a,c){var d=this.Vt(c);null!=d&&
d instanceof q.O&&d.iz(a)},O8:function(a){a=this.Vt(a);return null!=a&&a instanceof q.O?a.ne:0},vda:function(a,c){var d=this.mE(c);d||(d="");this.DF(q.rA.create(d,a),c)},M8:function(a){a=this.Vt(a);return null!=a&&a instanceof q.rA?a.M6():""},aV:function(a){var c=this.mn;return c.hasOwnProperty(a)&&c[a]?c[a]:c[q.Rg]},Cm:function(a,c){var d=this.mn;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.H(!1);a.A(.5,.5);this.e(a);d=this.dh;0===d.width&&0===d.height||a.mj(d);this.Rj===
c&&this.Bd()},Tba:function(a,c){var d=q.ke.MJ(a);this.Cm(d,c)}});q.vi.create=function(a,c){var d;if(0==arguments.length)return(d=new q.vi)&&d.w()?d:null;1==arguments.length?(d=new q.vi,d.Ay(arguments[0])):2==arguments.length?(d=new q.vi,d.Dy(a,c)):3==arguments.length&&(d=new q.vi,d.lW(arguments[0],arguments[1],arguments[2]));return d};q.RGBA=function(a,c,d,e){this.t=a;this.r=c;this.p=d;this.Q=e};q.mA=function(a,c,d){this.h=a;this.s=c;this.qa=d};q.ze={};q.ze.fo=function(a,c,d,e){a=q.B.NJ(a);if(!a)return null;a.o(d);a.A(e);c.e(a);return a};q.ze.BO=function(a){var c=new q.mA,d,e;d=a.t<a.r?a.t:a.r;d=d<a.p?d:a.p;e=a.t>a.r?a.t:a.r;e=e>a.p?e:a.p;c.qa=e;d=e-d;if(0<e)c.s=d/e;else return c.s=0,c.h=-1,c;c.h=a.t>=e?(a.r-a.p)/d:a.r>=e?2+(a.p-a.t)/d:4+(a.t-a.r)/d;c.h*=60;0>c.h&&(c.h+=360);return c};
q.ze.CA=function(a){var c,d,e,f,g=new q.RGBA;g.Q=1;if(0>=a.s){if(!a.h)return g.t=a.qa,g.r=a.qa,g.p=a.qa,g;g.t=0;g.r=0;g.p=0;return g}c=a.h;360<=c&&(c=0);c/=60;f=0|c;e=c-f;c=a.qa*(1-a.s);d=a.qa*(1-a.s*e);e=a.qa*(1-a.s*(1-e));switch(f){case 0:g.t=a.qa;g.r=e;g.p=c;break;case 1:g.t=d;g.r=a.qa;g.p=c;break;case 2:g.t=c;g.r=a.qa;g.p=e;break;case 3:g.t=c;g.r=d;g.p=a.qa;break;case 4:g.t=e;g.r=c;g.p=a.qa;break;default:g.t=a.qa,g.r=c,g.p=d}return g};q.ze.kG=function(a,c){return q.az(a,c)};q.EO=q.Ka.extend({jg:null,Y:null,Dw:null,ctor:function(a,c,d){this.Y=a;this.jg=c;this.Dw=d},N5:function(){return this.jg},IV:function(){return this.Y},r6:function(){return this.Dw},uW:function(a){if(this.Y&&this.jg)if("string"==typeof this.jg)this.Y[this.jg](a,this.Dw);else this.jg.call(this.Y,a,this.Dw)}});q.MG=0;q.PG=1;q.NG=2;q.OG=3;q.KG=4;q.RG=5;q.QG=6;q.eP=7;q.LG=8;
q.ke=q.Rb.extend({Ab:!0,lq:null,BH:null,Pl:!1,Qf:null,Ri:null,Qi:null,Yh:null,Hj:null,sk:null,Li:null,wj:null,vj:null,xj:null,uk:null,Gc:!1,Jd:null,dh:null,Lj:0,Ec:null,yp:null,Uw:0,Ww:0,Vw:0,Tw:0,NI:!1,dD:!1,Cb:!1,pe:null,CN:function(){return this.Cb},yg:function(a,c){this.pe.push({eventCallback:a,aj:c})},Ce:function(){this.Cb=!0;for(var a=this.pe,c=0,d=a.length;c<d;c++){var e=a[c];e.eventCallback.call(e.aj,this)}a.length=0},Vx:function(){var a;a=this.Uw;var c=this.Ww,d=this.Vw,e=this.lq,f=this.Tw;
a=0===a&&0===c&&0===d&&0===f?q.Gd():this.dD?q.rect(f,a,e.width-d-a,e.height-c-f):q.rect(a,c,e.width-a-d,e.height-c-f);this.RY(a)},WS:function(){if(this.Ri&&this.Yh&&this.xj&&this.wj&&this.sk){var a=this.ya,c=this.Ri,d=this.Yh,e=this.xj,f=this.wj,g=this.sk,h=this.sk.c(),k=c.c(),l=f.c(),m=a.Ea-k.width-d.c().width,a=a.ra-k.height-e.c().height,m=m/h.width,a=a/h.height,k=h.width*m,p=h.height*a,w=l.width,l=l.height;if(!q.Aa.pd){var v=Math.round(k);k!=v&&(k=v,m=k/h.width);v=Math.round(p);p!=v&&(p=v,a=p/
h.height)}g.ir(m);g.Oo(a);var h=this.Hj,v=this.Li,x=this.Qi,z=this.vj,G=q.a(0,0);f.A(G);e.A(G);c.A(G);d.A(G);h.A(G);v.A(G);x.A(G);z.A(G);g.A(G);f.o(0,0);e.o(w+k,0);c.o(0,l+p);d.o(w+k,l+p);h.o(0,l);h.Oo(a);v.o(w+k,l);v.Oo(a);z.o(w,0);z.ir(m);x.o(w,l+p);x.ir(m);g.o(w,l)}},ctor:function(){q.Rb.prototype.ctor.call(this);this.lq=q.Gd();this.BH=q.Gd();this.uk=q.Jb();this.Jd=new q.ql(0,0);this.dh=new q.ql(0,0);this.Ec=q.Jb();this.Lj=255;this.yp=q.Gd();this.pe=[]},qV:function(){return this.Jd},rV:function(){return this.dh},
mj:function(a){this.G(a);this.dh=a},Vj:function(){return this.Lj},ua:function(a){if(this.Qf){this.Lj=a;for(var c=this.Qf.D,d=0;d<c.length;d++){var e=c[d];e&&e.Ab&&e.ua(a)}}},Od:function(){return this.Ec},n:function(a){if(this.Qf){this.Ec=a;for(var c=this.Qf.D,d=0;d<c.length;d++){var e=c[d];e&&e.Ab&&e.n(a)}}},e6:function(){return this.yp},RY:function(a){if(this.Qf){var c=this.ya,d=c.Ea,c=c.ra;this.or(this.Qf,this.lq,this.dD,a);this.G(d,c)}},b7:function(){return this.Uw},vca:function(a){this.Uw=a;this.Vx()},
d7:function(){return this.Ww},xca:function(a){this.Ww=a;this.Vx()},c7:function(){return this.Vw},wca:function(a){this.Vw=a;this.Vx()},a7:function(){return this.Tw},uca:function(a){this.Tw=a;this.Vx()},G:function(a,c){2===arguments.length?q.Node.prototype.G.call(this,a,c):q.Node.prototype.G.call(this,a);this.Pl=!0},xa:function(a){this.Pl&&(this.WS(),this.Pl=!1);q.Rb.prototype.xa.call(this,a)},w:function(){return this.By(null,q.Gd(),!1,q.Gd())},By:function(a,c,d,e){3===arguments.length&&(e=d,d=!1);
a&&this.or(a,c,d,e);this.A(.5,.5);return this.Pl=!0},Yj:function(a,c,d){a instanceof q.Rect?(d=a=c,c=q.Gd()):(c=c||q.Gd(),d=d||q.Gd());if(!a)throw"cc.Scale9Sprite.initWithFile(): file should be non-null";var e=q.da.f().Cz(a);if(!e){var e=q.da.f().pa(a),f=e.rh();(this.Cb=f)||e.yg(function(a){var c=this.dh,c=q.size(c.width,c.height);a=a.c();this.or(this.Qf,q.rect(0,0,a.width,a.height),!1,this.yp);this.mj(c);this.Pl=!0;this.Ce()},this)}a=q.Kb.create(a,9);return this.By(a,c,!1,d)},We:function(a,c){if(!a||
!a.ha())throw"cc.Scale9Sprite.initWithSpriteFrame(): spriteFrame should be non-null and its texture should be non-null";c=c||q.Gd();var d=a.Cb;(this.Cb=d)||a.yg(function(a){var c=this.dh,c=q.size(c.width,c.height);this.or(this.Qf,a.zd(),q.Aa.pd?a.Kd:!1,this.yp);this.mj(c);this.Pl=!0;this.Ce()},this);d=q.Kb.cb(a.ha(),9);return this.By(d,a.zd(),q.Aa.pd?a.Kd:!1,c)},$K:function(a,c){if(!a)throw"cc.Scale9Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";c=c||q.Gd();var d=q.Ug.f().ii(a);
return null==d?(q.log("cc.Scale9Sprite.initWithSpriteFrameName(): can't find the sprite frame by spriteFrameName"),!1):this.We(d,c)},Aba:function(a){var c=new q.ke;return c&&c.By(this.Qf,this.lq,!1,a)?c:null},dg:function(a){if(this.Qf){this.Gc=a;var c=this.Qf.D;if(c)for(var d=0,e=c.length;d<e;d++)c[d].dg(a)}},km:function(){return this.Gc},or:function(a,c,d,e){var f=this.Vj(),g=this.Od();c=q.rect(c.x,c.y,c.width,c.height);this.Wc(!0);this.Qf!=a&&(this.Qf=a);a=a.ha();var h=a.rh();if(this.Cb=h){a=this.Qf;
a.Wc(!0);h=this.yp;h.x=e.x;h.y=e.y;h.width=e.width;h.height=e.height;this.dD=d;h=a.ha();q.Ts(c)&&(c=h.c(),c=q.rect(0,0,c.width,c.height));var k=this.lq=c;k.x=c.x;k.y=c.y;k.width=c.width;k.height=c.height;var l=c.Xa;this.Jd.width=l.width;this.Jd.height=l.height;k=this.dh;0===k.width&&0===k.height&&(k.width=l.width,k.height=l.height);k=this.BH;e&&(k.x=e.x,k.y=e.y,k.width=e.width,k.height=e.height);var m=l.width;e=l.height;q.Ts(k)&&(k.x=m/3,k.y=e/3,k.width=m/3,k.height=e/3);var p=k.x,w=k.width,v=m-(p+
w),x=k.y,z=k.height,G=e-(x+z),J=0,D=0;e=q.rect(J,D,p,x);var J=J+p,k=q.rect(J,D,w,x),m=q.rect(J+w,D,v,x),J=0,D=0+x,l=q.rect(J,D,p,z),J=J+p,la=q.rect(J,D,w,z),J=J+w,ma=q.rect(J,D,v,z),J=0,D=0+x+z,x=q.rect(J,D,p,G),J=J+p,p=q.rect(J,D,w,G),J=J+w,w=q.rect(J,D,v,G),v={Q:1,p:0,La:0,d:1,lb:0,mb:0};if(d){d=la;var G=w,J=x,D=m,z=e,za=ma,oa=l,Aa=p,Ba=k,v=q.Qz(v,c.height+c.x,c.y),v=q.aO(v),la=q.hg(la,v),w=q.hg(w,v),x=q.hg(x,v),m=q.hg(m,v);e=q.hg(e,v);ma=q.hg(ma,v);l=q.hg(l,v);p=q.hg(p,v);k=q.hg(k,v);d.x=la.x;
d.y=la.y;G.x=w.x;G.y=w.y;J.x=x.x;J.y=x.y;D.x=m.x;D.y=m.y;z.x=e.x;z.y=e.y;za.x=ma.x;za.y=ma.y;oa.x=l.x;oa.y=l.y;Aa.x=p.x;Aa.y=p.y;Ba.x=k.x;Ba.y=k.y;this.sk=new q.B;this.sk.Qa(h,d,!0);a.e(this.sk,0,q.MG);this.Qi=new q.B;this.Qi.Qa(h,Ba,!0);a.e(this.Qi,1,q.PG);this.vj=new q.B;this.vj.Qa(h,Aa,!0);a.e(this.vj,1,q.KG);this.Hj=new q.B;this.Hj.Qa(h,oa,!0);a.e(this.Hj,1,q.NG);this.Li=new q.B;this.Li.Qa(h,za,!0);a.e(this.Li,1,q.OG);this.Ri=new q.B;this.Ri.Qa(h,z,!0);a.e(this.Ri,2,q.QG);this.Yh=new q.B;this.Yh.Qa(h,
D,!0);a.e(this.Yh,2,q.RG);this.wj=new q.B;this.wj.Qa(h,J,!0);a.e(this.wj,2,q.LG);this.xj=new q.B;this.xj.Qa(h,G,!0)}else v=q.Qz(v,c.x,c.y),q.sj(la,v),q.sj(w,v),q.sj(x,v),q.sj(m,v),q.sj(e,v),q.sj(ma,v),q.sj(l,v),q.sj(p,v),q.sj(k,v),this.sk=new q.B,this.sk.Qa(h,la),a.e(this.sk,0,q.MG),this.Qi=new q.B,this.Qi.Qa(h,k),a.e(this.Qi,1,q.PG),this.vj=new q.B,this.vj.Qa(h,p),a.e(this.vj,1,q.KG),this.Hj=new q.B,this.Hj.Qa(h,l),a.e(this.Hj,1,q.NG),this.Li=new q.B,this.Li.Qa(h,ma),a.e(this.Li,1,q.OG),this.Ri=
new q.B,this.Ri.Qa(h,e),a.e(this.Ri,2,q.QG),this.Yh=new q.B,this.Yh.Qa(h,m),a.e(this.Yh,2,q.RG),this.wj=new q.B,this.wj.Qa(h,x),a.e(this.wj,2,q.LG),this.xj=new q.B,this.xj.Qa(h,w);a.e(this.xj,2,q.eP);this.G(c.Xa);this.e(a);this.NI&&(this.ua(f),255===g.t&&255===g.r&&255===g.p||this.n(g));return this.NI=!0}a.yg(function(){this.Pl=!0;this.Ce()},this)},eg:function(a){var c=q.Kb.cb(a.ha(),9),d=a.Cb;(this.Cb=d)||a.yg(function(a){var c=this.dh,c=q.size(c.width,c.height);this.or(this.Qf,a.zd(),q.Aa.pd?a.Kd:
!1,this.yp);this.mj(c);this.Pl=!0;this.Ce()},this);this.or(c,a.zd(),q.Aa.pd?a.Kd:!1,q.Gd());this.Tw=this.Vw=this.Ww=this.Uw=0}});q.ke.create=function(a,c,d){var e;if(2===arguments.length)if("string"==typeof a){if((e=new q.ke)&&e.Yj(a,c))return e}else{if(a instanceof q.Rect&&(e=new q.ke)&&e.Yj(a,d))return e}else if(3===arguments.length){if((e=new q.ke)&&e.Yj(a,c,d))return e}else if(1===arguments.length){if((e=new q.ke)&&e.Yj(a))return e}else if(0===arguments.length&&(e=new q.ke)&&e.w())return e;return null};
q.ke.MJ=function(a,c){var d=new q.ke;return d&&d.We(a,c)?d:null};q.ke.NJ=function(a,c){if(!a)throw"cc.Scale9Sprite.createWithSpriteFrameName(): spriteFrameName should be non-null";var d=new q.ke;return d&&d.$K(a,c)?d:null};q.Tv=q.ad.extend({});q.Tv.Pea=function(a){var c=new q.Tv;c.w();c.G(0,a);return c};q.Tv.t9=function(a){var c=new q.Tv;c.w();c.G(a,0);return c};
q.Fv=q.ad.extend({Ab:!0,Ec:null,Lj:0,ctor:function(){},Od:function(){return this.Ec},n:function(a){this.Ec=a;if(this.D&&0<this.D.length)for(var c=0;c<this.D.length;c++)this.D[c]&&this.D[c].Ab&&this.D[c].n(a)},Vj:function(){return this.Lj},ua:function(a){this.Lj=a;if(this.D&&0<this.D.length)for(var c=0;c<this.D.length;c++)this.D[c]&&this.D[c].Ab&&this.D[c].ua(a)},fW:function(a,c){if(this.w()){var d=q.aa.f().ic;this.Xj(!0);this.A(.5,.5);this.G(d);this.o(d.width/2,d.height/2);d=0;if(a){this.e(a,d);for(var e=
0;e<c.length;e++)c[e]&&(d++,this.e(c[e],d))}return!0}return!1},Y3:function(){this.sT(q.mO)},sT:function(a){var c=-a,d;if(this.D&&0<this.D.length)for(d=0;d<this.D.length;d++)this.D[d]&&(c+=this.D[d].c().height*this.D[d].za+a);var e=0,f=c/2;if(this.D&&0<this.D.length)for(d=0;d<this.D.length;d++)this.D[d]&&(e=Math.max(e,this.D[d].c().width),this.D[d].o(0,f-this.D[d].c().height*this.D[d].za/2),f-=this.D[d].c().height*this.D[d].za+a);this.G(e,c)},V3:function(){this.rT(q.mO)},rT:function(a){var c=-a,d;
if(this.D&&0<this.D.length)for(d=0;d<this.D.length;d++)this.D[d]&&(c+=this.D[d].c().width*this.D[d].sa+a);var e=0,f=-c/2;if(this.D&&0<this.D.length)for(d=0;d<this.D.length;d++)this.D[d]&&(e=Math.max(e,this.D[d].c().height),this.D[d].o(f+this.D[d].c().width*this.D[d].sa/2,0),f+=this.D[d].c().width*this.D[d].sa+a);this.G(c,e)},W3:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=-5,f=0,g=0,h=0,k,l;if(this.D&&0<this.D.length)for(d=0;d<this.D.length;d++)this.D[d]&&(f>=c.length?
q.log("cc.MenuPassive.alignItemsInColumns(): invalid row index"):(k=c[f])?(l=this.D[d].c().height,g=0|(g>=l||null==l?g:l),++h,h>=k&&(e+=g+5,g=h=0,++f)):q.log("cc.MenuPassive.alignItemsInColumns(): can not have zero columns on a row"));var m=q.aa.f().ic,p=k=g=f=0,w=0,e=e/2;if(this.D&&0<this.D.length)for(d=0;d<this.D.length;d++)this.D[d]&&(0==k&&(k=c[f],w=p=m.width/(1+k)),l=this.D[d].c().height,g=0|(g>=l||null==l?g:l),this.D[d].o(w-m.width/2,e-this.D[d].c().height/2),w+=p,++h,h>=k&&(e-=g+5,g=k=h=0,
++f))},X3:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=[],f=[],g=-10,h=-5,k=0,l=0,m=0,p,w;if(this.D&&0<this.D.length)for(d=0;d<this.D.length;d++)this.D[d]&&(k>=c.length?q.log("cc.MenuPassive.alignItemsInRows(): invalid row index"):(p=c[k])?(w=this.D[d].c().width,l=0|(l>=w||null==w?l:w),h+=0|this.D[d].c().height+5,++m,m>=p&&(e.push(l),f.push(h),g+=l+10,l=m=0,h=-5,++k)):q.log("cc.MenuPassive.alignItemsInColumns(): can't have zero rows on a column"));h=q.aa.f().ic;
l=k=0;p=null;var g=-g/2,v=0;if(this.D&&0<this.D.length)for(d=0;d<this.D.length;d++)this.D[d]&&(null==p&&(p=c[k],v=f[k]),w=this.D[d].c().width,l=0|(l>=w||null==w?l:w),this.D[d].o(g+e[k]/2,v-h.height/2),v-=this.D[d].c().height+10,++m,m>=p&&(g+=l+5,l=p=m=0,++k))},dg:function(){},km:function(){return!1}});q.Fv.create=function(a){0==arguments.length&&(a=null);for(var c=[],d=1;d<arguments.length;d++)c.push(arguments[d]);return(d=new q.Fv)&&d.fW(a,c)?d:null};q.Fv.R4=function(a){return q.Fv.create(a,null)};q.bA=q.lc.extend({OC:0,uw:0,ed:null,qR:null,LI:null,Xh:null,Oc:null,Xg:0,rk:0,m8:function(){return this.OC},a6:function(){return this.uw},qK:function(){return this.ed},N7:function(){return this.uw},t8:function(){return this.LI},DV:function(){return this.Xh},FV:function(){return this.Oc},BE:function(a,c){return q.lc.prototype.w.call(this)?(this.Zc(!0),this.ed=q.ze.fo("colourPickerBackground.png",a,c,q.a(0,0)),this.qR=q.ze.fo("colourPickerOverlay.png",a,c,q.a(0,0)),this.LI=q.ze.fo("colourPickerShadow.png",
a,c,q.a(0,0)),this.Xh=q.ze.fo("colourPicker.png",a,c,q.a(.5,.5)),this.Oc=c,this.Xg=35,this.rk=this.ed.c().width/2,!0):!1},cg:function(a){q.lc.prototype.cg.call(this,a);this.Xh&&this.Xh.ua(a?255:128)},SN:function(a){var c=new q.mA;c.s=1;c.h=a.h;c.qa=1;a=q.ze.CA(c);this.ed.n(q.MD(0|255*a.t,0|255*a.r,0|255*a.p))},H_:function(a){a=q.a(this.Oc.x+this.Xg+this.rk*(1-a.s),this.Oc.y+this.Xg+this.rk*a.qa);this.Yx(a)},Yx:function(a){var c=this.Oc.x+.5*this.ed.Qc().width,d=this.Oc.y+.5*this.ed.Qc().height,e=
a.x-c,f=a.y-d,g=Math.sqrt(e*e+f*f),e=Math.atan2(f,e),f=.5*this.ed.Qc().width;g>f&&(a.x=c+f*Math.cos(e),a.y=d+f*Math.sin(e));this.Xh.o(a);a.x<this.Oc.x+this.Xg?a.x=this.Oc.x+this.Xg:a.x>this.Oc.x+this.Xg+this.rk-1&&(a.x=this.Oc.x+this.Xg+this.rk-1);a.y<this.Oc.y+this.Xg?a.y=this.Oc.y+this.Xg:a.y>this.Oc.y+this.Xg+this.rk&&(a.y=this.Oc.y+this.Xg+this.rk);this.OC=1-Math.abs((this.Oc.x+this.Xg-a.x)/this.rk);this.uw=Math.abs((this.Oc.y+this.Xg-a.y)/this.rk)},Qr:function(a){var c=this.Oc.x+.5*this.ed.Qc().width,
d=this.Oc.y+.5*this.ed.Qc().height,c=a.x-c,d=a.y-d;return Math.sqrt(c*c+d*d)<=.5*this.ed.Qc().width?(this.Yx(a),this.Ef(q.pj),!0):!1},yb:function(a){if(!this.isEnabled()||!this.Ua)return!1;a=this.Wj(a);return this.Qr(a)},Cd:function(a){a=this.Wj(a);this.Qr(a)}});q.bA.create=function(a,c){var d=new q.bA;d.BE(a,c);return d};q.aA=q.lc.extend({Rp:0,ys:0,ed:null,Xh:null,Oc:null,V6:function(){return this.Rp},wF:function(a){this.Rp=a;this.gZ(this.Rp/360)},W6:function(){return this.ys},gZ:function(a){this.ys=a;this.Rp=360*this.ys;a=this.ed.Qc();var c=.5*a.width-15,d=q.jk(360*this.ys-180);this.Xh.o(this.Oc.x+.5*a.width+c*Math.cos(d),this.Oc.y+.5*a.height+c*Math.sin(d))},cg:function(a){q.lc.prototype.cg.call(this,a);this.Xh&&this.Xh.ua(a?255:128)},qK:function(){return this.ed},DV:function(){return this.Xh},FV:function(){return this.Oc},
BE:function(a,c){return q.lc.prototype.w.call(this)?(this.Zc(!0),this.ed=q.ze.fo("huePickerBackground.png",a,c,q.a(0,0)),this.Xh=q.ze.fo("colourPicker.png",a,c,q.a(.5,.5)),this.Xh.o(c.x,c.y+.5*this.ed.Qc().height),this.Oc=c,this.ys=this.Rp=0,!0):!1},Yx:function(a){var c=this.ed.Qc();this.wF(q.AA(Math.atan2(a.y-(this.Oc.y+.5*c.height),a.x-(this.Oc.x+.5*c.width)))+180);this.Ef(q.pj)},Qr:function(a){var c=Math.sqrt(Math.pow(a.x+10,2)+Math.pow(a.y,2));return 80>c&&59<c?(this.Yx(a),!0):!1},yb:function(a){if(!this.isEnabled()||
!this.Ua)return!1;a=this.Wj(a);return this.Qr(a)},Cd:function(a){a=this.Wj(a);this.Qr(a)}});q.aA.create=function(a,c){var d=new q.aA;d.BE(a,c);return d};q.qG=q.lc.extend({Nh:null,yl:null,wn:null,ed:null,cW:function(a){this.Nh.h=a.Rp;a=q.ze.CA(this.Nh);q.lc.prototype.n.call(this,q.MD(0|255*a.t,0|255*a.r,0|255*a.p));this.Ef(q.pj);this.TS()},WT:function(a){this.Nh.s=a.OC;this.Nh.qa=a.uw;a=q.ze.CA(this.Nh);q.lc.prototype.n.call(this,q.MD(0|255*a.t,0|255*a.r,0|255*a.p));this.Ef(q.pj)},n:function(a){q.lc.prototype.n.call(this,a);var c=new q.RGBA;c.t=a.t/255;c.r=a.r/255;c.p=a.p/255;c.Q=1;this.Nh=q.ze.BO(c);this.eJ()},qK:function(){return this.ed},w:function(){if(q.lc.prototype.w.call(this)){this.Zc(!0);
q.Ug.f().xJ(aa.iG);var a=q.Kb.create(aa.jG);this.e(a);this.Nh=new q.mA(0,0,0);this.ed=q.ze.fo("menuColourPanelBackground.png",a,q.lk(),q.a(.5,.5));var c=q.de(this.ed.v,q.a(this.ed.c().width/2,this.ed.c().height/2));this.wn=q.aA.create(a,q.a(c.x+8,c.y+8));this.yl=q.bA.create(a,q.a(c.x+28,c.y+28));this.wn.yJ(this,this.cW,q.pj);this.yl.yJ(this,this.WT,q.pj);this.eJ();this.e(this.wn);this.e(this.yl);this.G(this.ed.c());return!0}return!1},TS:function(){this.wn.wF(this.Nh.h);this.yl.SN(this.Nh)},eJ:function(){this.wn.wF(this.Nh.h);
this.yl.SN(this.Nh);this.yl.H_(this.Nh)},cg:function(a){q.lc.prototype.cg.call(this,a);null!=this.wn&&this.wn.cg(a);this.yl&&this.yl.cg(a)},yb:function(){return!1}});q.qG.create=function(){var a=new q.qG;a.w();return a};aa=aa||{};aa.iG=aa.iG||"res/extensions/CCControlColourPickerSpriteSheet.plist";aa.jG=aa.jG||"res/extensions/CCControlColourPickerSpriteSheet.png";q.YG=24;q.k2=8;
q.sG=q.lc.extend({ud:0,vb:0,Vb:0,mx:0,kx:0,Wb:null,Ql:null,Be:null,MK:function(){return this.ud},Gf:function(a){a=Math.max(a,this.vb);this.ud=a=Math.min(a,this.Vb);this.Bd();this.Ef(q.pj)},mV:function(){return this.vb},OM:function(a){this.mx=this.vb=a;this.vb>=this.Vb&&(this.Vb=this.vb+1);this.Gf(this.ud)},lV:function(){return this.Vb},LM:function(a){this.kx=this.Vb=a;this.Vb<=this.vb&&(this.vb=this.Vb-1);this.Gf(this.ud)},ej:function(a){a=a.W;a=this.getParent().Ca(a);var c=this.Qc();c.Xa.width+=
this.Wb.c().width;c.rd.x-=this.Wb.c().width/2;return q.vc(c,a)},wo:function(a){a=a.W;a=this.Ca(a);0>a.x?a.x=0:a.x>this.Be.c().width&&(a.x=this.Be.c().width);return a},r7:function(){return this.mx},Ica:function(a){this.mx=a},p7:function(){return this.kx},Hca:function(a){this.kx=a},KK:function(){return this.Wb},X7:function(){return this.Ql},U5:function(){return this.Be},jW:function(a,c,d){return q.lc.prototype.w.call(this)?(this.Xj(!1),this.Zc(!0),this.Be=a,this.Ql=c,this.Wb=d,a=q.ze.kG(a.Qc(),d.Qc()),
this.G(a.width,a.height),this.Be.A(.5,.5),this.Be.o(a.width/2,a.height/2),this.e(this.Be),this.Ql.A(0,.5),this.Ql.o(0,a.height/2),this.e(this.Ql),this.Wb.o(0,a.height/2),this.e(this.Wb),this.vb=0,this.Vb=1,this.Gf(this.vb),!0):!1},cg:function(a){q.lc.prototype.cg.call(this,a);this.Wb&&this.Wb.ua(a?255:128)},o_:function(a){this.jr(!0);this.Wb.n(q.im());this.Gf(this.dG(a))},q_:function(a){this.Gf(this.dG(a))},p_:function(){this.iq&&this.Gf(this.dG(this.Wb.v));this.Wb.n(q.Jb());this.jr(!1)},T8:function(a){a=
a.W;a=this.Ca(a);0>a.x?a.x=0:a.x>this.Be.c().width+q.YG&&(a.x=this.Be.c().width+q.YG);return a},yb:function(a){if(!this.ej(a)||!this.isEnabled()||!this.Ua)return!1;a=this.wo(a);this.o_(a);return!0},Cd:function(a){a=this.wo(a);this.q_(a)},Zf:function(){this.p_(q.lk())},Bd:function(){this.Wb.Qb((this.ud-this.vb)/(this.Vb-this.vb)*this.Be.c().width);var a=this.Ql.lE(),a=q.rect(a.x,a.y,this.Wb.v.R,a.height);this.Ql.hb(a,this.Ql.xd,a.Xa)},dG:function(a){a=a.x/this.Be.c().width;return Math.max(Math.min(this.vb+
a*(this.Vb-this.vb),this.kx),this.mx)}});q.sG.create=function(a,c,d){"string"==typeof a&&(a=q.B.create(a),c=q.B.create(c),d=q.B.create(d));var e=new q.sG;e.jW(a,c,d);return e};q.uG=q.lc.extend({yd:null,VH:0,Ns:!1,dq:!1,ctor:function(){q.lc.prototype.ctor.call(this)},yE:function(a,c,d,e,f,g){if(!a)throw"cc.ControlSwitch.initWithMaskSprite(): maskSprite should be non-null.";if(!c)throw"cc.ControlSwitch.initWithMaskSprite(): onSprite should be non-null.";if(!d)throw"cc.ControlSwitch.initWithMaskSprite(): offSprite should be non-null.";if(!e)throw"cc.ControlSwitch.initWithMaskSprite(): thumbSprite should be non-null.";return this.w()?(this.Zc(!0),this.dq=!0,this.yd=new q.lO,
this.yd.yE(a,c,d,e,f,g),this.yd.o(this.yd.c().width/2,this.yd.c().height/2),this.e(this.yd),this.Xj(!1),this.A(.5,.5),this.G(this.yd.c()),!0):!1},kz:function(a,c){var d=(this.dq=a)?this.yd.Nl:this.yd.Bn;c?this.yd.ez(q.Vo.create(.2,"sliderXPosition",this.yd.Nk,d)):this.yd.AF(d);this.Ef(q.pj)},e$:function(){return this.dq},r9:function(){return this.Ns},cg:function(a){this.ms=a;this.yd.ua(a?255:128)},wo:function(a){a=a.W;return a=this.Ca(a)},yb:function(a){if(!this.ej(a)||!this.isEnabled()||!this.Ua)return!1;
this.Ns=!1;this.VH=this.wo(a).x-this.yd.Nk;this.yd.Wb.n(q.im());this.yd.Bd();return!0},Cd:function(a){a=this.wo(a);a=q.a(a.x-this.VH,0);this.Ns=!0;this.yd.AF(a.x)},Zf:function(a){a=this.wo(a);this.yd.Wb.n(q.Jb());this.Ns?this.kz(!(a.x<this.yd.c().width/2),!0):this.kz(!this.dq,!0)},fl:function(a){a=this.wo(a);this.yd.Wb.n(q.Jb());this.Ns?this.kz(!(a.x<this.yd.c().width/2),!0):this.kz(!this.dq,!0)}});q.uG.create=function(a,c,d,e,f,g){var h=new q.uG;return h&&h.yE(a,c,d,e,f,g)?h:null};
q.lO=q.B.extend({Nk:0,Nl:0,Bn:0,TI:0,jC:0,kC:null,Rh:null,Kj:null,Wb:null,Cn:null,An:null,Fp:null,Hc:null,rw:null,ctor:function(){q.B.prototype.ctor.call(this);this.jC=this.Bn=this.Nl=this.Nk=0;this.kC=q.size(0,0);this.An=this.Cn=this.Wb=this.Kj=this.Rh=null},yE:function(a,c,d,e,f,g){return q.B.prototype.Qa.call(this,a.ha())?(this.Nl=0,this.Bn=-c.c().width+e.c().width/2,this.Nk=this.Nl,this.xZ(c),this.vZ(d),this.CF(e),this.wZ(f),this.uZ(g),this.Hc=a,a=this.kC=this.Hc.c(),this.Hc.o(0,0),this.Fp=q.Eb.create(),
this.Fp.A(.5,.5),this.Fp.o(a.width/2,a.height/2),this.Fp.BF(this.Hc),this.rw=q.Bb.create(a.width,a.height),this.Fp.e(this.rw.Fb),this.e(this.Fp),this.e(this.Wb),this.Bd(),!0):!1},Bd:function(){this.Rh.o(this.Rh.c().width/2+this.Nk,this.Rh.c().height/2);this.Kj.o(this.Rh.c().width+this.Kj.c().width/2+this.Nk,this.Kj.c().height/2);this.Cn&&this.Cn.o(this.Rh.v.x-this.Wb.c().width/6,this.Rh.c().height/2);this.An&&this.An.o(this.Kj.v.x+this.Wb.c().width/6,this.Kj.c().height/2);this.Wb.o(this.Rh.c().width+
this.Nk,this.kC.height/2);this.rw.Uk();this.Rh.xa();this.Kj.xa();this.Cn&&this.Cn.xa();this.An&&this.An.xa();this.rw.end()},AF:function(a){a<=this.Bn?a=this.Bn:a>=this.Nl&&(a=this.Nl);this.Nk=a;this.Bd()},w8:function(){return this.Nk},maa:function(){return this.Rh.c().width},kaa:function(){return this.Kj.c().height},bG:function(a,c){q.log("key = "+c+", value = "+a);this.AF(a)},Sca:function(a){this.Nl=a},H7:function(){return this.Nl},Pca:function(a){this.Bn=a},B7:function(){return this.Bn},Gca:function(a){this.Hc.ma(a)},
l7:function(){return this.Hc.ha()},tda:function(a){this.TI=a},J8:function(){return this.TI},Fca:function(a){this.jC=a},k7:function(){return this.jC},xZ:function(a){this.Rh=a},I7:function(){return this.Rh},vZ:function(a){this.Kj=a},C7:function(){return this.Kj},CF:function(a){this.Wb=a},KK:function(){return this.Wb},wZ:function(a){this.Cn=a},G7:function(){return this.Cn},uZ:function(a){this.An=a},A7:function(){return this.An}});q.nG=0;q.oG=1;q.$u=2;q.rr=q.j(55,55,55);q.Xz=q.j(147,147,147);q.mG="CourierNewPSMT";q.gG=.15;q.ZN=12;
q.tG=q.lc.extend({qe:null,Nf:null,Ll:null,Ol:null,ud:0,Ur:!1,np:!1,$n:!1,vb:0,Vb:0,On:0,rt:!1,Vn:q.$u,Nr:0,ctor:function(){q.lc.prototype.ctor.call(this);this.Ol=this.Ll=this.Nf=this.qe=null;this.ud=0;this.$n=this.np=this.Ur=!1;this.On=this.Vb=this.vb=0;this.rt=!1;this.Vn=q.$u;this.Nr=0},hW:function(a,c){if(!a)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Minus sprite should be non-null.";if(!c)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Plus sprite should be non-null.";
if(this.w()){this.Zc(!0);this.Ur=this.np=!0;this.vb=0;this.Vb=100;this.ud=0;this.On=1;this.$n=!1;this.Xj(!1);this.qZ(a);this.qe.o(a.c().width/2,a.c().height/2);this.e(this.qe);this.pZ(q.O.create("-",q.mG,40,q.size(40,40),q.pk,q.gw));this.Ll.n(q.Xz);this.Ll.o(this.qe.c().width/2,this.qe.c().height/2);this.qe.e(this.Ll);this.BZ(c);this.Nf.o(a.c().width+c.c().width/2,a.c().height/2);this.e(this.Nf);this.AZ(q.O.create("+",q.mG,40,q.size(40,40),q.pk,q.gw));this.Ol.n(q.rr);this.Ol.o(this.Nf.c().width/2,
this.Nf.c().height/2);this.Nf.e(this.Ol);var d=q.ze.kG(this.qe.Qc(),this.Nf.Qc());this.G(this.qe.c().width+this.Nf.c().height,d.Xa.height);return!0}return!1},Hda:function(a){if(this.$n=a)this.Ll.n(q.rr),this.Ol.n(q.rr);this.Gf(this.ud)},OM:function(a){if(a>=this.Vb)throw"cc.ControlStepper.setMinimumValue(): minimumValue should be numerically less than maximumValue.";this.vb=a;this.Gf(this.ud)},LM:function(a){if(a<=this.vb)throw"cc.ControlStepper.setMaximumValue(): maximumValue should be numerically less than maximumValue.";
this.Vb=a;this.Gf(this.ud)},Gf:function(a){this.GF(a,!0)},MK:function(){return this.ud},nda:function(a){if(0>=a)throw"cc.ControlStepper.setMaximumValue(): stepValue should be numerically greater than 0.";this.On=a},O9:function(){return this.Ur},GF:function(a,c){a<this.vb?a=this.$n?this.Vb:this.vb:a>this.Vb&&(a=this.$n?this.vb:this.Vb);this.ud=a;this.$n||(this.Ll.n(a==this.vb?q.Xz:q.rr),this.Ol.n(a==this.Vb?q.Xz:q.rr));c&&this.Ef(q.pj)},vN:function(){this.Nr=-1;this.Db(this.update,q.gG,q.bn,3*q.gG)},
xN:function(){this.fc(this.update)},update:function(){this.Nr++;this.Nr<q.ZN&&0!=this.Nr%3||(this.Vn==q.nG?this.GF(this.ud-this.On,this.Ur):this.Vn==q.oG&&this.GF(this.ud+this.On,this.Ur))},IN:function(a){a.x<this.qe.c().width&&this.ud>this.vb?(this.Vn=q.nG,this.qe.n(q.im()),this.Nf.n(q.Jb())):a.x>=this.qe.c().width&&this.ud<this.Vb?(this.Vn=q.oG,this.qe.n(q.Jb()),this.Nf.n(q.im())):(this.Vn=q.$u,this.qe.n(q.Jb()),this.Nf.n(q.Jb()))},yb:function(a){if(!this.ej(a)||!this.isEnabled()||!this.Ua)return!1;
a=this.Wj(a);this.IN(a);this.rt=!0;this.np&&this.vN();return!0},Cd:function(a){this.ej(a)?(a=this.Wj(a),this.IN(a),this.rt||(this.rt=!0,this.np&&this.vN())):(this.rt=!1,this.Vn=q.$u,this.qe.n(q.Jb()),this.Nf.n(q.Jb()),this.np&&this.xN())},Zf:function(a){this.qe.n(q.Jb());this.Nf.n(q.Jb());this.np&&this.xN();this.ej(a)&&(a=this.Wj(a),this.Gf(this.ud+(a.x<this.qe.c().width?0-this.On:this.On)))},qZ:function(a){this.qe=a},t7:function(){return this.qe},BZ:function(a){this.Nf=a},S7:function(){return this.Nf},
pZ:function(a){this.Ll=a},s7:function(){return this.Ll},AZ:function(a){this.Ol=a},R7:function(){return this.Ol}});q.tG.create=function(a,c){var d=new q.tG;return d&&d.hW(a,c)?d:null};q.rG=q.lc.extend({Wb:null,gq:null,fq:null,ud:0,vb:0,Vb:1,mW:function(a,c,d){return this.w()?(this.Zc(!0),this.GZ(c),this.CF(d),this.Wb.o(c.v),this.e(d,2),this.e(c,1),this.e(a),this.G(a.c()),this.vb=0,this.Vb=1,this.Gf(this.vb),!0):!1},cg:function(a){this.cg(a);this.Wb!=NULL&&this.Wb.ua(a?255:128)},Gf:function(a){a<this.vb&&(a=this.vb);a>this.Vb&&(a=this.Vb);this.ud=a;a=(a-this.vb)/(this.Vb-this.vb);this.gq.vu(100*a);this.Wb.nz(360*a);this.Ef(q.pj)},MK:function(){return this.ud},OM:function(a){this.vb=
a;this.vb>=this.Vb&&(this.Vb=this.vb+1);this.Gf(this.Vb)},mV:function(){return this.vb},LM:function(a){this.Vb=a;this.Vb<=this.vb&&(this.vb=this.Vb-1);this.Gf(this.vb)},lV:function(){return this.Vb},ej:function(a){a=this.Wj(a);return this.EU(this.gq.v,a)<Math.min(this.c().width/2,this.c().height/2)},yb:function(a){if(!this.ej(a)||!this.isEnabled()||!this.Ua)return!1;this.fq=this.Wj(a);this.zX(this.fq);return!0},Cd:function(a){a=this.Wj(a);this.BX(a)},Zf:function(){this.AX(q.a(0,0))},EU:function(a,
c){var d=a.x-c.x,e=a.y-c.y;return Math.sqrt(d*d+e*e)},uT:function(a,c,d,e){return 180*(Math.atan2(c.x-a.x,c.y-a.y)-Math.atan2(e.x-d.x,e.y-d.y))/Math.PI},zX:function(){this.jr(!0);this.Wb.n(q.im())},BX:function(a){var c=this.uT(this.gq.v,a,this.gq.v,this.fq);180<c?c-=360:-180>c&&(c+=360);this.Gf(this.ud+c/360*(this.Vb-this.vb));this.fq=a},AX:function(){this.Wb.n(q.Jb());this.jr(!1)},CF:function(a){this.Wb=a},KK:function(){return this.Wb},GZ:function(a){this.gq=a},Y7:function(){return this.gq},Yca:function(a){this.fq=
a},sV:function(){return this.fq}});q.rG.create=function(a,c,d){var e=new q.rG;return e&&(a=q.B.create(a),d=q.B.create(d),c=q.bd.create(q.B.create(c)),e.mW(a,c,d))?e:null};q.WG=-1;q.ep=0;q.xr=1;q.Pv=2;q.aU=function(a){var c=q.la.f();return(c.sa+c.za)/2*a/160};q.rP=q.Ka.extend({DY:function(){},EY:function(){}});
q.yi=q.ad.extend({G3:0,q3:0,o3:0,Ba:null,Cj:q.Pv,Dj:!1,xQ:null,Wa:null,Zh:!1,ix:null,lx:null,Or:!1,Rr:!1,Ws:null,uq:null,st:0,$h:null,Ui:null,iI:0,gI:0,Ps:null,PC:!1,UI:null,ctor:function(){q.ad.prototype.ctor.call(this);this.xQ=new q.Hh(0,0);this.ix=new q.Hh(0,0);this.lx=new q.Hh(0,0);this.Ws=new q.Hh(0,0);this.uq=new q.Hh(0,0);this.$h=[];this.Ui=new q.ql(0,0);this.Ps=new q.Rect(0,0,0,0);this.UI=new q.Rect(0,0,0,0)},w:function(){return this.Sq(q.size(200,200),null)},bz:function(){q.$E(this.Xl,!1,
this)},Sq:function(a,c){var d=q.a(0,0);return q.ad.prototype.w.call(this)?(this.Wa=c,this.Wa||(this.Wa=q.ad.create(),this.Wa.Xj(!1),this.Wa.A(d)),this.iN(a),this.Zc(!0),this.$h.length=0,this.Ba=null,this.Rr=this.Or=!0,this.Cj=q.Pv,this.Wa.o(d),this.st=0,this.e(this.Wa),this.iI=this.gI=1,!0):!1},Em:function(a,c){if(c)this.VY(a,.15);else{if(!this.Or){var d=this.xo(),e=this.ju();a.x=Math.max(d.x,Math.min(e.x,a.x));a.y=Math.max(d.y,Math.min(e.y,a.y))}this.Wa.o(a)}},sK:function(){var a=this.Wa.v;return q.a(a.x,
a.y)},VY:function(a,c){var d=q.Gv.create(c,a),e=q.sr.create(this.HS,this);this.Wa.ez(q.nk.create(d,e));this.Db(this.tC)},nN:function(a,c){if(c)this.$Z(a,.15);else{var d=this.Wa;if(d.iE()!=a){var e,f;0==this.st?(f=this.Ui,f=q.a(.5*f.width,.5*f.height),f=this.$l(f)):f=this.uq;e=d.Ca(f);d.il(Math.max(this.iI,Math.min(this.gI,a)));e=d.$l(e);f=q.de(f,e);this.Em(q.xh(d.v,f))}}},OK:function(){return this.Wa.iE()},$Z:function(a,c){if(0<c){var d=this.Wa.iE();d!=a&&(d=q.Vo.create(c,"zoomScale",d,a),this.ez(d))}else this.nN(a)},
xo:function(){var a=this.Wa,c=a.c(),d=this.Ui;return q.a(d.width-c.width*a.sa,d.height-c.height*a.za)},ju:function(){return q.a(0,0)},d$:function(a){var c=this.sK(),d=this.Ui,e=this.OK(),c=q.rect(-c.x/e,-c.y/e,d.width/e,d.height/e);return q.QX(c,a.Qc())},pause:function(){this.Wa.Vy();for(var a=this.Wa.D,c=0;c<a.length;c++)a[c].Vy()},lM:function(){for(var a=this.Wa.D,c=0,d=a.length;c<d;c++)a[c].dz();this.Wa.dz()},R9:function(){return this.Dj},w$:function(){return this.Zh},K9:function(){return this.Or},
PY:function(a){this.Or=a},g9:function(){return this.Ui},iN:function(a){this.Ui=a;q.Node.prototype.G.call(this,a)},o6:function(){return this.Wa},TY:function(a){a&&(this.Wc(!0),this.Wa=a,a.Xj(!1),a.A(0,0),this.e(a),this.iN(this.Ui))},D6:function(){return this.Cj},zM:function(a){this.Cj=a},Dc:function(){return this.Ba},Ig:function(a){this.Ba=a},yb:function(a){if(!this.Ua)return!1;var c=this.$B(),d=this.Wa,e=d.$l(d.Yi(a)),f=this.$h;if(2<f.length||this.Zh||!q.vc(c,e))return!1;f.push(a);1===f.length?(this.uq=
this.Yi(a),this.Zh=!1,this.Dj=!0,this.Ws.x=0,this.st=this.Ws.y=0):2==f.length&&(this.uq=q.RE(this.Yi(f[0]),this.Yi(f[1])),this.st=q.OE(d.Yi(f[0]),d.Yi(f[1])),this.Dj=!1);return!0},Cd:function(a){if(this.Ua)if(1===this.$h.length&&this.Dj){this.Zh=!0;var c=this.$B(),d=this.Yi(a);a=q.de(d,this.uq);var e=0,f=this.Cj,e=f===q.xr?a.y:f===q.ep?a.x:Math.sqrt(a.x*a.x+a.y*a.y);if(this.Zh||!(.04375>Math.abs(q.aU(e))))if(this.Zh||(a.x=0,a.y=0),this.uq=d,this.Zh=!0,q.vc(c,this.$l(d))){switch(f){case q.xr:a.x=0;
break;case q.ep:a.y=0}d=this.Wa.v;c=d.x+a.x;d=d.y+a.y;this.Ws=a;this.Em(q.a(c,d))}}else 2!==this.$h.length||this.Dj||(a=q.OE(this.Wa.Yi(this.$h[0]),this.Wa.Yi(this.$h[1])),this.nN(this.OK()*a/this.st))},Zf:function(){this.Ua&&(1==this.$h.length&&this.Zh&&this.Db(this.BB),this.$h.length=0,this.Zh=this.Dj=!1)},fl:function(){this.Ua&&(this.$h.length=0,this.Zh=this.Dj=!1)},G:function(a,c){null!=this.Wa&&(2===arguments.length?this.Wa.G(a,c):this.Wa.G(a),this.I_())},c:function(){return this.Wa.c()},I_:function(){if(null!=
this.Wa){var a=this.Ui,c=this.ju();this.ix.x=c.x+.2*a.width;this.ix.y=c.y+.2*a.height;c=this.xo();this.lx.x=c.x-.2*a.width;this.lx.y=c.y-.2*a.height}},M9:function(){return this.Rr},Zba:function(a){this.Rr=a},xa:function(a){if(this.Ua){a=a||q.$;var c,d=this.D,e,f;if(q.ee===q.Qg){a.save();this.transform(a);this.uH(a);if(d&&0<d.length){f=d.length;this.we();for(c=0;c<f;c++)if((e=d[c])&&0>e.qb)e.xa(a);else break;for(this.Ya(a);c<f;c++)d[c].xa(a)}else this.Ya(a);this.sH();a.restore()}else{q.Wq();var g=
this.Fl;g&&g.Tq()&&(g.KD(),this.Gz());this.transform(a);this.uH(a);if(d&&0<d.length){f=d.length;for(c=0;c<f;c++)if((e=d[c])&&0>e.qb)e.xa();else break;for(this.Ya(a);c<f;c++)d[c].xa()}else this.Ya(a);this.sH(a);g&&g.Tq()&&g.GD(this);q.Vq()}}},e:function(a,c,d){if(!a)throw Error("child must not nil!");c=c||a.qb;d=d||a.Md;a.Xj(!1);a.A(0,0);this.Wa!=a?this.Wa.e(a,c,d):q.ad.prototype.e.call(this,a,c,d)},Zc:function(a){q.ad.prototype.Zc.call(this,a);a||(this.Zh=this.Dj=!1,this.$h.length=0)},j3:function(){return null},
ER:function(a){var c=this.xo(),d=this.ju(),e=this.Cj,f=this.Wa.v,g=f.x,h=f.y;if(e===q.Pv||e===q.ep)g=Math.max(g,c.x),g=Math.min(g,d.x);if(e==q.Pv||e==q.xr)h=Math.min(h,d.y),h=Math.max(h,c.y);h==f.y&&g==f.x||this.Em(q.a(g,h),a)},BB:function(){if(this.Dj)this.fc(this.BB);else{var a,c;a=this.Wa.v;var d=this.Ws;this.Wa.o(a.x+d.x,a.y+d.y);this.Or?(a=this.ix,c=this.lx):(a=this.ju(),c=this.xo());var e=this.Wa.v.R,f=this.Wa.v.S;d.x*=.95;d.y*=.95;this.Em(q.a(e,f));if(1>=Math.abs(d.x)&&1>=Math.abs(d.y)||f>
a.y||f<c.y||e>a.x||e<c.x||e==a.x||e==c.x||f==a.y||f==c.y)this.fc(this.BB),this.ER(!0)}},tC:function(){this.Dj&&this.fc(this.tC)},HS:function(){this.fc(this.tC)},uH:function(a){if(this.Rr){this.PC=!1;var c=this.$B(),d=q.la.f(),e=this.sa,f=this.za;a=a||q.$;if(q.ee===q.Qg)c=this.Ui.width*e*d.sa,d=this.Ui.height*f*d.za,a.beginPath(),a.rect(0,0,c,-d),a.clip(),a.closePath();else if(d=q.la.f(),d.AW()){if(this.PC=!0,this.Ps=d.yV(),q.PX(c,this.Ps)){var g=this.Ps;a=Math.max(c.x,g.x);f=Math.max(c.y,g.y);e=Math.min(c.x+
c.width,g.x+g.width);c=Math.min(c.y+c.height,g.y+g.height);d.yF(a,f,e-a,c-f)}}else a.enable(a.SCISSOR_TEST),d.yF(c.x,c.y,c.width,c.height)}},sH:function(a){this.Rr&&q.ee===q.rl&&(this.PC?(a=this.Ps,q.la.f().yF(a.x,a.y,a.width,a.height)):(a=a||q.$,a.disable(a.SCISSOR_TEST)))},h3:function(){},$B:function(){for(var a=this.$l(q.lk()),c=this.Ui,d=this.sa,e=this.za,f=this.ea;null!=f;f=f.getParent())d*=f.sa,e*=f.za;0>d&&(a.x+=c.width*d,d=-d);0>e&&(a.y+=c.height*e,e=-e);f=this.UI;f.x=a.x;f.y=a.y;f.width=
c.width*d;f.height=c.height*e;return f}});q.yi.create=function(a,c){var d=new q.yi;if(2==arguments.length){if(d&&d.Sq(a,c))return d}else if(d&&d.w())return d;return null};q.tP=q.Ka.extend({jz:function(){},cj:function(){return 0}});q.uP=q.tP.extend({nC:0,ctor:function(){this.nC=0},jz:function(a){this.nC=a},cj:function(){return this.nC}});function ga(a,c){return a.cj()-c.cj()}
q.Tz=q.Ka.extend({Vh:null,ctor:function(){this.Vh=[]},cL:function(a){if(!a)throw"cc.ArrayForObjectSorting.insertSortedObject(): addObject should be non-null.";this.pW(a,this.Rq(a))},kY:function(a){if(0!=this.count()){var c=this.Rq(a);c<this.count()&&c!=q.rj&&this.Bo(c).cj()==a.cj()&&this.eF(c)}},Oca:function(a,c){var d=this.Rq(c);if(d<this.count()&&d!=q.rj){var e=this.Bo(d);e.cj()==c.cj()&&(this.eF(d),e.jz(a),this.cL(e))}},JL:function(a){if(0==this.count())return null;var c=new q.uP;c.jz(a);var d=
this.Rq(c);d<this.count()&&d!=q.rj&&(c=this.Bo(d),c.cj()!=a&&(c=null));return c},z7:function(){return null},Rq:function(a){var c=0;if(a){var d=0;a=a.cj();for(var e=this.Vh,f=0;f<e.length;f++){var g=e[f].cj();if(a==g||a>=d&&a<g)break;d=g;c++}}else c=q.rj;return c},count:function(){return this.Vh.length},G$:function(){var a=this.Vh;return 0==a.length?null:a[a.length-1]},Bo:function(a){return this.Vh[a]},wJ:function(a){this.Vh.push(a);this.Vh.sort(ga)},eF:function(a){q.qr(this.Vh,a);this.Vh.sort(ga)},
pW:function(a,c){this.Vh=q.Xm(this.Vh,a,c);this.Vh.sort(ga)}});q.$G=0;q.wP=1;q.t2=q.Node.extend({Ek:0,Z6:function(){return this.Ek},iZ:function(a){this.Ek=a},reset:function(){this.Ek=q.rj},jz:function(a){this.Ek=a},cj:function(){return this.Ek}});q.v2=q.rP.extend({hea:function(){},gea:function(){},iea:function(){},jea:function(){}});q.u2=q.Ka.extend({z_:function(a){return this.FT(a)},FT:function(){return q.oP},fea:function(){return null},gaa:function(){return 0}});
q.hH=q.yi.extend({wq:null,Xd:null,zp:null,AB:null,lD:null,qx:null,ww:null,Pk:null,ctor:function(){q.yi.prototype.ctor.call(this);this.qx=q.WG;this.ww=[]},NP:function(a){var c=0,d=-1;switch(this.Cj){case q.ep:a=a.x;break;default:a=a.y}for(var e=this.ww;d>=c;){var f=0|c+(d-c)/2,g=e[f],h=e[f+1];if(a>=g&&a<=h)return f;a<g?d=f-1:c=f+1}return 0>=c?0:-1},NQ:function(a){a={x:a.x,y:a.y};this.wq===q.$G&&(a.y=this.Wa.c().height-a.y);a=this.NP(a);-1!=a&&(a=Math.max(0,a),-1<a&&(a=q.rj));return a},OP:function(a){switch(this.Cj){case q.ep:a=
q.a(this.ww[a],0);break;default:a=q.a(0,this.ww[a])}return a},pR:function(a){var c=this.OP(a);a=this.AB.z_(this,a);this.wq===q.$G&&(c.y=this.Wa.c().height-c.y-a.height);return c},D3:function(){},pD:function(){var a=q.cn();this.G(a);this.qx!=this.Cj&&(this.Cj==q.ep?this.Em(q.a(0,0)):this.Em(q.a(0,this.xo().y)),this.qx=this.Cj)},jI:function(a){this.zp.wJ(a);this.xl.kY(a);q.ie(this.Xd,a.Ek);a.reset();a.getParent()==this.Wa&&this.Wa.removeChild(a,!0)},Ax:function(a,c){c.A(0,0);c.o(this.pR(a));c.iZ(a)},
qH:function(a){a.getParent()!=this.Wa&&this.Wa.e(a);this.xl.cL(a);var c=this.Xd;a=a.Ek;-1==c.indexOf(a)&&(c.push(a),c.sort(function(a,c){return a-c}))},u6:function(){return this.AB},ZY:function(a){this.AB=a},Dc:function(){return this.lD},Ig:function(a){this.lD=a},Fda:function(a){this.wq!=a&&(this.wq=a,0<this.xl.count()&&this.dF())},d9:function(){return this.wq},Sq:function(a,c){return q.yi.prototype.Sq.call(this,a,c)?(this.xl=new q.Tz,this.zp=new q.Tz,this.Xd=[],this.lD=null,this.wq=q.wP,this.zM(q.xr),
q.yi.prototype.Ig.call(this,this),!0):!1},yea:function(a){if(!(a==q.rj||-1<a)){var c=this.OD(a);c&&this.jI(c);c=null;this.Ax(a,c);this.qH(c)}},D9:function(a){if(!(a==q.rj||-1<a)){var c,d=this.xl;if(c=d.JL(a))for(var e=c=d.Rq(c);e<d.count();e++)c=d.Bo(e),this.Ax(c.Ek+1,c);c=null;this.Ax(a,c);this.qH(c);this.pD()}},mba:function(a){if(!(a==q.rj||-1<a)){var c=this.OD(a);if(c){var d=this.xl,e=d.Rq(c);this.jI(c);q.ie(this.Xd,a);for(a=d.count()-1;a>e;a--)c=d.Bo(a),this.Ax(c.Ek-1,c)}}},dF:function(){this.qx=
q.WG;for(var a=this.xl,c=this.zp,d=this.Wa,e=0,f=a.count();e<f;e++){var g=a.Bo(e);c.wJ(g);g.reset();g.getParent()==d&&d.removeChild(g,!0)}this.Xd=[];this.xl=new q.Tz;this.pD()},Y4:function(){if(0===this.zp.count())return null;var a=this.zp.Bo(0);this.zp.eF(0);return a},OD:function(a){return-1==this.Xd.indexOf(a)?null:this.xl.JL(a)},DY:function(){},EY:function(){},Zf:function(a,c){if(this.Ua){if(this.Pk){var d=this.Qc();d.rd=this.ea.$l(d.origin);this.Pk=null}q.yi.prototype.Zf.call(this,a,c)}},yb:function(a,
c){if(!this.Ua)return!1;var d=q.yi.prototype.yb.call(this,a,c);if(1===this.$h.length){var e;e=this.Wa.Yi(a);e=this.NQ(e);this.Pk=e===q.rj?null:this.OD(e)}else this.Pk&&(this.Pk=null);return d},Cd:function(a,c){q.yi.prototype.Cd.call(this,a,c);this.Pk&&this.Zh&&(this.Pk=null)},fl:function(a,c){q.yi.prototype.fl.call(this,a,c);this.Pk&&(this.Pk=null)}});q.hH.create=function(a,c,d){var e=new q.hH;e.Sq(c,d);e.ZY(a);e.pD();return e};q.wc={};q.wc.uJ=function(a){for(var c in q.wc.methods)a[c]=q.wc.methods[c]};
q.wc.methods={o:function(a,c){2==arguments.length?(this.v.R=a,this.v.S=c):(this.v.R=a.x,this.v.S=a.y);this.gb();this.ca.WF(this.v.R,-this.v.S)},od:function(a){this.v.S=a;this.gb();this.ca.WF(this.v.R,-this.v.S)},Qb:function(a){this.v.R=a;this.gb();this.ca.WF(this.v.R,-this.v.S)},il:function(a,c){this.sa=a;this.za=c||a;this.gb();this.ca.resize(this.sa,this.za)},ir:function(a){this.sa=a;this.gb();this.ca.resize(this.sa,this.za)},Oo:function(a){this.za=a;this.gb();this.ca.resize(this.sa,this.za)},A:function(a,
c){var d=this.jn;if(2===arguments.length){if(a===d.R&&c===d.S)return;d.R=a;d.S=c}else{if(a.x===d.R&&a.y===d.S)return;d.R=a.x;d.S=a.y}var e=this.Td,f=this.ya;e.R=f.Ea*d.R;e.S=f.ra*d.S;this.ca.style[q.ac.Co+"TransformOrigin"]=""+e.R+"px "+-e.S+"px";this.Fk?(this.ca.style.marginLeft=0,this.ca.style.marginBottom=0):(this.ca.style.marginLeft=this.DW?0:-e.R+"px",this.ca.style.marginBottom=-e.S+"px");this.gb()},Nu:function(){var a=this.Td;this.ca.style[q.ac.Co+"TransformOrigin"]=""+a.R+"px "+-a.S+"px";this.Fk?
(this.ca.style.marginLeft=0,this.ca.style.marginBottom=0):(this.ca.style.marginLeft=this.DW?0:-a.R+"px",this.ca.style.marginBottom=-a.S+"px")},G:function(a,c){var d=this.ya;if(2===arguments.length){if(a===d.Ea&&c===d.ra)return;d.Ea=a;d.ra=c}else{if(a.width===d.Ea&&a.height===d.ra)return;d.Ea=a.width;d.ra=a.height}var e=this.Td,f=this.jn;e.R=d.Ea*f.R;e.S=d.ra*f.S;this.ca.width=d.Ea;this.ca.height=d.ra;this.Nu();this.canvas&&(this.canvas.width=d.Ea,this.canvas.height=d.ra);this.gb();this.RX()},nz:function(a){this.VR!=
a&&(this.ih=this.Mi=a,this.In=Math.PI/180*this.ih,this.Vs=Math.PI/180*this.Mi,this.gb(),this.ca.rotate(a))},qz:function(a){this.Me=a;this.gb();this.ca.bN(this.Me,this.Ne)},rz:function(a){this.Ne=a;this.gb();this.ca.bN(this.Me,this.Ne)},H:function(a){this.Ua=a;this.gb();this.ca&&(this.ca.style.display=a?"block":"none")},Cx:function(a){this.qb=a;this.gb();this.ca&&(this.ca.zIndex=a)},uu:function(a){this.ea=a;null!==a&&(a.Nu(),this.gb(),q.wc.Uy(this))},dz:function(){this.Yf().Ko(this);this.Ag().Ko(this);
this.ca&&!this.ca.parentNode&&(this.getParent()?q.wc.Uy(this):this.ca.ho(q.Vk));this.ca&&(this.ca.style.visibility="visible")},Vy:function(){this.Yf().mu(this);this.Ag().mu(this);this.ca&&(this.ca.style.visibility="hidden")},zg:function(){this.NF();this.Iu();this.Wg(this.D,q.Node.ig.zg);this.ca&&this.ca.remove()},gY:function(){this.ca.remove()},ua:function(a){this.Lj=a;this.ca.style.opacity=a/255},RX:function(){if(this.mL){var a=this.D;this.D=[];q.B.prototype.xa.call(this,this.Cq);this.D=a}else q.B.prototype.xa.call(this,
this.Cq)}};q.wc.PR=function(){var a=q.ac("#EGLViewDiv");if(a){var c=q.la.f(),d=c.Iq(),e=c.wf,f=c.oo(),g=d.width,h=d.height;0===d.width&&0===d.height&&(g=f.width,h=f.height);var d=e.Xa.width,k=e.Xa.height;0===e.Xa.width&&0===e.Xa.height&&(d=f.width,k=f.height);a.style.position="absolute";a.style.width=g+"px";a.style.maxHeight=h+"px";a.style.margin=0;a.resize(c.sa,c.za);a.style.left=d<f.width?(d-g)/2+(f.width-d)/2+"px":(d-g)/2+"px";a.style.bottom=k<f.height?(f.height-k)/2+"px":"0px"}};
q.wc.Uy=function(a){var c=a.getParent();if(c&&a.ca)if(c.ca||(q.wc.vX(c),c.uu=q.wc.methods.uu),a.ca.ho(c.ca),c.Nu(),c.getParent())q.wc.Uy(c);else if(c.pf)if(a=q.ac("#EGLViewDiv"))c.ca.ho(a);else{a=q.kl("div");a.id="EGLViewDiv";var d=q.la.f(),e=d.Iq(),f=d.wf,g=d.oo(),h=e.width,k=e.height;0===e.width&&0===e.height&&(h=g.width,k=g.height);var e=f.Xa.width,l=f.Xa.height;0===f.Xa.width&&0===f.Xa.height&&(e=g.width,l=g.height);a.style.position="absolute";a.style.width=h+"px";a.style.maxHeight=k+"px";a.style.margin=
0;a.resize(d.sa,d.za);a.style.left=e<g.width?(e-h)/2+(g.width-e)/2+"px":(e-h)/2+"px";a.style.bottom=l<g.height?(g.height-l)/2+"px":"0px";c.ca.ho(a);a.ho(q.Vk)}};q.wc.setTransform=function(a){if(a.Cq)if(a.Cq.translate(a.Td.x,a.Td.y),a.mL){var c=a.D;a.D=[];q.B.prototype.xa.call(a,a.Cq);a.D=c}else q.B.prototype.xa.call(a,a.Cq);a.ca&&(a.ca.position.x=a.v.x,a.ca.position.y=-a.v.y,a.ca.rotation=a.vV(),a.ca.scale={x:a.sa,y:a.za},a.ca.Mm={x:a.Me,y:a.Ne},a.Nu&&a.Nu(),a.ca.To())};
q.wc.VU=function(a){a.ca=q.kl("div");a.canvas=q.kl("canvas");var c=a.c();a.canvas.width=c.width;a.canvas.height=c.height;a.ca.style.position="absolute";a.ca.style.bottom=0;a.Cq=a.canvas.getContext("2d");a.ca.appendChild(a.canvas);a.getParent()&&q.wc.Uy(a);a.mL=!0};
q.wc.vX=function(a){a.ca=q.kl("div");a.placeholder=!0;a.ca.style.position="absolute";a.ca.style.bottom=0;a.ca.style.width=(a.c().width||q.aa.f().ic.width)+"px";a.ca.style.maxHeight=(a.c().height||q.aa.f().ic.height)+"px";a.ca.style.margin=0;q.wc.setTransform(a);a.ca.To();q.wc.uJ(a)};
q.wc.Et=function(a){if(1<arguments.length)q.wc.Et(arguments);else if(1!=arguments.length||arguments[0].length)for(var c=arguments[0],d=0;d<c.length;d++)c[d]instanceof q.B?c[d].ca||q.wc.VU(c[d]):q.log("DOM converter only supports sprite and menuitems yet"),q.wc.uJ(c[d]),c[d].xa=function(){},c[d].transform=function(){},q.wc.setTransform(c[d]),c[d].H(c[d].Ua);else q.wc.Et([arguments[0]])};q.pA=0;q.i1=1;q.l1=2;q.k1=3;q.j1=4;q.gA=0;q.N0=1;q.O0=2;q.P0=3;q.R0=4;q.M0=5;q.Q0=6;q.eA=0;q.fA=1;q.L0=2;q.K0=3;q.J0=4;q.wO=5;q.U0=q.Ka.extend({dm:function(){},em:function(){},$i:function(){},m5:function(){}});
q.Yo=q.vi.extend({cc:null,Ba:null,js:q.gA,hs:q.fA,Es:q.pA,SI:"",Lb:"",wg:null,Je:null,Kl:50,Jr:18,P:null,Fe:14,Di:"Arial",Hi:"",tg:14,oe:"",ah:!0,VI:!1,DI:0,ctor:function(a){function c(){this.focus()}function d(){e.Ba&&e.Ba.$i&&(e.ah?e.Ba.$i(e,this.value):(e.Ba.$i(e,e.oe),this.value=" "))}q.vi.prototype.ctor.call(this);this.wg=q.Jb();this.Je=q.im();this.G(a);this.cc=new q.B;this.cc.Ya=function(){};this.e(this.cc);var e=this;this.P=document.createElement("input");this.P.type="text";this.P.style.fontSize=
this.Fe+"px";this.P.style.color="#000000";this.P.style.border=0;this.P["vertical-align"]="middle";this.P.style.background="transparent";this.P.style.width="100%";this.P.style.height="100%";this.P.style.nJ=0;this.P.style.outline="medium";this.P.attachEvent?(this.P.attachEvent("oninput",d),this.P.attachEvent("onclick",c)):(this.P.addEventListener("input",d),this.P.addEventListener("click",c,!1));this.P.addEventListener("keypress",function(a){var c="number"==typeof a.which?a.which:a.keyCode;a.stopPropagation();
c===q.Cv.dK?(a.preventDefault(),q.canvas.focus()):e.ah||c===q.Cv.DJ||(e.oe+=String.fromCharCode(c),e.Ba.$i(e,e.oe))});this.P.addEventListener("keydown",function(a){a.stopPropagation();!e.ah&&("number"==typeof a.which?a.which:a.keyCode)===q.Cv.DJ&&0<e.oe.length&&(e.oe=e.oe.substring(0,e.oe.length-1),e.Ba.$i(e,e.oe))});this.P.addEventListener("focus",function(){e.ah?this.value==e.Lb&&(this.value="",this.style.fontSize=e.Fe+"px",this.style.color=q.Sc(e.wg)):(this.style.position="absolute",this.DI=this.style.top,
this.style.top="-1000000px",e.oe==e.Lb&&(e.oe="",this.value="                                                 "));e.Ba&&e.Ba.dm&&e.Ba.dm(e)});this.P.addEventListener("blur",function(){e.ah?""==this.value&&(this.value=e.Lb,this.style.fontSize=e.tg+"px",this.style.color=q.Sc(e.Je)):(this.style.position="relative",this.style.top=this.DI,""==e.oe&&(this.value=" ",e.oe=e.Lb));e.Ba&&e.Ba.em&&e.Ba.em(e)});q.wc.Et(this.cc);this.cc.ca.appendChild(this.P);this.cc.ca.sN=!1;this.cc.ca.style.width=a.width-6+"px";
this.cc.ca.style.height=a.height-6+"px";this.cc.canvas.remove()},EM:function(a,c){this.Fe=c;this.Di=a;this.Pi()},uF:function(a){this.Di=a;this.Pi()},iz:function(a){this.Fe=a;this.Pi()},Pi:function(){this.ah&&this.P.value!=this.Lb&&(this.P.style.fontFamily=this.Di,this.P.style.fontSize=this.Fe+"px")},df:function(a){null!=a&&(""==a?this.ah?(this.P.value=this.Lb,this.P.style.color=q.Sc(this.Je)):(this.P.value=" ",this.oe=this.Lb):this.ah?(this.P.value=a,this.P.style.color=q.Sc(this.wg)):this.oe=a)},
sF:function(a){this.ah&&(this.wg=a,this.P.value!=this.Lb&&(this.P.style.color=q.Sc(a)))},KM:function(a){!isNaN(a)&&0<a&&(this.Kl=a,this.P.maxLength=a)},zK:function(){return this.Kl},QM:function(a){if(null!=a){var c=this.Lb;this.Lb=a;this.ah?this.P.value==c&&(this.P.value=a,this.P.style.color=q.Sc(this.Je),this.Rf()):this.oe==c&&(this.oe=a,this.P.value=" ",this.Rf())}},RM:function(a,c){this.Hi=a;this.tg=c;this.Rf()},TM:function(a){this.Hi=a;this.Rf()},UM:function(a){this.tg=a;this.Rf()},Rf:function(){this.ah&&
this.P.value==this.Lb&&(this.P.style.fontFamily=this.Hi,this.P.style.fontSize=this.tg+"px")},SM:function(a){this.ah&&(this.Je=a,this.P.value==this.Lb&&(this.P.style.color=q.Sc(a)))},Kg:function(a){this.hs=a;this.P.type=a==q.eA?"password":"text"},ba:function(){return this.ah?this.P.value:this.oe},bu:function(a,c){return this.Ay(c)?(this.cc.o(3,3),this.JF(!1),this.mj(a),this.o(0,0),this.ow(this,this.Gu,q.Xu),!0):!1},Ig:function(a){this.Ba=a},EK:function(){return this.Lb},IM:function(a){this.js=a},YM:function(a){this.Es=
a},sL:function(a){var c=q.Yo.zd(this);c.y-=4;c.dL(a.end)?this.Jr=a.end.AK()-c.BK():q.log("needn't to adjust view layout.")},qL:function(){},rL:function(){},pL:function(){},Gu:function(){},VK:function(a,c){this.gs=a.width;this.ca.style.width=this.gs.toString()+"px";this.fs=a.height;this.ca.style.height=this.fs.toString()+"px";this.ca.style.backgroundColor=q.Sc(c)}});q.Yo.zd=function(a){var c=a.c(),c=q.rect(0,0,c.width,c.height);return q.hg(c,a.Ao())};
q.Yo.create=function(a,c,d,e){var f=new q.Yo(a);c instanceof q.Lc?f.su(c):f.bu(a,c)&&(d&&f.Cm(d,q.Zu),e&&f.Cm(e,q.Yu));return f};q=q||{};
q.Ob=q.Ka.extend({Lr:0,nc:null,Gx:null,Qj:!1,Mh:1,Ia:null,JC:"",Fn:null,ctor:function(){this.nc={};this.Gx=[];this.Fn=[]},JZ:function(a){a&&0!=a.length&&(this.JC="/"==a.substring(a.length-1)?a:a+"/")},CH:function(a){var c=document.createElement("audio");if(c.canPlayType){var d=function(a){a=c.canPlayType(a);return"no"!=a&&""!=a};a.mp3=d("audio/mpeg");a.mp4=d("audio/mp4");a.m4a=d("audio/x-m4a")||d("audio/aac");a.ogg=d('audio/ogg; codecs="vorbis"');a.wav=d('audio/wav; codecs="1"')}else{var d=["mp3",
"mp4","m4a","ogg","wav"],e;for(e in d)a[d[e]]=!1}},Ei:function(a){if("string"!=typeof a)return null;var c=a.lastIndexOf(".");return-1!==c?a.substring(0,c):a},El:function(a){var c=a.lastIndexOf(".");return-1!==c?a.substring(c+1,a.length):-1},Rea:function(){return!1},Vaa:function(a,c,d){this.Xy(a,c,d)},EX:function(a,c,d){this.Xy(a,c,d)},Hy:function(a){for(var c=this.Gx,d=0,e=c.length;d<e;d++)if(c[d]==a)return!0;return!1},E6:function(){return this.Mh}});q.IA=function(){this.audio=void 0;this.Lt=".ogg"};
q.HA=q.Ob.extend({lg:null,tc:null,Js:5,AH:!0,Ml:null,Ij:!1,ctor:function(){q.Ob.prototype.ctor.call(this);this.lg={};this.tc={};this.Ml=this.nx.bind(this);var a=navigator.userAgent;if(/Mobile/.test(a)&&(/iPhone OS/.test(a)||/iPad/.test(a)||/Firefox/.test(a))||/MSIE/.test(a))this.AH=!1},w:function(){var a={};this.CH(a);var c=["ogg","mp3","wav","mp4","m4a"],d=this.Gx,e;for(e in c){var f=c[e];a[f]&&d.push(f)}return this.Qj=0<d.length},Xy:function(a,c,d){if(this.Qj){var e=this.JC+a,f=this.El(a);a=this.Ei(a);
if(!this.tc[a]&&this.Hy(f)&&this.AH){var g=new q.IA;g.Lt=f;g.audio=new Audio(e);g.audio.dr="auto";var h=function(){q.Dq(c,d);this.removeEventListener("canplaythrough",h,!1);this.removeEventListener("error",k,!1)},k=function(a){q.Dq(c,d,a.srcElement.src);this.removeEventListener("canplaythrough",h,!1);this.removeEventListener("error",k,!1)};g.audio.addEventListener("canplaythrough",h,!1);g.audio.addEventListener("error",k,!1);this.tc[a]=g;g.audio.load();return}}q.Dq(c,d)},Wy:function(a,c){if(this.Qj){var d=
this.Ei(a),e=this.El(a),f=this.tc;f[this.Ia]&&f[this.Ia].audio.pause();this.Ia=d;if(f[this.Ia])e=f[this.Ia].audio;else{var g=new q.IA;g.Lt=e;e=g.audio=new Audio(a);g.audio.dr="auto";f[d]=g;g.audio.load()}e.addEventListener("pause",this.Ml,!1);e.loop=c||!1;e.play();q.Ob.Ad=!0;this.Ij=!1}},nx:function(){q.Ob.Ad=!1;this.tc[this.Ia]&&this.tc[this.Ia].audio.removeEventListener("pause",this.nx,!1)},Az:function(a){var c=this.tc,d=this.Ia;if(c[d]){var e=c[d].audio;e.pause();e.duration&&(e.currentTime=e.duration);
a&&delete c[d];q.Ob.Ad=!1;this.Ij=!0}},cr:function(){!this.Ij&&this.tc[this.Ia]&&(this.tc[this.Ia].audio.pause(),q.Ob.Ad=!1)},Jo:function(){if(!this.Ij&&this.tc[this.Ia]){var a=this.tc[this.Ia].audio;a.play();a.addEventListener("pause",this.Ml,!1);q.Ob.Ad=!0}},tY:function(){if(this.tc[this.Ia]){var a=this.tc[this.Ia].audio;a.currentTime=0;a.play();a.addEventListener("pause",this.Ml,!1);q.Ob.Ad=!0;this.Ij=!1}},Tt:function(){return this.tc[this.Ia]?this.tc[this.Ia].audio.volume:0},PM:function(a){this.tc[this.Ia]&&
(this.tc[this.Ia].audio.volume=1<a?1:0>a?0:a)},Ad:function(){return q.Ob.Ad},VE:function(a,c){if(!this.Qj)return null;var d=this.Ei(a),e;e=this.tc[d]?this.tc[d].Lt:this.El(a);var f=this.PH(d),g;if(0<f.length)for(var h=0;h<f.length;h++)if(f[h].ended){g=f[h];g.currentTime=0;window.chrome&&g.load();break}if(!g){if(f.length>=this.Js)return q.log("Error: "+a+" greater than "+this.Js),null;g=new Audio(d+"."+e);g.volume=this.Mh;f.push(g)}c&&(g.loop=c);g.play();d=this.Lr++;this.nc[d]=g;return d},CM:function(a){this.Mh=
1<a?1:0>a?0:a;var c,d=this.lg,e;for(e in d)if(a=d[e],0<a.length)for(var f=0;f<a.length;f++)c=a[f],c.volume=this.Mh},TE:function(a){null!=a&&this.nc[a]&&(a=this.nc[a],a.ended||a.pause())},lu:function(){var a,c,d=this.lg,e;for(e in d){a=d[e];for(var f=0;f<a.length;f++)c=a[f],c.ended||c.pause()}},iF:function(a){null!=a&&this.nc[a]&&(a=this.nc[a],a.ended||a.play())},pu:function(){var a,c,d=this.lg,e;for(e in d)if(a=d[e],0<a.length)for(var f=0;f<a.length;f++)c=a[f],c.ended||c.play()},Eu:function(a){null!=
a&&this.nc[a]&&(a=this.nc[a],a.ended||(a.loop=!1,a.duration&&(a.currentTime=a.duration)))},Du:function(){var a,c,d=this.lg,e;for(e in d){a=d[e];for(var f=0;f<a.length;f++)c=a[f],c.ended||(c.loop=!1,c.duration&&(c.currentTime=c.duration))}},XF:function(a){if(a){a=this.Ei(a);this.lg[a]&&delete this.lg[a];var c,d=this.nc,e;for(e in d)c=d[e],c=this.Ei(c.src),-1<c.indexOf(a)&&(this.Eu(e),delete d[e])}},PH:function(a){var c=this.lg;c[a]||(c[a]=[]);return c[a]},sI:function(){var a=this.Fn,c=this.tc,d;!this.Ij&&
c[this.Ia]&&(d=c[this.Ia].audio,d.paused||(d.pause(),q.Ob.Ad=!1,a.push(d)));var e=this.lg,f;for(f in e)for(var c=e[f],g=0;g<c.length;g++)d=c[g],d.ended||d.paused||(d.pause(),a.push(d))},wI:function(){var a=this.Fn,c=this.tc,d;!this.Ij&&c[this.Ia]&&(d=c[this.Ia].audio,-1!==a.indexOf(d)&&(d.play(),d.addEventListener("pause",this.Ml,!1),q.Ob.Ad=!0));var e=this.lg,f;for(f in e)for(var c=e[f],g=0;g<c.length;g++)d=c[g],d.ended||-1===a.indexOf(d)||d.play();a.length=0}});
q.jP=function(a,c,d){this.id=a;this.audio=c;this.yW=d||!1;this.status=q.gg.stop};q.gg={nu:1,pause:2,stop:3,Qu:4};
q.sP=q.HA.extend({bh:null,Kf:null,$g:!1,Dp:!0,ln:null,ctor:function(){q.HA.prototype.ctor.call(this);this.Js=2;this.bh=[];this.$g=!1;this.Dp=!0;this.ln=this.aQ.bind(this)},FS:function(){var a,c,d=this.lg,e;for(e in d){a=d[e];for(var f=0;f<a.length;f++)c=a[f],c.ended||(c.removeEventListener("ended",this.ln,!1),c.loop=!1,c.duration&&(c.currentTime=c.duration))}this.bh.length=0;this.Kf=null},Wy:function(a,c){if(this.Qj){this.FS();var d=this.Ei(a),e=this.El(a),f=this.tc;if(f[this.Ia]){var g=f[this.Ia];
g.audio.removeEventListener("pause",this.Ml,!1);g.audio.pause()}this.Ia=d;f[this.Ia]?e=f[this.Ia].audio:(g=new q.IA,g.Lt=e,e=g.audio=new Audio(a),g.audio.dr="auto",f[d]=g,g.audio.load());e.addEventListener("pause",this.Ml,!1);e.loop=c||!1;e.play();q.Ob.Ad=!0;this.Ij=!1}},Ad:function(){var a=this.tc,c=this.Ia;return a[c]?(a=a[c].audio,!a.paused&&!a.ended):!1},nx:function(){q.Ob.Ad=!1;this.tc[this.Ia]&&this.tc[this.Ia].audio.removeEventListener("pause",this.nx,!1);this.Dp?this.$g=!1:this.Dp=!0},GS:function(a){for(var c=
this.bh,d=this.nc,e=0;e<c.length;){var f=c[e];if(f.status===q.gg.Qu)if(f.audio.currentTime+a>=f.audio.duration){c.splice(e,1);d[f.id]&&(f=d[f.id],f.ended||(f.removeEventListener("ended",this.ln,!1),f.loop=!1,f.duration&&(f.currentTime=f.duration)));continue}else f.audio.currentTime+=a;e++}},aQ:function(){var a=this.Kf;this.GS(a.audio.currentTime);a.yW?a.audio.play():(a.audio.removeEventListener("ended",this.ln,!1),q.ie(this.bh,a),(a=this.Pw())?(this.Kf=a,a.status=q.gg.nu,a.audio.play()):(this.Kf=
null,this.$g&&(this.$g=!1,this.Jo())))},BR:function(a){if(!a)throw"cc.SimpleAudioEngineForMobile._pushingPlayingTask(): playingTask should be non-null.";var c=this.bh;this.Kf?(this.Kf.status=q.gg.Qu,this.Kf.audio.pause()):this.Ad()&&(this.Dp=!1,this.cr(),this.$g=!0);c.push(a);this.Kf=a;this.yR(a)},yR:function(a){a.audio.addEventListener("ended",this.ln,!1);a.audio.play();a.status=q.gg.nu},e3:function(a){for(var c=this.bh,d=0,e=c.length;d<e;d++)if(c[d].id===a)return c[d];return null},Pw:function(){for(var a=
this.bh,c=a.length-1;0<=c;c--){var d=a[c];if(d.status===q.gg.Qu)return d}return null},tI:function(){var a=this.Kf=this.Pw();a?(a.status=q.gg.nu,a.audio.play()):this.$g&&(this.$g=!1,this.Jo())},zQ:function(a){for(var c=this.bh,d=0,e=c.length;d<e;d++){var f=c[d];if(f.id===a){c.splice(d,1);f==this.Kf&&this.tI();break}}},wR:function(a){for(var c=this.bh,d=0,e=c.length;d<e;d++){var f=c[d];if(f.id===a){f.status=q.gg.pause;f==this.Kf&&this.tI();break}}},SR:function(a){for(var c=this.bh,d=0,e=c.length;d<
e;d++){var f=c[d];if(f.id===a){f.status=q.gg.Qu;!this.Kf&&(a=this.Pw())&&(this.Ad()&&(this.Dp=!1,this.cr(),this.$g=!0),a.status=q.gg.nu,a.audio.play());break}}},VE:function(a,c){if(!this.Qj)return null;var d=this.Ei(a),e;e=this.tc[d]?this.tc[d].Lt:this.El(a);var f=this.PH(d),g;if(0<f.length)for(var h=0;h<f.length;h++)if(f[h].ended){g=f[h];g.currentTime=0;window.chrome&&g.load();break}if(!g){if(f.length>=this.Js)return q.log("Error: "+a+" greater than "+this.Js),null;g=new Audio(d+"."+e);g.volume=
this.Mh;f.push(g)}d=new q.jP(this.Lr++,g,c);this.BR(d);this.nc[d.id]=g;return d.id},TE:function(a){if(null!=a){var c=a.toString();this.nc[c]&&(c=this.nc[c],c.ended||c.pause());this.wR(a)}},lu:function(){var a,c,d=this.lg,e;for(e in d){a=d[e];for(var f=0;f<a.length;f++)c=a[f],c.ended||c.pause()}a=this.bh;c=0;for(d=a.length;c<d;c++)a[c].status=q.gg.pause;this.Kf=null;this.$g&&(this.$g=!1,this.Jo())},iF:function(a){if(null!=a){if(this.nc[a]){var c=this.nc[a];c.ended||c.play()}this.SR(a)}},pu:function(){var a,
c,d=this.lg,e;for(e in d)if(a=d[e],0<a.length)for(var f=0;f<a.length;f++)c=a[f],c.ended||c.play();a=this.bh;c=0;for(d=a.length;c<d;c++)e=a[c],e.status===q.gg.pause&&(e.status=q.gg.Qu);null==this.Kf&&(a=this.Pw())&&(this.Ad()&&(this.Dp=!1,this.cr(),this.$g=!0),a.status=q.gg.nu,a.audio.play())},Eu:function(a){if(null!=a){if(this.nc[a]){var c=this.nc[a];c.ended||(c.removeEventListener("ended",this.ln,!1),c.loop=!1,c.duration&&(c.currentTime=c.duration))}this.zQ(a)}},Du:function(){var a,c,d=this.lg,e;
for(e in d){a=d[e];for(var f=0;f<a.length;f++)c=a[f],c.ended||(c.removeEventListener("ended",this.ln,!1),c.loop=!1,c.duration&&(c.currentTime=c.duration))}this.bh.length=0;this.Kf=null;this.$g&&(this.$g=!1,this.Jo())},sI:function(){var a=this.Fn,c=this.tc;!this.Ij&&c[this.Ia]&&(c=c[this.Ia].audio,c.paused||(c.pause(),q.Ob.Ad=!1,a.push(c)));this.Du()},wI:function(){var a=this.Fn,c=this.tc;!this.Ij&&c[this.Ia]&&(c=c[this.Ia].audio,-1!==a.indexOf(c)&&(c.play(),c.addEventListener("pause",this.Ml,!1),
q.Ob.Ad=!0));a.length=0}});q.KP=function(){this.Pu=this.Rd=this.key=void 0;this.UE=this.startTime=0;this.Iy=!1};
q.JP=q.Ob.extend({vk:null,Ai:null,kg:null,lC:1,mg:null,ctor:function(){q.Ob.prototype.ctor.call(this);this.Ai={};this.kg={};this.mg={}},w:function(){this.vk=new (window.AudioContext||window.webkitAudioContext||window.mozAudioContext);var a={};this.CH(a);var c=["ogg","mp3","wav","mp4","m4a"],d=this.Gx,e;for(e in c){var f=c[e];a[f]&&d.push(f)}return this.Qj=0<d.length},OB:function(a,c,d){var e=new window.XMLHttpRequest;e.open("GET",this.JC+a,!0);e.responseType="arraybuffer";var f=this;e.onload=function(){f.vk.decodeAudioData(e.response,
c,d)};e.onerror=d;e.send()},Xy:function(a,c,d){if(this.Qj){var e=this.El(a),f=this.Ei(a);if(this.Ai[f]||this.kg[f]||!this.Hy(e))q.Dq(c,d);else{this.kg[f]=!0;var g=this;this.OB(a,function(a){g.Ai[f]=a;delete g.kg[f];q.Dq(c,d)},function(){delete g.kg[f];q.Dq(c,d,a)})}}},op:function(a,c,d,e){var f=new q.KP;c=null==c?!1:c;d=null==d?1:d;e=e||0;var g=this.vk;f.key=a;f.Rd=this.vk.createBufferSource();f.Rd.buffer=this.Ai[a];f.Rd.loop=c;f.Pu=g.createGain?this.vk.createGain():this.vk.createGainNode();f.Pu.gain.value=
d;f.Rd.connect(f.Pu);f.Pu.connect(this.vk.destination);f.Rd.start?f.Rd.start(0,e):f.Rd.DL?(a=f.Rd.buffer.duration,c?f.Rd.DL(0,e,a):f.Rd.DL(0,e,a-e)):f.Rd.V$(0);f.startTime=this.vk.currentTime-e;f.UE=f.startTime;f.Iy=!1;return f},Wp:function(a){return 2==a.Rd.UL},Vp:function(a){return this.Wp(a)?!1:a.Iy},Ad:function(){return this.Ia?this.Wp(this.Ia):!1},Wy:function(a,c){var d=this.Ei(a),e=this.El(a);c=c||!1;this.Ia&&this.Az();if(this.Ai[d])this.Ia=this.op(d,c,this.lC);else if(!this.kg[d]&&this.Hy(e)){this.kg[d]=
!0;var f=this;this.OB(a,function(e){f.Ai[d]=e;delete f.kg[d];f.Wy(a,c)},function(){delete f.kg[d]})}},ps:function(a){a.Rd.UL&&3==a.Rd.UL||(a.Rd.stop?a.Rd.stop(0):a.Rd.U$(0))},Az:function(a){var c=this.Ia;if(c){var d=c.key;this.ps(c);this.Ia=null;a&&delete this.Ai[d]}},Qs:function(a){a.UE=this.vk.currentTime;a.Iy=!0;this.ps(a)},cr:function(){this.Ad()&&this.Qs(this.Ia)},Us:function(a,c){return this.op(a.key,a.Rd.loop,c,(a.UE-a.startTime)%a.Rd.buffer.duration)},Jo:function(){var a=this.Ia;a&&this.Vp(a)&&
(this.Ia=this.Us(a,this.Tt()))},tY:function(){var a=this.Ia;if(a){var c=a.key,d=a.Rd.loop,e=this.Tt();this.ps(a);this.Ia=this.op(c,d,e)}},Tt:function(){return this.lC},HI:function(a,c){a.Pu.gain.value=c},PM:function(a){1<a?a=1:0>a&&(a=0);this.Tt()!=a&&(this.lC=a,this.Ia&&this.HI(this.Ia,a))},VE:function(a,c){var d=this.Ei(a),e=this.El(a),f;c=c||!1;if(this.Ai[d]){e=this.mg;e[d]||(e[d]=[]);for(var e=e[d],g=0,h=e.length;g<h;g++){var k=e[g];if(!this.Wp(k)&&!this.Vp(k))return e[g]=this.op(d,c,this.Mh),
f=this.Lr++,this.nc[f]=e[g],f}g=this.op(d,c,this.Mh);e.push(g);f=this.Lr++;this.nc[f]=g;return f}if(!this.kg[d]&&this.Hy(e)){this.kg[d]=!0;var l=this;f=this.Lr++;this.nc[f]=null;this.OB(a,function(a){l.Ai[d]=a;delete l.kg[d];a=l.op(d,c,l.Mh);l.nc[f]=a;var e=l.mg;e[d]||(e[d]=[]);e[d].push(a)},function(){delete l.kg[d];delete l.nc[f]});return f}return null},CM:function(a){1<a?a=1:0>a&&(a=0);if(this.Mh!=a){this.Mh=a;var c=this.mg,d;for(d in c)for(var e=c[d],f=0,g=e.length;f<g;f++)this.HI(e[f],a)}},xR:function(a){for(var c=
0,d=a.length;c<d;c++){var e=a[c];e&&this.Wp(e)&&this.Qs(e)}},TE:function(a){null!=a&&this.nc[a]&&(a=this.nc[a])&&this.Wp(a)&&this.Qs(a)},lu:function(){for(var a in this.mg)this.xR(this.mg[a])},TR:function(a,c){for(var d=0,e=a.length;d<e;d++){var f=a[d];this.Vp(f)&&(a[d]=this.Us(f,c),this.rD(f,a[d]))}},iF:function(a){if(null!=a&&this.nc[a]){var c=this.nc[a];c&&this.Vp(c)&&(this.nc[a]=this.Us(c,this.Mh),this.rD(c,this.nc[a]))}},rD:function(a,c){var d=this.mg,e,f;for(f in d){e=d[f];for(var g=0;g<e.length;g++)e[g]==
a&&(e[g]=c)}},pu:function(){var a=this.mg,c;for(c in a)this.TR(a[c],this.Mh)},Eu:function(a){if(null!=a){var c=this.nc;c[a]&&this.ps(c[a])}},Du:function(){var a=this.mg,c;for(c in a){for(var d=a[c],e=0,f=d.length;e<f;e++)this.ps(d[e]);delete a[c]}},XF:function(a){if(a){a=this.Ei(a);if(this.mg[a]){var c=this.mg[a];delete this.mg[a];var d=this.nc,e;for(e in d)-1<c.indexOf(d[e])&&(this.Eu(e),delete d[e])}this.Ai[a]&&delete this.Ai[a]}},sI:function(){var a=this.Fn;this.Ad()&&(a.push(this.Ia),this.Qs(this.Ia));
var c=this.mg,d;for(d in c)for(var e=c[d],f=0,g=e.length;f<g;f++){var h=e[f];h&&this.Wp(h)&&(a.push(h),this.Qs(h))}},wI:function(){var a=this.Fn,c=this.Tt(),d=this.Ia;d&&this.Vp(d)&&-1!=a.indexOf(d)&&(this.Ia=this.Us(d,c));var d=this.mg,e;for(e in d)for(var f=d[e],g=0,h=f.length;g<h;g++){var k=f[g];this.Vp(k)&&-1!=a.indexOf(k)&&(f[g]=this.Us(k,c),this.rD(k,f[g]))}a.length=0}});q.Ob.jb=null;q.Ob.Ad=!1;
q.Ob.f=function(){this.jb||(this.jb=q.Aa.u_&&"file://"!=location.origin?new q.JP:-1!==q.Aa.XW.indexOf(q.Aa.type)?new q.HA:new q.sP,this.jb.w());return this.jb};q.Ob.end=function(){this.jb&&(this.jb.Az(),this.jb.Du());this.jb=null};if(!ha)var ha={};
ha.EN={GENERAL:"ISSECTION","Project Name":"Powder Engine Testbed","Version Number":"0.8",LOGIN:"ISSECTION","Auto Login Next":"Auto login next time.","Save Login Cred":"Remember Login","Play Button Text":"Play","Register Button Text":"Register","Back From Reg Button Text":"Go Back","Reg Confirm Button Text":"Register","System Message":"Accounts are culled daily 00:00 and on software git updates.","Credit Button Text":"Credits","News Button Text":"News","Login Message":"This game saves data automatically.","Offline Server":"Server:Offline",
"Online Server":"Server:Online","Offline Server Message":"Server is offline!","User Pass Empty":"Please enter a User and Password","Incorrect Email Format":"Please use a correct email address.","Registering Message":"Registering please wait...","Register Empty Fields":"Please fill all fields.","Registration Success":"Registration Successful","Username Label":"Username","Password Label":"Password","Eail Label":"Email Address","Register User Taken":"Registration failed, user already exists.","Logging In Message":"Logging In",
CHATBAR:"ISSECTION","Welcome Message":"powderengine.net or /help for some help.","Join Message":"<PLAYER> has joined the game!","Leave Message":"<PLAYER> has left the game!","Default ChatBar Message":"Press enter to chat. For help say /help.",ITEMS:"ISSECTION","Item Dropdown Pick Up":"Pick up <ITEM>","Item Dropdown Walk To":"Walk to <ITEM>","Item Pick Up":"Picked up <ITEM>.","Item Dropped":"Dropped <ITEM>.","Item Out-of-range":"<ITEM> is too far away to pick up!","Item Dropdown Examine":"Examine <ITEM>",
"Item Dropdown Equip":"Equip <ITEM>","Item Dropdown Read":"Read <ITEM>","Item Dropdown Eat":"Eat <ITEM>","Item Dropdown Use":"Use <ITEM>","Item Dropdown Unequip":"Unequip <ITEM>","Item Dropdown Drop":"Drop <ITEM>","Inventory Full":"Your inventory is full",NPCS:"ISSECTION","NPC Dropdown Examine":"Examine","NPC Dropdown Attack":"Attack","NPC Dropdown Talk":"Talk To <NPC>","NPC Dropdown Walk To":"Walk To <NPC>","NPC Dropdown Follow":"Follow","NPC Dropdown Trade":"Trade","NPC Dropdown Bank":"Open Bank",
"NPC Out-of-range":"<NPC> is too far away!",SIGNS:"ISSECTION","Sign Dropdown list Read":"Read sign <SIGN>","Sign Out-of-range":"<SIGN> is too far away to read!",PANELS:"ISSECTION","Equipment Header":"Equipment","Bank Header":"Bank","Shop Header":"Shop","Inventory Header":"Inventory","Skills Header":"Skills","Quest Header":"Quest Log","No Quests":"There are no quests to show.",COMMANDS:"ISSECTION","/dance":"<PLAYER> danced the dance of his people.","/diceroll":"<PLAYER> threw a dice and got <VALUE>",
"/coinflip":"<PLAYER> flipped a coin and got <VALUE>","Help Text":"-------HELP------\n- Press C to expand the chat, I for Inventory\n- Space to grab Items and E for Equipment.\n- Enter /commands for command list\n-------------------","Command Text":"Commands: /editskill, /editsign, /editnpc,/editmap,/editwarp,/edititem,/whereami,/dance,/coinflip,/diceroll,/warpmeto map x y"};ha||(ha={});
ha.CZ={GENERAL:"ISSECTION","Project Name":"Powder Engine Testbed","Version Number":"0.8",LOGIN:"ISSECTION","Auto Login Next":"Automaticky přihlašovat.","Save Login Cred":"Pamatovat Login","Play Button Text":"Hrát","Register Button Text":"Registrovat","Back From Reg Button Text":"Jít zpět","Reg Confirm Button Text":"Registrovat","System Message":"Účty jsou automaticky mazány denně v 00:00 a v software git updatech.","Credit Button Text":"Credits","News Button Text":"Novinky","Login Message":"Tato hra ukládá data automaticky.","Offline Server":"Server:Offline",
"Online Server":"Server:Online","Offline Server Message":"Server je offline!","User Pass Empty":"Prosíme vložte Jméno a Heslo","Incorrect Email Format":"Prosíme použijte platnou emailovou adresu.","Registering Message":"Registrování. Prosíme, počkejte...","Register Empty Fields":"Vyplňte prosím všechny pole.","Registration Success":"Registrace úspěšná","Username Label":"Přihlašovací jméno","Password Label":"Heslo","Eail Label":"Emailová Adresa","Register User Taken":"Registrace selhala, uživatel již existuje.",
"Logging In Message":"Přihlašování...",CHATBAR:"ISSECTION","Welcome Message":"Vítejte do Powder Engine! Napište /help pro pomocné příkazy.","Join Message":"<PLAYER> se přidal/a do hry!","Leave Message":"<PLAYER> opustil/a hru!","Default ChatBar Message":"C pro zvětšení/zmenšení, enter pro chatování. Napište /help pro pomoc.",ITEMS:"ISSECTION","Item Dropdown Pick Up":"Sebrat <ITEM>","Item Dropdown Walk To":"Přejít k <ITEM>","Item Pick Up":"Sebráno <ITEM>.","Item Dropped":"Odloženo <ITEM>.","Item Out-of-range":"<ITEM> je příliš daleko ke zvednutí!",
"Item Dropdown Examine":"Prozkoumat <ITEM>","Item Dropdown Equip":"Nasadit <ITEM>","Item Dropdown Read":"Přečíst <ITEM>","Item Dropdown Eat":"Sníst <ITEM>","Item Dropdown Use":"Použít <ITEM>","Item Dropdown Unequip":"Svléknout <ITEM>","Item Dropdown Drop":"Odhodit <ITEM>","Inventory Full":"Váš inventář je plný!",NPCS:"ISSECTION","NPC Dropdown Examine":"Prozkoumat","NPC Dropdown Attack":"Útok","NPC Dropdown Talk":"Promluvit s <NPC>","NPC Dropdown Walk To":"Přejít k <NPC>","NPC Dropdown Follow":"Následovat",
"NPC Dropdown Trade":"Obchodovat","NPC Dropdown Bank":"Otevřít banku","NPC Out-of-range":"<NPC> je příliš daleko!",SIGNS:"ISSECTION","Sign Dropdown list Read":"Přečíst ceduli <SIGN>","Sign Out-of-range":"<SIGN> je příliš daleko k přečtení!",PANELS:"ISSECTION","Equipment Header":"Vybavení","Bank Header":"Banka","Shop Header":"Obchod","Inventory Header":"Inventář","Skills Header":"Seznam schopností","Quest Header":"Quest Log","No Quests":"There are no quests to show.",COMMANDS:"ISSECTION","/dance":"<PLAYER> zatancoval tanec jeho kmene.",
"/diceroll":"<PLAYER> hodil kostkou a dostal <VALUE>","/coinflip":"<PLAYER> hodil mincí a dostal <VALUE>","Help Text":"-------HELP------\n- Stiskněte C ke zvětšení chatu, I pro Inventář\n- Mezerník k sebrání předmětu a E pro Výbavu.\n- Napište /commands pro seznam příkazů\n-------------------","Command Text":"Příkazy: /editskill, /editsign, /editnpc,/editmap,/editwarp,/edititem,/whereami,/dance,/coinflip,/diceroll,/warpmeto map x y"};ha||(ha={});
ha.LA={GENERAL:"ISSECTION","Project Name":"Powder Engine Testbed","Version Number":"0.705",LOGIN:"ISSECTION","Auto Login Next":"Auto login next time.","Save Login Cred":"Remember Login","Play Button Text":"Play","Register Button Text":"Register","Back From Reg Button Text":"Go Back","Reg Confirm Button Text":"Register","System Message":"Accounts are culled daily 00:00 and on software git updates.","Credit Button Text":"Credits","News Button Text":"News","Login Message":"This game saves data automatically.","Offline Server":"Server:Offline",
"Online Server":"Server:Online","Offline Server Message":"Server is offline!","User Pass Empty":"Please enter a User and Password","Incorrect Email Format":"Please use a correct email address.","Registering Message":"Registering please wait...","Register Empty Fields":"Please fill all fields.","Registration Success":"Registration Successful","Username Label":"Username","Password Label":"Password","Eail Label":"Email Address","Register User Taken":"Registration failed, user already exists.","Logging In Message":"Logging In",
CHATBAR:"ISSECTION","Welcome Message":"Gratior Powder Engine! Intra /help enim auxilium.","Join Message":"<PLAYER> Coninguit ludo!","Leave Message":"<PLAYER> Discessiit ludo!","Default ChatBar Message":"C explodere/dimittere, enter enim colloquium. Dice /help enim iuva.",ITEMS:"ISSECTION","Item Dropdown Pick Up":"Elege <ITEM>","Item Dropdown Walk To":"Ambula ad <ITEM>","Item Pick Up":"Elegit super <ITEM>.","Item Dropped":"Roravit <ITEM>.","Item Out-of-range":"<ITEM> est nimis procul elegere super!",
"Item Dropdown Examine":"vide <ITEM>","Item Dropdown Equip":"Apte <ITEM>","Item Dropdown Read":"Lege <ITEM>","Item Dropdown Eat":"Cena <ITEM>","Item Dropdown Use":"Face <ITEM>","Item Dropdown Unequip":"Aufer <ITEM>","Item Dropdown Drop":"Pone <ITEM>","Inventory Full":"Tuus inventarium est plenum",NPCS:"ISSECTION","NPC Dropdown Examine":"Vide","NPC Dropdown Attack":"Oppugne","NPC Dropdown Talk":"Dice <NPC>","NPC Dropdown Walk To":"Ambula ad <NPC>","NPC Dropdown Follow":"Immine","NPC Dropdown Trade":"Eme",
"NPC Dropdown Bank":"Pateface Ripa","NPC Out-of-range":"<NPC> est nimis procul!",SIGNS:"ISSECTION","Sign Dropdown list Read":"Lege signum <SIGN>","Sign Out-of-range":"<SIGN> est nimis procul legere!",PANELS:"ISSECTION","Equipment Header":"Armorum","Bank Header":"Ripa","Shop Header":"Taberna","Inventory Header":"Inventarium","Skills Header":"Peritia index","Quest Header":"Investigatio stipes","No Quests":"There are no quests to show.",COMMANDS:"ISSECTION","/dance":"<PLAYER> Ballavit ballar populo.",
"/diceroll":"<PLAYER> Misit aleam et accepit <VALUE>","/coinflip":"<PLAYER> Vertit numismam et accepit <VALUE>","Help Text":"-------HELP------\n- Urge C expandere colloquium, I enim Inventarum\n- Space captere Itema et E enim Armorum.\n- Enter /Imperia enim imperium index\n-------------------","Command Text":"Imperia: /editskill, /editsign, /editnpc,/editmap,/editwarp,/edititem,/whereami,/dance,/coinflip,/diceroll,/warpmeto map x y"};SingleLineBox=q.vi.extend({cc:null,Ba:null,js:q.gA,hs:q.fA,Es:q.pA,SI:"",Lb:"",wg:null,Je:null,Kl:50,Jr:18,P:null,Fe:12,Di:"Arial",Jw:!1,Hi:"",tg:14,VI:!1,ctor:function(a){q.vi.prototype.ctor.call(this);this.Jw=!1;this.wg=q.Jb();this.Je=q.im();this.G(a);this.cc=new q.B;this.cc.Ya=function(){};this.e(this.cc);var c=this;this.P=document.createElement("input");this.P.type="text";this.P.style.fontSize=this.Fe+"px";this.P.style.color="#000000";this.P.style.border=0;this.P.style.background="transparent";
this.P.style.width="100%";this.P.style.height="100%";this.P.style.nJ=0;this.P.style.outline="medium";this.P.addEventListener("input",function(){c.Ba&&c.Ba.$i&&c.Ba.$i(c,this.value)});this.P.addEventListener("keyup",function(a){a.keyCode===q.Cv.dK&&0==c.Jw&&(a.stopPropagation(),a.preventDefault(),q.canvas.focus())});this.P.addEventListener("focus",function(){this.value==c.Lb&&(this.value="",this.style.fontSize=c.Fe+"px",this.style.color=q.Sc(c.wg));c.Ba&&c.Ba.dm&&c.Ba.dm(c)});this.P.addEventListener("blur",
function(){""==this.value&&(this.value=c.Lb,this.style.fontSize=c.tg+"px",this.style.color=q.Sc(c.Je));c.Ba&&c.Ba.em&&c.Ba.em(c)});q.wc.Et(this.cc);this.cc.ca.appendChild(this.P);this.cc.ca.sN=!1;this.cc.ca.style.width=a.width-6+"px";this.cc.ca.style.height=a.height-6+"px";this.cc.canvas.remove()},EM:function(a,c){this.Fe=c;this.Di=a;this.Pi()},YZ:function(){},uF:function(a){this.Di=a;this.Pi()},iz:function(a){this.Fe=a;this.Pi()},Pi:function(){this.P.value!=this.Lb&&(this.P.style.fontFamily=this.Di,
this.P.style.fontSize=this.Fe+"px")},df:function(a){null!=a&&(""==a?(this.P.value=this.Lb,this.P.style.color=q.Sc(this.Je)):(this.P.value=a,this.P.style.color=q.Sc(this.wg)))},sF:function(a){this.wg=a;this.P.value!=this.Lb&&(this.P.style.color=q.Sc(a))},KM:function(a){!isNaN(a)&&0<a&&(this.Kl=a,this.P.maxLength=a)},zK:function(){return this.Kl},QM:function(a){if(null!=a){var c=this.Lb;this.Lb=a;this.P.value==c&&(this.P.value=a,this.P.style.color=q.Sc(this.Je),this.Rf())}},RM:function(a,c){this.Hi=
a;this.tg=c;this.Rf()},TM:function(a){this.Hi=a;this.Rf()},UM:function(a){this.tg=a;this.Rf()},Rf:function(){this.P.value==this.Lb&&(this.P.style.fontFamily=this.Hi,this.P.style.fontSize=this.tg+"px")},SM:function(a){this.Je=a;this.P.value==this.Lb&&(this.P.style.color=q.Sc(a))},Kg:function(a){this.hs=a;this.P.type=a==q.eA?"password":a==q.wO?"number":"text"},ba:function(){return this.P.value},bu:function(a,c){return this.Ay(c)?(this.cc.o(3,3),this.JF(!1),this.mj(a),this.o(0,0),this.ow(this,this.Gu,
q.Xu),!0):!1},Ig:function(a){this.Ba=a},EK:function(){return this.Lb},IM:function(a){this.js=a},YM:function(a){this.Es=a},sL:function(a){var c=q.Yo.zd(this);c.y-=4;c.dL(a.end)?this.Jr=a.end.AK()-c.BK():q.log("needn't to adjust view layout.")},qL:function(){},rL:function(){},pL:function(){},Gu:function(){},su:function(a){a=ia(a.t,a.r,a.p);this.P.style.background=a},ge:function(){this.P.style.background="rgba(0,0,0,0)"},VK:function(a,c){this.gs=a.width;this.ca.style.width=this.gs.toString()+"px";this.fs=
a.height;this.ca.style.height=this.fs.toString()+"px";this.ca.style.backgroundColor=q.Sc(c)}});SingleLineBox.zd=function(a){var c=a.c(),c=q.rect(0,0,c.width,c.height);return q.hg(c,a.Ao())};SingleLineBox.create=function(a,c,d,e){var f=new SingleLineBox(a);c instanceof q.Lc?f.su(c):f.bu(a,c)&&(d&&f.Cm(d,q.Zu),e&&f.Cm(e,q.Yu));return f};MultiLineBox=q.vi.extend({cc:null,Ba:null,js:q.gA,hs:q.fA,Es:q.pA,SI:"",Lb:"",wg:null,Je:null,Kl:50,Jr:18,P:null,Fe:12,Di:"Arial",Jw:!1,Hi:"",tg:14,VI:!1,ctor:function(a){q.vi.prototype.ctor.call(this);this.Jw=!1;this.wg=q.Jb();this.Je=q.im();this.G(a);this.cc=new q.B;this.cc.Ya=function(){};this.e(this.cc);var c=this;this.P=document.createElement("TEXTAREA");this.P.type="text";this.P.style.fontSize=this.Fe+"px";this.P.style.color="#000000";this.P.style.border=0;this.P.style.background="transparent";
this.P.style.width="100%";this.P.style.height="100%";this.P.style.nJ=0;this.P.style.outline="medium";this.P.addEventListener("input",function(){c.Ba&&c.Ba.$i&&c.Ba.$i(c,this.value)});this.P.addEventListener("focus",function(){this.value==c.Lb&&(this.value="",this.style.fontSize=c.Fe+"px",this.style.color=q.Sc(c.wg));c.Ba&&c.Ba.dm&&c.Ba.dm(c)});this.P.addEventListener("blur",function(){""==this.value&&(this.value=c.Lb,this.style.fontSize=c.tg+"px",this.style.color=q.Sc(c.Je));c.Ba&&c.Ba.em&&c.Ba.em(c)});
q.wc.Et(this.cc);this.cc.ca.appendChild(this.P);this.cc.ca.sN=!1;this.cc.ca.style.width=a.width-6+"px";this.cc.ca.style.height=a.height-6+"px";this.cc.canvas.remove()},EM:function(a,c){this.Fe=c;this.Di=a;this.Pi()},YZ:function(){},uF:function(a){this.Di=a;this.Pi()},iz:function(a){this.Fe=a;this.Pi()},Pi:function(){this.P.value!=this.Lb&&(this.P.style.fontFamily=this.Di,this.P.style.fontSize=this.Fe+"px")},df:function(a){null!=a&&(""==a?(this.P.value=this.Lb,this.P.style.color=q.Sc(this.Je)):(this.P.value=
a,this.P.style.color=q.Sc(this.wg)))},sF:function(a){this.wg=a;this.P.value!=this.Lb&&(this.P.style.color=q.Sc(a))},KM:function(a){!isNaN(a)&&0<a&&(this.Kl=a,this.P.maxLength=a)},zK:function(){return this.Kl},QM:function(a){if(null!=a){var c=this.Lb;this.Lb=a;this.P.value==c&&(this.P.value=a,this.P.style.color=q.Sc(this.Je),this.Rf())}},RM:function(a,c){this.Hi=a;this.tg=c;this.Rf()},TM:function(a){this.Hi=a;this.Rf()},UM:function(a){this.tg=a;this.Rf()},Rf:function(){this.P.value==this.Lb&&(this.P.style.fontFamily=
this.Hi,this.P.style.fontSize=this.tg+"px")},SM:function(a){this.Je=a;this.P.value==this.Lb&&(this.P.style.color=q.Sc(a))},Kg:function(a){this.hs=a;this.P.type=a==q.eA?"password":"text"},ba:function(){return this.P.value},bu:function(a,c){return this.Ay(c)?(this.cc.o(3,3),this.JF(!1),this.mj(a),this.o(0,0),this.ow(this,this.Gu,q.Xu),!0):!1},Ig:function(a){this.Ba=a},EK:function(){return this.Lb},IM:function(a){this.js=a},YM:function(a){this.Es=a},sL:function(a){var c=q.Yo.zd(this);c.y-=4;c.dL(a.end)?
this.Jr=a.end.AK()-c.BK():q.log("needn't to adjust view layout.")},qL:function(){},rL:function(){},pL:function(){},Gu:function(){},su:function(a){a=ia(a.t,a.r,a.p);this.P.style.background=a},ge:function(){this.P.style.background="rgba(0,0,0,0)"},VK:function(a,c){this.gs=a.width;this.ca.style.width=this.gs.toString()+"px";this.fs=a.height;this.ca.style.height=this.fs.toString()+"px";this.ca.style.backgroundColor=q.Sc(c)}});
MultiLineBox.zd=function(a){var c=a.c(),c=q.rect(0,0,c.width,c.height);return q.hg(c,a.Ao())};MultiLineBox.create=function(a,c,d,e){var f=new MultiLineBox(a);c instanceof q.Lc?f.su(c):f.bu(a,c)&&(d&&f.Cm(d,q.Zu),e&&f.Cm(e,q.Yu));return f};var ja=document.ccConfig,ka={},na=!1;document.documentElement.style.overflow="hidden";document.body.scroll="no";var t=[],u=[],y=[];q.je.f().aN(["res/Graphics"]);for(var pa in document.ccConfig.tileSheets)t.push({name:document.ccConfig.tileSheets[pa],texture:q.da.f().pa(document.ccConfig.tileSheets[pa])});for(pa in document.ccConfig.characterSheets)u.push({name:document.ccConfig.characterSheets[pa],texture:q.da.f().pa(document.ccConfig.characterSheets[pa])});y=document.ccConfig.sounds;
document.getElementById("gameCanvas").onkeydown=function(a){a.preventDefault();ka[a.keyCode]=!0};window.onbeforeunload=function(){sendToServer("disconnect",null)};window.onfocus=function(){for(var a=[],c=A.length-1;0<=c;c--){var d=JSON.parse(A[c]);d.moveTo&&!a[d.id]?(a[d.id]=!0,d.setTo=1,d.moveTo=null,A[c]=JSON.stringify(d)):d.moveTo&&a[d.id]&&A.splice(c,1)}};var qa=q.l(255,255,255,255),ra=q.l(0,255,0,255),sa=q.l(255,0,0,255);
document.getElementById("gameCanvas").onkeyup=function(a){ka[a.keyCode]=!1;if(null!=B.f().Jc){a.stopPropagation();var c=null;switch(a.keyCode){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";
break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a.keyCode&&58>a.keyCode||64<a.keyCode&&91>a.keyCode)&&(c=String.fromCharCode(a.keyCode));null!=c&&B.f().Jc.Qy(c)}};var ta=!1;document.body.onmousedown=function(){ta=!0};document.body.onmouseup=function(){ta=!1};rememberLoginNextTime=autoLoginNextTime=!1;var C=ha[ja.language];console.log(C);
function E(a,c){return a?(a.nL&&a.Ua||!a.nL)&&q.vc(q.rect(a.v.R,a.v.S,a.c().width,a.c().height),c):!1}function F(a){if(!a)return null;var c=null;"object"==typeof a&&(c={});a instanceof Array&&(c=[]);for(var d in a)c[d]=a[d]&&("object"==typeof a[d]||a[d]instanceof Array)?F(a[d]):a[d];return c}
isMobile=function(){var a=!1,c=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(c)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(c.substr(0,
4)))a=!0;return a};function ua(){H.fe(function(){})}function va(a,c){var d=c?a:a.uc();return wa(d,"panels")}
function wa(a,c,d){if(c=d?d[c]:a[c]){"undefined"!=typeof c.xW?d=xa.cA(c.A_):"undefined"!=typeof c.Na?d=q.B.cb(q.da.f().pa(c.Na)):"undefined"!=typeof c.label?d=q.O.create(c.label,c.font?c.J5:"Arial",c.fontSize?c.fontSize:14):"undefined"!=typeof c.color&&"undefined"!=typeof c.size?(d=q.B.create(),d.hb(q.rect(0,0,c.size.width,c.size.height)),d.A(q.a(0,0))):d=q.Node.create();"undefined"!=typeof c.size&&d.G(Math.floor(c.size.width),Math.floor(c.size.height));"undefined"!=typeof c.position&&d.o(q.a(Math.floor(c.position.x),
Math.floor(c.position.y)));"undefined"!=typeof c.visible&&d.H(c.visible);"undefined"!=typeof c.i&&d.A(c.i);"undefined"!=typeof c.color&&d.n&&(d.n(c.color),c.color.Q&&d.ua(c.color.Q));"undefined"!=typeof c.opacity&&d.ua(c.opacity);if("undefined"!=typeof c.children)for(var e in c.children)d[e]=wa(a,e,c.children),d[e]&&d.e(d[e]);return d}}
function ya(a,c,d){a=a[c];"undefined"!=typeof a.size&&d.G(Math.floor(a.size.width),Math.floor(a.size.height));"undefined"!=typeof a.position&&d.o(q.a(Math.floor(a.position.x),a.position.y?Math.floor(a.position.y):0));"undefined"!=typeof a.visible&&d.H(a.visible);"undefined"!=typeof a.i&&d.A(q.a(a.i.x,a.i.y));"undefined"!=typeof a.opacity&&d.ua(a.opacity);"undefined"!=typeof a.color&&d.n(a.color);if("undefined"!=typeof a.children)for(var e in a.children)ya(a.children,e,d[e])}
function Ca(a){a=a.toString(16);return 1==a.length?"0"+a:a}function ia(a,c,d){return"#"+Ca(a)+Ca(c)+Ca(d)}var I=null,K=ja.tileSize,Da=ja.characterSize,L=Math.floor(36),M=Math.floor(36);function Ea(){N=q.la.f().oo();q.size(N.width,N.height);I=q.size(M*K,L*K)}function Fa(a,c){return parseInt(M*(L-c))+parseInt(a)}function Ga(a,c){var d={},e;for(e in a)d[e]=a[e]+"";for(e in c)d[e]&&(d[e]=c[e]+"");return d}
function Ha(a,c,d){if(0==a.length)return!0;for(var e=0;e<a.length;e++)switch(a[e].type){case "Is Quest Point":var f=O.q.F.Yk(a[e].data.quest);f||(f=0);if(f!=a[e].data.objective)return!1;break;case "Script Requirement":if("Tile"==c)var g=F(O.q.F.Jq(d.Xc));else"NPC"==c?g=F(O.q.F.Jq(d.Xc)):"Item"==c&&(g=F(O.q.F.Jq(d.script)));g||(g={});try{var h=a[e].data.functionContent.replace(/,/g,"").split(":"),f="{",k;for(k in h)f=0==k%2?f+('"'+h[k]+'":'):k!=h.length-1?f+('"'+h[k]+'",'):f+('"'+h[k]+'"');var f=f+
"}",l=JSON.parse(f);for(k in l)if(g[k]||(g[k]="null"),g[k]!=l[k])return!1}catch(m){return P.jc("your custom require script failed"),!1}break;case "Is Panel Visibility":f=1==a[e].data.visible?!0:!1;switch(a[e].data.panel){case 0:null==Inventory||Inventory.ea||(Inventory=null);if(Inventory&&!f||!Inventory&&f)return!1;break;case 1:null==Equipment||Equipment.ea||(Equipment=null);if(Equipment&&!f||!Equipment&&f)return!1;break;case 2:if(null==Skills||Skills.ea||(Skills=null),Skills&&!f||!Skills&&f)return!1}break;
case "Is Player Inventory Space":for(var p=a[e].data.space?a[e].data.space:0,w=f=0;40>w;w++)userItems.stored[w]||f++;if(f<p)return!1;break;case "Has Player Item":if(a[e].data.item){p=a[e].data.amount?a[e].data.amount:0;f=0;w=ObjectLists.Zb()[a[e].data.item].name;for(k in userItems.stored)userItems.stored[k]&&userItems.stored[k].name==w&&f++;if(f<p)return!1}break;case "Is Player Statistics":f=ObjectLists.Zk()[a[e].data.skill].name;a[e].data.levelUpper||(a[e].data.levelUpper=0);a[e].data.levelLower||
(a[e].data.levelLower=0);a[e].data.healthUpper||(a[e].data.healthUpper=0);a[e].data.healthLower||(a[e].data.healthLower=0);a[e].data.xpUpper||(a[e].data.xpUpper=0);a[e].data.xpLower||(a[e].data.xpLower=0);if(0!=a[e].data.levelUpper||0!=a[e].data.levelLower)if(p=SkillBarsInstance.$c[f].level+1,p>a[e].data.levelUpper||p<a[e].data.levelLower)return!1;if(0!=a[e].data.healthUpper||0!=a[e].data.healthLower)if(p=SkillBarsInstance.$c[f].currenthealth,p>a[e].data.healthUpper||p<a[e].data.healthLower)return!1;
if(0!=a[e].data.xpUpper||0!=a[e].data.xpLower)if(p=SkillBarsInstance.$c[f].experience,p>a[e].data.xpUpper||p<a[e].data.xpLower)return!1}return!0}
function Ia(a,c,d,e,f,g){var h=[];if(!(1>a.length)){for(var k=O.q.F.items,l=0;l<a.length;l++)e&&e[a[l].type]||h.push([l,function(){switch(a[l].type){case "Spawn NPC":return function(c){null!=a[c].data.npc&&"undefined"!==a[c].data.npc&&O.gT(ObjectLists.Lq()[a[c].data.npc],q.a(d.v.x/K,d.v.y/K))};case "Equip Item":return function(c){c=a[c].data.equip;"bothArms"==c&&(c="lArm",k.equipped.rArm||(c="rArm"));var e=null;k.equipped[c]&&(e=F(k.equipped[c]),Q("On Dequip",e,"Item"));var f=ObjectLists.Zb(),g;for(g in f)if(f[g].name==
d.name){k.equipped[c]={number:g,amount:d.amount};break}k.stored[d.oL]=e;Inventory&&Inventory.Ja();Equipment&&Equipment.Ja()};case "Read Item":return function(c){H.f_(d.name,a[c].data.say)};case "Spawn Item":return function(c){d.tJ(a[c].data.item,a[c].data.amount)};case "Talk":return function(c){H.h_(d,f,g,d.name,a[c].data.say,a[c].data.options)};case "Script Response":return function(e){if("Tile"==c)var f=F(O.q.F.Jq(d.Xc));else"NPC"==c?f=F(O.q.F.Jq(d.Xc)):"Item"==c&&(f=F(O.q.F.Jq(d.script)));f||(f=
{});try{var g=a[e].data.functionContent.replace(/,/g,"").split(":");e="{";for(var h in g)e=0==h%2?e+('"'+g[h]+'":'):h!=g.length-1?e+('"'+g[h]+'",'):e+('"'+g[h]+'"');var k=JSON.parse(e+"}"),g=f;h={};for(var l in g)h[l]=g[l];for(l in k)h[l]=k[l];f=h;"Tile"==c?O.q.F.rF(d.Xc,F(f)):"NPC"==c?O.q.F.rF(d.Xc,F(f)):"Item"==c&&O.q.F.rF(d.script,F(f))}catch(G){P.jc("Your custom response script failed")}};case "Give /Take Item":return function(c){var d=ObjectLists.Zb()[a[c].data.item];if(0<a[c].data.amount){var e=
a[c].data.amount;if(1==d.stackable){for(var f=0;40>f;f++)k.stored[f]&&k.stored[f].name==d.name&&(e=0);0!=g&&(e=1)}else for(var g=0,f=0;40>f;f++)k.stored[f]||g++;if(g<e)return;if(1==d.stackable){g=!1;for(f=0;40>f;f++)if(k.stored[f]&&k.stored[f].name==d.name){k.stored[f].amount+=a[c].data.amount;Inventory&&Inventory.Ch(f,k.stored[f].amount);g=!0;break}if(0==g)for(f=0;40>f;f++)if(!k.stored[f]){k.stored[f]=F(d);k.stored[f].amount=a[c].data.amount;Inventory&&Inventory.Ch(f,k.stored[f].amount);break}}else for(g=
0;g<a[c].data.amount;g++)for(f=0;40>f;f++)if(!k.stored[f]){k.stored[f]=F(d);break}}else if(0>a[c].data.amount){e=Math.abs(a[c].data.amount);g=0;d=d.name;for(f in k.stored)k.stored[f]&&k.stored[f].name==d&&g++;if(g<e)return;for(g=0;g<Math.abs(a[c].data.amount);g++)for(f in k.stored)if(k.stored[f]&&k.stored[f].name==d){console.log("gettin rid"+g);user.stored[f]=null;break}}Inventory&&Inventory.Ja();Equipment&&Equipment.Ja()};case "Modify Player Stats":return function(c){if(ObjectLists.Zk()[a[c].data.skill]){var d=
ObjectLists.Zk()[a[c].data.skill].name;R.TW(d,a[c].data.level);R.SW(d,a[c].data.health);R.UW(d,a[c].data.xp)}};case "Show Sign":return function(c){H.j_(a[c].data.title,a[c].data.content)};case "Set Quest Point":return function(c){O.q.F.HZ(a[c].data.quest,a[c].data.objective)};case "Warp Player":return function(c){var d=S.Bg(a[c].data.mapnum),e=a[c].data.index%d.width,d=Math.floor(a[c].data.index/d.width);sendToServer("warpPlayerMessage",{mapnumber:""+a[c].data.mapnum,warpTo:a[c].data.index});S.Zt(a[c].data.mapnum);
O.q.F.o(e*K,d*K);O.q.F.pc=!1};case "Open/Close Shop":return function(c){var d=1==a[c].data.visible?!0:!1;null==Shop||Shop.ea||(Shop=null);Shop&&(Shop.Ta(),Shop.N(),Shop=null);1==d&&(Shop=new ShopPanel,Shop.w(a[c].data.id),Shop.wa(),H.e(Shop))};case "Open/Close Panel":return function(c){var d=1==a[c].data.visible?!0:!1;switch(a[c].data.panel){case 0:null==Inventory||Inventory.ea||(Inventory=null);1==d?Inventory?Inventory.Ja():(Inventory=new InventoryPanel,Inventory.w(),Inventory.wa(),H.e(Inventory)):
Inventory&&(Inventory.Ta(),Inventory.N(),Inventory=null);break;case 1:null==Equipment||Equipment.ea||(Equipment=null);1==d?Equipment?Equipment.Ja():(Equipment=new EquipmentPanel,Equipment.w(),Equipment.wa(),H.e(Equipment)):Equipment&&(Equipment.Ta(),Equipment.N(),Equipment=null);break;case 2:null==Skills||Skills.ea||(Skills=null);1==d?Skills?Skills.Ja():(Skills=new SkillsPanel,Skills.w(),Skills.wa(),H.e(Skills)):Skills&&(Skills.Ta(),Skills.N(),Skills=null);break;case 3:null==Quests||Quests.ea||(Quests=
null);1==d?Quests?Quests.Ja():(Quests=new QuestsPanel,Quests.w(),Quests.wa(),H.e(Quests)):Quests&&(Quests.Ta(),Quests.N(),Quests=null);break;case 4:null==Inventory||Inventory.ea||(Inventory=null),Inventory&&(Inventory.Ta(),Inventory.N(),Inventory=null),null==Bank||Bank.ea||(Bank=null),1==d?Bank?Bank.Ja():(Bank=new BankPanel,Bank.w(),Bank.wa(),H.e(Bank)):Bank&&(Bank.Ta(),Bank.N(),Bank=null)}};case "Destroy":item=null,Inventory&&Inventory.Ja(),l=a.length}}()]);for(e=0;e<h.length;e++)h[e][1](h[e][0]),
h.splice(e,1),e--}}function Q(a,c,d,e,f){H.fe(function(){var g=[];c&&("Item"==d?c.script&&ObjectLists.zf()[c.script]&&(f&&(c.oL=f),g=ObjectLists.zf()[c.script].data):"Tile"==d?c.hi()&&(g=c.hi().data):"NPC"==d&&c.Xc&&(g=ObjectLists.zf()[c.Xc].data));for(var h=0;h<g.length;h++)g[h].type==a&&Ha(g[h].requirements,d,e)&&Ia(g[h].responses,d,c,e,g,h);f&&(c.oL=null)})};var Ja=!0,Ka=q.Ob.f();playEffect=function(a,c,d,e,f){if(1==document.ccConfig.useAudio&&1==Ja){a=/(iPad|iPhone|iPod)/g.test(navigator.userAgent)?a+".mp3":a+".ogg";try{Ka.VE(a,"undefined"===typeof c?!1:c,"undefined"===typeof d?1:d,"undefined"===typeof e?0:e,"undefined"===typeof f?1:f)}catch(g){Ja=!1}}};getEffectsVolume=function(){return this.d_};getMusicVolume=function(){return this.CT};setEffectsVolume=function(a){pwsLog("VERBOSE","Effects vol = "+Math.round(100*a)+"%%");this.d_=a;Ka.CM(a)};
setMusicVolume=function(a){pwsLog("VERBOSE","Music vol = "+Math.round(100*a)+"%%");this.CT=a;Ka.PM(a)};pauseEffect=function(a){Ka.TE(a)};resumeEffect=function(a){Ka.iF(a)};pauseAllEffects=function(){Ka.lu()};resumeAllEffects=function(){Ka.pu()};stopEffect=function(a){try{Ka.Eu(a)}catch(c){pwsLog("WARN",c)}};stopAllEffects=function(){Ka.Du()};playBackgroundMusic=function(a,c){a=/(iPad|iPhone|iPod)/g.test(navigator.userAgent)?a+".mp3":a+".ogg";Ka.Wy(a,"undefined"==typeof c?!1:c)};
stopBackgroundMusic=function(){Ka.Az()};preloadEffect=function(a){Ka.EX(a)};isAudioLoading=function(a){return Ka.kg[a]};unloadEffect=function(a){Ka.XF(a)};var T=q.Ka.extend({q:null,kc:function(a){return(a=r.localStorage.getItem("last_"+a))?a:null},Gm:function(a,c){return(c=r.localStorage.setItem("last_"+a,c))?c:null}}),U=null;T.cA=function(){U||(U=new T);return U};T.f=function(){return U};T.zZ=function(a,c){var d=r.localStorage.getItem("panelStore");"null"==d||null==d?(console.log("NEW PANEL STORE"),d={}):d=JSON.parse(d);d[a]={x:c.x,y:c.y};r.localStorage.setItem("panelStore",JSON.stringify(d))};T.O7=function(){return r.localStorage.getItem("panelStore")};
T.dE=function(a){if(U.kc("maps")){if(a){var c=JSON.parse(r.localStorage.getItem("map_data"));return c[a]?c[a]:null}}else return[]};T.JN=function(a,c){U.Gm("maps",c);r.localStorage.setItem("map_data",JSON.stringify(a))};T.IT=function(a,c,d){var e=U.kc("maps")?JSON.parse(r.localStorage.getItem("map_data")):[];e[a]=c;T.JN(e,d)};T.zV=function(){if(U.kc("scripts")){if(""!=r.localStorage.getItem("scripts_data"))var a=JSON.parse(r.localStorage.getItem("scripts_data"));return a?a:[]}return[]};
T.PN=function(a,c){U.Gm("scripts",c);r.localStorage.setItem("scripts_data",JSON.stringify(a))};T.OT=function(a,c,d){var e=U.kc("scripts")?""!=r.localStorage.getItem("scripts_data")?JSON.parse(r.localStorage.getItem("scripts_data")):[]:[];e[a]=c;T.PN(e,d)};T.hV=function(){if(U.kc("items")){if(""!=r.localStorage.getItem("items_data"))var a=JSON.parse(r.localStorage.getItem("items_data"));return a?a:[]}return[]};T.Lu=function(a,c){U.Gm("items",c);r.localStorage.setItem("items_data",JSON.stringify(a))};
T.HT=function(a,c,d){var e=U.kc("items")?""!=r.localStorage.getItem("items_data")?JSON.parse(r.localStorage.getItem("items_data")):[]:[];e[a]=c;T.Lu(e,d)};T.SX=function(a,c){itemsarray=a;T.Lu(itemsarray,c)};T.CV=function(){if(U.kc("skills")){if(""!=r.localStorage.getItem("skills_data"))var a=JSON.parse(r.localStorage.getItem("skills_data"));return a?a:[]}return[]};T.aG=function(a,c){U.Gm("skills",c);r.localStorage.setItem("skills_data",JSON.stringify(a))};
T.QT=function(a,c,d){var e=U.kc("skills")?""!=r.localStorage.getItem("skills_data")?JSON.parse(r.localStorage.getItem("skills_data")):[]:[];e[a]=c;T.aG(e,d)};T.WX=function(a,c){skillarray=a;T.aG(skillarray,c)};T.nV=function(){if(U.kc("npcs")){if(""!=r.localStorage.getItem("npcs_data"))var a=JSON.parse(r.localStorage.getItem("npcs_data"));return a?a:[]}return[]};T.LN=function(a,c){U.Gm("npcs",c);r.localStorage.setItem("npcs_data",JSON.stringify(a))};
T.JT=function(a,c,d){var e=U.kc("npcs")?""!=r.localStorage.getItem("npcs_data")?JSON.parse(r.localStorage.getItem("npcs_data")):[]:[];e[a]=c;T.LN(e,d)};T.TX=function(a,c){npcsarray=a;T.Bea(npcsarray,c)};T.Yk=function(){if(U.kc("quests")){if(""!=r.localStorage.getItem("quests_data"))var a=JSON.parse(r.localStorage.getItem("quests_data"));return a?a:[]}return[]};T.Kz=function(a,c){U.Gm("quests",c);r.localStorage.setItem("quests_data",JSON.stringify(a))};
T.NT=function(a,c,d){var e=U.kc("quests")?""!=r.localStorage.getItem("quests_data")?JSON.parse(r.localStorage.getItem("quests_data")):[]:[];e[a]=c;T.Kz(e,d)};T.UX=function(a,c){questsarray=a;T.Kz(questsarray,c)};T.AV=function(){if(U.kc("shops")){if(""!=r.localStorage.getItem("shops_data"))var a=JSON.parse(r.localStorage.getItem("shops_data"));return a?a:[]}return[]};T.QN=function(a,c){U.Gm("shops",c);r.localStorage.setItem("shops_data",JSON.stringify(a))};
T.PT=function(a,c,d){var e=U.kc("shops")?""!=r.localStorage.getItem("shops_data")?JSON.parse(r.localStorage.getItem("shops_data")):[]:[];e[a]=c;T.Kz(e,d)};T.VX=function(a,c){shopsarray=a;T.QN(shopsarray,c)};T.jE=function(){if(U.kc("settings")){if(""!=r.localStorage.getItem("settings_data"))var a=JSON.parse(r.localStorage.getItem("settings_data"));return a?a:[]}return[]};T.$F=function(a,c){U.Gm("settings",c);r.localStorage.setItem("settings_data",JSON.stringify(a))};
T.jO=function(){r.localStorage.setItem("map_data",[]);r.localStorage.setItem("last_maps",2);r.localStorage.setItem("items_data",[]);r.localStorage.setItem("last_items",2);r.localStorage.setItem("skills_data",[]);r.localStorage.setItem("last_skills",2);r.localStorage.setItem("npcs_data",[]);r.localStorage.setItem("last_npcs",2);r.localStorage.setItem("quests_data",[]);r.localStorage.setItem("last_quests",2);r.localStorage.setItem("shops_data",[]);r.localStorage.setItem("last_shops",2);r.localStorage.setItem("settings_data",
[]);r.localStorage.setItem("last_settings",2);r.localStorage.setItem("scripts_data",[]);r.localStorage.setItem("last_scripts",2);r.localStorage.setItem("panelStore",null)};
T.vP=function(){sendToServer("syncMessage",{mapupdate:null!=U.kc("maps")?U.kc("maps"):2,itemupdate:null!=U.kc("items")?U.kc("items"):2,skillsupdate:null!=U.kc("skills")?U.kc("skills"):2,npcsupdate:null!=U.kc("npcs")?U.kc("npcs"):2,questsupdate:null!=U.kc("quests")?U.kc("quests"):2,shopsupdate:null!=U.kc("shops")?U.kc("shops"):2,settingsupdate:null!=U.kc("settings")?U.kc("settings"):2,scriptsupdate:null!=U.kc("scripts")?U.kc("scripts"):2})};
T.Dca=function(a){1!=a&&0!=a||r.localStorage.setItem("mapedit_saveonexit",a)};T.j7=function(){return null==r.localStorage.getItem("mapedit_saveonexit")?!1:r.localStorage.getItem("mapedit_saveonexit")};T.MZ=function(a,c){r.localStorage.setItem("savedcredentials",JSON.stringify({user:a,pass:c}))};T.tM=function(a){r.localStorage.setItem("autologin",JSON.stringify(a))};T.gL=function(){var a=r.localStorage.getItem("autologin");return null!=a?JSON.parse(a):!1};
T.kL=function(){return r.localStorage.getItem("savedcredentials")?!0:!1};T.GV=function(){var a=r.localStorage.getItem("savedcredentials");return a?JSON.parse(a):!1};ListView=q.yi.extend({lm:null,g:null,Ct:null,Oy:!1,Ib:null,bg:null,yN:null,dF:function(){if(this.g){this.bg&&(this.bg.N(),this.Ib.N());var a=this.g.tb();a.height<this.g.c().height&&(a=this.g.c(),this.Oy=!0);this.lm=[];for(var c=0,d=0;d<this.g.pb();d++){var e=this.g.xb(d),c=c+e.height;this.lm[d]=q.Node.create();this.lm[d].G(e);this.lm[d].o(q.a(0,a.height-c));this.lm[d].A(q.a(0,1));this.e(this.lm[d]);this.lm[d].e(this.g.wb(d))}this.nj(-300);this.FF(0);0==this.Oy&&(this.bg=q.B.create(),this.bg.hb(q.rect(0,
0,1,this.g.c().height)),this.bg.n(q.l(0,0,0,255)),this.bg.A(q.a(0,0)),this.bg.o(q.a(this.g.c().width+20,0)),this.Ib=q.B.create(),this.Ib.A(q.a(0,0)),a=60,60>this.g.c().height&&(a=20),this.Ib.hb(q.rect(0,0,20,a)),this.Ib.n(q.l(90,90,255,255)),this.Ib.o(q.a(this.g.c().width+10,0)),this.g.e(this.bg),this.g.e(this.Ib),this.Em(q.a(0,this.ju().y),!1));this.g.o(this.yN)}},w:function(a){this.g=a;this.A(q.a(0,0));this.yN=q.a(a.v.R,a.v.S);this.Sq(this.g.c(),this.g);this.zM(q.xr);this.PY(!1);a=this.g.tb();var c=
q.Node.create();c.G(a);this.TY(c)},zb:function(a){this.Ct=a},jF:!1,hz:null,kb:function(a){if(!this.g.ld)return!1;for(var c=0;c<this.g.pb();c++)this.g.ld(c).n(q.l(255,255,255,255));this.g.ld(a).n(q.l(255,0,0,255))},N:function(){this.Ib&&this.Ib.N();this._super()},yb:function(a){for(var c=a.W,d=0;d<this.g.pb();d++)for(var e in this.Ct[d]){var f=this.lm[d].Ca(c),g=this.g.Ca(c);g.x+=this.g.v.R;E(this.g,g);if(E(this.Ct[d][e],f))return this.g.Ma(this.Ct[d][e].Ha,d,a,this.Ct[d][e]),this.jF=!0}if(0==this.Oy){a=
this.g.Ca(c);if(E(this.Ib,a))return this.hz=a.y-this.Ib.v.S,!0;this.hz=null}},Cd:function(a){if(1==this.jF)return this.jF=!1;if(0==this.Oy){var c=a.W;if(null!=this.hz&&(c=this.g.Ca(c),c.y-=this.hz,0<=c.y&&c.y+this.Ib.c().height<=this.g.c().height))return a=c.y/(this.bg.c().height-this.Ib.c().height),this.Em(q.a(0,this.xo().y*a),!1),this.Ib.od(c.y),!0;c=this._super(a);a=this.sK().y/this.xo().y;this.Ib.od((this.bg.c().height-this.Ib.c().height)*a);return c}}});
ListView.create=function(a){var c=new ListView;c.w(a);c.dF();return c};var xa=q.Node.extend({Ue:null,Ve:null,ph:null,Xe:null,Ye:null,Ze:null,item:null,th:null,Pe:null,Qe:null,Re:null,position:null,string:null,type:null,Xc:null,ctor:function(){this._super()},w:function(){this._super();this.string=q.O.create("","Arial",16);this.string.A(.5,.5);this.string.o(16,-16);this.string.ua(0);this.string.n(q.j(0,0,0));this.e(this.string,900);this.th=[]},tJ:function(a,c){c||(c=1);var d=ObjectLists.Zb()[a];d&&(this.Hm(d.sprite.texture,d.sprite.position,"item"),this.th.push({Qd:a,
Ic:c}))},removeItem:function(){0<this.th.length&&this.th.splice(this.th.length-1,1);if(0<this.th.length){var a=ObjectLists.Zb()[this.th[this.th.length-1].Qd];this.Hm(a.sprite.texture,a.sprite.position,"item")}else this.item.N(),this.item=null},qo:function(){return 0==this.th.length?null:this.th[this.th.length-1]},Hm:function(a,c,d){a=q.B.cb(q.da.f().pa(a));a.hb(q.rect(Math.floor(K*c.x),Math.floor(K*c.y),K,K));a.n(q.l(255,255,255,255));a.A(0,1);switch(d){case "ground1":null!=this.Ue&&this.Ue.N();this.Ue=
a;this.e(this.Ue);break;case "ground2":null!=this.Ve&&this.Ve.N();this.Ve=a;this.e(this.Ve,1);break;case "ground3":null!=this.ph&&this.ph.N();this.ph=a;this.e(this.ph,2);break;case "mask1":null!=this.Xe&&this.Xe.N();this.Xe=a;this.e(this.Xe,3);break;case "mask2":null!=this.Ye&&this.Ye.N();this.Ye=a;this.e(this.Ye,4);break;case "mask3":null!=this.Ze&&this.Ze.N();this.Ze=a;this.e(this.Ze,5);break;case "item":null!=this.item&&this.item.N();this.item=a;this.e(this.item,6);break;case "fringe1":null!=this.Pe&&
this.Pe.N();this.Pe=a;this.e(this.Pe,7);break;case "fringe2":null!=this.Qe&&this.Qe.N();this.Qe=a;this.e(this.Qe,8);break;case "fringe3":null!=this.Re&&this.Re.N(),this.Re=a,this.e(this.Re,10)}},rh:function(){var a=!0;null!=this.Ue&&this.Ue.ha()&&0==this.Ue.ha().fd?a=!1:null!=this.Ve&&this.Ve.ha()&&0==this.Ve.ha().fd?a=!1:null!=this.ph&&this.ph.ha()&&0==this.ph.K8?a=!1:null!=this.Xe&&this.Xe.ha()&&0==this.Xe.ha().fd?a=!1:null!=this.Ye&&this.Ye.ha()&&0==this.Ye.ha().fd?a=!1:null!=this.Ze&&this.Ze.ha()&&
0==this.Ze.ha().fd?a=!1:null!=this.item&&this.item.ha()&&0==this.item.ha().fd?a=!1:null!=this.Pe&&this.Pe.ha()&&0==this.Pe.ha().fd?a=!1:null!=this.Qe&&this.Qe.ha()&&0==this.Qe.ha().fd?a=!1:null!=this.Re&&this.Re.ha()&&0==this.Re.ha().fd&&(a=!1);return a},xf:function(){null!=this.Ue&&this.Ue.N();this.Ue=null;null!=this.Ve&&this.Ve.N();this.Ve=null;null!=this.ph&&this.ph.N();this.ph=null;null!=this.Xe&&this.Xe.N();this.Xe=null;null!=this.Ye&&this.Ye.N();this.Ye=null;null!=this.Ze&&this.Ze.N();this.Ze=
null;null!=this.item&&this.item.N();this.item=null;this.th=[];null!=this.Pe&&this.Pe.N();this.Pe=null;null!=this.Qe&&this.Qe.N();this.Qe=null;null!=this.Re&&this.Re.N();this.Xc=this.Re=null},TD:function(a){switch(a){case "ground1":null!=this.Ue&&this.Ue.N();this.Ue=null;break;case "ground2":null!=this.Ve&&this.Ve.N();this.Ve=null;break;case "ground3":null!=this.ph&&this.ph.N();this.ph=null;break;case "mask1":null!=this.Xe&&this.Xe.N();this.Xe=null;break;case "mask2":null!=this.Ye&&this.Ye.N();this.Ye=
null;break;case "mask3":null!=this.Ze&&this.Ze.N();this.Ze=null;break;case "item":null!=this.item&&this.item.N();this.item=null;this.th=[];break;case "fringe1":null!=this.Pe&&this.Pe.N();this.Pe=null;break;case "fringe2":null!=this.Qe&&this.Qe.N();this.Qe=null;break;case "fringe3":null!=this.Re&&this.Re.N(),this.Re=null}},zF:function(a){if(!c)var c=!1;this.Xc=a;ObjectLists.zf()[a]?this.string.ia(ObjectLists.zf()[a].abbr):this.string.ia("_")},yU:function(){this.Xc=null;this.string.ia("")},hi:function(){return ObjectLists.zf()[this.Xc]},
n8:function(){return this.Xc},RZ:function(a){this.string.ua(1==a?255:0)}});xa.cA=function(a){var c=new xa;c.w();c.position=q.a(a.x,a.y);return c};StatsController=q.B.extend({data:null,Ly:null,g:null,w:function(a,c){this.data=a;this.g=c;this.BY()},update:function(){for(var a in this.data)this.Ly&&(0==this.data[a].value&&0<this.Ly[a]&&this.g.Rda(a),this.data[a].md>this.Ly[a].md&&this.g.Tda(a)),this.Ly[a]=this.data[a]},C8:function(a){return this.data[a].value},B8:function(a){return this.data[a].md},S$:function(a,c){this.data[a].value+=c;this.data[a].value>this.data[a].Dg&&(this.data[a].value=this.data[a].Dg);0>this.data[a].value&&(this.data[a].value=
0)},RT:function(a,c){this.data[a].value=c;this.data[a].value>this.data[a].Dg&&(this.data[a].value=this.data[a].Dg);0>this.data[a].value&&(this.data[a].value=0)},R$:function(a,c){this.data[a].md+=c;this.data[a].md>this.data[a].Cg&&(this.data[a].md=this.data[a].Cg);0>this.data[a].md&&(this.data[a].md=0)},RT:function(a,c){this.data[a].md=c;this.data[a].md>this.data[a].Cg&&(this.data[a].md=this.data[a].Cg);0>this.data[a].md&&(this.data[a].md=0)},C4:function(a,c){this.data[a].Cg=c},D4:function(a,c){this.data[a].Dg=
c}});ObjectLists=q.Ka.extend({IE:null,MF:null,ME:null,XE:null,nF:null,KF:null});var V;ObjectLists.f=function(){V||(V=new ObjectLists,V.IE=T.hV(),V.MF=T.CV(),V.ME=T.nV(),V.XE=T.Yk(),V.nF=T.zV(),V.KF=T.AV());return V};ObjectLists.Zb=function(){return V.IE};ObjectLists.jZ=function(a){V.IE=a};ObjectLists.Zk=function(){return V.MF};ObjectLists.QZ=function(a){V.MF=a};ObjectLists.Lq=function(){return V.ME};ObjectLists.rZ=function(a){V.ME=a};ObjectLists.Ut=function(){return V.XE};
ObjectLists.IZ=function(a){V.XE=a};ObjectLists.zf=function(){return V.nF};ObjectLists.OZ=function(a){V.nF=a};ObjectLists.Oq=function(){return V.KF};ObjectLists.PZ=function(a){V.KF=a};gameMapInstance=null;
var S=q.ad.extend({ib:null,K:null,sh:!1,fg:null,$f:null,Do:null,so:null,qm:null,nm:null,om:null,pm:null,gj:null,fj:null,Z:q.a(0,0),am:1,li:null,mi:null,eu:function(a){if("string"===typeof a){if(0==this.K[a].Xc)return!0;a=this.K[a].hi()}else{if(0==a.Xc)return!0;a=a.hi()}if(a)for(var c=["Will Enter","On Enter"],d=0;d<a.data.length;d++)if(-1<c.indexOf(a.data[d].type)&&Ha(a.data[d].requirements))for(var e=a.data[d].responses,f=0;f<e.length;f++)if("Block Entry"==e[f].type)return!0;return!1},BW:function(a){if("string"===
typeof a){if(0==this.K[a].Xc)return!1;a=this.K[a].hi()}else{if(0==a.Xc)return!1;a=a.hi()}if(a)for(var c=["Interact On","Interact Facing"],d=0;d<a.data.length;d++)if(-1<c.indexOf(a.data[d].type)&&Ha(a.data[d].requirements))for(var e=a.data[d].responses,f=0;f<e.length;f++)if("Show Sign"==e[f].type)return!0;return!1},zW:function(a){if(a=ObjectLists.zf()[a.Xc])for(var c=["Default Event"],d=0;d<a.data.length;d++)if(-1<c.indexOf(a.data[d].type)&&Ha(a.data[d].requirements))for(var e=a.data[d].responses,
f=0;f<e.length;f++)if("Talk"==e[f].type)return!0;return!1},Mt:function(a,c){function d(a,c){return{iP:a,value:c.x+c.y*M,x:c.x,y:c.y,qy:0,r:0}}function e(a,c){var d=c-1,e=c+1,g=a+1,h=a-1,k=-1<d&&f.K["tile"+Fa(a,d)]&&!f.eu("tile"+Fa(a,d));myS=e<M&&f.K["tile"+Fa(a,e)]&&!f.eu("tile"+Fa(a,e));myE=g<M&&f.K["tile"+Fa(g,c)]&&!f.eu("tile"+Fa(g,c));myW=-1<h&&f.K["tile"+Fa(h,c)]&&!f.eu("tile"+Fa(h,c));result=[];k&&result.push({x:a,y:d});myE&&result.push({x:g,y:c});myS&&result.push({x:a,y:e});myW&&result.push({x:h,
y:c});return result}for(var f=this,g=d(null,c),h,k,l,m,p,w=[],v=[],x=[d(null,a)],z=Array(L*M);h=x.length;){k=L*M;l=-1;for(m=0;m<h;m++)x[m].qy<k&&(k=x[m].qy,l=m);k=x.splice(l,1)[0];if(k.value===g.value){l=v[v.push(k)-1];do w.push(q.a(l.x,l.y));while(l=l.iP);z=v=x=[];w.reverse()}else{h=e(k.x,k.y);m=0;for(p=h.length;m<p;m++)l=d(k,h[m]),z[l.value]||(l.r=k.r+(Math.abs(h[m].x-k.x)+Math.abs(h[m].y-k.y)),l.qy=l.r+(Math.abs(h[m].x-g.x)+Math.abs(h[m].y-g.y)),x.push(l),z[l.value]=!0);v.push(k)}}return w},sm:function(){var a=
!0,c;for(c in y)isAudioLoading(y[c])&&(a=!1);a&&(stopBackgroundMusic(),this.fc(this.sm),null!=this.li&&"undefined"!==this.li&&playBackgroundMusic(y[this.li],!0))},b_:function(a){var c=!1,d;for(d in y)if(isAudioLoading(y[d])){this.Db(this.sm);c=!0;break}this.ib={};this.ib.mapdata={};for(d in this.K)"tile"==d.substring(0,4)&&(this.K[d].xf(),this.ib[d]={});if(a){if(a.mapdata){null!=a.mapdata.mapMusic&&"undefined"!==a.mapdata.mapMusic?(this.li==a.mapdata.mapMusic?this.fc(this.sm):(stopBackgroundMusic(),
0==c&&null!=a.mapdata.mapMusic&&"undefined"!==a.mapdata.mapMusic&&playBackgroundMusic(y[a.mapdata.mapMusic],!0)),this.li=a.mapdata.mapMusic):(this.li=null,stopBackgroundMusic());a.mapdata.mapName||(a.mapdata.mapName="");this.mi.ia(a.mapdata.mapName);this.qm=""!=a.mapdata.mapConnectors.up&&null!=a.mapdata.mapConnectors.up?a.mapdata.mapConnectors.up:null;this.nm=""!=a.mapdata.mapConnectors.down&&null!=a.mapdata.mapConnectors.down?a.mapdata.mapConnectors.down:null;this.om=""!=a.mapdata.mapConnectors.left&&
null!=a.mapdata.mapConnectors.left?a.mapdata.mapConnectors.left:null;this.pm=""!=a.mapdata.mapConnectors.right&&null!=a.mapdata.mapConnectors.right?a.mapdata.mapConnectors.right:null;if(gameMapInstance.gj!=a.mapdata.mapConnectors.width||gameMapInstance.fj!=a.mapdata.mapConnectors.height){M=a.mapdata.mapConnectors.width;L=a.mapdata.mapConnectors.height;Ea();gameMapInstance.K.N();c=0;for(d in gameMapInstance.ib)"mapdata"!=d&&c++;if(c>M*L)for(d=M*L;d<c;d++)delete gameMapInstance.ib["tile"+d];for(d=0;d<
M*L;d++)gameMapInstance.ib["tile"+d]||(gameMapInstance.ib["tile"+d]={})}this.gj=""!=a.mapdata.mapConnectors.width&&null!=a.mapdata.mapConnectors.width?a.mapdata.mapConnectors.width:36;this.fj=""!=a.mapdata.mapConnectors.height&&null!=a.mapdata.mapConnectors.height?a.mapdata.mapConnectors.height:36;O&&O.q.F&&(c=O.q.F.Yb(),c.y>this.fj&&(O.q.F.od(K*this.fj),O.q.F.pc=!1),c.x>this.gj-1&&(O.q.F.Qb(K*(this.gj-1)),O.q.F.pc=!1));this.K.N();this.fg.N();this.$f.N();this.Do.N();this.K=va(this);this.e(this.K);
this.fg=q.Bb.create(I.width,I.height);this.fg.o(q.a(Math.floor(I.width/2),Math.floor(I.height/2)));this.e(this.fg);this.e(this.Do);this.$f=q.Bb.create(I.width,I.height);this.$f.o(q.a(Math.floor(I.width/2),Math.floor(I.height/2)));this.e(this.$f);this.mi.N();H.e(this.mi)}this.ib=a;for(d in a)if("tile"==d.substring(0,4))for(var e in a[d])"info"!=e?null!=a[d][e]&&this.K[d]&&this.K[d].Hm(a[d][e].texture,a[d][e].frame,e):null!=a[d][e].script&&"undefined"!==a[d][e].script&&this.K[d]&&(this.K[d].zF(a[d][e].script),
Q("On Game load",this.K[d],"Tile"))}O&&O.q.F&&(a=O.q.F.Yb(),S.ro(a.x*K,a.y*K),this.Db(this.ZE),H.YF(),R.update())},Jm:function(a){var c=!1,d;for(d in y)if(isAudioLoading(y[d])){this.Db(this.sm);c=!0;break}var e=T.dE(a);this.ib={};this.ib.mapdata={};for(d in this.K)"tile"==d.substring(0,4)&&(this.K[d].xf(),this.ib[d]={});if(e){if(e.mapdata){null!=e.mapdata.mapMusic&&"undefined"!==e.mapdata.mapMusic?(this.li==e.mapdata.mapMusic?this.fc(this.sm):(stopBackgroundMusic(),0==c&&null!=e.mapdata.mapMusic&&
"undefined"!==e.mapdata.mapMusic&&playBackgroundMusic(y[e.mapdata.mapMusic],!0)),this.li=e.mapdata.mapMusic):(this.li=null,stopBackgroundMusic());e.mapdata.mapName||(e.mapdata.mapName="");this.mi.ia(e.mapdata.mapName);this.qm=""!=e.mapdata.mapConnectors.up&&null!=e.mapdata.mapConnectors.up?e.mapdata.mapConnectors.up:null;this.nm=""!=e.mapdata.mapConnectors.down&&null!=e.mapdata.mapConnectors.down?e.mapdata.mapConnectors.down:null;this.om=""!=e.mapdata.mapConnectors.left&&null!=e.mapdata.mapConnectors.left?
e.mapdata.mapConnectors.left:null;this.pm=""!=e.mapdata.mapConnectors.right&&null!=e.mapdata.mapConnectors.right?e.mapdata.mapConnectors.right:null;if(gameMapInstance.gj!=e.mapdata.mapConnectors.width||gameMapInstance.fj!=e.mapdata.mapConnectors.height){M=e.mapdata.mapConnectors.width;L=e.mapdata.mapConnectors.height;Ea();gameMapInstance.K.N();c=0;for(d in gameMapInstance.ib)"mapdata"!=d&&c++;if(c>M*L)for(d=M*L;d<c;d++)delete gameMapInstance.ib["tile"+d];for(d=0;d<M*L;d++)gameMapInstance.ib["tile"+
d]||(gameMapInstance.ib["tile"+d]={})}this.gj=""!=e.mapdata.mapConnectors.width&&null!=e.mapdata.mapConnectors.width?e.mapdata.mapConnectors.width:36;this.fj=""!=e.mapdata.mapConnectors.height&&null!=e.mapdata.mapConnectors.height?e.mapdata.mapConnectors.height:36;O&&O.q.F&&(c=O.q.F.Yb(),c.y>this.fj&&(O.q.F.od(K*this.fj),O.q.F.pc=!1),c.x>this.gj-1&&(O.q.F.Qb(K*(this.gj-1)),O.q.F.pc=!1));this.K.N();this.fg.N();this.$f.N();this.Do.N();this.K=va(this);this.e(this.K);this.fg=q.Bb.create(I.width,I.height);
this.fg.o(q.a(Math.floor(I.width/2),Math.floor(I.height/2)));this.e(this.fg);this.e(this.Do);this.$f=q.Bb.create(I.width,I.height);this.$f.o(q.a(Math.floor(I.width/2),Math.floor(I.height/2)));this.e(this.$f);this.mi.N();H.e(this.mi)}this.ib=e;for(d in e)if("tile"==d.substring(0,4))for(var f in e[d])"info"!=f?null!=e[d][f]&&this.K[d]&&this.K[d].Hm(e[d][f].texture,e[d][f].frame,f):null!=e[d][f].script&&"undefined"!==e[d][f].script&&this.K[d]&&(this.K[d].zF(e[d][f].script),Q("On Game load",this.K[d],
"Tile"))}O&&O.q.F&&(a=S.Bg(a),d=O.q.F.Yb(),S.ro(d.x*K,(d.y-a.height)*K),this.Db(this.ZE),H.YF(),R.update())},ZE:function(){for(var a in this.K)if("tile"==a.substring(0,4)&&0==this.K[a].rh())return;O.f().H(!0);O.jl();this.fc(this.ZE);this.$f.H(!0);this.fg.H(!0);this.sh=!0},uc:function(){for(var a={},c=0;c<M;c++)for(var d=0;d<L;d++)a["tile"+(c+d*M)]={size:q.size(K,K),i:q.a(0,0),position:q.a(c*K,(L-d)*K),xW:!0,A_:q.a(d,c),visible:!1};return{panels:{children:a}}},w:function(){this.Zc(!0);this.FF(1)},
yb:function(a){!this.so||Editor&&Editor.ea||(this.so=Editor=null);if(this.so)for(var c in this.K)"tile"==c.substring(0,4)&&q.vc(this.K[c].Qc(),q.a(a.W.x-this.Z.x,a.W.y+K-this.Z.y))&&(this.so.DN(this.K,c),S.Mu());else{if(Shop&&Shop.ea||Bank&&Bank.ea)return;for(c in this.K)if("tile"==c.substring(0,4)&&q.vc(this.K[c].Qc(),q.a(a.W.x-this.Z.x,a.W.y+K-this.Z.y))){var d=S.DK(this.K[c].v.R/K,this.K[c].v.S/K),e=this.BW(c);if(this.K[c].qo()){var d=ObjectLists.Zb()[this.K[c].qo().number],f=C["Item Dropdown Pick Up"]+
"",e=C["Item Dropdown Walk To"]+"",f=f.replace("<ITEM>",d.name),e=e.replace("<ITEM>",d.name);this.ea.e(DropDownList.Nb(this,this.EW,[f,e],a.W));this.ae=c}else if(d){if(this.zW(d))var g=C["NPC Dropdown Talk"]+"",g=g.replace("<NPC>",d.name);e=C["NPC Dropdown Walk To"]+"";e=e.replace("<NPC>",d.name);g?this.ea.e(DropDownList.Nb(this,this.EL,[g,e],a.W,null,{Py:d})):this.ea.e(DropDownList.Nb(this,this.EL,[e],a.W));this.ae=c}else e?(e=C["Sign Dropdown list Read"]+"",e=e.replace("<SIGN>",this.K[c].hi().name),
this.ea.e(DropDownList.Nb(this,this.l_,[e],a.W)),this.ae=c):(e=O.q.F.Yb(),O.q.F.yu(this.Mt(q.a(Math.floor(e.x),Math.ceil(e.y)),q.a(this.K[c].v.x/K,this.K[c].v.y/K))))}}return!0},ae:null,EW:function(a){if(null!=this.g.ae){var c=ObjectLists.Zb()[this.g.K[gameMapInstance.ae].qo().number],d=O.q.F.Yb(),e=q.a(gameMapInstance.K[gameMapInstance.ae].v.x/K,gameMapInstance.K[gameMapInstance.ae].v.y/K);switch(a){case 0:a=d.x>e.x?d.x-e.x:e.x-d.x;d=d.y>e.y?d.y-e.y:e.y-d.y;5>Math.sqrt(a*a+d*d)?O.q.F.sW(gameMapInstance.K[gameMapInstance.ae]):
(d=C["Item Out-of-range"]+"",d=d.replace("<ITEM>",c.name),P.jc(d));break;case 1:O.q.F.yu(gameMapInstance.Mt(q.a(Math.floor(d.x),Math.ceil(d.y)),e)),this.g.ae=null}}},EL:function(a,c,d,e){if(null!=this.g.ae)if(c=O.q.F.Yb(),1==d.length)O.q.F.yu(gameMapInstance.Mt(q.a(Math.floor(c.x),Math.ceil(c.y)),itemPosition)),this.g.ae=null;else switch(d=q.a(e.Py.v.x/K,e.Py.v.y/K),a){case 0:a=c.x>d.x?c.x-d.x:d.x-c.x;c=c.y>d.y?c.y-d.y:d.y-c.y;5>Math.sqrt(a*a+c*c)?(Q("Default Event",e.Py,"NPC"),this.g.ae=null):(a=
C["NPC Out-of-range"]+"",a=a.replace("<NPC>",e.Py.name),P.jc(a));break;case 1:O.q.F.yu(gameMapInstance.Mt(q.a(Math.floor(c.x),Math.ceil(c.y)),itemPosition)),this.g.ae=null}},l_:function(a){if(null!=this.g.ae){var c=O.q.F.Yb(),d=q.a(gameMapInstance.K[gameMapInstance.ae].v.x/K,gameMapInstance.K[gameMapInstance.ae].v.y/K);switch(a){case 0:a=c.x>d.x?c.x-d.x:d.x-c.x,c=c.y>d.y?c.y-d.y:d.y-c.y,5>Math.sqrt(a*a+c*c)?(Q("Interact Facing",this.g.K[gameMapInstance.ae],"Tile"),this.g.ae=null):(c=C["Sign Out-of-range"]+
"",c=c.replace("<SIGN>",this.g.K[gameMapInstance.ae].hi().name),P.jc(c))}}},Cd:function(a){if(this.so){for(var c in this.K)"tile"==c.substring(0,4)&&q.vc(this.K[c].Qc(),q.a(a.W.x-this.Z.x,a.W.y+K-this.Z.y))&&(this.so.DN(this.K,c,"moved"),S.Mu());return!0}for(c in this.K)if("tile"==c.substring(0,4)&&q.vc(this.K[c].Qc(),q.a(a.W.x-this.Z.x,a.W.y+K-this.Z.y))){var d=O.q.F.Yb();O.q.F.yu(this.Mt(q.a(Math.floor(d.x),Math.ceil(d.y)),q.a(this.K[c].v.x/K,this.K[c].v.y/K)))}},xa:function(){this._super();if(1==
this.sh){this.fg.LD(0,0,0,0);for(var a in this.K)"tile"==a.substring(0,4)&&(this.K[a].H(!0),null!=this.K[a].Pe&&this.K[a].Pe.H(!1),null!=this.K[a].Qe&&this.K[a].Qe.H(!1),null!=this.K[a].ZD&&this.K[a].ZD.H(!1),null!=this.K[a].Re&&this.K[a].Re.H(!1),this.K[a].xa(),null!=this.K[a].Pe&&this.K[a].Pe.H(!0),null!=this.K[a].Qe&&this.K[a].Qe.H(!0),null!=this.K[a].ZD&&this.K[a].ZD.H(!0),null!=this.K[a].Re&&this.K[a].Re.H(!0),this.K[a].H(!1));this.fg.end();this.$f.LD(0,0,0,0);for(a in this.K)"tile"==a.substring(0,
4)&&(this.K[a].H(!0),null!=this.K[a].Ue&&this.K[a].Ue.H(!1),null!=this.K[a].Ve&&this.K[a].Ve.H(!1),null!=this.K[a].rE&&this.K[a].rE.H(!1),null!=this.K[a].Xe&&this.K[a].Xe.H(!1),null!=this.K[a].Ye&&this.K[a].Ye.H(!1),null!=this.K[a].Ze&&this.K[a].Ze.H(!1),null!=this.K[a].item&&this.K[a].item.H(!1),this.K[a].xa(),null!=this.K[a].Ue&&this.K[a].Ue.H(!0),null!=this.K[a].Ve&&this.K[a].Ve.H(!0),null!=this.K[a].rE&&this.K[a].rE.H(!0),null!=this.K[a].Xe&&this.K[a].Xe.H(!0),null!=this.K[a].Ye&&this.K[a].Ye.H(!0),
null!=this.K[a].Ze&&this.K[a].Ze.H(!0),null!=this.K[a].item&&this.K[a].item.H(!0),this.K[a].H(!1));this.$f.end();this.sh=!1}}});
S.updateOffset=function(a,c){0<=gameMapInstance.Z.x+(I.width-(N.width-W)/2)+a&&O.q.F.v.x<I.width-(N.width-W)/2&&0>=gameMapInstance.Z.x+a&&O.q.F.v.x>(N.width-W)/2&&(gameMapInstance.Z.x+=a);0<=gameMapInstance.Z.y+(I.height-(N.height-X)/2)+c&&O.q.F.v.y<I.height-(N.height-X)/2&&0>=gameMapInstance.Z.y+c&&O.q.F.v.y>(N.height-X)/2&&(gameMapInstance.Z.y+=c);I.height<N.height-X&&(gameMapInstance.Z.y=(N.height-X-I.height)/2);I.width<N.width-W&&(gameMapInstance.Z.x=(N.width-W-I.width)/2);gameMapInstance.o(gameMapInstance.Z.x,
gameMapInstance.Z.y)};
S.ro=function(a,c){a=parseInt(a);c=parseInt(c);1==gameMapInstance.sh?0==offsetFromPositionScheduledX&&0==offsetFromPositionScheduledY&&(offsetFromPositionScheduledX=a,offsetFromPositionScheduledY=c,gameMapInstance.Db(S.qM)):(gameMapInstance.Z.x=a>I.width-(N.width-W)/2?-(I.width-(N.width-W)):a<(N.width-W)/2?0:-(a-(N.width-W)/2),gameMapInstance.Z.y=c>I.height-(N.height-X)/2?-(I.height-(N.height-X)):c<(N.height-X)/2?0:-(c-(N.height-X)/2),offsetFromPositionScheduledY=offsetFromPositionScheduledX=0,gameMapInstance.fc(S.qM),
I.height<N.height-X&&(gameMapInstance.Z.y=(N.height-X-I.height)/2),I.width<N.width-W&&(gameMapInstance.Z.x=(N.width-W-I.width)/2),gameMapInstance.o(gameMapInstance.Z.x,gameMapInstance.Z.y))};offsetFromPositionScheduledY=offsetFromPositionScheduledX=0;S.qM=function(){S.ro(offsetFromPositionScheduledX,offsetFromPositionScheduledY)};
S.pE=function(){1==gameMapInstance.sh?gameMapInstance.Db(S.pE):(gameMapInstance.fc(S.pE),gameMapInstance.Z.x=-(I.width-(N.width-W)),I.height<N.height-X&&(gameMapInstance.Z.y=(N.height-X-I.height)/2),I.width<N.width-W&&(gameMapInstance.Z.x=(N.width-W-I.width)/2),gameMapInstance.o(gameMapInstance.Z.x,gameMapInstance.Z.y))};
S.oE=function(){1==gameMapInstance.sh?gameMapInstance.Db(S.oE):(gameMapInstance.fc(S.oE),gameMapInstance.Z.x=0,I.height<N.height-X&&(gameMapInstance.Z.y=(N.height-X-I.height)/2),I.width<N.width-W&&(gameMapInstance.Z.x=(N.width-W-I.width)/2),gameMapInstance.o(gameMapInstance.Z.x,gameMapInstance.Z.y))};
S.nE=function(){1==gameMapInstance.sh?gameMapInstance.Db(S.nE):(gameMapInstance.fc(S.nE),gameMapInstance.Z.y=-(I.height-(N.height-X)),I.height<N.height-X&&(gameMapInstance.Z.y=(N.height-X-I.height)/2),I.width<N.width-W&&(gameMapInstance.Z.x=(N.width-W-I.width)/2),gameMapInstance.o(gameMapInstance.Z.x,gameMapInstance.Z.y))};
S.qE=function(){1==gameMapInstance.sh?gameMapInstance.Db(S.qE):(gameMapInstance.fc(S.qE),gameMapInstance.Z.y=0,I.height<N.height-X&&(gameMapInstance.Z.y=(N.height-X-I.height)/2),I.width<N.width-W&&(gameMapInstance.Z.x=(N.width-W-I.width)/2),gameMapInstance.o(gameMapInstance.Z.x,gameMapInstance.Z.y))};
S.create=function(){gameMapInstance||(gameMapInstance=new S,gameMapInstance.K=va(gameMapInstance),gameMapInstance.e(gameMapInstance.K),gameMapInstance.fg=q.Bb.create(I.width,I.height),gameMapInstance.fg.o(q.a(Math.floor(I.width/2),Math.floor(I.height/2))),gameMapInstance.e(gameMapInstance.fg),gameMapInstance.fg.H(!1),gameMapInstance.Do=q.Node.create(),gameMapInstance.e(gameMapInstance.Do),gameMapInstance.$f=q.Bb.create(I.width,I.height),gameMapInstance.$f.o(q.a(Math.floor(I.width/2),Math.floor(I.height/
2))),gameMapInstance.e(gameMapInstance.$f),gameMapInstance.$f.H(!1),gameMapInstance.nj(-15),gameMapInstance.mi=q.O.create("MAP NAME","Arial",16),gameMapInstance.mi.o(q.a(N.width/2,N.height-X-50)),gameMapInstance.mi.A(q.a(.5,0)),gameMapInstance.mi.n(q.j(0,0,0)),H.e(gameMapInstance.mi),gameMapInstance.w());return gameMapInstance};S.f=function(){return gameMapInstance};S.tu=function(){gameMapInstance.N();gameMapInstance=null};
S.Mu=function(){gameMapInstance||(gameMapInstance=S.create());gameMapInstance.sh=!0};S.c_=function(a){gameMapInstance.b_(a)};S.f=function(){return gameMapInstance};S.Hm=function(a,c,d,e){gameMapInstance.ib[a]&&(gameMapInstance.K[a].Hm(c,d,e),gameMapInstance.ib[a][e]={texture:c,frame:d})};S.J_=function(){O.UD();sendToServer("saveMapMessage",{savemap:gameMapInstance.am,mapdata:gameMapInstance.ib})};S.TD=function(a,c){gameMapInstance.ib[a][c]=null;gameMapInstance.K[a].TD(c)};
S.UZ=function(a,c){null!=c&&"undefined"!==c&&(gameMapInstance.K[a].zF(c),gameMapInstance.ib[a].info={script:c})};S.JV=function(a){return gameMapInstance.K[a].hi()};S.AU=function(a){gameMapInstance.K[a].yU();gameMapInstance.ib[a].info={script:null}};
S.mZ=function(a){gameMapInstance.ib.mapdata.mapConnectors=a;gameMapInstance.qm=a.up;gameMapInstance.nm=a.down;gameMapInstance.om=a.left;gameMapInstance.pm=a.right;null!=a.mapMusic&&"undefined"!==a.mapMusic?(gameMapInstance.li=a.mapMusic,gameMapInstance.ib.mapdata.mapMusic=a.mapMusic,delete gameMapInstance.ib.mapdata.mapConnectors.mapMusic):(null!=gameMapInstance.ib.mapdata.mapMusic&&"undefined"!==gameMapInstance.ib.mapdata.mapMusic&&delete gameMapInstance.ib.mapdata.mapMusic,gameMapInstance.li=null,
stopBackgroundMusic());null!=a.mapName&&"undefined"!==a.mapName?(gameMapInstance.ib.mapdata.mapName=a.mapName,delete gameMapInstance.ib.mapdata.mapConnectors.mapName):gameMapInstance.ib.mapdata.mapName="";gameMapInstance.mi.ia(gameMapInstance.ib.mapdata.mapName);if(gameMapInstance.gj!=a.width||gameMapInstance.fj!=a.height){M=a.width;L=a.height;Ea();gameMapInstance.K.N();var c=0,d;for(d in gameMapInstance.ib)"mapdata"!=d&&c++;if(c>M*L)for(d=M*L;d<c;d++)delete gameMapInstance.ib["tile"+d];for(d=0;d<
M*L;d++)gameMapInstance.ib["tile"+d]||(gameMapInstance.ib["tile"+d]={})}gameMapInstance.gj=a.width;gameMapInstance.fj=a.height};S.UU=function(a,c,d){for(var e in gameMapInstance.K)"tile"==e.substring(0,4)&&gameMapInstance.ib[e]&&(gameMapInstance.K[e].Hm(a,c,d),gameMapInstance.ib[e][d]={texture:a,frame:c})};S.cN=function(a){for(var c in gameMapInstance.K)"tile"==c.substring(0,4)&&gameMapInstance.K[c].RZ(a);SkillBarsInstance.H(!a);Y.H(!a);gameMapInstance.sh=!0};
S.oda=function(){for(var a in gameMapInstance.K)"tile"==a.substring(0,4)&&gameMapInstance.K[a].string.ia(a.substring(4));gameMapInstance.sh=!0};S.SK=function(){return null!=gameMapInstance.qm};S.PK=function(){return null!=gameMapInstance.nm};S.QK=function(){return null!=gameMapInstance.om};S.RK=function(){return null!=gameMapInstance.pm};S.yf=function(){return gameMapInstance.am};S.hE=function(){return gameMapInstance.qm};S.CK=function(){return gameMapInstance.li};
S.xK=function(){return gameMapInstance.ib.mapdata.mapName?gameMapInstance.ib.mapdata.mapName:""};S.eE=function(){return gameMapInstance.nm};S.fE=function(){return gameMapInstance.om};S.gE=function(){return gameMapInstance.pm};S.yK=function(){return gameMapInstance.gj};S.wK=function(){return gameMapInstance.fj};S.Zt=function(a,c){c||(MapMaster=!1);O.f().H(!1);O.UD();S.xf();gameMapInstance.am=a;O.q.F.gr(a);O.jl();gameMapInstance.Jm(a)};S.RV=function(a){O.UD();S.xf();gameMapInstance.am=a;gameMapInstance.Jm(a)};
S.QV=function(){O.f().H(!1);S.xf();gameMapInstance.am=gameMapInstance.qm;O.q.F.gr(gameMapInstance.qm);O.jl();gameMapInstance.Jm(gameMapInstance.qm)};S.NV=function(){O.f().H(!1);S.xf();gameMapInstance.am=gameMapInstance.nm;O.q.F.gr(gameMapInstance.nm);O.jl();gameMapInstance.Jm(gameMapInstance.nm)};S.OV=function(){O.f().H(!1);S.xf();gameMapInstance.am=gameMapInstance.om;O.q.F.gr(gameMapInstance.om);O.jl();gameMapInstance.Jm(gameMapInstance.om)};
S.Bg=function(a){if(!T.dE(a))return q.size(36,36);a=T.dE(a).mapdata.mapConnectors;return q.size(a.width,a.height)};S.PV=function(){O.f().H(!1);S.xf();gameMapInstance.am=gameMapInstance.pm;O.q.F.gr(gameMapInstance.pm);O.jl();gameMapInstance.Jm(gameMapInstance.pm)};S.fr=function(a){gameMapInstance.so=a};S.po=function(a,c){return a>M-1||0>a?void 0:gameMapInstance.K["tile"+(a+(L-c)*M)]};S.DK=function(a,c){for(var d in O.f().ue){var e=O.f().ue[d].Yb();if(e.x==a&&e.y==c)return O.f().ue[d]}return null};
S.LK=function(a){return gameMapInstance.K["tile"+a]};S.mT=function(){var a=O.f();gameMapInstance.Do.e(a);S.ro(O.q.F.v.R,O.q.F.v.S)};S.xf=function(){gameMapInstance.ib={};for(var a in gameMapInstance.K)"tile"==a.substring(0,4)&&(gameMapInstance.K[a].xf(),gameMapInstance.ib[a]={});gameMapInstance.ib.mapdata={};gameMapInstance.sh=!0};var O=q.ad.extend({q:null,zc:[],ue:[],F:null});O.f=function(){return this.q};O.tu=function(){this.q.N();this.q=null};O.create=function(a){this.q||(this.q=new O,this.q.F=PlayerCharacter.create(a),this.q.e(this.q.F));return this.q};O.$O=function(){var a=S.yf(),c=[],d;for(d in this.q.ue)this.q.ue[d].Fg==a&&c.push(this.q.ue[d]);return c};O.Kq=function(a){return this.q.ue[a]};O.VW=function(a,c,d){this.q.ue[a]&&"default"!=c&&this.q.F.Fg==d&&this.q.ue[a].UN(c)};
O.mY=function(a,c){this.q.ue[a]&&"default"!=c&&this.q.ue[a].o(q.a(c%M*K,Math.floor(c/M)*K))};O.UD=function(){for(var a in this.q.ue)this.q.ue[a].N();this.q.ue=[]};O.gT=function(a,c){var d=S.yf();if(a&&a.sprite){var e=parseInt(this.q.ue.length);this.q.ue.push(NonPlayerCharacter.create({name:a.name,Qo:{health:{md:1,value:100,Dg:200,Cg:900},mana:{md:1,value:100,Dg:200,Cg:99}},map:d,Fu:"sprites1.png",Bu:a.sprite.number,to:e,Xc:a.script}));this.q.ue[e].o(c.x*K,c.y*K);this.q.e(this.q.ue[e])}};O.k9=function(){return this.q.F};
O.Xf=function(a){return this.q.zc[a]};O.lT=function(a){this.q.zc[a.id]=PlayerCharacter.create({name:a.id,Qo:{health:{md:1,value:100,Dg:200,Cg:900},mana:{md:1,value:100,Dg:200,Cg:99}},map:a.location.mapnumber,Fu:"sprites1.png",Bu:1});var c=a.location.position,d=S.Bg(a.location.mapnumber);this.q.zc[a.id].o(c%d.width*K,Math.floor(c/d.width)*K);O.jl();this.q.e(this.q.zc[a.id]);c=C["Join Message"]+"";c=c.replace("<PLAYER>",a.id);P.jc(c)};
O.UJ=function(a){if(this.q.zc[a]){this.q.zc[a].N();this.q.zc[a]=null;var c=C["Leave Message"]+"",c=c.replace("<PLAYER>",a);P.jc(c);for(c=0;c<A.length;c++){var d=JSON.parse(A[c]);d.id&&d.id==a&&(A.splice(c,1),c--)}}};
O.WW=function(a){console.log(a.location.position);if(this.q.zc[a.id])this.q.zc[a.id].UN(a.location.position);else{this.q.zc[a.id]=PlayerCharacter.create({name:a.id,Qo:{health:{md:1,value:100,Dg:200,Cg:900},mana:{md:1,value:100,Dg:200,Cg:99}},map:a.location.mapnumber,Fu:"sprites1.png",Bu:1});var c=a.location.position,d=S.Bg(a.location.mapnumber);this.q.zc[a.id].o(q.a(c%d.width*K,Math.floor(c/d.width)*K));O.jl();this.q.e(this.q.zc[a.id]);c=C["Join Message"]+"";c=c.replace("<PLAYER>",a.id);P.jc(c)}};
O.yX=function(a){if(this.q.zc[a.id]){var c=a.location.position,d=S.Bg(parseInt(a.location.mapnumber));this.q.zc[a.id].o(q.a(c%d.width*K,Math.floor(c/d.width)*K))}else this.q.zc[a.id]=PlayerCharacter.create({name:a.id,Qo:{health:{md:1,value:100,Dg:200,Cg:900},mana:{md:1,value:100,Dg:200,Cg:99}},map:a.location.mapnumber,Fu:"sprites1.png",Bu:1}),this.q.zc[a.id].x$=!1,c=a.location.position,d=S.Bg(a.location.mapnumber),this.q.zc[a.id].o(q.a(c%d.width*K,Math.floor(c/d.width)*K)),O.jl(),this.q.e(this.q.zc[a.id]),
c=C["Join Message"],c=c.replace("<PLAYER>",a.id),P.jc(c)};O.MT=function(a){this.q.zc[a]&&this.q.zc[a].RN("AFK")};O.jl=function(){var a=this.q.F.Fg,c;for(c in this.q.zc)null!=this.q.zc[c]&&this.q.zc[c].H(this.q.zc[c].Fg==a)};O.xf=function(){for(var a in this.q.zc)null!=this.q.zc[a]&&O.UJ(a);this.q.F.N();this.q.F=null};O.KT=function(a,c){this.q.zc[a].gr(c);this.q.zc[a].H(O.q.F.Fg==c)};Character=q.B.extend({name:null,Qo:null,BN:null,b4:null,Hf:null,pc:!1,zo:null,zz:null,$j:!1,to:-1,status:null,Fg:null,path:null,facing:"DOWN",w:function(a){this.TZ(a.Fu,a.Bu);this.Qo=new StatsController(a.Sda,this);this.e(this.Qo);this.name=a.name;a.Xc&&(this.Xc=a.Xc);a.$j&&(this.$j=a.$j);a.map&&(this.Fg=a.map);null!=a.to&&"undefined"!==a.to&&(this.to=a.to);this.A(0,1);this.zo=q.O.create("","Arial",12);this.zo.A(.5,0);this.zo.n(255,0,0);this.zo.o(Math.floor(this.c().width/2),this.c().width+3);this.e(this.zo);
this.MN()},K6:function(){return this.facing},gr:function(a){this.Fg=a},i7:function(){return this.Fg},RN:function(a){this.status=a&&a!=this.status?a:null;this.MN()},MN:function(){null!=this.status?this.zo.ia(this.name+"-"+this.status):this.zo.ia(this.name)},getName:function(){return this.name},eg:function(a,c,d){this.hb(q.rect(a*Da,4*this.BN.id*Da+c*Da,Da,Da));this.zz=q.a(a,c);this.facing=d},ii:function(){return this.zz},TZ:function(a,c){this.BN={name:a,id:c};this.ma(q.da.f().pa(a));this.eg(1,0)},
Yb:function(){return q.a(this.v.x/K,this.v.y/K)},cy:.24,M_:.24,cm:2,tW:function(){if(!this.pc){var a=this.Yb();if(a=S.po(a.x,a.y))a.qo()&&this.tX(a.qo()),a.hi()&&this.name==O.q.F.name&&Q("Interact On",a,"Tile")}},sW:function(a){a&&(this.pc||a&&(a.qo()?this.uX(a.qo(),a):a.hi()&&this.name==O.q.F.name&&Q("Interact On",a,"Tile")))},rW:function(){if(!this.pc){var a=this.Yb();switch(this.facing){case "RIGHT":a.x+=1;break;case "LEFT":--a.x;break;case "UP":a.y+=1;break;case "DOWN":--a.y}var c=S.DK(a.x,a.y);
c?Q("Default Event",c,"NPC"):(a=S.po(a.x,a.y))&&a.hi()&&this.name==O.q.F.name&&Q("Interact Facing",a,"Tile")}},Ru:function(a){this.cy+=a;a=this.v;var c=this.ii();this.cy>this.M_&&(this.cy=0,this.Hf.x<a.x?this.eg((c.x+1)%3,1,"LEFT"):this.Hf.x>a.x?this.eg((c.x+1)%3,2,"RIGHT"):this.Hf.y<a.y?this.eg((c.x+1)%3,0,"DOWN"):this.Hf.y>a.y&&this.eg((c.x+1)%3,3,"UP"));this.Hf.x<a.x?(this.Qb(a.x-this.cm),this.pc=!1,this.$j&&S.updateOffset(+this.cm,0)):this.Hf.x>a.x?(this.Qb(a.x+this.cm),this.pc=!1,this.$j&&S.updateOffset(-this.cm,
0)):this.Hf.y<a.y?(this.od(a.y-this.cm),this.pc=!1,this.$j&&S.updateOffset(0,this.cm)):this.Hf.y>a.y&&(this.od(a.y+this.cm),this.pc=!1,this.$j&&S.updateOffset(0,-this.cm));a.y==this.Hf.y&&a.x==this.Hf.x&&(this.pc=!1,this.My&&this.name==O.q.F.name&&Q("On Leave",S.po(this.My.x,this.My.y),"Tile"),this.My=null,this.name==O.q.F.name&&Q("On Enter",S.po(this.Yb().x,this.Yb().y),"Tile"),this.fc(this.Ru),null!=this.path&&this.EJ())},pr:function(a,c){if(0!=this.Ua){var d=S.po(a,c),e=this.zz,f=this.Yb();f.x>
a?this.eg(e.x,1,"LEFT"):f.x<a&&this.eg(e.x,2,"RIGHT");f.y>c?this.eg(e.x,0,"DOWN"):f.y<c&&this.eg(e.x,3,"UP");d?0==this.pc&&d&&!gameMapInstance.eu(d)&&(this.name==O.q.F.name&&Q("Will Leave",S.po(this.Yb().x,this.Yb().y),"Tile"),this.My=q.a(this.Yb().x,this.Yb().y),this.Hf=q.a(K*a,K*c),this.pc=!0,this.name==O.q.F.name&&Q("Will Enter",S.po(a,c),"Tile"),this.Db(this.Ru),this.Ru(0),this.$j?sendToServer("movePlayerMessage",this.Hf.x/K+this.Hf.y/K*M):-1<this.to&&sendToServer("moveNPCMessage",{npcID:this.to+
"",mapnumber:this.Fg,moveNPC:this.Hf.x/K+this.Hf.y/K*M})):(null==Mapeditor||Mapeditor.ea||(Mapeditor=null),this.$j&&null==Mapeditor&&(f.x<a&&S.RK()?(d=S.Bg(S.gE()),this.o(0,K*c),this.pc=!1,sendToServer("changePlayerMap",{changemap:parseInt(S.gE()),setTo:0+c*d.width}),S.PV(),S.oE()):f.x>a&&S.QK()&&(d=S.Bg(S.fE()),this.o(K*(d.width-1),K*c),this.pc=!1,sendToServer("changePlayerMap",{changemap:parseInt(S.fE()),setTo:d.width-1+c*d.width}),S.OV(),S.pE()),f.y<c&&S.SK()?(d=S.Bg(S.hE()),this.o(K*a,K),this.pc=
!1,senToServer("changePlayerMap",{changemap:parseInt(S.hE()),setTo:a+1*d.width}),S.QV(),S.qE()):f.y>c&&S.PK()&&(d=S.Bg(S.eE()),sendToServer("changePlayerMap",{changemap:parseInt(S.eE()),setTo:a+d.height*d.width}),this.o(K*a,K*d.height),this.pc=!1,S.NV(),S.nE())))}},kM:function(){var a=this.Yb();0<a.x||(a.x=0);0<a.y||(a.y=0);this.o(32*Math.floor(a.x),32*Math.floor(a.y));this.pc=!1},EJ:function(){0==this.path.length?this.path=null:(this.path.splice(0,1),0==this.path.length?this.path=null:this.pr(this.path[0].x,
this.path[0].y))},yu:function(a){if(null==this.path||0!=a.length)this.path=a,this.EJ()},UN:function(a){if(0!=this.Ua){var c=a%M;a=Math.floor(a/M);if(0==this.pc){var d=this.zz,e=this.Yb();4<Math.abs(q.OE(q.a(c,a),e))?(this.o(q.a(K*c,K*a)),this.pc=!1):(e.x>c?this.eg(d.x,1,"LEFT"):e.x<c?this.eg(d.x,2,"RIGHT"):e.y>a?this.eg(d.x,0,"DOWN"):e.y<a&&this.eg(d.x,3,"UP"),this.Hf=q.a(K*c,K*a),this.pc=!0,this.Db(this.Ru),this.Ru(0))}}}});
PlayerCharacter=Character.extend({items:null,co:3,bj:null,vm:null,w:function(a){this._super(a);this.bj=[];this.vm=[];a.co&&(this.co=a.co);this.items={stored:[],equipped:{},bank:[]};if(a.position){var c=S.Bg(a.map),d=a.position%c.width,c=Math.floor(a.position/c.width);this.o(d*K,c*K);this.pc=!1;S.RV(a.map);S.ro(d*K,c*K);this.Fg=a.map}a.eL&&(this.items.stored=a.eL);a.AT&&(this.items.bank=a.AT);a.bj&&(this.bj=a.bj);a.vm&&(this.vm=a.vm);if(a.eK){this.items.equipped=a.eK;for(var e in this.items.equipped)Q("Default Event",
this.items.equipped[e],"Item",{"Equip Item":!0,"Give /Take Item":!0,"Warp Player":!0,"Read Item":!0,"Open/Close Panel":!0,Destroy:!0})}this.UT()},UT:function(){this.bj=[];sendToServer("saveExtrasMessage",{extraData:[],name:this.getName()})},rF:function(a,c){this.bj[a]=c;sendToServer("saveExtrasMessage",{extraData:this.bj,name:this.getName()})},Jq:function(a){return this.bj[a]?this.bj[a]:null},HZ:function(a,c){this.vm[a]=c},Yk:function(a){return this.vm[a]},Lu:function(){Inventory&&Inventory.Ja();
Equipment&&Equipment.Ja()},zJ:function(a){for(var c=0,d=0;72>d;d++)if(!this.items.bank[d]){c=d;break}this.items.bank[c]=a},AJ:function(a){for(var c=0,d=0;d<this.items.stored.length;d++)if(!this.items.stored[d]){c=d;break}this.items.stored[c]=a},sJ:function(a){item=ObjectLists.Zb()[a.Qd];this.Yb();if(1==item.stackable)for(var c=0;40>c;c++)if(this.items.stored[c]&&this.items.stored[c].number==a.Qd){this.items.stored[c].amount+=a.Ic;Inventory&&Inventory.Ch(c,this.items.stored[c].amount);return}for(var d=
!1,c=0;0<a.Ic;c++)if(null==this.items.stored[c])if(1==item.stackable){this.items.stored[c]={number:a.Qd,amount:a.Ic};Inventory&&Inventory.Ch(c,a.Ic);d=!0;break}else a.Ic--,this.items.stored[c]={number:a.Qd,amount:1},Inventory&&Inventory.Ch(c,a.Ic),d=!0;0==d&&P.jc(C["Inventory Full"]);Inventory&&Inventory.Ja();Equipment&&Equipment.Ja()},tX:function(a){item=ObjectLists.Zb()[a.Qd];var c=this.Yb();Q("On Pickup",item,"Item");if(1==item.stackable)for(var d=0;40>d;d++)if(this.items.stored[d]&&this.items.stored[d].number==
a.Qd){this.items.stored[d].amount+=a.Ic;Inventory&&Inventory.Ch(d,this.items.stored[d].amount);a=C["Item Pick Up"];a=a.replace("<ITEM>",item.name);P.jc(a);sendToServer("pickupItemMessage",{index:Fa(c.x,c.y),mapnumber:S.yf()});return}for(var e=!1,d=0;0<a.Ic;d++)if(null==this.items.stored[d])if(1==item.stackable){this.items.stored[d]={number:a.Qd,amount:a.Ic};Inventory&&Inventory.Ch(d,a.Ic);e=!0;break}else a.Ic--,this.items.stored[d]={number:a.Qd,amount:1},Inventory&&Inventory.Ch(d,a.Ic),e=!0;0==e?
P.jc(C["Inventory Full"]):(a=C["Item Pick Up"],a=a.replace("<ITEM>",item.name),P.jc(a),sendToServer("pickupItemMessage",{index:Fa(c.x,c.y),mapnumber:S.yf()}));Inventory&&Inventory.Ja();Equipment&&Equipment.Ja()},uX:function(a,c){item=ObjectLists.Zb()[a.Qd];var d=q.a(c.v.R/K,c.v.S/K);Q("On Pickup",item,"Item");if(1==item.stackable)for(var e=0;40>e;e++)if(this.items.stored[e]&&this.items.stored[e].number==a.Qd){Inventory&&(this.items.stored[e].amount+=a.Ic,Inventory.Ch(e,this.items.stored[e].amount));
e=C["Item Pick Up"];e=e.replace("<ITEM>",item.name);P.jc(e);sendToServer("pickupItemMessage",{index:Fa(d.x,d.y),mapnumber:S.yf()});return}for(var f=!1,e=0;40>e;e++)if(null==this.items.stored[e]){this.items.stored[e]={number:a.Qd,amount:a.Ic};Inventory&&Inventory.Ch(e,a.Ic);e=C["Item Pick Up"];e=e.replace("<ITEM>",item.name);P.jc(e);sendToServer("pickupItemMessage",{index:Fa(d.x,d.y),mapnumber:S.yf()});f=!0;break}0==f&&P.jc(C["Inventory Full"]);Inventory&&Inventory.Ja();Equipment&&Equipment.Ja()},
YD:function(a,c){var d=this.Yb(),e=this.items[c][a],f=ObjectLists.Zb()[e.number];Q("On Drop",f,"Item");if(this.items[c][a]){var g=C["Item Dropped"],g=g.replace("<ITEM>",f.name);P.jc(g);sendToServer("dropItemMessage",{item:e.number,mapnumber:S.yf(),index:Fa(d.x,d.y),amount:e.amount});1==f.stackable&&1<e.amount&&Inventory.Ch(a,0);this.items[c][a]=null}Inventory&&Inventory.Ja();Equipment&&Equipment.Ja();Shop&&Shop.oY()},K_:function(a){Q("Default Event",ObjectLists.Zb()[this.items.stored[a].number],"Item",
{},a)},xU:function(a){for(var c=0;40>c;c++)if(null==this.items.stored[c]){this.items.stored[c]=F(this.items.equipped[a]);this.items.equipped[a]=null;Inventory&&Inventory.Ja();Equipment&&Equipment.Ja();Q("On Dequip",this.items.stored[c],"Item");return}P.jc("No space in inventory to dequip this item.")},ce:function(){return this.items.stored},gm:function(){return this.items.bank},sy:function(){return this.items.equipped}});PlayerCharacter.create=function(a){var c=new PlayerCharacter;c.w(a);return c};
NonPlayerCharacter=Character.extend({P$:null,$y:!1,FZ:function(a,c){this.$y=!0;this.fe(function(){this.pr(a.x,a.y);this.$y=!1},c)},i$:function(){return this.$y}});NonPlayerCharacter.create=function(a){var c=new NonPlayerCharacter;c.w(a);return c};var La=q.ad.extend({lF:null,b:null,ku:function(){},ctor:function(){this._super()},VN:function(){},Po:function(){},ij:function(){},wa:function(){this.b&&this.b.N();this.b=va(this);this.e(this.b)},Ta:function(){},w:function(){this.FF(1);this.xF(!0);this.Zc(!0);B.No(this);this._super()},NE:function(){q.log("Override onKeyDown in scene extended class to use keyboard")},Qy:function(){q.log("Override onKeyUp in scene extended class to use keyboard")},hZ:function(a){this.lF=a},Uc:function(){return this.lF}});DropDownList=La.extend({list:null,iU:null,selected:null,b:null,g:null,RJ:null,XL:null,Km:null,LE:null,ctor:function(){this._super();this.list=[];this.iU=0},w:function(a,c,d,e,f){this._super();a&&(this.g=a,this.RJ=c,d&&(this.list=d),e&&this.o(e),this.SU=f?f:{},this.XL=B.$U(),B.No(this),this.nj(-1001))},yb:function(a){for(var c=this.b.control_menu.Ca(a.W),d=!1,e=0;e<this.list.length;e++)this.Km&&1!=this.Km[e].enabled||!q.vc(q.rect(this.b.control_menu[e+""].v.R,this.b.control_menu[e+""].v.S,this.b.control_menu[e+
""].c().width,this.b.control_menu[e+""].c().height),c)||(d=!0,this.RJ(e,a,this.list,this.SU));0==d&&this.LE&&this.LE(a);this.HX();return!0},HX:function(){B.No(this.XL);this.N();ua()},nY:function(){this.od(this.v.S-24*this.list.length);for(var a=0,c=0;c<this.list.length;c++)this.b.control_menu[c+""].content.c().width>a&&(a=this.b.control_menu[c+""].content.c().width);for(c=0;c<this.list.length;c++)this.b.control_menu[c+""].G(a+8,this.b.control_menu[c+""].c().height);this.b.control_menu.G(a+8,this.b.control_menu.c().height)},
uc:function(){for(var a={},c=0;c<this.list.length;c++)a[c+""]={position:q.a(0,24*(this.list.length-1)-24*c),size:q.size(96,24),i:q.a(0,0),color:q.l(0,0,0,180),children:{content:{label:this.list[c],fontSize:12,color:q.j(255,255,255),i:q.a(0,.5),position:q.a(4,12)}}};return{panels:{children:{control_menu:{position:q.a(0,0),size:q.size(96,24),children:a}}}}},ti:function(a){this.LE=a},lj:function(a){this.b.G(a,this.b.c().height);for(var c=0;c<this.list.length;c++)this.b.control_menu[c+""].G(a,this.b.control_menu[c+
""].c().height)},ij:function(a){a=this.b.control_menu.Ca(a.W);for(var c=0;c<this.list.length;c++){this.b.control_menu[c+""].n(q.l(0,0,0,180));var d=this.Km&&this.Km[c]&&0==this.Km[c].enabled?q.j(100,100,100):q.j(255,255,255);this.b.control_menu[c+""].content.n(d);this.Km&&1!=this.Km[c].enabled||!q.vc(q.rect(this.b.control_menu[c+""].v.R,this.b.control_menu[c+""].v.S,this.b.control_menu[c+""].c().width,this.b.control_menu[c+""].c().height),a)||(this.b.control_menu[c+""].n(q.l(255,255,255,180)),this.b.control_menu[c+
""].content.n(q.j(0,0,0)))}}});DropDownList.Nb=function(a,c,d,e,f,g){var h=new DropDownList;h.w(a,c,d,e,g);h.b=va(h.uc(),!0);if(f){for(a=0;a<h.list.length;a++)0==f[a].enabled&&h.b.control_menu[a+""].content.n(q.l(127,127,127,200));h.Km=f}h.e(h.b);h.nY();return h};Popup=La.extend({ag:null,Af:!1,w:function(){this.lF=this.Uc();this._super();B.No(this);this.nj(-300)},r5:function(){this.N()},yb:function(a){var c=a.W;B.No(this);c=this.b.control_panel.Ca(c);if(q.vc(q.rect(this.b.control_panel.exitBtn.v.R,this.b.control_panel.exitBtn.v.S,this.b.control_panel.exitBtn.c().width,this.b.control_panel.exitBtn.c().height),c)){var d=this;this.ea.fe(function(){0==d.Af&&d.Ta();d.N();d=null});return!0}return q.vc(q.rect(this.b.v.x,this.b.v.y+this.b.control_panel.v.y,this.b.control_panel.c().width,
this.b.control_panel.c().height),a.W)?(this.ag=this.b.Yi(a),!0):!1},Cd:function(a){return this.ag?(a=a.W,this.b.o(a.x-this.ag.x,a.y-this.ag.y),!0):!1},Zf:function(){this.ag&&(this.ag=null);T.zZ(this.Uc(),this.b.v)},Uc:function(){q.log("No id given... using default 'Popup'");return"Popup"}});Book=null;
BookPanel=Popup.extend({name:null,content:null,Hg:null,Uc:function(){return"Book"},uc:function(){return{panels:{position:q.a(100,20),children:{main_panel:{i:q.a(0,0),position:q.a(0,0),size:q.size(514,313),Na:"GUI/book.png",children:{pageBackbtn:{position:q.a(2,1),size:q.size(36,36),Na:"GUI/btnLeft.png",i:q.a(0,0)},pageForwardbtn:{position:q.a(475,1),size:q.size(36,36),Na:"GUI/btnRight.png",i:q.a(0,0)},leftPage:{label:this.Hg[0],i:q.a(0,1),position:q.a(4,308),color:q.j(0,0,0)},rightPage:{label:1<this.Hg.length?
this.Hg[1]:"",i:q.a(0,1),position:q.a(260,308),color:q.j(0,0,0)}}},control_panel:{i:q.a(0,0),position:q.a(0,313),size:q.size(514,32),children:{header:{label:this.name,fontSize:20,i:q.a(0,.5),position:q.a(8,16)},exitBtn:{position:q.a(490,6),size:q.size(20,20),i:q.a(0,0),Na:"GUI/close.png"}}}}}}},w:function(a,c){this._super();this.name=a;this.content=c;this.Hg=[];for(var d=c;d;)if(470>d.length){this.Hg.push(d);break}else this.Hg.push(d.substr(0,470)+"..."),d=d.substr(470);this.rX=Math.floor(this.Hg.length/
2)-1;this.Tj=0},wa:function(){this._super();this.b.main_panel.leftPage.Fa(q.size(248,0));this.b.main_panel.rightPage.Fa(q.size(248,0));this.b.main_panel.pageBackbtn.H(!1);2>this.Hg.length&&this.b.main_panel.pageForwardbtn.H(!1)},SV:function(){this.Tj++;this.b.main_panel.pageBackbtn.H(!0);this.Tj==this.rX&&this.b.main_panel.pageForwardbtn.H(!1);this.b.main_panel.leftPage.ia(this.Hg[2*this.Tj]);this.Hg[2*this.Tj+1]?this.b.main_panel.rightPage.ia(this.Hg[2*this.Tj+1]):this.b.main_panel.rightPage.ia("")},
TV:function(){this.Tj--;this.b.main_panel.pageForwardbtn.H(!0);0==this.Tj&&this.b.main_panel.pageBackbtn.H(!1);this.b.main_panel.leftPage.ia(this.Hg[2*this.Tj]);this.Hg[2*this.Tj+1]&&this.b.main_panel.rightPage.ia(this.Hg[2*this.Tj+1])},yb:function(a){if(this._super(a))return!0;this.ag=null;a=this.b.main_panel.Ca(a.W);if(E(this.b.main_panel.pageForwardbtn,a))return this.SV(),!0;if(E(this.b.main_panel.pageBackbtn,a))return this.TV(),!0}});NpcChat=null;
NpcChatPanel=Popup.extend({name:null,content:null,hy:null,Xc:null,fK:null,FL:null,I:null,Uc:function(){return"Book"},uc:function(){return{panels:{position:q.a(100,20),children:{main_panel:{i:q.a(0,0),position:q.a(0,0),size:q.size(512,138),Na:"GUI/npctalk.png",children:{chatText:{label:this.content?this.content:"",i:q.a(0,1),position:q.a(138,134),color:q.j(0,0,0)},list:{size:q.size(320,80),position:q.a(154,4),i:q.a(0,0)}}},control_panel:{i:q.a(0,0),position:q.a(0,138),size:q.size(512,32),children:{header:{label:this.name?
this.name:"",fontSize:20,i:q.a(0,.5),position:q.a(8,16)},exitBtn:{position:q.a(488,6),size:q.size(20,20),i:q.a(0,0),Na:"GUI/close.png"}}}}}}},nb:function(){this.I&&this.I.Wc();var a=[],c=[];q.da.f();for(var d in this.hy){a[d]=q.Node.create();a[d].G(324,32);var e=q.V.create(q.l(200,200,200,200),300,10);e.o(q.a(12,1));var f=q.O.create(">"+this.hy[d],"Arial",14);f.A(q.a(0,0));f.o(q.a(4,2));f.Fa(q.size(300,0));f.n(q.j(100,0,0));a[d].e(e);e.e(f);a[d].G(324,f.c().height+8);e.G(300,f.c().height+4);e.Ha=
"Use";c.push([e])}this.I=this.b.main_panel.list;var g=this;this.I.tb=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(324,c)};this.I.pb=function(){return a.length};this.I.xb=function(c){return a[c].c()};this.I.wb=function(c){return a[c]};this.I.Ma=function(a,c){switch(a){case "Use":H.bW(),Q("On Talk Option Selected for event:"+g.fK+", option:"+c,g.FL,"NPC")}};this.I.u=ListView.create(this.I);this.I.u.zb(c);this.I.e(this.I.u)},w:function(a,c,d,e,f,g){this._super();this.name=
e;this.content=f;this.Xc=c;this.fK=d;this.FL=a;g&&(this.hy=g)},wa:function(){this._super();this.b.main_panel.chatText.Fa(q.size(350,0));this.hy&&this.nb()},yb:function(a){if(this._super(a))return!0}});Equipment=null;
EquipmentPanel=Popup.extend({Uc:function(){return"Equipment"},uc:function(){var a={};a.head={Na:"GUI/defaultitem.png",position:q.a(88,162),size:q.size(32,32),i:q.a(0,1)};a.legs={Na:"GUI/defaultitem.png",position:q.a(88,82),size:q.size(32,32),i:q.a(0,1)};a.feet={Na:"GUI/defaultitem.png",position:q.a(88,40),size:q.size(32,32),i:q.a(0,1)};a.body={Na:"GUI/defaultitem.png",position:q.a(88,122),size:q.size(32,32),i:q.a(0,1)};a.lArm={Na:"GUI/defaultitem.png",position:q.a(48,122),size:q.size(32,32),i:q.a(0,
1)};a.rArm={Na:"GUI/defaultitem.png",position:q.a(128,122),size:q.size(32,32),i:q.a(0,1)};a.mod={Na:"GUI/defaultitem.png",position:q.a(8,162),size:q.size(32,32),i:q.a(0,1)};return{panels:{position:q.a(100,300),children:{main_panel:{i:q.a(0,0),size:q.size(168,168),Na:"GUI/equipment.png",children:a},control_panel:{i:q.a(0,0),position:q.a(0,168),size:q.size(168,32),children:{header:{label:C["Equipment Header"],fontSize:20,i:q.a(0,.5),position:q.a(8,16)},exitBtn:{position:q.a(144,6),size:q.size(20,20),
i:q.a(0,0),Na:"GUI/close.png"}}},item_name:{position:q.a(0,0),color:q.l(200,200,200,200),size:q.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:q.j(0,0,0),i:q.a(.5,.5),position:q.a(32,8)}}}}}}},Ja:function(){var a=O.q.F.sy();this.b.main_panel.head.ma(q.da.f().pa("GUI/defaultitem.png"));this.b.main_panel.body.ma(q.da.f().pa("GUI/defaultitem.png"));this.b.main_panel.legs.ma(q.da.f().pa("GUI/defaultitem.png"));this.b.main_panel.feet.ma(q.da.f().pa("GUI/defaultitem.png"));this.b.main_panel.lArm.ma(q.da.f().pa("GUI/defaultitem.png"));
this.b.main_panel.rArm.ma(q.da.f().pa("GUI/defaultitem.png"));this.b.main_panel.mod.ma(q.da.f().pa("GUI/defaultitem.png"));for(var c in a)if(a[c]){var d=ObjectLists.Zb()[a[c].number],e;for(e in t)if(t[e].name==d.sprite.texture)var f=t[e].texture;this.b.main_panel[c]&&(this.b.main_panel[c].A(0,1),this.b.main_panel[c].ma(f),this.b.main_panel[c].hb(q.rect(32*d.sprite.position.x,32*d.sprite.position.y,32,32)))}},Ny:function(a){switch(a){case 0:O.q.F.xU(this.g.yc);break;case 1:O.q.F.YD(this.g.yc,"equipped")}},
yb:function(a){if(this._super(a))return!0;this.ag=null;var c=this.b.main_panel.Ca(a.W),d=O.q.F.sy(),e;for(e in d)if(d[e]){var f=ObjectLists.Zb()[d[e].number];if(E(this.b.main_panel[e],q.a(c.x,c.y+32)))return this.yc=e,this.b.item_name.H(!1),c=C["Item Dropdown Unequip"]+"",c=c.replace("<ITEM>",f.name),d=C["Item Dropdown Drop"]+"",d=d.replace("<ITEM>",f.name),this.e(DropDownList.Nb(this,this.Ny,[c,d],a.W)),!0}},ij:function(a){a=this.b.main_panel.Ca(a.W);this.b.item_name.H(!1);var c=O.q.F.sy(),d;for(d in c)if(c[d]){var e=
ObjectLists.Zb()[c[d].number];if(E(this.b.main_panel[d],q.a(a.x,a.y+32)))return this.b.item_name.content.ia(e.name),this.b.item_name.H(!0),this.b.item_name.G(this.b.item_name.content.c()),this.b.item_name.content.Qb(this.b.item_name.content.c().width/2),this.b.item_name.o(q.a(this.b.main_panel[d].v.R-this.b.item_name.content.c().width/2+16,this.b.main_panel[d].v.S)),!0}},Am:function(){this.b.main_panel.head.ha()&&(this.fc(this.Am),this.Ja())},wa:function(){this._super();this.b.main_panel.head.ha()?
this.Ja():this.Db(this.Am)}});Inventory=null;
InventoryPanel=Popup.extend({yc:null,fu:!1,Uc:function(){return"Inventory"},uc:function(){for(var a={},c=0;5>c;c++)for(var d=0;8>d;d++)a[5*d+c+""]={size:q.size(32,32),position:q.a(40*c+8,40*(7-d)+40),Na:"GUI/defaultitem.png",i:q.a(0,1),children:{stacklabelbg:{position:q.a(0,0),size:q.size(10,12),i:q.a(0,0),color:q.l(255,255,255,200),children:{stacklabel:{label:"",fontSize:10,color:q.j(0,0,0),i:q.a(0,0),position:q.a(0,0)}}}}};return{panels:{position:q.a(300,200),children:{main_panel:{i:q.a(0,0),Na:"GUI/inventory.png",
size:q.size(208,328),children:a},control_panel:{i:q.a(0,0),position:q.a(0,328),size:q.size(208,32),children:{header:{label:C["Inventory Header"],fontSize:20,i:q.a(0,.5),position:q.a(8,16)},exitBtn:{position:q.a(184,6),size:q.size(20,20),i:q.a(0,0),Na:"GUI/close.png"}}},item_name:{position:q.a(0,0),color:q.l(200,200,200,200),size:q.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:q.j(0,0,0),i:q.a(.5,.5),position:q.a(32,8)}}}}}}},Ch:function(a,c){this.b.main_panel[a+""].stacklabelbg.H(!1);
1<c&&(this.b.main_panel[a+""].stacklabelbg.H(!0),this.b.main_panel[a+""].stacklabelbg.stacklabel.ia(c),this.b.main_panel[a+""].stacklabelbg.G(this.b.main_panel[a+""].stacklabelbg.stacklabel.c().width,this.b.main_panel[a+""].stacklabelbg.c().height))},Ja:function(){for(var a=O.q.F.ce(),c=0;40>c;c++)if(a[c]){var d=ObjectLists.Zb()[a[c].number],e;for(e in t)if(t[e].name==d.sprite.texture)var f=t[e].texture;this.b.main_panel[c+""].A(0,1);this.b.main_panel[c+""].ma(f);this.b.main_panel[c+""].hb(q.rect(32*
d.sprite.position.x,32*d.sprite.position.y,32,32));this.Ch(c,a[c].amount)}else this.b.main_panel[c+""].ma(q.da.f().pa("GUI/defaultitem.png")),this.Ch(c,0)},Am:function(){this.b.main_panel[pa+""].ha()&&(this.fc(this.Am),this.Ja())},wa:function(){this._super();this.b.main_panel[pa+""].ha()?this.Ja():this.Db(this.Am)},Ny:function(a){switch(a){case 0:1==this.g.fu?O.q.F.K_(this.g.yc):O.q.F.YD(this.g.yc,"stored");break;case 1:O.q.F.YD(this.g.yc,"stored")}this.g.fu=!1},yb:function(a){if(this._super(a))return!0;
this.ag=null;for(var c=this.b.main_panel.Ca(a.W),d=0;40>d;d++)if(O.q.F.ce()[d]&&E(this.b.main_panel[d+""],q.a(c.x,c.y+32))){var e=ObjectLists.Zb()[O.q.F.ce()[d].number],f=[];e.script&&ObjectLists.zf()[e.script]&&(f=ObjectLists.zf()[e.script].data);if(f){for(c=0;c<f.length;c++)if("Default Event"==f[c].type)for(var g="Use Item",h=f[c].responses,k=0;k<h.length;k++)switch(console.log(h[k].type),h[k].type){case "Equip Item":g=C["Item Dropdown Equip"]+"";break;case "Read Item":g=C["Item Dropdown Read"]+
""}f=C["Item Dropdown Drop"]+"";f=f.replace("<ITEM>",e.name);g?(this.fu=!0,g=g.replace("<ITEM>",e.name),this.e(DropDownList.Nb(this,this.Ny,[g,f],a.W))):this.e(DropDownList.Nb(this,this.Ny,[f],a.W));this.yc=d;this.b.item_name.H(!1);return!0}}},ij:function(a){a=this.b.main_panel.Ca(a.W);for(var c=0;40>c;c++)if(O.q.F.ce()[c]&&E(this.b.main_panel[c+""],q.a(a.x,a.y+32)))return this.b.item_name.content.ia(ObjectLists.Zb()[O.q.F.ce()[c].number].name),this.b.item_name.H(!0),this.b.item_name.G(this.b.item_name.content.c()),
this.b.item_name.content.Qb(this.b.item_name.content.c().width/2),this.b.item_name.o(q.a(this.b.main_panel[c+""].v.R-this.b.item_name.content.c().width/2+16,this.b.main_panel[c+""].v.S)),!0}});Bank=null;
BankPanel=Popup.extend({yc:null,fu:!1,Uc:function(){return"Bank"},uc:function(){for(var a={},c={},d=0;5>d;d++)for(var e=0;8>e;e++)a[5*e+d+""]={size:q.size(32,32),position:q.a(40*d+8,40*(7-e)+40),Na:"GUI/defaultitem.png",i:q.a(0,1),children:{stacklabelbg:{position:q.a(1,1),size:q.size(10,6),i:q.a(0,0),color:q.l(255,255,255,200),children:{stacklabel:{label:"",fontSize:10,color:q.j(0,0,0),i:q.a(0,0),position:q.a(0,0)}}}}};for(d=0;9>d;d++)for(e=0;8>e;e++)c[9*e+d+""]={size:q.size(32,32),position:q.a(220+(40*
d+8),40*(7-e)+40),Na:"GUI/defaultitem.png",i:q.a(0,1),children:{stacklabelbg:{position:q.a(1,1),size:q.size(10,6),i:q.a(0,0),color:q.l(255,255,255,200),children:{stacklabel:{label:"",fontSize:10,color:q.j(0,0,0),i:q.a(0,0),position:q.a(0,0)}}}}};return{panels:{position:q.a(300,200),children:{main_panel:{i:q.a(0,0),Na:"GUI/bank.png",size:q.size(590,348),children:{inventory:{children:a},inventory_label:{label:C["Bank Header"],color:q.j(255,255,255),position:q.a(8,324),fontSize:16,i:q.a(0,0)},bank:{children:c},
bank_label:{label:"Stored",color:q.j(255,255,255),position:q.a(228,324),fontSize:16,i:q.a(0,0)}}},control_panel:{i:q.a(0,0),position:q.a(0,348),size:q.size(590,32),children:{header:{label:C["Bank Header"],fontSize:20,i:q.a(0,.5),position:q.a(8,16)},exitBtn:{position:q.a(566,6),size:q.size(20,20),i:q.a(0,0),Na:"GUI/close.png"}}},item_name:{position:q.a(0,0),color:q.l(200,200,200,200),size:q.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:q.j(0,0,0),i:q.a(.5,.5),position:q.a(32,
8)}}}}}}},JM:function(a,c){this.b.main_panel.inventory[a+""].stacklabelbg.H(!1);1<c&&(this.b.main_panel.inventory[a+""].stacklabelbg.H(!0),this.b.main_panel.inventory[a+""].stacklabelbg.stacklabel.ia(c),this.b.main_panel.inventory[a+""].stacklabelbg.G(this.b.main_panel.inventory[a+""].stacklabelbg.stacklabel.c()))},uM:function(a,c){this.b.main_panel.bank[a+""].stacklabelbg.H(!1);1<c&&(this.b.main_panel.bank[a+""].stacklabelbg.H(!0),this.b.main_panel.bank[a+""].stacklabelbg.stacklabel.ia(c),this.b.main_panel.bank[a+
""].stacklabelbg.G(this.b.main_panel.inventory[a+""].stacklabelbg.stacklabel.c()))},Ja:function(){for(var a=O.q.F.ce(),c=O.q.F.gm(),d=0;40>d;d++)if(a[d]){var e=ObjectLists.Zb()[a[d].number],f;for(f in t)if(t[f].name==e.sprite.texture)var g=t[f].texture;this.b.main_panel.inventory[d+""].A(0,1);this.b.main_panel.inventory[d+""].ma(g);this.b.main_panel.inventory[d+""].hb(q.rect(32*e.sprite.position.x,32*e.sprite.position.y,32,32));this.JM(d,a[d].amount)}else this.b.main_panel.inventory[d+""].ma(q.da.f().pa("GUI/defaultitem.png")),
this.JM(d,0);for(d=0;72>d;d++)if(c[d]){e=ObjectLists.Zb()[c[d].number];for(f in t)t[f].name==e.sprite.texture&&(g=t[f].texture);this.b.main_panel.bank[d+""].A(0,1);this.b.main_panel.bank[d+""].ma(g);this.b.main_panel.bank[d+""].hb(q.rect(32*e.sprite.position.x,32*e.sprite.position.y,32,32));this.uM(d,c[d].amount)}else this.b.main_panel.bank[d+""].ma(q.da.f().pa("GUI/defaultitem.png")),this.uM(d,0)},Am:function(){this.b.main_panel.inventory[pa+""].ha()&&(this.fc(this.Am),this.Ja())},wa:function(){this._super();
this.b.main_panel.inventory[pa+""].ha()?this.Ja():this.Db(this.Am)},WN:function(a){0==a&&(a=O.q.F.gm()[this.g.yc],O.q.F.AJ({number:a.number,amount:a.amount}),O.q.F.gm().splice(this.g.yc,1),Inventory&&Inventory.Ja(),Equipment&&Equipment.Ja(),this.g.Ja());this.g.yc=null},TJ:function(a){0==a&&(a=O.q.F.ce()[this.g.yc],O.q.F.zJ({number:a.number,amount:a.amount}),O.q.F.ce().splice(this.g.yc,1),Inventory&&Inventory.Ja(),Equipment&&Equipment.Ja(),this.g.Ja());this.g.yc=null},yb:function(a){if(this._super(a))return!0;
this.ag=null;for(var c=this.b.main_panel.inventory.Ca(a.W),d=!1,e=!1,f=0;40>f;f++)if(!O.q.F.ce()[f]){d=!0;break}for(f=0;72>f;f++)if(!O.q.F.gm()[f]){e=!0;break}for(f=0;40>f;f++)if(O.q.F.ce()[f]){var g=32;if(E(this.b.main_panel.inventory[f+""],q.a(c.x,c.y+g)))return this.e(DropDownList.Nb(this,this.TJ,["Deposit","Cancel"],a.W,[{enabled:d},{enabled:!0}])),this.yc=f,this.b.item_name.H(!1),!0}for(f=0;72>f;f++)if(O.q.F.gm()[f]&&(g=32,E(this.b.main_panel.bank[f+""],q.a(c.x,c.y+g))))return this.e(DropDownList.Nb(this,
this.WN,["Withdraw","Cancel"],a.W,[{enabled:e},{enabled:!0}])),this.yc=f,this.b.item_name.H(!1),!0},ij:function(a){a=this.b.main_panel.inventory.Ca(a.W);for(var c=0;40>c;c++)if(O.q.F.ce()[c]&&E(this.b.main_panel.inventory[c+""],q.a(a.x,a.y+32)))return this.b.item_name.content.ia(ObjectLists.Zb()[O.q.F.ce()[c].number].name),this.b.item_name.H(!0),this.b.item_name.G(this.b.item_name.content.c()),this.b.item_name.content.Qb(this.b.item_name.content.c().width/2),this.b.item_name.o(q.a(this.b.main_panel.inventory[c+
""].v.R-this.b.item_name.content.c().width/2+16,this.b.main_panel.inventory[c+""].v.S)),!0}});Shop=null;
ShopPanel=Popup.extend({yc:null,fu:!1,I:null,vh:null,yh:null,Pb:null,Uf:null,dl:null,pi:null,af:null,Uc:function(){return"Shop"},nb:function(){this.I&&this.I.Wc();for(var a=[],c=[],d=q.da.f(),e=["Buy","Sell"],f=0;f<e.length;f++){a[f]=q.V.create(q.l(0,0,0,0),118,32);var g=q.V.create(q.l(0,0,0,127),118,1);g.o(q.a(0,0));var h=q.O.create(e[f],"Arial",15);h.n(q.j(0,0,0));h.A(q.a(0,0));h.o(q.a(4,4));h.Fa(q.size(90,0));a[f].G(118,h.c().height+8);if(this.Pc==f+1){a[f]=q.V.create(q.l(100,0,0,255),118,h.c().height+
8);var k=q.B.cb(d.pa("GUI/selected.png"));k.o(q.a(94,(h.c().height+8-20)/2));k.A(q.a(0,0));a[f].e(k);h.n(q.j(255,255,255))}a[f].e(g);a[f].e(h);a[f].Ha="Use";c.push([a[f]])}this.I=this.b.main_panel.buyselllist;var l=this;this.I.tb=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(216,c)};this.I.pb=function(){return a.length};this.I.xb=function(c){return a[c].c()};this.I.wb=function(c){return a[c]};this.I.Ma=function(a,c){"Use"==a&&(l.Ff(c+1),l.nb())};this.I.u=ListView.create(this.I);
this.I.u.zb(c);this.I.e(this.I.u)},oY:function(){this.Ff(this.Pc)},Lz:function(){this.yh&&this.yh.Wc();var a=[],c=[];q.da.f();var d=ObjectLists.Zb();this.dl=[];if(1==this.Pc){this.Pb=[];for(var e in d)for(var f in d[e].value)if(d[e].value[f].shopid==this.rN&&d[e].value[f].sell&&0<d[e].value[f].sell.length){this.Pb.push({name:d[e].name,value:d[e].value[f]});this.Uf[this.Pb.length-1]||(this.Uf[this.Pb.length-1]=1);this.dl[this.Pb.length-1]||(this.dl[this.Pb.length-1]=-1);break}}else{d=O.q.F.ce();this.Pb=
[];items=[];gameitems=ObjectLists.Zb();for(e in d)d[e]?(items.push(gameitems[d[e].number]),this.dl[items.length-1]||(this.dl[items.length-1]=d[e].amount)):items.push(null);for(e in items)if(this.Pb.push(null),this.Uf.push(1),items[e])for(f in this.Pb[this.Pb.length-1]={name:items[e].name+(1<this.dl[e]?"("+this.dl[e]+")":"")},items[e].value)if(items[e].value[f].shopid==this.rN&&items[e].value[f].buy&&0<items[e].value[f].buy.length){this.Pb[this.Pb.length-1].value=items[e].value[f];this.Uf[this.Pb.length-
1]=1;break}}d=this.Pb;for(e=0;e<d.length;e++)if(null==d[e])a[e]=q.Node.create(),a[e].G(0,0),c.push([]);else{a[e]=this.af&&this.af[e]&&1==this.af[e]?q.V.create(q.l(255,255,255,127),218,32):q.V.create(q.l(0,0,0,0),218,32);f=q.V.create(q.l(0,0,0,127),218,1);f.o(q.a(0,0));var g=q.O.create(d[e].name,"Arial",15);g.n(q.j(0,0,0));g.A(q.a(0,0));g.o(q.a(4,4));g.Fa(q.size(156,0));if(1==this.af[e]){var h=q.V.create(q.l(255,255,255,255),60,20);h.o(160,(g.c().height+8)/2-10);a[e].e(h);var k=q.O.create("x"+this.Uf[e],
"Arial",14);k.o(4,3);h.Ha="Edit";k.A(q.a(0,0));k.n(q.j(0,0,0));h.e(k)}a[e].G(218,g.c().height+8);a[e].e(f);a[e].e(g);a[e].Ha="Use";1==this.af[e]?c.push([h,a[e]]):c.push([a[e]])}this.yh=this.b.main_panel.sale_list;var l=this;this.yh.tb=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(218,c)};this.yh.pb=function(){return a.length};this.yh.xb=function(c){return a[c].c()};this.yh.wb=function(c){return a[c]};this.yh.Ma=function(a,c,d,e){switch(a){case "Use":l.af?l.af[c]=!l.af[c]:
(l.af=[],l.af[c]=!0);l.Lz();l.Iz();break;case "Edit":l.py=c,l.ym(e)}};this.yh.u=ListView.create(this.yh);this.yh.u.zb(c);this.yh.e(this.yh.u)},ym:function(a){this.eb&&this.Xi();this.eb=new Z(a,q.size(a.c().width,a.c().height),q.a(0,a.c().height),this.Uf[this.py],q.l(100,100,100),q.j(255,255,255),!1,null,this);this.eb.fb(!0);this.Db(this.Wi)},Wi:function(){!ta&&this.eb&&(this.eb.kj(!0),this.fc(this.Wi))},sE:function(){return this.eb?!0:!1},Ku:function(){this.Xi()},Xi:function(){0<parseInt(this.eb.ba())&&
(parseInt(this.eb.ba())<this.dl[this.py]||-1==this.dl[this.py])&&(this.Uf[this.py]=parseInt(this.eb.ba()));this.eb.kj(!1);this.eb.N();this.eb=null;this.Iz();this.Lz()},Iz:function(){this.vh&&this.vh.Wc();var a=[],c=[];q.da.f();for(var d=[],e=[],e=ObjectLists.Zb(),f=F(O.q.F.ce()),g=0;g<f.length;g++)if(f[g])for(var h=g+1;h<f.length;h++)f[h]&&f[g].number==f[h].number&&(f[g].number+=f[h].number,f.splice(h,1));for(h in this.Pb)if(1==this.Pc){if(this.Pb[h]&&this.Pb[h].value)for(var k in this.Pb[h].value.sell)1==
this.af[h]&&d.push({name:e[this.Pb[h].value.sell[k].id].name,Ic:this.Pb[h].value.sell[k].amount*this.Uf[h],Qd:this.Pb[h].value.sell[k].id,ly:l})}else if(this.Pb[h]&&this.Pb[h].value)for(k in this.Pb[h].value.buy)if(1==this.af[h]){var l=!1;d.push({name:e[this.Pb[h].value.buy[k].id].name,Ic:this.Pb[h].value.buy[k].amount*this.Uf[h],Qd:this.Pb[h].value.buy[k].id,ly:l})}d.sort(function(a,c){return a.name>c.name});for(k=0;k<d.length;k++)for(h=k+1;h<d.length;h++)d[k].Qd==d[h].Qd&&(d[k].Ic=parseInt(d[k].Ic)+
parseInt(d[h].Ic),d.splice(h,1),h--);if(1==this.Pc)for(k=0;k<d.length;k++){l=!0;for(h=0;h<f.length;h++)if(f[h]&&f[h].number==d[k].Qd){f[h].amount>=d[k].Ic&&(l=!1);break}d[k].ly=l}e=this.pi=d;this.b.main_panel.confirm_button.H(!0);1>e.length&&this.b.main_panel.confirm_button.H(!1);this.Pb&&!this.oM()?(this.b.main_panel.confirm_button.H(!1),this.b.main_panel.outofspacelabel.H(!0)):this.b.main_panel.outofspacelabel.H(!1);for(k=0;k<e.length;k++)e[k].ly&&1==e[k].ly?(this.b.main_panel.confirm_button.H(!1),
a[k]=q.V.create(q.l(255,80,80,100),158,32)):a[k]=q.V.create(q.l(0,0,0,0),158,32),d=q.V.create(q.l(0,0,0,127),158,1),d.o(q.a(0,0)),h=q.O.create(e[k].name,"Arial",15),h.n(q.j(0,0,0)),h.A(q.a(0,0)),h.o(q.a(4,4)),h.Fa(q.size(90,0)),l=q.O.create("x"+e[k].Ic,"Arial",15),l.n(q.j(0,0,0)),l.A(q.a(0,0)),l.o(q.a(102,4)),l.Fa(q.size(54,0)),a[k].G(158,h.c().height+8),a[k].e(d),a[k].e(h),a[k].e(l),a[k].Ha="Use",c.push([a[k]]);this.vh=this.b.main_panel.offer_list;this.vh.tb=function(){for(var c=0,d=0;d<a.length;d++)c+=
a[d].c().height;return q.size(216,c)};this.vh.pb=function(){return a.length};this.vh.xb=function(c){return a[c].c()};this.vh.wb=function(c){return a[c]};this.vh.Ma=function(){};this.vh.u=ListView.create(this.vh);this.vh.u.zb(c);this.vh.e(this.vh.u)},uc:function(){return{panels:{position:q.a(300,200),children:{main_panel:{i:q.a(0,0),Na:"GUI/shop.png",size:q.size(590,388),children:{buyselllist:{size:q.size(118,386),position:q.a(2,2),i:q.a(0,0)},sale_list:{position:q.a(127,2),size:q.size(218,358)},offer_list:{size:q.size(158,
358),position:q.a(389,1)},inventory_label:{label:"Store Items",color:q.j(255,255,255),position:q.a(138,364),fontSize:16,i:q.a(0,0)},offer_label:{label:"Price",color:q.j(255,255,255),position:q.a(400,364),fontSize:16,i:q.a(0,0)},confirm_button:{size:q.size(64,30),position:q.a(435,8),color:q.j(0,255,0),children:{label:{label:"Confirm",color:q.j(0,0,0),position:q.a(6,8),i:q.a(0,0)}}},outofspacelabel:{label:"Not enough inventory space for transaction.",color:q.j(255,255,255),position:q.a(6,8),i:q.a(0,
0)}}},control_panel:{i:q.a(0,0),position:q.a(0,388),size:q.size(590,32),children:{header:{label:C["Shop Header"],fontSize:20,i:q.a(0,.5),position:q.a(8,16)},exitBtn:{position:q.a(566,6),size:q.size(20,20),i:q.a(0,0),Na:"GUI/close.png"}}}}}}},w:function(a){this._super();this.rN=a},wa:function(){this._super();this.Ff(1);this.nb()},oM:function(){var a=0,c=0,d=O.q.F.ce(),e=0,f;for(f in d)d[f]&&e++;if(1==this.Pc){for(f=0;f<this.Pb.length;f++)1==this.af[f]&&(a+=this.Uf[f]);var g=[];for(f=0;f<this.pi.length;f++)g[this.pi[f].Qd]=
this.pi[f].Ic;for(f=0;f<d.length;f++)d[f]&&g[d[f].number]&&d[f].amount<=g[d[f].number]&&(g[d[f].number]-=d[f].amount,c++)}if(2==this.Pc){for(f=0;f<this.Pb.length;f++)1==this.af[f]&&d[f].amount<=this.Uf[f]&&c++;for(f=0;f<this.pi.length;f++)a+=this.pi[f].Ic}return 40-e>a-c},ZT:function(){var a=ObjectLists.Zb(),c=O.q.F.ce();if(1==this.Pc){for(var d=0;d<this.Pb.length;d++)if(1==this.af[d]){for(var e=0;e<a.length&&a[e].name!=this.Pb[d].name;e++);O.q.F.sJ({number:e,amount:this.Uf[d]})}a=[];for(d=0;d<this.pi.length;d++)a[this.pi[d].Qd]=
this.pi[d].Ic;for(e=0;e<c.length;e++)c[e]&&a[c[e].number]&&(c[e].amount>a[c[e].number]?(c[e].amount-=a[c[e].number],a[c[e].number]=0):c[e].amount<=a[c[e].number]&&(a[c[e].number]-=c[e].amount,c[e]=null));P.jc("PURCHASE COMPLETE")}if(2==this.Pc){for(d=0;d<this.Pb.length;d++)1==this.af[d]&&(c[d].amount>this.Uf[d]?c[d].amount-=this.Uf[d]:c[d]=null);for(d=0;d<this.pi.length;d++)O.q.F.sJ({number:this.pi[d].Qd,amount:this.pi[d].Ic})}Inventory&&Inventory.Ja();this.Lz();this.Iz();this.Pb&&!this.oM()?(this.b.main_panel.confirm_button.H(!1),
this.b.main_panel.outofspacelabel.H(!0)):this.b.main_panel.outofspacelabel.H(!1)},Ff:function(a){this.Pc=a;this.Uf=[];this.af=[];2==a&&(this.b.main_panel.inventory_label.ia("Inventory"),this.b.main_panel.offer_label.ia("Offer"));1==a&&(this.b.main_panel.inventory_label.ia("Store Items"),this.b.main_panel.offer_label.ia("Price"));this.Iz();this.Lz()},WN:function(a){0==a&&(a=O.q.F.gm()[this.g.yc],O.q.F.AJ({number:a.number,amount:a.amount}),O.q.F.gm().splice(this.g.yc,1),Inventory&&Inventory.Ja(),Equipment&&
Equipment.Ja(),this.g.Ja());this.g.yc=null},TJ:function(a){0==a&&(a=O.q.F.ce()[this.g.yc],O.q.F.zJ({number:a.number,amount:a.amount}),O.q.F.ce().splice(this.g.yc,1),Inventory&&Inventory.Ja(),Equipment&&Equipment.Ja(),this.g.Ja());this.g.yc=null},yb:function(a){if(this._super(a))return!0;this.ag=null;a=this.b.main_panel.Ca(a.W);E(this.b.main_panel.confirm_button,a)&&this.ZT()},ij:function(){}});Sign=null;
SignPanel=Popup.extend({title:null,content:null,Uc:function(){return"Sign"},uc:function(){return{panels:{position:q.a(100,300),children:{control_panel:{i:q.a(0,0),size:q.size(128,96),Na:"GUI/signpost.png",children:{content:{label:this.content,fontSize:12,color:q.j(255,255,255),i:q.a(0,1),position:q.a(4,94)},exitBtn:{position:q.a(100,6),size:q.size(20,20),i:q.a(0,0),Na:"GUI/close.png"}}}}}}},w:function(a,c){this._super();this.content=c},wa:function(){this._super();this.b.control_panel.content.Fa(q.size(120,0))}});Quests=null;
QuestsPanel=Popup.extend({I:null,Eh:null,oF:null,Uc:function(){return"Quests"},nb:function(){this.I&&this.I.Wc();for(var a=[],c=[],d=q.da.f(),e=0;e<this.data.length;e++)if(!(null==O.q.F.Yk(e)||"undefined"===O.q.F.Yk(e)&&1>O.q.F.Yk(e))){a[e]=q.V.create(q.l(0,0,0,0),420,32);var f=q.V.create(q.l(0,0,0,127),212,1);f.o(q.a(4,0));var g=q.O.create(this.data[e].name,"Arial",15);g.n(q.j(0,0,0));g.A(q.a(0,0));g.o(q.a(4,4));g.Fa(q.size(216,0));a[e].G(216,g.c().height+8);if(null!=this.oF&&this.oF==e){a[e]=q.V.create(q.l(100,
0,0,255),216,g.c().height+8);var h=q.B.cb(d.pa("GUI/selected.png"));h.o(q.a(192,(g.c().height+8-20)/2));h.A(q.a(0,0));a[e].e(h);g.n(q.j(255,255,255))}a[e].e(f);a[e].e(g);a[e].Ha="Use";c.push([a[e]])}1>a.length&&(a[0]=q.V.create(q.l(0,0,0,0),420,32),f=q.V.create(q.l(0,0,0,127),212,1),f.o(q.a(4,0)),g=q.O.create(C["No Quests"],"Arial",15),g.n(q.j(0,0,0)),g.A(q.a(0,0)),g.o(q.a(4,4)),g.Fa(q.size(216,0)),a[0].G(216,g.c().height+8),a[0].e(g),c.push([]));this.I=this.b.main_panel.list;var k=this;this.I.tb=
function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(216,c)};this.I.pb=function(){return a.length};this.I.xb=function(c){return a[c].c()};this.I.wb=function(c){return a[c]};this.I.Ma=function(a,c){"Use"==a&&(k.oF=c,k.IX(c),k.nb())};this.I.u=ListView.create(this.I);this.I.u.zb(c);this.I.e(this.I.u)},IX:function(a){this.Eh&&this.Eh.Wc();var c=this.data[a].objectiveList,d=[],e=[];q.da.f();if(0<O.q.F.Yk(a))for(var f=0;f<c.length;f++)if(!(O.q.F.Yk(a)<f)){if(0==f)d[f]=q.V.create(q.l(0,
0,0,0),1,1);else if(f==c.length)d[f]=q.V.create(q.l(0,0,0,0),1,1);else{d[f]=q.V.create(q.l(0,0,0,0),208,32);var g=q.V.create(q.l(0,0,0,127),208,1);g.o(q.a(4,0));var h=q.O.create(c[f],"Arial",15);h.n(q.j(0,0,0));h.A(q.a(0,0));h.o(q.a(4,4));h.Fa(q.size(208,0));d[f].G(208,h.c().height+8);O.q.F.Yk(a)>f&&h.ua(200);d[f].e(g);d[f].e(h)}e.push([])}this.Eh=this.b.main_panel.sublist;this.Eh.tb=function(){for(var a=0,c=0;c<d.length;c++)a+=d[c].c().height;return q.size(212,a)};this.Eh.pb=function(){return d.length};
this.Eh.xb=function(a){return d[a].c()};this.Eh.wb=function(a){return d[a]};this.Eh.Ma=function(){};this.Eh.u=ListView.create(this.Eh);this.Eh.u.zb(e);this.Eh.e(this.Eh.u)},uc:function(){return{panels:{position:q.a(300,200),children:{background_image:{Na:"GUI/quest_panel.png",i:q.a(0,0)},main_panel:{i:q.a(0,0),size:q.size(512,328),children:{list:{size:q.size(216,328),color:q.l(0,200,200,0),position:q.a(0,0),i:q.a(0,0)},sublist:{size:q.size(212,328),color:q.l(0,200,200,0),position:q.a(258,0),i:q.a(0,
0)}}},control_panel:{i:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:C["Quest Header"],fontSize:20,i:q.a(0,.5),position:q.a(8,16)},exitBtn:{position:q.a(484,6),size:q.size(20,20),i:q.a(0,0),Na:"GUI/close.png"}}}}}}},Ja:function(){},wa:function(){this._super();this.Ja();this.data=ObjectLists.Ut();this.nb()}});Skills=null;
SkillsPanel=Popup.extend({I:null,Uc:function(){return"Skills"},nb:function(){this.I&&this.I.Wc();var a=[],c=[];q.da.f();var d=0,e=0,f;for(f in this.data){e+=this.data[f].level+1;a[d]=q.Node.create();a[d].G(420,32);var g=q.V.create(q.l(0,0,0,127),316,1);g.o(q.a(4,0));var h=q.O.create("Lvl "+(this.data[f].level+1+this.data[f].modifier)+"/"+(this.data[f].level+1),"Arial",15);h.n(q.j(0,0,0));h.A(q.a(0,0));h.o(q.a(4,4));var k=q.O.create(f,"Arial",15);k.n(q.j(0,0,0));k.A(q.a(.5,0));k.o(q.a(h.c().width+65,
4));var l=q.V.create(q.l(255,255,255,255),144,k.c().height),m=q.V.create(q.l(100,120,200,255),this.data[f].experience/this.data[f].requirement*144,k.c().height);l.e(m);m.A(q.a(0,0));m=q.O.create(this.data[f].experience+"/"+this.data[f].requirement,"Arial",14);m.A(q.a(0,0));m.n(q.j(0,0,0));l.e(m);m.od(1);l.A(q.a(0,0));l.o(q.a(172,4));c.push([]);a[d].e(g);a[d].e(k);a[d].e(h);a[d].e(l);a[d].G(324,k.c().height+8);d++}this.I=this.b.main_panel.list;this.I.tb=function(){for(var c=0,d=0;d<a.length;d++)c+=
a[d].c().height;return q.size(324,c)};this.I.pb=function(){return a.length};this.I.xb=function(c){return a[c].c()};this.I.wb=function(c){return a[c]};this.I.Ma=function(){};this.I.u=ListView.create(this.I);this.I.u.zb(c);this.I.e(this.I.u);this.b.main_panel.character_level.ia("LEVEL: "+e);this.b.main_panel.character_level.Qb(306);this.b.main_panel.character_level.A(q.a(1,0))},uc:function(){return{panels:{position:q.a(300,200),children:{background_image:{Na:"GUI/list_panel.png",i:q.a(0,0)},main_panel:{i:q.a(0,
0),size:q.size(365,328),children:{character_level:{label:"",position:q.a(2,310),i:q.a(0,0),color:q.j(0,0,0)},list:{size:q.size(324,308),color:q.l(0,200,200,200),position:q.a(0,0),i:q.a(0,0)}}},control_panel:{i:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:C["Skills Header"],fontSize:20,i:q.a(0,.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),i:q.a(0,0),Na:"GUI/close.png"}}}}}}},Ja:function(){},wa:function(){this._super();this.Ja();this.data=R.BV();
this.nb()}});
var R=q.ad.extend({dy:[],$c:null,nr:function(){var a=ObjectLists.Zk(),c;for(c in this.dy)this.dy[c].N();this.dy=[];var d=0;for(c=a.length-1;0<=c;c--)if(null!=a[c].healthbar&&""!=a[c].healthbar){var e=this.gU(a[c].name,a[c].healthbar,d);this.e(e);this.dy.push(e);d++}this.o(q.a(2,N.height-X-17*d-2))},gU:function(a,c,d){var e,f;f=c.replace("#","");c=parseInt(f.substring(0,2),16);e=parseInt(f.substring(2,4),16);f=parseInt(f.substring(4,6),16);var g=q.B.create();g.hb(q.rect(0,0,0<this.$c[a].currenthealth?this.$c[a].currenthealth/
this.$c[a].maxhealth*300:1,15));g.n(q.j(c,e,f));g.o(0,-17*(d-1));g.A(q.a(0,0));g.mS(!0);return g}});SkillBarsInstance=null;R.create=function(a){null==SkillBarsInstance&&(SkillBarsInstance=new R,SkillBarsInstance.$c=a,SkillBarsInstance.nr());return SkillBarsInstance};
R.SW=function(a,c){SkillBarsInstance.$c[a].currenthealth+=c;0>SkillBarsInstance.$c[a].currenthealth&&(SkillBarsInstance.$c[a].currenthealth=0);SkillBarsInstance.$c[a].currenthealth>SkillBarsInstance.$c[a].maxhealth&&(SkillBarsInstance.$c[a].currenthealth=SkillBarsInstance.$c[a].maxhealth);SkillBarsInstance.nr();Skills&&Skills.nb()};R.UW=function(a,c){SkillBarsInstance.$c[a].experience+=c;0>SkillBarsInstance.$c[a].experience&&(SkillBarsInstance.$c[a].experience=0);SkillBarsInstance.nr();Skills&&Skills.nb()};
R.TW=function(a,c){SkillBarsInstance.$c[a].modifier+=c;0>SkillBarsInstance.$c[a].modifier&&(SkillBarsInstance.$c[a].modifier=0);SkillBarsInstance.nr();Skills&&Skills.nb()};R.BV=function(){return SkillBarsInstance.$c};R.update=function(){SkillBarsInstance.nr()};ScriptEditor=La.extend({data:null,I:null,sb:null,ak:null,Cf:null,Df:null,U4:null,g:null,$b:null,Oda:null,W4:null,ga:null,k:null,Ro:null,ji:function(){return["Events"]},fi:function(){return["Cancel","Don't Save","Save"]},ui:function(a){switch(a){case 1:this.Af=!0;var c=this.g;this.g.fe(function(){c.Nd(null)});break;case 2:this.data.name=this.$b.ba(),this.b.abbrEntry&&(this.data.abbr=this.ED.ba()),this.Af=!0,this.g.Nd(this.data)}},zm:function(a){sendToServer("saveNewScriptMessage",{savescripts:a+"",
scriptsdata:this.data})},bm:function(a,c){sendToServer("deleteScriptMessage",c)},Uc:function(){return"Scripts"},Ta:function(a){this._super();if(this.g){var c=this.g;1!=a&&this.g.fe(function(){c.Nd(null)})}},w:function(a){this._super();this.nj(-100);this.data={data:[],name:null};this.$b=null;a.data&&(this.data=a.data);a.mF&&(this.data.specifier=a.mF);this.g=a.g},wa:function(){this._super();this.$b=new Z(this.b.name_entry,q.size(this.b.name_entry.c().width,this.b.name_entry.c().height+4),q.a(0,this.b.name_entry.c().height+
4),this.data.name?this.data.name:"",q.l(100,100,100),q.j(0,0,0));this.$b.fb(!0);this.$b.ge();this.b.abbrEntry&&(this.ED=new Z(this.b.abbrEntry,q.size(this.b.abbrEntry.c().width,this.b.abbrEntry.c().height+4),q.a(0,this.b.abbrEntry.c().height+4),this.data.abbr,q.l(255,255,255),q.j(0,0,0)),this.ED.fb(!0),this.ED.ge());this.nb()},nb:function(){this.I&&this.I.Wc();for(var a in this.Cf)this.Cf[a].Wc(),this.Cf[a].N();for(a in this.Df)this.Df[a].Wc(),this.Df[a].N();var c=[],d=[],e=[],f=[],g=[],h=[],k=q.da.f();
this.Cf=[];this.Df=[];for(a=0;a<this.data.data.length;a++){g[a]=[];h[a]=[];d[a]=[];e[a]=[];c[a]=q.Node.create();c[a].G(758,100);var l=q.V.create(q.l(0,0,0,127),750,1);l.o(q.a(4,0));var m=q.V.create(q.l(0,0,0,127),1,100);m.o(q.a(152,0));var p=q.V.create(q.l(0,0,0,127),1,100);p.o(q.a(451,0));var w=this.data.data[a].type;"On Talk Close"==w&&(w+=" ("+this.data.data[a].data.attachedEvent+":"+this.data.data[this.data.data[a].data.attachedEvent].type+")");w=q.O.create(a+": "+w,"Arial",12);w.A(q.a(0,1));
w.o(q.a(4,96));w.Fa(q.size(100,0));var v=q.V.create(q.l(100,100,100,255),259,100);v.G(q.size(259,100));v.Qb(451);v.A(q.a(0,0));c[a].e(v);var x=q.V.create(q.l(100,100,100,255),259,100);x.G(q.size(259,100));x.Qb(152);x.A(q.a(0,0));c[a].e(x);var z=q.B.cb(k.pa("GUI/trash.png"));z.o(q.a(120,4));z.A(q.a(0,0));z.Ha="Delete";c[a].e(z);f.push([z]);for(z=0;z<this.data.data[a].responses.length;z++){d[a].push(q.Node.create());d[a][z].G(259,32);var G=!0,J=q.O.create(z+1+": "+this.data.data[a].responses[z].type,
"Arial",15);J.A(q.a(0,0));J.o(q.a(4,4));J.Fa(q.size(180,0));d[a][z].G(259,J.c().height+8);d[a][z].e(J);J=q.B.cb(k.pa("GUI/trash.png"));J.o(q.a(229,0));J.A(q.a(0,0));J.Ha="Delete";d[a][z].e(J);switch(this.data.data[a].responses[z].type){case "Destroy":case "Attack":case "Run Away":G=!1}G?(G=q.B.cb(k.pa("GUI/edit.png")),G.o(q.a(205,0)),G.A(q.a(0,0)),G.Ha="Edit",d[a][z].e(G),g[a].push([J,G])):g[a].push([J])}z=q.V.create(q.l(70,200,70,255),90,26);G=q.O.create("+","Arial",20);G.o(45,13);G.A(q.a(.5,.5));
z.o(q.a(84.5,0));z.Ha="Add";z.e(G);g[a].push([z]);d[a].push(z);this.Df[a]=x;this.Df[a].identifier=a;var D=this;this.Df[a].tb=function(){for(var a=0,c=0;c<d[this.identifier].length;c++)a+=d[this.identifier][c].c().height;return q.size(259,a)};this.Df[a].pb=function(){return d[this.identifier].length};this.Df[a].xb=function(a){return d[this.identifier][a].c()};this.Df[a].wb=function(a){return d[this.identifier][a]};this.Df[a].Ma=function(a,c,d){D.Ca(d.W);if(null==D.k)switch(a){case "Delete":D.ea.e(DropDownList.Nb(D,
D.sU,["Cancel","Delete"],d.W));D.sb=c;D.ak=this.identifier;break;case "Edit":D.cK(this.identifier,"responses",c);break;case "Add":a="Talk;Destroy;Give/ Take Item;Set Quest Point;Warp Player;Wait;Repeat Responses;Open/Close Panel;Modify Player Stats;Script Response;Open/Close Shop".split(";");c=[{enabled:!0},{enabled:!1},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!1},{enabled:!1},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0}];for(var e=0;e<D.data.data[this.identifier].responses.length;e++)"Repeat Responses"==
D.data.data[this.identifier].responses[e].type&&(c[7].enabled=!1);switch(D.data.specifier){case "NPC":a.push("Attack","Run Away","Defend","Modify NPC Stats");c.push({enabled:!1},{enabled:!1},{enabled:!1},{enabled:!1});break;case "Item":a.push("Equip Item","Read Item");c.push({enabled:!0},{enabled:!0});break;case "Tile":a.push("Block Entry","Add Layer Graphic","Show Sign","Spawn NPC","Spawn Item"),c.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0})}D.ea.e(DropDownList.Nb(D,D.oT,
a,d.W,c));D.ak=this.identifier;break;case "Use":D.g.sz(c,D.Gb[c])}};this.Df[a].u=ListView.create(this.Df[a]);this.Df[a].u.zb(g[a]);this.Df[a].e(this.Df[a].u);for(z=0;z<this.data.data[a].requirements.length;z++)e[a].push(q.Node.create()),e[a][z].G(259,32),x=q.O.create(z+1+": "+this.data.data[a].requirements[z].type,"Arial",15),x.A(q.a(0,0)),x.o(q.a(4,4)),x.Fa(q.size(180,0)),e[a][z].G(259,x.c().height+8),e[a][z].e(x),J=q.B.cb(k.pa("GUI/trash.png")),J.o(q.a(229,0)),J.A(q.a(0,0)),J.Ha="Delete",e[a][z].e(J),
G=q.B.cb(k.pa("GUI/edit.png")),G.o(q.a(205,0)),G.A(q.a(0,0)),G.Ha="Edit",e[a][z].e(G),h[a].push([J,G]);x=q.V.create(q.l(70,200,70,255),90,26);z=q.O.create("+","Arial",20);z.o(45,13);z.A(q.a(.5,.5));x.o(q.a(84.5,0));x.Ha="Add";x.e(z);h[a].push([x]);e[a].push(x);this.Cf[a]=v;this.Cf[a].identifier=a;D=this;this.Cf[a].tb=function(){for(var a=0,c=0;c<e[this.identifier].length;c++)a+=e[this.identifier][c].c().height;return q.size(259,a)};this.Cf[a].pb=function(){return e[this.identifier].length};this.Cf[a].xb=
function(a){return e[this.identifier][a].c()};this.Cf[a].wb=function(a){return e[this.identifier][a]};this.Cf[a].Ma=function(a,c,d){D.Ca(d.W);if(null==D.k)switch(a){case "Delete":D.ea.e(DropDownList.Nb(D,D.rU,["Cancel","Delete"],d.W));D.sb=c;D.ak=this.identifier;break;case "Edit":D.cK(this.identifier,"requirements",c);break;case "Add":a="Has Player Item;Is Player Statistics;Is Quest Point;Is Panel Visibility;Is Player Inventory Space;Script Requirement".split(";");c=[{enabled:!0},{enabled:!0},{enabled:!0},
{enabled:!0},{enabled:!0},{enabled:!0}];switch(D.data.specifier){case "Tile":a.push("Is Event Fired By");c.push({enabled:!1});break;case "NPC":a.push("Is NPC Statistics","Is NPC Actioning"),c.push({enabled:!1},{enabled:!1})}D.ea.e(DropDownList.Nb(D,D.nT,a,d.W,c));D.ak=this.identifier;break;case "Use":D.g.sz(c,D.Gb[c])}};this.Cf[a].u=ListView.create(this.Cf[a]);this.Cf[a].u.zb(h[a]);this.Cf[a].e(this.Cf[a].u);c[a].e(w);c[a].e(l);c[a].e(m);c[a].e(p)}this.I=this.b.list;D=this;this.I.tb=function(){for(var a=
0,d=0;d<c.length;d++)a+=c[d].c().height;return q.size(758,a)};this.I.pb=function(){return c.length};this.I.xb=function(a){return c[a].c()};this.I.wb=function(a){return c[a]};this.I.Ma=function(a,c,d){D.Ca(d.W);if(null==D.k)switch(a){case "Delete":a="Delete";D.YV(c)&&(a="Delete (Will destroy all child events)");D.ea.e(DropDownList.Nb(D,D.qU,["Cancel",a],d.W));D.sb=c;break;case "Use":D.g.sz(c,D.Gb[c])}};this.I.u=ListView.create(this.I);this.I.u.zb(f);this.I.e(this.I.u)},SJ:function(a){for(var c=0;c<
this.data.data.length;c++)"On Talk Close"==this.data.data[c].type&&this.data.data[c].data.attachedEvent==a&&(this.SJ(c),this.data.data.splice(c,1))},YV:function(a){for(var c=0;c<this.data.data.length;c++)if("On Talk Close"==this.data.data[c].type&&this.data.data[c].data.attachedEvent==a)return!0;return!1},QU:function(){for(var a=0;a<this.data.data.length;a++)for(var c=0;c<this.data.data[a].responses.length;c++)if("Talk"==this.data.data[a].responses[c].type)return!0;return!1},qU:function(a){switch(a){case 1:null!=
this.g.sb&&(this.g.SJ(this.g.sb),this.g.data.data.splice(this.g.sb,1),this.g.nb(),this.g.sb=null)}},sU:function(a){switch(a){case 1:null!=this.g.sb&&(this.g.data.data[this.g.ak].responses.splice(this.g.sb,1),this.g.nb(),this.g.sb=null,this.g.ak=null)}},rU:function(a){switch(a){case 1:null!=this.g.sb&&(this.g.data.data[this.g.ak].requirements.splice(this.g.sb,1),this.g.nb(),this.g.sb=null,this.g.ak=null)}},pT:function(a){this.g.data.data.push({type:"On Talk Close",responses:[],requirements:[],data:{attachedEvent:a}});
this.g.nb()},qT:function(a,c){this.g.TF=a;for(var d=[],e=0;e<this.g.data.data[a].responses.length;e++)if("Talk"==this.g.data.data[a].responses[e].type)for(var f in this.g.data.data[a].responses[e].data.options)d.push(f+": "+this.g.data.data[a].responses[e].data.options[f]);this.ea.e(DropDownList.Nb(this.g,this.g.TT,d,c.W))},TT:function(a){this.g.data.data.push({type:"On Talk Option Selected for event:"+this.g.TF+", option:"+a,responses:[],requirements:[],data:{attachedEvent:this.g.TF,attachedOption:a}});
this.g.nb();this.g.TF=null},fT:function(a,c){var d="";switch(a){case 0:d="Default Event";break;case 1:d="On Examine";break;case 2:var d=[],e;for(e in this.g.data.data)if(this.g.data.data[e])for(var f=0;f<this.g.data.data[e].responses.length;f++)"Talk"==this.g.data.data[e].responses[f].type&&d.push(e+": "+this.g.data.data[e].type);this.ea.e(DropDownList.Nb(this.g,this.g.pT,d,c.W));return;case 3:d=[];for(e in this.g.data.data)if(this.g.data.data[e])for(f=0;f<this.g.data.data[e].responses.length;f++)"Talk"==
this.g.data.data[e].responses[f].type&&this.g.data.data[e].responses[f].data.options&&0<this.g.data.data[e].responses[f].data.options.length&&d.push(e+": "+this.g.data.data[e].type);this.ea.e(DropDownList.Nb(this.g,this.g.qT,d,c.W));return;case 4:d="On Game load"}if(""==d)switch(this.g.data.specifier){case "Item":switch(a){case 5:d="On Pickup";break;case 6:d="On Drop";break;case 7:d="On Dequip";break;case 8:d="On Trade"}break;case "Tile":switch(a){case 5:d="Interact On";break;case 6:d="Interact Facing";
break;case 7:d="Will Enter";break;case 8:d="On Enter";break;case 9:d="Will Leave";break;case 10:d="On Leave";break;case 11:d="On Come Near"}}this.g.data.data.push({type:d,responses:[],requirements:[],data:{}});this.g.nb()},oT:function(a){var c="";switch(a){case 0:c="Talk";break;case 1:c="Destroy";break;case 2:c="Give /Take Item";break;case 3:c="Set Quest Point";break;case 4:c="Warp Player";break;case 5:c="Wait";break;case 6:c="Repeat Responses";break;case 7:c="Open/Close Panel";break;case 8:c="Modify Player Stats";
break;case 9:c="Script Response";break;case 10:c="Open/Close Shop"}if(""==c)switch(this.g.data.specifier){case "NPC":switch(a){case 11:c="Attack";break;case 12:c="Run Away";break;case 13:c="Defend";break;case 14:c="Modify NPC Stats"}break;case "Item":switch(a){case 11:c="Equip Item";break;case 12:c="Read Item"}break;case "Tile":switch(a){case 12:c="Block Entry";break;case 13:c="Add Layer Graphic";break;case 13:c="Show Sign";break;case 14:c="Spawn NPC";break;case 15:c="Spawn Item"}}this.g.data.data[this.g.ak].responses.push({type:c,
data:{}});this.g.nb()},nT:function(a){var c="";switch(a){case 0:c="Has Player Item";break;case 1:c="Is Player Statistics";break;case 2:c="Is Quest Point";break;case 3:c="Is Panel Visibility";break;case 4:c="Is Player Inventory Space";break;case 5:c="Script Requirement"}if(""==c)switch(this.g.data.specifier){case "Tile":switch(a){case 6:c="Is Event Fired By"}break;case "NPC":switch(a){case 6:c="Is NPC Statistics";break;case 7:c="Is NPC Actioning"}}this.g.data.data[this.g.ak].requirements.push({type:c,
data:{}});this.g.nb()},uc:function(){return{panels:{children:{list:{size:q.size(758,N.height-80),position:q.a(0,0),i:q.a(0,0)},abbrlbl:"Tile"==this.data.specifier?{label:"Abbr",fontSize:12,i:q.a(0,0),position:q.a(500,N.height-64)}:null,abbrEntry:"Tile"==this.data.specifier?{position:q.a(540,N.height-64),size:q.size(36,16),i:q.a(0,0),color:q.j(180,180,180)}:null,namelbl:{label:"Name:",fontSize:12,i:q.a(0,0),position:q.a(4,N.height-64)},name_entry:{position:q.a(74,N.height-64),size:q.size(290,16),i:q.a(0,
0),color:q.j(180,180,180)},subEditorOver:{visible:!1,color:q.l(0,0,0,127),position:q.a(0,0),size:q.size(800,N.height-40)},mainEditorOver:{color:q.l(0,0,0,127),position:q.a(800,0),size:q.size(200,N.height-40)},menu_bar:{size:q.size(W,20),position:q.a(0,N.height-40),color:q.j(127,127,127),children:{addEventDropDown:{position:q.a(0,0),size:q.size(80,20),color:q.j(127,127,127),i:q.a(0,0),children:{lbl:{label:"+ Event",fontSize:12,i:q.a(.5,0),position:q.a(40,3)}}}}}}}}},cK:function(a,c,d){this.ga={event:a,
listtype:c,id:d};this.Ro=this.data.data[a][c][d].type;this.CX=F(this.data.data[this.ga.event][this.ga.listtype][this.ga.id].data);this.zu()},Dba:function(a){this.data.data[this.ga.event][this.ga.listtype][this.ga.id].data=F(a);this.xy();this.ga=null;this.nb()},Cba:function(){this.xy();this.ga=null},c5:function(){},Oz:null,eG:null,fG:null,nd:null,ZL:null,KL:null,Jy:null,yc:null,uz:null,Om:null,Pm:null,Nm:null,wz:null,xz:null,vz:null,Ty:null,gk:0,IL:null,mJ:null,Gy:null,Tc:null,Dz:null,MU:function(a,
c){var d={panels:{children:{editArea:{color:q.l(127,127,127,255),i:q.a(0,0),position:q.a(0,0),size:q.size(200,250)},editBox:{size:q.size(178,196),i:q.a(0,0),position:q.a(8,12)},okbtn:{position:q.a(62,210),size:q.size(32,32),Na:"GUI/tick_icon.png",i:q.a(0,0)},cancelbtn:{position:q.a(106,210),size:q.size(32,32),Na:"GUI/cross_icon.png",i:q.a(0,0)}}}};this.Lg=va(d,!0);this.k.e(this.Lg);this.QF=new Z(this.Lg.editBox,q.size(this.Lg.editBox.c().width,this.Lg.editBox.c().height),q.a(0,this.Lg.editBox.c().height),
c?c:"<Enter text>",q.l(255,255,255),q.j(0,0,0),!0);this.QF.fb(!0);this.QF.Yc(!1);this.RF=a},zu:function(){this.k&&(this.k.N(),this.k=null);this.b.subEditorOver.H(!0);this.b.mainEditorOver.H(!1);var a={panels:{position:q.a(802,0),children:{}}},c=this.data.data[this.ga.event][this.ga.listtype][this.ga.id].data;switch(this.Ro){case "Warp Player":a.panels.children={mapNumberLabel:{label:"Map ID",i:q.a(0,0),position:q.a(12,374)},mapNumberText:{color:q.l(255,255,255,255),i:q.a(0,0),position:q.a(12,340),
size:q.size(100,32)},mapXLabel:{label:"Map X",i:q.a(0,0),position:q.a(12,310)},mapXText:{color:q.l(255,255,255,255),i:q.a(0,0),position:q.a(12,276),size:q.size(80,32)},mapYLabel:{label:"Map Y",i:q.a(0,0),position:q.a(100,310)},mapYText:{color:q.l(255,255,255,255),i:q.a(0,0),position:q.a(100,276),size:q.size(80,32)}};break;case "Script Response":a.panels.children={sayLabelPre:{label:"Script:\n\nfunction resp(data){\n//data is { }",i:q.a(0,1),position:q.a(12,374),color:q.j(255,0,0)},sayLabelPost:{label:"};",
i:q.a(0,1),position:q.a(12,95),color:q.j(255,0,0)},sayText:{color:q.l(255,255,255,255),i:q.a(0,0),position:q.a(12,100),size:q.size(174,200)}};break;case "Script Requirement":a.panels.children={sayLabelPre:{label:"Script:\n\nfunction req(data,isAllow){\n//data is { }\n//isAllow defaults false",i:q.a(0,1),position:q.a(12,374),color:q.j(255,0,0)},sayLabelPost:{label:"return isAllow;\n};",i:q.a(0,1),position:q.a(12,95),color:q.j(255,0,0)},sayText:{color:q.l(255,255,255,255),i:q.a(0,0),position:q.a(12,
100),size:q.size(174,190)}};break;case "Read Item":a.panels.children={sayLabel:{label:"Say:",i:q.a(0,0),position:q.a(12,374)},sayText:{color:q.l(255,255,255,255),i:q.a(0,0),position:q.a(12,50),size:q.size(174,322)}};break;case "Show Sign":a.panels.children={signLabel:{label:"Sign Title:",i:q.a(0,0),position:q.a(12,376)},signText:{color:q.j(255,255,255),i:q.a(0,0),position:q.a(12,340),size:q.size(174,32)},sayLabel:{label:"Sign Content:",i:q.a(0,0),position:q.a(12,318)},sayText:{color:q.l(255,255,255,
255),i:q.a(0,0),position:q.a(12,50),size:q.size(174,258)}};break;case "Talk":a.panels.children={sayLabel:{label:"Say:",i:q.a(0,0),position:q.a(12,374)},sayText:{color:q.l(255,255,255,255),i:q.a(0,0),position:q.a(12,274),size:q.size(174,100)},optionLabel:{label:"Options:",i:q.a(0,0),position:q.a(12,235)},optionList:{color:q.l(255,255,255,255),i:q.a(0,0),position:q.a(12,50),size:q.size(154,185)}};break;case "Is Quest Point":case "Set Quest Point":a.panels.children={questLabel:{label:"Quest:",i:q.a(0,
0),position:q.a(12,374)},questList:{color:q.l(255,255,255,255),i:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},objectiveLabel:{label:"Objective:",i:q.a(0,0),position:q.a(12,189)},objectiveList:{color:q.l(255,255,255,255),i:q.a(0,0),position:q.a(12,50),size:q.size(154,135)}};break;case "Give /Take Item":case "Has Player Item":case "Spawn Item":a.panels.children={itemsLabel:{label:"Item:",i:q.a(0,0),position:q.a(12,374)},itemList:{color:q.l(255,255,255,255),i:q.a(0,0),position:q.a(12,230),size:q.size(154,
135)},amountLabel:{label:"Amount:",i:q.a(0,0),position:q.a(12,189)},amountText:{color:q.l(255,255,255,255),i:q.a(0,0),position:q.a(12,153),size:q.size(154,32)},amountNote:{label:"Has Player Item"==this.Ro?"":"Use negative item amounts to take away. Use positive amounts to give.",i:q.a(0,1),position:q.a(12,145)}};break;case "Spawn NPC":a.panels.children={npcLabel:{label:"NPC:",i:q.a(0,0),position:q.a(12,374)},npcList:{color:q.l(255,255,255,255),i:q.a(0,0),position:q.a(12,230),size:q.size(154,135)}};
break;case "Modify Player Stats":case "Modify NPC Stats":a.panels.children={skillsLabel:{label:"Skill:",i:q.a(0,0),position:q.a(12,374)},skillList:{color:q.l(255,255,255,255),i:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},levelLabel:{label:"Level Modify",i:q.a(0,0),position:q.a(12,205)},levelText:{color:q.l(255,255,255,255),i:q.a(0,0),position:q.a(12,169),size:q.size(154,32)},expLabel:{label:"XP Modify: (% allowed)",i:q.a(0,0),position:q.a(12,145)},expText:{color:q.l(255,255,255,255),i:q.a(0,
0),position:q.a(12,109),size:q.size(154,32)},healthLabel:{label:"Health Modify: (% allowed)",i:q.a(0,0),position:q.a(12,85)},healthText:{color:q.l(255,255,255,255),i:q.a(0,0),position:q.a(12,49),size:q.size(154,32)}};break;case "Is Panel Visibility":case "Open/Close Panel":a.panels.children={panelsLabel:{label:"Panel:",i:q.a(0,0),position:q.a(12,374)},panelList:{color:q.l(255,255,255,255),i:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},visibleLabel:{label:"Visibility:",i:q.a(0,0),position:q.a(12,
205)},visibleButton:{color:q.l(255,0,0,255),i:q.a(0,0),position:q.a(12,169),size:q.size(154,32),children:{content:{position:q.a(77,16),i:q.a(.5,.5),label:"Invisible",color:q.j(0,0,0)}}}};break;case "Open/Close Shop":a.panels.children={panelsLabel:{label:"Panel:",i:q.a(0,0),position:q.a(12,374)},panelList:{color:q.l(255,255,255,255),i:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},visibleLabel:{label:"Visibility:",i:q.a(0,0),position:q.a(12,205)},visibleButton:{color:q.l(255,0,0,255),i:q.a(0,
0),position:q.a(12,169),size:q.size(154,32),children:{content:{position:q.a(77,16),i:q.a(.5,.5),label:"Invisible",color:q.j(0,0,0)}}}};break;case "Is Event Fired By":a.panels.children={objectLabel:{label:"Possible Types:",i:q.a(0,0),position:q.a(12,374)},objectList:{color:q.l(255,255,255,255),i:q.a(0,0),position:q.a(12,230),size:q.size(154,135)}};break;case "Is NPC Actioning":a.panels.children={actionLabel:{label:"Actions:",i:q.a(0,0),position:q.a(12,374)},actionList:{color:q.l(255,255,255,255),i:q.a(0,
0),position:q.a(12,230),size:q.size(154,135)}};break;case "Is Player Inventory Space":a.panels.children={spaceLabel:{label:"Inventory Space",i:q.a(0,0),position:q.a(12,374)},spaceText:{color:q.l(255,255,255,255),i:q.a(0,0),position:q.a(12,340),size:q.size(100,32)}};break;case "Wait":a.panels.children={timeLabel:{label:"Time (Seconds)",i:q.a(0,0),position:q.a(12,374)},timeText:{color:q.l(255,255,255,255),i:q.a(0,0),position:q.a(12,340),size:q.size(100,32)}};break;case "Repeat Responses":a.panels.children=
{amountLabel:{label:"Repeat Amount",i:q.a(0,0),position:q.a(12,374)},amountText:{color:q.l(255,255,255,255),i:q.a(0,0),position:q.a(12,340),size:q.size(100,32)},amountNote:{label:"Use 0 for infinite amount of repeats.",i:q.a(0,1),position:q.a(12,300)}};break;case "Is Player Statistics":case "Is NPC Statistics":a.panels.children={skillsLabel:{label:"Skill:",i:q.a(0,0),position:q.a(12,374)},skillList:{color:q.l(255,255,255,255),i:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},levelLabel:{label:"Level Range",
i:q.a(0,0),position:q.a(12,205)},levelDash:{label:"-",i:q.a(0,0),position:q.a(91,174)},levelTextLower:{color:q.l(255,255,255,255),i:q.a(0,0),position:q.a(12,169),size:q.size(75,32)},levelTextUpper:{color:q.l(255,255,255,255),i:q.a(0,0),position:q.a(100,169),size:q.size(75,32)},expLabel:{label:"XP Range: (% allowed)",i:q.a(0,0),position:q.a(12,145)},expDash:{label:"-",i:q.a(0,0),position:q.a(91,114)},expTextLower:{color:q.l(255,255,255,255),i:q.a(0,0),position:q.a(12,109),size:q.size(75,32)},expTextUpper:{color:q.l(255,
255,255,255),i:q.a(0,0),position:q.a(100,109),size:q.size(75,32)},healthLabel:{label:"Health Range: (% allowed)",i:q.a(0,0),position:q.a(12,85)},healthDash:{label:"-",i:q.a(0,0),position:q.a(91,54)},healthTextLower:{color:q.l(255,255,255,255),i:q.a(0,0),position:q.a(12,49),size:q.size(75,32)},healthTextUpper:{color:q.l(255,255,255,255),i:q.a(0,0),position:q.a(100,49),size:q.size(75,32)}};break;case "Equip Item":a.panels.children={equipLabel:{label:"Equips To:",i:q.a(0,0),position:q.a(12,374)},headButton:{color:q.l(255,
0,0,255),i:q.a(0,0),position:q.a(69,320),size:q.size(55,32),children:{content:{position:q.a(28,16),i:q.a(.5,.5),label:"Head",color:q.j(0,0,0)}}},bodyButton:{color:q.l(255,0,0,255),i:q.a(0,0),position:q.a(69,280),size:q.size(55,32),children:{content:{position:q.a(28,16),i:q.a(.5,.5),label:"Body",color:q.j(0,0,0)}}},legButton:{color:q.l(255,0,0,255),i:q.a(0,0),position:q.a(69,240),size:q.size(55,32),children:{content:{position:q.a(28,16),i:q.a(.5,.5),label:"Legs",color:q.j(0,0,0)}}},feetButton:{color:q.l(255,
0,0,255),i:q.a(0,0),position:q.a(69,200),size:q.size(55,32),children:{content:{position:q.a(28,16),i:q.a(.5,.5),label:"Feet",color:q.j(0,0,0)}}},lArmButton:{color:q.l(255,0,0,255),i:q.a(0,0),position:q.a(10,280),size:q.size(55,32),children:{content:{position:q.a(28,16),i:q.a(.5,.5),label:"L Arm",color:q.j(0,0,0)}}},rArmButton:{color:q.l(255,0,0,255),i:q.a(0,0),position:q.a(128,280),size:q.size(55,32),children:{content:{position:q.a(28,16),i:q.a(.5,.5),label:"R Arm",color:q.j(0,0,0)}}},modButton:{color:q.l(255,
0,0,255),i:q.a(0,0),position:q.a(10,160),size:q.size(55,32),children:{content:{position:q.a(28,16),i:q.a(.5,.5),label:"Mod",color:q.j(0,0,0)}}}}}a.panels.children.okbtn={position:q.a(62,8),size:q.size(32,32),Na:"GUI/tick_icon.png",i:q.a(0,0)};a.panels.children.cancelbtn={position:q.a(106,8),size:q.size(32,32),Na:"GUI/cross_icon.png",i:q.a(0,0)};this.k=va(a,!0);this.b.e(this.k);switch(this.Ro){case "Warp Player":var d=a=1;c.index&&(d=S.Bg(c.mapnum),a=c.index%d.width,d=Math.floor(c.index/d.width)-1);
this.Oz=new Z(this.k.mapNumberText,q.size(this.k.mapNumberText.c().width,this.k.mapNumberText.c().height),q.a(0,this.k.mapNumberText.c().height),null!=c.mapnum&&"undefined"!==c.mapnum?c.mapnum:"0",q.l(255,255,255),q.j(0,0,0));this.Oz.fb(!0);this.eG=new Z(this.k.mapXText,q.size(this.k.mapXText.c().width,this.k.mapXText.c().height),q.a(0,this.k.mapXText.c().height),a+"",q.l(255,255,255),q.j(0,0,0));this.eG.fb(!0);this.fG=new Z(this.k.mapYText,q.size(this.k.mapYText.c().width,this.k.mapYText.c().height),
q.a(0,this.k.mapYText.c().height),d+"",q.l(255,255,255),q.j(0,0,0));this.fG.fb(!0);break;case "Show Sign":this.nd=new Z(this.k.sayText,q.size(this.k.sayText.c().width,this.k.sayText.c().height),q.a(0,this.k.sayText.c().height),c.content?c.content:"<Enter text>",q.l(255,255,255),q.j(0,0,0),!0);this.nd.fb(!0);this.nd.Yc(!1);this.LF=new Z(this.k.signText,q.size(this.k.signText.c().width,this.k.signText.c().height),q.a(0,this.k.signText.c().height),c.title?c.title:"<Enter text>",q.l(255,255,255),q.j(0,
0,0),!0);this.LF.fb(!0);this.LF.Yc(!1);break;case "Read Item":this.nd=new Z(this.k.sayText,q.size(this.k.sayText.c().width,this.k.sayText.c().height),q.a(0,this.k.sayText.c().height),c.say?c.say:"<Enter text>",q.l(255,255,255),q.j(0,0,0),!0);this.nd.fb(!0);this.nd.Yc(!1);break;case "Script Response":this.nd=new Z(this.k.sayText,q.size(this.k.sayText.c().width,this.k.sayText.c().height),q.a(0,this.k.sayText.c().height),c.functionContent?c.functionContent:"<Enter text>",q.l(255,255,255),q.j(0,0,0),
!0);this.nd.fb(!0);this.nd.Yc(!1);break;case "Script Requirement":this.nd=new Z(this.k.sayText,q.size(this.k.sayText.c().width,this.k.sayText.c().height),q.a(0,this.k.sayText.c().height),c.functionContent?c.functionContent:"<Enter text>",q.l(255,255,255),q.j(0,0,0),!0);this.nd.fb(!0);this.nd.Yc(!1);break;case "Talk":this.nd=new Z(this.k.sayText,q.size(this.k.sayText.c().width,this.k.sayText.c().height),q.a(0,this.k.sayText.c().height),c.say?c.say:"<Enter text>",q.l(255,255,255),q.j(0,0,0),!0);this.nd.fb(!0);
this.nd.Yc(!1);var e=[],a=[],f=c.options?c.options:[];console.log(f);for(d=0;d<f.length;d++){e[d]=q.Node.create();var g=q.V.create(q.l(0,0,0,127),154,1),h=q.O.create(f[d],"Arial",15);h.n(q.j(0,0,0));h.A(q.a(0,0));h.o(q.a(4,4));h.Fa(q.size(104,0));e[d].G(154,h.c().height+8);var k=q.B.cb(q.da.f().pa("GUI/edit.png"));k.o(q.a(130,0));k.A(q.a(0,0));k.Ha="Edit";k.od((h.c().height+8)/2-10);var l=q.B.cb(q.da.f().pa("GUI/trash.png"));l.o(q.a(108,0));l.A(q.a(0,0));l.Ha="Delete";l.od((h.c().height+8)/2-10);
a.push([k,l]);var m=q.V.create(q.l(255,255,255,255),154,h.c().height+8);e[d].e(m);e[d].kb=m;e[d].e(g);e[d].e(h);e[d].e(k);e[d].e(l)}d=q.V.create(q.l(70,200,70,255),90,26);g=q.O.create("+","Arial",20);g.o(45,13);g.A(q.a(.5,.5));d.o(q.a(34,0));d.Ha="Add";d.e(g);a.push([d]);e.push(d);var p=this;this.k.optionList.tb=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.k.optionList.pb=function(){return e.length};this.k.optionList.xb=function(a){return e[a].c()};this.k.optionList.wb=
function(a){return e[a]};this.k.optionList.ld=function(a){return e[a].kb};this.k.optionList.Ma=function(a,d){if(!p.Lg)switch(a){case "Add":c.options||(c.options=[]);c.options.push("<Enter Text>");c.say=p.nd.ba();p.k.optionList.u.N();p.k.optionList.u=null;p.zu();break;case "Delete":c.options.splice(d,1);c.say=p.nd.ba();p.k.N();p.k=null;p.zu();break;case "Edit":c.say=p.nd.ba(),p.MU(d,c.options[d]),p.k.optionList.u.N(),p.k.optionList.u=null}};this.k.optionList.u=ListView.create(this.k.optionList);this.k.optionList.u.zb(a);
this.k.optionList.e(this.k.optionList.u);break;case "Is Quest Point":case "Set Quest Point":e=[];a=[];f=ObjectLists.Ut();for(d=0;d<f.length;d++)e[d]=q.Node.create(),g=q.V.create(q.l(0,0,0,127),154,1),h=q.O.create(f[d].name,"Arial",15),h.n(q.j(0,0,0)),h.A(q.a(0,0)),h.o(q.a(4,4)),h.Fa(q.size(126,0)),k=q.B.cb(q.da.f().pa("GUI/use.png")),k.o(q.a(130,0)),k.A(q.a(0,0)),k.Ha="Use",e[d].G(154,h.c().height+8),k.od((h.c().height+8)/2-10),a.push([k]),m=q.V.create(q.l(255,255,255,255),154,h.c().height+8),e[d].e(m),
e[d].kb=m,e[d].e(g),e[d].e(h),e[d].e(k);p=this;this.k.questList.tb=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.k.questList.pb=function(){return e.length};this.k.questList.xb=function(a){return e[a].c()};this.k.questList.wb=function(a){return e[a]};this.k.questList.ld=function(a){return e[a].kb};this.k.questList.Ma=function(a,c){if("Use"==a){p.k.objectiveList.u&&p.k.objectiveList.u.N();this.u.kb(c);p.ZL=c;for(var d=[],e=[],f=q.da.f(),g=ObjectLists.Ut()[c].objectiveList,
h=0;h<g.length;h++){d[h]=q.Node.create();var k=q.V.create(q.l(0,0,0,127),154,1);k.o(q.a(0,0));var l=q.O.create(g[h],"Arial",15);l.n(q.j(0,0,0));l.A(q.a(0,0));l.o(q.a(4,4));l.Fa(q.size(126,0));var m=q.B.cb(f.pa("GUI/use.png"));m.o(q.a(130,0));m.A(q.a(0,0));m.Ha="Use";e.push([m]);d[h].G(126,l.c().height+8);m.od((l.c().height+8)/2-10);var oa=q.V.create(q.l(255,255,255,255),154,l.c().height+8);d[h].e(oa);d[h].kb=oa;d[h].e(k);d[h].e(l);d[h].e(m)}p.k.objectiveList.tb=function(){for(var a=0,c=0;c<d.length;c++)a+=
d[c].c().height;return q.size(154,a)};p.k.objectiveList.pb=function(){return d.length};p.k.objectiveList.ld=function(a){return d[a].kb};p.k.objectiveList.xb=function(a){return d[a].c()};p.k.objectiveList.wb=function(a){return d[a]};p.k.objectiveList.Ma=function(a,c){this.u.kb(c);p.KL=c};p.k.objectiveList.u=ListView.create(p.k.objectiveList);p.k.objectiveList.u.zb(e);p.k.objectiveList.e(p.k.objectiveList.u)}};this.k.questList.u=ListView.create(this.k.questList);this.k.questList.u.zb(a);this.k.questList.e(this.k.questList.u);
null!=c.quest&&"undefined"!==c.quest&&(this.k.questList.Ma("Use",c.quest),null!=c.objective&&"undefined"!==c.objective&&this.k.objectiveList.Ma("Use",c.objective));break;case "Spawn NPC":e=[];a=[];f=ObjectLists.Lq();for(d=0;d<f.length;d++)e[d]=q.Node.create(),g=q.V.create(q.l(0,0,0,127),154,1),h=q.O.create(f[d].name,"Arial",15),h.n(q.j(0,0,0)),h.A(q.a(0,0)),h.o(q.a(4,4)),h.Fa(q.size(126,0)),k=q.B.cb(q.da.f().pa("GUI/use.png")),k.o(q.a(130,0)),k.A(q.a(0,0)),k.Ha="Use",e[d].G(154,h.c().height+8),k.od((h.c().height+
8)/2-10),a.push([k]),m=q.V.create(q.l(255,255,255,255),154,h.c().height+8),e[d].e(m),e[d].kb=m,e[d].e(g),e[d].e(h),e[d].e(k);p=this;this.k.npcList.tb=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.k.npcList.pb=function(){return e.length};this.k.npcList.xb=function(a){return e[a].c()};this.k.npcList.wb=function(a){return e[a]};this.k.npcList.ld=function(a){return e[a].kb};this.k.npcList.Ma=function(a,c){"Use"==a&&(this.u.kb(c),p.yc=c)};this.k.npcList.u=ListView.create(this.k.npcList);
this.k.npcList.u.zb(a);this.k.npcList.e(this.k.npcList.u);null!=c.npc&&"undefined"!==c.npc&&this.k.npcList.Ma("Use",c.npc);break;case "Give /Take Item":case "Has Player Item":case "Spawn Item":this.k.amountNote.Fa(q.size(180,0));e=[];a=[];f=ObjectLists.Zb();for(d=0;d<f.length;d++)e[d]=q.Node.create(),g=q.V.create(q.l(0,0,0,127),154,1),h=q.O.create(f[d].name,"Arial",15),h.n(q.j(0,0,0)),h.A(q.a(0,0)),h.o(q.a(4,4)),h.Fa(q.size(126,0)),k=q.B.cb(q.da.f().pa("GUI/use.png")),k.o(q.a(130,0)),k.A(q.a(0,0)),
k.Ha="Use",e[d].G(154,h.c().height+8),k.od((h.c().height+8)/2-10),a.push([k]),m=q.V.create(q.l(255,255,255,255),154,h.c().height+8),e[d].e(m),e[d].kb=m,e[d].e(g),e[d].e(h),e[d].e(k);p=this;this.k.itemList.tb=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.k.itemList.pb=function(){return e.length};this.k.itemList.xb=function(a){return e[a].c()};this.k.itemList.wb=function(a){return e[a]};this.k.itemList.ld=function(a){return e[a].kb};this.k.itemList.Ma=function(a,
c){"Use"==a&&(this.u.kb(c),p.yc=c)};this.k.itemList.u=ListView.create(this.k.itemList);this.k.itemList.u.zb(a);this.k.itemList.e(this.k.itemList.u);null!=c.item&&"undefined"!==c.item&&this.k.itemList.Ma("Use",c.item);this.Jy=new Z(this.k.amountText,q.size(this.k.amountText.c().width,this.k.amountText.c().height),q.a(0,this.k.amountText.c().height),c.amount?c.amount:"0",q.l(255,255,255),q.j(0,0,0));this.Jy.fb(!0);this.Jy.Yc(!1);break;case "Modify Player Stats":case "Modify NPC Stats":e=[];a=[];f=ObjectLists.Zk();
for(d=0;d<f.length;d++)e[d]=q.Node.create(),g=q.V.create(q.l(0,0,0,127),154,1),h=q.O.create(f[d].name,"Arial",15),h.n(q.j(0,0,0)),h.A(q.a(0,0)),h.o(q.a(4,4)),h.Fa(q.size(126,0)),k=q.B.cb(q.da.f().pa("GUI/use.png")),k.o(q.a(130,0)),k.A(q.a(0,0)),k.Ha="Use",e[d].G(154,h.c().height+8),k.od((h.c().height+8)/2-10),a.push([k]),m=q.V.create(q.l(255,255,255,255),154,h.c().height+8),e[d].e(m),e[d].kb=m,e[d].e(g),e[d].e(h),e[d].e(k);p=this;this.k.skillList.tb=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;
return q.size(154,a)};this.k.skillList.pb=function(){return e.length};this.k.skillList.xb=function(a){return e[a].c()};this.k.skillList.wb=function(a){return e[a]};this.k.skillList.ld=function(a){return e[a].kb};this.k.skillList.Ma=function(a,c){"Use"==a&&(this.u.kb(c),p.uz=c)};this.k.skillList.u=ListView.create(this.k.skillList);this.k.skillList.u.zb(a);this.k.skillList.e(this.k.skillList.u);null!=c.skill&&"undefined"!==c.skill&&this.k.skillList.Ma("Use",c.skill);this.Om=new Z(this.k.levelText,q.size(this.k.levelText.c().width,
this.k.levelText.c().height),q.a(0,this.k.levelText.c().height),c.level?c.level:"0",q.l(255,255,255),q.j(0,0,0));this.Om.fb(!0);this.Om.Yc(!1);this.Pm=new Z(this.k.expText,q.size(this.k.expText.c().width,this.k.expText.c().height),q.a(0,this.k.expText.c().height),c.xp?c.xp:"0",q.l(255,255,255),q.j(0,0,0));this.Pm.fb(!0);this.Pm.Yc(!1);this.Nm=new Z(this.k.healthText,q.size(this.k.healthText.c().width,this.k.healthText.c().height),q.a(0,this.k.healthText.c().height),c.health?c.health:"0",q.l(255,255,
255),q.j(0,0,0));this.Nm.fb(!0);this.Nm.Yc(!1);break;case "Is Panel Visibility":case "Open/Close Panel":e=[];a=[];f=["Inventory","Equipment","Skills","QuestLog","Bank"];for(d=0;d<f.length;d++)e[d]=q.Node.create(),g=q.V.create(q.l(0,0,0,127),154,1),h=q.O.create(f[d],"Arial",15),h.n(q.j(0,0,0)),h.A(q.a(0,0)),h.o(q.a(4,4)),h.Fa(q.size(126,0)),k=q.B.cb(q.da.f().pa("GUI/use.png")),k.o(q.a(130,0)),k.A(q.a(0,0)),k.Ha="Use",e[d].G(154,h.c().height+8),k.od((h.c().height+8)/2-10),a.push([k]),m=q.V.create(q.l(255,
255,255,255),154,h.c().height+8),e[d].e(m),e[d].kb=m,e[d].e(g),e[d].e(h),e[d].e(k);p=this;this.k.panelList.tb=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.k.panelList.pb=function(){return e.length};this.k.panelList.xb=function(a){return e[a].c()};this.k.panelList.wb=function(a){return e[a]};this.k.panelList.ld=function(a){return e[a].kb};this.k.panelList.Ma=function(a,c){"Use"==a&&(this.u.kb(c),p.Ty=c)};this.k.panelList.u=ListView.create(this.k.panelList);
this.k.panelList.u.zb(a);this.k.panelList.e(this.k.panelList.u);null!=c.panel&&"undefined"!==c.panel&&this.k.panelList.Ma("Use",c.panel);this.gk=1==c.visible?1:0;1==this.gk&&(this.k.visibleButton.n(q.l(0,255,0,255)),this.k.visibleButton.content.ia("Visible"));break;case "Open/Close Shop":e=[];a=[];g=ObjectLists.Oq();f=[];for(d=0;d<g.length;d++)f.push(g[d].name);for(d=0;d<f.length;d++)e[d]=q.Node.create(),g=q.V.create(q.l(0,0,0,127),154,1),h=q.O.create(f[d],"Arial",15),h.n(q.j(0,0,0)),h.A(q.a(0,0)),
h.o(q.a(4,4)),h.Fa(q.size(126,0)),k=q.B.cb(q.da.f().pa("GUI/use.png")),k.o(q.a(130,0)),k.A(q.a(0,0)),k.Ha="Use",e[d].G(154,h.c().height+8),k.od((h.c().height+8)/2-10),a.push([k]),m=q.V.create(q.l(255,255,255,255),154,h.c().height+8),e[d].e(m),e[d].kb=m,e[d].e(g),e[d].e(h),e[d].e(k);p=this;this.k.panelList.tb=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.k.panelList.pb=function(){return e.length};this.k.panelList.xb=function(a){return e[a].c()};this.k.panelList.wb=
function(a){return e[a]};this.k.panelList.ld=function(a){return e[a].kb};this.k.panelList.Ma=function(a,c){"Use"==a&&(this.u.kb(c),p.Ty=c)};this.k.panelList.u=ListView.create(this.k.panelList);this.k.panelList.u.zb(a);this.k.panelList.e(this.k.panelList.u);null!=c.panel&&"undefined"!==c.panel&&this.k.panelList.Ma("Use",c.panel);this.gk=1==c.visible?1:0;1==this.gk&&(this.k.visibleButton.n(q.l(0,255,0,255)),this.k.visibleButton.content.ia("Visible"));break;case "Is Event Fired By":e=[];a=[];f=["Player",
"NPC"];for(d=0;d<f.length;d++)e[d]=q.Node.create(),g=q.V.create(q.l(0,0,0,127),154,1),h=q.O.create(f[d],"Arial",15),h.n(q.j(0,0,0)),h.A(q.a(0,0)),h.o(q.a(4,4)),h.Fa(q.size(126,0)),k=q.B.cb(q.da.f().pa("GUI/use.png")),k.o(q.a(130,0)),k.A(q.a(0,0)),k.Ha="Use",e[d].G(154,h.c().height+8),k.od((h.c().height+8)/2-10),a.push([k]),m=q.V.create(q.l(255,255,255,255),154,h.c().height+8),e[d].e(m),e[d].kb=m,e[d].e(g),e[d].e(h),e[d].e(k);p=this;this.k.objectList.tb=function(){for(var a=0,c=0;c<e.length;c++)a+=
e[c].c().height;return q.size(154,a)};this.k.objectList.pb=function(){return e.length};this.k.objectList.xb=function(a){return e[a].c()};this.k.objectList.wb=function(a){return e[a]};this.k.objectList.ld=function(a){return e[a].kb};this.k.objectList.Ma=function(a,c){"Use"==a&&(this.u.kb(c),p.IL=c)};this.k.objectList.u=ListView.create(this.k.objectList);this.k.objectList.u.zb(a);this.k.objectList.e(this.k.objectList.u);null!=c.object&&"undefined"!==c.object&&this.k.objectList.Ma("Use",c.object);break;
case "Is NPC Actioning":e=[];a=[];f=["Attacking","Defending","Fleeing"];for(d=0;d<f.length;d++)e[d]=q.Node.create(),g=q.V.create(q.l(0,0,0,127),154,1),h=q.O.create(f[d],"Arial",15),h.n(q.j(0,0,0)),h.A(q.a(0,0)),h.o(q.a(4,4)),h.Fa(q.size(126,0)),k=q.B.cb(q.da.f().pa("GUI/use.png")),k.o(q.a(130,0)),k.A(q.a(0,0)),k.Ha="Use",e[d].G(154,h.c().height+8),k.od((h.c().height+8)/2-10),a.push([k]),m=q.V.create(q.l(255,255,255,255),154,h.c().height+8),e[d].e(m),e[d].kb=m,e[d].e(g),e[d].e(h),e[d].e(k);p=this;
this.k.actionList.tb=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.k.actionList.pb=function(){return e.length};this.k.actionList.xb=function(a){return e[a].c()};this.k.actionList.wb=function(a){return e[a]};this.k.actionList.ld=function(a){return e[a].kb};this.k.actionList.Ma=function(a,c){"Use"==a&&(this.u.kb(c),p.mJ=c)};this.k.actionList.u=ListView.create(this.k.actionList);this.k.actionList.u.zb(a);this.k.actionList.e(this.k.actionList.u);null!=c.action&&
"undefined"!==c.action&&this.k.actionList.Ma("Use",c.action);break;case "Is Player Inventory Space":this.Gy=new Z(this.k.spaceText,q.size(this.k.spaceText.c().width,this.k.spaceText.c().height),q.a(0,this.k.spaceText.c().height),null!=c.space&&"undefined"!==c.space?c.space:"0",q.l(255,255,255),q.j(0,0,0));this.Gy.fb(!0);this.Gy.Yc(!1);break;case "Wait":this.Dz=new Z(this.k.timeText,q.size(this.k.timeText.c().width,this.k.timeText.c().height),q.a(0,this.k.timeText.c().height),null!=c.time&&"undefined"!==
c.time?c.time:"0",q.l(255,255,255),q.j(0,0,0));this.Dz.fb(!0);this.Dz.Yc(!1);break;case "Repeat Responses":this.k.amountNote.Fa(q.size(180,0));this.fF=new Z(this.k.amountText,q.size(this.k.amountText.c().width,this.k.amountText.c().height),q.a(0,this.k.amountText.c().height),null!=c.amount&&"undefined"!==c.amount?c.amount:"1",q.l(255,255,255),q.j(0,0,0));this.fF.fb(!0);this.fF.Yc(!1);break;case "Is Player Statistics":case "Is NPC Statistics":e=[];a=[];f=ObjectLists.Zk();for(d=0;d<f.length;d++)e[d]=
q.Node.create(),g=q.V.create(q.l(0,0,0,127),154,1),h=q.O.create(f[d].name,"Arial",15),h.n(q.j(0,0,0)),h.A(q.a(0,0)),h.o(q.a(4,4)),h.Fa(q.size(126,0)),k=q.B.cb(q.da.f().pa("GUI/use.png")),k.o(q.a(130,0)),k.A(q.a(0,0)),k.Ha="Use",e[d].G(154,h.c().height+8),k.od((h.c().height+8)/2-10),a.push([k]),m=q.V.create(q.l(255,255,255,255),154,h.c().height+8),e[d].e(m),e[d].kb=m,e[d].e(g),e[d].e(h),e[d].e(k);p=this;this.k.skillList.tb=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,
a)};this.k.skillList.pb=function(){return e.length};this.k.skillList.xb=function(a){return e[a].c()};this.k.skillList.wb=function(a){return e[a]};this.k.skillList.ld=function(a){return e[a].kb};this.k.skillList.Ma=function(a,c){"Use"==a&&(this.u.kb(c),p.uz=c)};this.k.skillList.u=ListView.create(this.k.skillList);this.k.skillList.u.zb(a);this.k.skillList.e(this.k.skillList.u);null!=c.skill&&"undefined"!==c.skill&&this.k.skillList.Ma("Use",c.skill);this.Om=new Z(this.k.levelTextLower,q.size(this.k.levelTextLower.c().width,
this.k.levelTextLower.c().height),q.a(0,this.k.levelTextLower.c().height),null!=c.levelLower&&"undefined"!==c.levelLower&&""!=c.levelLower?c.levelLower:"0",q.l(255,255,255),q.j(0,0,0));this.Om.fb(!0);this.Om.Yc(!1);this.Pm=new Z(this.k.expTextLower,q.size(this.k.expTextLower.c().width,this.k.expTextLower.c().height),q.a(0,this.k.expTextLower.c().height),null!=c.xpLower&&"undefined"!==c.xpLower&&""!=c.xpLower?c.xpLower:"0",q.l(255,255,255),q.j(0,0,0));this.Pm.fb(!0);this.Pm.Yc(!1);this.Nm=new Z(this.k.healthTextLower,
q.size(this.k.healthTextLower.c().width,this.k.healthTextLower.c().height),q.a(0,this.k.healthTextLower.c().height),null!=c.healthLower&&"undefined"!==c.healthLower&&""!=c.healthLower?c.healthLower:"0",q.l(255,255,255),q.j(0,0,0));this.Nm.fb(!0);this.Nm.Yc(!1);this.wz=new Z(this.k.levelTextUpper,q.size(this.k.levelTextUpper.c().width,this.k.levelTextUpper.c().height),q.a(0,this.k.levelTextUpper.c().height),null!=c.levelUpper&&"undefined"!==c.levelUpper&&""!=c.levelUpper?c.levelUpper:"0",q.l(255,255,
255),q.j(0,0,0));this.wz.fb(!0);this.wz.Yc(!1);this.xz=new Z(this.k.expTextUpper,q.size(this.k.expTextUpper.c().width,this.k.expTextUpper.c().height),q.a(0,this.k.expTextUpper.c().height),null!=c.xpUpper&&"undefined"!==c.xpUpper&&""!=c.xpUpper?c.xpUpper:"0",q.l(255,255,255),q.j(0,0,0));this.xz.fb(!0);this.xz.Yc(!1);this.vz=new Z(this.k.healthTextUpper,q.size(this.k.healthTextUpper.c().width,this.k.healthTextUpper.c().height),q.a(0,this.k.healthTextUpper.c().height),null!=c.healthUpper&&"undefined"!==
c.healthUpper&&""!=c.healthUpper?c.healthUpper:"0",q.l(255,255,255),q.j(0,0,0));this.vz.fb(!0);this.vz.Yc(!1);break;case "Equip Item":null!=c.equip&&"undefined"!==c.equip?(this.Tc="head",this.hl(c.equip)):this.hl("head")}},xy:function(){this.b.subEditorOver.H(!1);this.b.mainEditorOver.H(!0);this.Ro=null;this.k.N();this.k=null},hl:function(a){this.k.headButton.n(q.l(255,255,255,255));this.k.bodyButton.n(q.l(255,255,255,255));this.k.legButton.n(q.l(255,255,255,255));this.k.feetButton.n(q.l(255,255,
255,255));this.k.lArmButton.n(q.l(255,255,255,255));this.k.rArmButton.n(q.l(255,255,255,255));this.k.modButton.n(q.l(255,255,255,255));switch(a){case "head":this.Tc=a;this.k.headButton.n(q.l(255,0,0,255));return;case "body":this.Tc=a;this.k.bodyButton.n(q.l(255,0,0,255));return;case "legs":this.Tc=a;this.k.legButton.n(q.l(255,0,0,255));return;case "feet":this.Tc=a;this.k.feetButton.n(q.l(255,0,0,255));return;case "mod":this.Tc=a;this.k.modButton.n(q.l(255,0,0,255));return;case "bothArms":this.Tc=
a;this.k.lArmButton.n(q.l(255,0,0,255));this.k.rArmButton.n(q.l(255,0,0,255));return}"bothArms"!=this.Tc&&"lArm"!=this.Tc&&"rArm"!=this.Tc&&"lArm"==a?(this.k.lArmButton.n(q.l(255,0,0,255)),this.Tc="lArm"):"bothArms"!=this.Tc&&"lArm"!=this.Tc&&"rArm"!=this.Tc&&"rArm"==a?(this.k.rArmButton.n(q.l(255,0,0,255)),this.Tc="rArm"):"rArm"==this.Tc&&"lArm"==a?(this.k.lArmButton.n(q.l(255,0,0,255)),this.k.rArmButton.n(q.l(255,0,0,255)),this.Tc="bothArms"):"lArm"==this.Tc&&"rArm"==a?(this.k.lArmButton.n(q.l(255,
0,0,255)),this.k.rArmButton.n(q.l(255,0,0,255)),this.Tc="bothArms"):"bothArms"==this.Tc&&"rArm"==a?(this.k.lArmButton.n(q.l(255,0,0,255)),this.Tc="lArm"):"bothArms"==this.Tc&&"lArm"==a&&(this.k.rArmButton.n(q.l(255,0,0,255)),this.Tc="rArm")},yb:function(a){this.b.menu_bar.addEventDropDown.n(q.j(127,127,127));a=q.a(a.W.x,a.W.y);if(this.Lg){var c=this.Lg.Ca(a);if(E(this.Lg.okbtn,c)){switch(this.Ro){case "Talk":this.data.data[this.ga.event][this.ga.listtype][this.ga.id].data.options[this.RF]=this.QF.ba(),
this.data.data[this.ga.event][this.ga.listtype][this.ga.id].data.say=this.nd.ba()}this.Lg.N();this.RF=this.Lg=null;this.zu();return}if(E(this.Lg.cancelbtn,c)){this.Lg.N();this.RF=this.Lg=null;this.zu();return}}if(this.k)if(c=this.k.Ca(a),E(this.k.okbtn,c)){switch(this.Ro){case "Warp Player":a=S.Bg(this.Oz.ba());this.data.data[this.ga.event][this.ga.listtype][this.ga.id].data={mapnum:this.Oz.ba(),index:parseInt(a.width*(parseInt(this.fG.ba())+1))+parseInt(parseInt(this.eG.ba()))};break;case "Show Sign":this.data.data[this.ga.event][this.ga.listtype][this.ga.id].data=
{content:this.nd.ba(),title:this.LF.ba()};break;case "Read Item":this.data.data[this.ga.event][this.ga.listtype][this.ga.id].data={say:this.nd.ba()};break;case "Script Response":case "Script Requirement":this.data.data[this.ga.event][this.ga.listtype][this.ga.id].data.functionContent=this.nd.ba();break;case "Talk":this.data.data[this.ga.event][this.ga.listtype][this.ga.id].data.say=this.nd.ba();break;case "Is Quest Point":case "Set Quest Point":this.data.data[this.ga.event][this.ga.listtype][this.ga.id].data=
{quest:this.ZL,objective:this.KL};break;case "Spawn NPC":this.data.data[this.ga.event][this.ga.listtype][this.ga.id].data={npc:this.yc};break;case "Give /Take Item":case "Has Player Item":case "Spawn Item":this.data.data[this.ga.event][this.ga.listtype][this.ga.id].data={item:this.yc,amount:parseInt(this.Jy.ba())};break;case "Modify Player Stats":case "Modify NPC Stats":this.data.data[this.ga.event][this.ga.listtype][this.ga.id].data={skill:this.uz,level:parseInt(this.Om.ba()),xp:parseInt(this.Pm.ba()),
health:parseInt(this.Nm.ba())};break;case "Is Panel Visibility":case "Open/Close Panel":this.data.data[this.ga.event][this.ga.listtype][this.ga.id].data={panel:this.Ty,visible:this.gk};break;case "Open/Close Shop":this.data.data[this.ga.event][this.ga.listtype][this.ga.id].data={id:this.Ty,visible:this.gk};break;case "Is Event Fired By":this.data.data[this.ga.event][this.ga.listtype][this.ga.id].data={object:this.IL};break;case "Is NPC Actioning":this.data.data[this.ga.event][this.ga.listtype][this.ga.id].data=
{action:this.mJ};break;case "Is Player Inventory Space":this.data.data[this.ga.event][this.ga.listtype][this.ga.id].data={space:parseInt(this.Gy.ba())};break;case "Wait":this.data.data[this.ga.event][this.ga.listtype][this.ga.id].data={time:parseInt(this.Dz.ba())};break;case "Repeat Responses":this.data.data[this.ga.event][this.ga.listtype][this.ga.id].data={amount:parseInt(this.fF.ba())};break;case "Is Player Statistics":case "Is NPC Statistics":this.data.data[this.ga.event][this.ga.listtype][this.ga.id].data=
{skill:this.uz,levelLower:parseInt(this.Om.ba()),xpLower:parseInt(this.Pm.ba()),healthLower:parseInt(this.Nm.ba()),levelUpper:parseInt(this.wz.ba()),xpUpper:parseInt(this.xz.ba()),healthUpper:parseInt(this.vz.ba())};break;case "Equip Item":this.data.data[this.ga.event][this.ga.listtype][this.ga.id].data={equip:this.Tc}}this.xy()}else this.k.headButton&&E(this.k.headButton,c)?this.hl("head"):this.k.bodyButton&&E(this.k.bodyButton,c)?this.hl("body"):this.k.legButton&&E(this.k.legButton,c)?this.hl("legs"):
this.k.feetButton&&E(this.k.feetButton,c)?this.hl("feet"):this.k.lArmButton&&E(this.k.lArmButton,c)?this.hl("lArm"):this.k.rArmButton&&E(this.k.rArmButton,c)?this.hl("rArm"):this.k.modButton&&E(this.k.modButton,c)?this.hl("mod"):this.k.visibleButton&&E(this.k.visibleButton,c)?(this.gk=0==this.gk?1:0,this.k.visibleButton.n(0==this.gk?q.l(255,0,0,255):q.l(0,255,0,255)),this.k.visibleButton.content.ia(0==this.gk?"Invisible":"Visible")):E(this.k.cancelbtn,c)&&(this.data.data[this.ga.event][this.ga.listtype][this.ga.id].data=
F(this.CX),this.xy());else if(this.b.Ca(a),E(this.b.menu_bar.addEventDropDown,this.b.menu_bar.Ca(a))){a=["Default Interaction","On Examine","On Talk Close","On Talk Option Selected","On Game Load"];c=[{enabled:!0},{enabled:!1},{enabled:!1},{enabled:!1},{enabled:!1}];0==this.data.data.length&&(c[1].enabled=!1);this.QU()&&(c[3].enabled=!0);switch(this.data.specifier){case "Item":a.push("On Pickup","On Drop","On Dequip","On Trade");c.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!1});break;case "Tile":a.push("Interact On",
"Interact Facing","Will Enter","On Enter","Will Leave","On Leave","On Come Near"),c.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!1}),c[0].enabled=!1}a=DropDownList.Nb(this,this.fT,a,q.a(0,N.height-40),c);a.ti(this.uh);this.b.menu_bar.addEventDropDown.n(q.j(60,60,60));this.e(a);return!0}}});Itemeditor2=null;
ItemEditor=La.extend({kd:t[0].name,oa:0,Pc:1,a4:null,bi:null,be:null,by:!1,ni:null,ji:function(){return["Sprite","Value","Script"]},fi:function(){return["Cancel","Don't Save","Save"]},ui:function(a){switch(a){case 1:this.Af=!0;var c=this.g;this.g.fe(function(){c.Nd(null)});break;case 2:this.Af=!0,this.data.description=this.Kt.ba(),this.data.name=this.$b.ba(),this.data.script=this.Ng,this.g.Nd(this.data)}},Mca:function(){this.b.tab1.scriptbtn.text.ia("None");this.b.tab1.scriptbtn.n(q.l(255,0,0,255))},
uc:function(){this.ni=N.height-140-(N.height-140)%K;return{panels:{children:{tab1:{children:{namelbl:{label:"Name:",fontSize:12,i:q.a(0,0),position:q.a(4,N.height-70)},name_entry:{position:q.a(74,N.height-70),size:q.size(290,16),i:q.a(0,0),color:q.j(180,180,180)},tiles:{i:q.a(0,1),position:q.a(0,N.height-140),Na:t[0].name},menu_bar:{size:q.size(466,20),position:q.a(0,N.height-40),color:q.j(127,127,127),children:{textureDropDown:{position:q.a(0,0),size:q.size(80,20),color:q.j(127,127,127),i:q.a(0,
0),children:{lbl:{label:t[0].name.substring(0,12),fontSize:12,i:q.a(.5,0),position:q.a(40,3)}}}}},stacklbl:{label:"Stackable:",fontSize:12,i:q.a(0,0),position:q.a(390,N.height-70)},stackbtn:{position:q.a(390,N.height-100),size:q.size(64,26),color:sa,i:q.a(0,0),children:{text:{label:"No",fontSize:12,i:q.a(.5,.5),position:q.a(32,13),color:q.j(0,0,0)}}},highlightnode:{i:q.a(0,0),position:q.a(0,0),size:q.size(32,32),color:q.l(255,100,100,255)},selectednode:{i:q.a(0,0),position:q.a(0,0),size:q.size(32,
32),color:q.l(100,255,100,255)},descriptionLbl:{label:"Description:",fontSize:12,i:q.a(0,0),position:q.a(4,N.height-93)},descriptionBox:{size:q.size(290,40),position:q.a(74,N.height-120),color:q.j(180,180,180),i:q.a(0,0)}}},tab2:{children:{list:{size:q.size(466,N.height-50),position:q.a(2,2),i:q.a(0,0),color:q.j(180,180,180)},shopName_label:{label:"Store Name",position:q.a(4,N.height-40),color:q.j(255,255,255),fontSize:12,i:q.a(0,0)},shopSell_label:{label:"Sell Price",position:q.a(90,N.height-40),
color:q.j(255,255,255),fontSize:12,i:q.a(0,0)},shopBuy_label:{label:"Buy Price",position:q.a(275,N.height-40),color:q.j(255,255,255),fontSize:12,i:q.a(0,0)}}},tab3:{children:{scriptList:{position:q.a(0,0),size:q.size(352,N.height-20),i:q.a(0,0)}}}}}}},Uc:function(){return"itemEditor"},$b:null,Kt:null,g:null,data:null,Ng:null,w:function(a){this._super();this.nj(-100);this.data={value:[],sprite:{texture:t[0].name,position:{x:0,y:0}},script:null,stackable:!1,name:""};this.kd=t[0].name;this.oa=0;this.Ng=
this.g=this.Kt=this.$b=null;this.Z=q.a(0,0);this.g=a.g;a&&a.data&&(this.data=a.data,this.data.script&&(this.Ng=this.data.script),a.data.value||(this.data.value=[]))},zm:function(a){sendToServer("saveNewItemMessage",{saveitems:a+"",itemdata:this.data})},bm:function(a,c){sendToServer("deleteItemMessage",{saveitemswhole:c})},wa:function(){this._super();this.b.tab1.highlightnode.ua(0);this.b.tab1.selectednode.ua(127);for(var a in t)t[a].name==this.data.sprite.texture&&(this.oa=a,this.kd=t[a].name);this.b.tab1.menu_bar.textureDropDown.lbl.ia(this.kd);
this.b.tab1.tiles.ma(t[this.oa].texture);for(a=this.data.sprite.position.x;10<=a;)a--,this.Z.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.Z.y++;a=q.a(32*(this.data.sprite.position.x-this.Z.x),32*(this.data.sprite.position.y-this.Z.y));this.b.tab1.selectednode.o(this.b.tab1.tiles.v.x+a.x,this.b.tab1.tiles.v.y-(a.y+32));this.$b=new Z(this.b.tab1.name_entry,q.size(this.b.tab1.name_entry.c().width,this.b.tab1.name_entry.c().height+4),q.a(0,this.b.tab1.name_entry.c().height+4),this.data.name?this.data.name:
"",q.l(100,100,100),q.j(0,0,0));this.$b.fb(!0);this.$b.ge();this.Kt=new Z(this.b.tab1.descriptionBox,q.size(this.b.tab1.descriptionBox.c().width,this.b.tab1.descriptionBox.c().height+4),q.a(0,this.b.tab1.descriptionBox.c().height+4),"",q.l(255,255,255),q.j(0,0,0),!0);this.Kt.fb(!0);this.Kt.ge();this.b.tab1.stackbtn.n(sa);this.b.tab1.stackbtn.text.ia("No");1==this.data.stackable&&(this.b.tab1.stackbtn.n(ra),this.b.tab1.stackbtn.text.ia("Yes"));this.ek();this.Ff(1);this.Kc()},Ff:function(a){2==a&&(this.b.tab1.name_entry.Qb(-1E4),
this.b.tab1.descriptionBox.Qb(-1E4));1==a&&(this.b.tab1.name_entry.Qb(74),this.b.tab1.descriptionBox.Qb(74));3==a&&this.Rm();4==a?(this.b.tab1.descriptionBox.Qb(-1E4),this.b.tab2.H(!0),this.Pc=a):(this.Pc=a,this.b.tab1.H(!1),this.b.tab2.H(!1),this.b.tab3.H(!1),this.b["tab"+a].H(!0))},Ta:function(a){this._super();if(this.g){var c=this.g;1!=a&&this.g.fe(function(){c.Nd(null)})}},ij:function(a){a=a.W;this.b.tab1.highlightnode.ua(0);a=this.b.tab1.tiles.Ca(a);if(0<=a.x&&0<=a.y&&a.x<=this.b.tab1.tiles.c().width&&
a.y<=this.b.tab1.tiles.c().height)return a.x-=a.x%32,a.y=a.y-a.y%32+(N.height-140-this.b.tab1.tiles.c().height),this.b.tab1.highlightnode.ua(127),this.b.tab1.highlightnode.o(a),!0},ek:function(){this.b.tab2.list.u&&(this.b.tab2.list.u.N(),this.b.tab2.list.u=null);for(var a=[],c=[],d=this.data.value,e=this,f=0;f<d.length;f++){a[f]=q.Node.create();var g=q.V.create(q.l(0,0,0,127),456,1),h=q.O.create(ObjectLists.Oq()[d[f].shopid].name,"Arial",12);h.n(q.j(0,0,0));h.A(q.a(0,.5));h.o(q.a(4,30));h.Fa(q.size(50,
0));var k=q.B.cb(q.da.f().pa("GUI/trash.png"));k.o(q.a(64,18));k.A(q.a(0,0));k.Ha="Delete";a[f].G(468,60);c.push([k]);a[f].e(g);a[f].e(h);a[f].e(k);g=f;h=q.V.create(q.l(255,255,255,100),148,59);h.o(88,1);a[f].e(h);for(var l=[],k=[],m=0;m<d[f].sell.length;m++){var p=ObjectLists.Zb()[d[f].sell[m].id].name;l[m]=q.Node.create();l[m].G(148,20);p=q.O.create(p,"Arial",15);p.n(q.j(0,0,0));p.A(q.a(0,0));p.o(q.a(4,4));p.Fa(q.size(65,0));var w=q.B.cb(q.da.f().pa("GUI/trash.png"));w.o(q.a(124,(p.c().height+8)/
2-10));w.A(q.a(0,0));w.Ha="Delete";a[f].G(148,60);var v=q.V.create(q.l(255,255,255,255),50,20);v.o(q.a(69,(p.c().height+8)/2-10));v.A(q.a(0,0));v.Ha="Edit";var x=q.O.create("x "+d[f].sell[m].amount,"Arial",12);x.o(2,(20-x.c().height)/2);x.n(q.j(0,0,0));x.A(q.a(0,0));v.e(x);x=q.V.create(q.l(0,0,0,127),148,1);l[m].e(x);l[m].e(p);l[m].e(w);l[m].e(v);l[m].G(148,p.c().height+8);k.push([w,v])}m=q.V.create(q.l(70,200,70,255),40,20);p=q.O.create("+","Arial",15);p.o(20,10);p.A(q.a(.5,.5));m.o(q.a(54,0));m.Ha=
"Add";m.e(p);k.push([m]);l.push(m);h.tb=function(){for(var a=0,c=0;c<l.length;c++)a+=l[c].c().height;return q.size(180,a)};h.pb=function(){return l.length};h.xb=function(a){return l[a].c()};h.wb=function(a){return l[a]};h.ld=function(a){return l[a].kb};h.Ma=function(a,c,d,f){if(2==e.Pc)switch(a){case "Add":e.be=this.u.index;a=ObjectLists.Zb();c=[];for(var g in a)c[g]=a[g]&&""!=a[g].name?a[g].name:null;e.OJ(c,!0);break;case "Edit":e.by=!0;e.be=this.u.index;e.bi=c;e.ym(f);break;case "Delete":e.be=this.u.index,
e.bi=c,e.tU(d)}};h.u=ListView.create(h);h.u.zb(k);h.u.index=g;h.e(h.u);h=q.V.create(q.l(255,255,255,180),148,59);h.o(274,1);a[f].e(h);for(var z=[],k=[],m=0;m<d[f].buy.length;m++)p=ObjectLists.Zb()[d[f].buy[m].id].name,z[m]=q.Node.create(),z[m].G(148,20),p=q.O.create(p,"Arial",15),p.n(q.j(0,0,0)),p.A(q.a(0,0)),p.o(q.a(4,4)),p.Fa(q.size(65,0)),w=q.B.cb(q.da.f().pa("GUI/trash.png")),w.o(q.a(124,(p.c().height+8)/2-10)),w.A(q.a(0,0)),w.Ha="Delete",a[f].G(148,60),v=q.V.create(q.l(255,255,255,255),50,20),
v.o(q.a(69,(p.c().height+8)/2-10)),v.A(q.a(0,0)),v.Ha="Edit",x=q.O.create("x "+d[f].buy[m].amount,"Arial",12),x.o(2,(20-x.c().height)/2),x.n(q.j(0,0,0)),x.A(q.a(0,0)),v.e(x),x=q.V.create(q.l(0,0,0,127),148,1),z[m].e(x),z[m].e(p),z[m].e(w),z[m].e(v),z[m].G(148,p.c().height+8),k.push([w,v]);m=q.V.create(q.l(70,200,70,255),40,20);p=q.O.create("+","Arial",15);p.o(20,10);p.A(q.a(.5,.5));m.o(q.a(54,0));m.Ha="Add";m.e(p);k.push([m]);z.push(m);h.tb=function(){for(var a=0,c=0;c<z.length;c++)a+=z[c].c().height;
return q.size(180,a)};h.pb=function(){return z.length};h.xb=function(a){return z[a].c()};h.wb=function(a){return z[a]};h.ld=function(a){return z[a].kb};h.Ma=function(a,c,d,f){if(2==e.Pc)switch(a){case "Add":e.be=this.u.index;a=ObjectLists.Zb();c=[];for(var g in a)c[g]=a[g]&&""!=a[g].name?a[g].name:null;e.OJ(c,!1);break;case "Edit":e.by=!1;e.be=this.u.index;e.bi=c;e.ym(f);break;case "Delete":e.be=this.u.index,e.bi=c,e.oU(d)}};h.u=ListView.create(h);h.u.index=g;h.u.zb(k);h.e(h.u)}d=q.V.create(q.l(70,
200,70,255),90,26);f=q.O.create("+","Arial",20);f.o(45,13);f.A(q.a(.5,.5));d.o(q.a(185,0));d.Ha="Add";d.e(f);c.push([d]);a.push(d);this.b.tab2.list.tb=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(468,c)};this.b.tab2.list.pb=function(){return a.length};this.b.tab2.list.xb=function(c){return a[c].c()};this.b.tab2.list.wb=function(c){return a[c]};this.b.tab2.list.ld=function(c){return a[c].kb};this.b.tab2.list.Ma=function(a,c,d){if(2==e.Pc)switch(a){case "Add":a=ObjectLists.Oq();
c=[];for(var f in a)c.push(a[f].name);for(f=0;f<e.data.value.length;f++)c[e.data.value[f].shopid]=null;e.hU(c);break;case "Delete":e.be=c,e.vU(d)}};this.b.tab2.list.u=ListView.create(this.b.tab2.list);this.b.tab2.list.u.zb(c);this.b.tab2.list.e(this.b.tab2.list.u)},hU:function(a){this.b.tab2.list.u&&(this.b.tab2.list.u.N(),this.b.tab2.list.u=null);for(var c=[],d=[],e=this,f=0;f<a.length;f++)if(c[f]=q.Node.create(),null==a[f])c[f].G(q.size(0,0)),d.push([]);else{var g=q.V.create(q.l(0,0,0,127),456,
1),h=q.O.create(a[f],"Arial",12);h.n(q.j(0,0,0));h.A(q.a(0,0));h.o(q.a(4,4));h.Fa(q.size(456,0));c[f].G(468,h.c().height+8);c[f].Ha="Use";d.push([c[f]]);c[f].e(g);c[f].e(h)}this.b.tab2.list.tb=function(){for(var a=0,d=0;d<c.length;d++)a+=c[d].c().height;return q.size(468,a)};this.b.tab2.list.pb=function(){return c.length};this.b.tab2.list.xb=function(a){return c[a].c()};this.b.tab2.list.wb=function(a){return c[a]};this.b.tab2.list.ld=function(a){return c[a].kb};this.b.tab2.list.Ma=function(a,c){e.kT(c);
e.ek()};this.b.tab2.list.u=ListView.create(this.b.tab2.list);this.b.tab2.list.u.zb(d);this.b.tab2.list.e(this.b.tab2.list.u)},OJ:function(a,c){console.log(a);this.b.tab2.list.u&&(this.b.tab2.list.u.N(),this.b.tab2.list.u=null);for(var d=[],e=[],f=this,g=0;g<a.length;g++)if(d[g]=q.Node.create(),null==a[g])d[g].G(q.size(0,0)),e.push([]);else{var h=q.V.create(q.l(0,0,0,127),456,1),k=q.O.create(a[g],"Arial",12);k.n(q.j(0,0,0));k.A(q.a(0,0));k.o(q.a(4,4));k.Fa(q.size(456,0));d[g].G(468,k.c().height+8);
d[g].Ha="Use";e.push([d[g]]);d[g].e(h);d[g].e(k)}this.b.tab2.list.tb=function(){for(var a=0,c=0;c<d.length;c++)a+=d[c].c().height;return q.size(468,a)};this.b.tab2.list.pb=function(){return d.length};this.b.tab2.list.xb=function(a){return d[a].c()};this.b.tab2.list.wb=function(a){return d[a]};this.b.tab2.list.ld=function(a){return d[a].kb};this.b.tab2.list.Ma=function(a,d){c?f.jT(f.be,d):f.hT(f.be,d);f.ek()};this.b.tab2.list.u=ListView.create(this.b.tab2.list);this.b.tab2.list.u.zb(e);this.b.tab2.list.e(this.b.tab2.list.u)},
ym:function(a){this.eb&&this.Xi();this.eb=new Z(a,q.size(a.c().width,a.c().height+4),q.a(0,a.c().height+4),1==this.by?this.data.value[this.be].sell[this.bi].amount:this.data.value[this.be].buy[this.bi].amount,q.l(255,255,255),q.j(0,0,0),!1,null,this);this.eb.fb(!0);this.Db(this.Wi)},Wi:function(){!ta&&this.eb&&(this.eb.kj(!0),this.fc(this.Wi))},sE:function(){return this.eb?!0:!1},Ku:function(){this.Xi()},Xi:function(){0<parseInt(this.eb.ba())&&(1==this.by?this.data.value[this.be].sell[this.bi].amount=
this.eb.ba():this.data.value[this.be].buy[this.bi].amount=this.eb.ba());this.eb.kj(!1);this.eb.N();this.eb=null;this.ek()},kT:function(a){this.data.value.push({shopid:a,sell:[],buy:[]});this.ek()},tU:function(a){H.e(DropDownList.Nb(this,this.uU,["Delete","Cancel"],a.W))},uU:function(a){0==a&&(this.g.data.value[this.g.be].sell.splice(this.g.bi,1),this.g.ek());this.g.be=null;this.g.bi=null},vU:function(a){H.e(DropDownList.Nb(this,this.wU,["Delete","Cancel"],a.W))},wU:function(a){0==a&&(this.g.data.value.splice(this.g.be,
1),this.g.ek());this.g.be=null},oU:function(a){H.e(DropDownList.Nb(this,this.pU,["Delete","Cancel"],a.W))},pU:function(a){0==a&&(this.g.data.value[this.g.be].buy.splice(this.g.bi,1),this.g.ek());this.g.be=null;this.g.bi=null},jT:function(a,c){this.data.value[a].sell.push({id:c,amount:1});this.ek()},hT:function(a,c){this.data.value[a].buy.push({id:c,amount:1});this.ek()},Kc:function(){this.Db(this.Kc);this.b.tab1.tiles.ha()&&1==this.b.tab1.tiles.ha().fd&&(this.fc(this.Kc),this.b.tab1.tiles.hb(q.rect(Math.floor(K*
this.Z.x),Math.floor(K*this.Z.y),466>t[this.oa].texture.c().width?t[this.oa].texture.c().width:466,t[this.oa].texture.c().height<this.ni?t[this.oa].texture.c().height:this.ni)))},Ou:function(a){this.g.oa=a;this.g.b.tab1.tiles.ma(t[this.g.oa].texture);this.g.kd=t[this.g.oa].name;this.g.b.tab1.menu_bar.textureDropDown.lbl.ia(this.g.kd);this.g.Z=q.a(0,0);this.g.Kc();this.g.b.tab1.menu_bar.textureDropDown.n(q.j(127,127,127));this.g.b.tab1.menu_bar.textureDropDown.lbl.ia(t[this.g.oa].name.substring(0,
12))},Zf:function(){this.$e=null},Cd:function(a){if(null!=this.$e){this.b.tab1.selectednode.ua(0);this.b.tab1.highlightnode.ua(0);a=this.b.Ca(a.W);var c=q.a(this.$e.x-a.x,this.$e.y-a.y);32<c.x?466<t[this.oa].texture.c().width&&this.Z.x<(t[this.oa].texture.c().width-466)/K&&(this.Z.x++,this.Kc(),this.$e.x=a.x):-32>c.x?466<t[this.oa].texture.c().width&&0<this.Z.x&&(this.Z.x--,this.Kc(),this.$e.x=a.x):32<c.y?466<t[this.oa].texture.c().height&&0<this.Z.y&&(this.Z.y--,this.Kc(),this.$e.y=a.y):-32>c.y&&
466<t[this.oa].texture.c().height&&this.Z.y<(t[this.oa].texture.c().height-this.ni)/K&&(this.Z.y++,this.Kc(),this.$e.y=a.y);return!0}return!1},yb:function(a){a=a.W;this.b.tab1.menu_bar.textureDropDown.n(q.j(127,127,127));var c=this.b.Ca(a);if(1==this.Pc){if(E(this.b.tab1.menu_bar.textureDropDown,this.b.tab1.menu_bar.Ca(a))){a=[];for(var d in t)a.push(t[d].name.substring(0,12));this.b.tab1.menu_bar.textureDropDown.n(q.j(60,60,60));d=DropDownList.Nb(this,this.Ou,a,q.a(0,N.height-40));d.ti(this.uh);
d.lj(80);this.e(d);return!0}E(this.b.tab1.scriptbtn,c)&&(Scripteditor?(Scripteditor.Ta(),Scripteditor.N(),Scripteditor=null):(Scripteditor=new PopupList,Scripteditor.w({g:this,fm:new ScriptEditor,list:ObjectLists.zf(),name:"Script List"}),Scripteditor.wa(),this.e(Scripteditor)));if(E(this.b.tab1.cancelbtn,c)){this.Af=!0;var e=this.g;this.g.fe(function(){e.Nd(null)});return!0}if(E(this.b.tab1.stackbtn,c))return this.SF(),!0;c=this.b.tab1.tiles.Ca(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.tab1.tiles.c().width&&
c.y<=this.b.tab1.tiles.c().height){this.$e=q.a(c.x,c.y);c.x-=c.x%K;c.y=c.y-c.y%K+(N.height-140-this.b.tab1.tiles.c().height);this.b.tab1.selectednode.ua(0);if(this.b.tab1.selectednode.v.R!=c.x||this.b.tab1.selectednode.v.S!=c.y)this.b.tab1.selectednode.ua(127),this.b.tab1.selectednode.o(c);a=q.a(this.b.tab1.selectednode.v.R/K+this.Z.x,Math.floor(this.ni/K)-1-(this.b.tab1.selectednode.v.S-(N.height-140-this.b.tab1.tiles.c().height))/K+this.Z.y);this.data.sprite.position=a;return!0}}return!1},Rm:function(){var a=
ObjectLists.zf();null!=this.b.tab3.scriptList.u&&(this.b.tab3.scriptList.u.N(),this.b.tab3.scriptList.u=null);for(var c=[],d=[],e=0;e<a.length;e++)if(c[e]=q.Node.create(),"Item"==a[e].specifier){c[e]=q.B.create();c[e].n(q.j(80,80,80));c[e].A(q.a(0,0));var f=q.O.create(a[e].name,"Arial",12);f.A(q.a(0,0));var g=q.V.create(q.l(0,0,0,127),440,1);g.o(q.a(0,0));f.o(q.a(2,2));f.Fa(q.size(440,0));c[e].hb(q.rect(0,0,440,f.c().height+4));c[e].G(440,f.c().height+4);c[e].e(f);c[e].e(g);d.push([c[e]]);this.Ng==
e&&(c[e].n(q.j(200,200,200)),f.n(q.j(0,0,0)),c[e].Ha="Use")}else d.push([]),c[e].G(0,0);var h=this;this.b.tab3.scriptList.tb=function(){for(var a=0,d=0;d<c.length;d++)a+=c[d].c().height;return q.size(444,a)};this.b.tab3.scriptList.pb=function(){return c.length};this.b.tab3.scriptList.xb=function(a){return c[a].c()};this.b.tab3.scriptList.wb=function(a){return c[a]};this.b.tab3.scriptList.ld=function(a){return c[a].kb};this.b.tab3.scriptList.Ma=function(a,c){h.Ng=c;h.Rm()};this.b.tab3.scriptList.u=
ListView.create(this.b.tab3.scriptList);this.b.tab3.scriptList.u.Ib&&(this.b.tab3.scriptList.u.Ib.Qb(444),this.b.tab3.scriptList.u.Ib.G(20,60),this.b.tab3.scriptList.u.Ib.n(q.l(200,200,200,100)),this.b.tab3.scriptList.u.bg.H(!1));this.b.tab3.scriptList.u.zb(d);this.b.tab3.scriptList.e(this.b.tab3.scriptList.u)},SF:function(){this.data.stackable=!this.data.stackable;this.b.tab1.stackbtn.n(sa);this.b.tab1.stackbtn.text.ia("No");1==this.data.stackable&&(this.b.tab1.stackbtn.n(ra),this.b.tab1.stackbtn.text.ia("Yes"))}});Settingseditor=null;
SettingsEditor=La.extend({data:null,I:null,sb:null,ji:function(){return["Game Strings"]},fi:function(){return["Cancel","Don't Save","Save"]},ui:function(a){switch(a){case 1:this.Af=!0;var c=this.g;this.g.fe(function(){c.Nd(null)});break;case 2:this.Af=!0,C=F(this.data),sendToServer({savesettings:this.data}),T.$F(this.data,Date.now())}return!0},Uc:function(){return"Settings Editor"},Ta:function(){this._super()},w:function(){this._super();this.data=F(C)},wa:function(){this._super();this.nb()},nb:function(){this.I&&
this.I.Wc();var a=[],c=[];q.da.f();var d=0,e;for(e in this.data){if("ISSECTION"!=this.data[e]){a[d]=q.Node.create();a[d].G(324,32);var f=q.O.create(e,"Arial",18);f.A(q.a(0,0));f.o(q.a(4,0));f.Fa(q.size(246,0));a[d].e(f);a[d].G(324,f.c().height+4);f=[];c.push(f);d++}a[d]=q.Node.create();a[d].G(324,32);var g=q.V.create(q.l(255,255,255,255),316,1);g.o(q.a(4,0));if("ISSECTION"==this.data[e]){var h=q.O.create(e,"Arial",22);h.n(q.j(255,255,0))}else h=q.O.create(this.data[e],"Arial",12);h.A(q.a(0,0));h.o(q.a(4,
4));h.Fa(q.size(316,0));f=[];if("ISSECTION"!=this.data[e]&&"ISYESNO"!=this.data[e]){var k=q.V.create(q.l(60,60,60,255),h.c().width,h.c().height);k.A(q.a(0,0));k.o(h.v);k.Ha="Edit";k.$T=e+"";f.push(k);a[d].e(k)}c.push(f);a[d].e(g);a[d].e(h);a[d].G(324,h.c().height+8);d++}this.I=this.b.list;var l=this;this.I.tb=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(324,c)};this.I.pb=function(){return a.length};this.I.xb=function(c){return a[c].c()};this.I.wb=function(c){return a[c]};
this.I.Ma=function(a,c,d,e){l.Ca(d.W);if(1!=l.Kda)switch(a){case "Edit":l.sb=e.$T,l.ym(e)}};this.I.u=ListView.create(this.I);this.I.u.zb(c);this.I.e(this.I.u)},ym:function(a){this.eb&&this.Xi();console.log(this.data);console.log(this.sb);console.log(this.data[this.sb]);this.eb=new Z(a,q.size(a.c().width,a.c().height+4),q.a(-4,a.c().height+4),this.data[this.sb],q.l(255,255,255),q.j(0,0,0),!0,null,this);this.eb.fb(!0);this.Db(this.Wi)},Wi:function(){!ta&&this.eb&&(this.eb.kj(!0),this.fc(this.Wi))},
sE:function(){return this.eb?!0:!1},Ku:function(){this.Xi()},Xi:function(){this.data[this.sb]=this.eb.ba();this.eb.kj(!1);this.eb.N();this.eb=null;this.nb()},uc:function(){return{panels:{children:{list:{size:q.size(324,N.height-20),position:q.a(0,0),i:q.a(0,0)}}}}}});QuestEditor=La.extend({data:null,I:null,g:null,sb:null,Uc:function(){return"Quest Editor"},ji:function(){return["Objectives"]},Ff:function(){},fi:function(){return["Cancel","Don't Save","Save"]},ui:function(a){switch(a){case 1:this.Af=!0;var c=this.g;this.g.fe(function(){c.Nd(null)});break;case 2:this.Af=!0,this.data.name=this.$b.ba(),this.g.Nd(this.data)}},Ta:function(a){this._super();if(this.g){var c=this.g;1!=a&&this.g.fe(function(){c.Nd(null)})}},iT:function(){this.data.objectiveList.splice(this.data.objectiveList.length-
1,0,"Blank Objective");this.nb()},w:function(a){this._super();this.data={name:"",objectiveList:["Unstarted","Initial Objective. Click edit to change this first objective. Click the '+' to add another object. You cannot delete every objective (you need at least one)","Finished"]};this.g=a.g;a&&a.data&&(this.data=a.data)},zm:function(a){sendToServer("saveNewQuestMessage",{savequests:a+"",questdata:this.data})},bm:function(a,c){sendToServer("deleteQuestMessage",{savequestswhole:c})},wa:function(){this._super();
this.nb();this.$b=new Z(this.b.name_entry,q.size(this.b.name_entry.c().width,this.b.name_entry.c().height+4),q.a(0,this.b.name_entry.c().height+4),this.data.name?this.data.name:"",q.l(100,100,100),q.j(0,0,0));this.$b.fb(!0);this.$b.ge()},nb:function(){this.I&&(this.I.u.N(),this.I.u=null);var a=[],c=[],d=q.da.f(),e;for(e=0;e<this.data.objectiveList.length-1;e++)if(a[e]=q.Node.create(),a[e].G(324,32),null==this.data.objectiveList[e])this.data.objectiveList.splice(e,1);else{var f=q.B.create();f.hb(q.rect(0,
0,316,1));f.n(q.l(0,0,0,127));f.A(q.a(0,0));f.o(q.a(4,0));var g=q.B.cb(d.pa("GUI/trash.png"));g.o(q.a(300,0));g.A(q.a(0,0));var h=q.O.create(this.data.objectiveList[e],"Arial",15);h.A(q.a(0,0));h.o(q.a(4,4));h.Fa(q.size(246,0));h.n(q.j(0,0,0));if(0<e){var k=q.V.create(q.l(255,255,255,255),h.c().width,h.c().height);k.o(h.v);a[e].e(k);h.Ha="Edit";k=[];k.push(h)}1<e&&(g.Ha="Delete",k.push(g));c.push(k);a[e].e(f);1<e&&a[e].e(g);a[e].e(h);a[e].G(324,h.c().height+8);g.od((h.c().height+8)/2-10)}d=q.B.create();
d.hb(q.rect(0,0,90,26));d.n(q.l(70,200,70,255));d.A(q.a(0,0));f=q.O.create("+","Arial",20);f.o(45,13);f.A(q.a(.5,.5));d.o(q.a(120,0));d.Ha="Add";d.e(f);c.push([d]);a.push(d);a[e+1]=q.Node.create();a[e+1].G(324,32);f=q.B.create();f.hb(q.rect(0,0,316,1));f.n(q.l(0,0,0,127));f.A(q.a(0,0));f.o(q.a(4,0));h=q.O.create(this.data.objectiveList[e],"Arial",15);h.A(q.a(0,0));h.o(q.a(4,4));h.Fa(q.size(246,0));h.n(q.j(0,0,0));c.push([]);a[e+1].e(f);a[e+1].e(h);a[e+1].G(324,h.c().height+8);g.od((h.c().height+8)/
2-10);delete e;this.I=this.b.list;var l=this;this.I.tb=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(W-20,c)};this.I.pb=function(){return a.length};this.I.xb=function(c){return a[c].c()};this.I.wb=function(c){return a[c]};this.I.Ma=function(a,c,d,e){console.log(a);switch(a){case "Delete":H.e(DropDownList.Nb(l,l.Jt,["Cancel","Delete"],d.W));l.sb=c;break;case "Edit":l.sb=c;l.ym(e);break;case "Add":l.iT()}};this.I.u=ListView.create(this.I);this.I.u.zb(c);this.I.e(this.I.u)},
ym:function(a){this.eb&&this.Xi();this.eb=new Z(a,q.size(a.c().width,a.c().height+4),q.a(-4,a.c().height+4),this.data.objectiveList[this.sb],q.l(255,255,255),q.j(0,0,0),!0,null,this);this.eb.fb(!0);this.Db(this.Wi)},Wi:function(){!ta&&this.eb&&(this.eb.kj(!0),this.fc(this.Wi))},sE:function(){return this.eb?!0:!1},Ku:function(){this.Xi()},Xi:function(){this.data.objectiveList[this.sb]=this.eb.ba();this.eb.kj(!1);this.eb.N();this.eb=null;this.nb()},uc:function(){return{panels:{children:{name_lbl:{label:"Name:",
fontSize:12,i:q.a(0,0),position:q.a(4,N.height-44)},name_entry:{position:q.a(74,N.height-44),size:q.size(290,16),i:q.a(0,0),color:q.j(180,180,180)},objectivesLabel:{label:"Objectives:",position:q.a(4,N.height-70),i:q.a(0,0)},list:{size:q.size(W-20,N.height-74),color:q.j(180,180,180),position:q.a(2,0),i:q.a(0,0)}}}}},Jt:function(a){switch(a){case 1:this.g.sb&&(this.g.data.objectiveList.splice(this.g.sb,1),this.g.nb(),this.g.sb=null)}}});MapEditor=La.extend({map:null,Z:q.a(0,0),Eq:"tiles",tL:null,Gt:"ground1",kd:t[0].name,oa:0,mo:-1,ni:null,ui:function(){this.yY();return!0},ji:function(){return["Tiles","Scripts","Settings"]},fi:function(){return["Cancel","Save & Exit"]},uc:function(){this.ni=N.height-40-(N.height-40)%K;return{panels:{children:{tab1:{children:{tiles:{i:q.a(0,1),position:q.a(0,N.height-40),Na:t[0].name},scriptbtn:{position:q.a(360,360),size:q.size(128,26),color:qa,i:q.a(0,0),children:{text:{label:"Script",fontSize:12,
i:q.a(.5,.5),position:q.a(64,13),color:q.j(0,0,0)}}},menu_bar:{size:q.size(352,20),position:q.a(0,N.height-40),color:q.j(127,127,127),children:{layerDropDown:{position:q.a(0,0),size:q.size(80,20),color:q.j(127,127,127),i:q.a(0,0),children:{lbl:{label:"Ground 1",fontSize:12,i:q.a(.5,0),position:q.a(40,3)}}},textureDropDown:{position:q.a(80,0),size:q.size(80,20),color:q.j(127,127,127),i:q.a(0,0),children:{lbl:{label:t[0].name.substring(0,12),fontSize:12,i:q.a(.5,0),position:q.a(40,3)}}},fillbtn:{position:q.a(160,
0),size:q.size(80,20),color:q.j(127,127,127),i:q.a(0,0),children:{lbl:{label:"Fill All",fontSize:12,i:q.a(.5,0),position:q.a(40,3)}}},deletebtn:{position:q.a(240,0),size:q.size(80,20),color:q.j(127,127,127),i:q.a(0,0),children:{lbl:{label:"Delete",fontSize:12,i:q.a(.5,0),position:q.a(40,3)}}}}},highlightnode:{i:q.a(0,0),position:q.a(0,0),size:q.size(K,K),color:q.l(255,100,100,255)},selectednode:{i:q.a(0,0),position:q.a(0,0),size:q.size(K,K),color:q.l(100,255,100,255)}}},tab2:{children:{scriptList:{position:q.a(0,
0),size:q.size(352,N.height-20),i:q.a(0,0)}}},tab3:{children:{mapname_lbl:{label:"Name:",fontSize:12,i:q.a(0,1),position:q.a(4,N.height-29)},mapName_entry:{position:q.a(60,N.height-44),size:q.size(282,16),i:q.a(0,0),color:q.j(180,180,180)},mapmusic_lbl:{label:"Music:",fontSize:12,i:q.a(0,1),position:q.a(4,N.height-63)},musicList:{position:q.a(60,N.height-162),size:q.size(282,100),i:q.a(0,0),color:q.j(180,180,180)},mapconnectors_lbl:{label:"Joins:",fontSize:12,i:q.a(0,1),position:q.a(4,N.height-180)},
mapsizers_lbl:{label:"Size:",fontSize:12,i:q.a(0,1),position:q.a(4,N.height-352)},destroyMap:{size:q.size(282,20),position:q.a(60,56),color:q.j(255,0,0),i:q.a(0,0),children:{lbl:{label:"Destroy Map",fontSize:12,i:q.a(.5,0),position:q.a(141,3),color:q.j(255,255,255)}}},connectors:{size:q.size(282,120),position:q.a(60,N.height-302),color:q.j(180,180,180),i:q.a(0,0),children:{this_map:{label:"#"+S.yf(),fontSize:12,i:q.a(.5,0),position:q.a(140,48),color:q.j(0,0,0)},mapUp_text:{label:"Up",fontSize:12,
i:q.a(0,0),color:q.j(0,0,0),position:q.a(111,104)},mapUp_entry:{size:q.size(60,16),position:q.a(111,90),color:q.j(60,60,60)},mapDown_text:{label:"Down:",color:q.j(0,0,0),fontSize:12,i:q.a(0,0),position:q.a(111,18)},mapDown_entry:{size:q.size(60,16),position:q.a(111,4),color:q.j(60,60,60)},mapLeft_text:{label:"Left:",fontSize:12,i:q.a(0,0),position:q.a(38,64),color:q.j(0,0,0)},mapLeft_entry:{size:q.size(60,16),position:q.a(38,48),color:q.j(60,60,60)},mapRight_text:{label:"Right:",fontSize:12,i:q.a(0,
0),position:q.a(182,64),color:q.j(0,0,0)},mapRight_entry:{size:q.size(60,16),position:q.a(182,48),color:q.j(60,60,60)}}},sizers:{color:q.j(180,180,180),size:q.size(282,38),position:q.a(60,N.height-360),children:{mapHeight_text:{label:"Height:",fontSize:12,i:q.a(0,0),position:q.a(182,20),color:q.j(0,0,0)},mapHeight_entry:{size:q.size(60,16),position:q.a(182,4),color:q.j(60,60,60)},mapWidth_text:{label:"Width:",fontSize:12,i:q.a(0,0),position:q.a(38,20),color:q.j(0,0,0)},mapWidth_entry:{size:q.size(60,
16),position:q.a(38,4),color:q.j(60,60,60)}}}}}}}}},KN:function(){var a=["No Music"],c;for(c in y)a.push(y[c]);null!=this.b.tab3.musicList.u&&(this.b.tab3.musicList.u.N(),this.b.tab3.musicList.u=null);var d=[],e=[];for(c=0;c<a.length;c++){d[c]=q.Node.create();d[c]=q.B.create();d[c].n(q.j(180,180,180));d[c].A(q.a(0,0));var f=q.O.create(a[c],"Arial",12);f.A(q.a(0,0));f.n(q.j(0,0,0));var g=q.V.create(q.l(0,0,0,127),282,1);g.o(q.a(0,0));f.o(q.a(2,2));f.Fa(q.size(282,0));d[c].hb(q.rect(0,0,282,f.c().height+
4));d[c].G(282,f.c().height+4);d[c].e(f);d[c].e(g);d[c].Ha="Use";e.push([d[c]]);this.mo+1==c&&(d[c].n(q.j(60,60,60)),f.n(q.j(255,255,255)))}var h=this;this.b.tab3.musicList.tb=function(){for(var a=0,c=0;c<d.length;c++)a+=d[c].c().height;return q.size(282,a)};this.b.tab3.musicList.pb=function(){return d.length};this.b.tab3.musicList.xb=function(a){return d[a].c()};this.b.tab3.musicList.wb=function(a){return d[a]};this.b.tab3.musicList.ld=function(a){return d[a].kb};this.b.tab3.musicList.Ma=function(a,
c){h.mo=c-1;h.KN()};this.b.tab3.musicList.u=ListView.create(this.b.tab3.musicList);this.b.tab3.musicList.u.Ib&&(this.b.tab3.musicList.u.Ib.Qb(282),this.b.tab3.musicList.u.Ib.G(20,60),this.b.tab3.musicList.u.Ib.n(q.l(200,200,200,100)),this.b.tab3.musicList.u.bg.H(!1));this.b.tab3.musicList.u.zb(e);this.b.tab3.musicList.e(this.b.tab3.musicList.u)},Rm:function(){var a=ObjectLists.zf();null!=this.b.tab2.scriptList.u&&(this.b.tab2.scriptList.u.N(),this.b.tab2.scriptList.u=null);for(var c=[],d=[],e=0;e<
a.length;e++)if(c[e]=q.Node.create(),"Tile"==a[e].specifier){c[e]=q.B.create();c[e].n(q.j(80,80,80));c[e].A(q.a(0,0));var f=q.O.create(a[e].name,"Arial",12);f.A(q.a(0,0));var g=q.V.create(q.l(0,0,0,127),326,1);g.o(q.a(0,0));f.o(q.a(2,2));f.Fa(q.size(326,0));c[e].hb(q.rect(0,0,326,f.c().height+4));c[e].G(326,f.c().height+4);c[e].e(f);c[e].e(g);d.push([c[e]]);this.Ng==e&&(c[e].n(q.j(200,200,200)),f.n(q.j(0,0,0)),c[e].Ha="Use")}else d.push([]),c[e].G(0,0);var h=this;this.b.tab2.scriptList.tb=function(){for(var a=
0,d=0;d<c.length;d++)a+=c[d].c().height;return q.size(330,a)};this.b.tab2.scriptList.pb=function(){return c.length};this.b.tab2.scriptList.xb=function(a){return c[a].c()};this.b.tab2.scriptList.wb=function(a){return c[a]};this.b.tab2.scriptList.ld=function(a){return c[a].kb};this.b.tab2.scriptList.Ma=function(a,c){console.log(c);h.Ng=c;h.Rm()};this.b.tab2.scriptList.u=ListView.create(this.b.tab2.scriptList);this.b.tab2.scriptList.u.Ib&&(this.b.tab2.scriptList.u.Ib.Qb(330),this.b.tab2.scriptList.u.Ib.G(20,
60),this.b.tab2.scriptList.u.Ib.n(q.l(200,200,200,100)),this.b.tab2.scriptList.u.bg.H(!1));this.b.tab2.scriptList.u.zb(d);this.b.tab2.scriptList.e(this.b.tab2.scriptList.u)},Uc:function(){return"MapEditor"},yY:function(){var a={mapName:this.KE.ba(),up:this.ar.ba(),down:this.Yq.ba(),left:this.Zq.ba(),right:this.$q.ba(),width:this.iu.ba(),height:this.hu.ba()};a.mapMusic=-1<this.mo?this.mo:null;null==a.mapMusic&&delete a.mapMusic;S.mZ(a);S.J_()},Z:null,ar:null,Yq:null,Zq:null,$q:null,iu:null,hu:null,
y_:null,Pc:0,Ng:null,w:function(a){this._super();this.map=a;this.nj(-100);this.Z=q.a(0,0);this.y_=[null,496,200];this.mo=null!=S.CK()?S.CK():-1},wa:function(){this._super();this.b.tab1.highlightnode.ua(0);this.b.tab1.selectednode.ua(0);this.ar=new Z(this.b.tab3.connectors.mapUp_entry,q.size(this.b.tab3.connectors.mapUp_entry.c().width,this.b.tab3.connectors.mapUp_entry.c().height+4),q.a(0,this.b.tab3.connectors.mapUp_entry.c().height+4),S.SK()?S.hE():"",q.l(100,100,100),q.j(255,255,255));this.ar.fb(!0);
this.ar.Yc(!0);this.ar.ge();this.ar.Kg(5);this.Yq=new Z(this.b.tab3.connectors.mapDown_entry,q.size(this.b.tab3.connectors.mapDown_entry.c().width,this.b.tab3.connectors.mapDown_entry.c().height+4),q.a(0,this.b.tab3.connectors.mapDown_entry.c().height+4),S.PK()?S.eE():"",q.l(100,100,100),q.j(255,255,255));this.Yq.fb(!0);this.Yq.Yc(!0);this.Yq.ge();this.Yq.Kg(5);this.Zq=new Z(this.b.tab3.connectors.mapLeft_entry,q.size(this.b.tab3.connectors.mapLeft_entry.c().width,this.b.tab3.connectors.mapLeft_entry.c().height+
4),q.a(0,this.b.tab3.connectors.mapLeft_entry.c().height+4),S.QK()?S.fE():"",q.l(100,100,100),q.j(255,255,255));this.Zq.fb(!0);this.Zq.Yc(!0);this.Zq.ge();this.Zq.Kg(5);this.$q=new Z(this.b.tab3.connectors.mapRight_entry,q.size(this.b.tab3.connectors.mapRight_entry.c().width,this.b.tab3.connectors.mapRight_entry.c().height+4),q.a(0,this.b.tab3.connectors.mapRight_entry.c().height+4),S.RK()?S.gE():"",q.l(100,100,100),q.j(255,255,255));this.$q.fb(!0);this.$q.Yc(!0);this.$q.ge();this.$q.Kg(5);this.iu=
new Z(this.b.tab3.sizers.mapWidth_entry,q.size(this.b.tab3.sizers.mapWidth_entry.c().width,this.b.tab3.sizers.mapWidth_entry.c().height+4),q.a(0,this.b.tab3.sizers.mapWidth_entry.c().height+4),S.yK()?S.yK():36,q.l(255,255,255),q.j(255,255,255));this.iu.fb(!0);this.iu.ge();this.iu.Kg(5);this.hu=new Z(this.b.tab3.sizers.mapHeight_entry,q.size(this.b.tab3.sizers.mapHeight_entry.c().width,this.b.tab3.sizers.mapHeight_entry.c().height+4),q.a(0,this.b.tab3.sizers.mapHeight_entry.c().height+4),S.wK()?S.wK():
36,q.l(255,255,255),q.j(255,255,255));this.hu.fb(!0);this.hu.ge();this.hu.Kg(5);this.KE=new Z(this.b.tab3.mapName_entry,q.size(this.b.tab3.mapName_entry.c().width,this.b.tab3.mapName_entry.c().height+4),q.a(0,this.b.tab3.mapName_entry.c().height+4),S.xK()?S.xK():"",q.l(255,255,255),q.j(0,0,0));this.KE.fb(!0);this.KE.ge();this.Ff(1);this.Kc();this.KN();S.cN(!0)},GY:function(a){this.g.b.tab1.menu_bar.layerDropDown.n(q.j(127,127,127));this.g.b.tab1.menu_bar.textureDropDown.n(q.j(127,127,127));this.g.b.tab1.menu_bar.fillbtn.n(q.j(127,
127,127));var c="ground1",d="Ground 1";switch(a){case 0:c="ground1";d="Ground 1";break;case 1:c="ground2";d="Ground 2";break;case 2:c="ground3";d="Ground 3";break;case 3:c="mask1";d="Mask 1";break;case 4:c="mask2";d="Mask 2";break;case 5:c="mask3";d="Mask 3";break;case 6:c="fringe1";d="Fringe 1";break;case 7:c="fringe2";d="Fringe 2";break;case 8:c="fringe3",d="Fringe 3"}this.g.Gt=c;this.g.b.tab1.menu_bar.layerDropDown.lbl.ia(d)},Ta:function(){this._super();S.cN(!1)},ij:function(a){a=a.W;if(1==this.Pc&&
(this.b.tab1.highlightnode.ua(0),a=this.b.tab1.tiles.Ca(a),0<=a.x&&0<=a.y&&a.x<=this.b.tab1.tiles.c().width&&a.y<=this.b.tab1.tiles.c().height))return a.x-=a.x%K,a.y=a.y-a.y%K+(N.height-40-this.b.tab1.tiles.c().height),this.b.tab1.highlightnode.ua(127),this.b.tab1.highlightnode.o(a),!0},Ff:function(a){a!=this.Pc&&(this.Pc=a,this.b.tab1.H(!1),this.b.tab2.H(!1),this.b.tab3.H(!1),this.b["tab"+a].H(!0),1==a&&(this.b.tab3.o(N.width,0),this.Eq="tiles",this.b.tab1.menu_bar.deletebtn.n(q.j(127,127,127))),
2==a&&(this.b.tab3.o(N.width,0),this.Eq="script",this.Rm()),3==a&&this.b.tab3.o(0,0))},Kc:function(){this.Db(this.Kc);this.b.tab1.tiles.ha()&&1==this.b.tab1.tiles.ha().fd&&(this.fc(this.Kc),this.b.tab1.tiles.hb(q.rect(Math.floor(K*this.Z.x),Math.floor(K*this.Z.y),352>t[this.oa].texture.c().width?t[this.oa].texture.c().width:352,t[this.oa].texture.c().height<this.ni?t[this.oa].texture.c().height:this.ni)))},uh:function(a){this.g.yb(a)},FY:function(a){this.g.b.tab1.menu_bar.layerDropDown.n(q.j(127,
127,127));this.g.b.tab1.menu_bar.textureDropDown.n(q.j(127,127,127));this.g.b.tab1.menu_bar.fillbtn.n(q.j(127,127,127));1==a&&0!=this.g.b.tab1.selectednode.Vj()&&(S.UU(t[this.g.oa].name,q.a(this.g.b.tab1.selectednode.v.R/K+this.g.Z.x,Math.floor(this.g.ni/K)-1-this.g.b.tab1.selectednode.v.S/K+this.g.Z.y),this.g.Gt),S.Mu())},Zf:function(){this.$e=null},Cd:function(a){if(null!=this.$e){this.b.tab1.selectednode.ua(0);this.b.tab1.highlightnode.ua(0);a=this.b.Ca(a.W);var c=q.a(this.$e.x-a.x,this.$e.y-a.y);
32<c.x?352<t[this.oa].texture.c().width&&this.Z.x<(t[this.oa].texture.c().width-352)/K&&(this.Z.x++,this.Kc(),this.$e.x=a.x):-32>c.x?352<t[this.oa].texture.c().width&&0<this.Z.x&&(this.Z.x--,this.Kc(),this.$e.x=a.x):32<c.y?352<t[this.oa].texture.c().height&&0<this.Z.y&&(this.Z.y--,this.Kc(),this.$e.y=a.y):-32>c.y&&352<t[this.oa].texture.c().height&&this.Z.y<(t[this.oa].texture.c().height-this.ni)/K&&(this.Z.y++,this.Kc(),this.$e.y=a.y);return!0}return!1},yb:function(a){a=a.W;var c=this.b.Ca(a);this.b.tab1.menu_bar.layerDropDown.n(q.j(127,
127,127));this.b.tab1.menu_bar.textureDropDown.n(q.j(127,127,127));this.b.tab1.menu_bar.fillbtn.n(q.j(127,127,127));if(1==this.Pc){if(E(this.b.tab1.menu_bar.layerDropDown,this.b.tab1.menu_bar.Ca(a))){this.b.tab1.menu_bar.layerDropDown.n(q.j(60,60,60));var d=DropDownList.Nb(this,this.GY,"Ground 1;Ground 2;Ground 3;Mask 1;Mask 2;Mask 3;Fringe 1;Fringe 2;Fringe 3".split(";"),q.a(0,N.height-40));d.ti(this.uh);d.lj(80);this.e(d);return!0}if(E(this.b.tab1.menu_bar.textureDropDown,this.b.tab1.menu_bar.Ca(a))){a=
[];for(d in t)a.push(t[d].name.substring(0,12));this.b.tab1.menu_bar.textureDropDown.n(q.j(60,60,60));d=DropDownList.Nb(this,this.Ou,a,q.a(80,N.height-40));d.ti(this.uh);d.lj(80);this.e(d);return!0}if(E(this.b.tab1.menu_bar.deletebtn,this.b.tab1.menu_bar.Ca(a)))return this.Eq="erasing"==this.Eq?"tiles":"erasing",this.b.tab1.menu_bar.deletebtn.n(q.j(127,127,127)),"erasing"==this.Eq&&this.b.tab1.menu_bar.deletebtn.n(sa),!0;if(E(this.b.tab1.menu_bar.fillbtn,this.b.tab1.menu_bar.Ca(a)))return this.b.tab1.menu_bar.fillbtn.n(q.j(60,
60,60)),d=DropDownList.Nb(this,this.FY,["Cancel","Fill Layer"],q.a(160,N.height-40)),d.ti(this.uh),d.lj(80),this.e(d),!0;c=this.b.tab1.tiles.Ca(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.tab1.tiles.c().width&&c.y<=this.b.tab1.tiles.c().height){this.$e=q.a(c.x,c.y);c.x-=c.x%K;c.y=c.y-c.y%K+(N.height-40-this.b.tab1.tiles.c().height);this.b.tab1.selectednode.ua(0);if(this.b.tab1.selectednode.v.R!=c.x||this.b.tab1.selectednode.v.S!=c.y)this.b.tab1.selectednode.ua(127),this.b.tab1.selectednode.o(c);return!0}}3==
this.Pc&&E(this.b.tab3.destroyMap,c)&&(d=DropDownList.Nb(this,this.zU,["Cancel","Destroy"],q.a(60,56)),d.ti(this.uh),d.lj(80),this.e(d));return!1},zU:function(a){1==a&&(S.xf(),this.g.Ff(3))},zea:function(a){this.b.tab1.ground1btn.n(qa);this.b.tab1.ground2btn.n(qa);this.b.tab1.ground3btn.n(qa);this.b.tab1.mask1btn.n(qa);this.b.tab1.mask2btn.n(qa);this.b.tab1.mask3btn.n(qa);this.b.tab1.fringe1btn.n(qa);this.b.tab1.fringe2btn.n(qa);this.b.tab1.fringe3btn.n(qa);this.b.tab1[a+"btn"].n(ra);this.Gt=a},Ou:function(a){this.g.oa=
a;this.g.b.tab1.tiles.ma(t[this.g.oa].texture);this.g.kd=t[this.g.oa].name;this.g.b.tab1.menu_bar.textureDropDown.lbl.ia(this.g.kd);this.g.Z=q.a(0,0);this.g.Kc();this.g.b.tab1.menu_bar.layerDropDown.n(q.j(127,127,127));this.g.b.tab1.menu_bar.textureDropDown.n(q.j(127,127,127));this.g.b.tab1.menu_bar.fillbtn.n(q.j(127,127,127));this.g.b.tab1.menu_bar.textureDropDown.lbl.ia(t[this.g.oa].name.substring(0,12))},Gea:function(a){this.g.b.tab3.menu_bar.soundDropDown.n(q.j(127,127,127));this.g.mo=a-1;0==
a?this.g.b.tab3.menu_bar.soundDropDown.lbl.ia("NO MUSIC"):this.g.b.tab3.menu_bar.soundDropDown.lbl.ia(y[this.g.mo].substring(0,12))},DN:function(a,c,d){if(a[c]==this.tL&&"moved"==d)return!1;this.tL=a[c];switch(this.Eq){case "tiles":0!=this.b.tab1.selectednode.Vj()&&S.Hm(c,t[this.oa].name,q.a(this.b.tab1.selectednode.v.R/K+this.Z.x,Math.floor(this.ni/K)-1-this.b.tab1.selectednode.v.S/K+this.Z.y),this.Gt);break;case "script":S.JV(c)?S.AU(c):S.UZ(c,this.Ng);break;case "erasing":S.TD(c,this.Gt)}}});NPCEditor=La.extend({kd:u[0].name,oa:0,Pc:null,ji:function(){return["Sprite","Script"]},fi:function(){return["Cancel","Don't Save","Save"]},ui:function(a){switch(a){case 1:this.Af=!0;var c=this.g;this.g.fe(function(){c.Nd(null)});break;case 2:this.Af=!0,this.data.name=this.$b.ba(),this.data.sprite.number=this.Z.y,this.data.script=this.Ng,this.g.Nd(this.data)}},uc:function(){return{panels:{children:{tab1:{children:{menu_bar:{size:q.size(466,20),position:q.a(0,N.height-40),color:q.j(127,127,127),children:{textureDropDown:{position:q.a(0,
0),size:q.size(80,20),color:q.j(127,127,127),i:q.a(0,0),children:{lbl:{label:u[0].name.substring(0,12),fontSize:12,i:q.a(.5,0),position:q.a(40,3)}}}}},namelbl:{label:"Name:",fontSize:12,i:q.a(0,0),position:q.a(4,N.height-70)},name_entry:{position:q.a(74,N.height-70),size:q.size(290,16),i:q.a(0,0),color:q.j(180,180,180)},spritelbl:{label:"Sprite:",fontSize:12,i:q.a(0,0),position:q.a(4,N.height-100)},tiles:{i:q.a(0,1),position:q.a(74,552),Na:u[0].name},upbtn:{position:q.a(74,556),size:q.size(96,16),
color:q.l(0,0,255,255),i:q.a(0,0),children:{text:{label:"^",fontSize:12,i:q.a(.5,.5),position:q.a(48,8),color:q.j(255,255,255)}}},downbtn:{position:q.a(74,406),size:q.size(96,16),color:q.l(0,0,255,255),i:q.a(0,0),children:{text:{label:"v",fontSize:12,i:q.a(.5,.5),position:q.a(48,8),color:q.j(255,255,255)}}}}},tab2:{children:{scriptList:{position:q.a(0,0),size:q.size(328,N.height-20),i:q.a(0,0)}}}}}}},Rm:function(){var a=ObjectLists.zf();null!=this.b.tab2.scriptList.u&&(this.b.tab2.scriptList.u.N(),
this.b.tab2.scriptList.u=null);for(var c=[],d=[],e=0;e<a.length;e++)if(c[e]=q.Node.create(),"NPC"==a[e].specifier){c[e]=q.B.create();c[e].n(q.j(80,80,80));c[e].A(q.a(0,0));var f=q.O.create(a[e].name,"Arial",12);f.A(q.a(0,0));var g=q.V.create(q.l(0,0,0,127),328,1);g.o(q.a(0,0));f.o(q.a(2,2));f.Fa(q.size(328,0));c[e].hb(q.rect(0,0,328,f.c().height+4));c[e].G(328,f.c().height+4);c[e].e(f);c[e].e(g);d.push([c[e]]);this.Ng==e&&(c[e].n(q.j(200,200,200)),f.n(q.j(0,0,0)),c[e].Ha="Use")}else d.push([]),c[e].G(0,
0);var h=this;this.b.tab2.scriptList.tb=function(){for(var a=0,d=0;d<c.length;d++)a+=c[d].c().height;return q.size(328,a)};this.b.tab2.scriptList.pb=function(){return c.length};this.b.tab2.scriptList.xb=function(a){return c[a].c()};this.b.tab2.scriptList.wb=function(a){return c[a]};this.b.tab2.scriptList.ld=function(a){return c[a].kb};this.b.tab2.scriptList.Ma=function(a,c){h.Ng=c;h.Rm()};this.b.tab2.scriptList.u=ListView.create(this.b.tab2.scriptList);this.b.tab2.scriptList.u.Ib&&(this.b.tab2.scriptList.u.Ib.Qb(328),
this.b.tab2.scriptList.u.Ib.G(20,60),this.b.tab2.scriptList.u.Ib.n(q.l(200,200,200,100)),this.b.tab2.scriptList.u.bg.H(!1));this.b.tab2.scriptList.u.zb(d);this.b.tab2.scriptList.e(this.b.tab2.scriptList.u)},Ff:function(a){this.b.tab1.H(!1);this.b.tab2.H(!1);2==a&&this.Rm();this.b["tab"+a].H(!0);this.Pc=a},Uc:function(){return"npcEditor"},$b:null,g:null,data:null,w:function(a){this._super();this.nj(-100);this.data={name:"",sprite:{texture:null,number:null},script:null};this.kd=u[0].name;this.oa=0;
this.g=this.$b=null;this.Z=q.a(0,0);this.g=a.g;a&&a.data&&(this.data=a.data,this.data.sprite.number&&(this.Z.y=this.data.sprite.number),this.data.script&&(this.Ng=this.data.script))},zm:function(a){sendToServer("saveNewNPCMessage",{savenpcs:a+"",npcsdata:this.data})},bm:function(a,c){sendToServer("deleteNPCMessage",{savenpcswhole:c})},wa:function(){this._super();this.Ff(1);for(var a in u)u[a].name==this.data.sprite.texture&&(this.oa=a,this.kd=u[a].name);this.b.tab1.menu_bar.textureDropDown.lbl.ia(this.kd);
this.b.tab1.tiles.ma(u[this.oa].texture);null!=this.data.script&&(this.Ng=this.data.script);this.$b=new Z(this.b.tab1.name_entry,q.size(this.b.tab1.name_entry.c().width,this.b.tab1.name_entry.c().height+4),q.a(0,this.b.tab1.name_entry.c().height+4),this.data.name?this.data.name:"",q.l(100,100,100),q.j(0,0,0));this.$b.fb(!0);this.$b.ge();this.Kc()},Ta:function(a){this._super();if(this.g){var c=this.g;1!=a&&this.g.fe(function(){c.Nd(null)})}},Kc:function(){this.Db(this.Kc);this.b.tab1.tiles.ha()&&1==
this.b.tab1.tiles.ha().fd&&(this.fc(this.Kc),this.b.tab1.tiles.hb(q.rect(Math.floor(96*this.Z.x),Math.floor(128*this.Z.y),96>u[this.oa].texture.c().width?u[this.oa].texture.c().width:96,128>u[this.oa].texture.c().height?u[this.oa].texture.c().height:128)))},Ou:function(a){this.g.oa=a;this.g.b.tiles.ma(u[this.g.oa].texture);this.g.kd=u[this.g.oa].name;this.g.b.menu_bar.textureDropDown.lbl.ia(this.g.kd);this.g.Z=q.a(0,0);this.g.Kc();this.g.b.menu_bar.textureDropDown.n(q.j(127,127,127));this.g.b.menu_bar.textureDropDown.lbl.ia(u[this.g.oa].name.substring(0,
12))},yb:function(a){this.ag=null;a=a.W;var c=this.b.tab1.Ca(a);if(1==this.Pc){this.b.tab1.menu_bar.textureDropDown.n(q.j(127,127,127));if(E(this.b.tab1.menu_bar.textureDropDown,this.b.tab1.menu_bar.Ca(a))){a=[];for(var d in u)a.push(u[d].name.substring(0,12));this.b.tab1.menu_bar.textureDropDown.n(q.j(60,60,60));d=DropDownList.Nb(this,this.Ou,a,q.a(0,N.height-40));d.ti(this.uh);d.lj(80);this.e(d);return!0}if(E(this.b.tab1.upbtn,c))return 320<u[this.oa].texture.c().height&&0<this.Z.y&&(this.Z.y--,
this.Kc()),!0;if(E(this.b.tab1.downbtn,c))return 320<u[this.oa].texture.c().height&&this.Z.y<(u[this.oa].texture.c().height-320)/32&&(this.Z.y++,this.Kc()),!0}return!1},SF:function(){this.data.stackable=!this.data.stackable;this.b.tab1.stackbtn.n(sa);this.b.tab1.stackbtn.text.ia("NOT STACKABLE");1==this.data.stackable&&(this.b.tab1.stackbtn.n(ra),this.b.tab1.stackbtn.text.ia("IS STACKABLE"))},Eea:function(){this.oa>=u.length-1&&(this.oa=-1);this.oa++;this.b.tab1.tiles.ma(u[this.oa].texture);this.kd=
u[this.oa].name;this.b.tab1.textureName.text.ia(this.kd);this.data.sprite.texture=this.kd;this.Z=q.a(0,0);this.Kc()},Fea:function(){0>=this.oa&&(this.oa=u.length);this.oa--;this.b.tab1.tiles.ma(u[this.oa].texture);this.kd=u[this.oa].name;this.b.tab1.textureName.text.ia(this.kd);this.Z=q.a(0,0);this.Kc()}});Shopeditor=null;
ShopEditor=La.extend({kd:u[0].name,oa:0,ji:function(){return["Basic"]},fi:function(){return["Cancel","Don't Save","Save"]},ui:function(a){switch(a){case 1:this.Af=!0;var c=this.g;this.g.fe(function(){c.Nd(null)});break;case 2:this.Af=!0,this.data.name=this.$b.ba(),this.g.Nd(this.data)}},uc:function(){return{panels:{children:{name_lbl:{label:"Name:",fontSize:12,i:q.a(0,1),position:q.a(4,N.height-99)},name_entry:{position:q.a(60,N.height-114),size:q.size(282,16),i:q.a(0,0),color:q.j(180,180,180)},okbtn:{position:q.a(434,
16),size:q.size(32,32),Na:"GUI/tick_icon.png",i:q.a(0,0)},cancelbtn:{position:q.a(384,16),size:q.size(32,32),Na:"GUI/cross_icon.png",i:q.a(0,0)}}}}},Uc:function(){return"shopEditor"},$b:null,g:null,data:null,w:function(a){this._super();this.data={name:""};this.kd=u[0].name;this.oa=0;this.g=this.$b=null;this.g=a.g;a&&a.data&&(this.data=a.data)},zm:function(a){sendToServer("saveNewShopMessage",{saveshops:a+"",shopsdata:this.data})},bm:function(a,c){sendToServer("deleteShopMessage",{saveshopswhole:c})},
wa:function(){this._super();this.$b=new Z(this.b.name_entry,q.size(this.b.name_entry.c().width,this.b.name_entry.c().height+4),q.a(0,this.b.name_entry.c().height+4),this.data.name?this.data.name:"",q.l(100,100,100),q.j(0,0,0));this.$b.fb(!0);this.$b.ge()},Ta:function(a){this._super();if(this.g){var c=this.g;1!=a&&this.g.fe(function(){c.Nd(null)})}},yb:function(a){if(this._super(a))return!0;this.ag=null;this.b.Ca(a.W);return!1},SF:function(){this.data.stackable=!this.data.stackable;this.b.stackbtn.n(sa);
this.b.stackbtn.text.ia("NOT STACKABLE");1==this.data.stackable&&(this.b.stackbtn.n(ra),this.b.stackbtn.text.ia("IS STACKABLE"))}});SkillsEditor=La.extend({kd:t[0].name,oa:0,Au:!1,ji:function(){return["Basic"]},Ff:function(){},fi:function(){return["Cancel","Don't Save","Save"]},ui:function(a){switch(a){case 1:this.Af=!0;var c=this.g;this.g.fe(function(){c.Nd(null)});break;case 2:this.Af=!0,this.data.name=this.$b.ba(),this.data.healthbar=""!=this.wy.ba()?this.wy.ba():"FFFFFF",this.g.Nd(this.data)}},uc:function(){return{panels:{children:{name_lbl:{label:"Name:",fontSize:12,i:q.a(0,0),position:q.a(4,N.height-44)},name_entry:{position:q.a(74,
N.height-44),size:q.size(290,16),i:q.a(0,0),color:q.j(180,180,180)},healthcolor_text:{label:"Color:",fontSize:12,i:q.a(0,0),position:q.a(150,N.height-75)},healthcolor_entry:{size:q.size(65,32),position:q.a(184,N.height-84)},healthbtn:{position:q.a(4,N.height-80),size:q.size(128,26),color:sa,i:q.a(0,0),children:{text:{label:"NOT HEALTHBAR",fontSize:12,i:q.a(.5,.5),position:q.a(64,13),color:q.j(0,0,0)}}}}}}},Uc:function(){return"SkillsEditor"},$b:null,wy:null,g:null,data:null,w:function(a){this._super();
this.nj(-100);this.data={additionalData:{},healthbar:null,name:""};this.kd=t[0].name;this.oa=0;this.g=this.$b=null;this.g=a.g;a&&a.data&&(this.data=a.data)},zm:function(a){sendToServer("saveNewSkillMessage",{saveskills:a+"",skillsdata:this.data})},bm:function(a,c){sendToServer("deleteSkillMessage",{saveskillswhole:c})},wa:function(){this._super();this.$b=new Z(this.b.name_entry,q.size(this.b.name_entry.c().width,this.b.name_entry.c().height+4),q.a(0,this.b.name_entry.c().height+4),this.data.name?
this.data.name:"",q.l(100,100,100),q.j(0,0,0));this.$b.fb(!0);this.$b.ge();this.wy=new Z(this.b.healthcolor_entry,q.size(this.b.healthcolor_entry.c().width,this.b.healthcolor_entry.c().height),q.a(0,this.b.healthcolor_entry.c().height),this.data.healthbar?this.data.healthbar:"",q.l(100,100,100),q.j(255,255,255));this.wy.fb(!0);this.b.healthbtn.n(sa);this.Au=!1;this.b.healthbtn.text.ia("NOT HEALTHBAR");null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.healthbtn.n(ra),this.Au=!0,this.b.healthbtn.text.ia("IS HEALTHBAR"))},
Ff:function(){},yb:function(a){a=this.b.Ca(a.W);return E(this.b.healthbtn,a)?(this.v_(),!0):!1},v_:function(){(this.Au=!this.Au)?(this.b.healthcolor_entry.Qb(184),this.b.healthcolor_text.H(!0),this.b.healthbtn.n(ra),this.b.healthbtn.text.ia("IS HEALTHBAR")):(this.b.healthcolor_entry.Qb(N.width+100),this.b.healthcolor_text.H(!1),this.b.healthbtn.n(sa),this.b.healthbtn.text.ia("NOT HEALTHBAR"))}});PopupList=La.extend({rb:null,Gb:[],Pd:!1,dk:-1,I:null,ID:!0,Bt:!0,HD:!0,ji:function(a){return this.Pd?this.rb.ji(a):["List"]},ui:function(a){return this.Pd?(this.rb.ui(a),!1):1==a?!0:!1},fi:function(a){return this.Pd?this.rb.fi(a):["Cancel","Exit"]},Ff:function(a){this.Pd&&this.rb.Ff(a)},w:function(a,c){this._super();this.rb=null;this.Gb=[];this.HD=this.ID=this.Bt=!0;if(c){if(0==c.bK||1==c.bK)this.ID=c.bK;if(0==c.QJ||1==c.QJ)this.Bt=c.QJ;if(0==c.add||1==c.add)this.HD=c.add}this.Pd=!1;this.dk=-1;this.rb=
a.fm;a.list&&(this.Gb=a.list)},wa:function(){this._super();this.nb()},I:null,nb:function(){this.I&&this.I.u.N();var a=[],c=[],d=q.da.f(),e;for(e in this.Gb)if(a[e]=q.Node.create(),this.Gb[e].name)if(a[e].G(324,32),null==this.Gb[e])this.Gb.splice(e,1);else{var f=q.V.create(q.l(0,0,0,127),W-20,1);f.o(q.a(0,0));var g=q.O.create(this.Gb[e].name,"Arial",12);g.Fa(q.size(W-44,0));g.A(q.a(0,0));g.o(q.a(4,6));if(this.Bt){var h=q.B.cb(d.pa("GUI/trash.png"));h.o(q.a(W-48,4));h.A(q.a(0,0))}var k=[];this.ID&&
(a[e].Ha="Edit",k.push(a[e]));this.Bt&&(h.Ha="Delete",k.push(h));a[e].G(q.size(W-20,g.c().height+12));c.push(k);a[e].e(f);a[e].e(g);this.Bt&&a[e].e(h)}else a[e].G(q.size(0,0)),c.push([]);this.HD&&(d=q.V.create(q.l(70,200,70,255),90,26),e=q.O.create("+","Arial",20),e.o(45,13),e.A(q.a(.5,.5)),d.o(q.a(Math.floor((W-90)/2),0)),d.Ha="Add",d.e(e),c.push([d]),a.push(d));this.I=this.b.list;var l=this;this.I.tb=function(){return q.size(W-20,32*a.length)};this.I.pb=function(){return a.length};this.I.xb=function(c){return a[c].c()};
this.I.wb=function(c){return a[c]};this.I.Ma=function(a,c,d){l.Ca(d.W);if(1!=l.Pd)switch(a){case "Delete":l.ea.e(DropDownList.Nb(l,l.Jt,["Cancel","Delete"],d.W));l.sb=c;break;case "Edit":l.rb.ea&&l.rb.N();l.Pd=!0;l.rb.w({g:l,data:l.Gb[c]});l.b.child.e(l.rb);l.b.child.H(!0);l.Zc(!1);l.rb.wa();l.dk=c+"";break;case "Add":l.zq=!0;l.Pd=!0;l.dk=l.Gb.length;l.rb.w({g:l,data:null});l.Zc(!1);l.b.child.e(l.rb);l.b.child.H(!0);l.rb.wa();break;case "Use":l.g.sz(c,l.Gb[c])}};this.I.u=ListView.create(this.I);this.I.u.zb(c);
this.I.e(this.I.u)},uc:function(){return{panels:{children:{list:{size:q.size(W-20,N.height-20),position:q.a(0,0),i:q.a(0,0)},child:{visible:!1,position:q.a(0,0),size:q.size(W-20,N.height-20),i:q.a(0,0),color:q.j(80,80,80)}}}}},sb:null,Jt:function(a){switch(a){case 1:null!=this.g.sb&&(this.g.QD(this.g.sb),this.g.sb=null)}},Nd:function(a){a&&(this.rb.zm(this.dk),this.zq&&(this.Gb.push(a),this.nb()));this.Zc(!0);this.Pd=this.zq=!1;var c=this;this.fe(function(){c.rb.Ta(!0);c.rb.N();c.b.child.H(!1);c.nb()})},
QD:function(a){this.Gb[a]={};this.rb.bm(a,this.Gb);this.nb()}});ScriptingList=La.extend({rb:null,Gb:[],vL:null,Pd:!1,dk:-1,Kba:null,zh:null,ZV:!1,Bm:null,ji:function(a){return this.Pd?this.rb.ji(a):["List"]},ui:function(a){return this.Pd?(this.rb.ui(a),!1):1==a?!0:!1},fi:function(a){return this.Pd?this.rb.fi(a):["Cancel","Exit"]},w:function(a){this._super();this.rb=null;this.Gb=[];this.vL=null;this.Pd=!1;this.dk=-1;this.rb=a.fm;a.list&&(this.Gb=a.list);this.vL=a.name},wa:function(){this._super();this.Bm=0;this.Yy();this.Zy(0)},Yy:function(){this.di&&this.di.u.N();
var a=[],c=[];q.da.f();var d=["Default Scripts","NPC Scripts","Item Scripts","Tile Scripts"],e;for(e in d){a[e]=q.Node.create();a[e].G(100,32);var f=q.V.create(q.l(0,0,0,127),100,1);f.o(q.a(0,0));var g=q.O.create(d[e],"Arial",12);g.A(q.a(0,0));g.o(q.a(4,4));g.Fa(q.size(100,0));a[e].G(100,g.c().height+8);null!=this.Bm&&this.Bm==e&&(a[e]=q.V.create(q.l(100,0,0,255),100,g.c().height+8),g.n(q.j(255,255,255)));a[e].Ha="Use";c.push([a[e]]);a[e].e(f);a[e].e(g)}this.di=this.b.mainlist;var h=this;this.di.tb=
function(){return q.size(100,32*a.length)};this.di.pb=function(){return a.length};this.di.xb=function(c){return a[c].c()};this.di.wb=function(c){return a[c]};this.di.Ma=function(a,c){if(1!=h.Pd)switch(a){case "Use":h.Bm=c,h.Zy(c),h.Yy()}};this.di.u=ListView.create(this.di);this.di.u.zb(c);this.di.e(this.di.u)},Zy:function(a){var c="";switch(a){case 0:c="Default";break;case 1:c="NPC";break;case 2:c="Item";break;case 3:c="Tile"}this.zh&&this.zh.u.N();var d=[];a=[];for(var e=q.da.f(),f=0;f<this.Gb.length;f++)if(d[f]=
q.Node.create(),this.Gb[f]!={}&&this.Gb[f].specifier==c){d[f].G(W-120,32);var g=q.V.create(q.l(0,0,0,127),W-120,1);g.o(q.a(0,0));var h=q.O.create(this.Gb[f].name,"Arial",12);h.A(q.a(0,0));h.o(q.a(4,4));h.Fa(q.size(208,0));d[f].G(W-120,h.c().height+8);var k=[];if("Default"!=c){var l=q.Node.create();l.G(h.c());l.o(h.v);l.Ha="Edit";d[f].e(l);k.push(l);l=q.B.cb(e.pa("GUI/trash.png"));l.o(q.a(W-172,(d[f].c().height-20)/2));l.A(q.a(0,0));l.Ha="Delete";k.push(l);d[f].e(l)}l=q.B.cb(e.pa("GUI/copy.png"));
l.o(q.a(W-144,(d[f].c().height-20)/2));l.A(q.a(0,0));l.Ha="Copy";k.push(l);d[f].e(l);a.push(k);d[f].e(g);d[f].e(h)}else d[f].G(q.size(0,0)),a.push([]);"Default"!=c&&(e=q.V.create(q.l(70,200,70,255),90,26),f=q.O.create("+","Arial",20),f.o(45,13),f.A(q.a(.5,.5)),e.o(q.a(Math.floor((W-90)/2),0)),e.Ha="Add",e.e(f),a.push([e]),d.push(e));this.zh=this.b.sublist;var m=this;this.zh.tb=function(){for(var a=0,c=0;c<d.length;c++)a+=d[c].c().height;return q.size(W-120,a)};this.zh.pb=function(){return d.length};
this.zh.xb=function(a){return d[a].c()};this.zh.wb=function(a){return d[a]};this.zh.Ma=function(a,d,e){m.Ca(e.W);if(1!=m.Pd)switch(a){case "Delete":H.e(DropDownList.Nb(m,m.Jt,["Cancel","Delete"],e.W));m.sb=d;break;case "Edit":m.rb.ea&&m.rb.N();m.Pd=!0;m.rb.w({g:m,data:m.Gb[d]});m.b.child.e(m.rb);m.b.child.H(!0);m.Zc(!1);m.rb.wa();m.dk=d+"";break;case "Add":m.zq=!0;m.Pd=!0;m.dk=m.Gb.length+"";m.rb.w({g:m,data:null,mF:c});m.Zc(!1);m.b.child.e(m.rb);m.b.child.H(!0);m.rb.wa();break;case "Use":m.g.sz(d,
m.Gb[d]);m.ZV=!0;break;case "Copy":m.eU(d)}};this.zh.u=ListView.create(this.zh);this.zh.u.zb(a);this.zh.e(this.zh.u)},uc:function(){return{panels:{children:{line:{size:q.size(1,N.height-20),color:q.j(255,255,255),position:q.a(102,0)},mainlist:{size:q.size(100,N.height-20),position:q.a(2,0),color:q.j(100,100,100),i:q.a(0,0)},sublist:{size:q.size(W-120,N.height-20),position:q.a(103,0),i:q.a(0,0)},child:{visible:!1,position:q.a(0,0),size:q.size(W-20,N.height-20),i:q.a(0,0),color:q.j(80,80,80)}}}}},sb:null,
Jt:function(a){switch(a){case 1:null!=this.g.sb&&(this.g.QD(this.g.sb),this.g.sb=null)}},Nd:function(a){a&&(this.rb.zm(this.dk),this.zq&&(this.Gb.push(a),this.Yy(),this.Bm&&this.Zy(this.Bm)));this.Zc(!0);this.Pd=this.zq=!1;var c=this;this.fe(function(){c.rb.Ta(!0);c.rb.N();c.b.child.H(!1)})},QD:function(a){this.Gb[a]={};this.rb.bm(a,this.Gb);this.Yy();this.Bm&&this.Zy(this.Bm)},eU:function(a){this.Pd=this.zq=!0;this.dk=this.Gb.length+"";a=F(this.Gb[a]);a.implementsAs&&(a.specifier=a.implementsAs,
a.implementsAs=null);a.isTemplate&&(a.isTemplate=null);this.rb.w({g:this,data:a,mF:a.specifier});this.Zc(!1);self.b.child.e(self.rb);self.b.child.H(!0);this.rb.wa()}});var H=La.extend({ctor:function(){this._super()},VN:function(){this._super()},wa:function(){this._super()},Ta:function(){this._super()},yb:function(a){q.vc(this.b.health_panel.Qc(),a.W)&&B.f().hm("Game")}});NewsPanel=null;
News=Popup.extend({data:null,I:null,sb:null,Uc:function(){return"Credits"},Ta:function(){this._super()},w:function(){this._super();this.data={"24th December 2014: (v0.798)":["Finished game store setup for store 0"],"22nd December 2014: (v0.797)":["Updated shop testbed. Inventory now loaded as selectable list (like shop items). Removed seperate tab lists to reduce amount of unused nodes. Added some test data into price and offer lists.","Consolidated configuration files into single file.","Made socket.io load from the actual application and not from the template pages.",
"Fixed some issed with graphics loading in minified builds"],"21st December 2014: (v0.796)":["Updated shop testbed. Game now loads store sale items."],"19th December 2014: (v0.796)":["Added initial storefront layout for in-game shops."],"18th December 2014: (v0.793)":["Added item editor text field for descriptions."],"18th December 2014: (v0.792)":["Added buying price section of item value setup. Fixed some basic issues with the system"],"18th December 2014: (v0.79)":["Added initial setup value tab into item editor to add trade values to defined items. You simply add a shop in list and then the price to buy it.",
"The above system will eventually include a sale price area as well."],"17th December 2014: (v0.78)":["Added /wherami and /warpmeto user commands."],"17th December 2014: (v0.78)":["Added banking panel and implemented banking storage into player profile data.","Added map width and height specifiers to map editor for custom map sizes.","Added shop editor for custom shop type generation.","Compressed script logic into single straightforward functions with a type specifier.","Fixed a couple of bugs"],
"14th December 2014: (v0.75)":["Fixed multiplayer login movement crash."],"24th November 2014: (v0.75)":["Re-introduced dependancies so that I can added orientation change logic to the project. Clicking and dragging a client window now correctly resizes the game."],"16th November 2014: (v0.75)":["Cleaned up project dependancies, removed dependancy on socket.io and cocos-utils changes."],"11th November 2014: (v0.74)":["Added quest log (hotkey Q).","Implemented quest response logic. Added 2 additional 'quest unstarted' and 'quest finished' parameters"],
"10th November 2014: (v0.735)":["Added user extradata content for subscripting. Allows for developers to code in specific scripting logic if needed.","Extradata updates with user login data and is purposefully not localstorage based."],"9th November 2014: (v0.733)":["Added talking and talk with option callback to the npc scripts contexts."],"8th November 2014: (v0.731)":["Fixed NPC editor.","Added talk graphic and basic logic for npc interaction","Abstracted Item script logic to a utils function...wiped a lot of duplicate code."],
"25th October 2014: (v0.729)":["Added scripting response logic for giving/taking items.","Added scripting requirements logic for if a panel is visible and inventory has a certain amount of slots."],"25th October 2014: (v0.727)":["Fixed a bunch of persistant bugs. Game is now much much more stable than it was.","Added scripts for on pickup and on drop. Added some additional response logic for warping the player. Added requirement logic for check if player has items and if player stats are within certain ranges."],
"24th October 2014: (v0.724)":["Added functionality to more scripts. Items can now use the destroy and open/close panel scripts.","Fixed equip script to use the equip position defined within the scripting system instead of previously defined sub-item types from previous versions."],"23rd October 2014: (v0.722)":["Added functionality to some item scripts. Game now modifies inventory drop down behaviour based on responses type (read/equip).","Items can now influence player stats on equip, dequip, swapped and on read."],
"30th September 2014: (v0.72)":["Added user saving and loading for player position, items and equipment. Picked up and equipped items are now stored and saved regardless of session.","Edited the skills panel to utilise the list view logic. Skills menu now shows level and experience progression and uses data from the user account","Added health manipulation functionality utilising new skill logic as noted in the previous point."],"27th September 2014: (v0.72)":["Added registration and logging in system. Users can now have automatic login setup for their accounts and player data is starting to be saved from an actual account.",
"Server now has a new folder where user data is stored.","Added the beginnings of a user ranking system, game editors can now only be accessed if the player rank is above 1. Rank 1 is now the default registration rank."],"25th August 2014: (v0.718)":["Added 90% of subeditors needed for the scripting system. Go into the script editor and press the pencil icon on the responses and requirements to edit their core data.","Updated script panel texture to utilize inpanel submenu editors.","Abstracted out the script editor so that its not dependant on certain types.",
"Added/removed requirements responses based on logical conclusions on what is actually needed. Consume as an item response, for example, is unecessary because it would work identically to destroy."],"17th August 2014: (v0.714)":["Added basic template logic of new scripting editor system. Scripts can be saved and loaded like other list systems. This editor currently does not allow you to apply scripts to anything (it is simply the GUI interface template logic that's in there). The item editor has been changed to utilize the new saved scripts list.",
"Fixed localstorage issue caused by settings implementation. Game now does not now load until the game is fully in sync. The issue was causing an error on some game-loads because the localstorage was not yet available (requiring a refresh)."],"11th August 2014: (v0.708)":["Added settings menu for various game controls. Settings menu only currently controls a load of in game string settings. Also added the additional required admin panel graphic for settings access. The new chatbox command is /editsettings.",
"Added scrolling credits button to login page and populated it.","Added this scrolling news feed to login page and obviously populated it as well."],"11th August 2014 (v0.7)":["Added some additional custom gui for some of the editors.","Fixed a lot of bugs (and I mean a lot).","Added 0.7 download to site."],"10th August 2014 (v0.695)":["Added quest objective editor. New button now made usable in menu.","Objective editor utilizes abstract scrolling list from 0.69."]}},wa:function(){this._super();this.nb()},
nb:function(){this.I&&this.I.Wc();var a=[],c=[];q.da.f();var d=0,e;for(e in this.data){a[d]=q.Node.create();a[d].G(324,32);var f=q.O.create(e,"Arial",18);f.A(q.a(0,0));f.o(q.a(4,0));f.Fa(q.size(246,0));f.n(q.j(100,0,0));a[d].e(f);a[d].G(324,f.c().height+4);f=[];c.push(f);d++;for(var g in this.data[e]){a[d]=q.Node.create();a[d].G(324,32);var h=q.V.create(q.l(0,0,0,127),316,1);h.o(q.a(4,0));var k=q.O.create(this.data[e][g],"Arial",15);k.n(q.j(0,0,0));k.A(q.a(0,0));k.o(q.a(4,4));k.Fa(q.size(246,0));
f=[];c.push(f);a[d].e(h);a[d].e(k);a[d].G(324,k.c().height+8);d++}}this.I=this.b.main_panel.list;this.I.tb=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(324,c)};this.I.pb=function(){return a.length};this.I.xb=function(c){return a[c].c()};this.I.wb=function(c){return a[c]};this.I.Ma=function(){};this.I.u=ListView.create(this.I);this.I.u.zb(c);this.I.e(this.I.u)},uc:function(){return{panels:{position:q.a(300,200),children:{background_image:{Na:"GUI/list_panel.png",i:q.a(0,
0)},main_panel:{i:q.a(0,0),size:q.size(365,328),children:{list:{size:q.size(324,328),color:q.l(0,200,200,200),position:q.a(0,0),i:q.a(0,0)}}},control_panel:{i:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"News",fontSize:20,i:q.a(0,.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),i:q.a(0,0),Na:"GUI/close.png"}}}}}}},yb:function(a){if(this._super(a))return!0;this.ag=null;a=this.b.main_panel.Ca(a.W);return E(this.b.main_panel,a)?!0:!1}});CreditsPanel=null;
Credits=Popup.extend({data:null,I:null,sb:null,Uc:function(){return"Credits"},Ta:function(){this._super()},w:function(){this._super();this.data={"Project Leader":"Spork","Localisation Contributors":"Vus, sn0w Beast",Programmers:"Spork, Pandacoder","Community Management & Support":"Chief, Seb, Mad Hatter","Special thanks":"All of you, who's positive response keep us motivated to deliver the best software we can make.","Powder Engine is Copywritten":"Contact the developera in-site regarding questions."}},zm:function(a){sendToServer("saveNewQuestMessage",
{savequests:a+"",questdata:this.data})},bm:function(a,c){sendToServer("deleteQuestMessage",{savequestswhole:c})},wa:function(){this._super();this.nb()},nb:function(){this.I&&this.I.Wc();var a=[],c=[];q.da.f();var d=0,e;for(e in this.data){if("ISSECTION"!=this.data[e]){a[d]=q.Node.create();a[d].G(324,32);var f=q.O.create(e,"Arial",18);f.A(q.a(0,0));f.o(q.a(4,0));f.Fa(q.size(246,0));f.n(q.j(100,0,0));a[d].e(f);a[d].G(324,f.c().height+4);f=[];c.push(f);d++}a[d]=q.Node.create();a[d].G(324,32);var g=q.V.create(q.l(0,
0,0,127),316,1);g.o(q.a(4,0));if("ISSECTION"==this.data[e]){var h=q.O.create(e,"Arial",22);h.n(q.j(255,0,0))}else h=q.O.create(this.data[e],"Arial",15),h.n(q.j(0,0,0));h.A(q.a(0,0));h.o(q.a(4,4));h.Fa(q.size(246,0));f=[];c.push(f);a[d].e(g);a[d].e(h);"ISSECTION"==this.data[e]?a[d].G(324,h.c().height+12):a[d].G(324,h.c().height+8);d++}this.I=this.b.main_panel.list;this.I.tb=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(324,c)};this.I.pb=function(){return a.length};this.I.xb=
function(c){return a[c].c()};this.I.wb=function(c){return a[c]};this.I.Ma=function(){};this.I.u=ListView.create(this.I);this.I.u.zb(c);this.I.e(this.I.u)},uc:function(){return{panels:{position:q.a(300,200),children:{background_image:{Na:"GUI/list_panel.png",i:q.a(0,0)},main_panel:{i:q.a(0,0),size:q.size(365,328),children:{list:{size:q.size(324,328),color:q.l(0,200,200,200),position:q.a(0,0),i:q.a(0,0)}}},control_panel:{i:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Credits",
fontSize:20,i:q.a(0,.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),i:q.a(0,0),Na:"GUI/close.png"}}}}}}},yb:function(a){if(this._super(a))return!0;this.ag=null;a=this.b.main_panel.Ca(a.W);return E(this.b.main_panel,a)?!0:!1}});Login=La.extend({qu:!1,Um:!1,ku:function(){var a=this.uc();ya(a,"panels",this.b)},sm:function(){var a=!0,c;for(c in y)isAudioLoading(y[c])&&(a=!1);a&&(stopBackgroundMusic(),this.fc(this.sm),playBackgroundMusic("menu",!0))},w:function(a){var c=!1,d;for(d in y)if(isAudioLoading(y[d])){this.Db(this.sm);c=!0;break}0==c&&-1<y.indexOf("menu")&&(stopBackgroundMusic(),playBackgroundMusic("menu"));C=Ga(C,T.jE());this._super();B.No(this);this.Uq=this.HE=!1;this.el=new Z(this.b.name_entry,q.size(this.b.name_entry.c().width,
this.b.name_entry.c().height),q.a(0,this.b.name_entry.c().height),"Username",q.l(100,100,100),q.j(255,255,255));this.um=new Z(this.b.password_entry,q.size(this.b.password_entry.c().width,this.b.password_entry.c().height),q.a(0,this.b.password_entry.c().height),"Password",q.l(100,100,100),q.j(255,255,255));this.um.Kg(0);this.bF=new Z(this.b.new_user_name,q.size(this.b.new_user_name.c().width,this.b.new_user_name.c().height),q.a(0,this.b.new_user_name.c().height),"Username",q.l(100,100,100),q.j(255,
255,255));this.cz=new Z(this.b.new_user_pass,q.size(this.b.new_user_pass.c().width,this.b.new_user_pass.c().height),q.a(0,this.b.new_user_pass.c().height),"Password",q.l(100,100,100),q.j(255,255,255));this.cz.Kg(0);this.aF=new Z(this.b.new_user_email,q.size(this.b.new_user_email.c().width,this.b.new_user_email.c().height),q.a(0,this.b.new_user_email.c().height),"Email Address",q.l(100,100,100),q.j(255,255,255));this.CJ=!1;a&&(a.zL?(A=[],sendToServer("logoutMessage",null)):this.CJ=!0,this.Po(a.pF));
this.Db(this.PD);this.BJ=!1;this.Db(this.OF);this.uE();this.b.rem_login_text.Fa(q.size(80,0));this.b.auto_login_text.Fa(q.size(80,0));this.b.server_message.Fa(q.size(300,0));this.b.server_message2.Fa(q.size(150,0))},Qy:function(a){switch(a){case "ENTER":if(this.HE){a=this.bF.ba();var c=this.cz.ba(),d=this.aF.ba();""!=a&&null!=a&&""!=c&&null!=c&&""!=d&&null!=d?0==/\S+@\S+\.\S+/.test(d)?this.Jg(C["Incorrect Email Format"]):(this.Uq=!0,this.Jg(C["Registering Message"]),this.cM({name:a,password:c,email:d})):
this.Jg(C["Register Empty Fields"])}else 0==this.Um&&this.qu?(a=this.el.ba(),c=this.um.ba(),""!=a&&null!=a&&""!=c&&null!=c?(this.Um=!0,this.Jg(C["Logging In Message"]),sendToServer("loginMessage",{username:this.el.ba(),password:this.um.ba()})):this.Jg(C["User Pass Empty"])):this.Ry(C["Server Offline Message"])}},Po:function(a){this.qu=a;1==a?(this.b.server_activity.ia(C["Online Server"]),this.b.server_activity.n(q.j(0,255,0))):(this.b.server_activity.ia(C["Offline Server"]),this.b.server_activity.n(q.j(255,
0,0)))},PD:function(){var a=T.GV();a&&0==this.BJ&&(this.el.df(a.user),this.BJ=!0,this.um.df(a.pass));1==this.CJ&&autoLoginNextTime&&0==this.Um&&this.qu&&(0==this.Um&&this.qu?(this.Um=!0,this.Jg("Logging In"),sendToServer("loginMessage",{username:this.el.ba(),password:this.um.ba()})):this.Ry(C["Offline Server Message"]))},OF:function(){if(0<A.length)for(var a=A.length-1;0<=a;a--)reactToSocketMessage(A[a]),A.splice(a,1);autoLoginNextTime?(T.tM(!0),this.b.auto_login.ma(q.da.f().pa("GUI/checkbox_checked.png"))):
(T.tM(!1),this.b.auto_login.ma(q.da.f().pa("GUI/checkbox_uncheck.png")));rememberLoginNextTime?this.b.remember_login.ma(q.da.f().pa("GUI/checkbox_checked.png")):this.b.remember_login.ma(q.da.f().pa("GUI/checkbox_uncheck.png"))},uc:function(){return{panels:{children:{background:{Na:"GUI/splash.png",size:q.size(960,640),i:q.a(0,0),position:q.a(0,0)},name_entry:{size:q.size(300,30),position:q.a(325,325)},password_entry:{size:q.size(300,30),position:q.a(325,290)},new_user_name:{size:q.size(300,30),position:q.a(325,
360)},new_user_pass:{size:q.size(300,30),position:q.a(325,325)},new_user_email:{size:q.size(300,30),position:q.a(325,290)},remember_login:{size:q.size(20,20),position:q.a(630,295),Na:"GUI/checkbox_uncheck.png",i:q.a(0,0)},rem_login_text:{label:C["Save Login Cred"],fontSize:16,color:q.j(255,255,255),i:q.a(0,1),position:q.a(665,315)},auto_login:{size:q.size(20,20),position:q.a(630,330),Na:"GUI/checkbox_uncheck.png",i:q.a(0,0)},auto_login_text:{label:C["Auto Login Next"],fontSize:16,color:q.j(255,255,
255),i:q.a(0,0),position:q.a(665,330)},go_button:{position:q.a(325,240),size:q.size(120,40),color:q.l(0,0,0,255),children:{label:{label:C["Play Button Text"],fontSize:20,color:q.j(255,255,255),i:q.a(.5,.5),position:q.a(60,20)}}},register_button:{position:q.a(505,240),size:q.size(120,40),color:q.l(0,0,0,255),children:{label:{label:C["Register Button Text"],fontSize:20,color:q.j(255,255,255),i:q.a(.5,.5),position:q.a(60,20)}}},new_user_back:{position:q.a(325,240),size:q.size(120,40),color:q.l(0,0,0,
255),children:{label:{label:C["Back From Reg Button Text"],fontSize:20,color:q.j(255,255,255),i:q.a(.5,.5),position:q.a(60,20)}}},new_user_confirm:{position:q.a(505,240),size:q.size(120,40),color:q.l(0,0,0,255),children:{label:{label:C["Reg Confirm Button Text"],fontSize:20,color:q.j(255,255,255),i:q.a(.5,.5),position:q.a(60,20)}}},sysMessage:{label:C["System Message"],position:q.a(4,4),color:q.j(255,255,255),i:q.a(0,0)},credits_button:{position:q.a(30,400),size:q.size(120,40),color:q.l(0,0,0,255),
children:{label:{label:C["Credit Button Text"],fontSize:20,color:q.j(255,255,255),i:q.a(.5,.5),position:q.a(60,20)}}},news_button:{position:q.a(30,340),size:q.size(120,40),color:q.l(0,0,0,255),i:q.a(0,1),children:{label:{label:C["News Button Text"],fontSize:20,color:q.j(255,255,255),i:q.a(.5,.5),position:q.a(60,20)}}},server_message:{label:"",fontSize:16,color:q.j(255,255,255),i:q.a(0,1),position:q.a(325,220)},server_message2:{label:C["Login Message"],fontSize:16,color:q.j(255,255,255),i:q.a(0,1),
position:q.a(175,355)},version_number:{label:C["Version Number"],fontSize:34,color:q.j(255,255,255),i:q.a(1,1),position:q.a(710,55)},server_activity:{position:q.a(910,630),size:q.size(100,20),i:q.a(.5,.5),label:C["Offline Server"],color:q.j(255,0,0)}}}}},w_:function(){autoLoginNextTime?(autoLoginNextTime=!1,this.b.auto_login.ma(q.da.f().pa("GUI/checkbox_uncheck.png"))):(autoLoginNextTime=!0,this.b.auto_login.ma(q.da.f().pa("GUI/checkbox_checked.png")),rememberLoginNextTime=!0,this.b.remember_login.ma(q.da.f().pa("GUI/checkbox_checked.png")))},
x_:function(){rememberLoginNextTime?(rememberLoginNextTime=!1,this.b.remember_login.ma(q.da.f().pa("GUI/checkbox_uncheck.png")),autoLoginNextTime=!1,this.b.auto_login.ma(q.da.f().pa("GUI/checkbox_uncheck.png"))):(rememberLoginNextTime=!0,this.b.remember_login.ma(q.da.f().pa("GUI/checkbox_checked.png")))},yb:function(a){if(null!=this.el.ba()&&this.b.go_button.Ua&&q.vc(q.rect(this.b.go_button.v.R,this.b.go_button.v.S,this.b.go_button.c().width,this.b.go_button.c().height),a.W)){if(0==this.Um&&this.qu){a=
this.el.ba();var c=this.um.ba();""!=a&&null!=a&&""!=c&&null!=c?(this.Um=!0,this.Jg(C["Logging In Message"]),sendToServer("loginMessage",{username:this.el.ba(),password:this.um.ba()})):this.Jg(C["User Pass Empty"])}else this.Ry(C["Offline Server Message"]);return!0}this.b.credits_button.Ua&&q.vc(q.rect(this.b.credits_button.v.R,this.b.credits_button.v.S,this.b.credits_button.c().width,this.b.credits_button.c().height),a.W)&&this.si("/openCredits");this.b.news_button.Ua&&q.vc(q.rect(this.b.news_button.v.R,
this.b.news_button.v.S,this.b.news_button.c().width,this.b.news_button.c().height),a.W)&&this.si("/openNews");if(this.b.register_button.Ua&&q.vc(q.rect(this.b.register_button.v.R,this.b.register_button.v.S,this.b.register_button.c().width,this.b.register_button.c().height),a.W))return this.i_(),!1;if(this.b.auto_login.Ua&&q.vc(q.rect(this.b.auto_login.v.R,this.b.auto_login.v.S,this.b.auto_login.c().width,this.b.auto_login.c().height),a.W))return this.w_(),!1;if(this.b.remember_login.Ua&&q.vc(q.rect(this.b.remember_login.v.R,
this.b.remember_login.v.S,this.b.remember_login.c().width,this.b.remember_login.c().height),a.W))return this.x_(),!1;if(this.b.new_user_back.Ua&&0==this.Uq&&q.vc(q.rect(this.b.new_user_back.v.R,this.b.new_user_back.v.S,this.b.new_user_back.c().width,this.b.new_user_back.c().height),a.W))return this.uE(),this.Jg(""),!1;if(this.b.new_user_confirm.Ua&&0==this.Uq&&q.vc(q.rect(this.b.new_user_confirm.v.R,this.b.new_user_confirm.v.S,this.b.new_user_confirm.c().width,this.b.new_user_confirm.c().height),
a.W)){a=this.bF.ba();var c=this.cz.ba(),d=this.aF.ba();""!=a&&null!=a&&""!=c&&null!=c&&""!=d&&null!=d?0==/\S+@\S+\.\S+/.test(d)?this.Jg(C["Incorrect Email Format"]):(this.Uq=!0,this.Jg(C["Registering Message"]),this.cM({name:a,password:c,email:d})):this.Jg(C["Register Empty Fields"]);return!1}},cM:function(a){sendToServer("registerMessage",a)},XT:function(){this.Jg(C["Registration Success"]);this.bF.df(C["Username Label"]);this.cz.df(C["Password Label"]);this.aF.df(C["Email Label"]);this.Uq=!1;this.uE()},
TU:function(a){this.Uq=!1;switch(a){case "UserTaken":this.Jg(C["Register User Taken"])}},i_:function(){this.b.new_user_name.H(!0);this.b.new_user_pass.H(!0);this.b.new_user_email.H(!0);this.b.new_user_confirm.H(!0);this.b.new_user_back.H(!0);this.b.register_button.H(!1);this.b.go_button.H(!1);this.b.name_entry.Qb(-1E5);this.b.password_entry.Qb(-1E5);this.b.new_user_name.Qb(325);this.b.new_user_pass.Qb(325);this.b.new_user_email.Qb(325);this.b.rem_login_text.H(!1);this.b.auto_login_text.H(!1);this.b.auto_login.H(!1);
this.b.remember_login.H(!1);this.HE=!0},uE:function(){this.b.new_user_name.H(!1);this.b.new_user_pass.H(!1);this.b.new_user_email.H(!1);this.b.new_user_confirm.H(!1);this.b.new_user_back.H(!1);this.b.register_button.H(!0);this.b.go_button.H(!0);this.b.name_entry.Qb(325);this.b.password_entry.Qb(325);this.b.new_user_name.Qb(-1E5);this.b.new_user_pass.Qb(1E5);this.b.new_user_email.Qb(1E5);this.b.rem_login_text.H(!0);this.b.auto_login_text.H(!0);this.b.auto_login.H(!0);this.b.remember_login.H(!0);this.HE=
!1},si:function(a){switch(a){case "/openCredits":null==CreditsPanel||CreditsPanel.ea||(CreditsPanel=null);CreditsPanel?(CreditsPanel.Ta(),CreditsPanel.N(),CreditsPanel=null):(CreditsPanel=new Credits,CreditsPanel.w(),CreditsPanel.wa(),this.e(CreditsPanel));break;case "/openNews":null==NewsPanel||NewsPanel.ea||(NewsPanel=null),NewsPanel?(NewsPanel.Ta(),NewsPanel.N(),NewsPanel=null):(NewsPanel=new News,NewsPanel.w(),NewsPanel.wa(),this.e(NewsPanel))}},$W:function(a){rememberLoginNextTime&&T.MZ(this.el.ba(),
this.um.ba());this.fc(this.PD);B.f().hm("Game",{ck:a,map:1})},Ry:function(a){this.fc(this.PD);this.b.server_message.ia(a);this.Um=!1},Jg:function(a){this.b.server_message.ia(a)},O$:function(){B.f().hm("Game",{Jea:this.el.ba()})}});Editor=H=null;MapMaster=!1;
var X=0,W=0,Ma=La.extend({lL:!1,Xk:null,ctor:function(){this._super()},ku:function(){var a=O.q.F.Yb();S.ro(a.x*K,a.y*K);a=this.uc();ya(a,"panels",this.b);SkillBarsInstance.nr()},uc:function(){return{panels:{children:{editorbg:{visible:0<W,color:q.j(80,80,80),size:q.size(W,N.height),position:q.a(N.width-W,0),i:q.a(0,0)},game_menu:{size:q.size(80,20),color:q.l(60,60,60),position:q.a(N.width-W-80,0),children:{lbl:{label:"Menu",fontSize:12,position:q.a(40,3),i:q.a(.5,0),color:q.j(255,255,255)}}},menu_bar:{color:q.l(60,
60,60),size:q.size(N.width,20),position:q.a(0,N.height-20),i:q.a(0,0),children:{settings_editorBtn:{visible:0<W,size:q.size(80,20),position:q.a(N.width-W,0),i:q.a(0,0),color:q.l(60,60,60),children:{lbl:{label:"Editor",fontSize:12,i:q.a(.5,0),position:q.a(40,3)}}},close_editorBtn:{visible:0<W,size:q.size(80,20),position:q.a(N.width-W+80,0),i:q.a(0,0),color:q.l(60,60,60),children:{lbl:{label:"Close Editor",fontSize:12,i:q.a(.5,0),position:q.a(40,3)}}},game_list:{visible:0==W,size:q.size(60,20),position:q.a(0,
0),color:q.j(60,60,60),children:{lbl:{label:"Game",i:q.a(.5,0),fontSize:12,color:q.j(255,255,255),position:q.a(30,3)}}},script_list:{visible:0==W,size:q.size(80,20),position:q.a(60,0),color:q.j(60,60,60),children:{lbl:{label:"Scripts",i:q.a(.5,0),fontSize:12,color:q.j(255,255,255),position:q.a(40,3)}}},editor_list:{visible:0==W,size:q.size(80,20),position:q.a(140,0),color:q.j(60,60,60),children:{lbl:{label:"Editors",i:q.a(.5,0),fontSize:12,color:q.j(255,255,255),position:q.a(40,3)}}},location:{size:q.size(150,
20),position:q.a(N.width-W-150,0),children:{maplbl:{label:"Map: ",fontSize:12,position:q.a(0,3),i:q.a(0,0),color:q.j(255,255,255)},mapnum:{label:"0",position:q.a(32,3),fontSize:12,i:q.a(0,0),color:q.j(255,255,255)},xlbl:{label:"x: ",position:q.a(70,3),fontSize:12,i:q.a(0,0),color:q.j(255,255,255)},xnum:{label:"0",position:q.a(81,3),fontSize:12,i:q.a(0,0),color:q.j(255,255,255)},ylbl:{label:"y: ",position:q.a(110,3),fontSize:12,i:q.a(0,0),color:q.j(255,255,255)},ynum:{label:"0",position:q.a(121,3),
fontSize:12,i:q.a(0,0),color:q.j(255,255,255)}}}}},saving_icon:{visible:!1,position:q.a(N.width-W-52,4),i:q.a(0,0),size:q.size(48,48),Na:"GUI/save_icon.png"}}}}},k$:!1,S9:!1,YF:function(){this.b.menu_bar.location.mapnum.ia(S.yf()+"")},ZF:function(){var a=O.q.F.Yb();this.b.menu_bar.location.xnum.ia(Math.floor(a.x)+"");this.b.menu_bar.location.ynum.ia(Math.floor(a.y-1)+"")},Po:function(a){0==a&&(this.SD(),B.f().hm("Login",{pF:!1}))},SD:function(){S.xf();this.fc(this.ZF);S.tu();null!=Equipment&&(Equipment.Ta(),
Equipment.N(),Equipment=null);null!=Inventory&&(Inventory.Ta(),Inventory.N(),Inventory=null);null!=Bank&&(Bank.Ta(),Bank.Z0(),Bank=null);null!=Skills&&(Skills.Ta(),Skills.N(),Skills=null);null!=Quests&&(Quests.Ta(),Quests.N(),Quests=null);SkillBarsInstance.N();O.xf();O.tu();P.xf();P.tu()},WU:function(a){this.g.b.menu_bar.game_list.n(q.j(60,60,60));this.g.b.menu_bar.script_list.n(q.j(60,60,60));this.g.b.menu_bar.editor_list.n(q.j(60,60,60));this.g.b.menu_bar.close_editorBtn.n(q.j(60,60,60));this.g.b.menu_bar.settings_editorBtn.n(q.j(60,
60,60));switch(a){case 0:this.g.si("/editsettings")}},Hba:function(){this.g.b.menu_bar.game_list.n(q.j(60,60,60));this.g.b.menu_bar.script_list.n(q.j(60,60,60));this.g.b.menu_bar.editor_list.n(q.j(60,60,60));this.g.b.menu_bar.close_editorBtn.n(q.j(60,60,60));this.g.b.menu_bar.settings_editorBtn.n(q.j(60,60,60))},NU:function(a){this.g.b.menu_bar.game_list.n(q.j(60,60,60));this.g.b.menu_bar.script_list.n(q.j(60,60,60));this.g.b.menu_bar.editor_list.n(q.j(60,60,60));this.g.b.menu_bar.close_editorBtn.n(q.j(60,
60,60));this.g.b.menu_bar.settings_editorBtn.n(q.j(60,60,60));switch(a){case 0:this.g.si("/editmap");break;case 1:this.g.si("/edititem");break;case 2:this.g.si("/editnpc");break;case 3:this.g.si("/editshop");break;case 4:this.g.si("/editquest");break;case 5:this.g.si("/editskill")}},QW:function(a){switch(a){case 0:this.g.SD(),B.f().hm("Login",{zL:!0,pF:!0})}},uh:function(a){this.g.yb(a)},VT:function(a){this.g.b.menu_bar.game_list.n(q.j(60,60,60));this.g.b.menu_bar.script_list.n(q.j(60,60,60));this.g.b.menu_bar.editor_list.n(q.j(60,
60,60));this.g.b.menu_bar.close_editorBtn.n(q.j(60,60,60));this.g.b.menu_bar.settings_editorBtn.n(q.j(60,60,60));Editor.ui(a)&&(Editor.Ta(),Editor.N(),Editor=null,S.fr(null),this.g.al())},GT:function(a){Editor.Ff(a+1)},yb:function(a){this.b.menu_bar.game_list.n(q.j(60,60,60));this.b.menu_bar.script_list.n(q.j(60,60,60));this.b.menu_bar.editor_list.n(q.j(60,60,60));this.b.menu_bar.close_editorBtn.n(q.j(60,60,60));this.b.menu_bar.settings_editorBtn.n(q.j(60,60,60));a=a.W;var c=this.b.menu_bar.Ca(a);
if(q.vc(q.rect(this.b.menu_bar.game_list.v.R,this.b.menu_bar.game_list.v.S,this.b.menu_bar.game_list.c().width,this.b.menu_bar.game_list.c().height),c))return this.b.menu_bar.game_list.n(q.j(127,127,127)),a=DropDownList.Nb(this,this.WU,["Settings"],q.a(0,N.height-20)),a.ti(this.uh),a.lj(60),this.e(a),!0;if(q.vc(q.rect(this.b.menu_bar.script_list.v.R,this.b.menu_bar.script_list.v.S,this.b.menu_bar.script_list.c().width,this.b.menu_bar.script_list.c().height),c))return this.si("/editscript"),!0;if(q.vc(q.rect(this.b.menu_bar.editor_list.v.R,
this.b.menu_bar.editor_list.v.S,this.b.menu_bar.editor_list.c().width,this.b.menu_bar.editor_list.c().height),c))return this.b.menu_bar.editor_list.n(q.j(127,127,127)),a=DropDownList.Nb(this,this.NU,"Map Editor;Item Editor;NPC Editor;Shop Editor;Quest Editor;Skill Editor".split(";"),q.a(140,N.height-20)),a.ti(this.uh),a.lj(80),this.e(a),!0;if(q.vc(q.rect(this.b.menu_bar.close_editorBtn.v.R,this.b.menu_bar.close_editorBtn.v.S,this.b.menu_bar.close_editorBtn.c().width,this.b.menu_bar.close_editorBtn.c().height),
c))return this.b.menu_bar.close_editorBtn.n(q.j(127,127,127)),a=DropDownList.Nb(this,this.VT,Editor.fi(),q.a(N.width-W+80,N.height-20)),a.ti(this.uh),a.lj(80),this.e(a),!0;if(q.vc(q.rect(this.b.menu_bar.settings_editorBtn.v.R,this.b.menu_bar.settings_editorBtn.v.S,this.b.menu_bar.settings_editorBtn.c().width,this.b.menu_bar.settings_editorBtn.c().height),c))return this.b.menu_bar.settings_editorBtn.n(q.j(127,127,127)),a=DropDownList.Nb(this,this.GT,Editor.ji(),q.a(N.width-W,N.height-20)),a.ti(this.uh),
a.lj(80),this.e(a),!0;if(q.vc(q.rect(this.b.game_menu.v.R,this.b.game_menu.v.S,this.b.game_menu.c().width,this.b.game_menu.c().height),a))return this.b.game_menu.n(q.j(127,127,127)),a=DropDownList.Nb(this,this.QW,["Logout"],q.a(N.width-W-80,44)),a.ti(this.uh),a.lj(80),this.e(a),!0;B.No(this)},j_:function(a,c){null==Sign||Sign.ea||(Sign=null);Sign?(Sign.Ta(),Sign.N(),Sign=null):(Sign=new SignPanel,Sign.w(a,c),Sign.wa(),this.e(Sign))},f_:function(a,c){null==Book||Book.ea||(Book=null);Book?(Book.Ta(),
Book.N(),Book=null):(Book=new BookPanel,Book.w(a,c),Book.wa(),this.e(Book))},Lm:function(a){a||(a=352);W=a;this.ku()},al:function(){W=0;this.ku()},h_:function(a,c,d,e,f,g){null==NpcChat||NpcChat.ea||(NpcChat=null);NpcChat&&(NpcChat.Ta(),NpcChat.N(),NpcChat=null);NpcChat=new NpcChatPanel;NpcChat.w(a,c,d,e,f,g);NpcChat.wa();this.e(NpcChat)},bW:function(){null==NpcChat||NpcChat.ea||(NpcChat=null);NpcChat&&(NpcChat.Ta(),NpcChat.N(),NpcChat=null)},Qy:function(a){switch(a){case "ENTER":P.kj(!P.GE());break;
case "SPACE":O.q.F.tW();Inventory&&Inventory.Ja();break;case "CTRL":O.q.F.rW();break;case "ESC":this.SD();B.f().hm("Login",{zL:!0,pF:!0});break;case "I":null==Inventory||Inventory.ea||(Inventory=null);Inventory?(Inventory.Ta(),Inventory.N(),Inventory=null):(null==Bank||Bank.ea||(Bank=null),Bank||(Inventory=new InventoryPanel,Inventory.w(),Inventory.wa(),this.e(Inventory)));break;case "E":null==Equipment||Equipment.ea||(Equipment=null);Equipment?(Equipment.Ta(),Equipment.N(),Equipment=null):(Equipment=
new EquipmentPanel,Equipment.w(),Equipment.wa(),this.e(Equipment));break;case "S":null==Skills||Skills.ea||(Skills=null);Skills?(Skills.Ta(),Skills.N(),Skills=null):(Skills=new SkillsPanel,Skills.w(),Skills.wa(),this.e(Skills));break;case "Q":null==Quests||Quests.ea||(Quests=null),Quests?(Quests.Ta(),Quests.N(),Quests=null):(Quests=new QuestsPanel,Quests.w(),Quests.wa(),this.e(Quests))}},NE:function(a){var c=O.q.F.Yb();O.q.F.path=null;if(!(Shop&&Shop.ea||Bank&&Bank.ea)&&0==c.x%1&&0==c.y%1)switch(a){case "RIGHTARROW":O.q.F.pr(c.x+
1,c.y);break;case "LEFTARROW":O.q.F.pr(c.x-1,c.y);break;case "UPARROW":O.q.F.pr(c.x,c.y+1);break;case "DOWNARROW":O.q.F.pr(c.x,c.y-1)}},si:function(a){if(a){switch(a){case "/whereami":var c=O.q.F,c=c.Yb();P.jc("Map: "+S.yf()+", XY: ("+c.x+","+(c.y-1)+")")}if(1<O.q.F.co){if("/warpmeto"==a.substring(0,9)&&4==a.split(" ").length){a=a.substring(10).split(" ");c=S.Bg(parseInt(a[0]));sendToServer("warpPlayerMessage",{warpTo:parseInt(c.width*(parseInt(a[2])+1))+parseInt(parseInt(a[1])),mapnumber:a[0]});
S.Zt(a[0]);c=O.q.F;c.o(a[1]*K,(parseInt(a[2])+1)*K);c.pc=!1;S.ro(a[1]*K,parseInt(a[2])*K);return}switch(a){case "/editscript":null==Editor||Editor.ea||(Editor=null);Editor?(Editor.Ta(),Editor.N(),this.al(),Scripteditor=null):(this.Lm(1E3),Editor=new ScriptingList,Editor.w({g:null,fm:new ScriptEditor,list:ObjectLists.zf(),name:"Script List"}),Editor.wa(),this.Xk.e(Editor));break;case "/editshop":null==Editor||Editor.ea||(Editor=null);Editor?(Editor.Ta(),Editor.N(),this.al(),Editor=null):(this.Lm(),
Editor=new PopupList,Editor.w({g:null,fm:new ShopEditor,list:ObjectLists.Oq(),name:"Shop List"}),Editor.wa(),this.Xk.e(Editor));break;case "/editmap":null==Editor||Editor.ea||(Editor=null);Editor?(Editor.Ta(),Editor.N(),Editor=null,this.al(),S.fr(null)):(this.Lm(),Editor=new MapEditor,Editor.w(),Editor.wa(),this.Xk.e(Editor),S.fr(Editor));break;case "/editsettings":null==Editor||Editor.ea||(Editor=null);Editor?(Editor.Ta(),Editor.N(),Editor=null,this.al()):(this.Lm(),Editor=new SettingsEditor,Editor.w(),
Editor.wa(),this.Xk.e(Editor));break;case "/editskill":null==Editor||Editor.ea||(Editor=null);Editor?(Editor.Ta(),Editor.N(),Editor=null,this.al()):(this.Lm(),Editor=new PopupList,Editor.w({g:null,fm:new SkillsEditor,list:ObjectLists.Zk(),name:"Skills List"}),Editor.wa(),this.Xk.e(Editor));break;case "/edititem":null==Editor||Editor.ea||(Editor=null);Editor?(Editor.Ta(),Editor.N(),Editor=null,this.al(),S.fr(null)):(this.Lm(466),Editor=new PopupList,Editor.w({g:null,fm:new ItemEditor,list:ObjectLists.Zb(),
name:"Item List"}),Editor.wa(),this.Xk.e(Editor));break;case "/editnpc":null==Editor||Editor.ea||(Editor=null);Editor?(Editor.Ta(),Editor.N(),Editor=null,S.fr(null),this.al()):(this.Lm(),Editor=new PopupList,Editor.w({g:null,fm:new NPCEditor,list:ObjectLists.Lq(),name:"NPC List"}),Editor.wa(),this.Xk.e(Editor));break;case "/editquest":null==Editor||Editor.ea||(Editor=null),Editor?(Editor.Ta(),Editor.N(),Editor=null,S.fr(null),this.al()):(this.Lm(),Editor=new PopupList,Editor.w({g:null,fm:new QuestEditor,
list:ObjectLists.Ut(),name:"Quest List"}),Editor.wa(),this.Xk.e(Editor))}}switch(a){case "/help":P.showHelp();break;case "/commands":P.g_();break;case "/diceroll":a=Math.floor(6*Math.random()+1);c=C["/diceroll"];c=c.replace("<PLAYER>",O.q.F.getName());c=c.replace("<VALUE>",a);P.jc(c);sendToServer("diceRollMessage",c);break;case "/coinflip":a=1==Math.floor(3*Math.random()+1)?"Heads":"Tails";c=C["/coinflip"];c=c.replace("<PLAYER>",O.q.F.getName());c=c.replace("<VALUE>",a);P.jc(c);sendToServer("coinFlipMessage",
c);break;case "/dance":a=C["/dance"];a=a.replace("<PLAYER>",O.q.F.getName());P.jc(a);sendToServer("danceMessage",a);break;case "/afk":O.q.F.RN("AFK"),sendToServer("afkMessage",null)}}},w:function(a){this._super();H=this;this.e(S.create());ObjectLists.f();O.create({name:a.ck.name,$j:!0,Qo:{health:{md:1,value:100,Dg:200,Cg:900},mana:{md:1,value:100,Dg:200,Cg:99}},map:a.ck.location.mapnumber?a.ck.location.mapnumber:1,position:a.ck.location.position,Fu:"sprites1.png",Bu:1,co:a.ck.rank,eL:a.ck.inventory,
eK:a.ck.equipment,vm:a.ck.quests,bj:a.ck.extraData});S.mT();this.b.N();this.nj(-20);sendToServer("movePlayerMessage",O.q.F.Yb().x+O.q.F.Yb().y*M);this.e(P.create());this.e(R.create(a.ck.skills));this.Db(this.ZF);this.a_();this.e(this.b);this.Db(this.OF);this.Db(this.IY);this.Db(this.zY,120);1<O.q.F.co?(this.ZF(),this.YF(),X=20,this.Xk=this.b.editorbg):this.b.menu_bar.H(!1);R.update()},zY:function(){var a={name:O.q.F.getName(),location:{mapnumber:S.yf(),position:O.q.F.Yb().x+O.q.F.Yb().y*M},inventory:O.q.F.ce(),
equipment:O.q.F.sy(),skills:[],clan:"",guilds:[],quests:O.q.F.vm,friends:[],bank:O.q.F.gm(),pets:[],pmessages:[],lastchats:[],health:100,extraData:O.q.F.bj};this.b.saving_icon.H(!0);this.lL=!0;sendToServer("saveGameMessage",a);console.log("SAVING NOW!")},YU:function(){this.b.saving_icon.H(!1);this.lL=!1},a_:function(){1==O.q.F.co&&this.b.quickedit_button.H(!1)},OF:function(){if(0<A.length)for(var a=0;a<A.length;a++){var c=JSON.parse(A[a]);c.moveTo&&(!O.Xf(c.id)||O.Xf(c.id)&&0==O.Xf(c.id).pc)?(reactToSocketMessage(JSON.stringify(c)),
A.splice(a,1)):c.moveTo||(reactToSocketMessage(JSON.stringify(c)),A.splice(a,1))}},IY:function(){if(1==MapMaster){var a=O.$O(),c;for(c in a)if(0==a[c].$y){var d=10*Math.random()+1,e=a[c].Yb();switch(Math.floor(4*Math.random())+1){case 1:e.x++;break;case 2:e.y++;break;case 3:e.x--;break;case 4:e.y--}a[c].FZ(e,d)}}}});var Na=q.Ka.extend({Vc:null,I5:!1,g:null,kj:function(a){console.log("setting focused: "+a);a&&1==a?this.Vc.P.focus():(console.log("blurrin"),this.Vc.P.blur())},ge:function(){this.Vc.ge()},GE:function(){console.log("isfocused="+document.activeElement==this.Vc.P);return document.activeElement==this.Vc.P},ia:function(a){this.Vc.df(a)},GK:function(){return this.Vc.ba()},w:function(){q.log("Ovveride inputbox init call if necessary")},Kg:function(a){this.Vc.Kg(a)},N:function(){this.Vc.N()},ctor:function(a,
c,d,e,f,g,h,k,l){h&&0!=h?(this.Vc=MultiLineBox.create(q.size(c.width,c.height),k?q.ke.create(k):q.ke.create()),this.Vc.su(q.j(f.t,f.r,f.p))):(this.Vc=SingleLineBox.create(q.size(c.width,c.height),k?q.ke.create(k):q.ke.create()),c=ia(f.t,f.r,f.p),this.Vc.P.style.background=c);this.Vc.df(e);this.Vc.nU=e;this.Vc.sF(q.j(g.t,g.r,g.p));this.Vc.o(d.x,d.y);this.Vc.A(q.a(0,1));this.Vc.Ig(this);this.g=l;a.e(this.Vc);this.w()}});var Oa=Na.extend({dm:function(a){a.df("")},em:function(a,c){c||("/"==a.ba().substring(0,1)?this.vY(a.ba()):0<a.ba().length&&P.jc(a.ba(),!0));a.df(C["Default ChatBar Message"])},vY:function(a){B.f().Jc.si(a)},$i:function(a,c){a.df(c);q.log("chatBox "+this.OH(a)+", TextChanged, text: "+c)},OH:function(){return"chatbox"}}),Y=null,P=q.ad.extend({gy:null,ko:null,K$:null,qJ:function(a){this.ko||(this.ko=[]);300<a.length&&(a=a.substring(0,300));this.ko.push(a);100<this.ko.length&&this.ko.splice(0,1);this.G_()},
G_:function(){null!=this.b.list.u&&(this.b.list.u.N(),this.b.list.u=null);for(var a=[],c=[],d=0;d<this.ko.length;d++){a[d]=q.Node.create();var e=q.O.create(this.ko[d],"Arial",12);e.A(q.a(0,0));e.o(q.a(2,2));e.Fa(q.size(326,0));a[d].G(330,e.c().height+4);a[d].e(e);c.push([])}this.b.list.tb=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(330,c)};this.b.list.pb=function(){return a.length};this.b.list.xb=function(c){return a[c].c()};this.b.list.wb=function(c){return a[c]};this.b.list.ld=
function(c){return a[c].kb};this.b.list.Ma=function(){};this.b.list.u=ListView.create(this.b.list);this.b.list.u.Ib&&(this.b.list.u.Ib.Qb(330),this.b.list.u.Ib.G(20,60),this.b.list.u.Ib.n(q.l(200,200,200,100)),this.b.list.u.bg.H(!1));this.b.list.u.zb(c);this.b.list.e(this.b.list.u)},uc:function(){return{panels:{children:{chatbar:{size:q.size(350,22),position:q.a(0,0),color:q.l(0,0,0,180)},lbg:{position:q.a(0,24),i:q.a(0,0),size:q.size(350,100),color:q.l(0,0,0,180)},list:{position:q.a(0,24),i:q.a(0,
0),size:q.size(330,100)}}}}}});P.create=function(){Y||(Y=new P,Y.b=va(Y),Y.e(Y.b),Y.gy=new Oa(Y.b.chatbar,q.size(Y.b.chatbar.c().width-4,Y.b.chatbar.c().height),q.a(2,Y.b.chatbar.c().height),C["Default ChatBar Message"],q.l(0,0,0,0),q.j(255,255,255)),Y.gy.ge(),P.k_());return Y};P.f=function(){return Y};P.jc=function(a,c){c?(sendToServer("chatMessage",a),Y.qJ(O.q.F.getName()+": "+a)):Y.qJ(a)};P.q$=function(){return 0==Y.b.list.Ua?!1:!0};P.kj=function(a){Y.gy.kj(a)};P.GE=function(){return Y.gy.GE()};
P.showHelp=function(){P.jc(C["Help Text"])};P.g_=function(){P.jc(C["Command Text"])};P.k_=function(){P.jc(C["Welcome Message"])};P.xf=function(){Y.b.N();Y.b=null};P.tu=function(){Y.N();Y=null};var Z=Na.extend({Pq:!1,GL:!1,VJ:!1,FE:!1,dm:function(a){0==this.VJ&&a.df("");this.FE=!0},Kg:function(a){this.Vc.Kg(a)},T9:function(){return this.FE},em:function(a){this.FE=!1;this.g&&this.g.Ku&&this.g.Ku();null==a.ba()||""==a.ba().length&&this.GL?this.Pq=!0:0< !a.ba().length?(a.df(this.Vc.nU),this.Pq=!1):this.Pq=!0},$i:function(a,c){a.df(c);this.Pq=!0},OH:function(){return"name_entry"},ba:function(){return 1==this.Pq||1==this.mU?this.Vc.ba():null},df:function(a){this.Vc.df(a);this.Pq=!0},fb:function(a){this.mU=
a},Yc:function(a){this.GL=a},hca:function(a){this.VJ=a},w:function(){}});var Pa,io=null,A=[];
setupserver=function(){Pa=io.connect(ja.getServerURL(),{"sync disconnect on unload":!0,"connect timeout":5E3,"reconnection delay ":100});Pa.on("connect",function(){T.cA();T.jO();T.vP();console.log("Client has connected to the server!");if(B){var a=B.f().Jc;a?a.Po(!0):A.push(JSON.stringify({connect:!0}))}else A.push(JSON.stringify({connect:!0}))});Pa.on("message",function(a){reactToSocketMessage(a)});Pa.on("disconnect",function(){console.log("The client has disconnected!");var a=B.f().Jc;a?a.Po(!1):
A.push(JSON.stringify({disconnect:!0}))});Pa.on("loginSuccessMessage",function(a){B.f().Jc.$W(a)});Pa.on("loginFailMessage",function(a){B.f().Jc.Ry(a)});Pa.on("registrationSuccessMessage",function(){B.f().Jc.XT()});Pa.on("registrationFailMessage",function(a){B.f().Jc.TU(a.registrationfailed)})};sendToServer=function(a,c){Pa.emit(a,c)};
reactToSocketMessage=function(a){a=JSON.parse(a);var c=!1,d;for(d in a){c=!0;break}if(0!=c)if(console.log("Received a message from the server!",a),a.sync)a.mapdata&&T.JN(a.mapdata,a.maptime),a.itemdata&&T.Lu(a.itemdata,a.itemtime),a.skillsdata&&T.aG(a.skillsdata,a.skillstime),a.npcsdata&&T.LN(a.npcsdata,a.npcstime),a.questdata&&T.Kz(a.questdata,a.queststime),a.shopsdata&&T.QN(a.shopsdata,a.shopstime),a.settingsdata&&(T.$F(a.settingsdata,a.settingstime),C=Ga(C,a.settingsdata)),a.scriptsdata&&T.PN(a.scriptsdata,
a.scriptstime),na=!0;else if(c=B.f().Jc){if(a.connect?c.Po(!0):a.disconnect&&c.Po(!1),"Game"==c.Uc())if(a.newPlayer)O.lT({id:a.id,location:{position:a.position,mapnumber:a.mapnumber}});else if(a.playerLeft)O.Xf(a.playerLeft).Fg==O.q.F.Fg&&(MapMaster=!1),O.UJ(a.playerLeft);else if(a.setTo)if(O.Xf(a.id)&&O.Xf(a.id).kM(),!O.Xf(a.id)||O.Xf(a.id)&&0==O.Xf(a.id).pc){for(c=0;c<A.length;c++)d=JSON.parse(A[c]),d.moveTo&&null!=d.moveTo&&d.id==a.id&&(A.splice(c,1),c--);O.yX({id:a.id,location:{position:a.position,
mapnumber:a.mapnumber}});O.Xf(a.id).Fg==O.q.F.Fg&&(MapMaster=!1);O.KT(a.id,a.mapnumber)}else A.push(JSON.stringify(a));else a.moveTo?(O.Xf(a.id)&&O.Xf(a.id).kM(),!O.Xf(a.id)||O.Xf(a.id)&&0==O.Xf(a.id).pc?O.WW({id:a.id,location:{position:a.position,mapnumber:a.mapnumber}}):A.push(JSON.stringify(a))):a.chatMessage?P.jc(a.chatMessage):a.coinflip?P.jc(a.coinflip):a.diceroll?P.jc(a.diceroll):a.dance?P.jc(a.dance):a.afk?O.MT(a.afk):a.savemap?(T.IT(a.savemap,a.mapdata,a.updatetime),S.c_(a.mapdata)):a.mapmaster?
MapMaster=!0:a.savescripts?(T.OT(parseInt(a.savescripts),a.scriptsdata,a.updatetime),ObjectLists.zf()[parseInt(a.savescripts)]=a.scriptsdata,Scripteditor&&(Scripteditor.Gb=ObjectLists.zf(),Scripteditor.wa())):a.savescriptswhole?(T.eba(a.savescriptswhole,a.updatetime),ObjectLists.OZ(a.savescriptswhole)):a.savesettings?(T.$F(a.savesettings,a.updatetime),C=Ga(C,a.savesettings),Settingseditor&&(Settingseditor.data=F(C),Settingseditor.nb())):a.savequests?(T.NT(parseInt(a.savequests),a.questdata,a.updatetime),
ObjectLists.Ut()[parseInt(a.savequests)]=a.questdata):a.savequestswhole?(n,T.UX(a.savequestswhole,a.updatetime),ObjectLists.IZ(a.savequestswhole)):a.saveshops?(T.PT(parseInt(a.saveshops),a.shopsdata,a.updatetime),ObjectLists.Oq()[parseInt(a.saveshops)]=a.shopsdata,Shopeditor&&(Shopeditor.Gb=ObjectLists.Oq(),Shopeditor.wa())):a.saveshopswhole?(T.VX(a.saveshopswhole,a.updatetime),ObjectLists.PZ(a.saveshopswhole)):a.saveskills?(T.QT(parseInt(a.saveskills),a.skillsdata,a.updatetime),ObjectLists.Zk()[parseInt(a.saveskills)]=
a.skillsdata,Skillseditor&&(Skillseditor.Gb=ObjectLists.Zk(),Skillseditor.wa()),R.update(),Skills&&Skills.Ja()):a.saveskillswhole?(T.WX(a.saveskillswhole,a.updatetime),ObjectLists.QZ(a.saveskillswhole),R.update(),Skills&&Skills.Ja()):a.moveNPC?(a.npcID=parseInt(a.npcID),!O.Kq(a.npcID)||O.Kq(a.npcID)&&0==O.Kq(a.npcID).pc?O.VW(a.npcID,a.moveNPC,a.mapnumber):A.push(JSON.stringify(a))):a.changeNPCPosition?O.Kq(a.npcID)&&(a.npcID=parseInt(a.npcID),O.Kq(a.npcID)&&0==O.Kq(a.npcID).pc?O.mY(a.npcID,a.changeNPCPosition):
A.push(JSON.stringify(a))):a.savenpcs?(T.JT(parseInt(a.savenpcs),a.npcsdata,a.updatetime),ObjectLists.Lq()[parseInt(a.savenpcs)]=a.npcsdata,S.Zt(S.yf(),!0),NPCeditor&&(NPCeditor.Gb=ObjectLists.Lq(),NPCeditor.wa())):a.savenpcswhole?(T.TX(a.savenpcswhole,a.updatetime),ObjectLists.rZ(a.savenpcswhole),S.Zt(S.yf(),!0),NPCeditor&&(NPCeditor.Gb=ObjectLists.Lq(),NPCeditor.wa())):a.saveitems?(T.HT(parseInt(a.saveitems),a.itemdata,a.updatetime),c=ObjectLists.Zb()[parseInt(a.saveitems)].name,ObjectLists.Zb()[parseInt(a.saveitems)]=
a.itemdata,S.Zt(S.yf()),Inventory&&Inventory.Ja(),O.q.F.Lu(c,a.itemdata)):a.droppeditem?a.mapnumber==S.yf()&&0==S.f().sh?(c=S.LK(a.index),c.tJ(a.droppeditem,a.amount),S.Mu()):A.push(JSON.stringify(a)):a.pickupitem?a.mapnumber==S.yf()&&(c=S.LK(a.pickupitem),c.removeItem(),S.Mu()):a.saveitemswhole?(T.SX(a.saveitemswhole,a.updatetime),ObjectLists.jZ(a.saveitemswhole)):a.savesuccess&&c.YU()}else A.push(JSON.stringify(a))};var Qa=document.createElement("SCRIPT");Qa.type="text/javascript";
Qa.src=document.ccConfig.getServerURL()+"/socket.io/socket.io.js";Qa.onreadystatechange=setupserver;Qa.onload=setupserver;document.getElementById("gameCanvas").appendChild(Qa);var B=q.ad.extend({q:null,Aq:null,Jc:null,oJ:null,w:function(){Ea();q.la.f().KZ(this.mX);var a=q.la.f().oo();this.Aq=q.B.create();this.Aq.n(q.j(0,0,0));this.Aq.hb(q.rect(0,0,a.width,a.height));this.Aq.A(q.a(0,0));this.e(this.Aq);T.f()&&na?(C=Ga(C,T.jE()),this.hm("Login",{}),this.Db(this.HJ),autoLoginNextTime=T.gL(),rememberLoginNextTime=T.kL()):this.Db(this.TK)},mX:function(){if(B.f().Jc){var a=q.la.f();N=q.size(a.oo().width,a.oo().height);B.f().Aq.hb(q.rect(0,0,N.width,N.height));B.f().Jc.ku()}},
TK:function(){T.f()&&na&&io&&(this.fc(this.TK),C=Ga(C,T.jE()),this.hm("Login",{}),this.Db(this.HJ),autoLoginNextTime=T.gL(),rememberLoginNextTime=T.kL())},HJ:function(){for(var a in ka)if(1==ka[a]&&null!=this.Jc){var c=null;a=parseInt(a);switch(a){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";
break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a&&58>a||64<a&&91>a)&&(c=String.fromCharCode(a));null!=c&&this.Jc.NE(c)}},hm:function(a,c){null!=this.Jc&&(this.Jc.Ta(),this.Jc.N(),this.Jc=null);switch(a){case "Login":this.Jc=new Login;break;case "Game":this.Jc=new Ma}this.Jc.VN();this.e(this.Jc,1);this.Jc.hZ(a);this.Jc.wa();
this.Jc.w(c)},t6:function(){return this.Jc.Uc()}});B.f=function(){null==this.q&&(this.q=new B);return this.q};B.No=function(a){null==this.q&&(this.q=new B);this.q.oJ=a};B.$U=function(){null==this.q&&(this.q=new B);return this.q.oJ};var N;
new (q.ml.extend({iy:document.ccConfig,ctor:function(){this._super();q.Wu=this.iy.COCOS2D_DEBUG;q.Jm(this.iy.tag);q.Rz.e_().BU()},wT:function(){var a=this.iy,c=q.aa.f(),d=q.la.f();d.qY(!0);N=d.oo();q.size(N.width,N.height);var e=q.size(N.width,N.height),f=q.je.f();q.ml.f();f.aN(["res/Graphics"]);q.Ob&&q.Ob.f().JZ("res/Audio");c.WY(1);d.qF(e.width,e.height,q.cp.SHOW_ALL);c.ru(1/a.frameRate);a.test?q.test(a.test):q.MW(function(a){q.sA.dr(a,function(){document.getElementById("gameCanvas").setAttribute("tabindex","0");
document.getElementById("gameCanvas").focus();var a=B.f();q.aa.f().iM(a);a.w()})});return!0}}));
//@ sourceMappingURL=client.minified.map