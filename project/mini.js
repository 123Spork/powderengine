var b,ca={X_:"GUI/bankeditor_icon.png",Z_:"GUI/book.png",b0:"GUI/btnDown.png",c0:"GUI/btnLeft.png",d0:"GUI/btnRight.png",e0:"GUI/btnUp.png",w0:"GUI/chat.png",v0:"GUI/chat_icon.png",x0:"GUI/close.png",K0:"GUI/defaultitem.png",Z0:"GUI/edit.png",b1:"GUI/equipment.png",a1:"GUI/equipment_icon.png",h5:"GUI/healthbar.png",z5:"GUI/inventory.png",y5:"GUI/inventory_icon.png",n6:"GUI/itemeditor_icon.png",B6:"GUI/list_panel.png",J6:"GUI/logout.png",N6:"GUI/mapeditor_icon.png",T6:"GUI/npceditor_icon.png",Y7:"GUI/questeditor_icon.png",
Z7:"GUI/quickedit_closed_icon.png",a8:"GUI/quickedit_opened_icon.png",b8:"GUI/quickmenu_closed_icon.png",c8:"GUI/quickmenu_opened_icon.png",X$:"GUI/shopeditor_icon.png",$$:"GUI/signeditor_icon.png",aaa:"GUI/signpost.png",baa:"GUI/skilleditor_icon.png",daa:"GUI/skills.png",caa:"GUI/skills_icon.png",faa:"GUI/splash.png",Oaa:"GUI/trash.png",Xaa:"GUI/use.png",eba:"GUI/warpeditor_icon.png",f0:"building1.png",u0:"character_graphics.txt",o6:"items1.png",gaa:"sprites1.png",Gaa:"tile_graphics.txt",Haa:"tiles1.png"};var p=p||{},da={};p.GS=function(a){var c=p.xC[da.uI.fE];if(c){for(var d=[],e=0;e<c.length;++e)d.push({src:c[e]});a(d)}else a([])};da={uI:{fE:"_0"}};p.xC={};p.xC[da.uI.fE]=[];p.xC.EP=[];var io="undefined"===typeof module?{}:module.gc;
(function(){(function(a,d){a.version="0.9.16";a.protocol=1;a.transports=[];a.j=[];a.sockets={};a.connect=function(e,f){var g=a.util.parseUri(e),h,k;d&&d.location&&(g.protocol=g.protocol||d.location.protocol.slice(0,-1),g.host=g.host||(d.document?d.document.domain:d.location.hostname),g.port=g.port||d.location.port);h=a.util.uniqueUri(g);var l={host:g.host,Mm:"https"==g.protocol,port:g.port||("https"==g.protocol?443:80),query:g.query||""};a.util.merge(l,f);if(l["force new connection"]||!a.sockets[h])k=
new a.Socket(l);!l["force new connection"]&&k&&(a.sockets[h]=k);k=k||a.sockets[h];return k.$o(1<g.path.length?g.path:"")}})("object"===typeof module?module.gc:io,this);(function(a,d){var e=a.util={},f=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,g="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");
e.parseUri=function(a){a=f.exec(a||"");for(var c={},d=14;d--;)c[g[d]]=a[d]||"";return c};e.uniqueUri=function(a){var c=a.protocol,e=a.host;a=a.port;"document"in d?(e=e||document.domain,a=a||("https"==c&&"https:"!==document.location.protocol?443:document.location.port)):(e=e||"localhost",a||"https"!=c||(a=443));return(c||"http")+"://"+e+":"+(a||80)};e.query=function(a,c){var d=e.chunkQuery(a||""),f=[];e.merge(d,e.chunkQuery(c||""));for(var g in d)d.hasOwnProperty(g)&&f.push(g+"\x3d"+d[g]);return f.length?
"?"+f.join("\x26"):""};e.chunkQuery=function(a){var c={};a=a.split("\x26");for(var d=0,e=a.length,f;d<e;++d)f=a[d].split("\x3d"),f[0]&&(c[f[0]]=f[1]);return c};var h=!1;e.load=function(a){if("document"in d&&"complete"===document.readyState||h)return a();e.on(d,"load",a,!1)};e.on=function(a,c,d,e){a.attachEvent?a.attachEvent("on"+c,d):a.addEventListener&&a.addEventListener(c,d,e)};e.request=function(a){if(a&&"undefined"!=typeof XDomainRequest&&!e.ua.hasCORS)return new XDomainRequest;if("undefined"!=
typeof XMLHttpRequest&&(!a||e.ua.hasCORS))return new XMLHttpRequest;if(!a)try{return new (window[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(c){}return null};"undefined"!=typeof window&&e.load(function(){h=!0});e.defer=function(a){if(!e.ua.webkit||"undefined"!=typeof importScripts)return a();e.load(function(){setTimeout(a,100)})};e.merge=function(a,c,d,f){f=f||[];d="undefined"==typeof d?2:d;for(var g in c)c.hasOwnProperty(g)&&0>e.indexOf(f,g)&&("object"===typeof a[g]&&d?e.merge(a[g],
c[g],d-1,f):(a[g]=c[g],f.push(c[g])));return a};e.mixin=function(a,c){e.merge(a.prototype,c.prototype)};e.inherit=function(a,c){function d(){}d.prototype=c.prototype;a.prototype=new d};e.isArray=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};e.intersect=function(a,c){for(var d=[],f=a.length>c.length?a:c,g=a.length>c.length?c:a,h=0,v=g.length;h<v;h++)~e.indexOf(f,g[h])&&d.push(g[h]);return d};e.indexOf=function(a,c,d){var e=a.length;for(d=0>d?0>d+e?0:d+e:d||
0;d<e&&a[d]!==c;d++);return e<=d?-1:d};e.toArray=function(a){for(var c=[],d=0,e=a.length;d<e;d++)c.push(a[d]);return c};e.ua={};e.ua.hasCORS="undefined"!=typeof XMLHttpRequest&&function(){try{var a=new XMLHttpRequest}catch(c){return!1}return void 0!=a.withCredentials}();e.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent);e.ua.iDevice="undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)})("undefined"!=typeof io?io:module.gc,this);(function(a,d){function e(){}
a.EventEmitter=e;e.prototype.on=function(a,c){this.hf||(this.hf={});this.hf[a]?d.util.isArray(this.hf[a])?this.hf[a].push(c):this.hf[a]=[this.hf[a],c]:this.hf[a]=c;return this};e.prototype.eT=function(a){var c="connect";function d(){e.removeListener(c,d);a.apply(this,arguments)}var e=this;d.pw=a;this.on(c,d)};e.prototype.removeListener=function(a,c){if(this.hf&&this.hf[a]){var e=this.hf[a];if(d.util.isArray(e)){for(var k=-1,l=0,m=e.length;l<m;l++)if(e[l]===c||e[l].pw&&e[l].pw===c){k=l;break}if(0>
k)return this;e.splice(k,1);e.length||delete this.hf[a]}else(e===c||e.pw&&e.pw===c)&&delete this.hf[a]}return this};e.prototype.Do=function(a){if(!this.hf)return!1;var c=this.hf[a];if(!c)return!1;var e=Array.prototype.slice.call(arguments,1);if("function"==typeof c)c.apply(this,e);else if(d.util.isArray(c))for(var c=c.slice(),k=0,l=c.length;k<l;k++)c[k].apply(this,e);else return!1;return!0}})("undefined"!=typeof io?io:module.gc,"undefined"!=typeof io?io:module.parent.gc);(function(a,d){function e(a){return 10>
a?"0"+a:a}function f(a){l.lastIndex=0;return l.test(a)?'"'+a.replace(l,function(a){var c=s[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function g(a,c){var d,h,k,l,s=m,O,N=c[a];N instanceof Date&&(N=isFinite(a.valueOf())?a.getUTCFullYear()+"-"+e(a.getUTCMonth()+1)+"-"+e(a.getUTCDate())+"T"+e(a.getUTCHours())+":"+e(a.getUTCMinutes())+":"+e(a.getUTCSeconds())+"Z":null);"function"===typeof q&&(N=q.call(c,a,N));switch(typeof N){case "string":return f(N);
case "number":return isFinite(N)?String(N):"null";case "boolean":case "null":return String(N);case "object":if(!N)return"null";m+=n;O=[];if("[object Array]"===Object.prototype.toString.apply(N)){l=N.length;for(d=0;d<l;d+=1)O[d]=g(d,N)||"null";k=0===O.length?"[]":m?"[\n"+m+O.join(",\n"+m)+"\n"+s+"]":"["+O.join(",")+"]";m=s;return k}if(q&&"object"===typeof q)for(l=q.length,d=0;d<l;d+=1)"string"===typeof q[d]&&(h=q[d],(k=g(h,N))&&O.push(f(h)+(m?": ":":")+k));else for(h in N)Object.prototype.hasOwnProperty.call(N,
h)&&(k=g(h,N))&&O.push(f(h)+(m?": ":":")+k);k=0===O.length?"{}":m?"{\n"+m+O.join(",\n"+m)+"\n"+s+"}":"{"+O.join(",")+"}";m=s;return k}}if(d&&d.parse)return a.JSON={parse:d.parse,stringify:d.stringify};var h=a.JSON={},k=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,m,n,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f",
"\r":"\\r",'"':'\\"',"\\":"\\\\"},q;h.stringify=function(a,c,d){var e;n=m="";if("number"===typeof d)for(e=0;e<d;e+=1)n+=" ";else"string"===typeof d&&(n=d);if((q=c)&&"function"!==typeof c&&("object"!==typeof c||"number"!==typeof c.length))throw Error("JSON.stringify");return g("",{"":a})};h.parse=function(a,c){function d(a,e){var f,g,h=a[e];if(h&&"object"===typeof h)for(f in h)Object.prototype.hasOwnProperty.call(h,f)&&(g=d(h,f),void 0!==g?h[f]=g:delete h[f]);return c.call(a,e,h)}var e;a=String(a);
k.lastIndex=0;k.test(a)&&(a=a.replace(k,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"===typeof c?d({"":e},""):e;throw new SyntaxError("JSON.parse");}})("undefined"!=typeof io?io:module.gc,"undefined"!==typeof JSON?JSON:void 0);(function(a,d){var e=
a.parser={},f=e.packets="disconnect connect heartbeat message json event ack error noop".split(" "),g=e.reasons=["transport not supported","client not handshaken","unauthorized"],h=e.advice=["reconnect"],k=d.JSON,l=d.util.indexOf;e.encodePacket=function(a){var c=l(f,a.type),d=a.id||"",e=a.Vv||"",m=a.yo,B=null;switch(a.type){case "error":var E=a.reason?l(g,a.reason):"";a=a.advice?l(h,a.advice):"";if(""!==E||""!==a)B=E+(""!==a?"+"+a:"");break;case "message":""!==a.data&&(B=a.data);break;case "event":B=
{name:a.name};a.Ce&&a.Ce.length&&(B.Ce=a.Ce);B=k.stringify(B);break;case "json":B=k.stringify(a.data);break;case "connect":a.vI&&(B=a.vI);break;case "ack":B=a.zo+(a.Ce&&a.Ce.length?"+"+k.stringify(a.Ce):"")}c=[c,d+("data"==m?"+":""),e];null!==B&&void 0!==B&&c.push(B);return c.join(":")};e.encodePayload=function(a){var c="";if(1==a.length)return a[0];for(var d=0,e=a.length;d<e;d++)c+="\ufffd"+a[d].length+"\ufffd"+a[d];return c};var m=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;e.decodePacket=function(a){var c=
a.match(m);if(!c)return{};var d=c[2]||"";a=c[5]||"";var e={type:f[c[1]],Vv:c[4]||""};d&&(e.id=d,e.yo=c[3]?"data":!0);switch(e.type){case "error":c=a.split("+");e.reason=g[c[0]]||"";e.advice=h[c[1]]||"";break;case "message":e.data=a||"";break;case "event":try{var l=k.parse(a);e.name=l.name;e.Ce=l.Ce}catch(B){}e.Ce=e.Ce||[];break;case "json":try{e.data=k.parse(a)}catch(E){}break;case "connect":e.vI=a||"";break;case "ack":if(c=a.match(/^([0-9]+)(\+)?(.*)/))if(e.zo=c[1],e.Ce=[],c[3])try{e.Ce=c[3]?k.parse(c[3]):
[]}catch(M){}}return e};e.decodePayload=function(a){if("\ufffd"==a.charAt(0)){for(var c=[],d=1,f="";d<a.length;d++)"\ufffd"==a.charAt(d)?(c.push(e.decodePacket(a.substr(d+1).substr(0,f))),d+=Number(f)+1,f=""):f+=a.charAt(d);return c}return[e.decodePacket(a)]}})("undefined"!=typeof io?io:module.gc,"undefined"!=typeof io?io:module.parent.gc);(function(a,d){function e(a,c){this.hb=a;this.zU=c}a.Transport=e;d.util.mixin(e,d.EventEmitter);e.prototype.AH=function(){return!0};e.prototype.bs=function(a){this.eB();
(this.hb.Ng||this.hb.ag||this.hb.Em)&&this.VI();if(""!==a&&(a=d.parser.decodePayload(a))&&a.length)for(var c=0,e=a.length;c<e;c++)this.cs(a[c])};e.prototype.cs=function(a){this.hb.cJ();if("heartbeat"==a.type)return this.RS();"connect"==a.type&&""==a.Vv&&this.bC();"error"==a.type&&"reconnect"==a.advice&&(this.Sr=!1);this.hb.cs(a);return this};e.prototype.VI=function(){if(!this.Bo){var a=this;this.Bo=setTimeout(function(){a.ym()},this.hb.Bo)}};e.prototype.ym=function(){this.Sr&&this.close();this.fB();
this.hb.ym();return this};e.prototype.bC=function(){this.hb.bC();return this};e.prototype.eB=function(){this.Bo&&(clearTimeout(this.Bo),this.Bo=null)};e.prototype.fB=function(){this.eB();this.eU&&clearTimeout(this.eU)};e.prototype.Df=function(a){this.send(d.parser.encodePacket(a))};e.prototype.RS=function(){this.Df({type:"heartbeat"})};e.prototype.sw=function(){this.Sr=!0;this.eB();this.hb.sw()};e.prototype.Hh=function(){this.Sr=!1;this.hb.Hh();this.ym()};e.prototype.es=function(){var a=this.hb.options;
return this.scheme()+"://"+a.host+":"+a.port+"/"+a.Ew+"/"+d.protocol+"/"+this.name+"/"+this.zU};e.prototype.yw=function(a,c){c.call(this)}})("undefined"!=typeof io?io:module.gc,"undefined"!=typeof io?io:module.parent.gc);(function(a,d,e){function f(a){this.options={port:80,Mm:!1,document:"document"in e?document:!1,Ew:"socket.io",transports:d.transports,"connect timeout":1E4,"try multiple transports":!0,reconnect:!0,"reconnection delay":500,"reconnection limit":Infinity,"reopen delay":3E3,"max reconnection attempts":10,
"sync disconnect on unload":!1,"auto connect":!0,"flash policy port":10843,manualFlush:!1};d.util.merge(this.options,a);this.Em=this.ag=this.open=this.Ng=!1;this.namespaces={};this.buffer=[];this.lB=!1;if(this.options["sync disconnect on unload"]&&(!this.Ro()||d.util.ua.hasCORS)){var c=this;d.util.on(e,"beforeunload",function(){c.tQ()},!1)}this.options["auto connect"]&&this.connect()}function g(){}a.Socket=f;d.util.mixin(f,d.EventEmitter);f.prototype.$o=function(a){this.namespaces[a]||(this.namespaces[a]=
new d.SocketNamespace(this,a),""!==a&&this.namespaces[a].Df({type:"connect"}));return this.namespaces[a]};f.prototype.Rk=function(){this.Do.apply(this,arguments);var a,c;for(c in this.namespaces)this.namespaces.hasOwnProperty(c)&&(a=this.$o(c),a.Nj.apply(a,arguments))};f.prototype.OR=function(a){function c(d){d instanceof Error?(e.ag=!1,e.zm(d.message)):a.apply(null,d.split(":"))}var e=this,f=this.options,f=["http"+(f.Mm?"s":"")+":/",f.host+":"+f.port,f.Ew,d.protocol,d.util.query(this.options.query,
"t\x3d"+ +new Date)].join("/");if(this.Ro()&&!d.util.ua.hasCORS){var n=document.getElementsByTagName("script")[0],s=document.createElement("script");s.src=f+"\x26jsonp\x3d"+d.j.length;n.parentNode.insertBefore(s,n);d.j.push(function(a){c(a);s.parentNode.removeChild(s)})}else{var q=d.util.request();q.open("GET",f,!0);this.Ro()&&(q.withCredentials=!0);q.onreadystatechange=function(){4==q.readyState&&(q.onreadystatechange=g,200==q.status?c(q.responseText):403==q.status?e.zm(q.responseText):(e.ag=!1,
!e.Em&&e.zm(q.responseText)))};q.send(null)}};f.prototype.sH=function(a){a=a||this.transports;for(var c=0,e;e=a[c];c++)if(d.Transport[e]&&d.Transport[e].lm(this)&&(!this.Ro()||d.Transport[e].Cs(this)))return new d.Transport[e](this,this.MI);return null};f.prototype.connect=function(a){if(this.ag)return this;var c=this;c.ag=!0;this.OR(function(e,f,g,s){function q(a){c.Je&&c.Je.fB();c.Je=c.sH(a);c.Je?c.Je.yw(c,function(){c.ag=!0;c.Rk("connecting",c.Je.name);c.Je.open();c.options["connect timeout"]&&
(c.$P=setTimeout(function(){if(!c.Ng&&(c.ag=!1,c.options["try multiple transports"])){for(var a=c.transports;0<a.length&&a.splice(0,1)[0]!=c.Je.name;);a.length?q(a):c.Rk("connect_failed")}},c.options["connect timeout"]))}):c.Rk("connect_failed")}c.MI=e;c.Bo=1E3*g;c.SR=1E3*f;c.transports||(c.transports=c.fT=s?d.util.intersect(s.split(","),c.options.transports):c.options.transports);c.cJ();q(c.transports);c.eT(function(){clearTimeout(c.$P);a&&"function"==typeof a&&a()})});return this};f.prototype.cJ=
function(){clearTimeout(this.zH);if(!this.Je||this.Je.AH()){var a=this;this.zH=setTimeout(function(){a.Je.Hh()},this.SR)}};f.prototype.Df=function(a){this.Ng&&!this.lB?this.Je.Df(a):this.buffer.push(a);return this};f.prototype.Gj=function(a){this.lB=a;!a&&this.Ng&&this.buffer.length&&(this.options.manualFlush||this.KQ())};f.prototype.KQ=function(){this.Je.nI(this.buffer);this.buffer=[]};f.prototype.disconnect=function(){if(this.Ng||this.ag)this.open&&this.$o("").Df({type:"disconnect"}),this.ym("booted");
return this};f.prototype.tQ=function(){var a=d.util.request();a.open("GET",["http"+(this.options.Mm?"s":"")+":/",this.options.host+":"+this.options.port,this.options.Ew,d.protocol,"",this.MI].join("/")+"/?disconnect\x3d1",!1);a.send(null);this.ym("booted")};f.prototype.Ro=function(){var a=e.location.port||("https:"==e.location.protocol?443:80);return this.options.host!==e.location.hostname||this.options.port!=a};f.prototype.bC=function(){this.Ng||(this.Ng=!0,this.ag=!1,this.lB||this.Gj(!1),this.Do("connect"))};
f.prototype.sw=function(){this.open=!0};f.prototype.Hh=function(){this.open=!1;clearTimeout(this.zH)};f.prototype.cs=function(a){this.$o(a.Vv).cs(a)};f.prototype.zm=function(a){a&&a.advice&&"reconnect"===a.advice&&(this.Ng||this.ag)&&(this.disconnect(),this.options.zw&&this.zw());this.Rk("error",a&&a.reason?a.reason:a)};f.prototype.ym=function(a){var c=this.Ng,d=this.ag;this.open=this.ag=this.Ng=!1;if(c||d)this.Je.close(),this.Je.fB(),c&&(this.Rk("disconnect",a),"booted"!=a&&this.options.zw&&!this.Em&&
this.zw())};f.prototype.zw=function(){function a(){if(d.Ng){for(var e in d.namespaces)d.namespaces.hasOwnProperty(e)&&""!==e&&d.namespaces[e].Df({type:"connect"});d.Rk("reconnect",d.Je.name,d.Aw)}clearTimeout(d.Bw);d.removeListener("connect_failed",c);d.removeListener("connect",c);d.Em=!1;delete d.Aw;delete d.Fm;delete d.Bw;delete d.zI;d.options["try multiple transports"]=f}function c(){if(d.Em){if(d.Ng)return a();if(d.ag&&d.Em)return d.Bw=setTimeout(c,1E3);d.Aw++>=e?d.zI?(d.Rk("reconnect_failed"),
a()):(d.on("connect_failed",c),d.options["try multiple transports"]=!0,d.transports=d.fT,d.Je=d.sH(),d.zI=!0,d.connect()):(d.Fm<g&&(d.Fm*=2),d.connect(),d.Rk("reconnecting",d.Fm,d.Aw),d.Bw=setTimeout(c,d.Fm))}}this.Em=!0;this.Aw=0;this.Fm=this.options["reconnection delay"];var d=this,e=this.options["max reconnection attempts"],f=this.options["try multiple transports"],g=this.options["reconnection limit"];this.options["try multiple transports"]=!1;this.Bw=setTimeout(c,this.Fm);this.on("connect",c)}})("undefined"!=
typeof io?io:module.gc,"undefined"!=typeof io?io:module.parent.gc,this);(function(a,d){function e(a,c){this.hb=a;this.name=c||"";this.Xv={};this.xS=new f(this,"json");this.lG=0;this.ur={}}function f(a,c){this.Zo=a;this.name=c}a.SocketNamespace=e;d.util.mixin(e,d.EventEmitter);e.prototype.Nj=d.EventEmitter.prototype.Do;e.prototype.$o=function(){return this.hb.$o.apply(this.hb,arguments)};e.prototype.Df=function(a){a.Vv=this.name;this.hb.Df(a);this.Xv={};return this};e.prototype.send=function(a,c){var d=
{type:this.Xv.xS?"json":"message",data:a};"function"==typeof c&&(d.id=++this.lG,d.yo=!0,this.ur[d.id]=c);return this.Df(d)};e.prototype.Do=function(a){var c=Array.prototype.slice.call(arguments,1),d=c[c.length-1],e={type:"event",name:a};"function"==typeof d&&(e.id=++this.lG,e.yo="data",this.ur[e.id]=d,c=c.slice(0,c.length-1));e.Ce=c;return this.Df(e)};e.prototype.disconnect=function(){""===this.name?this.hb.disconnect():(this.Df({type:"disconnect"}),this.Nj("disconnect"));return this};e.prototype.cs=
function(a){function c(){e.Df({type:"ack",Ce:d.util.toArray(arguments),zo:a.id})}var e=this;switch(a.type){case "connect":this.Nj("connect");break;case "disconnect":""===this.name?this.hb.ym(a.reason||"booted"):this.Nj("disconnect",a.reason);break;case "message":case "json":var f=["message",a.data];"data"==a.yo?f.push(c):a.yo&&this.Df({type:"ack",zo:a.id});this.Nj.apply(this,f);break;case "event":f=[a.name].concat(a.Ce);"data"==a.yo&&f.push(c);this.Nj.apply(this,f);break;case "ack":this.ur[a.zo]&&
(this.ur[a.zo].apply(this,a.Ce),delete this.ur[a.zo]);break;case "error":a.advice?this.hb.zm(a):"unauthorized"==a.reason?this.Nj("connect_failed",a.reason):this.Nj("error",a.reason)}};f.prototype.send=function(){this.Zo.Xv[this.name]=!0;this.Zo.send.apply(this.Zo,arguments)};f.prototype.Do=function(){this.Zo.Xv[this.name]=!0;this.Zo.Do.apply(this.Zo,arguments)}})("undefined"!=typeof io?io:module.gc,"undefined"!=typeof io?io:module.parent.gc);(function(a,d,e){function f(a){d.Transport.apply(this,arguments)}
a.og=f;d.util.inherit(f,d.Transport);f.prototype.name="websocket";f.prototype.open=function(){var a=d.util.query(this.hb.options.query),c=this,f;f||(f=e.fY||e.WL);this.og=new f(this.es()+a);this.og.onopen=function(){c.sw();c.hb.Gj(!1)};this.og.onmessage=function(a){c.bs(a.data)};this.og.onclose=function(){c.Hh();c.hb.Gj(!0)};this.og.onerror=function(a){c.zm(a)};return this};f.prototype.send=d.util.ua.iDevice?function(a){var c=this;setTimeout(function(){c.og.send(a)},0);return this}:function(a){this.og.send(a);
return this};f.prototype.nI=function(a){for(var c=0,d=a.length;c<d;c++)this.Df(a[c]);return this};f.prototype.close=function(){this.og.close();return this};f.prototype.zm=function(a){this.hb.zm(a)};f.prototype.scheme=function(){return this.hb.options.Mm?"wss":"ws"};f.lm=function(){return"WebSocket"in e&&!("__addTask"in WebSocket)||"MozWebSocket"in e};f.Cs=function(){return!0};d.transports.push("websocket")})("undefined"!=typeof io?io.Transport:module.gc,"undefined"!=typeof io?io:module.parent.gc,
this);(function(c,d){function e(){d.Transport.og.apply(this,arguments)}c.u1=e;d.util.inherit(e,d.Transport.og);e.prototype.name="flashsocket";e.prototype.open=function(){var a=this,c=arguments;WebSocket.Pt(function(){d.Transport.og.prototype.open.apply(a,c)});return this};e.prototype.send=function(){var a=this,c=arguments;WebSocket.Pt(function(){d.Transport.og.prototype.send.apply(a,c)});return this};e.prototype.close=function(){WebSocket.Mp.length=0;d.Transport.og.prototype.close.call(this);return this};
e.prototype.yw=function(a,c){function h(){var d=a.options,h=d["flash policy port"],n=["http"+(d.Mm?"s":"")+":/",d.host+":"+d.port,d.Ew,"static/flashsocket","WebSocketMain"+(a.Ro()?"Insecure":"")+".swf"];e.loaded||("undefined"===typeof WEB_SOCKET_SWF_LOCATION&&(WEB_SOCKET_SWF_LOCATION=n.join("/")),843!==h&&WebSocket.FS("xmlsocket://"+d.host+":"+h),WebSocket.ry(),e.loaded=!0);c.call(k)}var k=this;if(document.body)return h();d.util.load(h)};e.lm=function(){return"undefined"!=typeof WebSocket&&"__initialize"in
WebSocket&&a?10<=a.VQ().KS:!1};e.Cs=function(){return!0};"undefined"!=typeof window&&(WEB_SOCKET_DISABLE_AUTO_INITIALIZATION=!0);d.transports.push("flashsocket")})("undefined"!=typeof io?io.Transport:module.gc,"undefined"!=typeof io?io:module.parent.gc);if("undefined"!=typeof window)var a=function(){function c(){if(!ga){try{var a=G.getElementsByTagName("body")[0].appendChild(G.createElement("span"));a.parentNode.removeChild(a)}catch(c){return}ga=!0;for(var a=ra.length,d=0;d<a;d++)ra[d]()}}function d(a){ga?
a():ra[ra.length]=a}function e(a){if(typeof W.addEventListener!=J)W.addEventListener("load",a,!1);else if(typeof G.addEventListener!=J)G.addEventListener("load",a,!1);else if(typeof W.attachEvent!=J)z(W,a);else if("function"==typeof W.onload){var c=W.onload;W.onload=function(){c();a()}}else W.onload=a}function f(){var a=G.getElementsByTagName("body")[0],c=G.createElement(O);c.setAttribute("type",N);var d=a.appendChild(c);if(d){var e=0;(function(){if(typeof d.GetVariable!=J){var f=d.GetVariable("$version");
f&&(f=f.split(" ")[1].split(","),C.cp=[parseInt(f[0],10),parseInt(f[1],10),parseInt(f[2],10)])}else if(10>e){e++;setTimeout(arguments.callee,10);return}a.removeChild(c);d=null;g()})()}else g()}function g(){var a=ea.length;if(0<a)for(var c=0;c<a;c++){var d=ea[c].id,e=ea[c].IP,f={Sm:!1,id:d};if(0<C.cp[0]){var g=v(d);if(g)if(!B(ea[c].fW)||C.Mj&&312>C.Mj)if(ea[c].TG&&k()){f={};f.data=ea[c].TG;f.width=g.getAttribute("width")||"0";f.height=g.getAttribute("height")||"0";g.getAttribute("class")&&(f.maa=g.getAttribute("class"));
g.getAttribute("align")&&(f.align=g.getAttribute("align"));for(var n={},g=g.getElementsByTagName("param"),q=g.length,s=0;s<q;s++)"movie"!=g[s].getAttribute("name").toLowerCase()&&(n[g[s].getAttribute("name")]=g[s].getAttribute("value"));l(f,n,d,e)}else m(g),e&&e(f);else M(d,!0),e&&(f.Sm=!0,f.AI=h(d),e(f))}else M(d,!0),e&&((d=h(d))&&typeof d.SetVariable!=J&&(f.Sm=!0,f.AI=d),e(f))}}function h(a){var c=null;(a=v(a))&&"OBJECT"==a.nodeName&&(typeof a.SetVariable!=J?c=a:(a=a.getElementsByTagName(O)[0])&&
(c=a));return c}function k(){return!sa&&B("6.0.65")&&(C.Zg||C.aI)&&!(C.Mj&&312>C.Mj)}function l(a,c,d,e){sa=!0;za=e||null;Ga={Sm:!1,id:d};var f=v(d);if(f){"OBJECT"==f.nodeName?(pa=n(f),ta=null):(pa=f,ta=d);a.id=ia;if(typeof a.width==J||!/%$/.test(a.width)&&310>parseInt(a.width,10))a.width="310";if(typeof a.height==J||!/%$/.test(a.height)&&137>parseInt(a.height,10))a.height="137";G.title=G.title.slice(0,47)+" - Flash Player Installation";e=C.Sg&&C.Zg?["Active"].concat("").join("X"):"PlugIn";e="MMredirectURL\x3d"+
W.location.toString().replace(/&/g,"%26")+"\x26MMplayerType\x3d"+e+"\x26MMdoctitle\x3d"+G.title;c.Ar=typeof c.Ar!=J?c.Ar+("\x26"+e):e;C.Sg&&C.Zg&&4!=f.readyState&&(e=G.createElement("div"),d+="SWFObjectNew",e.setAttribute("id",d),f.parentNode.insertBefore(e,f),f.style.display="none",function(){4==f.readyState?f.parentNode.removeChild(f):setTimeout(arguments.callee,10)}());s(a,c,d)}}function m(a){if(C.Sg&&C.Zg&&4!=a.readyState){var c=G.createElement("div");a.parentNode.insertBefore(c,a);c.parentNode.replaceChild(n(a),
c);a.style.display="none";(function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)})()}else a.parentNode.replaceChild(n(a),a)}function n(a){var c=G.createElement("div");if(C.Zg&&C.Sg)c.innerHTML=a.innerHTML;else if(a=a.getElementsByTagName(O)[0])if(a=a.childNodes)for(var d=a.length,e=0;e<d;e++)1==a[e].nodeType&&"PARAM"==a[e].nodeName||8==a[e].nodeType||c.appendChild(a[e].cloneNode(!0));return c}function s(a,c,d){var e,f=v(d);if(C.Mj&&312>C.Mj)return e;if(f)if(typeof a.id==
J&&(a.id=d),C.Sg&&C.Zg){var g="",h;for(h in a)a[h]!=Object.prototype[h]&&("data"==h.toLowerCase()?c.S6=a[h]:"styleclass"==h.toLowerCase()?g+=' class\x3d"'+a[h]+'"':"classid"!=h.toLowerCase()&&(g+=" "+h+'\x3d"'+a[h]+'"'));h="";for(var k in c)c[k]!=Object.prototype[k]&&(h+='\x3cparam name\x3d"'+k+'" value\x3d"'+c[k]+'" /\x3e');f.outerHTML='\x3cobject classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+g+"\x3e"+h+"\x3c/object\x3e";ua[ua.length]=a.id;e=v(a.id)}else{k=G.createElement(O);k.setAttribute("type",
N);for(var l in a)a[l]!=Object.prototype[l]&&("styleclass"==l.toLowerCase()?k.setAttribute("class",a[l]):"classid"!=l.toLowerCase()&&k.setAttribute(l,a[l]));for(g in c)c[g]!=Object.prototype[g]&&"movie"!=g.toLowerCase()&&(a=k,h=g,l=c[g],d=G.createElement("param"),d.setAttribute("name",h),d.setAttribute("value",l),a.appendChild(d));f.parentNode.replaceChild(k,f);e=k}return e}function q(a){var c=v(a);c&&"OBJECT"==c.nodeName&&(C.Sg&&C.Zg?(c.style.display="none",function(){if(4==c.readyState){var d=v(a);
if(d){for(var e in d)"function"==typeof d[e]&&(d[e]=null);d.parentNode.removeChild(d)}}else setTimeout(arguments.callee,10)}()):c.parentNode.removeChild(c))}function v(a){var c=null;try{c=G.getElementById(a)}catch(d){}return c}function z(a,c){a.attachEvent("onload",c);ja[ja.length]=[a,"onload",c]}function B(a){var c=C.cp;a=a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return c[0]>a[0]||c[0]==a[0]&&c[1]>a[1]||c[0]==a[0]&&c[1]==a[1]&&c[2]>=a[2]?!0:!1}function E(a,
c,d,e){if(!C.Sg||!C.aI){var f=G.getElementsByTagName("head")[0];f&&(d=d&&"string"==typeof d?d:"screen",e&&(Aa=ba=null),ba&&Aa==d||(e=G.createElement("style"),e.setAttribute("type","text/css"),e.setAttribute("media",d),ba=f.appendChild(e),C.Sg&&C.Zg&&typeof G.styleSheets!=J&&0<G.styleSheets.length&&(ba=G.styleSheets[G.styleSheets.length-1]),Aa=d),C.Sg&&C.Zg?ba&&typeof ba.addRule==O&&ba.addRule(a,c):ba&&typeof G.createTextNode!=J&&ba.appendChild(G.createTextNode(a+" {"+c+"}")))}}function M(a,c){if(Ha){var d=
c?"visible":"hidden";ga&&v(a)?v(a).style.visibility=d:E("#"+a,"visibility:"+d)}}function aa(a){return null!=/[\\\"<>\.;]/.exec(a)&&typeof encodeURIComponent!=J?encodeURIComponent(a):a}var J="undefined",O="object",N="application/x-shockwave-flash",ia="SWFObjectExprInst",W=window,G=document,fa=navigator,Ia=!1,ra=[function(){Ia?f():g()}],ea=[],ua=[],ja=[],pa,ta,za,Ga,ga=!1,sa=!1,ba,Aa,Ha=!0,C=function(){var a=typeof G.getElementById!=J&&typeof G.getElementsByTagName!=J&&typeof G.createElement!=J,c=fa.userAgent.toLowerCase(),
d=fa.platform.toLowerCase(),e=d?/win/.test(d):/win/.test(c),d=d?/mac/.test(d):/mac/.test(c),c=/webkit/.test(c)?parseFloat(c.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,f=!+"\v1",g=[0,0,0],h=null;if(typeof fa.plugins!=J&&typeof fa.plugins["Shockwave Flash"]==O)!(h=fa.plugins["Shockwave Flash"].description)||typeof fa.mimeTypes!=J&&fa.mimeTypes[N]&&!fa.mimeTypes[N].enabledPlugin||(Ia=!0,f=!1,h=h.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),g[0]=parseInt(h.replace(/^(.*)\..*$/,"$1"),10),g[1]=parseInt(h.replace(/^.*\.(.*)\s.*$/,
"$1"),10),g[2]=/[a-zA-Z]/.test(h)?parseInt(h.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof W[["Active"].concat("Object").join("X")]!=J)try{var k=new (window[["Active"].concat("Object").join("X")])("ShockwaveFlash.ShockwaveFlash");k&&(h=k.GetVariable("$version"))&&(f=!0,h=h.split(" ")[1].split(","),g=[parseInt(h[0],10),parseInt(h[1],10),parseInt(h[2],10)])}catch(l){}return{cl:a,cp:g,Mj:c,Sg:f,Zg:e,aI:d}}();(function(){C.cl&&((typeof G.readyState!=J&&"complete"==G.readyState||typeof G.readyState==
J&&(G.getElementsByTagName("body")[0]||G.body))&&c(),ga||(typeof G.addEventListener!=J&&G.addEventListener("DOMContentLoaded",c,!1),C.Sg&&C.Zg&&(G.attachEvent("onreadystatechange",function(){"complete"==G.readyState&&(G.detachEvent("onreadystatechange",arguments.callee),c())}),W==top&&function(){if(!ga){try{G.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}c()}}()),C.Mj&&function(){ga||(/loaded|complete/.test(G.readyState)?c():setTimeout(arguments.callee,0))}(),e(c)))})();
(function(){C.Sg&&C.Zg&&window.attachEvent("onunload",function(){for(var c=ja.length,d=0;d<c;d++)ja[d][0].detachEvent(ja[d][1],ja[d][2]);c=ua.length;for(d=0;d<c;d++)q(ua[d]);for(var e in C)C[e]=null;C=null;for(var f in a)a[f]=null;a=null})})();return{i8:function(a,c,d,e){if(C.cl&&a&&c){var f={};f.id=a;f.fW=c;f.TG=d;f.IP=e;ea[ea.length]=f;M(a,!1)}else e&&e({Sm:!1,id:a})},n3:function(a){if(C.cl)return h(a)},EQ:function(a,c,e,f,g,h,m,n,q,v){var z={Sm:!1,id:c};C.cl&&!(C.Mj&&312>C.Mj)&&a&&c&&e&&f&&g?(M(c,
!1),d(function(){e+="";f+="";var d={};if(q&&typeof q===O)for(var E in q)d[E]=q[E];d.data=a;d.width=e;d.height=f;E={};if(n&&typeof n===O)for(var C in n)E[C]=n[C];if(m&&typeof m===O)for(var G in m)E.Ar=typeof E.Ar!=J?E.Ar+("\x26"+G+"\x3d"+m[G]):G+"\x3d"+m[G];if(B(g))C=s(d,E,c),d.id==c&&M(c,!0),z.Sm=!0,z.AI=C;else{if(h&&k()){d.data=h;l(d,E,c,v);return}M(c,!0)}v&&v(z)})):v&&v(z)},uaa:function(){Ha=!1},ua:C,VQ:function(){return{KS:C.cp[0],O6:C.cp[1],sC:C.cp[2]}},PR:B,F0:function(a,c,d){if(C.cl)return s(a,
c,d)},Y$:function(a,c,d,e){C.cl&&k()&&l(a,c,d,e)},w8:function(a){C.cl&&q(a)},E0:function(a,c,d,e){C.cl&&E(a,c,d,e)},x_:d,B_:e,S3:function(a){var c=G.location.search||G.location.hash;if(c){/\?/.test(c)&&(c=c.split("?")[1]);if(null==a)return aa(c);for(var c=c.split("\x26"),d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("\x3d"))==a)return aa(c[d].substring(c[d].indexOf("\x3d")+1))}return""},e1:function(){if(sa){var a=v(ia);a&&pa&&(a.parentNode.replaceChild(pa,a),ta&&(M(ta,!0),C.Sg&&C.Zg&&(pa.style.display=
"block")),za&&za(Ga));sa=!1}}}}();(function(){if("undefined"!=typeof window&&!window.WL){var c=window.console;c&&c.log&&c.error||(c={log:function(){},error:function(){}});a.PR("10.0.0")?("file:"==location.protocol&&c.error("WARNING: web-socket-js doesn't work in file:///... URL unless you set Flash Security Settings properly. Open the page via Web server i.e. http://..."),WebSocket=function(a,c,f,g,h){var k=this;k.Rt=WebSocket.cM++;WebSocket.yE[k.Rt]=k;k.readyState=WebSocket.CONNECTING;k.bufferedAmount=
0;k.nn={};c?"string"==typeof c&&(c=[c]):c=[];setTimeout(function(){WebSocket.Pt(function(){WebSocket.Uh.create(k.Rt,a,c,f||null,g||0,h||null)})},0)},WebSocket.prototype.send=function(a){if(this.readyState==WebSocket.CONNECTING)throw"INVALID_STATE_ERR: Web Socket connection has not been established";a=WebSocket.Uh.send(this.Rt,encodeURIComponent(a));if(0>a)return!0;this.bufferedAmount+=a;return!1},WebSocket.prototype.close=function(){this.readyState!=WebSocket.CLOSED&&this.readyState!=WebSocket.pD&&
(this.readyState=WebSocket.pD,WebSocket.Uh.close(this.Rt))},WebSocket.prototype.addEventListener=function(a,c){a in this.nn||(this.nn[a]=[]);this.nn[a].push(c)},WebSocket.prototype.removeEventListener=function(a,c){if(a in this.nn)for(var f=this.nn[a],g=f.length-1;0<=g;--g)if(f[g]===c){f.splice(g,1);break}},WebSocket.prototype.dispatchEvent=function(a){for(var c=this.nn[a.type]||[],f=0;f<c.length;++f)c[f](a);(c=this["on"+a.type])&&c(a)},WebSocket.prototype.$L=function(a){"readyState"in a&&(this.readyState=
a.readyState);"protocol"in a&&(this.protocol=a.protocol);if("open"==a.type||"error"==a.type)a=this.wE(a.type);else if("close"==a.type)a=this.wE("close");else if("message"==a.type)a=this.YL(decodeURIComponent(a.message));else throw"unknown event type: "+a.type;this.dispatchEvent(a)},WebSocket.prototype.wE=function(a){if(document.createEvent&&window.EX){var c=document.createEvent("Event");c.initEvent(a,!1,!1);return c}return{type:a,bubbles:!1,cancelable:!1}},WebSocket.prototype.YL=function(a){if(document.createEvent&&
window.dY&&!window.opera){var c=document.createEvent("MessageEvent");c.initMessageEvent("message",!1,!1,a,null,null,window,null);return c}return{type:"message",data:a,bubbles:!1,cancelable:!1}},WebSocket.CONNECTING=0,WebSocket.OPEN=1,WebSocket.pD=2,WebSocket.CLOSED=3,WebSocket.Uh=null,WebSocket.yE={},WebSocket.Mp=[],WebSocket.cM=0,WebSocket.FS=function(a){WebSocket.Pt(function(){WebSocket.Uh.H6(a)})},WebSocket.ry=function(){if(!WebSocket.Uh&&(WebSocket.eM&&(window.VL=WebSocket.eM),window.VL)){var d=
document.createElement("div");d.id="webSocketContainer";d.style.position="absolute";WebSocket.bM()?(d.style.left="0px",d.style.top="0px"):(d.style.left="-100px",d.style.top="-100px");var e=document.createElement("div");e.id="webSocketFlash";d.appendChild(e);document.body.appendChild(d);a.EQ(WEB_SOCKET_SWF_LOCATION,"webSocketFlash","1","1","10.0.0",null,null,{g5:!0,xaa:!0,O_:"always"},null,function(a){a.Sm||c.error("[WebSocket] swfobject.embedSWF failed")})}},WebSocket.FZ=function(){setTimeout(function(){WebSocket.Uh=
document.getElementById("webSocketFlash");WebSocket.Uh.V8(location.href);WebSocket.Uh.d9(!!window.qZ);for(var a=0;a<WebSocket.Mp.length;++a)WebSocket.Mp[a]();WebSocket.Mp=[]},0)},WebSocket.EZ=function(){setTimeout(function(){try{for(var a=WebSocket.Uh.d8(),e=0;e<a.length;++e)WebSocket.yE[a[e].fba].$L(a[e])}catch(f){c.error(f)}},0);return!0},WebSocket.DZ=function(a){c.log(decodeURIComponent(a))},WebSocket.CZ=function(a){c.error(decodeURIComponent(a))},WebSocket.Pt=function(a){WebSocket.Uh?a():WebSocket.Mp.push(a)},
WebSocket.bM=function(){if(!window.navigator||!window.navigator.mimeTypes)return!1;var a=window.navigator.mimeTypes["application/x-shockwave-flash"];return a&&a.enabledPlugin&&a.enabledPlugin.filename?a.enabledPlugin.filename.match(/flashlite/i)?!0:!1:!1},window.rZ||(window.addEventListener?window.addEventListener("load",function(){WebSocket.ry()},!1):window.attachEvent("onload",function(){WebSocket.ry()}))):c.error("Flash Player \x3e\x3d 10.0.0 is required.")}})();(function(a,d,e){function f(a){a&&
d.Transport.apply(this,arguments)}function g(){}a.Qi=f;d.util.inherit(f,d.Transport);f.prototype.open=function(){this.hb.Gj(!1);this.sw();this.get();this.VI();return this};f.prototype.nI=function(a){for(var c=[],e=0,f=a.length;e<f;e++)c.push(d.parser.encodePacket(a[e]));this.send(d.parser.encodePayload(c))};f.prototype.send=function(a){this.rI(a);return this};f.prototype.rI=function(a){function c(){4==this.readyState&&(this.onreadystatechange=g,f.R7=!1,200==this.status?f.hb.Gj(!1):f.Hh())}function d(){this.onload=
g;f.hb.Gj(!1)}var f=this;this.hb.Gj(!0);this.is=this.request("POST");e.XDomainRequest&&this.is instanceof XDomainRequest?this.is.onload=this.is.onerror=d:this.is.onreadystatechange=c;this.is.send(a)};f.prototype.close=function(){this.Hh();return this};f.prototype.request=function(a){var c=d.util.request(this.hb.Ro()),e=d.util.query(this.hb.options.query,"t\x3d"+ +new Date);c.open(a||"GET",this.es()+e,!0);if("POST"==a)try{c.setRequestHeader?c.setRequestHeader("Content-type","text/plain;charset\x3dUTF-8"):
c.contentType="text/plain"}catch(f){}return c};f.prototype.scheme=function(){return this.hb.options.Mm?"https":"http"};f.lm=function(a,c){try{var f=d.util.request(c),g=e.XDomainRequest&&f instanceof XDomainRequest,n=a&&a.options&&a.options.Mm?"https:":"http:",s=e.location&&n!=e.location.protocol;if(f&&(!g||!s))return!0}catch(q){}return!1};f.Cs=function(a){return f.lm(a,!0)}})("undefined"!=typeof io?io.Transport:module.gc,"undefined"!=typeof io?io:module.parent.gc,this);(function(a,d){function e(a){d.Transport.Qi.apply(this,
arguments)}a.j5=e;d.util.inherit(e,d.Transport.Qi);e.prototype.name="htmlfile";e.prototype.get=function(){this.Ek=new (window[["Active"].concat("Object").join("X")])("htmlfile");this.Ek.open();this.Ek.write("\x3chtml\x3e\x3c/html\x3e");this.Ek.close();this.Ek.parentWindow.Nh=this;var a=this.Ek.createElement("div");a.className="socketio";this.Ek.body.appendChild(a);this.dg=this.Ek.createElement("iframe");a.appendChild(this.dg);var c=this,a=d.util.query(this.hb.options.query,"t\x3d"+ +new Date);this.dg.src=
this.es()+a;d.util.on(window,"unload",function(){c.pd()})};e.prototype.tE=function(a,c){a=a.replace(/\\\//g,"/");this.bs(a);try{var d=c.getElementsByTagName("script")[0];d.parentNode.removeChild(d)}catch(e){}};e.prototype.pd=function(){if(this.dg){try{this.dg.src="about:blank"}catch(a){}this.Ek=null;this.dg.parentNode.removeChild(this.dg);this.dg=null;CollectGarbage()}};e.prototype.close=function(){this.pd();return d.Transport.Qi.prototype.close.call(this)};e.lm=function(a){if("undefined"!=typeof window&&
["Active"].concat("Object").join("X")in window)try{return new (window[["Active"].concat("Object").join("X")])("htmlfile")&&d.Transport.Qi.lm(a)}catch(c){}return!1};e.Cs=function(){return!1};d.transports.push("htmlfile")})("undefined"!=typeof io?io.Transport:module.gc,"undefined"!=typeof io?io:module.parent.gc);(function(a,d,e){function f(){d.Transport.Qi.apply(this,arguments)}function g(){}a["xhr-polling"]=f;d.util.inherit(f,d.Transport.Qi);d.util.merge(f,d.Transport.Qi);f.prototype.name="xhr-polling";
f.prototype.AH=function(){return!1};f.prototype.open=function(){d.Transport.Qi.prototype.open.call(this);return!1};f.prototype.get=function(){function a(){4==this.readyState&&(this.onreadystatechange=g,200==this.status?(f.bs(this.responseText),f.get()):f.Hh())}function c(){this.onerror=this.onload=g;f.yC=1;f.bs(this.responseText);f.get()}function d(){f.yC++;!f.yC||3<f.yC?f.Hh():f.get()}if(this.Sr){var f=this;this.Oh=this.request();e.XDomainRequest&&this.Oh instanceof XDomainRequest?(this.Oh.onload=
c,this.Oh.onerror=d):this.Oh.onreadystatechange=a;this.Oh.send(null)}};f.prototype.Hh=function(){d.Transport.Qi.prototype.Hh.call(this);if(this.Oh){this.Oh.onreadystatechange=this.Oh.onload=this.Oh.onerror=g;try{this.Oh.abort()}catch(a){}this.Oh=null}};f.prototype.yw=function(a,c){var e=this;d.util.defer(function(){c.call(e)})};d.transports.push("xhr-polling")})("undefined"!=typeof io?io.Transport:module.gc,"undefined"!=typeof io?io:module.parent.gc,this);(function(a,d,e){function f(a){d.Transport["xhr-polling"].apply(this,
arguments);this.index=d.j.length;var c=this;d.j.push(function(a){c.tE(a)})}var g=e.document&&"MozAppearance"in e.document.documentElement.style;a["jsonp-polling"]=f;d.util.inherit(f,d.Transport["xhr-polling"]);f.prototype.name="jsonp-polling";f.prototype.rI=function(a){function c(){e();f.hb.Gj(!1)}function e(){f.dg&&f.form.removeChild(f.dg);try{z=document.createElement('\x3ciframe name\x3d"'+f.KB+'"\x3e')}catch(a){z=document.createElement("iframe"),z.name=f.KB}z.id=f.KB;f.form.appendChild(z);f.dg=
z}var f=this,g=d.util.query(this.hb.options.query,"t\x3d"+ +new Date+"\x26i\x3d"+this.index);if(!this.form){var s=document.createElement("form"),q=document.createElement("textarea"),v=this.KB="socketio_iframe_"+this.index,z;s.className="socketio";s.style.position="absolute";s.style.top="0px";s.style.left="0px";s.style.display="none";s.target=v;s.method="POST";s.setAttribute("accept-charset","utf-8");q.name="d";s.appendChild(q);document.body.appendChild(s);this.form=s;this.BP=q}this.form.action=this.es()+
g;e();this.BP.value=d.JSON.stringify(a);try{this.form.submit()}catch(B){}this.dg.attachEvent?z.onreadystatechange=function(){"complete"==f.dg.readyState&&c()}:this.dg.onload=c;this.hb.Gj(!0)};f.prototype.get=function(){var a=this,c=document.createElement("script"),e=d.util.query(this.hb.options.query,"t\x3d"+ +new Date+"\x26i\x3d"+this.index);this.Ya&&(this.Ya.parentNode.removeChild(this.Ya),this.Ya=null);c.async=!0;c.src=this.es()+e;c.onerror=function(){a.Hh()};e=document.getElementsByTagName("script")[0];
e.parentNode.insertBefore(c,e);this.Ya=c;g&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a);document.body.removeChild(a)},100)};f.prototype.tE=function(a){this.bs(a);this.Sr&&this.get();return this};f.prototype.yw=function(a,c){var e=this;if(!g)return c.call(this);d.util.load(function(){c.call(e)})};f.lm=function(){return"document"in e};f.Cs=function(){return!0};d.transports.push("jsonp-polling")})("undefined"!=typeof io?io.Transport:module.gc,"undefined"!=
typeof io?io:module.parent.gc,this);"function"===typeof define&&define.P_&&define([],function(){return io})})();p=p||{};function r(){return arguments.callee.name||arguments.callee.toString().match(/^function ([^(]+)/)[1]}r.id=0|998*Math.random();r.mS=0|998*Math.random();
r.BG=function(a,c,d){for(var e=a.toString(),f=e.indexOf("("),g=e.indexOf(")"),f=e.substring(f+1,g),f=f.trim(),g=e.indexOf("{"),e=e.substring(g+1,e.lastIndexOf("}"));-1!=e.indexOf("this._super");)var g=e.indexOf("this._super"),h=e.indexOf("(",g),k=e.indexOf(")",h),k=e.substring(h+1,k),k=(k=k.trim())?",":"",l=arguments.callee.sK(),e=e.substring(0,g)+l+"["+d+"]."+c+".call(this"+k+e.substring(h+1);return Function(f,e)};r.BG.sK=r;r.gR=function(){return this.id++};r.hR=function(){return this.mS++};
(function(){var a=/\b_super\b/,c=document.ccConfig&&document.ccConfig.CLASS_RELEASE_MODE?document.ccConfig.CLASS_RELEASE_MODE:null;c&&console.log("release Mode");p.sa=function(){};p.sa.extend=function(d){function e(){this.Tb=r.hR();this.ctor&&this.ctor.apply(this,arguments)}var f=this.prototype,g=Object.create(f),h=r.gR();r[h]=f;var k={writable:!0,enumerable:!1,configurable:!0},l;for(l in d)c&&"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=r.BG(d[l],l,h),Object.defineProperty(g,
l,k)):"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=function(a,c){return function(){var d=this._super;this._super=f[a];var e=c.apply(this,arguments);this._super=d;return e}}(l,d[l]),Object.defineProperty(g,l,k)):"function"==typeof d[l]?(k.value=d[l],Object.defineProperty(g,l,k)):g[l]=d[l];g.Tb=null;e.id=h;k.value=h;Object.defineProperty(g,"__pid",k);e.prototype=g;k.value=e;Object.defineProperty(e.prototype,"constructor",k);e.extend=arguments.callee;e.l5=function(a){for(var c in a)g[c]=
a[c]};return e};Function.prototype.bind=Function.prototype.bind||function(a){var c=this;return function(){var f=Array.prototype.slice.call(arguments);return c.apply(a||null,f)}}})();p.n5=function(a,c){function d(){}d.prototype=c.prototype;a.dx=c.prototype;a.prototype=new d;a.prototype.constructor=a};
p.EP=function(a,c,d){var e=arguments.callee.caller;if(e.dx)return ret=e.dx.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var f=Array.prototype.slice.call(arguments,2),g=!1,h=a.constructor;h;h=h.dx&&h.dx.constructor)if(h.prototype[c]===e)g=!0;else if(g)return h.prototype[c].apply(a,f);if(a[c]===e)return a.constructor.prototype[c].apply(a,f);throw Error("cc.base called from a method of one name to a method of a different name");};
p.A0=function(a,c){a||(a={});for(var d in c)a[d]=c[d];return a};p.rg=function(a,c){this.x=a||0;this.y=c||0};p.uE=function(a,c){this.B=a||0;this.G=c||0;this.yJ=function(a){this.B=a};this.zJ=function(a){this.G=a}};p.$c=function(){return new p.uE(0,0)};
Object.defineProperties(p.uE.prototype,{x:{get:function(){return this.B},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0},y:{get:function(){return this.G},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0}});p.uY=function(a,c){p.log("cc.PointMake will be deprecated sooner or later. Use cc.p instead.");return new p.rg(a,c)};
p.a=function(a,c){return{x:a,y:c}};p.e_=p.a;p.Mi=function(){return p.a(0,0)};p.oI=function(a,c){return a&&c?a.x===c.x&&a.y===c.y:!1};p.Uj=function(a,c){this.width=a||0;this.height=c||0};p.vE=function(a,c){this.wa=a||0;this.ja=c||0;this.UC=function(a){this.wa=a};this.IC=function(a){this.ja=a}};p.Rl=function(){return new p.vE(0,0)};
Object.defineProperties(p.vE.prototype,{width:{get:function(){return this.wa},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0},height:{get:function(){return this.ja},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0}});p.ZY=function(a,c){p.log("cc.SizeMake will be deprecated sooner or later. Use cc.size instead.");return p.size(a,c)};
p.size=function(a,c){return{width:a,height:c}};p.Pa=p.size;p.nl=function(){return p.size(0,0)};p.kG={rT:p.$c(),YV:p.Rl()};Object.defineProperties(p,{rL:{get:function(){return p.kG.rT}},BL:{get:function(){return p.kG.YV}},zY:{get:function(){return p.rect(0,0,0,0)}}});p.XV=function(a,c){return a&&c?a.width==c.width&&a.height==c.height:!1};
p.Lf=function(a,c,d,e){var f=arguments.length;if(4===f)this.Pc=new p.rg(a||0,c||0),this.Pa=new p.Uj(d||0,e||0);else if(1===f)this.Pc=new p.rg(a.Pc.x,a.Pc.y),this.Pa=new p.Uj(a.Pa.width,a.Pa.height);else if(0===f)this.Pc=new p.rg(0,0),this.Pa=new p.Uj(0,0);else if(2===f)this.Pc=new p.rg(a.x,a.y),this.Pa=new p.Uj(c.width,c.height);else throw"unknown argument type";};p.GY=function(a,c,d,e){p.log("cc.RectMake will be deprecated sooner or later. Use cc.rect instead.");return p.rect(a,c,d,e)};
p.rect=function(a,c,d,e){var f=arguments.length;if(0===f)return new p.Lf(0,0,0,0);if(1===f)return new p.Lf(a.x,a.y,a.width,a.height);if(2===f)return new p.Lf(a.x,a.y,c.width,c.height);if(4===f)return new p.Lf(a,c,d,e);throw"unknown argument type";};p.oa=p.rect;p.Mc=function(){return p.rect(0,0,0,0)};p.yI=function(a,c){return a&&c?p.oI(a.Pc,c.Pc)&&p.XV(a.Pa,c.Pa):!1};p.Oq=function(a){return a?0===a.x&&0===a.y&&0===a.width&&0===a.height:!1};
p.e8=function(a,c){return a&&c?!(a.x>=c.x||a.y>=c.y||a.x+a.width<=c.x+c.width||a.y+a.height<=c.y+c.height):!1};p.Gm=function(a){return a.x+a.width};p.f8=function(a){return a.x+a.width/2};p.Sk=function(a){return a.x};p.Hm=function(a){return a.y+a.height};p.g8=function(a){return a.y+a.height/2};p.Tk=function(a){return a.y};p.Ab=function(a,c){return c.x>=p.Sk(a)&&c.x<=p.Gm(a)&&c.y>=p.Tk(a)&&c.y<=p.Hm(a)};p.IT=function(a,c){return!(p.Gm(a)<p.Sk(c)||p.Gm(c)<p.Sk(a)||p.Hm(a)<p.Tk(c)||p.Hm(c)<p.Tk(a))};
p.h8=function(a,c){return!(a.x+a.width<c.x||c.x+c.width<a.x||a.y+a.height<c.y||c.y+c.height<a.y)};p.Cw=function(a,c){var d=p.rect(0,0,0,0);d.x=Math.min(a.x,c.x);d.y=Math.min(a.y,c.y);d.width=Math.max(a.x+a.width,c.x+c.width)-d.x;d.height=Math.max(a.y+a.height,c.y+c.height)-d.y;return d};p.HT=function(a,c){var d=p.rect(Math.max(p.Sk(a),p.Sk(c)),Math.max(p.Tk(a),p.Tk(c)),0,0);d.width=Math.min(p.Gm(a),p.Gm(c))-p.Sk(d);d.height=Math.min(p.Hm(a),p.Hm(c))-p.Tk(d);return d};b=p.Lf.prototype;
b.yJ=function(a){this.Pc.x=a};b.zJ=function(a){this.Pc.y=a};b.Mr=function(){return this.Pa.width};b.UC=function(a){this.Pa.width=a};b.Gr=function(){return this.Pa.height};b.IC=function(a){this.Pa.height=a};
Object.defineProperties(p.Lf.prototype,{x:{get:function(){return this.Pc.x},set:function(a){this.yJ(a)},enumerable:!0,configurable:!0},y:{get:function(){return this.Pc.y},set:function(a){this.zJ(a)},enumerable:!0,configurable:!0},width:{get:function(){return this.Mr()},set:function(a){this.UC(a)},enumerable:!0,configurable:!0},height:{get:function(){return this.Gr()},set:function(a){this.IC(a)},enumerable:!0,configurable:!0}});var t=t||{};try{t.localStorage=window.localStorage,window.localStorage.setItem("storage",""),window.localStorage.removeItem("storage")}catch(ha){"SECURITY_ERR"!==ha.name&&"QuotaExceededError"!==ha.name||console.log("Warning: localStorage isn't enabled. Please confirm browser cookie or privacy option"),t.localStorage=function(){}}
Object.defineProperties(t,{m0:{get:function(){var a={canvas:!0};p.va.xc&&(a.opengl=!0);"ontouchstart"in document.documentElement||window.navigator.msPointerEnabled?a.touches=!0:"onmouseup"in document.documentElement&&(a.mouse=!0);"onkeyup"in document.documentElement&&(a.keyboard=!0);if(window.DeviceMotionEvent||window.DeviceOrientationEvent)a.accelerometer=!0;return a},enumerable:!0,configurable:!0},n7:{get:function(){var a=navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?!0:!1,c=navigator.userAgent.match(/android/i)||
navigator.platform.match(/android/i)?!0:!1,d=navigator.appVersion;-1!=navigator.appVersion.indexOf("Win")?d="Windows":-1!=navigator.appVersion.indexOf("Mac")?d="OS X":-1!=navigator.appVersion.indexOf("X11")?d="UNIX":-1!=navigator.appVersion.indexOf("Linux")?d="Linux":a?d="iOS":c&&(d="Android");return d},enumerable:!0,configurable:!0},platform:{get:function(){return"browser"},enumerable:!0,configurable:!0},version:{get:function(){return p.Ks},enumerable:!0,configurable:!0}});t.z1=function(){};
t.W0=function(){};t.H8=function(){};p.Ks="Cocos2d-html5-v2.2.2";p.dt=0;p.DD=p.a(0,0);p.xK=0.5;p.$W=1;p.CL=1;p.oL=0;p.lE=0;p.aZ=0;p.bZ=0;p.CY=1;p.BY="-hd";p.RL=1;p.Tj=0;p.WY=0;p.XX=0;p.WX=0;p.Ix=1;p.jX=p.Ks+"-canvas";p.Kv={platform:t.platform};p.V0=function(){for(var a in t)p.log(a+" \x3d "+t[a])};p.Js=1;p.FD=1;p.CG=function(a,c){for(var d=["webgl","experimental-webgl","webkit-3d","moz-webgl"],e=null,f=0;f<d.length;++f){try{e=a.getContext(d[f],c)}catch(g){}if(e)break}return e};p.va={};p.va.vW=["baidubrowser","opera","firefox","chrome","safari"];
(function(){p.va.ua=navigator.userAgent.toLowerCase();p.va.platform=navigator.platform.toLowerCase();p.va.Dj=-1!=p.va.ua.indexOf("mobile")||-1!=p.va.ua.indexOf("android");p.va.type=function(){var a=p.va.ua.match(/micromessenger|qqbrowser|mqqbrowser|ucbrowser|360browser|baidubrowser|maxthon|ie|opera|firefox/)||p.va.ua.match(/chrome|safari/);return a&&0<a.length?(a=a[0],"micromessenger"==a?"wechat":a):"unknow"}();p.va.mode="ie"==p.va.type&&document.documentMode;document.ccConfig||(document.ccConfig=
{});p.MA=parseInt(document.ccConfig.renderMode)||0;var a=-1==p.va.vW.indexOf(p.va.type);1===p.MA||0===p.MA&&(p.va.Dj||a)?p.va.xc=!1:(p.va.xc=null!=window.uZ,a=document.createElement("Canvas"),a=p.CG(a,{stencil:!0,preserveDrawingBuffer:!0}),p.va.xc=null!=a);2!==p.MA||p.va.xc||(p.sy=!0);var a=p.va,c;try{c=new (window.AudioContext||window.webkitAudioContext||window.mozAudioContext)?!0:!1}catch(d){c=!1}a.naa=c;p.va.k7=function(a){if(this.Dj){var c=p.P.d().Gb,d=c.width+"px",c=c.height+"px",h=p.Oj("div");
h.style.backgroundColor="#ffffff";h.style.width=d;h.style.height=c;h.style.yW=1E3;h.style.position="absolute";h.style.top="0px";h.style.left="0px";h.id="cocos2d-browser";var k=p.Oj("iframe");k.src=a;k.style.width=d;k.style.height=c;k.setAttribute("frameborder","no");k.setAttribute("scrolling","no");h.appendChild(k);k.onload=function(){var a=document.createElement("img");a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5OERBMEM3OUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5OERBMEM3QUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjk4REEwQzc3RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjk4REEwQzc4RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+NwBuoAAAA/tJREFUeNrEWF0sW3EUb6+28zFhbGadsBaNhazV+kpDYhFWKRGWbHvwFV5IvPiIFw9evElEPEiWSUgsIWoIglhmUomPxj6aKC0zKVJjtPU5o9j5J7dLdbf33jKc5Jfc3v+v5/+755x7/j1lMoiNBRDh4AO88HvO2m+ACbAC+AJQAyz2JCbBFyMBWQA/xv+3DUAXLuivudhcY4BMwCuAB+NqDPmNAnAAOsCZvQgk4BnjeiwEwAbM2YoQA14yrteQEANgDcML7gXjZgw9OAuJkADu3JAIb7Q/hr+GtCwuLs6LDq+iooLvhBAREhFEl11ZWRne0tIiIeNIpVKv4uJi4dTUVApNt0EY3ohILSIiwqO7u1sql8vD8vLyJJ2dnXH2HDabzczPz3/Y1taWzOfz78XExDxSq9Vyd3d3jMK9F2pWr6lEtLa2RmVnZ4tt7w0NDWlTU1OVtkK7urqSQ0NDzzW5hYWFjcTExAGDwXDkyD+VSkZ7e3tsWlpamP19mUwWplQqk9B1UlKST3NzczxE4K49D4mCiDwn24PyPMjIyHjs6urKIVpLSEgInp6eZsM6Kzw8nEvEMZvNBxC1BbI9KCMhkUgUy8vLRpL1QIFA4EcSyZmcnJzpS4mYnZ3dj46O7p2fn193xIGi/CeiFovlFIp5pqGhYZ5qD1qFiQxCjk1OTsqEQmEAFReloL+/X0sVAadFWE2n02VA+O+TcVZXV01QkO8ODw9P6fjEnO2zvb2936g4XC7XG4rWm65P2iL8/f05kN8nBQUFQkqnGMYcGBjIys3N5dLxjY7ydDrE6urqsNLSUqmbmxuH1tOBkMzMTIHRaNxSqVTmS4soKyvjFRUViTw9PV2dTR901WAOh7M/MjKyeeHCbGpqEhcWFkY5Wl9aWtpUKBRaONziSbsii/Xm5OTk7EIdU6/X7zpaW1xc/Al5HxkfH9/e2dk5rqmpeUrE6+vr06ADzpEIlI5kMjFwPhh5PB5DJBKdK7KDg4Oj2tpaVUdHxw/0eWxszIjyj8Jvy4N60FdVVX2Grnt4dkaowYJESAG3yaLR09Oz5uvrexwbGxuAR2erpKTkI6RqxW5DM6RnLT09PQQV5vDwsDYlJWUU+I4EIDMhEQLAA6q0DA4OrqMCg/c/qL6+XtXY2Kgn4sGJuavRaFbFYrFPeXn5FIj6ReFa64KnIpJOpaMK39vbM9XV1X13lF9kc3Nz+xMTEwZo89s03A4ycRE1N/RjF/WPKgyfDRU39Gu7w1qYyNYAtwDB1yhgGPDBfgzU4bMi7xoEjAI6iWZRdGMGH80Cr2goRlP5W8B7qwBHfw1YO6kEH4yC8EnJ5QKbnuDFh17nr4BPRP9P/BFgAHo7ZNgI9EbHAAAAAElFTkSuQmCC";
h.appendChild(a);a.style.yW=1E3;a.style.position="absolute";a.style.bottom="10px";a.style.right="10px";a.onclick=function(){h.remove()}};(a=document.getElementById(document.ccConfig.tag).parentNode)&&a.appendChild(h)}else window.open(a)}})();p.HY=function(){return"undefined"===p.sy?!1:p.sy};
p.Cb=function(a){var c=this==p?document:this;if(a=a instanceof HTMLElement?a:c.querySelector(a))a.find=a.find||p.Cb,a.GB=a.GB||function(a){return this.className.match(RegExp("(\\s|^)"+a+"(\\s|$)"))},a.pG=a.pG||function(a){this.GB(a)||(this.className&&(this.className+=" "),this.className+=a);return this},a.XT=a.XT||function(a){this.GB(a)&&(this.className=this.className.replace(a,""));return this},a.remove=a.remove||function(){this.parentNode&&this.parentNode.removeChild(this);return this},a.jm=a.jm||
function(a){a.appendChild(this);return this},a.BT=a.BT||function(a){a.childNodes[0]?a.insertBefore(this,a.childNodes[0]):a.appendChild(this);return this},a.Um=a.Um||function(){this.style[p.Cb.jW]=p.Cb.translate(this.position)+p.Cb.rotate(this.rotation)+p.Cb.scale(this.scale)+p.Cb.Zk(this.Zk);return this},a.position=a.position||{x:0,y:0},a.rotation=a.rotation||0,a.scale=a.scale||{x:1,y:1},a.Zk=a.Zk||{x:0,y:0},a.bD=function(a,c){this.position.x=a;this.position.y=c;this.Um()},a.rotate=function(a){this.rotation=
a;this.Um();return this},a.resize=function(a,c){this.scale.x=a;this.scale.y=c;this.Um();return this},a.oJ=function(a,c){this.Zk.x=a;this.Zk.y=c;this.Um()};return a};switch(p.va.type){case "firefox":p.Cb.bp="Moz";p.Cb.Mo=!0;break;case "chrome":case "safari":p.Cb.bp="webkit";p.Cb.Mo=!0;break;case "opera":p.Cb.bp="O";p.Cb.Mo=!1;break;case "ie":p.Cb.bp="ms";p.Cb.Mo=!1;break;default:p.Cb.bp="webkit",p.Cb.Mo=!0}p.Cb.jW=p.Cb.bp+"Transform";
p.Cb.translate=p.Cb.Mo?function(a){return"translate3d("+a.x+"px, "+a.y+"px, 0) "}:function(a){return"translate("+a.x+"px, "+a.y+"px) "};p.Cb.rotate=p.Cb.Mo?function(a){return"rotateZ("+a+"deg) "}:function(a){return"rotate("+a+"deg) "};p.Cb.scale=function(a){return"scale("+a.x+", "+a.y+") "};p.Cb.Zk=function(a){return"skewX("+-a.x+"deg) skewY("+a.y+"deg)"};p.Oj=function(a){return p.Cb(document.createElement(a))};
p.Cb.s1=function(a){var c=0,d=0;do c+=a.offsetLeft,d+=a.offsetTop;while(a=a.offsetParent);return{x:c,y:d}};p.A=function(a){var c=a.constructor?new a.constructor:{},d;for(d in a){var e=a[d];c[d]="object"!=typeof e||!e||e instanceof p.F||e instanceof HTMLElement?e:p.A(e)}return c};p.U_=function(){};p.ID=p.ID||!1;
p.BN=function(a){var c=document.getElementById("logInfoList");if(!c){var d=document.createElement("Div");d.setAttribute("id","logInfoDiv");p.canvas.parentNode.appendChild(d);d.setAttribute("width","200");d.setAttribute("height",p.canvas.height);d.style.zIndex="99999";d.style.position="absolute";d.style.top="0";d.style.left="0";c=document.createElement("ul");d.appendChild(c);c.setAttribute("id","logInfoList");c.style.height=p.canvas.height+"px";c.style.color="#fff";c.style.textAlign="left";c.style.listStyle=
"disc outside";c.style.fontSize="12px";c.style.fontFamily="arial";c.style.padding="0 0 0 20px";c.style.margin="0";c.style.textShadow="0 0 3px #000";c.style.zIndex="99998";c.style.position="absolute";c.style.top="0";c.style.left="0";c.style.overflowY="hidden";var e=document.createElement("Div");d.appendChild(e);e.style.width="200px";e.style.height=p.canvas.height+"px";e.style.opacity="0.1";e.style.background="#fff";e.style.border="1px solid #dfdfdf";e.style.borderRadius="8px"}d=document.createElement("li");
d.innerHTML=a;0==c.childNodes.length?c.appendChild(d):c.insertBefore(d,c.childNodes[0])};p.log=function(a){p.ID?p.BN(a):console.log.apply(console,arguments)};p.cY=function(a){console.log(a)};p.Fs=function(a,c){console.assert?console.assert(a,c):a||c&&alert(c)};p.ZR=function(){0==p.Hs?(p.log=function(){},p.ZH=function(){},p.YH=function(){},p.Fs=function(){}):1==p.Hs?(p.ZH=p.log,p.YH=function(){}):1<p.Hs&&(p.ZH=p.log,p.YH=p.log)};p.VK=0;p.UK=1;p.WK=2;p.ZK=3;p.XK=4;p.fL=5;p.eL=6;p.aL=7;p.$K=8;p.YK=9;
p.dL=10;p.TK=11;p.bL=12;p.cL=13;
p.RK={W_:8,zaa:9,HQ:13,shift:16,I0:17,alt:18,pause:19,n0:20,escape:27,K7:33,J7:34,end:35,home:36,left:37,Raa:38,right:39,Q0:40,s5:45,qX:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,C:65,f:66,ra:67,za:68,X0:69,Wv:70,g:71,be:72,k5:73,j:74,p6:75,y6:76,L6:77,cI:78,g7:79,a:80,X7:81,h:82,Nh:83,yaa:84,Da:85,ca:86,dK:87,x:88,y:89,z:90,U6:96,V6:97,W6:98,X6:99,Y6:100,Z6:101,a7:102,b7:103,c7:104,d7:105,"*":106,"+":107,"-":109,numdel:110,"/":111,f1:112,j1:113,k1:114,l1:115,m1:116,n1:117,o1:118,p1:119,
q1:120,g1:121,h1:122,i1:123,f7:144,K8:145,L8:186,",":186,$0:187,"\x3d":187,";":188,z0:188,J0:189,".":190,O7:190,x1:191,d5:192,"[":219,l7:219,"]":221,y0:221,V_:220,quote:222,eaa:32};p.Sh=-1;p.PI=Math.PI;p.IK=parseFloat("3.402823466e+38F");p.yL=p.PI/180;p.wK=180/p.PI;p.QL=4294967295;p.XY=function(a,c,d){if("object"==typeof d&&"undefined"!=typeof d.x&&"undefined"!=typeof d.y){var e=d[a];d[a]=d[c];d[c]=e}else p.log("cc.SWAP is being modified from original macro, please check usage")};p.A6=function(a,c,d){return a+(c-a)*d};p.yY=function(){return 2*(Math.random()-0.5)};p.xY=function(){return Math.random()};p.Ki=function(a){return a*p.yL};p.Ux=function(a){return a*p.wK};
p.ml=Number.MAX_VALUE-1;p.je=p.oL?1:770;p.ie=771;p.Ox=function(a){a.rc&&(a.rc.Le(),a.rc.mg())};p.CX=function(){};p.pX=function(){};p.ah=function(){p.Bh+=1};p.et=1.192092896E-7;p.hd=p.Ix?function(){return p.P.d().xl}:function(){return 1};p.qL=function(a){var c=p.hd();return p.a(a.x*c,a.y*c)};p.yZ=function(a,c){var d=p.hd();c.B=a.x*d;c.G=a.y*d};p.Zx=function(a){var c=p.hd();return p.size(a.width*c,a.height*c)};p.UY=function(a){var c=p.hd();return p.size(a.width/c,a.height/c)};
p.py=function(a,c){var d=p.hd();c.wa=a.width/d;c.ja=a.height/d};p.sY=function(a){var c=p.hd();return p.a(a.x/c,a.y/c)};p.Ot=function(a,c){var d=p.hd();c.B=a.x/d;c.G=a.y/d};p.yp=p.Ix?function(a){var c=p.hd();return p.rect(a.x/c,a.y/c,a.width/c,a.height/c)}:function(a){return a};p.en=p.Ix?function(a){var c=p.hd();return p.rect(a.x*c,a.y*c,a.width*c,a.height*c)}:function(a){return a};p.oD=function(){if(p.E8==p.Vj){var a=p.O.getError();a&&p.log("WebGL error "+a)}};p.MY=0;p.LY=1;p.JY=2;p.KY=3;p.NY=4;p.OY=5;p.IY=6;var Uint8Array=Uint8Array||Array;
if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){var ka=document.createElement("script");ka.type="text/vbscript";ka.textContent='\x3c!-- IEBinaryToArray_ByteStr --\x3e\r\nFunction IEBinaryToArray_ByteStr(Binary)\r\n   IEBinaryToArray_ByteStr \x3d CStr(Binary)\r\nEnd Function\r\nFunction IEBinaryToArray_ByteStr_Last(Binary)\r\n   Dim lastIndex\r\n   lastIndex \x3d LenB(Binary)\r\n   if lastIndex mod 2 Then\r\n       IEBinaryToArray_ByteStr_Last \x3d Chr( AscB( MidB( Binary, lastIndex, 1 ) ) )\r\n   Else\r\n       IEBinaryToArray_ByteStr_Last \x3d ""\r\n   End If\r\nEnd Function\r\n';document.body.appendChild(ka);
p.NE=function(a){for(var c={},d=0;256>d;d++)for(var e=0;256>e;e++)c[String.fromCharCode(d+256*e)]=String.fromCharCode(d)+String.fromCharCode(e);d=IEBinaryToArray_ByteStr(a);a=IEBinaryToArray_ByteStr_Last(a);return d.replace(/[\s\S]/g,function(a){return c[a]})+a}}
p.jd=p.sa.extend({Xi:null,xk:null,RM:null,jz:null,fo:null,ph:null,$p:"",ctor:function(){this.Xi={};this.xk={};this.ph=[];this.ph.push(this.$p);this.fo=[];this.fo.push("")},U7:function(){this.ph=[]},Q1:function(a){a=this.Vd(a);return this.Xi.hasOwnProperty(a)?this.Xi[a]:this.yN(a)},tu:function(){return window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP")},kW:function(a){this.Xi.hasOwnProperty(a)&&delete this.Xi[a]},xT:function(a){a=this.Vd(a);var c=this,d=this.tu();d.open("GET",
a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","x-user-defined"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=p.NE(d.responseBody);e&&(c.Xi[a]=c.gv(e))}else p.Ob.d().Am(a);p.Ob.d().Kh()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dx-user-defined"),d.onload=function(){var e=d.responseText;e?c.Xi[a]=c.gv(e):p.Ob.d().Am(a);p.Ob.d().Kh()});d.send(null)},yN:function(a){var c=this.tu();
c.open("GET",a,!1);var d=null;if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){c.setRequestHeader("Accept-Charset","x-user-defined");c.send(null);if(200!=c.status)return null;if(c=p.NE(c.responseBody))d=this.gv(c),this.Xi[a]=d}else{c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dx-user-defined");c.send(null);if(200!=c.status)return null;d=this.gv(c.responseText);this.Xi[a]=d}return d},gv:function(a){if(!a)return null;for(var c=new Uint8Array(a.length),d=0;d<
a.length;d++)c[d]=a.charCodeAt(d)&255;return c},mW:function(a){a=this.Vd(a);this.xk.hasOwnProperty(a)&&delete this.xk[a]},zT:function(a){a=this.Vd(a);var c=this,d=this.tu();d.open("GET",a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","utf-8"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=d.responseText;e&&(c.xk[a]=e)}else p.Ob.d().Am(a);p.Ob.d().Kh()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dutf-8"),
d.onload=function(){d.responseText?c.xk[a]=d.responseText:p.Ob.d().Am(a);p.Ob.d().Kh()});d.send(null)},AN:function(a){var c=this.tu();c.open("GET",a,!1);var d=null;/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?c.setRequestHeader("Accept-Charset","utf-8"):c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dutf-8");c.send(null);if(200!=c.status)return null;(d=c.responseText)&&(this.xk[a]=d);return d},nH:function(a){a=this.Vd(a);return this.xk.hasOwnProperty(a)?this.xk[a]:
this.AN(a)},x2:function(){},B8:function(){},pI:!0,y1:function(a){return a},Vd:function(a){var c=!1;a=this.bN(a);for(var d,e=0;e<this.ph.length;e++){for(var f=this.ph[e],g=0;g<this.fo.length;g++)if(d=this.cN(a,this.fo[g],f)){c=!0;break}if(c)break}return c?d:a},F6:function(a){var c=this.Vd(a);if(0<c.length){var c=p.Sj.d().parse(c),d=parseInt(c.metadata.version);1!=d?p.log("cocos2d: ERROR: Invalid filenameLookup dictionary version: "+d+". Filename: "+a):this.XU(c.filenames)}},XU:function(a){this.jz=
a},aH:function(a,c){var d;if(a)return d=c.substring(0,c.lastIndexOf("/")+1),d+a;d=c.substring(0,c.lastIndexOf("."));return d+".png"},u$:function(a){this.fo=a},f4:function(){return this.fo},t$:function(a){this.ph=a},d4:function(){return this.ph},W3:function(){return this.RM},o$:function(){},M0:function(a){p.log("dictionaryWithContentsOfFile is deprecated. Use createDictionaryWithContentsOfFile instead");return this.eQ(a)},eQ:function(a){return p.Sj.d().parse(a)},u4:function(a){return this.nH(a)},Ov:function(a){return p.Sj.d().parse(a)},
X4:function(){return""},e$:function(a){p.pI=a},X5:function(){return p.pI},fA:"",X3:function(){return this.fA},p$:function(a){this.fA=a},bN:function(a){var c=null;(c=this.jz?this.jz[a]:null)&&0!==c.length?p.log("FOUND NEW FILE NAME: "+c):c=a;return c},cN:function(a,c,d){var e;e=this.fA;a&&0<a.length&&(0===a.indexOf("/")||0===a.indexOf("\\"))?e="":0<e.length&&"\\"!=e[e.length-1]&&"/"!=e[e.length-1]&&(e+="/");var f=a,g="",h=a.lastIndexOf("/");-1!=h&&(g=a.substr(0,h+1),f=a.substr(h+1));a=d;0<a.length&&
a.lastIndexOf("/")!==a.length-1&&(a+="/");a=a+g+c;0<a.length&&a.lastIndexOf("/")!==a.length-1&&(a+="/");a+=f;return e+=a},SZ:function(){},nJ:function(a){var c=!1;this.ph=[];for(var d=0;d<a.length;d++){var e=a[d],f;this.OH(e)||(f=this.$p);e=f+e;0<e.length&&"/"!=e[e.length-1]&&(e+="/");c||e!=this.$p||(c=!0);this.ph.push(e)}c||this.ph.push(this.$p)},E_:function(a){var c;this.OH(a)||(c=this.$p);a=c+a;0<a.length&&"/"!=a[a.length-1]&&(a+="/");this.ph.push(a)},e4:function(){},OH:function(a){return"/"==a[0]}});
p.AC=null;p.jd.d=function(){null==p.AC&&(p.AC=new p.jd);return p.AC};p.lc=function(a,c,d){switch(arguments.length){case 0:this.f=this.g=this.h=0;break;case 1:a&&a instanceof p.lc?(this.h=0|a.h||0,this.g=0|a.g||0,this.f=0|a.f||0):this.f=this.g=this.h=0;break;case 3:this.h=0|a||0;this.g=0|c||0;this.f=0|d||0;break;default:throw"unknown argument type";}};p.i=function(a,c,d){return new p.lc(a,c,d)};p.w5=function(a){a=a||0;var c=new p.lc;c.h=a&255;c.g=a>>8&255;c.f=a>>16&255;return c};p.Gv=p.i;p.g0=function(a,c){return a.h===c.h&&a.g===c.g&&a.f===c.f};
Object.defineProperties(p,{sZ:{get:function(){return p.i(255,255,255)}},vZ:{get:function(){return p.i(255,255,0)}},XW:{get:function(){return p.i(0,0,255)}},LX:{get:function(){return p.i(0,255,0)}},AY:{get:function(){return p.i(255,0,0)}},$X:{get:function(){return p.i(255,0,255)}},VW:{get:function(){return p.i(0,0,0)}},jY:{get:function(){return p.i(255,127,0)}},KX:{get:function(){return p.i(166,166,166)}}});p.kb=function(){return new p.lc(255,255,255)};p.jba=function(){return new p.lc(255,255,0)};
p.blue=function(){return new p.lc(0,0,255)};p.green=function(){return new p.lc(0,255,0)};p.red=function(){return new p.lc(255,0,0)};p.M6=function(){return new p.lc(255,0,255)};p.Y_=function(){return new p.lc(0,0,0)};p.m7=function(){return new p.lc(255,127,0)};p.Lo=function(){return new p.lc(166,166,166)};p.Db=function(a,c,d,e){this.h=0|a;this.g=0|c;this.f=0|d;this.C=0|e};p.J=function(a,c,d,e){return new p.Db(a,c,d,e)};p.cB=p.J;p.Ad=function(a,c,d,e){this.h=a;this.g=c;this.f=d;this.C=e};
p.Hv=function(a,c,d,e){return new p.Ad(a,c,d,e)};p.j0=function(a){return new p.Ad(a.h/255,a.g/255,a.f/255,1)};p.k0=function(a){return new p.Ad(a.h/255,a.g/255,a.f/255,a.C/255)};p.h0=function(a){return new p.Db(0|255*a.h,0|255*a.g,0|255*a.f,0|255*a.C)};p.i0=function(a,c){return a.h==c.h&&a.g==c.g&&a.f==c.f&&a.C==c.C};p.nb=function(a,c){this.x=a||0;this.y=c||0};p.Nt=function(a,c){return new p.nb(a,c)};p.Dc=function(a,c,d){this.x=a||0;this.y=c||0;this.z=d||0};
p.bba=function(a,c,d){return new p.Dc(a,c,d)};p.hc=function(a,c){this.Da=a||0;this.ca=c||0};p.Faa=function(a,c){return new p.hc(a,c)};p.vY=function(a,c,d){a||new p.nb(0,0);this.color=c||new p.Db(0,0,0,0);this.size=d||0};p.qt=function(a,c,d,e){this.Ga=a||new p.nb(0,0);this.Ca=c||new p.nb(0,0);this.ya=d||new p.nb(0,0);this.Ia=e||new p.nb(0,0)};p.wY=function(a,c,d,e){this.ya=a||new p.Dc(0,0,0);this.Ia=c||new p.Dc(0,0,0);this.Ga=d||new p.Dc(0,0,0);this.Ca=e||new p.Dc(0,0,0)};
p.LK=function(a,c){this.x=a;this.y=c};p.g=function(a,c){return new p.LK(a,c)};p.Jb=function(a,c,d){this.n=a||new p.nb(0,0);this.D=c||new p.Db(0,0,0,0);this.s=d||new p.hc(0,0)};p.Kt=function(){this.n=new p.nb(0,0);this.D=new p.Ad(0,0,0,0);this.s=new p.hc(0,0)};p.dc=function(a,c,d){this.n=a||new p.Dc(0,0,0);this.D=c||new p.Db(0,0,0,0);this.s=d||new p.hc(0,0)};p.nc=function(a,c,d){this.C=a||new p.Jb;this.f=c||new p.Jb;this.ra=d||new p.Jb};
p.SL=function(){var a=new p.Jb(new p.nb(0,0),new p.Db(0,0,0,255),new p.hc(0,0)),c=new p.Jb(new p.nb(0,0),new p.Db(0,0,0,255),new p.hc(0,0)),d=new p.Jb(new p.nb(0,0),new p.Db(0,0,0,255),new p.hc(0,0)),e=new p.Jb(new p.nb(0,0),new p.Db(0,0,0,255),new p.hc(0,0));this.ya=a||new p.Jb;this.Ia=c||new p.Jb;this.Ga=d||new p.Jb;this.Ca=e||new p.Jb};p.nZ=function(){return new p.SL};p.Sb=function(a,c,d,e){this.Ga=a||new p.dc;this.ya=c||new p.dc;this.Ca=d||new p.dc;this.Ia=e||new p.dc};
p.ny=function(){return new p.Sb(new p.dc(new p.Dc(0,0,0),new p.Db(0,0,0,255),new p.hc(0,0)),new p.dc(new p.Dc(0,0,0),new p.Db(0,0,0,255),new p.hc(0,0)),new p.dc(new p.Dc(0,0,0),new p.Db(0,0,0,255),new p.hc(0,0)),new p.dc(new p.Dc(0,0,0),new p.Db(0,0,0,255),new p.hc(0,0)))};
p.my=function(a){return a?new p.Sb(new p.dc(new p.Dc(a.Ga.n.x,a.Ga.n.y,a.Ga.n.z),new p.Db(a.Ga.D.h,a.Ga.D.g,a.Ga.D.f,a.Ga.D.C),new p.hc(a.Ga.s.Da,a.Ga.s.ca)),new p.dc(new p.Dc(a.ya.n.x,a.ya.n.y,a.ya.n.z),new p.Db(a.ya.D.h,a.ya.D.g,a.ya.D.f,a.ya.D.C),new p.hc(a.ya.s.Da,a.ya.s.ca)),new p.dc(new p.Dc(a.Ca.n.x,a.Ca.n.y,a.Ca.n.z),new p.Db(a.Ca.D.h,a.Ca.D.g,a.Ca.D.f,a.Ca.D.C),new p.hc(a.Ca.s.Da,a.Ca.s.ca)),new p.dc(new p.Dc(a.Ia.n.x,a.Ia.n.y,a.Ia.n.z),new p.Db(a.Ia.D.h,a.Ia.D.g,a.Ia.D.f,a.Ia.D.C),new p.hc(a.Ia.s.Da,
a.Ia.s.ca))):p.ny()};p.pZ=function(a){if(!a)return[];for(var c=[],d=0;d<a.length;d++)c.push(p.my(a[d]));return c};p.oZ=function(a,c,d,e){this.ya=a||new p.Kt;this.Ia=c||new p.Kt;this.Ga=d||new p.Kt;this.Ca=e||new p.Kt};p.il=function(a,c){this.src=a;this.sb=c};p.YW=function(){return new p.il(1,0)};p.Bk=function(a){var c=a.h.toString(16),d=a.g.toString(16),e=a.f.toString(16);return"#"+(16>a.h?"0"+c:c)+(16>a.g?"0"+d:d)+(16>a.f?"0"+e:e)};
p.va.xc&&(p.Db=function(a,c,d,e,f,g){this.Fb=f||new ArrayBuffer(p.Db.BYTES_PER_ELEMENT);this.vb=g||0;f=this.Fb;g=this.vb;var h=Uint8Array.BYTES_PER_ELEMENT;this.Xz=new Uint8Array(f,g,1);this.qz=new Uint8Array(f,g+h,1);this.Cy=new Uint8Array(f,g+2*h,1);this.uy=new Uint8Array(f,g+3*h,1);this.Xz[0]=a||0;this.qz[0]=c||0;this.Cy[0]=d||0;this.uy[0]=e||0},p.Db.BYTES_PER_ELEMENT=4,Object.defineProperties(p.Db.prototype,{h:{get:function(){return this.Xz[0]},set:function(a){this.Xz[0]=a},enumerable:!0},g:{get:function(){return this.qz[0]},
set:function(a){this.qz[0]=a},enumerable:!0},f:{get:function(){return this.Cy[0]},set:function(a){this.Cy[0]=a},enumerable:!0},C:{get:function(){return this.uy[0]},set:function(a){this.uy[0]=a},enumerable:!0}}),p.Ad=function(a,c,d,e,f,g){this.Fb=f||new ArrayBuffer(p.Ad.BYTES_PER_ELEMENT);this.vb=g||0;f=this.Fb;g=this.vb;var h=Float32Array.BYTES_PER_ELEMENT;this.Wz=new Float32Array(f,g,1);this.Wz[0]=a||0;this.pz=new Float32Array(f,g+h,1);this.pz[0]=c||0;this.By=new Float32Array(f,g+2*h,1);this.By[0]=
d||0;this.ty=new Float32Array(f,g+3*h,1);this.ty[0]=e||0},p.Ad.BYTES_PER_ELEMENT=16,Object.defineProperties(p.Ad.prototype,{h:{get:function(){return this.Wz[0]},set:function(a){this.Wz[0]=a},enumerable:!0},g:{get:function(){return this.pz[0]},set:function(a){this.pz[0]=a},enumerable:!0},f:{get:function(){return this.By[0]},set:function(a){this.By[0]=a},enumerable:!0},C:{get:function(){return this.ty[0]},set:function(a){this.ty[0]=a},enumerable:!0}}),p.nb=function(a,c,d,e){this.Fb=d||new ArrayBuffer(p.nb.BYTES_PER_ELEMENT);
this.vb=e||0;this.fm=new Float32Array(this.Fb,this.vb,1);this.gm=new Float32Array(this.Fb,this.vb+4,1);this.fm[0]=a||0;this.gm[0]=c||0},p.nb.BYTES_PER_ELEMENT=8,Object.defineProperties(p.nb.prototype,{x:{get:function(){return this.fm[0]},set:function(a){this.fm[0]=a},enumerable:!0},y:{get:function(){return this.gm[0]},set:function(a){this.gm[0]=a},enumerable:!0}}),p.Dc=function(a,c,d,e,f){this.Fb=e||new ArrayBuffer(p.Dc.BYTES_PER_ELEMENT);this.vb=f||0;e=this.Fb;f=this.vb;this.fm=new Float32Array(e,
f,1);this.fm[0]=a||0;this.gm=new Float32Array(e,f+Float32Array.BYTES_PER_ELEMENT,1);this.gm[0]=c||0;this.UA=new Float32Array(e,f+2*Float32Array.BYTES_PER_ELEMENT,1);this.UA[0]=d||0},p.Dc.BYTES_PER_ELEMENT=12,Object.defineProperties(p.Dc.prototype,{x:{get:function(){return this.fm[0]},set:function(a){this.fm[0]=a},enumerable:!0},y:{get:function(){return this.gm[0]},set:function(a){this.gm[0]=a},enumerable:!0},z:{get:function(){return this.UA[0]},set:function(a){this.UA[0]=a},enumerable:!0}}),p.hc=
function(a,c,d,e){this.Fb=d||new ArrayBuffer(p.hc.BYTES_PER_ELEMENT);this.vb=e||0;this.FA=new Float32Array(this.Fb,this.vb,1);this.NA=new Float32Array(this.Fb,this.vb+4,1);this.FA[0]=a||0;this.NA[0]=c||0},p.hc.BYTES_PER_ELEMENT=8,Object.defineProperties(p.hc.prototype,{Da:{get:function(){return this.FA[0]},set:function(a){this.FA[0]=a},enumerable:!0},ca:{get:function(){return this.NA[0]},set:function(a){this.NA[0]=a},enumerable:!0}}),p.qt=function(a,c,d,e,f,g){this.Fb=f||new ArrayBuffer(p.qt.BYTES_PER_ELEMENT);
this.vb=g||0;f=this.Fb;g=p.nb.BYTES_PER_ELEMENT;this.so=a?new p.nb(a.x,a.y,f,0):new p.nb(0,0,f,0);this.uo=c?new p.nb(c.x,c.y,f,g):new p.nb(0,0,f,g);this.tn=d?new p.nb(d.x,d.y,f,2*g):new p.nb(0,0,f,2*g);this.vn=e?new p.nb(e.x,e.y,f,3*g):new p.nb(0,0,f,3*g)},p.qt.BYTES_PER_ELEMENT=32,Object.defineProperties(p.qt.prototype,{Ga:{get:function(){return this.so},set:function(a){this.so.x=a.x;this.so.y=a.y},enumerable:!0},Ca:{get:function(){return this.uo},set:function(a){this.uo.x=a.x;this.uo.y=a.y},enumerable:!0},
ya:{get:function(){return this.tn},set:function(a){this.tn.x=a.x;this.tn.y=a.y},enumerable:!0},Ia:{get:function(){return this.vn},set:function(a){this.vn.x=a.x;this.vn.y=a.y},enumerable:!0}}),p.dc=function(a,c,d,e,f){this.Fb=e||new ArrayBuffer(p.dc.BYTES_PER_ELEMENT);this.vb=f||0;e=this.Fb;f=this.vb;var g=p.Dc.BYTES_PER_ELEMENT;this.wo=a?new p.Dc(a.x,a.y,a.z,e,f):new p.Dc(0,0,0,e,f);this.Wp=c?new p.Db(c.h,c.g,c.f,c.C,e,f+g):new p.Db(0,0,0,0,e,f+g);this.Wl=d?new p.hc(d.Da,d.ca,e,f+g+p.Db.BYTES_PER_ELEMENT):
new p.hc(0,0,e,f+g+p.Db.BYTES_PER_ELEMENT)},p.dc.BYTES_PER_ELEMENT=24,Object.defineProperties(p.dc.prototype,{n:{get:function(){return this.wo},set:function(a){var c=this.wo;c.x=a.x;c.y=a.y;c.z=a.z},enumerable:!0},D:{get:function(){return this.Wp},set:function(a){var c=this.Wp;c.h=a.h;c.g=a.g;c.f=a.f;c.C=a.C},enumerable:!0},s:{get:function(){return this.Wl},set:function(a){this.Wl.Da=a.Da;this.Wl.ca=a.ca},enumerable:!0}}),p.Sb=function(a,c,d,e,f,g){this.Fb=f||new ArrayBuffer(p.Sb.BYTES_PER_ELEMENT);
this.vb=g||0;f=this.Fb;g=this.vb;var h=p.dc.BYTES_PER_ELEMENT;this.so=a?new p.dc(a.n,a.D,a.s,f,g):new p.dc(null,null,null,f,g);this.tn=c?new p.dc(c.n,c.D,c.s,f,g+h):new p.dc(null,null,null,f,g+h);this.uo=d?new p.dc(d.n,d.D,d.s,f,g+2*h):new p.dc(null,null,null,f,g+2*h);this.vn=e?new p.dc(e.n,e.D,e.s,f,g+3*h):new p.dc(null,null,null,f,g+3*h)},p.Sb.BYTES_PER_ELEMENT=96,Object.defineProperties(p.Sb.prototype,{Ga:{get:function(){return this.so},set:function(a){var c=this.so;c.n=a.n;c.D=a.D;c.s=a.s},enumerable:!0},
ya:{get:function(){return this.tn},set:function(a){var c=this.tn;c.n=a.n;c.D=a.D;c.s=a.s},enumerable:!0},Ca:{get:function(){return this.uo},set:function(a){var c=this.uo;c.n=a.n;c.D=a.D;c.s=a.s},enumerable:!0},Ia:{get:function(){return this.vn},set:function(a){var c=this.vn;c.n=a.n;c.D=a.D;c.s=a.s},enumerable:!0},XA:{get:function(){return this.Fb},enumerable:!0}}),p.ny=function(){return new p.Sb},p.my=function(a){if(!a)return p.ny();var c=a.Ga,d=a.ya,e=a.Ca;a=a.Ia;return{Ga:{n:{x:c.n.x,y:c.n.y,z:c.n.z},
D:{h:c.D.h,g:c.D.g,f:c.D.f,C:c.D.C},s:{Da:c.s.Da,ca:c.s.ca}},ya:{n:{x:d.n.x,y:d.n.y,z:d.n.z},D:{h:d.D.h,g:d.D.g,f:d.D.f,C:d.D.C},s:{Da:d.s.Da,ca:d.s.ca}},Ca:{n:{x:e.n.x,y:e.n.y,z:e.n.z},D:{h:e.D.h,g:e.D.g,f:e.D.f,C:e.D.C},s:{Da:e.s.Da,ca:e.s.ca}},Ia:{n:{x:a.n.x,y:a.n.y,z:a.n.z},D:{h:a.D.h,g:a.D.g,f:a.D.f,C:a.D.C},s:{Da:a.s.Da,ca:a.s.ca}}}},p.Jb=function(a,c,d,e,f){this.Fb=e||new ArrayBuffer(p.Jb.BYTES_PER_ELEMENT);this.vb=f||0;e=this.Fb;f=this.vb;var g=p.nb.BYTES_PER_ELEMENT;this.wo=a?new p.nb(a.x,
a.y,e,f):new p.nb(0,0,e,f);this.Wp=c?new p.Db(c.h,c.g,c.f,c.C,e,f+g):new p.Db(0,0,0,0,e,f+g);this.Wl=d?new p.hc(d.Da,d.ca,e,f+g+p.Db.BYTES_PER_ELEMENT):new p.hc(0,0,e,f+g+p.Db.BYTES_PER_ELEMENT)},p.Jb.BYTES_PER_ELEMENT=20,Object.defineProperties(p.Jb.prototype,{n:{get:function(){return this.wo},set:function(a){this.wo.x=a.x;this.wo.y=a.y},enumerable:!0},D:{get:function(){return this.Wp},set:function(a){var c=this.Wp;c.h=a.h;c.g=a.g;c.f=a.f;c.C=a.C},enumerable:!0},s:{get:function(){return this.Wl},
set:function(a){this.Wl.Da=a.Da;this.Wl.ca=a.ca},enumerable:!0}}),p.nc=function(a,c,d,e,f){this.Fb=e||new ArrayBuffer(p.nc.BYTES_PER_ELEMENT);this.vb=f||0;e=this.Fb;f=this.vb;var g=p.Jb.BYTES_PER_ELEMENT;this.zE=a?new p.Jb(a.n,a.D,a.s,e,f):new p.Jb(null,null,null,e,f);this.EE=c?new p.Jb(c.n,c.D,c.s,e,f+g):new p.Jb(null,null,null,e,f+g);this.JE=d?new p.Jb(d.n,d.D,d.s,e,f+2*g):new p.Jb(null,null,null,e,f+2*g)},p.nc.BYTES_PER_ELEMENT=60,Object.defineProperties(p.nc.prototype,{C:{get:function(){return this.zE},
set:function(a){var c=this.zE;c.n=a.n;c.D=a.D;c.s=a.s},enumerable:!0},f:{get:function(){return this.EE},set:function(a){var c=this.EE;c.n=a.n;c.D=a.D;c.s=a.s},enumerable:!0},ra:{get:function(){return this.JE},set:function(a){var c=this.JE;c.n=a.n;c.D=a.D;c.s=a.s},enumerable:!0}}));p.B0=function(a){a=a.substr(1).split("");return new p.lc(parseInt("0x"+a[0]+a[1]),parseInt("0x"+a[2]+a[3]),parseInt("0x"+a[4]+a[5]))};p.Fp=0;p.Pi=1;p.JL=2;p.Kp=0;p.Mt=1;p.Jp=2;
p.xZ=p.sa.extend({Wn:null,rr:null,qy:0,ctor:function(){this.Wn={};this.rr={};this.qy=2<<(0|10*Math.random())},ZL:function(){this.qy++;return"key_"+this.qy},oV:function(a,c){if(null!=c){var d=this.ZL();this.Wn[d]=c;this.rr[d]=a}},QS:function(a){if(null==a)return null;var c=this.Wn,d;for(d in c)if(c[d]===a)return this.rr[d];return null},aba:function(a){return this.QS(a)},aU:function(a){if(null!=a){var c=this.Wn,d;for(d in c)if(c[d]===a){delete this.rr[d];delete c[d];break}}},u8:function(a){if(null!=
a)for(var c=0;c<a.length;c++)this.aU(a[c])},wP:function(){var a=[],c=this.Wn,d;for(d in c)a.push(c[d]);return a},n8:function(){this.Wn={};this.rr={}},count:function(){return this.wP().length}});p.KK=function(){this.Cr="Arial";this.fontSize=12;this.WG=p.Pi;this.XG=p.Kp;this.YG=p.kb();this.Br=p.size(0,0);this.ZC=!1;this.strokeColor=p.kb();this.LJ=1;this.BJ=!1;this.CJ=p.size(0,0);this.shadowBlur=0;this.DJ=1};p.fn={Cx:0,Px:1,SHOW_ALL:2,Dx:3,Ex:4,mZ:5};p.Jt=[];p.Gp={};
p.ia=p.sa.extend({Mb:null,qe:null,Jn:null,ok:null,Be:null,QA:null,PA:"",dA:null,la:1,tF:1,qa:1,uF:1,wq:0,pF:5,mh:null,AF:null,EF:null,DF:null,BF:null,CF:null,zq:!1,JZ:!1,s_:null,$E:null,aF:null,fM:null,k_:!1,Ry:null,c_:null,$i:null,lz:1,St:!1,eF:!1,ctor:function(){this.$i=p.wj.parentNode===document.body?document.documentElement:p.wj.parentNode;this.qe=p.size(0,0);this.zz();var a=p.canvas.width,c=p.canvas.height;this.Jn=p.size(a,c);this.ok=p.size(a,c);this.Be=p.rect(0,0,a,c);this.QA=p.rect(0,0,a,c);
this.Mb=p.P.d().ze;this.Ry={left:0,top:0};this.PA="Cocos2dHTML5";p.sE.r(this.Jn);this.AF=new p.gn(p.pg.Ls,p.le.Cx);this.EF=new p.gn(p.pg.uL,p.le.SHOW_ALL);this.DF=new p.gn(p.pg.Ls,p.le.Px);this.BF=new p.gn(p.pg.Ls,p.le.Dx);this.CF=new p.gn(p.pg.Ls,p.le.Ex);this.$E=p.canvas;this.aF=p.O},eA:function(){var a=this.ok.width,c=this.ok.height;this.dA&&(this.zz(),this.dA.call());0<a&&this.EC(a,c,this.mh)},G8:function(a){a?this.St||(this.St=!0,a=this.eA.bind(this),window.addEventListener("resize",a,!1)):this.St&&
(this.St=!0,a=this.eA.bind(this),window.removeEventListener("resize",a,!1))},n$:function(a){if("function"==typeof a||null==a)this.dA=a},zz:function(){var a=this.qe;a.width=this.$i.clientWidth;a.height=this.$i.clientHeight},GZ:function(){var a=this.ok.width,c=this.ok.height;0<a&&this.EC(a,c,this.mh)},MO:function(){if(this.eF){var a={"user-scalable":"no","maximum-scale":"1.0","initial-scale":"1.0"},c=document.getElementsByName("viewport"),d;0==c.length?(c=document.createElement("meta"),c.name="viewport",
c.content="",document.head.appendChild(c)):c=c[0];d=c.content;for(var e in a)RegExp(e).test(d)||(d+=(""==d?"":",")+e+"\x3d"+a[e]);c.content=d}},FO:function(){var a=p.hd();this.qa=this.la=a},hO:function(){this.la=this.tF;this.qa=this.uF},eN:function(){var a,c=this.wq;for(a=0;a<this.pF;a++){if(!(c&1))return this.wq|=1<<a,a;c>>=1}return-1},dO:function(a){0>a||a>=this.pF||(a=~(1<<a),this.wq&=a)},HZ:function(){},jS:function(){this.zq=!0},J_:function(a){this.eF=a},end:function(){},V5:function(){return null!=
this.$E&&null!=this.aF},r9:function(a){this.lz=a;p.P.d().Rw(p.P.d().sk)},taa:function(){},v9:function(){},c9:function(a,c){this.Ry={left:a,top:c}},e2:function(){return this.Ry},Yv:function(){return p.size(this.qe.width,this.qe.height)},q9:function(a,c){this.qe.width=a;this.qe.height=c;this.$i.style.width=a+"px";this.$i.style.height=c+"px";this.eA();p.P.d().Rw(p.P.d().sk)},p0:function(){},O8:function(a){this.fM=a},Lr:function(){return this.QA.Pa},uH:function(){return this.QA.Pc},l0:function(){return!0},
V3:function(){return this.mh},BV:function(a){if(a instanceof p.gn)this.mh=a;else switch(a){case p.fn.Cx:this.mh=this.AF;break;case p.fn.SHOW_ALL:this.mh=this.EF;break;case p.fn.Px:this.mh=this.DF;break;case p.fn.Dx:this.mh=this.BF;break;case p.fn.Ex:this.mh=this.CF}},EC:function(a,c,d){if(isNaN(a)||0==a||isNaN(c)||0==c)p.log("Resolution not valid");else if(this.BV(d),policy=this.mh){policy.Dm(this);var e=this.qe.width,f=this.qe.height;p.va.Dj&&this.MO(this.qe.width,this.qe.height);this.zz();if(d!=
this.mh||a!=this.ok.width||c!=this.ok.height||e!=this.qe.width||f!=this.qe.height)this.Jn=p.size(a,c),this.ok=p.size(a,c),a=policy.apply(this,this.Jn),a.scale&&2==a.scale.length&&(this.la=a.scale[0],this.qa=a.scale[1]),a.viewport instanceof p.Lf&&(this.Be=a.viewport),a=p.P.d(),a.Gb=this.Ho(),p.ed==p.Vj&&(a.Hn(),a.bJ()),this.tF=this.la,this.uF=this.qa,p.Xb&&p.Xb.fO(),p.sE.r(this.Lr()),policy.Cm(this)}else p.log("should set resolutionPolicy")},Ho:function(){return p.size(this.Jn.width,this.Jn.height)},
K$:function(a){this.Mb=a},LV:function(a,c,d,e){var f=this.lz,g=this.la,h=this.qa;p.O.viewport(a*g*f+this.Be.x*f,c*h*f+this.Be.y*f,d*g*f,e*h*f)},KC:function(a,c,d,e){var f=this.lz,g=this.la,h=this.qa;p.O.scissor(a*g*f+this.Be.x*f,c*h*f+this.Be.y*f,d*g*f,e*h*f)},uS:function(){var a=p.O;return a.isEnabled(a.SCISSOR_TEST)},rR:function(){var a=p.O,c=this.la,d=this.qa,a=a.getParameter(a.SCISSOR_BOX);return p.rect((a[0]-this.Be.x)/c,(a[1]-this.Be.y)/d,a[2]/c,a[3]/d)},U$:function(a){null!=a&&0<a.length&&
(this.PA=a)},S4:function(){return this.PA},T4:function(){return this.Be},pR:function(){return this.la},qR:function(){return this.qa},xj:function(a,c,d){return{x:a-d.left,y:d.top+d.height-c}},KR:function(a,c,d,e){for(var f=[],g=this.Be,h=this.la,k=this.qa,l=0;l<a;++l){var m=c[l],n=d[l],s=e[l],q=0;if(null==p.Gp[m])if(q=this.eN(),-1==q)p.log("The touches is more than MAX_TOUCHES, nUnusedIndex \x3d "+q);else{var v=p.Jt[q]=new p.Ne;v.PC(q,(n-g.x)/h,(s-g.y)/k);p.Gp[m]=0|q;f.push(v)}}0!=f.length&&this.Mb.fx(f,
null)},NR:function(a,c,d,e){for(var f=[],g=this.la,h=this.qa,k=this.Be.x,l=this.Be.y,m=0;m<a;++m){var n=d[m],s=e[m],q=p.Gp[c[m]];if(null!=q){var v=p.Jt[q];if(v)v.PC(q,(n-k)/g,(s-l)/h),f.push(v);else return}}0!=f.length&&this.Mb.gx(f,null)},MR:function(a,c,d,e){var f=[];this.mH(f,a,c,d,e);this.Mb.us(f,null)},LR:function(a,c,d,e){var f=[];this.mH(f,a,c,d,e);this.Mb.aD(f,null)},mH:function(a,c,d,e,f){for(var g=this.la,h=this.qa,k=this.Be,l=0;l<c;++l){var m=d[l],n=e[l],s=f[l],q=p.Gp[m];if(null!=q){var v=
p.Jt[q];if(v)v.PC(q,(n-k.x)/g,(s-k.y)/h),a.push(v),p.Jt[q]=null,this.dO(q),delete p.Gp[m];else break}}},fx:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.lf||h,d[f]=g.Q.x,e[f]=g.Q.y,++f;this.KR(f,c,d,e)},gx:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.lf||h,d[f]=g.Q.x,e[f]=g.Q.y,++f;this.NR(f,c,d,e)},us:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.lf||h,d[f]=g.Q.x,e[f]=g.Q.y,++f;this.MR(f,c,d,e)},aD:function(a){for(var c=
[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.lf||h,d[f]=g.Q.x,e[f]=g.Q.y,++f;this.LR(f,c,d,e)}});p.ia.d=function(){this.ub||(this.ub=new p.ia,this.ub.jS());return this.ub};
p.pg=p.sa.extend({Dm:function(){},apply:function(){},Cm:function(){},LF:function(a,c,d){p.va.Dj&&a==document.documentElement&&p.ay.d().DP(p.canvas);a=p.canvas;var e=p.wj;a.width=c;a.height=d;e.style.width=c+"px";e.style.height=d+"px";c=document.body;var f;c&&(f=c.style)&&(f.paddingTop=f.paddingTop||"0px",f.paddingRight=f.paddingRight||"0px",f.paddingBottom=f.paddingBottom||"0px",f.paddingLeft=f.paddingLeft||"0px",f.borderTop=f.borderTop||"0px",f.borderRight=f.borderRight||"0px",f.borderBottom=f.borderBottom||
"0px",f.borderLeft=f.borderLeft||"0px",f.marginTop=f.marginTop||"0px",f.marginRight=f.marginRight||"0px",f.marginBottom=f.marginBottom||"0px",f.marginLeft=f.marginLeft||"0px")},UE:function(){document.body.insertBefore(p.wj,document.body.firstChild);var a=document.body.style;a.width=window.innerWidth+"px";a.height=window.innerHeight+"px";a.overflow="hidden";a=p.wj.style;a.position="fixed";a.left=a.top="0px";document.body.scrollTop=0}});
p.le=p.sa.extend({gA:{scale:[1,1],viewport:null},Tp:function(a,c,d,e,f,g){a=p.rect(Math.round((a-d)/2),Math.round((c-e)/2),d,e);p.ed==p.If&&p.O.translate(a.x,a.y+e);this.gA.scale=[f,g];this.gA.viewport=a;return this.gA},Dm:function(){},apply:function(){return{scale:[1,1]}},Cm:function(){}});
(function(){var a=p.pg.extend({apply:function(a){this.LF(a.$i,a.qe.width,a.qe.height)}}),c=p.pg.extend({apply:function(a,c){var d=a.qe.width,e=a.qe.height,f=p.wj.style,n=c.width,s=c.height,q=d/n,v=e/s,z,B;q<v?(z=d,B=s*q):(z=n*v,B=e);n=Math.floor((d-z)/2);B=Math.floor((e-B)/2);this.LF(a.$i,d-2*n,e-2*B);f.marginLeft=n+"px";f.marginRight=n+"px";f.marginTop=B+"px";f.marginBottom=B+"px"}});a.extend({Dm:function(a){a.$i=document.documentElement},apply:function(a){this._super(a);this.UE()}});c.extend({Dm:function(a){a.$i=
document.documentElement},apply:function(a,c){this._super(a,c);this.UE()}});var d=p.pg.extend({});p.pg.Ls=new a;p.pg.uL=new c;p.pg.oY=new d;var a=p.le.extend({apply:function(a,c){var d=p.canvas.width,e=p.canvas.height;return this.Tp(d,e,d,e,d/c.width,e/c.height)}}),c=p.le.extend({apply:function(a,c){var d=p.canvas.width,e=p.canvas.height,f=c.width,n=c.height,s=d/f,q=e/n,v,z,B;s<q?(v=s,z=d,B=n*v):(v=q,z=f*v,B=e);return this.Tp(d,e,z,B,v,v)}}),d=p.le.extend({apply:function(a,c){var d=p.canvas.width,
e=p.canvas.height,f=c.width,n=c.height,s=d/f,q=e/n,v,z,B;s<q?(v=q,z=f*v,B=e):(v=s,z=d,B=n*v);return this.Tp(d,e,z,B,v,v)}}),e=p.le.extend({apply:function(a,c){var d=p.canvas.width,e=p.canvas.height,f=e/c.height;return this.Tp(d,e,d,e,f,f)},Cm:function(a){p.P.d().Gb=a.Lr()}}),f=p.le.extend({apply:function(a,c){var d=p.canvas.width,e=p.canvas.height,f=d/c.width;return this.Tp(d,e,d,e,f,f)},Cm:function(a){p.P.d().Gb=a.Lr()}});p.le.Cx=new a;p.le.SHOW_ALL=new c;p.le.Px=new d;p.le.Dx=new e;p.le.Ex=new f})();
p.gn=p.sa.extend({fu:null,gu:null,ctor:function(a,c){this.MU(a);this.PU(c)},Dm:function(a){this.fu.Dm(a);this.gu.Dm(a)},apply:function(a,c){this.fu.apply(a,c);return this.gu.apply(a,c)},Cm:function(a){this.fu.Cm(a);this.gu.Cm(a)},MU:function(a){a instanceof p.pg&&(this.fu=a)},PU:function(a){a instanceof p.le&&(this.gu=a)}});p.ay=p.sa.extend({br:!1,$j:"",Rz:null,Sz:null,EA:"",r:function(){var a=["webkit","moz","o","ms","khtml"],c=document.body;if(c.requestFullScreen)this.br=!0;else for(var d=0,e=a.length,f;d<e;d++)if(f=a[d],c[f+"RequestFullScreen"]){this.br=!0;this.$j=f;break}this.EA="ontouchstart"in window?"touchstart":"mousedown"},fullScreen:function(){var a=document;if(this.br)switch(this.$j){case "":return a.fullScreen;case "webkit":return a.webkitIsFullScreen;default:return a[this.$j+"FullScreen"]}return!1},GI:function(a,
c){if(this.br&&!this.fullScreen()){if(c){var d=this.$j+"fullscreenchange";this.Rz&&this.Sz&&this.Rz.removeEventListener(d,this.Sz);this.Rz=a;this.Sz=c;a.addEventListener(d,c,!1)}return""===this.$j?a.requestFullScreen():a[this.$j+"RequestFullScreen"]()}},d1:function(){if(this.br&&this.fullScreen())return""===this.$j?document.body.cancelFullScreen():document.body[this.$j+"CancelFullScreen"]()},DP:function(a,c){function d(){e.GI(a,c);a.removeEventListener(e.EA,d)}var e=this;this.GI(a,c);a.addEventListener(this.EA,
d)}});p.ay.d=function(){if(!this.ub){var a=new p.ay;a.r();this.ub=a}return this.ub};p.sE={sh:p.$c(),Ig:p.$c(),rh:p.$c(),Yh:p.$c(),Zh:p.$c(),Xh:p.$c(),Jy:p.$c(),ii:p.$c(),nh:p.$c(),wa:0,ja:0,r:function(a){this.wa=a.width;this.ja=a.height;a=this.wa;var c=this.ja;this.sh.G=c;this.Ig.B=a;this.Ig.G=c;this.rh.B=a/2;this.rh.G=c;this.Zh.B=a;this.Xh.B=a/2;this.Jy.B=a/2;this.Jy.G=c/2;this.ii.G=c/2;this.nh.B=a;this.nh.G=c/2},Mr:function(){return this.wa},Gr:function(){return this.ja},Kaa:function(){return this.sh},Laa:function(){return this.Ig},top:function(){return this.rh},$_:function(){return this.Yh},
a0:function(){return this.Zh},bottom:function(){return this.Xh},o0:function(){return this.Jy},left:function(){return this.ii},right:function(){return this.nh}};p.bx=function(a){var c;if(a&&0!=a.length){var d=a.indexOf("{"),e=a.indexOf("}");-1==d||-1==e||d>e||(a=a.substr(d+1,e-d-1),0!=a.length&&(d=a.indexOf("{"),e=a.indexOf("}"),-1==d&&-1==e&&(c=a.split(","))))}return c};
p.bE=function(a){var c=p.Mc();if(a){var d=a.indexOf("{")+1,e=a.lastIndexOf("}",a.length);-1!=d&&-1!=e&&(a=a.substring(d,e),d=a.indexOf("}"),-1!=d&&(d=a.indexOf(",",d),-1!=d&&(c=a.substr(d+1,a.length-d),a=p.bx(a.substr(0,d)),c=p.bx(c),c=p.rect(parseFloat(a[0]),parseFloat(a[1]),parseFloat(c[0]),parseFloat(c[1])))))}return c};p.aE=function(a){var c=p.Mi();try{if(""==a)return c;var d=p.bx(a),c=p.a(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};
p.by=function(a){var c=p.nl();try{if(""==a)return c;var d=p.bx(a),c=p.size(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};p.LW=function(a,c,d,e,f,g){this.C=a;this.f=c;this.ra=d;this.za=e;this.La=f;this.Ma=g};p.zZ=function(a,c,d,e,f,g){return{C:a,f:c,ra:d,za:e,La:f,Ma:g}};p.OW=function(a,c,d,e,f,g){return{C:a,f:c,ra:d,za:e,La:f,Ma:g}};p.AZ=function(a,c){return{x:c.C*a.x+c.ra*a.y+c.La,y:c.f*a.x+c.za*a.y+c.Ma}};p.$D=function(a,c){return{x:c.C*a.x+c.ra*a.y+c.La,y:c.f*a.x+c.za*a.y+c.Ma}};p.Xj=function(a,c,d){return{x:d.C*a+d.ra*c+d.La,y:d.f*a+d.za*c+d.Ma}};
p.BZ=function(a,c){return{width:c.C*a.width+c.ra*a.height,height:c.f*a.width+c.za*a.height}};p.YY=function(a,c){return{width:c.C*a.width+c.ra*a.height,height:c.f*a.width+c.za*a.height}};p.PW=function(){return{C:1,f:0,ra:0,za:1,La:0,Ma:0}};p.NW=function(){return{C:1,f:0,ra:0,za:1,La:0,Ma:0}};
p.sg=function(a,c){var d=p.Tk(a),e=p.Sk(a),f=p.Gm(a),g=p.Hm(a),h=p.Xj(e,d,c),d=p.Xj(f,d,c),e=p.Xj(e,g,c),k=p.Xj(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);return p.rect(f,l,g-f,h-l)};
p.Th=function(a,c){var d=p.Tk(a),e=p.Sk(a),f=p.Gm(a),g=p.Hm(a),h=p.Xj(e,d,c),d=p.Xj(f,d,c),e=p.Xj(e,g,c),k=p.Xj(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);a.x=f;a.y=l;a.width=g-f;a.height=h-l;return a};p.nx=function(a,c,d){return{C:a.C,f:a.f,ra:a.ra,za:a.za,La:a.La+a.C*c+a.ra*d,Ma:a.Ma+a.f*c+a.za*d}};p.QW=function(a,c,d){return{C:a.C*c,f:a.f*c,ra:a.ra*d,za:a.za*d,La:a.La,Ma:a.Ma}};
p.kK=function(a){var c=Math.sin(1.57079633),d=Math.cos(1.57079633);return{C:a.C*d+a.ra*c,f:a.f*d+a.za*c,ra:a.ra*d-a.C*c,za:a.za*d-a.f*c,La:a.La,Ma:a.Ma}};p.dl=function(a,c){return{C:a.C*c.C+a.f*c.ra,f:a.C*c.f+a.f*c.za,ra:a.ra*c.C+a.za*c.ra,za:a.ra*c.f+a.za*c.za,La:a.La*c.C+a.Ma*c.ra+c.La,Ma:a.La*c.f+a.Ma*c.za+c.Ma}};p.MW=function(a,c){return a.C===c.C&&a.f===c.f&&a.ra===c.ra&&a.za===c.za&&a.La===c.La&&a.Ma===c.Ma};
p.kD=function(a){var c=1/(a.C*a.za-a.f*a.ra);return{C:c*a.za,f:-c*a.f,ra:-c*a.ra,za:c*a.C,La:c*(a.ra*a.Ma-a.za*a.La),Ma:c*(a.f*a.La-a.C*a.Ma)}};p.QD=parseFloat("1.192092896e-07F");p.iC=function(a){return p.a(-a.x,-a.y)};p.Cf=function(a,c){return p.a(a.x+c.x,a.y+c.y)};p.dd=function(a,c){return p.a(a.x-c.x,a.y-c.y)};p.Ai=function(a,c){return p.a(a.x*c,a.y*c)};p.hC=function(a,c){return p.Ai(p.Cf(a,c),0.5)};p.ap=function(a,c){return a.x*c.x+a.y*c.y};p.t7=function(a,c){return a.x*c.y-a.y*c.x};p.tw=function(a){return p.a(-a.y,a.x)};p.B7=function(a){return p.a(a.y,-a.x)};p.A7=function(a,c){return p.Ai(c,p.ap(a,c)/p.ap(c,c))};
p.C7=function(a,c){return p.a(a.x*c.x-a.y*c.y,a.x*c.y+a.y*c.x)};p.H7=function(a,c){return p.a(a.x*c.x+a.y*c.y,a.y*c.x-a.x*c.y)};p.lI=function(a){return p.ap(a,a)};p.u7=function(a,c){return p.lI(p.dd(a,c))};p.fC=function(a){return Math.sqrt(p.lI(a))};p.eC=function(a,c){return p.fC(p.dd(a,c))};p.Wg=function(a){return p.Ai(a,1/p.fC(a))};p.v7=function(a){return p.a(Math.cos(a),Math.sin(a))};p.G7=function(a){return Math.atan2(a.y,a.x)};p.vr=function(a,c,d){if(c>d){var e=c;c=d;d=e}return a<c?c:a<d?a:d};
p.kI=function(a){var c=p.a(0,0),d=p.a(1,1);return p.a(p.vr(a.x,c.x,d.x),p.vr(a.y,c.y,d.y))};p.hT=function(){var a=p.P.d().Gb;return p.a(a.width,a.height)};p.s7=function(a,c){return p.a(c(a.x),c(a.y))};p.mI=function(a,c,d){return p.Cf(p.Ai(a,1-d),p.Ai(c,d))};p.w7=function(a,c,d){return a.x-d<=c.x&&c.x<=a.x+d&&a.y-d<=c.y&&c.y<=a.y+d?!0:!1};p.r7=function(a,c){return p.a(a.x*c.x,a.y*c.y)};p.q7=function(a,c){var d=p.Wg(a),e=p.Wg(c),d=Math.atan2(d.x*e.y-d.y*e.x,p.ap(d,e));return Math.abs(d)<p.QD?0:d};
p.p7=function(a,c){var d=Math.acos(p.ap(p.Wg(a),p.Wg(c)));return Math.abs(d)<p.QD?0:d};p.jT=function(a,c,d){a=p.dd(a,c);var e=Math.cos(d);d=Math.sin(d);var f=a.x;a.x=f*e-a.y*d+c.x;a.y=f*d+a.y*e+c.y;return a};p.gC=function(a,c,d,e,f){if(a.x==c.x&&a.y==c.y||d.x==e.x&&d.y==e.y)return!1;var g=c.x-a.x;c=c.y-a.y;var h=e.x-d.x;e=e.y-d.y;var k=a.x-d.x;a=a.y-d.y;d=e*g-h*c;f.x=h*a-e*k;f.y=g*a-c*k;if(0==d)return 0==f.x||0==f.y?!0:!1;f.x/=d;f.y/=d;return!0};
p.E7=function(a,c,d,e){var f=p.a(0,0);return p.gC(a,c,d,e,f)&&0<=f.x&&1>=f.x&&0<=f.y&&1>=f.y?!0:!1};p.y7=function(a,c,d,e){var f=p.a(0,0);return p.gC(a,c,d,e,f)?(d=p.a(0,0),d.x=a.x+f.x*(c.x-a.x),d.y=a.y+f.x*(c.y-a.y),d):p.Mi()};p.D7=function(a,c){return null!=a&&null!=c?a.x==c.x&&a.y==c.y:!1};p.I7=function(a){a.x=0;a.y=0};p.x7=function(a,c){a.x=c.x;a.y=c.y};p.iT=function(a,c){a.x*=c;a.y*=c};p.F7=function(a,c){a.x-=c.x;a.y-=c.y};p.o7=function(a,c){a.x+=c.x;a.y+=c.y};
p.z7=function(a){p.iT(a,1/Math.sqrt(a.x*a.x+a.y*a.y))};p.cba=function(a,c,d,e,f){f+=e;if(!(1>=f)){c*=0.5;for(var g,h=f-1,k=e;k<f;k++){g=2*k;var l=p.a(a[2*k],a[2*k+1]),m;if(0===k)m=p.tw(p.Wg(p.dd(l,p.a(a[2*(k+1)],a[2*(k+1)+1]))));else if(k===h)m=p.tw(p.Wg(p.dd(p.a(a[2*(k-1)],a[2*(k-1)+1]),l)));else{m=p.a(a[2*(k-1)],a[2*(k-1)+1]);var n=p.a(a[2*(k+1)],a[2*(k+1)+1]),s=p.Wg(p.dd(n,l)),q=p.Wg(p.dd(m,l)),v=Math.acos(p.ap(s,q));m=v<p.Ki(70)?p.tw(p.Wg(p.hC(s,q))):v<p.Ki(170)?p.Wg(p.hC(s,q)):p.tw(p.Wg(p.dd(n,m)))}m=p.Ai(m,c);d[2*g]=l.x+m.x;d[2*g+1]=l.y+m.y;d[2*
(g+1)]=l.x-m.x;d[2*(g+1)+1]=l.y-m.y}for(k=0==e?0:e-1;k<h;k++)g=2*k,a=g+2,c=p.Nt(d[2*g],d[2*g+1]),f=p.Nt(d[2*(g+1)],d[2*(g+1)+1]),g=p.Nt(d[2*a],d[2*a]),e=p.Nt(d[2*(a+1)],d[2*(a+1)+1]),c=!p.tW(c.x,c.y,e.x,e.y,f.x,f.y,g.x,g.y),!c.Tr&&(0>c.value||1<c.value)&&(c.Tr=!0),c.Tr&&(d[2*a]=e.x,d[2*a+1]=e.y,d[2*(a+1)]=g.x,d[2*(a+1)+1]=g.y)}};
p.tW=function(a,c,d,e,f,g,h,k){if(a==d&&c==e||f==h&&g==k)return{Tr:!1,value:0};d-=a;e-=c;f-=a;g-=c;h-=a;k-=c;a=Math.sqrt(d*d+e*e);d/=a;e/=a;c=f*d+g*e;g=g*d-f*e;f=c;c=h*d+k*e;k=k*d-h*e;h=c;return g==k?{Tr:!1,value:0}:{Tr:!0,value:(h+(f-h)*k/(k-g))/a}};p.ZW=function(a,c){c[2]=c[3]=c[6]=c[7]=c[8]=c[9]=c[11]=c[14]=0;c[10]=c[15]=1;c[0]=a.C;c[4]=a.ra;c[12]=a.La;c[1]=a.f;c[5]=a.za;c[13]=a.Ma};p.JX=function(a,c){c.C=a[0];c.ra=a[4];c.La=a[12];c.f=a[1];c.za=a[5];c.Ma=a[13]};p.OD=-1;p.hY=null;p.iY=null;p.rU=1;
p.F=p.sa.extend({Sa:0,Cv:0,Xf:0,oh:0,la:1,qa:1,m:null,Nd:0,Od:0,o:null,pa:!0,fh:null,ld:null,ka:null,ue:!1,$:null,jk:!1,Tc:p.OD,hG:null,LA:null,rj:!0,zu:!0,KE:!0,o_:null,qj:null,dF:null,Md:!1,rc:null,of:0,vg:null,Yf:null,cF:!1,Np:!1,Ut:null,bi:null,Dz:!1,Nl:0,Pq:0,Az:function(){this.fh=p.$c();this.ld=p.$c();this.ka=p.Rl();this.m=p.$c();this.o=[];this.qj={C:1,f:0,ra:0,za:1,La:0,Ma:0};var a=p.P.d();this.vg=a.bg();this.Yf=a.$e();this.cF=!0;this.Ut={C:1,f:0,ra:0,za:1,La:0,Ma:0};p.tK&&(this.bi=new p.tK(this))},
r:function(){!1===this.cF&&this.Az();return!0},Of:function(a,c){if(a&&0!==a.length){var d,e=a.length,f;d=p.F.jf;switch(c){case d.ig:for(d=0;d<e;d++)(f=a[d])&&f.ig();break;case d.td:for(d=0;d<e;d++)(f=a[d])&&f.td();break;case d.Ih:for(d=0;d<e;d++)(f=a[d])&&f.Ih();break;case d.vf:for(d=0;d<e;d++)(f=a[d])&&f.vf();break;case d.Gf:for(d=0;d<e;d++)(f=a[d])&&f.Gf();break;case d.Vg:for(d=0;d<e;d++)(f=a[d])&&f.Vg();break;case d.vd:for(d=0;d<e;d++)(f=a[d])&&f.vd();break;default:throw"Unknown callback function";
}}},Ka:null,xO:function(){this.Pl();!1===this.rj&&(this.rj=this.zu=!0)},yO:function(){!1===this.rj&&(this.rj=this.zu=!0)},j4:function(){return this.Nd},Xw:function(a){this.Nd=a;this.Ka()},k4:function(){return this.Od},Yw:function(a){this.Od=a;this.Ka()},Z4:function(){return this.Sa},ev:function(a){this.Sa=a},W$:function(a){this.ev(a);this.$&&this.$.fs(this,a)},P4:function(){return this.Cv},uJ:function(a){this.Cv=a},oR:function(){this.Xf!==this.oh&&p.log("cc.Node.rotation(): RotationX !\x3d RotationY. Don't know which one to return");
return this.Xf},Tw:function(a){this.Xf=this.oh=a;this.Nl=0.017453292519943295*this.Xf;this.Pq=0.017453292519943295*this.oh;this.Ka()},Z3:function(){return this.Xf},Uw:function(a){this.Xf=a;this.Nl=0.017453292519943295*this.Xf;this.Ka()},a4:function(){return this.oh},Vw:function(a){this.oh=a;this.Pq=0.017453292519943295*this.oh;this.Ka()},wB:function(){this.la!==this.qa&&p.log("cc.Node.getScale(): ScaleX !\x3d ScaleY. Don't know which one to return");return this.la},Kj:function(a,c){this.la=a;this.qa=
c||0===c?c:a;this.Ka()},pR:function(){return this.la},hp:function(a){this.la=a;this.Ka()},qR:function(){return this.qa},Om:function(a){this.qa=a;this.Ka()},t:function(a,c){var d=this.m;2==arguments.length?(d.B=a,d.G=c):1==arguments.length&&(d.B=a.x,d.G=a.y);this.Ka()},J3:function(){return this.m},K3:function(){return this.m.B},Bb:function(a){this.m.B=a;this.Ka()},L3:function(){return this.m.G},Ij:function(a){this.m.G=a;this.Ka()},W1:function(){return this.o.length},V1:function(){return this.o},UH:function(){return this.pa},
v:function(a){this.pa=a;this.Ka()},E1:function(){return this.fh},ea:function(a,c){var d=this.fh;if(2===arguments.length){if(a===d.B&&c===d.G)return;d.B=a;d.G=c}else{if(a.x===d.B&&a.y===d.G)return;d.B=a.x;d.G=a.y}var e=this.ld,f=this.ka;e.B=f.wa*d.B;e.G=f.ja*d.G;this.Ka()},F1:function(){return this.ld},e:function(){return this.ka},ba:function(a,c){var d=this.ka;if(2===arguments.length){if(a===d.wa&&c===d.ja)return;d.wa=a;d.ja=c}else{if(a.width===d.wa&&a.height===d.ja)return;d.wa=a.width;d.ja=a.height}var e=
this.ld,f=this.fh;e.B=d.wa*f.B;e.G=d.ja*f.G;this.Ka()},d6:function(){return this.ue},getParent:function(){return this.$},ms:function(a){this.$=a},O5:function(){return this.jk},xi:function(a){a!=this.jk&&(this.jk=a,this.Ka())},yR:function(){return this.Tc},qJ:function(a){this.Tc=a},getUserData:function(){return this.hG},setUserData:function(a){this.hG=a},N4:function(){return this.LA},P$:function(a){this.LA!=a&&(this.LA=a)},z3:function(){return this.of},gp:function(a){this.of=a},bg:function(){this.vg||
(this.vg=p.P.d().bg());return this.vg},BU:function(a){this.vg!=a&&(this.XC(),this.vg=a)},$e:function(){this.Yf||(this.Yf=p.P.d().$e());return this.Yf},CV:function(a){this.Yf!=a&&(this.vs(),this.Yf=a)},Qa:function(){var a=p.rect(0,0,this.ka.wa,this.ka.ja);return p.Th(a,this.Bf())},vf:function(){this.XC();this.vs();this.Of(this.o,p.F.jf.vf)},description:function(){return"\x3ccc.Node | Tag \x3d"+this.Tc+"\x3e"},QQ:function(a){var c=this.o;if(null!=c)for(var d=0;d<c.length;d++){var e=c[d];if(e&&e.Tc==
a)return e}return null},p:function(a,c,d){if(!a)throw"cc.Node.addChild(): child must be non-null";a===this?p.log("cc.Node.addChild(): An Node can't be added as a child of itself."):null!==a.$?p.log("cc.Node.addChild(): child already added. It can't be added again"):(c=null!=c?c:a.Sa,a.Tc=null!=d?d:a.Tc,this.rN(a,c),a.$=this,this.ue&&(a.ig(),this.Dz&&a.Ih()))},S:function(a){this.$&&(null==a&&(a=!0),this.$.removeChild(this,a))},ZT:function(a){p.log("removeFromParentAndCleanup is deprecated. Use removeFromParent instead");
this.S(a)},removeChild:function(a,c){0!==this.o.length&&(null==c&&(c=!0),-1<this.o.indexOf(a)&&this.QM(a,c),this.Ka())},s8:function(a,c){a===p.OD&&p.log("cc.Node.removeChildByTag(): argument tag is an invalid tag");var d=this.QQ(a);null==d?p.log("cocos2d: removeChildByTag(tag \x3d "+a+"): child not found!"):this.removeChild(d,c)},k8:function(a){p.log("removeAllChildrenWithCleanup is deprecated. Use removeAllChildren instead");this.Mh(a)},Mh:function(a){var c=this.o;if(null!=c){null==a&&(a=!0);for(var d=
0;d<c.length;d++){var e=c[d];e&&(this.ue&&(e.Vg(),e.td()),a&&e.vf(),e.ms(null))}this.o.length=0}},QM:function(a,c){this.ue&&(a.Vg(),a.td());c&&a.vf();a.ms(null);p.yd(this.o,a)},rN:function(a,c){this.Md=!0;this.o.push(a);a.ev(c)},fs:function(a,c){if(!a)throw"cc.Node.reorderChild(): child must be non-null";this.Md=!0;a.gp(p.rU++);a.ev(c);this.Ka()},vd:function(){if(this.Md){var a=this.o,c,d,e=a.length,f;for(c=0;c<e;c++){var g=a[c];d=c-1;for(f=a[d];0<=d&&(g.Sa<f.Sa||g.Sa==f.Sa&&g.of<f.of);)a[d+1]=f,
d-=1,f=a[d];a[d+1]=g}this.Md=!1}},Ja:function(){},hx:function(){null!=this.$&&(this.$.hx(),this.$.transform())},ig:function(){this.Dz=!1;this.ue=!0;this.Of(this.o,p.F.jf.ig);this.Fw()},Ih:function(){this.Dz=!0;this.Of(this.o,p.F.jf.Ih)},Vg:function(){this.Of(this.o,p.F.jf.Vg)},td:function(){this.ue=!1;this.vw();this.Of(this.o,p.F.jf.td);this.bi&&this.bi.UT()},Gw:function(a){if(!a)throw"cc.Node.runAction(): action must be non-null";this.bg().pP(a,this,!this.ue);return a},XC:function(){this.bg().CI(this)},
cW:function(a){this.bg().BI(a)},laa:function(a){a===p.Ym?p.log("cc.Node.stopActionBy(): argument tag an invalid tag"):this.bg().TT(a,this)},rB:function(a){return a===p.Ym?(p.log("cc.Node.getActionByTag(): argument tag is an invalid tag"),null):this.bg().rB(a,this)},l3:function(){return this.bg().PS(this)},tU:function(){this.uU(0)},uU:function(a){this.$e().KI(this,a,!this.ue)},Qaa:function(){this.$e().np(this)},wc:function(a,c,d,e){c=c||0;if(!a)throw"cc.Node.schedule(): callback function must be non-null";
if(0>c)throw"cc.Node.schedule(): interval must be positive";d=null==d?p.ml:d;e=e||0;this.$e().sU(this,a,c,d,e,!this.ue)},fd:function(a,c){this.wc(a,0,0,c)},xd:function(a){a&&this.$e().TJ(this,a)},vs:function(){this.$e().SJ(this)},Fw:function(){this.$e().Jm(this);this.bg().Jm(this)},vw:function(){this.$e().ds(this);this.bg().ds(this)},P8:function(a){this.Ut=a;this.Np=this.rj=!0},L7:function(){this.zu&&(this.dF=p.kD(this.Bf()),this.zu=!1);return this.dF},as:function(){for(var a=this.Bf(),c=this.$;null!=
c;c=c.getParent())a=p.dl(a,c.Bf());return a},wW:function(){return p.kD(this.as())},Xa:function(a){return p.$D(a,this.wW())},Ck:function(a){return p.$D(a,this.as())},cQ:function(a){return p.dd(this.Xa(a),this.ld)},C0:function(a){a=p.Cf(a,this.ld);return this.Ck(a)},KZ:function(a){a=this.Ck(a);return p.P.d().dQ(a)},yh:function(a){return this.Xa(a.Q)},D0:function(a){a=a.Q;a=p.P.d().bQ(a);return this.cQ(a)},update:function(a){this.bi&&!this.bi.K5()&&this.bi.ha(a)},Gf:function(){this.Of(this.o,p.F.jf.Gf)},
II:function(){},sC:function(){},RQ:function(a){return this.bi.RQ(a)},w_:function(a){this.bi.add(a)},t8:function(a){return this.bi.remove(a)},l8:function(){this.bi.UT()},VF:null,yA:null,vz:null,zn:null,gk:null,ctor:null,gh:function(){this.Az()},hh:function(){this.Az();var a=new p.Tg;a.Ug[2]=a.Ug[3]=a.Ug[6]=a.Ug[7]=a.Ug[8]=a.Ug[9]=a.Ug[11]=a.Ug[14]=0;a.Ug[10]=a.Ug[15]=1;this.VF=a;this.vz=0;this.yA=new p.Tg},ha:null,cm:function(a){if(this.pa){a=a||p.O;var c,d=this.o,e;a.save();this.transform(a);var f=
d.length;if(0<f){this.vd();for(c=0;c<f;c++)if(e=d[c],0>e.Sa)e.ha(a);else break;for(this.Ja(a);c<f;c++)d[c].ha(a)}else this.Ja(a);this.of=0;a.restore()}},dm:function(){if(this.pa){var a=p.O,c,d=p.hQ;d.stack.push(d.top);p.u6(this.yA,d.top);d.top=this.yA;var e=this.gk;e&&e.hM&&e.$A();this.transform();var f=this.o;if(f&&0<f.length){var g=f.length;this.vd();for(c=0;c<g;c++)if(f[c]&&0>f[c].Sa)f[c].ha();else break;for(this.Ja(a);c<g;c++)f[c]&&f[c].ha()}else this.Ja(a);this.of=0;e&&e.hM&&e.WA(this);d.top=
d.stack.pop()}},transform:null,YO:function(a){a=a||p.O;var c=p.ia.d(),d=this.Bf();a.transform(d.C,d.ra,d.f,d.za,d.La*c.la,-d.Ma*c.qa)},ZO:function(){var a=this.VF,c=p.hQ.top,d=this.Bf(),e=a.Ug;e[0]=d.C;e[4]=d.ra;e[12]=d.La;e[1]=d.f;e[5]=d.za;e[13]=d.Ma;e[14]=this.Cv;p.CS(c,c,a);null==this.zn||null!=this.gk&&this.gk.Qo()||(a=this.ld.B,c=this.ld.G,0!==a||0!==c?(p.AS(p.Kf(a),p.Kf(c),0),this.zn.XH(),p.AS(p.Kf(-a),p.Kf(-c),0)):this.zn.XH())},Bf:null,IN:function(){this.qj||(this.qj={C:1,f:0,ra:0,za:1,La:0,
Ma:0});if(this.rj){var a=this.qj;a.La=this.m.B;a.Ma=this.m.G;var c=1,d=0;this.Xf&&(c=Math.cos(this.Nl),d=Math.sin(this.Nl));a.C=a.za=c;a.f=-d;a.ra=d;var e=this.la,f=this.qa,g=this.ld.B,h=this.ld.G,k=1E-6>e&&-1E-6<e?1E-6:e,l=1E-6>f&&-1E-6<f?1E-6:f;if(this.Nd||this.Od){var m=Math.tan(-this.Nd*Math.PI/180),n=Math.tan(-this.Od*Math.PI/180),s=h*m*k,q=g*n*l;a.C=c+-d*n;a.f=c*m+-d;a.ra=d+c*n;a.za=d*m+c;a.La+=c*s+-d*q;a.Ma+=d*s+c*q}if(1!==e||1!==f)a.C*=k,a.ra*=k,a.f*=l,a.za*=l;a.La+=c*-g*k+-d*h*l;a.Ma-=d*
-g*k+c*h*l;this.jk&&(a.La+=g,a.Ma+=h);this.Np&&(this.qj=p.dl(this.qj,this.Ut),this.Np=!1);this.rj=!1}return this.qj},JN:function(){if(this.rj){var a=this.m.B,c=this.m.G,d=this.ld.B,e=-d,f=this.ld.G,g=-f,h=this.la,k=this.qa;this.jk&&(a+=d,c+=f);var l=1,m=0,n=1,s=0;if(0!==this.Xf||0!==this.oh)l=Math.cos(-this.Nl),m=Math.sin(-this.Nl),n=Math.cos(-this.Pq),s=Math.sin(-this.Pq);var q=this.Nd||this.Od;q||0===d&&0===f||(a+=n*e*h+-m*g*k,c+=s*e*h+l*g*k);a={C:n*h,f:s*h,ra:-m*k,za:l*k,La:a,Ma:c};q&&(a=p.dl({C:1,
f:Math.tan(p.Ki(this.Od)),ra:Math.tan(p.Ki(this.Nd)),za:1,La:0,Ma:0},a),0!==d||0!==f)&&(a=p.nx(a,e,g));this.Np&&(a=p.dl(a,this.Ut),this.Np=!1);this.qj=a;this.rj=!1}return this.qj},Pl:function(){this.KE=!0;this.$&&this.$.Pl()},sB:function(){this.zn||(this.zn=new p.tp);return this.zn},F2:function(){return this.gk},t9:function(a){this.gk=a},xB:function(){return this.rc},lg:function(a){this.rc=a},E2:function(){return this.vz},s9:function(a){this.vz=a},N1:function(){var a=p.rect(0,0,this.ka.wa,this.ka.ja),
c=this.as(),a=p.sg(a,this.as());if(!this.o)return a;for(var d=this.o,e=0;e<d.length;e++){var f=d[e];f&&f.pa&&(f=f.WE(c))&&(a=p.Cw(a,f))}return a},WE:function(a){var c=p.rect(0,0,this.ka.wa,this.ka.ja);a=null==a?this.Bf():p.dl(this.Bf(),a);c=p.sg(c,a);if(!this.o)return c;for(var d=this.o,e=0;e<d.length;e++){var f=d[e];f&&f.pa&&(f=f.WE(a))&&(c=p.Cw(c,f))}return c}});
p.va.xc?(b=p.F.prototype,b.ctor=p.F.prototype.hh,b.Ka=p.F.prototype.yO,b.ha=p.F.prototype.dm,b.transform=p.F.prototype.ZO,b.Bf=p.F.prototype.JN):(b=p.F.prototype,b.ctor=p.F.prototype.gh,b.Ka=p.F.prototype.xO,b.ha=p.F.prototype.cm,b.transform=p.F.prototype.YO,b.Bf=p.F.prototype.IN);p.F.create=function(){return new p.F};p.F.jf={ig:1,td:2,vf:3,Ih:4,Gf:5,Vg:6,vd:7};
p.lb=p.F.extend({Va:!0,Nb:255,Wf:255,pc:null,Ld:null,Xc:!1,Fd:!1,ctor:function(){p.F.prototype.ctor.call(this);this.Wf=this.Nb=255;this.pc=p.kb();this.Ld=p.kb();this.Fd=this.Xc=!1},vi:function(){return this.Wf},TQ:function(){return this.Nb},X:function(a){this.Nb=this.Wf=a;a=255;var c=this.$;c&&c.Va&&c.Fd&&(a=c.Nb);this.Kc(a)},Kc:function(a){this.Nb=this.Wf*a/255;if(this.Fd){a=this.o;for(var c=0;c<a.length;c++){var d=a[c];d&&d.Va&&d.Kc(this.Nb)}}},sS:function(){return this.Fd},TI:function(a){this.Fd!==
a&&((this.Fd=a)?this.jq():this.cz())},jq:function(){var a=255,c=this.$;c&&c.Va&&c.Fd&&(a=c.Nb);this.Kc(a)},cz:function(){this.Nb=this.Wf;for(var a=this.o,c=0;c<a.length;c++){var d=a[c];d&&d.Va&&d.Kc(255)}},cd:function(){var a=this.Ld;return new p.lc(a.h,a.g,a.f)},Fr:function(){return this.pc},k:function(a){var c=this.pc,d=this.Ld;c.h=d.h=a.h;c.g=d.g=a.g;c.f=d.f=a.f;a=(a=this.$)&&a.Va&&a.Xc?a.Fr():p.kb();this.Jc(a)},Jc:function(a){var c=this.pc,d=this.Ld;c.h=0|d.h*a.h/255;c.g=0|d.g*a.g/255;c.f=0|d.f*
a.f/255;if(this.Xc)for(a=this.o,d=0;d<a.length;d++){var e=a[d];e&&e.Va&&e.Jc(c)}},rS:function(){return this.Xc},SI:function(a){this.Xc!==a&&((this.Xc=a)?this.iq():this.bz())},iq:function(){var a;a=(a=this.$)&&a.Va&&a.Xc?a.Fr():p.kb();this.Jc(a)},bz:function(){var a=this.pc,c=this.Ld;a.h=c.h;a.g=c.g;a.f=c.f;for(var a=this.o,c=p.kb(),d=0;d<a.length;d++){var e=a[d];e&&e.Va&&e.Jc(c)}},p:function(a,c,d){p.F.prototype.p.call(this,a,c,d);this.Xc&&this.iq();this.Fd&&this.jq()},ef:function(){},Ik:function(){return!1}});
p.lb.create=function(){var a=new p.lb;a.r();return a};p.zd=p.lb.extend({Va:!0,jF:0,iF:0,Bu:0,Au:0,Vi:null,Fa:null,ac:!1,W:null,Mq:0,wz:!1,ctor:function(){p.lb.prototype.ctor.call(this);this.Vi=p.kb();this.W={src:p.je,sb:p.ie};this.wz=!1},Saa:function(){p.log("cc.AtlasNode.updateAtlasValues(): Shall be overridden in subclasses")},cd:function(){return this.ac?this.Vi:p.lb.prototype.cd.call(this)},ef:function(a){var c=this.cd();this.ac=a;this.k(c)},Ik:function(){return this.ac},Er:function(){return this.W},Uk:function(a,c){this.W=1==arguments.length?a:
{src:a,sb:c}},jp:function(a){this.Fa=a},oH:function(){return this.Fa},R3:function(){return this.Mq},i$:function(a){this.Mq=a},Xl:null,Sf:null,YF:null,cu:null,gS:function(a,c,d,e){if(!a)throw"cc.AtlasNode.initWithTileFile(): title should not be null";a=p.Na.d().Kb(a);return this.Aa(a,c,d,e)},Aa:null,xq:function(a,c,d,e){this.Bu=c;this.Au=d;this.ac=!0;this.Sf=a;if(!this.Sf)return p.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.Xl=this.Sf;this.Zt();this.Mq=e;return!0},yq:function(a,
c,d,e){this.Bu=c;this.Au=d;this.Vi=p.kb();this.ac=!0;this.W.src=p.je;this.W.sb=p.ie;c=this.Ld;this.cu=new Float32Array([c.h/255,c.g/255,c.f/255,this.Wf/255]);this.Fa=new p.ln;this.Fa.Aa(a,e);if(!this.Fa)return p.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.bm();this.eG();this.Zt();this.Mq=e;this.lg(p.eh.d().Lh(p.SY));this.YF=p.O.getUniformLocation(this.xB().aw(),"u_color");return!0},Ja:null,Rf:function(a){a=a||p.O;p.Ox(this);p.Bj(this.W.src,this.W.sb);a.uniform4fv(this.YF,
this.cu);this.Fa.OG(this.Mq,0)},k:null,Rq:function(a){var c=this.Ld;if(c.h!=a.h||c.g!=a.g||c.f!=a.f){c=new p.lc(a.h,a.g,a.f);this.Vi=a;if(this.ac){var d=this.Nb;c.h=c.h*d/255;c.g=c.g*d/255;c.f=c.f*d/255}p.lb.prototype.k.call(this,a);this.T()&&(a=this.Sf.qc)&&(c=p.Na.d().pH(a))&&(d=p.rect(0,0,a.width,a.height),a=p.qB(a,c,this.Ld,d),c=new p.Pb,c.af(a),c.ce(),this.Y(c))}},kA:function(a){var c=p.lc(a.h,a.g,a.f);this.Vi=a;var d=this.Nb;this.ac&&(c.h=c.h*d/255,c.g=c.g*d/255,c.f=c.f*d/255);p.lb.prototype.k.call(this,
a);a=this.pc;this.cu=new Float32Array([a.h/255,a.g/255,a.f/255,d/255])},X:null,Tq:function(a){p.lb.prototype.X.call(this,a);this.ac&&this.k(this.Vi)},nA:function(a){p.lb.prototype.X.call(this,a);this.ac?this.k(this.Vi):(a=this.pc,this.cu=new Float32Array([a.h/255,a.g/255,a.f/255,this.Nb/255]))},T:null,sz:function(){return this.Xl},tz:function(){return this.Fa.T()},Y:null,Uq:function(a){this.Xl=a},Vq:function(a){this.Fa.Y(a);this.bm();this.eG()},Zt:null,yM:function(){var a=this.T().e();this.iF=0|a.height/
this.Au;this.jF=0|a.width/this.Bu},zM:function(){var a=this.T(),c=a.e();this.wz&&(c=a.ka);this.iF=0|c.height/this.Au;this.jF=0|c.width/this.Bu},bm:function(){this.Fa.T().Pr()||(this.W.src=770,this.W.sb=771)},eG:function(){this.ac=this.Fa.T().Pr()},mA:function(a){this.wz=a}});
p.va.xc?(b=p.zd.prototype,b.Aa=p.zd.prototype.yq,b.Ja=p.zd.prototype.Rf,b.k=p.zd.prototype.kA,b.X=p.zd.prototype.nA,b.T=p.zd.prototype.tz,b.Y=p.zd.prototype.Vq,b.Zt=p.zd.prototype.zM):(b=p.zd.prototype,b.Aa=p.zd.prototype.xq,b.Ja=p.F.prototype.Ja,b.k=p.zd.prototype.Rq,b.X=p.zd.prototype.Tq,b.T=p.zd.prototype.sz,b.Y=p.zd.prototype.Uq,b.Zt=p.zd.prototype.yM);p.zd.create=function(a,c,d,e){var f=new p.zd;return f.gS(a,c,d,e)?f:null};p.Oi=0;p.Ep=1;p.Dp=2;p.Cp=3;p.ey=4;p.dy=5;p.Dt=6;p.Ct=7;p.kE=8;p.jE=9;p.iE=p.Oi;p.Vy=p.iE;p.vL=!1;p.l_=function(a,c,d,e){this.LS=a||0;this.IS=c||0;this.gK=d||0;this.hK=e||0};
p.LL=p.sa.extend({MN:null,pf:null,Eg:null,Dg:null,Hz:null,ka:null,zg:null,Ag:null,Pn:null,Cl:!1,rc:null,ec:!1,qc:null,wh:null,md:null,ctor:function(){this.Dg=this.Eg=0;this.Hz="";this.Ag=this.zg=0;this.Pn=!1;this.ka=p.Rl();this.Cl=!1;this.MN=!0;this.pf=p.Pb.iQ();this.rc=null;this.ec=!1;this.wh=this.qc=null;this.md=[]},tC:function(){this.wh&&p.O.deleteTexture(this.wh)},E3:function(){return this.pf},Jo:function(){return this.Eg},Io:function(){return this.Dg},getName:function(){return this.wh},e:function(){return p.size(this.ka.width/
p.hd(),this.ka.height/p.hd())},SQ:function(){return this.ka},bR:function(){return this.zg},iV:function(a){this.zg=a},cR:function(){return this.Ag},jV:function(a){this.Ag=a},xB:function(){return this.rc},lg:function(a){this.rc=a},Pr:function(){return this.Pn},QR:function(){return this.Cl},description:function(){return"\x3ccc.Texture2D | Name \x3d "+this.Hz+" | Dimensions \x3d "+this.Eg+" x "+this.Dg+" | Coordinates \x3d ("+this.zg+", "+this.Ag+")\x3e"},RT:function(){},yS:function(a){return a},hw:function(a,
c,d,e,f){var g=p.O,h=0,h=c===p.Oi?24:this.zG(c),h=d*h/8;0===h%8?g.pixelStorei(g.UNPACK_ALIGNMENT,8):0===h%4?g.pixelStorei(g.UNPACK_ALIGNMENT,4):0===h%2?g.pixelStorei(g.UNPACK_ALIGNMENT,2):g.pixelStorei(g.UNPACK_ALIGNMENT,1);this.wh=g.createTexture();p.cg(this);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE);
switch(c){case p.Oi:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_BYTE,a);break;case p.Ep:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_BYTE,a);break;case p.Dt:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_4_4_4_4,a);break;case p.Ct:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_5_5_5_1,a);break;case p.Dp:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_SHORT_5_6_5,a);break;case p.dy:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE_ALPHA,
d,e,0,g.LUMINANCE_ALPHA,g.UNSIGNED_BYTE,a);break;case p.Cp:g.texImage2D(g.TEXTURE_2D,0,g.ALPHA,d,e,0,g.ALPHA,g.UNSIGNED_BYTE,a);break;case p.ey:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE,d,e,0,g.LUMINANCE,g.UNSIGNED_BYTE,a);break;default:throw"NSInternalInconsistencyException";}this.ka.wa=f.width;this.ka.ja=f.height;this.Eg=d;this.Dg=e;this.pf=c;this.zg=f.width/d;this.Ag=f.height/e;this.Cl=this.Pn=!1;this.lg(p.eh.d().Lh(p.AL));return this.ec=!0},wQ:function(a){var c=[0,this.Ag,this.zg,this.Ag,0,0,this.zg,
0],d=this.Eg*this.zg,e=this.Dg*this.Ag;a=[a.x,a.y,0,d+a.x,a.y,0,a.x,e+a.y,0,d+a.x,e+a.y,0];p.Yd(p.ug|p.UL);this.rc.Le();this.rc.tJ();p.cg(this);d=p.O;d.vertexAttribPointer(p.me,2,d.FLOAT,!1,0,a);d.vertexAttribPointer(p.Ip,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},yQ:function(a){var c=[0,this.Ag,this.zg,this.Ag,0,0,this.zg,0];a=[a.x,a.y,a.x+a.width,a.y,a.x,a.y+a.height,a.x+a.width,a.y+a.height];p.Yd(p.ug|p.UL);this.rc.Le();this.rc.tJ();p.cg(this);var d=p.O;d.vertexAttribPointer(p.me,2,
d.FLOAT,!1,0,a);d.vertexAttribPointer(p.Ip,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},MB:function(a){if(null==a)return p.log("cocos2d: cc.Texture2D. Can't create Texture. UIImage is nil"),!1;var c=a.Mr(),d=a.Gr(),e=p.ke.d().Fq;if(c>e||d>e)return p.log("cocos2d: WARNING: Image ("+c+" x "+d+") is bigger than the supported "+e+" x "+e),!1;this.ec=!0;return this.iN(a,c,d)},af:function(a){a&&(this.wh=p.O.createTexture(),this.qc=a)},WQ:function(){return this.qc},fg:function(){return this.ec},
ce:function(){this.ec=!0;var a=p.O;p.cg(this);a.pixelStorei(a.UNPACK_ALIGNMENT,4);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,this.qc);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);this.lg(p.eh.d().Lh(p.AL));p.cg(null);a=this.qc.height;this.Eg=this.ka.wa=this.qc.width;this.Dg=this.ka.ja=
a;this.pf=p.Oi;this.Ag=this.zg=1;this.Cl=this.Pn=!1;this.Ed()},Gk:function(a,c,d,e,f,g){3==arguments.length&&(c=arguments[1],d=arguments[2],e=p.size(0,0),f=p.Pi,g=p.Kp);var h=new p.PK,k;if(p.Kp===g)k=p.Pi===f?p.GW:p.Fp===f?p.HW:p.IW;else if(p.Mt===g)k=p.Pi===f?p.DW:p.Fp===f?p.EW:p.FW;else if(p.Jp===g)k=p.Pi===f?p.zW:p.Fp===f?p.AW:p.BW;else return p.log("Not supported alignment format!"),!1;return h.Gk(a,e.width,e.height,k,c,d)?this.MB(h):!1},$R:function(){return!1},GH:function(a){var c=!1,d=new p.hZ;
(c=d.p5(a))?(d.q$(!0),this.Hz=d.getName(),this.Ag=this.zg=1,this.Eg=d.Mr(),this.Dg=d.Gr(),this.ka.wa=this.Eg,this.ka.ja=this.Dg,this.Pn=p.vL,this.pf=d.C2(),this.OI()):p.log("cocos2d: Couldn't load PVR image "+a);return c},dS:function(){return p.ke.d().dr?!0:(p.log("cocos2d: WARNING: PVRTC images is not supported."),!1)},GV:function(a){var c=p.O;p.Fs(this.Eg==p.dn(this.Eg)&&this.Dg==p.dn(this.Dg)||a.gK==c.CLAMP_TO_EDGE&&a.hK==c.CLAMP_TO_EDGE,"WebGLRenderingContext.CLAMP_TO_EDGE should be used in NPOT textures");
p.cg(this);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,a.LS);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,a.IS);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,a.gK);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,a.hK)},OI:function(){var a=p.O;p.cg(this);this.Cl?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},NI:function(){var a=p.O;p.cg(this);
this.Cl?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},generateMipmap:function(){p.Fs(this.Eg==p.dn(this.Eg)&&this.Dg==p.dn(this.Dg),"Mimpap texture only works in POT textures");p.cg(this);p.O.generateMipmap(p.O.TEXTURE_2D);this.Cl=!0},dW:function(){switch(this.pf){case p.Oi:return"RGBA8888";case p.Ep:return"RGB888";case p.Dp:return"RGB565";case p.Dt:return"RGBA4444";
case p.Ct:return"RGB5A1";case p.dy:return"AI88";case p.Cp:return"A8";case p.ey:return"I8";case p.kE:return"PVRTC4";case p.jE:return"PVRTC2";default:p.log("stringForFormat: "+this.pf+", cannot give useful result, it's a unrecognized pixel format")}return""},zG:function(a){a=a||this.pf;switch(a){case p.Oi:return 32;case p.Ep:return 32;case p.Dp:return 16;case p.Cp:return 8;case p.Dt:return 16;case p.Ct:return 16;case p.kE:return 4;case p.jE:return 2;case p.ey:return 8;case p.dy:return 16;default:return p.log("bitsPerPixelForFormat: "+
this.pf+", cannot give useful result, it's a illegal pixel format"),-1}},iN:function(a,c,d){var e=a.getData(),f=null,f=null,g=a.e5(),h=p.size(a.Mr(),a.Gr()),k=p.iE,l=a.L1();g||(8<=l?k=p.Ep:(p.log("cocos2d: cc.Texture2D: Using RGB565 texture since image has no alpha"),k=p.Dp));var m=c*d;if(k==p.Dp)if(g)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>2<<5|(f[l]>>16&255)>>3<<0;else for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]&255)>>3<<
11|(f[l]&255)>>2<<5|(f[l]&255)>>3<<0;else if(k==p.Dt)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>4<<12|(f[l]>>8&255)>>4<<8|(f[l]>>16&255)>>4<<4|(f[l]>>24&255)>>4<<0;else if(k==p.Ct)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>3<<6|(f[l]>>16&255)>>3<<1|(f[l]>>24&255)>>7<<0;else if(k==p.Cp)for(e=new Uint8Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=f>>24&255;if(g&&k==p.Ep)for(f=a.getData(),e=new Uint8Array(c*d*3),l=0;l<m;++l)e[3*
l]=f>>0&255,e[3*l+1]=f>>8&255,e[3*l+2]=f>>16&255;this.hw(e,k,c,d,h);a.getData();this.Pn=a.Y5();return!0},uf:function(a,c){this.md.push({Aj:a,Ah:c})},$T:function(a){for(var c=this.md,d=0;d<c.length;d++)c[d].Ah==a&&c.splice(d,1)},Ed:function(){for(var a=this.md,c=0,d=a.length;c<d;c++){var e=a[c];e.Aj.call(e.Ah,this)}a.length=0}});
p.KL=p.sa.extend({ka:null,ec:!1,qc:null,md:null,ctor:function(){this.ka=p.Rl();this.ec=!1;this.qc=null;this.md=[]},Jo:function(){return this.ka.wa},Io:function(){return this.ka.ja},e:function(){var a=p.hd();return p.size(this.ka.wa/a,this.ka.ja/a)},SQ:function(){return this.ka},af:function(a){a&&(this.qc=a)},WQ:function(){return this.qc},fg:function(){return this.ec},ce:function(){this.ec=!0;var a=this.qc;this.ka.wa=a.width;this.ka.ja=a.height;this.Ed()},description:function(){return"\x3ccc.Texture2D | width \x3d "+
this.ka.wa+" height "+this.ka.ja+"\x3e"},hw:function(){return!1},MB:function(){return!1},Gk:function(){return!1},tC:function(){},getName:function(){return null},bR:function(){return 1},iV:function(){},cR:function(){return 1},jV:function(){},xB:function(){return null},lg:function(){},Pr:function(){return!1},QR:function(){return!1},RT:function(){},yS:function(a){return a},wQ:function(){},yQ:function(){},$R:function(){return!1},GH:function(){return!1},dS:function(){return!0},GV:function(){},OI:function(){},
NI:function(){},generateMipmap:function(){},dW:function(){return""},zG:function(){return-1},uf:function(a,c){this.md.push({Aj:a,Ah:c})},$T:function(a){for(var c=this.md,d=0;d<c.length;d++)c[d].Ah==a&&c.splice(d,1)},Ed:function(){for(var a=this.md,c=0,d=a.length;c<d;c++){var e=a[c];e.Aj.call(e.Ah,this)}a.length=0}});p.Pb=p.va.xc?p.LL:p.KL;p.Pb.e9=function(a){p.Vy=a};p.Pb.iQ=function(){return p.Vy};p.Pb.j2=function(){return p.Vy};p.Dr=null;p.G6=function(a){if(p.ZP(a)==p.JK)p.log("unsupported format:"+a);else{var c=new Image;c.src=a;c.addEventListener("load",function(){p.Na.d().GP(a,c);this.removeEventListener("load",arguments.callee,!1)},!1)}};p.ZP=function(a){return 0<a.toLowerCase().indexOf(".jpg")||0<a.toLowerCase().indexOf(".jpeg")?p.FX:0<a.toLowerCase().indexOf(".png")?p.GX:0<a.toLowerCase().indexOf(".webp")?p.IX:p.JK};
p.Na=p.sa.extend({cb:null,er:null,pv:null,zF:!1,Eu:null,Fu:null,ctor:function(){if(p.Dr)throw"Attempted to allocate a second instance of a singleton.";this.pv+=0|1E3*Math.random();this.cb={};this.er={};p.ed===p.Vj&&(this.Eu={},this.Fu={})},yy:function(a,c){if(a&&"string"===typeof c)a[c]();else a&&"function"===typeof c&&c.call(a)},qN:function(){this.zF=!0;var a,c=this.Eu,d=this.cb;for(a in c){var e=c[a],f=new p.Pb;f.af(e);f.ce();d[a]=f}this.Eu={}},D_:function(){p.log("TextureCache:addPVRTCImage does not support on HTML5")},
y_:function(){p.log("TextureCache:addPVRTCImage does not support on HTML5")},description:function(){return"\x3cTextureCache | Number of textures \x3d "+this.cb.length+"\x3e"},ex:function(a){a=p.jd.d().Vd(a);return this.cb.hasOwnProperty(a)?this.cb[a]:null},YQ:function(a){for(var c in this.cb)if(this.cb[c]==a)return c;return null},$M:function(){this.pv++;return"_textureKey_"+this.pv},pH:function(a){var c=this.YQ(a);c||(c=a instanceof HTMLImageElement?a.src:this.$M());this.er.hasOwnProperty(c)||(this.er[c]=
p.Fo(a));return this.er[c]},C_:function(a){if(!a)throw"cc.TextureCache.addPVRImage(): path should be non-null";a=p.jd.d().Vd(a);if(null!=this.cb[a])return this.cb[a];var c=new p.Pb;c.GH(a)?this.cb[a]=c:p.log("cocos2d: Couldn't add PVRImage:"+a+" in TextureCache");return c},o8:function(){var a=this.cb,c;for(c in a)a[c]&&a[c].tC();this.cb={}},D8:function(a){if(a){var c=this.cb,d;for(d in c)c[d]==a&&(c[d].tC(),delete c[d])}},dU:function(a){null!=a&&(a=p.jd.d().Vd(a),this.cb[a]&&delete this.cb[a])},z_:function(a,
c,d){if(!a)throw"cc.TextureCache.addImageAsync(): path should be non-null";a=p.jd.d().Vd(a);var e=this.cb[a],f,g;if(e)e.fg()?this.yy(c,d):(g=this,f=e.qc,f.addEventListener("load",function(){e.ce();g.yy(c,d);this.removeEventListener("load",arguments.callee,!1)}));else{f=new Image;f.crossOrigin="Anonymous";g=this;f.addEventListener("load",function(){g.cb.hasOwnProperty(a)&&g.cb[a].ce();g.yy(c,d);this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});
f.addEventListener("error",function(){p.Ob.d().Am(a);g.cb.hasOwnProperty(a)&&delete g.cb[a];this.removeEventListener("error",arguments.callee,!1)});f.src=a;var h=new p.Pb;h.af(f);this.cb[a]=h}return this.cb[a]},jM:function(a){var c=new Image;c.crossOrigin="Anonymous";var d=this;c.addEventListener("load",function(){p.Ob.d().Kh();d.Eu[a]=c;delete d.Fu[a];this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});c.addEventListener("error",function(){p.Ob.d().Am(a);
delete d.Fu[a];this.removeEventListener("error",arguments.callee,!1)});c.src=a;this.Fu[a]=c},Kb:function(a){if(!a)throw"cc.Texture.addImage(): path should be non-null";if(p.ed===p.Vj&&!this.zF)return this.jM(a);a=p.jd.d().Vd(a);var c=this.cb[a],d;if(c)c.fg()?p.Ob.d().Kh():(d=c.qc,d.addEventListener("load",function(){c.ce();p.Ob.d().Kh();this.removeEventListener("load",arguments.callee,!1)}));else{d=new Image;d.crossOrigin="Anonymous";var e=this;d.addEventListener("load",function(){p.Ob.d().Kh();e.cb.hasOwnProperty(a)&&
e.cb[a].ce();this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});d.addEventListener("error",function(){p.Ob.d().Am(a);e.cb.hasOwnProperty(a)&&delete e.cb[a];this.removeEventListener("error",arguments.callee,!1)});d.src=a;var f=new p.Pb;f.af(d);this.cb[a]=f}return this.cb[a]},GP:function(a,c){if(c instanceof p.Pb)this.cb[a]=c;else{var d=new p.Pb;d.af(c);d.ce();this.cb[a]=d}},I_:function(a,c){if(!a)throw"cc.Texture.addUIImage(): image should be non-null";
if(c&&this.cb.hasOwnProperty(c)&&this.cb[c])return this.cb[c];var d=new p.Pb;d.MB(a);null!=c&&null!=d?this.cb[c]=d:p.log("cocos2d: Couldn't add UIImage in TextureCache");return d},U0:function(){var a=0,c=0,d=this.cb,e;for(e in d){var f=d[e];a++;f.qc instanceof HTMLImageElement?p.log("cocos2d: '"+e+"' id\x3d"+f.qc.src+" "+f.Jo()+" x "+f.Io()):p.log("cocos2d: '"+e+"' id\x3d HTMLCanvasElement "+f.Jo()+" x "+f.Io());c+=f.Jo()*f.Io()*4}d=this.er;for(e in d){var f=d[e],g;for(g in f){var h=f[g];a++;p.log("cocos2d: '"+
e+"' id\x3d HTMLCanvasElement "+h.width+" x "+h.height);c+=h.width*h.height*4}}p.log("cocos2d: TextureCache dumpDebugInfo: "+a+" textures, HTMLCanvasElement for "+c/1024+" KB ("+(c/1048576).toFixed(2)+" MB)")}});p.Na.d=function(){p.Dr||(p.Dr=new p.Na);return p.Dr};p.Na.FT=function(){p.Dr=null};p.ln=p.sa.extend({Zc:null,$h:null,xa:!1,Nc:0,ta:null,re:null,Uf:null,Nq:null,Vf:null,ctor:function(){this.$h=[]},G4:function(){return this.Ha},T1:function(){return this.Nc},T:function(){return this.ta},Y:function(a){this.ta=a},kg:function(a){this.xa=a},PH:function(){return this.xa},Q3:function(){return this.re},h$:function(a){this.re=a},LZ:function(a,c){if(a)for(var d=0;d<a.length;d++)this.dv(a[d],c+d)},dv:function(a,c){var d=this.re;d[c]?(d[c].ya=a.ya,d[c].Ia=a.Ia,d[c].Ga=a.Ga,d[c].Ca=a.Ca):d[c]=
new p.Sb(a.Ga,a.ya,a.Ca,a.Ia,this.Uf,c*p.Sb.BYTES_PER_ELEMENT)},description:function(){return"\x3ccc.TextureAtlas | totalQuads \x3d"+this.Ha+"\x3e"},MF:function(){if(0!==this.Nc)for(var a=this.Zc,c=this.Nc,d=0;d<c;d++)p.lE?(a[6*d+0]=4*d+0,a[6*d+1]=4*d+0,a[6*d+2]=4*d+2,a[6*d+3]=4*d+1,a[6*d+4]=4*d+3,a[6*d+5]=4*d+3):(a[6*d+0]=4*d+0,a[6*d+1]=4*d+1,a[6*d+2]=4*d+2,a[6*d+3]=4*d+3,a[6*d+4]=4*d+2,a[6*d+5]=4*d+1)},NO:function(){var a=p.O;this.$h[0]=a.createBuffer();this.$h[1]=a.createBuffer();this.Nq=a.createBuffer();
this.lF()},lF:function(){var a=p.O;a.bindBuffer(a.ARRAY_BUFFER,this.Nq);a.bufferData(a.ARRAY_BUFFER,this.Uf,a.DYNAMIC_DRAW);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.$h[1]);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.Zc,a.STATIC_DRAW)},yi:function(a,c){var d=p.Na.d().Kb(a);if(d)return this.Aa(d,c);p.log("cocos2d: Could not open file: "+a);return!1},Aa:function(a,c){if(!a)throw"cc.TextureAtlas.initWithTexture():texture should be non-null";this.Nc=c|=0;this.Ha=0;this.ta=a;this.re=[];this.Zc=new Uint16Array(6*
c);var d=p.Sb.BYTES_PER_ELEMENT;this.Uf=new ArrayBuffer(d*c);this.Vf=new Uint8Array(this.Uf);if((!this.re||!this.Zc)&&0<c)return!1;for(var e=this.re,f=0;f<c;f++)e[f]=new p.Sb(null,null,null,null,this.Uf,f*d);this.MF();this.NO();return this.xa=!0},jx:function(a,c){if(!a)throw"cc.TextureAtlas.updateQuad(): quad should be non-null";if(0>c||c>=this.Nc)throw"cc.TextureAtlas.updateQuad(): Invalid index";this.Ha=Math.max(c+1,this.Ha);this.dv(a,c);this.xa=!0},SB:function(a,c){if(c>=this.Nc)throw"cc.TextureAtlas.insertQuad(): Invalid index";
this.Ha++;if(this.Ha>this.Nc)p.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");else{var d=p.Sb.BYTES_PER_ELEMENT,e=c*d,f=(this.Ha-1-c)*d;this.re[this.Ha-1]=new p.Sb(null,null,null,null,this.Uf,(this.Ha-1)*d);this.Vf.set(this.Vf.subarray(e,e+f),e+d);this.dv(a,c);this.xa=!0}},v5:function(a,c,d){d=d||a.length;if(c+d>this.Nc)throw"cc.TextureAtlas.insertQuad(): Invalid index + amount";var e=p.Sb.BYTES_PER_ELEMENT;this.Ha+=d;if(this.Ha>this.Nc)p.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");
else{var f=c*e,g=(this.Ha-1-c-d)*e,h=this.Ha-1-d,k;for(k=0;k<d;k++)this.re[h+k]=new p.Sb(null,null,null,null,this.Uf,(this.Ha-1)*e);this.Vf.set(this.Vf.subarray(f,f+g),f+e*d);for(k=0;k<d;k++)this.dv(a[k],c+k);this.xa=!0}},u5:function(a,c){if(a!==c){if(0>c&&c>=this.Ha)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid newIndex";if(0>a&&a>=this.Ha)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid fromIndex";var d=p.Sb.BYTES_PER_ELEMENT,e=this.Vf,f=e.subarray(a*d,d),g;a>c?(g=c*d,e.set(e.subarray(g,
g+(a-c)*d),g+d),e.set(f,g)):(g=(a+1)*d,e.set(e.subarray(g,g+(c-a)*d),g-d),e.set(f,c*d));this.xa=!0}},bU:function(a){if(a>=this.Ha)throw"cc.TextureAtlas.removeQuadAtIndex(): Invalid index";var c=p.Sb.BYTES_PER_ELEMENT;this.Ha--;this.re.length=this.Ha;if(a!==this.Ha){var d=(a+1)*c;this.Vf.set(this.Vf.subarray(d,d+(this.Ha-a)*c),d-c)}this.xa=!0},v8:function(a,c){if(a+c>this.Ha)throw"cc.TextureAtlas.removeQuadsAtIndex(): index + amount out of bounds";this.Ha-=c;if(a!==this.Ha){var d=p.Sb.BYTES_PER_ELEMENT,
e=(a+c)*d;this.Vf.set(this.Vf.subarray(e,e+(this.Ha-a)*d),a*d)}this.xa=!0},WT:function(){this.Ha=this.re.length=0},i_:function(a){this.xa=a},hU:function(a){if(a==this.Nc)return!0;var c=p.Sb.BYTES_PER_ELEMENT,d=this.Nc;this.Ha=Math.min(this.Ha,a);var e=this.Nc=0|a,f=this.Ha;if(null==this.re)for(this.re=[],this.Uf=new ArrayBuffer(c*e),this.Vf=new Uint8Array(this.Uf),a=0;a<e;a++)this.re=new p.Sb(null,null,null,null,this.Uf,a*c);else{var g,h,k=this.re;if(e>d){g=[];h=new ArrayBuffer(c*e);for(a=0;a<f;a++)g[a]=
new p.Sb(k[a].Ga,k[a].ya,k[a].Ca,k[a].Ia,h,a*c);for(;a<e;a++)g[a]=new p.Sb(null,null,null,null,h,a*c)}else for(f=Math.max(f,e),g=[],h=new ArrayBuffer(c*e),a=0;a<f;a++)g[a]=new p.Sb(k[a].Ga,k[a].ya,k[a].Ca,k[a].Ia,h,a*c);this.Vf=new Uint8Array(h);this.re=g;this.Uf=h}null==this.Zc?this.Zc=new Uint16Array(6*e):e>d?(c=new Uint16Array(6*e),c.set(this.Zc,0),this.Zc=c):this.Zc=this.Zc.subarray(0,6*e);this.MF();this.lF();return this.xa=!0},m5:function(a){this.Ha+=a},R6:function(a,c,d){if(2==arguments.length){d=
c;c=this.Ha-a;if(d+(this.Ha-a)>this.Nc)throw"cc.TextureAtlas.moveQuadsFromIndex(): move is out of bounds";if(0===c)return}else{if(d+c>this.Ha)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid newIndex";if(a>=this.Ha)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid oldIndex";if(a==d)return}var e=p.Sb.BYTES_PER_ELEMENT,f=a*e,g=c*e,h=this.Vf,k=h.subarray(f,f+g),l=d*e,m;d<a?(m=d*e,h.set(h.subarray(m,m+(a-d)*e),m+g)):(m=(a+c)*e,h.set(h.subarray(m,m+(d-a)*e),f));h.set(k,l);this.xa=!0},r1:function(a,
c){for(var d=c*p.Sb.BYTES_PER_ELEMENT,e=new Uint8Array(this.Uf,a*p.Sb.BYTES_PER_ELEMENT,d),f=0;f<d;f++)e[f]=0},OG:function(a,c){c=c||0;if(0!==a&&this.ta&&this.ta.fg()){var d=p.O;p.cg(this.ta);p.Yd(p.Lt);d.bindBuffer(d.ARRAY_BUFFER,this.Nq);this.xa&&d.bufferData(d.ARRAY_BUFFER,this.Uf,d.DYNAMIC_DRAW);d.vertexAttribPointer(p.me,3,d.FLOAT,!1,24,0);d.vertexAttribPointer(p.Hp,4,d.UNSIGNED_BYTE,!0,24,12);d.vertexAttribPointer(p.Ip,2,d.FLOAT,!1,24,16);this.xa&&(this.xa=!1);d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,
this.$h[1]);p.lE?d.drawElements(d.TRIANGLE_STRIP,6*a,d.UNSIGNED_SHORT,6*c*this.Zc.BYTES_PER_ELEMENT):d.drawElements(d.TRIANGLES,6*a,d.UNSIGNED_SHORT,6*c*this.Zc.BYTES_PER_ELEMENT);p.Bh++}},zQ:function(){this.OG(this.Ha,0)},f_:function(){var a=p.O;this.$h&&(this.$h[0]&&a.deleteBuffer(this.$h[0]),this.$h[1]&&a.deleteBuffer(this.$h[1]));this.Nq&&a.deleteBuffer(this.Nq)}});p.ln.create=function(a,c){var d=new p.ln;return d&&d.yi(a,c)?d:null};p.ln.Hc=function(a,c){var d=new p.ln;return d&&d.Aa(a,c)?d:null};p.Ap=p.F.extend({ctor:function(){p.F.prototype.ctor.call(this);this.jk=!0;this.ea(0.5,0.5);this.ba(p.P.d().Gb)}});p.Ap.create=function(){return new p.Ap};p.fy=0;p.cZ=1;
p.yc=p.F.extend({lk:!1,kk:!1,Rn:!1,yk:0,mr:p.fy,El:!1,$n:0,ctor:function(){p.F.prototype.ctor.call(this);this.Rn=this.kk=this.lk=!1;this.yk=0;this.mr=p.fy;this.El=!1;this.$n=0},hN:function(){this.ea(0.5,0.5);this.jk=!0;var a=p.P.d();this.ba(a.Gb)},r:function(){p.F.prototype.r.call(this);this.hN();return!0},Dw:function(){this.mr===p.fy?p.QT(this,this.yk):p.rC(this.yk,!0,this)},R5:function(){return this.El},Ow:function(a){if(!p.Cd)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.El!=
a&&(this.El=a,this.ue&&(a?p.P.d().Ze().rG(this,this.$n):p.P.d().Ze().DI(this)))},N9:function(a){if(!p.Cd)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.$n!==a&&(this.$n=a,this.El&&(this.Ow(!1),this.Ow(!0)))},i3:function(){return this.$n},k6:function(){return this.lk},Rb:function(a){this.lk!==a&&(this.lk=a,this.ue&&(a?this.Dw():p.RJ(this)))},K4:function(){return this.yk},kp:function(a){this.yk!==a&&(this.yk=a,this.lk&&(this.Rb(!1),this.Rb(!0)))},J4:function(){return this.mr},
QC:function(a){this.mr!==a&&(this.mr=a,this.lk&&(this.Rb(!1),this.Rb(!0)))},A5:function(){return this.kk},N8:function(a){if(!p.Pj)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";if(a!==this.kk&&(this.kk=a,this.ue)){var c=p.P.d();a?c.Go().Xg(this):c.Go().Xg(null)}},AU:function(a){this.kk&&p.Pj&&p.P.d().Go().AU(a)},i7:function(){p.log("onAccelerometer event should be handled.")},Q5:function(){return this.Rn},E9:function(a){if(!p.cn)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";
if(a!==this.Rn&&(this.Rn=a,this.ue)){var c=p.P.d();a?c.Zv().qP(this):c.Zv().YT(this)}},ig:function(){var a=p.P.d();this.lk&&this.Dw();p.F.prototype.ig.call(this);this.kk&&p.Pj&&a.Go().Xg(this);this.Rn&&p.cn&&a.Zv().qP(this);this.El&&p.Cd&&a.Ze().rG(this,this.$n)},td:function(){var a=p.P.d();this.lk&&p.RJ(this);this.kk&&p.Pj&&a.Go().Xg(null);this.Rn&&p.cn&&a.Zv().YT(this);this.El&&p.Cd&&a.Ze().DI(this);p.F.prototype.td.call(this)},Ih:function(){this.kk&&p.Pj&&p.P.d().Go().Xg(this);p.F.prototype.Ih.call(this)},
zb:function(){p.log("onTouchBegan event should be handled.");return!0},Vc:function(){},cf:function(){},Fj:function(){},gI:function(){},jI:function(){},iI:function(){},hI:function(){},TS:function(){return!1},US:function(){return!1},Jh:function(){return!1},XS:function(){return!1},aT:function(){return!1},bT:function(){return!1},cT:function(){return!1},YS:function(){return!1},ZS:function(){return!1},$S:function(){return!1},dT:function(){return!1},VS:function(){return!1},WS:function(){return!1},cC:function(){},
Qk:function(){}});p.yc.create=function(){var a=new p.yc;return a&&a.r()?a:null};
p.bh=p.yc.extend({Va:!0,Nb:0,Wf:0,pc:null,Ld:null,Fd:!1,Xc:!1,ctor:function(){p.yc.prototype.ctor.call(this);this.Va=!0;this.Wf=this.Nb=255;this.pc=p.kb();this.Ld=p.kb();this.Xc=this.Fd=!1},r:function(){return p.yc.prototype.r.call(this)?(this.TI(!1),this.SI(!1),!0):!1},vi:function(){return this.Wf},TQ:function(){return this.Nb},X:function(a){this.Nb=this.Wf=a;a=255;var c=this.$;c&&c.Va&&c.Fd&&(a=c.Nb);this.Kc(a)},Kc:function(a){this.Nb=0|this.Wf*a/255;if(this.Fd){a=this.o;for(var c=0;c<a.length;c++){var d=
a[c];d&&d.Va&&d.Kc(this.Nb)}}},sS:function(){return this.Fd},TI:function(a){this.Fd!==a&&((this.Fd=a)?this.jq():this.cz())},jq:function(){var a=255,c=this.$;c&&c.Va&&c.Fd&&(a=c.Nb);this.Kc(a)},cz:function(){this.Nb=this.Wf;for(var a=this.o,c=0;c<a.length;c++){var d=a[c];d&&d.Va&&d.Kc(255)}},cd:function(){var a=this.Ld;return p.i(a.h,a.g,a.f)},Fr:function(){var a=this.pc;return p.i(a.h,a.g,a.f)},k:function(a){var c=this.pc,d=this.Ld;c.h=d.h=a.h;c.g=d.g=a.g;c.f=d.f=a.f;a=(a=this.$)&&a.Va&&a.Xc?a.Fr():
p.kb();this.Jc(a)},Jc:function(a){var c=this.pc,d=this.Ld;c.h=0|d.h*a.h/255;c.g=0|d.g*a.g/255;c.f=0|d.f*a.f/255;if(this.Xc)for(a=this.o,d=0;d<a.length;d++){var e=a[d];e&&e.Va&&e.Jc(c)}},rS:function(){return this.Xc},SI:function(a){this.Xc!==a&&((this.Xc=a)?this.iq():this.bz())},iq:function(){var a;a=(a=this.$)&&a.Va&&a.Xc?a.Fr():p.kb();this.Jc(a)},bz:function(){var a=this.pc,c=this.Ld;a.h=c.h;a.g=c.g;a.f=c.f;for(var a=this.o,c=p.kb(),d=0;d<a.length;d++){var e=a[d];e&&e.Va&&e.Jc(c)}},p:function(a,
c,d){p.F.prototype.p.call(this,a,c,d);this.Xc&&this.iq();this.Fd&&this.jq()},ef:function(){},Ik:function(){return!1}});
p.Eb=p.bh.extend({W:null,Er:function(){return this.W},t0:function(a,c){this.ba(a,c)},AG:function(a){this.ba(a,this.ka.ja)},q0:function(a){this.ba(this.ka.wa,a)},ef:function(){},Ik:function(){return!1},k:function(a){p.bh.prototype.k.call(this,a);this.ad()},X:function(a){p.bh.prototype.X.call(this,a);this.ad()},Sn:!1,QF:null,vA:null,OA:null,Qy:null,xA:null,wA:null,gh:function(){p.bh.prototype.ctor.call(this);this.W=new p.il(p.je,p.ie)},hh:function(){p.bh.prototype.ctor.call(this);this.W=new p.il(p.je,
p.ie);this.xA=new ArrayBuffer(32);this.wA=new ArrayBuffer(64);var a=this.xA,c=this.wA,d=p.nb.BYTES_PER_ELEMENT,e=p.Ad.BYTES_PER_ELEMENT;this.QF=[new p.nb(0,0,a,0),new p.nb(0,0,a,d),new p.nb(0,0,a,2*d),new p.nb(0,0,a,3*d)];this.vA=[new p.Ad(0,0,0,1,c,0),new p.Ad(0,0,0,1,c,e),new p.Ad(0,0,0,1,c,2*e),new p.Ad(0,0,0,1,c,3*e)];this.OA=p.O.createBuffer();this.Qy=p.O.createBuffer()},Uk:function(a,c){this.W=1==arguments.length?a:{src:a,sb:c};p.ed===p.If&&(this.Sn=this.W&&1==this.W.src&&771==this.W.sb)},r:function(a,
c,d){if(!p.yc.prototype.r.call(this))return!1;p.ed!==p.If&&this.lg(p.eh.d().Lh(p.zL));var e=p.P.d().Gb;a=a||new p.Db(0,0,0,255);c=c||e.width;d=d||e.height;e=this.pc;e.h=a.h;e.g=a.g;e.f=a.f;e=this.Ld;e.h=a.h;e.g=a.g;e.f=a.f;this.Wf=this.Nb=a.C;this.ba(c,d);this.ad();return!0},ba:null,sO:function(a,c){var d=this.QF;2===arguments.length?(d[1].x=a,d[2].y=c,d[3].x=a,d[3].y=c,this.HE(),p.yc.prototype.ba.call(this,a,c)):(d[1].x=a.width,d[2].y=a.height,d[3].x=a.width,d[3].y=a.height,this.HE(),p.yc.prototype.ba.call(this,
a))},ad:null,cP:function(){},dP:function(){for(var a=this.pc,c=this.Nb,d=this.vA,e=0;4>e;e++)d[e].h=a.h/255,d[e].g=a.g/255,d[e].f=a.f/255,d[e].C=c/255;this.GE()},Jc:function(a){p.bh.prototype.Jc.call(this,a);this.ad()},Kc:function(a){p.bh.prototype.Kc.call(this,a);this.ad()},HE:function(){var a=p.O;a.bindBuffer(a.ARRAY_BUFFER,this.OA);a.bufferData(a.ARRAY_BUFFER,this.xA,a.STATIC_DRAW)},GE:function(){var a=p.O;a.bindBuffer(a.ARRAY_BUFFER,this.Qy);a.bufferData(a.ARRAY_BUFFER,this.wA,a.STATIC_DRAW)},
Ja:null,yl:function(a){a=a||p.O;var c=this.e(),d=p.ia.d(),e=this.pc;a.fillStyle="rgba("+(0|e.h)+","+(0|e.g)+","+(0|e.f)+","+this.Nb/255+")";a.fillRect(0,0,c.width*d.la,-c.height*d.qa);p.Bh++},Rf:function(a){a=a||p.O;p.Ox(this);p.Yd(p.ug|p.TL);a.bindBuffer(a.ARRAY_BUFFER,this.OA);a.vertexAttribPointer(p.me,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Qy);a.vertexAttribPointer(p.Hp,4,a.FLOAT,!1,0,0);p.Bj(this.W.src,this.W.sb);a.drawArrays(a.TRIANGLE_STRIP,0,4)}});
p.va.xc?(p.Eb.prototype.ctor=p.Eb.prototype.hh,p.Eb.prototype.ba=p.Eb.prototype.sO,p.Eb.prototype.ad=p.Eb.prototype.dP,p.Eb.prototype.Ja=p.Eb.prototype.Rf):(p.Eb.prototype.ctor=p.Eb.prototype.gh,p.Eb.prototype.ba=p.bh.prototype.ba,p.Eb.prototype.ad=p.Eb.prototype.cP,p.Eb.prototype.Ja=p.Eb.prototype.yl);p.Eb.create=function(a,c,d){var e=new p.Eb;switch(arguments.length){case 0:e.r();break;case 1:e.r(a);break;case 3:e.r(a,c,d);break;default:e.r()}return e};
p.JD=p.Eb.extend({RF:null,Ln:null,ko:null,Mn:null,ql:null,eu:!1,uq:null,tq:null,ctor:function(){p.Eb.prototype.ctor.call(this);this.RF=new p.lc(0,0,0);this.Ln=new p.lc(0,0,0);this.ql=p.a(0,-1);this.Mn=this.ko=255;this.uq=p.a(0,0);this.tq=p.a(0,0)},ba:function(a,c){2===arguments.length?p.Eb.prototype.ba.call(this,a,c):p.Eb.prototype.ba.call(this,a);this.ad()},o4:function(){return this.Ld},x$:function(a){this.k(a)},l9:function(a){this.Ln=a;this.ad()},s2:function(){return this.Ln},y$:function(a){this.ko=
a;this.ad()},p4:function(){return this.ko},m9:function(a){this.Mn=a;this.ad()},t2:function(){return this.Mn},Q$:function(a){this.ql.x=a.x;this.ql.y=a.y;this.ad()},O4:function(){return p.a(this.ql.x,this.ql.y)},F5:function(){return this.eu},b9:function(a){this.eu=a;this.ad()},r:function(a,c,d){a=a||p.cB(0,0,0,255);c=c||p.cB(0,0,0,255);d=d||p.a(0,-1);var e=this.RF,f=this.Ln;e.h=a.h;e.g=a.g;e.f=a.f;this.ko=a.C;f.h=c.h;f.g=c.g;f.f=c.f;this.Mn=c.C;this.ql=d;this.eu=!0;p.Eb.prototype.r.call(this,p.J(a.h,
a.g,a.f,255));return!0},Ja:function(a){if(p.ed===p.Vj)p.Eb.prototype.Ja.call(this,a);else{a=a||p.O;this.Sn&&(a.globalCompositeOperation="lighter");a.save();var c=p.ia.d(),d=this.Nb/255,e=this.e().width*c.la,c=this.e().height*c.qa,f=a.createLinearGradient(this.uq.x,this.uq.y,this.tq.x,this.tq.y),g=this.pc,h=this.Ln;f.addColorStop(0,"rgba("+Math.round(g.h)+","+Math.round(g.g)+","+Math.round(g.f)+","+(this.ko/255*d).toFixed(4)+")");f.addColorStop(1,"rgba("+Math.round(h.h)+","+Math.round(h.g)+","+Math.round(h.f)+
","+(this.Mn/255*d).toFixed(4)+")");a.fillStyle=f;a.fillRect(0,0,e,-c);0!=this.jO&&a.rotate(this.g_);a.restore()}},ad:function(){var a=this.ql;if(p.ed===p.If){var c=0.5*this.e().width,d=0.5*this.e().height;this.uq.x=c*-a.x+c;this.uq.y=d*a.y-d;this.tq.x=c*a.x+c;this.tq.y=d*-a.y-d}else if(d=p.fC(a),0!==d){c=Math.sqrt(2);a=p.a(a.x/d,a.y/d);this.eu&&(a=p.Ai(a,1/(Math.abs(a.x)+Math.abs(a.y))*c));var e=this.Nb/255,f=this.pc,g=this.Ln,d=f.h/255,h=f.g/255,f=f.f/255,k=this.ko*e/255,l=g.h/255,m=g.g/255,g=g.f/
255,e=this.Mn*e/255,n=this.vA,s=n[0],q=n[1],v=n[2],n=n[3];s.h=l+(c+a.x+a.y)/(2*c)*(d-l);s.g=m+(c+a.x+a.y)/(2*c)*(h-m);s.f=g+(c+a.x+a.y)/(2*c)*(f-g);s.C=e+(c+a.x+a.y)/(2*c)*(k-e);q.h=l+(c-a.x+a.y)/(2*c)*(d-l);q.g=m+(c-a.x+a.y)/(2*c)*(h-m);q.f=g+(c-a.x+a.y)/(2*c)*(f-g);q.C=e+(c-a.x+a.y)/(2*c)*(k-e);v.h=l+(c+a.x-a.y)/(2*c)*(d-l);v.g=m+(c+a.x-a.y)/(2*c)*(h-m);v.f=g+(c+a.x-a.y)/(2*c)*(f-g);v.C=e+(c+a.x-a.y)/(2*c)*(k-e);n.h=l+(c-a.x-a.y)/(2*c)*(d-l);n.g=m+(c-a.x-a.y)/(2*c)*(h-m);n.f=g+(c-a.x-a.y)/(2*c)*
(f-g);n.C=e+(c-a.x-a.y)/(2*c)*(k-e);this.GE()}}});p.JD.create=function(a,c,d){var e=new p.JD;switch(arguments.length){case 2:if(e&&e.r(a,c))return e;break;case 3:if(e&&e.r(a,c,d))return e;break;case 0:if(e&&e.r())return e;break;default:throw"Arguments error ";}return null};
p.KD=p.yc.extend({ek:0,yg:null,r5:function(a){this.yg=[];this.yg.push(a);this.ek=0;this.p(a);return!0},bS:function(a){this.yg=a;this.ek=0;this.p(this.yg[this.ek]);return!0},vaa:function(a){a>=this.yg.length?p.log("cc.LayerMultiplex.switchTo():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.yg[this.ek],!0),this.ek=a,this.p(this.yg[a]))},waa:function(a){a>=this.yg.length?p.log("cc.LayerMultiplex.switchToAndReleaseMe():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.yg[this.ek],
!0),this.yg[this.ek]=null,this.ek=a,this.p(this.yg[a]))},A_:function(a){a?this.yg.push(a):p.log("cc.Layer.addLayer(): layer should be non-null")}});p.KD.create=function(){0<arguments.length&&null==arguments[arguments.length-1]&&p.log("parameters should not be ending with null in Javascript");var a=new p.KD;return a.bS(arguments)?a:null};p.$x=-1;
p.Fo=function(a){function c(){var c=p.Fo,e=a.width,h=a.height;d[0].width=e;d[0].height=h;d[1].width=e;d[1].height=h;d[2].width=e;d[2].height=h;d[3].width=e;d[3].height=h;c.canvas.width=e;c.canvas.height=h;var k=c.canvas.getContext("2d");k.drawImage(a,0,0);c.$C.width=e;c.$C.height=h;for(var k=k.getImageData(0,0,e,h).data,l=0;4>l;l++){var m=d[l].getContext("2d");m.getImageData(0,0,e,h).data;c.NJ.drawImage(a,0,0);for(var n=c.NJ.getImageData(0,0,e,h),s=n.data,q=0;q<k.length;q+=4)s[q]=0===l?k[q]:0,s[q+
1]=1===l?k[q+1]:0,s[q+2]=2===l?k[q+2]:0,s[q+3]=k[q+3];m.putImageData(n,0,0)}a.onload=null}if(a.hasOwnProperty("channelCache"))return a.TP;var d=[document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas")];try{c()}catch(e){a.onload=c}return a.TP=d};p.Fo.canvas=document.createElement("canvas");p.Fo.$C=document.createElement("canvas");p.Fo.NJ=p.Fo.$C.getContext("2d");
p.A1=function(a,c,d){d||(d=p.rect(0,0,a.width,a.height),d=p.yp(d));c=c instanceof p.Ad?p.J(255*c.h,255*c.g,255*c.f,255*c.C):p.J(c.h,c.g,c.f,50);var e=document.createElement("canvas"),f=e.getContext("2d");e.width!=d.width&&(e.width=d.width);e.height!=d.height&&(e.height=d.height);f.save();f.drawImage(a,d.x,d.y,d.width,d.height,0,0,d.width,d.height);f.globalCompositeOperation="source-in";f.globalAlpha=c.C/255;f.fillStyle="rgb("+c.h+","+c.g+","+c.f+")";f.fillRect(0,0,d.width,d.height);f.restore();return e};
p.qB=function(a,c,d,e,f){e||(e=p.rect(0,0,a.width,a.height));a=null==d.C?p.Hv(d.h/255,d.g/255,d.f/255,1):d;d=Math.min(e.width,c[0].width);var g=Math.min(e.height,c[0].height),h;f?(h=f.getContext("2d"),h.clearRect(0,0,d,g)):(f=document.createElement("canvas"),f.width=d,f.height=g,h=f.getContext("2d"));h.save();h.globalCompositeOperation="lighter";var k=h.globalAlpha;0<a.h&&(h.globalAlpha=a.h*k,h.drawImage(c[0],e.x,e.y,d,g,0,0,d,g));0<a.g&&(h.globalAlpha=a.g*k,h.drawImage(c[1],e.x,e.y,d,g,0,0,d,g));
0<a.f&&(h.globalAlpha=a.f*k,h.drawImage(c[2],e.x,e.y,d,g,0,0,d,g));1>a.h+a.g+a.f&&(h.globalAlpha=k,h.drawImage(c[3],e.x,e.y,d,g,0,0,d,g));h.restore();return f};p.GG=function(a,c){if(!a)return null;if(!c)return a;var d=document.createElement("canvas");d.width=c.width;d.height=c.height;var e=d.getContext("2d");e.translate(d.width/2,d.height/2);e.rotate(-1.5707963267948966);e.drawImage(a,c.x,c.y,c.height,c.width,-c.height/2,-c.width/2,c.height,c.width);return d};
p.kZ=function(a,c,d,e,f,g){this.scale=c;this.rotation=d;this.Zk=e;this.visible=g};p.Kf=function(a){return 0|a};p.CL&&(p.Kf=function(a){return a});
p.w=p.lb.extend({Va:!0,Fa:null,Ec:0,Wa:null,xa:!1,lh:null,gi:null,tk:!1,am:null,W:null,ta:null,oa:null,Fc:!1,Vb:null,th:null,ac:!1,Zb:!1,$b:!1,bb:!1,md:null,sF:null,PJ:function(){return this.bb},uf:function(a,c){this.md.push({Aj:a,Ah:c})},Ed:function(){for(var a=this.md,c=0,d=a.length;c<d;c++){var e=a[c];e.Aj.call(e.Ah,this)}a.length=0},PH:function(){return this.xa},kg:function(a){this.xa=a},i6:function(){return this.Fc},H1:function(){return this.Ec},ge:function(a){this.Ec=a},zB:function(){return p.rect(this.oa.x,
this.oa.y,this.oa.width,this.oa.height)},oH:function(){return this.Fa},jp:function(a){this.Fa=a},n4:function(){return this.Wa},w$:function(a){this.Wa=a},u3:function(){return this.Vb},Er:function(){return this.W},de:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrame(): spriteFrame should be non-null";a.bb||(this.bb=!1,a.uf(this.tA,this));var c=this.Aa(a.T(),a.Xd());this.dp(a);return c},tA:null,SO:function(a){this.Ka();this.jb(a.Xd(),a.Rc,a.Qc);this.Ed()},RO:function(a){this.Ka();this.jb(a.Xd(),
a.Rc,a.Qc);a=this.cd();255===a.h&&255===a.g&&255===a.f||this.au();this.Ed()},IH:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";a=p.Mf.d().Rg(a);return this.de(a)},Waa:function(a){this.Fa=a.Fa;this.Wa=a},SC:function(a){this.oa.x=a.x;this.oa.y=a.y;this.oa.width=a.width;this.oa.height=a.height},vd:function(){if(this.Md){for(var a,c,d=this.o,e,f=1;f<d.length;f++){c=d[f];a=f-1;for(e=d[a];0<=a&&(c.Sa<e.Sa||c.Sa==e.Sa&&c.of<e.of);)d[a+1]=e,a-=1,e=d[a];d[a+
1]=c}this.Wa&&this.Of(d,p.F.jf.vd);this.Md=!1}},fs:function(a,c){if(!a)throw"cc.Sprite.reorderChild(): child should be non-null";-1===this.o.indexOf(a)?p.log("cc.Sprite.reorderChild(): this child is not in children list"):c!==a.Sa&&(this.Wa&&!this.Md&&(this.oA(),this.Wa.EI(!0)),p.F.prototype.fs.call(this,a,c))},removeChild:function(a,c){this.Wa&&this.Wa.Im(a);p.F.prototype.removeChild.call(this,a,c)},Mh:function(a){var c=this.o,d=this.Wa;if(d&&null!=c)for(var e=0,f=c.length;e<f;e++)d.Im(c[e]);p.F.prototype.Mh.call(this,
a);this.gi=!1},XI:function(a){this.lh=a;this.kg(a);a=this.o;if(null!=a)for(var c=0;c<a.length;c++)a[c]instanceof p.w&&a[c].XI(!0)},tg:function(){this.Wa&&!this.lh&&(this.xa=this.lh=!0,this.gi&&this.XI(!0))},t:function(a,c){2<=arguments.length?p.F.prototype.t.call(this,a,arguments[1]):p.F.prototype.t.call(this,a);this.tg()},Tw:function(a){p.F.prototype.Tw.call(this,a);this.tg()},Uw:function(a){p.F.prototype.Uw.call(this,a);this.tg()},Vw:function(a){p.F.prototype.Vw.call(this,a);this.tg()},Xw:function(a){p.F.prototype.Xw.call(this,
a);this.tg()},Yw:function(a){p.F.prototype.Yw.call(this,a);this.tg()},hp:function(a){p.F.prototype.hp.call(this,a);this.tg()},Om:function(a){p.F.prototype.Om.call(this,a);this.tg()},Kj:function(a,c){p.F.prototype.Kj.call(this,a,c);this.tg()},uJ:function(a){p.F.prototype.uJ.call(this,a);this.tg()},ea:function(a,c){2===arguments.length?p.F.prototype.ea.call(this,a,c):p.F.prototype.ea.call(this,a);this.tg()},v:function(a){p.F.prototype.v.call(this,a);this.tg()},xi:function(a){this.Wa?p.log("cc.Sprite.ignoreAnchorPointForPosition(): it is invalid in cc.Sprite when using SpriteBatchNode"):
p.F.prototype.xi.call(this,a)},YU:function(a){this.Zb!=a&&(this.Zb=a,this.jb(this.oa,this.Fc,this.ka),this.Ka())},ZU:function(a){this.$b!=a&&(this.$b=a,this.jb(this.oa,this.Fc,this.ka),this.Ka())},L5:function(){return this.Zb},M5:function(){return this.$b},ef:null,AO:function(a){this.ac!==a&&(this.ac=a,this.ws())},zO:function(a){this.ac!==a&&(this.ac=a,this.Ka())},Ik:function(){return this.ac},Kc:null,gP:function(a){p.lb.prototype.Kc.call(this,a);this.ws()},cG:function(a){p.lb.prototype.Kc.call(this,
a);this.Pl()},i9:function(a,c){if(!a)throw"cc.Sprite.setDisplayFrameWithAnimationName(): animationName must be non-null";var d=p.el.d().bH(a);d?(d=d.Id[c])?this.dp(d.Rg()):p.log("cc.Sprite.setDisplayFrameWithAnimationName(): Invalid frame index"):p.log("cc.Sprite.setDisplayFrameWithAnimationName(): Frame not found")},K1:function(){return this.Wa},oA:function(){if(!this.Md){this.Md=!0;for(var a=this.$;a&&a!=this.Wa;)a.oA(),a=a.getParent()}},T:function(){return this.ta},wb:null,Zu:null,Te:!1,du:!1,
Sn:!1,Sf:null,qo:null,ez:null,ctor:null,hh:function(a){p.lb.prototype.ctor.call(this);this.tk=!1;this.Vb=p.$c();this.th=p.$c();this.W={src:p.je,sb:p.ie};this.oa=p.rect(0,0,0,0);this.wb=new p.Sb;this.Zu=p.O.createBuffer();this.bb=this.Te=!0;this.md=[];if(a)if("string"===typeof a)a=p.Mf.d().Rg(a),this.de(a);else if("object"===typeof a)if(a instanceof p.kd)this.de(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new p.Pb;c.af(a);c.ce();this.Aa(c)}else a instanceof p.Pb&&
this.Aa(a)},gh:function(a){p.lb.prototype.ctor.call(this);this.tk=!1;this.Vb=p.$c();this.th=p.$c();this.W={src:p.je,sb:p.ie};this.oa=p.rect(0,0,0,0);this.sF=!1;this.bb=!0;this.md=[];this.qo={x:0,y:0,width:0,height:0,zs:!1};this.ez=p.size(0,0);if(a)if("string"===typeof a)a=p.Mf.d().Rg(a),this.de(a);else if("object"===typeof a)if(a instanceof p.kd)this.de(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new p.Pb;c.af(a);c.ce();this.Aa(c)}else a instanceof p.Pb&&this.Aa(a)},
P3:function(){return this.wb},Uk:null,oO:function(a,c){var d=this.W;1===arguments.length?(d.src=a.src,d.sb=a.sb):(d.src=a,d.sb=c)},nO:function(a,c){var d=this.W;1===arguments.length?(d.src=a.src,d.sb=a.sb):(d.src=a,d.sb=c);this.Sn=d&&(770==d.src&&1==d.sb||1==d.src&&1==d.sb)},r:null,yz:function(){if(0<arguments.length)return this.yi(arguments[0],arguments[1]);p.lb.prototype.r.call(this);this.xa=this.lh=!1;this.ac=!0;this.W.src=p.je;this.W.sb=p.ie;this.Y(null);this.bb=!0;this.Zb=this.$b=!1;this.ea(0.5,
0.5);this.Vb.B=0;this.Vb.G=0;this.gi=!1;var a={h:255,g:255,f:255,C:255};this.wb.ya.D=a;this.wb.Ia.D=a;this.wb.Ga.D=a;this.wb.Ca.D=a;this.Te=!0;this.jb(p.Mc(),!1,p.nl());return!0},xz:function(){if(0<arguments.length)return this.yi(arguments[0],arguments[1]);p.lb.prototype.r.call(this);this.xa=this.lh=!1;this.ac=!0;this.W.src=p.je;this.W.sb=p.ie;this.Y(null);this.bb=!0;this.Zb=this.$b=!1;this.ea(0.5,0.5);this.Vb.B=0;this.Vb.G=0;this.gi=!1;this.jb(p.Mc(),!1,p.nl());return!0},yi:function(a,c){if(!a)throw"cc.Sprite.initWithFile(): filename should be non-null";
var d=p.Na.d().ex(a);if(!d)d=p.Na.d().Kb(a);else if(!c){var e=d.e();c=p.rect(0,0,e.width,e.height)}return this.Aa(d,c)},Aa:null,yq:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";d=d||!1;if(!p.lb.prototype.r.call(this))return!1;this.Wa=null;this.xa=this.lh=!1;this.ac=!0;this.W.src=p.je;this.W.sb=p.ie;this.Zb=this.$b=!1;this.ea(0.5,0.5);this.Vb.B=0;this.Vb.G=0;this.gi=!1;var e=new p.Db(255,255,255,255),f=this.wb;f.ya.D=e;f.Ia.D=e;f.Ga.D=e;f.Ca.D=e;
this.bb=e=a.fg();if(!e)return this.Fc=d||!1,c&&(e=this.oa,e.x=c.x,e.y=c.y,e.width=c.width,e.height=c.height),a.uf(this.qv,this),!0;c||(e=a.e(),c=p.rect(0,0,e.width,e.height));this.Y(a);this.jb(c,d,c.Pa);this.he(null);return this.Te=!0},xq:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";d=d||!1;if(!p.lb.prototype.r.call(this))return!1;this.Wa=null;this.xa=this.lh=!1;this.ac=!0;this.W.src=p.je;this.W.sb=p.ie;this.Zb=this.$b=!1;this.ea(0.5,0.5);this.Vb.B=
0;this.Vb.G=0;this.gi=!1;var e=a.fg();this.bb=e;if(!e)return this.Fc=d||!1,c&&(this.oa.x=c.x,this.oa.y=c.y,this.oa.width=c.width,this.oa.height=c.height),a.uf(this.qv,this),!0;c||(e=a.e(),c=p.rect(0,0,e.width,e.height));this.Sf=a;this.Y(a);this.jb(c,d,c.Pa);this.he(null);return!0},qv:null,XO:function(a){if(!this.bb){this.bb=!0;var c=this.oa;if(!c)c=a.e(),c=p.rect(0,0,c.width,c.height);else if(p.Oq(c)){var d=a.e();c.width=d.width;c.height=d.height}this.Y(a);this.jb(c,this.Fc,c.Pa);this.he(null);this.Te=
!0;this.Ed()}},WO:function(a){if(!this.bb){this.bb=!0;var c=this.oa;if(!c)c=a.e(),c=p.rect(0,0,c.width,c.height);else if(p.Oq(c)){var d=a.e();c.width=d.width;c.height=d.height}this.Sf=a;this.Y(a);this.jb(c,this.Fc,c.Pa);this.he(null);this.Ed()}},jb:null,KF:function(a,c,d){this.Fc=c||!1;d=d||a.Pa;this.ba(d);this.SC(a);this.JF(a);a=this.th;this.Zb&&(a.B=-a.B);this.$b&&(a.G=-a.G);var e=this.oa;this.Vb.B=a.B+(this.ka.wa-e.width)/2;this.Vb.G=a.G+(this.ka.ja-e.height)/2;if(this.Wa)this.xa=!0;else{a=0+this.Vb.B;
c=0+this.Vb.G;d=a+e.width;var e=c+e.height,f=this.wb;f.ya.n={x:a,y:c,z:0};f.Ia.n={x:d,y:c,z:0};f.Ga.n={x:a,y:e,z:0};f.Ca.n={x:d,y:e,z:0};this.Te=!0}},pA:function(a,c,d){this.Fc=c||!1;d=d||a.Pa;this.ba(d);this.SC(a);c=this.qo;d=p.hd();c.x=0|a.x*d;c.y=0|a.y*d;c.width=0|a.width*d;c.height=0|a.height*d;c.zs=!(0===c.width||0===c.height);a=this.th;this.Zb&&(a.B=-a.B);this.$b&&(a.G=-a.G);this.Vb.B=a.B+(this.ka.wa-this.oa.width)/2;this.Vb.G=a.G+(this.ka.ja-this.oa.height)/2;this.Wa&&(this.xa=!0)},Gf:null,
oP:function(){if(this.xa){var a=this.wb,c=this.$;if(!this.pa||c&&c!=this.Wa&&c.tk)a.Ia.n={x:0,y:0,z:0},a.Ga.n={x:0,y:0,z:0},a.Ca.n={x:0,y:0,z:0},a.ya.n={x:0,y:0,z:0},this.tk=!0;else{this.tk=!1;var d=this.am=c&&c!=this.Wa?p.dl(this.Bf(),c.am):this.Bf(),e=this.oa.Pa,c=this.Vb.B,f=this.Vb.G,g=c+e.width,e=f+e.height,h=d.La,k=d.Ma,l=d.C,m=d.f,n=d.za,d=-d.ra,s=this.Cv;a.ya.n={x:p.Kf(c*l-f*d+h),y:p.Kf(c*m+f*n+k),z:s};a.Ia.n={x:p.Kf(g*l-f*d+h),y:p.Kf(g*m+f*n+k),z:s};a.Ga.n={x:p.Kf(c*l-e*d+h),y:p.Kf(c*m+e*
n+k),z:s};a.Ca.n={x:p.Kf(g*l-e*d+h),y:p.Kf(g*m+e*n+k),z:s}}this.Fa.jx(a,this.Ec);this.lh=!1;this.kg(!1)}this.gi&&this.Of(this.o,p.F.jf.Gf);p.Tj&&(a=[p.a(this.wb.ya.n.x,this.wb.ya.n.y),p.a(this.wb.Ia.n.x,this.wb.Ia.n.y),p.a(this.wb.Ca.n.x,this.wb.Ca.n.y),p.a(this.wb.Ga.n.x,this.wb.Ga.n.y)],p.wf.Pd(a,4,!0))},nP:function(){if(this.xa){var a=this.$;!this.pa||a&&a!=this.Wa&&a.tk?this.tk=!0:(this.tk=!1,this.am=a&&a!=this.Wa?p.dl(this.Bf(),a.am):this.Bf());this.xa=this.lh=!1}this.gi&&this.Of(this.o,p.F.jf.Gf)},
p:null,xy:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.Sa);null==d&&(d=a.Tc);if(this.Wa){if(!(a instanceof p.w)){p.log("cc.Sprite.addChild(): cc.Sprite only supports cc.Sprites as children when using cc.SpriteBatchNode");return}a.T().wh!==this.Fa.T().wh&&p.log("cc.Sprite.addChild(): cc.Sprite only supports a sprite using same texture as children when using cc.SpriteBatchNode");this.Wa.appendChild(a);this.Md||this.oA()}p.F.prototype.p.call(this,a,c,d);this.gi=
!0},wy:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.Sa);null==d&&(d=a.Tc);p.F.prototype.p.call(this,a,c,d);this.gi=!0},ws:function(){var a=this.pc,c=this.Nb,a={h:a.h,g:a.g,f:a.f,C:c};this.ac&&(a.h*=c/255,a.g*=c/255,a.f*=c/255);c=this.wb;c.ya.D=a;c.Ia.D=a;c.Ga.D=a;c.Ca.D=a;this.Wa&&(this.Ec!=p.$x?this.Fa.jx(c,this.Ec):this.xa=!0);this.Te=!0},X:null,nA:function(a){p.lb.prototype.X.call(this,a);this.ws()},Tq:function(a){p.lb.prototype.X.call(this,a);this.Pl()},
k:null,kA:function(a){p.lb.prototype.k.call(this,a);this.ws()},Rq:function(a){var c=this.cd();if(c.h!==a.h||c.g!==a.g||c.f!==a.f)p.lb.prototype.k.call(this,a),this.au(),this.Pl()},Jc:null,fP:function(a){p.lb.prototype.Jc.call(this,a);this.ws()},HA:function(a){var c=this.cd();p.lb.prototype.Jc.call(this,a);a=this.pc;if(c.h!==a.h||c.g!==a.g||c.f!==a.f)this.au(),this.Pl()},dp:null,uO:function(a){this.Ka();var c=a.vb;this.th.B=c.x;this.th.G=c.y;c=a.T();a.bb||(this.bb=!1,a.uf(function(a){this.bb=!0;var c=
a.T();c!=this.ta&&this.Y(c);this.jb(a.Xd(),a.Rc,a.Qc);this.Ed()},this));c!=this.ta&&this.Y(c);this.Fc=a.Rc;this.jb(a.Xd(),this.Fc,a.Qc)},tO:function(a){this.Ka();var c=a.vb;this.th.B=c.x;this.th.G=c.y;this.Fc=a.Rc;var c=a.T(),d=a.bb;d||(this.bb=!1,a.uf(function(a){this.bb=!0;var c=a.T();c!=this.ta&&this.Y(c);this.jb(a.Xd(),a.Rc,a.Qc);this.Ed()},this));c!=this.ta&&this.Y(c);this.Fc&&(this.Sf=c);this.jb(a.Xd(),this.Fc,a.Qc);this.du=!1;d&&(a=this.cd(),255===a.h&&255===a.g&&255===a.f||this.au())},RH:null,
vN:function(a){return p.yI(a.Xd(),this.oa)&&a.T().getName()==this.ta.getName()&&p.oI(a.vb,this.th)},uN:function(a){return a.T()!=this.ta?!1:p.yI(a.Xd(),this.oa)},uQ:function(){return p.kd.Hc(this.ta,p.en(this.oa),this.Fc,p.qL(this.th),p.Zx(this.ka))},he:null,mO:function(a){if(this.Wa=a)this.am={C:1,f:0,ra:0,za:1,La:0,Ma:0},this.jp(this.Wa.Fa);else{this.Ec=p.$x;this.jp(null);this.lh=!1;this.kg(!1);a=this.Vb.B;var c=this.Vb.G,d=a+this.oa.width,e=c+this.oa.height,f=this.wb;f.ya.n={x:a,y:c,z:0};f.Ia.n=
{x:d,y:c,z:0};f.Ga.n={x:a,y:e,z:0};f.Ca.n={x:d,y:e,z:0};this.Te=!0}},lO:function(a){(this.Wa=a)?(this.am={C:1,f:0,ra:0,za:1,La:0,Ma:0},this.jp(this.Wa.Fa)):(this.Ec=p.$x,this.jp(null),this.lh=!1,this.kg(!1))},Y:null,Vq:function(a){if(a&&!(a instanceof p.Pb))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.Wa&&this.Wa.T()!=a?p.log("cc.Sprite.setTexture(): Batched sprites should use the same texture as the batchnode"):(a?this.lg(p.eh.d().Lh(p.Yx)):this.lg(p.eh.d().Lh(p.zL)),
this.Wa||this.ta==a||(this.ta=a,this.bm()))},Uq:function(a){if(a&&!(a instanceof p.Pb))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.ta!=a&&(a&&a.qc instanceof HTMLImageElement&&(this.Sf=a),this.ta=a)},bm:function(){this.Wa?p.log("cc.Sprite._updateBlendFunc(): _updateBlendFunc doesn't work when the sprite is rendered using a cc.CCSpriteBatchNode"):this.ta&&this.ta.Pr()?(this.W.src=p.je,this.W.sb=p.ie,this.ef(!0)):(this.W.src=770,this.W.sb=771,this.ef(!1))},
au:function(){var a,c=this.ta,d=this.qo;c&&d.zs&&this.Sf&&(a=c.qc)&&(c=p.Na.d().pH(this.Sf.qc))&&(this.du=!0,a instanceof HTMLCanvasElement&&!this.Fc&&!this.sF?p.qB(a,c,this.pc,d,a):(a=p.qB(a,c,this.pc,d),c=new p.Pb,c.af(a),c.ce(),this.Y(c)))},JF:function(a){a=p.en(a);var c=this.Wa?this.Fa.T():this.ta;if(c){var d=c.Jo(),e=c.Io(),f,g=this.wb;this.Fc?(p.dt?(c=(2*a.x+1)/(2*d),d=c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/d,f=a.y/e,a=(a.y+a.width)/e),this.Zb&&
(e=f,f=a,a=e),this.$b&&(e=c,c=d,d=e),g.ya.s.Da=c,g.ya.s.ca=f,g.Ia.s.Da=c,g.Ia.s.ca=a,g.Ga.s.Da=d,g.Ga.s.ca=f,g.Ca.s.Da=d,g.Ca.s.ca=a):(p.dt?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+a.height)/e),this.Zb&&(e=c,c=d,d=e),this.$b&&(e=f,f=a,a=e),g.ya.s.Da=c,g.ya.s.ca=a,g.Ia.s.Da=d,g.Ia.s.ca=a,g.Ga.s.Da=c,g.Ga.s.ca=f,g.Ca.s.Da=d,g.Ca.s.ca=f);this.Te=!0}},Ja:null,Rf:function(){if(this.bb){var a=p.O,c=this.ta;c?c.ec&&(this.rc.Le(),
this.rc.mg(),p.Bj(this.W.src,this.W.sb),p.b5(0,c),p.Yd(p.Lt),a.bindBuffer(a.ARRAY_BUFFER,this.Zu),this.Te&&(a.bufferData(a.ARRAY_BUFFER,this.wb.XA,a.DYNAMIC_DRAW),this.Te=!1),a.vertexAttribPointer(0,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(1,4,a.UNSIGNED_BYTE,!0,24,12),a.vertexAttribPointer(2,2,a.FLOAT,!1,24,16),a.drawArrays(a.TRIANGLE_STRIP,0,4)):(this.rc.Le(),this.rc.mg(),p.Bj(this.W.src,this.W.sb),p.cg(null),p.Yd(p.ug|p.TL),a.bindBuffer(a.ARRAY_BUFFER,this.Zu),this.Te&&(p.O.bufferData(p.O.ARRAY_BUFFER,
this.wb.XA,p.O.STATIC_DRAW),this.Te=!1),a.vertexAttribPointer(p.me,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(p.Hp,4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));p.Bh++;0!==p.Tj&&(1===p.Tj?(a=this.wb,a=[p.a(a.Ga.n.x,a.Ga.n.y),p.a(a.ya.n.x,a.ya.n.y),p.a(a.Ia.n.x,a.Ia.n.y),p.a(a.Ca.n.x,a.Ca.n.y)],p.wf.Pd(a,4,!0)):2===p.Tj&&(a=this.zB().Pa,c=this.Vb,a=[p.a(c.x,c.y),p.a(c.x+a.width,c.y),p.a(c.x+a.width,c.y+a.height),p.a(c.x,c.y+a.height)],p.wf.Pd(a,4,!0)))}},yl:function(a){if(this.bb){a=
a||p.O;this.Sn&&(a.globalCompositeOperation="lighter");var c=p.ia.d().la,d=p.ia.d().qa;a.globalAlpha=this.Nb/255;var e=this.oa,f=this.ka,g=this.Vb,h=this.ez,k=0|g.B,l=-g.G-e.height,m=this.qo;h.width=e.width*c;h.height=e.height*d;if(this.Zb||this.$b)a.save(),this.Zb&&(k=-g.B-e.width,a.scale(-1,1)),this.$b&&(l=g.G,a.scale(1,-1));k*=c;l*=d;this.ta&&m.zs?(f=this.ta.qc,this.du?a.drawImage(f,0,0,m.width,m.height,k,l,h.width,h.height):a.drawImage(f,m.x,m.y,m.width,m.height,k,l,h.width,h.height)):0!==f.wa&&
(h=this.cd(),a.fillStyle="rgba("+h.h+","+h.g+","+h.f+",1)",a.fillRect(k,l,f.wa*c,f.ja*d));1===p.Tj?(a.strokeStyle="rgba(0,255,0,1)",k/=c,l=-(l/d),k=[p.a(k,l),p.a(k+e.width,l),p.a(k+e.width,l-e.height),p.a(k,l-e.height)],p.wf.Pd(k,4,!0)):2===p.Tj&&(a.strokeStyle="rgba(0,255,0,1)",c=this.oa.Pa,l=-l,k=[p.a(k,l),p.a(k+c.width,l),p.a(k+c.width,l-c.height),p.a(k,l-c.height)],p.wf.Pd(k,4,!0));(this.Zb||this.$b)&&a.restore();p.Bh++}}});
p.va.xc?(b=p.w.prototype,b.tA=p.w.prototype.SO,b.ef=p.w.prototype.AO,b.Kc=p.w.prototype.gP,b.ctor=p.w.prototype.hh,b.Uk=p.w.prototype.oO,b.r=p.w.prototype.yz,b.Aa=p.w.prototype.yq,b.qv=p.w.prototype.XO,b.jb=p.w.prototype.KF,b.Gf=p.w.prototype.oP,b.p=p.w.prototype.xy,b.X=p.w.prototype.nA,b.k=p.w.prototype.kA,b.Jc=p.w.prototype.fP,b.dp=p.w.prototype.uO,b.RH=p.w.prototype.vN,b.he=p.w.prototype.mO,b.Y=p.w.prototype.Vq,b.Ja=p.w.prototype.Rf):(b=p.w.prototype,b.tA=p.w.prototype.RO,b.ef=p.w.prototype.zO,
b.Kc=p.w.prototype.cG,b.ctor=p.w.prototype.gh,b.Uk=p.w.prototype.nO,b.r=p.w.prototype.xz,b.Aa=p.w.prototype.xq,b.qv=p.w.prototype.WO,b.jb=p.w.prototype.pA,b.Gf=p.w.prototype.nP,b.p=p.w.prototype.wy,b.X=p.w.prototype.Tq,b.k=p.w.prototype.Rq,b.Jc=p.w.prototype.HA,b.dp=p.w.prototype.tO,b.RH=p.w.prototype.uN,b.he=p.w.prototype.lO,b.Y=p.w.prototype.Uq,b.Ja=p.w.prototype.yl);
p.w.Hc=function(a,c){var d=arguments.length,e=new p.w;switch(d){case 1:return e&&e.Aa(a)?e:null;case 2:return e&&e.Aa(a,c)?e:null;default:throw"Sprite.createWithTexture(): Argument must be non-nil ";}};p.w.create=function(a,c){var d=arguments.length,e=new p.w;if(0===d){if(e.r())return e}else if(e&&e.r(a,c))return e;return null};
p.w.FG=function(a){var c=null;if("string"==typeof a){if(c=p.Mf.d().Rg(a),!c)return p.log("Invalid spriteFrameName: "+a),null}else return p.log("Invalid argument. Expecting string."),null;return(a=new p.w)&&a.de(c)?a:null};p.w.EG=function(a){var c=new p.w;return c&&c.de(a)?c:null};p.Ii=p.sa.extend({Yq:null,Gd:0,qr:null,ctor:function(){this.Gd=0},A:function(){var a=new p.Ii;a.de(this.Yq.A(),this.Gd,this.qr);return a},Mv:function(){return p.A(this)},copy:function(){var a=new p.Ii;a.de(this.Yq.A(),this.Gd,this.qr);return a},de:function(a,c,d){this.Yq=a;this.Gd=c;this.qr=d;return!0},Rg:function(){return this.Yq},ff:function(a){this.Yq=a},l2:function(){return this.Gd},h9:function(a){this.Gd=a},M4:function(){return this.qr},O$:function(a){this.qr=a}});
p.Hi=p.sa.extend({Id:null,hj:0,Ml:!1,na:0,Gd:0,Zl:0,ctor:function(){this.Id=[]},D2:function(){return this.Id},aJ:function(a){this.Id=a},VA:function(a){var c=new p.Ii;c.de(a,1,null);this.Id.push(c);this.Zl++},F_:function(a){a=p.Na.d().Kb(a);var c=p.Mc();c.Pa=a.e();a=p.kd.Hc(a,c);this.VA(a)},G_:function(a,c){var d=p.kd.Hc(a,c);this.VA(d)},Qr:function(a,c,d){p.Es(a,p.Ii);this.Gd=c;this.hj=d;this.aJ([]);for(c=0;c<a.length;c++)d=a[c],this.Id.push(d),this.Zl+=d.Gd;return!0},A:function(){var a=new p.Hi;
a.Qr(this.OE(),this.Gd,this.hj);a.Sw(this.Ml);return a},Mv:function(){var a=new p.Hi;a.Qr(this.OE(),this.Gd,this.hj);a.Sw(this.Ml);return a},OE:function(){for(var a=[],c=0;c<this.Id.length;c++)a.push(this.Id[c].A());return a},copy:function(){return this.Mv(null)},T2:function(){return this.hj},F9:function(a){this.hj=a},Sw:function(a){this.Ml=a},Y3:function(){return this.Ml},Ye:function(){return this.Zl*this.Gd},k2:function(){return this.Gd},g9:function(a){this.Gd=a},E4:function(){return this.Zl},JH:function(a,
c){p.Es(a,p.kd);this.hj=1;this.Gd=c||0;this.aJ([]);if(a)for(var d=0;d<a.length;d++){var e=a[d],f=new p.Ii;f.de(e,1,null);this.Id.push(f);this.Zl++}return!0},II:function(){},sC:function(){}});p.Hi.create=function(a,c,d){var e=arguments.length,f=new p.Hi;0==e?f.JH(null,0):2==e?f.JH(a,c||0):3==e&&f.Qr(a,c,d);return f};p.Hi.DG=function(a,c,d){var e=new p.Hi;e.Qr(a,c,d);return e};p.el=p.sa.extend({nG:function(a,c){this.sl[c]=a},p8:function(a){a&&this.sl.hasOwnProperty(a)&&delete this.sl[a]},bH:function(a){return this.sl.hasOwnProperty(a)?this.sl[a]:null},iM:function(a,c){var d=a.animations;if(d){var e=1,f=a.properties;if(f)for(var e=null!=f.format?parseInt(f.format):e,f=f.spritesheets,g=p.Mf.d(),h=p.jd.d(),k,l=0;l<f.length;l++)k=h.aH(f[l],c),g.uG(k);switch(e){case 1:this.PN(d);break;case 2:this.QN(d);break;default:p.log("cc.AnimationCache. Invalid animation format")}}else p.log("cocos2d: cc.AnimationCache: No animations were found in provided dictionary.")},
v_:function(a){if(!a)throw"cc.AnimationCache.addAnimations(): Invalid texture file name";var c=p.jd.d(),d=c.Vd(a);(c=c.Ov(d))?this.iM(c,a):p.log("cc.AnimationCache.addAnimations(): File could not be found")},PN:function(a){var c=p.Mf.d(),d;for(d in a){var e=a[d],f=e.frames,e=parseFloat(e.delay)||0,g=null;if(f){for(var g=[],h=0;h<f.length;h++){var k=c.Rg(f[h]);if(k){var l=new p.Ii;l.de(k,1,null);g.push(l)}else p.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+f[h]+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}0===
g.length?p.log("cocos2d: cc.AnimationCache: None of the frames for animation '"+d+"' were found in the cc.SpriteFrameCache. Animation is not being added to the Animation Cache."):(g.length!=f.length&&p.log("cocos2d: cc.AnimationCache: An animation in your dictionary refers to a frame which is not in the cc.SpriteFrameCache. Some or all of the frames for the animation '"+d+"' may be missing."),g=p.Hi.DG(g,e,1),p.el.d().nG(g,d))}else p.log("cocos2d: cc.AnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},
QN:function(a){var c=p.Mf.d(),d;for(d in a){var e=a[d],f=parseInt(e.loops),f=e.loop?p.ml:isNaN(f)?1:f,g=e.restoreOriginalFrame&&!0==e.restoreOriginalFrame?!0:!1,h=e.frames;if(h){for(var k=[],l=0;l<h.length;l++){var m=h[l],n=m.spriteframe,s=c.Rg(n);if(s){var n=parseFloat(m.delayUnits)||0,m=m.notification,q=new p.Ii;q.de(s,n,m);k.push(q)}else p.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+n+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}e=
parseFloat(e.delayPerUnit)||0;h=new p.Hi;h.Qr(k,e,f);h.Sw(g);p.el.d().nG(h,d)}else p.log("cocos2d: CCAnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},r:function(){this.sl={};return!0},sl:null});p.el.DT=function(){p.Lm&&(p.Lm.sl=null,p.Lm=null)};p.el.d=function(){null===p.Lm&&(p.Lm=new p.el,p.Lm.r());return p.Lm};p.Lm=null;p.kd=p.sa.extend({vb:null,Qc:null,te:null,Rc:!1,oa:null,nf:null,Qe:null,ta:null,po:"",bb:!1,nu:null,ctor:function(){this.vb=p.$c();this.nf=p.$c();this.Qc=p.Rl();this.Rc=!1;this.Qe=p.Rl();this.po="";this.ta=null;this.bb=!1},PJ:function(){return this.bb},uf:function(a,c){null==this.nu&&(this.nu=[]);this.nu.push({Aj:a,Ah:c})},Ed:function(){var a=this.nu;if(a){for(var c=0,d=a.length;c<d;c++){var e=a[c];e.Aj.call(e.Ah,this)}a.length=0}},nR:function(){var a=this.te;return p.rect(a.x,a.y,a.width,a.height)},
k$:function(a){this.te||(this.te=p.rect(0,0,0,0));this.te.x=a.x;this.te.y=a.y;this.te.width=a.width;this.te.height=a.height;this.oa=p.yp(a)},c6:function(){return this.Rc},s$:function(a){this.Rc=a},Xd:function(){var a=this.oa;return p.rect(a.x,a.y,a.width,a.height)},jJ:function(a){this.oa||(this.oa=p.rect(0,0,0,0));this.oa.x=a.x;this.oa.y=a.y;this.oa.width=a.width;this.oa.height=a.height;this.te=p.en(this.oa)},t3:function(){return this.nf},T9:function(a){this.nf.B=a.x;this.nf.G=a.y;p.Ot(this.nf,this.vb)},
A3:function(){return this.Qe},W9:function(a){this.Qe.wa=a.width;this.Qe.ja=a.height},iR:function(){return this.Qc},V9:function(a){this.Qc.wa=a.width;this.Qc.ja=a.height},T:function(){if(this.ta)return this.ta;if(""!==this.po){var a=p.Na.d().Kb(this.po);a&&(this.bb=a.fg());return a}return null},Y:function(a){if(this.ta!=a){var c=a.fg();this.bb=c;this.ta=a;c||a.uf(function(a){this.bb=!0;if(this.Rc&&p.ed===p.If){var c=a.qc,c=p.GG(c,this.Xd()),f=new p.Pb;f.af(c);f.ce();this.Y(f);c=this.Xd();this.jJ(p.rect(0,
0,c.width,c.height))}c=this.oa;0===c.width&&0===c.height&&(a=a.e(),this.oa.width=a.width,this.oa.height=a.height,this.te=p.en(this.oa),this.Qe.wa=this.te.width,this.Qe.ja=this.te.height,this.Qc.wa=a.width,this.Qc.ja=a.height);this.Ed()},this)}},s3:function(){return this.vb},S9:function(a){this.vb.B=a.x;this.vb.G=a.y},A:function(){var a=new p.kd;a.kw(this.po,this.te,this.Rc,this.nf,this.Qe);a.Y(this.ta);return a},Mv:function(){var a=new p.kd;a.kw(this.po,this.te,this.Rc,this.nf,this.Qe);a.Y(this.ta);
return a},copy:function(){return this.Mv()},Aa:function(a,c,d,e,f){2===arguments.length&&(c=p.en(c));e=e||p.a(0,0);f=f||c.Pa;this.Y(a);this.te=c;this.oa=p.yp(c);this.nf.B=e.x;this.nf.G=e.y;p.Ot(e,this.vb);this.Qe.wa=f.width;this.Qe.ja=f.height;p.py(f,this.Qc);this.Rc=d||!1;return!0},kw:function(a,c,d,e,f){2===arguments.length&&(c=p.en(c));e=e||p.a(0,0);f=f||c.Pa;this.ta=null;this.po=a;this.te=c;this.oa=p.yp(c);this.Rc=d||!1;this.nf.B=e.x;this.nf.G=e.y;p.Ot(e,this.vb);this.Qe.wa=f.width;this.Qe.ja=
f.height;p.py(f,this.Qc);return!0}});p.kd.create=function(a,c,d,e,f){var g=new p.kd;switch(arguments.length){case 2:g.kw(a,c);break;case 5:g.kw(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};p.kd.Hc=function(a,c,d,e,f){var g=new p.kd;switch(arguments.length){case 2:g.Aa(a,c);break;case 5:g.Aa(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};
p.kd.PZ=function(a,c,d,e,f){var g=new p.kd;g.ta=a;g.te=c;g.oa=p.yp(c);g.nf.B=e.x;g.nf.G=e.y;p.Ot(g.nf,g.vb);g.Qe.wa=f.width;g.Qe.ja=f.height;p.py(g.Qe,g.Qc);g.Rc=d;return g};p.Mf=p.sa.extend({ve:null,uk:null,Dq:null,ctor:function(){this.ve={};this.uk={};this.Dq=[]},zy:function(a,c){var d=a.metadata||a.meta,e=a.frames,f=0;d&&(f=d.format,f=1>=f.length?parseInt(f):f);if(0>f||3<f)p.log("format is not supported for cc.SpriteFrameCache.addSpriteFramesWithDictionary");else for(var g in e)if(d=e[g]){var h=this.ve[g];if(!h){if(0==f){var h=parseFloat(d.x),k=parseFloat(d.y),l=parseFloat(d.width),m=parseFloat(d.height),n=parseFloat(d.offsetX),s=parseFloat(d.offsetY),q=parseInt(d.originalWidth),
d=parseInt(d.originalHeight);q&&d||p.log("cocos2d: WARNING: originalWidth/Height not found on the cc.SpriteFrame. AnchorPoint won't work as expected. Regenrate the .plist");q=Math.abs(q);d=Math.abs(d);h=p.kd.Hc(c,p.rect(h,k,l,m),!1,p.a(n,s),p.size(q,d))}else if(1==f||2==f)h=p.bE(d.frame),k=!1,2==f&&(k=d.rotated),l=p.aE(d.offset),d=p.by(d.sourceSize),h=p.kd.Hc(c,h,k,l,d);else if(3==f){var h=p.by(d.spriteSize),k=p.aE(d.spriteOffset),l=p.by(d.spriteSourceSize),m=p.bE(d.textureRect),n=d.textureRotated,
s=d.aliases,q=g.toString(),v;for(v in s)this.uk.hasOwnProperty(s[v])&&p.log("cocos2d: WARNING: an alias with name "+v+" already exists"),this.uk[s[v]]=q;d.hasOwnProperty("spriteSize")&&(m=p.rect(m.x,m.y,h.width,h.height));h=p.kd.Hc(c,m,n,k,l)}else var z=d.filename,k=d.frame,h=d.sourceSize,k=p.rect(k.x,k.y,k.dK,k.be),d=d.rotated,l=p.a(0,0),h=p.size(h.dK,h.be),h=p.kd.Hc(c,k,d,l,h);p.ed===p.If&&h.Rc&&h.T().fg()&&(d=h.T().qc,d=p.GG(d,h.nR()),k=new p.Pb,k.af(d),k.ce(),h.Y(k),d=h.oa,h.jJ(p.rect(0,0,d.width,
d.height)));this.ve[null!=z?z:g]=h}}},uG:function(a,c){if(!a)throw"cc.SpriteFrameCache.addSpriteFrames(): plist should be non-null";var d=p.jd.d(),e;"plist"==a.substr(a.lastIndexOf(".",a.length)+1,a.length)?(e=d.Vd(a),e=d.Ov(e)):e=JSON.parse(d.nH(a));switch(arguments.length){case 1:if(!p.px(this.Dq,a)){var f="",g=e.metadata||e.meta;g&&(f=g.textureFileName||g.image);""!=f?f=d.aH(f,a):(f=a,f=f.substr(0,f.lastIndexOf(".",f.length)),f+=".png");(d=p.Na.d().Kb(f))?this.zy(e,d):p.log("cocos2d: cc.SpriteFrameCache: Couldn't load texture")}break;
case 2:if(c instanceof p.Pb)this.zy(e,c);else{if(!c)throw"cc.SpriteFrameCache.addSpriteFrames(): texture name should not be null";(d=p.Na.d().Kb(c))?this.zy(e,d):p.log("cocos2d: cc.SpriteFrameCache: couldn't load texture file. File not found "+c)}break;default:throw"Argument must be non-nil ";}},VA:function(a,c){this.ve[c]=a},y8:function(){this.ve=[];this.uk=[];this.Dq={}},x8:function(a){a&&(this.uk.hasOwnProperty(a)&&delete this.uk[a],this.ve.hasOwnProperty(a)&&delete this.ve[a],this.Dq={})},z8:function(a){var c=
p.jd.d(),d=c.Vd(a),c=c.Ov(d);this.$N(c);p.px(this.Dq,a)&&p.yd(a)},$N:function(a){a=a.frames;for(var c in a)this.ve.hasOwnProperty(c)&&delete this.ve[c]},A8:function(a){for(var c in this.ve){var d=this.ve[c];d&&d.T()==a&&delete this.ve[c]}},Rg:function(a){var c;this.ve.hasOwnProperty(a)&&(c=this.ve[a]);if(!c){var d;this.uk.hasOwnProperty(a)&&(d=this.uk[a]);d&&(this.ve.hasOwnProperty(d.toString())&&(c=this.ve[d.toString()]),c||p.log("cocos2d: cc.SpriteFrameCahce: Frame "+a+" not found"))}return c}});
p.Iw=null;p.Mf.d=function(){p.Iw||(p.Iw=new p.Mf);return p.Iw};p.Mf.ET=function(){p.Iw=null};p.wp=29;
p.fb=p.F.extend({Fa:null,W:null,Yc:null,H_:function(a,c,d){if(!a)throw"cc.SpriteBatchNode.addQuadFromSprite(): child should be non-null";if(!(a instanceof p.w))return p.log("cc.SpriteBatchNode.addQuadFromSprite(): SpriteBatchNode only supports cc.Sprites as children"),null;a.ge(c);var e=0,f=this.Yc;if(f&&0<f.length)for(var g=0;g<f.length;g++){var h=f[g];h&&h.Ec>=c&&++e}this.Yc=p.fl(f,a,e);p.F.prototype.p.call(this,a,c,d);this.EI(!1);return this},oH:function(){return this.Fa},jp:function(a){a!=this.Fa&&
(this.Fa=a)},o2:function(){return this.Yc},yi:function(a,c){var d=p.Na.d().ex(a);d||(d=p.Na.d().Kb(a));return this.Aa(d,c)},Pl:function(){this.KE=!0},r:function(a,c){var d=p.Na.d().ex(a);d||(d=p.Na.d().Kb(a));return this.Aa(d,c)},fw:function(){var a=this.Fa.Nc,c=Math.floor(4*(a+1)/3);p.log("cocos2d: CCSpriteBatchNode: resizing TextureAtlas capacity from "+a+" to "+c+".");this.Fa.hU(c)||p.log("cocos2d: WARNING: Not enough memory to resize the atlas")},r8:function(a,c){this.removeChild(this.o[a],c)},
xI:function(a,c){var d=a.o;if(d&&0<d.length)for(var e=0;e<d.length;e++){var f=d[e];f&&0>f.Sa&&(c=this.xI(f,c))}!a==this&&(a.ge(c),c++);if(d&&0<d.length)for(e=0;e<d.length;e++)(f=d[e])&&0<=f.Sa&&(c=this.xI(f,c));return c},JB:function(a){var c=a.o;return c&&0!=c.length?this.JB(c[c.length-1]):a.Ec},HS:function(a){var c=a.o;return c&&0!=c.length?this.HS(c[c.length-1]):a.Ec},CP:function(a,c){var d=a.getParent().o,e=p.rx(d,a),f=a.getParent()==this,g=null;0<e&&e<p.QL&&(g=d[e-1]);if(f)return 0==e?0:this.JB(g)+
1;if(0==e)return d=a.getParent(),0>c?d.Ec:d.Ec+1;if(0>g.Sa&&0>c||0<=g.Sa&&0<=c)return this.JB(g)+1;d=a.getParent();return d.Ec+1},EI:function(a){this.Md=a},Uk:function(a,c){this.W=1==arguments.length?a:{src:a,sb:c}},Er:function(){return this.W},fs:function(a,c){if(!a)throw"cc.SpriteBatchNode.addChild():child should be non-null";-1===this.o.indexOf(a)?p.log("cc.SpriteBatchNode.addChild(): Child doesn't belong to Sprite"):c!==a.Sa&&(p.F.prototype.fs.call(this,a,c),this.Ka())},removeChild:function(a,
c){null!=a&&(-1===this.o.indexOf(a)?p.log("cc.SpriteBatchNode.addChild(): sprite batch node should contain the child"):(this.Im(a),p.F.prototype.removeChild.call(this,a,c)))},FN:null,Xl:null,r_:!1,Sf:null,ctor:null,gh:function(a){p.F.prototype.ctor.call(this);a&&this.r(a,p.wp)},hh:function(a){p.F.prototype.ctor.call(this);this.FN=new p.Tg;a&&this.r(a,p.wp)},$J:null,kP:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";a instanceof p.w?(a.he(this),a.ge(c),
a.kg(!0),a.Gf()):p.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},lP:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";if(a instanceof p.w){for(var d=this.Fa.Nc;c>=d||d==this.Fa.Ha;)this.fw();a.he(this);a.ge(c);a.kg(!0);a.Gf()}else p.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},mv:function(a,c){var d=this.Yc,e=this.Fa,f=e.re,g=d[a],
h=p.my(f[a]);d[c].ge(a);d[a]=d[c];e.jx(f[c],a);d[c]=g;e.jx(h,c)},KH:null,sN:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";a instanceof p.w?(a.he(this),a.ge(c),a.kg(!0),a.Gf(),this.o=p.fl(this.o,a,c)):p.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},tN:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";if(a instanceof p.w){for(var d=this.Fa;c>=d.Nc||
d.Nc===d.Ha;)this.fw();a.he(this);a.ge(c);d.SB(a.wb,c);a.kg(!0);a.Gf()}else p.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},bG:function(a,c){var d=0,e=a.o;e&&(d=e.length);var f=0;if(0===d)f=a.Ec,a.ge(c),a.gp(0),f!=c&&this.mv(f,c),c++;else{f=!0;0<=e[0].Sa&&(f=a.Ec,a.ge(c),a.gp(0),f!=c&&this.mv(f,c),c++,f=!1);for(d=0;d<e.length;d++){var g=e[d];f&&0<=g.Sa&&(f=a.Ec,a.ge(c),a.gp(0),f!=c&&this.mv(f,c),c++,f=!1);c=this.bG(g,c)}f&&(f=a.Ec,a.ge(c),
a.gp(0),f!=c&&this.mv(f,c),c++)}return c},bm:function(){this.Fa.T().Pr()||(this.W.src=770,this.W.sb=771)},Aa:null,xq:function(a){this.o=[];this.Yc=[];this.W=new p.il(p.je,p.ie);this.Xl=this.Sf=a;return!0},yq:function(a,c){this.o=[];this.Yc=[];this.W=new p.il(p.je,p.ie);c=c||p.wp;this.Fa=new p.ln;this.Fa.Aa(a,c);this.bm();this.lg(p.eh.d().Lh(p.Yx));return!0},kS:function(a,c){a.he(this);a.ge(c);a.kg(!0);var d=this.Fa;d.Ha>=d.Nc&&this.fw();d.SB(a.wb,c);this.Yc=p.fl(this.Yc,a,c);var d=c+1,e=this.Yc;if(e&&
0<e.length)for(;d<e.length;d++)e[d].ge(e[d].Ec+1);if((e=a.o)&&0<e.length)for(d=0;d<e.length;d++)if(e[d]){var f=this.CP(e[d],e[d].Sa);this.kS(e[d],f)}},appendChild:null,pM:function(a){this.Md=!0;a.he(this);a.kg(!0);this.Yc.push(a);a.ge(this.Yc.length-1);a=a.o;for(var c=0;c<a.length;c++)this.appendChild(a[c])},qM:function(a){this.Md=!0;a.he(this);a.kg(!0);this.Yc.push(a);var c=this.Yc.length-1;a.ge(c);var d=this.Fa;d.Ha==d.Nc&&this.fw();d.SB(a.wb,c);a=a.o;for(c=0;c<a.length;c++)this.appendChild(a[c])},
Im:null,aO:function(a){a.he(null);var c=this.Yc,d=p.rx(c,a);if(-1!=d){p.qp(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.ge(f.Ec-1)}}if((a=a.o)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.Im(a[c])},bO:function(a){this.Fa.bU(a.Ec);a.he(null);var c=this.Yc,d=p.rx(c,a);if(-1!=d){p.qp(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.ge(f.Ec-1)}}if((a=a.o)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.Im(a[c])},T:null,sz:function(){return this.Xl},tz:function(){return this.Fa.T()},Y:null,Uq:function(a){this.Xl=
a;for(var c=this.o,d=0;d<c.length;d++)c[d].Y(a)},Vq:function(a){this.Fa.Y(a);this.bm()},ha:null,cm:function(a){var c=a||p.O;if(this.pa){c.save();this.transform(a);var d=this.o;if(d)for(this.vd(),a=0;a<d.length;a++)d[a]&&d[a].ha(c);c.restore()}},dm:function(a){a=a||p.O;if(this.pa){p.Uo();var c=this.gk;c&&c.Qo()&&(c.$A(),this.hx());this.vd();this.transform(a);this.Ja(a);c&&c.Qo()&&c.WA(this);p.To();this.gp(0)}},p:null,wy:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";
a instanceof p.w?(c=null==c?a.Sa:c,d=null==d?a.Tc:d,p.F.prototype.p.call(this,a,c,d),this.appendChild(a),this.Ka()):p.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},xy:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";a instanceof p.w?a.T()!=this.Fa.T()?p.log("cc.SpriteBatchNode.addChild(): cc.Sprite is not using the same texture"):(c=null==c?a.Sa:c,d=null==d?a.Tc:d,p.F.prototype.p.call(this,a,c,d),this.appendChild(a),
this.Ka()):p.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},Mh:null,XN:function(a){var c=this.Yc;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].he(null);p.F.prototype.Mh.call(this,a);this.Yc=[]},YN:function(a){var c=this.Yc;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].he(null);p.F.prototype.Mh.call(this,a);this.Yc=[];this.Fa.WT()},vd:null,PO:function(){if(this.Md){var a,c=0,d=this.o,e=d.length,f;for(a=1;a<e;a++){var g=d[a],
c=a-1;for(f=d[c];0<=c&&(g.Sa<f.Sa||g.Sa==f.Sa&&g.of<f.of);)d[c+1]=f,c-=1,f=d[c];d[c+1]=g}0<d.length&&this.Of(d,p.F.jf.vd);this.Md=!1}},QO:function(){if(this.Md){var a=this.o,c,d=0,e=a.length,f;for(c=1;c<e;c++){var g=a[c],d=c-1;for(f=a[d];0<=d&&(g.Sa<f.Sa||g.Sa==f.Sa&&g.of<f.of);)a[d+1]=f,d-=1,f=a[d];a[d+1]=g}if(0<a.length)for(this.Of(a,p.F.jf.vd),c=d=0;c<a.length;c++)d=this.bG(a[c],d);this.Md=!1}},Ja:null,Rf:function(){0!==this.Fa.Ha&&(this.rc.Le(),this.rc.mg(),this.Of(this.o,p.F.jf.Gf),p.Bj(this.W.src,
this.W.sb),this.Fa.zQ())}});
p.va.xc?(b=p.fb.prototype,b.ctor=p.fb.prototype.hh,b.$J=p.fb.prototype.lP,b.KH=p.fb.prototype.tN,b.Aa=p.fb.prototype.yq,b.appendChild=p.fb.prototype.qM,b.Im=p.fb.prototype.bO,b.T=p.fb.prototype.tz,b.Y=p.fb.prototype.Vq,b.ha=p.fb.prototype.dm,b.p=p.fb.prototype.xy,b.Mh=p.fb.prototype.YN,b.vd=p.fb.prototype.QO,b.Ja=p.fb.prototype.Rf):(b=p.fb.prototype,b.ctor=p.fb.prototype.gh,b.$J=p.fb.prototype.kP,b.KH=p.fb.prototype.sN,b.Aa=p.fb.prototype.xq,b.appendChild=p.fb.prototype.pM,b.Im=p.fb.prototype.aO,
b.T=p.fb.prototype.sz,b.Y=p.fb.prototype.Uq,b.ha=p.fb.prototype.cm,b.Mh=p.fb.prototype.XN,b.p=p.fb.prototype.wy,b.vd=p.fb.prototype.PO,b.Ja=p.F.prototype.Ja);p.fb.create=function(a,c){c=c||p.wp;var d=new p.fb;d.r(a,c);return d};p.fb.Hc=function(a,c){c=c||p.wp;var d=new p.fb;d.Aa(a,c);return d};p.iX={fX:0,hX:1,gX:2,eX:3,dX:4};
p.ke=p.sa.extend({Fq:0,nF:0,dr:!1,cr:!1,iv:!1,jv:!1,kv:!1,CN:0,Lu:0,Lp:"",tj:null,ctor:function(){this.nF=this.Fq=0;this.kv=this.jv=this.iv=this.cr=this.dr=!1;this.Lu=this.CN=0;this.Lp="";this.tj={}},Z2:function(){return this.Fq},Y2:function(){return this.nF},a3:function(){return this.Lu},qaa:function(){return this.cr},raa:function(){return this.dr},oaa:function(){return this.iv},paa:function(){return this.jv},saa:function(){return this.kv},Ao:function(a){return-1<this.Lp.indexOf(a)},r:function(){var a=
this.tj;a["cocos2d.x.version"]=p.Ks;a["cocos2d.x.compiled_with_profiler"]=!1;a["cocos2d.x.compiled_with_gl_state_cache"]=p.FD;return!0},R1:function(a,c){var d=this.tj;return d.hasOwnProperty(a)?d[a]:c},M1:function(a,c){null==c&&(c=!1);var d=this.tj;return d.hasOwnProperty(a)?d[a]:c},k3:function(a,c){null==c&&(c=0);var d=this.tj;return d.hasOwnProperty(a)?d[a]:c},m3:function(a){var c=this.tj;return c.hasOwnProperty(a)?c[a]:null},oV:function(a,c){this.tj[a]=c},DQ:function(){0===p.FD&&(p.log(""),p.log("cocos2d: **** WARNING **** CC_ENABLE_PROFILERS is defined. Disable it when you finish profiling (from ccConfig.js)"),
p.log(""))},NQ:function(){if(p.ed!==p.If){var a=p.O,c=this.tj;c["gl.vendor"]=a.getParameter(a.VENDOR);c["gl.renderer"]=a.getParameter(a.RENDERER);c["gl.version"]=a.getParameter(a.VERSION);this.Lp="";for(var d=a.getSupportedExtensions(),e=0;e<d.length;e++)this.Lp+=d[e]+" ";this.Fq=a.getParameter(a.MAX_TEXTURE_SIZE);c["gl.max_texture_size"]=this.Fq;this.Lu=a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS);c["gl.max_texture_units"]=this.Lu;this.dr=this.Ao("GL_IMG_texture_compression_pvrtc");c["gl.supports_PVRTC"]=
this.dr;this.cr=!1;c["gl.supports_NPOT"]=this.cr;this.iv=this.Ao("GL_IMG_texture_format_BGRA888");c["gl.supports_BGRA8888"]=this.iv;this.jv=this.Ao("GL_EXT_discard_framebuffer");c["gl.supports_discard_framebuffer"]=this.jv;this.kv=this.Ao("vertex_array_object");c["gl.supports_vertex_array_object"]=this.kv;p.oD()}},E6:function(a){var c=p.jd.d(),d=c.Vd(a),c=c.Ov(d);if(null!=c)if(c=c.data)for(var e in c)this.tj[e]=c[e];else p.log("Expected 'data' dict, but not found. Config file: "+a)}});p.ke.Xq=null;
p.ke.d=function(){p.ke.Xq||(p.ke.Xq=new p.ke,p.ke.Xq.r());return p.ke.Xq};p.ke.V7=function(){p.ke.Xq=null};p.Bh=0;p.yK=0;p.CD=1;p.zK=3;p.AK=p.CD;p.nX=0;p.lX=1;p.oX=2;p.mX=3;p.kX=2;p.rX=p.sa.extend({Vaa:function(){}});p.GD=function(a){var c=new p.Tg;p.zS(p.lt,c);var d=new p.Tg;p.zS(p.kt,d);p.CS(a,c,d)};
p.P=p.sa.extend({a_:!1,Jq:!1,Kl:!1,Yu:!1,Ol:!1,wg:0,Jz:0,sk:0,pn:0,xl:1,eq:!1,ck:0,qu:0,Wj:null,Yj:null,dk:null,Gb:null,gj:null,ji:null,Qu:null,Cg:null,qi:null,Vz:null,Sc:null,Id:0,DA:0,jA:0,MZ:null,Yf:null,vg:null,ze:null,Ez:null,Tt:null,Hq:null,$Z:!1,ctor:function(){this.gj=Date.now();if(!p.TB){var a=this;window.addEventListener("focus",function(){a.gj=Date.now()},!1)}},gO:function(){this.gj=Date.now()},r:function(){this.Jz=this.wg=1/p.jQ;this.qi=[];this.sk=p.AK;this.Vz=null;this.qu=this.pn=0;this.eq=
!1;this.DA=this.Id=0;this.gj=Date.now();this.Yu=this.Kl=!1;this.Gb=p.Rl();this.Cg=null;this.xl=1;this.Yf=new p.DL;this.vg=new p.jK;this.Yf.KI(this.vg,p.ot,!1);p.Z&&(this.ze=new p.Z,this.ze.r());p.cn&&(this.Ez=p.cn.d());p.Pj&&(this.Tt=new p.Pj);p.Cd&&(this.Hq=new p.Cd,this.Hq.r());return!0},HP:function(){var a=Date.now();this.Jq?(this.ck=0,this.Jq=!1):this.ck=(a-this.gj)/1E3;0<p.Hs&&0.2<this.ck&&(this.ck=1/60);this.gj=a},bQ:function(a){var c=new p.Tg;p.GD(c);var d=new p.Tg;p.w6(d,c);var c=c.Ug[14]/
c.Ug[15],e=this.Cg.Ho();a=new p.Vo(2*a.x/e.width-1,1-2*a.y/e.height,c);c=new p.Vo;p.ES(c,a,d);return p.a(c.x,c.y)},dQ:function(a){var c=new p.Tg;p.GD(c);var d=new p.Vo;a=new p.Vo(a.x,a.y,0);p.ES(d,a,c);c=this.Cg.Ho();return p.a(c.width*(0.5*d.x+0.5),c.height*(0.5*-d.y+0.5))},AQ:function(){this.HP();this.Kl||this.Yf.update(this.ck);this.ME();this.ji&&this.nV();this.Ey&&this.Ey();this.Sc&&this.Sc.ha();this.Qu&&this.Qu.ha();this.eq&&this.OO();this.Ay&&this.Ay();this.DA++;this.eq&&this.xM()},FM:function(){var a=
this.Cg.Be;p.O.clearRect(-a.x,a.y,a.width,-a.height)},MM:function(){var a=p.O;a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},Ey:null,Ay:null,sM:function(){p.Uo()},oM:function(){p.To()},end:function(){this.Yu=!0},d2:function(){return this.xl},j3:function(){return this.Qu},W4:function(){return this.Gb},DR:function(){return p.size(this.Gb.width*this.xl,this.Gb.height*this.xl)},Lr:function(){return this.Cg?this.Cg.Lr():this.Gb},uH:function(){return this.Cg?this.Cg.uH():p.rL},Nr:function(){return this.Gb.height/
1.1566},pause:function(){this.Kl||(this.Jz=this.wg,this.js(0.25),this.Kl=!0)},P7:function(){if(!this.Sc)throw"running scene should not null";this.qi.pop();var a=this.qi.length;0==a?this.end():(this.Ol=!0,this.ji=this.qi[a-1])},oC:function(){p.Lx.oC()},CT:function(){this.$e().vs();this.ze&&this.ze.VT();this.Sc&&(this.Sc.Vg(),this.Sc.td(),this.Sc.vf());this.ji=this.Sc=null;this.qi=[];this.JJ();p.Lx.oC();p.el.DT();p.Mf.ET();p.Na.FT();p.oD()},GT:function(a){if(!a)throw"the scene should not null";this.Ol=
!1;this.qi.push(a);this.ji=a},FI:function(a){if(!this.Sc)throw"Use runWithScene: instead to start the director";if(!a)throw"the scene should not be null";var c=this.qi.length;0===c?(this.Ol=!0,this.qi[c]=a):(this.Ol=!0,this.qi[c-1]=a);this.ji=a},HI:function(){this.Kl&&(this.js(this.Jz),(this.gj=Date.now())||p.log("cocos2d: Director: Error in gettimeofday"),this.Kl=!1,this.ck=0)},qU:function(a){if(!a)throw"This command can only be used to start the CCDirector. There is already a scene present.";if(this.Sc)throw"_runningScene should be null";
this.GT(a);this.HJ()},DU:function(a){a?p.Bj(p.je,p.ie):p.Bj(p.O.ONE,p.O.ZERO)},OU:function(a){a!=this.xl&&(this.xl=a,this.Hn())},SU:function(a){if(p.ed!==p.If){var c=p.O;a?(c.clearDepth(1),c.enable(c.DEPTH_TEST),c.depthFunc(c.LEQUAL)):c.disable(c.DEPTH_TEST)}},f9:function(){},bJ:function(){this.DU(!0);this.SU(!1);this.Rw(this.sk);p.O.clearColor(0,0,0,1)},O9:function(a){this.Jq=a},nV:function(){var a=!1,c=!1;p.rE&&(a=this.Sc?this.Sc instanceof p.rE:!1,c=this.ji?this.ji instanceof p.rE:!1);if(!c){if(c=
this.Sc)c.Vg(),c.td();this.Ol&&c&&c.vf()}this.Sc=this.ji;this.ji=null;a||null==this.Sc||(this.Sc.ig(),this.Sc.Ih())},P9:function(a){this.Qu=a},Wb:function(){return this.Vz},Xg:function(a){this.Vz=a},tV:function(a){this.Gb.UC(p.canvas.width);this.Gb.IC(p.canvas.height);this.Cg=a||p.ia.d();p.ed!==p.If&&(a=p.ke.d(),a.NQ(),a.DQ(),this.Hn(),this.bJ(),this.ze&&this.ze.TU(!0))},wJ:function(){if(this.Cg){var a=this.Gb;this.Cg.LV(0,0,a.width,a.height)}},Rw:function(a){var c=this.Gb;if(p.ed===p.Vj){this.wJ();
switch(a){case p.yK:p.sm(p.lt);p.WB();var d=new p.Tg;p.DS(d,0,c.width,0,c.height,-1024,1024);p.nw(d);p.sm(p.kt);p.WB();break;case p.CD:var e=this.Nr(),f=new p.Tg,d=new p.Tg;p.sm(p.lt);p.WB();p.x6(f,60,c.width/c.height,0.1,2*e);p.nw(f);p.sm(p.kt);p.WB();e=p.Vr(null,c.width/2,c.height/2,e);c=p.Vr(null,c.width/2,c.height/2,0);f=p.Vr(null,0,1,0);p.BS(d,e,c,f);p.nw(d);break;case p.zK:break;default:p.log("cocos2d: Director: unrecognized projection")}this.sk=a;p.g$()}else this.sk=a},OO:function(){this.Id++;
this.pn+=this.ck;this.Wj&&this.Yj&&this.dk?(this.pn>p.xK&&(this.Yj.ga(this.jA.toFixed(3)),this.qu=this.Id/this.pn,this.pn=this.Id=0,this.Wj.ga(this.qu.toFixed(1)),this.dk.ga((0|p.Bh).toString())),this.Wj.ha(),this.Yj.ha(),this.dk.ha()):this.Hn();p.Bh=0},f6:function(){return this.Ol},b4:function(){return this.Sc},G1:function(){return this.wg},I5:function(){return this.eq},j9:function(a){this.eq=a},g4:function(){return this.jA},y3:function(){return this.Cg},S5:function(){return this.Jq},W5:function(){return this.Kl},
F4:function(){return this.DA},O3:function(){return this.sk},Q7:function(){this.tT(1)},tT:function(a){if(!this.Sc)throw"A running Scene is needed";var c=this.qi,d=c.length;if(0==d)this.end();else if(!(a>d)){for(;d>a;){var e=c.pop();e.ue&&(e.Vg(),e.td());e.vf();d--}this.ji=c[c.length-1];this.Ol=!1}},$e:function(){return this.Yf},CV:function(a){this.Yf!=a&&(this.Yf=a)},bg:function(){return this.vg},BU:function(a){this.vg!=a&&(this.vg=a)},H4:function(){return this.ze},L$:function(a){this.ze!=a&&(this.ze=
a)},Zv:function(){if(!p.cn)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";return this.Ez},D9:function(a){if(!p.cn)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";this.Ez=a},Go:function(){if(!p.Pj)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";return this.Tt},M8:function(a){if(!p.Pj)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";this.Tt!=
a&&(this.Tt=a)},n2:function(){return this.ck},Ze:function(){if(!p.Cd)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";return this.Hq},M9:function(a){if(!p.Cd)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.Hq!=a&&(this.Hq=a)},Hn:null,PM:function(){if(!p.Kx)return this.PE();if(null!=p.P.VE&&!1!=p.P.VE){var a=new p.Pb;a.af(p.P.kz);a.ce();var c=p.ia.d().Ho().height/320;0===c&&(c=this.Gb.height/320);var d=new p.Kx;d.mA(!0);
d.Gk("00.0",a,12,32,".");d.Kj(c);this.Wj=d;d=new p.Kx;d.mA(!0);d.Gk("0.000",a,12,32,".");d.Kj(c);this.Yj=d;d=new p.Kx;d.mA(!0);d.Gk("000",a,12,32,".");d.Kj(c);this.dk=d;a=p.DD;this.dk.t(p.Cf(p.a(0,34*c),a));this.Yj.t(p.Cf(p.a(0,17*c),a));this.Wj.t(a)}},PE:function(){var a=0,a=this.Gb.width>this.Gb.height?0|this.Gb.height/320*24:0|this.Gb.width/320*24;this.Wj=p.V.create("000.0","Arial",a);this.Yj=p.V.create("0.000","Arial",a);this.dk=p.V.create("0000","Arial",a);var a=p.DD,c=this.dk.e();this.dk.t(p.Cf(p.a(c.width/
2,5*c.height/2),a));c=this.Yj.e();this.Yj.t(p.Cf(p.a(c.width/2,3*c.height/2),a));c=this.Wj.e();this.Wj.t(p.Cf(p.a(c.width/2,c.height/2),a))},xM:function(){this.jA=(Date.now()-this.gj)/1E3}});p.va.xc?(p.P.prototype.ME=p.P.prototype.MM,p.P.prototype.Ey=p.P.prototype.sM,p.P.prototype.Ay=p.P.prototype.oM,p.P.prototype.Hn=p.P.prototype.PM):(p.P.prototype.ME=p.P.prototype.FM,p.P.prototype.Hn=p.P.prototype.PE);
p.BK=p.P.extend({lw:!1,HJ:function(){this.Jq=!0;this.lw=!1;p.Ji.d().js(this.wg)},bI:function(){this.Yu?(this.Yu=!1,this.CT()):this.lw||this.AQ()},JJ:function(){this.lw=!0},js:function(a){this.wg=a;this.lw||(this.JJ(),this.HJ())}});p.Hw=null;p.VG=!0;p.P.d=function(){p.VG&&(p.VG=!1,p.Hw=new p.BK,p.Hw.r(),p.Hw.tV(p.ia.d()));return p.Hw};Object.defineProperties(p,{hba:{get:function(){return p.sQ.Gb},enumerable:!0}});p.t1=!0;p.jQ=60;p.P.kz=new Image;
p.P.kz.addEventListener("load",function(){p.P.VE=!0;this.removeEventListener("load",arguments.callee,!1)});p.P.kz.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAAgCAYAAAD9qabkAAAKQ2lDQ1BJQ0MgcHJvZmlsZQAAeNqdU3dYk/cWPt/3ZQ9WQtjwsZdsgQAiI6wIyBBZohCSAGGEEBJAxYWIClYUFRGcSFXEgtUKSJ2I4qAouGdBiohai1VcOO4f3Ke1fXrv7e371/u855zn/M55zw+AERImkeaiagA5UoU8Otgfj09IxMm9gAIVSOAEIBDmy8JnBcUAAPADeXh+dLA//AGvbwACAHDVLiQSx+H/g7pQJlcAIJEA4CIS5wsBkFIAyC5UyBQAyBgAsFOzZAoAlAAAbHl8QiIAqg0A7PRJPgUA2KmT3BcA2KIcqQgAjQEAmShHJAJAuwBgVYFSLALAwgCgrEAiLgTArgGAWbYyRwKAvQUAdo5YkA9AYACAmUIszAAgOAIAQx4TzQMgTAOgMNK/4KlfcIW4SAEAwMuVzZdL0jMUuJXQGnfy8ODiIeLCbLFCYRcpEGYJ5CKcl5sjE0jnA0zODAAAGvnRwf44P5Dn5uTh5mbnbO/0xaL+a/BvIj4h8d/+vIwCBAAQTs/v2l/l5dYDcMcBsHW/a6lbANpWAGjf+V0z2wmgWgrQevmLeTj8QB6eoVDIPB0cCgsL7SViob0w44s+/zPhb+CLfvb8QB7+23rwAHGaQJmtwKOD/XFhbnauUo7nywRCMW735yP+x4V//Y4p0eI0sVwsFYrxWIm4UCJNx3m5UpFEIcmV4hLpfzLxH5b9CZN3DQCshk/ATrYHtctswH7uAQKLDljSdgBAfvMtjBoLkQAQZzQyefcAAJO/+Y9AKwEAzZek4wAAvOgYXKiUF0zGCAAARKCBKrBBBwzBFKzADpzBHbzAFwJhBkRADCTAPBBCBuSAHAqhGJZBGVTAOtgEtbADGqARmuEQtMExOA3n4BJcgetwFwZgGJ7CGLyGCQRByAgTYSE6iBFijtgizggXmY4EImFINJKApCDpiBRRIsXIcqQCqUJqkV1II/ItchQ5jVxA+pDbyCAyivyKvEcxlIGyUQPUAnVAuagfGorGoHPRdDQPXYCWomvRGrQePYC2oqfRS+h1dAB9io5jgNExDmaM2WFcjIdFYIlYGibHFmPlWDVWjzVjHVg3dhUbwJ5h7wgkAouAE+wIXoQQwmyCkJBHWExYQ6gl7CO0EroIVwmDhDHCJyKTqE+0JXoS+cR4YjqxkFhGrCbuIR4hniVeJw4TX5NIJA7JkuROCiElkDJJC0lrSNtILaRTpD7SEGmcTCbrkG3J3uQIsoCsIJeRt5APkE+S+8nD5LcUOsWI4kwJoiRSpJQSSjVlP+UEpZ8yQpmgqlHNqZ7UCKqIOp9aSW2gdlAvU4epEzR1miXNmxZDy6Qto9XQmmlnafdoL+l0ugndgx5Fl9CX0mvoB+nn6YP0dwwNhg2Dx0hiKBlrGXsZpxi3GS+ZTKYF05eZyFQw1zIbmWeYD5hvVVgq9ip8FZHKEpU6lVaVfpXnqlRVc1U/1XmqC1SrVQ+rXlZ9pkZVs1DjqQnUFqvVqR1Vu6k2rs5Sd1KPUM9RX6O+X/2C+mMNsoaFRqCGSKNUY7fGGY0hFsYyZfFYQtZyVgPrLGuYTWJbsvnsTHYF+xt2L3tMU0NzqmasZpFmneZxzQEOxrHg8DnZnErOIc4NznstAy0/LbHWaq1mrX6tN9p62r7aYu1y7Rbt69rvdXCdQJ0snfU6bTr3dQm6NrpRuoW623XP6j7TY+t56Qn1yvUO6d3RR/Vt9KP1F+rv1u/RHzcwNAg2kBlsMThj8MyQY+hrmGm40fCE4agRy2i6kcRoo9FJoye4Ju6HZ+M1eBc+ZqxvHGKsNN5l3Gs8YWJpMtukxKTF5L4pzZRrmma60bTTdMzMyCzcrNisyeyOOdWca55hvtm82/yNhaVFnMVKizaLx5balnzLBZZNlvesmFY+VnlW9VbXrEnWXOss623WV2xQG1ebDJs6m8u2qK2brcR2m23fFOIUjynSKfVTbtox7PzsCuya7AbtOfZh9iX2bfbPHcwcEh3WO3Q7fHJ0dcx2bHC866ThNMOpxKnD6VdnG2ehc53zNRemS5DLEpd2lxdTbaeKp26fesuV5RruutK10/Wjm7ub3K3ZbdTdzD3Ffav7TS6bG8ldwz3vQfTw91jicczjnaebp8LzkOcvXnZeWV77vR5Ps5wmntYwbcjbxFvgvct7YDo+PWX6zukDPsY+Ap96n4e+pr4i3z2+I37Wfpl+B/ye+zv6y/2P+L/hefIW8U4FYAHBAeUBvYEagbMDawMfBJkEpQc1BY0FuwYvDD4VQgwJDVkfcpNvwBfyG/ljM9xnLJrRFcoInRVaG/owzCZMHtYRjobPCN8Qfm+m+UzpzLYIiOBHbIi4H2kZmRf5fRQpKjKqLupRtFN0cXT3LNas5Fn7Z72O8Y+pjLk722q2cnZnrGpsUmxj7Ju4gLiquIF4h/hF8ZcSdBMkCe2J5MTYxD2J43MC52yaM5zkmlSWdGOu5dyiuRfm6c7Lnnc8WTVZkHw4hZgSl7I/5YMgQlAvGE/lp25NHRPyhJuFT0W+oo2iUbG3uEo8kuadVpX2ON07fUP6aIZPRnXGMwlPUit5kRmSuSPzTVZE1t6sz9lx2S05lJyUnKNSDWmWtCvXMLcot09mKyuTDeR55m3KG5OHyvfkI/lz89sVbIVM0aO0Uq5QDhZML6greFsYW3i4SL1IWtQz32b+6vkjC4IWfL2QsFC4sLPYuHhZ8eAiv0W7FiOLUxd3LjFdUrpkeGnw0n3LaMuylv1Q4lhSVfJqedzyjlKD0qWlQyuCVzSVqZTJy26u9Fq5YxVhlWRV72qX1VtWfyoXlV+scKyorviwRrjm4ldOX9V89Xlt2treSrfK7etI66Trbqz3Wb+vSr1qQdXQhvANrRvxjeUbX21K3nShemr1js20zcrNAzVhNe1bzLas2/KhNqP2ep1/XctW/a2rt77ZJtrWv913e/MOgx0VO97vlOy8tSt4V2u9RX31btLugt2PGmIbur/mft24R3dPxZ6Pe6V7B/ZF7+tqdG9s3K+/v7IJbVI2jR5IOnDlm4Bv2pvtmne1cFoqDsJB5cEn36Z8e+NQ6KHOw9zDzd+Zf7f1COtIeSvSOr91rC2jbaA9ob3v6IyjnR1eHUe+t/9+7zHjY3XHNY9XnqCdKD3x+eSCk+OnZKeenU4/PdSZ3Hn3TPyZa11RXb1nQ8+ePxd07ky3X/fJ897nj13wvHD0Ivdi2yW3S609rj1HfnD94UivW2/rZffL7Vc8rnT0Tes70e/Tf/pqwNVz1/jXLl2feb3vxuwbt24m3Ry4Jbr1+Hb27Rd3Cu5M3F16j3iv/L7a/eoH+g/qf7T+sWXAbeD4YMBgz8NZD+8OCYee/pT/04fh0kfMR9UjRiONj50fHxsNGr3yZM6T4aeypxPPyn5W/3nrc6vn3/3i+0vPWPzY8Av5i8+/rnmp83Lvq6mvOscjxx+8znk98ab8rc7bfe+477rfx70fmSj8QP5Q89H6Y8en0E/3Pud8/vwv94Tz+4A5JREAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfcAgcQLxxUBNp/AAAQZ0lEQVR42u2be3QVVZbGv1N17829eRLyIKAEOiISEtPhJTJAYuyBDmhWjAEx4iAGBhxA4wABbVAMWUAeykMCM+HRTcBRWkNH2l5moS0LCCrQTkYeQWBQSCAIgYRXEpKbW/XNH5zS4noR7faPEeu31l0h4dSpvc+t/Z199jkFWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhY/H9D/MR9qfKnLj/00U71aqfJn9+HCkCR/Wk36ddsgyJ/1wF4fkDfqqm9/gPsUeTnVr6a2xlQfnxdI7zs0W7irzD17Ytb2WT7EeNv/r4ox1O3Quf2QP2pgt9utwfout4FQE8AVBSlnaRmfvAURQkg2RlAbwB9AThlW5L0GaiKojhJhgOIBqDa7XaPrusdPtr5kQwF0BVAAoBIABRCKDd5aFUhRDAAw57eAOwAhKIoupft3zoqhB1AqLwuHIBut9uFt02qqvqRDJR2dAEQJj/BAOjn56dqmma+xiaECAEQAWAggLsB6A6HQ2iaZggBhBAqgEAAnQB0kzaEmT4hAITT6VQ8Ho/HJAKKECJQtr8LwD1y/A1/vcdfEUIEyfZ9AcQbYvZ942Px88L2UwlJR0dH0EMPPbRj5syZPUeNGrXR7Xb/641xIwJ1XY9NSUlZm52dfW+XLl1w8uRJzJ8//+OGhoYJqqqe1TSt1Wsm9NN1PSIqKmr12rVrR5WUlHy1bdu2AQCumWc3IYRD1/UwVVXnFRQUTIuNjUVzczN2797dWFJSkq8oymZd15sAGAEnFEUJ1nX9nzIzM1dnZmZGh4SE4OTJk5g5c+Zf29vbp9pstrMej6fVOyhIhgAYU1hY+B+hoaGoqKg4XVlZea+XTULTNFdCQsLGiRMnPuR2u3UhBOV9eeDAAWXTpk095DUe6WsoyRE5OTlr0tLSAux2O/bs2cO5c+e+pijKUpIXSHaQVAGkvPLKK++6XK4OksJLCFlXV2cvKSlJBFAjhU+x2WwhHo9nUHp6+urMzMy7wsLCUF9fjxdffPHjxsbGiTab7WuPx9NiEutOuq4PyMjI+M+srKyYqKgoHD58GDNmzNjq8XhyVFU9b/q+LH7hBAEYu3PnTlZVVRFAGgCX6f/tAHoOHDjwa0p27txp/JO9e/f+QM7cipw9nfL3kQBKt2zZQpJ87rnn6mQmoHilw2EACs+cOUOSrK+vZ1NTE0nyo48+IoBpxswoBcMJ4Ndjx471kOTFixe5d+9ekqTH42H//v13A4jyzpAURfEH0H/OnDnthu1z5sw558MmFUCPWbNmnaMP3nrrLZoyDmP8Hl68eDFJ8siRI9/Yc+zYMQKYKdtAztrTrl27xptRXV1NAKMAOAyBBBA/Y8aMdpLs6Ojgxx9//E37+++//29yvFXppwvAwMcee8xjtDHsuXLlCqOjo//ia3wsfpkoALqFhoZuIckJEyackimm3dQmEMDUmpoakmRISMhhAHOHDx/eQJIbN24kgKEyMAHAFRMTs2XXrl1saWkhSZ0kp0+ffhrAr3wEW/S8efOukORLL72kA1gKYMPWrVtJkk899dRJAHeYrgsEsIQkjx8/TgDvAPjd448/3kaSb7zxBmUa7vC6z53BwcFbSHL9+vU6Sc6aNes8gF5ewWAH0PfVV18lSQL4DMBGIcQ6AKtcLleBFC2jXtFt8ODBe0iyoqKCAJYByC8qKmJDQwOzsrK+MAmqo1OnTveHhoa+GRkZ+XZkZOSWiIiIvzgcjk9mzpypkWRmZuZpmbYbGV4AgPnNzc1sa2sjgN0A5iQmJtaSZHl5OQHcb/K3s81mW0uSTU1NBFAFYFbfvn1Pk+Tbb79NAA8IIVzW42/hByA+Pz/fLR/2ZXIda05NI/z9/TeR5J49ewhgqlxTrtI0jY2NjQQw3zTLuWJiYjaUlJToS5Ys6fjkk080kwDEeAmADcA9GzZsIElGRUW9CyAWwLApU6Y0kOSKFSsog9QICGdERMTGsrIyZmVlEcC9AB4IDw/fTpLbtm0jgN94CUAnAJmVlZVcs2aNZ/LkyRdJcvbs2b4EwAkgZfPmzTxw4AABFAN4BkC6vFeUSewcAO5duXIlSTIhIaEawGMAxgKYAmAGgCS73e5vrKVk/yGythANYEhCQsIhkly+fDkBpKqqGmL6DgIALDKN/3yZpVWQZGVlJQE8aPI3KiMjo5okV61aRQAjAPQBMPfIkSN0u90EUCBtsPiFEwpgbn19PdetW2fM5N4zQ9ekpKQqkty0aRMBpMjiWM6JEydIkoqirJUFJ6iq6pAPVy8A6cZMehMBUACEuVyuFwG8HBwcPEIWx367ZMkSjSQXLVrUJouTRorrkAHdA8BdQogsAOsKCwtJkmPGjDkvMw2bDDo/ADEjRoz4XylyFbm5uY0mAbjLyyZ/AOOrq6tZVlbWsWDBgo69e/eyoqKCgwcPPg4gSQaoIRbp27dvN7KF+tLSUr28vJwFBQXtMpvpYRIM7+wrAkDeqVOnePbsWQIoNKfzpiXPg8uXLydJJicnNwF4f+nSpW6STEtLq5fjYwhk1wkTJtSQ5Ouvv04AqTKj+N2xY8dIkgEBAW/Ie1v8wncRegwZMmQvSfbr12+3Ua33WqPfOWbMmP0kWVpaSgCDZAqcfejQIWNZsEGKgvnh9gfQb9myZd8nAEJVVZtMkUNk8CcNHTq0liR1XWdYWNhmH1mJIme80OnTp18x1rp5eXkEsNJms92Fb7e/IgEsvHz5Mp999tkmAI/l5uZeMC0B7vEqqAYAyL106RJJsra2lpWVld+sucePH38ZQG+5NncBeOrgwYMkqbe3t/Po0aOsra011wAWyl0H7x0JJ4DE+fPnu0kyPT29DsDdUrBuyNKEEAkAdpw/f/6GeoEM8GUmfwEgPCIiopwkGxsbabPZPgOw6L777vvm4p49e26VGYjFLxUhhD+ApLKyMp44ccIoVnXybgbgzkcfffRzklyzZg0BDJYCMMmoCwQFBXkLgLGWvvcWAgBToSsKwNPTp09vMR7UuLi4rwH0lgU8c/Db5ezbeeTIkRWzZ8++aMxu+fn5BPCADBwHgP4LFy701NXVEUAJgAnPP/98kyxMNgHo53A4zH77BQQETMvPz7+Um5vbBuAlAFMSExPPmdbVL0qh8Acw8fDhw5SCchVAEYAVb775JknyhRdeaJYztHfxMwLAaqNwCGC2FArv8x0hAHKNLGPKlCme5OTk/Zs3bzb7O0wKiiG8KXl5ed8IxenTp0mSR48e1UmyW7duWywBuD2xyQcgFECgoih+8H1gyJgZV5Lkyy+/3CbTRIePtl2HDBmyw1QBHyGDdXZdXR1JUghRKkXBjOMHCoBdpr0L3nvvPZLkF198wejo6O0A4lVVDTb74HQ6AwD8Wq7Jh8rgGgDgQ13XjVR8qaxJuADMbmlpYXl5uV5UVNRWUFDgfv/993Vj/ZydnU1c37eHXML4S3viAcQqitJD2l104cIFY8lTKsXSBWBMVVWVcd9yed2A1NTUQ6Zl00CvLMMOoHdubm6zFIlWOf5+PsY/Kj09vdrU11QAwwGsv3jxIk21m2DZr10I0RXAuAcffPBgaWkpV69eTYfDcdiwUxY0w6xw+flX8L1xApjevXv3lREREaW6rofB93aPDUDQpEmTMgHgtddeqwBwEd/utZvpqK6uPgEAcXFxkA94NwB9unfvjrNnz4LklwDcf08iIqv66Zs2bXrl4YcfxooVKxAbG7uqrq5uAYA2TdOEqqpGYIi2tjbl6aeffu/YsWPv5uTk7JaC1wHg4Pnz542MwoVvTx+21dbWYvjw4WLixIl+2dnZ9lGjRgmSTE1NRUpKCkwFTGiaxtTU1OXTpk3707Bhw/6g67pDipnT4biuj7qut+Lbk3Vf1tTUXI9qu91Pjq1QFEUBgJaWFgBo8yGOQ8eNGxcAAOvXr/8QwBUfYygAKL169eoCABcuXACAWtn2hOGv0+kMNO1KiPDw8F4A4rZv3/7R1KlTR0+bNu1ht9u9r1+/fqitrQXJgwDarRC6/QjPzs4+QJIffPCB9/aQmSAA43ft2mW0e1QGoi8CAPyLsZccExNTC2BlRkbGRdOyYJCP2csBIN6UAZzCd7cBbQCijYp/dXU1ExMTz6SmptaMHj36f9LS0vYlJCRsl6mxIWSdu3fv/g5J7t+/nwC2AShMTk6+SJKff/45AWRLYbD7+fndAeDf5BJnLoCCyZMnt5JkdnZ2C4B/F0KEm1Pu+Pj4rST55ZdfEsBWAK+mpaVdMo3raDn7KwDuSEpK+m+S3LBhAwG8DuCtHTt2UBbpjgC408vvcFVV15HkuXPnjMp+p5uMf0RcXNyHJNnQ0EBVVfcCWBQXF3fG+Jv0yxABPwB5LS0tRmFxN4BlTzzxxGWSXLx4sS5F3GGFy+1Hp5SUlJq6ujoWFxdTpsZ2H+0iIyMj/0iSWVlZX5mr5jfJFroPGzasxlhTnjp1iiTZ3NxMl8tlrCd9pfa9SkpKSJI5OTmnZOageLUZZqxvfVFWVkZcPwdgNwnSCKPqb17jkmR8fPzfZMDZ5CRsFBmNI7h95s2b1yhT7/MAYmStwCx4vy0uLqa3v5qmEcCfvSr1QQAeXb16NY3Cm3HQ55133iGAp+SxZTNhKSkpfzUddkrFjYevzAQCeGjp0qXfsYckY2NjTwD4leGDLCL2HTdunNtoY+zWSHFcIHdsFCtcfuZ1vO9Eqs3m7/F47sb1k2qX/f3997W2tl7BjWfpBYDOzzzzzIVJkyZh0KBBCwEsB3AJvl9AETabLcDj8dwRFRW1ctasWb8JCgpSzp07d62wsPC/Wltb8xRFadR1/ZqPXYbgAQMGbI2Pjw/+6quv9ldVVT0r01ezuPRJSUn5Y9euXXVd11WzDaqq6kePHm3+7LPPRgO4KlNuxWazhXo8nuTk5OSXMjIyEl0uFxoaGtqKior+dPXq1VdUVT0jj7r68ieoT58+vx8yZMjdx48fP1JVVTVF9m20VW02WyfZf97YsWPjXS4X6urqWvPy8jYCWCyEuEDS8FdVFKWzruv//OSTTy5OTk7uqWkaPv3007qysrJ8RVH+LI8ym8/rB3Tu3HnRI488knLo0KG2ffv2ZQI4C98vP6mqqoZqmpaclpa2cOTIkX39/f3R0NDQUVxc/G5TU9PLqqrWa5rWLH1QVFUN0TStX1JSUvH48eP7BwYG4uDBg1cKCgpeBbBe2u+2Qug2EwD5N5sMPuNtMe8XP4TT6Qxoa2sbIGeXvUKIK7d4IISiKC5d1wPljOfA9bPwzYqiXNV13dd6Uqiq6qdpml2mpe02m63d4/G4vcTF5fF47LJf71nJA6BZVVW3pmntuPHlmAD5wk6Q9NnbHp9vHaqq6tA0zU/64PZhk1FfCZB9G/23ALiqKEqzD39tpvbGUqoFwFUhRLP3yzpCCDtJpxyXDulfG27+pqRR3DXsUWVd4Yq0x/taVQjhIhksC8L+ABpM9ljBf5sKwI8pIBr75L5E4vvu+UNeG/a+hv+AL7yFH8qPtOfHjtOP6V/Bja8D6z/B2Nys/1u9Xv33tLf4GfF/LC4GCJwByWIAAAAASUVORK5CYII\x3d";p.tp=p.sa.extend({oq:null,pq:null,qq:null,Cn:null,Dn:null,En:null,nr:null,or:null,pr:null,xa:null,Hu:null,ctor:function(){this.Hu=new p.Tg;this.restore()},description:function(){return"\x3cCCCamera | center \x3d("+this.Cn+","+this.Dn+","+this.En+")\x3e"},kg:function(a){this.xa=a},PH:function(){return this.xa},restore:function(){this.oq=this.pq=0;this.qq=p.tp.Nr();this.nr=this.Cn=this.Dn=this.En=0;this.or=1;this.pr=0;p.v6(this.Hu);this.xa=!1},XH:function(){if(this.xa){var a=new p.Vo,c=new p.Vo,d=new p.Vo;
p.Vr(a,this.oq,this.pq,this.qq);p.Vr(c,this.Cn,this.Dn,this.En);p.Vr(d,this.nr,this.or,this.pr);p.BS(this.Hu,a,c,d);this.xa=!1}p.nw(this.Hu)},n9:function(a,c,d){this.ZI(a,c,d)},ZI:function(a,c,d){this.oq=a;this.pq=c;this.qq=d;this.xa=!0},W8:function(a,c,d){this.KU(a,c,d)},KU:function(a,c,d){this.Cn=a;this.Dn=c;this.En=d;this.xa=!0},N$:function(a,c,d){this.KV(a,c,d)},KV:function(a,c,d){this.nr=a;this.or=c;this.pr=d;this.xa=!0},v2:function(){return{x:this.oq,y:this.pq,z:this.qq}},fH:function(){return{x:this.oq,
y:this.pq,z:this.qq}},U1:function(){return{x:this.Cn,y:this.Dn,z:this.En}},dH:function(){return{x:this.Cn,y:this.Dn,z:this.En}},L4:function(){return{x:this.nr,y:this.or,z:this.pr}},BR:function(){return{x:this.nr,y:this.or,z:this.pr}},wZ:function(){}});p.tp.Nr=function(){return p.et};p.ot=-2147483648;p.tY=p.ot+1;p.Es=function(a,c){if(a&&0<a.length)for(var d=0;d<a.length;d++)if(!(a[d]instanceof c)){p.log("element type is wrong!");break}};p.qp=function(a,c){a.splice(c,1)};p.yd=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c){a.splice(d,1);break}};p.UW=function(a,c){for(var d=0,e=c.length;d<e;d++)p.yd(a,c[d])};p.TW=function(a,c){return a.indexOf(c)};p.RW=function(a,c){a.push(c)};p.fl=function(a,c,d){a.splice(d,0,c);return a};
p.SW=function(a,c,d){a.splice.apply(a,[d,0].concat(c));return a};p.rx=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c)return d;return-1};p.px=function(a,c){return-1!=a.indexOf(c)};p.MX=function(a,c){if(null==a)return null;for(var d=0;d<a.length;d++)if(a[d].target===c)return a[d];return null};p.LD=function(a,c,d){this.next=null;this.target=a;this.tI=c;this.paused=d;this.Ok=!1};p.HD=function(a,c,d){this.list=a;this.nm=c;this.target=d;this.IB=null};
p.OK=function(a,c){this.Ff=null;this.target=a;this.mp=0;this.yr=this.xr=null;this.paused=c;this.IB=null};
p.Ft=p.sa.extend({fj:0,qf:null,M:null,Ub:0,FF:!1,Bv:!1,ro:0,cA:0,ju:0,ctor:function(){},Q2:function(){return this.fj},setInterval:function(){},h4:function(){return this.qf},eg:function(a,c,d,e,f){this.M=a;this.qf=c;this.Ub=-1;this.fj=d||0;this.ju=f||0;this.Bv=0<this.ju;this.cA=null==e?p.ml:e;this.FF=this.cA==p.ml;return!0},Hy:function(){if("string"==typeof this.qf)this.M[this.qf](this.Ub);else this.qf.call(this.M,this.Ub)},update:function(a){if(-1==this.Ub)this.ro=this.Ub=0;else{var c=this.M,d=this.qf;
this.FF&&!this.Bv?(this.Ub+=a,this.Ub>=this.fj&&(c&&d&&this.Hy(),this.Ub=0)):(this.Ub+=a,this.Bv?this.Ub>=this.ju&&(c&&d&&this.Hy(),this.Ub-=this.ju,this.ro+=1,this.Bv=!1):this.Ub>=this.fj&&(c&&d&&this.Hy(),this.Ub=0,this.ro+=1),this.ro>this.cA&&p.P.d().$e().TJ(c,d))}}});p.Ft.Iaa=function(a,c,d){if(2>arguments.length)throw Error("timerWithTarget'argument can't is null");var e=new p.Ft;e.eg(a,c,d||0,p.ml,0);return e};p.j_=null;
p.DL=p.sa.extend({gr:1,Lg:null,uh:null,$f:null,cj:null,Vt:null,bj:null,IZ:null,Oe:null,ci:!1,yv:!1,ctor:function(){this.gr=1;this.Lg=[];this.uh=[];this.$f=[];this.cj={};this.Vt=[];this.bj={};this.Zj=[];this.Oe=null;this.yv=this.ci=!1},bA:function(a){delete this.bj[a.target.Tb];p.yd(this.Zj,a);a.Ft=null;a.target=null},OZ:function(a,c){for(var d=0;d<a.length;d++)if(a[d].target==c)return a[d];return null},$u:function(a){if(a=this.cj[a.target.Tb])p.yd(a.list,a.nm),delete this.cj[a.target.Tb],p.yd(this.Vt,
a),a.nm=null,a.target=null},yF:function(a,c,d,e){e=new p.LD(c,d,e);if(a){for(var f=!1,g=0;g<a.length;g++)if(d<a[g].tI){a=p.fl(a,e,g);f=!0;break}f||a.push(e)}else a=[],a.push(e);d=new p.HD(a,e,c);this.Vt.push(d);this.cj[c.Tb]=d;return a},rM:function(a,c,d){d=new p.LD(c,0,d);a.push(d);a=new p.HD(a,d,c);this.Vt.push(a);this.cj[c.Tb]=a},G$:function(a){this.gr=a},A4:function(){return this.gr},update:function(a){this.yv=!0;1!=this.gr&&(a*=this.gr);var c,d;for(d=0;d<this.Lg.length;d++)c=this.Lg[d],c.paused||
c.Ok||c.target.update(a);for(d=0;d<this.uh.length;d++)c=this.uh[d],c.paused||c.Ok||c.target.update(a);for(d=0;d<this.$f.length;d++)c=this.$f[d],c.paused||c.Ok||c.target.update(a);for(d=0;d<this.Zj.length;d++){c=this.Oe=this.Zj[d];this.ci=!1;if(!this.Oe.paused)for(c.mp=0;c.mp<c.Ff.length;c.mp++)c.xr=c.Ff[c.mp],c.yr=!1,c.xr.update(a),c.xr=null;this.ci&&0==this.Oe.Ff.length&&this.bA(this.Oe)}for(d=0;d<this.Lg.length;d++)this.Lg[d].Ok&&this.$u(this.Lg[d]);for(d=0;d<this.uh.length;d++)this.uh[d].Ok&&this.$u(this.uh[d]);
for(d=0;d<this.$f.length;d++)this.$f[d].Ok&&this.$u(this.$f[d]);this.yv=!1;this.Oe=null},sU:function(a,c,d,e,f,g){if(!c)throw"cc.scheduler.scheduleCallbackForTarget(): callback_fn should be non-null.";if(!a)throw"cc.scheduler.scheduleCallbackForTarget(): target should be non-null.";d=d||0;e=null==e?p.ml:e;f=f||0;g=g||!1;var h=this.bj[a.Tb];h||(h=new p.OK(a,g),this.Zj.push(h),this.bj[a.Tb]=h);if(null==h.Ff)h.Ff=[];else for(var k=0;k<h.Ff.length;k++)if(g=h.Ff[k],c==g.qf){p.log("CCSheduler#scheduleCallback. Callback already scheduled. Updating interval from:"+
g.fj.toFixed(4)+" to "+d.toFixed(4));g.fj=d;return}g=new p.Ft;g.eg(a,c,d,e,f);h.Ff.push(g)},KI:function(a,c,d){var e=this.cj[a.Tb];e?e.nm.Ok=!1:0==c?this.rM(this.uh,a,d):0>c?this.Lg=this.yF(this.Lg,a,c,d):this.$f=this.yF(this.$f,a,c,d)},TJ:function(a,c){if(null!=a&&null!=c){var d=this.bj[a.Tb];if(null!=d)for(var e=0;e<d.Ff.length;e++){var f=d.Ff[e];if(c==f.qf){f!=d.xr||d.yr||(d.yr=!0);p.qp(d.Ff,e);d.mp>=e&&d.mp--;0==d.Ff.length&&(this.Oe==d?this.ci=!0:this.bA(d));break}}}},np:function(a){null!=a&&
(a=this.cj[a.Tb],null!=a&&(this.yv?a.nm.Ok=!0:this.$u(a.nm)))},SJ:function(a){if(null!=a){var c=this.bj[a.Tb];c&&(!c.yr&&p.px(c.Ff,c.xr)&&(c.yr=!0),c.Ff.length=0,this.Oe==c?this.ci=!0:this.bA(c));this.np(a)}},vs:function(){this.nW(p.ot)},nW:function(a){var c;for(c=0;c<this.Zj.length;c++)this.SJ(this.Zj[c].target);if(0>a)for(c=0;c<this.Lg.length;c++)this.np(this.Lg[c].target);if(0>=a)for(c=0;c<this.uh.length;c++)this.np(this.uh[c].target);for(c=0;c<this.$f.length;c++)this.$f[c].tI>=a&&this.np(this.$f[c].target)},
N7:function(){return this.mT(p.ot)},mT:function(a){var c=[],d,e;for(d=0;d<this.Zj.length;d++)if(e=this.Zj[d])e.paused=!0,c.push(e.target);if(0>a)for(d=0;d<this.Lg.length;d++)if(e=this.Lg[d])e.paused=!0,c.push(e.target);if(0>=a)for(d=0;d<this.uh.length;d++)if(e=this.uh[d])e.paused=!0,c.push(e.target);for(d=0;d<this.$f.length;d++)if(e=this.$f[d])e.paused=!0,c.push(e.target);return c},lU:function(a){if(a)for(var c=0;c<a.length;c++)this.Jm(a[c])},ds:function(a){if(!a)throw"cc.Scheduler.pauseTarget():target should be non-null";
var c=this.bj[a.Tb];c&&(c.paused=!0);if(a=this.cj[a.Tb])a.nm.paused=!0},Jm:function(a){if(!a)throw"cc.Scheduler.resumeTarget():target should be non-null";var c=this.bj[a.Tb];c&&(c.paused=!1);if(a=this.cj[a.Tb])a.nm.paused=!1},h6:function(a){if(!a)throw"cc.Scheduler.isTargetPaused():target should be non-null";return(a=this.bj[a.Tb])?a.paused:!1}});p.Vx={IMAGE:["png","jpg","bmp","jpeg","gif"],SOUND:["mp3","ogg","wav","mp4","m4a"],XML:["plist","xml","fnt","tmx","tsx"],BINARY:["ccbi"],FONT:"FONT",TEXT:["txt","vsh","fsh","json","ExportJson"],UNKNOW:[]};
p.Ob=p.sa.extend({In:0,jr:0,Eq:0,Ll:null,wg:1/60,fj:null,fF:!1,ctor:function(){this.Ll=[]},jw:function(a,c,d){if(a){c&&(this.qf=c,this.M=d);if(a!=this.Ll||0==this.In){this.Eq=this.In=0;if(a[0]instanceof Array)for(c=0;c<a.length;c++)this.Ll=this.Ll.concat(a[c]);else this.Ll=a;this.jr=this.Ll.length}this.kO()}else console.log("resources should not null")},FU:function(a){this.fF=a},Am:function(a){this.Eq++;p.log("cocos2d:Failed loading resource: "+a)},Kh:function(){this.Eq++},$v:function(){var a=0;return a=
0==this.jr?100:0|this.Eq/this.jr*100},ST:function(a){if(a&&0<a.length)for(var c=p.Na.d(),d=p.$g?p.$g.d():null,e=p.Sj.d(),f=p.jd.d(),g,h=0;h<a.length;h++){g=a[h];var k=this.YE(g);switch(k){case "IMAGE":c.dU(g.src);break;case "SOUND":if(!d)throw"Can not find AudioEngine! Install it, please.";d.Paa(g.src);break;case "XML":e.lW(g.src);break;case "BINARY":f.kW(g.src);break;case "TEXT":f.mW(g.src);break;case "FONT":break;default:throw"cocos2d:unknown filename extension: "+k;}}},RN:function(){this.zv();
if(this.fF){var a=p.P.d().qu;if(null!=a&&20>a){p.log("cocos2d: frame rate less than 20 fps, skip frame.");return}}this.In<this.jr&&(this.zN(),this.In++)},zN:function(){var a=p.Na.d(),c=p.$g?p.$g.d():null,d=p.Sj.d(),e=p.jd.d(),f=this.Ll[this.In],g=this.YE(f);switch(g){case "IMAGE":a.Kb(f.src);break;case "SOUND":if(!c)throw"Can not find AudioEngine! Install it, please.";c.T7(f.src);break;case "XML":d.yT(f.src);break;case "BINARY":e.xT(f.src);break;case "TEXT":e.zT(f.src);break;case "FONT":this.TN(f);
break;default:throw"cocos2d:unknown filename extension: "+g;}},kO:function(){var a=this;this.fj=setInterval(function(){a.RN()},1E3*this.wg)},aP:function(){clearInterval(this.fj)},YE:function(a){if(null!=a.Cr)return p.Vx.FONT;a=a.src;a=a.substring(a.lastIndexOf(".")+1,a.length);var c=a.indexOf("?");0<c&&(a=a.substring(0,c));for(var d in p.Vx)if(-1!=p.Vx[d].indexOf(a))return d;return a},zv:function(){100<=this.$v()&&(this.aP(),this.NM())},NM:function(){if(this.M&&"string"==typeof this.qf)this.M[this.qf](this);
else this.M&&"function"==typeof this.qf?this.qf.call(this.M,this):this.qf(this);this.jr=this.Eq=this.In=0},TN:function(a){var c=a.src,d=p.jd.d();if(c&&0<c.length){var e=document.createElement("style");e.type="text/css";document.body.appendChild(e);for(var f="@font-face { font-family:"+a.Cr+"; src:",g=0;g<c.length;g++)f+="url('"+d.Vd(encodeURI(c[g].src))+"') format('"+c[g].type+"')",f+=g==c.length-1?";":",";e.textContent+=f+"};";c=document.createElement("div");c.style.fontFamily=a.Cr;c.innerHTML=".";
c.style.position="absolute";c.style.left="-100px";c.style.top="-100px";document.body.appendChild(c)}p.Ob.d().Kh()},p_:function(){}});p.Ob.mC=function(a,c,d){this.ub||(this.ub=new p.Ob);this.ub.jw(a,c,d);return this.ub};p.Ob.S7=function(a,c,d){this.ub||(this.ub=new p.Ob);this.ub.FU(!0);this.ub.jw(a,c,d);return this.ub};p.Ob.oC=function(a){this.ub&&this.ub.ST(a)};p.Ob.d=function(){this.ub||(this.ub=new p.Ob);return this.ub};p.Ob.ub=null;
p.Mx=p.Ap.extend({Gu:null,Zn:null,ov:null,Rp:null,Xn:null,SA:null,ctor:function(){p.Ap.prototype.ctor.call(this);this.SA=p.P.d().Gb},r:function(){p.Ap.prototype.r.call(this);var a=p.a(this.SA.width/2,this.SA.height/2);this.Zn=new Image;var c=this;this.Zn.addEventListener("load",function(){c.jN(a);this.removeEventListener("load",arguments.callee,!1)});this.Zn.src="";this.Zn.width=160;this.Zn.height=200;this.Rp=p.Eb.create(p.cB(32,32,32,255));this.Rp.t(0,0);this.p(this.Rp,0);this.Xn=p.V.create("Loading... 0%",
"Arial",14);this.Xn.k(p.Gv(180,180,180));this.Xn.t(p.Cf(a,p.a(0,-110)));this.Rp.p(this.Xn,10)},jN:function(a){this.ov=new p.Pb;this.ov.af(this.Zn);this.ov.ce();this.Gu=p.w.Hc(this.ov);this.Gu.Kj(p.hd());this.Gu.t(a);this.Rp.p(this.Gu,10)},ig:function(){p.F.prototype.ig.call(this);this.wc(this.SF,0.3)},td:function(){p.F.prototype.td.call(this);this.Xn.ga("Loading... 0%")},jw:function(a,c,d){this.iU=a;this.xU=c;this.target=d},SF:function(){this.xd(this.SF);p.Ob.mC(this.iU,this.xU,this.target);this.wc(this.zv)},
zv:function(){var a=p.Ob.d().$v();this.Xn.ga("Loading... "+a+"%");100<=a&&this.xd(this.zv)}});p.Mx.mC=function(a,c,d){this.ub||(this.ub=new p.Mx,this.ub.r());this.ub.jw(a,c,d);a=p.P.d();a.Sc?a.FI(this.ub):a.qU(this.ub);return this.ub};p.Bx=p.sa.extend({gb:null,l$:function(a){this.gb=a},U3:function(){return this.gb},ctor:function(a){this.gb=a},mB:function(){p.log("DrawingPrimitive.drawPoint() not implement!")},PG:function(){p.log("DrawingPrimitive.drawPoints() not implement!")},zh:function(){p.log("DrawingPrimitive.drawLine() not implement!")},RG:function(){p.log("DrawingPrimitive.drawRect() not implement!")},nB:function(){p.log("DrawingPrimitive.drawSolidRect() not implement!")},Pd:function(){p.log("DrawingPrimitive.drawPoly() not implement!")},
Qv:function(){p.log("DrawingPrimitive.drawSolidPoly() not implement!")},MG:function(){p.log("DrawingPrimitive.drawCircle() not implement!")},QG:function(){p.log("DrawingPrimitive.drawQuadBezier() not implement!")},NG:function(){p.log("DrawingPrimitive.drawCubicBezier() not implement!")},LG:function(){p.log("DrawingPrimitive.drawCardinalSpline() not implement!")},Pv:function(){p.log("DrawingPrimitive.drawCardinalSpline() not implement!")}});
p.ED=p.Bx.extend({mB:function(a,c){c||(c=1);var d=p.ia.d().la,e=p.ia.d().qa,e=p.a(a.x*d,a.y*e);this.gb.beginPath();this.gb.arc(e.x,-e.y,c*d,0,2*Math.PI,!1);this.gb.closePath();this.gb.fill()},PG:function(a,c,d){if(null!=a){d||(d=1);c=this.gb;var e=p.ia.d().la,f=p.ia.d().qa;c.beginPath();for(var g=0,h=a.length;g<h;g++)c.arc(a[g].x*e,-a[g].y*f,d*e,0,2*Math.PI,!1);c.closePath();c.fill()}},zh:function(a,c){var d=this.gb,e=p.ia.d().la,f=p.ia.d().qa;d.beginPath();d.moveTo(a.x*e,-a.y*f);d.lineTo(c.x*e,-c.y*
f);d.closePath();d.stroke()},RG:function(a,c){this.zh(p.a(a.x,a.y),p.a(c.x,a.y));this.zh(p.a(c.x,a.y),p.a(c.x,c.y));this.zh(p.a(c.x,c.y),p.a(a.x,c.y));this.zh(p.a(a.x,c.y),p.a(a.x,a.y))},nB:function(a,c,d){a=[a,p.a(c.x,a.y),c,p.a(a.x,c.y)];this.Qv(a,4,d)},Pd:function(a,c,d,e){e=e||!1;if(null!=a){if(3>a.length)throw Error("Polygon's point must greater than 2");var f=a[0];c=this.gb;var g=p.ia.d().la,h=p.ia.d().qa;c.beginPath();c.moveTo(f.x*g,-f.y*h);for(var f=1,k=a.length;f<k;f++)c.lineTo(a[f].x*g,
-a[f].y*h);d&&c.closePath();e?c.fill():c.stroke()}},Qv:function(a,c,d){this.YI(d.h,d.g,d.f,d.C);this.Pd(a,c,!0,!0)},MG:function(a,c,d,e,f){f=f||!1;e=this.gb;var g=p.ia.d().la,h=p.ia.d().qa;e.beginPath();e.arc(0|a.x*g,0|-(a.y*h),c*g,-d,-(d-2*Math.PI),!1);f&&e.lineTo(0|a.x*g,0|-(a.y*h));e.stroke()},QG:function(a,c,d,e){for(var f=[],g=0,h=0;h<e;h++)f.push(p.a(Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y)),g+=1/e;f.push(p.a(d.x,d.y));this.Pd(f,e+1,!1,!1)},NG:function(a,
c,d,e,f){for(var g=[],h=0,k=0;k<f;k++)g.push(p.a(Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y)),h+=1/f;g.push(p.a(e.x,e.y));this.Pd(g,f+1,!1,!1)},LG:function(a,c){this.Pv(a,0.5,c)},Pv:function(a,c,d){p.O.strokeStyle="rgba(255,255,255,1)";for(var e=[],f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=p.vx(p.Pg(a,f-1),p.Pg(a,f-0),p.Pg(a,f+1),p.Pg(a,f+2),c,g),e.push(f);this.Pd(e,
d+1,!1,!1)},drawImage:function(a,c,d,e,f){switch(arguments.length){case 2:this.gb.drawImage(a,c.x,-(c.y+a.height));break;case 3:this.gb.drawImage(a,c.x,-(c.y+d.height),d.width,d.height);break;case 5:this.gb.drawImage(a,c.x,c.y,d.width,d.height,e.x,-(e.y+f.height),f.width,f.height);break;default:throw Error("Argument must be non-nil");}},T0:function(a,c,d){a=a||this.gb;c*=p.ia.d().la;d instanceof p.Ad&&(d=new p.lc(0|255*d.h,0|255*d.g,0|255*d.f));d="rgba("+d.h+","+d.g+","+d.f;a.fillStyle=d+",1)";var e=
c/10;a.beginPath();a.moveTo(-c,c);a.lineTo(0,e);a.lineTo(c,c);a.lineTo(e,0);a.lineTo(c,-c);a.lineTo(0,-e);a.lineTo(-c,-c);a.lineTo(-e,0);a.lineTo(-c,c);a.closePath();a.fill();var f=a.createRadialGradient(0,0,e,0,0,c);f.addColorStop(0,d+", 1)");f.addColorStop(0.3,d+", 0.8)");f.addColorStop(1,d+", 0.0)");a.fillStyle=f;a.beginPath();a.arc(0,0,c-e,0,p.PD,!1);a.closePath();a.fill()},R0:function(a,c,d){a=a||this.gb;c*=p.ia.d().la;d instanceof p.Ad&&(d=new p.lc(0|255*d.h,0|255*d.g,0|255*d.f));d="rgba("+
d.h+","+d.g+","+d.f;var e=a.createRadialGradient(0,0,c/10,0,0,c);e.addColorStop(0,d+", 1)");e.addColorStop(0.3,d+", 0.8)");e.addColorStop(0.6,d+", 0.4)");e.addColorStop(1,d+", 0.0)");a.fillStyle=e;a.beginPath();a.arc(0,0,c,0,p.PD,!1);a.closePath();a.fill()},fillText:function(a,c,d){this.gb.fillText(a,c,-d)},VU:function(a,c,d,e){this.gb.fillStyle="rgba("+a+","+c+","+d+","+e/255+")";this.gb.strokeStyle="rgba("+a+","+c+","+d+","+e/255+")"},YI:function(a,c,d,e){this.gb.fillStyle="rgba("+(0|255*a)+","+
(0|255*c)+","+(0|255*d)+","+e+")";this.gb.strokeStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+")"},xV:function(){},gV:function(a){this.gb.lineWidth=a*p.ia.d().la}});
p.EK=p.Bx.extend({zq:!1,xb:null,ai:-1,Yb:null,Qz:-1,Pz:-1,ctor:function(a){null==a&&(a=p.O);if(!a instanceof WebGLRenderingContext)throw"Can't initialise DrawingPrimitiveWebGL. context need is WebGLRenderingContext";p.Bx.prototype.ctor.call(this,a);this.Yb=new p.Ad(1,1,1,1)},Ej:function(){this.zq||(this.xb=p.eh.d().Lh(p.TY),this.ai=this.gb.getUniformLocation(this.xb.aw(),"u_color"),this.Qz=this.gb.getUniformLocation(this.xb.aw(),"u_pointSize"),this.zq=!0)},S0:function(){this.zq=!1},mB:function(a){this.Ej();
this.xb.Le();this.xb.mg();p.Yd(p.ug);this.xb.Xk(this.ai,new Float32Array(this.Yb.Fb,0,4),1);this.xb.sJ(this.Qz,this.Pz);var c=this.gb,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,new Float32Array([a.x,a.y]),c.STATIC_DRAW);c.vertexAttribPointer(p.me,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,1);c.deleteBuffer(d);p.ah()},PG:function(a){if(a&&0!=a.length){this.Ej();this.xb.Le();this.xb.mg();p.Yd(p.ug);this.xb.Xk(this.ai,new Float32Array(this.Yb.Fb,0,4),1);this.xb.sJ(this.Qz,
this.Pz);var c=this.gb,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.Vu(a),c.STATIC_DRAW);c.vertexAttribPointer(p.me,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,a.length);c.deleteBuffer(d);p.ah()}},Vu:function(a){for(var c=new Float32Array(2*a.length),d=0;d<a.length;d++)c[2*d]=a[d].x,c[2*d+1]=a[d].y;return c},zh:function(a,c){this.Ej();this.xb.Le();this.xb.mg();p.Yd(p.ug);this.xb.Xk(this.ai,new Float32Array(this.Yb.Fb,0,4),1);var d=this.gb,e=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,
e);d.bufferData(d.ARRAY_BUFFER,this.Vu([a,c]),d.STATIC_DRAW);d.vertexAttribPointer(p.me,2,d.FLOAT,!1,0,0);d.drawArrays(d.LINES,0,2);d.deleteBuffer(e);p.ah()},RG:function(a,c){this.zh(p.a(a.x,a.y),p.a(c.x,a.y));this.zh(p.a(c.x,a.y),p.a(c.x,c.y));this.zh(p.a(c.x,c.y),p.a(a.x,c.y));this.zh(p.a(a.x,c.y),p.a(a.x,a.y))},nB:function(a,c,d){a=[a,p.a(c.x,a.y),c,p.a(a.x,c.y)];this.Qv(a,4,d)},Pd:function(a,c,d){this.Ej();this.xb.Le();this.xb.mg();p.Yd(p.ug);this.xb.Xk(this.ai,new Float32Array(this.Yb.Fb,0,4),
1);c=this.gb;var e=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,e);c.bufferData(c.ARRAY_BUFFER,this.Vu(a),c.STATIC_DRAW);c.vertexAttribPointer(p.me,2,c.FLOAT,!1,0,0);d?c.drawArrays(c.LINE_LOOP,0,a.length):c.drawArrays(c.LINE_STRIP,0,a.length);c.deleteBuffer(e);p.ah()},Qv:function(a,c,d){this.Ej();d||(d=this.Yb);this.xb.Le();this.xb.mg();p.Yd(p.ug);this.xb.Xk(this.ai,new Float32Array(d.Fb,0,4),1);c=this.gb;d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.Vu(a),c.STATIC_DRAW);
c.vertexAttribPointer(p.me,2,c.FLOAT,!1,0,0);c.drawArrays(c.TRIANGLE_FAN,0,a.length);c.deleteBuffer(d);p.ah()},MG:function(a,c,d,e,f){this.Ej();var g=1;f&&g++;var h=2*Math.PI/e;if(f=new Float32Array(2*(e+2))){for(var k=0;k<=e;k++){var l=k*h,m=c*Math.sin(l+d)+a.y;f[2*k]=c*Math.cos(l+d)+a.x;f[2*k+1]=m}f[2*(e+1)]=a.x;f[2*(e+1)+1]=a.y;this.xb.Le();this.xb.mg();p.Yd(p.ug);this.xb.Xk(this.ai,new Float32Array(this.Yb.Fb,0,4),1);a=this.gb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(p.me,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+g);a.deleteBuffer(c);p.ah()}},QG:function(a,c,d,e){this.Ej();for(var f=new Float32Array(2*(e+1)),g=0,h=0;h<e;h++)f[2*h]=Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,f[2*h+1]=Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y,g+=1/e;f[2*e]=d.x;f[2*e+1]=d.y;this.xb.Le();this.xb.mg();p.Yd(p.ug);this.xb.Xk(this.ai,new Float32Array(this.Yb.Fb,0,4),1);a=this.gb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(p.me,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+1);a.deleteBuffer(c);p.ah()},NG:function(a,c,d,e,f){this.Ej();for(var g=new Float32Array(2*(f+1)),h=0,k=0;k<f;k++)g[2*k]=Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,g[2*k+1]=Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y,h+=1/f;g[2*f]=e.x;g[2*f+1]=e.y;this.xb.Le();this.xb.mg();p.Yd(p.ug);this.xb.Xk(this.ai,new Float32Array(this.Yb.Fb,0,4),1);a=this.gb;c=a.createBuffer();
a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,g,a.STATIC_DRAW);a.vertexAttribPointer(p.me,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,f+1);a.deleteBuffer(c);p.ah()},LG:function(a,c){this.Pv(a,0.5,c)},Pv:function(a,c,d){this.Ej();for(var e=new Float32Array(2*(d+1)),f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=p.vx(p.Pg(a,f-1),p.Pg(a,f),p.Pg(a,f+1),p.Pg(a,f+2),c,g),e[2*k]=f.x,e[2*k+1]=f.y;this.xb.Le();this.xb.mg();p.Yd(p.ug);this.xb.Xk(this.ai,
new Float32Array(this.Yb.Fb,0,4),1);a=this.gb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,e,a.STATIC_DRAW);a.vertexAttribPointer(p.me,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,d+1);a.deleteBuffer(c);p.ah()},VU:function(a,c,d,e){this.Yb.h=a/255;this.Yb.g=c/255;this.Yb.f=d/255;this.Yb.C=e/255},YI:function(a,c,d,e){this.Yb.h=a;this.Yb.g=c;this.Yb.f=d;this.Yb.C=e},xV:function(a){this.Pz=a*p.hd()},gV:function(a){this.gb.lineWidth&&this.gb.lineWidth(a)}});p.PD=2*Math.PI;p.hE={tZ:0,YX:1,ZX:2,JW:3,RX:4,QX:5,WW:6,gY:7,BX:8,gL:100,pL:101};p.mY=0;p.nY=1;p.kY=2;p.lY=3;p.If=0;p.Vj=1;p.wf=null;p.O=null;p.canvas=null;p.MQ=null;p.ed=p.If;p.gT=p.size(0,0);window.wC=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;window.console||(window.console={},window.console.log=function(){},window.console.assert=function(){});p.TB=!1;
p.Yk=function(a,c,d){function e(){if(p.$g){var a=p.$g.d();document[k]?(a.lT(),a.nT()):(p.P.d().gO(),a.jU(),a.kU())}}a=p.Cb(a)||p.Cb("#"+a);var f,g,h;"CANVAS"==a.tagName?(c=c||a.width,d=d||a.height,g=p.wj=p.Oj("DIV"),h=g.style,f=p.canvas=a,f.parentNode.insertBefore(g,f),f.jm(g),h.width=(c||480)+"px",h.height=(d||320)+"px",g.setAttribute("id","Cocos2dGameContainer"),h.margin="0 auto",f.setAttribute("width",c||480),f.setAttribute("height",d||320)):("DIV"!=a.tagName&&p.log("Warning: target element is not a DIV or CANVAS"),
c=c||a.clientWidth,d=d||a.clientHeight,f=p.canvas=p.Oj("CANVAS"),f.pG("gameCanvas"),f.setAttribute("width",c||480),f.setAttribute("height",d||320),g=p.wj=a,h=g.style,a.appendChild(f),h.width=(c||480)+"px",h.height=(d||320)+"px",h.margin="0 auto");h.position="relative";h.overflow="hidden";g.top="100%";if(!p.sy){p.va.xc&&(p.O=p.gba=p.CG(f,{stencil:!0,preserveDrawingBuffer:!0,antialias:!p.va.Dj,alpha:!1}));p.O?(p.ed=p.Vj,window.gl=p.O,p.wf=new p.EK(p.O),p.Na.d().qN()):(p.O=f.getContext("2d"),p.JS=p.O,
p.ed=p.If,p.O.translate(0,f.height),p.wf=p.ED?new p.ED(p.O):null);p.gT=p.size(f.width,f.height);p.MQ=g;p.log(p.Ks);p.ke.d();p.QU();p.va.Dj&&p.mM();var k,l;"undefined"!==typeof document.hidden?(k="hidden",l="visibilitychange"):"undefined"!==typeof document.mozHidden?(k="mozHidden",l="mozvisibilitychange"):"undefined"!==typeof document.msHidden?(k="msHidden",l="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(k="webkitHidden",l="webkitvisibilitychange");"undefined"===typeof document.addEventListener||
"undefined"===typeof k?(p.TB=!1,window.addEventListener("focus",function(){if(p.$g){var a=p.$g.d();a.jU();a.kU()}},!1),window.addEventListener("blur",function(){if(p.$g){var a=p.$g.d();a.lT();a.nT()}},!1)):(p.TB=!0,document.addEventListener(l,e,!1))}};p.mM=function(){var a=document.createElement("style");a.type="text/css";document.body.appendChild(a);a.textContent="body,canvas,div{ -moz-user-select: none;-webkit-user-select: none;-ms-user-select: none;-khtml-user-select: none;-webkit-tap-highlight-color:rgba(0,0,0,0);}"};
p.gF=!1;p.QU=function(){p.gF=!1;p.canvas.oncontextmenu=p.gF?function(){}:function(){return!1}};p.Ji=p.sa.extend({wg:null,ctor:function(){this.wg=0;if(p.qA)throw"Application has been initialized";p.qA=this},js:function(a){this.wg=a},kaa:function(a){a&&p.rect(0,0,0,0)},w4:function(){return p.va.Dj?p.hE.gL:p.hE.pL},nU:function(){if(!this.zP())return 0;var a,c=p.P.d(),d=window;p.sQ=c;d.wC&&this.wg==1/60?(a=function(){c.bI();d.wC(a)},d.wC(a)):(a=function(){c.bI()},setInterval(a,1E3*this.wg));return 0}});
p.Ji.d=function(){return p.qA};p.Ji.g2=function(){var a=p.VK,c=navigator.language;c||(c=navigator.browserLanguage||navigator.Yaa);if(!c)return a;c=c.toLowerCase();switch(c){case "zh-cn":a=p.UK;break;case "fr":a=p.WK;break;case "it":a=p.ZK;break;case "de":a=p.XK;break;case "es":a=p.fL;break;case "ru":a=p.eL;break;case "ko":a=p.aL;break;case "ja":a=p.$K;break;case "hu":a=p.YK;break;case "pt":a=p.dL;break;case "ar":a=p.TK;break;case "no":a=p.bL;break;case "pl":a=p.cL}return a};p.qA=null;p.Sj=p.sa.extend({iba:null,wF:null,xo:null,Cz:null,ctor:function(){this.xo={};window.DOMParser?(this.Cz=!0,this.wF=new DOMParser):this.Cz=!1},parse:function(a){var c=a;a=this.gH(a);a=this.xF(a,c).documentElement;if("plist"!=a.tagName)throw"cocos2d: "+c+" is not a plist file or you forgot to preload the plist file";for(var c=null,d=0,e=a.childNodes.length;d<e&&(c=a.childNodes[d],1!=c.nodeType);d++);return this.Mz(c)},Jaa:function(a,c){if(null==c||!1===c)a=this.gH(a);return this.xF(a)},xF:function(a,
c){var d;this.Cz?d=this.wF.parseFromString(a,"text/xml"):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(a));null==d&&p.log("cocos2d:xml "+c+" not found!");return d},Mz:function(a){var c=null;switch(a.tagName){case "dict":c=this.ON(a);break;case "array":c=this.NN(a);break;case "string":if(1==a.childNodes.length)c=a.firstChild.nodeValue;else for(var c="",d=0;d<a.childNodes.length;d++)c+=a.childNodes[d].nodeValue;break;case "false":c=!1;break;case "true":c=!0;break;case "real":c=
parseFloat(a.firstChild.nodeValue);break;case "integer":c=parseInt(a.firstChild.nodeValue,10)}return c},NN:function(a){for(var c=[],d=0,e=a.childNodes.length;d<e;d++){var f=a.childNodes[d];1==f.nodeType&&c.push(this.Mz(f))}return c},ON:function(a){for(var c={},d=null,e=0,f=a.childNodes.length;e<f;e++){var g=a.childNodes[e];1==g.nodeType&&("key"==g.tagName?d=g.firstChild.nodeValue:c[d]=this.Mz(g))}return c},yT:function(a){a=p.jd.d().Vd(a);if(window.XMLHttpRequest){var c=new XMLHttpRequest;c.overrideMimeType&&
c.overrideMimeType("text/xml")}if(null!=c){var d=this;c.onreadystatechange=function(){4==c.readyState&&(c.responseText?(p.Ob.d().Kh(),d.xo[a]=c.responseText,c=null):(p.Ob.d().Kh(),p.log("cocos2d:There was a problem retrieving the xml data:"+c.statusText)))};c.open("GET",a,!0);c.send(null)}else throw"cocos2d:Your browser does not support XMLHTTP.";},lW:function(a){this.xo.hasOwnProperty(a)&&delete this.xo[a]},getName:function(a){return a.substring(a.lastIndexOf("/",a.length)+1,a.lastIndexOf(".",a.length))},
u2:function(a){return a.substring(a.lastIndexOf(".",a.length)+1,a.length)},gH:function(a){return null!=this.xo?this.xo[a]:null}});p.Sj.d=function(){this.ub||(this.ub=new p.Sj);return this.ub};p.Sj.ub=null;p.ox=p.sa.extend({rQ:function(){p.Ji.d().nU();return!0},S_:function(){p.P.d().pause()},R_:function(){p.P.d().HI()},yP:function(){p.Ji.d().yP()},AP:function(){p.Ji.d().AP()},T_:function(){}});p.ox.SV=function(){null==p.Zw&&(p.Zw=new p.ox);if(!p.Zw)throw"Application initialize failure";return p.Zw};p.Zw=null;p.V=p.w.extend({Hd:null,hk:p.Pi,Ak:p.Jp,Pe:null,pe:0,Zf:"",Lz:null,Tn:!1,Zi:null,lj:!1,Ql:null,io:0,Wq:0,fv:null,wk:!1,ar:null,no:0,hv:null,oo:null,pu:null,AA:0,BA:0,Oc:!1,Cu:null,Du:null,ctor:function(){p.w.prototype.ctor.call(this);this.Hd=p.nl();this.hk=p.Fp;this.Ak=p.Jp;this.ac=!1;this.Zi="";this.Pe="Arial";this.lj=this.Tn=!1;this.Ql=p.nl();this.Wq=this.io=0;this.fv="rgba(128, 128, 128, 0.5)";this.wk=!1;this.ar=p.kb();this.no=0;this.hv="";this.oo=p.kb();this.pu="rgba(255,255,255,1)";this.BA=this.AA=
0;this.Oc=!1;this.qh()},r:function(){return this.Gk(" ",this.Pe,this.pe)},DN:function(){this.rz().font=this.Zi},Gq:function(a){return this.rz().measureText(a).width},BM:function(a,c){var d=this.Gq(a),e=Math.floor(a.length*c/d),f=a.indexOf("\n");if(0.8*e>=f&&0<f)return f+1;if(d<c)return a.length;for(var d=!1,f=c+1,g=-1,h=e,k,l=p.V.CM,m=p.V.iO,n=p.V.AM,s=a.substr(e);k=l.exec(s);){h+=k[0].length;if("\n"==k[2]){d=!0;g=h;break}f=this.Gq(a.substr(0,h));if(f>c){-1!=g&&(d=!0);break}g=h;s=a.substr(h)}if(d)return g;
s=a.substr(0,e);for(g=e;k=m.exec(s);)if(g=k[1].length,s=k[1],f=this.Gq(s),f<c){n.test(k[2])&&g++;break}return g},description:function(){return"\x3ccc.LabelTTF | FontName \x3d"+this.Pe+" FontSize \x3d "+this.pe.toFixed(1)+"\x3e"},k:null,Rq:function(a){p.lb.prototype.k.call(this,a);this.GF()},qh:null,GF:function(){this.Oc=!0;var a=this.pc,c=this.Nb,d=this.ar,e=this.oo;this.fv="rgba("+(0|0.5*a.h)+","+(0|0.5*a.g)+","+(0|0.5*a.f)+","+this.io+")";this.pu="rgba("+(0|a.h/255*e.h)+","+(0|a.g/255*e.g)+","+
(0|a.f/255*e.f)+", "+c/255+")";this.hv="rgba("+(0|a.h/255*d.h)+","+(0|a.g/255*d.g)+","+(0|a.f/255*d.f)+", "+c/255+")"},rO:function(){this.Oc=!0;var a=this.ar,c=this.oo;this.fv="rgba(128,128,128,"+this.io+")";this.pu="rgba("+(0|c.h)+","+(0|c.g)+","+(0|c.f)+", 1)";this.hv="rgba("+(0|a.h)+","+(0|a.g)+","+(0|a.f)+", 1)"},Jc:null,HA:function(a){p.lb.prototype.Jc.call(this,a);this.qh()},X:null,Tq:function(a){this.li!==a&&(p.w.prototype.X.call(this,a),this.qh(),this.Oc=!0)},Kc:null,Uaa:function(a){p.lb.prototype.Kc.call(this,
a);this.qh()},yB:function(){return this.Zf},G2:function(){return this.hk},Q4:function(){return this.Ak},p2:function(){return p.size(this.Hd.width,this.Hd.height)},A2:function(){return this.pe},z2:function(){return this.Pe},Gk:function(a,c,d,e,f,g){a=a?a+"":"";d=d||16;e=e||p.size(0,d);f=f||p.Fp;g=g||p.Kp;return p.w.prototype.r.call(this)?(this.ac=!1,this.Hd=p.size(e.width,e.height),this.Pe=c||"Arial",this.hk=f,this.Ak=g,this.pe=d,this.Zi=this.pe+"px '"+c+"'",this.Yi=p.V.Qt(c,this.pe),this.ga(a),this.qh(),
this.JA(),this.Oc=!1,!0):!1},PB:null,mN:function(a,c){if(!p.w.prototype.r.call(this))return!1;this.KA(c,!1);this.ga(a);return!0},nN:function(a,c){if(!p.w.prototype.r.call(this))return!1;this.lg(p.eh.d().Lh(p.V.XL));this.KA(c,!1);this.ga(a);return!0},E$:function(a){a&&this.KA(a,!0)},x4:function(){return this.SN(!1)},FQ:function(a,c,d){c=c||0.5;!1===this.lj&&(this.lj=!0);var e=this.Ql;if(e&&e.width!=a.width||e.height!=a.height)e.width=a.width,e.height=a.height;this.io!=c&&(this.io=c);this.qh();this.Wq!=
d&&(this.Wq=d);this.Oc=!0},N0:function(){this.lj&&(this.lj=!1,this.Oc=!0)},GQ:function(a,c){!1===this.wk&&(this.wk=!0);var d=this.ar;if(d.h!==a.h||d.g!==a.g||d.f!==a.f)d.h=a.h,d.g=a.g,d.f=a.f,this.qh();this.no!==c&&(this.no=c||0);this.Oc=!0},O0:function(){this.wk&&(this.wk=!1,this.Oc=!0)},HC:null,vO:function(a){var c=this.oo;if(c.h!=a.h||c.g!=a.g||c.f!=a.f)c.h=a.h,c.g=a.g,c.f=a.f,this.qh(),this.Oc=!0},wO:function(a){var c=this.oo;if(c.h!=a.h||c.g!=a.g||c.f!=a.f)c.h=a.h,c.g=a.g,c.f=a.f,this.qh(),this.Oc=
!0},KA:function(a,c){a.Br?(this.Hd.width=a.Br.width,this.Hd.height=a.Br.height):(this.Hd.width=0,this.Hd.height=0);this.hk=a.WG;this.Ak=a.XG;this.Pe=a.Cr;this.pe=a.fontSize||12;this.Zi=this.pe+"px '"+this.Pe+"'";this.Yi=p.V.Qt(this.Pe,this.pe);a.BJ&&this.FQ(a.CJ,a.DJ,a.shadowBlur,!1);a.ZC&&this.GQ(a.strokeColor,a.LJ,!1);this.HC(a.YG,!1);c&&this.JA()},SN:function(a){var c=new p.KK;a?(c.fontSize=this.pe,c.Br=p.Zx(this.Hd)):(c.fontSize=this.pe,c.Br=p.size(this.Hd.width,this.Hd.height));c.Cr=this.Pe;
c.WG=this.hk;c.XG=this.Ak;if(this.wk){c.ZC=!0;var d=this.ar;c.strokeColor=new p.lc(d.h,d.g,d.f);c.LJ=this.no}else c.ZC=!1;this.lj?(c.BJ=!0,c.shadowBlur=this.Wq,c.DJ=this.io,c.CJ=a?p.Zx(this.Ql):p.size(this.Ql.width,this.Ql.height)):c.lj=!1;a=this.oo;c.YG=new p.lc(a.h,a.g,a.f);return c},Yi:18,ga:function(a){a=String(a);this.Lz!=a&&(this.Lz=a+"",this.fG(),this.Oc=!0)},fG:function(){this.Zf=this.Lz},u9:function(a){a!==this.hk&&(this.hk=a,this.Oc=!0)},R$:function(a){a!=this.Ak&&(this.Ak=a,this.Oc=!0)},
FC:function(a){if(a.width!=this.Hd.width||a.height!=this.Hd.height)this.Hd=a,this.fG(),this.Oc=!0},$I:function(a){this.pe!==a&&(this.pe=a,this.Zi=a+"px '"+this.Pe+"'",this.Yi=p.V.Qt(this.Pe,a),this.Oc=!0)},aV:function(a){this.Pe&&this.Pe!=a&&(this.Pe=a,this.Zi=this.pe+"px '"+a+"'",this.Yi=p.V.Qt(a,this.pe),this.Oc=!0)},SM:function(a){if(a){var c=this.AA,d=this.BA,e=this.ka.ja-d,f=this.Ak,g=this.hk,h=this.Yi,k=this.no;a.setTransform(1,0,0,1,0+0.5*c,e+0.5*d);a.font!=this.Zi&&(a.font=this.Zi);a.fillStyle=
this.pu;var l=d=0,m=this.wk;m&&(a.lineWidth=2*k,a.strokeStyle=this.hv);this.lj&&(k=this.Ql,a.shadowColor=this.fv,a.shadowOffsetX=k.width,a.shadowOffsetY=-k.height,a.shadowBlur=this.Wq);a.textBaseline=p.V.VO[f];a.textAlign=p.V.UO[g];c=this.ka.wa-c;d=g===p.JL?d+c:g===p.Pi?d+c/2:d+0;if(this.Tn)for(g=this.nj.length,f===p.Jp?l=h+e-h*g:f===p.Mt&&(l=h/2+(e-h*g)/2),f=0;f<g;f++)c=this.nj[f],k=-e+h*f+l,m&&a.strokeText(c,d,k),a.fillText(c,d,k);else f!==p.Jp&&(l=f===p.Kp?l-e:l-0.5*e),m&&a.strokeText(this.Zf,
d,l),a.fillText(this.Zf,d,l)}},rz:function(){if(this.Du)return this.Du;if(!this.Cu){var a=document.createElement("canvas"),c=new p.Pb;c.af(a);this.Y(c);this.Cu=a}return this.Du=this.Cu.getContext("2d")},gG:function(){var a=this.Hd.width,c,d;this.kF=[];this.Tn=!1;this.DN();if(0!==a){var e=this.Zf;this.nj=[];c=0;for(d=this.Zf.length;c<d;){var f=this.BM(e.substr(c),a);this.nj.push(e.substr(c,f));c+=f}}else for(this.nj=this.Zf.split("\n"),c=0,d=this.nj.length;c<d;c++)this.kF.push(this.Gq(this.nj[c]));
0<this.nj.length&&(this.Tn=!0);d=c=0;this.wk&&(c=d=2*this.no);this.lj&&(e=this.Ql,c+=2*Math.abs(e.width),d+=2*Math.abs(e.height));a=0===a?this.Tn?p.size(0|Math.max.apply(Math,this.kF)+c,0|this.Yi*this.nj.length+d):p.size(0|this.Gq(this.Zf)+c,0|this.Yi+d):0===this.Hd.height?this.Tn?p.size(0|a+c,0|this.Yi*this.nj.length+d):p.size(0|a+c,0|this.Yi+d):p.size(0|a+c,0|this.Hd.height+d);this.ba(a);this.AA=c;this.BA=d;e=this.fh;this.ld.B=0.5*c+(a.width-c)*e.B;this.ld.G=0.5*d+(a.height-d)*e.G},e:function(){this.Oc&&
this.gG();return p.w.prototype.e.call(this)},JA:function(){var a=this.rz(),c=this.Cu,d=this.ka;if(0===this.Zf.length)return c.width=1,c.height=d.ja,this.jb(p.rect(0,0,1,d.ja)),!0;a.font=this.Zi;this.gG();var e=d.wa,d=d.ja,f=c.width==e&&c.height==d;c.width=e;c.height=d;f&&a.clearRect(0,0,e,d);this.SM(a);this.ta.ce();this.jb(p.rect(0,0,e,d));return!0},ha:function(a){this.Zf&&""!=this.Zf&&(this.Oc&&(this.Oc=!1,this.JA()),p.w.prototype.ha.call(this,a||p.O))},Ja:null,Rf:function(a){if(this.Zf&&""!=this.Zf){a=
a||p.O;var c=this.ta;c&&c.ec&&(this.rc.Le(),this.rc.mg(),p.Bj(this.W.src,this.W.sb),p.cg(c),p.Yd(p.Lt),a.bindBuffer(a.ARRAY_BUFFER,this.Zu),this.Te&&(a.bufferData(a.ARRAY_BUFFER,this.wb.XA,a.STATIC_DRAW),this.Te=!1),a.vertexAttribPointer(p.me,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(p.Ip,2,a.FLOAT,!1,24,16),a.vertexAttribPointer(p.Hp,4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));1===p.Tj?(a=this.wb,a=[p.a(a.Ga.n.x,a.Ga.n.y),p.a(a.ya.n.x,a.ya.n.y),p.a(a.Ia.n.x,a.Ia.n.y),p.a(a.Ca.n.x,
a.Ca.n.y)],p.wf.Pd(a,4,!0)):2===p.Tj&&(a=this.zB().Pa,c=this.Vb,a=[p.a(c.x,c.y),p.a(c.x+a.width,c.y),p.a(c.x+a.width,c.y+a.height),p.a(c.x,c.y+a.height)],p.wf.Pd(a,4,!0));p.Bh++}},pA:function(a,c,d){this.Fc=c||!1;d=d||a.Pa;this.ba(d);this.SC(a);c=this.qo;c.x=a.x;c.y=a.y;c.width=a.width;c.height=a.height;c.zs=!(0===c.width||0===c.height);a=this.th;this.Zb&&(a.B=-a.B);this.$b&&(a.G=-a.G);this.Vb.B=a.x+(this.ka.wa-this.oa.width)/2;this.Vb.G=a.y+(this.ka.ja-this.oa.height)/2;this.Wa&&(this.xa=!0)},JF:function(a){var c=
this.Wa?this.Fa.T():this.ta;if(c){var d=c.Jo(),e=c.Io(),f,g=this.wb;this.Fc?(p.dt?(c=(2*a.x+1)/(2*d),d=c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/d,f=a.y/e,a=(a.y+a.width)/e),this.Zb&&(e=f,f=a,a=e),this.$b&&(e=c,c=d,d=e),g.ya.s.Da=c,g.ya.s.ca=f,g.Ia.s.Da=c,g.Ia.s.ca=a,g.Ga.s.Da=d,g.Ga.s.ca=f,g.Ca.s.Da=d,g.Ca.s.ca=a):(p.dt?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+
a.height)/e),this.Zb&&(e=c,c=d,d=e),this.$b&&(e=f,f=a,a=e),g.ya.s.Da=c,g.ya.s.ca=a,g.Ia.s.Da=d,g.Ia.s.ca=a,g.Ga.s.Da=c,g.Ga.s.ca=f,g.Ca.s.Da=d,g.Ca.s.ca=f);this.Te=!0}}});
p.va.xc?(b=p.V.prototype,b.k=p.w.prototype.k,b.qh=p.V.prototype.rO,b.Jc=p.w.prototype.Jc,b.X=p.w.prototype.X,b.Kc=p.w.prototype.Kc,b.PB=p.V.prototype.nN,b.HC=p.V.prototype.wO,b.Ja=p.V.prototype.Rf,b.jb=p.w.prototype.KF):(b=p.V.prototype,b.k=p.V.prototype.Rq,b.qh=p.V.prototype.GF,b.Jc=p.V.prototype.HA,b.X=p.V.prototype.Tq,b.Kc=p.V.prototype.cG,b.PB=p.V.prototype.mN,b.HC=p.V.prototype.vO,b.Ja=p.w.prototype.Ja,b.jb=p.V.prototype.pA);p.V.UO=["left","center","right"];p.V.VO=["top","middle","bottom"];
p.V.CM=/(.+?)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;p.V.iO=/(.*)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;p.V.AM=/[\s\-\/\\\:]/;p.V.create=function(a,c,d,e,f,g){var h=new p.V;return h.Gk(a,c,d,e,f,g)?h:null};p.V.G0=function(a,c){var d=new p.V;return d&&d.PB(a,c)?d:null};p.V.XL=p.RL?p.Yx:p.QY;p.V.ol=document.createElement("div");p.V.ol.style.fontFamily="Arial";p.V.ol.style.position="absolute";p.V.ol.style.left="-100px";p.V.ol.style.top="-100px";p.V.ol.style.lineHeight="normal";
document.body.appendChild(p.V.ol);p.V.Qt=function(a,c){var d=p.V.xE[a+"."+c];if(0<d)return d;var e=p.V.ol;e.innerHTML="ajghl~!";e.style.fontFamily=a;e.style.fontSize=c+"px";d=e.clientHeight;p.V.xE[a+"."+c]=d;e.innerHTML="";return d};p.V.xE={};p.NK=p.sa.extend({tc:null,target:null,hm:0,Og:null,mm:!1,paused:!1,IB:null,ctor:function(){this.tc=[];this.M=null;this.hm=0;this.Og=null;this.paused=this.mm=!1;this.IB=null}});
p.jK=p.sa.extend({ih:null,rn:null,Oe:null,ci:!1,h_:function(a,c){for(var d=0;d<a.length;d++)if(c==a[d].target)return a[d];return null},ctor:function(){this.ih={};this.rn=[];this.Oe=null;this.ci=!1},pP:function(a,c,d){if(!a)throw"cc.ActionManager.addAction(): action must be non-null";if(!c)throw"cc.ActionManager.addAction(): action must be non-null";var e=this.ih[c.Tb];e||(e=new p.NK,e.paused=d,e.target=c,this.ih[c.Tb]=e,this.rn.push(e));this.gM(e);e.tc.push(a);a.R(c)},j8:function(){for(var a=this.rn,
c=0;c<a.length;c++){var d=a[c];d&&this.CI(d.target,!0)}},CI:function(a,c){if(null!=a){var d=this.ih[a.Tb];d&&(-1===d.tc.indexOf(d.Og)||d.mm||(d.mm=!0),d.tc=[],this.Oe!=d||c?this.Wy(d):this.ci=!0)}},BI:function(a){if(null!=a){var c=this.ih[a.Jl.Tb];if(c)for(var d=0;d<c.tc.length;d++){if(c.tc[d]==a){c.tc.splice(d,1);break}}else p.log("cocos2d: removeAction: Target not found")}},TT:function(a,c){a==p.Ym&&p.log("cc.ActionManager.removeActionByTag(): an invalid tag");if(!c)throw"cc.ActionManager.removeActionByTag(): target must be non-null";
var d=this.ih[c.Tb];if(d)for(var e=d.tc.length,f=0;f<e;++f){var g=d.tc[f];if(g&&g.Tc===a&&g.Jl==c){this.WN(f,d);break}}},rB:function(a,c){a==p.Ym&&p.log("cc.ActionManager.getActionByTag(): an invalid tag");var d=this.ih[c.Tb];if(d){if(null!=d.tc)for(var e=0;e<d.tc.length;++e){var f=d.tc[e];if(f&&f.Tc===a)return f}p.log("cocos2d : getActionByTag(tag \x3d"+a+"): Action not found")}return null},PS:function(a){return(a=this.ih[a.Tb])?a.tc?a.tc.length:0:0},ds:function(a){if(a=this.ih[a.Tb])a.paused=!0},
Jm:function(a){if(a=this.ih[a.Tb])a.paused=!1},M7:function(){for(var a=[],c=this.rn,d=0;d<c.length;d++){var e=c[d];e&&!e.paused&&(e.paused=!0,a.push(e.target))}return a},lU:function(a){if(a)for(var c=0;c<a.length;c++)a[c]&&this.Jm(a[c])},W7:function(){p.P.d().$e().np(this)},WN:function(a,c){c.tc[a]!=c.Og||c.mm||(c.mm=!0);p.qp(c.tc,a);c.hm>=a&&c.hm--;0==c.tc.length&&(this.Oe==c?this.ci=!0:this.Wy(c))},Wy:function(a){a&&(delete this.ih[a.target.Tb],p.yd(this.rn,a),a.tc=null,a.target=null)},gM:function(a){null==
a.tc&&(a.tc=[])},update:function(a){for(var c=this.rn,d,e=0;e<c.length;e++){d=this.Oe=c[e];if(!d.paused)for(d.hm=0;d.hm<d.tc.length;d.hm++)if(d.Og=d.tc[d.hm],d.Og){d.mm=!1;d.Og.step(a);if(d.mm)d.Og=null;else if(d.Og.Fh()){d.Og.stop();var f=d.Og;d.Og=null;this.BI(f)}d.Og=null}this.ci&&0===d.tc.length&&this.Wy(d)}}});p.Ne=p.sa.extend({Q:null,Xu:p.Mi(),lf:0,ctor:function(a,c,d){this.Q=p.a(a||0,c||0);this.lf=d||0},S2:function(){return this.Q},lR:function(){return this.Xu},m2:function(){return p.dd(this.Q,this.Xu)},J2:function(){return this.lf},K2:function(){return this.lf},PC:function(a,c,d){this.Xu=this.Q;this.Q=p.a(c||0,d||0);this.lf=a},rf:function(a,c){this.Xu=p.a(a||0,c||0)}});
p.qE=p.sa.extend({NZ:null,zb:function(){return!1},Vc:function(){},cf:function(){},Fj:function(){},gI:function(){},jI:function(){},iI:function(){},hI:function(){},Naa:function(){},Maa:function(){}});p.gZ=p.qE.extend({zb:function(){return!1},Vc:function(){},cf:function(){},Fj:function(){}});p.$Y=p.qE.extend({gI:function(){},jI:function(){},iI:function(){},hI:function(){}});p.mn=p.sa.extend({Mb:null,Se:0,Kn:0,Wb:function(){return this.Mb},Xg:function(a){this.Mb=a},mR:function(){return this.Se},os:function(a){this.Se=a},UQ:function(){return this.Kn},WU:function(a){this.Kn=a},Cj:function(a,c){if(!a)throw"cc.TouchHandler.initWithDelegate(): touch delegate should not be null";this.Mb=a;this.Se=c;this.Kn=0;return!0}});p.mn.create=function(a,c){var d=new p.mn;d&&d.Cj(a,c);return d};p.cy=p.mn.extend({Cj:function(a,c){return p.mn.prototype.Cj.call(this,a,c)}});
p.cy.create=function(a,c){var d=new p.cy;d&&d.Cj(a,c);return d};p.Et=p.mn.extend({lv:!1,Fn:null,g6:function(){return this.lv},B$:function(a){this.lv=a},X1:function(){return this.Fn},Cj:function(a,c,d){return p.mn.prototype.Cj.call(this,a,c)?(this.Fn=[],this.lv=d,!0):!1}});p.Et.create=function(a,c,d){var e=new p.Et;e&&e.Cj(a,c,d);return e};p.ML=1;p.PL=2;p.OL=4;p.NL=8;p.jZ=p.ML|p.PL|p.OL|p.NL;p.gy=0;p.jy=1;p.iy=2;p.hy=3;p.iZ=4;p.WH=function(a,c){return a.Se>c.Se};p.It=function(a){this.type=a};
p.Z=p.sa.extend({ij:!1,xe:null,we:null,Fl:!1,ir:!1,wv:!1,ik:null,aj:null,vv:!1,Wi:!1,fN:[new p.It(p.gy),new p.It(p.jy),new p.It(p.iy),new p.It(p.hy)],r:function(){this.Wi=!0;this.xe=[];this.we=[];this.ik=[];this.aj=[];this.ij=this.Fl=this.vv=this.ir=this.wv=!1;p.Z.PT();return!0},Sq:function(a){this.ij=a},aN:function(){return this.ij},H5:function(){return this.Wi},TU:function(a){this.Wi=a},kM:function(a,c){var d=p.cy.create(a,c||0);this.Fl?-1!=this.aj.indexOf(a)?p.yd(this.aj,a):(this.ik.push(d),this.ir=
!0):this.we=this.Eo(d,this.we)},lM:function(a,c,d){c=p.Et.create(a,c,d);this.Fl?-1!=this.aj.indexOf(a)?p.yd(this.aj,a):(this.ik.push(c),this.ir=!0):this.xe=this.Eo(c,this.xe)},Eo:function(a,c){for(var d=0,e,f=0;f<c.length;f++)if(e=c[f])if(e.Se<a.Se&&++d,e.Wb()==a.Wb())return p.log("cc.TouchDispatcher.forceAddHandler(): The handler has been added."),c;return p.fl(c,a,d)},ZG:function(){this.we.length=0;this.xe.length=0},ZN:function(a){if(null!=a)if(this.Fl){var c=this.UG(this.ik,a);c?p.yd(this.ik,c):
(this.aj.push(a),this.wv=!0)}else this.$G(a)},VT:function(){this.Fl?this.vv=!0:this.ZG()},os:function(a,c){if(!c)throw"cc.TouchDispatcher.setPriority(): delegate should be non-null.";var d=this.UG(c);d?d.Se!=a&&(d.os(a),this.wI(this.xe),this.wI(this.we)):p.log("cc.TouchDispatcher.setPriority(): Can't find TouchHandler.")},touches:function(a,c,d){if(0>d||4<=d)throw"cc.TouchDispatcher.touches(): invalid index";this.Fl=!0;var e=this.xe.length,f=this.we.length,g=e&&f,h=g?a.slice():a,k=this.fN[d];if(0<
e)for(var l,m,n=0;n<a.length;n++)for(var e=a[n],s=0;s<this.xe.length;s++){l=this.xe[s];if(!l)break;m=!1;if(d==p.gy)l.Wb().zb&&(m=l.Wb().zb(e,c))&&l.Fn.push(e);else if(0<l.Fn.length)switch(m=!0,k.type){case p.jy:p.va.Dj?l.Wb().Vc&&l.Wb().Vc(e,c):this.ij&&l.Wb().Vc&&l.Wb().Vc(e,c);break;case p.iy:l.Wb().cf&&l.Wb().cf(e,c);l.Fn.length=0;break;case p.hy:l.Wb().Fj&&l.Wb().Fj(e,c),l.Fn.length=0}if(m&&l.lv){g&&p.yd(h,e);break}}if(0<f)for(n=0;n<this.we.length&&(l=this.we[n],l);n++);this.Fl=!1;if(this.wv){this.wv=
!1;for(n=0;n<this.aj.length;n++)this.$G(this.aj[n]);this.aj.length=0}if(this.ir){this.ir=!1;for(n=0;n<this.ik.length;n++){l=this.ik[n];if(!l)break;l instanceof p.Et?this.xe=this.Eo(l,this.xe):this.we=this.Eo(l,this.we)}this.ik.length=0}this.vv&&(this.vv=!1,this.ZG())},fx:function(a,c){this.Wi&&this.touches(a,c,p.gy)},gx:function(a,c){this.Wi&&this.touches(a,c,p.jy)},us:function(a,c){this.Wi&&this.touches(a,c,p.iy)},aD:function(a,c){this.Wi&&this.touches(a,c,p.hy)},UG:function(a,c){switch(arguments.length){case 1:c=
arguments[0];if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(var d=0;d<this.xe.length;d++)if(this.xe[d].Wb()==c)return this.xe[d];for(d=0;d<this.we.length;d++)if(this.we[d].Wb()==c)return this.we[d];return null;case 2:if(!a)throw"cc.TouchDispatcher.findHandler(): array should be non-null.";if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(d=0;d<a.length;d++)if(a[d].Wb()==c)return a[d];return null;default:throw"Argument must be non-nil ";
}},$G:function(a){for(var c,d=0;d<this.we.length;d++)if((c=this.we[d])&&c.Wb()==a){p.yd(this.we,c);break}for(d=0;d<this.xe.length;d++)if((c=this.xe[d])&&c.Wb()==a){p.yd(this.xe,c);break}},wI:function(a){a.sort(p.WH)}});p.Z.eb=p.a(0,0);p.Z.TH=!1;
p.ti=function(a){var c=document.documentElement,d=window,e=null,e="function"===typeof a.getBoundingClientRect?a.getBoundingClientRect():a instanceof HTMLCanvasElement?{left:0,top:0,width:a.width,height:a.height}:{left:0,top:0,width:parseInt(a.style.width),height:parseInt(a.style.height)};return{left:e.left+d.pageXOffset-c.clientLeft,top:e.top+d.pageYOffset-c.clientTop,width:e.width,height:e.height}};
p.xL=function(a,c){var d=p.ti(a),e,f;null!=c.pageX?(e=c.pageX,f=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,e=c.clientX,f=c.clientY);e=p.ia.d().xj(e,f,d);d=new p.Ne(e.x,e.y);d.rf(p.Z.eb.x,p.Z.eb.y);p.Z.eb.x=e.x;p.Z.eb.y=e.y;e=[];e.push(d);p.ia.d().us(e,null)};
p.Z.PT=function(){var a=p.canvas;if(!p.Z.TH){if(p.va.Dj)if(window.navigator.msPointerEnabled){var c={MSPointerDown:"touchesBegan",MSPointerMove:"touchesMoved",MSPointerUp:"touchesEnded",MSPointerCancel:"touchesCancelled"},d;for(d in c)(function(c,d){a.addEventListener(c,function(c){var e=p.ti(a);e.left-=document.body.scrollLeft;e.top-=document.body.scrollTop;var k,l;k=c.clientX;l=c.clientY;k=p.ia.d().xj(k,l,e);e=new p.Ne(k.x,k.y);e.rf(p.Z.eb.x,p.Z.eb.y);p.Z.eb.x=k.x;p.Z.eb.y=k.y;p.P.d().ze[d]([e],
null);c.stopPropagation();c.preventDefault()},!1)})(d,c[d])}else a.addEventListener("touchstart",function(c){if(c.changedTouches){var d=[],g=p.ti(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=p.ia.d().xj(k,l,g),h.hasOwnProperty("identifier")?(h=new p.Ne(k.x,k.y,h.identifier),l=p.Z.su(h).Q,h.rf(l.x,l.y),p.Z.HF(h)):(h=new p.Ne(k.x,k.y),h.rf(p.Z.eb.x,p.Z.eb.y)),p.Z.eb.x=k.x,p.Z.eb.y=
k.y,d.push(h);p.ia.d().fx(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchmove",function(c){if(c.changedTouches){var d=[],g=p.ti(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=p.ia.d().xj(k,l,g),h.hasOwnProperty("identifier")?(h=new p.Ne(k.x,k.y,h.identifier),l=p.Z.su(h).Q,h.rf(l.x,l.y),p.Z.HF(h)):(h=new p.Ne(k.x,k.y),h.rf(p.Z.eb.x,p.Z.eb.y)),p.Z.eb.x=
k.x,p.Z.eb.y=k.y,d.push(h);p.ia.d().gx(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchend",function(c){if(c.changedTouches){var d=[],g=p.ti(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=p.ia.d().xj(k,l,g),h.hasOwnProperty("identifier")?(h=new p.Ne(k.x,k.y,h.identifier),l=p.Z.su(h).Q,h.rf(l.x,l.y),p.Z.QE(h)):(h=new p.Ne(k.x,k.y),h.rf(p.Z.eb.x,p.Z.eb.y)),
p.Z.eb.x=k.x,p.Z.eb.y=k.y,d.push(h);p.ia.d().us(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchcancel",function(c){if(c.changedTouches){var d=[],g=p.ti(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=p.ia.d().xj(k,l,g),h.hasOwnProperty("identifier")?(h=new p.Ne(k.x,k.y,h.identifier),l=p.Z.su(h).Q,h.rf(l.x,l.y),p.Z.QE(h)):(h=new p.Ne(k.x,k.y),h.rf(p.Z.eb.x,
p.Z.eb.y)),p.Z.eb.x=k.x,p.Z.eb.y=k.y,d.push(h);p.ia.d().aD(d,null);c.stopPropagation();c.preventDefault()}},!1);else window.addEventListener("mousedown",function(){p.P.d().ze.Sq(!0)}),window.addEventListener("mouseup",function(c){p.P.d().ze.Sq(!1);var d=p.ti(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);p.Ab(new p.Lf(d.left,d.top,d.width,d.height),p.a(g,c))||(g=p.ia.d().xj(g,c,d),d=new p.Ne(g.x,g.y),d.rf(p.Z.eb.x,
p.Z.eb.y),p.Z.eb.x=g.x,p.Z.eb.y=g.y,g=[],g.push(d),p.ia.d().us(g,null))}),a.addEventListener("mousedown",function(c){var d=p.ti(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=p.ia.d().xj(g,c,d);d=new p.Ne(g.x,g.y);d.rf(p.Z.eb.x,p.Z.eb.y);p.Z.eb.x=g.x;p.Z.eb.y=g.y;g=[];g.push(d);p.ia.d().fx(g,null)}),a.addEventListener("mouseup",function(c){p.xL(a,c)}),a.addEventListener("mousemove",function(c){var d=p.ti(a),g;null!=
c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=p.ia.d().xj(g,c,d);d=new p.Ne(g.x,g.y);d.rf(p.Z.eb.x,p.Z.eb.y);p.Z.eb.x=g.x;p.Z.eb.y=g.y;g=[];g.push(d);p.ia.d().gx(g,null)});p.Z.TH=!0}};p.Z.su=function(a){for(var c=null,d=p.Z.Tz,e=a.lf,f=d.length-1;0<=f;f--)if(d[f].lf==e){c=d[f];break}c||(c=a);return c};
p.Z.HF=function(a){for(var c=!1,d=p.Z.Tz,e=a.lf,f=d.length-1;0<=f;f--)if(d[f].lf==e){d[f]=a;c=!0;break}c||(50>=d.length?d.push(a):(d[p.Z.Uz]=a,p.Z.Uz=(p.Z.Uz+1)%50))};p.Z.QE=function(a){var c,d=p.Z.Tz;c=a.lf;for(a=d.length-1;0<=a;a--)if(d[a].lf==c){c=d.pop();a!=d.length&&(d[a]=c);break}};p.Z.Tz=[];p.Z.Uz=0;p.rC=function(a,c,d){p.P.d().ze.lM(d,a,c)};p.QT=function(a,c){p.P.d().ze.kM(a,c)};p.RJ=function(a){p.P.d().ze.ZN(a)};p.hL=1;p.MD=2;p.aY=4;p.lL=8;p.DY=16;p.EY=32;p.FY=64;p.pY=128;p.qY=256;p.rY=512;p.dE=1024;p.iL=2048;p.jL=4096;p.kL=0;p.bY=1;p.ND=2;p.eY=p.sa.extend({TS:function(){return!1},US:function(){return!1},Jh:function(){return!1},XS:function(){return!1},aT:function(){return!1},bT:function(){return!1},cT:function(){return!1},YS:function(){return!1},ZS:function(){return!1},$S:function(){return!1},dT:function(){return!1},VS:function(){return!1},WS:function(){return!1}});
p.mL=p.Ne.extend({jG:0,IE:p.kL,V4:function(){return this.jG},xJ:function(a){this.jG=a},P1:function(){return this.IE},HU:function(a){this.IE=a}});p.Nx=p.sa.extend({Mb:null,Se:0,Kn:0,Wb:function(){return this.Mb},Xg:function(a){this.Mb=a},mR:function(){return this.Se},os:function(a){this.Se=a},UQ:function(){return this.Kn},WU:function(a){this.Kn=a},Cj:function(a,c){this.Mb=a;this.Se=c}});p.Nx.create=function(a,c){var d=new p.Nx;d.Cj(a,c);return d};
p.Cd=p.sa.extend({ij:!1,av:!1,mf:null,Wi:!1,r:function(){this.Wi=!0;this.mf=[];this.av=this.ij=!1;p.Cd.UN();return!0},Sq:function(a){this.ij=a},aN:function(){return this.ij},IF:function(a){this.av=a},UZ:function(){return this.av},rG:function(a,c){var d=p.Nx.create(a,c);this.mf=this.Eo(d,this.mf)},Eo:function(a,c){for(var d=0,e=0;e<c.length;e++){var f=c[e];if(f&&(f.Se<a.Se&&++d,f.Wb()==a.Wb()))return p.log("cc.MouseDispatcher.forceAddHandler(): handler has been added."),c}return p.fl(c,a,d)},DI:function(a){if(null!=
a)for(var c=0;c<this.mf.length;c++){var d=this.mf[c];if(d&&d.Wb()==a){p.yd(this.mf,d);break}}},ZM:function(a){for(var c=0;c<this.mf.length;c++)if(this.mf[c]&&this.mf[c].Wb()==a)return this.mf[c];return null},os:function(a,c){if(!c)throw"cc.MouseDispatcher.setPriority(): delegate should be non-null";var d=this.ZM(c);d?d.Se!=a&&(d.os(a),this.mf.sort(p.WH)):p.log("cc.MouseDispatcher.setPriority(): Can't find MouseHandler in array")},m8:function(){this.mf.length=0},vm:function(a,c,d){for(c=0;c<this.mf.length;c++){var e=
this.mf[c];switch(d){case p.MD:this.ij||this.av||!e.Wb().Jh||e.Wb().Jh(a)}}}});p.Cd.Wu=p.a(0,0);p.Cd.wN=!1;
p.Cd.UN=function(){var a=p.canvas;function c(c){var e=p.ti(a),f=c.pageX,g=c.pageY,h=p.ia.d(),f=(f-e.left)/h.la,e=(e.height-(g-e.top))/h.qa,g=new p.mL(f,e);g.rf(p.Cd.Wu.x,p.Cd.Wu.y);g.HU(c.button);p.Cd.Wu.x=f;p.Cd.Wu.y=e;return g}p.Cd.wN||(window.addEventListener("mousedown",function(a){a.button==p.ND?p.P.d().Ze().IF(!0):p.P.d().Ze().Sq(!0)}),window.addEventListener("mouseup",function(a){a.button==p.ND?p.P.d().Ze().IF(!1):p.P.d().Ze().Sq(!1)}),a.addEventListener("mousedown",function(a){p.P.d().Ze().vm(c(a),
a,p.hL)}),a.addEventListener("mouseup",function(a){p.P.d().Ze().vm(c(a),a,p.lL)}),a.addEventListener("mousemove",function(a){p.P.d().Ze().vm(c(a),a,p.MD)}),a.addEventListener("mousewheel",function(a){var e=c(a);e.xJ(a.wheelDelta);p.P.d().Ze().vm(e,a,p.dE)},!1),a.addEventListener("DOMMouseScroll",function(a){var e=c(a);e.xJ(-120*a.detail);p.P.d().Ze().vm(e,a,p.dE)}),a.addEventListener("mouseout",function(a){p.P.d().Ze().vm(c(a),a,p.jL)},!1),a.addEventListener("mouseover",function(a){p.P.d().Ze().vm(c(a),
a,p.iL)},!1))};p.$aa=function(){return{x:0,y:0}};p.bl=function(a,c){return{x:a,y:c}};p.ng=function(a,c){return p.bl(a.x+c.x,a.y+c.y)};p.Wc=function(a,c){return p.bl(a.x-c.x,a.y-c.y)};p.Hf=function(a,c){return p.bl(a.x*c,a.y*c)};p.lx=function(a){return p.bl(-a.y,a.x)};p.Gi=function(a){return p.bl(-a.x,-a.y)};p.rW=function(a,c){return a.x*c.x+a.y*c.y};p.Zaa=function(a){return p.bl(Math.cos(a),Math.sin(a))};p.fD=function(a){a=p.Wg(p.a(a.x,a.y));return p.bl(a.x,a.y)};p.Vh=function(a){return p.bl(a.x,a.y)};
p.ob=function(a){return{Da:a.x,ca:a.y}};
p.CK=p.F.extend({Ra:null,W:null,Er:function(){return this.W},Uk:function(a){this.W=a},ctor:function(){p.F.prototype.ctor.call(this);this.Ra=[];this.W=new p.il(p.je,p.ie)},Ja:function(a){a=a||p.O;var c=p.ia.d().la;this.W&&770==this.W.src&&1==this.W.sb&&(a.globalCompositeOperation="lighter");for(var d=0;d<this.Ra.length;d++){var e=this.Ra[d];e.type===p.qg.mE&&(a.fillStyle="rgba("+(0|255*e.color.h)+","+(0|255*e.color.g)+","+(0|255*e.color.f)+","+e.color.C+")",p.wf.mB(e.position,e.pC));e.type===p.qg.oE&&
(a.strokeStyle="rgba("+(0|255*e.color.h)+","+(0|255*e.color.g)+","+(0|255*e.color.f)+","+e.color.C+")",a.lineWidth=2*e.pC*c,a.lineCap="round",p.wf.zh(e.om,e.$k));e.type===p.qg.nE&&(a.fillStyle="rgba("+(0|255*e.fillColor.h)+","+(0|255*e.fillColor.g)+","+(0|255*e.fillColor.f)+","+e.fillColor.C+")",p.wf.Pd(e.hD,e.count,!1,!0),a.lineWidth=2*e.borderWidth*c,a.lineCap="round",a.strokeStyle="rgba("+(0|255*e.borderColor.h)+","+(0|255*e.borderColor.g)+","+(0|255*e.borderColor.f)+","+e.borderColor.C+")",p.wf.Pd(e.hD,
e.count,!0,!1))}},xQ:function(a,c,d){var e=new p.oy(p.qg.mE);e.position=a;e.pC=c;e.color=d;this.Ra.push(e)},BQ:function(a,c,d,e){var f=new p.oy(p.qg.oE);f.om=a;f.$k=c;f.pC=d;f.color=e;this.Ra.push(f)},Pd:function(a,c,d,e){var f=new p.oy(p.qg.nE);f.hD=a;f.count=a.length;f.fillColor=c;f.borderWidth=d;f.borderColor=e;this.Ra.push(f)},clear:function(){this.Ra.length=0}});
p.DK=p.F.extend({wn:0,Ra:null,zk:null,XF:null,WF:null,W:null,xa:!1,Er:function(){return this.W},Uk:function(a){this.W=a},ctor:function(){p.F.prototype.ctor.call(this);this.Ra=[];this.W=new p.il(p.je,p.ie)},r:function(){return p.F.prototype.r.call(this)?(this.lg(p.eh.d().Lh(p.PY)),this.iz(512),this.XF=p.O.createBuffer(),this.xa=!0):!1},eO:function(){var a=p.O;p.Yd(p.Lt);a.bindBuffer(a.ARRAY_BUFFER,this.XF);this.xa&&(a.bufferData(a.ARRAY_BUFFER,this.zk,a.STREAM_DRAW),this.xa=!1);var c=p.Jb.BYTES_PER_ELEMENT;
a.vertexAttribPointer(p.me,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(p.Hp,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(p.Ip,2,a.FLOAT,!1,c,12);a.drawArrays(a.TRIANGLES,0,3*this.Ra.length);p.ah()},iz:function(a){if(this.Ra.length+a>this.wn){var c=p.nc.BYTES_PER_ELEMENT;this.wn+=Math.max(this.wn,a);if(null==this.Ra||0===this.Ra.length)this.Ra=[],this.zk=new ArrayBuffer(c*this.wn),this.WF=new Uint8Array(this.zk);else{a=[];for(var d=new ArrayBuffer(c*this.wn),e=0;e<this.Ra.length;e++)a[e]=new p.nc(this.Ra[e].C,
this.Ra[e].f,this.Ra[e].ra,d,e*c);this.WF=new Uint8Array(d);this.Ra=a;this.zk=d}}},Ja:function(){p.Bj(this.W.src,this.W.sb);this.rc.Le();this.rc.tJ();this.eO()},xQ:function(a,c,d){d={h:0|255*d.h,g:0|255*d.g,f:0|255*d.f,C:0|255*d.C};var e={n:{x:a.x-c,y:a.y-c},D:d,s:{Da:-1,ca:-1}},f={n:{x:a.x+c,y:a.y+c},D:d,s:{Da:1,ca:1}},g={n:{x:a.x+c,y:a.y-c},D:d,s:{Da:1,ca:-1}};this.Ra.push(new p.nc(e,{n:{x:a.x-c,y:a.y+c},D:d,s:{Da:-1,ca:1}},f,this.zk,this.Ra.length*p.nc.BYTES_PER_ELEMENT));this.Ra.push(new p.nc(e,
f,g,this.zk,this.Ra.length*p.nc.BYTES_PER_ELEMENT));this.xa=!0},BQ:function(a,c,d,e){this.iz(18);e={h:0|255*e.h,g:0|255*e.g,f:0|255*e.f,C:0|255*e.C};var f=p.Vh(a);c=p.Vh(c);a=p.fD(p.lx(p.Wc(c,f)));var g=p.lx(a),h=p.Hf(a,d);d=p.Hf(g,d);var k=p.ng(c,p.Wc(h,d)),l=p.Wc(c,h),m=p.ng(c,h),n=p.Wc(f,h),s=p.ng(f,h),q=p.Wc(f,p.Wc(h,d)),f=p.ng(f,p.ng(h,d)),v=p.nc.BYTES_PER_ELEMENT,z=this.zk;this.Ra.push(new p.nc({n:p.Wc(c,p.ng(h,d)),D:e,s:p.ob(p.Gi(p.ng(a,g)))},{n:k,D:e,s:p.ob(p.Wc(a,g))},{n:l,D:e,s:p.ob(p.Gi(a))},
z,this.Ra.length*v));this.Ra.push(new p.nc({n:m,D:e,s:p.ob(a)},{n:k,D:e,s:p.ob(p.Wc(a,g))},{n:l,D:e,s:p.ob(p.Gi(a))},z,this.Ra.length*v));this.Ra.push(new p.nc({n:m,D:e,s:p.ob(a)},{n:n,D:e,s:p.ob(p.Gi(a))},{n:l,D:e,s:p.ob(p.Gi(a))},z,this.Ra.length*v));this.Ra.push(new p.nc({n:m,D:e,s:p.ob(a)},{n:n,D:e,s:p.ob(p.Gi(a))},{n:s,D:e,s:p.ob(a)},z,this.Ra.length*v));this.Ra.push(new p.nc({n:q,D:e,s:p.ob(p.Wc(g,a))},{n:n,D:e,s:p.ob(p.Gi(a))},{n:s,D:e,s:p.ob(a)},z,this.Ra.length*v));this.Ra.push(new p.nc({n:q,
D:e,s:p.ob(p.Wc(g,a))},{n:f,D:e,s:p.ob(p.ng(a,g))},{n:s,D:e,s:p.ob(a)},z,this.Ra.length*v));this.xa=!0},Pd:function(a,c,d,e){c={h:0|255*c.h,g:0|255*c.g,f:0|255*c.f,C:0|255*c.C};e={h:0|255*e.h,g:0|255*e.g,f:0|255*e.f,C:0|255*e.C};var f=[],g,h,k,l,m=a.length;for(g=0;g<m;g++){h=p.Vh(a[(g-1+m)%m]);k=p.Vh(a[g]);l=p.Vh(a[(g+1)%m]);var n=p.fD(p.lx(p.Wc(k,h)));k=p.fD(p.lx(p.Wc(l,k)));f[g]={offset:p.Hf(p.ng(n,k),1/(p.rW(n,k)+1)),cI:k}}n=0<d;this.iz(3*(3*m-2));var s=p.nc.BYTES_PER_ELEMENT,q=this.zk,v=this.Ra,
z=!1==n?0.5:0;for(g=0;g<m-2;g++)h=p.Wc(p.Vh(a[0]),p.Hf(f[0].offset,z)),k=p.Wc(p.Vh(a[g+1]),p.Hf(f[g+1].offset,z)),l=p.Wc(p.Vh(a[g+2]),p.Hf(f[g+2].offset,z)),v.push(new p.nc({n:h,D:c,s:p.ob({x:0,y:0})},{n:k,D:c,s:p.ob({x:0,y:0})},{n:l,D:c,s:p.ob({x:0,y:0})},q,v.length*s));for(g=0;g<m;g++){z=(g+1)%m;h=p.Vh(a[g]);k=p.Vh(a[z]);l=f[g].cI;var B=f[g].offset,E=f[z].offset,z=n?p.Wc(h,p.Hf(B,d)):p.Wc(h,p.Hf(B,0.5)),M=n?p.Wc(k,p.Hf(E,d)):p.Wc(k,p.Hf(E,0.5));h=n?p.ng(h,p.Hf(B,d)):p.ng(h,p.Hf(B,0.5));k=n?p.ng(k,
p.Hf(E,d)):p.ng(k,p.Hf(E,0.5));n?(v.push(new p.nc({n:z,D:e,s:p.ob(p.Gi(l))},{n:M,D:e,s:p.ob(p.Gi(l))},{n:k,D:e,s:p.ob(l)},q,v.length*s)),v.push(new p.nc({n:z,D:e,s:p.ob(p.Gi(l))},{n:h,D:e,s:p.ob(l)},{n:k,D:e,s:p.ob(l)},q,v.length*s))):(v.push(new p.nc({n:z,D:c,s:p.ob({x:0,y:0})},{n:M,D:c,s:p.ob({x:0,y:0})},{n:k,D:c,s:p.ob(l)},q,v.length*s)),v.push(new p.nc({n:z,D:c,s:p.ob({x:0,y:0})},{n:h,D:c,s:p.ob(l)},{n:k,D:c,s:p.ob(l)},q,v.length*s)))}this.xa=!0},clear:function(){this.Ra.length=0;this.xa=!0}});
p.qg=p.va.xc?p.DK:p.CK;p.qg.create=function(){var a=new p.qg;return a&&a.r()?a:null};p.oy=function(a){this.type=a};p.qg.mE=0;p.qg.oE=1;p.qg.nE=2;p.ss=-1;p.iJ=function(a,c){a.lg(c);var d=a.o;if(d)for(var e=0;e<d.length;e++)p.iJ(d[e],c)};
p.$a=p.F.extend({bc:null,rl:0,hi:!1,ZE:!1,ctor:function(){p.F.prototype.ctor.call(this);this.bc=null;this.rl=0;this.hi=!1},r:null,yz:function(a){this.bc=a;this.rl=1;this.hi=!1;p.$a.Bz=!0;p.$a.Bz&&(p.ss=p.O.getParameter(p.O.STENCIL_BITS),0>=p.ss&&p.log("Stencil buffer is not enabled."),p.$a.Bz=!1);return!0},xz:function(a){this.bc=a;this.rl=1;this.hi=!1},ig:function(){p.F.prototype.ig.call(this);this.bc.ig()},Ih:function(){p.F.prototype.Ih.call(this);this.bc.Ih()},Vg:function(){this.bc.Vg();p.F.prototype.Vg.call(this)},
td:function(){this.bc.td();p.F.prototype.td.call(this)},ha:null,dm:function(a){var c=a||p.O;if(1>p.ss)p.F.prototype.ha.call(this,a);else if(this.bc&&this.bc.pa)if(p.$a.Cq=-1,p.$a.Cq+1==p.ss)p.$a.RA=!0,p.$a.RA&&(p.log("Nesting more than "+p.ss+"stencils is not supported. Everything will be drawn without stencil for this node and its childs."),p.$a.RA=!1),p.F.prototype.ha.call(this,a);else{p.$a.Cq++;var d=1<<p.$a.Cq,e=d|d-1,f=c.isEnabled(c.STENCIL_TEST),g=c.getParameter(c.STENCIL_WRITEMASK),h=c.getParameter(c.STENCIL_FUNC),
k=c.getParameter(c.STENCIL_REF),l=c.getParameter(c.STENCIL_VALUE_MASK),m=c.getParameter(c.STENCIL_FAIL),n=c.getParameter(c.STENCIL_PASS_DEPTH_FAIL),s=c.getParameter(c.STENCIL_PASS_DEPTH_PASS);c.enable(c.STENCIL_TEST);c.stencilMask(d);var q=c.getParameter(c.DEPTH_WRITEMASK);c.depthMask(!1);c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.hi?c.REPLACE:c.ZERO,c.KEEP,c.KEEP);p.wf.nB(p.Mi(),p.hT(),p.Hv(1,1,1,1));c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.hi?c.ZERO:c.REPLACE,c.KEEP,c.KEEP);if(1>this.rl){var d=
p.eh.d().Lh(p.RY),v=c.getUniformLocation(d.aw(),p.lZ);p.c5(d.aw());d.sJ(v,this.rl);p.iJ(this.bc,d)}p.Uo();this.transform();this.bc.ha();p.To();c.depthMask(q);c.stencilFunc(c.EQUAL,e,e);c.stencilOp(c.KEEP,c.KEEP,c.KEEP);p.F.prototype.ha.call(this,a);c.stencilFunc(h,k,l);c.stencilOp(m,n,s);c.stencilMask(g);f||c.disable(c.STENCIL_TEST);p.$a.Cq--}else this.hi&&p.F.prototype.ha.call(this,a)},cm:function(a){if(this.bc&&this.bc.pa){if(this.Iy()||this.bc instanceof p.w){a=a||p.O;var c=a.canvas,d=p.$a.dN();
d.width=c.width;d.height=c.height;d.getContext("2d").drawImage(c,0,0);a.save();this._super(a);a.globalCompositeOperation=this.hi?"destination-out":"destination-in";this.transform(a);this.bc.ha();a.restore();a.save();a.setTransform(1,0,0,1,0,0);a.globalCompositeOperation="destination-over";a.drawImage(d,0,0)}else{a=a||p.O;var d=this.o,e;a.save();this.transform(a);this.bc.ha(a);a.clip();this.Iy(!0);var f=d.length;if(0<f){this.vd();for(c=0;c<f;c++)if(e=d[c],0>e.Sa)e.ha(a);else break;for(this.Ja(a);c<
f;c++)d[c].ha(a)}else this.Ja(a);this.Iy(!1)}a.restore()}else this.hi&&p.F.prototype.ha.call(this,a)},t4:function(){return this.bc},MC:null,JO:function(a){this.bc=a},IO:function(a){this.bc=a;var c=p.ia.d().la,d=p.ia.d().qa,e=p.O;!(a instanceof p.w)&&a instanceof p.qg&&(a.Ja=function(){for(var f=0;f<a.Ra.length;f++){var g=a.Ra[f].hD,h=g[0];e.beginPath();e.moveTo(h.x*c,-h.y*d);for(var h=1,k=g.length;h<k;h++)e.lineTo(g[h].x*c,-g[h].y*d)}})},C1:function(){return this.rl},Q8:function(a){this.rl=a},P5:function(){return this.hi},
C9:function(a){this.hi=a},Iy:function(a){if(!0===a||!1===a)p.$a.prototype.ZE=a;return p.$a.prototype.ZE}});p.va.xc?(p.$a.prototype.r=p.$a.prototype.yz,p.$a.prototype.ha=p.$a.prototype.dm,p.$a.prototype.MC=p.$a.prototype.JO):(p.$a.prototype.r=p.$a.prototype.xz,p.$a.prototype.ha=p.$a.prototype.cm,p.$a.prototype.MC=p.$a.prototype.IO);p.$a.Bz=null;p.$a.RA=null;p.$a.Cq=null;p.$a.OF=null;p.$a.dN=function(){return p.$a.OF||(p.$a.OF=document.createElement("canvas"))};
p.$a.create=function(a){var c=new p.$a;c.r(a);return c};p.NX=0;p.OX=1;p.PX=2;p.dn=function(a){a-=1;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;return(a|a>>16)+1};
p.mb=p.F.extend({xn:null,yn:null,ou:0,dq:0,Su:0,ta:null,fr:null,$O:null,pf:p.Oi,ab:null,bu:0,Ui:null,Oy:0,Py:0,Pp:!1,Ny:null,ctor:null,gh:function(){p.F.prototype.ctor.call(this);this.Ui=p.Hv(1,1,1,1);this.Ny="rgba(255,255,255,1)";this.xn=document.createElement("canvas");this.yn=this.xn.getContext("2d");this.ea(0,0)},hh:function(){p.F.prototype.ctor.call(this);this.Ui=p.Hv(0,0,0,0)},vf:null,DM:function(){p.F.prototype.td.call(this);this.xn=this.yn=null},EM:function(){p.F.prototype.td.call(this);this.fr=
null;var a=p.O;a.deleteFramebuffer(this.ou);this.dq&&a.deleteRenderbuffer(this.dq);this.$O=null},wR:function(){return this.ab},ps:function(a){this.ab=a},RB:null,oN:function(a,c){var d=this.xn,e=p.hd();d.width=0|a*e;d.height=0|c*e;this.yn.translate(0,d.height);e=new p.Pb;e.af(d);e.ce();this.ab=p.w.Hc(e);return!0},pN:function(a,c,d,e){d==p.Cp&&p.log("cc.RenderTexture._initWithWidthAndHeightForWebGL() : only RGB and RGBA formats are valid for a render texture;");var f=p.O,g=p.hd();a=0|a*g;c=0|c*g;this.Su=
f.getParameter(f.FRAMEBUFFER_BINDING);var h;p.ke.d().cr?(g=a,h=c):(g=p.dn(a),h=p.dn(c));for(var k=new Uint8Array(g*h*4),l=0;l<g*h*4;l++)k[l]=0;this.pf=d;this.ta=new p.Pb;if(!this.ta)return!1;l=this.ta;l.hw(k,this.pf,g,h,p.size(a,c));d=f.getParameter(f.RENDERBUFFER_BINDING);if(p.ke.d().Ao("GL_QCOM")){this.fr=new p.Pb;if(!this.fr)return!1;this.fr.hw(k,this.pf,g,h,p.size(a,c))}this.ou=f.createFramebuffer();f.bindFramebuffer(f.FRAMEBUFFER,this.ou);f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,
f.TEXTURE_2D,l.wh,0);0!=e&&(this.dq=f.createRenderbuffer(),f.bindRenderbuffer(f.RENDERBUFFER,this.dq),f.renderbufferStorage(f.RENDERBUFFER,e,g,h),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,this.dq));f.checkFramebufferStatus(f.FRAMEBUFFER)!==f.FRAMEBUFFER_COMPLETE&&p.log("Could not attach texture to the framebuffer");l.NI();a=this.ab=p.w.Hc(l);a.Om(-1);a.Uk(f.ONE,f.ONE_MINUS_SRC_ALPHA);f.bindRenderbuffer(f.RENDERBUFFER,d);f.bindFramebuffer(f.FRAMEBUFFER,this.Su);this.Pp=
!1;this.p(a);return!0},uj:null,tM:function(){p.O=this.yn;p.ia.d().FO()},uM:function(){p.sm(p.lt);p.Uo();p.sm(p.kt);p.Uo();var a=p.P.d();a.Rw(a.sk);var c=this.ta.ka,d=p.P.d().DR(),a=d.width/c.width,d=d.height/c.height,e=p.O;e.viewport(0,0,c.width,c.height);c=new p.Tg;p.DS(c,-1/a,1/a,-1/d,1/d,-1,1);p.nw(c);this.Su=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,this.ou);p.ke.d().Ao("GL_QCOM")&&(e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.fr.wh,0),
e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.ta.wh,0))},aB:function(a,c,d,e,f,g){var h=p.O;f=f||h.COLOR_BUFFER_BIT;g=g||h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT;this.Fy(a,c,d,e,f,g,h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT|h.STENCIL_BUFFER_BIT)},Fy:null,vM:function(a,c,d,e){this.uj();a=a||0;c=c||0;d=d||0;e=isNaN(e)?1:e;var f=this.yn,g=this.xn;f.save();f.fillStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+")";f.clearRect(0,
0,g.width,-g.height);f.fillRect(0,0,g.width,-g.height);f.restore()},wM:function(a,c,d,e,f,g,h){this.uj();var k=p.O,l=[0,0,0,0],m=0,n=0;h&k.COLOR_BUFFER_BIT&&(l=k.getParameter(k.COLOR_CLEAR_VALUE),k.clearColor(a,c,d,e));h&k.DEPTH_BUFFER_BIT&&(m=k.getParameter(k.DEPTH_CLEAR_VALUE),k.clearDepth(f));h&k.STENCIL_BUFFER_BIT&&(n=k.getParameter(k.STENCIL_CLEAR_VALUE),k.clearStencil(g));k.clear(h);h&k.COLOR_BUFFER_BIT&&k.clearColor(l[0],l[1],l[2],l[3]);h&k.DEPTH_BUFFER_BIT&&k.clearDepth(m);h&k.STENCIL_BUFFER_BIT&&
k.clearStencil(n)},end:null,XM:function(){p.O=p.JS;p.ia.d().hO()},YM:function(){var a=p.O,c=p.P.d();a.bindFramebuffer(a.FRAMEBUFFER,this.Su);c.wJ();p.sm(p.lt);p.To();p.sm(p.kt);p.To()},clear:function(a,c,d,e){this.aB(a,c,d,e);this.end()},clearRect:null,IM:function(a,c,d,e){this.yn.clearRect(a,c,d,-e)},JM:function(){},clearDepth:null,GM:function(){p.log("clearDepth isn't supported on Cocos2d-Html5")},HM:function(a){this.uj();var c=p.O,d=c.getParameter(c.DEPTH_CLEAR_VALUE);c.clearDepth(a);c.clear(c.DEPTH_BUFFER_BIT);
c.clearDepth(d);this.end()},clearStencil:null,KM:function(){p.log("clearDepth isn't supported on Cocos2d-Html5")},LM:function(a){var c=p.O,d=c.getParameter(c.STENCIL_CLEAR_VALUE);c.clearStencil(a);c.clear(c.STENCIL_BUFFER_BIT);c.clearStencil(d)},ha:null,cm:function(a){this.pa&&(a=a||p.O,a.save(),this.Ja(a),this.transform(a),this.ab.ha(),a.restore(),this.of=0)},dm:function(a){if(this.pa){p.Uo();var c=this.gk;c&&c.Qo()&&(c.$A(),this.hx());this.transform(a);this.ab.ha();this.Ja(a);c&&c.Qo()&&c.WA(this);
p.To();this.of=0}},Ja:null,yl:function(a){a=a||p.O;if(this.Pp){this.uj();if(this.bu){var c=this.xn;a.save();a.fillStyle=this.Ny;a.clearRect(0,0,c.width,-c.height);a.fillRect(0,0,c.width,-c.height);a.restore()}this.vd();a=this.o;for(var c=a.length,d=this.ab,e=0;e<c;e++){var f=a[e];f!=d&&f.ha()}this.end()}},Rf:function(){var a=p.O;if(this.Pp){this.uj();var c=this.bu;if(c){var d=[0,0,0,0],e=0,f=0;c&a.COLOR_BUFFER_BIT&&(d=a.getParameter(a.COLOR_CLEAR_VALUE),a.clearColor(this.Ui.h,this.Ui.g,this.Ui.f,
this.Ui.C));c&a.DEPTH_BUFFER_BIT&&(e=a.getParameter(a.DEPTH_CLEAR_VALUE),a.clearDepth(this.Oy));c&a.STENCIL_BUFFER_BIT&&(f=a.getParameter(a.STENCIL_CLEAR_VALUE),a.clearStencil(this.Py));a.clear(c);c&a.COLOR_BUFFER_BIT&&a.clearColor(d[0],d[1],d[2],d[3]);c&a.DEPTH_BUFFER_BIT&&a.clearDepth(e);c&a.STENCIL_BUFFER_BIT&&a.clearStencil(f)}this.vd();a=this.o;for(c=0;c<a.length;c++)d=a[c],d!=this.ab&&d.ha();this.end()}},dI:null,GN:function(){p.log("saveToFile isn't supported on Cocos2d-Html5");return null},
HN:function(){p.log("saveToFile isn't supported on Cocos2d-Html5");p.Fs(this.pf==p.Oi,"only RGBA8888 can be saved as image");if(!this.ta)return null;var a=this.ta.ka,c=a.width,a=a.height,d=new p.PK,e=p.O,f=new Uint8Array(c*a*4);if(!f)return d;var g=new Uint8Array(c*a*4);if(!g)return null;this.uj();e.pixelStorei(e.PACK_ALIGNMENT,1);e.readPixels(0,0,c,a,e.RGBA,e.UNSIGNED_BYTE,g);this.end();for(e=0;e<a;++e)this.EN(f,e*c*4,g,(a-e-1)*c*4,4*c);d.q5(f,c*a*4,p.HX,c,a,8);return d},EN:function(a,c,d,e,f){for(var g=
0;g<f;g++)a[c+g]=d[e+g]},J8:function(){p.log("saveToFile isn't supported on Cocos2d-Html5")},C6:function(){p.log("listenToBackground isn't supported on Cocos2d-Html5")},D6:function(){p.log("listenToForeground isn't supported on Cocos2d-Html5")},a2:function(){return this.bu},Y8:function(a){this.bu=a},Y1:function(){return this.Ui},UI:null,pO:function(a){var c=this.Ui;c.h=a.h;c.g=a.g;c.f=a.f;c.C=a.C;this.Ny="rgba("+(0|255*a.h)+","+(0|255*a.g)+","+(0|255*a.f)+","+a.C+")"},qO:function(a){var c=this.Ui;
c.h=a.h;c.g=a.g;c.f=a.f;c.C=a.C},Z1:function(){return this.Oy},X8:function(a){this.Oy=a},b2:function(){return this.Py},Z8:function(a){this.Py=a},B5:function(){return this.Pp},S8:function(a){this.Pp=a}});
p.va.xc?(b=p.mb.prototype,b.ctor=p.mb.prototype.hh,b.vf=p.mb.prototype.EM,b.RB=p.mb.prototype.pN,b.uj=p.mb.prototype.uM,b.Fy=p.mb.prototype.wM,b.end=p.mb.prototype.YM,b.clearRect=p.mb.prototype.JM,b.clearDepth=p.mb.prototype.HM,b.clearStencil=p.mb.prototype.LM,b.ha=p.mb.prototype.dm,b.Ja=p.mb.prototype.Rf,b.dI=p.mb.prototype.HN,b.UI=p.mb.prototype.qO):(b=p.mb.prototype,b.ctor=p.mb.prototype.gh,b.vf=p.mb.prototype.DM,b.RB=p.mb.prototype.oN,b.uj=p.mb.prototype.tM,b.Fy=p.mb.prototype.vM,b.end=p.mb.prototype.XM,
b.clearRect=p.mb.prototype.IM,b.clearDepth=p.mb.prototype.GM,b.clearStencil=p.mb.prototype.KM,b.ha=p.mb.prototype.cm,b.Ja=p.mb.prototype.yl,b.dI=p.mb.prototype.GN,b.UI=p.mb.prototype.pO);p.mb.create=function(a,c,d,e){d=d||p.Oi;e=e||0;var f=new p.mb;return f&&f.RB(a,c,d,e)?f:null};p.Ym=-1;
p.gd=p.sa.extend({Jl:null,M:null,Tc:p.Ym,ctor:function(){this.M=this.Jl=null;this.Tc=p.Ym},description:function(){return"\x3ccc.Action | Tag \x3d "+this.Tc+"\x3e"},copy:function(){return p.A(this)},A:function(){var a=new p.gd;a.Jl=null;a.M=null;a.Tc=this.Tc;return a},Fh:function(){return!0},R:function(a){this.M=this.Jl=a},stop:function(){this.M=null},step:function(){p.log("[Action step]. override me")},update:function(){p.log("[Action update]. override me")},zR:function(){return this.M},C$:function(a){this.M=a},
B3:function(){return this.Jl},X9:function(a){this.Jl=a},yR:function(){return this.Tc},qJ:function(a){this.Tc=a},II:function(){},sC:function(){}});p.gd.create=function(){return new p.gd};p.Li=p.gd.extend({na:0,ctor:function(){p.gd.prototype.ctor.call(this);this.na=0},Ye:function(){return this.na},k9:function(a){this.na=a},reverse:function(){p.log("cocos2d: FiniteTimeAction#reverse: Implement me");return null},A:function(){return new p.Li}});
p.Bt=p.gd.extend({Sl:0,pb:null,ctor:function(){p.gd.prototype.ctor.call(this);this.Sl=0;this.pb=null},m4:function(){return this.Sl},v$:function(a){this.Sl=a},da:function(a,c){if(!a)throw"cc.Speed.initWithAction(): action must be non nil";this.pb=a;this.Sl=c;return!0},A:function(){var a=new p.Bt;a.da(this.pb.A(),this.Sl);return a},R:function(a){p.gd.prototype.R.call(this,a);this.pb.R(a)},stop:function(){this.pb.stop();p.gd.prototype.stop.call(this)},step:function(a){this.pb.step(a*this.Sl)},Fh:function(){return this.pb.Fh()},
reverse:function(){return p.Bt.create(this.pb.reverse(),this.Sl)},dJ:function(a){this.pb!=a&&(this.pb=a)},uB:function(){return this.pb}});p.Bt.create=function(a,c){var d=new p.Bt;return d&&d.da(a,c)?d:null};
p.Gx=p.gd.extend({On:null,un:!1,Xt:!1,uu:null,sq:null,tm:0,Km:0,Tm:0,km:0,TA:null,ctor:function(){p.gd.prototype.ctor.call(this);this.On=null;this.Xt=this.un=!1;this.sq=this.uu=null;this.km=this.Tm=this.Km=this.tm=0;this.TA=p.Mc()},A:function(){var a=new p.Gx,c=this.TA,c=new p.Lf(c.x,c.y,c.width,c.height);a.eg(this.On,c);return a},D5:function(){return this.un},U8:function(a){this.un=a},eg:function(a,c){if(!a)throw"cc.Follow.initWithAction(): followedNode must be non nil";c=c||p.Mc();this.On=a;this.TA=
c;this.un=!p.Oq(c);this.Xt=!1;var d=p.P.d().Gb;this.sq=p.a(d.width,d.height);this.uu=p.Ai(this.sq,0.5);this.un&&(this.tm=-(c.x+c.width-this.sq.x),this.Km=-c.x,this.Tm=-c.y,this.km=-(c.y+c.height-this.sq.y),this.Km<this.tm&&(this.Km=this.tm=(this.tm+this.Km)/2),this.Tm<this.km&&(this.Tm=this.km=(this.Tm+this.km)/2),this.Tm==this.km&&this.tm==this.Km&&(this.Xt=!0));return!0},step:function(){var a=this.On.m.B,c=this.On.m.G,a=this.uu.x-a,c=this.uu.y-c;this.un?this.Xt||this.M.t(p.vr(a,this.tm,this.Km),
p.vr(c,this.km,this.Tm)):this.M.t(a,c)},Fh:function(){return!this.On.ue},stop:function(){this.M=null;p.gd.prototype.stop.call(this)}});p.Gx.create=function(a,c){c=c||new p.Mc;var d=new p.Gx;return null!=c&&d&&d.eg(a,c)||d&&d.eg(a)?d:null};p.L=p.Li.extend({Ub:0,rq:!1,ctor:function(){p.Li.prototype.ctor.call(this);this.Ub=0;this.rq=!1},r2:function(){return this.Ub},I:function(a){this.na=0===a?p.et:a;this.Ub=0;return this.rq=!0},Fh:function(){return this.Ub>=this.na},A:function(){var a=new p.L;a.I(this.na);return a},step:function(a){this.rq?(this.rq=!1,this.Ub=0):this.Ub+=a;a=this.Ub/(1.192092896E-7<this.na?this.na:1.192092896E-7);a=1>a?a:1;this.update(0<a?a:0)},R:function(a){p.gd.prototype.R.call(this,a);this.Ub=0;this.rq=!0},reverse:function(){p.log("cc.IntervalAction: reverse not implemented.");
return null},R8:function(){p.log("cc.ActionInterval.setAmplitudeRate(): it should be overridden in subclass.")},D1:function(){p.log("cc.ActionInterval.getAmplitudeRate(): it should be overridden in subclass.")}});p.L.create=function(a){var c=new p.L;c.I(a);return c};
p.Ni=p.L.extend({Wh:null,rA:null,Yn:0,ctor:function(){p.L.prototype.ctor.call(this);this.Wh=[];this.rA=null;this.Yn=0},Rr:function(a,c){if(!a||!c)throw"cc.Sequence.initWithTwoActions(): arguments must all be non nil";this.I(a.Ye()+c.Ye());this.Wh[0]=a;this.Wh[1]=c;return!0},A:function(){var a=new p.Ni;a.Rr(this.Wh[0].A(),this.Wh[1].A());return a},R:function(a){p.L.prototype.R.call(this,a);this.rA=this.Wh[0].Ye()/this.na;this.Yn=-1},stop:function(){-1!==this.Yn&&this.Wh[this.Yn].stop();p.gd.prototype.stop.call(this)},
update:function(a){var c=0,d=this.rA,e=this.Wh,f=this.Yn;a<d?(a=0!==d?a/d:1,0===c&&1===f&&(e[1].update(0),e[1].stop())):(c=1,a=1===d?1:(a-d)/(1-d),-1===f&&(e[0].R(this.M),e[0].update(1),e[0].stop()),f||(e[0].update(1),e[0].stop()));f===c&&e[c].Fh()||(f!==c&&e[c].R(this.M),e[c].update(a),this.Yn=c)},reverse:function(){return p.Ni.pl(this.Wh[1].reverse(),this.Wh[0].reverse())},copy:function(){return this.A()}});
p.Ni.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&p.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)c[e]&&(d=p.Ni.pl(d,c[e]));return d};p.Ni.pl=function(a,c){var d=new p.Ni;d.Rr(a,c);return d};
p.st=p.L.extend({sf:0,oj:0,Pu:0,AE:!1,pb:null,ctor:function(){p.L.prototype.ctor.call(this);this.Pu=this.oj=this.sf=0;this.AE=!1;this.pb=null},da:function(a,c){return this.I(a.Ye()*c)?(this.sf=c,this.pb=a,a instanceof p.Ph&&(this.sf-=1),this.oj=0,!0):!1},A:function(){var a=new p.st;a.da(this.pb.A(),this.sf);return a},R:function(a){this.oj=0;this.Pu=this.pb.Ye()/this.na;p.L.prototype.R.call(this,a);this.pb.R(a)},stop:function(){this.pb.stop();p.gd.prototype.stop.call(this)},update:function(a){var c=
this.pb,d=this.na,e=this.sf,f=this.Pu;if(a>=f){for(;a>f&&this.oj<e;)c.update(1),this.oj++,c.stop(),c.R(this.M),this.Pu=f+=c.Ye()/d;1<=a&&this.oj<e&&this.oj++;this.AE&&(this.oj==e?(c.update(1),c.stop()):c.update(a-(f-c.Ye()/d)))}else c.update(a*e%1)},Fh:function(){return this.oj==this.sf},reverse:function(){return p.st.create(this.pb.reverse(),this.sf)},dJ:function(a){this.pb!=a&&(this.pb=a)},uB:function(){return this.pb}});p.st.create=function(a,c){var d=new p.st;d.da(a,c);return d};
p.tt=p.L.extend({pb:null,ctor:function(){p.L.prototype.ctor.call(this);this.pb=null},da:function(a){if(!a)throw"cc.RepeatForever.initWithAction(): action must be non null";this.pb=a;return!0},A:function(){var a=new p.tt;a.da(this.pb.A());return a},R:function(a){p.L.prototype.R.call(this,a);this.pb.R(a)},step:function(a){var c=this.pb;c.step(a);c.Fh()&&(c.R(this.M),c.step(c.Ub-c.Ye()))},Fh:function(){return!1},reverse:function(){return p.tt.create(this.pb.reverse())},dJ:function(a){this.pb!=a&&(this.pb=
a)},uB:function(){return this.pb}});p.tt.create=function(a){var c=new p.tt;return c&&c.da(a)?c:null};
p.Bp=p.L.extend({jj:null,sj:null,ctor:function(){p.L.prototype.ctor.call(this);this.sj=this.jj=null},Rr:function(a,c){if(!a||!c)throw"cc.Spawn.initWithTwoActions(): arguments must all be non null";var d=!1,e=a.Ye(),f=c.Ye();this.I(Math.max(e,f))&&(this.jj=a,this.sj=c,e>f?this.sj=p.Ni.pl(c,p.$m.create(e-f)):e<f&&(this.jj=p.Ni.pl(a,p.$m.create(f-e))),d=!0);return d},A:function(){var a=new p.Bp;a.Rr(this.jj.A(),this.sj.A());return a},R:function(a){p.L.prototype.R.call(this,a);this.jj.R(a);this.sj.R(a)},
stop:function(){this.jj.stop();this.sj.stop();p.gd.prototype.stop.call(this)},update:function(a){this.jj&&this.jj.update(a);this.sj&&this.sj.update(a)},reverse:function(){return p.Bp.pl(this.jj.reverse(),this.sj.reverse())}});p.Bp.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&p.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)null!=c[e]&&(d=this.pl(d,c[e]));return d};
p.Bp.pl=function(a,c){var d=new p.Bp;d.Rr(a,c);return d};
p.Xx=p.L.extend({gq:0,Tl:0,$y:0,mu:0,vk:0,az:0,ctor:function(){p.L.prototype.ctor.call(this);this.az=this.vk=this.mu=this.$y=this.Tl=this.gq=0},I:function(a,c,d){return p.L.prototype.I.call(this,a)?(this.gq=c||0,this.mu=d||this.gq,!0):!1},A:function(){var a=new p.Xx;a.I(this.na,this.gq,this.mu);return a},R:function(a){p.L.prototype.R.call(this,a);var c=a.Xf%360,d=this.gq-c;180<d&&(d-=360);-180>d&&(d+=360);this.Tl=c;this.$y=d;this.vk=a.oh%360;a=this.mu-this.vk;180<a&&(a-=360);-180>a&&(a+=360);this.az=
a},reverse:function(){p.log("cc.RotateTo.reverse(): it should be overridden in subclass.")},update:function(a){this.M&&(this.M.Uw(this.Tl+this.$y*a),this.M.Vw(this.vk+this.az*a))}});p.Xx.create=function(a,c,d){var e=new p.Xx;e.I(a,c,d);return e};
p.vt=p.L.extend({Nf:0,Tl:0,Op:0,vk:0,ctor:function(){p.L.prototype.ctor.call(this);this.vk=this.Op=this.Tl=this.Nf=0},I:function(a,c,d){return p.L.prototype.I.call(this,a)?(this.Nf=c||0,this.Op=d||this.Nf,!0):!1},A:function(){var a=new p.vt;a.I(this.na,this.Nf,this.Op);return a},R:function(a){p.L.prototype.R.call(this,a);this.Tl=a.Xf;this.vk=a.oh},update:function(a){this.M&&(this.M.Uw(this.Tl+this.Nf*a),this.M.Vw(this.vk+this.Op*a))},reverse:function(){return p.vt.create(this.na,-this.Nf,-this.Op)}});
p.vt.create=function(a,c,d){var e=new p.vt;e.I(a,c,d);return e};
p.Qj=p.L.extend({oi:null,Ac:null,zc:null,ctor:function(){p.L.prototype.ctor.call(this);this.oi=p.a(0,0);this.Ac=p.a(0,0);this.zc=p.a(0,0)},I:function(a,c){return p.L.prototype.I.call(this,a)?(this.oi.x=c.x,this.oi.y=c.y,!0):!1},A:function(){var a=new p.Qj;a.I(this.na,this.oi);return a},R:function(a){p.L.prototype.R.call(this,a);var c=a.m.B;a=a.m.G;this.zc.x=c;this.zc.y=a;this.Ac.x=c;this.Ac.y=a},update:function(a){if(this.M){var c=this.oi.x*a;a*=this.oi.y;var d=this.Ac;if(p.Js){var e=this.M.m.G,f=
this.zc;d.x=d.x+this.M.m.B-f.x;d.y=d.y+e-f.y;c+=d.x;a+=d.y;this.M.t(c,a);f.x=c;f.y=a}else this.M.t(d.x+c,d.y+a)}},reverse:function(){return p.Qj.create(this.na,p.a(-this.oi.x,-this.oi.y))}});p.Qj.create=function(a,c){var d=new p.Qj;d.I(a,c);return d};
p.nt=p.Qj.extend({Nn:null,ctor:function(){p.Qj.prototype.ctor.call(this);this.Nn=p.a(0,0)},I:function(a,c){return p.Qj.prototype.I.call(this,a,c)?(this.Nn.x=c.x,this.Nn.y=c.y,!0):!1},A:function(){var a=new p.nt;a.I(this.na,this.Nn);return a},R:function(a){p.Qj.prototype.R.call(this,a);this.oi.x=this.Nn.x-a.m.B;this.oi.y=this.Nn.y-a.m.G}});p.nt.create=function(a,c){var d=new p.nt;d.I(a,c);return d};
p.kn=p.L.extend({Nd:0,Od:0,Zq:0,$q:0,lq:0,mq:0,ne:0,oe:0,ctor:function(){p.L.prototype.ctor.call(this);this.oe=this.ne=this.mq=this.lq=this.$q=this.Zq=this.Od=this.Nd=0},I:function(a,c,d){var e=!1;p.L.prototype.I.call(this,a)&&(this.lq=c,this.mq=d,e=!0);return e},A:function(){var a=new p.kn;a.I(this.na,this.lq,this.mq);return a},R:function(a){p.L.prototype.R.call(this,a);this.Zq=a.Nd%180;this.ne=this.lq-this.Zq;180<this.ne&&(this.ne-=360);-180>this.ne&&(this.ne+=360);this.$q=a.Od%360;this.oe=this.mq-
this.$q;180<this.oe&&(this.oe-=360);-180>this.oe&&(this.oe+=360)},update:function(a){this.M.Xw(this.Zq+this.ne*a);this.M.Yw(this.$q+this.oe*a)}});p.kn.create=function(a,c,d){var e=new p.kn;e&&e.I(a,c,d);return e};
p.zt=p.kn.extend({I:function(a,c,d){var e=!1;p.kn.prototype.I.call(this,a,c,d)&&(this.Nd=c,this.Od=d,e=!0);return e},A:function(){var a=new p.zt;a.I(this.na,this.Nd,this.Od);return a},R:function(a){p.kn.prototype.R.call(this,a);this.ne=this.Nd;this.oe=this.Od;this.lq=this.Zq+this.ne;this.mq=this.$q+this.oe},reverse:function(){return p.zt.create(this.na,-this.Nd,-this.Od)}});p.zt.create=function(a,c,d){var e=new p.zt;e&&e.I(a,c,d);return e};
p.bn=p.L.extend({Ac:null,Qf:null,ja:0,Vn:0,zc:null,ctor:function(){p.L.prototype.ctor.call(this);this.Ac=p.a(0,0);this.zc=p.a(0,0);this.Qf=p.a(0,0);this.Vn=this.ja=0},I:function(a,c,d,e){return p.L.prototype.I.call(this,a)?(this.Qf.x=c.x,this.Qf.y=c.y,this.ja=d,this.Vn=e,!0):!1},A:function(){var a=new p.bn;a.I(this.na,this.Qf,this.ja,this.Vn);return a},R:function(a){p.L.prototype.R.call(this,a);var c=a.m.B;a=a.m.G;this.zc.x=c;this.zc.y=a;this.Ac.x=c;this.Ac.y=a},update:function(a){if(this.M){var c=
a*this.Vn%1,c=4*this.ja*c*(1-c),c=c+this.Qf.y*a;a*=this.Qf.x;var d=this.Ac;if(p.Js){var e=this.M.m.G,f=this.zc;d.x=d.x+this.M.m.B-f.x;d.y=d.y+e-f.y;a+=d.x;c+=d.y;this.M.t(a,c);f.x=a;f.y=c}else this.M.t(d.x+a,d.y+c)}},reverse:function(){return p.bn.create(this.na,p.a(-this.Qf.x,-this.Qf.y),this.ja,this.Vn)}});p.bn.create=function(a,c,d,e){var f=new p.bn;f.I(a,c,d,e);return f};
p.Jx=p.bn.extend({R:function(a){p.bn.prototype.R.call(this,a);this.Qf.x-=this.Ac.x;this.Qf.y-=this.Ac.y},A:function(){var a=new p.Jx;a.I(this.na,this.Qf,this.ja,this.Vn);return a}});p.Jx.create=function(a,c,d,e){var f=new p.Jx;f.I(a,c,d,e);return f};p.yG=function(a,c,d,e){return 0*Math.pow(1-e,3)+3*e*Math.pow(1-e,2)*a+3*Math.pow(e,2)*(1-e)*c+Math.pow(e,3)*d};
p.hl=p.L.extend({wl:null,Ac:null,zc:null,ctor:function(){p.L.prototype.ctor.call(this);this.wl=[];this.Ac=p.a(0,0);this.zc=p.a(0,0)},I:function(a,c){return p.L.prototype.I.call(this,a)?(this.wl=c,!0):!1},A:function(){for(var a=new p.hl,c=[],d=0;d<this.wl.length;d++){var e=this.wl[d];c.push(p.a(e.x,e.y))}a.I(this.na,c);return a},R:function(a){p.L.prototype.R.call(this,a);var c=a.m.B;a=a.m.G;this.zc.x=c;this.zc.y=a;this.Ac.x=c;this.Ac.y=a},update:function(a){if(this.M){var c=this.wl,d=p.yG(c[0].x,c[1].x,
c[2].x,a);a=p.yG(c[0].y,c[1].y,c[2].y,a);c=this.Ac;if(p.Js){var e=this.M.m.G,f=this.zc;c.x=c.x+this.M.m.B-f.x;c.y=c.y+e-f.y;d+=c.x;a+=c.y;this.M.t(d,a);f.x=d;f.y=a}else this.M.t(c.x+d,c.y+a)}},reverse:function(){var a=this.wl,a=[p.Cf(a[1],p.iC(a[2])),p.Cf(a[0],p.iC(a[2])),p.iC(a[2])];return p.hl.create(this.na,a)}});p.hl.create=function(a,c){var d=new p.hl;d.I(a,c);return d};
p.sx=p.hl.extend({tv:null,ctor:function(){p.hl.prototype.ctor.call(this);this.tv=[]},I:function(a,c){return p.L.prototype.I.call(this,a)?(this.tv=c,!0):!1},A:function(){var a=new p.sx;a.I(this.na,this.tv);return a},R:function(a){p.hl.prototype.R.call(this,a);a=this.Ac;var c=this.tv,d=this.wl;d[0]=p.dd(c[0],a);d[1]=p.dd(c[1],a);d[2]=p.dd(c[2],a)}});p.sx.create=function(a,c){var d=new p.sx;d.I(a,c);return d};
p.jn=p.L.extend({la:1,qa:1,lo:1,mo:1,zl:0,Al:0,ne:0,oe:0,ctor:function(){p.L.prototype.ctor.call(this);this.mo=this.lo=this.qa=this.la=1;this.oe=this.ne=this.Al=this.zl=0},I:function(a,c,d){return p.L.prototype.I.call(this,a)?(this.zl=c,this.Al=null!=d?d:c,!0):!1},A:function(){var a=new p.jn;a.I(this.na,this.zl,this.Al);return a},R:function(a){p.L.prototype.R.call(this,a);this.lo=a.la;this.mo=a.qa;this.ne=this.zl-this.lo;this.oe=this.Al-this.mo},update:function(a){this.M&&this.M.Kj(this.lo+this.ne*
a,this.mo+this.oe*a)}});p.jn.create=function(a,c,d){var e=new p.jn;e.I(a,c,d);return e};p.xt=p.jn.extend({R:function(a){p.jn.prototype.R.call(this,a);this.ne=this.lo*this.zl-this.lo;this.oe=this.mo*this.Al-this.mo},reverse:function(){return p.xt.create(this.na,1/this.zl,1/this.Al)},A:function(){var a=new p.xt;a.I(this.na,this.zl,this.Al);return a}});p.xt.create=function(a,c,d){var e=new p.xt;e.I(a,c,d);return e};
p.Gs=p.L.extend({sf:0,Kz:!1,ctor:function(){p.L.prototype.ctor.call(this);this.sf=0;this.Kz=!1},I:function(a,c){return p.L.prototype.I.call(this,a)?(this.sf=c,!0):!1},A:function(){var a=new p.Gs;a.I(this.na,this.sf);return a},update:function(a){if(this.M&&!this.Fh()){var c=1/this.sf;this.M.v(a%c>c/2)}},R:function(a){p.L.prototype.R.call(this,a);this.Kz=a.pa},stop:function(){this.M.v(this.Kz);p.L.prototype.stop.call(this)},reverse:function(){return p.Gs.create(this.na,this.sf)}});
p.Gs.create=function(a,c){var d=new p.Gs;d.I(a,c);return d};p.ft=p.L.extend({update:function(a){this.M.Va&&this.M.X(255*a)},reverse:function(){return p.gt.create(this.na)},A:function(){var a=new p.ft;a.I(this.na);return a}});p.ft.create=function(a){var c=new p.ft;c.I(a);return c};p.gt=p.L.extend({update:function(a){this.M.Va&&this.M.X(255*(1-a))},reverse:function(){return p.ft.create(this.na)},A:function(){var a=new p.gt;a.I(this.na);return a}});p.gt.create=function(a){var c=new p.gt;c.I(a);return c};
p.Fx=p.L.extend({uv:null,ru:null,ctor:function(){p.L.prototype.ctor.call(this);this.ru=this.uv=0},I:function(a,c){return p.L.prototype.I.call(this,a)?(this.uv=c,!0):!1},A:function(){var a=new p.Fx;a.I(this.na,this.uv);return a},update:function(a){this.M.Va&&this.M.X(this.ru+(this.uv-this.ru)*a)},R:function(a){p.L.prototype.R.call(this,a);this.M.Va&&(this.ru=a.vi())}});p.Fx.create=function(a,c){var d=new p.Fx;d.I(a,c);return d};
p.ly=p.L.extend({Ve:null,Jd:null,ctor:function(){p.L.prototype.ctor.call(this);this.Ve=p.i(0,0,0);this.Jd=p.i(0,0,0)},I:function(a,c,d,e){return p.L.prototype.I.call(this,a)?(this.Ve=p.i(c,d,e),!0):!1},A:function(){var a=new p.ly,c=this.Ve;a.I(this.na,c.h,c.g,c.f);return a},R:function(a){p.L.prototype.R.call(this,a);this.M.Va&&(this.Jd=this.M.cd())},update:function(a){var c=this.Jd,d=this.Ve;this.M.Va&&this.M.k(p.i(c.h+(d.h-c.h)*a,c.g+(d.g-c.g)*a,c.f+(d.f-c.f)*a))}});
p.ly.create=function(a,c,d,e){var f=new p.ly;f.I(a,c,d,e);return f};
p.Gt=p.L.extend({cq:0,bq:0,aq:0,oz:0,nz:0,mz:0,ctor:function(){p.L.prototype.ctor.call(this);this.mz=this.nz=this.oz=this.aq=this.bq=this.cq=0},I:function(a,c,d,e){return p.L.prototype.I.call(this,a)?(this.cq=c,this.bq=d,this.aq=e,!0):!1},A:function(){var a=new p.Gt;a.I(this.na,this.cq,this.bq,this.aq);return a},R:function(a){p.L.prototype.R.call(this,a);a.Va&&(a=a.cd(),this.oz=a.h,this.nz=a.g,this.mz=a.f)},update:function(a){this.M.Va&&this.M.k(p.i(this.oz+this.cq*a,this.nz+this.bq*a,this.mz+this.aq*
a))},reverse:function(){return p.Gt.create(this.na,-this.cq,-this.bq,-this.aq)}});p.Gt.create=function(a,c,d,e){var f=new p.Gt;f.I(a,c,d,e);return f};p.$m=p.L.extend({update:function(){},reverse:function(){return p.$m.create(this.na)},A:function(){var a=new p.$m;a.I(this.na);return a}});p.$m.create=function(a){var c=new p.$m;c.I(a);return c};
p.ut=p.L.extend({kj:null,ctor:function(){p.L.prototype.ctor.call(this);this.kj=null},da:function(a){if(!a)throw"cc.ReverseTime.initWithAction(): action must be non null";if(a==this.kj)throw"cc.ReverseTime.initWithAction(): the action was already passed in.";return p.L.prototype.I.call(this,a.Ye())?(this.kj=a,!0):!1},A:function(){var a=new p.ut;a.da(this.kj.A());return a},R:function(a){p.L.prototype.R.call(this,a);this.kj.R(a)},update:function(a){this.kj&&this.kj.update(1-a)},reverse:function(){return this.kj.A()},
stop:function(){this.kj.stop();p.gd.prototype.stop.call(this)}});p.ut.create=function(a){var c=new p.ut;c.da(a);return c};
p.Ds=p.L.extend({Ri:null,ao:0,Tu:null,nq:0,sA:null,ctor:function(){p.L.prototype.ctor.call(this);this.Ri=null;this.ao=0;this.Tu=null;this.nq=0;this.sA=null},bH:function(){return this.Ri},EU:function(a){this.Ri=a},CH:function(a){if(!a)throw"cc.Animate.initWithAnimation(): animation must be non-NULL";var c=a.Ye();if(this.I(c*a.hj)){this.ao=0;this.EU(a);this.Tu=null;this.nq=0;var d=[],e=0,f=c/a.Zl;a=a.Id;p.Es(a,p.Ii);for(var g=0;g<a.length;g++){var h=e*f/c,e=e+a[g].Gd;d.push(h)}this.sA=d;return!0}return!1},
A:function(){var a=new p.Ds;a.CH(this.Ri.A());return a},R:function(a){p.L.prototype.R.call(this,a);this.Ri.Ml&&(this.Tu=a.uQ());this.nq=this.ao=0},update:function(a){1>a&&(a*=this.Ri.hj,(0|a)>this.nq&&(this.ao=0,this.nq++),a%=1);for(var c=this.Ri.Id,d=c.length,e=this.sA,f=this.ao;f<d;f++)if(e[f]<=a)this.M.dp(c[f].Rg()),this.ao=f+1;else break},reverse:function(){var a=this.Ri,c=a.Id,d=[];p.Es(c,p.Ii);if(0<c.length)for(var e=c.length-1;0<=e;e--){var f=c[e];if(!f)break;d.push(f.A())}c=p.Hi.DG(d,a.Gd,
a.hj);c.Sw(a.Ml);return p.Ds.create(c)},stop:function(){this.Ri.Ml&&this.M&&this.M.dp(this.Tu);p.gd.prototype.stop.call(this)}});p.Ds.create=function(a){var c=new p.Ds;c.CH(a);return c};
p.ky=p.L.extend({kf:null,Bl:null,ctor:function(){p.L.prototype.ctor.call(this);this.Bl=this.kf=null},eg:function(a,c){return this.I(c.Ye())?(this.Bl=a,this.kf=c,!0):!1},A:function(){var a=new p.ky;a.eg(this.Bl,this.kf.A());return a},R:function(a){p.L.prototype.R.call(this,a);this.kf.R(this.Bl)},stop:function(){this.kf.stop()},update:function(a){this.kf.update(a)},B2:function(){return this.Bl},p9:function(a){this.Bl!=a&&(this.Bl=a)}});p.ky.create=function(a,c){var d=new p.ky;d.eg(a,c);return d};p.Ph=p.Li.extend({Fh:function(){return!0},step:function(){this.update(1)},update:function(){},reverse:function(){return this.A()},A:function(){return new p.Ph}});p.yt=p.Ph.extend({update:function(){this.M.v(!0)},reverse:function(){return p.jt.create()},A:function(){return new p.yt}});p.yt.create=function(){return new p.yt};p.jt=p.Ph.extend({update:function(){this.M.v(!1)},reverse:function(){return p.yt.create()},A:function(){return new p.jt}});p.jt.create=function(){return new p.jt};
p.Ht=p.Ph.extend({update:function(){this.M.v(!this.M.pa)},reverse:function(){return new p.Ht},A:function(){return new p.Ht}});p.Ht.create=function(){return new p.Ht};p.rt=p.Ph.extend({Aq:!0,ctor:function(){p.Li.prototype.ctor.call(this);this.Aq=!0},update:function(){this.M.S(this.Aq)},r:function(a){this.Aq=a;return!0},reverse:function(){return new p.rt(this.Aq)},A:function(){return new p.rt(this.Aq)}});p.rt.create=function(a){null==a&&(a=!0);var c=new p.rt;c&&c.r(a);return c};
p.ht=p.Ph.extend({Zb:!1,ctor:function(){p.Li.prototype.ctor.call(this);this.Zb=!1},EH:function(a){this.Zb=a;return!0},update:function(){this.M.YU(this.Zb)},reverse:function(){return p.ht.create(!this.Zb)},A:function(){var a=new p.ht;a.EH(this.Zb);return a}});p.ht.create=function(a){var c=new p.ht;return c.EH(a)?c:null};
p.it=p.Ph.extend({$b:!1,ctor:function(){p.Li.prototype.ctor.call(this);this.$b=!1},FH:function(a){this.$b=a;return!0},update:function(){this.M.ZU(this.$b)},reverse:function(){return p.it.create(!this.$b)},A:function(){var a=new p.it;a.FH(this.$b);return a}});p.it.create=function(a){var c=new p.it;return c.FH(a)?c:null};
p.Sx=p.Ph.extend({m:null,ctor:function(){p.Li.prototype.ctor.call(this);this.m=p.a(0,0)},HH:function(a){this.m.x=a.x;this.m.y=a.y;return!0},update:function(){this.M.t(this.m)},A:function(){var a=new p.Sx;a.HH(this.m);return a}});p.Sx.create=function(a){var c=new p.Sx;c.HH(a);return c};
p.sp=p.Ph.extend({Gg:null,vl:null,fk:null,Zp:null,ctor:function(){p.Li.prototype.ctor.call(this);this.Zp=this.fk=this.vl=this.Gg=null},eg:function(a,c,d){this.Zp=d;this.vl=a;this.Gg=c;return!0},LB:function(a){this.fk=a;return!0},execute:function(){null!=this.vl?this.vl.call(this.Gg,this.M,this.Zp):this.fk&&this.fk.call(null,this.M)},update:function(){this.execute()},v4:function(){return this.Gg},D$:function(a){a!=this.Gg&&(this.Gg&&(this.Gg=null),this.Gg=a)},copy:function(){var a=new p.sp;this.Gg?
a.eg(this.vl,this.Gg,this.Zp):this.fk&&a.LB(this.fk);return a},A:function(){var a=new p.sp;this.Gg?a.eg(this.vl,this.Gg,this.Zp):this.fk&&a.LB(this.fk);return a}});p.sp.create=function(a,c,d){var e=new p.sp;if(1==arguments.length){if(e&&e.LB(a))return e}else if(e&&e.eg(a,c,d))return e.vl=a,e;return null};p.mx=p.L.extend({Ky:0,Ly:0,My:0,RE:0,SE:0,TE:0,ZF:0,$F:0,aG:0,ctor:function(){p.L.prototype.ctor.call(this);this.aG=this.$F=this.ZF=this.TE=this.SE=this.RE=this.My=this.Ly=this.Ky=0},R:function(a){p.L.prototype.R.call(this,a);a=a.sB();var c=a.dH();this.Ky=c.x;this.Ly=c.y;this.My=c.z;c=a.fH();this.RE=c.x;this.SE=c.y;this.TE=c.z;a=a.BR();this.ZF=a.x;this.$F=a.y;this.aG=a.z},A:function(){return new p.mx},reverse:function(){return p.ut.create(this)}});
p.Qx=p.mx.extend({pi:0,ku:0,qn:0,Yy:0,Nf:0,Xy:0,aA:0,Zz:0,$z:0,Yz:0,ctor:function(){p.mx.prototype.ctor.call(this);this.Yz=this.$z=this.Zz=this.aA=this.Xy=this.Nf=this.Yy=this.qn=this.ku=this.pi=0},I:function(a,c,d,e,f,g,h){return p.L.prototype.I.call(this,a)?(this.pi=c,this.ku=d,this.qn=e,this.Yy=f,this.Nf=g,this.Xy=h,this.Zz=p.Ki(f),this.Yz=p.Ki(h),!0):!1},bW:function(){var a=this.M.sB(),c=a.fH(),d=a.dH(),a=c.x-d.x,e=c.y-d.y,c=c.z-d.z,d=Math.sqrt(Math.pow(a,2)+Math.pow(e,2)+Math.pow(c,2)),f=Math.sqrt(Math.pow(a,
2)+Math.pow(e,2));0===f&&(f=p.et);0===d&&(d=p.et);return{OS:d/p.tp.Nr(),xW:Math.acos(c/d),azimuth:0>a?Math.PI-Math.asin(e/f):Math.asin(e/f)}},R:function(a){p.L.prototype.R.call(this,a);a=this.bW();isNaN(this.pi)&&(this.pi=a.OS);isNaN(this.qn)&&(this.qn=p.Ux(a.xW));isNaN(this.Nf)&&(this.Nf=p.Ux(a.azimuth));this.aA=p.Ki(this.qn);this.$z=p.Ki(this.Nf)},A:function(){var a=new p.Qx;a.I(this.na,this.pi,this.ku,this.qn,this.Yy,this.Nf,this.Xy);return a},update:function(a){var c=(this.pi+this.ku*a)*p.tp.Nr(),
d=this.aA+this.Zz*a,e=this.$z+this.Yz*a;a=Math.sin(d)*Math.cos(e)*c+this.Ky;e=Math.sin(d)*Math.sin(e)*c+this.Ly;c=Math.cos(d)*c+this.My;this.M.sB().ZI(a,e,c)}});p.Qx.create=function(a,c,d,e,f,g,h){var k=new p.Qx;return k.I(a,c,d,e,f,g,h)?k:null};p.Lc=p.L.extend({U:null,ctor:function(){p.L.prototype.ctor.call(this);this.U=null},da:function(a){if(!a)throw"cc.ActionEase.initWithAction(): action must be non nil";return this.I(a.Ye())?(this.U=a,!0):!1},A:function(){var a=new p.Lc;a.da(this.U.A());return a},R:function(a){p.L.prototype.R.call(this,a);this.U.R(this.M)},stop:function(){this.U.stop();p.L.prototype.stop.call(this)},update:function(a){this.U.update(a)},reverse:function(){return p.Lc.create(this.U.reverse())},uB:function(){return this.U}});
p.Lc.create=function(a){var c=new p.Lc;c&&c.da(a);return c};p.ll=p.Lc.extend({se:0,ctor:function(){p.Lc.prototype.ctor.call(this);this.se=0},j$:function(a){this.se=a},T3:function(){return this.se},da:function(a,c){return p.Lc.prototype.da.call(this,a)?(this.se=c,!0):!1},A:function(){var a=new p.ll;a.da(this.U.A(),this.se);return a},reverse:function(){return p.ll.create(this.U.reverse(),1/this.se)}});p.ll.create=function(a,c){var d=new p.ll;d&&d.da(a,c);return d};
p.Ys=p.ll.extend({update:function(a){this.U.update(Math.pow(a,this.se))},reverse:function(){return p.Ys.create(this.U.reverse(),1/this.se)},A:function(){var a=new p.Ys;a.da(this.U.A(),this.se);return a}});p.Ys.create=function(a,c){var d=new p.Ys;d&&d.da(a,c);return d};p.$s=p.ll.extend({update:function(a){this.U.update(Math.pow(a,1/this.se))},reverse:function(){return p.$s.create(this.U.reverse(),1/this.se)},A:function(){var a=new p.$s;a.da(this.U.A(),this.se);return a}});
p.$s.create=function(a,c){var d=new p.$s;d&&d.da(a,c);return d};p.Zs=p.ll.extend({update:function(a){a*=2;1>a?this.U.update(0.5*Math.pow(a,this.se)):this.U.update(1-0.5*Math.pow(2-a,this.se))},A:function(){var a=new p.Zs;a.da(this.U.A(),this.se);return a},reverse:function(){return p.Zs.create(this.U.reverse(),this.se)}});p.Zs.create=function(a,c){var d=new p.Zs;d&&d.da(a,c);return d};
p.Vs=p.Lc.extend({update:function(a){this.U.update(0===a?0:Math.pow(2,10*(a-1)))},reverse:function(){return p.Xs.create(this.U.reverse())},A:function(){var a=new p.Vs;a.da(this.U.A());return a}});p.Vs.create=function(a){var c=new p.Vs;c&&c.da(a);return c};p.Xs=p.Lc.extend({update:function(a){this.U.update(1==a?1:-Math.pow(2,-10*a)+1)},reverse:function(){return p.Vs.create(this.U.reverse())},A:function(){var a=new p.Xs;a.da(this.U.A());return a}});
p.Xs.create=function(a){var c=new p.Xs;c&&c.da(a);return c};p.Ws=p.Lc.extend({update:function(a){1!=a&&0!==a&&(a*=2,a=1>a?0.5*Math.pow(2,10*(a-1)):0.5*(-Math.pow(2,-10*(a-1))+2));this.U.update(a)},reverse:function(){return p.Ws.create(this.U.reverse())},A:function(){var a=new p.Ws;a.da(this.U.A());return a}});p.Ws.create=function(a){var c=new p.Ws;c&&c.da(a);return c};
p.at=p.Lc.extend({update:function(a){a=0===a||1==a?a:-1*Math.cos(a*Math.PI/2)+1;this.U.update(a)},reverse:function(){return p.ct.create(this.U.reverse())},A:function(){var a=new p.at;a.da(this.U.A());return a}});p.at.create=function(a){var c=new p.at;c&&c.da(a);return c};p.ct=p.Lc.extend({update:function(a){a=0===a||1==a?a:Math.sin(a*Math.PI/2);this.U.update(a)},reverse:function(){return p.at.create(this.U.reverse())},A:function(){var a=new p.ct;a.da(this.U.A());return a}});
p.ct.create=function(a){var c=new p.ct;c&&c.da(a);return c};p.bt=p.Lc.extend({update:function(a){a=0===a||1==a?a:-0.5*(Math.cos(Math.PI*a)-1);this.U.update(a)},A:function(){var a=new p.bt;a.da(this.U.A());return a},reverse:function(){return p.bt.create(this.U.reverse())}});p.bt.create=function(a){var c=new p.bt;c&&c.da(a);return c};
p.an=p.Lc.extend({Kd:null,ctor:function(){p.Lc.prototype.ctor.call(this);this.Kd=0.3},D3:function(){return this.Kd},Y9:function(a){this.Kd=a},da:function(a,c){p.Lc.prototype.da.call(this,a);this.Kd=null==c?0.3:c;return!0},reverse:function(){p.log("cc.EaseElastic.reverse(): it should be overridden in subclass.")},A:function(){var a=new p.an;a.da(this.U.A(),this.Kd);return a}});p.an.create=function(a,c){var d=new p.an;return d&&d.da(a,c)?d:null};
p.Ss=p.an.extend({update:function(a){var c=0;0===a||1===a?c=a:(c=this.Kd/4,a-=1,c=-Math.pow(2,10*a)*Math.sin((a-c)*Math.PI*2/this.Kd));this.U.update(c)},reverse:function(){return p.Us.create(this.U.reverse(),this.Kd)},A:function(){var a=new p.Ss;a.da(this.U.A(),this.Kd);return a}});p.Ss.create=function(a,c){var d=new p.Ss;return d&&d.da(a,c)?d:null};
p.Us=p.an.extend({update:function(a){var c=0,c=0===a||1==a?a:Math.pow(2,-10*a)*Math.sin((a-this.Kd/4)*Math.PI*2/this.Kd)+1;this.U.update(c)},reverse:function(){return p.Ss.create(this.U.reverse(),this.Kd)},A:function(){var a=new p.Us;a.da(this.U.A(),this.Kd);return a}});p.Us.create=function(a,c){var d=new p.Us;d&&d.da(a,c);return d};
p.Ts=p.an.extend({update:function(a){var c=0,c=this.Kd;if(0===a||1==a)c=a;else{c||(c=this.Kd=0.3*1.5);var d=c/4;a=2*a-1;c=0>a?-0.5*Math.pow(2,10*a)*Math.sin((a-d)*Math.PI*2/c):Math.pow(2,-10*a)*Math.sin((a-d)*Math.PI*2/c)*0.5+1}this.U.update(c)},reverse:function(){return p.Ts.create(this.U.reverse(),this.Kd)},A:function(){var a=new p.Ts;a.da(this.U.A(),this.Kd);return a}});p.Ts.create=function(a,c){var d=new p.Ts;d&&d.da(a,c);return d};
p.kl=p.Lc.extend({Fv:function(a){if(a<1/2.75)return 7.5625*a*a;if(a<2/2.75)return a-=1.5/2.75,7.5625*a*a+0.75;if(a<2.5/2.75)return a-=2.25/2.75,7.5625*a*a+0.9375;a-=2.625/2.75;return 7.5625*a*a+0.984375},A:function(){var a=new p.kl;a.da(this.U.A());return a},reverse:function(){return p.kl.create(this.U.reverse())}});p.kl.create=function(a){var c=new p.kl;c&&c.da(a);return c};
p.Ps=p.kl.extend({update:function(a){this.U.update(1-this.Fv(1-a))},reverse:function(){return p.Rs.create(this.U.reverse())},A:function(){var a=new p.Ps;a.da(this.U.A());return a}});p.Ps.create=function(a){var c=new p.Ps;c&&c.da(a);return c};p.Rs=p.kl.extend({update:function(a){this.U.update(this.Fv(a))},reverse:function(){return p.Ps.create(this.U.reverse())},A:function(){var a=new p.Rs;a.da(this.U.A());return a}});p.Rs.create=function(a){var c=new p.Rs;c&&c.da(a);return c};
p.Qs=p.kl.extend({update:function(a){var c=0,c=0.5>a?0.5*(1-this.Fv(1-2*a)):0.5*this.Fv(2*a-1)+0.5;this.U.update(c)},A:function(){var a=new p.Qs;a.da(this.U.A());return a},reverse:function(){return p.Qs.create(this.U.reverse())}});p.Qs.create=function(a){var c=new p.Qs;c&&c.da(a);return c};p.Ms=p.Lc.extend({update:function(a){this.U.update(0===a||1==a?a:a*a*(2.70158*a-1.70158))},reverse:function(){return p.Os.create(this.U.reverse())},A:function(){var a=new p.Ms;a.da(this.U.A());return a}});
p.Ms.create=function(a){var c=new p.Ms;c&&c.da(a);return c};p.Os=p.Lc.extend({update:function(a){a-=1;this.U.update(a*a*(2.70158*a+1.70158)+1)},reverse:function(){return p.Ms.create(this.U.reverse())},A:function(){var a=new p.Os;a.da(this.U.A());return a}});p.Os.create=function(a){var c=new p.Os;c&&c.da(a);return c};
p.Ns=p.Lc.extend({update:function(a){a*=2;1>a?this.U.update(a*a*(3.5949095*a-2.5949095)/2):(a-=2,this.U.update(a*a*(3.5949095*a+2.5949095)/2+1))},A:function(){var a=new p.Ns;a.da(this.U.A());return a},reverse:function(){return p.Ns.create(this.U.reverse())}});p.Ns.create=function(a){var c=new p.Ns;c&&c.da(a);return c};p.vx=function(a,c,d,e,f,g){var h=g*g,k=h*g,l=(1-f)/2;f=l*(-k+2*h-g);var m=l*(-k+h)+(2*k-3*h+1);g=l*(k-2*h+g)+(-2*k+3*h);h=l*(k-h);return p.a(a.x*f+c.x*m+d.x*g+e.x*h,a.y*f+c.y*m+d.y*g+e.y*h)};p.JI=function(a){for(var c=[],d=a.length-1;0<=d;d--)c.push(p.a(a[d].x,a[d].y));return c};p.Lv=function(a){for(var c=[],d=0;d<a.length;d++)c.push(p.a(a[d].x,a[d].y));return c};p.Pg=function(a,c){var d=Math.min(a.length-1,Math.max(c,0));return a[d]};
p.I8=function(a){for(var c=a.length,d=0|c/2,e=0;e<d;++e){var f=a[e];a[e]=a[c-e-1];a[c-e-1]=f}};
p.Rh=p.L.extend({kh:null,Zy:0,Vl:0,zc:null,vy:null,ctor:function(){p.L.prototype.ctor.call(this);this.kh=[];this.Vl=this.Zy=0;this.vy=this.zc=null},I:function(a,c,d){if(!c||0==c.length)throw"Invalid configuration. It must at least have one control point";return p.L.prototype.I.call(this,a)?(this.yV(c),this.Vl=d,!0):!1},A:function(){var a=new p.Rh;a.I(this.na,p.Lv(this.kh),this.Vl);return a},R:function(a){p.L.prototype.R.call(this,a);this.Zy=1/(this.kh.length-1);a=this.M.m;this.zc=p.a(a.x,a.y);this.vy=
p.a(0,0)},update:function(a){var c,d=this.kh;if(1==a)c=d.length-1,a=1;else{var e=this.Zy;c=0|a/e;a=(a-e*c)/e}c=p.vx(p.Pg(d,c-1),p.Pg(d,c-0),p.Pg(d,c+1),p.Pg(d,c+2),this.Vl,a);p.Js&&(d=this.M.m.B-this.zc.x,a=this.M.m.G-this.zc.y,0!=d||0!=a)&&(e=this.vy,d=e.x+d,a=e.y+a,e.x=d,e.y=a,c.x+=d,c.y+=a);this.ZJ(c)},reverse:function(){var a=p.JI(this.kh);return p.Rh.create(this.na,a,this.Vl)},ZJ:function(a){this.M.t(a);this.zc=a},I3:function(){return this.kh},yV:function(a){this.kh=a}});
p.Rh.create=function(a,c,d){var e=new p.Rh;return e.I(a,c,d)?e:null};
p.vp=p.Rh.extend({Ac:null,ctor:function(){p.Rh.prototype.ctor.call(this);this.Ac=p.a(0,0)},R:function(a){p.Rh.prototype.R.call(this,a);a=a.m;this.Ac.x=a.x;this.Ac.y=a.y},reverse:function(){for(var a=this.kh.slice(),c,d=a[0],e=1;e<a.length;++e)c=a[e],a[e]=p.dd(c,d),d=c;a=p.JI(a);d=a[a.length-1];a.pop();d.x=-d.x;d.y=-d.y;a.unshift(d);for(e=1;e<a.length;++e)c=a[e],c.x=-c.x,c.y=-c.y,c.x+=d.x,c.y+=d.y,d=a[e]=c;return p.vp.create(this.na,a,this.Vl)},ZJ:function(a){var c=this.Ac,d=a.x+c.x;a=a.y+c.y;this.M.t(d,
a);this.zc.x=d;this.zc.y=a},A:function(){var a=new p.vp;a.I(this.na,p.Lv(this.kh),this.Vl);return a}});p.vp.create=function(a,c,d){var e=new p.vp;return e.I(a,c,d)?e:null};p.xx=p.Rh.extend({I:function(a,c){return p.Rh.prototype.I.call(this,a,c,0.5)},A:function(){var a=new p.xx;a.I(this.na,p.Lv(this.kh));return a}});p.xx.create=function(a,c){var d=new p.xx;return d.I(a,c)?d:null};
p.wx=p.vp.extend({I:function(a,c){return p.Rh.prototype.I.call(this,a,c,0.5)},A:function(){var a=new p.wx;a.I(this.na,p.Lv(this.kh));return a}});p.wx.create=function(a,c){var d=new p.wx;return d.I(a,c)?d:null};p.KW=p.sa.extend({dD:function(){}});
p.Zm=p.L.extend({key:"",om:0,$k:0,iB:0,ctor:function(){p.L.prototype.ctor.call(this);this.key="";this.iB=this.$k=this.om=0},I:function(a,c,d,e){return p.L.prototype.I.call(this,a)?(this.key=c,this.$k=e,this.om=d,!0):!1},R:function(a){if(!a||!a.dD)throw"cc.ActionTween.startWithTarget(): target must be non-null, and target must implement updateTweenAction function";p.L.prototype.R.call(this,a);this.iB=this.$k-this.om},update:function(a){this.M.dD(this.$k-this.iB*(1-a),this.key)},reverse:function(){return p.Zm.create(this.duration,
this.key,this.$k,this.om)},A:function(){var a=new p.Zm;a.I(this.na,this.key,this.om,this.$k);return a}});p.Zm.create=function(a,c,d,e){var f=new p.Zm;return f.I(a,c,d,e)?f:null};p.Rj=0;p.Rx=1;p.ZD=4;p.tL=75;
p.mc=p.lb.extend({We:null,mi:0,ab:null,jh:null,ul:null,od:!1,d3:function(){return p.a(this.jh.x,this.jh)},gJ:function(a){this.jh=p.kI(a)},J1:function(){return p.a(this.ul.x,this.ul.y)},RI:function(a){this.ul=p.kI(a)},cc:function(){return this.We},$v:function(){return this.mi},wR:function(){return this.ab},ns:function(a){this.mi!=a&&(this.mi=p.vr(a,0,100),this.IA())},ef:function(){},Ik:function(){return!1},b6:function(){return this.od},Gy:function(a){if(a<p.ZD){var c=p.tL;return this.od?p.a(c>>7-(a<<
1)&1,c>>7-((a<<1)+1)&1):p.a(c>>(a<<1)+1&1,c>>(a<<1)&1)}return p.Mi()},Pc:null,zA:270,hz:270,pi:0,Sy:!1,Dy:null,bd:0,sc:null,tf:null,iG:null,sr:!1,ctor:null,gh:function(){p.lb.prototype.ctor.call(this);this.We=p.Rj;this.mi=0;this.jh=p.a(0,0);this.ul=p.a(0,0);this.od=!1;this.ab=null;this.Pc=p.Mi();this.hz=this.zA=270;this.pi=0;this.Sy=!1;this.Dy=p.Mc()},hh:function(){p.lb.prototype.ctor.call(this);this.We=p.Rj;this.mi=0;this.jh=p.a(0,0);this.ul=p.a(0,0);this.od=!1;this.ab=null;this.iG=p.O.createBuffer();
this.bd=0;this.tf=this.sc=null;this.sr=!1},k:function(a){this.ab.k(a);this.ad()},X:function(a){this.ab.X(a);this.ad()},cd:function(){return this.ab.cd()},vi:function(){return this.ab.vi()},lJ:null,DO:function(a){this.od!==a&&(this.od=a)},EO:function(a){this.od!==a&&(this.od=a,this.tf=this.sc=null,this.bd=0)},ps:null,GO:function(a){this.ab!=a&&(this.ab=a,this.ba(this.ab.e()))},HO:function(a){a&&this.ab!=a&&(this.ab=a,this.ba(a.e()),this.sc&&(this.tf=this.sc=null,this.bd=0))},Fi:null,KO:function(a){a!==
this.We&&(this.We=a)},LO:function(a){a!==this.We&&(this.sc&&(this.tf=this.sc=null,this.bd=0),this.We=a)},kJ:null,BO:function(a){this.od!==a&&(this.od=a)},CO:function(a){this.od!==a&&(this.od=a,this.tf=this.sc=null,this.bd=0)},ye:function(a){var c=this.ab;if(!c)return{Da:0,ca:0};var d=c.wb,e=p.a(d.ya.s.Da,d.ya.s.ca),d=p.a(d.Ca.s.Da,d.Ca.s.ca);c.Fc&&(c=a.x,a.x=a.y,a.y=c);return{Da:e.x*(1-a.x)+d.x*a.x,ca:e.y*(1-a.y)+d.y*a.y}},Ae:function(a){if(!this.ab)return{x:0,y:0};var c=this.ab.wb,d=p.a(c.ya.n.x,
c.ya.n.y),c=p.a(c.Ca.n.x,c.Ca.n.y);return{x:d.x*(1-a.x)+c.x*a.x,y:d.y*(1-a.y)+c.y*a.y}},OB:null,kN:function(a){this.ns(0);this.ea(0.5,0.5);this.We=p.Rj;this.od=!1;this.gJ(p.a(0.5,0.5));this.RI(p.a(1,1));this.ps(a);return!0},lN:function(a){this.ns(0);this.tf=this.sc=null;this.bd=0;this.ea(0.5,0.5);this.We=p.Rj;this.od=!1;this.gJ(p.a(0.5,0.5));this.RI(p.a(1,1));this.ps(a);this.lg(p.eh.d().Lh(p.Yx));return!0},Ja:null,yl:function(a){a=a||p.O;var c=this.ab;c.Sn&&(a.globalCompositeOperation="lighter");
var d=p.ia.d().la,e=p.ia.d().qa;a.globalAlpha=c.Nb/255;var f=c.oa,g=c.ka,h=c.Vb,k=c.ez,l=0|h.x,m=-h.y-f.height,n=c.qo;k.width=f.width*d;k.height=f.height*e;a.save();c.Zb&&(l=-h.x-f.width,a.scale(-1,1));c.$b&&(m=h.y,a.scale(1,-1));l*=d;m*=e;this.We==p.Rx?(f=this.Dy,a.beginPath(),a.rect(f.x*d,f.y*e,f.width*d,f.height*e),a.clip(),a.closePath()):this.We==p.Rj&&(f=this.Pc.x*d,h=this.Pc.y*e,a.beginPath(),a.arc(f,h,this.pi*e,Math.PI/180*this.zA,Math.PI/180*this.hz,this.Sy),a.lineTo(f,h),a.clip(),a.closePath());
c.ta&&n.zs?(d=c.ta.qc,this.du?a.drawImage(d,0,0,n.width,n.height,l,m,k.width,k.height):a.drawImage(d,n.x,n.y,n.width,n.height,l,m,k.width,k.height)):0!==g.width&&(k=this.cd(),a.fillStyle="rgba("+k.h+","+k.g+","+k.f+",1)",a.fillRect(l,m,g.width*d,g.height*e));a.restore();p.ah()},Rf:function(a){a=a||p.O;if(this.sc&&this.ab){p.Ox(this);var c=this.ab.W;p.Bj(c.src,c.sb);p.Yd(p.Lt);this.ab.T()?p.cg(this.ab.T()):p.cg(null);a.bindBuffer(a.ARRAY_BUFFER,this.iG);this.sr&&(a.bufferData(a.ARRAY_BUFFER,this.tf,
a.DYNAMIC_DRAW),this.sr=!1);c=p.Jb.BYTES_PER_ELEMENT;a.vertexAttribPointer(p.me,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(p.Hp,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(p.Ip,2,a.FLOAT,!1,c,12);this.We===p.Rj?a.drawArrays(a.TRIANGLE_FAN,0,this.bd):this.We==p.Rx&&(this.od?(a.drawArrays(a.TRIANGLE_STRIP,0,this.bd/2),a.drawArrays(a.TRIANGLE_STRIP,4,this.bd/2),p.Bh++):a.drawArrays(a.TRIANGLE_STRIP,0,this.bd));p.Bh++}},mP:function(){if(this.ab){var a,c=this.jh;a=this.mi/100;var d=2*p.PI*(this.od?a:
1-a),e=p.a(c.x,1),f=p.jT(e,c,d),d=0;if(0==a)f=e,d=0;else if(1==a)f=e,d=4;else{var g=p.IK,h=p.ZD;for(a=0;a<=h;++a){var k=(a+(h-1))%h,l=this.Gy(a%h),k=this.Gy(k);0==a?k=p.mI(l,k,1-c.x):4==a&&(l=p.mI(l,k,1-c.x));var m=p.a(0,0);p.gC(l,k,c,f,m)&&(0!=a&&4!=a||0<=m.x&&1>=m.x)&&0<=m.y&&m.y<g&&(g=m.y,d=a)}f=p.Cf(c,p.Ai(p.dd(f,c),g))}g=!0;this.bd!=d+3&&(g=!1,this.tf=this.sc=null,this.bd=0);if(!this.sc){h=this.bd=d+3;l=p.Jb.BYTES_PER_ELEMENT;this.tf=new ArrayBuffer(h*l);k=[];for(a=0;a<h;a++)k[a]=new p.Jb(null,
null,null,this.tf,a*l);this.sc=k;if(!this.sc){p.log("cc.ProgressTimer._updateRadial() : Not enough memory");return}}this.ad();h=this.sc;if(!g)for(h[0].s=this.ye(c),h[0].n=this.Ae(c),h[1].s=this.ye(e),h[1].n=this.Ae(e),a=0;a<d;a++)c=this.Gy(a),h[a+2].s=this.ye(c),h[a+2].n=this.Ae(c);h[this.bd-1].s=this.ye(f);h[this.bd-1].n=this.Ae(f)}},bP:function(){if(this.ab){var a,c=this.mi/100,d=this.ul,d=p.Ai(p.a(1-d.x+c*d.x,1-d.y+c*d.y),0.5),c=p.dd(this.jh,d),d=p.Cf(this.jh,d);0>c.x&&(d.x+=-c.x,c.x=0);1<d.x&&
(c.x-=d.x-1,d.x=1);0>c.y&&(d.y+=-c.y,c.y=0);1<d.y&&(c.y-=d.y-1,d.y=1);if(this.od){if(!this.sc){this.bd=8;var e=p.Jb.BYTES_PER_ELEMENT;this.tf=new ArrayBuffer(8*e);var f=[];for(a=0;8>a;a++)f[a]=new p.Jb(null,null,null,this.tf,a*e);f[0].s=this.ye(p.a(0,1));f[0].n=this.Ae(p.a(0,1));f[1].s=this.ye(p.a(0,0));f[1].n=this.Ae(p.a(0,0));f[6].s=this.ye(p.a(1,1));f[6].n=this.Ae(p.a(1,1));f[7].s=this.ye(p.a(1,0));f[7].n=this.Ae(p.a(1,0));this.sc=f}a=this.sc;a[2].s=this.ye(p.a(c.x,d.y));a[2].n=this.Ae(p.a(c.x,
d.y));a[3].s=this.ye(p.a(c.x,c.y));a[3].n=this.Ae(p.a(c.x,c.y));a[4].s=this.ye(p.a(d.x,d.y));a[4].n=this.Ae(p.a(d.x,d.y));a[5].s=this.ye(p.a(d.x,c.y));a[5].n=this.Ae(p.a(d.x,c.y))}else{if(!this.sc)for(this.bd=4,e=p.Jb.BYTES_PER_ELEMENT,this.tf=new ArrayBuffer(4*e),this.sc=[],a=0;4>a;a++)this.sc[a]=new p.Jb(null,null,null,this.tf,a*e);a=this.sc;a[0].s=this.ye(p.a(c.x,d.y));a[0].n=this.Ae(p.a(c.x,d.y));a[1].s=this.ye(p.a(c.x,c.y));a[1].n=this.Ae(p.a(c.x,c.y));a[2].s=this.ye(p.a(d.x,d.y));a[2].n=this.Ae(p.a(d.x,
d.y));a[3].s=this.ye(p.a(d.x,c.y));a[3].n=this.Ae(p.a(d.x,c.y))}this.ad()}},ad:function(){if(this.ab&&this.sc){for(var a=this.ab.wb.Ga.D,c=this.sc,d=0,e=this.bd;d<e;++d)c[d].D=a;this.sr=!0}},IA:null,iP:function(){var a=this.ab,c=a.e(),d=this.jh;if(this.We==p.Rj){this.pi=Math.round(Math.sqrt(c.width*c.width+c.height*c.height));var e,f=!1,g=this.Pc;g.x=c.width*d.x;g.y=-c.height*d.y;this.od?(e=270,d=270-3.6*this.mi):(d=-90,e=-90+3.6*this.mi);a.Zb&&(g.x-=2*c.width*this.jh.x,d=-d-180,e=-e-180,f=!f);a.$b&&
(g.y+=2*c.height*this.jh.y,f=!f,d=-d,e=-e);this.zA=d;this.hz=e;this.Sy=f}else{e=this.ul;g=this.mi/100;f=this.Dy;e=p.size(c.width*(1-e.x),c.height*(1-e.y));var g=p.size((c.width-e.width)*g,(c.height-e.height)*g),g=p.size(e.width+g.width,e.height+g.height),h=p.a(c.width*d.x,c.height*d.y),k=h.x-g.width/2;0.5<d.x&&g.width/2>=c.width-h.x&&(k=c.width-g.width);e=h.y-g.height/2;0.5<d.y&&g.height/2>=c.height-h.y&&(e=c.height-g.height);f.x=0;c=1;a.Zb&&(f.x-=g.width,c=-1);0<k&&(f.x+=k*c);f.y=0;c=1;a.$b&&(f.y+=
g.height,c=-1);0<e&&(f.y-=e*c);f.width=g.width;f.height=-g.height}},jP:function(){var a=this.We;a===p.Rj?this.mP():a===p.Rx&&this.bP();this.sr=!0}});
p.va.xc?(b=p.mc.prototype,b.ctor=p.mc.prototype.hh,b.lJ=p.mc.prototype.EO,b.ps=p.mc.prototype.HO,b.Fi=p.mc.prototype.LO,b.kJ=p.mc.prototype.CO,b.OB=p.mc.prototype.lN,b.Ja=p.mc.prototype.Rf,b.IA=p.mc.prototype.jP):(b=p.mc.prototype,b.ctor=p.mc.prototype.gh,b.lJ=p.mc.prototype.DO,b.ps=p.mc.prototype.GO,b.Fi=p.mc.prototype.KO,b.kJ=p.mc.prototype.BO,b.OB=p.mc.prototype.kN,b.Ja=p.mc.prototype.yl,b.IA=p.mc.prototype.iP);p.mc.create=function(a){var c=new p.mc;return c.OB(a)?c:null};p.Tx=p.L.extend({Ve:0,Jd:0,ctor:function(){p.L.prototype.ctor.call(this);this.Jd=this.Ve=0},I:function(a,c){return p.L.prototype.I.call(this,a)?(this.Ve=c,!0):!1},A:function(){var a=new p.Tx;a.I(this.na,this.Ve);return a},reverse:function(){p.log("cc.ProgressTo.reverse(): reverse hasn't been supported.");return null},R:function(a){p.L.prototype.R.call(this,a);this.Jd=a.$v();100==this.Jd&&(this.Jd=0)},update:function(a){this.M instanceof p.mc&&this.M.ns(this.Jd+(this.Ve-this.Jd)*a)}});
p.Tx.create=function(a,c){var d=new p.Tx;d.I(a,c);return d};p.pt=p.L.extend({Ve:0,Jd:0,ctor:function(){p.L.prototype.ctor.call(this);this.Jd=this.Ve=0},I:function(a,c,d){return p.L.prototype.I.call(this,a)?(this.Ve=d,this.Jd=c,!0):!1},A:function(){var a=new p.pt;a.I(this.na,this.Jd,this.Ve);return a},reverse:function(){return p.pt.create(this.na,this.Ve,this.Jd)},R:function(a){p.L.prototype.R.call(this,a)},update:function(a){this.M instanceof p.mc&&this.M.ns(this.Jd+(this.Ve-this.Jd)*a)}});
p.pt.create=function(a,c,d){var e=new p.pt;e.I(a,c,d);return e};p.tx=9;p.mK=1;p.pK=2;p.qK=4;p.nK=8;p.oK=16;p.qD=32;p.rK=64;p.lK=128;p.Qh=256;p.Jf=1;p.sD=2;p.rD=4;p.bX=8;p.aX=8;
p.Ib=p.bh.extend({hF:!1,XZ:!1,Ik:function(){return this.hF},ef:function(a){this.hF=a;for(var c=this.o,d=0,e=c.length;d<e;d++){var f=c[d];f&&f.Va&&f.ef(a)}},ri:p.Jf,s4:function(){return this.ri},kq:!1,ho:!1,dj:!1,lu:null,df:function(a){this.ri=(this.kq=a)?p.Jf:p.rD;this.Ic()},isEnabled:function(){return this.kq},ip:function(a){this.ho=a;this.Ic()},e6:function(){return this.ho},Wk:function(a){this.dj=a;this.Ic()},N5:function(){return this.dj},RR:function(){for(var a=this.getParent();null!=a;a=a.getParent())if(!a.pa)return!1;
return!0},ctor:function(){p.bh.prototype.ctor.call(this);this.lu={};this.Yb=p.kb()},r:function(){return p.bh.prototype.r.call(this)?(this.ri=p.Jf,this.kq=!0,this.dj=this.ho=!1,this.kp(1),!0):!1},Dw:function(){p.rC(this.yk,!0,this)},Ee:function(a){for(var c=0,d=p.tx;c<d;c++)if(a&1<<c)for(var e=this.dz(1<<c),f=0,g=e.length;f<g;f++)e[f].qS(this)},vG:function(a,c,d){for(var e=0,f=p.tx;e<f;e++)d&1<<e&&this.CE(a,c,1<<e)},C8:function(a,c,d){for(var e=0,f=p.tx;e<f;e++)d&1<<e&&this.cO(a,c,1<<e)},wi:function(a){return this.Xa(a.Q)},
Gh:function(a){a=a.Q;a=this.getParent().Xa(a);return p.Ab(this.Qa(),a)},ZZ:function(){return null},dz:function(a){a=a.toString();this.lu.hasOwnProperty(a)||(this.lu[a]=[]);return this.lu[a]},CE:function(a,c,d){a=new p.QK(a,c,d);this.dz(d).push(a)},cO:function(a,c,d){d=this.dz(d);if(a||c)for(var e=0;e<d.length;){var f=d[e],g=!0;a&&(g=a==f.M);c&&(g=g&&c==f.kf);g?p.yd(d,f):e++}else d.length=0},Ic:function(){}});p.Ib.create=function(){var a=new p.Ib;return a&&a.r()?a:null};p.wD=3435855873;
p.jl=p.Ib.extend({fq:!1,tr:!1,Tf:null,Bq:null,Yp:null,iu:null,Yl:null,Dd:null,li:0,Un:!1,rv:null,hr:null,sv:null,tl:null,vF:!1,Ju:0,Iu:0,ctor:function(){p.Ib.prototype.ctor.call(this);this.Tf=new p.Uj(0,0);this.Bq=new p.rg(0,0);this.Yp="";this.iu=p.kb();this.rv={};this.hr={};this.sv={};this.tl={}},r:function(){return this.iw(p.V.create("","Arial",12),p.Me.create())},Ic:function(){if(this.vF){this.Yl&&this.Yl.v(!1);this.Dd&&this.Dd.v(!1);this.fV(this.Bq);var a=this.ri;this.Yp=this.AB(a);this.iu=this.AR(a);
var c=this.Yl=this.Kr(a);c&&c.ga&&c.ga(this.Yp);c&&c.Va&&c.k(this.iu);var d=this.e();c&&c.t(d.width/2,d.height/2);(a=this.Dd=this.PQ(a))&&a.t(d.width/2,d.height/2);d=c?c.Qa().Pa:p.size(0,0);if(this.fq)a&&a.ba(d.width+2*this.Iu,d.height+2*this.Ju);else if(a){var e=a.Tf,e=p.size(e.width,e.height);0>=e.width&&(e.width=d.width);0>=e.height&&(e.height=d.height);a.ba(e)}d=c?c.Qa():p.rect(0,0,0,0);e=a?a.Qa():p.rect(0,0,0,0);d=p.Cw(d,e);this.ba(d.width,d.height);d=this.e();c&&(c.t(d.width/2,d.height/2),c.v(!0));
a&&(a.t(d.width/2,d.height/2),a.v(!0))}},iw:function(a,c){if(!a||!a.Va)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): label should be non-null";if(!c)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): backgroundSprite should be non-null";return p.Ib.prototype.r.call(this,!0)?(this.vF=!0,this.rv={},this.hr={},this.sv={},this.tl={},this.Rb(!0),this.Un=!1,this.tr=!0,this.Yp=null,this.CU(!0),this.Jj(p.size(0,0)),this.tr=!0,this.xi(!1),this.ea(0.5,0.5),this.Yl=a,this.Dd=c,this.X(255),
this.ef(!0),this.JV(a.yB(),p.Jf),this.IV(a.cd(),p.Jf),this.OC(a,p.Jf),this.Mw(c,p.Jf),this.ri=p.Jf,this.Iu=24,this.Ju=12,this.Bq=new p.rg(0.5,0.5),this.Jj(p.nl()),this.Ic(),!0):!1},hS:function(a,c,d){a=p.V.create(a,c,d);return this.iw(a,p.Me.create())},DH:function(a){var c=p.V.create("","Arial",30);return this.iw(c,a)},P0:function(){return this.fq},CU:function(a){this.fq=a;this.Ic()},a5:function(){return this.tr},NV:function(a){return this.tr=a},kR:function(){return this.Tf},Jj:function(a){if(0===
a.width&&0===a.height)this.fq=!0;else{this.fq=!1;var c=this.tl,d;for(d in c)c[d].Jj(a)}this.Tf=a;this.Ic()},R2:function(){return this.Bq},fV:function(a){this.Bq=a;this.Yl&&this.Yl.ea(a)},QZ:function(){return this.Yp},RZ:function(){return this.iu},vi:function(){return this.li},X:function(a){p.Ib.prototype.X.call(this,a);var c=this.tl,d;for(d in c)c[d].X(a)},k:function(a){p.Ib.prototype.k.call(this,a);var c=this.tl,d;for(d in c)c[d].k(a)},cd:function(){return this.Ld},a6:function(){return this.Un},
VZ:function(){return this.Ju},TZ:function(){return this.Iu},G9:function(a,c){this.Ju=c;this.Iu=a;this.Ic()},df:function(a){p.Ib.prototype.df.call(this,a);this.Ic()},ip:function(a){p.Ib.prototype.ip.call(this,a);this.Ic()},Wk:function(a){this.ri=a?p.sD:p.Jf;p.Ib.prototype.Wk.call(this,a);(a=this.rB(p.wD))&&this.cW(a);this.Ic();this.tr&&(a=p.jn.create(0.05,this.dj&&this.isEnabled()&&!this.ho?1.1:1),a.qJ(p.wD),this.Gw(a))},zb:function(a){if(!(this.Gh(a)&&this.isEnabled()&&this.pa&&this.RR()))return!1;
this.Un=!0;this.Wk(!0);this.Ee(p.mK);return!0},Vc:function(a){this.kq&&this.Un&&!this.ho?(a=this.Gh(a))&&!this.dj?(this.Wk(!0),this.Ee(p.nK)):a&&this.dj?this.Ee(p.pK):!a&&this.dj?(this.Wk(!1),this.Ee(p.oK)):a||this.dj||this.Ee(p.qK):this.dj&&this.Wk(!1)},cf:function(a){this.Un=!1;this.Wk(!1);this.Gh(a)?this.Ee(p.qD):this.Ee(p.rK)},Fj:function(){this.Un=!1;this.Wk(!1);this.Ee(p.lK)},AB:function(a){var c=this.rv;return c?c[a]?c[a]:c[p.Jf]:""},JV:function(a,c){this.rv[c]=a||"";this.ri==c&&this.Ic()},
AR:function(a){return(a=this.hr[a])?a:(a=this.hr[p.Jf])?a:p.kb()},IV:function(a,c){this.hr[c]=a;this.ri==c&&this.Ic()},Kr:function(a){var c=this.sv;return c.hasOwnProperty(a)&&c[a]?c[a]:c[p.Jf]},OC:function(a,c){var d=this.sv;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.v(!1);a.ea(0.5,0.5);this.p(a,1);this.ri==c&&this.Ic()},I$:function(a,c){var d=this.AB(c);d||(d="");this.OC(p.V.create(d,a,12),c)},C4:function(a){a=this.Kr(a);return null!=a&&a instanceof p.V?a.Pe:""},J$:function(a,
c){var d=this.Kr(c);null!=d&&d instanceof p.V&&d.$I(a)},D4:function(a){a=this.Kr(a);return null!=a&&a instanceof p.V?a.pe:0},H$:function(a,c){var d=this.AB(c);d||(d="");this.OC(p.Lx.create(d,a),c)},B4:function(a){a=this.Kr(a);return null!=a&&a instanceof p.Lx?a.y2():""},PQ:function(a){var c=this.tl;return c.hasOwnProperty(a)&&c[a]?c[a]:c[p.Jf]},Mw:function(a,c){var d=this.tl;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.v(!1);a.ea(0.5,0.5);this.p(a);d=this.Tf;0===d.width&&
0===d.height||a.Jj(d);this.ri===c&&this.Ic()},T8:function(a,c){var d=p.Me.EG(a);this.Mw(d,c)}});p.jl.create=function(a,c){var d;if(0==arguments.length)return(d=new p.jl)&&d.r()?d:null;1==arguments.length?(d=new p.jl,d.DH(arguments[0])):2==arguments.length?(d=new p.jl,d.iw(a,c)):3==arguments.length&&(d=new p.jl,d.hS(arguments[0],arguments[1],arguments[2]));return d};p.RGBA=function(a,c,d,e){this.h=a;this.g=c;this.f=d;this.C=e};p.Hx=function(a,c,d){this.be=a;this.Nh=c;this.ca=d};p.Bd={};p.Bd.im=function(a,c,d,e){a=p.w.FG(a);if(!a)return null;a.t(d);a.ea(e);c.p(a);return a};p.Bd.MK=function(a){var c=new p.Hx,d,e;d=a.h<a.g?a.h:a.g;d=d<a.f?d:a.f;e=a.h>a.g?a.h:a.g;e=e>a.f?e:a.f;c.ca=e;d=e-d;if(0<e)c.Nh=d/e;else return c.Nh=0,c.be=-1,c;c.be=a.h>=e?(a.g-a.f)/d:a.g>=e?2+(a.f-a.h)/d:4+(a.h-a.g)/d;c.be*=60;0>c.be&&(c.be+=360);return c};
p.Bd.Wx=function(a){var c,d,e,f,g=new p.RGBA;g.C=1;if(0>=a.Nh){if(!a.be)return g.h=a.ca,g.g=a.ca,g.f=a.ca,g;g.h=0;g.g=0;g.f=0;return g}c=a.be;360<=c&&(c=0);c/=60;f=0|c;e=c-f;c=a.ca*(1-a.Nh);d=a.ca*(1-a.Nh*e);e=a.ca*(1-a.Nh*(1-e));switch(f){case 0:g.h=a.ca;g.g=e;g.f=c;break;case 1:g.h=d;g.g=a.ca;g.f=c;break;case 2:g.h=c;g.g=a.ca;g.f=e;break;case 3:g.h=c;g.g=d;g.f=a.ca;break;case 4:g.h=e;g.g=c;g.f=a.ca;break;default:g.h=a.ca,g.g=c,g.f=d}return g};p.Bd.nD=function(a,c){return p.Cw(a,c)};p.QK=p.sa.extend({kf:null,M:null,hu:null,ctor:function(a,c,d){this.M=a;this.kf=c;this.hu=d},B1:function(){return this.kf},zR:function(){return this.M},f2:function(){return this.hu},qS:function(a){if(this.M&&this.kf)if("string"==typeof this.kf)this.M[this.kf](a,this.hu);else this.kf.call(this.M,a,this.hu)}});p.TD=0;p.WD=1;p.UD=2;p.VD=3;p.RD=4;p.YD=5;p.XD=6;p.sL=7;p.SD=8;
p.Me=p.lb.extend({Va:!0,jo:null,LE:null,qk:!1,Ue:null,sh:null,rh:null,Ig:null,ii:null,Ti:null,nh:null,Yh:null,Xh:null,Zh:null,Vi:null,ac:!1,Qc:null,Tf:null,li:0,Yb:null,An:null,wu:0,yu:0,xu:0,vu:0,PF:!1,uA:!1,bb:!1,md:null,PJ:function(){return this.bb},uf:function(a,c){this.md.push({Aj:a,Ah:c})},Ed:function(){this.bb=!0;for(var a=this.md,c=0,d=a.length;c<d;c++){var e=a[c];e.Aj.call(e.Ah,this)}a.length=0},xv:function(){var a;a=this.wu;var c=this.yu,d=this.xu,e=this.jo,f=this.vu;a=0===a&&0===c&&0===
d&&0===f?p.Mc():this.uA?p.rect(f,a,e.width-d-a,e.height-c-f):p.rect(a,c,e.width-a-d,e.height-c-f);this.JU(a)},hP:function(){if(this.sh&&this.Ig&&this.Zh&&this.Yh&&this.Ti){var a=this.ka,c=this.sh,d=this.Ig,e=this.Zh,f=this.Yh,g=this.Ti,h=this.Ti.e(),k=c.e(),l=f.e(),m=a.wa-k.width-d.e().width,a=a.ja-k.height-e.e().height,m=m/h.width,a=a/h.height,k=h.width*m,n=h.height*a,s=l.width,l=l.height;if(!p.va.xc){var q=Math.round(k);k!=q&&(k=q,m=k/h.width);q=Math.round(n);n!=q&&(n=q,a=n/h.height)}g.hp(m);g.Om(a);
var h=this.ii,q=this.nh,v=this.rh,z=this.Xh,B=p.a(0,0);f.ea(B);e.ea(B);c.ea(B);d.ea(B);h.ea(B);q.ea(B);v.ea(B);z.ea(B);g.ea(B);f.t(0,0);e.t(s+k,0);c.t(0,l+n);d.t(s+k,l+n);h.t(0,l);h.Om(a);q.t(s+k,l);q.Om(a);z.t(s,0);z.hp(m);v.t(s,l+n);v.hp(m);g.t(s,l)}},ctor:function(){p.lb.prototype.ctor.call(this);this.jo=p.Mc();this.LE=p.Mc();this.Vi=p.kb();this.Qc=new p.Uj(0,0);this.Tf=new p.Uj(0,0);this.Yb=p.kb();this.li=255;this.An=p.Mc();this.md=[]},iR:function(){return this.Qc},kR:function(){return this.Tf},
Jj:function(a){this.ba(a);this.Tf=a},vi:function(){return this.li},X:function(a){if(this.Ue){this.li=a;for(var c=this.Ue.o,d=0;d<c.length;d++){var e=c[d];e&&e.Va&&e.X(a)}}},cd:function(){return this.Yb},k:function(a){if(this.Ue){this.Yb=a;for(var c=this.Ue.o,d=0;d<c.length;d++){var e=c[d];e&&e.Va&&e.k(a)}}},S1:function(){return this.An},JU:function(a){if(this.Ue){var c=this.ka,d=c.wa,c=c.ja;this.op(this.Ue,this.jo,this.uA,a);this.ba(d,c)}},N2:function(){return this.wu},z9:function(a){this.wu=a;this.xv()},
P2:function(){return this.yu},B9:function(a){this.yu=a;this.xv()},O2:function(){return this.xu},A9:function(a){this.xu=a;this.xv()},M2:function(){return this.vu},y9:function(a){this.vu=a;this.xv()},ba:function(a,c){2===arguments.length?p.F.prototype.ba.call(this,a,c):p.F.prototype.ba.call(this,a);this.qk=!0},ha:function(a){this.qk&&(this.hP(),this.qk=!1);p.lb.prototype.ha.call(this,a)},r:function(){return this.gw(null,p.Mc(),!1,p.Mc())},gw:function(a,c,d,e){3===arguments.length&&(e=d,d=!1);a&&this.op(a,
c,d,e);this.ea(0.5,0.5);return this.qk=!0},yi:function(a,c,d){a instanceof p.Lf?(d=a=c,c=p.Mc()):(c=c||p.Mc(),d=d||p.Mc());if(!a)throw"cc.Scale9Sprite.initWithFile(): file should be non-null";var e=p.Na.d().ex(a);if(!e){var e=p.Na.d().Kb(a),f=e.fg();(this.bb=f)||e.uf(function(a){var c=this.Tf,c=p.size(c.width,c.height);a=a.e();this.op(this.Ue,p.rect(0,0,a.width,a.height),!1,this.An);this.Jj(c);this.qk=!0;this.Ed()},this)}a=p.fb.create(a,9);return this.gw(a,c,!1,d)},de:function(a,c){if(!a||!a.T())throw"cc.Scale9Sprite.initWithSpriteFrame(): spriteFrame should be non-null and its texture should be non-null";
c=c||p.Mc();var d=a.bb;(this.bb=d)||a.uf(function(a){var c=this.Tf,c=p.size(c.width,c.height);this.op(this.Ue,a.Xd(),p.va.xc?a.Rc:!1,this.An);this.Jj(c);this.qk=!0;this.Ed()},this);d=p.fb.Hc(a.T(),9);return this.gw(d,a.Xd(),p.va.xc?a.Rc:!1,c)},IH:function(a,c){if(!a)throw"cc.Scale9Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";c=c||p.Mc();var d=p.Mf.d().Rg(a);return null==d?(p.log("cc.Scale9Sprite.initWithSpriteFrameName(): can't find the sprite frame by spriteFrameName"),!1):
this.de(d,c)},F8:function(a){var c=new p.Me;return c&&c.gw(this.Ue,this.jo,!1,a)?c:null},ef:function(a){if(this.Ue){this.ac=a;var c=this.Ue.o;if(c)for(var d=0,e=c.length;d<e;d++)c[d].ef(a)}},Ik:function(){return this.ac},op:function(a,c,d,e){var f=this.vi(),g=this.cd();c=p.rect(c.x,c.y,c.width,c.height);this.Mh(!0);this.Ue!=a&&(this.Ue=a);a=a.T();var h=a.fg();if(this.bb=h){a=this.Ue;a.Mh(!0);h=this.An;h.x=e.x;h.y=e.y;h.width=e.width;h.height=e.height;this.uA=d;h=a.T();p.Oq(c)&&(c=h.e(),c=p.rect(0,
0,c.width,c.height));var k=this.jo=c;k.x=c.x;k.y=c.y;k.width=c.width;k.height=c.height;var l=c.Pa;this.Qc.width=l.width;this.Qc.height=l.height;k=this.Tf;0===k.width&&0===k.height&&(k.width=l.width,k.height=l.height);k=this.LE;e&&(k.x=e.x,k.y=e.y,k.width=e.width,k.height=e.height);var m=l.width;e=l.height;p.Oq(k)&&(k.x=m/3,k.y=e/3,k.width=m/3,k.height=e/3);var n=k.x,s=k.width,q=m-(n+s),v=k.y,z=k.height,B=e-(v+z),E=0,M=0;e=p.rect(E,M,n,v);var E=E+n,k=p.rect(E,M,s,v),m=p.rect(E+s,M,q,v),E=0,M=0+v,l=
p.rect(E,M,n,z),E=E+n,aa=p.rect(E,M,s,z),E=E+s,J=p.rect(E,M,q,z),E=0,M=0+v+z,v=p.rect(E,M,n,B),E=E+n,n=p.rect(E,M,s,B),E=E+s,s=p.rect(E,M,q,B),q={C:1,f:0,ra:0,za:1,La:0,Ma:0};if(d){d=aa;var B=s,E=v,M=m,z=e,O=J,N=l,ia=n,W=k,q=p.nx(q,c.height+c.x,c.y),q=p.kK(q),aa=p.sg(aa,q),s=p.sg(s,q),v=p.sg(v,q),m=p.sg(m,q);e=p.sg(e,q);J=p.sg(J,q);l=p.sg(l,q);n=p.sg(n,q);k=p.sg(k,q);d.x=aa.x;d.y=aa.y;B.x=s.x;B.y=s.y;E.x=v.x;E.y=v.y;M.x=m.x;M.y=m.y;z.x=e.x;z.y=e.y;O.x=J.x;O.y=J.y;N.x=l.x;N.y=l.y;ia.x=n.x;ia.y=n.y;
W.x=k.x;W.y=k.y;this.Ti=new p.w;this.Ti.Aa(h,d,!0);a.p(this.Ti,0,p.TD);this.rh=new p.w;this.rh.Aa(h,W,!0);a.p(this.rh,1,p.WD);this.Xh=new p.w;this.Xh.Aa(h,ia,!0);a.p(this.Xh,1,p.RD);this.ii=new p.w;this.ii.Aa(h,N,!0);a.p(this.ii,1,p.UD);this.nh=new p.w;this.nh.Aa(h,O,!0);a.p(this.nh,1,p.VD);this.sh=new p.w;this.sh.Aa(h,z,!0);a.p(this.sh,2,p.XD);this.Ig=new p.w;this.Ig.Aa(h,M,!0);a.p(this.Ig,2,p.YD);this.Yh=new p.w;this.Yh.Aa(h,E,!0);a.p(this.Yh,2,p.SD);this.Zh=new p.w;this.Zh.Aa(h,B,!0)}else q=p.nx(q,
c.x,c.y),p.Th(aa,q),p.Th(s,q),p.Th(v,q),p.Th(m,q),p.Th(e,q),p.Th(J,q),p.Th(l,q),p.Th(n,q),p.Th(k,q),this.Ti=new p.w,this.Ti.Aa(h,aa),a.p(this.Ti,0,p.TD),this.rh=new p.w,this.rh.Aa(h,k),a.p(this.rh,1,p.WD),this.Xh=new p.w,this.Xh.Aa(h,n),a.p(this.Xh,1,p.RD),this.ii=new p.w,this.ii.Aa(h,l),a.p(this.ii,1,p.UD),this.nh=new p.w,this.nh.Aa(h,J),a.p(this.nh,1,p.VD),this.sh=new p.w,this.sh.Aa(h,e),a.p(this.sh,2,p.XD),this.Ig=new p.w,this.Ig.Aa(h,m),a.p(this.Ig,2,p.YD),this.Yh=new p.w,this.Yh.Aa(h,v),a.p(this.Yh,
2,p.SD),this.Zh=new p.w,this.Zh.Aa(h,s);a.p(this.Zh,2,p.sL);this.ba(c.Pa);this.p(a);this.PF&&(this.X(f),255===g.h&&255===g.g&&255===g.f||this.k(g));return this.PF=!0}a.uf(function(){this.qk=!0;this.Ed()},this)},ff:function(a){var c=p.fb.Hc(a.T(),9),d=a.bb;(this.bb=d)||a.uf(function(a){var c=this.Tf,c=p.size(c.width,c.height);this.op(this.Ue,a.Xd(),p.va.xc?a.Rc:!1,this.An);this.Jj(c);this.qk=!0;this.Ed()},this);this.op(c,a.Xd(),p.va.xc?a.Rc:!1,p.Mc());this.vu=this.xu=this.yu=this.wu=0}});
p.Me.create=function(a,c,d){var e;if(2===arguments.length)if("string"==typeof a){if((e=new p.Me)&&e.yi(a,c))return e}else{if(a instanceof p.Lf&&(e=new p.Me)&&e.yi(a,d))return e}else if(3===arguments.length){if((e=new p.Me)&&e.yi(a,c,d))return e}else if(1===arguments.length){if((e=new p.Me)&&e.yi(a))return e}else if(0===arguments.length&&(e=new p.Me)&&e.r())return e;return null};p.Me.EG=function(a,c){var d=new p.Me;return d&&d.de(a,c)?d:null};
p.Me.FG=function(a,c){if(!a)throw"cc.Scale9Sprite.createWithSpriteFrameName(): spriteFrameName should be non-null";var d=new p.Me;return d&&d.IH(a,c)?d:null};p.At=p.yc.extend({});p.At.dba=function(a){var c=new p.At;c.r();c.ba(0,a);return c};p.At.i5=function(a){var c=new p.At;c.r();c.ba(a,0);return c};
p.mt=p.yc.extend({Va:!0,Yb:null,li:0,ctor:function(){},cd:function(){return this.Yb},k:function(a){this.Yb=a;if(this.o&&0<this.o.length)for(var c=0;c<this.o.length;c++)this.o[c]&&this.o[c].Va&&this.o[c].k(a)},vi:function(){return this.li},X:function(a){this.li=a;if(this.o&&0<this.o.length)for(var c=0;c<this.o.length;c++)this.o[c]&&this.o[c].Va&&this.o[c].X(a)},aS:function(a,c){if(this.r()){var d=p.P.d().Gb;this.xi(!0);this.ea(0.5,0.5);this.ba(d);this.t(d.width/2,d.height/2);d=0;if(a){this.p(a,d);
for(var e=0;e<c.length;e++)c[e]&&(d++,this.p(c[e],d))}return!0}return!1},N_:function(){this.vP(p.vK)},vP:function(a){var c=-a,d;if(this.o&&0<this.o.length)for(d=0;d<this.o.length;d++)this.o[d]&&(c+=this.o[d].e().height*this.o[d].qa+a);var e=0,f=c/2;if(this.o&&0<this.o.length)for(d=0;d<this.o.length;d++)this.o[d]&&(e=Math.max(e,this.o[d].e().width),this.o[d].t(0,f-this.o[d].e().height*this.o[d].qa/2),f-=this.o[d].e().height*this.o[d].qa+a);this.ba(e,c)},K_:function(){this.uP(p.vK)},uP:function(a){var c=
-a,d;if(this.o&&0<this.o.length)for(d=0;d<this.o.length;d++)this.o[d]&&(c+=this.o[d].e().width*this.o[d].la+a);var e=0,f=-c/2;if(this.o&&0<this.o.length)for(d=0;d<this.o.length;d++)this.o[d]&&(e=Math.max(e,this.o[d].e().height),this.o[d].t(f+this.o[d].e().width*this.o[d].la/2,0),f+=this.o[d].e().width*this.o[d].la+a);this.ba(c,e)},L_:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=-5,f=0,g=0,h=0,k,l;if(this.o&&0<this.o.length)for(d=0;d<this.o.length;d++)this.o[d]&&
(f>=c.length?p.log("cc.MenuPassive.alignItemsInColumns(): invalid row index"):(k=c[f])?(l=this.o[d].e().height,g=0|(g>=l||null==l?g:l),++h,h>=k&&(e+=g+5,g=h=0,++f)):p.log("cc.MenuPassive.alignItemsInColumns(): can not have zero columns on a row"));var m=p.P.d().Gb,n=k=g=f=0,s=0,e=e/2;if(this.o&&0<this.o.length)for(d=0;d<this.o.length;d++)this.o[d]&&(0==k&&(k=c[f],s=n=m.width/(1+k)),l=this.o[d].e().height,g=0|(g>=l||null==l?g:l),this.o[d].t(s-m.width/2,e-this.o[d].e().height/2),s+=n,++h,h>=k&&(e-=
g+5,g=k=h=0,++f))},M_:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=[],f=[],g=-10,h=-5,k=0,l=0,m=0,n,s;if(this.o&&0<this.o.length)for(d=0;d<this.o.length;d++)this.o[d]&&(k>=c.length?p.log("cc.MenuPassive.alignItemsInRows(): invalid row index"):(n=c[k])?(s=this.o[d].e().width,l=0|(l>=s||null==s?l:s),h+=0|this.o[d].e().height+5,++m,m>=n&&(e.push(l),f.push(h),g+=l+10,l=m=0,h=-5,++k)):p.log("cc.MenuPassive.alignItemsInColumns(): can't have zero rows on a column"));h=
p.P.d().Gb;l=k=0;n=null;var g=-g/2,q=0;if(this.o&&0<this.o.length)for(d=0;d<this.o.length;d++)this.o[d]&&(null==n&&(n=c[k],q=f[k]),s=this.o[d].e().width,l=0|(l>=s||null==s?l:s),this.o[d].t(g+e[k]/2,q-h.height/2),q-=this.o[d].e().height+10,++m,m>=n&&(g+=l+5,l=n=m=0,++k))},ef:function(){},Ik:function(){return!1}});p.mt.create=function(a){0==arguments.length&&(a=null);for(var c=[],d=1;d<arguments.length;d++)c.push(arguments[d]);return(d=new p.mt)&&d.aS(a,c)?d:null};
p.mt.H0=function(a){return p.mt.create(a,null)};p.zx=p.Ib.extend({hA:0,Yt:0,oc:null,LN:null,NF:null,Hg:null,fc:null,Pf:0,Si:0,c4:function(){return this.hA},O1:function(){return this.Yt},cH:function(){return this.oc},C3:function(){return this.Yt},i4:function(){return this.NF},vR:function(){return this.Hg},xR:function(){return this.fc},QB:function(a,c){return p.Ib.prototype.r.call(this)?(this.Rb(!0),this.oc=p.Bd.im("colourPickerBackground.png",a,c,p.a(0,0)),this.LN=p.Bd.im("colourPickerOverlay.png",a,c,p.a(0,0)),this.NF=p.Bd.im("colourPickerShadow.png",
a,c,p.a(0,0)),this.Hg=p.Bd.im("colourPicker.png",a,c,p.a(0.5,0.5)),this.fc=c,this.Pf=35,this.Si=this.oc.e().width/2,!0):!1},df:function(a){p.Ib.prototype.df.call(this,a);this.Hg&&this.Hg.X(a?255:128)},bK:function(a){var c=new p.Hx;c.Nh=1;c.be=a.be;c.ca=1;a=p.Bd.Wx(c);this.oc.k(p.Gv(0|255*a.h,0|255*a.g,0|255*a.f))},oW:function(a){a=p.a(this.fc.x+this.Pf+this.Si*(1-a.Nh),this.fc.y+this.Pf+this.Si*a.ca);this.Av(a)},Av:function(a){var c=this.fc.x+0.5*this.oc.Qa().width,d=this.fc.y+0.5*this.oc.Qa().height,
e=a.x-c,f=a.y-d,g=Math.sqrt(e*e+f*f),e=Math.atan2(f,e),f=0.5*this.oc.Qa().width;g>f&&(a.x=c+f*Math.cos(e),a.y=d+f*Math.sin(e));this.Hg.t(a);a.x<this.fc.x+this.Pf?a.x=this.fc.x+this.Pf:a.x>this.fc.x+this.Pf+this.Si-1&&(a.x=this.fc.x+this.Pf+this.Si-1);a.y<this.fc.y+this.Pf?a.y=this.fc.y+this.Pf:a.y>this.fc.y+this.Pf+this.Si&&(a.y=this.fc.y+this.Pf+this.Si);this.hA=1-Math.abs((this.fc.x+this.Pf-a.x)/this.Si);this.Yt=Math.abs((this.fc.y+this.Pf-a.y)/this.Si)},Up:function(a){var c=this.fc.x+0.5*this.oc.Qa().width,
d=this.fc.y+0.5*this.oc.Qa().height,c=a.x-c,d=a.y-d;return Math.sqrt(c*c+d*d)<=0.5*this.oc.Qa().width?(this.Av(a),this.Ee(p.Qh),!0):!1},zb:function(a){if(!this.isEnabled()||!this.pa)return!1;a=this.wi(a);return this.Up(a)},Vc:function(a){a=this.wi(a);this.Up(a)}});p.zx.create=function(a,c){var d=new p.zx;d.QB(a,c);return d};p.yx=p.Ib.extend({Qn:0,vq:0,oc:null,Hg:null,fc:null,H2:function(){return this.Qn},JC:function(a){this.Qn=a;this.bV(this.Qn/360)},I2:function(){return this.vq},bV:function(a){this.vq=a;this.Qn=360*this.vq;a=this.oc.Qa();var c=0.5*a.width-15,d=p.Ki(360*this.vq-180);this.Hg.t(this.fc.x+0.5*a.width+c*Math.cos(d),this.fc.y+0.5*a.height+c*Math.sin(d))},df:function(a){p.Ib.prototype.df.call(this,a);this.Hg&&this.Hg.X(a?255:128)},cH:function(){return this.oc},vR:function(){return this.Hg},xR:function(){return this.fc},
QB:function(a,c){return p.Ib.prototype.r.call(this)?(this.Rb(!0),this.oc=p.Bd.im("huePickerBackground.png",a,c,p.a(0,0)),this.Hg=p.Bd.im("colourPicker.png",a,c,p.a(0.5,0.5)),this.Hg.t(c.x,c.y+0.5*this.oc.Qa().height),this.fc=c,this.vq=this.Qn=0,!0):!1},Av:function(a){var c=this.oc.Qa();this.JC(p.Ux(Math.atan2(a.y-(this.fc.y+0.5*c.height),a.x-(this.fc.x+0.5*c.width)))+180);this.Ee(p.Qh)},Up:function(a){var c=Math.sqrt(Math.pow(a.x+10,2)+Math.pow(a.y,2));return 80>c&&59<c?(this.Av(a),!0):!1},zb:function(a){if(!this.isEnabled()||
!this.pa)return!1;a=this.wi(a);return this.Up(a)},Vc:function(a){a=this.wi(a);this.Up(a)}});p.yx.create=function(a,c){var d=new p.yx;d.QB(a,c);return d};p.xD=p.Ib.extend({xg:null,bk:null,Dl:null,oc:null,YR:function(a){this.xg.be=a.Qn;a=p.Bd.Wx(this.xg);p.Ib.prototype.k.call(this,p.Gv(0|255*a.h,0|255*a.g,0|255*a.f));this.Ee(p.Qh);this.eP()},UP:function(a){this.xg.Nh=a.hA;this.xg.ca=a.Yt;a=p.Bd.Wx(this.xg);p.Ib.prototype.k.call(this,p.Gv(0|255*a.h,0|255*a.g,0|255*a.f));this.Ee(p.Qh)},k:function(a){p.Ib.prototype.k.call(this,a);var c=new p.RGBA;c.h=a.h/255;c.g=a.g/255;c.f=a.f/255;c.C=1;this.xg=p.Bd.MK(c);this.dG()},cH:function(){return this.oc},r:function(){if(p.Ib.prototype.r.call(this)){this.Rb(!0);
p.Mf.d().uG(ca.lD);var a=p.fb.create(ca.mD);this.p(a);this.xg=new p.Hx(0,0,0);this.oc=p.Bd.im("menuColourPanelBackground.png",a,p.Mi(),p.a(0.5,0.5));var c=p.dd(this.oc.m,p.a(this.oc.e().width/2,this.oc.e().height/2));this.Dl=p.yx.create(a,p.a(c.x+8,c.y+8));this.bk=p.zx.create(a,p.a(c.x+28,c.y+28));this.Dl.vG(this,this.YR,p.Qh);this.bk.vG(this,this.UP,p.Qh);this.dG();this.p(this.Dl);this.p(this.bk);this.ba(this.oc.e());return!0}return!1},eP:function(){this.Dl.JC(this.xg.be);this.bk.bK(this.xg)},dG:function(){this.Dl.JC(this.xg.be);
this.bk.bK(this.xg);this.bk.oW(this.xg)},df:function(a){p.Ib.prototype.df.call(this,a);null!=this.Dl&&this.Dl.df(a);this.bk&&this.bk.df(a)},zb:function(){return!1}});p.xD.create=function(){var a=new p.xD;a.r();return a};ca=ca||{};ca.lD=ca.lD||"res/extensions/CCControlColourPickerSpriteSheet.plist";ca.mD=ca.mD||"res/extensions/CCControlColourPickerSpriteSheet.png";p.eE=24;p.VY=8;
p.zD=p.Ib.extend({Bc:0,Ta:0,qb:0,Ou:0,Mu:0,rb:null,rk:null,Dd:null,tH:function(){return this.Bc},Ge:function(a){a=Math.max(a,this.Ta);this.Bc=a=Math.min(a,this.qb);this.Ic();this.Ee(p.Qh)},eR:function(){return this.Ta},hJ:function(a){this.Ou=this.Ta=a;this.Ta>=this.qb&&(this.qb=this.Ta+1);this.Ge(this.Bc)},dR:function(){return this.qb},fJ:function(a){this.Mu=this.qb=a;this.qb<=this.Ta&&(this.Ta=this.qb-1);this.Ge(this.Bc)},Gh:function(a){a=a.Q;a=this.getParent().Xa(a);var c=this.Qa();c.Pa.width+=
this.rb.e().width;c.Pc.x-=this.rb.e().width/2;return p.Ab(c,a)},um:function(a){a=a.Q;a=this.Xa(a);0>a.x?a.x=0:a.x>this.Dd.e().width&&(a.x=this.Dd.e().width);return a},f3:function(){return this.Ou},L9:function(a){this.Ou=a},c3:function(){return this.Mu},K9:function(a){this.Mu=a},qH:function(){return this.rb},M3:function(){return this.rk},I1:function(){return this.Dd},fS:function(a,c,d){return p.Ib.prototype.r.call(this)?(this.xi(!1),this.Rb(!0),this.Dd=a,this.rk=c,this.rb=d,a=p.Bd.nD(a.Qa(),d.Qa()),
this.ba(a.width,a.height),this.Dd.ea(0.5,0.5),this.Dd.t(a.width/2,a.height/2),this.p(this.Dd),this.rk.ea(0,0.5),this.rk.t(0,a.height/2),this.p(this.rk),this.rb.t(0,a.height/2),this.p(this.rb),this.Ta=0,this.qb=1,this.Ge(this.Ta),!0):!1},df:function(a){p.Ib.prototype.df.call(this,a);this.rb&&this.rb.X(a?255:128)},ZV:function(a){this.ip(!0);this.rb.k(p.Lo());this.Ge(this.gD(a))},aW:function(a){this.Ge(this.gD(a))},$V:function(){this.ho&&this.Ge(this.gD(this.rb.m));this.rb.k(p.kb());this.ip(!1)},I4:function(a){a=
a.Q;a=this.Xa(a);0>a.x?a.x=0:a.x>this.Dd.e().width+p.eE&&(a.x=this.Dd.e().width+p.eE);return a},zb:function(a){if(!this.Gh(a)||!this.isEnabled()||!this.pa)return!1;a=this.um(a);this.ZV(a);return!0},Vc:function(a){a=this.um(a);this.aW(a)},cf:function(){this.$V(p.Mi())},Ic:function(){this.rb.Bb((this.Bc-this.Ta)/(this.qb-this.Ta)*this.Dd.e().width);var a=this.rk.zB(),a=p.rect(a.x,a.y,this.rb.m.B,a.height);this.rk.jb(a,this.rk.Fc,a.Pa)},gD:function(a){a=a.x/this.Dd.e().width;return Math.max(Math.min(this.Ta+
a*(this.qb-this.Ta),this.Mu),this.Ou)}});p.zD.create=function(a,c,d){"string"==typeof a&&(a=p.w.create(a),c=p.w.create(c),d=p.w.create(d));var e=new p.zD;e.fS(a,c,d);return e};p.BD=p.Ib.extend({Gc:null,bF:0,Iq:!1,bo:!1,ctor:function(){p.Ib.prototype.ctor.call(this)},NB:function(a,c,d,e,f,g){if(!a)throw"cc.ControlSwitch.initWithMaskSprite(): maskSprite should be non-null.";if(!c)throw"cc.ControlSwitch.initWithMaskSprite(): onSprite should be non-null.";if(!d)throw"cc.ControlSwitch.initWithMaskSprite(): offSprite should be non-null.";if(!e)throw"cc.ControlSwitch.initWithMaskSprite(): thumbSprite should be non-null.";return this.r()?(this.Rb(!0),this.bo=!0,this.Gc=new p.uK,
this.Gc.NB(a,c,d,e,f,g),this.Gc.t(this.Gc.e().width/2,this.Gc.e().height/2),this.p(this.Gc),this.xi(!1),this.ea(0.5,0.5),this.ba(this.Gc.e()),!0):!1},Qw:function(a,c){var d=(this.bo=a)?this.Gc.nk:this.Gc.Hl;c?this.Gc.Gw(p.Zm.create(0.2,"sliderXPosition",this.Gc.mj,d)):this.Gc.LC(d);this.Ee(p.Qh)},U5:function(){return this.bo},f5:function(){return this.Iq},df:function(a){this.kq=a;this.Gc.X(a?255:128)},um:function(a){a=a.Q;return a=this.Xa(a)},zb:function(a){if(!this.Gh(a)||!this.isEnabled()||!this.pa)return!1;
this.Iq=!1;this.bF=this.um(a).x-this.Gc.mj;this.Gc.rb.k(p.Lo());this.Gc.Ic();return!0},Vc:function(a){a=this.um(a);a=p.a(a.x-this.bF,0);this.Iq=!0;this.Gc.LC(a.x)},cf:function(a){a=this.um(a);this.Gc.rb.k(p.kb());this.Iq?this.Qw(!(a.x<this.Gc.e().width/2),!0):this.Qw(!this.bo,!0)},Fj:function(a){a=this.um(a);this.Gc.rb.k(p.kb());this.Iq?this.Qw(!(a.x<this.Gc.e().width/2),!0):this.Qw(!this.bo,!0)}});p.BD.create=function(a,c,d,e,f,g){var h=new p.BD;return h&&h.NB(a,c,d,e,f,g)?h:null};
p.uK=p.w.extend({mj:0,nk:0,Hl:0,TF:0,Fz:0,Gz:null,Bg:null,ki:null,rb:null,Il:null,Gl:null,Gn:null,bc:null,Wt:null,ctor:function(){p.w.prototype.ctor.call(this);this.Fz=this.Hl=this.nk=this.mj=0;this.Gz=p.size(0,0);this.Gl=this.Il=this.rb=this.ki=this.Bg=null},NB:function(a,c,d,e,f,g){return p.w.prototype.Aa.call(this,a.T())?(this.nk=0,this.Hl=-c.e().width+e.e().width/2,this.mj=this.nk,this.sV(c),this.qV(d),this.NC(e),this.rV(f),this.pV(g),this.bc=a,a=this.Gz=this.bc.e(),this.bc.t(0,0),this.Gn=p.$a.create(),
this.Gn.ea(0.5,0.5),this.Gn.t(a.width/2,a.height/2),this.Gn.MC(this.bc),this.Wt=p.mb.create(a.width,a.height),this.Gn.p(this.Wt.ab),this.p(this.Gn),this.p(this.rb),this.Ic(),!0):!1},Ic:function(){this.Bg.t(this.Bg.e().width/2+this.mj,this.Bg.e().height/2);this.ki.t(this.Bg.e().width+this.ki.e().width/2+this.mj,this.ki.e().height/2);this.Il&&this.Il.t(this.Bg.m.x-this.rb.e().width/6,this.Bg.e().height/2);this.Gl&&this.Gl.t(this.ki.m.x+this.rb.e().width/6,this.ki.e().height/2);this.rb.t(this.Bg.e().width+
this.mj,this.Gz.height/2);this.Wt.uj();this.Bg.ha();this.ki.ha();this.Il&&this.Il.ha();this.Gl&&this.Gl.ha();this.Wt.end()},LC:function(a){a<=this.Hl?a=this.Hl:a>=this.nk&&(a=this.nk);this.mj=a;this.Ic()},l4:function(){return this.mj},j7:function(){return this.Bg.e().width},h7:function(){return this.ki.e().height},dD:function(a,c){p.log("key \x3d "+c+", value \x3d "+a);this.LC(a)},U9:function(a){this.nk=a},w3:function(){return this.nk},R9:function(a){this.Hl=a},q3:function(){return this.Hl},I9:function(a){this.bc.Y(a)},
W2:function(){return this.bc.T()},F$:function(a){this.TF=a},y4:function(){return this.TF},H9:function(a){this.Fz=a},V2:function(){return this.Fz},sV:function(a){this.Bg=a},x3:function(){return this.Bg},qV:function(a){this.ki=a},r3:function(){return this.ki},NC:function(a){this.rb=a},qH:function(){return this.rb},rV:function(a){this.Il=a},v3:function(){return this.Il},pV:function(a){this.Gl=a},p3:function(){return this.Gl}});p.uD=0;p.vD=1;p.Is=2;p.rp=p.i(55,55,55);p.ux=p.i(147,147,147);p.tD="CourierNewPSMT";p.jD=0.15;p.iK=12;
p.AD=p.Ib.extend({nd:null,Re:null,mk:null,pk:null,Bc:0,Xp:!1,sn:!1,em:!1,Ta:0,qb:0,Ul:0,kr:!1,$l:p.Is,Qp:0,ctor:function(){p.Ib.prototype.ctor.call(this);this.pk=this.mk=this.Re=this.nd=null;this.Bc=0;this.em=this.sn=this.Xp=!1;this.Ul=this.qb=this.Ta=0;this.kr=!1;this.$l=p.Is;this.Qp=0},cS:function(a,c){if(!a)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Minus sprite should be non-null.";if(!c)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Plus sprite should be non-null.";
if(this.r()){this.Rb(!0);this.Xp=this.sn=!0;this.Ta=0;this.qb=100;this.Bc=0;this.Ul=1;this.em=!1;this.xi(!1);this.lV(a);this.nd.t(a.e().width/2,a.e().height/2);this.p(this.nd);this.kV(p.V.create("-",p.tD,40,p.size(40,40),p.Pi,p.Mt));this.mk.k(p.ux);this.mk.t(this.nd.e().width/2,this.nd.e().height/2);this.nd.p(this.mk);this.wV(c);this.Re.t(a.e().width+c.e().width/2,a.e().height/2);this.p(this.Re);this.vV(p.V.create("+",p.tD,40,p.size(40,40),p.Pi,p.Mt));this.pk.k(p.rp);this.pk.t(this.Re.e().width/2,
this.Re.e().height/2);this.Re.p(this.pk);var d=p.Bd.nD(this.nd.Qa(),this.Re.Qa());this.ba(this.nd.e().width+this.Re.e().height,d.Pa.height);return!0}return!1},V$:function(a){if(this.em=a)this.mk.k(p.rp),this.pk.k(p.rp);this.Ge(this.Bc)},hJ:function(a){if(a>=this.qb)throw"cc.ControlStepper.setMinimumValue(): minimumValue should be numerically less than maximumValue.";this.Ta=a;this.Ge(this.Bc)},fJ:function(a){if(a<=this.Ta)throw"cc.ControlStepper.setMaximumValue(): maximumValue should be numerically less than maximumValue.";
this.qb=a;this.Ge(this.Bc)},Ge:function(a){this.RC(a,!0)},tH:function(){return this.Bc},z$:function(a){if(0>=a)throw"cc.ControlStepper.setMaximumValue(): stepValue should be numerically greater than 0.";this.Ul=a},G5:function(){return this.Xp},RC:function(a,c){a<this.Ta?a=this.em?this.qb:this.Ta:a>this.qb&&(a=this.em?this.Ta:this.qb);this.Bc=a;this.em||(this.mk.k(a==this.Ta?p.ux:p.rp),this.pk.k(a==this.qb?p.ux:p.rp));c&&this.Ee(p.Qh)},IJ:function(){this.Qp=-1;this.wc(this.update,p.jD,p.ml,3*p.jD)},
KJ:function(){this.xd(this.update)},update:function(){this.Qp++;this.Qp<p.iK&&0!=this.Qp%3||(this.$l==p.uD?this.RC(this.Bc-this.Ul,this.Xp):this.$l==p.vD&&this.RC(this.Bc+this.Ul,this.Xp))},VJ:function(a){a.x<this.nd.e().width&&this.Bc>this.Ta?(this.$l=p.uD,this.nd.k(p.Lo()),this.Re.k(p.kb())):a.x>=this.nd.e().width&&this.Bc<this.qb?(this.$l=p.vD,this.nd.k(p.kb()),this.Re.k(p.Lo())):(this.$l=p.Is,this.nd.k(p.kb()),this.Re.k(p.kb()))},zb:function(a){if(!this.Gh(a)||!this.isEnabled()||!this.pa)return!1;
a=this.wi(a);this.VJ(a);this.kr=!0;this.sn&&this.IJ();return!0},Vc:function(a){this.Gh(a)?(a=this.wi(a),this.VJ(a),this.kr||(this.kr=!0,this.sn&&this.IJ())):(this.kr=!1,this.$l=p.Is,this.nd.k(p.kb()),this.Re.k(p.kb()),this.sn&&this.KJ())},cf:function(a){this.nd.k(p.kb());this.Re.k(p.kb());this.sn&&this.KJ();this.Gh(a)&&(a=this.wi(a),this.Ge(this.Bc+(a.x<this.nd.e().width?0-this.Ul:this.Ul)))},lV:function(a){this.nd=a},h3:function(){return this.nd},wV:function(a){this.Re=a},H3:function(){return this.Re},
kV:function(a){this.mk=a},g3:function(){return this.mk},vV:function(a){this.pk=a},G3:function(){return this.pk}});p.AD.create=function(a,c){var d=new p.AD;return d&&d.cS(a,c)?d:null};p.yD=p.Ib.extend({rb:null,eo:null,co:null,Bc:0,Ta:0,qb:1,iS:function(a,c,d){return this.r()?(this.Rb(!0),this.AV(c),this.NC(d),this.rb.t(c.m),this.p(d,2),this.p(c,1),this.p(a),this.ba(a.e()),this.Ta=0,this.qb=1,this.Ge(this.Ta),!0):!1},df:function(a){this.df(a);this.rb!=NULL&&this.rb.X(a?255:128)},Ge:function(a){a<this.Ta&&(a=this.Ta);a>this.qb&&(a=this.qb);this.Bc=a;a=(a-this.Ta)/(this.qb-this.Ta);this.eo.ns(100*a);this.rb.Tw(360*a);this.Ee(p.Qh)},tH:function(){return this.Bc},hJ:function(a){this.Ta=
a;this.Ta>=this.qb&&(this.qb=this.Ta+1);this.Ge(this.qb)},eR:function(){return this.Ta},fJ:function(a){this.qb=a;this.qb<=this.Ta&&(this.Ta=this.qb-1);this.Ge(this.Ta)},dR:function(){return this.qb},Gh:function(a){a=this.wi(a);return this.vQ(this.eo.m,a)<Math.min(this.e().width/2,this.e().height/2)},zb:function(a){if(!this.Gh(a)||!this.isEnabled()||!this.pa)return!1;this.co=this.wi(a);this.uT(this.co);return!0},Vc:function(a){a=this.wi(a);this.wT(a)},cf:function(){this.vT(p.a(0,0))},vQ:function(a,
c){var d=a.x-c.x,e=a.y-c.y;return Math.sqrt(d*d+e*e)},xP:function(a,c,d,e){return 180*(Math.atan2(c.x-a.x,c.y-a.y)-Math.atan2(e.x-d.x,e.y-d.y))/Math.PI},uT:function(){this.ip(!0);this.rb.k(p.Lo())},wT:function(a){var c=this.xP(this.eo.m,a,this.eo.m,this.co);180<c?c-=360:-180>c&&(c+=360);this.Ge(this.Bc+c/360*(this.qb-this.Ta));this.co=a},vT:function(){this.rb.k(p.kb());this.ip(!1)},NC:function(a){this.rb=a},qH:function(){return this.rb},AV:function(a){this.eo=a},N3:function(){return this.eo},f$:function(a){this.co=
a},lR:function(){return this.co}});p.yD.create=function(a,c,d){var e=new p.yD;return e&&(a=p.w.create(a),d=p.w.create(d),c=p.mc.create(p.w.create(c)),e.iS(a,c,d))?e:null};p.cE=-1;p.hn=0;p.zp=1;p.wt=2;p.aQ=function(a){var c=p.ia.d();return(c.la+c.qa)/2*a/160};p.EL=p.sa.extend({vU:function(){},wU:function(){}});
p.dh=p.yc.extend({t_:0,d_:0,b_:0,Mb:null,di:p.wt,fi:!1,OM:null,Ea:null,Jg:!1,Ku:null,Nu:null,Sp:!1,Vp:!1,Qq:null,to:null,lr:0,Kg:null,vh:null,qF:0,oF:0,Kq:null,iA:!1,UF:null,ctor:function(){p.yc.prototype.ctor.call(this);this.OM=new p.rg(0,0);this.Ku=new p.rg(0,0);this.Nu=new p.rg(0,0);this.Qq=new p.rg(0,0);this.to=new p.rg(0,0);this.Kg=[];this.vh=new p.Uj(0,0);this.Kq=new p.Lf(0,0,0,0);this.UF=new p.Lf(0,0,0,0)},r:function(){return this.Po(p.size(200,200),null)},Dw:function(){p.rC(this.yk,!1,this)},
Po:function(a,c){var d=p.a(0,0);return p.yc.prototype.r.call(this)?(this.Ea=c,this.Ea||(this.Ea=p.yc.create(),this.Ea.xi(!1),this.Ea.ea(d)),this.vJ(a),this.Rb(!0),this.Kg.length=0,this.Mb=null,this.Vp=this.Sp=!0,this.di=p.wt,this.Ea.t(d),this.lr=0,this.p(this.Ea),this.qF=this.oF=1,!0):!1},Vk:function(a,c){if(c)this.NU(a,0.15);else{if(!this.Sp){var d=this.Pk(),e=this.qw();a.x=Math.max(d.x,Math.min(e.x,a.x));a.y=Math.max(d.y,Math.min(e.y,a.y))}this.Ea.t(a)}},eH:function(){var a=this.Ea.m;return p.a(a.x,
a.y)},NU:function(a,c){var d=p.nt.create(c,a),e=p.sp.create(this.TO,this);this.Ea.Gw(p.Ni.create(d,e));this.wc(this.Nz)},AJ:function(a,c){if(c)this.OV(a,0.15);else{var d=this.Ea;if(d.wB()!=a){var e,f;0==this.lr?(f=this.vh,f=p.a(0.5*f.width,0.5*f.height),f=this.Ck(f)):f=this.to;e=d.Xa(f);d.Kj(Math.max(this.qF,Math.min(this.oF,a)));e=d.Ck(e);f=p.dd(f,e);this.Vk(p.Cf(d.m,f))}}},vH:function(){return this.Ea.wB()},OV:function(a,c){if(0<c){var d=this.Ea.wB();d!=a&&(d=p.Zm.create(c,"zoomScale",d,a),this.Gw(d))}else this.AJ(a)},
Pk:function(){var a=this.Ea,c=a.e(),d=this.vh;return p.a(d.width-c.width*a.la,d.height-c.height*a.qa)},qw:function(){return p.a(0,0)},T5:function(a){var c=this.eH(),d=this.vh,e=this.vH(),c=p.rect(-c.x/e,-c.y/e,d.width/e,d.height/e);return p.IT(c,a.Qa())},pause:function(){this.Ea.vw();for(var a=this.Ea.o,c=0;c<a.length;c++)a[c].vw()},HI:function(){for(var a=this.Ea.o,c=0,d=a.length;c<d;c++)a[c].Fw();this.Ea.Fw()},J5:function(){return this.fi},l6:function(){return this.Jg},C5:function(){return this.Sp},
GU:function(a){this.Sp=a},U4:function(){return this.vh},vJ:function(a){this.vh=a;p.F.prototype.ba.call(this,a)},c2:function(){return this.Ea},LU:function(a){a&&(this.Mh(!0),this.Ea=a,a.xi(!1),a.ea(0,0),this.p(a),this.vJ(this.vh))},q2:function(){return this.di},WI:function(a){this.di=a},Wb:function(){return this.Mb},Xg:function(a){this.Mb=a},zb:function(a){if(!this.pa)return!1;var c=this.uz(),d=this.Ea,e=d.Ck(d.yh(a)),f=this.Kg;if(2<f.length||this.Jg||!p.Ab(c,e))return!1;f.push(a);1===f.length?(this.to=
this.yh(a),this.Jg=!1,this.fi=!0,this.Qq.x=0,this.lr=this.Qq.y=0):2==f.length&&(this.to=p.hC(this.yh(f[0]),this.yh(f[1])),this.lr=p.eC(d.yh(f[0]),d.yh(f[1])),this.fi=!1);return!0},Vc:function(a){if(this.pa)if(1===this.Kg.length&&this.fi){this.Jg=!0;var c=this.uz(),d=this.yh(a);a=p.dd(d,this.to);var e=0,f=this.di,e=f===p.zp?a.y:f===p.hn?a.x:Math.sqrt(a.x*a.x+a.y*a.y);if(this.Jg||!(0.04375>Math.abs(p.aQ(e))))if(this.Jg||(a.x=0,a.y=0),this.to=d,this.Jg=!0,p.Ab(c,this.Ck(d))){switch(f){case p.zp:a.x=
0;break;case p.hn:a.y=0}d=this.Ea.m;c=d.x+a.x;d=d.y+a.y;this.Qq=a;this.Vk(p.a(c,d))}}else 2!==this.Kg.length||this.fi||(a=p.eC(this.Ea.yh(this.Kg[0]),this.Ea.yh(this.Kg[1])),this.AJ(this.vH()*a/this.lr))},cf:function(){this.pa&&(1==this.Kg.length&&this.Jg&&this.wc(this.Uy),this.Kg.length=0,this.Jg=this.fi=!1)},Fj:function(){this.pa&&(this.Kg.length=0,this.Jg=this.fi=!1)},ba:function(a,c){null!=this.Ea&&(2===arguments.length?this.Ea.ba(a,c):this.Ea.ba(a),this.pW())},e:function(){return this.Ea.e()},
pW:function(){if(null!=this.Ea){var a=this.vh,c=this.qw();this.Ku.x=c.x+0.2*a.width;this.Ku.y=c.y+0.2*a.height;c=this.Pk();this.Nu.x=c.x-0.2*a.width;this.Nu.y=c.y-0.2*a.height}},E5:function(){return this.Vp},a9:function(a){this.Vp=a},ha:function(a){if(this.pa){a=a||p.O;var c,d=this.o,e,f;if(p.ed===p.If){a.save();this.transform(a);this.FE(a);if(d&&0<d.length){f=d.length;this.vd();for(c=0;c<f;c++)if((e=d[c])&&0>e.Sa)e.ha(a);else break;for(this.Ja(a);c<f;c++)d[c].ha(a)}else this.Ja(a);this.DE();a.restore()}else{p.Uo();
var g=this.gk;g&&g.Qo()&&(g.$A(),this.hx());this.transform(a);this.FE(a);if(d&&0<d.length){f=d.length;for(c=0;c<f;c++)if((e=d[c])&&0>e.Sa)e.ha();else break;for(this.Ja(a);c<f;c++)d[c].ha()}else this.Ja(a);this.DE(a);g&&g.Qo()&&g.WA(this);p.To()}}},p:function(a,c,d){if(!a)throw Error("child must not nil!");c=c||a.Sa;d=d||a.Tc;a.xi(!1);a.ea(0,0);this.Ea!=a?this.Ea.p(a,c,d):p.yc.prototype.p.call(this,a,c,d)},Rb:function(a){this._super(a);a||(this.Jg=this.fi=!1,this.Kg.length=0)},YZ:function(){return null},
VN:function(a){var c=this.Pk(),d=this.qw(),e=this.di,f=this.Ea.m,g=f.x,h=f.y;if(e===p.wt||e===p.hn)g=Math.max(g,c.x),g=Math.min(g,d.x);if(e==p.wt||e==p.zp)h=Math.min(h,d.y),h=Math.max(h,c.y);h==f.y&&g==f.x||this.Vk(p.a(g,h),a)},Uy:function(){if(this.fi)this.xd(this.Uy);else{var a,c;a=this.Ea.m;var d=this.Qq;this.Ea.t(a.x+d.x,a.y+d.y);this.Sp?(a=this.Ku,c=this.Nu):(a=this.qw(),c=this.Pk());var e=this.Ea.m.B,f=this.Ea.m.G;d.x*=0.95;d.y*=0.95;this.Vk(p.a(e,f));if(1>=Math.abs(d.x)&&1>=Math.abs(d.y)||
f>a.y||f<c.y||e>a.x||e<c.x||e==a.x||e==c.x||f==a.y||f==c.y)this.xd(this.Uy),this.VN(!0)}},Nz:function(){this.fi&&this.xd(this.Nz)},TO:function(){this.xd(this.Nz)},FE:function(a){if(this.Vp){this.iA=!1;var c=this.uz(),d=p.ia.d(),e=this.la,f=this.qa;a=a||p.O;if(p.ed===p.If)c=this.vh.width*e*d.la,d=this.vh.height*f*d.qa,a.beginPath(),a.rect(0,0,c,-d),a.clip(),a.closePath();else if(d=p.ia.d(),d.uS()){if(this.iA=!0,this.Kq=d.rR(),p.HT(c,this.Kq)){var g=this.Kq;a=Math.max(c.x,g.x);f=Math.max(c.y,g.y);e=
Math.min(c.x+c.width,g.x+g.width);c=Math.min(c.y+c.height,g.y+g.height);d.KC(a,f,e-a,c-f)}}else a.enable(a.SCISSOR_TEST),d.KC(c.x,c.y,c.width,c.height)}},DE:function(a){this.Vp&&p.ed===p.Vj&&(this.iA?(a=this.Kq,p.ia.d().KC(a.x,a.y,a.width,a.height)):(a=a||p.O,a.disable(a.SCISSOR_TEST)))},WZ:function(){},uz:function(){for(var a=this.Ck(p.Mi()),c=this.vh,d=this.la,e=this.qa,f=this.$;null!=f;f=f.getParent())d*=f.la,e*=f.qa;0>d&&(a.x+=c.width*d,d=-d);0>e&&(a.y+=c.height*e,e=-e);f=this.UF;f.x=a.x;f.y=
a.y;f.width=c.width*d;f.height=c.height*e;return f}});p.dh.create=function(a,c){var d=new p.dh;if(2==arguments.length){if(d&&d.Po(a,c))return d}else if(d&&d.r())return d;return null};p.FL=p.sa.extend({Pw:function(){},Ch:function(){return 0}});p.GL=p.FL.extend({Iz:0,ctor:function(){this.Iz=0},Pw:function(a){this.Iz=a},Ch:function(){return this.Iz}});function la(a,c){return a.Ch()-c.Ch()}
p.qx=p.sa.extend({Fg:null,ctor:function(){this.Fg=[]},LH:function(a){if(!a)throw"cc.ArrayForObjectSorting.insertSortedObject(): addObject should be non-null.";this.lS(a,this.Oo(a))},cU:function(a){if(0!=this.count()){var c=this.Oo(a);c<this.count()&&c!=p.Sh&&this.xm(c).Ch()==a.Ch()&&this.vC(c)}},Q9:function(a,c){var d=this.Oo(c);if(d<this.count()&&d!=p.Sh){var e=this.xm(d);e.Ch()==c.Ch()&&(this.vC(d),e.Pw(a),this.LH(e))}},fI:function(a){if(0==this.count())return null;var c=new p.GL;c.Pw(a);var d=
this.Oo(c);d<this.count()&&d!=p.Sh&&(c=this.xm(d),c.Ch()!=a&&(c=null));return c},o3:function(){return null},Oo:function(a){var c=0;if(a){var d=0;a=a.Ch();for(var e=this.Fg,f=0;f<e.length;f++){var g=e[f].Ch();if(a==g||a>=d&&a<g)break;d=g;c++}}else c=p.Sh;return c},count:function(){return this.Fg.length},z6:function(){var a=this.Fg;return 0==a.length?null:a[a.length-1]},xm:function(a){return this.Fg[a]},tG:function(a){this.Fg.push(a);this.Fg.sort(la)},vC:function(a){p.qp(this.Fg,a);this.Fg.sort(la)},
lS:function(a,c){this.Fg=p.fl(this.Fg,a,c);this.Fg.sort(la)}});p.gE=0;p.IL=1;p.dZ=p.F.extend({ej:0,L2:function(){return this.ej},dV:function(a){this.ej=a},reset:function(){this.ej=p.Sh},Pw:function(a){this.ej=a},Ch:function(){return this.ej}});p.fZ=p.EL.extend({Caa:function(){},Baa:function(){},Daa:function(){},Eaa:function(){}});p.eZ=p.sa.extend({gW:function(a){return this.JP(a)},JP:function(){return p.BL},Aaa:function(){return null},e7:function(){return 0}});
p.pE=p.dh.extend({vo:null,Zc:null,Bn:null,Ty:null,CA:null,Ru:null,$t:null,pj:null,ctor:function(){p.dh.prototype.ctor.call(this);this.Ru=p.cE;this.$t=[]},aM:function(a){var c=0,d=-1;switch(this.di){case p.hn:a=a.x;break;default:a=a.y}for(var e=this.$t;d>=c;){var f=0|c+(d-c)/2,g=e[f],h=e[f+1];if(a>=g&&a<=h)return f;a<g?d=f-1:c=f+1}return 0>=c?0:-1},gN:function(a){a={x:a.x,y:a.y};this.vo===p.gE&&(a.y=this.Ea.e().height-a.y);a=this.aM(a);-1!=a&&(a=Math.max(0,a),-1<a&&(a=p.Sh));return a},dM:function(a){switch(this.di){case p.hn:a=
p.a(this.$t[a],0);break;default:a=p.a(0,this.$t[a])}return a},KN:function(a){var c=this.dM(a);a=this.Ty.gW(this,a);this.vo===p.gE&&(c.y=this.Ea.e().height-c.y-a.height);return c},q_:function(){},GA:function(){var a=p.nl();this.ba(a);this.Ru!=this.di&&(this.di==p.hn?this.Vk(p.a(0,0)):this.Vk(p.a(0,this.Pk().y)),this.Ru=this.di)},rF:function(a){this.Bn.tG(a);this.ak.cU(a);p.yd(this.Zc,a.ej);a.reset();a.getParent()==this.Ea&&this.Ea.removeChild(a,!0)},bv:function(a,c){c.ea(0,0);c.t(this.KN(a));c.dV(a)},
BE:function(a){a.getParent()!=this.Ea&&this.Ea.p(a);this.ak.LH(a);var c=this.Zc;a=a.ej;-1==c.indexOf(a)&&(c.push(a),c.sort(function(a,c){return a-c}))},i2:function(){return this.Ty},RU:function(a){this.Ty=a},Wb:function(){return this.CA},Xg:function(a){this.CA=a},S$:function(a){this.vo!=a&&(this.vo=a,0<this.ak.count()&&this.uC())},R4:function(){return this.vo},Po:function(a,c){return p.dh.prototype.Po.call(this,a,c)?(this.ak=new p.qx,this.Bn=new p.qx,this.Zc=[],this.CA=null,this.vo=p.IL,this.WI(p.zp),
p.dh.prototype.Xg.call(this,this),!0):!1},Taa:function(a){if(!(a==p.Sh||-1<a)){var c=this.dB(a);c&&this.rF(c);c=null;this.bv(a,c);this.BE(c)}},t5:function(a){if(!(a==p.Sh||-1<a)){var c,d=this.ak;if(c=d.fI(a))for(var e=c=d.Oo(c);e<d.count();e++)c=d.xm(e),this.bv(c.ej+1,c);c=null;this.bv(a,c);this.BE(c);this.GA()}},q8:function(a){if(!(a==p.Sh||-1<a)){var c=this.dB(a);if(c){var d=this.ak,e=d.Oo(c);this.rF(c);p.yd(this.Zc,a);for(a=d.count()-1;a>e;a--)c=d.xm(a),this.bv(c.ej-1,c)}}},uC:function(){this.Ru=
p.cE;for(var a=this.ak,c=this.Bn,d=this.Ea,e=0,f=a.count();e<f;e++){var g=a.xm(e);c.tG(g);g.reset();g.getParent()==d&&d.removeChild(g,!0)}this.Zc=[];this.ak=new p.qx;this.GA()},L0:function(){if(0===this.Bn.count())return null;var a=this.Bn.xm(0);this.Bn.vC(0);return a},dB:function(a){return-1==this.Zc.indexOf(a)?null:this.ak.fI(a)},vU:function(){},wU:function(){},cf:function(a,c){if(this.pa){if(this.pj){var d=this.Qa();d.Pc=this.$.Ck(d.origin);this.pj=null}p.dh.prototype.cf.call(this,a,c)}},zb:function(a,
c){if(!this.pa)return!1;var d=p.dh.prototype.zb.call(this,a,c);if(1===this.Kg.length){var e;e=this.Ea.yh(a);e=this.gN(e);this.pj=e===p.Sh?null:this.dB(e)}else this.pj&&(this.pj=null);return d},Vc:function(a,c){p.dh.prototype.Vc.call(this,a,c);this.pj&&this.Jg&&(this.pj=null)},Fj:function(a,c){p.dh.prototype.Fj.call(this,a,c);this.pj&&(this.pj=null)}});p.pE.create=function(a,c,d){var e=new p.pE;e.Po(c,d);e.RU(a);e.GA();return e};p.Xb={};p.Xb.qG=function(a){for(var c in p.Xb.$B)a[c]=p.Xb.$B[c]};
p.Xb.$B={t:function(a,c){2==arguments.length?(this.m.B=a,this.m.G=c):(this.m.B=a.x,this.m.G=a.y);this.Ka();this.aa.bD(this.m.B,-this.m.G)},Ij:function(a){this.m.G=a;this.Ka();this.aa.bD(this.m.B,-this.m.G)},Bb:function(a){this.m.B=a;this.Ka();this.aa.bD(this.m.B,-this.m.G)},Kj:function(a,c){this.la=a;this.qa=c||a;this.Ka();this.aa.resize(this.la,this.qa)},hp:function(a){this.la=a;this.Ka();this.aa.resize(this.la,this.qa)},Om:function(a){this.qa=a;this.Ka();this.aa.resize(this.la,this.qa)},ea:function(a,
c){var d=this.fh;if(2===arguments.length){if(a===d.B&&c===d.G)return;d.B=a;d.G=c}else{if(a.x===d.B&&a.y===d.G)return;d.B=a.x;d.G=a.y}var e=this.ld,f=this.ka;e.B=f.wa*d.B;e.G=f.ja*d.G;this.aa.style[p.Cb.bp+"TransformOrigin"]=""+e.B+"px "+-e.G+"px";this.jk?(this.aa.style.marginLeft=0,this.aa.style.marginBottom=0):(this.aa.style.marginLeft=this.j6?0:-e.B+"px",this.aa.style.marginBottom=-e.G+"px");this.Ka()},ba:function(a,c){var d=this.ka;if(2===arguments.length){if(a===d.wa&&c===d.ja)return;d.wa=a;d.ja=
c}else{if(a.width===d.wa&&a.height===d.ja)return;d.wa=a.width;d.ja=a.height}var e=this.ld,f=this.fh;e.B=d.wa*f.B;e.G=d.ja*f.G;this.aa.width=d.wa;this.aa.height=d.ja;this.ea(this.fh);this.canvas&&(this.canvas.width=d.wa,this.canvas.height=d.ja);this.Ka();this.JT()},Tw:function(a){this.jO!=a&&(this.Xf=this.oh=a,this.Nl=Math.PI/180*this.Xf,this.Pq=Math.PI/180*this.oh,this.Ka(),this.aa.rotate(a))},Xw:function(a){this.Nd=a;this.Ka();this.aa.oJ(this.Nd,this.Od)},Yw:function(a){this.Od=a;this.Ka();this.aa.oJ(this.Nd,
this.Od)},v:function(a){this.pa=a;this.Ka();this.aa&&(this.aa.style.display=a?"block":"none")},ev:function(a){this.Sa=a;this.Ka();this.aa&&(this.aa.zIndex=a)},ms:function(a){this.$=a;null!==a&&(a.ea(a.fh),this.Ka(),p.Xb.uw(this))},Fw:function(){this.$e().Jm(this);this.bg().Jm(this);this.aa&&!this.aa.parentNode&&(this.getParent()?p.Xb.uw(this):this.aa.jm(p.wj));this.aa&&(this.aa.style.visibility="visible")},vw:function(){this.$e().ds(this);this.bg().ds(this);this.aa&&(this.aa.style.visibility="hidden")},
vf:function(){this.XC();this.vs();this.Of(this.o,p.F.jf.vf);this.aa&&this.aa.remove()},ZT:function(){this.aa.remove()},X:function(a){this.li=a;this.aa.style.opacity=a/255},JT:function(){if(this.mw){var a=this.o;this.o=[];p.w.prototype.ha.call(this,this.Co);this.o=a}else p.w.prototype.ha.call(this,this.Co)}};
p.Xb.fO=function(){var a=p.Cb("#EGLViewDiv");if(a){var c=p.ia.d(),d=c.Ho(),e=c.Be,f=c.Yv(),g=d.width,h=d.height;0===d.width&&0===d.height&&(g=f.width,h=f.height);d=e.Pa.width;0===e.Pa.width&&0===e.Pa.height&&(d=f.width);a.style.position="absolute";a.style.width=g+"px";a.style.maxHeight=h+"px";a.style.margin=0;a.resize(c.la,c.qa);a.style.left=(d-g)/2+"px";a.style.bottom="0px"}};
p.Xb.uw=function(a){var c=a.getParent();if(c&&a.aa)if(c.aa||(p.Xb.pT(c),c.ms=p.Xb.$B.ms),a.aa.jm(c.aa),c.ea(c.fh),c.getParent())p.Xb.uw(c);else if(c.ue)if(a=p.Cb("#EGLViewDiv"))c.aa.jm(a);else{a=p.Oj("div");a.id="EGLViewDiv";var d=p.ia.d(),e=d.Ho(),f=d.Be,g=d.Yv(),h=e.width,k=e.height;0===e.width&&0===e.height&&(h=g.width,k=g.height);e=f.Pa.width;0===f.Pa.width&&0===f.Pa.height&&(e=g.width);a.style.position="absolute";a.style.width=h+"px";a.style.maxHeight=k+"px";a.style.margin=0;a.resize(d.la,d.qa);
a.style.left=(e-h)/2+"px";a.style.bottom="0px";c.aa.jm(a);a.jm(p.wj)}};p.Xb.setTransform=function(a){if(a.Co)if(a.Co.translate(a.ld.x,a.ld.y),a.mw){var c=a.o;a.o=[];p.w.prototype.ha.call(a,a.Co);a.o=c}else p.w.prototype.ha.call(a,a.Co);a.aa&&(a.aa.position.x=a.m.x,a.aa.position.y=-a.m.y,a.aa.rotation=a.oR(),a.aa.scale={x:a.la,y:a.qa},a.aa.Zk={x:a.Nd,y:a.Od},a.ea&&a.ea(a.fh),a.aa.Um())};
p.Xb.LQ=function(a){a.aa=p.Oj("div");a.canvas=p.Oj("canvas");var c=a.e();a.canvas.width=c.width;a.canvas.height=c.height;a.aa.style.position="absolute";a.aa.style.bottom=0;a.Co=a.canvas.getContext("2d");a.aa.appendChild(a.canvas);a.getParent()&&p.Xb.uw(a);a.mw=!0};
p.Xb.pT=function(a){a.aa=p.Oj("div");a.placeholder=!0;a.aa.style.position="absolute";a.aa.style.bottom=0;a.aa.style.width=(a.e().width||p.P.d().Gb.width)+"px";a.aa.style.maxHeight=(a.e().height||p.P.d().Gb.height)+"px";a.aa.style.margin=0;p.Xb.setTransform(a);a.aa.Um();p.Xb.qG(a)};
p.Xb.hB=function(a){if(1<arguments.length)p.Xb.hB(arguments);else if(1!=arguments.length||arguments[0].length)for(var c=arguments[0],d=0;d<c.length;d++)c[d]instanceof p.w?c[d].aa||p.Xb.LQ(c[d]):p.log("DOM converter only supports sprite and menuitems yet"),p.Xb.qG(c[d]),c[d].ha=function(){},c[d].transform=function(){},p.Xb.setTransform(c[d]),c[d].v(c[d].pa);else p.Xb.hB([arguments[0]])};p.SK=0;p.SX=1;p.VX=2;p.UX=3;p.TX=4;p.HK=0;p.wX=1;p.xX=2;p.yX=3;p.AX=4;p.vX=5;p.zX=6;p.FK=0;p.GK=1;p.uX=2;p.tX=3;p.sX=4;p.DX=p.sa.extend({Rv:function(){},Sv:function(){},Tv:function(){},Y0:function(){}});
p.xp=p.jl.extend({ei:null,Mb:null,WM:p.HK,VM:p.GK,xN:p.SK,m_:"",ni:"",nv:null,Lq:null,mF:50,nM:18,Oa:null,hq:14,fz:"Arial",gz:!1,Oz:"",Uu:14,n_:!1,ctor:function(a,c){p.jl.prototype.ctor.call(this);this.gz=!1;this.nv=p.kb();this.Lq=p.Lo();this.ba(a);this.ei=new p.w;this.ei.Ja=function(){};this.p(this.ei);var d=this;c?(this.Oa=document.createElement("textarea"),this.Oa.style.resize="none",this.gz=!0):this.Oa=document.createElement("input");this.Oa.type="text";this.Oa.style.fontSize=this.hq+"px";this.Oa.style.color=
"#000000";this.Oa.style.border=0;this.Oa.style.background="transparent";this.Oa.style.width="100%";this.Oa.style.height="100%";this.Oa.style.u_=0;this.Oa.style.outline="medium";this.Oa.addEventListener("input",function(){d.Mb&&d.Mb.Tv&&d.Mb.Tv(d,this.value)});this.Oa.addEventListener("keyup",function(a){a.keyCode===p.RK.HQ&&!1==d.gz&&(a.stopPropagation(),a.preventDefault(),p.canvas.focus())});this.Oa.addEventListener("focus",function(){this.value==d.ni&&(this.value="",this.style.fontSize=d.hq+"px",
this.style.color=p.Bk(d.nv));d.Mb&&d.Mb.Rv&&d.Mb.Rv(d)});this.Oa.addEventListener("blur",function(){""==this.value&&(this.value=d.ni,this.style.fontSize=d.Uu+"px",this.style.color=p.Bk(d.Lq));d.Mb&&d.Mb.Sv&&d.Mb.Sv(d)});p.Xb.hB(this.ei);this.ei.aa.appendChild(this.Oa);this.ei.aa.Z$=!1;this.ei.aa.style.width=a.width-6+"px";this.ei.aa.style.height=a.height-6+"px";this.ei.canvas.remove()},o9:function(a,c){this.hq=c;this.fz=a;this.lA()},T$:function(){},aV:function(a){this.fz=a;this.lA()},$I:function(a){this.hq=
a;this.lA()},lA:function(){this.Oa.value!=this.ni&&(this.Oa.style.fontFamily=this.fz,this.Oa.style.fontSize=this.hq+"px")},Yg:function(a){null!=a&&(""==a?(this.Oa.value=this.ni,this.Oa.style.color=p.Bk(this.Lq)):(this.Oa.value=a,this.Oa.style.color=p.Bk(this.nv)))},$U:function(a){this.nv=a;this.Oa.value!=this.ni&&(this.Oa.style.color=p.Bk(a))},J9:function(a){!isNaN(a)&&0<a&&(this.mF=a,this.Oa.maxLength=a)},X2:function(){return this.mF},Z9:function(a){if(null!=a){var c=this.ni;this.ni=a;this.Oa.value==
c&&(this.Oa.value=a,this.Oa.style.color=p.Bk(this.Lq),this.cv())}},a$:function(a,c){this.Oz=a;this.Uu=c;this.cv()},c$:function(a){this.Oz=a;this.cv()},d$:function(a){this.Uu=a;this.cv()},cv:function(){this.Oa.value==this.ni&&(this.Oa.style.fontFamily=this.Oz,this.Oa.style.fontSize=this.Uu+"px")},b$:function(a){this.Lq=a;this.Oa.value==this.ni&&(this.Oa.style.color=p.Bk(a))},w9:function(a){this.VM=a;this.Oa.type=a==p.FK?"password":"text"},ma:function(){return this.Oa.value},eS:function(a,c){return this.DH(c)?
(this.ei.t(3,3),this.NV(!1),this.Jj(a),this.t(0,0),this.CE(this,this.iW,p.qD),!0):!1},Xg:function(a){this.Mb=a},F3:function(){return this.ni},x9:function(a){this.WM=a},r$:function(a){this.xN=a},t6:function(a){var c=p.xp.Xd(this);c.y-=4;c.x5(a.end)?this.nM=a.end.b3()-c.e3():p.log("needn't to adjust view layout.")},r6:function(){},s6:function(){},q6:function(){},iW:function(){},gB:function(a){a=a.toString(16);return 1==a.length?"0"+a:a},mU:function(a,c,d){return"#"+this.gB(a)+this.gB(c)+this.gB(d)},
QI:function(a){this.Oa.style.background=this.mU(a.h,a.g,a.f)},o5:function(a,c){this.UM=a.width;this.aa.style.width=this.UM.toString()+"px";this.TM=a.height;this.aa.style.height=this.TM.toString()+"px";this.aa.style.backgroundColor=p.Bk(c)}});p.xp.Xd=function(a){var c=a.e(),c=p.rect(0,0,c.width,c.height);return p.sg(c,a.as())};p.xp.create=function(a,c,d,e,f){d=new p.xp(a,d);c instanceof p.lc?d.QI(c):d.eS(a,c)&&(e&&d.Mw(e,p.sD),f&&d.Mw(f,p.rD));return d};var u=[],w=new XMLHttpRequest;w.open("GET","config.txt",!1);w.send(null);var ma=w.responseText,na=ma.split("\n")[0],oa=ma.split("\n")[1];oa&&(na+=":"+oa);var qa=io.connect(na,{"sync disconnect on unload":!0,"connect timeout":5E3,"reconnection delay ":100});qa.on("connect",function(){x.Ax();x.HL();console.log("Client has connected to the server!");if(y){var a=y.d().Uc;a?a.Pm(!0):u.push(JSON.stringify({connect:!0}))}else u.push(JSON.stringify({connect:!0}))});qa.on("message",function(a){reactToSocketMessage(a)});
reactToSocketMessage=function(a){a=JSON.parse(a);var c=!1,d;for(d in a){c=!0;break}if(!1!=c)if(console.log("Received a message from the server!",a),a.sync)a.mapdata&&x.WJ(a.mapdata,a.maptime),a.warpdata&&x.eD(a.warpdata,a.warptime),a.itemdata&&x.xs(a.itemdata,a.itemtime),a.skillsdata&&x.cD(a.skillsdata,a.skillstime),a.signsdata&&x.kx(a.signsdata,a.signstime),a.npcsdata&&x.XJ(a.npcsdata,a.npcstime);else if(c=y.d().Uc)if(a.connect?c.Pm(!0):a.disconnect&&c.Pm(!1),"Game"==c.qd())if(a.newPlayer)A.sP(a.newPlayer);
else if(a.playerLeft)A.Dh(a.playerLeft).jg==A.l.fa.jg&&(MapMaster=!1),A.JG(a.playerLeft);else if(a.changemap){for(c=0;c<u.length;c++)d=JSON.parse(u[c]),d.moveTo&&d.id==a.id&&(console.log("REMOVIN"),u.splice(c,1),c--);A.Dh(a.id).jg==A.l.fa.jg&&(MapMaster=!1);A.NP(a.id,a.changemap);A.qI(a.id,a.setTo)}else a.setTo?!A.Dh(a.id)||A.Dh(a.id)&&!1==A.Dh(a.id).hg?A.qI(a.id,a.setTo):u.push(JSON.stringify(a)):a.moveTo?!A.Dh(a.id)||A.Dh(a.id)&&!1==A.Dh(a.id).hg?A.NS(a.id,a.moveTo):u.push(JSON.stringify(a)):a.chatMessage?
D.yb(a.chatMessage):a.coinflip?D.yb(a.coinflip):a.diceroll?D.yb(a.diceroll):a.dance?D.yb(a.dance):a.afk?A.OP(a.afk):a.savemap?(x.LP(a.savemap,a.mapdata,a.updatetime),F.QV(a.mapdata)):a.mapmaster?MapMaster=!0:a.savewarps?(x.SP(parseInt(a.savewarps),a.warpdata,a.updatetime),ObjectLists.pm()[parseInt(a.savewarps)]=a.warpdata,Warpeditor&&(Warpeditor.Qd=ObjectLists.pm(),Warpeditor.Ua())):a.savewarpswhole?(x.OT(a.savewarpswhole,a.updatetime),ObjectLists.MV(a.savewarpswhole)):a.saveskills?(x.QP(parseInt(a.saveskills),
a.skillsdata,a.updatetime),ObjectLists.Ko()[parseInt(a.saveskills)]=a.skillsdata,Skillseditor&&(Skillseditor.Qd=ObjectLists.Ko(),Skillseditor.Ua()),va.update(),Skills&&Skills.gf()):a.saveskillswhole?(x.NT(a.saveskillswhole,a.updatetime),ObjectLists.EV(a.saveskillswhole),va.update(),Skills&&Skills.gf()):a.savesigns?(x.PP(parseInt(a.savesigns),a.signsdata,a.updatetime),ObjectLists.Jr()[parseInt(a.savesigns)]=a.signsdata,Signeditor&&(Signeditor.Qd=ObjectLists.Jr(),Signeditor.Ua())):a.moveNPC?(a.npcID=
parseInt(a.npcID),!A.Ir(a.npcID)||A.Ir(a.npcID)&&!1==A.Ir(a.npcID).hg?A.MS(a.npcID,a.moveNPC,a.mapnumber):u.push(JSON.stringify(a))):a.changeNPCPosition?(a.npcID=parseInt(a.npcID),A.Ir(a.npcID)&&!1==A.Ir(a.npcID).hg?A.fU(a.npcID,a.changeNPCPosition):u.push(JSON.stringify(a))):a.savesignswhole?(x.MT(a.savesignswhole,a.updatetime),ObjectLists.DV(a.savesignswhole)):a.savenpcs?(x.MP(parseInt(a.savenpcs),a.npcsdata,a.updatetime),ObjectLists.Fk()[parseInt(a.savenpcs)]=a.npcsdata,F.ew(F.Wd(),!0),NPCeditor&&
(NPCeditor.Qd=ObjectLists.Fk(),NPCeditor.Ua())):a.savenpcswhole?(x.LT(a.savenpcswhole,a.updatetime),ObjectLists.mV(a.savenpcswhole),F.ew(F.Wd(),!0),NPCeditor&&(NPCeditor.Qd=ObjectLists.Fk(),NPCeditor.Ua())):a.saveitems?(x.KP(parseInt(a.saveitems),a.itemdata,a.updatetime),c=ObjectLists.ui()[parseInt(a.saveitems)].name,ObjectLists.ui()[parseInt(a.saveitems)]=a.itemdata,F.ew(F.Wd()),Itemeditor&&(Itemeditor.Qd=ObjectLists.ui(),Itemeditor.Ua()),Inventory&&Inventory.gf(),A.l.fa.xs(c,a.itemdata)):a.droppeditem?
a.mapnumber==F.Wd()&&!1==F.d().gg?(c=F.rH(a.index),c.rP(a.droppeditem),F.ys()):u.push(JSON.stringify(a)):a.pickupitem?a.mapnumber==F.Wd()&&(c=F.rH(a.pickupitem),c.jC(),F.ys()):a.saveitemswhole&&(x.KT(a.saveitemswhole,a.updatetime),ObjectLists.eV(a.saveitemswhole));else"Login"==c.qd()&&(a.login_success?c.SS():a.login_fail&&c.dC(a.login_fail));else u.push(JSON.stringify(a))};qa.on("disconnect",function(){console.log("The client has disconnected!");var a=y.d().Uc;a?a.Pm(!1):u.push(JSON.stringify({disconnect:!0}))});
function H(a){qa.send(JSON.stringify(a))};var I=Object.freeze({uc:{HG:"C to popup/dismiss, enter for chat. Say /help for help.",pS:"Welcome to the Powder Engine! Enter /help for some help.",XR:"-------HELP------",WR:" - Press C to expand the chat, I for Inventory",VR:" - Space to grab Items and E for Equipment.",UR:" - Enter /commands for command list",TR:"-------------------",YP:"Commands:  /editskill, /editsign, /editnpc,",XP:" - /editmap, /editwarp, /edititem,",WP:" - /dance, /coinflip, /diceroll, /afk",VP:"--------------------",kC:" has joined the game!",
qT:" has left the game!",ww:"Picked up ",CQ:"Dropped ",NH:"Your inventory is full"}});var wa={},xa=p.jd.d();p.Ji.d();xa.nJ(["res/Graphics"]);w=new XMLHttpRequest;w.open("GET","res/Graphics/tile_graphics.txt",!1);w.send(null);var ma=w.responseText,ya=ma.split(","),K=[],Ba;for(Ba in ya)K.push({name:ya[Ba],texture:p.Na.d().Kb(ya[Ba])});w=new XMLHttpRequest;w.open("GET","res/Graphics/character_graphics.txt",!1);w.send(null);var ma=w.responseText,ya=ma.split(","),L=[];for(Ba in ya)L.push({name:ya[Ba],texture:p.Na.d().Kb(ya[Ba])});
document.getElementById("gameCanvas").onkeydown=function(a){a.preventDefault();wa[a.keyCode]=!0};window.onbeforeunload=function(){H({disconnect:!0})};window.onfocus=function(){for(var a=[],c=u.length-1;0<=c;c--){var d=JSON.parse(u[c]);d.moveTo&&!a[d.id]?(a[d.id]=!0,d.setTo=d.moveTo,d.moveTo=null,u[c]=JSON.stringify(d)):d.moveTo&&a[d.id]&&u.splice(c,1)}};var P=p.J(255,255,255,255),Q=p.J(0,255,0,255),R=p.J(255,0,0,255);
document.getElementById("gameCanvas").onkeyup=function(a){wa[a.keyCode]=!1;if(null!=y.d().Uc){a.stopPropagation();var c=null;switch(a.keyCode){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";
break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a.keyCode&&58>a.keyCode||64<a.keyCode&&91>a.keyCode)&&(c=String.fromCharCode(a.keyCode));null!=c&&y.d().Uc.Qk(c)}};function S(a,c){return(a.UH&&a.pa||!a.UH)&&p.Ab(p.rect(a.m.B,a.m.G,a.e().width,a.e().height),c)}function Ca(a){var c={},d;for(d in a)c[d]=a[d]&&"object"==typeof a[d]?Ca(a[d]):a[d];return c}
isMobile=function(){var a=!1,c=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(c)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(c.substr(0,
4)))a=!0;return a};function Da(a,c){var d=c?a:a.rd();return Ea(d,"panels")}function Fa(){Ja.fd(function(){})}
function Ea(a,c,d){c=d?d[c]:a[c];"undefined"!=typeof c.tS?d=Ka.Ax(c.hW):"undefined"!=typeof c.u?(d=c.size?c.size:p.size(100,100),d=p.Eb.create(c.u,d.width,d.height)):d="undefined"!=typeof c.mw?p.w.create():"undefined"!=typeof c.Ba?p.w.Hc(p.Na.d().Kb(c.Ba)):"undefined"!=typeof c.label?p.V.create(c.label,c.font?c.w1:"Arial",c.fontSize?c.fontSize:14):p.F.create();"undefined"!=typeof c.size&&d.ba(Math.floor(c.size.width),Math.floor(c.size.height));"undefined"!=typeof c.position&&d.t(p.a(Math.floor(c.position.x),
Math.floor(c.position.y)));"undefined"!=typeof c.visible&&d.v(c.visible);"undefined"!=typeof c.c&&d.ea(c.c);"undefined"!=typeof c.opacity&&d.X(c.opacity);"undefined"!=typeof c.color&&d.k(c.color);if("undefined"!=typeof c.children)for(var e in c.children)d[e]=Ea(a,e,c.children),d.p(d[e]);return d}p.size(960,640);var T=p.size(1600,1600),La=Math.floor(T.height/32),U=Math.floor(T.width/32);function V(a,c){return parseInt(U*(La-c))+parseInt(a)};var x=p.sa.extend({l:null,jc:function(a){return(a=t.localStorage.getItem("last_"+a))?a:null},ep:function(a,c){return(c=t.localStorage.setItem("last_"+a,c))?c:null}});x.Ax=function(){this.l||(this.l=new x);return this.l};x.d=function(){return this.l};x.uV=function(a,c){var d=t.localStorage.getItem("panelStore");"null"==d||null==d?(console.log("NEW PANEL STORE"),d={}):d=JSON.parse(d);d[a]={x:c.x,y:c.y};t.localStorage.setItem("panelStore",JSON.stringify(d))};x.jR=function(){return t.localStorage.getItem("panelStore")};
x.$Q=function(a){if(this.l.jc("maps")){if(a){var c=JSON.parse(t.localStorage.getItem("map_data"));return c[a]?c[a]:null}}else return[]};x.WJ=function(a,c){this.l.ep("maps",c);t.localStorage.setItem("map_data",JSON.stringify(a))};x.LP=function(a,c,d){var e=this.l.jc("maps")?JSON.parse(t.localStorage.getItem("map_data")):[];e[a]=c;x.WJ(e,d)};x.CR=function(){if(this.l.jc("warps")){if(""!=t.localStorage.getItem("warps_data"))var a=JSON.parse(t.localStorage.getItem("warps_data"));return a?a:[]}return[]};
x.eD=function(a,c){this.l.ep("warps",c);t.localStorage.setItem("warps_data",JSON.stringify(a))};x.SP=function(a,c,d){var e=this.l.jc("warps")?""!=t.localStorage.getItem("warps_data")?JSON.parse(t.localStorage.getItem("warps_data")):[]:[];e[a]=c;x.eD(e,d)};x.OT=function(a,c){warparray=a;x.eD(warparray,c)};x.XQ=function(){if(this.l.jc("items")){if(""!=t.localStorage.getItem("items_data"))var a=JSON.parse(t.localStorage.getItem("items_data"));return a?a:[]}return[]};
x.xs=function(a,c){this.l.ep("items",c);t.localStorage.setItem("items_data",JSON.stringify(a))};x.KP=function(a,c,d){var e=this.l.jc("items")?""!=t.localStorage.getItem("items_data")?JSON.parse(t.localStorage.getItem("items_data")):[]:[];e[a]=c;x.xs(e,d)};x.KT=function(a,c){itemsarray=a;x.xs(itemsarray,c)};x.uR=function(){if(this.l.jc("skills")){if(""!=t.localStorage.getItem("skills_data"))var a=JSON.parse(t.localStorage.getItem("skills_data"));return a?a:[]}return[]};
x.cD=function(a,c){this.l.ep("skills",c);t.localStorage.setItem("skills_data",JSON.stringify(a))};x.QP=function(a,c,d){var e=this.l.jc("skills")?""!=t.localStorage.getItem("skills_data")?JSON.parse(t.localStorage.getItem("skills_data")):[]:[];e[a]=c;x.cD(e,d)};x.NT=function(a,c){skillarray=a;x.cD(skillarray,c)};x.sR=function(){if(this.l.jc("signs")){if(""!=t.localStorage.getItem("signs_data"))var a=JSON.parse(t.localStorage.getItem("signs_data"));return a?a:[]}return[]};
x.kx=function(a,c){this.l.ep("signs",c);t.localStorage.setItem("signs_data",JSON.stringify(a))};x.PP=function(a,c,d){var e=this.l.jc("signs")?""!=t.localStorage.getItem("signs_data")?JSON.parse(t.localStorage.getItem("signs_data")):[]:[];e[a]=c;x.kx(e,d)};x.MT=function(a,c){signarray=a;x.kx(signarray,c)};x.fR=function(){if(this.l.jc("npcs")){if(""!=t.localStorage.getItem("npcs_data"))var a=JSON.parse(t.localStorage.getItem("npcs_data"));return a?a:[]}return[]};
x.XJ=function(a,c){this.l.ep("npcs",c);t.localStorage.setItem("npcs_data",JSON.stringify(a))};x.MP=function(a,c,d){var e=this.l.jc("npcs")?""!=t.localStorage.getItem("npcs_data")?JSON.parse(t.localStorage.getItem("npcs_data")):[]:[];e[a]=c;x.XJ(e,d)};x.LT=function(a,c){npcsarray=a;x.kx(npcsarray,c)};
x.cX=function(){t.localStorage.setItem("map_data",[]);t.localStorage.setItem("last_maps",0);t.localStorage.setItem("warps_data",[]);t.localStorage.setItem("last_warps",0);t.localStorage.setItem("items_data",[]);t.localStorage.setItem("last_items",0);t.localStorage.setItem("skills_data",[]);t.localStorage.setItem("last_skills",0);t.localStorage.setItem("signs_data",[]);t.localStorage.setItem("last_signs",0);t.localStorage.setItem("npcs_data",[]);t.localStorage.setItem("last_npcs",0);t.localStorage.setItem("panelStore",
null)};x.HL=function(){H({sync:!0,mapupdate:null!=this.l.jc("maps")?this.l.jc("maps"):2,warpupdate:null!=this.l.jc("warps")?this.l.jc("warps"):2,itemupdate:null!=this.l.jc("items")?this.l.jc("items"):2,skillsupdate:null!=this.l.jc("skills")?this.l.jc("skills"):2,signsupdate:null!=this.l.jc("signs")?this.l.jc("signs"):2,npcsupdate:null!=this.l.jc("npcs")?this.l.jc("npcs"):2})};x.hV=function(a){!0!=a&&!1!=a||t.localStorage.setItem("mapedit_saveonexit",a)};
x.aR=function(){return null==t.localStorage.getItem("mapedit_saveonexit")?!1:t.localStorage.getItem("mapedit_saveonexit")};ListView=p.dh.extend({Jk:null,H:null,Jv:null,rw:!1,Ci:null,hs:null,uC:function(){if(this.H){var a=this.H.iH();a.height<this.H.e().height&&(a=this.H.e(),this.rw=!0);this.Jk=[];for(var c=0,d=0;d<this.H.hH();d++){console.log("THINGS CARL "+d);var e=this.H.tR(d),c=c+e.height;this.Jk[d]=p.F.create();this.Jk[d].ba(e);this.Jk[d].t(p.a(0,a.height-c));this.Jk[d].ea(p.a(0,1));this.p(this.Jk[d]);this.Jk[d].p(this.H.ZQ(d))}this.kp(-300);this.QC(0);!1==this.rw&&(this.hs=p.Eb.create(p.J(0,0,0,255),1,this.H.e().height),
this.hs.t(p.a(this.H.e().width+20,0)),this.Ci=p.Eb.create(p.J(90,90,255,255),20,this.H.e().height/5),this.Ci.t(p.a(this.H.e().width+10,this.H.e().height-this.H.e().height/5)),this.H.p(this.hs),this.H.p(this.Ci),this.Vk(p.a(0,this.Pk().y),!1))}},r:function(a){this.H=a;this.Po(this.H.e(),this.H);this.WI(p.zp);this.GU(!1);a=this.H.iH();var c=p.F.create();c.ba(a);this.LU(c)},IU:function(a){this.Jv=a},zC:!1,Lw:null,zb:function(a){for(var c=a.Q,d=0;d<this.H.hH();d++)for(var e in this.Jv[d]){var f=this.Jk[d].Xa(c),
g=S(this.H,this.H.Xa(c));if(S(this.Jv[d][e],f)&&!0==g)return this.H.pU(this.Jv[d][e].Iv,d,a),this.zC=!0}if(!1==this.rw){c=this.H.Xa(c);if(S(this.Ci,c))return this.Lw=c.y-this.Ci.m.G,!0;console.log("TURNING OFF SCROLOL");this.Lw=null;return this._super(a)}},Vc:function(a){if(!0==this.zC)return this.zC=!1;if(!1==this.rw){var c=a.Q;if(null!=this.Lw&&(c=this.H.Xa(c),c.y-=this.Lw,0<=c.y&&c.y+this.Ci.e().height<=this.H.e().height))return a=c.y/(this.hs.e().height-this.Ci.e().height),this.Vk(p.a(0,this.Pk().y*
a),!1),this.Ci.Ij(c.y),!0;c=this._super(a);a=this.eH().y/this.Pk().y;this.Ci.Ij((this.hs.e().height-this.Ci.e().height)*a);return c}}});ListView.create=function(a){var c=new ListView;c.r(a);c.uC();return c};var Ka=p.F.extend({Zd:null,$d:null,ae:null,ee:null,fe:null,sd:null,item:null,Rd:null,Sd:null,Ud:null,Td:null,position:null,He:null,type:null,Ya:null,ctor:function(){this._super()},r:function(){this._super();this.He=p.V.create("","Arial",16);this.He.ea(0.5,0.5);this.He.t(16,-16);this.He.X(0);this.He.k(p.i(0,0,0));this.p(this.He,900);this.item=[];this.Ya=[];this.Fi(0)},rP:function(a){this.Hj(a.sprite.texture,a.sprite.position,"item");for(var c=0;c<ObjectLists.ui().length;c++)if(a.name==ObjectLists.ui()[c].name){this.Ww({id:c,
data:{amount:a.amount}},!0);break}this.Fi(4)},jC:function(){this.Ya[this.Ya.length-1].temp&&(this.item[this.item.length-1].S(),this.item.splice(this.item.length-1,1),this.sT())},Hj:function(a,c,d){a=p.w.Hc(p.Na.d().Kb(a));a.jb(p.rect(Math.floor(32*c.x),Math.floor(32*c.y),32,32));a.k(p.J(255,255,255,255));a.ea(0,1);switch(d){case "ground1":null!=this.Zd&&this.Zd.S();this.Zd=a;this.p(this.Zd);break;case "ground2":null!=this.$d&&this.$d.S();this.$d=a;this.p(this.$d,1);break;case "groundShadow":null!=
this.ae&&this.ae.S();this.ae=a;this.p(this.ae,2);break;case "mask1":null!=this.ee&&this.ee.S();this.ee=a;this.p(this.ee,3);break;case "mask2":null!=this.fe&&this.fe.S();this.fe=a;this.p(this.fe,4);break;case "mask3":null!=this.sd&&this.sd.S();this.sd=a;this.p(this.sd,5);break;case "item":this.item.push(a);this.p(this.item[this.item.length-1],6);break;case "fringe1":null!=this.Rd&&this.Rd.S();this.Rd=a;this.p(this.Rd,7);break;case "fringe2":null!=this.Sd&&this.Sd.S();this.Sd=a;this.p(this.Sd,8);break;
case "fringeShadow":null!=this.Ud&&this.Ud.S();this.Ud=a;this.p(this.Ud,9);break;case "fringe3":null!=this.Td&&this.Td.S(),this.Td=a,this.p(this.Td,10)}},fg:function(){var a=!0;if(null!=this.Zd&&this.Zd.T()&&!1==this.Zd.T().ec)a=!1;else if(null!=this.$d&&this.$d.T()&&!1==this.$d.T().ec)a=!1;else if(null!=this.ae&&this.ae.T()&&!1==this.ae.z4)a=!1;else if(null!=this.ee&&this.ee.T()&&!1==this.ee.T().ec)a=!1;else if(null!=this.fe&&this.fe.T()&&!1==this.fe.T().ec)a=!1;else if(null!=this.sd&&this.sd.T()&&
!1==this.sd.T().ec)a=!1;else if(0<this.item.length)for(var c in this.item)this.item[c].T()&&!1==this.item[c].T().ec&&(a=!1);else null!=this.Rd&&this.Rd.T()&&!1==this.Rd.T().ec?a=!1:null!=this.Sd&&this.Sd.T()&&!1==this.Sd.T().ec?a=!1:null!=this.Ud&&this.Ud.T()&&!1==this.Ud.T().ec?a=!1:null!=this.Td&&this.Td.T()&&!1==this.Td.T().ec&&(a=!1);return a},pd:function(){null!=this.Zd&&this.Zd.S();this.Zd=null;null!=this.$d&&this.$d.S();this.$d=null;null!=this.ae&&this.ae.S();this.ae=null;null!=this.ee&&this.ee.S();
this.ee=null;null!=this.fe&&this.fe.S();this.fe=null;null!=this.sd&&this.sd.S();this.sd=null;for(var a=0;a<this.item.length;a++)this.item[a].S();this.item=[];this.sd=null;null!=this.Rd&&this.Rd.S();this.Rd=null;null!=this.Sd&&this.Sd.S();this.Sd=null;null!=this.Ud&&this.Ud.S();this.Ud=null;null!=this.Td&&this.Td.S();this.Td=null;this.Fi(0);this.Ya=[];this.item=[]},kB:function(a){switch(a){case "ground1":null!=this.Zd&&this.Zd.S();this.Zd=null;break;case "ground2":null!=this.$d&&this.$d.S();this.$d=
null;break;case "groundShadow":null!=this.ae&&this.ae.S();this.ae=null;break;case "mask1":null!=this.ee&&this.ee.S();this.ee=null;break;case "mask2":null!=this.fe&&this.fe.S();this.fe=null;break;case "mask3":null!=this.sd&&this.sd.S();this.sd=null;break;case "item":for(a=0;a<this.item.length;a++)this.item[a].S(),this.item[a].splice(a,1),a--;this.item=[];break;case "fringe1":null!=this.Rd&&this.Rd.S();this.Rd=null;break;case "fringe2":null!=this.Sd&&this.Sd.S();this.Sd=null;break;case "fringeShadow":null!=
this.Ud&&this.Ud.S();this.Ud=null;break;case "fringe3":null!=this.Td&&this.Td.S(),this.Td=null}},Fi:function(a){this.type=a;switch(this.type){case 0:this.He.ga("");break;case 1:this.He.ga("BLK");break;case 2:this.He.ga("SPW");break;case 3:this.He.ga("WRP");break;case 4:this.He.ga("ITM");break;case 5:this.He.ga("NPC");break;case 6:this.He.ga("SKL");break;case 7:this.He.ga("SGN")}},Ww:function(a,c){c||(c=!1);this.Ya.push({num:a.id,data:a.data,temp:c})},sT:function(){this.Ya.splice(this.Ya.length-1,
1);0==this.Ya.length&&this.Fi(0)},cw:function(){return this.Ya[this.Ya.length-1]},bw:function(){switch(this.type){case 3:return ObjectLists.pm()[this.Ya[this.Ya.length-1].num];case 4:var a=ObjectLists.ui()[this.Ya[this.Ya.length-1].num];a.amount=parseInt(this.Ya[this.Ya.length-1].data.amount);return a;case 7:return ObjectLists.Jr()[this.Ya[this.Ya.length-1].num];case 5:return ObjectLists.Fk()[this.Ya[this.Ya.length-1].num]}},Qg:function(){switch(this.type){case 3:return ObjectLists.pm()[this.Ya[this.Ya.length-
1].num]?ObjectLists.pm()[this.Ya[this.Ya.length-1].num]:null;case 4:return ObjectLists.ui()[this.Ya[this.Ya.length-1].num]?ObjectLists.ui()[this.Ya[this.Ya.length-1].num]:null;case 5:return ObjectLists.Fk()[this.Ya[this.Ya.length-1].num]?ObjectLists.Fk()[this.Ya[this.Ya.length-1].num]:null}},FV:function(a){this.He.X(!0==a?255:0)},cc:function(){return this.type}});Ka.Ax=function(a,c){var d=new Ka;d.r();d.position=p.a(a,c);return d};StatsController=p.w.extend({data:null,ow:null,H:null,r:function(a,c){this.data=a;this.H=c;this.tU()},update:function(){for(var a in this.data)this.ow&&(0==this.data[a].value&&0<this.ow[a]&&this.H.haa(a),this.data[a].vc>this.ow[a].vc&&this.H.jaa(a)),this.ow[a]=this.data[a]},r4:function(a){return this.data[a].value},q4:function(a){return this.data[a].vc},Q6:function(a,c){this.data[a].value+=c;this.data[a].value>this.data[a].Af&&(this.data[a].value=this.data[a].Af);0>this.data[a].value&&(this.data[a].value=
0)},RP:function(a,c){this.data[a].value=c;this.data[a].value>this.data[a].Af&&(this.data[a].value=this.data[a].Af);0>this.data[a].value&&(this.data[a].value=0)},P6:function(a,c){this.data[a].vc+=c;this.data[a].vc>this.data[a].zf&&(this.data[a].vc=this.data[a].zf);0>this.data[a].vc&&(this.data[a].vc=0)},RP:function(a,c){this.data[a].vc=c;this.data[a].vc>this.data[a].zf&&(this.data[a].vc=this.data[a].zf);0>this.data[a].vc&&(this.data[a].vc=0)},r0:function(a,c){this.data[a].zf=c},s0:function(a,c){this.data[a].Af=
c}});ObjectLists=p.sa.extend({iD:null,VB:null,WC:null,VC:null,aC:null});var X;ObjectLists.d=function(){X||(X=new ObjectLists,X.iD=x.CR(),X.VB=x.XQ(),X.WC=x.uR(),X.VC=x.sR(),X.aC=x.fR());return X};ObjectLists.pm=function(){return X.iD};ObjectLists.MV=function(a){X.iD=a};ObjectLists.ui=function(){return X.VB};ObjectLists.eV=function(a){X.VB=a};ObjectLists.Ko=function(){return X.WC};ObjectLists.EV=function(a){X.WC=a};ObjectLists.Jr=function(){return X.VC};ObjectLists.DV=function(a){X.VC=a};
ObjectLists.Fk=function(){return X.aC};ObjectLists.mV=function(a){X.aC=a};gameMapInstance=null;
var F=p.yc.extend({wd:null,q:null,gg:!1,Vm:null,Bm:null,lC:null,rm:null,Nk:null,Kk:null,Lk:null,Mk:null,K:p.a(0,0),yj:1,pB:function(a,c){function d(a,c){return{wL:a,value:c.x+c.y*U,x:c.x,y:c.y,Wv:0,g:0}}function e(a,c){var d=c-1,e=c+1,g=a+1,h=a-1,k=-1<d&&f.q["tile"+V(a,d)]&&1!=f.q["tile"+V(a,d)].cc()&&7!=f.q["tile"+V(a,d)].cc();myS=e<U&&f.q["tile"+V(a,e)]&&1!=f.q["tile"+V(a,e)].cc()&&7!=f.q["tile"+V(a,e)].cc();myE=g<U&&f.q["tile"+V(g,c)]&&1!=f.q["tile"+V(g,c)].cc()&&7!=f.q["tile"+V(g,c)].cc();myW=
-1<h&&f.q["tile"+V(h,c)]&&1!=f.q["tile"+V(h,c)].cc()&&7!=f.q["tile"+V(h,c)].cc();result=[];k&&result.push({x:a,y:d});myE&&result.push({x:g,y:c});myS&&result.push({x:a,y:e});myW&&result.push({x:h,y:c});return result}for(var f=this,g=d(null,c),h,k,l,m,n,s=[],q=[],v=[d(null,a)],z=Array(La*U);h=v.length;){k=La*U;l=-1;for(m=0;m<h;m++)v[m].Wv<k&&(k=v[m].Wv,l=m);k=v.splice(l,1)[0];if(k.value===g.value){l=q[q.push(k)-1];do s.push(p.a(l.x,l.y));while(l=l.wL);z=q=v=[];s.reverse()}else{h=e(k.x,k.y);m=0;for(n=
h.length;m<n;m++)l=d(k,h[m]),z[l.value]||(l.g=k.g+(Math.abs(h[m].x-k.x)+Math.abs(h[m].y-k.y)),l.Wv=l.g+(Math.abs(h[m].x-g.x)+Math.abs(h[m].y-g.y)),v.push(l),z[l.value]=!0);q.push(k)}}return s},PV:function(a){this.wd={};this.wd.mapdata={};for(var c in this.q)"tile"==c.substring(0,4)&&(this.q[c].pd(),this.wd[c]={});if(a)for(c in this.wd=a,a)if("tile"==c.substring(0,4))for(var d in a[c])"info"!=d?null!=a[c][d]&&this.q[c].Hj(a[c][d].texture,a[c][d].frame,d):(this.q[c].Fi(a[c][d].type),a[c][d].script&&
this.q[c].Ww(a[c][d].script),4==a[c][d].type&&this.q[c].Qg()&&this.q[c].Hj(this.q[c].Qg().sprite.texture,this.q[c].Qg().sprite.position,"item"),5==a[c][d].type&&this.q[c].Qg()&&A.sG(this.q[c].Qg(),p.a(this.q[c].m.x/32,this.q[c].m.y/32),this.yj));else"mapdata"==c&&(this.Nk=""!=a[c].mapConnectors.up&&null!=a[c].mapConnectors.up?a[c].mapConnectors.up:null,this.Kk=""!=a[c].mapConnectors.down&&null!=a[c].mapConnectors.down?a[c].mapConnectors.down:null,this.Lk=""!=a[c].mapConnectors.left&&null!=a[c].mapConnectors.left?
a[c].mapConnectors.left:null,this.Mk=""!=a[c].mapConnectors.right&&null!=a[c].mapConnectors.right?a[c].mapConnectors.right:null);this.wc(this.qC)},Yk:function(a){A.d().v(!1);a=x.$Q(a);this.wd={};this.wd.mapdata={};for(var c in this.q)"tile"==c.substring(0,4)&&(this.q[c].pd(),this.wd[c]={});if(a)for(c in this.wd=a,a)if("tile"==c.substring(0,4))for(var d in a[c])"info"!=d?null!=a[c][d]&&this.q[c].Hj(a[c][d].texture,a[c][d].frame,d):(this.q[c].Fi(a[c][d].type),a[c][d].script&&this.q[c].Ww(a[c][d].script),
4==a[c][d].type&&this.q[c].Qg()&&this.q[c].Hj(this.q[c].Qg().sprite.texture,this.q[c].Qg().sprite.position,"item"),5==a[c][d].type&&this.q[c].Qg()&&A.sG(this.q[c].Qg(),p.a(this.q[c].m.x/32,this.q[c].m.y/32),this.yj));else"mapdata"==c&&(this.Nk=""!=a[c].mapConnectors.up&&null!=a[c].mapConnectors.up?a[c].mapConnectors.up:null,this.Kk=""!=a[c].mapConnectors.down&&null!=a[c].mapConnectors.down?a[c].mapConnectors.down:null,this.Lk=""!=a[c].mapConnectors.left&&null!=a[c].mapConnectors.left?a[c].mapConnectors.left:
null,this.Mk=""!=a[c].mapConnectors.right&&null!=a[c].mapConnectors.right?a[c].mapConnectors.right:null);this.wc(this.qC)},qC:function(){for(var a in this.q)if("tile"==a.substring(0,4)&&!1==this.q[a].fg())return;A.d().v(!0);A.Lj();this.xd(this.qC);this.Bm.v(!0);this.Vm.v(!0);this.gg=!0},rd:function(){for(var a={},c=0;c<U;c++)for(var d=0;d<La;d++)a["tile"+(c+d*U)]={size:p.size(32,32),c:p.a(0,0),position:p.a(32*c,32*(La-d)),tS:!0,hW:p.a(d,c),visible:!1};return{panels:{children:a}}},r:function(){this.Rb(!0);
this.QC(1)},zb:function(a){!this.rm||Mapeditor&&Mapeditor.$||(this.rm=Mapeditor=null);if(this.rm)for(var c in this.q)"tile"==c.substring(0,4)&&p.Ab(this.q[c].Qa(),p.a(a.Q.x-this.K.x,a.Q.y+32-this.K.y))&&(this.rm.QJ(this.q,c),F.ys());else for(c in this.q)if("tile"==c.substring(0,4)&&p.Ab(this.q[c].Qa(),p.a(a.Q.x-this.K.x,a.Q.y+32-this.K.y)))if(4==this.q[c].cc())this.$.p(DropDownList.wr(this,this.wS,["Pick up "+this.q[c].Qg().name,"Walk To"],a.Q)),this.xh=c;else if(7==this.q[c].cc())this.$.p(DropDownList.wr(this,
this.WV,["Read Sign"],a.Q)),this.xh=c;else if(1!=this.q[c].cc()&&7!=this.q[c].cc()&&4!=this.q[c].cc()){var d=A.l.fa.xf();A.l.fa.TC(this.pB(p.a(Math.floor(d.x),Math.ceil(d.y)),p.a(this.q[c].m.x/32,this.q[c].m.y/32)))}return!0},xh:null,wS:function(a){if(null!=this.H.xh){var c=A.l.fa.xf(),d=p.a(gameMapInstance.q[gameMapInstance.xh].m.x/32,gameMapInstance.q[gameMapInstance.xh].m.y/32);switch(a){case 0:a=c.x>d.x?c.x-d.x:d.x-c.x;c=c.y>d.y?c.y-d.y:d.y-c.y;5>Math.sqrt(a*a+c*c)?A.l.fa.MH(gameMapInstance.q[gameMapInstance.xh]):
D.yb("The item is too far away!");break;case 1:A.l.fa.TC(gameMapInstance.pB(p.a(Math.floor(c.x),Math.ceil(c.y)),d)),this.H.xh=null}}},WV:function(a){if(null!=this.H.xh){var c=A.l.fa.xf(),d=p.a(gameMapInstance.q[gameMapInstance.xh].m.x/32,gameMapInstance.q[gameMapInstance.xh].m.y/32);switch(a){case 0:a=c.x>d.x?c.x-d.x:d.x-c.x,c=c.y>d.y?c.y-d.y:d.y-c.y,5>Math.sqrt(a*a+c*c)?A.l.fa.MH(gameMapInstance.q[gameMapInstance.xh]):D.yb("The sign is too far away to read!")}}},Vc:function(a){if(this.rm){for(var c in this.q)"tile"==
c.substring(0,4)&&p.Ab(this.q[c].Qa(),p.a(a.Q.x-this.K.x,a.Q.y+32-this.K.y))&&(this.rm.QJ(this.q,c,"moved"),F.ys());return!0}for(c in this.q)if("tile"==c.substring(0,4)&&1!=this.q[c].cc()&&7!=this.q[c].cc()&&4!=this.q[c].cc()&&p.Ab(this.q[c].Qa(),p.a(a.Q.x-this.K.x,a.Q.y+32-this.K.y))){var d=A.l.fa.xf();A.l.fa.TC(this.pB(p.a(Math.floor(d.x),Math.ceil(d.y)),p.a(this.q[c].m.x/32,this.q[c].m.y/32)))}},ha:function(){this._super();if(!0==this.gg){this.Vm.aB(0,0,0,0);for(var a in this.q)"tile"==a.substring(0,
4)&&(this.q[a].v(!0),null!=this.q[a].Rd&&this.q[a].Rd.v(!1),null!=this.q[a].Sd&&this.q[a].Sd.v(!1),null!=this.q[a].Ud&&this.q[a].Ud.v(!1),null!=this.q[a].Td&&this.q[a].Td.v(!1),this.q[a].ha(),null!=this.q[a].Rd&&this.q[a].Rd.v(!0),null!=this.q[a].Sd&&this.q[a].Sd.v(!0),null!=this.q[a].Ud&&this.q[a].Ud.v(!0),null!=this.q[a].Td&&this.q[a].Td.v(!0),this.q[a].v(!1));this.Vm.end();this.Bm.aB(0,0,0,0);for(a in this.q)if("tile"==a.substring(0,4)){this.q[a].v(!0);null!=this.q[a].Zd&&this.q[a].Zd.v(!1);null!=
this.q[a].$d&&this.q[a].$d.v(!1);null!=this.q[a].ae&&this.q[a].ae.v(!1);null!=this.q[a].ee&&this.q[a].ee.v(!1);null!=this.q[a].fe&&this.q[a].fe.v(!1);null!=this.q[a].sd&&this.q[a].sd.v(!1);for(var c=0;c<this.q[a].item.length;c++)this.q[a].item[c].v(!1);this.q[a].ha();null!=this.q[a].Zd&&this.q[a].Zd.v(!0);null!=this.q[a].$d&&this.q[a].$d.v(!0);null!=this.q[a].ae&&this.q[a].ae.v(!0);null!=this.q[a].ee&&this.q[a].ee.v(!0);null!=this.q[a].fe&&this.q[a].fe.v(!0);null!=this.q[a].sd&&this.q[a].sd.v(!0);
for(c=0;c<this.q[a].item.length;c++)this.q[a].item[c].v(!0);this.q[a].v(!1)}this.Bm.end();this.gg=!1}}});F.ix=function(a,c){0<=gameMapInstance.K.x+(T.width-Y.width/2)+a&&A.l.fa.m.x<T.width-Y.width/2&&0>=gameMapInstance.K.x+a&&A.l.fa.m.x>Y.width/2&&(gameMapInstance.K.x+=a);0<=gameMapInstance.K.y+(T.height-Y.height/2)+c&&A.l.fa.m.y<T.height-Y.height/2&&0>=gameMapInstance.K.y+c&&A.l.fa.m.y>Y.height/2&&(gameMapInstance.K.y+=c);gameMapInstance.t(gameMapInstance.K.x,gameMapInstance.K.y)};
F.CB=function(a,c){a=parseInt(a);c=parseInt(c);!0==gameMapInstance.gg?0==offsetFromPositionScheduledX&&0==offsetFromPositionScheduledY&&(offsetFromPositionScheduledX=a,offsetFromPositionScheduledY=c,gameMapInstance.wc(F.LI)):(gameMapInstance.K.x=a>T.width-Y.width/2?-(T.width-Y.width):a<Y.width/2?0:-(a-Y.width/2),gameMapInstance.K.y=c>T.height-Y.height/2?-(T.height-Y.height):c<Y.height/2?0:-(c-Y.height/2),offsetFromPositionScheduledY=offsetFromPositionScheduledX=0,gameMapInstance.xd(F.LI),gameMapInstance.t(gameMapInstance.K.x,
gameMapInstance.K.y))};offsetFromPositionScheduledY=offsetFromPositionScheduledX=0;F.LI=function(){F.CB(offsetFromPositionScheduledX,offsetFromPositionScheduledY)};F.EB=function(){!0==gameMapInstance.gg?gameMapInstance.wc(F.EB):(gameMapInstance.xd(F.EB),gameMapInstance.K.x=-(T.width-Y.width),gameMapInstance.t(gameMapInstance.K.x,gameMapInstance.K.y))};
F.DB=function(){!0==gameMapInstance.gg?gameMapInstance.wc(F.DB):(gameMapInstance.xd(F.DB),gameMapInstance.K.x=0,gameMapInstance.t(gameMapInstance.K.x,gameMapInstance.K.y))};F.BB=function(){!0==gameMapInstance.gg?gameMapInstance.wc(F.BB):(gameMapInstance.xd(F.BB),gameMapInstance.K.y=-(T.height-Y.height),gameMapInstance.t(gameMapInstance.K.x,gameMapInstance.K.y))};
F.FB=function(){!0==gameMapInstance.gg?gameMapInstance.wc(F.FB):(gameMapInstance.xd(F.FB),gameMapInstance.K.y=0,gameMapInstance.t(gameMapInstance.K.x,gameMapInstance.K.y))};
F.create=function(){gameMapInstance||(gameMapInstance=new F,gameMapInstance.q=Da(gameMapInstance),gameMapInstance.p(gameMapInstance.q),gameMapInstance.Vm=p.mb.create(T.width,T.height),gameMapInstance.Vm.t(p.a(Math.floor(T.width/2),Math.floor(T.height/2))),gameMapInstance.p(gameMapInstance.Vm),gameMapInstance.Vm.v(!1),gameMapInstance.lC=p.F.create(),gameMapInstance.p(gameMapInstance.lC),gameMapInstance.Bm=p.mb.create(T.width,T.height),gameMapInstance.Bm.t(p.a(Math.floor(T.width/2),Math.floor(T.height/
2))),gameMapInstance.p(gameMapInstance.Bm),gameMapInstance.Bm.v(!1),gameMapInstance.kp(-15),gameMapInstance.r());return gameMapInstance};F.d=function(){return gameMapInstance};F.ks=function(){gameMapInstance.S();gameMapInstance=null};F.ys=function(){gameMapInstance||(gameMapInstance=F.create());gameMapInstance.gg=!0};F.QV=function(a){gameMapInstance.PV(a)};F.d=function(){return gameMapInstance};F.Hj=function(a,c,d,e){gameMapInstance.q[a].Hj(c,d,e);gameMapInstance.wd[a][e]={texture:c,frame:d}};
F.aK=function(){H({savemap:gameMapInstance.yj,mapdata:gameMapInstance.wd})};F.kB=function(a,c){gameMapInstance.wd[a][c]=null;gameMapInstance.q[a].kB(c)};F.Ei=function(a,c,d,e){gameMapInstance.q[a].Fi(c);d?(gameMapInstance.q[a].Ww(d,e),gameMapInstance.wd[a].info={type:c,script:{id:d,data:e?e:null}}):gameMapInstance.wd[a].info={type:c}};F.eJ=function(a){gameMapInstance.wd.mapdata.mapConnectors=a;gameMapInstance.Nk=a.up;gameMapInstance.Kk=a.down;gameMapInstance.Lk=a.left;gameMapInstance.Mk=a.right};
F.JQ=function(a,c,d){for(var e in gameMapInstance.q)"tile"==e.substring(0,4)&&(gameMapInstance.q[e].Hj(a,c,d),gameMapInstance.wd[e][d]={texture:a,frame:c})};F.pJ=function(a){for(var c in gameMapInstance.q)"tile"==c.substring(0,4)&&gameMapInstance.q[c].FV(a);gameMapInstance.gg=!0};F.A$=function(){for(var a in gameMapInstance.q)"tile"==a.substring(0,4)&&gameMapInstance.q[a].He.ga(a.substring(4));gameMapInstance.gg=!0};F.yH=function(){return null!=gameMapInstance.Nk};F.wH=function(){return null!=gameMapInstance.Kk};
F.xH=function(){return null!=gameMapInstance.Lk};F.HB=function(){return null!=gameMapInstance.Mk};F.Wd=function(){return gameMapInstance.yj};F.lH=function(){return gameMapInstance.Nk};F.jH=function(){return gameMapInstance.Kk};F.kH=function(){return gameMapInstance.Lk};F.vB=function(){return gameMapInstance.Mk};F.ew=function(a,c){c||(MapMaster=!1);A.d().v(!1);A.qQ();F.pd();gameMapInstance.yj=a;A.l.fa.fp(a);A.Lj();gameMapInstance.Yk(a)};
F.HR=function(){A.d().v(!1);F.pd();gameMapInstance.yj=gameMapInstance.Nk;A.l.fa.fp(gameMapInstance.Nk);A.Lj();gameMapInstance.Yk(gameMapInstance.Nk)};F.ER=function(){A.d().v(!1);F.pd();gameMapInstance.yj=gameMapInstance.Kk;A.l.fa.fp(gameMapInstance.Kk);A.Lj();gameMapInstance.Yk(gameMapInstance.Kk)};F.FR=function(){A.d().v(!1);F.pd();gameMapInstance.yj=gameMapInstance.Lk;A.l.fa.fp(gameMapInstance.Lk);A.Lj();gameMapInstance.Yk(gameMapInstance.Lk)};
F.GR=function(){A.d().v(!1);F.pd();gameMapInstance.yj=gameMapInstance.Mk;A.l.fa.fp(gameMapInstance.Mk);A.Lj();gameMapInstance.Yk(gameMapInstance.Mk)};F.Nw=function(a){gameMapInstance.rm=a};F.dw=function(a,c){return a>U-1||0>a?void 0:gameMapInstance.q["tile"+(a+(La-c)*U)]};F.rH=function(a){return gameMapInstance.q["tile"+a]};F.tP=function(){var a=A.d();gameMapInstance.lC.p(a);F.CB(A.l.fa.m.B,A.l.fa.m.G)};
F.pd=function(){gameMapInstance.wd={};for(var a in gameMapInstance.q)"tile"==a.substring(0,4)&&(gameMapInstance.q[a].pd(),gameMapInstance.wd[a]={});gameMapInstance.wd.mapdata={};gameMapInstance.gg=!0};var A=p.yc.extend({l:null,Qb:[],bf:[],fa:null});A.d=function(){return this.l};A.ks=function(){this.l.S();this.l=null};A.create=function(a){this.l||(this.l=new A,this.l.fa=PlayerCharacter.create(a),this.l.fa.t(960,320),this.l.p(this.l.fa));return this.l};A.nL=function(){var a=F.Wd(),c=[],d;for(d in this.l.bf)this.l.bf[d].jg==a&&c.push(this.l.bf[d]);return c};A.Ir=function(a){return this.l.bf[a]};A.MS=function(a,c,d){this.l.bf[a]&&"default"!=c&&this.l.fa.jg==d&&this.l.bf[a].eK(c)};
A.fU=function(a,c){this.l.bf[a]&&"default"!=c&&this.l.bf[a].t(p.a(c%U*32,32*Math.floor(c/U)))};A.qQ=function(){for(var a in this.l.bf)this.l.bf[a].S();this.l.bf=[]};A.sG=function(a,c,d){var e=parseInt(this.l.bf.length);this.l.bf.push(NonPlayerCharacter.create({name:a.name,Rm:{health:{vc:1,value:100,Af:200,zf:900},mana:{vc:1,value:100,Af:200,zf:99}},map:d,ts:"sprites1.png",rs:2,Hk:e}));this.l.bf[e].t(32*c.x,32*c.y);this.l.p(this.l.bf[e])};A.Y4=function(){return this.l.fa};A.Dh=function(a){return this.l.Qb[a]};
A.sP=function(a){this.l.Qb[a]=PlayerCharacter.create({name:a,Rm:{health:{vc:1,value:100,Af:200,zf:900},mana:{vc:1,value:100,Af:200,zf:99}},map:1,ts:"sprites1.png",rs:1});this.l.Qb[a].t(960,320);A.Lj();this.l.p(this.l.Qb[a]);D.yb(a+I.uc.kC)};A.JG=function(a){if(this.l.Qb[a]){this.l.Qb[a].S();this.l.Qb[a]=null;D.yb(a+I.uc.qT);for(var c=0;c<u.length;c++){var d=JSON.parse(u[c]);d.id&&d.id==a&&(u.splice(c,1),c--)}}};
A.NS=function(a,c){this.l.Qb[a]&&"default"!=c?this.l.Qb[a].eK(c):(this.l.Qb[a]=PlayerCharacter.create({name:a,Rm:{health:{vc:1,value:100,Af:200,zf:900},mana:{vc:1,value:100,Af:200,zf:99}},map:1,ts:"sprites1.png",rs:1}),this.l.Qb[a].t(960,320),this.l.Qb[a].t(p.a(c%U*32,32*Math.floor(c/U))),A.Lj(),this.l.p(this.l.Qb[a]),D.yb(a+I.uc.kC))};
A.qI=function(a,c){this.l.Qb[a]&&"default"!=c?this.l.Qb[a].t(p.a(c%U*32,32*Math.floor(c/U))):(this.l.Qb[a]=PlayerCharacter.create({name:a,Rm:{health:{vc:1,value:100,Af:200,zf:900},mana:{vc:1,value:100,Af:200,zf:99}},map:1,ts:"sprites1.png",rs:1}),this.l.Qb[a].t(p.a(c%U*32,32*Math.floor(c/U))),A.Lj(),this.l.p(this.l.Qb[a]),D.yb(a+I.uc.kC))};A.OP=function(a){this.l.Qb[a]&&this.l.Qb[a].updateStatus("AFK")};
A.Lj=function(){var a=this.l.fa.jg,c;for(c in this.l.Qb)null!=this.l.Qb[c]&&this.l.Qb[c].v(this.l.Qb[c].jg==a)};A.pd=function(){for(var a in this.l.Qb)null!=this.l.Qb[a]&&A.JG(a);this.l.fa.S();this.l.fa=null};A.NP=function(a,c){this.l.Qb[a].fp(c);this.l.Qb[a].v(this.l.fa.jg==c)};Character=p.w.extend({name:null,Rm:null,OJ:null,Q_:null,Ie:null,hg:!1,wm:null,cx:null,zi:!1,Hk:-1,status:null,jg:null,path:null,oB:"DOWN",r:function(a){this.HV(a.ts,a.rs);this.Rm=new StatsController(a.iaa,this);this.p(this.Rm);this.name=a.name;a.zi&&(this.zi=a.zi);a.map&&(this.jg=a.map);null!=a.Hk&&"undefined"!==a.Hk&&(console.log(this.Hk),this.Hk=a.Hk);this.ea(0,1);this.wm=p.V.create("","Arial",12);this.wm.ea(0.5,0);this.wm.k(255,0,0);this.wm.t(Math.floor(this.e().width/2),this.e().width+3);this.p(this.wm);
this.YJ()},w2:function(){return this.oB},fp:function(a){this.jg=a},U2:function(){return this.jg},updateStatus:function(a){this.status=a&&a!=this.status?a:null;this.YJ()},YJ:function(){null!=this.status?this.wm.ga(this.name+"-"+this.status):this.wm.ga(this.name)},getName:function(){return this.name},ff:function(a,c,d){this.jb(p.rect(32*a,128*this.OJ.id+32*c,32,32));this.cx=p.a(a,c);this.oB=d},Rg:function(){return this.cx},HV:function(a,c){this.OJ={name:a,id:c};this.Y(p.Na.d().Kb(a));this.ff(1,0)},
xf:function(){return p.a(this.m.x/32,this.m.y/32)},Dv:0.24,sW:0.24,Dk:2,uW:function(a){var c=a.position%U,d=Math.floor(a.position/U);this.t(32*c,32*d);H({changemap:a.mapTo,setTo:a.position});F.ew(a.mapTo);F.CB(32*c,32*d)},oS:function(){if(!this.hg){var a=this.xf(),a=F.dw(a.x,a.y);switch(a.cc()){case 4:this.jC(a.bw())}}},MH:function(a){if(a&&!this.hg)switch(a.cc()){case 4:this.oT(a.bw(),a);break;case 7:Ja.GJ(a.bw())}},nS:function(){if(!this.hg){var a=this.xf();switch(this.oB){case "RIGHT":a.x+=1;break;
case "LEFT":a.x-=1;break;case "UP":a.y+=1;break;case "DOWN":a.y-=1}if(a=F.dw(a.x,a.y))switch(a.cc()){case 7:Ja.GJ(a.bw())}}},Bs:function(a){this.Dv+=a;a=this.m;var c=this.Rg();this.Dv>this.sW&&(this.Dv=0,this.Ie.x<a.x?this.ff((c.x+1)%3,1,"LEFT"):this.Ie.x>a.x?this.ff((c.x+1)%3,2,"RIGHT"):this.Ie.y<a.y?this.ff((c.x+1)%3,0,"DOWN"):this.Ie.y>a.y&&this.ff((c.x+1)%3,3,"UP"));this.Ie.x<a.x?(this.Bb(a.x-this.Dk),this.zi&&F.ix(+this.Dk,0)):this.Ie.x>a.x?(this.Bb(a.x+this.Dk),this.zi&&F.ix(-this.Dk,0)):this.Ie.y<
a.y?(this.Ij(a.y-this.Dk),this.zi&&F.ix(0,this.Dk)):this.Ie.y>a.y&&(this.Ij(a.y+this.Dk),this.zi&&F.ix(0,-this.Dk));a.y==this.Ie.y&&a.x==this.Ie.x&&(this.hg=!1,this.xd(this.Bs),null!=this.path&&this.xG())},pp:function(a,c){if(!1!=this.pa){var d=F.dw(a,c),e=this.cx,f=this.xf();f.x>a?this.ff(e.x,1,"LEFT"):f.x<a&&this.ff(e.x,2,"RIGHT");f.y>c?this.ff(e.x,0,"DOWN"):f.y<c&&this.ff(e.x,3,"UP");if(!d)this.zi&&null==Mapeditor&&(f.x<a&&F.HB()?(this.t(0,32*c),H({changemap:parseInt(F.vB()),setTo:0+c*U}),F.GR(),
F.DB()):f.x>a&&F.xH()&&(this.t(32*(U-1),32*c),H({changemap:parseInt(F.kH()),setTo:U-1+c*U}),F.FR(),F.EB()),f.y<c&&F.yH()?(this.t(32*a,32),H({changemap:parseInt(F.lH()),setTo:a+1*U}),F.HR(),F.FB()):f.y>c&&F.wH()&&(H({changemap:parseInt(F.jH()),setTo:a+La*U}),F.ER(),this.t(32*a,32*La),F.BB()));else if(!1==this.hg&&d){switch(d.cc()){case 1:case 7:return;case 3:this.uW(d.Qg());return}this.Ie=p.a(32*a,32*c);this.hg=!0;this.wc(this.Bs);this.Bs(0);this.zi?H({moveTo:this.Ie.x/32+this.Ie.y/32*U}):-1<this.Hk&&
H({npcID:this.Hk+"",mapnumber:this.jg,moveNPC:this.Ie.x/32+this.Ie.y/32*U})}}},xG:function(){0==this.path.length?this.path=null:(this.path.splice(0,1),0==this.path.length?this.path=null:this.pp(this.path[0].x,this.path[0].y))},TC:function(a){if(null==this.path||0!=a.length)this.path=a,this.xG()},eK:function(a){if(!1!=this.pa){var c=a%U;a=Math.floor(a/U);if(!1==this.hg){var d=this.cx,e=this.xf();4<Math.abs(p.eC(p.a(c,a),e))?this.t(p.a(32*c,32*a)):(e.x>c?this.ff(d.x,1,"LEFT"):e.x<c?this.ff(d.x,2,"RIGHT"):
e.y>a?this.ff(d.x,0,"DOWN"):e.y<a&&this.ff(d.x,3,"UP"),this.Ie=p.a(32*c,32*a),this.hg=!0,this.wc(this.Bs),this.Bs(0))}}}});
PlayerCharacter=Character.extend({items:null,r:function(a){this._super(a);this.items={stored:[],equipped:{}}},xs:function(a,c){for(var d=0;d<this.items.stored.length;d++)this.items.stored[d].name==a&&(this.items.stored[d]=c)},jC:function(a){var c=this.xf(),d=F.dw(c.x,c.y);if(!0==a.stackable)for(var e=0;40>e;e++)if(this.items.stored[e]&&this.items.stored[e].name==a.name){Inventory&&(this.items.stored[e].amount+=a.amount,Inventory.Qm(e,this.items.stored[e].amount));D.yb(I.uc.ww+a.name);d.cw().temp?
H({pickupitem:V(c.x,c.y),mapnumber:F.Wd(),temp:!0}):H({pickupitem:V(c.x,c.y),mapnumber:F.Wd()});return}for(var f=!1,e=0;40>e;e++)if(null==this.items.stored[e]){this.items.stored[e]=Ca(a);Inventory&&Inventory.Qm(e,this.items.stored[e].amount);D.yb(I.uc.ww+a.name);d.cw().temp?H({pickupitem:V(c.x,c.y),mapnumber:F.Wd(),temp:!0}):H({pickupitem:V(c.x,c.y),mapnumber:F.Wd()});f=!0;break}!1==f&&D.yb(I.uc.NH)},oT:function(a,c){var d=p.a(c.m.B/32,c.m.G/32);if(!0==a.stackable)for(var e=0;40>e;e++)if(this.items.stored[e]&&
this.items.stored[e].name==a.name){Inventory&&(this.items.stored[e].amount+=a.amount,Inventory.Qm(e,this.items.stored[e].amount));D.yb(I.uc.ww+a.name);c.cw().temp?H({pickupitem:V(d.x,d.y),mapnumber:F.Wd(),temp:!0}):H({pickupitem:V(d.x,d.y),mapnumber:F.Wd()});return}for(var f=!1,e=0;40>e;e++)if(null==this.items.stored[e]){this.items.stored[e]=Ca(a);Inventory&&Inventory.Qm(e,this.items.stored[e].amount);D.yb(I.uc.ww+a.name);c.cw().temp?H({pickupitem:V(d.x,d.y),mapnumber:F.Wd(),temp:!0}):H({pickupitem:V(d.x,
d.y),mapnumber:F.Wd()});f=!0;break}!1==f&&D.yb(I.uc.NH)},SG:function(a,c){var d=this.xf();D.yb(I.uc.CQ+this.items[c][a].name);H({droppeditem:this.items[c][a],mapnumber:F.Wd(),index:V(d.x,d.y)});!0==this.items[c][a].stackable&&1<this.items[c][a].amount&&Inventory.Qm(a,0);this.items[c][a]=null;Inventory&&Inventory.gf();Equipment&&Equipment.gf()},qW:function(a){switch(this.items.stored[a].itemType){case "book":Ja.TV(this.items.stored[a]);break;case "wearable":this.IQ(a)}},IQ:function(a){var c=null;this.items.equipped[this.items.stored[a].subType]&&
(c=Ca(this.items.equipped[this.items.stored[a].subType]));this.items.equipped[this.items.stored[a].subType]=Ca(this.items.stored[a]);this.items.stored[a]=c;Inventory&&Inventory.gf();Equipment&&Equipment.gf()},pQ:function(a){for(var c=0;40>c;c++)if(null==this.items.stored[c]){this.items.stored[c]=Ca(this.items.equipped[a]);this.items.equipped[a]=null;Inventory&&Inventory.gf();Equipment&&Equipment.gf();return}D.yb("No space in inventory to dequip this item.")},Hr:function(){return this.items.stored},
tB:function(){return this.items.equipped}});PlayerCharacter.create=function(a){var c=new PlayerCharacter;c.r(a);return c};NonPlayerCharacter=Character.extend({K6:null,xw:!1,zV:function(a,c){this.xw=!0;this.fd(function(){this.pp(a.x,a.y);this.xw=!1},c)},Z5:function(){return this.xw}});NonPlayerCharacter.create=function(a){var c=new NonPlayerCharacter;c.r(a);return c};var Ma=p.yc.extend({BC:null,b:null,ctor:function(){this._super()},fK:function(){},Pm:function(){},Jh:function(){},Ua:function(){this.b&&this.b.S();this.b=Da(this);this.p(this.b)},tb:function(){},r:function(){this.QC(1);this.Ow(!0);this.Rb(!0);y.Nm(this);this._super()},cC:function(){p.log("Override onKeyDown in scene extended class to use keyboard")},Qk:function(){p.log("Override onKeyUp in scene extended class to use keyboard")},cV:function(a){this.BC=a},qd:function(){return this.BC}});DropDownList=Ma.extend({list:null,gQ:null,selected:null,b:null,H:null,IG:null,sI:null,ctor:function(){this._super();this.list=[];this.gQ=0},r:function(a,c,d,e){this._super();a&&(this.H=a,this.IG=c,d&&(this.list=d),e&&this.t(e),this.sI=y.OQ(),y.Nm(this),this.kp(-1001),this.Ow(!0))},zb:function(a){a=this.b.control_menu.Xa(a.Q);for(var c=0;c<this.list.length;c++)p.Ab(p.rect(this.b.control_menu[c+""].m.B,this.b.control_menu[c+""].m.G,this.b.control_menu[c+""].e().width,this.b.control_menu[c+""].e().height),
a)&&this.IG(c);this.AT();return!0},AT:function(){y.Nm(this.sI);this.S();Fa()},gU:function(){this.Ij(this.m.G-24*this.list.length);for(var a=0,c=0;c<this.list.length;c++)this.b.control_menu[c+""].content.e().width>a&&(a=this.b.control_menu[c+""].content.e().width);for(c=0;c<this.list.length;c++)this.b.control_menu[c+""].AG(a+8);this.b.control_menu.AG(a+8)},rd:function(){for(var a={},c=0;c<this.list.length;c++)a[c+""]={position:p.a(0,24*(this.list.length-1)-24*c),size:p.size(96,24),c:p.a(0,0),u:p.J(200,
200,200,200),children:{content:{label:this.list[c],fontSize:20,color:p.i(0,0,0),c:p.a(0,0.5),position:p.a(4,12)}}};return{panels:{children:{control_menu:{position:p.a(0,0),u:p.J(200,200,200,0),size:p.size(96,48),children:a}}}}},Jh:function(a){a=this.b.control_menu.Xa(a.Q);for(var c=0;c<this.list.length;c++)this.b.control_menu[c+""].k(p.J(200,200,200,200)),p.Ab(p.rect(this.b.control_menu[c+""].m.B,this.b.control_menu[c+""].m.G,this.b.control_menu[c+""].e().width,this.b.control_menu[c+""].e().height),
a)&&this.b.control_menu[c+""].k(p.J(255,0,0,255))}});DropDownList.wr=function(a,c,d,e){var f=new DropDownList;f.r(a,c,d,e);f.b=Da(f.rd(),!0);f.p(f.b);f.gU();return f};Popup=Ma.extend({Ef:null,Eh:!1,r:function(){this.BC=this.qd();this._super();y.Nm(this);this.RV();this.kp(-50)},c1:function(){this.S()},zb:function(a){var c=a.Q;y.Nm(this);c=this.b.control_panel.Xa(c);if(p.Ab(p.rect(this.b.control_panel.exitBtn.m.B,this.b.control_panel.exitBtn.m.G,this.b.control_panel.exitBtn.e().width,this.b.control_panel.exitBtn.e().height),c)){var d=this;this.$.fd(function(){!1==d.Eh&&d.tb();d.S();d=null});return!0}return p.Ab(p.rect(this.b.m.x,this.b.m.y+this.b.control_panel.m.y,
this.b.control_panel.e().width,this.b.control_panel.e().height),a.Q)?(this.Ef=this.b.yh(a),!0):!1},Vc:function(a){return this.Ef?(a=a.Q,this.b.t(p.a(a.x-this.Ef.x,a.y-this.Ef.y)),!0):!1},S:function(){x.uV(this.qd(),this.b.m);this._super()},RV:function(){p.log("Ovveride setupPopup")},qd:function(){p.log("No id given... using default 'Popup'");return"Popup"},cf:function(){},Ua:function(){this._super();var a=x.jR();if("null"!=a&&null!=a&&(a=JSON.parse(a)[this.qd()])){a=p.a(a.x,a.y);if(a.x>Y.width-10||
a.y>Y.height)a=p.a(8,100);this.b.t(a)}}});Book=null;
BookPanel=Popup.extend({data:null,De:null,qd:function(){return"Book"},rd:function(){return{panels:{position:p.a(100,20),children:{main_panel:{c:p.a(0,0),position:p.a(0,0),size:p.size(514,313),Ba:"GUI/book.png",children:{pageBackbtn:{position:p.a(2,1),size:p.size(36,36),Ba:"GUI/btnLeft.png",c:p.a(0,0)},pageForwardbtn:{position:p.a(475,1),size:p.size(36,36),Ba:"GUI/btnRight.png",c:p.a(0,0)},leftPage:{label:0<this.De.length?this.De[0]:this.De,c:p.a(0,1),position:p.a(4,308),color:p.i(0,0,0)},rightPage:{label:0<
this.De.length?this.De[1]:"",c:p.a(0,1),position:p.a(260,308),color:p.i(0,0,0)}}},control_panel:{c:p.a(0,0),position:p.a(0,313),size:p.size(514,32),children:{header:{label:this.data.name,fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(490,6),size:p.size(20,20),c:p.a(0,0),Ba:"GUI/close.png"}}}}}}},r:function(a){this._super();this.data=a;this.De=[];for(a=a.additionalData.Contents;a;)if(470>a.length){this.De.push(a);break}else this.De.push(a.substr(0,470)+"..."),a=a.substr(470);this.kT=
Math.floor(this.De.length/2)-1;this.si=0},Ua:function(){this._super();this.b.main_panel.leftPage.FC(p.size(248,0));this.b.main_panel.rightPage.FC(p.size(248,0));this.b.main_panel.pageBackbtn.v(!1);2>this.De.length&&this.b.main_panel.pageForwardbtn.v(!1)},IR:function(){this.si++;this.b.main_panel.pageBackbtn.v(!0);this.si==this.kT&&this.b.main_panel.pageForwardbtn.v(!1);this.b.main_panel.leftPage.ga(this.De[2*this.si]);this.De[2*this.si+1]?this.b.main_panel.rightPage.ga(this.De[2*this.si+1]):this.b.main_panel.rightPage.ga("")},
JR:function(){this.si--;this.b.main_panel.pageForwardbtn.v(!0);0==this.si&&this.b.main_panel.pageBackbtn.v(!1);this.b.main_panel.leftPage.ga(this.De[2*this.si]);this.De[2*this.si+1]&&this.b.main_panel.rightPage.ga(this.De[2*this.si+1])},zb:function(a){if(this._super(a))return!0;this.Ef=null;a=this.b.main_panel.Xa(a.Q);if(S(this.b.main_panel.pageForwardbtn,a))return this.IR(),!0;if(S(this.b.main_panel.pageBackbtn,a))return this.JR(),!0}});Equipment=null;
EquipmentPanel=Popup.extend({qd:function(){return"Equipment"},rd:function(){var a={};a.head={Ba:"GUI/defaultitem.png",position:p.a(88,162),size:p.size(32,32),c:p.a(0,1)};a.legs={Ba:"GUI/defaultitem.png",position:p.a(88,82),size:p.size(32,32),c:p.a(0,1)};a.feet={Ba:"GUI/defaultitem.png",position:p.a(88,40),size:p.size(32,32),c:p.a(0,1)};a.body={Ba:"GUI/defaultitem.png",position:p.a(88,122),size:p.size(32,32),c:p.a(0,1)};a.larm={Ba:"GUI/defaultitem.png",position:p.a(48,122),size:p.size(32,32),c:p.a(0,
1)};a.rarm={Ba:"GUI/defaultitem.png",position:p.a(128,122),size:p.size(32,32),c:p.a(0,1)};a.mod={Ba:"GUI/defaultitem.png",position:p.a(8,162),size:p.size(32,32),c:p.a(0,1)};return{panels:{position:p.a(100,300),children:{main_panel:{c:p.a(0,0),size:p.size(168,168),Ba:"GUI/equipment.png",children:a},control_panel:{c:p.a(0,0),position:p.a(0,168),size:p.size(168,32),children:{header:{label:"Equipment",fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(144,6),size:p.size(20,20),c:p.a(0,
0),Ba:"GUI/close.png"}}},item_name:{position:p.a(0,0),u:p.J(200,200,200,200),size:p.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:p.i(0,0,0),c:p.a(0.5,0.5),position:p.a(32,8)}}}}}}},gf:function(){var a=A.l.fa.tB();this.b.main_panel.head.Y(p.Na.d().Kb("GUI/defaultitem.png"));this.b.main_panel.body.Y(p.Na.d().Kb("GUI/defaultitem.png"));this.b.main_panel.legs.Y(p.Na.d().Kb("GUI/defaultitem.png"));this.b.main_panel.feet.Y(p.Na.d().Kb("GUI/defaultitem.png"));this.b.main_panel.larm.Y(p.Na.d().Kb("GUI/defaultitem.png"));
this.b.main_panel.rarm.Y(p.Na.d().Kb("GUI/defaultitem.png"));this.b.main_panel.mod.Y(p.Na.d().Kb("GUI/defaultitem.png"));for(var c in a)if(a[c]){for(var d in K)if(K[d].name==a[c].sprite.texture)var e=K[d].texture;this.b.main_panel[a[c].subType].ea(0,1);this.b.main_panel[a[c].subType].Y(e);this.b.main_panel[a[c].subType].jb(p.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,32,32))}},XB:function(a){switch(a){case 0:A.l.fa.pQ(this.H.So);break;case 1:A.l.fa.SG(this.H.So,"equipped")}},zb:function(a){if(this._super(a))return!0;
this.Ef=null;var c=this.b.main_panel.Xa(a.Q),d=A.l.fa.tB(),e;for(e in d)if(d[e]&&S(this.b.main_panel[d[e].subType],p.a(c.x,c.y+32)))return this.So=e,this.b.item_name.v(!1),this.p(DropDownList.wr(this,this.XB,["Unequip","Drop"],a.Q)),!0},Jh:function(a){a=this.b.main_panel.Xa(a.Q);this.b.item_name.v(!1);var c=A.l.fa.tB(),d;for(d in c)if(c[d]&&S(this.b.main_panel[c[d].subType],p.a(a.x,a.y+t32)))return this.b.item_name.content.ga(c[d].name),this.b.item_name.v(!0),this.b.item_name.ba(this.b.item_name.content.e()),
this.b.item_name.content.Bb(this.b.item_name.content.e().width/2),this.b.item_name.t(p.a(this.b.main_panel[c[d].subType].m.B-this.b.item_name.content.e().width/2+16,this.b.main_panel[c[d].subType].m.G)),!0},Ua:function(){this._super();this.gf()}});Inventory=null;
InventoryPanel=Popup.extend({So:null,qd:function(){return"Inventory"},rd:function(){for(var a={},c=0;5>c;c++)for(var d=0;8>d;d++)a[5*d+c+""]={size:p.size(32,32),position:p.a(40*c+8,40*(7-d)+40),Ba:"GUI/defaultitem.png",c:p.a(0,1),children:{stacklabelbg:{position:p.a(1,1),size:p.size(10,6),c:p.a(0,0),u:p.J(255,255,255,200),children:{stacklabel:{label:"",fontSize:10,color:p.i(0,0,0),c:p.a(0,0),position:p.a(0,0)}}}}};return{panels:{position:p.a(300,200),children:{main_panel:{c:p.a(0,0),Ba:"GUI/inventory.png",
size:p.size(208,328),children:a},control_panel:{c:p.a(0,0),position:p.a(0,328),size:p.size(208,32),children:{header:{label:"Inventory",fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(184,6),size:p.size(20,20),c:p.a(0,0),Ba:"GUI/close.png"}}},item_name:{position:p.a(0,0),u:p.J(200,200,200,200),size:p.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:p.i(0,0,0),c:p.a(0.5,0.5),position:p.a(32,8)}}}}}}},Qm:function(a,c){this.b.main_panel[a+""].stacklabelbg.v(!1);
1<c&&(this.b.main_panel[a+""].stacklabelbg.v(!0),this.b.main_panel[a+""].stacklabelbg.stacklabel.ga(c),this.b.main_panel[a+""].stacklabelbg.ba(this.b.main_panel[a+""].stacklabelbg.stacklabel.e()))},gf:function(){for(var a=A.l.fa.Hr(),c=0;40>c;c++)if(a[c]){for(var d in K)if(K[d].name==a[c].sprite.texture)var e=K[d].texture;this.b.main_panel[c+""].ea(0,1);this.b.main_panel[c+""].Y(e);this.b.main_panel[c+""].jb(p.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,32,32));this.Qm(c,a[c].amount)}else this.b.main_panel[c+
""].Y(p.Na.d().Kb("GUI/defaultitem.png")),this.Qm(c,0)},Ua:function(){this._super();this.gf()},XB:function(a){switch(a){case 0:A.l.fa.qW(this.H.So);break;case 1:A.l.fa.SG(this.H.So,"stored")}},zb:function(a){if(this._super(a))return!0;this.Ef=null;for(var c=this.b.main_panel.Xa(a.Q),d=0;40>d;d++)if(A.l.fa.Hr()[d]&&S(this.b.main_panel[d+""],p.a(c.x,c.y+32))){c="Use";switch(A.l.fa.Hr()[d].itemType){case "wearable":c="Equip";break;case "consumable":c="Consume";break;case "book":c="Read"}this.So=d;this.b.item_name.v(!1);
this.p(DropDownList.wr(this,this.XB,[c,"Drop"],a.Q));return!0}},Jh:function(a){a=this.b.main_panel.Xa(a.Q);for(var c=0;40>c;c++)if(A.l.fa.Hr()[c]&&S(this.b.main_panel[c+""],p.a(a.x,a.y+32)))return this.b.item_name.content.ga(A.l.fa.Hr()[c].name),this.b.item_name.v(!0),this.b.item_name.ba(this.b.item_name.content.e()),this.b.item_name.content.Bb(this.b.item_name.content.e().width/2),this.b.item_name.t(p.a(this.b.main_panel[c+""].m.B-this.b.item_name.content.e().width/2+16,this.b.main_panel[c+""].m.G)),
!0}});Sign=null;
SignPanel=Popup.extend({data:null,qd:function(){return"Sign"},rd:function(){return{panels:{position:p.a(100,300),children:{control_panel:{c:p.a(0,0),size:p.size(128,96),Ba:"GUI/signpost.png",children:{content:{label:this.data.label,fontSize:12,color:p.i(255,255,255),c:p.a(0,1),position:p.a(4,94)},exitBtn:{position:p.a(100,6),size:p.size(20,20),c:p.a(0,0),Ba:"GUI/close.png"}}}}}}},r:function(a){this._super();this.data=a},Ua:function(){this._super();this.b.control_panel.content.FC(p.size(120,0))}});Skills=null;
SkillsPanel=Popup.extend({qd:function(){return"Skills"},rd:function(){for(var a={},c=ObjectLists.Ko(),d=0;d<c.length;d++)a[d+""]={c:p.a(0,0),position:p.a(0,40*c.length-40*(d+1)+2),children:{icon:{position:p.a(4,2),mw:!0,c:p.a(0,0)},name:{position:p.a(46,18),size:p.size(120,32),label:c[d].name,fontSize:16,color:p.i(255,255,255),c:p.a(0,0.5)},level:{position:p.a(210,18),size:p.size(86,32),c:p.a(0.5,0.5),label:"Level",fontSize:16,color:p.i(255,255,255)}}};return{panels:{position:p.a(100,300),children:{main_panel:{c:p.a(0,
0),size:p.size(256,40*c.length),Ba:"GUI/skills.png",children:a},control_panel:{c:p.a(0,0),position:p.a(0,40*c.length),size:p.size(256,32),children:{header:{label:"Skills",fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(232,6),size:p.size(20,20),c:p.a(0,0),Ba:"GUI/close.png"}}},item_name:{position:p.a(0,0),u:p.J(200,200,200,200),size:p.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:p.i(0,0,0),c:p.a(0.5,0.5),position:p.a(32,8)}}},control_menu:{position:p.a(0,
0),u:p.J(200,200,200,200),size:p.size(96,48),visible:!1,children:{dropbtn:{position:p.a(0,0),size:p.size(96,24),c:p.a(0,0),u:p.J(200,200,200,200),children:{content:{label:"Drop",fontSize:20,color:p.i(0,0,0),c:p.a(0,0.5),position:p.a(4,12)}}},unequipbtn:{position:p.a(0,24),size:p.size(96,24),c:p.a(0,0),u:p.J(200,200,200,200),children:{content:{label:"Unequip",fontSize:20,color:p.i(0,0,0),c:p.a(0,0.5),position:p.a(4,12)}}}}}}}}},gf:function(){console.log("Updating tile grid");for(var a=ObjectLists.Ko(),
c=0;c<a.length;c++)this.b.main_panel[c+""].icon.Y(null);for(c=0;c<a.length;c++)if(a[c]){for(var d in K)if(K[d].name==a[c].sprite.texture)var e=K[d].texture;this.b.main_panel[c+""].icon.Y(e);this.b.main_panel[c+""].icon.jb(p.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,32,32))}},Ua:function(){this._super();this.gf()}});
var va=p.yc.extend({Ev:[],UJ:function(){var a=ObjectLists.Ko(),c;for(c in this.Ev)this.Ev[c].S();this.Ev=[];var d=0;for(c=a.length-1;0<=c;c--)if(null!=a[c].healthbar&&""!=a[c].healthbar){var e=this.fQ(a[c].name,a[c].healthbar,d);this.p(e);this.Ev.push(e);d++}this.t(p.a(0,Y.height-32*d))},fQ:function(a,c,d){var e=255;c=c.replace("#","");8==c.length&&(e=c.substr(6,8));e=p.Eb.create(p.J(parseInt(c.substring(0,2),16),parseInt(c.substring(2,4),16),parseInt(c.substring(4,6),16),parseInt(e,16)),300,23);
e.ZA=p.w.Hc(p.Na.d().Kb("GUI/healthbar.png"));e.t(10,32*d- -5*d-10);e.ea(p.a(0,0));e.ZA.t(-5,-4);e.ZA.ea(p.a(0,0));e.p(e.ZA);a=p.V.create(a,"Arial",16);a.t(10,11.5);a.ea(p.a(0,0.5));e.p(a);return e}});SkillBarsInstance=null;va.create=function(){null==SkillBarsInstance&&(SkillBarsInstance=new va,SkillBarsInstance.UJ());return SkillBarsInstance};va.update=function(){SkillBarsInstance.UJ()};Itemeditor=null;
ItemEditor=Popup.extend({Hb:K[0].name,N:0,rd:function(){return{panels:{position:p.a(300,10),children:{main_panel:{c:p.a(0,0),position:p.a(0,0),size:p.size(420,396),u:p.J(0,0,100,120),children:{tab1:{children:{tiles:{c:p.a(0,1),position:p.a(16,320),Ba:K[0].name},textureleftbtn:{position:p.a(208,340),size:p.size(16,32),u:P,c:p.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.i(0,0,0)}}},texturerightbtn:{position:p.a(320,340),size:p.size(16,32),u:P,c:p.a(0,
0),children:{text:{label:"\x3e\x3e",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.i(0,0,0)}}},textureName:{position:p.a(224,340),size:p.size(96,32),u:p.J(255,255,255,170),c:p.a(0,0),children:{text:{label:K[0].name,fontSize:12,c:p.a(0.5,0.5),position:p.a(48,16),color:p.i(0,0,0)}}},leftbtn:{position:p.a(0,64),size:p.size(16,252),u:p.J(0,0,255,255),c:p.a(0,0),children:{text:{label:"\x3c",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,160),color:p.i(255,255,255)}}},rightbtn:{position:p.a(336,64),size:p.size(16,
252),u:p.J(0,0,255,255),c:p.a(0,0),children:{text:{label:"\x3e",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,160),color:p.i(255,255,255)}}},upbtn:{position:p.a(16,320),size:p.size(320,16),u:p.J(0,0,255,255),c:p.a(0,0),children:{text:{label:"^",fontSize:12,c:p.a(0.5,0.5),position:p.a(160,8),color:p.i(255,255,255)}}},downbtn:{position:p.a(16,48),size:p.size(320,16),u:p.J(0,0,255,255),c:p.a(0,0),children:{text:{label:"v",fontSize:12,c:p.a(0.5,0.5),position:p.a(160,8),color:p.i(255,255,255)}}},highlightnode:{c:p.a(0,
0),position:p.a(0,0),size:p.size(32,32),u:p.J(255,100,100,255)},selectednode:{c:p.a(0,0),position:p.a(0,0),size:p.size(32,32),u:p.J(100,255,100,255)}}},tab2:{children:{itemdetailsback:{position:p.a(144,0),size:p.size(250,366),u:p.J(0,0,255,100),c:p.a(0,0)},name_text:{label:"Item Name",fontSize:10,c:p.a(0,0),position:p.a(8,344)},name_entry:{size:p.size(136,32),position:p.a(4,312)},resourcetab:{visible:!1},consumabletab:{visible:!1},booktab:{visible:!1,children:{book_text:{label:"Book Contents",fontSize:10,
c:p.a(0,0),position:p.a(152,348)},book_entry:{size:p.size(240,340),position:p.a(-1E5,8)}}},wearabletab:{visible:!1,children:{head:{position:p.a(250,230),size:p.size(64,26),u:Q,c:p.a(0,0),children:{text:{label:"Head",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,13),color:p.i(0,0,0)}}},body:{position:p.a(250,200),size:p.size(64,26),u:Q,c:p.a(0,0),children:{text:{label:"Body",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,13),color:p.i(0,0,0)}}},legs:{position:p.a(250,170),size:p.size(64,26),u:Q,c:p.a(0,0),
children:{text:{label:"Legs",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,13),color:p.i(0,0,0)}}},feet:{position:p.a(250,140),size:p.size(64,26),u:Q,c:p.a(0,0),children:{text:{label:"Feet",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,13),color:p.i(0,0,0)}}},larm:{position:p.a(180,200),size:p.size(64,26),u:Q,c:p.a(0,0),children:{text:{label:"L Arm",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,13),color:p.i(0,0,0)}}},rarm:{position:p.a(320,200),size:p.size(64,26),u:Q,c:p.a(0,0),children:{text:{label:"R Arm",
fontSize:12,c:p.a(0.5,0.5),position:p.a(32,13),color:p.i(0,0,0)}}},mod:{position:p.a(150,230),size:p.size(64,26),u:Q,c:p.a(0,0),children:{text:{label:"Mod",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,13),color:p.i(0,0,0)}}}}},resourcebtn:{position:p.a(8,248),size:p.size(128,26),u:P,c:p.a(0,0),children:{text:{label:"Resource",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.i(0,0,0)}}},consumablebtn:{position:p.a(8,218),size:p.size(128,26),u:P,c:p.a(0,0),children:{text:{label:"Consumable",fontSize:12,
c:p.a(0.5,0.5),position:p.a(64,13),color:p.i(0,0,0)}}},bookbtn:{position:p.a(8,188),size:p.size(128,26),u:P,c:p.a(0,0),children:{text:{label:"Book",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.i(0,0,0)}}},wearablebtn:{position:p.a(8,158),size:p.size(128,26),u:P,c:p.a(0,0),children:{text:{label:"wearable",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.i(0,0,0)}}},tile:{c:p.a(0,1),position:p.a(55,130),Ba:K[0].name},stackbtn:{position:p.a(8,48),size:p.size(128,26),u:R,c:p.a(0,0),children:{text:{label:"NOT STACKABLE",
fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.i(0,0,0)}}}}},tab3:{children:{saveBack:{position:p.a(0,78),size:p.size(200,60),u:p.J(0,255,0,100),c:p.a(0,0)},deleteback:{position:p.a(0,138),size:p.size(200,60),u:p.J(255,0,0,100),c:p.a(0,0)},mapnumsback:{position:p.a(0,198),size:p.size(200,162),u:p.J(0,0,0,170),c:p.a(0,0)}}},tab1Clickable:{position:p.a(0,376),size:p.size(60,20),u:P,c:p.a(0,0),children:{text:{label:"Sprite",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.i(0,0,0)}}},tab2Clickable:{position:p.a(64,
376),size:p.size(60,20),u:P,c:p.a(0,0),children:{text:{label:"Details",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.i(0,0,0)}}},tab3Clickable:{position:p.a(128,376),size:p.size(60,20),u:P,c:p.a(0,0),children:{text:{label:"Modifier",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.i(0,0,0)}}},okbtn:{position:p.a(76,8),size:p.size(60,32),u:P,c:p.a(0,0),children:{text:{label:"OK",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.i(0,0,0)}}},cancelbtn:{position:p.a(8,8),size:p.size(60,
32),u:P,c:p.a(0,0),children:{text:{label:"Cancel",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.i(0,0,0)}}}}},control_panel:{c:p.a(0,0),position:p.a(0,396),size:p.size(420,32),u:p.J(255,0,0,200),children:{header:{label:"Item Editor",fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(391,3),size:p.size(26,26),c:p.a(0,0),u:p.J(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.i(0,0,0),c:p.a(0.5,0.5),position:p.a(13,13)}}}}}}}}},qd:function(){return"itemEditor"},
ib:null,Cc:null,Lb:0,H:null,data:null,r:function(a){this._super();this.data={itemType:"resource",subType:"",sprite:{texture:K[0].name,position:{x:0,y:0}},additionalData:{},stackable:!1,name:""};this.Hb=K[0].name;this.N=0;this.Cc=this.ib=null;this.Lb=0;this.H=null;this.K=p.a(0,0);this.Cc=[null,352,400,200];this.H=a.H;a&&a.data&&(this.data=a.data)},gs:function(a){H({saveitems:a+"",itemdata:this.data})},zr:function(a,c){H({saveitemswhole:c})},Ua:function(){this._super();this.b.main_panel.tab1.highlightnode.X(0);
this.b.main_panel.tab1.selectednode.X(127);for(var a in K)K[a].name==this.data.sprite.texture&&(this.N=a,this.Hb=K[a].name);this.b.main_panel.tab1.textureName.text.ga(this.Hb);this.b.main_panel.tab1.tiles.Y(K[this.N].texture);for(a=this.data.sprite.position.x;10<=a;)a--,this.K.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.K.y++;a=p.a(32*(this.data.sprite.position.x-this.K.x),32*(this.data.sprite.position.y-this.K.y));this.b.main_panel.tab1.selectednode.t(this.b.main_panel.tab1.tiles.m.x+a.x,
this.b.main_panel.tab1.tiles.m.y-(a.y+32));this.b.main_panel.tab2.tile.Y(K[this.N].texture);this.b.main_panel.tab2.tile.jb(p.rect(Math.floor(32*this.data.sprite.position.x),Math.floor(32*this.data.sprite.position.y),32,32));this.ib=new Z(this.b.main_panel.tab2.name_entry,p.size(this.b.main_panel.tab2.name_entry.e().width,this.b.main_panel.tab2.name_entry.e().height),p.a(0,this.b.main_panel.tab2.name_entry.e().height),this.data.name?this.data.name:"",p.J(100,100,100),p.i(255,255,255));this.ib.Fe(!0);
this.bB=new Z(this.b.main_panel.tab2.booktab.book_entry,p.size(this.b.main_panel.tab2.booktab.book_entry.e().width,this.b.main_panel.tab2.booktab.book_entry.e().height),p.a(0,this.b.main_panel.tab2.booktab.book_entry.e().height),this.data.additionalData.Contents?this.data.additionalData.Contents:"",p.J(100,100,100),p.i(255,255,255),!0);this.bB.Fe(!0);this.bB.UU(!0);this.Ke(this.data.itemType);""!=this.data.subType&&this.Di(this.data.subType);this.b.main_panel.tab2.stackbtn.k(R);this.b.main_panel.tab2.stackbtn.text.ga("NOT STACKABLE");
!0==this.data.stackable&&(this.b.main_panel.tab2.stackbtn.k(Q),this.b.main_panel.tab2.stackbtn.text.ga("IS STACKABLE"));this.ud(1);this.Za()},rJ:function(){},tb:function(a){this._super();if(this.H){var c=this.H;!0!=a&&this.H.fd(function(){c.Xe(null)})}},Jh:function(a){a=a.Q;if(1==this.Lb&&(this.b.main_panel.tab1.highlightnode.X(0),a=this.b.main_panel.tab1.tiles.Xa(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.e().width&&a.y<=this.b.main_panel.tab1.tiles.e().height))return a.x=a.x-a.x%32+16,
a.y=a.y-a.y%32+64,this.b.main_panel.tab1.highlightnode.X(127),this.b.main_panel.tab1.highlightnode.t(a),!0},ud:function(a){a!=this.Lb&&(this.b.main_panel.ba(this.Cc[a],this.b.main_panel.e().height),this.b.control_panel.ba(this.Cc[a],this.b.control_panel.e().height),this.b.main_panel.tab2.name_entry.Bb(this.b.main_panel.tab2.name_entry.m.B-1E3),this.Lb=a,this.b.main_panel.tab1.v(!1),this.b.main_panel.tab2.v(!1),this.b.main_panel.tab3.v(!1),this.b.main_panel.tab1Clickable.k(P),this.b.main_panel.tab2Clickable.k(P),
this.b.main_panel.tab3Clickable.k(P),this.b.main_panel["tab"+a].v(!0),this.b.main_panel["tab"+a+"Clickable"].k(p.J(255,255,0,255)),2==a&&(this.b.main_panel.tab2.name_entry.Bb(4),"book"==this.data.itemType?(this.b.main_panel.tab2.booktab.book_entry.Bb(150),this.b.main_panel.tab2.booktab.book_text.v(!0)):(this.b.main_panel.tab2.booktab.book_entry.Bb(-1E9),this.b.main_panel.tab2.booktab.book_text.v(!1))),this.b.control_panel.exitBtn.Bb(this.Cc[a]-29))},Za:function(){this.wc(this.Za);this.b.main_panel.tab1.tiles.T()&&
!0==this.b.main_panel.tab1.tiles.T().ec&&(this.xd(this.Za),this.b.main_panel.tab1.tiles.jb(p.rect(Math.floor(32*this.K.x),Math.floor(32*this.K.y),320>K[this.N].texture.e().width?K[this.N].texture.e().width:320,256>K[this.N].texture.e().height?K[this.N].texture.e().height:256)))},zb:function(a){if(this._super(a))return!0;this.Ef=null;a=a.Q;var c=this.b.main_panel.Xa(a);if(S(this.b.main_panel.tab1Clickable,c))return this.ud(1),!0;if(S(this.b.main_panel.tab2Clickable,c))return this.ud(2),!0;if(S(this.b.main_panel.tab3Clickable,
c))return this.ud(3),!0;if(S(this.b.main_panel.okbtn,c)){if(null==this.ib.ma()||""==this.ib.ma())return!0;this.Eh=!0;this.data.name=this.ib.ma();switch(this.data.itemType){case "book":this.data.additionalData={Contents:this.bB.ma()}}this.H.Xe(this.data);return!0}if(S(this.b.main_panel.cancelbtn,c)){this.Eh=!0;var d=this.H;this.H.fd(function(){d.Xe(null)});return!0}if(1==this.Lb){if(S(this.b.main_panel.tab1.leftbtn,c))return 264<K[this.N].texture.e().width&&0<this.K.x&&(this.K.x--,this.Za()),!0;if(S(this.b.main_panel.tab1.rightbtn,
c))return 320<K[this.N].texture.e().width&&this.K.x<(K[this.N].texture.e().width-320)/32&&(this.K.x++,this.Za()),!0;if(S(this.b.main_panel.tab1.upbtn,c))return 320<K[this.N].texture.e().height&&0<this.K.y&&(this.K.y--,this.Za()),!0;if(S(this.b.main_panel.tab1.downbtn,c))return 320<K[this.N].texture.e().height&&this.K.y<(K[this.N].texture.e().height-320)/32&&(this.K.y++,this.Za()),!0;if(S(this.b.main_panel.tab1.texturerightbtn,c))return this.Wm(),!0;if(S(this.b.main_panel.tab1.textureleftbtn,c))return this.Xm(),
!0;c=this.b.main_panel.tab1.tiles.Xa(a);if(S(this.b.main_panel.tab1.tiles,c)){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+64;this.b.main_panel.tab1.selectednode.X(0);if(this.b.main_panel.tab1.selectednode.m.B!=c.x||this.b.main_panel.tab1.selectednode.m.G!=c.y)this.b.main_panel.tab1.selectednode.X(127),this.b.main_panel.tab1.selectednode.t(c);a=p.a((this.b.main_panel.tab1.selectednode.m.B-16)/32+this.K.x,8-(this.b.main_panel.tab1.selectednode.m.G-64)/32+this.K.y-1);this.b.main_panel.tab2.tile.jb(p.rect(32*a.x,
32*a.y,32,32));this.data.sprite.position=a;return!0}}if(2==this.Lb){if(S(this.b.main_panel.tab2.stackbtn,c))return this.MJ(),!0;if(S(this.b.main_panel.tab2.resourcebtn,c))return this.Ke("resource"),!0;if(S(this.b.main_panel.tab2.consumablebtn,c))return this.Ke("consumable"),!0;if(S(this.b.main_panel.tab2.bookbtn,c))return this.Ke("book"),!0;if(S(this.b.main_panel.tab2.wearablebtn,c))return this.Ke("wearable"),this.Di("body"),!0;if(S(this.b.main_panel.tab2.wearabletab.body,c))return this.Di("body"),
!0;if(S(this.b.main_panel.tab2.wearabletab.head,c))return this.Di("head"),!0;if(S(this.b.main_panel.tab2.wearabletab.legs,c))return this.Di("legs"),!0;if(S(this.b.main_panel.tab2.wearabletab.feet,c))return this.Di("feet"),!0;if(S(this.b.main_panel.tab2.wearabletab.larm,c))return this.Di("larm"),!0;if(S(this.b.main_panel.tab2.wearabletab.rarm,c))return this.Di("rarm"),!0;if(S(this.b.main_panel.tab2.wearabletab.mod,c))return this.Di("mod"),!0}return!1},MJ:function(){this.data.stackable=!this.data.stackable;
this.b.main_panel.tab2.stackbtn.k(R);this.b.main_panel.tab2.stackbtn.text.ga("NOT STACKABLE");!0==this.data.stackable&&(this.b.main_panel.tab2.stackbtn.k(Q),this.b.main_panel.tab2.stackbtn.text.ga("IS STACKABLE"))},Ke:function(a){this.b.main_panel.tab2.booktab.book_entry.Bb(-1E7);this.b.main_panel.tab2.booktab.book_text.v(!1);this.b.main_panel.tab2.resourcebtn.k(P);this.b.main_panel.tab2.consumablebtn.k(P);this.b.main_panel.tab2.bookbtn.k(P);this.b.main_panel.tab2.wearablebtn.k(P);this.b.main_panel.tab2.resourcetab.v(!1);
this.b.main_panel.tab2.consumabletab.v(!1);this.b.main_panel.tab2.booktab.v(!1);this.b.main_panel.tab2.wearabletab.v(!1);switch(a){case "book":this.b.main_panel.tab2.booktab.book_entry.Bb(150),this.b.main_panel.tab2.booktab.book_text.v(!0)}this.data.itemType=a;this.b.main_panel.tab2[a+"btn"].k(Q);this.b.main_panel.tab2[a+"tab"].v(!0)},Di:function(a){this.b.main_panel.tab2.wearabletab.head.k(P);this.b.main_panel.tab2.wearabletab.body.k(P);this.b.main_panel.tab2.wearabletab.legs.k(P);this.b.main_panel.tab2.wearabletab.feet.k(P);
this.b.main_panel.tab2.wearabletab.rarm.k(P);this.b.main_panel.tab2.wearabletab.larm.k(P);this.b.main_panel.tab2.wearabletab.mod.k(P);"wearable"==this.data.itemType&&this.b.main_panel.tab2.wearabletab[a]&&this.b.main_panel.tab2.wearabletab[a].k(R);this.data.subType=a},Wm:function(){this.N>=K.length-1&&(this.N=-1);this.N++;this.b.main_panel.tab1.tiles.Y(K[this.N].texture);this.b.main_panel.tab2.tile.Y(K[this.N].texture);this.Hb=K[this.N].name;this.b.main_panel.tab1.textureName.text.ga(this.Hb);this.data.sprite.texture=
this.Hb;this.K=p.a(0,0);this.Za()},Xm:function(){0>=this.N&&(this.N=K.length);this.N--;this.b.main_panel.tab1.tiles.Y(K[this.N].texture);this.b.main_panel.tab2.tile.Y(K[this.N].texture);this.Hb=K[this.N].name;this.b.main_panel.tab1.textureName.text.ga(this.Hb);this.K=p.a(0,0);this.Za()}});Mapeditor=null;
MapEditor=Popup.extend({map:null,K:p.a(0,0),ic:"tiles",VH:null,Nv:"ground1",Hb:K[0].name,N:0,rd:function(){return{panels:{position:p.a(300,10),children:{main_panel:{c:p.a(0,0),position:p.a(0,0),size:p.size(420,380),u:p.J(0,0,100,120),children:{tab1:{children:{tiles:{c:p.a(0,1),position:p.a(16,336),Ba:K[0].name},textureleftbtn:{position:p.a(360,344),size:p.size(16,32),u:P,c:p.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.i(0,0,0)}}},texturerightbtn:{position:p.a(472,344),
size:p.size(16,32),u:P,c:p.a(0,0),children:{text:{label:"\x3e\x3e",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.i(0,0,0)}}},textureName:{position:p.a(376,344),size:p.size(96,32),u:p.J(255,255,255,170),c:p.a(0,0),children:{text:{label:K[0].name,fontSize:12,c:p.a(0.5,0.5),position:p.a(48,16),color:p.i(0,0,0)}}},deletebtn:{position:p.a(360,308),size:p.size(60,32),u:P,c:p.a(0,0),children:{text:{label:"Erase",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.i(0,0,0)}}},leftbtn:{position:p.a(0,
16),size:p.size(16,320),u:p.J(0,0,255,255),c:p.a(0,0),children:{text:{label:"\x3c",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,160),color:p.i(255,255,255)}}},rightbtn:{position:p.a(336,16),size:p.size(16,320),u:p.J(0,0,255,255),c:p.a(0,0),children:{text:{label:"\x3e",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,160),color:p.i(255,255,255)}}},upbtn:{position:p.a(16,336),size:p.size(320,16),u:p.J(0,0,255,255),c:p.a(0,0),children:{text:{label:"^",fontSize:12,c:p.a(0.5,0.5),position:p.a(160,8),color:p.i(255,
255,255)}}},downbtn:{position:p.a(16,0),size:p.size(320,16),u:p.J(0,0,255,255),c:p.a(0,0),children:{text:{label:"v",fontSize:12,c:p.a(0.5,0.5),position:p.a(160,8),color:p.i(255,255,255)}}},fillbtn:{position:p.a(428,308),size:p.size(60,32),u:P,c:p.a(0,0),children:{text:{label:"Fill",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.i(0,0,0)}}},ground1btn:{position:p.a(360,278),size:p.size(128,26),u:Q,c:p.a(0,0),children:{text:{label:"Ground 1",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.i(0,
0,0)}}},ground2btn:{position:p.a(360,248),size:p.size(128,26),u:P,c:p.a(0,0),children:{text:{label:"Ground 2",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.i(0,0,0)}}},groundShadowbtn:{position:p.a(360,218),size:p.size(128,26),u:P,c:p.a(0,0),children:{text:{label:"Ground Shadow",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.i(0,0,0)}}},mask1btn:{position:p.a(360,188),size:p.size(128,26),u:P,c:p.a(0,0),children:{text:{label:"Mask 1",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),
color:p.i(0,0,0)}}},mask2btn:{position:p.a(360,158),size:p.size(128,26),u:P,c:p.a(0,0),children:{text:{label:"Mask 2",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.i(0,0,0)}}},mask3btn:{position:p.a(360,128),size:p.size(128,26),u:P,c:p.a(0,0),children:{text:{label:"Mask 3",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.i(0,0,0)}}},fringe1btn:{position:p.a(360,98),size:p.size(128,26),u:P,c:p.a(0,0),children:{text:{label:"Fringe 1",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.i(0,
0,0)}}},fringe2btn:{position:p.a(360,68),size:p.size(128,26),u:P,c:p.a(0,0),children:{text:{label:"Fringe 2",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.i(0,0,0)}}},fringeShadowbtn:{position:p.a(360,38),size:p.size(128,26),u:P,c:p.a(0,0),children:{text:{label:"Fringe Shadow",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.i(0,0,0)}}},fringe3btn:{position:p.a(360,8),size:p.size(128,26),u:P,c:p.a(0,0),children:{text:{label:"Fringe 3",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),
color:p.i(0,0,0)}}},highlightnode:{c:p.a(0,0),position:p.a(0,0),size:p.size(32,32),u:p.J(255,100,100,255)},selectednode:{c:p.a(0,0),position:p.a(0,0),size:p.size(32,32),u:p.J(100,255,100,255)}}},tab2:{children:{blockbtn:{position:p.a(8,320),size:p.size(60,32),u:P,c:p.a(0,0),children:{text:{label:"Block",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.i(0,0,0)}}},warpbtn:{position:p.a(8,280),size:p.size(60,32),u:P,c:p.a(0,0),children:{text:{label:"Warp",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,
16),color:p.i(0,0,0)}}},itembtn:{position:p.a(8,240),size:p.size(60,32),u:P,c:p.a(0,0),children:{text:{label:"Item",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.i(0,0,0)}}},signbtn:{position:p.a(8,200),size:p.size(60,32),u:P,c:p.a(0,0),children:{text:{label:"Sign",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.i(0,0,0)}}},npcbtn:{position:p.a(8,160),size:p.size(60,32),u:P,c:p.a(0,0),children:{text:{label:"NPC",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.i(0,0,0)}}},amountLabelHead:{visible:!1,
label:"Item Amount",fontSize:12,c:p.a(0,0),position:p.a(100,342)},amountLabel:{size:p.size(60,32),position:p.a(98,-1E6)}}},tab3:{children:{saveBack:{position:p.a(0,78),size:p.size(200,60),u:p.J(0,255,0,100),c:p.a(0,0)},deleteback:{position:p.a(0,138),size:p.size(200,60),u:p.J(255,0,0,100),c:p.a(0,0)},mapnumsback:{position:p.a(0,198),size:p.size(200,162),u:p.J(0,0,0,170),c:p.a(0,0)},mapUp_text:{label:"Map Up",fontSize:10,c:p.a(0.5,0),position:p.a(100,344)},mapUp_entry:{size:p.size(60,32),position:p.a(70,
312)},mapDown_text:{label:"Map Down",fontSize:10,c:p.a(0.5,0),position:p.a(100,232)},mapDown_entry:{size:p.size(60,32),position:p.a(70,200)},mapLeft_text:{label:"Map Left",fontSize:10,c:p.a(0.5,0),position:p.a(38,290)},mapLeft_entry:{size:p.size(60,32),position:p.a(8,258)},mapRight_text:{label:"Map Right",fontSize:10,c:p.a(0.5,0),position:p.a(162,290)},mapRight_entry:{size:p.size(60,32),position:p.a(132,258)},this_map:{position:p.a(70,248),size:p.size(60,60),u:P,c:p.a(0,0),children:{text:{label:"THIS MAP\n#"+
F.Wd(),fontSize:12,c:p.a(0.5,0.5),position:p.a(30,30),color:p.i(0,0,0)}}},clearbtn:{position:p.a(70,150),size:p.size(60,32),u:P,c:p.a(0,0),children:{text:{label:"Clear",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.i(0,0,0)}}},clear_text:{label:"Clear Map: You sure?",fontSize:14,c:p.a(0.5,0),position:p.a(100,182)},clearbtnNo:{position:p.a(10,150),size:p.size(60,32),u:P,c:p.a(0,0),children:{text:{label:"NO",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.i(0,0,0)}}},clearbtnYes:{position:p.a(130,
150),size:p.size(60,32),u:P,c:p.a(0,0),children:{text:{label:"YES",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.i(0,0,0)}}},savebtn:{position:p.a(70,90),size:p.size(60,32),u:P,c:p.a(0,0),children:{text:{label:"Save",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.i(0,0,0)}}},save_text:{label:"Save Map: You sure?",fontSize:14,c:p.a(0.5,0),position:p.a(100,122)},savebtnNo:{position:p.a(10,90),size:p.size(60,32),u:P,c:p.a(0,0),children:{text:{label:"NO",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,
16),color:p.i(0,0,0)}}},savebtnYes:{position:p.a(130,90),size:p.size(60,32),u:P,c:p.a(0,0),children:{text:{label:"YES",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.i(0,0,0)}}},saveOnExit:{position:p.a(40,30),size:p.size(120,32),u:P,c:p.a(0.5,0),children:{content:{label:"",fontSize:14,c:p.a(0.5,0.5),position:p.a(60,15),color:p.i(0,0,0)}}}}},tab1Clickable:{position:p.a(0,360),size:p.size(60,20),u:P,c:p.a(0,0),children:{text:{label:"Editor",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.i(0,
0,0)}}},tab2Clickable:{position:p.a(64,360),size:p.size(60,20),u:P,c:p.a(0,0),children:{text:{label:"Scripts",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.i(0,0,0)}}},tab3Clickable:{position:p.a(128,360),size:p.size(60,20),u:P,c:p.a(0,0),children:{text:{label:"Settings",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.i(0,0,0)}}}}},control_panel:{c:p.a(0,0),position:p.a(0,380),size:p.size(420,32),u:p.J(255,0,0,200),children:{header:{label:"Map Editor - Map #"+F.Wd(),fontSize:20,c:p.a(0,
0.5),position:p.a(8,16)},exitBtn:{position:p.a(391,3),size:p.size(26,26),c:p.a(0,0),u:p.J(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.i(0,0,0),c:p.a(0.5,0.5),position:p.a(13,13)}}}}}}}}},qd:function(){return"MapEditor"},K:null,Zr:null,Wr:null,Xr:null,Yr:null,Ur:null,Cc:null,Lb:0,al:null,r:function(a){this._super();this.map=a;this.K=p.a(0,0);this.Cc=[null,496,200,200]},Ua:function(){this._super();this.b.main_panel.tab1.highlightnode.X(0);this.b.main_panel.tab1.selectednode.X(0);
this.Zr=new Z(this.b.main_panel.tab3.mapUp_entry,p.size(this.b.main_panel.tab3.mapUp_entry.e().width,this.b.main_panel.tab3.mapUp_entry.e().height),p.a(0,this.b.main_panel.tab3.mapUp_entry.e().height),F.yH()?F.lH():"",p.J(100,100,100),p.i(255,255,255));this.Zr.Fe(!0);this.Zr.ls(!0);this.Wr=new Z(this.b.main_panel.tab3.mapDown_entry,p.size(this.b.main_panel.tab3.mapDown_entry.e().width,this.b.main_panel.tab3.mapDown_entry.e().height),p.a(0,this.b.main_panel.tab3.mapDown_entry.e().height),F.wH()?F.jH():
"",p.J(100,100,100),p.i(255,255,255));this.Wr.Fe(!0);this.Wr.ls(!0);this.Xr=new Z(this.b.main_panel.tab3.mapLeft_entry,p.size(this.b.main_panel.tab3.mapLeft_entry.e().width,this.b.main_panel.tab3.mapLeft_entry.e().height),p.a(0,this.b.main_panel.tab3.mapLeft_entry.e().height),F.xH()?F.kH():"",p.J(100,100,100),p.i(255,255,255));this.Xr.Fe(!0);this.Xr.ls(!0);this.Yr=new Z(this.b.main_panel.tab3.mapRight_entry,p.size(this.b.main_panel.tab3.mapRight_entry.e().width,this.b.main_panel.tab3.mapRight_entry.e().height),
p.a(0,this.b.main_panel.tab3.mapRight_entry.e().height),F.HB()?F.vB():"",p.J(100,100,100),p.i(255,255,255));this.Yr.Fe(!0);this.Yr.ls(!0);this.Ur=new Z(this.b.main_panel.tab2.amountLabel,p.size(this.b.main_panel.tab2.amountLabel.e().width,this.b.main_panel.tab2.amountLabel.e().height),p.a(0,this.b.main_panel.tab2.amountLabel.e().height),F.HB()?F.vB():"1",p.J(100,100,100),p.i(255,255,255));this.Ur.Fe(!0);this.Ur.ls(!0);this.$w(!1);this.ax(!1);this.Kw=x.aR();this.mJ(this.Kw);this.ud(1);this.Za();F.pJ(!0)},
M$:function(a,c){Warpeditor&&(Warpeditor.tb(),this.fd(function(){Warpeditor.S();Warpeditor=null}),this.al=a,this.Rb(!0));Signeditor&&(Signeditor.tb(),this.fd(function(){Signeditor.S();Signeditor=null}),this.al=a,this.Rb(!0));Itemeditor&&(Itemeditor.tb(),this.fd(function(){Itemeditor.S();Itemeditor=null}),this.al=a,this.Rb(!0),this.Ur.kc.Yg("1"),!0==c.stackable&&(this.b.main_panel.tab2.amountLabelHead.v(!0),this.b.main_panel.tab2.amountLabel.t(98,308)));NPCeditor&&(NPCeditor.tb(),this.fd(function(){NPCeditor.S();
NPCeditor=null}),this.al=a,this.Rb(!0))},tb:function(){this._super();!0==this.Kw&&(F.eJ({up:this.Zr.ma(),down:this.Wr.ma(),left:this.Xr.ma(),right:this.Yr.ma()}),F.aK());F.pJ(!1)},Jh:function(a){a=a.Q;if(1==this.Lb&&(this.b.main_panel.tab1.highlightnode.X(0),a=this.b.main_panel.tab1.tiles.Xa(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.e().width&&a.y<=this.b.main_panel.tab1.tiles.e().height))return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+16,this.b.main_panel.tab1.highlightnode.X(127),this.b.main_panel.tab1.highlightnode.t(a),
!0},ud:function(a){if(a!=this.Lb){this.b.main_panel.ba(this.Cc[a],this.b.main_panel.e().height);this.b.control_panel.ba(this.Cc[a],this.b.control_panel.e().height);if(3==this.Lb||0==this.Lb)this.b.main_panel.tab3.mapUp_entry.Bb(this.b.main_panel.tab3.mapUp_entry.m.B-1E3),this.b.main_panel.tab3.mapLeft_entry.Bb(this.b.main_panel.tab3.mapLeft_entry.m.B-1E3),this.b.main_panel.tab3.mapDown_entry.Bb(this.b.main_panel.tab3.mapDown_entry.m.B-1E3),this.b.main_panel.tab3.mapRight_entry.Bb(this.b.main_panel.tab3.mapRight_entry.m.B-
1E3);1!=this.Lb||"erasing"!=this.ic&&"tiles"!=this.ic||(this.ic="blocking");2==this.Lb&&"blocking"==this.ic&&(this.ic="tiles");this.Lb=a;this.b.main_panel.tab1.v(!1);this.b.main_panel.tab2.v(!1);this.b.main_panel.tab3.v(!1);this.b.main_panel.tab1Clickable.k(P);this.b.main_panel.tab2Clickable.k(P);this.b.main_panel.tab3Clickable.k(P);this.b.main_panel["tab"+a].v(!0);this.b.main_panel["tab"+a+"Clickable"].k(p.J(255,255,0,255));3==a&&(this.b.main_panel.tab3.mapUp_entry.Bb(this.b.main_panel.tab3.mapUp_entry.m.B+
1E3),this.b.main_panel.tab3.mapLeft_entry.Bb(this.b.main_panel.tab3.mapLeft_entry.m.B+1E3),this.b.main_panel.tab3.mapDown_entry.Bb(this.b.main_panel.tab3.mapDown_entry.m.B+1E3),this.b.main_panel.tab3.mapRight_entry.Bb(this.b.main_panel.tab3.mapRight_entry.m.B+1E3));this.b.control_panel.exitBtn.Bb(this.Cc[a]-29)}},mJ:function(a){x.hV(a);this.Kw=a;this.b.main_panel.tab3.saveOnExit.k(p.i(255,0,0));this.b.main_panel.tab3.saveOnExit.content.ga("Save on exit: NO");if("true"==a||!0==a)this.b.main_panel.tab3.saveOnExit.k(p.i(0,
255,0)),this.b.main_panel.tab3.saveOnExit.content.ga("Save on exit: YES")},Za:function(){this.wc(this.Za);this.b.main_panel.tab1.tiles.T()&&!0==this.b.main_panel.tab1.tiles.T().ec&&(this.xd(this.Za),this.b.main_panel.tab1.tiles.jb(p.rect(Math.floor(32*this.K.x),Math.floor(32*this.K.y),320>K[this.N].texture.e().width?K[this.N].texture.e().width:320,320>K[this.N].texture.e().height?K[this.N].texture.e().height:320)))},zb:function(a){if(this._super(a))return!0;this.Ef=null;a=a.Q;var c=this.b.main_panel.Xa(a);
if(S(this.b.main_panel.tab1Clickable,c))return this.ud(1),!0;if(S(this.b.main_panel.tab2Clickable,c))return this.ud(2),!0;if(S(this.b.main_panel.tab3Clickable,c))return this.ud(3),!0;if(1==this.Lb){if(S(this.b.main_panel.tab1.leftbtn,c))return 320<K[this.N].texture.e().width&&0<this.K.x&&(this.K.x--,this.Za()),!0;if(S(this.b.main_panel.tab1.rightbtn,c))return 320<K[this.N].texture.e().width&&this.K.x<(K[this.N].texture.e().width-320)/32&&(this.K.x++,this.Za()),!0;if(S(this.b.main_panel.tab1.upbtn,
c))return 320<K[this.N].texture.e().height&&0<this.K.y&&(this.K.y--,this.Za()),!0;if(S(this.b.main_panel.tab1.downbtn,c))return 320<K[this.N].texture.e().height&&this.K.y<(K[this.N].texture.e().height-320)/32&&(this.K.y++,this.Za()),!0;if(S(this.b.main_panel.tab1.ground1btn,c))return this.Ke("ground1"),!0;if(S(this.b.main_panel.tab1.ground2btn,c))return this.Ke("ground2"),!0;if(S(this.b.main_panel.tab1.groundShadowbtn,c))return this.Ke("groundShadow"),!0;if(S(this.b.main_panel.tab1.mask1btn,c))return this.Ke("mask1"),
!0;if(S(this.b.main_panel.tab1.mask2btn,c))return this.Ke("mask2"),!0;if(S(this.b.main_panel.tab1.mask3btn,c))return this.Ke("mask3"),!0;if(S(this.b.main_panel.tab1.fringe1btn,c))return this.Ke("fringe1"),!0;if(S(this.b.main_panel.tab1.fringe2btn,c))return this.Ke("fringe2"),!0;if(S(this.b.main_panel.tab1.fringeShadowbtn,c))return this.Ke("fringeShadow"),!0;if(S(this.b.main_panel.tab1.fringe3btn,c))return this.Ke("fringe3"),!0;if(S(this.b.main_panel.tab1.texturerightbtn,c))return this.Wm(),!0;if(S(this.b.main_panel.tab1.textureleftbtn,
c))return this.Xm(),!0;if(S(this.b.main_panel.tab1.deletebtn,c))return this.ic="erasing"==this.ic?"tiles":"erasing",this.b.main_panel.tab1.deletebtn.k(P),"erasing"==this.ic&&this.b.main_panel.tab1.deletebtn.k(R),!0;if(S(this.b.main_panel.tab1.fillbtn,c))return 0!=this.b.main_panel.tab1.selectednode.vi()&&(F.JQ(K[this.N].name,p.a((this.b.main_panel.tab1.selectednode.m.B-16)/32+this.K.x,9-(this.b.main_panel.tab1.selectednode.m.G-16)/32+this.K.y),this.Nv),F.ys()),!0;c=this.b.main_panel.tab1.tiles.Xa(a);
if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.e().width&&c.y<=this.b.main_panel.tab1.tiles.e().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+16;this.b.main_panel.tab1.selectednode.X(0);if(this.b.main_panel.tab1.selectednode.m.B!=c.x||this.b.main_panel.tab1.selectednode.m.G!=c.y)this.b.main_panel.tab1.selectednode.X(127),this.b.main_panel.tab1.selectednode.t(c);return!0}}if(2==this.Lb){if(S(this.b.main_panel.tab2.blockbtn,c))return this.b.main_panel.tab2.warpbtn.k(P),this.b.main_panel.tab2.signbtn.k(P),
this.b.main_panel.tab2.npcbtn.k(P),this.b.main_panel.tab2.itembtn.k(P),this.b.main_panel.tab2.blockbtn.k(P),this.ic="blocking"==this.ic?"tiles":"blocking","blocking"==this.ic&&(this.b.main_panel.tab2.blockbtn.k(R),this.b.main_panel.tab2.amountLabelHead.v(!1),this.b.main_panel.tab2.amountLabel.t(68,-1E5)),!0;if(S(this.b.main_panel.tab2.warpbtn,c))return this.b.main_panel.tab2.warpbtn.k(P),this.b.main_panel.tab2.signbtn.k(P),this.b.main_panel.tab2.npcbtn.k(P),this.b.main_panel.tab2.itembtn.k(P),this.b.main_panel.tab2.blockbtn.k(P),
this.b.main_panel.tab2.amountLabelHead.v(!1),this.b.main_panel.tab2.amountLabel.t(68,-1E6),this.ic="warping"==this.ic?"tiles":"warping","warping"==this.ic&&(null==Warpeditor||Warpeditor.$||(Warpeditor=null),Warpeditor&&(Warpeditor.tb(),Warpeditor.S(),Warpeditor=null),Warpeditor=new PopupList,Warpeditor.r({H:this,zj:new WarpEditor,list:ObjectLists.pm(),name:"Warp List"}),Warpeditor.Ua(),this.$.p(Warpeditor),this.Rb(!1),this.b.main_panel.tab2.warpbtn.k(R),this.b.main_panel.tab2.amountLabelHead.v(!1),
this.b.main_panel.tab2.amountLabel.t(68,-1E5)),!0;if(S(this.b.main_panel.tab2.signbtn,c))return this.b.main_panel.tab2.signbtn.k(P),this.b.main_panel.tab2.warpbtn.k(P),this.b.main_panel.tab2.npcbtn.k(P),this.b.main_panel.tab2.itembtn.k(P),this.b.main_panel.tab2.blockbtn.k(P),this.b.main_panel.tab2.amountLabelHead.v(!1),this.b.main_panel.tab2.amountLabel.t(68,-1E6),this.ic="signs"==this.ic?"tiles":"signs","signs"==this.ic&&(null==Signeditor||Signeditor.$||(Signeditor=null),Signeditor&&(Signeditor.tb(),
Signeditor.S(),Signeditor=null),Signeditor=new PopupList,Signeditor.r({H:this,zj:new SignEditor,list:ObjectLists.Jr(),name:"Sign List"}),Signeditor.Ua(),this.$.p(Signeditor),this.Rb(!1),this.b.main_panel.tab2.signbtn.k(R)),!0;if(S(this.b.main_panel.tab2.npcbtn,c))return this.b.main_panel.tab2.signbtn.k(P),this.b.main_panel.tab2.warpbtn.k(P),this.b.main_panel.tab2.npcbtn.k(P),this.b.main_panel.tab2.itembtn.k(P),this.b.main_panel.tab2.blockbtn.k(P),this.b.main_panel.tab2.amountLabelHead.v(!1),this.b.main_panel.tab2.amountLabel.t(68,
-1E6),this.ic="npcs"==this.ic?"tiles":"npcs","npcs"==this.ic&&(null==NPCeditor||NPCeditor.$||(NPCeditor=null),NPCeditor&&(NPCeditor.tb(),NPCeditor.S(),NPCeditor=null),NPCeditor=new PopupList,NPCeditor.r({H:this,zj:new NPCEditor,list:ObjectLists.Fk(),name:"NPC List"}),NPCeditor.Ua(),this.$.p(NPCeditor),this.Rb(!1),this.b.main_panel.tab2.npcbtn.k(R)),!0;if(S(this.b.main_panel.tab2.itembtn,c))return this.b.main_panel.tab2.warpbtn.k(P),this.b.main_panel.tab2.itembtn.k(P),this.b.main_panel.tab2.npcbtn.k(P),
this.b.main_panel.tab2.blockbtn.k(P),this.b.main_panel.tab2.amountLabelHead.v(!1),this.b.main_panel.tab2.amountLabel.t(68,-1E6),this.ic="items"==this.ic?"tiles":"items","items"==this.ic&&(null==Itemeditor||Itemeditor.$||(Itemeditor=null),Itemeditor&&(Itemeditor.tb(),Itemeditor.S(),Itemeditor=null),Itemeditor=new PopupList,Itemeditor.r({H:this,zj:new ItemEditor,list:ObjectLists.ui(),name:"Item List"}),Itemeditor.Ua(),this.$.p(Itemeditor),this.Rb(!1),this.b.main_panel.tab2.itembtn.k(R)),!0}if(3==this.Lb){if(S(this.b.main_panel.tab3.clearbtn,
c))return this.$w(!0),!0;if(S(this.b.main_panel.tab3.clearbtnNo,c))return this.$w(!1),!0;if(S(this.b.main_panel.tab3.clearbtnYes,c))return F.pd(),this.$w(!1),!0;if(S(this.b.main_panel.tab3.savebtn,c))return this.ax(!0),!0;if(S(this.b.main_panel.tab3.savebtnNo,c))return this.ax(!1),!0;if(S(this.b.main_panel.tab3.savebtnYes,c))return F.eJ({up:this.Zr.ma(),down:this.Wr.ma(),left:this.Xr.ma(),right:this.Yr.ma()}),F.aK(),this.ax(!1),!0;if(S(this.b.main_panel.tab3.saveOnExit,c))return this.mJ(!this.Kw),
!0}return!1},Ke:function(a){this.b.main_panel.tab1.ground1btn.k(P);this.b.main_panel.tab1.ground2btn.k(P);this.b.main_panel.tab1.groundShadowbtn.k(P);this.b.main_panel.tab1.mask1btn.k(P);this.b.main_panel.tab1.mask2btn.k(P);this.b.main_panel.tab1.mask3btn.k(P);this.b.main_panel.tab1.fringe1btn.k(P);this.b.main_panel.tab1.fringe2btn.k(P);this.b.main_panel.tab1.fringeShadowbtn.k(P);this.b.main_panel.tab1.fringe3btn.k(P);this.b.main_panel.tab1[a+"btn"].k(Q);this.Nv=a},Wm:function(){this.N>=K.length-
1&&(this.N=-1);this.N++;this.b.main_panel.tab1.tiles.Y(K[this.N].texture);this.Hb=K[this.N].name;this.b.main_panel.tab1.textureName.text.ga(this.Hb);this.K=p.a(0,0);this.Za()},Xm:function(){0>=this.N&&(this.N=K.length);this.N--;this.b.main_panel.tab1.tiles.Y(K[this.N].texture);this.Hb=K[this.N].name;this.b.main_panel.tab1.textureName.text.ga(this.Hb);this.K=p.a(0,0);this.Za()},$w:function(a){this.b.main_panel.tab3.clearbtnYes.v(a);this.b.main_panel.tab3.clearbtnNo.v(a);this.b.main_panel.tab3.clear_text.v(a);
this.b.main_panel.tab3.clearbtn.v(!a)},ax:function(a){this.b.main_panel.tab3.savebtnYes.v(a);this.b.main_panel.tab3.savebtnNo.v(a);this.b.main_panel.tab3.save_text.v(a);this.b.main_panel.tab3.savebtn.v(!a)},QJ:function(a,c,d){if(a[c]==this.VH&&"moved"==d)return!1;this.VH=a[c];switch(this.ic){case "tiles":0!=this.b.main_panel.tab1.selectednode.vi()&&F.Hj(c,K[this.N].name,p.a((this.b.main_panel.tab1.selectednode.m.B-16)/32+this.K.x,9-(this.b.main_panel.tab1.selectednode.m.G-16)/32+this.K.y),this.Nv);
break;case "blocking":if(1!=a[c].cc()){F.Ei(c,1);break}F.Ei(c,0);break;case "warping":if(null==Warpeditor||!Warpeditor.$){if(3!=a[c].cc()){F.Ei(c,3,this.al);break}F.Ei(c,0,null)}break;case "signs":if(null==Signeditor||!Signeditor.$){if(7!=a[c].cc()){F.Ei(c,7,this.al);break}F.Ei(c,0,null)}break;case "items":if(null==Itemeditor||!Itemeditor.$){if(4!=a[c].cc()){F.Ei(c,4,this.al,{amount:this.Ur.ma()});break}F.Ei(c,0,null)}break;case "npcs":if(null==NPCeditor||!NPCeditor.$){if(5!=a[c].cc()){F.Ei(c,5,this.al);
break}F.Ei(c,0,null)}break;case "erasing":F.kB(c,this.Nv)}}});NPCeditor=null;
NPCEditor=Popup.extend({Hb:L[0].name,N:0,rd:function(){return{panels:{position:p.a(300,10),children:{main_panel:{c:p.a(0,0),position:p.a(0,0),size:p.size(420,396),u:p.J(0,0,100,120),children:{tab1:{children:{tiles:{c:p.a(0,1),position:p.a(48,320),Ba:L[0].name},textureleftbtn:{position:p.a(32,340),size:p.size(16,32),u:P,c:p.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.i(0,0,0)}}},texturerightbtn:{position:p.a(144,340),size:p.size(16,32),u:P,c:p.a(0,
0),children:{text:{label:"\x3e\x3e",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.i(0,0,0)}}},textureName:{position:p.a(48,340),size:p.size(96,32),u:p.J(255,255,255,170),c:p.a(0,0),children:{text:{label:L[0].name,fontSize:12,c:p.a(0.5,0.5),position:p.a(48,16),color:p.i(0,0,0)}}},upbtn:{position:p.a(48,320),size:p.size(96,16),u:p.J(0,0,255,255),c:p.a(0,0),children:{text:{label:"^",fontSize:12,c:p.a(0.5,0.5),position:p.a(48,8),color:p.i(255,255,255)}}},downbtn:{position:p.a(48,48),size:p.size(96,
16),u:p.J(0,0,255,255),c:p.a(0,0),children:{text:{label:"v",fontSize:12,c:p.a(0.5,0.5),position:p.a(48,8),color:p.i(255,255,255)}}},highlightnode:{c:p.a(0,0),position:p.a(0,0),size:p.size(96,128),u:p.J(255,100,100,255)},selectednode:{c:p.a(0,0),position:p.a(0,0),size:p.size(96,128),u:p.J(100,255,100,255)}}},tab2:{children:{itemdetailsback:{position:p.a(144,0),size:p.size(250,366),u:p.J(0,0,255,100),c:p.a(0,0)},name_text:{label:"Item Name",fontSize:10,c:p.a(0,0),position:p.a(8,344)},name_entry:{size:p.size(136,
32),position:p.a(4,312)}}},tab3:{},tab1Clickable:{position:p.a(0,376),size:p.size(60,20),u:P,c:p.a(0,0),children:{text:{label:"Sprite",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.i(0,0,0)}}},tab2Clickable:{position:p.a(64,376),size:p.size(60,20),u:P,c:p.a(0,0),children:{text:{label:"Details",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.i(0,0,0)}}},tab3Clickable:{position:p.a(128,376),size:p.size(60,20),u:P,c:p.a(0,0),children:{text:{label:"Modifier",fontSize:12,c:p.a(0.5,0.5),
position:p.a(32,10),color:p.i(0,0,0)}}},okbtn:{position:p.a(104,8),size:p.size(60,32),u:P,c:p.a(0,0),children:{text:{label:"OK",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.i(0,0,0)}}},cancelbtn:{position:p.a(32,8),size:p.size(60,32),u:P,c:p.a(0,0),children:{text:{label:"Cancel",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.i(0,0,0)}}}}},control_panel:{c:p.a(0,0),position:p.a(0,396),size:p.size(420,32),u:p.J(255,0,0,200),children:{header:{label:"Item Editor",fontSize:20,c:p.a(0,
0.5),position:p.a(8,16)},exitBtn:{position:p.a(391,3),size:p.size(26,26),c:p.a(0,0),u:p.J(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.i(0,0,0),c:p.a(0.5,0.5),position:p.a(13,13)}}}}}}}}},qd:function(){return"npcEditor"},ib:null,Cc:null,Lb:0,H:null,data:null,r:function(a){this._super();this.data={name:"",sprite:{texture:null,position:null}};this.Hb=L[0].name;this.N=0;this.Cc=this.ib=null;this.Lb=0;this.H=null;this.K=p.a(0,0);this.Cc=[null,190,400,200];this.H=a.H;a&&a.data&&(this.data=
a.data)},gs:function(a){H({savenpcs:a+"",npcsdata:this.data})},zr:function(a,c){H({savenpcswhole:c})},Ua:function(){this._super();this.b.main_panel.tab1.highlightnode.X(0);this.b.main_panel.tab1.selectednode.X(127);for(var a in L)L[a].name==this.data.sprite.texture&&(this.N=a,this.Hb=L[a].name);this.b.main_panel.tab1.textureName.text.ga(this.Hb);this.b.main_panel.tab1.tiles.Y(L[this.N].texture);this.ib=new Z(this.b.main_panel.tab2.name_entry,p.size(this.b.main_panel.tab2.name_entry.e().width,this.b.main_panel.tab2.name_entry.e().height),
p.a(0,this.b.main_panel.tab2.name_entry.e().height),this.data.name?this.data.name:"",p.J(100,100,100),p.i(255,255,255));this.ib.Fe(!0);this.ud(1);this.Za()},rJ:function(){},tb:function(a){this._super();if(this.H){var c=this.H;!0!=a&&this.H.fd(function(){c.Xe(null)})}},Jh:function(a){a=a.Q;if(1==this.Lb&&(this.b.main_panel.tab1.highlightnode.X(0),a=this.b.main_panel.tab1.tiles.Xa(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.e().width&&a.y<=this.b.main_panel.tab1.tiles.e().height))return a.x=
a.x-a.x%96+48,a.y=a.y-a.y%128+64,this.b.main_panel.tab1.highlightnode.X(127),this.b.main_panel.tab1.highlightnode.t(a),!0},ud:function(a){a!=this.Lb&&(this.b.main_panel.ba(this.Cc[a],this.b.main_panel.e().height),this.b.control_panel.ba(this.Cc[a],this.b.control_panel.e().height),this.b.main_panel.tab2.name_entry.Bb(this.b.main_panel.tab2.name_entry.m.B-1E3),this.Lb=a,this.b.main_panel.tab1.v(!1),this.b.main_panel.tab2.v(!1),this.b.main_panel.tab3.v(!1),this.b.main_panel.tab1Clickable.k(P),this.b.main_panel.tab2Clickable.k(P),
this.b.main_panel.tab3Clickable.k(P),this.b.main_panel["tab"+a].v(!0),this.b.main_panel["tab"+a+"Clickable"].k(p.J(255,255,0,255)),2==a&&this.b.main_panel.tab2.name_entry.Bb(4),this.b.control_panel.exitBtn.Bb(this.Cc[a]-29))},Za:function(){this.wc(this.Za);this.b.main_panel.tab1.tiles.T()&&!0==this.b.main_panel.tab1.tiles.T().ec&&(this.xd(this.Za),this.b.main_panel.tab1.tiles.jb(p.rect(Math.floor(96*this.K.x),Math.floor(128*this.K.y),96>L[this.N].texture.e().width?L[this.N].texture.e().width:96,256>
L[this.N].texture.e().height?L[this.N].texture.e().height:256)))},zb:function(a){if(this._super(a))return!0;this.Ef=null;a=a.Q;var c=this.b.main_panel.Xa(a);if(S(this.b.main_panel.tab1Clickable,c))return this.ud(1),!0;if(S(this.b.main_panel.tab2Clickable,c))return this.ud(2),!0;if(S(this.b.main_panel.tab3Clickable,c))return this.ud(3),!0;if(S(this.b.main_panel.okbtn,c)){if(null==this.ib.ma()||""==this.ib.ma())return!0;this.Eh=!0;this.data.name=this.ib.ma();this.H.Xe(this.data);return!0}if(S(this.b.main_panel.cancelbtn,
c)){this.Eh=!0;var d=this.H;this.H.fd(function(){d.Xe(null)});return!0}if(1==this.Lb){if(S(this.b.main_panel.tab1.upbtn,c))return 320<L[this.N].texture.e().height&&0<this.K.y&&(this.K.y--,this.Za()),!0;if(S(this.b.main_panel.tab1.downbtn,c))return 320<L[this.N].texture.e().height&&this.K.y<(L[this.N].texture.e().height-320)/32&&(this.K.y++,this.Za()),!0;if(S(this.b.main_panel.tab1.texturerightbtn,c))return this.Wm(),!0;if(S(this.b.main_panel.tab1.textureleftbtn,c))return this.Xm(),!0;c=this.b.main_panel.tab1.tiles.Xa(a);
if(S(this.b.main_panel.tab1.tiles,c)){c.x=c.x-c.x%96+48;c.y=c.y-c.y%128+64;this.b.main_panel.tab1.selectednode.X(0);if(this.b.main_panel.tab1.selectednode.m.B!=c.x||this.b.main_panel.tab1.selectednode.m.G!=c.y)this.b.main_panel.tab1.selectednode.X(127),this.b.main_panel.tab1.selectednode.t(c);a=p.a((this.b.main_panel.tab1.selectednode.m.B-16)/96+this.K.x,8-(this.b.main_panel.tab1.selectednode.m.G-64)/128+this.K.y-1);this.data.sprite.position=a;return!0}}return!1},MJ:function(){this.data.stackable=
!this.data.stackable;this.b.main_panel.tab2.stackbtn.k(R);this.b.main_panel.tab2.stackbtn.text.ga("NOT STACKABLE");!0==this.data.stackable&&(this.b.main_panel.tab2.stackbtn.k(Q),this.b.main_panel.tab2.stackbtn.text.ga("IS STACKABLE"))},Di:function(a){this.b.main_panel.tab2.wearabletab.head.k(P);this.b.main_panel.tab2.wearabletab.body.k(P);this.b.main_panel.tab2.wearabletab.legs.k(P);this.b.main_panel.tab2.wearabletab.feet.k(P);this.b.main_panel.tab2.wearabletab.rarm.k(P);this.b.main_panel.tab2.wearabletab.larm.k(P);
this.b.main_panel.tab2.wearabletab.mod.k(P);"wearable"==this.data.itemType&&this.b.main_panel.tab2.wearabletab[a]&&this.b.main_panel.tab2.wearabletab[a].k(R);this.data.subType=a},Wm:function(){this.N>=L.length-1&&(this.N=-1);this.N++;this.b.main_panel.tab1.tiles.Y(L[this.N].texture);this.Hb=L[this.N].name;this.b.main_panel.tab1.textureName.text.ga(this.Hb);this.data.sprite.texture=this.Hb;this.K=p.a(0,0);this.Za()},Xm:function(){0>=this.N&&(this.N=L.length);this.N--;this.b.main_panel.tab1.tiles.Y(L[this.N].texture);
this.Hb=L[this.N].name;this.b.main_panel.tab1.textureName.text.ga(this.Hb);this.K=p.a(0,0);this.Za()}});Skillseditor=null;
SkillsEditor=Popup.extend({Hb:K[0].name,N:0,rd:function(){return{panels:{position:p.a(300,10),children:{main_panel:{c:p.a(0,0),position:p.a(0,0),size:p.size(420,396),u:p.J(0,0,100,120),children:{tab1:{children:{tiles:{c:p.a(0,1),position:p.a(16,320),Ba:K[0].name},textureleftbtn:{position:p.a(208,340),size:p.size(16,32),u:P,c:p.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.i(0,0,0)}}},texturerightbtn:{position:p.a(320,340),size:p.size(16,32),u:P,c:p.a(0,
0),children:{text:{label:"\x3e\x3e",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.i(0,0,0)}}},textureName:{position:p.a(224,340),size:p.size(96,32),u:p.J(255,255,255,170),c:p.a(0,0),children:{text:{label:K[0].name,fontSize:12,c:p.a(0.5,0.5),position:p.a(48,16),color:p.i(0,0,0)}}},leftbtn:{position:p.a(0,64),size:p.size(16,252),u:p.J(0,0,255,255),c:p.a(0,0),children:{text:{label:"\x3c",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,160),color:p.i(255,255,255)}}},rightbtn:{position:p.a(336,64),size:p.size(16,
252),u:p.J(0,0,255,255),c:p.a(0,0),children:{text:{label:"\x3e",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,160),color:p.i(255,255,255)}}},upbtn:{position:p.a(16,320),size:p.size(320,16),u:p.J(0,0,255,255),c:p.a(0,0),children:{text:{label:"^",fontSize:12,c:p.a(0.5,0.5),position:p.a(160,8),color:p.i(255,255,255)}}},downbtn:{position:p.a(16,48),size:p.size(320,16),u:p.J(0,0,255,255),c:p.a(0,0),children:{text:{label:"v",fontSize:12,c:p.a(0.5,0.5),position:p.a(160,8),color:p.i(255,255,255)}}},highlightnode:{c:p.a(0,
0),position:p.a(0,0),size:p.size(32,32),u:p.J(255,100,100,255)},selectednode:{c:p.a(0,0),position:p.a(0,0),size:p.size(32,32),u:p.J(100,255,100,255)}}},tab2:{children:{name_text:{label:"Skill Name",fontSize:10,c:p.a(0,0),position:p.a(8,344)},name_entry:{size:p.size(136,32),position:p.a(4,312)},healthcolor_text:{label:"Healthbar Color",fontSize:10,c:p.a(0,0),position:p.a(8,250)},healthcolor_entry:{size:p.size(136,32),position:p.a(4,210)},tile:{c:p.a(0,1),position:p.a(55,150),Ba:K[0].name},healthbtn:{position:p.a(8,
265),size:p.size(128,26),u:R,c:p.a(0,0),children:{text:{label:"NOT HEALTHBAR",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.i(0,0,0)}}}}},tab1Clickable:{position:p.a(0,376),size:p.size(60,20),u:P,c:p.a(0,0),children:{text:{label:"Icon",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.i(0,0,0)}}},tab2Clickable:{position:p.a(64,376),size:p.size(60,20),u:P,c:p.a(0,0),children:{text:{label:"Details",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.i(0,0,0)}}},okbtn:{position:p.a(76,
8),size:p.size(60,32),u:P,c:p.a(0,0),children:{text:{label:"OK",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.i(0,0,0)}}},cancelbtn:{position:p.a(8,8),size:p.size(60,32),u:P,c:p.a(0,0),children:{text:{label:"Cancel",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.i(0,0,0)}}}}},control_panel:{c:p.a(0,0),position:p.a(0,396),size:p.size(420,32),u:p.J(255,0,0,200),children:{header:{label:"Skill Editor",fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(391,3),size:p.size(26,
26),c:p.a(0,0),u:p.J(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.i(0,0,0),c:p.a(0.5,0.5),position:p.a(13,13)}}}}}}}}},qd:function(){return"SkillsEditor"},ib:null,No:null,Cc:null,Lb:0,H:null,data:null,r:function(a){this._super();this.data={sprite:{texture:K[0].name,position:{x:0,y:0}},additionalData:{},healthbar:null,name:""};this.Hb=K[0].name;this.N=0;this.Cc=this.ib=null;this.Lb=0;this.H=null;this.K=p.a(0,0);this.Cc=[null,352,142];this.H=a.H;a&&a.data&&(this.data=a.data)},gs:function(a){H({saveskills:a+
"",skillsdata:this.data})},zr:function(a,c){H({saveskillswhole:c})},Ua:function(){this._super();this.b.main_panel.tab1.highlightnode.X(0);this.b.main_panel.tab1.selectednode.X(127);for(var a in K)K[a].name==this.data.sprite.texture&&(this.N=a,this.Hb=K[a].name);this.b.main_panel.tab1.textureName.text.ga(this.Hb);this.b.main_panel.tab1.tiles.Y(K[this.N].texture);for(a=this.data.sprite.position.x;10<=a;)a--,this.K.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.K.y++;a=p.a(32*(this.data.sprite.position.x-
this.K.x),32*(this.data.sprite.position.y-this.K.y));this.b.main_panel.tab1.selectednode.t(this.b.main_panel.tab1.tiles.m.x+a.x,this.b.main_panel.tab1.tiles.m.y-(a.y+32));this.b.main_panel.tab2.tile.Y(K[this.N].texture);this.b.main_panel.tab2.tile.jb(p.rect(Math.floor(32*this.data.sprite.position.x),Math.floor(32*this.data.sprite.position.y),32,32));this.ib=new Z(this.b.main_panel.tab2.name_entry,p.size(this.b.main_panel.tab2.name_entry.e().width,this.b.main_panel.tab2.name_entry.e().height),p.a(0,
this.b.main_panel.tab2.name_entry.e().height),this.data.name?this.data.name:"",p.J(100,100,100),p.i(255,255,255));this.ib.Fe(!0);this.No=new Z(this.b.main_panel.tab2.healthcolor_entry,p.size(this.b.main_panel.tab2.healthcolor_entry.e().width,this.b.main_panel.tab2.healthcolor_entry.e().height),p.a(0,this.b.main_panel.tab2.healthcolor_entry.e().height),this.data.healthbar?this.data.healthbar:"",p.J(100,100,100),p.i(255,255,255));this.No.Fe(!0);this.b.main_panel.tab2.healthbtn.k(R);this.b.main_panel.tab2.healthbtn.text.ga("NOT HEALTHBAR");
null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.k(Q),this.b.main_panel.tab2.healthbtn.text.ga("IS HEALTHBAR"));this.ud(1);this.Za()},rJ:function(){},tb:function(a){this._super();if(this.H){var c=this.H;!0!=a&&this.H.fd(function(){c.Xe(null)})}},Jh:function(a){a=a.Q;if(1==this.Lb&&(this.b.main_panel.tab1.highlightnode.X(0),a=this.b.main_panel.tab1.tiles.Xa(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.e().width&&a.y<=this.b.main_panel.tab1.tiles.e().height))return a.x=
a.x-a.x%32+16,a.y=a.y-a.y%32+64,this.b.main_panel.tab1.highlightnode.X(127),this.b.main_panel.tab1.highlightnode.t(a),!0},ud:function(a){a!=this.Lb&&(this.b.main_panel.ba(this.Cc[a],this.b.main_panel.e().height),this.b.control_panel.ba(this.Cc[a],this.b.control_panel.e().height),this.b.main_panel.tab2.name_entry.Bb(this.b.main_panel.tab2.name_entry.m.B-1E3),this.b.main_panel.tab2.healthcolor_entry.Bb(this.b.main_panel.tab2.healthcolor_entry.m.B-1E3),this.b.main_panel.tab2.healthcolor_text.v(!1),this.Lb=
a,this.b.main_panel.tab1.v(!1),this.b.main_panel.tab2.v(!1),this.b.main_panel.tab1Clickable.k(P),this.b.main_panel.tab2Clickable.k(P),this.b.main_panel["tab"+a].v(!0),this.b.main_panel["tab"+a+"Clickable"].k(p.J(255,255,0,255)),this.b.control_panel.exitBtn.Bb(this.Cc[a]-29));2==a&&(this.b.main_panel.tab2.name_entry.Bb(4),null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthcolor_entry.Bb(4),this.b.main_panel.tab2.healthcolor_text.v(!0)))},Za:function(){this.wc(this.Za);
this.b.main_panel.tab1.tiles.T()&&!0==this.b.main_panel.tab1.tiles.T().ec&&(this.xd(this.Za),this.b.main_panel.tab1.tiles.jb(p.rect(Math.floor(32*this.K.x),Math.floor(32*this.K.y),320>K[this.N].texture.e().width?K[this.N].texture.e().width:320,256>K[this.N].texture.e().height?K[this.N].texture.e().height:256)))},zb:function(a){if(this._super(a))return!0;this.Ef=null;a=a.Q;var c=this.b.main_panel.Xa(a);if(S(this.b.main_panel.tab1Clickable,c))return this.ud(1),!0;if(S(this.b.main_panel.tab2Clickable,
c))return this.ud(2),!0;if(S(this.b.main_panel.okbtn,c)){if(null==this.ib.ma()||""==this.ib.ma())return!0;this.Eh=!0;this.data.name=this.ib.ma();if(null!=this.No.ma()||""!=this.No.ma())this.data.healthbar=this.No.ma();this.H.Xe(this.data);return!0}if(S(this.b.main_panel.cancelbtn,c)){this.Eh=!0;var d=this.H;this.H.fd(function(){d.Xe(null)});return!0}if(1==this.Lb){if(S(this.b.main_panel.tab1.leftbtn,c))return 264<K[this.N].texture.e().width&&0<this.K.x&&(this.K.x--,this.Za()),!0;if(S(this.b.main_panel.tab1.rightbtn,
c))return 320<K[this.N].texture.e().width&&this.K.x<(K[this.N].texture.e().width-320)/32&&(this.K.x++,this.Za()),!0;if(S(this.b.main_panel.tab1.upbtn,c))return 320<K[this.N].texture.e().height&&0<this.K.y&&(this.K.y--,this.Za()),!0;if(S(this.b.main_panel.tab1.downbtn,c))return 320<K[this.N].texture.e().height&&this.K.y<(K[this.N].texture.e().height-320)/32&&(this.K.y++,this.Za()),!0;if(S(this.b.main_panel.tab1.texturerightbtn,c))return this.Wm(),!0;if(S(this.b.main_panel.tab1.textureleftbtn,c))return this.Xm(),
!0;c=this.b.main_panel.tab1.tiles.Xa(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.e().width&&c.y<=this.b.main_panel.tab1.tiles.e().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+64;this.b.main_panel.tab1.selectednode.X(0);if(this.b.main_panel.tab1.selectednode.m.B!=c.x||this.b.main_panel.tab1.selectednode.m.G!=c.y)this.b.main_panel.tab1.selectednode.X(127),this.b.main_panel.tab1.selectednode.t(c);a=p.a((this.b.main_panel.tab1.selectednode.m.B-16)/32+this.K.x,8-(this.b.main_panel.tab1.selectednode.m.G-
64)/32+this.K.y-1);this.b.main_panel.tab2.tile.jb(p.rect(32*a.x,32*a.y,32,32));this.data.sprite.position=a;console.log("TOUCHED");return!0}}return 2==this.Lb&&S(this.b.main_panel.tab2.healthbtn,c)?(this.eW(),!0):!1},eW:function(){this.b.main_panel.tab2.healthcolor_entry.Bb(this.b.main_panel.tab2.healthcolor_entry.m.B-1E3);this.b.main_panel.tab2.healthcolor_text.v(!1);null!=this.data.healthbar&&""!=this.data.healthbar?(this.data.healthbar="",this.No.Yg("")):(this.data.healthbar="FF0000",this.b.main_panel.tab2.healthcolor_entry.Bb(4),
this.b.main_panel.tab2.healthcolor_text.v(!0));this.b.main_panel.tab2.healthbtn.k(R);this.b.main_panel.tab2.healthbtn.text.ga("NOT HEALTHBAR");null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.k(Q),this.b.main_panel.tab2.healthbtn.text.ga("IS HEALTHBAR"))},Wm:function(){this.N>=K.length-1&&(this.N=-1);this.N++;this.b.main_panel.tab1.tiles.Y(K[this.N].texture);this.b.main_panel.tab2.tile.Y(K[this.N].texture);this.Hb=K[this.N].name;this.b.main_panel.tab1.textureName.text.ga(this.Hb);
this.data.sprite.texture=this.Hb;this.K=p.a(0,0);this.Za()},Xm:function(){0>=this.N&&(this.N=K.length);this.N--;this.b.main_panel.tab1.tiles.Y(K[this.N].texture);this.b.main_panel.tab2.tile.Y(K[this.N].texture);this.Hb=K[this.N].name;this.b.main_panel.tab1.textureName.text.ga(this.Hb);this.K=p.a(0,0);this.Za()}});PopupList=Popup.extend({Mg:null,Qd:[],YB:null,qs:!1,Jw:-1,m6:0,lQ:null,yf:null,tb:function(){this._super();this.H&&this.H.Rb(!0)},r:function(a){this._super();this.Mg=null;this.Qd=[];this.YB=null;this.qs=!1;this.Jw=-1;this.Mg=a.zj;a.list&&(this.Qd=a.list);this.YB=a.name;delegate=a.H},Ua:function(){this._super();this.nC()},yf:null,nC:function(){this.yf&&this.yf.ZB.S();var a=[],c=[],d=p.Na.d();this.lQ={};for(var e in this.Qd)if(a[e]=p.F.create(),a[e].ba(324,32),null==this.Qd[e])this.Qd.splice(e,1);else{if(null!=
delegate){var f=p.w.Hc(d.Kb("GUI/use.png"));f.t(p.a(244,6));f.ea(p.a(0,0))}var g=p.Eb.create(p.J(0,0,0,127),316,1);g.t(p.a(4,0));var h=p.V.create(this.Qd[e].name,"Arial",20);h.ea(p.a(0,0.5));h.t(p.a(0,16));var k=p.w.Hc(d.Kb("GUI/edit.png"));k.t(p.a(272,6));k.ea(p.a(0,0));var l=p.w.Hc(d.Kb("GUI/trash.png"));l.t(p.a(300,6));l.ea(p.a(0,0));k.Iv="Edit";var m=[];m.push(k);l.Iv="Delete";m.push(l);null!=delegate&&(f.Iv="Use",m.push(f));c.push(m);a[e].p(g);a[e].p(h);a[e].p(k);a[e].p(l);null!=delegate&&a[e].p(f)}d=
p.Eb.create(p.J(70,200,70,255),90,26);e=p.V.create("+","Arial",20);e.t(45,13);e.ea(p.a(0.5,0.5));d.t(p.a(120,0));d.Iv="Add";d.p(e);c.push([d]);a.push(d);this.yf=this.b.main_panel.list;var n=this;this.yf.iH=function(){return p.size(324,32*a.length)};this.yf.hH=function(){return a.length};this.yf.tR=function(c){return a[c].e()};this.yf.ZQ=function(c){return a[c]};this.yf.pU=function(a,c,d){n.Xa(d.Q);if(!0!=n.qs)switch(a){case "Delete":n.$.p(DropDownList.wr(n,n.nQ,["Cancel","Delete"],d.Q));n.Uv=c;break;
case "Edit":n.qs=!0;n.Mg.r({H:n,data:n.Qd[c]});n.$.p(n.Mg);n.Rb(!1);n.Mg.Ua();n.Jw=c+"";break;case "Add":n.wG=!0,n.qs=!0,n.Jw=n.Qd.length,n.Mg.r({H:n,data:null}),n.Rb(!1),n.$.p(n.Mg),n.Mg.Ua()}};this.yf.ZB=ListView.create(this.yf);this.yf.ZB.IU(c);this.yf.p(this.yf.ZB)},rd:function(){return{panels:{position:p.a(300,200),children:{background_image:{Ba:"GUI/list_panel.png",c:p.a(0,0)},main_panel:{c:p.a(0,0),size:p.size(365,328),children:{list:{size:p.size(324,328),position:p.a(0,0),c:p.a(0,0)}}},control_panel:{c:p.a(0,
0),position:p.a(0,328),size:p.size(365,32),children:{header:{label:this.YB,fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(337,6),size:p.size(20,20),c:p.a(0,0),Ba:"GUI/close.png"}}}}}}},Uv:null,nQ:function(a){switch(a){case 1:this.H.Uv&&(this.H.oQ(this.H.Uv),this.H.Uv=null)}},zb:function(a){if(this._super(a))return!0;this.Ef=null;a=this.b.main_panel.Xa(a.Q);return S(this.b.main_panel,a)?!0:!1},Xe:function(a){a&&(this.Mg.gs(this.Jw),this.wG&&(this.Qd.push(a),this.nC()));this.Rb(!0);
this.qs=this.wG=!1;var c=this;this.fd(function(){c.Mg.tb(!0);c.Mg.S()})},oQ:function(a){this.Qd.splice(a,1);this.Mg.zr(a,this.Qd);this.nC()}});Warpeditor=null;
WarpEditor=Popup.extend({qd:function(){return"WarpEditor"},gs:function(a){H({savewarps:a+"",warpdata:this.data})},zr:function(a,c){H({savewarpswhole:c})},rd:function(){return{panels:{position:p.a(300,200),children:{main_panel:{c:p.a(0,0),size:p.size(180,160),u:p.J(100,255,100,200),children:{okbtn:{position:p.a(100,16),size:p.size(60,32),u:p.J(255,255,255,255),c:p.a(0,0),children:{text:{label:"OK",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.i(0,0,0)}}},cancelbtn:{position:p.a(20,16),size:p.size(60,
32),u:p.J(255,255,255,255),c:p.a(0,0),children:{text:{label:"Cancel",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.i(0,0,0)}}},namelbl:{label:"Name of warp.",fontSize:12,c:p.a(0,0),position:p.a(20,140),color:p.i(0,0,0)},nameEntry:{position:p.a(16,110),size:p.size(120,30)},mapnumlbl:{label:"Map #",fontSize:12,c:p.a(0,0),position:p.a(20,90),color:p.i(0,0,0)},mapNumEntry:{position:p.a(16,60),size:p.size(40,30)},mapxlbl:{label:"x",fontSize:12,c:p.a(0,0),position:p.a(80,90),color:p.i(0,0,0)},
mapXEntry:{position:p.a(76,60),size:p.size(36,30)},mapylbl:{label:"y",fontSize:12,c:p.a(0,0),position:p.a(130,90),color:p.i(0,0,0)},mapYEntry:{position:p.a(126,60),size:p.size(36,30)}}},control_panel:{c:p.a(0,0),position:p.a(0,160),size:p.size(180,32),u:p.J(255,0,0,200),children:{header:{label:"Warp Editor",fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(151,3),size:p.size(26,26),c:p.a(0,0),u:p.J(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.i(0,0,0),c:p.a(0.5,
0.5),position:p.a(13,13)}}}}}}}}},ib:null,Wo:null,Xo:null,Yo:null,H:null,data:null,r:function(a){this._super();this.H=this.Yo=this.Xo=this.Wo=this.ib=null;this.data={mapTo:0,position:0,name:""};a.data&&(this.data=a.data);this.H=a.H},Ua:function(){this._super();var a=this.data.position%U,c=Math.floor(this.data.position/U);this.ib=new Z(this.b.main_panel.nameEntry,p.size(this.b.main_panel.nameEntry.e().width,this.b.main_panel.nameEntry.e().height),p.a(0,this.b.main_panel.nameEntry.e().height),this.data.name,
p.J(100,100,100),p.i(255,255,255));this.ib.Fe(!0);this.Wo=new Z(this.b.main_panel.mapNumEntry,p.size(this.b.main_panel.mapNumEntry.e().width,this.b.main_panel.mapNumEntry.e().height),p.a(0,this.b.main_panel.mapNumEntry.e().height),""+this.data.mapTo,p.J(100,100,100),p.i(255,255,255));this.Wo.Fe(!0);this.Xo=new Z(this.b.main_panel.mapXEntry,p.size(this.b.main_panel.mapXEntry.e().width,this.b.main_panel.mapXEntry.e().height),p.a(0,this.b.main_panel.mapXEntry.e().height),""+a,p.J(100,100,100),p.i(255,
255,255));this.Xo.Fe(!0);this.Yo=new Z(this.b.main_panel.mapYEntry,p.size(this.b.main_panel.mapYEntry.e().width,this.b.main_panel.mapYEntry.e().height),p.a(0,this.b.main_panel.mapYEntry.e().height),""+c,p.J(100,100,100),p.i(255,255,255));this.Yo.Fe(!0)},zb:function(a){if(this._super(a))return!0;this.Ef=null;a=this.b.main_panel.Xa(a.Q);if(S(this.b.main_panel.okbtn,a)){if(null==this.ib.ma()||""==this.ib.ma()||null==this.Wo.ma()||""==this.Wo.ma()||null==this.Xo.ma()||""==this.Xo.ma()||null==this.Yo.ma()||
""==this.Yo.ma())return!0;this.Eh=!0;this.data.position=V(parseInt(this.Xo.ma()),La-parseInt(this.Yo.ma()));this.data.mapTo=parseInt(this.Wo.ma());this.data.name=this.ib.ma();this.H.Xe(this.data);return!0}if(S(this.b.main_panel.cancelbtn,a)){this.Eh=!0;var c=this.H;this.H.fd(function(){c.Xe(null)});return!0}},tb:function(a){this._super();var c=this.H;a||this.H.fd(function(){c.Xe(null)})}});Signeditor=null;
SignEditor=Popup.extend({qd:function(){return"SignEditor"},gs:function(a){H({savesigns:a+"",signsdata:this.data})},zr:function(a,c){H({savesignswhole:c})},rd:function(){return{panels:{position:p.a(300,200),children:{main_panel:{c:p.a(0,0),size:p.size(142,256),u:p.J(100,255,100,200),children:{okbtn:{position:p.a(74,16),size:p.size(60,32),u:p.J(255,255,255,255),c:p.a(0,0),children:{text:{label:"OK",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.i(0,0,0)}}},cancelbtn:{position:p.a(8,16),size:p.size(60,
32),u:p.J(255,255,255,255),c:p.a(0,0),children:{text:{label:"Cancel",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.i(0,0,0)}}},namelbl:{label:"Name of sign.",fontSize:12,c:p.a(0,0),position:p.a(6,238),color:p.i(0,0,0)},nameEntry:{position:p.a(4,206),size:p.size(120,30)},signlbl:{label:"Contents",fontSize:12,c:p.a(0,0),position:p.a(6,190),color:p.i(0,0,0)},signEntry:{position:p.a(4,60),size:p.size(120,128)}}},control_panel:{c:p.a(0,0),position:p.a(0,256),size:p.size(142,32),u:p.J(255,0,0,
200),children:{header:{label:"Sign Editor",fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(112,3),size:p.size(26,26),c:p.a(0,0),u:p.J(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.i(0,0,0),c:p.a(0.5,0.5),position:p.a(13,13)}}}}}}}}},ib:null,lp:null,H:null,data:null,r:function(a){this._super();this.H=this.lp=this.ib=null;this.data={label:"",name:""};a.data&&(this.data=a.data);this.H=a.H},Ua:function(){this._super();this.ib=new Z(this.b.main_panel.nameEntry,p.size(this.b.main_panel.nameEntry.e().width,
this.b.main_panel.nameEntry.e().height),p.a(0,this.b.main_panel.nameEntry.e().height),this.data.name,p.J(100,100,100),p.i(255,255,255));this.ib.Fe(!0);this.lp=new Z(this.b.main_panel.signEntry,p.size(this.b.main_panel.signEntry.e().width,this.b.main_panel.signEntry.e().height),p.a(0,this.b.main_panel.signEntry.e().height),""+this.data.label,p.J(100,100,100),p.i(255,255,255),!0);this.lp.Fe(!0)},zb:function(a){if(this._super(a))return!0;this.Ef=null;a=this.b.main_panel.Xa(a.Q);if(S(this.b.main_panel.okbtn,
a)){if(null==this.ib.ma()||""==this.ib.ma()||null==this.lp.ma()||""==this.lp.ma())return!0;this.Eh=!0;this.data.label=this.lp.ma();this.data.name=this.ib.ma();this.H.Xe(this.data);return!0}if(S(this.b.main_panel.cancelbtn,a)){this.Eh=!0;var c=this.H;this.H.fd(function(){c.Xe(null)});return!0}},tb:function(a){this._super();var c=this.H;a||this.H.fd(function(){c.Xe(null)})}});var Ja=Ma.extend({ctor:function(){this._super()},fK:function(){this._super()},Ua:function(){this._super()},tb:function(){this._super()},zb:function(a){p.Ab(this.b.health_panel.Qa(),a.Q)&&y.d().qm("Game")},r:function(){var a=p.V.create("ITS WOKKIN!","Arial",16);a.k(p.i(0,0,0));a.t(p.a(200,200));this.p(a);this._super()}});var Na=new XMLHttpRequest;Na.open("GET","news.txt",!1);Na.send(null);var Oa=Na.responseText;
Login=Ma.extend({CC:!1,As:!1,r:function(a){this._super();y.Nm(this);this.$r=new Z(this.b.name_entry,p.size(this.b.name_entry.e().width,this.b.name_entry.e().height),p.a(0,this.b.name_entry.e().height),"Enter Name",p.J(100,100,100),p.i(255,255,255));a&&(a.$H&&(u=[],H({logout:!0})),this.Pm(a.DC));this.wc(this.YC)},Qk:function(a){switch(a){case "ENTER":!1==this.As&&this.CC?(this.As=!0,H({login:!0,username:this.$r.ma()})):this.dC("Server is offline!")}},Pm:function(a){this.CC=a;!0==a?(this.b.server_activity.ga("Server: Online"),
this.b.server_activity.k(p.i(0,255,0))):(this.b.server_activity.ga("Server: Offline"),this.b.server_activity.k(p.i(255,0,0)))},YC:function(){if(0<u.length)for(var a=u.length-1;0<=a;a--)reactToSocketMessage(u[a]),u.splice(a,1)},rd:function(){return{panels:{children:{background:{Ba:"GUI/splash.png",size:p.size(960,640),c:p.a(0,0),position:p.a(0,0)},name_entry:{size:p.size(300,30),position:p.a(325,300)},go_button:{position:p.a(420,220),size:p.size(120,40),u:p.J(0,0,0,255),children:{label:{label:"Play",
fontSize:20,color:p.i(255,255,255),c:p.a(0.5,0.5),position:p.a(60,20)}}},news_message:{label:Oa,fontSize:14,c:p.a(0,1),position:p.a(30,610)},server_message:{label:"",fontSize:16,color:p.i(127,0,0),c:p.a(0,0),position:p.a(327,325)},server_activity:{position:p.a(910,630),size:p.size(100,20),c:p.a(0.5,0.5),label:"Server: Offline",color:p.i(255,0,0)}}}}},zb:function(a){if(null!=this.$r.ma()&&p.Ab(p.rect(this.b.go_button.m.B,this.b.go_button.m.G,this.b.go_button.e().width,this.b.go_button.e().height),
a.Q))return!1==this.As&&this.CC?(this.As=!0,H({login:!0,username:this.$r.ma()})):this.dC("Server is offline!"),!0},SS:function(){y.d().qm("Game",{cK:this.$r.ma(),map:1})},dC:function(a){this.b.server_message.ga(a);this.As=!1},Vc:function(){},cf:function(){},I6:function(){y.d().qm("Game",{cK:this.$r.ma()})}});Ja=null;MapMaster=!1;
var Pa=Ma.extend({ctor:function(){this._super()},rd:function(){return{panels:{children:{logout_button:{position:p.a(Y.width-52,Y.height-52),c:p.a(0,0),size:p.size(48,48),Ba:"GUI/logout.png"},quicknav_button:{position:p.a(Y.width-30,Math.floor(Y.height/2)-24),c:p.a(0,0),size:p.size(48,48),Ba:"GUI/quickmenu_closed_icon.png"},inventory_button:{position:p.a(Y.width-52,Math.floor(Y.height/2)+60),c:p.a(0,0),size:p.size(48,48),Ba:"GUI/inventory_icon.png"},equipment_button:{position:p.a(Y.width-82,Math.floor(Y.height/
2)+4),c:p.a(0,0),size:p.size(48,48),Ba:"GUI/equipment_icon.png"},skill_button:{position:p.a(Y.width-82,Math.floor(Y.height/2)-52),c:p.a(0,0),size:p.size(48,48),Ba:"GUI/skills_icon.png"},chat_button:{position:p.a(Y.width-52,Math.floor(Y.height/2)-108),c:p.a(0,0),size:p.size(48,48),Ba:"GUI/chat_icon.png"},quickedit_button:{position:p.a(0,Math.floor(Y.height/2)-24),c:p.a(0,0),size:p.size(48,48),Ba:"GUI/quickedit_closed_icon.png"},mapedit_button:{position:p.a(4,Math.floor(Y.height/2)+116),c:p.a(0,0),
size:p.size(48,48),Ba:"GUI/mapeditor_icon.png"},npcedit_button:{position:p.a(34,Math.floor(Y.height/2)+60),c:p.a(0,0),size:p.size(48,48),Ba:"GUI/npceditor_icon.png"},itemedit_button:{position:p.a(64,Math.floor(Y.height/2)+4),c:p.a(0,0),size:p.size(48,48),Ba:"GUI/itemeditor_icon.png"},skilledit_button:{position:p.a(64,Math.floor(Y.height/2)-52),c:p.a(0,0),size:p.size(48,48),Ba:"GUI/skilleditor_icon.png"},signedit_button:{position:p.a(34,Math.floor(Y.height/2)-108),c:p.a(0,0),size:p.size(48,48),Ba:"GUI/signeditor_icon.png"},
warpedit_button:{position:p.a(4,Math.floor(Y.height/2)-164),c:p.a(0,0),size:p.size(48,48),Ba:"GUI/warpeditor_icon.png"},bankedit_button:{position:p.a(90,Math.floor(Y.height/2)+60),c:p.a(0,0),size:p.size(48,48),Ba:"GUI/bankeditor_icon.png"},shopedit_button:{position:p.a(120,Math.floor(Y.height/2)+4),c:p.a(0,0),size:p.size(48,48),Ba:"GUI/shopeditor_icon.png"},questedit_button:{position:p.a(120,Math.floor(Y.height/2)-52),c:p.a(0,0),size:p.size(48,48),Ba:"GUI/questeditor_icon.png"}}}}},SH:!1,QH:!1,Pm:function(a){!1==
a&&(this.jB(),y.d().qm("Login",{DC:!1}))},jB:function(){F.pd();F.ks();null!=Equipment&&(Equipment.tb(),Equipment.S(),Equipment=null);null!=Inventory&&(Inventory.tb(),Inventory.S(),Inventory=null);null!=Skills&&(Skills.tb(),Skills.S(),Skills=null);SkillBarsInstance.S();A.pd();A.ks();D.pd();D.ks()},zb:function(a){if(p.Ab(p.rect(this.b.logout_button.m.B,this.b.logout_button.m.G,this.b.logout_button.e().width,this.b.logout_button.e().height),a.Q))return this.jB(),y.d().qm("Login",{$H:!0,DC:!0}),!0;y.Nm(this);
if(p.Ab(this.b.chat_button.Qa(),a.Q)&&this.b.chat_button.pa)return this.Qk("C"),!0;if(p.Ab(this.b.inventory_button.Qa(),a.Q)&&this.b.inventory_button.pa)return this.Qk("I"),!0;if(p.Ab(this.b.equipment_button.Qa(),a.Q)&&this.b.equipment_button.pa)return this.Qk("E"),!0;if(p.Ab(this.b.skill_button.Qa(),a.Q)&&this.b.skill_button.pa)return this.Qk("S"),!0;if(p.Ab(this.b.quickedit_button.Qa(),a.Q)&&this.b.quickedit_button.pa)return this.EJ(!this.QH),!0;if(p.Ab(this.b.quicknav_button.Qa(),a.Q)&&this.b.quicknav_button.pa)return this.FJ(!this.SH),
!0;if(p.Ab(this.b.mapedit_button.Qa(),a.Q)&&this.b.mapedit_button.pa)return this.Bi("/editmap"),!0;if(p.Ab(this.b.npcedit_button.Qa(),a.Q)&&this.b.npcedit_button.pa)return this.Bi("/editnpc"),!0;if(p.Ab(this.b.itemedit_button.Qa(),a.Q)&&this.b.itemedit_button.pa)return this.Bi("/edititem"),!0;if(p.Ab(this.b.skilledit_button.Qa(),a.Q)&&this.b.skilledit_button.pa)return this.Bi("/editskill"),!0;if(p.Ab(this.b.signedit_button.Qa(),a.Q)&&this.b.signedit_button.pa)return this.Bi("/editsign"),!0;if(p.Ab(this.b.warpedit_button.Qa(),
a.Q)&&this.b.warpedit_button.pa)return this.Bi("/editwarp"),!0;if(p.Ab(this.b.shopedit_button.Qa(),a.Q)&&this.b.shopedit_button.pa)return this.Bi("/editshop"),!0;if(p.Ab(this.b.questedit_button.Qa(),a.Q)&&this.b.questedit_button.pa)return this.Bi("/editquest"),!0;if(p.Ab(this.b.bankedit_button.Qa(),a.Q)&&this.b.bankedit_button.pa)return this.Bi("/editbank"),!0},GJ:function(a){null==Sign||Sign.$||(Sign=null);Sign?(Sign.tb(),Sign.S(),Sign=null):(Sign=new SignPanel,Sign.r(a),Sign.Ua(),this.p(Sign))},
TV:function(a){null==Book||Book.$||(Book=null);Book?(Book.tb(),Book.S(),Book=null):(Book=new BookPanel,Book.r(a),Book.Ua(),this.p(Book))},cf:function(){},Qk:function(a){switch(a){case "C":D.vS()?D.BH():D.show();break;case "ENTER":D.UB()||D.GC(!0);break;case "SPACE":A.l.fa.oS();Inventory&&Inventory.gf();break;case "CTRL":A.l.fa.nS();break;case "ESC":this.jB();y.d().qm("Login",{$H:!0,DC:!0});break;case "I":null==Inventory||Inventory.$||(Inventory=null);Inventory?(Inventory.tb(),Inventory.S(),Inventory=
null):(Inventory=new InventoryPanel,Inventory.r(),Inventory.Ua(),this.p(Inventory));break;case "E":null==Equipment||Equipment.$||(Equipment=null);Equipment?(Equipment.tb(),Equipment.S(),Equipment=null):(Equipment=new EquipmentPanel,Equipment.r(),Equipment.Ua(),this.p(Equipment));break;case "S":null==Skills||Skills.$||(Skills=null),Skills?(Skills.tb(),Skills.S(),Skills=null):(Skills=new SkillsPanel,Skills.r(),Skills.Ua(),this.p(Skills))}},cC:function(a){var c=A.l.fa.xf();A.l.fa.path=null;if(0==c.x%
1&&0==c.y%1)switch(a){case "RIGHTARROW":A.l.fa.pp(c.x+1,c.y);break;case "LEFTARROW":A.l.fa.pp(c.x-1,c.y);break;case "UPARROW":A.l.fa.pp(c.x,c.y+1);break;case "DOWNARROW":A.l.fa.pp(c.x,c.y-1)}},FJ:function(a){this.SH=a;this.b.chat_button.v(a);this.b.inventory_button.v(a);this.b.equipment_button.v(a);this.b.skill_button.v(a);this.b.quicknav_button.Y(p.Na.d().Kb(!0==a?"GUI/quickmenu_opened_icon.png":"GUI/quickmenu_closed_icon.png"))},EJ:function(a){this.QH=a;this.b.mapedit_button.v(a);this.b.npcedit_button.v(a);
this.b.itemedit_button.v(a);this.b.skilledit_button.v(a);this.b.signedit_button.v(a);this.b.warpedit_button.v(a);this.b.shopedit_button.v(a);this.b.bankedit_button.v(a);this.b.questedit_button.v(a);this.b.quickedit_button.Y(p.Na.d().Kb(!0==a?"GUI/quickedit_opened_icon.png":"GUI/quickedit_closed_icon.png"))},Bi:function(a){if(a)switch(p.log(a),a){case "/editmap":null==Mapeditor||Mapeditor.$||(Mapeditor=null);Mapeditor?(Mapeditor.tb(),Mapeditor.S(),Mapeditor=null,F.Nw(null)):(Mapeditor=new MapEditor,
Mapeditor.r(),Mapeditor.Ua(),this.p(Mapeditor),F.Nw(Mapeditor));break;case "/editwarp":null==Warpeditor||Warpeditor.$||(Warpeditor=null);Warpeditor?(Warpeditor.tb(),Warpeditor.S(),Warpeditor=null):(Warpeditor=new PopupList,Warpeditor.r({H:null,zj:new WarpEditor,list:ObjectLists.pm(),name:"Warp List"}),Warpeditor.Ua(),this.p(Warpeditor));break;case "/editsign":null==Signeditor||Signeditor.$||(Signeditor=null);Signeditor?(Signeditor.tb(),Signeditor.S(),Signeditor=null):(Signeditor=new PopupList,Signeditor.r({H:null,
zj:new SignEditor,list:ObjectLists.Jr(),name:"Sign List"}),Signeditor.Ua(),this.p(Signeditor));break;case "/editskill":null==Skillseditor||Skillseditor.$||(Skillseditor=null);Skillseditor?(Skillseditor.tb(),Skillseditor.S(),Skillseditor=null):(Skillseditor=new PopupList,Skillseditor.r({H:null,zj:new SkillsEditor,list:ObjectLists.Ko(),name:"Skills List"}),Skillseditor.Ua(),this.p(Skillseditor));break;case "/edititem":null==Itemeditor||Itemeditor.$||(Itemeditor=null);Itemeditor?(Itemeditor.tb(),Itemeditor.S(),
Itemeditor=null,F.Nw(null)):(Itemeditor=new PopupList,Itemeditor.r({H:null,zj:new ItemEditor,list:ObjectLists.ui(),name:"Item List"}),Itemeditor.Ua(),this.p(Itemeditor));break;case "/editnpc":null==NPCeditor||NPCeditor.$||(NPCeditor=null);NPCeditor?(NPCeditor.tb(),NPCeditor.S(),NPCeditor=null,F.Nw(null)):(NPCeditor=new PopupList,NPCeditor.r({H:null,zj:new NPCEditor,list:ObjectLists.Fk(),name:"NPC List"}),NPCeditor.Ua(),this.p(NPCeditor));break;case "/help":D.showHelp();break;case "/commands":D.UV();
break;case "/diceroll":a=Math.floor(6*Math.random()+1);a=A.l.fa.getName()+" threw a dice and got "+a+".";D.yb(a);H({diceroll:a});break;case "/coinflip":a=1==Math.floor(3*Math.random()+1)?"Heads":"Tails";a=A.l.fa.getName()+" flipped a coin and got "+a+".";D.yb(a);H({coinflip:a});break;case "/dance":a=A.l.fa.getName()+" dances the dance of his people.";D.yb(a);H({dance:a});break;case "/afk":A.l.fa.updateStatus("AFK"),H({afk:!0})}},r:function(a){this._super();this.p(F.create());ObjectLists.d();a={name:a.cK,
zi:!0,Rm:{health:{vc:1,value:100,Af:200,zf:900},mana:{vc:1,value:100,Af:200,zf:99}},map:1,ts:"sprites1.png",rs:1};A.create(a);F.tP();this.b.S();this.kp(-20);this.fd(function(){F.d().Yk(a.map)});H({moveTo:A.l.fa.xf().x+A.l.fa.xf().y*U});this.p(D.create());this.p(va.create());this.FJ(!1);this.EJ(!1);this.p(this.b);this.wc(this.YC);this.wc(this.yU);Ja=this},YC:function(){if(0<u.length)for(var a=0;a<u.length;a++){var c=JSON.parse(u[a]);c.moveTo&&(!A.Dh(c.id)||A.Dh(c.id)&&!1==A.Dh(c.id).hg)?(reactToSocketMessage(JSON.stringify(c)),
u.splice(a,1)):c.moveTo||(reactToSocketMessage(JSON.stringify(c)),u.splice(a,1))}},yU:function(){if(!0==MapMaster){var a=A.nL(),c;for(c in a)if(!1==a[c].xw){var d=10*Math.random()+1,e=a[c].xf();switch(Math.floor(4*Math.random())+1){case 1:e.x++;break;case 2:e.y++;break;case 3:e.x--;break;case 4:e.y--}a[c].zV(e,d)}}}});var Qa=p.sa.extend({kc:null,v1:!1,GC:function(a){a?this.kc.Oa.focus():this.kc.Oa.blur()},UB:function(){return document.activeElement==this.kc.Oa},ga:function(a){this.kc.Yg(a)},yB:function(){return this.kc.ma()},r:function(){p.log("Ovveride inputbox init call if necessary")},ctor:function(a,c,d,e,f,g,h){this.kc=p.xp.create(p.size(c.width,c.height),p.Me.create(),h);this.kc.Yg(e);this.kc.mQ=e;this.kc.$U(p.i(g.h,g.g,g.f));this.kc.QI(p.i(f.h,f.g,f.f));this.kc.t(p.a(d.x,d.y));this.kc.ea(0,1);this.kc.Xg(this);
a.p(this.kc);this.r()}});var Ra=Qa.extend({Rv:function(a){a.Yg("")},Sv:function(a,c){c||("/"==a.ma().substring(0,1)?this.oU(a.ma()):0<a.ma().length&&D.yb(a.ma(),!0));a.Yg(I.uc.HG)},oU:function(a){y.d().Uc.Bi(a)},Tv:function(a,c){a.Yg(c);p.log("chatBox "+this.XE(a)+", TextChanged, text: "+c)},XE:function(){return"chatbox"}}),$=null,D=p.yc.extend({vj:null,r:function(){this.vj=new Ra(this.b.chat_panel,p.size(this.b.chat_panel.e().width-4,25),p.a(2,this.b.chat_panel.e().height-2),I.uc.HG,p.i(255,255,255),p.i(0,0,0));this.vj.kc.$.Ij(this.vj.kc.m.G+
59)},oG:function(a){for(var c=[],d=0;7>d;d++)c.push(this.b.chat_panel["label"+d].yB());this.b.chat_panel.label0.ga(a);for(d=1;8>d;d++)this.b.chat_panel["label"+d].ga(c[d-1])},rd:function(){return{panels:{children:{chat_panel:{size:p.size(400,150),Ba:"GUI/chat.png",c:p.a(0,0),opacity:200,position:p.a(0,-200),children:{label7:{label:"",position:p.a(5,0),c:p.a(0,0),color:p.i(0,0,0)},label6:{label:"",position:p.a(5,15),c:p.a(0,0),color:p.i(0,0,0)},label5:{label:"",position:p.a(5,30),c:p.a(0,0),color:p.i(0,
0,0)},label4:{label:"",position:p.a(5,45),c:p.a(0,0),color:p.i(0,0,0)},label3:{label:"",position:p.a(5,60),c:p.a(0,0),color:p.i(0,0,0)},label2:{label:"",position:p.a(5,75),c:p.a(0,0),color:p.i(0,0,0)},label1:{label:"",position:p.a(5,90),c:p.a(0,0),color:p.i(0,0,0)},label0:{label:"",position:p.a(5,105),c:p.a(0,0),color:p.i(0,0,0)}}}}}}}});D.create=function(){$||($=new D,$.b=Da($),$.p($.b),$.r(),D.BH(),D.VV());return $};D.d=function(){return $};
D.yb=function(a,c){50<a.length&&(a=a.substring(0,50)+"...");c?(H({chatMessage:a}),$.oG(A.l.fa.getName()+": "+a)):$.oG(a)};D.show=function(){$.vj.kc.$.Ij(0)};D.BH=function(){$.vj.kc.$.Ij(-$.vj.kc.m.G+59)};D.vS=function(){return 0!=$.vj.kc.$.m.G?!1:!0};D.GC=function(a){$.vj.GC(a)};D.UB=function(){return $.vj.UB()};D.showHelp=function(){D.yb(I.uc.TR);D.yb(I.uc.UR);D.yb(I.uc.VR);D.yb(I.uc.WR);D.yb(I.uc.XR)};D.UV=function(){D.yb(I.uc.VP);D.yb(I.uc.WP);D.yb(I.uc.XP);D.yb(I.uc.YP)};D.VV=function(){D.yb(I.uc.pS)};
D.pd=function(){$.b.S();$.b=null};D.ks=function(){$.S();$=null};var Z=Qa.extend({Or:!1,eI:!1,KG:!1,Rv:function(a){!1==this.KG&&a.Yg("")},Sv:function(a){null==a.ma()||""==a.ma().length&&this.eI?this.Or=!0:0<!a.ma().length?(a.Yg(this.kc.mQ),this.Or=!1):this.Or=!0},Tv:function(a,c){a.Yg(c);this.Or=!0},XE:function(){return"name_entry"},ma:function(){return!0==this.Or||!0==this.kQ?this.kc.ma():null},Yg:function(a){this.kc.Yg(a)},Fe:function(a){this.kQ=a},ls:function(a){this.eI=a},UU:function(a){this.KG=a},r:function(){}});var y=p.yc.extend({l:null,YA:null,Uc:null,mG:null,r:function(){var a=p.ia.d().Yv();this.YA=p.Eb.create(p.J(255,255,255,255),parseInt(4*a.width),parseInt(4*a.height));this.YA.ea(p.a(0,0));this.p(this.YA);this.qm("Login",{});this.wc(this.FP)},FP:function(){for(var a in wa)if(!0==wa[a]&&null!=this.Uc){var c=null;a=parseInt(a);switch(a){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c=
"CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a&&58>a||64<a&&91>a)&&(c=String.fromCharCode(a));null!=c&&this.Uc.cC(c)}},qm:function(a,c){null!=this.Uc&&(this.Uc.tb(),this.Uc.S(),this.Uc=null);switch(a){case "Login":this.Uc=new Login;break;case "Game":this.Uc=
new Pa}this.Uc.fK();this.p(this.Uc,1);this.Uc.cV(a);this.Uc.Ua();this.Uc.r(c)},h2:function(){return this.Uc.qd()}});y.d=function(){null==this.l&&(this.l=new y);return this.l};y.Nm=function(a){null==this.l&&(this.l=new y);this.l.mG=a};y.OQ=function(){null==this.l&&(this.l=new y);return this.l.mG};var Y;
new (p.Ji.extend({Kv:document.ccConfig,ctor:function(){this._super();p.Hs=this.Kv.COCOS2D_DEBUG;p.ZR();p.Yk(this.Kv.tag);p.ox.SV().rQ()},zP:function(){var a=this.Kv,c=p.P.d(),d=p.ia.d();Y=d.Yv();p.size(Y.width,Y.height);var e=p.size(Y.width,Y.height),f=p.jd.d();p.Ji.d();f.nJ(["res/Graphics"]);p.$g&&p.$g.d().m$("res/Audio");c.OU(1);d.EC(e.width,e.height,p.fn.SHOW_ALL);c.js(1/a.frameRate);a.test?p.test(a.test):(p.log("++++++++++++++++entry for game++++++++++++"),p.GS(function(a){p.Mx.mC(a,function(){document.getElementById("gameCanvas").setAttribute("tabindex","0");
document.getElementById("gameCanvas").focus();var a=y.d();p.P.d().FI(a);a.r()})}));return!0}}));
//@ sourceMappingURL=sourcemap