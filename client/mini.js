var b,aa={x0:"2D Circle Graphic/TOWNBOT2.bmp",y0:"2D Circle Graphic/TOWNBOT2.png",z0:"2D Circle Graphic/TOWNJNT2.bmp",S0:"2D Circle Graphic/_BACKUP_.bmp",R0:"40x40Tiles.png",p2:"GUI/bank.png",q2:"GUI/bankeditor_icon.png",s2:"GUI/book.png",v2:"GUI/btnDown.png",w2:"GUI/btnLeft.png",x2:"GUI/btnRight.png",y2:"GUI/btnUp.png",Q2:"GUI/chat.png",P2:"GUI/chat_icon.png",R2:"GUI/checkbox_checked.png",S2:"GUI/checkbox_uncheck.png",T2:"GUI/close.png",a3:"GUI/copy.png",d3:"GUI/cross_icon.png",i3:"GUI/defaultitem.png",
z3:"GUI/edit.png",A3:"GUI/editor-tab.png",D3:"GUI/equipment.png",C3:"GUI/equipment_icon.png",E3:"GUI/event_panel.png",F7:"GUI/healthbar.png",V7:"GUI/inventory.png",U7:"GUI/inventory_icon.png",K8:"GUI/itemeditor_bg.png",L8:"GUI/itemeditor_icon.png",M8:"GUI/itemeditor_tab1_bg.png",N8:"GUI/itemeditor_tab2_bg.png",O8:"GUI/itemeditor_tab3_bg.png",Z8:"GUI/list_panel.png",g9:"GUI/logout.png",j9:"GUI/mapeditor_icon.png",o9:"GUI/npceditor_icon.png",p9:"GUI/npctalk.png",u$:"GUI/quest_panel.png",v$:"GUI/questeditor_icon.png",
w$:"GUI/quickedit_closed_icon.png",x$:"GUI/quickedit_opened_icon.png",y$:"GUI/quickmenu_closed_icon.png",z$:"GUI/quickmenu_opened_icon.png",eaa:"GUI/save_icon.png",faa:"GUI/scripteditor_icon.png",gaa:"GUI/scripting_list.png",iaa:"GUI/selected.png",ica:"GUI/settings_icon.png",jca:"GUI/shop.png",kca:"GUI/shopeditor_icon.png",lca:"GUI/signeditor_bg.png",mca:"GUI/signeditor_icon.png",nca:"GUI/signpost.png",oca:"GUI/skilleditor_icon.png",qca:"GUI/skills.png",pca:"GUI/skills_icon.png",uca:"GUI/splash.png",
Sca:"GUI/texture_change_left.png",Tca:"GUI/texture_change_middle.png",Uca:"GUI/texture_change_right.png",Vca:"GUI/tick_icon.png",dda:"GUI/trash.png",mda:"GUI/use.png",wda:"GUI/warpeditor_bg.png",xda:"GUI/warpeditor_icon.png",z2:"building1.png",P8:"items1.png",vca:"sprites1.png",Wca:"tiles0.png",Xca:"tiles1.png"};var q=q||{},ba={};q.SU=function(a){var c=q.XD[ba.lI.LF];if(c){for(var d=[],e=0;e<c.length;++e)d.push({src:c[e]});a(d)}else a([])};ba={lI:{LF:"_0"}};q.XD={};q.XD[ba.lI.LF]=[];q.XD.NR=[];q=q||{};function r(){return arguments.callee.name||arguments.callee.toString().match(/^function ([^(]+)/)[1]}r.id=0|998*Math.random();r.xU=0|998*Math.random();
r.mI=function(a,c,d){for(var e=a.toString(),f=e.substring(e.indexOf("(")+1,e.indexOf(")")),f=f.trim(),e=e.substring(e.indexOf("{")+1,e.lastIndexOf("}"));-1!=e.indexOf("this._super");)var g=e.indexOf("this._super"),h=e.indexOf("(",g),k=e.substring(h+1,e.indexOf(")",h)),k=(k=k.trim())?",":"",l=arguments.callee.HM(),e=e.substring(0,g)+l+"["+d+"]."+c+".call(this"+k+e.substring(h+1);return Function(f,e)};r.mI.HM=r;r.sT=function(){return this.id++};r.tT=function(){return this.xU++};
(function(){var a=/\b_super\b/,c=document.ccConfig&&document.ccConfig.CLASS_RELEASE_MODE?document.ccConfig.CLASS_RELEASE_MODE:null;c&&console.log("release Mode");q.Qa=function(){};q.Qa.extend=function(d){function e(){this.Ac=r.tT();this.ctor&&this.ctor.apply(this,arguments)}var f=this.prototype,g=Object.create(f),h=r.sT();r[h]=f;var k={writable:!0,enumerable:!1,configurable:!0},l;for(l in d)c&&"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=r.mI(d[l],l,h),Object.defineProperty(g,
l,k)):"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=function(a,c){return function(){var d=this._super;this._super=f[a];var e=c.apply(this,arguments);this._super=d;return e}}(l,d[l]),Object.defineProperty(g,l,k)):"function"==typeof d[l]?(k.value=d[l],Object.defineProperty(g,l,k)):g[l]=d[l];g.Ac=null;e.id=h;k.value=h;Object.defineProperty(g,"__pid",k);e.prototype=g;k.value=e;Object.defineProperty(e.prototype,"constructor",k);e.extend=arguments.callee;e.I7=function(a){for(var c in a)g[c]=
a[c]};return e};Function.prototype.bind=Function.prototype.bind||function(a){var c=this;return function(){var f=Array.prototype.slice.call(arguments);return c.apply(a||null,f)}}})();q.K7=function(a,c){function d(){}d.prototype=c.prototype;a.oy=c.prototype;a.prototype=new d;a.prototype.constructor=a};
q.NR=function(a,c,d){var e=arguments.callee.caller;if(e.oy)return ret=e.oy.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var f=Array.prototype.slice.call(arguments,2),g=!1,h=a.constructor;h;h=h.oy&&h.oy.constructor)if(h.prototype[c]===e)g=!0;else if(g)return h.prototype[c].apply(a,f);if(a[c]===e)return a.constructor.prototype[c].apply(a,f);throw Error("cc.base called from a method of one name to a method of a different name");};
q.W2=function(a,c){a||(a={});for(var d in c)a[d]=c[d];return a};q.rh=function(a,c){this.x=a||0;this.y=c||0};q.YF=function(a,c){this.J=a||0;this.U=c||0;this.JL=function(a){this.J=a};this.KL=function(a){this.U=a}};q.Nd=function(){return new q.YF(0,0)};
Object.defineProperties(q.YF.prototype,{x:{get:function(){return this.J},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0},y:{get:function(){return this.U},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0}});q.O_=function(a,c){q.log("cc.PointMake will be deprecated sooner or later. Use cc.p instead.");return new q.rh(a,c)};
q.a=function(a,c){return{x:a,y:c}};q.y1=q.a;q.Oj=function(){return q.a(0,0)};q.vK=function(a,c){return a&&c?a.x===c.x&&a.y===c.y:!1};q.Qk=function(a,c){this.width=a||0;this.height=c||0};q.ZF=function(a,c){this.Ia=a||0;this.ya=c||0;this.vE=function(a){this.Ia=a};this.jE=function(a){this.ya=a}};q.Ym=function(){return new q.ZF(0,0)};
Object.defineProperties(q.ZF.prototype,{width:{get:function(){return this.Ia},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0},height:{get:function(){return this.ya},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0}});q.s0=function(a,c){q.log("cc.SizeMake will be deprecated sooner or later. Use cc.size instead.");return q.size(a,c)};
q.size=function(a,c){return{width:a,height:c}};q.Za=q.size;q.um=function(){return q.size(0,0)};q.OH={CV:q.Nd(),uY:q.Ym()};Object.defineProperties(q,{DN:{get:function(){return q.OH.CV},configurable:!0},ON:{get:function(){return q.OH.uY},configurable:!0},T_:{get:function(){return q.rect(0,0,0,0)},configurable:!0}});q.tY=function(a,c){return a&&c?a.width==c.width&&a.height==c.height:!1};
q.Dg=function(a,c,d,e){var f=arguments.length;if(4===f)this.jd=new q.rh(a||0,c||0),this.Za=new q.Qk(d||0,e||0);else if(1===f)this.jd=new q.rh(a.jd.x,a.jd.y),this.Za=new q.Qk(a.Za.width,a.Za.height);else if(0===f)this.jd=new q.rh(0,0),this.Za=new q.Qk(0,0);else if(2===f)this.jd=new q.rh(a.x,a.y),this.Za=new q.Qk(c.width,c.height);else throw"unknown argument type";};q.$_=function(a,c,d,e){q.log("cc.RectMake will be deprecated sooner or later. Use cc.rect instead.");return q.rect(a,c,d,e)};
q.rect=function(a,c,d,e){var f=arguments.length;if(0===f)return new q.Dg(0,0,0,0);if(1===f)return new q.Dg(a.x,a.y,a.width,a.height);if(2===f)return new q.Dg(a.x,a.y,c.width,c.height);if(4===f)return new q.Dg(a,c,d,e);throw"unknown argument type";};q.Ba=q.rect;q.yd=function(){return q.rect(0,0,0,0)};q.CK=function(a,c){return a&&c?q.vK(a.jd,c.jd)&&q.tY(a.Za,c.Za):!1};q.$r=function(a){return a?0===a.x&&0===a.y&&0===a.width&&0===a.height:!1};
q.A$=function(a,c){return a&&c?!(a.x>=c.x||a.y>=c.y||a.x+a.width<=c.x+c.width||a.y+a.height<=c.y+c.height):!1};q.Rn=function(a){return a.x+a.width};q.B$=function(a){return a.x+a.width/2};q.Tl=function(a){return a.x};q.Sn=function(a){return a.y+a.height};q.C$=function(a){return a.y+a.height/2};q.Ul=function(a){return a.y};q.wb=function(a,c){return c.x>=q.Tl(a)&&c.x<=q.Rn(a)&&c.y>=q.Ul(a)&&c.y<=q.Sn(a)};q.VV=function(a,c){return!(q.Rn(a)<q.Tl(c)||q.Rn(c)<q.Tl(a)||q.Sn(a)<q.Ul(c)||q.Sn(c)<q.Ul(a))};
q.D$=function(a,c){return!(a.x+a.width<c.x||c.x+c.width<a.x||a.y+a.height<c.y||c.y+c.height<a.y)};q.Nx=function(a,c){var d=q.rect(0,0,0,0);d.x=Math.min(a.x,c.x);d.y=Math.min(a.y,c.y);d.width=Math.max(a.x+a.width,c.x+c.width)-d.x;d.height=Math.max(a.y+a.height,c.y+c.height)-d.y;return d};q.UV=function(a,c){var d=q.rect(Math.max(q.Tl(a),q.Tl(c)),Math.max(q.Ul(a),q.Ul(c)),0,0);d.width=Math.min(q.Rn(a),q.Rn(c))-q.Tl(d);d.height=Math.min(q.Sn(a),q.Sn(c))-q.Ul(d);return d};b=q.Dg.prototype;
b.JL=function(a){this.jd.x=a};b.KL=function(a){this.jd.y=a};b.Ys=function(){return this.Za.width};b.vE=function(a){this.Za.width=a};b.Vs=function(){return this.Za.height};b.jE=function(a){this.Za.height=a};
Object.defineProperties(q.Dg.prototype,{x:{get:function(){return this.jd.x},set:function(a){this.JL(a)},enumerable:!0,configurable:!0},y:{get:function(){return this.jd.y},set:function(a){this.KL(a)},enumerable:!0,configurable:!0},width:{get:function(){return this.Ys()},set:function(a){this.vE(a)},enumerable:!0,configurable:!0},height:{get:function(){return this.Vs()},set:function(a){this.jE(a)},enumerable:!0,configurable:!0}});var t=t||{};try{t.localStorage=window.localStorage,window.localStorage.setItem("storage",""),window.localStorage.removeItem("storage")}catch(ca){"SECURITY_ERR"!==ca.name&&"QuotaExceededError"!==ca.name||console.log("Warning: localStorage isn't enabled. Please confirm browser cookie or privacy option"),t.localStorage=function(){}}
Object.defineProperties(t,{G2:{get:function(){var a={canvas:!0};q.La.gd&&(a.opengl=!0);"ontouchstart"in document.documentElement||window.navigator.msPointerEnabled?a.touches=!0:"onmouseup"in document.documentElement&&(a.mouse=!0);"onkeyup"in document.documentElement&&(a.keyboard=!0);if(window.DeviceMotionEvent||window.DeviceOrientationEvent)a.accelerometer=!0;return a},enumerable:!0,configurable:!0},rK:{get:function(){var a=navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?!0:!1,c=navigator.userAgent.match(/android/i)||
navigator.platform.match(/android/i)?!0:!1,d=navigator.appVersion;-1!=navigator.appVersion.indexOf("Win")?d="Windows":a?d="iOS":-1!=navigator.appVersion.indexOf("Mac")?d="OS X":-1!=navigator.appVersion.indexOf("X11")?d="UNIX":-1!=navigator.appVersion.indexOf("Linux")?d="Linux":c&&(d="Android");return d},enumerable:!0,configurable:!0},platform:{get:function(){return"browser"},enumerable:!0,configurable:!0},version:{get:function(){return q.Ut},enumerable:!0,configurable:!0}});t.a4=function(){};
t.w3=function(){};t.$$=function(){};q.Ut="Cocos2d-html5-v2.2.2";q.nu=0;q.iF=q.a(0,0);q.OM=0.5;q.vZ=1;q.PN=1;q.AN=0;q.RF=0;q.u0=0;q.v0=0;q.W_=1;q.V_="-hd";q.dO=1;q.Pj=0;q.p0=0;q.s_=0;q.r_=0;q.dz=1;q.FZ=q.Ut+"-canvas";q.Vw={platform:t.platform};q.v3=function(){for(var a in t)q.log(a+" \x3d "+t[a])};q.Tt=1;q.kF=1;q.oI=function(a,c){for(var d=["webgl","experimental-webgl","webkit-3d","moz-webgl"],e=null,f=0;f<d.length;++f){try{e=a.getContext(d[f],c)}catch(g){}if(e)break}return e};q.La={};q.La.SY=["baidubrowser","opera","firefox","chrome","safari"];q.La.n9="baidubrowser opera firefox chrome safari ucbrowser qqbrowser mqqbrowser ie".split(" ");
(function(){q.La.uy=navigator.userAgent.toLowerCase();q.La.platform=navigator.platform.toLowerCase();q.La.yj=-1!=q.La.uy.indexOf("mobile")||-1!=q.La.uy.indexOf("android");q.La.type=function(){var a=q.La.uy.match(/micromessenger|qqbrowser|mqqbrowser|ucbrowser|360browser|baidubrowser|maxthon|ie|opera|firefox/)||q.La.uy.match(/chrome|safari/);return a&&0<a.length?(a=a[0],"micromessenger"==a?"wechat":a):"unknow"}();q.La.mode="ie"==q.La.type&&document.documentMode;document.ccConfig||(document.ccConfig=
{});q.gC=parseInt(document.ccConfig.renderMode)||0;var a=-1==q.La.SY.indexOf(q.La.type);1===q.gC||0===q.gC&&(q.La.yj||a)?q.La.gd=!1:(q.La.gd=null!=window.P0,a=document.createElement("Canvas"),a=q.oI(a,{stencil:!0,preserveDrawingBuffer:!0}),q.La.gd=null!=a);2!==q.gC||q.La.gd||(q.Oz=!0);var a=q.La,c;try{c=new (window.AudioContext||window.webkitAudioContext||window.mozAudioContext)?!0:!1}catch(d){c=!1}a.Bca=c;q.La.H9=function(a){if(this.yj){var c=q.fa.g().gc,d=c.width+"px",c=c.height+"px",h=q.Kk("div");
h.style.backgroundColor="#ffffff";h.style.width=d;h.style.height=c;h.style.VY=1E3;h.style.position="absolute";h.style.top="0px";h.style.left="0px";h.id="cocos2d-browser";var k=q.Kk("iframe");k.src=a;k.style.width=d;k.style.height=c;k.setAttribute("frameborder","no");k.setAttribute("scrolling","no");h.appendChild(k);k.onload=function(){var a=document.createElement("img");a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5OERBMEM3OUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5OERBMEM3QUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjk4REEwQzc3RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjk4REEwQzc4RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+NwBuoAAAA/tJREFUeNrEWF0sW3EUb6+28zFhbGadsBaNhazV+kpDYhFWKRGWbHvwFV5IvPiIFw9evElEPEiWSUgsIWoIglhmUomPxj6aKC0zKVJjtPU5o9j5J7dLdbf33jKc5Jfc3v+v5/+755x7/j1lMoiNBRDh4AO88HvO2m+ACbAC+AJQAyz2JCbBFyMBWQA/xv+3DUAXLuivudhcY4BMwCuAB+NqDPmNAnAAOsCZvQgk4BnjeiwEwAbM2YoQA14yrteQEANgDcML7gXjZgw9OAuJkADu3JAIb7Q/hr+GtCwuLs6LDq+iooLvhBAREhFEl11ZWRne0tIiIeNIpVKv4uJi4dTUVApNt0EY3ohILSIiwqO7u1sql8vD8vLyJJ2dnXH2HDabzczPz3/Y1taWzOfz78XExDxSq9Vyd3d3jMK9F2pWr6lEtLa2RmVnZ4tt7w0NDWlTU1OVtkK7urqSQ0NDzzW5hYWFjcTExAGDwXDkyD+VSkZ7e3tsWlpamP19mUwWplQqk9B1UlKST3NzczxE4K49D4mCiDwn24PyPMjIyHjs6urKIVpLSEgInp6eZsM6Kzw8nEvEMZvNBxC1BbI9KCMhkUgUy8vLRpL1QIFA4EcSyZmcnJzpS4mYnZ3dj46O7p2fn193xIGi/CeiFovlFIp5pqGhYZ5qD1qFiQxCjk1OTsqEQmEAFReloL+/X0sVAadFWE2n02VA+O+TcVZXV01QkO8ODw9P6fjEnO2zvb2936g4XC7XG4rWm65P2iL8/f05kN8nBQUFQkqnGMYcGBjIys3N5dLxjY7ydDrE6urqsNLSUqmbmxuH1tOBkMzMTIHRaNxSqVTmS4soKyvjFRUViTw9PV2dTR901WAOh7M/MjKyeeHCbGpqEhcWFkY5Wl9aWtpUKBRaONziSbsii/Xm5OTk7EIdU6/X7zpaW1xc/Al5HxkfH9/e2dk5rqmpeUrE6+vr06ADzpEIlI5kMjFwPhh5PB5DJBKdK7KDg4Oj2tpaVUdHxw/0eWxszIjyj8Jvy4N60FdVVX2Grnt4dkaowYJESAG3yaLR09Oz5uvrexwbGxuAR2erpKTkI6RqxW5DM6RnLT09PQQV5vDwsDYlJWUU+I4EIDMhEQLAA6q0DA4OrqMCg/c/qL6+XtXY2Kgn4sGJuavRaFbFYrFPeXn5FIj6ReFa64KnIpJOpaMK39vbM9XV1X13lF9kc3Nz+xMTEwZo89s03A4ycRE1N/RjF/WPKgyfDRU39Gu7w1qYyNYAtwDB1yhgGPDBfgzU4bMi7xoEjAI6iWZRdGMGH80Cr2goRlP5W8B7qwBHfw1YO6kEH4yC8EnJ5QKbnuDFh17nr4BPRP9P/BFgAHo7ZNgI9EbHAAAAAElFTkSuQmCC";
h.appendChild(a);a.style.VY=1E3;a.style.position="absolute";a.style.bottom="10px";a.style.right="10px";a.onclick=function(){h.remove()}};(a=document.getElementById(document.ccConfig.tag).parentNode)&&a.appendChild(h)}else window.open(a)}})();q.a0=function(){return"undefined"===q.Oz?!1:q.Oz};
q.Wb=function(a){var c=this==q?document:this;if(a=a instanceof HTMLElement?a:c.querySelector(a))a.find=a.find||q.Wb,a.gD=a.gD||function(a){return this.className.match(RegExp("(\\s|^)"+a+"(\\s|$)"))},a.UH=a.UH||function(a){this.gD(a)||(this.className&&(this.className+=" "),this.className+=a);return this},a.mW=a.mW||function(a){this.gD(a)&&(this.className=this.className.replace(a,""));return this},a.remove=a.remove||function(){this.parentNode&&this.parentNode.removeChild(this);return this},a.vn=a.vn||
function(a){a.appendChild(this);return this},a.OV=a.OV||function(a){a.childNodes[0]?a.insertBefore(this,a.childNodes[0]):a.appendChild(this);return this},a.fo=a.fo||function(){this.style[q.Wb.GY]=q.Wb.translate(this.position)+q.Wb.rotate(this.rotation)+q.Wb.scale(this.scale)+q.Wb.cm(this.cm);return this},a.position=a.position||{x:0,y:0},a.rotation=a.rotation||0,a.scale=a.scale||{x:1,y:1},a.cm=a.cm||{x:0,y:0},a.KE=function(a,c){this.position.x=a;this.position.y=c;this.fo()},a.rotate=function(a){this.rotation=
a;this.fo();return this},a.resize=function(a,c){this.scale.x=a;this.scale.y=c;this.fo();return this},a.zL=function(a,c){this.cm.x=a;this.cm.y=c;this.fo()};return a};switch(q.La.type){case "firefox":q.Wb.Nn="Moz";q.Wb.dq=!0;break;case "chrome":case "safari":q.Wb.Nn="webkit";q.Wb.dq=!0;break;case "opera":q.Wb.Nn="O";q.Wb.dq=!1;break;case "ie":q.Wb.Nn="ms";q.Wb.dq=!1;break;default:q.Wb.Nn="webkit",q.Wb.dq=!0}q.Wb.GY=q.Wb.Nn+"Transform";
q.Wb.translate=q.Wb.dq?function(a){return"translate3d("+a.x+"px, "+a.y+"px, 0) "}:function(a){return"translate("+a.x+"px, "+a.y+"px) "};q.Wb.rotate=q.Wb.dq?function(a){return"rotateZ("+a+"deg) "}:function(a){return"rotate("+a+"deg) "};q.Wb.scale=function(a){return"scale("+a.x+", "+a.y+") "};q.Wb.cm=function(a){return"skewX("+-a.x+"deg) skewY("+a.y+"deg)"};q.Kk=function(a){return q.Wb(document.createElement(a))};
q.Wb.U3=function(a){var c=0,d=0;do c+=a.offsetLeft,d+=a.offsetTop;while(a=a.offsetParent);return{x:c,y:d}};q.clone=function(a){var c=a.constructor?new a.constructor:{},d;for(d in a){var e=a[d];c[d]="object"!=typeof e||!e||e instanceof q.G||e instanceof HTMLElement?e:q.clone(e)}return c};q.n2=function(){};q.nF=q.nF||!1;
q.BP=function(a){var c=document.getElementById("logInfoList");if(!c){var d=document.createElement("Div");d.setAttribute("id","logInfoDiv");q.canvas.parentNode.appendChild(d);d.setAttribute("width","200");d.setAttribute("height",q.canvas.height);d.style.zIndex="99999";d.style.position="absolute";d.style.top="0";d.style.left="0";c=document.createElement("ul");d.appendChild(c);c.setAttribute("id","logInfoList");c.style.height=q.canvas.height+"px";c.style.color="#fff";c.style.textAlign="left";c.style.listStyle=
"disc outside";c.style.fontSize="12px";c.style.fontFamily="arial";c.style.padding="0 0 0 20px";c.style.margin="0";c.style.textShadow="0 0 3px #000";c.style.zIndex="99998";c.style.position="absolute";c.style.top="0";c.style.left="0";c.style.overflowY="hidden";var e=document.createElement("Div");d.appendChild(e);e.style.width="200px";e.style.height=q.canvas.height+"px";e.style.opacity="0.1";e.style.background="#fff";e.style.border="1px solid #dfdfdf";e.style.borderRadius="8px"}d=document.createElement("li");
d.innerHTML=a;0==c.childNodes.length?c.appendChild(d):c.insertBefore(d,c.childNodes[0])};q.log=function(a){document.ccConfig.dev&&!0==document.ccConfig.dev&&(q.nF?q.BP(a):console.log.apply(console,arguments))};q.y_=function(a){console.log(a)};q.Mt=function(a,c){console.assert?console.assert(a,c):a||c&&alert(c)};q.L7=function(){0==q.Ot?(q.log=function(){},q.bK=function(){},q.aK=function(){},q.Mt=function(){}):1==q.Ot?(q.bK=q.log,q.aK=function(){}):1<q.Ot&&(q.bK=q.log,q.aK=q.log)};q.gN=0;q.fN=1;
q.hN=2;q.kN=3;q.iN=4;q.rN=5;q.qN=6;q.mN=7;q.lN=8;q.jN=9;q.pN=10;q.eN=11;q.nN=12;q.oN=13;
q.Gq={fI:8,Lca:9,KC:13,shift:16,e3:17,alt:18,pause:19,H2:20,escape:27,g$:33,f$:34,end:35,home:36,left:37,gda:38,right:39,q3:40,P7:45,MZ:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,Q:65,o:66,Na:67,d:68,x3:69,gx:70,p:71,h:72,H7:73,Q8:74,R8:75,W8:76,m:77,eK:78,D9:79,a:80,t$:81,t:82,s:83,Kca:84,Xa:85,va:86,rM:87,x:88,y:89,z:90,q9:96,r9:97,s9:98,t9:99,u9:100,v9:101,w9:102,x9:103,y9:104,z9:105,"*":106,"+":107,"-":109,numdel:110,"/":111,H3:112,L3:113,M3:114,N3:115,O3:116,P3:117,Q3:118,R3:119,S3:120,
I3:121,J3:122,K3:123,C9:144,haa:145,kaa:186,",":186,B3:187,"\x3d":187,";":188,V2:188,g3:189,".":190,k$:190,Y3:191,B7:192,"[":219,I9:219,"]":221,U2:221,o2:220,quote:222,sca:32};q.o3=function(a,c,d){if(a)if(c&&"string"==typeof a)c[a](d);else c&&"function"==typeof a?a.call(c,d):a(d)};q.Qi=-1;q.PI=Math.PI;q.WM=parseFloat("3.402823466e+38F");q.LN=q.PI/180;q.NM=180/q.PI;q.cO=4294967295;q.q0=function(a,c,d){if("object"==typeof d&&"undefined"!=typeof d.x&&"undefined"!=typeof d.y){var e=d[a];d[a]=d[c];d[c]=e}else q.log("cc.SWAP is being modified from original macro, please check usage")};q.Y8=function(a,c,d){return a+(c-a)*d};q.S_=function(){return 2*(Math.random()-0.5)};q.R_=function(){return Math.random()};q.Mj=function(a){return a*q.LN};q.qz=function(a){return a*q.NM};
q.tm=Number.MAX_VALUE-1;q.Ye=q.AN?1:770;q.Xe=771;q.kz=function(a){a.ad&&(a.ad.zf(),a.ad.nh())};q.YZ=function(){};q.LZ=function(){};q.ai=function(){q.Nh+=1};q.ou=1.192092896E-7;q.hd=q.dz?function(){return q.fa.g().Fm}:function(){return 1};q.CN=function(a){var c=q.hd();return q.a(a.x*c,a.y*c)};q.V0=function(a,c){var d=q.hd();c.J=a.x*d;c.U=a.y*d};q.vz=function(a){var c=q.hd();return q.size(a.width*c,a.height*c)};q.n0=function(a){var c=q.hd();return q.size(a.width/c,a.height/c)};
q.Mz=function(a,c){var d=q.hd();c.Ia=a.width/d;c.ya=a.height/d};q.M_=function(a){var c=q.hd();return q.a(a.x/c,a.y/c)};q.bv=function(a,c){var d=q.hd();c.J=a.x/d;c.U=a.y/d};q.Hq=q.dz?function(a){var c=q.hd();return q.rect(a.x/c,a.y/c,a.width/c,a.height/c)}:function(a){return a};q.ro=q.dz?function(a){var c=q.hd();return q.rect(a.x*c,a.y*c,a.width*c,a.height*c)}:function(a){return a};q.YE=function(){if(q.Y$==q.Rk){var a=q.ea.getError();a&&q.log("WebGL error "+a)}};q.f0=0;q.e0=1;q.c0=2;q.d0=3;q.g0=4;q.h0=5;q.b0=6;var Uint8Array=Uint8Array||Array;
if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){var da=document.createElement("script");da.type="text/vbscript";da.textContent='\x3c!-- IEBinaryToArray_ByteStr --\x3e\r\nFunction IEBinaryToArray_ByteStr(Binary)\r\n   IEBinaryToArray_ByteStr \x3d CStr(Binary)\r\nEnd Function\r\nFunction IEBinaryToArray_ByteStr_Last(Binary)\r\n   Dim lastIndex\r\n   lastIndex \x3d LenB(Binary)\r\n   if lastIndex mod 2 Then\r\n       IEBinaryToArray_ByteStr_Last \x3d Chr( AscB( MidB( Binary, lastIndex, 1 ) ) )\r\n   Else\r\n       IEBinaryToArray_ByteStr_Last \x3d ""\r\n   End If\r\nEnd Function\r\n';document.body.appendChild(da);
q.oG=function(a){for(var c={},d=0;256>d;d++)for(var e=0;256>e;e++)c[String.fromCharCode(d+256*e)]=String.fromCharCode(d)+String.fromCharCode(e);d=IEBinaryToArray_ByteStr(a);a=IEBinaryToArray_ByteStr_Last(a);return d.replace(/[\s\S]/g,function(a){return c[a]})+a}}
q.ae=q.Qa.extend({cj:null,ul:null,WO:null,CA:null,rp:null,pi:null,gr:"",ctor:function(){this.cj={};this.ul={};this.pi=[];this.pi.push(this.gr);this.rp=[];this.rp.push("")},q$:function(){this.pi=[]},q4:function(a){a=this.Le(a);return this.cj.hasOwnProperty(a)?this.cj[a]:this.yP(a)},Gv:function(){return window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP")},HY:function(a){this.cj.hasOwnProperty(a)&&delete this.cj[a]},JV:function(a){a=this.Le(a);var c=this,d=this.Gv();d.open("GET",
a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","x-user-defined"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=q.oG(d.responseBody);e&&(c.cj[a]=c.sw(e))}else q.Xb.g().Ql(a);q.Xb.g().qg()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dx-user-defined"),d.onload=function(){var e=d.responseText;e?c.cj[a]=c.sw(e):q.Xb.g().Ql(a);q.Xb.g().qg()});d.send(null)},o$:function(a,c){this.cj[c]=a;
q.Xb.g().qg()},yP:function(a){var c=this.Gv();c.open("GET",a,!1);var d=null;if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){c.setRequestHeader("Accept-Charset","x-user-defined");c.send(null);if(200!=c.status)return null;if(c=q.oG(c.responseBody))d=this.sw(c),this.cj[a]=d}else{c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dx-user-defined");c.send(null);if(!c.responseText||200!=c.status&&0!=c.status)return null;d="undefined"!==typeof VBArray?(new VBArray(c.responseBody)).toArray():
this.sw(c.responseText);this.cj[a]=d}return d},sw:function(a){if(!a)return null;for(var c=new Uint8Array(a.length),d=0;d<a.length;d++)c[d]=a.charCodeAt(d)&255;return c},JY:function(a){a=this.Le(a);this.ul.hasOwnProperty(a)&&delete this.ul[a]},LV:function(a){a=this.Le(a);var c=this,d=this.Gv();d.open("GET",a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","utf-8"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=
d.responseText;e&&(c.ul[a]=e)}else q.Xb.g().Ql(a);q.Xb.g().qg()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dutf-8"),d.onload=function(){d.responseText?c.ul[a]=d.responseText:q.Xb.g().Ql(a);q.Xb.g().qg()});d.send(null)},AP:function(a){var c=this.Gv();c.open("GET",a,!1);var d=null;/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?c.setRequestHeader("Accept-Charset","utf-8"):c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dutf-8");c.send(null);
if(200!=c.status)return null;(d=c.responseText)&&(this.ul[a]=d);return d},hJ:function(a){a=this.Le(a);return this.ul.hasOwnProperty(a)?this.ul[a]:this.AP(a)},Y4:function(){},V$:function(){},wK:!0,Z3:function(a){return a},Le:function(a){var c=!1;a=this.cP(a);for(var d,e=0;e<this.pi.length;e++){for(var f=this.pi[e],g=0;g<this.rp.length;g++)if(d=this.dP(a,this.rp[g],f)){c=!0;break}if(c)break}return c?d:a},d9:function(a){var c=this.Le(a);if(0<c.length){var c=q.Pk.g().parse(c),d=parseInt(c.metadata.version);
1!=d?q.log("cocos2d: ERROR: Invalid filenameLookup dictionary version: "+d+". Filename: "+a):this.lX(c.filenames)}},lX:function(a){this.CA=a},QI:function(a,c){var d;if(a)return d=c.substring(0,c.lastIndexOf("/")+1),d+a;d=c.substring(0,c.lastIndexOf("."));return d+".png"},Hba:function(a){this.rp=a},C6:function(){return this.rp},Gba:function(a){this.pi=a},A6:function(){return this.pi},s6:function(){return this.WO},Cba:function(){},k3:function(a){q.log("dictionaryWithContentsOfFile is deprecated. Use createDictionaryWithContentsOfFile instead");
return this.oS(a)},oS:function(a){return q.Pk.g().parse(a)},R6:function(a){return this.hJ(a)},bx:function(a){return q.Pk.g().parse(a)},v7:function(){return""},uba:function(a){q.wK=a},u8:function(){return q.wK},xB:"",t6:function(){return this.xB},Dba:function(a){this.xB=a},cP:function(a){var c=null;(c=this.CA?this.CA[a]:null)&&0!==c.length?q.log("FOUND NEW FILE NAME: "+c):c=a;return c},dP:function(a,c,d){var e;e=this.xB;a&&0<a.length&&(0===a.indexOf("/")||0===a.indexOf("\\"))?e="":0<e.length&&"\\"!=
e[e.length-1]&&"/"!=e[e.length-1]&&(e+="/");var f=a,g="",h=a.lastIndexOf("/");-1!=h&&(g=a.substr(0,h+1),f=a.substr(h+1));a=d;0<a.length&&a.lastIndexOf("/")!==a.length-1&&(a+="/");a=a+g+c;0<a.length&&a.lastIndexOf("/")!==a.length-1&&(a+="/");a+=f;return e+=a},k1:function(){},yL:function(a){var c=!1;this.pi=[];for(var d=0;d<a.length;d++){var e=a[d],f;this.IJ(e)||(f=this.gr);e=f+e;0<e.length&&"/"!=e[e.length-1]&&(e+="/");c||e!=this.gr||(c=!0);this.pi.push(e)}c||this.pi.push(this.gr)},X1:function(a){var c;
this.IJ(a)||(c=this.gr);a=c+a;0<a.length&&"/"!=a[a.length-1]&&(a+="/");this.pi.push(a)},B6:function(){},IJ:function(a){return"/"==a[0]}});q.ZD=null;q.ae.g=function(){null==q.ZD&&(q.ZD=new q.ae);return q.ZD};q.Kc=function(a,c,d){switch(arguments.length){case 0:this.o=this.p=this.t=0;break;case 1:a&&a instanceof q.Kc?(this.t=0|a.t||0,this.p=0|a.p||0,this.o=0|a.o||0):this.o=this.p=this.t=0;break;case 3:this.t=0|a||0;this.p=0|c||0;this.o=0|d||0;break;default:throw"unknown argument type";}};q.n=function(a,c,d){return new q.Kc(a,c,d)};q.T7=function(a){a=a||0;var c=new q.Kc;c.t=a&255;c.p=a>>8&255;c.o=a>>16&255;return c};q.vC=q.n;q.A2=function(a,c){return a.t===c.t&&a.p===c.p&&a.o===c.o};
Object.defineProperties(q,{N0:{get:function(){return q.n(255,255,255)},configurable:!0},Q0:{get:function(){return q.n(255,255,0)},configurable:!0},sZ:{get:function(){return q.n(0,0,255)},configurable:!0},g_:{get:function(){return q.n(0,255,0)},configurable:!0},U_:{get:function(){return q.n(255,0,0)},configurable:!0},v_:{get:function(){return q.n(255,0,255)},configurable:!0},qZ:{get:function(){return q.n(0,0,0)},configurable:!0},D_:{get:function(){return q.n(255,127,0)},configurable:!0},f_:{get:function(){return q.n(166,
166,166)},configurable:!0}});q.Eb=function(){return new q.Kc(255,255,255)};q.Bda=function(){return new q.Kc(255,255,0)};q.blue=function(){return new q.Kc(0,0,255)};q.green=function(){return new q.Kc(0,255,0)};q.red=function(){return new q.Kc(255,0,0)};q.i9=function(){return new q.Kc(255,0,255)};q.r2=function(){return new q.Kc(0,0,0)};q.J9=function(){return new q.Kc(255,127,0)};q.Gl=function(){return new q.Kc(166,166,166)};q.ec=function(a,c,d,e){this.t=0|a;this.p=0|c;this.o=0|d;this.Q=0|e};
q.i=function(a,c,d,e){return new q.ec(a,c,d,e)};q.wC=q.i;q.re=function(a,c,d,e){this.t=a;this.p=c;this.o=d;this.Q=e};q.Tw=function(a,c,d,e){return new q.re(a,c,d,e)};q.D2=function(a){return new q.re(a.t/255,a.p/255,a.o/255,1)};q.E2=function(a){return new q.re(a.t/255,a.p/255,a.o/255,a.Q/255)};q.B2=function(a){return new q.ec(0|255*a.t,0|255*a.p,0|255*a.o,0|255*a.Q)};q.C2=function(a,c){return a.t==c.t&&a.p==c.p&&a.o==c.o&&a.Q==c.Q};q.Mb=function(a,c){this.x=a||0;this.y=c||0};
q.$u=function(a,c){return new q.Mb(a,c)};q.pd=function(a,c,d){this.x=a||0;this.y=c||0;this.z=d||0};q.sda=function(a,c,d){return new q.pd(a,c,d)};q.Pc=function(a,c){this.Xa=a||0;this.va=c||0};q.Rca=function(a,c){return new q.Pc(a,c)};q.P_=function(a,c,d){a||new q.Mb(0,0);this.color=c||new q.ec(0,0,0,0);this.size=d||0};q.Au=function(a,c,d,e){this.ab=a||new q.Mb(0,0);this.Ua=c||new q.Mb(0,0);this.Sa=d||new q.Mb(0,0);this.eb=e||new q.Mb(0,0)};
q.Q_=function(a,c,d,e){this.Sa=a||new q.pd(0,0,0);this.eb=c||new q.pd(0,0,0);this.ab=d||new q.pd(0,0,0);this.Ua=e||new q.pd(0,0,0)};q.ZM=function(a,c){this.x=a;this.y=c};q.p=function(a,c){return new q.ZM(a,c)};q.oc=function(a,c,d){this.C=a||new q.Mb(0,0);this.W=c||new q.ec(0,0,0,0);this.H=d||new q.Pc(0,0)};q.Uu=function(){this.C=new q.Mb(0,0);this.W=new q.re(0,0,0,0);this.H=new q.Pc(0,0)};q.Lc=function(a,c,d){this.C=a||new q.pd(0,0,0);this.W=c||new q.ec(0,0,0,0);this.H=d||new q.Pc(0,0)};
q.Zc=function(a,c,d){this.Q=a||new q.oc;this.o=c||new q.oc;this.Na=d||new q.oc};q.eO=function(){var a=new q.oc(new q.Mb(0,0),new q.ec(0,0,0,255),new q.Pc(0,0)),c=new q.oc(new q.Mb(0,0),new q.ec(0,0,0,255),new q.Pc(0,0)),d=new q.oc(new q.Mb(0,0),new q.ec(0,0,0,255),new q.Pc(0,0)),e=new q.oc(new q.Mb(0,0),new q.ec(0,0,0,255),new q.Pc(0,0));this.Sa=a||new q.oc;this.eb=c||new q.oc;this.ab=d||new q.oc;this.Ua=e||new q.oc};q.K0=function(){return new q.eO};
q.zc=function(a,c,d,e){this.ab=a||new q.Lc;this.Sa=c||new q.Lc;this.Ua=d||new q.Lc;this.eb=e||new q.Lc};q.Lz=function(){return new q.zc(new q.Lc(new q.pd(0,0,0),new q.ec(0,0,0,255),new q.Pc(0,0)),new q.Lc(new q.pd(0,0,0),new q.ec(0,0,0,255),new q.Pc(0,0)),new q.Lc(new q.pd(0,0,0),new q.ec(0,0,0,255),new q.Pc(0,0)),new q.Lc(new q.pd(0,0,0),new q.ec(0,0,0,255),new q.Pc(0,0)))};
q.Kz=function(a){return a?new q.zc(new q.Lc(new q.pd(a.ab.C.x,a.ab.C.y,a.ab.C.z),new q.ec(a.ab.W.t,a.ab.W.p,a.ab.W.o,a.ab.W.Q),new q.Pc(a.ab.H.Xa,a.ab.H.va)),new q.Lc(new q.pd(a.Sa.C.x,a.Sa.C.y,a.Sa.C.z),new q.ec(a.Sa.W.t,a.Sa.W.p,a.Sa.W.o,a.Sa.W.Q),new q.Pc(a.Sa.H.Xa,a.Sa.H.va)),new q.Lc(new q.pd(a.Ua.C.x,a.Ua.C.y,a.Ua.C.z),new q.ec(a.Ua.W.t,a.Ua.W.p,a.Ua.W.o,a.Ua.W.Q),new q.Pc(a.Ua.H.Xa,a.Ua.H.va)),new q.Lc(new q.pd(a.eb.C.x,a.eb.C.y,a.eb.C.z),new q.ec(a.eb.W.t,a.eb.W.p,a.eb.W.o,a.eb.W.Q),new q.Pc(a.eb.H.Xa,
a.eb.H.va))):q.Lz()};q.M0=function(a){if(!a)return[];for(var c=[],d=0;d<a.length;d++)c.push(q.Kz(a[d]));return c};q.L0=function(a,c,d,e){this.Sa=a||new q.Uu;this.eb=c||new q.Uu;this.ab=d||new q.Uu;this.Ua=e||new q.Uu};q.qm=function(a,c){this.src=a;this.Ub=c};q.tZ=function(){return new q.qm(1,0)};q.Rc=function(a){var c=a.t.toString(16),d=a.p.toString(16),e=a.o.toString(16);return"#"+(16>a.t?"0"+c:c)+(16>a.p?"0"+d:d)+(16>a.o?"0"+e:e)};
q.La.gd&&(q.ec=function(a,c,d,e,f,g){this.fc=f||new ArrayBuffer(q.ec.BYTES_PER_ELEMENT);this._offset=g||0;f=this.fc;g=this._offset;var h=Uint8Array.BYTES_PER_ELEMENT;this.oB=new Uint8Array(f,g,1);this.JA=new Uint8Array(f,g+h,1);this.Yz=new Uint8Array(f,g+2*h,1);this.Qz=new Uint8Array(f,g+3*h,1);this.oB[0]=a||0;this.JA[0]=c||0;this.Yz[0]=d||0;this.Qz[0]=e||0},q.ec.BYTES_PER_ELEMENT=4,Object.defineProperties(q.ec.prototype,{t:{get:function(){return this.oB[0]},set:function(a){this.oB[0]=a},enumerable:!0},
p:{get:function(){return this.JA[0]},set:function(a){this.JA[0]=a},enumerable:!0},o:{get:function(){return this.Yz[0]},set:function(a){this.Yz[0]=a},enumerable:!0},Q:{get:function(){return this.Qz[0]},set:function(a){this.Qz[0]=a},enumerable:!0}}),q.re=function(a,c,d,e,f,g){this.fc=f||new ArrayBuffer(q.re.BYTES_PER_ELEMENT);this._offset=g||0;f=this.fc;g=this._offset;var h=Float32Array.BYTES_PER_ELEMENT;this.nB=new Float32Array(f,g,1);this.nB[0]=a||0;this.IA=new Float32Array(f,g+h,1);this.IA[0]=c||
0;this.Xz=new Float32Array(f,g+2*h,1);this.Xz[0]=d||0;this.Pz=new Float32Array(f,g+3*h,1);this.Pz[0]=e||0},q.re.BYTES_PER_ELEMENT=16,Object.defineProperties(q.re.prototype,{t:{get:function(){return this.nB[0]},set:function(a){this.nB[0]=a},enumerable:!0},p:{get:function(){return this.IA[0]},set:function(a){this.IA[0]=a},enumerable:!0},o:{get:function(){return this.Xz[0]},set:function(a){this.Xz[0]=a},enumerable:!0},Q:{get:function(){return this.Pz[0]},set:function(a){this.Pz[0]=a},enumerable:!0}}),
q.Mb=function(a,c,d,e){this.fc=d||new ArrayBuffer(q.Mb.BYTES_PER_ELEMENT);this._offset=e||0;this.qn=new Float32Array(this.fc,this._offset,1);this.rn=new Float32Array(this.fc,this._offset+4,1);this.qn[0]=a||0;this.rn[0]=c||0},q.Mb.BYTES_PER_ELEMENT=8,Object.defineProperties(q.Mb.prototype,{x:{get:function(){return this.qn[0]},set:function(a){this.qn[0]=a},enumerable:!0},y:{get:function(){return this.rn[0]},set:function(a){this.rn[0]=a},enumerable:!0}}),q.pd=function(a,c,d,e,f){this.fc=e||new ArrayBuffer(q.pd.BYTES_PER_ELEMENT);
this._offset=f||0;e=this.fc;f=this._offset;this.qn=new Float32Array(e,f,1);this.qn[0]=a||0;this.rn=new Float32Array(e,f+Float32Array.BYTES_PER_ELEMENT,1);this.rn[0]=c||0;this.nC=new Float32Array(e,f+2*Float32Array.BYTES_PER_ELEMENT,1);this.nC[0]=d||0},q.pd.BYTES_PER_ELEMENT=12,Object.defineProperties(q.pd.prototype,{x:{get:function(){return this.qn[0]},set:function(a){this.qn[0]=a},enumerable:!0},y:{get:function(){return this.rn[0]},set:function(a){this.rn[0]=a},enumerable:!0},z:{get:function(){return this.nC[0]},
set:function(a){this.nC[0]=a},enumerable:!0}}),q.Pc=function(a,c,d,e){this.fc=d||new ArrayBuffer(q.Pc.BYTES_PER_ELEMENT);this._offset=e||0;this.$B=new Float32Array(this.fc,this._offset,1);this.hC=new Float32Array(this.fc,this._offset+4,1);this.$B[0]=a||0;this.hC[0]=c||0},q.Pc.BYTES_PER_ELEMENT=8,Object.defineProperties(q.Pc.prototype,{Xa:{get:function(){return this.$B[0]},set:function(a){this.$B[0]=a},enumerable:!0},va:{get:function(){return this.hC[0]},set:function(a){this.hC[0]=a},enumerable:!0}}),
q.Au=function(a,c,d,e,f,g){this.fc=f||new ArrayBuffer(q.Au.BYTES_PER_ELEMENT);this._offset=g||0;f=this.fc;g=q.Mb.BYTES_PER_ELEMENT;this.Fp=a?new q.Mb(a.x,a.y,f,0):new q.Mb(0,0,f,0);this.Hp=c?new q.Mb(c.x,c.y,f,g):new q.Mb(0,0,f,g);this.Eo=d?new q.Mb(d.x,d.y,f,2*g):new q.Mb(0,0,f,2*g);this.Go=e?new q.Mb(e.x,e.y,f,3*g):new q.Mb(0,0,f,3*g)},q.Au.BYTES_PER_ELEMENT=32,Object.defineProperties(q.Au.prototype,{ab:{get:function(){return this.Fp},set:function(a){this.Fp.x=a.x;this.Fp.y=a.y},enumerable:!0},
Ua:{get:function(){return this.Hp},set:function(a){this.Hp.x=a.x;this.Hp.y=a.y},enumerable:!0},Sa:{get:function(){return this.Eo},set:function(a){this.Eo.x=a.x;this.Eo.y=a.y},enumerable:!0},eb:{get:function(){return this.Go},set:function(a){this.Go.x=a.x;this.Go.y=a.y},enumerable:!0}}),q.Lc=function(a,c,d,e,f){this.fc=e||new ArrayBuffer(q.Lc.BYTES_PER_ELEMENT);this._offset=f||0;e=this.fc;f=this._offset;var g=q.pd.BYTES_PER_ELEMENT;this.Jp=a?new q.pd(a.x,a.y,a.z,e,f):new q.pd(0,0,0,e,f);this.cr=c?
new q.ec(c.t,c.p,c.o,c.Q,e,f+g):new q.ec(0,0,0,0,e,f+g);this.cn=d?new q.Pc(d.Xa,d.va,e,f+g+q.ec.BYTES_PER_ELEMENT):new q.Pc(0,0,e,f+g+q.ec.BYTES_PER_ELEMENT)},q.Lc.BYTES_PER_ELEMENT=24,Object.defineProperties(q.Lc.prototype,{C:{get:function(){return this.Jp},set:function(a){var c=this.Jp;c.x=a.x;c.y=a.y;c.z=a.z},enumerable:!0},W:{get:function(){return this.cr},set:function(a){var c=this.cr;c.t=a.t;c.p=a.p;c.o=a.o;c.Q=a.Q},enumerable:!0},H:{get:function(){return this.cn},set:function(a){this.cn.Xa=
a.Xa;this.cn.va=a.va},enumerable:!0}}),q.zc=function(a,c,d,e,f,g){this.fc=f||new ArrayBuffer(q.zc.BYTES_PER_ELEMENT);this._offset=g||0;f=this.fc;g=this._offset;var h=q.Lc.BYTES_PER_ELEMENT;this.Fp=a?new q.Lc(a.C,a.W,a.H,f,g):new q.Lc(null,null,null,f,g);this.Eo=c?new q.Lc(c.C,c.W,c.H,f,g+h):new q.Lc(null,null,null,f,g+h);this.Hp=d?new q.Lc(d.C,d.W,d.H,f,g+2*h):new q.Lc(null,null,null,f,g+2*h);this.Go=e?new q.Lc(e.C,e.W,e.H,f,g+3*h):new q.Lc(null,null,null,f,g+3*h)},q.zc.BYTES_PER_ELEMENT=96,Object.defineProperties(q.zc.prototype,
{ab:{get:function(){return this.Fp},set:function(a){var c=this.Fp;c.C=a.C;c.W=a.W;c.H=a.H},enumerable:!0},Sa:{get:function(){return this.Eo},set:function(a){var c=this.Eo;c.C=a.C;c.W=a.W;c.H=a.H},enumerable:!0},Ua:{get:function(){return this.Hp},set:function(a){var c=this.Hp;c.C=a.C;c.W=a.W;c.H=a.H},enumerable:!0},eb:{get:function(){return this.Go},set:function(a){var c=this.Go;c.C=a.C;c.W=a.W;c.H=a.H},enumerable:!0},rC:{get:function(){return this.fc},enumerable:!0}}),q.Lz=function(){return new q.zc},
q.Kz=function(a){if(!a)return q.Lz();var c=a.ab,d=a.Sa,e=a.Ua;a=a.eb;return{ab:{C:{x:c.C.x,y:c.C.y,z:c.C.z},W:{t:c.W.t,p:c.W.p,o:c.W.o,Q:c.W.Q},H:{Xa:c.H.Xa,va:c.H.va}},Sa:{C:{x:d.C.x,y:d.C.y,z:d.C.z},W:{t:d.W.t,p:d.W.p,o:d.W.o,Q:d.W.Q},H:{Xa:d.H.Xa,va:d.H.va}},Ua:{C:{x:e.C.x,y:e.C.y,z:e.C.z},W:{t:e.W.t,p:e.W.p,o:e.W.o,Q:e.W.Q},H:{Xa:e.H.Xa,va:e.H.va}},eb:{C:{x:a.C.x,y:a.C.y,z:a.C.z},W:{t:a.W.t,p:a.W.p,o:a.W.o,Q:a.W.Q},H:{Xa:a.H.Xa,va:a.H.va}}}},q.oc=function(a,c,d,e,f){this.fc=e||new ArrayBuffer(q.oc.BYTES_PER_ELEMENT);
this._offset=f||0;e=this.fc;f=this._offset;var g=q.Mb.BYTES_PER_ELEMENT;this.Jp=a?new q.Mb(a.x,a.y,e,f):new q.Mb(0,0,e,f);this.cr=c?new q.ec(c.t,c.p,c.o,c.Q,e,f+g):new q.ec(0,0,0,0,e,f+g);this.cn=d?new q.Pc(d.Xa,d.va,e,f+g+q.ec.BYTES_PER_ELEMENT):new q.Pc(0,0,e,f+g+q.ec.BYTES_PER_ELEMENT)},q.oc.BYTES_PER_ELEMENT=20,Object.defineProperties(q.oc.prototype,{C:{get:function(){return this.Jp},set:function(a){this.Jp.x=a.x;this.Jp.y=a.y},enumerable:!0},W:{get:function(){return this.cr},set:function(a){var c=
this.cr;c.t=a.t;c.p=a.p;c.o=a.o;c.Q=a.Q},enumerable:!0},H:{get:function(){return this.cn},set:function(a){this.cn.Xa=a.Xa;this.cn.va=a.va},enumerable:!0}}),q.Zc=function(a,c,d,e,f){this.fc=e||new ArrayBuffer(q.Zc.BYTES_PER_ELEMENT);this._offset=f||0;e=this.fc;f=this._offset;var g=q.oc.BYTES_PER_ELEMENT;this.aG=a?new q.oc(a.C,a.W,a.H,e,f):new q.oc(null,null,null,e,f);this.fG=c?new q.oc(c.C,c.W,c.H,e,f+g):new q.oc(null,null,null,e,f+g);this.kG=d?new q.oc(d.C,d.W,d.H,e,f+2*g):new q.oc(null,null,null,
e,f+2*g)},q.Zc.BYTES_PER_ELEMENT=60,Object.defineProperties(q.Zc.prototype,{Q:{get:function(){return this.aG},set:function(a){var c=this.aG;c.C=a.C;c.W=a.W;c.H=a.H},enumerable:!0},o:{get:function(){return this.fG},set:function(a){var c=this.fG;c.C=a.C;c.W=a.W;c.H=a.H},enumerable:!0},Na:{get:function(){return this.kG},set:function(a){var c=this.kG;c.C=a.C;c.W=a.W;c.H=a.H},enumerable:!0}}));
q.X2=function(a){a=a.substr(1).split("");return new q.Kc(parseInt("0x"+a[0]+a[1]),parseInt("0x"+a[2]+a[3]),parseInt("0x"+a[4]+a[5]))};q.Oq=0;q.Sj=1;q.WN=2;q.Zu=0;q.Yu=1;q.Xu=2;q.Wu=3;
q.U0=q.Qa.extend({hp:null,Es:null,Nz:0,ctor:function(){this.hp={};this.Es={};this.Nz=2<<(0|10*Math.random())},iO:function(){this.Nz++;return"key_"+this.Nz},BX:function(a,c){if(null!=c){var d=this.iO();this.hp[d]=c;this.Es[d]=a}},cV:function(a){if(null==a)return null;var c=this.hp,d;for(d in c)if(c[d]===a)return this.Es[d];return null},rda:function(a){return this.cV(a)},qW:function(a){if(null!=a){var c=this.hp,d;for(d in c)if(c[d]===a){delete this.Es[d];delete c[d];break}}},P$:function(a){if(null!=
a)for(var c=0;c<a.length;c++)this.qW(a[c])},FR:function(){var a=[],c=this.hp,d;for(d in c)a.push(c[d]);return a},I$:function(){this.hp={};this.Es={}},count:function(){return this.FR().length}});q.YM=function(){this.Rs="Arial";this.fontSize=12;this.KI=q.Sj;this.LI=q.Zu;this.MI=q.Eb();this.Qs=q.size(0,0);this.DE=!1;this.strokeColor=q.Eb();this.$L=1;this.NL=!1;this.OL=q.size(0,0);this.shadowBlur=0;this.PL=1};q.so={Yy:0,lz:1,SHOW_ALL:2,Zy:3,$y:4,J0:5};q.Tu=[];q.Pq={};
q.sa=q.Qa.extend({Fa:null,Ld:null,Uo:null,op:null,of:null,Ow:null,lr:1,jC:"",vB:null,wa:1,VG:1,Ea:1,WG:1,Ir:0,RG:5,mi:null,bH:null,fH:null,eH:null,cH:null,dH:null,Lr:!1,b1:!1,N1:null,BG:null,CG:null,lO:null,H1:!1,mA:null,w1:null,bl:null,EA:1,dv:!1,HG:!0,ctor:function(){this.bl=q.wk.parentNode===document.body?document.documentElement:q.wk.parentNode;this.Ld=q.size(0,0);this.DG();var a=q.canvas.width,c=q.canvas.height;this.Uo=q.size(a,c);this.op=q.size(a,c);this.of=q.rect(0,0,a,c);this.Ow=q.rect(0,
0,a,c);this.Fa=q.fa.g().mf;this.mA={left:0,top:0};this.jC="Cocos2dHTML5";q.XF.A(this.Uo);this.bH=new q.to(q.qh.Vt,q.$e.Yy);this.fH=new q.to(q.qh.HN,q.$e.SHOW_ALL);this.eH=new q.to(q.qh.Vt,q.$e.lz);this.cH=new q.to(q.qh.Vt,q.$e.Zy);this.dH=new q.to(q.qh.Vt,q.$e.$y);this.BG=q.canvas;this.CG=q.ea},wB:function(){this.ctor();this.vB&&this.vB.call();var a=this.Ld.width,c=this.Ld.height;0<a&&this.eE(a,c,this.mi)},zW:function(a){a?this.dv||(this.dv=!0,a=this.wB.bind(this),window.addEventListener("resize",
a,!1)):this.dv&&(this.dv=!0,a=this.wB.bind(this),window.removeEventListener("resize",a,!1))},QX:function(a){if("function"==typeof a||null==a)this.vB=a},DG:function(){var a=this.Ld;a.width=this.bl.clientWidth;a.height=this.bl.clientHeight;this.Ld=a},Z0:function(){var a=this.op.width,c=this.op.height;0<a&&this.eE(a,c,this.mi)},MQ:function(){if(this.HG){var a={"user-scalable":"no","maximum-scale":"1.0","initial-scale":"1.0"},c=document.getElementsByName("viewport"),d;0==c.length?(c=document.createElement("meta"),
c.name="viewport",c.content="",document.head.appendChild(c)):c=c[0];if(q.La.yj&&"firefox"==q.La.type)c.content="initial-scale:1";else{d=c.content;for(var e in a)RegExp(e).test(d)||(d+=(""==d?"":",")+e+"\x3d"+a[e]);c.content=d}}},FQ:function(){var a=q.hd();this.Ea=this.wa=a},hQ:function(){this.wa=this.VG;this.Ea=this.WG},fP:function(){var a,c=this.Ir;for(a=0;a<this.RG;a++){if(!(c&1))return this.Ir|=1<<a,a;c>>=1}return-1},dQ:function(a){0>a||a>=this.RG||(a=~(1<<a),this.Ir&=a)},$0:function(){},uU:function(){this.Lr=
!0},c2:function(a){this.HG=a},end:function(){},s8:function(){return null!=this.BG&&null!=this.CG},Oaa:function(a){this.EA=a;q.fa.g().Zx(q.fa.g().pl)},Hca:function(){},Saa:function(){},Aaa:function(a,c){this.mA={left:a,top:c}},E4:function(){return this.mA},zn:function(){return q.size(this.Ld.width,this.Ld.height)},Naa:function(a,c){this.Ld.width=a;this.Ld.height=c;this.bl.style.width=a+"px";this.bl.style.height=c+"px";this.wB();q.fa.g().Zx(q.fa.g().pl)},J2:function(){},naa:function(a){this.lO=a},Xs:function(){return this.Ow.Za},
nJ:function(){return this.Ow.jd},F2:function(){return!0},r6:function(){return this.mi},RX:function(a){if(a instanceof q.to)this.mi=a;else switch(a){case q.so.Yy:this.mi=this.bH;break;case q.so.SHOW_ALL:this.mi=this.fH;break;case q.so.lz:this.mi=this.eH;break;case q.so.Zy:this.mi=this.cH;break;case q.so.$y:this.mi=this.dH}},eE:function(a,c,d){if(isNaN(a)||0==a||isNaN(c)||0==c)q.log("Resolution not valid");else{this.RX(d);var e=this.mi;if(e){e.Qn(this);var f=this.Ld.width,g=this.Ld.height;q.La.yj&&
this.MQ(this.Ld.width,this.Ld.height);this.DG();if(d!=this.mi||a!=this.op.width||c!=this.op.height||f!=this.Ld.width||g!=this.Ld.height)this.Uo=q.size(a,c),this.op=q.size(a,c),a=e.apply(this,this.Uo),a.scale&&2==a.scale.length&&(this.wa=a.scale[0],this.Ea=a.scale[1]),a.viewport instanceof q.Dg&&(a=this.of=a.viewport,c=this.Ow,c.Za.width=q.canvas.width/this.wa,c.Za.height=q.canvas.height/this.Ea,c.jd.x=-a.x/this.wa,c.jd.y=-a.y/this.Ea),a=q.fa.g(),a.gc=this.Up(),e.Pn(this),q.Xd==q.Rk&&(a.So(),a.fL()),
this.VG=this.wa,this.WG=this.Ea,q.vc&&q.vc.fQ(),q.XF.A(this.Xs())}else q.log("should set resolutionPolicy")}},Up:function(){return q.size(this.Uo.width,this.Uo.height)},Yba:function(a){this.Fa=a},fY:function(a,c,d,e){var f=this.EA,g=this.wa,h=this.Ea;q.ea.viewport(a*g*f+this.of.x*f,c*h*f+this.of.y*f,d*g*f,e*h*f)},lE:function(a,c,d,e){var f=this.EA,g=this.wa,h=this.Ea;q.ea.scissor(a*g*f+this.of.x*f,c*h*f+this.of.y*f,d*g*f,e*h*f)},GU:function(){var a=q.ea;return a.isEnabled(a.SCISSOR_TEST)},DT:function(){var a=
q.ea,c=this.wa,d=this.Ea,a=a.getParameter(a.SCISSOR_BOX);return q.rect((a[0]-this.of.x)/c,(a[1]-this.of.y)/d,a[2]/c,a[3]/d)},fca:function(a){null!=a&&0<a.length&&(this.jC=a)},q7:function(){return this.jC},r7:function(){return this.of},BT:function(){return this.wa},CT:function(){return this.Ea},P4:function(){return this.lr},xk:function(a,c,d){return{x:this.lr*(a-d.left),y:this.lr*(d.top+d.height-c)}},bU:function(a,c,d,e){for(var f=[],g=this.of,h=this.wa,k=this.Ea,l=0;l<a;++l){var m=c[l],p=d[l],s=e[l],
u=0;if(null==q.Pq[m])if(u=this.fP(),-1==u)q.log("The touches is more than MAX_TOUCHES, nUnusedIndex \x3d "+u);else{var w=q.Tu[u]=new q.Af;w.rE(u,(p-g.x)/h,(s-g.y)/k);q.Pq[m]=0|u;f.push(w)}}0!==f.length&&this.Fa.ry(f,null)},eU:function(a,c,d,e){for(var f=[],g=this.wa,h=this.Ea,k=this.of.x,l=this.of.y,m=0;m<a;++m){var p=d[m],s=e[m],u=q.Pq[c[m]];if(null!=u){var w=q.Tu[u];if(w)w.rE(u,(p-k)/g,(s-l)/h),f.push(w);else return}}0!=f.length&&this.Fa.sy(f,null)},dU:function(a,c,d,e){var f=[];this.fJ(f,a,c,d,
e);this.Fa.Dt(f,null)},cU:function(a,c,d,e){var f=[];this.fJ(f,a,c,d,e);this.Fa.JE(f,null)},fJ:function(a,c,d,e,f){for(var g=this.wa,h=this.Ea,k=this.of,l=0;l<c;++l){var m=d[l],p=e[l],s=f[l],u=q.Pq[m];if(null!=u){var w=q.Tu[u];if(w)w.rE(u,(p-k.x)/g,(s-k.y)/h),a.push(w),q.Tu[u]=null,this.dQ(u),delete q.Pq[m];else break}}},ry:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Yf||h,d[f]=g.T.x,e[f]=g.T.y,++f;this.bU(f,c,d,e)},sy:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=
a[h],c[f]=g.Yf||h,d[f]=g.T.x,e[f]=g.T.y,++f;this.eU(f,c,d,e)},Dt:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Yf||h,d[f]=g.T.x,e[f]=g.T.y,++f;this.dU(f,c,d,e)},JE:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Yf||h,d[f]=g.T.x,e[f]=g.T.y,++f;this.cU(f,c,d,e)}});q.sa.g=function(){this.Pb||(q.fa.g(),this.Pb=this.Pb||new q.sa,this.Pb.uU());return this.Pb};
q.qh=q.Qa.extend({dG:!1,Qn:function(){if("iOS"==t.rK||"OS X"==t.rK)this.dG=!0},apply:function(){},Pn:function(){},HB:function(a,c,d){var e=a.bl;q.La.yj&&e==document.documentElement&&q.xz.g().LR(e);var e=q.canvas,f=q.wk;f.style.width=e.style.width=c+"px";f.style.height=e.style.height=d+"px";f=a.lr=1;this.dG&&(f=a.lr=window.devicePixelRatio||1);e.width=c*f;e.height=d*f;a=document.body;var g;a&&(g=a.style)&&(g.paddingTop=g.paddingTop||"0px",g.paddingRight=g.paddingRight||"0px",g.paddingBottom=g.paddingBottom||
"0px",g.paddingLeft=g.paddingLeft||"0px",g.borderTop=g.borderTop||"0px",g.borderRight=g.borderRight||"0px",g.borderBottom=g.borderBottom||"0px",g.borderLeft=g.borderLeft||"0px",g.marginTop=g.marginTop||"0px",g.marginRight=g.marginRight||"0px",g.marginBottom=g.marginBottom||"0px",g.marginLeft=g.marginLeft||"0px")},vG:function(){document.body.insertBefore(q.wk,document.body.firstChild);var a=document.body.style;a.width=window.innerWidth+"px";a.height=window.innerHeight+"px";a.overflow="hidden";a=q.wk.style;
a.position="fixed";a.left=a.top="0px";document.body.scrollTop=0}});q.$e=q.Qa.extend({yB:{scale:[1,1],viewport:null},Zq:function(a,c,d,e,f,g){2>Math.abs(a-d)&&(d=a);2>Math.abs(c-e)&&(e=c);a=q.rect(Math.round((a-d)/2),Math.round((c-e)/2),d,e);q.Xd==q.zg&&q.ea.translate(a.x,a.y+e);this.yB.scale=[f,g];this.yB.viewport=a;return this.yB},Qn:function(){},apply:function(){return{scale:[1,1]}},Pn:function(){}});
(function(){var a=q.qh.extend({apply:function(a){this.HB(a,a.Ld.width,a.Ld.height)}}),c=q.qh.extend({apply:function(a,c){var d=a.Ld.width,e=a.Ld.height,f=q.wk.style,p=c.width,s=c.height,u=d/p,w=e/s,x,F;u<w?(x=d,F=s*u):(x=p*w,F=e);p=Math.round((d-x)/2);F=Math.round((e-F)/2);this.HB(a,d-2*p,e-2*F);f.marginLeft=p+"px";f.marginRight=p+"px";f.marginTop=F+"px";f.marginBottom=F+"px"}});a.extend({Qn:function(a){this._super(a);a.bl=document.documentElement},apply:function(a){this._super(a);this.vG()}});c.extend({Qn:function(a){this._super(a);
a.bl=document.documentElement},apply:function(a,c){this._super(a,c);this.vG()}});var d=q.qh.extend({apply:function(a){this.HB(a,q.canvas.width,q.canvas.height)}});q.qh.Vt=new a;q.qh.HN=new c;q.qh.I_=new d;var a=q.$e.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height;return this.Zq(d,e,d,e,d/c.width,e/c.height)}}),c=q.$e.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=c.width,p=c.height,s=d/f,u=e/p,w=0,x,F;s<u?(w=s,x=d,F=p*w):(w=u,x=f*w,F=e);return this.Zq(d,e,
x,F,w,w)}}),d=q.$e.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=c.width,p=c.height,s=d/f,u=e/p,w,x,F;s<u?(w=u,x=f*w,F=e):(w=s,x=d,F=p*w);return this.Zq(d,e,x,F,w,w)}}),e=q.$e.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=e/c.height;return this.Zq(d,e,d,e,f,f)},Pn:function(a){q.fa.g().gc=a.Xs()}}),f=q.$e.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=d/c.width;return this.Zq(d,e,d,e,f,f)},Pn:function(a){q.fa.g().gc=a.Xs()}});q.$e.Yy=
new a;q.$e.SHOW_ALL=new c;q.$e.lz=new d;q.$e.Zy=new e;q.$e.$y=new f})();q.to=q.Qa.extend({sv:null,tv:null,ctor:function(a,c){this.bX(a);this.eX(c)},Qn:function(a){this.sv.Qn(a);this.tv.Qn(a)},apply:function(a,c){this.sv.apply(a,c);return this.tv.apply(a,c)},Pn:function(a){this.sv.Pn(a);this.tv.Pn(a)},bX:function(a){a instanceof q.qh&&(this.sv=a)},eX:function(a){a instanceof q.$e&&(this.tv=a)}});q.xz=q.Qa.extend({os:!1,Wk:"",iB:null,jB:null,ZB:"",A:function(){var a=["webkit","moz","o","ms","khtml"],c=document.body;if(c.requestFullScreen)this.os=!0;else for(var d=0,e=a.length,f;d<e;d++)if(f=a[d],c[f+"RequestFullScreen"]){this.os=!0;this.Wk=f;break}this.ZB="ontouchstart"in window?"touchstart":"mousedown"},fullScreen:function(){var a=document;if(this.os)switch(this.Wk){case "":return a.fullScreen;case "webkit":return a.webkitIsFullScreen;default:return a[this.Wk+"FullScreen"]}return!1},KK:function(a,
c){if(this.os&&!this.fullScreen()){if(c){var d=this.Wk+"fullscreenchange";this.iB&&this.jB&&this.iB.removeEventListener(d,this.jB);this.iB=a;this.jB=c;a.addEventListener(d,c,!1)}return""===this.Wk?a.requestFullScreen():a[this.Wk+"RequestFullScreen"]()}},G3:function(){if(this.os&&this.fullScreen())return""===this.Wk?document.body.cancelFullScreen():document.body[this.Wk+"CancelFullScreen"]()},LR:function(a,c){function d(){e.KK(a,c);a.removeEventListener(e.ZB,d)}var e=this;this.KK(a,c);a.addEventListener(this.ZB,
d)}});q.xz.g=function(){if(!this.Pb){var a=new q.xz;a.A();this.Pb=a}return this.Pb};q.XF={ti:q.Nd(),Hh:q.Nd(),si:q.Nd(),Vi:q.Nd(),Wi:q.Nd(),Ui:q.Nd(),eA:q.Nd(),fj:q.Nd(),ni:q.Nd(),Ia:0,ya:0,A:function(a){this.Ia=a.width;this.ya=a.height;a=this.Ia;var c=this.ya;this.ti.U=c;this.Hh.J=a;this.Hh.U=c;this.si.J=a/2;this.si.U=c;this.Wi.J=a;this.Ui.J=a/2;this.eA.J=a/2;this.eA.U=c/2;this.fj.U=c/2;this.ni.J=a;this.ni.U=c/2},Ys:function(){return this.Ia},Vs:function(){return this.ya},$ca:function(){return this.ti},ada:function(){return this.Hh},top:function(){return this.si},t2:function(){return this.Vi},
u2:function(){return this.Wi},bottom:function(){return this.Ui},I2:function(){return this.eA},left:function(){return this.fj},right:function(){return this.ni}};q.my=function(a){var c;if(a&&0!=a.length){var d=a.indexOf("{"),e=a.indexOf("}");-1==d||-1==e||d>e||(a=a.substr(d+1,e-d-1),0!=a.length&&(d=a.indexOf("}"),-1==a.indexOf("{")&&-1==d&&(c=a.split(","))))}return c};q.HF=function(a){var c=q.yd();if(a){var d=a.indexOf("{")+1,e=a.lastIndexOf("}",a.length);-1!=d&&-1!=e&&(a=a.substring(d,e),d=a.indexOf("}"),-1!=d&&(d=a.indexOf(",",d),-1!=d&&(c=q.my(a.substr(0,d)),a=q.my(a.substr(d+1,a.length-d)),c=q.rect(parseFloat(c[0]),parseFloat(c[1]),parseFloat(a[0]),parseFloat(a[1])))))}return c};
q.GF=function(a){var c=q.Oj();try{if(""==a)return c;var d=q.my(a),c=q.a(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};q.yz=function(a){var c=q.um();try{if(""==a)return c;var d=q.my(a),c=q.size(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};q.gZ=function(a,c,d,e,f,g){this.Q=a;this.o=c;this.Na=d;this.d=e;this.kb=f;this.lb=g};q.W0=function(a,c,d,e,f,g){return{Q:a,o:c,Na:d,d:e,kb:f,lb:g}};q.jZ=function(a,c,d,e,f,g){return{Q:a,o:c,Na:d,d:e,kb:f,lb:g}};q.X0=function(a,c){return{x:c.Q*a.x+c.Na*a.y+c.kb,y:c.o*a.x+c.d*a.y+c.lb}};q.FF=function(a,c){return{x:c.Q*a.x+c.Na*a.y+c.kb,y:c.o*a.x+c.d*a.y+c.lb}};q.Tk=function(a,c,d){return{x:d.Q*a+d.Na*c+d.kb,y:d.o*a+d.d*c+d.lb}};
q.Y0=function(a,c){return{width:c.Q*a.width+c.Na*a.height,height:c.o*a.width+c.d*a.height}};q.r0=function(a,c){return{width:c.Q*a.width+c.Na*a.height,height:c.o*a.width+c.d*a.height}};q.kZ=function(){return{Q:1,o:0,Na:0,d:1,kb:0,lb:0}};q.iZ=function(){return{Q:1,o:0,Na:0,d:1,kb:0,lb:0}};
q.Vf=function(a,c){var d=q.Ul(a),e=q.Tl(a),f=q.Rn(a),g=q.Sn(a),h=q.Tk(e,d,c),d=q.Tk(f,d,c),e=q.Tk(e,g,c),k=q.Tk(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);return q.rect(f,l,g-f,h-l)};
q.Ri=function(a,c){var d=q.Ul(a),e=q.Tl(a),f=q.Rn(a),g=q.Sn(a),h=q.Tk(e,d,c),d=q.Tk(f,d,c),e=q.Tk(e,g,c),k=q.Tk(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);a.x=f;a.y=l;a.width=g-f;a.height=h-l;return a};q.Gy=function(a,c,d){return{Q:a.Q,o:a.o,Na:a.Na,d:a.d,kb:a.kb+a.Q*c+a.Na*d,lb:a.lb+a.o*c+a.d*d}};q.lZ=function(a,c,d){return{Q:a.Q*c,o:a.o*c,Na:a.Na*d,d:a.d*d,kb:a.kb,lb:a.lb}};
q.zM=function(a){var c=Math.sin(1.57079633),d=Math.cos(1.57079633);return{Q:a.Q*d+a.Na*c,o:a.o*d+a.d*c,Na:a.Na*d-a.Q*c,d:a.d*d-a.o*c,kb:a.kb,lb:a.lb}};q.lm=function(a,c){return{Q:a.Q*c.Q+a.o*c.Na,o:a.Q*c.o+a.o*c.d,Na:a.Na*c.Q+a.d*c.Na,d:a.Na*c.o+a.d*c.d,kb:a.kb*c.Q+a.lb*c.Na+c.kb,lb:a.kb*c.o+a.lb*c.d+c.lb}};q.hZ=function(a,c){return a.Q===c.Q&&a.o===c.o&&a.Na===c.Na&&a.d===c.d&&a.kb===c.kb&&a.lb===c.lb};
q.UE=function(a){var c=1/(a.Q*a.d-a.o*a.Na);return{Q:c*a.d,o:-c*a.o,Na:-c*a.Na,d:c*a.Q,kb:c*(a.Na*a.lb-a.d*a.kb),lb:c*(a.o*a.kb-a.Q*a.lb)}};q.vF=parseFloat("1.192092896e-07F");q.ID=function(a){return q.a(-a.x,-a.y)};q.gh=function(a,c){return q.a(a.x+c.x,a.y+c.y)};q.Vd=function(a,c){return q.a(a.x-c.x,a.y-c.y)};q.Bj=function(a,c){return q.a(a.x*c,a.y*c)};q.HD=function(a,c){return q.Bj(q.gh(a,c),0.5)};q.mq=function(a,c){return a.x*c.x+a.y*c.y};q.P9=function(a,c){return a.x*c.y-a.y*c.x};q.Hx=function(a){return q.a(-a.y,a.x)};q.X9=function(a){return q.a(a.y,-a.x)};q.W9=function(a,c){return q.Bj(c,q.mq(a,c)/q.mq(c,c))};
q.Y9=function(a,c){return q.a(a.x*c.x-a.y*c.y,a.x*c.y+a.y*c.x)};q.d$=function(a,c){return q.a(a.x*c.x+a.y*c.y,a.y*c.x-a.x*c.y)};q.tK=function(a){return q.mq(a,a)};q.Q9=function(a,c){return q.tK(q.Vd(a,c))};q.FD=function(a){return Math.sqrt(q.tK(a))};q.ED=function(a,c){return q.FD(q.Vd(a,c))};q.Wh=function(a){return q.Bj(a,1/q.FD(a))};q.R9=function(a){return q.a(Math.cos(a),Math.sin(a))};q.c$=function(a){return Math.atan2(a.y,a.x)};q.Ks=function(a,c,d){if(c>d){var e=c;c=d;d=e}return a<c?c:a<d?a:d};
q.sK=function(a){var c=q.a(0,0),d=q.a(1,1);return q.a(q.Ks(a.x,c.x,d.x),q.Ks(a.y,c.y,d.y))};q.sV=function(){var a=q.fa.g().gc;return q.a(a.width,a.height)};q.O9=function(a,c){return q.a(c(a.x),c(a.y))};q.uK=function(a,c,d){return q.gh(q.Bj(a,1-d),q.Bj(c,d))};q.S9=function(a,c,d){return a.x-d<=c.x&&c.x<=a.x+d&&a.y-d<=c.y&&c.y<=a.y+d?!0:!1};q.N9=function(a,c){return q.a(a.x*c.x,a.y*c.y)};q.M9=function(a,c){var d=q.Wh(a),e=q.Wh(c),d=Math.atan2(d.x*e.y-d.y*e.x,q.mq(d,e));return Math.abs(d)<q.vF?0:d};
q.L9=function(a,c){var d=Math.acos(q.mq(q.Wh(a),q.Wh(c)));return Math.abs(d)<q.vF?0:d};q.uV=function(a,c,d){a=q.Vd(a,c);var e=Math.cos(d);d=Math.sin(d);var f=a.x;a.x=f*e-a.y*d+c.x;a.y=f*d+a.y*e+c.y;return a};q.GD=function(a,c,d,e,f){if(a.x==c.x&&a.y==c.y||d.x==e.x&&d.y==e.y)return!1;var g=c.x-a.x;c=c.y-a.y;var h=e.x-d.x;e=e.y-d.y;var k=a.x-d.x;a=a.y-d.y;d=e*g-h*c;f.x=h*a-e*k;f.y=g*a-c*k;if(0==d)return 0==f.x||0==f.y?!0:!1;f.x/=d;f.y/=d;return!0};
q.a$=function(a,c,d,e){var f=q.a(0,0);return q.GD(a,c,d,e,f)&&0<=f.x&&1>=f.x&&0<=f.y&&1>=f.y?!0:!1};q.U9=function(a,c,d,e){var f=q.a(0,0);return q.GD(a,c,d,e,f)?(d=q.a(0,0),d.x=a.x+f.x*(c.x-a.x),d.y=a.y+f.x*(c.y-a.y),d):q.Oj()};q.Z9=function(a,c){return null!=a&&null!=c?a.x==c.x&&a.y==c.y:!1};q.e$=function(a){a.x=0;a.y=0};q.T9=function(a,c){a.x=c.x;a.y=c.y};q.tV=function(a,c){a.x*=c;a.y*=c};q.b$=function(a,c){a.x-=c.x;a.y-=c.y};q.K9=function(a,c){a.x+=c.x;a.y+=c.y};
q.V9=function(a){q.tV(a,1/Math.sqrt(a.x*a.x+a.y*a.y))};q.tda=function(a,c,d,e,f){f+=e;if(!(1>=f)){c*=0.5;for(var g,h=f-1,k=e;k<f;k++){g=2*k;var l=q.a(a[2*k],a[2*k+1]),m;if(0===k)m=q.Hx(q.Wh(q.Vd(l,q.a(a[2*(k+1)],a[2*(k+1)+1]))));else if(k===h)m=q.Hx(q.Wh(q.Vd(q.a(a[2*(k-1)],a[2*(k-1)+1]),l)));else{m=q.a(a[2*(k-1)],a[2*(k-1)+1]);var p=q.a(a[2*(k+1)],a[2*(k+1)+1]),s=q.Wh(q.Vd(p,l)),u=q.Wh(q.Vd(m,l)),w=Math.acos(q.mq(s,u));m=w<q.Mj(70)?q.Hx(q.Wh(q.HD(s,u))):w<q.Mj(170)?q.Wh(q.HD(s,u)):q.Hx(q.Wh(q.Vd(p,m)))}m=q.Bj(m,c);d[2*g]=l.x+m.x;d[2*g+1]=l.y+m.y;d[2*
(g+1)]=l.x-m.x;d[2*(g+1)+1]=l.y-m.y}for(k=0==e?0:e-1;k<h;k++)g=2*k,a=g+2,c=q.$u(d[2*g],d[2*g+1]),f=q.$u(d[2*(g+1)],d[2*(g+1)+1]),g=q.$u(d[2*a],d[2*a]),e=q.$u(d[2*(a+1)],d[2*(a+1)+1]),c=!q.RY(c.x,c.y,e.x,e.y,f.x,f.y,g.x,g.y),!c.et&&(0>c.value||1<c.value)&&(c.et=!0),c.et&&(d[2*a]=e.x,d[2*a+1]=e.y,d[2*(a+1)]=g.x,d[2*(a+1)+1]=g.y)}};
q.RY=function(a,c,d,e,f,g,h,k){if(a==d&&c==e||f==h&&g==k)return{et:!1,value:0};d-=a;e-=c;f-=a;g-=c;h-=a;k-=c;a=Math.sqrt(d*d+e*e);d/=a;e/=a;c=f*d+g*e;g=g*d-f*e;f=c;c=h*d+k*e;k=k*d-h*e;h=c;return g==k?{et:!1,value:0}:{et:!0,value:(h+(f-h)*k/(k-g))/a}};q.uZ=function(a,c){c[2]=c[3]=c[6]=c[7]=c[8]=c[9]=c[11]=c[14]=0;c[10]=c[15]=1;c[0]=a.Q;c[4]=a.Na;c[12]=a.kb;c[1]=a.o;c[5]=a.d;c[13]=a.lb};q.e_=function(a,c){c.Q=a[0];c.Na=a[4];c.kb=a[12];c.o=a[1];c.d=a[5];c.lb=a[13]};q.tF=-1;q.B_=null;q.C_=null;q.IW=1;
q.G=q.Qa.extend({pb:0,Nw:0,Pg:0,oi:0,wa:1,Ea:1,u:null,Fe:0,Ge:0,D:null,za:!0,zm:null,Id:null,Da:null,gf:!1,da:null,gk:!1,Ed:q.tF,LH:null,fC:null,sk:!0,Mv:!0,lG:!0,J1:null,rk:null,GG:null,Ee:!1,ad:null,ag:0,uh:null,Qg:null,FG:!1,Tq:!1,gv:null,Zi:null,WA:!1,Vm:0,as:0,TA:function(){this.zm=q.Nd();this.Id=q.Nd();this.Da=q.Ym();this.u=q.Nd();this.D=[];this.rk={Q:1,o:0,Na:0,d:1,kb:0,lb:0};var a=q.fa.g();this.uh=a.lg();this.Qg=a.Of();this.FG=!0;this.gv={Q:1,o:0,Na:0,d:1,kb:0,lb:0};q.JM&&(this.Zi=new q.JM(this))},
A:function(){!1===this.FG&&this.TA();return!0},Gg:function(a,c){if(a&&0!==a.length){var d,e=a.length,f;d=q.G.Wf;switch(c){case d.eh:for(d=0;d<e;d++)(f=a[d])&&f.eh();break;case d.me:for(d=0;d<e;d++)(f=a[d])&&f.me();break;case d.Ki:for(d=0;d<e;d++)(f=a[d])&&f.Ki();break;case d.kg:for(d=0;d<e;d++)(f=a[d])&&f.kg();break;case d.xg:for(d=0;d<e;d++)(f=a[d])&&f.xg();break;case d.Uh:for(d=0;d<e;d++)(f=a[d])&&f.Uh();break;case d.oe:for(d=0;d<e;d++)(f=a[d])&&f.oe();break;default:throw"Unknown callback function";
}}},gb:null,xQ:function(){this.Xm();!1===this.sk&&(this.sk=this.Mv=!0)},yQ:function(){!1===this.sk&&(this.sk=this.Mv=!0)},G6:function(){return this.Fe},dy:function(a){this.Fe=a;this.gb()},H6:function(){return this.Ge},ey:function(a){this.Ge=a;this.gb()},x7:function(){return this.pb},qw:function(a){this.pb=a},hca:function(a){this.qw(a);this.da&&this.da.kt(this,a)},n7:function(){return this.Nw},FL:function(a){this.Nw=a},AT:function(){this.Pg!==this.oi&&q.log("cc.Node.rotation(): RotationX !\x3d RotationY. Don't know which one to return");
return this.Pg},ay:function(a){this.Pg=this.oi=a;this.Vm=0.017453292519943295*this.Pg;this.as=0.017453292519943295*this.oi;this.gb()},v6:function(){return this.Pg},by:function(a){this.Pg=a;this.Vm=0.017453292519943295*this.Pg;this.gb()},w6:function(){return this.oi},cy:function(a){this.oi=a;this.as=0.017453292519943295*this.oi;this.gb()},WC:function(){this.wa!==this.Ea&&q.log("cc.Node.getScale(): ScaleX !\x3d ScaleY. Don't know which one to return");return this.wa},Hk:function(a,c){this.wa=a;this.Ea=
c||0===c?c:a;this.gb()},BT:function(){return this.wa},rq:function(a){this.wa=a;this.gb()},CT:function(){return this.Ea},Zn:function(a){this.Ea=a;this.gb()},l:function(a,c){var d=this.u;2==arguments.length?(d.J=a,d.U=c):1==arguments.length&&(d.J=a.x,d.U=a.y);this.gb()},g6:function(){return this.u},h6:function(){return this.u.J},Pa:function(a){this.u.J=a;this.gb()},i6:function(){return this.u.U},yc:function(a){this.u.U=a;this.gb()},w4:function(){return this.D.length},v4:function(){return this.D},SJ:function(){return this.za},
B:function(a){this.za=a;this.gb()},e4:function(){return this.zm},w:function(a,c){var d=this.zm;if(2===arguments.length){if(a===d.J&&c===d.U)return;d.J=a;d.U=c}else{if(a.x===d.J&&a.y===d.U)return;d.J=a.x;d.U=a.y}var e=this.Id,f=this.Da;e.J=f.Ia*d.J;e.U=f.ya*d.U;this.gb()},f4:function(){return this.Id},c:function(){return this.Da},O:function(a,c){var d=this.Da;if(2===arguments.length){if(a===d.Ia&&c===d.ya)return;d.Ia=a;d.ya=c}else{if(a.width===d.Ia&&a.height===d.ya)return;d.Ia=a.width;d.ya=a.height}var e=
this.Id,f=this.zm;e.J=d.Ia*f.J;e.U=d.ya*f.U;this.gb()},A8:function(){return this.gf},getParent:function(){return this.da},st:function(a){this.da=a},l8:function(){return this.gk},wj:function(a){a!=this.gk&&(this.gk=a,this.gb())},OT:function(){return this.Ed},BL:function(a){this.Ed=a},getUserData:function(){return this.LH},setUserData:function(a){this.LH=a},l7:function(){return this.fC},bca:function(a){this.fC!=a&&(this.fC=a)},X5:function(){return this.ag},qq:function(a){this.ag=a},lg:function(){this.uh||
(this.uh=q.fa.g().lg());return this.uh},SW:function(a){this.uh!=a&&(this.BE(),this.uh=a)},Of:function(){this.Qg||(this.Qg=q.fa.g().Of());return this.Qg},TX:function(a){this.Qg!=a&&(this.Et(),this.Qg=a)},qb:function(){var a=q.rect(0,0,this.Da.Ia,this.Da.ya);return q.Ri(a,this.og())},kg:function(){this.BE();this.Et();this.Gg(this.D,q.G.Wf.kg)},description:function(){return"\x3ccc.Node | Tag \x3d"+this.Ed+"\x3e"},fT:function(a){var c=this.D;if(null!=c)for(var d=0;d<c.length;d++){var e=c[d];if(e&&e.Ed==
a)return e}return null},f:function(a,c,d){if(!a)throw"cc.Node.addChild(): child must be non-null";a===this?q.log("cc.Node.addChild(): An Node can't be added as a child of itself."):null!==a.da?q.log("cc.Node.addChild(): child already added. It can't be added again"):(c=null!=c?c:a.pb,a.Ed=null!=d?d:a.Ed,this.sP(a,c),a.da=this,this.gf&&(a.eh(),this.WA&&a.Ki()))},K:function(a){this.da&&(null==a&&(a=!0),this.da.removeChild(this,a))},oW:function(a){q.log("removeFromParentAndCleanup is deprecated. Use removeFromParent instead");
this.K(a)},removeChild:function(a,c){0!==this.D.length&&(null==c&&(c=!0),-1<this.D.indexOf(a)&&this.VO(a,c),this.gb())},N$:function(a,c){a===q.tF&&q.log("cc.Node.removeChildByTag(): argument tag is an invalid tag");var d=this.fT(a);null==d?q.log("cocos2d: removeChildByTag(tag \x3d "+a+"): child not found!"):this.removeChild(d,c)},F$:function(a){q.log("removeAllChildrenWithCleanup is deprecated. Use removeAllChildren instead");this.cc(a)},cc:function(a){var c=this.D;if(null!=c){null==a&&(a=!0);for(var d=
0;d<c.length;d++){var e=c[d];e&&(this.gf&&(e.Uh(),e.me()),a&&e.kg(),e.st(null))}this.D.length=0}},VO:function(a,c){this.gf&&(a.Uh(),a.me());c&&a.kg();a.st(null);q.pe(this.D,a)},sP:function(a,c){this.Ee=!0;this.D.push(a);a.qw(c)},kt:function(a,c){if(!a)throw"cc.Node.reorderChild(): child must be non-null";this.Ee=!0;a.qq(q.IW++);a.qw(c);this.gb()},oe:function(){if(this.Ee){var a=this.D,c,d,e=a.length,f;for(c=0;c<e;c++){var g=a[c];d=c-1;for(f=a[d];0<=d&&(g.pb<f.pb||g.pb==f.pb&&g.ag<f.ag);)a[d+1]=f,
d-=1,f=a[d];a[d+1]=g}this.Ee=!1}},$a:function(){},ty:function(){null!=this.da&&(this.da.ty(),this.da.transform())},eh:function(){this.WA=!1;this.gf=!0;this.Gg(this.D,q.G.Wf.eh);this.Qx()},Ki:function(){this.WA=!0;this.Gg(this.D,q.G.Wf.Ki)},Uh:function(){this.Gg(this.D,q.G.Wf.Uh)},me:function(){this.gf=!1;this.Kx();this.Gg(this.D,q.G.Wf.me);this.Zi&&this.Zi.jW()},Rx:function(a){if(!a)throw"cc.Node.runAction(): action must be non-null";this.lg().pR(a,this,!this.gf);return a},BE:function(){this.lg().GK(this)},
zY:function(a){this.lg().FK(a)},Aca:function(a){a===q.jo?q.log("cc.Node.stopActionBy(): argument tag an invalid tag"):this.lg().iW(a,this)},OC:function(a){return a===q.jo?(q.log("cc.Node.getActionByTag(): argument tag is an invalid tag"),null):this.lg().OC(a,this)},K5:function(){return this.lg().jK(this)},B9:function(){return this.lg().jK(this)},LW:function(){this.MW(0)},MW:function(a){this.Of().PK(this,a,!this.gf)},fda:function(){this.Of().wq(this)},lc:function(a,c,d,e){c=c||0;if(!a)throw"cc.Node.schedule(): callback function must be non-null";
if(0>c)throw"cc.Node.schedule(): interval must be positive";d=null==d?q.tm:d;e=e||0;this.Of().KW(this,a,c,d,e,!this.gf)},Yd:function(a,c){this.lc(a,0,0,c)},Oc:function(a){a&&this.Of().gM(this,a)},Et:function(){this.Of().fM(this)},Qx:function(){this.Of().Un(this);this.lg().Un(this)},Kx:function(){this.Of().jt(this);this.lg().jt(this)},oaa:function(a){this.gv=a;this.Tq=this.sk=!0},h$:function(){this.Mv&&(this.GG=q.UE(this.og()),this.Mv=!1);return this.GG},Ln:function(){for(var a=this.og(),c=this.da;null!=
c;c=c.getParent())a=q.lm(a,c.og());return a},TY:function(){return q.UE(this.Ln())},Ja:function(a){return q.FF(a,this.TY())},yl:function(a){return q.FF(a,this.Ln())},lS:function(a){return q.Vd(this.Ja(a),this.Id)},Y2:function(a){a=q.gh(a,this.Id);return this.yl(a)},c1:function(a){a=this.yl(a);return q.fa.g().mS(a)},yi:function(a){return this.Ja(a.T)},Z2:function(a){a=a.T;a=q.fa.g().kS(a);return this.lS(a)},update:function(a){this.Zi&&!this.Zi.h8()&&this.Zi.Ca(a)},xg:function(){this.Gg(this.D,q.G.Wf.xg)},
MK:function(){},EK:function(){},gT:function(a){return this.Zi.gT(a)},Q1:function(a){this.Zi.add(a)},O$:function(a){return this.Zi.remove(a)},G$:function(){this.Zi.jW()},yH:null,TB:null,PA:null,Ko:null,dl:null,ctor:null,ei:function(){this.TA()},fi:function(){this.TA();var a=new q.Rh;a.Sh[2]=a.Sh[3]=a.Sh[6]=a.Sh[7]=a.Sh[8]=a.Sh[9]=a.Sh[11]=a.Sh[14]=0;a.Sh[10]=a.Sh[15]=1;this.yH=a;this.PA=0;this.TB=new q.Rh},Ca:null,mn:function(a){if(this.za){a=a||q.ea;var c,d=this.D,e;a.save();this.transform(a);var f=
d.length;if(0<f){this.oe();for(c=0;c<f;c++)if(e=d[c],0>e.pb)e.Ca(a);else break;for(this.$a(a);c<f;c++)d[c].Ca(a)}else this.$a(a);this.ag=0;a.restore()}},nn:function(){if(this.za){var a=q.ea,c,d=q.rS;d.stack.push(d.top);q.S8(this.TB,d.top);d.top=this.TB;var e=this.dl;e&&e.nO&&e.tC();this.transform();var f=this.D;if(f&&0<f.length){var g=f.length;this.oe();for(c=0;c<g;c++)if(f[c]&&0>f[c].pb)f[c].Ca();else break;for(this.$a(a);c<g;c++)f[c]&&f[c].Ca()}else this.$a(a);this.ag=0;e&&e.nO&&e.pC(this);d.top=
d.stack.pop()}},transform:null,YQ:function(a){a=a||q.ea;var c=q.sa.g(),d=this.og();a.transform(d.Q,d.Na,d.o,d.d,d.kb*c.wa,-d.lb*c.Ea)},ZQ:function(){var a=this.yH,c=q.rS.top,d=this.og(),e=a.Sh;e[0]=d.Q;e[4]=d.Na;e[12]=d.kb;e[1]=d.o;e[5]=d.d;e[13]=d.lb;e[14]=this.Nw;q.PU(c,c,a);null==this.Ko||null!=this.dl&&this.dl.hq()||(a=this.Id.J,c=this.Id.U,0!==a||0!==c?(q.NU(q.Cg(a),q.Cg(c),0),this.Ko.$J(),q.NU(q.Cg(-a),q.Cg(-c),0)):this.Ko.$J())},og:null,IP:function(){this.rk||(this.rk={Q:1,o:0,Na:0,d:1,kb:0,
lb:0});if(this.sk){var a=this.rk;a.kb=this.u.J;a.lb=this.u.U;var c=1,d=0;this.Pg&&(c=Math.cos(this.Vm),d=Math.sin(this.Vm));a.Q=a.d=c;a.o=-d;a.Na=d;var e=this.wa,f=this.Ea,g=this.Id.J,h=this.Id.U,k=1E-6>e&&-1E-6<e?1E-6:e,l=1E-6>f&&-1E-6<f?1E-6:f;if(this.Fe||this.Ge){var m=Math.tan(-this.Fe*Math.PI/180),p=Math.tan(-this.Ge*Math.PI/180),s=h*m*k,u=g*p*l;a.Q=c+-d*p;a.o=c*m+-d;a.Na=d+c*p;a.d=d*m+c;a.kb+=c*s+-d*u;a.lb+=d*s+c*u}if(1!==e||1!==f)a.Q*=k,a.Na*=k,a.o*=l,a.d*=l;a.kb+=c*-g*k+-d*h*l;a.lb-=d*-g*
k+c*h*l;this.gk&&(a.kb+=g,a.lb+=h);this.Tq&&(this.rk=q.lm(this.rk,this.gv),this.Tq=!1);this.sk=!1}return this.rk},JP:function(){if(this.sk){var a=this.u.J,c=this.u.U,d=this.Id.J,e=-d,f=this.Id.U,g=-f,h=this.wa,k=this.Ea;this.gk&&(a+=d,c+=f);var l=1,m=0,p=1,s=0;if(0!==this.Pg||0!==this.oi)l=Math.cos(-this.Vm),m=Math.sin(-this.Vm),p=Math.cos(-this.as),s=Math.sin(-this.as);var u=this.Fe||this.Ge;u||0===d&&0===f||(a+=p*e*h+-m*g*k,c+=s*e*h+l*g*k);a={Q:p*h,o:s*h,Na:-m*k,d:l*k,kb:a,lb:c};u&&(a=q.lm({Q:1,
o:Math.tan(q.Mj(this.Ge)),Na:Math.tan(q.Mj(this.Fe)),d:1,kb:0,lb:0},a),0!==d||0!==f)&&(a=q.Gy(a,e,g));this.Tq&&(a=q.lm(a,this.gv),this.Tq=!1);this.rk=a;this.sk=!1}return this.rk},Xm:function(){this.lG=!0;this.da&&this.da.Xm()},PC:function(){this.Ko||(this.Ko=new q.Dq);return this.Ko},g5:function(){return this.dl},Qaa:function(a){this.dl=a},YC:function(){return this.ad},lh:function(a){this.ad=a},f5:function(){return this.PA},Paa:function(a){this.PA=a},n4:function(){var a=q.rect(0,0,this.Da.Ia,this.Da.ya),
c=this.Ln(),a=q.Vf(a,this.Ln());if(!this.D)return a;for(var d=this.D,e=0;e<d.length;e++){var f=d[e];f&&f.za&&(f=f.xG(c))&&(a=q.Nx(a,f))}return a},xG:function(a){var c=q.rect(0,0,this.Da.Ia,this.Da.ya);a=null==a?this.og():q.lm(this.og(),a);c=q.Vf(c,a);if(!this.D)return c;for(var d=this.D,e=0;e<d.length;e++){var f=d[e];f&&f.za&&(f=f.xG(a))&&(c=q.Nx(c,f))}return c}});
q.La.gd?(b=q.G.prototype,b.ctor=q.G.prototype.fi,b.gb=q.G.prototype.yQ,b.Ca=q.G.prototype.nn,b.transform=q.G.prototype.ZQ,b.og=q.G.prototype.JP):(b=q.G.prototype,b.ctor=q.G.prototype.ei,b.gb=q.G.prototype.xQ,b.Ca=q.G.prototype.mn,b.transform=q.G.prototype.YQ,b.og=q.G.prototype.IP);q.G.create=function(){return new q.G};q.G.Wf={eh:1,me:2,kg:3,Ki:4,xg:5,Uh:6,oe:7};
q.Lb=q.G.extend({xb:!0,pc:255,Og:255,Mc:null,De:null,Jd:!1,we:!1,ctor:function(){q.G.prototype.ctor.call(this);this.Og=this.pc=255;this.Mc=q.Eb();this.De=q.Eb();this.we=this.Jd=!1},uj:function(){return this.Og},iT:function(){return this.pc},ua:function(a){this.pc=this.Og=a;a=255;var c=this.da;c&&c.xb&&c.we&&(a=c.pc);this.wd(a)},wd:function(a){this.pc=this.Og*a/255;if(this.we){a=this.D;for(var c=0;c<a.length;c++){var d=a[c];d&&d.xb&&d.wd(this.pc)}}},DU:function(){return this.we},XK:function(a){this.we!==
a&&((this.we=a)?this.vr():this.yA())},vr:function(){var a=255,c=this.da;c&&c.xb&&c.we&&(a=c.pc);this.wd(a)},yA:function(){this.pc=this.Og;for(var a=this.D,c=0;c<a.length;c++){var d=a[c];d&&d.xb&&d.wd(255)}},Fd:function(){var a=this.De;return new q.Kc(a.t,a.p,a.o)},Us:function(){return this.Mc},q:function(a){var c=this.Mc,d=this.De;c.t=d.t=a.t;c.p=d.p=a.p;c.o=d.o=a.o;a=(a=this.da)&&a.xb&&a.Jd?a.Us():q.Eb();this.vd(a)},vd:function(a){var c=this.Mc,d=this.De;c.t=0|d.t*a.t/255;c.p=0|d.p*a.p/255;c.o=0|
d.o*a.o/255;if(this.Jd)for(a=this.D,d=0;d<a.length;d++){var e=a[d];e&&e.xb&&e.vd(c)}},CU:function(){return this.Jd},WK:function(a){this.Jd!==a&&((this.Jd=a)?this.ur():this.xA())},ur:function(){var a;a=(a=this.da)&&a.xb&&a.Jd?a.Us():q.Eb();this.vd(a)},xA:function(){var a=this.Mc,c=this.De;a.t=c.t;a.p=c.p;a.o=c.o;for(var a=this.D,c=q.Eb(),d=0;d<a.length;d++){var e=a[d];e&&e.xb&&e.vd(c)}},f:function(a,c,d){q.G.prototype.f.call(this,a,c,d);this.Jd&&this.ur();this.we&&this.vr()},Rf:function(){},Il:function(){return!1}});
q.Lb.create=function(){var a=new q.Lb;a.A();return a};q.qe=q.Lb.extend({xb:!0,MG:0,LG:0,Ov:0,Nv:0,Xj:null,Va:null,Gc:!1,qa:null,Yr:0,QA:!1,ctor:function(){q.Lb.prototype.ctor.call(this);this.Xj=q.Eb();this.qa={src:q.Ye,Ub:q.Xe};this.QA=!1},hda:function(){q.log("cc.AtlasNode.updateAtlasValues(): Shall be overridden in subclasses")},Fd:function(){return this.Gc?this.Xj:q.Lb.prototype.Fd.call(this)},Rf:function(a){var c=this.Fd();this.Gc=a;this.q(c)},Il:function(){return this.Gc},Ts:function(){return this.qa},Xl:function(a,c){this.qa=1==arguments.length?
a:{src:a,Ub:c}},tq:function(a){this.Va=a},iJ:function(){return this.Va},o6:function(){return this.Yr},yba:function(a){this.Yr=a},dn:null,bg:null,BH:null,qv:null,rU:function(a,c,d,e){if(!a)throw"cc.AtlasNode.initWithTileFile(): title should not be null";a=q.ga.g().la(a);return this.Ta(a,c,d,e)},Ta:null,Jr:function(a,c,d,e){this.Ov=c;this.Nv=d;this.Gc=!0;this.bg=a;if(!this.bg)return q.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.dn=this.bg;this.mv();this.Yr=e;return!0},
Kr:function(a,c,d,e){this.Ov=c;this.Nv=d;this.Xj=q.Eb();this.Gc=!0;this.qa.src=q.Ye;this.qa.Ub=q.Xe;c=this.De;this.qv=new Float32Array([c.t/255,c.p/255,c.o/255,this.Og/255]);this.Va=new q.xo;this.Va.Ta(a,e);if(!this.Va)return q.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.ln();this.IH();this.mv();this.Yr=e;this.lh(q.di.g().Li(q.l0));this.BH=q.ea.getUniformLocation(this.YC().lx(),"u_color");return!0},$a:null,Jg:function(a){a=a||q.ea;q.kz(this);q.Ak(this.qa.src,this.qa.Ub);
a.uniform4fv(this.BH,this.qv);this.Va.CI(this.Yr,0)},q:null,cs:function(a){var c=this.De;if(c.t!=a.t||c.p!=a.p||c.o!=a.o){c=new q.Kc(a.t,a.p,a.o);this.Xj=a;if(this.Gc){var d=this.pc;c.t=c.t*d/255;c.p=c.p*d/255;c.o=c.o*d/255}q.Lb.prototype.q.call(this,a);this.ja()&&(a=this.bg.Fc)&&(c=q.ga.g().jJ(a))&&(d=q.rect(0,0,a.width,a.height),a=q.NC(a,c,this.De,d),c=new q.rc,c.tf(a),c.ke(),this.ma(c))}},CB:function(a){var c=q.Kc(a.t,a.p,a.o);this.Xj=a;var d=this.pc;this.Gc&&(c.t=c.t*d/255,c.p=c.p*d/255,c.o=c.o*
d/255);q.Lb.prototype.q.call(this,a);a=this.Mc;this.qv=new Float32Array([a.t/255,a.p/255,a.o/255,d/255])},ua:null,es:function(a){q.Lb.prototype.ua.call(this,a);this.Gc&&this.q(this.Xj)},EB:function(a){q.Lb.prototype.ua.call(this,a);this.Gc?this.q(this.Xj):(a=this.Mc,this.qv=new Float32Array([a.t/255,a.p/255,a.o/255,this.pc/255]))},ja:null,MA:function(){return this.dn},NA:function(){return this.Va.ja()},ma:null,fs:function(a){this.dn=a},gs:function(a){this.Va.ma(a);this.ln();this.IH()},mv:null,DO:function(){var a=
this.ja().c();this.LG=0|a.height/this.Nv;this.MG=0|a.width/this.Ov},EO:function(){var a=this.ja(),c=a.c();this.QA&&(c=a.Da);this.LG=0|c.height/this.Nv;this.MG=0|c.width/this.Ov},ln:function(){this.Va.ja().at()||(this.qa.src=770,this.qa.Ub=771)},IH:function(){this.Gc=this.Va.ja().at()},DB:function(a){this.QA=a}});
q.La.gd?(b=q.qe.prototype,b.Ta=q.qe.prototype.Kr,b.$a=q.qe.prototype.Jg,b.q=q.qe.prototype.CB,b.ua=q.qe.prototype.EB,b.ja=q.qe.prototype.NA,b.ma=q.qe.prototype.gs,b.mv=q.qe.prototype.EO):(b=q.qe.prototype,b.Ta=q.qe.prototype.Jr,b.$a=q.G.prototype.$a,b.q=q.qe.prototype.cs,b.ua=q.qe.prototype.es,b.ja=q.qe.prototype.MA,b.ma=q.qe.prototype.fs,b.mv=q.qe.prototype.DO);q.qe.create=function(a,c,d,e){var f=new q.qe;return f.rU(a,c,d,e)?f:null};q.Rj=0;q.Nq=1;q.Mq=2;q.Lq=3;q.Bz=4;q.Az=5;q.Nu=6;q.Mu=7;q.QF=8;q.PF=9;q.OF=q.Rj;q.qA=q.OF;q.IN=!1;q.I1=function(a,c,d,e){this.WU=a||0;this.UU=c||0;this.vM=d||0;this.wM=e||0};
q.YN=q.Qa.extend({MP:null,cg:null,Dh:null,Ch:null,$A:null,Da:null,yh:null,zh:null,bp:null,Jm:!1,ad:null,Qc:!1,Fc:null,xi:null,ge:null,ctor:function(){this.Ch=this.Dh=0;this.$A="";this.zh=this.yh=0;this.bp=!1;this.Da=q.Ym();this.Jm=!1;this.MP=!0;this.cg=q.rc.sS();this.ad=null;this.Qc=!1;this.xi=this.Fc=null;this.ge=[]},SD:function(){this.xi&&q.ea.deleteTexture(this.xi)},c6:function(){return this.cg},Zp:function(){return this.Dh},Yp:function(){return this.Ch},getName:function(){return this.xi},c:function(){return q.size(this.Da.width/
q.hd(),this.Da.height/q.hd())},hT:function(){return this.Da},nT:function(){return this.yh},vX:function(a){this.yh=a},oT:function(){return this.zh},wX:function(a){this.zh=a},YC:function(){return this.ad},lh:function(a){this.ad=a},at:function(){return this.bp},gU:function(){return this.Jm},description:function(){return"\x3ccc.Texture2D | Name \x3d "+this.$A+" | Dimensions \x3d "+this.Dh+" x "+this.Ch+" | Coordinates \x3d ("+this.yh+", "+this.zh+")\x3e"},gW:function(){},LU:function(a){return a},qx:function(a,
c,d,e,f){var g=q.ea,h=0,h=c===q.Rj?24:this.iI(c),h=d*h/8;0===h%8?g.pixelStorei(g.UNPACK_ALIGNMENT,8):0===h%4?g.pixelStorei(g.UNPACK_ALIGNMENT,4):0===h%2?g.pixelStorei(g.UNPACK_ALIGNMENT,2):g.pixelStorei(g.UNPACK_ALIGNMENT,1);this.xi=g.createTexture();q.Vg(this);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE);
switch(c){case q.Rj:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_BYTE,a);break;case q.Nq:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_BYTE,a);break;case q.Nu:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_4_4_4_4,a);break;case q.Mu:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_5_5_5_1,a);break;case q.Mq:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_SHORT_5_6_5,a);break;case q.Az:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE_ALPHA,
d,e,0,g.LUMINANCE_ALPHA,g.UNSIGNED_BYTE,a);break;case q.Lq:g.texImage2D(g.TEXTURE_2D,0,g.ALPHA,d,e,0,g.ALPHA,g.UNSIGNED_BYTE,a);break;case q.Bz:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE,d,e,0,g.LUMINANCE,g.UNSIGNED_BYTE,a);break;default:throw"NSInternalInconsistencyException";}this.Da.Ia=f.width;this.Da.ya=f.height;this.Dh=d;this.Ch=e;this.cg=c;this.yh=f.width/d;this.zh=f.height/e;this.Jm=this.bp=!1;this.lh(q.di.g().Li(q.NN));return this.Qc=!0},MS:function(a){var c=[0,this.zh,this.yh,this.zh,0,0,this.yh,
0],d=this.Dh*this.yh,e=this.Ch*this.zh;a=[a.x,a.y,0,d+a.x,a.y,0,a.x,e+a.y,0,d+a.x,e+a.y,0];q.Ne(q.th|q.gO);this.ad.zf();this.ad.EL();q.Vg(this);d=q.ea;d.vertexAttribPointer(q.af,2,d.FLOAT,!1,0,a);d.vertexAttribPointer(q.Rq,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},OS:function(a){var c=[0,this.zh,this.yh,this.zh,0,0,this.yh,0];a=[a.x,a.y,a.x+a.width,a.y,a.x,a.y+a.height,a.x+a.width,a.y+a.height];q.Ne(q.th|q.gO);this.ad.zf();this.ad.EL();q.Vg(this);var d=q.ea;d.vertexAttribPointer(q.af,
2,d.FLOAT,!1,0,a);d.vertexAttribPointer(q.Rq,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},kD:function(a){if(null==a)return q.log("cocos2d: cc.Texture2D. Can't create Texture. UIImage is nil"),!1;var c=a.Ys(),d=a.Vs(),e=q.Ze.g().Sr;if(c>e||d>e)return q.log("cocos2d: WARNING: Image ("+c+" x "+d+") is bigger than the supported "+e+" x "+e),!1;this.Qc=!0;return this.jP(a,c,d)},tf:function(a){a&&(this.xi=q.ea.createTexture(),this.Fc=a)},kT:function(){return this.Fc},Zg:function(){return this.Qc},
ke:function(){this.Qc=!0;var a=q.ea;q.Vg(this);a.pixelStorei(a.UNPACK_ALIGNMENT,4);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,this.Fc);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);this.lh(q.di.g().Li(q.NN));q.Vg(null);a=this.Fc.height;this.Dh=this.Da.Ia=this.Fc.width;this.Ch=this.Da.ya=
a;this.cg=q.Rj;this.zh=this.yh=1;this.Jm=this.bp=!1;this.ve()},Hl:function(a,c,d,e,f,g){3==arguments.length&&(c=arguments[1],d=arguments[2],e=q.size(0,0),f=q.Sj,g=q.Zu);var h=new q.cN,k;if(q.Zu===g)k=q.Sj===f?q.bZ:q.Oq===f?q.cZ:q.dZ;else if(q.Yu===g)k=q.Sj===f?q.ZY:q.Oq===f?q.$Y:q.aZ;else if(q.Xu===g)k=q.Sj===f?q.WY:q.Oq===f?q.XY:q.YY;else return q.log("Not supported alignment format!"),!1;return h.Hl(a,e.width,e.height,k,c,d)?this.kD(h):!1},lU:function(){return!1},AJ:function(a){var c=!1,d=new q.E0;
(c=d.M7(a))?(d.Eba(!0),this.$A=d.getName(),this.zh=this.yh=1,this.Dh=d.Ys(),this.Ch=d.Vs(),this.Da.Ia=this.Dh,this.Da.ya=this.Ch,this.bp=q.IN,this.cg=d.d5(),this.SK()):q.log("cocos2d: Couldn't load PVR image "+a);return c},pU:function(){return q.Ze.g().qs?!0:(q.log("cocos2d: WARNING: PVRTC images is not supported."),!1)},ZX:function(a){var c=q.ea;q.Mt(this.Dh==q.qo(this.Dh)&&this.Ch==q.qo(this.Ch)||a.vM==c.CLAMP_TO_EDGE&&a.wM==c.CLAMP_TO_EDGE,"WebGLRenderingContext.CLAMP_TO_EDGE should be used in NPOT textures");
q.Vg(this);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,a.WU);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,a.UU);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,a.vM);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,a.wM)},SK:function(){var a=q.ea;q.Vg(this);this.Jm?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},RK:function(){var a=q.ea;q.Vg(this);
this.Jm?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},generateMipmap:function(){q.Mt(this.Dh==q.qo(this.Dh)&&this.Ch==q.qo(this.Ch),"Mimpap texture only works in POT textures");q.Vg(this);q.ea.generateMipmap(q.ea.TEXTURE_2D);this.Jm=!0},AY:function(){switch(this.cg){case q.Rj:return"RGBA8888";case q.Nq:return"RGB888";case q.Mq:return"RGB565";case q.Nu:return"RGBA4444";
case q.Mu:return"RGB5A1";case q.Az:return"AI88";case q.Lq:return"A8";case q.Bz:return"I8";case q.QF:return"PVRTC4";case q.PF:return"PVRTC2";default:q.log("stringForFormat: "+this.cg+", cannot give useful result, it's a unrecognized pixel format")}return""},iI:function(a){a=a||this.cg;switch(a){case q.Rj:return 32;case q.Nq:return 32;case q.Mq:return 16;case q.Lq:return 8;case q.Nu:return 16;case q.Mu:return 16;case q.QF:return 4;case q.PF:return 2;case q.Bz:return 8;case q.Az:return 16;default:return q.log("bitsPerPixelForFormat: "+
this.cg+", cannot give useful result, it's a illegal pixel format"),-1}},jP:function(a,c,d){var e=a.getData(),f=null,f=null,g=a.D7(),h=q.size(a.Ys(),a.Vs()),k=q.OF,l=a.l4();g||(8<=l?k=q.Nq:(q.log("cocos2d: cc.Texture2D: Using RGB565 texture since image has no alpha"),k=q.Mq));var m=c*d;if(k==q.Mq)if(g)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>2<<5|(f[l]>>16&255)>>3<<0;else for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]&255)>>3<<
11|(f[l]&255)>>2<<5|(f[l]&255)>>3<<0;else if(k==q.Nu)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>4<<12|(f[l]>>8&255)>>4<<8|(f[l]>>16&255)>>4<<4|(f[l]>>24&255)>>4<<0;else if(k==q.Mu)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>3<<6|(f[l]>>16&255)>>3<<1|(f[l]>>24&255)>>7<<0;else if(k==q.Lq)for(e=new Uint8Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=f>>24&255;if(g&&k==q.Nq)for(f=a.getData(),e=new Uint8Array(c*d*3),l=0;l<m;++l)e[3*
l]=f>>0&255,e[3*l+1]=f>>8&255,e[3*l+2]=f>>16&255;this.qx(e,k,c,d,h);a.getData();this.bp=a.v8();return!0},jg:function(a,c){this.ge.push({eventCallback:a,Bi:c})},pW:function(a){for(var c=this.ge,d=0;d<c.length;d++)c[d].Bi==a&&c.splice(d,1)},ve:function(){for(var a=this.ge,c=0,d=a.length;c<d;c++){var e=a[c];e.eventCallback.call(e.Bi,this)}a.length=0}});
q.XN=q.Qa.extend({Da:null,Qc:!1,Fc:null,ge:null,ctor:function(){this.Da=q.Ym();this.Qc=!1;this.Fc=null;this.ge=[]},Zp:function(){return this.Da.Ia},Yp:function(){return this.Da.ya},c:function(){var a=q.hd();return q.size(this.Da.Ia/a,this.Da.ya/a)},hT:function(){return this.Da},tf:function(a){a&&(this.Fc=a)},kT:function(){return this.Fc},Zg:function(){return this.Qc},ke:function(){this.Qc=!0;var a=this.Fc;this.Da.Ia=a.width;this.Da.ya=a.height;this.ve()},description:function(){return"\x3ccc.Texture2D | width \x3d "+
this.Da.Ia+" height "+this.Da.ya+"\x3e"},qx:function(){return!1},kD:function(){return!1},Hl:function(){return!1},SD:function(){},getName:function(){return null},nT:function(){return 1},vX:function(){},oT:function(){return 1},wX:function(){},YC:function(){return null},lh:function(){},at:function(){return!1},gU:function(){return!1},gW:function(){},LU:function(a){return a},MS:function(){},OS:function(){},lU:function(){return!1},AJ:function(){return!1},pU:function(){return!0},ZX:function(){},SK:function(){},
RK:function(){},generateMipmap:function(){},AY:function(){return""},iI:function(){return-1},jg:function(a,c){this.ge.push({eventCallback:a,Bi:c})},pW:function(a){for(var c=this.ge,d=0;d<c.length;d++)c[d].Bi==a&&c.splice(d,1)},ve:function(){for(var a=this.ge,c=0,d=a.length;c<d;c++){var e=a[c];e.eventCallback.call(e.Bi,this)}a.length=0}});q.rc=q.La.gd?q.YN:q.XN;q.rc.Baa=function(a){q.qA=a};q.rc.sS=function(){return q.qA};q.rc.J4=function(){return q.qA};q.Ss=null;q.e9=function(a){if(q.hS(a)==q.XM)q.log("unsupported format:"+a);else{var c=new Image;c.src=a;c.addEventListener("load",function(){q.ga.g().OR(a,c);this.removeEventListener("load",arguments.callee,!1)},!1)}};q.hS=function(a){return 0<a.toLowerCase().indexOf(".jpg")||0<a.toLowerCase().indexOf(".jpeg")?q.$Z:0<a.toLowerCase().indexOf(".png")?q.a_:0<a.toLowerCase().indexOf(".webp")?q.c_:q.XM};
q.ga=q.Qa.extend({bb:null,rs:null,Aw:null,aH:!1,Sv:null,Tv:null,ctor:function(){if(q.Ss)throw"Attempted to allocate a second instance of a singleton.";this.Aw+=0|1E3*Math.random();this.bb={};this.rs={};q.Xd===q.Rk&&(this.Sv={},this.Tv={})},Uz:function(a,c){if(a&&"string"===typeof c)a[c]();else a&&"function"===typeof c&&c.call(a)},rP:function(){this.aH=!0;var a,c=this.Sv,d=this.bb;for(a in c){var e=c[a],f=new q.rc;f.tf(e);f.ke();d[a]=f}this.Sv={}},W1:function(){q.log("TextureCache:addPVRTCImage does not support on HTML5")},
R1:function(){q.log("TextureCache:addPVRTCImage does not support on HTML5")},description:function(){return"\x3cTextureCache | Number of textures \x3d "+this.bb.length+"\x3e"},py:function(a,c){var d=c?a:q.ae.g().Le(a);return this.bb.hasOwnProperty(d)?this.bb[d]:null},mT:function(a){for(var c in this.bb)if(this.bb[c]==a)return c;return null},aP:function(){this.Aw++;return"_textureKey_"+this.Aw},jJ:function(a){var c=this.mT(a);c||(c=a instanceof HTMLImageElement?a.src:this.aP());this.rs.hasOwnProperty(c)||
(this.rs[c]=q.Sp(a));return this.rs[c]},V1:function(a){if(!a)throw"cc.TextureCache.addPVRImage(): path should be non-null";a=q.ae.g().Le(a);if(null!=this.bb[a])return this.bb[a];var c=new q.rc;c.AJ(a)?this.bb[a]=c:q.log("cocos2d: Couldn't add PVRImage:"+a+" in TextureCache");return c},J$:function(){var a=this.bb,c;for(c in a)a[c]&&a[c].SD();this.bb={}},X$:function(a){if(a){var c=this.bb,d;for(d in c)c[d]==a&&(c[d].SD(),delete c[d])}},tW:function(a){null!=a&&(a=q.ae.g().Le(a),this.bb[a]&&delete this.bb[a])},
S1:function(a,c,d){if(!a)throw"cc.TextureCache.addImageAsync(): path should be non-null";a=q.ae.g().Le(a);var e=this.bb[a],f,g;if(e)e.Zg()?this.Uz(c,d):(g=this,f=e.Fc,f.addEventListener("load",function(){e.ke();g.Uz(c,d);this.removeEventListener("load",arguments.callee,!1)}));else{f=new Image;f.crossOrigin="Anonymous";g=this;f.addEventListener("load",function(){g.bb.hasOwnProperty(a)&&g.bb[a].ke();g.Uz(c,d);this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,
!1)});f.addEventListener("error",function(){q.Xb.g().Ql(a);g.bb.hasOwnProperty(a)&&delete g.bb[a];this.removeEventListener("error",arguments.callee,!1)});f.src=a;var h=new q.rc;h.tf(f);this.bb[a]=h}return this.bb[a]},pO:function(a){var c=new Image;c.crossOrigin="Anonymous";var d=this;c.addEventListener("load",function(){q.Xb.g().qg();d.Sv[a]=c;delete d.Tv[a];this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});c.addEventListener("error",function(){q.Xb.g().Ql(a);
delete d.Tv[a];this.removeEventListener("error",arguments.callee,!1)});c.src=a;this.Tv[a]=c},la:function(a,c){if(!a)throw"cc.Texture.addImage(): path should be non-null";if(q.Xd===q.Rk&&!this.aH)return this.pO(a);c||(a=q.ae.g().Le(a));var d=this.bb[a],e;if(d)d.Zg()?q.Xb.g().qg():(e=d.Fc,e.addEventListener("load",function(){d.ke();q.Xb.g().qg();this.removeEventListener("load",arguments.callee,!1)}));else{e=new Image;e.crossOrigin="Anonymous";var f=this;e.addEventListener("load",function(){q.Xb.g().qg();
f.bb.hasOwnProperty(a)&&f.bb[a].ke();this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});e.addEventListener("error",function(){q.Xb.g().Ql(a);f.bb.hasOwnProperty(a)&&delete f.bb[a];this.removeEventListener("error",arguments.callee,!1)});e.src=a;var g=new q.rc;g.tf(e);this.bb[a]=g}return this.bb[a]},T1:function(a,c,d){if(!a)throw"cc.Texture.addImageFromBase64(): data should be non-null";var e=this,f=new Image;f.src="data:image/"+d+";base64,"+
a;f.addEventListener("load",function(){q.Xb.g().qg();e.bb.hasOwnProperty(c)&&e.bb[c].ke();this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});f.addEventListener("error",function(){q.Xb.g().Ql(c);e.bb.hasOwnProperty(c)&&delete e.bb[c];this.removeEventListener("error",arguments.callee,!1)});a=new q.rc;a.tf(f);this.bb[c]=a;return this.bb[c]},OR:function(a,c){if(c instanceof q.rc)this.bb[a]=c;else{var d=new q.rc;d.tf(c);d.ke();this.bb[a]=d;q.log(a);
q.log(this.bb[a])}},b2:function(a,c){if(!a)throw"cc.Texture.addUIImage(): image should be non-null";if(c&&this.bb.hasOwnProperty(c)&&this.bb[c])return this.bb[c];var d=new q.rc;d.kD(a);null!=c&&null!=d?this.bb[c]=d:q.log("cocos2d: Couldn't add UIImage in TextureCache");return d},u3:function(){var a=0,c=0,d=this.bb,e;for(e in d){var f=d[e];a++;f.Fc instanceof HTMLImageElement?q.log("cocos2d: '"+e+"' id\x3d"+f.Fc.src+" "+f.Zp()+" x "+f.Yp()):q.log("cocos2d: '"+e+"' id\x3d HTMLCanvasElement "+f.Zp()+
" x "+f.Yp());c+=f.Zp()*f.Yp()*4}d=this.rs;for(e in d){var f=d[e],g;for(g in f){var h=f[g];a++;q.log("cocos2d: '"+e+"' id\x3d HTMLCanvasElement "+h.width+" x "+h.height);c+=h.width*h.height*4}}q.log("cocos2d: TextureCache dumpDebugInfo: "+a+" textures, HTMLCanvasElement for "+c/1024+" KB ("+(c/1048576).toFixed(2)+" MB)")}});q.ga.g=function(){q.Ss||(q.Ss=new q.ga);return q.Ss};q.ga.SV=function(){q.Ss=null};q.xo=q.Qa.extend({Md:null,Xi:null,Ra:!1,zd:0,Ha:null,df:null,Mg:null,Zr:null,Ng:null,ctor:function(){this.Xi=[]},d7:function(){return this.cb},t4:function(){return this.zd},ja:function(){return this.Ha},ma:function(a){this.Ha=a},kh:function(a){this.Ra=a},KJ:function(){return this.Ra},n6:function(){return this.df},xba:function(a){this.df=a},d1:function(a,c){if(a)for(var d=0;d<a.length;d++)this.pw(a[d],c+d)},pw:function(a,c){var d=this.df;d[c]?(d[c].Sa=a.Sa,d[c].eb=a.eb,d[c].ab=a.ab,d[c].Ua=a.Ua):d[c]=
new q.zc(a.ab,a.Sa,a.Ua,a.eb,this.Mg,c*q.zc.BYTES_PER_ELEMENT)},description:function(){return"\x3ccc.TextureAtlas | totalQuads \x3d"+this.cb+"\x3e"},nH:function(){if(0!==this.zd)for(var a=this.Md,c=this.zd,d=0;d<c;d++)q.RF?(a[6*d+0]=4*d+0,a[6*d+1]=4*d+0,a[6*d+2]=4*d+2,a[6*d+3]=4*d+1,a[6*d+4]=4*d+3,a[6*d+5]=4*d+3):(a[6*d+0]=4*d+0,a[6*d+1]=4*d+1,a[6*d+2]=4*d+2,a[6*d+3]=4*d+3,a[6*d+4]=4*d+2,a[6*d+5]=4*d+1)},NQ:function(){var a=q.ea;this.Xi[0]=a.createBuffer();this.Xi[1]=a.createBuffer();this.Zr=a.createBuffer();
this.OG()},OG:function(){var a=q.ea;a.bindBuffer(a.ARRAY_BUFFER,this.Zr);a.bufferData(a.ARRAY_BUFFER,this.Mg,a.DYNAMIC_DRAW);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Xi[1]);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.Md,a.STATIC_DRAW)},xj:function(a,c){var d=q.ga.g().la(a);if(d)return this.Ta(d,c);q.log("cocos2d: Could not open file: "+a);return!1},Ta:function(a,c){if(!a)throw"cc.TextureAtlas.initWithTexture():texture should be non-null";this.zd=c|=0;this.cb=0;this.Ha=a;this.df=[];this.Md=new Uint16Array(6*
c);var d=q.zc.BYTES_PER_ELEMENT;this.Mg=new ArrayBuffer(d*c);this.Ng=new Uint8Array(this.Mg);if((!this.df||!this.Md)&&0<c)return!1;for(var e=this.df,f=0;f<c;f++)e[f]=new q.zc(null,null,null,null,this.Mg,f*d);this.nH();this.NQ();return this.Ra=!0},wy:function(a,c){if(!a)throw"cc.TextureAtlas.updateQuad(): quad should be non-null";if(0>c||c>=this.zd)throw"cc.TextureAtlas.updateQuad(): Invalid index";this.cb=Math.max(c+1,this.cb);this.pw(a,c);this.Ra=!0},qD:function(a,c){if(c>=this.zd)throw"cc.TextureAtlas.insertQuad(): Invalid index";
this.cb++;if(this.cb>this.zd)q.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");else{var d=q.zc.BYTES_PER_ELEMENT,e=c*d,f=(this.cb-1-c)*d;this.df[this.cb-1]=new q.zc(null,null,null,null,this.Mg,(this.cb-1)*d);this.Ng.set(this.Ng.subarray(e,e+f),e+d);this.pw(a,c);this.Ra=!0}},S7:function(a,c,d){d=d||a.length;if(c+d>this.zd)throw"cc.TextureAtlas.insertQuad(): Invalid index + amount";var e=q.zc.BYTES_PER_ELEMENT;this.cb+=d;if(this.cb>this.zd)q.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");
else{var f=c*e,g=(this.cb-1-c-d)*e,h=this.cb-1-d,k;for(k=0;k<d;k++)this.df[h+k]=new q.zc(null,null,null,null,this.Mg,(this.cb-1)*e);this.Ng.set(this.Ng.subarray(f,f+g),f+e*d);for(k=0;k<d;k++)this.pw(a[k],c+k);this.Ra=!0}},R7:function(a,c){if(a!==c){if(0>c&&c>=this.cb)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid newIndex";if(0>a&&a>=this.cb)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid fromIndex";var d=q.zc.BYTES_PER_ELEMENT,e=this.Ng,f=e.subarray(a*d,d),g;a>c?(g=c*d,e.set(e.subarray(g,
g+(a-c)*d),g+d),e.set(f,g)):(g=(a+1)*d,e.set(e.subarray(g,g+(c-a)*d),g-d),e.set(f,c*d));this.Ra=!0}},rW:function(a){if(a>=this.cb)throw"cc.TextureAtlas.removeQuadAtIndex(): Invalid index";var c=q.zc.BYTES_PER_ELEMENT;this.cb--;this.df.length=this.cb;if(a!==this.cb){var d=(a+1)*c;this.Ng.set(this.Ng.subarray(d,d+(this.cb-a)*c),d-c)}this.Ra=!0},Q$:function(a,c){if(a+c>this.cb)throw"cc.TextureAtlas.removeQuadsAtIndex(): index + amount out of bounds";this.cb-=c;if(a!==this.cb){var d=q.zc.BYTES_PER_ELEMENT,
e=(a+c)*d;this.Ng.set(this.Ng.subarray(e,e+(this.cb-a)*d),a*d)}this.Ra=!0},lW:function(){this.cb=this.df.length=0},D1:function(a){this.Ra=a},yW:function(a){if(a==this.zd)return!0;var c=q.zc.BYTES_PER_ELEMENT,d=this.zd;this.cb=Math.min(this.cb,a);var e=this.zd=0|a,f=this.cb;if(null==this.df)for(this.df=[],this.Mg=new ArrayBuffer(c*e),this.Ng=new Uint8Array(this.Mg),a=0;a<e;a++)this.df=new q.zc(null,null,null,null,this.Mg,a*c);else{var g,h,k=this.df;if(e>d){g=[];h=new ArrayBuffer(c*e);for(a=0;a<f;a++)g[a]=
new q.zc(k[a].ab,k[a].Sa,k[a].Ua,k[a].eb,h,a*c);for(;a<e;a++)g[a]=new q.zc(null,null,null,null,h,a*c)}else for(f=Math.max(f,e),g=[],h=new ArrayBuffer(c*e),a=0;a<f;a++)g[a]=new q.zc(k[a].ab,k[a].Sa,k[a].Ua,k[a].eb,h,a*c);this.Ng=new Uint8Array(h);this.df=g;this.Mg=h}null==this.Md?this.Md=new Uint16Array(6*e):e>d?(c=new Uint16Array(6*e),c.set(this.Md,0),this.Md=c):this.Md=this.Md.subarray(0,6*e);this.nH();this.OG();return this.Ra=!0},J7:function(a){this.cb+=a},m9:function(a,c,d){if(2==arguments.length){d=
c;c=this.cb-a;if(d+(this.cb-a)>this.zd)throw"cc.TextureAtlas.moveQuadsFromIndex(): move is out of bounds";if(0===c)return}else{if(d+c>this.cb)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid newIndex";if(a>=this.cb)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid oldIndex";if(a==d)return}var e=q.zc.BYTES_PER_ELEMENT,f=a*e,g=c*e,h=this.Ng,k=h.subarray(f,f+g),l=d*e,m;d<a?(m=d*e,h.set(h.subarray(m,m+(a-d)*e),m+g)):(m=(a+c)*e,h.set(h.subarray(m,m+(d-a)*e),f));h.set(k,l);this.Ra=!0},T3:function(a,
c){for(var d=c*q.zc.BYTES_PER_ELEMENT,e=new Uint8Array(this.Mg,a*q.zc.BYTES_PER_ELEMENT,d),f=0;f<d;f++)e[f]=0},CI:function(a,c){c=c||0;if(0!==a&&this.Ha&&this.Ha.Zg()){var d=q.ea;q.Vg(this.Ha);q.Ne(q.Vu);d.bindBuffer(d.ARRAY_BUFFER,this.Zr);this.Ra&&d.bufferData(d.ARRAY_BUFFER,this.Mg,d.DYNAMIC_DRAW);d.vertexAttribPointer(q.af,3,d.FLOAT,!1,24,0);d.vertexAttribPointer(q.Qq,4,d.UNSIGNED_BYTE,!0,24,12);d.vertexAttribPointer(q.Rq,2,d.FLOAT,!1,24,16);this.Ra&&(this.Ra=!1);d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,
this.Xi[1]);q.RF?d.drawElements(d.TRIANGLE_STRIP,6*a,d.UNSIGNED_SHORT,6*c*this.Md.BYTES_PER_ELEMENT):d.drawElements(d.TRIANGLES,6*a,d.UNSIGNED_SHORT,6*c*this.Md.BYTES_PER_ELEMENT);q.Nh++}},PS:function(){this.CI(this.cb,0)},A1:function(){var a=q.ea;this.Xi&&(this.Xi[0]&&a.deleteBuffer(this.Xi[0]),this.Xi[1]&&a.deleteBuffer(this.Xi[1]));this.Zr&&a.deleteBuffer(this.Zr)}});q.xo.create=function(a,c){var d=new q.xo;return d&&d.xj(a,c)?d:null};
q.xo.Ka=function(a,c){var d=new q.xo;return d&&d.Ta(a,c)?d:null};q.Jq=q.G.extend({ctor:function(){q.G.prototype.ctor.call(this);this.gk=!0;this.w(0.5,0.5);this.O(q.fa.g().gc)}});q.Jq.create=function(){return new q.Jq};q.Cz=0;q.w0=1;
q.Xc=q.G.extend({il:!1,hl:!1,dp:!1,vl:0,zs:q.Cz,Mm:!1,lp:0,ctor:function(){q.G.prototype.ctor.call(this);this.dp=this.hl=this.il=!1;this.vl=0;this.zs=q.Cz;this.Mm=!1;this.lp=0},iP:function(){this.w(0.5,0.5);this.gk=!0;var a=q.fa.g();this.O(a.gc)},A:function(){q.G.prototype.A.call(this);this.iP();return!0},Ox:function(){this.zs===q.Cz?q.fW(this,this.vl):q.PD(this.vl,!0,this)},o8:function(){return this.Mm},Wx:function(a){if(!q.te)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.Mm!=
a&&(this.Mm=a,this.gf&&(a?q.fa.g().Nf().YH(this,this.lp):q.fa.g().Nf().HK(this)))},iba:function(a){if(!q.te)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.lp!==a&&(this.lp=a,this.Mm&&(this.Wx(!1),this.Wx(!0)))},H5:function(){return this.lp},H8:function(){return this.il},qc:function(a){this.il!==a&&(this.il=a,this.gf&&(a?this.Ox():q.eM(this)))},h7:function(){return this.vl},uq:function(a){this.vl!==a&&(this.vl=a,this.il&&(this.qc(!1),this.qc(!0)))},g7:function(){return this.zs},
sE:function(a){this.zs!==a&&(this.zs=a,this.il&&(this.qc(!1),this.qc(!0)))},W7:function(){return this.hl},maa:function(a){if(!q.Lk)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";if(a!==this.hl&&(this.hl=a,this.gf)){var c=q.fa.g();a?c.Tp().tg(this):c.Tp().tg(null)}},RW:function(a){this.hl&&q.Lk&&q.fa.g().Tp().RW(a)},F9:function(){q.log("onAccelerometer event should be handled.")},n8:function(){return this.dp},Zaa:function(a){if(!q.po)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";
if(a!==this.dp&&(this.dp=a,this.gf)){var c=q.fa.g();a?c.jx().qR(this):c.jx().nW(this)}},eh:function(){var a=q.fa.g();this.il&&this.Ox();q.G.prototype.eh.call(this);this.hl&&q.Lk&&a.Tp().tg(this);this.dp&&q.po&&a.jx().qR(this);this.Mm&&q.te&&a.Nf().YH(this,this.lp)},me:function(){var a=q.fa.g();this.il&&q.eM(this);this.hl&&q.Lk&&a.Tp().tg(null);this.dp&&q.po&&a.jx().nW(this);this.Mm&&q.te&&a.Nf().HK(this);q.G.prototype.me.call(this)},Ki:function(){this.hl&&q.Lk&&q.fa.g().Tp().tg(this);q.G.prototype.Ki.call(this)},
vb:function(){q.log("onTouchBegan event should be handled.");return!0},Ud:function(){},fh:function(){},Fk:function(){},nK:function(){},qK:function(){},pK:function(){},oK:function(){},eV:function(){return!1},fV:function(){return!1},Vh:function(){return!1},iV:function(){return!1},mV:function(){return!1},nV:function(){return!1},oV:function(){return!1},jV:function(){return!1},kV:function(){return!1},lV:function(){return!1},pV:function(){return!1},gV:function(){return!1},hV:function(){return!1},CD:function(){},
Pl:function(){}});q.Xc.create=function(){var a=new q.Xc;return a&&a.A()?a:null};
q.bi=q.Xc.extend({xb:!0,pc:0,Og:0,Mc:null,De:null,we:!1,Jd:!1,ctor:function(){q.Xc.prototype.ctor.call(this);this.xb=!0;this.Og=this.pc=255;this.Mc=q.Eb();this.De=q.Eb();this.Jd=this.we=!1},A:function(){return q.Xc.prototype.A.call(this)?(this.XK(!1),this.WK(!1),!0):!1},uj:function(){return this.Og},iT:function(){return this.pc},ua:function(a){this.pc=this.Og=a;a=255;var c=this.da;c&&c.xb&&c.we&&(a=c.pc);this.wd(a)},wd:function(a){this.pc=0|this.Og*a/255;if(this.we){a=this.D;for(var c=0;c<a.length;c++){var d=
a[c];d&&d.xb&&d.wd(this.pc)}}},DU:function(){return this.we},XK:function(a){this.we!==a&&((this.we=a)?this.vr():this.yA())},vr:function(){var a=255,c=this.da;c&&c.xb&&c.we&&(a=c.pc);this.wd(a)},yA:function(){this.pc=this.Og;for(var a=this.D,c=0;c<a.length;c++){var d=a[c];d&&d.xb&&d.wd(255)}},Fd:function(){var a=this.De;return q.n(a.t,a.p,a.o)},Us:function(){var a=this.Mc;return q.n(a.t,a.p,a.o)},q:function(a){var c=this.Mc,d=this.De;c.t=d.t=a.t;c.p=d.p=a.p;c.o=d.o=a.o;a=(a=this.da)&&a.xb&&a.Jd?a.Us():
q.Eb();this.vd(a)},vd:function(a){var c=this.Mc,d=this.De;c.t=0|d.t*a.t/255;c.p=0|d.p*a.p/255;c.o=0|d.o*a.o/255;if(this.Jd)for(a=this.D,d=0;d<a.length;d++){var e=a[d];e&&e.xb&&e.vd(c)}},CU:function(){return this.Jd},WK:function(a){this.Jd!==a&&((this.Jd=a)?this.ur():this.xA())},ur:function(){var a;a=(a=this.da)&&a.xb&&a.Jd?a.Us():q.Eb();this.vd(a)},xA:function(){var a=this.Mc,c=this.De;a.t=c.t;a.p=c.p;a.o=c.o;for(var a=this.D,c=q.Eb(),d=0;d<a.length;d++){var e=a[d];e&&e.xb&&e.vd(c)}},f:function(a,
c,d){q.G.prototype.f.call(this,a,c,d);this.Jd&&this.ur();this.we&&this.vr()},Rf:function(){},Il:function(){return!1}});
q.Y=q.bi.extend({qa:null,Ts:function(){return this.qa},O2:function(a,c){this.O(a,c)},N2:function(a){this.O(a,this.Da.ya)},K2:function(a){this.O(this.Da.Ia,a)},Rf:function(){},Il:function(){return!1},q:function(a){q.bi.prototype.q.call(this,a);this.Od()},ua:function(a){q.bi.prototype.ua.call(this,a);this.Od()},Lm:!1,rH:null,QB:null,iC:null,lA:null,SB:null,RB:null,ei:function(){q.bi.prototype.ctor.call(this);this.qa=new q.qm(q.Ye,q.Xe)},fi:function(){q.bi.prototype.ctor.call(this);this.qa=new q.qm(q.Ye,
q.Xe);this.SB=new ArrayBuffer(32);this.RB=new ArrayBuffer(64);var a=this.SB,c=this.RB,d=q.Mb.BYTES_PER_ELEMENT,e=q.re.BYTES_PER_ELEMENT;this.rH=[new q.Mb(0,0,a,0),new q.Mb(0,0,a,d),new q.Mb(0,0,a,2*d),new q.Mb(0,0,a,3*d)];this.QB=[new q.re(0,0,0,1,c,0),new q.re(0,0,0,1,c,e),new q.re(0,0,0,1,c,2*e),new q.re(0,0,0,1,c,3*e)];this.iC=q.ea.createBuffer();this.lA=q.ea.createBuffer()},Xl:function(a,c){this.qa=1==arguments.length?a:{src:a,Ub:c};q.Xd===q.zg&&(this.Lm=this.qa&&1==this.qa.src&&771==this.qa.Ub)},
A:function(a,c,d){if(!q.Xc.prototype.A.call(this))return!1;q.Xd!==q.zg&&this.lh(q.di.g().Li(q.MN));var e=q.fa.g().gc;a=a||new q.ec(0,0,0,255);c=c||e.width;d=d||e.height;e=this.Mc;e.t=a.t;e.p=a.p;e.o=a.o;e=this.De;e.t=a.t;e.p=a.p;e.o=a.o;this.Og=this.pc=a.Q;this.O(c,d);this.Od();return!0},O:null,sQ:function(a,c){var d=this.rH;2===arguments.length?(d[1].x=a,d[2].y=c,d[3].x=a,d[3].y=c,this.iG(),q.Xc.prototype.O.call(this,a,c)):(d[1].x=a.width,d[2].y=a.height,d[3].x=a.width,d[3].y=a.height,this.iG(),
q.Xc.prototype.O.call(this,a))},Od:null,cR:function(){},dR:function(){for(var a=this.Mc,c=this.pc,d=this.QB,e=0;4>e;e++)d[e].t=a.t/255,d[e].p=a.p/255,d[e].o=a.o/255,d[e].Q=c/255;this.hG()},vd:function(a){q.bi.prototype.vd.call(this,a);this.Od()},wd:function(a){q.bi.prototype.wd.call(this,a);this.Od()},iG:function(){var a=q.ea;a.bindBuffer(a.ARRAY_BUFFER,this.iC);a.bufferData(a.ARRAY_BUFFER,this.SB,a.STATIC_DRAW)},hG:function(){var a=q.ea;a.bindBuffer(a.ARRAY_BUFFER,this.lA);a.bufferData(a.ARRAY_BUFFER,
this.RB,a.STATIC_DRAW)},$a:null,Zj:function(a){a=a||q.ea;var c=this.c(),d=q.sa.g(),e=this.Mc;a.fillStyle="rgba("+(0|e.t)+","+(0|e.p)+","+(0|e.o)+","+this.pc/255+")";a.fillRect(0,0,c.width*d.wa,-c.height*d.Ea);q.Nh++},Jg:function(a){a=a||q.ea;q.kz(this);q.Ne(q.th|q.fO);a.bindBuffer(a.ARRAY_BUFFER,this.iC);a.vertexAttribPointer(q.af,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.lA);a.vertexAttribPointer(q.Qq,4,a.FLOAT,!1,0,0);q.Ak(this.qa.src,this.qa.Ub);a.drawArrays(a.TRIANGLE_STRIP,0,4)}});
q.La.gd?(q.Y.prototype.ctor=q.Y.prototype.fi,q.Y.prototype.O=q.Y.prototype.sQ,q.Y.prototype.Od=q.Y.prototype.dR,q.Y.prototype.$a=q.Y.prototype.Jg):(q.Y.prototype.ctor=q.Y.prototype.ei,q.Y.prototype.O=q.bi.prototype.O,q.Y.prototype.Od=q.Y.prototype.cR,q.Y.prototype.$a=q.Y.prototype.Zj);q.Y.create=function(a,c,d){var e=new q.Y;switch(arguments.length){case 0:e.A();break;case 1:e.A(a);break;case 3:e.A(a,c,d);break;default:e.A()}return e};
q.oF=q.Y.extend({sH:null,Yo:null,yp:null,Zo:null,xm:null,rv:!1,Gr:null,Fr:null,ctor:function(){q.Y.prototype.ctor.call(this);this.sH=new q.Kc(0,0,0);this.Yo=new q.Kc(0,0,0);this.xm=q.a(0,-1);this.Zo=this.yp=255;this.Gr=q.a(0,0);this.Fr=q.a(0,0)},O:function(a,c){2===arguments.length?q.Y.prototype.O.call(this,a,c):q.Y.prototype.O.call(this,a);this.Od()},L6:function(){return this.De},Kba:function(a){this.q(a)},Jaa:function(a){this.Yo=a;this.Od()},T4:function(){return this.Yo},Lba:function(a){this.yp=
a;this.Od()},M6:function(){return this.yp},Kaa:function(a){this.Zo=a;this.Od()},U4:function(){return this.Zo},cca:function(a){this.xm.x=a.x;this.xm.y=a.y;this.Od()},m7:function(){return q.a(this.xm.x,this.xm.y)},b8:function(){return this.rv},zaa:function(a){this.rv=a;this.Od()},A:function(a,c,d){a=a||q.wC(0,0,0,255);c=c||q.wC(0,0,0,255);d=d||q.a(0,-1);var e=this.sH,f=this.Yo;e.t=a.t;e.p=a.p;e.o=a.o;this.yp=a.Q;f.t=c.t;f.p=c.p;f.o=c.o;this.Zo=c.Q;this.xm=d;this.rv=!0;q.Y.prototype.A.call(this,q.i(a.t,
a.p,a.o,255));return!0},$a:function(a){if(q.Xd===q.Rk)q.Y.prototype.$a.call(this,a);else{a=a||q.ea;this.Lm&&(a.globalCompositeOperation="lighter");a.save();var c=q.sa.g(),d=this.pc/255,e=this.c().width*c.wa,c=this.c().height*c.Ea,f=a.createLinearGradient(this.Gr.x,this.Gr.y,this.Fr.x,this.Fr.y),g=this.Mc,h=this.Yo;f.addColorStop(0,"rgba("+Math.round(g.t)+","+Math.round(g.p)+","+Math.round(g.o)+","+(this.yp/255*d).toFixed(4)+")");f.addColorStop(1,"rgba("+Math.round(h.t)+","+Math.round(h.p)+","+Math.round(h.o)+
","+(this.Zo/255*d).toFixed(4)+")");a.fillStyle=f;a.fillRect(0,0,e,-c);0!=this.jQ&&a.rotate(this.B1);a.restore()}},Od:function(){var a=this.xm;if(q.Xd===q.zg){var c=0.5*this.c().width,d=0.5*this.c().height;this.Gr.x=c*-a.x+c;this.Gr.y=d*a.y-d;this.Fr.x=c*a.x+c;this.Fr.y=d*-a.y-d}else if(d=q.FD(a),0!==d){c=Math.sqrt(2);a=q.a(a.x/d,a.y/d);this.rv&&(a=q.Bj(a,1/(Math.abs(a.x)+Math.abs(a.y))*c));var e=this.pc/255,f=this.Mc,g=this.Yo,d=f.t/255,h=f.p/255,f=f.o/255,k=this.yp*e/255,l=g.t/255,m=g.p/255,g=g.o/
255,e=this.Zo*e/255,p=this.QB,s=p[0],u=p[1],w=p[2],p=p[3];s.t=l+(c+a.x+a.y)/(2*c)*(d-l);s.p=m+(c+a.x+a.y)/(2*c)*(h-m);s.o=g+(c+a.x+a.y)/(2*c)*(f-g);s.Q=e+(c+a.x+a.y)/(2*c)*(k-e);u.t=l+(c-a.x+a.y)/(2*c)*(d-l);u.p=m+(c-a.x+a.y)/(2*c)*(h-m);u.o=g+(c-a.x+a.y)/(2*c)*(f-g);u.Q=e+(c-a.x+a.y)/(2*c)*(k-e);w.t=l+(c+a.x-a.y)/(2*c)*(d-l);w.p=m+(c+a.x-a.y)/(2*c)*(h-m);w.o=g+(c+a.x-a.y)/(2*c)*(f-g);w.Q=e+(c+a.x-a.y)/(2*c)*(k-e);p.t=l+(c-a.x-a.y)/(2*c)*(d-l);p.p=m+(c-a.x-a.y)/(2*c)*(h-m);p.o=g+(c-a.x-a.y)/(2*c)*
(f-g);p.Q=e+(c-a.x-a.y)/(2*c)*(k-e);this.hG()}}});q.oF.create=function(a,c,d){var e=new q.oF;switch(arguments.length){case 2:if(e&&e.A(a,c))return e;break;case 3:if(e&&e.A(a,c,d))return e;break;case 0:if(e&&e.A())return e;break;default:throw"Arguments error ";}return null};
q.pF=q.Xc.extend({al:0,xh:null,O7:function(a){this.xh=[];this.xh.push(a);this.al=0;this.f(a);return!0},nU:function(a){this.xh=a;this.al=0;this.f(this.xh[this.al]);return!0},Ica:function(a){a>=this.xh.length?q.log("cc.LayerMultiplex.switchTo():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.xh[this.al],!0),this.al=a,this.f(this.xh[a]))},Jca:function(a){a>=this.xh.length?q.log("cc.LayerMultiplex.switchToAndReleaseMe():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.xh[this.al],
!0),this.xh[this.al]=null,this.al=a,this.f(this.xh[a]))},U1:function(a){a?this.xh.push(a):q.log("cc.Layer.addLayer(): layer should be non-null")}});q.pF.create=function(){0<arguments.length&&null==arguments[arguments.length-1]&&q.log("parameters should not be ending with null in Javascript");var a=new q.pF;return a.nU(arguments)?a:null};function ea(a,c,d,e,f){var g=10;e<2*g&&(g=e/2);f<2*g&&(g=f/2);a.beginPath();a.moveTo(c+g,d);a.arcTo(c+e,d,c+e,d+f,g);a.arcTo(c+e,d+f,c,d+f,g);a.arcTo(c,d+f,c,d,g);a.arcTo(c,d,c+e,d,g);a.closePath()}q.wz=-1;
q.Sp=function(a){function c(){var c=q.Sp,e=a.width,h=a.height;d[0].width=e;d[0].height=h;d[1].width=e;d[1].height=h;d[2].width=e;d[2].height=h;d[3].width=e;d[3].height=h;c.canvas.width=e;c.canvas.height=h;var k=c.canvas.getContext("2d");k.drawImage(a,0,0);c.IE.width=e;c.IE.height=h;for(var k=k.getImageData(0,0,e,h).data,l=0;4>l;l++){var m=d[l].getContext("2d");m.getImageData(0,0,e,h).data;c.aM.drawImage(a,0,0);for(var p=c.aM.getImageData(0,0,e,h),s=p.data,u=0;u<k.length;u+=4)s[u]=0===l?k[u]:0,s[u+
1]=1===l?k[u+1]:0,s[u+2]=2===l?k[u+2]:0,s[u+3]=k[u+3];m.putImageData(p,0,0)}a.onload=null}if(a.hasOwnProperty("channelCache"))return a.cS;var d=[document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas")];try{c()}catch(e){a.onload=c}return a.cS=d};q.Sp.canvas=document.createElement("canvas");q.Sp.IE=document.createElement("canvas");q.Sp.aM=q.Sp.IE.getContext("2d");
q.RI=function(a,c,d,e){d||(d=q.rect(0,0,a.width,a.height),d=q.Hq(d));c=c instanceof q.re?q.i(255*c.t,255*c.p,255*c.o,255*c.Q):q.i(c.t,c.p,c.o,255);e=e||document.createElement("canvas");var f=e.getContext("2d");e.width!=d.width&&(e.width=d.width);e.height!=d.height&&(e.height=d.height);f.clearRect(0,0,d.width,d.height);f.save();f.globalCompositeOperation="destination-atop";f.globalAlpha=c.Q/255;if(254>c.t||254>c.p||254>c.o)f.fillStyle="rgb("+c.t+","+c.p+","+c.o+")",f.fillRect(0,0,d.width,d.height);
f.drawImage(a,d.x,d.y,d.width,d.height,0,0,d.width,d.height);f.restore();return e};
q.NC=function(a,c,d,e,f){e||(e=q.rect(0,0,a.width,a.height));a=null==d.Q?q.Tw(d.t/255,d.p/255,d.o/255,1):d;d=Math.min(e.width,c[0].width);var g=Math.min(e.height,c[0].height),h;f?(h=f.getContext("2d"),h.clearRect(0,0,d,g)):(f=document.createElement("canvas"),f.width=d,f.height=g,h=f.getContext("2d"));h.save();h.globalCompositeOperation="lighter";var k=h.globalAlpha;0<a.t&&(h.globalAlpha=a.t*k,h.drawImage(c[0],e.x,e.y,d,g,0,0,d,g));0<a.p&&(h.globalAlpha=a.p*k,h.drawImage(c[1],e.x,e.y,d,g,0,0,d,g));
0<a.o&&(h.globalAlpha=a.o*k,h.drawImage(c[2],e.x,e.y,d,g,0,0,d,g));1>a.t+a.p+a.o&&(h.globalAlpha=k,h.drawImage(c[3],e.x,e.y,d,g,0,0,d,g));h.restore();return f};q.sI=function(a,c){if(!a)return null;if(!c)return a;var d=document.createElement("canvas");d.width=c.width;d.height=c.height;var e=d.getContext("2d");e.translate(d.width/2,d.height/2);e.rotate(-1.5707963267948966);e.drawImage(a,c.x,c.y,c.height,c.width,-c.height/2,-c.width/2,c.height,c.width);return d};
q.H0=function(a,c,d,e,f,g){this.scale=c;this.rotation=d;this.cm=e;this.visible=g};q.Cg=function(a){return 0|a};q.PN&&(q.Cg=function(a){return a});
q.v=q.Lb.extend({xb:!0,Va:null,qd:0,tb:null,Ra:!1,li:null,dj:null,ql:!1,kn:null,qa:null,Ha:null,Ba:null,rd:!1,wc:null,ui:null,Gc:!1,sc:!1,tc:!1,zb:!1,ge:null,UG:null,vp:null,Ao:null,js:!1,Rg:null,JB:null,IB:null,LB:!1,cM:function(){return this.zb},jg:function(a,c){this.ge.push({eventCallback:a,Bi:c})},ve:function(){for(var a=this.ge,c=0,d=a.length;c<d;c++){var e=a[c];e.eventCallback.call(e.Bi,this)}a.length=0},KJ:function(){return this.Ra},kh:function(a){this.Ra=a},G8:function(){return this.rd},h4:function(){return this.qd},
Ve:function(a){this.qd=a},$C:function(){return q.rect(this.Ba.x,this.Ba.y,this.Ba.width,this.Ba.height)},iJ:function(){return this.Va},tq:function(a){this.Va=a},K6:function(){return this.tb},Jba:function(a){this.tb=a},S5:function(){return this.wc},Ts:function(){return this.qa},Qe:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrame(): spriteFrame should be non-null";a.zb||(this.zb=!1,a.jg(this.OB,this));var c=this.Ta(a.ja(),a.td());this.nq(a);return c},OB:null,SQ:function(a){this.gb();this.jb(a.td(),
a.Cd,a.Bd);this.ve()},RQ:function(a){this.gb();this.jb(a.td(),a.Cd,a.Bd);a=this.Fd();255===a.t&&255===a.p&&255===a.o||this.ov();this.ve()},CJ:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";a=q.Eg.g().Qh(a);return this.Qe(a)},lda:function(a){this.Va=a.Va;this.tb=a},uE:function(a){this.Ba.x=a.x;this.Ba.y=a.y;this.Ba.width=a.width;this.Ba.height=a.height},oe:function(){if(this.Ee){for(var a,c,d=this.D,e,f=1;f<d.length;f++){c=d[f];a=f-1;for(e=d[a];0<=
a&&(c.pb<e.pb||c.pb==e.pb&&c.ag<e.ag);)d[a+1]=e,a-=1,e=d[a];d[a+1]=c}this.tb&&this.Gg(d,q.G.Wf.oe);this.Ee=!1}},kt:function(a,c){if(!a)throw"cc.Sprite.reorderChild(): child should be non-null";-1===this.D.indexOf(a)?q.log("cc.Sprite.reorderChild(): this child is not in children list"):c!==a.pb&&(this.tb&&!this.Ee&&(this.FB(),this.tb.IK(!0)),q.G.prototype.kt.call(this,a,c))},removeChild:function(a,c){this.tb&&this.tb.Tn(a);q.G.prototype.removeChild.call(this,a,c)},cc:function(a){var c=this.D,d=this.tb;
if(d&&null!=c)for(var e=0,f=c.length;e<f;e++)d.Tn(c[e]);q.G.prototype.cc.call(this,a);this.dj=!1},$K:function(a){this.li=a;this.kh(a);a=this.D;if(null!=a)for(var c=0;c<a.length;c++)a[c]instanceof q.v&&a[c].$K(!0)},sh:function(){this.tb&&!this.li&&(this.Ra=this.li=!0,this.dj&&this.$K(!0))},l:function(a,c){2<=arguments.length?q.G.prototype.l.call(this,a,arguments[1]):q.G.prototype.l.call(this,a);this.sh()},ay:function(a){q.G.prototype.ay.call(this,a);this.sh()},by:function(a){q.G.prototype.by.call(this,
a);this.sh()},cy:function(a){q.G.prototype.cy.call(this,a);this.sh()},dy:function(a){q.G.prototype.dy.call(this,a);this.sh()},ey:function(a){q.G.prototype.ey.call(this,a);this.sh()},rq:function(a){q.G.prototype.rq.call(this,a);this.sh()},Zn:function(a){q.G.prototype.Zn.call(this,a);this.sh()},Hk:function(a,c){q.G.prototype.Hk.call(this,a,c);this.sh()},FL:function(a){q.G.prototype.FL.call(this,a);this.sh()},w:function(a,c){2===arguments.length?q.G.prototype.w.call(this,a,c):q.G.prototype.w.call(this,
a);this.sh()},B:function(a){q.G.prototype.B.call(this,a);this.sh()},wj:function(a){this.tb?q.log("cc.Sprite.ignoreAnchorPointForPosition(): it is invalid in cc.Sprite when using SpriteBatchNode"):q.G.prototype.wj.call(this,a)},mX:function(a){this.sc!=a&&(this.sc=a,this.jb(this.Ba,this.rd,this.Da),this.gb())},nX:function(a){this.tc!=a&&(this.tc=a,this.jb(this.Ba,this.rd,this.Da),this.gb())},i8:function(){return this.sc},j8:function(){return this.tc},Rf:null,AQ:function(a){this.Gc!==a&&(this.Gc=a,this.Ft())},
zQ:function(a){this.Gc!==a&&(this.Gc=a,this.gb())},Il:function(){return this.Gc},wd:null,gR:function(a){q.Lb.prototype.wd.call(this,a);this.Ft()},GH:function(a){q.Lb.prototype.wd.call(this,a);this.Xm()},Faa:function(a,c){if(!a)throw"cc.Sprite.setDisplayFrameWithAnimationName(): animationName must be non-null";var d=q.nm.g().SI(a);d?(d=d.ze[c])?this.nq(d.Qh()):q.log("cc.Sprite.setDisplayFrameWithAnimationName(): Invalid frame index"):q.log("cc.Sprite.setDisplayFrameWithAnimationName(): Frame not found")},
k4:function(){return this.tb},FB:function(){if(!this.Ee){this.Ee=!0;for(var a=this.da;a&&a!=this.tb;)a.FB(),a=a.getParent()}},ja:function(){return this.Ha},Zb:null,lw:null,Gf:!1,br:!1,Lm:!1,bg:null,en:null,Wo:null,ctor:null,fi:function(a){q.Lb.prototype.ctor.call(this);this.ql=!1;this.wc=q.Nd();this.ui=q.Nd();this.qa={src:q.Ye,Ub:q.Xe};this.Ba=q.rect(0,0,0,0);this.Zb=new q.zc;this.lw=q.ea.createBuffer();this.zb=this.Gf=!0;this.ge=[];this.vp=!0;this.Ao=!1;if(a)if("string"===typeof a)a=q.Eg.g().Qh(a),
this.Qe(a);else if("object"===typeof a)if(a instanceof q.ce)this.Qe(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new q.rc;c.tf(a);c.ke();this.Ta(c)}else a instanceof q.rc&&this.Ta(a)},ei:function(a){q.Lb.prototype.ctor.call(this);this.ql=!1;this.wc=q.Nd();this.ui=q.Nd();this.qa={src:q.Ye,Ub:q.Xe};this.Ba=q.rect(0,0,0,0);this.UG=!1;this.zb=!0;this.ge=[];this.en={x:0,y:0,width:0,height:0,jm:!1};this.Wo=q.size(0,0);this.vp=!0;this.Ao=!1;if(a)if("string"===typeof a)a=
q.Eg.g().Qh(a),this.Qe(a);else if("object"===typeof a)if(a instanceof q.ce)this.Qe(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new q.rc;c.tf(a);c.ke();this.Ta(c)}else a instanceof q.rc&&this.Ta(a)},m6:function(){return this.Zb},Xl:null,oQ:function(a,c){var d=this.qa;1===arguments.length?(d.src=a.src,d.Ub=a.Ub):(d.src=a,d.Ub=c)},nQ:function(a,c){var d=this.qa;1===arguments.length?(d.src=a.src,d.Ub=a.Ub):(d.src=a,d.Ub=c);this.Lm=d&&(770==d.src&&1==d.Ub||1==d.src&&
1==d.Ub)},A:null,SA:function(){if(0<arguments.length)return this.xj(arguments[0],arguments[1]);q.Lb.prototype.A.call(this);this.Ra=this.li=!1;this.Gc=!0;this.qa.src=q.Ye;this.qa.Ub=q.Xe;this.ma(null);this.zb=!0;this.sc=this.tc=!1;this.w(0.5,0.5);this.wc.J=0;this.wc.U=0;this.dj=!1;var a={t:255,p:255,o:255,Q:255};this.Zb.Sa.W=a;this.Zb.eb.W=a;this.Zb.ab.W=a;this.Zb.Ua.W=a;this.Gf=!0;this.jb(q.yd(),!1,q.um());return!0},RA:function(){if(0<arguments.length)return this.xj(arguments[0],arguments[1]);q.Lb.prototype.A.call(this);
this.Ra=this.li=!1;this.Gc=!0;this.qa.src=q.Ye;this.qa.Ub=q.Xe;this.ma(null);this.zb=!0;this.sc=this.tc=!1;this.w(0.5,0.5);this.wc.J=0;this.wc.U=0;this.dj=!1;this.jb(q.yd(),!1,q.um());return!0},xj:function(a,c){if(!a)throw"cc.Sprite.initWithFile(): filename should be non-null";var d=q.ga.g().py(a);if(!d)d=q.ga.g().la(a);else if(!c){var e=d.c();c=q.rect(0,0,e.width,e.height)}return this.Ta(d,c)},Ta:null,Kr:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";
d=d||!1;if(!q.Lb.prototype.A.call(this))return!1;this.tb=null;this.Ra=this.li=!1;this.Gc=!0;this.qa.src=q.Ye;this.qa.Ub=q.Xe;this.sc=this.tc=!1;this.w(0.5,0.5);this.wc.J=0;this.wc.U=0;this.dj=!1;var e=new q.ec(255,255,255,255),f=this.Zb;f.Sa.W=e;f.eb.W=e;f.ab.W=e;f.Ua.W=e;this.zb=e=a.Zg();if(!e)return this.rd=d||!1,c&&(e=this.Ba,e.x=c.x,e.y=c.y,e.width=c.width,e.height=c.height),a.jg(this.Bw,this),!0;c||(e=a.c(),c=q.rect(0,0,e.width,e.height));this.ma(a);this.jb(c,d,c.Za);this.We(null);return this.Gf=
!0},Jr:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";d=d||!1;if(!q.Lb.prototype.A.call(this))return!1;this.tb=null;this.Ra=this.li=!1;this.Gc=!0;this.qa.src=q.Ye;this.qa.Ub=q.Xe;this.sc=this.tc=!1;this.w(0.5,0.5);this.wc.J=0;this.wc.U=0;this.dj=!1;var e=a.Zg();this.zb=e;if(!e)return this.rd=d||!1,c&&(this.Ba.x=c.x,this.Ba.y=c.y,this.Ba.width=c.width,this.Ba.height=c.height),a.jg(this.Bw,this),!0;c||(e=a.c(),c=q.rect(0,0,e.width,e.height));this.bg=
a;this.ma(a);this.jb(c,d,c.Za);this.We(null);return!0},Bw:null,XQ:function(a){if(!this.zb){this.zb=!0;var c=this.Ba;if(!c)c=a.c(),c=q.rect(0,0,c.width,c.height);else if(q.$r(c)){var d=a.c();c.width=d.width;c.height=d.height}this.ma(a);this.jb(c,this.rd,c.Za);this.We(null);this.Gf=!0;this.ve()}},WQ:function(a){if(!this.zb){this.zb=!0;var c=this.Ba;if(!c)c=a.c(),c=q.rect(0,0,c.width,c.height);else if(q.$r(c)){var d=a.c();c.width=d.width;c.height=d.height}this.bg=a;this.ma(a);this.jb(c,this.rd,c.Za);
this.We(null);this.ve()}},jb:null,mH:function(a,c,d){this.rd=c||!1;d=d||a.Za;this.O(d);this.uE(a);this.lH(a);c=this.ui;this.sc&&(c.J=-c.J);this.tc&&(c.U=-c.U);a=this.Ba;if(this.UL){d=q.sa.g().wa;var e=q.sa.g().Ea;a.width/=d;a.height/=e}this.wc.J=c.J+(this.Da.Ia-a.width)/2;this.wc.U=c.U+(this.Da.ya-a.height)/2;if(this.tb)this.Ra=!0;else{c=0+this.wc.J;d=0+this.wc.U;e=c+a.width;a=d+a.height;var f=this.Zb;f.Sa.C={x:c,y:d,z:0};f.eb.C={x:e,y:d,z:0};f.ab.C={x:c,y:a,z:0};f.Ua.C={x:e,y:a,z:0};this.Gf=!0}},
GB:function(a,c,d){this.rd=c||!1;d=d||a.Za;this.O(d);this.uE(a);c=this.en;var e=q.hd();c.x=0|a.x*e;c.y=0|a.y*e;var f=this.Wo,g=(this.tb&&this.Va?this.Va.ja():this.Ha)?this.ja().c():q.size(d.width,d.height);a.width>g.width||a.height>g.height?(c.width=0|g.width*e,c.height=0|g.height*e,f.width=0|d.width*e,f.height=0|d.height*e):(c.width=0|a.width*e,c.height=0|a.height*e,f.width=c.width,f.height=c.height);c.jm=!(0===c.width||0===c.height);f.jm=!(0===f.width||0===f.height);a=this.ui;this.sc&&(a.J=-a.J);
this.tc&&(a.U=-a.U);this.wc.J=a.J+(this.Da.Ia-this.Ba.width)/2;this.wc.U=a.U+(this.Da.ya-this.Ba.height)/2;this.tb&&(this.Ra=!0)},xg:null,oR:function(){if(this.Ra){var a=this.Zb,c=this.da;if(!this.za||c&&c!=this.tb&&c.ql)a.eb.C={x:0,y:0,z:0},a.ab.C={x:0,y:0,z:0},a.Ua.C={x:0,y:0,z:0},a.Sa.C={x:0,y:0,z:0},this.ql=!0;else{this.ql=!1;var d=this.kn=c&&c!=this.tb?q.lm(this.og(),c.kn):this.og(),e=this.Ba.Za,c=this.wc.J,f=this.wc.U,g=c+e.width,e=f+e.height,h=d.kb,k=d.lb,l=d.Q,m=d.o,p=d.d,d=-d.Na,s=this.Nw;
a.Sa.C={x:q.Cg(c*l-f*d+h),y:q.Cg(c*m+f*p+k),z:s};a.eb.C={x:q.Cg(g*l-f*d+h),y:q.Cg(g*m+f*p+k),z:s};a.ab.C={x:q.Cg(c*l-e*d+h),y:q.Cg(c*m+e*p+k),z:s};a.Ua.C={x:q.Cg(g*l-e*d+h),y:q.Cg(g*m+e*p+k),z:s}}this.Va.wy(a,this.qd);this.li=!1;this.kh(!1)}this.dj&&this.Gg(this.D,q.G.Wf.xg);q.Pj&&(a=[q.a(this.Zb.Sa.C.x,this.Zb.Sa.C.y),q.a(this.Zb.eb.C.x,this.Zb.eb.C.y),q.a(this.Zb.Ua.C.x,this.Zb.Ua.C.y),q.a(this.Zb.ab.C.x,this.Zb.ab.C.y)],q.He.je(a,4,!0))},nR:function(){if(this.Ra){var a=this.da;!this.za||a&&a!=
this.tb&&a.ql?this.ql=!0:(this.ql=!1,this.kn=a&&a!=this.tb?q.lm(this.og(),a.kn):this.og());this.Ra=this.li=!1}this.dj&&this.Gg(this.D,q.G.Wf.xg)},f:null,Tz:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.pb);null==d&&(d=a.Ed);if(this.tb){if(!(a instanceof q.v)){q.log("cc.Sprite.addChild(): cc.Sprite only supports cc.Sprites as children when using cc.SpriteBatchNode");return}a.ja().xi!==this.Va.ja().xi&&q.log("cc.Sprite.addChild(): cc.Sprite only supports a sprite using same texture as children when using cc.SpriteBatchNode");
this.tb.appendChild(a);this.Ee||this.FB()}q.G.prototype.f.call(this,a,c,d);this.dj=!0},Sz:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.pb);null==d&&(d=a.Ed);q.G.prototype.f.call(this,a,c,d);this.dj=!0},Ft:function(){var a=this.Mc,c=this.pc,a={t:a.t,p:a.p,o:a.o,Q:c};this.Gc&&(a.t*=c/255,a.p*=c/255,a.o*=c/255);c=this.Zb;c.Sa.W=a;c.eb.W=a;c.ab.W=a;c.Ua.W=a;this.tb&&(this.qd!=q.wz?this.Va.wy(c,this.qd):this.Ra=!0);this.Gf=!0},ua:null,EB:function(a){q.Lb.prototype.ua.call(this,
a);this.Ft()},es:function(a){q.Lb.prototype.ua.call(this,a);this.Xm()},q:null,CB:function(a){q.Lb.prototype.q.call(this,a);this.Ft()},cs:function(a){var c=this.Fd();if(c.t!==a.t||c.p!==a.p||c.o!==a.o)q.Lb.prototype.q.call(this,a),this.ov(),this.Xm()},vd:null,fR:function(a){q.Lb.prototype.vd.call(this,a);this.Ft()},bC:function(a){var c=this.Fd();q.Lb.prototype.vd.call(this,a);a=this.Mc;if(c.t!==a.t||c.p!==a.p||c.o!==a.o)this.ov(),this.Xm()},nq:null,uQ:function(a){this.gb();var c=a._offset;this.ui.J=
c.x;this.ui.U=c.y;c=a.ja();a.zb||(this.zb=!1,a.jg(function(a){this.zb=!0;var c=a.ja();c!=this.Ha&&this.ma(c);this.jb(a.td(),a.Cd,a.Bd);this.ve()},this));c!=this.Ha&&this.ma(c);this.rd=a.Cd;this.jb(a.td(),this.rd,a.Bd)},tQ:function(a){this.gb();var c=a._offset;this.ui.J=c.x;this.ui.U=c.y;this.rd=a.Cd;var c=a.ja(),d=a.zb;d||(this.zb=!1,a.jg(function(a){this.zb=!0;var c=a.ja();c!=this.Ha&&this.ma(c);this.jb(a.td(),a.Cd,a.Bd);this.ve()},this));c!=this.Ha&&this.ma(c);this.rd&&(this.bg=c);this.jb(a.td(),
this.rd,a.Bd);this.br=!1;d&&(a=this.Fd(),255===a.t&&255===a.p&&255===a.o||this.ov())},MJ:null,wP:function(a){return q.CK(a.td(),this.Ba)&&a.ja().getName()==this.Ha.getName()&&q.vK(a._offset,this.ui)},vP:function(a){return a.ja()!=this.Ha?!1:q.CK(a.td(),this.Ba)},KS:function(){return q.ce.Ka(this.Ha,q.ro(this.Ba),this.rd,q.CN(this.ui),q.vz(this.Da))},We:null,mQ:function(a){if(this.tb=a)this.kn={Q:1,o:0,Na:0,d:1,kb:0,lb:0},this.tq(this.tb.Va);else{this.qd=q.wz;this.tq(null);this.li=!1;this.kh(!1);a=
this.wc.J;var c=this.wc.U,d=a+this.Ba.width,e=c+this.Ba.height,f=this.Zb;f.Sa.C={x:a,y:c,z:0};f.eb.C={x:d,y:c,z:0};f.ab.C={x:a,y:e,z:0};f.Ua.C={x:d,y:e,z:0};this.Gf=!0}},lQ:function(a){(this.tb=a)?(this.kn={Q:1,o:0,Na:0,d:1,kb:0,lb:0},this.tq(this.tb.Va)):(this.qd=q.wz,this.tq(null),this.li=!1,this.kh(!1))},ma:null,gs:function(a){if(a&&!(a instanceof q.rc))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.tb&&this.tb.ja()!=a?q.log("cc.Sprite.setTexture(): Batched sprites should use the same texture as the batchnode"):
(a?this.lh(q.di.g().Li(q.uz)):this.lh(q.di.g().Li(q.MN)),this.tb||this.Ha==a||(this.Ha=a,this.ln()))},fs:function(a){if(a&&!(a instanceof q.rc))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.Ha!=a&&(a&&a.Fc instanceof HTMLImageElement&&(this.bg=a),this.Ha=a)},ln:function(){this.tb?q.log("cc.Sprite._updateBlendFunc(): _updateBlendFunc doesn't work when the sprite is rendered using a cc.CCSpriteBatchNode"):this.Ha&&this.Ha.at()?(this.qa.src=q.Ye,this.qa.Ub=q.Xe,
this.Rf(!0)):(this.qa.src=770,this.qa.Ub=771,this.Rf(!1))},ov:function(){var a,c=this.Ha,d=this.en;if(c&&d.jm&&this.bg&&(a=c.Fc)){var e=q.ga.g().jJ(this.bg.Fc);e&&(this.br=!0,a instanceof HTMLCanvasElement&&!this.rd&&!this.UG?this.Ao?q.RI(this.bg.Fc,this.Mc,d,c.Fc):q.NC(a,e,this.Mc,d,a):(a=this.Ao?q.RI(a,this.Mc,d):q.NC(a,e,this.Mc,d),c=new q.rc,c.tf(a),c.ke(),this.ma(c)))}},lH:function(a){a=q.ro(a);var c=this.tb?this.Va.ja():this.Ha;if(c){var d=c.Zp(),e=c.Yp(),f,g=this.Zb;this.rd?(q.nu?(c=(2*a.x+
1)/(2*d),d=c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/d,f=a.y/e,a=(a.y+a.width)/e),this.sc&&(e=f,f=a,a=e),this.tc&&(e=c,c=d,d=e),g.Sa.H.Xa=c,g.Sa.H.va=f,g.eb.H.Xa=c,g.eb.H.va=a,g.ab.H.Xa=d,g.ab.H.va=f,g.Ua.H.Xa=d,g.Ua.H.va=a):(q.nu?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+a.height)/e),this.sc&&(e=c,c=d,d=e),this.tc&&(e=f,f=a,a=e),g.Sa.H.Xa=c,g.Sa.H.va=a,g.eb.H.Xa=
d,g.eb.H.va=a,g.ab.H.Xa=c,g.ab.H.va=f,g.Ua.H.Xa=d,g.Ua.H.va=f);this.Gf=!0}},$a:null,Jg:function(){if(this.zb){var a=q.ea,c=this.Ha;c?c.Qc&&(this.ad.zf(),this.ad.nh(),q.Ak(this.qa.src,this.qa.Ub),q.z7(0,c),q.Ne(q.Vu),a.bindBuffer(a.ARRAY_BUFFER,this.lw),this.Gf&&(a.bufferData(a.ARRAY_BUFFER,this.Zb.rC,a.DYNAMIC_DRAW),this.Gf=!1),a.vertexAttribPointer(0,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(1,4,a.UNSIGNED_BYTE,!0,24,12),a.vertexAttribPointer(2,2,a.FLOAT,!1,24,16),a.drawArrays(a.TRIANGLE_STRIP,0,
4)):(this.ad.zf(),this.ad.nh(),q.Ak(this.qa.src,this.qa.Ub),q.Vg(null),q.Ne(q.th|q.fO),a.bindBuffer(a.ARRAY_BUFFER,this.lw),this.Gf&&(q.ea.bufferData(q.ea.ARRAY_BUFFER,this.Zb.rC,q.ea.STATIC_DRAW),this.Gf=!1),a.vertexAttribPointer(q.af,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(q.Qq,4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));q.Nh++;0!==q.Pj&&(1===q.Pj?(a=this.Zb,a=[q.a(a.ab.C.x,a.ab.C.y),q.a(a.Sa.C.x,a.Sa.C.y),q.a(a.eb.C.x,a.eb.C.y),q.a(a.Ua.C.x,a.Ua.C.y)],q.He.je(a,4,!0)):2===
q.Pj&&(a=this.$C().Za,c=this.wc,a=[q.a(c.x,c.y),q.a(c.x+a.width,c.y),q.a(c.x+a.width,c.y+a.height),q.a(c.x,c.y+a.height)],q.He.je(a,4,!0)))}},F1:function(a,c,d,e){this.JB=c;this.Rg=d;this.IB=e;this.js=a},E1:function(a){this.LB=a},Zj:function(a){if(this.zb){a=a||q.ea;this.Lm&&(a.globalCompositeOperation="lighter");a.kU=this.vp;var c=q.sa.g().wa,d=q.sa.g().Ea;a.globalAlpha=this.pc/255;var e=this.Ba,f=this.Da,g=this.wc,h=this.Wo,k=0|g.J,l=-g.U-e.height,m=this.en;!0==this.js&&(a.shadowBlur=this.JB?this.JB:
30,a.shadowColor=this.IB?this.IB:"black",a.shadowOffsetX=this.Rg?this.Rg.x:5,a.shadowOffsetY=this.Rg?this.Rg.y:5);if(this.sc||this.tc)a.save(),this.sc&&(k=-g.J-e.width,a.scale(-1,1)),this.tc&&(l=g.U,a.scale(1,-1));k*=c;l*=d;if(this.Ha&&m.jm)g=this.Ha.Fc,this.br?a.drawImage(g,0,0,m.width,m.height,k,l,h.width,h.height):a.drawImage(g,m.x,m.y,m.width,m.height,k,l,h.width,h.height);else if(0!==f.Ia){var p=this.Fd();a.fillStyle="rgba("+p.t+","+p.p+","+p.o+",1)";a.fillRect(k,l,f.Ia*c,f.ya*d)}!0==this.js&&
(a.shadowBlur=0,a.shadowOffsetX=0,a.shadowOffsetY=0);!0==this.LB&&(a.globalAlpha=1,a.beginPath(),a.strokeStyle="rgba("+p.t+","+p.p+","+p.o+",1)",a.lineWidth="1",ea(a,k,l,f.Ia*c,f.ya*d),a.stroke());1===q.Pj?(a.strokeStyle="rgba(0,255,0,1)",k/=c,l=-(l/d),k=[q.a(k,l),q.a(k+e.width,l),q.a(k+e.width,l-e.height),q.a(k,l-e.height)],q.He.je(k,4,!0)):2===q.Pj&&(a.strokeStyle="rgba(0,255,0,1)",p=this.Ba.Za,l=-l,k=[q.a(k,l),q.a(k+p.width,l),q.a(k+p.width,l-p.height),q.a(k,l-p.height)],q.He.je(k,4,!0));(this.sc||
this.tc)&&a.restore();q.Nh++}}});
q.La.gd?(b=q.v.prototype,b.OB=q.v.prototype.SQ,b.Rf=q.v.prototype.AQ,b.wd=q.v.prototype.gR,b.ctor=q.v.prototype.fi,b.Xl=q.v.prototype.oQ,b.A=q.v.prototype.SA,b.Ta=q.v.prototype.Kr,b.Bw=q.v.prototype.XQ,b.jb=q.v.prototype.mH,b.xg=q.v.prototype.oR,b.f=q.v.prototype.Tz,b.ua=q.v.prototype.EB,b.q=q.v.prototype.CB,b.vd=q.v.prototype.fR,b.nq=q.v.prototype.uQ,b.MJ=q.v.prototype.wP,b.We=q.v.prototype.mQ,b.ma=q.v.prototype.gs,b.$a=q.v.prototype.Jg):(b=q.v.prototype,b.OB=q.v.prototype.RQ,b.Rf=q.v.prototype.zQ,
b.wd=q.v.prototype.GH,b.ctor=q.v.prototype.ei,b.Xl=q.v.prototype.nQ,b.A=q.v.prototype.RA,b.Ta=q.v.prototype.Jr,b.Bw=q.v.prototype.WQ,b.jb=q.v.prototype.GB,b.xg=q.v.prototype.nR,b.f=q.v.prototype.Sz,b.ua=q.v.prototype.es,b.q=q.v.prototype.cs,b.vd=q.v.prototype.bC,b.nq=q.v.prototype.tQ,b.MJ=q.v.prototype.vP,b.We=q.v.prototype.lQ,b.ma=q.v.prototype.fs,b.$a=q.v.prototype.Zj);
q.v.Ka=function(a,c){var d=arguments.length,e=new q.v;switch(d){case 1:return e&&e.Ta(a)?e:null;case 2:return e&&e.Ta(a,c)?e:null;default:throw"Sprite.createWithTexture(): Argument must be non-nil ";}};q.v.create=function(a,c){var d=arguments.length,e=new q.v;if(0===d){if(e.A())return e}else if(e&&e.A(a,c))return e;return null};
q.v.rI=function(a){var c=null;if("string"==typeof a){if(c=q.Eg.g().Qh(a),!c)return q.log("Invalid spriteFrameName: "+a),null}else return q.log("Invalid argument. Expecting string."),null;return(a=new q.v)&&a.Qe(c)?a:null};q.v.qI=function(a){var c=new q.v;return c&&c.Qe(a)?c:null};Object.defineProperties(q.v.prototype,{rca:{get:function(){return this.vp},set:function(a){this.vp=a},enumerable:!0},h2:{get:function(){return this.Ao},set:function(a){this.Ao=a},enumerable:!0}});q.Lj=q.Qa.extend({ks:null,xe:0,Ds:null,ctor:function(){this.xe=0},clone:function(){var a=new q.Lj;a.Qe(this.ks.clone(),this.xe,this.Ds);return a},Xw:function(){return q.clone(this)},copy:function(){var a=new q.Lj;a.Qe(this.ks.clone(),this.xe,this.Ds);return a},Qe:function(a,c,d){this.ks=a;this.xe=c;this.Ds=d;return!0},Qh:function(){return this.ks},Sf:function(a){this.ks=a},L4:function(){return this.xe},Eaa:function(a){this.xe=a},k7:function(){return this.Ds},aca:function(a){this.Ds=a}});
q.Kj=q.Qa.extend({ze:null,jk:0,Um:!1,Ga:0,xe:0,hn:0,ctor:function(){this.ze=[]},e5:function(){return this.ze},eL:function(a){this.ze=a},oC:function(a){var c=new q.Lj;c.Qe(a,1,null);this.ze.push(c);this.hn++},Y1:function(a){a=q.ga.g().la(a);var c=q.yd();c.Za=a.c();a=q.ce.Ka(a,c);this.oC(a)},Z1:function(a,c){var d=q.ce.Ka(a,c);this.oC(d)},bt:function(a,c,d){q.Lt(a,q.Lj);this.xe=c;this.jk=d;this.eL([]);for(c=0;c<a.length;c++)d=a[c],this.ze.push(d),this.hn+=d.xe;return!0},clone:function(){var a=new q.Kj;
a.bt(this.pG(),this.xe,this.jk);a.$x(this.Um);return a},Xw:function(){var a=new q.Kj;a.bt(this.pG(),this.xe,this.jk);a.$x(this.Um);return a},pG:function(){for(var a=[],c=0;c<this.ze.length;c++)a.push(this.ze[c].clone());return a},copy:function(){return this.Xw(null)},u5:function(){return this.jk},aba:function(a){this.jk=a},$x:function(a){this.Um=a},u6:function(){return this.Um},Mf:function(){return this.hn*this.xe},K4:function(){return this.xe},Daa:function(a){this.xe=a},b7:function(){return this.hn},
DJ:function(a,c){q.Lt(a,q.ce);this.jk=1;this.xe=c||0;this.eL([]);if(a)for(var d=0;d<a.length;d++){var e=a[d],f=new q.Lj;f.Qe(e,1,null);this.ze.push(f);this.hn++}return!0},MK:function(){},EK:function(){}});q.Kj.create=function(a,c,d){var e=arguments.length,f=new q.Kj;0==e?f.DJ(null,0):2==e?f.DJ(a,c||0):3==e&&f.bt(a,c,d);return f};q.Kj.pI=function(a,c,d){var e=new q.Kj;e.bt(a,c,d);return e};q.nm=q.Qa.extend({SH:function(a,c){this.Am[c]=a},K$:function(a){a&&this.Am.hasOwnProperty(a)&&delete this.Am[a]},SI:function(a){return this.Am.hasOwnProperty(a)?this.Am[a]:null},oO:function(a,c){var d=a.animations;if(d){var e=1,f=a.properties;if(f)for(var e=null!=f.format?parseInt(f.format):e,f=f.spritesheets,g=q.Eg.g(),h=q.ae.g(),k,l=0;l<f.length;l++)k=h.QI(f[l],c),g.$H(k);switch(e){case 1:this.PP(d);break;case 2:this.QP(d);break;default:q.log("cc.AnimationCache. Invalid animation format")}}else q.log("cocos2d: cc.AnimationCache: No animations were found in provided dictionary.")},
P1:function(a){if(!a)throw"cc.AnimationCache.addAnimations(): Invalid texture file name";var c=q.ae.g(),d=c.Le(a);(c=c.bx(d))?this.oO(c,a):q.log("cc.AnimationCache.addAnimations(): File could not be found")},PP:function(a){var c=q.Eg.g(),d;for(d in a){var e=a[d],f=e.frames,e=parseFloat(e.delay)||0,g=null;if(f){for(var g=[],h=0;h<f.length;h++){var k=c.Qh(f[h]);if(k){var l=new q.Lj;l.Qe(k,1,null);g.push(l)}else q.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+f[h]+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}0===
g.length?q.log("cocos2d: cc.AnimationCache: None of the frames for animation '"+d+"' were found in the cc.SpriteFrameCache. Animation is not being added to the Animation Cache."):(g.length!=f.length&&q.log("cocos2d: cc.AnimationCache: An animation in your dictionary refers to a frame which is not in the cc.SpriteFrameCache. Some or all of the frames for the animation '"+d+"' may be missing."),g=q.Kj.pI(g,e,1),q.nm.g().SH(g,d))}else q.log("cocos2d: cc.AnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},
QP:function(a){var c=q.Eg.g(),d;for(d in a){var e=a[d],f=parseInt(e.loops),f=e.loop?q.tm:isNaN(f)?1:f,g=e.restoreOriginalFrame&&!0==e.restoreOriginalFrame?!0:!1,h=e.frames;if(h){for(var k=[],l=0;l<h.length;l++){var m=h[l],p=m.spriteframe,s=c.Qh(p);if(s){var p=parseFloat(m.delayUnits)||0,m=m.notification,u=new q.Lj;u.Qe(s,p,m);k.push(u)}else q.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+p+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}e=
parseFloat(e.delayPerUnit)||0;h=new q.Kj;h.bt(k,e,f);h.$x(g);q.nm.g().SH(h,d)}else q.log("cocos2d: CCAnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},A:function(){this.Am={};return!0},Am:null});q.nm.QV=function(){q.Wn&&(q.Wn.Am=null,q.Wn=null)};q.nm.g=function(){null===q.Wn&&(q.Wn=new q.nm,q.Wn.A());return q.Wn};q.Wn=null;q.ce=q.Qa.extend({_offset:null,Bd:null,ff:null,Cd:!1,Ba:null,$f:null,Df:null,Ha:null,Dp:"",zb:!1,Av:null,ctor:function(){this._offset=q.Nd();this.$f=q.Nd();this.Bd=q.Ym();this.Cd=!1;this.Df=q.Ym();this.Dp="";this.Ha=null;this.zb=!1},cM:function(){return this.zb},jg:function(a,c){null==this.Av&&(this.Av=[]);this.Av.push({eventCallback:a,Bi:c})},ve:function(){var a=this.Av;if(a){for(var c=0,d=a.length;c<d;c++){var e=a[c];e.eventCallback.call(e.Bi,this)}a.length=0}},zT:function(){var a=this.ff;return q.rect(a.x,
a.y,a.width,a.height)},Aba:function(a){this.ff||(this.ff=q.rect(0,0,0,0));this.ff.x=a.x;this.ff.y=a.y;this.ff.width=a.width;this.ff.height=a.height;this.Ba=q.Hq(a)},z8:function(){return this.Cd},Fba:function(a){this.Cd=a},td:function(){var a=this.Ba;return q.rect(a.x,a.y,a.width,a.height)},tL:function(a){this.Ba||(this.Ba=q.rect(0,0,0,0));this.Ba.x=a.x;this.Ba.y=a.y;this.Ba.width=a.width;this.Ba.height=a.height;this.ff=q.ro(this.Ba)},R5:function(){return this.$f},oba:function(a){this.$f.J=a.x;this.$f.U=
a.y;q.bv(this.$f,this._offset)},Y5:function(){return this.Df},rba:function(a){this.Df.Ia=a.width;this.Df.ya=a.height},uT:function(){return this.Bd},qba:function(a){this.Bd.Ia=a.width;this.Bd.ya=a.height},ja:function(){if(this.Ha)return this.Ha;if(""!==this.Dp){var a=q.ga.g().la(this.Dp);a&&(this.zb=a.Zg());return a}return null},ma:function(a){if(this.Ha!=a){var c=a.Zg();this.zb=c;this.Ha=a;c||a.jg(function(a){this.zb=!0;if(this.Cd&&q.Xd===q.zg){var c=a.Fc,c=q.sI(c,this.td()),f=new q.rc;f.tf(c);f.ke();
this.ma(f);c=this.td();this.tL(q.rect(0,0,c.width,c.height))}c=this.Ba;0===c.width&&0===c.height&&(a=a.c(),this.Ba.width=a.width,this.Ba.height=a.height,this.ff=q.ro(this.Ba),this.Df.Ia=this.ff.width,this.Df.ya=this.ff.height,this.Bd.Ia=a.width,this.Bd.ya=a.height);this.ve()},this)}},Q5:function(){return this._offset},nba:function(a){this._offset.J=a.x;this._offset.U=a.y},clone:function(){var a=new q.ce;a.tx(this.Dp,this.ff,this.Cd,this.$f,this.Df);a.ma(this.Ha);return a},Xw:function(){var a=new q.ce;
a.tx(this.Dp,this.ff,this.Cd,this.$f,this.Df);a.ma(this.Ha);return a},copy:function(){return this.Xw()},Ta:function(a,c,d,e,f){2===arguments.length&&(c=q.ro(c));e=e||q.a(0,0);f=f||c.Za;this.ma(a);this.ff=c;this.Ba=q.Hq(c);this.$f.J=e.x;this.$f.U=e.y;q.bv(e,this._offset);this.Df.Ia=f.width;this.Df.ya=f.height;q.Mz(f,this.Bd);this.Cd=d||!1;return!0},tx:function(a,c,d,e,f){2===arguments.length&&(c=q.ro(c));e=e||q.a(0,0);f=f||c.Za;this.Ha=null;this.Dp=a;this.ff=c;this.Ba=q.Hq(c);this.Cd=d||!1;this.$f.J=
e.x;this.$f.U=e.y;q.bv(e,this._offset);this.Df.Ia=f.width;this.Df.ya=f.height;q.Mz(f,this.Bd);return!0}});q.ce.create=function(a,c,d,e,f){var g=new q.ce;switch(arguments.length){case 2:g.tx(a,c);break;case 5:g.tx(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};q.ce.Ka=function(a,c,d,e,f){var g=new q.ce;switch(arguments.length){case 2:g.Ta(a,c);break;case 5:g.Ta(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};
q.ce.h1=function(a,c,d,e,f){var g=new q.ce;g.Ha=a;g.ff=c;g.Ba=q.Hq(c);g.$f.J=e.x;g.$f.U=e.y;q.bv(g.$f,g._offset);g.Df.Ia=f.width;g.Df.ya=f.height;q.Mz(g.Df,g.Bd);g.Cd=d;return g};q.Eg=q.Qa.extend({hf:null,rl:null,Qr:null,ctor:function(){this.hf={};this.rl={};this.Qr=[]},Vz:function(a,c){var d=a.metadata||a.meta,e=a.frames,f=0;d&&(f=d.format,f=1>=f.length?parseInt(f):f);if(0>f||3<f)q.log("format is not supported for cc.SpriteFrameCache.addSpriteFramesWithDictionary");else for(var g in e)if(d=e[g]){var h=this.hf[g];if(!h){if(0==f){var h=parseFloat(d.x),k=parseFloat(d.y),l=parseFloat(d.width),m=parseFloat(d.height),p=parseFloat(d.offsetX),s=parseFloat(d.offsetY),u=parseInt(d.originalWidth),
d=parseInt(d.originalHeight);u&&d||q.log("cocos2d: WARNING: originalWidth/Height not found on the cc.SpriteFrame. AnchorPoint won't work as expected. Regenrate the .plist");u=Math.abs(u);d=Math.abs(d);h=q.ce.Ka(c,q.rect(h,k,l,m),!1,q.a(p,s),q.size(u,d))}else if(1==f||2==f)h=q.HF(d.frame),k=!1,2==f&&(k=d.rotated),l=q.GF(d.offset),d=q.yz(d.sourceSize),h=q.ce.Ka(c,h,k,l,d);else if(3==f){var h=q.yz(d.spriteSize),k=q.GF(d.spriteOffset),l=q.yz(d.spriteSourceSize),m=q.HF(d.textureRect),p=d.textureRotated,
s=d.aliases,u=g.toString(),w;for(w in s)this.rl.hasOwnProperty(s[w])&&q.log("cocos2d: WARNING: an alias with name "+w+" already exists"),this.rl[s[w]]=u;d.hasOwnProperty("spriteSize")&&(m=q.rect(m.x,m.y,h.width,h.height));h=q.ce.Ka(c,m,p,k,l)}else var x=d.filename,k=d.frame,h=d.sourceSize,k=q.rect(k.x,k.y,k.rM,k.h),d=d.rotated,l=q.a(0,0),h=q.size(h.rM,h.h),h=q.ce.Ka(c,k,d,l,h);q.Xd===q.zg&&h.Cd&&h.ja().Zg()&&(d=h.ja().Fc,d=q.sI(d,h.zT()),k=new q.rc,k.tf(d),k.ke(),h.ma(k),d=h.Ba,h.tL(q.rect(0,0,d.width,
d.height)));this.hf[null!=x?x:g]=h}}},$H:function(a,c){if(!a)throw"cc.SpriteFrameCache.addSpriteFrames(): plist should be non-null";var d=q.ae.g(),e;"plist"==a.substr(a.lastIndexOf(".",a.length)+1,a.length)?(e=d.Le(a),e=d.bx(e)):e=JSON.parse(d.hJ(a));switch(arguments.length){case 1:if(!q.Iy(this.Qr,a)){var f="",g=e.metadata||e.meta;g&&(f=g.textureFileName||g.image);""!=f?f=d.QI(f,a):(f=a,f=f.substr(0,f.lastIndexOf(".",f.length)),f+=".png");(d=q.ga.g().la(f))?this.Vz(e,d):q.log("cocos2d: cc.SpriteFrameCache: Couldn't load texture")}break;
case 2:if(c instanceof q.rc)this.Vz(e,c);else{if(!c)throw"cc.SpriteFrameCache.addSpriteFrames(): texture name should not be null";(d=q.ga.g().la(c))?this.Vz(e,d):q.log("cocos2d: cc.SpriteFrameCache: couldn't load texture file. File not found "+c)}break;default:throw"Argument must be non-nil ";}},oC:function(a,c){this.hf[c]=a},S$:function(){this.hf=[];this.rl=[];this.Qr={}},R$:function(a){a&&(this.rl.hasOwnProperty(a)&&delete this.rl[a],this.hf.hasOwnProperty(a)&&delete this.hf[a],this.Qr={})},T$:function(a){var c=
q.ae.g(),d=c.Le(a),c=c.bx(d);this.$P(c);q.Iy(this.Qr,a)&&q.pe(a)},$P:function(a){a=a.frames;for(var c in a)this.hf.hasOwnProperty(c)&&delete this.hf[c]},U$:function(a){for(var c in this.hf){var d=this.hf[c];d&&d.ja()==a&&delete this.hf[c]}},Qh:function(a){var c;this.hf.hasOwnProperty(a)&&(c=this.hf[a]);if(!c){var d;this.rl.hasOwnProperty(a)&&(d=this.rl[a]);d&&(this.hf.hasOwnProperty(d.toString())&&(c=this.hf[d.toString()]),c||q.log("cocos2d: cc.SpriteFrameCahce: Frame "+a+" not found"))}return c}});
q.Tx=null;q.Eg.g=function(){q.Tx||(q.Tx=new q.Eg);return q.Tx};q.Eg.RV=function(){q.Tx=null};q.Fq=29;
q.Fb=q.G.extend({Va:null,qa:null,Kd:null,a2:function(a,c,d){if(!a)throw"cc.SpriteBatchNode.addQuadFromSprite(): child should be non-null";if(!(a instanceof q.v))return q.log("cc.SpriteBatchNode.addQuadFromSprite(): SpriteBatchNode only supports cc.Sprites as children"),null;a.Ve(c);var e=0,f=this.Kd;if(f&&0<f.length)for(var g=0;g<f.length;g++){var h=f[g];h&&h.qd>=c&&++e}this.Kd=q.om(f,a,e);q.G.prototype.f.call(this,a,c,d);this.IK(!1);return this},iJ:function(){return this.Va},tq:function(a){a!=this.Va&&
(this.Va=a)},O4:function(){return this.Kd},xj:function(a,c){var d=q.ga.g().py(a);d||(d=q.ga.g().la(a));return this.Ta(d,c)},Xm:function(){this.lG=!0},A:function(a,c){var d=q.ga.g().py(a);d||(d=q.ga.g().la(a));return this.Ta(d,c)},nx:function(){var a=this.Va.zd,c=Math.floor(4*(a+1)/3);q.log("cocos2d: CCSpriteBatchNode: resizing TextureAtlas capacity from "+a+" to "+c+".");this.Va.yW(c)||q.log("cocos2d: WARNING: Not enough memory to resize the atlas")},M$:function(a,c){this.removeChild(this.D[a],c)},
BK:function(a,c){var d=a.D;if(d&&0<d.length)for(var e=0;e<d.length;e++){var f=d[e];f&&0>f.pb&&(c=this.BK(f,c))}!a==this&&(a.Ve(c),c++);if(d&&0<d.length)for(e=0;e<d.length;e++)(f=d[e])&&0<=f.pb&&(c=this.BK(f,c));return c},iD:function(a){var c=a.D;return c&&0!=c.length?this.iD(c[c.length-1]):a.qd},TU:function(a){var c=a.D;return c&&0!=c.length?this.TU(c[c.length-1]):a.qd},KR:function(a,c){var d=a.getParent().D,e=q.Ky(d,a),f=a.getParent()==this,g=null;0<e&&e<q.cO&&(g=d[e-1]);if(f)return 0==e?0:this.iD(g)+
1;if(0==e)return d=a.getParent(),0>c?d.qd:d.qd+1;if(0>g.pb&&0>c||0<=g.pb&&0<=c)return this.iD(g)+1;d=a.getParent();return d.qd+1},IK:function(a){this.Ee=a},Xl:function(a,c){this.qa=1==arguments.length?a:{src:a,Ub:c}},Ts:function(){return this.qa},kt:function(a,c){if(!a)throw"cc.SpriteBatchNode.addChild():child should be non-null";-1===this.D.indexOf(a)?q.log("cc.SpriteBatchNode.addChild(): Child doesn't belong to Sprite"):c!==a.pb&&(q.G.prototype.kt.call(this,a,c),this.gb())},removeChild:function(a,
c){null!=a&&(-1===this.D.indexOf(a)?q.log("cc.SpriteBatchNode.addChild(): sprite batch node should contain the child"):(this.Tn(a),q.G.prototype.removeChild.call(this,a,c)))},FP:null,dn:null,M1:!1,bg:null,ctor:null,ei:function(a){q.G.prototype.ctor.call(this);a&&this.A(a,q.Fq)},fi:function(a){q.G.prototype.ctor.call(this);this.FP=new q.Rh;a&&this.A(a,q.Fq)},nM:null,kR:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";a instanceof q.v?(a.We(this),a.Ve(c),
a.kh(!0),a.xg()):q.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},lR:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";if(a instanceof q.v){for(var d=this.Va.zd;c>=d||d==this.Va.cb;)this.nx();a.We(this);a.Ve(c);a.kh(!0);a.xg()}else q.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},yw:function(a,c){var d=this.Kd,e=this.Va,f=e.df,g=d[a],
h=q.Kz(f[a]);d[c].Ve(a);d[a]=d[c];e.wy(f[c],a);d[c]=g;e.wy(h,c)},EJ:null,tP:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";a instanceof q.v?(a.We(this),a.Ve(c),a.kh(!0),a.xg(),this.D=q.om(this.D,a,c)):q.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},uP:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";if(a instanceof q.v){for(var d=this.Va;c>=d.zd||
d.zd===d.cb;)this.nx();a.We(this);a.Ve(c);d.qD(a.Zb,c);a.kh(!0);a.xg()}else q.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},FH:function(a,c){var d=0,e=a.D;e&&(d=e.length);var f=0;if(0===d)f=a.qd,a.Ve(c),a.qq(0),f!=c&&this.yw(f,c),c++;else{f=!0;0<=e[0].pb&&(f=a.qd,a.Ve(c),a.qq(0),f!=c&&this.yw(f,c),c++,f=!1);for(d=0;d<e.length;d++){var g=e[d];f&&0<=g.pb&&(f=a.qd,a.Ve(c),a.qq(0),f!=c&&this.yw(f,c),c++,f=!1);c=this.FH(g,c)}f&&(f=a.qd,a.Ve(c),
a.qq(0),f!=c&&this.yw(f,c),c++)}return c},ln:function(){this.Va.ja().at()||(this.qa.src=770,this.qa.Ub=771)},Ta:null,Jr:function(a){this.D=[];this.Kd=[];this.qa=new q.qm(q.Ye,q.Xe);this.dn=this.bg=a;return!0},Kr:function(a,c){this.D=[];this.Kd=[];this.qa=new q.qm(q.Ye,q.Xe);c=c||q.Fq;this.Va=new q.xo;this.Va.Ta(a,c);this.ln();this.lh(q.di.g().Li(q.uz));return!0},vU:function(a,c){a.We(this);a.Ve(c);a.kh(!0);var d=this.Va;d.cb>=d.zd&&this.nx();d.qD(a.Zb,c);this.Kd=q.om(this.Kd,a,c);var d=c+1,e=this.Kd;
if(e&&0<e.length)for(;d<e.length;d++)e[d].Ve(e[d].qd+1);if((e=a.D)&&0<e.length)for(d=0;d<e.length;d++)if(e[d]){var f=this.KR(e[d],e[d].pb);this.vU(e[d],f)}},appendChild:null,uO:function(a){this.Ee=!0;a.We(this);a.kh(!0);this.Kd.push(a);a.Ve(this.Kd.length-1);a=a.D;for(var c=0;c<a.length;c++)this.appendChild(a[c])},vO:function(a){this.Ee=!0;a.We(this);a.kh(!0);this.Kd.push(a);var c=this.Kd.length-1;a.Ve(c);var d=this.Va;d.cb==d.zd&&this.nx();d.qD(a.Zb,c);a=a.D;for(c=0;c<a.length;c++)this.appendChild(a[c])},
Tn:null,aQ:function(a){a.We(null);var c=this.Kd,d=q.Ky(c,a);if(-1!=d){q.Aq(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.Ve(f.qd-1)}}if((a=a.D)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.Tn(a[c])},bQ:function(a){this.Va.rW(a.qd);a.We(null);var c=this.Kd,d=q.Ky(c,a);if(-1!=d){q.Aq(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.Ve(f.qd-1)}}if((a=a.D)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.Tn(a[c])},ja:null,MA:function(){return this.dn},NA:function(){return this.Va.ja()},ma:null,fs:function(a){this.dn=
a;for(var c=this.D,d=0;d<c.length;d++)c[d].ma(a)},gs:function(a){this.Va.ma(a);this.ln()},Ca:null,mn:function(a){var c=a||q.ea;if(this.za){c.save();this.transform(a);var d=this.D;if(d)for(this.oe(),a=0;a<d.length;a++)d[a]&&d[a].Ca(c);c.restore()}},nn:function(a){a=a||q.ea;if(this.za){q.kq();var c=this.dl;c&&c.hq()&&(c.tC(),this.ty());this.oe();this.transform(a);this.$a(a);c&&c.hq()&&c.pC(this);q.jq();this.qq(0)}},f:null,Sz:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";
a instanceof q.v?(c=null==c?a.pb:c,d=null==d?a.Ed:d,q.G.prototype.f.call(this,a,c,d),this.appendChild(a),this.gb()):q.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},Tz:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";a instanceof q.v?a.ja()!=this.Va.ja()?q.log("cc.SpriteBatchNode.addChild(): cc.Sprite is not using the same texture"):(c=null==c?a.pb:c,d=null==d?a.Ed:d,q.G.prototype.f.call(this,a,c,d),this.appendChild(a),
this.gb()):q.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},cc:null,XP:function(a){var c=this.Kd;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].We(null);q.G.prototype.cc.call(this,a);this.Kd=[]},YP:function(a){var c=this.Kd;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].We(null);q.G.prototype.cc.call(this,a);this.Kd=[];this.Va.lW()},oe:null,PQ:function(){if(this.Ee){var a,c=0,d=this.D,e=d.length,f;for(a=1;a<e;a++){var g=d[a],
c=a-1;for(f=d[c];0<=c&&(g.pb<f.pb||g.pb==f.pb&&g.ag<f.ag);)d[c+1]=f,c-=1,f=d[c];d[c+1]=g}0<d.length&&this.Gg(d,q.G.Wf.oe);this.Ee=!1}},QQ:function(){if(this.Ee){var a=this.D,c,d=0,e=a.length,f;for(c=1;c<e;c++){var g=a[c],d=c-1;for(f=a[d];0<=d&&(g.pb<f.pb||g.pb==f.pb&&g.ag<f.ag);)a[d+1]=f,d-=1,f=a[d];a[d+1]=g}if(0<a.length)for(this.Gg(a,q.G.Wf.oe),c=d=0;c<a.length;c++)d=this.FH(a[c],d);this.Ee=!1}},$a:null,Jg:function(){0!==this.Va.cb&&(this.ad.zf(),this.ad.nh(),this.Gg(this.D,q.G.Wf.xg),q.Ak(this.qa.src,
this.qa.Ub),this.Va.PS())}});
q.La.gd?(b=q.Fb.prototype,b.ctor=q.Fb.prototype.fi,b.nM=q.Fb.prototype.lR,b.EJ=q.Fb.prototype.uP,b.Ta=q.Fb.prototype.Kr,b.appendChild=q.Fb.prototype.vO,b.Tn=q.Fb.prototype.bQ,b.ja=q.Fb.prototype.NA,b.ma=q.Fb.prototype.gs,b.Ca=q.Fb.prototype.nn,b.f=q.Fb.prototype.Tz,b.cc=q.Fb.prototype.YP,b.oe=q.Fb.prototype.QQ,b.$a=q.Fb.prototype.Jg):(b=q.Fb.prototype,b.ctor=q.Fb.prototype.ei,b.nM=q.Fb.prototype.kR,b.EJ=q.Fb.prototype.tP,b.Ta=q.Fb.prototype.Jr,b.appendChild=q.Fb.prototype.uO,b.Tn=q.Fb.prototype.aQ,
b.ja=q.Fb.prototype.MA,b.ma=q.Fb.prototype.fs,b.Ca=q.Fb.prototype.mn,b.cc=q.Fb.prototype.XP,b.f=q.Fb.prototype.Sz,b.oe=q.Fb.prototype.PQ,b.$a=q.G.prototype.$a);q.Fb.create=function(a,c){c=c||q.Fq;var d=new q.Fb;d.A(a,c);return d};q.Fb.Ka=function(a,c){c=c||q.Fq;var d=new q.Fb;d.Ta(a,c);return d};q.EZ={AZ:0,DZ:1,BZ:2,zZ:3,yZ:4};
q.Ze=q.Qa.extend({Sr:0,PG:0,qs:!1,ps:!1,uw:!1,vw:!1,ww:!1,CP:0,Zv:0,Sq:"",uk:null,ctor:function(){this.PG=this.Sr=0;this.ww=this.vw=this.uw=this.ps=this.qs=!1;this.Zv=this.CP=0;this.Sq="";this.uk={}},A5:function(){return this.Sr},z5:function(){return this.PG},B5:function(){return this.Zv},Eca:function(){return this.ps},Fca:function(){return this.qs},Cca:function(){return this.uw},Dca:function(){return this.vw},Gca:function(){return this.ww},Pp:function(a){return-1<this.Sq.indexOf(a)},A:function(){var a=
this.uk;a["cocos2d.x.version"]=q.Ut;a["cocos2d.x.compiled_with_profiler"]=!1;a["cocos2d.x.compiled_with_gl_state_cache"]=q.kF;return!0},r4:function(a,c){var d=this.uk;return d.hasOwnProperty(a)?d[a]:c},m4:function(a,c){null==c&&(c=!1);var d=this.uk;return d.hasOwnProperty(a)?d[a]:c},J5:function(a,c){null==c&&(c=0);var d=this.uk;return d.hasOwnProperty(a)?d[a]:c},L5:function(a){var c=this.uk;return c.hasOwnProperty(a)?c[a]:null},BX:function(a,c){this.uk[a]=c},SS:function(){0===q.kF&&(q.log(""),q.log("cocos2d: **** WARNING **** CC_ENABLE_PROFILERS is defined. Disable it when you finish profiling (from ccConfig.js)"),
q.log(""))},cT:function(){if(q.Xd!==q.zg){var a=q.ea,c=this.uk;c["gl.vendor"]=a.getParameter(a.VENDOR);c["gl.renderer"]=a.getParameter(a.RENDERER);c["gl.version"]=a.getParameter(a.VERSION);this.Sq="";for(var d=a.getSupportedExtensions(),e=0;e<d.length;e++)this.Sq+=d[e]+" ";this.Sr=a.getParameter(a.MAX_TEXTURE_SIZE);c["gl.max_texture_size"]=this.Sr;this.Zv=a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS);c["gl.max_texture_units"]=this.Zv;this.qs=this.Pp("GL_IMG_texture_compression_pvrtc");c["gl.supports_PVRTC"]=
this.qs;this.ps=!1;c["gl.supports_NPOT"]=this.ps;this.uw=this.Pp("GL_IMG_texture_format_BGRA888");c["gl.supports_BGRA8888"]=this.uw;this.vw=this.Pp("GL_EXT_discard_framebuffer");c["gl.supports_discard_framebuffer"]=this.vw;this.ww=this.Pp("vertex_array_object");c["gl.supports_vertex_array_object"]=this.ww;q.YE()}},c9:function(a){var c=q.ae.g(),d=c.Le(a),c=c.bx(d);if(null!=c)if(c=c.data)for(var e in c)this.uk[e]=c[e];else q.log("Expected 'data' dict, but not found. Config file: "+a)}});q.Ze.is=null;
q.Ze.g=function(){q.Ze.is||(q.Ze.is=new q.Ze,q.Ze.is.A());return q.Ze.is};q.Ze.r$=function(){q.Ze.is=null};q.Nh=0;q.PM=0;q.hF=1;q.QM=3;q.RM=q.hF;q.JZ=0;q.HZ=1;q.KZ=2;q.IZ=3;q.GZ=2;q.NZ=q.Qa.extend({kda:function(){}});q.lF=function(a){var c=new q.Rh;q.MU(q.vu,c);var d=new q.Rh;q.MU(q.uu,d);q.PU(a,c,d)};
q.fa=q.Qa.extend({t1:!1,Wr:!1,Sm:!1,kw:!1,Wm:!1,vh:0,bB:0,pl:0,zo:0,Fm:1,mr:!1,Zk:0,Dv:0,Sk:null,Uk:null,$k:null,gc:null,ik:null,gj:null,dw:null,Bh:null,mj:null,mB:null,Dd:null,ze:0,YB:0,BB:0,e1:null,Qg:null,uh:null,mf:null,XA:null,ev:null,Ur:null,s1:!1,ctor:function(){this.ik=Date.now();if(!q.rD){var a=this;window.addEventListener("focus",function(){a.ik=Date.now()},!1)}},gQ:function(){this.ik=Date.now()},A:function(){this.bB=this.vh=1/q.tS;this.mj=[];this.pl=q.RM;this.mB=null;this.Dv=this.zo=0;
this.mr=!1;this.YB=this.ze=0;this.ik=Date.now();this.kw=this.Sm=!1;this.gc=q.Ym();this.Bh=null;this.Fm=1;this.Qg=new q.QN;this.uh=new q.yM;this.Qg.PK(this.uh,q.yu,!1);q.ta&&(this.mf=new q.ta,this.mf.A());q.po&&(this.XA=q.po.g());q.Lk&&(this.ev=new q.Lk);q.te&&(this.Ur=new q.te,this.Ur.A());return!0},PR:function(){var a=Date.now();this.Wr?(this.Zk=0,this.Wr=!1):this.Zk=(a-this.ik)/1E3;0<q.Ot&&0.2<this.Zk&&(this.Zk=1/60);this.ik=a},kS:function(a){var c=new q.Rh;q.lF(c);var d=new q.Rh;q.U8(d,c);var c=
c.Sh[14]/c.Sh[15],e=this.Bh.Up();a=new q.lq(2*a.x/e.width-1,1-2*a.y/e.height,c);c=new q.lq;q.RU(c,a,d);return q.a(c.x,c.y)},mS:function(a){var c=new q.Rh;q.lF(c);var d=new q.lq;a=new q.lq(a.x,a.y,0);q.RU(d,a,c);c=this.Bh.Up();return q.a(c.width*(0.5*d.x+0.5),c.height*(0.5*-d.y+0.5))},QS:function(){this.PR();this.Sm||this.Qg.update(this.Zk);this.nG();this.gj&&this.AX();this.$z&&this.$z();this.Dd&&this.Dd.Ca();this.dw&&this.dw.Ca();this.mr&&this.OQ();this.Wz&&this.Wz();this.YB++;this.mr&&this.CO()},
KO:function(){var a=this.Bh.of;q.ea.clearRect(-a.x,a.y,a.width,-a.height)},RO:function(){var a=q.ea;a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},$z:null,Wz:null,xO:function(){q.kq()},tO:function(){q.jq()},end:function(){this.kw=!0},D4:function(){return this.Fm},I5:function(){return this.dw},u7:function(){return this.gc},UT:function(){return q.size(this.gc.width*this.Fm,this.gc.height*this.Fm)},Xs:function(){return this.Bh?this.Bh.Xs():this.gc},nJ:function(){return this.Bh?this.Bh.nJ():q.DN},Zs:function(){return this.gc.height/
1.1566},pause:function(){this.Sm||(this.bB=this.vh,this.mt(0.25),this.Sm=!0)},l$:function(){if(!this.Dd)throw"running scene should not null";this.mj.pop();var a=this.mj.length;0==a?this.end():(this.Wm=!0,this.gj=this.mj[a-1])},LD:function(){q.hz.LD()},PV:function(){this.Of().Et();this.mf&&this.mf.kW();this.Dd&&(this.Dd.Uh(),this.Dd.me(),this.Dd.kg());this.gj=this.Dd=null;this.mj=[];this.XL();q.hz.LD();q.nm.QV();q.Eg.RV();q.ga.SV();q.YE()},TV:function(a){if(!a)throw"the scene should not null";this.Wm=
!1;this.mj.push(a);this.gj=a},JK:function(a){if(!this.Dd)throw"Use runWithScene: instead to start the director";if(!a)throw"the scene should not be null";var c=this.mj.length;0===c?(this.Wm=!0,this.mj[c]=a):(this.Wm=!0,this.mj[c-1]=a);this.gj=a},LK:function(){this.Sm&&(this.mt(this.bB),(this.ik=Date.now())||q.log("cocos2d: Director: Error in gettimeofday"),this.Sm=!1,this.Zk=0)},HW:function(a){if(!a)throw"This command can only be used to start the CCDirector. There is already a scene present.";if(this.Dd)throw"_runningScene should be null";
this.TV(a);this.VL()},UW:function(a){a?q.Ak(q.Ye,q.Xe):q.Ak(q.ea.ONE,q.ea.ZERO)},dX:function(a){a!=this.Fm&&(this.Fm=a,this.So())},hX:function(a){if(q.Xd!==q.zg){var c=q.ea;a?(c.clearDepth(1),c.enable(c.DEPTH_TEST),c.depthFunc(c.LEQUAL)):c.disable(c.DEPTH_TEST)}},Caa:function(){},fL:function(){this.UW(!0);this.hX(!1);this.Zx(this.pl);q.ea.clearColor(0,0,0,1)},jba:function(a){this.Wr=a},AX:function(){var a=!1,c=!1;q.WF&&(a=this.Dd?this.Dd instanceof q.WF:!1,c=this.gj?this.gj instanceof q.WF:!1);if(!c){if(c=
this.Dd)c.Uh(),c.me();this.Wm&&c&&c.kg()}this.Dd=this.gj;this.gj=null;a||null==this.Dd||(this.Dd.eh(),this.Dd.Ki())},kba:function(a){this.dw=a},Cc:function(){return this.mB},tg:function(a){this.mB=a},GX:function(a){this.gc.vE(q.canvas.width);this.gc.jE(q.canvas.height);this.Bh=a||q.sa.g();q.Xd!==q.zg&&(a=q.Ze.g(),a.cT(),a.SS(),this.So(),this.fL(),this.mf&&this.mf.iX(!0))},HL:function(){if(this.Bh){var a=this.gc;this.Bh.fY(0,0,a.width,a.height)}},Zx:function(a){var c=this.gc;if(q.Xd===q.Rk){this.HL();
switch(a){case q.PM:q.En(q.vu);q.wD();var d=new q.Rh;q.QU(d,0,c.width,0,c.height,-1024,1024);q.wx(d);q.En(q.uu);q.wD();break;case q.hF:var e=this.Zs(),f=new q.Rh,d=new q.Rh;q.En(q.vu);q.wD();q.V8(f,60,c.width/c.height,0.1,2*e);q.wx(f);q.En(q.uu);q.wD();e=q.ht(null,c.width/2,c.height/2,e);c=q.ht(null,c.width/2,c.height/2,0);f=q.ht(null,0,1,0);q.OU(d,e,c,f);q.wx(d);break;case q.QM:break;default:q.log("cocos2d: Director: unrecognized projection")}this.pl=a;q.wba()}else this.pl=a},OQ:function(){this.ze++;
this.zo+=this.Zk;this.Sk&&this.Uk&&this.$k?(this.zo>q.OM&&(this.Uk.na(this.BB.toFixed(3)),this.Dv=this.ze/this.zo,this.zo=this.ze=0,this.Sk.na(this.Dv.toFixed(1)),this.$k.na((0|q.Nh).toString())),this.Sk.Ca(),this.Uk.Ca(),this.$k.Ca()):this.So();q.Nh=0},C8:function(){return this.Wm},x6:function(){return this.Dd},g4:function(){return this.vh},e8:function(){return this.mr},Gaa:function(a){this.mr=a},D6:function(){return this.BB},W5:function(){return this.Bh},p8:function(){return this.Wr},t8:function(){return this.Sm},
c7:function(){return this.YB},l6:function(){return this.pl},m$:function(){this.DV(1)},DV:function(a){if(!this.Dd)throw"A running Scene is needed";var c=this.mj,d=c.length;if(0==d)this.end();else if(!(a>d)){for(;d>a;){var e=c.pop();e.gf&&(e.Uh(),e.me());e.kg();d--}this.gj=c[c.length-1];this.Wm=!1}},Of:function(){return this.Qg},TX:function(a){this.Qg!=a&&(this.Qg=a)},lg:function(){return this.uh},SW:function(a){this.uh!=a&&(this.uh=a)},e7:function(){return this.mf},Zba:function(a){this.mf!=a&&(this.mf=
a)},jx:function(){if(!q.po)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";return this.XA},Yaa:function(a){if(!q.po)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";this.XA=a},Tp:function(){if(!q.Lk)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";return this.ev},laa:function(a){if(!q.Lk)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";this.ev!=
a&&(this.ev=a)},N4:function(){return this.Zk},Nf:function(){if(!q.te)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";return this.Ur},hba:function(a){if(!q.te)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.Ur!=a&&(this.Ur=a)},So:null,UO:function(){if(!q.gz)return this.qG();if(null!=q.fa.wG&&!1!=q.fa.wG){var a=new q.rc;a.tf(q.fa.DA);a.ke();var c=q.sa.g().Up().height/320;0===c&&(c=this.gc.height/320);var d=new q.gz;
d.DB(!0);d.Hl("00.0",a,12,32,".");d.Hk(c);this.Sk=d;d=new q.gz;d.DB(!0);d.Hl("0.000",a,12,32,".");d.Hk(c);this.Uk=d;d=new q.gz;d.DB(!0);d.Hl("000",a,12,32,".");d.Hk(c);this.$k=d;a=q.iF;this.$k.l(q.gh(q.a(0,34*c),a));this.Uk.l(q.gh(q.a(0,17*c),a));this.Sk.l(a)}},qG:function(){var a=0,a=this.gc.width>this.gc.height?0|this.gc.height/320*24:0|this.gc.width/320*24;this.Sk=q.S.create("000.0","Arial",a);this.Uk=q.S.create("0.000","Arial",a);this.$k=q.S.create("0000","Arial",a);var a=q.iF,c=this.$k.c();this.$k.l(q.gh(q.a(c.width/
2,5*c.height/2),a));c=this.Uk.c();this.Uk.l(q.gh(q.a(c.width/2,3*c.height/2),a));c=this.Sk.c();this.Sk.l(q.gh(q.a(c.width/2,c.height/2),a))},CO:function(){this.BB=(Date.now()-this.ik)/1E3}});q.La.gd?(q.fa.prototype.nG=q.fa.prototype.RO,q.fa.prototype.$z=q.fa.prototype.xO,q.fa.prototype.Wz=q.fa.prototype.tO,q.fa.prototype.So=q.fa.prototype.UO):(q.fa.prototype.nG=q.fa.prototype.KO,q.fa.prototype.So=q.fa.prototype.qG);
q.SM=q.fa.extend({invalid:!1,VL:function(){this.Wr=!0;this.invalid=!1;q.Mk.g().mt(this.vh)},dK:function(){this.kw?(this.kw=!1,this.PV()):this.invalid||this.QS()},XL:function(){this.invalid=!0},mt:function(a){this.vh=a;this.invalid||(this.XL(),this.VL())}});q.Sx=null;q.JI=!0;q.fa.g=function(){q.JI&&(q.JI=!1,q.Sx=new q.SM,q.Sx.A(),q.Sx.GX(q.sa.g()));return q.Sx};Object.defineProperties(q,{zda:{get:function(){return q.JS.gc},enumerable:!0,configurable:!0}});q.V3=!0;q.tS=60;q.fa.DA=new Image;
q.fa.DA.addEventListener("load",function(){q.fa.wG=!0;this.removeEventListener("load",arguments.callee,!1)});q.fa.DA.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAAgCAYAAAD9qabkAAAKQ2lDQ1BJQ0MgcHJvZmlsZQAAeNqdU3dYk/cWPt/3ZQ9WQtjwsZdsgQAiI6wIyBBZohCSAGGEEBJAxYWIClYUFRGcSFXEgtUKSJ2I4qAouGdBiohai1VcOO4f3Ke1fXrv7e371/u855zn/M55zw+AERImkeaiagA5UoU8Otgfj09IxMm9gAIVSOAEIBDmy8JnBcUAAPADeXh+dLA//AGvbwACAHDVLiQSx+H/g7pQJlcAIJEA4CIS5wsBkFIAyC5UyBQAyBgAsFOzZAoAlAAAbHl8QiIAqg0A7PRJPgUA2KmT3BcA2KIcqQgAjQEAmShHJAJAuwBgVYFSLALAwgCgrEAiLgTArgGAWbYyRwKAvQUAdo5YkA9AYACAmUIszAAgOAIAQx4TzQMgTAOgMNK/4KlfcIW4SAEAwMuVzZdL0jMUuJXQGnfy8ODiIeLCbLFCYRcpEGYJ5CKcl5sjE0jnA0zODAAAGvnRwf44P5Dn5uTh5mbnbO/0xaL+a/BvIj4h8d/+vIwCBAAQTs/v2l/l5dYDcMcBsHW/a6lbANpWAGjf+V0z2wmgWgrQevmLeTj8QB6eoVDIPB0cCgsL7SViob0w44s+/zPhb+CLfvb8QB7+23rwAHGaQJmtwKOD/XFhbnauUo7nywRCMW735yP+x4V//Y4p0eI0sVwsFYrxWIm4UCJNx3m5UpFEIcmV4hLpfzLxH5b9CZN3DQCshk/ATrYHtctswH7uAQKLDljSdgBAfvMtjBoLkQAQZzQyefcAAJO/+Y9AKwEAzZek4wAAvOgYXKiUF0zGCAAARKCBKrBBBwzBFKzADpzBHbzAFwJhBkRADCTAPBBCBuSAHAqhGJZBGVTAOtgEtbADGqARmuEQtMExOA3n4BJcgetwFwZgGJ7CGLyGCQRByAgTYSE6iBFijtgizggXmY4EImFINJKApCDpiBRRIsXIcqQCqUJqkV1II/ItchQ5jVxA+pDbyCAyivyKvEcxlIGyUQPUAnVAuagfGorGoHPRdDQPXYCWomvRGrQePYC2oqfRS+h1dAB9io5jgNExDmaM2WFcjIdFYIlYGibHFmPlWDVWjzVjHVg3dhUbwJ5h7wgkAouAE+wIXoQQwmyCkJBHWExYQ6gl7CO0EroIVwmDhDHCJyKTqE+0JXoS+cR4YjqxkFhGrCbuIR4hniVeJw4TX5NIJA7JkuROCiElkDJJC0lrSNtILaRTpD7SEGmcTCbrkG3J3uQIsoCsIJeRt5APkE+S+8nD5LcUOsWI4kwJoiRSpJQSSjVlP+UEpZ8yQpmgqlHNqZ7UCKqIOp9aSW2gdlAvU4epEzR1miXNmxZDy6Qto9XQmmlnafdoL+l0ugndgx5Fl9CX0mvoB+nn6YP0dwwNhg2Dx0hiKBlrGXsZpxi3GS+ZTKYF05eZyFQw1zIbmWeYD5hvVVgq9ip8FZHKEpU6lVaVfpXnqlRVc1U/1XmqC1SrVQ+rXlZ9pkZVs1DjqQnUFqvVqR1Vu6k2rs5Sd1KPUM9RX6O+X/2C+mMNsoaFRqCGSKNUY7fGGY0hFsYyZfFYQtZyVgPrLGuYTWJbsvnsTHYF+xt2L3tMU0NzqmasZpFmneZxzQEOxrHg8DnZnErOIc4NznstAy0/LbHWaq1mrX6tN9p62r7aYu1y7Rbt69rvdXCdQJ0snfU6bTr3dQm6NrpRuoW623XP6j7TY+t56Qn1yvUO6d3RR/Vt9KP1F+rv1u/RHzcwNAg2kBlsMThj8MyQY+hrmGm40fCE4agRy2i6kcRoo9FJoye4Ju6HZ+M1eBc+ZqxvHGKsNN5l3Gs8YWJpMtukxKTF5L4pzZRrmma60bTTdMzMyCzcrNisyeyOOdWca55hvtm82/yNhaVFnMVKizaLx5balnzLBZZNlvesmFY+VnlW9VbXrEnWXOss623WV2xQG1ebDJs6m8u2qK2brcR2m23fFOIUjynSKfVTbtox7PzsCuya7AbtOfZh9iX2bfbPHcwcEh3WO3Q7fHJ0dcx2bHC866ThNMOpxKnD6VdnG2ehc53zNRemS5DLEpd2lxdTbaeKp26fesuV5RruutK10/Wjm7ub3K3ZbdTdzD3Ffav7TS6bG8ldwz3vQfTw91jicczjnaebp8LzkOcvXnZeWV77vR5Ps5wmntYwbcjbxFvgvct7YDo+PWX6zukDPsY+Ap96n4e+pr4i3z2+I37Wfpl+B/ye+zv6y/2P+L/hefIW8U4FYAHBAeUBvYEagbMDawMfBJkEpQc1BY0FuwYvDD4VQgwJDVkfcpNvwBfyG/ljM9xnLJrRFcoInRVaG/owzCZMHtYRjobPCN8Qfm+m+UzpzLYIiOBHbIi4H2kZmRf5fRQpKjKqLupRtFN0cXT3LNas5Fn7Z72O8Y+pjLk722q2cnZnrGpsUmxj7Ju4gLiquIF4h/hF8ZcSdBMkCe2J5MTYxD2J43MC52yaM5zkmlSWdGOu5dyiuRfm6c7Lnnc8WTVZkHw4hZgSl7I/5YMgQlAvGE/lp25NHRPyhJuFT0W+oo2iUbG3uEo8kuadVpX2ON07fUP6aIZPRnXGMwlPUit5kRmSuSPzTVZE1t6sz9lx2S05lJyUnKNSDWmWtCvXMLcot09mKyuTDeR55m3KG5OHyvfkI/lz89sVbIVM0aO0Uq5QDhZML6greFsYW3i4SL1IWtQz32b+6vkjC4IWfL2QsFC4sLPYuHhZ8eAiv0W7FiOLUxd3LjFdUrpkeGnw0n3LaMuylv1Q4lhSVfJqedzyjlKD0qWlQyuCVzSVqZTJy26u9Fq5YxVhlWRV72qX1VtWfyoXlV+scKyorviwRrjm4ldOX9V89Xlt2treSrfK7etI66Trbqz3Wb+vSr1qQdXQhvANrRvxjeUbX21K3nShemr1js20zcrNAzVhNe1bzLas2/KhNqP2ep1/XctW/a2rt77ZJtrWv913e/MOgx0VO97vlOy8tSt4V2u9RX31btLugt2PGmIbur/mft24R3dPxZ6Pe6V7B/ZF7+tqdG9s3K+/v7IJbVI2jR5IOnDlm4Bv2pvtmne1cFoqDsJB5cEn36Z8e+NQ6KHOw9zDzd+Zf7f1COtIeSvSOr91rC2jbaA9ob3v6IyjnR1eHUe+t/9+7zHjY3XHNY9XnqCdKD3x+eSCk+OnZKeenU4/PdSZ3Hn3TPyZa11RXb1nQ8+ePxd07ky3X/fJ897nj13wvHD0Ivdi2yW3S609rj1HfnD94UivW2/rZffL7Vc8rnT0Tes70e/Tf/pqwNVz1/jXLl2feb3vxuwbt24m3Ry4Jbr1+Hb27Rd3Cu5M3F16j3iv/L7a/eoH+g/qf7T+sWXAbeD4YMBgz8NZD+8OCYee/pT/04fh0kfMR9UjRiONj50fHxsNGr3yZM6T4aeypxPPyn5W/3nrc6vn3/3i+0vPWPzY8Av5i8+/rnmp83Lvq6mvOscjxx+8znk98ab8rc7bfe+477rfx70fmSj8QP5Q89H6Y8en0E/3Pud8/vwv94Tz+4A5JREAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfcAgcQLxxUBNp/AAAQZ0lEQVR42u2be3QVVZbGv1N17829eRLyIKAEOiISEtPhJTJAYuyBDmhWjAEx4iAGBhxA4wABbVAMWUAeykMCM+HRTcBRWkNH2l5moS0LCCrQTkYeQWBQSCAIgYRXEpKbW/XNH5zS4noR7faPEeu31l0h4dSpvc+t/Z199jkFWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhY/H9D/MR9qfKnLj/00U71aqfJn9+HCkCR/Wk36ddsgyJ/1wF4fkDfqqm9/gPsUeTnVr6a2xlQfnxdI7zs0W7irzD17Ytb2WT7EeNv/r4ox1O3Quf2QP2pgt9utwfout4FQE8AVBSlnaRmfvAURQkg2RlAbwB9AThlW5L0GaiKojhJhgOIBqDa7XaPrusdPtr5kQwF0BVAAoBIABRCKDd5aFUhRDAAw57eAOwAhKIoupft3zoqhB1AqLwuHIBut9uFt02qqvqRDJR2dAEQJj/BAOjn56dqmma+xiaECAEQAWAggLsB6A6HQ2iaZggBhBAqgEAAnQB0kzaEmT4hAITT6VQ8Ho/HJAKKECJQtr8LwD1y/A1/vcdfEUIEyfZ9AcQbYvZ942Px88L2UwlJR0dH0EMPPbRj5syZPUeNGrXR7Xb/641xIwJ1XY9NSUlZm52dfW+XLl1w8uRJzJ8//+OGhoYJqqqe1TSt1Wsm9NN1PSIqKmr12rVrR5WUlHy1bdu2AQCumWc3IYRD1/UwVVXnFRQUTIuNjUVzczN2797dWFJSkq8oymZd15sAGAEnFEUJ1nX9nzIzM1dnZmZGh4SE4OTJk5g5c+Zf29vbp9pstrMej6fVOyhIhgAYU1hY+B+hoaGoqKg4XVlZea+XTULTNFdCQsLGiRMnPuR2u3UhBOV9eeDAAWXTpk095DUe6WsoyRE5OTlr0tLSAux2O/bs2cO5c+e+pijKUpIXSHaQVAGkvPLKK++6XK4OksJLCFlXV2cvKSlJBFAjhU+x2WwhHo9nUHp6+urMzMy7wsLCUF9fjxdffPHjxsbGiTab7WuPx9NiEutOuq4PyMjI+M+srKyYqKgoHD58GDNmzNjq8XhyVFU9b/q+LH7hBAEYu3PnTlZVVRFAGgCX6f/tAHoOHDjwa0p27txp/JO9e/f+QM7cipw9nfL3kQBKt2zZQpJ87rnn6mQmoHilw2EACs+cOUOSrK+vZ1NTE0nyo48+IoBpxswoBcMJ4Ndjx471kOTFixe5d+9ekqTH42H//v13A4jyzpAURfEH0H/OnDnthu1z5sw558MmFUCPWbNmnaMP3nrrLZoyDmP8Hl68eDFJ8siRI9/Yc+zYMQKYKdtAztrTrl27xptRXV1NAKMAOAyBBBA/Y8aMdpLs6Ojgxx9//E37+++//29yvFXppwvAwMcee8xjtDHsuXLlCqOjo//ia3wsfpkoALqFhoZuIckJEyackimm3dQmEMDUmpoakmRISMhhAHOHDx/eQJIbN24kgKEyMAHAFRMTs2XXrl1saWkhSZ0kp0+ffhrAr3wEW/S8efOukORLL72kA1gKYMPWrVtJkk899dRJAHeYrgsEsIQkjx8/TgDvAPjd448/3kaSb7zxBmUa7vC6z53BwcFbSHL9+vU6Sc6aNes8gF5ewWAH0PfVV18lSQL4DMBGIcQ6AKtcLleBFC2jXtFt8ODBe0iyoqKCAJYByC8qKmJDQwOzsrK+MAmqo1OnTveHhoa+GRkZ+XZkZOSWiIiIvzgcjk9mzpypkWRmZuZpmbYbGV4AgPnNzc1sa2sjgN0A5iQmJtaSZHl5OQHcb/K3s81mW0uSTU1NBFAFYFbfvn1Pk+Tbb79NAA8IIVzW42/hByA+Pz/fLR/2ZXIda05NI/z9/TeR5J49ewhgqlxTrtI0jY2NjQQw3zTLuWJiYjaUlJToS5Ys6fjkk080kwDEeAmADcA9GzZsIElGRUW9CyAWwLApU6Y0kOSKFSsog9QICGdERMTGsrIyZmVlEcC9AB4IDw/fTpLbtm0jgN94CUAnAJmVlZVcs2aNZ/LkyRdJcvbs2b4EwAkgZfPmzTxw4AABFAN4BkC6vFeUSewcAO5duXIlSTIhIaEawGMAxgKYAmAGgCS73e5vrKVk/yGythANYEhCQsIhkly+fDkBpKqqGmL6DgIALDKN/3yZpVWQZGVlJQE8aPI3KiMjo5okV61aRQAjAPQBMPfIkSN0u90EUCBtsPiFEwpgbn19PdetW2fM5N4zQ9ekpKQqkty0aRMBpMjiWM6JEydIkoqirJUFJ6iq6pAPVy8A6cZMehMBUACEuVyuFwG8HBwcPEIWx367ZMkSjSQXLVrUJouTRorrkAHdA8BdQogsAOsKCwtJkmPGjDkvMw2bDDo/ADEjRoz4XylyFbm5uY0mAbjLyyZ/AOOrq6tZVlbWsWDBgo69e/eyoqKCgwcPPg4gSQaoIRbp27dvN7KF+tLSUr28vJwFBQXtMpvpYRIM7+wrAkDeqVOnePbsWQIoNKfzpiXPg8uXLydJJicnNwF4f+nSpW6STEtLq5fjYwhk1wkTJtSQ5Ouvv04AqTKj+N2xY8dIkgEBAW/Ie1v8wncRegwZMmQvSfbr12+3Ua33WqPfOWbMmP0kWVpaSgCDZAqcfejQIWNZsEGKgvnh9gfQb9myZd8nAEJVVZtMkUNk8CcNHTq0liR1XWdYWNhmH1mJIme80OnTp18x1rp5eXkEsNJms92Fb7e/IgEsvHz5Mp999tkmAI/l5uZeMC0B7vEqqAYAyL106RJJsra2lpWVld+sucePH38ZQG+5NncBeOrgwYMkqbe3t/Po0aOsra011wAWyl0H7x0JJ4DE+fPnu0kyPT29DsDdUrBuyNKEEAkAdpw/f/6GeoEM8GUmfwEgPCIiopwkGxsbabPZPgOw6L777vvm4p49e26VGYjFLxUhhD+ApLKyMp44ccIoVnXybgbgzkcfffRzklyzZg0BDJYCMMmoCwQFBXkLgLGWvvcWAgBToSsKwNPTp09vMR7UuLi4rwH0lgU8c/Db5ezbeeTIkRWzZ8++aMxu+fn5BPCADBwHgP4LFy701NXVEUAJgAnPP/98kyxMNgHo53A4zH77BQQETMvPz7+Um5vbBuAlAFMSExPPmdbVL0qh8Acw8fDhw5SCchVAEYAVb775JknyhRdeaJYztHfxMwLAaqNwCGC2FArv8x0hAHKNLGPKlCme5OTk/Zs3bzb7O0wKiiG8KXl5ed8IxenTp0mSR48e1UmyW7duWywBuD2xyQcgFECgoih+8H1gyJgZV5Lkyy+/3CbTRIePtl2HDBmyw1QBHyGDdXZdXR1JUghRKkXBjOMHCoBdpr0L3nvvPZLkF198wejo6O0A4lVVDTb74HQ6AwD8Wq7Jh8rgGgDgQ13XjVR8qaxJuADMbmlpYXl5uV5UVNRWUFDgfv/993Vj/ZydnU1c37eHXML4S3viAcQqitJD2l104cIFY8lTKsXSBWBMVVWVcd9yed2A1NTUQ6Zl00CvLMMOoHdubm6zFIlWOf5+PsY/Kj09vdrU11QAwwGsv3jxIk21m2DZr10I0RXAuAcffPBgaWkpV69eTYfDcdiwUxY0w6xw+flX8L1xApjevXv3lREREaW6rofB93aPDUDQpEmTMgHgtddeqwBwEd/utZvpqK6uPgEAcXFxkA94NwB9unfvjrNnz4LklwDcf08iIqv66Zs2bXrl4YcfxooVKxAbG7uqrq5uAYA2TdOEqqpGYIi2tjbl6aeffu/YsWPv5uTk7JaC1wHg4Pnz542MwoVvTx+21dbWYvjw4WLixIl+2dnZ9lGjRgmSTE1NRUpKCkwFTGiaxtTU1OXTpk3707Bhw/6g67pDipnT4biuj7qut+Lbk3Vf1tTUXI9qu91Pjq1QFEUBgJaWFgBo8yGOQ8eNGxcAAOvXr/8QwBUfYygAKL169eoCABcuXACAWtn2hOGv0+kMNO1KiPDw8F4A4rZv3/7R1KlTR0+bNu1ht9u9r1+/fqitrQXJgwDarRC6/QjPzs4+QJIffPCB9/aQmSAA43ft2mW0e1QGoi8CAPyLsZccExNTC2BlRkbGRdOyYJCP2csBIN6UAZzCd7cBbQCijYp/dXU1ExMTz6SmptaMHj36f9LS0vYlJCRsl6mxIWSdu3fv/g5J7t+/nwC2AShMTk6+SJKff/45AWRLYbD7+fndAeDf5BJnLoCCyZMnt5JkdnZ2C4B/F0KEm1Pu+Pj4rST55ZdfEsBWAK+mpaVdMo3raDn7KwDuSEpK+m+S3LBhAwG8DuCtHTt2UBbpjgC408vvcFVV15HkuXPnjMp+p5uMf0RcXNyHJNnQ0EBVVfcCWBQXF3fG+Jv0yxABPwB5LS0tRmFxN4BlTzzxxGWSXLx4sS5F3GGFy+1Hp5SUlJq6ujoWFxdTpsZ2H+0iIyMj/0iSWVlZX5mr5jfJFroPGzasxlhTnjp1iiTZ3NxMl8tlrCd9pfa9SkpKSJI5OTmnZOageLUZZqxvfVFWVkZcPwdgNwnSCKPqb17jkmR8fPzfZMDZ5CRsFBmNI7h95s2b1yhT7/MAYmStwCx4vy0uLqa3v5qmEcCfvSr1QQAeXb16NY3Cm3HQ55133iGAp+SxZTNhKSkpfzUddkrFjYevzAQCeGjp0qXfsYckY2NjTwD4leGDLCL2HTdunNtoY+zWSHFcIHdsFCtcfuZ1vO9Eqs3m7/F47sb1k2qX/f3997W2tl7BjWfpBYDOzzzzzIVJkyZh0KBBCwEsB3AJvl9AETabLcDj8dwRFRW1ctasWb8JCgpSzp07d62wsPC/Wltb8xRFadR1/ZqPXYbgAQMGbI2Pjw/+6quv9ldVVT0r01ezuPRJSUn5Y9euXXVd11WzDaqq6kePHm3+7LPPRgO4KlNuxWazhXo8nuTk5OSXMjIyEl0uFxoaGtqKior+dPXq1VdUVT0jj7r68ieoT58+vx8yZMjdx48fP1JVVTVF9m20VW02WyfZf97YsWPjXS4X6urqWvPy8jYCWCyEuEDS8FdVFKWzruv//OSTTy5OTk7uqWkaPv3007qysrJ8RVH+LI8ym8/rB3Tu3HnRI488knLo0KG2ffv2ZQI4C98vP6mqqoZqmpaclpa2cOTIkX39/f3R0NDQUVxc/G5TU9PLqqrWa5rWLH1QVFUN0TStX1JSUvH48eP7BwYG4uDBg1cKCgpeBbBe2u+2Qug2EwD5N5sMPuNtMe8XP4TT6Qxoa2sbIGeXvUKIK7d4IISiKC5d1wPljOfA9bPwzYqiXNV13dd6Uqiq6qdpml2mpe02m63d4/G4vcTF5fF47LJf71nJA6BZVVW3pmntuPHlmAD5wk6Q9NnbHp9vHaqq6tA0zU/64PZhk1FfCZB9G/23ALiqKEqzD39tpvbGUqoFwFUhRLP3yzpCCDtJpxyXDulfG27+pqRR3DXsUWVd4Yq0x/taVQjhIhksC8L+ABpM9ljBf5sKwI8pIBr75L5E4vvu+UNeG/a+hv+AL7yFH8qPtOfHjtOP6V/Bja8D6z/B2Nys/1u9Xv33tLf4GfF/LC4GCJwByWIAAAAASUVORK5CYII\x3d";q.Dq=q.Qa.extend({Ar:null,Br:null,Cr:null,No:null,Oo:null,Po:null,As:null,Bs:null,Cs:null,Ra:null,Vv:null,ctor:function(){this.Vv=new q.Rh;this.restore()},description:function(){return"\x3cCCCamera | center \x3d("+this.No+","+this.Oo+","+this.Po+")\x3e"},kh:function(a){this.Ra=a},KJ:function(){return this.Ra},restore:function(){this.Ar=this.Br=0;this.Cr=q.Dq.Zs();this.As=this.No=this.Oo=this.Po=0;this.Bs=1;this.Cs=0;q.T8(this.Vv);this.Ra=!1},$J:function(){if(this.Ra){var a=new q.lq,c=new q.lq,d=new q.lq;
q.ht(a,this.Ar,this.Br,this.Cr);q.ht(c,this.No,this.Oo,this.Po);q.ht(d,this.As,this.Bs,this.Cs);q.OU(this.Vv,a,c,d);this.Ra=!1}q.wx(this.Vv)},Laa:function(a,c,d){this.cL(a,c,d)},cL:function(a,c,d){this.Ar=a;this.Br=c;this.Cr=d;this.Ra=!0},uaa:function(a,c,d){this.$W(a,c,d)},$W:function(a,c,d){this.No=a;this.Oo=c;this.Po=d;this.Ra=!0},$ba:function(a,c,d){this.dY(a,c,d)},dY:function(a,c,d){this.As=a;this.Bs=c;this.Cs=d;this.Ra=!0},W4:function(){return{x:this.Ar,y:this.Br,z:this.Cr}},WI:function(){return{x:this.Ar,
y:this.Br,z:this.Cr}},u4:function(){return{x:this.No,y:this.Oo,z:this.Po}},UI:function(){return{x:this.No,y:this.Oo,z:this.Po}},j7:function(){return{x:this.As,y:this.Bs,z:this.Cs}},ST:function(){return{x:this.As,y:this.Bs,z:this.Cs}},T0:function(){}});q.Dq.Zs=function(){return q.ou};q.yu=-2147483648;q.N_=q.yu+1;q.Lt=function(a,c){if(a&&0<a.length)for(var d=0;d<a.length;d++)if(!(a[d]instanceof c)){q.log("element type is wrong!");break}};q.Aq=function(a,c){a.splice(c,1)};q.pe=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c){a.splice(d,1);break}};q.pZ=function(a,c){for(var d=0,e=c.length;d<e;d++)q.pe(a,c[d])};q.oZ=function(a,c){return a.indexOf(c)};q.mZ=function(a,c){a.push(c)};q.om=function(a,c,d){a.splice(d,0,c);return a};
q.nZ=function(a,c,d){a.splice.apply(a,[d,0].concat(c));return a};q.Ky=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c)return d;return-1};q.Iy=function(a,c){return-1!=a.indexOf(c)};q.h_=function(a,c){if(null==a)return null;for(var d=0;d<a.length;d++)if(a[d].target===c)return a[d];return null};q.qF=function(a,c,d){this.next=null;this.target=a;this.yK=c;this.paused=d;this.Ol=!1};q.mF=function(a,c,d){this.list=a;this.yn=c;this.target=d;this.hh=null};
q.bN=function(a,c){this.wg=null;this.target=a;this.vq=0;this.Ns=this.Ms=null;this.paused=c;this.hh=null};
q.Pu=q.Qa.extend({hk:0,eg:null,ba:null,Bc:0,gH:!1,Mw:!1,Ep:0,uB:0,wv:0,ctor:function(){},r5:function(){return this.hk},setInterval:function(){},E6:function(){return this.eg},Yg:function(a,c,d,e,f){this.ba=a;this.eg=c;this.Bc=-1;this.hk=d||0;this.wv=f||0;this.Mw=0<this.wv;this.uB=null==e?q.tm:e;this.gH=this.uB==q.tm;return!0},cA:function(){if("string"==typeof this.eg)this.ba[this.eg](this.Bc);else this.eg.call(this.ba,this.Bc)},update:function(a){if(-1==this.Bc)this.Ep=this.Bc=0;else{var c=this.ba,
d=this.eg;this.gH&&!this.Mw?(this.Bc+=a,this.Bc>=this.hk&&(c&&d&&this.cA(),this.Bc=0)):(this.Bc+=a,this.Mw?this.Bc>=this.wv&&(c&&d&&this.cA(),this.Bc-=this.wv,this.Ep+=1,this.Mw=!1):this.Bc>=this.hk&&(c&&d&&this.cA(),this.Bc=0,this.Ep+=1),this.Ep>this.uB&&q.fa.g().Of().gM(c,d))}}});q.Pu.Yca=function(a,c,d){if(2>arguments.length)throw Error("timerWithTarget'argument can't is null");var e=new q.Pu;e.Yg(a,c,d||0,q.tm,0);return e};q.G1=null;
q.QN=q.Qa.extend({ts:1,Kh:null,vi:null,Tg:null,dk:null,hv:null,ck:null,a1:null,Bf:null,$i:!1,Jw:!1,ctor:function(){this.ts=1;this.Kh=[];this.vi=[];this.Tg=[];this.dk={};this.hv=[];this.ck={};this.Vk=[];this.Bf=null;this.Jw=this.$i=!1},tB:function(a){delete this.ck[a.target.Ac];q.pe(this.Vk,a);a.Pu=null;a.target=null},g1:function(a,c){for(var d=0;d<a.length;d++)if(a[d].target==c)return a[d];return null},mw:function(a){if(a=this.dk[a.target.Ac])q.pe(a.list,a.yn),delete this.dk[a.target.Ac],q.pe(this.hv,
a),a.yn=null,a.target=null},$G:function(a,c,d,e){e=new q.qF(c,d,e);if(a){for(var f=!1,g=0;g<a.length;g++)if(d<a[g].yK){a=q.om(a,e,g);f=!0;break}f||a.push(e)}else a=[],a.push(e);d=new q.mF(a,e,c);this.hv.push(d);this.dk[c.Ac]=d;return a},wO:function(a,c,d){d=new q.qF(c,0,d);a.push(d);a=new q.mF(a,d,c);this.hv.push(a);this.dk[c.Ac]=a},Uba:function(a){this.ts=a},X6:function(){return this.ts},update:function(a){this.Jw=!0;1!=this.ts&&(a*=this.ts);var c,d;for(d=0;d<this.Kh.length;d++)c=this.Kh[d],c.paused||
c.Ol||c.target.update(a);for(d=0;d<this.vi.length;d++)c=this.vi[d],c.paused||c.Ol||c.target.update(a);for(d=0;d<this.Tg.length;d++)c=this.Tg[d],c.paused||c.Ol||c.target.update(a);for(d=0;d<this.Vk.length;d++){c=this.Bf=this.Vk[d];this.$i=!1;if(!this.Bf.paused)for(c.vq=0;c.vq<c.wg.length;c.vq++)c.Ms=c.wg[c.vq],c.Ns=!1,c.Ms.update(a),c.Ms=null;this.$i&&0==this.Bf.wg.length&&this.tB(this.Bf)}for(d=0;d<this.Kh.length;d++)this.Kh[d].Ol&&this.mw(this.Kh[d]);for(d=0;d<this.vi.length;d++)this.vi[d].Ol&&this.mw(this.vi[d]);
for(d=0;d<this.Tg.length;d++)this.Tg[d].Ol&&this.mw(this.Tg[d]);this.Jw=!1;this.Bf=null},KW:function(a,c,d,e,f,g){if(!c)throw"cc.scheduler.scheduleCallbackForTarget(): callback_fn should be non-null.";if(!a)throw"cc.scheduler.scheduleCallbackForTarget(): target should be non-null.";d=d||0;e=null==e?q.tm:e;f=f||0;g=g||!1;var h=this.ck[a.Ac];h||(h=new q.bN(a,g),this.Vk.push(h),this.ck[a.Ac]=h);if(null==h.wg)h.wg=[];else for(var k=0;k<h.wg.length;k++)if(g=h.wg[k],c==g.eg){q.log("CCSheduler#scheduleCallback. Callback already scheduled. Updating interval from:"+
g.hk.toFixed(4)+" to "+d.toFixed(4));g.hk=d;return}g=new q.Pu;g.Yg(a,c,d,e,f);h.wg.push(g)},PK:function(a,c,d){var e=this.dk[a.Ac];e?e.yn.Ol=!1:0==c?this.wO(this.vi,a,d):0>c?this.Kh=this.$G(this.Kh,a,c,d):this.Tg=this.$G(this.Tg,a,c,d)},gM:function(a,c){if(null!=a&&null!=c){var d=this.ck[a.Ac];if(null!=d)for(var e=0;e<d.wg.length;e++){var f=d.wg[e];if(c==f.eg){f!=d.Ms||d.Ns||(d.Ns=!0);q.Aq(d.wg,e);d.vq>=e&&d.vq--;0==d.wg.length&&(this.Bf==d?this.$i=!0:this.tB(d));break}}}},wq:function(a){null!=a&&
(a=this.dk[a.Ac],null!=a&&(this.Jw?a.yn.Ol=!0:this.mw(a.yn)))},fM:function(a){if(null!=a){var c=this.ck[a.Ac];c&&(!c.Ns&&q.Iy(c.wg,c.Ms)&&(c.Ns=!0),c.wg.length=0,this.Bf==c?this.$i=!0:this.tB(c));this.wq(a)}},Et:function(){this.KY(q.yu)},KY:function(a){var c;for(c=0;c<this.Vk.length;c++)this.fM(this.Vk[c].target);if(0>a)for(c=0;c<this.Kh.length;c++)this.wq(this.Kh[c].target);if(0>=a)for(c=0;c<this.vi.length;c++)this.wq(this.vi[c].target);for(c=0;c<this.Tg.length;c++)this.Tg[c].yK>=a&&this.wq(this.Tg[c].target)},
j$:function(){return this.xV(q.yu)},xV:function(a){var c=[],d,e;for(d=0;d<this.Vk.length;d++)if(e=this.Vk[d])e.paused=!0,c.push(e.target);if(0>a)for(d=0;d<this.Kh.length;d++)if(e=this.Kh[d])e.paused=!0,c.push(e.target);if(0>=a)for(d=0;d<this.vi.length;d++)if(e=this.vi[d])e.paused=!0,c.push(e.target);for(d=0;d<this.Tg.length;d++)if(e=this.Tg[d])e.paused=!0,c.push(e.target);return c},EW:function(a){if(a)for(var c=0;c<a.length;c++)this.Un(a[c])},jt:function(a){if(!a)throw"cc.Scheduler.pauseTarget():target should be non-null";
var c=this.ck[a.Ac];c&&(c.paused=!0);if(a=this.dk[a.Ac])a.yn.paused=!0},Un:function(a){if(!a)throw"cc.Scheduler.resumeTarget():target should be non-null";var c=this.ck[a.Ac];c&&(c.paused=!1);if(a=this.dk[a.Ac])a.yn.paused=!1},F8:function(a){if(!a)throw"cc.Scheduler.isTargetPaused():target should be non-null";return(a=this.ck[a.Ac])?a.paused:!1}});q.rz={IMAGE:["png","jpg","bmp","jpeg","gif"],SOUND:["mp3","ogg","wav","mp4","m4a"],XML:["plist","xml","fnt","tmx","tsx"],BINARY:["ccbi"],FONT:"FONT",TEXT:["txt","vsh","fsh","json","ExportJson"],UNKNOW:[]};
q.Xb=q.Qa.extend({To:0,ws:0,Rr:0,Tm:null,vh:1/60,hk:null,IG:!1,ctor:function(){this.Tm=[]},sx:function(a,c,d){if(a){c&&(this.eg=c,this.ba=d);if(a!=this.Tm||0==this.To){this.Rr=this.To=0;if(a[0]instanceof Array)for(c=0;c<a.length;c++)this.Tm=this.Tm.concat(a[c]);else this.Tm=a;this.ws=this.Tm.length}this.kQ()}else console.log("resources should not null")},WW:function(a){this.IG=a},Ql:function(a){this.Rr++;q.log("cocos2d:Failed loading resource: "+a)},qg:function(){this.Rr++},kx:function(){var a=0;
return a=0==this.ws?100:0|this.Rr/this.ws*100},hW:function(a){if(a&&0<a.length)for(var c=q.ga.g(),d=q.Zh?q.Zh.g():null,e=q.Pk.g(),f=q.ae.g(),g,h=0;h<a.length;h++){g=a[h];var k=this.zG(g);switch(k){case "IMAGE":c.tW(g.src);break;case "SOUND":if(!d)throw"Can not find AudioEngine! Install it, please.";d.eda(g.src);break;case "XML":e.IY(g.src);break;case "BINARY":f.HY(g.src);break;case "TEXT":f.JY(g.src);break;case "FONT":break;default:throw"cocos2d:unknown filename extension: "+k;}}},RP:function(){this.Kw();
if(this.IG){var a=q.fa.g().Dv;if(null!=a&&20>a){q.log("cocos2d: frame rate less than 20 fps, skip frame.");return}}this.To<this.ws&&(this.zP(),this.To++)},zP:function(){var a=q.ga.g(),c=q.Zh?q.Zh.g():null,d=q.Pk.g(),e=q.ae.g(),f=this.Tm[this.To],g=this.zG(f);switch(g){case "IMAGE":a.la(f.src);break;case "SOUND":if(!c)throw"Can not find AudioEngine! Install it, please.";c.p$(f.src);break;case "XML":d.KV(f.src);break;case "BINARY":e.JV(f.src);break;case "TEXT":e.LV(f.src);break;case "FONT":this.TP(f);
break;default:throw"cocos2d:unknown filename extension: "+g;}},kQ:function(){var a=this;this.hk=setInterval(function(){a.RP()},1E3*this.vh)},aR:function(){clearInterval(this.hk)},zG:function(a){if(null!=a.Rs)return q.rz.FONT;a=a.src;a=a.substring(a.lastIndexOf(".")+1,a.length);var c=a.indexOf("?");0<c&&(a=a.substring(0,c));for(var d in q.rz)if(-1!=q.rz[d].indexOf(a))return d;return a},Kw:function(){100<=this.kx()&&(this.aR(),this.SO())},SO:function(){if(this.ba&&"string"==typeof this.eg)this.ba[this.eg](this);
else this.ba&&"function"==typeof this.eg?this.eg.call(this.ba,this):this.eg(this);this.ws=this.Rr=this.To=0},TP:function(a){var c=a.src,d=q.ae.g();if(c&&0<c.length){var e=document.createElement("style");e.type="text/css";document.body.appendChild(e);for(var f="@font-face { font-family:"+a.Rs+"; src:",g=0;g<c.length;g++)f+="url('"+d.Le(encodeURI(c[g].src))+"') format('"+c[g].type+"')",f+=g==c.length-1?";":",";e.textContent+=f+"};";c=document.createElement("div");c.style.fontFamily=a.Rs;c.innerHTML=
".";c.style.position="absolute";c.style.left="-100px";c.style.top="-100px";document.body.appendChild(c)}q.Xb.g().qg()},z1:function(a,c){var d=document.createElement("style");d.type="text/css";document.body.appendChild(d);d.textContent+="@font-face {font-family:"+a+";src: url(data:font/ttf;base64,"+c+") format('truetype');};";d=document.createElement("div");d.style.fontFamily=a;d.innerHTML="ajghl~!";d.style.position="absolute";d.style.left="-100px";d.style.top="-100px";document.body.appendChild(d);
q.Xb.g().qg()},K1:function(){}});q.Xb.JD=function(a,c,d){this.Pb||(this.Pb=new q.Xb);this.Pb.sx(a,c,d);return this.Pb};q.Xb.n$=function(a,c,d){this.Pb||(this.Pb=new q.Xb);this.Pb.WW(!0);this.Pb.sx(a,c,d);return this.Pb};q.Xb.LD=function(a){this.Pb&&this.Pb.hW(a)};q.Xb.g=function(){this.Pb||(this.Pb=new q.Xb);return this.Pb};q.Xb.Pb=null;
q.iz=q.Jq.extend({Uv:null,kp:null,zw:null,jv:null,Pv:null,lC:null,ctor:function(){q.Jq.prototype.ctor.call(this);this.lC=q.fa.g().gc},A:function(){q.Jq.prototype.A.call(this);var a=q.a(this.lC.width/2,this.lC.height/2);this.kp=new Image;var c=this;this.kp.addEventListener("load",function(){c.kP(a);this.removeEventListener("load",arguments.callee,!1)});this.kp.src="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAAlAAD/4QMpaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjAtYzA2MCA2MS4xMzQ3NzcsIDIwMTAvMDIvMTItMTc6MzI6MDAgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjM4MDBEMDY2QTU1MjExRTFBQTAzQjEzMUNFNzMxRkQwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjM4MDBEMDY1QTU1MjExRTFBQTAzQjEzMUNFNzMxRkQwIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzUgV2luZG93cyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU2RTk0OEM4OERCNDExRTE5NEUyRkE3M0M3QkE1NTlEIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU2RTk0OEM5OERCNDExRTE5NEUyRkE3M0M3QkE1NTlEIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+/+4ADkFkb2JlAGTAAAAAAf/bAIQADQkJCQoJDQoKDRMMCwwTFhENDREWGhUVFhUVGhkUFhUVFhQZGR0fIB8dGScnKionJzk4ODg5QEBAQEBAQEBAQAEODAwOEA4RDw8RFA4RDhQVERISERUfFRUXFRUfKB0ZGRkZHSgjJiAgICYjLCwoKCwsNzc1NzdAQEBAQEBAQEBA/8AAEQgAyACgAwEiAAIRAQMRAf/EALAAAAEFAQEAAAAAAAAAAAAAAAQAAgMFBgcBAQEAAwEBAAAAAAAAAAAAAAAAAQMEAgUQAAIBAgIEBwoLBgQGAwAAAAECAwAEEQUhMRIGQVFxsTITFGGBwdEiQlKSMzWRoeFicqKyI1NzFYJjJDQWB9KjVCbxwkNkJWXik3QRAAIBAgMFBQcDBQEAAAAAAAABAhEDIRIEMUFRcTJhwVIUBZGhsSJyEzOB0ULhYpIjUxX/2gAMAwEAAhEDEQA/AMJSpUqAVKlXuFAeUq9wpUB5XuFe4V6ooDzZHDox0CnGMinzwl7Z8NajaHeoO3vmTBZBtp9YUIqTEV5ROxHKnWRnaU8VRMhFBUjpV7hSoSeUq9pUB5Sr2lhQHlKvcK8oBV7hSFSRrtaKAZs07YNPM1pG2xJIAw1jSeandry/8X4m8VCKkWwaWwam7Xl/4v1W8VLtmX/i/VbxUoKkWwakSM407tmX/i/VbxUmzGwjQsjdY41IARie/U0IbZO0kNtCXnOCkEBeFu4KI3Bs7DNb27ya+jDx3kJeEnpJJEcQVbWDsk17u5urd591ucZkWhym2Vnd9RkCDEpFxDRpbw0bunu5mlp2De2FMLYXOD2wB2xbOeraUcYGJ72mlSUiqzzdzMd3Z3mixltA2yzcK/NlHM1DQyRXce1HocdNOEfJXZ88y9ZojOqhiBszIRiHQ8Y4cK5TvHuzLljHNMqxNoDjLFraHHnjPxcNCGVbxEUzYNTx5jZSxhpW6qTzlwJ+DCvO2Zf+L9VvFSgqyHYNLYNTdssPxfibxUu15f8Ai/VPiqCakOwa82DU/a8v/F+JvFTDdWPBL8R8VKCvYRYV5UzoMAy6QdIIqI0B4KJtxiRQwou16QoGUkntH5Tz0RbZbmF2hktraSVBo2lUkY8tDye0flPPXTslVUyiyVRsjqUOA4yMT8dW2ram2m6UVTNq9S7EIyUVJydMTn/6DnP+im9Wl+g5z/opvVrpteEhQWY4AaSTwAVf5WPiZh/9S5/zj7zltzlmYWkfWXNvJDGTgGcYDHirR7i7mSbwXParsFMrgb7w6jKw/wCmnc9I14kF3vpvCljbMyWMOJL4aEiB8qU/ObUK7HYWVrl1pFZWiCOCBQqKOLjPGTrNZZqKbUXVHq2nNwTuJRk1VpbgXN8s7Rk5ym0UQQzhIG2NAjhxHWbI+gCBVjBBFbwxwQqEiiUJGg1BVGAFe7dV28WYLYZFmF2Th1UD7JGjymGyn1iK5OyzIBGB1HgrLZhamzumQAGJwSqnSCh1q3GOCodxt4cxurdcpzuN4cyhiWaF5Bg09udUmnWw1H/jV9nFuJ7Quo+8h8peThFA+047vduyMtk7fYqTl07YFdfUufMPzT5p71UdtlmYXaGS2t3mQHAsgxANdadYJopLe4QS2867EsZ4QfCNYrCFbjdDPmgkYyWFxgVf04ifJf6ScNdRUW1XBb6FU5TjF5EpSSrGu/s5lN+g5z/opvVpfoOc/wCim9WtdHnatvObJXDW7xLGhB8nrPaY9/HCr+tEdPCVaSeDoYLnqF63lzW4/PFSW3ecxbI84VSzWUwUaSdg0DXXK5nvAipnd6qgKvWnQO7pri9ZUEmm3Vl2j1kr8pRlFRyquBNZjGxQ/S56Y1S2fu9OVueon11Szahoou06QoQUXadIVCD2FJJ7R+U89dMydv8Axdn+TH9muZye0flPPXQstlK5Tbka1gUjlC1q0vVLkeb6r+O3Tx9xcY1nt8c0NrZCyiOE1108NYjGv1joo7Js1jzKyScYLIvkzL6LDwHXVJksH9Sb49dKNq0tj1jA6uriOCL+02FWX7iVtZX1/AzaHTyeoauKn2MX9W79zebiZCuR5MjSrhfXuEtwTrUeZH+yNfdrRNcxI6IzhXlJEak6WIGJ2Rw4ChWnChndtlVBLMdQA0k1gbXNMzzDfDLs6mjaPKppJbWwJ1bOwwxw43OnHh71YT3DpfWUJmFlb5jHHDdeXBHIsrRea5TSqvxqG04cNN62vetoCS4tre5mgnkGE9q+3DKOkuI2WX6LDQRRHWDh1UCtwj7QRg2wdl8Djgw1qe7XvW0BQ3kfZ7mSLgU+T9E6RVbnuVrnWVSWqj+Lt8ZbRuHEdKPkYVcZ2MJY5fSGyeVar45+rkWQHAqccalPE5km1htWK5nK4Wnt5FuUBUwOMG4nGkA/BXUrW4S6torlOjMgcd/xVn7rLo7zKs0uEjCNeSvdwoBhgsZxX1l2j36k3Lu+uyprdj5Vs5A+i/lD48a0aaVJOPi7jB6lbzWozpjB48pf1NDXNN4vfl7+Z4BXS65pvF78vfzPAK71XTHmZ/S/yT+jvJ7L3fHytz1E+upbL+Qj5W56jfXWRnsIYKLtekKEFGWvSFQgyjk9o/Keet3YthlMP/5x9msJJ7R+U89biyb/AMXEv7gD6tadL1T+kwepRrC39ZkLDMbiwMvUHRPG0bjlGg8ore/23sxBldxfMPLupNhT8yL/AORNZbdzJ484scytxgLqJY5LZj6Q2sV5G1Vud1mjjyG0ij0NEGSZToKyhjtqw4waztuiXA3qKTbSxltfGhbZlE95ZtZqxVbgiOZhrER9ph3Svk9+pJILZ4Y4DGBFCUMKjRsGPobPFhUfW0NJmljE2xJcIrcI2vFUEln1lRXd6lrazXT9GCNpD+yNqoI7mOVduNw6nzlOIoPOUa6yye1XXcbMR5GdQ3xY0BSbj31/FcTQZirJ+q431q7anbHCTZ72Bw7lbPrKBMcBWNNgbMBBh+bsjBdni0VJ1lARZs6yWiupxCuMDy6KpS2IwOo6DTr3Mre3e5tZZVUM4ZBjqOOJoWO4jkXajcOOMHGgDISvWIrdAkKR80+TzVl908bPPL3LzxOuHdifxVfiTAg92qI/w+/8gGgSyN/mR7XPVlp0lF/3L3mbVKtu5Hjbk/8AHE2Fc03i9+Xv5ngFdKNc13i9+Xv5ngFaNV0x5nn+l/kn9HeEWXu+PlbnqJ9dS2Xu9OVueon11kZ7CGCjLXpCgxRlr0hUIPYUcntH5Tz1s8vb+Bt1/dqPirGSe0flPPWusG/g4Py15q06XqlyMWvVYQ+ruI9xJOqzO9hOto/sP8tbGOFIrmWeM7IuMDMnAXXQJOUjQeOsJk0nY96ip0CYunrjaHx1t+srPJUbXBm2LrFPikwTOb+T+VhbZxGMrDXp83x1QSy2tucJpUjPETp+Cn5/ftaRvKvtp3Kx48HG3erHMzOxZiWZtLMdJNQSbbL71Vk6yynViOkqnEEfOWtPbXi3EQkGg6mXiNckjeSJxJGxR10qw0GtxuxmvbImD4CZMFlA4fRfv0BqesqqzTMZNMEDbIHtHH2QeCiZJSqMQdOGiue53mz3czQwsRbIcNHnkec3c4qAMuriz68gTIToxwOOnlp0MjxMJYW741Gs3RVldtbygE/dMcHX/moDaxTiWNZB53B3arb8/wC+4SOF4sf/AKxU9kcBsfOGHfoUHtG/RbzY5Die5HHhXdvavqiZ9Q8Jdlq4/gbKua7xe/L38zwCuhpf2Uk/Zo50kmwJKIdogDjw1VzzeL35e/meAVp1LTgqY4nn+mRauzqmqwrjzCLL3fHytz1E+upLL+Qj5W56jfXWRnroYKLtekKEFF2vSFQg9hSSe0flPPWosm/hIfoLzVl5PaPynnrRWb/w0X0F5q06XqlyM2sVYx5gmbFre/t71NY2T+0h8VbSO5SWNJUOKSAMp7jDGspmMPaLRlXS6eWve1/FRO7WYdbZm1Y/eW/R7qHxHRXGojlm3ulid6aVbaW+OALvgCLq2Hm9WxHKWqjhj6xsK1e8dm15l4niG1LZkswGsxtrPeOmsvayBJA1VItlWjptLuTdPMo7LtjRDq9naK4+WF9IrUW7BaHOljGqVHB7w2hzVoZt87d8vaNYSLl02CcRsDEbJbj71Uu7UBkvJ7/D7q2QoDxySaAO8MTXdxRVMpRp5XZOWdF/ms7R5XdyKfKWJsO/5PhrG5XlNxmEywW6bTnTxAAcJNbGSMXkM1pjgbiNo1PziPJ+Os7u7m/6ReM00ZOgxSpqYYHT3wRXMKN4ll9zUG4bQfNshu8sZVuEA2hirA4qe/VOwwrVbzbww5mI44UKRRYkbWG0S3JWctbd7u5WFfOOLHiUdJqmaipfLsIsObhWe001lMkMVvJNjhghIALMcBxCs7fxXQmkupx1bXDswGPlaTidVaEyKNXkoo4eBV+Sq7L7Vs9zcBgeyQ4GQ/MB1crmoim2orezqcowTuSeEY48jQ7oZX2PLzdyLhNd6RjrEY6I7+uspvH78vfzPAK6UAAAFGAGgAcArmu8Xvy9/M8ArTfio24RW5nnaG67uou3H/KPuqT2X8hHytz1G+upLL3enK3PUb66ys9RDBRdr0hQgou06QqEGUkntH5Tz1e238vF9BeaqKT2j8p56vbb+Xi+gvNWjTdUuRn1XTHmTh8KrJTJlt8t1CPIY44cGnpJVjTJYkmjaN9Ib4u7V923njTethRauZJV3PaW1rfLIiXEDYg6R4VYc9CXW7thfOZbKdbGZtLW8uPVY/u3GrkNUkM9zlcxUjbhfWOA90cRq4gv4LhdqN+VToNYWmnRm9NNVWNTyHc6VWBv8wt4YeHqm6xyPmroq1Z7WGFLSxTq7WLSuPSdjrkfumq5yHXDUeA92oO2SKpVumNAaoJLMXH3myp0rpJ4uKhc3tbDM5BMri1zAj79j7KTiY8TcdBpcsith0286o+sPCagEX9Pzg4zXUCp6QYse8oouCG3tk6m1BYv05W6T+IdyolxbHDAAa2OgDlNCz3ryN2WxBd5PJMg1t81eId2ukqnLlTBbfcuY+9uJLiRcvtPvHdsHK+cfRHcHDWsyawjyy0WBcDI3lTP6TeIcFV+S5OmXx9bJg1048o8Cj0V8Jq2DVu09nL80up7OxHi+oal3P8AXB/IsZS8T/YOV65zvCcc7vfzPAK3ivWCz445zeH954BXOr6I8yfSfyz+jvCLP3fHytz1G+upLP3fHytz1E+usbPaQ0UXadIUIKLtekKhB7Ckk9o/Keer22/l4/oLzVRSe0flPPV7b/y8X0F5q0abqlyM+q6Y8yQsBTDMor1o8aiaE1pbluMqS3sbLLHIhSRQyngqukhaJ9uBjo+H5aOa3ao2t34qouRlLajTalGP8v0IY8ylXQ+PKPFU/bYXOLPge6CKia0LaxTOxHu1Q7cuBd9yPEJ7TbjXKO8CajbMIF6CNIeNvJHjqIWJ7tSpYkalqVblwIdyG+RGXur0hXYJFxal+Dhq5y3slkv3Y2pD0pTr+QUClpJRUdo9XW4OLrTHtM16cZLLWkeC7y4jvlNEpcRtw1Ux27Ci448NZrTFy3nn3IQWxlgGrDZ3pza7/M8ArZo+ArF5171uvp+CqdV0R5l/psUrs2vB3hdl7vTlbnqJ9dS2Xu+PlbnqJ9dY2eshooq16QoQUXa9IVCD2FLJ7RuU89WNtmUSQqkgYMgw0accKrpPaPynnrZWG4Vi+VWmY5tnMWXG+XrIYnA0rhj0mdcTgdNdwnKDqjmduM1SRR/qlr8/4KX6pa8T/BVzDuLZXudRZblmbxXcPUNPc3KqCIwrbOzgrHEnHjoyD+3eSXkht7DeKG4umDGOJVUklfouThXfmbnZ7Cvy1vt9pmv1W1+d8FL9VteJvgq5yrcOGfLmzHN80iyyETPbptAEFo2ZG8pmUa1OFNn3Ky6W/sbDKM5hv5bx2WTZA+7RF2y52WOPJTzE+z2Dy1vt9pT/AKpacTerS/U7Tib1a04/t7kDXPY03jhN0W6sQ7K7W3q2dnrMccaDy/8At80kuZfqWYxWNtlcvUPPhiGYhWDeUy7IwYU8xPs9g8tb7faUn6pacTerTxm9oOBvVq3v9z927aynuId44LiWKNnjhAXF2UYhRg516qpsryjLr21665zFLSTaK9U2GOA87SwqY37knRU+BzOzags0s1Oyr+BKM6sxwP6tSDPLMen6vy0rvdm3Sxlu7K/S7WDDrFUDUTxgnTU826eXW7KlxmqQuwDBXUKcD+1Xee/wXuKX5XDGWLapSVcOyhEM/seJ/V+WnjeGx4pPV+Wkm6kKZlFay3Jlt7iFpYZY8ASVK6DjtDDA0f8A0Tl340/1f8Ndx8xJVWXB0KbktFFpNzdVXAC/qOwA0CQni2flrO3Vwbm5lnI2TKxbDirX/wBE5d+NcfV/wVR7xZPa5U9utvI8nWhmbbw0YEAYYAVxfhfy5rlKR4Fulu6X7mW1mzT8S4Yis/5CPlbnqJ9dSWfu9OVueon11mZvQ2i7XpChKKtekKhBlNJ7R+U89bDfGTb3a3ZX0Lcj6kdY+T2j8p560288m1kWQr6MJ+ylSAr+2cnV5renjs3H1loX+3j9XvbbtxLN9lqW4UnV5jdnjtXHxihtyZNjeSBu5J9k1BJe7xy7W5CJ/wCzuD/mTVTf2+fq97LJuLrPsNRueS7W6aJ/38x+vLVXuY+xvHaNxbf2GoCezf8A36j/APsSf8w1sLnqczTefJluYoLm5uo5F61sBshItP1cNFYe1f8A3ir/APfE/wCZUe9bB94r5jwuPsrQFhmG4l/Z2M17HdW90tuu3IkTHaCjWdIw0VVZdks9/C06yJFEp2dp+E1bbqybGTZ8vpQD7L1XRv8A7blT96Oda7tpNuuNE37Cq9KSisjyuUoxrStKllHbLlWTXsMs8chuSuwEPDqwoLe5y+YRE/gLzmqRekvKKtd4327yM/ulHxmrHJStySWVRyrjxKI2XC/CTlnlPPKTpTdFbP0L1bgrf5Lp0G3dPhQHwV0S1lzBsns3sESR8Crh9WAJGjSOKuU3E+zdZQ3oJh8IArdZXFDmOTpHa3i2+YrI2KtKy4ricBsBuHHgFXSo440+Wa2qqxjvM9uMoy+WvzWpLCWWWE28HxL6e43ojgkeSCBY1Ri5BGIUDT51cl3vm276BBqSEH4WbxV0tlkyXJcxTMb+OW6uY9mGHrCzDQwwAbTp2uKuTZ9N1uYsfRRR8WPhrm419mSSjRyiqxVK7y23B/ftuTm2oSdJyzNVw3BFn7vTlbnqF9dS2fu9OVueon11lZuQ2iLdsGFD05H2dNQGV0ntG5Tz1dWm9N1b2kVq8EVwsI2UaQaQOKhmitZGLOmk68DhSFvY+gfWNSAg7z3Qvo7yKCKIohiaNR5LKxx8qpxvjcqS0VpbxvwOAcRQPZ7D0G9Y0uz2HoH1jUCpLY7zXlpbm3eKO5QuzjrBqZji3x17PvNcyT288VvDBJbMWUovS2hslW7mFQ9nsPQPrGl2ew9A+saCod/WNxtbYsrfb17WBxx5ddD2281xC88klvDcSXEnWuzrqOGGC9zRUPZ7D0G9Y0uzWHoH1jQVCLreq6ntZbaO3it1mGy7RjTs1X2mYy20ZiCq8ZOODcdEdmsPQb1jS7PYegfWNdJuLqnQiSUlRqpFLmryxtH1Ma7Qw2gNNPOdSt0oI27p007s9h6B9Y0uz2HoH1jXX3Z+I4+1b8IJdX89xLHKQFMXQUahpxoiPN5P+onfU+A0/s9h6DesaXZ7D0D6xpG7OLbUtu0StW5JJx2bBsmbtiSiEk+cxoCWWSaVpZOk2vDVo0VYdnsPQb1jSNvZcCH1jSd2c+p1XAmFqEOmOPEfaH+BQd1ueo211IzrgFUYKNAAqI1WztCpUqVCRUqVKgFSpUqAVKlSoBUqVKgFSpUqAVKlSoBUqVKgFSpUqAVKlSoD/9k\x3d";
this.kp.width=160;this.kp.height=200;this.jv=q.Y.create(q.wC(32,32,32,255));this.jv.l(0,0);this.f(this.jv,0)},kP:function(a){this.zw=new q.rc;this.zw.tf(this.kp);this.zw.ke();this.Uv=q.v.Ka(this.zw);this.Uv.Hk(q.hd());this.Uv.l(a);this.jv.f(this.Uv,10)},eh:function(){q.G.prototype.eh.call(this);this.lc(this.tH,0.3)},me:function(){q.G.prototype.me.call(this);this.Pv&&this.Pv.na("Loading... 0%")},sx:function(a,c,d){this.AW=a;this.PW=c;this.target=d},tH:function(){this.Oc(this.tH);q.Xb.JD(this.AW,this.PW,
this.target);this.lc(this.Kw)},Kw:function(){if(this.Pv){var a=q.Xb.g().kx();this.Pv.na("Loading... "+a+"%")}100<=a&&this.Oc(this.Kw)}});q.iz.JD=function(a,c,d){this.Pb||(this.Pb=new q.iz,this.Pb.A());this.Pb.sx(a,c,d);a=q.fa.g();a.Dd?a.JK(this.Pb):a.HW(this.Pb);return this.Pb};q.Uy=q.Qa.extend({Hb:null,uL:function(a){this.Hb=a},q6:function(){return this.Hb},ctor:function(a){this.Hb=a},FC:function(){q.log("DrawingPrimitive.drawPoint() not implement!")},DI:function(){q.log("DrawingPrimitive.drawPoints() not implement!")},zi:function(){q.log("DrawingPrimitive.drawLine() not implement!")},EI:function(){q.log("DrawingPrimitive.drawRect() not implement!")},HC:function(){q.log("DrawingPrimitive.drawSolidRect() not implement!")},je:function(){q.log("DrawingPrimitive.drawPoly() not implement!")},
dx:function(){q.log("DrawingPrimitive.drawSolidPoly() not implement!")},AI:function(){q.log("DrawingPrimitive.drawCircle() not implement!")},GC:function(){q.log("DrawingPrimitive.drawQuadBezier() not implement!")},BI:function(){q.log("DrawingPrimitive.drawCubicBezier() not implement!")},zI:function(){q.log("DrawingPrimitive.drawCardinalSpline() not implement!")},cx:function(){q.log("DrawingPrimitive.drawCardinalSpline() not implement!")}});
q.jF=q.Uy.extend({FC:function(a,c){c||(c=1);var d=q.sa.g().wa,e=q.sa.g().Ea,e=q.a(a.x*d,a.y*e);this.Hb.beginPath();this.Hb.arc(e.x,-e.y,c*d,0,2*Math.PI,!1);this.Hb.closePath();this.Hb.fill()},DI:function(a,c,d){if(null!=a){d||(d=1);c=this.Hb;var e=q.sa.g().wa,f=q.sa.g().Ea;c.beginPath();for(var g=0,h=a.length;g<h;g++)c.arc(a[g].x*e,-a[g].y*f,d*e,0,2*Math.PI,!1);c.closePath();c.fill()}},zi:function(a,c){var d=this.Hb,e=q.sa.g().wa,f=q.sa.g().Ea;d.beginPath();d.moveTo(a.x*e,-a.y*f);d.lineTo(c.x*e,-c.y*
f);d.closePath();d.stroke()},EI:function(a,c){this.zi(q.a(a.x,a.y),q.a(c.x,a.y));this.zi(q.a(c.x,a.y),q.a(c.x,c.y));this.zi(q.a(c.x,c.y),q.a(a.x,c.y));this.zi(q.a(a.x,c.y),q.a(a.x,a.y))},HC:function(a,c,d){a=[a,q.a(c.x,a.y),c,q.a(a.x,c.y)];this.dx(a,4,d)},je:function(a,c,d,e){e=e||!1;if(null!=a){if(3>a.length)throw Error("Polygon's point must greater than 2");var f=a[0];c=this.Hb;var g=q.sa.g().wa,h=q.sa.g().Ea;c.beginPath();c.moveTo(f.x*g,-f.y*h);for(var f=1,k=a.length;f<k;f++)c.lineTo(a[f].x*g,
-a[f].y*h);d&&c.closePath();e?c.fill():c.stroke()}},dx:function(a,c,d){this.bL(d.t,d.p,d.o,d.Q);this.je(a,c,!0,!0)},AI:function(a,c,d,e,f){f=f||!1;e=this.Hb;var g=q.sa.g().wa,h=q.sa.g().Ea;e.beginPath();e.arc(0|a.x*g,0|-(a.y*h),c*g,-d,-(d-2*Math.PI),!1);f&&e.lineTo(0|a.x*g,0|-(a.y*h));e.stroke()},GC:function(a,c,d,e){for(var f=[],g=0,h=0;h<e;h++)f.push(q.a(Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y)),g+=1/e;f.push(q.a(d.x,d.y));this.je(f,e+1,!1,!1)},BI:function(a,
c,d,e,f){for(var g=[],h=0,k=0;k<f;k++)g.push(q.a(Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y)),h+=1/f;g.push(q.a(e.x,e.y));this.je(g,f+1,!1,!1)},zI:function(a,c){this.cx(a,0.5,c)},cx:function(a,c,d){q.ea.strokeStyle="rgba(255,255,255,1)";for(var e=[],f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=q.Oy(q.Oh(a,f-1),q.Oh(a,f-0),q.Oh(a,f+1),q.Oh(a,f+2),c,g),e.push(f);this.je(e,
d+1,!1,!1)},drawImage:function(a,c,d,e,f){switch(arguments.length){case 2:this.Hb.drawImage(a,c.x,-(c.y+a.height));break;case 3:this.Hb.drawImage(a,c.x,-(c.y+d.height),d.width,d.height);break;case 5:this.Hb.drawImage(a,c.x,c.y,d.width,d.height,e.x,-(e.y+f.height),f.width,f.height);break;default:throw Error("Argument must be non-nil");}},t3:function(a,c,d){a=a||this.Hb;c*=q.sa.g().wa;d instanceof q.re&&(d=new q.Kc(0|255*d.t,0|255*d.p,0|255*d.o));d="rgba("+d.t+","+d.p+","+d.o;a.fillStyle=d+",1)";var e=
c/10;a.beginPath();a.moveTo(-c,c);a.lineTo(0,e);a.lineTo(c,c);a.lineTo(e,0);a.lineTo(c,-c);a.lineTo(0,-e);a.lineTo(-c,-c);a.lineTo(-e,0);a.lineTo(-c,c);a.closePath();a.fill();var f=a.createRadialGradient(0,0,e,0,0,c);f.addColorStop(0,d+", 1)");f.addColorStop(0.3,d+", 0.8)");f.addColorStop(1,d+", 0.0)");a.fillStyle=f;a.beginPath();a.arc(0,0,c-e,0,q.uF,!1);a.closePath();a.fill()},r3:function(a,c,d){a=a||this.Hb;c*=q.sa.g().wa;d instanceof q.re&&(d=new q.Kc(0|255*d.t,0|255*d.p,0|255*d.o));d="rgba("+
d.t+","+d.p+","+d.o;var e=a.createRadialGradient(0,0,c/10,0,0,c);e.addColorStop(0,d+", 1)");e.addColorStop(0.3,d+", 0.8)");e.addColorStop(0.6,d+", 0.4)");e.addColorStop(1,d+", 0.0)");a.fillStyle=e;a.beginPath();a.arc(0,0,c,0,q.uF,!1);a.closePath();a.fill()},fillText:function(a,c,d){this.Hb.fillText(a,c,-d)},jX:function(a,c,d,e){this.Hb.fillStyle="rgba("+a+","+c+","+d+","+e/255+")";this.Hb.strokeStyle="rgba("+a+","+c+","+d+","+e/255+")"},bL:function(a,c,d,e){this.Hb.fillStyle="rgba("+(0|255*a)+","+
(0|255*c)+","+(0|255*d)+","+e+")";this.Hb.strokeStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+")"},KX:function(){},tX:function(a){this.Hb.lineWidth=a*q.sa.g().wa}});
q.VM=q.Uy.extend({Lr:!1,$b:null,Yi:-1,Ec:null,hB:-1,gB:-1,ctor:function(a){null==a&&(a=q.ea);if(!a instanceof WebGLRenderingContext)throw"Can't initialise DrawingPrimitiveWebGL. context need is WebGLRenderingContext";q.Uy.prototype.ctor.call(this,a);this.Ec=new q.re(1,1,1,1)},Ck:function(){this.Lr||(this.$b=q.di.g().Li(q.m0),this.Yi=this.Hb.getUniformLocation(this.$b.lx(),"u_color"),this.hB=this.Hb.getUniformLocation(this.$b.lx(),"u_pointSize"),this.Lr=!0)},s3:function(){this.Lr=!1},FC:function(a){this.Ck();
this.$b.zf();this.$b.nh();q.Ne(q.th);this.$b.am(this.Yi,new Float32Array(this.Ec.fc,0,4),1);this.$b.DL(this.hB,this.gB);var c=this.Hb,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,new Float32Array([a.x,a.y]),c.STATIC_DRAW);c.vertexAttribPointer(q.af,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,1);c.deleteBuffer(d);q.ai()},DI:function(a){if(a&&0!=a.length){this.Ck();this.$b.zf();this.$b.nh();q.Ne(q.th);this.$b.am(this.Yi,new Float32Array(this.Ec.fc,0,4),1);this.$b.DL(this.hB,
this.gB);var c=this.Hb,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.hw(a),c.STATIC_DRAW);c.vertexAttribPointer(q.af,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,a.length);c.deleteBuffer(d);q.ai()}},hw:function(a){for(var c=new Float32Array(2*a.length),d=0;d<a.length;d++)c[2*d]=a[d].x,c[2*d+1]=a[d].y;return c},zi:function(a,c){this.Ck();this.$b.zf();this.$b.nh();q.Ne(q.th);this.$b.am(this.Yi,new Float32Array(this.Ec.fc,0,4),1);var d=this.Hb,e=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,
e);d.bufferData(d.ARRAY_BUFFER,this.hw([a,c]),d.STATIC_DRAW);d.vertexAttribPointer(q.af,2,d.FLOAT,!1,0,0);d.drawArrays(d.LINES,0,2);d.deleteBuffer(e);q.ai()},EI:function(a,c){this.zi(q.a(a.x,a.y),q.a(c.x,a.y));this.zi(q.a(c.x,a.y),q.a(c.x,c.y));this.zi(q.a(c.x,c.y),q.a(a.x,c.y));this.zi(q.a(a.x,c.y),q.a(a.x,a.y))},HC:function(a,c,d){a=[a,q.a(c.x,a.y),c,q.a(a.x,c.y)];this.dx(a,4,d)},je:function(a,c,d){this.Ck();this.$b.zf();this.$b.nh();q.Ne(q.th);this.$b.am(this.Yi,new Float32Array(this.Ec.fc,0,4),
1);c=this.Hb;var e=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,e);c.bufferData(c.ARRAY_BUFFER,this.hw(a),c.STATIC_DRAW);c.vertexAttribPointer(q.af,2,c.FLOAT,!1,0,0);d?c.drawArrays(c.LINE_LOOP,0,a.length):c.drawArrays(c.LINE_STRIP,0,a.length);c.deleteBuffer(e);q.ai()},dx:function(a,c,d){this.Ck();d||(d=this.Ec);this.$b.zf();this.$b.nh();q.Ne(q.th);this.$b.am(this.Yi,new Float32Array(d.fc,0,4),1);c=this.Hb;d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.hw(a),c.STATIC_DRAW);
c.vertexAttribPointer(q.af,2,c.FLOAT,!1,0,0);c.drawArrays(c.TRIANGLE_FAN,0,a.length);c.deleteBuffer(d);q.ai()},AI:function(a,c,d,e,f){this.Ck();var g=1;f&&g++;var h=2*Math.PI/e;if(f=new Float32Array(2*(e+2))){for(var k=0;k<=e;k++){var l=k*h,m=c*Math.sin(l+d)+a.y;f[2*k]=c*Math.cos(l+d)+a.x;f[2*k+1]=m}f[2*(e+1)]=a.x;f[2*(e+1)+1]=a.y;this.$b.zf();this.$b.nh();q.Ne(q.th);this.$b.am(this.Yi,new Float32Array(this.Ec.fc,0,4),1);a=this.Hb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(q.af,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+g);a.deleteBuffer(c);q.ai()}},GC:function(a,c,d,e){this.Ck();for(var f=new Float32Array(2*(e+1)),g=0,h=0;h<e;h++)f[2*h]=Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,f[2*h+1]=Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y,g+=1/e;f[2*e]=d.x;f[2*e+1]=d.y;this.$b.zf();this.$b.nh();q.Ne(q.th);this.$b.am(this.Yi,new Float32Array(this.Ec.fc,0,4),1);a=this.Hb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(q.af,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+1);a.deleteBuffer(c);q.ai()},BI:function(a,c,d,e,f){this.Ck();for(var g=new Float32Array(2*(f+1)),h=0,k=0;k<f;k++)g[2*k]=Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,g[2*k+1]=Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y,h+=1/f;g[2*f]=e.x;g[2*f+1]=e.y;this.$b.zf();this.$b.nh();q.Ne(q.th);this.$b.am(this.Yi,new Float32Array(this.Ec.fc,0,4),1);a=this.Hb;c=a.createBuffer();
a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,g,a.STATIC_DRAW);a.vertexAttribPointer(q.af,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,f+1);a.deleteBuffer(c);q.ai()},zI:function(a,c){this.cx(a,0.5,c)},cx:function(a,c,d){this.Ck();for(var e=new Float32Array(2*(d+1)),f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=q.Oy(q.Oh(a,f-1),q.Oh(a,f),q.Oh(a,f+1),q.Oh(a,f+2),c,g),e[2*k]=f.x,e[2*k+1]=f.y;this.$b.zf();this.$b.nh();q.Ne(q.th);this.$b.am(this.Yi,
new Float32Array(this.Ec.fc,0,4),1);a=this.Hb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,e,a.STATIC_DRAW);a.vertexAttribPointer(q.af,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,d+1);a.deleteBuffer(c);q.ai()},jX:function(a,c,d,e){this.Ec.t=a/255;this.Ec.p=c/255;this.Ec.o=d/255;this.Ec.Q=e/255},bL:function(a,c,d,e){this.Ec.t=a;this.Ec.p=c;this.Ec.o=d;this.Ec.Q=e},KX:function(a){this.gB=a*q.hd()},tX:function(a){this.Hb.lineWidth&&this.Hb.lineWidth(a)}});q.uF=2*Math.PI;q.NF={O0:0,t_:1,u_:2,eZ:3,m_:4,l_:5,rZ:6,A_:7,XZ:8,sN:100,BN:101};q.G_=0;q.H_=1;q.E_=2;q.F_=3;q.zg=0;q.Rk=1;q.He=null;q.ea=null;q.canvas=null;q.aT=null;q.Xd=q.zg;q.rV=q.size(0,0);window.WD=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;window.console||(window.console={},window.console.log=function(){},window.console.assert=function(){});q.rD=!1;
q.bm=function(a,c,d){function e(){if(q.Zh){var a=q.Zh.g();document[k]?(a.wV(),a.yV()):(q.fa.g().gQ(),a.BW(),a.DW())}}a=q.Wb(a)||q.Wb("#"+a);var f,g,h;"CANVAS"==a.tagName?(c=c||a.width,d=d||a.height,g=q.wk=q.Kk("DIV"),h=g.style,f=q.canvas=a,f.parentNode.insertBefore(g,f),f.vn(g),h.width=(c||480)+"px",h.height=(d||320)+"px",g.setAttribute("id","Cocos2dGameContainer")):("DIV"!=a.tagName&&q.log("Warning: target element is not a DIV or CANVAS"),c=c||a.clientWidth,d=d||a.clientHeight,f=q.canvas=q.Kk("CANVAS"),
f.UH("gameCanvas"),f.setAttribute("width",c||480),f.setAttribute("height",d||320),g=q.wk=a,h=g.style,a.appendChild(f),h.width=(c||480)+"px",h.height=(d||320)+"px");h.margin="0 auto";h.position="relative";h.overflow="hidden";g.top="100%";if(!q.Oz){q.La.gd&&(q.ea=q.yda=q.oI(f,{stencil:!0,preserveDrawingBuffer:!0,antialias:!q.La.yj,alpha:!1}));q.ea?(q.Xd=q.Rk,window.gl=q.ea,q.He=new q.VM(q.ea),q.ga.g().rP()):(q.ea=f.getContext("2d"),q.VU=q.ea,q.Xd=q.zg,q.ea.translate(0,f.height),q.He=q.jF?new q.jF(q.ea):
null);q.rV=q.size(f.width,f.height);q.aT=g;q.log(q.Ut);q.Ze.g();q.fX();q.La.yj&&q.sO();var k,l;"undefined"!==typeof document.hidden?(k="hidden",l="visibilitychange"):"undefined"!==typeof document.mozHidden?(k="mozHidden",l="mozvisibilitychange"):"undefined"!==typeof document.msHidden?(k="msHidden",l="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(k="webkitHidden",l="webkitvisibilitychange");"undefined"===typeof document.addEventListener||"undefined"===typeof k?(q.rD=!1,window.addEventListener("focus",
function(){if(q.Zh){var a=q.Zh.g();a.BW();a.DW()}},!1),window.addEventListener("blur",function(){if(q.Zh){var a=q.Zh.g();a.wV();a.yV()}},!1)):(q.rD=!0,document.addEventListener(l,e,!1))}};q.sO=function(){var a=document.createElement("style");a.type="text/css";document.body.appendChild(a);a.textContent="body,canvas,div{ -moz-user-select: none;-webkit-user-select: none;-ms-user-select: none;-khtml-user-select: none;-webkit-tap-highlight-color:rgba(0,0,0,0);}"};q.JG=!1;
q.fX=function(){q.JG=!1;q.canvas.oncontextmenu=q.JG?function(){}:function(){return!1}};q.Mk=q.Qa.extend({vh:null,ctor:function(){this.vh=0;if(q.KB)throw"Application has been initialized";q.KB=this},mt:function(a){this.vh=a},zca:function(a){a&&q.rect(0,0,0,0)},T6:function(){return q.La.yj?q.NF.sN:q.NF.BN},FW:function(){if(!this.IR())return 0;var a,c=q.fa.g(),d=window;q.JS=c;d.WD&&this.vh==1/60?(a=function(){c.dK();d.WD(a)},d.WD(a)):(a=function(){c.dK()},setInterval(a,1E3*this.vh));return 0}});
q.Mk.g=function(){return q.KB};q.Mk.G4=function(){var a=q.gN,c=navigator.language;c||(c=navigator.browserLanguage||navigator.nda);if(!c)return a;c=c.toLowerCase();switch(c){case "zh-cn":a=q.fN;break;case "fr":a=q.hN;break;case "it":a=q.kN;break;case "de":a=q.iN;break;case "es":a=q.rN;break;case "ru":a=q.qN;break;case "ko":a=q.mN;break;case "ja":a=q.lN;break;case "hu":a=q.jN;break;case "pt":a=q.pN;break;case "ar":a=q.eN;break;case "no":a=q.nN;break;case "pl":a=q.oN}return a};q.KB=null;q.Pk=q.Qa.extend({Ada:null,YG:null,Kp:null,VA:null,ctor:function(){this.Kp={};window.DOMParser?(this.VA=!0,this.YG=new DOMParser):this.VA=!1},parse:function(a){var c=a;a=this.YI(a);a=this.ZG(a,c).documentElement;if("plist"!=a.tagName)throw"cocos2d: "+c+" is not a plist file or you forgot to preload the plist file";for(var c=null,d=0,e=a.childNodes.length;d<e&&(c=a.childNodes[d],1!=c.nodeType);d++);return this.eB(c)},Zca:function(a,c){if(null==c||!1===c)a=this.YI(a);return this.ZG(a)},ZG:function(a,
c){var d;this.VA?d=this.YG.parseFromString(a,"text/xml"):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(a));null==d&&q.log("cocos2d:xml "+c+" not found!");return d},eB:function(a){var c=null;switch(a.tagName){case "dict":c=this.OP(a);break;case "array":c=this.NP(a);break;case "string":if(1==a.childNodes.length)c=a.firstChild.nodeValue;else for(var c="",d=0;d<a.childNodes.length;d++)c+=a.childNodes[d].nodeValue;break;case "false":c=!1;break;case "true":c=!0;break;case "real":c=
parseFloat(a.firstChild.nodeValue);break;case "integer":c=parseInt(a.firstChild.nodeValue,10)}return c},NP:function(a){for(var c=[],d=0,e=a.childNodes.length;d<e;d++){var f=a.childNodes[d];1==f.nodeType&&c.push(this.eB(f))}return c},OP:function(a){for(var c={},d=null,e=0,f=a.childNodes.length;e<f;e++){var g=a.childNodes[e];1==g.nodeType&&("key"==g.tagName?d=g.firstChild.nodeValue:c[d]=this.eB(g))}return c},KV:function(a){a=q.ae.g().Le(a);if(window.XMLHttpRequest){var c=new XMLHttpRequest;c.overrideMimeType&&
c.overrideMimeType("text/xml")}if(null!=c){var d=this;c.onreadystatechange=function(){4==c.readyState&&(c.responseText?(q.Xb.g().qg(),d.Kp[a]=c.responseText,c=null):(q.Xb.g().qg(),q.log("cocos2d:There was a problem retrieving the xml data:"+c.statusText)))};c.open("GET",a,!0);c.send(null)}else throw"cocos2d:Your browser does not support XMLHTTP.";},IY:function(a){this.Kp.hasOwnProperty(a)&&delete this.Kp[a]},getName:function(a){return a.substring(a.lastIndexOf("/",a.length)+1,a.lastIndexOf(".",a.length))},
V4:function(a){return a.substring(a.lastIndexOf(".",a.length)+1,a.length)},YI:function(a){return null!=this.Kp?this.Kp[a]:null}});q.Pk.g=function(){this.Pb||(this.Pb=new q.Pk);return this.Pb};q.Pk.Pb=null;q.Hy=q.Qa.extend({IS:function(){q.Mk.g().FW();return!0},l2:function(){q.fa.g().pause()},k2:function(){q.fa.g().LK()},HR:function(){q.Mk.g().HR()},JR:function(){q.Mk.g().JR()},m2:function(){}});q.Hy.lY=function(){null==q.fy&&(q.fy=new q.Hy);if(!q.fy)throw"Application initialize failure";return q.fy};q.fy=null;q.S=q.v.extend({de:null,el:q.Sj,xl:q.Wu,Cf:null,ee:0,Sg:"",dB:null,ep:!1,ak:null,nk:!1,Rg:null,tp:0,hs:0,rw:null,tl:!1,ns:null,Bp:0,tw:null,Cp:null,Cv:null,VB:0,WB:0,Ad:!1,Qv:null,Rv:null,ctor:function(){q.v.prototype.ctor.call(this);this.de=q.um();this.el=q.Oq;this.xl=q.Wu;this.Gc=!1;this.ak="";this.Cf="Arial";this.nk=this.ep=!1;this.Rg=q.um();this.hs=this.tp=0;this.rw="rgba(128, 128, 128, 0.5)";this.tl=!1;this.ns=q.Eb();this.Bp=0;this.tw="";this.Cp=q.Eb();this.Cv="rgba(255,255,255,1)";this.WB=this.VB=
0;this.Ad=!1;this.qi()},A:function(){return this.Hl(" ",this.Cf,this.ee)},DP:function(){this.KA().font=this.ak},Tr:function(a){return this.KA().measureText(a).width},GO:function(a,c){var d=this.Tr(a),e=Math.floor(a.length*c/d),f=a.indexOf("\n");if(0.8*e>=f&&0<f)return f+1;if(d<c)return a.length;for(var d=!1,f=c+1,g=-1,h=e,k,l=q.S.HO,m=q.S.iQ,p=q.S.FO,s=a.substr(e);k=l.exec(s);){h+=k[0].length;if("\n"==k[2]){d=!0;g=h;break}f=this.Tr(a.substr(0,h));if(f>c){-1!=g&&(d=!0);break}g=h;s=a.substr(h)}if(d)return g;
s=a.substr(0,e);for(g=e;k=m.exec(s);)if(g=k[1].length,s=k[1],f=this.Tr(s),f<c){p.test(k[2])&&g++;break}return g},description:function(){return"\x3ccc.LabelTTF | FontName \x3d"+this.Cf+" FontSize \x3d "+this.ee.toFixed(1)+"\x3e"},q:null,cs:function(a){q.Lb.prototype.q.call(this,a);this.iH()},qi:null,iH:function(){this.Ad=!0;var a=this.Mc,c=this.pc,d=this.ns,e=this.Cp;this.rw="rgba("+(0|0.5*a.t)+","+(0|0.5*a.p)+","+(0|0.5*a.o)+","+this.tp+")";this.Cv="rgba("+(0|a.t/255*e.t)+","+(0|a.p/255*e.p)+","+
(0|a.o/255*e.o)+", "+c/255+")";this.tw="rgba("+(0|a.t/255*d.t)+","+(0|a.p/255*d.p)+","+(0|a.o/255*d.o)+", "+c/255+")"},rQ:function(){this.Ad=!0;var a=this.ns,c=this.Cp;this.rw="rgba(128,128,128,"+this.tp+")";this.Cv="rgba("+(0|c.t)+","+(0|c.p)+","+(0|c.o)+", 1)";this.tw="rgba("+(0|a.t)+","+(0|a.p)+","+(0|a.o)+", 1)"},vd:null,bC:function(a){q.Lb.prototype.vd.call(this,a);this.qi()},ua:null,es:function(a){this.ij!==a&&(q.v.prototype.ua.call(this,a),this.qi(),this.Ad=!0)},wd:null,jda:function(a){q.Lb.prototype.wd.call(this,
a);this.qi()},ZC:function(){return this.Sg},h5:function(){return this.el},o7:function(){return this.xl},Q4:function(){return q.size(this.de.width,this.de.height)},b5:function(){return this.ee},a5:function(){return this.Cf},Hl:function(a,c,d,e,f,g){a=a?a+"":"";d=d||16;e=e||q.size(0,d);f=f||q.Oq;g=g||q.Xu;return q.v.prototype.A.call(this)?(this.Gc=!1,this.de=q.size(e.width,e.height),this.Cf=c||"Arial",this.el=f,this.xl=g,this.ee=d*q.hd(),this.ak=this.ee+"px '"+c+"'",this.$j=q.S.cv(c,this.ee),this.na(a),
this.qi(),this.dC(),this.Ad=!1,!0):!1},nD:null,nP:function(a,c){if(!q.v.prototype.A.call(this))return!1;this.eC(c,!1);this.na(a);return!0},oP:function(a,c){if(!q.v.prototype.A.call(this))return!1;this.lh(q.di.g().Li(q.S.hO));this.eC(c,!1);this.na(a);return!0},Rba:function(a){a&&this.eC(a,!0)},U6:function(){return this.SP(!1)},US:function(a,c,d){c=c||0.5;!1===this.nk&&(this.nk=!0);var e=this.Rg;if(e&&e.width!=a.width||e.height!=a.height)e.width=a.width,e.height=a.height;this.tp!=c&&(this.tp=c);this.qi();
this.hs!=d&&(this.hs=d);this.Ad=!0},l3:function(){this.nk&&(this.nk=!1,this.Ad=!0)},VS:function(a,c){!1===this.tl&&(this.tl=!0);var d=this.ns;if(d.t!==a.t||d.p!==a.p||d.o!==a.o)d.t=a.t,d.p=a.p,d.o=a.o,this.qi();this.Bp!==c&&(this.Bp=c||0);this.Ad=!0},m3:function(){this.tl&&(this.tl=!1,this.Ad=!0)},hE:null,vQ:function(a){var c=this.Cp;if(c.t!=a.t||c.p!=a.p||c.o!=a.o)c.t=a.t,c.p=a.p,c.o=a.o,this.qi(),this.Ad=!0},wQ:function(a){var c=this.Cp;if(c.t!=a.t||c.p!=a.p||c.o!=a.o)c.t=a.t,c.p=a.p,c.o=a.o,this.qi(),
this.Ad=!0},eC:function(a,c){a.Qs?(this.de.width=a.Qs.width,this.de.height=a.Qs.height):(this.de.width=0,this.de.height=0);this.el=a.KI;this.xl=a.LI;this.Cf=a.Rs;this.ee=a.fontSize||12;this.ak=this.ee+"px '"+this.Cf+"'";this.$j=q.S.cv(this.Cf,this.ee);a.NL&&this.US(a.OL,a.PL,a.shadowBlur,!1);a.DE&&this.VS(a.strokeColor,a.$L,!1);this.hE(a.MI,!1);c&&this.dC()},SP:function(a){var c=new q.YM;a?(c.fontSize=this.ee,c.Qs=q.vz(this.de)):(c.fontSize=this.ee,c.Qs=q.size(this.de.width,this.de.height));c.Rs=
this.Cf;c.KI=this.el;c.LI=this.xl;if(this.tl){c.DE=!0;var d=this.ns;c.strokeColor=new q.Kc(d.t,d.p,d.o);c.$L=this.Bp}else c.DE=!1;this.nk?(c.NL=!0,c.shadowBlur=this.hs,c.PL=this.tp,c.OL=a?q.vz(this.Rg):q.size(this.Rg.width,this.Rg.height)):c.nk=!1;a=this.Cp;c.MI=new q.Kc(a.t,a.p,a.o);return c},$j:18,na:function(a){a&&(a=String(a),a=a.replace("\x3cCOPYRIGHT\x3e","\u00a9"));this.dB!=a&&(this.dB=a+"",this.JH(),this.Ad=!0)},JH:function(){this.Sg=this.dB},Raa:function(a){a!==this.el&&(this.el=a,this.Ad=
!0)},dca:function(a){a!=this.xl&&(this.xl=a,this.Ad=!0)},Wa:function(a){if(a.width!=this.de.width||a.height!=this.de.height)this.de=a,this.JH(),this.Ad=!0},Vx:function(a){this.ee!==a&&(this.ee=a*q.hd(),this.ak=this.ee+"px '"+this.Cf+"'",this.$j=q.S.cv(this.Cf,this.ee),this.Ad=!0)},iE:function(a){this.Cf&&this.Cf!=a&&(this.Cf=a,this.ak=this.ee+"px '"+a+"'",this.$j=q.S.cv(a,this.ee),this.Ad=!0)},XO:function(a){if(a){var c=this.VB,d=this.WB,e=this.Da.ya-d,f=this.xl,g=this.el,h=this.$j,k=this.Bp;a.setTransform(1,
0,0,1,0+0.5*c,e+0.5*d);a.font!=this.ak&&(a.font=this.ak);a.fillStyle=this.Cv;var l=d=0,m=this.tl;m&&(a.lineWidth=2*k,a.strokeStyle=this.tw);this.nk&&(k=this.Rg,a.shadowColor=this.rw,a.shadowOffsetX=k.width,a.shadowOffsetY=-k.height,a.shadowBlur=this.hs);a.textBaseline=q.S.VQ[f];a.textAlign=q.S.UQ[g];c=this.Da.Ia-c;d=g===q.WN?d+c:g===q.Sj?d+Math.floor(c/2):d+0;a.lineHeight=this.de.height/this.oj.length;if(this.ep)for(g=this.oj.length,f===q.Xu||f===q.Wu?l=h+e-h*g:f===q.Yu&&(l=h/2+(e-h*g)/2),f=0;f<g;f++)c=
this.oj[f],k=-e+h*f+l,m&&a.strokeText(c,d,k),a.fillText(c,d,k);else f!==q.Xu&&(l=f===q.Zu?l-e:f===q.Wu?l+e:l-0.5*e),m&&a.strokeText(this.Sg,d,l),a.fillText(this.Sg,d,l)}},KA:function(){if(this.Rv)return this.Rv;if(!this.Qv){var a=document.createElement("canvas"),c=new q.rc;c.tf(a);this.ma(c);this.Qv=a}return this.Rv=this.Qv.getContext("2d")},KH:function(){var a=this.de.width,c,d;this.NG=[];this.ep=!1;this.DP();if(0!==a){var e=this.Sg;this.oj=[];c=0;for(d=this.Sg.length;c<d;){var f=this.GO(e.substr(c),
a);this.oj.push(e.substr(c,f));c+=f}}else for(this.oj=this.Sg.split("\n"),c=0,d=this.oj.length;c<d;c++)this.NG.push(this.Tr(this.oj[c]));0<this.oj.length&&(this.ep=!0);d=c=0;this.tl&&(c=d=2*this.Bp);this.nk&&(e=this.Rg,c+=2*Math.abs(e.width),d+=2*Math.abs(e.height));a=0===a?this.ep?q.size(0|Math.max.apply(Math,this.NG)+c,0|this.$j*this.oj.length+d):q.size(0|this.Tr(this.Sg)+c,0|this.$j+d):0===this.de.height?this.ep?q.size(0|a+c,0|this.$j*this.oj.length+d):q.size(0|a+c,0|this.$j+d):q.size(0|a+c,0|
this.de.height+d);this.O(a);this.VB=c;this.WB=d;e=this.zm;this.Id.J=0.5*c+Math.round((a.width-c)*e.J);this.Id.U=0.5*d+Math.round((a.height-d)*e.U)},c:function(){this.Ad&&this.KH();return q.v.prototype.c.call(this)},dC:function(){var a=this.KA(),c=this.Qv,d=this.Da;if(0===this.Sg.length)return c.width=1,c.height=d.ya,this.jb(q.rect(0,0,1,d.ya)),!0;a.font=this.ak;this.KH();var e=d.Ia,d=d.ya,f=c.width==e&&c.height==d;c.width=e;c.height=d;f&&a.clearRect(0,0,e,d);this.XO(a);this.Ha.ke();this.UL=!0;this.jb(q.rect(0,
0,e,d));return!0},Ca:function(a){this.Sg&&""!=this.Sg&&(this.Ad&&(this.Ad=!1,this.dC()),q.v.prototype.Ca.call(this,a||q.ea))},$a:null,Jg:function(a){if(this.Sg&&""!=this.Sg){a=a||q.ea;var c=this.Ha;c&&c.Qc&&(this.ad.zf(),this.ad.nh(),q.Ak(this.qa.src,this.qa.Ub),q.Vg(c),q.Ne(q.Vu),a.bindBuffer(a.ARRAY_BUFFER,this.lw),this.Gf&&(a.bufferData(a.ARRAY_BUFFER,this.Zb.rC,a.STATIC_DRAW),this.Gf=!1),a.vertexAttribPointer(q.af,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(q.Rq,2,a.FLOAT,!1,24,16),a.vertexAttribPointer(q.Qq,
4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));1===q.Pj?(a=this.Zb,a=[q.a(a.ab.C.x,a.ab.C.y),q.a(a.Sa.C.x,a.Sa.C.y),q.a(a.eb.C.x,a.eb.C.y),q.a(a.Ua.C.x,a.Ua.C.y)],q.He.je(a,4,!0)):2===q.Pj&&(a=this.$C().Za,c=this.wc,a=[q.a(c.x,c.y),q.a(c.x+a.width,c.y),q.a(c.x+a.width,c.y+a.height),q.a(c.x,c.y+a.height)],q.He.je(a,4,!0));q.Nh++}},GB:function(a,c,d){this.rd=c||!1;d=d||q.size(a.width/q.hd(),a.height/q.hd());this.O(d);this.uE(a);this.UL&&(c=q.sa.g().wa,d=q.sa.g().Ea,this.Ba.width/=c,
this.Ba.height/=d);c=this.en;d=this.Wo;c.x=a.x;c.y=a.y;c.width=a.width;c.height=a.height;c.jm=!(0===c.width||0===c.height);d.width=c.width;d.height=c.height;d.jm=!(0===d.width||0===d.height);a=this.ui;this.sc&&(a.J=-a.J);this.tc&&(a.U=-a.U);this.wc.J=a.x+(this.Da.Ia-this.Ba.width)/2;this.wc.U=a.y+(this.Da.ya-this.Ba.height)/2;this.tb&&(this.Ra=!0)},Zj:function(a){if(this.zb){a=a||q.ea;this.Lm&&(a.globalCompositeOperation="lighter");a.kU=this.vp;var c=q.sa.g().wa,d=q.sa.g().Ea;a.globalAlpha=this.pc/
255;var e=this.Ba,f=this.Da,g=this.wc,h=this.Wo,k=0|g.J,l=-g.U-e.height,m=this.en;!0==this.js&&(a.shadowBlur=30,a.shadowColor="black");if(this.sc||this.tc)a.save(),this.sc&&(k=-g.J-e.width,a.scale(-1,1)),this.tc&&(l=g.U,a.scale(1,-1));k*=c;l*=d;if(this.Ha&&m.jm)e=this.Ha.Fc,this.br?a.drawImage(e,0,0,m.width,m.height,k,l,h.width,h.height):a.drawImage(e,m.x,m.y,m.width,m.height,k,l,h.width,h.height);else if(0!==f.Ia){var p=this.Fd();a.fillStyle="rgba("+p.t+","+p.p+","+p.o+",1)";a.fillRect(k,l,f.Ia*
c,f.ya*d)}!0==this.js&&(a.shadowBlur=0);!0==this.LB&&(a.globalAlpha=1,a.beginPath(),a.strokeStyle="rgba("+p.t+","+p.p+","+p.o+",1)",a.lineWidth="1",ea(a,k,l,f.Ia*c,f.ya*d),a.stroke());2===q.Pj&&(a.strokeStyle="rgba(0,255,0,1)",p=this.Ba.Za,l=-l,k=[q.a(k,l),q.a(k+p.width,l),q.a(k+p.width,l-p.height),q.a(k,l-p.height)],q.He.je(k,4,!0));(this.sc||this.tc)&&a.restore();q.Nh++}},lH:function(a){var c=this.tb?this.Va.ja():this.Ha;if(c){var d=c.Zp(),e=c.Yp(),f,g=this.Zb;this.rd?(q.nu?(c=(2*a.x+1)/(2*d),d=
c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/d,f=a.y/e,a=(a.y+a.width)/e),this.sc&&(e=f,f=a,a=e),this.tc&&(e=c,c=d,d=e),g.Sa.H.Xa=c,g.Sa.H.va=f,g.eb.H.Xa=c,g.eb.H.va=a,g.ab.H.Xa=d,g.ab.H.va=f,g.Ua.H.Xa=d,g.Ua.H.va=a):(q.nu?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+a.height)/e),this.sc&&(e=c,c=d,d=e),this.tc&&(e=f,f=a,a=e),g.Sa.H.Xa=c,g.Sa.H.va=a,g.eb.H.Xa=d,g.eb.H.va=
a,g.ab.H.Xa=c,g.ab.H.va=f,g.Ua.H.Xa=d,g.Ua.H.va=f);this.Gf=!0}}});q.La.gd?(b=q.S.prototype,b.q=q.v.prototype.q,b.qi=q.S.prototype.rQ,b.vd=q.v.prototype.vd,b.ua=q.v.prototype.ua,b.wd=q.v.prototype.wd,b.nD=q.S.prototype.oP,b.hE=q.S.prototype.wQ,b.$a=q.S.prototype.Jg,b.jb=q.v.prototype.mH):(b=q.S.prototype,b.q=q.S.prototype.cs,b.qi=q.S.prototype.iH,b.vd=q.S.prototype.bC,b.ua=q.S.prototype.es,b.wd=q.S.prototype.GH,b.nD=q.S.prototype.nP,b.hE=q.S.prototype.vQ,b.$a=q.S.prototype.Zj,b.jb=q.S.prototype.GB);
q.S.UQ=["left","center","right"];q.S.VQ=["top","middle","bottom","alphabetic"];q.S.HO=/(.+?)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;q.S.iQ=/(.*)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;q.S.FO=/[\s\-\/\\\:]/;q.S.create=function(a,c,d,e,f,g){var h=new q.S;return h.Hl(a,c,d,e,f,g)?h:null};q.S.b3=function(a,c){var d=new q.S;return d&&d.nD(a,c)?d:null};q.S.hO=q.dO?q.uz:q.j0;q.S.vm=document.createElement("div");q.S.vm.style.fontFamily="Arial";q.S.vm.style.position="absolute";
q.S.vm.style.left="-100px";q.S.vm.style.top="-100px";q.S.vm.style.lineHeight="normal";document.body.appendChild(q.S.vm);q.S.cv=function(a,c){var d=q.S.$F[a+"."+c];if(0<d)return d;var e=q.S.vm;e.innerHTML="ajghl~!";e.style.fontFamily=a;e.style.fontSize=c+"px";d=e.clientHeight;q.S.$F[a+"."+c]=d;e.innerHTML="";return d};q.S.$F={};q.aN=q.Qa.extend({cd:null,target:null,sn:0,Lh:null,xn:!1,paused:!1,hh:null,ctor:function(){this.cd=[];this.ba=null;this.sn=0;this.Lh=null;this.paused=this.xn=!1;this.hh=null}});
q.yM=q.Qa.extend({hi:null,Co:null,Bf:null,$i:!1,C1:function(a,c){for(var d=0;d<a.length;d++)if(c==a[d].target)return a[d];return null},ctor:function(){this.hi={};this.Co=[];this.Bf=null;this.$i=!1},pR:function(a,c,d){if(!a)throw"cc.ActionManager.addAction(): action must be non-null";if(!c)throw"cc.ActionManager.addAction(): action must be non-null";var e=this.hi[c.Ac];e||(e=new q.aN,e.paused=d,e.target=c,this.hi[c.Ac]=e,this.Co.push(e));this.mO(e);e.cd.push(a);a.ia(c)},E$:function(){for(var a=this.Co,
c=0;c<a.length;c++){var d=a[c];d&&this.GK(d.target,!0)}},GK:function(a,c){if(null!=a){var d=this.hi[a.Ac];d&&(-1===d.cd.indexOf(d.Lh)||d.xn||(d.xn=!0),d.cd=[],this.Bf!=d||c?this.rA(d):this.$i=!0)}},FK:function(a){if(null!=a){var c=this.hi[a.Rm.Ac];if(c)for(var d=0;d<c.cd.length;d++){if(c.cd[d]==a){c.cd.splice(d,1);break}}else q.log("cocos2d: removeAction: Target not found")}},iW:function(a,c){a==q.jo&&q.log("cc.ActionManager.removeActionByTag(): an invalid tag");if(!c)throw"cc.ActionManager.removeActionByTag(): target must be non-null";
var d=this.hi[c.Ac];if(d)for(var e=d.cd.length,f=0;f<e;++f){var g=d.cd[f];if(g&&g.Ed===a&&g.Rm==c){this.WP(f,d);break}}},OC:function(a,c){a==q.jo&&q.log("cc.ActionManager.getActionByTag(): an invalid tag");var d=this.hi[c.Ac];if(d){if(null!=d.cd)for(var e=0;e<d.cd.length;++e){var f=d.cd[e];if(f&&f.Ed===a)return f}q.log("cocos2d : getActionByTag(tag \x3d"+a+"): Action not found")}return null},jK:function(a){return(a=this.hi[a.Ac])?a.cd?a.cd.length:0:0},jt:function(a){if(a=this.hi[a.Ac])a.paused=!0},
Un:function(a){if(a=this.hi[a.Ac])a.paused=!1},i$:function(){for(var a=[],c=this.Co,d=0;d<c.length;d++){var e=c[d];e&&!e.paused&&(e.paused=!0,a.push(e.target))}return a},EW:function(a){if(a)for(var c=0;c<a.length;c++)a[c]&&this.Un(a[c])},s$:function(){q.fa.g().Of().wq(this)},WP:function(a,c){c.cd[a]!=c.Lh||c.xn||(c.xn=!0);q.Aq(c.cd,a);c.sn>=a&&c.sn--;0==c.cd.length&&(this.Bf==c?this.$i=!0:this.rA(c))},rA:function(a){a&&(delete this.hi[a.target.Ac],q.pe(this.Co,a),a.cd=null,a.target=null)},mO:function(a){null==
a.cd&&(a.cd=[])},update:function(a){for(var c=this.Co,d,e=0;e<c.length;e++){d=this.Bf=c[e];if(!d.paused)for(d.sn=0;d.sn<d.cd.length;d.sn++)if(d.Lh=d.cd[d.sn],d.Lh){d.xn=!1;d.Lh.step(a);if(d.xn)d.Lh=null;else if(d.Lh.Gi()){d.Lh.stop();var f=d.Lh;d.Lh=null;this.FK(f)}d.Lh=null}this.$i&&0===d.cd.length&&this.rA(d)}}});q.Af=q.Qa.extend({T:null,jw:q.Oj(),Yf:0,ctor:function(a,c,d){this.T=q.a(a||0,c||0);this.Yf=d||0},t5:function(){return this.T},xT:function(){return this.jw},M4:function(){return q.Vd(this.T,this.jw)},k5:function(){return this.Yf},l5:function(){return this.Yf},rE:function(a,c,d){this.jw=this.T;this.T=q.a(c||0,d||0);this.Yf=a},fg:function(a,c){this.jw=q.a(a||0,c||0)}});
q.VF=q.Qa.extend({f1:null,vb:function(){return!1},Ud:function(){},fh:function(){},Fk:function(){},nK:function(){},qK:function(){},pK:function(){},oK:function(){},cda:function(){},bda:function(){}});q.D0=q.VF.extend({vb:function(){return!1},Ud:function(){},fh:function(){},Fk:function(){}});q.t0=q.VF.extend({nK:function(){},qK:function(){},pK:function(){},oK:function(){}});q.yo=q.Qa.extend({Fa:null,Ff:0,Xo:0,Cc:function(){return this.Fa},tg:function(a){this.Fa=a},yT:function(){return this.Ff},ut:function(a){this.Ff=a},jT:function(){return this.Xo},kX:function(a){this.Xo=a},Bk:function(a,c){if(!a)throw"cc.TouchHandler.initWithDelegate(): touch delegate should not be null";this.Fa=a;this.Ff=c;this.Xo=0;return!0}});q.yo.create=function(a,c){var d=new q.yo;d&&d.Bk(a,c);return d};q.zz=q.yo.extend({Bk:function(a,c){return q.yo.prototype.Bk.call(this,a,c)}});
q.zz.create=function(a,c){var d=new q.zz;d&&d.Bk(a,c);return d};q.Ou=q.yo.extend({xw:!1,Qo:null,E8:function(){return this.xw},Oba:function(a){this.xw=a},x4:function(){return this.Qo},Bk:function(a,c,d){return q.yo.prototype.Bk.call(this,a,c)?(this.Qo=[],this.xw=d,!0):!1}});q.Ou.create=function(a,c,d){var e=new q.Ou;e&&e.Bk(a,c,d);return e};q.ZN=1;q.bO=2;q.aO=4;q.$N=8;q.G0=q.ZN|q.bO|q.aO|q.$N;q.Dz=0;q.Gz=1;q.Fz=2;q.Ez=3;q.F0=4;q.ZJ=function(a,c){return a.Ff>c.Ff};q.Su=function(a){this.type=a};
q.ta=q.Qa.extend({kk:!1,kf:null,jf:null,Nm:!1,vs:!1,Hw:!1,fl:null,bk:null,Gw:!1,Yj:!1,gP:[new q.Su(q.Dz),new q.Su(q.Gz),new q.Su(q.Fz),new q.Su(q.Ez)],A:function(){this.Yj=!0;this.kf=[];this.jf=[];this.fl=[];this.bk=[];this.kk=this.Nm=this.Gw=this.vs=this.Hw=!1;q.ta.eW();return!0},ds:function(a){this.kk=a},bP:function(){return this.kk},d8:function(){return this.Yj},iX:function(a){this.Yj=a},qO:function(a,c){var d=q.zz.create(a,c||0);this.Nm?-1!=this.bk.indexOf(a)?q.pe(this.bk,a):(this.fl.push(d),
this.vs=!0):this.jf=this.Rp(d,this.jf)},rO:function(a,c,d){c=q.Ou.create(a,c,d);this.Nm?-1!=this.bk.indexOf(a)?q.pe(this.bk,a):(this.fl.push(c),this.vs=!0):this.kf=this.Rp(c,this.kf)},Rp:function(a,c){for(var d=0,e,f=0;f<c.length;f++)if(e=c[f])if(e.Ff<a.Ff&&++d,e.Cc()==a.Cc())return q.log("cc.TouchDispatcher.forceAddHandler(): The handler has been added."),c;return q.om(c,a,d)},NI:function(){this.jf.length=0;this.kf.length=0},ZP:function(a){if(null!=a)if(this.Nm){var c=this.II(this.fl,a);c?q.pe(this.fl,
c):(this.bk.push(a),this.Hw=!0)}else this.OI(a)},kW:function(){this.Nm?this.Gw=!0:this.NI()},ut:function(a,c){if(!c)throw"cc.TouchDispatcher.setPriority(): delegate should be non-null.";var d=this.II(c);d?d.Ff!=a&&(d.ut(a),this.AK(this.kf),this.AK(this.jf)):q.log("cc.TouchDispatcher.setPriority(): Can't find TouchHandler.")},touches:function(a,c,d){if(0>d||4<=d)throw"cc.TouchDispatcher.touches(): invalid index";this.Nm=!0;var e=this.kf.length,f=this.jf.length,g=e&&f,h=g?a.slice():a,k=this.gP[d];if(0<
e)for(var l,m,p=0;p<a.length;p++)for(var e=a[p],s=0;s<this.kf.length;s++){l=this.kf[s];if(!l)break;m=!1;if(d==q.Dz)l.Cc().vb&&(m=l.Cc().vb(e,c))&&l.Qo.push(e);else if(0<l.Qo.length)switch(m=!0,k.type){case q.Gz:q.La.yj?l.Cc().Ud&&l.Cc().Ud(e,c):this.kk&&l.Cc().Ud&&l.Cc().Ud(e,c);break;case q.Fz:l.Cc().fh&&l.Cc().fh(e,c);l.Qo.length=0;break;case q.Ez:l.Cc().Fk&&l.Cc().Fk(e,c),l.Qo.length=0}if(m&&l.xw){g&&q.pe(h,e);break}}if(0<f)for(p=0;p<this.jf.length&&(l=this.jf[p],l);p++);this.Nm=!1;if(this.Hw){this.Hw=
!1;for(p=0;p<this.bk.length;p++)this.OI(this.bk[p]);this.bk.length=0}if(this.vs){this.vs=!1;for(p=0;p<this.fl.length;p++){l=this.fl[p];if(!l)break;l instanceof q.Ou?this.kf=this.Rp(l,this.kf):this.jf=this.Rp(l,this.jf)}this.fl.length=0}this.Gw&&(this.Gw=!1,this.NI())},ry:function(a,c){this.Yj&&this.touches(a,c,q.Dz)},sy:function(a,c){this.Yj&&this.touches(a,c,q.Gz)},Dt:function(a,c){this.Yj&&this.touches(a,c,q.Fz)},JE:function(a,c){this.Yj&&this.touches(a,c,q.Ez)},II:function(a,c){switch(arguments.length){case 1:c=
arguments[0];if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(var d=0;d<this.kf.length;d++)if(this.kf[d].Cc()==c)return this.kf[d];for(d=0;d<this.jf.length;d++)if(this.jf[d].Cc()==c)return this.jf[d];return null;case 2:if(!a)throw"cc.TouchDispatcher.findHandler(): array should be non-null.";if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(d=0;d<a.length;d++)if(a[d].Cc()==c)return a[d];return null;default:throw"Argument must be non-nil ";
}},OI:function(a){for(var c,d=0;d<this.jf.length;d++)if((c=this.jf[d])&&c.Cc()==a){q.pe(this.jf,c);break}for(d=0;d<this.kf.length;d++)if((c=this.kf[d])&&c.Cc()==a){q.pe(this.kf,c);break}},AK:function(a){a.sort(q.ZJ)}});q.ta.Db=q.a(0,0);q.ta.OJ=!1;
q.tj=function(a){var c=document.documentElement,d=window,e=null,e="function"===typeof a.getBoundingClientRect?a.getBoundingClientRect():a instanceof HTMLCanvasElement?{left:0,top:0,width:a.width,height:a.height}:{left:0,top:0,width:parseInt(a.style.width),height:parseInt(a.style.height)};return{left:e.left+d.pageXOffset-c.clientLeft,top:e.top+d.pageYOffset-c.clientTop,width:e.width,height:e.height}};
q.KN=function(a,c){var d=q.tj(a),e,f;null!=c.pageX?(e=c.pageX,f=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,e=c.clientX,f=c.clientY);e=q.sa.g().xk(e,f,d);d=new q.Af(e.x,e.y);d.fg(q.ta.Db.x,q.ta.Db.y);q.ta.Db.x=e.x;q.ta.Db.y=e.y;e=[];e.push(d);q.sa.g().Dt(e,null)};
q.ta.eW=function(){var a=q.canvas;if(!q.ta.OJ){if(q.La.yj)if(window.navigator.msPointerEnabled){var c={MSPointerDown:"touchesBegan",MSPointerMove:"touchesMoved",MSPointerUp:"touchesEnded",MSPointerCancel:"touchesCancelled"},d;for(d in c)(function(c,d){a.addEventListener(c,function(c){var e=q.tj(a);e.left-=document.body.scrollLeft;e.top-=document.body.scrollTop;var k,l;k=c.clientX;l=c.clientY;k=q.sa.g().xk(k,l,e);e=new q.Af(k.x,k.y);e.fg(q.ta.Db.x,q.ta.Db.y);q.ta.Db.x=k.x;q.ta.Db.y=k.y;q.fa.g().mf[d]([e],
null);c.stopPropagation();c.preventDefault()},!1)})(d,c[d])}else a.addEventListener("touchstart",function(c){if(c.changedTouches){var d=[],g=q.tj(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,p=0;p<m;p++)if(h=c.changedTouches[p])k=h.clientX,l=h.clientY,k=q.sa.g().xk(k,l,g),h.hasOwnProperty("identifier")?(h=new q.Af(k.x,k.y,h.identifier),l=q.ta.Fv(h).T,h.fg(l.x,l.y),q.ta.jH(h)):(h=new q.Af(k.x,k.y),h.fg(q.ta.Db.x,q.ta.Db.y)),q.ta.Db.x=k.x,
q.ta.Db.y=k.y,d.push(h);q.sa.g().ry(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchmove",function(c){if(c.changedTouches){var d=[],g=q.tj(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,p=0;p<m;p++)if(h=c.changedTouches[p])k=h.clientX,l=h.clientY,k=q.sa.g().xk(k,l,g),h.hasOwnProperty("identifier")?(h=new q.Af(k.x,k.y,h.identifier),l=q.ta.Fv(h).T,h.fg(l.x,l.y),q.ta.jH(h)):(h=new q.Af(k.x,k.y),h.fg(q.ta.Db.x,q.ta.Db.y)),
q.ta.Db.x=k.x,q.ta.Db.y=k.y,d.push(h);q.sa.g().sy(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchend",function(c){if(c.changedTouches){var d=[],g=q.tj(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,p=0;p<m;p++)if(h=c.changedTouches[p])k=h.clientX,l=h.clientY,k=q.sa.g().xk(k,l,g),h.hasOwnProperty("identifier")?(h=new q.Af(k.x,k.y,h.identifier),l=q.ta.Fv(h).T,h.fg(l.x,l.y),q.ta.rG(h)):(h=new q.Af(k.x,k.y),h.fg(q.ta.Db.x,
q.ta.Db.y)),q.ta.Db.x=k.x,q.ta.Db.y=k.y,d.push(h);q.sa.g().Dt(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchcancel",function(c){if(c.changedTouches){var d=[],g=q.tj(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,p=0;p<m;p++)if(h=c.changedTouches[p])k=h.clientX,l=h.clientY,k=q.sa.g().xk(k,l,g),h.hasOwnProperty("identifier")?(h=new q.Af(k.x,k.y,h.identifier),l=q.ta.Fv(h).T,h.fg(l.x,l.y),q.ta.rG(h)):(h=new q.Af(k.x,
k.y),h.fg(q.ta.Db.x,q.ta.Db.y)),q.ta.Db.x=k.x,q.ta.Db.y=k.y,d.push(h);q.sa.g().JE(d,null);c.stopPropagation();c.preventDefault()}},!1);else window.addEventListener("mousedown",function(){q.fa.g().mf.ds(!0)}),window.addEventListener("mouseup",function(c){q.fa.g().mf.ds(!1);var d=q.tj(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);q.wb(new q.Dg(d.left,d.top,d.width,d.height),q.a(g,c))||(g=q.sa.g().xk(g,c,d),d=new q.Af(g.x,
g.y),d.fg(q.ta.Db.x,q.ta.Db.y),q.ta.Db.x=g.x,q.ta.Db.y=g.y,g=[],g.push(d),q.sa.g().Dt(g,null))}),a.addEventListener("mousedown",function(c){var d=q.tj(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=q.sa.g().xk(g,c,d);d=new q.Af(g.x,g.y);d.fg(q.ta.Db.x,q.ta.Db.y);q.ta.Db.x=g.x;q.ta.Db.y=g.y;g=[];g.push(d);q.sa.g().ry(g,null)}),a.addEventListener("mouseup",function(c){q.KN(a,c)}),a.addEventListener("mousemove",function(c){var d=
q.tj(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=q.sa.g().xk(g,c,d);d=new q.Af(g.x,g.y);d.fg(q.ta.Db.x,q.ta.Db.y);q.ta.Db.x=g.x;q.ta.Db.y=g.y;g=[];g.push(d);q.sa.g().sy(g,null)});q.ta.OJ=!0}};q.ta.Fv=function(a){for(var c=null,d=q.ta.kB,e=a.Yf,f=d.length-1;0<=f;f--)if(d[f].Yf==e){c=d[f];break}c||(c=a);return c};
q.ta.jH=function(a){for(var c=!1,d=q.ta.kB,e=a.Yf,f=d.length-1;0<=f;f--)if(d[f].Yf==e){d[f]=a;c=!0;break}c||(50>=d.length?d.push(a):(d[q.ta.lB]=a,q.ta.lB=(q.ta.lB+1)%50))};q.ta.rG=function(a){var c,d=q.ta.kB;c=a.Yf;for(a=d.length-1;0<=a;a--)if(d[a].Yf==c){c=d.pop();a!=d.length&&(d[a]=c);break}};q.ta.kB=[];q.ta.lB=0;q.PD=function(a,c,d){q.fa.g().mf.rO(d,a,c)};q.fW=function(a,c){q.fa.g().mf.qO(a,c)};q.eM=function(a){q.fa.g().mf.ZP(a)};q.tN=1;q.rF=2;q.w_=4;q.xN=8;q.X_=16;q.Y_=32;q.Z_=64;q.J_=128;q.K_=256;q.L_=512;q.JF=1024;q.uN=2048;q.vN=4096;q.wN=0;q.x_=1;q.sF=2;q.z_=q.Qa.extend({eV:function(){return!1},fV:function(){return!1},Vh:function(){return!1},iV:function(){return!1},mV:function(){return!1},nV:function(){return!1},oV:function(){return!1},jV:function(){return!1},kV:function(){return!1},lV:function(){return!1},pV:function(){return!1},gV:function(){return!1},hV:function(){return!1}});
q.yN=q.Af.extend({NH:0,jG:q.wN,t7:function(){return this.NH},IL:function(a){this.NH=a},p4:function(){return this.jG},YW:function(a){this.jG=a}});q.jz=q.Qa.extend({Fa:null,Ff:0,Xo:0,Cc:function(){return this.Fa},tg:function(a){this.Fa=a},yT:function(){return this.Ff},ut:function(a){this.Ff=a},jT:function(){return this.Xo},kX:function(a){this.Xo=a},Bk:function(a,c){this.Fa=a;this.Ff=c}});q.jz.create=function(a,c){var d=new q.jz;d.Bk(a,c);return d};
q.te=q.Qa.extend({kk:!1,nw:!1,Zf:null,Yj:!1,A:function(){this.Yj=!0;this.Zf=[];this.nw=this.kk=!1;q.te.UP();return!0},ds:function(a){this.kk=a},bP:function(){return this.kk},kH:function(a){this.nw=a},m1:function(){return this.nw},YH:function(a,c){var d=q.jz.create(a,c);this.Zf=this.Rp(d,this.Zf)},Rp:function(a,c){for(var d=0,e=0;e<c.length;e++){var f=c[e];if(f&&(f.Ff<a.Ff&&++d,f.Cc()==a.Cc()))return q.log("cc.MouseDispatcher.forceAddHandler(): handler has been added."),c}return q.om(c,a,d)},HK:function(a){if(null!=
a)for(var c=0;c<this.Zf.length;c++){var d=this.Zf[c];if(d&&d.Cc()==a){q.pe(this.Zf,d);break}}},$O:function(a){for(var c=0;c<this.Zf.length;c++)if(this.Zf[c]&&this.Zf[c].Cc()==a)return this.Zf[c];return null},ut:function(a,c){if(!c)throw"cc.MouseDispatcher.setPriority(): delegate should be non-null";var d=this.$O(c);d?d.Ff!=a&&(d.ut(a),this.Zf.sort(q.ZJ)):q.log("cc.MouseDispatcher.setPriority(): Can't find MouseHandler in array")},H$:function(){this.Zf.length=0},Jn:function(a,c,d){for(c=0;c<this.Zf.length;c++){var e=
this.Zf[c];switch(d){case q.rF:this.kk||this.nw||!e.Cc().Vh||e.Cc().Vh(a)}}}});q.te.iw=q.a(0,0);q.te.xP=!1;
q.te.UP=function(){var a=q.canvas;function c(c){var e=q.tj(a),f=c.pageX,g=c.pageY,h=q.sa.g(),f=(f-e.left)/h.wa,e=(e.height-(g-e.top))/h.Ea,g=new q.yN(f,e);g.fg(q.te.iw.x,q.te.iw.y);g.YW(c.button);q.te.iw.x=f;q.te.iw.y=e;return g}q.te.xP||(window.addEventListener("mousedown",function(a){a.button==q.sF?q.fa.g().Nf().kH(!0):q.fa.g().Nf().ds(!0)}),window.addEventListener("mouseup",function(a){a.button==q.sF?q.fa.g().Nf().kH(!1):q.fa.g().Nf().ds(!1)}),a.addEventListener("mousedown",function(a){q.fa.g().Nf().Jn(c(a),
a,q.tN)}),a.addEventListener("mouseup",function(a){q.fa.g().Nf().Jn(c(a),a,q.xN)}),a.addEventListener("mousemove",function(a){q.fa.g().Nf().Jn(c(a),a,q.rF)}),a.addEventListener("mousewheel",function(a){var e=c(a);e.IL(a.wheelDelta);q.fa.g().Nf().Jn(e,a,q.JF)},!1),a.addEventListener("DOMMouseScroll",function(a){var e=c(a);e.IL(-120*a.detail);q.fa.g().Nf().Jn(e,a,q.JF)}),a.addEventListener("mouseout",function(a){q.fa.g().Nf().Jn(c(a),a,q.vN)},!1),a.addEventListener("mouseover",function(a){q.fa.g().Nf().Jn(c(a),
a,q.uN)},!1))};q.qda=function(){return{x:0,y:0}};q.im=function(a,c){return{x:a,y:c}};q.ph=function(a,c){return q.im(a.x+c.x,a.y+c.y)};q.Hd=function(a,c){return q.im(a.x-c.x,a.y-c.y)};q.yg=function(a,c){return q.im(a.x*c,a.y*c)};q.Cy=function(a){return q.im(-a.y,a.x)};q.Ij=function(a){return q.im(-a.x,-a.y)};q.PY=function(a,c){return a.x*c.x+a.y*c.y};q.pda=function(a){return q.im(Math.cos(a),Math.sin(a))};q.OE=function(a){a=q.Wh(q.a(a.x,a.y));return q.im(a.x,a.y)};q.Si=function(a){return q.im(a.x,a.y)};
q.Nb=function(a){return{Xa:a.x,va:a.y}};
q.TM=q.G.extend({nb:null,qa:null,Vo:null,jp:null,Ts:function(){return this.qa},Xl:function(a){this.qa=a},Haa:function(a){this.Vo=q.i(a.t,a.p,a.o,a.Q)},$aa:function(a){this.jp=null==a?null:q.i(a.t,a.p,a.o,a.Q)},hx:function(){return q.i(this.Vo.t,this.Vo.p,this.Vo.o,this.Vo.Q)},XI:function(){return this.jp?q.i(this.jp.t,this.jp.p,this.jp.o,this.jp.Q):null},ctor:function(){q.G.prototype.ctor.call(this);this.nb=[];this.Vo=q.i(0,0,0,255);this.qa=new q.qm(q.Ye,q.Xe)},$a:function(a){a=a||q.ea;var c=q.sa.g().wa;
this.qa&&770==this.qa.src&&1==this.qa.Ub&&(a.globalCompositeOperation="lighter");for(var d=0;d<this.nb.length;d++){var e=this.nb[d];e.type===q.Bg.SF&&(a.fillStyle="rgba("+(0|e.color.t)+","+(0|e.color.p)+","+(0|e.color.o)+","+e.color.Q/255+")",q.He.FC(e.position,e.ND));e.type===q.Bg.TF&&(a.strokeStyle="rgba("+(0|e.color.t)+","+(0|e.color.p)+","+(0|e.color.o)+","+e.color.Q/255+")",a.lineWidth=2*e.ND*c,a.lineCap="round",q.He.zi(e.from,e.gm));e.type===q.Bg.Hz&&(a.fillStyle="rgba("+(0|e.fillColor.t)+","+
(0|e.fillColor.p)+","+(0|e.fillColor.o)+","+e.fillColor.Q/255+")",q.He.je(e.Dy,e.count,!1,!0),a.lineWidth=2*e.borderWidth*c,a.lineCap="round",a.strokeStyle="rgba("+(0|e.borderColor.t)+","+(0|e.borderColor.p)+","+(0|e.borderColor.o)+","+e.borderColor.Q/255+")",q.He.je(e.Dy,e.count,!0,!1))}},GC:function(a,c,d,e,f,g){f=f||this.u1;g=g||this.hx();null==g.Q&&(g.Q=255);for(var h=[],k=0,l=0;l<e;l++)h.push(q.a(Math.pow(1-k,2)*a.x+2*(1-k)*k*c.x+k*k*d.x,Math.pow(1-k,2)*a.y+2*(1-k)*k*c.y+k*k*d.y)),k+=1/e;h.push(q.a(d.x,
d.y));a=new q.av(q.Bg.Hz);a.Dy=h;a.lineWidth=f;a.fillColor=g;a.borderColor=g;a.D8=!0;a.lineCap="round";this.nb.push(a)},NS:function(a,c,d){var e=new q.av(q.Bg.SF);e.position=q.a(a.x,a.y);e.ND=c;e.color=d;this.nb.push(e)},RS:function(a,c,d,e){var f=new q.av(q.Bg.TF);f.from=q.a(a.x,a.y);f.gm=q.a(c.x,c.y);f.ND=d?d:1;f.color=e?e:this.hx();this.nb.push(f)},je:function(a,c,d,e){var f=new q.av(q.Bg.Hz);f.Dy=a;f.count=a.length;f.fillColor=c?c:this.hx();f.borderWidth=d?d:1;f.borderColor=e?e:this.XI()?this.XI():
this.hx();this.nb.push(f)},clear:function(){this.nb.length=0}});
q.UM=q.G.extend({Ho:0,nb:null,wl:null,AH:null,zH:null,qa:null,Ra:!1,Ts:function(){return this.qa},Xl:function(a){this.qa=a},ctor:function(){q.G.prototype.ctor.call(this);this.nb=[];this.qa=new q.qm(q.Ye,q.Xe)},A:function(){return q.G.prototype.A.call(this)?(this.lh(q.di.g().Li(q.i0)),this.BA(512),this.AH=q.ea.createBuffer(),this.Ra=!0):!1},eQ:function(){var a=q.ea;q.Ne(q.Vu);a.bindBuffer(a.ARRAY_BUFFER,this.AH);this.Ra&&(a.bufferData(a.ARRAY_BUFFER,this.wl,a.STREAM_DRAW),this.Ra=!1);var c=q.oc.BYTES_PER_ELEMENT;
a.vertexAttribPointer(q.af,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(q.Qq,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(q.Rq,2,a.FLOAT,!1,c,12);a.drawArrays(a.TRIANGLES,0,3*this.nb.length);q.ai()},BA:function(a){if(this.nb.length+a>this.Ho){var c=q.Zc.BYTES_PER_ELEMENT;this.Ho+=Math.max(this.Ho,a);if(null==this.nb||0===this.nb.length)this.nb=[],this.wl=new ArrayBuffer(c*this.Ho),this.zH=new Uint8Array(this.wl);else{a=[];for(var d=new ArrayBuffer(c*this.Ho),e=0;e<this.nb.length;e++)a[e]=new q.Zc(this.nb[e].Q,
this.nb[e].o,this.nb[e].Na,d,e*c);this.zH=new Uint8Array(d);this.nb=a;this.wl=d}}},$a:function(){q.Ak(this.qa.src,this.qa.Ub);this.ad.zf();this.ad.EL();this.eQ()},NS:function(a,c,d){d={t:0|255*d.t,p:0|255*d.p,o:0|255*d.o,Q:0|255*d.Q};var e={C:{x:a.x-c,y:a.y-c},W:d,H:{Xa:-1,va:-1}},f={C:{x:a.x+c,y:a.y+c},W:d,H:{Xa:1,va:1}},g={C:{x:a.x+c,y:a.y-c},W:d,H:{Xa:1,va:-1}};this.nb.push(new q.Zc(e,{C:{x:a.x-c,y:a.y+c},W:d,H:{Xa:-1,va:1}},f,this.wl,this.nb.length*q.Zc.BYTES_PER_ELEMENT));this.nb.push(new q.Zc(e,
f,g,this.wl,this.nb.length*q.Zc.BYTES_PER_ELEMENT));this.Ra=!0},RS:function(a,c,d,e){this.BA(18);e={t:0|255*e.t,p:0|255*e.p,o:0|255*e.o,Q:0|255*e.Q};var f=q.Si(a);c=q.Si(c);a=q.OE(q.Cy(q.Hd(c,f)));var g=q.Cy(a),h=q.yg(a,d);d=q.yg(g,d);var k=q.ph(c,q.Hd(h,d)),l=q.Hd(c,h),m=q.ph(c,h),p=q.Hd(f,h),s=q.ph(f,h),u=q.Hd(f,q.Hd(h,d)),f=q.ph(f,q.ph(h,d)),w=q.Zc.BYTES_PER_ELEMENT,x=this.wl;this.nb.push(new q.Zc({C:q.Hd(c,q.ph(h,d)),W:e,H:q.Nb(q.Ij(q.ph(a,g)))},{C:k,W:e,H:q.Nb(q.Hd(a,g))},{C:l,W:e,H:q.Nb(q.Ij(a))},
x,this.nb.length*w));this.nb.push(new q.Zc({C:m,W:e,H:q.Nb(a)},{C:k,W:e,H:q.Nb(q.Hd(a,g))},{C:l,W:e,H:q.Nb(q.Ij(a))},x,this.nb.length*w));this.nb.push(new q.Zc({C:m,W:e,H:q.Nb(a)},{C:p,W:e,H:q.Nb(q.Ij(a))},{C:l,W:e,H:q.Nb(q.Ij(a))},x,this.nb.length*w));this.nb.push(new q.Zc({C:m,W:e,H:q.Nb(a)},{C:p,W:e,H:q.Nb(q.Ij(a))},{C:s,W:e,H:q.Nb(a)},x,this.nb.length*w));this.nb.push(new q.Zc({C:u,W:e,H:q.Nb(q.Hd(g,a))},{C:p,W:e,H:q.Nb(q.Ij(a))},{C:s,W:e,H:q.Nb(a)},x,this.nb.length*w));this.nb.push(new q.Zc({C:u,
W:e,H:q.Nb(q.Hd(g,a))},{C:f,W:e,H:q.Nb(q.ph(a,g))},{C:s,W:e,H:q.Nb(a)},x,this.nb.length*w));this.Ra=!0},je:function(a,c,d,e){c={t:0|255*c.t,p:0|255*c.p,o:0|255*c.o,Q:0|255*c.Q};e={t:0|255*e.t,p:0|255*e.p,o:0|255*e.o,Q:0|255*e.Q};var f=[],g,h,k,l,m=a.length;for(g=0;g<m;g++){h=q.Si(a[(g-1+m)%m]);k=q.Si(a[g]);l=q.Si(a[(g+1)%m]);var p=q.OE(q.Cy(q.Hd(k,h)));k=q.OE(q.Cy(q.Hd(l,k)));f[g]={offset:q.yg(q.ph(p,k),1/(q.PY(p,k)+1)),eK:k}}p=0<d;this.BA(3*(3*m-2));var s=q.Zc.BYTES_PER_ELEMENT,u=this.wl,w=this.nb,
x=!1==p?0.5:0;for(g=0;g<m-2;g++)h=q.Hd(q.Si(a[0]),q.yg(f[0].offset,x)),k=q.Hd(q.Si(a[g+1]),q.yg(f[g+1].offset,x)),l=q.Hd(q.Si(a[g+2]),q.yg(f[g+2].offset,x)),w.push(new q.Zc({C:h,W:c,H:q.Nb({x:0,y:0})},{C:k,W:c,H:q.Nb({x:0,y:0})},{C:l,W:c,H:q.Nb({x:0,y:0})},u,w.length*s));for(g=0;g<m;g++){x=(g+1)%m;h=q.Si(a[g]);k=q.Si(a[x]);l=f[g].eK;var F=f[g].offset,J=f[x].offset,x=p?q.Hd(h,q.yg(F,d)):q.Hd(h,q.yg(F,0.5)),E=p?q.Hd(k,q.yg(J,d)):q.Hd(k,q.yg(J,0.5));h=p?q.ph(h,q.yg(F,d)):q.ph(h,q.yg(F,0.5));k=p?q.ph(k,
q.yg(J,d)):q.ph(k,q.yg(J,0.5));p?(w.push(new q.Zc({C:x,W:e,H:q.Nb(q.Ij(l))},{C:E,W:e,H:q.Nb(q.Ij(l))},{C:k,W:e,H:q.Nb(l)},u,w.length*s)),w.push(new q.Zc({C:x,W:e,H:q.Nb(q.Ij(l))},{C:h,W:e,H:q.Nb(l)},{C:k,W:e,H:q.Nb(l)},u,w.length*s))):(w.push(new q.Zc({C:x,W:c,H:q.Nb({x:0,y:0})},{C:E,W:c,H:q.Nb({x:0,y:0})},{C:k,W:c,H:q.Nb(l)},u,w.length*s)),w.push(new q.Zc({C:x,W:c,H:q.Nb({x:0,y:0})},{C:h,W:c,H:q.Nb(l)},{C:k,W:c,H:q.Nb(l)},u,w.length*s)))}this.Ra=!0},clear:function(){this.nb.length=0;this.Ra=!0}});
q.Bg=q.La.gd?q.UM:q.TM;q.Bg.create=function(){var a=new q.Bg;return a&&a.A()?a:null};q.av=function(a){this.type=a};q.Bg.SF=0;q.Bg.TF=1;q.Bg.Hz=2;q.At=-1;q.sL=function(a,c){a.lh(c);var d=a.D;if(d)for(var e=0;e<d.length;e++)q.sL(d[e],c)};
q.Bb=q.G.extend({Hc:null,ym:0,ej:!1,AG:!1,ctor:function(){q.G.prototype.ctor.call(this);this.Hc=null;this.ym=0;this.ej=!1},A:null,SA:function(a){this.Hc=a;this.ym=1;this.ej=!1;q.Bb.UA=!0;q.Bb.UA&&(q.At=q.ea.getParameter(q.ea.STENCIL_BITS),0>=q.At&&q.log("Stencil buffer is not enabled."),q.Bb.UA=!1);return!0},RA:function(a){this.Hc=a;this.ym=1;this.ej=!1},eh:function(){q.G.prototype.eh.call(this);this.Hc.eh()},Ki:function(){q.G.prototype.Ki.call(this);this.Hc.Ki()},Uh:function(){this.Hc.Uh();q.G.prototype.Uh.call(this)},
me:function(){this.Hc.me();q.G.prototype.me.call(this)},Ca:null,nn:function(a){var c=a||q.ea;if(1>q.At)q.G.prototype.Ca.call(this,a);else if(this.Hc&&this.Hc.za)if(q.Bb.Pr=-1,q.Bb.Pr+1==q.At)q.Bb.kC=!0,q.Bb.kC&&(q.log("Nesting more than "+q.At+"stencils is not supported. Everything will be drawn without stencil for this node and its childs."),q.Bb.kC=!1),q.G.prototype.Ca.call(this,a);else{q.Bb.Pr++;var d=1<<q.Bb.Pr,e=d|d-1,f=c.isEnabled(c.STENCIL_TEST),g=c.getParameter(c.STENCIL_WRITEMASK),h=c.getParameter(c.STENCIL_FUNC),
k=c.getParameter(c.STENCIL_REF),l=c.getParameter(c.STENCIL_VALUE_MASK),m=c.getParameter(c.STENCIL_FAIL),p=c.getParameter(c.STENCIL_PASS_DEPTH_FAIL),s=c.getParameter(c.STENCIL_PASS_DEPTH_PASS);c.enable(c.STENCIL_TEST);c.stencilMask(d);var u=c.getParameter(c.DEPTH_WRITEMASK);c.depthMask(!1);c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.ej?c.REPLACE:c.ZERO,c.KEEP,c.KEEP);q.He.HC(q.Oj(),q.sV(),q.Tw(1,1,1,1));c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.ej?c.ZERO:c.REPLACE,c.KEEP,c.KEEP);if(1>this.ym){var d=
q.di.g().Li(q.k0),w=c.getUniformLocation(d.lx(),q.I0);q.A7(d.lx());d.DL(w,this.ym);q.sL(this.Hc,d)}q.kq();this.transform();this.Hc.Ca();q.jq();c.depthMask(u);c.stencilFunc(c.EQUAL,e,e);c.stencilOp(c.KEEP,c.KEEP,c.KEEP);q.G.prototype.Ca.call(this,a);c.stencilFunc(h,k,l);c.stencilOp(m,p,s);c.stencilMask(g);f||c.disable(c.STENCIL_TEST);q.Bb.Pr--}else this.ej&&q.G.prototype.Ca.call(this,a)},mn:function(a){if(this.Hc&&this.Hc.za){if(this.dA()||this.Hc instanceof q.v){a=a||q.ea;var c=a.canvas,d=q.Bb.eP();
d.width=c.width;d.height=c.height;d.getContext("2d").drawImage(c,0,0);a.save();this._super(a);a.globalCompositeOperation=this.ej?"destination-out":"destination-in";this.transform(a);this.Hc.Ca();a.restore();a.save();a.setTransform(1,0,0,1,0,0);a.globalCompositeOperation="destination-over";a.drawImage(d,0,0)}else{a=a||q.ea;var d=this.D,e;a.save();this.transform(a);this.Hc.Ca(a);a.clip();this.dA(!0);var f=d.length;if(0<f){this.oe();for(c=0;c<f;c++)if(e=d[c],0>e.pb)e.Ca(a);else break;for(this.$a(a);c<
f;c++)d[c].Ca(a)}else this.$a(a);this.dA(!1)}a.restore()}else this.ej&&q.G.prototype.Ca.call(this,a)},Q6:function(){return this.Hc},oE:null,JQ:function(a){this.Hc=a},IQ:function(a){this.Hc=a;var c=q.sa.g().wa,d=q.sa.g().Ea,e=q.ea;!(a instanceof q.v)&&a instanceof q.Bg&&(a.$a=function(){for(var f=0;f<a.nb.length;f++){var g=a.nb[f].Dy,h=g[0];e.beginPath();e.moveTo(h.x*c,-h.y*d);for(var h=1,k=g.length;h<k;h++)e.lineTo(g[h].x*c,-g[h].y*d)}})},c4:function(){return this.ym},paa:function(a){this.ym=a},m8:function(){return this.ej},
Xaa:function(a){this.ej=a},dA:function(a){if(!0===a||!1===a)q.Bb.prototype.AG=a;return q.Bb.prototype.AG}});q.La.gd?(q.Bb.prototype.A=q.Bb.prototype.SA,q.Bb.prototype.Ca=q.Bb.prototype.nn,q.Bb.prototype.oE=q.Bb.prototype.JQ):(q.Bb.prototype.A=q.Bb.prototype.RA,q.Bb.prototype.Ca=q.Bb.prototype.mn,q.Bb.prototype.oE=q.Bb.prototype.IQ);q.Bb.UA=null;q.Bb.kC=null;q.Bb.Pr=null;q.Bb.pH=null;q.Bb.eP=function(){return q.Bb.pH||(q.Bb.pH=document.createElement("canvas"))};
q.Bb.create=function(a){var c=new q.Bb;c.A(a);return c};q.i_=0;q.j_=1;q.k_=2;q.qo=function(a){a-=1;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;return(a|a>>16)+1};
q.yb=q.G.extend({Io:null,Jo:null,Bv:0,kr:0,fw:0,Ha:null,ss:null,$Q:null,cg:q.Rj,Cb:null,pv:0,Wj:null,jA:0,kA:0,Wq:!1,iA:null,ctor:null,ei:function(){q.G.prototype.ctor.call(this);this.Wj=q.Tw(1,1,1,1);this.iA="rgba(255,255,255,1)";this.Io=document.createElement("canvas");this.Jo=this.Io.getContext("2d");this.w(0,0)},fi:function(){q.G.prototype.ctor.call(this);this.Wj=q.Tw(0,0,0,0)},kg:null,IO:function(){q.G.prototype.me.call(this);this.Io=this.Jo=null},JO:function(){q.G.prototype.me.call(this);this.ss=
null;var a=q.ea;a.deleteFramebuffer(this.Bv);this.kr&&a.deleteRenderbuffer(this.kr);this.$Q=null},KT:function(){return this.Cb},vt:function(a){this.Cb=a},pD:null,pP:function(a,c){var d=this.Io,e=q.hd();d.width=0|a*e;d.height=0|c*e;this.Jo.translate(0,d.height);e=new q.rc;e.tf(d);e.ke();this.Cb=q.v.Ka(e);return!0},qP:function(a,c,d,e){d==q.Lq&&q.log("cc.RenderTexture._initWithWidthAndHeightForWebGL() : only RGB and RGBA formats are valid for a render texture;");var f=q.ea,g=q.hd();a=0|a*g;c=0|c*g;
this.fw=f.getParameter(f.FRAMEBUFFER_BINDING);var h;q.Ze.g().ps?(g=a,h=c):(g=q.qo(a),h=q.qo(c));for(var k=new Uint8Array(g*h*4),l=0;l<g*h*4;l++)k[l]=0;this.cg=d;this.Ha=new q.rc;if(!this.Ha)return!1;l=this.Ha;l.qx(k,this.cg,g,h,q.size(a,c));d=f.getParameter(f.RENDERBUFFER_BINDING);if(q.Ze.g().Pp("GL_QCOM")){this.ss=new q.rc;if(!this.ss)return!1;this.ss.qx(k,this.cg,g,h,q.size(a,c))}this.Bv=f.createFramebuffer();f.bindFramebuffer(f.FRAMEBUFFER,this.Bv);f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,
f.TEXTURE_2D,l.xi,0);0!=e&&(this.kr=f.createRenderbuffer(),f.bindRenderbuffer(f.RENDERBUFFER,this.kr),f.renderbufferStorage(f.RENDERBUFFER,e,g,h),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,this.kr));f.checkFramebufferStatus(f.FRAMEBUFFER)!==f.FRAMEBUFFER_COMPLETE&&q.log("Could not attach texture to the framebuffer");l.RK();a=this.Cb=q.v.Ka(l);a.Zn(-1);a.Xl(f.ONE,f.ONE_MINUS_SRC_ALPHA);f.bindRenderbuffer(f.RENDERBUFFER,d);f.bindFramebuffer(f.FRAMEBUFFER,this.fw);this.Wq=
!1;this.f(a);return!0},vk:null,yO:function(){q.ea=this.Jo;q.He.uL(q.ea);q.sa.g().FQ()},zO:function(){q.En(q.vu);q.kq();q.En(q.uu);q.kq();var a=q.fa.g();a.Zx(a.pl);var c=this.Ha.Da,d=q.fa.g().UT(),a=d.width/c.width,d=d.height/c.height,e=q.ea;e.viewport(0,0,c.width,c.height);c=new q.Rh;q.QU(c,-1/a,1/a,-1/d,1/d,-1,1);q.wx(c);this.fw=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,this.Bv);q.Ze.g().Pp("GL_QCOM")&&(e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,
this.ss.xi,0),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.Ha.xi,0))},uC:function(a,c,d,e,f,g){var h=q.ea;f=f||h.COLOR_BUFFER_BIT;g=g||h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT;this.aA(a,c,d,e,f,g,h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT|h.STENCIL_BUFFER_BIT)},aA:null,AO:function(a,c,d,e){this.vk();a=a||0;c=c||0;d=d||0;e=isNaN(e)?1:e;var f=this.Jo,g=this.Io;f.save();f.fillStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+
e+")";f.clearRect(0,0,g.width,-g.height);f.fillRect(0,0,g.width,-g.height);f.restore()},BO:function(a,c,d,e,f,g,h){this.vk();var k=q.ea,l=[0,0,0,0],m=0,p=0;h&k.COLOR_BUFFER_BIT&&(l=k.getParameter(k.COLOR_CLEAR_VALUE),k.clearColor(a,c,d,e));h&k.DEPTH_BUFFER_BIT&&(m=k.getParameter(k.DEPTH_CLEAR_VALUE),k.clearDepth(f));h&k.STENCIL_BUFFER_BIT&&(p=k.getParameter(k.STENCIL_CLEAR_VALUE),k.clearStencil(g));k.clear(h);h&k.COLOR_BUFFER_BIT&&k.clearColor(l[0],l[1],l[2],l[3]);h&k.DEPTH_BUFFER_BIT&&k.clearDepth(m);
h&k.STENCIL_BUFFER_BIT&&k.clearStencil(p)},end:null,YO:function(){q.ea=q.VU;q.He.uL(q.ea);q.sa.g().hQ()},ZO:function(){var a=q.ea,c=q.fa.g();a.bindFramebuffer(a.FRAMEBUFFER,this.fw);c.HL();q.En(q.vu);q.jq();q.En(q.uu);q.jq()},clear:function(a,c,d,e){this.uC(a,c,d,e);this.end()},clearRect:null,NO:function(a,c,d,e){this.Jo.clearRect(a,c,d,-e)},OO:function(){},clearDepth:null,LO:function(){q.log("clearDepth isn't supported on Cocos2d-Html5")},MO:function(a){this.vk();var c=q.ea,d=c.getParameter(c.DEPTH_CLEAR_VALUE);
c.clearDepth(a);c.clear(c.DEPTH_BUFFER_BIT);c.clearDepth(d);this.end()},clearStencil:null,PO:function(){q.log("clearDepth isn't supported on Cocos2d-Html5")},QO:function(a){var c=q.ea,d=c.getParameter(c.STENCIL_CLEAR_VALUE);c.clearStencil(a);c.clear(c.STENCIL_BUFFER_BIT);c.clearStencil(d)},Ca:null,mn:function(a){this.za&&(a=a||q.ea,a.save(),this.$a(a),this.transform(a),this.Cb.Ca(),a.restore(),this.ag=0)},nn:function(a){if(this.za){q.kq();var c=this.dl;c&&c.hq()&&(c.tC(),this.ty());this.transform(a);
this.Cb.Ca();this.$a(a);c&&c.hq()&&c.pC(this);q.jq();this.ag=0}},$a:null,Zj:function(a){a=a||q.ea;if(this.Wq){this.vk();if(this.pv){var c=this.Io;a.save();a.fillStyle=this.iA;a.clearRect(0,0,c.width,-c.height);a.fillRect(0,0,c.width,-c.height);a.restore()}this.oe();a=this.D;for(var c=a.length,d=this.Cb,e=0;e<c;e++){var f=a[e];f!=d&&f.Ca()}this.end()}},Jg:function(){var a=q.ea;if(this.Wq){this.vk();var c=this.pv;if(c){var d=[0,0,0,0],e=0,f=0;c&a.COLOR_BUFFER_BIT&&(d=a.getParameter(a.COLOR_CLEAR_VALUE),
a.clearColor(this.Wj.t,this.Wj.p,this.Wj.o,this.Wj.Q));c&a.DEPTH_BUFFER_BIT&&(e=a.getParameter(a.DEPTH_CLEAR_VALUE),a.clearDepth(this.jA));c&a.STENCIL_BUFFER_BIT&&(f=a.getParameter(a.STENCIL_CLEAR_VALUE),a.clearStencil(this.kA));a.clear(c);c&a.COLOR_BUFFER_BIT&&a.clearColor(d[0],d[1],d[2],d[3]);c&a.DEPTH_BUFFER_BIT&&a.clearDepth(e);c&a.STENCIL_BUFFER_BIT&&a.clearStencil(f)}this.oe();a=this.D;for(c=0;c<a.length;c++)d=a[c],d!=this.Cb&&d.Ca();this.end()}},fK:null,GP:function(){q.log("saveToFile isn't supported on Cocos2d-Html5");
return null},HP:function(){q.log("saveToFile isn't supported on Cocos2d-Html5");q.Mt(this.cg==q.Rj,"only RGBA8888 can be saved as image");if(!this.Ha)return null;var a=this.Ha.Da,c=a.width,a=a.height,d=new q.cN,e=q.ea,f=new Uint8Array(c*a*4);if(!f)return d;var g=new Uint8Array(c*a*4);if(!g)return null;this.vk();e.pixelStorei(e.PACK_ALIGNMENT,1);e.readPixels(0,0,c,a,e.RGBA,e.UNSIGNED_BYTE,g);this.end();for(e=0;e<a;++e)this.EP(f,e*c*4,g,(a-e-1)*c*4,4*c);d.N7(f,c*a*4,q.b_,c,a,8);return d},EP:function(a,
c,d,e,f){for(var g=0;g<f;g++)a[c+g]=d[e+g]},daa:function(){q.log("saveToFile isn't supported on Cocos2d-Html5")},a9:function(){q.log("listenToBackground isn't supported on Cocos2d-Html5")},b9:function(){q.log("listenToForeground isn't supported on Cocos2d-Html5")},A4:function(){return this.pv},waa:function(a){this.pv=a},y4:function(){return this.Wj},YK:null,pQ:function(a){var c=this.Wj;c.t=a.t;c.p=a.p;c.o=a.o;c.Q=a.Q;this.iA="rgba("+(0|255*a.t)+","+(0|255*a.p)+","+(0|255*a.o)+","+a.Q+")"},qQ:function(a){var c=
this.Wj;c.t=a.t;c.p=a.p;c.o=a.o;c.Q=a.Q},z4:function(){return this.jA},vaa:function(a){this.jA=a},B4:function(){return this.kA},xaa:function(a){this.kA=a},X7:function(){return this.Wq},raa:function(a){this.Wq=a}});
q.La.gd?(b=q.yb.prototype,b.ctor=q.yb.prototype.fi,b.kg=q.yb.prototype.JO,b.pD=q.yb.prototype.qP,b.vk=q.yb.prototype.zO,b.aA=q.yb.prototype.BO,b.end=q.yb.prototype.ZO,b.clearRect=q.yb.prototype.OO,b.clearDepth=q.yb.prototype.MO,b.clearStencil=q.yb.prototype.QO,b.Ca=q.yb.prototype.nn,b.$a=q.yb.prototype.Jg,b.fK=q.yb.prototype.HP,b.YK=q.yb.prototype.qQ):(b=q.yb.prototype,b.ctor=q.yb.prototype.ei,b.kg=q.yb.prototype.IO,b.pD=q.yb.prototype.pP,b.vk=q.yb.prototype.yO,b.aA=q.yb.prototype.AO,b.end=q.yb.prototype.YO,
b.clearRect=q.yb.prototype.NO,b.clearDepth=q.yb.prototype.LO,b.clearStencil=q.yb.prototype.PO,b.Ca=q.yb.prototype.mn,b.$a=q.yb.prototype.Zj,b.fK=q.yb.prototype.GP,b.YK=q.yb.prototype.pQ);q.yb.create=function(a,c,d,e){d=d||q.Rj;e=e||0;var f=new q.yb;return f&&f.pD(a,c,d,e)?f:null};q.jo=-1;
q.$d=q.Qa.extend({Rm:null,ba:null,Ed:q.jo,ctor:function(){this.ba=this.Rm=null;this.Ed=q.jo},description:function(){return"\x3ccc.Action | Tag \x3d "+this.Ed+"\x3e"},copy:function(){return q.clone(this)},clone:function(){var a=new q.$d;a.Rm=null;a.ba=null;a.Ed=this.Ed;return a},Gi:function(){return!0},ia:function(a){this.ba=this.Rm=a},stop:function(){this.ba=null},step:function(){q.log("[Action step]. override me")},update:function(){q.log("[Action update]. override me")},PT:function(){return this.ba},Pba:function(a){this.ba=
a},Z5:function(){return this.Rm},sba:function(a){this.Rm=a},OT:function(){return this.Ed},BL:function(a){this.Ed=a},MK:function(){},EK:function(){}});q.$d.create=function(){return new q.$d};q.Nj=q.$d.extend({Ga:0,ctor:function(){q.$d.prototype.ctor.call(this);this.Ga=0},Mf:function(){return this.Ga},Iaa:function(a){this.Ga=a},reverse:function(){q.log("cocos2d: FiniteTimeAction#reverse: Implement me");return null},clone:function(){return new q.Nj}});
q.Lu=q.$d.extend({Zm:0,Ob:null,ctor:function(){q.$d.prototype.ctor.call(this);this.Zm=0;this.Ob=null},J6:function(){return this.Zm},Iba:function(a){this.Zm=a},xa:function(a,c){if(!a)throw"cc.Speed.initWithAction(): action must be non nil";this.Ob=a;this.Zm=c;return!0},clone:function(){var a=new q.Lu;a.xa(this.Ob.clone(),this.Zm);return a},ia:function(a){q.$d.prototype.ia.call(this,a);this.Ob.ia(a)},stop:function(){this.Ob.stop();q.$d.prototype.stop.call(this)},step:function(a){this.Ob.step(a*this.Zm)},
Gi:function(){return this.Ob.Gi()},reverse:function(){return q.Lu.create(this.Ob.reverse(),this.Zm)},gL:function(a){this.Ob!=a&&(this.Ob=a)},QC:function(){return this.Ob}});q.Lu.create=function(a,c){var d=new q.Lu;return d&&d.xa(a,c)?d:null};
q.bz=q.$d.extend({ap:null,Fo:!1,kv:!1,Hv:null,Er:null,Fn:0,Vn:0,eo:0,wn:0,mC:null,ctor:function(){q.$d.prototype.ctor.call(this);this.ap=null;this.kv=this.Fo=!1;this.Er=this.Hv=null;this.wn=this.eo=this.Vn=this.Fn=0;this.mC=q.yd()},clone:function(){var a=new q.bz,c=this.mC,c=new q.Dg(c.x,c.y,c.width,c.height);a.Yg(this.ap,c);return a},Z7:function(){return this.Fo},taa:function(a){this.Fo=a},Yg:function(a,c){if(!a)throw"cc.Follow.initWithAction(): followedNode must be non nil";c=c||q.yd();this.ap=
a;this.mC=c;this.Fo=!q.$r(c);this.kv=!1;var d=q.fa.g().gc;this.Er=q.a(d.width,d.height);this.Hv=q.Bj(this.Er,0.5);this.Fo&&(this.Fn=-(c.x+c.width-this.Er.x),this.Vn=-c.x,this.eo=-c.y,this.wn=-(c.y+c.height-this.Er.y),this.Vn<this.Fn&&(this.Vn=this.Fn=(this.Fn+this.Vn)/2),this.eo<this.wn&&(this.eo=this.wn=(this.eo+this.wn)/2),this.eo==this.wn&&this.Fn==this.Vn&&(this.kv=!0));return!0},step:function(){var a=this.ap.u.J,c=this.ap.u.U,a=this.Hv.x-a,c=this.Hv.y-c;this.Fo?this.kv||this.ba.l(q.Ks(a,this.Fn,
this.Vn),q.Ks(c,this.wn,this.eo)):this.ba.l(a,c)},Gi:function(){return!this.ap.gf},stop:function(){this.ba=null;q.$d.prototype.stop.call(this)}});q.bz.create=function(a,c){c=c||new q.yd;var d=new q.bz;return null!=c&&d&&d.Yg(a,c)||d&&d.Yg(a)?d:null};q.$=q.Nj.extend({Bc:0,Dr:!1,ctor:function(){q.Nj.prototype.ctor.call(this);this.Bc=0;this.Dr=!1},S4:function(){return this.Bc},X:function(a){this.Ga=0===a?q.ou:a;this.Bc=0;return this.Dr=!0},Gi:function(){return this.Bc>=this.Ga},clone:function(){var a=new q.$;a.X(this.Ga);return a},step:function(a){this.Dr?(this.Dr=!1,this.Bc=0):this.Bc+=a;a=this.Bc/(1.192092896E-7<this.Ga?this.Ga:1.192092896E-7);a=1>a?a:1;this.update(0<a?a:0)},ia:function(a){q.$d.prototype.ia.call(this,a);this.Bc=0;this.Dr=!0},
reverse:function(){q.log("cc.IntervalAction: reverse not implemented.");return null},qaa:function(){q.log("cc.ActionInterval.setAmplitudeRate(): it should be overridden in subclass.")},d4:function(){q.log("cc.ActionInterval.getAmplitudeRate(): it should be overridden in subclass.")}});q.$.create=function(a){var c=new q.$;c.X(a);return c};
q.Qj=q.$.extend({Ti:null,MB:null,ip:0,ctor:function(){q.$.prototype.ctor.call(this);this.Ti=[];this.MB=null;this.ip=0},dt:function(a,c){if(!a||!c)throw"cc.Sequence.initWithTwoActions(): arguments must all be non nil";this.X(a.Mf()+c.Mf());this.Ti[0]=a;this.Ti[1]=c;return!0},clone:function(){var a=new q.Qj;a.dt(this.Ti[0].clone(),this.Ti[1].clone());return a},ia:function(a){q.$.prototype.ia.call(this,a);this.MB=this.Ti[0].Mf()/this.Ga;this.ip=-1},stop:function(){-1!==this.ip&&this.Ti[this.ip].stop();
q.$d.prototype.stop.call(this)},update:function(a){var c=0,d=this.MB,e=this.Ti,f=this.ip;a<d?(a=0!==d?a/d:1,0===c&&1===f&&(e[1].update(0),e[1].stop())):(c=1,a=1===d?1:(a-d)/(1-d),-1===f&&(e[0].ia(this.ba),e[0].update(1),e[0].stop()),f||(e[0].update(1),e[0].stop()));f===c&&e[c].Gi()||(f!==c&&e[c].ia(this.ba),e[c].update(a),this.ip=c)},reverse:function(){return q.Qj.wm(this.Ti[1].reverse(),this.Ti[0].reverse())},copy:function(){return this.clone()}});
q.Qj.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&q.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)c[e]&&(d=q.Qj.wm(d,c[e]));return d};q.Qj.wm=function(a,c){var d=new q.Qj;d.dt(a,c);return d};
q.Cu=q.$.extend({hg:0,pk:0,cw:0,bG:!1,Ob:null,ctor:function(){q.$.prototype.ctor.call(this);this.cw=this.pk=this.hg=0;this.bG=!1;this.Ob=null},xa:function(a,c){return this.X(a.Mf()*c)?(this.hg=c,this.Ob=a,a instanceof q.Ni&&(this.hg-=1),this.pk=0,!0):!1},clone:function(){var a=new q.Cu;a.xa(this.Ob.clone(),this.hg);return a},ia:function(a){this.pk=0;this.cw=this.Ob.Mf()/this.Ga;q.$.prototype.ia.call(this,a);this.Ob.ia(a)},stop:function(){this.Ob.stop();q.$d.prototype.stop.call(this)},update:function(a){var c=
this.Ob,d=this.Ga,e=this.hg,f=this.cw;if(a>=f){for(;a>f&&this.pk<e;)c.update(1),this.pk++,c.stop(),c.ia(this.ba),this.cw=f+=c.Mf()/d;1<=a&&this.pk<e&&this.pk++;this.bG&&(this.pk==e?(c.update(1),c.stop()):c.update(a-(f-c.Mf()/d)))}else c.update(a*e%1)},Gi:function(){return this.pk==this.hg},reverse:function(){return q.Cu.create(this.Ob.reverse(),this.hg)},gL:function(a){this.Ob!=a&&(this.Ob=a)},QC:function(){return this.Ob}});q.Cu.create=function(a,c){var d=new q.Cu;d.xa(a,c);return d};
q.Du=q.$.extend({Ob:null,ctor:function(){q.$.prototype.ctor.call(this);this.Ob=null},xa:function(a){if(!a)throw"cc.RepeatForever.initWithAction(): action must be non null";this.Ob=a;return!0},clone:function(){var a=new q.Du;a.xa(this.Ob.clone());return a},ia:function(a){q.$.prototype.ia.call(this,a);this.Ob.ia(a)},step:function(a){var c=this.Ob;c.step(a);c.Gi()&&(c.ia(this.ba),c.step(c.Bc-c.Mf()))},Gi:function(){return!1},reverse:function(){return q.Du.create(this.Ob.reverse())},gL:function(a){this.Ob!=
a&&(this.Ob=a)},QC:function(){return this.Ob}});q.Du.create=function(a){var c=new q.Du;return c&&c.xa(a)?c:null};
q.Kq=q.$.extend({lk:null,tk:null,ctor:function(){q.$.prototype.ctor.call(this);this.tk=this.lk=null},dt:function(a,c){if(!a||!c)throw"cc.Spawn.initWithTwoActions(): arguments must all be non null";var d=!1,e=a.Mf(),f=c.Mf();this.X(Math.max(e,f))&&(this.lk=a,this.tk=c,e>f?this.tk=q.Qj.wm(c,q.lo.create(e-f)):e<f&&(this.lk=q.Qj.wm(a,q.lo.create(f-e))),d=!0);return d},clone:function(){var a=new q.Kq;a.dt(this.lk.clone(),this.tk.clone());return a},ia:function(a){q.$.prototype.ia.call(this,a);this.lk.ia(a);
this.tk.ia(a)},stop:function(){this.lk.stop();this.tk.stop();q.$d.prototype.stop.call(this)},update:function(a){this.lk&&this.lk.update(a);this.tk&&this.tk.update(a)},reverse:function(){return q.Kq.wm(this.lk.reverse(),this.tk.reverse())}});q.Kq.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&q.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)null!=c[e]&&(d=this.wm(d,c[e]));return d};
q.Kq.wm=function(a,c){var d=new q.Kq;d.dt(a,c);return d};
q.tz=q.$.extend({or:0,$m:0,vA:0,zv:0,sl:0,wA:0,ctor:function(){q.$.prototype.ctor.call(this);this.wA=this.sl=this.zv=this.vA=this.$m=this.or=0},X:function(a,c,d){return q.$.prototype.X.call(this,a)?(this.or=c||0,this.zv=d||this.or,!0):!1},clone:function(){var a=new q.tz;a.X(this.Ga,this.or,this.zv);return a},ia:function(a){q.$.prototype.ia.call(this,a);var c=a.Pg%360,d=this.or-c;180<d&&(d-=360);-180>d&&(d+=360);this.$m=c;this.vA=d;this.sl=a.oi%360;a=this.zv-this.sl;180<a&&(a-=360);-180>a&&(a+=360);
this.wA=a},reverse:function(){q.log("cc.RotateTo.reverse(): it should be overridden in subclass.")},update:function(a){this.ba&&(this.ba.by(this.$m+this.vA*a),this.ba.cy(this.sl+this.wA*a))}});q.tz.create=function(a,c,d){var e=new q.tz;e.X(a,c,d);return e};
q.Fu=q.$.extend({Fg:0,$m:0,Vq:0,sl:0,ctor:function(){q.$.prototype.ctor.call(this);this.sl=this.Vq=this.$m=this.Fg=0},X:function(a,c,d){return q.$.prototype.X.call(this,a)?(this.Fg=c||0,this.Vq=d||this.Fg,!0):!1},clone:function(){var a=new q.Fu;a.X(this.Ga,this.Fg,this.Vq);return a},ia:function(a){q.$.prototype.ia.call(this,a);this.$m=a.Pg;this.sl=a.oi},update:function(a){this.ba&&(this.ba.by(this.$m+this.Fg*a),this.ba.cy(this.sl+this.Vq*a))},reverse:function(){return q.Fu.create(this.Ga,-this.Fg,
-this.Vq)}});q.Fu.create=function(a,c,d){var e=new q.Fu;e.X(a,c,d);return e};
q.Nk=q.$.extend({kj:null,ld:null,kd:null,ctor:function(){q.$.prototype.ctor.call(this);this.kj=q.a(0,0);this.ld=q.a(0,0);this.kd=q.a(0,0)},X:function(a,c){return q.$.prototype.X.call(this,a)?(this.kj.x=c.x,this.kj.y=c.y,!0):!1},clone:function(){var a=new q.Nk;a.X(this.Ga,this.kj);return a},ia:function(a){q.$.prototype.ia.call(this,a);var c=a.u.J;a=a.u.U;this.kd.x=c;this.kd.y=a;this.ld.x=c;this.ld.y=a},update:function(a){if(this.ba){var c=this.kj.x*a;a*=this.kj.y;var d=this.ld;if(q.Tt){var e=this.ba.u.U,
f=this.kd;d.x=d.x+this.ba.u.J-f.x;d.y=d.y+e-f.y;c+=d.x;a+=d.y;this.ba.l(c,a);f.x=c;f.y=a}else this.ba.l(d.x+c,d.y+a)}},reverse:function(){return q.Nk.create(this.Ga,q.a(-this.kj.x,-this.kj.y))}});q.Nk.create=function(a,c){var d=new q.Nk;d.X(a,c);return d};
q.xu=q.Nk.extend({$o:null,ctor:function(){q.Nk.prototype.ctor.call(this);this.$o=q.a(0,0)},X:function(a,c){return q.Nk.prototype.X.call(this,a,c)?(this.$o.x=c.x,this.$o.y=c.y,!0):!1},clone:function(){var a=new q.xu;a.X(this.Ga,this.$o);return a},ia:function(a){q.Nk.prototype.ia.call(this,a);this.kj.x=this.$o.x-a.u.J;this.kj.y=this.$o.y-a.u.U}});q.xu.create=function(a,c){var d=new q.xu;d.X(a,c);return d};
q.wo=q.$.extend({Fe:0,Ge:0,ls:0,ms:0,xr:0,yr:0,bf:0,cf:0,ctor:function(){q.$.prototype.ctor.call(this);this.cf=this.bf=this.yr=this.xr=this.ms=this.ls=this.Ge=this.Fe=0},X:function(a,c,d){var e=!1;q.$.prototype.X.call(this,a)&&(this.xr=c,this.yr=d,e=!0);return e},clone:function(){var a=new q.wo;a.X(this.Ga,this.xr,this.yr);return a},ia:function(a){q.$.prototype.ia.call(this,a);this.ls=a.Fe%180;this.bf=this.xr-this.ls;180<this.bf&&(this.bf-=360);-180>this.bf&&(this.bf+=360);this.ms=a.Ge%360;this.cf=
this.yr-this.ms;180<this.cf&&(this.cf-=360);-180>this.cf&&(this.cf+=360)},update:function(a){this.ba.dy(this.ls+this.bf*a);this.ba.ey(this.ms+this.cf*a)}});q.wo.create=function(a,c,d){var e=new q.wo;e&&e.X(a,c,d);return e};
q.Ju=q.wo.extend({X:function(a,c,d){var e=!1;q.wo.prototype.X.call(this,a,c,d)&&(this.Fe=c,this.Ge=d,e=!0);return e},clone:function(){var a=new q.Ju;a.X(this.Ga,this.Fe,this.Ge);return a},ia:function(a){q.wo.prototype.ia.call(this,a);this.bf=this.Fe;this.cf=this.Ge;this.xr=this.ls+this.bf;this.yr=this.ms+this.cf},reverse:function(){return q.Ju.create(this.Ga,-this.Fe,-this.Ge)}});q.Ju.create=function(a,c,d){var e=new q.Ju;e&&e.X(a,c,d);return e};
q.oo=q.$.extend({ld:null,Ig:null,ya:0,gp:0,kd:null,ctor:function(){q.$.prototype.ctor.call(this);this.ld=q.a(0,0);this.kd=q.a(0,0);this.Ig=q.a(0,0);this.gp=this.ya=0},X:function(a,c,d,e){return q.$.prototype.X.call(this,a)?(this.Ig.x=c.x,this.Ig.y=c.y,this.ya=d,this.gp=e,!0):!1},clone:function(){var a=new q.oo;a.X(this.Ga,this.Ig,this.ya,this.gp);return a},ia:function(a){q.$.prototype.ia.call(this,a);var c=a.u.J;a=a.u.U;this.kd.x=c;this.kd.y=a;this.ld.x=c;this.ld.y=a},update:function(a){if(this.ba){var c=
a*this.gp%1,c=4*this.ya*c*(1-c),c=c+this.Ig.y*a;a*=this.Ig.x;var d=this.ld;if(q.Tt){var e=this.ba.u.U,f=this.kd;d.x=d.x+this.ba.u.J-f.x;d.y=d.y+e-f.y;a+=d.x;c+=d.y;this.ba.l(a,c);f.x=a;f.y=c}else this.ba.l(d.x+a,d.y+c)}},reverse:function(){return q.oo.create(this.Ga,q.a(-this.Ig.x,-this.Ig.y),this.ya,this.gp)}});q.oo.create=function(a,c,d,e){var f=new q.oo;f.X(a,c,d,e);return f};
q.ez=q.oo.extend({ia:function(a){q.oo.prototype.ia.call(this,a);this.Ig.x-=this.ld.x;this.Ig.y-=this.ld.y},clone:function(){var a=new q.ez;a.X(this.Ga,this.Ig,this.ya,this.gp);return a}});q.ez.create=function(a,c,d,e){var f=new q.ez;f.X(a,c,d,e);return f};q.hI=function(a,c,d,e){return 0*Math.pow(1-e,3)+3*e*Math.pow(1-e,2)*a+3*Math.pow(e,2)*(1-e)*c+Math.pow(e,3)*d};
q.pm=q.$.extend({Em:null,ld:null,kd:null,ctor:function(){q.$.prototype.ctor.call(this);this.Em=[];this.ld=q.a(0,0);this.kd=q.a(0,0)},X:function(a,c){return q.$.prototype.X.call(this,a)?(this.Em=c,!0):!1},clone:function(){for(var a=new q.pm,c=[],d=0;d<this.Em.length;d++){var e=this.Em[d];c.push(q.a(e.x,e.y))}a.X(this.Ga,c);return a},ia:function(a){q.$.prototype.ia.call(this,a);var c=a.u.J;a=a.u.U;this.kd.x=c;this.kd.y=a;this.ld.x=c;this.ld.y=a},update:function(a){if(this.ba){var c=this.Em,d=q.hI(c[0].x,
c[1].x,c[2].x,a);a=q.hI(c[0].y,c[1].y,c[2].y,a);c=this.ld;if(q.Tt){var e=this.ba.u.U,f=this.kd;c.x=c.x+this.ba.u.J-f.x;c.y=c.y+e-f.y;d+=c.x;a+=c.y;this.ba.l(d,a);f.x=d;f.y=a}else this.ba.l(c.x+d,c.y+a)}},reverse:function(){var a=this.Em,a=[q.gh(a[1],q.ID(a[2])),q.gh(a[0],q.ID(a[2])),q.ID(a[2])];return q.pm.create(this.Ga,a)}});q.pm.create=function(a,c){var d=new q.pm;d.X(a,c);return d};
q.Ly=q.pm.extend({Ew:null,ctor:function(){q.pm.prototype.ctor.call(this);this.Ew=[]},X:function(a,c){return q.$.prototype.X.call(this,a)?(this.Ew=c,!0):!1},clone:function(){var a=new q.Ly;a.X(this.Ga,this.Ew);return a},ia:function(a){q.pm.prototype.ia.call(this,a);a=this.ld;var c=this.Ew,d=this.Em;d[0]=q.Vd(c[0],a);d[1]=q.Vd(c[1],a);d[2]=q.Vd(c[2],a)}});q.Ly.create=function(a,c){var d=new q.Ly;d.X(a,c);return d};
q.vo=q.$.extend({wa:1,Ea:1,zp:1,Ap:1,Gm:0,Hm:0,bf:0,cf:0,ctor:function(){q.$.prototype.ctor.call(this);this.Ap=this.zp=this.Ea=this.wa=1;this.cf=this.bf=this.Hm=this.Gm=0},X:function(a,c,d){return q.$.prototype.X.call(this,a)?(this.Gm=c,this.Hm=null!=d?d:c,!0):!1},clone:function(){var a=new q.vo;a.X(this.Ga,this.Gm,this.Hm);return a},ia:function(a){q.$.prototype.ia.call(this,a);this.zp=a.wa;this.Ap=a.Ea;this.bf=this.Gm-this.zp;this.cf=this.Hm-this.Ap},update:function(a){this.ba&&this.ba.Hk(this.zp+
this.bf*a,this.Ap+this.cf*a)}});q.vo.create=function(a,c,d){var e=new q.vo;e.X(a,c,d);return e};q.Hu=q.vo.extend({ia:function(a){q.vo.prototype.ia.call(this,a);this.bf=this.zp*this.Gm-this.zp;this.cf=this.Ap*this.Hm-this.Ap},reverse:function(){return q.Hu.create(this.Ga,1/this.Gm,1/this.Hm)},clone:function(){var a=new q.Hu;a.X(this.Ga,this.Gm,this.Hm);return a}});q.Hu.create=function(a,c,d){var e=new q.Hu;e.X(a,c,d);return e};
q.Nt=q.$.extend({hg:0,cB:!1,ctor:function(){q.$.prototype.ctor.call(this);this.hg=0;this.cB=!1},X:function(a,c){return q.$.prototype.X.call(this,a)?(this.hg=c,!0):!1},clone:function(){var a=new q.Nt;a.X(this.Ga,this.hg);return a},update:function(a){if(this.ba&&!this.Gi()){var c=1/this.hg;this.ba.B(a%c>c/2)}},ia:function(a){q.$.prototype.ia.call(this,a);this.cB=a.za},stop:function(){this.ba.B(this.cB);q.$.prototype.stop.call(this)},reverse:function(){return q.Nt.create(this.Ga,this.hg)}});
q.Nt.create=function(a,c){var d=new q.Nt;d.X(a,c);return d};q.pu=q.$.extend({update:function(a){this.ba.xb&&this.ba.ua(255*a)},reverse:function(){return q.qu.create(this.Ga)},clone:function(){var a=new q.pu;a.X(this.Ga);return a}});q.pu.create=function(a){var c=new q.pu;c.X(a);return c};q.qu=q.$.extend({update:function(a){this.ba.xb&&this.ba.ua(255*(1-a))},reverse:function(){return q.pu.create(this.Ga)},clone:function(){var a=new q.qu;a.X(this.Ga);return a}});
q.qu.create=function(a){var c=new q.qu;c.X(a);return c};q.az=q.$.extend({Fw:null,Ev:null,ctor:function(){q.$.prototype.ctor.call(this);this.Ev=this.Fw=0},X:function(a,c){return q.$.prototype.X.call(this,a)?(this.Fw=c,!0):!1},clone:function(){var a=new q.az;a.X(this.Ga,this.Fw);return a},update:function(a){this.ba.xb&&this.ba.ua(this.Ev+(this.Fw-this.Ev)*a)},ia:function(a){q.$.prototype.ia.call(this,a);this.ba.xb&&(this.Ev=a.uj())}});q.az.create=function(a,c){var d=new q.az;d.X(a,c);return d};
q.Jz=q.$.extend({Jf:null,Ae:null,ctor:function(){q.$.prototype.ctor.call(this);this.Jf=q.n(0,0,0);this.Ae=q.n(0,0,0)},X:function(a,c,d,e){return q.$.prototype.X.call(this,a)?(this.Jf=q.n(c,d,e),!0):!1},clone:function(){var a=new q.Jz,c=this.Jf;a.X(this.Ga,c.t,c.p,c.o);return a},ia:function(a){q.$.prototype.ia.call(this,a);this.ba.xb&&(this.Ae=this.ba.Fd())},update:function(a){var c=this.Ae,d=this.Jf;this.ba.xb&&this.ba.q(q.n(c.t+(d.t-c.t)*a,c.p+(d.p-c.p)*a,c.o+(d.o-c.o)*a))}});
q.Jz.create=function(a,c,d,e){var f=new q.Jz;f.X(a,c,d,e);return f};
q.Qu=q.$.extend({jr:0,ir:0,hr:0,HA:0,GA:0,FA:0,ctor:function(){q.$.prototype.ctor.call(this);this.FA=this.GA=this.HA=this.hr=this.ir=this.jr=0},X:function(a,c,d,e){return q.$.prototype.X.call(this,a)?(this.jr=c,this.ir=d,this.hr=e,!0):!1},clone:function(){var a=new q.Qu;a.X(this.Ga,this.jr,this.ir,this.hr);return a},ia:function(a){q.$.prototype.ia.call(this,a);a.xb&&(a=a.Fd(),this.HA=a.t,this.GA=a.p,this.FA=a.o)},update:function(a){this.ba.xb&&this.ba.q(q.n(this.HA+this.jr*a,this.GA+this.ir*a,this.FA+
this.hr*a))},reverse:function(){return q.Qu.create(this.Ga,-this.jr,-this.ir,-this.hr)}});q.Qu.create=function(a,c,d,e){var f=new q.Qu;f.X(a,c,d,e);return f};q.lo=q.$.extend({update:function(){},reverse:function(){return q.lo.create(this.Ga)},clone:function(){var a=new q.lo;a.X(this.Ga);return a}});q.lo.create=function(a){var c=new q.lo;c.X(a);return c};
q.Eu=q.$.extend({mk:null,ctor:function(){q.$.prototype.ctor.call(this);this.mk=null},xa:function(a){if(!a)throw"cc.ReverseTime.initWithAction(): action must be non null";if(a==this.mk)throw"cc.ReverseTime.initWithAction(): the action was already passed in.";return q.$.prototype.X.call(this,a.Mf())?(this.mk=a,!0):!1},clone:function(){var a=new q.Eu;a.xa(this.mk.clone());return a},ia:function(a){q.$.prototype.ia.call(this,a);this.mk.ia(a)},update:function(a){this.mk&&this.mk.update(1-a)},reverse:function(){return this.mk.clone()},
stop:function(){this.mk.stop();q.$d.prototype.stop.call(this)}});q.Eu.create=function(a){var c=new q.Eu;c.xa(a);return c};
q.Kt=q.$.extend({Tj:null,mp:0,gw:null,zr:0,NB:null,ctor:function(){q.$.prototype.ctor.call(this);this.Tj=null;this.mp=0;this.gw=null;this.zr=0;this.NB=null},SI:function(){return this.Tj},VW:function(a){this.Tj=a},wJ:function(a){if(!a)throw"cc.Animate.initWithAnimation(): animation must be non-NULL";var c=a.Mf();if(this.X(c*a.jk)){this.mp=0;this.VW(a);this.gw=null;this.zr=0;var d=[],e=0,f=c/a.hn;a=a.ze;q.Lt(a,q.Lj);for(var g=0;g<a.length;g++){var h=e*f/c,e=e+a[g].xe;d.push(h)}this.NB=d;return!0}return!1},
clone:function(){var a=new q.Kt;a.wJ(this.Tj.clone());return a},ia:function(a){q.$.prototype.ia.call(this,a);this.Tj.Um&&(this.gw=a.KS());this.zr=this.mp=0},update:function(a){1>a&&(a*=this.Tj.jk,(0|a)>this.zr&&(this.mp=0,this.zr++),a%=1);for(var c=this.Tj.ze,d=c.length,e=this.NB,f=this.mp;f<d;f++)if(e[f]<=a)this.ba.nq(c[f].Qh()),this.mp=f+1;else break},reverse:function(){var a=this.Tj,c=a.ze,d=[];q.Lt(c,q.Lj);if(0<c.length)for(var e=c.length-1;0<=e;e--){var f=c[e];if(!f)break;d.push(f.clone())}c=
q.Kj.pI(d,a.xe,a.jk);c.$x(a.Um);return q.Kt.create(c)},stop:function(){this.Tj.Um&&this.ba&&this.ba.nq(this.gw);q.$d.prototype.stop.call(this)}});q.Kt.create=function(a){var c=new q.Kt;c.wJ(a);return c};
q.Iz=q.$.extend({Xf:null,Im:null,ctor:function(){q.$.prototype.ctor.call(this);this.Im=this.Xf=null},Yg:function(a,c){return this.X(c.Mf())?(this.Im=a,this.Xf=c,!0):!1},clone:function(){var a=new q.Iz;a.Yg(this.Im,this.Xf.clone());return a},ia:function(a){q.$.prototype.ia.call(this,a);this.Xf.ia(this.Im)},stop:function(){this.Xf.stop()},update:function(a){this.Xf.update(a)},c5:function(){return this.Im},Maa:function(a){this.Im!=a&&(this.Im=a)}});
q.Iz.create=function(a,c){var d=new q.Iz;d.Yg(a,c);return d};q.Ni=q.Nj.extend({Gi:function(){return!0},step:function(){this.update(1)},update:function(){},reverse:function(){return this.clone()},clone:function(){return new q.Ni}});q.Iu=q.Ni.extend({update:function(){this.ba.B(!0)},reverse:function(){return q.tu.create()},clone:function(){return new q.Iu}});q.Iu.create=function(){return new q.Iu};q.tu=q.Ni.extend({update:function(){this.ba.B(!1)},reverse:function(){return q.Iu.create()},clone:function(){return new q.tu}});q.tu.create=function(){return new q.tu};
q.Ru=q.Ni.extend({update:function(){this.ba.B(!this.ba.za)},reverse:function(){return new q.Ru},clone:function(){return new q.Ru}});q.Ru.create=function(){return new q.Ru};q.Bu=q.Ni.extend({Mr:!0,ctor:function(){q.Nj.prototype.ctor.call(this);this.Mr=!0},update:function(){this.ba.K(this.Mr)},A:function(a){this.Mr=a;return!0},reverse:function(){return new q.Bu(this.Mr)},clone:function(){return new q.Bu(this.Mr)}});q.Bu.create=function(a){null==a&&(a=!0);var c=new q.Bu;c&&c.A(a);return c};
q.ru=q.Ni.extend({sc:!1,ctor:function(){q.Nj.prototype.ctor.call(this);this.sc=!1},yJ:function(a){this.sc=a;return!0},update:function(){this.ba.mX(this.sc)},reverse:function(){return q.ru.create(!this.sc)},clone:function(){var a=new q.ru;a.yJ(this.sc);return a}});q.ru.create=function(a){var c=new q.ru;return c.yJ(a)?c:null};
q.su=q.Ni.extend({tc:!1,ctor:function(){q.Nj.prototype.ctor.call(this);this.tc=!1},zJ:function(a){this.tc=a;return!0},update:function(){this.ba.nX(this.tc)},reverse:function(){return q.su.create(!this.tc)},clone:function(){var a=new q.su;a.zJ(this.tc);return a}});q.su.create=function(a){var c=new q.su;return c.zJ(a)?c:null};
q.oz=q.Ni.extend({u:null,ctor:function(){q.Nj.prototype.ctor.call(this);this.u=q.a(0,0)},BJ:function(a){this.u.x=a.x;this.u.y=a.y;return!0},update:function(){this.ba.l(this.u)},clone:function(){var a=new q.oz;a.BJ(this.u);return a}});q.oz.create=function(a){var c=new q.oz;c.BJ(a);return c};
q.Cq=q.Ni.extend({Fh:null,Dm:null,cl:null,fr:null,ctor:function(){q.Nj.prototype.ctor.call(this);this.fr=this.cl=this.Dm=this.Fh=null},Yg:function(a,c,d){this.fr=d;this.Dm=a;this.Fh=c;return!0},jD:function(a){this.cl=a;return!0},execute:function(){null!=this.Dm?this.Dm.call(this.Fh,this.ba,this.fr):this.cl&&this.cl.call(null,this.ba)},update:function(){this.execute()},S6:function(){return this.Fh},Qba:function(a){a!=this.Fh&&(this.Fh&&(this.Fh=null),this.Fh=a)},copy:function(){var a=new q.Cq;this.Fh?
a.Yg(this.Dm,this.Fh,this.fr):this.cl&&a.jD(this.cl);return a},clone:function(){var a=new q.Cq;this.Fh?a.Yg(this.Dm,this.Fh,this.fr):this.cl&&a.jD(this.cl);return a}});q.Cq.create=function(a,c,d){var e=new q.Cq;if(1==arguments.length){if(e&&e.jD(a))return e}else if(e&&e.Yg(a,c,d))return e.Dm=a,e;return null};q.Fy=q.$.extend({fA:0,gA:0,hA:0,sG:0,tG:0,uG:0,CH:0,DH:0,EH:0,ctor:function(){q.$.prototype.ctor.call(this);this.EH=this.DH=this.CH=this.uG=this.tG=this.sG=this.hA=this.gA=this.fA=0},ia:function(a){q.$.prototype.ia.call(this,a);a=a.PC();var c=a.UI();this.fA=c.x;this.gA=c.y;this.hA=c.z;c=a.WI();this.sG=c.x;this.tG=c.y;this.uG=c.z;a=a.ST();this.CH=a.x;this.DH=a.y;this.EH=a.z},clone:function(){return new q.Fy},reverse:function(){return q.Eu.create(this)}});
q.mz=q.Fy.extend({lj:0,xv:0,Bo:0,tA:0,Fg:0,sA:0,sB:0,qB:0,rB:0,pB:0,ctor:function(){q.Fy.prototype.ctor.call(this);this.pB=this.rB=this.qB=this.sB=this.sA=this.Fg=this.tA=this.Bo=this.xv=this.lj=0},X:function(a,c,d,e,f,g,h){return q.$.prototype.X.call(this,a)?(this.lj=c,this.xv=d,this.Bo=e,this.tA=f,this.Fg=g,this.sA=h,this.qB=q.Mj(f),this.pB=q.Mj(h),!0):!1},yY:function(){var a=this.ba.PC(),c=a.WI(),d=a.UI(),a=c.x-d.x,e=c.y-d.y,c=c.z-d.z,d=Math.sqrt(Math.pow(a,2)+Math.pow(e,2)+Math.pow(c,2)),f=Math.sqrt(Math.pow(a,
2)+Math.pow(e,2));0===f&&(f=q.ou);0===d&&(d=q.ou);return{bV:d/q.Dq.Zs(),UY:Math.acos(c/d),azimuth:0>a?Math.PI-Math.asin(e/f):Math.asin(e/f)}},ia:function(a){q.$.prototype.ia.call(this,a);a=this.yY();isNaN(this.lj)&&(this.lj=a.bV);isNaN(this.Bo)&&(this.Bo=q.qz(a.UY));isNaN(this.Fg)&&(this.Fg=q.qz(a.azimuth));this.sB=q.Mj(this.Bo);this.rB=q.Mj(this.Fg)},clone:function(){var a=new q.mz;a.X(this.Ga,this.lj,this.xv,this.Bo,this.tA,this.Fg,this.sA);return a},update:function(a){var c=(this.lj+this.xv*a)*
q.Dq.Zs(),d=this.sB+this.qB*a,e=this.rB+this.pB*a;a=Math.sin(d)*Math.cos(e)*c+this.fA;e=Math.sin(d)*Math.sin(e)*c+this.gA;c=Math.cos(d)*c+this.hA;this.ba.PC().cL(a,e,c)}});q.mz.create=function(a,c,d,e,f,g,h){var k=new q.mz;return k.X(a,c,d,e,f,g,h)?k:null};q.xd=q.$.extend({oa:null,ctor:function(){q.$.prototype.ctor.call(this);this.oa=null},xa:function(a){if(!a)throw"cc.ActionEase.initWithAction(): action must be non nil";return this.X(a.Mf())?(this.oa=a,!0):!1},clone:function(){var a=new q.xd;a.xa(this.oa.clone());return a},ia:function(a){q.$.prototype.ia.call(this,a);this.oa.ia(this.ba)},stop:function(){this.oa.stop();q.$.prototype.stop.call(this)},update:function(a){this.oa.update(a)},reverse:function(){return q.xd.create(this.oa.reverse())},QC:function(){return this.oa}});
q.xd.create=function(a){var c=new q.xd;c&&c.xa(a);return c};q.sm=q.xd.extend({ef:0,ctor:function(){q.xd.prototype.ctor.call(this);this.ef=0},zba:function(a){this.ef=a},p6:function(){return this.ef},xa:function(a,c){return q.xd.prototype.xa.call(this,a)?(this.ef=c,!0):!1},clone:function(){var a=new q.sm;a.xa(this.oa.clone(),this.ef);return a},reverse:function(){return q.sm.create(this.oa.reverse(),1/this.ef)}});q.sm.create=function(a,c){var d=new q.sm;d&&d.xa(a,c);return d};
q.hu=q.sm.extend({update:function(a){this.oa.update(Math.pow(a,this.ef))},reverse:function(){return q.hu.create(this.oa.reverse(),1/this.ef)},clone:function(){var a=new q.hu;a.xa(this.oa.clone(),this.ef);return a}});q.hu.create=function(a,c){var d=new q.hu;d&&d.xa(a,c);return d};q.ju=q.sm.extend({update:function(a){this.oa.update(Math.pow(a,1/this.ef))},reverse:function(){return q.ju.create(this.oa.reverse(),1/this.ef)},clone:function(){var a=new q.ju;a.xa(this.oa.clone(),this.ef);return a}});
q.ju.create=function(a,c){var d=new q.ju;d&&d.xa(a,c);return d};q.iu=q.sm.extend({update:function(a){a*=2;1>a?this.oa.update(0.5*Math.pow(a,this.ef)):this.oa.update(1-0.5*Math.pow(2-a,this.ef))},clone:function(){var a=new q.iu;a.xa(this.oa.clone(),this.ef);return a},reverse:function(){return q.iu.create(this.oa.reverse(),this.ef)}});q.iu.create=function(a,c){var d=new q.iu;d&&d.xa(a,c);return d};
q.eu=q.xd.extend({update:function(a){this.oa.update(0===a?0:Math.pow(2,10*(a-1)))},reverse:function(){return q.gu.create(this.oa.reverse())},clone:function(){var a=new q.eu;a.xa(this.oa.clone());return a}});q.eu.create=function(a){var c=new q.eu;c&&c.xa(a);return c};q.gu=q.xd.extend({update:function(a){this.oa.update(1==a?1:-Math.pow(2,-10*a)+1)},reverse:function(){return q.eu.create(this.oa.reverse())},clone:function(){var a=new q.gu;a.xa(this.oa.clone());return a}});
q.gu.create=function(a){var c=new q.gu;c&&c.xa(a);return c};q.fu=q.xd.extend({update:function(a){1!=a&&0!==a&&(a*=2,a=1>a?0.5*Math.pow(2,10*(a-1)):0.5*(-Math.pow(2,-10*(a-1))+2));this.oa.update(a)},reverse:function(){return q.fu.create(this.oa.reverse())},clone:function(){var a=new q.fu;a.xa(this.oa.clone());return a}});q.fu.create=function(a){var c=new q.fu;c&&c.xa(a);return c};
q.ku=q.xd.extend({update:function(a){a=0===a||1==a?a:-1*Math.cos(a*Math.PI/2)+1;this.oa.update(a)},reverse:function(){return q.mu.create(this.oa.reverse())},clone:function(){var a=new q.ku;a.xa(this.oa.clone());return a}});q.ku.create=function(a){var c=new q.ku;c&&c.xa(a);return c};q.mu=q.xd.extend({update:function(a){a=0===a||1==a?a:Math.sin(a*Math.PI/2);this.oa.update(a)},reverse:function(){return q.ku.create(this.oa.reverse())},clone:function(){var a=new q.mu;a.xa(this.oa.clone());return a}});
q.mu.create=function(a){var c=new q.mu;c&&c.xa(a);return c};q.lu=q.xd.extend({update:function(a){a=0===a||1==a?a:-0.5*(Math.cos(Math.PI*a)-1);this.oa.update(a)},clone:function(){var a=new q.lu;a.xa(this.oa.clone());return a},reverse:function(){return q.lu.create(this.oa.reverse())}});q.lu.create=function(a){var c=new q.lu;c&&c.xa(a);return c};
q.mo=q.xd.extend({Be:null,ctor:function(){q.xd.prototype.ctor.call(this);this.Be=0.3},b6:function(){return this.Be},tba:function(a){this.Be=a},xa:function(a,c){q.xd.prototype.xa.call(this,a);this.Be=null==c?0.3:c;return!0},reverse:function(){q.log("cc.EaseElastic.reverse(): it should be overridden in subclass.")},clone:function(){var a=new q.mo;a.xa(this.oa.clone(),this.Be);return a}});q.mo.create=function(a,c){var d=new q.mo;return d&&d.xa(a,c)?d:null};
q.bu=q.mo.extend({update:function(a){var c=0;0===a||1===a?c=a:(c=this.Be/4,a-=1,c=-Math.pow(2,10*a)*Math.sin((a-c)*Math.PI*2/this.Be));this.oa.update(c)},reverse:function(){return q.du.create(this.oa.reverse(),this.Be)},clone:function(){var a=new q.bu;a.xa(this.oa.clone(),this.Be);return a}});q.bu.create=function(a,c){var d=new q.bu;return d&&d.xa(a,c)?d:null};
q.du=q.mo.extend({update:function(a){var c=0,c=0===a||1==a?a:Math.pow(2,-10*a)*Math.sin((a-this.Be/4)*Math.PI*2/this.Be)+1;this.oa.update(c)},reverse:function(){return q.bu.create(this.oa.reverse(),this.Be)},clone:function(){var a=new q.du;a.xa(this.oa.clone(),this.Be);return a}});q.du.create=function(a,c){var d=new q.du;d&&d.xa(a,c);return d};
q.cu=q.mo.extend({update:function(a){var c=0,c=this.Be;if(0===a||1==a)c=a;else{c||(c=this.Be=0.3*1.5);var d=c/4;a=2*a-1;c=0>a?-0.5*Math.pow(2,10*a)*Math.sin((a-d)*Math.PI*2/c):Math.pow(2,-10*a)*Math.sin((a-d)*Math.PI*2/c)*0.5+1}this.oa.update(c)},reverse:function(){return q.cu.create(this.oa.reverse(),this.Be)},clone:function(){var a=new q.cu;a.xa(this.oa.clone(),this.Be);return a}});q.cu.create=function(a,c){var d=new q.cu;d&&d.xa(a,c);return d};
q.rm=q.xd.extend({Sw:function(a){if(a<1/2.75)return 7.5625*a*a;if(a<2/2.75)return a-=1.5/2.75,7.5625*a*a+0.75;if(a<2.5/2.75)return a-=2.25/2.75,7.5625*a*a+0.9375;a-=2.625/2.75;return 7.5625*a*a+0.984375},clone:function(){var a=new q.rm;a.xa(this.oa.clone());return a},reverse:function(){return q.rm.create(this.oa.reverse())}});q.rm.create=function(a){var c=new q.rm;c&&c.xa(a);return c};
q.Zt=q.rm.extend({update:function(a){this.oa.update(1-this.Sw(1-a))},reverse:function(){return q.au.create(this.oa.reverse())},clone:function(){var a=new q.Zt;a.xa(this.oa.clone());return a}});q.Zt.create=function(a){var c=new q.Zt;c&&c.xa(a);return c};q.au=q.rm.extend({update:function(a){this.oa.update(this.Sw(a))},reverse:function(){return q.Zt.create(this.oa.reverse())},clone:function(){var a=new q.au;a.xa(this.oa.clone());return a}});q.au.create=function(a){var c=new q.au;c&&c.xa(a);return c};
q.$t=q.rm.extend({update:function(a){var c=0,c=0.5>a?0.5*(1-this.Sw(1-2*a)):0.5*this.Sw(2*a-1)+0.5;this.oa.update(c)},clone:function(){var a=new q.$t;a.xa(this.oa.clone());return a},reverse:function(){return q.$t.create(this.oa.reverse())}});q.$t.create=function(a){var c=new q.$t;c&&c.xa(a);return c};
q.Wt=q.xd.extend({update:function(a){this.oa.update(0===a||1==a?a:a*a*(2.70158*a-1.70158))},reverse:function(){return q.Yt.create(this.oa.reverse())},clone:function(){var a=new q.Wt;a.xa(this.oa.clone());return a}});q.Wt.create=function(a){var c=new q.Wt;c&&c.xa(a);return c};q.Yt=q.xd.extend({update:function(a){a-=1;this.oa.update(a*a*(2.70158*a+1.70158)+1)},reverse:function(){return q.Wt.create(this.oa.reverse())},clone:function(){var a=new q.Yt;a.xa(this.oa.clone());return a}});
q.Yt.create=function(a){var c=new q.Yt;c&&c.xa(a);return c};q.Xt=q.xd.extend({update:function(a){a*=2;1>a?this.oa.update(a*a*(3.5949095*a-2.5949095)/2):(a-=2,this.oa.update(a*a*(3.5949095*a+2.5949095)/2+1))},clone:function(){var a=new q.Xt;a.xa(this.oa.clone());return a},reverse:function(){return q.Xt.create(this.oa.reverse())}});q.Xt.create=function(a){var c=new q.Xt;c&&c.xa(a);return c};q.Oy=function(a,c,d,e,f,g){var h=g*g,k=h*g,l=(1-f)/2;f=l*(-k+2*h-g);var m=l*(-k+h)+(2*k-3*h+1);g=l*(k-2*h+g)+(-2*k+3*h);h=l*(k-h);return q.a(a.x*f+c.x*m+d.x*g+e.x*h,a.y*f+c.y*m+d.y*g+e.y*h)};q.NK=function(a){for(var c=[],d=a.length-1;0<=d;d--)c.push(q.a(a[d].x,a[d].y));return c};q.Ww=function(a){for(var c=[],d=0;d<a.length;d++)c.push(q.a(a[d].x,a[d].y));return c};q.Oh=function(a,c){var d=Math.min(a.length-1,Math.max(c,0));return a[d]};
q.caa=function(a){for(var c=a.length,d=0|c/2,e=0;e<d;++e){var f=a[e];a[e]=a[c-e-1];a[c-e-1]=f}};
q.Pi=q.$.extend({ki:null,uA:0,bn:0,kd:null,Rz:null,ctor:function(){q.$.prototype.ctor.call(this);this.ki=[];this.bn=this.uA=0;this.Rz=this.kd=null},X:function(a,c,d){if(!c||0==c.length)throw"Invalid configuration. It must at least have one control point";return q.$.prototype.X.call(this,a)?(this.LX(c),this.bn=d,!0):!1},clone:function(){var a=new q.Pi;a.X(this.Ga,q.Ww(this.ki),this.bn);return a},ia:function(a){q.$.prototype.ia.call(this,a);this.uA=1/(this.ki.length-1);a=this.ba.u;this.kd=q.a(a.x,a.y);
this.Rz=q.a(0,0)},update:function(a){var c,d=this.ki;if(1==a)c=d.length-1,a=1;else{var e=this.uA;c=0|a/e;a=(a-e*c)/e}c=q.Oy(q.Oh(d,c-1),q.Oh(d,c-0),q.Oh(d,c+1),q.Oh(d,c+2),this.bn,a);q.Tt&&(d=this.ba.u.J-this.kd.x,a=this.ba.u.U-this.kd.y,0!=d||0!=a)&&(e=this.Rz,d=e.x+d,a=e.y+a,e.x=d,e.y=a,c.x+=d,c.y+=a);this.mM(c)},reverse:function(){var a=q.NK(this.ki);return q.Pi.create(this.Ga,a,this.bn)},mM:function(a){this.ba.l(a);this.kd=a},f6:function(){return this.ki},LX:function(a){this.ki=a}});
q.Pi.create=function(a,c,d){var e=new q.Pi;return e.X(a,c,d)?e:null};
q.Eq=q.Pi.extend({ld:null,ctor:function(){q.Pi.prototype.ctor.call(this);this.ld=q.a(0,0)},ia:function(a){q.Pi.prototype.ia.call(this,a);a=a.u;this.ld.x=a.x;this.ld.y=a.y},reverse:function(){for(var a=this.ki.slice(),c,d=a[0],e=1;e<a.length;++e)c=a[e],a[e]=q.Vd(c,d),d=c;a=q.NK(a);d=a[a.length-1];a.pop();d.x=-d.x;d.y=-d.y;a.unshift(d);for(e=1;e<a.length;++e)c=a[e],c.x=-c.x,c.y=-c.y,c.x+=d.x,c.y+=d.y,d=a[e]=c;return q.Eq.create(this.Ga,a,this.bn)},mM:function(a){var c=this.ld,d=a.x+c.x;a=a.y+c.y;this.ba.l(d,
a);this.kd.x=d;this.kd.y=a},clone:function(){var a=new q.Eq;a.X(this.Ga,q.Ww(this.ki),this.bn);return a}});q.Eq.create=function(a,c,d){var e=new q.Eq;return e.X(a,c,d)?e:null};q.Qy=q.Pi.extend({X:function(a,c){return q.Pi.prototype.X.call(this,a,c,0.5)},clone:function(){var a=new q.Qy;a.X(this.Ga,q.Ww(this.ki));return a}});q.Qy.create=function(a,c){var d=new q.Qy;return d.X(a,c)?d:null};
q.Py=q.Eq.extend({X:function(a,c){return q.Pi.prototype.X.call(this,a,c,0.5)},clone:function(){var a=new q.Py;a.X(this.Ga,q.Ww(this.ki));return a}});q.Py.create=function(a,c){var d=new q.Py;return d.X(a,c)?d:null};q.fZ=q.Qa.extend({NE:function(){}});
q.ko=q.$.extend({key:"",from:0,gm:0,BC:0,ctor:function(){q.$.prototype.ctor.call(this);this.key="";this.BC=this.gm=this.from=0},X:function(a,c,d,e){return q.$.prototype.X.call(this,a)?(this.key=c,this.gm=e,this.from=d,!0):!1},ia:function(a){if(!a||!a.NE)throw"cc.ActionTween.startWithTarget(): target must be non-null, and target must implement updateTweenAction function";q.$.prototype.ia.call(this,a);this.BC=this.gm-this.from},update:function(a){this.ba.NE(this.gm-this.BC*(1-a),this.key)},reverse:function(){return q.ko.create(this.duration,
this.key,this.gm,this.from)},clone:function(){var a=new q.ko;a.X(this.Ga,this.key,this.from,this.gm);return a}});q.ko.create=function(a,c,d,e){var f=new q.ko;return f.X(a,c,d,e)?f:null};q.Ok=0;q.nz=1;q.EF=4;q.GN=75;
q.Yc=q.Lb.extend({Kf:null,jj:0,Cb:null,ii:null,Cm:null,ie:!1,D5:function(){return q.a(this.ii.x,this.ii)},lL:function(a){this.ii=q.sK(a)},j4:function(){return q.a(this.Cm.x,this.Cm.y)},VK:function(a){this.Cm=q.sK(a)},i7:function(){return this.Kf},kx:function(){return this.jj},KT:function(){return this.Cb},tt:function(a){this.jj!=a&&(this.jj=q.Ks(a,0,100),this.cC())},Rf:function(){},Il:function(){return!1},y8:function(){return this.ie},bA:function(a){if(a<q.EF){var c=q.GN;return this.ie?q.a(c>>7-(a<<
1)&1,c>>7-((a<<1)+1)&1):q.a(c>>(a<<1)+1&1,c>>(a<<1)&1)}return q.Oj()},jd:null,UB:270,AA:270,lj:0,nA:!1,Zz:null,Pd:0,bd:null,ig:null,MH:null,Fs:!1,ctor:null,ei:function(){q.Lb.prototype.ctor.call(this);this.Kf=q.Ok;this.jj=0;this.ii=q.a(0,0);this.Cm=q.a(0,0);this.ie=!1;this.Cb=null;this.jd=q.Oj();this.AA=this.UB=270;this.lj=0;this.nA=!1;this.Zz=q.yd()},fi:function(){q.Lb.prototype.ctor.call(this);this.Kf=q.Ok;this.jj=0;this.ii=q.a(0,0);this.Cm=q.a(0,0);this.ie=!1;this.Cb=null;this.MH=q.ea.createBuffer();
this.Pd=0;this.ig=this.bd=null;this.Fs=!1},q:function(a){this.Cb.q(a);this.Od()},ua:function(a){this.Cb.ua(a);this.Od()},Fd:function(){return this.Cb.Fd()},uj:function(){return this.Cb.uj()},xL:null,DQ:function(a){this.ie!==a&&(this.ie=a)},EQ:function(a){this.ie!==a&&(this.ie=a,this.ig=this.bd=null,this.Pd=0)},vt:null,GQ:function(a){this.Cb!=a&&(this.Cb=a,this.O(this.Cb.c()))},HQ:function(a){a&&this.Cb!=a&&(this.Cb=a,this.O(a.c()),this.bd&&(this.ig=this.bd=null,this.Pd=0))},CL:null,KQ:function(a){a!==
this.Kf&&(this.Kf=a)},LQ:function(a){a!==this.Kf&&(this.bd&&(this.ig=this.bd=null,this.Pd=0),this.Kf=a)},wL:null,BQ:function(a){this.ie!==a&&(this.ie=a)},CQ:function(a){this.ie!==a&&(this.ie=a,this.ig=this.bd=null,this.Pd=0)},lf:function(a){var c=this.Cb;if(!c)return{Xa:0,va:0};var d=c.Zb,e=q.a(d.Sa.H.Xa,d.Sa.H.va),d=q.a(d.Ua.H.Xa,d.Ua.H.va);c.rd&&(c=a.x,a.x=a.y,a.y=c);return{Xa:e.x*(1-a.x)+d.x*a.x,va:e.y*(1-a.y)+d.y*a.y}},nf:function(a){if(!this.Cb)return{x:0,y:0};var c=this.Cb.Zb,d=q.a(c.Sa.C.x,
c.Sa.C.y),c=q.a(c.Ua.C.x,c.Ua.C.y);return{x:d.x*(1-a.x)+c.x*a.x,y:d.y*(1-a.y)+c.y*a.y}},mD:null,lP:function(a){this.tt(0);this.w(0.5,0.5);this.Kf=q.Ok;this.ie=!1;this.lL(q.a(0.5,0.5));this.VK(q.a(1,1));this.vt(a);return!0},mP:function(a){this.tt(0);this.ig=this.bd=null;this.Pd=0;this.w(0.5,0.5);this.Kf=q.Ok;this.ie=!1;this.lL(q.a(0.5,0.5));this.VK(q.a(1,1));this.vt(a);this.lh(q.di.g().Li(q.uz));return!0},$a:null,Zj:function(a){a=a||q.ea;var c=this.Cb;c.Lm&&(a.globalCompositeOperation="lighter");var d=
q.sa.g().wa,e=q.sa.g().Ea;a.globalAlpha=c.pc/255;var f=c.Ba,g=c.Da,h=c.wc,k=c.Wo,l=0|h.x,m=-h.y-f.height,p=c.en;k.width=f.width*d;k.height=f.height*e;a.save();c.sc&&(l=-h.x-f.width,a.scale(-1,1));c.tc&&(m=h.y,a.scale(1,-1));l*=d;m*=e;this.Kf==q.nz?(f=this.Zz,a.beginPath(),a.rect(f.x*d,f.y*e,f.width*d,f.height*e),a.clip(),a.closePath()):this.Kf==q.Ok&&(f=this.jd.x*d,h=this.jd.y*e,a.beginPath(),a.arc(f,h,this.lj*e,Math.PI/180*this.UB,Math.PI/180*this.AA,this.nA),a.lineTo(f,h),a.clip(),a.closePath());
c.Ha&&p.jm?(d=c.Ha.Fc,this.br?a.drawImage(d,0,0,p.width,p.height,l,m,k.width,k.height):a.drawImage(d,p.x,p.y,p.width,p.height,l,m,k.width,k.height)):0!==g.width&&(k=this.Fd(),a.fillStyle="rgba("+k.t+","+k.p+","+k.o+",1)",a.fillRect(l,m,g.width*d,g.height*e));a.restore();q.ai()},Jg:function(a){a=a||q.ea;if(this.bd&&this.Cb){q.kz(this);var c=this.Cb.qa;q.Ak(c.src,c.Ub);q.Ne(q.Vu);this.Cb.ja()?q.Vg(this.Cb.ja()):q.Vg(null);a.bindBuffer(a.ARRAY_BUFFER,this.MH);this.Fs&&(a.bufferData(a.ARRAY_BUFFER,this.ig,
a.DYNAMIC_DRAW),this.Fs=!1);c=q.oc.BYTES_PER_ELEMENT;a.vertexAttribPointer(q.af,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(q.Qq,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(q.Rq,2,a.FLOAT,!1,c,12);this.Kf===q.Ok?a.drawArrays(a.TRIANGLE_FAN,0,this.Pd):this.Kf==q.nz&&(this.ie?(a.drawArrays(a.TRIANGLE_STRIP,0,this.Pd/2),a.drawArrays(a.TRIANGLE_STRIP,4,this.Pd/2),q.Nh++):a.drawArrays(a.TRIANGLE_STRIP,0,this.Pd));q.Nh++}},mR:function(){if(this.Cb){var a,c=this.ii;a=this.jj/100;var d=2*q.PI*(this.ie?a:
1-a),e=q.a(c.x,1),f=q.uV(e,c,d),d=0;if(0==a)f=e,d=0;else if(1==a)f=e,d=4;else{var g=q.WM,h=q.EF;for(a=0;a<=h;++a){var k=(a+(h-1))%h,l=this.bA(a%h),k=this.bA(k);0==a?k=q.uK(l,k,1-c.x):4==a&&(l=q.uK(l,k,1-c.x));var m=q.a(0,0);q.GD(l,k,c,f,m)&&(0!=a&&4!=a||0<=m.x&&1>=m.x)&&0<=m.y&&m.y<g&&(g=m.y,d=a)}f=q.gh(c,q.Bj(q.Vd(f,c),g))}g=!0;this.Pd!=d+3&&(g=!1,this.ig=this.bd=null,this.Pd=0);if(!this.bd){h=this.Pd=d+3;l=q.oc.BYTES_PER_ELEMENT;this.ig=new ArrayBuffer(h*l);k=[];for(a=0;a<h;a++)k[a]=new q.oc(null,
null,null,this.ig,a*l);this.bd=k;if(!this.bd){q.log("cc.ProgressTimer._updateRadial() : Not enough memory");return}}this.Od();h=this.bd;if(!g)for(h[0].H=this.lf(c),h[0].C=this.nf(c),h[1].H=this.lf(e),h[1].C=this.nf(e),a=0;a<d;a++)c=this.bA(a),h[a+2].H=this.lf(c),h[a+2].C=this.nf(c);h[this.Pd-1].H=this.lf(f);h[this.Pd-1].C=this.nf(f)}},bR:function(){if(this.Cb){var a,c=this.jj/100,d=this.Cm,d=q.Bj(q.a(1-d.x+c*d.x,1-d.y+c*d.y),0.5),c=q.Vd(this.ii,d),d=q.gh(this.ii,d);0>c.x&&(d.x+=-c.x,c.x=0);1<d.x&&
(c.x-=d.x-1,d.x=1);0>c.y&&(d.y+=-c.y,c.y=0);1<d.y&&(c.y-=d.y-1,d.y=1);if(this.ie){if(!this.bd){this.Pd=8;var e=q.oc.BYTES_PER_ELEMENT;this.ig=new ArrayBuffer(8*e);var f=[];for(a=0;8>a;a++)f[a]=new q.oc(null,null,null,this.ig,a*e);f[0].H=this.lf(q.a(0,1));f[0].C=this.nf(q.a(0,1));f[1].H=this.lf(q.a(0,0));f[1].C=this.nf(q.a(0,0));f[6].H=this.lf(q.a(1,1));f[6].C=this.nf(q.a(1,1));f[7].H=this.lf(q.a(1,0));f[7].C=this.nf(q.a(1,0));this.bd=f}a=this.bd;a[2].H=this.lf(q.a(c.x,d.y));a[2].C=this.nf(q.a(c.x,
d.y));a[3].H=this.lf(q.a(c.x,c.y));a[3].C=this.nf(q.a(c.x,c.y));a[4].H=this.lf(q.a(d.x,d.y));a[4].C=this.nf(q.a(d.x,d.y));a[5].H=this.lf(q.a(d.x,c.y));a[5].C=this.nf(q.a(d.x,c.y))}else{if(!this.bd)for(this.Pd=4,e=q.oc.BYTES_PER_ELEMENT,this.ig=new ArrayBuffer(4*e),this.bd=[],a=0;4>a;a++)this.bd[a]=new q.oc(null,null,null,this.ig,a*e);a=this.bd;a[0].H=this.lf(q.a(c.x,d.y));a[0].C=this.nf(q.a(c.x,d.y));a[1].H=this.lf(q.a(c.x,c.y));a[1].C=this.nf(q.a(c.x,c.y));a[2].H=this.lf(q.a(d.x,d.y));a[2].C=this.nf(q.a(d.x,
d.y));a[3].H=this.lf(q.a(d.x,c.y));a[3].C=this.nf(q.a(d.x,c.y))}this.Od()}},Od:function(){if(this.Cb&&this.bd){for(var a=this.Cb.Zb.ab.W,c=this.bd,d=0,e=this.Pd;d<e;++d)c[d].W=a;this.Fs=!0}},cC:null,iR:function(){var a=this.Cb,c=a.c(),d=this.ii;if(this.Kf==q.Ok){this.lj=Math.round(Math.sqrt(c.width*c.width+c.height*c.height));var e,f=!1,g=this.jd;g.x=c.width*d.x;g.y=-c.height*d.y;this.ie?(e=270,d=270-3.6*this.jj):(d=-90,e=-90+3.6*this.jj);a.sc&&(g.x-=2*c.width*this.ii.x,d=-d-180,e=-e-180,f=!f);a.tc&&
(g.y+=2*c.height*this.ii.y,f=!f,d=-d,e=-e);this.UB=d;this.AA=e;this.nA=f}else{e=this.Cm;g=this.jj/100;f=this.Zz;e=q.size(c.width*(1-e.x),c.height*(1-e.y));var g=q.size((c.width-e.width)*g,(c.height-e.height)*g),g=q.size(e.width+g.width,e.height+g.height),h=q.a(c.width*d.x,c.height*d.y),k=h.x-g.width/2;0.5<d.x&&g.width/2>=c.width-h.x&&(k=c.width-g.width);e=h.y-g.height/2;0.5<d.y&&g.height/2>=c.height-h.y&&(e=c.height-g.height);f.x=0;c=1;a.sc&&(f.x-=g.width,c=-1);0<k&&(f.x+=k*c);f.y=0;c=1;a.tc&&(f.y+=
g.height,c=-1);0<e&&(f.y-=e*c);f.width=g.width;f.height=-g.height}},jR:function(){var a=this.Kf;a===q.Ok?this.mR():a===q.nz&&this.bR();this.Fs=!0}});
q.La.gd?(b=q.Yc.prototype,b.ctor=q.Yc.prototype.fi,b.xL=q.Yc.prototype.EQ,b.vt=q.Yc.prototype.HQ,b.CL=q.Yc.prototype.LQ,b.wL=q.Yc.prototype.CQ,b.mD=q.Yc.prototype.mP,b.$a=q.Yc.prototype.Jg,b.cC=q.Yc.prototype.jR):(b=q.Yc.prototype,b.ctor=q.Yc.prototype.ei,b.xL=q.Yc.prototype.DQ,b.vt=q.Yc.prototype.GQ,b.CL=q.Yc.prototype.KQ,b.wL=q.Yc.prototype.BQ,b.mD=q.Yc.prototype.lP,b.$a=q.Yc.prototype.Zj,b.cC=q.Yc.prototype.iR);q.Yc.create=function(a){var c=new q.Yc;return c.mD(a)?c:null};q.pz=q.$.extend({Jf:0,Ae:0,ctor:function(){q.$.prototype.ctor.call(this);this.Ae=this.Jf=0},X:function(a,c){return q.$.prototype.X.call(this,a)?(this.Jf=c,!0):!1},clone:function(){var a=new q.pz;a.X(this.Ga,this.Jf);return a},reverse:function(){q.log("cc.ProgressTo.reverse(): reverse hasn't been supported.");return null},ia:function(a){q.$.prototype.ia.call(this,a);this.Ae=a.kx();100==this.Ae&&(this.Ae=0)},update:function(a){this.ba instanceof q.Yc&&this.ba.tt(this.Ae+(this.Jf-this.Ae)*a)}});
q.pz.create=function(a,c){var d=new q.pz;d.X(a,c);return d};q.zu=q.$.extend({Jf:0,Ae:0,ctor:function(){q.$.prototype.ctor.call(this);this.Ae=this.Jf=0},X:function(a,c,d){return q.$.prototype.X.call(this,a)?(this.Jf=d,this.Ae=c,!0):!1},clone:function(){var a=new q.zu;a.X(this.Ga,this.Ae,this.Jf);return a},reverse:function(){return q.zu.create(this.Ga,this.Jf,this.Ae)},ia:function(a){q.$.prototype.ia.call(this,a)},update:function(a){this.ba instanceof q.Yc&&this.ba.tt(this.Ae+(this.Jf-this.Ae)*a)}});
q.zu.create=function(a,c,d){var e=new q.zu;e.X(a,c,d);return e};q.My=9;q.BM=1;q.EM=2;q.FM=4;q.CM=8;q.DM=16;q.Pt=32;q.GM=64;q.AM=128;q.Oi=256;q.Ag=1;q.Rt=2;q.Qt=4;q.xZ=8;q.wZ=8;
q.nc=q.bi.extend({KG:!1,p1:!1,Il:function(){return this.KG},Rf:function(a){this.KG=a;for(var c=this.D,d=0,e=c.length;d<e;d++){var f=c[d];f&&f.xb&&f.Rf(a)}},nj:q.Ag,P6:function(){return this.nj},wr:!1,sp:!1,ek:!1,yv:null,Qf:function(a){this.nj=(this.wr=a)?q.Ag:q.Qt;this.ud()},isEnabled:function(){return this.wr},sq:function(a){this.sp=a;this.ud()},B8:function(){return this.sp},Zl:function(a){this.ek=a;this.ud()},k8:function(){return this.ek},hU:function(){for(var a=this.getParent();null!=a;a=a.getParent())if(!a.za)return!1;
return!0},ctor:function(){q.bi.prototype.ctor.call(this);this.yv={};this.Ec=q.Eb()},A:function(){return q.bi.prototype.A.call(this)?(this.nj=q.Ag,this.wr=!0,this.ek=this.sp=!1,this.uq(1),!0):!1},Ox:function(){q.PD(this.vl,!0,this)},wf:function(a){for(var c=0,d=q.My;c<d;c++)if(a&1<<c)for(var e=this.zA(1<<c),f=0,g=e.length;f<g;f++)e[f].BU(this)},aI:function(a,c,d){for(var e=0,f=q.My;e<f;e++)d&1<<e&&this.fv(a,c,1<<e)},W$:function(a,c,d){for(var e=0,f=q.My;e<f;e++)d&1<<e&&this.cQ(a,c,1<<e)},vj:function(a){return this.Ja(a.T)},
Hi:function(a){a=a.T;a=this.getParent().Ja(a);return q.wb(this.qb(),a)},r1:function(){return null},zA:function(a){a=a.toString();this.yv.hasOwnProperty(a)||(this.yv[a]=[]);return this.yv[a]},fv:function(a,c,d){a=new q.dN(a,c,d);this.zA(d).push(a)},cQ:function(a,c,d){d=this.zA(d);if(a||c)for(var e=0;e<d.length;){var f=d[e],g=!0;a&&(g=a==f.ba);c&&(g=g&&c==f.Xf);g?q.pe(d,f):e++}else d.length=0},ud:function(){}});q.nc.create=function(){var a=new q.nc;return a&&a.A()?a:null};q.bF=3435855873;
q.$h=q.nc.extend({nr:!1,Gs:!1,Lg:null,Or:null,er:null,vv:null,gn:null,ue:null,ij:0,fp:!1,Cw:null,us:null,Dw:null,Bm:null,XG:!1,Xv:0,Wv:0,ctor:function(){q.nc.prototype.ctor.call(this);this.Lg=new q.Qk(0,0);this.Or=new q.rh(0,0);this.er="";this.vv=q.Eb();this.Cw={};this.us={};this.Dw={};this.Bm={}},A:function(){return this.rx(q.S.create("","Arial",12),q.be.create())},ud:function(){if(this.XG){this.gn&&this.gn.B(!1);this.ue&&this.ue.B(!1);this.sX(this.Or);var a=this.nj;this.er=this.aD(a);this.vv=this.RT(a);
var c=this.gn=this.Ws(a);c&&c.na&&c.na(this.er);c&&c.xb&&c.q(this.vv);var d=this.c();c&&c.l(d.width/2,d.height/2);(a=this.ue=this.eT(a))&&a.l(d.width/2,d.height/2);d=c?c.qb().Za:q.size(0,0);if(this.nr)a&&a.O(d.width+2*this.Wv,d.height+2*this.Xv);else if(a){var e=a.Lg,e=q.size(e.width,e.height);0>=e.width&&(e.width=d.width);0>=e.height&&(e.height=d.height);a.O(e)}d=c?c.qb():q.rect(0,0,0,0);e=a?a.qb():q.rect(0,0,0,0);d=q.Nx(d,e);this.O(d.width,d.height);d=this.c();c&&(c.l(d.width/2,d.height/2),c.B(!0));
a&&(a.l(d.width/2,d.height/2),a.B(!0))}},rx:function(a,c){if(!a||!a.xb)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): label should be non-null";if(!c)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): backgroundSprite should be non-null";return q.nc.prototype.A.call(this,!0)?(this.XG=!0,this.Cw={},this.us={},this.Dw={},this.Bm={},this.qc(!0),this.fp=!1,this.Gs=!0,this.er=null,this.TW(!0),this.Mi(q.size(0,0)),this.Gs=!0,this.wj(!1),this.w(0.5,0.5),this.gn=a,this.ue=c,this.ua(255),
this.Rf(!0),this.cY(a.ZC(),q.Ag),this.bY(a.Fd(),q.Ag),this.qE(a,q.Ag),this.Wl(c,q.Ag),this.nj=q.Ag,this.Wv=24,this.Xv=12,this.Or=new q.rh(0.5,0.5),this.Mi(q.um()),this.ud(),!0):!1},sU:function(a,c,d){a=q.S.create(a,c,d);return this.rx(a,q.be.create())},ox:function(a){var c=q.S.create("","Arial",30);return this.rx(c,a)},p3:function(){return this.nr},TW:function(a){this.nr=a;this.ud()},y7:function(){return this.Gs},wE:function(a){return this.Gs=a},wT:function(){return this.Lg},Mi:function(a){if(0===
a.width&&0===a.height)this.nr=!0;else{this.nr=!1;var c=this.Bm,d;for(d in c)c[d].Mi(a)}this.Lg=a;this.ud()},s5:function(){return this.Or},sX:function(a){this.Or=a;this.gn&&this.gn.w(a)},i1:function(){return this.er},j1:function(){return this.vv},uj:function(){return this.ij},ua:function(a){q.nc.prototype.ua.call(this,a);var c=this.Bm,d;for(d in c)c[d].ua(a)},q:function(a){q.nc.prototype.q.call(this,a);var c=this.Bm,d;for(d in c)c[d].q(a)},Fd:function(){return this.De},x8:function(){return this.fp},
n1:function(){return this.Xv},l1:function(){return this.Wv},cba:function(a,c){this.Xv=c;this.Wv=a;this.ud()},Qf:function(a){q.nc.prototype.Qf.call(this,a);this.ud()},sq:function(a){q.nc.prototype.sq.call(this,a);this.ud()},Zl:function(a){this.nj=a?q.Rt:q.Ag;q.nc.prototype.Zl.call(this,a);(a=this.OC(q.bF))&&this.zY(a);this.ud();this.Gs&&(a=q.vo.create(0.05,this.ek&&this.isEnabled()&&!this.sp?1.1:1),a.BL(q.bF),this.Rx(a))},vb:function(a){if(!(this.Hi(a)&&this.isEnabled()&&this.za&&this.hU()))return!1;
this.fp=!0;this.Zl(!0);this.wf(q.BM);return!0},Ud:function(a){this.wr&&this.fp&&!this.sp?(a=this.Hi(a))&&!this.ek?(this.Zl(!0),this.wf(q.CM)):a&&this.ek?this.wf(q.EM):!a&&this.ek?(this.Zl(!1),this.wf(q.DM)):a||this.ek||this.wf(q.FM):this.ek&&this.Zl(!1)},fh:function(a){this.fp=!1;this.Zl(!1);this.Hi(a)?this.wf(q.Pt):this.wf(q.GM)},Fk:function(){this.fp=!1;this.Zl(!1);this.wf(q.AM)},aD:function(a){var c=this.Cw;return c?c[a]?c[a]:c[q.Ag]:""},cY:function(a,c){this.Cw[c]=a||"";this.nj==c&&this.ud()},
RT:function(a){return(a=this.us[a])?a:(a=this.us[q.Ag])?a:q.Eb()},bY:function(a,c){this.us[c]=a;this.nj==c&&this.ud()},Ws:function(a){var c=this.Dw;return c.hasOwnProperty(a)&&c[a]?c[a]:c[q.Ag]},qE:function(a,c){var d=this.Dw;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.B(!1);a.w(0.5,0.5);this.f(a,1);this.nj==c&&this.ud()},Wba:function(a,c){var d=this.aD(c);d||(d="");this.qE(q.S.create(d,a,12),c)},Z6:function(a){a=this.Ws(a);return null!=a&&a instanceof q.S?a.Cf:""},Xba:function(a,
c){var d=this.Ws(c);null!=d&&d instanceof q.S&&d.Vx(a)},a7:function(a){a=this.Ws(a);return null!=a&&a instanceof q.S?a.ee:0},Vba:function(a,c){var d=this.aD(c);d||(d="");this.qE(q.hz.create(d,a),c)},Y6:function(a){a=this.Ws(a);return null!=a&&a instanceof q.hz?a.Z4():""},eT:function(a){var c=this.Bm;return c.hasOwnProperty(a)&&c[a]?c[a]:c[q.Ag]},Wl:function(a,c){var d=this.Bm;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.B(!1);a.w(0.5,0.5);this.f(a);d=this.Lg;0===d.width&&
0===d.height||a.Mi(d);this.nj===c&&this.ud()},saa:function(a,c){var d=q.be.qI(a);this.Wl(d,c)}});q.$h.create=function(a,c){var d;if(0==arguments.length)return(d=new q.$h)&&d.A()?d:null;1==arguments.length?(d=new q.$h,d.ox(arguments[0])):2==arguments.length?(d=new q.$h,d.rx(a,c)):3==arguments.length&&(d=new q.$h,d.sU(arguments[0],arguments[1],arguments[2]));return d};q.RGBA=function(a,c,d,e){this.t=a;this.p=c;this.o=d;this.Q=e};q.cz=function(a,c,d){this.h=a;this.s=c;this.va=d};q.se={};q.se.tn=function(a,c,d,e){a=q.v.rI(a);if(!a)return null;a.l(d);a.w(e);c.f(a);return a};q.se.$M=function(a){var c=new q.cz,d,e;d=a.t<a.p?a.t:a.p;d=d<a.o?d:a.o;e=a.t>a.p?a.t:a.p;e=e>a.o?e:a.o;c.va=e;d=e-d;if(0<e)c.s=d/e;else return c.s=0,c.h=-1,c;c.h=a.t>=e?(a.p-a.o)/d:a.p>=e?2+(a.o-a.t)/d:4+(a.t-a.p)/d;c.h*=60;0>c.h&&(c.h+=360);return c};
q.se.sz=function(a){var c,d,e,f,g=new q.RGBA;g.Q=1;if(0>=a.s){if(!a.h)return g.t=a.va,g.p=a.va,g.o=a.va,g;g.t=0;g.p=0;g.o=0;return g}c=a.h;360<=c&&(c=0);c/=60;f=0|c;e=c-f;c=a.va*(1-a.s);d=a.va*(1-a.s*e);e=a.va*(1-a.s*(1-e));switch(f){case 0:g.t=a.va;g.p=e;g.o=c;break;case 1:g.t=d;g.p=a.va;g.o=c;break;case 2:g.t=c;g.p=a.va;g.o=e;break;case 3:g.t=c;g.p=d;g.o=a.va;break;case 4:g.t=e;g.p=c;g.o=a.va;break;default:g.t=a.va,g.p=c,g.o=d}return g};q.se.XE=function(a,c){return q.Nx(a,c)};q.dN=q.Qa.extend({Xf:null,ba:null,uv:null,ctor:function(a,c,d){this.ba=a;this.Xf=c;this.uv=d},b4:function(){return this.Xf},PT:function(){return this.ba},F4:function(){return this.uv},BU:function(a){if(this.ba&&this.Xf)if("string"==typeof this.Xf)this.ba[this.Xf](a,this.uv);else this.Xf.call(this.ba,a,this.uv)}});q.yF=0;q.BF=1;q.zF=2;q.AF=3;q.wF=4;q.DF=5;q.CF=6;q.FN=7;q.xF=8;
q.be=q.Lb.extend({xb:!0,wp:null,mG:null,nl:!1,Hf:null,ti:null,si:null,Hh:null,fj:null,Vj:null,ni:null,Vi:null,Ui:null,Wi:null,Xj:null,Gc:!1,Bd:null,Lg:null,ij:0,Ec:null,Lo:null,Jv:0,Lv:0,Kv:0,Iv:0,qH:!1,PB:!1,zb:!1,ge:null,cM:function(){return this.zb},jg:function(a,c){this.ge.push({eventCallback:a,Bi:c})},ve:function(){this.zb=!0;for(var a=this.ge,c=0,d=a.length;c<d;c++){var e=a[c];e.eventCallback.call(e.Bi,this)}a.length=0},Iw:function(){var a;a=this.Jv;var c=this.Lv,d=this.Kv,e=this.wp,f=this.Iv;
a=0===a&&0===c&&0===d&&0===f?q.yd():this.PB?q.rect(f,a,e.width-d-a,e.height-c-f):q.rect(a,c,e.width-a-d,e.height-c-f);this.ZW(a)},hR:function(){if(this.ti&&this.Hh&&this.Wi&&this.Vi&&this.Vj){var a=this.Da,c=this.ti,d=this.Hh,e=this.Wi,f=this.Vi,g=this.Vj,h=this.Vj.c(),k=c.c(),l=f.c(),m=a.Ia-k.width-d.c().width,a=a.ya-k.height-e.c().height,m=m/h.width,a=a/h.height,k=h.width*m,p=h.height*a,s=l.width,l=l.height;if(!q.La.gd){var u=Math.round(k);k!=u&&(k=u,m=k/h.width);u=Math.round(p);p!=u&&(p=u,a=p/
h.height)}g.rq(m);g.Zn(a);var h=this.fj,u=this.ni,w=this.si,x=this.Ui,F=q.a(0,0);f.w(F);e.w(F);c.w(F);d.w(F);h.w(F);u.w(F);w.w(F);x.w(F);g.w(F);f.l(0,0);e.l(s+k,0);c.l(0,l+p);d.l(s+k,l+p);h.l(0,l);h.Zn(a);u.l(s+k,l);u.Zn(a);x.l(s,0);x.rq(m);w.l(s,l+p);w.rq(m);g.l(s,l)}},ctor:function(){q.Lb.prototype.ctor.call(this);this.wp=q.yd();this.mG=q.yd();this.Xj=q.Eb();this.Bd=new q.Qk(0,0);this.Lg=new q.Qk(0,0);this.Ec=q.Eb();this.ij=255;this.Lo=q.yd();this.ge=[]},uT:function(){return this.Bd},wT:function(){return this.Lg},
Mi:function(a){this.O(a);this.Lg=a},uj:function(){return this.ij},ua:function(a){if(this.Hf){this.ij=a;for(var c=this.Hf.D,d=0;d<c.length;d++){var e=c[d];e&&e.xb&&e.ua(a)}}},Fd:function(){return this.Ec},q:function(a){if(this.Hf){this.Ec=a;for(var c=this.Hf.D,d=0;d<c.length;d++){var e=c[d];e&&e.xb&&e.q(a)}}},s4:function(){return this.Lo},ZW:function(a){if(this.Hf){var c=this.Da,d=c.Ia,c=c.ya;this.yq(this.Hf,this.wp,this.PB,a);this.O(d,c)}},o5:function(){return this.Jv},Uaa:function(a){this.Jv=a;this.Iw()},
q5:function(){return this.Lv},Waa:function(a){this.Lv=a;this.Iw()},p5:function(){return this.Kv},Vaa:function(a){this.Kv=a;this.Iw()},n5:function(){return this.Iv},Taa:function(a){this.Iv=a;this.Iw()},O:function(a,c){2===arguments.length?q.G.prototype.O.call(this,a,c):q.G.prototype.O.call(this,a);this.nl=!0},Ca:function(a){this.nl&&(this.hR(),this.nl=!1);q.Lb.prototype.Ca.call(this,a)},A:function(){return this.px(null,q.yd(),!1,q.yd())},px:function(a,c,d,e){3===arguments.length&&(e=d,d=!1);a&&this.yq(a,
c,d,e);this.w(0.5,0.5);return this.nl=!0},xj:function(a,c,d){a instanceof q.Dg?(d=a=c,c=q.yd()):(c=c||q.yd(),d=d||q.yd());if(!a)throw"cc.Scale9Sprite.initWithFile(): file should be non-null";var e=q.ga.g().py(a);if(!e){var e=q.ga.g().la(a),f=e.Zg();(this.zb=f)||e.jg(function(a){var c=this.Lg,c=q.size(c.width,c.height);a=a.c();this.yq(this.Hf,q.rect(0,0,a.width,a.height),!1,this.Lo);this.Mi(c);this.nl=!0;this.ve()},this)}a=q.Fb.create(a,9);return this.px(a,c,!1,d)},Qe:function(a,c){if(!a||!a.ja())throw"cc.Scale9Sprite.initWithSpriteFrame(): spriteFrame should be non-null and its texture should be non-null";
c=c||q.yd();var d=a.zb;(this.zb=d)||a.jg(function(a){var c=this.Lg,c=q.size(c.width,c.height);this.yq(this.Hf,a.td(),q.La.gd?a.Cd:!1,this.Lo);this.Mi(c);this.nl=!0;this.ve()},this);d=q.Fb.Ka(a.ja(),9);return this.px(d,a.td(),q.La.gd?a.Cd:!1,c)},CJ:function(a,c){if(!a)throw"cc.Scale9Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";c=c||q.yd();var d=q.Eg.g().Qh(a);return null==d?(q.log("cc.Scale9Sprite.initWithSpriteFrameName(): can't find the sprite frame by spriteFrameName"),
!1):this.Qe(d,c)},Z$:function(a){var c=new q.be;return c&&c.px(this.Hf,this.wp,!1,a)?c:null},Rf:function(a){if(this.Hf){this.Gc=a;var c=this.Hf.D;if(c)for(var d=0,e=c.length;d<e;d++)c[d].Rf(a)}},Il:function(){return this.Gc},yq:function(a,c,d,e){var f=this.uj(),g=this.Fd();c=q.rect(c.x,c.y,c.width,c.height);this.cc(!0);this.Hf!=a&&(this.Hf=a);a=a.ja();var h=a.Zg();if(this.zb=h){a=this.Hf;a.cc(!0);h=this.Lo;h.x=e.x;h.y=e.y;h.width=e.width;h.height=e.height;this.PB=d;h=a.ja();q.$r(c)&&(c=h.c(),c=q.rect(0,
0,c.width,c.height));var k=this.wp=c;k.x=c.x;k.y=c.y;k.width=c.width;k.height=c.height;var l=c.Za;this.Bd.width=l.width;this.Bd.height=l.height;k=this.Lg;0===k.width&&0===k.height&&(k.width=l.width,k.height=l.height);k=this.mG;e&&(k.x=e.x,k.y=e.y,k.width=e.width,k.height=e.height);var m=l.width;e=l.height;q.$r(k)&&(k.x=m/3,k.y=e/3,k.width=m/3,k.height=e/3);var p=k.x,s=k.width,u=m-(p+s),w=k.y,x=k.height,F=e-(w+x),J=0,E=0;e=q.rect(J,E,p,w);var J=J+p,k=q.rect(J,E,s,w),m=q.rect(J+s,E,u,w),J=0,E=0+w,l=
q.rect(J,E,p,x),J=J+p,fa=q.rect(J,E,s,x),J=J+s,ga=q.rect(J,E,u,x),J=0,E=0+w+x,w=q.rect(J,E,p,F),J=J+p,p=q.rect(J,E,s,F),J=J+s,s=q.rect(J,E,u,F),u={Q:1,o:0,Na:0,d:1,kb:0,lb:0};if(d){d=fa;var F=s,J=w,E=m,x=e,ta=ga,ha=l,ua=p,va=k,u=q.Gy(u,c.height+c.x,c.y),u=q.zM(u),fa=q.Vf(fa,u),s=q.Vf(s,u),w=q.Vf(w,u),m=q.Vf(m,u);e=q.Vf(e,u);ga=q.Vf(ga,u);l=q.Vf(l,u);p=q.Vf(p,u);k=q.Vf(k,u);d.x=fa.x;d.y=fa.y;F.x=s.x;F.y=s.y;J.x=w.x;J.y=w.y;E.x=m.x;E.y=m.y;x.x=e.x;x.y=e.y;ta.x=ga.x;ta.y=ga.y;ha.x=l.x;ha.y=l.y;ua.x=
p.x;ua.y=p.y;va.x=k.x;va.y=k.y;this.Vj=new q.v;this.Vj.Ta(h,d,!0);a.f(this.Vj,0,q.yF);this.si=new q.v;this.si.Ta(h,va,!0);a.f(this.si,1,q.BF);this.Ui=new q.v;this.Ui.Ta(h,ua,!0);a.f(this.Ui,1,q.wF);this.fj=new q.v;this.fj.Ta(h,ha,!0);a.f(this.fj,1,q.zF);this.ni=new q.v;this.ni.Ta(h,ta,!0);a.f(this.ni,1,q.AF);this.ti=new q.v;this.ti.Ta(h,x,!0);a.f(this.ti,2,q.CF);this.Hh=new q.v;this.Hh.Ta(h,E,!0);a.f(this.Hh,2,q.DF);this.Vi=new q.v;this.Vi.Ta(h,J,!0);a.f(this.Vi,2,q.xF);this.Wi=new q.v;this.Wi.Ta(h,
F,!0)}else u=q.Gy(u,c.x,c.y),q.Ri(fa,u),q.Ri(s,u),q.Ri(w,u),q.Ri(m,u),q.Ri(e,u),q.Ri(ga,u),q.Ri(l,u),q.Ri(p,u),q.Ri(k,u),this.Vj=new q.v,this.Vj.Ta(h,fa),a.f(this.Vj,0,q.yF),this.si=new q.v,this.si.Ta(h,k),a.f(this.si,1,q.BF),this.Ui=new q.v,this.Ui.Ta(h,p),a.f(this.Ui,1,q.wF),this.fj=new q.v,this.fj.Ta(h,l),a.f(this.fj,1,q.zF),this.ni=new q.v,this.ni.Ta(h,ga),a.f(this.ni,1,q.AF),this.ti=new q.v,this.ti.Ta(h,e),a.f(this.ti,2,q.CF),this.Hh=new q.v,this.Hh.Ta(h,m),a.f(this.Hh,2,q.DF),this.Vi=new q.v,
this.Vi.Ta(h,w),a.f(this.Vi,2,q.xF),this.Wi=new q.v,this.Wi.Ta(h,s);a.f(this.Wi,2,q.FN);this.O(c.Za);this.f(a);this.qH&&(this.ua(f),255===g.t&&255===g.p&&255===g.o||this.q(g));return this.qH=!0}a.jg(function(){this.nl=!0;this.ve()},this)},Sf:function(a){var c=q.Fb.Ka(a.ja(),9),d=a.zb;(this.zb=d)||a.jg(function(a){var c=this.Lg,c=q.size(c.width,c.height);this.yq(this.Hf,a.td(),q.La.gd?a.Cd:!1,this.Lo);this.Mi(c);this.nl=!0;this.ve()},this);this.yq(c,a.td(),q.La.gd?a.Cd:!1,q.yd());this.Iv=this.Kv=this.Lv=
this.Jv=0}});q.be.create=function(a,c,d){var e;if(2===arguments.length)if("string"==typeof a){if((e=new q.be)&&e.xj(a,c))return e}else{if(a instanceof q.Dg&&(e=new q.be)&&e.xj(a,d))return e}else if(3===arguments.length){if((e=new q.be)&&e.xj(a,c,d))return e}else if(1===arguments.length){if((e=new q.be)&&e.xj(a))return e}else if(0===arguments.length&&(e=new q.be)&&e.A())return e;return null};q.be.qI=function(a,c){var d=new q.be;return d&&d.Qe(a,c)?d:null};
q.be.rI=function(a,c){if(!a)throw"cc.Scale9Sprite.createWithSpriteFrameName(): spriteFrameName should be non-null";var d=new q.be;return d&&d.CJ(a,c)?d:null};q.Ku=q.Xc.extend({});q.Ku.uda=function(a){var c=new q.Ku;c.A();c.O(0,a);return c};q.Ku.G7=function(a){var c=new q.Ku;c.A();c.O(a,0);return c};
q.wu=q.Xc.extend({xb:!0,Ec:null,ij:0,ctor:function(){},Fd:function(){return this.Ec},q:function(a){this.Ec=a;if(this.D&&0<this.D.length)for(var c=0;c<this.D.length;c++)this.D[c]&&this.D[c].xb&&this.D[c].q(a)},uj:function(){return this.ij},ua:function(a){this.ij=a;if(this.D&&0<this.D.length)for(var c=0;c<this.D.length;c++)this.D[c]&&this.D[c].xb&&this.D[c].ua(a)},mU:function(a,c){if(this.A()){var d=q.fa.g().gc;this.wj(!0);this.w(0.5,0.5);this.O(d);this.l(d.width/2,d.height/2);d=0;if(a){this.f(a,d);
for(var e=0;e<c.length;e++)c[e]&&(d++,this.f(c[e],d))}return!0}return!1},g2:function(){this.ER(q.LM)},ER:function(a){var c=-a,d;if(this.D&&0<this.D.length)for(d=0;d<this.D.length;d++)this.D[d]&&(c+=this.D[d].c().height*this.D[d].Ea+a);var e=0,f=c/2;if(this.D&&0<this.D.length)for(d=0;d<this.D.length;d++)this.D[d]&&(e=Math.max(e,this.D[d].c().width),this.D[d].l(0,f-this.D[d].c().height*this.D[d].Ea/2),f-=this.D[d].c().height*this.D[d].Ea+a);this.O(e,c)},d2:function(){this.DR(q.LM)},DR:function(a){var c=
-a,d;if(this.D&&0<this.D.length)for(d=0;d<this.D.length;d++)this.D[d]&&(c+=this.D[d].c().width*this.D[d].wa+a);var e=0,f=-c/2;if(this.D&&0<this.D.length)for(d=0;d<this.D.length;d++)this.D[d]&&(e=Math.max(e,this.D[d].c().height),this.D[d].l(f+this.D[d].c().width*this.D[d].wa/2,0),f+=this.D[d].c().width*this.D[d].wa+a);this.O(c,e)},e2:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=-5,f=0,g=0,h=0,k,l;if(this.D&&0<this.D.length)for(d=0;d<this.D.length;d++)this.D[d]&&
(f>=c.length?q.log("cc.MenuPassive.alignItemsInColumns(): invalid row index"):(k=c[f])?(l=this.D[d].c().height,g=0|(g>=l||null==l?g:l),++h,h>=k&&(e+=g+5,g=h=0,++f)):q.log("cc.MenuPassive.alignItemsInColumns(): can not have zero columns on a row"));var m=q.fa.g().gc,p=k=g=f=0,s=0,e=e/2;if(this.D&&0<this.D.length)for(d=0;d<this.D.length;d++)this.D[d]&&(0==k&&(k=c[f],s=p=m.width/(1+k)),l=this.D[d].c().height,g=0|(g>=l||null==l?g:l),this.D[d].l(s-m.width/2,e-this.D[d].c().height/2),s+=p,++h,h>=k&&(e-=
g+5,g=k=h=0,++f))},f2:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=[],f=[],g=-10,h=-5,k=0,l=0,m=0,p,s;if(this.D&&0<this.D.length)for(d=0;d<this.D.length;d++)this.D[d]&&(k>=c.length?q.log("cc.MenuPassive.alignItemsInRows(): invalid row index"):(p=c[k])?(s=this.D[d].c().width,l=0|(l>=s||null==s?l:s),h+=0|this.D[d].c().height+5,++m,m>=p&&(e.push(l),f.push(h),g+=l+10,l=m=0,h=-5,++k)):q.log("cc.MenuPassive.alignItemsInColumns(): can't have zero rows on a column"));h=
q.fa.g().gc;l=k=0;p=null;var g=-g/2,u=0;if(this.D&&0<this.D.length)for(d=0;d<this.D.length;d++)this.D[d]&&(null==p&&(p=c[k],u=f[k]),s=this.D[d].c().width,l=0|(l>=s||null==s?l:s),this.D[d].l(g+e[k]/2,u-h.height/2),u-=this.D[d].c().height+10,++m,m>=p&&(g+=l+5,l=p=m=0,++k))},Rf:function(){},Il:function(){return!1}});q.wu.create=function(a){0==arguments.length&&(a=null);for(var c=[],d=1;d<arguments.length;d++)c.push(arguments[d]);return(d=new q.wu)&&d.mU(a,c)?d:null};
q.wu.c3=function(a){return q.wu.create(a,null)};q.Sy=q.nc.extend({zB:0,lv:0,$c:null,LP:null,oH:null,Gh:null,Nc:null,Hg:0,Uj:0,y6:function(){return this.zB},o4:function(){return this.lv},TI:function(){return this.$c},a6:function(){return this.lv},F6:function(){return this.oH},JT:function(){return this.Gh},MT:function(){return this.Nc},oD:function(a,c){return q.nc.prototype.A.call(this)?(this.qc(!0),this.$c=q.se.tn("colourPickerBackground.png",a,c,q.a(0,0)),this.LP=q.se.tn("colourPickerOverlay.png",a,c,q.a(0,0)),this.oH=q.se.tn("colourPickerShadow.png",
a,c,q.a(0,0)),this.Gh=q.se.tn("colourPicker.png",a,c,q.a(0.5,0.5)),this.Nc=c,this.Hg=35,this.Uj=this.$c.c().width/2,!0):!1},Qf:function(a){q.nc.prototype.Qf.call(this,a);this.Gh&&this.Gh.ua(a?255:128)},qM:function(a){var c=new q.cz;c.s=1;c.h=a.h;c.va=1;a=q.se.sz(c);this.$c.q(q.vC(0|255*a.t,0|255*a.p,0|255*a.o))},LY:function(a){a=q.a(this.Nc.x+this.Hg+this.Uj*(1-a.s),this.Nc.y+this.Hg+this.Uj*a.va);this.Lw(a)},Lw:function(a){var c=this.Nc.x+0.5*this.$c.qb().width,d=this.Nc.y+0.5*this.$c.qb().height,
e=a.x-c,f=a.y-d,g=Math.sqrt(e*e+f*f),e=Math.atan2(f,e),f=0.5*this.$c.qb().width;g>f&&(a.x=c+f*Math.cos(e),a.y=d+f*Math.sin(e));this.Gh.l(a);a.x<this.Nc.x+this.Hg?a.x=this.Nc.x+this.Hg:a.x>this.Nc.x+this.Hg+this.Uj-1&&(a.x=this.Nc.x+this.Hg+this.Uj-1);a.y<this.Nc.y+this.Hg?a.y=this.Nc.y+this.Hg:a.y>this.Nc.y+this.Hg+this.Uj&&(a.y=this.Nc.y+this.Hg+this.Uj);this.zB=1-Math.abs((this.Nc.x+this.Hg-a.x)/this.Uj);this.lv=Math.abs((this.Nc.y+this.Hg-a.y)/this.Uj)},$q:function(a){var c=this.Nc.x+0.5*this.$c.qb().width,
d=this.Nc.y+0.5*this.$c.qb().height,c=a.x-c,d=a.y-d;return Math.sqrt(c*c+d*d)<=0.5*this.$c.qb().width?(this.Lw(a),this.wf(q.Oi),!0):!1},vb:function(a){if(!this.isEnabled()||!this.za)return!1;a=this.vj(a);return this.$q(a)},Ud:function(a){a=this.vj(a);this.$q(a)}});q.Sy.create=function(a,c){var d=new q.Sy;d.oD(a,c);return d};q.Ry=q.nc.extend({cp:0,Hr:0,$c:null,Gh:null,Nc:null,i5:function(){return this.cp},kE:function(a){this.cp=a;this.oX(this.cp/360)},j5:function(){return this.Hr},oX:function(a){this.Hr=a;this.cp=360*this.Hr;a=this.$c.qb();var c=0.5*a.width-15,d=q.Mj(360*this.Hr-180);this.Gh.l(this.Nc.x+0.5*a.width+c*Math.cos(d),this.Nc.y+0.5*a.height+c*Math.sin(d))},Qf:function(a){q.nc.prototype.Qf.call(this,a);this.Gh&&this.Gh.ua(a?255:128)},TI:function(){return this.$c},JT:function(){return this.Gh},MT:function(){return this.Nc},
oD:function(a,c){return q.nc.prototype.A.call(this)?(this.qc(!0),this.$c=q.se.tn("huePickerBackground.png",a,c,q.a(0,0)),this.Gh=q.se.tn("colourPicker.png",a,c,q.a(0.5,0.5)),this.Gh.l(c.x,c.y+0.5*this.$c.qb().height),this.Nc=c,this.Hr=this.cp=0,!0):!1},Lw:function(a){var c=this.$c.qb();this.kE(q.qz(Math.atan2(a.y-(this.Nc.y+0.5*c.height),a.x-(this.Nc.x+0.5*c.width)))+180);this.wf(q.Oi)},$q:function(a){var c=Math.sqrt(Math.pow(a.x+10,2)+Math.pow(a.y,2));return 80>c&&59<c?(this.Lw(a),!0):!1},vb:function(a){if(!this.isEnabled()||
!this.za)return!1;a=this.vj(a);return this.$q(a)},Ud:function(a){a=this.vj(a);this.$q(a)}});q.Ry.create=function(a,c){var d=new q.Ry;d.oD(a,c);return d};q.cF=q.nc.extend({wh:null,Yk:null,Km:null,$c:null,jU:function(a){this.wh.h=a.cp;a=q.se.sz(this.wh);q.nc.prototype.q.call(this,q.vC(0|255*a.t,0|255*a.p,0|255*a.o));this.wf(q.Oi);this.eR()},fS:function(a){this.wh.s=a.zB;this.wh.va=a.lv;a=q.se.sz(this.wh);q.nc.prototype.q.call(this,q.vC(0|255*a.t,0|255*a.p,0|255*a.o));this.wf(q.Oi)},q:function(a){q.nc.prototype.q.call(this,a);var c=new q.RGBA;c.t=a.t/255;c.p=a.p/255;c.o=a.o/255;c.Q=1;this.wh=q.se.$M(c);this.HH()},TI:function(){return this.$c},A:function(){if(q.nc.prototype.A.call(this)){this.qc(!0);
q.Eg.g().$H(aa.VE);var a=q.Fb.create(aa.WE);this.f(a);this.wh=new q.cz(0,0,0);this.$c=q.se.tn("menuColourPanelBackground.png",a,q.Oj(),q.a(0.5,0.5));var c=q.Vd(this.$c.u,q.a(this.$c.c().width/2,this.$c.c().height/2));this.Km=q.Ry.create(a,q.a(c.x+8,c.y+8));this.Yk=q.Sy.create(a,q.a(c.x+28,c.y+28));this.Km.aI(this,this.jU,q.Oi);this.Yk.aI(this,this.fS,q.Oi);this.HH();this.f(this.Km);this.f(this.Yk);this.O(this.$c.c());return!0}return!1},eR:function(){this.Km.kE(this.wh.h);this.Yk.qM(this.wh)},HH:function(){this.Km.kE(this.wh.h);
this.Yk.qM(this.wh);this.Yk.LY(this.wh)},Qf:function(a){q.nc.prototype.Qf.call(this,a);null!=this.Km&&this.Km.Qf(a);this.Yk&&this.Yk.Qf(a)},vb:function(){return!1}});q.cF.create=function(){var a=new q.cF;a.A();return a};aa=aa||{};aa.VE=aa.VE||"res/extensions/CCControlColourPickerSpriteSheet.plist";aa.WE=aa.WE||"res/extensions/CCControlColourPickerSpriteSheet.png";q.KF=24;q.o0=8;
q.eF=q.nc.extend({md:0,ub:0,Qb:0,bw:0,$v:0,Rb:null,ol:null,ue:null,mJ:function(){return this.md},xf:function(a){a=Math.max(a,this.ub);this.md=a=Math.min(a,this.Qb);this.ud();this.wf(q.Oi)},qT:function(){return this.ub},mL:function(a){this.bw=this.ub=a;this.ub>=this.Qb&&(this.Qb=this.ub+1);this.xf(this.md)},pT:function(){return this.Qb},kL:function(a){this.$v=this.Qb=a;this.Qb<=this.ub&&(this.ub=this.Qb-1);this.xf(this.md)},Hi:function(a){a=a.T;a=this.getParent().Ja(a);var c=this.qb();c.Za.width+=
this.Rb.c().width;c.jd.x-=this.Rb.c().width/2;return q.wb(c,a)},Hn:function(a){a=a.T;a=this.Ja(a);0>a.x?a.x=0:a.x>this.ue.c().width&&(a.x=this.ue.c().width);return a},E5:function(){return this.bw},gba:function(a){this.bw=a},C5:function(){return this.$v},fba:function(a){this.$v=a},kJ:function(){return this.Rb},j6:function(){return this.ol},i4:function(){return this.ue},qU:function(a,c,d){return q.nc.prototype.A.call(this)?(this.wj(!1),this.qc(!0),this.ue=a,this.ol=c,this.Rb=d,a=q.se.XE(a.qb(),d.qb()),
this.O(a.width,a.height),this.ue.w(0.5,0.5),this.ue.l(a.width/2,a.height/2),this.f(this.ue),this.ol.w(0,0.5),this.ol.l(0,a.height/2),this.f(this.ol),this.Rb.l(0,a.height/2),this.f(this.Rb),this.ub=0,this.Qb=1,this.xf(this.ub),!0):!1},Qf:function(a){q.nc.prototype.Qf.call(this,a);this.Rb&&this.Rb.ua(a?255:128)},vY:function(a){this.sq(!0);this.Rb.q(q.Gl());this.xf(this.PE(a))},xY:function(a){this.xf(this.PE(a))},wY:function(){this.sp&&this.xf(this.PE(this.Rb.u));this.Rb.q(q.Eb());this.sq(!1)},f7:function(a){a=
a.T;a=this.Ja(a);0>a.x?a.x=0:a.x>this.ue.c().width+q.KF&&(a.x=this.ue.c().width+q.KF);return a},vb:function(a){if(!this.Hi(a)||!this.isEnabled()||!this.za)return!1;a=this.Hn(a);this.vY(a);return!0},Ud:function(a){a=this.Hn(a);this.xY(a)},fh:function(){this.wY(q.Oj())},ud:function(){this.Rb.Pa((this.md-this.ub)/(this.Qb-this.ub)*this.ue.c().width);var a=this.ol.$C(),a=q.rect(a.x,a.y,this.Rb.u.J,a.height);this.ol.jb(a,this.ol.rd,a.Za)},PE:function(a){a=a.x/this.ue.c().width;return Math.max(Math.min(this.ub+
a*(this.Qb-this.ub),this.$v),this.bw)}});q.eF.create=function(a,c,d){"string"==typeof a&&(a=q.v.create(a),c=q.v.create(c),d=q.v.create(d));var e=new q.eF;e.qU(a,c,d);return e};q.gF=q.nc.extend({sd:null,EG:0,Vr:!1,np:!1,ctor:function(){q.nc.prototype.ctor.call(this)},lD:function(a,c,d,e,f,g){if(!a)throw"cc.ControlSwitch.initWithMaskSprite(): maskSprite should be non-null.";if(!c)throw"cc.ControlSwitch.initWithMaskSprite(): onSprite should be non-null.";if(!d)throw"cc.ControlSwitch.initWithMaskSprite(): offSprite should be non-null.";if(!e)throw"cc.ControlSwitch.initWithMaskSprite(): thumbSprite should be non-null.";return this.A()?(this.qc(!0),this.np=!0,this.sd=new q.KM,
this.sd.lD(a,c,d,e,f,g),this.sd.l(this.sd.c().width/2,this.sd.c().height/2),this.f(this.sd),this.wj(!1),this.w(0.5,0.5),this.O(this.sd.c()),!0):!1},Yx:function(a,c){var d=(this.np=a)?this.sd.ll:this.sd.Pm;c?this.sd.Rx(q.ko.create(0.2,"sliderXPosition",this.sd.ok,d)):this.sd.nE(d);this.wf(q.Oi)},r8:function(){return this.np},E7:function(){return this.Vr},Qf:function(a){this.wr=a;this.sd.ua(a?255:128)},Hn:function(a){a=a.T;return a=this.Ja(a)},vb:function(a){if(!this.Hi(a)||!this.isEnabled()||!this.za)return!1;
this.Vr=!1;this.EG=this.Hn(a).x-this.sd.ok;this.sd.Rb.q(q.Gl());this.sd.ud();return!0},Ud:function(a){a=this.Hn(a);a=q.a(a.x-this.EG,0);this.Vr=!0;this.sd.nE(a.x)},fh:function(a){a=this.Hn(a);this.sd.Rb.q(q.Eb());this.Vr?this.Yx(!(a.x<this.sd.c().width/2),!0):this.Yx(!this.np,!0)},Fk:function(a){a=this.Hn(a);this.sd.Rb.q(q.Eb());this.Vr?this.Yx(!(a.x<this.sd.c().width/2),!0):this.Yx(!this.np,!0)}});q.gF.create=function(a,c,d,e,f,g){var h=new q.gF;return h&&h.lD(a,c,d,e,f,g)?h:null};
q.KM=q.v.extend({ok:0,ll:0,Pm:0,vH:0,YA:0,ZA:null,Ah:null,hj:null,Rb:null,Qm:null,Om:null,Ro:null,Hc:null,iv:null,ctor:function(){q.v.prototype.ctor.call(this);this.YA=this.Pm=this.ll=this.ok=0;this.ZA=q.size(0,0);this.Om=this.Qm=this.Rb=this.hj=this.Ah=null},lD:function(a,c,d,e,f,g){return q.v.prototype.Ta.call(this,a.ja())?(this.ll=0,this.Pm=-c.c().width+e.c().width/2,this.ok=this.ll,this.FX(c),this.DX(d),this.pE(e),this.EX(f),this.CX(g),this.Hc=a,a=this.ZA=this.Hc.c(),this.Hc.l(0,0),this.Ro=q.Bb.create(),
this.Ro.w(0.5,0.5),this.Ro.l(a.width/2,a.height/2),this.Ro.oE(this.Hc),this.iv=q.yb.create(a.width,a.height),this.Ro.f(this.iv.Cb),this.f(this.Ro),this.f(this.Rb),this.ud(),!0):!1},ud:function(){this.Ah.l(this.Ah.c().width/2+this.ok,this.Ah.c().height/2);this.hj.l(this.Ah.c().width+this.hj.c().width/2+this.ok,this.hj.c().height/2);this.Qm&&this.Qm.l(this.Ah.u.x-this.Rb.c().width/6,this.Ah.c().height/2);this.Om&&this.Om.l(this.hj.u.x+this.Rb.c().width/6,this.hj.c().height/2);this.Rb.l(this.Ah.c().width+
this.ok,this.ZA.height/2);this.iv.vk();this.Ah.Ca();this.hj.Ca();this.Qm&&this.Qm.Ca();this.Om&&this.Om.Ca();this.iv.end()},nE:function(a){a<=this.Pm?a=this.Pm:a>=this.ll&&(a=this.ll);this.ok=a;this.ud()},I6:function(){return this.ok},G9:function(){return this.Ah.c().width},E9:function(){return this.hj.c().height},NE:function(a,c){q.log("key \x3d "+c+", value \x3d "+a);this.nE(a)},pba:function(a){this.ll=a},U5:function(){return this.ll},mba:function(a){this.Pm=a},O5:function(){return this.Pm},eba:function(a){this.Hc.ma(a)},
y5:function(){return this.Hc.ja()},Tba:function(a){this.vH=a},V6:function(){return this.vH},dba:function(a){this.YA=a},x5:function(){return this.YA},FX:function(a){this.Ah=a},V5:function(){return this.Ah},DX:function(a){this.hj=a},P5:function(){return this.hj},pE:function(a){this.Rb=a},kJ:function(){return this.Rb},EX:function(a){this.Qm=a},T5:function(){return this.Qm},CX:function(a){this.Om=a},N5:function(){return this.Om}});q.$E=0;q.aF=1;q.St=2;q.Bq=q.n(55,55,55);q.Ny=q.n(147,147,147);q.ZE="CourierNewPSMT";q.TE=0.15;q.xM=12;
q.fF=q.nc.extend({he:null,Ef:null,kl:null,ml:null,md:0,dr:!1,Do:!1,pn:!1,ub:0,Qb:0,an:0,xs:!1,jn:q.St,Xq:0,ctor:function(){q.nc.prototype.ctor.call(this);this.ml=this.kl=this.Ef=this.he=null;this.md=0;this.pn=this.Do=this.dr=!1;this.an=this.Qb=this.ub=0;this.xs=!1;this.jn=q.St;this.Xq=0},oU:function(a,c){if(!a)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Minus sprite should be non-null.";if(!c)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Plus sprite should be non-null.";
if(this.A()){this.qc(!0);this.dr=this.Do=!0;this.ub=0;this.Qb=100;this.md=0;this.an=1;this.pn=!1;this.wj(!1);this.yX(a);this.he.l(a.c().width/2,a.c().height/2);this.f(this.he);this.xX(q.S.create("-",q.ZE,40,q.size(40,40),q.Sj,q.Yu));this.kl.q(q.Ny);this.kl.l(this.he.c().width/2,this.he.c().height/2);this.he.f(this.kl);this.JX(c);this.Ef.l(a.c().width+c.c().width/2,a.c().height/2);this.f(this.Ef);this.IX(q.S.create("+",q.ZE,40,q.size(40,40),q.Sj,q.Yu));this.ml.q(q.Bq);this.ml.l(this.Ef.c().width/2,
this.Ef.c().height/2);this.Ef.f(this.ml);var d=q.se.XE(this.he.qb(),this.Ef.qb());this.O(this.he.c().width+this.Ef.c().height,d.Za.height);return!0}return!1},gca:function(a){if(this.pn=a)this.kl.q(q.Bq),this.ml.q(q.Bq);this.xf(this.md)},mL:function(a){if(a>=this.Qb)throw"cc.ControlStepper.setMinimumValue(): minimumValue should be numerically less than maximumValue.";this.ub=a;this.xf(this.md)},kL:function(a){if(a<=this.ub)throw"cc.ControlStepper.setMaximumValue(): maximumValue should be numerically less than maximumValue.";
this.Qb=a;this.xf(this.md)},xf:function(a){this.tE(a,!0)},mJ:function(){return this.md},Mba:function(a){if(0>=a)throw"cc.ControlStepper.setMaximumValue(): stepValue should be numerically greater than 0.";this.an=a},c8:function(){return this.dr},tE:function(a,c){a<this.ub?a=this.pn?this.Qb:this.ub:a>this.Qb&&(a=this.pn?this.ub:this.Qb);this.md=a;this.pn||(this.kl.q(a==this.ub?q.Ny:q.Bq),this.ml.q(a==this.Qb?q.Ny:q.Bq));c&&this.wf(q.Oi)},WL:function(){this.Xq=-1;this.lc(this.update,q.TE,q.tm,3*q.TE)},
YL:function(){this.Oc(this.update)},update:function(){this.Xq++;this.Xq<q.xM&&0!=this.Xq%3||(this.jn==q.$E?this.tE(this.md-this.an,this.dr):this.jn==q.aF&&this.tE(this.md+this.an,this.dr))},iM:function(a){a.x<this.he.c().width&&this.md>this.ub?(this.jn=q.$E,this.he.q(q.Gl()),this.Ef.q(q.Eb())):a.x>=this.he.c().width&&this.md<this.Qb?(this.jn=q.aF,this.he.q(q.Eb()),this.Ef.q(q.Gl())):(this.jn=q.St,this.he.q(q.Eb()),this.Ef.q(q.Eb()))},vb:function(a){if(!this.Hi(a)||!this.isEnabled()||!this.za)return!1;
a=this.vj(a);this.iM(a);this.xs=!0;this.Do&&this.WL();return!0},Ud:function(a){this.Hi(a)?(a=this.vj(a),this.iM(a),this.xs||(this.xs=!0,this.Do&&this.WL())):(this.xs=!1,this.jn=q.St,this.he.q(q.Eb()),this.Ef.q(q.Eb()),this.Do&&this.YL())},fh:function(a){this.he.q(q.Eb());this.Ef.q(q.Eb());this.Do&&this.YL();this.Hi(a)&&(a=this.vj(a),this.xf(this.md+(a.x<this.he.c().width?0-this.an:this.an)))},yX:function(a){this.he=a},G5:function(){return this.he},JX:function(a){this.Ef=a},e6:function(){return this.Ef},
xX:function(a){this.kl=a},F5:function(){return this.kl},IX:function(a){this.ml=a},d6:function(){return this.ml}});q.fF.create=function(a,c){var d=new q.fF;return d&&d.oU(a,c)?d:null};q.dF=q.nc.extend({Rb:null,qp:null,pp:null,md:0,ub:0,Qb:1,tU:function(a,c,d){return this.A()?(this.qc(!0),this.NX(c),this.pE(d),this.Rb.l(c.u),this.f(d,2),this.f(c,1),this.f(a),this.O(a.c()),this.ub=0,this.Qb=1,this.xf(this.ub),!0):!1},Qf:function(a){this.Qf(a);this.Rb!=NULL&&this.Rb.ua(a?255:128)},xf:function(a){a<this.ub&&(a=this.ub);a>this.Qb&&(a=this.Qb);this.md=a;a=(a-this.ub)/(this.Qb-this.ub);this.qp.tt(100*a);this.Rb.ay(360*a);this.wf(q.Oi)},mJ:function(){return this.md},mL:function(a){this.ub=
a;this.ub>=this.Qb&&(this.Qb=this.ub+1);this.xf(this.Qb)},qT:function(){return this.ub},kL:function(a){this.Qb=a;this.Qb<=this.ub&&(this.ub=this.Qb-1);this.xf(this.ub)},pT:function(){return this.Qb},Hi:function(a){a=this.vj(a);return this.LS(this.qp.u,a)<Math.min(this.c().width/2,this.c().height/2)},vb:function(a){if(!this.Hi(a)||!this.isEnabled()||!this.za)return!1;this.pp=this.vj(a);this.FV(this.pp);return!0},Ud:function(a){a=this.vj(a);this.HV(a)},fh:function(){this.GV(q.a(0,0))},LS:function(a,
c){var d=a.x-c.x,e=a.y-c.y;return Math.sqrt(d*d+e*e)},GR:function(a,c,d,e){return 180*(Math.atan2(c.x-a.x,c.y-a.y)-Math.atan2(e.x-d.x,e.y-d.y))/Math.PI},FV:function(){this.sq(!0);this.Rb.q(q.Gl())},HV:function(a){var c=this.GR(this.qp.u,a,this.qp.u,this.pp);180<c?c-=360:-180>c&&(c+=360);this.xf(this.md+c/360*(this.Qb-this.ub));this.pp=a},GV:function(){this.Rb.q(q.Eb());this.sq(!1)},pE:function(a){this.Rb=a},kJ:function(){return this.Rb},NX:function(a){this.qp=a},k6:function(){return this.qp},vba:function(a){this.pp=
a},xT:function(){return this.pp}});q.dF.create=function(a,c,d){var e=new q.dF;return e&&(a=q.v.create(a),d=q.v.create(d),c=q.Yc.create(q.v.create(c)),e.tU(a,c,d))?e:null};q.IF=-1;q.uo=0;q.Iq=1;q.Gu=2;q.jS=function(a){var c=q.sa.g();return(c.wa+c.Ea)/2*a/160};q.RN=q.Qa.extend({NW:function(){},OW:function(){}});
q.ci=q.Xc.extend({O1:0,x1:0,v1:0,Fa:null,aj:q.Gu,bj:!1,TO:null,Ya:null,Ih:!1,Yv:null,aw:null,Yq:!1,ar:!1,bs:null,Gp:null,ys:0,Jh:null,wi:null,SG:0,QG:0,Xr:null,AB:!1,wH:null,ctor:function(){q.Xc.prototype.ctor.call(this);this.TO=new q.rh(0,0);this.Yv=new q.rh(0,0);this.aw=new q.rh(0,0);this.bs=new q.rh(0,0);this.Gp=new q.rh(0,0);this.Jh=[];this.wi=new q.Qk(0,0);this.Xr=new q.Dg(0,0,0,0);this.wH=new q.Dg(0,0,0,0)},A:function(){return this.gq(q.size(200,200),null)},Ox:function(){q.PD(this.vl,!1,this)},
gq:function(a,c){var d=q.a(0,0);return q.Xc.prototype.A.call(this)?(this.Ya=c,this.Ya||(this.Ya=q.Xc.create(),this.Ya.wj(!1),this.Ya.w(d)),this.GL(a),this.qc(!0),this.Jh.length=0,this.Fa=null,this.ar=this.Yq=!0,this.aj=q.Gu,this.Ya.l(d),this.ys=0,this.f(this.Ya),this.SG=this.QG=1,!0):!1},Yl:function(a,c){if(c)this.cX(a,0.15);else{if(!this.Yq){var d=this.In(),e=this.it();a.x=Math.max(d.x,Math.min(e.x,a.x));a.y=Math.max(d.y,Math.min(e.y,a.y))}this.Ya.l(a)}},VI:function(){var a=this.Ya.u;return q.a(a.x,
a.y)},cX:function(a,c){var d=q.xu.create(c,a),e=q.Cq.create(this.TQ,this);this.Ya.Rx(q.Qj.create(d,e));this.lc(this.fB)},ML:function(a,c){if(c)this.hY(a,0.15);else{var d=this.Ya;if(d.WC()!=a){var e,f;0==this.ys?(f=this.wi,f=q.a(0.5*f.width,0.5*f.height),f=this.yl(f)):f=this.Gp;e=d.Ja(f);d.Hk(Math.max(this.SG,Math.min(this.QG,a)));e=d.yl(e);f=q.Vd(f,e);this.Yl(q.gh(d.u,f))}}},pJ:function(){return this.Ya.WC()},hY:function(a,c){if(0<c){var d=this.Ya.WC();d!=a&&(d=q.ko.create(c,"zoomScale",d,a),this.Rx(d))}else this.ML(a)},
In:function(){var a=this.Ya,c=a.c(),d=this.wi;return q.a(d.width-c.width*a.wa,d.height-c.height*a.Ea)},it:function(){return q.a(0,0)},q8:function(a){var c=this.VI(),d=this.wi,e=this.pJ(),c=q.rect(-c.x/e,-c.y/e,d.width/e,d.height/e);return q.VV(c,a.qb())},pause:function(){this.Ya.Kx();for(var a=this.Ya.D,c=0;c<a.length;c++)a[c].Kx()},LK:function(){for(var a=this.Ya.D,c=0,d=a.length;c<d;c++)a[c].Qx();this.Ya.Qx()},f8:function(){return this.bj},I8:function(){return this.Ih},Y7:function(){return this.Yq},
XW:function(a){this.Yq=a},s7:function(){return this.wi},GL:function(a){this.wi=a;q.G.prototype.O.call(this,a)},C4:function(){return this.Ya},aX:function(a){a&&(this.cc(!0),this.Ya=a,a.wj(!1),a.w(0,0),this.f(a),this.GL(this.wi))},R4:function(){return this.aj},ZK:function(a){this.aj=a},Cc:function(){return this.Fa},tg:function(a){this.Fa=a},vb:function(a){if(!this.za)return!1;var c=this.OA(),d=this.Ya,e=d.yl(d.yi(a)),f=this.Jh;if(2<f.length||this.Ih||!q.wb(c,e))return!1;f.push(a);1===f.length?(this.Gp=
this.yi(a),this.Ih=!1,this.bj=!0,this.bs.x=0,this.ys=this.bs.y=0):2==f.length&&(this.Gp=q.HD(this.yi(f[0]),this.yi(f[1])),this.ys=q.ED(d.yi(f[0]),d.yi(f[1])),this.bj=!1);return!0},Ud:function(a){if(this.za)if(1===this.Jh.length&&this.bj){this.Ih=!0;var c=this.OA(),d=this.yi(a);a=q.Vd(d,this.Gp);var e=0,f=this.aj,e=f===q.Iq?a.y:f===q.uo?a.x:Math.sqrt(a.x*a.x+a.y*a.y);if(this.Ih||!(0.04375>Math.abs(q.jS(e))))if(this.Ih||(a.x=0,a.y=0),this.Gp=d,this.Ih=!0,q.wb(c,this.yl(d))){switch(f){case q.Iq:a.x=
0;break;case q.uo:a.y=0}d=this.Ya.u;c=d.x+a.x;d=d.y+a.y;this.bs=a;this.Yl(q.a(c,d))}}else 2!==this.Jh.length||this.bj||(a=q.ED(this.Ya.yi(this.Jh[0]),this.Ya.yi(this.Jh[1])),this.ML(this.pJ()*a/this.ys))},fh:function(){this.za&&(1==this.Jh.length&&this.Ih&&this.lc(this.pA),this.Jh.length=0,this.Ih=this.bj=!1)},Fk:function(){this.za&&(this.Jh.length=0,this.Ih=this.bj=!1)},O:function(a,c){null!=this.Ya&&(2===arguments.length?this.Ya.O(a,c):this.Ya.O(a),this.MY())},c:function(){return this.Ya.c()},MY:function(){if(null!=
this.Ya){var a=this.wi,c=this.it();this.Yv.x=c.x+0.2*a.width;this.Yv.y=c.y+0.2*a.height;c=this.In();this.aw.x=c.x-0.2*a.width;this.aw.y=c.y-0.2*a.height}},a8:function(){return this.ar},yaa:function(a){this.ar=a},Ca:function(a){if(this.za){a=a||q.ea;var c,d=this.D,e,f;if(q.Xd===q.zg){a.save();this.transform(a);this.gG(a);if(d&&0<d.length){f=d.length;this.oe();for(c=0;c<f;c++)if((e=d[c])&&0>e.pb)e.Ca(a);else break;for(this.$a(a);c<f;c++)d[c].Ca(a)}else this.$a(a);this.eG();a.restore()}else{q.kq();var g=
this.dl;g&&g.hq()&&(g.tC(),this.ty());this.transform(a);this.gG(a);if(d&&0<d.length){f=d.length;for(c=0;c<f;c++)if((e=d[c])&&0>e.pb)e.Ca();else break;for(this.$a(a);c<f;c++)d[c].Ca()}else this.$a(a);this.eG(a);g&&g.hq()&&g.pC(this);q.jq()}}},f:function(a,c,d){if(!a)throw Error("child must not nil!");c=c||a.pb;d=d||a.Ed;a.wj(!1);a.w(0,0);this.Ya!=a?this.Ya.f(a,c,d):q.Xc.prototype.f.call(this,a,c,d)},qc:function(a){q.Xc.prototype.qc.call(this,a);a||(this.Ih=this.bj=!1,this.Jh.length=0)},q1:function(){return null},
VP:function(a){var c=this.In(),d=this.it(),e=this.aj,f=this.Ya.u,g=f.x,h=f.y;if(e===q.Gu||e===q.uo)g=Math.max(g,c.x),g=Math.min(g,d.x);if(e==q.Gu||e==q.Iq)h=Math.min(h,d.y),h=Math.max(h,c.y);h==f.y&&g==f.x||this.Yl(q.a(g,h),a)},pA:function(){if(this.bj)this.Oc(this.pA);else{var a,c;a=this.Ya.u;var d=this.bs;this.Ya.l(a.x+d.x,a.y+d.y);this.Yq?(a=this.Yv,c=this.aw):(a=this.it(),c=this.In());var e=this.Ya.u.J,f=this.Ya.u.U;d.x*=0.95;d.y*=0.95;this.Yl(q.a(e,f));if(1>=Math.abs(d.x)&&1>=Math.abs(d.y)||
f>a.y||f<c.y||e>a.x||e<c.x||e==a.x||e==c.x||f==a.y||f==c.y)this.Oc(this.pA),this.VP(!0)}},fB:function(){this.bj&&this.Oc(this.fB)},TQ:function(){this.Oc(this.fB)},gG:function(a){if(this.ar){this.AB=!1;var c=this.OA(),d=q.sa.g(),e=this.wa,f=this.Ea;a=a||q.ea;if(q.Xd===q.zg)c=this.wi.width*e*d.wa,d=this.wi.height*f*d.Ea,a.beginPath(),a.rect(0,0,c,-d),a.clip(),a.closePath();else if(d=q.sa.g(),d.GU()){if(this.AB=!0,this.Xr=d.DT(),q.UV(c,this.Xr)){var g=this.Xr;a=Math.max(c.x,g.x);f=Math.max(c.y,g.y);
e=Math.min(c.x+c.width,g.x+g.width);c=Math.min(c.y+c.height,g.y+g.height);d.lE(a,f,e-a,c-f)}}else a.enable(a.SCISSOR_TEST),d.lE(c.x,c.y,c.width,c.height)}},eG:function(a){this.ar&&q.Xd===q.Rk&&(this.AB?(a=this.Xr,q.sa.g().lE(a.x,a.y,a.width,a.height)):(a=a||q.ea,a.disable(a.SCISSOR_TEST)))},o1:function(){},OA:function(){for(var a=this.yl(q.Oj()),c=this.wi,d=this.wa,e=this.Ea,f=this.da;null!=f;f=f.getParent())d*=f.wa,e*=f.Ea;0>d&&(a.x+=c.width*d,d=-d);0>e&&(a.y+=c.height*e,e=-e);f=this.wH;f.x=a.x;
f.y=a.y;f.width=c.width*d;f.height=c.height*e;return f}});q.ci.create=function(a,c){var d=new q.ci;if(2==arguments.length){if(d&&d.gq(a,c))return d}else if(d&&d.A())return d;return null};q.SN=q.Qa.extend({Xx:function(){},Ei:function(){return 0}});q.TN=q.SN.extend({aB:0,ctor:function(){this.aB=0},Xx:function(a){this.aB=a},Ei:function(){return this.aB}});function ia(a,c){return a.Ei()-c.Ei()}
q.Jy=q.Qa.extend({Eh:null,ctor:function(){this.Eh=[]},FJ:function(a){if(!a)throw"cc.ArrayForObjectSorting.insertSortedObject(): addObject should be non-null.";this.wU(a,this.fq(a))},sW:function(a){if(0!=this.count()){var c=this.fq(a);c<this.count()&&c!=q.Qi&&this.Mn(c).Ei()==a.Ei()&&this.UD(c)}},lba:function(a,c){var d=this.fq(c);if(d<this.count()&&d!=q.Qi){var e=this.Mn(d);e.Ei()==c.Ei()&&(this.UD(d),e.Xx(a),this.FJ(e))}},lK:function(a){if(0==this.count())return null;var c=new q.TN;c.Xx(a);var d=
this.fq(c);d<this.count()&&d!=q.Qi&&(c=this.Mn(d),c.Ei()!=a&&(c=null));return c},M5:function(){return null},fq:function(a){var c=0;if(a){var d=0;a=a.Ei();for(var e=this.Eh,f=0;f<e.length;f++){var g=e[f].Ei();if(a==g||a>=d&&a<g)break;d=g;c++}}else c=q.Qi;return c},count:function(){return this.Eh.length},X8:function(){var a=this.Eh;return 0==a.length?null:a[a.length-1]},Mn:function(a){return this.Eh[a]},ZH:function(a){this.Eh.push(a);this.Eh.sort(ia)},UD:function(a){q.Aq(this.Eh,a);this.Eh.sort(ia)},
wU:function(a,c){this.Eh=q.om(this.Eh,a,c);this.Eh.sort(ia)}});q.MF=0;q.VN=1;q.A0=q.G.extend({fk:0,m5:function(){return this.fk},qX:function(a){this.fk=a},reset:function(){this.fk=q.Qi},Xx:function(a){this.fk=a},Ei:function(){return this.fk}});q.C0=q.RN.extend({Oca:function(){},Nca:function(){},Pca:function(){},Qca:function(){}});q.B0=q.Qa.extend({EY:function(a){return this.QR(a)},QR:function(){return q.ON},Mca:function(){return null},A9:function(){return 0}});
q.UF=q.ci.extend({Ip:null,Md:null,Mo:null,oA:null,XB:null,ew:null,nv:null,qk:null,ctor:function(){q.ci.prototype.ctor.call(this);this.ew=q.IF;this.nv=[]},jO:function(a){var c=0,d=-1;switch(this.aj){case q.uo:a=a.x;break;default:a=a.y}for(var e=this.nv;d>=c;){var f=0|c+(d-c)/2,g=e[f],h=e[f+1];if(a>=g&&a<=h)return f;a<g?d=f-1:c=f+1}return 0>=c?0:-1},hP:function(a){a={x:a.x,y:a.y};this.Ip===q.MF&&(a.y=this.Ya.c().height-a.y);a=this.jO(a);-1!=a&&(a=Math.max(0,a),-1<a&&(a=q.Qi));return a},kO:function(a){switch(this.aj){case q.uo:a=
q.a(this.nv[a],0);break;default:a=q.a(0,this.nv[a])}return a},KP:function(a){var c=this.kO(a);a=this.oA.EY(this,a);this.Ip===q.MF&&(c.y=this.Ya.c().height-c.y-a.height);return c},L1:function(){},aC:function(){var a=q.um();this.O(a);this.ew!=this.aj&&(this.aj==q.uo?this.Yl(q.a(0,0)):this.Yl(q.a(0,this.In().y)),this.ew=this.aj)},TG:function(a){this.Mo.ZH(a);this.Xk.sW(a);q.pe(this.Md,a.fk);a.reset();a.getParent()==this.Ya&&this.Ya.removeChild(a,!0)},ow:function(a,c){c.w(0,0);c.l(this.KP(a));c.qX(a)},
cG:function(a){a.getParent()!=this.Ya&&this.Ya.f(a);this.Xk.FJ(a);var c=this.Md;a=a.fk;-1==c.indexOf(a)&&(c.push(a),c.sort(function(a,c){return a-c}))},I4:function(){return this.oA},gX:function(a){this.oA=a},Cc:function(){return this.XB},tg:function(a){this.XB=a},eca:function(a){this.Ip!=a&&(this.Ip=a,0<this.Xk.count()&&this.TD())},p7:function(){return this.Ip},gq:function(a,c){return q.ci.prototype.gq.call(this,a,c)?(this.Xk=new q.Jy,this.Mo=new q.Jy,this.Md=[],this.XB=null,this.Ip=q.VN,this.ZK(q.Iq),
q.ci.prototype.tg.call(this,this),!0):!1},ida:function(a){if(!(a==q.Qi||-1<a)){var c=this.xC(a);c&&this.TG(c);c=null;this.ow(a,c);this.cG(c)}},Q7:function(a){if(!(a==q.Qi||-1<a)){var c,d=this.Xk;if(c=d.lK(a))for(var e=c=d.fq(c);e<d.count();e++)c=d.Mn(e),this.ow(c.fk+1,c);c=null;this.ow(a,c);this.cG(c);this.aC()}},L$:function(a){if(!(a==q.Qi||-1<a)){var c=this.xC(a);if(c){var d=this.Xk,e=d.fq(c);this.TG(c);q.pe(this.Md,a);for(a=d.count()-1;a>e;a--)c=d.Mn(a),this.ow(c.fk-1,c)}}},TD:function(){this.ew=
q.IF;for(var a=this.Xk,c=this.Mo,d=this.Ya,e=0,f=a.count();e<f;e++){var g=a.Mn(e);c.ZH(g);g.reset();g.getParent()==d&&d.removeChild(g,!0)}this.Md=[];this.Xk=new q.Jy;this.aC()},j3:function(){if(0===this.Mo.count())return null;var a=this.Mo.Mn(0);this.Mo.UD(0);return a},xC:function(a){return-1==this.Md.indexOf(a)?null:this.Xk.lK(a)},NW:function(){},OW:function(){},fh:function(a,c){if(this.za){if(this.qk){var d=this.qb();d.jd=this.da.yl(d.origin);this.qk=null}q.ci.prototype.fh.call(this,a,c)}},vb:function(a,
c){if(!this.za)return!1;var d=q.ci.prototype.vb.call(this,a,c);if(1===this.Jh.length){var e;e=this.Ya.yi(a);e=this.hP(e);this.qk=e===q.Qi?null:this.xC(e)}else this.qk&&(this.qk=null);return d},Ud:function(a,c){q.ci.prototype.Ud.call(this,a,c);this.qk&&this.Ih&&(this.qk=null)},Fk:function(a,c){q.ci.prototype.Fk.call(this,a,c);this.qk&&(this.qk=null)}});q.UF.create=function(a,c,d){var e=new q.UF;e.gq(c,d);e.gX(a);e.aC();return e};q.vc={};q.vc.XH=function(a){for(var c in q.vc.zD)a[c]=q.vc.zD[c]};
q.vc.zD={l:function(a,c){2==arguments.length?(this.u.J=a,this.u.U=c):(this.u.J=a.x,this.u.U=a.y);this.gb();this.ha.KE(this.u.J,-this.u.U)},yc:function(a){this.u.U=a;this.gb();this.ha.KE(this.u.J,-this.u.U)},Pa:function(a){this.u.J=a;this.gb();this.ha.KE(this.u.J,-this.u.U)},Hk:function(a,c){this.wa=a;this.Ea=c||a;this.gb();this.ha.resize(this.wa,this.Ea)},rq:function(a){this.wa=a;this.gb();this.ha.resize(this.wa,this.Ea)},Zn:function(a){this.Ea=a;this.gb();this.ha.resize(this.wa,this.Ea)},w:function(a,
c){var d=this.zm;if(2===arguments.length){if(a===d.J&&c===d.U)return;d.J=a;d.U=c}else{if(a.x===d.J&&a.y===d.U)return;d.J=a.x;d.U=a.y}var e=this.Id,f=this.Da;e.J=f.Ia*d.J;e.U=f.ya*d.U;this.ha.style[q.Wb.Nn+"TransformOrigin"]=""+e.J+"px "+-e.U+"px";this.gk?(this.ha.style.marginLeft=0,this.ha.style.marginBottom=0):(this.ha.style.marginLeft=this.JU?0:-e.J+"px",this.ha.style.marginBottom=-e.U+"px");this.gb()},It:function(){var a=this.Id;this.ha.style[q.Wb.Nn+"TransformOrigin"]=""+a.J+"px "+-a.U+"px";this.gk?
(this.ha.style.marginLeft=0,this.ha.style.marginBottom=0):(this.ha.style.marginLeft=this.JU?0:-a.J+"px",this.ha.style.marginBottom=-a.U+"px")},O:function(a,c){var d=this.Da;if(2===arguments.length){if(a===d.Ia&&c===d.ya)return;d.Ia=a;d.ya=c}else{if(a.width===d.Ia&&a.height===d.ya)return;d.Ia=a.width;d.ya=a.height}var e=this.Id,f=this.zm;e.J=d.Ia*f.J;e.U=d.ya*f.U;this.ha.width=d.Ia;this.ha.height=d.ya;this.It();this.canvas&&(this.canvas.width=d.Ia,this.canvas.height=d.ya);this.gb();this.WV()},ay:function(a){this.jQ!=
a&&(this.Pg=this.oi=a,this.Vm=Math.PI/180*this.Pg,this.as=Math.PI/180*this.oi,this.gb(),this.ha.rotate(a))},dy:function(a){this.Fe=a;this.gb();this.ha.zL(this.Fe,this.Ge)},ey:function(a){this.Ge=a;this.gb();this.ha.zL(this.Fe,this.Ge)},B:function(a){this.za=a;this.gb();this.ha&&(this.ha.style.display=a?"block":"none")},qw:function(a){this.pb=a;this.gb();this.ha&&(this.ha.zIndex=a)},st:function(a){this.da=a;null!==a&&(a.It(),this.gb(),q.vc.Jx(this))},Qx:function(){this.Of().Un(this);this.lg().Un(this);
this.ha&&!this.ha.parentNode&&(this.getParent()?q.vc.Jx(this):this.ha.vn(q.wk));this.ha&&(this.ha.style.visibility="visible")},Kx:function(){this.Of().jt(this);this.lg().jt(this);this.ha&&(this.ha.style.visibility="hidden")},kg:function(){this.BE();this.Et();this.Gg(this.D,q.G.Wf.kg);this.ha&&this.ha.remove()},oW:function(){this.ha.remove()},ua:function(a){this.ij=a;this.ha.style.opacity=a/255},WV:function(){if(this.RJ){var a=this.D;this.D=[];q.v.prototype.Ca.call(this,this.Qp);this.D=a}else q.v.prototype.Ca.call(this,
this.Qp)}};q.vc.fQ=function(){var a=q.Wb("#EGLViewDiv");if(a){var c=q.sa.g(),d=c.Up(),e=c.of,f=c.zn(),g=d.width,h=d.height;0===d.width&&0===d.height&&(g=f.width,h=f.height);var d=e.Za.width,k=e.Za.height;0===e.Za.width&&0===e.Za.height&&(d=f.width,k=f.height);a.style.position="absolute";a.style.width=g+"px";a.style.maxHeight=h+"px";a.style.margin=0;a.resize(c.wa,c.Ea);a.style.left=d<f.width?(d-g)/2+(f.width-d)/2+"px":(d-g)/2+"px";a.style.bottom=k<f.height?(f.height-k)/2+"px":"0px"}};
q.vc.Jx=function(a){var c=a.getParent();if(c&&a.ha)if(c.ha||(q.vc.BV(c),c.st=q.vc.zD.st),a.ha.vn(c.ha),c.It(),c.getParent())q.vc.Jx(c);else if(c.gf)if(a=q.Wb("#EGLViewDiv"))c.ha.vn(a);else{a=q.Kk("div");a.id="EGLViewDiv";var d=q.sa.g(),e=d.Up(),f=d.of,g=d.zn(),h=e.width,k=e.height;0===e.width&&0===e.height&&(h=g.width,k=g.height);var e=f.Za.width,l=f.Za.height;0===f.Za.width&&0===f.Za.height&&(e=g.width,l=g.height);a.style.position="absolute";a.style.width=h+"px";a.style.maxHeight=k+"px";a.style.margin=
0;a.resize(d.wa,d.Ea);a.style.left=e<g.width?(e-h)/2+(g.width-e)/2+"px":(e-h)/2+"px";a.style.bottom=l<g.height?(g.height-l)/2+"px":"0px";c.ha.vn(a);a.vn(q.wk)}};q.vc.setTransform=function(a){if(a.Qp)if(a.Qp.translate(a.Id.x,a.Id.y),a.RJ){var c=a.D;a.D=[];q.v.prototype.Ca.call(a,a.Qp);a.D=c}else q.v.prototype.Ca.call(a,a.Qp);a.ha&&(a.ha.position.x=a.u.x,a.ha.position.y=-a.u.y,a.ha.rotation=a.AT(),a.ha.scale={x:a.wa,y:a.Ea},a.ha.cm={x:a.Fe,y:a.Ge},a.It&&a.It(),a.ha.fo())};
q.vc.$S=function(a){a.ha=q.Kk("div");a.canvas=q.Kk("canvas");var c=a.c();a.canvas.width=c.width;a.canvas.height=c.height;a.ha.style.position="absolute";a.ha.style.bottom=0;a.Qp=a.canvas.getContext("2d");a.ha.appendChild(a.canvas);a.getParent()&&q.vc.Jx(a);a.RJ=!0};
q.vc.BV=function(a){a.ha=q.Kk("div");a.placeholder=!0;a.ha.style.position="absolute";a.ha.style.bottom=0;a.ha.style.width=(a.c().width||q.fa.g().gc.width)+"px";a.ha.style.maxHeight=(a.c().height||q.fa.g().gc.height)+"px";a.ha.style.margin=0;q.vc.setTransform(a);a.ha.fo();q.vc.XH(a)};
q.vc.Ls=function(a){if(1<arguments.length)q.vc.Ls(arguments);else if(1!=arguments.length||arguments[0].length)for(var c=arguments[0],d=0;d<c.length;d++)c[d]instanceof q.v?c[d].ha||q.vc.$S(c[d]):q.log("DOM converter only supports sprite and menuitems yet"),q.vc.XH(c[d]),c[d].Ca=function(){},c[d].transform=function(){},q.vc.setTransform(c[d]),c[d].B(c[d].za);else q.vc.Ls([arguments[0]])};q.fz=0;q.n_=1;q.q_=2;q.p_=3;q.o_=4;q.Xy=0;q.SZ=1;q.TZ=2;q.UZ=3;q.WZ=4;q.RZ=5;q.VZ=6;q.Vy=0;q.Wy=1;q.QZ=2;q.PZ=3;q.OZ=4;q.ZZ=q.Qa.extend({Bl:function(){},Cl:function(){},Ai:function(){},y3:function(){}});
q.no=q.$h.extend({Yb:null,Fa:null,sr:q.Xy,rr:q.Wy,Nr:q.fz,uH:"",Gb:"",gg:null,Ce:null,jl:50,Uq:18,P:null,ye:14,gi:"Arial",ji:"",dg:14,fe:"",Kg:!0,xH:!1,hH:0,ctor:function(a){function c(){this.focus()}function d(){e.Fa&&e.Fa.Ai&&(e.Kg?e.Fa.Ai(e,this.value):(e.Fa.Ai(e,e.fe),this.value=" "))}q.$h.prototype.ctor.call(this);this.gg=q.Eb();this.Ce=q.Gl();this.O(a);this.Yb=new q.v;this.Yb.$a=function(){};this.f(this.Yb);var e=this;this.P=document.createElement("input");this.P.type="text";this.P.style.fontSize=
this.ye+"px";this.P.style.color="#000000";this.P.style.border=0;this.P["vertical-align"]="middle";this.P.style.background="transparent";this.P.style.width="100%";this.P.style.height="100%";this.P.style.QH=0;this.P.style.outline="medium";this.P.attachEvent?(this.P.attachEvent("oninput",d),this.P.attachEvent("onclick",c)):(this.P.addEventListener("input",d),this.P.addEventListener("click",c,!1));this.P.addEventListener("keypress",function(a){var c="number"==typeof a.which?a.which:a.keyCode;a.stopPropagation();
c===q.Gq.KC?(a.preventDefault(),q.canvas.focus()):e.Kg||c===q.Gq.fI||(e.fe+=String.fromCharCode(c),e.Fa.Ai(e,e.fe))});this.P.addEventListener("keydown",function(a){a.stopPropagation();!e.Kg&&("number"==typeof a.which?a.which:a.keyCode)===q.Gq.fI&&0<e.fe.length&&(e.fe=e.fe.substring(0,e.fe.length-1),e.Fa.Ai(e,e.fe))});this.P.addEventListener("focus",function(){e.Kg?this.value==e.Gb&&(this.value="",this.style.fontSize=e.ye+"px",this.style.color=q.Rc(e.gg)):(this.style.position="absolute",this.hH=this.style.top,
this.style.top="-1000000px",e.fe==e.Gb&&(e.fe="",this.value="                                                 "));e.Fa&&e.Fa.Bl&&e.Fa.Bl(e)});this.P.addEventListener("blur",function(){e.Kg?""==this.value&&(this.value=e.Gb,this.style.fontSize=e.dg+"px",this.style.color=q.Rc(e.Ce)):(this.style.position="relative",this.style.top=this.hH,""==e.fe&&(this.value=" ",e.fe=e.Gb));e.Fa&&e.Fa.Cl&&e.Fa.Cl(e)});q.vc.Ls(this.Yb);this.Yb.ha.appendChild(this.P);this.Yb.ha.TL=!1;this.Yb.ha.style.width=a.width-6+"px";
this.Yb.ha.style.height=a.height-6+"px";this.Yb.canvas.remove()},dL:function(a,c){this.ye=c;this.gi=a;this.ri()},iE:function(a){this.gi=a;this.ri()},Vx:function(a){this.ye=a;this.ri()},ri:function(){this.Kg&&this.P.value!=this.Gb&&(this.P.style.fontFamily=this.gi,this.P.style.fontSize=this.ye+"px")},ne:function(a){null!=a&&(""==a?this.Kg?(this.P.value=this.Gb,this.P.style.color=q.Rc(this.Ce)):(this.P.value=" ",this.fe=this.Gb):this.Kg?(this.P.value=a,this.P.style.color=q.Rc(this.gg)):this.fe=a)},
gE:function(a){this.Kg&&(this.gg=a,this.P.value!=this.Gb&&(this.P.style.color=q.Rc(a)))},jL:function(a){!isNaN(a)&&0<a&&(this.jl=a,this.P.maxLength=a)},aJ:function(){return this.jl},nL:function(a){if(null!=a){var c=this.Gb;this.Gb=a;this.Kg?this.P.value==c&&(this.P.value=a,this.P.style.color=q.Rc(this.Ce),this.If()):this.fe==c&&(this.fe=a,this.P.value=" ",this.If())}},oL:function(a,c){this.ji=a;this.dg=c;this.If()},qL:function(a){this.ji=a;this.If()},rL:function(a){this.dg=a;this.If()},If:function(){this.Kg&&
this.P.value==this.Gb&&(this.P.style.fontFamily=this.ji,this.P.style.fontSize=this.dg+"px")},pL:function(a){this.Kg&&(this.Ce=a,this.P.value==this.Gb&&(this.P.style.color=q.Rc(a)))},oq:function(a){this.rr=a;this.P.type=a==q.Vy?"password":"text"},Z:function(){return this.Kg?this.P.value:this.fe},ct:function(a,c){return this.ox(c)?(this.Yb.l(3,3),this.wE(!1),this.Mi(a),this.l(0,0),this.fv(this,this.Ct,q.Pt),!0):!1},tg:function(a){this.Fa=a},eJ:function(){return this.Gb},hL:function(a){this.sr=a},vL:function(a){this.Nr=
a},XJ:function(a){var c=q.no.td(this);c.y-=4;c.GJ(a.end)?this.Uq=a.end.bJ()-c.cJ():q.log("needn't to adjust view layout.")},VJ:function(){},WJ:function(){},UJ:function(){},Ct:function(){},xJ:function(a,c){this.qr=a.width;this.ha.style.width=this.qr.toString()+"px";this.pr=a.height;this.ha.style.height=this.pr.toString()+"px";this.ha.style.backgroundColor=q.Rc(c)}});q.no.td=function(a){var c=a.c(),c=q.rect(0,0,c.width,c.height);return q.Vf(c,a.Ln())};
q.no.create=function(a,c,d,e){var f=new q.no(a);c instanceof q.Kc?f.nt(c):f.ct(a,c)&&(d&&f.Wl(d,q.Rt),e&&f.Wl(e,q.Qt));return f};if(!ja)var ja={};
ja.EN={GENERAL:"ISSECTION","Project Name":"Powder Engine Testbed","Version Number":"0.8",LOGIN:"ISSECTION","Auto Login Next":"Auto login next time.","Save Login Cred":"Remember Login","Play Button Text":"Play","Register Button Text":"Register","Back From Reg Button Text":"Go Back","Reg Confirm Button Text":"Register","System Message":"Accounts are culled daily 00:00 and on software git updates.","Credit Button Text":"Credits","News Button Text":"News","Login Message":"This game saves data automatically.","Offline Server":"Server:Offline",
"Online Server":"Server:Online","Offline Server Message":"Server is offline!","User Pass Empty":"Please enter a User and Password","Incorrect Email Format":"Please use a correct email address.","Registering Message":"Registering please wait...","Register Empty Fields":"Please fill all fields.","Registration Success":"Registration Successful","Username Label":"Username","Password Label":"Password","Eail Label":"Email Address","Register User Taken":"Registration failed, user already exists.","Logging In Message":"Logging In",
CHATBAR:"ISSECTION","Welcome Message":"powderengine.net or /help for some help.","Join Message":"\x3cPLAYER\x3e has joined the game!","Leave Message":"\x3cPLAYER\x3e has left the game!","Default ChatBar Message":"C to popup/dismiss, enter for chat. Say /help for help.",ITEMS:"ISSECTION","Item Dropdown Pick Up":"Pick up \x3cITEM\x3e","Item Dropdown Walk To":"Walk to \x3cITEM\x3e","Item Pick Up":"Picked up \x3cITEM\x3e.","Item Dropped":"Dropped \x3cITEM\x3e.","Item Out-of-range":"\x3cITEM\x3e is too far away to pick up!",
"Item Dropdown Examine":"Examine \x3cITEM\x3e","Item Dropdown Equip":"Equip \x3cITEM\x3e","Item Dropdown Read":"Read \x3cITEM\x3e","Item Dropdown Eat":"Eat \x3cITEM\x3e","Item Dropdown Use":"Use \x3cITEM\x3e","Item Dropdown Unequip":"Unequip \x3cITEM\x3e","Item Dropdown Drop":"Drop \x3cITEM\x3e","Inventory Full":"Your inventory is full",NPCS:"ISSECTION","NPC Dropdown Examine":"Examine","NPC Dropdown Attack":"Attack","NPC Dropdown Talk":"Talk To \x3cNPC\x3e","NPC Dropdown Walk To":"Walk To \x3cNPC\x3e",
"NPC Dropdown Follow":"Follow","NPC Dropdown Trade":"Trade","NPC Dropdown Bank":"Open Bank","NPC Out-of-range":"\x3cNPC\x3e is too far away!",SIGNS:"ISSECTION","Sign Dropdown list Read":"Read sign \x3cSIGN\x3e","Sign Out-of-range":"\x3cSIGN\x3e is too far away to read!",PANELS:"ISSECTION","Equipment Header":"Equipment","Bank Header":"Bank","Shop Header":"Shop","Inventory Header":"Inventory","Skills Header":"Skills","Quest Header":"Quest Log","No Quests":"There are no quests to show.",COMMANDS:"ISSECTION",
"/dance":"\x3cPLAYER\x3e danced the dance of his people.","/diceroll":"\x3cPLAYER\x3e threw a dice and got \x3cVALUE\x3e","/coinflip":"\x3cPLAYER\x3e flipped a coin and got \x3cVALUE\x3e","Help Text":"-------HELP------\n- Press C to expand the chat, I for Inventory\n- Space to grab Items and E for Equipment.\n- Enter /commands for command list\n-------------------","Command Text":"Commands: /editskill, /editsign, /editnpc,/editmap,/editwarp,/edititem,/whereami,/dance,/coinflip,/diceroll,/warpmeto map x y"};ja||(ja={});
ja.CZ={GENERAL:"ISSECTION","Project Name":"Powder Engine Testbed","Version Number":"0.8",LOGIN:"ISSECTION","Auto Login Next":"Automaticky p\u0159ihla\u0161ovat.","Save Login Cred":"Pamatovat Login","Play Button Text":"Hr\u00e1t","Register Button Text":"Registrovat","Back From Reg Button Text":"J\u00edt zp\u011bt","Reg Confirm Button Text":"Registrovat","System Message":"\u00da\u010dty jsou automaticky maz\u00e1ny denn\u011b v 00:00 a v software git updatech.","Credit Button Text":"Credits","News Button Text":"Novinky",
"Login Message":"Tato hra ukl\u00e1d\u00e1 data automaticky.","Offline Server":"Server:Offline","Online Server":"Server:Online","Offline Server Message":"Server je offline!","User Pass Empty":"Pros\u00edme vlo\u017ete Jm\u00e9no a Heslo","Incorrect Email Format":"Pros\u00edme pou\u017eijte platnou emailovou adresu.","Registering Message":"Registrov\u00e1n\u00ed. Pros\u00edme, po\u010dkejte...","Register Empty Fields":"Vypl\u0148te pros\u00edm v\u0161echny pole.","Registration Success":"Registrace \u00fasp\u011b\u0161n\u00e1",
"Username Label":"P\u0159ihla\u0161ovac\u00ed jm\u00e9no","Password Label":"Heslo","Eail Label":"Emailov\u00e1 Adresa","Register User Taken":"Registrace selhala, u\u017eivatel ji\u017e existuje.","Logging In Message":"P\u0159ihla\u0161ov\u00e1n\u00ed...",CHATBAR:"ISSECTION","Welcome Message":"V\u00edtejte do Powder Engine! Napi\u0161te /help pro pomocn\u00e9 p\u0159\u00edkazy.","Join Message":"\x3cPLAYER\x3e se p\u0159idal/a do hry!","Leave Message":"\x3cPLAYER\x3e opustil/a hru!","Default ChatBar Message":"C pro zv\u011bt\u0161en\u00ed/zmen\u0161en\u00ed, enter pro chatov\u00e1n\u00ed. Napi\u0161te /help pro pomoc.",
ITEMS:"ISSECTION","Item Dropdown Pick Up":"Sebrat \x3cITEM\x3e","Item Dropdown Walk To":"P\u0159ej\u00edt k \x3cITEM\x3e","Item Pick Up":"Sebr\u00e1no \x3cITEM\x3e.","Item Dropped":"Odlo\u017eeno \x3cITEM\x3e.","Item Out-of-range":"\x3cITEM\x3e je p\u0159\u00edli\u0161 daleko ke zvednut\u00ed!","Item Dropdown Examine":"Prozkoumat \x3cITEM\x3e","Item Dropdown Equip":"Nasadit \x3cITEM\x3e","Item Dropdown Read":"P\u0159e\u010d\u00edst \x3cITEM\x3e","Item Dropdown Eat":"Sn\u00edst \x3cITEM\x3e","Item Dropdown Use":"Pou\u017e\u00edt \x3cITEM\x3e",
"Item Dropdown Unequip":"Svl\u00e9knout \x3cITEM\x3e","Item Dropdown Drop":"Odhodit \x3cITEM\x3e","Inventory Full":"V\u00e1\u0161 invent\u00e1\u0159 je pln\u00fd!",NPCS:"ISSECTION","NPC Dropdown Examine":"Prozkoumat","NPC Dropdown Attack":"\u00datok","NPC Dropdown Talk":"Promluvit s \x3cNPC\x3e","NPC Dropdown Walk To":"P\u0159ej\u00edt k \x3cNPC\x3e","NPC Dropdown Follow":"N\u00e1sledovat","NPC Dropdown Trade":"Obchodovat","NPC Dropdown Bank":"Otev\u0159\u00edt banku","NPC Out-of-range":"\x3cNPC\x3e je p\u0159\u00edli\u0161 daleko!",
SIGNS:"ISSECTION","Sign Dropdown list Read":"P\u0159e\u010d\u00edst ceduli \x3cSIGN\x3e","Sign Out-of-range":"\x3cSIGN\x3e je p\u0159\u00edli\u0161 daleko k p\u0159e\u010dten\u00ed!",PANELS:"ISSECTION","Equipment Header":"Vybaven\u00ed","Bank Header":"Banka","Shop Header":"Obchod","Inventory Header":"Invent\u00e1\u0159","Skills Header":"Seznam schopnost\u00ed","Quest Header":"Quest Log","No Quests":"There are no quests to show.",COMMANDS:"ISSECTION","/dance":"\x3cPLAYER\x3e zatancoval tanec jeho kmene.",
"/diceroll":"\x3cPLAYER\x3e hodil kostkou a dostal \x3cVALUE\x3e","/coinflip":"\x3cPLAYER\x3e hodil minc\u00ed a dostal \x3cVALUE\x3e","Help Text":"-------HELP------\n- Stiskn\u011bte C ke zv\u011bt\u0161en\u00ed chatu, I pro Invent\u00e1\u0159\n- Mezern\u00edk k sebr\u00e1n\u00ed p\u0159edm\u011btu a E pro V\u00fdbavu.\n- Napi\u0161te /commands pro seznam p\u0159\u00edkaz\u016f\n-------------------","Command Text":"P\u0159\u00edkazy: /editskill, /editsign, /editnpc,/editmap,/editwarp,/edititem,/whereami,/dance,/coinflip,/diceroll,/warpmeto map x y"};ja||(ja={});
ja.LA={GENERAL:"ISSECTION","Project Name":"Powder Engine Testbed","Version Number":"0.705",LOGIN:"ISSECTION","Auto Login Next":"Auto login next time.","Save Login Cred":"Remember Login","Play Button Text":"Play","Register Button Text":"Register","Back From Reg Button Text":"Go Back","Reg Confirm Button Text":"Register","System Message":"Accounts are culled daily 00:00 and on software git updates.","Credit Button Text":"Credits","News Button Text":"News","Login Message":"This game saves data automatically.","Offline Server":"Server:Offline",
"Online Server":"Server:Online","Offline Server Message":"Server is offline!","User Pass Empty":"Please enter a User and Password","Incorrect Email Format":"Please use a correct email address.","Registering Message":"Registering please wait...","Register Empty Fields":"Please fill all fields.","Registration Success":"Registration Successful","Username Label":"Username","Password Label":"Password","Eail Label":"Email Address","Register User Taken":"Registration failed, user already exists.","Logging In Message":"Logging In",
CHATBAR:"ISSECTION","Welcome Message":"Gratior Powder Engine! Intra /help enim auxilium.","Join Message":"\x3cPLAYER\x3e Coninguit ludo!","Leave Message":"\x3cPLAYER\x3e Discessiit ludo!","Default ChatBar Message":"C explodere/dimittere, enter enim colloquium. Dice /help enim iuva.",ITEMS:"ISSECTION","Item Dropdown Pick Up":"Elege \x3cITEM\x3e","Item Dropdown Walk To":"Ambula ad \x3cITEM\x3e","Item Pick Up":"Elegit super \x3cITEM\x3e.","Item Dropped":"Roravit \x3cITEM\x3e.","Item Out-of-range":"\x3cITEM\x3e est nimis procul elegere super!",
"Item Dropdown Examine":"vide \x3cITEM\x3e","Item Dropdown Equip":"Apte \x3cITEM\x3e","Item Dropdown Read":"Lege \x3cITEM\x3e","Item Dropdown Eat":"Cena \x3cITEM\x3e","Item Dropdown Use":"Face \x3cITEM\x3e","Item Dropdown Unequip":"Aufer \x3cITEM\x3e","Item Dropdown Drop":"Pone \x3cITEM\x3e","Inventory Full":"Tuus inventarium est plenum",NPCS:"ISSECTION","NPC Dropdown Examine":"Vide","NPC Dropdown Attack":"Oppugne","NPC Dropdown Talk":"Dice \x3cNPC\x3e","NPC Dropdown Walk To":"Ambula ad \x3cNPC\x3e",
"NPC Dropdown Follow":"Immine","NPC Dropdown Trade":"Eme","NPC Dropdown Bank":"Pateface Ripa","NPC Out-of-range":"\x3cNPC\x3e est nimis procul!",SIGNS:"ISSECTION","Sign Dropdown list Read":"Lege signum \x3cSIGN\x3e","Sign Out-of-range":"\x3cSIGN\x3e est nimis procul legere!",PANELS:"ISSECTION","Equipment Header":"Armorum","Bank Header":"Ripa","Shop Header":"Taberna","Inventory Header":"Inventarium","Skills Header":"Peritia index","Quest Header":"Investigatio stipes","No Quests":"There are no quests to show.",
COMMANDS:"ISSECTION","/dance":"\x3cPLAYER\x3e Ballavit ballar populo.","/diceroll":"\x3cPLAYER\x3e Misit aleam et accepit \x3cVALUE\x3e","/coinflip":"\x3cPLAYER\x3e Vertit numismam et accepit \x3cVALUE\x3e","Help Text":"-------HELP------\n- Urge C expandere colloquium, I enim Inventarum\n- Space captere Itema et E enim Armorum.\n- Enter /Imperia enim imperium index\n-------------------","Command Text":"Imperia: /editskill, /editsign, /editnpc,/editmap,/editwarp,/edititem,/whereami,/dance,/coinflip,/diceroll,/warpmeto map x y"};SingleLineBox=q.$h.extend({Yb:null,Fa:null,sr:q.Xy,rr:q.Wy,Nr:q.fz,uH:"",Gb:"",gg:null,Ce:null,jl:50,Uq:18,P:null,ye:14,gi:"Arial",tr:!1,ji:"",dg:14,xH:!1,ctor:function(a){q.$h.prototype.ctor.call(this);this.tr=!1;this.gg=q.Eb();this.Ce=q.Gl();this.O(a);this.Yb=new q.v;this.Yb.$a=function(){};this.f(this.Yb);var c=this;this.P=document.createElement("input");this.P.type="text";this.P.style.fontSize=this.ye+"px";this.P.style.color="#000000";this.P.style.border=0;this.P.style.background="transparent";
this.P.style.width="100%";this.P.style.height="100%";this.P.style.QH=0;this.P.style.outline="medium";this.P.addEventListener("input",function(){c.Fa&&c.Fa.Ai&&c.Fa.Ai(c,this.value)});this.P.addEventListener("keyup",function(a){a.keyCode===q.Gq.KC&&!1==c.tr&&(a.stopPropagation(),a.preventDefault(),q.canvas.focus())});this.P.addEventListener("focus",function(){this.value==c.Gb&&(this.value="",this.style.fontSize=c.ye+"px",this.style.color=q.Rc(c.gg));c.Fa&&c.Fa.Bl&&c.Fa.Bl(c)});this.P.addEventListener("blur",
function(){""==this.value&&(this.value=c.Gb,this.style.fontSize=c.dg+"px",this.style.color=q.Rc(c.Ce));c.Fa&&c.Fa.Cl&&c.Fa.Cl(c)});q.vc.Ls(this.Yb);this.Yb.ha.appendChild(this.P);this.Yb.ha.TL=!1;this.Yb.ha.style.width=a.width-6+"px";this.Yb.ha.style.height=a.height-6+"px";this.Yb.canvas.remove()},dL:function(a,c){this.ye=c;this.gi=a;this.ri()},eY:function(){},iE:function(a){this.gi=a;this.ri()},Vx:function(a){this.ye=a;this.ri()},ri:function(){this.P.value!=this.Gb&&(this.P.style.fontFamily=this.gi,
this.P.style.fontSize=this.ye+"px")},ne:function(a){null!=a&&(""==a?(this.P.value=this.Gb,this.P.style.color=q.Rc(this.Ce)):(this.P.value=a,this.P.style.color=q.Rc(this.gg)))},gE:function(a){this.gg=a;this.P.value!=this.Gb&&(this.P.style.color=q.Rc(a))},jL:function(a){!isNaN(a)&&0<a&&(this.jl=a,this.P.maxLength=a)},aJ:function(){return this.jl},nL:function(a){if(null!=a){var c=this.Gb;this.Gb=a;this.P.value==c&&(this.P.value=a,this.P.style.color=q.Rc(this.Ce),this.If())}},oL:function(a,c){this.ji=
a;this.dg=c;this.If()},qL:function(a){this.ji=a;this.If()},rL:function(a){this.dg=a;this.If()},If:function(){this.P.value==this.Gb&&(this.P.style.fontFamily=this.ji,this.P.style.fontSize=this.dg+"px")},pL:function(a){this.Ce=a;this.P.value==this.Gb&&(this.P.style.color=q.Rc(a))},oq:function(a){this.rr=a;this.P.type=a==q.Vy?"password":"text"},Z:function(){return this.P.value},ct:function(a,c){return this.ox(c)?(this.Yb.l(3,3),this.wE(!1),this.Mi(a),this.l(0,0),this.fv(this,this.Ct,q.Pt),!0):!1},tg:function(a){this.Fa=
a},eJ:function(){return this.Gb},hL:function(a){this.sr=a},vL:function(a){this.Nr=a},XJ:function(a){var c=q.no.td(this);c.y-=4;c.GJ(a.end)?this.Uq=a.end.bJ()-c.cJ():q.log("needn't to adjust view layout.")},VJ:function(){},WJ:function(){},UJ:function(){},Ct:function(){},nt:function(a){a=ka(a.t,a.p,a.o);this.P.style.background=a},xJ:function(a,c){this.qr=a.width;this.ha.style.width=this.qr.toString()+"px";this.pr=a.height;this.ha.style.height=this.pr.toString()+"px";this.ha.style.backgroundColor=q.Rc(c)}});
SingleLineBox.td=function(a){var c=a.c(),c=q.rect(0,0,c.width,c.height);return q.Vf(c,a.Ln())};SingleLineBox.create=function(a,c,d,e){var f=new SingleLineBox(a);c instanceof q.Kc?f.nt(c):f.ct(a,c)&&(d&&f.Wl(d,q.Rt),e&&f.Wl(e,q.Qt));return f};MultiLineBox=q.$h.extend({Yb:null,Fa:null,sr:q.Xy,rr:q.Wy,Nr:q.fz,uH:"",Gb:"",gg:null,Ce:null,jl:50,Uq:18,P:null,ye:14,gi:"Arial",tr:!1,ji:"",dg:14,xH:!1,ctor:function(a){q.$h.prototype.ctor.call(this);this.tr=!1;this.gg=q.Eb();this.Ce=q.Gl();this.O(a);this.Yb=new q.v;this.Yb.$a=function(){};this.f(this.Yb);var c=this;this.P=document.createElement("TEXTAREA");this.P.type="text";this.P.style.fontSize=this.ye+"px";this.P.style.color="#000000";this.P.style.border=0;this.P.style.background="transparent";
this.P.style.width="100%";this.P.style.height="100%";this.P.style.QH=0;this.P.style.outline="medium";this.P.addEventListener("input",function(){c.Fa&&c.Fa.Ai&&c.Fa.Ai(c,this.value)});this.P.addEventListener("keyup",function(a){a.keyCode===q.Gq.KC&&!1==c.tr&&(a.stopPropagation(),a.preventDefault(),q.canvas.focus())});this.P.addEventListener("focus",function(){this.value==c.Gb&&(this.value="",this.style.fontSize=c.ye+"px",this.style.color=q.Rc(c.gg));c.Fa&&c.Fa.Bl&&c.Fa.Bl(c)});this.P.addEventListener("blur",
function(){""==this.value&&(this.value=c.Gb,this.style.fontSize=c.dg+"px",this.style.color=q.Rc(c.Ce));c.Fa&&c.Fa.Cl&&c.Fa.Cl(c)});q.vc.Ls(this.Yb);this.Yb.ha.appendChild(this.P);this.Yb.ha.TL=!1;this.Yb.ha.style.width=a.width-6+"px";this.Yb.ha.style.height=a.height-6+"px";this.Yb.canvas.remove()},dL:function(a,c){this.ye=c;this.gi=a;this.ri()},eY:function(){},iE:function(a){this.gi=a;this.ri()},Vx:function(a){this.ye=a;this.ri()},ri:function(){this.P.value!=this.Gb&&(this.P.style.fontFamily=this.gi,
this.P.style.fontSize=this.ye+"px")},ne:function(a){null!=a&&(""==a?(this.P.value=this.Gb,this.P.style.color=q.Rc(this.Ce)):(this.P.value=a,this.P.style.color=q.Rc(this.gg)))},gE:function(a){this.gg=a;this.P.value!=this.Gb&&(this.P.style.color=q.Rc(a))},jL:function(a){!isNaN(a)&&0<a&&(this.jl=a,this.P.maxLength=a)},aJ:function(){return this.jl},nL:function(a){if(null!=a){var c=this.Gb;this.Gb=a;this.P.value==c&&(this.P.value=a,this.P.style.color=q.Rc(this.Ce),this.If())}},oL:function(a,c){this.ji=
a;this.dg=c;this.If()},qL:function(a){this.ji=a;this.If()},rL:function(a){this.dg=a;this.If()},If:function(){this.P.value==this.Gb&&(this.P.style.fontFamily=this.ji,this.P.style.fontSize=this.dg+"px")},pL:function(a){this.Ce=a;this.P.value==this.Gb&&(this.P.style.color=q.Rc(a))},oq:function(a){this.rr=a;this.P.type=a==q.Vy?"password":"text"},Z:function(){return this.P.value},ct:function(a,c){return this.ox(c)?(this.Yb.l(3,3),this.wE(!1),this.Mi(a),this.l(0,0),this.fv(this,this.Ct,q.Pt),!0):!1},tg:function(a){this.Fa=
a},eJ:function(){return this.Gb},hL:function(a){this.sr=a},vL:function(a){this.Nr=a},XJ:function(a){var c=q.no.td(this);c.y-=4;c.GJ(a.end)?this.Uq=a.end.bJ()-c.cJ():q.log("needn't to adjust view layout.")},VJ:function(){},WJ:function(){},UJ:function(){},Ct:function(){},nt:function(a){a=ka(a.t,a.p,a.o);this.P.style.background=a},xJ:function(a,c){this.qr=a.width;this.ha.style.width=this.qr.toString()+"px";this.pr=a.height;this.ha.style.height=this.pr.toString()+"px";this.ha.style.backgroundColor=q.Rc(c)}});
MultiLineBox.td=function(a){var c=a.c(),c=q.rect(0,0,c.width,c.height);return q.Vf(c,a.Ln())};MultiLineBox.create=function(a,c,d,e){var f=new MultiLineBox(a);c instanceof q.Kc?f.nt(c):f.ct(a,c)&&(d&&f.Wl(d,q.Rt),e&&f.Wl(e,q.Qt));return f};var la=document.ccConfig,ma={},na=!1,v=[],y=[];q.ae.g().yL(["res/Graphics"]);for(var oa in document.ccConfig.tileSheets)v.push({name:document.ccConfig.tileSheets[oa],texture:q.ga.g().la(document.ccConfig.tileSheets[oa])});for(oa in document.ccConfig.characterSheets)y.push({name:document.ccConfig.characterSheets[oa],texture:q.ga.g().la(document.ccConfig.characterSheets[oa])});document.getElementById("gameCanvas").onkeydown=function(a){a.preventDefault();ma[a.keyCode]=!0};window.onbeforeunload=function(){z({disconnect:!0})};
window.onfocus=function(){for(var a=[],c=A.length-1;0<=c;c--){var d=JSON.parse(A[c]);d.moveTo&&!a[d.id]?(a[d.id]=!0,d.setTo=1,d.moveTo=null,A[c]=JSON.stringify(d)):d.moveTo&&a[d.id]&&A.splice(c,1)}};var B=q.i(255,255,255,255),pa=q.i(0,255,0,255),C=q.i(255,0,0,255);
document.getElementById("gameCanvas").onkeyup=function(a){ma[a.keyCode]=!1;if(null!=D.g().nd){a.stopPropagation();var c=null;switch(a.keyCode){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";
break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a.keyCode&&58>a.keyCode||64<a.keyCode&&91>a.keyCode)&&(c=String.fromCharCode(a.keyCode));null!=c&&D.g().nd.Pl(c)}};var qa=!1;document.body.onmousedown=function(){qa=!0};document.body.onmouseup=function(){qa=!1};rememberLoginNextTime=autoLoginNextTime=!1;var G=ja[la.language];console.log(G);
function H(a,c){return a?(a.SJ&&a.za||!a.SJ)&&q.wb(q.rect(a.u.J,a.u.U,a.c().width,a.c().height),c):!1}function I(a){if(!a)return null;var c=null;"object"==typeof a&&(c={});a instanceof Array&&(c=[]);for(var d in a)c[d]=a[d]&&("object"==typeof a[d]||a[d]instanceof Array)?I(a[d]):a[d];return c}
isMobile=function(){var a=!1,c=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(c)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(c.substr(0,
4)))a=!0;return a};function ra(){K.Yd(function(){})}function sa(a,c){var d=c?a:a.uc();return wa(d,"panels")}
function wa(a,c,d){if(c=d?d[c]:a[c]){"undefined"!=typeof c.EU?d=xa.Ty(c.FY):"undefined"!=typeof c.aa?d=q.v.Ka(q.ga.g().la(c.aa)):"undefined"!=typeof c.label?d=q.S.create(c.label,c.font?c.X3:"Arial",c.fontSize?c.fontSize:14):"undefined"!=typeof c.color&&"undefined"!=typeof c.size?(d=q.v.create(),d.jb(q.rect(0,0,c.size.width,c.size.height)),d.w(q.a(0,0))):d=q.G.create();"undefined"!=typeof c.size&&d.O(Math.floor(c.size.width),Math.floor(c.size.height));"undefined"!=typeof c.position&&d.l(q.a(Math.floor(c.position.x),
Math.floor(c.position.y)));"undefined"!=typeof c.visible&&d.B(c.visible);"undefined"!=typeof c.e&&d.w(c.e);"undefined"!=typeof c.color&&d.q&&(d.q(c.color),c.color.Q&&d.ua(c.color.Q));"undefined"!=typeof c.opacity&&d.ua(c.opacity);if("undefined"!=typeof c.children)for(var e in c.children)d[e]=wa(a,e,c.children),d[e]&&d.f(d[e]);return d}}
function ya(a,c,d){a=a[c];"undefined"!=typeof a.size&&d.O(Math.floor(a.size.width),Math.floor(a.size.height));"undefined"!=typeof a.position&&d.l(q.a(Math.floor(a.position.x),Math.floor(a.position.y)));"undefined"!=typeof a.visible&&d.B(a.visible);"undefined"!=typeof a.e&&d.w(a.e);"undefined"!=typeof a.opacity&&d.ua(a.opacity);"undefined"!=typeof a.color&&d.q(a.color);if("undefined"!=typeof a.children)for(var e in a.children)ya(a.children,e,d[e])}
function za(a){a=a.toString(16);return 1==a.length?"0"+a:a}function ka(a,c,d){return"#"+za(a)+za(c)+za(d)}var L=null,M=la.tileSize,Aa=la.characterSize,N=Math.floor(36),O=Math.floor(36);function Ba(){P=q.sa.g().zn();q.size(P.width,P.height);L=q.size(O*M,N*M)}function Q(a,c){return parseInt(O*(N-c))+parseInt(a)}function Ca(a,c){var d={},e;for(e in a)d[e]=a[e]+"";for(e in c)d[e]&&(d[e]=c[e]+"");return d}
function Da(a,c,d){if(0==a.length)return!0;for(var e=0;e<a.length;e++)switch(a[e].type){case "Is Quest Point":var f=R.r.I.yk(a[e].data.quest);f||(f=0);if(f!=a[e].data.objective)return!1;break;case "Script Requirement":if("Tile"==c)var g=I(R.r.I.Vp(d.Uc));else"NPC"==c?g=I(R.r.I.Vp(d.Uc)):"Item"==c&&(g=I(R.r.I.Vp(d.script)));g||(g={});try{var h=a[e].data.functionContent.replace(/,/g,"").split(":"),f="{",k;for(k in h)f=0==k%2?f+('"'+h[k]+'":'):k!=h.length-1?f+('"'+h[k]+'",'):f+('"'+h[k]+'"');var f=f+
"}",l=JSON.parse(f);for(k in l)if(g[k]||(g[k]="null"),g[k]!=l[k])return!1}catch(m){return S.hc("your custom require script failed"),!1}break;case "Is Panel Visibility":f=1==a[e].data.visible?!0:!1;switch(a[e].data.panel){case 0:null==Inventory||Inventory.da||(Inventory=null);if(Inventory&&!f||!Inventory&&f)return!1;break;case 1:null==Equipment||Equipment.da||(Equipment=null);if(Equipment&&!f||!Equipment&&f)return!1;break;case 2:if(null==Skills||Skills.da||(Skills=null),Skills&&!f||!Skills&&f)return!1}break;
case "Is Player Inventory Space":for(var p=a[e].data.space?a[e].data.space:0,s=f=0;40>s;s++)userItems.stored[s]||f++;if(f<p)return!1;break;case "Has Player Item":if(a[e].data.item){p=a[e].data.amount?a[e].data.amount:0;f=0;s=ObjectLists.Kb()[a[e].data.item].name;for(k in userItems.stored)userItems.stored[k]&&userItems.stored[k].name==s&&f++;if(f<p)return!1}break;case "Is Player Statistics":f=ObjectLists.zk()[a[e].data.skill].name;a[e].data.levelUpper||(a[e].data.levelUpper=0);a[e].data.levelLower||
(a[e].data.levelLower=0);a[e].data.healthUpper||(a[e].data.healthUpper=0);a[e].data.healthLower||(a[e].data.healthLower=0);a[e].data.xpUpper||(a[e].data.xpUpper=0);a[e].data.xpLower||(a[e].data.xpLower=0);if(0!=a[e].data.levelUpper||0!=a[e].data.levelLower)if(p=SkillBarsInstance.Wc[f].level+1,p>a[e].data.levelUpper||p<a[e].data.levelLower)return!1;if(0!=a[e].data.healthUpper||0!=a[e].data.healthLower)if(p=SkillBarsInstance.Wc[f].currenthealth,p>a[e].data.healthUpper||p<a[e].data.healthLower)return!1;
if(0!=a[e].data.xpUpper||0!=a[e].data.xpLower)if(p=SkillBarsInstance.Wc[f].experience,p>a[e].data.xpUpper||p<a[e].data.xpLower)return!1}return!0}
function Ea(a,c,d,e,f,g){var h=[];if(!(1>a.length)){for(var k=R.r.I.items,l=0;l<a.length;l++)e&&e[a[l].type]||h.push([l,function(){switch(a[l].type){case "Spawn NPC":return function(c){null!=a[c].data.npc&&"undefined"!==a[c].data.npc&&R.sR(ObjectLists.Xp()[a[c].data.npc],q.a(d.u.x/M,d.u.y/M))};case "Equip Item":return function(c){c=a[c].data.equip;"bothArms"==c&&(c="lArm",k.equipped.rArm||(c="rArm"));var e=null;k.equipped[c]&&(e=I(k.equipped[c]),T("On Dequip",e,"Item"));var f=ObjectLists.Kb(),g;for(g in f)if(f[g].name==
d.name){k.equipped[c]={number:g,amount:d.amount};break}k.stored[d.TJ]=e;Inventory&&Inventory.Ma();Equipment&&Equipment.Ma()};case "Read Item":return function(c){K.mY(d.name,a[c].data.say)};case "Spawn Item":return function(c){d.WH(a[c].data.item,a[c].data.amount)};case "Talk":return function(c){K.oY(d,f,g,d.name,a[c].data.say,a[c].data.options)};case "Script Response":return function(e){if("Tile"==c)var f=I(R.r.I.Vp(d.Uc));else"NPC"==c?f=I(R.r.I.Vp(d.Uc)):"Item"==c&&(f=I(R.r.I.Vp(d.script)));f||(f=
{});try{var g=a[e].data.functionContent.replace(/,/g,"").split(":");e="{";for(var h in g)e=0==h%2?e+('"'+g[h]+'":'):h!=g.length-1?e+('"'+g[h]+'",'):e+('"'+g[h]+'"');var k=JSON.parse(e+"}"),g=f;h={};for(var l in g)h[l]=g[l];for(l in k)h[l]=k[l];f=h;"Tile"==c?R.r.I.fE(d.Uc,I(f)):"NPC"==c?R.r.I.fE(d.Uc,I(f)):"Item"==c&&R.r.I.fE(d.script,I(f))}catch(F){S.hc("Your custom response script failed")}};case "Give /Take Item":return function(c){var d=ObjectLists.Kb()[a[c].data.item];if(0<a[c].data.amount){var e=
a[c].data.amount;if(!0==d.stackable){for(var f=0;40>f;f++)k.stored[f]&&k.stored[f].name==d.name&&(e=0);0!=g&&(e=1)}else for(var g=0,f=0;40>f;f++)k.stored[f]||g++;if(g<e)return;if(!0==d.stackable){g=!1;for(f=0;40>f;f++)if(k.stored[f]&&k.stored[f].name==d.name){k.stored[f].amount+=a[c].data.amount;Inventory&&Inventory.mh(f,k.stored[f].amount);g=!0;break}if(!1==g)for(f=0;40>f;f++)if(!k.stored[f]){k.stored[f]=I(d);k.stored[f].amount=a[c].data.amount;Inventory&&Inventory.mh(f,k.stored[f].amount);break}}else for(g=
0;g<a[c].data.amount;g++)for(f=0;40>f;f++)if(!k.stored[f]){k.stored[f]=I(d);break}}else if(0>a[c].data.amount){e=Math.abs(a[c].data.amount);g=0;d=d.name;for(f in k.stored)k.stored[f]&&k.stored[f].name==d&&g++;if(g<e)return;for(g=0;g<Math.abs(a[c].data.amount);g++)for(f in k.stored)if(k.stored[f]&&k.stored[f].name==d){console.log("gettin rid"+g);user.stored[f]=null;break}}Inventory&&Inventory.Ma();Equipment&&Equipment.Ma()};case "Modify Player Stats":return function(c){if(ObjectLists.zk()[a[c].data.skill]){var d=
ObjectLists.zk()[a[c].data.skill].name;U.YU(d,a[c].data.level);U.XU(d,a[c].data.health);U.ZU(d,a[c].data.xp)}};case "Show Sign":return function(c){K.qY(a[c].data.title,a[c].data.content)};case "Set Quest Point":return function(c){R.r.I.OX(a[c].data.quest,a[c].data.objective)};case "Warp Player":return function(c){var d=a[c].data.index%O,e=Math.floor(a[c].data.index/O)+1;R.r.I.l(d*M,e*M);z({changemap:""+a[c].data.mapnum,setTo:a[c].data.index});V.bq(a[c].data.mapnum);V.El(d*M,e*M)};case "Open/Close Shop":return function(c){var d=
1==a[c].data.visible?!0:!1;null==Shop||Shop.da||(Shop=null);Shop&&(Shop.Aa(),Shop.K(),Shop=null);!0==d&&(Shop=new ShopPanel,Shop.A(a[c].data.id),Shop.pa(),K.f(Shop))};case "Open/Close Panel":return function(c){var d=1==a[c].data.visible?!0:!1;switch(a[c].data.panel){case 0:null==Inventory||Inventory.da||(Inventory=null);!0==d?Inventory?Inventory.Ma():(Inventory=new InventoryPanel,Inventory.A(),Inventory.pa(),K.f(Inventory)):Inventory&&(Inventory.Aa(),Inventory.K(),Inventory=null);break;case 1:null==
Equipment||Equipment.da||(Equipment=null);!0==d?Equipment?Equipment.Ma():(Equipment=new EquipmentPanel,Equipment.A(),Equipment.pa(),K.f(Equipment)):Equipment&&(Equipment.Aa(),Equipment.K(),Equipment=null);break;case 2:null==Skills||Skills.da||(Skills=null);!0==d?Skills?Skills.Ma():(Skills=new SkillsPanel,Skills.A(),Skills.pa(),K.f(Skills)):Skills&&(Skills.Aa(),Skills.K(),Skills=null);break;case 3:null==Quests||Quests.da||(Quests=null);!0==d?Quests?Quests.Ma():(Quests=new QuestsPanel,Quests.A(),Quests.pa(),
K.f(Quests)):Quests&&(Quests.Aa(),Quests.K(),Quests=null);break;case 4:null==Inventory||Inventory.da||(Inventory=null),Inventory&&(Inventory.Aa(),Inventory.K(),Inventory=null),null==Bank||Bank.da||(Bank=null),!0==d?Bank?Bank.Ma():(Bank=new BankPanel,Bank.A(),Bank.pa(),K.f(Bank)):Bank&&(Bank.Aa(),Bank.K(),Bank=null)}};case "Destroy":item=null,Inventory&&Inventory.Ma(),l=a.length}}()]);for(e=0;e<h.length;e++)h[e][1](h[e][0]),h.splice(e,1),e--}}
function T(a,c,d,e,f){K.Yd(function(){var g=[];c&&("Item"==d?c.script&&ObjectLists.Me()[c.script]&&(f&&(c.TJ=f),g=ObjectLists.Me()[c.script].data):"Tile"==d?c.Ph()&&(g=c.Ph().data):"NPC"==d&&c.Uc&&(g=ObjectLists.Me()[c.Uc].data));for(var h=0;h<g.length;h++)g[h].type==a&&Da(g[h].requirements,d,e)&&Ea(g[h].responses,d,c,e,g,h);f&&(c.TJ=null)})};var W=q.Qa.extend({r:null,rb:function(a){return(a=t.localStorage.getItem("last_"+a))?a:null},Gj:function(a,c){return(c=t.localStorage.setItem("last_"+a,c))?c:null}}),X=null;W.Ty=function(){X||(X=new W);return X};W.g=function(){return X};W.HX=function(a,c){var d=t.localStorage.getItem("panelStore");"null"==d||null==d?(console.log("NEW PANEL STORE"),d={}):d=JSON.parse(d);d[a]={x:c.x,y:c.y};t.localStorage.setItem("panelStore",JSON.stringify(d))};W.vT=function(){return t.localStorage.getItem("panelStore")};
W.RC=function(a){if(X.rb("maps")){if(a){var c=JSON.parse(t.localStorage.getItem("map_data"));return c[a]?c[a]:null}}else return[]};W.jM=function(a,c){X.Gj("maps",c);t.localStorage.setItem("map_data",JSON.stringify(a))};W.SR=function(a,c,d){var e=X.rb("maps")?JSON.parse(t.localStorage.getItem("map_data")):[];e[a]=c;W.jM(e,d)};W.ET=function(){if(X.rb("scripts")){if(""!=t.localStorage.getItem("scripts_data"))var a=JSON.parse(t.localStorage.getItem("scripts_data"));return a?a:[]}return[]};
W.oM=function(a,c){X.Gj("scripts",c);t.localStorage.setItem("scripts_data",JSON.stringify(a))};W.XR=function(a,c,d){var e=X.rb("scripts")?""!=t.localStorage.getItem("scripts_data")?JSON.parse(t.localStorage.getItem("scripts_data")):[]:[];e[a]=c;W.oM(e,d)};W.$V=function(a,c){scriptarray=a;W.By(scriptarray,c)};W.TT=function(){if(X.rb("warps")){if(""!=t.localStorage.getItem("warps_data"))var a=JSON.parse(t.localStorage.getItem("warps_data"));return a?a:[]}return[]};
W.By=function(a,c){X.Gj("warps",c);t.localStorage.setItem("warps_data",JSON.stringify(a))};W.bS=function(a,c,d){var e=X.rb("warps")?""!=t.localStorage.getItem("warps_data")?JSON.parse(t.localStorage.getItem("warps_data")):[]:[];e[a]=c;W.By(e,d)};W.dW=function(a,c){warparray=a;W.By(warparray,c)};W.lT=function(){if(X.rb("items")){if(""!=t.localStorage.getItem("items_data"))var a=JSON.parse(t.localStorage.getItem("items_data"));return a?a:[]}return[]};
W.Gt=function(a,c){X.Gj("items",c);t.localStorage.setItem("items_data",JSON.stringify(a))};W.RR=function(a,c,d){var e=X.rb("items")?""!=t.localStorage.getItem("items_data")?JSON.parse(t.localStorage.getItem("items_data")):[]:[];e[a]=c;W.Gt(e,d)};W.XV=function(a,c){itemsarray=a;W.Gt(itemsarray,c)};W.IT=function(){if(X.rb("skills")){if(""!=t.localStorage.getItem("skills_data"))var a=JSON.parse(t.localStorage.getItem("skills_data"));return a?a:[]}return[]};
W.ME=function(a,c){X.Gj("skills",c);t.localStorage.setItem("skills_data",JSON.stringify(a))};W.$R=function(a,c,d){var e=X.rb("skills")?""!=t.localStorage.getItem("skills_data")?JSON.parse(t.localStorage.getItem("skills_data")):[]:[];e[a]=c;W.ME(e,d)};W.cW=function(a,c){skillarray=a;W.ME(skillarray,c)};W.GT=function(){if(X.rb("signs")){if(""!=t.localStorage.getItem("signs_data"))var a=JSON.parse(t.localStorage.getItem("signs_data"));return a?a:[]}return[]};
W.Ay=function(a,c){X.Gj("signs",c);t.localStorage.setItem("signs_data",JSON.stringify(a))};W.ZR=function(a,c,d){var e=X.rb("signs")?""!=t.localStorage.getItem("signs_data")?JSON.parse(t.localStorage.getItem("signs_data")):[]:[];e[a]=c;W.Ay(e,d)};W.bW=function(a,c){signarray=a;W.Ay(signarray,c)};W.rT=function(){if(X.rb("npcs")){if(""!=t.localStorage.getItem("npcs_data"))var a=JSON.parse(t.localStorage.getItem("npcs_data"));return a?a:[]}return[]};
W.kM=function(a,c){X.Gj("npcs",c);t.localStorage.setItem("npcs_data",JSON.stringify(a))};W.TR=function(a,c,d){var e=X.rb("npcs")?""!=t.localStorage.getItem("npcs_data")?JSON.parse(t.localStorage.getItem("npcs_data")):[]:[];e[a]=c;W.kM(e,d)};W.YV=function(a,c){npcsarray=a;W.Ay(npcsarray,c)};W.yk=function(){if(X.rb("quests")){if(""!=t.localStorage.getItem("quests_data"))var a=JSON.parse(t.localStorage.getItem("quests_data"));return a?a:[]}return[]};
W.xy=function(a,c){X.Gj("quests",c);t.localStorage.setItem("quests_data",JSON.stringify(a))};W.WR=function(a,c,d){var e=X.rb("quests")?""!=t.localStorage.getItem("quests_data")?JSON.parse(t.localStorage.getItem("quests_data")):[]:[];e[a]=c;W.xy(e,d)};W.ZV=function(a,c){questsarray=a;W.xy(questsarray,c)};W.FT=function(){if(X.rb("shops")){if(""!=t.localStorage.getItem("shops_data"))var a=JSON.parse(t.localStorage.getItem("shops_data"));return a?a:[]}return[]};
W.pM=function(a,c){X.Gj("shops",c);t.localStorage.setItem("shops_data",JSON.stringify(a))};W.YR=function(a,c,d){var e=X.rb("shops")?""!=t.localStorage.getItem("shops_data")?JSON.parse(t.localStorage.getItem("shops_data")):[]:[];e[a]=c;W.xy(e,d)};W.aW=function(a,c){shopsarray=a;W.pM(shopsarray,c)};W.XC=function(){if(X.rb("settings")){if(""!=t.localStorage.getItem("settings_data"))var a=JSON.parse(t.localStorage.getItem("settings_data"));return a?a:[]}return[]};
W.LE=function(a,c){X.Gj("settings",c);t.localStorage.setItem("settings_data",JSON.stringify(a))};
W.IM=function(){t.localStorage.setItem("map_data",[]);t.localStorage.setItem("last_maps",2);t.localStorage.setItem("warps_data",[]);t.localStorage.setItem("last_warps",2);t.localStorage.setItem("items_data",[]);t.localStorage.setItem("last_items",2);t.localStorage.setItem("skills_data",[]);t.localStorage.setItem("last_skills",2);t.localStorage.setItem("signs_data",[]);t.localStorage.setItem("last_signs",2);t.localStorage.setItem("npcs_data",[]);t.localStorage.setItem("last_npcs",2);t.localStorage.setItem("quests_data",
[]);t.localStorage.setItem("last_quests",2);t.localStorage.setItem("shops_data",[]);t.localStorage.setItem("last_shops",2);t.localStorage.setItem("settings_data",[]);t.localStorage.setItem("last_settings",2);t.localStorage.setItem("scripts_data",[]);t.localStorage.setItem("last_scripts",2);t.localStorage.setItem("panelStore",null)};
W.UN=function(){z({sync:!0,mapupdate:null!=X.rb("maps")?X.rb("maps"):2,warpupdate:null!=X.rb("warps")?X.rb("warps"):2,itemupdate:null!=X.rb("items")?X.rb("items"):2,skillsupdate:null!=X.rb("skills")?X.rb("skills"):2,signsupdate:null!=X.rb("signs")?X.rb("signs"):2,npcsupdate:null!=X.rb("npcs")?X.rb("npcs"):2,questsupdate:null!=X.rb("quests")?X.rb("quests"):2,shopsupdate:null!=X.rb("shops")?X.rb("shops"):2,settingsupdate:null!=X.rb("settings")?X.rb("settings"):2,scriptsupdate:null!=X.rb("scripts")?
X.rb("scripts"):2})};W.bba=function(a){!0!=a&&!1!=a||t.localStorage.setItem("mapedit_saveonexit",a)};W.w5=function(){return null==t.localStorage.getItem("mapedit_saveonexit")?!1:t.localStorage.getItem("mapedit_saveonexit")};W.SX=function(a,c){t.localStorage.setItem("savedcredentials",JSON.stringify({user:a,pass:c}))};W.TK=function(a){t.localStorage.setItem("autologin",JSON.stringify(a))};W.JJ=function(){var a=t.localStorage.getItem("autologin");return null!=a?JSON.parse(a):!1};
W.PJ=function(){return t.localStorage.getItem("savedcredentials")?!0:!1};W.NT=function(){var a=t.localStorage.getItem("savedcredentials");return a?JSON.parse(a):!1};ListView=q.ci.extend({Jl:null,k:null,Js:null,Ex:!1,sg:null,Fj:null,ZL:null,TD:function(){if(this.k){this.Fj&&(this.Fj.K(),this.sg.K());var a=this.k.bc();a.height<this.k.c().height&&(a=this.k.c(),this.Ex=!0);this.Jl=[];for(var c=0,d=0;d<this.k.Vb();d++){var e=this.k.kc(d),c=c+e.height;this.Jl[d]=q.G.create();this.Jl[d].O(e);this.Jl[d].l(q.a(0,a.height-c));this.Jl[d].w(q.a(0,1));this.f(this.Jl[d]);this.Jl[d].f(this.k.jc(d))}this.uq(-300);this.sE(0);!1==this.Ex&&(this.Fj=q.v.create(),this.Fj.jb(q.rect(0,
0,1,this.k.c().height)),this.Fj.q(q.i(0,0,0,255)),this.Fj.w(q.a(0,0)),this.Fj.l(q.a(this.k.c().width+20,0)),this.sg=q.v.create(),this.sg.w(q.a(0,0)),this.sg.jb(q.rect(0,0,20,this.k.c().height/5)),this.sg.q(q.i(90,90,255,255)),this.sg.l(q.a(this.k.c().width+10,0)),this.k.f(this.Fj),this.k.f(this.sg),this.Yl(q.a(0,this.it().y),!1));this.k.l(this.ZL)}},A:function(a){this.k=a;this.w(q.a(0,0));this.ZL=q.a(a.u.J,a.u.U);this.gq(this.k.c(),this.k);this.ZK(q.Iq);this.XW(!1);a=this.k.bc();var c=q.G.create();
c.O(a);this.aX(c)},mc:function(a){this.Js=a},YD:!1,Ux:null,Ib:function(a){if(!this.k.rf)return!1;for(var c=0;c<this.k.Vb();c++)this.k.rf(c).q(q.i(255,255,255,255));this.k.rf(a).q(q.i(255,0,0,255))},vb:function(a){for(var c=a.T,d=0;d<this.k.Vb();d++)for(var e in this.Js[d]){var f=this.Jl[d].Ja(c),g=this.k.Ja(c);g.x+=this.k.u.J;H(this.k,g);if(H(this.Js[d][e],f))return this.k.mb(this.Js[d][e].Oa,d,a,this.Js[d][e]),this.YD=!0}if(!1==this.Ex){a=this.k.Ja(c);if(H(this.sg,a))return this.Ux=a.y-this.sg.u.U,
!0;this.Ux=null}},Ud:function(a){if(!0==this.YD)return this.YD=!1;if(!1==this.Ex){var c=a.T;if(null!=this.Ux&&(c=this.k.Ja(c),c.y-=this.Ux,0<=c.y&&c.y+this.sg.c().height<=this.k.c().height))return a=c.y/(this.Fj.c().height-this.sg.c().height),this.Yl(q.a(0,this.In().y*a),!1),this.sg.yc(c.y),!0;c=this._super(a);a=this.VI().y/this.In().y;this.sg.yc((this.Fj.c().height-this.sg.c().height)*a);return c}}});ListView.create=function(a){var c=new ListView;c.A(a);c.TD();return c};var xa=q.G.extend({Oe:null,Pe:null,Wg:null,Re:null,Se:null,Te:null,item:null,bh:null,Ie:null,Je:null,Ke:null,position:null,string:null,type:null,Uc:null,ctor:function(){this._super()},A:function(){this._super();this.string=q.S.create("","Arial",16);this.string.w(0.5,0.5);this.string.l(16,-16);this.string.ua(0);this.string.q(q.n(0,0,0));this.f(this.string,900);this.bh=[]},WH:function(a,c){c||(c=1);var d=ObjectLists.Kb()[a];d&&(this.$l(d.sprite.texture,d.sprite.position,"item"),this.bh.push({Gd:a,Ic:c}))},
removeItem:function(){0<this.bh.length&&this.bh.splice(this.bh.length-1,1);if(0<this.bh.length){var a=ObjectLists.Kb()[this.bh[this.bh.length-1].Gd];this.$l(a.sprite.texture,a.sprite.position,"item")}else this.item.K(),this.item=null},Bn:function(){return 0==this.bh.length?null:this.bh[this.bh.length-1]},$l:function(a,c,d){a=q.v.Ka(q.ga.g().la(a));a.jb(q.rect(Math.floor(M*c.x),Math.floor(M*c.y),M,M));a.q(q.i(255,255,255,255));a.w(0,1);switch(d){case "ground1":null!=this.Oe&&this.Oe.K();this.Oe=a;
this.f(this.Oe);break;case "ground2":null!=this.Pe&&this.Pe.K();this.Pe=a;this.f(this.Pe,1);break;case "ground3":null!=this.Wg&&this.Wg.K();this.Wg=a;this.f(this.Wg,2);break;case "mask1":null!=this.Re&&this.Re.K();this.Re=a;this.f(this.Re,3);break;case "mask2":null!=this.Se&&this.Se.K();this.Se=a;this.f(this.Se,4);break;case "mask3":null!=this.Te&&this.Te.K();this.Te=a;this.f(this.Te,5);break;case "item":null!=this.item&&this.item.K();this.item=a;this.f(this.item,6);break;case "fringe1":null!=this.Ie&&
this.Ie.K();this.Ie=a;this.f(this.Ie,7);break;case "fringe2":null!=this.Je&&this.Je.K();this.Je=a;this.f(this.Je,8);break;case "fringe3":null!=this.Ke&&this.Ke.K(),this.Ke=a,this.f(this.Ke,10)}},Zg:function(){var a=!0;null!=this.Oe&&this.Oe.ja()&&!1==this.Oe.ja().Qc?a=!1:null!=this.Pe&&this.Pe.ja()&&!1==this.Pe.ja().Qc?a=!1:null!=this.Wg&&this.Wg.ja()&&!1==this.Wg.W6?a=!1:null!=this.Re&&this.Re.ja()&&!1==this.Re.ja().Qc?a=!1:null!=this.Se&&this.Se.ja()&&!1==this.Se.ja().Qc?a=!1:null!=this.Te&&this.Te.ja()&&
!1==this.Te.ja().Qc?a=!1:null!=this.item&&this.item.ja()&&!1==this.item.ja().Qc?a=!1:null!=this.Ie&&this.Ie.ja()&&!1==this.Ie.ja().Qc?a=!1:null!=this.Je&&this.Je.ja()&&!1==this.Je.ja().Qc?a=!1:null!=this.Ke&&this.Ke.ja()&&!1==this.Ke.ja().Qc&&(a=!1);return a},pf:function(){null!=this.Oe&&this.Oe.K();this.Oe=null;null!=this.Pe&&this.Pe.K();this.Pe=null;null!=this.Wg&&this.Wg.K();this.Wg=null;null!=this.Re&&this.Re.K();this.Re=null;null!=this.Se&&this.Se.K();this.Se=null;null!=this.Te&&this.Te.K();
this.Te=null;null!=this.item&&this.item.K();this.item=null;this.bh=[];null!=this.Ie&&this.Ie.K();this.Ie=null;null!=this.Je&&this.Je.K();this.Je=null;null!=this.Ke&&this.Ke.K();this.Uc=this.Ke=null},DC:function(a){switch(a){case "ground1":null!=this.Oe&&this.Oe.K();this.Oe=null;break;case "ground2":null!=this.Pe&&this.Pe.K();this.Pe=null;break;case "ground3":null!=this.Wg&&this.Wg.K();this.Wg=null;break;case "mask1":null!=this.Re&&this.Re.K();this.Re=null;break;case "mask2":null!=this.Se&&this.Se.K();
this.Se=null;break;case "mask3":null!=this.Te&&this.Te.K();this.Te=null;break;case "item":null!=this.item&&this.item.K();this.item=null;this.bh=[];break;case "fringe1":null!=this.Ie&&this.Ie.K();this.Ie=null;break;case "fringe2":null!=this.Je&&this.Je.K();this.Je=null;break;case "fringe3":null!=this.Ke&&this.Ke.K(),this.Ke=null}},mE:function(a){if(!c)var c=!1;this.Uc=a;ObjectLists.Me()[a]?this.string.na(ObjectLists.Me()[a].abbr):this.string.na("_")},GS:function(){this.Uc=null;this.string.na("")},
Ph:function(){return ObjectLists.Me()[this.Uc]},z6:function(){return this.Uc},YX:function(a){this.string.ua(!0==a?255:0)}});xa.Ty=function(a){var c=new xa;c.A();c.position=q.a(a.x,a.y);return c};StatsController=q.v.extend({data:null,xx:null,k:null,A:function(a,c){this.data=a;this.k=c;this.LW()},update:function(){for(var a in this.data)this.xx&&(0==this.data[a].value&&0<this.xx[a]&&this.k.wca(a),this.data[a].ed>this.xx[a].ed&&this.k.yca(a)),this.xx[a]=this.data[a]},O6:function(a){return this.data[a].value},N6:function(a){return this.data[a].ed},l9:function(a,c){this.data[a].value+=c;this.data[a].value>this.data[a].ng&&(this.data[a].value=this.data[a].ng);0>this.data[a].value&&(this.data[a].value=
0)},aS:function(a,c){this.data[a].value=c;this.data[a].value>this.data[a].ng&&(this.data[a].value=this.data[a].ng);0>this.data[a].value&&(this.data[a].value=0)},k9:function(a,c){this.data[a].ed+=c;this.data[a].ed>this.data[a].mg&&(this.data[a].ed=this.data[a].mg);0>this.data[a].ed&&(this.data[a].ed=0)},aS:function(a,c){this.data[a].ed=c;this.data[a].ed>this.data[a].mg&&(this.data[a].ed=this.data[a].mg);0>this.data[a].ed&&(this.data[a].ed=0)},L2:function(a,c){this.data[a].mg=c},M2:function(a,c){this.data[a].ng=
c}});ObjectLists=q.Qa.extend({SE:null,vD:null,AE:null,zE:null,AD:null,MD:null,bE:null,xE:null});var Y;ObjectLists.g=function(){Y||(Y=new ObjectLists,Y.SE=W.TT(),Y.vD=W.lT(),Y.AE=W.IT(),Y.zE=W.GT(),Y.AD=W.rT(),Y.MD=W.yk(),Y.bE=W.ET(),Y.xE=W.FT());return Y};ObjectLists.oJ=function(){return Y.SE};ObjectLists.gY=function(a){Y.SE=a};ObjectLists.Kb=function(){return Y.vD};ObjectLists.rX=function(a){Y.vD=a};ObjectLists.zk=function(){return Y.AE};ObjectLists.XX=function(a){Y.AE=a};ObjectLists.gJ=function(){return Y.zE};
ObjectLists.WX=function(a){Y.zE=a};ObjectLists.Xp=function(){return Y.AD};ObjectLists.zX=function(a){Y.AD=a};ObjectLists.$p=function(){return Y.MD};ObjectLists.PX=function(a){Y.MD=a};ObjectLists.Me=function(){return Y.bE};ObjectLists.UX=function(a){Y.bE=a};ObjectLists.aq=function(){return Y.xE};ObjectLists.VX=function(a){Y.xE=a};gameMapInstance=null;
var V=q.Xc.extend({dc:null,N:null,$g:!1,Uf:null,Pf:null,On:null,Cn:null,Nl:null,Kl:null,Ll:null,Ml:null,Ji:null,Ii:null,V:q.a(0,0),zl:1,ft:function(a){if("string"===typeof a){if(0==this.N[a].Uc)return!0;a=this.N[a].Ph()}else{if(0==a.Uc)return!0;a=a.Ph()}if(a)for(var c=["Will Enter","On Enter"],d=0;d<a.data.length;d++)if(-1<c.indexOf(a.data[d].type)&&Da(a.data[d].requirements))for(var e=a.data[d].responses,f=0;f<e.length;f++)if("Block Entry"==e[f].type)return!0;return!1},IU:function(a){if("string"===typeof a){if(0==
this.N[a].Uc)return!1;a=this.N[a].Ph()}else{if(0==a.Uc)return!1;a=a.Ph()}if(a)for(var c=["Interact On","Interact Facing"],d=0;d<a.data.length;d++)if(-1<c.indexOf(a.data[d].type)&&Da(a.data[d].requirements))for(var e=a.data[d].responses,f=0;f<e.length;f++)if("Show Sign"==e[f].type)return!0;return!1},FU:function(a){if(a=ObjectLists.Me()[a.Uc])for(var c=["Default Event"],d=0;d<a.data.length;d++)if(-1<c.indexOf(a.data[d].type)&&Da(a.data[d].requirements))for(var e=a.data[d].responses,f=0;f<e.length;f++)if("Talk"==
e[f].type)return!0;return!1},Ps:function(a,c){function d(a,c){return{JN:a,value:c.x+c.y*O,x:c.x,y:c.y,gx:0,p:0}}function e(a,c){var d=c-1,e=c+1,g=a+1,h=a-1,k=-1<d&&f.N["tile"+Q(a,d)]&&!f.ft("tile"+Q(a,d));myS=e<O&&f.N["tile"+Q(a,e)]&&!f.ft("tile"+Q(a,e));myE=g<O&&f.N["tile"+Q(g,c)]&&!f.ft("tile"+Q(g,c));myW=-1<h&&f.N["tile"+Q(h,c)]&&!f.ft("tile"+Q(h,c));result=[];k&&result.push({x:a,y:d});myE&&result.push({x:g,y:c});myS&&result.push({x:a,y:e});myW&&result.push({x:h,y:c});return result}for(var f=this,
g=d(null,c),h,k,l,m,p,s=[],u=[],w=[d(null,a)],x=Array(N*O);h=w.length;){k=N*O;l=-1;for(m=0;m<h;m++)w[m].gx<k&&(k=w[m].gx,l=m);k=w.splice(l,1)[0];if(k.value===g.value){l=u[u.push(k)-1];do s.push(q.a(l.x,l.y));while(l=l.JN);x=u=w=[];s.reverse()}else{h=e(k.x,k.y);m=0;for(p=h.length;m<p;m++)l=d(k,h[m]),x[l.value]||(l.p=k.p+(Math.abs(h[m].x-k.x)+Math.abs(h[m].y-k.y)),l.gx=l.p+(Math.abs(h[m].x-g.x)+Math.abs(h[m].y-g.y)),w.push(l),x[l.value]=!0);u.push(k)}}return s},jY:function(a){this.dc={};this.dc.mapdata=
{};for(var c in this.N)"tile"==c.substring(0,4)&&(this.N[c].pf(),this.dc[c]={});if(a){if(a.mapdata){this.Nl=""!=a.mapdata.mapConnectors.up&&null!=a.mapdata.mapConnectors.up?a.mapdata.mapConnectors.up:null;this.Kl=""!=a.mapdata.mapConnectors.down&&null!=a.mapdata.mapConnectors.down?a.mapdata.mapConnectors.down:null;this.Ll=""!=a.mapdata.mapConnectors.left&&null!=a.mapdata.mapConnectors.left?a.mapdata.mapConnectors.left:null;this.Ml=""!=a.mapdata.mapConnectors.right&&null!=a.mapdata.mapConnectors.right?
a.mapdata.mapConnectors.right:null;if(gameMapInstance.Ji!=a.mapdata.mapConnectors.width||gameMapInstance.Ii!=a.mapdata.mapConnectors.height){O=a.mapdata.mapConnectors.width;N=a.mapdata.mapConnectors.height;Ba();gameMapInstance.N.K();var d=0;for(c in gameMapInstance.dc)"mapdata"!=c&&d++;if(d>O*N)for(c=O*N;c<d;c++)delete gameMapInstance.dc["tile"+c];for(c=0;c<O*N;c++)gameMapInstance.dc["tile"+c]||(gameMapInstance.dc["tile"+c]={})}this.Ji=""!=a.mapdata.mapConnectors.width&&null!=a.mapdata.mapConnectors.width?
a.mapdata.mapConnectors.width:36;this.Ii=""!=a.mapdata.mapConnectors.height&&null!=a.mapdata.mapConnectors.height?a.mapdata.mapConnectors.height:36;R&&R.r.I&&(d=R.r.I.ic(),d.y>this.Ii&&R.r.I.yc(M*this.Ii),d.x>this.Ji-1&&R.r.I.Pa(M*(this.Ji-1)));this.N.K();this.Uf.K();this.Pf.K();this.On.K();this.N=sa(this);this.f(this.N);this.Uf=q.yb.create(L.width,L.height);this.Uf.l(q.a(Math.floor(L.width/2),Math.floor(L.height/2)));this.f(this.Uf);this.f(this.On);this.Pf=q.yb.create(L.width,L.height);this.Pf.l(q.a(Math.floor(L.width/
2),Math.floor(L.height/2)));this.f(this.Pf)}this.dc=a;for(c in a)if("tile"==c.substring(0,4))for(var e in a[c])"info"!=e?null!=a[c][e]&&this.N[c]&&this.N[c].$l(a[c][e].texture,a[c][e].frame,e):null!=a[c][e].script&&"undefined"!==a[c][e].script&&this.N[c]&&(this.N[c].mE(a[c][e].script),T("On Game load",this.N[c],"Tile"))}R&&R.r.I&&(a=R.r.I.ic(),V.El(a.x*M,a.y*M),this.lc(this.OD))},bm:function(a){a=W.RC(a);this.dc={};this.dc.mapdata={};for(var c in this.N)"tile"==c.substring(0,4)&&(this.N[c].pf(),this.dc[c]=
{});if(a){if(a.mapdata){this.Nl=""!=a.mapdata.mapConnectors.up&&null!=a.mapdata.mapConnectors.up?a.mapdata.mapConnectors.up:null;this.Kl=""!=a.mapdata.mapConnectors.down&&null!=a.mapdata.mapConnectors.down?a.mapdata.mapConnectors.down:null;this.Ll=""!=a.mapdata.mapConnectors.left&&null!=a.mapdata.mapConnectors.left?a.mapdata.mapConnectors.left:null;this.Ml=""!=a.mapdata.mapConnectors.right&&null!=a.mapdata.mapConnectors.right?a.mapdata.mapConnectors.right:null;if(gameMapInstance.Ji!=a.mapdata.mapConnectors.width||
gameMapInstance.Ii!=a.mapdata.mapConnectors.height){O=a.mapdata.mapConnectors.width;N=a.mapdata.mapConnectors.height;Ba();gameMapInstance.N.K();var d=0;for(c in gameMapInstance.dc)"mapdata"!=c&&d++;if(d>O*N)for(c=O*N;c<d;c++)delete gameMapInstance.dc["tile"+c];for(c=0;c<O*N;c++)gameMapInstance.dc["tile"+c]||(gameMapInstance.dc["tile"+c]={})}this.Ji=""!=a.mapdata.mapConnectors.width&&null!=a.mapdata.mapConnectors.width?a.mapdata.mapConnectors.width:36;this.Ii=""!=a.mapdata.mapConnectors.height&&null!=
a.mapdata.mapConnectors.height?a.mapdata.mapConnectors.height:36;R&&R.r.I&&(d=R.r.I.ic(),d.y>this.Ii&&R.r.I.yc(M*this.Ii),d.x>this.Ji-1&&R.r.I.Pa(M*(this.Ji-1)));this.N.K();this.Uf.K();this.Pf.K();this.On.K();this.N=sa(this);this.f(this.N);this.Uf=q.yb.create(L.width,L.height);this.Uf.l(q.a(Math.floor(L.width/2),Math.floor(L.height/2)));this.f(this.Uf);this.f(this.On);this.Pf=q.yb.create(L.width,L.height);this.Pf.l(q.a(Math.floor(L.width/2),Math.floor(L.height/2)));this.f(this.Pf)}this.dc=a;for(c in a)if("tile"==
c.substring(0,4))for(var e in a[c])"info"!=e?null!=a[c][e]&&this.N[c]&&this.N[c].$l(a[c][e].texture,a[c][e].frame,e):null!=a[c][e].script&&"undefined"!==a[c][e].script&&this.N[c]&&(this.N[c].mE(a[c][e].script),T("On Game load",this.N[c],"Tile"))}R&&R.r.I&&(c=R.r.I.ic(),V.El(c.x*M,c.y*M),this.lc(this.OD))},OD:function(){for(var a in this.N)if("tile"==a.substring(0,4)&&!1==this.N[a].Zg())return;R.g().B(!0);R.Ik();this.Oc(this.OD);this.Pf.B(!0);this.Uf.B(!0);this.$g=!0},uc:function(){for(var a={},c=
0;c<O;c++)for(var d=0;d<N;d++)a["tile"+(c+d*O)]={size:q.size(M,M),e:q.a(0,0),position:q.a(c*M,(N-d)*M),EU:!0,FY:q.a(d,c),visible:!1};return{panels:{children:a}}},A:function(){this.qc(!0);this.sE(1)},vb:function(a){!this.Cn||Mapeditor&&Mapeditor.da||(this.Cn=Mapeditor=null);if(this.Cn)for(var c in this.N)"tile"==c.substring(0,4)&&q.wb(this.N[c].qb(),q.a(a.T.x-this.V.x,a.T.y+M-this.V.y))&&(this.Cn.dM(this.N,c),V.Ht());else{if(Shop&&Shop.da||Bank&&Bank.da)return;for(c in this.N)if("tile"==c.substring(0,
4)&&q.wb(this.N[c].qb(),q.a(a.T.x-this.V.x,a.T.y+M-this.V.y))){var d=V.dJ(this.N[c].u.J/M,this.N[c].u.U/M),e=this.IU(c);if(this.N[c].Bn()){var d=ObjectLists.Kb()[this.N[c].Bn().number],f=G["Item Dropdown Pick Up"]+"",e=G["Item Dropdown Walk To"]+"",f=f.replace("\x3cITEM\x3e",d.name),e=e.replace("\x3cITEM\x3e",d.name);this.da.f(DropDownList.Sc(this,this.KU,[f,e],a.T));this.Qd=c}else if(d){if(this.FU(d))var g=G["NPC Dropdown Talk"]+"",g=g.replace("\x3cNPC\x3e",d.name);e=G["NPC Dropdown Walk To"]+"";
e=e.replace("\x3cNPC\x3e",d.name);g?this.da.f(DropDownList.Sc(this,this.gK,[g,e],a.T,null,{Fx:d})):this.da.f(DropDownList.Sc(this,this.gK,[e],a.T));this.Qd=c}else e?(e=G["Sign Dropdown list Read"]+"",e=e.replace("\x3cSIGN\x3e",this.N[c].Ph().name),this.da.f(DropDownList.Sc(this,this.sY,[e],a.T)),this.Qd=c):(e=R.r.I.ic(),R.r.I.wt(this.Ps(q.a(Math.floor(e.x),Math.ceil(e.y)),q.a(this.N[c].u.x/M,this.N[c].u.y/M))))}}return!0},Qd:null,KU:function(a){if(null!=this.k.Qd){var c=ObjectLists.Kb()[this.k.N[gameMapInstance.Qd].Bn().number],
d=R.r.I.ic(),e=q.a(gameMapInstance.N[gameMapInstance.Qd].u.x/M,gameMapInstance.N[gameMapInstance.Qd].u.y/M);switch(a){case 0:a=d.x>e.x?d.x-e.x:e.x-d.x;d=d.y>e.y?d.y-e.y:e.y-d.y;5>Math.sqrt(a*a+d*d)?R.r.I.zU(gameMapInstance.N[gameMapInstance.Qd]):(d=G["Item Out-of-range"]+"",d=d.replace("\x3cITEM\x3e",c.name),S.hc(d));break;case 1:R.r.I.wt(gameMapInstance.Ps(q.a(Math.floor(d.x),Math.ceil(d.y)),e)),this.k.Qd=null}}},gK:function(a,c,d,e){if(null!=this.k.Qd)if(c=R.r.I.ic(),1==d.length)R.r.I.wt(gameMapInstance.Ps(q.a(Math.floor(c.x),
Math.ceil(c.y)),itemPosition)),this.k.Qd=null;else switch(d=q.a(e.Fx.u.x/M,e.Fx.u.y/M),a){case 0:a=c.x>d.x?c.x-d.x:d.x-c.x;c=c.y>d.y?c.y-d.y:d.y-c.y;5>Math.sqrt(a*a+c*c)?(T("Default Event",e.Fx,"NPC"),this.k.Qd=null):(a=G["NPC Out-of-range"]+"",a=a.replace("\x3cNPC\x3e",e.Fx.name),S.hc(a));break;case 1:R.r.I.wt(gameMapInstance.Ps(q.a(Math.floor(c.x),Math.ceil(c.y)),itemPosition)),this.k.Qd=null}},sY:function(a){if(null!=this.k.Qd){var c=R.r.I.ic(),d=q.a(gameMapInstance.N[gameMapInstance.Qd].u.x/M,
gameMapInstance.N[gameMapInstance.Qd].u.y/M);switch(a){case 0:a=c.x>d.x?c.x-d.x:d.x-c.x,c=c.y>d.y?c.y-d.y:d.y-c.y,5>Math.sqrt(a*a+c*c)?(T("Interact Facing",this.k.N[gameMapInstance.Qd],"Tile"),this.k.Qd=null):(c=G["Sign Out-of-range"]+"",c=c.replace("\x3cSIGN\x3e",this.k.N[gameMapInstance.Qd].Ph().name),S.hc(c))}}},Ud:function(a){if(this.Cn){for(var c in this.N)"tile"==c.substring(0,4)&&q.wb(this.N[c].qb(),q.a(a.T.x-this.V.x,a.T.y+M-this.V.y))&&(this.Cn.dM(this.N,c,"moved"),V.Ht());return!0}for(c in this.N)if("tile"==
c.substring(0,4)&&q.wb(this.N[c].qb(),q.a(a.T.x-this.V.x,a.T.y+M-this.V.y))){var d=R.r.I.ic();R.r.I.wt(this.Ps(q.a(Math.floor(d.x),Math.ceil(d.y)),q.a(this.N[c].u.x/M,this.N[c].u.y/M)))}},Ca:function(){this._super();if(!0==this.$g){this.Uf.uC(0,0,0,0);for(var a in this.N)"tile"==a.substring(0,4)&&(this.N[a].B(!0),null!=this.N[a].Ie&&this.N[a].Ie.B(!1),null!=this.N[a].Je&&this.N[a].Je.B(!1),null!=this.N[a].MC&&this.N[a].MC.B(!1),null!=this.N[a].Ke&&this.N[a].Ke.B(!1),this.N[a].Ca(),null!=this.N[a].Ie&&
this.N[a].Ie.B(!0),null!=this.N[a].Je&&this.N[a].Je.B(!0),null!=this.N[a].MC&&this.N[a].MC.B(!0),null!=this.N[a].Ke&&this.N[a].Ke.B(!0),this.N[a].B(!1));this.Uf.end();this.Pf.uC(0,0,0,0);for(a in this.N)"tile"==a.substring(0,4)&&(this.N[a].B(!0),null!=this.N[a].Oe&&this.N[a].Oe.B(!1),null!=this.N[a].Pe&&this.N[a].Pe.B(!1),null!=this.N[a].fD&&this.N[a].fD.B(!1),null!=this.N[a].Re&&this.N[a].Re.B(!1),null!=this.N[a].Se&&this.N[a].Se.B(!1),null!=this.N[a].Te&&this.N[a].Te.B(!1),null!=this.N[a].item&&
this.N[a].item.B(!1),this.N[a].Ca(),null!=this.N[a].Oe&&this.N[a].Oe.B(!0),null!=this.N[a].Pe&&this.N[a].Pe.B(!0),null!=this.N[a].fD&&this.N[a].fD.B(!0),null!=this.N[a].Re&&this.N[a].Re.B(!0),null!=this.N[a].Se&&this.N[a].Se.B(!0),null!=this.N[a].Te&&this.N[a].Te.B(!0),null!=this.N[a].item&&this.N[a].item.B(!0),this.N[a].B(!1));this.Pf.end();this.$g=!1}}});
V.updateOffset=function(a,c){0<=gameMapInstance.V.x+(L.width-P.width/2)+a&&R.r.I.u.x<L.width-P.width/2&&0>=gameMapInstance.V.x+a&&R.r.I.u.x>P.width/2&&(gameMapInstance.V.x+=a);0<=gameMapInstance.V.y+(L.height-P.height/2)+c&&R.r.I.u.y<L.height-P.height/2&&0>=gameMapInstance.V.y+c&&R.r.I.u.y>P.height/2&&(gameMapInstance.V.y+=c);L.height<P.height&&(gameMapInstance.V.y=(P.height-L.height)/2);L.width<P.width&&(gameMapInstance.V.x=(P.width-L.width)/2);gameMapInstance.l(gameMapInstance.V.x,gameMapInstance.V.y)};
V.El=function(a,c){a=parseInt(a);c=parseInt(c);!0==gameMapInstance.$g?0==offsetFromPositionScheduledX&&0==offsetFromPositionScheduledY&&(offsetFromPositionScheduledX=a,offsetFromPositionScheduledY=c,gameMapInstance.lc(V.QK)):(gameMapInstance.V.x=a>L.width-P.width/2?-(L.width-P.width):a<P.width/2?0:-(a-P.width/2),gameMapInstance.V.y=c>L.height-P.height/2?-(L.height-P.height):c<P.height/2?0:-(c-P.height/2),offsetFromPositionScheduledY=offsetFromPositionScheduledX=0,gameMapInstance.Oc(V.QK),L.height<
P.height&&(gameMapInstance.V.y=(P.height-L.height)/2),L.width<P.width&&(gameMapInstance.V.x=(P.width-L.width)/2),gameMapInstance.l(gameMapInstance.V.x,gameMapInstance.V.y))};offsetFromPositionScheduledY=offsetFromPositionScheduledX=0;V.QK=function(){V.El(offsetFromPositionScheduledX,offsetFromPositionScheduledY)};
V.dD=function(){!0==gameMapInstance.$g?gameMapInstance.lc(V.dD):(gameMapInstance.Oc(V.dD),gameMapInstance.V.x=-(L.width-P.width),L.height<P.height&&(gameMapInstance.V.y=(P.height-L.height)/2),L.width<P.width&&(gameMapInstance.V.x=(P.width-L.width)/2),gameMapInstance.l(gameMapInstance.V.x,gameMapInstance.V.y))};
V.cD=function(){!0==gameMapInstance.$g?gameMapInstance.lc(V.cD):(gameMapInstance.Oc(V.cD),gameMapInstance.V.x=0,L.height<P.height&&(gameMapInstance.V.y=(P.height-L.height)/2),L.width<P.width&&(gameMapInstance.V.x=(P.width-L.width)/2),gameMapInstance.l(gameMapInstance.V.x,gameMapInstance.V.y))};
V.bD=function(){!0==gameMapInstance.$g?gameMapInstance.lc(V.bD):(gameMapInstance.Oc(V.bD),gameMapInstance.V.y=-(L.height-P.height),L.height<P.height&&(gameMapInstance.V.y=(P.height-L.height)/2),L.width<P.width&&(gameMapInstance.V.x=(P.width-L.width)/2),gameMapInstance.l(gameMapInstance.V.x,gameMapInstance.V.y))};
V.eD=function(){!0==gameMapInstance.$g?gameMapInstance.lc(V.eD):(gameMapInstance.Oc(V.eD),gameMapInstance.V.y=0,L.height<P.height&&(gameMapInstance.V.y=(P.height-L.height)/2),L.width<P.width&&(gameMapInstance.V.x=(P.width-L.width)/2),gameMapInstance.l(gameMapInstance.V.x,gameMapInstance.V.y))};
V.create=function(){gameMapInstance||(gameMapInstance=new V,gameMapInstance.N=sa(gameMapInstance),gameMapInstance.f(gameMapInstance.N),gameMapInstance.Uf=q.yb.create(L.width,L.height),gameMapInstance.Uf.l(q.a(Math.floor(L.width/2),Math.floor(L.height/2))),gameMapInstance.f(gameMapInstance.Uf),gameMapInstance.Uf.B(!1),gameMapInstance.On=q.G.create(),gameMapInstance.f(gameMapInstance.On),gameMapInstance.Pf=q.yb.create(L.width,L.height),gameMapInstance.Pf.l(q.a(Math.floor(L.width/2),Math.floor(L.height/
2))),gameMapInstance.f(gameMapInstance.Pf),gameMapInstance.Pf.B(!1),gameMapInstance.uq(-15),gameMapInstance.A());return gameMapInstance};V.g=function(){return gameMapInstance};V.pt=function(){gameMapInstance.K();gameMapInstance=null};V.Ht=function(){gameMapInstance||(gameMapInstance=V.create());gameMapInstance.$g=!0};V.kY=function(a){gameMapInstance.jY(a)};V.g=function(){return gameMapInstance};
V.$l=function(a,c,d,e){gameMapInstance.dc[a]&&(gameMapInstance.N[a].$l(c,d,e),gameMapInstance.dc[a][e]={texture:c,frame:d})};V.NY=function(){R.EC();z({savemap:gameMapInstance.zl,mapdata:gameMapInstance.dc})};V.DC=function(a,c){gameMapInstance.dc[a][c]=null;gameMapInstance.N[a].DC(c)};V.aY=function(a,c){null!=c&&"undefined"!==c&&(gameMapInstance.N[a].mE(c),gameMapInstance.dc[a].info={script:c})};V.QT=function(a){return gameMapInstance.N[a].Ph()};
V.HS=function(a){gameMapInstance.N[a].GS();gameMapInstance.dc[a].info={script:null}};
V.uX=function(a){gameMapInstance.dc.mapdata.mapConnectors=a;gameMapInstance.Nl=a.up;gameMapInstance.Kl=a.down;gameMapInstance.Ll=a.left;gameMapInstance.Ml=a.right;if(gameMapInstance.Ji!=a.width||gameMapInstance.Ii!=a.height){O=a.width;N=a.height;Ba();gameMapInstance.N.K();var c=0,d;for(d in gameMapInstance.dc)"mapdata"!=d&&c++;if(c>O*N)for(d=O*N;d<c;d++)delete gameMapInstance.dc["tile"+d];for(d=0;d<O*N;d++)gameMapInstance.dc["tile"+d]||(gameMapInstance.dc["tile"+d]={})}gameMapInstance.Ji=a.width;
gameMapInstance.Ii=a.height};V.ZS=function(a,c,d){for(var e in gameMapInstance.N)"tile"==e.substring(0,4)&&gameMapInstance.dc[e]&&(gameMapInstance.N[e].$l(a,c,d),gameMapInstance.dc[e][d]={texture:a,frame:c})};V.AL=function(a){for(var c in gameMapInstance.N)"tile"==c.substring(0,4)&&gameMapInstance.N[c].YX(a);SkillBarsInstance.B(!a);Z.B(!a);gameMapInstance.$g=!0};
V.Nba=function(){for(var a in gameMapInstance.N)"tile"==a.substring(0,4)&&gameMapInstance.N[a].string.na(a.substring(4));gameMapInstance.$g=!0};V.tJ=function(){return null!=gameMapInstance.Nl};V.qJ=function(){return null!=gameMapInstance.Kl};V.rJ=function(){return null!=gameMapInstance.Ll};V.sJ=function(){return null!=gameMapInstance.Ml};V.sf=function(){return gameMapInstance.zl};V.VC=function(){return gameMapInstance.Nl};V.SC=function(){return gameMapInstance.Kl};V.TC=function(){return gameMapInstance.Ll};
V.UC=function(){return gameMapInstance.Ml};V.$I=function(){return gameMapInstance.Ji};V.ZI=function(){return gameMapInstance.Ii};V.bq=function(a,c){c||(MapMaster=!1);R.g().B(!1);R.EC();V.pf();gameMapInstance.zl=a;R.r.I.pq(a);R.Ik();gameMapInstance.bm(a)};V.ZT=function(a){R.EC();V.pf();gameMapInstance.zl=a;gameMapInstance.bm(a)};V.YT=function(){R.g().B(!1);V.pf();gameMapInstance.zl=gameMapInstance.Nl;R.r.I.pq(gameMapInstance.Nl);R.Ik();gameMapInstance.bm(gameMapInstance.Nl)};
V.VT=function(){R.g().B(!1);V.pf();gameMapInstance.zl=gameMapInstance.Kl;R.r.I.pq(gameMapInstance.Kl);R.Ik();gameMapInstance.bm(gameMapInstance.Kl)};V.WT=function(){R.g().B(!1);V.pf();gameMapInstance.zl=gameMapInstance.Ll;R.r.I.pq(gameMapInstance.Ll);R.Ik();gameMapInstance.bm(gameMapInstance.Ll)};V.Di=function(a){if(!W.RC(a))return q.size(36,36);a=W.RC(a).mapdata.mapConnectors;return q.size(a.width,a.height)};
V.XT=function(){R.g().B(!1);V.pf();gameMapInstance.zl=gameMapInstance.Ml;R.r.I.pq(gameMapInstance.Ml);R.Ik();gameMapInstance.bm(gameMapInstance.Ml)};V.qt=function(a){gameMapInstance.Cn=a};V.An=function(a,c){return a>O-1||0>a?void 0:gameMapInstance.N["tile"+(a+(N-c)*O)]};V.dJ=function(a,c){for(var d in R.g().le){var e=R.g().le[d].ic();if(e.x==a&&e.y==c)return R.g().le[d]}return null};V.lJ=function(a){return gameMapInstance.N["tile"+a]};
V.yR=function(){var a=R.g();gameMapInstance.On.f(a);V.El(R.r.I.u.J,R.r.I.u.U)};V.pf=function(){gameMapInstance.dc={};for(var a in gameMapInstance.N)"tile"==a.substring(0,4)&&(gameMapInstance.N[a].pf(),gameMapInstance.dc[a]={});gameMapInstance.dc.mapdata={};gameMapInstance.$g=!0};var R=q.Xc.extend({r:null,Dc:[],le:[],I:null});R.g=function(){return this.r};R.pt=function(){this.r.K();this.r=null};R.create=function(a){this.r||(this.r=new R,this.r.I=PlayerCharacter.create(a),this.r.f(this.r.I));return this.r};R.zN=function(){var a=V.sf(),c=[],d;for(d in this.r.le)this.r.le[d].pg==a&&c.push(this.r.le[d]);return c};R.Wp=function(a){return this.r.le[a]};R.$U=function(a,c,d){this.r.le[a]&&"default"!=c&&this.r.I.pg==d&&this.r.le[a].sM(c)};
R.uW=function(a,c){this.r.le[a]&&"default"!=c&&this.r.le[a].l(q.a(c%O*M,Math.floor(c/O)*M))};R.EC=function(){for(var a in this.r.le)this.r.le[a].K();this.r.le=[]};R.sR=function(a,c){var d=V.sf();if(a&&a.sprite){var e=parseInt(this.r.le.length);this.r.le.push(NonPlayerCharacter.create({name:a.name,bo:{health:{ed:1,value:100,ng:200,mg:900},mana:{ed:1,value:100,ng:200,mg:99}},map:d,Bt:"sprites1.png",zt:a.sprite.number,Dn:e,Uc:a.script}));this.r.le[e].l(c.x*M,c.y*M);this.r.f(this.r.le[e])}};R.w7=function(){return this.r.I};
R.Fi=function(a){return this.r.Dc[a]};R.xR=function(a){this.r.Dc[a.id]=PlayerCharacter.create({name:a.id,bo:{health:{ed:1,value:100,ng:200,mg:900},mana:{ed:1,value:100,ng:200,mg:99}},map:a.location.mapnumber,Bt:"sprites1.png",zt:1});var c=a.location.position,d=V.Di(a.location.mapnumber);this.r.Dc[a.id].l(c%d.width*M,Math.floor(c/d.width)*M);R.Ik();this.r.f(this.r.Dc[a.id]);c=G["Join Message"]+"";c=c.replace("\x3cPLAYER\x3e",a.id);S.hc(c)};
R.xI=function(a){if(this.r.Dc[a]){this.r.Dc[a].K();this.r.Dc[a]=null;var c=G["Leave Message"]+"",c=c.replace("\x3cPLAYER\x3e",a);S.hc(c);for(c=0;c<A.length;c++){var d=JSON.parse(A[c]);d.id&&d.id==a&&(A.splice(c,1),c--)}}};
R.aV=function(a){console.log(a.location.position);if(this.r.Dc[a.id])this.r.Dc[a.id].sM(a.location.position);else{this.r.Dc[id]=PlayerCharacter.create({name:a.id,bo:{health:{ed:1,value:100,ng:200,mg:900},mana:{ed:1,value:100,ng:200,mg:99}},map:a.location.mapnumber,Bt:"sprites1.png",zt:1});var c=a.location.position,d=V.Di(a.location.mapnumber);this.r.Dc[id].l(q.a(c%d.width*M,Math.floor(c/d.width)*M));R.Ik();this.r.f(this.r.Dc[a.id]);c=G["Join Message"]+"";c=c.replace("\x3cPLAYER\x3e",a.id);S.hc(c)}};
R.EV=function(a){if(this.r.Dc[a.id])this.r.Dc[a.id].l(q.a(a.location.position%O*M,Math.floor(a.location.position/O)*M));else{this.r.Dc[a.id]=PlayerCharacter.create({name:a.id,bo:{health:{ed:1,value:100,ng:200,mg:900},mana:{ed:1,value:100,ng:200,mg:99}},map:a.location.mapnumber,Bt:"sprites1.png",zt:1});var c=a.location.position,d=V.Di(a.location.mapnumber);this.r.Dc[a.id].l(q.a(c%d.width*M,Math.floor(c/d.width)*M));R.Ik();this.r.f(this.r.Dc[a.id]);c=G["Join Message"];c=c.replace("\x3cPLAYER\x3e",a.id);
S.hc(c)}};R.VR=function(a){this.r.Dc[a]&&this.r.Dc[a].updateStatus("AFK")};R.Ik=function(){var a=this.r.I.pg,c;for(c in this.r.Dc)null!=this.r.Dc[c]&&this.r.Dc[c].B(this.r.Dc[c].pg==a)};R.pf=function(){for(var a in this.r.Dc)null!=this.r.Dc[a]&&R.xI(a);this.r.I.K();this.r.I=null};R.UR=function(a,c){this.r.Dc[a].pq(c);this.r.Dc[a].B(this.r.I.pg==c)};Character=q.v.extend({name:null,bo:null,bM:null,j2:null,yf:null,ah:!1,Kn:null,ny:null,zj:!1,Dn:-1,status:null,pg:null,path:null,LC:"DOWN",A:function(a){this.$X(a.Bt,a.zt);this.bo=new StatsController(a.xca,this);this.f(this.bo);this.name=a.name;a.Uc&&(this.Uc=a.Uc);a.zj&&(this.zj=a.zj);a.map&&(this.pg=a.map);null!=a.Dn&&"undefined"!==a.Dn&&(this.Dn=a.Dn);this.w(0,1);this.Kn=q.S.create("","Arial",12);this.Kn.w(0.5,0);this.Kn.q(255,0,0);this.Kn.l(Math.floor(this.c().width/2),this.c().width+3);this.f(this.Kn);
this.lM()},X4:function(){return this.LC},pq:function(a){this.pg=a},v5:function(){return this.pg},updateStatus:function(a){this.status=a&&a!=this.status?a:null;this.lM()},lM:function(){null!=this.status?this.Kn.na(this.name+"-"+this.status):this.Kn.na(this.name)},getName:function(){return this.name},Sf:function(a,c,d){this.jb(q.rect(a*Aa,4*this.bM.id*Aa+c*Aa,Aa,Aa));this.ny=q.a(a,c);this.LC=d},Qh:function(){return this.ny},$X:function(a,c){this.bM={name:a,id:c};this.ma(q.ga.g().la(a));this.Sf(1,0)},
ic:function(){return q.a(this.u.x/M,this.u.y/M)},Qw:0.24,QY:0.24,Al:2,vda:function(a){var c=a.position%O,d=Math.floor(a.position/O);this.l(c*M,d*M);z({changemap:a.mapTo,setTo:a.position});V.bq(a.mapTo);V.El(c*M,d*M)},AU:function(){if(!this.ah){var a=this.ic();if(a=V.An(a.x,a.y))a.Bn()&&this.zV(a.Bn()),a.Ph()&&T("Interact On",a,"Tile")}},zU:function(a){a&&(this.ah||a&&(a.Bn()?this.AV(a.Bn(),a):a.Ph()&&T("Interact On",a,"Tile")))},yU:function(){if(!this.ah){var a=this.ic();switch(this.LC){case "RIGHT":a.x+=
1;break;case "LEFT":a.x-=1;break;case "UP":a.y+=1;break;case "DOWN":a.y-=1}var c=V.dJ(a.x,a.y);c?T("Default Event",c,"NPC"):(a=V.An(a.x,a.y))&&a.Ph()&&T("Interact Facing",a,"Tile")}},Jt:function(a){this.Qw+=a;a=this.u;var c=this.Qh();this.Qw>this.QY&&(this.Qw=0,this.yf.x<a.x?this.Sf((c.x+1)%3,1,"LEFT"):this.yf.x>a.x?this.Sf((c.x+1)%3,2,"RIGHT"):this.yf.y<a.y?this.Sf((c.x+1)%3,0,"DOWN"):this.yf.y>a.y&&this.Sf((c.x+1)%3,3,"UP"));this.yf.x<a.x?(this.Pa(a.x-this.Al),this.zj&&V.updateOffset(+this.Al,0)):
this.yf.x>a.x?(this.Pa(a.x+this.Al),this.zj&&V.updateOffset(-this.Al,0)):this.yf.y<a.y?(this.yc(a.y-this.Al),this.zj&&V.updateOffset(0,this.Al)):this.yf.y>a.y&&(this.yc(a.y+this.Al),this.zj&&V.updateOffset(0,-this.Al));a.y==this.yf.y&&a.x==this.yf.x&&(this.ah=!1,this.yx&&T("On Leave",V.An(this.yx.x,this.yx.y),"Tile"),this.yx=null,T("On Enter",V.An(this.ic().x,this.ic().y),"Tile"),this.Oc(this.Jt),null!=this.path&&this.gI())},zq:function(a,c){if(!1!=this.za){var d=V.An(a,c),e=this.ny,f=this.ic();f.x>
a?this.Sf(e.x,1,"LEFT"):f.x<a&&this.Sf(e.x,2,"RIGHT");f.y>c?this.Sf(e.x,0,"DOWN"):f.y<c&&this.Sf(e.x,3,"UP");d?!1==this.ah&&d&&!gameMapInstance.ft(d)&&(T("Will Leave",V.An(this.ic().x,this.ic().y),"Tile"),this.yx=q.a(this.ic().x,this.ic().y),this.yf=q.a(M*a,M*c),this.ah=!0,T("Will Enter",V.An(a,c),"Tile"),this.lc(this.Jt),this.Jt(0),this.zj?z({moveTo:this.yf.x/M+this.yf.y/M*O}):-1<this.Dn&&z({npcID:this.Dn+"",mapnumber:this.pg,moveNPC:this.yf.x/M+this.yf.y/M*O})):(null==Mapeditor||Mapeditor.da||(Mapeditor=
null),this.zj&&null==Mapeditor&&(f.x<a&&V.sJ()?(d=V.Di(V.UC()),this.l(0,M*c),z({changemap:parseInt(V.UC()),setTo:0+c*d.width}),V.XT(),V.cD()):f.x>a&&V.rJ()&&(d=V.Di(V.TC()),this.l(M*(d.width-1),M*c),z({changemap:parseInt(V.TC()),setTo:d.width-1+c*d.width}),V.WT(),V.dD()),f.y<c&&V.tJ()?(d=V.Di(V.VC()),this.l(M*a,M),z({changemap:parseInt(V.VC()),setTo:a+1*d.width}),V.YT(),V.eD()):f.y>c&&V.qJ()&&(d=V.Di(V.SC()),z({changemap:parseInt(V.SC()),setTo:a+d.height*d.width}),this.l(M*a,M*d.height),V.VT(),V.bD())))}},
gI:function(){0==this.path.length?this.path=null:(this.path.splice(0,1),0==this.path.length?this.path=null:this.zq(this.path[0].x,this.path[0].y))},wt:function(a){if(null==this.path||0!=a.length)this.path=a,this.gI()},sM:function(a){if(!1!=this.za){var c=a%O;a=Math.floor(a/O);if(!1==this.ah){var d=this.ny,e=this.ic();4<Math.abs(q.ED(q.a(c,a),e))?this.l(q.a(M*c,M*a)):(e.x>c?this.Sf(d.x,1,"LEFT"):e.x<c?this.Sf(d.x,2,"RIGHT"):e.y>a?this.Sf(d.x,0,"DOWN"):e.y<a&&this.Sf(d.x,3,"UP"),this.yf=q.a(M*c,M*a),
this.ah=!0,this.lc(this.Jt),this.Jt(0))}}}});
PlayerCharacter=Character.extend({items:null,Lp:3,Ci:null,Sl:null,A:function(a){this._super(a);this.Ci=[];this.Sl=[];a.Lp&&(this.Lp=a.Lp);this.items={stored:[],equipped:{},bank:[]};if(a.position){var c=V.Di(a.map),d=a.position%c.width,c=Math.floor(a.position/c.width);this.l(d*M,c*M);V.ZT(a.map);V.El(d*M,c*M);this.pg=a.map}a.HJ&&(this.items.stored=a.HJ);a.MR&&(this.items.bank=a.MR);a.Ci&&(this.Ci=a.Ci);a.Sl&&(this.Sl=a.Sl);if(a.GI){this.items.equipped=a.GI;for(var e in this.items.equipped)T("Default Event",
this.items.equipped[e],"Item",{"Equip Item":!0,"Give /Take Item":!0,"Warp Player":!0,"Read Item":!0,"Open/Close Panel":!0,Destroy:!0})}this.eS()},eS:function(){this.Ci=[];z({saveUserExtra:[],name:this.getName()})},fE:function(a,c){this.Ci[a]=c;z({saveUserExtra:this.Ci,name:this.getName()})},Vp:function(a){return this.Ci[a]?this.Ci[a]:null},OX:function(a,c){this.Sl[a]=c},yk:function(a){return this.Sl[a]},Gt:function(){Inventory&&Inventory.Ma();Equipment&&Equipment.Ma()},bI:function(a){for(var c=0,
d=0;72>d;d++)if(!this.items.bank[d]){c=d;break}this.items.bank[c]=a},cI:function(a){for(var c=0,d=0;d<this.items.stored.length;d++)if(!this.items.stored[d]){c=d;break}this.items.stored[c]=a},VH:function(a){item=ObjectLists.Kb()[a.Gd];this.ic();if(!0==item.stackable)for(var c=0;40>c;c++)if(this.items.stored[c]&&this.items.stored[c].number==a.Gd){this.items.stored[c].amount+=a.Ic;Inventory&&Inventory.mh(c,this.items.stored[c].amount);return}for(var d=!1,c=0;0<a.Ic;c++)if(null==this.items.stored[c])if(!0==
item.stackable){this.items.stored[c]={number:a.Gd,amount:a.Ic};Inventory&&Inventory.mh(c,a.Ic);d=!0;break}else a.Ic--,this.items.stored[c]={number:a.Gd,amount:1},Inventory&&Inventory.mh(c,a.Ic),d=!0;!1==d&&S.hc(G["Inventory Full"]);Inventory&&Inventory.Ma();Equipment&&Equipment.Ma()},zV:function(a){item=ObjectLists.Kb()[a.Gd];var c=this.ic();T("On Pickup",item,"Item");if(!0==item.stackable)for(var d=0;40>d;d++)if(this.items.stored[d]&&this.items.stored[d].number==a.Gd){this.items.stored[d].amount+=
a.Ic;Inventory&&Inventory.mh(d,this.items.stored[d].amount);a=G["Item Pick Up"];a=a.replace("\x3cITEM\x3e",item.name);S.hc(a);z({pickupitem:Q(c.x,c.y),mapnumber:V.sf()});return}for(var e=!1,d=0;0<a.Ic;d++)if(null==this.items.stored[d])if(!0==item.stackable){this.items.stored[d]={number:a.Gd,amount:a.Ic};Inventory&&Inventory.mh(d,a.Ic);e=!0;break}else a.Ic--,this.items.stored[d]={number:a.Gd,amount:1},Inventory&&Inventory.mh(d,a.Ic),e=!0;!1==e?S.hc(G["Inventory Full"]):(a=G["Item Pick Up"],a=a.replace("\x3cITEM\x3e",
item.name),S.hc(a),z({pickupitem:Q(c.x,c.y),mapnumber:V.sf()}));Inventory&&Inventory.Ma();Equipment&&Equipment.Ma()},AV:function(a,c){item=ObjectLists.Kb()[a.Gd];var d=q.a(c.u.J/M,c.u.U/M);T("On Pickup",item,"Item");if(!0==item.stackable)for(var e=0;40>e;e++)if(this.items.stored[e]&&this.items.stored[e].number==a.Gd){Inventory&&(this.items.stored[e].amount+=a.Ic,Inventory.mh(e,this.items.stored[e].amount));e=G["Item Pick Up"];e=e.replace("\x3cITEM\x3e",item.name);S.hc(e);z({pickupitem:Q(d.x,d.y),
mapnumber:V.sf()});return}for(var f=!1,e=0;40>e;e++)if(null==this.items.stored[e]){this.items.stored[e]={number:a.Gd,amount:a.Ic};Inventory&&Inventory.mh(e,a.Ic);e=G["Item Pick Up"];e=e.replace("\x3cITEM\x3e",item.name);S.hc(e);z({pickupitem:Q(d.x,d.y),mapnumber:V.sf()});f=!0;break}!1==f&&S.hc(G["Inventory Full"]);Inventory&&Inventory.Ma();Equipment&&Equipment.Ma()},IC:function(a,c){var d=this.ic(),e=this.items[c][a],f=ObjectLists.Kb()[e.number];T("On Drop",f,"Item");if(this.items[c][a]){var g=G["Item Dropped"],
g=g.replace("\x3cITEM\x3e",f.name);S.hc(g);z({droppeditem:e.number,mapnumber:V.sf(),index:Q(d.x,d.y),amount:e.amount});!0==f.stackable&&1<e.amount&&Inventory.mh(a,0);this.items[c][a]=null}Inventory&&Inventory.Ma();Equipment&&Equipment.Ma();Shop&&Shop.wW()},OY:function(a){T("Default Event",ObjectLists.Kb()[this.items.stored[a].number],"Item",{},a)},FS:function(a){for(var c=0;40>c;c++)if(null==this.items.stored[c]){this.items.stored[c]=I(this.items.equipped[a]);this.items.equipped[a]=null;Inventory&&
Inventory.Ma();Equipment&&Equipment.Ma();T("On Dequip",this.items.stored[c],"Item");return}S.hc("No space in inventory to dequip this item.")},Td:function(){return this.items.stored},Dl:function(){return this.items.bank},ix:function(){return this.items.equipped}});PlayerCharacter.create=function(a){var c=new PlayerCharacter;c.A(a);return c};NonPlayerCharacter=Character.extend({h9:null,Mx:!1,MX:function(a,c){this.Mx=!0;this.Yd(function(){this.zq(a.x,a.y);this.Mx=!1},c)},w8:function(){return this.Mx}});
NonPlayerCharacter.create=function(a){var c=new NonPlayerCharacter;c.A(a);return c};var Fa=q.Xc.extend({$D:null,b:null,DD:function(){},ctor:function(){this._super()},tM:function(){},$n:function(){},Vh:function(){},pa:function(){this.b&&this.b.K();this.b=sa(this);this.f(this.b)},Aa:function(){},A:function(){this.sE(1);this.Wx(!0);this.qc(!0);D.Yn(this);this._super()},CD:function(){q.log("Override onKeyDown in scene extended class to use keyboard")},Pl:function(){q.log("Override onKeyUp in scene extended class to use keyboard")},pX:function(a){this.$D=a},Jc:function(){return this.$D}});DropDownList=Fa.extend({list:null,qS:null,selected:null,b:null,k:null,uI:null,xK:null,xt:null,ctor:function(){this._super();this.list=[];this.qS=0},A:function(a,c,d,e,f){this._super();a&&(this.k=a,this.uI=c,d&&(this.list=d),e&&this.l(e),this.XS=f?f:{},this.xK=D.dT(),D.Yn(this),this.uq(-1001),this.Wx(!0))},vb:function(a){for(var c=this.b.control_menu.Ja(a.T),d=0;d<this.list.length;d++)this.xt&&!0!=this.xt[d].enabled||q.wb(q.rect(this.b.control_menu[d+""].u.J,this.b.control_menu[d+""].u.U,this.b.control_menu[d+
""].c().width,this.b.control_menu[d+""].c().height),c)&&this.uI(d,a,this.list,this.XS);this.MV();return!0},MV:function(){D.Yn(this.xK);this.K();ra()},vW:function(){this.yc(this.u.U-24*this.list.length);for(var a=0,c=0;c<this.list.length;c++)this.b.control_menu[c+""].content.c().width>a&&(a=this.b.control_menu[c+""].content.c().width);for(c=0;c<this.list.length;c++)this.b.control_menu[c+""].O(a+8,this.b.control_menu[c+""].c().height);this.b.control_menu.O(a+8,this.b.control_menu.c().height)},uc:function(){for(var a=
{},c=0;c<this.list.length;c++)a[c+""]={position:q.a(0,24*(this.list.length-1)-24*c),size:q.size(96,24),e:q.a(0,0),color:q.i(200,200,200,200),children:{content:{label:this.list[c],fontSize:20,color:q.n(0,0,0),e:q.a(0,0.5),position:q.a(4,12)}}};return{panels:{children:{control_menu:{position:q.a(0,0),color:q.i(200,200,200,0),size:q.size(96,24),children:a}}}}},Vh:function(a){a=this.b.control_menu.Ja(a.T);for(var c=0;c<this.list.length;c++)this.b.control_menu[c+""].q(q.i(200,200,200,200)),this.xt&&!0!=
this.xt[c].enabled||q.wb(q.rect(this.b.control_menu[c+""].u.J,this.b.control_menu[c+""].u.U,this.b.control_menu[c+""].c().width,this.b.control_menu[c+""].c().height),a)&&this.b.control_menu[c+""].q(q.i(255,0,0,255))}});DropDownList.Sc=function(a,c,d,e,f,g){var h=new DropDownList;h.A(a,c,d,e,g);h.b=sa(h.uc(),!0);if(f){for(a=0;a<h.list.length;a++)!1==f[a].enabled&&h.b.control_menu[a+""].content.q(q.i(127,127,127,200));h.xt=f}h.f(h.b);h.vW();return h};Popup=Fa.extend({Wd:null,Xg:!1,A:function(){this.$D=this.Jc();this._super();D.Yn(this);this.uq(-300)},F3:function(){this.K()},vb:function(a){var c=a.T;D.Yn(this);c=this.b.control_panel.Ja(c);if(q.wb(q.rect(this.b.control_panel.exitBtn.u.J,this.b.control_panel.exitBtn.u.U,this.b.control_panel.exitBtn.c().width,this.b.control_panel.exitBtn.c().height),c)){var d=this;this.da.Yd(function(){!1==d.Xg&&d.Aa();d.K();d=null});return!0}return q.wb(q.rect(this.b.u.x,this.b.u.y+this.b.control_panel.u.y,this.b.control_panel.c().width,
this.b.control_panel.c().height),a.T)?(this.Wd=this.b.yi(a),!0):!1},Ud:function(a){return this.Wd?(a=a.T,this.b.l(a.x-this.Wd.x,a.y-this.Wd.y),!0):!1},fh:function(){this.Wd&&(this.Wd=null);W.HX(this.Jc(),this.b.u)},Jc:function(){q.log("No id given... using default 'Popup'");return"Popup"},pa:function(){this._super();var a=W.vT();if("null"!=a&&null!=a&&(a=JSON.parse(a)[this.Jc()])){a=q.a(a.x,a.y);if(a.x>P.width-10||a.y>P.height)a=q.a(8,100);this.b.l(a)}}});Book=null;
BookPanel=Popup.extend({name:null,content:null,rg:null,Jc:function(){return"Book"},uc:function(){return{panels:{position:q.a(100,20),children:{main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(514,313),aa:"GUI/book.png",children:{pageBackbtn:{position:q.a(2,1),size:q.size(36,36),aa:"GUI/btnLeft.png",e:q.a(0,0)},pageForwardbtn:{position:q.a(475,1),size:q.size(36,36),aa:"GUI/btnRight.png",e:q.a(0,0)},leftPage:{label:this.rg[0],e:q.a(0,1),position:q.a(4,308),color:q.n(0,0,0)},rightPage:{label:1<this.rg.length?
this.rg[1]:"",e:q.a(0,1),position:q.a(260,308),color:q.n(0,0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,313),size:q.size(514,32),children:{header:{label:this.name,fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(490,6),size:q.size(20,20),e:q.a(0,0),aa:"GUI/close.png"}}}}}}},A:function(a,c){this._super();this.name=a;this.content=c;this.rg=[];for(var d=c;d;)if(470>d.length){this.rg.push(d);break}else this.rg.push(d.substr(0,470)+"..."),d=d.substr(470);this.vV=Math.floor(this.rg.length/
2)-1;this.qj=0},pa:function(){this._super();this.b.main_panel.leftPage.Wa(q.size(248,0));this.b.main_panel.rightPage.Wa(q.size(248,0));this.b.main_panel.pageBackbtn.B(!1);2>this.rg.length&&this.b.main_panel.pageForwardbtn.B(!1)},$T:function(){this.qj++;this.b.main_panel.pageBackbtn.B(!0);this.qj==this.vV&&this.b.main_panel.pageForwardbtn.B(!1);this.b.main_panel.leftPage.na(this.rg[2*this.qj]);this.rg[2*this.qj+1]?this.b.main_panel.rightPage.na(this.rg[2*this.qj+1]):this.b.main_panel.rightPage.na("")},
aU:function(){this.qj--;this.b.main_panel.pageForwardbtn.B(!0);0==this.qj&&this.b.main_panel.pageBackbtn.B(!1);this.b.main_panel.leftPage.na(this.rg[2*this.qj]);this.rg[2*this.qj+1]&&this.b.main_panel.rightPage.na(this.rg[2*this.qj+1])},vb:function(a){if(this._super(a))return!0;this.Wd=null;a=this.b.main_panel.Ja(a.T);if(H(this.b.main_panel.pageForwardbtn,a))return this.$T(),!0;if(H(this.b.main_panel.pageBackbtn,a))return this.aU(),!0}});NpcChat=null;
NpcChatPanel=Popup.extend({name:null,content:null,Uw:null,Uc:null,HI:null,hK:null,F:null,Jc:function(){return"Book"},uc:function(){return{panels:{position:q.a(100,20),children:{main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(512,138),aa:"GUI/npctalk.png",children:{chatText:{label:this.content?this.content:"",e:q.a(0,1),position:q.a(138,134),color:q.n(0,0,0)},list:{size:q.size(320,80),position:q.a(154,4),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,138),size:q.size(512,32),children:{header:{label:this.name?
this.name:"",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(488,6),size:q.size(20,20),e:q.a(0,0),aa:"GUI/close.png"}}}}}}},ob:function(){this.F&&this.F.cc();var a=[],c=[];q.ga.g();for(var d in this.Uw){a[d]=q.G.create();a[d].O(324,32);var e=q.Y.create(q.i(200,200,200,200),300,10);e.l(q.a(12,1));var f=q.S.create("\x3e"+this.Uw[d],"Arial",14);f.w(q.a(0,0));f.l(q.a(4,2));f.Wa(q.size(300,0));f.q(q.n(100,0,0));a[d].f(e);e.f(f);a[d].O(324,f.c().height+8);e.O(300,f.c().height+4);e.Oa=
"Use";c.push([e])}this.F=this.b.main_panel.list;var g=this;this.F.bc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(324,c)};this.F.Vb=function(){return a.length};this.F.kc=function(c){return a[c].c()};this.F.jc=function(c){return a[c]};this.F.mb=function(a,c){switch(a){case "Use":K.iU(),T("On Talk Option Selected for event:"+g.HI+", option:"+c,g.hK,"NPC")}};this.F.R=ListView.create(this.F);this.F.R.mc(c);this.F.f(this.F.R)},A:function(a,c,d,e,f,g){this._super();this.name=
e;this.content=f;this.Uc=c;this.HI=d;this.hK=a;g&&(this.Uw=g)},pa:function(){this._super();this.b.main_panel.chatText.Wa(q.size(350,0));this.Uw&&this.ob()},vb:function(a){if(this._super(a))return!0}});Equipment=null;
EquipmentPanel=Popup.extend({Jc:function(){return"Equipment"},uc:function(){var a={};a.head={aa:"GUI/defaultitem.png",position:q.a(88,162),size:q.size(32,32),e:q.a(0,1)};a.legs={aa:"GUI/defaultitem.png",position:q.a(88,82),size:q.size(32,32),e:q.a(0,1)};a.feet={aa:"GUI/defaultitem.png",position:q.a(88,40),size:q.size(32,32),e:q.a(0,1)};a.body={aa:"GUI/defaultitem.png",position:q.a(88,122),size:q.size(32,32),e:q.a(0,1)};a.lArm={aa:"GUI/defaultitem.png",position:q.a(48,122),size:q.size(32,32),e:q.a(0,
1)};a.rArm={aa:"GUI/defaultitem.png",position:q.a(128,122),size:q.size(32,32),e:q.a(0,1)};a.mod={aa:"GUI/defaultitem.png",position:q.a(8,162),size:q.size(32,32),e:q.a(0,1)};return{panels:{position:q.a(100,300),children:{main_panel:{e:q.a(0,0),size:q.size(168,168),aa:"GUI/equipment.png",children:a},control_panel:{e:q.a(0,0),position:q.a(0,168),size:q.size(168,32),children:{header:{label:G["Equipment Header"],fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(144,6),size:q.size(20,20),
e:q.a(0,0),aa:"GUI/close.png"}}},item_name:{position:q.a(0,0),color:q.i(200,200,200,200),size:q.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:q.n(0,0,0),e:q.a(0.5,0.5),position:q.a(32,8)}}}}}}},Ma:function(){var a=R.r.I.ix();this.b.main_panel.head.ma(q.ga.g().la("GUI/defaultitem.png"));this.b.main_panel.body.ma(q.ga.g().la("GUI/defaultitem.png"));this.b.main_panel.legs.ma(q.ga.g().la("GUI/defaultitem.png"));this.b.main_panel.feet.ma(q.ga.g().la("GUI/defaultitem.png"));this.b.main_panel.lArm.ma(q.ga.g().la("GUI/defaultitem.png"));
this.b.main_panel.rArm.ma(q.ga.g().la("GUI/defaultitem.png"));this.b.main_panel.mod.ma(q.ga.g().la("GUI/defaultitem.png"));for(var c in a)if(a[c]){var d=ObjectLists.Kb()[a[c].number],e;for(e in v)if(v[e].name==d.sprite.texture)var f=v[e].texture;this.b.main_panel[c]&&(this.b.main_panel[c].w(0,1),this.b.main_panel[c].ma(f),this.b.main_panel[c].jb(q.rect(32*d.sprite.position.x,32*d.sprite.position.y,32,32)))}},zx:function(a){switch(a){case 0:R.r.I.FS(this.k.xc);break;case 1:R.r.I.IC(this.k.xc,"equipped")}},
vb:function(a){if(this._super(a))return!0;this.Wd=null;var c=this.b.main_panel.Ja(a.T),d=R.r.I.ix(),e;for(e in d)if(d[e]){var f=ObjectLists.Kb()[d[e].number];if(H(this.b.main_panel[e],q.a(c.x,c.y+32)))return this.xc=e,this.b.item_name.B(!1),c=G["Item Dropdown Unequip"]+"",c=c.replace("\x3cITEM\x3e",f.name),d=G["Item Dropdown Drop"]+"",d=d.replace("\x3cITEM\x3e",f.name),this.f(DropDownList.Sc(this,this.zx,[c,d],a.T)),!0}},Vh:function(a){a=this.b.main_panel.Ja(a.T);this.b.item_name.B(!1);var c=R.r.I.ix(),
d;for(d in c)if(c[d]){var e=ObjectLists.Kb()[c[d].number];if(H(this.b.main_panel[d],q.a(a.x,a.y+32)))return this.b.item_name.content.na(e.name),this.b.item_name.B(!0),this.b.item_name.O(this.b.item_name.content.c()),this.b.item_name.content.Pa(this.b.item_name.content.c().width/2),this.b.item_name.l(q.a(this.b.main_panel[d].u.J-this.b.item_name.content.c().width/2+16,this.b.main_panel[d].u.U)),!0}},Vl:function(){this.b.main_panel.head.ja()&&(this.Oc(this.Vl),this.Ma())},pa:function(){this._super();
this.b.main_panel.head.ja()?this.Ma():this.lc(this.Vl)}});Inventory=null;
InventoryPanel=Popup.extend({xc:null,gt:!1,Jc:function(){return"Inventory"},uc:function(){for(var a={},c=0;5>c;c++)for(var d=0;8>d;d++)a[5*d+c+""]={size:q.size(32,32),position:q.a(40*c+8,40*(7-d)+40),aa:"GUI/defaultitem.png",e:q.a(0,1),children:{stacklabelbg:{position:q.a(0,0),size:q.size(10,12),e:q.a(0,0),color:q.i(255,255,255,200),children:{stacklabel:{label:"",fontSize:10,color:q.n(0,0,0),e:q.a(0,0),position:q.a(0,0)}}}}};return{panels:{position:q.a(300,200),children:{main_panel:{e:q.a(0,0),aa:"GUI/inventory.png",
size:q.size(208,328),children:a},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(208,32),children:{header:{label:G["Inventory Header"],fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(184,6),size:q.size(20,20),e:q.a(0,0),aa:"GUI/close.png"}}},item_name:{position:q.a(0,0),color:q.i(200,200,200,200),size:q.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:q.n(0,0,0),e:q.a(0.5,0.5),position:q.a(32,8)}}}}}}},mh:function(a,c){this.b.main_panel[a+""].stacklabelbg.B(!1);
1<c&&(this.b.main_panel[a+""].stacklabelbg.B(!0),this.b.main_panel[a+""].stacklabelbg.stacklabel.na(c),this.b.main_panel[a+""].stacklabelbg.O(this.b.main_panel[a+""].stacklabelbg.stacklabel.c().width,this.b.main_panel[a+""].stacklabelbg.c().height))},Ma:function(){for(var a=R.r.I.Td(),c=0;40>c;c++)if(a[c]){var d=ObjectLists.Kb()[a[c].number],e;for(e in v)if(v[e].name==d.sprite.texture)var f=v[e].texture;this.b.main_panel[c+""].w(0,1);this.b.main_panel[c+""].ma(f);this.b.main_panel[c+""].jb(q.rect(32*
d.sprite.position.x,32*d.sprite.position.y,32,32));this.mh(c,a[c].amount)}else this.b.main_panel[c+""].ma(q.ga.g().la("GUI/defaultitem.png")),this.mh(c,0)},Vl:function(){this.b.main_panel[oa+""].ja()&&(this.Oc(this.Vl),this.Ma())},pa:function(){this._super();this.b.main_panel[oa+""].ja()?this.Ma():this.lc(this.Vl)},zx:function(a){switch(a){case 0:!0==this.k.gt?R.r.I.OY(this.k.xc):R.r.I.IC(this.k.xc,"stored");break;case 1:R.r.I.IC(this.k.xc,"stored")}this.k.gt=!1},vb:function(a){if(this._super(a))return!0;
this.Wd=null;for(var c=this.b.main_panel.Ja(a.T),d=0;40>d;d++)if(R.r.I.Td()[d]&&H(this.b.main_panel[d+""],q.a(c.x,c.y+32))){var e=ObjectLists.Kb()[R.r.I.Td()[d].number],f=[];e.script&&ObjectLists.Me()[e.script]&&(f=ObjectLists.Me()[e.script].data);if(f){for(c=0;c<f.length;c++)if("Default Event"==f[c].type)for(var g="Use Item",h=f[c].responses,k=0;k<h.length;k++)switch(console.log(h[k].type),h[k].type){case "Equip Item":g=G["Item Dropdown Equip"]+"";break;case "Read Item":g=G["Item Dropdown Read"]+
""}f=G["Item Dropdown Drop"]+"";f=f.replace("\x3cITEM\x3e",e.name);g?(this.gt=!0,g=g.replace("\x3cITEM\x3e",e.name),this.f(DropDownList.Sc(this,this.zx,[g,f],a.T))):this.f(DropDownList.Sc(this,this.zx,[f],a.T));this.xc=d;this.b.item_name.B(!1);return!0}}},Vh:function(a){a=this.b.main_panel.Ja(a.T);for(var c=0;40>c;c++)if(R.r.I.Td()[c]&&H(this.b.main_panel[c+""],q.a(a.x,a.y+32)))return this.b.item_name.content.na(ObjectLists.Kb()[R.r.I.Td()[c].number].name),this.b.item_name.B(!0),this.b.item_name.O(this.b.item_name.content.c()),
this.b.item_name.content.Pa(this.b.item_name.content.c().width/2),this.b.item_name.l(q.a(this.b.main_panel[c+""].u.J-this.b.item_name.content.c().width/2+16,this.b.main_panel[c+""].u.U)),!0}});Bank=null;
BankPanel=Popup.extend({xc:null,gt:!1,Jc:function(){return"Bank"},uc:function(){for(var a={},c={},d=0;5>d;d++)for(var e=0;8>e;e++)a[5*e+d+""]={size:q.size(32,32),position:q.a(40*d+8,40*(7-e)+40),aa:"GUI/defaultitem.png",e:q.a(0,1),children:{stacklabelbg:{position:q.a(1,1),size:q.size(10,6),e:q.a(0,0),color:q.i(255,255,255,200),children:{stacklabel:{label:"",fontSize:10,color:q.n(0,0,0),e:q.a(0,0),position:q.a(0,0)}}}}};for(d=0;9>d;d++)for(e=0;8>e;e++)c[9*e+d+""]={size:q.size(32,32),position:q.a(220+(40*
d+8),40*(7-e)+40),aa:"GUI/defaultitem.png",e:q.a(0,1),children:{stacklabelbg:{position:q.a(1,1),size:q.size(10,6),e:q.a(0,0),color:q.i(255,255,255,200),children:{stacklabel:{label:"",fontSize:10,color:q.n(0,0,0),e:q.a(0,0),position:q.a(0,0)}}}}};return{panels:{position:q.a(300,200),children:{main_panel:{e:q.a(0,0),aa:"GUI/bank.png",size:q.size(590,348),children:{inventory:{children:a},inventory_label:{label:G["Bank Header"],color:q.n(255,255,255),position:q.a(8,324),fontSize:16,e:q.a(0,0)},bank:{children:c},
bank_label:{label:"Stored",color:q.n(255,255,255),position:q.a(228,324),fontSize:16,e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,348),size:q.size(590,32),children:{header:{label:G["Bank Header"],fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(566,6),size:q.size(20,20),e:q.a(0,0),aa:"GUI/close.png"}}},item_name:{position:q.a(0,0),color:q.i(200,200,200,200),size:q.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:q.n(0,0,0),e:q.a(0.5,0.5),position:q.a(32,
8)}}}}}}},iL:function(a,c){this.b.main_panel.inventory[a+""].stacklabelbg.B(!1);1<c&&(this.b.main_panel.inventory[a+""].stacklabelbg.B(!0),this.b.main_panel.inventory[a+""].stacklabelbg.stacklabel.na(c),this.b.main_panel.inventory[a+""].stacklabelbg.O(this.b.main_panel.inventory[a+""].stacklabelbg.stacklabel.c()))},UK:function(a,c){this.b.main_panel.bank[a+""].stacklabelbg.B(!1);1<c&&(this.b.main_panel.bank[a+""].stacklabelbg.B(!0),this.b.main_panel.bank[a+""].stacklabelbg.stacklabel.na(c),this.b.main_panel.bank[a+
""].stacklabelbg.O(this.b.main_panel.inventory[a+""].stacklabelbg.stacklabel.c()))},Ma:function(){for(var a=R.r.I.Td(),c=R.r.I.Dl(),d=0;40>d;d++)if(a[d]){var e=ObjectLists.Kb()[a[d].number],f;for(f in v)if(v[f].name==e.sprite.texture)var g=v[f].texture;this.b.main_panel.inventory[d+""].w(0,1);this.b.main_panel.inventory[d+""].ma(g);this.b.main_panel.inventory[d+""].jb(q.rect(32*e.sprite.position.x,32*e.sprite.position.y,32,32));this.iL(d,a[d].amount)}else this.b.main_panel.inventory[d+""].ma(q.ga.g().la("GUI/defaultitem.png")),
this.iL(d,0);for(d=0;72>d;d++)if(c[d]){e=ObjectLists.Kb()[c[d].number];for(f in v)v[f].name==e.sprite.texture&&(g=v[f].texture);this.b.main_panel.bank[d+""].w(0,1);this.b.main_panel.bank[d+""].ma(g);this.b.main_panel.bank[d+""].jb(q.rect(32*e.sprite.position.x,32*e.sprite.position.y,32,32));this.UK(d,c[d].amount)}else this.b.main_panel.bank[d+""].ma(q.ga.g().la("GUI/defaultitem.png")),this.UK(d,0)},Vl:function(){this.b.main_panel.inventory[oa+""].ja()&&(this.Oc(this.Vl),this.Ma())},pa:function(){this._super();
this.b.main_panel.inventory[oa+""].ja()?this.Ma():this.lc(this.Vl)},uM:function(a){0==a&&(a=R.r.I.Dl()[this.k.xc],R.r.I.cI({number:a.number,amount:a.amount}),R.r.I.Dl().splice(this.k.xc,1),Inventory&&Inventory.Ma(),Equipment&&Equipment.Ma(),this.k.Ma());this.k.xc=null},wI:function(a){0==a&&(a=R.r.I.Td()[this.k.xc],R.r.I.bI({number:a.number,amount:a.amount}),R.r.I.Td().splice(this.k.xc,1),Inventory&&Inventory.Ma(),Equipment&&Equipment.Ma(),this.k.Ma());this.k.xc=null},vb:function(a){if(this._super(a))return!0;
this.Wd=null;for(var c=this.b.main_panel.inventory.Ja(a.T),d=!1,e=!1,f=0;40>f;f++)if(!R.r.I.Td()[f]){d=!0;break}for(f=0;72>f;f++)if(!R.r.I.Dl()[f]){e=!0;break}for(f=0;40>f;f++)if(R.r.I.Td()[f]){var g=32;if(H(this.b.main_panel.inventory[f+""],q.a(c.x,c.y+g)))return this.f(DropDownList.Sc(this,this.wI,["Deposit","Cancel"],a.T,[{enabled:d},{enabled:!0}])),this.xc=f,this.b.item_name.B(!1),!0}for(f=0;72>f;f++)if(R.r.I.Dl()[f]&&(g=32,H(this.b.main_panel.bank[f+""],q.a(c.x,c.y+g))))return this.f(DropDownList.Sc(this,
this.uM,["Withdraw","Cancel"],a.T,[{enabled:e},{enabled:!0}])),this.xc=f,this.b.item_name.B(!1),!0},Vh:function(a){a=this.b.main_panel.inventory.Ja(a.T);for(var c=0;40>c;c++)if(R.r.I.Td()[c]&&H(this.b.main_panel.inventory[c+""],q.a(a.x,a.y+32)))return this.b.item_name.content.na(ObjectLists.Kb()[R.r.I.Td()[c].number].name),this.b.item_name.B(!0),this.b.item_name.O(this.b.item_name.content.c()),this.b.item_name.content.Pa(this.b.item_name.content.c().width/2),this.b.item_name.l(q.a(this.b.main_panel.inventory[c+
""].u.J-this.b.item_name.content.c().width/2+16,this.b.main_panel.inventory[c+""].u.U)),!0}});Shop=null;
ShopPanel=Popup.extend({xc:null,gt:!1,F:null,dh:null,ih:null,Jb:null,Lf:null,Dk:null,Th:null,Ue:null,Jc:function(){return"Shop"},ob:function(){this.F&&this.F.cc();for(var a=[],c=[],d=q.ga.g(),e=["Buy","Sell"],f=0;f<e.length;f++){a[f]=q.Y.create(q.i(0,0,0,0),118,32);var g=q.Y.create(q.i(0,0,0,127),118,1);g.l(q.a(0,0));var h=q.S.create(e[f],"Arial",15);h.q(q.n(0,0,0));h.w(q.a(0,0));h.l(q.a(4,4));h.Wa(q.size(90,0));a[f].O(118,h.c().height+8);if(this.Sb==f+1){a[f]=q.Y.create(q.i(100,0,0,255),118,h.c().height+
8);var k=q.v.Ka(d.la("GUI/selected.png"));k.l(q.a(94,(h.c().height+8-20)/2));k.w(q.a(0,0));a[f].f(k);h.q(q.n(255,255,255))}a[f].f(g);a[f].f(h);a[f].Oa="Use";c.push([a[f]])}this.F=this.b.main_panel.buyselllist;var l=this;this.F.bc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(216,c)};this.F.Vb=function(){return a.length};this.F.kc=function(c){return a[c].c()};this.F.jc=function(c){return a[c]};this.F.mb=function(a,c){"Use"==a&&(l.Zd(c+1),l.ob())};this.F.R=ListView.create(this.F);
this.F.R.mc(c);this.F.f(this.F.R)},wW:function(){this.Zd(this.Sb)},zy:function(){this.ih&&this.ih.cc();var a=[],c=[];q.ga.g();var d=ObjectLists.Kb();this.Dk=[];if(1==this.Sb){this.Jb=[];for(var e in d)for(var f in d[e].value)if(d[e].value[f].shopid==this.QL&&d[e].value[f].sell&&0<d[e].value[f].sell.length){this.Jb.push({name:d[e].name,value:d[e].value[f]});this.Lf[this.Jb.length-1]||(this.Lf[this.Jb.length-1]=1);this.Dk[this.Jb.length-1]||(this.Dk[this.Jb.length-1]=-1);break}}else{d=R.r.I.Td();this.Jb=
[];items=[];gameitems=ObjectLists.Kb();for(e in d)d[e]?(items.push(gameitems[d[e].number]),this.Dk[items.length-1]||(this.Dk[items.length-1]=d[e].amount)):items.push(null);for(e in items)if(this.Jb.push(null),this.Lf.push(1),items[e])for(f in this.Jb[this.Jb.length-1]={name:items[e].name+(1<this.Dk[e]?"("+this.Dk[e]+")":"")},items[e].value)if(items[e].value[f].shopid==this.QL&&items[e].value[f].buy&&0<items[e].value[f].buy.length){this.Jb[this.Jb.length-1].value=items[e].value[f];this.Lf[this.Jb.length-
1]=1;break}}d=this.Jb;for(e=0;e<d.length;e++)if(null==d[e])a[e]=q.G.create(),a[e].O(0,0),c.push([]);else{a[e]=this.Ue&&this.Ue[e]&&!0==this.Ue[e]?q.Y.create(q.i(255,255,255,127),218,32):q.Y.create(q.i(0,0,0,0),218,32);f=q.Y.create(q.i(0,0,0,127),218,1);f.l(q.a(0,0));var g=q.S.create(d[e].name,"Arial",15);g.q(q.n(0,0,0));g.w(q.a(0,0));g.l(q.a(4,4));g.Wa(q.size(156,0));if(!0==this.Ue[e]){var h=q.Y.create(q.i(255,255,255,255),60,20);h.l(160,(g.c().height+8)/2-10);a[e].f(h);var k=q.S.create("x"+this.Lf[e],
"Arial",14);k.l(4,3);h.Oa="Edit";k.w(q.a(0,0));k.q(q.n(0,0,0));h.f(k)}a[e].O(218,g.c().height+8);a[e].f(f);a[e].f(g);a[e].Oa="Use";!0==this.Ue[e]?c.push([h,a[e]]):c.push([a[e]])}this.ih=this.b.main_panel.sale_list;var l=this;this.ih.bc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(218,c)};this.ih.Vb=function(){return a.length};this.ih.kc=function(c){return a[c].c()};this.ih.jc=function(c){return a[c]};this.ih.mb=function(a,c,d,e){switch(a){case "Use":l.Ue?l.Ue[c]=!l.Ue[c]:
(l.Ue=[],l.Ue[c]=!0);l.zy();l.vy();break;case "Edit":l.fx=c,l.xW(e)}};this.ih.R=ListView.create(this.ih);this.ih.R.mc(c);this.ih.f(this.ih.R)},xW:function(a){this.ra&&this.nI();this.ra=new $(a,q.size(a.c().width,a.c().height),q.a(0,a.c().height),this.Lf[this.fx],q.i(100,100,100),q.n(255,255,255),!1,null,this);this.ra.ib(!0);this.lc(this.kI)},kI:function(){!qa&&this.ra&&(this.ra.ot(!0),this.Oc(this.kI))},C7:function(){return this.ra?!0:!1},hM:function(){this.nI()},nI:function(){0<parseInt(this.ra.Z())&&
(parseInt(this.ra.Z())<this.Dk[this.fx]||-1==this.Dk[this.fx])&&(this.Lf[this.fx]=parseInt(this.ra.Z()));this.ra.ot(!1);this.ra.K();this.ra=null;this.vy();this.zy()},vy:function(){this.dh&&this.dh.cc();var a=[],c=[];q.ga.g();for(var d=[],e=[],e=ObjectLists.Kb(),f=I(R.r.I.Td()),g=0;g<f.length;g++)if(f[g])for(var h=g+1;h<f.length;h++)f[h]&&f[g].number==f[h].number&&(f[g].number+=f[h].number,f.splice(h,1));for(h in this.Jb)if(1==this.Sb){if(this.Jb[h]&&this.Jb[h].value)for(var k in this.Jb[h].value.sell)!0==
this.Ue[h]&&d.push({name:e[this.Jb[h].value.sell[k].id].name,Ic:this.Jb[h].value.sell[k].amount*this.Lf[h],Gd:this.Jb[h].value.sell[k].id,Zw:l})}else if(this.Jb[h]&&this.Jb[h].value)for(k in this.Jb[h].value.buy)if(!0==this.Ue[h]){var l=!1;d.push({name:e[this.Jb[h].value.buy[k].id].name,Ic:this.Jb[h].value.buy[k].amount*this.Lf[h],Gd:this.Jb[h].value.buy[k].id,Zw:l})}d.sort(function(a,c){return a.name>c.name});for(k=0;k<d.length;k++)for(h=k+1;h<d.length;h++)d[k].Gd==d[h].Gd&&(d[k].Ic=parseInt(d[k].Ic)+
parseInt(d[h].Ic),d.splice(h,1),h--);if(1==this.Sb)for(k=0;k<d.length;k++){l=!0;for(h=0;h<f.length;h++)if(f[h]&&f[h].number==d[k].Gd){f[h].amount>=d[k].Ic&&(l=!1);break}d[k].Zw=l}e=this.Th=d;this.b.main_panel.confirm_button.B(!0);1>e.length&&this.b.main_panel.confirm_button.B(!1);this.Jb&&!this.OK()?(this.b.main_panel.confirm_button.B(!1),this.b.main_panel.outofspacelabel.B(!0)):this.b.main_panel.outofspacelabel.B(!1);for(k=0;k<e.length;k++)e[k].Zw&&!0==e[k].Zw?(this.b.main_panel.confirm_button.B(!1),
a[k]=q.Y.create(q.i(255,80,80,100),158,32)):a[k]=q.Y.create(q.i(0,0,0,0),158,32),d=q.Y.create(q.i(0,0,0,127),158,1),d.l(q.a(0,0)),h=q.S.create(e[k].name,"Arial",15),h.q(q.n(0,0,0)),h.w(q.a(0,0)),h.l(q.a(4,4)),h.Wa(q.size(90,0)),l=q.S.create("x"+e[k].Ic,"Arial",15),l.q(q.n(0,0,0)),l.w(q.a(0,0)),l.l(q.a(102,4)),l.Wa(q.size(54,0)),a[k].O(158,h.c().height+8),a[k].f(d),a[k].f(h),a[k].f(l),a[k].Oa="Use",c.push([a[k]]);this.dh=this.b.main_panel.offer_list;this.dh.bc=function(){for(var c=0,d=0;d<a.length;d++)c+=
a[d].c().height;return q.size(216,c)};this.dh.Vb=function(){return a.length};this.dh.kc=function(c){return a[c].c()};this.dh.jc=function(c){return a[c]};this.dh.mb=function(){};this.dh.R=ListView.create(this.dh);this.dh.R.mc(c);this.dh.f(this.dh.R)},uc:function(){return{panels:{position:q.a(300,200),children:{main_panel:{e:q.a(0,0),aa:"GUI/shop.png",size:q.size(590,388),children:{buyselllist:{size:q.size(118,386),position:q.a(2,2),e:q.a(0,0)},sale_list:{position:q.a(127,2),size:q.size(218,358)},offer_list:{size:q.size(158,
358),position:q.a(389,1)},inventory_label:{label:"Store Items",color:q.n(255,255,255),position:q.a(138,364),fontSize:16,e:q.a(0,0)},offer_label:{label:"Price",color:q.n(255,255,255),position:q.a(400,364),fontSize:16,e:q.a(0,0)},confirm_button:{size:q.size(64,30),position:q.a(435,8),color:q.n(0,255,0),children:{label:{label:"Confirm",color:q.n(0,0,0),position:q.a(6,8),e:q.a(0,0)}}},outofspacelabel:{label:"Not enough inventory space for transaction.",color:q.n(255,255,255),position:q.a(6,8),e:q.a(0,
0)}}},control_panel:{e:q.a(0,0),position:q.a(0,388),size:q.size(590,32),children:{header:{label:G["Shop Header"],fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(566,6),size:q.size(20,20),e:q.a(0,0),aa:"GUI/close.png"}}}}}}},A:function(a){this._super();this.QL=a},pa:function(){this._super();this.Zd(1);this.ob()},OK:function(){var a=0,c=0,d=R.r.I.Td(),e=0,f;for(f in d)d[f]&&e++;if(1==this.Sb){for(f=0;f<this.Jb.length;f++)!0==this.Ue[f]&&(a+=this.Lf[f]);var g=[];for(f=0;f<this.Th.length;f++)g[this.Th[f].Gd]=
this.Th[f].Ic;for(f=0;f<d.length;f++)d[f]&&g[d[f].number]&&d[f].amount<=g[d[f].number]&&(g[d[f].number]-=d[f].amount,c++)}if(2==this.Sb){for(f=0;f<this.Jb.length;f++)!0==this.Ue[f]&&d[f].amount<=this.Lf[f]&&c++;for(f=0;f<this.Th.length;f++)a+=this.Th[f].Ic}return 40-e>a-c},iS:function(){var a=ObjectLists.Kb(),c=R.r.I.Td();if(1==this.Sb){for(var d=0;d<this.Jb.length;d++)if(!0==this.Ue[d]){for(var e=0;e<a.length&&a[e].name!=this.Jb[d].name;e++);R.r.I.VH({number:e,amount:this.Lf[d]})}a=[];for(d=0;d<
this.Th.length;d++)a[this.Th[d].Gd]=this.Th[d].Ic;for(e=0;e<c.length;e++)c[e]&&a[c[e].number]&&(c[e].amount>a[c[e].number]?(c[e].amount-=a[c[e].number],a[c[e].number]=0):c[e].amount<=a[c[e].number]&&(a[c[e].number]-=c[e].amount,c[e]=null));S.hc("PURCHASE COMPLETE")}if(2==this.Sb){for(d=0;d<this.Jb.length;d++)!0==this.Ue[d]&&(c[d].amount>this.Lf[d]?c[d].amount-=this.Lf[d]:c[d]=null);for(d=0;d<this.Th.length;d++)R.r.I.VH({number:this.Th[d].Gd,amount:this.Th[d].Ic})}Inventory&&Inventory.Ma();this.zy();
this.vy();this.Jb&&!this.OK()?(this.b.main_panel.confirm_button.B(!1),this.b.main_panel.outofspacelabel.B(!0)):this.b.main_panel.outofspacelabel.B(!1)},Zd:function(a){this.Sb=a;this.Lf=[];this.Ue=[];2==a&&(this.b.main_panel.inventory_label.na("Inventory"),this.b.main_panel.offer_label.na("Offer"));1==a&&(this.b.main_panel.inventory_label.na("Store Items"),this.b.main_panel.offer_label.na("Price"));this.vy();this.zy()},uM:function(a){0==a&&(a=R.r.I.Dl()[this.k.xc],R.r.I.cI({number:a.number,amount:a.amount}),
R.r.I.Dl().splice(this.k.xc,1),Inventory&&Inventory.Ma(),Equipment&&Equipment.Ma(),this.k.Ma());this.k.xc=null},wI:function(a){0==a&&(a=R.r.I.Td()[this.k.xc],R.r.I.bI({number:a.number,amount:a.amount}),R.r.I.Td().splice(this.k.xc,1),Inventory&&Inventory.Ma(),Equipment&&Equipment.Ma(),this.k.Ma());this.k.xc=null},vb:function(a){if(this._super(a))return!0;this.Wd=null;a=this.b.main_panel.Ja(a.T);H(this.b.main_panel.confirm_button,a)&&this.iS()},Vh:function(){}});Sign=null;
SignPanel=Popup.extend({title:null,content:null,Jc:function(){return"Sign"},uc:function(){return{panels:{position:q.a(100,300),children:{control_panel:{e:q.a(0,0),size:q.size(128,96),aa:"GUI/signpost.png",children:{content:{label:this.content,fontSize:12,color:q.n(255,255,255),e:q.a(0,1),position:q.a(4,94)},exitBtn:{position:q.a(100,6),size:q.size(20,20),e:q.a(0,0),aa:"GUI/close.png"}}}}}}},A:function(a,c){this._super();this.content=c},pa:function(){this._super();this.b.control_panel.content.Wa(q.size(120,0))}});Quests=null;
QuestsPanel=Popup.extend({F:null,oh:null,cE:null,Jc:function(){return"Quests"},ob:function(){this.F&&this.F.cc();for(var a=[],c=[],d=q.ga.g(),e=0;e<this.data.length;e++)if(!(null==R.r.I.yk(e)||"undefined"===R.r.I.yk(e)&&1>R.r.I.yk(e))){a[e]=q.Y.create(q.i(0,0,0,0),420,32);var f=q.Y.create(q.i(0,0,0,127),212,1);f.l(q.a(4,0));var g=q.S.create(this.data[e].name,"Arial",15);g.q(q.n(0,0,0));g.w(q.a(0,0));g.l(q.a(4,4));g.Wa(q.size(216,0));a[e].O(216,g.c().height+8);if(null!=this.cE&&this.cE==e){a[e]=q.Y.create(q.i(100,
0,0,255),216,g.c().height+8);var h=q.v.Ka(d.la("GUI/selected.png"));h.l(q.a(192,(g.c().height+8-20)/2));h.w(q.a(0,0));a[e].f(h);g.q(q.n(255,255,255))}a[e].f(f);a[e].f(g);a[e].Oa="Use";c.push([a[e]])}1>a.length&&(a[0]=q.Y.create(q.i(0,0,0,0),420,32),f=q.Y.create(q.i(0,0,0,127),212,1),f.l(q.a(4,0)),g=q.S.create(G["No Quests"],"Arial",15),g.q(q.n(0,0,0)),g.w(q.a(0,0)),g.l(q.a(4,4)),g.Wa(q.size(216,0)),a[0].O(216,g.c().height+8),a[0].f(g),c.push([]));this.F=this.b.main_panel.list;var k=this;this.F.bc=
function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(216,c)};this.F.Vb=function(){return a.length};this.F.kc=function(c){return a[c].c()};this.F.jc=function(c){return a[c]};this.F.mb=function(a,c){"Use"==a&&(k.cE=c,k.NV(c),k.ob())};this.F.R=ListView.create(this.F);this.F.R.mc(c);this.F.f(this.F.R)},NV:function(a){this.oh&&this.oh.cc();var c=this.data[a].objectiveList,d=[],e=[];q.ga.g();if(0<R.r.I.yk(a))for(var f=0;f<c.length;f++)if(!(R.r.I.yk(a)<f)){if(0==f)d[f]=q.Y.create(q.i(0,
0,0,0),1,1);else if(f==c.length)d[f]=q.Y.create(q.i(0,0,0,0),1,1);else{d[f]=q.Y.create(q.i(0,0,0,0),208,32);var g=q.Y.create(q.i(0,0,0,127),208,1);g.l(q.a(4,0));var h=q.S.create(c[f],"Arial",15);h.q(q.n(0,0,0));h.w(q.a(0,0));h.l(q.a(4,4));h.Wa(q.size(208,0));d[f].O(208,h.c().height+8);R.r.I.yk(a)>f&&h.ua(200);d[f].f(g);d[f].f(h)}e.push([])}this.oh=this.b.main_panel.sublist;this.oh.bc=function(){for(var a=0,c=0;c<d.length;c++)a+=d[c].c().height;return q.size(212,a)};this.oh.Vb=function(){return d.length};
this.oh.kc=function(a){return d[a].c()};this.oh.jc=function(a){return d[a]};this.oh.mb=function(){};this.oh.R=ListView.create(this.oh);this.oh.R.mc(e);this.oh.f(this.oh.R)},uc:function(){return{panels:{position:q.a(300,200),children:{background_image:{aa:"GUI/quest_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(512,328),children:{list:{size:q.size(216,328),color:q.i(0,200,200,0),position:q.a(0,0),e:q.a(0,0)},sublist:{size:q.size(212,328),color:q.i(0,200,200,0),position:q.a(258,0),e:q.a(0,
0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:G["Quest Header"],fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(484,6),size:q.size(20,20),e:q.a(0,0),aa:"GUI/close.png"}}}}}}},Ma:function(){},pa:function(){this._super();this.Ma();this.data=ObjectLists.$p();this.ob()}});Skills=null;
SkillsPanel=Popup.extend({F:null,Jc:function(){return"Skills"},ob:function(){this.F&&this.F.cc();var a=[],c=[];q.ga.g();var d=0,e=0,f;for(f in this.data){e+=this.data[f].level+1;a[d]=q.G.create();a[d].O(420,32);var g=q.Y.create(q.i(0,0,0,127),316,1);g.l(q.a(4,0));var h=q.S.create("Lvl "+(this.data[f].level+1+this.data[f].modifier)+"/"+(this.data[f].level+1),"Arial",15);h.q(q.n(0,0,0));h.w(q.a(0,0));h.l(q.a(4,4));var k=q.S.create(f,"Arial",15);k.q(q.n(0,0,0));k.w(q.a(0.5,0));k.l(q.a(h.c().width+65,
4));var l=q.Y.create(q.i(255,255,255,255),144,k.c().height),m=q.Y.create(q.i(100,120,200,255),this.data[f].experience/this.data[f].requirement*144,k.c().height);l.f(m);m.w(q.a(0,0));m=q.S.create(this.data[f].experience+"/"+this.data[f].requirement,"Arial",14);m.w(q.a(0,0));m.q(q.n(0,0,0));l.f(m);m.yc(1);l.w(q.a(0,0));l.l(q.a(172,4));c.push([]);a[d].f(g);a[d].f(k);a[d].f(h);a[d].f(l);a[d].O(324,k.c().height+8);d++}this.F=this.b.main_panel.list;this.F.bc=function(){for(var c=0,d=0;d<a.length;d++)c+=
a[d].c().height;return q.size(324,c)};this.F.Vb=function(){return a.length};this.F.kc=function(c){return a[c].c()};this.F.jc=function(c){return a[c]};this.F.mb=function(){};this.F.R=ListView.create(this.F);this.F.R.mc(c);this.F.f(this.F.R);this.b.main_panel.character_level.na("LEVEL: "+e);this.b.main_panel.character_level.Pa(306);this.b.main_panel.character_level.w(q.a(1,0))},uc:function(){return{panels:{position:q.a(300,200),children:{background_image:{aa:"GUI/list_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,
0),size:q.size(365,328),children:{character_level:{label:"",position:q.a(2,310),e:q.a(0,0),color:q.n(0,0,0)},list:{size:q.size(324,308),color:q.i(0,200,200,200),position:q.a(0,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:G["Skills Header"],fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),e:q.a(0,0),aa:"GUI/close.png"}}}}}}},Ma:function(){},pa:function(){this._super();this.Ma();this.data=U.HT();
this.ob()}});
var U=q.Xc.extend({Rw:[],Wc:null,xq:function(){var a=ObjectLists.zk(),c;for(c in this.Rw)this.Rw[c].K();this.Rw=[];var d=0;for(c=a.length-1;0<=c;c--)if(null!=a[c].healthbar&&""!=a[c].healthbar){var e=this.pS(a[c].name,a[c].healthbar,d);this.f(e);this.Rw.push(e);d++}this.l(q.a(0,P.height-32*d))},pS:function(a,c,d){var e=255;c=c.replace("#","");8==c.length&&(e=c.substr(6,8));e=q.Y.create(q.i(parseInt(c.substring(0,2),16),parseInt(c.substring(2,4),16),parseInt(c.substring(4,6),16),parseInt(e,16)),0<
this.Wc[a].currenthealth?this.Wc[a].currenthealth/this.Wc[a].maxhealth*300:1,23);e.sC=q.v.Ka(q.ga.g().la("GUI/healthbar.png"));e.l(10,32*d- -5*d-10);e.w(q.a(0,0));e.sC.l(-5,-4);e.sC.w(q.a(0,0));e.f(e.sC);a=q.S.create(a,"Arial",16);a.l(10,11.5);a.w(q.a(0,0.5));e.f(a);return e}});SkillBarsInstance=null;U.create=function(a){null==SkillBarsInstance&&(SkillBarsInstance=new U,SkillBarsInstance.Wc=a,SkillBarsInstance.xq());return SkillBarsInstance};
U.XU=function(a,c){SkillBarsInstance.Wc[a].currenthealth+=c;0>SkillBarsInstance.Wc[a].currenthealth&&(SkillBarsInstance.Wc[a].currenthealth=0);SkillBarsInstance.Wc[a].currenthealth>SkillBarsInstance.Wc[a].maxhealth&&(SkillBarsInstance.Wc[a].currenthealth=SkillBarsInstance.Wc[a].maxhealth);SkillBarsInstance.xq();Skills&&Skills.ob()};U.ZU=function(a,c){SkillBarsInstance.Wc[a].experience+=c;0>SkillBarsInstance.Wc[a].experience&&(SkillBarsInstance.Wc[a].experience=0);SkillBarsInstance.xq();Skills&&Skills.ob()};
U.YU=function(a,c){SkillBarsInstance.Wc[a].modifier+=c;0>SkillBarsInstance.Wc[a].modifier&&(SkillBarsInstance.Wc[a].modifier=0);SkillBarsInstance.xq();Skills&&Skills.ob()};U.HT=function(){return SkillBarsInstance.Wc};U.update=function(){SkillBarsInstance.xq()};Scripteditor=null;
ScriptEditor=Popup.extend({data:null,F:null,fb:null,Aj:null,uf:null,vf:null,f3:null,k:null,sb:null,tca:null,h3:null,ka:null,j:null,co:null,Dj:function(a){z({savescripts:a+"",scriptsdata:this.data})},rj:function(a,c){z({savescriptswhole:c})},Jc:function(){return"Scripts"},Aa:function(a){this._super();if(this.k){var c=this.k;!0!=a&&this.k.Yd(function(){c.Sd(null)})}},A:function(a){this._super();this.data={data:[],name:null};this.sb=null;a.data&&(this.data=a.data);a.aE&&(this.data.specifier=a.aE);this.k=
a.k},pa:function(){this._super();this.sb=new $(this.b.main_panel.nameEntry,q.size(this.b.main_panel.nameEntry.c().width,this.b.main_panel.nameEntry.c().height),q.a(0,this.b.main_panel.nameEntry.c().height),this.data.name,q.i(255,255,255),q.n(0,0,0));this.sb.ib(!0);this.b.main_panel.abbrEntry&&(this.Pw=new $(this.b.main_panel.abbrEntry,q.size(this.b.main_panel.abbrEntry.c().width,this.b.main_panel.abbrEntry.c().height),q.a(0,this.b.main_panel.abbrEntry.c().height),this.data.abbr,q.i(255,255,255),q.n(0,
0,0)),this.Pw.ib(!0));this.ob()},ob:function(){this.F&&this.F.cc();for(var a in this.uf)this.uf[a].cc(),this.uf[a].K();for(a in this.vf)this.vf[a].cc(),this.vf[a].K();var c=[],d=[],e=[],f=[],g=[],h=[],k=q.ga.g();this.uf=[];this.vf=[];for(a=0;a<this.data.data.length;a++){g[a]=[];h[a]=[];d[a]=[];e[a]=[];c[a]=q.G.create();c[a].O(758,100);var l=q.Y.create(q.i(0,0,0,127),750,1);l.l(q.a(4,0));var m=q.Y.create(q.i(0,0,0,127),1,92);m.l(q.a(152,4));var p=q.Y.create(q.i(0,0,0,127),1,92);p.l(q.a(451,4));var s=
this.data.data[a].type;"On Talk Close"==s&&(s+=" ("+this.data.data[a].data.attachedEvent+":"+this.data.data[this.data.data[a].data.attachedEvent].type+")");s=q.S.create(a+": "+s,"Arial",15);s.q(q.n(0,0,0));s.w(q.a(0,1));s.l(q.a(4,96));s.Wa(q.size(100,0));var u=q.Y.create(q.i(0,255,0,60),259,100);u.O(q.size(259,100));u.Pa(451);u.w(q.a(0,0));c[a].f(u);var w=q.Y.create(q.i(0,255,0,60),259,100);w.O(q.size(259,100));w.Pa(152);w.w(q.a(0,0));c[a].f(w);var x=q.v.Ka(k.la("GUI/trash.png"));x.l(q.a(120,4));
x.w(q.a(0,0));x.Oa="Delete";c[a].f(x);var F=q.v.Ka(k.la("GUI/edit.png"));F.l(q.a(96,4));F.w(q.a(0,0));F.Oa="Edit";c[a].f(F);f.push([x,F]);for(x=0;x<this.data.data[a].responses.length;x++){d[a].push(q.G.create());d[a][x].O(259,32);var F=!0,J=q.S.create(x+1+": "+this.data.data[a].responses[x].type,"Arial",15);J.q(q.n(0,0,0));J.w(q.a(0,0));J.l(q.a(4,4));J.Wa(q.size(180,0));d[a][x].O(259,J.c().height+8);d[a][x].f(J);J=q.v.Ka(k.la("GUI/trash.png"));J.l(q.a(229,0));J.w(q.a(0,0));J.Oa="Delete";d[a][x].f(J);
switch(this.data.data[a].responses[x].type){case "Destroy":case "Attack":case "Run Away":F=!1}F?(F=q.v.Ka(k.la("GUI/edit.png")),F.l(q.a(205,0)),F.w(q.a(0,0)),F.Oa="Edit",d[a][x].f(F),g[a].push([J,F])):g[a].push([J])}x=q.Y.create(q.i(70,200,70,255),90,26);F=q.S.create("+","Arial",20);F.l(45,13);F.w(q.a(0.5,0.5));x.l(q.a(84.5,0));x.Oa="Add";x.f(F);g[a].push([x]);d[a].push(x);this.vf[a]=w;this.vf[a].identifier=a;var E=this;this.vf[a].bc=function(){for(var a=0,c=0;c<d[this.identifier].length;c++)a+=d[this.identifier][c].c().height;
return q.size(259,a)};this.vf[a].Vb=function(){return d[this.identifier].length};this.vf[a].kc=function(a){return d[this.identifier][a].c()};this.vf[a].jc=function(a){return d[this.identifier][a]};this.vf[a].mb=function(a,c,d){E.Ja(d.T);if(null==E.j)switch(a){case "Delete":E.da.f(DropDownList.Sc(E,E.AS,["Cancel","Delete"],d.T));E.fb=c;E.Aj=this.identifier;break;case "Edit":E.FI(this.identifier,"responses",c);break;case "Add":a="Talk;Destroy;Give/ Take Item;Set Quest Point;Warp Player;Wait;Repeat Responses;Open/Close Panel;Modify Player Stats;Script Response;Open/Close Shop".split(";");
c=[{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0}];for(var e=0;e<E.data.data[this.identifier].responses.length;e++)"Repeat Responses"==E.data.data[this.identifier].responses[e].type&&(c[7].enabled=!1);switch(E.data.specifier){case "NPC":a.push("Attack","Run Away","Defend","Modify NPC Stats");c.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0});break;case "Item":a.push("Equip Item","Read Item");c.push({enabled:!0},
{enabled:!0});break;case "Tile":a.push("Block Entry","Add Layer Graphic","Show Sign","Spawn NPC","Spawn Item"),c.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0})}E.da.f(DropDownList.Sc(E,E.AR,a,d.T,c));E.Aj=this.identifier;break;case "Use":E.k.ao(c,E.hb[c])}};this.vf[a].R=ListView.create(this.vf[a]);this.vf[a].R.mc(g[a]);this.vf[a].f(this.vf[a].R);for(x=0;x<this.data.data[a].requirements.length;x++)e[a].push(q.G.create()),e[a][x].O(259,32),w=q.S.create(x+1+": "+this.data.data[a].requirements[x].type,
"Arial",15),w.q(q.n(0,0,0)),w.w(q.a(0,0)),w.l(q.a(4,4)),w.Wa(q.size(180,0)),e[a][x].O(259,w.c().height+8),e[a][x].f(w),J=q.v.Ka(k.la("GUI/trash.png")),J.l(q.a(229,0)),J.w(q.a(0,0)),J.Oa="Delete",e[a][x].f(J),F=q.v.Ka(k.la("GUI/edit.png")),F.l(q.a(205,0)),F.w(q.a(0,0)),F.Oa="Edit",e[a][x].f(F),h[a].push([J,F]);w=q.Y.create(q.i(70,200,70,255),90,26);x=q.S.create("+","Arial",20);x.l(45,13);x.w(q.a(0.5,0.5));w.l(q.a(84.5,0));w.Oa="Add";w.f(x);h[a].push([w]);e[a].push(w);this.uf[a]=u;this.uf[a].identifier=
a;E=this;this.uf[a].bc=function(){for(var a=0,c=0;c<e[this.identifier].length;c++)a+=e[this.identifier][c].c().height;return q.size(259,a)};this.uf[a].Vb=function(){return e[this.identifier].length};this.uf[a].kc=function(a){return e[this.identifier][a].c()};this.uf[a].jc=function(a){return e[this.identifier][a]};this.uf[a].mb=function(a,c,d){E.Ja(d.T);if(null==E.j)switch(a){case "Delete":E.da.f(DropDownList.Sc(E,E.zS,["Cancel","Delete"],d.T));E.fb=c;E.Aj=this.identifier;break;case "Edit":E.FI(this.identifier,
"requirements",c);break;case "Add":a="Has Player Item;Is Player Statistics;Is Quest Point;Is Panel Visibility;Is Player Inventory Space;Script Requirement".split(";");switch(E.data.specifier){case "Tile":a.push("Is Event Fired By");break;case "NPC":a.push("Is NPC Statistics","Is NPC Actioning")}E.da.f(DropDownList.Sc(E,E.zR,a,d.T));E.Aj=this.identifier;break;case "Use":E.k.ao(c,E.hb[c])}};this.uf[a].R=ListView.create(this.uf[a]);this.uf[a].R.mc(h[a]);this.uf[a].f(this.uf[a].R);c[a].f(s);c[a].f(l);
c[a].f(m);c[a].f(p)}a=q.Y.create(q.i(70,200,70,255),90,26);g=q.S.create("+","Arial",20);g.l(45,13);g.w(q.a(0.5,0.5));a.l(q.a(334,0));a.Oa="Add";a.f(g);f.push([a]);c.push(a);this.F=this.b.main_panel.list;E=this;this.F.bc=function(){for(var a=0,d=0;d<c.length;d++)a+=c[d].c().height;return q.size(758,a)};this.F.Vb=function(){return c.length};this.F.kc=function(a){return c[a].c()};this.F.jc=function(a){return c[a]};this.F.mb=function(a,c,d){E.Ja(d.T);if(null==E.j)switch(a){case "Delete":var e="Delete";
E.fU(c)&&(e="Delete (Will destroy all child events)");E.da.f(DropDownList.Sc(E,E.yS,["Cancel",e],d.T));E.fb=c;break;case "Add":a=["Default Interaction","On Examine","On Talk Close","On Talk Option Selected","On Game Load"];var f=[{enabled:!0},{enabled:!1},{enabled:!1},{enabled:!1},{enabled:!0}];for(e in E.data.data)if(E.data.data[e])for(var g=0;g<E.data.data[e].responses.length;g++)if("Talk"==E.data.data[e].responses[g].type){f[2].enabled=!0;break}0==E.data.data.length&&(f[1].enabled=!1);E.WS()&&
(f[3].enabled=!0);switch(E.data.specifier){case "Item":a.push("On Pickup","On Drop","On Dequip","On Trade");f.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0});break;case "Tile":a.push("Interact On","Interact Facing","Will Enter","On Enter","Will Leave","On Leave","On Come Near"),f.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0}),f[0].enabled=!1}E.da.f(DropDownList.Sc(E,E.rR,a,d.T,f));E.fb=c;break;case "Use":E.k.ao(c,E.hb[c])}};this.F.R=ListView.create(this.F);
this.F.R.mc(f);this.F.f(this.F.R)},vI:function(a){for(var c=0;c<this.data.data.length;c++)"On Talk Close"==this.data.data[c].type&&this.data.data[c].data.attachedEvent==a&&(this.vI(c),this.data.data.splice(c,1))},fU:function(a){for(var c=0;c<this.data.data.length;c++)if("On Talk Close"==this.data.data[c].type&&this.data.data[c].data.attachedEvent==a)return!0;return!1},WS:function(){for(var a=0;a<this.data.data.length;a++)for(var c=0;c<this.data.data[a].responses.length;c++)if("Talk"==this.data.data[a].responses[c].type)return!0;
return!1},yS:function(a){switch(a){case 1:null!=this.k.fb&&(this.k.vI(this.k.fb),this.k.data.data.splice(this.k.fb,1),this.k.ob(),this.k.fb=null)}},AS:function(a){switch(a){case 1:null!=this.k.fb&&(this.k.data.data[this.k.Aj].responses.splice(this.k.fb,1),this.k.ob(),this.k.fb=null,this.k.Aj=null)}},zS:function(a){switch(a){case 1:null!=this.k.fb&&(this.k.data.data[this.k.Aj].requirements.splice(this.k.fb,1),this.k.ob(),this.k.fb=null,this.k.Aj=null)}},BR:function(a){this.k.data.data.push({type:"On Talk Close",
responses:[],requirements:[],data:{attachedEvent:a}});this.k.ob()},CR:function(a,c){this.k.HE=a;for(var d=[],e=0;e<this.k.data.data[a].responses.length;e++)if("Talk"==this.k.data.data[a].responses[e].type)for(var f in this.k.data.data[a].responses[e].data.options)d.push(f+": "+this.k.data.data[a].responses[e].data.options[f]);this.da.f(DropDownList.Sc(this.k,this.k.dS,d,c.T))},dS:function(a){this.k.data.data.push({type:"On Talk Option Selected for event:"+this.k.HE+", option:"+a,responses:[],requirements:[],
data:{attachedEvent:this.k.HE,attachedOption:a}});this.k.ob();this.k.HE=null},rR:function(a,c){var d="";switch(a){case 0:d="Default Event";break;case 1:d="On Examine";break;case 2:var d=[],e;for(e in this.k.data.data)if(this.k.data.data[e])for(var f=0;f<this.k.data.data[e].responses.length;f++)"Talk"==this.k.data.data[e].responses[f].type&&d.push(e+": "+this.k.data.data[e].type);this.da.f(DropDownList.Sc(this.k,this.k.BR,d,c.T));return;case 3:d=[];for(e in this.k.data.data)if(this.k.data.data[e])for(f=
0;f<this.k.data.data[e].responses.length;f++)"Talk"==this.k.data.data[e].responses[f].type&&this.k.data.data[e].responses[f].data.options&&0<this.k.data.data[e].responses[f].data.options.length&&d.push(e+": "+this.k.data.data[e].type);this.da.f(DropDownList.Sc(this.k,this.k.CR,d,c.T));return;case 4:d="On Game load"}if(""==d)switch(this.k.data.specifier){case "Item":switch(a){case 5:d="On Pickup";break;case 6:d="On Drop";break;case 7:d="On Dequip";break;case 8:d="On Trade"}break;case "Tile":switch(a){case 5:d=
"Interact On";break;case 6:d="Interact Facing";break;case 7:d="Will Enter";break;case 8:d="On Enter";break;case 9:d="Will Leave";break;case 10:d="On Leave";break;case 11:d="On Come Near"}}this.k.data.data.push({type:d,responses:[],requirements:[],data:{}});this.k.ob()},AR:function(a){var c="";switch(a){case 0:c="Talk";break;case 1:c="Destroy";break;case 2:c="Give /Take Item";break;case 3:c="Set Quest Point";break;case 4:c="Warp Player";break;case 5:c="Wait";break;case 6:c="Repeat Responses";break;
case 7:c="Open/Close Panel";break;case 8:c="Modify Player Stats";break;case 9:c="Script Response";break;case 10:c="Open/Close Shop"}if(""==c)switch(this.k.data.specifier){case "NPC":switch(a){case 11:c="Attack";break;case 12:c="Run Away";break;case 13:c="Defend";break;case 14:c="Modify NPC Stats"}break;case "Item":switch(a){case 11:c="Equip Item";break;case 12:c="Read Item"}break;case "Tile":switch(a){case 12:c="Block Entry";break;case 13:c="Add Layer Graphic";break;case 13:c="Show Sign";break;case 14:c=
"Spawn NPC";break;case 15:c="Spawn Item"}}this.k.data.data[this.k.Aj].responses.push({type:c,data:{}});this.k.ob()},zR:function(a){var c="";switch(a){case 0:c="Has Player Item";break;case 1:c="Is Player Statistics";break;case 2:c="Is Quest Point";break;case 3:c="Is Panel Visibility";break;case 4:c="Is Player Inventory Space";break;case 5:c="Script Requirement"}if(""==c)switch(this.k.data.specifier){case "Tile":switch(a){case 6:c="Is Event Fired By"}break;case "NPC":switch(a){case 6:c="Is NPC Statistics";
break;case 7:c="Is NPC Actioning"}}this.k.data.data[this.k.Aj].requirements.push({type:c,data:{}});this.k.ob()},uc:function(){return{panels:{children:{background_image:{aa:"GUI/event_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(1E3,400),children:{list:{size:q.size(758,360),color:q.i(0,200,200,200),position:q.a(0,0),e:q.a(0,0)},okbtn:{position:q.a(4,364),size:q.size(32,32),aa:"GUI/tick_icon.png",e:q.a(0,0)},cancelbtn:{position:q.a(46,364),size:q.size(32,32),aa:"GUI/cross_icon.png",e:q.a(0,
0)},abbrlbl:"Tile"==this.data.specifier?{label:"Abbr",fontSize:20,e:q.a(0,0),position:q.a(550,368),size:q.size(36,32),color:q.n(0,0,0)}:null,abbrEntry:"Tile"==this.data.specifier?{position:q.a(595,364),size:q.size(36,32),color:q.n(255,255,255)}:null,namelbl:{label:"Name:",fontSize:20,e:q.a(0,0),position:q.a(110,368),color:q.n(0,0,0)},nameEntry:{position:q.a(180,364),size:q.size(340,32),color:q.i(255,255,255,255)}}},control_panel:{e:q.a(0,0),position:q.a(0,400),size:q.size(1E3,32),children:{header:{label:"Script Editor",
fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(976,6),size:q.size(20,20),e:q.a(0,0),aa:"GUI/close.png"}}},subEditorOver:{visible:!1,color:q.i(0,0,0,127),position:q.a(0,0),size:q.size(800,400)},mainEditorOver:{color:q.i(0,0,0,127),position:q.a(800,0),size:q.size(200,400)}}}}},FI:function(a,c,d){this.ka={event:a,listtype:c,id:d};this.co=this.data.data[a][c][d].type;this.IV=I(this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data);this.yt()},baa:function(a){this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data=
I(a);this.mx();this.ka=null;this.ob()},aaa:function(){this.mx();this.ka=null},n3:function(){},Ey:null,QE:null,RE:null,fd:null,zK:null,mK:null,vx:null,xc:null,iy:null,em:null,fm:null,dm:null,ky:null,ly:null,jy:null,Ix:null,Jj:0,kK:null,PH:null,ux:null,Tc:null,qy:null,TS:function(a,c){var d={panels:{children:{editArea:{color:q.i(127,127,127,255),e:q.a(0,0),position:q.a(0,0),size:q.size(200,250)},editBox:{size:q.size(178,196),e:q.a(0,0),position:q.a(8,12)},okbtn:{position:q.a(62,210),size:q.size(32,
32),aa:"GUI/tick_icon.png",e:q.a(0,0)},cancelbtn:{position:q.a(106,210),size:q.size(32,32),aa:"GUI/cross_icon.png",e:q.a(0,0)}}}};this.vg=sa(d,!0);this.j.f(this.vg);this.EE=new $(this.vg.editBox,q.size(this.vg.editBox.c().width,this.vg.editBox.c().height),q.a(0,this.vg.editBox.c().height),c?c:"\x3cEnter text\x3e",q.i(255,255,255),q.n(0,0,0),!0);this.EE.ib(!0);this.EE.Vc(!1);this.FE=a},yt:function(){this.j&&(this.j.K(),this.j=null);this.b.subEditorOver.B(!0);this.b.mainEditorOver.B(!1);var a={panels:{position:q.a(802,
0),children:{}}},c=this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data;switch(this.co){case "Warp Player":a.panels.children={mapNumberLabel:{label:"Map ID",e:q.a(0,0),position:q.a(12,374)},mapNumberText:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,340),size:q.size(100,32)},mapXLabel:{label:"Map X",e:q.a(0,0),position:q.a(12,310)},mapXText:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,276),size:q.size(80,32)},mapYLabel:{label:"Map Y",e:q.a(0,0),position:q.a(100,310)},
mapYText:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(100,276),size:q.size(80,32)}};break;case "Script Response":a.panels.children={sayLabelPre:{label:"Script:\n\nfunction resp(data){\n//data is { }",e:q.a(0,1),position:q.a(12,374),color:q.n(255,0,0)},sayLabelPost:{label:"};",e:q.a(0,1),position:q.a(12,95),color:q.n(255,0,0)},sayText:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,100),size:q.size(174,200)}};break;case "Script Requirement":a.panels.children={sayLabelPre:{label:"Script:\n\nfunction req(data,isAllow){\n//data is { }\n//isAllow defaults false",
e:q.a(0,1),position:q.a(12,374),color:q.n(255,0,0)},sayLabelPost:{label:"return isAllow;\n};",e:q.a(0,1),position:q.a(12,95),color:q.n(255,0,0)},sayText:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,100),size:q.size(174,190)}};break;case "Read Item":a.panels.children={sayLabel:{label:"Say:",e:q.a(0,0),position:q.a(12,374)},sayText:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,50),size:q.size(174,322)}};break;case "Show Sign":a.panels.children={signLabel:{label:"Sign Title:",e:q.a(0,
0),position:q.a(12,376)},signText:{color:q.n(255,255,255),e:q.a(0,0),position:q.a(12,340),size:q.size(174,32)},sayLabel:{label:"Sign Content:",e:q.a(0,0),position:q.a(12,318)},sayText:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,50),size:q.size(174,258)}};break;case "Talk":a.panels.children={sayLabel:{label:"Say:",e:q.a(0,0),position:q.a(12,374)},sayText:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,274),size:q.size(174,100)},optionLabel:{label:"Options:",e:q.a(0,0),position:q.a(12,
235)},optionList:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,50),size:q.size(154,185)}};break;case "Is Quest Point":case "Set Quest Point":a.panels.children={questLabel:{label:"Quest:",e:q.a(0,0),position:q.a(12,374)},questList:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},objectiveLabel:{label:"Objective:",e:q.a(0,0),position:q.a(12,189)},objectiveList:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,50),size:q.size(154,135)}};break;case "Give /Take Item":case "Has Player Item":case "Spawn Item":a.panels.children=
{itemsLabel:{label:"Item:",e:q.a(0,0),position:q.a(12,374)},itemList:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},amountLabel:{label:"Amount:",e:q.a(0,0),position:q.a(12,189)},amountText:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,153),size:q.size(154,32)},amountNote:{label:"Has Player Item"==this.co?"":"Use negative item amounts to take away. Use positive amounts to give.",e:q.a(0,1),position:q.a(12,145)}};break;case "Spawn NPC":a.panels.children={npcLabel:{label:"NPC:",
e:q.a(0,0),position:q.a(12,374)},npcList:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)}};break;case "Modify Player Stats":case "Modify NPC Stats":a.panels.children={skillsLabel:{label:"Skill:",e:q.a(0,0),position:q.a(12,374)},skillList:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},levelLabel:{label:"Level Modify",e:q.a(0,0),position:q.a(12,205)},levelText:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,169),size:q.size(154,
32)},expLabel:{label:"XP Modify: (% allowed)",e:q.a(0,0),position:q.a(12,145)},expText:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,109),size:q.size(154,32)},healthLabel:{label:"Health Modify: (% allowed)",e:q.a(0,0),position:q.a(12,85)},healthText:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,49),size:q.size(154,32)}};break;case "Is Panel Visibility":case "Open/Close Panel":a.panels.children={panelsLabel:{label:"Panel:",e:q.a(0,0),position:q.a(12,374)},panelList:{color:q.i(255,
255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},visibleLabel:{label:"Visibility:",e:q.a(0,0),position:q.a(12,205)},visibleButton:{color:q.i(255,0,0,255),e:q.a(0,0),position:q.a(12,169),size:q.size(154,32),children:{content:{position:q.a(77,16),e:q.a(0.5,0.5),label:"Invisible",color:q.n(0,0,0)}}}};break;case "Open/Close Shop":a.panels.children={panelsLabel:{label:"Panel:",e:q.a(0,0),position:q.a(12,374)},panelList:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,
135)},visibleLabel:{label:"Visibility:",e:q.a(0,0),position:q.a(12,205)},visibleButton:{color:q.i(255,0,0,255),e:q.a(0,0),position:q.a(12,169),size:q.size(154,32),children:{content:{position:q.a(77,16),e:q.a(0.5,0.5),label:"Invisible",color:q.n(0,0,0)}}}};break;case "Is Event Fired By":a.panels.children={objectLabel:{label:"Possible Types:",e:q.a(0,0),position:q.a(12,374)},objectList:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)}};break;case "Is NPC Actioning":a.panels.children=
{actionLabel:{label:"Actions:",e:q.a(0,0),position:q.a(12,374)},actionList:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)}};break;case "Is Player Inventory Space":a.panels.children={spaceLabel:{label:"Inventory Space",e:q.a(0,0),position:q.a(12,374)},spaceText:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,340),size:q.size(100,32)}};break;case "Wait":a.panels.children={timeLabel:{label:"Time (Seconds)",e:q.a(0,0),position:q.a(12,374)},timeText:{color:q.i(255,
255,255,255),e:q.a(0,0),position:q.a(12,340),size:q.size(100,32)}};break;case "Repeat Responses":a.panels.children={amountLabel:{label:"Repeat Amount",e:q.a(0,0),position:q.a(12,374)},amountText:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,340),size:q.size(100,32)},amountNote:{label:"Use 0 for infinite amount of repeats.",e:q.a(0,1),position:q.a(12,300)}};break;case "Is Player Statistics":case "Is NPC Statistics":a.panels.children={skillsLabel:{label:"Skill:",e:q.a(0,0),position:q.a(12,
374)},skillList:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},levelLabel:{label:"Level Range",e:q.a(0,0),position:q.a(12,205)},levelDash:{label:"-",e:q.a(0,0),position:q.a(91,174)},levelTextLower:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,169),size:q.size(75,32)},levelTextUpper:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(100,169),size:q.size(75,32)},expLabel:{label:"XP Range: (% allowed)",e:q.a(0,0),position:q.a(12,145)},expDash:{label:"-",e:q.a(0,
0),position:q.a(91,114)},expTextLower:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,109),size:q.size(75,32)},expTextUpper:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(100,109),size:q.size(75,32)},healthLabel:{label:"Health Range: (% allowed)",e:q.a(0,0),position:q.a(12,85)},healthDash:{label:"-",e:q.a(0,0),position:q.a(91,54)},healthTextLower:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,49),size:q.size(75,32)},healthTextUpper:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(100,
49),size:q.size(75,32)}};break;case "Equip Item":a.panels.children={equipLabel:{label:"Equips To:",e:q.a(0,0),position:q.a(12,374)},headButton:{color:q.i(255,0,0,255),e:q.a(0,0),position:q.a(69,320),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(0.5,0.5),label:"Head",color:q.n(0,0,0)}}},bodyButton:{color:q.i(255,0,0,255),e:q.a(0,0),position:q.a(69,280),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(0.5,0.5),label:"Body",color:q.n(0,0,0)}}},legButton:{color:q.i(255,
0,0,255),e:q.a(0,0),position:q.a(69,240),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(0.5,0.5),label:"Legs",color:q.n(0,0,0)}}},feetButton:{color:q.i(255,0,0,255),e:q.a(0,0),position:q.a(69,200),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(0.5,0.5),label:"Feet",color:q.n(0,0,0)}}},lArmButton:{color:q.i(255,0,0,255),e:q.a(0,0),position:q.a(10,280),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(0.5,0.5),label:"L Arm",color:q.n(0,0,0)}}},rArmButton:{color:q.i(255,
0,0,255),e:q.a(0,0),position:q.a(128,280),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(0.5,0.5),label:"R Arm",color:q.n(0,0,0)}}},modButton:{color:q.i(255,0,0,255),e:q.a(0,0),position:q.a(10,160),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(0.5,0.5),label:"Mod",color:q.n(0,0,0)}}}}}a.panels.children.okbtn={position:q.a(62,8),size:q.size(32,32),aa:"GUI/tick_icon.png",e:q.a(0,0)};a.panels.children.cancelbtn={position:q.a(106,8),size:q.size(32,32),aa:"GUI/cross_icon.png",
e:q.a(0,0)};this.j=sa(a,!0);this.b.f(this.j);switch(this.co){case "Warp Player":var d=a=1;c.index&&(d=V.Di(c.mapnum),a=c.index%d.width,d=Math.floor(c.index/d.width));this.Ey=new $(this.j.mapNumberText,q.size(this.j.mapNumberText.c().width,this.j.mapNumberText.c().height),q.a(0,this.j.mapNumberText.c().height),null!=c.mapnum&&"undefined"!==c.mapnum?c.mapnum:"0",q.i(255,255,255),q.n(0,0,0));this.Ey.ib(!0);this.QE=new $(this.j.mapXText,q.size(this.j.mapXText.c().width,this.j.mapXText.c().height),q.a(0,
this.j.mapXText.c().height),a,q.i(255,255,255),q.n(0,0,0));this.QE.ib(!0);this.RE=new $(this.j.mapYText,q.size(this.j.mapYText.c().width,this.j.mapYText.c().height),q.a(0,this.j.mapYText.c().height),d,q.i(255,255,255),q.n(0,0,0));this.RE.ib(!0);break;case "Show Sign":this.fd=new $(this.j.sayText,q.size(this.j.sayText.c().width,this.j.sayText.c().height),q.a(0,this.j.sayText.c().height),c.content?c.content:"\x3cEnter text\x3e",q.i(255,255,255),q.n(0,0,0),!0);this.fd.ib(!0);this.fd.Vc(!1);this.yE=new $(this.j.signText,
q.size(this.j.signText.c().width,this.j.signText.c().height),q.a(0,this.j.signText.c().height),c.title?c.title:"\x3cEnter text\x3e",q.i(255,255,255),q.n(0,0,0),!0);this.yE.ib(!0);this.yE.Vc(!1);break;case "Read Item":this.fd=new $(this.j.sayText,q.size(this.j.sayText.c().width,this.j.sayText.c().height),q.a(0,this.j.sayText.c().height),c.say?c.say:"\x3cEnter text\x3e",q.i(255,255,255),q.n(0,0,0),!0);this.fd.ib(!0);this.fd.Vc(!1);break;case "Script Response":this.fd=new $(this.j.sayText,q.size(this.j.sayText.c().width,
this.j.sayText.c().height),q.a(0,this.j.sayText.c().height),c.functionContent?c.functionContent:"\x3cEnter text\x3e",q.i(255,255,255),q.n(0,0,0),!0);this.fd.ib(!0);this.fd.Vc(!1);break;case "Script Requirement":this.fd=new $(this.j.sayText,q.size(this.j.sayText.c().width,this.j.sayText.c().height),q.a(0,this.j.sayText.c().height),c.functionContent?c.functionContent:"\x3cEnter text\x3e",q.i(255,255,255),q.n(0,0,0),!0);this.fd.ib(!0);this.fd.Vc(!1);break;case "Talk":this.fd=new $(this.j.sayText,q.size(this.j.sayText.c().width,
this.j.sayText.c().height),q.a(0,this.j.sayText.c().height),c.say?c.say:"\x3cEnter text\x3e",q.i(255,255,255),q.n(0,0,0),!0);this.fd.ib(!0);this.fd.Vc(!1);var e=[],a=[],f=c.options?c.options:[];console.log(f);for(d=0;d<f.length;d++){e[d]=q.G.create();var g=q.Y.create(q.i(0,0,0,127),154,1),h=q.S.create(f[d],"Arial",15);h.q(q.n(0,0,0));h.w(q.a(0,0));h.l(q.a(4,4));h.Wa(q.size(104,0));e[d].O(154,h.c().height+8);var k=q.v.Ka(q.ga.g().la("GUI/edit.png"));k.l(q.a(130,0));k.w(q.a(0,0));k.Oa="Edit";k.yc((h.c().height+
8)/2-10);var l=q.v.Ka(q.ga.g().la("GUI/trash.png"));l.l(q.a(108,0));l.w(q.a(0,0));l.Oa="Delete";l.yc((h.c().height+8)/2-10);a.push([k,l]);var m=q.Y.create(q.i(255,255,255,255),154,h.c().height+8);e[d].f(m);e[d].Ib=m;e[d].f(g);e[d].f(h);e[d].f(k);e[d].f(l)}d=q.Y.create(q.i(70,200,70,255),90,26);g=q.S.create("+","Arial",20);g.l(45,13);g.w(q.a(0.5,0.5));d.l(q.a(34,0));d.Oa="Add";d.f(g);a.push([d]);e.push(d);var p=this;this.j.optionList.bc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;
return q.size(154,a)};this.j.optionList.Vb=function(){return e.length};this.j.optionList.kc=function(a){return e[a].c()};this.j.optionList.jc=function(a){return e[a]};this.j.optionList.rf=function(a){return e[a].Ib};this.j.optionList.mb=function(a,d){if(!p.vg)switch(a){case "Add":c.options||(c.options=[]);c.options.push("\x3cEnter Text\x3e");c.say=p.fd.Z();p.j.optionList.R.K();p.j.optionList.R=null;p.yt();break;case "Delete":c.options.splice(d,1);c.say=p.fd.Z();p.j.K();p.j=null;p.yt();break;case "Edit":c.say=
p.fd.Z(),p.TS(d,c.options[d]),p.j.optionList.R.K(),p.j.optionList.R=null}};this.j.optionList.R=ListView.create(this.j.optionList);this.j.optionList.R.mc(a);this.j.optionList.f(this.j.optionList.R);break;case "Is Quest Point":case "Set Quest Point":e=[];a=[];f=ObjectLists.$p();for(d=0;d<f.length;d++)e[d]=q.G.create(),g=q.Y.create(q.i(0,0,0,127),154,1),h=q.S.create(f[d].name,"Arial",15),h.q(q.n(0,0,0)),h.w(q.a(0,0)),h.l(q.a(4,4)),h.Wa(q.size(126,0)),k=q.v.Ka(q.ga.g().la("GUI/use.png")),k.l(q.a(130,
0)),k.w(q.a(0,0)),k.Oa="Use",e[d].O(154,h.c().height+8),k.yc((h.c().height+8)/2-10),a.push([k]),m=q.Y.create(q.i(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].Ib=m,e[d].f(g),e[d].f(h),e[d].f(k);p=this;this.j.questList.bc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.j.questList.Vb=function(){return e.length};this.j.questList.kc=function(a){return e[a].c()};this.j.questList.jc=function(a){return e[a]};this.j.questList.rf=function(a){return e[a].Ib};this.j.questList.mb=
function(a,c){if("Use"==a){p.j.objectiveList.R&&p.j.objectiveList.R.K();this.R.Ib(c);p.zK=c;for(var d=[],e=[],f=q.ga.g(),g=ObjectLists.$p()[c].objectiveList,h=0;h<g.length;h++){d[h]=q.G.create();var k=q.Y.create(q.i(0,0,0,127),154,1);k.l(q.a(0,0));var l=q.S.create(g[h],"Arial",15);l.q(q.n(0,0,0));l.w(q.a(0,0));l.l(q.a(4,4));l.Wa(q.size(126,0));var m=q.v.Ka(f.la("GUI/use.png"));m.l(q.a(130,0));m.w(q.a(0,0));m.Oa="Use";e.push([m]);d[h].O(126,l.c().height+8);m.yc((l.c().height+8)/2-10);var ha=q.Y.create(q.i(255,
255,255,255),154,l.c().height+8);d[h].f(ha);d[h].Ib=ha;d[h].f(k);d[h].f(l);d[h].f(m)}p.j.objectiveList.bc=function(){for(var a=0,c=0;c<d.length;c++)a+=d[c].c().height;return q.size(154,a)};p.j.objectiveList.Vb=function(){return d.length};p.j.objectiveList.rf=function(a){return d[a].Ib};p.j.objectiveList.kc=function(a){return d[a].c()};p.j.objectiveList.jc=function(a){return d[a]};p.j.objectiveList.mb=function(a,c){this.R.Ib(c);p.mK=c};p.j.objectiveList.R=ListView.create(p.j.objectiveList);p.j.objectiveList.R.mc(e);
p.j.objectiveList.f(p.j.objectiveList.R)}};this.j.questList.R=ListView.create(this.j.questList);this.j.questList.R.mc(a);this.j.questList.f(this.j.questList.R);null!=c.quest&&"undefined"!==c.quest&&(this.j.questList.mb("Use",c.quest),null!=c.objective&&"undefined"!==c.objective&&this.j.objectiveList.mb("Use",c.objective));break;case "Spawn NPC":e=[];a=[];f=ObjectLists.Xp();for(d=0;d<f.length;d++)e[d]=q.G.create(),g=q.Y.create(q.i(0,0,0,127),154,1),h=q.S.create(f[d].name,"Arial",15),h.q(q.n(0,0,0)),
h.w(q.a(0,0)),h.l(q.a(4,4)),h.Wa(q.size(126,0)),k=q.v.Ka(q.ga.g().la("GUI/use.png")),k.l(q.a(130,0)),k.w(q.a(0,0)),k.Oa="Use",e[d].O(154,h.c().height+8),k.yc((h.c().height+8)/2-10),a.push([k]),m=q.Y.create(q.i(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].Ib=m,e[d].f(g),e[d].f(h),e[d].f(k);p=this;this.j.npcList.bc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.j.npcList.Vb=function(){return e.length};this.j.npcList.kc=function(a){return e[a].c()};this.j.npcList.jc=
function(a){return e[a]};this.j.npcList.rf=function(a){return e[a].Ib};this.j.npcList.mb=function(a,c){"Use"==a&&(this.R.Ib(c),p.xc=c)};this.j.npcList.R=ListView.create(this.j.npcList);this.j.npcList.R.mc(a);this.j.npcList.f(this.j.npcList.R);null!=c.npc&&"undefined"!==c.npc&&this.j.npcList.mb("Use",c.npc);break;case "Give /Take Item":case "Has Player Item":case "Spawn Item":this.j.amountNote.Wa(q.size(180,0));e=[];a=[];f=ObjectLists.Kb();for(d=0;d<f.length;d++)e[d]=q.G.create(),g=q.Y.create(q.i(0,
0,0,127),154,1),h=q.S.create(f[d].name,"Arial",15),h.q(q.n(0,0,0)),h.w(q.a(0,0)),h.l(q.a(4,4)),h.Wa(q.size(126,0)),k=q.v.Ka(q.ga.g().la("GUI/use.png")),k.l(q.a(130,0)),k.w(q.a(0,0)),k.Oa="Use",e[d].O(154,h.c().height+8),k.yc((h.c().height+8)/2-10),a.push([k]),m=q.Y.create(q.i(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].Ib=m,e[d].f(g),e[d].f(h),e[d].f(k);p=this;this.j.itemList.bc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.j.itemList.Vb=function(){return e.length};
this.j.itemList.kc=function(a){return e[a].c()};this.j.itemList.jc=function(a){return e[a]};this.j.itemList.rf=function(a){return e[a].Ib};this.j.itemList.mb=function(a,c){"Use"==a&&(this.R.Ib(c),p.xc=c)};this.j.itemList.R=ListView.create(this.j.itemList);this.j.itemList.R.mc(a);this.j.itemList.f(this.j.itemList.R);null!=c.item&&"undefined"!==c.item&&this.j.itemList.mb("Use",c.item);this.vx=new $(this.j.amountText,q.size(this.j.amountText.c().width,this.j.amountText.c().height),q.a(0,this.j.amountText.c().height),
c.amount?c.amount:"0",q.i(255,255,255),q.n(0,0,0));this.vx.ib(!0);this.vx.Vc(!1);break;case "Modify Player Stats":case "Modify NPC Stats":e=[];a=[];f=ObjectLists.zk();for(d=0;d<f.length;d++)e[d]=q.G.create(),g=q.Y.create(q.i(0,0,0,127),154,1),h=q.S.create(f[d].name,"Arial",15),h.q(q.n(0,0,0)),h.w(q.a(0,0)),h.l(q.a(4,4)),h.Wa(q.size(126,0)),k=q.v.Ka(q.ga.g().la("GUI/use.png")),k.l(q.a(130,0)),k.w(q.a(0,0)),k.Oa="Use",e[d].O(154,h.c().height+8),k.yc((h.c().height+8)/2-10),a.push([k]),m=q.Y.create(q.i(255,
255,255,255),154,h.c().height+8),e[d].f(m),e[d].Ib=m,e[d].f(g),e[d].f(h),e[d].f(k);p=this;this.j.skillList.bc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.j.skillList.Vb=function(){return e.length};this.j.skillList.kc=function(a){return e[a].c()};this.j.skillList.jc=function(a){return e[a]};this.j.skillList.rf=function(a){return e[a].Ib};this.j.skillList.mb=function(a,c){"Use"==a&&(this.R.Ib(c),p.iy=c)};this.j.skillList.R=ListView.create(this.j.skillList);
this.j.skillList.R.mc(a);this.j.skillList.f(this.j.skillList.R);null!=c.skill&&"undefined"!==c.skill&&this.j.skillList.mb("Use",c.skill);this.em=new $(this.j.levelText,q.size(this.j.levelText.c().width,this.j.levelText.c().height),q.a(0,this.j.levelText.c().height),c.level?c.level:"0",q.i(255,255,255),q.n(0,0,0));this.em.ib(!0);this.em.Vc(!1);this.fm=new $(this.j.expText,q.size(this.j.expText.c().width,this.j.expText.c().height),q.a(0,this.j.expText.c().height),c.xp?c.xp:"0",q.i(255,255,255),q.n(0,
0,0));this.fm.ib(!0);this.fm.Vc(!1);this.dm=new $(this.j.healthText,q.size(this.j.healthText.c().width,this.j.healthText.c().height),q.a(0,this.j.healthText.c().height),c.health?c.health:"0",q.i(255,255,255),q.n(0,0,0));this.dm.ib(!0);this.dm.Vc(!1);break;case "Is Panel Visibility":case "Open/Close Panel":e=[];a=[];f=["Inventory","Equipment","Skills","QuestLog","Bank"];for(d=0;d<f.length;d++)e[d]=q.G.create(),g=q.Y.create(q.i(0,0,0,127),154,1),h=q.S.create(f[d],"Arial",15),h.q(q.n(0,0,0)),h.w(q.a(0,
0)),h.l(q.a(4,4)),h.Wa(q.size(126,0)),k=q.v.Ka(q.ga.g().la("GUI/use.png")),k.l(q.a(130,0)),k.w(q.a(0,0)),k.Oa="Use",e[d].O(154,h.c().height+8),k.yc((h.c().height+8)/2-10),a.push([k]),m=q.Y.create(q.i(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].Ib=m,e[d].f(g),e[d].f(h),e[d].f(k);p=this;this.j.panelList.bc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.j.panelList.Vb=function(){return e.length};this.j.panelList.kc=function(a){return e[a].c()};this.j.panelList.jc=
function(a){return e[a]};this.j.panelList.rf=function(a){return e[a].Ib};this.j.panelList.mb=function(a,c){"Use"==a&&(this.R.Ib(c),p.Ix=c)};this.j.panelList.R=ListView.create(this.j.panelList);this.j.panelList.R.mc(a);this.j.panelList.f(this.j.panelList.R);null!=c.panel&&"undefined"!==c.panel&&this.j.panelList.mb("Use",c.panel);this.Jj=1==c.visible?1:0;1==this.Jj&&(this.j.visibleButton.q(q.i(0,255,0,255)),this.j.visibleButton.content.na("Visible"));break;case "Open/Close Shop":e=[];a=[];g=ObjectLists.aq();
f=[];for(d=0;d<g.length;d++)f.push(g[d].name);for(d=0;d<f.length;d++)e[d]=q.G.create(),g=q.Y.create(q.i(0,0,0,127),154,1),h=q.S.create(f[d],"Arial",15),h.q(q.n(0,0,0)),h.w(q.a(0,0)),h.l(q.a(4,4)),h.Wa(q.size(126,0)),k=q.v.Ka(q.ga.g().la("GUI/use.png")),k.l(q.a(130,0)),k.w(q.a(0,0)),k.Oa="Use",e[d].O(154,h.c().height+8),k.yc((h.c().height+8)/2-10),a.push([k]),m=q.Y.create(q.i(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].Ib=m,e[d].f(g),e[d].f(h),e[d].f(k);p=this;this.j.panelList.bc=function(){for(var a=
0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.j.panelList.Vb=function(){return e.length};this.j.panelList.kc=function(a){return e[a].c()};this.j.panelList.jc=function(a){return e[a]};this.j.panelList.rf=function(a){return e[a].Ib};this.j.panelList.mb=function(a,c){"Use"==a&&(this.R.Ib(c),p.Ix=c)};this.j.panelList.R=ListView.create(this.j.panelList);this.j.panelList.R.mc(a);this.j.panelList.f(this.j.panelList.R);null!=c.panel&&"undefined"!==c.panel&&this.j.panelList.mb("Use",c.panel);
this.Jj=1==c.visible?1:0;1==this.Jj&&(this.j.visibleButton.q(q.i(0,255,0,255)),this.j.visibleButton.content.na("Visible"));break;case "Is Event Fired By":e=[];a=[];f=["Player","NPC"];for(d=0;d<f.length;d++)e[d]=q.G.create(),g=q.Y.create(q.i(0,0,0,127),154,1),h=q.S.create(f[d],"Arial",15),h.q(q.n(0,0,0)),h.w(q.a(0,0)),h.l(q.a(4,4)),h.Wa(q.size(126,0)),k=q.v.Ka(q.ga.g().la("GUI/use.png")),k.l(q.a(130,0)),k.w(q.a(0,0)),k.Oa="Use",e[d].O(154,h.c().height+8),k.yc((h.c().height+8)/2-10),a.push([k]),m=q.Y.create(q.i(255,
255,255,255),154,h.c().height+8),e[d].f(m),e[d].Ib=m,e[d].f(g),e[d].f(h),e[d].f(k);p=this;this.j.objectList.bc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.j.objectList.Vb=function(){return e.length};this.j.objectList.kc=function(a){return e[a].c()};this.j.objectList.jc=function(a){return e[a]};this.j.objectList.rf=function(a){return e[a].Ib};this.j.objectList.mb=function(a,c){"Use"==a&&(this.R.Ib(c),p.kK=c)};this.j.objectList.R=ListView.create(this.j.objectList);
this.j.objectList.R.mc(a);this.j.objectList.f(this.j.objectList.R);null!=c.object&&"undefined"!==c.object&&this.j.objectList.mb("Use",c.object);break;case "Is NPC Actioning":e=[];a=[];f=["Attacking","Defending","Fleeing"];for(d=0;d<f.length;d++)e[d]=q.G.create(),g=q.Y.create(q.i(0,0,0,127),154,1),h=q.S.create(f[d],"Arial",15),h.q(q.n(0,0,0)),h.w(q.a(0,0)),h.l(q.a(4,4)),h.Wa(q.size(126,0)),k=q.v.Ka(q.ga.g().la("GUI/use.png")),k.l(q.a(130,0)),k.w(q.a(0,0)),k.Oa="Use",e[d].O(154,h.c().height+8),k.yc((h.c().height+
8)/2-10),a.push([k]),m=q.Y.create(q.i(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].Ib=m,e[d].f(g),e[d].f(h),e[d].f(k);p=this;this.j.actionList.bc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.j.actionList.Vb=function(){return e.length};this.j.actionList.kc=function(a){return e[a].c()};this.j.actionList.jc=function(a){return e[a]};this.j.actionList.rf=function(a){return e[a].Ib};this.j.actionList.mb=function(a,c){"Use"==a&&(this.R.Ib(c),p.PH=c)};this.j.actionList.R=
ListView.create(this.j.actionList);this.j.actionList.R.mc(a);this.j.actionList.f(this.j.actionList.R);null!=c.action&&"undefined"!==c.action&&this.j.actionList.mb("Use",c.action);break;case "Is Player Inventory Space":this.ux=new $(this.j.spaceText,q.size(this.j.spaceText.c().width,this.j.spaceText.c().height),q.a(0,this.j.spaceText.c().height),null!=c.space&&"undefined"!==c.space?c.space:"0",q.i(255,255,255),q.n(0,0,0));this.ux.ib(!0);this.ux.Vc(!1);break;case "Wait":this.qy=new $(this.j.timeText,
q.size(this.j.timeText.c().width,this.j.timeText.c().height),q.a(0,this.j.timeText.c().height),null!=c.time&&"undefined"!==c.time?c.time:"0",q.i(255,255,255),q.n(0,0,0));this.qy.ib(!0);this.qy.Vc(!1);break;case "Repeat Responses":this.j.amountNote.Wa(q.size(180,0));this.VD=new $(this.j.amountText,q.size(this.j.amountText.c().width,this.j.amountText.c().height),q.a(0,this.j.amountText.c().height),null!=c.amount&&"undefined"!==c.amount?c.amount:"1",q.i(255,255,255),q.n(0,0,0));this.VD.ib(!0);this.VD.Vc(!1);
break;case "Is Player Statistics":case "Is NPC Statistics":e=[];a=[];f=ObjectLists.zk();for(d=0;d<f.length;d++)e[d]=q.G.create(),g=q.Y.create(q.i(0,0,0,127),154,1),h=q.S.create(f[d].name,"Arial",15),h.q(q.n(0,0,0)),h.w(q.a(0,0)),h.l(q.a(4,4)),h.Wa(q.size(126,0)),k=q.v.Ka(q.ga.g().la("GUI/use.png")),k.l(q.a(130,0)),k.w(q.a(0,0)),k.Oa="Use",e[d].O(154,h.c().height+8),k.yc((h.c().height+8)/2-10),a.push([k]),m=q.Y.create(q.i(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].Ib=m,e[d].f(g),e[d].f(h),
e[d].f(k);p=this;this.j.skillList.bc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.j.skillList.Vb=function(){return e.length};this.j.skillList.kc=function(a){return e[a].c()};this.j.skillList.jc=function(a){return e[a]};this.j.skillList.rf=function(a){return e[a].Ib};this.j.skillList.mb=function(a,c){"Use"==a&&(this.R.Ib(c),p.iy=c)};this.j.skillList.R=ListView.create(this.j.skillList);this.j.skillList.R.mc(a);this.j.skillList.f(this.j.skillList.R);null!=c.skill&&
"undefined"!==c.skill&&this.j.skillList.mb("Use",c.skill);this.em=new $(this.j.levelTextLower,q.size(this.j.levelTextLower.c().width,this.j.levelTextLower.c().height),q.a(0,this.j.levelTextLower.c().height),null!=c.levelLower&&"undefined"!==c.levelLower&&""!=c.levelLower?c.levelLower:"0",q.i(255,255,255),q.n(0,0,0));this.em.ib(!0);this.em.Vc(!1);this.fm=new $(this.j.expTextLower,q.size(this.j.expTextLower.c().width,this.j.expTextLower.c().height),q.a(0,this.j.expTextLower.c().height),null!=c.xpLower&&
"undefined"!==c.xpLower&&""!=c.xpLower?c.xpLower:"0",q.i(255,255,255),q.n(0,0,0));this.fm.ib(!0);this.fm.Vc(!1);this.dm=new $(this.j.healthTextLower,q.size(this.j.healthTextLower.c().width,this.j.healthTextLower.c().height),q.a(0,this.j.healthTextLower.c().height),null!=c.healthLower&&"undefined"!==c.healthLower&&""!=c.healthLower?c.healthLower:"0",q.i(255,255,255),q.n(0,0,0));this.dm.ib(!0);this.dm.Vc(!1);this.ky=new $(this.j.levelTextUpper,q.size(this.j.levelTextUpper.c().width,this.j.levelTextUpper.c().height),
q.a(0,this.j.levelTextUpper.c().height),null!=c.levelUpper&&"undefined"!==c.levelUpper&&""!=c.levelUpper?c.levelUpper:"0",q.i(255,255,255),q.n(0,0,0));this.ky.ib(!0);this.ky.Vc(!1);this.ly=new $(this.j.expTextUpper,q.size(this.j.expTextUpper.c().width,this.j.expTextUpper.c().height),q.a(0,this.j.expTextUpper.c().height),null!=c.xpUpper&&"undefined"!==c.xpUpper&&""!=c.xpUpper?c.xpUpper:"0",q.i(255,255,255),q.n(0,0,0));this.ly.ib(!0);this.ly.Vc(!1);this.jy=new $(this.j.healthTextUpper,q.size(this.j.healthTextUpper.c().width,
this.j.healthTextUpper.c().height),q.a(0,this.j.healthTextUpper.c().height),null!=c.healthUpper&&"undefined"!==c.healthUpper&&""!=c.healthUpper?c.healthUpper:"0",q.i(255,255,255),q.n(0,0,0));this.jy.ib(!0);this.jy.Vc(!1);break;case "Equip Item":null!=c.equip&&"undefined"!==c.equip?(this.Tc="head",this.Gk(c.equip)):this.Gk("head")}},mx:function(){this.b.subEditorOver.B(!1);this.b.mainEditorOver.B(!0);this.co=null;this.j.K();this.j=null},Gk:function(a){this.j.headButton.q(q.i(255,255,255,255));this.j.bodyButton.q(q.i(255,
255,255,255));this.j.legButton.q(q.i(255,255,255,255));this.j.feetButton.q(q.i(255,255,255,255));this.j.lArmButton.q(q.i(255,255,255,255));this.j.rArmButton.q(q.i(255,255,255,255));this.j.modButton.q(q.i(255,255,255,255));switch(a){case "head":this.Tc=a;this.j.headButton.q(q.i(255,0,0,255));return;case "body":this.Tc=a;this.j.bodyButton.q(q.i(255,0,0,255));return;case "legs":this.Tc=a;this.j.legButton.q(q.i(255,0,0,255));return;case "feet":this.Tc=a;this.j.feetButton.q(q.i(255,0,0,255));return;case "mod":this.Tc=
a;this.j.modButton.q(q.i(255,0,0,255));return;case "bothArms":this.Tc=a;this.j.lArmButton.q(q.i(255,0,0,255));this.j.rArmButton.q(q.i(255,0,0,255));return}"bothArms"!=this.Tc&&"lArm"!=this.Tc&&"rArm"!=this.Tc&&"lArm"==a?(this.j.lArmButton.q(q.i(255,0,0,255)),this.Tc="lArm"):"bothArms"!=this.Tc&&"lArm"!=this.Tc&&"rArm"!=this.Tc&&"rArm"==a?(this.j.rArmButton.q(q.i(255,0,0,255)),this.Tc="rArm"):"rArm"==this.Tc&&"lArm"==a?(this.j.lArmButton.q(q.i(255,0,0,255)),this.j.rArmButton.q(q.i(255,0,0,255)),this.Tc=
"bothArms"):"lArm"==this.Tc&&"rArm"==a?(this.j.lArmButton.q(q.i(255,0,0,255)),this.j.rArmButton.q(q.i(255,0,0,255)),this.Tc="bothArms"):"bothArms"==this.Tc&&"rArm"==a?(this.j.lArmButton.q(q.i(255,0,0,255)),this.Tc="lArm"):"bothArms"==this.Tc&&"lArm"==a&&(this.j.rArmButton.q(q.i(255,0,0,255)),this.Tc="rArm")},vb:function(a){if(this._super(a))return!0;a=q.a(a.T.x,a.T.y);if(this.vg){var c=this.vg.Ja(a);if(H(this.vg.okbtn,c)){switch(this.co){case "Talk":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data.options[this.FE]=
this.EE.Z(),this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data.say=this.fd.Z()}this.vg.K();this.FE=this.vg=null;this.yt();return}if(H(this.vg.cancelbtn,c)){this.vg.K();this.FE=this.vg=null;this.yt();return}}if(this.j)if(c=this.j.Ja(a),H(this.j.okbtn,c)){switch(this.co){case "Warp Player":a=V.Di(this.Ey.Z());this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data={mapnum:parseInt(this.Ey.Z()),index:Q(parseInt(this.QE.Z()),a.width-parseInt(this.RE.Z()))};break;case "Show Sign":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data=
{content:this.fd.Z(),title:this.yE.Z()};break;case "Read Item":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data={say:this.fd.Z()};break;case "Script Response":case "Script Requirement":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data.functionContent=this.fd.Z();break;case "Talk":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data.say=this.fd.Z();break;case "Is Quest Point":case "Set Quest Point":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data=
{quest:this.zK,objective:this.mK};break;case "Spawn NPC":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data={npc:this.xc};break;case "Give /Take Item":case "Has Player Item":case "Spawn Item":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data={item:this.xc,amount:parseInt(this.vx.Z())};break;case "Modify Player Stats":case "Modify NPC Stats":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data={skill:this.iy,level:parseInt(this.em.Z()),xp:parseInt(this.fm.Z()),
health:parseInt(this.dm.Z())};break;case "Is Panel Visibility":case "Open/Close Panel":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data={panel:this.Ix,visible:this.Jj};break;case "Open/Close Shop":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data={id:this.Ix,visible:this.Jj};break;case "Is Event Fired By":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data={object:this.kK};break;case "Is NPC Actioning":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data=
{action:this.PH};break;case "Is Player Inventory Space":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data={space:parseInt(this.ux.Z())};break;case "Wait":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data={time:parseInt(this.qy.Z())};break;case "Repeat Responses":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data={amount:parseInt(this.VD.Z())};break;case "Is Player Statistics":case "Is NPC Statistics":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data=
{skill:this.iy,levelLower:parseInt(this.em.Z()),xpLower:parseInt(this.fm.Z()),healthLower:parseInt(this.dm.Z()),levelUpper:parseInt(this.ky.Z()),xpUpper:parseInt(this.ly.Z()),healthUpper:parseInt(this.jy.Z())};break;case "Equip Item":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data={equip:this.Tc}}this.mx()}else this.j.headButton&&H(this.j.headButton,c)?this.Gk("head"):this.j.bodyButton&&H(this.j.bodyButton,c)?this.Gk("body"):this.j.legButton&&H(this.j.legButton,c)?this.Gk("legs"):
this.j.feetButton&&H(this.j.feetButton,c)?this.Gk("feet"):this.j.lArmButton&&H(this.j.lArmButton,c)?this.Gk("lArm"):this.j.rArmButton&&H(this.j.rArmButton,c)?this.Gk("rArm"):this.j.modButton&&H(this.j.modButton,c)?this.Gk("mod"):this.j.visibleButton&&H(this.j.visibleButton,c)?(this.Jj=0==this.Jj?1:0,this.j.visibleButton.q(0==this.Jj?q.i(255,0,0,255):q.i(0,255,0,255)),this.j.visibleButton.content.na(0==this.Jj?"Invisible":"Visible")):H(this.j.cancelbtn,c)&&(this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data=
I(this.IV),this.mx());else if(c=this.b.main_panel.Ja(a),H(this.b.main_panel.okbtn,c))this.b.main_panel.abbrEntry&&(null==this.Pw.Z()||""==this.Pw.Z())||null==this.sb.Z()||""==this.sb.Z()||(this.data.name=this.sb.Z(),this.b.main_panel.abbrEntry&&(this.data.abbr=this.Pw.Z()),this.Xg=!0,this.k.Sd(this.data));else if(H(this.b.main_panel.cancelbtn,c)){this.Xg=!0;var d=this.k;this.k.Yd(function(){d.Sd(null)})}else H(this.b.main_panel,c)}});Itemeditor2=Itemeditor=null;
ItemEditor=Popup.extend({Tb:v[0].name,ca:0,Sb:1,i2:null,pj:null,Rd:null,un:!1,ao:function(a,c){Scripteditor&&(Scripteditor.Aa(),Scripteditor.K(),this.Yh=a,this.qc(!0),this.b.main_panel.tab1.scriptbtn.text.na(c.name),this.b.main_panel.tab1.scriptbtn.q(q.i(0,255,0,255)));Shopeditor&&(Shopeditor.Aa(),Shopeditor.K(),Shopeditor=null,this.wR(a));Itemeditor2&&!0==this.un&&(Itemeditor2.Aa(),Itemeditor2.K(),Itemeditor2=null,this.vR(this.Rd,a,c),this.Rd=null);Itemeditor2&&!1==this.un&&(Itemeditor2.Aa(),Itemeditor2.K(),
Itemeditor2=null,this.tR(this.Rd,a,c),this.Rd=null)},rt:function(){this.b.main_panel.tab1.scriptbtn.text.na("None");this.b.main_panel.tab1.scriptbtn.q(q.i(255,0,0,255))},uc:function(){return{panels:{position:q.a(300,10),children:{background:{aa:"GUI/itemeditor_bg.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(500,368),children:{tab1:{children:{namelbl:{label:"Name:",fontSize:20,e:q.a(0,0),position:q.a(4,292),color:q.n(0,0,0)},name_entry:{position:q.a(74,292),size:q.size(266,
32),color:q.i(255,255,255,255)},tiles:{e:q.a(0,1),position:q.a(16,272),aa:v[0].name},textureleftbtn:{position:q.a(362,292),size:q.size(16,32),aa:"GUI/texture_change_left.png",e:q.a(0,0)},texturerightbtn:{position:q.a(471,292),size:q.size(16,32),aa:"GUI/texture_change_right.png",e:q.a(0,0)},textureName:{position:q.a(375,292),size:q.size(96,32),aa:"GUI/texture_change_middle.png",e:q.a(0,0),children:{text:{label:v[0].name,fontSize:12,e:q.a(0.5,0.5),position:q.a(48,16),color:q.n(0,0,0)}}},leftbtn:{position:q.a(0,
16),size:q.size(16,256),color:q.i(0,0,255,255),e:q.a(0,0),children:{text:{label:"\x3c",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,160),color:q.n(255,255,255)}}},rightbtn:{position:q.a(336,16),size:q.size(16,256),color:q.i(0,0,255,255),e:q.a(0,0),children:{text:{label:"\x3e",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,160),color:q.n(255,255,255)}}},upbtn:{position:q.a(16,272),size:q.size(320,16),color:q.i(0,0,255,255),e:q.a(0,0),children:{text:{label:"^",fontSize:12,e:q.a(0.5,0.5),position:q.a(160,8),
color:q.n(255,255,255)}}},downbtn:{position:q.a(16,0),size:q.size(320,16),color:q.i(0,0,255,255),e:q.a(0,0),children:{text:{label:"v",fontSize:12,e:q.a(0.5,0.5),position:q.a(160,8),color:q.n(255,255,255)}}},stacklbl:{label:"Stackable:",fontSize:12,e:q.a(0,0),position:q.a(360,206),color:q.n(0,0,0)},stackbtn:{position:q.a(360,176),size:q.size(128,26),color:C,e:q.a(0,0),children:{text:{label:"No",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.n(0,0,0)}}},scriptlbl:{label:"Script:",fontSize:12,
e:q.a(0,0),position:q.a(360,262),color:q.n(0,0,0)},scriptbtn:{position:q.a(360,232),size:q.size(128,26),color:C,e:q.a(0,0),children:{text:{label:"None",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.n(0,0,0)}}},highlightnode:{e:q.a(0,0),position:q.a(0,0),size:q.size(32,32),color:q.i(255,100,100,255)},selectednode:{e:q.a(0,0),position:q.a(0,0),size:q.size(32,32),color:q.i(100,255,100,255)},okbtn:{position:q.a(434,16),size:q.size(32,32),aa:"GUI/tick_icon.png",e:q.a(0,0)},cancelbtn:{position:q.a(384,
16),size:q.size(32,32),aa:"GUI/cross_icon.png",e:q.a(0,0)},descriptionLbl:{label:"Description",fontSize:12,e:q.a(0,0),position:q.a(360,154),color:q.n(0,0,0)},descriptionBox:{size:q.size(128,96),position:q.a(360,55),color:q.n(255,255,255)}}},tab2:{children:{list:{size:q.size(466,320),position:q.a(2,2),e:q.a(0,0)},shopName_label:{label:"Store Name",position:q.a(4,328),color:q.n(255,255,255),fontSize:15,e:q.a(0,0)},shopSell_label:{label:"Sell Price",position:q.a(130,328),color:q.n(255,255,255),fontSize:15,
e:q.a(0,0)},shopBuy_label:{label:"Buy Price",position:q.a(315,328),color:q.n(255,255,255),fontSize:15,e:q.a(0,0)}}},tab3:{size:q.size(200,100),color:q.n(100,100,100),children:{okbtn:{position:q.a(20,32),size:q.size(32,32),aa:"GUI/tick_icon.png",e:q.a(0,0)},cancelbtn:{position:q.a(60,32),size:q.size(32,32),aa:"GUI/cross_icon.png",e:q.a(0,0)},textBox:{size:q.size(100,20),position:q.a(20,72),color:q.n(255,255,255)}}},tab1Clickable:{position:q.a(8,348),size:q.size(60,20),color:B,e:q.a(0,0),children:{text:{label:"Details",
fontSize:12,e:q.a(0.5,0.5),position:q.a(32,10),color:q.n(0,0,0)}}},tab2Clickable:{position:q.a(70,348),size:q.size(60,20),color:B,e:q.a(0,0),children:{text:{label:"Value",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,10),color:q.n(0,0,0)}}}}},control_panel:{e:q.a(0,0),position:q.a(0,368),size:q.size(500,32),children:{header:{label:"Item Editor",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(476,6),size:q.size(20,20),e:q.a(0,0),aa:"GUI/close.png"}}}}}}},Jc:function(){return"itemEditor"},
sb:null,ax:null,k:null,data:null,Yh:null,A:function(a){this._super();this.data={value:[],sprite:{texture:v[0].name,position:{x:0,y:0}},script:null,stackable:!1,name:""};this.Tb=v[0].name;this.ca=0;this.Yh=this.k=this.ax=this.sb=null;this.V=q.a(0,0);this.k=a.k;a&&a.data&&(this.data=a.data,this.data.script&&(this.Yh=this.data.script),a.data.value||(this.data.value=[]))},Dj:function(a){z({saveitems:a+"",itemdata:this.data})},rj:function(a,c){z({saveitemswhole:c})},pa:function(){this._super();this.b.main_panel.tab1.highlightnode.ua(0);
this.b.main_panel.tab1.selectednode.ua(127);for(var a in v)v[a].name==this.data.sprite.texture&&(this.ca=a,this.Tb=v[a].name);this.b.main_panel.tab1.textureName.text.na(this.Tb);this.b.main_panel.tab1.tiles.ma(v[this.ca].texture);null!=this.data.script&&(this.b.main_panel.tab1.scriptbtn.q(q.i(0,255,0,255)),this.b.main_panel.tab1.scriptbtn.text.na(ObjectLists.Me()[this.data.script].name),this.Yh=this.data.script);for(a=this.data.sprite.position.x;10<=a;)a--,this.V.x++;for(a=this.data.sprite.position.y;8<=
a;)a--,this.V.y++;a=q.a(32*(this.data.sprite.position.x-this.V.x),32*(this.data.sprite.position.y-this.V.y));this.b.main_panel.tab1.selectednode.l(this.b.main_panel.tab1.tiles.u.x+a.x,this.b.main_panel.tab1.tiles.u.y-(a.y+32));this.sb=new $(this.b.main_panel.tab1.name_entry,q.size(this.b.main_panel.tab1.name_entry.c().width,this.b.main_panel.tab1.name_entry.c().height),q.a(0,this.b.main_panel.tab1.name_entry.c().height),this.data.name?this.data.name:"",q.i(255,255,255),q.n(0,0,0));this.sb.ib(!0);
this.Np=new $(this.b.main_panel.tab3.textBox,q.size(this.b.main_panel.tab3.textBox.c().width,this.b.main_panel.tab3.textBox.c().height),q.a(0,this.b.main_panel.tab3.textBox.c().height),"1",q.i(255,255,255),q.n(0,0,0));this.Np.ib(!0);this.ax=new $(this.b.main_panel.tab1.descriptionBox,q.size(this.b.main_panel.tab1.descriptionBox.c().width,this.b.main_panel.tab1.descriptionBox.c().height),q.a(0,this.b.main_panel.tab1.descriptionBox.c().height),"",q.i(255,255,255),q.n(0,0,0),!0);this.ax.ib(!0);this.b.main_panel.tab1.stackbtn.q(C);
this.b.main_panel.tab1.stackbtn.text.na("No");!0==this.data.stackable&&(this.b.main_panel.tab1.stackbtn.q(pa),this.b.main_panel.tab1.stackbtn.text.na("Yes"));this.hm();this.Zd(1);this.Ab()},Zd:function(a){2==a&&(this.b.main_panel.tab1.name_entry.Pa(-1E4),this.b.main_panel.tab3.textBox.Pa(-1E4),this.b.main_panel.tab1.descriptionBox.Pa(-1E4));1==a&&(this.b.main_panel.tab1.name_entry.Pa(74),this.b.main_panel.tab3.textBox.Pa(-1E4),this.b.main_panel.tab1.descriptionBox.Pa(360));3==a?(this.b.main_panel.tab1.descriptionBox.Pa(-1E4),
this.b.main_panel.tab2.B(!0),this.b.main_panel.tab3.textBox.Pa(20),this.b.main_panel.tab3.B(!0),this.Sb=a):(this.Sb=a,this.b.main_panel.tab1.B(!1),this.b.main_panel.tab2.B(!1),this.b.main_panel.tab3.B(!1),this.b.main_panel.tab1Clickable.q(B),this.b.main_panel.tab2Clickable.q(B),this.b.main_panel["tab"+a].B(!0),this.b.main_panel["tab"+a+"Clickable"].q(q.i(255,255,0,255)))},Aa:function(a){this._super();if(this.k){var c=this.k;!0!=a&&this.k.Yd(function(){c.Sd(null)})}},Vh:function(a){a=a.T;this.b.main_panel.tab1.highlightnode.ua(0);
a=this.b.main_panel.tab1.tiles.Ja(a);if(0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.c().width&&a.y<=this.b.main_panel.tab1.tiles.c().height)return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+16,this.b.main_panel.tab1.highlightnode.ua(127),this.b.main_panel.tab1.highlightnode.l(a),!0},hm:function(){this.b.main_panel.tab2.list.R&&(this.b.main_panel.tab2.list.R.K(),this.b.main_panel.tab2.list.R=null);for(var a=[],c=[],d=this.data.value,e=this,f=0;f<d.length;f++){a[f]=q.G.create();var g=q.Y.create(q.i(255,
0,0,127),456,1),h=q.S.create(ObjectLists.aq()[d[f].shopid].name,"Arial",12);h.q(q.n(0,0,0));h.w(q.a(0,0.5));h.l(q.a(4,30));h.Wa(q.size(40,0));var k=q.v.Ka(q.ga.g().la("GUI/trash.png"));k.l(q.a(64,18));k.w(q.a(0,0));k.Oa="Delete";a[f].O(468,60);c.push([k]);a[f].f(g);a[f].f(h);a[f].f(k);g=f;h=q.Y.create(q.i(255,255,255,100),148,59);h.l(88,1);a[f].f(h);for(var l=[],k=[],m=0;m<d[f].sell.length;m++){var p=ObjectLists.Kb()[d[f].sell[m].id].name;l[m]=q.G.create();l[m].O(148,20);p=q.S.create(p,"Arial",15);
p.q(q.n(0,0,0));p.w(q.a(0,0));p.l(q.a(4,4));p.Wa(q.size(65,0));var s=q.v.Ka(q.ga.g().la("GUI/trash.png"));s.l(q.a(124,(p.c().height+8)/2-10));s.w(q.a(0,0));s.Oa="Delete";a[f].O(148,60);var u=q.Y.create(q.i(255,255,255,255),50,20);u.l(q.a(69,(p.c().height+8)/2-10));u.w(q.a(0,0));u.Oa="Edit";var w=q.S.create("x "+d[f].sell[m].amount,"Arial",12);w.l(2,(20-w.c().height)/2);w.q(q.n(0,0,0));w.w(q.a(0,0));u.f(w);w=q.Y.create(q.i(0,0,0,127),148,1);l[m].f(w);l[m].f(p);l[m].f(s);l[m].f(u);l[m].O(148,p.c().height+
8);k.push([s,u])}m=q.Y.create(q.i(70,200,70,255),40,20);p=q.S.create("+","Arial",15);p.l(20,10);p.w(q.a(0.5,0.5));m.l(q.a(54,0));m.Oa="Add";m.f(p);k.push([m]);l.push(m);h.bc=function(){for(var a=0,c=0;c<l.length;c++)a+=l[c].c().height;return q.size(180,a)};h.Vb=function(){return l.length};h.kc=function(a){return l[a].c()};h.jc=function(a){return l[a]};h.rf=function(a){return l[a].Ib};h.mb=function(a,c,d){if(2==e.Sb)switch(a){case "Add":e.Rd=this.R.index;e.un=!0;Itemeditor2&&!Itemeditor2.da&&(Itemeditor2=
null);Itemeditor2?(Itemeditor2.Aa(),Itemeditor2.K(),Itemeditor2r=null):(Itemeditor2=new PopupList,Itemeditor2.A({k:e,Ug:new ShopEditor,list:ObjectLists.Kb(),name:"Item List"},{$w:!1,ex:!1,add:!1}),Itemeditor2.pa(),e.f(Itemeditor2),Itemeditor2.l(e.u));break;case "Edit":e.un=!0;e.Rd=this.R.index;e.pj=c;e.Zd(3);break;case "Delete":e.Rd=this.R.index,e.pj=c,e.BS(d)}};h.R=ListView.create(h);h.R.mc(k);h.R.index=g;h.f(h.R);h=q.Y.create(q.i(255,255,255,180),148,59);h.l(274,1);a[f].f(h);for(var x=[],k=[],m=
0;m<d[f].buy.length;m++)p=ObjectLists.Kb()[d[f].buy[m].id].name,x[m]=q.G.create(),x[m].O(148,20),p=q.S.create(p,"Arial",15),p.q(q.n(0,0,0)),p.w(q.a(0,0)),p.l(q.a(4,4)),p.Wa(q.size(65,0)),s=q.v.Ka(q.ga.g().la("GUI/trash.png")),s.l(q.a(124,(p.c().height+8)/2-10)),s.w(q.a(0,0)),s.Oa="Delete",a[f].O(148,60),u=q.Y.create(q.i(255,255,255,255),50,20),u.l(q.a(69,(p.c().height+8)/2-10)),u.w(q.a(0,0)),u.Oa="Edit",w=q.S.create("x "+d[f].buy[m].amount,"Arial",12),w.l(2,(20-w.c().height)/2),w.q(q.n(0,0,0)),w.w(q.a(0,
0)),u.f(w),w=q.Y.create(q.i(0,0,0,127),148,1),x[m].f(w),x[m].f(p),x[m].f(s),x[m].f(u),x[m].O(148,p.c().height+8),k.push([s,u]);m=q.Y.create(q.i(70,200,70,255),40,20);p=q.S.create("+","Arial",15);p.l(20,10);p.w(q.a(0.5,0.5));m.l(q.a(54,0));m.Oa="Add";m.f(p);k.push([m]);x.push(m);h.bc=function(){for(var a=0,c=0;c<x.length;c++)a+=x[c].c().height;return q.size(180,a)};h.Vb=function(){return x.length};h.kc=function(a){return x[a].c()};h.jc=function(a){return x[a]};h.rf=function(a){return x[a].Ib};h.mb=
function(a,c,d){if(2==e.Sb)switch(a){case "Add":e.Rd=this.R.index;e.un=!1;Itemeditor2&&!Itemeditor2.da&&(Itemeditor2=null);Itemeditor2?(Itemeditor2.Aa(),Itemeditor2.K(),Itemeditor2r=null):(Itemeditor2=new PopupList,Itemeditor2.A({k:e,Ug:new ShopEditor,list:ObjectLists.Kb(),name:"Item List"},{$w:!1,ex:!1,add:!1}),Itemeditor2.pa(),e.f(Itemeditor2));break;case "Edit":e.un=!1;e.Rd=this.R.index;e.pj=c;e.Zd(3);break;case "Delete":e.Rd=this.R.index,e.pj=c,e.wS(d)}};h.R=ListView.create(h);h.R.index=g;h.R.mc(k);
h.f(h.R)}d=q.Y.create(q.i(70,200,70,255),90,26);f=q.S.create("+","Arial",20);f.l(45,13);f.w(q.a(0.5,0.5));d.l(q.a(185,0));d.Oa="Add";d.f(f);c.push([d]);a.push(d);this.b.main_panel.tab2.list.bc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(468,c)};this.b.main_panel.tab2.list.Vb=function(){return a.length};this.b.main_panel.tab2.list.kc=function(c){return a[c].c()};this.b.main_panel.tab2.list.jc=function(c){return a[c]};this.b.main_panel.tab2.list.rf=function(c){return a[c].Ib};
this.b.main_panel.tab2.list.mb=function(a,c,d){if(2==e.Sb)switch(a){case "Add":if(Shopeditor)Shopeditor.Aa(),Shopeditor.K(),Shopeditor=null;else{Shopeditor=new PopupList;a=ObjectLists.aq();c=[];for(var f in a)c.push({name:a[f].name});for(f=0;f<e.data.value.length;f++)c[e.data.value[f].shopid]={};0<c.length&&(Shopeditor.A({k:e,Ug:new ShopEditor,list:c,name:"Shop List"}),Shopeditor.pa(),e.f(Shopeditor))}break;case "Delete":e.Rd=c,e.DS(d)}};this.b.main_panel.tab2.list.R=ListView.create(this.b.main_panel.tab2.list);
this.b.main_panel.tab2.list.R.mc(c);this.b.main_panel.tab2.list.f(this.b.main_panel.tab2.list.R)},wR:function(a){this.data.value.push({shopid:a,sell:[],buy:[]});this.hm()},BS:function(a){this.da.f(DropDownList.Sc(this,this.CS,["Delete","Cancel"],a.T))},CS:function(a){0==a&&(this.k.data.value[this.k.Rd].sell.splice(this.k.pj,1),this.k.hm());this.k.Rd=null;this.k.pj=null},DS:function(a){this.da.f(DropDownList.Sc(this,this.ES,["Delete","Cancel"],a.T))},ES:function(a){0==a&&(this.k.data.value.splice(this.k.Rd,
1),this.k.hm());this.k.Rd=null},wS:function(a){this.da.f(DropDownList.Sc(this,this.xS,["Delete","Cancel"],a.T))},xS:function(a){0==a&&(this.k.data.value[this.k.Rd].buy.splice(this.k.pj,1),this.k.hm());this.k.Rd=null;this.k.pj=null},vR:function(a,c){this.data.value[a].sell.push({id:c,amount:1});this.hm()},tR:function(a,c){this.data.value[a].buy.push({id:c,amount:1});this.hm()},Ab:function(){this.lc(this.Ab);this.b.main_panel.tab1.tiles.ja()&&!0==this.b.main_panel.tab1.tiles.ja().Qc&&(this.Oc(this.Ab),
this.b.main_panel.tab1.tiles.jb(q.rect(Math.floor(32*this.V.x),Math.floor(32*this.V.y),320>v[this.ca].texture.c().width?v[this.ca].texture.c().width:320,256>v[this.ca].texture.c().height?v[this.ca].texture.c().height:256)))},vb:function(a){if(this._super(a))return!0;this.Wd=null;a=a.T;var c=this.b.main_panel.Ja(q.a(a.x,a.y));if(H(this.b.main_panel.tab1Clickable,c))return this.Zd(1),!0;if(H(this.b.main_panel.tab2Clickable,c))return this.Zd(2),!0;if(3==this.Sb){if(H(this.b.main_panel.tab3.okbtn,c)){if(null==
this.Np.Z()||""==this.Np.Z()||0>=this.Np.Z())return!0;!0==this.un?this.data.value[this.Rd].sell[this.pj].amount=this.Np.Z():this.data.value[this.Rd].buy[this.pj].amount=this.Np.Z();this.Zd(2);this.hm();return!0}if(H(this.b.main_panel.tab3.cancelbtn,c))return this.Zd(2),!0}if(1==this.Sb){if(H(this.b.main_panel.tab1.okbtn,c)){if(null==this.sb.Z()||""==this.sb.Z())return!0;this.Xg=!0;this.data.description=this.ax.Z();this.data.name=this.sb.Z();this.data.script=this.Yh;this.k.Sd(this.data);return!0}H(this.b.main_panel.tab1.scriptbtn,
c)&&(Scripteditor?(Scripteditor.Aa(),Scripteditor.K(),Scripteditor=null):(Scripteditor=new PopupList,Scripteditor.A({k:this,Ug:new ScriptEditor,list:ObjectLists.Me(),name:"Script List"}),Scripteditor.pa(),this.f(Scripteditor)));if(H(this.b.main_panel.tab1.cancelbtn,c)){this.Xg=!0;var d=this.k;this.k.Yd(function(){d.Sd(null)});return!0}if(H(this.b.main_panel.tab1.leftbtn,c))return 264<v[this.ca].texture.c().width&&0<this.V.x&&(this.V.x--,this.Ab()),!0;if(H(this.b.main_panel.tab1.rightbtn,c))return 320<
v[this.ca].texture.c().width&&this.V.x<(v[this.ca].texture.c().width-320)/32&&(this.V.x++,this.Ab()),!0;if(H(this.b.main_panel.tab1.upbtn,c))return 320<v[this.ca].texture.c().height&&0<this.V.y&&(this.V.y--,this.Ab()),!0;if(H(this.b.main_panel.tab1.downbtn,c))return 320<v[this.ca].texture.c().height&&this.V.y<(v[this.ca].texture.c().height-320)/32&&(this.V.y++,this.Ab()),!0;if(H(this.b.main_panel.tab1.texturerightbtn,c))return this.ho(),!0;if(H(this.b.main_panel.tab1.textureleftbtn,c))return this.io(),
!0;if(H(this.b.main_panel.tab1.stackbtn,c))return this.GE(),!0;c=this.b.main_panel.tab1.tiles.Ja(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.c().width&&c.y<=this.b.main_panel.tab1.tiles.c().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+16;this.b.main_panel.tab1.selectednode.ua(0);if(this.b.main_panel.tab1.selectednode.u.J!=c.x||this.b.main_panel.tab1.selectednode.u.U!=c.y)this.b.main_panel.tab1.selectednode.ua(127),this.b.main_panel.tab1.selectednode.l(c);a=q.a((this.b.main_panel.tab1.selectednode.u.J-
16)/32+this.V.x,8-(this.b.main_panel.tab1.selectednode.u.U-16)/32+this.V.y-1);this.data.sprite.position=a;return!0}}return!1},GE:function(){this.data.stackable=!this.data.stackable;this.b.main_panel.tab1.stackbtn.q(C);this.b.main_panel.tab1.stackbtn.text.na("No");!0==this.data.stackable&&(this.b.main_panel.tab1.stackbtn.q(pa),this.b.main_panel.tab1.stackbtn.text.na("Yes"))},ho:function(){this.ca>=v.length-1&&(this.ca=-1);this.ca++;this.b.main_panel.tab1.tiles.ma(v[this.ca].texture);this.Tb=v[this.ca].name;
this.b.main_panel.tab1.textureName.text.na(this.Tb);this.data.sprite.texture=this.Tb;this.V=q.a(0,0);this.Ab()},io:function(){0>=this.ca&&(this.ca=v.length);this.ca--;this.b.main_panel.tab1.tiles.ma(v[this.ca].texture);this.Tb=v[this.ca].name;this.b.main_panel.tab1.textureName.text.na(this.Tb);this.V=q.a(0,0);this.Ab()}});Settingseditor=null;
SettingsEditor=Popup.extend({data:null,F:null,fb:null,Jc:function(){return"Settings Editor"},Aa:function(){this._super()},A:function(){this._super();this.data=I(G)},Dj:function(a){z({savequests:a+"",questdata:this.data})},rj:function(a,c){z({savequestswhole:c})},pa:function(){this._super();this.ob()},ob:function(){this.F&&this.F.cc();var a=[],c=[],d=q.ga.g(),e=0,f;for(f in this.data){if("ISSECTION"!=this.data[f]){a[e]=q.G.create();a[e].O(324,32);var g=q.S.create(f,"Arial",18);g.w(q.a(0,0));g.l(q.a(4,
0));g.Wa(q.size(246,0));g.q(q.n(100,0,0));a[e].f(g);a[e].O(324,g.c().height+4);g=[];c.push(g);e++}a[e]=q.G.create();a[e].O(324,32);var h=q.Y.create(q.i(0,0,0,127),316,1);h.l(q.a(4,0));if("ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]){var k=q.v.Ka(d.la("GUI/edit.png"));k.l(q.a(300,0));k.w(q.a(0,0))}if("ISSECTION"==this.data[f]){var l=q.S.create(f,"Arial",22);l.q(q.n(255,0,0))}else l=q.S.create(this.data[f],"Arial",15),l.q(q.n(0,0,0));l.w(q.a(0,0));l.l(q.a(4,4));l.Wa(q.size(246,0));g=[];"ISSECTION"!=
this.data[f]&&"ISYESNO"!=this.data[f]&&(k.Oa="Edit",g=[],g.push(k));c.push(g);a[e].f(h);"ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]&&a[e].f(k);a[e].f(l);"ISSECTION"==this.data[f]?a[e].O(324,l.c().height+12):a[e].O(324,l.c().height+8);"ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]&&k.yc((l.c().height+8)/2-10);e++}this.F=this.b.main_panel.list;var m=this;this.F.bc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(324,c)};this.F.Vb=function(){return a.length};this.F.kc=
function(c){return a[c].c()};this.F.jc=function(c){return a[c]};this.F.mb=function(a,c,d){m.Ja(d.T);if(!0!=m.Tf)switch(a){case "Edit":a=0;d="";for(var e in m.data){if(a==c){d=e;break}a++;if("ISSECTION"!=m.data[e]){if(a==c){d=e;break}a++}}m.fb=d;m.JC(d)}};this.F.R=ListView.create(this.F);this.F.R.mc(c);this.F.f(this.F.R)},uc:function(){return{panels:{position:q.a(300,200),children:{background_image:{aa:"GUI/list_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(365,328),children:{savebtn:{size:q.size(64,
32),color:q.i(0,255,0,255),position:q.a(241,292),e:q.a(0,0),children:{content:{label:"Save",color:q.n(0,0,0),position:q.a(32,16),e:q.a(0.5,0.5)}}},list:{size:q.size(324,284),color:q.i(0,200,200,200),position:q.a(0,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Settings Editor",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),e:q.a(0,0),aa:"GUI/close.png"}}}}}}},qf:null,ra:null,JC:function(a){null!=
this.ra&&(this.ra.cc(),this.qf=null,this.ra.K(),this.fb=this.ra=null);this.ra=q.Y.create(q.i(255,255,255,200),200,200);this.ra.l(q.a((this.b.main_panel.c().width-200)/2,(this.b.main_panel.c().height-200)/2));this.qf=new $(this.ra,q.size(190,150),q.a(0,this.ra.c().height),this.data[a],q.i(100,100,100),q.n(255,255,255),!0);this.qf.ib(!0);this.qf.aL(!0);a=q.Y.create(q.i(0,200,255,255),64,32);a.l(q.a(14,9));var c=q.S.create("OK","Arial",16);c.q(q.n(0,0,0));c.l(32,16);c.w(q.a(0.5,0.5));a.f(c);c=q.Y.create(q.i(200,
0,0,255),64,32);c.l(q.a(120,9));var d=q.S.create("Cancel","Arial",16);d.q(q.n(0,0,0));d.l(32,16);d.w(q.a(0.5,0.5));c.f(d);this.b.main_panel.f(this.ra);this.ra.f(a);this.ra.BD=a;this.ra.f(c);this.ra.cancel=c},vb:function(a){if(this._super(a))return!0;this.Wd=null;a=a.T;if(null!=this.ra){a=this.ra.Ja(a);if(H(this.ra.BD,a))return this.data[this.fb]=this.qf.Z(),this.ra.cc(),this.qf=null,this.ra.K(),this.fb=this.ra=null,this.ob(),!0;H(this.ra.cancel,a)&&(this.ra.cc(),this.qf=null,this.ra.K(),this.fb=this.ra=
null);return!0}a=this.b.main_panel.Ja(a);return H(this.b.main_panel.savebtn,a)?(G=I(this.data),console.log(G),console.log(this.data),z({savesettings:this.data}),W.LE(this.data,Date.now()),!0):H(this.b.main_panel,a)?!0:!1}});Questeditor=null;
QuestEditor=Popup.extend({data:null,F:null,k:null,fb:null,Jc:function(){return"Quest Editor"},Aa:function(a){this._super();if(this.k){var c=this.k;!0!=a&&this.k.Yd(function(){c.Sd(null)})}},A:function(a){this._super();this.data={name:"",objectiveList:["Unstarted","Initial Objective. Click edit to change this first objective. Click the '+' to add another object. You cannot delete every objective (you need at least one)","Finished"]};this.k=a.k;a&&a.data&&(this.data=a.data)},Dj:function(a){z({savequests:a+"",
questdata:this.data})},rj:function(a,c){z({savequestswhole:c})},pa:function(){this._super();this.ob();this.sb=new $(this.b.main_panel.nameBox,q.size(this.b.main_panel.nameBox.c().width,this.b.main_panel.nameBox.c().height),q.a(0,this.b.main_panel.nameBox.c().height),this.data.name?this.data.name:"",q.i(255,255,255,255),q.n(0,0,0));this.sb.ib(!0)},ob:function(){this.F&&this.F.cc();var a=[],c=[],d=q.ga.g();this.tI={};var e;console.log(this.data.objectiveList);for(e=0;e<this.data.objectiveList.length-
1;e++)if(a[e]=q.G.create(),a[e].O(324,32),null==this.data.objectiveList[e])this.data.objectiveList.splice(e,1);else{var f=q.v.create();f.jb(q.rect(0,0,316,1));f.q(q.i(0,0,0,127));f.w(q.a(0,0));f.l(q.a(4,0));var g=q.v.Ka(d.la("GUI/edit.png"));g.l(q.a(272,0));g.w(q.a(0,0));var h=q.v.Ka(d.la("GUI/trash.png"));h.l(q.a(300,0));h.w(q.a(0,0));var k=q.S.create(this.data.objectiveList[e],"Arial",15);k.w(q.a(0,0));k.l(q.a(4,4));k.Wa(q.size(246,0));k.q(q.n(0,0,0));if(0<e){g.Oa="Edit";var l=[];l.push(g)}1<e&&
(h.Oa="Delete",l.push(h));c.push(l);a[e].f(f);0<e&&a[e].f(g);1<e&&a[e].f(h);a[e].f(k);a[e].O(324,k.c().height+8);g.yc((k.c().height+8)/2-10);h.yc((k.c().height+8)/2-10)}d=q.v.create();d.jb(q.rect(0,0,90,26));d.q(q.i(70,200,70,255));d.w(q.a(0,0));f=q.S.create("+","Arial",20);f.l(45,13);f.w(q.a(0.5,0.5));d.l(q.a(120,0));d.Oa="Add";d.f(f);c.push([d]);a.push(d);a[e+1]=q.G.create();a[e+1].O(324,32);f=q.v.create();f.jb(q.rect(0,0,316,1));f.q(q.i(0,0,0,127));f.w(q.a(0,0));f.l(q.a(4,0));k=q.S.create(this.data.objectiveList[e],
"Arial",15);k.w(q.a(0,0));k.l(q.a(4,4));k.Wa(q.size(246,0));k.q(q.n(0,0,0));c.push([]);a[e+1].f(f);a[e+1].f(k);a[e+1].O(324,k.c().height+8);g.yc((k.c().height+8)/2-10);h.yc((k.c().height+8)/2-10);delete e;this.F=this.b.main_panel.list;var m=this;this.F.bc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(324,c)};this.F.Vb=function(){return a.length};this.F.kc=function(c){return a[c].c()};this.F.jc=function(c){return a[c]};this.F.mb=function(a,c,d){m.Ja(d.T);if(!0!=m.Tf)switch(a){case "Delete":null!=
m.ra&&(m.ra.cc(),m.qf=null,m.ra.K(),m.ra=null,m.fb=null);m.da.f(DropDownList.Sc(m,m.Os,["Cancel","Delete"],d.T));m.fb=c;break;case "Edit":m.fb=c;m.JC(c);break;case "Add":m.uR()}};this.F.R=ListView.create(this.F);this.F.R.mc(c);this.F.f(this.F.R)},uc:function(){return{panels:{position:q.a(300,200),children:{background_image:{aa:"GUI/list_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(365,328),children:{nameLabel:{label:"Quest Name",color:q.n(0,0,0),position:q.a(8,312),e:q.a(0,0)},nameBox:{size:q.size(150,
32),color:q.i(255,255,255,255),position:q.a(8,277),e:q.a(0,0)},savebtn:{size:q.size(64,32),color:q.i(0,255,0,255),position:q.a(175,277),e:q.a(0,0),children:{content:{label:"Save",color:q.n(0,0,0),position:q.a(32,16),e:q.a(0.5,0.5)}}},exitbtn:{size:q.size(64,32),color:q.i(255,0,0,255),position:q.a(253,277),e:q.a(0,0),children:{content:{label:"Exit",color:q.n(0,0,0),position:q.a(32,16),e:q.a(0.5,0.5)}}},objectivesLabel:{label:"Objectives",color:q.n(0,0,0),position:q.a(8,254),e:q.a(0,0)},list:{size:q.size(324,
250),color:q.i(0,200,200,200),position:q.a(0,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Quest Editor",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),e:q.a(0,0),aa:"GUI/close.png"}}}}}}},Os:function(a){switch(a){case 1:this.k.fb&&(this.k.data.objectiveList.splice(this.k.fb,1),this.k.ob(),this.k.fb=null)}},uR:function(){this.data.objectiveList.splice(this.data.objectiveList.length-1,0,"Blank Objective");
this.ob()},qf:null,ra:null,JC:function(a){null!=this.ra&&(this.ra.cc(),this.qf=null,this.ra.K(),this.fb=this.ra=null);this.ra=q.v.create();this.ra.jb(q.rect(0,0,200,200));this.ra.q(q.i(255,255,255,200));this.ra.w(q.a(0,0));this.ra.l(q.a((this.b.main_panel.c().width-200)/2,(this.b.main_panel.c().height-200)/2));this.qf=new $(this.ra,q.size(190,150),q.a(0,this.ra.c().height),this.data.objectiveList[a],q.i(100,100,100),q.n(255,255,255),!0);this.qf.ib(!0);this.qf.aL(!0);a=q.Y.create(q.i(0,200,255,255),
64,32);a.l(q.a(14,9));var c=q.S.create("OK","Arial",16);c.q(q.n(0,0,0));c.l(32,16);c.w(q.a(0.5,0.5));a.f(c);c=q.Y.create(q.i(200,0,0,255),64,32);c.l(q.a(120,9));var d=q.S.create("Cancel","Arial",16);d.q(q.n(0,0,0));d.l(32,16);d.w(q.a(0.5,0.5));c.f(d);this.b.main_panel.f(this.ra);this.ra.f(a);this.ra.BD=a;this.ra.f(c);this.ra.cancel=c},vb:function(a){if(this._super(a))return!0;a=q.a(a.T.x,a.T.y);if(null!=this.ra){a=this.ra.Ja(a);if(H(this.ra.BD,a))return this.data.objectiveList[this.fb]=this.qf.Z(),
this.ra.cc(),this.qf=null,this.ra.K(),this.fb=this.ra=null,this.ob(),!0;H(this.ra.cancel,a)&&(this.ra.cc(),this.qf=null,this.ra.K(),this.fb=this.ra=null);return!0}a=this.b.main_panel.Ja(a);if(H(this.b.main_panel.savebtn,a)){if(null==this.sb.Z()||""==this.sb.Z())return!0;this.Xg=!0;this.data.name=this.sb.Z();this.k.Sd(this.data);return!0}if(H(this.b.main_panel.exitbtn,a)){this.Xg=!0;var c=this.k;this.k.Yd(function(){c.Sd(null)});return!0}return H(this.b.main_panel,a)?!0:!1}});Mapeditor=null;
MapEditor=Popup.extend({map:null,V:q.a(0,0),sj:"tiles",YJ:null,Yw:"ground1",Tb:v[0].name,ca:0,uc:function(){return{panels:{position:q.a(300,10),children:{main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(420,400),color:q.i(0,0,100,120),children:{tab1:{children:{tiles:{e:q.a(0,1),position:q.a(16,336),aa:v[0].name},scriptbtn:{position:q.a(360,360),size:q.size(128,26),color:B,e:q.a(0,0),children:{text:{label:"Script",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.n(0,0,0)}}},textureleftbtn:{position:q.a(200,
360),size:q.size(16,32),aa:"GUI/texture_change_left.png",e:q.a(0,0)},texturerightbtn:{position:q.a(310,360),size:q.size(16,32),aa:"GUI/texture_change_right.png",e:q.a(0,0)},textureName:{position:q.a(214,360),size:q.size(96,32),aa:"GUI/texture_change_middle.png",e:q.a(0,0),children:{text:{label:v[0].name,fontSize:12,e:q.a(0.5,0.5),position:q.a(48,16),color:q.n(0,0,0)}}},deletebtn:{position:q.a(360,308),size:q.size(60,32),color:B,e:q.a(0,0),children:{text:{label:"Erase",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,
16),color:q.n(0,0,0)}}},leftbtn:{position:q.a(0,16),size:q.size(16,320),color:q.i(0,0,255,255),e:q.a(0,0),children:{text:{label:"\x3c",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,160),color:q.n(255,255,255)}}},rightbtn:{position:q.a(336,16),size:q.size(16,320),color:q.i(0,0,255,255),e:q.a(0,0),children:{text:{label:"\x3e",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,160),color:q.n(255,255,255)}}},upbtn:{position:q.a(16,336),size:q.size(320,16),color:q.i(0,0,255,255),e:q.a(0,0),children:{text:{label:"^",
fontSize:12,e:q.a(0.5,0.5),position:q.a(160,8),color:q.n(255,255,255)}}},downbtn:{position:q.a(16,0),size:q.size(320,16),color:q.i(0,0,255,255),e:q.a(0,0),children:{text:{label:"v",fontSize:12,e:q.a(0.5,0.5),position:q.a(160,8),color:q.n(255,255,255)}}},fillbtn:{position:q.a(428,308),size:q.size(60,32),color:B,e:q.a(0,0),children:{text:{label:"Fill",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,16),color:q.n(0,0,0)}}},ground1btn:{position:q.a(360,278),size:q.size(128,26),color:pa,e:q.a(0,0),children:{text:{label:"Ground 1",
fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.n(0,0,0)}}},ground2btn:{position:q.a(360,248),size:q.size(128,26),color:B,e:q.a(0,0),children:{text:{label:"Ground 2",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.n(0,0,0)}}},ground3btn:{position:q.a(360,218),size:q.size(128,26),color:B,e:q.a(0,0),children:{text:{label:"Ground 3",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.n(0,0,0)}}},mask1btn:{position:q.a(360,188),size:q.size(128,26),color:B,e:q.a(0,0),children:{text:{label:"Mask 1",
fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.n(0,0,0)}}},mask2btn:{position:q.a(360,158),size:q.size(128,26),color:B,e:q.a(0,0),children:{text:{label:"Mask 2",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.n(0,0,0)}}},mask3btn:{position:q.a(360,128),size:q.size(128,26),color:B,e:q.a(0,0),children:{text:{label:"Mask 3",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.n(0,0,0)}}},fringe1btn:{position:q.a(360,98),size:q.size(128,26),color:B,e:q.a(0,0),children:{text:{label:"Fringe 1",
fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.n(0,0,0)}}},fringe2btn:{position:q.a(360,68),size:q.size(128,26),color:B,e:q.a(0,0),children:{text:{label:"Fringe 2",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.n(0,0,0)}}},fringe3btn:{position:q.a(360,8),size:q.size(128,26),color:B,e:q.a(0,0),children:{text:{label:"Fringe 3",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.n(0,0,0)}}},highlightnode:{e:q.a(0,0),position:q.a(0,0),size:q.size(M,M),color:q.i(255,100,100,255)},selectednode:{e:q.a(0,
0),position:q.a(0,0),size:q.size(M,M),color:q.i(100,255,100,255)}}},tab2:{children:{saveBack:{position:q.a(0,78),size:q.size(200,60),color:q.i(0,255,0,100),e:q.a(0,0)},deleteback:{position:q.a(0,138),size:q.size(200,60),color:q.i(255,0,0,100),e:q.a(0,0)},mapnumsback:{position:q.a(0,198),size:q.size(200,162),color:q.i(0,0,0,170),e:q.a(0,0)},mapUp_text:{label:"Map Up",fontSize:10,e:q.a(0.5,0),position:q.a(100,344)},mapUp_entry:{size:q.size(60,32),position:q.a(70,312)},mapDown_text:{label:"Map Down",
fontSize:10,e:q.a(0.5,0),position:q.a(100,232)},mapDown_entry:{size:q.size(60,32),position:q.a(70,200)},mapLeft_text:{label:"Map Left",fontSize:10,e:q.a(0.5,0),position:q.a(38,290)},mapLeft_entry:{size:q.size(60,32),position:q.a(8,258)},mapRight_text:{label:"Map Right",fontSize:10,e:q.a(0.5,0),position:q.a(162,290)},mapRight_entry:{size:q.size(60,32),position:q.a(132,258)},mapHeight_text:{label:"Map Height",fontSize:10,e:q.a(0.5,0),position:q.a(162,122)},mapHeight_entry:{size:q.size(60,32),position:q.a(128,
90),color:q.n(255,255,255)},mapWidth_text:{label:"Map Width",fontSize:10,e:q.a(0,0),position:q.a(10,122)},mapWidth_entry:{size:q.size(60,32),position:q.a(10,90),color:q.n(255,255,255)},this_map:{position:q.a(70,248),size:q.size(60,60),color:B,e:q.a(0,0),children:{text:{label:"THIS MAP\n#"+V.sf(),fontSize:12,e:q.a(0.5,0.5),position:q.a(30,30),color:q.n(0,0,0)}}},clearbtn:{position:q.a(70,150),size:q.size(60,32),color:B,e:q.a(0,0),children:{text:{label:"Clear",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,
16),color:q.n(0,0,0)}}},clear_text:{label:"Clear Map: You sure?",fontSize:14,e:q.a(0.5,0),position:q.a(100,182)},clearbtnNo:{position:q.a(10,150),size:q.size(60,32),color:B,e:q.a(0,0),children:{text:{label:"NO",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,16),color:q.n(0,0,0)}}},clearbtnYes:{position:q.a(130,150),size:q.size(60,32),color:B,e:q.a(0,0),children:{text:{label:"YES",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,16),color:q.n(0,0,0)}}},savebtn:{position:q.a(70,16),size:q.size(60,32),color:B,
e:q.a(0,0),children:{text:{label:"Save",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,16),color:q.n(0,0,0)}}},save_text:{label:"Save Map: You sure?",fontSize:14,e:q.a(0.5,0),position:q.a(100,52)},savebtnNo:{position:q.a(10,16),size:q.size(60,32),color:B,e:q.a(0,0),children:{text:{label:"NO",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,16),color:q.n(0,0,0)}}},savebtnYes:{position:q.a(130,16),size:q.size(60,32),color:B,e:q.a(0,0),children:{text:{label:"YES",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,16),
color:q.n(0,0,0)}}}}},tab1Clickable:{position:q.a(0,380),size:q.size(60,20),color:B,e:q.a(0,0),children:{text:{label:"Editor",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,10),color:q.n(0,0,0)}}},tab2Clickable:{position:q.a(62,380),size:q.size(60,20),color:B,e:q.a(0,0),children:{text:{label:"Settings",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,10),color:q.n(0,0,0)}}}}},control_panel:{e:q.a(0,0),position:q.a(0,400),size:q.size(420,32),color:q.i(255,0,0,200),children:{header:{label:"Map Editor - Map #"+
V.sf(),fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(391,3),size:q.size(26,26),e:q.a(0,0),color:q.i(255,255,255,200),children:{content:{label:"X",fontSize:20,color:q.n(0,0,0),e:q.a(0.5,0.5),position:q.a(13,13)}}}}}}}}},Jc:function(){return"MapEditor"},V:null,Dx:null,Ax:null,Bx:null,Cx:null,yD:null,xD:null,Hj:null,Sb:0,Yh:null,A:function(a){this._super();this.map=a;this.V=q.a(0,0);this.Hj=[null,496,200]},pa:function(){this._super();this.b.main_panel.tab1.highlightnode.ua(0);this.b.main_panel.tab1.selectednode.ua(0);
this.Dx=new $(this.b.main_panel.tab2.mapUp_entry,q.size(this.b.main_panel.tab2.mapUp_entry.c().width,this.b.main_panel.tab2.mapUp_entry.c().height),q.a(0,this.b.main_panel.tab2.mapUp_entry.c().height),V.tJ()?V.VC():"",q.i(100,100,100),q.n(255,255,255));this.Dx.ib(!0);this.Dx.Vc(!0);this.Ax=new $(this.b.main_panel.tab2.mapDown_entry,q.size(this.b.main_panel.tab2.mapDown_entry.c().width,this.b.main_panel.tab2.mapDown_entry.c().height),q.a(0,this.b.main_panel.tab2.mapDown_entry.c().height),V.qJ()?V.SC():
"",q.i(100,100,100),q.n(255,255,255));this.Ax.ib(!0);this.Ax.Vc(!0);this.Bx=new $(this.b.main_panel.tab2.mapLeft_entry,q.size(this.b.main_panel.tab2.mapLeft_entry.c().width,this.b.main_panel.tab2.mapLeft_entry.c().height),q.a(0,this.b.main_panel.tab2.mapLeft_entry.c().height),V.rJ()?V.TC():"",q.i(100,100,100),q.n(255,255,255));this.Bx.ib(!0);this.Bx.Vc(!0);this.Cx=new $(this.b.main_panel.tab2.mapRight_entry,q.size(this.b.main_panel.tab2.mapRight_entry.c().width,this.b.main_panel.tab2.mapRight_entry.c().height),
q.a(0,this.b.main_panel.tab2.mapRight_entry.c().height),V.sJ()?V.UC():"",q.i(100,100,100),q.n(255,255,255));this.Cx.ib(!0);this.Cx.Vc(!0);this.yD=new $(this.b.main_panel.tab2.mapWidth_entry,q.size(this.b.main_panel.tab2.mapWidth_entry.c().width,this.b.main_panel.tab2.mapWidth_entry.c().height),q.a(0,this.b.main_panel.tab2.mapWidth_entry.c().height),V.$I()?V.$I():36,q.i(255,255,255),q.n(0,0,0));this.yD.ib(!0);this.xD=new $(this.b.main_panel.tab2.mapHeight_entry,q.size(this.b.main_panel.tab2.mapHeight_entry.c().width,
this.b.main_panel.tab2.mapHeight_entry.c().height),q.a(0,this.b.main_panel.tab2.mapHeight_entry.c().height),V.ZI()?V.ZI():36,q.i(255,255,255),q.n(0,0,0));this.xD.ib(!0);this.gy(!1);this.hy(!1);this.Zd(1);this.Ab();V.AL(!0)},ao:function(a){Scripteditor&&(Scripteditor.Aa(),this.Yd(function(){Scripteditor.K();Scripteditor=null}),this.Yh=a,this.qc(!0))},Aa:function(){this._super();V.AL(!1)},Vh:function(a){a=a.T;if(1==this.Sb&&(this.b.main_panel.tab1.highlightnode.ua(0),a=this.b.main_panel.tab1.tiles.Ja(a),
0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.c().width&&a.y<=this.b.main_panel.tab1.tiles.c().height))return a.x=a.x-a.x%M+16,a.y=a.y-a.y%M+16,this.b.main_panel.tab1.highlightnode.ua(127),this.b.main_panel.tab1.highlightnode.l(a),!0},Zd:function(a){if(a!=this.Sb){this.b.main_panel.O(this.Hj[a],this.b.main_panel.c().height);this.b.control_panel.O(this.Hj[a],this.b.control_panel.c().height);if(2==this.Sb||0==this.Sb)this.b.main_panel.tab2.mapUp_entry.Pa(this.b.main_panel.tab2.mapUp_entry.u.J-1E3),
this.b.main_panel.tab2.mapLeft_entry.Pa(this.b.main_panel.tab2.mapLeft_entry.u.J-1E3),this.b.main_panel.tab2.mapDown_entry.Pa(this.b.main_panel.tab2.mapDown_entry.u.J-1E3),this.b.main_panel.tab2.mapRight_entry.Pa(this.b.main_panel.tab2.mapRight_entry.u.J-1E3),this.b.main_panel.tab2.mapWidth_entry.Pa(this.b.main_panel.tab2.mapWidth_entry.u.J-1E3),this.b.main_panel.tab2.mapHeight_entry.Pa(this.b.main_panel.tab2.mapHeight_entry.u.J-1E3);1!=this.Sb||"erasing"!=this.sj&&"tiles"!=this.sj||(this.sj="blocking");
this.Sb=a;this.b.main_panel.tab1.B(!1);this.b.main_panel.tab2.B(!1);this.b.main_panel.tab1Clickable.q(B);this.b.main_panel.tab2Clickable.q(B);this.b.main_panel["tab"+a].B(!0);this.b.main_panel["tab"+a+"Clickable"].q(q.i(255,255,0,255));2==a&&(this.b.main_panel.tab2.mapUp_entry.Pa(this.b.main_panel.tab2.mapUp_entry.u.J+1E3),this.b.main_panel.tab2.mapLeft_entry.Pa(this.b.main_panel.tab2.mapLeft_entry.u.J+1E3),this.b.main_panel.tab2.mapDown_entry.Pa(this.b.main_panel.tab2.mapDown_entry.u.J+1E3),this.b.main_panel.tab2.mapRight_entry.Pa(this.b.main_panel.tab2.mapRight_entry.u.J+
1E3),this.b.main_panel.tab2.mapWidth_entry.Pa(this.b.main_panel.tab2.mapWidth_entry.u.J+1E3),this.b.main_panel.tab2.mapHeight_entry.Pa(this.b.main_panel.tab2.mapHeight_entry.u.J+1E3));this.b.control_panel.exitBtn.Pa(this.Hj[a]-29)}},Ab:function(){this.lc(this.Ab);this.b.main_panel.tab1.tiles.ja()&&!0==this.b.main_panel.tab1.tiles.ja().Qc&&(this.Oc(this.Ab),this.b.main_panel.tab1.tiles.jb(q.rect(Math.floor(M*this.V.x),Math.floor(M*this.V.y),320>v[this.ca].texture.c().width?v[this.ca].texture.c().width:
320,320>v[this.ca].texture.c().height?v[this.ca].texture.c().height:320)))},vb:function(a){if(this._super(a))return!0;this.Wd=null;a=a.T;var c=this.b.main_panel.Ja(a);if(H(this.b.main_panel.tab1Clickable,c))return this.Zd(1),!0;if(H(this.b.main_panel.tab2Clickable,c))return this.Zd(2),!0;if(1==this.Sb){if(H(this.b.main_panel.tab1.scriptbtn,c))return this.sj="script"==this.sj?"tiles":"script","script"==this.sj&&(null==Scripteditor||Scripteditor.da||(Scripteditor=null),Scripteditor&&(Scripteditor.Aa(),
Scripteditor.K(),Scripteditor=null),Scripteditor=new ScriptingList,Scripteditor.A({k:this,Ug:new ScriptEditor,list:ObjectLists.Me(),name:"Script List"}),Scripteditor.pa(),this.da.f(Scripteditor),this.qc(!1),this.b.main_panel.tab1.scriptbtn.q(C)),!0;if(H(this.b.main_panel.tab1.leftbtn,c))return 320<v[this.ca].texture.c().width&&0<this.V.x&&(this.V.x--,this.Ab()),!0;if(H(this.b.main_panel.tab1.rightbtn,c))return 320<v[this.ca].texture.c().width&&this.V.x<(v[this.ca].texture.c().width-320)/M&&(this.V.x++,
this.Ab()),!0;if(H(this.b.main_panel.tab1.upbtn,c))return 320<v[this.ca].texture.c().height&&0<this.V.y&&(this.V.y--,this.Ab()),!0;if(H(this.b.main_panel.tab1.downbtn,c))return 320<v[this.ca].texture.c().height&&this.V.y<(v[this.ca].texture.c().height-320)/M&&(this.V.y++,this.Ab()),!0;if(H(this.b.main_panel.tab1.ground1btn,c))return this.Jk("ground1"),!0;if(H(this.b.main_panel.tab1.ground2btn,c))return this.Jk("ground2"),!0;if(H(this.b.main_panel.tab1.ground3btn,c))return this.Jk("ground3"),!0;if(H(this.b.main_panel.tab1.mask1btn,
c))return this.Jk("mask1"),!0;if(H(this.b.main_panel.tab1.mask2btn,c))return this.Jk("mask2"),!0;if(H(this.b.main_panel.tab1.mask3btn,c))return this.Jk("mask3"),!0;if(H(this.b.main_panel.tab1.fringe1btn,c))return this.Jk("fringe1"),!0;if(H(this.b.main_panel.tab1.fringe2btn,c))return this.Jk("fringe2"),!0;if(H(this.b.main_panel.tab1.fringe3btn,c))return this.Jk("fringe3"),!0;if(H(this.b.main_panel.tab1.texturerightbtn,c))return this.ho(),!0;if(H(this.b.main_panel.tab1.textureleftbtn,c))return this.io(),
!0;if(H(this.b.main_panel.tab1.deletebtn,c))return this.sj="erasing"==this.sj?"tiles":"erasing",this.b.main_panel.tab1.deletebtn.q(B),"erasing"==this.sj&&this.b.main_panel.tab1.deletebtn.q(C),!0;if(H(this.b.main_panel.tab1.fillbtn,c))return 0!=this.b.main_panel.tab1.selectednode.uj()&&(V.ZS(v[this.ca].name,q.a((this.b.main_panel.tab1.selectednode.u.J-16)/M+this.V.x,Math.floor(320/M)-1-(this.b.main_panel.tab1.selectednode.u.U-16)/M+this.V.y),this.Yw),V.Ht()),!0;c=this.b.main_panel.tab1.tiles.Ja(a);
if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.c().width&&c.y<=this.b.main_panel.tab1.tiles.c().height){c.x=c.x-c.x%M+16;c.y=c.y-c.y%M+16;this.b.main_panel.tab1.selectednode.ua(0);if(this.b.main_panel.tab1.selectednode.u.J!=c.x||this.b.main_panel.tab1.selectednode.u.U!=c.y)this.b.main_panel.tab1.selectednode.ua(127),this.b.main_panel.tab1.selectednode.l(c);return!0}}if(2==this.Sb){if(H(this.b.main_panel.tab2.clearbtn,c))return this.gy(!0),!0;if(H(this.b.main_panel.tab2.clearbtnNo,c))return this.gy(!1),
!0;if(H(this.b.main_panel.tab2.clearbtnYes,c))return V.pf(),this.gy(!1),!0;if(H(this.b.main_panel.tab2.savebtn,c))return this.hy(!0),!0;if(H(this.b.main_panel.tab2.savebtnNo,c))return this.hy(!1),!0;if(H(this.b.main_panel.tab2.savebtnYes,c))return V.uX({up:this.Dx.Z(),down:this.Ax.Z(),left:this.Bx.Z(),right:this.Cx.Z(),width:this.yD.Z(),height:this.xD.Z()}),V.NY(),this.hy(!1),!0}return!1},Jk:function(a){this.b.main_panel.tab1.ground1btn.q(B);this.b.main_panel.tab1.ground2btn.q(B);this.b.main_panel.tab1.ground3btn.q(B);
this.b.main_panel.tab1.mask1btn.q(B);this.b.main_panel.tab1.mask2btn.q(B);this.b.main_panel.tab1.mask3btn.q(B);this.b.main_panel.tab1.fringe1btn.q(B);this.b.main_panel.tab1.fringe2btn.q(B);this.b.main_panel.tab1.fringe3btn.q(B);this.b.main_panel.tab1[a+"btn"].q(pa);this.Yw=a},ho:function(){this.ca>=v.length-1&&(this.ca=-1);this.ca++;this.b.main_panel.tab1.tiles.ma(v[this.ca].texture);this.Tb=v[this.ca].name;this.b.main_panel.tab1.textureName.text.na(this.Tb);this.V=q.a(0,0);this.Ab()},io:function(){0>=
this.ca&&(this.ca=v.length);this.ca--;this.b.main_panel.tab1.tiles.ma(v[this.ca].texture);this.Tb=v[this.ca].name;this.b.main_panel.tab1.textureName.text.na(this.Tb);this.V=q.a(0,0);this.Ab()},gy:function(a){this.b.main_panel.tab2.clearbtnYes.B(a);this.b.main_panel.tab2.clearbtnNo.B(a);this.b.main_panel.tab2.clear_text.B(a);this.b.main_panel.tab2.clearbtn.B(!a)},hy:function(a){this.b.main_panel.tab2.savebtnYes.B(a);this.b.main_panel.tab2.savebtnNo.B(a);this.b.main_panel.tab2.save_text.B(a);this.b.main_panel.tab2.savebtn.B(!a)},
dM:function(a,c,d){if(a[c]==this.YJ&&"moved"==d)return!1;this.YJ=a[c];switch(this.sj){case "tiles":0!=this.b.main_panel.tab1.selectednode.uj()&&V.$l(c,v[this.ca].name,q.a((this.b.main_panel.tab1.selectednode.u.J-16)/M+this.V.x,Math.floor(320/M)-1-(this.b.main_panel.tab1.selectednode.u.U-16)/M+this.V.y),this.Yw);break;case "script":V.QT(c)?V.HS(c):V.aY(c,this.Yh);break;case "erasing":V.DC(c,this.Yw)}}});NPCeditor=null;
NPCEditor=Popup.extend({Tb:y[0].name,ca:0,ao:function(a,c){Scripteditor&&(Scripteditor.Aa(),Scripteditor.K(),this.Yh=a,this.qc(!0),this.b.main_panel.scriptbtn.text.na(c.name),this.b.main_panel.scriptbtn.q(q.i(0,255,0,255)))},rt:function(){this.b.main_panel.scriptbtn.text.na("None");this.b.main_panel.scriptbtn.q(q.i(255,0,0,255))},uc:function(){return{panels:{position:q.a(300,10),children:{background:{aa:"GUI/itemeditor_bg.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(500,330),
children:{namelbl:{label:"Name:",fontSize:20,e:q.a(0,0),position:q.a(4,292),color:q.n(0,0,0)},name_entry:{position:q.a(74,292),size:q.size(266,32),color:q.i(255,255,255,255)},tiles:{e:q.a(0,1),position:q.a(374,232),aa:y[0].name},textureleftbtn:{position:q.a(362,292),size:q.size(16,32),aa:"GUI/texture_change_left.png",e:q.a(0,0)},texturerightbtn:{position:q.a(471,292),size:q.size(16,32),aa:"GUI/texture_change_right.png",e:q.a(0,0)},textureName:{position:q.a(375,292),size:q.size(96,32),aa:"GUI/texture_change_middle.png",
e:q.a(0,0),children:{text:{label:v[0].name,fontSize:12,e:q.a(0.5,0.5),position:q.a(48,16),color:q.n(0,0,0)}}},upbtn:{position:q.a(374,236),size:q.size(96,16),color:q.i(0,0,255,255),e:q.a(0,0),children:{text:{label:"^",fontSize:12,e:q.a(0.5,0.5),position:q.a(48,8),color:q.n(255,255,255)}}},downbtn:{position:q.a(374,86),size:q.size(96,16),color:q.i(0,0,255,255),e:q.a(0,0),children:{text:{label:"v",fontSize:12,e:q.a(0.5,0.5),position:q.a(48,8),color:q.n(255,255,255)}}},scriptlbl:{label:"Script:",fontSize:12,
e:q.a(0,0),position:q.a(8,262),color:q.n(0,0,0)},scriptbtn:{position:q.a(8,232),size:q.size(128,26),color:C,e:q.a(0,0),children:{text:{label:"None",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.n(0,0,0)}}},okbtn:{position:q.a(434,16),size:q.size(32,32),aa:"GUI/tick_icon.png",e:q.a(0,0)},cancelbtn:{position:q.a(384,16),size:q.size(32,32),aa:"GUI/cross_icon.png",e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,330),size:q.size(500,32),children:{header:{label:"Item Editor",fontSize:20,
e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(476,6),size:q.size(20,20),e:q.a(0,0),aa:"GUI/close.png"}}}}}}},Jc:function(){return"npcEditor"},sb:null,k:null,data:null,A:function(a){this._super();this.data={name:"",sprite:{texture:null,number:null},script:null};this.Tb=y[0].name;this.ca=0;this.k=this.sb=null;this.V=q.a(0,0);this.k=a.k;a&&a.data&&(this.data=a.data,this.data.sprite.number&&(this.V.y=this.data.sprite.number),this.data.script&&(this.Yh=this.data.script))},Dj:function(a){z({savenpcs:a+
"",npcsdata:this.data})},rj:function(a,c){z({savenpcswhole:c})},pa:function(){this._super();for(var a in y)y[a].name==this.data.sprite.texture&&(this.ca=a,this.Tb=y[a].name);this.b.main_panel.textureName.text.na(this.Tb);this.b.main_panel.tiles.ma(y[this.ca].texture);null!=this.data.script&&(this.b.main_panel.scriptbtn.q(q.i(0,255,0,255)),this.b.main_panel.scriptbtn.text.na(ObjectLists.Me()[this.data.script].name),this.Yh=this.data.script);this.sb=new $(this.b.main_panel.name_entry,q.size(this.b.main_panel.name_entry.c().width,
this.b.main_panel.name_entry.c().height),q.a(0,this.b.main_panel.name_entry.c().height),this.data.name?this.data.name:"",q.i(100,100,100),q.n(255,255,255));this.sb.ib(!0);this.Ab()},Aa:function(a){this._super();if(this.k){var c=this.k;!0!=a&&this.k.Yd(function(){c.Sd(null)})}},Ab:function(){this.lc(this.Ab);this.b.main_panel.tiles.ja()&&!0==this.b.main_panel.tiles.ja().Qc&&(this.Oc(this.Ab),this.b.main_panel.tiles.jb(q.rect(Math.floor(96*this.V.x),Math.floor(128*this.V.y),96>y[this.ca].texture.c().width?
y[this.ca].texture.c().width:96,128>y[this.ca].texture.c().height?y[this.ca].texture.c().height:128)))},vb:function(a){if(this._super(a))return!0;this.Wd=null;a=this.b.main_panel.Ja(a.T);if(H(this.b.main_panel.okbtn,a)){if(null==this.sb.Z()||""==this.sb.Z())return!0;this.Xg=!0;this.data.name=this.sb.Z();this.data.sprite.number=this.V.y;this.data.script=this.Yh;this.k.Sd(this.data);return!0}if(H(this.b.main_panel.cancelbtn,a)){this.Xg=!0;var c=this.k;this.k.Yd(function(){c.Sd(null)});return!0}H(this.b.main_panel.scriptbtn,
a)&&(Scripteditor?(Scripteditor.Aa(),Scripteditor.K(),Scripteditor=null):(Scripteditor=new PopupList,Scripteditor.A({k:this,Ug:new ScriptEditor,list:ObjectLists.Me(),name:"Script List"}),Scripteditor.pa(),this.f(Scripteditor)));return H(this.b.main_panel.upbtn,a)?(320<y[this.ca].texture.c().height&&0<this.V.y&&(this.V.y--,this.Ab()),!0):H(this.b.main_panel.downbtn,a)?(320<y[this.ca].texture.c().height&&this.V.y<(y[this.ca].texture.c().height-320)/32&&(this.V.y++,this.Ab()),!0):H(this.b.main_panel.texturerightbtn,
a)?(this.ho(),!0):H(this.b.main_panel.textureleftbtn,a)?(this.io(),!0):!1},GE:function(){this.data.stackable=!this.data.stackable;this.b.main_panel.stackbtn.q(C);this.b.main_panel.stackbtn.text.na("NOT STACKABLE");!0==this.data.stackable&&(this.b.main_panel.stackbtn.q(pa),this.b.main_panel.stackbtn.text.na("IS STACKABLE"))},ho:function(){this.ca>=y.length-1&&(this.ca=-1);this.ca++;this.b.main_panel.tiles.ma(y[this.ca].texture);this.Tb=y[this.ca].name;this.b.main_panel.textureName.text.na(this.Tb);
this.data.sprite.texture=this.Tb;this.V=q.a(0,0);this.Ab()},io:function(){0>=this.ca&&(this.ca=y.length);this.ca--;this.b.main_panel.tiles.ma(y[this.ca].texture);this.Tb=y[this.ca].name;this.b.main_panel.textureName.text.na(this.Tb);this.V=q.a(0,0);this.Ab()}});Shopeditor=null;
ShopEditor=Popup.extend({Tb:y[0].name,ca:0,uc:function(){return{panels:{position:q.a(300,10),children:{background:{aa:"GUI/itemeditor_bg.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(500,330),children:{namelbl:{label:"Name:",fontSize:20,e:q.a(0,0),position:q.a(4,292),color:q.n(0,0,0)},name_entry:{position:q.a(74,292),size:q.size(266,32),color:q.i(255,255,255,255)},okbtn:{position:q.a(434,16),size:q.size(32,32),aa:"GUI/tick_icon.png",e:q.a(0,0)},cancelbtn:{position:q.a(384,16),
size:q.size(32,32),aa:"GUI/cross_icon.png",e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,330),size:q.size(500,32),children:{header:{label:"Item Editor",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(476,6),size:q.size(20,20),e:q.a(0,0),aa:"GUI/close.png"}}}}}}},Jc:function(){return"shopEditor"},sb:null,k:null,data:null,A:function(a){this._super();this.data={name:""};this.Tb=y[0].name;this.ca=0;this.k=this.sb=null;this.k=a.k;a&&a.data&&(this.data=a.data)},Dj:function(a){z({saveshops:a+
"",shopsdata:this.data})},rj:function(a,c){z({saveshopswhole:c})},pa:function(){this._super();this.sb=new $(this.b.main_panel.name_entry,q.size(this.b.main_panel.name_entry.c().width,this.b.main_panel.name_entry.c().height),q.a(0,this.b.main_panel.name_entry.c().height),this.data.name?this.data.name:"",q.i(100,100,100),q.n(255,255,255));this.sb.ib(!0)},Aa:function(a){this._super();if(this.k){var c=this.k;!0!=a&&this.k.Yd(function(){c.Sd(null)})}},vb:function(a){if(this._super(a))return!0;this.Wd=
null;a=this.b.main_panel.Ja(a.T);if(H(this.b.main_panel.okbtn,a)){if(null==this.sb.Z()||""==this.sb.Z())return!0;this.Xg=!0;this.data.name=this.sb.Z();this.k.Sd(this.data);return!0}if(H(this.b.main_panel.cancelbtn,a)){this.Xg=!0;var c=this.k;this.k.Yd(function(){c.Sd(null)});return!0}return!1},GE:function(){this.data.stackable=!this.data.stackable;this.b.main_panel.stackbtn.q(C);this.b.main_panel.stackbtn.text.na("NOT STACKABLE");!0==this.data.stackable&&(this.b.main_panel.stackbtn.q(pa),this.b.main_panel.stackbtn.text.na("IS STACKABLE"))}});Skillseditor=null;
SkillsEditor=Popup.extend({Tb:v[0].name,ca:0,uc:function(){return{panels:{position:q.a(300,10),children:{main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(420,396),color:q.i(0,0,100,120),children:{tab1:{children:{tiles:{e:q.a(0,1),position:q.a(16,320),aa:v[0].name},textureleftbtn:{position:q.a(208,340),size:q.size(16,32),color:B,e:q.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,16),color:q.n(0,0,0)}}},texturerightbtn:{position:q.a(320,340),size:q.size(16,32),
color:B,e:q.a(0,0),children:{text:{label:"\x3e\x3e",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,16),color:q.n(0,0,0)}}},textureName:{position:q.a(224,340),size:q.size(96,32),color:q.i(255,255,255,170),e:q.a(0,0),children:{text:{label:v[0].name,fontSize:12,e:q.a(0.5,0.5),position:q.a(48,16),color:q.n(0,0,0)}}},leftbtn:{position:q.a(0,64),size:q.size(16,252),color:q.i(0,0,255,255),e:q.a(0,0),children:{text:{label:"\x3c",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,160),color:q.n(255,255,255)}}},rightbtn:{position:q.a(336,
64),size:q.size(16,252),color:q.i(0,0,255,255),e:q.a(0,0),children:{text:{label:"\x3e",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,160),color:q.n(255,255,255)}}},upbtn:{position:q.a(16,320),size:q.size(320,16),color:q.i(0,0,255,255),e:q.a(0,0),children:{text:{label:"^",fontSize:12,e:q.a(0.5,0.5),position:q.a(160,8),color:q.n(255,255,255)}}},downbtn:{position:q.a(16,48),size:q.size(320,16),color:q.i(0,0,255,255),e:q.a(0,0),children:{text:{label:"v",fontSize:12,e:q.a(0.5,0.5),position:q.a(160,8),color:q.n(255,
255,255)}}},highlightnode:{e:q.a(0,0),position:q.a(0,0),size:q.size(32,32),color:q.i(255,100,100,255)},selectednode:{e:q.a(0,0),position:q.a(0,0),size:q.size(32,32),color:q.i(100,255,100,255)}}},tab2:{children:{name_text:{label:"Skill Name",fontSize:10,e:q.a(0,0),position:q.a(8,344)},name_entry:{size:q.size(136,32),position:q.a(4,312)},healthcolor_text:{label:"Healthbar Color",fontSize:10,e:q.a(0,0),position:q.a(8,250)},healthcolor_entry:{size:q.size(136,32),position:q.a(4,210)},tile:{e:q.a(0,1),
position:q.a(55,150),aa:v[0].name},healthbtn:{position:q.a(8,265),size:q.size(128,26),color:C,e:q.a(0,0),children:{text:{label:"NOT HEALTHBAR",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.n(0,0,0)}}}}},tab1Clickable:{position:q.a(0,376),size:q.size(60,20),color:B,e:q.a(0,0),children:{text:{label:"Icon",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,10),color:q.n(0,0,0)}}},tab2Clickable:{position:q.a(64,376),size:q.size(60,20),color:B,e:q.a(0,0),children:{text:{label:"Details",fontSize:12,e:q.a(0.5,
0.5),position:q.a(32,10),color:q.n(0,0,0)}}},okbtn:{position:q.a(76,8),size:q.size(60,32),color:B,e:q.a(0,0),children:{text:{label:"OK",fontSize:12,e:q.a(0.5,0.5),position:q.a(30,16),color:q.n(0,0,0)}}},cancelbtn:{position:q.a(8,8),size:q.size(60,32),color:B,e:q.a(0,0),children:{text:{label:"Cancel",fontSize:12,e:q.a(0.5,0.5),position:q.a(30,16),color:q.n(0,0,0)}}}}},control_panel:{e:q.a(0,0),position:q.a(0,396),size:q.size(420,32),color:q.i(255,0,0,200),children:{header:{label:"Skill Editor",fontSize:20,
e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(391,3),size:q.size(26,26),e:q.a(0,0),color:q.i(255,255,255,200),children:{content:{label:"X",fontSize:20,color:q.n(0,0,0),e:q.a(0.5,0.5),position:q.a(13,13)}}}}}}}}},Jc:function(){return"SkillsEditor"},sb:null,eq:null,Hj:null,Sb:0,k:null,data:null,A:function(a){this._super();this.data={sprite:{texture:v[0].name,position:{x:0,y:0}},additionalData:{},healthbar:null,name:""};this.Tb=v[0].name;this.ca=0;this.Hj=this.sb=null;this.Sb=0;this.k=null;
this.V=q.a(0,0);this.Hj=[null,352,142];this.k=a.k;a&&a.data&&(this.data=a.data)},Dj:function(a){z({saveskills:a+"",skillsdata:this.data})},rj:function(a,c){z({saveskillswhole:c})},pa:function(){this._super();this.b.main_panel.tab1.highlightnode.ua(0);this.b.main_panel.tab1.selectednode.ua(127);for(var a in v)v[a].name==this.data.sprite.texture&&(this.ca=a,this.Tb=v[a].name);this.b.main_panel.tab1.textureName.text.na(this.Tb);this.b.main_panel.tab1.tiles.ma(v[this.ca].texture);for(a=this.data.sprite.position.x;10<=
a;)a--,this.V.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.V.y++;a=q.a(32*(this.data.sprite.position.x-this.V.x),32*(this.data.sprite.position.y-this.V.y));this.b.main_panel.tab1.selectednode.l(this.b.main_panel.tab1.tiles.u.x+a.x,this.b.main_panel.tab1.tiles.u.y-(a.y+32));this.b.main_panel.tab2.tile.ma(v[this.ca].texture);this.b.main_panel.tab2.tile.jb(q.rect(Math.floor(32*this.data.sprite.position.x),Math.floor(32*this.data.sprite.position.y),32,32));this.sb=new $(this.b.main_panel.tab2.name_entry,
q.size(this.b.main_panel.tab2.name_entry.c().width,this.b.main_panel.tab2.name_entry.c().height),q.a(0,this.b.main_panel.tab2.name_entry.c().height),this.data.name?this.data.name:"",q.i(100,100,100),q.n(255,255,255));this.sb.ib(!0);this.eq=new $(this.b.main_panel.tab2.healthcolor_entry,q.size(this.b.main_panel.tab2.healthcolor_entry.c().width,this.b.main_panel.tab2.healthcolor_entry.c().height),q.a(0,this.b.main_panel.tab2.healthcolor_entry.c().height),this.data.healthbar?this.data.healthbar:"",q.i(100,
100,100),q.n(255,255,255));this.eq.ib(!0);this.b.main_panel.tab2.healthbtn.q(C);this.b.main_panel.tab2.healthbtn.text.na("NOT HEALTHBAR");null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.q(pa),this.b.main_panel.tab2.healthbtn.text.na("IS HEALTHBAR"));this.Zd(1);this.Ab()},Sba:function(){},Aa:function(a){this._super();if(this.k){var c=this.k;!0!=a&&this.k.Yd(function(){c.Sd(null)})}},Vh:function(a){a=a.T;if(1==this.Sb&&(this.b.main_panel.tab1.highlightnode.ua(0),
a=this.b.main_panel.tab1.tiles.Ja(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.c().width&&a.y<=this.b.main_panel.tab1.tiles.c().height))return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+64,this.b.main_panel.tab1.highlightnode.ua(127),this.b.main_panel.tab1.highlightnode.l(a),!0},Zd:function(a){a!=this.Sb&&(this.b.main_panel.O(this.Hj[a],this.b.main_panel.c().height),this.b.control_panel.O(this.Hj[a],this.b.control_panel.c().height),this.b.main_panel.tab2.name_entry.Pa(this.b.main_panel.tab2.name_entry.u.J-
1E3),this.b.main_panel.tab2.healthcolor_entry.Pa(this.b.main_panel.tab2.healthcolor_entry.u.J-1E3),this.b.main_panel.tab2.healthcolor_text.B(!1),this.Sb=a,this.b.main_panel.tab1.B(!1),this.b.main_panel.tab2.B(!1),this.b.main_panel.tab1Clickable.q(B),this.b.main_panel.tab2Clickable.q(B),this.b.main_panel["tab"+a].B(!0),this.b.main_panel["tab"+a+"Clickable"].q(q.i(255,255,0,255)),this.b.control_panel.exitBtn.Pa(this.Hj[a]-29));2==a&&(this.b.main_panel.tab2.name_entry.Pa(4),null!=this.data.healthbar&&
""!=this.data.healthbar&&(this.b.main_panel.tab2.healthcolor_entry.Pa(4),this.b.main_panel.tab2.healthcolor_text.B(!0)))},Ab:function(){this.lc(this.Ab);this.b.main_panel.tab1.tiles.ja()&&!0==this.b.main_panel.tab1.tiles.ja().Qc&&(this.Oc(this.Ab),this.b.main_panel.tab1.tiles.jb(q.rect(Math.floor(32*this.V.x),Math.floor(32*this.V.y),320>v[this.ca].texture.c().width?v[this.ca].texture.c().width:320,256>v[this.ca].texture.c().height?v[this.ca].texture.c().height:256)))},vb:function(a){if(this._super(a))return!0;
this.Wd=null;a=a.T;var c=this.b.main_panel.Ja(a);if(H(this.b.main_panel.tab1Clickable,c))return this.Zd(1),!0;if(H(this.b.main_panel.tab2Clickable,c))return this.Zd(2),!0;if(H(this.b.main_panel.okbtn,c)){if(null==this.sb.Z()||""==this.sb.Z())return!0;this.Xg=!0;this.data.name=this.sb.Z();if(null!=this.eq.Z()||""!=this.eq.Z())this.data.healthbar=this.eq.Z();this.k.Sd(this.data);return!0}if(H(this.b.main_panel.cancelbtn,c)){this.Xg=!0;var d=this.k;this.k.Yd(function(){d.Sd(null)});return!0}if(1==this.Sb){if(H(this.b.main_panel.tab1.leftbtn,
c))return 264<v[this.ca].texture.c().width&&0<this.V.x&&(this.V.x--,this.Ab()),!0;if(H(this.b.main_panel.tab1.rightbtn,c))return 320<v[this.ca].texture.c().width&&this.V.x<(v[this.ca].texture.c().width-320)/32&&(this.V.x++,this.Ab()),!0;if(H(this.b.main_panel.tab1.upbtn,c))return 320<v[this.ca].texture.c().height&&0<this.V.y&&(this.V.y--,this.Ab()),!0;if(H(this.b.main_panel.tab1.downbtn,c))return 320<v[this.ca].texture.c().height&&this.V.y<(v[this.ca].texture.c().height-320)/32&&(this.V.y++,this.Ab()),
!0;if(H(this.b.main_panel.tab1.texturerightbtn,c))return this.ho(),!0;if(H(this.b.main_panel.tab1.textureleftbtn,c))return this.io(),!0;c=this.b.main_panel.tab1.tiles.Ja(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.c().width&&c.y<=this.b.main_panel.tab1.tiles.c().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+64;this.b.main_panel.tab1.selectednode.ua(0);if(this.b.main_panel.tab1.selectednode.u.J!=c.x||this.b.main_panel.tab1.selectednode.u.U!=c.y)this.b.main_panel.tab1.selectednode.ua(127),this.b.main_panel.tab1.selectednode.l(c);
a=q.a((this.b.main_panel.tab1.selectednode.u.J-16)/32+this.V.x,8-(this.b.main_panel.tab1.selectednode.u.U-64)/32+this.V.y-1);this.b.main_panel.tab2.tile.jb(q.rect(32*a.x,32*a.y,32,32));this.data.sprite.position=a;console.log("TOUCHED");return!0}}return 2==this.Sb&&H(this.b.main_panel.tab2.healthbtn,c)?(this.BY(),!0):!1},BY:function(){this.b.main_panel.tab2.healthcolor_entry.Pa(this.b.main_panel.tab2.healthcolor_entry.u.J-1E3);this.b.main_panel.tab2.healthcolor_text.B(!1);null!=this.data.healthbar&&
""!=this.data.healthbar?(this.data.healthbar="",this.eq.ne("")):(this.data.healthbar="FF0000",this.b.main_panel.tab2.healthcolor_entry.Pa(4),this.b.main_panel.tab2.healthcolor_text.B(!0));this.b.main_panel.tab2.healthbtn.q(C);this.b.main_panel.tab2.healthbtn.text.na("NOT HEALTHBAR");null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.q(pa),this.b.main_panel.tab2.healthbtn.text.na("IS HEALTHBAR"))},ho:function(){this.ca>=v.length-1&&(this.ca=-1);this.ca++;this.b.main_panel.tab1.tiles.ma(v[this.ca].texture);
this.b.main_panel.tab2.tile.ma(v[this.ca].texture);this.Tb=v[this.ca].name;this.b.main_panel.tab1.textureName.text.na(this.Tb);this.data.sprite.texture=this.Tb;this.V=q.a(0,0);this.Ab()},io:function(){0>=this.ca&&(this.ca=v.length);this.ca--;this.b.main_panel.tab1.tiles.ma(v[this.ca].texture);this.b.main_panel.tab2.tile.ma(v[this.ca].texture);this.Tb=v[this.ca].name;this.b.main_panel.tab1.textureName.text.na(this.Tb);this.V=q.a(0,0);this.Ab()}});PopupList=Popup.extend({ac:null,hb:[],Gn:null,Tf:!1,Ej:-1,J8:0,tI:null,F:null,Is:!0,Hs:!0,qC:!0,$s:!1,Aa:function(){this._super();this.k&&(this.k.qc(!0),!this.$s&&this.k.rt&&this.k.rt(null,null))},A:function(a,c){this._super();this.ac=null;this.hb=[];this.qC=this.Is=this.Hs=!0;if(c){if(!1==c.ex||!0==c.ex)this.Is=c.ex;if(!1==c.$w||!0==c.$w)this.Hs=c.$w;if(!1==c.add||!0==c.add)this.qC=c.add}this.Gn=null;this.Tf=!1;this.Ej=-1;this.ac=a.Ug;a.list&&(this.hb=a.list);this.Gn=a.name;this.k=a.k},pa:function(){this._super();
this.ob()},F:null,ob:function(){this.F&&this.F.R.K();var a=[],c=[],d=q.ga.g();this.tI={};for(var e in this.hb)if(a[e]=q.G.create(),this.hb[e].name)if(a[e].O(324,32),null==this.hb[e])this.hb.splice(e,1);else{if(null!=this.k){var f=q.v.Ka(d.la("GUI/use.png"));f.l(q.a(244,6));f.w(q.a(0,0))}var g=q.Y.create(q.i(0,0,0,127),316,1);g.l(q.a(4,0));var h=q.S.create(this.hb[e].name,"Arial",20);h.w(q.a(0,0.5));h.l(q.a(0,16));if(this.Is){var k=q.v.Ka(d.la("GUI/edit.png"));k.l(q.a(272,6));k.w(q.a(0,0))}if(this.Hs){var l=
q.v.Ka(d.la("GUI/trash.png"));l.l(q.a(300,6));l.w(q.a(0,0))}var m=[];this.Is&&(k.Oa="Edit",m.push(k));this.Hs&&(l.Oa="Delete",m.push(l));null!=this.k&&(f.Oa="Use",m.push(f));c.push(m);a[e].f(g);a[e].f(h);this.Is&&a[e].f(k);this.Hs&&a[e].f(l);null!=this.k&&a[e].f(f)}else a[e].O(q.size(0,0)),c.push([]);this.qC&&(d=q.Y.create(q.i(70,200,70,255),90,26),e=q.S.create("+","Arial",20),e.l(45,13),e.w(q.a(0.5,0.5)),d.l(q.a(120,0)),d.Oa="Add",d.f(e),c.push([d]),a.push(d));this.F=this.b.main_panel.list;var p=
this;this.F.bc=function(){return q.size(324,32*a.length)};this.F.Vb=function(){return a.length};this.F.kc=function(c){return a[c].c()};this.F.jc=function(c){return a[c]};this.F.mb=function(a,c,d){p.Ja(d.T);if(!0!=p.Tf)switch(a){case "Delete":p.da.f(DropDownList.Sc(p,p.Os,["Cancel","Delete"],d.T));p.fb=c;break;case "Edit":p.ac.da&&p.ac.K();p.Tf=!0;p.ac.A({k:p,data:p.hb[c]});p.da.f(p.ac);p.qc(!1);p.ac.pa();p.Ej=c+"";break;case "Add":p.Mp=!0;p.Tf=!0;p.Ej=p.hb.length;p.ac.A({k:p,data:null});p.qc(!1);
p.da.f(p.ac);p.ac.pa();break;case "Use":p.k.ao(c,p.hb[c]),p.$s=!0}};this.F.R=ListView.create(this.F);this.F.R.mc(c);this.F.f(this.F.R)},uc:function(){return{panels:{position:q.a(300,200),children:{background_image:{aa:"GUI/list_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(365,328),children:{list:{size:q.size(324,328),position:q.a(0,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:this.Gn,fontSize:20,e:q.a(0,0.5),position:q.a(8,
16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),e:q.a(0,0),aa:"GUI/close.png"}}}}}}},fb:null,Os:function(a){switch(a){case 1:null!=this.k.fb&&(this.k.AC(this.k.fb),this.k.fb=null)}},Sd:function(a){a&&(this.ac.Dj(this.Ej),this.Mp&&(this.hb.push(a),this.ob()));this.qc(!0);this.Tf=this.Mp=!1;var c=this;this.Yd(function(){c.ac.Aa(!0);c.ac.K()})},AC:function(a){this.hb[a]={};this.ac.rj(a,this.hb);this.ob()}});ScriptingList=Popup.extend({ac:null,hb:[],Gn:null,Tf:!1,Ej:-1,jaa:null,jh:null,$s:!1,Xn:null,Aa:function(){this._super();this.k&&(this.k.qc(!0),!this.$s&&this.k.rt&&this.k.rt(null,null))},A:function(a){this._super();this.ac=null;this.hb=[];this.Gn=null;this.Tf=!1;this.Ej=-1;this.ac=a.Ug;a.list&&(this.hb=a.list);this.Gn=a.name;this.k=a.k},pa:function(){this._super();this.Lx()},Lx:function(){this.Mh&&this.Mh.R.K();var a=[],c=[],d=q.ga.g(),e=["Default Scripts","NPC Scripts","Item Scripts","Tile Scripts"],
f;for(f in e){a[f]=q.G.create();a[f].O(220,32);var g=q.Y.create(q.i(0,0,0,127),220,1);g.l(q.a(0,0));var h=q.S.create(e[f],"Arial",20);h.w(q.a(0,0));h.l(q.a(4,4));h.Wa(q.size(192,0));a[f].O(220,h.c().height+8);if(null!=this.Xn&&this.Xn==f){a[f]=q.Y.create(q.i(100,0,0,255),220,h.c().height+8);var k=q.v.Ka(d.la("GUI/selected.png"));k.l(q.a(196,(h.c().height+8-20)/2));k.w(q.a(0,0));a[f].f(k);h.q(q.n(255,255,255))}a[f].Oa="Use";c.push([a[f]]);a[f].f(g);a[f].f(h)}this.Mh=this.b.main_panel.mainlist;var l=
this;this.Mh.bc=function(){return q.size(324,32*a.length)};this.Mh.Vb=function(){return a.length};this.Mh.kc=function(c){return a[c].c()};this.Mh.jc=function(c){return a[c]};this.Mh.mb=function(a,c,d){l.Ja(d.T);if(!0!=l.Tf)switch(a){case "Use":l.Xn=c,l.KD(c),l.Lx()}};this.Mh.R=ListView.create(this.Mh);this.Mh.R.mc(c);this.Mh.f(this.Mh.R)},KD:function(a){var c="";switch(a){case 0:c="Default";break;case 1:c="NPC";break;case 2:c="Item";break;case 3:c="Tile"}this.jh&&this.jh.R.K();var d=[];a=[];for(var e=
q.ga.g(),f=0;f<this.hb.length;f++)if(d[f]=q.G.create(),this.hb[f]!={}&&this.hb[f].specifier==c){d[f].O(286,32);var g=q.Y.create(q.i(0,0,0,127),286,1);g.l(q.a(0,0));var h=q.S.create(this.hb[f].name,"Arial",20);h.w(q.a(0,0));h.l(q.a(2,4));h.Wa(q.size(208,0));d[f].O(286,h.c().height+8);if(null!=this.k&&!this.hb[f].isTemplate){var k=q.v.Ka(e.la("GUI/use.png"));k.l(q.a(212,(d[f].c().height-20)/2));k.w(q.a(0,0))}var l=[];if("Default"!=c){var m=q.v.Ka(e.la("GUI/edit.png"));m.l(q.a(236,(d[f].c().height-20)/
2));m.w(q.a(0,0));var p=q.v.Ka(e.la("GUI/trash.png"));p.l(q.a(260,(d[f].c().height-20)/2));p.w(q.a(0,0));l.push(m);p.Oa="Delete";m.Oa="Edit";l.push(p);d[f].f(m);d[f].f(p)}null==this.k||this.hb[f].isTemplate||(k.Oa="Use",l.push(k));m=q.v.Ka(e.la("GUI/copy.png"));m.l(q.a(188,(d[f].c().height-20)/2));m.w(q.a(0,0));m.Oa="Copy";l.push(m);d[f].f(m);a.push(l);d[f].f(g);d[f].f(h);null!=this.k&&d[f].f(k)}else d[f].O(q.size(0,0)),a.push([]);"Default"!=c&&(k=q.Y.create(q.i(70,200,70,255),90,26),e=q.S.create("+",
"Arial",20),e.l(45,13),e.w(q.a(0.5,0.5)),k.l(q.a(100,0)),k.Oa="Add",k.f(e),a.push([k]),d.push(k));this.jh=this.b.main_panel.sublist;var s=this;this.jh.bc=function(){return q.size(324,32*d.length)};this.jh.Vb=function(){return d.length};this.jh.kc=function(a){return d[a].c()};this.jh.jc=function(a){return d[a]};this.jh.mb=function(a,d,e){s.Ja(e.T);if(!0!=s.Tf)switch(a){case "Delete":s.da.f(DropDownList.Sc(s,s.Os,["Cancel","Delete"],e.T));s.fb=d;break;case "Edit":s.ac.da&&s.ac.K();s.Tf=!0;s.ac.A({k:s,
data:s.hb[d]});s.da.f(s.ac);s.qc(!1);s.ac.pa();s.Ej=d+"";break;case "Add":s.Mp=!0;s.Tf=!0;s.Ej=s.hb.length+"";s.ac.A({k:s,data:null,aE:c});s.qc(!1);s.da.f(s.ac);s.ac.pa();break;case "Use":s.k.ao(d,s.hb[d]);s.$s=!0;break;case "Copy":s.nS(d)}};this.jh.R=ListView.create(this.jh);this.jh.R.mc(a);this.jh.f(this.jh.R)},uc:function(){return{panels:{position:q.a(20,20),children:{background_image:{aa:"GUI/scripting_list.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(584,408),children:{mainlist:{size:q.size(220,
408),position:q.a(0,0),e:q.a(0,0)},sublist:{size:q.size(280,408),position:q.a(261,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,408),size:q.size(584,32),children:{header:{label:this.Gn,fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(560,6),size:q.size(20,20),e:q.a(0,0),aa:"GUI/close.png"}}}}}}},fb:null,Os:function(a){switch(a){case 1:null!=this.k.fb&&(this.k.AC(this.k.fb),this.k.fb=null)}},Sd:function(a){a&&(this.ac.Dj(this.Ej),this.Mp&&(this.hb.push(a),this.Lx(),this.Xn&&
this.KD(this.Xn)));this.qc(!0);this.Tf=this.Mp=!1;var c=this;this.Yd(function(){c.ac.Aa(!0);c.ac.K()})},AC:function(a){this.hb[a]={};this.ac.rj(a,this.hb);this.Lx();this.Xn&&this.KD(this.Xn)},nS:function(a){console.log("DUPLICATING");this.Tf=this.Mp=!0;this.Ej=this.hb.length+"";a=I(this.hb[a]);a.implementsAs&&(a.specifier=a.implementsAs,a.implementsAs=null);a.isTemplate&&(a.isTemplate=null);this.ac.A({k:this,data:a,aE:a.specifier});this.qc(!1);this.da.f(this.ac);this.ac.pa()}});var K=Fa.extend({ctor:function(){this._super()},tM:function(){this._super()},pa:function(){this._super()},Aa:function(){this._super()},vb:function(a){q.wb(this.b.health_panel.qb(),a.T)&&D.g().Fl("Game")}});NewsPanel=null;
News=Popup.extend({data:null,F:null,fb:null,Jc:function(){return"Credits"},Aa:function(){this._super()},A:function(){this._super();this.data={"24th December 2014: (v0.798)":["Finished game store setup for store 0"],"22nd December 2014: (v0.797)":["Updated shop testbed. Inventory now loaded as selectable list (like shop items). Removed seperate tab lists to reduce amount of unused nodes. Added some test data into price and offer lists.","Consolidated configuration files into single file.","Made socket.io load from the actual application and not from the template pages.",
"Fixed some issed with graphics loading in minified builds"],"21st December 2014: (v0.796)":["Updated shop testbed. Game now loads store sale items."],"19th December 2014: (v0.796)":["Added initial storefront layout for in-game shops."],"18th December 2014: (v0.793)":["Added item editor text field for descriptions."],"18th December 2014: (v0.792)":["Added buying price section of item value setup. Fixed some basic issues with the system"],"18th December 2014: (v0.79)":["Added initial setup value tab into item editor to add trade values to defined items. You simply add a shop in list and then the price to buy it.",
"The above system will eventually include a sale price area as well."],"17th December 2014: (v0.78)":["Added /wherami and /warpmeto user commands."],"17th December 2014: (v0.78)":["Added banking panel and implemented banking storage into player profile data.","Added map width and height specifiers to map editor for custom map sizes.","Added shop editor for custom shop type generation.","Compressed script logic into single straightforward functions with a type specifier.","Fixed a couple of bugs"],
"14th December 2014: (v0.75)":["Fixed multiplayer login movement crash."],"24th November 2014: (v0.75)":["Re-introduced dependancies so that I can added orientation change logic to the project. Clicking and dragging a client window now correctly resizes the game."],"16th November 2014: (v0.75)":["Cleaned up project dependancies, removed dependancy on socket.io and cocos-utils changes."],"11th November 2014: (v0.74)":["Added quest log (hotkey Q).","Implemented quest response logic. Added 2 additional 'quest unstarted' and 'quest finished' parameters"],
"10th November 2014: (v0.735)":["Added user extradata content for subscripting. Allows for developers to code in specific scripting logic if needed.","Extradata updates with user login data and is purposefully not localstorage based."],"9th November 2014: (v0.733)":["Added talking and talk with option callback to the npc scripts contexts."],"8th November 2014: (v0.731)":["Fixed NPC editor.","Added talk graphic and basic logic for npc interaction","Abstracted Item script logic to a utils function...wiped a lot of duplicate code."],
"25th October 2014: (v0.729)":["Added scripting response logic for giving/taking items.","Added scripting requirements logic for if a panel is visible and inventory has a certain amount of slots."],"25th October 2014: (v0.727)":["Fixed a bunch of persistant bugs. Game is now much much more stable than it was.","Added scripts for on pickup and on drop. Added some additional response logic for warping the player. Added requirement logic for check if player has items and if player stats are within certain ranges."],
"24th October 2014: (v0.724)":["Added functionality to more scripts. Items can now use the destroy and open/close panel scripts.","Fixed equip script to use the equip position defined within the scripting system instead of previously defined sub-item types from previous versions."],"23rd October 2014: (v0.722)":["Added functionality to some item scripts. Game now modifies inventory drop down behaviour based on responses type (read/equip).","Items can now influence player stats on equip, dequip, swapped and on read."],
"30th September 2014: (v0.72)":["Added user saving and loading for player position, items and equipment. Picked up and equipped items are now stored and saved regardless of session.","Edited the skills panel to utilise the list view logic. Skills menu now shows level and experience progression and uses data from the user account","Added health manipulation functionality utilising new skill logic as noted in the previous point."],"27th September 2014: (v0.72)":["Added registration and logging in system. Users can now have automatic login setup for their accounts and player data is starting to be saved from an actual account.",
"Server now has a new folder where user data is stored.","Added the beginnings of a user ranking system, game editors can now only be accessed if the player rank is above 1. Rank 1 is now the default registration rank."],"25th August 2014: (v0.718)":["Added 90% of subeditors needed for the scripting system. Go into the script editor and press the pencil icon on the responses and requirements to edit their core data.","Updated script panel texture to utilize inpanel submenu editors.","Abstracted out the script editor so that its not dependant on certain types.",
"Added/removed requirements responses based on logical conclusions on what is actually needed. Consume as an item response, for example, is unecessary because it would work identically to destroy."],"17th August 2014: (v0.714)":["Added basic template logic of new scripting editor system. Scripts can be saved and loaded like other list systems. This editor currently does not allow you to apply scripts to anything (it is simply the GUI interface template logic that's in there). The item editor has been changed to utilize the new saved scripts list.",
"Fixed localstorage issue caused by settings implementation. Game now does not now load until the game is fully in sync. The issue was causing an error on some game-loads because the localstorage was not yet available (requiring a refresh)."],"11th August 2014: (v0.708)":["Added settings menu for various game controls. Settings menu only currently controls a load of in game string settings. Also added the additional required admin panel graphic for settings access. The new chatbox command is /editsettings.",
"Added scrolling credits button to login page and populated it.","Added this scrolling news feed to login page and obviously populated it as well."],"11th August 2014 (v0.7)":["Added some additional custom gui for some of the editors.","Fixed a lot of bugs (and I mean a lot).","Added 0.7 download to site."],"10th August 2014 (v0.695)":["Added quest objective editor. New button now made usable in menu.","Objective editor utilizes abstract scrolling list from 0.69."]}},Dj:function(a){z({savequests:a+
"",questdata:this.data})},rj:function(a,c){z({savequestswhole:c})},pa:function(){this._super();this.ob()},ob:function(){this.F&&this.F.cc();var a=[],c=[];q.ga.g();var d=0,e;for(e in this.data){a[d]=q.G.create();a[d].O(324,32);var f=q.S.create(e,"Arial",18);f.w(q.a(0,0));f.l(q.a(4,0));f.Wa(q.size(246,0));f.q(q.n(100,0,0));a[d].f(f);a[d].O(324,f.c().height+4);f=[];c.push(f);d++;for(var g in this.data[e]){a[d]=q.G.create();a[d].O(324,32);var h=q.Y.create(q.i(0,0,0,127),316,1);h.l(q.a(4,0));var k=q.S.create(this.data[e][g],
"Arial",15);k.q(q.n(0,0,0));k.w(q.a(0,0));k.l(q.a(4,4));k.Wa(q.size(246,0));f=[];c.push(f);a[d].f(h);a[d].f(k);a[d].O(324,k.c().height+8);d++}}this.F=this.b.main_panel.list;this.F.bc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(324,c)};this.F.Vb=function(){return a.length};this.F.kc=function(c){return a[c].c()};this.F.jc=function(c){return a[c]};this.F.mb=function(){};this.F.R=ListView.create(this.F);this.F.R.mc(c);this.F.f(this.F.R)},uc:function(){return{panels:{position:q.a(300,
200),children:{background_image:{aa:"GUI/list_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(365,328),children:{list:{size:q.size(324,328),color:q.i(0,200,200,200),position:q.a(0,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"News",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),e:q.a(0,0),aa:"GUI/close.png"}}}}}}},vb:function(a){if(this._super(a))return!0;this.Wd=null;a=this.b.main_panel.Ja(a.T);
return H(this.b.main_panel,a)?!0:!1}});CreditsPanel=null;
Credits=Popup.extend({data:null,F:null,fb:null,Jc:function(){return"Credits"},Aa:function(){this._super()},A:function(){this._super();this.data={"Project Leader":"Spork","Localisation Contributors":"Vus, sn0w Beast",Programmers:"Spork, Pandacoder","Community Management \x26 Support":"Chief, Seb, Mad Hatter","Special thanks":"All of you, who's positive response keep us motivated to deliver the best software we can make.","Powder Engine is Copywritten":"Contact the developera in-site regarding questions."}},Dj:function(a){z({savequests:a+
"",questdata:this.data})},rj:function(a,c){z({savequestswhole:c})},pa:function(){this._super();this.ob()},ob:function(){this.F&&this.F.cc();var a=[],c=[];q.ga.g();var d=0,e;for(e in this.data){if("ISSECTION"!=this.data[e]){a[d]=q.G.create();a[d].O(324,32);var f=q.S.create(e,"Arial",18);f.w(q.a(0,0));f.l(q.a(4,0));f.Wa(q.size(246,0));f.q(q.n(100,0,0));a[d].f(f);a[d].O(324,f.c().height+4);f=[];c.push(f);d++}a[d]=q.G.create();a[d].O(324,32);var g=q.Y.create(q.i(0,0,0,127),316,1);g.l(q.a(4,0));if("ISSECTION"==
this.data[e]){var h=q.S.create(e,"Arial",22);h.q(q.n(255,0,0))}else h=q.S.create(this.data[e],"Arial",15),h.q(q.n(0,0,0));h.w(q.a(0,0));h.l(q.a(4,4));h.Wa(q.size(246,0));f=[];c.push(f);a[d].f(g);a[d].f(h);"ISSECTION"==this.data[e]?a[d].O(324,h.c().height+12):a[d].O(324,h.c().height+8);d++}this.F=this.b.main_panel.list;this.F.bc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(324,c)};this.F.Vb=function(){return a.length};this.F.kc=function(c){return a[c].c()};this.F.jc=function(c){return a[c]};
this.F.mb=function(){};this.F.R=ListView.create(this.F);this.F.R.mc(c);this.F.f(this.F.R)},uc:function(){return{panels:{position:q.a(300,200),children:{background_image:{aa:"GUI/list_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(365,328),children:{list:{size:q.size(324,328),color:q.i(0,200,200,200),position:q.a(0,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Credits",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,
6),size:q.size(20,20),e:q.a(0,0),aa:"GUI/close.png"}}}}}}},vb:function(a){if(this._super(a))return!0;this.Wd=null;a=this.b.main_panel.Ja(a.T);return H(this.b.main_panel,a)?!0:!1}});Login=Fa.extend({lt:!1,km:!1,DD:function(){var a=this.uc();ya(a,"panels",this.b)},A:function(a){G=Ca(G,W.XC());this._super();D.Yn(this);this.iq=this.uD=!1;this.Ek=new $(this.b.name_entry,q.size(this.b.name_entry.c().width,this.b.name_entry.c().height),q.a(0,this.b.name_entry.c().height),"Username",q.i(100,100,100),q.n(255,255,255));this.Rl=new $(this.b.password_entry,q.size(this.b.password_entry.c().width,this.b.password_entry.c().height),q.a(0,this.b.password_entry.c().height),"Password",q.i(100,
100,100),q.n(255,255,255));this.Rl.oq(0);this.RD=new $(this.b.new_user_name,q.size(this.b.new_user_name.c().width,this.b.new_user_name.c().height),q.a(0,this.b.new_user_name.c().height),"Username",q.i(100,100,100),q.n(255,255,255));this.Px=new $(this.b.new_user_pass,q.size(this.b.new_user_pass.c().width,this.b.new_user_pass.c().height),q.a(0,this.b.new_user_pass.c().height),"Password",q.i(100,100,100),q.n(255,255,255));this.Px.oq(0);this.QD=new $(this.b.new_user_email,q.size(this.b.new_user_email.c().width,
this.b.new_user_email.c().height),q.a(0,this.b.new_user_email.c().height),"Email Address",q.i(100,100,100),q.n(255,255,255));this.eI=!1;a&&(a.cK?(A=[],z({logout:!0})):this.eI=!0,this.$n(a.dE));this.lc(this.zC);this.dI=!1;this.lc(this.CE);this.hD();this.b.rem_login_text.Wa(q.size(80,0));this.b.auto_login_text.Wa(q.size(80,0));this.b.server_message.Wa(q.size(300,0));this.b.server_message2.Wa(q.size(150,0))},Pl:function(a){switch(a){case "ENTER":if(this.uD){a=this.RD.Z();var c=this.Px.Z(),d=this.QD.Z();
""!=a&&null!=a&&""!=c&&null!=c&&""!=d&&null!=d?!1==/\S+@\S+\.\S+/.test(d)?this.ug(G["Incorrect Email Format"]):(this.iq=!0,this.ug(G["Registering Message"]),this.DK({name:a,password:c,email:d})):this.ug(G["Register Empty Fields"])}else!1==this.km&&this.lt?(a=this.Ek.Z(),c=this.Rl.Z(),""!=a&&null!=a&&""!=c&&null!=c?(this.km=!0,this.ug(G["Logging In Message"]),z({login:!0,username:this.Ek.Z(),password:this.Rl.Z()})):this.ug(G["User Pass Empty"])):this.Gx(G["Server Offline Message"])}},$n:function(a){this.lt=
a;!0==a?(this.b.server_activity.na(G["Online Server"]),this.b.server_activity.q(q.n(0,255,0))):(this.b.server_activity.na(G["Offline Server"]),this.b.server_activity.q(q.n(255,0,0)))},zC:function(){var a=W.NT();a&&!1==this.dI&&(this.Ek.ne(a.user),this.dI=!0,this.Rl.ne(a.pass));!0==this.eI&&autoLoginNextTime&&!1==this.km&&this.lt&&(!1==this.km&&this.lt?(this.km=!0,this.ug("Logging In"),z({login:!0,username:this.Ek.Z(),password:this.Rl.Z()})):this.Gx(G["Offline Server Message"]))},CE:function(){if(0<
A.length)for(var a=A.length-1;0<=a;a--)reactToSocketMessage(A[a]),A.splice(a,1);autoLoginNextTime?(W.TK(!0),this.b.auto_login.ma(q.ga.g().la("GUI/checkbox_checked.png"))):(W.TK(!1),this.b.auto_login.ma(q.ga.g().la("GUI/checkbox_uncheck.png")));rememberLoginNextTime?this.b.remember_login.ma(q.ga.g().la("GUI/checkbox_checked.png")):this.b.remember_login.ma(q.ga.g().la("GUI/checkbox_uncheck.png"))},uc:function(){return{panels:{children:{background:{aa:"GUI/splash.png",size:q.size(960,640),e:q.a(0,0),
position:q.a(0,0)},name_entry:{size:q.size(300,30),position:q.a(325,325)},password_entry:{size:q.size(300,30),position:q.a(325,290)},new_user_name:{size:q.size(300,30),position:q.a(325,360)},new_user_pass:{size:q.size(300,30),position:q.a(325,325)},new_user_email:{size:q.size(300,30),position:q.a(325,290)},remember_login:{size:q.size(20,20),position:q.a(630,295),aa:"GUI/checkbox_uncheck.png",e:q.a(0,0)},rem_login_text:{label:G["Save Login Cred"],fontSize:16,color:q.n(255,255,255),e:q.a(0,1),position:q.a(665,
315)},auto_login:{size:q.size(20,20),position:q.a(630,330),aa:"GUI/checkbox_uncheck.png",e:q.a(0,0)},auto_login_text:{label:G["Auto Login Next"],fontSize:16,color:q.n(255,255,255),e:q.a(0,0),position:q.a(665,330)},go_button:{position:q.a(325,240),size:q.size(120,40),color:q.i(0,0,0,255),children:{label:{label:G["Play Button Text"],fontSize:20,color:q.n(255,255,255),e:q.a(0.5,0.5),position:q.a(60,20)}}},register_button:{position:q.a(505,240),size:q.size(120,40),color:q.i(0,0,0,255),children:{label:{label:G["Register Button Text"],
fontSize:20,color:q.n(255,255,255),e:q.a(0.5,0.5),position:q.a(60,20)}}},new_user_back:{position:q.a(325,240),size:q.size(120,40),color:q.i(0,0,0,255),children:{label:{label:G["Back From Reg Button Text"],fontSize:20,color:q.n(255,255,255),e:q.a(0.5,0.5),position:q.a(60,20)}}},new_user_confirm:{position:q.a(505,240),size:q.size(120,40),color:q.i(0,0,0,255),children:{label:{label:G["Reg Confirm Button Text"],fontSize:20,color:q.n(255,255,255),e:q.a(0.5,0.5),position:q.a(60,20)}}},sysMessage:{label:G["System Message"],
position:q.a(4,4),color:q.n(255,255,255),e:q.a(0,0)},credits_button:{position:q.a(30,400),size:q.size(120,40),color:q.i(0,0,0,255),children:{label:{label:G["Credit Button Text"],fontSize:20,color:q.n(255,255,255),e:q.a(0.5,0.5),position:q.a(60,20)}}},news_button:{position:q.a(30,340),size:q.size(120,40),color:q.i(0,0,0,255),e:q.a(0,1),children:{label:{label:G["News Button Text"],fontSize:20,color:q.n(255,255,255),e:q.a(0.5,0.5),position:q.a(60,20)}}},server_message:{label:"",fontSize:16,color:q.n(255,
255,255),e:q.a(0,1),position:q.a(325,220)},server_message2:{label:G["Login Message"],fontSize:16,color:q.n(255,255,255),e:q.a(0,1),position:q.a(175,355)},version_number:{label:G["Version Number"],fontSize:34,color:q.n(255,255,255),e:q.a(1,1),position:q.a(710,55)},server_activity:{position:q.a(910,630),size:q.size(100,20),e:q.a(0.5,0.5),label:G["Offline Server"],color:q.n(255,0,0)}}}}},CY:function(){autoLoginNextTime?(autoLoginNextTime=!1,this.b.auto_login.ma(q.ga.g().la("GUI/checkbox_uncheck.png"))):
(autoLoginNextTime=!0,this.b.auto_login.ma(q.ga.g().la("GUI/checkbox_checked.png")),rememberLoginNextTime=!0,this.b.remember_login.ma(q.ga.g().la("GUI/checkbox_checked.png")))},DY:function(){rememberLoginNextTime?(rememberLoginNextTime=!1,this.b.remember_login.ma(q.ga.g().la("GUI/checkbox_uncheck.png")),autoLoginNextTime=!1,this.b.auto_login.ma(q.ga.g().la("GUI/checkbox_uncheck.png"))):(rememberLoginNextTime=!0,this.b.remember_login.ma(q.ga.g().la("GUI/checkbox_checked.png")))},vb:function(a){if(null!=
this.Ek.Z()&&this.b.go_button.za&&q.wb(q.rect(this.b.go_button.u.J,this.b.go_button.u.U,this.b.go_button.c().width,this.b.go_button.c().height),a.T)){if(!1==this.km&&this.lt){a=this.Ek.Z();var c=this.Rl.Z();""!=a&&null!=a&&""!=c&&null!=c?(this.km=!0,this.ug(G["Logging In Message"]),z({login:!0,username:this.Ek.Z(),password:this.Rl.Z()})):this.ug(G["User Pass Empty"])}else this.Gx(G["Offline Server Message"]);return!0}this.b.credits_button.za&&q.wb(q.rect(this.b.credits_button.u.J,this.b.credits_button.u.U,
this.b.credits_button.c().width,this.b.credits_button.c().height),a.T)&&this.Xh("/openCredits");this.b.news_button.za&&q.wb(q.rect(this.b.news_button.u.J,this.b.news_button.u.U,this.b.news_button.c().width,this.b.news_button.c().height),a.T)&&this.Xh("/openNews");if(this.b.register_button.za&&q.wb(q.rect(this.b.register_button.u.J,this.b.register_button.u.U,this.b.register_button.c().width,this.b.register_button.c().height),a.T))return this.pY(),!1;if(this.b.auto_login.za&&q.wb(q.rect(this.b.auto_login.u.J,
this.b.auto_login.u.U,this.b.auto_login.c().width,this.b.auto_login.c().height),a.T))return this.CY(),!1;if(this.b.remember_login.za&&q.wb(q.rect(this.b.remember_login.u.J,this.b.remember_login.u.U,this.b.remember_login.c().width,this.b.remember_login.c().height),a.T))return this.DY(),!1;if(this.b.new_user_back.za&&!1==this.iq&&q.wb(q.rect(this.b.new_user_back.u.J,this.b.new_user_back.u.U,this.b.new_user_back.c().width,this.b.new_user_back.c().height),a.T))return this.hD(),this.ug(""),!1;if(this.b.new_user_confirm.za&&
!1==this.iq&&q.wb(q.rect(this.b.new_user_confirm.u.J,this.b.new_user_confirm.u.U,this.b.new_user_confirm.c().width,this.b.new_user_confirm.c().height),a.T)){a=this.RD.Z();var c=this.Px.Z(),d=this.QD.Z();""!=a&&null!=a&&""!=c&&null!=c&&""!=d&&null!=d?!1==/\S+@\S+\.\S+/.test(d)?this.ug(G["Incorrect Email Format"]):(this.iq=!0,this.ug(G["Registering Message"]),this.DK({name:a,password:c,email:d})):this.ug(G["Register Empty Fields"]);return!1}},DK:function(a){a.newUser=1;z(a)},gS:function(){this.ug(G["Registration Success"]);
this.RD.ne(G["Username Label"]);this.Px.ne(G["Password Label"]);this.QD.ne(G["Email Label"]);this.iq=!1;this.hD()},YS:function(a){this.iq=!1;switch(a){case "UserTaken":this.ug(G["Register User Taken"])}},pY:function(){this.b.new_user_name.B(!0);this.b.new_user_pass.B(!0);this.b.new_user_email.B(!0);this.b.new_user_confirm.B(!0);this.b.new_user_back.B(!0);this.b.register_button.B(!1);this.b.go_button.B(!1);this.b.name_entry.Pa(-1E5);this.b.password_entry.Pa(-1E5);this.b.new_user_name.Pa(325);this.b.new_user_pass.Pa(325);
this.b.new_user_email.Pa(325);this.b.rem_login_text.B(!1);this.b.auto_login_text.B(!1);this.b.auto_login.B(!1);this.b.remember_login.B(!1);this.uD=!0},hD:function(){this.b.new_user_name.B(!1);this.b.new_user_pass.B(!1);this.b.new_user_email.B(!1);this.b.new_user_confirm.B(!1);this.b.new_user_back.B(!1);this.b.register_button.B(!0);this.b.go_button.B(!0);this.b.name_entry.Pa(325);this.b.password_entry.Pa(325);this.b.new_user_name.Pa(-1E5);this.b.new_user_pass.Pa(1E5);this.b.new_user_email.Pa(1E5);
this.b.rem_login_text.B(!0);this.b.auto_login_text.B(!0);this.b.auto_login.B(!0);this.b.remember_login.B(!0);this.uD=!1},Xh:function(a){switch(a){case "/openCredits":null==CreditsPanel||CreditsPanel.da||(CreditsPanel=null);CreditsPanel?(CreditsPanel.Aa(),CreditsPanel.K(),CreditsPanel=null):(CreditsPanel=new Credits,CreditsPanel.A(),CreditsPanel.pa(),this.f(CreditsPanel));break;case "/openNews":null==NewsPanel||NewsPanel.da||(NewsPanel=null),NewsPanel?(NewsPanel.Aa(),NewsPanel.K(),NewsPanel=null):
(NewsPanel=new News,NewsPanel.A(),NewsPanel.pa(),this.f(NewsPanel))}},dV:function(a){rememberLoginNextTime&&W.SX(this.Ek.Z(),this.Rl.Z());this.Oc(this.zC);D.g().Fl("Game",{Cj:a,map:1})},Gx:function(a){this.Oc(this.zC);this.b.server_message.na(a);this.km=!1},ug:function(a){this.b.server_message.na(a)},f9:function(){D.g().Fl("Game",{oda:this.Ek.Z()})}});K=null;MapMaster=!1;
var Ga=Fa.extend({QJ:!1,ctor:function(){this._super()},DD:function(){var a=R.r.I.ic();V.El(a.x*M,a.y*M);a=this.uc();ya(a,"panels",this.b);SkillBarsInstance.xq()},uc:function(){return{panels:{children:{saving_icon:{visible:!1,position:q.a(P.width-52,4),e:q.a(0,0),size:q.size(48,48),aa:"GUI/save_icon.png"},logout_button:{position:q.a(P.width-52,P.height-52),e:q.a(0,0),size:q.size(48,48),aa:"GUI/logout.png"},quicknav_button:{position:q.a(P.width-30,Math.floor(P.height/2)-24),e:q.a(0,0),size:q.size(48,
48),aa:"GUI/quickmenu_closed_icon.png"},inventory_button:{position:q.a(P.width-52,Math.floor(P.height/2)+60),e:q.a(0,0),size:q.size(48,48),aa:"GUI/inventory_icon.png"},equipment_button:{position:q.a(P.width-82,Math.floor(P.height/2)+4),e:q.a(0,0),size:q.size(48,48),aa:"GUI/equipment_icon.png"},skill_button:{position:q.a(P.width-82,Math.floor(P.height/2)-52),e:q.a(0,0),size:q.size(48,48),aa:"GUI/skills_icon.png"},chat_button:{position:q.a(P.width-52,Math.floor(P.height/2)-108),e:q.a(0,0),size:q.size(48,
48),aa:"GUI/chat_icon.png"},quickedit_button:{position:q.a(0,Math.floor(P.height/2)-24),e:q.a(0,0),size:q.size(48,48),aa:"GUI/quickedit_closed_icon.png"},mapedit_button:{position:q.a(4,Math.floor(P.height/2)+116),e:q.a(0,0),size:q.size(48,48),aa:"GUI/mapeditor_icon.png"},npcedit_button:{position:q.a(34,Math.floor(P.height/2)+60),e:q.a(0,0),size:q.size(48,48),aa:"GUI/npceditor_icon.png"},itemedit_button:{position:q.a(64,Math.floor(P.height/2)+4),e:q.a(0,0),size:q.size(48,48),aa:"GUI/itemeditor_icon.png"},
skilledit_button:{position:q.a(64,Math.floor(P.height/2)-52),e:q.a(0,0),size:q.size(48,48),aa:"GUI/skilleditor_icon.png"},scriptedit_button:{position:q.a(34,Math.floor(P.height/2)-108),e:q.a(0,0),size:q.size(48,48),aa:"GUI/scripteditor_icon.png"},settings_button:{position:q.a(4,Math.floor(P.height/2)-164),e:q.a(0,0),size:q.size(48,48),aa:"GUI/settings_icon.png"},shopedit_button:{position:q.a(120,Math.floor(P.height/2)+4),e:q.a(0,0),size:q.size(48,48),aa:"GUI/shopeditor_icon.png"},questedit_button:{position:q.a(120,
Math.floor(P.height/2)-52),e:q.a(0,0),size:q.size(48,48),aa:"GUI/questeditor_icon.png"}}}}},NJ:!1,LJ:!1,$n:function(a){!1==a&&(this.CC(),D.g().Fl("Login",{dE:!1}))},CC:function(){V.pf();V.pt();null!=Equipment&&(Equipment.Aa(),Equipment.K(),Equipment=null);null!=Inventory&&(Inventory.Aa(),Inventory.K(),Inventory=null);null!=Bank&&(Bank.Aa(),Bank.d_(),Bank=null);null!=Skills&&(Skills.Aa(),Skills.K(),Skills=null);null!=Quests&&(Quests.Aa(),Quests.K(),Quests=null);SkillBarsInstance.K();R.pf();R.pt();
S.pf();S.pt()},vb:function(a){if(q.wb(q.rect(this.b.logout_button.u.J,this.b.logout_button.u.U,this.b.logout_button.c().width,this.b.logout_button.c().height),a.T))return this.CC(),D.g().Fl("Login",{cK:!0,dE:!0}),!0;D.Yn(this);if(q.wb(this.b.chat_button.qb(),a.T)&&this.b.chat_button.za)return this.Pl("C"),!0;if(q.wb(this.b.inventory_button.qb(),a.T)&&this.b.inventory_button.za)return this.Pl("I"),!0;if(q.wb(this.b.equipment_button.qb(),a.T)&&this.b.equipment_button.za)return this.Pl("E"),!0;if(q.wb(this.b.skill_button.qb(),
a.T)&&this.b.skill_button.za)return this.Pl("S"),!0;if(this.b.quickedit_button.za&&q.wb(this.b.quickedit_button.qb(),a.T)&&this.b.quickedit_button.za)return this.RL(!this.LJ),!0;if(q.wb(this.b.quicknav_button.qb(),a.T)&&this.b.quicknav_button.za)return this.SL(!this.NJ),!0;if(q.wb(this.b.mapedit_button.qb(),a.T)&&this.b.mapedit_button.za)return this.Xh("/editmap"),!0;if(q.wb(this.b.npcedit_button.qb(),a.T)&&this.b.npcedit_button.za)return this.Xh("/editnpc"),!0;if(q.wb(this.b.itemedit_button.qb(),
a.T)&&this.b.itemedit_button.za)return this.Xh("/edititem"),!0;if(q.wb(this.b.skilledit_button.qb(),a.T)&&this.b.skilledit_button.za)return this.Xh("/editskill"),!0;if(q.wb(this.b.scriptedit_button.qb(),a.T)&&this.b.scriptedit_button.za)return this.Xh("/editscript"),!0;if(q.wb(this.b.settings_button.qb(),a.T)&&this.b.settings_button.za)return this.Xh("/editsettings"),!0;if(q.wb(this.b.shopedit_button.qb(),a.T)&&this.b.shopedit_button.za)return this.Xh("/editshop"),!0;if(q.wb(this.b.questedit_button.qb(),
a.T)&&this.b.questedit_button.za)return this.Xh("/editquest"),!0},qY:function(a,c){null==Sign||Sign.da||(Sign=null);Sign?(Sign.Aa(),Sign.K(),Sign=null):(Sign=new SignPanel,Sign.A(a,c),Sign.pa(),this.f(Sign))},mY:function(a,c){null==Book||Book.da||(Book=null);Book?(Book.Aa(),Book.K(),Book=null):(Book=new BookPanel,Book.A(a,c),Book.pa(),this.f(Book))},oY:function(a,c,d,e,f,g){null==NpcChat||NpcChat.da||(NpcChat=null);NpcChat&&(NpcChat.Aa(),NpcChat.K(),NpcChat=null);NpcChat=new NpcChatPanel;NpcChat.A(a,
c,d,e,f,g);NpcChat.pa();this.f(NpcChat)},iU:function(){null==NpcChat||NpcChat.da||(NpcChat=null);NpcChat&&(NpcChat.Aa(),NpcChat.K(),NpcChat=null)},Pl:function(a){switch(a){case "C":S.HU()?S.uJ():S.show();break;case "ENTER":S.ot(!S.tD());break;case "SPACE":R.r.I.AU();Inventory&&Inventory.Ma();break;case "CTRL":R.r.I.yU();break;case "ESC":this.CC();D.g().Fl("Login",{cK:!0,dE:!0});break;case "I":null==Inventory||Inventory.da||(Inventory=null);Inventory?(Inventory.Aa(),Inventory.K(),Inventory=null):(null==
Bank||Bank.da||(Bank=null),Bank||(Inventory=new InventoryPanel,Inventory.A(),Inventory.pa(),this.f(Inventory)));break;case "E":null==Equipment||Equipment.da||(Equipment=null);Equipment?(Equipment.Aa(),Equipment.K(),Equipment=null):(Equipment=new EquipmentPanel,Equipment.A(),Equipment.pa(),this.f(Equipment));break;case "S":null==Skills||Skills.da||(Skills=null);Skills?(Skills.Aa(),Skills.K(),Skills=null):(Skills=new SkillsPanel,Skills.A(),Skills.pa(),this.f(Skills));break;case "Q":null==Quests||Quests.da||
(Quests=null),Quests?(Quests.Aa(),Quests.K(),Quests=null):(Quests=new QuestsPanel,Quests.A(),Quests.pa(),this.f(Quests))}},CD:function(a){var c=R.r.I.ic();R.r.I.path=null;if(!(Shop&&Shop.da||Bank&&Bank.da)&&0==c.x%1&&0==c.y%1)switch(a){case "RIGHTARROW":R.r.I.zq(c.x+1,c.y);break;case "LEFTARROW":R.r.I.zq(c.x-1,c.y);break;case "UPARROW":R.r.I.zq(c.x,c.y+1);break;case "DOWNARROW":R.r.I.zq(c.x,c.y-1)}},SL:function(a){this.NJ=a;this.b.chat_button.B(a);this.b.inventory_button.B(a);this.b.equipment_button.B(a);
this.b.skill_button.B(a);this.b.quicknav_button.ma(q.ga.g().la(!0==a?"GUI/quickmenu_opened_icon.png":"GUI/quickmenu_closed_icon.png"))},RL:function(a){this.LJ=a;this.b.mapedit_button.B(a);this.b.npcedit_button.B(a);this.b.itemedit_button.B(a);this.b.skilledit_button.B(a);this.b.scriptedit_button.B(a);this.b.settings_button.B(a);this.b.shopedit_button.B(a);this.b.questedit_button.B(a);this.b.quickedit_button.ma(q.ga.g().la(!0==a?"GUI/quickedit_opened_icon.png":"GUI/quickedit_closed_icon.png"))},Xh:function(a){if(a){switch(a){case "/whereami":var c=
R.r.I,c=c.ic();S.hc("Map: "+V.sf()+", XY: ("+c.x+","+c.y+")")}if(1<R.r.I.Lp){if("/warpmeto"==a.substring(0,9)&&4==a.split(" ").length){a=a.substring(10).split(" ");c=V.Di(a[0]);z({changemap:a[0],setTo:a[1]+a[2]*c.width});V.bq(a[0]);c=R.r.I;c.l(a[1]*M,a[2]*M);return}switch(a){case "/editscript":null==Scripteditor||Scripteditor.da||(Scripteditor=null);Scripteditor?(Scripteditor.Aa(),Scripteditor.K(),Scripteditor=null):(Scripteditor=new ScriptingList,Scripteditor.A({k:null,Ug:new ScriptEditor,list:ObjectLists.Me(),
name:"Script List"}),Scripteditor.pa(),this.f(Scripteditor));break;case "/editshop":null==Shopeditor||Shopeditor.da||(Shopeditor=null);Shopeditor?(Shopeditor.Aa(),Shopeditor.K(),Shopeditor=null):(Shopeditor=new PopupList,Shopeditor.A({k:null,Ug:new ShopEditor,list:ObjectLists.aq(),name:"Shop List"}),Shopeditor.pa(),this.f(Shopeditor));break;case "/editmap":null==Mapeditor||Mapeditor.da||(Mapeditor=null);Mapeditor?(Mapeditor.Aa(),Mapeditor.K(),Mapeditor=null,V.qt(null)):(Mapeditor=new MapEditor,Mapeditor.A(),
Mapeditor.pa(),this.f(Mapeditor),V.qt(Mapeditor));break;case "/editsettings":null==Settingseditor||Settingseditor.da||(Settingseditor=null);Settingseditor?(Settingseditor.Aa(),Settingseditor.K(),Settingseditor=null):(Settingseditor=new SettingsEditor,Settingseditor.A(),Settingseditor.pa(),this.f(Settingseditor));break;case "/editskill":null==Skillseditor||Skillseditor.da||(Skillseditor=null);Skillseditor?(Skillseditor.Aa(),Skillseditor.K(),Skillseditor=null):(Skillseditor=new PopupList,Skillseditor.A({k:null,
Ug:new SkillsEditor,list:ObjectLists.zk(),name:"Skills List"}),Skillseditor.pa(),this.f(Skillseditor));break;case "/edititem":null==Itemeditor||Itemeditor.da||(Itemeditor=null);Itemeditor?(Itemeditor.Aa(),Itemeditor.K(),Itemeditor=null,V.qt(null)):(Itemeditor=new PopupList,Itemeditor.A({k:null,Ug:new ItemEditor,list:ObjectLists.Kb(),name:"Item List"}),Itemeditor.pa(),this.f(Itemeditor));break;case "/editnpc":null==NPCeditor||NPCeditor.da||(NPCeditor=null);NPCeditor?(NPCeditor.Aa(),NPCeditor.K(),NPCeditor=
null,V.qt(null)):(NPCeditor=new PopupList,NPCeditor.A({k:null,Ug:new NPCEditor,list:ObjectLists.Xp(),name:"NPC List"}),NPCeditor.pa(),this.f(NPCeditor));break;case "/editquest":null==Questeditor||Questeditor.da||(Questeditor=null),Questeditor?(Questeditor.Aa(),Questeditor.K(),Questeditor=null,V.qt(null)):(Questeditor=new PopupList,Questeditor.A({k:null,Ug:new QuestEditor,list:ObjectLists.$p(),name:"Quest List"}),Questeditor.pa(),this.f(Questeditor))}}switch(a){case "/help":S.showHelp();break;case "/commands":S.nY();
break;case "/diceroll":a=Math.floor(6*Math.random()+1);c=G["/diceroll"];c=c.replace("\x3cPLAYER\x3e",R.r.I.getName());c=c.replace("\x3cVALUE\x3e",a);S.hc(c);z({diceroll:c});break;case "/coinflip":a=1==Math.floor(3*Math.random()+1)?"Heads":"Tails";c=G["/coinflip"];c=c.replace("\x3cPLAYER\x3e",R.r.I.getName());c=c.replace("\x3cVALUE\x3e",a);S.hc(c);z({coinflip:c});break;case "/dance":a=G["/dance"];a=a.replace("\x3cPLAYER\x3e",R.r.I.getName());S.hc(a);z({dance:a});break;case "/afk":R.r.I.updateStatus("AFK"),
z({afk:!0})}}},A:function(a){this._super();K=this;this.f(V.create());ObjectLists.g();R.create({name:a.Cj.name,zj:!0,bo:{health:{ed:1,value:100,ng:200,mg:900},mana:{ed:1,value:100,ng:200,mg:99}},map:a.Cj.location.mapnumber?a.Cj.location.mapnumber:1,position:a.Cj.location.position,Bt:"sprites1.png",zt:1,Lp:a.Cj.rank,HJ:a.Cj.inventory,GI:a.Cj.equipment,Sl:a.Cj.quests,Ci:a.Cj.extraData});V.yR();this.b.K();this.uq(-20);z({moveTo:R.r.I.ic().x+R.r.I.ic().y*O});this.f(S.create());this.f(U.create(a.Cj.skills));
this.SL(!1);this.RL(!1);this.iY();this.f(this.b);this.lc(this.CE);this.lc(this.QW);this.lc(this.JW,120)},JW:function(){var a={saveUser:!0,name:R.r.I.getName(),location:{mapnumber:V.sf(),position:R.r.I.ic().x+R.r.I.ic().y*O},inventory:R.r.I.Td(),equipment:R.r.I.ix(),skills:[],clan:"",guilds:[],quests:R.r.I.Sl,friends:[],bank:R.r.I.Dl(),pets:[],pmessages:[],lastchats:[],health:100,extraData:R.r.I.Ci};this.b.saving_icon.B(!0);this.QJ=!0;z(a);console.log("SAVING NOW!")},bT:function(){this.b.saving_icon.B(!1);
this.QJ=!1},iY:function(){1==R.r.I.Lp&&this.b.quickedit_button.B(!1)},CE:function(){if(0<A.length)for(var a=0;a<A.length;a++){var c=JSON.parse(A[a]);c.moveTo&&(!R.Fi(c.id)||R.Fi(c.id)&&!1==R.Fi(c.id).ah)?(reactToSocketMessage(JSON.stringify(c)),A.splice(a,1)):c.moveTo||(reactToSocketMessage(JSON.stringify(c)),A.splice(a,1))}},QW:function(){if(!0==MapMaster){var a=R.zN(),c;for(c in a)if(!1==a[c].Mx){var d=10*Math.random()+1,e=a[c].ic();switch(Math.floor(4*Math.random())+1){case 1:e.x++;break;case 2:e.y++;
break;case 3:e.x--;break;case 4:e.y--}a[c].MX(e,d)}}}});var Ha=q.Qa.extend({od:null,W3:!1,k:null,ot:function(a){console.log("setting focused: "+a);a&&!0==a?this.od.P.focus():(console.log("blurrin"),this.od.P.blur())},tD:function(){console.log("isfocused\x3d"+document.activeElement==this.od.P);return document.activeElement==this.od.P},na:function(a){this.od.ne(a)},ZC:function(){return this.od.Z()},A:function(){q.log("Ovveride inputbox init call if necessary")},K:function(){this.od.K()},ctor:function(a,c,d,e,f,g,h,k,l){h&&!1!=h?(this.od=MultiLineBox.create(q.size(c.width,
c.height),k?q.be.create(k):q.be.create()),this.od.nt(q.n(f.t,f.p,f.o))):(this.od=SingleLineBox.create(q.size(c.width,c.height),k?q.be.create(k):q.be.create()),c=ka(f.t,f.p,f.o),this.od.P.style.background=c);this.od.ne(e);this.od.vS=e;this.od.gE(q.n(g.t,g.p,g.o));this.od.l(d.x,d.y);this.od.w(q.a(0,1));this.od.tg(this);this.k=l;a.f(this.od);this.A()}});var Ia=Ha.extend({Bl:function(a){a.ne("")},Cl:function(a,c){c||("/"==a.Z().substring(0,1)?this.GW(a.Z()):0<a.Z().length&&S.hc(a.Z(),!0));a.ne(G["Default ChatBar Message"])},GW:function(a){D.g().nd.Xh(a)},Ai:function(a,c){a.ne(c);q.log("chatBox "+this.yG(a)+", TextChanged, text: "+c)},yG:function(){return"chatbox"}}),Z=null,S=q.Xc.extend({yC:null,TH:function(a){for(var c=[],d=0;7>d;d++)c.push(this.b.chat_panel["label"+d].ZC());this.b.chat_panel.label0.na(a);for(d=1;8>d;d++)this.b.chat_panel["label"+
d].na(c[d-1])},uc:function(){return{panels:{children:{chat_panel:{size:q.size(400,150),aa:"GUI/chat.png",e:q.a(0,0),opacity:200,position:q.a(0,0),children:{chatbar:{size:q.size(390,22),position:q.a(5,124),color:q.i(255,255,255,255)},label7:{label:"",position:q.a(5,0),e:q.a(0,0),color:q.n(0,0,0)},label6:{label:"",position:q.a(5,15),e:q.a(0,0),color:q.n(0,0,0)},label5:{label:"",position:q.a(5,30),e:q.a(0,0),color:q.n(0,0,0)},label4:{label:"",position:q.a(5,45),e:q.a(0,0),color:q.n(0,0,0)},label3:{label:"",
position:q.a(5,60),e:q.a(0,0),color:q.n(0,0,0)},label2:{label:"",position:q.a(5,75),e:q.a(0,0),color:q.n(0,0,0)},label1:{label:"",position:q.a(5,90),e:q.a(0,0),color:q.n(0,0,0)},label0:{label:"",position:q.a(5,105),e:q.a(0,0),color:q.n(0,0,0)}}}}}}}});
S.create=function(){Z||(Z=new S,Z.b=sa(Z),Z.f(Z.b),Z.yC=new Ia(Z.b.chat_panel.chatbar,q.size(Z.b.chat_panel.chatbar.c().width-4,Z.b.chat_panel.chatbar.c().height),q.a(2,Z.b.chat_panel.chatbar.c().height),G["Default ChatBar Message"],q.n(255,255,255),q.n(0,0,0)),S.uJ(),S.rY());return Z};S.g=function(){return Z};S.hc=function(a,c){50<a.length&&(a=a.substring(0,50)+"...");c?(z({chatMessage:a}),Z.TH(R.r.I.getName()+": "+a)):Z.TH(a)};S.show=function(){Z.b.yc(0)};S.uJ=function(){Z.b.yc(-76)};
S.HU=function(){return 0!=Z.b.u.U?!1:!0};S.ot=function(a){Z.yC.ot(a)};S.tD=function(){return Z.yC.tD()};S.showHelp=function(){S.hc(G["Help Text"])};S.nY=function(){S.hc(G["Command Text"])};S.rY=function(){S.hc(G["Welcome Message"])};S.pf=function(){Z.b.K();Z.b=null};S.pt=function(){Z.K();Z=null};var $=Ha.extend({cq:!1,iK:!1,yI:!1,sD:!1,Bl:function(a){!1==this.yI&&a.ne("");this.sD=!0},oq:function(a){this.od.oq(a)},g8:function(){return this.sD},Cl:function(a){this.sD=!1;this.k&&this.k.hM&&this.k.hM();null==a.Z()||""==a.Z().length&&this.iK?this.cq=!0:0<!a.Z().length?(a.ne(this.od.vS),this.cq=!1):this.cq=!0},Ai:function(a,c){a.ne(c);this.cq=!0},yG:function(){return"name_entry"},Z:function(){return!0==this.cq||!0==this.uS?this.od.Z():null},ne:function(a){this.od.ne(a);this.cq=!0},ib:function(a){this.uS=
a},Vc:function(a){this.iK=a},aL:function(a){this.yI=a},A:function(){}});var Ja,io=null,A=[];
setupserver=function(){Ja=io.connect(la["SERVER:PORT"],{"sync disconnect on unload":!0,"connect timeout":5E3,"reconnection delay ":100});Ja.on("connect",function(){W.Ty();W.IM();W.UN();console.log("Client has connected to the server!");if(D){var a=D.g().nd;a?a.$n(!0):A.push(JSON.stringify({connect:!0}))}else A.push(JSON.stringify({connect:!0}))});Ja.on("message",function(a){reactToSocketMessage(a)});Ja.on("disconnect",function(){console.log("The client has disconnected!");var a=D.g().nd;a?a.$n(!1):
A.push(JSON.stringify({disconnect:!0}))})};
reactToSocketMessage=function(a){a=JSON.parse(a);var c=!1,d;for(d in a){c=!0;break}if(!1!=c)if(console.log("Received a message from the server!",a),a.sync)a.mapdata&&W.jM(a.mapdata,a.maptime),a.warpdata&&W.By(a.warpdata,a.warptime),a.itemdata&&W.Gt(a.itemdata,a.itemtime),a.skillsdata&&W.ME(a.skillsdata,a.skillstime),a.signsdata&&W.Ay(a.signsdata,a.signstime),a.npcsdata&&W.kM(a.npcsdata,a.npcstime),a.questdata&&W.xy(a.questdata,a.queststime),a.shopsdata&&W.pM(a.shopsdata,a.shopstime),a.settingsdata&&
(W.LE(a.settingsdata,a.settingstime),G=Ca(G,a.settingsdata)),a.scriptsdata&&W.oM(a.scriptsdata,a.scriptstime),na=!0;else if(c=D.g().nd)if(a.connect?c.$n(!0):a.disconnect&&c.$n(!1),"Game"==c.Jc())if(a.newPlayer)R.xR({id:a.id,location:{position:a.position,mapnumber:a.mapnumber}});else if(a.playerLeft)R.Fi(a.playerLeft).pg==R.r.I.pg&&(MapMaster=!1),R.xI(a.playerLeft);else if(a.setTo)if(!R.Fi(a.id)||R.Fi(a.id)&&!1==R.Fi(a.id).ah){for(c=0;c<A.length;c++)d=JSON.parse(A[c]),d.moveTo&&null!=d.moveTo&&d.id==
a.id&&(A.splice(c,1),c--);R.EV({id:a.id,location:{position:a.position,mapnumber:a.mapnumber}});R.Fi(a.id).pg==R.r.I.pg&&(MapMaster=!1);R.UR(a.id,a.mapnumber)}else A.push(JSON.stringify(a));else a.moveTo?!R.Fi(a.id)||R.Fi(a.id)&&!1==R.Fi(a.id).ah?R.aV({id:a.id,location:{position:a.position,mapnumber:a.mapnumber}}):A.push(JSON.stringify(a)):a.chatMessage?S.hc(a.chatMessage):a.coinflip?S.hc(a.coinflip):a.diceroll?S.hc(a.diceroll):a.dance?S.hc(a.dance):a.afk?R.VR(a.afk):a.savemap?(W.SR(a.savemap,a.mapdata,
a.updatetime),V.kY(a.mapdata)):a.mapmaster?MapMaster=!0:a.savewarps?(W.bS(parseInt(a.savewarps),a.warpdata,a.updatetime),ObjectLists.oJ()[parseInt(a.savewarps)]=a.warpdata,Warpeditor&&(Warpeditor.hb=ObjectLists.oJ(),Warpeditor.pa())):a.savewarpswhole?(W.dW(a.savewarpswhole,a.updatetime),ObjectLists.gY(a.savewarpswhole)):a.savescripts?(W.XR(parseInt(a.savescripts),a.scriptsdata,a.updatetime),ObjectLists.Me()[parseInt(a.savescripts)]=a.scriptsdata,Scripteditor&&(Scripteditor.hb=ObjectLists.Me(),Scripteditor.pa())):
a.savescriptswhole?(W.$V(a.savescriptswhole,a.updatetime),ObjectLists.UX(a.savescriptswhole)):a.savesettings?(W.LE(a.savesettings,a.updatetime),G=Ca(G,a.savesettings),Settingseditor&&(Settingseditor.data=I(G),Settingseditor.ob())):a.savequests?(W.WR(parseInt(a.savequests),a.questdata,a.updatetime),ObjectLists.$p()[parseInt(a.savequests)]=a.questdata,Questeditor&&(Questeditor.hb=ObjectLists.$p(),Questeditor.pa())):a.savequestswhole?(n,W.ZV(a.savequestswhole,a.updatetime),ObjectLists.PX(a.savequestswhole)):
a.saveshops?(W.YR(parseInt(a.saveshops),a.shopsdata,a.updatetime),ObjectLists.aq()[parseInt(a.saveshops)]=a.shopsdata,Shopeditor&&(Shopeditor.hb=ObjectLists.aq(),Shopeditor.pa())):a.saveshopswhole?(W.aW(a.saveshopswhole,a.updatetime),ObjectLists.VX(a.saveshopswhole)):a.saveskills?(W.$R(parseInt(a.saveskills),a.skillsdata,a.updatetime),ObjectLists.zk()[parseInt(a.saveskills)]=a.skillsdata,Skillseditor&&(Skillseditor.hb=ObjectLists.zk(),Skillseditor.pa()),U.update(),Skills&&Skills.Ma()):a.saveskillswhole?
(W.cW(a.saveskillswhole,a.updatetime),ObjectLists.XX(a.saveskillswhole),U.update(),Skills&&Skills.Ma()):a.savesigns?(W.ZR(parseInt(a.savesigns),a.signsdata,a.updatetime),ObjectLists.gJ()[parseInt(a.savesigns)]=a.signsdata,Signeditor&&(Signeditor.hb=ObjectLists.gJ(),Signeditor.pa())):a.moveNPC?(a.npcID=parseInt(a.npcID),!R.Wp(a.npcID)||R.Wp(a.npcID)&&!1==R.Wp(a.npcID).ah?R.$U(a.npcID,a.moveNPC,a.mapnumber):A.push(JSON.stringify(a))):a.changeNPCPosition?R.Wp(a.npcID)&&(a.npcID=parseInt(a.npcID),R.Wp(a.npcID)&&
!1==R.Wp(a.npcID).ah?R.uW(a.npcID,a.changeNPCPosition):A.push(JSON.stringify(a))):a.savesignswhole?(W.bW(a.savesignswhole,a.updatetime),ObjectLists.WX(a.savesignswhole)):a.savenpcs?(W.TR(parseInt(a.savenpcs),a.npcsdata,a.updatetime),ObjectLists.Xp()[parseInt(a.savenpcs)]=a.npcsdata,V.bq(V.sf(),!0),NPCeditor&&(NPCeditor.hb=ObjectLists.Xp(),NPCeditor.pa())):a.savenpcswhole?(W.YV(a.savenpcswhole,a.updatetime),ObjectLists.zX(a.savenpcswhole),V.bq(V.sf(),!0),NPCeditor&&(NPCeditor.hb=ObjectLists.Xp(),NPCeditor.pa())):
a.saveitems?(W.RR(parseInt(a.saveitems),a.itemdata,a.updatetime),c=ObjectLists.Kb()[parseInt(a.saveitems)].name,ObjectLists.Kb()[parseInt(a.saveitems)]=a.itemdata,V.bq(V.sf()),Itemeditor&&(Itemeditor.hb=ObjectLists.Kb(),Itemeditor.pa()),Inventory&&Inventory.Ma(),R.r.I.Gt(c,a.itemdata)):a.droppeditem?a.mapnumber==V.sf()&&!1==V.g().$g?(c=V.lJ(a.index),c.WH(a.droppeditem,a.amount),V.Ht()):A.push(JSON.stringify(a)):a.pickupitem?a.mapnumber==V.sf()&&(c=V.lJ(a.pickupitem),c.removeItem(),V.Ht()):a.saveitemswhole?
(W.XV(a.saveitemswhole,a.updatetime),ObjectLists.rX(a.saveitemswhole)):a.savesuccess&&c.bT();else"Login"==c.Jc()&&(a.login_success?c.dV(a.login_success):a.login_fail?c.Gx(a.login_fail):a.registrationsuccess?c.gS():a.registrationfailed&&c.YS(a.registrationfailed));else A.push(JSON.stringify(a))};function z(a){Ja.send(JSON.stringify(a))}var Ka=document.createElement("SCRIPT");Ka.type="text/javascript";Ka.src=document.ccConfig["SERVER:PORT"]+"/socket.io/socket.io.js";Ka.onreadystatechange=setupserver;
Ka.onload=setupserver;document.getElementById("gameCanvas").appendChild(Ka);var D=q.Xc.extend({r:null,Op:null,nd:null,RH:null,A:function(){Ba();q.sa.g().QX(this.qV);var a=q.sa.g().zn();this.Op=q.v.create();this.Op.q(q.n(0,0,0));this.Op.jb(q.rect(0,0,a.width,a.height));this.Op.w(q.a(0,0));this.f(this.Op);W.g()&&na?(G=Ca(G,W.XC()),this.Fl("Login",{}),this.lc(this.jI),autoLoginNextTime=W.JJ(),rememberLoginNextTime=W.PJ()):this.lc(this.vJ)},qV:function(){if(D.g().nd){var a=q.sa.g();P=q.size(a.zn().width,a.zn().height);D.g().Op.jb(q.rect(0,0,P.width,P.height));D.g().nd.DD()}},
vJ:function(){W.g()&&na&&io&&(this.Oc(this.vJ),G=Ca(G,W.XC()),this.Fl("Login",{}),this.lc(this.jI),autoLoginNextTime=W.JJ(),rememberLoginNextTime=W.PJ())},jI:function(){for(var a in ma)if(!0==ma[a]&&null!=this.nd){var c=null;a=parseInt(a);switch(a){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";
break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a&&58>a||64<a&&91>a)&&(c=String.fromCharCode(a));null!=c&&this.nd.CD(c)}},Fl:function(a,c){null!=this.nd&&(this.nd.Aa(),this.nd.K(),this.nd=null);switch(a){case "Login":this.nd=new Login;break;case "Game":this.nd=new Ga}this.nd.tM();this.f(this.nd,1);this.nd.pX(a);this.nd.pa();
this.nd.A(c)},H4:function(){return this.nd.Jc()}});D.g=function(){null==this.r&&(this.r=new D);return this.r};D.Yn=function(a){null==this.r&&(this.r=new D);this.r.RH=a};D.dT=function(){null==this.r&&(this.r=new D);return this.r.RH};var P;
new (q.Mk.extend({Vw:document.ccConfig,ctor:function(){this._super();q.Ot=this.Vw.COCOS2D_DEBUG;q.bm(this.Vw.tag);q.Hy.lY().IS()},IR:function(){var a=this.Vw,c=q.fa.g(),d=q.sa.g();d.zW(!0);P=d.zn();q.size(P.width,P.height);var e=q.size(P.width,P.height),f=q.ae.g();q.Mk.g();f.yL(["res/Graphics"]);q.Zh&&q.Zh.g().Bba("res/Audio");c.dX(1);d.eE(e.width,e.height,q.so.SHOW_ALL);c.mt(1/a.frameRate);a.test?q.test(a.test):q.SU(function(a){q.iz.JD(a,function(){document.getElementById("gameCanvas").setAttribute("tabindex","0");
document.getElementById("gameCanvas").focus();var a=D.g();q.fa.g().JK(a);a.A()})});return!0}}));
//@ sourceMappingURL=sourcemap