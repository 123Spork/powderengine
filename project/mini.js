var b,aa={W_:"GUI/chat.png",X_:"GUI/close.png",j0:"GUI/defaultitem.png",z0:"GUI/equipment.png",E4:"GUI/healthbar.png",V4:"GUI/inventory.png",c6:"GUI/logout.png",m$:"GUI/signpost.png",n$:"GUI/skills.png",p$:"GUI/splash.png",G_:"building1.png",V_:"character_graphics.txt",I5:"items1.png",q$:"sprites1.png",Q$:"tile_graphics.txt",R$:"tiles1.png"};var p=p||{},da={};p.nS=function(a){var c=p.pC[da.eI.XD];if(c){for(var d=[],e=0;e<c.length;++e)d.push({src:c[e]});a(d)}else a([])};da={eI:{XD:"_0"}};p.pC={};p.pC[da.eI.XD]=[];p.pC.mP=[];var io="undefined"===typeof module?{}:module.hc;
(function(){(function(a,d){a.version="0.9.16";a.protocol=1;a.transports=[];a.j=[];a.sockets={};a.connect=function(e,f){var g=a.util.parseUri(e),h,k;d&&d.location&&(g.protocol=g.protocol||d.location.protocol.slice(0,-1),g.host=g.host||(d.document?d.document.domain:d.location.hostname),g.port=g.port||d.location.port);h=a.util.uniqueUri(g);var l={host:g.host,Gm:"https"==g.protocol,port:g.port||("https"==g.protocol?443:80),query:g.query||""};a.util.merge(l,f);if(l["force new connection"]||!a.sockets[h])k=
new a.Socket(l);!l["force new connection"]&&k&&(a.sockets[h]=k);k=k||a.sockets[h];return k.Vo(1<g.path.length?g.path:"")}})("object"===typeof module?module.hc:io,this);(function(a,d){var e=a.util={},f=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,g="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");
e.parseUri=function(a){a=f.exec(a||"");for(var c={},d=14;d--;)c[g[d]]=a[d]||"";return c};e.uniqueUri=function(a){var c=a.protocol,e=a.host;a=a.port;"document"in d?(e=e||document.domain,a=a||("https"==c&&"https:"!==document.location.protocol?443:document.location.port)):(e=e||"localhost",a||"https"!=c||(a=443));return(c||"http")+"://"+e+":"+(a||80)};e.query=function(a,c){var d=e.chunkQuery(a||""),f=[];e.merge(d,e.chunkQuery(c||""));for(var g in d)d.hasOwnProperty(g)&&f.push(g+"\x3d"+d[g]);return f.length?
"?"+f.join("\x26"):""};e.chunkQuery=function(a){var c={};a=a.split("\x26");for(var d=0,e=a.length,f;d<e;++d)f=a[d].split("\x3d"),f[0]&&(c[f[0]]=f[1]);return c};var h=!1;e.load=function(a){if("document"in d&&"complete"===document.readyState||h)return a();e.on(d,"load",a,!1)};e.on=function(a,c,d,e){a.attachEvent?a.attachEvent("on"+c,d):a.addEventListener&&a.addEventListener(c,d,e)};e.request=function(a){if(a&&"undefined"!=typeof XDomainRequest&&!e.ua.hasCORS)return new XDomainRequest;if("undefined"!=
typeof XMLHttpRequest&&(!a||e.ua.hasCORS))return new XMLHttpRequest;if(!a)try{return new (window[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(c){}return null};"undefined"!=typeof window&&e.load(function(){h=!0});e.defer=function(a){if(!e.ua.webkit||"undefined"!=typeof importScripts)return a();e.load(function(){setTimeout(a,100)})};e.merge=function(a,c,d,f){f=f||[];d="undefined"==typeof d?2:d;for(var g in c)c.hasOwnProperty(g)&&0>e.indexOf(f,g)&&("object"===typeof a[g]&&d?e.merge(a[g],
c[g],d-1,f):(a[g]=c[g],f.push(c[g])));return a};e.mixin=function(a,c){e.merge(a.prototype,c.prototype)};e.inherit=function(a,c){function d(){}d.prototype=c.prototype;a.prototype=new d};e.isArray=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};e.intersect=function(a,c){for(var d=[],f=a.length>c.length?a:c,g=a.length>c.length?c:a,h=0,v=g.length;h<v;h++)~e.indexOf(f,g[h])&&d.push(g[h]);return d};e.indexOf=function(a,c,d){var e=a.length;for(d=0>d?0>d+e?0:d+e:d||
0;d<e&&a[d]!==c;d++);return e<=d?-1:d};e.toArray=function(a){for(var c=[],d=0,e=a.length;d<e;d++)c.push(a[d]);return c};e.ua={};e.ua.hasCORS="undefined"!=typeof XMLHttpRequest&&function(){try{var a=new XMLHttpRequest}catch(c){return!1}return void 0!=a.withCredentials}();e.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent);e.ua.iDevice="undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)})("undefined"!=typeof io?io:module.hc,this);(function(a,d){function e(){}
a.EventEmitter=e;e.prototype.on=function(a,c){this.jf||(this.jf={});this.jf[a]?d.util.isArray(this.jf[a])?this.jf[a].push(c):this.jf[a]=[this.jf[a],c]:this.jf[a]=c;return this};e.prototype.MS=function(a){var c="connect";function d(){e.removeListener(c,d);a.apply(this,arguments)}var e=this;d.jw=a;this.on(c,d)};e.prototype.removeListener=function(a,c){if(this.jf&&this.jf[a]){var e=this.jf[a];if(d.util.isArray(e)){for(var k=-1,l=0,m=e.length;l<m;l++)if(e[l]===c||e[l].jw&&e[l].jw===c){k=l;break}if(0>
k)return this;e.splice(k,1);e.length||delete this.jf[a]}else(e===c||e.jw&&e.jw===c)&&delete this.jf[a]}return this};e.prototype.zo=function(a){if(!this.jf)return!1;var c=this.jf[a];if(!c)return!1;var e=Array.prototype.slice.call(arguments,1);if("function"==typeof c)c.apply(this,e);else if(d.util.isArray(c))for(var c=c.slice(),k=0,l=c.length;k<l;k++)c[k].apply(this,e);else return!1;return!0}})("undefined"!=typeof io?io:module.hc,"undefined"!=typeof io?io:module.parent.hc);(function(a,d){function e(a){return 10>
a?"0"+a:a}function f(a){l.lastIndex=0;return l.test(a)?'"'+a.replace(l,function(a){var c=s[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function g(a,c){var d,h,k,l,s=m,N,M=c[a];M instanceof Date&&(M=isFinite(a.valueOf())?a.getUTCFullYear()+"-"+e(a.getUTCMonth()+1)+"-"+e(a.getUTCDate())+"T"+e(a.getUTCHours())+":"+e(a.getUTCMinutes())+":"+e(a.getUTCSeconds())+"Z":null);"function"===typeof q&&(M=q.call(c,a,M));switch(typeof M){case "string":return f(M);
case "number":return isFinite(M)?String(M):"null";case "boolean":case "null":return String(M);case "object":if(!M)return"null";m+=n;N=[];if("[object Array]"===Object.prototype.toString.apply(M)){l=M.length;for(d=0;d<l;d+=1)N[d]=g(d,M)||"null";k=0===N.length?"[]":m?"[\n"+m+N.join(",\n"+m)+"\n"+s+"]":"["+N.join(",")+"]";m=s;return k}if(q&&"object"===typeof q)for(l=q.length,d=0;d<l;d+=1)"string"===typeof q[d]&&(h=q[d],(k=g(h,M))&&N.push(f(h)+(m?": ":":")+k));else for(h in M)Object.prototype.hasOwnProperty.call(M,
h)&&(k=g(h,M))&&N.push(f(h)+(m?": ":":")+k);k=0===N.length?"{}":m?"{\n"+m+N.join(",\n"+m)+"\n"+s+"}":"{"+N.join(",")+"}";m=s;return k}}if(d&&d.parse)return a.JSON={parse:d.parse,stringify:d.stringify};var h=a.JSON={},k=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,m,n,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f",
"\r":"\\r",'"':'\\"',"\\":"\\\\"},q;h.stringify=function(a,c,d){var e;n=m="";if("number"===typeof d)for(e=0;e<d;e+=1)n+=" ";else"string"===typeof d&&(n=d);if((q=c)&&"function"!==typeof c&&("object"!==typeof c||"number"!==typeof c.length))throw Error("JSON.stringify");return g("",{"":a})};h.parse=function(a,c){function d(a,e){var f,g,h=a[e];if(h&&"object"===typeof h)for(f in h)Object.prototype.hasOwnProperty.call(h,f)&&(g=d(h,f),void 0!==g?h[f]=g:delete h[f]);return c.call(a,e,h)}var e;a=String(a);
k.lastIndex=0;k.test(a)&&(a=a.replace(k,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"===typeof c?d({"":e},""):e;throw new SyntaxError("JSON.parse");}})("undefined"!=typeof io?io:module.hc,"undefined"!==typeof JSON?JSON:void 0);(function(a,d){var e=
a.parser={},f=e.packets="disconnect connect heartbeat message json event ack error noop".split(" "),g=e.reasons=["transport not supported","client not handshaken","unauthorized"],h=e.advice=["reconnect"],k=d.JSON,l=d.util.indexOf;e.encodePacket=function(a){var c=l(f,a.type),d=a.id||"",e=a.Qv||"",m=a.so,D=null;switch(a.type){case "error":var F=a.reason?l(g,a.reason):"";a=a.advice?l(h,a.advice):"";if(""!==F||""!==a)D=F+(""!==a?"+"+a:"");break;case "message":""!==a.data&&(D=a.data);break;case "event":D=
{name:a.name};a.De&&a.De.length&&(D.De=a.De);D=k.stringify(D);break;case "json":D=k.stringify(a.data);break;case "connect":a.fI&&(D=a.fI);break;case "ack":D=a.to+(a.De&&a.De.length?"+"+k.stringify(a.De):"")}c=[c,d+("data"==m?"+":""),e];null!==D&&void 0!==D&&c.push(D);return c.join(":")};e.encodePayload=function(a){var c="";if(1==a.length)return a[0];for(var d=0,e=a.length;d<e;d++)c+="\ufffd"+a[d].length+"\ufffd"+a[d];return c};var m=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;e.decodePacket=function(a){var c=
a.match(m);if(!c)return{};var d=c[2]||"";a=c[5]||"";var e={type:f[c[1]],Qv:c[4]||""};d&&(e.id=d,e.so=c[3]?"data":!0);switch(e.type){case "error":c=a.split("+");e.reason=g[c[0]]||"";e.advice=h[c[1]]||"";break;case "message":e.data=a||"";break;case "event":try{var l=k.parse(a);e.name=l.name;e.De=l.De}catch(D){}e.De=e.De||[];break;case "json":try{e.data=k.parse(a)}catch(F){}break;case "connect":e.fI=a||"";break;case "ack":if(c=a.match(/^([0-9]+)(\+)?(.*)/))if(e.to=c[1],e.De=[],c[3])try{e.De=c[3]?k.parse(c[3]):
[]}catch(L){}}return e};e.decodePayload=function(a){if("\ufffd"==a.charAt(0)){for(var c=[],d=1,f="";d<a.length;d++)"\ufffd"==a.charAt(d)?(c.push(e.decodePacket(a.substr(d+1).substr(0,f))),d+=Number(f)+1,f=""):f+=a.charAt(d);return c}return[e.decodePacket(a)]}})("undefined"!=typeof io?io:module.hc,"undefined"!=typeof io?io:module.parent.hc);(function(a,d){function e(a,c){this.gb=a;this.hU=c}a.Transport=e;d.util.mixin(e,d.EventEmitter);e.prototype.nH=function(){return!0};e.prototype.Xr=function(a){this.XA();
(this.gb.Pg||this.gb.$f||this.gb.ym)&&this.EI();if(""!==a&&(a=d.parser.decodePayload(a))&&a.length)for(var c=0,e=a.length;c<e;c++)this.Yr(a[c])};e.prototype.Yr=function(a){this.gb.LI();if("heartbeat"==a.type)return this.yS();"connect"==a.type&&""==a.Qv&&this.WB();"error"==a.type&&"reconnect"==a.advice&&(this.Mr=!1);this.gb.Yr(a);return this};e.prototype.EI=function(){if(!this.wo){var a=this;this.wo=setTimeout(function(){a.sm()},this.gb.wo)}};e.prototype.sm=function(){this.Mr&&this.close();this.YA();
this.gb.sm();return this};e.prototype.WB=function(){this.gb.WB();return this};e.prototype.XA=function(){this.wo&&(clearTimeout(this.wo),this.wo=null)};e.prototype.YA=function(){this.XA();this.NT&&clearTimeout(this.NT)};e.prototype.Cf=function(a){this.send(d.parser.encodePacket(a))};e.prototype.yS=function(){this.Cf({type:"heartbeat"})};e.prototype.mw=function(){this.Mr=!0;this.XA();this.gb.mw()};e.prototype.Hh=function(){this.Mr=!1;this.gb.Hh();this.sm()};e.prototype.$r=function(){var a=this.gb.options;
return this.scheme()+"://"+a.host+":"+a.port+"/"+a.yw+"/"+d.protocol+"/"+this.name+"/"+this.hU};e.prototype.sw=function(a,c){c.call(this)}})("undefined"!=typeof io?io:module.hc,"undefined"!=typeof io?io:module.parent.hc);(function(a,d,e){function f(a){this.options={port:80,Gm:!1,document:"document"in e?document:!1,yw:"socket.io",transports:d.transports,"connect timeout":1E4,"try multiple transports":!0,reconnect:!0,"reconnection delay":500,"reconnection limit":Infinity,"reopen delay":3E3,"max reconnection attempts":10,
"sync disconnect on unload":!1,"auto connect":!0,"flash policy port":10843,manualFlush:!1};d.util.merge(this.options,a);this.ym=this.$f=this.open=this.Pg=!1;this.namespaces={};this.buffer=[];this.eB=!1;if(this.options["sync disconnect on unload"]&&(!this.Mo()||d.util.ua.hasCORS)){var c=this;d.util.on(e,"beforeunload",function(){c.$P()},!1)}this.options["auto connect"]&&this.connect()}function g(){}a.Socket=f;d.util.mixin(f,d.EventEmitter);f.prototype.Vo=function(a){this.namespaces[a]||(this.namespaces[a]=
new d.SocketNamespace(this,a),""!==a&&this.namespaces[a].Cf({type:"connect"}));return this.namespaces[a]};f.prototype.Mk=function(){this.zo.apply(this,arguments);var a,c;for(c in this.namespaces)this.namespaces.hasOwnProperty(c)&&(a=this.Vo(c),a.Lj.apply(a,arguments))};f.prototype.uR=function(a){function c(d){d instanceof Error?(e.$f=!1,e.tm(d.message)):a.apply(null,d.split(":"))}var e=this,f=this.options,f=["http"+(f.Gm?"s":"")+":/",f.host+":"+f.port,f.yw,d.protocol,d.util.query(this.options.query,
"t\x3d"+ +new Date)].join("/");if(this.Mo()&&!d.util.ua.hasCORS){var n=document.getElementsByTagName("script")[0],s=document.createElement("script");s.src=f+"\x26jsonp\x3d"+d.j.length;n.parentNode.insertBefore(s,n);d.j.push(function(a){c(a);s.parentNode.removeChild(s)})}else{var q=d.util.request();q.open("GET",f,!0);this.Mo()&&(q.withCredentials=!0);q.onreadystatechange=function(){4==q.readyState&&(q.onreadystatechange=g,200==q.status?c(q.responseText):403==q.status?e.tm(q.responseText):(e.$f=!1,
!e.ym&&e.tm(q.responseText)))};q.send(null)}};f.prototype.fH=function(a){a=a||this.transports;for(var c=0,e;e=a[c];c++)if(d.Transport[e]&&d.Transport[e].fm(this)&&(!this.Mo()||d.Transport[e].ys(this)))return new d.Transport[e](this,this.wI);return null};f.prototype.connect=function(a){if(this.$f)return this;var c=this;c.$f=!0;this.uR(function(e,f,g,s){function q(a){c.Ke&&c.Ke.YA();c.Ke=c.fH(a);c.Ke?c.Ke.sw(c,function(){c.$f=!0;c.Mk("connecting",c.Ke.name);c.Ke.open();c.options["connect timeout"]&&
(c.IP=setTimeout(function(){if(!c.Pg&&(c.$f=!1,c.options["try multiple transports"])){for(var a=c.transports;0<a.length&&a.splice(0,1)[0]!=c.Ke.name;);a.length?q(a):c.Mk("connect_failed")}},c.options["connect timeout"]))}):c.Mk("connect_failed")}c.wI=e;c.wo=1E3*g;c.yR=1E3*f;c.transports||(c.transports=c.NS=s?d.util.intersect(s.split(","),c.options.transports):c.options.transports);c.LI();q(c.transports);c.MS(function(){clearTimeout(c.IP);a&&"function"==typeof a&&a()})});return this};f.prototype.LI=
function(){clearTimeout(this.mH);if(!this.Ke||this.Ke.nH()){var a=this;this.mH=setTimeout(function(){a.Ke.Hh()},this.yR)}};f.prototype.Cf=function(a){this.Pg&&!this.eB?this.Ke.Cf(a):this.buffer.push(a);return this};f.prototype.Fj=function(a){this.eB=a;!a&&this.Pg&&this.buffer.length&&(this.options.manualFlush||this.qQ())};f.prototype.qQ=function(){this.Ke.YH(this.buffer);this.buffer=[]};f.prototype.disconnect=function(){if(this.Pg||this.$f)this.open&&this.Vo("").Cf({type:"disconnect"}),this.sm("booted");
return this};f.prototype.$P=function(){var a=d.util.request();a.open("GET",["http"+(this.options.Gm?"s":"")+":/",this.options.host+":"+this.options.port,this.options.yw,d.protocol,"",this.wI].join("/")+"/?disconnect\x3d1",!1);a.send(null);this.sm("booted")};f.prototype.Mo=function(){var a=e.location.port||("https:"==e.location.protocol?443:80);return this.options.host!==e.location.hostname||this.options.port!=a};f.prototype.WB=function(){this.Pg||(this.Pg=!0,this.$f=!1,this.eB||this.Fj(!1),this.zo("connect"))};
f.prototype.mw=function(){this.open=!0};f.prototype.Hh=function(){this.open=!1;clearTimeout(this.mH)};f.prototype.Yr=function(a){this.Vo(a.Qv).Yr(a)};f.prototype.tm=function(a){a&&a.advice&&"reconnect"===a.advice&&(this.Pg||this.$f)&&(this.disconnect(),this.options.tw&&this.tw());this.Mk("error",a&&a.reason?a.reason:a)};f.prototype.sm=function(a){var c=this.Pg,d=this.$f;this.open=this.$f=this.Pg=!1;if(c||d)this.Ke.close(),this.Ke.YA(),c&&(this.Mk("disconnect",a),"booted"!=a&&this.options.tw&&!this.ym&&
this.tw())};f.prototype.tw=function(){function a(){if(d.Pg){for(var e in d.namespaces)d.namespaces.hasOwnProperty(e)&&""!==e&&d.namespaces[e].Cf({type:"connect"});d.Mk("reconnect",d.Ke.name,d.uw)}clearTimeout(d.vw);d.removeListener("connect_failed",c);d.removeListener("connect",c);d.ym=!1;delete d.uw;delete d.zm;delete d.vw;delete d.jI;d.options["try multiple transports"]=f}function c(){if(d.ym){if(d.Pg)return a();if(d.$f&&d.ym)return d.vw=setTimeout(c,1E3);d.uw++>=e?d.jI?(d.Mk("reconnect_failed"),
a()):(d.on("connect_failed",c),d.options["try multiple transports"]=!0,d.transports=d.NS,d.Ke=d.fH(),d.jI=!0,d.connect()):(d.zm<g&&(d.zm*=2),d.connect(),d.Mk("reconnecting",d.zm,d.uw),d.vw=setTimeout(c,d.zm))}}this.ym=!0;this.uw=0;this.zm=this.options["reconnection delay"];var d=this,e=this.options["max reconnection attempts"],f=this.options["try multiple transports"],g=this.options["reconnection limit"];this.options["try multiple transports"]=!1;this.vw=setTimeout(c,this.zm);this.on("connect",c)}})("undefined"!=
typeof io?io:module.hc,"undefined"!=typeof io?io:module.parent.hc,this);(function(a,d){function e(a,c){this.gb=a;this.name=c||"";this.Sv={};this.eS=new f(this,"json");this.cG=0;this.or={}}function f(a,c){this.Uo=a;this.name=c}a.SocketNamespace=e;d.util.mixin(e,d.EventEmitter);e.prototype.Lj=d.EventEmitter.prototype.zo;e.prototype.Vo=function(){return this.gb.Vo.apply(this.gb,arguments)};e.prototype.Cf=function(a){a.Qv=this.name;this.gb.Cf(a);this.Sv={};return this};e.prototype.send=function(a,c){var d=
{type:this.Sv.eS?"json":"message",data:a};"function"==typeof c&&(d.id=++this.cG,d.so=!0,this.or[d.id]=c);return this.Cf(d)};e.prototype.zo=function(a){var c=Array.prototype.slice.call(arguments,1),d=c[c.length-1],e={type:"event",name:a};"function"==typeof d&&(e.id=++this.cG,e.so="data",this.or[e.id]=d,c=c.slice(0,c.length-1));e.De=c;return this.Cf(e)};e.prototype.disconnect=function(){""===this.name?this.gb.disconnect():(this.Cf({type:"disconnect"}),this.Lj("disconnect"));return this};e.prototype.Yr=
function(a){function c(){e.Cf({type:"ack",De:d.util.toArray(arguments),to:a.id})}var e=this;switch(a.type){case "connect":this.Lj("connect");break;case "disconnect":""===this.name?this.gb.sm(a.reason||"booted"):this.Lj("disconnect",a.reason);break;case "message":case "json":var f=["message",a.data];"data"==a.so?f.push(c):a.so&&this.Cf({type:"ack",to:a.id});this.Lj.apply(this,f);break;case "event":f=[a.name].concat(a.De);"data"==a.so&&f.push(c);this.Lj.apply(this,f);break;case "ack":this.or[a.to]&&
(this.or[a.to].apply(this,a.De),delete this.or[a.to]);break;case "error":a.advice?this.gb.tm(a):"unauthorized"==a.reason?this.Lj("connect_failed",a.reason):this.Lj("error",a.reason)}};f.prototype.send=function(){this.Uo.Sv[this.name]=!0;this.Uo.send.apply(this.Uo,arguments)};f.prototype.zo=function(){this.Uo.Sv[this.name]=!0;this.Uo.zo.apply(this.Uo,arguments)}})("undefined"!=typeof io?io:module.hc,"undefined"!=typeof io?io:module.parent.hc);(function(a,d,e){function f(a){d.Transport.apply(this,arguments)}
a.qg=f;d.util.inherit(f,d.Transport);f.prototype.name="websocket";f.prototype.open=function(){var a=d.util.query(this.gb.options.query),c=this,f;f||(f=e.MX||e.EL);this.qg=new f(this.$r()+a);this.qg.onopen=function(){c.mw();c.gb.Fj(!1)};this.qg.onmessage=function(a){c.Xr(a.data)};this.qg.onclose=function(){c.Hh();c.gb.Fj(!0)};this.qg.onerror=function(a){c.tm(a)};return this};f.prototype.send=d.util.ua.iDevice?function(a){var c=this;setTimeout(function(){c.qg.send(a)},0);return this}:function(a){this.qg.send(a);
return this};f.prototype.YH=function(a){for(var c=0,d=a.length;c<d;c++)this.Cf(a[c]);return this};f.prototype.close=function(){this.qg.close();return this};f.prototype.tm=function(a){this.gb.tm(a)};f.prototype.scheme=function(){return this.gb.options.Gm?"wss":"ws"};f.fm=function(){return"WebSocket"in e&&!("__addTask"in WebSocket)||"MozWebSocket"in e};f.ys=function(){return!0};d.transports.push("websocket")})("undefined"!=typeof io?io.Transport:module.hc,"undefined"!=typeof io?io:module.parent.hc,
this);(function(c,d){function e(){d.Transport.qg.apply(this,arguments)}c.S0=e;d.util.inherit(e,d.Transport.qg);e.prototype.name="flashsocket";e.prototype.open=function(){var a=this,c=arguments;WebSocket.Mt(function(){d.Transport.qg.prototype.open.apply(a,c)});return this};e.prototype.send=function(){var a=this,c=arguments;WebSocket.Mt(function(){d.Transport.qg.prototype.send.apply(a,c)});return this};e.prototype.close=function(){WebSocket.Gp.length=0;d.Transport.qg.prototype.close.call(this);return this};
e.prototype.sw=function(a,c){function h(){var d=a.options,h=d["flash policy port"],n=["http"+(d.Gm?"s":"")+":/",d.host+":"+d.port,d.yw,"static/flashsocket","WebSocketMain"+(a.Mo()?"Insecure":"")+".swf"];e.loaded||("undefined"===typeof WEB_SOCKET_SWF_LOCATION&&(WEB_SOCKET_SWF_LOCATION=n.join("/")),843!==h&&WebSocket.mS("xmlsocket://"+d.host+":"+h),WebSocket.jy(),e.loaded=!0);c.call(k)}var k=this;if(document.body)return h();d.util.load(h)};e.fm=function(){return"undefined"!=typeof WebSocket&&"__initialize"in
WebSocket&&a?10<=a.CQ().rS:!1};e.ys=function(){return!0};"undefined"!=typeof window&&(WEB_SOCKET_DISABLE_AUTO_INITIALIZATION=!0);d.transports.push("flashsocket")})("undefined"!=typeof io?io.Transport:module.hc,"undefined"!=typeof io?io:module.parent.hc);if("undefined"!=typeof window)var a=function(){function c(){if(!ha){try{var a=E.getElementsByTagName("body")[0].appendChild(E.createElement("span"));a.parentNode.removeChild(a)}catch(c){return}ha=!0;for(var a=sa.length,d=0;d<a;d++)sa[d]()}}function d(a){ha?
a():sa[sa.length]=a}function e(a){if(typeof X.addEventListener!=I)X.addEventListener("load",a,!1);else if(typeof E.addEventListener!=I)E.addEventListener("load",a,!1);else if(typeof X.attachEvent!=I)z(X,a);else if("function"==typeof X.onload){var c=X.onload;X.onload=function(){c();a()}}else X.onload=a}function f(){var a=E.getElementsByTagName("body")[0],c=E.createElement(N);c.setAttribute("type",M);var d=a.appendChild(c);if(d){var e=0;(function(){if(typeof d.GetVariable!=I){var f=d.GetVariable("$version");
f&&(f=f.split(" ")[1].split(","),A.Yo=[parseInt(f[0],10),parseInt(f[1],10),parseInt(f[2],10)])}else if(10>e){e++;setTimeout(arguments.callee,10);return}a.removeChild(c);d=null;g()})()}else g()}function g(){var a=fa.length;if(0<a)for(var c=0;c<a;c++){var d=fa[c].id,e=fa[c].qP,f={Mm:!1,id:d};if(0<A.Yo[0]){var g=v(d);if(g)if(!D(fa[c].MV)||A.Kj&&312>A.Kj)if(fa[c].JG&&k()){f={};f.data=fa[c].JG;f.width=g.getAttribute("width")||"0";f.height=g.getAttribute("height")||"0";g.getAttribute("class")&&(f.w$=g.getAttribute("class"));
g.getAttribute("align")&&(f.align=g.getAttribute("align"));for(var n={},g=g.getElementsByTagName("param"),q=g.length,s=0;s<q;s++)"movie"!=g[s].getAttribute("name").toLowerCase()&&(n[g[s].getAttribute("name")]=g[s].getAttribute("value"));l(f,n,d,e)}else m(g),e&&e(f);else L(d,!0),e&&(f.Mm=!0,f.kI=h(d),e(f))}else L(d,!0),e&&((d=h(d))&&typeof d.SetVariable!=I&&(f.Mm=!0,f.kI=d),e(f))}}function h(a){var c=null;(a=v(a))&&"OBJECT"==a.nodeName&&(typeof a.SetVariable!=I?c=a:(a=a.getElementsByTagName(N)[0])&&
(c=a));return c}function k(){return!ta&&D("6.0.65")&&(A.ah||A.LH)&&!(A.Kj&&312>A.Kj)}function l(a,c,d,e){ta=!0;za=e||null;Ga={Mm:!1,id:d};var f=v(d);if(f){"OBJECT"==f.nodeName?(qa=n(f),ua=null):(qa=f,ua=d);a.id=ka;if(typeof a.width==I||!/%$/.test(a.width)&&310>parseInt(a.width,10))a.width="310";if(typeof a.height==I||!/%$/.test(a.height)&&137>parseInt(a.height,10))a.height="137";E.title=E.title.slice(0,47)+" - Flash Player Installation";e=A.Ug&&A.ah?["Active"].concat("").join("X"):"PlugIn";e="MMredirectURL\x3d"+
X.location.toString().replace(/&/g,"%26")+"\x26MMplayerType\x3d"+e+"\x26MMdoctitle\x3d"+E.title;c.tr=typeof c.tr!=I?c.tr+("\x26"+e):e;A.Ug&&A.ah&&4!=f.readyState&&(e=E.createElement("div"),d+="SWFObjectNew",e.setAttribute("id",d),f.parentNode.insertBefore(e,f),f.style.display="none",function(){4==f.readyState?f.parentNode.removeChild(f):setTimeout(arguments.callee,10)}());s(a,c,d)}}function m(a){if(A.Ug&&A.ah&&4!=a.readyState){var c=E.createElement("div");a.parentNode.insertBefore(c,a);c.parentNode.replaceChild(n(a),
c);a.style.display="none";(function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)})()}else a.parentNode.replaceChild(n(a),a)}function n(a){var c=E.createElement("div");if(A.ah&&A.Ug)c.innerHTML=a.innerHTML;else if(a=a.getElementsByTagName(N)[0])if(a=a.childNodes)for(var d=a.length,e=0;e<d;e++)1==a[e].nodeType&&"PARAM"==a[e].nodeName||8==a[e].nodeType||c.appendChild(a[e].cloneNode(!0));return c}function s(a,c,d){var e,f=v(d);if(A.Kj&&312>A.Kj)return e;if(f)if(typeof a.id==
I&&(a.id=d),A.Ug&&A.ah){var g="",h;for(h in a)a[h]!=Object.prototype[h]&&("data"==h.toLowerCase()?c.k6=a[h]:"styleclass"==h.toLowerCase()?g+=' class\x3d"'+a[h]+'"':"classid"!=h.toLowerCase()&&(g+=" "+h+'\x3d"'+a[h]+'"'));h="";for(var k in c)c[k]!=Object.prototype[k]&&(h+='\x3cparam name\x3d"'+k+'" value\x3d"'+c[k]+'" /\x3e');f.outerHTML='\x3cobject classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+g+"\x3e"+h+"\x3c/object\x3e";va[va.length]=a.id;e=v(a.id)}else{k=E.createElement(N);k.setAttribute("type",
M);for(var l in a)a[l]!=Object.prototype[l]&&("styleclass"==l.toLowerCase()?k.setAttribute("class",a[l]):"classid"!=l.toLowerCase()&&k.setAttribute(l,a[l]));for(g in c)c[g]!=Object.prototype[g]&&"movie"!=g.toLowerCase()&&(a=k,h=g,l=c[g],d=E.createElement("param"),d.setAttribute("name",h),d.setAttribute("value",l),a.appendChild(d));f.parentNode.replaceChild(k,f);e=k}return e}function q(a){var c=v(a);c&&"OBJECT"==c.nodeName&&(A.Ug&&A.ah?(c.style.display="none",function(){if(4==c.readyState){var d=v(a);
if(d){for(var e in d)"function"==typeof d[e]&&(d[e]=null);d.parentNode.removeChild(d)}}else setTimeout(arguments.callee,10)}()):c.parentNode.removeChild(c))}function v(a){var c=null;try{c=E.getElementById(a)}catch(d){}return c}function z(a,c){a.attachEvent("onload",c);la[la.length]=[a,"onload",c]}function D(a){var c=A.Yo;a=a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return c[0]>a[0]||c[0]==a[0]&&c[1]>a[1]||c[0]==a[0]&&c[1]==a[1]&&c[2]>=a[2]?!0:!1}function F(a,
c,d,e){if(!A.Ug||!A.LH){var f=E.getElementsByTagName("head")[0];f&&(d=d&&"string"==typeof d?d:"screen",e&&(Aa=ca=null),ca&&Aa==d||(e=E.createElement("style"),e.setAttribute("type","text/css"),e.setAttribute("media",d),ca=f.appendChild(e),A.Ug&&A.ah&&typeof E.styleSheets!=I&&0<E.styleSheets.length&&(ca=E.styleSheets[E.styleSheets.length-1]),Aa=d),A.Ug&&A.ah?ca&&typeof ca.addRule==N&&ca.addRule(a,c):ca&&typeof E.createTextNode!=I&&ca.appendChild(E.createTextNode(a+" {"+c+"}")))}}function L(a,c){if(Ha){var d=
c?"visible":"hidden";ha&&v(a)?v(a).style.visibility=d:F("#"+a,"visibility:"+d)}}function ba(a){return null!=/[\\\"<>\.;]/.exec(a)&&typeof encodeURIComponent!=I?encodeURIComponent(a):a}var I="undefined",N="object",M="application/x-shockwave-flash",ka="SWFObjectExprInst",X=window,E=document,ga=navigator,Ia=!1,sa=[function(){Ia?f():g()}],fa=[],va=[],la=[],qa,ua,za,Ga,ha=!1,ta=!1,ca,Aa,Ha=!0,A=function(){var a=typeof E.getElementById!=I&&typeof E.getElementsByTagName!=I&&typeof E.createElement!=I,c=ga.userAgent.toLowerCase(),
d=ga.platform.toLowerCase(),e=d?/win/.test(d):/win/.test(c),d=d?/mac/.test(d):/mac/.test(c),c=/webkit/.test(c)?parseFloat(c.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,f=!+"\v1",g=[0,0,0],h=null;if(typeof ga.plugins!=I&&typeof ga.plugins["Shockwave Flash"]==N)!(h=ga.plugins["Shockwave Flash"].description)||typeof ga.mimeTypes!=I&&ga.mimeTypes[M]&&!ga.mimeTypes[M].enabledPlugin||(Ia=!0,f=!1,h=h.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),g[0]=parseInt(h.replace(/^(.*)\..*$/,"$1"),10),g[1]=parseInt(h.replace(/^.*\.(.*)\s.*$/,
"$1"),10),g[2]=/[a-zA-Z]/.test(h)?parseInt(h.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof X[["Active"].concat("Object").join("X")]!=I)try{var k=new (window[["Active"].concat("Object").join("X")])("ShockwaveFlash.ShockwaveFlash");k&&(h=k.GetVariable("$version"))&&(f=!0,h=h.split(" ")[1].split(","),g=[parseInt(h[0],10),parseInt(h[1],10),parseInt(h[2],10)])}catch(l){}return{Xk:a,Yo:g,Kj:c,Ug:f,ah:e,LH:d}}();(function(){A.Xk&&((typeof E.readyState!=I&&"complete"==E.readyState||typeof E.readyState==
I&&(E.getElementsByTagName("body")[0]||E.body))&&c(),ha||(typeof E.addEventListener!=I&&E.addEventListener("DOMContentLoaded",c,!1),A.Ug&&A.ah&&(E.attachEvent("onreadystatechange",function(){"complete"==E.readyState&&(E.detachEvent("onreadystatechange",arguments.callee),c())}),X==top&&function(){if(!ha){try{E.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}c()}}()),A.Kj&&function(){ha||(/loaded|complete/.test(E.readyState)?c():setTimeout(arguments.callee,0))}(),e(c)))})();
(function(){A.Ug&&A.ah&&window.attachEvent("onunload",function(){for(var c=la.length,d=0;d<c;d++)la[d][0].detachEvent(la[d][1],la[d][2]);c=va.length;for(d=0;d<c;d++)q(va[d]);for(var e in A)A[e]=null;A=null;for(var f in a)a[f]=null;a=null})})();return{u7:function(a,c,d,e){if(A.Xk&&a&&c){var f={};f.id=a;f.MV=c;f.JG=d;f.qP=e;fa[fa.length]=f;L(a,!1)}else e&&e({Mm:!1,id:a})},K2:function(a){if(A.Xk)return h(a)},kQ:function(a,c,e,f,g,h,m,n,q,v){var z={Mm:!1,id:c};A.Xk&&!(A.Kj&&312>A.Kj)&&a&&c&&e&&f&&g?(L(c,
!1),d(function(){e+="";f+="";var d={};if(q&&typeof q===N)for(var A in q)d[A]=q[A];d.data=a;d.width=e;d.height=f;A={};if(n&&typeof n===N)for(var F in n)A[F]=n[F];if(m&&typeof m===N)for(var E in m)A.tr=typeof A.tr!=I?A.tr+("\x26"+E+"\x3d"+m[E]):E+"\x3d"+m[E];if(D(g))F=s(d,A,c),d.id==c&&L(c,!0),z.Mm=!0,z.kI=F;else{if(h&&k()){d.data=h;l(d,A,c,v);return}L(c,!0)}v&&v(z)})):v&&v(z)},E$:function(){Ha=!1},ua:A,CQ:function(){return{rS:A.Yo[0],g6:A.Yo[1],lC:A.Yo[2]}},vR:D,e0:function(a,c,d){if(A.Xk)return s(a,
c,d)},k$:function(a,c,d,e){A.Xk&&k()&&l(a,c,d,e)},I7:function(a){A.Xk&&q(a)},d0:function(a,c,d,e){A.Xk&&F(a,c,d,e)},d_:d,h_:e,p3:function(a){var c=E.location.search||E.location.hash;if(c){/\?/.test(c)&&(c=c.split("?")[1]);if(null==a)return ba(c);for(var c=c.split("\x26"),d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("\x3d"))==a)return ba(c[d].substring(c[d].indexOf("\x3d")+1))}return""},C0:function(){if(ta){var a=v(ka);a&&qa&&(a.parentNode.replaceChild(qa,a),ua&&(L(ua,!0),A.Ug&&A.ah&&(qa.style.display=
"block")),za&&za(Ga));ta=!1}}}}();(function(){if("undefined"!=typeof window&&!window.EL){var c=window.console;c&&c.log&&c.error||(c={log:function(){},error:function(){}});a.vR("10.0.0")?("file:"==location.protocol&&c.error("WARNING: web-socket-js doesn't work in file:///... URL unless you set Flash Security Settings properly. Open the page via Web server i.e. http://..."),WebSocket=function(a,c,f,g,h){var k=this;k.Ot=WebSocket.LL++;WebSocket.pE[k.Ot]=k;k.readyState=WebSocket.CONNECTING;k.bufferedAmount=
0;k.gn={};c?"string"==typeof c&&(c=[c]):c=[];setTimeout(function(){WebSocket.Mt(function(){WebSocket.Vh.create(k.Ot,a,c,f||null,g||0,h||null)})},0)},WebSocket.prototype.send=function(a){if(this.readyState==WebSocket.CONNECTING)throw"INVALID_STATE_ERR: Web Socket connection has not been established";a=WebSocket.Vh.send(this.Ot,encodeURIComponent(a));if(0>a)return!0;this.bufferedAmount+=a;return!1},WebSocket.prototype.close=function(){this.readyState!=WebSocket.CLOSED&&this.readyState!=WebSocket.gD&&
(this.readyState=WebSocket.gD,WebSocket.Vh.close(this.Ot))},WebSocket.prototype.addEventListener=function(a,c){a in this.gn||(this.gn[a]=[]);this.gn[a].push(c)},WebSocket.prototype.removeEventListener=function(a,c){if(a in this.gn)for(var f=this.gn[a],g=f.length-1;0<=g;--g)if(f[g]===c){f.splice(g,1);break}},WebSocket.prototype.dispatchEvent=function(a){for(var c=this.gn[a.type]||[],f=0;f<c.length;++f)c[f](a);(c=this["on"+a.type])&&c(a)},WebSocket.prototype.IL=function(a){"readyState"in a&&(this.readyState=
a.readyState);"protocol"in a&&(this.protocol=a.protocol);if("open"==a.type||"error"==a.type)a=this.nE(a.type);else if("close"==a.type)a=this.nE("close");else if("message"==a.type)a=this.GL(decodeURIComponent(a.message));else throw"unknown event type: "+a.type;this.dispatchEvent(a)},WebSocket.prototype.nE=function(a){if(document.createEvent&&window.kX){var c=document.createEvent("Event");c.initEvent(a,!1,!1);return c}return{type:a,bubbles:!1,cancelable:!1}},WebSocket.prototype.GL=function(a){if(document.createEvent&&
window.KX&&!window.opera){var c=document.createEvent("MessageEvent");c.initMessageEvent("message",!1,!1,a,null,null,window,null);return c}return{type:"message",data:a,bubbles:!1,cancelable:!1}},WebSocket.CONNECTING=0,WebSocket.OPEN=1,WebSocket.gD=2,WebSocket.CLOSED=3,WebSocket.Vh=null,WebSocket.pE={},WebSocket.Gp=[],WebSocket.LL=0,WebSocket.mS=function(a){WebSocket.Mt(function(){WebSocket.Vh.a6(a)})},WebSocket.jy=function(){if(!WebSocket.Vh&&(WebSocket.NL&&(window.DL=WebSocket.NL),window.DL)){var d=
document.createElement("div");d.id="webSocketContainer";d.style.position="absolute";WebSocket.KL()?(d.style.left="0px",d.style.top="0px"):(d.style.left="-100px",d.style.top="-100px");var e=document.createElement("div");e.id="webSocketFlash";d.appendChild(e);document.body.appendChild(d);a.kQ(WEB_SOCKET_SWF_LOCATION,"webSocketFlash","1","1","10.0.0",null,null,{D4:!0,H$:!0,u_:"always"},null,function(a){a.Mm||c.error("[WebSocket] swfobject.embedSWF failed")})}},WebSocket.lZ=function(){setTimeout(function(){WebSocket.Vh=
document.getElementById("webSocketFlash");WebSocket.Vh.i8(location.href);WebSocket.Vh.r8(!!window.XY);for(var a=0;a<WebSocket.Gp.length;++a)WebSocket.Gp[a]();WebSocket.Gp=[]},0)},WebSocket.kZ=function(){setTimeout(function(){try{for(var a=WebSocket.Vh.p7(),e=0;e<a.length;++e)WebSocket.pE[a[e].maa].IL(a[e])}catch(f){c.error(f)}},0);return!0},WebSocket.jZ=function(a){c.log(decodeURIComponent(a))},WebSocket.iZ=function(a){c.error(decodeURIComponent(a))},WebSocket.Mt=function(a){WebSocket.Vh?a():WebSocket.Gp.push(a)},
WebSocket.KL=function(){if(!window.navigator||!window.navigator.mimeTypes)return!1;var a=window.navigator.mimeTypes["application/x-shockwave-flash"];return a&&a.enabledPlugin&&a.enabledPlugin.filename?a.enabledPlugin.filename.match(/flashlite/i)?!0:!1:!1},window.YY||(window.addEventListener?window.addEventListener("load",function(){WebSocket.jy()},!1):window.attachEvent("onload",function(){WebSocket.jy()}))):c.error("Flash Player \x3e\x3d 10.0.0 is required.")}})();(function(a,d,e){function f(a){a&&
d.Transport.apply(this,arguments)}function g(){}a.Pi=f;d.util.inherit(f,d.Transport);f.prototype.open=function(){this.gb.Fj(!1);this.mw();this.get();this.EI();return this};f.prototype.YH=function(a){for(var c=[],e=0,f=a.length;e<f;e++)c.push(d.parser.encodePacket(a[e]));this.send(d.parser.encodePayload(c))};f.prototype.send=function(a){this.bI(a);return this};f.prototype.bI=function(a){function c(){4==this.readyState&&(this.onreadystatechange=g,f.i7=!1,200==this.status?f.gb.Fj(!1):f.Hh())}function d(){this.onload=
g;f.gb.Fj(!1)}var f=this;this.gb.Fj(!0);this.cs=this.request("POST");e.XDomainRequest&&this.cs instanceof XDomainRequest?this.cs.onload=this.cs.onerror=d:this.cs.onreadystatechange=c;this.cs.send(a)};f.prototype.close=function(){this.Hh();return this};f.prototype.request=function(a){var c=d.util.request(this.gb.Mo()),e=d.util.query(this.gb.options.query,"t\x3d"+ +new Date);c.open(a||"GET",this.$r()+e,!0);if("POST"==a)try{c.setRequestHeader?c.setRequestHeader("Content-type","text/plain;charset\x3dUTF-8"):
c.contentType="text/plain"}catch(f){}return c};f.prototype.scheme=function(){return this.gb.options.Gm?"https":"http"};f.fm=function(a,c){try{var f=d.util.request(c),g=e.XDomainRequest&&f instanceof XDomainRequest,n=a&&a.options&&a.options.Gm?"https:":"http:",s=e.location&&n!=e.location.protocol;if(f&&(!g||!s))return!0}catch(q){}return!1};f.ys=function(a){return f.fm(a,!0)}})("undefined"!=typeof io?io.Transport:module.hc,"undefined"!=typeof io?io:module.parent.hc,this);(function(a,d){function e(a){d.Transport.Pi.apply(this,
arguments)}a.G4=e;d.util.inherit(e,d.Transport.Pi);e.prototype.name="htmlfile";e.prototype.get=function(){this.Ck=new (window[["Active"].concat("Object").join("X")])("htmlfile");this.Ck.open();this.Ck.write("\x3chtml\x3e\x3c/html\x3e");this.Ck.close();this.Ck.parentWindow.Mh=this;var a=this.Ck.createElement("div");a.className="socketio";this.Ck.body.appendChild(a);this.dg=this.Ck.createElement("iframe");a.appendChild(this.dg);var c=this,a=d.util.query(this.gb.options.query,"t\x3d"+ +new Date);this.dg.src=
this.$r()+a;d.util.on(window,"unload",function(){c.rd()})};e.prototype.kE=function(a,c){a=a.replace(/\\\//g,"/");this.Xr(a);try{var d=c.getElementsByTagName("script")[0];d.parentNode.removeChild(d)}catch(e){}};e.prototype.rd=function(){if(this.dg){try{this.dg.src="about:blank"}catch(a){}this.Ck=null;this.dg.parentNode.removeChild(this.dg);this.dg=null;CollectGarbage()}};e.prototype.close=function(){this.rd();return d.Transport.Pi.prototype.close.call(this)};e.fm=function(a){if("undefined"!=typeof window&&
["Active"].concat("Object").join("X")in window)try{return new (window[["Active"].concat("Object").join("X")])("htmlfile")&&d.Transport.Pi.fm(a)}catch(c){}return!1};e.ys=function(){return!1};d.transports.push("htmlfile")})("undefined"!=typeof io?io.Transport:module.hc,"undefined"!=typeof io?io:module.parent.hc);(function(a,d,e){function f(){d.Transport.Pi.apply(this,arguments)}function g(){}a["xhr-polling"]=f;d.util.inherit(f,d.Transport.Pi);d.util.merge(f,d.Transport.Pi);f.prototype.name="xhr-polling";
f.prototype.nH=function(){return!1};f.prototype.open=function(){d.Transport.Pi.prototype.open.call(this);return!1};f.prototype.get=function(){function a(){4==this.readyState&&(this.onreadystatechange=g,200==this.status?(f.Xr(this.responseText),f.get()):f.Hh())}function c(){this.onerror=this.onload=g;f.qC=1;f.Xr(this.responseText);f.get()}function d(){f.qC++;!f.qC||3<f.qC?f.Hh():f.get()}if(this.Mr){var f=this;this.Oh=this.request();e.XDomainRequest&&this.Oh instanceof XDomainRequest?(this.Oh.onload=
c,this.Oh.onerror=d):this.Oh.onreadystatechange=a;this.Oh.send(null)}};f.prototype.Hh=function(){d.Transport.Pi.prototype.Hh.call(this);if(this.Oh){this.Oh.onreadystatechange=this.Oh.onload=this.Oh.onerror=g;try{this.Oh.abort()}catch(a){}this.Oh=null}};f.prototype.sw=function(a,c){var e=this;d.util.defer(function(){c.call(e)})};d.transports.push("xhr-polling")})("undefined"!=typeof io?io.Transport:module.hc,"undefined"!=typeof io?io:module.parent.hc,this);(function(a,d,e){function f(a){d.Transport["xhr-polling"].apply(this,
arguments);this.index=d.j.length;var c=this;d.j.push(function(a){c.kE(a)})}var g=e.document&&"MozAppearance"in e.document.documentElement.style;a["jsonp-polling"]=f;d.util.inherit(f,d.Transport["xhr-polling"]);f.prototype.name="jsonp-polling";f.prototype.bI=function(a){function c(){e();f.gb.Fj(!1)}function e(){f.dg&&f.form.removeChild(f.dg);try{z=document.createElement('\x3ciframe name\x3d"'+f.FB+'"\x3e')}catch(a){z=document.createElement("iframe"),z.name=f.FB}z.id=f.FB;f.form.appendChild(z);f.dg=
z}var f=this,g=d.util.query(this.gb.options.query,"t\x3d"+ +new Date+"\x26i\x3d"+this.index);if(!this.form){var s=document.createElement("form"),q=document.createElement("textarea"),v=this.FB="socketio_iframe_"+this.index,z;s.className="socketio";s.style.position="absolute";s.style.top="0px";s.style.left="0px";s.style.display="none";s.target=v;s.method="POST";s.setAttribute("accept-charset","utf-8");q.name="d";s.appendChild(q);document.body.appendChild(s);this.form=s;this.jP=q}this.form.action=this.$r()+
g;e();this.jP.value=d.JSON.stringify(a);try{this.form.submit()}catch(D){}this.dg.attachEvent?z.onreadystatechange=function(){"complete"==f.dg.readyState&&c()}:this.dg.onload=c;this.gb.Fj(!0)};f.prototype.get=function(){var a=this,c=document.createElement("script"),e=d.util.query(this.gb.options.query,"t\x3d"+ +new Date+"\x26i\x3d"+this.index);this.Xa&&(this.Xa.parentNode.removeChild(this.Xa),this.Xa=null);c.async=!0;c.src=this.$r()+e;c.onerror=function(){a.Hh()};e=document.getElementsByTagName("script")[0];
e.parentNode.insertBefore(c,e);this.Xa=c;g&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a);document.body.removeChild(a)},100)};f.prototype.kE=function(a){this.Xr(a);this.Mr&&this.get();return this};f.prototype.sw=function(a,c){var e=this;if(!g)return c.call(this);d.util.load(function(){c.call(e)})};f.fm=function(){return"document"in e};f.ys=function(){return!0};d.transports.push("jsonp-polling")})("undefined"!=typeof io?io.Transport:module.hc,"undefined"!=
typeof io?io:module.parent.hc,this);"function"===typeof define&&define.v_&&define([],function(){return io})})();p=p||{};function r(){return arguments.callee.name||arguments.callee.toString().match(/^function ([^(]+)/)[1]}r.id=0|998*Math.random();r.TR=0|998*Math.random();
r.rG=function(a,c,d){for(var e=a.toString(),f=e.indexOf("("),g=e.indexOf(")"),f=e.substring(f+1,g),f=f.trim(),g=e.indexOf("{"),e=e.substring(g+1,e.lastIndexOf("}"));-1!=e.indexOf("this._super");)var g=e.indexOf("this._super"),h=e.indexOf("(",g),k=e.indexOf(")",h),k=e.substring(h+1,k),k=(k=k.trim())?",":"",l=arguments.callee.aK(),e=e.substring(0,g)+l+"["+d+"]."+c+".call(this"+k+e.substring(h+1);return Function(f,e)};r.rG.aK=r;r.OQ=function(){return this.id++};r.PQ=function(){return this.TR++};
(function(){var a=/\b_super\b/,c=document.ccConfig&&document.ccConfig.CLASS_RELEASE_MODE?document.ccConfig.CLASS_RELEASE_MODE:null;c&&console.log("release Mode");p.ra=function(){};p.ra.extend=function(d){function e(){this.Sb=r.PQ();this.ctor&&this.ctor.apply(this,arguments)}var f=this.prototype,g=Object.create(f),h=r.OQ();r[h]=f;var k={writable:!0,enumerable:!1,configurable:!0},l;for(l in d)c&&"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=r.rG(d[l],l,h),Object.defineProperty(g,
l,k)):"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=function(a,c){return function(){var d=this._super;this._super=f[a];var e=c.apply(this,arguments);this._super=d;return e}}(l,d[l]),Object.defineProperty(g,l,k)):"function"==typeof d[l]?(k.value=d[l],Object.defineProperty(g,l,k)):g[l]=d[l];g.Sb=null;e.id=h;k.value=h;Object.defineProperty(g,"__pid",k);e.prototype=g;k.value=e;Object.defineProperty(e.prototype,"constructor",k);e.extend=arguments.callee;e.I4=function(a){for(var c in a)g[c]=
a[c]};return e};Function.prototype.bind=Function.prototype.bind||function(a){var c=this;return function(){var f=Array.prototype.slice.call(arguments);return c.apply(a||null,f)}}})();p.K4=function(a,c){function d(){}d.prototype=c.prototype;a.Ww=c.prototype;a.prototype=new d;a.prototype.constructor=a};
p.mP=function(a,c,d){var e=arguments.callee.caller;if(e.Ww)return ret=e.Ww.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var f=Array.prototype.slice.call(arguments,2),g=!1,h=a.constructor;h;h=h.Ww&&h.Ww.constructor)if(h.prototype[c]===e)g=!0;else if(g)return h.prototype[c].apply(a,f);if(a[c]===e)return a.constructor.prototype[c].apply(a,f);throw Error("cc.base called from a method of one name to a method of a different name");};
p.$_=function(a,c){a||(a={});for(var d in c)a[d]=c[d];return a};p.tg=function(a,c){this.x=a||0;this.y=c||0};p.lE=function(a,c){this.C=a||0;this.G=c||0;this.iJ=function(a){this.C=a};this.jJ=function(a){this.G=a}};p.$c=function(){return new p.lE(0,0)};
Object.defineProperties(p.lE.prototype,{x:{get:function(){return this.C},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0},y:{get:function(){return this.G},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0}});p.aY=function(a,c){p.log("cc.PointMake will be deprecated sooner or later. Use cc.p instead.");return new p.tg(a,c)};
p.a=function(a,c){return{x:a,y:c}};p.LZ=p.a;p.Li=function(){return p.a(0,0)};p.ZH=function(a,c){return a&&c?a.x===c.x&&a.y===c.y:!1};p.Sj=function(a,c){this.width=a||0;this.height=c||0};p.mE=function(a,c){this.wa=a||0;this.ia=c||0;this.LC=function(a){this.wa=a};this.zC=function(a){this.ia=a}};p.Ll=function(){return new p.mE(0,0)};
Object.defineProperties(p.mE.prototype,{width:{get:function(){return this.wa},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0},height:{get:function(){return this.ia},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0}});p.FY=function(a,c){p.log("cc.SizeMake will be deprecated sooner or later. Use cc.size instead.");return p.size(a,c)};
p.size=function(a,c){return{width:a,height:c}};p.Na=p.size;p.hl=function(){return p.size(0,0)};p.bG={ZS:p.$c(),EV:p.Ll()};Object.defineProperties(p,{$K:{get:function(){return p.bG.ZS}},jL:{get:function(){return p.bG.EV}},fY:{get:function(){return p.rect(0,0,0,0)}}});p.DV=function(a,c){return a&&c?a.width==c.width&&a.height==c.height:!1};
p.Kf=function(a,c,d,e){var f=arguments.length;if(4===f)this.Qc=new p.tg(a||0,c||0),this.Na=new p.Sj(d||0,e||0);else if(1===f)this.Qc=new p.tg(a.Qc.x,a.Qc.y),this.Na=new p.Sj(a.Na.width,a.Na.height);else if(0===f)this.Qc=new p.tg(0,0),this.Na=new p.Sj(0,0);else if(2===f)this.Qc=new p.tg(a.x,a.y),this.Na=new p.Sj(c.width,c.height);else throw"unknown argument type";};p.mY=function(a,c,d,e){p.log("cc.RectMake will be deprecated sooner or later. Use cc.rect instead.");return p.rect(a,c,d,e)};
p.rect=function(a,c,d,e){var f=arguments.length;if(0===f)return new p.Kf(0,0,0,0);if(1===f)return new p.Kf(a.x,a.y,a.width,a.height);if(2===f)return new p.Kf(a.x,a.y,c.width,c.height);if(4===f)return new p.Kf(a,c,d,e);throw"unknown argument type";};p.oa=p.rect;p.Nc=function(){return p.rect(0,0,0,0)};p.iI=function(a,c){return a&&c?p.ZH(a.Qc,c.Qc)&&p.DV(a.Na,c.Na):!1};p.Iq=function(a){return a?0===a.x&&0===a.y&&0===a.width&&0===a.height:!1};
p.q7=function(a,c){return a&&c?!(a.x>=c.x||a.y>=c.y||a.x+a.width<=c.x+c.width||a.y+a.height<=c.y+c.height):!1};p.Am=function(a){return a.x+a.width};p.r7=function(a){return a.x+a.width/2};p.Nk=function(a){return a.x};p.Bm=function(a){return a.y+a.height};p.s7=function(a){return a.y+a.height/2};p.Ok=function(a){return a.y};p.Lb=function(a,c){return c.x>=p.Nk(a)&&c.x<=p.Am(a)&&c.y>=p.Ok(a)&&c.y<=p.Bm(a)};p.pT=function(a,c){return!(p.Am(a)<p.Nk(c)||p.Am(c)<p.Nk(a)||p.Bm(a)<p.Ok(c)||p.Bm(c)<p.Ok(a))};
p.t7=function(a,c){return!(a.x+a.width<c.x||c.x+c.width<a.x||a.y+a.height<c.y||c.y+c.height<a.y)};p.ww=function(a,c){var d=p.rect(0,0,0,0);d.x=Math.min(a.x,c.x);d.y=Math.min(a.y,c.y);d.width=Math.max(a.x+a.width,c.x+c.width)-d.x;d.height=Math.max(a.y+a.height,c.y+c.height)-d.y;return d};p.oT=function(a,c){var d=p.rect(Math.max(p.Nk(a),p.Nk(c)),Math.max(p.Ok(a),p.Ok(c)),0,0);d.width=Math.min(p.Am(a),p.Am(c))-p.Nk(d);d.height=Math.min(p.Bm(a),p.Bm(c))-p.Ok(d);return d};b=p.Kf.prototype;
b.iJ=function(a){this.Qc.x=a};b.jJ=function(a){this.Qc.y=a};b.Fr=function(){return this.Na.width};b.LC=function(a){this.Na.width=a};b.zr=function(){return this.Na.height};b.zC=function(a){this.Na.height=a};
Object.defineProperties(p.Kf.prototype,{x:{get:function(){return this.Qc.x},set:function(a){this.iJ(a)},enumerable:!0,configurable:!0},y:{get:function(){return this.Qc.y},set:function(a){this.jJ(a)},enumerable:!0,configurable:!0},width:{get:function(){return this.Fr()},set:function(a){this.LC(a)},enumerable:!0,configurable:!0},height:{get:function(){return this.zr()},set:function(a){this.zC(a)},enumerable:!0,configurable:!0}});var t=t||{};try{t.localStorage=window.localStorage,window.localStorage.setItem("storage",""),window.localStorage.removeItem("storage")}catch(ea){"SECURITY_ERR"!==ea.name&&"QuotaExceededError"!==ea.name||console.log("Warning: localStorage isn't enabled. Please confirm browser cookie or privacy option"),t.localStorage=function(){}}
Object.defineProperties(t,{N_:{get:function(){var a={canvas:!0};p.ta.Ac&&(a.opengl=!0);"ontouchstart"in document.documentElement||window.navigator.msPointerEnabled?a.touches=!0:"onmouseup"in document.documentElement&&(a.mouse=!0);"onkeyup"in document.documentElement&&(a.keyboard=!0);if(window.DeviceMotionEvent||window.DeviceOrientationEvent)a.accelerometer=!0;return a},enumerable:!0,configurable:!0},E6:{get:function(){var a=navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?!0:!1,c=navigator.userAgent.match(/android/i)||
navigator.platform.match(/android/i)?!0:!1,d=navigator.appVersion;-1!=navigator.appVersion.indexOf("Win")?d="Windows":-1!=navigator.appVersion.indexOf("Mac")?d="OS X":-1!=navigator.appVersion.indexOf("X11")?d="UNIX":-1!=navigator.appVersion.indexOf("Linux")?d="Linux":a?d="iOS":c&&(d="Android");return d},enumerable:!0,configurable:!0},platform:{get:function(){return"browser"},enumerable:!0,configurable:!0},version:{get:function(){return p.Gs},enumerable:!0,configurable:!0}});t.X0=function(){};
t.v0=function(){};t.T7=function(){};p.Gs="Cocos2d-html5-v2.2.2";p.$s=0;p.uD=p.a(0,0);p.fK=0.5;p.GW=1;p.kL=1;p.XK=0;p.cE=0;p.HY=0;p.IY=0;p.iY=1;p.hY="-hd";p.zL=1;p.Rj=0;p.CY=0;p.DX=0;p.CX=0;p.Ax=1;p.QW=p.Gs+"-canvas";p.Gv={platform:t.platform};p.u0=function(){for(var a in t)p.log(a+" \x3d "+t[a])};p.Fs=1;p.wD=1;p.sG=function(a,c){for(var d=["webgl","experimental-webgl","webkit-3d","moz-webgl"],e=null,f=0;f<d.length;++f){try{e=a.getContext(d[f],c)}catch(g){}if(e)break}return e};p.ta={};p.ta.bW=["baidubrowser","opera","firefox","chrome","safari"];
(function(){p.ta.ua=navigator.userAgent.toLowerCase();p.ta.platform=navigator.platform.toLowerCase();p.ta.Cj=-1!=p.ta.ua.indexOf("mobile")||-1!=p.ta.ua.indexOf("android");p.ta.type=function(){var a=p.ta.ua.match(/micromessenger|qqbrowser|mqqbrowser|ucbrowser|360browser|baidubrowser|maxthon|ie|opera|firefox/)||p.ta.ua.match(/chrome|safari/);return a&&0<a.length?(a=a[0],"micromessenger"==a?"wechat":a):"unknow"}();p.ta.mode="ie"==p.ta.type&&document.documentMode;document.ccConfig||(document.ccConfig=
{});p.EA=parseInt(document.ccConfig.renderMode)||0;var a=-1==p.ta.bW.indexOf(p.ta.type);1===p.EA||0===p.EA&&(p.ta.Cj||a)?p.ta.Ac=!1:(p.ta.Ac=null!=window.aZ,a=document.createElement("Canvas"),a=p.sG(a,{stencil:!0,preserveDrawingBuffer:!0}),p.ta.Ac=null!=a);2!==p.EA||p.ta.Ac||(p.ky=!0);var a=p.ta,c;try{c=new (window.AudioContext||window.webkitAudioContext||window.mozAudioContext)?!0:!1}catch(d){c=!1}a.x$=c;p.ta.B6=function(a){if(this.Cj){var c=p.O.d().Cb,d=c.width+"px",c=c.height+"px",h=p.Mj("div");
h.style.backgroundColor="#ffffff";h.style.width=d;h.style.height=c;h.style.eW=1E3;h.style.position="absolute";h.style.top="0px";h.style.left="0px";h.id="cocos2d-browser";var k=p.Mj("iframe");k.src=a;k.style.width=d;k.style.height=c;k.setAttribute("frameborder","no");k.setAttribute("scrolling","no");h.appendChild(k);k.onload=function(){var a=document.createElement("img");a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5OERBMEM3OUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5OERBMEM3QUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjk4REEwQzc3RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjk4REEwQzc4RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+NwBuoAAAA/tJREFUeNrEWF0sW3EUb6+28zFhbGadsBaNhazV+kpDYhFWKRGWbHvwFV5IvPiIFw9evElEPEiWSUgsIWoIglhmUomPxj6aKC0zKVJjtPU5o9j5J7dLdbf33jKc5Jfc3v+v5/+755x7/j1lMoiNBRDh4AO88HvO2m+ACbAC+AJQAyz2JCbBFyMBWQA/xv+3DUAXLuivudhcY4BMwCuAB+NqDPmNAnAAOsCZvQgk4BnjeiwEwAbM2YoQA14yrteQEANgDcML7gXjZgw9OAuJkADu3JAIb7Q/hr+GtCwuLs6LDq+iooLvhBAREhFEl11ZWRne0tIiIeNIpVKv4uJi4dTUVApNt0EY3ohILSIiwqO7u1sql8vD8vLyJJ2dnXH2HDabzczPz3/Y1taWzOfz78XExDxSq9Vyd3d3jMK9F2pWr6lEtLa2RmVnZ4tt7w0NDWlTU1OVtkK7urqSQ0NDzzW5hYWFjcTExAGDwXDkyD+VSkZ7e3tsWlpamP19mUwWplQqk9B1UlKST3NzczxE4K49D4mCiDwn24PyPMjIyHjs6urKIVpLSEgInp6eZsM6Kzw8nEvEMZvNBxC1BbI9KCMhkUgUy8vLRpL1QIFA4EcSyZmcnJzpS4mYnZ3dj46O7p2fn193xIGi/CeiFovlFIp5pqGhYZ5qD1qFiQxCjk1OTsqEQmEAFReloL+/X0sVAadFWE2n02VA+O+TcVZXV01QkO8ODw9P6fjEnO2zvb2936g4XC7XG4rWm65P2iL8/f05kN8nBQUFQkqnGMYcGBjIys3N5dLxjY7ydDrE6urqsNLSUqmbmxuH1tOBkMzMTIHRaNxSqVTmS4soKyvjFRUViTw9PV2dTR901WAOh7M/MjKyeeHCbGpqEhcWFkY5Wl9aWtpUKBRaONziSbsii/Xm5OTk7EIdU6/X7zpaW1xc/Al5HxkfH9/e2dk5rqmpeUrE6+vr06ADzpEIlI5kMjFwPhh5PB5DJBKdK7KDg4Oj2tpaVUdHxw/0eWxszIjyj8Jvy4N60FdVVX2Grnt4dkaowYJESAG3yaLR09Oz5uvrexwbGxuAR2erpKTkI6RqxW5DM6RnLT09PQQV5vDwsDYlJWUU+I4EIDMhEQLAA6q0DA4OrqMCg/c/qL6+XtXY2Kgn4sGJuavRaFbFYrFPeXn5FIj6ReFa64KnIpJOpaMK39vbM9XV1X13lF9kc3Nz+xMTEwZo89s03A4ycRE1N/RjF/WPKgyfDRU39Gu7w1qYyNYAtwDB1yhgGPDBfgzU4bMi7xoEjAI6iWZRdGMGH80Cr2goRlP5W8B7qwBHfw1YO6kEH4yC8EnJ5QKbnuDFh17nr4BPRP9P/BFgAHo7ZNgI9EbHAAAAAElFTkSuQmCC";
h.appendChild(a);a.style.eW=1E3;a.style.position="absolute";a.style.bottom="10px";a.style.right="10px";a.onclick=function(){h.remove()}};(a=document.getElementById(document.ccConfig.tag).parentNode)&&a.appendChild(h)}else window.open(a)}})();p.nY=function(){return"undefined"===p.ky?!1:p.ky};
p.zb=function(a){var c=this==p?document:this;if(a=a instanceof HTMLElement?a:c.querySelector(a))a.find=a.find||p.zb,a.AB=a.AB||function(a){return this.className.match(RegExp("(\\s|^)"+a+"(\\s|$)"))},a.fG=a.fG||function(a){this.AB(a)||(this.className&&(this.className+=" "),this.className+=a);return this},a.FT=a.FT||function(a){this.AB(a)&&(this.className=this.className.replace(a,""));return this},a.remove=a.remove||function(){this.parentNode&&this.parentNode.removeChild(this);return this},a.dm=a.dm||
function(a){a.appendChild(this);return this},a.iT=a.iT||function(a){a.childNodes[0]?a.insertBefore(this,a.childNodes[0]):a.appendChild(this);return this},a.Om=a.Om||function(){this.style[p.zb.QV]=p.zb.translate(this.position)+p.zb.rotate(this.rotation)+p.zb.scale(this.scale)+p.zb.Tk(this.Tk);return this},a.position=a.position||{x:0,y:0},a.rotation=a.rotation||0,a.scale=a.scale||{x:1,y:1},a.Tk=a.Tk||{x:0,y:0},a.TC=function(a,c){this.position.x=a;this.position.y=c;this.Om()},a.rotate=function(a){this.rotation=
a;this.Om();return this},a.resize=function(a,c){this.scale.x=a;this.scale.y=c;this.Om();return this},a.YI=function(a,c){this.Tk.x=a;this.Tk.y=c;this.Om()};return a};switch(p.ta.type){case "firefox":p.zb.Xo="Moz";p.zb.Io=!0;break;case "chrome":case "safari":p.zb.Xo="webkit";p.zb.Io=!0;break;case "opera":p.zb.Xo="O";p.zb.Io=!1;break;case "ie":p.zb.Xo="ms";p.zb.Io=!1;break;default:p.zb.Xo="webkit",p.zb.Io=!0}p.zb.QV=p.zb.Xo+"Transform";
p.zb.translate=p.zb.Io?function(a){return"translate3d("+a.x+"px, "+a.y+"px, 0) "}:function(a){return"translate("+a.x+"px, "+a.y+"px) "};p.zb.rotate=p.zb.Io?function(a){return"rotateZ("+a+"deg) "}:function(a){return"rotate("+a+"deg) "};p.zb.scale=function(a){return"scale("+a.x+", "+a.y+") "};p.zb.Tk=function(a){return"skewX("+-a.x+"deg) skewY("+a.y+"deg)"};p.Mj=function(a){return p.zb(document.createElement(a))};
p.zb.Q0=function(a){var c=0,d=0;do c+=a.offsetLeft,d+=a.offsetTop;while(a=a.offsetParent);return{x:c,y:d}};p.B=function(a){var c=a.constructor?new a.constructor:{},d;for(d in a){var e=a[d];c[d]="object"!=typeof e||!e||e instanceof p.I||e instanceof HTMLElement?e:p.B(e)}return c};p.A_=function(){};p.zD=p.zD||!1;
p.jN=function(a){var c=document.getElementById("logInfoList");if(!c){var d=document.createElement("Div");d.setAttribute("id","logInfoDiv");p.canvas.parentNode.appendChild(d);d.setAttribute("width","200");d.setAttribute("height",p.canvas.height);d.style.zIndex="99999";d.style.position="absolute";d.style.top="0";d.style.left="0";c=document.createElement("ul");d.appendChild(c);c.setAttribute("id","logInfoList");c.style.height=p.canvas.height+"px";c.style.color="#fff";c.style.textAlign="left";c.style.listStyle=
"disc outside";c.style.fontSize="12px";c.style.fontFamily="arial";c.style.padding="0 0 0 20px";c.style.margin="0";c.style.textShadow="0 0 3px #000";c.style.zIndex="99998";c.style.position="absolute";c.style.top="0";c.style.left="0";c.style.overflowY="hidden";var e=document.createElement("Div");d.appendChild(e);e.style.width="200px";e.style.height=p.canvas.height+"px";e.style.opacity="0.1";e.style.background="#fff";e.style.border="1px solid #dfdfdf";e.style.borderRadius="8px"}d=document.createElement("li");
d.innerHTML=a;0==c.childNodes.length?c.appendChild(d):c.insertBefore(d,c.childNodes[0])};p.log=function(a){p.zD?p.jN(a):console.log.apply(console,arguments)};p.JX=function(a){console.log(a)};p.Bs=function(a,c){console.assert?console.assert(a,c):a||c&&alert(c)};p.FR=function(){0==p.Ds?(p.log=function(){},p.JH=function(){},p.IH=function(){},p.Bs=function(){}):1==p.Ds?(p.JH=p.log,p.IH=function(){}):1<p.Ds&&(p.JH=p.log,p.IH=p.log)};p.DK=0;p.CK=1;p.EK=2;p.HK=3;p.FK=4;p.OK=5;p.NK=6;p.JK=7;p.IK=8;p.GK=9;
p.MK=10;p.BK=11;p.KK=12;p.LK=13;
p.zK={C_:8,J$:9,nQ:13,shift:16,h0:17,alt:18,pause:19,O_:20,escape:27,b7:33,a7:34,end:35,home:36,left:37,$$:38,right:39,p0:40,P4:45,XW:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,D:65,f:66,qa:67,za:68,w0:69,Rv:70,g:71,ce:72,H4:73,j:74,J5:75,S5:76,e6:77,NH:78,x6:79,a:80,o7:81,h:82,Mh:83,I$:84,Ca:85,ba:86,MJ:87,x:88,y:89,z:90,l6:96,m6:97,n6:98,o6:99,p6:100,q6:101,r6:102,s6:103,t6:104,u6:105,"*":106,"+":107,"-":109,numdel:110,"/":111,D0:112,H0:113,I0:114,J0:115,K0:116,L0:117,M0:118,N0:119,O0:120,
E0:121,F0:122,G0:123,w6:144,W7:145,X7:186,",":186,y0:187,"\x3d":187,";":188,Z_:188,i0:189,".":190,f7:190,V0:191,A4:192,"[":219,C6:219,"]":221,Y_:221,B_:220,quote:222,o$:32};p.Sh=-1;p.PI=Math.PI;p.qK=parseFloat("3.402823466e+38F");p.gL=p.PI/180;p.eK=180/p.PI;p.yL=4294967295;p.DY=function(a,c,d){if("object"==typeof d&&"undefined"!=typeof d.x&&"undefined"!=typeof d.y){var e=d[a];d[a]=d[c];d[c]=e}else p.log("cc.SWAP is being modified from original macro, please check usage")};p.U5=function(a,c,d){return a+(c-a)*d};p.eY=function(){return 2*(Math.random()-0.5)};p.dY=function(){return Math.random()};p.Ji=function(a){return a*p.gL};p.Mx=function(a){return a*p.eK};
p.fl=Number.MAX_VALUE-1;p.ke=p.XK?1:770;p.je=771;p.Gx=function(a){a.uc&&(a.uc.Me(),a.uc.og())};p.iX=function(){};p.WW=function(){};p.dh=function(){p.Bh+=1};p.at=1.192092896E-7;p.jd=p.Ax?function(){return p.O.d().rl}:function(){return 1};p.ZK=function(a){var c=p.jd();return p.a(a.x*c,a.y*c)};p.eZ=function(a,c){var d=p.jd();c.C=a.x*d;c.G=a.y*d};p.Rx=function(a){var c=p.jd();return p.size(a.width*c,a.height*c)};p.AY=function(a){var c=p.jd();return p.size(a.width/c,a.height/c)};
p.hy=function(a,c){var d=p.jd();c.wa=a.width/d;c.ia=a.height/d};p.ZX=function(a){var c=p.jd();return p.a(a.x/c,a.y/c)};p.Lt=function(a,c){var d=p.jd();c.C=a.x/d;c.G=a.y/d};p.sp=p.Ax?function(a){var c=p.jd();return p.rect(a.x/c,a.y/c,a.width/c,a.height/c)}:function(a){return a};p.Zm=p.Ax?function(a){var c=p.jd();return p.rect(a.x*c,a.y*c,a.width*c,a.height*c)}:function(a){return a};p.fD=function(){if(p.Q7==p.Tj){var a=p.N.getError();a&&p.log("WebGL error "+a)}};p.sY=0;p.rY=1;p.pY=2;p.qY=3;p.tY=4;p.uY=5;p.oY=6;var Uint8Array=Uint8Array||Array;
if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){var ia=document.createElement("script");ia.type="text/vbscript";ia.textContent='\x3c!-- IEBinaryToArray_ByteStr --\x3e\r\nFunction IEBinaryToArray_ByteStr(Binary)\r\n   IEBinaryToArray_ByteStr \x3d CStr(Binary)\r\nEnd Function\r\nFunction IEBinaryToArray_ByteStr_Last(Binary)\r\n   Dim lastIndex\r\n   lastIndex \x3d LenB(Binary)\r\n   if lastIndex mod 2 Then\r\n       IEBinaryToArray_ByteStr_Last \x3d Chr( AscB( MidB( Binary, lastIndex, 1 ) ) )\r\n   Else\r\n       IEBinaryToArray_ByteStr_Last \x3d ""\r\n   End If\r\nEnd Function\r\n';document.body.appendChild(ia);
p.EE=function(a){for(var c={},d=0;256>d;d++)for(var e=0;256>e;e++)c[String.fromCharCode(d+256*e)]=String.fromCharCode(d)+String.fromCharCode(e);d=IEBinaryToArray_ByteStr(a);a=IEBinaryToArray_ByteStr_Last(a);return d.replace(/[\s\S]/g,function(a){return c[a]})+a}}
p.kd=p.ra.extend({Wi:null,vk:null,zM:null,bz:null,Zn:null,qh:null,Up:"",ctor:function(){this.Wi={};this.vk={};this.qh=[];this.qh.push(this.Up);this.Zn=[];this.Zn.push("")},l7:function(){this.qh=[]},n1:function(a){a=this.Wd(a);return this.Wi.hasOwnProperty(a)?this.Wi[a]:this.gN(a)},qu:function(){return window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP")},RV:function(a){this.Wi.hasOwnProperty(a)&&delete this.Wi[a]},eT:function(a){a=this.Wd(a);var c=this,d=this.qu();d.open("GET",
a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","x-user-defined"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=p.EE(d.responseBody);e&&(c.Wi[a]=c.dv(e))}else p.Nb.d().um(a);p.Nb.d().Jh()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dx-user-defined"),d.onload=function(){var e=d.responseText;e?c.Wi[a]=c.dv(e):p.Nb.d().um(a);p.Nb.d().Jh()});d.send(null)},gN:function(a){var c=this.qu();
c.open("GET",a,!1);var d=null;if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){c.setRequestHeader("Accept-Charset","x-user-defined");c.send(null);if(200!=c.status)return null;if(c=p.EE(c.responseBody))d=this.dv(c),this.Wi[a]=d}else{c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dx-user-defined");c.send(null);if(200!=c.status)return null;d=this.dv(c.responseText);this.Wi[a]=d}return d},dv:function(a){if(!a)return null;for(var c=new Uint8Array(a.length),d=0;d<
a.length;d++)c[d]=a.charCodeAt(d)&255;return c},TV:function(a){a=this.Wd(a);this.vk.hasOwnProperty(a)&&delete this.vk[a]},gT:function(a){a=this.Wd(a);var c=this,d=this.qu();d.open("GET",a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","utf-8"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=d.responseText;e&&(c.vk[a]=e)}else p.Nb.d().um(a);p.Nb.d().Jh()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dutf-8"),
d.onload=function(){d.responseText?c.vk[a]=d.responseText:p.Nb.d().um(a);p.Nb.d().Jh()});d.send(null)},iN:function(a){var c=this.qu();c.open("GET",a,!1);var d=null;/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?c.setRequestHeader("Accept-Charset","utf-8"):c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dutf-8");c.send(null);if(200!=c.status)return null;(d=c.responseText)&&(this.vk[a]=d);return d},aH:function(a){a=this.Wd(a);return this.vk.hasOwnProperty(a)?this.vk[a]:
this.iN(a)},U1:function(){},N7:function(){},$H:!0,W0:function(a){return a},Wd:function(a){var c=!1;a=this.KM(a);for(var d,e=0;e<this.qh.length;e++){for(var f=this.qh[e],g=0;g<this.Zn.length;g++)if(d=this.LM(a,this.Zn[g],f)){c=!0;break}if(c)break}return c?d:a},Y5:function(a){var c=this.Wd(a);if(0<c.length){var c=p.Qj.d().parse(c),d=parseInt(c.metadata.version);1!=d?p.log("cocos2d: ERROR: Invalid filenameLookup dictionary version: "+d+". Filename: "+a):this.DU(c.filenames)}},DU:function(a){this.bz=
a},RG:function(a,c){var d;if(a)return d=c.substring(0,c.lastIndexOf("/")+1),d+a;d=c.substring(0,c.lastIndexOf("."));return d+".png"},I9:function(a){this.Zn=a},C3:function(){return this.Zn},H9:function(a){this.qh=a},A3:function(){return this.qh},t3:function(){return this.zM},C9:function(){},l0:function(a){p.log("dictionaryWithContentsOfFile is deprecated. Use createDictionaryWithContentsOfFile instead");return this.NP(a)},NP:function(a){return p.Qj.d().parse(a)},R3:function(a){return this.aH(a)},Kv:function(a){return p.Qj.d().parse(a)},
u4:function(){return""},s9:function(a){p.$H=a},t5:function(){return p.$H},Yz:"",u3:function(){return this.Yz},D9:function(a){this.Yz=a},KM:function(a){var c=null;(c=this.bz?this.bz[a]:null)&&0!==c.length?p.log("FOUND NEW FILE NAME: "+c):c=a;return c},LM:function(a,c,d){var e;e=this.Yz;a&&0<a.length&&(0===a.indexOf("/")||0===a.indexOf("\\"))?e="":0<e.length&&"\\"!=e[e.length-1]&&"/"!=e[e.length-1]&&(e+="/");var f=a,g="",h=a.lastIndexOf("/");-1!=h&&(g=a.substr(0,h+1),f=a.substr(h+1));a=d;0<a.length&&
a.lastIndexOf("/")!==a.length-1&&(a+="/");a=a+g+c;0<a.length&&a.lastIndexOf("/")!==a.length-1&&(a+="/");a+=f;return e+=a},yZ:function(){},XI:function(a){var c=!1;this.qh=[];for(var d=0;d<a.length;d++){var e=a[d],f;this.zH(e)||(f=this.Up);e=f+e;0<e.length&&"/"!=e[e.length-1]&&(e+="/");c||e!=this.Up||(c=!0);this.qh.push(e)}c||this.qh.push(this.Up)},k_:function(a){var c;this.zH(a)||(c=this.Up);a=c+a;0<a.length&&"/"!=a[a.length-1]&&(a+="/");this.qh.push(a)},B3:function(){},zH:function(a){return"/"==a[0]}});
p.rC=null;p.kd.d=function(){null==p.rC&&(p.rC=new p.kd);return p.rC};p.nc=function(a,c,d){switch(arguments.length){case 0:this.f=this.g=this.h=0;break;case 1:a&&a instanceof p.nc?(this.h=0|a.h||0,this.g=0|a.g||0,this.f=0|a.f||0):this.f=this.g=this.h=0;break;case 3:this.h=0|a||0;this.g=0|c||0;this.f=0|d||0;break;default:throw"unknown argument type";}};p.i=function(a,c,d){return new p.nc(a,c,d)};p.T4=function(a){a=a||0;var c=new p.nc;c.h=a&255;c.g=a>>8&255;c.f=a>>16&255;return c};p.Ev=p.i;p.H_=function(a,c){return a.h===c.h&&a.g===c.g&&a.f===c.f};
Object.defineProperties(p,{ZY:{get:function(){return p.i(255,255,255)}},bZ:{get:function(){return p.i(255,255,0)}},DW:{get:function(){return p.i(0,0,255)}},rX:{get:function(){return p.i(0,255,0)}},gY:{get:function(){return p.i(255,0,0)}},GX:{get:function(){return p.i(255,0,255)}},AW:{get:function(){return p.i(0,0,0)}},QX:{get:function(){return p.i(255,127,0)}},qX:{get:function(){return p.i(166,166,166)}}});p.jb=function(){return new p.nc(255,255,255)};p.qaa=function(){return new p.nc(255,255,0)};
p.blue=function(){return new p.nc(0,0,255)};p.green=function(){return new p.nc(0,255,0)};p.red=function(){return new p.nc(255,0,0)};p.f6=function(){return new p.nc(255,0,255)};p.D_=function(){return new p.nc(0,0,0)};p.D6=function(){return new p.nc(255,127,0)};p.Ho=function(){return new p.nc(166,166,166)};p.Ab=function(a,c,d,e){this.h=0|a;this.g=0|c;this.f=0|d;this.D=0|e};p.v=function(a,c,d,e){return new p.Ab(a,c,d,e)};p.VA=p.v;p.Cd=function(a,c,d,e){this.h=a;this.g=c;this.f=d;this.D=e};
p.Fv=function(a,c,d,e){return new p.Cd(a,c,d,e)};p.K_=function(a){return new p.Cd(a.h/255,a.g/255,a.f/255,1)};p.L_=function(a){return new p.Cd(a.h/255,a.g/255,a.f/255,a.D/255)};p.I_=function(a){return new p.Ab(0|255*a.h,0|255*a.g,0|255*a.f,0|255*a.D)};p.J_=function(a,c){return a.h==c.h&&a.g==c.g&&a.f==c.f&&a.D==c.D};p.mb=function(a,c){this.x=a||0;this.y=c||0};p.Kt=function(a,c){return new p.mb(a,c)};p.Fc=function(a,c,d){this.x=a||0;this.y=c||0;this.z=d||0};
p.jaa=function(a,c,d){return new p.Fc(a,c,d)};p.jc=function(a,c){this.Ca=a||0;this.ba=c||0};p.P$=function(a,c){return new p.jc(a,c)};p.bY=function(a,c,d){a||new p.mb(0,0);this.color=c||new p.Ab(0,0,0,0);this.size=d||0};p.mt=function(a,c,d,e){this.Fa=a||new p.mb(0,0);this.Ba=c||new p.mb(0,0);this.ya=d||new p.mb(0,0);this.Ha=e||new p.mb(0,0)};p.cY=function(a,c,d,e){this.ya=a||new p.Fc(0,0,0);this.Ha=c||new p.Fc(0,0,0);this.Fa=d||new p.Fc(0,0,0);this.Ba=e||new p.Fc(0,0,0)};
p.tK=function(a,c){this.x=a;this.y=c};p.g=function(a,c){return new p.tK(a,c)};p.Hb=function(a,c,d){this.n=a||new p.mb(0,0);this.F=c||new p.Ab(0,0,0,0);this.t=d||new p.jc(0,0)};p.Ht=function(){this.n=new p.mb(0,0);this.F=new p.Cd(0,0,0,0);this.t=new p.jc(0,0)};p.dc=function(a,c,d){this.n=a||new p.Fc(0,0,0);this.F=c||new p.Ab(0,0,0,0);this.t=d||new p.jc(0,0)};p.qc=function(a,c,d){this.D=a||new p.Hb;this.f=c||new p.Hb;this.qa=d||new p.Hb};
p.AL=function(){var a=new p.Hb(new p.mb(0,0),new p.Ab(0,0,0,255),new p.jc(0,0)),c=new p.Hb(new p.mb(0,0),new p.Ab(0,0,0,255),new p.jc(0,0)),d=new p.Hb(new p.mb(0,0),new p.Ab(0,0,0,255),new p.jc(0,0)),e=new p.Hb(new p.mb(0,0),new p.Ab(0,0,0,255),new p.jc(0,0));this.ya=a||new p.Hb;this.Ha=c||new p.Hb;this.Fa=d||new p.Hb;this.Ba=e||new p.Hb};p.UY=function(){return new p.AL};p.Rb=function(a,c,d,e){this.Fa=a||new p.dc;this.ya=c||new p.dc;this.Ba=d||new p.dc;this.Ha=e||new p.dc};
p.fy=function(){return new p.Rb(new p.dc(new p.Fc(0,0,0),new p.Ab(0,0,0,255),new p.jc(0,0)),new p.dc(new p.Fc(0,0,0),new p.Ab(0,0,0,255),new p.jc(0,0)),new p.dc(new p.Fc(0,0,0),new p.Ab(0,0,0,255),new p.jc(0,0)),new p.dc(new p.Fc(0,0,0),new p.Ab(0,0,0,255),new p.jc(0,0)))};
p.ey=function(a){return a?new p.Rb(new p.dc(new p.Fc(a.Fa.n.x,a.Fa.n.y,a.Fa.n.z),new p.Ab(a.Fa.F.h,a.Fa.F.g,a.Fa.F.f,a.Fa.F.D),new p.jc(a.Fa.t.Ca,a.Fa.t.ba)),new p.dc(new p.Fc(a.ya.n.x,a.ya.n.y,a.ya.n.z),new p.Ab(a.ya.F.h,a.ya.F.g,a.ya.F.f,a.ya.F.D),new p.jc(a.ya.t.Ca,a.ya.t.ba)),new p.dc(new p.Fc(a.Ba.n.x,a.Ba.n.y,a.Ba.n.z),new p.Ab(a.Ba.F.h,a.Ba.F.g,a.Ba.F.f,a.Ba.F.D),new p.jc(a.Ba.t.Ca,a.Ba.t.ba)),new p.dc(new p.Fc(a.Ha.n.x,a.Ha.n.y,a.Ha.n.z),new p.Ab(a.Ha.F.h,a.Ha.F.g,a.Ha.F.f,a.Ha.F.D),new p.jc(a.Ha.t.Ca,
a.Ha.t.ba))):p.fy()};p.WY=function(a){if(!a)return[];for(var c=[],d=0;d<a.length;d++)c.push(p.ey(a[d]));return c};p.VY=function(a,c,d,e){this.ya=a||new p.Ht;this.Ha=c||new p.Ht;this.Fa=d||new p.Ht;this.Ba=e||new p.Ht};p.bl=function(a,c){this.src=a;this.rb=c};p.EW=function(){return new p.bl(1,0)};p.zk=function(a){var c=a.h.toString(16),d=a.g.toString(16),e=a.f.toString(16);return"#"+(16>a.h?"0"+c:c)+(16>a.g?"0"+d:d)+(16>a.f?"0"+e:e)};
p.ta.Ac&&(p.Ab=function(a,c,d,e,f,g){this.Bb=f||new ArrayBuffer(p.Ab.BYTES_PER_ELEMENT);this.tb=g||0;f=this.Bb;g=this.tb;var h=Uint8Array.BYTES_PER_ELEMENT;this.Pz=new Uint8Array(f,g,1);this.iz=new Uint8Array(f,g+h,1);this.uy=new Uint8Array(f,g+2*h,1);this.my=new Uint8Array(f,g+3*h,1);this.Pz[0]=a||0;this.iz[0]=c||0;this.uy[0]=d||0;this.my[0]=e||0},p.Ab.BYTES_PER_ELEMENT=4,Object.defineProperties(p.Ab.prototype,{h:{get:function(){return this.Pz[0]},set:function(a){this.Pz[0]=a},enumerable:!0},g:{get:function(){return this.iz[0]},
set:function(a){this.iz[0]=a},enumerable:!0},f:{get:function(){return this.uy[0]},set:function(a){this.uy[0]=a},enumerable:!0},D:{get:function(){return this.my[0]},set:function(a){this.my[0]=a},enumerable:!0}}),p.Cd=function(a,c,d,e,f,g){this.Bb=f||new ArrayBuffer(p.Cd.BYTES_PER_ELEMENT);this.tb=g||0;f=this.Bb;g=this.tb;var h=Float32Array.BYTES_PER_ELEMENT;this.Oz=new Float32Array(f,g,1);this.Oz[0]=a||0;this.hz=new Float32Array(f,g+h,1);this.hz[0]=c||0;this.ty=new Float32Array(f,g+2*h,1);this.ty[0]=
d||0;this.ly=new Float32Array(f,g+3*h,1);this.ly[0]=e||0},p.Cd.BYTES_PER_ELEMENT=16,Object.defineProperties(p.Cd.prototype,{h:{get:function(){return this.Oz[0]},set:function(a){this.Oz[0]=a},enumerable:!0},g:{get:function(){return this.hz[0]},set:function(a){this.hz[0]=a},enumerable:!0},f:{get:function(){return this.ty[0]},set:function(a){this.ty[0]=a},enumerable:!0},D:{get:function(){return this.ly[0]},set:function(a){this.ly[0]=a},enumerable:!0}}),p.mb=function(a,c,d,e){this.Bb=d||new ArrayBuffer(p.mb.BYTES_PER_ELEMENT);
this.tb=e||0;this.$l=new Float32Array(this.Bb,this.tb,1);this.am=new Float32Array(this.Bb,this.tb+4,1);this.$l[0]=a||0;this.am[0]=c||0},p.mb.BYTES_PER_ELEMENT=8,Object.defineProperties(p.mb.prototype,{x:{get:function(){return this.$l[0]},set:function(a){this.$l[0]=a},enumerable:!0},y:{get:function(){return this.am[0]},set:function(a){this.am[0]=a},enumerable:!0}}),p.Fc=function(a,c,d,e,f){this.Bb=e||new ArrayBuffer(p.Fc.BYTES_PER_ELEMENT);this.tb=f||0;e=this.Bb;f=this.tb;this.$l=new Float32Array(e,
f,1);this.$l[0]=a||0;this.am=new Float32Array(e,f+Float32Array.BYTES_PER_ELEMENT,1);this.am[0]=c||0;this.MA=new Float32Array(e,f+2*Float32Array.BYTES_PER_ELEMENT,1);this.MA[0]=d||0},p.Fc.BYTES_PER_ELEMENT=12,Object.defineProperties(p.Fc.prototype,{x:{get:function(){return this.$l[0]},set:function(a){this.$l[0]=a},enumerable:!0},y:{get:function(){return this.am[0]},set:function(a){this.am[0]=a},enumerable:!0},z:{get:function(){return this.MA[0]},set:function(a){this.MA[0]=a},enumerable:!0}}),p.jc=
function(a,c,d,e){this.Bb=d||new ArrayBuffer(p.jc.BYTES_PER_ELEMENT);this.tb=e||0;this.xA=new Float32Array(this.Bb,this.tb,1);this.FA=new Float32Array(this.Bb,this.tb+4,1);this.xA[0]=a||0;this.FA[0]=c||0},p.jc.BYTES_PER_ELEMENT=8,Object.defineProperties(p.jc.prototype,{Ca:{get:function(){return this.xA[0]},set:function(a){this.xA[0]=a},enumerable:!0},ba:{get:function(){return this.FA[0]},set:function(a){this.FA[0]=a},enumerable:!0}}),p.mt=function(a,c,d,e,f,g){this.Bb=f||new ArrayBuffer(p.mt.BYTES_PER_ELEMENT);
this.tb=g||0;f=this.Bb;g=p.mb.BYTES_PER_ELEMENT;this.mo=a?new p.mb(a.x,a.y,f,0):new p.mb(0,0,f,0);this.oo=c?new p.mb(c.x,c.y,f,g):new p.mb(0,0,f,g);this.mn=d?new p.mb(d.x,d.y,f,2*g):new p.mb(0,0,f,2*g);this.pn=e?new p.mb(e.x,e.y,f,3*g):new p.mb(0,0,f,3*g)},p.mt.BYTES_PER_ELEMENT=32,Object.defineProperties(p.mt.prototype,{Fa:{get:function(){return this.mo},set:function(a){this.mo.x=a.x;this.mo.y=a.y},enumerable:!0},Ba:{get:function(){return this.oo},set:function(a){this.oo.x=a.x;this.oo.y=a.y},enumerable:!0},
ya:{get:function(){return this.mn},set:function(a){this.mn.x=a.x;this.mn.y=a.y},enumerable:!0},Ha:{get:function(){return this.pn},set:function(a){this.pn.x=a.x;this.pn.y=a.y},enumerable:!0}}),p.dc=function(a,c,d,e,f){this.Bb=e||new ArrayBuffer(p.dc.BYTES_PER_ELEMENT);this.tb=f||0;e=this.Bb;f=this.tb;var g=p.Fc.BYTES_PER_ELEMENT;this.qo=a?new p.Fc(a.x,a.y,a.z,e,f):new p.Fc(0,0,0,e,f);this.Qp=c?new p.Ab(c.h,c.g,c.f,c.D,e,f+g):new p.Ab(0,0,0,0,e,f+g);this.Ql=d?new p.jc(d.Ca,d.ba,e,f+g+p.Ab.BYTES_PER_ELEMENT):
new p.jc(0,0,e,f+g+p.Ab.BYTES_PER_ELEMENT)},p.dc.BYTES_PER_ELEMENT=24,Object.defineProperties(p.dc.prototype,{n:{get:function(){return this.qo},set:function(a){var c=this.qo;c.x=a.x;c.y=a.y;c.z=a.z},enumerable:!0},F:{get:function(){return this.Qp},set:function(a){var c=this.Qp;c.h=a.h;c.g=a.g;c.f=a.f;c.D=a.D},enumerable:!0},t:{get:function(){return this.Ql},set:function(a){this.Ql.Ca=a.Ca;this.Ql.ba=a.ba},enumerable:!0}}),p.Rb=function(a,c,d,e,f,g){this.Bb=f||new ArrayBuffer(p.Rb.BYTES_PER_ELEMENT);
this.tb=g||0;f=this.Bb;g=this.tb;var h=p.dc.BYTES_PER_ELEMENT;this.mo=a?new p.dc(a.n,a.F,a.t,f,g):new p.dc(null,null,null,f,g);this.mn=c?new p.dc(c.n,c.F,c.t,f,g+h):new p.dc(null,null,null,f,g+h);this.oo=d?new p.dc(d.n,d.F,d.t,f,g+2*h):new p.dc(null,null,null,f,g+2*h);this.pn=e?new p.dc(e.n,e.F,e.t,f,g+3*h):new p.dc(null,null,null,f,g+3*h)},p.Rb.BYTES_PER_ELEMENT=96,Object.defineProperties(p.Rb.prototype,{Fa:{get:function(){return this.mo},set:function(a){var c=this.mo;c.n=a.n;c.F=a.F;c.t=a.t},enumerable:!0},
ya:{get:function(){return this.mn},set:function(a){var c=this.mn;c.n=a.n;c.F=a.F;c.t=a.t},enumerable:!0},Ba:{get:function(){return this.oo},set:function(a){var c=this.oo;c.n=a.n;c.F=a.F;c.t=a.t},enumerable:!0},Ha:{get:function(){return this.pn},set:function(a){var c=this.pn;c.n=a.n;c.F=a.F;c.t=a.t},enumerable:!0},PA:{get:function(){return this.Bb},enumerable:!0}}),p.fy=function(){return new p.Rb},p.ey=function(a){if(!a)return p.fy();var c=a.Fa,d=a.ya,e=a.Ba;a=a.Ha;return{Fa:{n:{x:c.n.x,y:c.n.y,z:c.n.z},
F:{h:c.F.h,g:c.F.g,f:c.F.f,D:c.F.D},t:{Ca:c.t.Ca,ba:c.t.ba}},ya:{n:{x:d.n.x,y:d.n.y,z:d.n.z},F:{h:d.F.h,g:d.F.g,f:d.F.f,D:d.F.D},t:{Ca:d.t.Ca,ba:d.t.ba}},Ba:{n:{x:e.n.x,y:e.n.y,z:e.n.z},F:{h:e.F.h,g:e.F.g,f:e.F.f,D:e.F.D},t:{Ca:e.t.Ca,ba:e.t.ba}},Ha:{n:{x:a.n.x,y:a.n.y,z:a.n.z},F:{h:a.F.h,g:a.F.g,f:a.F.f,D:a.F.D},t:{Ca:a.t.Ca,ba:a.t.ba}}}},p.Hb=function(a,c,d,e,f){this.Bb=e||new ArrayBuffer(p.Hb.BYTES_PER_ELEMENT);this.tb=f||0;e=this.Bb;f=this.tb;var g=p.mb.BYTES_PER_ELEMENT;this.qo=a?new p.mb(a.x,
a.y,e,f):new p.mb(0,0,e,f);this.Qp=c?new p.Ab(c.h,c.g,c.f,c.D,e,f+g):new p.Ab(0,0,0,0,e,f+g);this.Ql=d?new p.jc(d.Ca,d.ba,e,f+g+p.Ab.BYTES_PER_ELEMENT):new p.jc(0,0,e,f+g+p.Ab.BYTES_PER_ELEMENT)},p.Hb.BYTES_PER_ELEMENT=20,Object.defineProperties(p.Hb.prototype,{n:{get:function(){return this.qo},set:function(a){this.qo.x=a.x;this.qo.y=a.y},enumerable:!0},F:{get:function(){return this.Qp},set:function(a){var c=this.Qp;c.h=a.h;c.g=a.g;c.f=a.f;c.D=a.D},enumerable:!0},t:{get:function(){return this.Ql},
set:function(a){this.Ql.Ca=a.Ca;this.Ql.ba=a.ba},enumerable:!0}}),p.qc=function(a,c,d,e,f){this.Bb=e||new ArrayBuffer(p.qc.BYTES_PER_ELEMENT);this.tb=f||0;e=this.Bb;f=this.tb;var g=p.Hb.BYTES_PER_ELEMENT;this.qE=a?new p.Hb(a.n,a.F,a.t,e,f):new p.Hb(null,null,null,e,f);this.vE=c?new p.Hb(c.n,c.F,c.t,e,f+g):new p.Hb(null,null,null,e,f+g);this.AE=d?new p.Hb(d.n,d.F,d.t,e,f+2*g):new p.Hb(null,null,null,e,f+2*g)},p.qc.BYTES_PER_ELEMENT=60,Object.defineProperties(p.qc.prototype,{D:{get:function(){return this.qE},
set:function(a){var c=this.qE;c.n=a.n;c.F=a.F;c.t=a.t},enumerable:!0},f:{get:function(){return this.vE},set:function(a){var c=this.vE;c.n=a.n;c.F=a.F;c.t=a.t},enumerable:!0},qa:{get:function(){return this.AE},set:function(a){var c=this.AE;c.n=a.n;c.F=a.F;c.t=a.t},enumerable:!0}}));p.a0=function(a){a=a.substr(1).split("");return new p.nc(parseInt("0x"+a[0]+a[1]),parseInt("0x"+a[2]+a[3]),parseInt("0x"+a[4]+a[5]))};p.zp=0;p.Oi=1;p.rL=2;p.Ep=0;p.Jt=1;p.Dp=2;
p.dZ=p.ra.extend({Qn:null,lr:null,iy:0,ctor:function(){this.Qn={};this.lr={};this.iy=2<<(0|10*Math.random())},HL:function(){this.iy++;return"key_"+this.iy},VU:function(a,c){if(null!=c){var d=this.HL();this.Qn[d]=c;this.lr[d]=a}},xS:function(a){if(null==a)return null;var c=this.Qn,d;for(d in c)if(c[d]===a)return this.lr[d];return null},iaa:function(a){return this.xS(a)},JT:function(a){if(null!=a){var c=this.Qn,d;for(d in c)if(c[d]===a){delete this.lr[d];delete c[d];break}}},G7:function(a){if(null!=
a)for(var c=0;c<a.length;c++)this.JT(a[c])},eP:function(){var a=[],c=this.Qn,d;for(d in c)a.push(c[d]);return a},z7:function(){this.Qn={};this.lr={}},count:function(){return this.eP().length}});p.sK=function(){this.vr="Arial";this.fontSize=12;this.MG=p.Oi;this.NG=p.Ep;this.OG=p.jb();this.ur=p.size(0,0);this.QC=!1;this.strokeColor=p.jb();this.tJ=1;this.lJ=!1;this.mJ=p.size(0,0);this.shadowBlur=0;this.nJ=1};p.$m={ux:0,Hx:1,SHOW_ALL:2,vx:3,wx:4,TY:5};p.Gt=[];p.Ap={};
p.ha=p.ra.extend({Jb:null,re:null,Dn:null,mk:null,Ce:null,IA:null,HA:"",Wz:null,ka:1,kF:1,pa:1,lF:1,qq:0,gF:5,nh:null,rF:null,vF:null,uF:null,sF:null,tF:null,tq:!1,pZ:!1,ZZ:null,RE:null,SE:null,OL:null,RZ:!1,Jy:null,JZ:null,Zi:null,dz:1,Pt:!1,WE:!1,ctor:function(){this.Zi=p.vj.parentNode===document.body?document.documentElement:p.vj.parentNode;this.re=p.size(0,0);this.rz();var a=p.canvas.width,c=p.canvas.height;this.Dn=p.size(a,c);this.mk=p.size(a,c);this.Ce=p.rect(0,0,a,c);this.IA=p.rect(0,0,a,c);
this.Jb=p.O.d().Ae;this.Jy={left:0,top:0};this.HA="Cocos2dHTML5";p.jE.q(this.Dn);this.rF=new p.an(p.rg.Hs,p.me.ux);this.vF=new p.an(p.rg.cL,p.me.SHOW_ALL);this.uF=new p.an(p.rg.Hs,p.me.Hx);this.sF=new p.an(p.rg.Hs,p.me.vx);this.tF=new p.an(p.rg.Hs,p.me.wx);this.RE=p.canvas;this.SE=p.N},Xz:function(){var a=this.mk.width,c=this.mk.height;this.Wz&&(this.rz(),this.Wz.call());0<a&&this.vC(a,c,this.nh)},S7:function(a){a?this.Pt||(this.Pt=!0,a=this.Xz.bind(this),window.addEventListener("resize",a,!1)):this.Pt&&
(this.Pt=!0,a=this.Xz.bind(this),window.removeEventListener("resize",a,!1))},B9:function(a){if("function"==typeof a||null==a)this.Wz=a},rz:function(){var a=this.re;a.width=this.Zi.clientWidth;a.height=this.Zi.clientHeight},mZ:function(){var a=this.mk.width,c=this.mk.height;0<a&&this.vC(a,c,this.nh)},uO:function(){if(this.WE){var a={"user-scalable":"no","maximum-scale":"1.0","initial-scale":"1.0"},c=document.getElementsByName("viewport"),d;0==c.length?(c=document.createElement("meta"),c.name="viewport",
c.content="",document.head.appendChild(c)):c=c[0];d=c.content;for(var e in a)RegExp(e).test(d)||(d+=(""==d?"":",")+e+"\x3d"+a[e]);c.content=d}},nO:function(){var a=p.jd();this.pa=this.ka=a},QN:function(){this.ka=this.kF;this.pa=this.lF},NM:function(){var a,c=this.qq;for(a=0;a<this.gF;a++){if(!(c&1))return this.qq|=1<<a,a;c>>=1}return-1},MN:function(a){0>a||a>=this.gF||(a=~(1<<a),this.qq&=a)},nZ:function(){},QR:function(){this.tq=!0},p_:function(a){this.WE=a},end:function(){},r5:function(){return null!=
this.RE&&null!=this.SE},F8:function(a){this.dz=a;p.O.d().Jw(p.O.d().qk)},D$:function(){},J8:function(){},q8:function(a,c){this.Jy={left:a,top:c}},B1:function(){return this.Jy},Tv:function(){return p.size(this.re.width,this.re.height)},E8:function(a,c){this.re.width=a;this.re.height=c;this.Zi.style.width=a+"px";this.Zi.style.height=c+"px";this.Xz();p.O.d().Jw(p.O.d().qk)},Q_:function(){},a8:function(a){this.OL=a},Er:function(){return this.IA.Na},hH:function(){return this.IA.Qc},M_:function(){return!0},
s3:function(){return this.nh},hV:function(a){if(a instanceof p.an)this.nh=a;else switch(a){case p.$m.ux:this.nh=this.rF;break;case p.$m.SHOW_ALL:this.nh=this.vF;break;case p.$m.Hx:this.nh=this.uF;break;case p.$m.vx:this.nh=this.sF;break;case p.$m.wx:this.nh=this.tF}},vC:function(a,c,d){if(isNaN(a)||0==a||isNaN(c)||0==c)p.log("Resolution not valid");else if(this.hV(d),policy=this.nh){policy.xm(this);var e=this.re.width,f=this.re.height;p.ta.Cj&&this.uO(this.re.width,this.re.height);this.rz();if(d!=
this.nh||a!=this.mk.width||c!=this.mk.height||e!=this.re.width||f!=this.re.height)this.Dn=p.size(a,c),this.mk=p.size(a,c),a=policy.apply(this,this.Dn),a.scale&&2==a.scale.length&&(this.ka=a.scale[0],this.pa=a.scale[1]),a.viewport instanceof p.Kf&&(this.Ce=a.viewport),a=p.O.d(),a.Cb=this.Do(),p.fd==p.Tj&&(a.Bn(),a.KI()),this.kF=this.ka,this.lF=this.pa,p.Wb&&p.Wb.ON(),p.jE.q(this.Er()),policy.wm(this)}else p.log("should set resolutionPolicy")},Do:function(){return p.size(this.Dn.width,this.Dn.height)},
Y9:function(a){this.Jb=a},sV:function(a,c,d,e){var f=this.dz,g=this.ka,h=this.pa;p.N.viewport(a*g*f+this.Ce.x*f,c*h*f+this.Ce.y*f,d*g*f,e*h*f)},CC:function(a,c,d,e){var f=this.dz,g=this.ka,h=this.pa;p.N.scissor(a*g*f+this.Ce.x*f,c*h*f+this.Ce.y*f,d*g*f,e*h*f)},bS:function(){var a=p.N;return a.isEnabled(a.SCISSOR_TEST)},ZQ:function(){var a=p.N,c=this.ka,d=this.pa,a=a.getParameter(a.SCISSOR_BOX);return p.rect((a[0]-this.Ce.x)/c,(a[1]-this.Ce.y)/d,a[2]/c,a[3]/d)},h$:function(a){null!=a&&0<a.length&&
(this.HA=a)},p4:function(){return this.HA},q4:function(){return this.Ce},XQ:function(){return this.ka},YQ:function(){return this.pa},wj:function(a,c,d){return{x:a-d.left,y:d.top+d.height-c}},qR:function(a,c,d,e){for(var f=[],g=this.Ce,h=this.ka,k=this.pa,l=0;l<a;++l){var m=c[l],n=d[l],s=e[l],q=0;if(null==p.Ap[m])if(q=this.NM(),-1==q)p.log("The touches is more than MAX_TOUCHES, nUnusedIndex \x3d "+q);else{var v=p.Gt[q]=new p.Oe;v.HC(q,(n-g.x)/h,(s-g.y)/k);p.Ap[m]=0|q;f.push(v)}}0!=f.length&&this.Jb.Yw(f,
null)},tR:function(a,c,d,e){for(var f=[],g=this.ka,h=this.pa,k=this.Ce.x,l=this.Ce.y,m=0;m<a;++m){var n=d[m],s=e[m],q=p.Ap[c[m]];if(null!=q){var v=p.Gt[q];if(v)v.HC(q,(n-k)/g,(s-l)/h),f.push(v);else return}}0!=f.length&&this.Jb.Zw(f,null)},sR:function(a,c,d,e){var f=[];this.$G(f,a,c,d,e);this.Jb.ps(f,null)},rR:function(a,c,d,e){var f=[];this.$G(f,a,c,d,e);this.Jb.SC(f,null)},$G:function(a,c,d,e,f){for(var g=this.ka,h=this.pa,k=this.Ce,l=0;l<c;++l){var m=d[l],n=e[l],s=f[l],q=p.Ap[m];if(null!=q){var v=
p.Gt[q];if(v)v.HC(q,(n-k.x)/g,(s-k.y)/h),a.push(v),p.Gt[q]=null,this.MN(q),delete p.Ap[m];else break}}},Yw:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.mf||h,d[f]=g.V.x,e[f]=g.V.y,++f;this.qR(f,c,d,e)},Zw:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.mf||h,d[f]=g.V.x,e[f]=g.V.y,++f;this.tR(f,c,d,e)},ps:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.mf||h,d[f]=g.V.x,e[f]=g.V.y,++f;this.sR(f,c,d,e)},SC:function(a){for(var c=
[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.mf||h,d[f]=g.V.x,e[f]=g.V.y,++f;this.rR(f,c,d,e)}});p.ha.d=function(){this.sb||(this.sb=new p.ha,this.sb.QR());return this.sb};
p.rg=p.ra.extend({xm:function(){},apply:function(){},wm:function(){},CF:function(a,c,d){p.ta.Cj&&a==document.documentElement&&p.Tx.d().lP(p.canvas);a=p.canvas;var e=p.vj;a.width=c;a.height=d;e.style.width=c+"px";e.style.height=d+"px";c=document.body;var f;c&&(f=c.style)&&(f.paddingTop=f.paddingTop||"0px",f.paddingRight=f.paddingRight||"0px",f.paddingBottom=f.paddingBottom||"0px",f.paddingLeft=f.paddingLeft||"0px",f.borderTop=f.borderTop||"0px",f.borderRight=f.borderRight||"0px",f.borderBottom=f.borderBottom||
"0px",f.borderLeft=f.borderLeft||"0px",f.marginTop=f.marginTop||"0px",f.marginRight=f.marginRight||"0px",f.marginBottom=f.marginBottom||"0px",f.marginLeft=f.marginLeft||"0px")},LE:function(){document.body.insertBefore(p.vj,document.body.firstChild);var a=document.body.style;a.width=window.innerWidth+"px";a.height=window.innerHeight+"px";a.overflow="hidden";a=p.vj.style;a.position="fixed";a.left=a.top="0px";document.body.scrollTop=0}});
p.me=p.ra.extend({Zz:{scale:[1,1],viewport:null},Np:function(a,c,d,e,f,g){a=p.rect(Math.round((a-d)/2),Math.round((c-e)/2),d,e);p.fd==p.Hf&&p.N.translate(a.x,a.y+e);this.Zz.scale=[f,g];this.Zz.viewport=a;return this.Zz},xm:function(){},apply:function(){return{scale:[1,1]}},wm:function(){}});
(function(){var a=p.rg.extend({apply:function(a){this.CF(a.Zi,a.re.width,a.re.height)}}),c=p.rg.extend({apply:function(a,c){var d=a.re.width,e=a.re.height,f=p.vj.style,n=c.width,s=c.height,q=d/n,v=e/s,z,D;q<v?(z=d,D=s*q):(z=n*v,D=e);n=Math.floor((d-z)/2);D=Math.floor((e-D)/2);this.CF(a.Zi,d-2*n,e-2*D);f.marginLeft=n+"px";f.marginRight=n+"px";f.marginTop=D+"px";f.marginBottom=D+"px"}});a.extend({xm:function(a){a.Zi=document.documentElement},apply:function(a){this._super(a);this.LE()}});c.extend({xm:function(a){a.Zi=
document.documentElement},apply:function(a,c){this._super(a,c);this.LE()}});var d=p.rg.extend({});p.rg.Hs=new a;p.rg.cL=new c;p.rg.VX=new d;var a=p.me.extend({apply:function(a,c){var d=p.canvas.width,e=p.canvas.height;return this.Np(d,e,d,e,d/c.width,e/c.height)}}),c=p.me.extend({apply:function(a,c){var d=p.canvas.width,e=p.canvas.height,f=c.width,n=c.height,s=d/f,q=e/n,v,z,D;s<q?(v=s,z=d,D=n*v):(v=q,z=f*v,D=e);return this.Np(d,e,z,D,v,v)}}),d=p.me.extend({apply:function(a,c){var d=p.canvas.width,
e=p.canvas.height,f=c.width,n=c.height,s=d/f,q=e/n,v,z,D;s<q?(v=q,z=f*v,D=e):(v=s,z=d,D=n*v);return this.Np(d,e,z,D,v,v)}}),e=p.me.extend({apply:function(a,c){var d=p.canvas.width,e=p.canvas.height,f=e/c.height;return this.Np(d,e,d,e,f,f)},wm:function(a){p.O.d().Cb=a.Er()}}),f=p.me.extend({apply:function(a,c){var d=p.canvas.width,e=p.canvas.height,f=d/c.width;return this.Np(d,e,d,e,f,f)},wm:function(a){p.O.d().Cb=a.Er()}});p.me.ux=new a;p.me.SHOW_ALL=new c;p.me.Hx=new d;p.me.vx=new e;p.me.wx=new f})();
p.an=p.ra.extend({cu:null,du:null,ctor:function(a,c){this.rU(a);this.uU(c)},xm:function(a){this.cu.xm(a);this.du.xm(a)},apply:function(a,c){this.cu.apply(a,c);return this.du.apply(a,c)},wm:function(a){this.cu.wm(a);this.du.wm(a)},rU:function(a){a instanceof p.rg&&(this.cu=a)},uU:function(a){a instanceof p.me&&(this.du=a)}});p.Tx=p.ra.extend({Wq:!1,Yj:"",Jz:null,Kz:null,wA:"",q:function(){var a=["webkit","moz","o","ms","khtml"],c=document.body;if(c.requestFullScreen)this.Wq=!0;else for(var d=0,e=a.length,f;d<e;d++)if(f=a[d],c[f+"RequestFullScreen"]){this.Wq=!0;this.Yj=f;break}this.wA="ontouchstart"in window?"touchstart":"mousedown"},fullScreen:function(){var a=document;if(this.Wq)switch(this.Yj){case "":return a.fullScreen;case "webkit":return a.webkitIsFullScreen;default:return a[this.Yj+"FullScreen"]}return!1},qI:function(a,
c){if(this.Wq&&!this.fullScreen()){if(c){var d=this.Yj+"fullscreenchange";this.Jz&&this.Kz&&this.Jz.removeEventListener(d,this.Kz);this.Jz=a;this.Kz=c;a.addEventListener(d,c,!1)}return""===this.Yj?a.requestFullScreen():a[this.Yj+"RequestFullScreen"]()}},B0:function(){if(this.Wq&&this.fullScreen())return""===this.Yj?document.body.cancelFullScreen():document.body[this.Yj+"CancelFullScreen"]()},lP:function(a,c){function d(){e.qI(a,c);a.removeEventListener(e.wA,d)}var e=this;this.qI(a,c);a.addEventListener(this.wA,
d)}});p.Tx.d=function(){if(!this.sb){var a=new p.Tx;a.q();this.sb=a}return this.sb};p.jE={th:p.$c(),Kg:p.$c(),sh:p.$c(),Zh:p.$c(),$h:p.$c(),Yh:p.$c(),By:p.$c(),ji:p.$c(),oh:p.$c(),wa:0,ia:0,q:function(a){this.wa=a.width;this.ia=a.height;a=this.wa;var c=this.ia;this.th.G=c;this.Kg.C=a;this.Kg.G=c;this.sh.C=a/2;this.sh.G=c;this.$h.C=a;this.Yh.C=a/2;this.By.C=a/2;this.By.G=c/2;this.ji.G=c/2;this.oh.C=a;this.oh.G=c/2},Fr:function(){return this.wa},zr:function(){return this.ia},U$:function(){return this.th},V$:function(){return this.Kg},top:function(){return this.sh},E_:function(){return this.Zh},
F_:function(){return this.$h},bottom:function(){return this.Yh},P_:function(){return this.By},left:function(){return this.ji},right:function(){return this.oh}};p.Uw=function(a){var c;if(a&&0!=a.length){var d=a.indexOf("{"),e=a.indexOf("}");-1==d||-1==e||d>e||(a=a.substr(d+1,e-d-1),0!=a.length&&(d=a.indexOf("{"),e=a.indexOf("}"),-1==d&&-1==e&&(c=a.split(","))))}return c};
p.TD=function(a){var c=p.Nc();if(a){var d=a.indexOf("{")+1,e=a.lastIndexOf("}",a.length);-1!=d&&-1!=e&&(a=a.substring(d,e),d=a.indexOf("}"),-1!=d&&(d=a.indexOf(",",d),-1!=d&&(c=a.substr(d+1,a.length-d),a=p.Uw(a.substr(0,d)),c=p.Uw(c),c=p.rect(parseFloat(a[0]),parseFloat(a[1]),parseFloat(c[0]),parseFloat(c[1])))))}return c};p.SD=function(a){var c=p.Li();try{if(""==a)return c;var d=p.Uw(a),c=p.a(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};
p.Ux=function(a){var c=p.hl();try{if(""==a)return c;var d=p.Uw(a),c=p.size(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};p.qW=function(a,c,d,e,f,g){this.D=a;this.f=c;this.qa=d;this.za=e;this.Ka=f;this.La=g};p.fZ=function(a,c,d,e,f,g){return{D:a,f:c,qa:d,za:e,Ka:f,La:g}};p.tW=function(a,c,d,e,f,g){return{D:a,f:c,qa:d,za:e,Ka:f,La:g}};p.gZ=function(a,c){return{x:c.D*a.x+c.qa*a.y+c.Ka,y:c.f*a.x+c.za*a.y+c.La}};p.RD=function(a,c){return{x:c.D*a.x+c.qa*a.y+c.Ka,y:c.f*a.x+c.za*a.y+c.La}};p.Vj=function(a,c,d){return{x:d.D*a+d.qa*c+d.Ka,y:d.f*a+d.za*c+d.La}};
p.hZ=function(a,c){return{width:c.D*a.width+c.qa*a.height,height:c.f*a.width+c.za*a.height}};p.EY=function(a,c){return{width:c.D*a.width+c.qa*a.height,height:c.f*a.width+c.za*a.height}};p.uW=function(){return{D:1,f:0,qa:0,za:1,Ka:0,La:0}};p.sW=function(){return{D:1,f:0,qa:0,za:1,Ka:0,La:0}};
p.ug=function(a,c){var d=p.Ok(a),e=p.Nk(a),f=p.Am(a),g=p.Bm(a),h=p.Vj(e,d,c),d=p.Vj(f,d,c),e=p.Vj(e,g,c),k=p.Vj(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);return p.rect(f,l,g-f,h-l)};
p.Uh=function(a,c){var d=p.Ok(a),e=p.Nk(a),f=p.Am(a),g=p.Bm(a),h=p.Vj(e,d,c),d=p.Vj(f,d,c),e=p.Vj(e,g,c),k=p.Vj(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);a.x=f;a.y=l;a.width=g-f;a.height=h-l;return a};p.fx=function(a,c,d){return{D:a.D,f:a.f,qa:a.qa,za:a.za,Ka:a.Ka+a.D*c+a.qa*d,La:a.La+a.f*c+a.za*d}};p.vW=function(a,c,d){return{D:a.D*c,f:a.f*c,qa:a.qa*d,za:a.za*d,Ka:a.Ka,La:a.La}};
p.TJ=function(a){var c=Math.sin(1.57079633),d=Math.cos(1.57079633);return{D:a.D*d+a.qa*c,f:a.f*d+a.za*c,qa:a.qa*d-a.D*c,za:a.za*d-a.f*c,Ka:a.Ka,La:a.La}};p.Yk=function(a,c){return{D:a.D*c.D+a.f*c.qa,f:a.D*c.f+a.f*c.za,qa:a.qa*c.D+a.za*c.qa,za:a.qa*c.f+a.za*c.za,Ka:a.Ka*c.D+a.La*c.qa+c.Ka,La:a.Ka*c.f+a.La*c.za+c.La}};p.rW=function(a,c){return a.D===c.D&&a.f===c.f&&a.qa===c.qa&&a.za===c.za&&a.Ka===c.Ka&&a.La===c.La};
p.bD=function(a){var c=1/(a.D*a.za-a.f*a.qa);return{D:c*a.za,f:-c*a.f,qa:-c*a.qa,za:c*a.D,Ka:c*(a.qa*a.La-a.za*a.Ka),La:c*(a.f*a.Ka-a.D*a.La)}};p.HD=parseFloat("1.192092896e-07F");p.cC=function(a){return p.a(-a.x,-a.y)};p.Bf=function(a,c){return p.a(a.x+c.x,a.y+c.y)};p.ed=function(a,c){return p.a(a.x-c.x,a.y-c.y)};p.Bi=function(a,c){return p.a(a.x*c,a.y*c)};p.bC=function(a,c){return p.Bi(p.Bf(a,c),0.5)};p.Wo=function(a,c){return a.x*c.x+a.y*c.y};p.K6=function(a,c){return a.x*c.y-a.y*c.x};p.nw=function(a){return p.a(-a.y,a.x)};p.S6=function(a){return p.a(a.y,-a.x)};p.R6=function(a,c){return p.Bi(c,p.Wo(a,c)/p.Wo(c,c))};
p.T6=function(a,c){return p.a(a.x*c.x-a.y*c.y,a.x*c.y+a.y*c.x)};p.Y6=function(a,c){return p.a(a.x*c.x+a.y*c.y,a.y*c.x-a.x*c.y)};p.WH=function(a){return p.Wo(a,a)};p.L6=function(a,c){return p.WH(p.ed(a,c))};p.$B=function(a){return Math.sqrt(p.WH(a))};p.ZB=function(a,c){return p.$B(p.ed(a,c))};p.Yg=function(a){return p.Bi(a,1/p.$B(a))};p.M6=function(a){return p.a(Math.cos(a),Math.sin(a))};p.X6=function(a){return Math.atan2(a.y,a.x)};p.pr=function(a,c,d){if(c>d){var e=c;c=d;d=e}return a<c?c:a<d?a:d};
p.VH=function(a){var c=p.a(0,0),d=p.a(1,1);return p.a(p.pr(a.x,c.x,d.x),p.pr(a.y,c.y,d.y))};p.PS=function(){var a=p.O.d().Cb;return p.a(a.width,a.height)};p.J6=function(a,c){return p.a(c(a.x),c(a.y))};p.XH=function(a,c,d){return p.Bf(p.Bi(a,1-d),p.Bi(c,d))};p.N6=function(a,c,d){return a.x-d<=c.x&&c.x<=a.x+d&&a.y-d<=c.y&&c.y<=a.y+d?!0:!1};p.I6=function(a,c){return p.a(a.x*c.x,a.y*c.y)};p.H6=function(a,c){var d=p.Yg(a),e=p.Yg(c),d=Math.atan2(d.x*e.y-d.y*e.x,p.Wo(d,e));return Math.abs(d)<p.HD?0:d};
p.G6=function(a,c){var d=Math.acos(p.Wo(p.Yg(a),p.Yg(c)));return Math.abs(d)<p.HD?0:d};p.RS=function(a,c,d){a=p.ed(a,c);var e=Math.cos(d);d=Math.sin(d);var f=a.x;a.x=f*e-a.y*d+c.x;a.y=f*d+a.y*e+c.y;return a};p.aC=function(a,c,d,e,f){if(a.x==c.x&&a.y==c.y||d.x==e.x&&d.y==e.y)return!1;var g=c.x-a.x;c=c.y-a.y;var h=e.x-d.x;e=e.y-d.y;var k=a.x-d.x;a=a.y-d.y;d=e*g-h*c;f.x=h*a-e*k;f.y=g*a-c*k;if(0==d)return 0==f.x||0==f.y?!0:!1;f.x/=d;f.y/=d;return!0};
p.V6=function(a,c,d,e){var f=p.a(0,0);return p.aC(a,c,d,e,f)&&0<=f.x&&1>=f.x&&0<=f.y&&1>=f.y?!0:!1};p.P6=function(a,c,d,e){var f=p.a(0,0);return p.aC(a,c,d,e,f)?(d=p.a(0,0),d.x=a.x+f.x*(c.x-a.x),d.y=a.y+f.x*(c.y-a.y),d):p.Li()};p.U6=function(a,c){return null!=a&&null!=c?a.x==c.x&&a.y==c.y:!1};p.Z6=function(a){a.x=0;a.y=0};p.O6=function(a,c){a.x=c.x;a.y=c.y};p.QS=function(a,c){a.x*=c;a.y*=c};p.W6=function(a,c){a.x-=c.x;a.y-=c.y};p.F6=function(a,c){a.x+=c.x;a.y+=c.y};
p.Q6=function(a){p.QS(a,1/Math.sqrt(a.x*a.x+a.y*a.y))};p.kaa=function(a,c,d,e,f){f+=e;if(!(1>=f)){c*=0.5;for(var g,h=f-1,k=e;k<f;k++){g=2*k;var l=p.a(a[2*k],a[2*k+1]),m;if(0===k)m=p.nw(p.Yg(p.ed(l,p.a(a[2*(k+1)],a[2*(k+1)+1]))));else if(k===h)m=p.nw(p.Yg(p.ed(p.a(a[2*(k-1)],a[2*(k-1)+1]),l)));else{m=p.a(a[2*(k-1)],a[2*(k-1)+1]);var n=p.a(a[2*(k+1)],a[2*(k+1)+1]),s=p.Yg(p.ed(n,l)),q=p.Yg(p.ed(m,l)),v=Math.acos(p.Wo(s,q));m=v<p.Ji(70)?p.nw(p.Yg(p.bC(s,q))):v<p.Ji(170)?p.Yg(p.bC(s,q)):p.nw(p.Yg(p.ed(n,m)))}m=p.Bi(m,c);d[2*g]=l.x+m.x;d[2*g+1]=l.y+m.y;d[2*
(g+1)]=l.x-m.x;d[2*(g+1)+1]=l.y-m.y}for(k=0==e?0:e-1;k<h;k++)g=2*k,a=g+2,c=p.Kt(d[2*g],d[2*g+1]),f=p.Kt(d[2*(g+1)],d[2*(g+1)+1]),g=p.Kt(d[2*a],d[2*a]),e=p.Kt(d[2*(a+1)],d[2*(a+1)+1]),c=!p.$V(c.x,c.y,e.x,e.y,f.x,f.y,g.x,g.y),!c.Nr&&(0>c.value||1<c.value)&&(c.Nr=!0),c.Nr&&(d[2*a]=e.x,d[2*a+1]=e.y,d[2*(a+1)]=g.x,d[2*(a+1)+1]=g.y)}};
p.$V=function(a,c,d,e,f,g,h,k){if(a==d&&c==e||f==h&&g==k)return{Nr:!1,value:0};d-=a;e-=c;f-=a;g-=c;h-=a;k-=c;a=Math.sqrt(d*d+e*e);d/=a;e/=a;c=f*d+g*e;g=g*d-f*e;f=c;c=h*d+k*e;k=k*d-h*e;h=c;return g==k?{Nr:!1,value:0}:{Nr:!0,value:(h+(f-h)*k/(k-g))/a}};p.FW=function(a,c){c[2]=c[3]=c[6]=c[7]=c[8]=c[9]=c[11]=c[14]=0;c[10]=c[15]=1;c[0]=a.D;c[4]=a.qa;c[12]=a.Ka;c[1]=a.f;c[5]=a.za;c[13]=a.La};p.pX=function(a,c){c.D=a[0];c.qa=a[4];c.Ka=a[12];c.f=a[1];c.za=a[5];c.La=a[13]};p.FD=-1;p.OX=null;p.PX=null;p.$T=1;
p.I=p.ra.extend({Qa:0,zv:0,Wf:0,ph:0,ka:1,pa:1,o:null,Pd:0,Qd:0,p:null,va:!0,gh:null,md:null,ja:null,ve:!1,W:null,hk:!1,Uc:p.FD,ZF:null,DA:null,qj:!0,wu:!0,BE:!0,VZ:null,pj:null,VE:null,Od:!1,uc:null,pf:0,xg:null,Xf:null,UE:!1,Hp:!1,Rt:null,ci:null,vz:!1,Hl:0,Jq:0,sz:function(){this.gh=p.$c();this.md=p.$c();this.ja=p.Ll();this.o=p.$c();this.p=[];this.pj={D:1,f:0,qa:0,za:1,Ka:0,La:0};var a=p.O.d();this.xg=a.ag();this.Xf=a.af();this.UE=!0;this.Rt={D:1,f:0,qa:0,za:1,Ka:0,La:0};p.bK&&(this.ci=new p.bK(this))},
q:function(){!1===this.UE&&this.sz();return!0},Nf:function(a,c){if(a&&0!==a.length){var d,e=a.length,f;d=p.I.kf;switch(c){case d.jg:for(d=0;d<e;d++)(f=a[d])&&f.jg();break;case d.vd:for(d=0;d<e;d++)(f=a[d])&&f.vd();break;case d.Ih:for(d=0;d<e;d++)(f=a[d])&&f.Ih();break;case d.wf:for(d=0;d<e;d++)(f=a[d])&&f.wf();break;case d.Ff:for(d=0;d<e;d++)(f=a[d])&&f.Ff();break;case d.Xg:for(d=0;d<e;d++)(f=a[d])&&f.Xg();break;case d.xd:for(d=0;d<e;d++)(f=a[d])&&f.xd();break;default:throw"Unknown callback function";
}}},Ja:null,fO:function(){this.Jl();!1===this.qj&&(this.qj=this.wu=!0)},gO:function(){!1===this.qj&&(this.qj=this.wu=!0)},G3:function(){return this.Pd},Pw:function(a){this.Pd=a;this.Ja()},H3:function(){return this.Qd},Qw:function(a){this.Qd=a;this.Ja()},w4:function(){return this.Qa},bv:function(a){this.Qa=a},j$:function(a){this.bv(a);this.W&&this.W.as(this,a)},m4:function(){return this.zv},eJ:function(a){this.zv=a},WQ:function(){this.Wf!==this.ph&&p.log("cc.Node.rotation(): RotationX !\x3d RotationY. Don't know which one to return");
return this.Wf},Lw:function(a){this.Wf=this.ph=a;this.Hl=0.017453292519943295*this.Wf;this.Jq=0.017453292519943295*this.ph;this.Ja()},w3:function(){return this.Wf},Mw:function(a){this.Wf=a;this.Hl=0.017453292519943295*this.Wf;this.Ja()},x3:function(){return this.ph},Nw:function(a){this.ph=a;this.Jq=0.017453292519943295*this.ph;this.Ja()},pB:function(){this.ka!==this.pa&&p.log("cc.Node.getScale(): ScaleX !\x3d ScaleY. Don't know which one to return");return this.ka},Ij:function(a,c){this.ka=a;this.pa=
c||0===c?c:a;this.Ja()},XQ:function(){return this.ka},dp:function(a){this.ka=a;this.Ja()},YQ:function(){return this.pa},Im:function(a){this.pa=a;this.Ja()},w:function(a,c){var d=this.o;2==arguments.length?(d.C=a,d.G=c):1==arguments.length&&(d.C=a.x,d.G=a.y);this.Ja()},g3:function(){return this.o},h3:function(){return this.o.C},xb:function(a){this.o.C=a;this.Ja()},i3:function(){return this.o.G},Nh:function(a){this.o.G=a;this.Ja()},t1:function(){return this.p.length},s1:function(){return this.p},EH:function(){return this.va},
r:function(a){this.va=a;this.Ja()},b1:function(){return this.gh},ma:function(a,c){var d=this.gh;if(2===arguments.length){if(a===d.C&&c===d.G)return;d.C=a;d.G=c}else{if(a.x===d.C&&a.y===d.G)return;d.C=a.x;d.G=a.y}var e=this.md,f=this.ja;e.C=f.wa*d.C;e.G=f.ia*d.G;this.Ja()},c1:function(){return this.md},e:function(){return this.ja},ea:function(a,c){var d=this.ja;if(2===arguments.length){if(a===d.wa&&c===d.ia)return;d.wa=a;d.ia=c}else{if(a.width===d.wa&&a.height===d.ia)return;d.wa=a.width;d.ia=a.height}var e=
this.md,f=this.gh;e.C=d.wa*f.C;e.G=d.ia*f.G;this.Ja()},z5:function(){return this.ve},getParent:function(){return this.W},gs:function(a){this.W=a},k5:function(){return this.hk},yi:function(a){a!=this.hk&&(this.hk=a,this.Ja())},eR:function(){return this.Uc},$I:function(a){this.Uc=a},getUserData:function(){return this.ZF},setUserData:function(a){this.ZF=a},k4:function(){return this.DA},c$:function(a){this.DA!=a&&(this.DA=a)},W2:function(){return this.pf},cp:function(a){this.pf=a},ag:function(){this.xg||
(this.xg=p.O.d().ag());return this.xg},jU:function(a){this.xg!=a&&(this.OC(),this.xg=a)},af:function(){this.Xf||(this.Xf=p.O.d().af());return this.Xf},iV:function(a){this.Xf!=a&&(this.qs(),this.Xf=a)},Wa:function(){var a=p.rect(0,0,this.ja.wa,this.ja.ia);return p.Uh(a,this.Af())},wf:function(){this.OC();this.qs();this.Nf(this.p,p.I.kf.wf)},description:function(){return"\x3ccc.Node | Tag \x3d"+this.Uc+"\x3e"},wQ:function(a){var c=this.p;if(null!=c)for(var d=0;d<c.length;d++){var e=c[d];if(e&&e.Uc==
a)return e}return null},s:function(a,c,d){if(!a)throw"cc.Node.addChild(): child must be non-null";a===this?p.log("cc.Node.addChild(): An Node can't be added as a child of itself."):null!==a.W?p.log("cc.Node.addChild(): child already added. It can't be added again"):(c=null!=c?c:a.Qa,a.Uc=null!=d?d:a.Uc,this.$M(a,c),a.W=this,this.ve&&(a.jg(),this.vz&&a.Ih()))},R:function(a){this.W&&(null==a&&(a=!0),this.W.removeChild(this,a))},HT:function(a){p.log("removeFromParentAndCleanup is deprecated. Use removeFromParent instead");
this.R(a)},removeChild:function(a,c){0!==this.p.length&&(null==c&&(c=!0),-1<this.p.indexOf(a)&&this.yM(a,c),this.Ja())},E7:function(a,c){a===p.FD&&p.log("cc.Node.removeChildByTag(): argument tag is an invalid tag");var d=this.wQ(a);null==d?p.log("cocos2d: removeChildByTag(tag \x3d "+a+"): child not found!"):this.removeChild(d,c)},w7:function(a){p.log("removeAllChildrenWithCleanup is deprecated. Use removeAllChildren instead");this.Lh(a)},Lh:function(a){var c=this.p;if(null!=c){null==a&&(a=!0);for(var d=
0;d<c.length;d++){var e=c[d];e&&(this.ve&&(e.Xg(),e.vd()),a&&e.wf(),e.gs(null))}this.p.length=0}},yM:function(a,c){this.ve&&(a.Xg(),a.vd());c&&a.wf();a.gs(null);p.Ad(this.p,a)},$M:function(a,c){this.Od=!0;this.p.push(a);a.bv(c)},as:function(a,c){if(!a)throw"cc.Node.reorderChild(): child must be non-null";this.Od=!0;a.cp(p.$T++);a.bv(c);this.Ja()},xd:function(){if(this.Od){var a=this.p,c,d,e=a.length,f;for(c=0;c<e;c++){var g=a[c];d=c-1;for(f=a[d];0<=d&&(g.Qa<f.Qa||g.Qa==f.Qa&&g.pf<f.pf);)a[d+1]=f,
d-=1,f=a[d];a[d+1]=g}this.Od=!1}},Ia:function(){},$w:function(){null!=this.W&&(this.W.$w(),this.W.transform())},jg:function(){this.vz=!1;this.ve=!0;this.Nf(this.p,p.I.kf.jg);this.zw()},Ih:function(){this.vz=!0;this.Nf(this.p,p.I.kf.Ih)},Xg:function(){this.Nf(this.p,p.I.kf.Xg)},vd:function(){this.ve=!1;this.pw();this.Nf(this.p,p.I.kf.vd);this.ci&&this.ci.CT()},Aw:function(a){if(!a)throw"cc.Node.runAction(): action must be non-null";this.ag().YO(a,this,!this.ve);return a},OC:function(){this.ag().mI(this)},
JV:function(a){this.ag().lI(a)},v$:function(a){a===p.Sm?p.log("cc.Node.stopActionBy(): argument tag an invalid tag"):this.ag().BT(a,this)},kB:function(a){return a===p.Sm?(p.log("cc.Node.getActionByTag(): argument tag is an invalid tag"),null):this.ag().kB(a,this)},I2:function(){return this.ag().wS(this)},bU:function(){this.cU(0)},cU:function(a){this.af().uI(this,a,!this.ve)},Z$:function(){this.af().ip(this)},zc:function(a,c,d,e){c=c||0;if(!a)throw"cc.Node.schedule(): callback function must be non-null";
if(0>c)throw"cc.Node.schedule(): interval must be positive";d=null==d?p.fl:d;e=e||0;this.af().aU(this,a,c,d,e,!this.ve)},gd:function(a,c){this.zc(a,0,0,c)},zd:function(a){a&&this.af().BJ(this,a)},qs:function(){this.af().AJ(this)},zw:function(){this.af().Dm(this);this.ag().Dm(this)},pw:function(){this.af().Zr(this);this.ag().Zr(this)},b8:function(a){this.Rt=a;this.Hp=this.qj=!0},c7:function(){this.wu&&(this.VE=p.bD(this.Af()),this.wu=!1);return this.VE},Wr:function(){for(var a=this.Af(),c=this.W;null!=
c;c=c.getParent())a=p.Yk(a,c.Af());return a},cW:function(){return p.bD(this.Wr())},wb:function(a){return p.RD(a,this.cW())},Ak:function(a){return p.RD(a,this.Wr())},LP:function(a){return p.ed(this.wb(a),this.md)},b0:function(a){a=p.Bf(a,this.md);return this.Ak(a)},qZ:function(a){a=this.Ak(a);return p.O.d().MP(a)},yh:function(a){return this.wb(a.V)},c0:function(a){a=a.V;a=p.O.d().KP(a);return this.LP(a)},update:function(a){this.ci&&!this.ci.g5()&&this.ci.ga(a)},Ff:function(){this.Nf(this.p,p.I.kf.Ff)},
sI:function(){},lC:function(){},xQ:function(a){return this.ci.xQ(a)},c_:function(a){this.ci.add(a)},F7:function(a){return this.ci.remove(a)},x7:function(){this.ci.CT()},MF:null,qA:null,nz:null,tn:null,ek:null,ctor:null,hh:function(){this.sz()},ih:function(){this.sz();var a=new p.Vg;a.Wg[2]=a.Wg[3]=a.Wg[6]=a.Wg[7]=a.Wg[8]=a.Wg[9]=a.Wg[11]=a.Wg[14]=0;a.Wg[10]=a.Wg[15]=1;this.MF=a;this.nz=0;this.qA=new p.Vg},ga:null,Xl:function(a){if(this.va){a=a||p.N;var c,d=this.p,e;a.save();this.transform(a);var f=
d.length;if(0<f){this.xd();for(c=0;c<f;c++)if(e=d[c],0>e.Qa)e.ga(a);else break;for(this.Ia(a);c<f;c++)d[c].ga(a)}else this.Ia(a);this.pf=0;a.restore()}},Yl:function(){if(this.va){var a=p.N,c,d=p.QP;d.stack.push(d.top);p.O5(this.qA,d.top);d.top=this.qA;var e=this.ek;e&&e.QL&&e.SA();this.transform();var f=this.p;if(f&&0<f.length){var g=f.length;this.xd();for(c=0;c<g;c++)if(f[c]&&0>f[c].Qa)f[c].ga();else break;for(this.Ia(a);c<g;c++)f[c]&&f[c].ga()}else this.Ia(a);this.pf=0;e&&e.QL&&e.OA(this);d.top=
d.stack.pop()}},transform:null,GO:function(a){a=a||p.N;var c=p.ha.d(),d=this.Af();a.transform(d.D,d.qa,d.f,d.za,d.Ka*c.ka,-d.La*c.pa)},HO:function(){var a=this.MF,c=p.QP.top,d=this.Af(),e=a.Wg;e[0]=d.D;e[4]=d.qa;e[12]=d.Ka;e[1]=d.f;e[5]=d.za;e[13]=d.La;e[14]=this.zv;p.jS(c,c,a);null==this.tn||null!=this.ek&&this.ek.Lo()||(a=this.md.C,c=this.md.G,0!==a||0!==c?(p.hS(p.Jf(a),p.Jf(c),0),this.tn.HH(),p.hS(p.Jf(-a),p.Jf(-c),0)):this.tn.HH())},Af:null,qN:function(){this.pj||(this.pj={D:1,f:0,qa:0,za:1,Ka:0,
La:0});if(this.qj){var a=this.pj;a.Ka=this.o.C;a.La=this.o.G;var c=1,d=0;this.Wf&&(c=Math.cos(this.Hl),d=Math.sin(this.Hl));a.D=a.za=c;a.f=-d;a.qa=d;var e=this.ka,f=this.pa,g=this.md.C,h=this.md.G,k=1E-6>e&&-1E-6<e?1E-6:e,l=1E-6>f&&-1E-6<f?1E-6:f;if(this.Pd||this.Qd){var m=Math.tan(-this.Pd*Math.PI/180),n=Math.tan(-this.Qd*Math.PI/180),s=h*m*k,q=g*n*l;a.D=c+-d*n;a.f=c*m+-d;a.qa=d+c*n;a.za=d*m+c;a.Ka+=c*s+-d*q;a.La+=d*s+c*q}if(1!==e||1!==f)a.D*=k,a.qa*=k,a.f*=l,a.za*=l;a.Ka+=c*-g*k+-d*h*l;a.La-=d*
-g*k+c*h*l;this.hk&&(a.Ka+=g,a.La+=h);this.Hp&&(this.pj=p.Yk(this.pj,this.Rt),this.Hp=!1);this.qj=!1}return this.pj},rN:function(){if(this.qj){var a=this.o.C,c=this.o.G,d=this.md.C,e=-d,f=this.md.G,g=-f,h=this.ka,k=this.pa;this.hk&&(a+=d,c+=f);var l=1,m=0,n=1,s=0;if(0!==this.Wf||0!==this.ph)l=Math.cos(-this.Hl),m=Math.sin(-this.Hl),n=Math.cos(-this.Jq),s=Math.sin(-this.Jq);var q=this.Pd||this.Qd;q||0===d&&0===f||(a+=n*e*h+-m*g*k,c+=s*e*h+l*g*k);a={D:n*h,f:s*h,qa:-m*k,za:l*k,Ka:a,La:c};q&&(a=p.Yk({D:1,
f:Math.tan(p.Ji(this.Qd)),qa:Math.tan(p.Ji(this.Pd)),za:1,Ka:0,La:0},a),0!==d||0!==f)&&(a=p.fx(a,e,g));this.Hp&&(a=p.Yk(a,this.Rt),this.Hp=!1);this.pj=a;this.qj=!1}return this.pj},Jl:function(){this.BE=!0;this.W&&this.W.Jl()},lB:function(){this.tn||(this.tn=new p.op);return this.tn},c2:function(){return this.ek},H8:function(a){this.ek=a},rB:function(){return this.uc},ng:function(a){this.uc=a},b2:function(){return this.nz},G8:function(a){this.nz=a},k1:function(){var a=p.rect(0,0,this.ja.wa,this.ja.ia),
c=this.Wr(),a=p.ug(a,this.Wr());if(!this.p)return a;for(var d=this.p,e=0;e<d.length;e++){var f=d[e];f&&f.va&&(f=f.NE(c))&&(a=p.ww(a,f))}return a},NE:function(a){var c=p.rect(0,0,this.ja.wa,this.ja.ia);a=null==a?this.Af():p.Yk(this.Af(),a);c=p.ug(c,a);if(!this.p)return c;for(var d=this.p,e=0;e<d.length;e++){var f=d[e];f&&f.va&&(f=f.NE(a))&&(c=p.ww(c,f))}return c}});
p.ta.Ac?(b=p.I.prototype,b.ctor=p.I.prototype.ih,b.Ja=p.I.prototype.gO,b.ga=p.I.prototype.Yl,b.transform=p.I.prototype.HO,b.Af=p.I.prototype.rN):(b=p.I.prototype,b.ctor=p.I.prototype.hh,b.Ja=p.I.prototype.fO,b.ga=p.I.prototype.Xl,b.transform=p.I.prototype.GO,b.Af=p.I.prototype.qN);p.I.create=function(){return new p.I};p.I.kf={jg:1,vd:2,wf:3,Ih:4,Ff:5,Xg:6,xd:7};
p.kb=p.I.extend({Ua:!0,Kb:255,Vf:255,sc:null,Nd:null,Xc:!1,Hd:!1,ctor:function(){p.I.prototype.ctor.call(this);this.Vf=this.Kb=255;this.sc=p.jb();this.Nd=p.jb();this.Hd=this.Xc=!1},wi:function(){return this.Vf},AQ:function(){return this.Kb},X:function(a){this.Kb=this.Vf=a;a=255;var c=this.W;c&&c.Ua&&c.Hd&&(a=c.Kb);this.Lc(a)},Lc:function(a){this.Kb=this.Vf*a/255;if(this.Hd){a=this.p;for(var c=0;c<a.length;c++){var d=a[c];d&&d.Ua&&d.Lc(this.Kb)}}},$R:function(){return this.Hd},CI:function(a){this.Hd!==
a&&((this.Hd=a)?this.dq():this.Vy())},dq:function(){var a=255,c=this.W;c&&c.Ua&&c.Hd&&(a=c.Kb);this.Lc(a)},Vy:function(){this.Kb=this.Vf;for(var a=this.p,c=0;c<a.length;c++){var d=a[c];d&&d.Ua&&d.Lc(255)}},cd:function(){var a=this.Nd;return new p.nc(a.h,a.g,a.f)},yr:function(){return this.sc},k:function(a){var c=this.sc,d=this.Nd;c.h=d.h=a.h;c.g=d.g=a.g;c.f=d.f=a.f;a=(a=this.W)&&a.Ua&&a.Xc?a.yr():p.jb();this.Kc(a)},Kc:function(a){var c=this.sc,d=this.Nd;c.h=0|d.h*a.h/255;c.g=0|d.g*a.g/255;c.f=0|d.f*
a.f/255;if(this.Xc)for(a=this.p,d=0;d<a.length;d++){var e=a[d];e&&e.Ua&&e.Kc(c)}},ZR:function(){return this.Xc},BI:function(a){this.Xc!==a&&((this.Xc=a)?this.cq():this.Uy())},cq:function(){var a;a=(a=this.W)&&a.Ua&&a.Xc?a.yr():p.jb();this.Kc(a)},Uy:function(){var a=this.sc,c=this.Nd;a.h=c.h;a.g=c.g;a.f=c.f;for(var a=this.p,c=p.jb(),d=0;d<a.length;d++){var e=a[d];e&&e.Ua&&e.Kc(c)}},s:function(a,c,d){p.I.prototype.s.call(this,a,c,d);this.Xc&&this.cq();this.Hd&&this.dq()},ff:function(){},Gk:function(){return!1}});
p.kb.create=function(){var a=new p.kb;a.q();return a};p.Bd=p.kb.extend({Ua:!0,aF:0,$E:0,yu:0,xu:0,Ui:null,Ea:null,$b:!1,U:null,Gq:0,oz:!1,ctor:function(){p.kb.prototype.ctor.call(this);this.Ui=p.jb();this.U={src:p.ke,rb:p.je};this.oz=!1},aaa:function(){p.log("cc.AtlasNode.updateAtlasValues(): Shall be overridden in subclasses")},cd:function(){return this.$b?this.Ui:p.kb.prototype.cd.call(this)},ff:function(a){var c=this.cd();this.$b=a;this.k(c)},Gk:function(){return this.$b},xr:function(){return this.U},Pk:function(a,c){this.U=1==arguments.length?a:
{src:a,rb:c}},fp:function(a){this.Ea=a},bH:function(){return this.Ea},o3:function(){return this.Gq},w9:function(a){this.Gq=a},Rl:null,Rf:null,PF:null,$t:null,NR:function(a,c,d,e){if(!a)throw"cc.AtlasNode.initWithTileFile(): title should not be null";a=p.Ra.d().gc(a);return this.Aa(a,c,d,e)},Aa:null,rq:function(a,c,d,e){this.yu=c;this.xu=d;this.$b=!0;this.Rf=a;if(!this.Rf)return p.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.Rl=this.Rf;this.Wt();this.Gq=e;return!0},sq:function(a,
c,d,e){this.yu=c;this.xu=d;this.Ui=p.jb();this.$b=!0;this.U.src=p.ke;this.U.rb=p.je;c=this.Nd;this.$t=new Float32Array([c.h/255,c.g/255,c.f/255,this.Vf/255]);this.Ea=new p.en;this.Ea.Aa(a,e);if(!this.Ea)return p.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.Wl();this.WF();this.Wt();this.Gq=e;this.ng(p.fh.d().Kh(p.yY));this.PF=p.N.getUniformLocation(this.rB().Wv(),"u_color");return!0},Ia:null,Qf:function(a){a=a||p.N;p.Gx(this);p.Aj(this.U.src,this.U.rb);a.uniform4fv(this.PF,
this.$t);this.Ea.EG(this.Gq,0)},k:null,Lq:function(a){var c=this.Nd;if(c.h!=a.h||c.g!=a.g||c.f!=a.f){c=new p.nc(a.h,a.g,a.f);this.Ui=a;if(this.$b){var d=this.Kb;c.h=c.h*d/255;c.g=c.g*d/255;c.f=c.f*d/255}p.kb.prototype.k.call(this,a);this.S()&&(a=this.Rf.tc)&&(c=p.Ra.d().cH(a))&&(d=p.rect(0,0,a.width,a.height),a=p.jB(a,c,this.Nd,d),c=new p.Ob,c.bf(a),c.de(),this.aa(c))}},cA:function(a){var c=p.nc(a.h,a.g,a.f);this.Ui=a;var d=this.Kb;this.$b&&(c.h=c.h*d/255,c.g=c.g*d/255,c.f=c.f*d/255);p.kb.prototype.k.call(this,
a);a=this.sc;this.$t=new Float32Array([a.h/255,a.g/255,a.f/255,d/255])},X:null,Nq:function(a){p.kb.prototype.X.call(this,a);this.$b&&this.k(this.Ui)},fA:function(a){p.kb.prototype.X.call(this,a);this.$b?this.k(this.Ui):(a=this.sc,this.$t=new Float32Array([a.h/255,a.g/255,a.f/255,this.Kb/255]))},S:null,kz:function(){return this.Rl},lz:function(){return this.Ea.S()},aa:null,Oq:function(a){this.Rl=a},Pq:function(a){this.Ea.aa(a);this.Wl();this.WF()},Wt:null,gM:function(){var a=this.S().e();this.$E=0|
a.height/this.xu;this.aF=0|a.width/this.yu},hM:function(){var a=this.S(),c=a.e();this.oz&&(c=a.ja);this.$E=0|c.height/this.xu;this.aF=0|c.width/this.yu},Wl:function(){this.Ea.S().Ir()||(this.U.src=770,this.U.rb=771)},WF:function(){this.$b=this.Ea.S().Ir()},eA:function(a){this.oz=a}});
p.ta.Ac?(b=p.Bd.prototype,b.Aa=p.Bd.prototype.sq,b.Ia=p.Bd.prototype.Qf,b.k=p.Bd.prototype.cA,b.X=p.Bd.prototype.fA,b.S=p.Bd.prototype.lz,b.aa=p.Bd.prototype.Pq,b.Wt=p.Bd.prototype.hM):(b=p.Bd.prototype,b.Aa=p.Bd.prototype.rq,b.Ia=p.I.prototype.Ia,b.k=p.Bd.prototype.Lq,b.X=p.Bd.prototype.Nq,b.S=p.Bd.prototype.kz,b.aa=p.Bd.prototype.Oq,b.Wt=p.Bd.prototype.gM);p.Bd.create=function(a,c,d,e){var f=new p.Bd;return f.NR(a,c,d,e)?f:null};p.Ni=0;p.yp=1;p.xp=2;p.wp=3;p.Xx=4;p.Wx=5;p.At=6;p.zt=7;p.bE=8;p.aE=9;p.$D=p.Ni;p.Ny=p.$D;p.dL=!1;p.SZ=function(a,c,d,e){this.sS=a||0;this.pS=c||0;this.PJ=d||0;this.QJ=e||0};
p.tL=p.ra.extend({uN:null,qf:null,Gg:null,Fg:null,zz:null,ja:null,Bg:null,Cg:null,Jn:null,wl:!1,uc:null,ec:!1,tc:null,xh:null,nd:null,ctor:function(){this.Fg=this.Gg=0;this.zz="";this.Cg=this.Bg=0;this.Jn=!1;this.ja=p.Ll();this.wl=!1;this.uN=!0;this.qf=p.Ob.RP();this.uc=null;this.ec=!1;this.xh=this.tc=null;this.nd=[]},mC:function(){this.xh&&p.N.deleteTexture(this.xh)},b3:function(){return this.qf},Fo:function(){return this.Gg},Eo:function(){return this.Fg},getName:function(){return this.xh},e:function(){return p.size(this.ja.width/
p.jd(),this.ja.height/p.jd())},zQ:function(){return this.ja},IQ:function(){return this.Bg},PU:function(a){this.Bg=a},JQ:function(){return this.Cg},QU:function(a){this.Cg=a},rB:function(){return this.uc},ng:function(a){this.uc=a},Ir:function(){return this.Jn},wR:function(){return this.wl},description:function(){return"\x3ccc.Texture2D | Name \x3d "+this.zz+" | Dimensions \x3d "+this.Gg+" x "+this.Fg+" | Coordinates \x3d ("+this.Bg+", "+this.Cg+")\x3e"},yT:function(){},fS:function(a){return a},bw:function(a,
c,d,e,f){var g=p.N,h=0,h=c===p.Ni?24:this.pG(c),h=d*h/8;0===h%8?g.pixelStorei(g.UNPACK_ALIGNMENT,8):0===h%4?g.pixelStorei(g.UNPACK_ALIGNMENT,4):0===h%2?g.pixelStorei(g.UNPACK_ALIGNMENT,2):g.pixelStorei(g.UNPACK_ALIGNMENT,1);this.xh=g.createTexture();p.cg(this);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE);
switch(c){case p.Ni:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_BYTE,a);break;case p.yp:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_BYTE,a);break;case p.At:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_4_4_4_4,a);break;case p.zt:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_5_5_5_1,a);break;case p.xp:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_SHORT_5_6_5,a);break;case p.Wx:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE_ALPHA,
d,e,0,g.LUMINANCE_ALPHA,g.UNSIGNED_BYTE,a);break;case p.wp:g.texImage2D(g.TEXTURE_2D,0,g.ALPHA,d,e,0,g.ALPHA,g.UNSIGNED_BYTE,a);break;case p.Xx:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE,d,e,0,g.LUMINANCE,g.UNSIGNED_BYTE,a);break;default:throw"NSInternalInconsistencyException";}this.ja.wa=f.width;this.ja.ia=f.height;this.Gg=d;this.Fg=e;this.qf=c;this.Bg=f.width/d;this.Cg=f.height/e;this.wl=this.Jn=!1;this.ng(p.fh.d().Kh(p.iL));return this.ec=!0},cQ:function(a){var c=[0,this.Cg,this.Bg,this.Cg,0,0,this.Bg,
0],d=this.Gg*this.Bg,e=this.Fg*this.Cg;a=[a.x,a.y,0,d+a.x,a.y,0,a.x,e+a.y,0,d+a.x,e+a.y,0];p.Zd(p.wg|p.CL);this.uc.Me();this.uc.dJ();p.cg(this);d=p.N;d.vertexAttribPointer(p.ne,2,d.FLOAT,!1,0,a);d.vertexAttribPointer(p.Cp,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},eQ:function(a){var c=[0,this.Cg,this.Bg,this.Cg,0,0,this.Bg,0];a=[a.x,a.y,a.x+a.width,a.y,a.x,a.y+a.height,a.x+a.width,a.y+a.height];p.Zd(p.wg|p.CL);this.uc.Me();this.uc.dJ();p.cg(this);var d=p.N;d.vertexAttribPointer(p.ne,2,
d.FLOAT,!1,0,a);d.vertexAttribPointer(p.Cp,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},HB:function(a){if(null==a)return p.log("cocos2d: cc.Texture2D. Can't create Texture. UIImage is nil"),!1;var c=a.Fr(),d=a.zr(),e=p.le.d().zq;if(c>e||d>e)return p.log("cocos2d: WARNING: Image ("+c+" x "+d+") is bigger than the supported "+e+" x "+e),!1;this.ec=!0;return this.RM(a,c,d)},bf:function(a){a&&(this.xh=p.N.createTexture(),this.tc=a)},DQ:function(){return this.tc},fg:function(){return this.ec},
de:function(){this.ec=!0;var a=p.N;p.cg(this);a.pixelStorei(a.UNPACK_ALIGNMENT,4);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,this.tc);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);this.ng(p.fh.d().Kh(p.iL));p.cg(null);a=this.tc.height;this.Gg=this.ja.wa=this.tc.width;this.Fg=this.ja.ia=
a;this.qf=p.Ni;this.Cg=this.Bg=1;this.wl=this.Jn=!1;this.Gd()},Ek:function(a,c,d,e,f,g){3==arguments.length&&(c=arguments[1],d=arguments[2],e=p.size(0,0),f=p.Oi,g=p.Ep);var h=new p.xK,k;if(p.Ep===g)k=p.Oi===f?p.lW:p.zp===f?p.mW:p.nW;else if(p.Jt===g)k=p.Oi===f?p.iW:p.zp===f?p.jW:p.kW;else if(p.Dp===g)k=p.Oi===f?p.fW:p.zp===f?p.gW:p.hW;else return p.log("Not supported alignment format!"),!1;return h.Ek(a,e.width,e.height,k,c,d)?this.HB(h):!1},GR:function(){return!1},sH:function(a){var c=!1,d=new p.OY;
(c=d.M4(a))?(d.E9(!0),this.zz=d.getName(),this.Cg=this.Bg=1,this.Gg=d.Fr(),this.Fg=d.zr(),this.ja.wa=this.Gg,this.ja.ia=this.Fg,this.Jn=p.dL,this.qf=d.Z1(),this.yI()):p.log("cocos2d: Couldn't load PVR image "+a);return c},KR:function(){return p.le.d().Yq?!0:(p.log("cocos2d: WARNING: PVRTC images is not supported."),!1)},mV:function(a){var c=p.N;p.Bs(this.Gg==p.Ym(this.Gg)&&this.Fg==p.Ym(this.Fg)||a.PJ==c.CLAMP_TO_EDGE&&a.QJ==c.CLAMP_TO_EDGE,"WebGLRenderingContext.CLAMP_TO_EDGE should be used in NPOT textures");
p.cg(this);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,a.sS);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,a.pS);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,a.PJ);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,a.QJ)},yI:function(){var a=p.N;p.cg(this);this.wl?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},xI:function(){var a=p.N;p.cg(this);
this.wl?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},generateMipmap:function(){p.Bs(this.Gg==p.Ym(this.Gg)&&this.Fg==p.Ym(this.Fg),"Mimpap texture only works in POT textures");p.cg(this);p.N.generateMipmap(p.N.TEXTURE_2D);this.wl=!0},KV:function(){switch(this.qf){case p.Ni:return"RGBA8888";case p.yp:return"RGB888";case p.xp:return"RGB565";case p.At:return"RGBA4444";
case p.zt:return"RGB5A1";case p.Wx:return"AI88";case p.wp:return"A8";case p.Xx:return"I8";case p.bE:return"PVRTC4";case p.aE:return"PVRTC2";default:p.log("stringForFormat: "+this.qf+", cannot give useful result, it's a unrecognized pixel format")}return""},pG:function(a){a=a||this.qf;switch(a){case p.Ni:return 32;case p.yp:return 32;case p.xp:return 16;case p.wp:return 8;case p.At:return 16;case p.zt:return 16;case p.bE:return 4;case p.aE:return 2;case p.Xx:return 8;case p.Wx:return 16;default:return p.log("bitsPerPixelForFormat: "+
this.qf+", cannot give useful result, it's a illegal pixel format"),-1}},RM:function(a,c,d){var e=a.getData(),f=null,f=null,g=a.B4(),h=p.size(a.Fr(),a.zr()),k=p.$D,l=a.i1();g||(8<=l?k=p.yp:(p.log("cocos2d: cc.Texture2D: Using RGB565 texture since image has no alpha"),k=p.xp));var m=c*d;if(k==p.xp)if(g)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>2<<5|(f[l]>>16&255)>>3<<0;else for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]&255)>>3<<
11|(f[l]&255)>>2<<5|(f[l]&255)>>3<<0;else if(k==p.At)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>4<<12|(f[l]>>8&255)>>4<<8|(f[l]>>16&255)>>4<<4|(f[l]>>24&255)>>4<<0;else if(k==p.zt)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>3<<6|(f[l]>>16&255)>>3<<1|(f[l]>>24&255)>>7<<0;else if(k==p.wp)for(e=new Uint8Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=f>>24&255;if(g&&k==p.yp)for(f=a.getData(),e=new Uint8Array(c*d*3),l=0;l<m;++l)e[3*
l]=f>>0&255,e[3*l+1]=f>>8&255,e[3*l+2]=f>>16&255;this.bw(e,k,c,d,h);a.getData();this.Jn=a.u5();return!0},vf:function(a,c){this.nd.push({zj:a,Ah:c})},IT:function(a){for(var c=this.nd,d=0;d<c.length;d++)c[d].Ah==a&&c.splice(d,1)},Gd:function(){for(var a=this.nd,c=0,d=a.length;c<d;c++){var e=a[c];e.zj.call(e.Ah,this)}a.length=0}});
p.sL=p.ra.extend({ja:null,ec:!1,tc:null,nd:null,ctor:function(){this.ja=p.Ll();this.ec=!1;this.tc=null;this.nd=[]},Fo:function(){return this.ja.wa},Eo:function(){return this.ja.ia},e:function(){var a=p.jd();return p.size(this.ja.wa/a,this.ja.ia/a)},zQ:function(){return this.ja},bf:function(a){a&&(this.tc=a)},DQ:function(){return this.tc},fg:function(){return this.ec},de:function(){this.ec=!0;var a=this.tc;this.ja.wa=a.width;this.ja.ia=a.height;this.Gd()},description:function(){return"\x3ccc.Texture2D | width \x3d "+
this.ja.wa+" height "+this.ja.ia+"\x3e"},bw:function(){return!1},HB:function(){return!1},Ek:function(){return!1},mC:function(){},getName:function(){return null},IQ:function(){return 1},PU:function(){},JQ:function(){return 1},QU:function(){},rB:function(){return null},ng:function(){},Ir:function(){return!1},wR:function(){return!1},yT:function(){},fS:function(a){return a},cQ:function(){},eQ:function(){},GR:function(){return!1},sH:function(){return!1},KR:function(){return!0},mV:function(){},yI:function(){},
xI:function(){},generateMipmap:function(){},KV:function(){return""},pG:function(){return-1},vf:function(a,c){this.nd.push({zj:a,Ah:c})},IT:function(a){for(var c=this.nd,d=0;d<c.length;d++)c[d].Ah==a&&c.splice(d,1)},Gd:function(){for(var a=this.nd,c=0,d=a.length;c<d;c++){var e=a[c];e.zj.call(e.Ah,this)}a.length=0}});p.Ob=p.ta.Ac?p.tL:p.sL;p.Ob.s8=function(a){p.Ny=a};p.Ob.RP=function(){return p.Ny};p.Ob.G1=function(){return p.Ny};p.wr=null;p.Z5=function(a){if(p.HP(a)==p.rK)p.log("unsupported format:"+a);else{var c=new Image;c.src=a;c.addEventListener("load",function(){p.Ra.d().oP(a,c);this.removeEventListener("load",arguments.callee,!1)},!1)}};p.HP=function(a){return 0<a.toLowerCase().indexOf(".jpg")||0<a.toLowerCase().indexOf(".jpeg")?p.lX:0<a.toLowerCase().indexOf(".png")?p.mX:0<a.toLowerCase().indexOf(".webp")?p.oX:p.rK};
p.Ra=p.ra.extend({bb:null,Zq:null,mv:null,qF:!1,Bu:null,Cu:null,ctor:function(){if(p.wr)throw"Attempted to allocate a second instance of a singleton.";this.mv+=0|1E3*Math.random();this.bb={};this.Zq={};p.fd===p.Tj&&(this.Bu={},this.Cu={})},qy:function(a,c){if(a&&"string"===typeof c)a[c]();else a&&"function"===typeof c&&c.call(a)},ZM:function(){this.qF=!0;var a,c=this.Bu,d=this.bb;for(a in c){var e=c[a],f=new p.Ob;f.bf(e);f.de();d[a]=f}this.Bu={}},j_:function(){p.log("TextureCache:addPVRTCImage does not support on HTML5")},
e_:function(){p.log("TextureCache:addPVRTCImage does not support on HTML5")},description:function(){return"\x3cTextureCache | Number of textures \x3d "+this.bb.length+"\x3e"},Xw:function(a){a=p.kd.d().Wd(a);return this.bb.hasOwnProperty(a)?this.bb[a]:null},FQ:function(a){for(var c in this.bb)if(this.bb[c]==a)return c;return null},IM:function(){this.mv++;return"_textureKey_"+this.mv},cH:function(a){var c=this.FQ(a);c||(c=a instanceof HTMLImageElement?a.src:this.IM());this.Zq.hasOwnProperty(c)||(this.Zq[c]=
p.Bo(a));return this.Zq[c]},i_:function(a){if(!a)throw"cc.TextureCache.addPVRImage(): path should be non-null";a=p.kd.d().Wd(a);if(null!=this.bb[a])return this.bb[a];var c=new p.Ob;c.sH(a)?this.bb[a]=c:p.log("cocos2d: Couldn't add PVRImage:"+a+" in TextureCache");return c},A7:function(){var a=this.bb,c;for(c in a)a[c]&&a[c].mC();this.bb={}},P7:function(a){if(a){var c=this.bb,d;for(d in c)c[d]==a&&(c[d].mC(),delete c[d])}},MT:function(a){null!=a&&(a=p.kd.d().Wd(a),this.bb[a]&&delete this.bb[a])},f_:function(a,
c,d){if(!a)throw"cc.TextureCache.addImageAsync(): path should be non-null";a=p.kd.d().Wd(a);var e=this.bb[a],f,g;if(e)e.fg()?this.qy(c,d):(g=this,f=e.tc,f.addEventListener("load",function(){e.de();g.qy(c,d);this.removeEventListener("load",arguments.callee,!1)}));else{f=new Image;f.crossOrigin="Anonymous";g=this;f.addEventListener("load",function(){g.bb.hasOwnProperty(a)&&g.bb[a].de();g.qy(c,d);this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});
f.addEventListener("error",function(){p.Nb.d().um(a);g.bb.hasOwnProperty(a)&&delete g.bb[a];this.removeEventListener("error",arguments.callee,!1)});f.src=a;var h=new p.Ob;h.bf(f);this.bb[a]=h}return this.bb[a]},SL:function(a){var c=new Image;c.crossOrigin="Anonymous";var d=this;c.addEventListener("load",function(){p.Nb.d().Jh();d.Bu[a]=c;delete d.Cu[a];this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});c.addEventListener("error",function(){p.Nb.d().um(a);
delete d.Cu[a];this.removeEventListener("error",arguments.callee,!1)});c.src=a;this.Cu[a]=c},gc:function(a){if(!a)throw"cc.Texture.addImage(): path should be non-null";if(p.fd===p.Tj&&!this.qF)return this.SL(a);a=p.kd.d().Wd(a);var c=this.bb[a],d;if(c)c.fg()?p.Nb.d().Jh():(d=c.tc,d.addEventListener("load",function(){c.de();p.Nb.d().Jh();this.removeEventListener("load",arguments.callee,!1)}));else{d=new Image;d.crossOrigin="Anonymous";var e=this;d.addEventListener("load",function(){p.Nb.d().Jh();e.bb.hasOwnProperty(a)&&
e.bb[a].de();this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});d.addEventListener("error",function(){p.Nb.d().um(a);e.bb.hasOwnProperty(a)&&delete e.bb[a];this.removeEventListener("error",arguments.callee,!1)});d.src=a;var f=new p.Ob;f.bf(d);this.bb[a]=f}return this.bb[a]},oP:function(a,c){if(c instanceof p.Ob)this.bb[a]=c;else{var d=new p.Ob;d.bf(c);d.de();this.bb[a]=d}},o_:function(a,c){if(!a)throw"cc.Texture.addUIImage(): image should be non-null";
if(c&&this.bb.hasOwnProperty(c)&&this.bb[c])return this.bb[c];var d=new p.Ob;d.HB(a);null!=c&&null!=d?this.bb[c]=d:p.log("cocos2d: Couldn't add UIImage in TextureCache");return d},t0:function(){var a=0,c=0,d=this.bb,e;for(e in d){var f=d[e];a++;f.tc instanceof HTMLImageElement?p.log("cocos2d: '"+e+"' id\x3d"+f.tc.src+" "+f.Fo()+" x "+f.Eo()):p.log("cocos2d: '"+e+"' id\x3d HTMLCanvasElement "+f.Fo()+" x "+f.Eo());c+=f.Fo()*f.Eo()*4}d=this.Zq;for(e in d){var f=d[e],g;for(g in f){var h=f[g];a++;p.log("cocos2d: '"+
e+"' id\x3d HTMLCanvasElement "+h.width+" x "+h.height);c+=h.width*h.height*4}}p.log("cocos2d: TextureCache dumpDebugInfo: "+a+" textures, HTMLCanvasElement for "+c/1024+" KB ("+(c/1048576).toFixed(2)+" MB)")}});p.Ra.d=function(){p.wr||(p.wr=new p.Ra);return p.wr};p.Ra.mT=function(){p.wr=null};p.en=p.ra.extend({Zc:null,ai:null,xa:!1,Oc:0,sa:null,se:null,Tf:null,Hq:null,Uf:null,ctor:function(){this.ai=[]},d4:function(){return this.Ga},q1:function(){return this.Oc},S:function(){return this.sa},aa:function(a){this.sa=a},mg:function(a){this.xa=a},AH:function(){return this.xa},n3:function(){return this.se},v9:function(a){this.se=a},rZ:function(a,c){if(a)for(var d=0;d<a.length;d++)this.av(a[d],c+d)},av:function(a,c){var d=this.se;d[c]?(d[c].ya=a.ya,d[c].Ha=a.Ha,d[c].Fa=a.Fa,d[c].Ba=a.Ba):d[c]=
new p.Rb(a.Fa,a.ya,a.Ba,a.Ha,this.Tf,c*p.Rb.BYTES_PER_ELEMENT)},description:function(){return"\x3ccc.TextureAtlas | totalQuads \x3d"+this.Ga+"\x3e"},DF:function(){if(0!==this.Oc)for(var a=this.Zc,c=this.Oc,d=0;d<c;d++)p.cE?(a[6*d+0]=4*d+0,a[6*d+1]=4*d+0,a[6*d+2]=4*d+2,a[6*d+3]=4*d+1,a[6*d+4]=4*d+3,a[6*d+5]=4*d+3):(a[6*d+0]=4*d+0,a[6*d+1]=4*d+1,a[6*d+2]=4*d+2,a[6*d+3]=4*d+3,a[6*d+4]=4*d+2,a[6*d+5]=4*d+1)},vO:function(){var a=p.N;this.ai[0]=a.createBuffer();this.ai[1]=a.createBuffer();this.Hq=a.createBuffer();
this.cF()},cF:function(){var a=p.N;a.bindBuffer(a.ARRAY_BUFFER,this.Hq);a.bufferData(a.ARRAY_BUFFER,this.Tf,a.DYNAMIC_DRAW);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.ai[1]);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.Zc,a.STATIC_DRAW)},zi:function(a,c){var d=p.Ra.d().gc(a);if(d)return this.Aa(d,c);p.log("cocos2d: Could not open file: "+a);return!1},Aa:function(a,c){if(!a)throw"cc.TextureAtlas.initWithTexture():texture should be non-null";this.Oc=c|=0;this.Ga=0;this.sa=a;this.se=[];this.Zc=new Uint16Array(6*
c);var d=p.Rb.BYTES_PER_ELEMENT;this.Tf=new ArrayBuffer(d*c);this.Uf=new Uint8Array(this.Tf);if((!this.se||!this.Zc)&&0<c)return!1;for(var e=this.se,f=0;f<c;f++)e[f]=new p.Rb(null,null,null,null,this.Tf,f*d);this.DF();this.vO();return this.xa=!0},bx:function(a,c){if(!a)throw"cc.TextureAtlas.updateQuad(): quad should be non-null";if(0>c||c>=this.Oc)throw"cc.TextureAtlas.updateQuad(): Invalid index";this.Ga=Math.max(c+1,this.Ga);this.av(a,c);this.xa=!0},NB:function(a,c){if(c>=this.Oc)throw"cc.TextureAtlas.insertQuad(): Invalid index";
this.Ga++;if(this.Ga>this.Oc)p.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");else{var d=p.Rb.BYTES_PER_ELEMENT,e=c*d,f=(this.Ga-1-c)*d;this.se[this.Ga-1]=new p.Rb(null,null,null,null,this.Tf,(this.Ga-1)*d);this.Uf.set(this.Uf.subarray(e,e+f),e+d);this.av(a,c);this.xa=!0}},S4:function(a,c,d){d=d||a.length;if(c+d>this.Oc)throw"cc.TextureAtlas.insertQuad(): Invalid index + amount";var e=p.Rb.BYTES_PER_ELEMENT;this.Ga+=d;if(this.Ga>this.Oc)p.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");
else{var f=c*e,g=(this.Ga-1-c-d)*e,h=this.Ga-1-d,k;for(k=0;k<d;k++)this.se[h+k]=new p.Rb(null,null,null,null,this.Tf,(this.Ga-1)*e);this.Uf.set(this.Uf.subarray(f,f+g),f+e*d);for(k=0;k<d;k++)this.av(a[k],c+k);this.xa=!0}},R4:function(a,c){if(a!==c){if(0>c&&c>=this.Ga)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid newIndex";if(0>a&&a>=this.Ga)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid fromIndex";var d=p.Rb.BYTES_PER_ELEMENT,e=this.Uf,f=e.subarray(a*d,d),g;a>c?(g=c*d,e.set(e.subarray(g,
g+(a-c)*d),g+d),e.set(f,g)):(g=(a+1)*d,e.set(e.subarray(g,g+(c-a)*d),g-d),e.set(f,c*d));this.xa=!0}},KT:function(a){if(a>=this.Ga)throw"cc.TextureAtlas.removeQuadAtIndex(): Invalid index";var c=p.Rb.BYTES_PER_ELEMENT;this.Ga--;this.se.length=this.Ga;if(a!==this.Ga){var d=(a+1)*c;this.Uf.set(this.Uf.subarray(d,d+(this.Ga-a)*c),d-c)}this.xa=!0},H7:function(a,c){if(a+c>this.Ga)throw"cc.TextureAtlas.removeQuadsAtIndex(): index + amount out of bounds";this.Ga-=c;if(a!==this.Ga){var d=p.Rb.BYTES_PER_ELEMENT,
e=(a+c)*d;this.Uf.set(this.Uf.subarray(e,e+(this.Ga-a)*d),a*d)}this.xa=!0},ET:function(){this.Ga=this.se.length=0},PZ:function(a){this.xa=a},QT:function(a){if(a==this.Oc)return!0;var c=p.Rb.BYTES_PER_ELEMENT,d=this.Oc;this.Ga=Math.min(this.Ga,a);var e=this.Oc=0|a,f=this.Ga;if(null==this.se)for(this.se=[],this.Tf=new ArrayBuffer(c*e),this.Uf=new Uint8Array(this.Tf),a=0;a<e;a++)this.se=new p.Rb(null,null,null,null,this.Tf,a*c);else{var g,h,k=this.se;if(e>d){g=[];h=new ArrayBuffer(c*e);for(a=0;a<f;a++)g[a]=
new p.Rb(k[a].Fa,k[a].ya,k[a].Ba,k[a].Ha,h,a*c);for(;a<e;a++)g[a]=new p.Rb(null,null,null,null,h,a*c)}else for(f=Math.max(f,e),g=[],h=new ArrayBuffer(c*e),a=0;a<f;a++)g[a]=new p.Rb(k[a].Fa,k[a].ya,k[a].Ba,k[a].Ha,h,a*c);this.Uf=new Uint8Array(h);this.se=g;this.Tf=h}null==this.Zc?this.Zc=new Uint16Array(6*e):e>d?(c=new Uint16Array(6*e),c.set(this.Zc,0),this.Zc=c):this.Zc=this.Zc.subarray(0,6*e);this.DF();this.cF();return this.xa=!0},J4:function(a){this.Ga+=a},j6:function(a,c,d){if(2==arguments.length){d=
c;c=this.Ga-a;if(d+(this.Ga-a)>this.Oc)throw"cc.TextureAtlas.moveQuadsFromIndex(): move is out of bounds";if(0===c)return}else{if(d+c>this.Ga)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid newIndex";if(a>=this.Ga)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid oldIndex";if(a==d)return}var e=p.Rb.BYTES_PER_ELEMENT,f=a*e,g=c*e,h=this.Uf,k=h.subarray(f,f+g),l=d*e,m;d<a?(m=d*e,h.set(h.subarray(m,m+(a-d)*e),m+g)):(m=(a+c)*e,h.set(h.subarray(m,m+(d-a)*e),f));h.set(k,l);this.xa=!0},P0:function(a,
c){for(var d=c*p.Rb.BYTES_PER_ELEMENT,e=new Uint8Array(this.Tf,a*p.Rb.BYTES_PER_ELEMENT,d),f=0;f<d;f++)e[f]=0},EG:function(a,c){c=c||0;if(0!==a&&this.sa&&this.sa.fg()){var d=p.N;p.cg(this.sa);p.Zd(p.It);d.bindBuffer(d.ARRAY_BUFFER,this.Hq);this.xa&&d.bufferData(d.ARRAY_BUFFER,this.Tf,d.DYNAMIC_DRAW);d.vertexAttribPointer(p.ne,3,d.FLOAT,!1,24,0);d.vertexAttribPointer(p.Bp,4,d.UNSIGNED_BYTE,!0,24,12);d.vertexAttribPointer(p.Cp,2,d.FLOAT,!1,24,16);this.xa&&(this.xa=!1);d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,
this.ai[1]);p.cE?d.drawElements(d.TRIANGLE_STRIP,6*a,d.UNSIGNED_SHORT,6*c*this.Zc.BYTES_PER_ELEMENT):d.drawElements(d.TRIANGLES,6*a,d.UNSIGNED_SHORT,6*c*this.Zc.BYTES_PER_ELEMENT);p.Bh++}},fQ:function(){this.EG(this.Ga,0)},MZ:function(){var a=p.N;this.ai&&(this.ai[0]&&a.deleteBuffer(this.ai[0]),this.ai[1]&&a.deleteBuffer(this.ai[1]));this.Hq&&a.deleteBuffer(this.Hq)}});p.en.create=function(a,c){var d=new p.en;return d&&d.zi(a,c)?d:null};p.en.qd=function(a,c){var d=new p.en;return d&&d.Aa(a,c)?d:null};p.tp=p.I.extend({ctor:function(){p.I.prototype.ctor.call(this);this.hk=!0;this.ma(0.5,0.5);this.ea(p.O.d().Cb)}});p.tp.create=function(){return new p.tp};p.Yx=0;p.JY=1;
p.oc=p.I.extend({jk:!1,ik:!1,Ln:!1,wk:0,gr:p.Yx,yl:!1,Un:0,ctor:function(){p.I.prototype.ctor.call(this);this.Ln=this.ik=this.jk=!1;this.wk=0;this.gr=p.Yx;this.yl=!1;this.Un=0},QM:function(){this.ma(0.5,0.5);this.hk=!0;var a=p.O.d();this.ea(a.Cb)},q:function(){p.I.prototype.q.call(this);this.QM();return!0},xw:function(){this.gr===p.Yx?p.xT(this,this.wk):p.kC(this.wk,!0,this)},n5:function(){return this.yl},BC:function(a){if(!p.Ed)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.yl!=
a&&(this.yl=a,this.ve&&(a?p.O.d().$e().hG(this,this.Un):p.O.d().$e().nI(this)))},b9:function(a){if(!p.Ed)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.Un!==a&&(this.Un=a,this.yl&&(this.BC(!1),this.BC(!0)))},F2:function(){return this.Un},G5:function(){return this.jk},Mb:function(a){this.jk!==a&&(this.jk=a,this.ve&&(a?this.xw():p.zJ(this)))},h4:function(){return this.wk},ks:function(a){this.wk!==a&&(this.wk=a,this.jk&&(this.Mb(!1),this.Mb(!0)))},g4:function(){return this.gr},
bJ:function(a){this.gr!==a&&(this.gr=a,this.jk&&(this.Mb(!1),this.Mb(!0)))},W4:function(){return this.ik},Z7:function(a){if(!p.Nj)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";if(a!==this.ik&&(this.ik=a,this.ve)){var c=p.O.d();a?c.Co().Zg(this):c.Co().Zg(null)}},iU:function(a){this.ik&&p.Nj&&p.O.d().Co().iU(a)},z6:function(){p.log("onAccelerometer event should be handled.")},m5:function(){return this.Ln},S8:function(a){if(!p.Xm)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";
if(a!==this.Ln&&(this.Ln=a,this.ve)){var c=p.O.d();a?c.Uv().ZO(this):c.Uv().GT(this)}},jg:function(){var a=p.O.d();this.jk&&this.xw();p.I.prototype.jg.call(this);this.ik&&p.Nj&&a.Co().Zg(this);this.Ln&&p.Xm&&a.Uv().ZO(this);this.yl&&p.Ed&&a.$e().hG(this,this.Un)},vd:function(){var a=p.O.d();this.jk&&p.zJ(this);this.ik&&p.Nj&&a.Co().Zg(null);this.Ln&&p.Xm&&a.Uv().GT(this);this.yl&&p.Ed&&a.$e().nI(this);p.I.prototype.vd.call(this)},Ih:function(){this.ik&&p.Nj&&p.O.d().Co().Zg(this);p.I.prototype.Ih.call(this)},
Fb:function(){p.log("onTouchBegan event should be handled.");return!0},dd:function(){},df:function(){},Ej:function(){},RH:function(){},UH:function(){},TH:function(){},SH:function(){},AS:function(){return!1},BS:function(){return!1},lg:function(){return!1},ES:function(){return!1},IS:function(){return!1},JS:function(){return!1},KS:function(){return!1},FS:function(){return!1},GS:function(){return!1},HS:function(){return!1},LS:function(){return!1},CS:function(){return!1},DS:function(){return!1},XB:function(){},
lw:function(){}});p.oc.create=function(){var a=new p.oc;return a&&a.q()?a:null};
p.eh=p.oc.extend({Ua:!0,Kb:0,Vf:0,sc:null,Nd:null,Hd:!1,Xc:!1,ctor:function(){p.oc.prototype.ctor.call(this);this.Ua=!0;this.Vf=this.Kb=255;this.sc=p.jb();this.Nd=p.jb();this.Xc=this.Hd=!1},q:function(){return p.oc.prototype.q.call(this)?(this.CI(!1),this.BI(!1),!0):!1},wi:function(){return this.Vf},AQ:function(){return this.Kb},X:function(a){this.Kb=this.Vf=a;a=255;var c=this.W;c&&c.Ua&&c.Hd&&(a=c.Kb);this.Lc(a)},Lc:function(a){this.Kb=0|this.Vf*a/255;if(this.Hd){a=this.p;for(var c=0;c<a.length;c++){var d=
a[c];d&&d.Ua&&d.Lc(this.Kb)}}},$R:function(){return this.Hd},CI:function(a){this.Hd!==a&&((this.Hd=a)?this.dq():this.Vy())},dq:function(){var a=255,c=this.W;c&&c.Ua&&c.Hd&&(a=c.Kb);this.Lc(a)},Vy:function(){this.Kb=this.Vf;for(var a=this.p,c=0;c<a.length;c++){var d=a[c];d&&d.Ua&&d.Lc(255)}},cd:function(){var a=this.Nd;return p.i(a.h,a.g,a.f)},yr:function(){var a=this.sc;return p.i(a.h,a.g,a.f)},k:function(a){var c=this.sc,d=this.Nd;c.h=d.h=a.h;c.g=d.g=a.g;c.f=d.f=a.f;a=(a=this.W)&&a.Ua&&a.Xc?a.yr():
p.jb();this.Kc(a)},Kc:function(a){var c=this.sc,d=this.Nd;c.h=0|d.h*a.h/255;c.g=0|d.g*a.g/255;c.f=0|d.f*a.f/255;if(this.Xc)for(a=this.p,d=0;d<a.length;d++){var e=a[d];e&&e.Ua&&e.Kc(c)}},ZR:function(){return this.Xc},BI:function(a){this.Xc!==a&&((this.Xc=a)?this.cq():this.Uy())},cq:function(){var a;a=(a=this.W)&&a.Ua&&a.Xc?a.yr():p.jb();this.Kc(a)},Uy:function(){var a=this.sc,c=this.Nd;a.h=c.h;a.g=c.g;a.f=c.f;for(var a=this.p,c=p.jb(),d=0;d<a.length;d++){var e=a[d];e&&e.Ua&&e.Kc(c)}},s:function(a,
c,d){p.I.prototype.s.call(this,a,c,d);this.Xc&&this.cq();this.Hd&&this.dq()},ff:function(){},Gk:function(){return!1}});
p.Qb=p.eh.extend({U:null,xr:function(){return this.U},U_:function(a,c){this.ea(a,c)},qG:function(a){this.ea(a,this.ja.ia)},R_:function(a){this.ea(this.ja.wa,a)},ff:function(){},Gk:function(){return!1},k:function(a){p.eh.prototype.k.call(this,a);this.ad()},X:function(a){p.eh.prototype.X.call(this,a);this.ad()},Mn:!1,HF:null,nA:null,GA:null,Iy:null,pA:null,oA:null,hh:function(){p.eh.prototype.ctor.call(this);this.U=new p.bl(p.ke,p.je)},ih:function(){p.eh.prototype.ctor.call(this);this.U=new p.bl(p.ke,
p.je);this.pA=new ArrayBuffer(32);this.oA=new ArrayBuffer(64);var a=this.pA,c=this.oA,d=p.mb.BYTES_PER_ELEMENT,e=p.Cd.BYTES_PER_ELEMENT;this.HF=[new p.mb(0,0,a,0),new p.mb(0,0,a,d),new p.mb(0,0,a,2*d),new p.mb(0,0,a,3*d)];this.nA=[new p.Cd(0,0,0,1,c,0),new p.Cd(0,0,0,1,c,e),new p.Cd(0,0,0,1,c,2*e),new p.Cd(0,0,0,1,c,3*e)];this.GA=p.N.createBuffer();this.Iy=p.N.createBuffer()},Pk:function(a,c){this.U=1==arguments.length?a:{src:a,rb:c};p.fd===p.Hf&&(this.Mn=this.U&&1==this.U.src&&771==this.U.rb)},q:function(a,
c,d){if(!p.oc.prototype.q.call(this))return!1;p.fd!==p.Hf&&this.ng(p.fh.d().Kh(p.hL));var e=p.O.d().Cb;a=a||new p.Ab(0,0,0,255);c=c||e.width;d=d||e.height;e=this.sc;e.h=a.h;e.g=a.g;e.f=a.f;e=this.Nd;e.h=a.h;e.g=a.g;e.f=a.f;this.Vf=this.Kb=a.D;this.ea(c,d);this.ad();return!0},ea:null,aO:function(a,c){var d=this.HF;2===arguments.length?(d[1].x=a,d[2].y=c,d[3].x=a,d[3].y=c,this.yE(),p.oc.prototype.ea.call(this,a,c)):(d[1].x=a.width,d[2].y=a.height,d[3].x=a.width,d[3].y=a.height,this.yE(),p.oc.prototype.ea.call(this,
a))},ad:null,LO:function(){},MO:function(){for(var a=this.sc,c=this.Kb,d=this.nA,e=0;4>e;e++)d[e].h=a.h/255,d[e].g=a.g/255,d[e].f=a.f/255,d[e].D=c/255;this.xE()},Kc:function(a){p.eh.prototype.Kc.call(this,a);this.ad()},Lc:function(a){p.eh.prototype.Lc.call(this,a);this.ad()},yE:function(){var a=p.N;a.bindBuffer(a.ARRAY_BUFFER,this.GA);a.bufferData(a.ARRAY_BUFFER,this.pA,a.STATIC_DRAW)},xE:function(){var a=p.N;a.bindBuffer(a.ARRAY_BUFFER,this.Iy);a.bufferData(a.ARRAY_BUFFER,this.oA,a.STATIC_DRAW)},
Ia:null,sl:function(a){a=a||p.N;var c=this.e(),d=p.ha.d(),e=this.sc;a.fillStyle="rgba("+(0|e.h)+","+(0|e.g)+","+(0|e.f)+","+this.Kb/255+")";a.fillRect(0,0,c.width*d.ka,-c.height*d.pa);p.Bh++},Qf:function(a){a=a||p.N;p.Gx(this);p.Zd(p.wg|p.BL);a.bindBuffer(a.ARRAY_BUFFER,this.GA);a.vertexAttribPointer(p.ne,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Iy);a.vertexAttribPointer(p.Bp,4,a.FLOAT,!1,0,0);p.Aj(this.U.src,this.U.rb);a.drawArrays(a.TRIANGLE_STRIP,0,4)}});
p.ta.Ac?(p.Qb.prototype.ctor=p.Qb.prototype.ih,p.Qb.prototype.ea=p.Qb.prototype.aO,p.Qb.prototype.ad=p.Qb.prototype.MO,p.Qb.prototype.Ia=p.Qb.prototype.Qf):(p.Qb.prototype.ctor=p.Qb.prototype.hh,p.Qb.prototype.ea=p.eh.prototype.ea,p.Qb.prototype.ad=p.Qb.prototype.LO,p.Qb.prototype.Ia=p.Qb.prototype.sl);p.Qb.create=function(a,c,d){var e=new p.Qb;switch(arguments.length){case 0:e.q();break;case 1:e.q(a);break;case 3:e.q(a,c,d);break;default:e.q()}return e};
p.AD=p.Qb.extend({IF:null,Fn:null,co:null,Gn:null,kl:null,bu:!1,oq:null,nq:null,ctor:function(){p.Qb.prototype.ctor.call(this);this.IF=new p.nc(0,0,0);this.Fn=new p.nc(0,0,0);this.kl=p.a(0,-1);this.Gn=this.co=255;this.oq=p.a(0,0);this.nq=p.a(0,0)},ea:function(a,c){2===arguments.length?p.Qb.prototype.ea.call(this,a,c):p.Qb.prototype.ea.call(this,a);this.ad()},L3:function(){return this.Nd},L9:function(a){this.k(a)},z8:function(a){this.Fn=a;this.ad()},P1:function(){return this.Fn},M9:function(a){this.co=
a;this.ad()},M3:function(){return this.co},A8:function(a){this.Gn=a;this.ad()},Q1:function(){return this.Gn},d$:function(a){this.kl.x=a.x;this.kl.y=a.y;this.ad()},l4:function(){return p.a(this.kl.x,this.kl.y)},b5:function(){return this.bu},o8:function(a){this.bu=a;this.ad()},q:function(a,c,d){a=a||p.VA(0,0,0,255);c=c||p.VA(0,0,0,255);d=d||p.a(0,-1);var e=this.IF,f=this.Fn;e.h=a.h;e.g=a.g;e.f=a.f;this.co=a.D;f.h=c.h;f.g=c.g;f.f=c.f;this.Gn=c.D;this.kl=d;this.bu=!0;p.Qb.prototype.q.call(this,p.v(a.h,
a.g,a.f,255));return!0},Ia:function(a){if(p.fd===p.Tj)p.Qb.prototype.Ia.call(this,a);else{a=a||p.N;this.Mn&&(a.globalCompositeOperation="lighter");a.save();var c=p.ha.d(),d=this.Kb/255,e=this.e().width*c.ka,c=this.e().height*c.pa,f=a.createLinearGradient(this.oq.x,this.oq.y,this.nq.x,this.nq.y),g=this.sc,h=this.Fn;f.addColorStop(0,"rgba("+Math.round(g.h)+","+Math.round(g.g)+","+Math.round(g.f)+","+(this.co/255*d).toFixed(4)+")");f.addColorStop(1,"rgba("+Math.round(h.h)+","+Math.round(h.g)+","+Math.round(h.f)+
","+(this.Gn/255*d).toFixed(4)+")");a.fillStyle=f;a.fillRect(0,0,e,-c);0!=this.SN&&a.rotate(this.NZ);a.restore()}},ad:function(){var a=this.kl;if(p.fd===p.Hf){var c=0.5*this.e().width,d=0.5*this.e().height;this.oq.x=c*-a.x+c;this.oq.y=d*a.y-d;this.nq.x=c*a.x+c;this.nq.y=d*-a.y-d}else if(d=p.$B(a),0!==d){c=Math.sqrt(2);a=p.a(a.x/d,a.y/d);this.bu&&(a=p.Bi(a,1/(Math.abs(a.x)+Math.abs(a.y))*c));var e=this.Kb/255,f=this.sc,g=this.Fn,d=f.h/255,h=f.g/255,f=f.f/255,k=this.co*e/255,l=g.h/255,m=g.g/255,g=g.f/
255,e=this.Gn*e/255,n=this.nA,s=n[0],q=n[1],v=n[2],n=n[3];s.h=l+(c+a.x+a.y)/(2*c)*(d-l);s.g=m+(c+a.x+a.y)/(2*c)*(h-m);s.f=g+(c+a.x+a.y)/(2*c)*(f-g);s.D=e+(c+a.x+a.y)/(2*c)*(k-e);q.h=l+(c-a.x+a.y)/(2*c)*(d-l);q.g=m+(c-a.x+a.y)/(2*c)*(h-m);q.f=g+(c-a.x+a.y)/(2*c)*(f-g);q.D=e+(c-a.x+a.y)/(2*c)*(k-e);v.h=l+(c+a.x-a.y)/(2*c)*(d-l);v.g=m+(c+a.x-a.y)/(2*c)*(h-m);v.f=g+(c+a.x-a.y)/(2*c)*(f-g);v.D=e+(c+a.x-a.y)/(2*c)*(k-e);n.h=l+(c-a.x-a.y)/(2*c)*(d-l);n.g=m+(c-a.x-a.y)/(2*c)*(h-m);n.f=g+(c-a.x-a.y)/(2*c)*
(f-g);n.D=e+(c-a.x-a.y)/(2*c)*(k-e);this.xE()}}});p.AD.create=function(a,c,d){var e=new p.AD;switch(arguments.length){case 2:if(e&&e.q(a,c))return e;break;case 3:if(e&&e.q(a,c,d))return e;break;case 0:if(e&&e.q())return e;break;default:throw"Arguments error ";}return null};
p.BD=p.oc.extend({ck:0,Ag:null,O4:function(a){this.Ag=[];this.Ag.push(a);this.ck=0;this.s(a);return!0},IR:function(a){this.Ag=a;this.ck=0;this.s(this.Ag[this.ck]);return!0},F$:function(a){a>=this.Ag.length?p.log("cc.LayerMultiplex.switchTo():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.Ag[this.ck],!0),this.ck=a,this.s(this.Ag[a]))},G$:function(a){a>=this.Ag.length?p.log("cc.LayerMultiplex.switchToAndReleaseMe():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.Ag[this.ck],
!0),this.Ag[this.ck]=null,this.ck=a,this.s(this.Ag[a]))},g_:function(a){a?this.Ag.push(a):p.log("cc.Layer.addLayer(): layer should be non-null")}});p.BD.create=function(){0<arguments.length&&null==arguments[arguments.length-1]&&p.log("parameters should not be ending with null in Javascript");var a=new p.BD;return a.IR(arguments)?a:null};p.Sx=-1;
p.Bo=function(a){function c(){var c=p.Bo,e=a.width,h=a.height;d[0].width=e;d[0].height=h;d[1].width=e;d[1].height=h;d[2].width=e;d[2].height=h;d[3].width=e;d[3].height=h;c.canvas.width=e;c.canvas.height=h;var k=c.canvas.getContext("2d");k.drawImage(a,0,0);c.RC.width=e;c.RC.height=h;for(var k=k.getImageData(0,0,e,h).data,l=0;4>l;l++){var m=d[l].getContext("2d");m.getImageData(0,0,e,h).data;c.vJ.drawImage(a,0,0);for(var n=c.vJ.getImageData(0,0,e,h),s=n.data,q=0;q<k.length;q+=4)s[q]=0===l?k[q]:0,s[q+
1]=1===l?k[q+1]:0,s[q+2]=2===l?k[q+2]:0,s[q+3]=k[q+3];m.putImageData(n,0,0)}a.onload=null}if(a.hasOwnProperty("channelCache"))return a.BP;var d=[document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas")];try{c()}catch(e){a.onload=c}return a.BP=d};p.Bo.canvas=document.createElement("canvas");p.Bo.RC=document.createElement("canvas");p.Bo.vJ=p.Bo.RC.getContext("2d");
p.Y0=function(a,c,d){d||(d=p.rect(0,0,a.width,a.height),d=p.sp(d));c=c instanceof p.Cd?p.v(255*c.h,255*c.g,255*c.f,255*c.D):p.v(c.h,c.g,c.f,50);var e=document.createElement("canvas"),f=e.getContext("2d");e.width!=d.width&&(e.width=d.width);e.height!=d.height&&(e.height=d.height);f.save();f.drawImage(a,d.x,d.y,d.width,d.height,0,0,d.width,d.height);f.globalCompositeOperation="source-in";f.globalAlpha=c.D/255;f.fillStyle="rgb("+c.h+","+c.g+","+c.f+")";f.fillRect(0,0,d.width,d.height);f.restore();return e};
p.jB=function(a,c,d,e,f){e||(e=p.rect(0,0,a.width,a.height));a=null==d.D?p.Fv(d.h/255,d.g/255,d.f/255,1):d;d=Math.min(e.width,c[0].width);var g=Math.min(e.height,c[0].height),h;f?(h=f.getContext("2d"),h.clearRect(0,0,d,g)):(f=document.createElement("canvas"),f.width=d,f.height=g,h=f.getContext("2d"));h.save();h.globalCompositeOperation="lighter";var k=h.globalAlpha;0<a.h&&(h.globalAlpha=a.h*k,h.drawImage(c[0],e.x,e.y,d,g,0,0,d,g));0<a.g&&(h.globalAlpha=a.g*k,h.drawImage(c[1],e.x,e.y,d,g,0,0,d,g));
0<a.f&&(h.globalAlpha=a.f*k,h.drawImage(c[2],e.x,e.y,d,g,0,0,d,g));1>a.h+a.g+a.f&&(h.globalAlpha=k,h.drawImage(c[3],e.x,e.y,d,g,0,0,d,g));h.restore();return f};p.wG=function(a,c){if(!a)return null;if(!c)return a;var d=document.createElement("canvas");d.width=c.width;d.height=c.height;var e=d.getContext("2d");e.translate(d.width/2,d.height/2);e.rotate(-1.5707963267948966);e.drawImage(a,c.x,c.y,c.height,c.width,-c.height/2,-c.width/2,c.height,c.width);return d};
p.RY=function(a,c,d,e,f,g){this.scale=c;this.rotation=d;this.Tk=e;this.visible=g};p.Jf=function(a){return 0|a};p.kL&&(p.Jf=function(a){return a});
p.A=p.kb.extend({Ua:!0,Ea:null,Gc:0,Va:null,xa:!1,mh:null,hi:null,rk:!1,Vl:null,U:null,sa:null,oa:null,Hc:!1,Ub:null,uh:null,$b:!1,Yb:!1,Zb:!1,ab:!1,nd:null,jF:null,xJ:function(){return this.ab},vf:function(a,c){this.nd.push({zj:a,Ah:c})},Gd:function(){for(var a=this.nd,c=0,d=a.length;c<d;c++){var e=a[c];e.zj.call(e.Ah,this)}a.length=0},AH:function(){return this.xa},mg:function(a){this.xa=a},E5:function(){return this.Hc},e1:function(){return this.Gc},he:function(a){this.Gc=a},tB:function(){return p.rect(this.oa.x,
this.oa.y,this.oa.width,this.oa.height)},bH:function(){return this.Ea},fp:function(a){this.Ea=a},K3:function(){return this.Va},K9:function(a){this.Va=a},R2:function(){return this.Ub},xr:function(){return this.U},ee:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrame(): spriteFrame should be non-null";a.ab||(this.ab=!1,a.vf(this.lA,this));var c=this.Aa(a.S(),a.Yd());this.$o(a);return c},lA:null,AO:function(a){this.Ja();this.ib(a.Yd(),a.Sc,a.Rc);this.Gd()},zO:function(a){this.Ja();this.ib(a.Yd(),
a.Sc,a.Rc);a=this.cd();255===a.h&&255===a.g&&255===a.f||this.Yt();this.Gd()},uH:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";a=p.Lf.d().Tg(a);return this.ee(a)},eaa:function(a){this.Ea=a.Ea;this.Va=a},JC:function(a){this.oa.x=a.x;this.oa.y=a.y;this.oa.width=a.width;this.oa.height=a.height},xd:function(){if(this.Od){for(var a,c,d=this.p,e,f=1;f<d.length;f++){c=d[f];a=f-1;for(e=d[a];0<=a&&(c.Qa<e.Qa||c.Qa==e.Qa&&c.pf<e.pf);)d[a+1]=e,a-=1,e=d[a];d[a+
1]=c}this.Va&&this.Nf(d,p.I.kf.xd);this.Od=!1}},as:function(a,c){if(!a)throw"cc.Sprite.reorderChild(): child should be non-null";-1===this.p.indexOf(a)?p.log("cc.Sprite.reorderChild(): this child is not in children list"):c!==a.Qa&&(this.Va&&!this.Od&&(this.gA(),this.Va.oI(!0)),p.I.prototype.as.call(this,a,c))},removeChild:function(a,c){this.Va&&this.Va.Cm(a);p.I.prototype.removeChild.call(this,a,c)},Lh:function(a){var c=this.p,d=this.Va;if(d&&null!=c)for(var e=0,f=c.length;e<f;e++)d.Cm(c[e]);p.I.prototype.Lh.call(this,
a);this.hi=!1},FI:function(a){this.mh=a;this.mg(a);a=this.p;if(null!=a)for(var c=0;c<a.length;c++)a[c]instanceof p.A&&a[c].FI(!0)},vg:function(){this.Va&&!this.mh&&(this.xa=this.mh=!0,this.hi&&this.FI(!0))},w:function(a,c){2<=arguments.length?p.I.prototype.w.call(this,a,arguments[1]):p.I.prototype.w.call(this,a);this.vg()},Lw:function(a){p.I.prototype.Lw.call(this,a);this.vg()},Mw:function(a){p.I.prototype.Mw.call(this,a);this.vg()},Nw:function(a){p.I.prototype.Nw.call(this,a);this.vg()},Pw:function(a){p.I.prototype.Pw.call(this,
a);this.vg()},Qw:function(a){p.I.prototype.Qw.call(this,a);this.vg()},dp:function(a){p.I.prototype.dp.call(this,a);this.vg()},Im:function(a){p.I.prototype.Im.call(this,a);this.vg()},Ij:function(a,c){p.I.prototype.Ij.call(this,a,c);this.vg()},eJ:function(a){p.I.prototype.eJ.call(this,a);this.vg()},ma:function(a,c){2===arguments.length?p.I.prototype.ma.call(this,a,c):p.I.prototype.ma.call(this,a);this.vg()},r:function(a){p.I.prototype.r.call(this,a);this.vg()},yi:function(a){this.Va?p.log("cc.Sprite.ignoreAnchorPointForPosition(): it is invalid in cc.Sprite when using SpriteBatchNode"):
p.I.prototype.yi.call(this,a)},EU:function(a){this.Yb!=a&&(this.Yb=a,this.ib(this.oa,this.Hc,this.ja),this.Ja())},FU:function(a){this.Zb!=a&&(this.Zb=a,this.ib(this.oa,this.Hc,this.ja),this.Ja())},h5:function(){return this.Yb},i5:function(){return this.Zb},ff:null,iO:function(a){this.$b!==a&&(this.$b=a,this.rs())},hO:function(a){this.$b!==a&&(this.$b=a,this.Ja())},Gk:function(){return this.$b},Lc:null,PO:function(a){p.kb.prototype.Lc.call(this,a);this.rs()},UF:function(a){p.kb.prototype.Lc.call(this,
a);this.Jl()},w8:function(a,c){if(!a)throw"cc.Sprite.setDisplayFrameWithAnimationName(): animationName must be non-null";var d=p.Zk.d().SG(a);d?(d=d.Kd[c])?this.$o(d.Tg()):p.log("cc.Sprite.setDisplayFrameWithAnimationName(): Invalid frame index"):p.log("cc.Sprite.setDisplayFrameWithAnimationName(): Frame not found")},h1:function(){return this.Va},gA:function(){if(!this.Od){this.Od=!0;for(var a=this.W;a&&a!=this.Va;)a.gA(),a=a.getParent()}},S:function(){return this.sa},ub:null,Wu:null,Ue:!1,au:!1,
Mn:!1,Rf:null,ko:null,Xy:null,ctor:null,ih:function(a){p.kb.prototype.ctor.call(this);this.rk=!1;this.Ub=p.$c();this.uh=p.$c();this.U={src:p.ke,rb:p.je};this.oa=p.rect(0,0,0,0);this.ub=new p.Rb;this.Wu=p.N.createBuffer();this.ab=this.Ue=!0;this.nd=[];if(a)if("string"===typeof a)a=p.Lf.d().Tg(a),this.ee(a);else if("object"===typeof a)if(a instanceof p.ld)this.ee(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new p.Ob;c.bf(a);c.de();this.Aa(c)}else a instanceof p.Ob&&
this.Aa(a)},hh:function(a){p.kb.prototype.ctor.call(this);this.rk=!1;this.Ub=p.$c();this.uh=p.$c();this.U={src:p.ke,rb:p.je};this.oa=p.rect(0,0,0,0);this.jF=!1;this.ab=!0;this.nd=[];this.ko={x:0,y:0,width:0,height:0,vs:!1};this.Xy=p.size(0,0);if(a)if("string"===typeof a)a=p.Lf.d().Tg(a),this.ee(a);else if("object"===typeof a)if(a instanceof p.ld)this.ee(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new p.Ob;c.bf(a);c.de();this.Aa(c)}else a instanceof p.Ob&&this.Aa(a)},
m3:function(){return this.ub},Pk:null,XN:function(a,c){var d=this.U;1===arguments.length?(d.src=a.src,d.rb=a.rb):(d.src=a,d.rb=c)},WN:function(a,c){var d=this.U;1===arguments.length?(d.src=a.src,d.rb=a.rb):(d.src=a,d.rb=c);this.Mn=d&&(770==d.src&&1==d.rb||1==d.src&&1==d.rb)},q:null,qz:function(){if(0<arguments.length)return this.zi(arguments[0],arguments[1]);p.kb.prototype.q.call(this);this.xa=this.mh=!1;this.$b=!0;this.U.src=p.ke;this.U.rb=p.je;this.aa(null);this.ab=!0;this.Yb=this.Zb=!1;this.ma(0.5,
0.5);this.Ub.C=0;this.Ub.G=0;this.hi=!1;var a={h:255,g:255,f:255,D:255};this.ub.ya.F=a;this.ub.Ha.F=a;this.ub.Fa.F=a;this.ub.Ba.F=a;this.Ue=!0;this.ib(p.Nc(),!1,p.hl());return!0},pz:function(){if(0<arguments.length)return this.zi(arguments[0],arguments[1]);p.kb.prototype.q.call(this);this.xa=this.mh=!1;this.$b=!0;this.U.src=p.ke;this.U.rb=p.je;this.aa(null);this.ab=!0;this.Yb=this.Zb=!1;this.ma(0.5,0.5);this.Ub.C=0;this.Ub.G=0;this.hi=!1;this.ib(p.Nc(),!1,p.hl());return!0},zi:function(a,c){if(!a)throw"cc.Sprite.initWithFile(): filename should be non-null";
var d=p.Ra.d().Xw(a);if(!d)d=p.Ra.d().gc(a);else if(!c){var e=d.e();c=p.rect(0,0,e.width,e.height)}return this.Aa(d,c)},Aa:null,sq:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";d=d||!1;if(!p.kb.prototype.q.call(this))return!1;this.Va=null;this.xa=this.mh=!1;this.$b=!0;this.U.src=p.ke;this.U.rb=p.je;this.Yb=this.Zb=!1;this.ma(0.5,0.5);this.Ub.C=0;this.Ub.G=0;this.hi=!1;var e=new p.Ab(255,255,255,255),f=this.ub;f.ya.F=e;f.Ha.F=e;f.Fa.F=e;f.Ba.F=e;
this.ab=e=a.fg();if(!e)return this.Hc=d||!1,c&&(e=this.oa,e.x=c.x,e.y=c.y,e.width=c.width,e.height=c.height),a.vf(this.nv,this),!0;c||(e=a.e(),c=p.rect(0,0,e.width,e.height));this.aa(a);this.ib(c,d,c.Na);this.ie(null);return this.Ue=!0},rq:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";d=d||!1;if(!p.kb.prototype.q.call(this))return!1;this.Va=null;this.xa=this.mh=!1;this.$b=!0;this.U.src=p.ke;this.U.rb=p.je;this.Yb=this.Zb=!1;this.ma(0.5,0.5);this.Ub.C=
0;this.Ub.G=0;this.hi=!1;var e=a.fg();this.ab=e;if(!e)return this.Hc=d||!1,c&&(this.oa.x=c.x,this.oa.y=c.y,this.oa.width=c.width,this.oa.height=c.height),a.vf(this.nv,this),!0;c||(e=a.e(),c=p.rect(0,0,e.width,e.height));this.Rf=a;this.aa(a);this.ib(c,d,c.Na);this.ie(null);return!0},nv:null,FO:function(a){if(!this.ab){this.ab=!0;var c=this.oa;if(!c)c=a.e(),c=p.rect(0,0,c.width,c.height);else if(p.Iq(c)){var d=a.e();c.width=d.width;c.height=d.height}this.aa(a);this.ib(c,this.Hc,c.Na);this.ie(null);
this.Ue=!0;this.Gd()}},EO:function(a){if(!this.ab){this.ab=!0;var c=this.oa;if(!c)c=a.e(),c=p.rect(0,0,c.width,c.height);else if(p.Iq(c)){var d=a.e();c.width=d.width;c.height=d.height}this.Rf=a;this.aa(a);this.ib(c,this.Hc,c.Na);this.ie(null);this.Gd()}},ib:null,BF:function(a,c,d){this.Hc=c||!1;d=d||a.Na;this.ea(d);this.JC(a);this.AF(a);a=this.uh;this.Yb&&(a.C=-a.C);this.Zb&&(a.G=-a.G);var e=this.oa;this.Ub.C=a.C+(this.ja.wa-e.width)/2;this.Ub.G=a.G+(this.ja.ia-e.height)/2;if(this.Va)this.xa=!0;else{a=
0+this.Ub.C;c=0+this.Ub.G;d=a+e.width;var e=c+e.height,f=this.ub;f.ya.n={x:a,y:c,z:0};f.Ha.n={x:d,y:c,z:0};f.Fa.n={x:a,y:e,z:0};f.Ba.n={x:d,y:e,z:0};this.Ue=!0}},hA:function(a,c,d){this.Hc=c||!1;d=d||a.Na;this.ea(d);this.JC(a);c=this.ko;d=p.jd();c.x=0|a.x*d;c.y=0|a.y*d;c.width=0|a.width*d;c.height=0|a.height*d;c.vs=!(0===c.width||0===c.height);a=this.uh;this.Yb&&(a.C=-a.C);this.Zb&&(a.G=-a.G);this.Ub.C=a.C+(this.ja.wa-this.oa.width)/2;this.Ub.G=a.G+(this.ja.ia-this.oa.height)/2;this.Va&&(this.xa=
!0)},Ff:null,XO:function(){if(this.xa){var a=this.ub,c=this.W;if(!this.va||c&&c!=this.Va&&c.rk)a.Ha.n={x:0,y:0,z:0},a.Fa.n={x:0,y:0,z:0},a.Ba.n={x:0,y:0,z:0},a.ya.n={x:0,y:0,z:0},this.rk=!0;else{this.rk=!1;var d=this.Vl=c&&c!=this.Va?p.Yk(this.Af(),c.Vl):this.Af(),e=this.oa.Na,c=this.Ub.C,f=this.Ub.G,g=c+e.width,e=f+e.height,h=d.Ka,k=d.La,l=d.D,m=d.f,n=d.za,d=-d.qa,s=this.zv;a.ya.n={x:p.Jf(c*l-f*d+h),y:p.Jf(c*m+f*n+k),z:s};a.Ha.n={x:p.Jf(g*l-f*d+h),y:p.Jf(g*m+f*n+k),z:s};a.Fa.n={x:p.Jf(c*l-e*d+h),
y:p.Jf(c*m+e*n+k),z:s};a.Ba.n={x:p.Jf(g*l-e*d+h),y:p.Jf(g*m+e*n+k),z:s}}this.Ea.bx(a,this.Gc);this.mh=!1;this.mg(!1)}this.hi&&this.Nf(this.p,p.I.kf.Ff);p.Rj&&(a=[p.a(this.ub.ya.n.x,this.ub.ya.n.y),p.a(this.ub.Ha.n.x,this.ub.Ha.n.y),p.a(this.ub.Ba.n.x,this.ub.Ba.n.y),p.a(this.ub.Fa.n.x,this.ub.Fa.n.y)],p.xf.Rd(a,4,!0))},WO:function(){if(this.xa){var a=this.W;!this.va||a&&a!=this.Va&&a.rk?this.rk=!0:(this.rk=!1,this.Vl=a&&a!=this.Va?p.Yk(this.Af(),a.Vl):this.Af());this.xa=this.mh=!1}this.hi&&this.Nf(this.p,
p.I.kf.Ff)},s:null,py:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.Qa);null==d&&(d=a.Uc);if(this.Va){if(!(a instanceof p.A)){p.log("cc.Sprite.addChild(): cc.Sprite only supports cc.Sprites as children when using cc.SpriteBatchNode");return}a.S().xh!==this.Ea.S().xh&&p.log("cc.Sprite.addChild(): cc.Sprite only supports a sprite using same texture as children when using cc.SpriteBatchNode");this.Va.appendChild(a);this.Od||this.gA()}p.I.prototype.s.call(this,
a,c,d);this.hi=!0},oy:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.Qa);null==d&&(d=a.Uc);p.I.prototype.s.call(this,a,c,d);this.hi=!0},rs:function(){var a=this.sc,c=this.Kb,a={h:a.h,g:a.g,f:a.f,D:c};this.$b&&(a.h*=c/255,a.g*=c/255,a.f*=c/255);c=this.ub;c.ya.F=a;c.Ha.F=a;c.Fa.F=a;c.Ba.F=a;this.Va&&(this.Gc!=p.Sx?this.Ea.bx(c,this.Gc):this.xa=!0);this.Ue=!0},X:null,fA:function(a){p.kb.prototype.X.call(this,a);this.rs()},Nq:function(a){p.kb.prototype.X.call(this,
a);this.Jl()},k:null,cA:function(a){p.kb.prototype.k.call(this,a);this.rs()},Lq:function(a){var c=this.cd();if(c.h!==a.h||c.g!==a.g||c.f!==a.f)p.kb.prototype.k.call(this,a),this.Yt(),this.Jl()},Kc:null,OO:function(a){p.kb.prototype.Kc.call(this,a);this.rs()},zA:function(a){var c=this.cd();p.kb.prototype.Kc.call(this,a);a=this.sc;if(c.h!==a.h||c.g!==a.g||c.f!==a.f)this.Yt(),this.Jl()},$o:null,cO:function(a){this.Ja();var c=a.tb;this.uh.C=c.x;this.uh.G=c.y;c=a.S();a.ab||(this.ab=!1,a.vf(function(a){this.ab=
!0;var c=a.S();c!=this.sa&&this.aa(c);this.ib(a.Yd(),a.Sc,a.Rc);this.Gd()},this));c!=this.sa&&this.aa(c);this.Hc=a.Sc;this.ib(a.Yd(),this.Hc,a.Rc)},bO:function(a){this.Ja();var c=a.tb;this.uh.C=c.x;this.uh.G=c.y;this.Hc=a.Sc;var c=a.S(),d=a.ab;d||(this.ab=!1,a.vf(function(a){this.ab=!0;var c=a.S();c!=this.sa&&this.aa(c);this.ib(a.Yd(),a.Sc,a.Rc);this.Gd()},this));c!=this.sa&&this.aa(c);this.Hc&&(this.Rf=c);this.ib(a.Yd(),this.Hc,a.Rc);this.au=!1;d&&(a=this.cd(),255===a.h&&255===a.g&&255===a.f||this.Yt())},
BH:null,dN:function(a){return p.iI(a.Yd(),this.oa)&&a.S().getName()==this.sa.getName()&&p.ZH(a.tb,this.uh)},cN:function(a){return a.S()!=this.sa?!1:p.iI(a.Yd(),this.oa)},aQ:function(){return p.ld.qd(this.sa,p.Zm(this.oa),this.Hc,p.ZK(this.uh),p.Rx(this.ja))},ie:null,VN:function(a){if(this.Va=a)this.Vl={D:1,f:0,qa:0,za:1,Ka:0,La:0},this.fp(this.Va.Ea);else{this.Gc=p.Sx;this.fp(null);this.mh=!1;this.mg(!1);a=this.Ub.C;var c=this.Ub.G,d=a+this.oa.width,e=c+this.oa.height,f=this.ub;f.ya.n={x:a,y:c,z:0};
f.Ha.n={x:d,y:c,z:0};f.Fa.n={x:a,y:e,z:0};f.Ba.n={x:d,y:e,z:0};this.Ue=!0}},UN:function(a){(this.Va=a)?(this.Vl={D:1,f:0,qa:0,za:1,Ka:0,La:0},this.fp(this.Va.Ea)):(this.Gc=p.Sx,this.fp(null),this.mh=!1,this.mg(!1))},aa:null,Pq:function(a){if(a&&!(a instanceof p.Ob))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.Va&&this.Va.S()!=a?p.log("cc.Sprite.setTexture(): Batched sprites should use the same texture as the batchnode"):(a?this.ng(p.fh.d().Kh(p.Qx)):this.ng(p.fh.d().Kh(p.hL)),
this.Va||this.sa==a||(this.sa=a,this.Wl()))},Oq:function(a){if(a&&!(a instanceof p.Ob))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.sa!=a&&(a&&a.tc instanceof HTMLImageElement&&(this.Rf=a),this.sa=a)},Wl:function(){this.Va?p.log("cc.Sprite._updateBlendFunc(): _updateBlendFunc doesn't work when the sprite is rendered using a cc.CCSpriteBatchNode"):this.sa&&this.sa.Ir()?(this.U.src=p.ke,this.U.rb=p.je,this.ff(!0)):(this.U.src=770,this.U.rb=771,this.ff(!1))},
Yt:function(){var a,c=this.sa,d=this.ko;c&&d.vs&&this.Rf&&(a=c.tc)&&(c=p.Ra.d().cH(this.Rf.tc))&&(this.au=!0,a instanceof HTMLCanvasElement&&!this.Hc&&!this.jF?p.jB(a,c,this.sc,d,a):(a=p.jB(a,c,this.sc,d),c=new p.Ob,c.bf(a),c.de(),this.aa(c)))},AF:function(a){a=p.Zm(a);var c=this.Va?this.Ea.S():this.sa;if(c){var d=c.Fo(),e=c.Eo(),f,g=this.ub;this.Hc?(p.$s?(c=(2*a.x+1)/(2*d),d=c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/d,f=a.y/e,a=(a.y+a.width)/e),this.Yb&&
(e=f,f=a,a=e),this.Zb&&(e=c,c=d,d=e),g.ya.t.Ca=c,g.ya.t.ba=f,g.Ha.t.Ca=c,g.Ha.t.ba=a,g.Fa.t.Ca=d,g.Fa.t.ba=f,g.Ba.t.Ca=d,g.Ba.t.ba=a):(p.$s?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+a.height)/e),this.Yb&&(e=c,c=d,d=e),this.Zb&&(e=f,f=a,a=e),g.ya.t.Ca=c,g.ya.t.ba=a,g.Ha.t.Ca=d,g.Ha.t.ba=a,g.Fa.t.Ca=c,g.Fa.t.ba=f,g.Ba.t.Ca=d,g.Ba.t.ba=f);this.Ue=!0}},Ia:null,Qf:function(){if(this.ab){var a=p.N,c=this.sa;c?c.ec&&(this.uc.Me(),
this.uc.og(),p.Aj(this.U.src,this.U.rb),p.y4(0,c),p.Zd(p.It),a.bindBuffer(a.ARRAY_BUFFER,this.Wu),this.Ue&&(a.bufferData(a.ARRAY_BUFFER,this.ub.PA,a.DYNAMIC_DRAW),this.Ue=!1),a.vertexAttribPointer(0,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(1,4,a.UNSIGNED_BYTE,!0,24,12),a.vertexAttribPointer(2,2,a.FLOAT,!1,24,16),a.drawArrays(a.TRIANGLE_STRIP,0,4)):(this.uc.Me(),this.uc.og(),p.Aj(this.U.src,this.U.rb),p.cg(null),p.Zd(p.wg|p.BL),a.bindBuffer(a.ARRAY_BUFFER,this.Wu),this.Ue&&(p.N.bufferData(p.N.ARRAY_BUFFER,
this.ub.PA,p.N.STATIC_DRAW),this.Ue=!1),a.vertexAttribPointer(p.ne,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(p.Bp,4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));p.Bh++;0!==p.Rj&&(1===p.Rj?(a=this.ub,a=[p.a(a.Fa.n.x,a.Fa.n.y),p.a(a.ya.n.x,a.ya.n.y),p.a(a.Ha.n.x,a.Ha.n.y),p.a(a.Ba.n.x,a.Ba.n.y)],p.xf.Rd(a,4,!0)):2===p.Rj&&(a=this.tB().Na,c=this.Ub,a=[p.a(c.x,c.y),p.a(c.x+a.width,c.y),p.a(c.x+a.width,c.y+a.height),p.a(c.x,c.y+a.height)],p.xf.Rd(a,4,!0)))}},sl:function(a){if(this.ab){a=
a||p.N;this.Mn&&(a.globalCompositeOperation="lighter");var c=p.ha.d().ka,d=p.ha.d().pa;a.globalAlpha=this.Kb/255;var e=this.oa,f=this.ja,g=this.Ub,h=this.Xy,k=0|g.C,l=-g.G-e.height,m=this.ko;h.width=e.width*c;h.height=e.height*d;if(this.Yb||this.Zb)a.save(),this.Yb&&(k=-g.C-e.width,a.scale(-1,1)),this.Zb&&(l=g.G,a.scale(1,-1));k*=c;l*=d;this.sa&&m.vs?(f=this.sa.tc,this.au?a.drawImage(f,0,0,m.width,m.height,k,l,h.width,h.height):a.drawImage(f,m.x,m.y,m.width,m.height,k,l,h.width,h.height)):0!==f.wa&&
(h=this.cd(),a.fillStyle="rgba("+h.h+","+h.g+","+h.f+",1)",a.fillRect(k,l,f.wa*c,f.ia*d));1===p.Rj?(a.strokeStyle="rgba(0,255,0,1)",k/=c,l=-(l/d),k=[p.a(k,l),p.a(k+e.width,l),p.a(k+e.width,l-e.height),p.a(k,l-e.height)],p.xf.Rd(k,4,!0)):2===p.Rj&&(a.strokeStyle="rgba(0,255,0,1)",c=this.oa.Na,l=-l,k=[p.a(k,l),p.a(k+c.width,l),p.a(k+c.width,l-c.height),p.a(k,l-c.height)],p.xf.Rd(k,4,!0));(this.Yb||this.Zb)&&a.restore();p.Bh++}}});
p.ta.Ac?(b=p.A.prototype,b.lA=p.A.prototype.AO,b.ff=p.A.prototype.iO,b.Lc=p.A.prototype.PO,b.ctor=p.A.prototype.ih,b.Pk=p.A.prototype.XN,b.q=p.A.prototype.qz,b.Aa=p.A.prototype.sq,b.nv=p.A.prototype.FO,b.ib=p.A.prototype.BF,b.Ff=p.A.prototype.XO,b.s=p.A.prototype.py,b.X=p.A.prototype.fA,b.k=p.A.prototype.cA,b.Kc=p.A.prototype.OO,b.$o=p.A.prototype.cO,b.BH=p.A.prototype.dN,b.ie=p.A.prototype.VN,b.aa=p.A.prototype.Pq,b.Ia=p.A.prototype.Qf):(b=p.A.prototype,b.lA=p.A.prototype.zO,b.ff=p.A.prototype.hO,
b.Lc=p.A.prototype.UF,b.ctor=p.A.prototype.hh,b.Pk=p.A.prototype.WN,b.q=p.A.prototype.pz,b.Aa=p.A.prototype.rq,b.nv=p.A.prototype.EO,b.ib=p.A.prototype.hA,b.Ff=p.A.prototype.WO,b.s=p.A.prototype.oy,b.X=p.A.prototype.Nq,b.k=p.A.prototype.Lq,b.Kc=p.A.prototype.zA,b.$o=p.A.prototype.bO,b.BH=p.A.prototype.cN,b.ie=p.A.prototype.UN,b.aa=p.A.prototype.Oq,b.Ia=p.A.prototype.sl);
p.A.qd=function(a,c){var d=arguments.length,e=new p.A;switch(d){case 1:return e&&e.Aa(a)?e:null;case 2:return e&&e.Aa(a,c)?e:null;default:throw"Sprite.createWithTexture(): Argument must be non-nil ";}};p.A.create=function(a,c){var d=arguments.length,e=new p.A;if(0===d){if(e.q())return e}else if(e&&e.q(a,c))return e;return null};
p.A.vG=function(a){var c=null;if("string"==typeof a){if(c=p.Lf.d().Tg(a),!c)return p.log("Invalid spriteFrameName: "+a),null}else return p.log("Invalid argument. Expecting string."),null;return(a=new p.A)&&a.ee(c)?a:null};p.A.uG=function(a){var c=new p.A;return c&&c.ee(a)?c:null};p.Hi=p.ra.extend({Sq:null,Id:0,kr:null,ctor:function(){this.Id=0},B:function(){var a=new p.Hi;a.ee(this.Sq.B(),this.Id,this.kr);return a},Iv:function(){return p.B(this)},copy:function(){var a=new p.Hi;a.ee(this.Sq.B(),this.Id,this.kr);return a},ee:function(a,c,d){this.Sq=a;this.Id=c;this.kr=d;return!0},Tg:function(){return this.Sq},gf:function(a){this.Sq=a},I1:function(){return this.Id},v8:function(a){this.Id=a},j4:function(){return this.kr},b$:function(a){this.kr=a}});
p.Gi=p.ra.extend({Kd:null,gj:0,Gl:!1,na:0,Id:0,Tl:0,ctor:function(){this.Kd=[]},a2:function(){return this.Kd},JI:function(a){this.Kd=a},NA:function(a){var c=new p.Hi;c.ee(a,1,null);this.Kd.push(c);this.Tl++},l_:function(a){a=p.Ra.d().gc(a);var c=p.Nc();c.Na=a.e();a=p.ld.qd(a,c);this.NA(a)},m_:function(a,c){var d=p.ld.qd(a,c);this.NA(d)},Jr:function(a,c,d){p.As(a,p.Hi);this.Id=c;this.gj=d;this.JI([]);for(c=0;c<a.length;c++)d=a[c],this.Kd.push(d),this.Tl+=d.Id;return!0},B:function(){var a=new p.Gi;
a.Jr(this.FE(),this.Id,this.gj);a.Kw(this.Gl);return a},Iv:function(){var a=new p.Gi;a.Jr(this.FE(),this.Id,this.gj);a.Kw(this.Gl);return a},FE:function(){for(var a=[],c=0;c<this.Kd.length;c++)a.push(this.Kd[c].B());return a},copy:function(){return this.Iv(null)},q2:function(){return this.gj},T8:function(a){this.gj=a},Kw:function(a){this.Gl=a},v3:function(){return this.Gl},Ze:function(){return this.Tl*this.Id},H1:function(){return this.Id},u8:function(a){this.Id=a},b4:function(){return this.Tl},vH:function(a,
c){p.As(a,p.ld);this.gj=1;this.Id=c||0;this.JI([]);if(a)for(var d=0;d<a.length;d++){var e=a[d],f=new p.Hi;f.ee(e,1,null);this.Kd.push(f);this.Tl++}return!0},sI:function(){},lC:function(){}});p.Gi.create=function(a,c,d){var e=arguments.length,f=new p.Gi;0==e?f.vH(null,0):2==e?f.vH(a,c||0):3==e&&f.Jr(a,c,d);return f};p.Gi.tG=function(a,c,d){var e=new p.Gi;e.Jr(a,c,d);return e};p.Zk=p.ra.extend({dG:function(a,c){this.ml[c]=a},B7:function(a){a&&this.ml.hasOwnProperty(a)&&delete this.ml[a]},SG:function(a){return this.ml.hasOwnProperty(a)?this.ml[a]:null},RL:function(a,c){var d=a.animations;if(d){var e=1,f=a.properties;if(f)for(var e=null!=f.format?parseInt(f.format):e,f=f.spritesheets,g=p.Lf.d(),h=p.kd.d(),k,l=0;l<f.length;l++)k=h.RG(f[l],c),g.kG(k);switch(e){case 1:this.xN(d);break;case 2:this.yN(d);break;default:p.log("cc.AnimationCache. Invalid animation format")}}else p.log("cocos2d: cc.AnimationCache: No animations were found in provided dictionary.")},
b_:function(a){if(!a)throw"cc.AnimationCache.addAnimations(): Invalid texture file name";var c=p.kd.d(),d=c.Wd(a);(c=c.Kv(d))?this.RL(c,a):p.log("cc.AnimationCache.addAnimations(): File could not be found")},xN:function(a){var c=p.Lf.d(),d;for(d in a){var e=a[d],f=e.frames,e=parseFloat(e.delay)||0,g=null;if(f){for(var g=[],h=0;h<f.length;h++){var k=c.Tg(f[h]);if(k){var l=new p.Hi;l.ee(k,1,null);g.push(l)}else p.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+f[h]+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}0===
g.length?p.log("cocos2d: cc.AnimationCache: None of the frames for animation '"+d+"' were found in the cc.SpriteFrameCache. Animation is not being added to the Animation Cache."):(g.length!=f.length&&p.log("cocos2d: cc.AnimationCache: An animation in your dictionary refers to a frame which is not in the cc.SpriteFrameCache. Some or all of the frames for the animation '"+d+"' may be missing."),g=p.Gi.tG(g,e,1),p.Zk.d().dG(g,d))}else p.log("cocos2d: cc.AnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},
yN:function(a){var c=p.Lf.d(),d;for(d in a){var e=a[d],f=parseInt(e.loops),f=e.loop?p.fl:isNaN(f)?1:f,g=e.restoreOriginalFrame&&!0==e.restoreOriginalFrame?!0:!1,h=e.frames;if(h){for(var k=[],l=0;l<h.length;l++){var m=h[l],n=m.spriteframe,s=c.Tg(n);if(s){var n=parseFloat(m.delayUnits)||0,m=m.notification,q=new p.Hi;q.ee(s,n,m);k.push(q)}else p.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+n+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}e=
parseFloat(e.delayPerUnit)||0;h=new p.Gi;h.Jr(k,e,f);h.Kw(g);p.Zk.d().dG(h,d)}else p.log("cocos2d: CCAnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},q:function(){this.ml={};return!0},ml:null});p.Zk.kT=function(){p.Fm&&(p.Fm.ml=null,p.Fm=null)};p.Zk.d=function(){null===p.Fm&&(p.Fm=new p.Zk,p.Fm.q());return p.Fm};p.Fm=null;p.ld=p.ra.extend({tb:null,Rc:null,ue:null,Sc:!1,oa:null,of:null,Re:null,sa:null,jo:"",ab:!1,ku:null,ctor:function(){this.tb=p.$c();this.of=p.$c();this.Rc=p.Ll();this.Sc=!1;this.Re=p.Ll();this.jo="";this.sa=null;this.ab=!1},xJ:function(){return this.ab},vf:function(a,c){null==this.ku&&(this.ku=[]);this.ku.push({zj:a,Ah:c})},Gd:function(){var a=this.ku;if(a){for(var c=0,d=a.length;c<d;c++){var e=a[c];e.zj.call(e.Ah,this)}a.length=0}},VQ:function(){var a=this.ue;return p.rect(a.x,a.y,a.width,a.height)},
y9:function(a){this.ue||(this.ue=p.rect(0,0,0,0));this.ue.x=a.x;this.ue.y=a.y;this.ue.width=a.width;this.ue.height=a.height;this.oa=p.sp(a)},y5:function(){return this.Sc},G9:function(a){this.Sc=a},Yd:function(){var a=this.oa;return p.rect(a.x,a.y,a.width,a.height)},TI:function(a){this.oa||(this.oa=p.rect(0,0,0,0));this.oa.x=a.x;this.oa.y=a.y;this.oa.width=a.width;this.oa.height=a.height;this.ue=p.Zm(this.oa)},Q2:function(){return this.of},h9:function(a){this.of.C=a.x;this.of.G=a.y;p.Lt(this.of,this.tb)},
X2:function(){return this.Re},k9:function(a){this.Re.wa=a.width;this.Re.ia=a.height},QQ:function(){return this.Rc},j9:function(a){this.Rc.wa=a.width;this.Rc.ia=a.height},S:function(){if(this.sa)return this.sa;if(""!==this.jo){var a=p.Ra.d().gc(this.jo);a&&(this.ab=a.fg());return a}return null},aa:function(a){if(this.sa!=a){var c=a.fg();this.ab=c;this.sa=a;c||a.vf(function(a){this.ab=!0;if(this.Sc&&p.fd===p.Hf){var c=a.tc,c=p.wG(c,this.Yd()),f=new p.Ob;f.bf(c);f.de();this.aa(f);c=this.Yd();this.TI(p.rect(0,
0,c.width,c.height))}c=this.oa;0===c.width&&0===c.height&&(a=a.e(),this.oa.width=a.width,this.oa.height=a.height,this.ue=p.Zm(this.oa),this.Re.wa=this.ue.width,this.Re.ia=this.ue.height,this.Rc.wa=a.width,this.Rc.ia=a.height);this.Gd()},this)}},P2:function(){return this.tb},g9:function(a){this.tb.C=a.x;this.tb.G=a.y},B:function(){var a=new p.ld;a.ew(this.jo,this.ue,this.Sc,this.of,this.Re);a.aa(this.sa);return a},Iv:function(){var a=new p.ld;a.ew(this.jo,this.ue,this.Sc,this.of,this.Re);a.aa(this.sa);
return a},copy:function(){return this.Iv()},Aa:function(a,c,d,e,f){2===arguments.length&&(c=p.Zm(c));e=e||p.a(0,0);f=f||c.Na;this.aa(a);this.ue=c;this.oa=p.sp(c);this.of.C=e.x;this.of.G=e.y;p.Lt(e,this.tb);this.Re.wa=f.width;this.Re.ia=f.height;p.hy(f,this.Rc);this.Sc=d||!1;return!0},ew:function(a,c,d,e,f){2===arguments.length&&(c=p.Zm(c));e=e||p.a(0,0);f=f||c.Na;this.sa=null;this.jo=a;this.ue=c;this.oa=p.sp(c);this.Sc=d||!1;this.of.C=e.x;this.of.G=e.y;p.Lt(e,this.tb);this.Re.wa=f.width;this.Re.ia=
f.height;p.hy(f,this.Rc);return!0}});p.ld.create=function(a,c,d,e,f){var g=new p.ld;switch(arguments.length){case 2:g.ew(a,c);break;case 5:g.ew(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};p.ld.qd=function(a,c,d,e,f){var g=new p.ld;switch(arguments.length){case 2:g.Aa(a,c);break;case 5:g.Aa(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};
p.ld.vZ=function(a,c,d,e,f){var g=new p.ld;g.sa=a;g.ue=c;g.oa=p.sp(c);g.of.C=e.x;g.of.G=e.y;p.Lt(g.of,g.tb);g.Re.wa=f.width;g.Re.ia=f.height;p.hy(g.Re,g.Rc);g.Sc=d;return g};p.Lf=p.ra.extend({we:null,sk:null,xq:null,ctor:function(){this.we={};this.sk={};this.xq=[]},ry:function(a,c){var d=a.metadata||a.meta,e=a.frames,f=0;d&&(f=d.format,f=1>=f.length?parseInt(f):f);if(0>f||3<f)p.log("format is not supported for cc.SpriteFrameCache.addSpriteFramesWithDictionary");else for(var g in e)if(d=e[g]){var h=this.we[g];if(!h){if(0==f){var h=parseFloat(d.x),k=parseFloat(d.y),l=parseFloat(d.width),m=parseFloat(d.height),n=parseFloat(d.offsetX),s=parseFloat(d.offsetY),q=parseInt(d.originalWidth),
d=parseInt(d.originalHeight);q&&d||p.log("cocos2d: WARNING: originalWidth/Height not found on the cc.SpriteFrame. AnchorPoint won't work as expected. Regenrate the .plist");q=Math.abs(q);d=Math.abs(d);h=p.ld.qd(c,p.rect(h,k,l,m),!1,p.a(n,s),p.size(q,d))}else if(1==f||2==f)h=p.TD(d.frame),k=!1,2==f&&(k=d.rotated),l=p.SD(d.offset),d=p.Ux(d.sourceSize),h=p.ld.qd(c,h,k,l,d);else if(3==f){var h=p.Ux(d.spriteSize),k=p.SD(d.spriteOffset),l=p.Ux(d.spriteSourceSize),m=p.TD(d.textureRect),n=d.textureRotated,
s=d.aliases,q=g.toString(),v;for(v in s)this.sk.hasOwnProperty(s[v])&&p.log("cocos2d: WARNING: an alias with name "+v+" already exists"),this.sk[s[v]]=q;d.hasOwnProperty("spriteSize")&&(m=p.rect(m.x,m.y,h.width,h.height));h=p.ld.qd(c,m,n,k,l)}else var z=d.filename,k=d.frame,h=d.sourceSize,k=p.rect(k.x,k.y,k.MJ,k.ce),d=d.rotated,l=p.a(0,0),h=p.size(h.MJ,h.ce),h=p.ld.qd(c,k,d,l,h);p.fd===p.Hf&&h.Sc&&h.S().fg()&&(d=h.S().tc,d=p.wG(d,h.VQ()),k=new p.Ob,k.bf(d),k.de(),h.aa(k),d=h.oa,h.TI(p.rect(0,0,d.width,
d.height)));this.we[null!=z?z:g]=h}}},kG:function(a,c){if(!a)throw"cc.SpriteFrameCache.addSpriteFrames(): plist should be non-null";var d=p.kd.d(),e;"plist"==a.substr(a.lastIndexOf(".",a.length)+1,a.length)?(e=d.Wd(a),e=d.Kv(e)):e=JSON.parse(d.aH(a));switch(arguments.length){case 1:if(!p.hx(this.xq,a)){var f="",g=e.metadata||e.meta;g&&(f=g.textureFileName||g.image);""!=f?f=d.RG(f,a):(f=a,f=f.substr(0,f.lastIndexOf(".",f.length)),f+=".png");(d=p.Ra.d().gc(f))?this.ry(e,d):p.log("cocos2d: cc.SpriteFrameCache: Couldn't load texture")}break;
case 2:if(c instanceof p.Ob)this.ry(e,c);else{if(!c)throw"cc.SpriteFrameCache.addSpriteFrames(): texture name should not be null";(d=p.Ra.d().gc(c))?this.ry(e,d):p.log("cocos2d: cc.SpriteFrameCache: couldn't load texture file. File not found "+c)}break;default:throw"Argument must be non-nil ";}},NA:function(a,c){this.we[c]=a},K7:function(){this.we=[];this.sk=[];this.xq={}},J7:function(a){a&&(this.sk.hasOwnProperty(a)&&delete this.sk[a],this.we.hasOwnProperty(a)&&delete this.we[a],this.xq={})},L7:function(a){var c=
p.kd.d(),d=c.Wd(a),c=c.Kv(d);this.IN(c);p.hx(this.xq,a)&&p.Ad(a)},IN:function(a){a=a.frames;for(var c in a)this.we.hasOwnProperty(c)&&delete this.we[c]},M7:function(a){for(var c in this.we){var d=this.we[c];d&&d.S()==a&&delete this.we[c]}},Tg:function(a){var c;this.we.hasOwnProperty(a)&&(c=this.we[a]);if(!c){var d;this.sk.hasOwnProperty(a)&&(d=this.sk[a]);d&&(this.we.hasOwnProperty(d.toString())&&(c=this.we[d.toString()]),c||p.log("cocos2d: cc.SpriteFrameCahce: Frame "+a+" not found"))}return c}});
p.Cw=null;p.Lf.d=function(){p.Cw||(p.Cw=new p.Lf);return p.Cw};p.Lf.lT=function(){p.Cw=null};p.qp=29;
p.eb=p.I.extend({Ea:null,U:null,Yc:null,n_:function(a,c,d){if(!a)throw"cc.SpriteBatchNode.addQuadFromSprite(): child should be non-null";if(!(a instanceof p.A))return p.log("cc.SpriteBatchNode.addQuadFromSprite(): SpriteBatchNode only supports cc.Sprites as children"),null;a.he(c);var e=0,f=this.Yc;if(f&&0<f.length)for(var g=0;g<f.length;g++){var h=f[g];h&&h.Gc>=c&&++e}this.Yc=p.$k(f,a,e);p.I.prototype.s.call(this,a,c,d);this.oI(!1);return this},bH:function(){return this.Ea},fp:function(a){a!=this.Ea&&
(this.Ea=a)},L1:function(){return this.Yc},zi:function(a,c){var d=p.Ra.d().Xw(a);d||(d=p.Ra.d().gc(a));return this.Aa(d,c)},Jl:function(){this.BE=!0},q:function(a,c){var d=p.Ra.d().Xw(a);d||(d=p.Ra.d().gc(a));return this.Aa(d,c)},$v:function(){var a=this.Ea.Oc,c=Math.floor(4*(a+1)/3);p.log("cocos2d: CCSpriteBatchNode: resizing TextureAtlas capacity from "+a+" to "+c+".");this.Ea.QT(c)||p.log("cocos2d: WARNING: Not enough memory to resize the atlas")},D7:function(a,c){this.removeChild(this.p[a],c)},
hI:function(a,c){var d=a.p;if(d&&0<d.length)for(var e=0;e<d.length;e++){var f=d[e];f&&0>f.Qa&&(c=this.hI(f,c))}!a==this&&(a.he(c),c++);if(d&&0<d.length)for(e=0;e<d.length;e++)(f=d[e])&&0<=f.Qa&&(c=this.hI(f,c));return c},EB:function(a){var c=a.p;return c&&0!=c.length?this.EB(c[c.length-1]):a.Gc},oS:function(a){var c=a.p;return c&&0!=c.length?this.oS(c[c.length-1]):a.Gc},kP:function(a,c){var d=a.getParent().p,e=p.jx(d,a),f=a.getParent()==this,g=null;0<e&&e<p.yL&&(g=d[e-1]);if(f)return 0==e?0:this.EB(g)+
1;if(0==e)return d=a.getParent(),0>c?d.Gc:d.Gc+1;if(0>g.Qa&&0>c||0<=g.Qa&&0<=c)return this.EB(g)+1;d=a.getParent();return d.Gc+1},oI:function(a){this.Od=a},Pk:function(a,c){this.U=1==arguments.length?a:{src:a,rb:c}},xr:function(){return this.U},as:function(a,c){if(!a)throw"cc.SpriteBatchNode.addChild():child should be non-null";-1===this.p.indexOf(a)?p.log("cc.SpriteBatchNode.addChild(): Child doesn't belong to Sprite"):c!==a.Qa&&(p.I.prototype.as.call(this,a,c),this.Ja())},removeChild:function(a,
c){null!=a&&(-1===this.p.indexOf(a)?p.log("cc.SpriteBatchNode.addChild(): sprite batch node should contain the child"):(this.Cm(a),p.I.prototype.removeChild.call(this,a,c)))},nN:null,Rl:null,YZ:!1,Rf:null,ctor:null,hh:function(a){p.I.prototype.ctor.call(this);a&&this.q(a,p.qp)},ih:function(a){p.I.prototype.ctor.call(this);this.nN=new p.Vg;a&&this.q(a,p.qp)},IJ:null,TO:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";a instanceof p.A?(a.ie(this),a.he(c),
a.mg(!0),a.Ff()):p.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},UO:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";if(a instanceof p.A){for(var d=this.Ea.Oc;c>=d||d==this.Ea.Ga;)this.$v();a.ie(this);a.he(c);a.mg(!0);a.Ff()}else p.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},jv:function(a,c){var d=this.Yc,e=this.Ea,f=e.se,g=d[a],
h=p.ey(f[a]);d[c].he(a);d[a]=d[c];e.bx(f[c],a);d[c]=g;e.bx(h,c)},wH:null,aN:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";a instanceof p.A?(a.ie(this),a.he(c),a.mg(!0),a.Ff(),this.p=p.$k(this.p,a,c)):p.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},bN:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";if(a instanceof p.A){for(var d=this.Ea;c>=d.Oc||
d.Oc===d.Ga;)this.$v();a.ie(this);a.he(c);d.NB(a.ub,c);a.mg(!0);a.Ff()}else p.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},TF:function(a,c){var d=0,e=a.p;e&&(d=e.length);var f=0;if(0===d)f=a.Gc,a.he(c),a.cp(0),f!=c&&this.jv(f,c),c++;else{f=!0;0<=e[0].Qa&&(f=a.Gc,a.he(c),a.cp(0),f!=c&&this.jv(f,c),c++,f=!1);for(d=0;d<e.length;d++){var g=e[d];f&&0<=g.Qa&&(f=a.Gc,a.he(c),a.cp(0),f!=c&&this.jv(f,c),c++,f=!1);c=this.TF(g,c)}f&&(f=a.Gc,a.he(c),
a.cp(0),f!=c&&this.jv(f,c),c++)}return c},Wl:function(){this.Ea.S().Ir()||(this.U.src=770,this.U.rb=771)},Aa:null,rq:function(a){this.p=[];this.Yc=[];this.U=new p.bl(p.ke,p.je);this.Rl=this.Rf=a;return!0},sq:function(a,c){this.p=[];this.Yc=[];this.U=new p.bl(p.ke,p.je);c=c||p.qp;this.Ea=new p.en;this.Ea.Aa(a,c);this.Wl();this.ng(p.fh.d().Kh(p.Qx));return!0},RR:function(a,c){a.ie(this);a.he(c);a.mg(!0);var d=this.Ea;d.Ga>=d.Oc&&this.$v();d.NB(a.ub,c);this.Yc=p.$k(this.Yc,a,c);var d=c+1,e=this.Yc;if(e&&
0<e.length)for(;d<e.length;d++)e[d].he(e[d].Gc+1);if((e=a.p)&&0<e.length)for(d=0;d<e.length;d++)if(e[d]){var f=this.kP(e[d],e[d].Qa);this.RR(e[d],f)}},appendChild:null,YL:function(a){this.Od=!0;a.ie(this);a.mg(!0);this.Yc.push(a);a.he(this.Yc.length-1);a=a.p;for(var c=0;c<a.length;c++)this.appendChild(a[c])},ZL:function(a){this.Od=!0;a.ie(this);a.mg(!0);this.Yc.push(a);var c=this.Yc.length-1;a.he(c);var d=this.Ea;d.Ga==d.Oc&&this.$v();d.NB(a.ub,c);a=a.p;for(c=0;c<a.length;c++)this.appendChild(a[c])},
Cm:null,JN:function(a){a.ie(null);var c=this.Yc,d=p.jx(c,a);if(-1!=d){p.lp(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.he(f.Gc-1)}}if((a=a.p)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.Cm(a[c])},KN:function(a){this.Ea.KT(a.Gc);a.ie(null);var c=this.Yc,d=p.jx(c,a);if(-1!=d){p.lp(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.he(f.Gc-1)}}if((a=a.p)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.Cm(a[c])},S:null,kz:function(){return this.Rl},lz:function(){return this.Ea.S()},aa:null,Oq:function(a){this.Rl=
a;for(var c=this.p,d=0;d<c.length;d++)c[d].aa(a)},Pq:function(a){this.Ea.aa(a);this.Wl()},ga:null,Xl:function(a){var c=a||p.N;if(this.va){c.save();this.transform(a);var d=this.p;if(d)for(this.xd(),a=0;a<d.length;a++)d[a]&&d[a].ga(c);c.restore()}},Yl:function(a){a=a||p.N;if(this.va){p.Po();var c=this.ek;c&&c.Lo()&&(c.SA(),this.$w());this.xd();this.transform(a);this.Ia(a);c&&c.Lo()&&c.OA(this);p.Oo();this.cp(0)}},s:null,oy:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";
a instanceof p.A?(c=null==c?a.Qa:c,d=null==d?a.Uc:d,p.I.prototype.s.call(this,a,c,d),this.appendChild(a),this.Ja()):p.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},py:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";a instanceof p.A?a.S()!=this.Ea.S()?p.log("cc.SpriteBatchNode.addChild(): cc.Sprite is not using the same texture"):(c=null==c?a.Qa:c,d=null==d?a.Uc:d,p.I.prototype.s.call(this,a,c,d),this.appendChild(a),
this.Ja()):p.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},Lh:null,FN:function(a){var c=this.Yc;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].ie(null);p.I.prototype.Lh.call(this,a);this.Yc=[]},GN:function(a){var c=this.Yc;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].ie(null);p.I.prototype.Lh.call(this,a);this.Yc=[];this.Ea.ET()},xd:null,xO:function(){if(this.Od){var a,c=0,d=this.p,e=d.length,f;for(a=1;a<e;a++){var g=d[a],
c=a-1;for(f=d[c];0<=c&&(g.Qa<f.Qa||g.Qa==f.Qa&&g.pf<f.pf);)d[c+1]=f,c-=1,f=d[c];d[c+1]=g}0<d.length&&this.Nf(d,p.I.kf.xd);this.Od=!1}},yO:function(){if(this.Od){var a=this.p,c,d=0,e=a.length,f;for(c=1;c<e;c++){var g=a[c],d=c-1;for(f=a[d];0<=d&&(g.Qa<f.Qa||g.Qa==f.Qa&&g.pf<f.pf);)a[d+1]=f,d-=1,f=a[d];a[d+1]=g}if(0<a.length)for(this.Nf(a,p.I.kf.xd),c=d=0;c<a.length;c++)d=this.TF(a[c],d);this.Od=!1}},Ia:null,Qf:function(){0!==this.Ea.Ga&&(this.uc.Me(),this.uc.og(),this.Nf(this.p,p.I.kf.Ff),p.Aj(this.U.src,
this.U.rb),this.Ea.fQ())}});
p.ta.Ac?(b=p.eb.prototype,b.ctor=p.eb.prototype.ih,b.IJ=p.eb.prototype.UO,b.wH=p.eb.prototype.bN,b.Aa=p.eb.prototype.sq,b.appendChild=p.eb.prototype.ZL,b.Cm=p.eb.prototype.KN,b.S=p.eb.prototype.lz,b.aa=p.eb.prototype.Pq,b.ga=p.eb.prototype.Yl,b.s=p.eb.prototype.py,b.Lh=p.eb.prototype.GN,b.xd=p.eb.prototype.yO,b.Ia=p.eb.prototype.Qf):(b=p.eb.prototype,b.ctor=p.eb.prototype.hh,b.IJ=p.eb.prototype.TO,b.wH=p.eb.prototype.aN,b.Aa=p.eb.prototype.rq,b.appendChild=p.eb.prototype.YL,b.Cm=p.eb.prototype.JN,
b.S=p.eb.prototype.kz,b.aa=p.eb.prototype.Oq,b.ga=p.eb.prototype.Xl,b.Lh=p.eb.prototype.FN,b.s=p.eb.prototype.oy,b.xd=p.eb.prototype.xO,b.Ia=p.I.prototype.Ia);p.eb.create=function(a,c){c=c||p.qp;var d=new p.eb;d.q(a,c);return d};p.eb.qd=function(a,c){c=c||p.qp;var d=new p.eb;d.Aa(a,c);return d};p.PW={MW:0,OW:1,NW:2,LW:3,KW:4};
p.le=p.ra.extend({zq:0,eF:0,Yq:!1,Xq:!1,fv:!1,gv:!1,hv:!1,kN:0,Iu:0,Fp:"",sj:null,ctor:function(){this.eF=this.zq=0;this.hv=this.gv=this.fv=this.Xq=this.Yq=!1;this.Iu=this.kN=0;this.Fp="";this.sj={}},w2:function(){return this.zq},v2:function(){return this.eF},x2:function(){return this.Iu},A$:function(){return this.Xq},B$:function(){return this.Yq},y$:function(){return this.fv},z$:function(){return this.gv},C$:function(){return this.hv},uo:function(a){return-1<this.Fp.indexOf(a)},q:function(){var a=
this.sj;a["cocos2d.x.version"]=p.Gs;a["cocos2d.x.compiled_with_profiler"]=!1;a["cocos2d.x.compiled_with_gl_state_cache"]=p.wD;return!0},o1:function(a,c){var d=this.sj;return d.hasOwnProperty(a)?d[a]:c},j1:function(a,c){null==c&&(c=!1);var d=this.sj;return d.hasOwnProperty(a)?d[a]:c},H2:function(a,c){null==c&&(c=0);var d=this.sj;return d.hasOwnProperty(a)?d[a]:c},J2:function(a){var c=this.sj;return c.hasOwnProperty(a)?c[a]:null},VU:function(a,c){this.sj[a]=c},jQ:function(){0===p.wD&&(p.log(""),p.log("cocos2d: **** WARNING **** CC_ENABLE_PROFILERS is defined. Disable it when you finish profiling (from ccConfig.js)"),
p.log(""))},tQ:function(){if(p.fd!==p.Hf){var a=p.N,c=this.sj;c["gl.vendor"]=a.getParameter(a.VENDOR);c["gl.renderer"]=a.getParameter(a.RENDERER);c["gl.version"]=a.getParameter(a.VERSION);this.Fp="";for(var d=a.getSupportedExtensions(),e=0;e<d.length;e++)this.Fp+=d[e]+" ";this.zq=a.getParameter(a.MAX_TEXTURE_SIZE);c["gl.max_texture_size"]=this.zq;this.Iu=a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS);c["gl.max_texture_units"]=this.Iu;this.Yq=this.uo("GL_IMG_texture_compression_pvrtc");c["gl.supports_PVRTC"]=
this.Yq;this.Xq=!1;c["gl.supports_NPOT"]=this.Xq;this.fv=this.uo("GL_IMG_texture_format_BGRA888");c["gl.supports_BGRA8888"]=this.fv;this.gv=this.uo("GL_EXT_discard_framebuffer");c["gl.supports_discard_framebuffer"]=this.gv;this.hv=this.uo("vertex_array_object");c["gl.supports_vertex_array_object"]=this.hv;p.fD()}},X5:function(a){var c=p.kd.d(),d=c.Wd(a),c=c.Kv(d);if(null!=c)if(c=c.data)for(var e in c)this.sj[e]=c[e];else p.log("Expected 'data' dict, but not found. Config file: "+a)}});p.le.Rq=null;
p.le.d=function(){p.le.Rq||(p.le.Rq=new p.le,p.le.Rq.q());return p.le.Rq};p.le.m7=function(){p.le.Rq=null};p.Bh=0;p.gK=0;p.tD=1;p.hK=3;p.iK=p.tD;p.UW=0;p.SW=1;p.VW=2;p.TW=3;p.RW=2;p.YW=p.ra.extend({daa:function(){}});p.xD=function(a){var c=new p.Vg;p.gS(p.ht,c);var d=new p.Vg;p.gS(p.gt,d);p.jS(a,c,d)};
p.O=p.ra.extend({HZ:!1,Dq:!1,El:!1,Vu:!1,Il:!1,yg:0,Bz:0,qk:0,hn:0,rl:1,Zp:!1,ak:0,nu:0,Uj:null,Wj:null,bk:null,Cb:null,fj:null,ki:null,Nu:null,Eg:null,ri:null,Nz:null,Tc:null,Kd:0,vA:0,bA:0,sZ:null,Xf:null,xg:null,Ae:null,wz:null,Qt:null,Bq:null,GZ:!1,ctor:function(){this.fj=Date.now();if(!p.OB){var a=this;window.addEventListener("focus",function(){a.fj=Date.now()},!1)}},PN:function(){this.fj=Date.now()},q:function(){this.Bz=this.yg=1/p.SP;this.ri=[];this.qk=p.iK;this.Nz=null;this.nu=this.hn=0;this.Zp=
!1;this.vA=this.Kd=0;this.fj=Date.now();this.Vu=this.El=!1;this.Cb=p.Ll();this.Eg=null;this.rl=1;this.Xf=new p.lL;this.xg=new p.SJ;this.Xf.uI(this.xg,p.kt,!1);p.Z&&(this.Ae=new p.Z,this.Ae.q());p.Xm&&(this.wz=p.Xm.d());p.Nj&&(this.Qt=new p.Nj);p.Ed&&(this.Bq=new p.Ed,this.Bq.q());return!0},pP:function(){var a=Date.now();this.Dq?(this.ak=0,this.Dq=!1):this.ak=(a-this.fj)/1E3;0<p.Ds&&0.2<this.ak&&(this.ak=1/60);this.fj=a},KP:function(a){var c=new p.Vg;p.xD(c);var d=new p.Vg;p.Q5(d,c);var c=c.Wg[14]/
c.Wg[15],e=this.Eg.Do();a=new p.Qo(2*a.x/e.width-1,1-2*a.y/e.height,c);c=new p.Qo;p.lS(c,a,d);return p.a(c.x,c.y)},MP:function(a){var c=new p.Vg;p.xD(c);var d=new p.Qo;a=new p.Qo(a.x,a.y,0);p.lS(d,a,c);c=this.Eg.Do();return p.a(c.width*(0.5*d.x+0.5),c.height*(0.5*-d.y+0.5))},gQ:function(){this.pP();this.El||this.Xf.update(this.ak);this.DE();this.ki&&this.UU();this.wy&&this.wy();this.Tc&&this.Tc.ga();this.Nu&&this.Nu.ga();this.Zp&&this.wO();this.sy&&this.sy();this.vA++;this.Zp&&this.fM()},nM:function(){var a=
this.Eg.Ce;p.N.clearRect(-a.x,a.y,a.width,-a.height)},uM:function(){var a=p.N;a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},wy:null,sy:null,aM:function(){p.Po()},XL:function(){p.Oo()},end:function(){this.Vu=!0},A1:function(){return this.rl},G2:function(){return this.Nu},t4:function(){return this.Cb},jR:function(){return p.size(this.Cb.width*this.rl,this.Cb.height*this.rl)},Er:function(){return this.Eg?this.Eg.Er():this.Cb},hH:function(){return this.Eg?this.Eg.hH():p.$K},Gr:function(){return this.Cb.height/
1.1566},pause:function(){this.El||(this.Bz=this.yg,this.ds(0.25),this.El=!0)},g7:function(){if(!this.Tc)throw"running scene should not null";this.ri.pop();var a=this.ri.length;0==a?this.end():(this.Il=!0,this.ki=this.ri[a-1])},hC:function(){p.Dx.hC()},jT:function(){this.af().qs();this.Ae&&this.Ae.DT();this.Tc&&(this.Tc.Xg(),this.Tc.vd(),this.Tc.wf());this.ki=this.Tc=null;this.ri=[];this.rJ();p.Dx.hC();p.Zk.kT();p.Lf.lT();p.Ra.mT();p.fD()},nT:function(a){if(!a)throw"the scene should not null";this.Il=
!1;this.ri.push(a);this.ki=a},pI:function(a){if(!this.Tc)throw"Use runWithScene: instead to start the director";if(!a)throw"the scene should not be null";var c=this.ri.length;0===c?(this.Il=!0,this.ri[c]=a):(this.Il=!0,this.ri[c-1]=a);this.ki=a},rI:function(){this.El&&(this.ds(this.Bz),(this.fj=Date.now())||p.log("cocos2d: Director: Error in gettimeofday"),this.El=!1,this.ak=0)},ZT:function(a){if(!a)throw"This command can only be used to start the CCDirector. There is already a scene present.";if(this.Tc)throw"_runningScene should be null";
this.nT(a);this.pJ()},lU:function(a){a?p.Aj(p.ke,p.je):p.Aj(p.N.ONE,p.N.ZERO)},tU:function(a){a!=this.rl&&(this.rl=a,this.Bn())},xU:function(a){if(p.fd!==p.Hf){var c=p.N;a?(c.clearDepth(1),c.enable(c.DEPTH_TEST),c.depthFunc(c.LEQUAL)):c.disable(c.DEPTH_TEST)}},t8:function(){},KI:function(){this.lU(!0);this.xU(!1);this.Jw(this.qk);p.N.clearColor(0,0,0,1)},c9:function(a){this.Dq=a},UU:function(){var a=!1,c=!1;p.iE&&(a=this.Tc?this.Tc instanceof p.iE:!1,c=this.ki?this.ki instanceof p.iE:!1);if(!c){if(c=
this.Tc)c.Xg(),c.vd();this.Il&&c&&c.wf()}this.Tc=this.ki;this.ki=null;a||null==this.Tc||(this.Tc.jg(),this.Tc.Ih())},d9:function(a){this.Nu=a},Vb:function(){return this.Nz},Zg:function(a){this.Nz=a},$U:function(a){this.Cb.LC(p.canvas.width);this.Cb.zC(p.canvas.height);this.Eg=a||p.ha.d();p.fd!==p.Hf&&(a=p.le.d(),a.tQ(),a.jQ(),this.Bn(),this.KI(),this.Ae&&this.Ae.zU(!0))},gJ:function(){if(this.Eg){var a=this.Cb;this.Eg.sV(0,0,a.width,a.height)}},Jw:function(a){var c=this.Cb;if(p.fd===p.Tj){this.gJ();
switch(a){case p.gK:p.mm(p.ht);p.RB();var d=new p.Vg;p.kS(d,0,c.width,0,c.height,-1024,1024);p.hw(d);p.mm(p.gt);p.RB();break;case p.tD:var e=this.Gr(),f=new p.Vg,d=new p.Vg;p.mm(p.ht);p.RB();p.R5(f,60,c.width/c.height,0.1,2*e);p.hw(f);p.mm(p.gt);p.RB();e=p.Pr(null,c.width/2,c.height/2,e);c=p.Pr(null,c.width/2,c.height/2,0);f=p.Pr(null,0,1,0);p.iS(d,e,c,f);p.hw(d);break;case p.hK:break;default:p.log("cocos2d: Director: unrecognized projection")}this.qk=a;p.u9()}else this.qk=a},wO:function(){this.Kd++;
this.hn+=this.ak;this.Uj&&this.Wj&&this.bk?(this.hn>p.fK&&(this.Wj.fa(this.bA.toFixed(3)),this.nu=this.Kd/this.hn,this.hn=this.Kd=0,this.Uj.fa(this.nu.toFixed(1)),this.bk.fa((0|p.Bh).toString())),this.Uj.ga(),this.Wj.ga(),this.bk.ga()):this.Bn();p.Bh=0},B5:function(){return this.Il},y3:function(){return this.Tc},d1:function(){return this.yg},e5:function(){return this.Zp},x8:function(a){this.Zp=a},D3:function(){return this.bA},V2:function(){return this.Eg},o5:function(){return this.Dq},s5:function(){return this.El},
c4:function(){return this.vA},l3:function(){return this.qk},h7:function(){this.aT(1)},aT:function(a){if(!this.Tc)throw"A running Scene is needed";var c=this.ri,d=c.length;if(0==d)this.end();else if(!(a>d)){for(;d>a;){var e=c.pop();e.ve&&(e.Xg(),e.vd());e.wf();d--}this.ki=c[c.length-1];this.Il=!1}},af:function(){return this.Xf},iV:function(a){this.Xf!=a&&(this.Xf=a)},ag:function(){return this.xg},jU:function(a){this.xg!=a&&(this.xg=a)},e4:function(){return this.Ae},Z9:function(a){this.Ae!=a&&(this.Ae=
a)},Uv:function(){if(!p.Xm)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";return this.wz},R8:function(a){if(!p.Xm)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";this.wz=a},Co:function(){if(!p.Nj)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";return this.Qt},Y7:function(a){if(!p.Nj)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";this.Qt!=
a&&(this.Qt=a)},K1:function(){return this.ak},$e:function(){if(!p.Ed)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";return this.Bq},a9:function(a){if(!p.Ed)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.Bq!=a&&(this.Bq=a)},Bn:null,xM:function(){if(!p.Cx)return this.GE();if(null!=p.O.ME&&!1!=p.O.ME){var a=new p.Ob;a.bf(p.O.cz);a.de();var c=p.ha.d().Do().height/320;0===c&&(c=this.Cb.height/320);var d=new p.Cx;d.eA(!0);
d.Ek("00.0",a,12,32,".");d.Ij(c);this.Uj=d;d=new p.Cx;d.eA(!0);d.Ek("0.000",a,12,32,".");d.Ij(c);this.Wj=d;d=new p.Cx;d.eA(!0);d.Ek("000",a,12,32,".");d.Ij(c);this.bk=d;a=p.uD;this.bk.w(p.Bf(p.a(0,34*c),a));this.Wj.w(p.Bf(p.a(0,17*c),a));this.Uj.w(a)}},GE:function(){var a=0,a=this.Cb.width>this.Cb.height?0|this.Cb.height/320*24:0|this.Cb.width/320*24;this.Uj=p.Y.create("000.0","Arial",a);this.Wj=p.Y.create("0.000","Arial",a);this.bk=p.Y.create("0000","Arial",a);var a=p.uD,c=this.bk.e();this.bk.w(p.Bf(p.a(c.width/
2,5*c.height/2),a));c=this.Wj.e();this.Wj.w(p.Bf(p.a(c.width/2,3*c.height/2),a));c=this.Uj.e();this.Uj.w(p.Bf(p.a(c.width/2,c.height/2),a))},fM:function(){this.bA=(Date.now()-this.fj)/1E3}});p.ta.Ac?(p.O.prototype.DE=p.O.prototype.uM,p.O.prototype.wy=p.O.prototype.aM,p.O.prototype.sy=p.O.prototype.XL,p.O.prototype.Bn=p.O.prototype.xM):(p.O.prototype.DE=p.O.prototype.nM,p.O.prototype.Bn=p.O.prototype.GE);
p.jK=p.O.extend({fw:!1,pJ:function(){this.Dq=!0;this.fw=!1;p.Ii.d().ds(this.yg)},MH:function(){this.Vu?(this.Vu=!1,this.jT()):this.fw||this.gQ()},rJ:function(){this.fw=!0},ds:function(a){this.yg=a;this.fw||(this.rJ(),this.pJ())}});p.Bw=null;p.LG=!0;p.O.d=function(){p.LG&&(p.LG=!1,p.Bw=new p.jK,p.Bw.q(),p.Bw.$U(p.ha.d()));return p.Bw};Object.defineProperties(p,{oaa:{get:function(){return p.ZP.Cb},enumerable:!0}});p.R0=!0;p.SP=60;p.O.cz=new Image;
p.O.cz.addEventListener("load",function(){p.O.ME=!0;this.removeEventListener("load",arguments.callee,!1)});p.O.cz.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAAgCAYAAAD9qabkAAAKQ2lDQ1BJQ0MgcHJvZmlsZQAAeNqdU3dYk/cWPt/3ZQ9WQtjwsZdsgQAiI6wIyBBZohCSAGGEEBJAxYWIClYUFRGcSFXEgtUKSJ2I4qAouGdBiohai1VcOO4f3Ke1fXrv7e371/u855zn/M55zw+AERImkeaiagA5UoU8Otgfj09IxMm9gAIVSOAEIBDmy8JnBcUAAPADeXh+dLA//AGvbwACAHDVLiQSx+H/g7pQJlcAIJEA4CIS5wsBkFIAyC5UyBQAyBgAsFOzZAoAlAAAbHl8QiIAqg0A7PRJPgUA2KmT3BcA2KIcqQgAjQEAmShHJAJAuwBgVYFSLALAwgCgrEAiLgTArgGAWbYyRwKAvQUAdo5YkA9AYACAmUIszAAgOAIAQx4TzQMgTAOgMNK/4KlfcIW4SAEAwMuVzZdL0jMUuJXQGnfy8ODiIeLCbLFCYRcpEGYJ5CKcl5sjE0jnA0zODAAAGvnRwf44P5Dn5uTh5mbnbO/0xaL+a/BvIj4h8d/+vIwCBAAQTs/v2l/l5dYDcMcBsHW/a6lbANpWAGjf+V0z2wmgWgrQevmLeTj8QB6eoVDIPB0cCgsL7SViob0w44s+/zPhb+CLfvb8QB7+23rwAHGaQJmtwKOD/XFhbnauUo7nywRCMW735yP+x4V//Y4p0eI0sVwsFYrxWIm4UCJNx3m5UpFEIcmV4hLpfzLxH5b9CZN3DQCshk/ATrYHtctswH7uAQKLDljSdgBAfvMtjBoLkQAQZzQyefcAAJO/+Y9AKwEAzZek4wAAvOgYXKiUF0zGCAAARKCBKrBBBwzBFKzADpzBHbzAFwJhBkRADCTAPBBCBuSAHAqhGJZBGVTAOtgEtbADGqARmuEQtMExOA3n4BJcgetwFwZgGJ7CGLyGCQRByAgTYSE6iBFijtgizggXmY4EImFINJKApCDpiBRRIsXIcqQCqUJqkV1II/ItchQ5jVxA+pDbyCAyivyKvEcxlIGyUQPUAnVAuagfGorGoHPRdDQPXYCWomvRGrQePYC2oqfRS+h1dAB9io5jgNExDmaM2WFcjIdFYIlYGibHFmPlWDVWjzVjHVg3dhUbwJ5h7wgkAouAE+wIXoQQwmyCkJBHWExYQ6gl7CO0EroIVwmDhDHCJyKTqE+0JXoS+cR4YjqxkFhGrCbuIR4hniVeJw4TX5NIJA7JkuROCiElkDJJC0lrSNtILaRTpD7SEGmcTCbrkG3J3uQIsoCsIJeRt5APkE+S+8nD5LcUOsWI4kwJoiRSpJQSSjVlP+UEpZ8yQpmgqlHNqZ7UCKqIOp9aSW2gdlAvU4epEzR1miXNmxZDy6Qto9XQmmlnafdoL+l0ugndgx5Fl9CX0mvoB+nn6YP0dwwNhg2Dx0hiKBlrGXsZpxi3GS+ZTKYF05eZyFQw1zIbmWeYD5hvVVgq9ip8FZHKEpU6lVaVfpXnqlRVc1U/1XmqC1SrVQ+rXlZ9pkZVs1DjqQnUFqvVqR1Vu6k2rs5Sd1KPUM9RX6O+X/2C+mMNsoaFRqCGSKNUY7fGGY0hFsYyZfFYQtZyVgPrLGuYTWJbsvnsTHYF+xt2L3tMU0NzqmasZpFmneZxzQEOxrHg8DnZnErOIc4NznstAy0/LbHWaq1mrX6tN9p62r7aYu1y7Rbt69rvdXCdQJ0snfU6bTr3dQm6NrpRuoW623XP6j7TY+t56Qn1yvUO6d3RR/Vt9KP1F+rv1u/RHzcwNAg2kBlsMThj8MyQY+hrmGm40fCE4agRy2i6kcRoo9FJoye4Ju6HZ+M1eBc+ZqxvHGKsNN5l3Gs8YWJpMtukxKTF5L4pzZRrmma60bTTdMzMyCzcrNisyeyOOdWca55hvtm82/yNhaVFnMVKizaLx5balnzLBZZNlvesmFY+VnlW9VbXrEnWXOss623WV2xQG1ebDJs6m8u2qK2brcR2m23fFOIUjynSKfVTbtox7PzsCuya7AbtOfZh9iX2bfbPHcwcEh3WO3Q7fHJ0dcx2bHC866ThNMOpxKnD6VdnG2ehc53zNRemS5DLEpd2lxdTbaeKp26fesuV5RruutK10/Wjm7ub3K3ZbdTdzD3Ffav7TS6bG8ldwz3vQfTw91jicczjnaebp8LzkOcvXnZeWV77vR5Ps5wmntYwbcjbxFvgvct7YDo+PWX6zukDPsY+Ap96n4e+pr4i3z2+I37Wfpl+B/ye+zv6y/2P+L/hefIW8U4FYAHBAeUBvYEagbMDawMfBJkEpQc1BY0FuwYvDD4VQgwJDVkfcpNvwBfyG/ljM9xnLJrRFcoInRVaG/owzCZMHtYRjobPCN8Qfm+m+UzpzLYIiOBHbIi4H2kZmRf5fRQpKjKqLupRtFN0cXT3LNas5Fn7Z72O8Y+pjLk722q2cnZnrGpsUmxj7Ju4gLiquIF4h/hF8ZcSdBMkCe2J5MTYxD2J43MC52yaM5zkmlSWdGOu5dyiuRfm6c7Lnnc8WTVZkHw4hZgSl7I/5YMgQlAvGE/lp25NHRPyhJuFT0W+oo2iUbG3uEo8kuadVpX2ON07fUP6aIZPRnXGMwlPUit5kRmSuSPzTVZE1t6sz9lx2S05lJyUnKNSDWmWtCvXMLcot09mKyuTDeR55m3KG5OHyvfkI/lz89sVbIVM0aO0Uq5QDhZML6greFsYW3i4SL1IWtQz32b+6vkjC4IWfL2QsFC4sLPYuHhZ8eAiv0W7FiOLUxd3LjFdUrpkeGnw0n3LaMuylv1Q4lhSVfJqedzyjlKD0qWlQyuCVzSVqZTJy26u9Fq5YxVhlWRV72qX1VtWfyoXlV+scKyorviwRrjm4ldOX9V89Xlt2treSrfK7etI66Trbqz3Wb+vSr1qQdXQhvANrRvxjeUbX21K3nShemr1js20zcrNAzVhNe1bzLas2/KhNqP2ep1/XctW/a2rt77ZJtrWv913e/MOgx0VO97vlOy8tSt4V2u9RX31btLugt2PGmIbur/mft24R3dPxZ6Pe6V7B/ZF7+tqdG9s3K+/v7IJbVI2jR5IOnDlm4Bv2pvtmne1cFoqDsJB5cEn36Z8e+NQ6KHOw9zDzd+Zf7f1COtIeSvSOr91rC2jbaA9ob3v6IyjnR1eHUe+t/9+7zHjY3XHNY9XnqCdKD3x+eSCk+OnZKeenU4/PdSZ3Hn3TPyZa11RXb1nQ8+ePxd07ky3X/fJ897nj13wvHD0Ivdi2yW3S609rj1HfnD94UivW2/rZffL7Vc8rnT0Tes70e/Tf/pqwNVz1/jXLl2feb3vxuwbt24m3Ry4Jbr1+Hb27Rd3Cu5M3F16j3iv/L7a/eoH+g/qf7T+sWXAbeD4YMBgz8NZD+8OCYee/pT/04fh0kfMR9UjRiONj50fHxsNGr3yZM6T4aeypxPPyn5W/3nrc6vn3/3i+0vPWPzY8Av5i8+/rnmp83Lvq6mvOscjxx+8znk98ab8rc7bfe+477rfx70fmSj8QP5Q89H6Y8en0E/3Pud8/vwv94Tz+4A5JREAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfcAgcQLxxUBNp/AAAQZ0lEQVR42u2be3QVVZbGv1N17829eRLyIKAEOiISEtPhJTJAYuyBDmhWjAEx4iAGBhxA4wABbVAMWUAeykMCM+HRTcBRWkNH2l5moS0LCCrQTkYeQWBQSCAIgYRXEpKbW/XNH5zS4noR7faPEeu31l0h4dSpvc+t/Z199jkFWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhY/H9D/MR9qfKnLj/00U71aqfJn9+HCkCR/Wk36ddsgyJ/1wF4fkDfqqm9/gPsUeTnVr6a2xlQfnxdI7zs0W7irzD17Ytb2WT7EeNv/r4ox1O3Quf2QP2pgt9utwfout4FQE8AVBSlnaRmfvAURQkg2RlAbwB9AThlW5L0GaiKojhJhgOIBqDa7XaPrusdPtr5kQwF0BVAAoBIABRCKDd5aFUhRDAAw57eAOwAhKIoupft3zoqhB1AqLwuHIBut9uFt02qqvqRDJR2dAEQJj/BAOjn56dqmma+xiaECAEQAWAggLsB6A6HQ2iaZggBhBAqgEAAnQB0kzaEmT4hAITT6VQ8Ho/HJAKKECJQtr8LwD1y/A1/vcdfEUIEyfZ9AcQbYvZ942Px88L2UwlJR0dH0EMPPbRj5syZPUeNGrXR7Xb/641xIwJ1XY9NSUlZm52dfW+XLl1w8uRJzJ8//+OGhoYJqqqe1TSt1Wsm9NN1PSIqKmr12rVrR5WUlHy1bdu2AQCumWc3IYRD1/UwVVXnFRQUTIuNjUVzczN2797dWFJSkq8oymZd15sAGAEnFEUJ1nX9nzIzM1dnZmZGh4SE4OTJk5g5c+Zf29vbp9pstrMej6fVOyhIhgAYU1hY+B+hoaGoqKg4XVlZea+XTULTNFdCQsLGiRMnPuR2u3UhBOV9eeDAAWXTpk095DUe6WsoyRE5OTlr0tLSAux2O/bs2cO5c+e+pijKUpIXSHaQVAGkvPLKK++6XK4OksJLCFlXV2cvKSlJBFAjhU+x2WwhHo9nUHp6+urMzMy7wsLCUF9fjxdffPHjxsbGiTab7WuPx9NiEutOuq4PyMjI+M+srKyYqKgoHD58GDNmzNjq8XhyVFU9b/q+LH7hBAEYu3PnTlZVVRFAGgCX6f/tAHoOHDjwa0p27txp/JO9e/f+QM7cipw9nfL3kQBKt2zZQpJ87rnn6mQmoHilw2EACs+cOUOSrK+vZ1NTE0nyo48+IoBpxswoBcMJ4Ndjx471kOTFixe5d+9ekqTH42H//v13A4jyzpAURfEH0H/OnDnthu1z5sw558MmFUCPWbNmnaMP3nrrLZoyDmP8Hl68eDFJ8siRI9/Yc+zYMQKYKdtAztrTrl27xptRXV1NAKMAOAyBBBA/Y8aMdpLs6Ojgxx9//E37+++//29yvFXppwvAwMcee8xjtDHsuXLlCqOjo//ia3wsfpkoALqFhoZuIckJEyackimm3dQmEMDUmpoakmRISMhhAHOHDx/eQJIbN24kgKEyMAHAFRMTs2XXrl1saWkhSZ0kp0+ffhrAr3wEW/S8efOukORLL72kA1gKYMPWrVtJkk899dRJAHeYrgsEsIQkjx8/TgDvAPjd448/3kaSb7zxBmUa7vC6z53BwcFbSHL9+vU6Sc6aNes8gF5ewWAH0PfVV18lSQL4DMBGIcQ6AKtcLleBFC2jXtFt8ODBe0iyoqKCAJYByC8qKmJDQwOzsrK+MAmqo1OnTveHhoa+GRkZ+XZkZOSWiIiIvzgcjk9mzpypkWRmZuZpmbYbGV4AgPnNzc1sa2sjgN0A5iQmJtaSZHl5OQHcb/K3s81mW0uSTU1NBFAFYFbfvn1Pk+Tbb79NAA8IIVzW42/hByA+Pz/fLR/2ZXIda05NI/z9/TeR5J49ewhgqlxTrtI0jY2NjQQw3zTLuWJiYjaUlJToS5Ys6fjkk080kwDEeAmADcA9GzZsIElGRUW9CyAWwLApU6Y0kOSKFSsog9QICGdERMTGsrIyZmVlEcC9AB4IDw/fTpLbtm0jgN94CUAnAJmVlZVcs2aNZ/LkyRdJcvbs2b4EwAkgZfPmzTxw4AABFAN4BkC6vFeUSewcAO5duXIlSTIhIaEawGMAxgKYAmAGgCS73e5vrKVk/yGythANYEhCQsIhkly+fDkBpKqqGmL6DgIALDKN/3yZpVWQZGVlJQE8aPI3KiMjo5okV61aRQAjAPQBMPfIkSN0u90EUCBtsPiFEwpgbn19PdetW2fM5N4zQ9ekpKQqkty0aRMBpMjiWM6JEydIkoqirJUFJ6iq6pAPVy8A6cZMehMBUACEuVyuFwG8HBwcPEIWx367ZMkSjSQXLVrUJouTRorrkAHdA8BdQogsAOsKCwtJkmPGjDkvMw2bDDo/ADEjRoz4XylyFbm5uY0mAbjLyyZ/AOOrq6tZVlbWsWDBgo69e/eyoqKCgwcPPg4gSQaoIRbp27dvN7KF+tLSUr28vJwFBQXtMpvpYRIM7+wrAkDeqVOnePbsWQIoNKfzpiXPg8uXLydJJicnNwF4f+nSpW6STEtLq5fjYwhk1wkTJtSQ5Ouvv04AqTKj+N2xY8dIkgEBAW/Ie1v8wncRegwZMmQvSfbr12+3Ua33WqPfOWbMmP0kWVpaSgCDZAqcfejQIWNZsEGKgvnh9gfQb9myZd8nAEJVVZtMkUNk8CcNHTq0liR1XWdYWNhmH1mJIme80OnTp18x1rp5eXkEsNJms92Fb7e/IgEsvHz5Mp999tkmAI/l5uZeMC0B7vEqqAYAyL106RJJsra2lpWVld+sucePH38ZQG+5NncBeOrgwYMkqbe3t/Po0aOsra011wAWyl0H7x0JJ4DE+fPnu0kyPT29DsDdUrBuyNKEEAkAdpw/f/6GeoEM8GUmfwEgPCIiopwkGxsbabPZPgOw6L777vvm4p49e26VGYjFLxUhhD+ApLKyMp44ccIoVnXybgbgzkcfffRzklyzZg0BDJYCMMmoCwQFBXkLgLGWvvcWAgBToSsKwNPTp09vMR7UuLi4rwH0lgU8c/Db5ezbeeTIkRWzZ8++aMxu+fn5BPCADBwHgP4LFy701NXVEUAJgAnPP/98kyxMNgHo53A4zH77BQQETMvPz7+Um5vbBuAlAFMSExPPmdbVL0qh8Acw8fDhw5SCchVAEYAVb775JknyhRdeaJYztHfxMwLAaqNwCGC2FArv8x0hAHKNLGPKlCme5OTk/Zs3bzb7O0wKiiG8KXl5ed8IxenTp0mSR48e1UmyW7duWywBuD2xyQcgFECgoih+8H1gyJgZV5Lkyy+/3CbTRIePtl2HDBmyw1QBHyGDdXZdXR1JUghRKkXBjOMHCoBdpr0L3nvvPZLkF198wejo6O0A4lVVDTb74HQ6AwD8Wq7Jh8rgGgDgQ13XjVR8qaxJuADMbmlpYXl5uV5UVNRWUFDgfv/993Vj/ZydnU1c37eHXML4S3viAcQqitJD2l104cIFY8lTKsXSBWBMVVWVcd9yed2A1NTUQ6Zl00CvLMMOoHdubm6zFIlWOf5+PsY/Kj09vdrU11QAwwGsv3jxIk21m2DZr10I0RXAuAcffPBgaWkpV69eTYfDcdiwUxY0w6xw+flX8L1xApjevXv3lREREaW6rofB93aPDUDQpEmTMgHgtddeqwBwEd/utZvpqK6uPgEAcXFxkA94NwB9unfvjrNnz4LklwDcf08iIqv66Zs2bXrl4YcfxooVKxAbG7uqrq5uAYA2TdOEqqpGYIi2tjbl6aeffu/YsWPv5uTk7JaC1wHg4Pnz542MwoVvTx+21dbWYvjw4WLixIl+2dnZ9lGjRgmSTE1NRUpKCkwFTGiaxtTU1OXTpk3707Bhw/6g67pDipnT4biuj7qut+Lbk3Vf1tTUXI9qu91Pjq1QFEUBgJaWFgBo8yGOQ8eNGxcAAOvXr/8QwBUfYygAKL169eoCABcuXACAWtn2hOGv0+kMNO1KiPDw8F4A4rZv3/7R1KlTR0+bNu1ht9u9r1+/fqitrQXJgwDarRC6/QjPzs4+QJIffPCB9/aQmSAA43ft2mW0e1QGoi8CAPyLsZccExNTC2BlRkbGRdOyYJCP2csBIN6UAZzCd7cBbQCijYp/dXU1ExMTz6SmptaMHj36f9LS0vYlJCRsl6mxIWSdu3fv/g5J7t+/nwC2AShMTk6+SJKff/45AWRLYbD7+fndAeDf5BJnLoCCyZMnt5JkdnZ2C4B/F0KEm1Pu+Pj4rST55ZdfEsBWAK+mpaVdMo3raDn7KwDuSEpK+m+S3LBhAwG8DuCtHTt2UBbpjgC408vvcFVV15HkuXPnjMp+p5uMf0RcXNyHJNnQ0EBVVfcCWBQXF3fG+Jv0yxABPwB5LS0tRmFxN4BlTzzxxGWSXLx4sS5F3GGFy+1Hp5SUlJq6ujoWFxdTpsZ2H+0iIyMj/0iSWVlZX5mr5jfJFroPGzasxlhTnjp1iiTZ3NxMl8tlrCd9pfa9SkpKSJI5OTmnZOageLUZZqxvfVFWVkZcPwdgNwnSCKPqb17jkmR8fPzfZMDZ5CRsFBmNI7h95s2b1yhT7/MAYmStwCx4vy0uLqa3v5qmEcCfvSr1QQAeXb16NY3Cm3HQ55133iGAp+SxZTNhKSkpfzUddkrFjYevzAQCeGjp0qXfsYckY2NjTwD4leGDLCL2HTdunNtoY+zWSHFcIHdsFCtcfuZ1vO9Eqs3m7/F47sb1k2qX/f3997W2tl7BjWfpBYDOzzzzzIVJkyZh0KBBCwEsB3AJvl9AETabLcDj8dwRFRW1ctasWb8JCgpSzp07d62wsPC/Wltb8xRFadR1/ZqPXYbgAQMGbI2Pjw/+6quv9ldVVT0r01ezuPRJSUn5Y9euXXVd11WzDaqq6kePHm3+7LPPRgO4KlNuxWazhXo8nuTk5OSXMjIyEl0uFxoaGtqKior+dPXq1VdUVT0jj7r68ieoT58+vx8yZMjdx48fP1JVVTVF9m20VW02WyfZf97YsWPjXS4X6urqWvPy8jYCWCyEuEDS8FdVFKWzruv//OSTTy5OTk7uqWkaPv3007qysrJ8RVH+LI8ym8/rB3Tu3HnRI488knLo0KG2ffv2ZQI4C98vP6mqqoZqmpaclpa2cOTIkX39/f3R0NDQUVxc/G5TU9PLqqrWa5rWLH1QVFUN0TStX1JSUvH48eP7BwYG4uDBg1cKCgpeBbBe2u+2Qug2EwD5N5sMPuNtMe8XP4TT6Qxoa2sbIGeXvUKIK7d4IISiKC5d1wPljOfA9bPwzYqiXNV13dd6Uqiq6qdpml2mpe02m63d4/G4vcTF5fF47LJf71nJA6BZVVW3pmntuPHlmAD5wk6Q9NnbHp9vHaqq6tA0zU/64PZhk1FfCZB9G/23ALiqKEqzD39tpvbGUqoFwFUhRLP3yzpCCDtJpxyXDulfG27+pqRR3DXsUWVd4Yq0x/taVQjhIhksC8L+ABpM9ljBf5sKwI8pIBr75L5E4vvu+UNeG/a+hv+AL7yFH8qPtOfHjtOP6V/Bja8D6z/B2Nys/1u9Xv33tLf4GfF/LC4GCJwByWIAAAAASUVORK5CYII\x3d";p.op=p.ra.extend({iq:null,jq:null,kq:null,wn:null,xn:null,yn:null,hr:null,ir:null,jr:null,xa:null,Eu:null,ctor:function(){this.Eu=new p.Vg;this.restore()},description:function(){return"\x3cCCCamera | center \x3d("+this.wn+","+this.xn+","+this.yn+")\x3e"},mg:function(a){this.xa=a},AH:function(){return this.xa},restore:function(){this.iq=this.jq=0;this.kq=p.op.Gr();this.hr=this.wn=this.xn=this.yn=0;this.ir=1;this.jr=0;p.P5(this.Eu);this.xa=!1},HH:function(){if(this.xa){var a=new p.Qo,c=new p.Qo,d=new p.Qo;
p.Pr(a,this.iq,this.jq,this.kq);p.Pr(c,this.wn,this.xn,this.yn);p.Pr(d,this.hr,this.ir,this.jr);p.iS(this.Eu,a,c,d);this.xa=!1}p.hw(this.Eu)},B8:function(a,c,d){this.HI(a,c,d)},HI:function(a,c,d){this.iq=a;this.jq=c;this.kq=d;this.xa=!0},j8:function(a,c,d){this.qU(a,c,d)},qU:function(a,c,d){this.wn=a;this.xn=c;this.yn=d;this.xa=!0},a$:function(a,c,d){this.rV(a,c,d)},rV:function(a,c,d){this.hr=a;this.ir=c;this.jr=d;this.xa=!0},S1:function(){return{x:this.iq,y:this.jq,z:this.kq}},VG:function(){return{x:this.iq,
y:this.jq,z:this.kq}},r1:function(){return{x:this.wn,y:this.xn,z:this.yn}},UG:function(){return{x:this.wn,y:this.xn,z:this.yn}},i4:function(){return{x:this.hr,y:this.ir,z:this.jr}},hR:function(){return{x:this.hr,y:this.ir,z:this.jr}},cZ:function(){}});p.op.Gr=function(){return p.at};p.kt=-2147483648;p.$X=p.kt+1;p.As=function(a,c){if(a&&0<a.length)for(var d=0;d<a.length;d++)if(!(a[d]instanceof c)){p.log("element type is wrong!");break}};p.lp=function(a,c){a.splice(c,1)};p.Ad=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c){a.splice(d,1);break}};p.zW=function(a,c){for(var d=0,e=c.length;d<e;d++)p.Ad(a,c[d])};p.yW=function(a,c){return a.indexOf(c)};p.wW=function(a,c){a.push(c)};p.$k=function(a,c,d){a.splice(d,0,c);return a};
p.xW=function(a,c,d){a.splice.apply(a,[d,0].concat(c));return a};p.jx=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c)return d;return-1};p.hx=function(a,c){return-1!=a.indexOf(c)};p.sX=function(a,c){if(null==a)return null;for(var d=0;d<a.length;d++)if(a[d].target===c)return a[d];return null};p.CD=function(a,c,d){this.next=null;this.target=a;this.dI=c;this.paused=d;this.Lk=!1};p.yD=function(a,c,d){this.list=a;this.hm=c;this.target=d;this.CB=null};
p.wK=function(a,c){this.Ef=null;this.target=a;this.hp=0;this.rr=this.qr=null;this.paused=c;this.CB=null};
p.Ct=p.ra.extend({ej:0,rf:null,L:null,Tb:0,wF:!1,yv:!1,lo:0,Vz:0,gu:0,ctor:function(){},n2:function(){return this.ej},setInterval:function(){},E3:function(){return this.rf},eg:function(a,c,d,e,f){this.L=a;this.rf=c;this.Tb=-1;this.ej=d||0;this.gu=f||0;this.yv=0<this.gu;this.Vz=null==e?p.fl:e;this.wF=this.Vz==p.fl;return!0},zy:function(){if("string"==typeof this.rf)this.L[this.rf](this.Tb);else this.rf.call(this.L,this.Tb)},update:function(a){if(-1==this.Tb)this.lo=this.Tb=0;else{var c=this.L,d=this.rf;
this.wF&&!this.yv?(this.Tb+=a,this.Tb>=this.ej&&(c&&d&&this.zy(),this.Tb=0)):(this.Tb+=a,this.yv?this.Tb>=this.gu&&(c&&d&&this.zy(),this.Tb-=this.gu,this.lo+=1,this.yv=!1):this.Tb>=this.ej&&(c&&d&&this.zy(),this.Tb=0,this.lo+=1),this.lo>this.Vz&&p.O.d().af().BJ(c,d))}}});p.Ct.S$=function(a,c,d){if(2>arguments.length)throw Error("timerWithTarget'argument can't is null");var e=new p.Ct;e.eg(a,c,d||0,p.fl,0);return e};p.QZ=null;
p.lL=p.ra.extend({ar:1,Ng:null,vh:null,Zf:null,bj:null,St:null,aj:null,oZ:null,Pe:null,di:!1,vv:!1,ctor:function(){this.ar=1;this.Ng=[];this.vh=[];this.Zf=[];this.bj={};this.St=[];this.aj={};this.Xj=[];this.Pe=null;this.vv=this.di=!1},Uz:function(a){delete this.aj[a.target.Sb];p.Ad(this.Xj,a);a.Ct=null;a.target=null},uZ:function(a,c){for(var d=0;d<a.length;d++)if(a[d].target==c)return a[d];return null},Xu:function(a){if(a=this.bj[a.target.Sb])p.Ad(a.list,a.hm),delete this.bj[a.target.Sb],p.Ad(this.St,
a),a.hm=null,a.target=null},pF:function(a,c,d,e){e=new p.CD(c,d,e);if(a){for(var f=!1,g=0;g<a.length;g++)if(d<a[g].dI){a=p.$k(a,e,g);f=!0;break}f||a.push(e)}else a=[],a.push(e);d=new p.yD(a,e,c);this.St.push(d);this.bj[c.Sb]=d;return a},$L:function(a,c,d){d=new p.CD(c,0,d);a.push(d);a=new p.yD(a,d,c);this.St.push(a);this.bj[c.Sb]=a},U9:function(a){this.ar=a},X3:function(){return this.ar},update:function(a){this.vv=!0;1!=this.ar&&(a*=this.ar);var c,d;for(d=0;d<this.Ng.length;d++)c=this.Ng[d],c.paused||
c.Lk||c.target.update(a);for(d=0;d<this.vh.length;d++)c=this.vh[d],c.paused||c.Lk||c.target.update(a);for(d=0;d<this.Zf.length;d++)c=this.Zf[d],c.paused||c.Lk||c.target.update(a);for(d=0;d<this.Xj.length;d++){c=this.Pe=this.Xj[d];this.di=!1;if(!this.Pe.paused)for(c.hp=0;c.hp<c.Ef.length;c.hp++)c.qr=c.Ef[c.hp],c.rr=!1,c.qr.update(a),c.qr=null;this.di&&0==this.Pe.Ef.length&&this.Uz(this.Pe)}for(d=0;d<this.Ng.length;d++)this.Ng[d].Lk&&this.Xu(this.Ng[d]);for(d=0;d<this.vh.length;d++)this.vh[d].Lk&&this.Xu(this.vh[d]);
for(d=0;d<this.Zf.length;d++)this.Zf[d].Lk&&this.Xu(this.Zf[d]);this.vv=!1;this.Pe=null},aU:function(a,c,d,e,f,g){if(!c)throw"cc.scheduler.scheduleCallbackForTarget(): callback_fn should be non-null.";if(!a)throw"cc.scheduler.scheduleCallbackForTarget(): target should be non-null.";d=d||0;e=null==e?p.fl:e;f=f||0;g=g||!1;var h=this.aj[a.Sb];h||(h=new p.wK(a,g),this.Xj.push(h),this.aj[a.Sb]=h);if(null==h.Ef)h.Ef=[];else for(var k=0;k<h.Ef.length;k++)if(g=h.Ef[k],c==g.rf){p.log("CCSheduler#scheduleCallback. Callback already scheduled. Updating interval from:"+
g.ej.toFixed(4)+" to "+d.toFixed(4));g.ej=d;return}g=new p.Ct;g.eg(a,c,d,e,f);h.Ef.push(g)},uI:function(a,c,d){var e=this.bj[a.Sb];e?e.hm.Lk=!1:0==c?this.$L(this.vh,a,d):0>c?this.Ng=this.pF(this.Ng,a,c,d):this.Zf=this.pF(this.Zf,a,c,d)},BJ:function(a,c){if(null!=a&&null!=c){var d=this.aj[a.Sb];if(null!=d)for(var e=0;e<d.Ef.length;e++){var f=d.Ef[e];if(c==f.rf){f!=d.qr||d.rr||(d.rr=!0);p.lp(d.Ef,e);d.hp>=e&&d.hp--;0==d.Ef.length&&(this.Pe==d?this.di=!0:this.Uz(d));break}}}},ip:function(a){null!=a&&
(a=this.bj[a.Sb],null!=a&&(this.vv?a.hm.Lk=!0:this.Xu(a.hm)))},AJ:function(a){if(null!=a){var c=this.aj[a.Sb];c&&(!c.rr&&p.hx(c.Ef,c.qr)&&(c.rr=!0),c.Ef.length=0,this.Pe==c?this.di=!0:this.Uz(c));this.ip(a)}},qs:function(){this.UV(p.kt)},UV:function(a){var c;for(c=0;c<this.Xj.length;c++)this.AJ(this.Xj[c].target);if(0>a)for(c=0;c<this.Ng.length;c++)this.ip(this.Ng[c].target);if(0>=a)for(c=0;c<this.vh.length;c++)this.ip(this.vh[c].target);for(c=0;c<this.Zf.length;c++)this.Zf[c].dI>=a&&this.ip(this.Zf[c].target)},
e7:function(){return this.US(p.kt)},US:function(a){var c=[],d,e;for(d=0;d<this.Xj.length;d++)if(e=this.Xj[d])e.paused=!0,c.push(e.target);if(0>a)for(d=0;d<this.Ng.length;d++)if(e=this.Ng[d])e.paused=!0,c.push(e.target);if(0>=a)for(d=0;d<this.vh.length;d++)if(e=this.vh[d])e.paused=!0,c.push(e.target);for(d=0;d<this.Zf.length;d++)if(e=this.Zf[d])e.paused=!0,c.push(e.target);return c},UT:function(a){if(a)for(var c=0;c<a.length;c++)this.Dm(a[c])},Zr:function(a){if(!a)throw"cc.Scheduler.pauseTarget():target should be non-null";
var c=this.aj[a.Sb];c&&(c.paused=!0);if(a=this.bj[a.Sb])a.hm.paused=!0},Dm:function(a){if(!a)throw"cc.Scheduler.resumeTarget():target should be non-null";var c=this.aj[a.Sb];c&&(c.paused=!1);if(a=this.bj[a.Sb])a.hm.paused=!1},D5:function(a){if(!a)throw"cc.Scheduler.isTargetPaused():target should be non-null";return(a=this.aj[a.Sb])?a.paused:!1}});p.Nx={IMAGE:["png","jpg","bmp","jpeg","gif"],SOUND:["mp3","ogg","wav","mp4","m4a"],XML:["plist","xml","fnt","tmx","tsx"],BINARY:["ccbi"],FONT:"FONT",TEXT:["txt","vsh","fsh","json","ExportJson"],UNKNOW:[]};
p.Nb=p.ra.extend({Cn:0,dr:0,yq:0,Fl:null,yg:1/60,ej:null,XE:!1,ctor:function(){this.Fl=[]},dw:function(a,c,d){if(a){c&&(this.rf=c,this.L=d);if(a!=this.Fl||0==this.Cn){this.yq=this.Cn=0;if(a[0]instanceof Array)for(c=0;c<a.length;c++)this.Fl=this.Fl.concat(a[c]);else this.Fl=a;this.dr=this.Fl.length}this.TN()}else console.log("resources should not null")},nU:function(a){this.XE=a},um:function(a){this.yq++;p.log("cocos2d:Failed loading resource: "+a)},Jh:function(){this.yq++},Vv:function(){var a=0;return a=
0==this.dr?100:0|this.yq/this.dr*100},zT:function(a){if(a&&0<a.length)for(var c=p.Ra.d(),d=p.bh?p.bh.d():null,e=p.Qj.d(),f=p.kd.d(),g,h=0;h<a.length;h++){g=a[h];var k=this.PE(g);switch(k){case "IMAGE":c.MT(g.src);break;case "SOUND":if(!d)throw"Can not find AudioEngine! Install it, please.";d.Y$(g.src);break;case "XML":e.SV(g.src);break;case "BINARY":f.RV(g.src);break;case "TEXT":f.TV(g.src);break;case "FONT":break;default:throw"cocos2d:unknown filename extension: "+k;}}},zN:function(){this.wv();if(this.XE){var a=
p.O.d().nu;if(null!=a&&20>a){p.log("cocos2d: frame rate less than 20 fps, skip frame.");return}}this.Cn<this.dr&&(this.hN(),this.Cn++)},hN:function(){var a=p.Ra.d(),c=p.bh?p.bh.d():null,d=p.Qj.d(),e=p.kd.d(),f=this.Fl[this.Cn],g=this.PE(f);switch(g){case "IMAGE":a.gc(f.src);break;case "SOUND":if(!c)throw"Can not find AudioEngine! Install it, please.";c.k7(f.src);break;case "XML":d.fT(f.src);break;case "BINARY":e.eT(f.src);break;case "TEXT":e.gT(f.src);break;case "FONT":this.BN(f);break;default:throw"cocos2d:unknown filename extension: "+
g;}},TN:function(){var a=this;this.ej=setInterval(function(){a.zN()},1E3*this.yg)},JO:function(){clearInterval(this.ej)},PE:function(a){if(null!=a.vr)return p.Nx.FONT;a=a.src;a=a.substring(a.lastIndexOf(".")+1,a.length);var c=a.indexOf("?");0<c&&(a=a.substring(0,c));for(var d in p.Nx)if(-1!=p.Nx[d].indexOf(a))return d;return a},wv:function(){100<=this.Vv()&&(this.JO(),this.vM())},vM:function(){if(this.L&&"string"==typeof this.rf)this.L[this.rf](this);else this.L&&"function"==typeof this.rf?this.rf.call(this.L,
this):this.rf(this);this.dr=this.yq=this.Cn=0},BN:function(a){var c=a.src,d=p.kd.d();if(c&&0<c.length){var e=document.createElement("style");e.type="text/css";document.body.appendChild(e);for(var f="@font-face { font-family:"+a.vr+"; src:",g=0;g<c.length;g++)f+="url('"+d.Wd(encodeURI(c[g].src))+"') format('"+c[g].type+"')",f+=g==c.length-1?";":",";e.textContent+=f+"};";c=document.createElement("div");c.style.fontFamily=a.vr;c.innerHTML=".";c.style.position="absolute";c.style.left="-100px";c.style.top=
"-100px";document.body.appendChild(c)}p.Nb.d().Jh()},WZ:function(){}});p.Nb.gC=function(a,c,d){this.sb||(this.sb=new p.Nb);this.sb.dw(a,c,d);return this.sb};p.Nb.j7=function(a,c,d){this.sb||(this.sb=new p.Nb);this.sb.nU(!0);this.sb.dw(a,c,d);return this.sb};p.Nb.hC=function(a){this.sb&&this.sb.zT(a)};p.Nb.d=function(){this.sb||(this.sb=new p.Nb);return this.sb};p.Nb.sb=null;
p.Ex=p.tp.extend({Du:null,Tn:null,lv:null,Lp:null,Rn:null,KA:null,ctor:function(){p.tp.prototype.ctor.call(this);this.KA=p.O.d().Cb},q:function(){p.tp.prototype.q.call(this);var a=p.a(this.KA.width/2,this.KA.height/2);this.Tn=new Image;var c=this;this.Tn.addEventListener("load",function(){c.SM(a);this.removeEventListener("load",arguments.callee,!1)});this.Tn.src="";this.Tn.width=160;this.Tn.height=200;this.Lp=p.Qb.create(p.VA(32,32,32,255));this.Lp.w(0,0);this.s(this.Lp,0);this.Rn=p.Y.create("Loading... 0%",
"Arial",14);this.Rn.k(p.Ev(180,180,180));this.Rn.w(p.Bf(a,p.a(0,-110)));this.Lp.s(this.Rn,10)},SM:function(a){this.lv=new p.Ob;this.lv.bf(this.Tn);this.lv.de();this.Du=p.A.qd(this.lv);this.Du.Ij(p.jd());this.Du.w(a);this.Lp.s(this.Du,10)},jg:function(){p.I.prototype.jg.call(this);this.zc(this.JF,0.3)},vd:function(){p.I.prototype.vd.call(this);this.Rn.fa("Loading... 0%")},dw:function(a,c,d){this.RT=a;this.fU=c;this.target=d},JF:function(){this.zd(this.JF);p.Nb.gC(this.RT,this.fU,this.target);this.zc(this.wv)},
wv:function(){var a=p.Nb.d().Vv();this.Rn.fa("Loading... "+a+"%");100<=a&&this.zd(this.wv)}});p.Ex.gC=function(a,c,d){this.sb||(this.sb=new p.Ex,this.sb.q());this.sb.dw(a,c,d);a=p.O.d();a.Tc?a.pI(this.sb):a.ZT(this.sb);return this.sb};p.tx=p.ra.extend({fb:null,z9:function(a){this.fb=a},r3:function(){return this.fb},ctor:function(a){this.fb=a},fB:function(){p.log("DrawingPrimitive.drawPoint() not implement!")},FG:function(){p.log("DrawingPrimitive.drawPoints() not implement!")},zh:function(){p.log("DrawingPrimitive.drawLine() not implement!")},HG:function(){p.log("DrawingPrimitive.drawRect() not implement!")},gB:function(){p.log("DrawingPrimitive.drawSolidRect() not implement!")},Rd:function(){p.log("DrawingPrimitive.drawPoly() not implement!")},
Mv:function(){p.log("DrawingPrimitive.drawSolidPoly() not implement!")},CG:function(){p.log("DrawingPrimitive.drawCircle() not implement!")},GG:function(){p.log("DrawingPrimitive.drawQuadBezier() not implement!")},DG:function(){p.log("DrawingPrimitive.drawCubicBezier() not implement!")},BG:function(){p.log("DrawingPrimitive.drawCardinalSpline() not implement!")},Lv:function(){p.log("DrawingPrimitive.drawCardinalSpline() not implement!")}});
p.vD=p.tx.extend({fB:function(a,c){c||(c=1);var d=p.ha.d().ka,e=p.ha.d().pa,e=p.a(a.x*d,a.y*e);this.fb.beginPath();this.fb.arc(e.x,-e.y,c*d,0,2*Math.PI,!1);this.fb.closePath();this.fb.fill()},FG:function(a,c,d){if(null!=a){d||(d=1);c=this.fb;var e=p.ha.d().ka,f=p.ha.d().pa;c.beginPath();for(var g=0,h=a.length;g<h;g++)c.arc(a[g].x*e,-a[g].y*f,d*e,0,2*Math.PI,!1);c.closePath();c.fill()}},zh:function(a,c){var d=this.fb,e=p.ha.d().ka,f=p.ha.d().pa;d.beginPath();d.moveTo(a.x*e,-a.y*f);d.lineTo(c.x*e,-c.y*
f);d.closePath();d.stroke()},HG:function(a,c){this.zh(p.a(a.x,a.y),p.a(c.x,a.y));this.zh(p.a(c.x,a.y),p.a(c.x,c.y));this.zh(p.a(c.x,c.y),p.a(a.x,c.y));this.zh(p.a(a.x,c.y),p.a(a.x,a.y))},gB:function(a,c,d){a=[a,p.a(c.x,a.y),c,p.a(a.x,c.y)];this.Mv(a,4,d)},Rd:function(a,c,d,e){e=e||!1;if(null!=a){if(3>a.length)throw Error("Polygon's point must greater than 2");var f=a[0];c=this.fb;var g=p.ha.d().ka,h=p.ha.d().pa;c.beginPath();c.moveTo(f.x*g,-f.y*h);for(var f=1,k=a.length;f<k;f++)c.lineTo(a[f].x*g,
-a[f].y*h);d&&c.closePath();e?c.fill():c.stroke()}},Mv:function(a,c,d){this.GI(d.h,d.g,d.f,d.D);this.Rd(a,c,!0,!0)},CG:function(a,c,d,e,f){f=f||!1;e=this.fb;var g=p.ha.d().ka,h=p.ha.d().pa;e.beginPath();e.arc(0|a.x*g,0|-(a.y*h),c*g,-d,-(d-2*Math.PI),!1);f&&e.lineTo(0|a.x*g,0|-(a.y*h));e.stroke()},GG:function(a,c,d,e){for(var f=[],g=0,h=0;h<e;h++)f.push(p.a(Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y)),g+=1/e;f.push(p.a(d.x,d.y));this.Rd(f,e+1,!1,!1)},DG:function(a,
c,d,e,f){for(var g=[],h=0,k=0;k<f;k++)g.push(p.a(Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y)),h+=1/f;g.push(p.a(e.x,e.y));this.Rd(g,f+1,!1,!1)},BG:function(a,c){this.Lv(a,0.5,c)},Lv:function(a,c,d){p.N.strokeStyle="rgba(255,255,255,1)";for(var e=[],f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=p.nx(p.Rg(a,f-1),p.Rg(a,f-0),p.Rg(a,f+1),p.Rg(a,f+2),c,g),e.push(f);this.Rd(e,
d+1,!1,!1)},drawImage:function(a,c,d,e,f){switch(arguments.length){case 2:this.fb.drawImage(a,c.x,-(c.y+a.height));break;case 3:this.fb.drawImage(a,c.x,-(c.y+d.height),d.width,d.height);break;case 5:this.fb.drawImage(a,c.x,c.y,d.width,d.height,e.x,-(e.y+f.height),f.width,f.height);break;default:throw Error("Argument must be non-nil");}},s0:function(a,c,d){a=a||this.fb;c*=p.ha.d().ka;d instanceof p.Cd&&(d=new p.nc(0|255*d.h,0|255*d.g,0|255*d.f));d="rgba("+d.h+","+d.g+","+d.f;a.fillStyle=d+",1)";var e=
c/10;a.beginPath();a.moveTo(-c,c);a.lineTo(0,e);a.lineTo(c,c);a.lineTo(e,0);a.lineTo(c,-c);a.lineTo(0,-e);a.lineTo(-c,-c);a.lineTo(-e,0);a.lineTo(-c,c);a.closePath();a.fill();var f=a.createRadialGradient(0,0,e,0,0,c);f.addColorStop(0,d+", 1)");f.addColorStop(0.3,d+", 0.8)");f.addColorStop(1,d+", 0.0)");a.fillStyle=f;a.beginPath();a.arc(0,0,c-e,0,p.GD,!1);a.closePath();a.fill()},q0:function(a,c,d){a=a||this.fb;c*=p.ha.d().ka;d instanceof p.Cd&&(d=new p.nc(0|255*d.h,0|255*d.g,0|255*d.f));d="rgba("+
d.h+","+d.g+","+d.f;var e=a.createRadialGradient(0,0,c/10,0,0,c);e.addColorStop(0,d+", 1)");e.addColorStop(0.3,d+", 0.8)");e.addColorStop(0.6,d+", 0.4)");e.addColorStop(1,d+", 0.0)");a.fillStyle=e;a.beginPath();a.arc(0,0,c,0,p.GD,!1);a.closePath();a.fill()},fillText:function(a,c,d){this.fb.fillText(a,c,-d)},BU:function(a,c,d,e){this.fb.fillStyle="rgba("+a+","+c+","+d+","+e/255+")";this.fb.strokeStyle="rgba("+a+","+c+","+d+","+e/255+")"},GI:function(a,c,d,e){this.fb.fillStyle="rgba("+(0|255*a)+","+
(0|255*c)+","+(0|255*d)+","+e+")";this.fb.strokeStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+")"},dV:function(){},NU:function(a){this.fb.lineWidth=a*p.ha.d().ka}});
p.mK=p.tx.extend({tq:!1,vb:null,bi:-1,Xb:null,Iz:-1,Hz:-1,ctor:function(a){null==a&&(a=p.N);if(!a instanceof WebGLRenderingContext)throw"Can't initialise DrawingPrimitiveWebGL. context need is WebGLRenderingContext";p.tx.prototype.ctor.call(this,a);this.Xb=new p.Cd(1,1,1,1)},Dj:function(){this.tq||(this.vb=p.fh.d().Kh(p.zY),this.bi=this.fb.getUniformLocation(this.vb.Wv(),"u_color"),this.Iz=this.fb.getUniformLocation(this.vb.Wv(),"u_pointSize"),this.tq=!0)},r0:function(){this.tq=!1},fB:function(a){this.Dj();
this.vb.Me();this.vb.og();p.Zd(p.wg);this.vb.Rk(this.bi,new Float32Array(this.Xb.Bb,0,4),1);this.vb.cJ(this.Iz,this.Hz);var c=this.fb,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,new Float32Array([a.x,a.y]),c.STATIC_DRAW);c.vertexAttribPointer(p.ne,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,1);c.deleteBuffer(d);p.dh()},FG:function(a){if(a&&0!=a.length){this.Dj();this.vb.Me();this.vb.og();p.Zd(p.wg);this.vb.Rk(this.bi,new Float32Array(this.Xb.Bb,0,4),1);this.vb.cJ(this.Iz,
this.Hz);var c=this.fb,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.Su(a),c.STATIC_DRAW);c.vertexAttribPointer(p.ne,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,a.length);c.deleteBuffer(d);p.dh()}},Su:function(a){for(var c=new Float32Array(2*a.length),d=0;d<a.length;d++)c[2*d]=a[d].x,c[2*d+1]=a[d].y;return c},zh:function(a,c){this.Dj();this.vb.Me();this.vb.og();p.Zd(p.wg);this.vb.Rk(this.bi,new Float32Array(this.Xb.Bb,0,4),1);var d=this.fb,e=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,
e);d.bufferData(d.ARRAY_BUFFER,this.Su([a,c]),d.STATIC_DRAW);d.vertexAttribPointer(p.ne,2,d.FLOAT,!1,0,0);d.drawArrays(d.LINES,0,2);d.deleteBuffer(e);p.dh()},HG:function(a,c){this.zh(p.a(a.x,a.y),p.a(c.x,a.y));this.zh(p.a(c.x,a.y),p.a(c.x,c.y));this.zh(p.a(c.x,c.y),p.a(a.x,c.y));this.zh(p.a(a.x,c.y),p.a(a.x,a.y))},gB:function(a,c,d){a=[a,p.a(c.x,a.y),c,p.a(a.x,c.y)];this.Mv(a,4,d)},Rd:function(a,c,d){this.Dj();this.vb.Me();this.vb.og();p.Zd(p.wg);this.vb.Rk(this.bi,new Float32Array(this.Xb.Bb,0,4),
1);c=this.fb;var e=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,e);c.bufferData(c.ARRAY_BUFFER,this.Su(a),c.STATIC_DRAW);c.vertexAttribPointer(p.ne,2,c.FLOAT,!1,0,0);d?c.drawArrays(c.LINE_LOOP,0,a.length):c.drawArrays(c.LINE_STRIP,0,a.length);c.deleteBuffer(e);p.dh()},Mv:function(a,c,d){this.Dj();d||(d=this.Xb);this.vb.Me();this.vb.og();p.Zd(p.wg);this.vb.Rk(this.bi,new Float32Array(d.Bb,0,4),1);c=this.fb;d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.Su(a),c.STATIC_DRAW);
c.vertexAttribPointer(p.ne,2,c.FLOAT,!1,0,0);c.drawArrays(c.TRIANGLE_FAN,0,a.length);c.deleteBuffer(d);p.dh()},CG:function(a,c,d,e,f){this.Dj();var g=1;f&&g++;var h=2*Math.PI/e;if(f=new Float32Array(2*(e+2))){for(var k=0;k<=e;k++){var l=k*h,m=c*Math.sin(l+d)+a.y;f[2*k]=c*Math.cos(l+d)+a.x;f[2*k+1]=m}f[2*(e+1)]=a.x;f[2*(e+1)+1]=a.y;this.vb.Me();this.vb.og();p.Zd(p.wg);this.vb.Rk(this.bi,new Float32Array(this.Xb.Bb,0,4),1);a=this.fb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(p.ne,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+g);a.deleteBuffer(c);p.dh()}},GG:function(a,c,d,e){this.Dj();for(var f=new Float32Array(2*(e+1)),g=0,h=0;h<e;h++)f[2*h]=Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,f[2*h+1]=Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y,g+=1/e;f[2*e]=d.x;f[2*e+1]=d.y;this.vb.Me();this.vb.og();p.Zd(p.wg);this.vb.Rk(this.bi,new Float32Array(this.Xb.Bb,0,4),1);a=this.fb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(p.ne,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+1);a.deleteBuffer(c);p.dh()},DG:function(a,c,d,e,f){this.Dj();for(var g=new Float32Array(2*(f+1)),h=0,k=0;k<f;k++)g[2*k]=Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,g[2*k+1]=Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y,h+=1/f;g[2*f]=e.x;g[2*f+1]=e.y;this.vb.Me();this.vb.og();p.Zd(p.wg);this.vb.Rk(this.bi,new Float32Array(this.Xb.Bb,0,4),1);a=this.fb;c=a.createBuffer();
a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,g,a.STATIC_DRAW);a.vertexAttribPointer(p.ne,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,f+1);a.deleteBuffer(c);p.dh()},BG:function(a,c){this.Lv(a,0.5,c)},Lv:function(a,c,d){this.Dj();for(var e=new Float32Array(2*(d+1)),f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=p.nx(p.Rg(a,f-1),p.Rg(a,f),p.Rg(a,f+1),p.Rg(a,f+2),c,g),e[2*k]=f.x,e[2*k+1]=f.y;this.vb.Me();this.vb.og();p.Zd(p.wg);this.vb.Rk(this.bi,
new Float32Array(this.Xb.Bb,0,4),1);a=this.fb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,e,a.STATIC_DRAW);a.vertexAttribPointer(p.ne,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,d+1);a.deleteBuffer(c);p.dh()},BU:function(a,c,d,e){this.Xb.h=a/255;this.Xb.g=c/255;this.Xb.f=d/255;this.Xb.D=e/255},GI:function(a,c,d,e){this.Xb.h=a;this.Xb.g=c;this.Xb.f=d;this.Xb.D=e},dV:function(a){this.Hz=a*p.jd()},NU:function(a){this.fb.lineWidth&&this.fb.lineWidth(a)}});p.GD=2*Math.PI;p.ZD={$Y:0,EX:1,FX:2,oW:3,xX:4,wX:5,BW:6,NX:7,hX:8,PK:100,YK:101};p.TX=0;p.UX=1;p.RX=2;p.SX=3;p.Hf=0;p.Tj=1;p.xf=null;p.N=null;p.canvas=null;p.sQ=null;p.fd=p.Hf;p.OS=p.size(0,0);window.oC=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;window.console||(window.console={},window.console.log=function(){},window.console.assert=function(){});p.OB=!1;
p.Sk=function(a,c,d){function e(){if(p.bh){var a=p.bh.d();document[k]?(a.TS(),a.VS()):(p.O.d().PN(),a.ST(),a.TT())}}a=p.zb(a)||p.zb("#"+a);var f,g,h;"CANVAS"==a.tagName?(c=c||a.width,d=d||a.height,g=p.vj=p.Mj("DIV"),h=g.style,f=p.canvas=a,f.parentNode.insertBefore(g,f),f.dm(g),h.width=(c||480)+"px",h.height=(d||320)+"px",g.setAttribute("id","Cocos2dGameContainer"),h.margin="0 auto",f.setAttribute("width",c||480),f.setAttribute("height",d||320)):("DIV"!=a.tagName&&p.log("Warning: target element is not a DIV or CANVAS"),
c=c||a.clientWidth,d=d||a.clientHeight,f=p.canvas=p.Mj("CANVAS"),f.fG("gameCanvas"),f.setAttribute("width",c||480),f.setAttribute("height",d||320),g=p.vj=a,h=g.style,a.appendChild(f),h.width=(c||480)+"px",h.height=(d||320)+"px",h.margin="0 auto");h.position="relative";h.overflow="hidden";g.top="100%";if(!p.ky){p.ta.Ac&&(p.N=p.naa=p.sG(f,{stencil:!0,preserveDrawingBuffer:!0,antialias:!p.ta.Cj,alpha:!1}));p.N?(p.fd=p.Tj,window.gl=p.N,p.xf=new p.mK(p.N),p.Ra.d().ZM()):(p.N=f.getContext("2d"),p.qS=p.N,
p.fd=p.Hf,p.N.translate(0,f.height),p.xf=p.vD?new p.vD(p.N):null);p.OS=p.size(f.width,f.height);p.sQ=g;p.log(p.Gs);p.le.d();p.vU();p.ta.Cj&&p.VL();var k,l;"undefined"!==typeof document.hidden?(k="hidden",l="visibilitychange"):"undefined"!==typeof document.mozHidden?(k="mozHidden",l="mozvisibilitychange"):"undefined"!==typeof document.msHidden?(k="msHidden",l="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(k="webkitHidden",l="webkitvisibilitychange");"undefined"===typeof document.addEventListener||
"undefined"===typeof k?(p.OB=!1,window.addEventListener("focus",function(){if(p.bh){var a=p.bh.d();a.ST();a.TT()}},!1),window.addEventListener("blur",function(){if(p.bh){var a=p.bh.d();a.TS();a.VS()}},!1)):(p.OB=!0,document.addEventListener(l,e,!1))}};p.VL=function(){var a=document.createElement("style");a.type="text/css";document.body.appendChild(a);a.textContent="body,canvas,div{ -moz-user-select: none;-webkit-user-select: none;-ms-user-select: none;-khtml-user-select: none;-webkit-tap-highlight-color:rgba(0,0,0,0);}"};
p.YE=!1;p.vU=function(){p.YE=!1;p.canvas.oncontextmenu=p.YE?function(){}:function(){return!1}};p.Ii=p.ra.extend({yg:null,ctor:function(){this.yg=0;if(p.iA)throw"Application has been initialized";p.iA=this},ds:function(a){this.yg=a},u$:function(a){a&&p.rect(0,0,0,0)},T3:function(){return p.ta.Cj?p.ZD.PK:p.ZD.YK},WT:function(){if(!this.hP())return 0;var a,c=p.O.d(),d=window;p.ZP=c;d.oC&&this.yg==1/60?(a=function(){c.MH();d.oC(a)},d.oC(a)):(a=function(){c.MH()},setInterval(a,1E3*this.yg));return 0}});
p.Ii.d=function(){return p.iA};p.Ii.D1=function(){var a=p.DK,c=navigator.language;c||(c=navigator.browserLanguage||navigator.faa);if(!c)return a;c=c.toLowerCase();switch(c){case "zh-cn":a=p.CK;break;case "fr":a=p.EK;break;case "it":a=p.HK;break;case "de":a=p.FK;break;case "es":a=p.OK;break;case "ru":a=p.NK;break;case "ko":a=p.JK;break;case "ja":a=p.IK;break;case "hu":a=p.GK;break;case "pt":a=p.MK;break;case "ar":a=p.BK;break;case "no":a=p.KK;break;case "pl":a=p.LK}return a};p.iA=null;p.Qj=p.ra.extend({paa:null,nF:null,ro:null,uz:null,ctor:function(){this.ro={};window.DOMParser?(this.uz=!0,this.nF=new DOMParser):this.uz=!1},parse:function(a){var c=a;a=this.WG(a);a=this.oF(a,c).documentElement;if("plist"!=a.tagName)throw"cocos2d: "+c+" is not a plist file or you forgot to preload the plist file";for(var c=null,d=0,e=a.childNodes.length;d<e&&(c=a.childNodes[d],1!=c.nodeType);d++);return this.Ez(c)},T$:function(a,c){if(null==c||!1===c)a=this.WG(a);return this.oF(a)},oF:function(a,
c){var d;this.uz?d=this.nF.parseFromString(a,"text/xml"):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(a));null==d&&p.log("cocos2d:xml "+c+" not found!");return d},Ez:function(a){var c=null;switch(a.tagName){case "dict":c=this.wN(a);break;case "array":c=this.vN(a);break;case "string":if(1==a.childNodes.length)c=a.firstChild.nodeValue;else for(var c="",d=0;d<a.childNodes.length;d++)c+=a.childNodes[d].nodeValue;break;case "false":c=!1;break;case "true":c=!0;break;case "real":c=
parseFloat(a.firstChild.nodeValue);break;case "integer":c=parseInt(a.firstChild.nodeValue,10)}return c},vN:function(a){for(var c=[],d=0,e=a.childNodes.length;d<e;d++){var f=a.childNodes[d];1==f.nodeType&&c.push(this.Ez(f))}return c},wN:function(a){for(var c={},d=null,e=0,f=a.childNodes.length;e<f;e++){var g=a.childNodes[e];1==g.nodeType&&("key"==g.tagName?d=g.firstChild.nodeValue:c[d]=this.Ez(g))}return c},fT:function(a){a=p.kd.d().Wd(a);if(window.XMLHttpRequest){var c=new XMLHttpRequest;c.overrideMimeType&&
c.overrideMimeType("text/xml")}if(null!=c){var d=this;c.onreadystatechange=function(){4==c.readyState&&(c.responseText?(p.Nb.d().Jh(),d.ro[a]=c.responseText,c=null):(p.Nb.d().Jh(),p.log("cocos2d:There was a problem retrieving the xml data:"+c.statusText)))};c.open("GET",a,!0);c.send(null)}else throw"cocos2d:Your browser does not support XMLHTTP.";},SV:function(a){this.ro.hasOwnProperty(a)&&delete this.ro[a]},getName:function(a){return a.substring(a.lastIndexOf("/",a.length)+1,a.lastIndexOf(".",a.length))},
R1:function(a){return a.substring(a.lastIndexOf(".",a.length)+1,a.length)},WG:function(a){return null!=this.ro?this.ro[a]:null}});p.Qj.d=function(){this.sb||(this.sb=new p.Qj);return this.sb};p.Qj.sb=null;p.gx=p.ra.extend({YP:function(){p.Ii.d().WT();return!0},y_:function(){p.O.d().pause()},x_:function(){p.O.d().rI()},gP:function(){p.Ii.d().gP()},iP:function(){p.Ii.d().iP()},z_:function(){}});p.gx.zV=function(){null==p.Rw&&(p.Rw=new p.gx);if(!p.Rw)throw"Application initialize failure";return p.Rw};p.Rw=null;p.Y=p.A.extend({Jd:null,fk:p.Oi,yk:p.Dp,Qe:null,qe:0,Yf:"",Dz:null,Nn:!1,Yi:null,kj:!1,Kl:null,ao:0,Qq:0,cv:null,uk:!1,Vq:null,ho:0,ev:null,io:null,mu:null,sA:0,tA:0,Pc:!1,zu:null,Au:null,ctor:function(){p.A.prototype.ctor.call(this);this.Jd=p.hl();this.fk=p.zp;this.yk=p.Dp;this.$b=!1;this.Yi="";this.Qe="Arial";this.kj=this.Nn=!1;this.Kl=p.hl();this.Qq=this.ao=0;this.cv="rgba(128, 128, 128, 0.5)";this.uk=!1;this.Vq=p.jb();this.ho=0;this.ev="";this.io=p.jb();this.mu="rgba(255,255,255,1)";this.tA=this.sA=
0;this.Pc=!1;this.rh()},q:function(){return this.Ek(" ",this.Qe,this.qe)},lN:function(){this.jz().font=this.Yi},Aq:function(a){return this.jz().measureText(a).width},jM:function(a,c){var d=this.Aq(a),e=Math.floor(a.length*c/d),f=a.indexOf("\n");if(0.8*e>=f&&0<f)return f+1;if(d<c)return a.length;for(var d=!1,f=c+1,g=-1,h=e,k,l=p.Y.kM,m=p.Y.RN,n=p.Y.iM,s=a.substr(e);k=l.exec(s);){h+=k[0].length;if("\n"==k[2]){d=!0;g=h;break}f=this.Aq(a.substr(0,h));if(f>c){-1!=g&&(d=!0);break}g=h;s=a.substr(h)}if(d)return g;
s=a.substr(0,e);for(g=e;k=m.exec(s);)if(g=k[1].length,s=k[1],f=this.Aq(s),f<c){n.test(k[2])&&g++;break}return g},description:function(){return"\x3ccc.LabelTTF | FontName \x3d"+this.Qe+" FontSize \x3d "+this.qe.toFixed(1)+"\x3e"},k:null,Lq:function(a){p.kb.prototype.k.call(this,a);this.xF()},rh:null,xF:function(){this.Pc=!0;var a=this.sc,c=this.Kb,d=this.Vq,e=this.io;this.cv="rgba("+(0|0.5*a.h)+","+(0|0.5*a.g)+","+(0|0.5*a.f)+","+this.ao+")";this.mu="rgba("+(0|a.h/255*e.h)+","+(0|a.g/255*e.g)+","+
(0|a.f/255*e.f)+", "+c/255+")";this.ev="rgba("+(0|a.h/255*d.h)+","+(0|a.g/255*d.g)+","+(0|a.f/255*d.f)+", "+c/255+")"},$N:function(){this.Pc=!0;var a=this.Vq,c=this.io;this.cv="rgba(128,128,128,"+this.ao+")";this.mu="rgba("+(0|c.h)+","+(0|c.g)+","+(0|c.f)+", 1)";this.ev="rgba("+(0|a.h)+","+(0|a.g)+","+(0|a.f)+", 1)"},Kc:null,zA:function(a){p.kb.prototype.Kc.call(this,a);this.rh()},X:null,Nq:function(a){this.mi!==a&&(p.A.prototype.X.call(this,a),this.rh(),this.Pc=!0)},Lc:null,caa:function(a){p.kb.prototype.Lc.call(this,
a);this.rh()},sB:function(){return this.Yf},d2:function(){return this.fk},n4:function(){return this.yk},M1:function(){return p.size(this.Jd.width,this.Jd.height)},X1:function(){return this.qe},W1:function(){return this.Qe},Ek:function(a,c,d,e,f,g){a=a?a+"":"";d=d||16;e=e||p.size(0,d);f=f||p.zp;g=g||p.Ep;return p.A.prototype.q.call(this)?(this.$b=!1,this.Jd=p.size(e.width,e.height),this.Qe=c||"Arial",this.fk=f,this.yk=g,this.qe=d,this.Yi=this.qe+"px '"+c+"'",this.Xi=p.Y.Nt(c,this.qe),this.fa(a),this.rh(),
this.BA(),this.Pc=!1,!0):!1},KB:null,VM:function(a,c){if(!p.A.prototype.q.call(this))return!1;this.CA(c,!1);this.fa(a);return!0},WM:function(a,c){if(!p.A.prototype.q.call(this))return!1;this.ng(p.fh.d().Kh(p.Y.FL));this.CA(c,!1);this.fa(a);return!0},S9:function(a){a&&this.CA(a,!0)},U3:function(){return this.AN(!1)},lQ:function(a,c,d){c=c||0.5;!1===this.kj&&(this.kj=!0);var e=this.Kl;if(e&&e.width!=a.width||e.height!=a.height)e.width=a.width,e.height=a.height;this.ao!=c&&(this.ao=c);this.rh();this.Qq!=
d&&(this.Qq=d);this.Pc=!0},m0:function(){this.kj&&(this.kj=!1,this.Pc=!0)},mQ:function(a,c){!1===this.uk&&(this.uk=!0);var d=this.Vq;if(d.h!==a.h||d.g!==a.g||d.f!==a.f)d.h=a.h,d.g=a.g,d.f=a.f,this.rh();this.ho!==c&&(this.ho=c||0);this.Pc=!0},n0:function(){this.uk&&(this.uk=!1,this.Pc=!0)},yC:null,dO:function(a){var c=this.io;if(c.h!=a.h||c.g!=a.g||c.f!=a.f)c.h=a.h,c.g=a.g,c.f=a.f,this.rh(),this.Pc=!0},eO:function(a){var c=this.io;if(c.h!=a.h||c.g!=a.g||c.f!=a.f)c.h=a.h,c.g=a.g,c.f=a.f,this.rh(),this.Pc=
!0},CA:function(a,c){a.ur?(this.Jd.width=a.ur.width,this.Jd.height=a.ur.height):(this.Jd.width=0,this.Jd.height=0);this.fk=a.MG;this.yk=a.NG;this.Qe=a.vr;this.qe=a.fontSize||12;this.Yi=this.qe+"px '"+this.Qe+"'";this.Xi=p.Y.Nt(this.Qe,this.qe);a.lJ&&this.lQ(a.mJ,a.nJ,a.shadowBlur,!1);a.QC&&this.mQ(a.strokeColor,a.tJ,!1);this.yC(a.OG,!1);c&&this.BA()},AN:function(a){var c=new p.sK;a?(c.fontSize=this.qe,c.ur=p.Rx(this.Jd)):(c.fontSize=this.qe,c.ur=p.size(this.Jd.width,this.Jd.height));c.vr=this.Qe;
c.MG=this.fk;c.NG=this.yk;if(this.uk){c.QC=!0;var d=this.Vq;c.strokeColor=new p.nc(d.h,d.g,d.f);c.tJ=this.ho}else c.QC=!1;this.kj?(c.lJ=!0,c.shadowBlur=this.Qq,c.nJ=this.ao,c.mJ=a?p.Rx(this.Kl):p.size(this.Kl.width,this.Kl.height)):c.kj=!1;a=this.io;c.OG=new p.nc(a.h,a.g,a.f);return c},Xi:18,fa:function(a){a=String(a);this.Dz!=a&&(this.Dz=a+"",this.XF(),this.Pc=!0)},XF:function(){this.Yf=this.Dz},I8:function(a){a!==this.fk&&(this.fk=a,this.Pc=!0)},e$:function(a){a!=this.yk&&(this.yk=a,this.Pc=!0)},
wC:function(a){if(a.width!=this.Jd.width||a.height!=this.Jd.height)this.Jd=a,this.XF(),this.Pc=!0},II:function(a){this.qe!==a&&(this.qe=a,this.Yi=a+"px '"+this.Qe+"'",this.Xi=p.Y.Nt(this.Qe,a),this.Pc=!0)},HU:function(a){this.Qe&&this.Qe!=a&&(this.Qe=a,this.Yi=this.qe+"px '"+a+"'",this.Xi=p.Y.Nt(a,this.qe),this.Pc=!0)},AM:function(a){if(a){var c=this.sA,d=this.tA,e=this.ja.ia-d,f=this.yk,g=this.fk,h=this.Xi,k=this.ho;a.setTransform(1,0,0,1,0+0.5*c,e+0.5*d);a.font!=this.Yi&&(a.font=this.Yi);a.fillStyle=
this.mu;var l=d=0,m=this.uk;m&&(a.lineWidth=2*k,a.strokeStyle=this.ev);this.kj&&(k=this.Kl,a.shadowColor=this.cv,a.shadowOffsetX=k.width,a.shadowOffsetY=-k.height,a.shadowBlur=this.Qq);a.textBaseline=p.Y.DO[f];a.textAlign=p.Y.CO[g];c=this.ja.wa-c;d=g===p.rL?d+c:g===p.Oi?d+c/2:d+0;if(this.Nn)for(g=this.mj.length,f===p.Dp?l=h+e-h*g:f===p.Jt&&(l=h/2+(e-h*g)/2),f=0;f<g;f++)c=this.mj[f],k=-e+h*f+l,m&&a.strokeText(c,d,k),a.fillText(c,d,k);else f!==p.Dp&&(l=f===p.Ep?l-e:l-0.5*e),m&&a.strokeText(this.Yf,
d,l),a.fillText(this.Yf,d,l)}},jz:function(){if(this.Au)return this.Au;if(!this.zu){var a=document.createElement("canvas"),c=new p.Ob;c.bf(a);this.aa(c);this.zu=a}return this.Au=this.zu.getContext("2d")},YF:function(){var a=this.Jd.width,c,d;this.bF=[];this.Nn=!1;this.lN();if(0!==a){var e=this.Yf;this.mj=[];c=0;for(d=this.Yf.length;c<d;){var f=this.jM(e.substr(c),a);this.mj.push(e.substr(c,f));c+=f}}else for(this.mj=this.Yf.split("\n"),c=0,d=this.mj.length;c<d;c++)this.bF.push(this.Aq(this.mj[c]));
0<this.mj.length&&(this.Nn=!0);d=c=0;this.uk&&(c=d=2*this.ho);this.kj&&(e=this.Kl,c+=2*Math.abs(e.width),d+=2*Math.abs(e.height));a=0===a?this.Nn?p.size(0|Math.max.apply(Math,this.bF)+c,0|this.Xi*this.mj.length+d):p.size(0|this.Aq(this.Yf)+c,0|this.Xi+d):0===this.Jd.height?this.Nn?p.size(0|a+c,0|this.Xi*this.mj.length+d):p.size(0|a+c,0|this.Xi+d):p.size(0|a+c,0|this.Jd.height+d);this.ea(a);this.sA=c;this.tA=d;e=this.gh;this.md.C=0.5*c+(a.width-c)*e.C;this.md.G=0.5*d+(a.height-d)*e.G},e:function(){this.Pc&&
this.YF();return p.A.prototype.e.call(this)},BA:function(){var a=this.jz(),c=this.zu,d=this.ja;if(0===this.Yf.length)return c.width=1,c.height=d.ia,this.ib(p.rect(0,0,1,d.ia)),!0;a.font=this.Yi;this.YF();var e=d.wa,d=d.ia,f=c.width==e&&c.height==d;c.width=e;c.height=d;f&&a.clearRect(0,0,e,d);this.AM(a);this.sa.de();this.ib(p.rect(0,0,e,d));return!0},ga:function(a){this.Yf&&""!=this.Yf&&(this.Pc&&(this.Pc=!1,this.BA()),p.A.prototype.ga.call(this,a||p.N))},Ia:null,Qf:function(a){if(this.Yf&&""!=this.Yf){a=
a||p.N;var c=this.sa;c&&c.ec&&(this.uc.Me(),this.uc.og(),p.Aj(this.U.src,this.U.rb),p.cg(c),p.Zd(p.It),a.bindBuffer(a.ARRAY_BUFFER,this.Wu),this.Ue&&(a.bufferData(a.ARRAY_BUFFER,this.ub.PA,a.STATIC_DRAW),this.Ue=!1),a.vertexAttribPointer(p.ne,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(p.Cp,2,a.FLOAT,!1,24,16),a.vertexAttribPointer(p.Bp,4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));1===p.Rj?(a=this.ub,a=[p.a(a.Fa.n.x,a.Fa.n.y),p.a(a.ya.n.x,a.ya.n.y),p.a(a.Ha.n.x,a.Ha.n.y),p.a(a.Ba.n.x,
a.Ba.n.y)],p.xf.Rd(a,4,!0)):2===p.Rj&&(a=this.tB().Na,c=this.Ub,a=[p.a(c.x,c.y),p.a(c.x+a.width,c.y),p.a(c.x+a.width,c.y+a.height),p.a(c.x,c.y+a.height)],p.xf.Rd(a,4,!0));p.Bh++}},hA:function(a,c,d){this.Hc=c||!1;d=d||a.Na;this.ea(d);this.JC(a);c=this.ko;c.x=a.x;c.y=a.y;c.width=a.width;c.height=a.height;c.vs=!(0===c.width||0===c.height);a=this.uh;this.Yb&&(a.C=-a.C);this.Zb&&(a.G=-a.G);this.Ub.C=a.x+(this.ja.wa-this.oa.width)/2;this.Ub.G=a.y+(this.ja.ia-this.oa.height)/2;this.Va&&(this.xa=!0)},AF:function(a){var c=
this.Va?this.Ea.S():this.sa;if(c){var d=c.Fo(),e=c.Eo(),f,g=this.ub;this.Hc?(p.$s?(c=(2*a.x+1)/(2*d),d=c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/d,f=a.y/e,a=(a.y+a.width)/e),this.Yb&&(e=f,f=a,a=e),this.Zb&&(e=c,c=d,d=e),g.ya.t.Ca=c,g.ya.t.ba=f,g.Ha.t.Ca=c,g.Ha.t.ba=a,g.Fa.t.Ca=d,g.Fa.t.ba=f,g.Ba.t.Ca=d,g.Ba.t.ba=a):(p.$s?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+
a.height)/e),this.Yb&&(e=c,c=d,d=e),this.Zb&&(e=f,f=a,a=e),g.ya.t.Ca=c,g.ya.t.ba=a,g.Ha.t.Ca=d,g.Ha.t.ba=a,g.Fa.t.Ca=c,g.Fa.t.ba=f,g.Ba.t.Ca=d,g.Ba.t.ba=f);this.Ue=!0}}});
p.ta.Ac?(b=p.Y.prototype,b.k=p.A.prototype.k,b.rh=p.Y.prototype.$N,b.Kc=p.A.prototype.Kc,b.X=p.A.prototype.X,b.Lc=p.A.prototype.Lc,b.KB=p.Y.prototype.WM,b.yC=p.Y.prototype.eO,b.Ia=p.Y.prototype.Qf,b.ib=p.A.prototype.BF):(b=p.Y.prototype,b.k=p.Y.prototype.Lq,b.rh=p.Y.prototype.xF,b.Kc=p.Y.prototype.zA,b.X=p.Y.prototype.Nq,b.Lc=p.Y.prototype.UF,b.KB=p.Y.prototype.VM,b.yC=p.Y.prototype.dO,b.Ia=p.A.prototype.Ia,b.ib=p.Y.prototype.hA);p.Y.CO=["left","center","right"];p.Y.DO=["top","middle","bottom"];
p.Y.kM=/(.+?)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;p.Y.RN=/(.*)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;p.Y.iM=/[\s\-\/\\\:]/;p.Y.create=function(a,c,d,e,f,g){var h=new p.Y;return h.Ek(a,c,d,e,f,g)?h:null};p.Y.f0=function(a,c){var d=new p.Y;return d&&d.KB(a,c)?d:null};p.Y.FL=p.zL?p.Qx:p.wY;p.Y.il=document.createElement("div");p.Y.il.style.fontFamily="Arial";p.Y.il.style.position="absolute";p.Y.il.style.left="-100px";p.Y.il.style.top="-100px";p.Y.il.style.lineHeight="normal";
document.body.appendChild(p.Y.il);p.Y.Nt=function(a,c){var d=p.Y.oE[a+"."+c];if(0<d)return d;var e=p.Y.il;e.innerHTML="ajghl~!";e.style.fontFamily=a;e.style.fontSize=c+"px";d=e.clientHeight;p.Y.oE[a+"."+c]=d;e.innerHTML="";return d};p.Y.oE={};p.vK=p.ra.extend({wc:null,target:null,bm:0,Qg:null,gm:!1,paused:!1,CB:null,ctor:function(){this.wc=[];this.L=null;this.bm=0;this.Qg=null;this.paused=this.gm=!1;this.CB=null}});
p.SJ=p.ra.extend({jh:null,kn:null,Pe:null,di:!1,OZ:function(a,c){for(var d=0;d<a.length;d++)if(c==a[d].target)return a[d];return null},ctor:function(){this.jh={};this.kn=[];this.Pe=null;this.di=!1},YO:function(a,c,d){if(!a)throw"cc.ActionManager.addAction(): action must be non-null";if(!c)throw"cc.ActionManager.addAction(): action must be non-null";var e=this.jh[c.Sb];e||(e=new p.vK,e.paused=d,e.target=c,this.jh[c.Sb]=e,this.kn.push(e));this.PL(e);e.wc.push(a);a.Q(c)},v7:function(){for(var a=this.kn,
c=0;c<a.length;c++){var d=a[c];d&&this.mI(d.target,!0)}},mI:function(a,c){if(null!=a){var d=this.jh[a.Sb];d&&(-1===d.wc.indexOf(d.Qg)||d.gm||(d.gm=!0),d.wc=[],this.Pe!=d||c?this.Oy(d):this.di=!0)}},lI:function(a){if(null!=a){var c=this.jh[a.Dl.Sb];if(c)for(var d=0;d<c.wc.length;d++){if(c.wc[d]==a){c.wc.splice(d,1);break}}else p.log("cocos2d: removeAction: Target not found")}},BT:function(a,c){a==p.Sm&&p.log("cc.ActionManager.removeActionByTag(): an invalid tag");if(!c)throw"cc.ActionManager.removeActionByTag(): target must be non-null";
var d=this.jh[c.Sb];if(d)for(var e=d.wc.length,f=0;f<e;++f){var g=d.wc[f];if(g&&g.Uc===a&&g.Dl==c){this.EN(f,d);break}}},kB:function(a,c){a==p.Sm&&p.log("cc.ActionManager.getActionByTag(): an invalid tag");var d=this.jh[c.Sb];if(d){if(null!=d.wc)for(var e=0;e<d.wc.length;++e){var f=d.wc[e];if(f&&f.Uc===a)return f}p.log("cocos2d : getActionByTag(tag \x3d"+a+"): Action not found")}return null},wS:function(a){return(a=this.jh[a.Sb])?a.wc?a.wc.length:0:0},Zr:function(a){if(a=this.jh[a.Sb])a.paused=!0},
Dm:function(a){if(a=this.jh[a.Sb])a.paused=!1},d7:function(){for(var a=[],c=this.kn,d=0;d<c.length;d++){var e=c[d];e&&!e.paused&&(e.paused=!0,a.push(e.target))}return a},UT:function(a){if(a)for(var c=0;c<a.length;c++)a[c]&&this.Dm(a[c])},n7:function(){p.O.d().af().ip(this)},EN:function(a,c){c.wc[a]!=c.Qg||c.gm||(c.gm=!0);p.lp(c.wc,a);c.bm>=a&&c.bm--;0==c.wc.length&&(this.Pe==c?this.di=!0:this.Oy(c))},Oy:function(a){a&&(delete this.jh[a.target.Sb],p.Ad(this.kn,a),a.wc=null,a.target=null)},PL:function(a){null==
a.wc&&(a.wc=[])},update:function(a){for(var c=this.kn,d,e=0;e<c.length;e++){d=this.Pe=c[e];if(!d.paused)for(d.bm=0;d.bm<d.wc.length;d.bm++)if(d.Qg=d.wc[d.bm],d.Qg){d.gm=!1;d.Qg.step(a);if(d.gm)d.Qg=null;else if(d.Qg.Fh()){d.Qg.stop();var f=d.Qg;d.Qg=null;this.lI(f)}d.Qg=null}this.di&&0===d.wc.length&&this.Oy(d)}}});p.Oe=p.ra.extend({V:null,Uu:p.Li(),mf:0,ctor:function(a,c,d){this.V=p.a(a||0,c||0);this.mf=d||0},p2:function(){return this.V},TQ:function(){return this.Uu},J1:function(){return p.ed(this.V,this.Uu)},g2:function(){return this.mf},h2:function(){return this.mf},HC:function(a,c,d){this.Uu=this.V;this.V=p.a(c||0,d||0);this.mf=a},sf:function(a,c){this.Uu=p.a(a||0,c||0)}});
p.hE=p.ra.extend({tZ:null,Fb:function(){return!1},dd:function(){},df:function(){},Ej:function(){},RH:function(){},UH:function(){},TH:function(){},SH:function(){},X$:function(){},W$:function(){}});p.NY=p.hE.extend({Fb:function(){return!1},dd:function(){},df:function(){},Ej:function(){}});p.GY=p.hE.extend({RH:function(){},UH:function(){},TH:function(){},SH:function(){}});p.fn=p.ra.extend({Jb:null,Te:0,En:0,Vb:function(){return this.Jb},Zg:function(a){this.Jb=a},UQ:function(){return this.Te},is:function(a){this.Te=a},BQ:function(){return this.En},CU:function(a){this.En=a},Bj:function(a,c){if(!a)throw"cc.TouchHandler.initWithDelegate(): touch delegate should not be null";this.Jb=a;this.Te=c;this.En=0;return!0}});p.fn.create=function(a,c){var d=new p.fn;d&&d.Bj(a,c);return d};p.Vx=p.fn.extend({Bj:function(a,c){return p.fn.prototype.Bj.call(this,a,c)}});
p.Vx.create=function(a,c){var d=new p.Vx;d&&d.Bj(a,c);return d};p.Bt=p.fn.extend({iv:!1,zn:null,C5:function(){return this.iv},P9:function(a){this.iv=a},u1:function(){return this.zn},Bj:function(a,c,d){return p.fn.prototype.Bj.call(this,a,c)?(this.zn=[],this.iv=d,!0):!1}});p.Bt.create=function(a,c,d){var e=new p.Bt;e&&e.Bj(a,c,d);return e};p.uL=1;p.xL=2;p.wL=4;p.vL=8;p.QY=p.uL|p.xL|p.wL|p.vL;p.Zx=0;p.by=1;p.ay=2;p.$x=3;p.PY=4;p.GH=function(a,c){return a.Te>c.Te};p.Ft=function(a){this.type=a};
p.Z=p.ra.extend({hj:!1,ye:null,xe:null,zl:!1,cr:!1,tv:!1,gk:null,$i:null,sv:!1,Vi:!1,OM:[new p.Ft(p.Zx),new p.Ft(p.by),new p.Ft(p.ay),new p.Ft(p.$x)],q:function(){this.Vi=!0;this.ye=[];this.xe=[];this.gk=[];this.$i=[];this.hj=this.zl=this.sv=this.cr=this.tv=!1;p.Z.wT();return!0},Mq:function(a){this.hj=a},JM:function(){return this.hj},d5:function(){return this.Vi},zU:function(a){this.Vi=a},TL:function(a,c){var d=p.Vx.create(a,c||0);this.zl?-1!=this.$i.indexOf(a)?p.Ad(this.$i,a):(this.gk.push(d),this.cr=
!0):this.xe=this.Ao(d,this.xe)},UL:function(a,c,d){c=p.Bt.create(a,c,d);this.zl?-1!=this.$i.indexOf(a)?p.Ad(this.$i,a):(this.gk.push(c),this.cr=!0):this.ye=this.Ao(c,this.ye)},Ao:function(a,c){for(var d=0,e,f=0;f<c.length;f++)if(e=c[f])if(e.Te<a.Te&&++d,e.Vb()==a.Vb())return p.log("cc.TouchDispatcher.forceAddHandler(): The handler has been added."),c;return p.$k(c,a,d)},PG:function(){this.xe.length=0;this.ye.length=0},HN:function(a){if(null!=a)if(this.zl){var c=this.KG(this.gk,a);c?p.Ad(this.gk,c):
(this.$i.push(a),this.tv=!0)}else this.QG(a)},DT:function(){this.zl?this.sv=!0:this.PG()},is:function(a,c){if(!c)throw"cc.TouchDispatcher.setPriority(): delegate should be non-null.";var d=this.KG(c);d?d.Te!=a&&(d.is(a),this.gI(this.ye),this.gI(this.xe)):p.log("cc.TouchDispatcher.setPriority(): Can't find TouchHandler.")},touches:function(a,c,d){if(0>d||4<=d)throw"cc.TouchDispatcher.touches(): invalid index";this.zl=!0;var e=this.ye.length,f=this.xe.length,g=e&&f,h=g?a.slice():a,k=this.OM[d];if(0<
e)for(var l,m,n=0;n<a.length;n++)for(var e=a[n],s=0;s<this.ye.length;s++){l=this.ye[s];if(!l)break;m=!1;if(d==p.Zx)l.Vb().Fb&&(m=l.Vb().Fb(e,c))&&l.zn.push(e);else if(0<l.zn.length)switch(m=!0,k.type){case p.by:p.ta.Cj?l.Vb().dd&&l.Vb().dd(e,c):this.hj&&l.Vb().dd&&l.Vb().dd(e,c);break;case p.ay:l.Vb().df&&l.Vb().df(e,c);l.zn.length=0;break;case p.$x:l.Vb().Ej&&l.Vb().Ej(e,c),l.zn.length=0}if(m&&l.iv){g&&p.Ad(h,e);break}}if(0<f)for(n=0;n<this.xe.length&&(l=this.xe[n],l);n++);this.zl=!1;if(this.tv){this.tv=
!1;for(n=0;n<this.$i.length;n++)this.QG(this.$i[n]);this.$i.length=0}if(this.cr){this.cr=!1;for(n=0;n<this.gk.length;n++){l=this.gk[n];if(!l)break;l instanceof p.Bt?this.ye=this.Ao(l,this.ye):this.xe=this.Ao(l,this.xe)}this.gk.length=0}this.sv&&(this.sv=!1,this.PG())},Yw:function(a,c){this.Vi&&this.touches(a,c,p.Zx)},Zw:function(a,c){this.Vi&&this.touches(a,c,p.by)},ps:function(a,c){this.Vi&&this.touches(a,c,p.ay)},SC:function(a,c){this.Vi&&this.touches(a,c,p.$x)},KG:function(a,c){switch(arguments.length){case 1:c=
arguments[0];if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(var d=0;d<this.ye.length;d++)if(this.ye[d].Vb()==c)return this.ye[d];for(d=0;d<this.xe.length;d++)if(this.xe[d].Vb()==c)return this.xe[d];return null;case 2:if(!a)throw"cc.TouchDispatcher.findHandler(): array should be non-null.";if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(d=0;d<a.length;d++)if(a[d].Vb()==c)return a[d];return null;default:throw"Argument must be non-nil ";
}},QG:function(a){for(var c,d=0;d<this.xe.length;d++)if((c=this.xe[d])&&c.Vb()==a){p.Ad(this.xe,c);break}for(d=0;d<this.ye.length;d++)if((c=this.ye[d])&&c.Vb()==a){p.Ad(this.ye,c);break}},gI:function(a){a.sort(p.GH)}});p.Z.cb=p.a(0,0);p.Z.CH=!1;
p.ui=function(a){var c=document.documentElement,d=window,e=null,e="function"===typeof a.getBoundingClientRect?a.getBoundingClientRect():a instanceof HTMLCanvasElement?{left:0,top:0,width:a.width,height:a.height}:{left:0,top:0,width:parseInt(a.style.width),height:parseInt(a.style.height)};return{left:e.left+d.pageXOffset-c.clientLeft,top:e.top+d.pageYOffset-c.clientTop,width:e.width,height:e.height}};
p.fL=function(a,c){var d=p.ui(a),e,f;null!=c.pageX?(e=c.pageX,f=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,e=c.clientX,f=c.clientY);e=p.ha.d().wj(e,f,d);d=new p.Oe(e.x,e.y);d.sf(p.Z.cb.x,p.Z.cb.y);p.Z.cb.x=e.x;p.Z.cb.y=e.y;e=[];e.push(d);p.ha.d().ps(e,null)};
p.Z.wT=function(){var a=p.canvas;if(!p.Z.CH){if(p.ta.Cj)if(window.navigator.msPointerEnabled){var c={MSPointerDown:"touchesBegan",MSPointerMove:"touchesMoved",MSPointerUp:"touchesEnded",MSPointerCancel:"touchesCancelled"},d;for(d in c)(function(c,d){a.addEventListener(c,function(c){var e=p.ui(a);e.left-=document.body.scrollLeft;e.top-=document.body.scrollTop;var k,l;k=c.clientX;l=c.clientY;k=p.ha.d().wj(k,l,e);e=new p.Oe(k.x,k.y);e.sf(p.Z.cb.x,p.Z.cb.y);p.Z.cb.x=k.x;p.Z.cb.y=k.y;p.O.d().Ae[d]([e],
null);c.stopPropagation();c.preventDefault()},!1)})(d,c[d])}else a.addEventListener("touchstart",function(c){if(c.changedTouches){var d=[],g=p.ui(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=p.ha.d().wj(k,l,g),h.hasOwnProperty("identifier")?(h=new p.Oe(k.x,k.y,h.identifier),l=p.Z.pu(h).V,h.sf(l.x,l.y),p.Z.yF(h)):(h=new p.Oe(k.x,k.y),h.sf(p.Z.cb.x,p.Z.cb.y)),p.Z.cb.x=k.x,p.Z.cb.y=
k.y,d.push(h);p.ha.d().Yw(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchmove",function(c){if(c.changedTouches){var d=[],g=p.ui(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=p.ha.d().wj(k,l,g),h.hasOwnProperty("identifier")?(h=new p.Oe(k.x,k.y,h.identifier),l=p.Z.pu(h).V,h.sf(l.x,l.y),p.Z.yF(h)):(h=new p.Oe(k.x,k.y),h.sf(p.Z.cb.x,p.Z.cb.y)),p.Z.cb.x=
k.x,p.Z.cb.y=k.y,d.push(h);p.ha.d().Zw(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchend",function(c){if(c.changedTouches){var d=[],g=p.ui(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=p.ha.d().wj(k,l,g),h.hasOwnProperty("identifier")?(h=new p.Oe(k.x,k.y,h.identifier),l=p.Z.pu(h).V,h.sf(l.x,l.y),p.Z.HE(h)):(h=new p.Oe(k.x,k.y),h.sf(p.Z.cb.x,p.Z.cb.y)),
p.Z.cb.x=k.x,p.Z.cb.y=k.y,d.push(h);p.ha.d().ps(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchcancel",function(c){if(c.changedTouches){var d=[],g=p.ui(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=p.ha.d().wj(k,l,g),h.hasOwnProperty("identifier")?(h=new p.Oe(k.x,k.y,h.identifier),l=p.Z.pu(h).V,h.sf(l.x,l.y),p.Z.HE(h)):(h=new p.Oe(k.x,k.y),h.sf(p.Z.cb.x,
p.Z.cb.y)),p.Z.cb.x=k.x,p.Z.cb.y=k.y,d.push(h);p.ha.d().SC(d,null);c.stopPropagation();c.preventDefault()}},!1);else window.addEventListener("mousedown",function(){p.O.d().Ae.Mq(!0)}),window.addEventListener("mouseup",function(c){p.O.d().Ae.Mq(!1);var d=p.ui(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);p.Lb(new p.Kf(d.left,d.top,d.width,d.height),p.a(g,c))||(g=p.ha.d().wj(g,c,d),d=new p.Oe(g.x,g.y),d.sf(p.Z.cb.x,
p.Z.cb.y),p.Z.cb.x=g.x,p.Z.cb.y=g.y,g=[],g.push(d),p.ha.d().ps(g,null))}),a.addEventListener("mousedown",function(c){var d=p.ui(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=p.ha.d().wj(g,c,d);d=new p.Oe(g.x,g.y);d.sf(p.Z.cb.x,p.Z.cb.y);p.Z.cb.x=g.x;p.Z.cb.y=g.y;g=[];g.push(d);p.ha.d().Yw(g,null)}),a.addEventListener("mouseup",function(c){p.fL(a,c)}),a.addEventListener("mousemove",function(c){var d=p.ui(a),g;null!=
c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=p.ha.d().wj(g,c,d);d=new p.Oe(g.x,g.y);d.sf(p.Z.cb.x,p.Z.cb.y);p.Z.cb.x=g.x;p.Z.cb.y=g.y;g=[];g.push(d);p.ha.d().Zw(g,null)});p.Z.CH=!0}};p.Z.pu=function(a){for(var c=null,d=p.Z.Lz,e=a.mf,f=d.length-1;0<=f;f--)if(d[f].mf==e){c=d[f];break}c||(c=a);return c};
p.Z.yF=function(a){for(var c=!1,d=p.Z.Lz,e=a.mf,f=d.length-1;0<=f;f--)if(d[f].mf==e){d[f]=a;c=!0;break}c||(50>=d.length?d.push(a):(d[p.Z.Mz]=a,p.Z.Mz=(p.Z.Mz+1)%50))};p.Z.HE=function(a){var c,d=p.Z.Lz;c=a.mf;for(a=d.length-1;0<=a;a--)if(d[a].mf==c){c=d.pop();a!=d.length&&(d[a]=c);break}};p.Z.Lz=[];p.Z.Mz=0;p.kC=function(a,c,d){p.O.d().Ae.UL(d,a,c)};p.xT=function(a,c){p.O.d().Ae.TL(a,c)};p.zJ=function(a){p.O.d().Ae.HN(a)};p.QK=1;p.DD=2;p.HX=4;p.UK=8;p.jY=16;p.kY=32;p.lY=64;p.WX=128;p.XX=256;p.YX=512;p.VD=1024;p.RK=2048;p.SK=4096;p.TK=0;p.IX=1;p.ED=2;p.LX=p.ra.extend({AS:function(){return!1},BS:function(){return!1},lg:function(){return!1},ES:function(){return!1},IS:function(){return!1},JS:function(){return!1},KS:function(){return!1},FS:function(){return!1},GS:function(){return!1},HS:function(){return!1},LS:function(){return!1},CS:function(){return!1},DS:function(){return!1}});
p.VK=p.Oe.extend({aG:0,zE:p.TK,s4:function(){return this.aG},hJ:function(a){this.aG=a},m1:function(){return this.zE},oU:function(a){this.zE=a}});p.Fx=p.ra.extend({Jb:null,Te:0,En:0,Vb:function(){return this.Jb},Zg:function(a){this.Jb=a},UQ:function(){return this.Te},is:function(a){this.Te=a},BQ:function(){return this.En},CU:function(a){this.En=a},Bj:function(a,c){this.Jb=a;this.Te=c}});p.Fx.create=function(a,c){var d=new p.Fx;d.Bj(a,c);return d};
p.Ed=p.ra.extend({hj:!1,Yu:!1,nf:null,Vi:!1,q:function(){this.Vi=!0;this.nf=[];this.Yu=this.hj=!1;p.Ed.CN();return!0},Mq:function(a){this.hj=a},JM:function(){return this.hj},zF:function(a){this.Yu=a},AZ:function(){return this.Yu},hG:function(a,c){var d=p.Fx.create(a,c);this.nf=this.Ao(d,this.nf)},Ao:function(a,c){for(var d=0,e=0;e<c.length;e++){var f=c[e];if(f&&(f.Te<a.Te&&++d,f.Vb()==a.Vb()))return p.log("cc.MouseDispatcher.forceAddHandler(): handler has been added."),c}return p.$k(c,a,d)},nI:function(a){if(null!=
a)for(var c=0;c<this.nf.length;c++){var d=this.nf[c];if(d&&d.Vb()==a){p.Ad(this.nf,d);break}}},HM:function(a){for(var c=0;c<this.nf.length;c++)if(this.nf[c]&&this.nf[c].Vb()==a)return this.nf[c];return null},is:function(a,c){if(!c)throw"cc.MouseDispatcher.setPriority(): delegate should be non-null";var d=this.HM(c);d?d.Te!=a&&(d.is(a),this.nf.sort(p.GH)):p.log("cc.MouseDispatcher.setPriority(): Can't find MouseHandler in array")},y7:function(){this.nf.length=0},pm:function(a,c,d){for(c=0;c<this.nf.length;c++){var e=
this.nf[c];switch(d){case p.DD:this.hj||this.Yu||!e.Vb().lg||e.Vb().lg(a)}}}});p.Ed.Tu=p.a(0,0);p.Ed.eN=!1;
p.Ed.CN=function(){var a=p.canvas;function c(c){var e=p.ui(a),f=c.pageX,g=c.pageY,h=p.ha.d(),f=(f-e.left)/h.ka,e=(e.height-(g-e.top))/h.pa,g=new p.VK(f,e);g.sf(p.Ed.Tu.x,p.Ed.Tu.y);g.oU(c.button);p.Ed.Tu.x=f;p.Ed.Tu.y=e;return g}p.Ed.eN||(window.addEventListener("mousedown",function(a){a.button==p.ED?p.O.d().$e().zF(!0):p.O.d().$e().Mq(!0)}),window.addEventListener("mouseup",function(a){a.button==p.ED?p.O.d().$e().zF(!1):p.O.d().$e().Mq(!1)}),a.addEventListener("mousedown",function(a){p.O.d().$e().pm(c(a),
a,p.QK)}),a.addEventListener("mouseup",function(a){p.O.d().$e().pm(c(a),a,p.UK)}),a.addEventListener("mousemove",function(a){p.O.d().$e().pm(c(a),a,p.DD)}),a.addEventListener("mousewheel",function(a){var e=c(a);e.hJ(a.wheelDelta);p.O.d().$e().pm(e,a,p.VD)},!1),a.addEventListener("DOMMouseScroll",function(a){var e=c(a);e.hJ(-120*a.detail);p.O.d().$e().pm(e,a,p.VD)}),a.addEventListener("mouseout",function(a){p.O.d().$e().pm(c(a),a,p.SK)},!1),a.addEventListener("mouseover",function(a){p.O.d().$e().pm(c(a),
a,p.RK)},!1))};p.haa=function(){return{x:0,y:0}};p.Wk=function(a,c){return{x:a,y:c}};p.pg=function(a,c){return p.Wk(a.x+c.x,a.y+c.y)};p.Wc=function(a,c){return p.Wk(a.x-c.x,a.y-c.y)};p.Gf=function(a,c){return p.Wk(a.x*c,a.y*c)};p.dx=function(a){return p.Wk(-a.y,a.x)};p.Fi=function(a){return p.Wk(-a.x,-a.y)};p.YV=function(a,c){return a.x*c.x+a.y*c.y};p.gaa=function(a){return p.Wk(Math.cos(a),Math.sin(a))};p.XC=function(a){a=p.Yg(p.a(a.x,a.y));return p.Wk(a.x,a.y)};p.Wh=function(a){return p.Wk(a.x,a.y)};
p.nb=function(a){return{Ca:a.x,ba:a.y}};
p.kK=p.I.extend({Pa:null,U:null,xr:function(){return this.U},Pk:function(a){this.U=a},ctor:function(){p.I.prototype.ctor.call(this);this.Pa=[];this.U=new p.bl(p.ke,p.je)},Ia:function(a){a=a||p.N;var c=p.ha.d().ka;this.U&&770==this.U.src&&1==this.U.rb&&(a.globalCompositeOperation="lighter");for(var d=0;d<this.Pa.length;d++){var e=this.Pa[d];e.type===p.sg.dE&&(a.fillStyle="rgba("+(0|255*e.color.h)+","+(0|255*e.color.g)+","+(0|255*e.color.f)+","+e.color.D+")",p.xf.fB(e.position,e.iC));e.type===p.sg.fE&&
(a.strokeStyle="rgba("+(0|255*e.color.h)+","+(0|255*e.color.g)+","+(0|255*e.color.f)+","+e.color.D+")",a.lineWidth=2*e.iC*c,a.lineCap="round",p.xf.zh(e.im,e.Uk));e.type===p.sg.eE&&(a.fillStyle="rgba("+(0|255*e.fillColor.h)+","+(0|255*e.fillColor.g)+","+(0|255*e.fillColor.f)+","+e.fillColor.D+")",p.xf.Rd(e.ZC,e.count,!1,!0),a.lineWidth=2*e.borderWidth*c,a.lineCap="round",a.strokeStyle="rgba("+(0|255*e.borderColor.h)+","+(0|255*e.borderColor.g)+","+(0|255*e.borderColor.f)+","+e.borderColor.D+")",p.xf.Rd(e.ZC,
e.count,!0,!1))}},dQ:function(a,c,d){var e=new p.gy(p.sg.dE);e.position=a;e.iC=c;e.color=d;this.Pa.push(e)},hQ:function(a,c,d,e){var f=new p.gy(p.sg.fE);f.im=a;f.Uk=c;f.iC=d;f.color=e;this.Pa.push(f)},Rd:function(a,c,d,e){var f=new p.gy(p.sg.eE);f.ZC=a;f.count=a.length;f.fillColor=c;f.borderWidth=d;f.borderColor=e;this.Pa.push(f)},clear:function(){this.Pa.length=0}});
p.lK=p.I.extend({qn:0,Pa:null,xk:null,OF:null,NF:null,U:null,xa:!1,xr:function(){return this.U},Pk:function(a){this.U=a},ctor:function(){p.I.prototype.ctor.call(this);this.Pa=[];this.U=new p.bl(p.ke,p.je)},q:function(){return p.I.prototype.q.call(this)?(this.ng(p.fh.d().Kh(p.vY)),this.az(512),this.OF=p.N.createBuffer(),this.xa=!0):!1},NN:function(){var a=p.N;p.Zd(p.It);a.bindBuffer(a.ARRAY_BUFFER,this.OF);this.xa&&(a.bufferData(a.ARRAY_BUFFER,this.xk,a.STREAM_DRAW),this.xa=!1);var c=p.Hb.BYTES_PER_ELEMENT;
a.vertexAttribPointer(p.ne,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(p.Bp,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(p.Cp,2,a.FLOAT,!1,c,12);a.drawArrays(a.TRIANGLES,0,3*this.Pa.length);p.dh()},az:function(a){if(this.Pa.length+a>this.qn){var c=p.qc.BYTES_PER_ELEMENT;this.qn+=Math.max(this.qn,a);if(null==this.Pa||0===this.Pa.length)this.Pa=[],this.xk=new ArrayBuffer(c*this.qn),this.NF=new Uint8Array(this.xk);else{a=[];for(var d=new ArrayBuffer(c*this.qn),e=0;e<this.Pa.length;e++)a[e]=new p.qc(this.Pa[e].D,
this.Pa[e].f,this.Pa[e].qa,d,e*c);this.NF=new Uint8Array(d);this.Pa=a;this.xk=d}}},Ia:function(){p.Aj(this.U.src,this.U.rb);this.uc.Me();this.uc.dJ();this.NN()},dQ:function(a,c,d){d={h:0|255*d.h,g:0|255*d.g,f:0|255*d.f,D:0|255*d.D};var e={n:{x:a.x-c,y:a.y-c},F:d,t:{Ca:-1,ba:-1}},f={n:{x:a.x+c,y:a.y+c},F:d,t:{Ca:1,ba:1}},g={n:{x:a.x+c,y:a.y-c},F:d,t:{Ca:1,ba:-1}};this.Pa.push(new p.qc(e,{n:{x:a.x-c,y:a.y+c},F:d,t:{Ca:-1,ba:1}},f,this.xk,this.Pa.length*p.qc.BYTES_PER_ELEMENT));this.Pa.push(new p.qc(e,
f,g,this.xk,this.Pa.length*p.qc.BYTES_PER_ELEMENT));this.xa=!0},hQ:function(a,c,d,e){this.az(18);e={h:0|255*e.h,g:0|255*e.g,f:0|255*e.f,D:0|255*e.D};var f=p.Wh(a);c=p.Wh(c);a=p.XC(p.dx(p.Wc(c,f)));var g=p.dx(a),h=p.Gf(a,d);d=p.Gf(g,d);var k=p.pg(c,p.Wc(h,d)),l=p.Wc(c,h),m=p.pg(c,h),n=p.Wc(f,h),s=p.pg(f,h),q=p.Wc(f,p.Wc(h,d)),f=p.pg(f,p.pg(h,d)),v=p.qc.BYTES_PER_ELEMENT,z=this.xk;this.Pa.push(new p.qc({n:p.Wc(c,p.pg(h,d)),F:e,t:p.nb(p.Fi(p.pg(a,g)))},{n:k,F:e,t:p.nb(p.Wc(a,g))},{n:l,F:e,t:p.nb(p.Fi(a))},
z,this.Pa.length*v));this.Pa.push(new p.qc({n:m,F:e,t:p.nb(a)},{n:k,F:e,t:p.nb(p.Wc(a,g))},{n:l,F:e,t:p.nb(p.Fi(a))},z,this.Pa.length*v));this.Pa.push(new p.qc({n:m,F:e,t:p.nb(a)},{n:n,F:e,t:p.nb(p.Fi(a))},{n:l,F:e,t:p.nb(p.Fi(a))},z,this.Pa.length*v));this.Pa.push(new p.qc({n:m,F:e,t:p.nb(a)},{n:n,F:e,t:p.nb(p.Fi(a))},{n:s,F:e,t:p.nb(a)},z,this.Pa.length*v));this.Pa.push(new p.qc({n:q,F:e,t:p.nb(p.Wc(g,a))},{n:n,F:e,t:p.nb(p.Fi(a))},{n:s,F:e,t:p.nb(a)},z,this.Pa.length*v));this.Pa.push(new p.qc({n:q,
F:e,t:p.nb(p.Wc(g,a))},{n:f,F:e,t:p.nb(p.pg(a,g))},{n:s,F:e,t:p.nb(a)},z,this.Pa.length*v));this.xa=!0},Rd:function(a,c,d,e){c={h:0|255*c.h,g:0|255*c.g,f:0|255*c.f,D:0|255*c.D};e={h:0|255*e.h,g:0|255*e.g,f:0|255*e.f,D:0|255*e.D};var f=[],g,h,k,l,m=a.length;for(g=0;g<m;g++){h=p.Wh(a[(g-1+m)%m]);k=p.Wh(a[g]);l=p.Wh(a[(g+1)%m]);var n=p.XC(p.dx(p.Wc(k,h)));k=p.XC(p.dx(p.Wc(l,k)));f[g]={offset:p.Gf(p.pg(n,k),1/(p.YV(n,k)+1)),NH:k}}n=0<d;this.az(3*(3*m-2));var s=p.qc.BYTES_PER_ELEMENT,q=this.xk,v=this.Pa,
z=!1==n?0.5:0;for(g=0;g<m-2;g++)h=p.Wc(p.Wh(a[0]),p.Gf(f[0].offset,z)),k=p.Wc(p.Wh(a[g+1]),p.Gf(f[g+1].offset,z)),l=p.Wc(p.Wh(a[g+2]),p.Gf(f[g+2].offset,z)),v.push(new p.qc({n:h,F:c,t:p.nb({x:0,y:0})},{n:k,F:c,t:p.nb({x:0,y:0})},{n:l,F:c,t:p.nb({x:0,y:0})},q,v.length*s));for(g=0;g<m;g++){z=(g+1)%m;h=p.Wh(a[g]);k=p.Wh(a[z]);l=f[g].NH;var D=f[g].offset,F=f[z].offset,z=n?p.Wc(h,p.Gf(D,d)):p.Wc(h,p.Gf(D,0.5)),L=n?p.Wc(k,p.Gf(F,d)):p.Wc(k,p.Gf(F,0.5));h=n?p.pg(h,p.Gf(D,d)):p.pg(h,p.Gf(D,0.5));k=n?p.pg(k,
p.Gf(F,d)):p.pg(k,p.Gf(F,0.5));n?(v.push(new p.qc({n:z,F:e,t:p.nb(p.Fi(l))},{n:L,F:e,t:p.nb(p.Fi(l))},{n:k,F:e,t:p.nb(l)},q,v.length*s)),v.push(new p.qc({n:z,F:e,t:p.nb(p.Fi(l))},{n:h,F:e,t:p.nb(l)},{n:k,F:e,t:p.nb(l)},q,v.length*s))):(v.push(new p.qc({n:z,F:c,t:p.nb({x:0,y:0})},{n:L,F:c,t:p.nb({x:0,y:0})},{n:k,F:c,t:p.nb(l)},q,v.length*s)),v.push(new p.qc({n:z,F:c,t:p.nb({x:0,y:0})},{n:h,F:c,t:p.nb(l)},{n:k,F:c,t:p.nb(l)},q,v.length*s)))}this.xa=!0},clear:function(){this.Pa.length=0;this.xa=!0}});
p.sg=p.ta.Ac?p.lK:p.kK;p.sg.create=function(){var a=new p.sg;return a&&a.q()?a:null};p.gy=function(a){this.type=a};p.sg.dE=0;p.sg.fE=1;p.sg.eE=2;p.ns=-1;p.SI=function(a,c){a.ng(c);var d=a.p;if(d)for(var e=0;e<d.length;e++)p.SI(d[e],c)};
p.Za=p.I.extend({ac:null,ll:0,ii:!1,QE:!1,ctor:function(){p.I.prototype.ctor.call(this);this.ac=null;this.ll=0;this.ii=!1},q:null,qz:function(a){this.ac=a;this.ll=1;this.ii=!1;p.Za.tz=!0;p.Za.tz&&(p.ns=p.N.getParameter(p.N.STENCIL_BITS),0>=p.ns&&p.log("Stencil buffer is not enabled."),p.Za.tz=!1);return!0},pz:function(a){this.ac=a;this.ll=1;this.ii=!1},jg:function(){p.I.prototype.jg.call(this);this.ac.jg()},Ih:function(){p.I.prototype.Ih.call(this);this.ac.Ih()},Xg:function(){this.ac.Xg();p.I.prototype.Xg.call(this)},
vd:function(){this.ac.vd();p.I.prototype.vd.call(this)},ga:null,Yl:function(a){var c=a||p.N;if(1>p.ns)p.I.prototype.ga.call(this,a);else if(this.ac&&this.ac.va)if(p.Za.wq=-1,p.Za.wq+1==p.ns)p.Za.JA=!0,p.Za.JA&&(p.log("Nesting more than "+p.ns+"stencils is not supported. Everything will be drawn without stencil for this node and its childs."),p.Za.JA=!1),p.I.prototype.ga.call(this,a);else{p.Za.wq++;var d=1<<p.Za.wq,e=d|d-1,f=c.isEnabled(c.STENCIL_TEST),g=c.getParameter(c.STENCIL_WRITEMASK),h=c.getParameter(c.STENCIL_FUNC),
k=c.getParameter(c.STENCIL_REF),l=c.getParameter(c.STENCIL_VALUE_MASK),m=c.getParameter(c.STENCIL_FAIL),n=c.getParameter(c.STENCIL_PASS_DEPTH_FAIL),s=c.getParameter(c.STENCIL_PASS_DEPTH_PASS);c.enable(c.STENCIL_TEST);c.stencilMask(d);var q=c.getParameter(c.DEPTH_WRITEMASK);c.depthMask(!1);c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.ii?c.REPLACE:c.ZERO,c.KEEP,c.KEEP);p.xf.gB(p.Li(),p.PS(),p.Fv(1,1,1,1));c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.ii?c.ZERO:c.REPLACE,c.KEEP,c.KEEP);if(1>this.ll){var d=
p.fh.d().Kh(p.xY),v=c.getUniformLocation(d.Wv(),p.SY);p.z4(d.Wv());d.cJ(v,this.ll);p.SI(this.ac,d)}p.Po();this.transform();this.ac.ga();p.Oo();c.depthMask(q);c.stencilFunc(c.EQUAL,e,e);c.stencilOp(c.KEEP,c.KEEP,c.KEEP);p.I.prototype.ga.call(this,a);c.stencilFunc(h,k,l);c.stencilOp(m,n,s);c.stencilMask(g);f||c.disable(c.STENCIL_TEST);p.Za.wq--}else this.ii&&p.I.prototype.ga.call(this,a)},Xl:function(a){if(this.ac&&this.ac.va){if(this.Ay()||this.ac instanceof p.A){a=a||p.N;var c=a.canvas,d=p.Za.MM();
d.width=c.width;d.height=c.height;d.getContext("2d").drawImage(c,0,0);a.save();this._super(a);a.globalCompositeOperation=this.ii?"destination-out":"destination-in";this.transform(a);this.ac.ga();a.restore();a.save();a.setTransform(1,0,0,1,0,0);a.globalCompositeOperation="destination-over";a.drawImage(d,0,0)}else{a=a||p.N;var d=this.p,e;a.save();this.transform(a);this.ac.ga(a);a.clip();this.Ay(!0);var f=d.length;if(0<f){this.xd();for(c=0;c<f;c++)if(e=d[c],0>e.Qa)e.ga(a);else break;for(this.Ia(a);c<
f;c++)d[c].ga(a)}else this.Ia(a);this.Ay(!1)}a.restore()}else this.ii&&p.I.prototype.ga.call(this,a)},Q3:function(){return this.ac},EC:null,rO:function(a){this.ac=a},qO:function(a){this.ac=a;var c=p.ha.d().ka,d=p.ha.d().pa,e=p.N;!(a instanceof p.A)&&a instanceof p.sg&&(a.Ia=function(){for(var f=0;f<a.Pa.length;f++){var g=a.Pa[f].ZC,h=g[0];e.beginPath();e.moveTo(h.x*c,-h.y*d);for(var h=1,k=g.length;h<k;h++)e.lineTo(g[h].x*c,-g[h].y*d)}})},$0:function(){return this.ll},c8:function(a){this.ll=a},l5:function(){return this.ii},
Q8:function(a){this.ii=a},Ay:function(a){if(!0===a||!1===a)p.Za.prototype.QE=a;return p.Za.prototype.QE}});p.ta.Ac?(p.Za.prototype.q=p.Za.prototype.qz,p.Za.prototype.ga=p.Za.prototype.Yl,p.Za.prototype.EC=p.Za.prototype.rO):(p.Za.prototype.q=p.Za.prototype.pz,p.Za.prototype.ga=p.Za.prototype.Xl,p.Za.prototype.EC=p.Za.prototype.qO);p.Za.tz=null;p.Za.JA=null;p.Za.wq=null;p.Za.FF=null;p.Za.MM=function(){return p.Za.FF||(p.Za.FF=document.createElement("canvas"))};
p.Za.create=function(a){var c=new p.Za;c.q(a);return c};p.tX=0;p.uX=1;p.vX=2;p.Ym=function(a){a-=1;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;return(a|a>>16)+1};
p.lb=p.I.extend({rn:null,sn:null,lu:0,Yp:0,Pu:0,sa:null,$q:null,IO:null,qf:p.Ni,$a:null,Zt:0,Ti:null,Gy:0,Hy:0,Jp:!1,Fy:null,ctor:null,hh:function(){p.I.prototype.ctor.call(this);this.Ti=p.Fv(1,1,1,1);this.Fy="rgba(255,255,255,1)";this.rn=document.createElement("canvas");this.sn=this.rn.getContext("2d");this.ma(0,0)},ih:function(){p.I.prototype.ctor.call(this);this.Ti=p.Fv(0,0,0,0)},wf:null,lM:function(){p.I.prototype.vd.call(this);this.rn=this.sn=null},mM:function(){p.I.prototype.vd.call(this);this.$q=
null;var a=p.N;a.deleteFramebuffer(this.lu);this.Yp&&a.deleteRenderbuffer(this.Yp);this.IO=null},cR:function(){return this.$a},js:function(a){this.$a=a},MB:null,XM:function(a,c){var d=this.rn,e=p.jd();d.width=0|a*e;d.height=0|c*e;this.sn.translate(0,d.height);e=new p.Ob;e.bf(d);e.de();this.$a=p.A.qd(e);return!0},YM:function(a,c,d,e){d==p.wp&&p.log("cc.RenderTexture._initWithWidthAndHeightForWebGL() : only RGB and RGBA formats are valid for a render texture;");var f=p.N,g=p.jd();a=0|a*g;c=0|c*g;this.Pu=
f.getParameter(f.FRAMEBUFFER_BINDING);var h;p.le.d().Xq?(g=a,h=c):(g=p.Ym(a),h=p.Ym(c));for(var k=new Uint8Array(g*h*4),l=0;l<g*h*4;l++)k[l]=0;this.qf=d;this.sa=new p.Ob;if(!this.sa)return!1;l=this.sa;l.bw(k,this.qf,g,h,p.size(a,c));d=f.getParameter(f.RENDERBUFFER_BINDING);if(p.le.d().uo("GL_QCOM")){this.$q=new p.Ob;if(!this.$q)return!1;this.$q.bw(k,this.qf,g,h,p.size(a,c))}this.lu=f.createFramebuffer();f.bindFramebuffer(f.FRAMEBUFFER,this.lu);f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,
f.TEXTURE_2D,l.xh,0);0!=e&&(this.Yp=f.createRenderbuffer(),f.bindRenderbuffer(f.RENDERBUFFER,this.Yp),f.renderbufferStorage(f.RENDERBUFFER,e,g,h),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,this.Yp));f.checkFramebufferStatus(f.FRAMEBUFFER)!==f.FRAMEBUFFER_COMPLETE&&p.log("Could not attach texture to the framebuffer");l.xI();a=this.$a=p.A.qd(l);a.Im(-1);a.Pk(f.ONE,f.ONE_MINUS_SRC_ALPHA);f.bindRenderbuffer(f.RENDERBUFFER,d);f.bindFramebuffer(f.FRAMEBUFFER,this.Pu);this.Jp=
!1;this.s(a);return!0},tj:null,bM:function(){p.N=this.sn;p.ha.d().nO()},cM:function(){p.mm(p.ht);p.Po();p.mm(p.gt);p.Po();var a=p.O.d();a.Jw(a.qk);var c=this.sa.ja,d=p.O.d().jR(),a=d.width/c.width,d=d.height/c.height,e=p.N;e.viewport(0,0,c.width,c.height);c=new p.Vg;p.kS(c,-1/a,1/a,-1/d,1/d,-1,1);p.hw(c);this.Pu=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,this.lu);p.le.d().uo("GL_QCOM")&&(e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.$q.xh,0),
e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.sa.xh,0))},TA:function(a,c,d,e,f,g){var h=p.N;f=f||h.COLOR_BUFFER_BIT;g=g||h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT;this.xy(a,c,d,e,f,g,h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT|h.STENCIL_BUFFER_BIT)},xy:null,dM:function(a,c,d,e){this.tj();a=a||0;c=c||0;d=d||0;e=isNaN(e)?1:e;var f=this.sn,g=this.rn;f.save();f.fillStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+")";f.clearRect(0,
0,g.width,-g.height);f.fillRect(0,0,g.width,-g.height);f.restore()},eM:function(a,c,d,e,f,g,h){this.tj();var k=p.N,l=[0,0,0,0],m=0,n=0;h&k.COLOR_BUFFER_BIT&&(l=k.getParameter(k.COLOR_CLEAR_VALUE),k.clearColor(a,c,d,e));h&k.DEPTH_BUFFER_BIT&&(m=k.getParameter(k.DEPTH_CLEAR_VALUE),k.clearDepth(f));h&k.STENCIL_BUFFER_BIT&&(n=k.getParameter(k.STENCIL_CLEAR_VALUE),k.clearStencil(g));k.clear(h);h&k.COLOR_BUFFER_BIT&&k.clearColor(l[0],l[1],l[2],l[3]);h&k.DEPTH_BUFFER_BIT&&k.clearDepth(m);h&k.STENCIL_BUFFER_BIT&&
k.clearStencil(n)},end:null,FM:function(){p.N=p.qS;p.ha.d().QN()},GM:function(){var a=p.N,c=p.O.d();a.bindFramebuffer(a.FRAMEBUFFER,this.Pu);c.gJ();p.mm(p.ht);p.Oo();p.mm(p.gt);p.Oo()},clear:function(a,c,d,e){this.TA(a,c,d,e);this.end()},clearRect:null,qM:function(a,c,d,e){this.sn.clearRect(a,c,d,-e)},rM:function(){},clearDepth:null,oM:function(){p.log("clearDepth isn't supported on Cocos2d-Html5")},pM:function(a){this.tj();var c=p.N,d=c.getParameter(c.DEPTH_CLEAR_VALUE);c.clearDepth(a);c.clear(c.DEPTH_BUFFER_BIT);
c.clearDepth(d);this.end()},clearStencil:null,sM:function(){p.log("clearDepth isn't supported on Cocos2d-Html5")},tM:function(a){var c=p.N,d=c.getParameter(c.STENCIL_CLEAR_VALUE);c.clearStencil(a);c.clear(c.STENCIL_BUFFER_BIT);c.clearStencil(d)},ga:null,Xl:function(a){this.va&&(a=a||p.N,a.save(),this.Ia(a),this.transform(a),this.$a.ga(),a.restore(),this.pf=0)},Yl:function(a){if(this.va){p.Po();var c=this.ek;c&&c.Lo()&&(c.SA(),this.$w());this.transform(a);this.$a.ga();this.Ia(a);c&&c.Lo()&&c.OA(this);
p.Oo();this.pf=0}},Ia:null,sl:function(a){a=a||p.N;if(this.Jp){this.tj();if(this.Zt){var c=this.rn;a.save();a.fillStyle=this.Fy;a.clearRect(0,0,c.width,-c.height);a.fillRect(0,0,c.width,-c.height);a.restore()}this.xd();a=this.p;for(var c=a.length,d=this.$a,e=0;e<c;e++){var f=a[e];f!=d&&f.ga()}this.end()}},Qf:function(){var a=p.N;if(this.Jp){this.tj();var c=this.Zt;if(c){var d=[0,0,0,0],e=0,f=0;c&a.COLOR_BUFFER_BIT&&(d=a.getParameter(a.COLOR_CLEAR_VALUE),a.clearColor(this.Ti.h,this.Ti.g,this.Ti.f,
this.Ti.D));c&a.DEPTH_BUFFER_BIT&&(e=a.getParameter(a.DEPTH_CLEAR_VALUE),a.clearDepth(this.Gy));c&a.STENCIL_BUFFER_BIT&&(f=a.getParameter(a.STENCIL_CLEAR_VALUE),a.clearStencil(this.Hy));a.clear(c);c&a.COLOR_BUFFER_BIT&&a.clearColor(d[0],d[1],d[2],d[3]);c&a.DEPTH_BUFFER_BIT&&a.clearDepth(e);c&a.STENCIL_BUFFER_BIT&&a.clearStencil(f)}this.xd();a=this.p;for(c=0;c<a.length;c++)d=a[c],d!=this.$a&&d.ga();this.end()}},OH:null,oN:function(){p.log("saveToFile isn't supported on Cocos2d-Html5");return null},
pN:function(){p.log("saveToFile isn't supported on Cocos2d-Html5");p.Bs(this.qf==p.Ni,"only RGBA8888 can be saved as image");if(!this.sa)return null;var a=this.sa.ja,c=a.width,a=a.height,d=new p.xK,e=p.N,f=new Uint8Array(c*a*4);if(!f)return d;var g=new Uint8Array(c*a*4);if(!g)return null;this.tj();e.pixelStorei(e.PACK_ALIGNMENT,1);e.readPixels(0,0,c,a,e.RGBA,e.UNSIGNED_BYTE,g);this.end();for(e=0;e<a;++e)this.mN(f,e*c*4,g,(a-e-1)*c*4,4*c);d.N4(f,c*a*4,p.nX,c,a,8);return d},mN:function(a,c,d,e,f){for(var g=
0;g<f;g++)a[c+g]=d[e+g]},V7:function(){p.log("saveToFile isn't supported on Cocos2d-Html5")},V5:function(){p.log("listenToBackground isn't supported on Cocos2d-Html5")},W5:function(){p.log("listenToForeground isn't supported on Cocos2d-Html5")},x1:function(){return this.Zt},l8:function(a){this.Zt=a},v1:function(){return this.Ti},DI:null,YN:function(a){var c=this.Ti;c.h=a.h;c.g=a.g;c.f=a.f;c.D=a.D;this.Fy="rgba("+(0|255*a.h)+","+(0|255*a.g)+","+(0|255*a.f)+","+a.D+")"},ZN:function(a){var c=this.Ti;
c.h=a.h;c.g=a.g;c.f=a.f;c.D=a.D},w1:function(){return this.Gy},k8:function(a){this.Gy=a},y1:function(){return this.Hy},m8:function(a){this.Hy=a},X4:function(){return this.Jp},e8:function(a){this.Jp=a}});
p.ta.Ac?(b=p.lb.prototype,b.ctor=p.lb.prototype.ih,b.wf=p.lb.prototype.mM,b.MB=p.lb.prototype.YM,b.tj=p.lb.prototype.cM,b.xy=p.lb.prototype.eM,b.end=p.lb.prototype.GM,b.clearRect=p.lb.prototype.rM,b.clearDepth=p.lb.prototype.pM,b.clearStencil=p.lb.prototype.tM,b.ga=p.lb.prototype.Yl,b.Ia=p.lb.prototype.Qf,b.OH=p.lb.prototype.pN,b.DI=p.lb.prototype.ZN):(b=p.lb.prototype,b.ctor=p.lb.prototype.hh,b.wf=p.lb.prototype.lM,b.MB=p.lb.prototype.XM,b.tj=p.lb.prototype.bM,b.xy=p.lb.prototype.dM,b.end=p.lb.prototype.FM,
b.clearRect=p.lb.prototype.qM,b.clearDepth=p.lb.prototype.oM,b.clearStencil=p.lb.prototype.sM,b.ga=p.lb.prototype.Xl,b.Ia=p.lb.prototype.sl,b.OH=p.lb.prototype.oN,b.DI=p.lb.prototype.YN);p.lb.create=function(a,c,d,e){d=d||p.Ni;e=e||0;var f=new p.lb;return f&&f.MB(a,c,d,e)?f:null};p.Sm=-1;
p.hd=p.ra.extend({Dl:null,L:null,Uc:p.Sm,ctor:function(){this.L=this.Dl=null;this.Uc=p.Sm},description:function(){return"\x3ccc.Action | Tag \x3d "+this.Uc+"\x3e"},copy:function(){return p.B(this)},B:function(){var a=new p.hd;a.Dl=null;a.L=null;a.Uc=this.Uc;return a},Fh:function(){return!0},Q:function(a){this.L=this.Dl=a},stop:function(){this.L=null},step:function(){p.log("[Action step]. override me")},update:function(){p.log("[Action update]. override me")},fR:function(){return this.L},Q9:function(a){this.L=a},
Y2:function(){return this.Dl},l9:function(a){this.Dl=a},eR:function(){return this.Uc},$I:function(a){this.Uc=a},sI:function(){},lC:function(){}});p.hd.create=function(){return new p.hd};p.Ki=p.hd.extend({na:0,ctor:function(){p.hd.prototype.ctor.call(this);this.na=0},Ze:function(){return this.na},y8:function(a){this.na=a},reverse:function(){p.log("cocos2d: FiniteTimeAction#reverse: Implement me");return null},B:function(){return new p.Ki}});
p.yt=p.hd.extend({Ml:0,ob:null,ctor:function(){p.hd.prototype.ctor.call(this);this.Ml=0;this.ob=null},J3:function(){return this.Ml},J9:function(a){this.Ml=a},ca:function(a,c){if(!a)throw"cc.Speed.initWithAction(): action must be non nil";this.ob=a;this.Ml=c;return!0},B:function(){var a=new p.yt;a.ca(this.ob.B(),this.Ml);return a},Q:function(a){p.hd.prototype.Q.call(this,a);this.ob.Q(a)},stop:function(){this.ob.stop();p.hd.prototype.stop.call(this)},step:function(a){this.ob.step(a*this.Ml)},Fh:function(){return this.ob.Fh()},
reverse:function(){return p.yt.create(this.ob.reverse(),this.Ml)},MI:function(a){this.ob!=a&&(this.ob=a)},nB:function(){return this.ob}});p.yt.create=function(a,c){var d=new p.yt;return d&&d.ca(a,c)?d:null};
p.yx=p.hd.extend({In:null,nn:!1,Ut:!1,ru:null,mq:null,nm:0,Em:0,Nm:0,em:0,LA:null,ctor:function(){p.hd.prototype.ctor.call(this);this.In=null;this.Ut=this.nn=!1;this.mq=this.ru=null;this.em=this.Nm=this.Em=this.nm=0;this.LA=p.Nc()},B:function(){var a=new p.yx,c=this.LA,c=new p.Kf(c.x,c.y,c.width,c.height);a.eg(this.In,c);return a},Z4:function(){return this.nn},g8:function(a){this.nn=a},eg:function(a,c){if(!a)throw"cc.Follow.initWithAction(): followedNode must be non nil";c=c||p.Nc();this.In=a;this.LA=
c;this.nn=!p.Iq(c);this.Ut=!1;var d=p.O.d().Cb;this.mq=p.a(d.width,d.height);this.ru=p.Bi(this.mq,0.5);this.nn&&(this.nm=-(c.x+c.width-this.mq.x),this.Em=-c.x,this.Nm=-c.y,this.em=-(c.y+c.height-this.mq.y),this.Em<this.nm&&(this.Em=this.nm=(this.nm+this.Em)/2),this.Nm<this.em&&(this.Nm=this.em=(this.Nm+this.em)/2),this.Nm==this.em&&this.nm==this.Em&&(this.Ut=!0));return!0},step:function(){var a=this.In.o.C,c=this.In.o.G,a=this.ru.x-a,c=this.ru.y-c;this.nn?this.Ut||this.L.w(p.pr(a,this.nm,this.Em),
p.pr(c,this.em,this.Nm)):this.L.w(a,c)},Fh:function(){return!this.In.ve},stop:function(){this.L=null;p.hd.prototype.stop.call(this)}});p.yx.create=function(a,c){c=c||new p.Nc;var d=new p.yx;return null!=c&&d&&d.eg(a,c)||d&&d.eg(a)?d:null};p.K=p.Ki.extend({Tb:0,lq:!1,ctor:function(){p.Ki.prototype.ctor.call(this);this.Tb=0;this.lq=!1},O1:function(){return this.Tb},H:function(a){this.na=0===a?p.at:a;this.Tb=0;return this.lq=!0},Fh:function(){return this.Tb>=this.na},B:function(){var a=new p.K;a.H(this.na);return a},step:function(a){this.lq?(this.lq=!1,this.Tb=0):this.Tb+=a;a=this.Tb/(1.192092896E-7<this.na?this.na:1.192092896E-7);a=1>a?a:1;this.update(0<a?a:0)},Q:function(a){p.hd.prototype.Q.call(this,a);this.Tb=0;this.lq=!0},reverse:function(){p.log("cc.IntervalAction: reverse not implemented.");
return null},d8:function(){p.log("cc.ActionInterval.setAmplitudeRate(): it should be overridden in subclass.")},a1:function(){p.log("cc.ActionInterval.getAmplitudeRate(): it should be overridden in subclass.")}});p.K.create=function(a){var c=new p.K;c.H(a);return c};
p.Mi=p.K.extend({Xh:null,jA:null,Sn:0,ctor:function(){p.K.prototype.ctor.call(this);this.Xh=[];this.jA=null;this.Sn=0},Kr:function(a,c){if(!a||!c)throw"cc.Sequence.initWithTwoActions(): arguments must all be non nil";this.H(a.Ze()+c.Ze());this.Xh[0]=a;this.Xh[1]=c;return!0},B:function(){var a=new p.Mi;a.Kr(this.Xh[0].B(),this.Xh[1].B());return a},Q:function(a){p.K.prototype.Q.call(this,a);this.jA=this.Xh[0].Ze()/this.na;this.Sn=-1},stop:function(){-1!==this.Sn&&this.Xh[this.Sn].stop();p.hd.prototype.stop.call(this)},
update:function(a){var c=0,d=this.jA,e=this.Xh,f=this.Sn;a<d?(a=0!==d?a/d:1,0===c&&1===f&&(e[1].update(0),e[1].stop())):(c=1,a=1===d?1:(a-d)/(1-d),-1===f&&(e[0].Q(this.L),e[0].update(1),e[0].stop()),f||(e[0].update(1),e[0].stop()));f===c&&e[c].Fh()||(f!==c&&e[c].Q(this.L),e[c].update(a),this.Sn=c)},reverse:function(){return p.Mi.jl(this.Xh[1].reverse(),this.Xh[0].reverse())},copy:function(){return this.B()}});
p.Mi.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&p.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)c[e]&&(d=p.Mi.jl(d,c[e]));return d};p.Mi.jl=function(a,c){var d=new p.Mi;d.Kr(a,c);return d};
p.ot=p.K.extend({tf:0,nj:0,Mu:0,rE:!1,ob:null,ctor:function(){p.K.prototype.ctor.call(this);this.Mu=this.nj=this.tf=0;this.rE=!1;this.ob=null},ca:function(a,c){return this.H(a.Ze()*c)?(this.tf=c,this.ob=a,a instanceof p.Ph&&(this.tf-=1),this.nj=0,!0):!1},B:function(){var a=new p.ot;a.ca(this.ob.B(),this.tf);return a},Q:function(a){this.nj=0;this.Mu=this.ob.Ze()/this.na;p.K.prototype.Q.call(this,a);this.ob.Q(a)},stop:function(){this.ob.stop();p.hd.prototype.stop.call(this)},update:function(a){var c=
this.ob,d=this.na,e=this.tf,f=this.Mu;if(a>=f){for(;a>f&&this.nj<e;)c.update(1),this.nj++,c.stop(),c.Q(this.L),this.Mu=f+=c.Ze()/d;1<=a&&this.nj<e&&this.nj++;this.rE&&(this.nj==e?(c.update(1),c.stop()):c.update(a-(f-c.Ze()/d)))}else c.update(a*e%1)},Fh:function(){return this.nj==this.tf},reverse:function(){return p.ot.create(this.ob.reverse(),this.tf)},MI:function(a){this.ob!=a&&(this.ob=a)},nB:function(){return this.ob}});p.ot.create=function(a,c){var d=new p.ot;d.ca(a,c);return d};
p.pt=p.K.extend({ob:null,ctor:function(){p.K.prototype.ctor.call(this);this.ob=null},ca:function(a){if(!a)throw"cc.RepeatForever.initWithAction(): action must be non null";this.ob=a;return!0},B:function(){var a=new p.pt;a.ca(this.ob.B());return a},Q:function(a){p.K.prototype.Q.call(this,a);this.ob.Q(a)},step:function(a){var c=this.ob;c.step(a);c.Fh()&&(c.Q(this.L),c.step(c.Tb-c.Ze()))},Fh:function(){return!1},reverse:function(){return p.pt.create(this.ob.reverse())},MI:function(a){this.ob!=a&&(this.ob=
a)},nB:function(){return this.ob}});p.pt.create=function(a){var c=new p.pt;return c&&c.ca(a)?c:null};
p.vp=p.K.extend({ij:null,rj:null,ctor:function(){p.K.prototype.ctor.call(this);this.rj=this.ij=null},Kr:function(a,c){if(!a||!c)throw"cc.Spawn.initWithTwoActions(): arguments must all be non null";var d=!1,e=a.Ze(),f=c.Ze();this.H(Math.max(e,f))&&(this.ij=a,this.rj=c,e>f?this.rj=p.Mi.jl(c,p.Um.create(e-f)):e<f&&(this.ij=p.Mi.jl(a,p.Um.create(f-e))),d=!0);return d},B:function(){var a=new p.vp;a.Kr(this.ij.B(),this.rj.B());return a},Q:function(a){p.K.prototype.Q.call(this,a);this.ij.Q(a);this.rj.Q(a)},
stop:function(){this.ij.stop();this.rj.stop();p.hd.prototype.stop.call(this)},update:function(a){this.ij&&this.ij.update(a);this.rj&&this.rj.update(a)},reverse:function(){return p.vp.jl(this.ij.reverse(),this.rj.reverse())}});p.vp.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&p.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)null!=c[e]&&(d=this.jl(d,c[e]));return d};
p.vp.jl=function(a,c){var d=new p.vp;d.Kr(a,c);return d};
p.Px=p.K.extend({aq:0,Nl:0,Sy:0,ju:0,tk:0,Ty:0,ctor:function(){p.K.prototype.ctor.call(this);this.Ty=this.tk=this.ju=this.Sy=this.Nl=this.aq=0},H:function(a,c,d){return p.K.prototype.H.call(this,a)?(this.aq=c||0,this.ju=d||this.aq,!0):!1},B:function(){var a=new p.Px;a.H(this.na,this.aq,this.ju);return a},Q:function(a){p.K.prototype.Q.call(this,a);var c=a.Wf%360,d=this.aq-c;180<d&&(d-=360);-180>d&&(d+=360);this.Nl=c;this.Sy=d;this.tk=a.ph%360;a=this.ju-this.tk;180<a&&(a-=360);-180>a&&(a+=360);this.Ty=
a},reverse:function(){p.log("cc.RotateTo.reverse(): it should be overridden in subclass.")},update:function(a){this.L&&(this.L.Mw(this.Nl+this.Sy*a),this.L.Nw(this.tk+this.Ty*a))}});p.Px.create=function(a,c,d){var e=new p.Px;e.H(a,c,d);return e};
p.rt=p.K.extend({Mf:0,Nl:0,Ip:0,tk:0,ctor:function(){p.K.prototype.ctor.call(this);this.tk=this.Ip=this.Nl=this.Mf=0},H:function(a,c,d){return p.K.prototype.H.call(this,a)?(this.Mf=c||0,this.Ip=d||this.Mf,!0):!1},B:function(){var a=new p.rt;a.H(this.na,this.Mf,this.Ip);return a},Q:function(a){p.K.prototype.Q.call(this,a);this.Nl=a.Wf;this.tk=a.ph},update:function(a){this.L&&(this.L.Mw(this.Nl+this.Mf*a),this.L.Nw(this.tk+this.Ip*a))},reverse:function(){return p.rt.create(this.na,-this.Mf,-this.Ip)}});
p.rt.create=function(a,c,d){var e=new p.rt;e.H(a,c,d);return e};
p.Oj=p.K.extend({pi:null,Cc:null,Bc:null,ctor:function(){p.K.prototype.ctor.call(this);this.pi=p.a(0,0);this.Cc=p.a(0,0);this.Bc=p.a(0,0)},H:function(a,c){return p.K.prototype.H.call(this,a)?(this.pi.x=c.x,this.pi.y=c.y,!0):!1},B:function(){var a=new p.Oj;a.H(this.na,this.pi);return a},Q:function(a){p.K.prototype.Q.call(this,a);var c=a.o.C;a=a.o.G;this.Bc.x=c;this.Bc.y=a;this.Cc.x=c;this.Cc.y=a},update:function(a){if(this.L){var c=this.pi.x*a;a*=this.pi.y;var d=this.Cc;if(p.Fs){var e=this.L.o.G,f=
this.Bc;d.x=d.x+this.L.o.C-f.x;d.y=d.y+e-f.y;c+=d.x;a+=d.y;this.L.w(c,a);f.x=c;f.y=a}else this.L.w(d.x+c,d.y+a)}},reverse:function(){return p.Oj.create(this.na,p.a(-this.pi.x,-this.pi.y))}});p.Oj.create=function(a,c){var d=new p.Oj;d.H(a,c);return d};
p.jt=p.Oj.extend({Hn:null,ctor:function(){p.Oj.prototype.ctor.call(this);this.Hn=p.a(0,0)},H:function(a,c){return p.Oj.prototype.H.call(this,a,c)?(this.Hn.x=c.x,this.Hn.y=c.y,!0):!1},B:function(){var a=new p.jt;a.H(this.na,this.Hn);return a},Q:function(a){p.Oj.prototype.Q.call(this,a);this.pi.x=this.Hn.x-a.o.C;this.pi.y=this.Hn.y-a.o.G}});p.jt.create=function(a,c){var d=new p.jt;d.H(a,c);return d};
p.dn=p.K.extend({Pd:0,Qd:0,Tq:0,Uq:0,fq:0,gq:0,oe:0,pe:0,ctor:function(){p.K.prototype.ctor.call(this);this.pe=this.oe=this.gq=this.fq=this.Uq=this.Tq=this.Qd=this.Pd=0},H:function(a,c,d){var e=!1;p.K.prototype.H.call(this,a)&&(this.fq=c,this.gq=d,e=!0);return e},B:function(){var a=new p.dn;a.H(this.na,this.fq,this.gq);return a},Q:function(a){p.K.prototype.Q.call(this,a);this.Tq=a.Pd%180;this.oe=this.fq-this.Tq;180<this.oe&&(this.oe-=360);-180>this.oe&&(this.oe+=360);this.Uq=a.Qd%360;this.pe=this.gq-
this.Uq;180<this.pe&&(this.pe-=360);-180>this.pe&&(this.pe+=360)},update:function(a){this.L.Pw(this.Tq+this.oe*a);this.L.Qw(this.Uq+this.pe*a)}});p.dn.create=function(a,c,d){var e=new p.dn;e&&e.H(a,c,d);return e};
p.wt=p.dn.extend({H:function(a,c,d){var e=!1;p.dn.prototype.H.call(this,a,c,d)&&(this.Pd=c,this.Qd=d,e=!0);return e},B:function(){var a=new p.wt;a.H(this.na,this.Pd,this.Qd);return a},Q:function(a){p.dn.prototype.Q.call(this,a);this.oe=this.Pd;this.pe=this.Qd;this.fq=this.Tq+this.oe;this.gq=this.Uq+this.pe},reverse:function(){return p.wt.create(this.na,-this.Pd,-this.Qd)}});p.wt.create=function(a,c,d){var e=new p.wt;e&&e.H(a,c,d);return e};
p.Wm=p.K.extend({Cc:null,Pf:null,ia:0,Pn:0,Bc:null,ctor:function(){p.K.prototype.ctor.call(this);this.Cc=p.a(0,0);this.Bc=p.a(0,0);this.Pf=p.a(0,0);this.Pn=this.ia=0},H:function(a,c,d,e){return p.K.prototype.H.call(this,a)?(this.Pf.x=c.x,this.Pf.y=c.y,this.ia=d,this.Pn=e,!0):!1},B:function(){var a=new p.Wm;a.H(this.na,this.Pf,this.ia,this.Pn);return a},Q:function(a){p.K.prototype.Q.call(this,a);var c=a.o.C;a=a.o.G;this.Bc.x=c;this.Bc.y=a;this.Cc.x=c;this.Cc.y=a},update:function(a){if(this.L){var c=
a*this.Pn%1,c=4*this.ia*c*(1-c),c=c+this.Pf.y*a;a*=this.Pf.x;var d=this.Cc;if(p.Fs){var e=this.L.o.G,f=this.Bc;d.x=d.x+this.L.o.C-f.x;d.y=d.y+e-f.y;a+=d.x;c+=d.y;this.L.w(a,c);f.x=a;f.y=c}else this.L.w(d.x+a,d.y+c)}},reverse:function(){return p.Wm.create(this.na,p.a(-this.Pf.x,-this.Pf.y),this.ia,this.Pn)}});p.Wm.create=function(a,c,d,e){var f=new p.Wm;f.H(a,c,d,e);return f};
p.Bx=p.Wm.extend({Q:function(a){p.Wm.prototype.Q.call(this,a);this.Pf.x-=this.Cc.x;this.Pf.y-=this.Cc.y},B:function(){var a=new p.Bx;a.H(this.na,this.Pf,this.ia,this.Pn);return a}});p.Bx.create=function(a,c,d,e){var f=new p.Bx;f.H(a,c,d,e);return f};p.oG=function(a,c,d,e){return 0*Math.pow(1-e,3)+3*e*Math.pow(1-e,2)*a+3*Math.pow(e,2)*(1-e)*c+Math.pow(e,3)*d};
p.al=p.K.extend({ql:null,Cc:null,Bc:null,ctor:function(){p.K.prototype.ctor.call(this);this.ql=[];this.Cc=p.a(0,0);this.Bc=p.a(0,0)},H:function(a,c){return p.K.prototype.H.call(this,a)?(this.ql=c,!0):!1},B:function(){for(var a=new p.al,c=[],d=0;d<this.ql.length;d++){var e=this.ql[d];c.push(p.a(e.x,e.y))}a.H(this.na,c);return a},Q:function(a){p.K.prototype.Q.call(this,a);var c=a.o.C;a=a.o.G;this.Bc.x=c;this.Bc.y=a;this.Cc.x=c;this.Cc.y=a},update:function(a){if(this.L){var c=this.ql,d=p.oG(c[0].x,c[1].x,
c[2].x,a);a=p.oG(c[0].y,c[1].y,c[2].y,a);c=this.Cc;if(p.Fs){var e=this.L.o.G,f=this.Bc;c.x=c.x+this.L.o.C-f.x;c.y=c.y+e-f.y;d+=c.x;a+=c.y;this.L.w(d,a);f.x=d;f.y=a}else this.L.w(c.x+d,c.y+a)}},reverse:function(){var a=this.ql,a=[p.Bf(a[1],p.cC(a[2])),p.Bf(a[0],p.cC(a[2])),p.cC(a[2])];return p.al.create(this.na,a)}});p.al.create=function(a,c){var d=new p.al;d.H(a,c);return d};
p.kx=p.al.extend({qv:null,ctor:function(){p.al.prototype.ctor.call(this);this.qv=[]},H:function(a,c){return p.K.prototype.H.call(this,a)?(this.qv=c,!0):!1},B:function(){var a=new p.kx;a.H(this.na,this.qv);return a},Q:function(a){p.al.prototype.Q.call(this,a);a=this.Cc;var c=this.qv,d=this.ql;d[0]=p.ed(c[0],a);d[1]=p.ed(c[1],a);d[2]=p.ed(c[2],a)}});p.kx.create=function(a,c){var d=new p.kx;d.H(a,c);return d};
p.cn=p.K.extend({ka:1,pa:1,eo:1,fo:1,tl:0,ul:0,oe:0,pe:0,ctor:function(){p.K.prototype.ctor.call(this);this.fo=this.eo=this.pa=this.ka=1;this.pe=this.oe=this.ul=this.tl=0},H:function(a,c,d){return p.K.prototype.H.call(this,a)?(this.tl=c,this.ul=null!=d?d:c,!0):!1},B:function(){var a=new p.cn;a.H(this.na,this.tl,this.ul);return a},Q:function(a){p.K.prototype.Q.call(this,a);this.eo=a.ka;this.fo=a.pa;this.oe=this.tl-this.eo;this.pe=this.ul-this.fo},update:function(a){this.L&&this.L.Ij(this.eo+this.oe*
a,this.fo+this.pe*a)}});p.cn.create=function(a,c,d){var e=new p.cn;e.H(a,c,d);return e};p.ut=p.cn.extend({Q:function(a){p.cn.prototype.Q.call(this,a);this.oe=this.eo*this.tl-this.eo;this.pe=this.fo*this.ul-this.fo},reverse:function(){return p.ut.create(this.na,1/this.tl,1/this.ul)},B:function(){var a=new p.ut;a.H(this.na,this.tl,this.ul);return a}});p.ut.create=function(a,c,d){var e=new p.ut;e.H(a,c,d);return e};
p.Cs=p.K.extend({tf:0,Cz:!1,ctor:function(){p.K.prototype.ctor.call(this);this.tf=0;this.Cz=!1},H:function(a,c){return p.K.prototype.H.call(this,a)?(this.tf=c,!0):!1},B:function(){var a=new p.Cs;a.H(this.na,this.tf);return a},update:function(a){if(this.L&&!this.Fh()){var c=1/this.tf;this.L.r(a%c>c/2)}},Q:function(a){p.K.prototype.Q.call(this,a);this.Cz=a.va},stop:function(){this.L.r(this.Cz);p.K.prototype.stop.call(this)},reverse:function(){return p.Cs.create(this.na,this.tf)}});
p.Cs.create=function(a,c){var d=new p.Cs;d.H(a,c);return d};p.bt=p.K.extend({update:function(a){this.L.Ua&&this.L.X(255*a)},reverse:function(){return p.ct.create(this.na)},B:function(){var a=new p.bt;a.H(this.na);return a}});p.bt.create=function(a){var c=new p.bt;c.H(a);return c};p.ct=p.K.extend({update:function(a){this.L.Ua&&this.L.X(255*(1-a))},reverse:function(){return p.bt.create(this.na)},B:function(){var a=new p.ct;a.H(this.na);return a}});p.ct.create=function(a){var c=new p.ct;c.H(a);return c};
p.xx=p.K.extend({rv:null,ou:null,ctor:function(){p.K.prototype.ctor.call(this);this.ou=this.rv=0},H:function(a,c){return p.K.prototype.H.call(this,a)?(this.rv=c,!0):!1},B:function(){var a=new p.xx;a.H(this.na,this.rv);return a},update:function(a){this.L.Ua&&this.L.X(this.ou+(this.rv-this.ou)*a)},Q:function(a){p.K.prototype.Q.call(this,a);this.L.Ua&&(this.ou=a.wi())}});p.xx.create=function(a,c){var d=new p.xx;d.H(a,c);return d};
p.dy=p.K.extend({We:null,Ld:null,ctor:function(){p.K.prototype.ctor.call(this);this.We=p.i(0,0,0);this.Ld=p.i(0,0,0)},H:function(a,c,d,e){return p.K.prototype.H.call(this,a)?(this.We=p.i(c,d,e),!0):!1},B:function(){var a=new p.dy,c=this.We;a.H(this.na,c.h,c.g,c.f);return a},Q:function(a){p.K.prototype.Q.call(this,a);this.L.Ua&&(this.Ld=this.L.cd())},update:function(a){var c=this.Ld,d=this.We;this.L.Ua&&this.L.k(p.i(c.h+(d.h-c.h)*a,c.g+(d.g-c.g)*a,c.f+(d.f-c.f)*a))}});
p.dy.create=function(a,c,d,e){var f=new p.dy;f.H(a,c,d,e);return f};
p.Dt=p.K.extend({Xp:0,Wp:0,Vp:0,gz:0,fz:0,ez:0,ctor:function(){p.K.prototype.ctor.call(this);this.ez=this.fz=this.gz=this.Vp=this.Wp=this.Xp=0},H:function(a,c,d,e){return p.K.prototype.H.call(this,a)?(this.Xp=c,this.Wp=d,this.Vp=e,!0):!1},B:function(){var a=new p.Dt;a.H(this.na,this.Xp,this.Wp,this.Vp);return a},Q:function(a){p.K.prototype.Q.call(this,a);a.Ua&&(a=a.cd(),this.gz=a.h,this.fz=a.g,this.ez=a.f)},update:function(a){this.L.Ua&&this.L.k(p.i(this.gz+this.Xp*a,this.fz+this.Wp*a,this.ez+this.Vp*
a))},reverse:function(){return p.Dt.create(this.na,-this.Xp,-this.Wp,-this.Vp)}});p.Dt.create=function(a,c,d,e){var f=new p.Dt;f.H(a,c,d,e);return f};p.Um=p.K.extend({update:function(){},reverse:function(){return p.Um.create(this.na)},B:function(){var a=new p.Um;a.H(this.na);return a}});p.Um.create=function(a){var c=new p.Um;c.H(a);return c};
p.qt=p.K.extend({jj:null,ctor:function(){p.K.prototype.ctor.call(this);this.jj=null},ca:function(a){if(!a)throw"cc.ReverseTime.initWithAction(): action must be non null";if(a==this.jj)throw"cc.ReverseTime.initWithAction(): the action was already passed in.";return p.K.prototype.H.call(this,a.Ze())?(this.jj=a,!0):!1},B:function(){var a=new p.qt;a.ca(this.jj.B());return a},Q:function(a){p.K.prototype.Q.call(this,a);this.jj.Q(a)},update:function(a){this.jj&&this.jj.update(1-a)},reverse:function(){return this.jj.B()},
stop:function(){this.jj.stop();p.hd.prototype.stop.call(this)}});p.qt.create=function(a){var c=new p.qt;c.ca(a);return c};
p.zs=p.K.extend({Qi:null,Vn:0,Qu:null,hq:0,kA:null,ctor:function(){p.K.prototype.ctor.call(this);this.Qi=null;this.Vn=0;this.Qu=null;this.hq=0;this.kA=null},SG:function(){return this.Qi},mU:function(a){this.Qi=a},oH:function(a){if(!a)throw"cc.Animate.initWithAnimation(): animation must be non-NULL";var c=a.Ze();if(this.H(c*a.gj)){this.Vn=0;this.mU(a);this.Qu=null;this.hq=0;var d=[],e=0,f=c/a.Tl;a=a.Kd;p.As(a,p.Hi);for(var g=0;g<a.length;g++){var h=e*f/c,e=e+a[g].Id;d.push(h)}this.kA=d;return!0}return!1},
B:function(){var a=new p.zs;a.oH(this.Qi.B());return a},Q:function(a){p.K.prototype.Q.call(this,a);this.Qi.Gl&&(this.Qu=a.aQ());this.hq=this.Vn=0},update:function(a){1>a&&(a*=this.Qi.gj,(0|a)>this.hq&&(this.Vn=0,this.hq++),a%=1);for(var c=this.Qi.Kd,d=c.length,e=this.kA,f=this.Vn;f<d;f++)if(e[f]<=a)this.L.$o(c[f].Tg()),this.Vn=f+1;else break},reverse:function(){var a=this.Qi,c=a.Kd,d=[];p.As(c,p.Hi);if(0<c.length)for(var e=c.length-1;0<=e;e--){var f=c[e];if(!f)break;d.push(f.B())}c=p.Gi.tG(d,a.Id,
a.gj);c.Kw(a.Gl);return p.zs.create(c)},stop:function(){this.Qi.Gl&&this.L&&this.L.$o(this.Qu);p.hd.prototype.stop.call(this)}});p.zs.create=function(a){var c=new p.zs;c.oH(a);return c};
p.cy=p.K.extend({lf:null,vl:null,ctor:function(){p.K.prototype.ctor.call(this);this.vl=this.lf=null},eg:function(a,c){return this.H(c.Ze())?(this.vl=a,this.lf=c,!0):!1},B:function(){var a=new p.cy;a.eg(this.vl,this.lf.B());return a},Q:function(a){p.K.prototype.Q.call(this,a);this.lf.Q(this.vl)},stop:function(){this.lf.stop()},update:function(a){this.lf.update(a)},Y1:function(){return this.vl},D8:function(a){this.vl!=a&&(this.vl=a)}});p.cy.create=function(a,c){var d=new p.cy;d.eg(a,c);return d};p.Ph=p.Ki.extend({Fh:function(){return!0},step:function(){this.update(1)},update:function(){},reverse:function(){return this.B()},B:function(){return new p.Ph}});p.vt=p.Ph.extend({update:function(){this.L.r(!0)},reverse:function(){return p.ft.create()},B:function(){return new p.vt}});p.vt.create=function(){return new p.vt};p.ft=p.Ph.extend({update:function(){this.L.r(!1)},reverse:function(){return p.vt.create()},B:function(){return new p.ft}});p.ft.create=function(){return new p.ft};
p.Et=p.Ph.extend({update:function(){this.L.r(!this.L.va)},reverse:function(){return new p.Et},B:function(){return new p.Et}});p.Et.create=function(){return new p.Et};p.nt=p.Ph.extend({uq:!0,ctor:function(){p.Ki.prototype.ctor.call(this);this.uq=!0},update:function(){this.L.R(this.uq)},q:function(a){this.uq=a;return!0},reverse:function(){return new p.nt(this.uq)},B:function(){return new p.nt(this.uq)}});p.nt.create=function(a){null==a&&(a=!0);var c=new p.nt;c&&c.q(a);return c};
p.dt=p.Ph.extend({Yb:!1,ctor:function(){p.Ki.prototype.ctor.call(this);this.Yb=!1},qH:function(a){this.Yb=a;return!0},update:function(){this.L.EU(this.Yb)},reverse:function(){return p.dt.create(!this.Yb)},B:function(){var a=new p.dt;a.qH(this.Yb);return a}});p.dt.create=function(a){var c=new p.dt;return c.qH(a)?c:null};
p.et=p.Ph.extend({Zb:!1,ctor:function(){p.Ki.prototype.ctor.call(this);this.Zb=!1},rH:function(a){this.Zb=a;return!0},update:function(){this.L.FU(this.Zb)},reverse:function(){return p.et.create(!this.Zb)},B:function(){var a=new p.et;a.rH(this.Zb);return a}});p.et.create=function(a){var c=new p.et;return c.rH(a)?c:null};
p.Kx=p.Ph.extend({o:null,ctor:function(){p.Ki.prototype.ctor.call(this);this.o=p.a(0,0)},tH:function(a){this.o.x=a.x;this.o.y=a.y;return!0},update:function(){this.L.w(this.o)},B:function(){var a=new p.Kx;a.tH(this.o);return a}});p.Kx.create=function(a){var c=new p.Kx;c.tH(a);return c};
p.np=p.Ph.extend({Ig:null,pl:null,dk:null,Tp:null,ctor:function(){p.Ki.prototype.ctor.call(this);this.Tp=this.dk=this.pl=this.Ig=null},eg:function(a,c,d){this.Tp=d;this.pl=a;this.Ig=c;return!0},GB:function(a){this.dk=a;return!0},execute:function(){null!=this.pl?this.pl.call(this.Ig,this.L,this.Tp):this.dk&&this.dk.call(null,this.L)},update:function(){this.execute()},S3:function(){return this.Ig},R9:function(a){a!=this.Ig&&(this.Ig&&(this.Ig=null),this.Ig=a)},copy:function(){var a=new p.np;this.Ig?
a.eg(this.pl,this.Ig,this.Tp):this.dk&&a.GB(this.dk);return a},B:function(){var a=new p.np;this.Ig?a.eg(this.pl,this.Ig,this.Tp):this.dk&&a.GB(this.dk);return a}});p.np.create=function(a,c,d){var e=new p.np;if(1==arguments.length){if(e&&e.GB(a))return e}else if(e&&e.eg(a,c,d))return e.pl=a,e;return null};p.ex=p.K.extend({Cy:0,Dy:0,Ey:0,IE:0,JE:0,KE:0,QF:0,RF:0,SF:0,ctor:function(){p.K.prototype.ctor.call(this);this.SF=this.RF=this.QF=this.KE=this.JE=this.IE=this.Ey=this.Dy=this.Cy=0},Q:function(a){p.K.prototype.Q.call(this,a);a=a.lB();var c=a.UG();this.Cy=c.x;this.Dy=c.y;this.Ey=c.z;c=a.VG();this.IE=c.x;this.JE=c.y;this.KE=c.z;a=a.hR();this.QF=a.x;this.RF=a.y;this.SF=a.z},B:function(){return new p.ex},reverse:function(){return p.qt.create(this)}});
p.Ix=p.ex.extend({qi:0,hu:0,jn:0,Qy:0,Mf:0,Py:0,Tz:0,Rz:0,Sz:0,Qz:0,ctor:function(){p.ex.prototype.ctor.call(this);this.Qz=this.Sz=this.Rz=this.Tz=this.Py=this.Mf=this.Qy=this.jn=this.hu=this.qi=0},H:function(a,c,d,e,f,g,h){return p.K.prototype.H.call(this,a)?(this.qi=c,this.hu=d,this.jn=e,this.Qy=f,this.Mf=g,this.Py=h,this.Rz=p.Ji(f),this.Qz=p.Ji(h),!0):!1},IV:function(){var a=this.L.lB(),c=a.VG(),d=a.UG(),a=c.x-d.x,e=c.y-d.y,c=c.z-d.z,d=Math.sqrt(Math.pow(a,2)+Math.pow(e,2)+Math.pow(c,2)),f=Math.sqrt(Math.pow(a,
2)+Math.pow(e,2));0===f&&(f=p.at);0===d&&(d=p.at);return{vS:d/p.op.Gr(),dW:Math.acos(c/d),azimuth:0>a?Math.PI-Math.asin(e/f):Math.asin(e/f)}},Q:function(a){p.K.prototype.Q.call(this,a);a=this.IV();isNaN(this.qi)&&(this.qi=a.vS);isNaN(this.jn)&&(this.jn=p.Mx(a.dW));isNaN(this.Mf)&&(this.Mf=p.Mx(a.azimuth));this.Tz=p.Ji(this.jn);this.Sz=p.Ji(this.Mf)},B:function(){var a=new p.Ix;a.H(this.na,this.qi,this.hu,this.jn,this.Qy,this.Mf,this.Py);return a},update:function(a){var c=(this.qi+this.hu*a)*p.op.Gr(),
d=this.Tz+this.Rz*a,e=this.Sz+this.Qz*a;a=Math.sin(d)*Math.cos(e)*c+this.Cy;e=Math.sin(d)*Math.sin(e)*c+this.Dy;c=Math.cos(d)*c+this.Ey;this.L.lB().HI(a,e,c)}});p.Ix.create=function(a,c,d,e,f,g,h){var k=new p.Ix;return k.H(a,c,d,e,f,g,h)?k:null};p.Mc=p.K.extend({T:null,ctor:function(){p.K.prototype.ctor.call(this);this.T=null},ca:function(a){if(!a)throw"cc.ActionEase.initWithAction(): action must be non nil";return this.H(a.Ze())?(this.T=a,!0):!1},B:function(){var a=new p.Mc;a.ca(this.T.B());return a},Q:function(a){p.K.prototype.Q.call(this,a);this.T.Q(this.L)},stop:function(){this.T.stop();p.K.prototype.stop.call(this)},update:function(a){this.T.update(a)},reverse:function(){return p.Mc.create(this.T.reverse())},nB:function(){return this.T}});
p.Mc.create=function(a){var c=new p.Mc;c&&c.ca(a);return c};p.el=p.Mc.extend({te:0,ctor:function(){p.Mc.prototype.ctor.call(this);this.te=0},x9:function(a){this.te=a},q3:function(){return this.te},ca:function(a,c){return p.Mc.prototype.ca.call(this,a)?(this.te=c,!0):!1},B:function(){var a=new p.el;a.ca(this.T.B(),this.te);return a},reverse:function(){return p.el.create(this.T.reverse(),1/this.te)}});p.el.create=function(a,c){var d=new p.el;d&&d.ca(a,c);return d};
p.Us=p.el.extend({update:function(a){this.T.update(Math.pow(a,this.te))},reverse:function(){return p.Us.create(this.T.reverse(),1/this.te)},B:function(){var a=new p.Us;a.ca(this.T.B(),this.te);return a}});p.Us.create=function(a,c){var d=new p.Us;d&&d.ca(a,c);return d};p.Ws=p.el.extend({update:function(a){this.T.update(Math.pow(a,1/this.te))},reverse:function(){return p.Ws.create(this.T.reverse(),1/this.te)},B:function(){var a=new p.Ws;a.ca(this.T.B(),this.te);return a}});
p.Ws.create=function(a,c){var d=new p.Ws;d&&d.ca(a,c);return d};p.Vs=p.el.extend({update:function(a){a*=2;1>a?this.T.update(0.5*Math.pow(a,this.te)):this.T.update(1-0.5*Math.pow(2-a,this.te))},B:function(){var a=new p.Vs;a.ca(this.T.B(),this.te);return a},reverse:function(){return p.Vs.create(this.T.reverse(),this.te)}});p.Vs.create=function(a,c){var d=new p.Vs;d&&d.ca(a,c);return d};
p.Rs=p.Mc.extend({update:function(a){this.T.update(0===a?0:Math.pow(2,10*(a-1)))},reverse:function(){return p.Ts.create(this.T.reverse())},B:function(){var a=new p.Rs;a.ca(this.T.B());return a}});p.Rs.create=function(a){var c=new p.Rs;c&&c.ca(a);return c};p.Ts=p.Mc.extend({update:function(a){this.T.update(1==a?1:-Math.pow(2,-10*a)+1)},reverse:function(){return p.Rs.create(this.T.reverse())},B:function(){var a=new p.Ts;a.ca(this.T.B());return a}});
p.Ts.create=function(a){var c=new p.Ts;c&&c.ca(a);return c};p.Ss=p.Mc.extend({update:function(a){1!=a&&0!==a&&(a*=2,a=1>a?0.5*Math.pow(2,10*(a-1)):0.5*(-Math.pow(2,-10*(a-1))+2));this.T.update(a)},reverse:function(){return p.Ss.create(this.T.reverse())},B:function(){var a=new p.Ss;a.ca(this.T.B());return a}});p.Ss.create=function(a){var c=new p.Ss;c&&c.ca(a);return c};
p.Xs=p.Mc.extend({update:function(a){a=0===a||1==a?a:-1*Math.cos(a*Math.PI/2)+1;this.T.update(a)},reverse:function(){return p.Zs.create(this.T.reverse())},B:function(){var a=new p.Xs;a.ca(this.T.B());return a}});p.Xs.create=function(a){var c=new p.Xs;c&&c.ca(a);return c};p.Zs=p.Mc.extend({update:function(a){a=0===a||1==a?a:Math.sin(a*Math.PI/2);this.T.update(a)},reverse:function(){return p.Xs.create(this.T.reverse())},B:function(){var a=new p.Zs;a.ca(this.T.B());return a}});
p.Zs.create=function(a){var c=new p.Zs;c&&c.ca(a);return c};p.Ys=p.Mc.extend({update:function(a){a=0===a||1==a?a:-0.5*(Math.cos(Math.PI*a)-1);this.T.update(a)},B:function(){var a=new p.Ys;a.ca(this.T.B());return a},reverse:function(){return p.Ys.create(this.T.reverse())}});p.Ys.create=function(a){var c=new p.Ys;c&&c.ca(a);return c};
p.Vm=p.Mc.extend({Md:null,ctor:function(){p.Mc.prototype.ctor.call(this);this.Md=0.3},a3:function(){return this.Md},m9:function(a){this.Md=a},ca:function(a,c){p.Mc.prototype.ca.call(this,a);this.Md=null==c?0.3:c;return!0},reverse:function(){p.log("cc.EaseElastic.reverse(): it should be overridden in subclass.")},B:function(){var a=new p.Vm;a.ca(this.T.B(),this.Md);return a}});p.Vm.create=function(a,c){var d=new p.Vm;return d&&d.ca(a,c)?d:null};
p.Os=p.Vm.extend({update:function(a){var c=0;0===a||1===a?c=a:(c=this.Md/4,a-=1,c=-Math.pow(2,10*a)*Math.sin((a-c)*Math.PI*2/this.Md));this.T.update(c)},reverse:function(){return p.Qs.create(this.T.reverse(),this.Md)},B:function(){var a=new p.Os;a.ca(this.T.B(),this.Md);return a}});p.Os.create=function(a,c){var d=new p.Os;return d&&d.ca(a,c)?d:null};
p.Qs=p.Vm.extend({update:function(a){var c=0,c=0===a||1==a?a:Math.pow(2,-10*a)*Math.sin((a-this.Md/4)*Math.PI*2/this.Md)+1;this.T.update(c)},reverse:function(){return p.Os.create(this.T.reverse(),this.Md)},B:function(){var a=new p.Qs;a.ca(this.T.B(),this.Md);return a}});p.Qs.create=function(a,c){var d=new p.Qs;d&&d.ca(a,c);return d};
p.Ps=p.Vm.extend({update:function(a){var c=0,c=this.Md;if(0===a||1==a)c=a;else{c||(c=this.Md=0.3*1.5);var d=c/4;a=2*a-1;c=0>a?-0.5*Math.pow(2,10*a)*Math.sin((a-d)*Math.PI*2/c):Math.pow(2,-10*a)*Math.sin((a-d)*Math.PI*2/c)*0.5+1}this.T.update(c)},reverse:function(){return p.Ps.create(this.T.reverse(),this.Md)},B:function(){var a=new p.Ps;a.ca(this.T.B(),this.Md);return a}});p.Ps.create=function(a,c){var d=new p.Ps;d&&d.ca(a,c);return d};
p.dl=p.Mc.extend({Dv:function(a){if(a<1/2.75)return 7.5625*a*a;if(a<2/2.75)return a-=1.5/2.75,7.5625*a*a+0.75;if(a<2.5/2.75)return a-=2.25/2.75,7.5625*a*a+0.9375;a-=2.625/2.75;return 7.5625*a*a+0.984375},B:function(){var a=new p.dl;a.ca(this.T.B());return a},reverse:function(){return p.dl.create(this.T.reverse())}});p.dl.create=function(a){var c=new p.dl;c&&c.ca(a);return c};
p.Ls=p.dl.extend({update:function(a){this.T.update(1-this.Dv(1-a))},reverse:function(){return p.Ns.create(this.T.reverse())},B:function(){var a=new p.Ls;a.ca(this.T.B());return a}});p.Ls.create=function(a){var c=new p.Ls;c&&c.ca(a);return c};p.Ns=p.dl.extend({update:function(a){this.T.update(this.Dv(a))},reverse:function(){return p.Ls.create(this.T.reverse())},B:function(){var a=new p.Ns;a.ca(this.T.B());return a}});p.Ns.create=function(a){var c=new p.Ns;c&&c.ca(a);return c};
p.Ms=p.dl.extend({update:function(a){var c=0,c=0.5>a?0.5*(1-this.Dv(1-2*a)):0.5*this.Dv(2*a-1)+0.5;this.T.update(c)},B:function(){var a=new p.Ms;a.ca(this.T.B());return a},reverse:function(){return p.Ms.create(this.T.reverse())}});p.Ms.create=function(a){var c=new p.Ms;c&&c.ca(a);return c};p.Is=p.Mc.extend({update:function(a){this.T.update(0===a||1==a?a:a*a*(2.70158*a-1.70158))},reverse:function(){return p.Ks.create(this.T.reverse())},B:function(){var a=new p.Is;a.ca(this.T.B());return a}});
p.Is.create=function(a){var c=new p.Is;c&&c.ca(a);return c};p.Ks=p.Mc.extend({update:function(a){a-=1;this.T.update(a*a*(2.70158*a+1.70158)+1)},reverse:function(){return p.Is.create(this.T.reverse())},B:function(){var a=new p.Ks;a.ca(this.T.B());return a}});p.Ks.create=function(a){var c=new p.Ks;c&&c.ca(a);return c};
p.Js=p.Mc.extend({update:function(a){a*=2;1>a?this.T.update(a*a*(3.5949095*a-2.5949095)/2):(a-=2,this.T.update(a*a*(3.5949095*a+2.5949095)/2+1))},B:function(){var a=new p.Js;a.ca(this.T.B());return a},reverse:function(){return p.Js.create(this.T.reverse())}});p.Js.create=function(a){var c=new p.Js;c&&c.ca(a);return c};p.nx=function(a,c,d,e,f,g){var h=g*g,k=h*g,l=(1-f)/2;f=l*(-k+2*h-g);var m=l*(-k+h)+(2*k-3*h+1);g=l*(k-2*h+g)+(-2*k+3*h);h=l*(k-h);return p.a(a.x*f+c.x*m+d.x*g+e.x*h,a.y*f+c.y*m+d.y*g+e.y*h)};p.tI=function(a){for(var c=[],d=a.length-1;0<=d;d--)c.push(p.a(a[d].x,a[d].y));return c};p.Hv=function(a){for(var c=[],d=0;d<a.length;d++)c.push(p.a(a[d].x,a[d].y));return c};p.Rg=function(a,c){var d=Math.min(a.length-1,Math.max(c,0));return a[d]};
p.U7=function(a){for(var c=a.length,d=0|c/2,e=0;e<d;++e){var f=a[e];a[e]=a[c-e-1];a[c-e-1]=f}};
p.Rh=p.K.extend({lh:null,Ry:0,Pl:0,Bc:null,ny:null,ctor:function(){p.K.prototype.ctor.call(this);this.lh=[];this.Pl=this.Ry=0;this.ny=this.Bc=null},H:function(a,c,d){if(!c||0==c.length)throw"Invalid configuration. It must at least have one control point";return p.K.prototype.H.call(this,a)?(this.eV(c),this.Pl=d,!0):!1},B:function(){var a=new p.Rh;a.H(this.na,p.Hv(this.lh),this.Pl);return a},Q:function(a){p.K.prototype.Q.call(this,a);this.Ry=1/(this.lh.length-1);a=this.L.o;this.Bc=p.a(a.x,a.y);this.ny=
p.a(0,0)},update:function(a){var c,d=this.lh;if(1==a)c=d.length-1,a=1;else{var e=this.Ry;c=0|a/e;a=(a-e*c)/e}c=p.nx(p.Rg(d,c-1),p.Rg(d,c-0),p.Rg(d,c+1),p.Rg(d,c+2),this.Pl,a);p.Fs&&(d=this.L.o.C-this.Bc.x,a=this.L.o.G-this.Bc.y,0!=d||0!=a)&&(e=this.ny,d=e.x+d,a=e.y+a,e.x=d,e.y=a,c.x+=d,c.y+=a);this.HJ(c)},reverse:function(){var a=p.tI(this.lh);return p.Rh.create(this.na,a,this.Pl)},HJ:function(a){this.L.w(a);this.Bc=a},f3:function(){return this.lh},eV:function(a){this.lh=a}});
p.Rh.create=function(a,c,d){var e=new p.Rh;return e.H(a,c,d)?e:null};
p.pp=p.Rh.extend({Cc:null,ctor:function(){p.Rh.prototype.ctor.call(this);this.Cc=p.a(0,0)},Q:function(a){p.Rh.prototype.Q.call(this,a);a=a.o;this.Cc.x=a.x;this.Cc.y=a.y},reverse:function(){for(var a=this.lh.slice(),c,d=a[0],e=1;e<a.length;++e)c=a[e],a[e]=p.ed(c,d),d=c;a=p.tI(a);d=a[a.length-1];a.pop();d.x=-d.x;d.y=-d.y;a.unshift(d);for(e=1;e<a.length;++e)c=a[e],c.x=-c.x,c.y=-c.y,c.x+=d.x,c.y+=d.y,d=a[e]=c;return p.pp.create(this.na,a,this.Pl)},HJ:function(a){var c=this.Cc,d=a.x+c.x;a=a.y+c.y;this.L.w(d,
a);this.Bc.x=d;this.Bc.y=a},B:function(){var a=new p.pp;a.H(this.na,p.Hv(this.lh),this.Pl);return a}});p.pp.create=function(a,c,d){var e=new p.pp;return e.H(a,c,d)?e:null};p.px=p.Rh.extend({H:function(a,c){return p.Rh.prototype.H.call(this,a,c,0.5)},B:function(){var a=new p.px;a.H(this.na,p.Hv(this.lh));return a}});p.px.create=function(a,c){var d=new p.px;return d.H(a,c)?d:null};
p.ox=p.pp.extend({H:function(a,c){return p.Rh.prototype.H.call(this,a,c,0.5)},B:function(){var a=new p.ox;a.H(this.na,p.Hv(this.lh));return a}});p.ox.create=function(a,c){var d=new p.ox;return d.H(a,c)?d:null};p.pW=p.ra.extend({VC:function(){}});
p.Tm=p.K.extend({key:"",im:0,Uk:0,bB:0,ctor:function(){p.K.prototype.ctor.call(this);this.key="";this.bB=this.Uk=this.im=0},H:function(a,c,d,e){return p.K.prototype.H.call(this,a)?(this.key=c,this.Uk=e,this.im=d,!0):!1},Q:function(a){if(!a||!a.VC)throw"cc.ActionTween.startWithTarget(): target must be non-null, and target must implement updateTweenAction function";p.K.prototype.Q.call(this,a);this.bB=this.Uk-this.im},update:function(a){this.L.VC(this.Uk-this.bB*(1-a),this.key)},reverse:function(){return p.Tm.create(this.duration,
this.key,this.Uk,this.im)},B:function(){var a=new p.Tm;a.H(this.na,this.key,this.im,this.Uk);return a}});p.Tm.create=function(a,c,d,e){var f=new p.Tm;return f.H(a,c,d,e)?f:null};p.Pj=0;p.Jx=1;p.QD=4;p.bL=75;
p.pc=p.kb.extend({Xe:null,ni:0,$a:null,kh:null,ol:null,pd:!1,A2:function(){return p.a(this.kh.x,this.kh)},QI:function(a){this.kh=p.VH(a)},g1:function(){return p.a(this.ol.x,this.ol.y)},AI:function(a){this.ol=p.VH(a)},ic:function(){return this.Xe},Vv:function(){return this.ni},cR:function(){return this.$a},hs:function(a){this.ni!=a&&(this.ni=p.pr(a,0,100),this.AA())},ff:function(){},Gk:function(){return!1},x5:function(){return this.pd},yy:function(a){if(a<p.QD){var c=p.bL;return this.pd?p.a(c>>7-(a<<
1)&1,c>>7-((a<<1)+1)&1):p.a(c>>(a<<1)+1&1,c>>(a<<1)&1)}return p.Li()},Qc:null,rA:270,$y:270,qi:0,Ky:!1,vy:null,bd:0,vc:null,uf:null,$F:null,mr:!1,ctor:null,hh:function(){p.kb.prototype.ctor.call(this);this.Xe=p.Pj;this.ni=0;this.kh=p.a(0,0);this.ol=p.a(0,0);this.pd=!1;this.$a=null;this.Qc=p.Li();this.$y=this.rA=270;this.qi=0;this.Ky=!1;this.vy=p.Nc()},ih:function(){p.kb.prototype.ctor.call(this);this.Xe=p.Pj;this.ni=0;this.kh=p.a(0,0);this.ol=p.a(0,0);this.pd=!1;this.$a=null;this.$F=p.N.createBuffer();
this.bd=0;this.uf=this.vc=null;this.mr=!1},k:function(a){this.$a.k(a);this.ad()},X:function(a){this.$a.X(a);this.ad()},cd:function(){return this.$a.cd()},wi:function(){return this.$a.wi()},VI:null,lO:function(a){this.pd!==a&&(this.pd=a)},mO:function(a){this.pd!==a&&(this.pd=a,this.uf=this.vc=null,this.bd=0)},js:null,oO:function(a){this.$a!=a&&(this.$a=a,this.ea(this.$a.e()))},pO:function(a){a&&this.$a!=a&&(this.$a=a,this.ea(a.e()),this.vc&&(this.uf=this.vc=null,this.bd=0))},Ei:null,sO:function(a){a!==
this.Xe&&(this.Xe=a)},tO:function(a){a!==this.Xe&&(this.vc&&(this.uf=this.vc=null,this.bd=0),this.Xe=a)},UI:null,jO:function(a){this.pd!==a&&(this.pd=a)},kO:function(a){this.pd!==a&&(this.pd=a,this.uf=this.vc=null,this.bd=0)},ze:function(a){var c=this.$a;if(!c)return{Ca:0,ba:0};var d=c.ub,e=p.a(d.ya.t.Ca,d.ya.t.ba),d=p.a(d.Ba.t.Ca,d.Ba.t.ba);c.Hc&&(c=a.x,a.x=a.y,a.y=c);return{Ca:e.x*(1-a.x)+d.x*a.x,ba:e.y*(1-a.y)+d.y*a.y}},Be:function(a){if(!this.$a)return{x:0,y:0};var c=this.$a.ub,d=p.a(c.ya.n.x,
c.ya.n.y),c=p.a(c.Ba.n.x,c.Ba.n.y);return{x:d.x*(1-a.x)+c.x*a.x,y:d.y*(1-a.y)+c.y*a.y}},JB:null,TM:function(a){this.hs(0);this.ma(0.5,0.5);this.Xe=p.Pj;this.pd=!1;this.QI(p.a(0.5,0.5));this.AI(p.a(1,1));this.js(a);return!0},UM:function(a){this.hs(0);this.uf=this.vc=null;this.bd=0;this.ma(0.5,0.5);this.Xe=p.Pj;this.pd=!1;this.QI(p.a(0.5,0.5));this.AI(p.a(1,1));this.js(a);this.ng(p.fh.d().Kh(p.Qx));return!0},Ia:null,sl:function(a){a=a||p.N;var c=this.$a;c.Mn&&(a.globalCompositeOperation="lighter");
var d=p.ha.d().ka,e=p.ha.d().pa;a.globalAlpha=c.Kb/255;var f=c.oa,g=c.ja,h=c.Ub,k=c.Xy,l=0|h.x,m=-h.y-f.height,n=c.ko;k.width=f.width*d;k.height=f.height*e;a.save();c.Yb&&(l=-h.x-f.width,a.scale(-1,1));c.Zb&&(m=h.y,a.scale(1,-1));l*=d;m*=e;this.Xe==p.Jx?(f=this.vy,a.beginPath(),a.rect(f.x*d,f.y*e,f.width*d,f.height*e),a.clip(),a.closePath()):this.Xe==p.Pj&&(f=this.Qc.x*d,h=this.Qc.y*e,a.beginPath(),a.arc(f,h,this.qi*e,Math.PI/180*this.rA,Math.PI/180*this.$y,this.Ky),a.lineTo(f,h),a.clip(),a.closePath());
c.sa&&n.vs?(d=c.sa.tc,this.au?a.drawImage(d,0,0,n.width,n.height,l,m,k.width,k.height):a.drawImage(d,n.x,n.y,n.width,n.height,l,m,k.width,k.height)):0!==g.width&&(k=this.cd(),a.fillStyle="rgba("+k.h+","+k.g+","+k.f+",1)",a.fillRect(l,m,g.width*d,g.height*e));a.restore();p.dh()},Qf:function(a){a=a||p.N;if(this.vc&&this.$a){p.Gx(this);var c=this.$a.U;p.Aj(c.src,c.rb);p.Zd(p.It);this.$a.S()?p.cg(this.$a.S()):p.cg(null);a.bindBuffer(a.ARRAY_BUFFER,this.$F);this.mr&&(a.bufferData(a.ARRAY_BUFFER,this.uf,
a.DYNAMIC_DRAW),this.mr=!1);c=p.Hb.BYTES_PER_ELEMENT;a.vertexAttribPointer(p.ne,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(p.Bp,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(p.Cp,2,a.FLOAT,!1,c,12);this.Xe===p.Pj?a.drawArrays(a.TRIANGLE_FAN,0,this.bd):this.Xe==p.Jx&&(this.pd?(a.drawArrays(a.TRIANGLE_STRIP,0,this.bd/2),a.drawArrays(a.TRIANGLE_STRIP,4,this.bd/2),p.Bh++):a.drawArrays(a.TRIANGLE_STRIP,0,this.bd));p.Bh++}},VO:function(){if(this.$a){var a,c=this.kh;a=this.ni/100;var d=2*p.PI*(this.pd?a:
1-a),e=p.a(c.x,1),f=p.RS(e,c,d),d=0;if(0==a)f=e,d=0;else if(1==a)f=e,d=4;else{var g=p.qK,h=p.QD;for(a=0;a<=h;++a){var k=(a+(h-1))%h,l=this.yy(a%h),k=this.yy(k);0==a?k=p.XH(l,k,1-c.x):4==a&&(l=p.XH(l,k,1-c.x));var m=p.a(0,0);p.aC(l,k,c,f,m)&&(0!=a&&4!=a||0<=m.x&&1>=m.x)&&0<=m.y&&m.y<g&&(g=m.y,d=a)}f=p.Bf(c,p.Bi(p.ed(f,c),g))}g=!0;this.bd!=d+3&&(g=!1,this.uf=this.vc=null,this.bd=0);if(!this.vc){h=this.bd=d+3;l=p.Hb.BYTES_PER_ELEMENT;this.uf=new ArrayBuffer(h*l);k=[];for(a=0;a<h;a++)k[a]=new p.Hb(null,
null,null,this.uf,a*l);this.vc=k;if(!this.vc){p.log("cc.ProgressTimer._updateRadial() : Not enough memory");return}}this.ad();h=this.vc;if(!g)for(h[0].t=this.ze(c),h[0].n=this.Be(c),h[1].t=this.ze(e),h[1].n=this.Be(e),a=0;a<d;a++)c=this.yy(a),h[a+2].t=this.ze(c),h[a+2].n=this.Be(c);h[this.bd-1].t=this.ze(f);h[this.bd-1].n=this.Be(f)}},KO:function(){if(this.$a){var a,c=this.ni/100,d=this.ol,d=p.Bi(p.a(1-d.x+c*d.x,1-d.y+c*d.y),0.5),c=p.ed(this.kh,d),d=p.Bf(this.kh,d);0>c.x&&(d.x+=-c.x,c.x=0);1<d.x&&
(c.x-=d.x-1,d.x=1);0>c.y&&(d.y+=-c.y,c.y=0);1<d.y&&(c.y-=d.y-1,d.y=1);if(this.pd){if(!this.vc){this.bd=8;var e=p.Hb.BYTES_PER_ELEMENT;this.uf=new ArrayBuffer(8*e);var f=[];for(a=0;8>a;a++)f[a]=new p.Hb(null,null,null,this.uf,a*e);f[0].t=this.ze(p.a(0,1));f[0].n=this.Be(p.a(0,1));f[1].t=this.ze(p.a(0,0));f[1].n=this.Be(p.a(0,0));f[6].t=this.ze(p.a(1,1));f[6].n=this.Be(p.a(1,1));f[7].t=this.ze(p.a(1,0));f[7].n=this.Be(p.a(1,0));this.vc=f}a=this.vc;a[2].t=this.ze(p.a(c.x,d.y));a[2].n=this.Be(p.a(c.x,
d.y));a[3].t=this.ze(p.a(c.x,c.y));a[3].n=this.Be(p.a(c.x,c.y));a[4].t=this.ze(p.a(d.x,d.y));a[4].n=this.Be(p.a(d.x,d.y));a[5].t=this.ze(p.a(d.x,c.y));a[5].n=this.Be(p.a(d.x,c.y))}else{if(!this.vc)for(this.bd=4,e=p.Hb.BYTES_PER_ELEMENT,this.uf=new ArrayBuffer(4*e),this.vc=[],a=0;4>a;a++)this.vc[a]=new p.Hb(null,null,null,this.uf,a*e);a=this.vc;a[0].t=this.ze(p.a(c.x,d.y));a[0].n=this.Be(p.a(c.x,d.y));a[1].t=this.ze(p.a(c.x,c.y));a[1].n=this.Be(p.a(c.x,c.y));a[2].t=this.ze(p.a(d.x,d.y));a[2].n=this.Be(p.a(d.x,
d.y));a[3].t=this.ze(p.a(d.x,c.y));a[3].n=this.Be(p.a(d.x,c.y))}this.ad()}},ad:function(){if(this.$a&&this.vc){for(var a=this.$a.ub.Fa.F,c=this.vc,d=0,e=this.bd;d<e;++d)c[d].F=a;this.mr=!0}},AA:null,RO:function(){var a=this.$a,c=a.e(),d=this.kh;if(this.Xe==p.Pj){this.qi=Math.round(Math.sqrt(c.width*c.width+c.height*c.height));var e,f=!1,g=this.Qc;g.x=c.width*d.x;g.y=-c.height*d.y;this.pd?(e=270,d=270-3.6*this.ni):(d=-90,e=-90+3.6*this.ni);a.Yb&&(g.x-=2*c.width*this.kh.x,d=-d-180,e=-e-180,f=!f);a.Zb&&
(g.y+=2*c.height*this.kh.y,f=!f,d=-d,e=-e);this.rA=d;this.$y=e;this.Ky=f}else{e=this.ol;g=this.ni/100;f=this.vy;e=p.size(c.width*(1-e.x),c.height*(1-e.y));var g=p.size((c.width-e.width)*g,(c.height-e.height)*g),g=p.size(e.width+g.width,e.height+g.height),h=p.a(c.width*d.x,c.height*d.y),k=h.x-g.width/2;0.5<d.x&&g.width/2>=c.width-h.x&&(k=c.width-g.width);e=h.y-g.height/2;0.5<d.y&&g.height/2>=c.height-h.y&&(e=c.height-g.height);f.x=0;c=1;a.Yb&&(f.x-=g.width,c=-1);0<k&&(f.x+=k*c);f.y=0;c=1;a.Zb&&(f.y+=
g.height,c=-1);0<e&&(f.y-=e*c);f.width=g.width;f.height=-g.height}},SO:function(){var a=this.Xe;a===p.Pj?this.VO():a===p.Jx&&this.KO();this.mr=!0}});
p.ta.Ac?(b=p.pc.prototype,b.ctor=p.pc.prototype.ih,b.VI=p.pc.prototype.mO,b.js=p.pc.prototype.pO,b.Ei=p.pc.prototype.tO,b.UI=p.pc.prototype.kO,b.JB=p.pc.prototype.UM,b.Ia=p.pc.prototype.Qf,b.AA=p.pc.prototype.SO):(b=p.pc.prototype,b.ctor=p.pc.prototype.hh,b.VI=p.pc.prototype.lO,b.js=p.pc.prototype.oO,b.Ei=p.pc.prototype.sO,b.UI=p.pc.prototype.jO,b.JB=p.pc.prototype.TM,b.Ia=p.pc.prototype.sl,b.AA=p.pc.prototype.RO);p.pc.create=function(a){var c=new p.pc;return c.JB(a)?c:null};p.Lx=p.K.extend({We:0,Ld:0,ctor:function(){p.K.prototype.ctor.call(this);this.Ld=this.We=0},H:function(a,c){return p.K.prototype.H.call(this,a)?(this.We=c,!0):!1},B:function(){var a=new p.Lx;a.H(this.na,this.We);return a},reverse:function(){p.log("cc.ProgressTo.reverse(): reverse hasn't been supported.");return null},Q:function(a){p.K.prototype.Q.call(this,a);this.Ld=a.Vv();100==this.Ld&&(this.Ld=0)},update:function(a){this.L instanceof p.pc&&this.L.hs(this.Ld+(this.We-this.Ld)*a)}});
p.Lx.create=function(a,c){var d=new p.Lx;d.H(a,c);return d};p.lt=p.K.extend({We:0,Ld:0,ctor:function(){p.K.prototype.ctor.call(this);this.Ld=this.We=0},H:function(a,c,d){return p.K.prototype.H.call(this,a)?(this.We=d,this.Ld=c,!0):!1},B:function(){var a=new p.lt;a.H(this.na,this.Ld,this.We);return a},reverse:function(){return p.lt.create(this.na,this.We,this.Ld)},Q:function(a){p.K.prototype.Q.call(this,a)},update:function(a){this.L instanceof p.pc&&this.L.hs(this.Ld+(this.We-this.Ld)*a)}});
p.lt.create=function(a,c,d){var e=new p.lt;e.H(a,c,d);return e};p.lx=9;p.VJ=1;p.YJ=2;p.ZJ=4;p.WJ=8;p.XJ=16;p.hD=32;p.$J=64;p.UJ=128;p.Qh=256;p.If=1;p.jD=2;p.iD=4;p.IW=8;p.HW=8;
p.Gb=p.eh.extend({ZE:!1,DZ:!1,Gk:function(){return this.ZE},ff:function(a){this.ZE=a;for(var c=this.p,d=0,e=c.length;d<e;d++){var f=c[d];f&&f.Ua&&f.ff(a)}},si:p.If,P3:function(){return this.si},eq:!1,$n:!1,cj:!1,iu:null,ef:function(a){this.si=(this.eq=a)?p.If:p.iD;this.Jc()},isEnabled:function(){return this.eq},ep:function(a){this.$n=a;this.Jc()},A5:function(){return this.$n},Qk:function(a){this.cj=a;this.Jc()},j5:function(){return this.cj},xR:function(){for(var a=this.getParent();null!=a;a=a.getParent())if(!a.va)return!1;
return!0},ctor:function(){p.eh.prototype.ctor.call(this);this.iu={};this.Xb=p.jb()},q:function(){return p.eh.prototype.q.call(this)?(this.si=p.If,this.eq=!0,this.cj=this.$n=!1,this.ks(1),!0):!1},xw:function(){p.kC(this.wk,!0,this)},Fe:function(a){for(var c=0,d=p.lx;c<d;c++)if(a&1<<c)for(var e=this.Wy(1<<c),f=0,g=e.length;f<g;f++)e[f].YR(this)},lG:function(a,c,d){for(var e=0,f=p.lx;e<f;e++)d&1<<e&&this.tE(a,c,1<<e)},O7:function(a,c,d){for(var e=0,f=p.lx;e<f;e++)d&1<<e&&this.LN(a,c,1<<e)},xi:function(a){return this.wb(a.V)},
Gh:function(a){a=a.V;a=this.getParent().wb(a);return p.Lb(this.Wa(),a)},FZ:function(){return null},Wy:function(a){a=a.toString();this.iu.hasOwnProperty(a)||(this.iu[a]=[]);return this.iu[a]},tE:function(a,c,d){a=new p.yK(a,c,d);this.Wy(d).push(a)},LN:function(a,c,d){d=this.Wy(d);if(a||c)for(var e=0;e<d.length;){var f=d[e],g=!0;a&&(g=a==f.L);c&&(g=g&&c==f.lf);g?p.Ad(d,f):e++}else d.length=0},Jc:function(){}});p.Gb.create=function(){var a=new p.Gb;return a&&a.q()?a:null};p.nD=3435855873;
p.cl=p.Gb.extend({$p:!1,nr:!1,Sf:null,vq:null,Sp:null,fu:null,Sl:null,Fd:null,mi:0,On:!1,ov:null,br:null,pv:null,nl:null,mF:!1,Gu:0,Fu:0,ctor:function(){p.Gb.prototype.ctor.call(this);this.Sf=new p.Sj(0,0);this.vq=new p.tg(0,0);this.Sp="";this.fu=p.jb();this.ov={};this.br={};this.pv={};this.nl={}},q:function(){return this.cw(p.Y.create("","Arial",12),p.Ne.create())},Jc:function(){if(this.mF){this.Sl&&this.Sl.r(!1);this.Fd&&this.Fd.r(!1);this.MU(this.vq);var a=this.si;this.Sp=this.uB(a);this.fu=this.gR(a);
var c=this.Sl=this.Dr(a);c&&c.fa&&c.fa(this.Sp);c&&c.Ua&&c.k(this.fu);var d=this.e();c&&c.w(d.width/2,d.height/2);(a=this.Fd=this.vQ(a))&&a.w(d.width/2,d.height/2);d=c?c.Wa().Na:p.size(0,0);if(this.$p)a&&a.ea(d.width+2*this.Fu,d.height+2*this.Gu);else if(a){var e=a.Sf,e=p.size(e.width,e.height);0>=e.width&&(e.width=d.width);0>=e.height&&(e.height=d.height);a.ea(e)}d=c?c.Wa():p.rect(0,0,0,0);e=a?a.Wa():p.rect(0,0,0,0);d=p.ww(d,e);this.ea(d.width,d.height);d=this.e();c&&(c.w(d.width/2,d.height/2),c.r(!0));
a&&(a.w(d.width/2,d.height/2),a.r(!0))}},cw:function(a,c){if(!a||!a.Ua)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): label should be non-null";if(!c)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): backgroundSprite should be non-null";return p.Gb.prototype.q.call(this,!0)?(this.mF=!0,this.ov={},this.br={},this.pv={},this.nl={},this.Mb(!0),this.On=!1,this.nr=!0,this.Sp=null,this.kU(!0),this.Hj(p.size(0,0)),this.nr=!0,this.yi(!1),this.ma(0.5,0.5),this.Sl=a,this.Fd=c,this.X(255),
this.ff(!0),this.pV(a.sB(),p.If),this.oV(a.cd(),p.If),this.GC(a,p.If),this.Fw(c,p.If),this.si=p.If,this.Fu=24,this.Gu=12,this.vq=new p.tg(0.5,0.5),this.Hj(p.hl()),this.Jc(),!0):!1},OR:function(a,c,d){a=p.Y.create(a,c,d);return this.cw(a,p.Ne.create())},pH:function(a){var c=p.Y.create("","Arial",30);return this.cw(c,a)},o0:function(){return this.$p},kU:function(a){this.$p=a;this.Jc()},x4:function(){return this.nr},uV:function(a){return this.nr=a},SQ:function(){return this.Sf},Hj:function(a){if(0===
a.width&&0===a.height)this.$p=!0;else{this.$p=!1;var c=this.nl,d;for(d in c)c[d].Hj(a)}this.Sf=a;this.Jc()},o2:function(){return this.vq},MU:function(a){this.vq=a;this.Sl&&this.Sl.ma(a)},wZ:function(){return this.Sp},xZ:function(){return this.fu},wi:function(){return this.mi},X:function(a){p.Gb.prototype.X.call(this,a);var c=this.nl,d;for(d in c)c[d].X(a)},k:function(a){p.Gb.prototype.k.call(this,a);var c=this.nl,d;for(d in c)c[d].k(a)},cd:function(){return this.Nd},w5:function(){return this.On},
BZ:function(){return this.Gu},zZ:function(){return this.Fu},U8:function(a,c){this.Gu=c;this.Fu=a;this.Jc()},ef:function(a){p.Gb.prototype.ef.call(this,a);this.Jc()},ep:function(a){p.Gb.prototype.ep.call(this,a);this.Jc()},Qk:function(a){this.si=a?p.jD:p.If;p.Gb.prototype.Qk.call(this,a);(a=this.kB(p.nD))&&this.JV(a);this.Jc();this.nr&&(a=p.cn.create(0.05,this.cj&&this.isEnabled()&&!this.$n?1.1:1),a.$I(p.nD),this.Aw(a))},Fb:function(a){if(!(this.Gh(a)&&this.isEnabled()&&this.va&&this.xR()))return!1;
this.On=!0;this.Qk(!0);this.Fe(p.VJ);return!0},dd:function(a){this.eq&&this.On&&!this.$n?(a=this.Gh(a))&&!this.cj?(this.Qk(!0),this.Fe(p.WJ)):a&&this.cj?this.Fe(p.YJ):!a&&this.cj?(this.Qk(!1),this.Fe(p.XJ)):a||this.cj||this.Fe(p.ZJ):this.cj&&this.Qk(!1)},df:function(a){this.On=!1;this.Qk(!1);this.Gh(a)?this.Fe(p.hD):this.Fe(p.$J)},Ej:function(){this.On=!1;this.Qk(!1);this.Fe(p.UJ)},uB:function(a){var c=this.ov;return c?c[a]?c[a]:c[p.If]:""},pV:function(a,c){this.ov[c]=a||"";this.si==c&&this.Jc()},
gR:function(a){return(a=this.br[a])?a:(a=this.br[p.If])?a:p.jb()},oV:function(a,c){this.br[c]=a;this.si==c&&this.Jc()},Dr:function(a){var c=this.pv;return c.hasOwnProperty(a)&&c[a]?c[a]:c[p.If]},GC:function(a,c){var d=this.pv;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.r(!1);a.ma(0.5,0.5);this.s(a,1);this.si==c&&this.Jc()},W9:function(a,c){var d=this.uB(c);d||(d="");this.GC(p.Y.create(d,a,12),c)},Z3:function(a){a=this.Dr(a);return null!=a&&a instanceof p.Y?a.Qe:""},X9:function(a,
c){var d=this.Dr(c);null!=d&&d instanceof p.Y&&d.II(a)},a4:function(a){a=this.Dr(a);return null!=a&&a instanceof p.Y?a.qe:0},V9:function(a,c){var d=this.uB(c);d||(d="");this.GC(p.Dx.create(d,a),c)},Y3:function(a){a=this.Dr(a);return null!=a&&a instanceof p.Dx?a.V1():""},vQ:function(a){var c=this.nl;return c.hasOwnProperty(a)&&c[a]?c[a]:c[p.If]},Fw:function(a,c){var d=this.nl;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.r(!1);a.ma(0.5,0.5);this.s(a);d=this.Sf;0===d.width&&
0===d.height||a.Hj(d);this.si===c&&this.Jc()},f8:function(a,c){var d=p.Ne.uG(a);this.Fw(d,c)}});p.cl.create=function(a,c){var d;if(0==arguments.length)return(d=new p.cl)&&d.q()?d:null;1==arguments.length?(d=new p.cl,d.pH(arguments[0])):2==arguments.length?(d=new p.cl,d.cw(a,c)):3==arguments.length&&(d=new p.cl,d.OR(arguments[0],arguments[1],arguments[2]));return d};p.RGBA=function(a,c,d,e){this.h=a;this.g=c;this.f=d;this.D=e};p.zx=function(a,c,d){this.ce=a;this.Mh=c;this.ba=d};p.Dd={};p.Dd.cm=function(a,c,d,e){a=p.A.vG(a);if(!a)return null;a.w(d);a.ma(e);c.s(a);return a};p.Dd.uK=function(a){var c=new p.zx,d,e;d=a.h<a.g?a.h:a.g;d=d<a.f?d:a.f;e=a.h>a.g?a.h:a.g;e=e>a.f?e:a.f;c.ba=e;d=e-d;if(0<e)c.Mh=d/e;else return c.Mh=0,c.ce=-1,c;c.ce=a.h>=e?(a.g-a.f)/d:a.g>=e?2+(a.f-a.h)/d:4+(a.h-a.g)/d;c.ce*=60;0>c.ce&&(c.ce+=360);return c};
p.Dd.Ox=function(a){var c,d,e,f,g=new p.RGBA;g.D=1;if(0>=a.Mh){if(!a.ce)return g.h=a.ba,g.g=a.ba,g.f=a.ba,g;g.h=0;g.g=0;g.f=0;return g}c=a.ce;360<=c&&(c=0);c/=60;f=0|c;e=c-f;c=a.ba*(1-a.Mh);d=a.ba*(1-a.Mh*e);e=a.ba*(1-a.Mh*(1-e));switch(f){case 0:g.h=a.ba;g.g=e;g.f=c;break;case 1:g.h=d;g.g=a.ba;g.f=c;break;case 2:g.h=c;g.g=a.ba;g.f=e;break;case 3:g.h=c;g.g=d;g.f=a.ba;break;case 4:g.h=e;g.g=c;g.f=a.ba;break;default:g.h=a.ba,g.g=c,g.f=d}return g};p.Dd.eD=function(a,c){return p.ww(a,c)};p.yK=p.ra.extend({lf:null,L:null,eu:null,ctor:function(a,c,d){this.L=a;this.lf=c;this.eu=d},Z0:function(){return this.lf},fR:function(){return this.L},C1:function(){return this.eu},YR:function(a){if(this.L&&this.lf)if("string"==typeof this.lf)this.L[this.lf](a,this.eu);else this.lf.call(this.L,a,this.eu)}});p.KD=0;p.ND=1;p.LD=2;p.MD=3;p.ID=4;p.PD=5;p.OD=6;p.aL=7;p.JD=8;
p.Ne=p.kb.extend({Ua:!0,bo:null,CE:null,ok:!1,Ve:null,th:null,sh:null,Kg:null,ji:null,Si:null,oh:null,Zh:null,Yh:null,$h:null,Ui:null,$b:!1,Rc:null,Sf:null,mi:0,Xb:null,un:null,tu:0,vu:0,uu:0,su:0,GF:!1,mA:!1,ab:!1,nd:null,xJ:function(){return this.ab},vf:function(a,c){this.nd.push({zj:a,Ah:c})},Gd:function(){this.ab=!0;for(var a=this.nd,c=0,d=a.length;c<d;c++){var e=a[c];e.zj.call(e.Ah,this)}a.length=0},uv:function(){var a;a=this.tu;var c=this.vu,d=this.uu,e=this.bo,f=this.su;a=0===a&&0===c&&0===
d&&0===f?p.Nc():this.mA?p.rect(f,a,e.width-d-a,e.height-c-f):p.rect(a,c,e.width-a-d,e.height-c-f);this.pU(a)},QO:function(){if(this.th&&this.Kg&&this.$h&&this.Zh&&this.Si){var a=this.ja,c=this.th,d=this.Kg,e=this.$h,f=this.Zh,g=this.Si,h=this.Si.e(),k=c.e(),l=f.e(),m=a.wa-k.width-d.e().width,a=a.ia-k.height-e.e().height,m=m/h.width,a=a/h.height,k=h.width*m,n=h.height*a,s=l.width,l=l.height;if(!p.ta.Ac){var q=Math.round(k);k!=q&&(k=q,m=k/h.width);q=Math.round(n);n!=q&&(n=q,a=n/h.height)}g.dp(m);g.Im(a);
var h=this.ji,q=this.oh,v=this.sh,z=this.Yh,D=p.a(0,0);f.ma(D);e.ma(D);c.ma(D);d.ma(D);h.ma(D);q.ma(D);v.ma(D);z.ma(D);g.ma(D);f.w(0,0);e.w(s+k,0);c.w(0,l+n);d.w(s+k,l+n);h.w(0,l);h.Im(a);q.w(s+k,l);q.Im(a);z.w(s,0);z.dp(m);v.w(s,l+n);v.dp(m);g.w(s,l)}},ctor:function(){p.kb.prototype.ctor.call(this);this.bo=p.Nc();this.CE=p.Nc();this.Ui=p.jb();this.Rc=new p.Sj(0,0);this.Sf=new p.Sj(0,0);this.Xb=p.jb();this.mi=255;this.un=p.Nc();this.nd=[]},QQ:function(){return this.Rc},SQ:function(){return this.Sf},
Hj:function(a){this.ea(a);this.Sf=a},wi:function(){return this.mi},X:function(a){if(this.Ve){this.mi=a;for(var c=this.Ve.p,d=0;d<c.length;d++){var e=c[d];e&&e.Ua&&e.X(a)}}},cd:function(){return this.Xb},k:function(a){if(this.Ve){this.Xb=a;for(var c=this.Ve.p,d=0;d<c.length;d++){var e=c[d];e&&e.Ua&&e.k(a)}}},p1:function(){return this.un},pU:function(a){if(this.Ve){var c=this.ja,d=c.wa,c=c.ia;this.jp(this.Ve,this.bo,this.mA,a);this.ea(d,c)}},k2:function(){return this.tu},N8:function(a){this.tu=a;this.uv()},
m2:function(){return this.vu},P8:function(a){this.vu=a;this.uv()},l2:function(){return this.uu},O8:function(a){this.uu=a;this.uv()},j2:function(){return this.su},M8:function(a){this.su=a;this.uv()},ea:function(a,c){2===arguments.length?p.I.prototype.ea.call(this,a,c):p.I.prototype.ea.call(this,a);this.ok=!0},ga:function(a){this.ok&&(this.QO(),this.ok=!1);p.kb.prototype.ga.call(this,a)},q:function(){return this.aw(null,p.Nc(),!1,p.Nc())},aw:function(a,c,d,e){3===arguments.length&&(e=d,d=!1);a&&this.jp(a,
c,d,e);this.ma(0.5,0.5);return this.ok=!0},zi:function(a,c,d){a instanceof p.Kf?(d=a=c,c=p.Nc()):(c=c||p.Nc(),d=d||p.Nc());if(!a)throw"cc.Scale9Sprite.initWithFile(): file should be non-null";var e=p.Ra.d().Xw(a);if(!e){var e=p.Ra.d().gc(a),f=e.fg();(this.ab=f)||e.vf(function(a){var c=this.Sf,c=p.size(c.width,c.height);a=a.e();this.jp(this.Ve,p.rect(0,0,a.width,a.height),!1,this.un);this.Hj(c);this.ok=!0;this.Gd()},this)}a=p.eb.create(a,9);return this.aw(a,c,!1,d)},ee:function(a,c){if(!a||!a.S())throw"cc.Scale9Sprite.initWithSpriteFrame(): spriteFrame should be non-null and its texture should be non-null";
c=c||p.Nc();var d=a.ab;(this.ab=d)||a.vf(function(a){var c=this.Sf,c=p.size(c.width,c.height);this.jp(this.Ve,a.Yd(),p.ta.Ac?a.Sc:!1,this.un);this.Hj(c);this.ok=!0;this.Gd()},this);d=p.eb.qd(a.S(),9);return this.aw(d,a.Yd(),p.ta.Ac?a.Sc:!1,c)},uH:function(a,c){if(!a)throw"cc.Scale9Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";c=c||p.Nc();var d=p.Lf.d().Tg(a);return null==d?(p.log("cc.Scale9Sprite.initWithSpriteFrameName(): can't find the sprite frame by spriteFrameName"),!1):
this.ee(d,c)},R7:function(a){var c=new p.Ne;return c&&c.aw(this.Ve,this.bo,!1,a)?c:null},ff:function(a){if(this.Ve){this.$b=a;var c=this.Ve.p;if(c)for(var d=0,e=c.length;d<e;d++)c[d].ff(a)}},Gk:function(){return this.$b},jp:function(a,c,d,e){var f=this.wi(),g=this.cd();c=p.rect(c.x,c.y,c.width,c.height);this.Lh(!0);this.Ve!=a&&(this.Ve=a);a=a.S();var h=a.fg();if(this.ab=h){a=this.Ve;a.Lh(!0);h=this.un;h.x=e.x;h.y=e.y;h.width=e.width;h.height=e.height;this.mA=d;h=a.S();p.Iq(c)&&(c=h.e(),c=p.rect(0,
0,c.width,c.height));var k=this.bo=c;k.x=c.x;k.y=c.y;k.width=c.width;k.height=c.height;var l=c.Na;this.Rc.width=l.width;this.Rc.height=l.height;k=this.Sf;0===k.width&&0===k.height&&(k.width=l.width,k.height=l.height);k=this.CE;e&&(k.x=e.x,k.y=e.y,k.width=e.width,k.height=e.height);var m=l.width;e=l.height;p.Iq(k)&&(k.x=m/3,k.y=e/3,k.width=m/3,k.height=e/3);var n=k.x,s=k.width,q=m-(n+s),v=k.y,z=k.height,D=e-(v+z),F=0,L=0;e=p.rect(F,L,n,v);var F=F+n,k=p.rect(F,L,s,v),m=p.rect(F+s,L,q,v),F=0,L=0+v,l=
p.rect(F,L,n,z),F=F+n,ba=p.rect(F,L,s,z),F=F+s,I=p.rect(F,L,q,z),F=0,L=0+v+z,v=p.rect(F,L,n,D),F=F+n,n=p.rect(F,L,s,D),F=F+s,s=p.rect(F,L,q,D),q={D:1,f:0,qa:0,za:1,Ka:0,La:0};if(d){d=ba;var D=s,F=v,L=m,z=e,N=I,M=l,ka=n,X=k,q=p.fx(q,c.height+c.x,c.y),q=p.TJ(q),ba=p.ug(ba,q),s=p.ug(s,q),v=p.ug(v,q),m=p.ug(m,q);e=p.ug(e,q);I=p.ug(I,q);l=p.ug(l,q);n=p.ug(n,q);k=p.ug(k,q);d.x=ba.x;d.y=ba.y;D.x=s.x;D.y=s.y;F.x=v.x;F.y=v.y;L.x=m.x;L.y=m.y;z.x=e.x;z.y=e.y;N.x=I.x;N.y=I.y;M.x=l.x;M.y=l.y;ka.x=n.x;ka.y=n.y;
X.x=k.x;X.y=k.y;this.Si=new p.A;this.Si.Aa(h,d,!0);a.s(this.Si,0,p.KD);this.sh=new p.A;this.sh.Aa(h,X,!0);a.s(this.sh,1,p.ND);this.Yh=new p.A;this.Yh.Aa(h,ka,!0);a.s(this.Yh,1,p.ID);this.ji=new p.A;this.ji.Aa(h,M,!0);a.s(this.ji,1,p.LD);this.oh=new p.A;this.oh.Aa(h,N,!0);a.s(this.oh,1,p.MD);this.th=new p.A;this.th.Aa(h,z,!0);a.s(this.th,2,p.OD);this.Kg=new p.A;this.Kg.Aa(h,L,!0);a.s(this.Kg,2,p.PD);this.Zh=new p.A;this.Zh.Aa(h,F,!0);a.s(this.Zh,2,p.JD);this.$h=new p.A;this.$h.Aa(h,D,!0)}else q=p.fx(q,
c.x,c.y),p.Uh(ba,q),p.Uh(s,q),p.Uh(v,q),p.Uh(m,q),p.Uh(e,q),p.Uh(I,q),p.Uh(l,q),p.Uh(n,q),p.Uh(k,q),this.Si=new p.A,this.Si.Aa(h,ba),a.s(this.Si,0,p.KD),this.sh=new p.A,this.sh.Aa(h,k),a.s(this.sh,1,p.ND),this.Yh=new p.A,this.Yh.Aa(h,n),a.s(this.Yh,1,p.ID),this.ji=new p.A,this.ji.Aa(h,l),a.s(this.ji,1,p.LD),this.oh=new p.A,this.oh.Aa(h,I),a.s(this.oh,1,p.MD),this.th=new p.A,this.th.Aa(h,e),a.s(this.th,2,p.OD),this.Kg=new p.A,this.Kg.Aa(h,m),a.s(this.Kg,2,p.PD),this.Zh=new p.A,this.Zh.Aa(h,v),a.s(this.Zh,
2,p.JD),this.$h=new p.A,this.$h.Aa(h,s);a.s(this.$h,2,p.aL);this.ea(c.Na);this.s(a);this.GF&&(this.X(f),255===g.h&&255===g.g&&255===g.f||this.k(g));return this.GF=!0}a.vf(function(){this.ok=!0;this.Gd()},this)},gf:function(a){var c=p.eb.qd(a.S(),9),d=a.ab;(this.ab=d)||a.vf(function(a){var c=this.Sf,c=p.size(c.width,c.height);this.jp(this.Ve,a.Yd(),p.ta.Ac?a.Sc:!1,this.un);this.Hj(c);this.ok=!0;this.Gd()},this);this.jp(c,a.Yd(),p.ta.Ac?a.Sc:!1,p.Nc());this.su=this.uu=this.vu=this.tu=0}});
p.Ne.create=function(a,c,d){var e;if(2===arguments.length)if("string"==typeof a){if((e=new p.Ne)&&e.zi(a,c))return e}else{if(a instanceof p.Kf&&(e=new p.Ne)&&e.zi(a,d))return e}else if(3===arguments.length){if((e=new p.Ne)&&e.zi(a,c,d))return e}else if(1===arguments.length){if((e=new p.Ne)&&e.zi(a))return e}else if(0===arguments.length&&(e=new p.Ne)&&e.q())return e;return null};p.Ne.uG=function(a,c){var d=new p.Ne;return d&&d.ee(a,c)?d:null};
p.Ne.vG=function(a,c){if(!a)throw"cc.Scale9Sprite.createWithSpriteFrameName(): spriteFrameName should be non-null";var d=new p.Ne;return d&&d.uH(a,c)?d:null};p.xt=p.oc.extend({});p.xt.laa=function(a){var c=new p.xt;c.q();c.ea(0,a);return c};p.xt.F4=function(a){var c=new p.xt;c.q();c.ea(a,0);return c};
p.it=p.oc.extend({Ua:!0,Xb:null,mi:0,ctor:function(){},cd:function(){return this.Xb},k:function(a){this.Xb=a;if(this.p&&0<this.p.length)for(var c=0;c<this.p.length;c++)this.p[c]&&this.p[c].Ua&&this.p[c].k(a)},wi:function(){return this.mi},X:function(a){this.mi=a;if(this.p&&0<this.p.length)for(var c=0;c<this.p.length;c++)this.p[c]&&this.p[c].Ua&&this.p[c].X(a)},HR:function(a,c){if(this.q()){var d=p.O.d().Cb;this.yi(!0);this.ma(0.5,0.5);this.ea(d);this.w(d.width/2,d.height/2);d=0;if(a){this.s(a,d);
for(var e=0;e<c.length;e++)c[e]&&(d++,this.s(c[e],d))}return!0}return!1},t_:function(){this.dP(p.dK)},dP:function(a){var c=-a,d;if(this.p&&0<this.p.length)for(d=0;d<this.p.length;d++)this.p[d]&&(c+=this.p[d].e().height*this.p[d].pa+a);var e=0,f=c/2;if(this.p&&0<this.p.length)for(d=0;d<this.p.length;d++)this.p[d]&&(e=Math.max(e,this.p[d].e().width),this.p[d].w(0,f-this.p[d].e().height*this.p[d].pa/2),f-=this.p[d].e().height*this.p[d].pa+a);this.ea(e,c)},q_:function(){this.cP(p.dK)},cP:function(a){var c=
-a,d;if(this.p&&0<this.p.length)for(d=0;d<this.p.length;d++)this.p[d]&&(c+=this.p[d].e().width*this.p[d].ka+a);var e=0,f=-c/2;if(this.p&&0<this.p.length)for(d=0;d<this.p.length;d++)this.p[d]&&(e=Math.max(e,this.p[d].e().height),this.p[d].w(f+this.p[d].e().width*this.p[d].ka/2,0),f+=this.p[d].e().width*this.p[d].ka+a);this.ea(c,e)},r_:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=-5,f=0,g=0,h=0,k,l;if(this.p&&0<this.p.length)for(d=0;d<this.p.length;d++)this.p[d]&&
(f>=c.length?p.log("cc.MenuPassive.alignItemsInColumns(): invalid row index"):(k=c[f])?(l=this.p[d].e().height,g=0|(g>=l||null==l?g:l),++h,h>=k&&(e+=g+5,g=h=0,++f)):p.log("cc.MenuPassive.alignItemsInColumns(): can not have zero columns on a row"));var m=p.O.d().Cb,n=k=g=f=0,s=0,e=e/2;if(this.p&&0<this.p.length)for(d=0;d<this.p.length;d++)this.p[d]&&(0==k&&(k=c[f],s=n=m.width/(1+k)),l=this.p[d].e().height,g=0|(g>=l||null==l?g:l),this.p[d].w(s-m.width/2,e-this.p[d].e().height/2),s+=n,++h,h>=k&&(e-=
g+5,g=k=h=0,++f))},s_:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=[],f=[],g=-10,h=-5,k=0,l=0,m=0,n,s;if(this.p&&0<this.p.length)for(d=0;d<this.p.length;d++)this.p[d]&&(k>=c.length?p.log("cc.MenuPassive.alignItemsInRows(): invalid row index"):(n=c[k])?(s=this.p[d].e().width,l=0|(l>=s||null==s?l:s),h+=0|this.p[d].e().height+5,++m,m>=n&&(e.push(l),f.push(h),g+=l+10,l=m=0,h=-5,++k)):p.log("cc.MenuPassive.alignItemsInColumns(): can't have zero rows on a column"));h=
p.O.d().Cb;l=k=0;n=null;var g=-g/2,q=0;if(this.p&&0<this.p.length)for(d=0;d<this.p.length;d++)this.p[d]&&(null==n&&(n=c[k],q=f[k]),s=this.p[d].e().width,l=0|(l>=s||null==s?l:s),this.p[d].w(g+e[k]/2,q-h.height/2),q-=this.p[d].e().height+10,++m,m>=n&&(g+=l+5,l=n=m=0,++k))},ff:function(){},Gk:function(){return!1}});p.it.create=function(a){0==arguments.length&&(a=null);for(var c=[],d=1;d<arguments.length;d++)c.push(arguments[d]);return(d=new p.it)&&d.HR(a,c)?d:null};
p.it.g0=function(a){return p.it.create(a,null)};p.rx=p.Gb.extend({$z:0,Vt:0,rc:null,tN:null,EF:null,Jg:null,fc:null,Of:0,Ri:0,z3:function(){return this.$z},l1:function(){return this.Vt},TG:function(){return this.rc},Z2:function(){return this.Vt},F3:function(){return this.EF},bR:function(){return this.Jg},dR:function(){return this.fc},LB:function(a,c){return p.Gb.prototype.q.call(this)?(this.Mb(!0),this.rc=p.Dd.cm("colourPickerBackground.png",a,c,p.a(0,0)),this.tN=p.Dd.cm("colourPickerOverlay.png",a,c,p.a(0,0)),this.EF=p.Dd.cm("colourPickerShadow.png",
a,c,p.a(0,0)),this.Jg=p.Dd.cm("colourPicker.png",a,c,p.a(0.5,0.5)),this.fc=c,this.Of=35,this.Ri=this.rc.e().width/2,!0):!1},ef:function(a){p.Gb.prototype.ef.call(this,a);this.Jg&&this.Jg.X(a?255:128)},KJ:function(a){var c=new p.zx;c.Mh=1;c.ce=a.ce;c.ba=1;a=p.Dd.Ox(c);this.rc.k(p.Ev(0|255*a.h,0|255*a.g,0|255*a.f))},VV:function(a){a=p.a(this.fc.x+this.Of+this.Ri*(1-a.Mh),this.fc.y+this.Of+this.Ri*a.ba);this.xv(a)},xv:function(a){var c=this.fc.x+0.5*this.rc.Wa().width,d=this.fc.y+0.5*this.rc.Wa().height,
e=a.x-c,f=a.y-d,g=Math.sqrt(e*e+f*f),e=Math.atan2(f,e),f=0.5*this.rc.Wa().width;g>f&&(a.x=c+f*Math.cos(e),a.y=d+f*Math.sin(e));this.Jg.w(a);a.x<this.fc.x+this.Of?a.x=this.fc.x+this.Of:a.x>this.fc.x+this.Of+this.Ri-1&&(a.x=this.fc.x+this.Of+this.Ri-1);a.y<this.fc.y+this.Of?a.y=this.fc.y+this.Of:a.y>this.fc.y+this.Of+this.Ri&&(a.y=this.fc.y+this.Of+this.Ri);this.$z=1-Math.abs((this.fc.x+this.Of-a.x)/this.Ri);this.Vt=Math.abs((this.fc.y+this.Of-a.y)/this.Ri)},Op:function(a){var c=this.fc.x+0.5*this.rc.Wa().width,
d=this.fc.y+0.5*this.rc.Wa().height,c=a.x-c,d=a.y-d;return Math.sqrt(c*c+d*d)<=0.5*this.rc.Wa().width?(this.xv(a),this.Fe(p.Qh),!0):!1},Fb:function(a){if(!this.isEnabled()||!this.va)return!1;a=this.xi(a);return this.Op(a)},dd:function(a){a=this.xi(a);this.Op(a)}});p.rx.create=function(a,c){var d=new p.rx;d.LB(a,c);return d};p.qx=p.Gb.extend({Kn:0,pq:0,rc:null,Jg:null,fc:null,e2:function(){return this.Kn},AC:function(a){this.Kn=a;this.IU(this.Kn/360)},f2:function(){return this.pq},IU:function(a){this.pq=a;this.Kn=360*this.pq;a=this.rc.Wa();var c=0.5*a.width-15,d=p.Ji(360*this.pq-180);this.Jg.w(this.fc.x+0.5*a.width+c*Math.cos(d),this.fc.y+0.5*a.height+c*Math.sin(d))},ef:function(a){p.Gb.prototype.ef.call(this,a);this.Jg&&this.Jg.X(a?255:128)},TG:function(){return this.rc},bR:function(){return this.Jg},dR:function(){return this.fc},
LB:function(a,c){return p.Gb.prototype.q.call(this)?(this.Mb(!0),this.rc=p.Dd.cm("huePickerBackground.png",a,c,p.a(0,0)),this.Jg=p.Dd.cm("colourPicker.png",a,c,p.a(0.5,0.5)),this.Jg.w(c.x,c.y+0.5*this.rc.Wa().height),this.fc=c,this.pq=this.Kn=0,!0):!1},xv:function(a){var c=this.rc.Wa();this.AC(p.Mx(Math.atan2(a.y-(this.fc.y+0.5*c.height),a.x-(this.fc.x+0.5*c.width)))+180);this.Fe(p.Qh)},Op:function(a){var c=Math.sqrt(Math.pow(a.x+10,2)+Math.pow(a.y,2));return 80>c&&59<c?(this.xv(a),!0):!1},Fb:function(a){if(!this.isEnabled()||
!this.va)return!1;a=this.xi(a);return this.Op(a)},dd:function(a){a=this.xi(a);this.Op(a)}});p.qx.create=function(a,c){var d=new p.qx;d.LB(a,c);return d};p.oD=p.Gb.extend({zg:null,$j:null,xl:null,rc:null,ER:function(a){this.zg.ce=a.Kn;a=p.Dd.Ox(this.zg);p.Gb.prototype.k.call(this,p.Ev(0|255*a.h,0|255*a.g,0|255*a.f));this.Fe(p.Qh);this.NO()},CP:function(a){this.zg.Mh=a.$z;this.zg.ba=a.Vt;a=p.Dd.Ox(this.zg);p.Gb.prototype.k.call(this,p.Ev(0|255*a.h,0|255*a.g,0|255*a.f));this.Fe(p.Qh)},k:function(a){p.Gb.prototype.k.call(this,a);var c=new p.RGBA;c.h=a.h/255;c.g=a.g/255;c.f=a.f/255;c.D=1;this.zg=p.Dd.uK(c);this.VF()},TG:function(){return this.rc},q:function(){if(p.Gb.prototype.q.call(this)){this.Mb(!0);
p.Lf.d().kG(aa.cD);var a=p.eb.create(aa.dD);this.s(a);this.zg=new p.zx(0,0,0);this.rc=p.Dd.cm("menuColourPanelBackground.png",a,p.Li(),p.a(0.5,0.5));var c=p.ed(this.rc.o,p.a(this.rc.e().width/2,this.rc.e().height/2));this.xl=p.qx.create(a,p.a(c.x+8,c.y+8));this.$j=p.rx.create(a,p.a(c.x+28,c.y+28));this.xl.lG(this,this.ER,p.Qh);this.$j.lG(this,this.CP,p.Qh);this.VF();this.s(this.xl);this.s(this.$j);this.ea(this.rc.e());return!0}return!1},NO:function(){this.xl.AC(this.zg.ce);this.$j.KJ(this.zg)},VF:function(){this.xl.AC(this.zg.ce);
this.$j.KJ(this.zg);this.$j.VV(this.zg)},ef:function(a){p.Gb.prototype.ef.call(this,a);null!=this.xl&&this.xl.ef(a);this.$j&&this.$j.ef(a)},Fb:function(){return!1}});p.oD.create=function(){var a=new p.oD;a.q();return a};aa=aa||{};aa.cD=aa.cD||"res/extensions/CCControlColourPickerSpriteSheet.plist";aa.dD=aa.dD||"res/extensions/CCControlColourPickerSpriteSheet.png";p.WD=24;p.BY=8;
p.qD=p.Gb.extend({Dc:0,Sa:0,pb:0,Lu:0,Ju:0,qb:null,pk:null,Fd:null,gH:function(){return this.Dc},He:function(a){a=Math.max(a,this.Sa);this.Dc=a=Math.min(a,this.pb);this.Jc();this.Fe(p.Qh)},LQ:function(){return this.Sa},RI:function(a){this.Lu=this.Sa=a;this.Sa>=this.pb&&(this.pb=this.Sa+1);this.He(this.Dc)},KQ:function(){return this.pb},OI:function(a){this.Ju=this.pb=a;this.pb<=this.Sa&&(this.Sa=this.pb-1);this.He(this.Dc)},Gh:function(a){a=a.V;a=this.getParent().wb(a);var c=this.Wa();c.Na.width+=
this.qb.e().width;c.Qc.x-=this.qb.e().width/2;return p.Lb(c,a)},om:function(a){a=a.V;a=this.wb(a);0>a.x?a.x=0:a.x>this.Fd.e().width&&(a.x=this.Fd.e().width);return a},C2:function(){return this.Lu},Z8:function(a){this.Lu=a},z2:function(){return this.Ju},Y8:function(a){this.Ju=a},dH:function(){return this.qb},j3:function(){return this.pk},f1:function(){return this.Fd},MR:function(a,c,d){return p.Gb.prototype.q.call(this)?(this.yi(!1),this.Mb(!0),this.Fd=a,this.pk=c,this.qb=d,a=p.Dd.eD(a.Wa(),d.Wa()),
this.ea(a.width,a.height),this.Fd.ma(0.5,0.5),this.Fd.w(a.width/2,a.height/2),this.s(this.Fd),this.pk.ma(0,0.5),this.pk.w(0,a.height/2),this.s(this.pk),this.qb.w(0,a.height/2),this.s(this.qb),this.Sa=0,this.pb=1,this.He(this.Sa),!0):!1},ef:function(a){p.Gb.prototype.ef.call(this,a);this.qb&&this.qb.X(a?255:128)},FV:function(a){this.ep(!0);this.qb.k(p.Ho());this.He(this.YC(a))},HV:function(a){this.He(this.YC(a))},GV:function(){this.$n&&this.He(this.YC(this.qb.o));this.qb.k(p.jb());this.ep(!1)},f4:function(a){a=
a.V;a=this.wb(a);0>a.x?a.x=0:a.x>this.Fd.e().width+p.WD&&(a.x=this.Fd.e().width+p.WD);return a},Fb:function(a){if(!this.Gh(a)||!this.isEnabled()||!this.va)return!1;a=this.om(a);this.FV(a);return!0},dd:function(a){a=this.om(a);this.HV(a)},df:function(){this.GV(p.Li())},Jc:function(){this.qb.xb((this.Dc-this.Sa)/(this.pb-this.Sa)*this.Fd.e().width);var a=this.pk.tB(),a=p.rect(a.x,a.y,this.qb.o.C,a.height);this.pk.ib(a,this.pk.Hc,a.Na)},YC:function(a){a=a.x/this.Fd.e().width;return Math.max(Math.min(this.Sa+
a*(this.pb-this.Sa),this.Ju),this.Lu)}});p.qD.create=function(a,c,d){"string"==typeof a&&(a=p.A.create(a),c=p.A.create(c),d=p.A.create(d));var e=new p.qD;e.MR(a,c,d);return e};p.sD=p.Gb.extend({Ic:null,TE:0,Cq:!1,Wn:!1,ctor:function(){p.Gb.prototype.ctor.call(this)},IB:function(a,c,d,e,f,g){if(!a)throw"cc.ControlSwitch.initWithMaskSprite(): maskSprite should be non-null.";if(!c)throw"cc.ControlSwitch.initWithMaskSprite(): onSprite should be non-null.";if(!d)throw"cc.ControlSwitch.initWithMaskSprite(): offSprite should be non-null.";if(!e)throw"cc.ControlSwitch.initWithMaskSprite(): thumbSprite should be non-null.";return this.q()?(this.Mb(!0),this.Wn=!0,this.Ic=new p.cK,
this.Ic.IB(a,c,d,e,f,g),this.Ic.w(this.Ic.e().width/2,this.Ic.e().height/2),this.s(this.Ic),this.yi(!1),this.ma(0.5,0.5),this.ea(this.Ic.e()),!0):!1},Iw:function(a,c){var d=(this.Wn=a)?this.Ic.lk:this.Ic.Bl;c?this.Ic.Aw(p.Tm.create(0.2,"sliderXPosition",this.Ic.lj,d)):this.Ic.DC(d);this.Fe(p.Qh)},q5:function(){return this.Wn},C4:function(){return this.Cq},ef:function(a){this.eq=a;this.Ic.X(a?255:128)},om:function(a){a=a.V;return a=this.wb(a)},Fb:function(a){if(!this.Gh(a)||!this.isEnabled()||!this.va)return!1;
this.Cq=!1;this.TE=this.om(a).x-this.Ic.lj;this.Ic.qb.k(p.Ho());this.Ic.Jc();return!0},dd:function(a){a=this.om(a);a=p.a(a.x-this.TE,0);this.Cq=!0;this.Ic.DC(a.x)},df:function(a){a=this.om(a);this.Ic.qb.k(p.jb());this.Cq?this.Iw(!(a.x<this.Ic.e().width/2),!0):this.Iw(!this.Wn,!0)},Ej:function(a){a=this.om(a);this.Ic.qb.k(p.jb());this.Cq?this.Iw(!(a.x<this.Ic.e().width/2),!0):this.Iw(!this.Wn,!0)}});p.sD.create=function(a,c,d,e,f,g){var h=new p.sD;return h&&h.IB(a,c,d,e,f,g)?h:null};
p.cK=p.A.extend({lj:0,lk:0,Bl:0,KF:0,xz:0,yz:null,Dg:null,li:null,qb:null,Cl:null,Al:null,An:null,ac:null,Tt:null,ctor:function(){p.A.prototype.ctor.call(this);this.xz=this.Bl=this.lk=this.lj=0;this.yz=p.size(0,0);this.Al=this.Cl=this.qb=this.li=this.Dg=null},IB:function(a,c,d,e,f,g){return p.A.prototype.Aa.call(this,a.S())?(this.lk=0,this.Bl=-c.e().width+e.e().width/2,this.lj=this.lk,this.ZU(c),this.XU(d),this.FC(e),this.YU(f),this.WU(g),this.ac=a,a=this.yz=this.ac.e(),this.ac.w(0,0),this.An=p.Za.create(),
this.An.ma(0.5,0.5),this.An.w(a.width/2,a.height/2),this.An.EC(this.ac),this.Tt=p.lb.create(a.width,a.height),this.An.s(this.Tt.$a),this.s(this.An),this.s(this.qb),this.Jc(),!0):!1},Jc:function(){this.Dg.w(this.Dg.e().width/2+this.lj,this.Dg.e().height/2);this.li.w(this.Dg.e().width+this.li.e().width/2+this.lj,this.li.e().height/2);this.Cl&&this.Cl.w(this.Dg.o.x-this.qb.e().width/6,this.Dg.e().height/2);this.Al&&this.Al.w(this.li.o.x+this.qb.e().width/6,this.li.e().height/2);this.qb.w(this.Dg.e().width+
this.lj,this.yz.height/2);this.Tt.tj();this.Dg.ga();this.li.ga();this.Cl&&this.Cl.ga();this.Al&&this.Al.ga();this.Tt.end()},DC:function(a){a<=this.Bl?a=this.Bl:a>=this.lk&&(a=this.lk);this.lj=a;this.Jc()},I3:function(){return this.lj},A6:function(){return this.Dg.e().width},y6:function(){return this.li.e().height},VC:function(a,c){p.log("key \x3d "+c+", value \x3d "+a);this.DC(a)},i9:function(a){this.lk=a},T2:function(){return this.lk},f9:function(a){this.Bl=a},N2:function(){return this.Bl},W8:function(a){this.ac.aa(a)},
t2:function(){return this.ac.S()},T9:function(a){this.KF=a},V3:function(){return this.KF},V8:function(a){this.xz=a},s2:function(){return this.xz},ZU:function(a){this.Dg=a},U2:function(){return this.Dg},XU:function(a){this.li=a},O2:function(){return this.li},FC:function(a){this.qb=a},dH:function(){return this.qb},YU:function(a){this.Cl=a},S2:function(){return this.Cl},WU:function(a){this.Al=a},M2:function(){return this.Al}});p.lD=0;p.mD=1;p.Es=2;p.mp=p.i(55,55,55);p.mx=p.i(147,147,147);p.kD="CourierNewPSMT";p.aD=0.15;p.RJ=12;
p.rD=p.Gb.extend({od:null,Se:null,kk:null,nk:null,Dc:0,Rp:!1,ln:!1,Zl:!1,Sa:0,pb:0,Ol:0,er:!1,Ul:p.Es,Kp:0,ctor:function(){p.Gb.prototype.ctor.call(this);this.nk=this.kk=this.Se=this.od=null;this.Dc=0;this.Zl=this.ln=this.Rp=!1;this.Ol=this.pb=this.Sa=0;this.er=!1;this.Ul=p.Es;this.Kp=0},JR:function(a,c){if(!a)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Minus sprite should be non-null.";if(!c)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Plus sprite should be non-null.";
if(this.q()){this.Mb(!0);this.Rp=this.ln=!0;this.Sa=0;this.pb=100;this.Dc=0;this.Ol=1;this.Zl=!1;this.yi(!1);this.SU(a);this.od.w(a.e().width/2,a.e().height/2);this.s(this.od);this.RU(p.Y.create("-",p.kD,40,p.size(40,40),p.Oi,p.Jt));this.kk.k(p.mx);this.kk.w(this.od.e().width/2,this.od.e().height/2);this.od.s(this.kk);this.cV(c);this.Se.w(a.e().width+c.e().width/2,a.e().height/2);this.s(this.Se);this.bV(p.Y.create("+",p.kD,40,p.size(40,40),p.Oi,p.Jt));this.nk.k(p.mp);this.nk.w(this.Se.e().width/2,
this.Se.e().height/2);this.Se.s(this.nk);var d=p.Dd.eD(this.od.Wa(),this.Se.Wa());this.ea(this.od.e().width+this.Se.e().height,d.Na.height);return!0}return!1},i$:function(a){if(this.Zl=a)this.kk.k(p.mp),this.nk.k(p.mp);this.He(this.Dc)},RI:function(a){if(a>=this.pb)throw"cc.ControlStepper.setMinimumValue(): minimumValue should be numerically less than maximumValue.";this.Sa=a;this.He(this.Dc)},OI:function(a){if(a<=this.Sa)throw"cc.ControlStepper.setMaximumValue(): maximumValue should be numerically less than maximumValue.";
this.pb=a;this.He(this.Dc)},He:function(a){this.IC(a,!0)},gH:function(){return this.Dc},N9:function(a){if(0>=a)throw"cc.ControlStepper.setMaximumValue(): stepValue should be numerically greater than 0.";this.Ol=a},c5:function(){return this.Rp},IC:function(a,c){a<this.Sa?a=this.Zl?this.pb:this.Sa:a>this.pb&&(a=this.Zl?this.Sa:this.pb);this.Dc=a;this.Zl||(this.kk.k(a==this.Sa?p.mx:p.mp),this.nk.k(a==this.pb?p.mx:p.mp));c&&this.Fe(p.Qh)},qJ:function(){this.Kp=-1;this.zc(this.update,p.aD,p.fl,3*p.aD)},
sJ:function(){this.zd(this.update)},update:function(){this.Kp++;this.Kp<p.RJ&&0!=this.Kp%3||(this.Ul==p.lD?this.IC(this.Dc-this.Ol,this.Rp):this.Ul==p.mD&&this.IC(this.Dc+this.Ol,this.Rp))},DJ:function(a){a.x<this.od.e().width&&this.Dc>this.Sa?(this.Ul=p.lD,this.od.k(p.Ho()),this.Se.k(p.jb())):a.x>=this.od.e().width&&this.Dc<this.pb?(this.Ul=p.mD,this.od.k(p.jb()),this.Se.k(p.Ho())):(this.Ul=p.Es,this.od.k(p.jb()),this.Se.k(p.jb()))},Fb:function(a){if(!this.Gh(a)||!this.isEnabled()||!this.va)return!1;
a=this.xi(a);this.DJ(a);this.er=!0;this.ln&&this.qJ();return!0},dd:function(a){this.Gh(a)?(a=this.xi(a),this.DJ(a),this.er||(this.er=!0,this.ln&&this.qJ())):(this.er=!1,this.Ul=p.Es,this.od.k(p.jb()),this.Se.k(p.jb()),this.ln&&this.sJ())},df:function(a){this.od.k(p.jb());this.Se.k(p.jb());this.ln&&this.sJ();this.Gh(a)&&(a=this.xi(a),this.He(this.Dc+(a.x<this.od.e().width?0-this.Ol:this.Ol)))},SU:function(a){this.od=a},E2:function(){return this.od},cV:function(a){this.Se=a},e3:function(){return this.Se},
RU:function(a){this.kk=a},D2:function(){return this.kk},bV:function(a){this.nk=a},d3:function(){return this.nk}});p.rD.create=function(a,c){var d=new p.rD;return d&&d.JR(a,c)?d:null};p.pD=p.Gb.extend({qb:null,Yn:null,Xn:null,Dc:0,Sa:0,pb:1,PR:function(a,c,d){return this.q()?(this.Mb(!0),this.gV(c),this.FC(d),this.qb.w(c.o),this.s(d,2),this.s(c,1),this.s(a),this.ea(a.e()),this.Sa=0,this.pb=1,this.He(this.Sa),!0):!1},ef:function(a){this.ef(a);this.qb!=NULL&&this.qb.X(a?255:128)},He:function(a){a<this.Sa&&(a=this.Sa);a>this.pb&&(a=this.pb);this.Dc=a;a=(a-this.Sa)/(this.pb-this.Sa);this.Yn.hs(100*a);this.qb.Lw(360*a);this.Fe(p.Qh)},gH:function(){return this.Dc},RI:function(a){this.Sa=
a;this.Sa>=this.pb&&(this.pb=this.Sa+1);this.He(this.pb)},LQ:function(){return this.Sa},OI:function(a){this.pb=a;this.pb<=this.Sa&&(this.Sa=this.pb-1);this.He(this.Sa)},KQ:function(){return this.pb},Gh:function(a){a=this.xi(a);return this.bQ(this.Yn.o,a)<Math.min(this.e().width/2,this.e().height/2)},Fb:function(a){if(!this.Gh(a)||!this.isEnabled()||!this.va)return!1;this.Xn=this.xi(a);this.bT(this.Xn);return!0},dd:function(a){a=this.xi(a);this.dT(a)},df:function(){this.cT(p.a(0,0))},bQ:function(a,
c){var d=a.x-c.x,e=a.y-c.y;return Math.sqrt(d*d+e*e)},fP:function(a,c,d,e){return 180*(Math.atan2(c.x-a.x,c.y-a.y)-Math.atan2(e.x-d.x,e.y-d.y))/Math.PI},bT:function(){this.ep(!0);this.qb.k(p.Ho())},dT:function(a){var c=this.fP(this.Yn.o,a,this.Yn.o,this.Xn);180<c?c-=360:-180>c&&(c+=360);this.He(this.Dc+c/360*(this.pb-this.Sa));this.Xn=a},cT:function(){this.qb.k(p.jb());this.ep(!1)},FC:function(a){this.qb=a},dH:function(){return this.qb},gV:function(a){this.Yn=a},k3:function(){return this.Yn},t9:function(a){this.Xn=
a},TQ:function(){return this.Xn}});p.pD.create=function(a,c,d){var e=new p.pD;return e&&(a=p.A.create(a),d=p.A.create(d),c=p.pc.create(p.A.create(c)),e.PR(a,c,d))?e:null};p.UD=-1;p.bn=0;p.tt=1;p.st=2;p.JP=function(a){var c=p.ha.d();return(c.ka+c.pa)/2*a/160};p.mL=p.ra.extend({dU:function(){},eU:function(){}});
p.Th=p.oc.extend({$Z:0,KZ:0,IZ:0,Jb:null,ei:p.st,gi:!1,wM:null,Da:null,Lg:!1,Hu:null,Ku:null,Mp:!1,Pp:!1,Kq:null,no:null,fr:0,Mg:null,wh:null,hF:0,fF:0,Eq:null,aA:!1,LF:null,ctor:function(){p.oc.prototype.ctor.call(this);this.wM=new p.tg(0,0);this.Hu=new p.tg(0,0);this.Ku=new p.tg(0,0);this.Kq=new p.tg(0,0);this.no=new p.tg(0,0);this.Mg=[];this.wh=new p.Sj(0,0);this.Eq=new p.Kf(0,0,0,0);this.LF=new p.Kf(0,0,0,0)},q:function(){return this.Lr(p.size(200,200),null)},xw:function(){p.kC(this.wk,!1,this)},
Lr:function(a,c){var d=p.a(0,0);return p.oc.prototype.q.call(this)?(this.Da=c,this.Da||(this.Da=p.oc.create(),this.Da.yi(!1),this.Da.ma(d)),this.fJ(a),this.Mb(!0),this.Mg.length=0,this.Jb=null,this.Pp=this.Mp=!0,this.ei=p.st,this.Da.w(d),this.fr=0,this.s(this.Da),this.hF=this.fF=1,!0):!1},Zo:function(a,c){if(c)this.sU(a,0.15);else{if(!this.Mp){var d=this.Ur(),e=this.kw();a.x=Math.max(d.x,Math.min(e.x,a.x));a.y=Math.max(d.y,Math.min(e.y,a.y))}this.Da.w(a)}},yQ:function(){var a=this.Da.o;return p.a(a.x,
a.y)},sU:function(a,c){var d=p.jt.create(c,a),e=p.np.create(this.BO,this);this.Da.Aw(p.Mi.create(d,e));this.zc(this.Fz)},kJ:function(a,c){if(c)this.vV(a,0.15);else{var d=this.Da;if(d.pB()!=a){var e,f;0==this.fr?(f=this.wh,f=p.a(0.5*f.width,0.5*f.height),f=this.Ak(f)):f=this.no;e=d.wb(f);d.Ij(Math.max(this.hF,Math.min(this.fF,a)));e=d.Ak(e);f=p.ed(f,e);this.Zo(p.Bf(d.o,f))}}},iH:function(){return this.Da.pB()},vV:function(a,c){if(0<c){var d=this.Da.pB();d!=a&&(d=p.Tm.create(c,"zoomScale",d,a),this.Aw(d))}else this.kJ(a)},
Ur:function(){var a=this.Da,c=a.e(),d=this.wh;return p.a(d.width-c.width*a.ka,d.height-c.height*a.pa)},kw:function(){return p.a(0,0)},p5:function(a){var c=this.yQ(),d=this.wh,e=this.iH(),c=p.rect(-c.x/e,-c.y/e,d.width/e,d.height/e);return p.pT(c,a.Wa())},pause:function(){this.Da.pw();for(var a=this.Da.p,c=0;c<a.length;c++)a[c].pw()},rI:function(){for(var a=this.Da.p,c=0,d=a.length;c<d;c++)a[c].zw();this.Da.zw()},f5:function(){return this.gi},H5:function(){return this.Lg},Y4:function(){return this.Mp},
h8:function(a){this.Mp=a},r4:function(){return this.wh},fJ:function(a){this.wh=a;p.I.prototype.ea.call(this,a)},z1:function(){return this.Da},p8:function(a){a&&(this.Lh(!0),this.Da=a,a.yi(!1),a.ma(0,0),this.s(a),this.fJ(this.wh))},N1:function(){return this.ei},yU:function(a){this.ei=a},Vb:function(){return this.Jb},Zg:function(a){this.Jb=a},Fb:function(a){if(!this.va)return!1;var c=this.mz(),d=this.Da,e=d.Ak(d.yh(a)),f=this.Mg;if(2<f.length||this.Lg||!p.Lb(c,e))return!1;f.push(a);1===f.length?(this.no=
this.yh(a),this.Lg=!1,this.gi=!0,this.Kq.x=0,this.fr=this.Kq.y=0):2==f.length&&(this.no=p.bC(this.yh(f[0]),this.yh(f[1])),this.fr=p.ZB(d.yh(f[0]),d.yh(f[1])),this.gi=!1);return!0},dd:function(a){if(this.va)if(1===this.Mg.length&&this.gi){this.Lg=!0;var c=this.mz(),d=this.yh(a);a=p.ed(d,this.no);var e=0,f=this.ei,e=f===p.tt?a.y:f===p.bn?a.x:Math.sqrt(a.x*a.x+a.y*a.y);if(this.Lg||!(0.04375>Math.abs(p.JP(e))))if(this.Lg||(a.x=0,a.y=0),this.no=d,this.Lg=!0,p.Lb(c,this.Ak(d))){switch(f){case p.tt:a.x=
0;break;case p.bn:a.y=0}d=this.Da.o;c=d.x+a.x;d=d.y+a.y;this.Kq=a;this.Zo(p.a(c,d))}}else 2!==this.Mg.length||this.gi||(a=p.ZB(this.Da.yh(this.Mg[0]),this.Da.yh(this.Mg[1])),this.kJ(this.iH()*a/this.fr))},df:function(){this.va&&(1==this.Mg.length&&this.Lg&&this.zc(this.My),this.Mg.length=0,this.Lg=this.gi=!1)},Ej:function(){this.va&&(this.Mg.length=0,this.Lg=this.gi=!1)},ea:function(a,c){null!=this.Da&&(2===arguments.length?this.Da.ea(a,c):this.Da.ea(a),this.WV())},e:function(){return this.Da.e()},
WV:function(){if(null!=this.Da){var a=this.wh,c=this.kw();this.Hu.x=c.x+0.2*a.width;this.Hu.y=c.y+0.2*a.height;c=this.Ur();this.Ku.x=c.x-0.2*a.width;this.Ku.y=c.y-0.2*a.height}},a5:function(){return this.Pp},n8:function(a){this.Pp=a},ga:function(a){if(this.va){a=a||p.N;var c,d=this.p,e,f;if(p.fd===p.Hf){a.save();this.transform(a);this.wE(a);if(d&&0<d.length){f=d.length;this.xd();for(c=0;c<f;c++)if((e=d[c])&&0>e.Qa)e.ga(a);else break;for(this.Ia(a);c<f;c++)d[c].ga(a)}else this.Ia(a);this.uE();a.restore()}else{p.Po();
var g=this.ek;g&&g.Lo()&&(g.SA(),this.$w());this.transform(a);this.wE(a);if(d&&0<d.length){f=d.length;for(c=0;c<f;c++)if((e=d[c])&&0>e.Qa)e.ga();else break;for(this.Ia(a);c<f;c++)d[c].ga()}else this.Ia(a);this.uE(a);g&&g.Lo()&&g.OA(this);p.Oo()}}},s:function(a,c,d){if(!a)throw Error("child must not nil!");c=c||a.Qa;d=d||a.Uc;a.yi(!1);a.ma(0,0);this.Da!=a?this.Da.s(a,c,d):p.oc.prototype.s.call(this,a,c,d)},Mb:function(a){p.oc.prototype.Mb.call(this,a);a||(this.Lg=this.gi=!1,this.Mg.length=0)},EZ:function(){return null},
DN:function(a){var c=this.Ur(),d=this.kw(),e=this.ei,f=this.Da.o,g=f.x,h=f.y;if(e===p.st||e===p.bn)g=Math.max(g,c.x),g=Math.min(g,d.x);if(e==p.st||e==p.tt)h=Math.min(h,d.y),h=Math.max(h,c.y);h==f.y&&g==f.x||this.Zo(p.a(g,h),a)},My:function(){if(this.gi)this.zd(this.My);else{var a,c;a=this.Da.o;var d=this.Kq;this.Da.w(a.x+d.x,a.y+d.y);this.Mp?(a=this.Hu,c=this.Ku):(a=this.kw(),c=this.Ur());var e=this.Da.o.C,f=this.Da.o.G;d.x*=0.95;d.y*=0.95;this.Zo(p.a(e,f));if(1>=Math.abs(d.x)&&1>=Math.abs(d.y)||
f>a.y||f<c.y||e>a.x||e<c.x||e==a.x||e==c.x||f==a.y||f==c.y)this.zd(this.My),this.DN(!0)}},Fz:function(){this.gi&&this.zd(this.Fz)},BO:function(){this.zd(this.Fz)},wE:function(a){if(this.Pp){this.aA=!1;var c=this.mz(),d=p.ha.d(),e=this.ka,f=this.pa;a=a||p.N;if(p.fd===p.Hf)c=this.wh.width*e*d.ka,d=this.wh.height*f*d.pa,a.beginPath(),a.rect(0,0,c,-d),a.clip(),a.closePath();else if(d=p.ha.d(),d.bS()){if(this.aA=!0,this.Eq=d.ZQ(),p.oT(c,this.Eq)){var g=this.Eq;a=Math.max(c.x,g.x);f=Math.max(c.y,g.y);e=
Math.min(c.x+c.width,g.x+g.width);c=Math.min(c.y+c.height,g.y+g.height);d.CC(a,f,e-a,c-f)}}else a.enable(a.SCISSOR_TEST),d.CC(c.x,c.y,c.width,c.height)}},uE:function(a){this.Pp&&p.fd===p.Tj&&(this.aA?(a=this.Eq,p.ha.d().CC(a.x,a.y,a.width,a.height)):(a=a||p.N,a.disable(a.SCISSOR_TEST)))},CZ:function(){},mz:function(){for(var a=this.Ak(p.Li()),c=this.wh,d=this.ka,e=this.pa,f=this.W;null!=f;f=f.getParent())d*=f.ka,e*=f.pa;0>d&&(a.x+=c.width*d,d=-d);0>e&&(a.y+=c.height*e,e=-e);f=this.LF;f.x=a.x;f.y=
a.y;f.width=c.width*d;f.height=c.height*e;return f}});p.Th.create=function(a,c){var d=new p.Th;if(2==arguments.length){if(d&&d.Lr(a,c))return d}else if(d&&d.q())return d;return null};p.nL=p.ra.extend({Hw:function(){},Ch:function(){return 0}});p.oL=p.nL.extend({Az:0,ctor:function(){this.Az=0},Hw:function(a){this.Az=a},Ch:function(){return this.Az}});function ja(a,c){return a.Ch()-c.Ch()}
p.ix=p.ra.extend({Hg:null,ctor:function(){this.Hg=[]},xH:function(a){if(!a)throw"cc.ArrayForObjectSorting.insertSortedObject(): addObject should be non-null.";this.SR(a,this.Ko(a))},LT:function(a){if(0!=this.count()){var c=this.Ko(a);c<this.count()&&c!=p.Sh&&this.rm(c).Ch()==a.Ch()&&this.nC(c)}},e9:function(a,c){var d=this.Ko(c);if(d<this.count()&&d!=p.Sh){var e=this.rm(d);e.Ch()==c.Ch()&&(this.nC(d),e.Hw(a),this.xH(e))}},QH:function(a){if(0==this.count())return null;var c=new p.oL;c.Hw(a);var d=
this.Ko(c);d<this.count()&&d!=p.Sh&&(c=this.rm(d),c.Ch()!=a&&(c=null));return c},L2:function(){return null},Ko:function(a){var c=0;if(a){var d=0;a=a.Ch();for(var e=this.Hg,f=0;f<e.length;f++){var g=e[f].Ch();if(a==g||a>=d&&a<g)break;d=g;c++}}else c=p.Sh;return c},count:function(){return this.Hg.length},T5:function(){var a=this.Hg;return 0==a.length?null:a[a.length-1]},rm:function(a){return this.Hg[a]},jG:function(a){this.Hg.push(a);this.Hg.sort(ja)},nC:function(a){p.lp(this.Hg,a);this.Hg.sort(ja)},
SR:function(a,c){this.Hg=p.$k(this.Hg,a,c);this.Hg.sort(ja)}});p.YD=0;p.qL=1;p.KY=p.I.extend({dj:0,i2:function(){return this.dj},KU:function(a){this.dj=a},reset:function(){this.dj=p.Sh},Hw:function(a){this.dj=a},Ch:function(){return this.dj}});p.MY=p.mL.extend({M$:function(){},L$:function(){},N$:function(){},O$:function(){}});p.LY=p.ra.extend({NV:function(a){return this.rP(a)},rP:function(){return p.jL},K$:function(){return null},v6:function(){return 0}});
p.gE=p.Th.extend({po:null,Zc:null,vn:null,Ly:null,uA:null,Ou:null,Xt:null,oj:null,ctor:function(){p.Th.prototype.ctor.call(this);this.Ou=p.UD;this.Xt=[]},JL:function(a){var c=0,d=-1;switch(this.ei){case p.bn:a=a.x;break;default:a=a.y}for(var e=this.Xt;d>=c;){var f=0|c+(d-c)/2,g=e[f],h=e[f+1];if(a>=g&&a<=h)return f;a<g?d=f-1:c=f+1}return 0>=c?0:-1},PM:function(a){a={x:a.x,y:a.y};this.po===p.YD&&(a.y=this.Da.e().height-a.y);a=this.JL(a);-1!=a&&(a=Math.max(0,a),-1<a&&(a=p.Sh));return a},ML:function(a){switch(this.ei){case p.bn:a=
p.a(this.Xt[a],0);break;default:a=p.a(0,this.Xt[a])}return a},sN:function(a){var c=this.ML(a);a=this.Ly.NV(this,a);this.po===p.YD&&(c.y=this.Da.e().height-c.y-a.height);return c},XZ:function(){},yA:function(){var a=p.hl();this.ea(a);this.Ou!=this.ei&&(this.ei==p.bn?this.Zo(p.a(0,0)):this.Zo(p.a(0,this.Ur().y)),this.Ou=this.ei)},iF:function(a){this.vn.jG(a);this.Zj.LT(a);p.Ad(this.Zc,a.dj);a.reset();a.getParent()==this.Da&&this.Da.removeChild(a,!0)},Zu:function(a,c){c.ma(0,0);c.w(this.sN(a));c.KU(a)},
sE:function(a){a.getParent()!=this.Da&&this.Da.s(a);this.Zj.xH(a);var c=this.Zc;a=a.dj;-1==c.indexOf(a)&&(c.push(a),c.sort(function(a,c){return a-c}))},F1:function(){return this.Ly},wU:function(a){this.Ly=a},Vb:function(){return this.uA},Zg:function(a){this.uA=a},f$:function(a){this.po!=a&&(this.po=a,0<this.Zj.count()&&this.AT())},o4:function(){return this.po},Lr:function(a,c){return p.Th.prototype.Lr.call(this,a,c)?(this.Zj=new p.ix,this.vn=new p.ix,this.Zc=[],this.uA=null,this.po=p.qL,this.yU(p.tt),
p.Th.prototype.Zg.call(this,this),!0):!1},baa:function(a){if(!(a==p.Sh||-1<a)){var c=this.WA(a);c&&this.iF(c);c=null;this.Zu(a,c);this.sE(c)}},Q4:function(a){if(!(a==p.Sh||-1<a)){var c,d=this.Zj;if(c=d.QH(a))for(var e=c=d.Ko(c);e<d.count();e++)c=d.rm(e),this.Zu(c.dj+1,c);c=null;this.Zu(a,c);this.sE(c);this.yA()}},C7:function(a){if(!(a==p.Sh||-1<a)){var c=this.WA(a);if(c){var d=this.Zj,e=d.Ko(c);this.iF(c);p.Ad(this.Zc,a);for(a=d.count()-1;a>e;a--)c=d.rm(a),this.Zu(c.dj-1,c)}}},AT:function(){this.Ou=
p.UD;for(var a=this.Zj,c=this.vn,d=this.Da,e=0,f=a.count();e<f;e++){var g=a.rm(e);c.jG(g);g.reset();g.getParent()==d&&d.removeChild(g,!0)}this.Zc=[];this.Zj=new p.ix;this.yA()},k0:function(){if(0===this.vn.count())return null;var a=this.vn.rm(0);this.vn.nC(0);return a},WA:function(a){return-1==this.Zc.indexOf(a)?null:this.Zj.QH(a)},dU:function(){},eU:function(){},df:function(a,c){if(this.va){if(this.oj){var d=this.Wa();d.Qc=this.W.Ak(d.origin);this.oj=null}p.Th.prototype.df.call(this,a,c)}},Fb:function(a,
c){if(!this.va)return!1;var d=p.Th.prototype.Fb.call(this,a,c);if(1===this.Mg.length){var e;e=this.Da.yh(a);e=this.PM(e);this.oj=e===p.Sh?null:this.WA(e)}else this.oj&&(this.oj=null);return d},dd:function(a,c){p.Th.prototype.dd.call(this,a,c);this.oj&&this.Lg&&(this.oj=null)},Ej:function(a,c){p.Th.prototype.Ej.call(this,a,c);this.oj&&(this.oj=null)}});p.gE.create=function(a,c,d){var e=new p.gE;e.Lr(c,d);e.wU(a);e.yA();return e};p.Wb={};p.Wb.gG=function(a){for(var c in p.Wb.UB)a[c]=p.Wb.UB[c]};
p.Wb.UB={w:function(a,c){2==arguments.length?(this.o.C=a,this.o.G=c):(this.o.C=a.x,this.o.G=a.y);this.Ja();this.$.TC(this.o.C,-this.o.G)},Nh:function(a){this.o.G=a;this.Ja();this.$.TC(this.o.C,-this.o.G)},xb:function(a){this.o.C=a;this.Ja();this.$.TC(this.o.C,-this.o.G)},Ij:function(a,c){this.ka=a;this.pa=c||a;this.Ja();this.$.resize(this.ka,this.pa)},dp:function(a){this.ka=a;this.Ja();this.$.resize(this.ka,this.pa)},Im:function(a){this.pa=a;this.Ja();this.$.resize(this.ka,this.pa)},ma:function(a,
c){var d=this.gh;if(2===arguments.length){if(a===d.C&&c===d.G)return;d.C=a;d.G=c}else{if(a.x===d.C&&a.y===d.G)return;d.C=a.x;d.G=a.y}var e=this.md,f=this.ja;e.C=f.wa*d.C;e.G=f.ia*d.G;this.$.style[p.zb.Xo+"TransformOrigin"]=""+e.C+"px "+-e.G+"px";this.hk?(this.$.style.marginLeft=0,this.$.style.marginBottom=0):(this.$.style.marginLeft=this.F5?0:-e.C+"px",this.$.style.marginBottom=-e.G+"px");this.Ja()},ea:function(a,c){var d=this.ja;if(2===arguments.length){if(a===d.wa&&c===d.ia)return;d.wa=a;d.ia=c}else{if(a.width===
d.wa&&a.height===d.ia)return;d.wa=a.width;d.ia=a.height}var e=this.md,f=this.gh;e.C=d.wa*f.C;e.G=d.ia*f.G;this.$.width=d.wa;this.$.height=d.ia;this.ma(this.gh);this.canvas&&(this.canvas.width=d.wa,this.canvas.height=d.ia);this.Ja();this.qT()},Lw:function(a){this.SN!=a&&(this.Wf=this.ph=a,this.Hl=Math.PI/180*this.Wf,this.Jq=Math.PI/180*this.ph,this.Ja(),this.$.rotate(a))},Pw:function(a){this.Pd=a;this.Ja();this.$.YI(this.Pd,this.Qd)},Qw:function(a){this.Qd=a;this.Ja();this.$.YI(this.Pd,this.Qd)},r:function(a){this.va=
a;this.Ja();this.$&&(this.$.style.display=a?"block":"none")},bv:function(a){this.Qa=a;this.Ja();this.$&&(this.$.zIndex=a)},gs:function(a){this.W=a;null!==a&&(a.ma(a.gh),this.Ja(),p.Wb.ow(this))},zw:function(){this.af().Dm(this);this.ag().Dm(this);this.$&&!this.$.parentNode&&(this.getParent()?p.Wb.ow(this):this.$.dm(p.vj));this.$&&(this.$.style.visibility="visible")},pw:function(){this.af().Zr(this);this.ag().Zr(this);this.$&&(this.$.style.visibility="hidden")},wf:function(){this.OC();this.qs();this.Nf(this.p,
p.I.kf.wf);this.$&&this.$.remove()},HT:function(){this.$.remove()},X:function(a){this.mi=a;this.$.style.opacity=a/255},qT:function(){if(this.gw){var a=this.p;this.p=[];p.A.prototype.ga.call(this,this.xo);this.p=a}else p.A.prototype.ga.call(this,this.xo)}};
p.Wb.ON=function(){var a=p.zb("#EGLViewDiv");if(a){var c=p.ha.d(),d=c.Do(),e=c.Ce,f=c.Tv(),g=d.width,h=d.height;0===d.width&&0===d.height&&(g=f.width,h=f.height);d=e.Na.width;0===e.Na.width&&0===e.Na.height&&(d=f.width);a.style.position="absolute";a.style.width=g+"px";a.style.maxHeight=h+"px";a.style.margin=0;a.resize(c.ka,c.pa);a.style.left=(d-g)/2+"px";a.style.bottom="0px"}};
p.Wb.ow=function(a){var c=a.getParent();if(c&&a.$)if(c.$||(p.Wb.XS(c),c.gs=p.Wb.UB.gs),a.$.dm(c.$),c.ma(c.gh),c.getParent())p.Wb.ow(c);else if(c.ve)if(a=p.zb("#EGLViewDiv"))c.$.dm(a);else{a=p.Mj("div");a.id="EGLViewDiv";var d=p.ha.d(),e=d.Do(),f=d.Ce,g=d.Tv(),h=e.width,k=e.height;0===e.width&&0===e.height&&(h=g.width,k=g.height);e=f.Na.width;0===f.Na.width&&0===f.Na.height&&(e=g.width);a.style.position="absolute";a.style.width=h+"px";a.style.maxHeight=k+"px";a.style.margin=0;a.resize(d.ka,d.pa);a.style.left=
(e-h)/2+"px";a.style.bottom="0px";c.$.dm(a);a.dm(p.vj)}};p.Wb.setTransform=function(a){if(a.xo)if(a.xo.translate(a.md.x,a.md.y),a.gw){var c=a.p;a.p=[];p.A.prototype.ga.call(a,a.xo);a.p=c}else p.A.prototype.ga.call(a,a.xo);a.$&&(a.$.position.x=a.o.x,a.$.position.y=-a.o.y,a.$.rotation=a.WQ(),a.$.scale={x:a.ka,y:a.pa},a.$.Tk={x:a.Pd,y:a.Qd},a.ma&&a.ma(a.gh),a.$.Om())};
p.Wb.rQ=function(a){a.$=p.Mj("div");a.canvas=p.Mj("canvas");var c=a.e();a.canvas.width=c.width;a.canvas.height=c.height;a.$.style.position="absolute";a.$.style.bottom=0;a.xo=a.canvas.getContext("2d");a.$.appendChild(a.canvas);a.getParent()&&p.Wb.ow(a);a.gw=!0};
p.Wb.XS=function(a){a.$=p.Mj("div");a.placeholder=!0;a.$.style.position="absolute";a.$.style.bottom=0;a.$.style.width=(a.e().width||p.O.d().Cb.width)+"px";a.$.style.maxHeight=(a.e().height||p.O.d().Cb.height)+"px";a.$.style.margin=0;p.Wb.setTransform(a);a.$.Om();p.Wb.gG(a)};
p.Wb.$A=function(a){if(1<arguments.length)p.Wb.$A(arguments);else if(1!=arguments.length||arguments[0].length)for(var c=arguments[0],d=0;d<c.length;d++)c[d]instanceof p.A?c[d].$||p.Wb.rQ(c[d]):p.log("DOM converter only supports sprite and menuitems yet"),p.Wb.gG(c[d]),c[d].ga=function(){},c[d].transform=function(){},p.Wb.setTransform(c[d]),c[d].r(c[d].va);else p.Wb.$A([arguments[0]])};p.AK=0;p.yX=1;p.BX=2;p.AX=3;p.zX=4;p.pK=0;p.cX=1;p.dX=2;p.eX=3;p.gX=4;p.bX=5;p.fX=6;p.nK=0;p.oK=1;p.aX=2;p.$W=3;p.ZW=4;p.jX=p.ra.extend({Nv:function(){},Ov:function(){},Pv:function(){},x0:function(){}});
p.rp=p.cl.extend({fi:null,Jb:null,EM:p.pK,DM:p.oK,fN:p.AK,TZ:"",oi:"",kv:null,Fq:null,dF:50,WL:18,Ma:null,bq:14,Yy:"Arial",Zy:!1,Gz:"",Ru:14,UZ:!1,ctor:function(a,c){p.cl.prototype.ctor.call(this);this.Zy=!1;this.kv=p.jb();this.Fq=p.Ho();this.ea(a);this.fi=new p.A;this.fi.Ia=function(){};this.s(this.fi);var d=this;c?(this.Ma=document.createElement("textarea"),this.Ma.style.resize="none",this.Zy=!0):this.Ma=document.createElement("input");this.Ma.type="text";this.Ma.style.fontSize=this.bq+"px";this.Ma.style.color=
"#000000";this.Ma.style.border=0;this.Ma.style.background="transparent";this.Ma.style.width="100%";this.Ma.style.height="100%";this.Ma.style.a_=0;this.Ma.style.outline="medium";this.Ma.addEventListener("input",function(){d.Jb&&d.Jb.Pv&&d.Jb.Pv(d,this.value)});this.Ma.addEventListener("keyup",function(a){a.keyCode===p.zK.nQ&&!1==d.Zy&&(a.stopPropagation(),a.preventDefault(),p.canvas.focus())});this.Ma.addEventListener("focus",function(){this.value==d.oi&&(this.value="",this.style.fontSize=d.bq+"px",
this.style.color=p.zk(d.kv));d.Jb&&d.Jb.Nv&&d.Jb.Nv(d)});this.Ma.addEventListener("blur",function(){""==this.value&&(this.value=d.oi,this.style.fontSize=d.Ru+"px",this.style.color=p.zk(d.Fq));d.Jb&&d.Jb.Ov&&d.Jb.Ov(d)});p.Wb.$A(this.fi);this.fi.$.appendChild(this.Ma);this.fi.$.l$=!1;this.fi.$.style.width=a.width-6+"px";this.fi.$.style.height=a.height-6+"px";this.fi.canvas.remove()},C8:function(a,c){this.bq=c;this.Yy=a;this.dA()},g$:function(){},HU:function(a){this.Yy=a;this.dA()},II:function(a){this.bq=
a;this.dA()},dA:function(){this.Ma.value!=this.oi&&(this.Ma.style.fontFamily=this.Yy,this.Ma.style.fontSize=this.bq+"px")},$g:function(a){null!=a&&(""==a?(this.Ma.value=this.oi,this.Ma.style.color=p.zk(this.Fq)):(this.Ma.value=a,this.Ma.style.color=p.zk(this.kv)))},GU:function(a){this.kv=a;this.Ma.value!=this.oi&&(this.Ma.style.color=p.zk(a))},X8:function(a){!isNaN(a)&&0<a&&(this.dF=a,this.Ma.maxLength=a)},u2:function(){return this.dF},n9:function(a){if(null!=a){var c=this.oi;this.oi=a;this.Ma.value==
c&&(this.Ma.value=a,this.Ma.style.color=p.zk(this.Fq),this.$u())}},o9:function(a,c){this.Gz=a;this.Ru=c;this.$u()},q9:function(a){this.Gz=a;this.$u()},r9:function(a){this.Ru=a;this.$u()},$u:function(){this.Ma.value==this.oi&&(this.Ma.style.fontFamily=this.Gz,this.Ma.style.fontSize=this.Ru+"px")},p9:function(a){this.Fq=a;this.Ma.value==this.oi&&(this.Ma.style.color=p.zk(a))},K8:function(a){this.DM=a;this.Ma.type=a==p.nK?"password":"text"},la:function(){return this.Ma.value},LR:function(a,c){return this.pH(c)?
(this.fi.w(3,3),this.uV(!1),this.Hj(a),this.w(0,0),this.tE(this,this.PV,p.hD),!0):!1},Zg:function(a){this.Jb=a},c3:function(){return this.oi},L8:function(a){this.EM=a},F9:function(a){this.fN=a},N5:function(a){var c=p.rp.Yd(this);c.y-=4;c.U4(a.end)?this.WL=a.end.y2()-c.B2():p.log("needn't to adjust view layout.")},L5:function(){},M5:function(){},K5:function(){},PV:function(){},ZA:function(a){a=a.toString(16);return 1==a.length?"0"+a:a},VT:function(a,c,d){return"#"+this.ZA(a)+this.ZA(c)+this.ZA(d)},
zI:function(a){this.Ma.style.background=this.VT(a.h,a.g,a.f)},L4:function(a,c){this.CM=a.width;this.$.style.width=this.CM.toString()+"px";this.BM=a.height;this.$.style.height=this.BM.toString()+"px";this.$.style.backgroundColor=p.zk(c)}});p.rp.Yd=function(a){var c=a.e(),c=p.rect(0,0,c.width,c.height);return p.ug(c,a.Wr())};p.rp.create=function(a,c,d,e,f){d=new p.rp(a,d);c instanceof p.nc?d.zI(c):d.LR(a,c)&&(e&&d.Fw(e,p.jD),f&&d.Fw(f,p.iD));return d};var u=[],ma=new XMLHttpRequest;ma.open("GET","config.txt",!1);ma.send(null);var na=ma.responseText,oa=na.split("\n")[0],pa=na.split("\n")[1];pa&&(oa+=":"+pa);var ra=io.connect(oa,{"sync disconnect on unload":!0,"connect timeout":5E3,"reconnection delay ":100});ra.on("connect",function(){w.sx();w.pL();console.log("Client has connected to the server!");if(x){var a=x.d().Vc;a?a.Jm(!0):u.push(JSON.stringify({connect:!0}))}else u.push(JSON.stringify({connect:!0}))});ra.on("message",function(a){reactToSocketMessage(a)});
reactToSocketMessage=function(a){a=JSON.parse(a);var c=!1,d;for(d in a){c=!0;break}if(!1!=c)if(console.log("Received a message from the server!",a),a.sync)a.mapdata&&w.EJ(a.mapdata,a.maptime),a.warpdata&&w.WC(a.warpdata,a.warptime),a.itemdata&&w.ss(a.itemdata,a.itemtime),a.skillsdata&&w.UC(a.skillsdata,a.skillstime),a.signsdata&&w.cx(a.signsdata,a.signstime),a.npcsdata&&w.FJ(a.npcsdata,a.npcstime);else if(c=x.d().Vc)if(a.connect?c.Jm(!0):a.disconnect&&c.Jm(!1),"Game"==c.sd())if(a.newPlayer)y.aP(a.newPlayer);
else if(a.playerLeft)y.Dh(a.playerLeft).kg==y.l.da.kg&&(MapMaster=!1),y.zG(a.playerLeft);else if(a.changemap){for(c=0;c<u.length;c++)d=JSON.parse(u[c]),d.moveTo&&d.id==a.id&&(console.log("REMOVIN"),u.splice(c,1),c--);y.Dh(a.id).kg==y.l.da.kg&&(MapMaster=!1);y.vP(a.id,a.changemap);y.aI(a.id,a.setTo)}else a.setTo?!y.Dh(a.id)||y.Dh(a.id)&&!1==y.Dh(a.id).hg?y.aI(a.id,a.setTo):u.push(JSON.stringify(a)):a.moveTo?!y.Dh(a.id)||y.Dh(a.id)&&!1==y.Dh(a.id).hg?y.uS(a.id,a.moveTo):u.push(JSON.stringify(a)):a.chatMessage?
B.Db(a.chatMessage):a.coinflip?B.Db(a.coinflip):a.diceroll?B.Db(a.diceroll):a.dance?B.Db(a.dance):a.afk?y.wP(a.afk):a.savemap?(w.tP(a.savemap,a.mapdata,a.updatetime),C.xV(a.mapdata)):a.mapmaster?MapMaster=!0:a.savewarps?(w.AP(parseInt(a.savewarps),a.warpdata,a.updatetime),ObjectLists.jm()[parseInt(a.savewarps)]=a.warpdata,Warpeditor&&(Warpeditor.bc=ObjectLists.jm(),Warpeditor.Oa())):a.savewarpswhole?(w.vT(a.savewarpswhole,a.updatetime),ObjectLists.tV(a.savewarpswhole)):a.saveskills?(w.yP(parseInt(a.saveskills),
a.skillsdata,a.updatetime),ObjectLists.Go()[parseInt(a.saveskills)]=a.skillsdata,Skillseditor&&(Skillseditor.bc=ObjectLists.Go(),Skillseditor.Oa()),wa.update(),Skills&&Skills.hf()):a.saveskillswhole?(w.uT(a.saveskillswhole,a.updatetime),ObjectLists.kV(a.saveskillswhole),wa.update(),Skills&&Skills.hf()):a.savesigns?(w.xP(parseInt(a.savesigns),a.signsdata,a.updatetime),ObjectLists.Cr()[parseInt(a.savesigns)]=a.signsdata,Signeditor&&(Signeditor.bc=ObjectLists.Cr(),Signeditor.Oa())):a.moveNPC?(a.npcID=
parseInt(a.npcID),!y.Br(a.npcID)||y.Br(a.npcID)&&!1==y.Br(a.npcID).hg?y.tS(a.npcID,a.moveNPC,a.mapnumber):u.push(JSON.stringify(a))):a.changeNPCPosition?(a.npcID=parseInt(a.npcID),y.Br(a.npcID)&&!1==y.Br(a.npcID).hg?y.OT(a.npcID,a.changeNPCPosition):u.push(JSON.stringify(a))):a.savesignswhole?(w.tT(a.savesignswhole,a.updatetime),ObjectLists.jV(a.savesignswhole)):a.savenpcs?(w.uP(parseInt(a.savenpcs),a.npcsdata,a.updatetime),ObjectLists.Dk()[parseInt(a.savenpcs)]=a.npcsdata,C.Zv(C.Xd(),!0),NPCeditor&&
(NPCeditor.bc=ObjectLists.Dk(),NPCeditor.Oa())):a.savenpcswhole?(w.sT(a.savenpcswhole,a.updatetime),ObjectLists.TU(a.savenpcswhole),C.Zv(C.Xd(),!0),NPCeditor&&(NPCeditor.bc=ObjectLists.Dk(),NPCeditor.Oa())):a.saveitems?(w.sP(parseInt(a.saveitems),a.itemdata,a.updatetime),c=ObjectLists.vi()[parseInt(a.saveitems)].name,ObjectLists.vi()[parseInt(a.saveitems)]=a.itemdata,C.Zv(C.Xd()),Itemeditor&&(Itemeditor.bc=ObjectLists.vi(),Itemeditor.Oa()),Inventory&&Inventory.hf(),y.l.da.ss(c,a.itemdata)):a.droppeditem?
a.mapnumber==C.Xd()&&!1==C.d().gg?(c=C.eH(a.index),c.$O(a.droppeditem),C.us()):u.push(JSON.stringify(a)):a.pickupitem?a.mapnumber==C.Xd()&&(c=C.eH(a.pickupitem),c.dC(),C.us()):a.saveitemswhole&&(w.rT(a.saveitemswhole,a.updatetime),ObjectLists.LU(a.saveitemswhole));else"Login"==c.sd()&&(a.login_success?c.zS():a.login_fail&&c.YB(a.login_fail));else u.push(JSON.stringify(a))};ra.on("disconnect",function(){console.log("The client has disconnected!");var a=x.d().Vc;a?a.Jm(!1):u.push(JSON.stringify({disconnect:!0}))});
function G(a){ra.send(JSON.stringify(a))};var H=Object.freeze({xc:{xG:"C to popup/dismiss, enter for chat. Say /help for help.",XR:"Welcome to the Powder Engine! Enter /help for some help.",DR:"-------HELP------",CR:" - Press C to expand the chat, I for Inventory",BR:" - Space to grab Items and E for Equipment.",AR:" - Enter /commands for command list",zR:"-------------------",GP:"--COMMANDS--",FP:" - /editmap, /editwarp, /edititems, /editskills",EP:" - /dance, /coinflip, /diceroll, /afk",DP:"--------------------",eC:" has joined the game!",
YS:" has left the game!",qw:"Picked up ",iQ:"Dropped ",yH:"Your inventory is full"}});var J={},xa=p.kd.d();p.Ii.d();xa.XI(["res/Graphics"]);ma=new XMLHttpRequest;ma.open("GET","res/Graphics/tile_graphics.txt",!1);ma.send(null);var na=ma.responseText,ya=na.split(","),K=[],Ba;for(Ba in ya)K.push({name:ya[Ba],texture:p.Ra.d().gc(ya[Ba])});ma=new XMLHttpRequest;ma.open("GET","res/Graphics/character_graphics.txt",!1);ma.send(null);var na=ma.responseText,ya=na.split(","),O=[];for(Ba in ya)O.push({name:ya[Ba],texture:p.Ra.d().gc(ya[Ba])});
document.getElementById("gameCanvas").onkeydown=function(a){a.preventDefault();J[a.keyCode]=!0};window.onbeforeunload=function(){G({disconnect:!0})};window.onfocus=function(){for(var a=[],c=u.length-1;0<=c;c--){var d=JSON.parse(u[c]);d.moveTo&&!a[d.id]?(a[d.id]=!0,d.setTo=d.moveTo,d.moveTo=null,u[c]=JSON.stringify(d)):d.moveTo&&a[d.id]&&u.splice(c,1)}};var P=p.v(255,255,255,255),Q=p.v(0,255,0,255),R=p.v(255,0,0,255);
document.getElementById("gameCanvas").onkeyup=function(a){J[a.keyCode]=!1;if(null!=x.d().Vc){a.stopPropagation();var c=null;switch(a.keyCode){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";
break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a.keyCode&&58>a.keyCode||64<a.keyCode&&91>a.keyCode)&&(c=String.fromCharCode(a.keyCode));null!=c&&x.d().Vc.lw(c)}};function S(a,c){return(a.EH&&a.va||!a.EH)&&p.Lb(p.rect(a.o.C,a.o.G,a.e().width,a.e().height),c)}function Ca(a){var c={},d;for(d in a)c[d]=a[d]&&"object"==typeof a[d]?Ca(a[d]):a[d];return c}
isMobile=function(){var a=!1,c=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(c)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(c.substr(0,
4)))a=!0;return a};function Da(a,c){var d=c?a:a.td();return Ea(d,"panels")}function Fa(){Ja.gd(function(){})}
function Ea(a,c,d){c=d?d[c]:a[c];"undefined"!=typeof c.aS?d=Ka.sx(c.OV):"undefined"!=typeof c.m?(d=c.size?c.size:p.size(100,100),d=p.Qb.create(c.m,d.width,d.height)):d="undefined"!=typeof c.gw?p.A.create():"undefined"!=typeof c.cc?p.A.qd(p.Ra.d().gc(c.cc)):"undefined"!=typeof c.label?p.Y.create(c.label,c.font?c.U0:"Arial",c.fontSize?c.fontSize:14):p.I.create();"undefined"!=typeof c.size&&d.ea(Math.floor(c.size.width),Math.floor(c.size.height));"undefined"!=typeof c.position&&d.w(p.a(Math.floor(c.position.x),
Math.floor(c.position.y)));"undefined"!=typeof c.visible&&d.r(c.visible);"undefined"!=typeof c.c&&d.ma(c.c);"undefined"!=typeof c.opacity&&d.X(c.opacity);"undefined"!=typeof c.color&&d.k(c.color);if("undefined"!=typeof c.children)for(var e in c.children)d[e]=Ea(a,e,c.children),d.s(d[e]);return d}p.size(960,640);var T=p.size(1600,1600),La=Math.floor(T.height/32),U=Math.floor(T.width/32);function V(a,c){return parseInt(U*(La-c))+parseInt(a)};var w=p.ra.extend({l:null,lc:function(a){return(a=t.localStorage.getItem("last_"+a))?a:null},ap:function(a,c){return(c=t.localStorage.setItem("last_"+a,c))?c:null}});w.sx=function(){this.l||(this.l=new w);return this.l};w.d=function(){return this.l};w.aV=function(a,c){var d=t.localStorage.getItem("panelStore");"null"==d||null==d?(console.log("NEW PANEL STORE"),d={}):d=JSON.parse(d);d[a]={x:c.x,y:c.y};t.localStorage.setItem("panelStore",JSON.stringify(d))};w.RQ=function(){return t.localStorage.getItem("panelStore")};
w.GQ=function(a){if(this.l.lc("maps")){if(a){var c=JSON.parse(t.localStorage.getItem("map_data"));return c[a]?c[a]:null}}else return[]};w.EJ=function(a,c){this.l.ap("maps",c);t.localStorage.setItem("map_data",JSON.stringify(a))};w.tP=function(a,c,d){var e=this.l.lc("maps")?JSON.parse(t.localStorage.getItem("map_data")):[];e[a]=c;w.EJ(e,d)};w.iR=function(){if(this.l.lc("warps")){if(""!=t.localStorage.getItem("warps_data"))var a=JSON.parse(t.localStorage.getItem("warps_data"));return a?a:[]}return[]};
w.WC=function(a,c){this.l.ap("warps",c);t.localStorage.setItem("warps_data",JSON.stringify(a))};w.AP=function(a,c,d){var e=this.l.lc("warps")?""!=t.localStorage.getItem("warps_data")?JSON.parse(t.localStorage.getItem("warps_data")):[]:[];e[a]=c;w.WC(e,d)};w.vT=function(a,c){warparray=a;w.WC(warparray,c)};w.EQ=function(){if(this.l.lc("items")){if(""!=t.localStorage.getItem("items_data"))var a=JSON.parse(t.localStorage.getItem("items_data"));return a?a:[]}return[]};
w.ss=function(a,c){this.l.ap("items",c);t.localStorage.setItem("items_data",JSON.stringify(a))};w.sP=function(a,c,d){var e=this.l.lc("items")?""!=t.localStorage.getItem("items_data")?JSON.parse(t.localStorage.getItem("items_data")):[]:[];e[a]=c;w.ss(e,d)};w.rT=function(a,c){itemsarray=a;w.ss(itemsarray,c)};w.aR=function(){if(this.l.lc("skills")){if(""!=t.localStorage.getItem("skills_data"))var a=JSON.parse(t.localStorage.getItem("skills_data"));return a?a:[]}return[]};
w.UC=function(a,c){this.l.ap("skills",c);t.localStorage.setItem("skills_data",JSON.stringify(a))};w.yP=function(a,c,d){var e=this.l.lc("skills")?""!=t.localStorage.getItem("skills_data")?JSON.parse(t.localStorage.getItem("skills_data")):[]:[];e[a]=c;w.UC(e,d)};w.uT=function(a,c){skillarray=a;w.UC(skillarray,c)};w.$Q=function(){if(this.l.lc("signs")){if(""!=t.localStorage.getItem("signs_data"))var a=JSON.parse(t.localStorage.getItem("signs_data"));return a?a:[]}return[]};
w.cx=function(a,c){this.l.ap("signs",c);t.localStorage.setItem("signs_data",JSON.stringify(a))};w.xP=function(a,c,d){var e=this.l.lc("signs")?""!=t.localStorage.getItem("signs_data")?JSON.parse(t.localStorage.getItem("signs_data")):[]:[];e[a]=c;w.cx(e,d)};w.tT=function(a,c){signarray=a;w.cx(signarray,c)};w.NQ=function(){if(this.l.lc("npcs")){if(""!=t.localStorage.getItem("npcs_data"))var a=JSON.parse(t.localStorage.getItem("npcs_data"));return a?a:[]}return[]};
w.FJ=function(a,c){this.l.ap("npcs",c);t.localStorage.setItem("npcs_data",JSON.stringify(a))};w.uP=function(a,c,d){var e=this.l.lc("npcs")?""!=t.localStorage.getItem("npcs_data")?JSON.parse(t.localStorage.getItem("npcs_data")):[]:[];e[a]=c;w.FJ(e,d)};w.sT=function(a,c){npcsarray=a;w.cx(npcsarray,c)};
w.JW=function(){t.localStorage.setItem("map_data",[]);t.localStorage.setItem("last_maps",0);t.localStorage.setItem("warps_data",[]);t.localStorage.setItem("last_warps",0);t.localStorage.setItem("items_data",[]);t.localStorage.setItem("last_items",0);t.localStorage.setItem("skills_data",[]);t.localStorage.setItem("last_skills",0);t.localStorage.setItem("signs_data",[]);t.localStorage.setItem("last_signs",0);t.localStorage.setItem("npcs_data",[]);t.localStorage.setItem("last_npcs",0);t.localStorage.setItem("panelStore",
null)};w.pL=function(){G({sync:!0,mapupdate:null!=this.l.lc("maps")?this.l.lc("maps"):2,warpupdate:null!=this.l.lc("warps")?this.l.lc("warps"):2,itemupdate:null!=this.l.lc("items")?this.l.lc("items"):2,skillsupdate:null!=this.l.lc("skills")?this.l.lc("skills"):2,signsupdate:null!=this.l.lc("signs")?this.l.lc("signs"):2,npcsupdate:null!=this.l.lc("npcs")?this.l.lc("npcs"):2})};w.OU=function(a){!0!=a&&!1!=a||t.localStorage.setItem("mapedit_saveonexit",a)};
w.HQ=function(){return null==t.localStorage.getItem("mapedit_saveonexit")?!1:t.localStorage.getItem("mapedit_saveonexit")};var Ka=p.I.extend({$d:null,ae:null,be:null,fe:null,ge:null,ud:null,item:null,Sd:null,Td:null,Vd:null,Ud:null,position:null,Ie:null,type:null,Xa:null,ctor:function(){this._super()},q:function(){this._super();this.Ie=p.Y.create("","Arial",16);this.Ie.ma(0.5,0.5);this.Ie.w(16,-16);this.Ie.X(0);this.Ie.k(p.i(0,0,0));this.s(this.Ie,900);this.item=[];this.Xa=[];this.Ei(0)},$O:function(a){this.Gj(a.sprite.texture,a.sprite.position,"item");for(var c=0;c<ObjectLists.vi().length;c++)if(a.name==ObjectLists.vi()[c].name){this.Ow({id:c,
data:{amount:a.amount}},!0);break}this.Ei(4)},dC:function(){this.Xa[this.Xa.length-1].temp&&(this.item[this.item.length-1].R(),this.item.splice(this.item.length-1,1),this.$S())},Gj:function(a,c,d){a=p.A.qd(p.Ra.d().gc(a));a.ib(p.rect(Math.floor(32*c.x),Math.floor(32*c.y),32,32));a.k(p.v(255,255,255,255));a.ma(0,1);switch(d){case "ground1":null!=this.$d&&this.$d.R();this.$d=a;this.s(this.$d);break;case "ground2":null!=this.ae&&this.ae.R();this.ae=a;this.s(this.ae,1);break;case "groundShadow":null!=
this.be&&this.be.R();this.be=a;this.s(this.be,2);break;case "mask1":null!=this.fe&&this.fe.R();this.fe=a;this.s(this.fe,3);break;case "mask2":null!=this.ge&&this.ge.R();this.ge=a;this.s(this.ge,4);break;case "mask3":null!=this.ud&&this.ud.R();this.ud=a;this.s(this.ud,5);break;case "item":this.item.push(a);this.s(this.item[this.item.length-1],6);break;case "fringe1":null!=this.Sd&&this.Sd.R();this.Sd=a;this.s(this.Sd,7);break;case "fringe2":null!=this.Td&&this.Td.R();this.Td=a;this.s(this.Td,8);break;
case "fringeShadow":null!=this.Vd&&this.Vd.R();this.Vd=a;this.s(this.Vd,9);break;case "fringe3":null!=this.Ud&&this.Ud.R(),this.Ud=a,this.s(this.Ud,10)}},fg:function(){var a=!0;if(null!=this.$d&&this.$d.S()&&!1==this.$d.S().ec)a=!1;else if(null!=this.ae&&this.ae.S()&&!1==this.ae.S().ec)a=!1;else if(null!=this.be&&this.be.S()&&!1==this.be.W3)a=!1;else if(null!=this.fe&&this.fe.S()&&!1==this.fe.S().ec)a=!1;else if(null!=this.ge&&this.ge.S()&&!1==this.ge.S().ec)a=!1;else if(null!=this.ud&&this.ud.S()&&
!1==this.ud.S().ec)a=!1;else if(0<this.item.length)for(var c in this.item)this.item[c].S()&&!1==this.item[c].S().ec&&(a=!1);else null!=this.Sd&&this.Sd.S()&&!1==this.Sd.S().ec?a=!1:null!=this.Td&&this.Td.S()&&!1==this.Td.S().ec?a=!1:null!=this.Vd&&this.Vd.S()&&!1==this.Vd.S().ec?a=!1:null!=this.Ud&&this.Ud.S()&&!1==this.Ud.S().ec&&(a=!1);return a},rd:function(){null!=this.$d&&this.$d.R();this.$d=null;null!=this.ae&&this.ae.R();this.ae=null;null!=this.be&&this.be.R();this.be=null;null!=this.fe&&this.fe.R();
this.fe=null;null!=this.ge&&this.ge.R();this.ge=null;null!=this.ud&&this.ud.R();this.ud=null;for(var a=0;a<this.item.length;a++)this.item[a].R();this.item=[];this.ud=null;null!=this.Sd&&this.Sd.R();this.Sd=null;null!=this.Td&&this.Td.R();this.Td=null;null!=this.Vd&&this.Vd.R();this.Vd=null;null!=this.Ud&&this.Ud.R();this.Ud=null;this.Ei(0);this.Xa=[];this.item=[]},dB:function(a){switch(a){case "ground1":null!=this.$d&&this.$d.R();this.$d=null;break;case "ground2":null!=this.ae&&this.ae.R();this.ae=
null;break;case "groundShadow":null!=this.be&&this.be.R();this.be=null;break;case "mask1":null!=this.fe&&this.fe.R();this.fe=null;break;case "mask2":null!=this.ge&&this.ge.R();this.ge=null;break;case "mask3":null!=this.ud&&this.ud.R();this.ud=null;break;case "item":for(a=0;a<this.item.length;a++)this.item[a].R(),this.item[a].splice(a,1),a--;this.item=[];break;case "fringe1":null!=this.Sd&&this.Sd.R();this.Sd=null;break;case "fringe2":null!=this.Td&&this.Td.R();this.Td=null;break;case "fringeShadow":null!=
this.Vd&&this.Vd.R();this.Vd=null;break;case "fringe3":null!=this.Ud&&this.Ud.R(),this.Ud=null}},Ei:function(a){this.type=a;switch(this.type){case 0:this.Ie.fa("");break;case 1:this.Ie.fa("BLK");break;case 2:this.Ie.fa("SPW");break;case 3:this.Ie.fa("WRP");break;case 4:this.Ie.fa("ITM");break;case 5:this.Ie.fa("NPC");break;case 6:this.Ie.fa("SKL");break;case 7:this.Ie.fa("SGN")}},Ow:function(a,c){c||(c=!1);this.Xa.push({num:a.id,data:a.data,temp:c})},$S:function(){this.Xa.splice(this.Xa.length-1,
1);0==this.Xa.length&&this.Ei(0)},Xv:function(){return this.Xa[this.Xa.length-1]},qB:function(){switch(this.type){case 3:return ObjectLists.jm()[this.Xa[this.Xa.length-1].num];case 4:var a=ObjectLists.vi()[this.Xa[this.Xa.length-1].num];a.amount=parseInt(this.Xa[this.Xa.length-1].data.amount);return a;case 7:return ObjectLists.Cr()[this.Xa[this.Xa.length-1].num];case 5:return ObjectLists.Dk()[this.Xa[this.Xa.length-1].num]}},Sg:function(){switch(this.type){case 3:return ObjectLists.jm()[this.Xa[this.Xa.length-
1].num]?ObjectLists.jm()[this.Xa[this.Xa.length-1].num]:null;case 4:return ObjectLists.vi()[this.Xa[this.Xa.length-1].num]?ObjectLists.vi()[this.Xa[this.Xa.length-1].num]:null;case 5:return ObjectLists.Dk()[this.Xa[this.Xa.length-1].num]?ObjectLists.Dk()[this.Xa[this.Xa.length-1].num]:null}},lV:function(a){this.Ie.X(!0==a?255:0)},ic:function(){return this.type}});Ka.sx=function(a,c){var d=new Ka;d.q();d.position=p.a(a,c);return d};StatsController=p.A.extend({data:null,iw:null,P:null,q:function(a,c){this.data=a;this.P=c;this.bU()},update:function(){for(var a in this.data)this.iw&&(0==this.data[a].value&&0<this.iw[a]&&this.P.r$(a),this.data[a].yc>this.iw[a].yc&&this.P.t$(a)),this.iw[a]=this.data[a]},O3:function(a){return this.data[a].value},N3:function(a){return this.data[a].yc},i6:function(a,c){this.data[a].value+=c;this.data[a].value>this.data[a].zf&&(this.data[a].value=this.data[a].zf);0>this.data[a].value&&(this.data[a].value=
0)},zP:function(a,c){this.data[a].value=c;this.data[a].value>this.data[a].zf&&(this.data[a].value=this.data[a].zf);0>this.data[a].value&&(this.data[a].value=0)},h6:function(a,c){this.data[a].yc+=c;this.data[a].yc>this.data[a].yf&&(this.data[a].yc=this.data[a].yf);0>this.data[a].yc&&(this.data[a].yc=0)},zP:function(a,c){this.data[a].yc=c;this.data[a].yc>this.data[a].yf&&(this.data[a].yc=this.data[a].yf);0>this.data[a].yc&&(this.data[a].yc=0)},S_:function(a,c){this.data[a].yf=c},T_:function(a,c){this.data[a].zf=
c}});ObjectLists=p.ra.extend({$C:null,QB:null,NC:null,MC:null,VB:null});var W;ObjectLists.d=function(){W||(W=new ObjectLists,W.$C=w.iR(),W.QB=w.EQ(),W.NC=w.aR(),W.MC=w.$Q(),W.VB=w.NQ());return W};ObjectLists.jm=function(){return W.$C};ObjectLists.tV=function(a){W.$C=a};ObjectLists.vi=function(){return W.QB};ObjectLists.LU=function(a){W.QB=a};ObjectLists.Go=function(){return W.NC};ObjectLists.kV=function(a){W.NC=a};ObjectLists.Cr=function(){return W.MC};ObjectLists.jV=function(a){W.MC=a};
ObjectLists.Dk=function(){return W.VB};ObjectLists.TU=function(a){W.VB=a};gameMapInstance=null;
var C=p.oc.extend({yd:null,u:null,gg:!1,Pm:null,vm:null,fC:null,lm:null,Kk:null,Hk:null,Ik:null,Jk:null,J:p.a(0,0),xj:1,iB:function(a,c){function d(a,c){return{eL:a,value:c.x+c.y*U,x:c.x,y:c.y,Rv:0,g:0}}function e(a,c){var d=c-1,e=c+1,g=a+1,h=a-1,k=-1<d&&f.u["tile"+V(a,d)]&&1!=f.u["tile"+V(a,d)].ic()&&7!=f.u["tile"+V(a,d)].ic();myS=e<U&&f.u["tile"+V(a,e)]&&1!=f.u["tile"+V(a,e)].ic()&&7!=f.u["tile"+V(a,d)].ic();myE=g<U&&f.u["tile"+V(g,c)]&&1!=f.u["tile"+V(g,c)].ic()&&7!=f.u["tile"+V(a,d)].ic();myW=
-1<h&&f.u["tile"+V(h,c)]&&1!=f.u["tile"+V(h,c)].ic()&&7!=f.u["tile"+V(a,d)].ic();result=[];k&&result.push({x:a,y:d});myE&&result.push({x:g,y:c});myS&&result.push({x:a,y:e});myW&&result.push({x:h,y:c});return result}for(var f=this,g=d(null,c),h,k,l,m,n,s=[],q=[],v=[d(null,a)],z=Array(La*U);h=v.length;){k=La*U;l=-1;for(m=0;m<h;m++)v[m].Rv<k&&(k=v[m].Rv,l=m);k=v.splice(l,1)[0];if(k.value===g.value){l=q[q.push(k)-1];do s.push(p.a(l.x,l.y));while(l=l.eL);z=q=v=[];s.reverse()}else{h=e(k.x,k.y);m=0;for(n=
h.length;m<n;m++)l=d(k,h[m]),z[l.value]||(l.g=k.g+(Math.abs(h[m].x-k.x)+Math.abs(h[m].y-k.y)),l.Rv=l.g+(Math.abs(h[m].x-g.x)+Math.abs(h[m].y-g.y)),v.push(l),z[l.value]=!0);q.push(k)}}return s},wV:function(a){this.yd={};this.yd.mapdata={};for(var c in this.u)"tile"==c.substring(0,4)&&(this.u[c].rd(),this.yd[c]={});if(a)for(c in this.yd=a,a)if("tile"==c.substring(0,4))for(var d in a[c])"info"!=d?null!=a[c][d]&&this.u[c].Gj(a[c][d].texture,a[c][d].frame,d):(this.u[c].Ei(a[c][d].type),a[c][d].script&&
this.u[c].Ow(a[c][d].script),4==a[c][d].type&&this.u[c].Sg()&&this.u[c].Gj(this.u[c].Sg().sprite.texture,this.u[c].Sg().sprite.position,"item"),5==a[c][d].type&&this.u[c].Sg()&&y.iG(this.u[c].Sg(),p.a(this.u[c].o.x/32,this.u[c].o.y/32),this.xj));else"mapdata"==c&&(this.Kk=""!=a[c].mapConnectors.up&&null!=a[c].mapConnectors.up?a[c].mapConnectors.up:null,this.Hk=""!=a[c].mapConnectors.down&&null!=a[c].mapConnectors.down?a[c].mapConnectors.down:null,this.Ik=""!=a[c].mapConnectors.left&&null!=a[c].mapConnectors.left?
a[c].mapConnectors.left:null,this.Jk=""!=a[c].mapConnectors.right&&null!=a[c].mapConnectors.right?a[c].mapConnectors.right:null);this.zc(this.jC)},Sk:function(a){y.d().r(!1);a=w.GQ(a);this.yd={};this.yd.mapdata={};for(var c in this.u)"tile"==c.substring(0,4)&&(this.u[c].rd(),this.yd[c]={});if(a)for(c in this.yd=a,a)if("tile"==c.substring(0,4))for(var d in a[c])"info"!=d?null!=a[c][d]&&this.u[c].Gj(a[c][d].texture,a[c][d].frame,d):(this.u[c].Ei(a[c][d].type),a[c][d].script&&this.u[c].Ow(a[c][d].script),
4==a[c][d].type&&this.u[c].Sg()&&this.u[c].Gj(this.u[c].Sg().sprite.texture,this.u[c].Sg().sprite.position,"item"),5==a[c][d].type&&this.u[c].Sg()&&y.iG(this.u[c].Sg(),p.a(this.u[c].o.x/32,this.u[c].o.y/32),this.xj));else"mapdata"==c&&(this.Kk=""!=a[c].mapConnectors.up&&null!=a[c].mapConnectors.up?a[c].mapConnectors.up:null,this.Hk=""!=a[c].mapConnectors.down&&null!=a[c].mapConnectors.down?a[c].mapConnectors.down:null,this.Ik=""!=a[c].mapConnectors.left&&null!=a[c].mapConnectors.left?a[c].mapConnectors.left:
null,this.Jk=""!=a[c].mapConnectors.right&&null!=a[c].mapConnectors.right?a[c].mapConnectors.right:null);this.zc(this.jC)},jC:function(){for(var a in this.u)if("tile"==a.substring(0,4)&&!1==this.u[a].fg())return;y.d().r(!0);y.Jj();this.zd(this.jC);this.vm.r(!0);this.Pm.r(!0);this.gg=!0},td:function(){for(var a={},c=0;c<U;c++)for(var d=0;d<La;d++)a["tile"+(c+d*U)]={size:p.size(32,32),c:p.a(0,0),position:p.a(32*c,32*(La-d)),aS:!0,OV:p.a(d,c),visible:!1};return{panels:{children:a}}},q:function(){this.Mb(!0);
this.bJ(1)},Fb:function(a){!this.lm||Mapeditor&&Mapeditor.W||(this.lm=Mapeditor=null);if(this.lm)for(var c in this.u)"tile"==c.substring(0,4)&&p.Lb(this.u[c].Wa(),p.a(a.V.x-this.J.x,a.V.y+32-this.J.y))&&(this.lm.yJ(this.u,c),C.us());else for(c in this.u)if("tile"==c.substring(0,4)&&p.Lb(this.u[c].Wa(),p.a(a.V.x-this.J.x,a.V.y+32-this.J.y)))if(4==this.u[c].ic())this.W.s(DropDownList.aB(this,this.dS,["Pick up "+this.u[c].Sg().name,"Walk To"],a.V)),this.vo=c;else if(1!=this.u[c].ic()&&7!=this.u[c].ic()&&
4!=this.u[c].ic()){var d=y.l.da.bg();y.l.da.KC(this.iB(p.a(Math.floor(d.x),Math.ceil(d.y)),p.a(this.u[c].o.x/32,this.u[c].o.y/32)))}return!0},vo:null,dS:function(a){if(null!=this.P.vo){var c=y.l.da.bg(),d=p.a(gameMapInstance.u[gameMapInstance.vo].o.x/32,gameMapInstance.u[gameMapInstance.vo].o.y/32);switch(a){case 0:a=c.x>d.x?c.x-d.x:d.x-c.x;c=c.y>d.y?c.y-d.y:d.y-c.y;5>Math.sqrt(a*a+c*c)?y.l.da.VR(gameMapInstance.u[gameMapInstance.vo]):B.Db("The item is too far away!");break;case 1:y.l.da.KC(gameMapInstance.iB(p.a(Math.floor(c.x),
Math.ceil(c.y)),d)),this.P.vo=null}}},dd:function(a){if(this.lm){for(var c in this.u)"tile"==c.substring(0,4)&&p.Lb(this.u[c].Wa(),p.a(a.V.x-this.J.x,a.V.y+32-this.J.y))&&(this.lm.yJ(this.u,c,"moved"),C.us());return!0}for(c in this.u)if("tile"==c.substring(0,4)&&1!=this.u[c].ic()&&7!=this.u[c].ic()&&4!=this.u[c].ic()&&p.Lb(this.u[c].Wa(),p.a(a.V.x-this.J.x,a.V.y+32-this.J.y))){var d=y.l.da.bg();y.l.da.KC(this.iB(p.a(Math.floor(d.x),Math.ceil(d.y)),p.a(this.u[c].o.x/32,this.u[c].o.y/32)))}},ga:function(){this._super();
if(!0==this.gg){this.Pm.TA(0,0,0,0);for(var a in this.u)"tile"==a.substring(0,4)&&(this.u[a].r(!0),null!=this.u[a].Sd&&this.u[a].Sd.r(!1),null!=this.u[a].Td&&this.u[a].Td.r(!1),null!=this.u[a].Vd&&this.u[a].Vd.r(!1),null!=this.u[a].Ud&&this.u[a].Ud.r(!1),this.u[a].ga(),null!=this.u[a].Sd&&this.u[a].Sd.r(!0),null!=this.u[a].Td&&this.u[a].Td.r(!0),null!=this.u[a].Vd&&this.u[a].Vd.r(!0),null!=this.u[a].Ud&&this.u[a].Ud.r(!0),this.u[a].r(!1));this.Pm.end();this.vm.TA(0,0,0,0);for(a in this.u)if("tile"==
a.substring(0,4)){this.u[a].r(!0);null!=this.u[a].$d&&this.u[a].$d.r(!1);null!=this.u[a].ae&&this.u[a].ae.r(!1);null!=this.u[a].be&&this.u[a].be.r(!1);null!=this.u[a].fe&&this.u[a].fe.r(!1);null!=this.u[a].ge&&this.u[a].ge.r(!1);null!=this.u[a].ud&&this.u[a].ud.r(!1);for(var c=0;c<this.u[a].item.length;c++)this.u[a].item[c].r(!1);this.u[a].ga();null!=this.u[a].$d&&this.u[a].$d.r(!0);null!=this.u[a].ae&&this.u[a].ae.r(!0);null!=this.u[a].be&&this.u[a].be.r(!0);null!=this.u[a].fe&&this.u[a].fe.r(!0);
null!=this.u[a].ge&&this.u[a].ge.r(!0);null!=this.u[a].ud&&this.u[a].ud.r(!0);for(c=0;c<this.u[a].item.length;c++)this.u[a].item[c].r(!0);this.u[a].r(!1)}this.vm.end();this.gg=!1}}});
C.ax=function(a,c){0<=gameMapInstance.J.x+(T.width-Y.width/2)+a&&y.l.da.o.x<T.width-Y.width/2&&0>=gameMapInstance.J.x+a&&y.l.da.o.x>Y.width/2&&(gameMapInstance.J.x+=a);0<=gameMapInstance.J.y+(T.height-Y.height/2)+c&&y.l.da.o.y<T.height-Y.height/2&&0>=gameMapInstance.J.y+c&&y.l.da.o.y>Y.height/2&&(gameMapInstance.J.y+=c);gameMapInstance.w(gameMapInstance.J.x,gameMapInstance.J.y)};
C.wB=function(a,c){a=parseInt(a);c=parseInt(c);!0==gameMapInstance.gg?0==offsetFromPositionScheduledX&&0==offsetFromPositionScheduledY&&(offsetFromPositionScheduledX=a,offsetFromPositionScheduledY=c,gameMapInstance.zc(C.vI)):(gameMapInstance.J.x=a>T.width-Y.width/2?-(T.width-Y.width):a<Y.width/2?0:-(a-Y.width/2),gameMapInstance.J.y=c>T.height-Y.height/2?-(T.height-Y.height):c<Y.height/2?0:-(c-Y.height/2),offsetFromPositionScheduledY=offsetFromPositionScheduledX=0,gameMapInstance.zd(C.vI),gameMapInstance.w(gameMapInstance.J.x,
gameMapInstance.J.y))};offsetFromPositionScheduledY=offsetFromPositionScheduledX=0;C.vI=function(){C.wB(offsetFromPositionScheduledX,offsetFromPositionScheduledY)};C.yB=function(){!0==gameMapInstance.gg?gameMapInstance.zc(C.yB):(gameMapInstance.zd(C.yB),gameMapInstance.J.x=-(T.width-Y.width),gameMapInstance.w(gameMapInstance.J.x,gameMapInstance.J.y))};
C.xB=function(){!0==gameMapInstance.gg?gameMapInstance.zc(C.xB):(gameMapInstance.zd(C.xB),gameMapInstance.J.x=0,gameMapInstance.w(gameMapInstance.J.x,gameMapInstance.J.y))};C.vB=function(){!0==gameMapInstance.gg?gameMapInstance.zc(C.vB):(gameMapInstance.zd(C.vB),gameMapInstance.J.y=-(T.height-Y.height),gameMapInstance.w(gameMapInstance.J.x,gameMapInstance.J.y))};
C.zB=function(){!0==gameMapInstance.gg?gameMapInstance.zc(C.zB):(gameMapInstance.zd(C.zB),gameMapInstance.J.y=0,gameMapInstance.w(gameMapInstance.J.x,gameMapInstance.J.y))};
C.create=function(){gameMapInstance||(gameMapInstance=new C,gameMapInstance.u=Da(gameMapInstance),gameMapInstance.s(gameMapInstance.u),gameMapInstance.Pm=p.lb.create(T.width,T.height),gameMapInstance.Pm.w(p.a(Math.floor(T.width/2),Math.floor(T.height/2))),gameMapInstance.s(gameMapInstance.Pm),gameMapInstance.Pm.r(!1),gameMapInstance.fC=p.I.create(),gameMapInstance.s(gameMapInstance.fC),gameMapInstance.vm=p.lb.create(T.width,T.height),gameMapInstance.vm.w(p.a(Math.floor(T.width/2),Math.floor(T.height/
2))),gameMapInstance.s(gameMapInstance.vm),gameMapInstance.vm.r(!1),gameMapInstance.ks(-15),gameMapInstance.q());return gameMapInstance};C.d=function(){return gameMapInstance};C.es=function(){gameMapInstance.R();gameMapInstance=null};C.us=function(){gameMapInstance||(gameMapInstance=C.create());gameMapInstance.gg=!0};C.xV=function(a){gameMapInstance.wV(a)};C.d=function(){return gameMapInstance};C.Gj=function(a,c,d,e){gameMapInstance.u[a].Gj(c,d,e);gameMapInstance.yd[a][e]={texture:c,frame:d}};
C.JJ=function(){G({savemap:gameMapInstance.xj,mapdata:gameMapInstance.yd})};C.dB=function(a,c){gameMapInstance.yd[a][c]=null;gameMapInstance.u[a].dB(c)};C.Di=function(a,c,d,e){gameMapInstance.u[a].Ei(c);d?(gameMapInstance.u[a].Ow(d,e),gameMapInstance.yd[a].info={type:c,script:{id:d,data:e?e:null}}):gameMapInstance.yd[a].info={type:c}};C.NI=function(a){gameMapInstance.yd.mapdata.mapConnectors=a;gameMapInstance.Kk=a.up;gameMapInstance.Hk=a.down;gameMapInstance.Ik=a.left;gameMapInstance.Jk=a.right};
C.pQ=function(a,c,d){for(var e in gameMapInstance.u)"tile"==e.substring(0,4)&&(gameMapInstance.u[e].Gj(a,c,d),gameMapInstance.yd[e][d]={texture:a,frame:c})};C.ZI=function(a){for(var c in gameMapInstance.u)"tile"==c.substring(0,4)&&gameMapInstance.u[c].lV(a);gameMapInstance.gg=!0};C.O9=function(){for(var a in gameMapInstance.u)"tile"==a.substring(0,4)&&gameMapInstance.u[a].Ie.fa(a.substring(4));gameMapInstance.gg=!0};C.lH=function(){return null!=gameMapInstance.Kk};C.jH=function(){return null!=gameMapInstance.Hk};
C.kH=function(){return null!=gameMapInstance.Ik};C.BB=function(){return null!=gameMapInstance.Jk};C.Xd=function(){return gameMapInstance.xj};C.ZG=function(){return gameMapInstance.Kk};C.XG=function(){return gameMapInstance.Hk};C.YG=function(){return gameMapInstance.Ik};C.oB=function(){return gameMapInstance.Jk};C.Zv=function(a,c){c||(MapMaster=!1);y.d().r(!1);y.XP();C.rd();gameMapInstance.xj=a;y.l.da.bp(a);y.Jj();gameMapInstance.Sk(a)};
C.nR=function(){y.d().r(!1);C.rd();gameMapInstance.xj=gameMapInstance.Kk;y.l.da.bp(gameMapInstance.Kk);y.Jj();gameMapInstance.Sk(gameMapInstance.Kk)};C.kR=function(){y.d().r(!1);C.rd();gameMapInstance.xj=gameMapInstance.Hk;y.l.da.bp(gameMapInstance.Hk);y.Jj();gameMapInstance.Sk(gameMapInstance.Hk)};C.lR=function(){y.d().r(!1);C.rd();gameMapInstance.xj=gameMapInstance.Ik;y.l.da.bp(gameMapInstance.Ik);y.Jj();gameMapInstance.Sk(gameMapInstance.Ik)};
C.mR=function(){y.d().r(!1);C.rd();gameMapInstance.xj=gameMapInstance.Jk;y.l.da.bp(gameMapInstance.Jk);y.Jj();gameMapInstance.Sk(gameMapInstance.Jk)};C.Gw=function(a){gameMapInstance.lm=a};C.Yv=function(a,c){return a>U-1||0>a?void 0:gameMapInstance.u["tile"+(a+(La-c)*U)]};C.eH=function(a){return gameMapInstance.u["tile"+a]};C.bP=function(){var a=y.d();gameMapInstance.fC.s(a);C.wB(y.l.da.o.C,y.l.da.o.G)};
C.rd=function(){gameMapInstance.yd={};for(var a in gameMapInstance.u)"tile"==a.substring(0,4)&&(gameMapInstance.u[a].rd(),gameMapInstance.yd[a]={});gameMapInstance.yd.mapdata={};gameMapInstance.gg=!0};var y=p.oc.extend({l:null,Pb:[],cf:[],da:null});y.d=function(){return this.l};y.es=function(){this.l.R();this.l=null};y.create=function(a){this.l||(this.l=new y,this.l.da=PlayerCharacter.create(a),this.l.da.w(960,320),this.l.s(this.l.da));return this.l};y.WK=function(){var a=C.Xd(),c=[],d;for(d in this.l.cf)this.l.cf[d].kg==a&&c.push(this.l.cf[d]);return c};y.Br=function(a){return this.l.cf[a]};y.tS=function(a,c,d){this.l.cf[a]&&"default"!=c&&this.l.da.kg==d&&this.l.cf[a].NJ(c)};
y.OT=function(a,c){this.l.cf[a]&&"default"!=c&&this.l.cf[a].w(p.a(c%U*32,32*Math.floor(c/U)))};y.XP=function(){for(var a in this.l.cf)this.l.cf[a].R();this.l.cf=[]};y.iG=function(a,c,d){var e=parseInt(this.l.cf.length);this.l.cf.push(NonPlayerCharacter.create({name:a.name,Lm:{health:{yc:1,value:100,zf:200,yf:900},mana:{yc:1,value:100,zf:200,yf:99}},map:d,os:"sprites1.png",ms:2,Fk:e}));this.l.cf[e].w(32*c.x,32*c.y);this.l.s(this.l.cf[e])};y.v4=function(){return this.l.da};y.Dh=function(a){return this.l.Pb[a]};
y.aP=function(a){this.l.Pb[a]=PlayerCharacter.create({name:a,Lm:{health:{yc:1,value:100,zf:200,yf:900},mana:{yc:1,value:100,zf:200,yf:99}},map:1,os:"sprites1.png",ms:1});this.l.Pb[a].w(960,320);y.Jj();this.l.s(this.l.Pb[a]);B.Db(a+H.xc.eC)};y.zG=function(a){if(this.l.Pb[a]){this.l.Pb[a].R();this.l.Pb[a]=null;B.Db(a+H.xc.YS);for(var c=0;c<u.length;c++){var d=JSON.parse(u[c]);d.id&&d.id==a&&(u.splice(c,1),c--)}}};
y.uS=function(a,c){this.l.Pb[a]&&"default"!=c?this.l.Pb[a].NJ(c):(this.l.Pb[a]=PlayerCharacter.create({name:a,Lm:{health:{yc:1,value:100,zf:200,yf:900},mana:{yc:1,value:100,zf:200,yf:99}},map:1,os:"sprites1.png",ms:1}),this.l.Pb[a].w(960,320),this.l.Pb[a].w(p.a(c%U*32,32*Math.floor(c/U))),y.Jj(),this.l.s(this.l.Pb[a]),B.Db(a+H.xc.eC))};
y.aI=function(a,c){this.l.Pb[a]&&"default"!=c?this.l.Pb[a].w(p.a(c%U*32,32*Math.floor(c/U))):(this.l.Pb[a]=PlayerCharacter.create({name:a,Lm:{health:{yc:1,value:100,zf:200,yf:900},mana:{yc:1,value:100,zf:200,yf:99}},map:1,os:"sprites1.png",ms:1}),this.l.Pb[a].w(p.a(c%U*32,32*Math.floor(c/U))),y.Jj(),this.l.s(this.l.Pb[a]),B.Db(a+H.xc.eC))};y.wP=function(a){this.l.Pb[a]&&this.l.Pb[a].updateStatus("AFK")};
y.Jj=function(){var a=this.l.da.kg,c;for(c in this.l.Pb)null!=this.l.Pb[c]&&this.l.Pb[c].r(this.l.Pb[c].kg==a)};y.rd=function(){for(var a in this.l.Pb)null!=this.l.Pb[a]&&y.zG(a);this.l.da.R();this.l.da=null};y.vP=function(a,c){this.l.Pb[a].bp(c);this.l.Pb[a].r(this.l.da.kg==c)};Character=p.A.extend({name:null,Lm:null,wJ:null,w_:null,Je:null,hg:!1,qm:null,Vw:null,Ai:!1,Fk:-1,status:null,kg:null,path:null,hB:"DOWN",q:function(a){this.nV(a.os,a.ms);this.Lm=new StatsController(a.s$,this);this.s(this.Lm);this.name=a.name;a.Ai&&(this.Ai=a.Ai);a.map&&(this.kg=a.map);null!=a.Fk&&"undefined"!==a.Fk&&(console.log(this.Fk),this.Fk=a.Fk);this.ma(0,1);this.qm=p.Y.create("","Arial",12);this.qm.ma(0.5,0);this.qm.k(255,0,0);this.qm.w(Math.floor(this.e().width/2),this.e().width+3);this.s(this.qm);
this.GJ()},T1:function(){return this.hB},bp:function(a){this.kg=a},r2:function(){return this.kg},updateStatus:function(a){this.status=a&&a!=this.status?a:null;this.GJ()},GJ:function(){null!=this.status?this.qm.fa(this.name+"-"+this.status):this.qm.fa(this.name)},getName:function(){return this.name},gf:function(a,c,d){this.ib(p.rect(32*a,128*this.wJ.id+32*c,32,32));this.Vw=p.a(a,c);this.hB=d},Tg:function(){return this.Vw},nV:function(a,c){this.wJ={name:a,id:c};this.aa(p.Ra.d().gc(a));this.gf(1,0)},
bg:function(){return p.a(this.o.x/32,this.o.y/32)},Bv:0.24,ZV:0.24,Bk:2,aW:function(a){var c=a.position%U,d=Math.floor(a.position/U);this.w(32*c,32*d);G({changemap:a.mapTo,setTo:a.position});C.Zv(a.mapTo);C.wB(32*c,32*d)},WR:function(){if(!this.hg){var a=this.bg(),a=C.Yv(a.x,a.y);switch(a.ic()){case 4:this.dC(a.qB())}}},VR:function(a){if(a&&!this.hg)switch(a.ic()){case 4:this.WS(a.qB(),a)}},UR:function(){if(!this.hg){var a=this.bg();switch(this.hB){case "RIGHT":a.x+=1;break;case "LEFT":a.x-=1;break;
case "UP":a.y+=1;break;case "DOWN":a.y-=1}if(a=C.Yv(a.x,a.y))switch(a.ic()){case 7:Ja.BV(a.qB())}}},xs:function(a){this.Bv+=a;a=this.o;var c=this.Tg();this.Bv>this.ZV&&(this.Bv=0,this.Je.x<a.x?this.gf((c.x+1)%3,1,"LEFT"):this.Je.x>a.x?this.gf((c.x+1)%3,2,"RIGHT"):this.Je.y<a.y?this.gf((c.x+1)%3,0,"DOWN"):this.Je.y>a.y&&this.gf((c.x+1)%3,3,"UP"));this.Je.x<a.x?(this.xb(a.x-this.Bk),this.Ai&&C.ax(+this.Bk,0)):this.Je.x>a.x?(this.xb(a.x+this.Bk),this.Ai&&C.ax(-this.Bk,0)):this.Je.y<a.y?(this.Nh(a.y-
this.Bk),this.Ai&&C.ax(0,this.Bk)):this.Je.y>a.y&&(this.Nh(a.y+this.Bk),this.Ai&&C.ax(0,-this.Bk));a.y==this.Je.y&&a.x==this.Je.x&&(this.hg=!1,this.zd(this.xs),null!=this.path&&this.nG())},kp:function(a,c){if(!1!=this.va){var d=C.Yv(a,c),e=this.Vw,f=this.bg();f.x>a?this.gf(e.x,1,"LEFT"):f.x<a&&this.gf(e.x,2,"RIGHT");f.y>c?this.gf(e.x,0,"DOWN"):f.y<c&&this.gf(e.x,3,"UP");if(!d)this.Ai&&null==Mapeditor&&(f.x<a&&C.BB()?(this.w(0,32*c),G({changemap:parseInt(C.oB()),setTo:0+c*U}),C.mR(),C.xB()):f.x>a&&
C.kH()&&(this.w(32*(U-1),32*c),G({changemap:parseInt(C.YG()),setTo:U-1+c*U}),C.lR(),C.yB()),f.y<c&&C.lH()?(this.w(32*a,32),G({changemap:parseInt(C.ZG()),setTo:a+1*U}),C.nR(),C.zB()):f.y>c&&C.jH()&&(G({changemap:parseInt(C.XG()),setTo:a+La*U}),C.kR(),this.w(32*a,32*La),C.vB()));else if(!1==this.hg&&d){switch(d.ic()){case 1:case 7:return;case 3:this.aW(d.Sg());return}this.Je=p.a(32*a,32*c);this.hg=!0;this.zc(this.xs);this.xs(0);this.Ai?G({moveTo:this.Je.x/32+this.Je.y/32*U}):-1<this.Fk&&G({npcID:this.Fk+
"",mapnumber:this.kg,moveNPC:this.Je.x/32+this.Je.y/32*U})}}},nG:function(){0==this.path.length?this.path=null:(this.path.splice(0,1),0==this.path.length?this.path=null:this.kp(this.path[0].x,this.path[0].y))},KC:function(a){if(null==this.path||0!=a.length)this.path=a,this.nG()},NJ:function(a){if(!1!=this.va){var c=a%U;a=Math.floor(a/U);if(!1==this.hg){var d=this.Vw,e=this.bg();4<Math.abs(p.ZB(p.a(c,a),e))?this.w(p.a(32*c,32*a)):(e.x>c?this.gf(d.x,1,"LEFT"):e.x<c?this.gf(d.x,2,"RIGHT"):e.y>a?this.gf(d.x,
0,"DOWN"):e.y<a&&this.gf(d.x,3,"UP"),this.Je=p.a(32*c,32*a),this.hg=!0,this.zc(this.xs),this.xs(0))}}}});
PlayerCharacter=Character.extend({items:null,q:function(a){this._super(a);this.items={stored:[],equipped:{}}},ss:function(a,c){for(var d=0;d<this.items.stored.length;d++)this.items.stored[d].name==a&&(this.items.stored[d]=c)},dC:function(a){var c=this.bg(),d=C.Yv(c.x,c.y);if(!0==a.stackable)for(var e=0;40>e;e++)if(this.items.stored[e]&&this.items.stored[e].name==a.name){Inventory&&(this.items.stored[e].amount+=a.amount,Inventory.Km(e,this.items.stored[e].amount));B.Db(H.xc.qw+a.name);d.Xv().temp?
G({pickupitem:V(c.x,c.y),mapnumber:C.Xd(),temp:!0}):G({pickupitem:V(c.x,c.y),mapnumber:C.Xd()});return}for(var f=!1,e=0;40>e;e++)if(null==this.items.stored[e]){this.items.stored[e]=Ca(a);Inventory&&Inventory.Km(e,this.items.stored[e].amount);B.Db(H.xc.qw+a.name);d.Xv().temp?G({pickupitem:V(c.x,c.y),mapnumber:C.Xd(),temp:!0}):G({pickupitem:V(c.x,c.y),mapnumber:C.Xd()});f=!0;break}!1==f&&B.Db(H.xc.yH)},WS:function(a,c){var d=p.a(c.o.C/32,c.o.G/32);if(!0==a.stackable)for(var e=0;40>e;e++)if(this.items.stored[e]&&
this.items.stored[e].name==a.name){Inventory&&(this.items.stored[e].amount+=a.amount,Inventory.Km(e,this.items.stored[e].amount));B.Db(H.xc.qw+a.name);c.Xv().temp?G({pickupitem:V(d.x,d.y),mapnumber:C.Xd(),temp:!0}):G({pickupitem:V(d.x,d.y),mapnumber:C.Xd()});return}for(var f=!1,e=0;40>e;e++)if(null==this.items.stored[e]){this.items.stored[e]=Ca(a);Inventory&&Inventory.Km(e,this.items.stored[e].amount);B.Db(H.xc.qw+a.name);c.Xv().temp?G({pickupitem:V(d.x,d.y),mapnumber:C.Xd(),temp:!0}):G({pickupitem:V(d.x,
d.y),mapnumber:C.Xd()});f=!0;break}!1==f&&B.Db(H.xc.yH)},IG:function(a,c){var d=this.bg();B.Db(H.xc.iQ+this.items[c][a].name);G({droppeditem:this.items[c][a],mapnumber:C.Xd(),index:V(d.x,d.y)});!0==this.items[c][a].stackable&&1<this.items[c][a].amount&&Inventory.Km(a,0);this.items[c][a]=null;Inventory&&Inventory.hf();Equipment&&Equipment.hf()},XV:function(a){switch(this.items.stored[a].itemType){case "book":null==Book||Book.W||(Itemeditor=null);Book&&(Book.yb(),Book.R(),Book=null);Book=new BookPanel;
Book.q(this.items.stored[a]);Book.Oa();this.W.W.W.s(Book);break;case "wearable":this.oQ(a)}},oQ:function(a){var c=null;this.items.equipped[this.items.stored[a].subType]&&(c=Ca(this.items.equipped[this.items.stored[a].subType]));this.items.equipped[this.items.stored[a].subType]=Ca(this.items.stored[a]);this.items.stored[a]=c;Inventory&&Inventory.hf();Equipment&&Equipment.hf()},WP:function(a){for(var c=0;40>c;c++)if(null==this.items.stored[c]){this.items.stored[c]=Ca(this.items.equipped[a]);this.items.equipped[a]=
null;Inventory&&Inventory.hf();Equipment&&Equipment.hf();return}B.Db("No space in inventory to dequip this item.")},Ar:function(){return this.items.stored},mB:function(){return this.items.equipped}});PlayerCharacter.create=function(a){var c=new PlayerCharacter;c.q(a);return c};NonPlayerCharacter=Character.extend({d6:null,rw:!1,fV:function(a,c){this.rw=!0;this.gd(function(){this.kp(a.x,a.y);this.rw=!1},c)},v5:function(){return this.rw}});
NonPlayerCharacter.create=function(a){var c=new NonPlayerCharacter;c.q(a);return c};var Ma=p.oc.extend({sC:null,b:null,ctor:function(){this._super()},OJ:function(){},Jm:function(){},Oa:function(){this.b&&this.b.R();this.b=Da(this);this.s(this.b)},yb:function(){},q:function(){this.bJ(1);this.Mb(!0);x.Hm(this);this._super()},XB:function(){p.log("Override onKeyDown in scene extended class to use keyboard")},lw:function(){p.log("Override onKeyUp in scene extended class to use keyboard")},JU:function(a){this.sC=a},sd:function(){return this.sC}});DropDownList=Ma.extend({list:null,PP:null,selected:null,b:null,P:null,yG:null,cI:null,ctor:function(){this._super();this.list=[];this.PP=0},q:function(a,c,d,e){this._super();a&&(this.P=a,this.yG=c,d&&(this.list=d),e&&this.w(e),this.cI=x.uQ(),x.Hm(this),this.ks(-1E3))},Fb:function(a){a=this.b.control_menu.wb(a.V);for(var c=0;c<this.list.length;c++)p.Lb(p.rect(this.b.control_menu[c+""].o.C,this.b.control_menu[c+""].o.G,this.b.control_menu[c+""].e().width,this.b.control_menu[c+""].e().height),a)&&this.yG(c);
this.hT();return!0},hT:function(){x.Hm(this.cI);this.R();Fa()},PT:function(){this.Nh(this.o.G-24*this.list.length);for(var a=0,c=0;c<this.list.length;c++)this.b.control_menu[c+""].content.e().width>a&&(a=this.b.control_menu[c+""].content.e().width);for(c=0;c<this.list.length;c++)this.b.control_menu[c+""].qG(a+8);this.b.control_menu.qG(a+8)},td:function(){for(var a={},c=0;c<this.list.length;c++)a[c+""]={position:p.a(0,24*(this.list.length-1)-24*c),size:p.size(96,24),c:p.a(0,0),m:p.v(200,200,200,200),
children:{content:{label:this.list[c],fontSize:20,color:p.i(0,0,0),c:p.a(0,0.5),position:p.a(4,12)}}};return{panels:{children:{control_menu:{position:p.a(0,0),m:p.v(200,200,200,200),size:p.size(96,48),children:a}}}}},lg:function(a){a=this.b.control_menu.wb(a);for(var c=0;c<this.list.length;c++)this.b.control_menu[c+""].k(p.v(200,200,200,200)),p.Lb(p.rect(this.b.control_menu[c+""].o.C,this.b.control_menu[c+""].o.G,this.b.control_menu[c+""].e().width,this.b.control_menu[c+""].e().height),a)&&this.b.control_menu[c+
""].k(p.v(255,0,0,255))}});DropDownList.aB=function(a,c,d,e){var f=new DropDownList;f.q(a,c,d,e);f.b=Da(f.td(),!0);f.s(f.b);f.PT();return f};Popup=Ma.extend({Df:null,Eh:!1,q:function(){this.sC=this.sd();this._super();x.Hm(this);this.yV();this.ks(-50)},A0:function(){this.R()},Fb:function(a){var c=a.V;x.Hm(this);c=this.b.control_panel.wb(c);if(p.Lb(p.rect(this.b.control_panel.exitBtn.o.C,this.b.control_panel.exitBtn.o.G,this.b.control_panel.exitBtn.e().width,this.b.control_panel.exitBtn.e().height),c)){var d=this;this.W.gd(function(){!1==d.Eh&&d.yb();d.R();d=null});return!0}return p.Lb(p.rect(this.b.o.x,this.b.o.y+this.b.control_panel.o.y,
this.b.control_panel.e().width,this.b.control_panel.e().height),a.V)?(this.Df=this.b.yh(a),!0):!1},dd:function(a){return this.Df?(a=a.V,this.b.w(p.a(a.x-this.Df.x,a.y-this.Df.y)),!0):!1},R:function(){w.aV(this.sd(),this.b.o);this._super()},yV:function(){p.log("Ovveride setupPopup")},sd:function(){p.log("No id given... using default 'Popup'");return"Popup"},df:function(){},Oa:function(){this._super();var a=w.RQ();console.log(a);"null"!=a&&null!=a&&(a=JSON.parse(a)[this.sd()])&&this.b.w(a.x,a.y)}});Book=null;
BookPanel=Popup.extend({data:null,Ee:null,sd:function(){return"Book"},td:function(){return{panels:{position:p.a(100,20),children:{main_panel:{c:p.a(0,0),position:p.a(0,0),size:p.size(512,320),m:p.v(0,0,100,200),children:{pageBackbtn:{position:p.a(4,4),size:p.size(96,32),m:p.v(255,255,255,255),c:p.a(0,0),children:{text:{label:"Previous Page",fontSize:12,c:p.a(0.5,0.5),position:p.a(48,16),color:p.i(0,0,0)}}},pageForwardbtn:{position:p.a(412,4),size:p.size(96,32),m:p.v(255,255,255,255),c:p.a(0,0),children:{text:{label:"Next Page",
fontSize:12,c:p.a(0.5,0.5),position:p.a(48,16),color:p.i(0,0,0)}}},pageSplitter:{position:p.a(254,0),size:p.size(4,320),m:p.v(255,255,255,255),c:p.a(0,0)},leftPage:{label:0<this.Ee.length?this.Ee[0]:this.Ee,c:p.a(0,1),position:p.a(4,316),color:p.i(255,255,255)},rightPage:{label:0<this.Ee.length?this.Ee[1]:"",c:p.a(0,1),position:p.a(260,316),color:p.i(255,255,255)}}},control_panel:{c:p.a(0,0),position:p.a(0,320),size:p.size(512,32),m:p.v(255,0,0,200),children:{header:{label:this.data.name,fontSize:20,
c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(482,3),size:p.size(26,26),c:p.a(0,0),m:p.v(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.i(0,0,0),c:p.a(0.5,0.5),position:p.a(13,13)}}}}}}}}},q:function(a){this._super();this.data=a;this.Ee=[];for(a=a.additionalData.Contents;a;)if(490>a.length){this.Ee.push(a);break}else this.Ee.push(a.substr(0,490)+"..."),a=a.substr(490);this.SS=Math.floor(this.Ee.length/2)-1;this.ti=0},Oa:function(){this._super();this.b.main_panel.leftPage.wC(p.size(248,
0));this.b.main_panel.rightPage.wC(p.size(248,0));this.b.main_panel.pageBackbtn.r(!1);2>this.Ee.length&&this.b.main_panel.pageForwardbtn.r(!1)},oR:function(){this.ti++;this.b.main_panel.pageBackbtn.r(!0);this.ti==this.SS&&this.b.main_panel.pageForwardbtn.r(!1);this.b.main_panel.leftPage.fa(this.Ee[2*this.ti]);this.Ee[2*this.ti+1]?this.b.main_panel.rightPage.fa(this.Ee[2*this.ti+1]):this.b.main_panel.rightPage.fa("")},pR:function(){this.ti--;this.b.main_panel.pageForwardbtn.r(!0);0==this.ti&&this.b.main_panel.pageBackbtn.r(!1);
this.b.main_panel.leftPage.fa(this.Ee[2*this.ti]);this.Ee[2*this.ti+1]&&this.b.main_panel.rightPage.fa(this.Ee[2*this.ti+1])},Fb:function(a){if(this._super(a))return!0;this.Df=null;a=this.b.main_panel.wb(a.V);if(S(this.b.main_panel.pageForwardbtn,a))return this.oR(),!0;if(S(this.b.main_panel.pageBackbtn,a))return this.pR(),!0}});Equipment=null;
EquipmentPanel=Popup.extend({sd:function(){return"Equipment"},td:function(){var a={};a.head={cc:"GUI/defaultitem.png",position:p.a(88,162),size:p.size(32,32),c:p.a(0,1)};a.legs={cc:"GUI/defaultitem.png",position:p.a(88,82),size:p.size(32,32),c:p.a(0,1)};a.feet={cc:"GUI/defaultitem.png",position:p.a(88,40),size:p.size(32,32),c:p.a(0,1)};a.body={cc:"GUI/defaultitem.png",position:p.a(88,122),size:p.size(32,32),c:p.a(0,1)};a.larm={cc:"GUI/defaultitem.png",position:p.a(48,122),size:p.size(32,32),c:p.a(0,
1)};a.rarm={cc:"GUI/defaultitem.png",position:p.a(128,122),size:p.size(32,32),c:p.a(0,1)};a.mod={cc:"GUI/defaultitem.png",position:p.a(8,162),size:p.size(32,32),c:p.a(0,1)};return{panels:{position:p.a(100,300),children:{main_panel:{c:p.a(0,0),size:p.size(168,168),cc:"GUI/equipment.png",children:a},control_panel:{c:p.a(0,0),position:p.a(0,168),size:p.size(168,32),children:{header:{label:"Equipment",fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(144,6),size:p.size(20,20),c:p.a(0,
0),cc:"GUI/close.png"}}},item_name:{position:p.a(0,0),m:p.v(200,200,200,200),size:p.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:p.i(0,0,0),c:p.a(0.5,0.5),position:p.a(32,8)}}}}}}},hf:function(){var a=y.l.da.mB();this.b.main_panel.head.aa(p.Ra.d().gc("GUI/defaultitem.png"));this.b.main_panel.body.aa(p.Ra.d().gc("GUI/defaultitem.png"));this.b.main_panel.legs.aa(p.Ra.d().gc("GUI/defaultitem.png"));this.b.main_panel.feet.aa(p.Ra.d().gc("GUI/defaultitem.png"));this.b.main_panel.larm.aa(p.Ra.d().gc("GUI/defaultitem.png"));
this.b.main_panel.rarm.aa(p.Ra.d().gc("GUI/defaultitem.png"));this.b.main_panel.mod.aa(p.Ra.d().gc("GUI/defaultitem.png"));for(var c in a)if(a[c]){for(var d in K)if(K[d].name==a[c].sprite.texture)var e=K[d].texture;this.b.main_panel[a[c].subType].ma(0,1);this.b.main_panel[a[c].subType].aa(e);this.b.main_panel[a[c].subType].ib(p.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,32,32))}},SB:function(a){switch(a){case 0:y.l.da.WP(this.P.No);break;case 1:y.l.da.IG(this.P.No,"equipped")}},Fb:function(a){if(this._super(a))return!0;
this.Df=null;var c=this.b.main_panel.wb(a.V),d=y.l.da.mB(),e;for(e in d)if(d[e]&&S(this.b.main_panel[d[e].subType],p.a(c.x,c.y+32)))return this.No=e,this.b.item_name.r(!1),this.s(DropDownList.aB(this,this.SB,["Unequip","Drop"],a.V)),!0},lg:function(a){a=this.b.main_panel.wb(a);this.b.item_name.r(!1);var c=y.l.da.mB(),d;for(d in c)if(c[d]&&S(this.b.main_panel[c[d].subType],p.a(a.x,a.y+t32)))return this.b.item_name.content.fa(c[d].name),this.b.item_name.r(!0),this.b.item_name.ea(this.b.item_name.content.e()),
this.b.item_name.content.xb(this.b.item_name.content.e().width/2),this.b.item_name.w(p.a(this.b.main_panel[c[d].subType].o.C-this.b.item_name.content.e().width/2+16,this.b.main_panel[c[d].subType].o.G)),!0},Oa:function(){this._super();this.hf()}});Inventory=null;
InventoryPanel=Popup.extend({No:null,sd:function(){return"Inventory"},td:function(){for(var a={},c=0;5>c;c++)for(var d=0;8>d;d++)a[5*d+c+""]={size:p.size(32,32),position:p.a(40*c+8,40*(7-d)+40),cc:"GUI/defaultitem.png",c:p.a(0,1),children:{stacklabelbg:{position:p.a(1,1),size:p.size(10,6),c:p.a(0,0),m:p.v(255,255,255,200),children:{stacklabel:{label:"",fontSize:10,color:p.i(0,0,0),c:p.a(0,0),position:p.a(0,0)}}}}};return{panels:{position:p.a(300,200),children:{main_panel:{c:p.a(0,0),cc:"GUI/inventory.png",
size:p.size(208,328),children:a},control_panel:{c:p.a(0,0),position:p.a(0,328),size:p.size(208,32),children:{header:{label:"Inventory",fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(184,6),size:p.size(20,20),c:p.a(0,0),cc:"GUI/close.png"}}},item_name:{position:p.a(0,0),m:p.v(200,200,200,200),size:p.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:p.i(0,0,0),c:p.a(0.5,0.5),position:p.a(32,8)}}}}}}},Km:function(a,c){this.b.main_panel[a+""].stacklabelbg.r(!1);
1<c&&(this.b.main_panel[a+""].stacklabelbg.r(!0),this.b.main_panel[a+""].stacklabelbg.stacklabel.fa(c),this.b.main_panel[a+""].stacklabelbg.ea(this.b.main_panel[a+""].stacklabelbg.stacklabel.e()))},hf:function(){for(var a=y.l.da.Ar(),c=0;40>c;c++)if(a[c]){for(var d in K)if(K[d].name==a[c].sprite.texture)var e=K[d].texture;this.b.main_panel[c+""].ma(0,1);this.b.main_panel[c+""].aa(e);this.b.main_panel[c+""].ib(p.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,32,32));this.Km(c,a[c].amount)}else this.b.main_panel[c+
""].aa(p.Ra.d().gc("GUI/defaultitem.png")),this.Km(c,0)},Oa:function(){this._super();this.hf()},SB:function(a){switch(a){case 0:y.l.da.XV(this.P.No);break;case 1:y.l.da.IG(this.P.No,"stored")}},Fb:function(a){if(this._super(a))return!0;this.Df=null;for(var c=this.b.main_panel.wb(a.V),d=0;40>d;d++)if(y.l.da.Ar()[d]&&S(this.b.main_panel[d+""],p.a(c.x,c.y+32))){c="Use";switch(y.l.da.Ar()[d].itemType){case "wearable":c="Equip";break;case "consumable":c="Consume";break;case "book":c="Read"}this.No=d;this.b.item_name.r(!1);
this.s(DropDownList.aB(this,this.SB,[c,"Drop"],a.V));return!0}},lg:function(a){a=this.b.main_panel.wb(a);for(var c=0;40>c;c++)if(y.l.da.Ar()[c]&&S(this.b.main_panel[c+""],p.a(a.x,a.y+32)))return this.b.item_name.content.fa(y.l.da.Ar()[c].name),this.b.item_name.r(!0),this.b.item_name.ea(this.b.item_name.content.e()),this.b.item_name.content.xb(this.b.item_name.content.e().width/2),this.b.item_name.w(p.a(this.b.main_panel[c+""].o.C-this.b.item_name.content.e().width/2+16,this.b.main_panel[c+""].o.G)),
!0}});Sign=null;
SignPanel=Popup.extend({data:null,sd:function(){return"Sign"},td:function(){return{panels:{position:p.a(100,300),children:{control_panel:{c:p.a(0,0),size:p.size(128,96),cc:"GUI/signpost.png",children:{content:{label:this.data.label,fontSize:12,color:p.i(255,255,255),c:p.a(0,1),position:p.a(4,94)},exitBtn:{position:p.a(100,6),size:p.size(20,20),c:p.a(0,0),cc:"GUI/close.png"}}}}}}},q:function(a){this._super();this.data=a},Oa:function(){this._super();this.b.control_panel.content.wC(p.size(120,0))}});Skills=null;
SkillsPanel=Popup.extend({sd:function(){return"Skills"},td:function(){for(var a={},c=ObjectLists.Go(),d=0;d<c.length;d++)a[d+""]={c:p.a(0,0),position:p.a(0,40*c.length-40*(d+1)+2),children:{icon:{position:p.a(4,2),gw:!0,c:p.a(0,0)},name:{position:p.a(46,18),size:p.size(120,32),label:c[d].name,fontSize:16,color:p.i(255,255,255),c:p.a(0,0.5)},level:{position:p.a(210,18),size:p.size(86,32),c:p.a(0.5,0.5),label:"Level",fontSize:16,color:p.i(255,255,255)}}};return{panels:{position:p.a(100,300),children:{main_panel:{c:p.a(0,
0),size:p.size(256,40*c.length),cc:"GUI/skills.png",children:a},control_panel:{c:p.a(0,0),position:p.a(0,40*c.length),size:p.size(256,32),children:{header:{label:"Skills",fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(232,6),size:p.size(20,20),c:p.a(0,0),cc:"GUI/close.png"}}},item_name:{position:p.a(0,0),m:p.v(200,200,200,200),size:p.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:p.i(0,0,0),c:p.a(0.5,0.5),position:p.a(32,8)}}},control_menu:{position:p.a(0,
0),m:p.v(200,200,200,200),size:p.size(96,48),visible:!1,children:{dropbtn:{position:p.a(0,0),size:p.size(96,24),c:p.a(0,0),m:p.v(200,200,200,200),children:{content:{label:"Drop",fontSize:20,color:p.i(0,0,0),c:p.a(0,0.5),position:p.a(4,12)}}},unequipbtn:{position:p.a(0,24),size:p.size(96,24),c:p.a(0,0),m:p.v(200,200,200,200),children:{content:{label:"Unequip",fontSize:20,color:p.i(0,0,0),c:p.a(0,0.5),position:p.a(4,12)}}}}}}}}},hf:function(){console.log("Updating tile grid");for(var a=ObjectLists.Go(),
c=0;c<a.length;c++)this.b.main_panel[c+""].icon.aa(null);for(c=0;c<a.length;c++)if(a[c]){for(var d in K)if(K[d].name==a[c].sprite.texture)var e=K[d].texture;this.b.main_panel[c+""].icon.aa(e);this.b.main_panel[c+""].icon.ib(p.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,32,32))}},Oa:function(){this._super();this.hf()}});
var wa=p.oc.extend({Cv:[],CJ:function(){var a=ObjectLists.Go(),c;for(c in this.Cv)this.Cv[c].R();this.Cv=[];var d=0;for(c=a.length-1;0<=c;c--)if(null!=a[c].healthbar&&""!=a[c].healthbar){var e=this.OP(a[c].name,a[c].healthbar,d);this.s(e);this.Cv.push(e);d++}this.w(p.a(0,Y.height-32*d))},OP:function(a,c,d){var e=255;c=c.replace("#","");8==c.length&&(e=c.substr(6,8));e=p.Qb.create(p.v(parseInt(c.substring(0,2),16),parseInt(c.substring(2,4),16),parseInt(c.substring(4,6),16),parseInt(e,16)),300,23);
e.RA=p.A.qd(p.Ra.d().gc("GUI/healthbar.png"));e.w(10,32*d- -5*d-10);e.ma(p.a(0,0));e.RA.w(-5,-4);e.RA.ma(p.a(0,0));e.s(e.RA);a=p.Y.create(a,"Arial",16);a.w(10,11.5);a.ma(p.a(0,0.5));e.s(a);return e}});SkillBarsInstance=null;wa.create=function(){null==SkillBarsInstance&&(SkillBarsInstance=new wa,SkillBarsInstance.CJ());return SkillBarsInstance};wa.update=function(){SkillBarsInstance.CJ()};Itemeditor=null;
ItemEditor=Popup.extend({Eb:K[0].name,M:0,td:function(){return{panels:{position:p.a(300,10),children:{main_panel:{c:p.a(0,0),position:p.a(0,0),size:p.size(420,396),m:p.v(0,0,100,120),children:{tab1:{children:{tiles:{c:p.a(0,1),position:p.a(16,320),cc:K[0].name},textureleftbtn:{position:p.a(208,340),size:p.size(16,32),m:P,c:p.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.i(0,0,0)}}},texturerightbtn:{position:p.a(320,340),size:p.size(16,32),m:P,c:p.a(0,
0),children:{text:{label:"\x3e\x3e",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.i(0,0,0)}}},textureName:{position:p.a(224,340),size:p.size(96,32),m:p.v(255,255,255,170),c:p.a(0,0),children:{text:{label:K[0].name,fontSize:12,c:p.a(0.5,0.5),position:p.a(48,16),color:p.i(0,0,0)}}},leftbtn:{position:p.a(0,64),size:p.size(16,252),m:p.v(0,0,255,255),c:p.a(0,0),children:{text:{label:"\x3c",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,160),color:p.i(255,255,255)}}},rightbtn:{position:p.a(336,64),size:p.size(16,
252),m:p.v(0,0,255,255),c:p.a(0,0),children:{text:{label:"\x3e",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,160),color:p.i(255,255,255)}}},upbtn:{position:p.a(16,320),size:p.size(320,16),m:p.v(0,0,255,255),c:p.a(0,0),children:{text:{label:"^",fontSize:12,c:p.a(0.5,0.5),position:p.a(160,8),color:p.i(255,255,255)}}},downbtn:{position:p.a(16,48),size:p.size(320,16),m:p.v(0,0,255,255),c:p.a(0,0),children:{text:{label:"v",fontSize:12,c:p.a(0.5,0.5),position:p.a(160,8),color:p.i(255,255,255)}}},highlightnode:{c:p.a(0,
0),position:p.a(0,0),size:p.size(32,32),m:p.v(255,100,100,255)},selectednode:{c:p.a(0,0),position:p.a(0,0),size:p.size(32,32),m:p.v(100,255,100,255)}}},tab2:{children:{itemdetailsback:{position:p.a(144,0),size:p.size(250,366),m:p.v(0,0,255,100),c:p.a(0,0)},name_text:{label:"Item Name",fontSize:10,c:p.a(0,0),position:p.a(8,344)},name_entry:{size:p.size(136,32),position:p.a(4,312)},resourcetab:{visible:!1},consumabletab:{visible:!1},booktab:{visible:!1,children:{book_text:{label:"Book Contents",fontSize:10,
c:p.a(0,0),position:p.a(152,348)},book_entry:{size:p.size(240,340),position:p.a(-1E5,8)}}},wearabletab:{visible:!1,children:{head:{position:p.a(250,230),size:p.size(64,26),m:Q,c:p.a(0,0),children:{text:{label:"Head",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,13),color:p.i(0,0,0)}}},body:{position:p.a(250,200),size:p.size(64,26),m:Q,c:p.a(0,0),children:{text:{label:"Body",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,13),color:p.i(0,0,0)}}},legs:{position:p.a(250,170),size:p.size(64,26),m:Q,c:p.a(0,0),
children:{text:{label:"Legs",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,13),color:p.i(0,0,0)}}},feet:{position:p.a(250,140),size:p.size(64,26),m:Q,c:p.a(0,0),children:{text:{label:"Feet",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,13),color:p.i(0,0,0)}}},larm:{position:p.a(180,200),size:p.size(64,26),m:Q,c:p.a(0,0),children:{text:{label:"L Arm",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,13),color:p.i(0,0,0)}}},rarm:{position:p.a(320,200),size:p.size(64,26),m:Q,c:p.a(0,0),children:{text:{label:"R Arm",
fontSize:12,c:p.a(0.5,0.5),position:p.a(32,13),color:p.i(0,0,0)}}},mod:{position:p.a(150,230),size:p.size(64,26),m:Q,c:p.a(0,0),children:{text:{label:"Mod",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,13),color:p.i(0,0,0)}}}}},resourcebtn:{position:p.a(8,248),size:p.size(128,26),m:P,c:p.a(0,0),children:{text:{label:"Resource",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.i(0,0,0)}}},consumablebtn:{position:p.a(8,218),size:p.size(128,26),m:P,c:p.a(0,0),children:{text:{label:"Consumable",fontSize:12,
c:p.a(0.5,0.5),position:p.a(64,13),color:p.i(0,0,0)}}},bookbtn:{position:p.a(8,188),size:p.size(128,26),m:P,c:p.a(0,0),children:{text:{label:"Book",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.i(0,0,0)}}},wearablebtn:{position:p.a(8,158),size:p.size(128,26),m:P,c:p.a(0,0),children:{text:{label:"wearable",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.i(0,0,0)}}},tile:{c:p.a(0,1),position:p.a(55,130),cc:K[0].name},stackbtn:{position:p.a(8,48),size:p.size(128,26),m:R,c:p.a(0,0),children:{text:{label:"NOT STACKABLE",
fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.i(0,0,0)}}}}},tab3:{children:{saveBack:{position:p.a(0,78),size:p.size(200,60),m:p.v(0,255,0,100),c:p.a(0,0)},deleteback:{position:p.a(0,138),size:p.size(200,60),m:p.v(255,0,0,100),c:p.a(0,0)},mapnumsback:{position:p.a(0,198),size:p.size(200,162),m:p.v(0,0,0,170),c:p.a(0,0)}}},tab1Clickable:{position:p.a(0,376),size:p.size(60,20),m:P,c:p.a(0,0),children:{text:{label:"Sprite",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.i(0,0,0)}}},tab2Clickable:{position:p.a(64,
376),size:p.size(60,20),m:P,c:p.a(0,0),children:{text:{label:"Details",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.i(0,0,0)}}},tab3Clickable:{position:p.a(128,376),size:p.size(60,20),m:P,c:p.a(0,0),children:{text:{label:"Modifier",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.i(0,0,0)}}},okbtn:{position:p.a(76,8),size:p.size(60,32),m:P,c:p.a(0,0),children:{text:{label:"OK",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.i(0,0,0)}}},cancelbtn:{position:p.a(8,8),size:p.size(60,
32),m:P,c:p.a(0,0),children:{text:{label:"Cancel",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.i(0,0,0)}}}}},control_panel:{c:p.a(0,0),position:p.a(0,396),size:p.size(420,32),m:p.v(255,0,0,200),children:{header:{label:"Item Editor",fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(391,3),size:p.size(26,26),c:p.a(0,0),m:p.v(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.i(0,0,0),c:p.a(0.5,0.5),position:p.a(13,13)}}}}}}}}},sd:function(){return"itemEditor"},
hb:null,Ec:null,Ib:0,P:null,data:null,q:function(a){this._super();this.data={itemType:"resource",subType:"",sprite:{texture:K[0].name,position:{x:0,y:0}},additionalData:{},stackable:!1,name:""};this.Eb=K[0].name;this.M=0;this.Ec=this.hb=null;this.Ib=0;this.P=null;this.J=p.a(0,0);this.Ec=[null,352,400,200];this.P=a.P;a&&a.data&&(this.data=a.data)},bs:function(a){G({saveitems:a+"",itemdata:this.data})},sr:function(a,c){G({saveitemswhole:c})},Oa:function(){this._super();this.b.main_panel.tab1.highlightnode.X(0);
this.b.main_panel.tab1.selectednode.X(127);for(var a in K)K[a].name==this.data.sprite.texture&&(this.M=a,this.Eb=K[a].name);this.b.main_panel.tab1.textureName.text.fa(this.Eb);this.b.main_panel.tab1.tiles.aa(K[this.M].texture);for(a=this.data.sprite.position.x;10<=a;)a--,this.J.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.J.y++;a=p.a(32*(this.data.sprite.position.x-this.J.x),32*(this.data.sprite.position.y-this.J.y));this.b.main_panel.tab1.selectednode.w(this.b.main_panel.tab1.tiles.o.x+a.x,
this.b.main_panel.tab1.tiles.o.y-(a.y+32));this.b.main_panel.tab2.tile.aa(K[this.M].texture);this.b.main_panel.tab2.tile.ib(p.rect(Math.floor(32*this.data.sprite.position.x),Math.floor(32*this.data.sprite.position.y),32,32));this.hb=new Z(this.b.main_panel.tab2.name_entry,p.size(this.b.main_panel.tab2.name_entry.e().width,this.b.main_panel.tab2.name_entry.e().height),p.a(0,this.b.main_panel.tab2.name_entry.e().height),this.data.name?this.data.name:"",p.v(100,100,100),p.i(255,255,255));this.hb.Ge(!0);
this.UA=new Z(this.b.main_panel.tab2.booktab.book_entry,p.size(this.b.main_panel.tab2.booktab.book_entry.e().width,this.b.main_panel.tab2.booktab.book_entry.e().height),p.a(0,this.b.main_panel.tab2.booktab.book_entry.e().height),this.data.additionalData.Contents?this.data.additionalData.Contents:"",p.v(100,100,100),p.i(255,255,255),!0);this.UA.Ge(!0);this.UA.AU(!0);this.Le(this.data.itemType);""!=this.data.subType&&this.Ci(this.data.subType);this.b.main_panel.tab2.stackbtn.k(R);this.b.main_panel.tab2.stackbtn.text.fa("NOT STACKABLE");
!0==this.data.stackable&&(this.b.main_panel.tab2.stackbtn.k(Q),this.b.main_panel.tab2.stackbtn.text.fa("IS STACKABLE"));this.wd(1);this.Ya()},aJ:function(){},yb:function(a){this._super();if(this.P){var c=this.P;!0!=a&&this.P.gd(function(){c.Ye(null)})}},lg:function(a){if(1==this.Ib&&(this.b.main_panel.tab1.highlightnode.X(0),a=this.b.main_panel.tab1.tiles.wb(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.e().width&&a.y<=this.b.main_panel.tab1.tiles.e().height))return a.x=a.x-a.x%32+16,a.y=a.y-
a.y%32+64,this.b.main_panel.tab1.highlightnode.X(127),this.b.main_panel.tab1.highlightnode.w(a),!0},wd:function(a){a!=this.Ib&&(this.b.main_panel.ea(this.Ec[a],this.b.main_panel.e().height),this.b.control_panel.ea(this.Ec[a],this.b.control_panel.e().height),this.b.main_panel.tab2.name_entry.xb(this.b.main_panel.tab2.name_entry.o.C-1E3),this.Ib=a,this.b.main_panel.tab1.r(!1),this.b.main_panel.tab2.r(!1),this.b.main_panel.tab3.r(!1),this.b.main_panel.tab1Clickable.k(P),this.b.main_panel.tab2Clickable.k(P),
this.b.main_panel.tab3Clickable.k(P),this.b.main_panel["tab"+a].r(!0),this.b.main_panel["tab"+a+"Clickable"].k(p.v(255,255,0,255)),2==a&&(this.b.main_panel.tab2.name_entry.xb(4),"book"==this.data.itemType?(this.b.main_panel.tab2.booktab.book_entry.xb(150),this.b.main_panel.tab2.booktab.book_text.r(!0)):(this.b.main_panel.tab2.booktab.book_entry.xb(-1E9),this.b.main_panel.tab2.booktab.book_text.r(!1))),this.b.control_panel.exitBtn.xb(this.Ec[a]-29))},Ya:function(){this.zc(this.Ya);this.b.main_panel.tab1.tiles.S()&&
!0==this.b.main_panel.tab1.tiles.S().ec&&(this.zd(this.Ya),this.b.main_panel.tab1.tiles.ib(p.rect(Math.floor(32*this.J.x),Math.floor(32*this.J.y),320>K[this.M].texture.e().width?K[this.M].texture.e().width:320,256>K[this.M].texture.e().height?K[this.M].texture.e().height:256)))},Fb:function(a){if(this._super(a))return!0;this.Df=null;a=a.V;var c=this.b.main_panel.wb(a);if(S(this.b.main_panel.tab1Clickable,c))return this.wd(1),!0;if(S(this.b.main_panel.tab2Clickable,c))return this.wd(2),!0;if(S(this.b.main_panel.tab3Clickable,
c))return this.wd(3),!0;if(S(this.b.main_panel.okbtn,c)){if(null==this.hb.la()||""==this.hb.la())return!0;this.Eh=!0;this.data.name=this.hb.la();switch(this.data.itemType){case "book":this.data.additionalData={Contents:this.UA.la()}}this.P.Ye(this.data);return!0}if(S(this.b.main_panel.cancelbtn,c)){this.Eh=!0;var d=this.P;this.P.gd(function(){d.Ye(null)});return!0}if(1==this.Ib){if(S(this.b.main_panel.tab1.leftbtn,c))return 264<K[this.M].texture.e().width&&0<this.J.x&&(this.J.x--,this.Ya()),!0;if(S(this.b.main_panel.tab1.rightbtn,
c))return 320<K[this.M].texture.e().width&&this.J.x<(K[this.M].texture.e().width-320)/32&&(this.J.x++,this.Ya()),!0;if(S(this.b.main_panel.tab1.upbtn,c))return 320<K[this.M].texture.e().height&&0<this.J.y&&(this.J.y--,this.Ya()),!0;if(S(this.b.main_panel.tab1.downbtn,c))return 320<K[this.M].texture.e().height&&this.J.y<(K[this.M].texture.e().height-320)/32&&(this.J.y++,this.Ya()),!0;if(S(this.b.main_panel.tab1.texturerightbtn,c))return this.Qm(),!0;if(S(this.b.main_panel.tab1.textureleftbtn,c))return this.Rm(),
!0;c=this.b.main_panel.tab1.tiles.wb(a);if(S(this.b.main_panel.tab1.tiles,c)){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+64;this.b.main_panel.tab1.selectednode.X(0);if(this.b.main_panel.tab1.selectednode.o.C!=c.x||this.b.main_panel.tab1.selectednode.o.G!=c.y)this.b.main_panel.tab1.selectednode.X(127),this.b.main_panel.tab1.selectednode.w(c);a=p.a((this.b.main_panel.tab1.selectednode.o.C-16)/32+this.J.x,8-(this.b.main_panel.tab1.selectednode.o.G-64)/32+this.J.y-1);this.b.main_panel.tab2.tile.ib(p.rect(32*a.x,
32*a.y,32,32));this.data.sprite.position=a;return!0}}if(2==this.Ib){if(S(this.b.main_panel.tab2.stackbtn,c))return this.uJ(),!0;if(S(this.b.main_panel.tab2.resourcebtn,c))return this.Le("resource"),!0;if(S(this.b.main_panel.tab2.consumablebtn,c))return this.Le("consumable"),!0;if(S(this.b.main_panel.tab2.bookbtn,c))return this.Le("book"),!0;if(S(this.b.main_panel.tab2.wearablebtn,c))return this.Le("wearable"),this.Ci("body"),!0;if(S(this.b.main_panel.tab2.wearabletab.body,c))return this.Ci("body"),
!0;if(S(this.b.main_panel.tab2.wearabletab.head,c))return this.Ci("head"),!0;if(S(this.b.main_panel.tab2.wearabletab.legs,c))return this.Ci("legs"),!0;if(S(this.b.main_panel.tab2.wearabletab.feet,c))return this.Ci("feet"),!0;if(S(this.b.main_panel.tab2.wearabletab.larm,c))return this.Ci("larm"),!0;if(S(this.b.main_panel.tab2.wearabletab.rarm,c))return this.Ci("rarm"),!0;if(S(this.b.main_panel.tab2.wearabletab.mod,c))return this.Ci("mod"),!0}return!1},uJ:function(){this.data.stackable=!this.data.stackable;
this.b.main_panel.tab2.stackbtn.k(R);this.b.main_panel.tab2.stackbtn.text.fa("NOT STACKABLE");!0==this.data.stackable&&(this.b.main_panel.tab2.stackbtn.k(Q),this.b.main_panel.tab2.stackbtn.text.fa("IS STACKABLE"))},Le:function(a){this.b.main_panel.tab2.booktab.book_entry.xb(-1E7);this.b.main_panel.tab2.booktab.book_text.r(!1);this.b.main_panel.tab2.resourcebtn.k(P);this.b.main_panel.tab2.consumablebtn.k(P);this.b.main_panel.tab2.bookbtn.k(P);this.b.main_panel.tab2.wearablebtn.k(P);this.b.main_panel.tab2.resourcetab.r(!1);
this.b.main_panel.tab2.consumabletab.r(!1);this.b.main_panel.tab2.booktab.r(!1);this.b.main_panel.tab2.wearabletab.r(!1);switch(a){case "book":this.b.main_panel.tab2.booktab.book_entry.xb(150),this.b.main_panel.tab2.booktab.book_text.r(!0)}this.data.itemType=a;this.b.main_panel.tab2[a+"btn"].k(Q);this.b.main_panel.tab2[a+"tab"].r(!0)},Ci:function(a){this.b.main_panel.tab2.wearabletab.head.k(P);this.b.main_panel.tab2.wearabletab.body.k(P);this.b.main_panel.tab2.wearabletab.legs.k(P);this.b.main_panel.tab2.wearabletab.feet.k(P);
this.b.main_panel.tab2.wearabletab.rarm.k(P);this.b.main_panel.tab2.wearabletab.larm.k(P);this.b.main_panel.tab2.wearabletab.mod.k(P);"wearable"==this.data.itemType&&this.b.main_panel.tab2.wearabletab[a]&&this.b.main_panel.tab2.wearabletab[a].k(R);this.data.subType=a},Qm:function(){this.M>=K.length-1&&(this.M=-1);this.M++;this.b.main_panel.tab1.tiles.aa(K[this.M].texture);this.b.main_panel.tab2.tile.aa(K[this.M].texture);this.Eb=K[this.M].name;this.b.main_panel.tab1.textureName.text.fa(this.Eb);this.data.sprite.texture=
this.Eb;this.J=p.a(0,0);this.Ya()},Rm:function(){0>=this.M&&(this.M=K.length);this.M--;this.b.main_panel.tab1.tiles.aa(K[this.M].texture);this.b.main_panel.tab2.tile.aa(K[this.M].texture);this.Eb=K[this.M].name;this.b.main_panel.tab1.textureName.text.fa(this.Eb);this.J=p.a(0,0);this.Ya()}});Mapeditor=null;
MapEditor=Popup.extend({map:null,J:p.a(0,0),kc:"tiles",FH:null,Jv:"ground1",Eb:K[0].name,M:0,td:function(){return{panels:{position:p.a(300,10),children:{main_panel:{c:p.a(0,0),position:p.a(0,0),size:p.size(420,380),m:p.v(0,0,100,120),children:{tab1:{children:{tiles:{c:p.a(0,1),position:p.a(16,336),cc:K[0].name},textureleftbtn:{position:p.a(360,344),size:p.size(16,32),m:P,c:p.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.i(0,0,0)}}},texturerightbtn:{position:p.a(472,344),
size:p.size(16,32),m:P,c:p.a(0,0),children:{text:{label:"\x3e\x3e",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.i(0,0,0)}}},textureName:{position:p.a(376,344),size:p.size(96,32),m:p.v(255,255,255,170),c:p.a(0,0),children:{text:{label:K[0].name,fontSize:12,c:p.a(0.5,0.5),position:p.a(48,16),color:p.i(0,0,0)}}},deletebtn:{position:p.a(360,308),size:p.size(60,32),m:P,c:p.a(0,0),children:{text:{label:"Erase",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.i(0,0,0)}}},leftbtn:{position:p.a(0,
16),size:p.size(16,320),m:p.v(0,0,255,255),c:p.a(0,0),children:{text:{label:"\x3c",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,160),color:p.i(255,255,255)}}},rightbtn:{position:p.a(336,16),size:p.size(16,320),m:p.v(0,0,255,255),c:p.a(0,0),children:{text:{label:"\x3e",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,160),color:p.i(255,255,255)}}},upbtn:{position:p.a(16,336),size:p.size(320,16),m:p.v(0,0,255,255),c:p.a(0,0),children:{text:{label:"^",fontSize:12,c:p.a(0.5,0.5),position:p.a(160,8),color:p.i(255,
255,255)}}},downbtn:{position:p.a(16,0),size:p.size(320,16),m:p.v(0,0,255,255),c:p.a(0,0),children:{text:{label:"v",fontSize:12,c:p.a(0.5,0.5),position:p.a(160,8),color:p.i(255,255,255)}}},fillbtn:{position:p.a(428,308),size:p.size(60,32),m:P,c:p.a(0,0),children:{text:{label:"Fill",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.i(0,0,0)}}},ground1btn:{position:p.a(360,278),size:p.size(128,26),m:Q,c:p.a(0,0),children:{text:{label:"Ground 1",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.i(0,
0,0)}}},ground2btn:{position:p.a(360,248),size:p.size(128,26),m:P,c:p.a(0,0),children:{text:{label:"Ground 2",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.i(0,0,0)}}},groundShadowbtn:{position:p.a(360,218),size:p.size(128,26),m:P,c:p.a(0,0),children:{text:{label:"Ground Shadow",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.i(0,0,0)}}},mask1btn:{position:p.a(360,188),size:p.size(128,26),m:P,c:p.a(0,0),children:{text:{label:"Mask 1",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),
color:p.i(0,0,0)}}},mask2btn:{position:p.a(360,158),size:p.size(128,26),m:P,c:p.a(0,0),children:{text:{label:"Mask 2",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.i(0,0,0)}}},mask3btn:{position:p.a(360,128),size:p.size(128,26),m:P,c:p.a(0,0),children:{text:{label:"Mask 3",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.i(0,0,0)}}},fringe1btn:{position:p.a(360,98),size:p.size(128,26),m:P,c:p.a(0,0),children:{text:{label:"Fringe 1",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.i(0,
0,0)}}},fringe2btn:{position:p.a(360,68),size:p.size(128,26),m:P,c:p.a(0,0),children:{text:{label:"Fringe 2",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.i(0,0,0)}}},fringeShadowbtn:{position:p.a(360,38),size:p.size(128,26),m:P,c:p.a(0,0),children:{text:{label:"Fringe Shadow",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.i(0,0,0)}}},fringe3btn:{position:p.a(360,8),size:p.size(128,26),m:P,c:p.a(0,0),children:{text:{label:"Fringe 3",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),
color:p.i(0,0,0)}}},highlightnode:{c:p.a(0,0),position:p.a(0,0),size:p.size(32,32),m:p.v(255,100,100,255)},selectednode:{c:p.a(0,0),position:p.a(0,0),size:p.size(32,32),m:p.v(100,255,100,255)}}},tab2:{children:{blockbtn:{position:p.a(8,320),size:p.size(60,32),m:P,c:p.a(0,0),children:{text:{label:"Block",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.i(0,0,0)}}},warpbtn:{position:p.a(8,280),size:p.size(60,32),m:P,c:p.a(0,0),children:{text:{label:"Warp",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,
16),color:p.i(0,0,0)}}},itembtn:{position:p.a(8,240),size:p.size(60,32),m:P,c:p.a(0,0),children:{text:{label:"Item",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.i(0,0,0)}}},signbtn:{position:p.a(8,200),size:p.size(60,32),m:P,c:p.a(0,0),children:{text:{label:"Sign",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.i(0,0,0)}}},npcbtn:{position:p.a(8,160),size:p.size(60,32),m:P,c:p.a(0,0),children:{text:{label:"NPC",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.i(0,0,0)}}},amountLabelHead:{visible:!1,
label:"Item Amount",fontSize:12,c:p.a(0,0),position:p.a(100,342)},amountLabel:{size:p.size(60,32),position:p.a(98,-1E6)}}},tab3:{children:{saveBack:{position:p.a(0,78),size:p.size(200,60),m:p.v(0,255,0,100),c:p.a(0,0)},deleteback:{position:p.a(0,138),size:p.size(200,60),m:p.v(255,0,0,100),c:p.a(0,0)},mapnumsback:{position:p.a(0,198),size:p.size(200,162),m:p.v(0,0,0,170),c:p.a(0,0)},mapUp_text:{label:"Map Up",fontSize:10,c:p.a(0.5,0),position:p.a(100,344)},mapUp_entry:{size:p.size(60,32),position:p.a(70,
312)},mapDown_text:{label:"Map Down",fontSize:10,c:p.a(0.5,0),position:p.a(100,232)},mapDown_entry:{size:p.size(60,32),position:p.a(70,200)},mapLeft_text:{label:"Map Left",fontSize:10,c:p.a(0.5,0),position:p.a(38,290)},mapLeft_entry:{size:p.size(60,32),position:p.a(8,258)},mapRight_text:{label:"Map Right",fontSize:10,c:p.a(0.5,0),position:p.a(162,290)},mapRight_entry:{size:p.size(60,32),position:p.a(132,258)},this_map:{position:p.a(70,248),size:p.size(60,60),m:P,c:p.a(0,0),children:{text:{label:"THIS MAP\n#"+
C.Xd(),fontSize:12,c:p.a(0.5,0.5),position:p.a(30,30),color:p.i(0,0,0)}}},clearbtn:{position:p.a(70,150),size:p.size(60,32),m:P,c:p.a(0,0),children:{text:{label:"Clear",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.i(0,0,0)}}},clear_text:{label:"Clear Map: You sure?",fontSize:14,c:p.a(0.5,0),position:p.a(100,182)},clearbtnNo:{position:p.a(10,150),size:p.size(60,32),m:P,c:p.a(0,0),children:{text:{label:"NO",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.i(0,0,0)}}},clearbtnYes:{position:p.a(130,
150),size:p.size(60,32),m:P,c:p.a(0,0),children:{text:{label:"YES",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.i(0,0,0)}}},savebtn:{position:p.a(70,90),size:p.size(60,32),m:P,c:p.a(0,0),children:{text:{label:"Save",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.i(0,0,0)}}},save_text:{label:"Save Map: You sure?",fontSize:14,c:p.a(0.5,0),position:p.a(100,122)},savebtnNo:{position:p.a(10,90),size:p.size(60,32),m:P,c:p.a(0,0),children:{text:{label:"NO",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,
16),color:p.i(0,0,0)}}},savebtnYes:{position:p.a(130,90),size:p.size(60,32),m:P,c:p.a(0,0),children:{text:{label:"YES",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.i(0,0,0)}}},saveOnExit:{position:p.a(40,30),size:p.size(120,32),m:P,c:p.a(0.5,0),children:{content:{label:"",fontSize:14,c:p.a(0.5,0.5),position:p.a(60,15),color:p.i(0,0,0)}}}}},tab1Clickable:{position:p.a(0,360),size:p.size(60,20),m:P,c:p.a(0,0),children:{text:{label:"Editor",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.i(0,
0,0)}}},tab2Clickable:{position:p.a(64,360),size:p.size(60,20),m:P,c:p.a(0,0),children:{text:{label:"Scripts",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.i(0,0,0)}}},tab3Clickable:{position:p.a(128,360),size:p.size(60,20),m:P,c:p.a(0,0),children:{text:{label:"Settings",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.i(0,0,0)}}}}},control_panel:{c:p.a(0,0),position:p.a(0,380),size:p.size(420,32),m:p.v(255,0,0,200),children:{header:{label:"Map Editor - Map #"+C.Xd(),fontSize:20,c:p.a(0,
0.5),position:p.a(8,16)},exitBtn:{position:p.a(391,3),size:p.size(26,26),c:p.a(0,0),m:p.v(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.i(0,0,0),c:p.a(0.5,0.5),position:p.a(13,13)}}}}}}}}},sd:function(){return"MapEditor"},J:null,Tr:null,Qr:null,Rr:null,Sr:null,Or:null,Ec:null,Ib:0,Vk:null,q:function(a){this._super();this.map=a;this.J=p.a(0,0);this.Ec=[null,496,200,200]},Oa:function(){this._super();this.b.main_panel.tab1.highlightnode.X(0);this.b.main_panel.tab1.selectednode.X(0);
this.Tr=new Z(this.b.main_panel.tab3.mapUp_entry,p.size(this.b.main_panel.tab3.mapUp_entry.e().width,this.b.main_panel.tab3.mapUp_entry.e().height),p.a(0,this.b.main_panel.tab3.mapUp_entry.e().height),C.lH()?C.ZG():"",p.v(100,100,100),p.i(255,255,255));this.Tr.Ge(!0);this.Tr.fs(!0);this.Qr=new Z(this.b.main_panel.tab3.mapDown_entry,p.size(this.b.main_panel.tab3.mapDown_entry.e().width,this.b.main_panel.tab3.mapDown_entry.e().height),p.a(0,this.b.main_panel.tab3.mapDown_entry.e().height),C.jH()?C.XG():
"",p.v(100,100,100),p.i(255,255,255));this.Qr.Ge(!0);this.Qr.fs(!0);this.Rr=new Z(this.b.main_panel.tab3.mapLeft_entry,p.size(this.b.main_panel.tab3.mapLeft_entry.e().width,this.b.main_panel.tab3.mapLeft_entry.e().height),p.a(0,this.b.main_panel.tab3.mapLeft_entry.e().height),C.kH()?C.YG():"",p.v(100,100,100),p.i(255,255,255));this.Rr.Ge(!0);this.Rr.fs(!0);this.Sr=new Z(this.b.main_panel.tab3.mapRight_entry,p.size(this.b.main_panel.tab3.mapRight_entry.e().width,this.b.main_panel.tab3.mapRight_entry.e().height),
p.a(0,this.b.main_panel.tab3.mapRight_entry.e().height),C.BB()?C.oB():"",p.v(100,100,100),p.i(255,255,255));this.Sr.Ge(!0);this.Sr.fs(!0);this.Or=new Z(this.b.main_panel.tab2.amountLabel,p.size(this.b.main_panel.tab2.amountLabel.e().width,this.b.main_panel.tab2.amountLabel.e().height),p.a(0,this.b.main_panel.tab2.amountLabel.e().height),C.BB()?C.oB():"1",p.v(100,100,100),p.i(255,255,255));this.Or.Ge(!0);this.Or.fs(!0);this.Sw(!1);this.Tw(!1);this.Ew=w.HQ();this.WI(this.Ew);this.wd(1);this.Ya();C.ZI(!0)},
qV:function(a,c){Warpeditor&&(Warpeditor.yb(),this.gd(function(){Warpeditor.R();Warpeditor=null}),this.Vk=a,this.Mb(!0));Signeditor&&(Signeditor.yb(),this.gd(function(){Signeditor.R();Signeditor=null}),this.Vk=a,this.Mb(!0));Itemeditor&&(Itemeditor.yb(),this.gd(function(){Itemeditor.R();Itemeditor=null}),this.Vk=a,this.Mb(!0),this.Or.mc.$g("1"),!0==c.stackable&&(this.b.main_panel.tab2.amountLabelHead.r(!0),this.b.main_panel.tab2.amountLabel.w(98,308)));NPCeditor&&(NPCeditor.yb(),this.gd(function(){NPCeditor.R();
NPCeditor=null}),this.Vk=a,this.Mb(!0))},yb:function(){this._super();!0==this.Ew&&(C.NI({up:this.Tr.la(),down:this.Qr.la(),left:this.Rr.la(),right:this.Sr.la()}),C.JJ());C.ZI(!1)},lg:function(a){if(1==this.Ib&&(this.b.main_panel.tab1.highlightnode.X(0),a=this.b.main_panel.tab1.tiles.wb(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.e().width&&a.y<=this.b.main_panel.tab1.tiles.e().height))return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+16,this.b.main_panel.tab1.highlightnode.X(127),this.b.main_panel.tab1.highlightnode.w(a),
!0},wd:function(a){if(a!=this.Ib){this.b.main_panel.ea(this.Ec[a],this.b.main_panel.e().height);this.b.control_panel.ea(this.Ec[a],this.b.control_panel.e().height);if(3==this.Ib||0==this.Ib)this.b.main_panel.tab3.mapUp_entry.xb(this.b.main_panel.tab3.mapUp_entry.o.C-1E3),this.b.main_panel.tab3.mapLeft_entry.xb(this.b.main_panel.tab3.mapLeft_entry.o.C-1E3),this.b.main_panel.tab3.mapDown_entry.xb(this.b.main_panel.tab3.mapDown_entry.o.C-1E3),this.b.main_panel.tab3.mapRight_entry.xb(this.b.main_panel.tab3.mapRight_entry.o.C-
1E3);1!=this.Ib||"erasing"!=this.kc&&"tiles"!=this.kc||(this.kc="blocking");2==this.Ib&&"blocking"==this.kc&&(this.kc="tiles");this.Ib=a;this.b.main_panel.tab1.r(!1);this.b.main_panel.tab2.r(!1);this.b.main_panel.tab3.r(!1);this.b.main_panel.tab1Clickable.k(P);this.b.main_panel.tab2Clickable.k(P);this.b.main_panel.tab3Clickable.k(P);this.b.main_panel["tab"+a].r(!0);this.b.main_panel["tab"+a+"Clickable"].k(p.v(255,255,0,255));3==a&&(this.b.main_panel.tab3.mapUp_entry.xb(this.b.main_panel.tab3.mapUp_entry.o.C+
1E3),this.b.main_panel.tab3.mapLeft_entry.xb(this.b.main_panel.tab3.mapLeft_entry.o.C+1E3),this.b.main_panel.tab3.mapDown_entry.xb(this.b.main_panel.tab3.mapDown_entry.o.C+1E3),this.b.main_panel.tab3.mapRight_entry.xb(this.b.main_panel.tab3.mapRight_entry.o.C+1E3));this.b.control_panel.exitBtn.xb(this.Ec[a]-29)}},WI:function(a){w.OU(a);this.Ew=a;this.b.main_panel.tab3.saveOnExit.k(p.i(255,0,0));this.b.main_panel.tab3.saveOnExit.content.fa("Save on exit: NO");if("true"==a||!0==a)this.b.main_panel.tab3.saveOnExit.k(p.i(0,
255,0)),this.b.main_panel.tab3.saveOnExit.content.fa("Save on exit: YES")},Ya:function(){this.zc(this.Ya);this.b.main_panel.tab1.tiles.S()&&!0==this.b.main_panel.tab1.tiles.S().ec&&(this.zd(this.Ya),this.b.main_panel.tab1.tiles.ib(p.rect(Math.floor(32*this.J.x),Math.floor(32*this.J.y),320>K[this.M].texture.e().width?K[this.M].texture.e().width:320,320>K[this.M].texture.e().height?K[this.M].texture.e().height:320)))},Fb:function(a){if(this._super(a))return!0;this.Df=null;a=a.V;var c=this.b.main_panel.wb(a);
if(S(this.b.main_panel.tab1Clickable,c))return this.wd(1),!0;if(S(this.b.main_panel.tab2Clickable,c))return this.wd(2),!0;if(S(this.b.main_panel.tab3Clickable,c))return this.wd(3),!0;if(1==this.Ib){if(S(this.b.main_panel.tab1.leftbtn,c))return 320<K[this.M].texture.e().width&&0<this.J.x&&(this.J.x--,this.Ya()),!0;if(S(this.b.main_panel.tab1.rightbtn,c))return 320<K[this.M].texture.e().width&&this.J.x<(K[this.M].texture.e().width-320)/32&&(this.J.x++,this.Ya()),!0;if(S(this.b.main_panel.tab1.upbtn,
c))return 320<K[this.M].texture.e().height&&0<this.J.y&&(this.J.y--,this.Ya()),!0;if(S(this.b.main_panel.tab1.downbtn,c))return 320<K[this.M].texture.e().height&&this.J.y<(K[this.M].texture.e().height-320)/32&&(this.J.y++,this.Ya()),!0;if(S(this.b.main_panel.tab1.ground1btn,c))return this.Le("ground1"),!0;if(S(this.b.main_panel.tab1.ground2btn,c))return this.Le("ground2"),!0;if(S(this.b.main_panel.tab1.groundShadowbtn,c))return this.Le("groundShadow"),!0;if(S(this.b.main_panel.tab1.mask1btn,c))return this.Le("mask1"),
!0;if(S(this.b.main_panel.tab1.mask2btn,c))return this.Le("mask2"),!0;if(S(this.b.main_panel.tab1.mask3btn,c))return this.Le("mask3"),!0;if(S(this.b.main_panel.tab1.fringe1btn,c))return this.Le("fringe1"),!0;if(S(this.b.main_panel.tab1.fringe2btn,c))return this.Le("fringe2"),!0;if(S(this.b.main_panel.tab1.fringeShadowbtn,c))return this.Le("fringeShadow"),!0;if(S(this.b.main_panel.tab1.fringe3btn,c))return this.Le("fringe3"),!0;if(S(this.b.main_panel.tab1.texturerightbtn,c))return this.Qm(),!0;if(S(this.b.main_panel.tab1.textureleftbtn,
c))return this.Rm(),!0;if(S(this.b.main_panel.tab1.deletebtn,c))return this.kc="erasing"==this.kc?"tiles":"erasing",this.b.main_panel.tab1.deletebtn.k(P),"erasing"==this.kc&&this.b.main_panel.tab1.deletebtn.k(R),!0;if(S(this.b.main_panel.tab1.fillbtn,c))return 0!=this.b.main_panel.tab1.selectednode.wi()&&(C.pQ(K[this.M].name,p.a((this.b.main_panel.tab1.selectednode.o.C-16)/32+this.J.x,9-(this.b.main_panel.tab1.selectednode.o.G-16)/32+this.J.y),this.Jv),C.us()),!0;c=this.b.main_panel.tab1.tiles.wb(a);
if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.e().width&&c.y<=this.b.main_panel.tab1.tiles.e().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+16;this.b.main_panel.tab1.selectednode.X(0);if(this.b.main_panel.tab1.selectednode.o.C!=c.x||this.b.main_panel.tab1.selectednode.o.G!=c.y)this.b.main_panel.tab1.selectednode.X(127),this.b.main_panel.tab1.selectednode.w(c);return!0}}if(2==this.Ib){if(S(this.b.main_panel.tab2.blockbtn,c))return this.b.main_panel.tab2.warpbtn.k(P),this.b.main_panel.tab2.signbtn.k(P),
this.b.main_panel.tab2.npcbtn.k(P),this.b.main_panel.tab2.itembtn.k(P),this.b.main_panel.tab2.blockbtn.k(P),this.kc="blocking"==this.kc?"tiles":"blocking","blocking"==this.kc&&(this.b.main_panel.tab2.blockbtn.k(R),this.b.main_panel.tab2.amountLabelHead.r(!1),this.b.main_panel.tab2.amountLabel.w(68,-1E5)),!0;if(S(this.b.main_panel.tab2.warpbtn,c))return this.b.main_panel.tab2.warpbtn.k(P),this.b.main_panel.tab2.signbtn.k(P),this.b.main_panel.tab2.npcbtn.k(P),this.b.main_panel.tab2.itembtn.k(P),this.b.main_panel.tab2.blockbtn.k(P),
this.b.main_panel.tab2.amountLabelHead.r(!1),this.b.main_panel.tab2.amountLabel.w(68,-1E6),this.kc="warping"==this.kc?"tiles":"warping","warping"==this.kc&&(null==Warpeditor||Warpeditor.W||(Warpeditor=null),Warpeditor&&(Warpeditor.yb(),Warpeditor.R(),Warpeditor=null),Warpeditor=new PopupList,Warpeditor.q({P:this,yj:new WarpEditor,list:ObjectLists.jm(),name:"Warp List"}),Warpeditor.Oa(),this.W.s(Warpeditor),this.Mb(!1),this.b.main_panel.tab2.warpbtn.k(R),this.b.main_panel.tab2.amountLabelHead.r(!1),
this.b.main_panel.tab2.amountLabel.w(68,-1E5)),!0;if(S(this.b.main_panel.tab2.signbtn,c))return this.b.main_panel.tab2.signbtn.k(P),this.b.main_panel.tab2.warpbtn.k(P),this.b.main_panel.tab2.npcbtn.k(P),this.b.main_panel.tab2.itembtn.k(P),this.b.main_panel.tab2.blockbtn.k(P),this.b.main_panel.tab2.amountLabelHead.r(!1),this.b.main_panel.tab2.amountLabel.w(68,-1E6),this.kc="signs"==this.kc?"tiles":"signs","signs"==this.kc&&(null==Signeditor||Signeditor.W||(Signeditor=null),Signeditor&&(Signeditor.yb(),
Signeditor.R(),Signeditor=null),Signeditor=new PopupList,Signeditor.q({P:this,yj:new SignEditor,list:ObjectLists.Cr(),name:"Sign List"}),Signeditor.Oa(),this.W.s(Signeditor),this.Mb(!1),this.b.main_panel.tab2.signbtn.k(R)),!0;if(S(this.b.main_panel.tab2.npcbtn,c))return this.b.main_panel.tab2.signbtn.k(P),this.b.main_panel.tab2.warpbtn.k(P),this.b.main_panel.tab2.npcbtn.k(P),this.b.main_panel.tab2.itembtn.k(P),this.b.main_panel.tab2.blockbtn.k(P),this.b.main_panel.tab2.amountLabelHead.r(!1),this.b.main_panel.tab2.amountLabel.w(68,
-1E6),this.kc="npcs"==this.kc?"tiles":"npcs","npcs"==this.kc&&(null==NPCeditor||NPCeditor.W||(NPCeditor=null),NPCeditor&&(NPCeditor.yb(),NPCeditor.R(),NPCeditor=null),NPCeditor=new PopupList,NPCeditor.q({P:this,yj:new NPCEditor,list:ObjectLists.Dk(),name:"NPC List"}),NPCeditor.Oa(),this.W.s(NPCeditor),this.Mb(!1),this.b.main_panel.tab2.npcbtn.k(R)),!0;if(S(this.b.main_panel.tab2.itembtn,c))return this.b.main_panel.tab2.warpbtn.k(P),this.b.main_panel.tab2.itembtn.k(P),this.b.main_panel.tab2.npcbtn.k(P),
this.b.main_panel.tab2.blockbtn.k(P),this.b.main_panel.tab2.amountLabelHead.r(!1),this.b.main_panel.tab2.amountLabel.w(68,-1E6),this.kc="items"==this.kc?"tiles":"items","items"==this.kc&&(null==Itemeditor||Itemeditor.W||(Itemeditor=null),Itemeditor&&(Itemeditor.yb(),Itemeditor.R(),Itemeditor=null),Itemeditor=new PopupList,Itemeditor.q({P:this,yj:new ItemEditor,list:ObjectLists.vi(),name:"Item List"}),Itemeditor.Oa(),this.W.s(Itemeditor),this.Mb(!1),this.b.main_panel.tab2.itembtn.k(R)),!0}if(3==this.Ib){if(S(this.b.main_panel.tab3.clearbtn,
c))return this.Sw(!0),!0;if(S(this.b.main_panel.tab3.clearbtnNo,c))return this.Sw(!1),!0;if(S(this.b.main_panel.tab3.clearbtnYes,c))return C.rd(),this.Sw(!1),!0;if(S(this.b.main_panel.tab3.savebtn,c))return this.Tw(!0),!0;if(S(this.b.main_panel.tab3.savebtnNo,c))return this.Tw(!1),!0;if(S(this.b.main_panel.tab3.savebtnYes,c))return C.NI({up:this.Tr.la(),down:this.Qr.la(),left:this.Rr.la(),right:this.Sr.la()}),C.JJ(),this.Tw(!1),!0;if(S(this.b.main_panel.tab3.saveOnExit,c))return this.WI(!this.Ew),
!0}return!1},Le:function(a){this.b.main_panel.tab1.ground1btn.k(P);this.b.main_panel.tab1.ground2btn.k(P);this.b.main_panel.tab1.groundShadowbtn.k(P);this.b.main_panel.tab1.mask1btn.k(P);this.b.main_panel.tab1.mask2btn.k(P);this.b.main_panel.tab1.mask3btn.k(P);this.b.main_panel.tab1.fringe1btn.k(P);this.b.main_panel.tab1.fringe2btn.k(P);this.b.main_panel.tab1.fringeShadowbtn.k(P);this.b.main_panel.tab1.fringe3btn.k(P);this.b.main_panel.tab1[a+"btn"].k(Q);this.Jv=a},Qm:function(){this.M>=K.length-
1&&(this.M=-1);this.M++;this.b.main_panel.tab1.tiles.aa(K[this.M].texture);this.Eb=K[this.M].name;this.b.main_panel.tab1.textureName.text.fa(this.Eb);this.J=p.a(0,0);this.Ya()},Rm:function(){0>=this.M&&(this.M=K.length);this.M--;this.b.main_panel.tab1.tiles.aa(K[this.M].texture);this.Eb=K[this.M].name;this.b.main_panel.tab1.textureName.text.fa(this.Eb);this.J=p.a(0,0);this.Ya()},Sw:function(a){this.b.main_panel.tab3.clearbtnYes.r(a);this.b.main_panel.tab3.clearbtnNo.r(a);this.b.main_panel.tab3.clear_text.r(a);
this.b.main_panel.tab3.clearbtn.r(!a)},Tw:function(a){this.b.main_panel.tab3.savebtnYes.r(a);this.b.main_panel.tab3.savebtnNo.r(a);this.b.main_panel.tab3.save_text.r(a);this.b.main_panel.tab3.savebtn.r(!a)},yJ:function(a,c,d){if(a[c]==this.FH&&"moved"==d)return!1;this.FH=a[c];switch(this.kc){case "tiles":0!=this.b.main_panel.tab1.selectednode.wi()&&C.Gj(c,K[this.M].name,p.a((this.b.main_panel.tab1.selectednode.o.C-16)/32+this.J.x,9-(this.b.main_panel.tab1.selectednode.o.G-16)/32+this.J.y),this.Jv);
break;case "blocking":if(1!=a[c].ic()){C.Di(c,1);break}C.Di(c,0);break;case "warping":if(null==Warpeditor||!Warpeditor.W){if(3!=a[c].ic()){C.Di(c,3,this.Vk);break}C.Di(c,0,null)}break;case "signs":if(null==Signeditor||!Signeditor.W){if(7!=a[c].ic()){C.Di(c,7,this.Vk);break}C.Di(c,0,null)}break;case "items":if(null==Itemeditor||!Itemeditor.W){if(4!=a[c].ic()){C.Di(c,4,this.Vk,{amount:this.Or.la()});break}C.Di(c,0,null)}break;case "npcs":if(null==NPCeditor||!NPCeditor.W){if(5!=a[c].ic()){C.Di(c,5,this.Vk);
break}C.Di(c,0,null)}break;case "erasing":C.dB(c,this.Jv)}}});NPCeditor=null;
NPCEditor=Popup.extend({Eb:O[0].name,M:0,td:function(){return{panels:{position:p.a(300,10),children:{main_panel:{c:p.a(0,0),position:p.a(0,0),size:p.size(420,396),m:p.v(0,0,100,120),children:{tab1:{children:{tiles:{c:p.a(0,1),position:p.a(48,320),cc:O[0].name},textureleftbtn:{position:p.a(32,340),size:p.size(16,32),m:P,c:p.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.i(0,0,0)}}},texturerightbtn:{position:p.a(144,340),size:p.size(16,32),m:P,c:p.a(0,
0),children:{text:{label:"\x3e\x3e",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.i(0,0,0)}}},textureName:{position:p.a(48,340),size:p.size(96,32),m:p.v(255,255,255,170),c:p.a(0,0),children:{text:{label:O[0].name,fontSize:12,c:p.a(0.5,0.5),position:p.a(48,16),color:p.i(0,0,0)}}},upbtn:{position:p.a(48,320),size:p.size(96,16),m:p.v(0,0,255,255),c:p.a(0,0),children:{text:{label:"^",fontSize:12,c:p.a(0.5,0.5),position:p.a(48,8),color:p.i(255,255,255)}}},downbtn:{position:p.a(48,48),size:p.size(96,
16),m:p.v(0,0,255,255),c:p.a(0,0),children:{text:{label:"v",fontSize:12,c:p.a(0.5,0.5),position:p.a(48,8),color:p.i(255,255,255)}}},highlightnode:{c:p.a(0,0),position:p.a(0,0),size:p.size(96,128),m:p.v(255,100,100,255)},selectednode:{c:p.a(0,0),position:p.a(0,0),size:p.size(96,128),m:p.v(100,255,100,255)}}},tab2:{children:{itemdetailsback:{position:p.a(144,0),size:p.size(250,366),m:p.v(0,0,255,100),c:p.a(0,0)},name_text:{label:"Item Name",fontSize:10,c:p.a(0,0),position:p.a(8,344)},name_entry:{size:p.size(136,
32),position:p.a(4,312)}}},tab3:{},tab1Clickable:{position:p.a(0,376),size:p.size(60,20),m:P,c:p.a(0,0),children:{text:{label:"Sprite",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.i(0,0,0)}}},tab2Clickable:{position:p.a(64,376),size:p.size(60,20),m:P,c:p.a(0,0),children:{text:{label:"Details",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.i(0,0,0)}}},tab3Clickable:{position:p.a(128,376),size:p.size(60,20),m:P,c:p.a(0,0),children:{text:{label:"Modifier",fontSize:12,c:p.a(0.5,0.5),
position:p.a(32,10),color:p.i(0,0,0)}}},okbtn:{position:p.a(104,8),size:p.size(60,32),m:P,c:p.a(0,0),children:{text:{label:"OK",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.i(0,0,0)}}},cancelbtn:{position:p.a(32,8),size:p.size(60,32),m:P,c:p.a(0,0),children:{text:{label:"Cancel",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.i(0,0,0)}}}}},control_panel:{c:p.a(0,0),position:p.a(0,396),size:p.size(420,32),m:p.v(255,0,0,200),children:{header:{label:"Item Editor",fontSize:20,c:p.a(0,
0.5),position:p.a(8,16)},exitBtn:{position:p.a(391,3),size:p.size(26,26),c:p.a(0,0),m:p.v(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.i(0,0,0),c:p.a(0.5,0.5),position:p.a(13,13)}}}}}}}}},sd:function(){return"npcEditor"},hb:null,Ec:null,Ib:0,P:null,data:null,q:function(a){this._super();this.data={name:"",sprite:{texture:null,position:null}};this.Eb=O[0].name;this.M=0;this.Ec=this.hb=null;this.Ib=0;this.P=null;this.J=p.a(0,0);this.Ec=[null,190,400,200];this.P=a.P;a&&a.data&&(this.data=
a.data)},bs:function(a){G({savenpcs:a+"",npcsdata:this.data})},sr:function(a,c){G({savenpcswhole:c})},Oa:function(){this._super();this.b.main_panel.tab1.highlightnode.X(0);this.b.main_panel.tab1.selectednode.X(127);for(var a in O)O[a].name==this.data.sprite.texture&&(this.M=a,this.Eb=O[a].name);this.b.main_panel.tab1.textureName.text.fa(this.Eb);this.b.main_panel.tab1.tiles.aa(O[this.M].texture);this.hb=new Z(this.b.main_panel.tab2.name_entry,p.size(this.b.main_panel.tab2.name_entry.e().width,this.b.main_panel.tab2.name_entry.e().height),
p.a(0,this.b.main_panel.tab2.name_entry.e().height),this.data.name?this.data.name:"",p.v(100,100,100),p.i(255,255,255));this.hb.Ge(!0);this.wd(1);this.Ya()},aJ:function(){},yb:function(a){this._super();if(this.P){var c=this.P;!0!=a&&this.P.gd(function(){c.Ye(null)})}},lg:function(a){if(1==this.Ib&&(this.b.main_panel.tab1.highlightnode.X(0),a=this.b.main_panel.tab1.tiles.wb(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.e().width&&a.y<=this.b.main_panel.tab1.tiles.e().height))return a.x=a.x-
a.x%96+48,a.y=a.y-a.y%128+64,this.b.main_panel.tab1.highlightnode.X(127),this.b.main_panel.tab1.highlightnode.w(a),!0},wd:function(a){a!=this.Ib&&(this.b.main_panel.ea(this.Ec[a],this.b.main_panel.e().height),this.b.control_panel.ea(this.Ec[a],this.b.control_panel.e().height),this.b.main_panel.tab2.name_entry.xb(this.b.main_panel.tab2.name_entry.o.C-1E3),this.Ib=a,this.b.main_panel.tab1.r(!1),this.b.main_panel.tab2.r(!1),this.b.main_panel.tab3.r(!1),this.b.main_panel.tab1Clickable.k(P),this.b.main_panel.tab2Clickable.k(P),
this.b.main_panel.tab3Clickable.k(P),this.b.main_panel["tab"+a].r(!0),this.b.main_panel["tab"+a+"Clickable"].k(p.v(255,255,0,255)),2==a&&this.b.main_panel.tab2.name_entry.xb(4),this.b.control_panel.exitBtn.xb(this.Ec[a]-29))},Ya:function(){this.zc(this.Ya);this.b.main_panel.tab1.tiles.S()&&!0==this.b.main_panel.tab1.tiles.S().ec&&(this.zd(this.Ya),this.b.main_panel.tab1.tiles.ib(p.rect(Math.floor(96*this.J.x),Math.floor(128*this.J.y),96>O[this.M].texture.e().width?O[this.M].texture.e().width:96,256>
O[this.M].texture.e().height?O[this.M].texture.e().height:256)))},Fb:function(a){if(this._super(a))return!0;this.Df=null;a=a.V;var c=this.b.main_panel.wb(a);if(S(this.b.main_panel.tab1Clickable,c))return this.wd(1),!0;if(S(this.b.main_panel.tab2Clickable,c))return this.wd(2),!0;if(S(this.b.main_panel.tab3Clickable,c))return this.wd(3),!0;if(S(this.b.main_panel.okbtn,c)){if(null==this.hb.la()||""==this.hb.la())return!0;this.Eh=!0;this.data.name=this.hb.la();this.P.Ye(this.data);return!0}if(S(this.b.main_panel.cancelbtn,
c)){this.Eh=!0;var d=this.P;this.P.gd(function(){d.Ye(null)});return!0}if(1==this.Ib){if(S(this.b.main_panel.tab1.upbtn,c))return 320<O[this.M].texture.e().height&&0<this.J.y&&(this.J.y--,this.Ya()),!0;if(S(this.b.main_panel.tab1.downbtn,c))return 320<O[this.M].texture.e().height&&this.J.y<(O[this.M].texture.e().height-320)/32&&(this.J.y++,this.Ya()),!0;if(S(this.b.main_panel.tab1.texturerightbtn,c))return this.Qm(),!0;if(S(this.b.main_panel.tab1.textureleftbtn,c))return this.Rm(),!0;c=this.b.main_panel.tab1.tiles.wb(a);
if(S(this.b.main_panel.tab1.tiles,c)){c.x=c.x-c.x%96+48;c.y=c.y-c.y%128+64;this.b.main_panel.tab1.selectednode.X(0);if(this.b.main_panel.tab1.selectednode.o.C!=c.x||this.b.main_panel.tab1.selectednode.o.G!=c.y)this.b.main_panel.tab1.selectednode.X(127),this.b.main_panel.tab1.selectednode.w(c);a=p.a((this.b.main_panel.tab1.selectednode.o.C-16)/96+this.J.x,8-(this.b.main_panel.tab1.selectednode.o.G-64)/128+this.J.y-1);this.data.sprite.position=a;return!0}}return!1},uJ:function(){this.data.stackable=
!this.data.stackable;this.b.main_panel.tab2.stackbtn.k(R);this.b.main_panel.tab2.stackbtn.text.fa("NOT STACKABLE");!0==this.data.stackable&&(this.b.main_panel.tab2.stackbtn.k(Q),this.b.main_panel.tab2.stackbtn.text.fa("IS STACKABLE"))},Ci:function(a){this.b.main_panel.tab2.wearabletab.head.k(P);this.b.main_panel.tab2.wearabletab.body.k(P);this.b.main_panel.tab2.wearabletab.legs.k(P);this.b.main_panel.tab2.wearabletab.feet.k(P);this.b.main_panel.tab2.wearabletab.rarm.k(P);this.b.main_panel.tab2.wearabletab.larm.k(P);
this.b.main_panel.tab2.wearabletab.mod.k(P);"wearable"==this.data.itemType&&this.b.main_panel.tab2.wearabletab[a]&&this.b.main_panel.tab2.wearabletab[a].k(R);this.data.subType=a},Qm:function(){this.M>=O.length-1&&(this.M=-1);this.M++;this.b.main_panel.tab1.tiles.aa(O[this.M].texture);this.Eb=O[this.M].name;this.b.main_panel.tab1.textureName.text.fa(this.Eb);this.data.sprite.texture=this.Eb;this.J=p.a(0,0);this.Ya()},Rm:function(){0>=this.M&&(this.M=O.length);this.M--;this.b.main_panel.tab1.tiles.aa(O[this.M].texture);
this.Eb=O[this.M].name;this.b.main_panel.tab1.textureName.text.fa(this.Eb);this.J=p.a(0,0);this.Ya()}});Skillseditor=null;
SkillsEditor=Popup.extend({Eb:K[0].name,M:0,td:function(){return{panels:{position:p.a(300,10),children:{main_panel:{c:p.a(0,0),position:p.a(0,0),size:p.size(420,396),m:p.v(0,0,100,120),children:{tab1:{children:{tiles:{c:p.a(0,1),position:p.a(16,320),cc:K[0].name},textureleftbtn:{position:p.a(208,340),size:p.size(16,32),m:P,c:p.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.i(0,0,0)}}},texturerightbtn:{position:p.a(320,340),size:p.size(16,32),m:P,c:p.a(0,
0),children:{text:{label:"\x3e\x3e",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.i(0,0,0)}}},textureName:{position:p.a(224,340),size:p.size(96,32),m:p.v(255,255,255,170),c:p.a(0,0),children:{text:{label:K[0].name,fontSize:12,c:p.a(0.5,0.5),position:p.a(48,16),color:p.i(0,0,0)}}},leftbtn:{position:p.a(0,64),size:p.size(16,252),m:p.v(0,0,255,255),c:p.a(0,0),children:{text:{label:"\x3c",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,160),color:p.i(255,255,255)}}},rightbtn:{position:p.a(336,64),size:p.size(16,
252),m:p.v(0,0,255,255),c:p.a(0,0),children:{text:{label:"\x3e",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,160),color:p.i(255,255,255)}}},upbtn:{position:p.a(16,320),size:p.size(320,16),m:p.v(0,0,255,255),c:p.a(0,0),children:{text:{label:"^",fontSize:12,c:p.a(0.5,0.5),position:p.a(160,8),color:p.i(255,255,255)}}},downbtn:{position:p.a(16,48),size:p.size(320,16),m:p.v(0,0,255,255),c:p.a(0,0),children:{text:{label:"v",fontSize:12,c:p.a(0.5,0.5),position:p.a(160,8),color:p.i(255,255,255)}}},highlightnode:{c:p.a(0,
0),position:p.a(0,0),size:p.size(32,32),m:p.v(255,100,100,255)},selectednode:{c:p.a(0,0),position:p.a(0,0),size:p.size(32,32),m:p.v(100,255,100,255)}}},tab2:{children:{name_text:{label:"Skill Name",fontSize:10,c:p.a(0,0),position:p.a(8,344)},name_entry:{size:p.size(136,32),position:p.a(4,312)},healthcolor_text:{label:"Healthbar Color",fontSize:10,c:p.a(0,0),position:p.a(8,250)},healthcolor_entry:{size:p.size(136,32),position:p.a(4,210)},tile:{c:p.a(0,1),position:p.a(55,150),cc:K[0].name},healthbtn:{position:p.a(8,
265),size:p.size(128,26),m:R,c:p.a(0,0),children:{text:{label:"NOT HEALTHBAR",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.i(0,0,0)}}}}},tab1Clickable:{position:p.a(0,376),size:p.size(60,20),m:P,c:p.a(0,0),children:{text:{label:"Icon",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.i(0,0,0)}}},tab2Clickable:{position:p.a(64,376),size:p.size(60,20),m:P,c:p.a(0,0),children:{text:{label:"Details",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.i(0,0,0)}}},okbtn:{position:p.a(76,
8),size:p.size(60,32),m:P,c:p.a(0,0),children:{text:{label:"OK",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.i(0,0,0)}}},cancelbtn:{position:p.a(8,8),size:p.size(60,32),m:P,c:p.a(0,0),children:{text:{label:"Cancel",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.i(0,0,0)}}}}},control_panel:{c:p.a(0,0),position:p.a(0,396),size:p.size(420,32),m:p.v(255,0,0,200),children:{header:{label:"Skill Editor",fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(391,3),size:p.size(26,
26),c:p.a(0,0),m:p.v(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.i(0,0,0),c:p.a(0.5,0.5),position:p.a(13,13)}}}}}}}}},sd:function(){return"SkillsEditor"},hb:null,Jo:null,Ec:null,Ib:0,P:null,data:null,q:function(a){this._super();this.data={sprite:{texture:K[0].name,position:{x:0,y:0}},additionalData:{},healthbar:null,name:""};this.Eb=K[0].name;this.M=0;this.Ec=this.hb=null;this.Ib=0;this.P=null;this.J=p.a(0,0);this.Ec=[null,352,142];this.P=a.P;a&&a.data&&(this.data=a.data)},bs:function(a){G({saveskills:a+
"",skillsdata:this.data})},sr:function(a,c){G({saveskillswhole:c})},Oa:function(){this._super();this.b.main_panel.tab1.highlightnode.X(0);this.b.main_panel.tab1.selectednode.X(127);for(var a in K)K[a].name==this.data.sprite.texture&&(this.M=a,this.Eb=K[a].name);this.b.main_panel.tab1.textureName.text.fa(this.Eb);this.b.main_panel.tab1.tiles.aa(K[this.M].texture);for(a=this.data.sprite.position.x;10<=a;)a--,this.J.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.J.y++;a=p.a(32*(this.data.sprite.position.x-
this.J.x),32*(this.data.sprite.position.y-this.J.y));this.b.main_panel.tab1.selectednode.w(this.b.main_panel.tab1.tiles.o.x+a.x,this.b.main_panel.tab1.tiles.o.y-(a.y+32));this.b.main_panel.tab2.tile.aa(K[this.M].texture);this.b.main_panel.tab2.tile.ib(p.rect(Math.floor(32*this.data.sprite.position.x),Math.floor(32*this.data.sprite.position.y),32,32));this.hb=new Z(this.b.main_panel.tab2.name_entry,p.size(this.b.main_panel.tab2.name_entry.e().width,this.b.main_panel.tab2.name_entry.e().height),p.a(0,
this.b.main_panel.tab2.name_entry.e().height),this.data.name?this.data.name:"",p.v(100,100,100),p.i(255,255,255));this.hb.Ge(!0);this.Jo=new Z(this.b.main_panel.tab2.healthcolor_entry,p.size(this.b.main_panel.tab2.healthcolor_entry.e().width,this.b.main_panel.tab2.healthcolor_entry.e().height),p.a(0,this.b.main_panel.tab2.healthcolor_entry.e().height),this.data.healthbar?this.data.healthbar:"",p.v(100,100,100),p.i(255,255,255));this.Jo.Ge(!0);this.b.main_panel.tab2.healthbtn.k(R);this.b.main_panel.tab2.healthbtn.text.fa("NOT HEALTHBAR");
null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.k(Q),this.b.main_panel.tab2.healthbtn.text.fa("IS HEALTHBAR"));this.wd(1);this.Ya()},aJ:function(){},yb:function(a){this._super();if(this.P){var c=this.P;!0!=a&&this.P.gd(function(){c.Ye(null)})}},lg:function(a){if(1==this.Ib&&(this.b.main_panel.tab1.highlightnode.X(0),a=this.b.main_panel.tab1.tiles.wb(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.e().width&&a.y<=this.b.main_panel.tab1.tiles.e().height))return a.x=
a.x-a.x%32+16,a.y=a.y-a.y%32+64,this.b.main_panel.tab1.highlightnode.X(127),this.b.main_panel.tab1.highlightnode.w(a),!0},wd:function(a){a!=this.Ib&&(this.b.main_panel.ea(this.Ec[a],this.b.main_panel.e().height),this.b.control_panel.ea(this.Ec[a],this.b.control_panel.e().height),this.b.main_panel.tab2.name_entry.xb(this.b.main_panel.tab2.name_entry.o.C-1E3),this.b.main_panel.tab2.healthcolor_entry.xb(this.b.main_panel.tab2.healthcolor_entry.o.C-1E3),this.b.main_panel.tab2.healthcolor_text.r(!1),this.Ib=
a,this.b.main_panel.tab1.r(!1),this.b.main_panel.tab2.r(!1),this.b.main_panel.tab1Clickable.k(P),this.b.main_panel.tab2Clickable.k(P),this.b.main_panel["tab"+a].r(!0),this.b.main_panel["tab"+a+"Clickable"].k(p.v(255,255,0,255)),this.b.control_panel.exitBtn.xb(this.Ec[a]-29));2==a&&(this.b.main_panel.tab2.name_entry.xb(4),null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthcolor_entry.xb(4),this.b.main_panel.tab2.healthcolor_text.r(!0)))},Ya:function(){this.zc(this.Ya);
this.b.main_panel.tab1.tiles.S()&&!0==this.b.main_panel.tab1.tiles.S().ec&&(this.zd(this.Ya),this.b.main_panel.tab1.tiles.ib(p.rect(Math.floor(32*this.J.x),Math.floor(32*this.J.y),320>K[this.M].texture.e().width?K[this.M].texture.e().width:320,256>K[this.M].texture.e().height?K[this.M].texture.e().height:256)))},Fb:function(a){if(this._super(a))return!0;this.Df=null;a=a.V;var c=this.b.main_panel.wb(a);if(S(this.b.main_panel.tab1Clickable,c))return this.wd(1),!0;if(S(this.b.main_panel.tab2Clickable,
c))return this.wd(2),!0;if(S(this.b.main_panel.okbtn,c)){if(null==this.hb.la()||""==this.hb.la())return!0;this.Eh=!0;this.data.name=this.hb.la();if(null!=this.Jo.la()||""!=this.Jo.la())this.data.healthbar=this.Jo.la();this.P.Ye(this.data);return!0}if(S(this.b.main_panel.cancelbtn,c)){this.Eh=!0;var d=this.P;this.P.gd(function(){d.Ye(null)});return!0}if(1==this.Ib){if(S(this.b.main_panel.tab1.leftbtn,c))return 264<K[this.M].texture.e().width&&0<this.J.x&&(this.J.x--,this.Ya()),!0;if(S(this.b.main_panel.tab1.rightbtn,
c))return 320<K[this.M].texture.e().width&&this.J.x<(K[this.M].texture.e().width-320)/32&&(this.J.x++,this.Ya()),!0;if(S(this.b.main_panel.tab1.upbtn,c))return 320<K[this.M].texture.e().height&&0<this.J.y&&(this.J.y--,this.Ya()),!0;if(S(this.b.main_panel.tab1.downbtn,c))return 320<K[this.M].texture.e().height&&this.J.y<(K[this.M].texture.e().height-320)/32&&(this.J.y++,this.Ya()),!0;if(S(this.b.main_panel.tab1.texturerightbtn,c))return this.Qm(),!0;if(S(this.b.main_panel.tab1.textureleftbtn,c))return this.Rm(),
!0;c=this.b.main_panel.tab1.tiles.wb(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.e().width&&c.y<=this.b.main_panel.tab1.tiles.e().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+64;this.b.main_panel.tab1.selectednode.X(0);if(this.b.main_panel.tab1.selectednode.o.C!=c.x||this.b.main_panel.tab1.selectednode.o.G!=c.y)this.b.main_panel.tab1.selectednode.X(127),this.b.main_panel.tab1.selectednode.w(c);a=p.a((this.b.main_panel.tab1.selectednode.o.C-16)/32+this.J.x,8-(this.b.main_panel.tab1.selectednode.o.G-
64)/32+this.J.y-1);this.b.main_panel.tab2.tile.ib(p.rect(32*a.x,32*a.y,32,32));this.data.sprite.position=a;console.log("TOUCHED");return!0}}return 2==this.Ib&&S(this.b.main_panel.tab2.healthbtn,c)?(this.LV(),!0):!1},LV:function(){this.b.main_panel.tab2.healthcolor_entry.xb(this.b.main_panel.tab2.healthcolor_entry.o.C-1E3);this.b.main_panel.tab2.healthcolor_text.r(!1);null!=this.data.healthbar&&""!=this.data.healthbar?(this.data.healthbar="",this.Jo.$g("")):(this.data.healthbar="FF0000",this.b.main_panel.tab2.healthcolor_entry.xb(4),
this.b.main_panel.tab2.healthcolor_text.r(!0));this.b.main_panel.tab2.healthbtn.k(R);this.b.main_panel.tab2.healthbtn.text.fa("NOT HEALTHBAR");null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.k(Q),this.b.main_panel.tab2.healthbtn.text.fa("IS HEALTHBAR"))},Qm:function(){this.M>=K.length-1&&(this.M=-1);this.M++;this.b.main_panel.tab1.tiles.aa(K[this.M].texture);this.b.main_panel.tab2.tile.aa(K[this.M].texture);this.Eb=K[this.M].name;this.b.main_panel.tab1.textureName.text.fa(this.Eb);
this.data.sprite.texture=this.Eb;this.J=p.a(0,0);this.Ya()},Rm:function(){0>=this.M&&(this.M=K.length);this.M--;this.b.main_panel.tab1.tiles.aa(K[this.M].texture);this.b.main_panel.tab2.tile.aa(K[this.M].texture);this.Eb=K[this.M].name;this.b.main_panel.tab1.textureName.text.fa(this.Eb);this.J=p.a(0,0);this.Ya()}});PopupList=Popup.extend({Og:null,bc:[],TB:null,ls:!1,Dw:-1,ig:0,yo:null,yb:function(){this._super();this.P&&this.P.Mb(!0)},q:function(a){this._super();this.Og=null;this.bc=[];this.TB=null;this.ls=!1;this.Dw=-1;this.Og=a.yj;a.list&&(this.bc=a.list);this.TB=a.name;this.P=a.P},Oa:function(){this._super();this.ts()},td:function(){var a={};this.yo={};for(var c in this.bc)null==this.bc[c]?this.bc.splice(c,1):(null!=this.P?(a["useElement"+c]={size:p.size(32,26),m:p.v(0,255,0,200),position:p.a(0,302-30*c),
children:{content:{label:"Use",fontSize:20,c:p.a(0.5,0.5),position:p.a(16,13)}}},a["element"+c]={size:p.size(116,26),m:p.v(140,140,140,200),position:p.a(32,302-30*c),children:{content:{label:this.bc[c].name,fontSize:20,c:p.a(0.5,0.5),position:p.a(58,13)}}}):a["element"+c]={size:p.size(148,26),m:p.v(140,140,140,200),position:p.a(0,302-30*c),children:{content:{label:this.bc[c].name,fontSize:20,c:p.a(0.5,0.5),position:p.a(79,13)}}},this.yo["element"+c]=p.a(32,302-30*c),a["delElement"+c]={size:p.size(32,
26),m:p.v(255,0,0,200),position:p.a(148,302-30*c),children:{content:{label:"Del",fontSize:20,c:p.a(0.5,0.5),position:p.a(16,13)}}});return{panels:{position:p.a(300,200),children:{main_panel:{c:p.a(0,0),size:p.size(236,328),m:p.v(255,255,255,200),children:{list:{children:a},addButton:{size:p.size(90,26),m:p.v(140,140,140,200),position:p.a(45,302-30*this.bc.length),children:{content:{label:"+",fontSize:20,c:p.a(0.5,0.5),position:p.a(45,13)}}},scrollBG:{size:p.size(52,328),m:p.v(90,90,200,200),position:p.a(184,
0)},upButton:{size:p.size(32,32),m:p.v(0,0,255,255),position:p.a(200,200),children:{content:{label:"^",fontSize:20,c:p.a(0.5,0.5),position:p.a(16,16)}}},downButton:{size:p.size(32,32),m:p.v(0,0,255,255),position:p.a(200,100),children:{content:{label:"v",fontSize:20,c:p.a(0.5,0.5),position:p.a(16,16)}}}}},control_panel:{c:p.a(0,0),position:p.a(0,328),size:p.size(236,32),m:p.v(255,0,0,200),children:{header:{label:this.TB,fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(206,3),size:p.size(26,
26),c:p.a(0,0),m:p.v(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.i(0,0,0),c:p.a(0.5,0.5),position:p.a(13,13)}}}}}}}}},ts:function(){this.b.main_panel.upButton.r(!1);this.b.main_panel.downButton.r(!1);if(10<this.bc.length){0<this.ig&&this.b.main_panel.upButton.r(!0);this.ig<this.bc.length-10&&this.b.main_panel.downButton.r(!0);for(var a=0;a<this.bc.length;a++)this.b.main_panel.list["element"+a].Nh(this.yo["element"+a].y+30*this.ig),this.b.main_panel.list["delElement"+a].Nh(this.yo["element"+
a].y+30*this.ig),null!=this.P&&this.b.main_panel.list["useElement"+a].Nh(this.yo["element"+a].y+30*this.ig),this.b.main_panel.addButton.Nh(this.yo["element"+a].y+30*(this.ig-1));for(a=0;a<this.bc.length;a++)this.b.main_panel.list["element"+a].r(!0),this.b.main_panel.list["delElement"+a].r(!0),null!=this.P&&this.b.main_panel.list["useElement"+a].r(!0),this.b.main_panel.addButton.r(!0),a<this.ig&&(this.b.main_panel.list["element"+a].r(!1),this.b.main_panel.list["delElement"+a].r(!1),null!=this.P&&this.b.main_panel.list["useElement"+
a].r(!1),this.b.main_panel.addButton.r(!1)),10<a-this.ig&&(this.b.main_panel.list["element"+a].r(!1),this.b.main_panel.list["delElement"+a].r(!1),null!=this.P&&this.b.main_panel.list["useElement"+a].r(!1),this.b.main_panel.addButton.r(!1)),9<a-this.ig&&this.b.main_panel.addButton.r(!1)}},Fb:function(a){if(this._super(a))return!0;this.Df=null;a=this.b.main_panel.wb(a.V);if(!1==this.ls){for(var c in this.bc){if(S(this.b.main_panel.list["element"+c],a))return this.ls=!0,this.Og.q({P:this,data:this.bc[c]}),
this.W.s(this.Og),this.Mb(!1),this.Og.Oa(),this.Dw=c+"",!0;if(S(this.b.main_panel.list["delElement"+c],a))return this.VP(c),!0;if(this.P&&S(this.b.main_panel.list["useElement"+c],a))return this.P.qV(c,this.bc[c]),!0}if(S(this.b.main_panel.addButton,a))return this.ls=this.mG=!0,this.Dw=this.bc.length,this.Og.q({P:this,data:null}),this.Mb(!1),this.W.s(this.Og),this.Og.Oa(),!0;if(S(this.b.main_panel.downButton,a))return this.ig<this.bc.length-10&&(this.ig++,this.ts()),!0;if(S(this.b.main_panel.upButton,
a))return 0<this.ig&&(this.ig--,this.ts()),!0}},Ye:function(a){a&&(this.Og.bs(this.Dw),this.mG&&(this.bc.push(a),this.b.R(),this.b=Da(this),this.s(this.b)));this.Mb(!0);this.ls=this.mG=!1;var c=this;this.gd(function(){c.Og.yb(!0);c.Og.R();this.ts()})},VP:function(a){this.bc.splice(a,1);this.Og.sr(a,this.bc);this.b.R();this.b=Da(this);this.s(this.b);this.ts()}});Warpeditor=null;
WarpEditor=Popup.extend({sd:function(){return"WarpEditor"},bs:function(a){G({savewarps:a+"",warpdata:this.data})},sr:function(a,c){G({savewarpswhole:c})},td:function(){return{panels:{position:p.a(300,200),children:{main_panel:{c:p.a(0,0),size:p.size(180,160),m:p.v(100,255,100,200),children:{okbtn:{position:p.a(100,16),size:p.size(60,32),m:p.v(255,255,255,255),c:p.a(0,0),children:{text:{label:"OK",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.i(0,0,0)}}},cancelbtn:{position:p.a(20,16),size:p.size(60,
32),m:p.v(255,255,255,255),c:p.a(0,0),children:{text:{label:"Cancel",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.i(0,0,0)}}},namelbl:{label:"Name of warp.",fontSize:12,c:p.a(0,0),position:p.a(20,140),color:p.i(0,0,0)},nameEntry:{position:p.a(16,110),size:p.size(120,30)},mapnumlbl:{label:"Map #",fontSize:12,c:p.a(0,0),position:p.a(20,90),color:p.i(0,0,0)},mapNumEntry:{position:p.a(16,60),size:p.size(40,30)},mapxlbl:{label:"x",fontSize:12,c:p.a(0,0),position:p.a(80,90),color:p.i(0,0,0)},
mapXEntry:{position:p.a(76,60),size:p.size(36,30)},mapylbl:{label:"y",fontSize:12,c:p.a(0,0),position:p.a(130,90),color:p.i(0,0,0)},mapYEntry:{position:p.a(126,60),size:p.size(36,30)}}},control_panel:{c:p.a(0,0),position:p.a(0,160),size:p.size(180,32),m:p.v(255,0,0,200),children:{header:{label:"Warp Editor",fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(151,3),size:p.size(26,26),c:p.a(0,0),m:p.v(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.i(0,0,0),c:p.a(0.5,
0.5),position:p.a(13,13)}}}}}}}}},hb:null,Ro:null,So:null,To:null,P:null,data:null,q:function(a){this._super();this.P=this.To=this.So=this.Ro=this.hb=null;this.data={mapTo:0,position:0,name:""};a.data&&(this.data=a.data);this.P=a.P},Oa:function(){this._super();var a=this.data.position%U,c=Math.floor(this.data.position/U);this.hb=new Z(this.b.main_panel.nameEntry,p.size(this.b.main_panel.nameEntry.e().width,this.b.main_panel.nameEntry.e().height),p.a(0,this.b.main_panel.nameEntry.e().height),this.data.name,
p.v(100,100,100),p.i(255,255,255));this.hb.Ge(!0);this.Ro=new Z(this.b.main_panel.mapNumEntry,p.size(this.b.main_panel.mapNumEntry.e().width,this.b.main_panel.mapNumEntry.e().height),p.a(0,this.b.main_panel.mapNumEntry.e().height),""+this.data.mapTo,p.v(100,100,100),p.i(255,255,255));this.Ro.Ge(!0);this.So=new Z(this.b.main_panel.mapXEntry,p.size(this.b.main_panel.mapXEntry.e().width,this.b.main_panel.mapXEntry.e().height),p.a(0,this.b.main_panel.mapXEntry.e().height),""+a,p.v(100,100,100),p.i(255,
255,255));this.So.Ge(!0);this.To=new Z(this.b.main_panel.mapYEntry,p.size(this.b.main_panel.mapYEntry.e().width,this.b.main_panel.mapYEntry.e().height),p.a(0,this.b.main_panel.mapYEntry.e().height),""+c,p.v(100,100,100),p.i(255,255,255));this.To.Ge(!0)},Fb:function(a){if(this._super(a))return!0;this.Df=null;a=this.b.main_panel.wb(a.V);if(S(this.b.main_panel.okbtn,a)){if(null==this.hb.la()||""==this.hb.la()||null==this.Ro.la()||""==this.Ro.la()||null==this.So.la()||""==this.So.la()||null==this.To.la()||
""==this.To.la())return!0;this.Eh=!0;this.data.position=V(parseInt(this.So.la()),La-parseInt(this.To.la()));this.data.mapTo=parseInt(this.Ro.la());this.data.name=this.hb.la();this.P.Ye(this.data);return!0}if(S(this.b.main_panel.cancelbtn,a)){this.Eh=!0;var c=this.P;this.P.gd(function(){c.Ye(null)});return!0}},yb:function(a){this._super();var c=this.P;a||this.P.gd(function(){c.Ye(null)})}});Signeditor=null;
SignEditor=Popup.extend({sd:function(){return"SignEditor"},bs:function(a){G({savesigns:a+"",signsdata:this.data})},sr:function(a,c){G({savesignswhole:c})},td:function(){return{panels:{position:p.a(300,200),children:{main_panel:{c:p.a(0,0),size:p.size(142,256),m:p.v(100,255,100,200),children:{okbtn:{position:p.a(74,16),size:p.size(60,32),m:p.v(255,255,255,255),c:p.a(0,0),children:{text:{label:"OK",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.i(0,0,0)}}},cancelbtn:{position:p.a(8,16),size:p.size(60,
32),m:p.v(255,255,255,255),c:p.a(0,0),children:{text:{label:"Cancel",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.i(0,0,0)}}},namelbl:{label:"Name of sign.",fontSize:12,c:p.a(0,0),position:p.a(6,238),color:p.i(0,0,0)},nameEntry:{position:p.a(4,206),size:p.size(120,30)},signlbl:{label:"Contents",fontSize:12,c:p.a(0,0),position:p.a(6,190),color:p.i(0,0,0)},signEntry:{position:p.a(4,60),size:p.size(120,128)}}},control_panel:{c:p.a(0,0),position:p.a(0,256),size:p.size(142,32),m:p.v(255,0,0,
200),children:{header:{label:"Sign Editor",fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(112,3),size:p.size(26,26),c:p.a(0,0),m:p.v(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.i(0,0,0),c:p.a(0.5,0.5),position:p.a(13,13)}}}}}}}}},hb:null,gp:null,P:null,data:null,q:function(a){this._super();this.P=this.gp=this.hb=null;this.data={label:"",name:""};a.data&&(this.data=a.data);this.P=a.P},Oa:function(){this._super();this.hb=new Z(this.b.main_panel.nameEntry,p.size(this.b.main_panel.nameEntry.e().width,
this.b.main_panel.nameEntry.e().height),p.a(0,this.b.main_panel.nameEntry.e().height),this.data.name,p.v(100,100,100),p.i(255,255,255));this.hb.Ge(!0);this.gp=new Z(this.b.main_panel.signEntry,p.size(this.b.main_panel.signEntry.e().width,this.b.main_panel.signEntry.e().height),p.a(0,this.b.main_panel.signEntry.e().height),""+this.data.label,p.v(100,100,100),p.i(255,255,255),!0);this.gp.Ge(!0)},Fb:function(a){if(this._super(a))return!0;this.Df=null;a=this.b.main_panel.wb(a.V);if(S(this.b.main_panel.okbtn,
a)){if(null==this.hb.la()||""==this.hb.la()||null==this.gp.la()||""==this.gp.la())return!0;this.Eh=!0;this.data.label=this.gp.la();this.data.name=this.hb.la();this.P.Ye(this.data);return!0}if(S(this.b.main_panel.cancelbtn,a)){this.Eh=!0;var c=this.P;this.P.gd(function(){c.Ye(null)});return!0}},yb:function(a){this._super();var c=this.P;a||this.P.gd(function(){c.Ye(null)})}});var Ja=Ma.extend({ctor:function(){this._super()},OJ:function(){this._super()},Oa:function(){this._super()},yb:function(){this._super()},Fb:function(a){p.Lb(this.b.health_panel.Wa(),a.V)&&x.d().km("Game")},q:function(){var a=p.Y.create("ITS WOKKIN!","Arial",16);a.k(p.i(0,0,0));a.w(p.a(200,200));this.s(a);this._super()}});var Na=new XMLHttpRequest;Na.open("GET","news.txt",!1);Na.send(null);var Oa=Na.responseText;
Login=Ma.extend({tC:!1,ws:!1,q:function(a){this._super();x.Hm(this);this.Vr=new Z(this.b.name_entry,p.size(this.b.name_entry.e().width,this.b.name_entry.e().height),p.a(0,this.b.name_entry.e().height),"Enter Name",p.v(100,100,100),p.i(255,255,255));a&&(a.KH&&(u=[],G({logout:!0})),this.Jm(a.uC));this.zc(this.PC)},lw:function(a){switch(a){case "ENTER":!1==this.ws&&this.tC?(this.ws=!0,G({login:!0,username:this.Vr.la()})):this.YB("Server is offline!")}},Jm:function(a){this.tC=a;!0==a?(this.b.server_activity.fa("Server: Online"),
this.b.server_activity.k(p.i(0,255,0))):(this.b.server_activity.fa("Server: Offline"),this.b.server_activity.k(p.i(255,0,0)))},PC:function(){if(0<u.length)for(var a=u.length-1;0<=a;a--)reactToSocketMessage(u[a]),u.splice(a,1)},td:function(){return{panels:{children:{background:{cc:"GUI/splash.png",size:p.size(960,640),c:p.a(0,0),position:p.a(0,0)},name_entry:{size:p.size(300,30),position:p.a(325,300)},go_button:{position:p.a(420,220),size:p.size(120,40),m:p.v(0,0,0,255),children:{label:{label:"Play",
fontSize:20,color:p.i(255,255,255),c:p.a(0.5,0.5),position:p.a(60,20)}}},news_message:{label:Oa,fontSize:14,c:p.a(0,1),position:p.a(30,610)},server_message:{label:"",fontSize:16,color:p.i(127,0,0),c:p.a(0,0),position:p.a(327,325)},server_activity:{position:p.a(910,630),size:p.size(100,20),c:p.a(0.5,0.5),label:"Server: Offline",color:p.i(255,0,0)}}}}},Fb:function(a){if(null!=this.Vr.la()&&p.Lb(p.rect(this.b.go_button.o.C,this.b.go_button.o.G,this.b.go_button.e().width,this.b.go_button.e().height),
a.V))return!1==this.ws&&this.tC?(this.ws=!0,G({login:!0,username:this.Vr.la()})):this.YB("Server is offline!"),!0},zS:function(){x.d().km("Game",{LJ:this.Vr.la(),map:1})},YB:function(a){this.b.server_message.fa(a);this.ws=!1},dd:function(){},df:function(){},b6:function(){x.d().km("Game",{LJ:this.Vr.la()})}});Ja=null;MapMaster=!1;
var Pa=Ma.extend({ctor:function(){this._super()},td:function(){return{panels:{children:{logout_button:{position:p.a(Y.width-52,Y.height-52),c:p.a(0,0),size:p.size(48,48),cc:"GUI/logout.png"}}}}},MQ:function(){return{panels:{children:{chattoggle:{position:p.a(410,0),size:p.size(64,64),m:p.v(255,255,255,120),children:{label:{label:"Chat",color:p.i(0,0,0),position:p.a(32,32)}}},inventorytoggle:{position:p.a(484,0),size:p.size(64,64),m:p.v(255,255,255,120),children:{label:{label:"Inventory",color:p.i(0,
0,0),position:p.a(32,32)}}},equipmenttoggle:{position:p.a(558,0),size:p.size(64,64),m:p.v(255,255,255,120),children:{label:{label:"Equipment",color:p.i(0,0,0),position:p.a(32,32)}}},upbutton:{position:p.a(632,0),size:p.size(64,64),m:p.v(255,255,255,120),children:{label:{label:"Up",color:p.i(0,0,0),position:p.a(32,32)}}},downbutton:{position:p.a(706,0),size:p.size(64,64),m:p.v(255,255,255,120),children:{label:{label:"Down",color:p.i(0,0,0),position:p.a(32,32)}}},leftbutton:{position:p.a(780,0),size:p.size(64,
64),m:p.v(255,255,255,120),children:{label:{label:"Left",color:p.i(0,0,0),position:p.a(32,32)}}},rightbutton:{position:p.a(854,0),size:p.size(64,64),m:p.v(255,255,255,120),children:{label:{label:"Right",color:p.i(0,0,0),position:p.a(32,32)}}},hidebutton:{position:p.a(928,0),size:p.size(32,64),m:p.v(255,255,255,120),children:{label:{label:"\x3c\x3c",color:p.i(0,0,0),position:p.a(16,32)}}}}}}},Jm:function(a){!1==a&&(this.cB(),x.d().km("Login",{uC:!1}))},cB:function(){C.rd();C.es();y.rd();y.es();B.rd();
B.es()},Fb:function(a){if(p.Lb(p.rect(this.b.logout_button.o.C,this.b.logout_button.o.G,this.b.logout_button.e().width,this.b.logout_button.e().height),a.V))return this.cB(),x.d().km("Login",{KH:!0,uC:!0}),!0;x.Hm(this);if(this.Ta){if(p.Lb(this.Ta.upbutton.Wa(),a.V)&&this.Ta.upbutton.va)return J[38]=!0;if(p.Lb(this.Ta.downbutton.Wa(),a.V)&&this.Ta.downbutton.va)return J[40]=!0;if(p.Lb(this.Ta.leftbutton.Wa(),a.V)&&this.Ta.leftbutton.va)return J[37]=!0;if(p.Lb(this.Ta.rightbutton.Wa(),a.V)&&this.Ta.rightbutton.va)return J[39]=
!0;if(p.Lb(this.Ta.chattoggle.Wa(),a.V)&&this.Ta.chattoggle.va)return y.l.da.path=null,B.DH()?B.DB():B.show(),!0;if(p.Lb(this.Ta.inventorytoggle.Wa(),a.V)&&this.Ta.inventorytoggle.va)return y.l.da.path=null,null==Inventory||Inventory.W||(Inventory=null),Inventory?(Inventory.yb(),Inventory.R(),Inventory=null):(Inventory=new InventoryPanel,Inventory.q(),Inventory.Oa(),this.s(Inventory)),!0;if(p.Lb(this.Ta.equipmenttoggle.Wa(),a.V)&&this.Ta.equipmenttoggle.va)return y.l.da.path=null,null==Equipment||
Equipment.W||(Equipment=null),Equipment?(Equipment.yb(),Equipment.R(),Equipment=null):(Equipment=new EquipmentPanel,Equipment.q(),Equipment.Oa(),this.s(Equipment)),!0;if(p.Lb(this.Ta.hidebutton.Wa(),a.V)&&this.Ta.hidebutton.va)return this.oJ(!0==this.Ta.cS?!1:!0),J[37]=!1,J[38]=!1,J[39]=!1,J[34]=!1,!0}},BV:function(a){null==Sign||Sign.W||(Sign=null);Sign?(Sign.yb(),Sign.R(),Sign=null):(Sign=new SignPanel,Sign.q(a),Sign.Oa(),this.s(Sign))},df:function(a){if(this.Ta){if(p.Lb(this.Ta.upbutton.Wa(),a.V)&&
this.Ta.upbutton.va)return J[38]=!1,!0;if(p.Lb(this.Ta.downbutton.Wa(),a.V)&&this.Ta.downbutton.va)return J[40]=!1,!0;if(p.Lb(this.Ta.leftbutton.Wa(),a.V)&&this.Ta.leftbutton.va)return J[37]=!1,!0;if(p.Lb(this.Ta.rightbutton.Wa(),a.V)&&this.Ta.rightbutton.va)return J[39]=!1,!0}},lw:function(a){switch(a){case "C":B.DH()?B.DB():B.show();break;case "ENTER":B.PB()||B.xC(!0);break;case "SPACE":y.l.da.WR();Inventory&&Inventory.hf();break;case "CTRL":y.l.da.UR();break;case "ESC":this.cB();x.d().km("Login",
{KH:!0,uC:!0});break;case "I":null==Inventory||Inventory.W||(Inventory=null);Inventory?(Inventory.yb(),Inventory.R(),Inventory=null):(Inventory=new InventoryPanel,Inventory.q(),Inventory.Oa(),this.s(Inventory));break;case "E":null==Equipment||Equipment.W||(Equipment=null);Equipment?(Equipment.yb(),Equipment.R(),Equipment=null):(Equipment=new EquipmentPanel,Equipment.q(),Equipment.Oa(),this.s(Equipment));break;case "S":null==Skills||Skills.W||(Skills=null),Skills?(Skills.yb(),Skills.R(),Skills=null):
(Skills=new SkillsPanel,Skills.q(),Skills.Oa(),this.s(Skills))}},XB:function(a){var c=y.l.da.bg();y.l.da.path=null;if(0==c.x%1&&0==c.y%1)switch(a){case "RIGHTARROW":y.l.da.kp(c.x+1,c.y);break;case "LEFTARROW":y.l.da.kp(c.x-1,c.y);break;case "UPARROW":y.l.da.kp(c.x,c.y+1);break;case "DOWNARROW":y.l.da.kp(c.x,c.y-1)}},oJ:function(a){this.Ta&&(this.Ta.cS=a,this.Ta.upbutton.r(a),this.Ta.downbutton.r(a),this.Ta.leftbutton.r(a),this.Ta.rightbutton.r(a),this.Ta.chattoggle.r(a),this.Ta.inventorytoggle.r(a),
this.Ta.equipmenttoggle.r(a),this.Ta.hidebutton.label.fa(!0==a?"\x3e\x3e":"\x3c\x3c"))},YT:function(a){if(a)switch(p.log(a),a){case "/editmap":null==Mapeditor||Mapeditor.W||(Mapeditor=null);Mapeditor?(Mapeditor.yb(),Mapeditor.R(),Mapeditor=null,C.Gw(null)):(Mapeditor=new MapEditor,Mapeditor.q(),Mapeditor.Oa(),this.s(Mapeditor),C.Gw(Mapeditor));break;case "/editwarp":null==Warpeditor||Warpeditor.W||(Warpeditor=null);Warpeditor?(Warpeditor.yb(),Warpeditor.R(),Warpeditor=null):(Warpeditor=new PopupList,
Warpeditor.q({P:null,yj:new WarpEditor,list:ObjectLists.jm(),name:"Warp List"}),Warpeditor.Oa(),this.s(Warpeditor));break;case "/editsigns":null==Signeditor||Signeditor.W||(Signeditor=null);Signeditor?(Signeditor.yb(),Signeditor.R(),Signeditor=null):(Signeditor=new PopupList,Signeditor.q({P:null,yj:new SignEditor,list:ObjectLists.Cr(),name:"Sign List"}),Signeditor.Oa(),this.s(Signeditor));break;case "/editskills":null==Skillseditor||Skillseditor.W||(Skillseditor=null);Skillseditor?(Skillseditor.yb(),
Skillseditor.R(),Skillseditor=null):(Skillseditor=new PopupList,Skillseditor.q({P:null,yj:new SkillsEditor,list:ObjectLists.Go(),name:"Skills List"}),Skillseditor.Oa(),this.s(Skillseditor));break;case "/edititems":null==Itemeditor||Itemeditor.W||(Itemeditor=null);Itemeditor?(Itemeditor.yb(),Itemeditor.R(),Itemeditor=null,C.Gw(null)):(Itemeditor=new PopupList,Itemeditor.q({P:null,yj:new ItemEditor,list:ObjectLists.vi(),name:"Item List"}),Itemeditor.Oa(),this.s(Itemeditor));break;case "/editnpcs":null==
NPCeditor||NPCeditor.W||(NPCeditor=null);NPCeditor?(NPCeditor.yb(),NPCeditor.R(),NPCeditor=null,C.Gw(null)):(NPCeditor=new PopupList,NPCeditor.q({P:null,yj:new NPCEditor,list:ObjectLists.Dk(),name:"NPC List"}),NPCeditor.Oa(),this.s(NPCeditor));break;case "/help":B.showHelp();break;case "/commands":B.AV();break;case "/diceroll":a=Math.floor(6*Math.random()+1);a=y.l.da.getName()+" threw a dice and got "+a+".";B.Db(a);G({diceroll:a});break;case "/coinflip":a=1==Math.floor(3*Math.random()+1)?"Heads":
"Tails";a=y.l.da.getName()+" flipped a coin and got "+a+".";B.Db(a);G({coinflip:a});break;case "/dance":a=y.l.da.getName()+" dances the dance of his people.";B.Db(a);G({dance:a});break;case "/afk":y.l.da.updateStatus("AFK"),G({afk:!0})}},q:function(a){this._super();this.s(C.create());ObjectLists.d();a={name:a.LJ,Ai:!0,Lm:{health:{yc:1,value:100,zf:200,yf:900},mana:{yc:1,value:100,zf:200,yf:99}},map:1,os:"sprites1.png",ms:1};y.create(a);C.bP();this.b.R();this.ks(-20);this.gd(function(){C.d().Sk(a.map)});
G({moveTo:y.l.da.bg().x+y.l.da.bg().y*U});this.s(B.create());this.s(wa.create());isMobile()&&(this.Ta=Da(this.MQ(),!0),this.s(this.Ta),this.oJ(!1));this.s(this.b);this.zc(this.PC);this.zc(this.gU);Ja=this},PC:function(){if(0<u.length)for(var a=0;a<u.length;a++){var c=JSON.parse(u[a]);c.moveTo&&(!y.Dh(c.id)||y.Dh(c.id)&&!1==y.Dh(c.id).hg)?(reactToSocketMessage(JSON.stringify(c)),u.splice(a,1)):c.moveTo||(reactToSocketMessage(JSON.stringify(c)),u.splice(a,1))}},gU:function(){if(!0==MapMaster){var a=
y.WK(),c;for(c in a)if(!1==a[c].rw){var d=10*Math.random()+1,e=a[c].bg();switch(Math.floor(4*Math.random())+1){case 1:e.x++;break;case 2:e.y++;break;case 3:e.x--;break;case 4:e.y--}a[c].fV(e,d)}}}});var Qa=p.ra.extend({mc:null,T0:!1,xC:function(a){a?this.mc.Ma.focus():this.mc.Ma.blur()},PB:function(){return document.activeElement==this.mc.Ma},fa:function(a){this.mc.$g(a)},sB:function(){return this.mc.la()},q:function(){p.log("Ovveride inputbox init call if necessary")},ctor:function(a,c,d,e,f,g,h){this.mc=p.rp.create(p.size(c.width,c.height),p.Ne.create(),h);this.mc.$g(e);this.mc.UP=e;this.mc.GU(p.i(g.h,g.g,g.f));this.mc.zI(p.i(f.h,f.g,f.f));this.mc.w(p.a(d.x,d.y));this.mc.ma(0,1);this.mc.Zg(this);
a.s(this.mc);this.q()}});var Ra=Qa.extend({Nv:function(a){a.$g("")},Ov:function(a,c){c||("/"==a.la().substring(0,1)?this.XT(a.la()):0<a.la().length&&B.Db(a.la(),!0));a.$g(H.xc.xG)},XT:function(a){x.d().Vc.YT(a)},Pv:function(a,c){a.$g(c);p.log("chatBox "+this.OE(a)+", TextChanged, text: "+c)},OE:function(){return"chatbox"}}),$=null,B=p.oc.extend({uj:null,q:function(){this.uj=new Ra(this.b.chat_panel,p.size(this.b.chat_panel.e().width-4,25),p.a(2,this.b.chat_panel.e().height-2),H.xc.xG,p.i(255,255,255),p.i(0,0,0));this.uj.mc.W.Nh(this.uj.mc.o.G+
59)},eG:function(a){for(var c=[],d=0;7>d;d++)c.push(this.b.chat_panel["label"+d].sB());this.b.chat_panel.label0.fa(a);for(d=1;8>d;d++)this.b.chat_panel["label"+d].fa(c[d-1])},td:function(){return{panels:{children:{chat_panel:{size:p.size(400,150),cc:"GUI/chat.png",c:p.a(0,0),opacity:200,position:p.a(0,-200),children:{label7:{label:"",position:p.a(5,0),c:p.a(0,0),color:p.i(0,0,0)},label6:{label:"",position:p.a(5,15),c:p.a(0,0),color:p.i(0,0,0)},label5:{label:"",position:p.a(5,30),c:p.a(0,0),color:p.i(0,
0,0)},label4:{label:"",position:p.a(5,45),c:p.a(0,0),color:p.i(0,0,0)},label3:{label:"",position:p.a(5,60),c:p.a(0,0),color:p.i(0,0,0)},label2:{label:"",position:p.a(5,75),c:p.a(0,0),color:p.i(0,0,0)},label1:{label:"",position:p.a(5,90),c:p.a(0,0),color:p.i(0,0,0)},label0:{label:"",position:p.a(5,105),c:p.a(0,0),color:p.i(0,0,0)}}}}}}}});B.create=function(){$||($=new B,$.b=Da($),$.s($.b),$.q(),B.DB(),B.CV());return $};B.d=function(){return $};
B.Db=function(a,c){50<a.length&&(a=a.substring(0,50)+"...");c?(G({chatMessage:a}),$.eG(y.l.da.getName()+": "+a)):$.eG(a)};B.show=function(){$.uj.mc.W.Nh(0)};B.DB=function(){$.uj.mc.W.Nh(-$.uj.mc.o.G+59)};B.DH=function(){return 0!=$.uj.mc.W.o.G?!1:!0};B.xC=function(a){$.uj.xC(a)};B.PB=function(){return $.uj.PB()};B.showHelp=function(){B.Db(H.xc.zR);B.Db(H.xc.AR);B.Db(H.xc.BR);B.Db(H.xc.CR);B.Db(H.xc.DR)};B.AV=function(){B.Db(H.xc.DP);B.Db(H.xc.EP);B.Db(H.xc.FP);B.Db(H.xc.GP)};B.CV=function(){B.Db(H.xc.XR)};
B.rd=function(){$.b.R();$.b=null};B.es=function(){$.R();$=null};var Z=Qa.extend({Hr:!1,PH:!1,AG:!1,Nv:function(a){!1==this.AG&&a.$g("")},Ov:function(a){null==a.la()||""==a.la().length&&this.PH?this.Hr=!0:0<!a.la().length?(a.$g(this.mc.UP),this.Hr=!1):this.Hr=!0},Pv:function(a,c){a.$g(c);this.Hr=!0},OE:function(){return"name_entry"},la:function(){return!0==this.Hr||!0==this.TP?this.mc.la():null},$g:function(a){this.mc.$g(a)},Ge:function(a){this.TP=a},fs:function(a){this.PH=a},AU:function(a){this.AG=a},q:function(){}});var x=p.oc.extend({l:null,QA:null,Vc:null,Av:null,q:function(){var a=p.ha.d().Tv();this.QA=p.Qb.create(p.v(255,255,255,255),parseInt(4*a.width),parseInt(4*a.height));this.QA.ma(p.a(0,0));this.s(this.QA);this.km("Login",{});this.zc(this.nP);this.BC(!0)},lg:function(a){a=a.V;this.Av.lg&&this.Av.lg(a)},nP:function(){for(var a in J)if(!0==J[a]&&null!=this.Vc){var c=null;a=parseInt(a);switch(a){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";
break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a&&58>a||64<a&&91>a)&&(c=String.fromCharCode(a));null!=c&&this.Vc.XB(c)}},km:function(a,c){null!=this.Vc&&(this.Vc.yb(),this.Vc.R(),this.Vc=
null);switch(a){case "Login":this.Vc=new Login;break;case "Game":this.Vc=new Pa}this.Vc.OJ();this.s(this.Vc,1);this.Vc.JU(a);this.Vc.Oa();this.Vc.q(c)},E1:function(){return this.Vc.sd()}});x.d=function(){null==this.l&&(this.l=new x);return this.l};x.Hm=function(a){null==this.l&&(this.l=new x);this.l.Av=a};x.uQ=function(){null==this.l&&(this.l=new x);return this.l.Av};var Y;
new (p.Ii.extend({Gv:document.ccConfig,ctor:function(){this._super();p.Ds=this.Gv.COCOS2D_DEBUG;p.FR();p.Sk(this.Gv.tag);p.gx.zV().YP()},hP:function(){var a=this.Gv,c=p.O.d(),d=p.ha.d();Y=d.Tv();p.size(Y.width,Y.height);var e=p.size(Y.width,Y.height),f=p.kd.d();p.Ii.d();f.XI(["res/Graphics"]);p.bh&&p.bh.d().A9("res/Audio");c.tU(1);d.vC(e.width,e.height,p.$m.SHOW_ALL);c.ds(1/a.frameRate);a.test?p.test(a.test):(p.log("++++++++++++++++entry for game++++++++++++"),p.nS(function(a){p.Ex.gC(a,function(){document.getElementById("gameCanvas").setAttribute("tabindex","0");
document.getElementById("gameCanvas").focus();var a=x.d();p.O.d().pI(a);a.q()})}));return!0}}));
//@ sourceMappingURL=sourcemap