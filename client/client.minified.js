var b,aa={v0:"2D Circle Graphic/TOWNBOT2.bmp",w0:"2D Circle Graphic/TOWNBOT2.png",x0:"2D Circle Graphic/TOWNJNT2.bmp",P0:"2D Circle Graphic/_BACKUP_.bmp",O0:"40x40Tiles.png",m2:"GUI/bank.png",n2:"GUI/bankeditor_icon.png",p2:"GUI/book.png",s2:"GUI/btnDown.png",t2:"GUI/btnLeft.png",u2:"GUI/btnRight.png",v2:"GUI/btnUp.png",N2:"GUI/chat.png",M2:"GUI/chat_icon.png",O2:"GUI/checkbox_checked.png",P2:"GUI/checkbox_uncheck.png",Q2:"GUI/close.png",X2:"GUI/copy.png",a3:"GUI/cross_icon.png",f3:"GUI/defaultitem.png",
w3:"GUI/edit.png",x3:"GUI/editor-tab.png",A3:"GUI/equipment.png",z3:"GUI/equipment_icon.png",B3:"GUI/event_panel.png",C7:"GUI/healthbar.png",S7:"GUI/inventory.png",R7:"GUI/inventory_icon.png",H8:"GUI/itemeditor_bg.png",I8:"GUI/itemeditor_icon.png",J8:"GUI/itemeditor_tab1_bg.png",K8:"GUI/itemeditor_tab2_bg.png",L8:"GUI/itemeditor_tab3_bg.png",W8:"GUI/list_panel.png",d9:"GUI/logout.png",g9:"GUI/mapeditor_icon.png",l9:"GUI/npceditor_icon.png",m9:"GUI/npctalk.png",r$:"GUI/quest_panel.png",s$:"GUI/questeditor_icon.png",
t$:"GUI/quickedit_closed_icon.png",u$:"GUI/quickedit_opened_icon.png",v$:"GUI/quickmenu_closed_icon.png",w$:"GUI/quickmenu_opened_icon.png",baa:"GUI/save_icon.png",caa:"GUI/scripteditor_icon.png",daa:"GUI/scripting_list.png",faa:"GUI/selected.png",fca:"GUI/settings_icon.png",gca:"GUI/shop.png",hca:"GUI/shopeditor_icon.png",ica:"GUI/signeditor_bg.png",jca:"GUI/signeditor_icon.png",kca:"GUI/signpost.png",lca:"GUI/skilleditor_icon.png",nca:"GUI/skills.png",mca:"GUI/skills_icon.png",rca:"GUI/splash.png",
Pca:"GUI/texture_change_left.png",Qca:"GUI/texture_change_middle.png",Rca:"GUI/texture_change_right.png",Sca:"GUI/tick_icon.png",ada:"GUI/trash.png",jda:"GUI/use.png",tda:"GUI/warpeditor_bg.png",uda:"GUI/warpeditor_icon.png",w2:"building1.png",M8:"items1.png",sca:"sprites1.png",Tca:"tiles0.png",Uca:"tiles1.png"};var q=q||{},ba={};q.QU=function(a){var c=q.UD[ba.iI.IF];if(c){for(var d=[],e=0;e<c.length;++e)d.push({src:c[e]});a(d)}else a([])};ba={iI:{IF:"_0"}};q.UD={};q.UD[ba.iI.IF]=[];q.UD.KR=[];q=q||{};function ca(){return arguments.callee.name||arguments.callee.toString().match(/^function ([^(]+)/)[1]}ca.id=0|998*Math.random();ca.vU=0|998*Math.random();
ca.jI=function(a,c,d){for(var e=a.toString(),f=e.substring(e.indexOf("(")+1,e.indexOf(")")),f=f.trim(),e=e.substring(e.indexOf("{")+1,e.lastIndexOf("}"));-1!=e.indexOf("this._super");)var g=e.indexOf("this._super"),h=e.indexOf("(",g),k=e.substring(h+1,e.indexOf(")",h)),k=(k=k.trim())?",":"",l=arguments.callee.FM(),e=e.substring(0,g)+l+"["+d+"]."+c+".call(this"+k+e.substring(h+1);return Function(f,e)};ca.jI.FM=ca;ca.qT=function(){return this.id++};ca.rT=function(){return this.vU++};
(function(){var a=/\b_super\b/,c=document.ccConfig&&document.ccConfig.CLASS_RELEASE_MODE?document.ccConfig.CLASS_RELEASE_MODE:null;c&&console.log("release Mode");q.Pa=function(){};q.Pa.extend=function(d){function e(){this.zc=ca.rT();this.ctor&&this.ctor.apply(this,arguments)}var f=this.prototype,g=Object.create(f),h=ca.qT();ca[h]=f;var k={writable:!0,enumerable:!1,configurable:!0},l;for(l in d)c&&"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=ca.jI(d[l],l,h),Object.defineProperty(g,
l,k)):"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=function(a,c){return function(){var d=this._super;this._super=f[a];var e=c.apply(this,arguments);this._super=d;return e}}(l,d[l]),Object.defineProperty(g,l,k)):"function"==typeof d[l]?(k.value=d[l],Object.defineProperty(g,l,k)):g[l]=d[l];g.zc=null;e.id=h;k.value=h;Object.defineProperty(g,"__pid",k);e.prototype=g;k.value=e;Object.defineProperty(e.prototype,"constructor",k);e.extend=arguments.callee;e.F7=function(a){for(var c in a)g[c]=
a[c]};return e};Function.prototype.bind=Function.prototype.bind||function(a){var c=this;return function(){return c.apply(a||null,Array.prototype.slice.call(arguments))}}})();q.H7=function(a,c){function d(){}d.prototype=c.prototype;a.oy=c.prototype;a.prototype=new d;a.prototype.constructor=a};
q.KR=function(a,c,d){var e=arguments.callee.caller;if(e.oy)return ret=e.oy.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var f=Array.prototype.slice.call(arguments,2),g=!1,h=a.constructor;h;h=h.oy&&h.oy.constructor)if(h.prototype[c]===e)g=!0;else if(g)return h.prototype[c].apply(a,f);if(a[c]===e)return a.constructor.prototype[c].apply(a,f);throw Error("cc.base called from a method of one name to a method of a different name");};
q.T2=function(a,c){a||(a={});for(var d in c)a[d]=c[d];return a};q.oh=function(a,c){this.x=a||0;this.y=c||0};q.VF=function(a,c){this.I=a||0;this.T=c||0;this.GL=function(a){this.I=a};this.HL=function(a){this.T=a}};q.Md=function(){return new q.VF(0,0)};
Object.defineProperties(q.VF.prototype,{x:{get:function(){return this.I},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0},y:{get:function(){return this.T},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0}});q.M_=function(a,c){q.log("cc.PointMake will be deprecated sooner or later. Use cc.p instead.");return new q.oh(a,c)};
q.a=function(a,c){return{x:a,y:c}};q.v1=q.a;q.Lj=function(){return q.a(0,0)};q.sK=function(a,c){return a&&c?a.x===c.x&&a.y===c.y:!1};q.Nk=function(a,c){this.width=a||0;this.height=c||0};q.WF=function(a,c){this.Ha=a||0;this.xa=c||0;this.sE=function(a){this.Ha=a};this.gE=function(a){this.xa=a}};q.Vm=function(){return new q.WF(0,0)};
Object.defineProperties(q.WF.prototype,{width:{get:function(){return this.Ha},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0},height:{get:function(){return this.xa},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0}});q.q0=function(a,c){q.log("cc.SizeMake will be deprecated sooner or later. Use cc.size instead.");return q.size(a,c)};
q.size=function(a,c){return{width:a,height:c}};q.Ya=q.size;q.rm=function(){return q.size(0,0)};q.LH={AV:q.Md(),sY:q.Vm()};Object.defineProperties(q,{AN:{get:function(){return q.LH.AV},configurable:!0},LN:{get:function(){return q.LH.sY},configurable:!0},R_:{get:function(){return q.rect(0,0,0,0)},configurable:!0}});q.rY=function(a,c){return a&&c?a.width==c.width&&a.height==c.height:!1};
q.Rect=function(a,c,d,e){var f=arguments.length;if(4===f)this.hd=new q.oh(a||0,c||0),this.Ya=new q.Nk(d||0,e||0);else if(1===f)this.hd=new q.oh(a.hd.x,a.hd.y),this.Ya=new q.Nk(a.Ya.width,a.Ya.height);else if(0===f)this.hd=new q.oh(0,0),this.Ya=new q.Nk(0,0);else if(2===f)this.hd=new q.oh(a.x,a.y),this.Ya=new q.Nk(c.width,c.height);else throw"unknown argument type";};q.Y_=function(a,c,d,e){q.log("cc.RectMake will be deprecated sooner or later. Use cc.rect instead.");return q.rect(a,c,d,e)};
q.rect=function(a,c,d,e){var f=arguments.length;if(0===f)return new q.Rect(0,0,0,0);if(1===f)return new q.Rect(a.x,a.y,a.width,a.height);if(2===f)return new q.Rect(a.x,a.y,c.width,c.height);if(4===f)return new q.Rect(a,c,d,e);throw"unknown argument type";};q.Aa=q.rect;q.xd=function(){return q.rect(0,0,0,0)};q.zK=function(a,c){return a&&c?q.sK(a.hd,c.hd)&&q.rY(a.Ya,c.Ya):!1};q.Yr=function(a){return a?0===a.x&&0===a.y&&0===a.width&&0===a.height:!1};
q.x$=function(a,c){return a&&c?!(a.x>=c.x||a.y>=c.y||a.x+a.width<=c.x+c.width||a.y+a.height<=c.y+c.height):!1};q.On=function(a){return a.x+a.width};q.y$=function(a){return a.x+a.width/2};q.Ql=function(a){return a.x};q.Pn=function(a){return a.y+a.height};q.z$=function(a){return a.y+a.height/2};q.Rl=function(a){return a.y};q.vb=function(a,c){return c.x>=q.Ql(a)&&c.x<=q.On(a)&&c.y>=q.Rl(a)&&c.y<=q.Pn(a)};q.TV=function(a,c){return!(q.On(a)<q.Ql(c)||q.On(c)<q.Ql(a)||q.Pn(a)<q.Rl(c)||q.Pn(c)<q.Rl(a))};
q.A$=function(a,c){return!(a.x+a.width<c.x||c.x+c.width<a.x||a.y+a.height<c.y||c.y+c.height<a.y)};q.Nx=function(a,c){var d=q.rect(0,0,0,0);d.x=Math.min(a.x,c.x);d.y=Math.min(a.y,c.y);d.width=Math.max(a.x+a.width,c.x+c.width)-d.x;d.height=Math.max(a.y+a.height,c.y+c.height)-d.y;return d};q.SV=function(a,c){var d=q.rect(Math.max(q.Ql(a),q.Ql(c)),Math.max(q.Rl(a),q.Rl(c)),0,0);d.width=Math.min(q.On(a),q.On(c))-q.Ql(d);d.height=Math.min(q.Pn(a),q.Pn(c))-q.Rl(d);return d};b=q.Rect.prototype;
b.GL=function(a){this.hd.x=a};b.HL=function(a){this.hd.y=a};b.Ys=function(){return this.Ya.width};b.sE=function(a){this.Ya.width=a};b.Vs=function(){return this.Ya.height};b.gE=function(a){this.Ya.height=a};
Object.defineProperties(q.Rect.prototype,{x:{get:function(){return this.hd.x},set:function(a){this.GL(a)},enumerable:!0,configurable:!0},y:{get:function(){return this.hd.y},set:function(a){this.HL(a)},enumerable:!0,configurable:!0},width:{get:function(){return this.Ys()},set:function(a){this.sE(a)},enumerable:!0,configurable:!0},height:{get:function(){return this.Vs()},set:function(a){this.gE(a)},enumerable:!0,configurable:!0}});var r=r||{};try{r.localStorage=window.localStorage,window.localStorage.setItem("storage",""),window.localStorage.removeItem("storage")}catch(da){"SECURITY_ERR"!==da.name&&"QuotaExceededError"!==da.name||console.log("Warning: localStorage isn't enabled. Please confirm browser cookie or privacy option"),r.localStorage=function(){}}
Object.defineProperties(r,{D2:{get:function(){var a={canvas:!0};q.Ka.fd&&(a.opengl=!0);"ontouchstart"in document.documentElement||window.navigator.msPointerEnabled?a.touches=!0:"onmouseup"in document.documentElement&&(a.mouse=!0);"onkeyup"in document.documentElement&&(a.keyboard=!0);if(window.DeviceMotionEvent||window.DeviceOrientationEvent)a.accelerometer=!0;return a},enumerable:!0,configurable:!0},oK:{get:function(){var a=navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?!0:!1,c=navigator.userAgent.match(/android/i)||
navigator.platform.match(/android/i)?!0:!1,d=navigator.appVersion;-1!=navigator.appVersion.indexOf("Win")?d="Windows":a?d="iOS":-1!=navigator.appVersion.indexOf("Mac")?d="OS X":-1!=navigator.appVersion.indexOf("X11")?d="UNIX":-1!=navigator.appVersion.indexOf("Linux")?d="Linux":c&&(d="Android");return d},enumerable:!0,configurable:!0},platform:{get:function(){return"browser"},enumerable:!0,configurable:!0},version:{get:function(){return q.Ut},enumerable:!0,configurable:!0}});r.X3=function(){};
r.t3=function(){};r.X$=function(){};q.Ut="Cocos2d-html5-v2.2.2";q.nu=0;q.fF=q.a(0,0);q.LM=.5;q.tZ=1;q.MN=1;q.xN=0;q.OF=0;q.s0=0;q.t0=0;q.U_=1;q.T_="-hd";q.aO=1;q.Mj=0;q.n0=0;q.q_=0;q.p_=0;q.dz=1;q.DZ=q.Ut+"-canvas";q.Vw={platform:r.platform};q.s3=function(){for(var a in r)q.log(a+" = "+r[a])};q.Tt=1;q.hF=1;q.lI=function(a,c){for(var d=["webgl","experimental-webgl","webkit-3d","moz-webgl"],e=null,f=0;f<d.length;++f){try{e=a.getContext(d[f],c)}catch(g){}if(e)break}return e};q.Ka={};q.Ka.QY=["baidubrowser","opera","firefox","chrome","safari"];q.Ka.k9="baidubrowser opera firefox chrome safari ucbrowser qqbrowser mqqbrowser ie".split(" ");
(function(){q.Ka.uy=navigator.userAgent.toLowerCase();q.Ka.platform=navigator.platform.toLowerCase();q.Ka.vj=-1!=q.Ka.uy.indexOf("mobile")||-1!=q.Ka.uy.indexOf("android");q.Ka.type=function(){var a=q.Ka.uy.match(/micromessenger|qqbrowser|mqqbrowser|ucbrowser|360browser|baidubrowser|maxthon|ie|opera|firefox/)||q.Ka.uy.match(/chrome|safari/);return a&&0<a.length?(a=a[0],"micromessenger"==a?"wechat":a):"unknow"}();q.Ka.mode="ie"==q.Ka.type&&document.documentMode;document.ccConfig||(document.ccConfig=
{});q.fC=parseInt(document.ccConfig.renderMode)||0;var a=-1==q.Ka.QY.indexOf(q.Ka.type);1===q.fC||0===q.fC&&(q.Ka.vj||a)?q.Ka.fd=!1:(q.Ka.fd=null!=window.WebGLRenderingContext,a=q.lI(document.createElement("Canvas"),{stencil:!0,preserveDrawingBuffer:!0}),q.Ka.fd=null!=a);2!==q.fC||q.Ka.fd||(q.Nz=!0);var a=q.Ka,c;try{c=new (window.AudioContext||window.webkitAudioContext||window.mozAudioContext)?!0:!1}catch(d){c=!1}a.yca=c;q.Ka.E9=function(a){if(this.vj){var c=q.ea.g().fc,d=c.width+"px",c=c.height+
"px",h=q.Hk("div");h.style.backgroundColor="#ffffff";h.style.width=d;h.style.height=c;h.style.TY=1E3;h.style.position="absolute";h.style.top="0px";h.style.left="0px";h.id="cocos2d-browser";var k=q.Hk("iframe");k.src=a;k.style.width=d;k.style.height=c;k.setAttribute("frameborder","no");k.setAttribute("scrolling","no");h.appendChild(k);k.onload=function(){var a=document.createElement("img");a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5OERBMEM3OUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5OERBMEM3QUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjk4REEwQzc3RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjk4REEwQzc4RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+NwBuoAAAA/tJREFUeNrEWF0sW3EUb6+28zFhbGadsBaNhazV+kpDYhFWKRGWbHvwFV5IvPiIFw9evElEPEiWSUgsIWoIglhmUomPxj6aKC0zKVJjtPU5o9j5J7dLdbf33jKc5Jfc3v+v5/+755x7/j1lMoiNBRDh4AO88HvO2m+ACbAC+AJQAyz2JCbBFyMBWQA/xv+3DUAXLuivudhcY4BMwCuAB+NqDPmNAnAAOsCZvQgk4BnjeiwEwAbM2YoQA14yrteQEANgDcML7gXjZgw9OAuJkADu3JAIb7Q/hr+GtCwuLs6LDq+iooLvhBAREhFEl11ZWRne0tIiIeNIpVKv4uJi4dTUVApNt0EY3ohILSIiwqO7u1sql8vD8vLyJJ2dnXH2HDabzczPz3/Y1taWzOfz78XExDxSq9Vyd3d3jMK9F2pWr6lEtLa2RmVnZ4tt7w0NDWlTU1OVtkK7urqSQ0NDzzW5hYWFjcTExAGDwXDkyD+VSkZ7e3tsWlpamP19mUwWplQqk9B1UlKST3NzczxE4K49D4mCiDwn24PyPMjIyHjs6urKIVpLSEgInp6eZsM6Kzw8nEvEMZvNBxC1BbI9KCMhkUgUy8vLRpL1QIFA4EcSyZmcnJzpS4mYnZ3dj46O7p2fn193xIGi/CeiFovlFIp5pqGhYZ5qD1qFiQxCjk1OTsqEQmEAFReloL+/X0sVAadFWE2n02VA+O+TcVZXV01QkO8ODw9P6fjEnO2zvb2936g4XC7XG4rWm65P2iL8/f05kN8nBQUFQkqnGMYcGBjIys3N5dLxjY7ydDrE6urqsNLSUqmbmxuH1tOBkMzMTIHRaNxSqVTmS4soKyvjFRUViTw9PV2dTR901WAOh7M/MjKyeeHCbGpqEhcWFkY5Wl9aWtpUKBRaONziSbsii/Xm5OTk7EIdU6/X7zpaW1xc/Al5HxkfH9/e2dk5rqmpeUrE6+vr06ADzpEIlI5kMjFwPhh5PB5DJBKdK7KDg4Oj2tpaVUdHxw/0eWxszIjyj8Jvy4N60FdVVX2Grnt4dkaowYJESAG3yaLR09Oz5uvrexwbGxuAR2erpKTkI6RqxW5DM6RnLT09PQQV5vDwsDYlJWUU+I4EIDMhEQLAA6q0DA4OrqMCg/c/qL6+XtXY2Kgn4sGJuavRaFbFYrFPeXn5FIj6ReFa64KnIpJOpaMK39vbM9XV1X13lF9kc3Nz+xMTEwZo89s03A4ycRE1N/RjF/WPKgyfDRU39Gu7w1qYyNYAtwDB1yhgGPDBfgzU4bMi7xoEjAI6iWZRdGMGH80Cr2goRlP5W8B7qwBHfw1YO6kEH4yC8EnJ5QKbnuDFh17nr4BPRP9P/BFgAHo7ZNgI9EbHAAAAAElFTkSuQmCC";
h.appendChild(a);a.style.TY=1E3;a.style.position="absolute";a.style.bottom="10px";a.style.right="10px";a.onclick=function(){h.remove()}};(a=document.getElementById(document.ccConfig.tag).parentNode)&&a.appendChild(h)}else window.open(a)}})();q.Z_=function(){return"undefined"===q.Nz?!1:q.Nz};
q.Vb=function(a){var c=this==q?document:this;if(a=a instanceof HTMLElement?a:c.querySelector(a))a.find=a.find||q.Vb,a.eD=a.eD||function(a){return this.className.match(new RegExp("(\\s|^)"+a+"(\\s|$)"))},a.RH=a.RH||function(a){this.eD(a)||(this.className&&(this.className+=" "),this.className+=a);return this},a.kW=a.kW||function(a){this.eD(a)&&(this.className=this.className.replace(a,""));return this},a.remove=a.remove||function(){this.parentNode&&this.parentNode.removeChild(this);return this},a.sn=
a.sn||function(a){a.appendChild(this);return this},a.MV=a.MV||function(a){a.childNodes[0]?a.insertBefore(this,a.childNodes[0]):a.appendChild(this);return this},a.bo=a.bo||function(){this.style[q.Vb.EY]=q.Vb.translate(this.position)+q.Vb.rotate(this.rotation)+q.Vb.scale(this.scale)+q.Vb.$l(this.$l);return this},a.position=a.position||{x:0,y:0},a.rotation=a.rotation||0,a.scale=a.scale||{x:1,y:1},a.$l=a.$l||{x:0,y:0},a.HE=function(a,c){this.position.x=a;this.position.y=c;this.bo()},a.rotate=function(a){this.rotation=
a;this.bo();return this},a.resize=function(a,c){this.scale.x=a;this.scale.y=c;this.bo();return this},a.wL=function(a,c){this.$l.x=a;this.$l.y=c;this.bo()};return a};switch(q.Ka.type){case "firefox":q.Vb.Kn="Moz";q.Vb.bq=!0;break;case "chrome":case "safari":q.Vb.Kn="webkit";q.Vb.bq=!0;break;case "opera":q.Vb.Kn="O";q.Vb.bq=!1;break;case "ie":q.Vb.Kn="ms";q.Vb.bq=!1;break;default:q.Vb.Kn="webkit",q.Vb.bq=!0}q.Vb.EY=q.Vb.Kn+"Transform";
q.Vb.translate=q.Vb.bq?function(a){return"translate3d("+a.x+"px, "+a.y+"px, 0) "}:function(a){return"translate("+a.x+"px, "+a.y+"px) "};q.Vb.rotate=q.Vb.bq?function(a){return"rotateZ("+a+"deg) "}:function(a){return"rotate("+a+"deg) "};q.Vb.scale=function(a){return"scale("+a.x+", "+a.y+") "};q.Vb.$l=function(a){return"skewX("+-a.x+"deg) skewY("+a.y+"deg)"};q.Hk=function(a){return q.Vb(document.createElement(a))};
q.Vb.R3=function(a){var c=0,d=0;do c+=a.offsetLeft,d+=a.offsetTop;while(a=a.offsetParent);return{x:c,y:d}};q.clone=function(a){var c=a.constructor?new a.constructor:{},d;for(d in a){var e=a[d];c[d]="object"!=typeof e||!e||e instanceof q.Node||e instanceof HTMLElement?e:q.clone(e)}return c};q.k2=function(){};q.kF=q.kF||!1;
q.yP=function(a){var c=document.getElementById("logInfoList");if(!c){var d=document.createElement("Div");d.setAttribute("id","logInfoDiv");q.canvas.parentNode.appendChild(d);d.setAttribute("width","200");d.setAttribute("height",q.canvas.height);d.style.zIndex="99999";d.style.position="absolute";d.style.top="0";d.style.left="0";c=document.createElement("ul");d.appendChild(c);c.setAttribute("id","logInfoList");c.style.height=q.canvas.height+"px";c.style.color="#fff";c.style.textAlign="left";c.style.listStyle=
"disc outside";c.style.fontSize="12px";c.style.fontFamily="arial";c.style.padding="0 0 0 20px";c.style.margin="0";c.style.textShadow="0 0 3px #000";c.style.zIndex="99998";c.style.position="absolute";c.style.top="0";c.style.left="0";c.style.overflowY="hidden";var e=document.createElement("Div");d.appendChild(e);e.style.width="200px";e.style.height=q.canvas.height+"px";e.style.opacity="0.1";e.style.background="#fff";e.style.border="1px solid #dfdfdf";e.style.borderRadius="8px"}d=document.createElement("li");
d.innerHTML=a;0==c.childNodes.length?c.appendChild(d):c.insertBefore(d,c.childNodes[0])};q.log=function(a){document.ccConfig.dev&&1==document.ccConfig.dev&&(q.kF?q.yP(a):console.log.apply(console,arguments))};q.w_=function(a){console.log(a)};q.Mt=function(a,c){console.assert?console.assert(a,c):a||c&&alert(c)};q.I7=function(){0==q.Ot?(q.log=function(){},q.ZJ=function(){},q.YJ=function(){},q.Mt=function(){}):1==q.Ot?(q.ZJ=q.log,q.YJ=function(){}):1<q.Ot&&(q.ZJ=q.log,q.YJ=q.log)};q.dN=0;q.cN=1;
q.eN=2;q.hN=3;q.fN=4;q.oN=5;q.nN=6;q.jN=7;q.iN=8;q.gN=9;q.mN=10;q.bN=11;q.kN=12;q.lN=13;
q.Eq={cI:8,Ica:9,JC:13,shift:16,b3:17,alt:18,pause:19,E2:20,escape:27,d$:33,c$:34,end:35,home:36,left:37,dda:38,right:39,n3:40,M7:45,KZ:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,P:65,o:66,Ma:67,d:68,u3:69,gx:70,p:71,h:72,E7:73,N8:74,O8:75,T8:76,m:77,bK:78,A9:79,a:80,q$:81,t:82,s:83,Hca:84,Wa:85,ua:86,pM:87,x:88,y:89,z:90,n9:96,o9:97,p9:98,q9:99,r9:100,s9:101,t9:102,u9:103,v9:104,w9:105,"*":106,"+":107,"-":109,numdel:110,"/":111,E3:112,I3:113,J3:114,K3:115,L3:116,M3:117,N3:118,O3:119,P3:120,
F3:121,G3:122,H3:123,z9:144,eaa:145,haa:186,",":186,y3:187,"=":187,";":188,S2:188,d3:189,".":190,h$:190,V3:191,y7:192,"[":219,F9:219,"]":221,R2:221,l2:220,quote:222,pca:32};q.l3=function(a,c,d){if(a)if(c&&"string"==typeof a)c[a](d);else c&&"function"==typeof a?a.call(c,d):a(d)};q.Ni=-1;q.PI=Math.PI;q.UM=parseFloat("3.402823466e+38F");q.IN=q.PI/180;q.KM=180/q.PI;q.$N=4294967295;q.o0=function(a,c,d){if("object"==typeof d&&"undefined"!=typeof d.x&&"undefined"!=typeof d.y){var e=d[a];d[a]=d[c];d[c]=e}else q.log("cc.SWAP is being modified from original macro, please check usage")};q.V8=function(a,c,d){return a+(c-a)*d};q.Q_=function(){return 2*(Math.random()-.5)};q.P_=function(){return Math.random()};q.Jj=function(a){return a*q.IN};q.qz=function(a){return a*q.KM};
q.qm=Number.MAX_VALUE-1;q.Xe=q.xN?1:770;q.We=771;q.kz=function(a){a.$c&&(a.$c.yf(),a.$c.kh())};q.WZ=function(){};q.JZ=function(){};q.Yh=function(){q.Kh+=1};q.ou=1.192092896E-7;q.gd=q.dz?function(){return q.ea.g().Cm}:function(){return 1};q.zN=function(a){var c=q.gd();return q.a(a.x*c,a.y*c)};q.S0=function(a,c){var d=q.gd();c.I=a.x*d;c.T=a.y*d};q.vz=function(a){var c=q.gd();return q.size(a.width*c,a.height*c)};q.l0=function(a){var c=q.gd();return q.size(a.width/c,a.height/c)};
q.Lz=function(a,c){var d=q.gd();c.Ha=a.width/d;c.xa=a.height/d};q.K_=function(a){var c=q.gd();return q.a(a.x/c,a.y/c)};q.bv=function(a,c){var d=q.gd();c.I=a.x/d;c.T=a.y/d};q.Fq=q.dz?function(a){var c=q.gd();return q.rect(a.x/c,a.y/c,a.width/c,a.height/c)}:function(a){return a};q.po=q.dz?function(a){var c=q.gd();return q.rect(a.x*c,a.y*c,a.width*c,a.height*c)}:function(a){return a};q.VE=function(){if(q.V$==q.Ok){var a=q.da.getError();a&&q.log("WebGL error "+a)}};q.d0=0;q.c0=1;q.a0=2;q.b0=3;q.e0=4;q.f0=5;q.$_=6;var Uint8Array=Uint8Array||Array;
if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){var ea=document.createElement("script");ea.type="text/vbscript";ea.textContent='\x3c!-- IEBinaryToArray_ByteStr --\x3e\r\nFunction IEBinaryToArray_ByteStr(Binary)\r\n   IEBinaryToArray_ByteStr = CStr(Binary)\r\nEnd Function\r\nFunction IEBinaryToArray_ByteStr_Last(Binary)\r\n   Dim lastIndex\r\n   lastIndex = LenB(Binary)\r\n   if lastIndex mod 2 Then\r\n       IEBinaryToArray_ByteStr_Last = Chr( AscB( MidB( Binary, lastIndex, 1 ) ) )\r\n   Else\r\n       IEBinaryToArray_ByteStr_Last = ""\r\n   End If\r\nEnd Function\r\n';document.body.appendChild(ea);
q.lG=function(a){for(var c={},d=0;256>d;d++)for(var e=0;256>e;e++)c[String.fromCharCode(d+256*e)]=String.fromCharCode(d)+String.fromCharCode(e);d=IEBinaryToArray_ByteStr(a);a=IEBinaryToArray_ByteStr_Last(a);return d.replace(/[\s\S]/g,function(a){return c[a]})+a}}
q.$d=q.Pa.extend({$i:null,rl:null,TO:null,BA:null,pp:null,mi:null,er:"",ctor:function(){this.$i={};this.rl={};this.mi=[];this.mi.push(this.er);this.pp=[];this.pp.push("")},n$:function(){this.mi=[]},n4:function(a){a=this.Ke(a);return this.$i.hasOwnProperty(a)?this.$i[a]:this.vP(a)},Gv:function(){return window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP")},FY:function(a){this.$i.hasOwnProperty(a)&&delete this.$i[a]},HV:function(a){a=this.Ke(a);var c=this,d=this.Gv();d.open("GET",
a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","x-user-defined"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=q.lG(d.responseBody);e&&(c.$i[a]=c.sw(e))}else q.Wb.g().Nl(a);q.Wb.g().ng()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset=x-user-defined"),d.onload=function(){var e=d.responseText;e?c.$i[a]=c.sw(e):q.Wb.g().Nl(a);q.Wb.g().ng()});d.send(null)},l$:function(a,c){this.$i[c]=a;q.Wb.g().ng()},
vP:function(a){var c=this.Gv();c.open("GET",a,!1);var d=null;if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){c.setRequestHeader("Accept-Charset","x-user-defined");c.send(null);if(200!=c.status)return null;if(c=q.lG(c.responseBody))d=this.sw(c),this.$i[a]=d}else{c.overrideMimeType&&c.overrideMimeType("text/plain; charset=x-user-defined");c.send(null);if(!c.responseText||200!=c.status&&0!=c.status)return null;d="undefined"!==typeof VBArray?(new VBArray(c.responseBody)).toArray():
this.sw(c.responseText);this.$i[a]=d}return d},sw:function(a){if(!a)return null;for(var c=new Uint8Array(a.length),d=0;d<a.length;d++)c[d]=a.charCodeAt(d)&255;return c},HY:function(a){a=this.Ke(a);this.rl.hasOwnProperty(a)&&delete this.rl[a]},JV:function(a){a=this.Ke(a);var c=this,d=this.Gv();d.open("GET",a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","utf-8"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=
d.responseText;e&&(c.rl[a]=e)}else q.Wb.g().Nl(a);q.Wb.g().ng()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset=utf-8"),d.onload=function(){d.responseText?c.rl[a]=d.responseText:q.Wb.g().Nl(a);q.Wb.g().ng()});d.send(null)},xP:function(a){var c=this.Gv();c.open("GET",a,!1);var d=null;/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?c.setRequestHeader("Accept-Charset","utf-8"):c.overrideMimeType&&c.overrideMimeType("text/plain; charset=utf-8");c.send(null);if(200!=
c.status)return null;(d=c.responseText)&&(this.rl[a]=d);return d},eJ:function(a){a=this.Ke(a);return this.rl.hasOwnProperty(a)?this.rl[a]:this.xP(a)},V4:function(){},S$:function(){},tK:!0,W3:function(a){return a},Ke:function(a){var c=!1;a=this.$O(a);for(var d,e=0;e<this.mi.length;e++){for(var f=this.mi[e],g=0;g<this.pp.length;g++)if(d=this.aP(a,this.pp[g],f)){c=!0;break}if(c)break}return c?d:a},a9:function(a){var c=this.Ke(a);if(0<c.length){var c=q.Mk.g().parse(c),d=parseInt(c.metadata.version);1!=
d?q.log("cocos2d: ERROR: Invalid filenameLookup dictionary version: "+d+". Filename: "+a):this.jX(c.filenames)}},jX:function(a){this.BA=a},MI:function(a,c){var d;if(a)return d=c.substring(0,c.lastIndexOf("/")+1),d+a;d=c.substring(0,c.lastIndexOf("."));return d+".png"},Eba:function(a){this.pp=a},z6:function(){return this.pp},Dba:function(a){this.mi=a},x6:function(){return this.mi},p6:function(){return this.TO},zba:function(){},h3:function(a){q.log("dictionaryWithContentsOfFile is deprecated. Use createDictionaryWithContentsOfFile instead");
return this.lS(a)},lS:function(a){return q.Mk.g().parse(a)},O6:function(a){return this.eJ(a)},bx:function(a){return q.Mk.g().parse(a)},s7:function(){return""},rba:function(a){q.tK=a},r8:function(){return q.tK},wB:"",q6:function(){return this.wB},Aba:function(a){this.wB=a},$O:function(a){var c=null;(c=this.BA?this.BA[a]:null)&&0!==c.length?q.log("FOUND NEW FILE NAME: "+c):c=a;return c},aP:function(a,c,d){var e;e=this.wB;a&&0<a.length&&(0===a.indexOf("/")||0===a.indexOf("\\"))?e="":0<e.length&&"\\"!=
e[e.length-1]&&"/"!=e[e.length-1]&&(e+="/");var f=a,g="",h=a.lastIndexOf("/");-1!=h&&(g=a.substr(0,h+1),f=a.substr(h+1));a=d;0<a.length&&a.lastIndexOf("/")!==a.length-1&&(a+="/");a=a+g+c;0<a.length&&a.lastIndexOf("/")!==a.length-1&&(a+="/");a+=f;return e+=a},h1:function(){},vL:function(a){var c=!1;this.mi=[];for(var d=0;d<a.length;d++){var e=a[d],f;this.FJ(e)||(f=this.er);e=f+e;0<e.length&&"/"!=e[e.length-1]&&(e+="/");c||e!=this.er||(c=!0);this.mi.push(e)}c||this.mi.push(this.er)},U1:function(a){var c;
this.FJ(a)||(c=this.er);a=c+a;0<a.length&&"/"!=a[a.length-1]&&(a+="/");this.mi.push(a)},y6:function(){},FJ:function(a){return"/"==a[0]}});q.WD=null;q.$d.g=function(){null==q.WD&&(q.WD=new q.$d);return q.WD};q.Jc=function(a,c,d){switch(arguments.length){case 0:this.o=this.p=this.t=0;break;case 1:a&&a instanceof q.Jc?(this.t=0|a.t||0,this.p=0|a.p||0,this.o=0|a.o||0):this.o=this.p=this.t=0;break;case 3:this.t=0|a||0;this.p=0|c||0;this.o=0|d||0;break;default:throw"unknown argument type";}};q.n=function(a,c,d){return new q.Jc(a,c,d)};q.Q7=function(a){a=a||0;var c=new q.Jc;c.t=a&255;c.p=a>>8&255;c.o=a>>16&255;return c};q.uC=q.n;q.x2=function(a,c){return a.t===c.t&&a.p===c.p&&a.o===c.o};
Object.defineProperties(q,{L0:{get:function(){return q.n(255,255,255)},configurable:!0},N0:{get:function(){return q.n(255,255,0)},configurable:!0},qZ:{get:function(){return q.n(0,0,255)},configurable:!0},e_:{get:function(){return q.n(0,255,0)},configurable:!0},S_:{get:function(){return q.n(255,0,0)},configurable:!0},t_:{get:function(){return q.n(255,0,255)},configurable:!0},oZ:{get:function(){return q.n(0,0,0)},configurable:!0},B_:{get:function(){return q.n(255,127,0)},configurable:!0},d_:{get:function(){return q.n(166,
166,166)},configurable:!0}});q.Db=function(){return new q.Jc(255,255,255)};q.yda=function(){return new q.Jc(255,255,0)};q.blue=function(){return new q.Jc(0,0,255)};q.green=function(){return new q.Jc(0,255,0)};q.red=function(){return new q.Jc(255,0,0)};q.f9=function(){return new q.Jc(255,0,255)};q.o2=function(){return new q.Jc(0,0,0)};q.G9=function(){return new q.Jc(255,127,0)};q.Dl=function(){return new q.Jc(166,166,166)};q.dc=function(a,c,d,e){this.t=0|a;this.p=0|c;this.o=0|d;this.P=0|e};
q.i=function(a,c,d,e){return new q.dc(a,c,d,e)};q.vC=q.i;q.qe=function(a,c,d,e){this.t=a;this.p=c;this.o=d;this.P=e};q.Tw=function(a,c,d,e){return new q.qe(a,c,d,e)};q.A2=function(a){return new q.qe(a.t/255,a.p/255,a.o/255,1)};q.B2=function(a){return new q.qe(a.t/255,a.p/255,a.o/255,a.P/255)};q.y2=function(a){return new q.dc(0|255*a.t,0|255*a.p,0|255*a.o,0|255*a.P)};q.z2=function(a,c){return a.t==c.t&&a.p==c.p&&a.o==c.o&&a.P==c.P};q.Lb=function(a,c){this.x=a||0;this.y=c||0};
q.$u=function(a,c){return new q.Lb(a,c)};q.od=function(a,c,d){this.x=a||0;this.y=c||0;this.z=d||0};q.pda=function(a,c,d){return new q.od(a,c,d)};q.Oc=function(a,c){this.Wa=a||0;this.ua=c||0};q.Oca=function(a,c){return new q.Oc(a,c)};q.N_=function(a,c,d){a||new q.Lb(0,0);this.color=c||new q.dc(0,0,0,0);this.size=d||0};q.Au=function(a,c,d,e){this.$a=a||new q.Lb(0,0);this.Ta=c||new q.Lb(0,0);this.Ra=d||new q.Lb(0,0);this.cb=e||new q.Lb(0,0)};
q.O_=function(a,c,d,e){this.Ra=a||new q.od(0,0,0);this.cb=c||new q.od(0,0,0);this.$a=d||new q.od(0,0,0);this.Ta=e||new q.od(0,0,0)};q.XM=function(a,c){this.x=a;this.y=c};q.p=function(a,c){return new q.XM(a,c)};q.nc=function(a,c,d){this.C=a||new q.Lb(0,0);this.V=c||new q.dc(0,0,0,0);this.G=d||new q.Oc(0,0)};q.Uu=function(){this.C=new q.Lb(0,0);this.V=new q.qe(0,0,0,0);this.G=new q.Oc(0,0)};q.Kc=function(a,c,d){this.C=a||new q.od(0,0,0);this.V=c||new q.dc(0,0,0,0);this.G=d||new q.Oc(0,0)};
q.Yc=function(a,c,d){this.P=a||new q.nc;this.o=c||new q.nc;this.Ma=d||new q.nc};q.bO=function(){var a=new q.nc(new q.Lb(0,0),new q.dc(0,0,0,255),new q.Oc(0,0)),c=new q.nc(new q.Lb(0,0),new q.dc(0,0,0,255),new q.Oc(0,0)),d=new q.nc(new q.Lb(0,0),new q.dc(0,0,0,255),new q.Oc(0,0)),e=new q.nc(new q.Lb(0,0),new q.dc(0,0,0,255),new q.Oc(0,0));this.Ra=a||new q.nc;this.cb=c||new q.nc;this.$a=d||new q.nc;this.Ta=e||new q.nc};q.I0=function(){return new q.bO};
q.yc=function(a,c,d,e){this.$a=a||new q.Kc;this.Ra=c||new q.Kc;this.Ta=d||new q.Kc;this.cb=e||new q.Kc};q.Kz=function(){return new q.yc(new q.Kc(new q.od(0,0,0),new q.dc(0,0,0,255),new q.Oc(0,0)),new q.Kc(new q.od(0,0,0),new q.dc(0,0,0,255),new q.Oc(0,0)),new q.Kc(new q.od(0,0,0),new q.dc(0,0,0,255),new q.Oc(0,0)),new q.Kc(new q.od(0,0,0),new q.dc(0,0,0,255),new q.Oc(0,0)))};
q.Jz=function(a){return a?new q.yc(new q.Kc(new q.od(a.$a.C.x,a.$a.C.y,a.$a.C.z),new q.dc(a.$a.V.t,a.$a.V.p,a.$a.V.o,a.$a.V.P),new q.Oc(a.$a.G.Wa,a.$a.G.ua)),new q.Kc(new q.od(a.Ra.C.x,a.Ra.C.y,a.Ra.C.z),new q.dc(a.Ra.V.t,a.Ra.V.p,a.Ra.V.o,a.Ra.V.P),new q.Oc(a.Ra.G.Wa,a.Ra.G.ua)),new q.Kc(new q.od(a.Ta.C.x,a.Ta.C.y,a.Ta.C.z),new q.dc(a.Ta.V.t,a.Ta.V.p,a.Ta.V.o,a.Ta.V.P),new q.Oc(a.Ta.G.Wa,a.Ta.G.ua)),new q.Kc(new q.od(a.cb.C.x,a.cb.C.y,a.cb.C.z),new q.dc(a.cb.V.t,a.cb.V.p,a.cb.V.o,a.cb.V.P),new q.Oc(a.cb.G.Wa,
a.cb.G.ua))):q.Kz()};q.K0=function(a){if(!a)return[];for(var c=[],d=0;d<a.length;d++)c.push(q.Jz(a[d]));return c};q.J0=function(a,c,d,e){this.Ra=a||new q.Uu;this.cb=c||new q.Uu;this.$a=d||new q.Uu;this.Ta=e||new q.Uu};q.nm=function(a,c){this.src=a;this.Tb=c};q.rZ=function(){return new q.nm(1,0)};q.Qc=function(a){var c=a.t.toString(16),d=a.p.toString(16),e=a.o.toString(16);return"#"+(16>a.t?"0"+c:c)+(16>a.p?"0"+d:d)+(16>a.o?"0"+e:e)};
q.Ka.fd&&(q.dc=function(a,c,d,e,f,g){this.ec=f||new ArrayBuffer(q.dc.BYTES_PER_ELEMENT);this._offset=g||0;f=this.ec;g=this._offset;var h=Uint8Array.BYTES_PER_ELEMENT;this.nB=new Uint8Array(f,g,1);this.IA=new Uint8Array(f,g+h,1);this.Xz=new Uint8Array(f,g+2*h,1);this.Pz=new Uint8Array(f,g+3*h,1);this.nB[0]=a||0;this.IA[0]=c||0;this.Xz[0]=d||0;this.Pz[0]=e||0},q.dc.BYTES_PER_ELEMENT=4,Object.defineProperties(q.dc.prototype,{t:{get:function(){return this.nB[0]},set:function(a){this.nB[0]=a},enumerable:!0},
p:{get:function(){return this.IA[0]},set:function(a){this.IA[0]=a},enumerable:!0},o:{get:function(){return this.Xz[0]},set:function(a){this.Xz[0]=a},enumerable:!0},P:{get:function(){return this.Pz[0]},set:function(a){this.Pz[0]=a},enumerable:!0}}),q.qe=function(a,c,d,e,f,g){this.ec=f||new ArrayBuffer(q.qe.BYTES_PER_ELEMENT);this._offset=g||0;f=this.ec;g=this._offset;var h=Float32Array.BYTES_PER_ELEMENT;this.mB=new Float32Array(f,g,1);this.mB[0]=a||0;this.HA=new Float32Array(f,g+h,1);this.HA[0]=c||
0;this.Wz=new Float32Array(f,g+2*h,1);this.Wz[0]=d||0;this.Oz=new Float32Array(f,g+3*h,1);this.Oz[0]=e||0},q.qe.BYTES_PER_ELEMENT=16,Object.defineProperties(q.qe.prototype,{t:{get:function(){return this.mB[0]},set:function(a){this.mB[0]=a},enumerable:!0},p:{get:function(){return this.HA[0]},set:function(a){this.HA[0]=a},enumerable:!0},o:{get:function(){return this.Wz[0]},set:function(a){this.Wz[0]=a},enumerable:!0},P:{get:function(){return this.Oz[0]},set:function(a){this.Oz[0]=a},enumerable:!0}}),
q.Lb=function(a,c,d,e){this.ec=d||new ArrayBuffer(q.Lb.BYTES_PER_ELEMENT);this._offset=e||0;this.mn=new Float32Array(this.ec,this._offset,1);this.nn=new Float32Array(this.ec,this._offset+4,1);this.mn[0]=a||0;this.nn[0]=c||0},q.Lb.BYTES_PER_ELEMENT=8,Object.defineProperties(q.Lb.prototype,{x:{get:function(){return this.mn[0]},set:function(a){this.mn[0]=a},enumerable:!0},y:{get:function(){return this.nn[0]},set:function(a){this.nn[0]=a},enumerable:!0}}),q.od=function(a,c,d,e,f){this.ec=e||new ArrayBuffer(q.od.BYTES_PER_ELEMENT);
this._offset=f||0;e=this.ec;f=this._offset;this.mn=new Float32Array(e,f,1);this.mn[0]=a||0;this.nn=new Float32Array(e,f+Float32Array.BYTES_PER_ELEMENT,1);this.nn[0]=c||0;this.mC=new Float32Array(e,f+2*Float32Array.BYTES_PER_ELEMENT,1);this.mC[0]=d||0},q.od.BYTES_PER_ELEMENT=12,Object.defineProperties(q.od.prototype,{x:{get:function(){return this.mn[0]},set:function(a){this.mn[0]=a},enumerable:!0},y:{get:function(){return this.nn[0]},set:function(a){this.nn[0]=a},enumerable:!0},z:{get:function(){return this.mC[0]},
set:function(a){this.mC[0]=a},enumerable:!0}}),q.Oc=function(a,c,d,e){this.ec=d||new ArrayBuffer(q.Oc.BYTES_PER_ELEMENT);this._offset=e||0;this.ZB=new Float32Array(this.ec,this._offset,1);this.gC=new Float32Array(this.ec,this._offset+4,1);this.ZB[0]=a||0;this.gC[0]=c||0},q.Oc.BYTES_PER_ELEMENT=8,Object.defineProperties(q.Oc.prototype,{Wa:{get:function(){return this.ZB[0]},set:function(a){this.ZB[0]=a},enumerable:!0},ua:{get:function(){return this.gC[0]},set:function(a){this.gC[0]=a},enumerable:!0}}),
q.Au=function(a,c,d,e,f,g){this.ec=f||new ArrayBuffer(q.Au.BYTES_PER_ELEMENT);this._offset=g||0;f=this.ec;g=q.Lb.BYTES_PER_ELEMENT;this.Dp=a?new q.Lb(a.x,a.y,f,0):new q.Lb(0,0,f,0);this.Fp=c?new q.Lb(c.x,c.y,f,g):new q.Lb(0,0,f,g);this.Co=d?new q.Lb(d.x,d.y,f,2*g):new q.Lb(0,0,f,2*g);this.Eo=e?new q.Lb(e.x,e.y,f,3*g):new q.Lb(0,0,f,3*g)},q.Au.BYTES_PER_ELEMENT=32,Object.defineProperties(q.Au.prototype,{$a:{get:function(){return this.Dp},set:function(a){this.Dp.x=a.x;this.Dp.y=a.y},enumerable:!0},
Ta:{get:function(){return this.Fp},set:function(a){this.Fp.x=a.x;this.Fp.y=a.y},enumerable:!0},Ra:{get:function(){return this.Co},set:function(a){this.Co.x=a.x;this.Co.y=a.y},enumerable:!0},cb:{get:function(){return this.Eo},set:function(a){this.Eo.x=a.x;this.Eo.y=a.y},enumerable:!0}}),q.Kc=function(a,c,d,e,f){this.ec=e||new ArrayBuffer(q.Kc.BYTES_PER_ELEMENT);this._offset=f||0;e=this.ec;f=this._offset;var g=q.od.BYTES_PER_ELEMENT;this.Hp=a?new q.od(a.x,a.y,a.z,e,f):new q.od(0,0,0,e,f);this.ar=c?
new q.dc(c.t,c.p,c.o,c.P,e,f+g):new q.dc(0,0,0,0,e,f+g);this.$m=d?new q.Oc(d.Wa,d.ua,e,f+g+q.dc.BYTES_PER_ELEMENT):new q.Oc(0,0,e,f+g+q.dc.BYTES_PER_ELEMENT)},q.Kc.BYTES_PER_ELEMENT=24,Object.defineProperties(q.Kc.prototype,{C:{get:function(){return this.Hp},set:function(a){var c=this.Hp;c.x=a.x;c.y=a.y;c.z=a.z},enumerable:!0},V:{get:function(){return this.ar},set:function(a){var c=this.ar;c.t=a.t;c.p=a.p;c.o=a.o;c.P=a.P},enumerable:!0},G:{get:function(){return this.$m},set:function(a){this.$m.Wa=
a.Wa;this.$m.ua=a.ua},enumerable:!0}}),q.yc=function(a,c,d,e,f,g){this.ec=f||new ArrayBuffer(q.yc.BYTES_PER_ELEMENT);this._offset=g||0;f=this.ec;g=this._offset;var h=q.Kc.BYTES_PER_ELEMENT;this.Dp=a?new q.Kc(a.C,a.V,a.G,f,g):new q.Kc(null,null,null,f,g);this.Co=c?new q.Kc(c.C,c.V,c.G,f,g+h):new q.Kc(null,null,null,f,g+h);this.Fp=d?new q.Kc(d.C,d.V,d.G,f,g+2*h):new q.Kc(null,null,null,f,g+2*h);this.Eo=e?new q.Kc(e.C,e.V,e.G,f,g+3*h):new q.Kc(null,null,null,f,g+3*h)},q.yc.BYTES_PER_ELEMENT=96,Object.defineProperties(q.yc.prototype,
{$a:{get:function(){return this.Dp},set:function(a){var c=this.Dp;c.C=a.C;c.V=a.V;c.G=a.G},enumerable:!0},Ra:{get:function(){return this.Co},set:function(a){var c=this.Co;c.C=a.C;c.V=a.V;c.G=a.G},enumerable:!0},Ta:{get:function(){return this.Fp},set:function(a){var c=this.Fp;c.C=a.C;c.V=a.V;c.G=a.G},enumerable:!0},cb:{get:function(){return this.Eo},set:function(a){var c=this.Eo;c.C=a.C;c.V=a.V;c.G=a.G},enumerable:!0},qC:{get:function(){return this.ec},enumerable:!0}}),q.Kz=function(){return new q.yc},
q.Jz=function(a){if(!a)return q.Kz();var c=a.$a,d=a.Ra,e=a.Ta;a=a.cb;return{$a:{C:{x:c.C.x,y:c.C.y,z:c.C.z},V:{t:c.V.t,p:c.V.p,o:c.V.o,P:c.V.P},G:{Wa:c.G.Wa,ua:c.G.ua}},Ra:{C:{x:d.C.x,y:d.C.y,z:d.C.z},V:{t:d.V.t,p:d.V.p,o:d.V.o,P:d.V.P},G:{Wa:d.G.Wa,ua:d.G.ua}},Ta:{C:{x:e.C.x,y:e.C.y,z:e.C.z},V:{t:e.V.t,p:e.V.p,o:e.V.o,P:e.V.P},G:{Wa:e.G.Wa,ua:e.G.ua}},cb:{C:{x:a.C.x,y:a.C.y,z:a.C.z},V:{t:a.V.t,p:a.V.p,o:a.V.o,P:a.V.P},G:{Wa:a.G.Wa,ua:a.G.ua}}}},q.nc=function(a,c,d,e,f){this.ec=e||new ArrayBuffer(q.nc.BYTES_PER_ELEMENT);
this._offset=f||0;e=this.ec;f=this._offset;var g=q.Lb.BYTES_PER_ELEMENT;this.Hp=a?new q.Lb(a.x,a.y,e,f):new q.Lb(0,0,e,f);this.ar=c?new q.dc(c.t,c.p,c.o,c.P,e,f+g):new q.dc(0,0,0,0,e,f+g);this.$m=d?new q.Oc(d.Wa,d.ua,e,f+g+q.dc.BYTES_PER_ELEMENT):new q.Oc(0,0,e,f+g+q.dc.BYTES_PER_ELEMENT)},q.nc.BYTES_PER_ELEMENT=20,Object.defineProperties(q.nc.prototype,{C:{get:function(){return this.Hp},set:function(a){this.Hp.x=a.x;this.Hp.y=a.y},enumerable:!0},V:{get:function(){return this.ar},set:function(a){var c=
this.ar;c.t=a.t;c.p=a.p;c.o=a.o;c.P=a.P},enumerable:!0},G:{get:function(){return this.$m},set:function(a){this.$m.Wa=a.Wa;this.$m.ua=a.ua},enumerable:!0}}),q.Yc=function(a,c,d,e,f){this.ec=e||new ArrayBuffer(q.Yc.BYTES_PER_ELEMENT);this._offset=f||0;e=this.ec;f=this._offset;var g=q.nc.BYTES_PER_ELEMENT;this.YF=a?new q.nc(a.C,a.V,a.G,e,f):new q.nc(null,null,null,e,f);this.cG=c?new q.nc(c.C,c.V,c.G,e,f+g):new q.nc(null,null,null,e,f+g);this.hG=d?new q.nc(d.C,d.V,d.G,e,f+2*g):new q.nc(null,null,null,
e,f+2*g)},q.Yc.BYTES_PER_ELEMENT=60,Object.defineProperties(q.Yc.prototype,{P:{get:function(){return this.YF},set:function(a){var c=this.YF;c.C=a.C;c.V=a.V;c.G=a.G},enumerable:!0},o:{get:function(){return this.cG},set:function(a){var c=this.cG;c.C=a.C;c.V=a.V;c.G=a.G},enumerable:!0},Ma:{get:function(){return this.hG},set:function(a){var c=this.hG;c.C=a.C;c.V=a.V;c.G=a.G},enumerable:!0}}));
q.U2=function(a){a=a.substr(1).split("");return new q.Jc(parseInt("0x"+a[0]+a[1]),parseInt("0x"+a[2]+a[3]),parseInt("0x"+a[4]+a[5]))};q.Mq=0;q.Pj=1;q.TN=2;q.Zu=0;q.Yu=1;q.Xu=2;q.Wu=3;
q.R0=q.Pa.extend({fp:null,Ds:null,Mz:0,ctor:function(){this.fp={};this.Ds={};this.Mz=2<<(0|10*Math.random())},fO:function(){this.Mz++;return"key_"+this.Mz},zX:function(a,c){if(null!=c){var d=this.fO();this.fp[d]=c;this.Ds[d]=a}},aV:function(a){if(null==a)return null;var c=this.fp,d;for(d in c)if(c[d]===a)return this.Ds[d];return null},oda:function(a){return this.aV(a)},oW:function(a){if(null!=a){var c=this.fp,d;for(d in c)if(c[d]===a){delete this.Ds[d];delete c[d];break}}},M$:function(a){if(null!=
a)for(var c=0;c<a.length;c++)this.oW(a[c])},CR:function(){var a=[],c=this.fp,d;for(d in c)a.push(c[d]);return a},F$:function(){this.fp={};this.Ds={}},count:function(){return this.CR().length}});q.WM=function(){this.Rs="Arial";this.fontSize=12;this.HI=q.Pj;this.II=q.Zu;this.JI=q.Db();this.Qs=q.size(0,0);this.AE=!1;this.strokeColor=q.Db();this.XL=1;this.JL=!1;this.KL=q.size(0,0);this.shadowBlur=0;this.ML=1};q.qo={Yy:0,lz:1,SHOW_ALL:2,Zy:3,$y:4,H0:5};q.Tu=[];q.Nq={};
q.ra=q.Pa.extend({Ea:null,Kd:null,So:null,mp:null,nf:null,Ow:null,jr:1,iC:"",uB:null,va:1,SG:1,Da:1,TG:1,Gr:0,OG:5,ji:null,ZG:null,cH:null,bH:null,$G:null,aH:null,Jr:!1,Z0:!1,K1:null,yG:null,zG:null,iO:null,E1:!1,lA:null,t1:null,Zk:null,DA:1,dv:!1,EG:!0,ctor:function(){this.Zk=q.tk.parentNode===document.body?document.documentElement:q.tk.parentNode;this.Kd=q.size(0,0);this.AG();var a=q.canvas.width,c=q.canvas.height;this.So=q.size(a,c);this.mp=q.size(a,c);this.nf=q.rect(0,0,a,c);this.Ow=q.rect(0,
0,a,c);this.Ea=q.ea.g().lf;this.lA={left:0,top:0};this.iC="Cocos2dHTML5";q.UF.A(this.So);this.ZG=new q.ro(q.nh.Vt,q.Ze.Yy);this.cH=new q.ro(q.nh.DN,q.Ze.SHOW_ALL);this.bH=new q.ro(q.nh.Vt,q.Ze.lz);this.$G=new q.ro(q.nh.Vt,q.Ze.Zy);this.aH=new q.ro(q.nh.Vt,q.Ze.$y);this.yG=q.canvas;this.zG=q.da},vB:function(){this.ctor();this.uB&&this.uB.call();var a=this.Kd.width,c=this.Kd.height;0<a&&this.bE(a,c,this.ji)},xW:function(a){a?this.dv||(this.dv=!0,a=this.vB.bind(this),window.addEventListener("resize",
a,!1)):this.dv&&(this.dv=!0,a=this.vB.bind(this),window.removeEventListener("resize",a,!1))},OX:function(a){if("function"==typeof a||null==a)this.uB=a},AG:function(){var a=this.Kd;a.width=this.Zk.clientWidth;a.height=this.Zk.clientHeight;this.Kd=a},W0:function(){var a=this.mp.width,c=this.mp.height;0<a&&this.bE(a,c,this.ji)},JQ:function(){if(this.EG){var a={"user-scalable":"no","maximum-scale":"1.0","initial-scale":"1.0"},c=document.getElementsByName("viewport"),d;0==c.length?(c=document.createElement("meta"),
c.name="viewport",c.content="",document.head.appendChild(c)):c=c[0];if(q.Ka.vj&&"firefox"==q.Ka.type)c.content="initial-scale:1";else{d=c.content;for(var e in a)(new RegExp(e)).test(d)||(d+=(""==d?"":",")+e+"="+a[e]);c.content=d}}},CQ:function(){var a=q.gd();this.Da=this.va=a},eQ:function(){this.va=this.SG;this.Da=this.TG},cP:function(){var a,c=this.Gr;for(a=0;a<this.OG;a++){if(!(c&1))return this.Gr|=1<<a,a;c>>=1}return-1},aQ:function(a){0>a||a>=this.OG||(a=~(1<<a),this.Gr&=a)},X0:function(){},sU:function(){this.Jr=
!0},Z1:function(a){this.EG=a},end:function(){},p8:function(){return null!=this.yG&&null!=this.zG},Laa:function(a){this.DA=a;q.ea.g().Zx(q.ea.g().ml)},Eca:function(){},Paa:function(){},xaa:function(a,c){this.lA={left:a,top:c}},B4:function(){return this.lA},wn:function(){return q.size(this.Kd.width,this.Kd.height)},Kaa:function(a,c){this.Kd.width=a;this.Kd.height=c;this.Zk.style.width=a+"px";this.Zk.style.height=c+"px";this.vB();q.ea.g().Zx(q.ea.g().ml)},G2:function(){},kaa:function(a){this.iO=a},Xs:function(){return this.Ow.Ya},
kJ:function(){return this.Ow.hd},C2:function(){return!0},o6:function(){return this.ji},PX:function(a){if(a instanceof q.ro)this.ji=a;else switch(a){case q.qo.Yy:this.ji=this.ZG;break;case q.qo.SHOW_ALL:this.ji=this.cH;break;case q.qo.lz:this.ji=this.bH;break;case q.qo.Zy:this.ji=this.$G;break;case q.qo.$y:this.ji=this.aH}},bE:function(a,c,d){if(isNaN(a)||0==a||isNaN(c)||0==c)q.log("Resolution not valid");else{this.PX(d);var e=this.ji;if(e){e.Nn(this);var f=this.Kd.width,g=this.Kd.height;q.Ka.vj&&
this.JQ(this.Kd.width,this.Kd.height);this.AG();if(d!=this.ji||a!=this.mp.width||c!=this.mp.height||f!=this.Kd.width||g!=this.Kd.height)this.So=q.size(a,c),this.mp=q.size(a,c),a=e.apply(this,this.So),a.scale&&2==a.scale.length&&(this.va=a.scale[0],this.Da=a.scale[1]),a.viewport instanceof q.Rect&&(a=this.nf=a.viewport,c=this.Ow,c.Ya.width=q.canvas.width/this.va,c.Ya.height=q.canvas.height/this.Da,c.hd.x=-a.x/this.va,c.hd.y=-a.y/this.Da),a=q.ea.g(),a.fc=this.Sp(),e.Mn(this),q.Wd==q.Ok&&(a.Qo(),a.cL()),
this.SG=this.va,this.TG=this.Da,q.uc&&q.uc.cQ(),q.UF.A(this.Xs())}else q.log("should set resolutionPolicy")}},Sp:function(){return q.size(this.So.width,this.So.height)},Vba:function(a){this.Ea=a},dY:function(a,c,d,e){var f=this.DA,g=this.va,h=this.Da;q.da.viewport(a*g*f+this.nf.x*f,c*h*f+this.nf.y*f,d*g*f,e*h*f)},iE:function(a,c,d,e){var f=this.DA,g=this.va,h=this.Da;q.da.scissor(a*g*f+this.nf.x*f,c*h*f+this.nf.y*f,d*g*f,e*h*f)},EU:function(){var a=q.da;return a.isEnabled(a.SCISSOR_TEST)},BT:function(){var a=
q.da,c=this.va,d=this.Da,a=a.getParameter(a.SCISSOR_BOX);return q.rect((a[0]-this.nf.x)/c,(a[1]-this.nf.y)/d,a[2]/c,a[3]/d)},cca:function(a){null!=a&&0<a.length&&(this.iC=a)},n7:function(){return this.iC},o7:function(){return this.nf},zT:function(){return this.va},AT:function(){return this.Da},M4:function(){return this.jr},uk:function(a,c,d){return{x:this.jr*(a-d.left),y:this.jr*(d.top+d.height-c)}},$T:function(a,c,d,e){for(var f=[],g=this.nf,h=this.va,k=this.Da,l=0;l<a;++l){var m=c[l],p=d[l],t=e[l],
v=0;if(null==q.Nq[m])if(v=this.cP(),-1==v)q.log("The touches is more than MAX_TOUCHES, nUnusedIndex = "+v);else{var x=q.Tu[v]=new q.Touch;x.oE(v,(p-g.x)/h,(t-g.y)/k);q.Nq[m]=0|v;f.push(x)}}0!==f.length&&this.Ea.ry(f,null)},cU:function(a,c,d,e){for(var f=[],g=this.va,h=this.Da,k=this.nf.x,l=this.nf.y,m=0;m<a;++m){var p=d[m],t=e[m],v=q.Nq[c[m]];if(null!=v){var x=q.Tu[v];if(x)x.oE(v,(p-k)/g,(t-l)/h),f.push(x);else return}}0!=f.length&&this.Ea.sy(f,null)},bU:function(a,c,d,e){var f=[];this.cJ(f,a,c,d,
e);this.Ea.Dt(f,null)},aU:function(a,c,d,e){var f=[];this.cJ(f,a,c,d,e);this.Ea.GE(f,null)},cJ:function(a,c,d,e,f){for(var g=this.va,h=this.Da,k=this.nf,l=0;l<c;++l){var m=d[l],p=e[l],t=f[l],v=q.Nq[m];if(null!=v){var x=q.Tu[v];if(x)x.oE(v,(p-k.x)/g,(t-k.y)/h),a.push(x),q.Tu[v]=null,this.aQ(v),delete q.Nq[m];else break}}},ry:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Wf||h,d[f]=g.S.x,e[f]=g.S.y,++f;this.$T(f,c,d,e)},sy:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=
a[h],c[f]=g.Wf||h,d[f]=g.S.x,e[f]=g.S.y,++f;this.cU(f,c,d,e)},Dt:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Wf||h,d[f]=g.S.x,e[f]=g.S.y,++f;this.bU(f,c,d,e)},GE:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Wf||h,d[f]=g.S.x,e[f]=g.S.y,++f;this.aU(f,c,d,e)}});q.ra.g=function(){this.Ob||(q.ea.g(),this.Ob=this.Ob||new q.ra,this.Ob.sU());return this.Ob};
q.nh=q.Pa.extend({aG:!1,Nn:function(){if("iOS"==r.oK||"OS X"==r.oK)this.aG=!0},apply:function(){},Mn:function(){},GB:function(a,c,d){var e=a.Zk;q.Ka.vj&&e==document.documentElement&&q.Screen.g().IR(e);var e=q.canvas,f=q.tk;f.style.width=e.style.width=c+"px";f.style.height=e.style.height=d+"px";f=a.jr=1;this.aG&&(f=a.jr=window.devicePixelRatio||1);e.width=c*f;e.height=d*f;a=document.body;var g;a&&(g=a.style)&&(g.paddingTop=g.paddingTop||"0px",g.paddingRight=g.paddingRight||"0px",g.paddingBottom=g.paddingBottom||
"0px",g.paddingLeft=g.paddingLeft||"0px",g.borderTop=g.borderTop||"0px",g.borderRight=g.borderRight||"0px",g.borderBottom=g.borderBottom||"0px",g.borderLeft=g.borderLeft||"0px",g.marginTop=g.marginTop||"0px",g.marginRight=g.marginRight||"0px",g.marginBottom=g.marginBottom||"0px",g.marginLeft=g.marginLeft||"0px")},sG:function(){document.body.insertBefore(q.tk,document.body.firstChild);var a=document.body.style;a.width=window.innerWidth+"px";a.height=window.innerHeight+"px";a.overflow="hidden";a=q.tk.style;
a.position="fixed";a.left=a.top="0px";document.body.scrollTop=0}});q.Ze=q.Pa.extend({xB:{scale:[1,1],viewport:null},Xq:function(a,c,d,e,f,g){2>Math.abs(a-d)&&(d=a);2>Math.abs(c-e)&&(e=c);a=q.rect(Math.round((a-d)/2),Math.round((c-e)/2),d,e);q.Wd==q.wg&&q.da.translate(a.x,a.y+e);this.xB.scale=[f,g];this.xB.viewport=a;return this.xB},Nn:function(){},apply:function(){return{scale:[1,1]}},Mn:function(){}});
(function(){var a=q.nh.extend({apply:function(a){this.GB(a,a.Kd.width,a.Kd.height)}}),c=q.nh.extend({apply:function(a,c){var d=a.Kd.width,e=a.Kd.height,f=q.tk.style,p=c.width,t=c.height,v=d/p,x=e/t,y,G;v<x?(y=d,G=t*v):(y=p*x,G=e);p=Math.round((d-y)/2);G=Math.round((e-G)/2);this.GB(a,d-2*p,e-2*G);f.marginLeft=p+"px";f.marginRight=p+"px";f.marginTop=G+"px";f.marginBottom=G+"px"}});a.extend({Nn:function(a){this._super(a);a.Zk=document.documentElement},apply:function(a){this._super(a);this.sG()}});c.extend({Nn:function(a){this._super(a);
a.Zk=document.documentElement},apply:function(a,c){this._super(a,c);this.sG()}});var d=q.nh.extend({apply:function(a){this.GB(a,q.canvas.width,q.canvas.height)}});q.nh.Vt=new a;q.nh.DN=new c;q.nh.G_=new d;var a=q.Ze.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height;return this.Xq(d,e,d,e,d/c.width,e/c.height)}}),c=q.Ze.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=c.width,p=c.height,t=d/f,v=e/p,x=0,y,G;t<v?(x=t,y=d,G=p*x):(x=v,y=f*x,G=e);return this.Xq(d,e,
y,G,x,x)}}),d=q.Ze.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=c.width,p=c.height,t=d/f,v=e/p,x,y,G;t<v?(x=v,y=f*x,G=e):(x=t,y=d,G=p*x);return this.Xq(d,e,y,G,x,x)}}),e=q.Ze.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=e/c.height;return this.Xq(d,e,d,e,f,f)},Mn:function(a){q.ea.g().fc=a.Xs()}}),f=q.Ze.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=d/c.width;return this.Xq(d,e,d,e,f,f)},Mn:function(a){q.ea.g().fc=a.Xs()}});q.Ze.Yy=
new a;q.Ze.SHOW_ALL=new c;q.Ze.lz=new d;q.Ze.Zy=new e;q.Ze.$y=new f})();q.ro=q.Pa.extend({sv:null,tv:null,ctor:function(a,c){this.$W(a);this.cX(c)},Nn:function(a){this.sv.Nn(a);this.tv.Nn(a)},apply:function(a,c){this.sv.apply(a,c);return this.tv.apply(a,c)},Mn:function(a){this.sv.Mn(a);this.tv.Mn(a)},$W:function(a){a instanceof q.nh&&(this.sv=a)},cX:function(a){a instanceof q.Ze&&(this.tv=a)}});q.Screen=q.Pa.extend({ns:!1,Tk:"",hB:null,iB:null,YB:"",A:function(){var a=["webkit","moz","o","ms","khtml"],c=document.body;if(c.requestFullScreen)this.ns=!0;else for(var d=0,e=a.length,f;d<e;d++)if(f=a[d],c[f+"RequestFullScreen"]){this.ns=!0;this.Tk=f;break}this.YB="ontouchstart"in window?"touchstart":"mousedown"},fullScreen:function(){var a=document;if(this.ns)switch(this.Tk){case "":return a.fullScreen;case "webkit":return a.webkitIsFullScreen;default:return a[this.Tk+"FullScreen"]}return!1},
HK:function(a,c){if(this.ns&&!this.fullScreen()){if(c){var d=this.Tk+"fullscreenchange";this.hB&&this.iB&&this.hB.removeEventListener(d,this.iB);this.hB=a;this.iB=c;a.addEventListener(d,c,!1)}return""===this.Tk?a.requestFullScreen():a[this.Tk+"RequestFullScreen"]()}},D3:function(){if(this.ns&&this.fullScreen())return""===this.Tk?document.body.cancelFullScreen():document.body[this.Tk+"CancelFullScreen"]()},IR:function(a,c){function d(){e.HK(a,c);a.removeEventListener(e.YB,d)}var e=this;this.HK(a,c);
a.addEventListener(this.YB,d)}});q.Screen.g=function(){if(!this.Ob){var a=new q.Screen;a.A();this.Ob=a}return this.Ob};q.UF={qi:q.Md(),Eh:q.Md(),pi:q.Md(),Si:q.Md(),Ti:q.Md(),Ri:q.Md(),dA:q.Md(),cj:q.Md(),ki:q.Md(),Ha:0,xa:0,A:function(a){this.Ha=a.width;this.xa=a.height;a=this.Ha;var c=this.xa;this.qi.T=c;this.Eh.I=a;this.Eh.T=c;this.pi.I=a/2;this.pi.T=c;this.Ti.I=a;this.Ri.I=a/2;this.dA.I=a/2;this.dA.T=c/2;this.cj.T=c/2;this.ki.I=a;this.ki.T=c/2},Ys:function(){return this.Ha},Vs:function(){return this.xa},Xca:function(){return this.qi},Yca:function(){return this.Eh},top:function(){return this.pi},q2:function(){return this.Si},
r2:function(){return this.Ti},bottom:function(){return this.Ri},F2:function(){return this.dA},left:function(){return this.cj},right:function(){return this.ki}};q.my=function(a){var c;if(a&&0!=a.length){var d=a.indexOf("{"),e=a.indexOf("}");-1==d||-1==e||d>e||(a=a.substr(d+1,e-d-1),0!=a.length&&(d=a.indexOf("}"),-1==a.indexOf("{")&&-1==d&&(c=a.split(","))))}return c};q.EF=function(a){var c=q.xd();if(a){var d=a.indexOf("{")+1,e=a.lastIndexOf("}",a.length);-1!=d&&-1!=e&&(a=a.substring(d,e),d=a.indexOf("}"),-1!=d&&(d=a.indexOf(",",d),-1!=d&&(c=q.my(a.substr(0,d)),a=q.my(a.substr(d+1,a.length-d)),c=q.rect(parseFloat(c[0]),parseFloat(c[1]),parseFloat(a[0]),parseFloat(a[1])))))}return c};
q.DF=function(a){var c=q.Lj();try{if(""==a)return c;var d=q.my(a),c=q.a(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};q.xz=function(a){var c=q.rm();try{if(""==a)return c;var d=q.my(a),c=q.size(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};q.eZ=function(a,c,d,e,f,g){this.P=a;this.o=c;this.Ma=d;this.d=e;this.jb=f;this.kb=g};q.T0=function(a,c,d,e,f,g){return{P:a,o:c,Ma:d,d:e,jb:f,kb:g}};q.hZ=function(a,c,d,e,f,g){return{P:a,o:c,Ma:d,d:e,jb:f,kb:g}};q.U0=function(a,c){return{x:c.P*a.x+c.Ma*a.y+c.jb,y:c.o*a.x+c.d*a.y+c.kb}};q.CF=function(a,c){return{x:c.P*a.x+c.Ma*a.y+c.jb,y:c.o*a.x+c.d*a.y+c.kb}};q.Qk=function(a,c,d){return{x:d.P*a+d.Ma*c+d.jb,y:d.o*a+d.d*c+d.kb}};
q.V0=function(a,c){return{width:c.P*a.width+c.Ma*a.height,height:c.o*a.width+c.d*a.height}};q.p0=function(a,c){return{width:c.P*a.width+c.Ma*a.height,height:c.o*a.width+c.d*a.height}};q.iZ=function(){return{P:1,o:0,Ma:0,d:1,jb:0,kb:0}};q.gZ=function(){return{P:1,o:0,Ma:0,d:1,jb:0,kb:0}};
q.Tf=function(a,c){var d=q.Rl(a),e=q.Ql(a),f=q.On(a),g=q.Pn(a),h=q.Qk(e,d,c),d=q.Qk(f,d,c),e=q.Qk(e,g,c),k=q.Qk(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);return q.rect(f,l,g-f,h-l)};
q.Oi=function(a,c){var d=q.Rl(a),e=q.Ql(a),f=q.On(a),g=q.Pn(a),h=q.Qk(e,d,c),d=q.Qk(f,d,c),e=q.Qk(e,g,c),k=q.Qk(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);a.x=f;a.y=l;a.width=g-f;a.height=h-l;return a};q.Gy=function(a,c,d){return{P:a.P,o:a.o,Ma:a.Ma,d:a.d,jb:a.jb+a.P*c+a.Ma*d,kb:a.kb+a.o*c+a.d*d}};q.jZ=function(a,c,d){return{P:a.P*c,o:a.o*c,Ma:a.Ma*d,d:a.d*d,jb:a.jb,kb:a.kb}};
q.xM=function(a){var c=Math.sin(1.57079633),d=Math.cos(1.57079633);return{P:a.P*d+a.Ma*c,o:a.o*d+a.d*c,Ma:a.Ma*d-a.P*c,d:a.d*d-a.o*c,jb:a.jb,kb:a.kb}};q.im=function(a,c){return{P:a.P*c.P+a.o*c.Ma,o:a.P*c.o+a.o*c.d,Ma:a.Ma*c.P+a.d*c.Ma,d:a.Ma*c.o+a.d*c.d,jb:a.jb*c.P+a.kb*c.Ma+c.jb,kb:a.jb*c.o+a.kb*c.d+c.kb}};q.fZ=function(a,c){return a.P===c.P&&a.o===c.o&&a.Ma===c.Ma&&a.d===c.d&&a.jb===c.jb&&a.kb===c.kb};
q.RE=function(a){var c=1/(a.P*a.d-a.o*a.Ma);return{P:c*a.d,o:-c*a.o,Ma:-c*a.Ma,d:c*a.P,jb:c*(a.Ma*a.kb-a.d*a.jb),kb:c*(a.o*a.jb-a.P*a.kb)}};q.sF=parseFloat("1.192092896e-07F");q.FD=function(a){return q.a(-a.x,-a.y)};q.dh=function(a,c){return q.a(a.x+c.x,a.y+c.y)};q.Ud=function(a,c){return q.a(a.x-c.x,a.y-c.y)};q.yj=function(a,c){return q.a(a.x*c,a.y*c)};q.ED=function(a,c){return q.yj(q.dh(a,c),.5)};q.kq=function(a,c){return a.x*c.x+a.y*c.y};q.M9=function(a,c){return a.x*c.y-a.y*c.x};q.Hx=function(a){return q.a(-a.y,a.x)};q.U9=function(a){return q.a(a.y,-a.x)};q.T9=function(a,c){return q.yj(c,q.kq(a,c)/q.kq(c,c))};
q.V9=function(a,c){return q.a(a.x*c.x-a.y*c.y,a.x*c.y+a.y*c.x)};q.a$=function(a,c){return q.a(a.x*c.x+a.y*c.y,a.y*c.x-a.x*c.y)};q.qK=function(a){return q.kq(a,a)};q.N9=function(a,c){return q.qK(q.Ud(a,c))};q.CD=function(a){return Math.sqrt(q.qK(a))};q.BD=function(a,c){return q.CD(q.Ud(a,c))};q.Th=function(a){return q.yj(a,1/q.CD(a))};q.O9=function(a){return q.a(Math.cos(a),Math.sin(a))};q.Z9=function(a){return Math.atan2(a.y,a.x)};q.Js=function(a,c,d){if(c>d){var e=c;c=d;d=e}return a<c?c:a<d?a:d};
q.pK=function(a){var c=q.a(0,0),d=q.a(1,1);return q.a(q.Js(a.x,c.x,d.x),q.Js(a.y,c.y,d.y))};q.qV=function(){var a=q.ea.g().fc;return q.a(a.width,a.height)};q.L9=function(a,c){return q.a(c(a.x),c(a.y))};q.rK=function(a,c,d){return q.dh(q.yj(a,1-d),q.yj(c,d))};q.P9=function(a,c,d){return a.x-d<=c.x&&c.x<=a.x+d&&a.y-d<=c.y&&c.y<=a.y+d?!0:!1};q.K9=function(a,c){return q.a(a.x*c.x,a.y*c.y)};q.J9=function(a,c){var d=q.Th(a),e=q.Th(c),d=Math.atan2(d.x*e.y-d.y*e.x,q.kq(d,e));return Math.abs(d)<q.sF?0:d};
q.I9=function(a,c){var d=Math.acos(q.kq(q.Th(a),q.Th(c)));return Math.abs(d)<q.sF?0:d};q.sV=function(a,c,d){a=q.Ud(a,c);var e=Math.cos(d);d=Math.sin(d);var f=a.x;a.x=f*e-a.y*d+c.x;a.y=f*d+a.y*e+c.y;return a};q.DD=function(a,c,d,e,f){if(a.x==c.x&&a.y==c.y||d.x==e.x&&d.y==e.y)return!1;var g=c.x-a.x;c=c.y-a.y;var h=e.x-d.x;e=e.y-d.y;var k=a.x-d.x;a=a.y-d.y;d=e*g-h*c;f.x=h*a-e*k;f.y=g*a-c*k;if(0==d)return 0==f.x||0==f.y?!0:!1;f.x/=d;f.y/=d;return!0};
q.X9=function(a,c,d,e){var f=q.a(0,0);return q.DD(a,c,d,e,f)&&0<=f.x&&1>=f.x&&0<=f.y&&1>=f.y?!0:!1};q.R9=function(a,c,d,e){var f=q.a(0,0);return q.DD(a,c,d,e,f)?(d=q.a(0,0),d.x=a.x+f.x*(c.x-a.x),d.y=a.y+f.x*(c.y-a.y),d):q.Lj()};q.W9=function(a,c){return null!=a&&null!=c?a.x==c.x&&a.y==c.y:!1};q.b$=function(a){a.x=0;a.y=0};q.Q9=function(a,c){a.x=c.x;a.y=c.y};q.rV=function(a,c){a.x*=c;a.y*=c};q.Y9=function(a,c){a.x-=c.x;a.y-=c.y};q.H9=function(a,c){a.x+=c.x;a.y+=c.y};
q.S9=function(a){q.rV(a,1/Math.sqrt(a.x*a.x+a.y*a.y))};q.qda=function(a,c,d,e,f){f+=e;if(!(1>=f)){c*=.5;for(var g,h=f-1,k=e;k<f;k++){g=2*k;var l=q.a(a[2*k],a[2*k+1]),m;if(0===k)m=q.Hx(q.Th(q.Ud(l,q.a(a[2*(k+1)],a[2*(k+1)+1]))));else if(k===h)m=q.Hx(q.Th(q.Ud(q.a(a[2*(k-1)],a[2*(k-1)+1]),l)));else{m=q.a(a[2*(k-1)],a[2*(k-1)+1]);var p=q.a(a[2*(k+1)],a[2*(k+1)+1]),t=q.Th(q.Ud(p,l)),v=q.Th(q.Ud(m,l)),x=Math.acos(q.kq(t,v));m=x<q.Jj(70)?q.Hx(q.Th(q.ED(t,v))):x<q.Jj(170)?q.Th(q.ED(t,v)):q.Hx(q.Th(q.Ud(p,m)))}m=q.yj(m,c);d[2*g]=l.x+m.x;d[2*g+1]=l.y+m.y;d[2*
(g+1)]=l.x-m.x;d[2*(g+1)+1]=l.y-m.y}for(k=0==e?0:e-1;k<h;k++)g=2*k,a=g+2,c=q.$u(d[2*g],d[2*g+1]),f=q.$u(d[2*(g+1)],d[2*(g+1)+1]),g=q.$u(d[2*a],d[2*a]),e=q.$u(d[2*(a+1)],d[2*(a+1)+1]),c=!q.PY(c.x,c.y,e.x,e.y,f.x,f.y,g.x,g.y),!c.et&&(0>c.value||1<c.value)&&(c.et=!0),c.et&&(d[2*a]=e.x,d[2*a+1]=e.y,d[2*(a+1)]=g.x,d[2*(a+1)+1]=g.y)}};
q.PY=function(a,c,d,e,f,g,h,k){if(a==d&&c==e||f==h&&g==k)return{et:!1,value:0};d-=a;e-=c;f-=a;g-=c;h-=a;k-=c;a=Math.sqrt(d*d+e*e);d/=a;e/=a;c=f*d+g*e;g=g*d-f*e;f=c;c=h*d+k*e;k=k*d-h*e;h=c;return g==k?{et:!1,value:0}:{et:!0,value:(h+(f-h)*k/(k-g))/a}};q.sZ=function(a,c){c[2]=c[3]=c[6]=c[7]=c[8]=c[9]=c[11]=c[14]=0;c[10]=c[15]=1;c[0]=a.P;c[4]=a.Ma;c[12]=a.jb;c[1]=a.o;c[5]=a.d;c[13]=a.kb};q.c_=function(a,c){c.P=a[0];c.Ma=a[4];c.jb=a[12];c.o=a[1];c.d=a[5];c.kb=a[13]};q.qF=-1;q.z_=null;q.A_=null;q.GW=1;
q.Node=q.Pa.extend({ob:0,Nw:0,Lg:0,li:0,va:1,Da:1,u:null,Ee:0,Fe:0,D:null,ya:!0,wm:null,Hd:null,Ca:null,ff:!1,ca:null,dk:!1,Dd:q.qF,IH:null,eC:null,pk:!0,Mv:!0,iG:!0,G1:null,ok:null,DG:null,De:!1,$c:null,Zf:0,rh:null,Mg:null,CG:!1,Rq:!1,gv:null,Wi:null,VA:!1,Sm:0,Zr:0,SA:function(){this.wm=q.Md();this.Hd=q.Md();this.Ca=q.Vm();this.u=q.Md();this.D=[];this.ok={P:1,o:0,Ma:0,d:1,jb:0,kb:0};var a=q.ea.g();this.rh=a.ig();this.Mg=a.Mf();this.CG=!0;this.gv={P:1,o:0,Ma:0,d:1,jb:0,kb:0};q.HM&&(this.Wi=new q.HM(this))},
A:function(){!1===this.CG&&this.SA();return!0},Cg:function(a,c){if(a&&0!==a.length){var d,e=a.length,f;d=q.Node.Uf;switch(c){case d.ah:for(d=0;d<e;d++)(f=a[d])&&f.ah();break;case d.le:for(d=0;d<e;d++)(f=a[d])&&f.le();break;case d.Hi:for(d=0;d<e;d++)(f=a[d])&&f.Hi();break;case d.hg:for(d=0;d<e;d++)(f=a[d])&&f.hg();break;case d.ug:for(d=0;d<e;d++)(f=a[d])&&f.ug();break;case d.Rh:for(d=0;d<e;d++)(f=a[d])&&f.Rh();break;case d.ne:for(d=0;d<e;d++)(f=a[d])&&f.ne();break;default:throw"Unknown callback function";
}}},fb:null,uQ:function(){this.Um();!1===this.pk&&(this.pk=this.Mv=!0)},vQ:function(){!1===this.pk&&(this.pk=this.Mv=!0)},D6:function(){return this.Ee},dy:function(a){this.Ee=a;this.fb()},E6:function(){return this.Fe},ey:function(a){this.Fe=a;this.fb()},u7:function(){return this.ob},qw:function(a){this.ob=a},eca:function(a){this.qw(a);this.ca&&this.ca.kt(this,a)},k7:function(){return this.Nw},CL:function(a){this.Nw=a},yT:function(){this.Lg!==this.li&&q.log("cc.Node.rotation(): RotationX != RotationY. Don't know which one to return");
return this.Lg},ay:function(a){this.Lg=this.li=a;this.Sm=.017453292519943295*this.Lg;this.Zr=.017453292519943295*this.li;this.fb()},s6:function(){return this.Lg},by:function(a){this.Lg=a;this.Sm=.017453292519943295*this.Lg;this.fb()},t6:function(){return this.li},cy:function(a){this.li=a;this.Zr=.017453292519943295*this.li;this.fb()},UC:function(){this.va!==this.Da&&q.log("cc.Node.getScale(): ScaleX != ScaleY. Don't know which one to return");return this.va},Ek:function(a,c){this.va=a;this.Da=c||
0===c?c:a;this.fb()},zT:function(){return this.va},pq:function(a){this.va=a;this.fb()},AT:function(){return this.Da},Wn:function(a){this.Da=a;this.fb()},l:function(a,c){var d=this.u;2==arguments.length?(d.I=a,d.T=c):1==arguments.length&&(d.I=a.x,d.T=a.y);this.fb()},d6:function(){return this.u},e6:function(){return this.u.I},Oa:function(a){this.u.I=a;this.fb()},f6:function(){return this.u.T},xc:function(a){this.u.T=a;this.fb()},t4:function(){return this.D.length},s4:function(){return this.D},PJ:function(){return this.ya},
B:function(a){this.ya=a;this.fb()},b4:function(){return this.wm},w:function(a,c){var d=this.wm;if(2===arguments.length){if(a===d.I&&c===d.T)return;d.I=a;d.T=c}else{if(a.x===d.I&&a.y===d.T)return;d.I=a.x;d.T=a.y}var e=this.Hd,f=this.Ca;e.I=f.Ha*d.I;e.T=f.xa*d.T;this.fb()},c4:function(){return this.Hd},c:function(){return this.Ca},N:function(a,c){var d=this.Ca;if(2===arguments.length){if(a===d.Ha&&c===d.xa)return;d.Ha=a;d.xa=c}else{if(a.width===d.Ha&&a.height===d.xa)return;d.Ha=a.width;d.xa=a.height}var e=
this.Hd,f=this.wm;e.I=d.Ha*f.I;e.T=d.xa*f.T;this.fb()},x8:function(){return this.ff},getParent:function(){return this.ca},st:function(a){this.ca=a},i8:function(){return this.dk},tj:function(a){a!=this.dk&&(this.dk=a,this.fb())},MT:function(){return this.Dd},yL:function(a){this.Dd=a},getUserData:function(){return this.IH},setUserData:function(a){this.IH=a},i7:function(){return this.eC},Zba:function(a){this.eC!=a&&(this.eC=a)},U5:function(){return this.Zf},oq:function(a){this.Zf=a},ig:function(){this.rh||
(this.rh=q.ea.g().ig());return this.rh},QW:function(a){this.rh!=a&&(this.yE(),this.rh=a)},Mf:function(){this.Mg||(this.Mg=q.ea.g().Mf());return this.Mg},RX:function(a){this.Mg!=a&&(this.Et(),this.Mg=a)},pb:function(){var a=q.rect(0,0,this.Ca.Ha,this.Ca.xa);return q.Oi(a,this.lg())},hg:function(){this.yE();this.Et();this.Cg(this.D,q.Node.Uf.hg)},description:function(){return"<cc.Node | Tag ="+this.Dd+">"},dT:function(a){var c=this.D;if(null!=c)for(var d=0;d<c.length;d++){var e=c[d];if(e&&e.Dd==a)return e}return null},
f:function(a,c,d){if(!a)throw"cc.Node.addChild(): child must be non-null";a===this?q.log("cc.Node.addChild(): An Node can't be added as a child of itself."):null!==a.ca?q.log("cc.Node.addChild(): child already added. It can't be added again"):(c=null!=c?c:a.ob,a.Dd=null!=d?d:a.Dd,this.pP(a,c),a.ca=this,this.ff&&(a.ah(),this.VA&&a.Hi()))},J:function(a){this.ca&&(null==a&&(a=!0),this.ca.removeChild(this,a))},mW:function(a){q.log("removeFromParentAndCleanup is deprecated. Use removeFromParent instead");
this.J(a)},removeChild:function(a,c){0!==this.D.length&&(null==c&&(c=!0),-1<this.D.indexOf(a)&&this.SO(a,c),this.fb())},K$:function(a,c){a===q.qF&&q.log("cc.Node.removeChildByTag(): argument tag is an invalid tag");var d=this.dT(a);null==d?q.log("cocos2d: removeChildByTag(tag = "+a+"): child not found!"):this.removeChild(d,c)},C$:function(a){q.log("removeAllChildrenWithCleanup is deprecated. Use removeAllChildren instead");this.bc(a)},bc:function(a){var c=this.D;if(null!=c){null==a&&(a=!0);for(var d=
0;d<c.length;d++){var e=c[d];e&&(this.ff&&(e.Rh(),e.le()),a&&e.hg(),e.st(null))}this.D.length=0}},SO:function(a,c){this.ff&&(a.Rh(),a.le());c&&a.hg();a.st(null);q.oe(this.D,a)},pP:function(a,c){this.De=!0;this.D.push(a);a.qw(c)},kt:function(a,c){if(!a)throw"cc.Node.reorderChild(): child must be non-null";this.De=!0;a.oq(q.GW++);a.qw(c);this.fb()},ne:function(){if(this.De){var a=this.D,c,d,e=a.length,f;for(c=0;c<e;c++){var g=a[c];d=c-1;for(f=a[d];0<=d&&(g.ob<f.ob||g.ob==f.ob&&g.Zf<f.Zf);)a[d+1]=f,
--d,f=a[d];a[d+1]=g}this.De=!1}},Za:function(){},ty:function(){null!=this.ca&&(this.ca.ty(),this.ca.transform())},ah:function(){this.VA=!1;this.ff=!0;this.Cg(this.D,q.Node.Uf.ah);this.Qx()},Hi:function(){this.VA=!0;this.Cg(this.D,q.Node.Uf.Hi)},Rh:function(){this.Cg(this.D,q.Node.Uf.Rh)},le:function(){this.ff=!1;this.Kx();this.Cg(this.D,q.Node.Uf.le);this.Wi&&this.Wi.hW()},Rx:function(a){if(!a)throw"cc.Node.runAction(): action must be non-null";this.ig().mR(a,this,!this.ff);return a},yE:function(){this.ig().DK(this)},
xY:function(a){this.ig().CK(a)},xca:function(a){a===q.fo?q.log("cc.Node.stopActionBy(): argument tag an invalid tag"):this.ig().gW(a,this)},MC:function(a){return a===q.fo?(q.log("cc.Node.getActionByTag(): argument tag is an invalid tag"),null):this.ig().MC(a,this)},H5:function(){return this.ig().gK(this)},y9:function(){return this.ig().gK(this)},JW:function(){this.KW(0)},KW:function(a){this.Mf().MK(this,a,!this.ff)},cda:function(){this.Mf().uq(this)},kc:function(a,c,d,e){c=c||0;if(!a)throw"cc.Node.schedule(): callback function must be non-null";
if(0>c)throw"cc.Node.schedule(): interval must be positive";d=null==d?q.qm:d;e=e||0;this.Mf().IW(this,a,c,d,e,!this.ff)},Xd:function(a,c){this.kc(a,0,0,c)},Nc:function(a){a&&this.Mf().dM(this,a)},Et:function(){this.Mf().cM(this)},Qx:function(){this.Mf().Rn(this);this.ig().Rn(this)},Kx:function(){this.Mf().jt(this);this.ig().jt(this)},laa:function(a){this.gv=a;this.Rq=this.pk=!0},e$:function(){this.Mv&&(this.DG=q.RE(this.lg()),this.Mv=!1);return this.DG},In:function(){for(var a=this.lg(),c=this.ca;null!=
c;c=c.getParent())a=q.im(a,c.lg());return a},RY:function(){return q.RE(this.In())},Ia:function(a){return q.CF(a,this.RY())},vl:function(a){return q.CF(a,this.In())},iS:function(a){return q.Ud(this.Ia(a),this.Hd)},V2:function(a){a=q.dh(a,this.Hd);return this.vl(a)},$0:function(a){a=this.vl(a);return q.ea.g().jS(a)},vi:function(a){return this.Ia(a.S)},W2:function(a){a=a.S;a=q.ea.g().hS(a);return this.iS(a)},update:function(a){this.Wi&&!this.Wi.e8()&&this.Wi.Ba(a)},ug:function(){this.Cg(this.D,q.Node.Uf.ug)},
JK:function(){},BK:function(){},eT:function(a){return this.Wi.eT(a)},N1:function(a){this.Wi.add(a)},L$:function(a){return this.Wi.remove(a)},D$:function(){this.Wi.hW()},vH:null,SB:null,OA:null,Io:null,al:null,ctor:null,bi:function(){this.SA()},ci:function(){this.SA();var a=new q.Oh;a.Ph[2]=a.Ph[3]=a.Ph[6]=a.Ph[7]=a.Ph[8]=a.Ph[9]=a.Ph[11]=a.Ph[14]=0;a.Ph[10]=a.Ph[15]=1;this.vH=a;this.OA=0;this.SB=new q.Oh},Ba:null,jn:function(a){if(this.ya){a=a||q.da;var c,d=this.D,e;a.save();this.transform(a);var f=
d.length;if(0<f){this.ne();for(c=0;c<f;c++)if(e=d[c],0>e.ob)e.Ba(a);else break;for(this.Za(a);c<f;c++)d[c].Ba(a)}else this.Za(a);this.Zf=0;a.restore()}},kn:function(){if(this.ya){var a=q.da,c,d=q.oS;d.stack.push(d.top);q.P8(this.SB,d.top);d.top=this.SB;var e=this.al;e&&e.kO&&e.sC();this.transform();var f=this.D;if(f&&0<f.length){var g=f.length;this.ne();for(c=0;c<g;c++)if(f[c]&&0>f[c].ob)f[c].Ba();else break;for(this.Za(a);c<g;c++)f[c]&&f[c].Ba()}else this.Za(a);this.Zf=0;e&&e.kO&&e.oC(this);d.top=
d.stack.pop()}},transform:null,VQ:function(a){a=a||q.da;var c=q.ra.g(),d=this.lg();a.transform(d.P,d.Ma,d.o,d.d,d.jb*c.va,-d.kb*c.Da)},WQ:function(){var a=this.vH,c=q.oS.top,d=this.lg(),e=a.Ph;e[0]=d.P;e[4]=d.Ma;e[12]=d.jb;e[1]=d.o;e[5]=d.d;e[13]=d.kb;e[14]=this.Nw;q.NU(c,c,a);null==this.Io||null!=this.al&&this.al.fq()||(a=this.Hd.I,c=this.Hd.T,0!==a||0!==c?(q.LU(q.zg(a),q.zg(c),0),this.Io.XJ(),q.LU(q.zg(-a),q.zg(-c),0)):this.Io.XJ())},lg:null,FP:function(){this.ok||(this.ok={P:1,o:0,Ma:0,d:1,jb:0,
kb:0});if(this.pk){var a=this.ok;a.jb=this.u.I;a.kb=this.u.T;var c=1,d=0;this.Lg&&(c=Math.cos(this.Sm),d=Math.sin(this.Sm));a.P=a.d=c;a.o=-d;a.Ma=d;var e=this.va,f=this.Da,g=this.Hd.I,h=this.Hd.T,k=1E-6>e&&-1E-6<e?1E-6:e,l=1E-6>f&&-1E-6<f?1E-6:f;if(this.Ee||this.Fe){var m=Math.tan(-this.Ee*Math.PI/180),p=Math.tan(-this.Fe*Math.PI/180),t=h*m*k,v=g*p*l;a.P=c+-d*p;a.o=c*m+-d;a.Ma=d+c*p;a.d=d*m+c;a.jb+=c*t+-d*v;a.kb+=d*t+c*v}if(1!==e||1!==f)a.P*=k,a.Ma*=k,a.o*=l,a.d*=l;a.jb+=c*-g*k+-d*h*l;a.kb-=d*-g*
k+c*h*l;this.dk&&(a.jb+=g,a.kb+=h);this.Rq&&(this.ok=q.im(this.ok,this.gv),this.Rq=!1);this.pk=!1}return this.ok},GP:function(){if(this.pk){var a=this.u.I,c=this.u.T,d=this.Hd.I,e=-d,f=this.Hd.T,g=-f,h=this.va,k=this.Da;this.dk&&(a+=d,c+=f);var l=1,m=0,p=1,t=0;if(0!==this.Lg||0!==this.li)l=Math.cos(-this.Sm),m=Math.sin(-this.Sm),p=Math.cos(-this.Zr),t=Math.sin(-this.Zr);var v=this.Ee||this.Fe;v||0===d&&0===f||(a+=p*e*h+-m*g*k,c+=t*e*h+l*g*k);a={P:p*h,o:t*h,Ma:-m*k,d:l*k,jb:a,kb:c};v&&(a=q.im({P:1,
o:Math.tan(q.Jj(this.Fe)),Ma:Math.tan(q.Jj(this.Ee)),d:1,jb:0,kb:0},a),0!==d||0!==f)&&(a=q.Gy(a,e,g));this.Rq&&(a=q.im(a,this.gv),this.Rq=!1);this.ok=a;this.pk=!1}return this.ok},Um:function(){this.iG=!0;this.ca&&this.ca.Um()},NC:function(){this.Io||(this.Io=new q.Bq);return this.Io},d5:function(){return this.al},Naa:function(a){this.al=a},WC:function(){return this.$c},ih:function(a){this.$c=a},c5:function(){return this.OA},Maa:function(a){this.OA=a},k4:function(){var a=q.rect(0,0,this.Ca.Ha,this.Ca.xa),
c=this.In(),a=q.Tf(a,this.In());if(!this.D)return a;for(var d=this.D,e=0;e<d.length;e++){var f=d[e];f&&f.ya&&(f=f.uG(c))&&(a=q.Nx(a,f))}return a},uG:function(a){var c=q.rect(0,0,this.Ca.Ha,this.Ca.xa);a=null==a?this.lg():q.im(this.lg(),a);c=q.Tf(c,a);if(!this.D)return c;for(var d=this.D,e=0;e<d.length;e++){var f=d[e];f&&f.ya&&(f=f.uG(a))&&(c=q.Nx(c,f))}return c}});
q.Ka.fd?(b=q.Node.prototype,b.ctor=q.Node.prototype.ci,b.fb=q.Node.prototype.vQ,b.Ba=q.Node.prototype.kn,b.transform=q.Node.prototype.WQ,b.lg=q.Node.prototype.GP):(b=q.Node.prototype,b.ctor=q.Node.prototype.bi,b.fb=q.Node.prototype.uQ,b.Ba=q.Node.prototype.jn,b.transform=q.Node.prototype.VQ,b.lg=q.Node.prototype.FP);q.Node.create=function(){return new q.Node};q.Node.Uf={ah:1,le:2,hg:3,Hi:4,ug:5,Rh:6,ne:7};
q.Kb=q.Node.extend({wb:!0,oc:255,Kg:255,Lc:null,Ce:null,Id:!1,ve:!1,ctor:function(){q.Node.prototype.ctor.call(this);this.Kg=this.oc=255;this.Lc=q.Db();this.Ce=q.Db();this.ve=this.Id=!1},rj:function(){return this.Kg},gT:function(){return this.oc},ta:function(a){this.oc=this.Kg=a;a=255;var c=this.ca;c&&c.wb&&c.ve&&(a=c.oc);this.vd(a)},vd:function(a){this.oc=this.Kg*a/255;if(this.ve){a=this.D;for(var c=0;c<a.length;c++){var d=a[c];d&&d.wb&&d.vd(this.oc)}}},BU:function(){return this.ve},UK:function(a){this.ve!==
a&&((this.ve=a)?this.tr():this.xA())},tr:function(){var a=255,c=this.ca;c&&c.wb&&c.ve&&(a=c.oc);this.vd(a)},xA:function(){this.oc=this.Kg;for(var a=this.D,c=0;c<a.length;c++){var d=a[c];d&&d.wb&&d.vd(255)}},Ed:function(){var a=this.Ce;return new q.Jc(a.t,a.p,a.o)},Us:function(){return this.Lc},q:function(a){var c=this.Lc,d=this.Ce;c.t=d.t=a.t;c.p=d.p=a.p;c.o=d.o=a.o;a=(a=this.ca)&&a.wb&&a.Id?a.Us():q.Db();this.ud(a)},ud:function(a){var c=this.Lc,d=this.Ce;c.t=0|d.t*a.t/255;c.p=0|d.p*a.p/255;c.o=0|
d.o*a.o/255;if(this.Id)for(a=this.D,d=0;d<a.length;d++){var e=a[d];e&&e.wb&&e.ud(c)}},AU:function(){return this.Id},TK:function(a){this.Id!==a&&((this.Id=a)?this.sr():this.wA())},sr:function(){var a;a=(a=this.ca)&&a.wb&&a.Id?a.Us():q.Db();this.ud(a)},wA:function(){var a=this.Lc,c=this.Ce;a.t=c.t;a.p=c.p;a.o=c.o;for(var a=this.D,c=q.Db(),d=0;d<a.length;d++){var e=a[d];e&&e.wb&&e.ud(c)}},f:function(a,c,d){q.Node.prototype.f.call(this,a,c,d);this.Id&&this.sr();this.ve&&this.tr()},Pf:function(){},Fl:function(){return!1}});
q.Kb.create=function(){var a=new q.Kb;a.A();return a};q.pe=q.Kb.extend({wb:!0,JG:0,IG:0,Ov:0,Nv:0,Uj:null,Ua:null,Fc:!1,pa:null,Wr:0,PA:!1,ctor:function(){q.Kb.prototype.ctor.call(this);this.Uj=q.Db();this.pa={src:q.Xe,Tb:q.We};this.PA=!1},eda:function(){q.log("cc.AtlasNode.updateAtlasValues(): Shall be overridden in subclasses")},Ed:function(){return this.Fc?this.Uj:q.Kb.prototype.Ed.call(this)},Pf:function(a){var c=this.Ed();this.Fc=a;this.q(c)},Fl:function(){return this.Fc},Ts:function(){return this.pa},Ul:function(a,c){this.pa=1==arguments.length?
a:{src:a,Tb:c}},rq:function(a){this.Ua=a},fJ:function(){return this.Ua},l6:function(){return this.Wr},vba:function(a){this.Wr=a},an:null,$f:null,yH:null,qv:null,pU:function(a,c,d,e){if(!a)throw"cc.AtlasNode.initWithTileFile(): title should not be null";a=q.fa.g().ka(a);return this.Sa(a,c,d,e)},Sa:null,Hr:function(a,c,d,e){this.Ov=c;this.Nv=d;this.Fc=!0;this.$f=a;if(!this.$f)return q.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.an=this.$f;this.mv();this.Wr=e;return!0},
Ir:function(a,c,d,e){this.Ov=c;this.Nv=d;this.Uj=q.Db();this.Fc=!0;this.pa.src=q.Xe;this.pa.Tb=q.We;c=this.Ce;this.qv=new Float32Array([c.t/255,c.p/255,c.o/255,this.Kg/255]);this.Ua=new q.vo;this.Ua.Sa(a,e);if(!this.Ua)return q.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.hn();this.FH();this.mv();this.Wr=e;this.ih(q.ai.g().Ii(q.j0));this.yH=q.da.getUniformLocation(this.WC().lx(),"u_color");return!0},Za:null,Fg:function(a){a=a||q.da;q.kz(this);q.xk(this.pa.src,this.pa.Tb);
a.uniform4fv(this.yH,this.qv);this.Ua.zI(this.Wr,0)},q:null,as:function(a){var c=this.Ce;if(c.t!=a.t||c.p!=a.p||c.o!=a.o){c=new q.Jc(a.t,a.p,a.o);this.Uj=a;if(this.Fc){var d=this.oc;c.t=c.t*d/255;c.p=c.p*d/255;c.o=c.o*d/255}q.Kb.prototype.q.call(this,a);this.ia()&&(a=this.$f.Ec)&&(c=q.fa.g().gJ(a))&&(d=q.rect(0,0,a.width,a.height),a=q.LC(a,c,this.Ce,d),c=new q.qc,c.sf(a),c.je(),this.la(c))}},BB:function(a){var c=q.Jc(a.t,a.p,a.o);this.Uj=a;var d=this.oc;this.Fc&&(c.t=c.t*d/255,c.p=c.p*d/255,c.o=c.o*
d/255);q.Kb.prototype.q.call(this,a);a=this.Lc;this.qv=new Float32Array([a.t/255,a.p/255,a.o/255,d/255])},ta:null,cs:function(a){q.Kb.prototype.ta.call(this,a);this.Fc&&this.q(this.Uj)},DB:function(a){q.Kb.prototype.ta.call(this,a);this.Fc?this.q(this.Uj):(a=this.Lc,this.qv=new Float32Array([a.t/255,a.p/255,a.o/255,this.oc/255]))},ia:null,KA:function(){return this.an},MA:function(){return this.Ua.ia()},la:null,ds:function(a){this.an=a},es:function(a){this.Ua.la(a);this.hn();this.FH()},mv:null,AO:function(){var a=
this.ia().c();this.IG=0|a.height/this.Nv;this.JG=0|a.width/this.Ov},BO:function(){var a=this.ia(),c=a.c();this.PA&&(c=a.Ca);this.IG=0|c.height/this.Nv;this.JG=0|c.width/this.Ov},hn:function(){this.Ua.ia().at()||(this.pa.src=770,this.pa.Tb=771)},FH:function(){this.Fc=this.Ua.ia().at()},CB:function(a){this.PA=a}});
q.Ka.fd?(b=q.pe.prototype,b.Sa=q.pe.prototype.Ir,b.Za=q.pe.prototype.Fg,b.q=q.pe.prototype.BB,b.ta=q.pe.prototype.DB,b.ia=q.pe.prototype.MA,b.la=q.pe.prototype.es,b.mv=q.pe.prototype.BO):(b=q.pe.prototype,b.Sa=q.pe.prototype.Hr,b.Za=q.Node.prototype.Za,b.q=q.pe.prototype.as,b.ta=q.pe.prototype.cs,b.ia=q.pe.prototype.KA,b.la=q.pe.prototype.ds,b.mv=q.pe.prototype.AO);q.pe.create=function(a,c,d,e){var f=new q.pe;return f.pU(a,c,d,e)?f:null};q.Oj=0;q.Lq=1;q.Kq=2;q.Jq=3;q.Az=4;q.zz=5;q.Nu=6;q.Mu=7;q.NF=8;q.MF=9;q.LF=q.Oj;q.pA=q.LF;q.FN=!1;q.F1=function(a,c,d,e){this.UU=a||0;this.SU=c||0;this.tM=d||0;this.uM=e||0};
q.VN=q.Pa.extend({JP:null,ag:null,Ah:null,zh:null,ZA:null,Ca:null,vh:null,wh:null,$o:null,Gm:!1,$c:null,Pc:!1,Ec:null,ui:null,fe:null,ctor:function(){this.zh=this.Ah=0;this.ZA="";this.wh=this.vh=0;this.$o=!1;this.Ca=q.Vm();this.Gm=!1;this.JP=!0;this.ag=q.qc.pS();this.$c=null;this.Pc=!1;this.ui=this.Ec=null;this.fe=[]},PD:function(){this.ui&&q.da.deleteTexture(this.ui)},Z5:function(){return this.ag},Xp:function(){return this.Ah},Wp:function(){return this.zh},getName:function(){return this.ui},c:function(){return q.size(this.Ca.width/
q.gd(),this.Ca.height/q.gd())},fT:function(){return this.Ca},lT:function(){return this.vh},tX:function(a){this.vh=a},mT:function(){return this.wh},uX:function(a){this.wh=a},WC:function(){return this.$c},ih:function(a){this.$c=a},at:function(){return this.$o},eU:function(){return this.Gm},description:function(){return"<cc.Texture2D | Name = "+this.ZA+" | Dimensions = "+this.Ah+" x "+this.zh+" | Coordinates = ("+this.vh+", "+this.wh+")>"},eW:function(){},JU:function(a){return a},qx:function(a,c,d,e,
f){var g=q.da,h=0,h=c===q.Oj?24:this.fI(c),h=d*h/8;0===h%8?g.pixelStorei(g.UNPACK_ALIGNMENT,8):0===h%4?g.pixelStorei(g.UNPACK_ALIGNMENT,4):0===h%2?g.pixelStorei(g.UNPACK_ALIGNMENT,2):g.pixelStorei(g.UNPACK_ALIGNMENT,1);this.ui=g.createTexture();q.Sg(this);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE);
switch(c){case q.Oj:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_BYTE,a);break;case q.Lq:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_BYTE,a);break;case q.Nu:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_4_4_4_4,a);break;case q.Mu:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_5_5_5_1,a);break;case q.Kq:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_SHORT_5_6_5,a);break;case q.zz:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE_ALPHA,
d,e,0,g.LUMINANCE_ALPHA,g.UNSIGNED_BYTE,a);break;case q.Jq:g.texImage2D(g.TEXTURE_2D,0,g.ALPHA,d,e,0,g.ALPHA,g.UNSIGNED_BYTE,a);break;case q.Az:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE,d,e,0,g.LUMINANCE,g.UNSIGNED_BYTE,a);break;default:throw"NSInternalInconsistencyException";}this.Ca.Ha=f.width;this.Ca.xa=f.height;this.Ah=d;this.zh=e;this.ag=c;this.vh=f.width/d;this.wh=f.height/e;this.Gm=this.$o=!1;this.ih(q.ai.g().Ii(q.KN));return this.Pc=!0},JS:function(a){var c=[0,this.wh,this.vh,this.wh,0,0,this.vh,
0],d=this.Ah*this.vh,e=this.zh*this.wh;a=[a.x,a.y,0,d+a.x,a.y,0,a.x,e+a.y,0,d+a.x,e+a.y,0];q.Me(q.qh|q.dO);this.$c.yf();this.$c.BL();q.Sg(this);d=q.da;d.vertexAttribPointer(q.$e,2,d.FLOAT,!1,0,a);d.vertexAttribPointer(q.Pq,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},LS:function(a){var c=[0,this.wh,this.vh,this.wh,0,0,this.vh,0];a=[a.x,a.y,a.x+a.width,a.y,a.x,a.y+a.height,a.x+a.width,a.y+a.height];q.Me(q.qh|q.dO);this.$c.yf();this.$c.BL();q.Sg(this);var d=q.da;d.vertexAttribPointer(q.$e,
2,d.FLOAT,!1,0,a);d.vertexAttribPointer(q.Pq,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},iD:function(a){if(null==a)return q.log("cocos2d: cc.Texture2D. Can't create Texture. UIImage is nil"),!1;var c=a.Ys(),d=a.Vs(),e=q.Ye.g().Qr;if(c>e||d>e)return q.log("cocos2d: WARNING: Image ("+c+" x "+d+") is bigger than the supported "+e+" x "+e),!1;this.Pc=!0;return this.gP(a,c,d)},sf:function(a){a&&(this.ui=q.da.createTexture(),this.Ec=a)},iT:function(){return this.Ec},Wg:function(){return this.Pc},
je:function(){this.Pc=!0;var a=q.da;q.Sg(this);a.pixelStorei(a.UNPACK_ALIGNMENT,4);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,this.Ec);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);this.ih(q.ai.g().Ii(q.KN));q.Sg(null);a=this.Ec.height;this.Ah=this.Ca.Ha=this.Ec.width;this.zh=this.Ca.xa=
a;this.ag=q.Oj;this.wh=this.vh=1;this.Gm=this.$o=!1;this.ue()},El:function(a,c,d,e,f,g){3==arguments.length&&(c=arguments[1],d=arguments[2],e=q.size(0,0),f=q.Pj,g=q.Zu);var h=new q.Image,k;if(q.Zu===g)k=q.Pj===f?q.$Y:q.Mq===f?q.aZ:q.bZ;else if(q.Yu===g)k=q.Pj===f?q.XY:q.Mq===f?q.YY:q.ZY;else if(q.Xu===g)k=q.Pj===f?q.UY:q.Mq===f?q.VY:q.WY;else return q.log("Not supported alignment format!"),!1;return h.El(a,e.width,e.height,k,c,d)?this.iD(h):!1},jU:function(){return!1},xJ:function(a){var c=!1,d=new q.C0;
(c=d.J7(a))?(d.Bba(!0),this.ZA=d.getName(),this.wh=this.vh=1,this.Ah=d.Ys(),this.zh=d.Vs(),this.Ca.Ha=this.Ah,this.Ca.xa=this.zh,this.$o=q.FN,this.ag=d.a5(),this.PK()):q.log("cocos2d: Couldn't load PVR image "+a);return c},nU:function(){return q.Ye.g().ps?!0:(q.log("cocos2d: WARNING: PVRTC images is not supported."),!1)},XX:function(a){var c=q.da;q.Mt(this.Ah==q.oo(this.Ah)&&this.zh==q.oo(this.zh)||a.tM==c.CLAMP_TO_EDGE&&a.uM==c.CLAMP_TO_EDGE,"WebGLRenderingContext.CLAMP_TO_EDGE should be used in NPOT textures");
q.Sg(this);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,a.UU);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,a.SU);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,a.tM);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,a.uM)},PK:function(){var a=q.da;q.Sg(this);this.Gm?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},OK:function(){var a=q.da;q.Sg(this);
this.Gm?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},generateMipmap:function(){q.Mt(this.Ah==q.oo(this.Ah)&&this.zh==q.oo(this.zh),"Mimpap texture only works in POT textures");q.Sg(this);q.da.generateMipmap(q.da.TEXTURE_2D);this.Gm=!0},yY:function(){switch(this.ag){case q.Oj:return"RGBA8888";case q.Lq:return"RGB888";case q.Kq:return"RGB565";case q.Nu:return"RGBA4444";
case q.Mu:return"RGB5A1";case q.zz:return"AI88";case q.Jq:return"A8";case q.Az:return"I8";case q.NF:return"PVRTC4";case q.MF:return"PVRTC2";default:q.log("stringForFormat: "+this.ag+", cannot give useful result, it's a unrecognized pixel format")}return""},fI:function(a){a=a||this.ag;switch(a){case q.Oj:return 32;case q.Lq:return 32;case q.Kq:return 16;case q.Jq:return 8;case q.Nu:return 16;case q.Mu:return 16;case q.NF:return 4;case q.MF:return 2;case q.Az:return 8;case q.zz:return 16;default:return q.log("bitsPerPixelForFormat: "+
this.ag+", cannot give useful result, it's a illegal pixel format"),-1}},gP:function(a,c,d){var e=a.getData(),f=null,f=null,g=a.A7(),h=q.size(a.Ys(),a.Vs()),k=q.LF,l=a.i4();g||(8<=l?k=q.Lq:(q.log("cocos2d: cc.Texture2D: Using RGB565 texture since image has no alpha"),k=q.Kq));var m=c*d;if(k==q.Kq)if(g)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>2<<5|(f[l]>>16&255)>>3<<0;else for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]&255)>>3<<
11|(f[l]&255)>>2<<5|(f[l]&255)>>3<<0;else if(k==q.Nu)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>4<<12|(f[l]>>8&255)>>4<<8|(f[l]>>16&255)>>4<<4|(f[l]>>24&255)>>4<<0;else if(k==q.Mu)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>3<<6|(f[l]>>16&255)>>3<<1|(f[l]>>24&255)>>7<<0;else if(k==q.Jq)for(e=new Uint8Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=f>>24&255;if(g&&k==q.Lq)for(f=a.getData(),e=new Uint8Array(c*d*3),l=0;l<m;++l)e[3*
l]=f>>0&255,e[3*l+1]=f>>8&255,e[3*l+2]=f>>16&255;this.qx(e,k,c,d,h);a.getData();this.$o=a.s8();return!0},gg:function(a,c){this.fe.push({eventCallback:a,yi:c})},nW:function(a){for(var c=this.fe,d=0;d<c.length;d++)c[d].yi==a&&c.splice(d,1)},ue:function(){for(var a=this.fe,c=0,d=a.length;c<d;c++){var e=a[c];e.eventCallback.call(e.yi,this)}a.length=0}});
q.UN=q.Pa.extend({Ca:null,Pc:!1,Ec:null,fe:null,ctor:function(){this.Ca=q.Vm();this.Pc=!1;this.Ec=null;this.fe=[]},Xp:function(){return this.Ca.Ha},Wp:function(){return this.Ca.xa},c:function(){var a=q.gd();return q.size(this.Ca.Ha/a,this.Ca.xa/a)},fT:function(){return this.Ca},sf:function(a){a&&(this.Ec=a)},iT:function(){return this.Ec},Wg:function(){return this.Pc},je:function(){this.Pc=!0;var a=this.Ec;this.Ca.Ha=a.width;this.Ca.xa=a.height;this.ue()},description:function(){return"<cc.Texture2D | width = "+
this.Ca.Ha+" height "+this.Ca.xa+">"},qx:function(){return!1},iD:function(){return!1},El:function(){return!1},PD:function(){},getName:function(){return null},lT:function(){return 1},tX:function(){},mT:function(){return 1},uX:function(){},WC:function(){return null},ih:function(){},at:function(){return!1},eU:function(){return!1},eW:function(){},JU:function(a){return a},JS:function(){},LS:function(){},jU:function(){return!1},xJ:function(){return!1},nU:function(){return!0},XX:function(){},PK:function(){},
OK:function(){},generateMipmap:function(){},yY:function(){return""},fI:function(){return-1},gg:function(a,c){this.fe.push({eventCallback:a,yi:c})},nW:function(a){for(var c=this.fe,d=0;d<c.length;d++)c[d].yi==a&&c.splice(d,1)},ue:function(){for(var a=this.fe,c=0,d=a.length;c<d;c++){var e=a[c];e.eventCallback.call(e.yi,this)}a.length=0}});q.qc=q.Ka.fd?q.VN:q.UN;q.qc.yaa=function(a){q.pA=a};q.qc.pS=function(){return q.pA};q.qc.G4=function(){return q.pA};q.Ss=null;q.b9=function(a){if(q.eS(a)==q.VM)q.log("unsupported format:"+a);else{var c=new Image;c.src=a;c.addEventListener("load",function(){q.fa.g().LR(a,c);this.removeEventListener("load",arguments.callee,!1)},!1)}};q.eS=function(a){return 0<a.toLowerCase().indexOf(".jpg")||0<a.toLowerCase().indexOf(".jpeg")?q.YZ:0<a.toLowerCase().indexOf(".png")?q.ZZ:0<a.toLowerCase().indexOf(".webp")?q.a_:q.VM};
q.fa=q.Pa.extend({ab:null,qs:null,Aw:null,YG:!1,Sv:null,Tv:null,ctor:function(){if(q.Ss)throw"Attempted to allocate a second instance of a singleton.";this.Aw+=0|1E3*Math.random();this.ab={};this.qs={};q.Wd===q.Ok&&(this.Sv={},this.Tv={})},Tz:function(a,c){if(a&&"string"===typeof c)a[c]();else a&&"function"===typeof c&&c.call(a)},oP:function(){this.YG=!0;var a,c=this.Sv,d=this.ab;for(a in c){var e=c[a],f=new q.qc;f.sf(e);f.je();d[a]=f}this.Sv={}},T1:function(){q.log("TextureCache:addPVRTCImage does not support on HTML5")},
O1:function(){q.log("TextureCache:addPVRTCImage does not support on HTML5")},description:function(){return"<TextureCache | Number of textures = "+this.ab.length+">"},py:function(a,c){var d=c?a:q.$d.g().Ke(a);return this.ab.hasOwnProperty(d)?this.ab[d]:null},kT:function(a){for(var c in this.ab)if(this.ab[c]==a)return c;return null},YO:function(){this.Aw++;return"_textureKey_"+this.Aw},gJ:function(a){var c=this.kT(a);c||(c=a instanceof HTMLImageElement?a.src:this.YO());this.qs.hasOwnProperty(c)||(this.qs[c]=
q.Qp(a));return this.qs[c]},S1:function(a){if(!a)throw"cc.TextureCache.addPVRImage(): path should be non-null";a=q.$d.g().Ke(a);if(null!=this.ab[a])return this.ab[a];var c=new q.qc;c.xJ(a)?this.ab[a]=c:q.log("cocos2d: Couldn't add PVRImage:"+a+" in TextureCache");return c},G$:function(){var a=this.ab,c;for(c in a)a[c]&&a[c].PD();this.ab={}},U$:function(a){if(a){var c=this.ab,d;for(d in c)c[d]==a&&(c[d].PD(),delete c[d])}},rW:function(a){null!=a&&(a=q.$d.g().Ke(a),this.ab[a]&&delete this.ab[a])},P1:function(a,
c,d){if(!a)throw"cc.TextureCache.addImageAsync(): path should be non-null";a=q.$d.g().Ke(a);var e=this.ab[a],f,g;if(e)e.Wg()?this.Tz(c,d):(g=this,f=e.Ec,f.addEventListener("load",function(){e.je();g.Tz(c,d);this.removeEventListener("load",arguments.callee,!1)}));else{f=new Image;f.crossOrigin="Anonymous";g=this;f.addEventListener("load",function(){g.ab.hasOwnProperty(a)&&g.ab[a].je();g.Tz(c,d);this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});
f.addEventListener("error",function(){q.Wb.g().Nl(a);g.ab.hasOwnProperty(a)&&delete g.ab[a];this.removeEventListener("error",arguments.callee,!1)});f.src=a;var h=new q.qc;h.sf(f);this.ab[a]=h}return this.ab[a]},mO:function(a){var c=new Image;c.crossOrigin="Anonymous";var d=this;c.addEventListener("load",function(){q.Wb.g().ng();d.Sv[a]=c;delete d.Tv[a];this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});c.addEventListener("error",function(){q.Wb.g().Nl(a);
delete d.Tv[a];this.removeEventListener("error",arguments.callee,!1)});c.src=a;this.Tv[a]=c},ka:function(a,c){if(!a)throw"cc.Texture.addImage(): path should be non-null";if(q.Wd===q.Ok&&!this.YG)return this.mO(a);c||(a=q.$d.g().Ke(a));var d=this.ab[a],e;if(d)d.Wg()?q.Wb.g().ng():(e=d.Ec,e.addEventListener("load",function(){d.je();q.Wb.g().ng();this.removeEventListener("load",arguments.callee,!1)}));else{e=new Image;e.crossOrigin="Anonymous";var f=this;e.addEventListener("load",function(){q.Wb.g().ng();
f.ab.hasOwnProperty(a)&&f.ab[a].je();this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});e.addEventListener("error",function(){q.Wb.g().Nl(a);f.ab.hasOwnProperty(a)&&delete f.ab[a];this.removeEventListener("error",arguments.callee,!1)});e.src=a;var g=new q.qc;g.sf(e);this.ab[a]=g}return this.ab[a]},Q1:function(a,c,d){if(!a)throw"cc.Texture.addImageFromBase64(): data should be non-null";var e=this,f=new Image;f.src="data:image/"+d+";base64,"+
a;f.addEventListener("load",function(){q.Wb.g().ng();e.ab.hasOwnProperty(c)&&e.ab[c].je();this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});f.addEventListener("error",function(){q.Wb.g().Nl(c);e.ab.hasOwnProperty(c)&&delete e.ab[c];this.removeEventListener("error",arguments.callee,!1)});a=new q.qc;a.sf(f);this.ab[c]=a;return this.ab[c]},LR:function(a,c){if(c instanceof q.qc)this.ab[a]=c;else{var d=new q.qc;d.sf(c);d.je();this.ab[a]=d;q.log(a);
q.log(this.ab[a])}},Y1:function(a,c){if(!a)throw"cc.Texture.addUIImage(): image should be non-null";if(c&&this.ab.hasOwnProperty(c)&&this.ab[c])return this.ab[c];var d=new q.qc;d.iD(a);null!=c&&null!=d?this.ab[c]=d:q.log("cocos2d: Couldn't add UIImage in TextureCache");return d},r3:function(){var a=0,c=0,d=this.ab,e;for(e in d){var f=d[e];a++;f.Ec instanceof HTMLImageElement?q.log("cocos2d: '"+e+"' id="+f.Ec.src+" "+f.Xp()+" x "+f.Wp()):q.log("cocos2d: '"+e+"' id= HTMLCanvasElement "+f.Xp()+" x "+
f.Wp());c+=f.Xp()*f.Wp()*4}d=this.qs;for(e in d){var f=d[e],g;for(g in f){var h=f[g];a++;q.log("cocos2d: '"+e+"' id= HTMLCanvasElement "+h.width+" x "+h.height);c+=h.width*h.height*4}}q.log("cocos2d: TextureCache dumpDebugInfo: "+a+" textures, HTMLCanvasElement for "+c/1024+" KB ("+(c/1048576).toFixed(2)+" MB)")}});q.fa.g=function(){q.Ss||(q.Ss=new q.fa);return q.Ss};q.fa.QV=function(){q.Ss=null};q.vo=q.Pa.extend({Ld:null,Ui:null,Qa:!1,yd:0,Ga:null,cf:null,Ig:null,Xr:null,Jg:null,ctor:function(){this.Ui=[]},a7:function(){return this.bb},q4:function(){return this.yd},ia:function(){return this.Ga},la:function(a){this.Ga=a},gh:function(a){this.Qa=a},HJ:function(){return this.Qa},k6:function(){return this.cf},uba:function(a){this.cf=a},a1:function(a,c){if(a)for(var d=0;d<a.length;d++)this.pw(a[d],c+d)},pw:function(a,c){var d=this.cf;d[c]?(d[c].Ra=a.Ra,d[c].cb=a.cb,d[c].$a=a.$a,d[c].Ta=a.Ta):d[c]=
new q.yc(a.$a,a.Ra,a.Ta,a.cb,this.Ig,c*q.yc.BYTES_PER_ELEMENT)},description:function(){return"<cc.TextureAtlas | totalQuads ="+this.bb+">"},kH:function(){if(0!==this.yd)for(var a=this.Ld,c=this.yd,d=0;d<c;d++)q.OF?(a[6*d+0]=4*d+0,a[6*d+1]=4*d+0,a[6*d+2]=4*d+2,a[6*d+3]=4*d+1,a[6*d+4]=4*d+3,a[6*d+5]=4*d+3):(a[6*d+0]=4*d+0,a[6*d+1]=4*d+1,a[6*d+2]=4*d+2,a[6*d+3]=4*d+3,a[6*d+4]=4*d+2,a[6*d+5]=4*d+1)},KQ:function(){var a=q.da;this.Ui[0]=a.createBuffer();this.Ui[1]=a.createBuffer();this.Xr=a.createBuffer();
this.LG()},LG:function(){var a=q.da;a.bindBuffer(a.ARRAY_BUFFER,this.Xr);a.bufferData(a.ARRAY_BUFFER,this.Ig,a.DYNAMIC_DRAW);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Ui[1]);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.Ld,a.STATIC_DRAW)},uj:function(a,c){var d=q.fa.g().ka(a);if(d)return this.Sa(d,c);q.log("cocos2d: Could not open file: "+a);return!1},Sa:function(a,c){if(!a)throw"cc.TextureAtlas.initWithTexture():texture should be non-null";this.yd=c|=0;this.bb=0;this.Ga=a;this.cf=[];this.Ld=new Uint16Array(6*
c);var d=q.yc.BYTES_PER_ELEMENT;this.Ig=new ArrayBuffer(d*c);this.Jg=new Uint8Array(this.Ig);if((!this.cf||!this.Ld)&&0<c)return!1;for(var e=this.cf,f=0;f<c;f++)e[f]=new q.yc(null,null,null,null,this.Ig,f*d);this.kH();this.KQ();return this.Qa=!0},wy:function(a,c){if(!a)throw"cc.TextureAtlas.updateQuad(): quad should be non-null";if(0>c||c>=this.yd)throw"cc.TextureAtlas.updateQuad(): Invalid index";this.bb=Math.max(c+1,this.bb);this.pw(a,c);this.Qa=!0},oD:function(a,c){if(c>=this.yd)throw"cc.TextureAtlas.insertQuad(): Invalid index";
this.bb++;if(this.bb>this.yd)q.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");else{var d=q.yc.BYTES_PER_ELEMENT,e=c*d,f=(this.bb-1-c)*d;this.cf[this.bb-1]=new q.yc(null,null,null,null,this.Ig,(this.bb-1)*d);this.Jg.set(this.Jg.subarray(e,e+f),e+d);this.pw(a,c);this.Qa=!0}},P7:function(a,c,d){d=d||a.length;if(c+d>this.yd)throw"cc.TextureAtlas.insertQuad(): Invalid index + amount";var e=q.yc.BYTES_PER_ELEMENT;this.bb+=d;if(this.bb>this.yd)q.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");
else{var f=c*e,g=(this.bb-1-c-d)*e,h=this.bb-1-d,k;for(k=0;k<d;k++)this.cf[h+k]=new q.yc(null,null,null,null,this.Ig,(this.bb-1)*e);this.Jg.set(this.Jg.subarray(f,f+g),f+e*d);for(k=0;k<d;k++)this.pw(a[k],c+k);this.Qa=!0}},O7:function(a,c){if(a!==c){if(0>c&&c>=this.bb)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid newIndex";if(0>a&&a>=this.bb)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid fromIndex";var d=q.yc.BYTES_PER_ELEMENT,e=this.Jg,f=e.subarray(a*d,d),g;a>c?(g=c*d,e.set(e.subarray(g,
g+(a-c)*d),g+d),e.set(f,g)):(g=(a+1)*d,e.set(e.subarray(g,g+(c-a)*d),g-d),e.set(f,c*d));this.Qa=!0}},pW:function(a){if(a>=this.bb)throw"cc.TextureAtlas.removeQuadAtIndex(): Invalid index";var c=q.yc.BYTES_PER_ELEMENT;this.bb--;this.cf.length=this.bb;if(a!==this.bb){var d=(a+1)*c;this.Jg.set(this.Jg.subarray(d,d+(this.bb-a)*c),d-c)}this.Qa=!0},N$:function(a,c){if(a+c>this.bb)throw"cc.TextureAtlas.removeQuadsAtIndex(): index + amount out of bounds";this.bb-=c;if(a!==this.bb){var d=q.yc.BYTES_PER_ELEMENT,
e=(a+c)*d;this.Jg.set(this.Jg.subarray(e,e+(this.bb-a)*d),a*d)}this.Qa=!0},jW:function(){this.bb=this.cf.length=0},A1:function(a){this.Qa=a},wW:function(a){if(a==this.yd)return!0;var c=q.yc.BYTES_PER_ELEMENT,d=this.yd;this.bb=Math.min(this.bb,a);var e=this.yd=0|a,f=this.bb;if(null==this.cf)for(this.cf=[],this.Ig=new ArrayBuffer(c*e),this.Jg=new Uint8Array(this.Ig),a=0;a<e;a++)this.cf=new q.yc(null,null,null,null,this.Ig,a*c);else{var g,h,k=this.cf;if(e>d){g=[];h=new ArrayBuffer(c*e);for(a=0;a<f;a++)g[a]=
new q.yc(k[a].$a,k[a].Ra,k[a].Ta,k[a].cb,h,a*c);for(;a<e;a++)g[a]=new q.yc(null,null,null,null,h,a*c)}else for(f=Math.max(f,e),g=[],h=new ArrayBuffer(c*e),a=0;a<f;a++)g[a]=new q.yc(k[a].$a,k[a].Ra,k[a].Ta,k[a].cb,h,a*c);this.Jg=new Uint8Array(h);this.cf=g;this.Ig=h}null==this.Ld?this.Ld=new Uint16Array(6*e):e>d?(c=new Uint16Array(6*e),c.set(this.Ld,0),this.Ld=c):this.Ld=this.Ld.subarray(0,6*e);this.kH();this.LG();return this.Qa=!0},G7:function(a){this.bb+=a},j9:function(a,c,d){if(2==arguments.length){d=
c;c=this.bb-a;if(d+(this.bb-a)>this.yd)throw"cc.TextureAtlas.moveQuadsFromIndex(): move is out of bounds";if(0===c)return}else{if(d+c>this.bb)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid newIndex";if(a>=this.bb)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid oldIndex";if(a==d)return}var e=q.yc.BYTES_PER_ELEMENT,f=a*e,g=c*e,h=this.Jg,k=h.subarray(f,f+g),l=d*e,m;d<a?(m=d*e,h.set(h.subarray(m,m+(a-d)*e),m+g)):(m=(a+c)*e,h.set(h.subarray(m,m+(d-a)*e),f));h.set(k,l);this.Qa=!0},Q3:function(a,
c){for(var d=c*q.yc.BYTES_PER_ELEMENT,e=new Uint8Array(this.Ig,a*q.yc.BYTES_PER_ELEMENT,d),f=0;f<d;f++)e[f]=0},zI:function(a,c){c=c||0;if(0!==a&&this.Ga&&this.Ga.Wg()){var d=q.da;q.Sg(this.Ga);q.Me(q.Vu);d.bindBuffer(d.ARRAY_BUFFER,this.Xr);this.Qa&&d.bufferData(d.ARRAY_BUFFER,this.Ig,d.DYNAMIC_DRAW);d.vertexAttribPointer(q.$e,3,d.FLOAT,!1,24,0);d.vertexAttribPointer(q.Oq,4,d.UNSIGNED_BYTE,!0,24,12);d.vertexAttribPointer(q.Pq,2,d.FLOAT,!1,24,16);this.Qa&&(this.Qa=!1);d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,
this.Ui[1]);q.OF?d.drawElements(d.TRIANGLE_STRIP,6*a,d.UNSIGNED_SHORT,6*c*this.Ld.BYTES_PER_ELEMENT):d.drawElements(d.TRIANGLES,6*a,d.UNSIGNED_SHORT,6*c*this.Ld.BYTES_PER_ELEMENT);q.Kh++}},MS:function(){this.zI(this.bb,0)},x1:function(){var a=q.da;this.Ui&&(this.Ui[0]&&a.deleteBuffer(this.Ui[0]),this.Ui[1]&&a.deleteBuffer(this.Ui[1]));this.Xr&&a.deleteBuffer(this.Xr)}});q.vo.create=function(a,c){var d=new q.vo;return d&&d.uj(a,c)?d:null};
q.vo.Ja=function(a,c){var d=new q.vo;return d&&d.Sa(a,c)?d:null};q.Hq=q.Node.extend({ctor:function(){q.Node.prototype.ctor.call(this);this.dk=!0;this.w(.5,.5);this.N(q.ea.g().fc)}});q.Hq.create=function(){return new q.Hq};q.Bz=0;q.u0=1;
q.Wc=q.Node.extend({el:!1,dl:!1,bp:!1,sl:0,ys:q.Bz,Jm:!1,jp:0,ctor:function(){q.Node.prototype.ctor.call(this);this.bp=this.dl=this.el=!1;this.sl=0;this.ys=q.Bz;this.Jm=!1;this.jp=0},fP:function(){this.w(.5,.5);this.dk=!0;var a=q.ea.g();this.N(a.fc)},A:function(){q.Node.prototype.A.call(this);this.fP();return!0},Ox:function(){this.ys===q.Bz?q.dW(this,this.sl):q.MD(this.sl,!0,this)},l8:function(){return this.Jm},Wx:function(a){if(!q.se)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.Jm!=
a&&(this.Jm=a,this.ff&&(a?q.ea.g().Lf().VH(this,this.jp):q.ea.g().Lf().EK(this)))},fba:function(a){if(!q.se)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.jp!==a&&(this.jp=a,this.Jm&&(this.Wx(!1),this.Wx(!0)))},E5:function(){return this.jp},E8:function(){return this.el},pc:function(a){this.el!==a&&(this.el=a,this.ff&&(a?this.Ox():q.bM(this)))},e7:function(){return this.sl},sq:function(a){this.sl!==a&&(this.sl=a,this.el&&(this.pc(!1),this.pc(!0)))},d7:function(){return this.ys},
pE:function(a){this.ys!==a&&(this.ys=a,this.el&&(this.pc(!1),this.pc(!0)))},T7:function(){return this.dl},jaa:function(a){if(!q.Ik)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";if(a!==this.dl&&(this.dl=a,this.ff)){var c=q.ea.g();a?c.Rp().qg(this):c.Rp().qg(null)}},PW:function(a){this.dl&&q.Ik&&q.ea.g().Rp().PW(a)},C9:function(){q.log("onAccelerometer event should be handled.")},k8:function(){return this.bp},Waa:function(a){if(!q.no)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";
if(a!==this.bp&&(this.bp=a,this.ff)){var c=q.ea.g();a?c.jx().nR(this):c.jx().lW(this)}},ah:function(){var a=q.ea.g();this.el&&this.Ox();q.Node.prototype.ah.call(this);this.dl&&q.Ik&&a.Rp().qg(this);this.bp&&q.no&&a.jx().nR(this);this.Jm&&q.se&&a.Lf().VH(this,this.jp)},le:function(){var a=q.ea.g();this.el&&q.bM(this);this.dl&&q.Ik&&a.Rp().qg(null);this.bp&&q.no&&a.jx().lW(this);this.Jm&&q.se&&a.Lf().EK(this);q.Node.prototype.le.call(this)},Hi:function(){this.dl&&q.Ik&&q.ea.g().Rp().qg(this);q.Node.prototype.Hi.call(this)},
ub:function(){q.log("onTouchBegan event should be handled.");return!0},Td:function(){},bh:function(){},Ck:function(){},kK:function(){},nK:function(){},mK:function(){},lK:function(){},cV:function(){return!1},dV:function(){return!1},Sh:function(){return!1},gV:function(){return!1},kV:function(){return!1},lV:function(){return!1},mV:function(){return!1},hV:function(){return!1},iV:function(){return!1},jV:function(){return!1},nV:function(){return!1},eV:function(){return!1},fV:function(){return!1},zD:function(){},
Ml:function(){}});q.Wc.create=function(){var a=new q.Wc;return a&&a.A()?a:null};
q.Zh=q.Wc.extend({wb:!0,oc:0,Kg:0,Lc:null,Ce:null,ve:!1,Id:!1,ctor:function(){q.Wc.prototype.ctor.call(this);this.wb=!0;this.Kg=this.oc=255;this.Lc=q.Db();this.Ce=q.Db();this.Id=this.ve=!1},A:function(){return q.Wc.prototype.A.call(this)?(this.UK(!1),this.TK(!1),!0):!1},rj:function(){return this.Kg},gT:function(){return this.oc},ta:function(a){this.oc=this.Kg=a;a=255;var c=this.ca;c&&c.wb&&c.ve&&(a=c.oc);this.vd(a)},vd:function(a){this.oc=0|this.Kg*a/255;if(this.ve){a=this.D;for(var c=0;c<a.length;c++){var d=
a[c];d&&d.wb&&d.vd(this.oc)}}},BU:function(){return this.ve},UK:function(a){this.ve!==a&&((this.ve=a)?this.tr():this.xA())},tr:function(){var a=255,c=this.ca;c&&c.wb&&c.ve&&(a=c.oc);this.vd(a)},xA:function(){this.oc=this.Kg;for(var a=this.D,c=0;c<a.length;c++){var d=a[c];d&&d.wb&&d.vd(255)}},Ed:function(){var a=this.Ce;return q.n(a.t,a.p,a.o)},Us:function(){var a=this.Lc;return q.n(a.t,a.p,a.o)},q:function(a){var c=this.Lc,d=this.Ce;c.t=d.t=a.t;c.p=d.p=a.p;c.o=d.o=a.o;a=(a=this.ca)&&a.wb&&a.Id?a.Us():
q.Db();this.ud(a)},ud:function(a){var c=this.Lc,d=this.Ce;c.t=0|d.t*a.t/255;c.p=0|d.p*a.p/255;c.o=0|d.o*a.o/255;if(this.Id)for(a=this.D,d=0;d<a.length;d++){var e=a[d];e&&e.wb&&e.ud(c)}},AU:function(){return this.Id},TK:function(a){this.Id!==a&&((this.Id=a)?this.sr():this.wA())},sr:function(){var a;a=(a=this.ca)&&a.wb&&a.Id?a.Us():q.Db();this.ud(a)},wA:function(){var a=this.Lc,c=this.Ce;a.t=c.t;a.p=c.p;a.o=c.o;for(var a=this.D,c=q.Db(),d=0;d<a.length;d++){var e=a[d];e&&e.wb&&e.ud(c)}},f:function(a,
c,d){q.Node.prototype.f.call(this,a,c,d);this.Id&&this.sr();this.ve&&this.tr()},Pf:function(){},Fl:function(){return!1}});
q.X=q.Zh.extend({pa:null,Ts:function(){return this.pa},L2:function(a,c){this.N(a,c)},K2:function(a){this.N(a,this.Ca.xa)},H2:function(a){this.N(this.Ca.Ha,a)},Pf:function(){},Fl:function(){return!1},q:function(a){q.Zh.prototype.q.call(this,a);this.Nd()},ta:function(a){q.Zh.prototype.ta.call(this,a);this.Nd()},Im:!1,oH:null,PB:null,hC:null,kA:null,RB:null,QB:null,bi:function(){q.Zh.prototype.ctor.call(this);this.pa=new q.nm(q.Xe,q.We)},ci:function(){q.Zh.prototype.ctor.call(this);this.pa=new q.nm(q.Xe,
q.We);this.RB=new ArrayBuffer(32);this.QB=new ArrayBuffer(64);var a=this.RB,c=this.QB,d=q.Lb.BYTES_PER_ELEMENT,e=q.qe.BYTES_PER_ELEMENT;this.oH=[new q.Lb(0,0,a,0),new q.Lb(0,0,a,d),new q.Lb(0,0,a,2*d),new q.Lb(0,0,a,3*d)];this.PB=[new q.qe(0,0,0,1,c,0),new q.qe(0,0,0,1,c,e),new q.qe(0,0,0,1,c,2*e),new q.qe(0,0,0,1,c,3*e)];this.hC=q.da.createBuffer();this.kA=q.da.createBuffer()},Ul:function(a,c){this.pa=1==arguments.length?a:{src:a,Tb:c};q.Wd===q.wg&&(this.Im=this.pa&&1==this.pa.src&&771==this.pa.Tb)},
A:function(a,c,d){if(!q.Wc.prototype.A.call(this))return!1;q.Wd!==q.wg&&this.ih(q.ai.g().Ii(q.JN));var e=q.ea.g().fc;a=a||new q.dc(0,0,0,255);c=c||e.width;d=d||e.height;e=this.Lc;e.t=a.t;e.p=a.p;e.o=a.o;e=this.Ce;e.t=a.t;e.p=a.p;e.o=a.o;this.Kg=this.oc=a.P;this.N(c,d);this.Nd();return!0},N:null,pQ:function(a,c){var d=this.oH;2===arguments.length?(d[1].x=a,d[2].y=c,d[3].x=a,d[3].y=c,this.fG(),q.Wc.prototype.N.call(this,a,c)):(d[1].x=a.width,d[2].y=a.height,d[3].x=a.width,d[3].y=a.height,this.fG(),
q.Wc.prototype.N.call(this,a))},Nd:null,$Q:function(){},aR:function(){for(var a=this.Lc,c=this.oc,d=this.PB,e=0;4>e;e++)d[e].t=a.t/255,d[e].p=a.p/255,d[e].o=a.o/255,d[e].P=c/255;this.eG()},ud:function(a){q.Zh.prototype.ud.call(this,a);this.Nd()},vd:function(a){q.Zh.prototype.vd.call(this,a);this.Nd()},fG:function(){var a=q.da;a.bindBuffer(a.ARRAY_BUFFER,this.hC);a.bufferData(a.ARRAY_BUFFER,this.RB,a.STATIC_DRAW)},eG:function(){var a=q.da;a.bindBuffer(a.ARRAY_BUFFER,this.kA);a.bufferData(a.ARRAY_BUFFER,
this.QB,a.STATIC_DRAW)},Za:null,Wj:function(a){a=a||q.da;var c=this.c(),d=q.ra.g(),e=this.Lc;a.fillStyle="rgba("+(0|e.t)+","+(0|e.p)+","+(0|e.o)+","+this.oc/255+")";a.fillRect(0,0,c.width*d.va,-c.height*d.Da);q.Kh++},Fg:function(a){a=a||q.da;q.kz(this);q.Me(q.qh|q.cO);a.bindBuffer(a.ARRAY_BUFFER,this.hC);a.vertexAttribPointer(q.$e,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.kA);a.vertexAttribPointer(q.Oq,4,a.FLOAT,!1,0,0);q.xk(this.pa.src,this.pa.Tb);a.drawArrays(a.TRIANGLE_STRIP,0,4)}});
q.Ka.fd?(q.X.prototype.ctor=q.X.prototype.ci,q.X.prototype.N=q.X.prototype.pQ,q.X.prototype.Nd=q.X.prototype.aR,q.X.prototype.Za=q.X.prototype.Fg):(q.X.prototype.ctor=q.X.prototype.bi,q.X.prototype.N=q.Zh.prototype.N,q.X.prototype.Nd=q.X.prototype.$Q,q.X.prototype.Za=q.X.prototype.Wj);q.X.create=function(a,c,d){var e=new q.X;switch(arguments.length){case 0:e.A();break;case 1:e.A(a);break;case 3:e.A(a,c,d);break;default:e.A()}return e};
q.lF=q.X.extend({pH:null,Wo:null,vp:null,Xo:null,um:null,rv:!1,Er:null,Dr:null,ctor:function(){q.X.prototype.ctor.call(this);this.pH=new q.Jc(0,0,0);this.Wo=new q.Jc(0,0,0);this.um=q.a(0,-1);this.Xo=this.vp=255;this.Er=q.a(0,0);this.Dr=q.a(0,0)},N:function(a,c){2===arguments.length?q.X.prototype.N.call(this,a,c):q.X.prototype.N.call(this,a);this.Nd()},I6:function(){return this.Ce},Hba:function(a){this.q(a)},Gaa:function(a){this.Wo=a;this.Nd()},Q4:function(){return this.Wo},Iba:function(a){this.vp=
a;this.Nd()},J6:function(){return this.vp},Haa:function(a){this.Xo=a;this.Nd()},R4:function(){return this.Xo},$ba:function(a){this.um.x=a.x;this.um.y=a.y;this.Nd()},j7:function(){return q.a(this.um.x,this.um.y)},Y7:function(){return this.rv},waa:function(a){this.rv=a;this.Nd()},A:function(a,c,d){a=a||q.vC(0,0,0,255);c=c||q.vC(0,0,0,255);d=d||q.a(0,-1);var e=this.pH,f=this.Wo;e.t=a.t;e.p=a.p;e.o=a.o;this.vp=a.P;f.t=c.t;f.p=c.p;f.o=c.o;this.Xo=c.P;this.um=d;this.rv=!0;q.X.prototype.A.call(this,q.i(a.t,
a.p,a.o,255));return!0},Za:function(a){if(q.Wd===q.Ok)q.X.prototype.Za.call(this,a);else{a=a||q.da;this.Im&&(a.globalCompositeOperation="lighter");a.save();var c=q.ra.g(),d=this.oc/255,e=this.c().width*c.va,c=this.c().height*c.Da,f=a.createLinearGradient(this.Er.x,this.Er.y,this.Dr.x,this.Dr.y),g=this.Lc,h=this.Wo;f.addColorStop(0,"rgba("+Math.round(g.t)+","+Math.round(g.p)+","+Math.round(g.o)+","+(this.vp/255*d).toFixed(4)+")");f.addColorStop(1,"rgba("+Math.round(h.t)+","+Math.round(h.p)+","+Math.round(h.o)+
","+(this.Xo/255*d).toFixed(4)+")");a.fillStyle=f;a.fillRect(0,0,e,-c);0!=this.gQ&&a.rotate(this.y1);a.restore()}},Nd:function(){var a=this.um;if(q.Wd===q.wg){var c=.5*this.c().width,d=.5*this.c().height;this.Er.x=c*-a.x+c;this.Er.y=d*a.y-d;this.Dr.x=c*a.x+c;this.Dr.y=d*-a.y-d}else if(d=q.CD(a),0!==d){c=Math.sqrt(2);a=q.a(a.x/d,a.y/d);this.rv&&(a=q.yj(a,1/(Math.abs(a.x)+Math.abs(a.y))*c));var e=this.oc/255,f=this.Lc,g=this.Wo,d=f.t/255,h=f.p/255,f=f.o/255,k=this.vp*e/255,l=g.t/255,m=g.p/255,g=g.o/
255,e=this.Xo*e/255,p=this.PB,t=p[0],v=p[1],x=p[2],p=p[3];t.t=l+(c+a.x+a.y)/(2*c)*(d-l);t.p=m+(c+a.x+a.y)/(2*c)*(h-m);t.o=g+(c+a.x+a.y)/(2*c)*(f-g);t.P=e+(c+a.x+a.y)/(2*c)*(k-e);v.t=l+(c-a.x+a.y)/(2*c)*(d-l);v.p=m+(c-a.x+a.y)/(2*c)*(h-m);v.o=g+(c-a.x+a.y)/(2*c)*(f-g);v.P=e+(c-a.x+a.y)/(2*c)*(k-e);x.t=l+(c+a.x-a.y)/(2*c)*(d-l);x.p=m+(c+a.x-a.y)/(2*c)*(h-m);x.o=g+(c+a.x-a.y)/(2*c)*(f-g);x.P=e+(c+a.x-a.y)/(2*c)*(k-e);p.t=l+(c-a.x-a.y)/(2*c)*(d-l);p.p=m+(c-a.x-a.y)/(2*c)*(h-m);p.o=g+(c-a.x-a.y)/(2*c)*
(f-g);p.P=e+(c-a.x-a.y)/(2*c)*(k-e);this.eG()}}});q.lF.create=function(a,c,d){var e=new q.lF;switch(arguments.length){case 2:if(e&&e.A(a,c))return e;break;case 3:if(e&&e.A(a,c,d))return e;break;case 0:if(e&&e.A())return e;break;default:throw"Arguments error ";}return null};
q.mF=q.Wc.extend({Yk:0,uh:null,L7:function(a){this.uh=[];this.uh.push(a);this.Yk=0;this.f(a);return!0},lU:function(a){this.uh=a;this.Yk=0;this.f(this.uh[this.Yk]);return!0},Fca:function(a){a>=this.uh.length?q.log("cc.LayerMultiplex.switchTo():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.uh[this.Yk],!0),this.Yk=a,this.f(this.uh[a]))},Gca:function(a){a>=this.uh.length?q.log("cc.LayerMultiplex.switchToAndReleaseMe():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.uh[this.Yk],
!0),this.uh[this.Yk]=null,this.Yk=a,this.f(this.uh[a]))},R1:function(a){a?this.uh.push(a):q.log("cc.Layer.addLayer(): layer should be non-null")}});q.mF.create=function(){0<arguments.length&&null==arguments[arguments.length-1]&&q.log("parameters should not be ending with null in Javascript");var a=new q.mF;return a.lU(arguments)?a:null};function fa(a,c,d,e,f){var g=10;e<2*g&&(g=e/2);f<2*g&&(g=f/2);a.beginPath();a.moveTo(c+g,d);a.arcTo(c+e,d,c+e,d+f,g);a.arcTo(c+e,d+f,c,d+f,g);a.arcTo(c,d+f,c,d,g);a.arcTo(c,d,c+e,d,g);a.closePath()}q.wz=-1;
q.Qp=function(a){function c(){var c=q.Qp,e=a.width,h=a.height;d[0].width=e;d[0].height=h;d[1].width=e;d[1].height=h;d[2].width=e;d[2].height=h;d[3].width=e;d[3].height=h;c.canvas.width=e;c.canvas.height=h;var k=c.canvas.getContext("2d");k.drawImage(a,0,0);c.FE.width=e;c.FE.height=h;for(var k=k.getImageData(0,0,e,h).data,l=0;4>l;l++){var m=d[l].getContext("2d");m.getImageData(0,0,e,h).data;c.YL.drawImage(a,0,0);for(var p=c.YL.getImageData(0,0,e,h),t=p.data,v=0;v<k.length;v+=4)t[v]=0===l?k[v]:0,t[v+
1]=1===l?k[v+1]:0,t[v+2]=2===l?k[v+2]:0,t[v+3]=k[v+3];m.putImageData(p,0,0)}a.onload=null}if(a.hasOwnProperty("channelCache"))return a.$R;var d=[document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas")];try{c()}catch(e){a.onload=c}return a.$R=d};q.Qp.canvas=document.createElement("canvas");q.Qp.FE=document.createElement("canvas");q.Qp.YL=q.Qp.FE.getContext("2d");
q.NI=function(a,c,d,e){d||(d=q.rect(0,0,a.width,a.height),d=q.Fq(d));c=c instanceof q.qe?q.i(255*c.t,255*c.p,255*c.o,255*c.P):q.i(c.t,c.p,c.o,255);e=e||document.createElement("canvas");var f=e.getContext("2d");e.width!=d.width&&(e.width=d.width);e.height!=d.height&&(e.height=d.height);f.clearRect(0,0,d.width,d.height);f.save();f.globalCompositeOperation="destination-atop";f.globalAlpha=c.P/255;if(254>c.t||254>c.p||254>c.o)f.fillStyle="rgb("+c.t+","+c.p+","+c.o+")",f.fillRect(0,0,d.width,d.height);
f.drawImage(a,d.x,d.y,d.width,d.height,0,0,d.width,d.height);f.restore();return e};
q.LC=function(a,c,d,e,f){e||(e=q.rect(0,0,a.width,a.height));a=null==d.P?q.Tw(d.t/255,d.p/255,d.o/255,1):d;d=Math.min(e.width,c[0].width);var g=Math.min(e.height,c[0].height),h;f?(h=f.getContext("2d"),h.clearRect(0,0,d,g)):(f=document.createElement("canvas"),f.width=d,f.height=g,h=f.getContext("2d"));h.save();h.globalCompositeOperation="lighter";var k=h.globalAlpha;0<a.t&&(h.globalAlpha=a.t*k,h.drawImage(c[0],e.x,e.y,d,g,0,0,d,g));0<a.p&&(h.globalAlpha=a.p*k,h.drawImage(c[1],e.x,e.y,d,g,0,0,d,g));
0<a.o&&(h.globalAlpha=a.o*k,h.drawImage(c[2],e.x,e.y,d,g,0,0,d,g));1>a.t+a.p+a.o&&(h.globalAlpha=k,h.drawImage(c[3],e.x,e.y,d,g,0,0,d,g));h.restore();return f};q.pI=function(a,c){if(!a)return null;if(!c)return a;var d=document.createElement("canvas");d.width=c.width;d.height=c.height;var e=d.getContext("2d");e.translate(d.width/2,d.height/2);e.rotate(-1.5707963267948966);e.drawImage(a,c.x,c.y,c.height,c.width,-c.height/2,-c.width/2,c.height,c.width);return d};
q.F0=function(a,c,d,e,f,g){this.scale=c;this.rotation=d;this.$l=e;this.visible=g};q.zg=function(a){return 0|a};q.MN&&(q.zg=function(a){return a});
q.v=q.Kb.extend({wb:!0,Ua:null,pd:0,sb:null,Qa:!1,ii:null,aj:null,nl:!1,gn:null,pa:null,Ga:null,Aa:null,qd:!1,vc:null,ri:null,Fc:!1,rc:!1,sc:!1,yb:!1,fe:null,RG:null,sp:null,yo:null,hs:!1,Ng:null,IB:null,HB:null,KB:!1,$L:function(){return this.yb},gg:function(a,c){this.fe.push({eventCallback:a,yi:c})},ue:function(){for(var a=this.fe,c=0,d=a.length;c<d;c++){var e=a[c];e.eventCallback.call(e.yi,this)}a.length=0},HJ:function(){return this.Qa},gh:function(a){this.Qa=a},D8:function(){return this.qd},e4:function(){return this.pd},
Ue:function(a){this.pd=a},YC:function(){return q.rect(this.Aa.x,this.Aa.y,this.Aa.width,this.Aa.height)},fJ:function(){return this.Ua},rq:function(a){this.Ua=a},H6:function(){return this.sb},Gba:function(a){this.sb=a},P5:function(){return this.vc},Ts:function(){return this.pa},Pe:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrame(): spriteFrame should be non-null";a.yb||(this.yb=!1,a.gg(this.NB,this));var c=this.Sa(a.ia(),a.sd());this.lq(a);return c},NB:null,PQ:function(a){this.fb();this.ib(a.sd(),
a.Bd,a.Ad);this.ue()},OQ:function(a){this.fb();this.ib(a.sd(),a.Bd,a.Ad);a=this.Ed();255===a.t&&255===a.p&&255===a.o||this.ov();this.ue()},zJ:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";a=q.Ag.g().Nh(a);return this.Pe(a)},ida:function(a){this.Ua=a.Ua;this.sb=a},rE:function(a){this.Aa.x=a.x;this.Aa.y=a.y;this.Aa.width=a.width;this.Aa.height=a.height},ne:function(){if(this.De){for(var a,c,d=this.D,e,f=1;f<d.length;f++){c=d[f];a=f-1;for(e=d[a];0<=
a&&(c.ob<e.ob||c.ob==e.ob&&c.Zf<e.Zf);)d[a+1]=e,--a,e=d[a];d[a+1]=c}this.sb&&this.Cg(d,q.Node.Uf.ne);this.De=!1}},kt:function(a,c){if(!a)throw"cc.Sprite.reorderChild(): child should be non-null";-1===this.D.indexOf(a)?q.log("cc.Sprite.reorderChild(): this child is not in children list"):c!==a.ob&&(this.sb&&!this.De&&(this.EB(),this.sb.FK(!0)),q.Node.prototype.kt.call(this,a,c))},removeChild:function(a,c){this.sb&&this.sb.Qn(a);q.Node.prototype.removeChild.call(this,a,c)},bc:function(a){var c=this.D,
d=this.sb;if(d&&null!=c)for(var e=0,f=c.length;e<f;e++)d.Qn(c[e]);q.Node.prototype.bc.call(this,a);this.aj=!1},XK:function(a){this.ii=a;this.gh(a);a=this.D;if(null!=a)for(var c=0;c<a.length;c++)a[c]instanceof q.v&&a[c].XK(!0)},ph:function(){this.sb&&!this.ii&&(this.Qa=this.ii=!0,this.aj&&this.XK(!0))},l:function(a,c){2<=arguments.length?q.Node.prototype.l.call(this,a,arguments[1]):q.Node.prototype.l.call(this,a);this.ph()},ay:function(a){q.Node.prototype.ay.call(this,a);this.ph()},by:function(a){q.Node.prototype.by.call(this,
a);this.ph()},cy:function(a){q.Node.prototype.cy.call(this,a);this.ph()},dy:function(a){q.Node.prototype.dy.call(this,a);this.ph()},ey:function(a){q.Node.prototype.ey.call(this,a);this.ph()},pq:function(a){q.Node.prototype.pq.call(this,a);this.ph()},Wn:function(a){q.Node.prototype.Wn.call(this,a);this.ph()},Ek:function(a,c){q.Node.prototype.Ek.call(this,a,c);this.ph()},CL:function(a){q.Node.prototype.CL.call(this,a);this.ph()},w:function(a,c){2===arguments.length?q.Node.prototype.w.call(this,a,c):
q.Node.prototype.w.call(this,a);this.ph()},B:function(a){q.Node.prototype.B.call(this,a);this.ph()},tj:function(a){this.sb?q.log("cc.Sprite.ignoreAnchorPointForPosition(): it is invalid in cc.Sprite when using SpriteBatchNode"):q.Node.prototype.tj.call(this,a)},kX:function(a){this.rc!=a&&(this.rc=a,this.ib(this.Aa,this.qd,this.Ca),this.fb())},lX:function(a){this.sc!=a&&(this.sc=a,this.ib(this.Aa,this.qd,this.Ca),this.fb())},f8:function(){return this.rc},g8:function(){return this.sc},Pf:null,xQ:function(a){this.Fc!==
a&&(this.Fc=a,this.Ft())},wQ:function(a){this.Fc!==a&&(this.Fc=a,this.fb())},Fl:function(){return this.Fc},vd:null,dR:function(a){q.Kb.prototype.vd.call(this,a);this.Ft()},DH:function(a){q.Kb.prototype.vd.call(this,a);this.Um()},Caa:function(a,c){if(!a)throw"cc.Sprite.setDisplayFrameWithAnimationName(): animationName must be non-null";var d=q.jm.g().OI(a);d?(d=d.ye[c])?this.lq(d.Nh()):q.log("cc.Sprite.setDisplayFrameWithAnimationName(): Invalid frame index"):q.log("cc.Sprite.setDisplayFrameWithAnimationName(): Frame not found")},
h4:function(){return this.sb},EB:function(){if(!this.De){this.De=!0;for(var a=this.ca;a&&a!=this.sb;)a.EB(),a=a.getParent()}},ia:function(){return this.Ga},Yb:null,lw:null,Ef:!1,$q:!1,Im:!1,$f:null,bn:null,Uo:null,ctor:null,ci:function(a){q.Kb.prototype.ctor.call(this);this.nl=!1;this.vc=q.Md();this.ri=q.Md();this.pa={src:q.Xe,Tb:q.We};this.Aa=q.rect(0,0,0,0);this.Yb=new q.yc;this.lw=q.da.createBuffer();this.yb=this.Ef=!0;this.fe=[];this.sp=!0;this.yo=!1;if(a)if("string"===typeof a)a=q.Ag.g().Nh(a),
this.Pe(a);else if("object"===typeof a)if(a instanceof q.be)this.Pe(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new q.qc;c.sf(a);c.je();this.Sa(c)}else a instanceof q.qc&&this.Sa(a)},bi:function(a){q.Kb.prototype.ctor.call(this);this.nl=!1;this.vc=q.Md();this.ri=q.Md();this.pa={src:q.Xe,Tb:q.We};this.Aa=q.rect(0,0,0,0);this.RG=!1;this.yb=!0;this.fe=[];this.bn={x:0,y:0,width:0,height:0,gm:!1};this.Uo=q.size(0,0);this.sp=!0;this.yo=!1;if(a)if("string"===typeof a)a=
q.Ag.g().Nh(a),this.Pe(a);else if("object"===typeof a)if(a instanceof q.be)this.Pe(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new q.qc;c.sf(a);c.je();this.Sa(c)}else a instanceof q.qc&&this.Sa(a)},j6:function(){return this.Yb},Ul:null,lQ:function(a,c){var d=this.pa;1===arguments.length?(d.src=a.src,d.Tb=a.Tb):(d.src=a,d.Tb=c)},kQ:function(a,c){var d=this.pa;1===arguments.length?(d.src=a.src,d.Tb=a.Tb):(d.src=a,d.Tb=c);this.Im=d&&(770==d.src&&1==d.Tb||1==d.src&&
1==d.Tb)},A:null,RA:function(){if(0<arguments.length)return this.uj(arguments[0],arguments[1]);q.Kb.prototype.A.call(this);this.Qa=this.ii=!1;this.Fc=!0;this.pa.src=q.Xe;this.pa.Tb=q.We;this.la(null);this.yb=!0;this.rc=this.sc=!1;this.w(.5,.5);this.vc.I=0;this.vc.T=0;this.aj=!1;var a={t:255,p:255,o:255,P:255};this.Yb.Ra.V=a;this.Yb.cb.V=a;this.Yb.$a.V=a;this.Yb.Ta.V=a;this.Ef=!0;this.ib(q.xd(),!1,q.rm());return!0},QA:function(){if(0<arguments.length)return this.uj(arguments[0],arguments[1]);q.Kb.prototype.A.call(this);
this.Qa=this.ii=!1;this.Fc=!0;this.pa.src=q.Xe;this.pa.Tb=q.We;this.la(null);this.yb=!0;this.rc=this.sc=!1;this.w(.5,.5);this.vc.I=0;this.vc.T=0;this.aj=!1;this.ib(q.xd(),!1,q.rm());return!0},uj:function(a,c){if(!a)throw"cc.Sprite.initWithFile(): filename should be non-null";var d=q.fa.g().py(a);if(!d)d=q.fa.g().ka(a);else if(!c){var e=d.c();c=q.rect(0,0,e.width,e.height)}return this.Sa(d,c)},Sa:null,Ir:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";
d=d||!1;if(!q.Kb.prototype.A.call(this))return!1;this.sb=null;this.Qa=this.ii=!1;this.Fc=!0;this.pa.src=q.Xe;this.pa.Tb=q.We;this.rc=this.sc=!1;this.w(.5,.5);this.vc.I=0;this.vc.T=0;this.aj=!1;var e=new q.dc(255,255,255,255),f=this.Yb;f.Ra.V=e;f.cb.V=e;f.$a.V=e;f.Ta.V=e;this.yb=e=a.Wg();if(!e)return this.qd=d||!1,c&&(e=this.Aa,e.x=c.x,e.y=c.y,e.width=c.width,e.height=c.height),a.gg(this.Bw,this),!0;c||(e=a.c(),c=q.rect(0,0,e.width,e.height));this.la(a);this.ib(c,d,c.Ya);this.Ve(null);return this.Ef=
!0},Hr:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";d=d||!1;if(!q.Kb.prototype.A.call(this))return!1;this.sb=null;this.Qa=this.ii=!1;this.Fc=!0;this.pa.src=q.Xe;this.pa.Tb=q.We;this.rc=this.sc=!1;this.w(.5,.5);this.vc.I=0;this.vc.T=0;this.aj=!1;var e=a.Wg();this.yb=e;if(!e)return this.qd=d||!1,c&&(this.Aa.x=c.x,this.Aa.y=c.y,this.Aa.width=c.width,this.Aa.height=c.height),a.gg(this.Bw,this),!0;c||(e=a.c(),c=q.rect(0,0,e.width,e.height));this.$f=
a;this.la(a);this.ib(c,d,c.Ya);this.Ve(null);return!0},Bw:null,UQ:function(a){if(!this.yb){this.yb=!0;var c=this.Aa;if(!c)c=a.c(),c=q.rect(0,0,c.width,c.height);else if(q.Yr(c)){var d=a.c();c.width=d.width;c.height=d.height}this.la(a);this.ib(c,this.qd,c.Ya);this.Ve(null);this.Ef=!0;this.ue()}},TQ:function(a){if(!this.yb){this.yb=!0;var c=this.Aa;if(!c)c=a.c(),c=q.rect(0,0,c.width,c.height);else if(q.Yr(c)){var d=a.c();c.width=d.width;c.height=d.height}this.$f=a;this.la(a);this.ib(c,this.qd,c.Ya);
this.Ve(null);this.ue()}},ib:null,jH:function(a,c,d){this.qd=c||!1;d=d||a.Ya;this.N(d);this.rE(a);this.iH(a);c=this.ri;this.rc&&(c.I=-c.I);this.sc&&(c.T=-c.T);a=this.Aa;if(this.RL){d=q.ra.g().va;var e=q.ra.g().Da;a.width/=d;a.height/=e}this.vc.I=c.I+(this.Ca.Ha-a.width)/2;this.vc.T=c.T+(this.Ca.xa-a.height)/2;if(this.sb)this.Qa=!0;else{c=0+this.vc.I;d=0+this.vc.T;e=c+a.width;a=d+a.height;var f=this.Yb;f.Ra.C={x:c,y:d,z:0};f.cb.C={x:e,y:d,z:0};f.$a.C={x:c,y:a,z:0};f.Ta.C={x:e,y:a,z:0};this.Ef=!0}},
FB:function(a,c,d){this.qd=c||!1;d=d||a.Ya;this.N(d);this.rE(a);c=this.bn;var e=q.gd();c.x=0|a.x*e;c.y=0|a.y*e;var f=this.Uo,g=(this.sb&&this.Ua?this.Ua.ia():this.Ga)?this.ia().c():q.size(d.width,d.height);a.width>g.width||a.height>g.height?(c.width=0|g.width*e,c.height=0|g.height*e,f.width=0|d.width*e,f.height=0|d.height*e):(c.width=0|a.width*e,c.height=0|a.height*e,f.width=c.width,f.height=c.height);c.gm=!(0===c.width||0===c.height);f.gm=!(0===f.width||0===f.height);a=this.ri;this.rc&&(a.I=-a.I);
this.sc&&(a.T=-a.T);this.vc.I=a.I+(this.Ca.Ha-this.Aa.width)/2;this.vc.T=a.T+(this.Ca.xa-this.Aa.height)/2;this.sb&&(this.Qa=!0)},ug:null,lR:function(){if(this.Qa){var a=this.Yb,c=this.ca;if(!this.ya||c&&c!=this.sb&&c.nl)a.cb.C={x:0,y:0,z:0},a.$a.C={x:0,y:0,z:0},a.Ta.C={x:0,y:0,z:0},a.Ra.C={x:0,y:0,z:0},this.nl=!0;else{this.nl=!1;var d=this.gn=c&&c!=this.sb?q.im(this.lg(),c.gn):this.lg(),e=this.Aa.Ya,c=this.vc.I,f=this.vc.T,g=c+e.width,e=f+e.height,h=d.jb,k=d.kb,l=d.P,m=d.o,p=d.d,d=-d.Ma,t=this.Nw;
a.Ra.C={x:q.zg(c*l-f*d+h),y:q.zg(c*m+f*p+k),z:t};a.cb.C={x:q.zg(g*l-f*d+h),y:q.zg(g*m+f*p+k),z:t};a.$a.C={x:q.zg(c*l-e*d+h),y:q.zg(c*m+e*p+k),z:t};a.Ta.C={x:q.zg(g*l-e*d+h),y:q.zg(g*m+e*p+k),z:t}}this.Ua.wy(a,this.pd);this.ii=!1;this.gh(!1)}this.aj&&this.Cg(this.D,q.Node.Uf.ug);q.Mj&&(a=[q.a(this.Yb.Ra.C.x,this.Yb.Ra.C.y),q.a(this.Yb.cb.C.x,this.Yb.cb.C.y),q.a(this.Yb.Ta.C.x,this.Yb.Ta.C.y),q.a(this.Yb.$a.C.x,this.Yb.$a.C.y)],q.Ge.ie(a,4,!0))},kR:function(){if(this.Qa){var a=this.ca;!this.ya||a&&
a!=this.sb&&a.nl?this.nl=!0:(this.nl=!1,this.gn=a&&a!=this.sb?q.im(this.lg(),a.gn):this.lg());this.Qa=this.ii=!1}this.aj&&this.Cg(this.D,q.Node.Uf.ug)},f:null,Sz:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.ob);null==d&&(d=a.Dd);if(this.sb){if(!(a instanceof q.v)){q.log("cc.Sprite.addChild(): cc.Sprite only supports cc.Sprites as children when using cc.SpriteBatchNode");return}a.ia().ui!==this.Ua.ia().ui&&q.log("cc.Sprite.addChild(): cc.Sprite only supports a sprite using same texture as children when using cc.SpriteBatchNode");
this.sb.appendChild(a);this.De||this.EB()}q.Node.prototype.f.call(this,a,c,d);this.aj=!0},Rz:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.ob);null==d&&(d=a.Dd);q.Node.prototype.f.call(this,a,c,d);this.aj=!0},Ft:function(){var a=this.Lc,c=this.oc,a={t:a.t,p:a.p,o:a.o,P:c};this.Fc&&(a.t*=c/255,a.p*=c/255,a.o*=c/255);c=this.Yb;c.Ra.V=a;c.cb.V=a;c.$a.V=a;c.Ta.V=a;this.sb&&(this.pd!=q.wz?this.Ua.wy(c,this.pd):this.Qa=!0);this.Ef=!0},ta:null,DB:function(a){q.Kb.prototype.ta.call(this,
a);this.Ft()},cs:function(a){q.Kb.prototype.ta.call(this,a);this.Um()},q:null,BB:function(a){q.Kb.prototype.q.call(this,a);this.Ft()},as:function(a){var c=this.Ed();if(c.t!==a.t||c.p!==a.p||c.o!==a.o)q.Kb.prototype.q.call(this,a),this.ov(),this.Um()},ud:null,cR:function(a){q.Kb.prototype.ud.call(this,a);this.Ft()},aC:function(a){var c=this.Ed();q.Kb.prototype.ud.call(this,a);a=this.Lc;if(c.t!==a.t||c.p!==a.p||c.o!==a.o)this.ov(),this.Um()},lq:null,rQ:function(a){this.fb();var c=a._offset;this.ri.I=
c.x;this.ri.T=c.y;c=a.ia();a.yb||(this.yb=!1,a.gg(function(a){this.yb=!0;var c=a.ia();c!=this.Ga&&this.la(c);this.ib(a.sd(),a.Bd,a.Ad);this.ue()},this));c!=this.Ga&&this.la(c);this.qd=a.Bd;this.ib(a.sd(),this.qd,a.Ad)},qQ:function(a){this.fb();var c=a._offset;this.ri.I=c.x;this.ri.T=c.y;this.qd=a.Bd;var c=a.ia(),d=a.yb;d||(this.yb=!1,a.gg(function(a){this.yb=!0;var c=a.ia();c!=this.Ga&&this.la(c);this.ib(a.sd(),a.Bd,a.Ad);this.ue()},this));c!=this.Ga&&this.la(c);this.qd&&(this.$f=c);this.ib(a.sd(),
this.qd,a.Ad);this.$q=!1;d&&(a=this.Ed(),255===a.t&&255===a.p&&255===a.o||this.ov())},JJ:null,tP:function(a){return q.zK(a.sd(),this.Aa)&&a.ia().getName()==this.Ga.getName()&&q.sK(a._offset,this.ri)},sP:function(a){return a.ia()!=this.Ga?!1:q.zK(a.sd(),this.Aa)},HS:function(){return q.be.Ja(this.Ga,q.po(this.Aa),this.qd,q.zN(this.ri),q.vz(this.Ca))},Ve:null,jQ:function(a){if(this.sb=a)this.gn={P:1,o:0,Ma:0,d:1,jb:0,kb:0},this.rq(this.sb.Ua);else{this.pd=q.wz;this.rq(null);this.ii=!1;this.gh(!1);a=
this.vc.I;var c=this.vc.T,d=a+this.Aa.width,e=c+this.Aa.height,f=this.Yb;f.Ra.C={x:a,y:c,z:0};f.cb.C={x:d,y:c,z:0};f.$a.C={x:a,y:e,z:0};f.Ta.C={x:d,y:e,z:0};this.Ef=!0}},iQ:function(a){(this.sb=a)?(this.gn={P:1,o:0,Ma:0,d:1,jb:0,kb:0},this.rq(this.sb.Ua)):(this.pd=q.wz,this.rq(null),this.ii=!1,this.gh(!1))},la:null,es:function(a){if(a&&!(a instanceof q.qc))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.sb&&this.sb.ia()!=a?q.log("cc.Sprite.setTexture(): Batched sprites should use the same texture as the batchnode"):
(a?this.ih(q.ai.g().Ii(q.uz)):this.ih(q.ai.g().Ii(q.JN)),this.sb||this.Ga==a||(this.Ga=a,this.hn()))},ds:function(a){if(a&&!(a instanceof q.qc))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.Ga!=a&&(a&&a.Ec instanceof HTMLImageElement&&(this.$f=a),this.Ga=a)},hn:function(){this.sb?q.log("cc.Sprite._updateBlendFunc(): _updateBlendFunc doesn't work when the sprite is rendered using a cc.CCSpriteBatchNode"):this.Ga&&this.Ga.at()?(this.pa.src=q.Xe,this.pa.Tb=q.We,
this.Pf(!0)):(this.pa.src=770,this.pa.Tb=771,this.Pf(!1))},ov:function(){var a,c=this.Ga,d=this.bn;if(c&&d.gm&&this.$f&&(a=c.Ec)){var e=q.fa.g().gJ(this.$f.Ec);e&&(this.$q=!0,a instanceof HTMLCanvasElement&&!this.qd&&!this.RG?this.yo?q.NI(this.$f.Ec,this.Lc,d,c.Ec):q.LC(a,e,this.Lc,d,a):(a=this.yo?q.NI(a,this.Lc,d):q.LC(a,e,this.Lc,d),c=new q.qc,c.sf(a),c.je(),this.la(c)))}},iH:function(a){a=q.po(a);var c=this.sb?this.Ua.ia():this.Ga;if(c){var d=c.Xp(),e=c.Wp(),f,g=this.Yb;this.qd?(q.nu?(c=(2*a.x+
1)/(2*d),d=c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/d,f=a.y/e,a=(a.y+a.width)/e),this.rc&&(e=f,f=a,a=e),this.sc&&(e=c,c=d,d=e),g.Ra.G.Wa=c,g.Ra.G.ua=f,g.cb.G.Wa=c,g.cb.G.ua=a,g.$a.G.Wa=d,g.$a.G.ua=f,g.Ta.G.Wa=d,g.Ta.G.ua=a):(q.nu?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+a.height)/e),this.rc&&(e=c,c=d,d=e),this.sc&&(e=f,f=a,a=e),g.Ra.G.Wa=c,g.Ra.G.ua=a,g.cb.G.Wa=
d,g.cb.G.ua=a,g.$a.G.Wa=c,g.$a.G.ua=f,g.Ta.G.Wa=d,g.Ta.G.ua=f);this.Ef=!0}},Za:null,Fg:function(){if(this.yb){var a=q.da,c=this.Ga;c?c.Pc&&(this.$c.yf(),this.$c.kh(),q.xk(this.pa.src,this.pa.Tb),q.w7(0,c),q.Me(q.Vu),a.bindBuffer(a.ARRAY_BUFFER,this.lw),this.Ef&&(a.bufferData(a.ARRAY_BUFFER,this.Yb.qC,a.DYNAMIC_DRAW),this.Ef=!1),a.vertexAttribPointer(0,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(1,4,a.UNSIGNED_BYTE,!0,24,12),a.vertexAttribPointer(2,2,a.FLOAT,!1,24,16),a.drawArrays(a.TRIANGLE_STRIP,0,
4)):(this.$c.yf(),this.$c.kh(),q.xk(this.pa.src,this.pa.Tb),q.Sg(null),q.Me(q.qh|q.cO),a.bindBuffer(a.ARRAY_BUFFER,this.lw),this.Ef&&(q.da.bufferData(q.da.ARRAY_BUFFER,this.Yb.qC,q.da.STATIC_DRAW),this.Ef=!1),a.vertexAttribPointer(q.$e,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(q.Oq,4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));q.Kh++;0!==q.Mj&&(1===q.Mj?(a=this.Yb,a=[q.a(a.$a.C.x,a.$a.C.y),q.a(a.Ra.C.x,a.Ra.C.y),q.a(a.cb.C.x,a.cb.C.y),q.a(a.Ta.C.x,a.Ta.C.y)],q.Ge.ie(a,4,!0)):2===
q.Mj&&(a=this.YC().Ya,c=this.vc,a=[q.a(c.x,c.y),q.a(c.x+a.width,c.y),q.a(c.x+a.width,c.y+a.height),q.a(c.x,c.y+a.height)],q.Ge.ie(a,4,!0)))}},C1:function(a,c,d,e){this.IB=c;this.Ng=d;this.HB=e;this.hs=a},B1:function(a){this.KB=a},Wj:function(a){if(this.yb){a=a||q.da;this.Im&&(a.globalCompositeOperation="lighter");a.iU=this.sp;var c=q.ra.g().va,d=q.ra.g().Da;a.globalAlpha=this.oc/255;var e=this.Aa,f=this.Ca,g=this.vc,h=this.Uo,k=0|g.I,l=-g.T-e.height,m=this.bn;1==this.hs&&(a.shadowBlur=this.IB?this.IB:
30,a.shadowColor=this.HB?this.HB:"black",a.shadowOffsetX=this.Ng?this.Ng.x:5,a.shadowOffsetY=this.Ng?this.Ng.y:5);if(this.rc||this.sc)a.save(),this.rc&&(k=-g.I-e.width,a.scale(-1,1)),this.sc&&(l=g.T,a.scale(1,-1));k*=c;l*=d;if(this.Ga&&m.gm)g=this.Ga.Ec,this.$q?a.drawImage(g,0,0,m.width,m.height,k,l,h.width,h.height):a.drawImage(g,m.x,m.y,m.width,m.height,k,l,h.width,h.height);else if(0!==f.Ha){var p=this.Ed();a.fillStyle="rgba("+p.t+","+p.p+","+p.o+",1)";a.fillRect(k,l,f.Ha*c,f.xa*d)}1==this.hs&&
(a.shadowBlur=0,a.shadowOffsetX=0,a.shadowOffsetY=0);1==this.KB&&(a.globalAlpha=1,a.beginPath(),a.strokeStyle="rgba("+p.t+","+p.p+","+p.o+",1)",a.lineWidth="1",fa(a,k,l,f.Ha*c,f.xa*d),a.stroke());1===q.Mj?(a.strokeStyle="rgba(0,255,0,1)",k/=c,l=-(l/d),k=[q.a(k,l),q.a(k+e.width,l),q.a(k+e.width,l-e.height),q.a(k,l-e.height)],q.Ge.ie(k,4,!0)):2===q.Mj&&(a.strokeStyle="rgba(0,255,0,1)",p=this.Aa.Ya,l=-l,k=[q.a(k,l),q.a(k+p.width,l),q.a(k+p.width,l-p.height),q.a(k,l-p.height)],q.Ge.ie(k,4,!0));(this.rc||
this.sc)&&a.restore();q.Kh++}}});
q.Ka.fd?(b=q.v.prototype,b.NB=q.v.prototype.PQ,b.Pf=q.v.prototype.xQ,b.vd=q.v.prototype.dR,b.ctor=q.v.prototype.ci,b.Ul=q.v.prototype.lQ,b.A=q.v.prototype.RA,b.Sa=q.v.prototype.Ir,b.Bw=q.v.prototype.UQ,b.ib=q.v.prototype.jH,b.ug=q.v.prototype.lR,b.f=q.v.prototype.Sz,b.ta=q.v.prototype.DB,b.q=q.v.prototype.BB,b.ud=q.v.prototype.cR,b.lq=q.v.prototype.rQ,b.JJ=q.v.prototype.tP,b.Ve=q.v.prototype.jQ,b.la=q.v.prototype.es,b.Za=q.v.prototype.Fg):(b=q.v.prototype,b.NB=q.v.prototype.OQ,b.Pf=q.v.prototype.wQ,
b.vd=q.v.prototype.DH,b.ctor=q.v.prototype.bi,b.Ul=q.v.prototype.kQ,b.A=q.v.prototype.QA,b.Sa=q.v.prototype.Hr,b.Bw=q.v.prototype.TQ,b.ib=q.v.prototype.FB,b.ug=q.v.prototype.kR,b.f=q.v.prototype.Rz,b.ta=q.v.prototype.cs,b.q=q.v.prototype.as,b.ud=q.v.prototype.aC,b.lq=q.v.prototype.qQ,b.JJ=q.v.prototype.sP,b.Ve=q.v.prototype.iQ,b.la=q.v.prototype.ds,b.Za=q.v.prototype.Wj);
q.v.Ja=function(a,c){var d=arguments.length,e=new q.v;switch(d){case 1:return e&&e.Sa(a)?e:null;case 2:return e&&e.Sa(a,c)?e:null;default:throw"Sprite.createWithTexture(): Argument must be non-nil ";}};q.v.create=function(a,c){var d=arguments.length,e=new q.v;if(0===d){if(e.A())return e}else if(e&&e.A(a,c))return e;return null};
q.v.oI=function(a){var c=null;if("string"==typeof a){if(c=q.Ag.g().Nh(a),!c)return q.log("Invalid spriteFrameName: "+a),null}else return q.log("Invalid argument. Expecting string."),null;return(a=new q.v)&&a.Pe(c)?a:null};q.v.nI=function(a){var c=new q.v;return c&&c.Pe(a)?c:null};Object.defineProperties(q.v.prototype,{oca:{get:function(){return this.sp},set:function(a){this.sp=a},enumerable:!0},e2:{get:function(){return this.yo},set:function(a){this.yo=a},enumerable:!0}});q.Ij=q.Pa.extend({js:null,we:0,Cs:null,ctor:function(){this.we=0},clone:function(){var a=new q.Ij;a.Pe(this.js.clone(),this.we,this.Cs);return a},Xw:function(){return q.clone(this)},Ls:function(){var a=new q.Ij;a.Pe(this.js.clone(),this.we,this.Cs);return a},Pe:function(a,c,d){this.js=a;this.we=c;this.Cs=d;return!0},Nh:function(){return this.js},Qf:function(a){this.js=a},I4:function(){return this.we},Baa:function(a){this.we=a},h7:function(){return this.Cs},Yba:function(a){this.Cs=a}});
q.Hj=q.Pa.extend({ye:null,gk:0,Rm:!1,Fa:0,we:0,dn:0,ctor:function(){this.ye=[]},b5:function(){return this.ye},bL:function(a){this.ye=a},nC:function(a){var c=new q.Ij;c.Pe(a,1,null);this.ye.push(c);this.dn++},V1:function(a){a=q.fa.g().ka(a);var c=q.xd();c.Ya=a.c();a=q.be.Ja(a,c);this.nC(a)},W1:function(a,c){var d=q.be.Ja(a,c);this.nC(d)},bt:function(a,c,d){q.Lt(a,q.Ij);this.we=c;this.gk=d;this.bL([]);for(c=0;c<a.length;c++)d=a[c],this.ye.push(d),this.dn+=d.we;return!0},clone:function(){var a=new q.Hj;
a.bt(this.mG(),this.we,this.gk);a.$x(this.Rm);return a},Xw:function(){var a=new q.Hj;a.bt(this.mG(),this.we,this.gk);a.$x(this.Rm);return a},mG:function(){for(var a=[],c=0;c<this.ye.length;c++)a.push(this.ye[c].clone());return a},Ls:function(){return this.Xw(null)},r5:function(){return this.gk},Yaa:function(a){this.gk=a},$x:function(a){this.Rm=a},r6:function(){return this.Rm},Kf:function(){return this.dn*this.we},H4:function(){return this.we},Aaa:function(a){this.we=a},Y6:function(){return this.dn},
AJ:function(a,c){q.Lt(a,q.be);this.gk=1;this.we=c||0;this.bL([]);if(a)for(var d=0;d<a.length;d++){var e=a[d],f=new q.Ij;f.Pe(e,1,null);this.ye.push(f);this.dn++}return!0},JK:function(){},BK:function(){}});q.Hj.create=function(a,c,d){var e=arguments.length,f=new q.Hj;0==e?f.AJ(null,0):2==e?f.AJ(a,c||0):3==e&&f.bt(a,c,d);return f};q.Hj.mI=function(a,c,d){var e=new q.Hj;e.bt(a,c,d);return e};q.jm=q.Pa.extend({PH:function(a,c){this.xm[c]=a},H$:function(a){a&&this.xm.hasOwnProperty(a)&&delete this.xm[a]},OI:function(a){return this.xm.hasOwnProperty(a)?this.xm[a]:null},lO:function(a,c){var d=a.animations;if(d){var e=1,f=a.properties;if(f)for(var e=null!=f.format?parseInt(f.format):e,f=f.spritesheets,g=q.Ag.g(),h=q.$d.g(),k,l=0;l<f.length;l++)k=h.MI(f[l],c),g.XH(k);switch(e){case 1:this.MP(d);break;case 2:this.NP(d);break;default:q.log("cc.AnimationCache. Invalid animation format")}}else q.log("cocos2d: cc.AnimationCache: No animations were found in provided dictionary.")},
M1:function(a){if(!a)throw"cc.AnimationCache.addAnimations(): Invalid texture file name";var c=q.$d.g(),d=c.Ke(a);(c=c.bx(d))?this.lO(c,a):q.log("cc.AnimationCache.addAnimations(): File could not be found")},MP:function(a){var c=q.Ag.g(),d;for(d in a){var e=a[d],f=e.frames,e=parseFloat(e.delay)||0,g=null;if(f){for(var g=[],h=0;h<f.length;h++){var k=c.Nh(f[h]);if(k){var l=new q.Ij;l.Pe(k,1,null);g.push(l)}else q.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+f[h]+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}0===
g.length?q.log("cocos2d: cc.AnimationCache: None of the frames for animation '"+d+"' were found in the cc.SpriteFrameCache. Animation is not being added to the Animation Cache."):(g.length!=f.length&&q.log("cocos2d: cc.AnimationCache: An animation in your dictionary refers to a frame which is not in the cc.SpriteFrameCache. Some or all of the frames for the animation '"+d+"' may be missing."),g=q.Hj.mI(g,e,1),q.jm.g().PH(g,d))}else q.log("cocos2d: cc.AnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},
NP:function(a){var c=q.Ag.g(),d;for(d in a){var e=a[d],f=parseInt(e.loops),f=e.loop?q.qm:isNaN(f)?1:f,g=e.restoreOriginalFrame&&1==e.restoreOriginalFrame?!0:!1,h=e.frames;if(h){for(var k=[],l=0;l<h.length;l++){var m=h[l],p=m.spriteframe,t=c.Nh(p);if(t){var p=parseFloat(m.delayUnits)||0,m=m.notification,v=new q.Ij;v.Pe(t,p,m);k.push(v)}else q.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+p+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}e=
parseFloat(e.delayPerUnit)||0;h=new q.Hj;h.bt(k,e,f);h.$x(g);q.jm.g().PH(h,d)}else q.log("cocos2d: CCAnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},A:function(){this.xm={};return!0},xm:null});q.jm.OV=function(){q.Tn&&(q.Tn.xm=null,q.Tn=null)};q.jm.g=function(){null===q.Tn&&(q.Tn=new q.jm,q.Tn.A());return q.Tn};q.Tn=null;q.be=q.Pa.extend({_offset:null,Ad:null,ef:null,Bd:!1,Aa:null,Yf:null,Bf:null,Ga:null,Bp:"",yb:!1,Av:null,ctor:function(){this._offset=q.Md();this.Yf=q.Md();this.Ad=q.Vm();this.Bd=!1;this.Bf=q.Vm();this.Bp="";this.Ga=null;this.yb=!1},$L:function(){return this.yb},gg:function(a,c){null==this.Av&&(this.Av=[]);this.Av.push({eventCallback:a,yi:c})},ue:function(){var a=this.Av;if(a){for(var c=0,d=a.length;c<d;c++){var e=a[c];e.eventCallback.call(e.yi,this)}a.length=0}},xT:function(){var a=this.ef;return q.rect(a.x,
a.y,a.width,a.height)},xba:function(a){this.ef||(this.ef=q.rect(0,0,0,0));this.ef.x=a.x;this.ef.y=a.y;this.ef.width=a.width;this.ef.height=a.height;this.Aa=q.Fq(a)},w8:function(){return this.Bd},Cba:function(a){this.Bd=a},sd:function(){var a=this.Aa;return q.rect(a.x,a.y,a.width,a.height)},qL:function(a){this.Aa||(this.Aa=q.rect(0,0,0,0));this.Aa.x=a.x;this.Aa.y=a.y;this.Aa.width=a.width;this.Aa.height=a.height;this.ef=q.po(this.Aa)},O5:function(){return this.Yf},lba:function(a){this.Yf.I=a.x;this.Yf.T=
a.y;q.bv(this.Yf,this._offset)},V5:function(){return this.Bf},oba:function(a){this.Bf.Ha=a.width;this.Bf.xa=a.height},sT:function(){return this.Ad},nba:function(a){this.Ad.Ha=a.width;this.Ad.xa=a.height},ia:function(){if(this.Ga)return this.Ga;if(""!==this.Bp){var a=q.fa.g().ka(this.Bp);a&&(this.yb=a.Wg());return a}return null},la:function(a){if(this.Ga!=a){var c=a.Wg();this.yb=c;this.Ga=a;c||a.gg(function(a){this.yb=!0;if(this.Bd&&q.Wd===q.wg){var c=a.Ec,c=q.pI(c,this.sd()),f=new q.qc;f.sf(c);f.je();
this.la(f);c=this.sd();this.qL(q.rect(0,0,c.width,c.height))}c=this.Aa;0===c.width&&0===c.height&&(a=a.c(),this.Aa.width=a.width,this.Aa.height=a.height,this.ef=q.po(this.Aa),this.Bf.Ha=this.ef.width,this.Bf.xa=this.ef.height,this.Ad.Ha=a.width,this.Ad.xa=a.height);this.ue()},this)}},N5:function(){return this._offset},kba:function(a){this._offset.I=a.x;this._offset.T=a.y},clone:function(){var a=new q.be;a.tx(this.Bp,this.ef,this.Bd,this.Yf,this.Bf);a.la(this.Ga);return a},Xw:function(){var a=new q.be;
a.tx(this.Bp,this.ef,this.Bd,this.Yf,this.Bf);a.la(this.Ga);return a},Ls:function(){return this.Xw()},Sa:function(a,c,d,e,f){2===arguments.length&&(c=q.po(c));e=e||q.a(0,0);f=f||c.Ya;this.la(a);this.ef=c;this.Aa=q.Fq(c);this.Yf.I=e.x;this.Yf.T=e.y;q.bv(e,this._offset);this.Bf.Ha=f.width;this.Bf.xa=f.height;q.Lz(f,this.Ad);this.Bd=d||!1;return!0},tx:function(a,c,d,e,f){2===arguments.length&&(c=q.po(c));e=e||q.a(0,0);f=f||c.Ya;this.Ga=null;this.Bp=a;this.ef=c;this.Aa=q.Fq(c);this.Bd=d||!1;this.Yf.I=
e.x;this.Yf.T=e.y;q.bv(e,this._offset);this.Bf.Ha=f.width;this.Bf.xa=f.height;q.Lz(f,this.Ad);return!0}});q.be.create=function(a,c,d,e,f){var g=new q.be;switch(arguments.length){case 2:g.tx(a,c);break;case 5:g.tx(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};q.be.Ja=function(a,c,d,e,f){var g=new q.be;switch(arguments.length){case 2:g.Sa(a,c);break;case 5:g.Sa(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};
q.be.e1=function(a,c,d,e,f){var g=new q.be;g.Ga=a;g.ef=c;g.Aa=q.Fq(c);g.Yf.I=e.x;g.Yf.T=e.y;q.bv(g.Yf,g._offset);g.Bf.Ha=f.width;g.Bf.xa=f.height;q.Lz(g.Bf,g.Ad);g.Bd=d;return g};q.Ag=q.Pa.extend({gf:null,ol:null,Or:null,ctor:function(){this.gf={};this.ol={};this.Or=[]},Uz:function(a,c){var d=a.metadata||a.meta,e=a.frames,f=0;d&&(f=d.format,f=1>=f.length?parseInt(f):f);if(0>f||3<f)q.log("format is not supported for cc.SpriteFrameCache.addSpriteFramesWithDictionary");else for(var g in e)if(d=e[g]){var h=this.gf[g];if(!h){if(0==f){var h=parseFloat(d.x),k=parseFloat(d.y),l=parseFloat(d.width),m=parseFloat(d.height),p=parseFloat(d.offsetX),t=parseFloat(d.offsetY),v=parseInt(d.originalWidth),
d=parseInt(d.originalHeight);v&&d||q.log("cocos2d: WARNING: originalWidth/Height not found on the cc.SpriteFrame. AnchorPoint won't work as expected. Regenrate the .plist");v=Math.abs(v);d=Math.abs(d);h=q.be.Ja(c,q.rect(h,k,l,m),!1,q.a(p,t),q.size(v,d))}else if(1==f||2==f)h=q.EF(d.frame),k=!1,2==f&&(k=d.rotated),l=q.DF(d.offset),d=q.xz(d.sourceSize),h=q.be.Ja(c,h,k,l,d);else if(3==f){var h=q.xz(d.spriteSize),k=q.DF(d.spriteOffset),l=q.xz(d.spriteSourceSize),m=q.EF(d.textureRect),p=d.textureRotated,
t=d.aliases,v=g.toString(),x;for(x in t)this.ol.hasOwnProperty(t[x])&&q.log("cocos2d: WARNING: an alias with name "+x+" already exists"),this.ol[t[x]]=v;d.hasOwnProperty("spriteSize")&&(m=q.rect(m.x,m.y,h.width,h.height));h=q.be.Ja(c,m,p,k,l)}else var y=d.filename,k=d.frame,h=d.sourceSize,k=q.rect(k.x,k.y,k.pM,k.h),d=d.rotated,l=q.a(0,0),h=q.size(h.pM,h.h),h=q.be.Ja(c,k,d,l,h);q.Wd===q.wg&&h.Bd&&h.ia().Wg()&&(d=h.ia().Ec,d=q.pI(d,h.xT()),k=new q.qc,k.sf(d),k.je(),h.la(k),d=h.Aa,h.qL(q.rect(0,0,d.width,
d.height)));this.gf[null!=y?y:g]=h}}},XH:function(a,c){if(!a)throw"cc.SpriteFrameCache.addSpriteFrames(): plist should be non-null";var d=q.$d.g(),e;"plist"==a.substr(a.lastIndexOf(".",a.length)+1,a.length)?(e=d.Ke(a),e=d.bx(e)):e=JSON.parse(d.eJ(a));switch(arguments.length){case 1:if(!q.Iy(this.Or,a)){var f="",g=e.metadata||e.meta;g&&(f=g.textureFileName||g.image);""!=f?f=d.MI(f,a):(f=a,f=f.substr(0,f.lastIndexOf(".",f.length)),f+=".png");(d=q.fa.g().ka(f))?this.Uz(e,d):q.log("cocos2d: cc.SpriteFrameCache: Couldn't load texture")}break;
case 2:if(c instanceof q.qc)this.Uz(e,c);else{if(!c)throw"cc.SpriteFrameCache.addSpriteFrames(): texture name should not be null";(d=q.fa.g().ka(c))?this.Uz(e,d):q.log("cocos2d: cc.SpriteFrameCache: couldn't load texture file. File not found "+c)}break;default:throw"Argument must be non-nil ";}},nC:function(a,c){this.gf[c]=a},P$:function(){this.gf=[];this.ol=[];this.Or={}},O$:function(a){a&&(this.ol.hasOwnProperty(a)&&delete this.ol[a],this.gf.hasOwnProperty(a)&&delete this.gf[a],this.Or={})},Q$:function(a){var c=
q.$d.g(),d=c.Ke(a),c=c.bx(d);this.XP(c);q.Iy(this.Or,a)&&q.oe(a)},XP:function(a){a=a.frames;for(var c in a)this.gf.hasOwnProperty(c)&&delete this.gf[c]},R$:function(a){for(var c in this.gf){var d=this.gf[c];d&&d.ia()==a&&delete this.gf[c]}},Nh:function(a){var c;this.gf.hasOwnProperty(a)&&(c=this.gf[a]);if(!c){var d;this.ol.hasOwnProperty(a)&&(d=this.ol[a]);d&&(this.gf.hasOwnProperty(d.toString())&&(c=this.gf[d.toString()]),c||q.log("cocos2d: cc.SpriteFrameCahce: Frame "+a+" not found"))}return c}});
q.Tx=null;q.Ag.g=function(){q.Tx||(q.Tx=new q.Ag);return q.Tx};q.Ag.PV=function(){q.Tx=null};q.Dq=29;
q.Eb=q.Node.extend({Ua:null,pa:null,Jd:null,X1:function(a,c,d){if(!a)throw"cc.SpriteBatchNode.addQuadFromSprite(): child should be non-null";if(!(a instanceof q.v))return q.log("cc.SpriteBatchNode.addQuadFromSprite(): SpriteBatchNode only supports cc.Sprites as children"),null;a.Ue(c);var e=0,f=this.Jd;if(f&&0<f.length)for(var g=0;g<f.length;g++){var h=f[g];h&&h.pd>=c&&++e}this.Jd=q.km(f,a,e);q.Node.prototype.f.call(this,a,c,d);this.FK(!1);return this},fJ:function(){return this.Ua},rq:function(a){a!=this.Ua&&
(this.Ua=a)},L4:function(){return this.Jd},uj:function(a,c){var d=q.fa.g().py(a);d||(d=q.fa.g().ka(a));return this.Sa(d,c)},Um:function(){this.iG=!0},A:function(a,c){var d=q.fa.g().py(a);d||(d=q.fa.g().ka(a));return this.Sa(d,c)},nx:function(){var a=this.Ua.yd,c=Math.floor(4*(a+1)/3);q.log("cocos2d: CCSpriteBatchNode: resizing TextureAtlas capacity from "+a+" to "+c+".");this.Ua.wW(c)||q.log("cocos2d: WARNING: Not enough memory to resize the atlas")},J$:function(a,c){this.removeChild(this.D[a],c)},
yK:function(a,c){var d=a.D;if(d&&0<d.length)for(var e=0;e<d.length;e++){var f=d[e];f&&0>f.ob&&(c=this.yK(f,c))}!a==this&&(a.Ue(c),c++);if(d&&0<d.length)for(e=0;e<d.length;e++)(f=d[e])&&0<=f.ob&&(c=this.yK(f,c));return c},gD:function(a){var c=a.D;return c&&0!=c.length?this.gD(c[c.length-1]):a.pd},RU:function(a){var c=a.D;return c&&0!=c.length?this.RU(c[c.length-1]):a.pd},HR:function(a,c){var d=a.getParent().D,e=q.Ky(d,a),f=a.getParent()==this,g=null;0<e&&e<q.$N&&(g=d[e-1]);if(f)return 0==e?0:this.gD(g)+
1;if(0==e)return d=a.getParent(),0>c?d.pd:d.pd+1;if(0>g.ob&&0>c||0<=g.ob&&0<=c)return this.gD(g)+1;d=a.getParent();return d.pd+1},FK:function(a){this.De=a},Ul:function(a,c){this.pa=1==arguments.length?a:{src:a,Tb:c}},Ts:function(){return this.pa},kt:function(a,c){if(!a)throw"cc.SpriteBatchNode.addChild():child should be non-null";-1===this.D.indexOf(a)?q.log("cc.SpriteBatchNode.addChild(): Child doesn't belong to Sprite"):c!==a.ob&&(q.Node.prototype.kt.call(this,a,c),this.fb())},removeChild:function(a,
c){null!=a&&(-1===this.D.indexOf(a)?q.log("cc.SpriteBatchNode.addChild(): sprite batch node should contain the child"):(this.Qn(a),q.Node.prototype.removeChild.call(this,a,c)))},CP:null,an:null,J1:!1,$f:null,ctor:null,bi:function(a){q.Node.prototype.ctor.call(this);a&&this.A(a,q.Dq)},ci:function(a){q.Node.prototype.ctor.call(this);this.CP=new q.Oh;a&&this.A(a,q.Dq)},kM:null,hR:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";a instanceof q.v?(a.Ve(this),
a.Ue(c),a.gh(!0),a.ug()):q.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},iR:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";if(a instanceof q.v){for(var d=this.Ua.yd;c>=d||d==this.Ua.bb;)this.nx();a.Ve(this);a.Ue(c);a.gh(!0);a.ug()}else q.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},yw:function(a,c){var d=this.Jd,e=this.Ua,f=e.cf,
g=d[a],h=q.Jz(f[a]);d[c].Ue(a);d[a]=d[c];e.wy(f[c],a);d[c]=g;e.wy(h,c)},BJ:null,qP:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";a instanceof q.v?(a.Ve(this),a.Ue(c),a.gh(!0),a.ug(),this.D=q.km(this.D,a,c)):q.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},rP:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";if(a instanceof q.v){for(var d=this.Ua;c>=
d.yd||d.yd===d.bb;)this.nx();a.Ve(this);a.Ue(c);d.oD(a.Yb,c);a.gh(!0);a.ug()}else q.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},CH:function(a,c){var d=0,e=a.D;e&&(d=e.length);var f=0;if(0===d)f=a.pd,a.Ue(c),a.oq(0),f!=c&&this.yw(f,c),c++;else{f=!0;0<=e[0].ob&&(f=a.pd,a.Ue(c),a.oq(0),f!=c&&this.yw(f,c),c++,f=!1);for(d=0;d<e.length;d++){var g=e[d];f&&0<=g.ob&&(f=a.pd,a.Ue(c),a.oq(0),f!=c&&this.yw(f,c),c++,f=!1);c=this.CH(g,c)}f&&(f=a.pd,
a.Ue(c),a.oq(0),f!=c&&this.yw(f,c),c++)}return c},hn:function(){this.Ua.ia().at()||(this.pa.src=770,this.pa.Tb=771)},Sa:null,Hr:function(a){this.D=[];this.Jd=[];this.pa=new q.nm(q.Xe,q.We);this.an=this.$f=a;return!0},Ir:function(a,c){this.D=[];this.Jd=[];this.pa=new q.nm(q.Xe,q.We);c=c||q.Dq;this.Ua=new q.vo;this.Ua.Sa(a,c);this.hn();this.ih(q.ai.g().Ii(q.uz));return!0},tU:function(a,c){a.Ve(this);a.Ue(c);a.gh(!0);var d=this.Ua;d.bb>=d.yd&&this.nx();d.oD(a.Yb,c);this.Jd=q.km(this.Jd,a,c);var d=c+
1,e=this.Jd;if(e&&0<e.length)for(;d<e.length;d++)e[d].Ue(e[d].pd+1);if((e=a.D)&&0<e.length)for(d=0;d<e.length;d++)if(e[d]){var f=this.HR(e[d],e[d].ob);this.tU(e[d],f)}},appendChild:null,rO:function(a){this.De=!0;a.Ve(this);a.gh(!0);this.Jd.push(a);a.Ue(this.Jd.length-1);a=a.D;for(var c=0;c<a.length;c++)this.appendChild(a[c])},sO:function(a){this.De=!0;a.Ve(this);a.gh(!0);this.Jd.push(a);var c=this.Jd.length-1;a.Ue(c);var d=this.Ua;d.bb==d.yd&&this.nx();d.oD(a.Yb,c);a=a.D;for(c=0;c<a.length;c++)this.appendChild(a[c])},
Qn:null,YP:function(a){a.Ve(null);var c=this.Jd,d=q.Ky(c,a);if(-1!=d){q.yq(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.Ue(f.pd-1)}}if((a=a.D)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.Qn(a[c])},ZP:function(a){this.Ua.pW(a.pd);a.Ve(null);var c=this.Jd,d=q.Ky(c,a);if(-1!=d){q.yq(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.Ue(f.pd-1)}}if((a=a.D)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.Qn(a[c])},ia:null,KA:function(){return this.an},MA:function(){return this.Ua.ia()},la:null,ds:function(a){this.an=
a;for(var c=this.D,d=0;d<c.length;d++)c[d].la(a)},es:function(a){this.Ua.la(a);this.hn()},Ba:null,jn:function(a){var c=a||q.da;if(this.ya){c.save();this.transform(a);var d=this.D;if(d)for(this.ne(),a=0;a<d.length;a++)d[a]&&d[a].Ba(c);c.restore()}},kn:function(a){a=a||q.da;if(this.ya){q.iq();var c=this.al;c&&c.fq()&&(c.sC(),this.ty());this.ne();this.transform(a);this.Za(a);c&&c.fq()&&c.oC(this);q.hq();this.oq(0)}},f:null,Rz:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";
a instanceof q.v?(c=null==c?a.ob:c,d=null==d?a.Dd:d,q.Node.prototype.f.call(this,a,c,d),this.appendChild(a),this.fb()):q.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},Sz:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";a instanceof q.v?a.ia()!=this.Ua.ia()?q.log("cc.SpriteBatchNode.addChild(): cc.Sprite is not using the same texture"):(c=null==c?a.ob:c,d=null==d?a.Dd:d,q.Node.prototype.f.call(this,a,c,d),this.appendChild(a),
this.fb()):q.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},bc:null,UP:function(a){var c=this.Jd;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].Ve(null);q.Node.prototype.bc.call(this,a);this.Jd=[]},VP:function(a){var c=this.Jd;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].Ve(null);q.Node.prototype.bc.call(this,a);this.Jd=[];this.Ua.jW()},ne:null,MQ:function(){if(this.De){var a,c=0,d=this.D,e=d.length,f;for(a=1;a<e;a++){var g=
d[a],c=a-1;for(f=d[c];0<=c&&(g.ob<f.ob||g.ob==f.ob&&g.Zf<f.Zf);)d[c+1]=f,--c,f=d[c];d[c+1]=g}0<d.length&&this.Cg(d,q.Node.Uf.ne);this.De=!1}},NQ:function(){if(this.De){var a=this.D,c,d=0,e=a.length,f;for(c=1;c<e;c++){var g=a[c],d=c-1;for(f=a[d];0<=d&&(g.ob<f.ob||g.ob==f.ob&&g.Zf<f.Zf);)a[d+1]=f,--d,f=a[d];a[d+1]=g}if(0<a.length)for(this.Cg(a,q.Node.Uf.ne),c=d=0;c<a.length;c++)d=this.CH(a[c],d);this.De=!1}},Za:null,Fg:function(){0!==this.Ua.bb&&(this.$c.yf(),this.$c.kh(),this.Cg(this.D,q.Node.Uf.ug),
q.xk(this.pa.src,this.pa.Tb),this.Ua.MS())}});
q.Ka.fd?(b=q.Eb.prototype,b.ctor=q.Eb.prototype.ci,b.kM=q.Eb.prototype.iR,b.BJ=q.Eb.prototype.rP,b.Sa=q.Eb.prototype.Ir,b.appendChild=q.Eb.prototype.sO,b.Qn=q.Eb.prototype.ZP,b.ia=q.Eb.prototype.MA,b.la=q.Eb.prototype.es,b.Ba=q.Eb.prototype.kn,b.f=q.Eb.prototype.Sz,b.bc=q.Eb.prototype.VP,b.ne=q.Eb.prototype.NQ,b.Za=q.Eb.prototype.Fg):(b=q.Eb.prototype,b.ctor=q.Eb.prototype.bi,b.kM=q.Eb.prototype.hR,b.BJ=q.Eb.prototype.qP,b.Sa=q.Eb.prototype.Hr,b.appendChild=q.Eb.prototype.rO,b.Qn=q.Eb.prototype.YP,
b.ia=q.Eb.prototype.KA,b.la=q.Eb.prototype.ds,b.Ba=q.Eb.prototype.jn,b.bc=q.Eb.prototype.UP,b.f=q.Eb.prototype.Rz,b.ne=q.Eb.prototype.MQ,b.Za=q.Node.prototype.Za);q.Eb.create=function(a,c){c=c||q.Dq;var d=new q.Eb;d.A(a,c);return d};q.Eb.Ja=function(a,c){c=c||q.Dq;var d=new q.Eb;d.Sa(a,c);return d};q.BZ={yZ:0,AZ:1,zZ:2,xZ:3,wZ:4};
q.Ye=q.Pa.extend({Qr:0,MG:0,ps:!1,os:!1,uw:!1,vw:!1,ww:!1,zP:0,Zv:0,Qq:"",rk:null,ctor:function(){this.MG=this.Qr=0;this.ww=this.vw=this.uw=this.os=this.ps=!1;this.Zv=this.zP=0;this.Qq="";this.rk={}},x5:function(){return this.Qr},w5:function(){return this.MG},y5:function(){return this.Zv},Bca:function(){return this.os},Cca:function(){return this.ps},zca:function(){return this.uw},Aca:function(){return this.vw},Dca:function(){return this.ww},Np:function(a){return-1<this.Qq.indexOf(a)},A:function(){var a=
this.rk;a["cocos2d.x.version"]=q.Ut;a["cocos2d.x.compiled_with_profiler"]=!1;a["cocos2d.x.compiled_with_gl_state_cache"]=q.hF;return!0},o4:function(a,c){var d=this.rk;return d.hasOwnProperty(a)?d[a]:c},j4:function(a,c){null==c&&(c=!1);var d=this.rk;return d.hasOwnProperty(a)?d[a]:c},G5:function(a,c){null==c&&(c=0);var d=this.rk;return d.hasOwnProperty(a)?d[a]:c},I5:function(a){var c=this.rk;return c.hasOwnProperty(a)?c[a]:null},zX:function(a,c){this.rk[a]=c},PS:function(){0===q.hF&&(q.log(""),q.log("cocos2d: **** WARNING **** CC_ENABLE_PROFILERS is defined. Disable it when you finish profiling (from ccConfig.js)"),
q.log(""))},aT:function(){if(q.Wd!==q.wg){var a=q.da,c=this.rk;c["gl.vendor"]=a.getParameter(a.VENDOR);c["gl.renderer"]=a.getParameter(a.RENDERER);c["gl.version"]=a.getParameter(a.VERSION);this.Qq="";for(var d=a.getSupportedExtensions(),e=0;e<d.length;e++)this.Qq+=d[e]+" ";this.Qr=a.getParameter(a.MAX_TEXTURE_SIZE);c["gl.max_texture_size"]=this.Qr;this.Zv=a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS);c["gl.max_texture_units"]=this.Zv;this.ps=this.Np("GL_IMG_texture_compression_pvrtc");c["gl.supports_PVRTC"]=
this.ps;this.os=!1;c["gl.supports_NPOT"]=this.os;this.uw=this.Np("GL_IMG_texture_format_BGRA888");c["gl.supports_BGRA8888"]=this.uw;this.vw=this.Np("GL_EXT_discard_framebuffer");c["gl.supports_discard_framebuffer"]=this.vw;this.ww=this.Np("vertex_array_object");c["gl.supports_vertex_array_object"]=this.ww;q.VE()}},Z8:function(a){var c=q.$d.g(),d=c.Ke(a),c=c.bx(d);if(null!=c)if(c=c.data)for(var e in c)this.rk[e]=c[e];else q.log("Expected 'data' dict, but not found. Config file: "+a)}});q.Ye.gs=null;
q.Ye.g=function(){q.Ye.gs||(q.Ye.gs=new q.Ye,q.Ye.gs.A());return q.Ye.gs};q.Ye.o$=function(){q.Ye.gs=null};q.Kh=0;q.NM=0;q.eF=1;q.OM=3;q.PM=q.eF;q.HZ=0;q.FZ=1;q.IZ=2;q.GZ=3;q.EZ=2;q.LZ=q.Pa.extend({hda:function(){}});q.iF=function(a){var c=new q.Oh;q.KU(q.vu,c);var d=new q.Oh;q.KU(q.uu,d);q.NU(a,c,d)};
q.ea=q.Pa.extend({q1:!1,Ur:!1,Pm:!1,kw:!1,Tm:!1,sh:0,aB:0,ml:0,xo:0,Cm:1,kr:!1,Wk:0,Dv:0,Pk:null,Rk:null,Xk:null,fc:null,fk:null,dj:null,dw:null,yh:null,jj:null,lB:null,Cd:null,ye:0,XB:0,AB:0,b1:null,Mg:null,rh:null,lf:null,WA:null,ev:null,Sr:null,p1:!1,ctor:function(){this.fk=Date.now();if(!q.pD){var a=this;window.addEventListener("focus",function(){a.fk=Date.now()},!1)}},dQ:function(){this.fk=Date.now()},A:function(){this.aB=this.sh=1/q.qS;this.jj=[];this.ml=q.PM;this.lB=null;this.Dv=this.xo=0;
this.kr=!1;this.XB=this.ye=0;this.fk=Date.now();this.kw=this.Pm=!1;this.fc=q.Vm();this.yh=null;this.Cm=1;this.Mg=new q.NN;this.rh=new q.wM;this.Mg.MK(this.rh,q.yu,!1);q.sa&&(this.lf=new q.sa,this.lf.A());q.no&&(this.WA=q.no.g());q.Ik&&(this.ev=new q.Ik);q.se&&(this.Sr=new q.se,this.Sr.A());return!0},MR:function(){var a=Date.now();this.Ur?(this.Wk=0,this.Ur=!1):this.Wk=(a-this.fk)/1E3;0<q.Ot&&.2<this.Wk&&(this.Wk=1/60);this.fk=a},hS:function(a){var c=new q.Oh;q.iF(c);var d=new q.Oh;q.R8(d,c);var c=
c.Ph[14]/c.Ph[15],e=this.yh.Sp();a=new q.jq(2*a.x/e.width-1,1-2*a.y/e.height,c);c=new q.jq;q.PU(c,a,d);return q.a(c.x,c.y)},jS:function(a){var c=new q.Oh;q.iF(c);var d=new q.jq;a=new q.jq(a.x,a.y,0);q.PU(d,a,c);c=this.yh.Sp();return q.a(c.width*(.5*d.x+.5),c.height*(.5*-d.y+.5))},NS:function(){this.MR();this.Pm||this.Mg.update(this.Wk);this.kG();this.dj&&this.yX();this.Zz&&this.Zz();this.Cd&&this.Cd.Ba();this.dw&&this.dw.Ba();this.kr&&this.LQ();this.Vz&&this.Vz();this.XB++;this.kr&&this.zO()},HO:function(){var a=
this.yh.nf;q.da.clearRect(-a.x,a.y,a.width,-a.height)},OO:function(){var a=q.da;a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},Zz:null,Vz:null,uO:function(){q.iq()},qO:function(){q.hq()},end:function(){this.kw=!0},A4:function(){return this.Cm},F5:function(){return this.dw},r7:function(){return this.fc},ST:function(){return q.size(this.fc.width*this.Cm,this.fc.height*this.Cm)},Xs:function(){return this.yh?this.yh.Xs():this.fc},kJ:function(){return this.yh?this.yh.kJ():q.AN},Zs:function(){return this.fc.height/
1.1566},pause:function(){this.Pm||(this.aB=this.sh,this.mt(.25),this.Pm=!0)},i$:function(){if(!this.Cd)throw"running scene should not null";this.jj.pop();var a=this.jj.length;0==a?this.end():(this.Tm=!0,this.dj=this.jj[a-1])},ID:function(){q.hz.ID()},NV:function(){this.Mf().Et();this.lf&&this.lf.iW();this.Cd&&(this.Cd.Rh(),this.Cd.le(),this.Cd.hg());this.dj=this.Cd=null;this.jj=[];this.UL();q.hz.ID();q.jm.OV();q.Ag.PV();q.fa.QV();q.VE()},RV:function(a){if(!a)throw"the scene should not null";this.Tm=
!1;this.jj.push(a);this.dj=a},GK:function(a){if(!this.Cd)throw"Use runWithScene: instead to start the director";if(!a)throw"the scene should not be null";var c=this.jj.length;0===c?(this.Tm=!0,this.jj[c]=a):(this.Tm=!0,this.jj[c-1]=a);this.dj=a},IK:function(){this.Pm&&(this.mt(this.aB),(this.fk=Date.now())||q.log("cocos2d: Director: Error in gettimeofday"),this.Pm=!1,this.Wk=0)},FW:function(a){if(!a)throw"This command can only be used to start the CCDirector. There is already a scene present.";if(this.Cd)throw"_runningScene should be null";
this.RV(a);this.SL()},SW:function(a){a?q.xk(q.Xe,q.We):q.xk(q.da.ONE,q.da.ZERO)},bX:function(a){a!=this.Cm&&(this.Cm=a,this.Qo())},fX:function(a){if(q.Wd!==q.wg){var c=q.da;a?(c.clearDepth(1),c.enable(c.DEPTH_TEST),c.depthFunc(c.LEQUAL)):c.disable(c.DEPTH_TEST)}},zaa:function(){},cL:function(){this.SW(!0);this.fX(!1);this.Zx(this.ml);q.da.clearColor(0,0,0,1)},gba:function(a){this.Ur=a},yX:function(){var a=!1,c=!1;q.TF&&(a=this.Cd?this.Cd instanceof q.TF:!1,c=this.dj?this.dj instanceof q.TF:!1);if(!c){if(c=
this.Cd)c.Rh(),c.le();this.Tm&&c&&c.hg()}this.Cd=this.dj;this.dj=null;a||null==this.Cd||(this.Cd.ah(),this.Cd.Hi())},hba:function(a){this.dw=a},Bc:function(){return this.lB},qg:function(a){this.lB=a},EX:function(a){this.fc.sE(q.canvas.width);this.fc.gE(q.canvas.height);this.yh=a||q.ra.g();q.Wd!==q.wg&&(a=q.Ye.g(),a.aT(),a.PS(),this.Qo(),this.cL(),this.lf&&this.lf.gX(!0))},EL:function(){if(this.yh){var a=this.fc;this.yh.dY(0,0,a.width,a.height)}},Zx:function(a){var c=this.fc;if(q.Wd===q.Ok){this.EL();
switch(a){case q.NM:q.Bn(q.vu);q.uD();var d=new q.Oh;q.OU(d,0,c.width,0,c.height,-1024,1024);q.wx(d);q.Bn(q.uu);q.uD();break;case q.eF:var e=this.Zs(),f=new q.Oh,d=new q.Oh;q.Bn(q.vu);q.uD();q.S8(f,60,c.width/c.height,.1,2*e);q.wx(f);q.Bn(q.uu);q.uD();e=q.ht(null,c.width/2,c.height/2,e);c=q.ht(null,c.width/2,c.height/2,0);f=q.ht(null,0,1,0);q.MU(d,e,c,f);q.wx(d);break;case q.OM:break;default:q.log("cocos2d: Director: unrecognized projection")}this.ml=a;q.tba()}else this.ml=a},LQ:function(){this.ye++;
this.xo+=this.Wk;this.Pk&&this.Rk&&this.Xk?(this.xo>q.LM&&(this.Rk.ma(this.AB.toFixed(3)),this.Dv=this.ye/this.xo,this.xo=this.ye=0,this.Pk.ma(this.Dv.toFixed(1)),this.Xk.ma((0|q.Kh).toString())),this.Pk.Ba(),this.Rk.Ba(),this.Xk.Ba()):this.Qo();q.Kh=0},z8:function(){return this.Tm},u6:function(){return this.Cd},d4:function(){return this.sh},b8:function(){return this.kr},Daa:function(a){this.kr=a},A6:function(){return this.AB},T5:function(){return this.yh},m8:function(){return this.Ur},q8:function(){return this.Pm},
Z6:function(){return this.XB},i6:function(){return this.ml},j$:function(){this.BV(1)},BV:function(a){if(!this.Cd)throw"A running Scene is needed";var c=this.jj,d=c.length;if(0==d)this.end();else if(!(a>d)){for(;d>a;){var e=c.pop();e.ff&&(e.Rh(),e.le());e.hg();d--}this.dj=c[c.length-1];this.Tm=!1}},Mf:function(){return this.Mg},RX:function(a){this.Mg!=a&&(this.Mg=a)},ig:function(){return this.rh},QW:function(a){this.rh!=a&&(this.rh=a)},b7:function(){return this.lf},Wba:function(a){this.lf!=a&&(this.lf=
a)},jx:function(){if(!q.no)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";return this.WA},Vaa:function(a){if(!q.no)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";this.WA=a},Rp:function(){if(!q.Ik)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";return this.ev},iaa:function(a){if(!q.Ik)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";this.ev!=
a&&(this.ev=a)},K4:function(){return this.Wk},Lf:function(){if(!q.se)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";return this.Sr},eba:function(a){if(!q.se)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.Sr!=a&&(this.Sr=a)},Qo:null,RO:function(){if(!q.gz)return this.nG();if(null!=q.ea.tG&&0!=q.ea.tG){var a=new q.qc;a.sf(q.ea.CA);a.je();var c=q.ra.g().Sp().height/320;0===c&&(c=this.fc.height/320);var d=new q.gz;
d.CB(!0);d.El("00.0",a,12,32,".");d.Ek(c);this.Pk=d;d=new q.gz;d.CB(!0);d.El("0.000",a,12,32,".");d.Ek(c);this.Rk=d;d=new q.gz;d.CB(!0);d.El("000",a,12,32,".");d.Ek(c);this.Xk=d;a=q.fF;this.Xk.l(q.dh(q.a(0,34*c),a));this.Rk.l(q.dh(q.a(0,17*c),a));this.Pk.l(a)}},nG:function(){var a=0,a=this.fc.width>this.fc.height?0|this.fc.height/320*24:0|this.fc.width/320*24;this.Pk=q.R.create("000.0","Arial",a);this.Rk=q.R.create("0.000","Arial",a);this.Xk=q.R.create("0000","Arial",a);var a=q.fF,c=this.Xk.c();this.Xk.l(q.dh(q.a(c.width/
2,5*c.height/2),a));c=this.Rk.c();this.Rk.l(q.dh(q.a(c.width/2,3*c.height/2),a));c=this.Pk.c();this.Pk.l(q.dh(q.a(c.width/2,c.height/2),a))},zO:function(){this.AB=(Date.now()-this.fk)/1E3}});q.Ka.fd?(q.ea.prototype.kG=q.ea.prototype.OO,q.ea.prototype.Zz=q.ea.prototype.uO,q.ea.prototype.Vz=q.ea.prototype.qO,q.ea.prototype.Qo=q.ea.prototype.RO):(q.ea.prototype.kG=q.ea.prototype.HO,q.ea.prototype.Qo=q.ea.prototype.nG);
q.QM=q.ea.extend({invalid:!1,SL:function(){this.Ur=!0;this.invalid=!1;q.Jk.g().mt(this.sh)},aK:function(){this.kw?(this.kw=!1,this.NV()):this.invalid||this.NS()},UL:function(){this.invalid=!0},mt:function(a){this.sh=a;this.invalid||(this.UL(),this.SL())}});q.Sx=null;q.GI=!0;q.ea.g=function(){q.GI&&(q.GI=!1,q.Sx=new q.QM,q.Sx.A(),q.Sx.EX(q.ra.g()));return q.Sx};Object.defineProperties(q,{wda:{get:function(){return q.GS.fc},enumerable:!0,configurable:!0}});q.S3=!0;q.qS=60;q.ea.CA=new Image;
q.ea.CA.addEventListener("load",function(){q.ea.tG=!0;this.removeEventListener("load",arguments.callee,!1)});q.ea.CA.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAAgCAYAAAD9qabkAAAKQ2lDQ1BJQ0MgcHJvZmlsZQAAeNqdU3dYk/cWPt/3ZQ9WQtjwsZdsgQAiI6wIyBBZohCSAGGEEBJAxYWIClYUFRGcSFXEgtUKSJ2I4qAouGdBiohai1VcOO4f3Ke1fXrv7e371/u855zn/M55zw+AERImkeaiagA5UoU8Otgfj09IxMm9gAIVSOAEIBDmy8JnBcUAAPADeXh+dLA//AGvbwACAHDVLiQSx+H/g7pQJlcAIJEA4CIS5wsBkFIAyC5UyBQAyBgAsFOzZAoAlAAAbHl8QiIAqg0A7PRJPgUA2KmT3BcA2KIcqQgAjQEAmShHJAJAuwBgVYFSLALAwgCgrEAiLgTArgGAWbYyRwKAvQUAdo5YkA9AYACAmUIszAAgOAIAQx4TzQMgTAOgMNK/4KlfcIW4SAEAwMuVzZdL0jMUuJXQGnfy8ODiIeLCbLFCYRcpEGYJ5CKcl5sjE0jnA0zODAAAGvnRwf44P5Dn5uTh5mbnbO/0xaL+a/BvIj4h8d/+vIwCBAAQTs/v2l/l5dYDcMcBsHW/a6lbANpWAGjf+V0z2wmgWgrQevmLeTj8QB6eoVDIPB0cCgsL7SViob0w44s+/zPhb+CLfvb8QB7+23rwAHGaQJmtwKOD/XFhbnauUo7nywRCMW735yP+x4V//Y4p0eI0sVwsFYrxWIm4UCJNx3m5UpFEIcmV4hLpfzLxH5b9CZN3DQCshk/ATrYHtctswH7uAQKLDljSdgBAfvMtjBoLkQAQZzQyefcAAJO/+Y9AKwEAzZek4wAAvOgYXKiUF0zGCAAARKCBKrBBBwzBFKzADpzBHbzAFwJhBkRADCTAPBBCBuSAHAqhGJZBGVTAOtgEtbADGqARmuEQtMExOA3n4BJcgetwFwZgGJ7CGLyGCQRByAgTYSE6iBFijtgizggXmY4EImFINJKApCDpiBRRIsXIcqQCqUJqkV1II/ItchQ5jVxA+pDbyCAyivyKvEcxlIGyUQPUAnVAuagfGorGoHPRdDQPXYCWomvRGrQePYC2oqfRS+h1dAB9io5jgNExDmaM2WFcjIdFYIlYGibHFmPlWDVWjzVjHVg3dhUbwJ5h7wgkAouAE+wIXoQQwmyCkJBHWExYQ6gl7CO0EroIVwmDhDHCJyKTqE+0JXoS+cR4YjqxkFhGrCbuIR4hniVeJw4TX5NIJA7JkuROCiElkDJJC0lrSNtILaRTpD7SEGmcTCbrkG3J3uQIsoCsIJeRt5APkE+S+8nD5LcUOsWI4kwJoiRSpJQSSjVlP+UEpZ8yQpmgqlHNqZ7UCKqIOp9aSW2gdlAvU4epEzR1miXNmxZDy6Qto9XQmmlnafdoL+l0ugndgx5Fl9CX0mvoB+nn6YP0dwwNhg2Dx0hiKBlrGXsZpxi3GS+ZTKYF05eZyFQw1zIbmWeYD5hvVVgq9ip8FZHKEpU6lVaVfpXnqlRVc1U/1XmqC1SrVQ+rXlZ9pkZVs1DjqQnUFqvVqR1Vu6k2rs5Sd1KPUM9RX6O+X/2C+mMNsoaFRqCGSKNUY7fGGY0hFsYyZfFYQtZyVgPrLGuYTWJbsvnsTHYF+xt2L3tMU0NzqmasZpFmneZxzQEOxrHg8DnZnErOIc4NznstAy0/LbHWaq1mrX6tN9p62r7aYu1y7Rbt69rvdXCdQJ0snfU6bTr3dQm6NrpRuoW623XP6j7TY+t56Qn1yvUO6d3RR/Vt9KP1F+rv1u/RHzcwNAg2kBlsMThj8MyQY+hrmGm40fCE4agRy2i6kcRoo9FJoye4Ju6HZ+M1eBc+ZqxvHGKsNN5l3Gs8YWJpMtukxKTF5L4pzZRrmma60bTTdMzMyCzcrNisyeyOOdWca55hvtm82/yNhaVFnMVKizaLx5balnzLBZZNlvesmFY+VnlW9VbXrEnWXOss623WV2xQG1ebDJs6m8u2qK2brcR2m23fFOIUjynSKfVTbtox7PzsCuya7AbtOfZh9iX2bfbPHcwcEh3WO3Q7fHJ0dcx2bHC866ThNMOpxKnD6VdnG2ehc53zNRemS5DLEpd2lxdTbaeKp26fesuV5RruutK10/Wjm7ub3K3ZbdTdzD3Ffav7TS6bG8ldwz3vQfTw91jicczjnaebp8LzkOcvXnZeWV77vR5Ps5wmntYwbcjbxFvgvct7YDo+PWX6zukDPsY+Ap96n4e+pr4i3z2+I37Wfpl+B/ye+zv6y/2P+L/hefIW8U4FYAHBAeUBvYEagbMDawMfBJkEpQc1BY0FuwYvDD4VQgwJDVkfcpNvwBfyG/ljM9xnLJrRFcoInRVaG/owzCZMHtYRjobPCN8Qfm+m+UzpzLYIiOBHbIi4H2kZmRf5fRQpKjKqLupRtFN0cXT3LNas5Fn7Z72O8Y+pjLk722q2cnZnrGpsUmxj7Ju4gLiquIF4h/hF8ZcSdBMkCe2J5MTYxD2J43MC52yaM5zkmlSWdGOu5dyiuRfm6c7Lnnc8WTVZkHw4hZgSl7I/5YMgQlAvGE/lp25NHRPyhJuFT0W+oo2iUbG3uEo8kuadVpX2ON07fUP6aIZPRnXGMwlPUit5kRmSuSPzTVZE1t6sz9lx2S05lJyUnKNSDWmWtCvXMLcot09mKyuTDeR55m3KG5OHyvfkI/lz89sVbIVM0aO0Uq5QDhZML6greFsYW3i4SL1IWtQz32b+6vkjC4IWfL2QsFC4sLPYuHhZ8eAiv0W7FiOLUxd3LjFdUrpkeGnw0n3LaMuylv1Q4lhSVfJqedzyjlKD0qWlQyuCVzSVqZTJy26u9Fq5YxVhlWRV72qX1VtWfyoXlV+scKyorviwRrjm4ldOX9V89Xlt2treSrfK7etI66Trbqz3Wb+vSr1qQdXQhvANrRvxjeUbX21K3nShemr1js20zcrNAzVhNe1bzLas2/KhNqP2ep1/XctW/a2rt77ZJtrWv913e/MOgx0VO97vlOy8tSt4V2u9RX31btLugt2PGmIbur/mft24R3dPxZ6Pe6V7B/ZF7+tqdG9s3K+/v7IJbVI2jR5IOnDlm4Bv2pvtmne1cFoqDsJB5cEn36Z8e+NQ6KHOw9zDzd+Zf7f1COtIeSvSOr91rC2jbaA9ob3v6IyjnR1eHUe+t/9+7zHjY3XHNY9XnqCdKD3x+eSCk+OnZKeenU4/PdSZ3Hn3TPyZa11RXb1nQ8+ePxd07ky3X/fJ897nj13wvHD0Ivdi2yW3S609rj1HfnD94UivW2/rZffL7Vc8rnT0Tes70e/Tf/pqwNVz1/jXLl2feb3vxuwbt24m3Ry4Jbr1+Hb27Rd3Cu5M3F16j3iv/L7a/eoH+g/qf7T+sWXAbeD4YMBgz8NZD+8OCYee/pT/04fh0kfMR9UjRiONj50fHxsNGr3yZM6T4aeypxPPyn5W/3nrc6vn3/3i+0vPWPzY8Av5i8+/rnmp83Lvq6mvOscjxx+8znk98ab8rc7bfe+477rfx70fmSj8QP5Q89H6Y8en0E/3Pud8/vwv94Tz+4A5JREAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfcAgcQLxxUBNp/AAAQZ0lEQVR42u2be3QVVZbGv1N17829eRLyIKAEOiISEtPhJTJAYuyBDmhWjAEx4iAGBhxA4wABbVAMWUAeykMCM+HRTcBRWkNH2l5moS0LCCrQTkYeQWBQSCAIgYRXEpKbW/XNH5zS4noR7faPEeu31l0h4dSpvc+t/Z199jkFWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhY/H9D/MR9qfKnLj/00U71aqfJn9+HCkCR/Wk36ddsgyJ/1wF4fkDfqqm9/gPsUeTnVr6a2xlQfnxdI7zs0W7irzD17Ytb2WT7EeNv/r4ox1O3Quf2QP2pgt9utwfout4FQE8AVBSlnaRmfvAURQkg2RlAbwB9AThlW5L0GaiKojhJhgOIBqDa7XaPrusdPtr5kQwF0BVAAoBIABRCKDd5aFUhRDAAw57eAOwAhKIoupft3zoqhB1AqLwuHIBut9uFt02qqvqRDJR2dAEQJj/BAOjn56dqmma+xiaECAEQAWAggLsB6A6HQ2iaZggBhBAqgEAAnQB0kzaEmT4hAITT6VQ8Ho/HJAKKECJQtr8LwD1y/A1/vcdfEUIEyfZ9AcQbYvZ942Px88L2UwlJR0dH0EMPPbRj5syZPUeNGrXR7Xb/641xIwJ1XY9NSUlZm52dfW+XLl1w8uRJzJ8//+OGhoYJqqqe1TSt1Wsm9NN1PSIqKmr12rVrR5WUlHy1bdu2AQCumWc3IYRD1/UwVVXnFRQUTIuNjUVzczN2797dWFJSkq8oymZd15sAGAEnFEUJ1nX9nzIzM1dnZmZGh4SE4OTJk5g5c+Zf29vbp9pstrMej6fVOyhIhgAYU1hY+B+hoaGoqKg4XVlZea+XTULTNFdCQsLGiRMnPuR2u3UhBOV9eeDAAWXTpk095DUe6WsoyRE5OTlr0tLSAux2O/bs2cO5c+e+pijKUpIXSHaQVAGkvPLKK++6XK4OksJLCFlXV2cvKSlJBFAjhU+x2WwhHo9nUHp6+urMzMy7wsLCUF9fjxdffPHjxsbGiTab7WuPx9NiEutOuq4PyMjI+M+srKyYqKgoHD58GDNmzNjq8XhyVFU9b/q+LH7hBAEYu3PnTlZVVRFAGgCX6f/tAHoOHDjwa0p27txp/JO9e/f+QM7cipw9nfL3kQBKt2zZQpJ87rnn6mQmoHilw2EACs+cOUOSrK+vZ1NTE0nyo48+IoBpxswoBcMJ4Ndjx471kOTFixe5d+9ekqTH42H//v13A4jyzpAURfEH0H/OnDnthu1z5sw558MmFUCPWbNmnaMP3nrrLZoyDmP8Hl68eDFJ8siRI9/Yc+zYMQKYKdtAztrTrl27xptRXV1NAKMAOAyBBBA/Y8aMdpLs6Ojgxx9//E37+++//29yvFXppwvAwMcee8xjtDHsuXLlCqOjo//ia3wsfpkoALqFhoZuIckJEyackimm3dQmEMDUmpoakmRISMhhAHOHDx/eQJIbN24kgKEyMAHAFRMTs2XXrl1saWkhSZ0kp0+ffhrAr3wEW/S8efOukORLL72kA1gKYMPWrVtJkk899dRJAHeYrgsEsIQkjx8/TgDvAPjd448/3kaSb7zxBmUa7vC6z53BwcFbSHL9+vU6Sc6aNes8gF5ewWAH0PfVV18lSQL4DMBGIcQ6AKtcLleBFC2jXtFt8ODBe0iyoqKCAJYByC8qKmJDQwOzsrK+MAmqo1OnTveHhoa+GRkZ+XZkZOSWiIiIvzgcjk9mzpypkWRmZuZpmbYbGV4AgPnNzc1sa2sjgN0A5iQmJtaSZHl5OQHcb/K3s81mW0uSTU1NBFAFYFbfvn1Pk+Tbb79NAA8IIVzW42/hByA+Pz/fLR/2ZXIda05NI/z9/TeR5J49ewhgqlxTrtI0jY2NjQQw3zTLuWJiYjaUlJToS5Ys6fjkk080kwDEeAmADcA9GzZsIElGRUW9CyAWwLApU6Y0kOSKFSsog9QICGdERMTGsrIyZmVlEcC9AB4IDw/fTpLbtm0jgN94CUAnAJmVlZVcs2aNZ/LkyRdJcvbs2b4EwAkgZfPmzTxw4AABFAN4BkC6vFeUSewcAO5duXIlSTIhIaEawGMAxgKYAmAGgCS73e5vrKVk/yGythANYEhCQsIhkly+fDkBpKqqGmL6DgIALDKN/3yZpVWQZGVlJQE8aPI3KiMjo5okV61aRQAjAPQBMPfIkSN0u90EUCBtsPiFEwpgbn19PdetW2fM5N4zQ9ekpKQqkty0aRMBpMjiWM6JEydIkoqirJUFJ6iq6pAPVy8A6cZMehMBUACEuVyuFwG8HBwcPEIWx367ZMkSjSQXLVrUJouTRorrkAHdA8BdQogsAOsKCwtJkmPGjDkvMw2bDDo/ADEjRoz4XylyFbm5uY0mAbjLyyZ/AOOrq6tZVlbWsWDBgo69e/eyoqKCgwcPPg4gSQaoIRbp27dvN7KF+tLSUr28vJwFBQXtMpvpYRIM7+wrAkDeqVOnePbsWQIoNKfzpiXPg8uXLydJJicnNwF4f+nSpW6STEtLq5fjYwhk1wkTJtSQ5Ouvv04AqTKj+N2xY8dIkgEBAW/Ie1v8wncRegwZMmQvSfbr12+3Ua33WqPfOWbMmP0kWVpaSgCDZAqcfejQIWNZsEGKgvnh9gfQb9myZd8nAEJVVZtMkUNk8CcNHTq0liR1XWdYWNhmH1mJIme80OnTp18x1rp5eXkEsNJms92Fb7e/IgEsvHz5Mp999tkmAI/l5uZeMC0B7vEqqAYAyL106RJJsra2lpWVld+sucePH38ZQG+5NncBeOrgwYMkqbe3t/Po0aOsra011wAWyl0H7x0JJ4DE+fPnu0kyPT29DsDdUrBuyNKEEAkAdpw/f/6GeoEM8GUmfwEgPCIiopwkGxsbabPZPgOw6L777vvm4p49e26VGYjFLxUhhD+ApLKyMp44ccIoVnXybgbgzkcfffRzklyzZg0BDJYCMMmoCwQFBXkLgLGWvvcWAgBToSsKwNPTp09vMR7UuLi4rwH0lgU8c/Db5ezbeeTIkRWzZ8++aMxu+fn5BPCADBwHgP4LFy701NXVEUAJgAnPP/98kyxMNgHo53A4zH77BQQETMvPz7+Um5vbBuAlAFMSExPPmdbVL0qh8Acw8fDhw5SCchVAEYAVb775JknyhRdeaJYztHfxMwLAaqNwCGC2FArv8x0hAHKNLGPKlCme5OTk/Zs3bzb7O0wKiiG8KXl5ed8IxenTp0mSR48e1UmyW7duWywBuD2xyQcgFECgoih+8H1gyJgZV5Lkyy+/3CbTRIePtl2HDBmyw1QBHyGDdXZdXR1JUghRKkXBjOMHCoBdpr0L3nvvPZLkF198wejo6O0A4lVVDTb74HQ6AwD8Wq7Jh8rgGgDgQ13XjVR8qaxJuADMbmlpYXl5uV5UVNRWUFDgfv/993Vj/ZydnU1c37eHXML4S3viAcQqitJD2l104cIFY8lTKsXSBWBMVVWVcd9yed2A1NTUQ6Zl00CvLMMOoHdubm6zFIlWOf5+PsY/Kj09vdrU11QAwwGsv3jxIk21m2DZr10I0RXAuAcffPBgaWkpV69eTYfDcdiwUxY0w6xw+flX8L1xApjevXv3lREREaW6rofB93aPDUDQpEmTMgHgtddeqwBwEd/utZvpqK6uPgEAcXFxkA94NwB9unfvjrNnz4LklwDcf08iIqv66Zs2bXrl4YcfxooVKxAbG7uqrq5uAYA2TdOEqqpGYIi2tjbl6aeffu/YsWPv5uTk7JaC1wHg4Pnz542MwoVvTx+21dbWYvjw4WLixIl+2dnZ9lGjRgmSTE1NRUpKCkwFTGiaxtTU1OXTpk3707Bhw/6g67pDipnT4biuj7qut+Lbk3Vf1tTUXI9qu91Pjq1QFEUBgJaWFgBo8yGOQ8eNGxcAAOvXr/8QwBUfYygAKL169eoCABcuXACAWtn2hOGv0+kMNO1KiPDw8F4A4rZv3/7R1KlTR0+bNu1ht9u9r1+/fqitrQXJgwDarRC6/QjPzs4+QJIffPCB9/aQmSAA43ft2mW0e1QGoi8CAPyLsZccExNTC2BlRkbGRdOyYJCP2csBIN6UAZzCd7cBbQCijYp/dXU1ExMTz6SmptaMHj36f9LS0vYlJCRsl6mxIWSdu3fv/g5J7t+/nwC2AShMTk6+SJKff/45AWRLYbD7+fndAeDf5BJnLoCCyZMnt5JkdnZ2C4B/F0KEm1Pu+Pj4rST55ZdfEsBWAK+mpaVdMo3raDn7KwDuSEpK+m+S3LBhAwG8DuCtHTt2UBbpjgC408vvcFVV15HkuXPnjMp+p5uMf0RcXNyHJNnQ0EBVVfcCWBQXF3fG+Jv0yxABPwB5LS0tRmFxN4BlTzzxxGWSXLx4sS5F3GGFy+1Hp5SUlJq6ujoWFxdTpsZ2H+0iIyMj/0iSWVlZX5mr5jfJFroPGzasxlhTnjp1iiTZ3NxMl8tlrCd9pfa9SkpKSJI5OTmnZOageLUZZqxvfVFWVkZcPwdgNwnSCKPqb17jkmR8fPzfZMDZ5CRsFBmNI7h95s2b1yhT7/MAYmStwCx4vy0uLqa3v5qmEcCfvSr1QQAeXb16NY3Cm3HQ55133iGAp+SxZTNhKSkpfzUddkrFjYevzAQCeGjp0qXfsYckY2NjTwD4leGDLCL2HTdunNtoY+zWSHFcIHdsFCtcfuZ1vO9Eqs3m7/F47sb1k2qX/f3997W2tl7BjWfpBYDOzzzzzIVJkyZh0KBBCwEsB3AJvl9AETabLcDj8dwRFRW1ctasWb8JCgpSzp07d62wsPC/Wltb8xRFadR1/ZqPXYbgAQMGbI2Pjw/+6quv9ldVVT0r01ezuPRJSUn5Y9euXXVd11WzDaqq6kePHm3+7LPPRgO4KlNuxWazhXo8nuTk5OSXMjIyEl0uFxoaGtqKior+dPXq1VdUVT0jj7r68ieoT58+vx8yZMjdx48fP1JVVTVF9m20VW02WyfZf97YsWPjXS4X6urqWvPy8jYCWCyEuEDS8FdVFKWzruv//OSTTy5OTk7uqWkaPv3007qysrJ8RVH+LI8ym8/rB3Tu3HnRI488knLo0KG2ffv2ZQI4C98vP6mqqoZqmpaclpa2cOTIkX39/f3R0NDQUVxc/G5TU9PLqqrWa5rWLH1QVFUN0TStX1JSUvH48eP7BwYG4uDBg1cKCgpeBbBe2u+2Qug2EwD5N5sMPuNtMe8XP4TT6Qxoa2sbIGeXvUKIK7d4IISiKC5d1wPljOfA9bPwzYqiXNV13dd6Uqiq6qdpml2mpe02m63d4/G4vcTF5fF47LJf71nJA6BZVVW3pmntuPHlmAD5wk6Q9NnbHp9vHaqq6tA0zU/64PZhk1FfCZB9G/23ALiqKEqzD39tpvbGUqoFwFUhRLP3yzpCCDtJpxyXDulfG27+pqRR3DXsUWVd4Yq0x/taVQjhIhksC8L+ABpM9ljBf5sKwI8pIBr75L5E4vvu+UNeG/a+hv+AL7yFH8qPtOfHjtOP6V/Bja8D6z/B2Nys/1u9Xv33tLf4GfF/LC4GCJwByWIAAAAASUVORK5CYII=";q.Bq=q.Pa.extend({yr:null,zr:null,Ar:null,Lo:null,Mo:null,No:null,zs:null,As:null,Bs:null,Qa:null,Vv:null,ctor:function(){this.Vv=new q.Oh;this.restore()},description:function(){return"<CCCamera | center =("+this.Lo+","+this.Mo+","+this.No+")>"},gh:function(a){this.Qa=a},HJ:function(){return this.Qa},restore:function(){this.yr=this.zr=0;this.Ar=q.Bq.Zs();this.zs=this.Lo=this.Mo=this.No=0;this.As=1;this.Bs=0;q.Q8(this.Vv);this.Qa=!1},XJ:function(){if(this.Qa){var a=new q.jq,c=new q.jq,d=new q.jq;q.ht(a,
this.yr,this.zr,this.Ar);q.ht(c,this.Lo,this.Mo,this.No);q.ht(d,this.zs,this.As,this.Bs);q.MU(this.Vv,a,c,d);this.Qa=!1}q.wx(this.Vv)},Iaa:function(a,c,d){this.$K(a,c,d)},$K:function(a,c,d){this.yr=a;this.zr=c;this.Ar=d;this.Qa=!0},raa:function(a,c,d){this.YW(a,c,d)},YW:function(a,c,d){this.Lo=a;this.Mo=c;this.No=d;this.Qa=!0},Xba:function(a,c,d){this.bY(a,c,d)},bY:function(a,c,d){this.zs=a;this.As=c;this.Bs=d;this.Qa=!0},T4:function(){return{x:this.yr,y:this.zr,z:this.Ar}},TI:function(){return{x:this.yr,
y:this.zr,z:this.Ar}},r4:function(){return{x:this.Lo,y:this.Mo,z:this.No}},RI:function(){return{x:this.Lo,y:this.Mo,z:this.No}},g7:function(){return{x:this.zs,y:this.As,z:this.Bs}},QT:function(){return{x:this.zs,y:this.As,z:this.Bs}},Q0:function(){}});q.Bq.Zs=function(){return q.ou};q.yu=-2147483648;q.L_=q.yu+1;q.Lt=function(a,c){if(a&&0<a.length)for(var d=0;d<a.length;d++)if(!(a[d]instanceof c)){q.log("element type is wrong!");break}};q.yq=function(a,c){a.splice(c,1)};q.oe=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c){a.splice(d,1);break}};q.nZ=function(a,c){for(var d=0,e=c.length;d<e;d++)q.oe(a,c[d])};q.mZ=function(a,c){return a.indexOf(c)};q.kZ=function(a,c){a.push(c)};q.km=function(a,c,d){a.splice(d,0,c);return a};
q.lZ=function(a,c,d){a.splice.apply(a,[d,0].concat(c));return a};q.Ky=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c)return d;return-1};q.Iy=function(a,c){return-1!=a.indexOf(c)};q.f_=function(a,c){if(null==a)return null;for(var d=0;d<a.length;d++)if(a[d].target===c)return a[d];return null};q.nF=function(a,c,d){this.next=null;this.target=a;this.vK=c;this.paused=d;this.Ll=!1};q.jF=function(a,c,d){this.list=a;this.vn=c;this.target=d;this.hh=null};
q.$M=function(a,c){this.tg=null;this.target=a;this.tq=0;this.Ns=this.Ms=null;this.paused=c;this.hh=null};
q.Pu=q.Pa.extend({ek:0,cg:null,aa:null,Ac:0,dH:!1,Mw:!1,Cp:0,tB:0,wv:0,ctor:function(){},o5:function(){return this.ek},setInterval:function(){},B6:function(){return this.cg},Vg:function(a,c,d,e,f){this.aa=a;this.cg=c;this.Ac=-1;this.ek=d||0;this.wv=f||0;this.Mw=0<this.wv;this.tB=null==e?q.qm:e;this.dH=this.tB==q.qm;return!0},bA:function(){if("string"==typeof this.cg)this.aa[this.cg](this.Ac);else this.cg.call(this.aa,this.Ac)},update:function(a){if(-1==this.Ac)this.Cp=this.Ac=0;else{var c=this.aa,
d=this.cg;this.dH&&!this.Mw?(this.Ac+=a,this.Ac>=this.ek&&(c&&d&&this.bA(),this.Ac=0)):(this.Ac+=a,this.Mw?this.Ac>=this.wv&&(c&&d&&this.bA(),this.Ac-=this.wv,this.Cp+=1,this.Mw=!1):this.Ac>=this.ek&&(c&&d&&this.bA(),this.Ac=0,this.Cp+=1),this.Cp>this.tB&&q.ea.g().Mf().dM(c,d))}}});q.Pu.Vca=function(a,c,d){if(2>arguments.length)throw Error("timerWithTarget'argument can't is null");var e=new q.Pu;e.Vg(a,c,d||0,q.qm,0);return e};q.D1=null;
q.NN=q.Pa.extend({ss:1,Hh:null,si:null,Qg:null,ak:null,hv:null,$j:null,Y0:null,zf:null,Xi:!1,Jw:!1,ctor:function(){this.ss=1;this.Hh=[];this.si=[];this.Qg=[];this.ak={};this.hv=[];this.$j={};this.Sk=[];this.zf=null;this.Jw=this.Xi=!1},sB:function(a){delete this.$j[a.target.zc];q.oe(this.Sk,a);a.Pu=null;a.target=null},d1:function(a,c){for(var d=0;d<a.length;d++)if(a[d].target==c)return a[d];return null},mw:function(a){if(a=this.ak[a.target.zc])q.oe(a.list,a.vn),delete this.ak[a.target.zc],q.oe(this.hv,
a),a.vn=null,a.target=null},XG:function(a,c,d,e){e=new q.nF(c,d,e);if(a){for(var f=!1,g=0;g<a.length;g++)if(d<a[g].vK){a=q.km(a,e,g);f=!0;break}f||a.push(e)}else a=[],a.push(e);d=new q.jF(a,e,c);this.hv.push(d);this.ak[c.zc]=d;return a},tO:function(a,c,d){d=new q.nF(c,0,d);a.push(d);a=new q.jF(a,d,c);this.hv.push(a);this.ak[c.zc]=a},Rba:function(a){this.ss=a},U6:function(){return this.ss},update:function(a){this.Jw=!0;1!=this.ss&&(a*=this.ss);var c,d;for(d=0;d<this.Hh.length;d++)c=this.Hh[d],c.paused||
c.Ll||c.target.update(a);for(d=0;d<this.si.length;d++)c=this.si[d],c.paused||c.Ll||c.target.update(a);for(d=0;d<this.Qg.length;d++)c=this.Qg[d],c.paused||c.Ll||c.target.update(a);for(d=0;d<this.Sk.length;d++){c=this.zf=this.Sk[d];this.Xi=!1;if(!this.zf.paused)for(c.tq=0;c.tq<c.tg.length;c.tq++)c.Ms=c.tg[c.tq],c.Ns=!1,c.Ms.update(a),c.Ms=null;this.Xi&&0==this.zf.tg.length&&this.sB(this.zf)}for(d=0;d<this.Hh.length;d++)this.Hh[d].Ll&&this.mw(this.Hh[d]);for(d=0;d<this.si.length;d++)this.si[d].Ll&&this.mw(this.si[d]);
for(d=0;d<this.Qg.length;d++)this.Qg[d].Ll&&this.mw(this.Qg[d]);this.Jw=!1;this.zf=null},IW:function(a,c,d,e,f,g){if(!c)throw"cc.scheduler.scheduleCallbackForTarget(): callback_fn should be non-null.";if(!a)throw"cc.scheduler.scheduleCallbackForTarget(): target should be non-null.";d=d||0;e=null==e?q.qm:e;f=f||0;g=g||!1;var h=this.$j[a.zc];h||(h=new q.$M(a,g),this.Sk.push(h),this.$j[a.zc]=h);if(null==h.tg)h.tg=[];else for(var k=0;k<h.tg.length;k++)if(g=h.tg[k],c==g.cg){q.log("CCSheduler#scheduleCallback. Callback already scheduled. Updating interval from:"+
g.ek.toFixed(4)+" to "+d.toFixed(4));g.ek=d;return}g=new q.Pu;g.Vg(a,c,d,e,f);h.tg.push(g)},MK:function(a,c,d){var e=this.ak[a.zc];e?e.vn.Ll=!1:0==c?this.tO(this.si,a,d):0>c?this.Hh=this.XG(this.Hh,a,c,d):this.Qg=this.XG(this.Qg,a,c,d)},dM:function(a,c){if(null!=a&&null!=c){var d=this.$j[a.zc];if(null!=d)for(var e=0;e<d.tg.length;e++){var f=d.tg[e];if(c==f.cg){f!=d.Ms||d.Ns||(d.Ns=!0);q.yq(d.tg,e);d.tq>=e&&d.tq--;0==d.tg.length&&(this.zf==d?this.Xi=!0:this.sB(d));break}}}},uq:function(a){null!=a&&
(a=this.ak[a.zc],null!=a&&(this.Jw?a.vn.Ll=!0:this.mw(a.vn)))},cM:function(a){if(null!=a){var c=this.$j[a.zc];c&&(!c.Ns&&q.Iy(c.tg,c.Ms)&&(c.Ns=!0),c.tg.length=0,this.zf==c?this.Xi=!0:this.sB(c));this.uq(a)}},Et:function(){this.IY(q.yu)},IY:function(a){var c;for(c=0;c<this.Sk.length;c++)this.cM(this.Sk[c].target);if(0>a)for(c=0;c<this.Hh.length;c++)this.uq(this.Hh[c].target);if(0>=a)for(c=0;c<this.si.length;c++)this.uq(this.si[c].target);for(c=0;c<this.Qg.length;c++)this.Qg[c].vK>=a&&this.uq(this.Qg[c].target)},
g$:function(){return this.vV(q.yu)},vV:function(a){var c=[],d,e;for(d=0;d<this.Sk.length;d++)if(e=this.Sk[d])e.paused=!0,c.push(e.target);if(0>a)for(d=0;d<this.Hh.length;d++)if(e=this.Hh[d])e.paused=!0,c.push(e.target);if(0>=a)for(d=0;d<this.si.length;d++)if(e=this.si[d])e.paused=!0,c.push(e.target);for(d=0;d<this.Qg.length;d++)if(e=this.Qg[d])e.paused=!0,c.push(e.target);return c},BW:function(a){if(a)for(var c=0;c<a.length;c++)this.Rn(a[c])},jt:function(a){if(!a)throw"cc.Scheduler.pauseTarget():target should be non-null";
var c=this.$j[a.zc];c&&(c.paused=!0);if(a=this.ak[a.zc])a.vn.paused=!0},Rn:function(a){if(!a)throw"cc.Scheduler.resumeTarget():target should be non-null";var c=this.$j[a.zc];c&&(c.paused=!1);if(a=this.ak[a.zc])a.vn.paused=!1},C8:function(a){if(!a)throw"cc.Scheduler.isTargetPaused():target should be non-null";return(a=this.$j[a.zc])?a.paused:!1}});q.rz={IMAGE:["png","jpg","bmp","jpeg","gif"],SOUND:["mp3","ogg","wav","mp4","m4a"],XML:["plist","xml","fnt","tmx","tsx"],BINARY:["ccbi"],FONT:"FONT",TEXT:["txt","vsh","fsh","json","ExportJson"],UNKNOW:[]};
q.Wb=q.Pa.extend({Ro:0,vs:0,Pr:0,Qm:null,sh:1/60,ek:null,FG:!1,ctor:function(){this.Qm=[]},sx:function(a,c,d){if(a){c&&(this.cg=c,this.aa=d);if(a!=this.Qm||0==this.Ro){this.Pr=this.Ro=0;if(a[0]instanceof Array)for(c=0;c<a.length;c++)this.Qm=this.Qm.concat(a[c]);else this.Qm=a;this.vs=this.Qm.length}this.hQ()}else console.log("resources should not null")},UW:function(a){this.FG=a},Nl:function(a){this.Pr++;q.log("cocos2d:Failed loading resource: "+a)},ng:function(){this.Pr++},kx:function(){var a=0;
return a=0==this.vs?100:0|this.Pr/this.vs*100},fW:function(a){if(a&&0<a.length)for(var c=q.fa.g(),d=q.Wh?q.Wh.g():null,e=q.Mk.g(),f=q.$d.g(),g,h=0;h<a.length;h++){g=a[h];var k=this.wG(g);switch(k){case "IMAGE":c.rW(g.src);break;case "SOUND":if(!d)throw"Can not find AudioEngine! Install it, please.";d.bda(g.src);break;case "XML":e.GY(g.src);break;case "BINARY":f.FY(g.src);break;case "TEXT":f.HY(g.src);break;case "FONT":break;default:throw"cocos2d:unknown filename extension: "+k;}}},OP:function(){this.Kw();
if(this.FG){var a=q.ea.g().Dv;if(null!=a&&20>a){q.log("cocos2d: frame rate less than 20 fps, skip frame.");return}}this.Ro<this.vs&&(this.wP(),this.Ro++)},wP:function(){var a=q.fa.g(),c=q.Wh?q.Wh.g():null,d=q.Mk.g(),e=q.$d.g(),f=this.Qm[this.Ro],g=this.wG(f);switch(g){case "IMAGE":a.ka(f.src);break;case "SOUND":if(!c)throw"Can not find AudioEngine! Install it, please.";c.m$(f.src);break;case "XML":d.IV(f.src);break;case "BINARY":e.HV(f.src);break;case "TEXT":e.JV(f.src);break;case "FONT":this.QP(f);
break;default:throw"cocos2d:unknown filename extension: "+g;}},hQ:function(){var a=this;this.ek=setInterval(function(){a.OP()},1E3*this.sh)},YQ:function(){clearInterval(this.ek)},wG:function(a){if(null!=a.Rs)return q.rz.FONT;a=a.src;a=a.substring(a.lastIndexOf(".")+1,a.length);var c=a.indexOf("?");0<c&&(a=a.substring(0,c));for(var d in q.rz)if(-1!=q.rz[d].indexOf(a))return d;return a},Kw:function(){100<=this.kx()&&(this.YQ(),this.PO())},PO:function(){if(this.aa&&"string"==typeof this.cg)this.aa[this.cg](this);
else this.aa&&"function"==typeof this.cg?this.cg.call(this.aa,this):this.cg(this);this.vs=this.Pr=this.Ro=0},QP:function(a){var c=a.src,d=q.$d.g();if(c&&0<c.length){var e=document.createElement("style");e.type="text/css";document.body.appendChild(e);for(var f="@font-face { font-family:"+a.Rs+"; src:",g=0;g<c.length;g++)f+="url('"+d.Ke(encodeURI(c[g].src))+"') format('"+c[g].type+"')",f+=g==c.length-1?";":",";e.textContent+=f+"};";c=document.createElement("div");c.style.fontFamily=a.Rs;c.innerHTML=
".";c.style.position="absolute";c.style.left="-100px";c.style.top="-100px";document.body.appendChild(c)}q.Wb.g().ng()},w1:function(a,c){var d=document.createElement("style");d.type="text/css";document.body.appendChild(d);d.textContent+="@font-face {font-family:"+a+";src: url(data:font/ttf;base64,"+c+") format('truetype');};";d=document.createElement("div");d.style.fontFamily=a;d.innerHTML="ajghl~!";d.style.position="absolute";d.style.left="-100px";d.style.top="-100px";document.body.appendChild(d);
q.Wb.g().ng()},H1:function(){}});q.Wb.GD=function(a,c,d){this.Ob||(this.Ob=new q.Wb);this.Ob.sx(a,c,d);return this.Ob};q.Wb.k$=function(a,c,d){this.Ob||(this.Ob=new q.Wb);this.Ob.UW(!0);this.Ob.sx(a,c,d);return this.Ob};q.Wb.ID=function(a){this.Ob&&this.Ob.fW(a)};q.Wb.g=function(){this.Ob||(this.Ob=new q.Wb);return this.Ob};q.Wb.Ob=null;
q.iz=q.Hq.extend({Uv:null,ip:null,zw:null,jv:null,Pv:null,kC:null,ctor:function(){q.Hq.prototype.ctor.call(this);this.kC=q.ea.g().fc},A:function(){q.Hq.prototype.A.call(this);var a=q.a(this.kC.width/2,this.kC.height/2);this.ip=new Image;var c=this;this.ip.addEventListener("load",function(){c.hP(a);this.removeEventListener("load",arguments.callee,!1)});this.ip.src="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAAlAAD/4QMpaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjAtYzA2MCA2MS4xMzQ3NzcsIDIwMTAvMDIvMTItMTc6MzI6MDAgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjM4MDBEMDY2QTU1MjExRTFBQTAzQjEzMUNFNzMxRkQwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjM4MDBEMDY1QTU1MjExRTFBQTAzQjEzMUNFNzMxRkQwIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzUgV2luZG93cyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU2RTk0OEM4OERCNDExRTE5NEUyRkE3M0M3QkE1NTlEIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU2RTk0OEM5OERCNDExRTE5NEUyRkE3M0M3QkE1NTlEIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+/+4ADkFkb2JlAGTAAAAAAf/bAIQADQkJCQoJDQoKDRMMCwwTFhENDREWGhUVFhUVGhkUFhUVFhQZGR0fIB8dGScnKionJzk4ODg5QEBAQEBAQEBAQAEODAwOEA4RDw8RFA4RDhQVERISERUfFRUXFRUfKB0ZGRkZHSgjJiAgICYjLCwoKCwsNzc1NzdAQEBAQEBAQEBA/8AAEQgAyACgAwEiAAIRAQMRAf/EALAAAAEFAQEAAAAAAAAAAAAAAAQAAgMFBgcBAQEAAwEBAAAAAAAAAAAAAAAAAQMEAgUQAAIBAgIEBwoLBgQGAwAAAAECAwAEEQUhMRIGQVFxsTITFGGBwdEiQlKSMzWRoeFicqKyI1NzFYJjJDQWB9KjVCbxwkNkJWXik3QRAAIBAgMFBQcDBQEAAAAAAAABAhEDIRIEMUFRcTJhwVIUBZGhsSJyEzOB0ULhYpIjUxX/2gAMAwEAAhEDEQA/AMJSpUqAVKlXuFAeUq9wpUB5XuFe4V6ooDzZHDox0CnGMinzwl7Z8NajaHeoO3vmTBZBtp9YUIqTEV5ROxHKnWRnaU8VRMhFBUjpV7hSoSeUq9pUB5Sr2lhQHlKvcK8oBV7hSFSRrtaKAZs07YNPM1pG2xJIAw1jSeandry/8X4m8VCKkWwaWwam7Xl/4v1W8VLtmX/i/VbxUoKkWwakSM407tmX/i/VbxUmzGwjQsjdY41IARie/U0IbZO0kNtCXnOCkEBeFu4KI3Bs7DNb27ya+jDx3kJeEnpJJEcQVbWDsk17u5urd591ucZkWhym2Vnd9RkCDEpFxDRpbw0bunu5mlp2De2FMLYXOD2wB2xbOeraUcYGJ72mlSUiqzzdzMd3Z3mixltA2yzcK/NlHM1DQyRXce1HocdNOEfJXZ88y9ZojOqhiBszIRiHQ8Y4cK5TvHuzLljHNMqxNoDjLFraHHnjPxcNCGVbxEUzYNTx5jZSxhpW6qTzlwJ+DCvO2Zf+L9VvFSgqyHYNLYNTdssPxfibxUu15f8Ai/VPiqCakOwa82DU/a8v/F+JvFTDdWPBL8R8VKCvYRYV5UzoMAy6QdIIqI0B4KJtxiRQwou16QoGUkntH5Tz0RbZbmF2hktraSVBo2lUkY8tDye0flPPXTslVUyiyVRsjqUOA4yMT8dW2ram2m6UVTNq9S7EIyUVJydMTn/6DnP+im9Wl+g5z/opvVrpteEhQWY4AaSTwAVf5WPiZh/9S5/zj7zltzlmYWkfWXNvJDGTgGcYDHirR7i7mSbwXParsFMrgb7w6jKw/wCmnc9I14kF3vpvCljbMyWMOJL4aEiB8qU/ObUK7HYWVrl1pFZWiCOCBQqKOLjPGTrNZZqKbUXVHq2nNwTuJRk1VpbgXN8s7Rk5ym0UQQzhIG2NAjhxHWbI+gCBVjBBFbwxwQqEiiUJGg1BVGAFe7dV28WYLYZFmF2Th1UD7JGjymGyn1iK5OyzIBGB1HgrLZhamzumQAGJwSqnSCh1q3GOCodxt4cxurdcpzuN4cyhiWaF5Bg09udUmnWw1H/jV9nFuJ7Quo+8h8peThFA+047vduyMtk7fYqTl07YFdfUufMPzT5p71UdtlmYXaGS2t3mQHAsgxANdadYJopLe4QS2867EsZ4QfCNYrCFbjdDPmgkYyWFxgVf04ifJf6ScNdRUW1XBb6FU5TjF5EpSSrGu/s5lN+g5z/opvVpfoOc/wCim9WtdHnatvObJXDW7xLGhB8nrPaY9/HCr+tEdPCVaSeDoYLnqF63lzW4/PFSW3ecxbI84VSzWUwUaSdg0DXXK5nvAipnd6qgKvWnQO7pri9ZUEmm3Vl2j1kr8pRlFRyquBNZjGxQ/S56Y1S2fu9OVueon11Szahoou06QoQUXadIVCD2FJJ7R+U89dMydv8Axdn+TH9muZye0flPPXQstlK5Tbka1gUjlC1q0vVLkeb6r+O3Tx9xcY1nt8c0NrZCyiOE1108NYjGv1joo7Js1jzKyScYLIvkzL6LDwHXVJksH9Sb49dKNq0tj1jA6uriOCL+02FWX7iVtZX1/AzaHTyeoauKn2MX9W79zebiZCuR5MjSrhfXuEtwTrUeZH+yNfdrRNcxI6IzhXlJEak6WIGJ2Rw4ChWnChndtlVBLMdQA0k1gbXNMzzDfDLs6mjaPKppJbWwJ1bOwwxw43OnHh71YT3DpfWUJmFlb5jHHDdeXBHIsrRea5TSqvxqG04cNN62vetoCS4tre5mgnkGE9q+3DKOkuI2WX6LDQRRHWDh1UCtwj7QRg2wdl8Djgw1qe7XvW0BQ3kfZ7mSLgU+T9E6RVbnuVrnWVSWqj+Lt8ZbRuHEdKPkYVcZ2MJY5fSGyeVar45+rkWQHAqccalPE5km1htWK5nK4Wnt5FuUBUwOMG4nGkA/BXUrW4S6torlOjMgcd/xVn7rLo7zKs0uEjCNeSvdwoBhgsZxX1l2j36k3Lu+uyprdj5Vs5A+i/lD48a0aaVJOPi7jB6lbzWozpjB48pf1NDXNN4vfl7+Z4BXS65pvF78vfzPAK71XTHmZ/S/yT+jvJ7L3fHytz1E+upbL+Qj5W56jfXWRnsIYKLtekKEFGWvSFQgyjk9o/Keet3YthlMP/5x9msJJ7R+U89biyb/AMXEv7gD6tadL1T+kwepRrC39ZkLDMbiwMvUHRPG0bjlGg8ore/23sxBldxfMPLupNhT8yL/AORNZbdzJ484scytxgLqJY5LZj6Q2sV5G1Vud1mjjyG0ij0NEGSZToKyhjtqw4waztuiXA3qKTbSxltfGhbZlE95ZtZqxVbgiOZhrER9ph3Svk9+pJILZ4Y4DGBFCUMKjRsGPobPFhUfW0NJmljE2xJcIrcI2vFUEln1lRXd6lrazXT9GCNpD+yNqoI7mOVduNw6nzlOIoPOUa6yye1XXcbMR5GdQ3xY0BSbj31/FcTQZirJ+q431q7anbHCTZ72Bw7lbPrKBMcBWNNgbMBBh+bsjBdni0VJ1lARZs6yWiupxCuMDy6KpS2IwOo6DTr3Mre3e5tZZVUM4ZBjqOOJoWO4jkXajcOOMHGgDISvWIrdAkKR80+TzVl908bPPL3LzxOuHdifxVfiTAg92qI/w+/8gGgSyN/mR7XPVlp0lF/3L3mbVKtu5Hjbk/8AHE2Fc03i9+Xv5ngFdKNc13i9+Xv5ngFaNV0x5nn+l/kn9HeEWXu+PlbnqJ9dS2Xu9OVueon11kZ7CGCjLXpCgxRlr0hUIPYUcntH5Tz1s8vb+Bt1/dqPirGSe0flPPWusG/g4Py15q06XqlyMWvVYQ+ruI9xJOqzO9hOto/sP8tbGOFIrmWeM7IuMDMnAXXQJOUjQeOsJk0nY96ip0CYunrjaHx1t+srPJUbXBm2LrFPikwTOb+T+VhbZxGMrDXp83x1QSy2tucJpUjPETp+Cn5/ftaRvKvtp3Kx48HG3erHMzOxZiWZtLMdJNQSbbL71Vk6yynViOkqnEEfOWtPbXi3EQkGg6mXiNckjeSJxJGxR10qw0GtxuxmvbImD4CZMFlA4fRfv0BqesqqzTMZNMEDbIHtHH2QeCiZJSqMQdOGiue53mz3czQwsRbIcNHnkec3c4qAMuriz68gTIToxwOOnlp0MjxMJYW741Gs3RVldtbygE/dMcHX/moDaxTiWNZB53B3arb8/wC+4SOF4sf/AKxU9kcBsfOGHfoUHtG/RbzY5Die5HHhXdvavqiZ9Q8Jdlq4/gbKua7xe/L38zwCuhpf2Uk/Zo50kmwJKIdogDjw1VzzeL35e/meAVp1LTgqY4nn+mRauzqmqwrjzCLL3fHytz1E+upLL+Qj5W56jfXWRnroYKLtekKEFF2vSFQg9hSSe0flPPWosm/hIfoLzVl5PaPynnrRWb/w0X0F5q06XqlyM2sVYx5gmbFre/t71NY2T+0h8VbSO5SWNJUOKSAMp7jDGspmMPaLRlXS6eWve1/FRO7WYdbZm1Y/eW/R7qHxHRXGojlm3ulid6aVbaW+OALvgCLq2Hm9WxHKWqjhj6xsK1e8dm15l4niG1LZkswGsxtrPeOmsvayBJA1VItlWjptLuTdPMo7LtjRDq9naK4+WF9IrUW7BaHOljGqVHB7w2hzVoZt87d8vaNYSLl02CcRsDEbJbj71Uu7UBkvJ7/D7q2QoDxySaAO8MTXdxRVMpRp5XZOWdF/ms7R5XdyKfKWJsO/5PhrG5XlNxmEywW6bTnTxAAcJNbGSMXkM1pjgbiNo1PziPJ+Os7u7m/6ReM00ZOgxSpqYYHT3wRXMKN4ll9zUG4bQfNshu8sZVuEA2hirA4qe/VOwwrVbzbww5mI44UKRRYkbWG0S3JWctbd7u5WFfOOLHiUdJqmaipfLsIsObhWe001lMkMVvJNjhghIALMcBxCs7fxXQmkupx1bXDswGPlaTidVaEyKNXkoo4eBV+Sq7L7Vs9zcBgeyQ4GQ/MB1crmoim2orezqcowTuSeEY48jQ7oZX2PLzdyLhNd6RjrEY6I7+uspvH78vfzPAK6UAAAFGAGgAcArmu8Xvy9/M8ArTfio24RW5nnaG67uou3H/KPuqT2X8hHytz1G+upLL3enK3PUb66ys9RDBRdr0hQgou06QqEGUkntH5Tz1e238vF9BeaqKT2j8p56vbb+Xi+gvNWjTdUuRn1XTHmTh8KrJTJlt8t1CPIY44cGnpJVjTJYkmjaN9Ib4u7V923njTethRauZJV3PaW1rfLIiXEDYg6R4VYc9CXW7thfOZbKdbGZtLW8uPVY/u3GrkNUkM9zlcxUjbhfWOA90cRq4gv4LhdqN+VToNYWmnRm9NNVWNTyHc6VWBv8wt4YeHqm6xyPmroq1Z7WGFLSxTq7WLSuPSdjrkfumq5yHXDUeA92oO2SKpVumNAaoJLMXH3myp0rpJ4uKhc3tbDM5BMri1zAj79j7KTiY8TcdBpcsith0286o+sPCagEX9Pzg4zXUCp6QYse8oouCG3tk6m1BYv05W6T+IdyolxbHDAAa2OgDlNCz3ryN2WxBd5PJMg1t81eId2ukqnLlTBbfcuY+9uJLiRcvtPvHdsHK+cfRHcHDWsyawjyy0WBcDI3lTP6TeIcFV+S5OmXx9bJg1048o8Cj0V8Jq2DVu09nL80up7OxHi+oal3P8AXB/IsZS8T/YOV65zvCcc7vfzPAK3ivWCz445zeH954BXOr6I8yfSfyz+jvCLP3fHytz1G+upLP3fHytz1E+usbPaQ0UXadIUIKLtekKhB7Ckk9o/Keer22/l4/oLzVRSe0flPPV7b/y8X0F5q0abqlyM+q6Y8yQsBTDMor1o8aiaE1pbluMqS3sbLLHIhSRQyngqukhaJ9uBjo+H5aOa3ao2t34qouRlLajTalGP8v0IY8ylXQ+PKPFU/bYXOLPge6CKia0LaxTOxHu1Q7cuBd9yPEJ7TbjXKO8CajbMIF6CNIeNvJHjqIWJ7tSpYkalqVblwIdyG+RGXur0hXYJFxal+Dhq5y3slkv3Y2pD0pTr+QUClpJRUdo9XW4OLrTHtM16cZLLWkeC7y4jvlNEpcRtw1Ux27Ci448NZrTFy3nn3IQWxlgGrDZ3pza7/M8ArZo+ArF5171uvp+CqdV0R5l/psUrs2vB3hdl7vTlbnqJ9dS2Xu+PlbnqJ9dY2eshooq16QoQUXa9IVCD2FLJ7RuU89WNtmUSQqkgYMgw0accKrpPaPynnrZWG4Vi+VWmY5tnMWXG+XrIYnA0rhj0mdcTgdNdwnKDqjmduM1SRR/qlr8/4KX6pa8T/BVzDuLZXudRZblmbxXcPUNPc3KqCIwrbOzgrHEnHjoyD+3eSXkht7DeKG4umDGOJVUklfouThXfmbnZ7Cvy1vt9pmv1W1+d8FL9VteJvgq5yrcOGfLmzHN80iyyETPbptAEFo2ZG8pmUa1OFNn3Ky6W/sbDKM5hv5bx2WTZA+7RF2y52WOPJTzE+z2Dy1vt9pT/AKpacTerS/U7Tib1a04/t7kDXPY03jhN0W6sQ7K7W3q2dnrMccaDy/8At80kuZfqWYxWNtlcvUPPhiGYhWDeUy7IwYU8xPs9g8tb7faUn6pacTerTxm9oOBvVq3v9z927aynuId44LiWKNnjhAXF2UYhRg516qpsryjLr21665zFLSTaK9U2GOA87SwqY37knRU+BzOzags0s1Oyr+BKM6sxwP6tSDPLMen6vy0rvdm3Sxlu7K/S7WDDrFUDUTxgnTU826eXW7KlxmqQuwDBXUKcD+1Xee/wXuKX5XDGWLapSVcOyhEM/seJ/V+WnjeGx4pPV+Wkm6kKZlFay3Jlt7iFpYZY8ASVK6DjtDDA0f8A0Tl340/1f8Ndx8xJVWXB0KbktFFpNzdVXAC/qOwA0CQni2flrO3Vwbm5lnI2TKxbDirX/wBE5d+NcfV/wVR7xZPa5U9utvI8nWhmbbw0YEAYYAVxfhfy5rlKR4Fulu6X7mW1mzT8S4Yis/5CPlbnqJ9dSWfu9OVueon11mZvQ2i7XpChKKtekKhBlNJ7R+U89bDfGTb3a3ZX0Lcj6kdY+T2j8p560288m1kWQr6MJ+ylSAr+2cnV5renjs3H1loX+3j9XvbbtxLN9lqW4UnV5jdnjtXHxihtyZNjeSBu5J9k1BJe7xy7W5CJ/wCzuD/mTVTf2+fq97LJuLrPsNRueS7W6aJ/38x+vLVXuY+xvHaNxbf2GoCezf8A36j/APsSf8w1sLnqczTefJluYoLm5uo5F61sBshItP1cNFYe1f8A3ir/APfE/wCZUe9bB94r5jwuPsrQFhmG4l/Z2M17HdW90tuu3IkTHaCjWdIw0VVZdks9/C06yJFEp2dp+E1bbqybGTZ8vpQD7L1XRv8A7blT96Oda7tpNuuNE37Cq9KSisjyuUoxrStKllHbLlWTXsMs8chuSuwEPDqwoLe5y+YRE/gLzmqRekvKKtd4327yM/ulHxmrHJStySWVRyrjxKI2XC/CTlnlPPKTpTdFbP0L1bgrf5Lp0G3dPhQHwV0S1lzBsns3sESR8Crh9WAJGjSOKuU3E+zdZQ3oJh8IArdZXFDmOTpHa3i2+YrI2KtKy4ricBsBuHHgFXSo440+Wa2qqxjvM9uMoy+WvzWpLCWWWE28HxL6e43ojgkeSCBY1Ri5BGIUDT51cl3vm276BBqSEH4WbxV0tlkyXJcxTMb+OW6uY9mGHrCzDQwwAbTp2uKuTZ9N1uYsfRRR8WPhrm419mSSjRyiqxVK7y23B/ftuTm2oSdJyzNVw3BFn7vTlbnqF9dS2fu9OVueon11lZuQ2iLdsGFD05H2dNQGV0ntG5Tz1dWm9N1b2kVq8EVwsI2UaQaQOKhmitZGLOmk68DhSFvY+gfWNSAg7z3Qvo7yKCKIohiaNR5LKxx8qpxvjcqS0VpbxvwOAcRQPZ7D0G9Y0uz2HoH1jUCpLY7zXlpbm3eKO5QuzjrBqZji3x17PvNcyT288VvDBJbMWUovS2hslW7mFQ9nsPQPrGl2ew9A+saCod/WNxtbYsrfb17WBxx5ddD2281xC88klvDcSXEnWuzrqOGGC9zRUPZ7D0G9Y0uzWHoH1jQVCLreq6ntZbaO3it1mGy7RjTs1X2mYy20ZiCq8ZOODcdEdmsPQb1jS7PYegfWNdJuLqnQiSUlRqpFLmryxtH1Ma7Qw2gNNPOdSt0oI27p007s9h6B9Y0uz2HoH1jXX3Z+I4+1b8IJdX89xLHKQFMXQUahpxoiPN5P+onfU+A0/s9h6DesaXZ7D0D6xpG7OLbUtu0StW5JJx2bBsmbtiSiEk+cxoCWWSaVpZOk2vDVo0VYdnsPQb1jSNvZcCH1jSd2c+p1XAmFqEOmOPEfaH+BQd1ueo211IzrgFUYKNAAqI1WztCpUqVCRUqVKgFSpUqAVKlSoBUqVKgFSpUqAVKlSoBUqVKgFSpUqAVKlSoD/9k=";
this.ip.width=160;this.ip.height=200;this.jv=q.X.create(q.vC(32,32,32,255));this.jv.l(0,0);this.f(this.jv,0)},hP:function(a){this.zw=new q.qc;this.zw.sf(this.ip);this.zw.je();this.Uv=q.v.Ja(this.zw);this.Uv.Ek(q.gd());this.Uv.l(a);this.jv.f(this.Uv,10)},ah:function(){q.Node.prototype.ah.call(this);this.kc(this.qH,.3)},le:function(){q.Node.prototype.le.call(this);this.Pv&&this.Pv.ma("Loading... 0%")},sx:function(a,c,d){this.yW=a;this.NW=c;this.target=d},qH:function(){this.Nc(this.qH);q.Wb.GD(this.yW,
this.NW,this.target);this.kc(this.Kw)},Kw:function(){if(this.Pv){var a=q.Wb.g().kx();this.Pv.ma("Loading... "+a+"%")}100<=a&&this.Nc(this.Kw)}});q.iz.GD=function(a,c,d){this.Ob||(this.Ob=new q.iz,this.Ob.A());this.Ob.sx(a,c,d);a=q.ea.g();a.Cd?a.GK(this.Ob):a.FW(this.Ob);return this.Ob};q.Uy=q.Pa.extend({Gb:null,rL:function(a){this.Gb=a},n6:function(){return this.Gb},ctor:function(a){this.Gb=a},EC:function(){q.log("DrawingPrimitive.drawPoint() not implement!")},AI:function(){q.log("DrawingPrimitive.drawPoints() not implement!")},wi:function(){q.log("DrawingPrimitive.drawLine() not implement!")},BI:function(){q.log("DrawingPrimitive.drawRect() not implement!")},GC:function(){q.log("DrawingPrimitive.drawSolidRect() not implement!")},ie:function(){q.log("DrawingPrimitive.drawPoly() not implement!")},
dx:function(){q.log("DrawingPrimitive.drawSolidPoly() not implement!")},xI:function(){q.log("DrawingPrimitive.drawCircle() not implement!")},FC:function(){q.log("DrawingPrimitive.drawQuadBezier() not implement!")},yI:function(){q.log("DrawingPrimitive.drawCubicBezier() not implement!")},wI:function(){q.log("DrawingPrimitive.drawCardinalSpline() not implement!")},cx:function(){q.log("DrawingPrimitive.drawCardinalSpline() not implement!")}});
q.gF=q.Uy.extend({EC:function(a,c){c||(c=1);var d=q.ra.g().va,e=q.ra.g().Da,e=q.a(a.x*d,a.y*e);this.Gb.beginPath();this.Gb.arc(e.x,-e.y,c*d,0,2*Math.PI,!1);this.Gb.closePath();this.Gb.fill()},AI:function(a,c,d){if(null!=a){d||(d=1);c=this.Gb;var e=q.ra.g().va,f=q.ra.g().Da;c.beginPath();for(var g=0,h=a.length;g<h;g++)c.arc(a[g].x*e,-a[g].y*f,d*e,0,2*Math.PI,!1);c.closePath();c.fill()}},wi:function(a,c){var d=this.Gb,e=q.ra.g().va,f=q.ra.g().Da;d.beginPath();d.moveTo(a.x*e,-a.y*f);d.lineTo(c.x*e,-c.y*
f);d.closePath();d.stroke()},BI:function(a,c){this.wi(q.a(a.x,a.y),q.a(c.x,a.y));this.wi(q.a(c.x,a.y),q.a(c.x,c.y));this.wi(q.a(c.x,c.y),q.a(a.x,c.y));this.wi(q.a(a.x,c.y),q.a(a.x,a.y))},GC:function(a,c,d){a=[a,q.a(c.x,a.y),c,q.a(a.x,c.y)];this.dx(a,4,d)},ie:function(a,c,d,e){e=e||!1;if(null!=a){if(3>a.length)throw Error("Polygon's point must greater than 2");var f=a[0];c=this.Gb;var g=q.ra.g().va,h=q.ra.g().Da;c.beginPath();c.moveTo(f.x*g,-f.y*h);for(var f=1,k=a.length;f<k;f++)c.lineTo(a[f].x*g,
-a[f].y*h);d&&c.closePath();e?c.fill():c.stroke()}},dx:function(a,c,d){this.ZK(d.t,d.p,d.o,d.P);this.ie(a,c,!0,!0)},xI:function(a,c,d,e,f){f=f||!1;e=this.Gb;var g=q.ra.g().va,h=q.ra.g().Da;e.beginPath();e.arc(0|a.x*g,0|-(a.y*h),c*g,-d,-(d-2*Math.PI),!1);f&&e.lineTo(0|a.x*g,0|-(a.y*h));e.stroke()},FC:function(a,c,d,e){for(var f=[],g=0,h=0;h<e;h++)f.push(q.a(Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y)),g+=1/e;f.push(q.a(d.x,d.y));this.ie(f,e+1,!1,!1)},yI:function(a,
c,d,e,f){for(var g=[],h=0,k=0;k<f;k++)g.push(q.a(Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y)),h+=1/f;g.push(q.a(e.x,e.y));this.ie(g,f+1,!1,!1)},wI:function(a,c){this.cx(a,.5,c)},cx:function(a,c,d){q.da.strokeStyle="rgba(255,255,255,1)";for(var e=[],f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=q.Oy(q.Lh(a,f-1),q.Lh(a,f-0),q.Lh(a,f+1),q.Lh(a,f+2),c,g),e.push(f);this.ie(e,
d+1,!1,!1)},drawImage:function(a,c,d,e,f){switch(arguments.length){case 2:this.Gb.drawImage(a,c.x,-(c.y+a.height));break;case 3:this.Gb.drawImage(a,c.x,-(c.y+d.height),d.width,d.height);break;case 5:this.Gb.drawImage(a,c.x,c.y,d.width,d.height,e.x,-(e.y+f.height),f.width,f.height);break;default:throw Error("Argument must be non-nil");}},q3:function(a,c,d){a=a||this.Gb;c*=q.ra.g().va;d instanceof q.qe&&(d=new q.Jc(0|255*d.t,0|255*d.p,0|255*d.o));d="rgba("+d.t+","+d.p+","+d.o;a.fillStyle=d+",1)";var e=
c/10;a.beginPath();a.moveTo(-c,c);a.lineTo(0,e);a.lineTo(c,c);a.lineTo(e,0);a.lineTo(c,-c);a.lineTo(0,-e);a.lineTo(-c,-c);a.lineTo(-e,0);a.lineTo(-c,c);a.closePath();a.fill();var f=a.createRadialGradient(0,0,e,0,0,c);f.addColorStop(0,d+", 1)");f.addColorStop(.3,d+", 0.8)");f.addColorStop(1,d+", 0.0)");a.fillStyle=f;a.beginPath();a.arc(0,0,c-e,0,q.rF,!1);a.closePath();a.fill()},o3:function(a,c,d){a=a||this.Gb;c*=q.ra.g().va;d instanceof q.qe&&(d=new q.Jc(0|255*d.t,0|255*d.p,0|255*d.o));d="rgba("+d.t+
","+d.p+","+d.o;var e=a.createRadialGradient(0,0,c/10,0,0,c);e.addColorStop(0,d+", 1)");e.addColorStop(.3,d+", 0.8)");e.addColorStop(.6,d+", 0.4)");e.addColorStop(1,d+", 0.0)");a.fillStyle=e;a.beginPath();a.arc(0,0,c,0,q.rF,!1);a.closePath();a.fill()},fillText:function(a,c,d){this.Gb.fillText(a,c,-d)},hX:function(a,c,d,e){this.Gb.fillStyle="rgba("+a+","+c+","+d+","+e/255+")";this.Gb.strokeStyle="rgba("+a+","+c+","+d+","+e/255+")"},ZK:function(a,c,d,e){this.Gb.fillStyle="rgba("+(0|255*a)+","+(0|255*
c)+","+(0|255*d)+","+e+")";this.Gb.strokeStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+")"},IX:function(){},rX:function(a){this.Gb.lineWidth=a*q.ra.g().va}});
q.TM=q.Uy.extend({Jr:!1,Zb:null,Vi:-1,Dc:null,gB:-1,fB:-1,ctor:function(a){null==a&&(a=q.da);if(!a instanceof WebGLRenderingContext)throw"Can't initialise DrawingPrimitiveWebGL. context need is WebGLRenderingContext";q.Uy.prototype.ctor.call(this,a);this.Dc=new q.qe(1,1,1,1)},zk:function(){this.Jr||(this.Zb=q.ai.g().Ii(q.k0),this.Vi=this.Gb.getUniformLocation(this.Zb.lx(),"u_color"),this.gB=this.Gb.getUniformLocation(this.Zb.lx(),"u_pointSize"),this.Jr=!0)},p3:function(){this.Jr=!1},EC:function(a){this.zk();
this.Zb.yf();this.Zb.kh();q.Me(q.qh);this.Zb.Yl(this.Vi,new Float32Array(this.Dc.ec,0,4),1);this.Zb.AL(this.gB,this.fB);var c=this.Gb,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,new Float32Array([a.x,a.y]),c.STATIC_DRAW);c.vertexAttribPointer(q.$e,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,1);c.deleteBuffer(d);q.Yh()},AI:function(a){if(a&&0!=a.length){this.zk();this.Zb.yf();this.Zb.kh();q.Me(q.qh);this.Zb.Yl(this.Vi,new Float32Array(this.Dc.ec,0,4),1);this.Zb.AL(this.gB,
this.fB);var c=this.Gb,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.hw(a),c.STATIC_DRAW);c.vertexAttribPointer(q.$e,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,a.length);c.deleteBuffer(d);q.Yh()}},hw:function(a){for(var c=new Float32Array(2*a.length),d=0;d<a.length;d++)c[2*d]=a[d].x,c[2*d+1]=a[d].y;return c},wi:function(a,c){this.zk();this.Zb.yf();this.Zb.kh();q.Me(q.qh);this.Zb.Yl(this.Vi,new Float32Array(this.Dc.ec,0,4),1);var d=this.Gb,e=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,
e);d.bufferData(d.ARRAY_BUFFER,this.hw([a,c]),d.STATIC_DRAW);d.vertexAttribPointer(q.$e,2,d.FLOAT,!1,0,0);d.drawArrays(d.LINES,0,2);d.deleteBuffer(e);q.Yh()},BI:function(a,c){this.wi(q.a(a.x,a.y),q.a(c.x,a.y));this.wi(q.a(c.x,a.y),q.a(c.x,c.y));this.wi(q.a(c.x,c.y),q.a(a.x,c.y));this.wi(q.a(a.x,c.y),q.a(a.x,a.y))},GC:function(a,c,d){a=[a,q.a(c.x,a.y),c,q.a(a.x,c.y)];this.dx(a,4,d)},ie:function(a,c,d){this.zk();this.Zb.yf();this.Zb.kh();q.Me(q.qh);this.Zb.Yl(this.Vi,new Float32Array(this.Dc.ec,0,4),
1);c=this.Gb;var e=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,e);c.bufferData(c.ARRAY_BUFFER,this.hw(a),c.STATIC_DRAW);c.vertexAttribPointer(q.$e,2,c.FLOAT,!1,0,0);d?c.drawArrays(c.LINE_LOOP,0,a.length):c.drawArrays(c.LINE_STRIP,0,a.length);c.deleteBuffer(e);q.Yh()},dx:function(a,c,d){this.zk();d||(d=this.Dc);this.Zb.yf();this.Zb.kh();q.Me(q.qh);this.Zb.Yl(this.Vi,new Float32Array(d.ec,0,4),1);c=this.Gb;d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.hw(a),c.STATIC_DRAW);
c.vertexAttribPointer(q.$e,2,c.FLOAT,!1,0,0);c.drawArrays(c.TRIANGLE_FAN,0,a.length);c.deleteBuffer(d);q.Yh()},xI:function(a,c,d,e,f){this.zk();var g=1;f&&g++;var h=2*Math.PI/e;if(f=new Float32Array(2*(e+2))){for(var k=0;k<=e;k++){var l=k*h,m=c*Math.sin(l+d)+a.y;f[2*k]=c*Math.cos(l+d)+a.x;f[2*k+1]=m}f[2*(e+1)]=a.x;f[2*(e+1)+1]=a.y;this.Zb.yf();this.Zb.kh();q.Me(q.qh);this.Zb.Yl(this.Vi,new Float32Array(this.Dc.ec,0,4),1);a=this.Gb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(q.$e,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+g);a.deleteBuffer(c);q.Yh()}},FC:function(a,c,d,e){this.zk();for(var f=new Float32Array(2*(e+1)),g=0,h=0;h<e;h++)f[2*h]=Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,f[2*h+1]=Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y,g+=1/e;f[2*e]=d.x;f[2*e+1]=d.y;this.Zb.yf();this.Zb.kh();q.Me(q.qh);this.Zb.Yl(this.Vi,new Float32Array(this.Dc.ec,0,4),1);a=this.Gb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(q.$e,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+1);a.deleteBuffer(c);q.Yh()},yI:function(a,c,d,e,f){this.zk();for(var g=new Float32Array(2*(f+1)),h=0,k=0;k<f;k++)g[2*k]=Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,g[2*k+1]=Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y,h+=1/f;g[2*f]=e.x;g[2*f+1]=e.y;this.Zb.yf();this.Zb.kh();q.Me(q.qh);this.Zb.Yl(this.Vi,new Float32Array(this.Dc.ec,0,4),1);a=this.Gb;c=a.createBuffer();
a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,g,a.STATIC_DRAW);a.vertexAttribPointer(q.$e,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,f+1);a.deleteBuffer(c);q.Yh()},wI:function(a,c){this.cx(a,.5,c)},cx:function(a,c,d){this.zk();for(var e=new Float32Array(2*(d+1)),f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=q.Oy(q.Lh(a,f-1),q.Lh(a,f),q.Lh(a,f+1),q.Lh(a,f+2),c,g),e[2*k]=f.x,e[2*k+1]=f.y;this.Zb.yf();this.Zb.kh();q.Me(q.qh);this.Zb.Yl(this.Vi,new Float32Array(this.Dc.ec,
0,4),1);a=this.Gb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,e,a.STATIC_DRAW);a.vertexAttribPointer(q.$e,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,d+1);a.deleteBuffer(c);q.Yh()},hX:function(a,c,d,e){this.Dc.t=a/255;this.Dc.p=c/255;this.Dc.o=d/255;this.Dc.P=e/255},ZK:function(a,c,d,e){this.Dc.t=a;this.Dc.p=c;this.Dc.o=d;this.Dc.P=e},IX:function(a){this.fB=a*q.gd()},rX:function(a){this.Gb.lineWidth&&this.Gb.lineWidth(a)}});q.rF=2*Math.PI;q.KF={M0:0,r_:1,s_:2,cZ:3,k_:4,j_:5,pZ:6,y_:7,VZ:8,pN:100,yN:101};q.E_=0;q.F_=1;q.C_=2;q.D_=3;q.wg=0;q.Ok=1;q.Ge=null;q.da=null;q.canvas=null;q.ZS=null;q.Wd=q.wg;q.pV=q.size(0,0);window.TD=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;window.console||(window.console={},window.console.log=function(){},window.console.assert=function(){});q.pD=!1;
q.Zl=function(a,c,d){function e(){if(q.Wh){var a=q.Wh.g();document[k]?(a.uV(),a.wV()):(q.ea.g().dQ(),a.zW(),a.AW())}}a=q.Vb(a)||q.Vb("#"+a);var f,g,h;"CANVAS"==a.tagName?(c=c||a.width,d=d||a.height,g=q.tk=q.Hk("DIV"),h=g.style,f=q.canvas=a,f.parentNode.insertBefore(g,f),f.sn(g),h.width=(c||480)+"px",h.height=(d||320)+"px",g.setAttribute("id","Cocos2dGameContainer")):("DIV"!=a.tagName&&q.log("Warning: target element is not a DIV or CANVAS"),c=c||a.clientWidth,d=d||a.clientHeight,f=q.canvas=q.Hk("CANVAS"),
f.RH("gameCanvas"),f.setAttribute("width",c||480),f.setAttribute("height",d||320),g=q.tk=a,h=g.style,a.appendChild(f),h.width=(c||480)+"px",h.height=(d||320)+"px");h.margin="0 auto";h.position="relative";h.overflow="hidden";g.top="100%";if(!q.Nz){q.Ka.fd&&(q.da=q.vda=q.lI(f,{stencil:!0,preserveDrawingBuffer:!0,antialias:!q.Ka.vj,alpha:!1}));q.da?(q.Wd=q.Ok,window.gl=q.da,q.Ge=new q.TM(q.da),q.fa.g().oP()):(q.da=f.getContext("2d"),q.TU=q.da,q.Wd=q.wg,q.da.translate(0,f.height),q.Ge=q.gF?new q.gF(q.da):
null);q.pV=q.size(f.width,f.height);q.ZS=g;q.log(q.Ut);q.Ye.g();q.dX();q.Ka.vj&&q.pO();var k,l;"undefined"!==typeof document.hidden?(k="hidden",l="visibilitychange"):"undefined"!==typeof document.mozHidden?(k="mozHidden",l="mozvisibilitychange"):"undefined"!==typeof document.msHidden?(k="msHidden",l="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(k="webkitHidden",l="webkitvisibilitychange");"undefined"===typeof document.addEventListener||"undefined"===typeof k?(q.pD=!1,window.addEventListener("focus",
function(){if(q.Wh){var a=q.Wh.g();a.zW();a.AW()}},!1),window.addEventListener("blur",function(){if(q.Wh){var a=q.Wh.g();a.uV();a.wV()}},!1)):(q.pD=!0,document.addEventListener(l,e,!1))}};q.pO=function(){var a=document.createElement("style");a.type="text/css";document.body.appendChild(a);a.textContent="body,canvas,div{ -moz-user-select: none;-webkit-user-select: none;-ms-user-select: none;-khtml-user-select: none;-webkit-tap-highlight-color:rgba(0,0,0,0);}"};q.GG=!1;
q.dX=function(){q.GG=!1;q.canvas.oncontextmenu=q.GG?function(){}:function(){return!1}};q.Jk=q.Pa.extend({sh:null,ctor:function(){this.sh=0;if(q.JB)throw"Application has been initialized";q.JB=this},mt:function(a){this.sh=a},wca:function(a){a&&q.rect(0,0,0,0)},Q6:function(){return q.Ka.vj?q.KF.pN:q.KF.yN},DW:function(){if(!this.FR())return 0;var a,c=q.ea.g(),d=window;q.GS=c;d.TD&&this.sh==1/60?(a=function(){c.aK();d.TD(a)},d.TD(a)):(a=function(){c.aK()},setInterval(a,1E3*this.sh));return 0}});
q.Jk.g=function(){return q.JB};q.Jk.D4=function(){var a=q.dN,c=navigator.language;c||(c=navigator.browserLanguage||navigator.kda);if(!c)return a;c=c.toLowerCase();switch(c){case "zh-cn":a=q.cN;break;case "fr":a=q.eN;break;case "it":a=q.hN;break;case "de":a=q.fN;break;case "es":a=q.oN;break;case "ru":a=q.nN;break;case "ko":a=q.jN;break;case "ja":a=q.iN;break;case "hu":a=q.gN;break;case "pt":a=q.mN;break;case "ar":a=q.bN;break;case "no":a=q.kN;break;case "pl":a=q.lN}return a};q.JB=null;q.Mk=q.Pa.extend({xda:null,VG:null,Ip:null,UA:null,ctor:function(){this.Ip={};window.DOMParser?(this.UA=!0,this.VG=new DOMParser):this.UA=!1},parse:function(a){var c=a;a=this.VI(a);a=this.WG(a,c).documentElement;if("plist"!=a.tagName)throw"cocos2d: "+c+" is not a plist file or you forgot to preload the plist file";for(var c=null,d=0,e=a.childNodes.length;d<e&&(c=a.childNodes[d],1!=c.nodeType);d++);return this.dB(c)},Wca:function(a,c){if(null==c||!1===c)a=this.VI(a);return this.WG(a)},WG:function(a,
c){var d;this.UA?d=this.VG.parseFromString(a,"text/xml"):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(a));null==d&&q.log("cocos2d:xml "+c+" not found!");return d},dB:function(a){var c=null;switch(a.tagName){case "dict":c=this.LP(a);break;case "array":c=this.KP(a);break;case "string":if(1==a.childNodes.length)c=a.firstChild.nodeValue;else for(var c="",d=0;d<a.childNodes.length;d++)c+=a.childNodes[d].nodeValue;break;case "false":c=!1;break;case "true":c=!0;break;case "real":c=
parseFloat(a.firstChild.nodeValue);break;case "integer":c=parseInt(a.firstChild.nodeValue,10)}return c},KP:function(a){for(var c=[],d=0,e=a.childNodes.length;d<e;d++){var f=a.childNodes[d];1==f.nodeType&&c.push(this.dB(f))}return c},LP:function(a){for(var c={},d=null,e=0,f=a.childNodes.length;e<f;e++){var g=a.childNodes[e];1==g.nodeType&&("key"==g.tagName?d=g.firstChild.nodeValue:c[d]=this.dB(g))}return c},IV:function(a){a=q.$d.g().Ke(a);if(window.XMLHttpRequest){var c=new XMLHttpRequest;c.overrideMimeType&&
c.overrideMimeType("text/xml")}if(null!=c){var d=this;c.onreadystatechange=function(){4==c.readyState&&(c.responseText?(q.Wb.g().ng(),d.Ip[a]=c.responseText,c=null):(q.Wb.g().ng(),q.log("cocos2d:There was a problem retrieving the xml data:"+c.statusText)))};c.open("GET",a,!0);c.send(null)}else throw"cocos2d:Your browser does not support XMLHTTP.";},GY:function(a){this.Ip.hasOwnProperty(a)&&delete this.Ip[a]},getName:function(a){return a.substring(a.lastIndexOf("/",a.length)+1,a.lastIndexOf(".",a.length))},
S4:function(a){return a.substring(a.lastIndexOf(".",a.length)+1,a.length)},VI:function(a){return null!=this.Ip?this.Ip[a]:null}});q.Mk.g=function(){this.Ob||(this.Ob=new q.Mk);return this.Ob};q.Mk.Ob=null;q.Hy=q.Pa.extend({FS:function(){q.Jk.g().DW();return!0},i2:function(){q.ea.g().pause()},h2:function(){q.ea.g().IK()},ER:function(){q.Jk.g().ER()},GR:function(){q.Jk.g().GR()},j2:function(){}});q.Hy.jY=function(){null==q.fy&&(q.fy=new q.Hy);if(!q.fy)throw"Application initialize failure";return q.fy};q.fy=null;q.R=q.v.extend({ce:null,bl:q.Pj,ul:q.Wu,Af:null,de:0,Og:"",cB:null,cp:!1,Yj:null,kk:!1,Ng:null,rp:0,fs:0,rw:null,ql:!1,ms:null,zp:0,tw:null,Ap:null,Cv:null,UB:0,VB:0,zd:!1,Qv:null,Rv:null,ctor:function(){q.v.prototype.ctor.call(this);this.ce=q.rm();this.bl=q.Mq;this.ul=q.Wu;this.Fc=!1;this.Yj="";this.Af="Arial";this.kk=this.cp=!1;this.Ng=q.rm();this.fs=this.rp=0;this.rw="rgba(128, 128, 128, 0.5)";this.ql=!1;this.ms=q.Db();this.zp=0;this.tw="";this.Ap=q.Db();this.Cv="rgba(255,255,255,1)";this.VB=this.UB=
0;this.zd=!1;this.ni()},A:function(){return this.El(" ",this.Af,this.de)},AP:function(){this.JA().font=this.Yj},Rr:function(a){return this.JA().measureText(a).width},DO:function(a,c){var d=this.Rr(a),e=Math.floor(a.length*c/d),f=a.indexOf("\n");if(.8*e>=f&&0<f)return f+1;if(d<c)return a.length;for(var d=!1,f=c+1,g=-1,h=e,k,l=q.R.EO,m=q.R.fQ,p=q.R.CO,t=a.substr(e);k=l.exec(t);){h+=k[0].length;if("\n"==k[2]){d=!0;g=h;break}f=this.Rr(a.substr(0,h));if(f>c){-1!=g&&(d=!0);break}g=h;t=a.substr(h)}if(d)return g;
t=a.substr(0,e);for(g=e;k=m.exec(t);)if(g=k[1].length,t=k[1],f=this.Rr(t),f<c){p.test(k[2])&&g++;break}return g},description:function(){return"<cc.LabelTTF | FontName ="+this.Af+" FontSize = "+this.de.toFixed(1)+">"},q:null,as:function(a){q.Kb.prototype.q.call(this,a);this.fH()},ni:null,fH:function(){this.zd=!0;var a=this.Lc,c=this.oc,d=this.ms,e=this.Ap;this.rw="rgba("+(0|.5*a.t)+","+(0|.5*a.p)+","+(0|.5*a.o)+","+this.rp+")";this.Cv="rgba("+(0|a.t/255*e.t)+","+(0|a.p/255*e.p)+","+(0|a.o/255*e.o)+
", "+c/255+")";this.tw="rgba("+(0|a.t/255*d.t)+","+(0|a.p/255*d.p)+","+(0|a.o/255*d.o)+", "+c/255+")"},oQ:function(){this.zd=!0;var a=this.ms,c=this.Ap;this.rw="rgba(128,128,128,"+this.rp+")";this.Cv="rgba("+(0|c.t)+","+(0|c.p)+","+(0|c.o)+", 1)";this.tw="rgba("+(0|a.t)+","+(0|a.p)+","+(0|a.o)+", 1)"},ud:null,aC:function(a){q.Kb.prototype.ud.call(this,a);this.ni()},ta:null,cs:function(a){this.fj!==a&&(q.v.prototype.ta.call(this,a),this.ni(),this.zd=!0)},vd:null,gda:function(a){q.Kb.prototype.vd.call(this,
a);this.ni()},XC:function(){return this.Og},e5:function(){return this.bl},l7:function(){return this.ul},N4:function(){return q.size(this.ce.width,this.ce.height)},Y4:function(){return this.de},X4:function(){return this.Af},El:function(a,c,d,e,f,g){a=a?a+"":"";d=d||16;e=e||q.size(0,d);f=f||q.Mq;g=g||q.Xu;return q.v.prototype.A.call(this)?(this.Fc=!1,this.ce=q.size(e.width,e.height),this.Af=c||"Arial",this.bl=f,this.ul=g,this.de=d*q.gd(),this.Yj=this.de+"px '"+c+"'",this.Xj=q.R.cv(c,this.de),this.ma(a),
this.ni(),this.cC(),this.zd=!1,!0):!1},lD:null,kP:function(a,c){if(!q.v.prototype.A.call(this))return!1;this.dC(c,!1);this.ma(a);return!0},lP:function(a,c){if(!q.v.prototype.A.call(this))return!1;this.ih(q.ai.g().Ii(q.R.eO));this.dC(c,!1);this.ma(a);return!0},Oba:function(a){a&&this.dC(a,!0)},R6:function(){return this.PP(!1)},RS:function(a,c,d){c=c||.5;!1===this.kk&&(this.kk=!0);var e=this.Ng;if(e&&e.width!=a.width||e.height!=a.height)e.width=a.width,e.height=a.height;this.rp!=c&&(this.rp=c);this.ni();
this.fs!=d&&(this.fs=d);this.zd=!0},i3:function(){this.kk&&(this.kk=!1,this.zd=!0)},SS:function(a,c){!1===this.ql&&(this.ql=!0);var d=this.ms;if(d.t!==a.t||d.p!==a.p||d.o!==a.o)d.t=a.t,d.p=a.p,d.o=a.o,this.ni();this.zp!==c&&(this.zp=c||0);this.zd=!0},j3:function(){this.ql&&(this.ql=!1,this.zd=!0)},eE:null,sQ:function(a){var c=this.Ap;if(c.t!=a.t||c.p!=a.p||c.o!=a.o)c.t=a.t,c.p=a.p,c.o=a.o,this.ni(),this.zd=!0},tQ:function(a){var c=this.Ap;if(c.t!=a.t||c.p!=a.p||c.o!=a.o)c.t=a.t,c.p=a.p,c.o=a.o,this.ni(),
this.zd=!0},dC:function(a,c){a.Qs?(this.ce.width=a.Qs.width,this.ce.height=a.Qs.height):(this.ce.width=0,this.ce.height=0);this.bl=a.HI;this.ul=a.II;this.Af=a.Rs;this.de=a.fontSize||12;this.Yj=this.de+"px '"+this.Af+"'";this.Xj=q.R.cv(this.Af,this.de);a.JL&&this.RS(a.KL,a.ML,a.shadowBlur,!1);a.AE&&this.SS(a.strokeColor,a.XL,!1);this.eE(a.JI,!1);c&&this.cC()},PP:function(a){var c=new q.WM;a?(c.fontSize=this.de,c.Qs=q.vz(this.ce)):(c.fontSize=this.de,c.Qs=q.size(this.ce.width,this.ce.height));c.Rs=
this.Af;c.HI=this.bl;c.II=this.ul;if(this.ql){c.AE=!0;var d=this.ms;c.strokeColor=new q.Jc(d.t,d.p,d.o);c.XL=this.zp}else c.AE=!1;this.kk?(c.JL=!0,c.shadowBlur=this.fs,c.ML=this.rp,c.KL=a?q.vz(this.Ng):q.size(this.Ng.width,this.Ng.height)):c.kk=!1;a=this.Ap;c.JI=new q.Jc(a.t,a.p,a.o);return c},Xj:18,ma:function(a){a&&(a=String(a),a=a.replace("<COPYRIGHT>",""));this.cB!=a&&(this.cB=a+"",this.GH(),this.zd=!0)},GH:function(){this.Og=this.cB},Oaa:function(a){a!==this.bl&&(this.bl=a,this.zd=!0)},aca:function(a){a!=
this.ul&&(this.ul=a,this.zd=!0)},Va:function(a){if(a.width!=this.ce.width||a.height!=this.ce.height)this.ce=a,this.GH(),this.zd=!0},Vx:function(a){this.de!==a&&(this.de=a*q.gd(),this.Yj=this.de+"px '"+this.Af+"'",this.Xj=q.R.cv(this.Af,this.de),this.zd=!0)},fE:function(a){this.Af&&this.Af!=a&&(this.Af=a,this.Yj=this.de+"px '"+a+"'",this.Xj=q.R.cv(a,this.de),this.zd=!0)},UO:function(a){if(a){var c=this.UB,d=this.VB,e=this.Ca.xa-d,f=this.ul,g=this.bl,h=this.Xj,k=this.zp;a.setTransform(1,0,0,1,0+.5*
c,e+.5*d);a.font!=this.Yj&&(a.font=this.Yj);a.fillStyle=this.Cv;var l=d=0,m=this.ql;m&&(a.lineWidth=2*k,a.strokeStyle=this.tw);this.kk&&(k=this.Ng,a.shadowColor=this.rw,a.shadowOffsetX=k.width,a.shadowOffsetY=-k.height,a.shadowBlur=this.fs);a.textBaseline=q.R.SQ[f];a.textAlign=q.R.RQ[g];c=this.Ca.Ha-c;d=g===q.TN?d+c:g===q.Pj?d+Math.floor(c/2):d+0;a.lineHeight=this.ce.height/this.lj.length;if(this.cp)for(g=this.lj.length,f===q.Xu||f===q.Wu?l=h+e-h*g:f===q.Yu&&Math.floor(l=h/2+(e-h*g)/2),f=0;f<g;f++)c=
this.lj[f],k=-e+h*f+l,m&&a.strokeText(c,d,k),a.fillText(c,d,k);else f!==q.Xu&&(l=f===q.Zu?l-e:f===q.Wu?l+e:l-.5*e),m&&a.strokeText(this.Og,d,l),a.fillText(this.Og,d,l)}},JA:function(){if(this.Rv)return this.Rv;if(!this.Qv){var a=document.createElement("canvas"),c=new q.qc;c.sf(a);this.la(c);this.Qv=a}return this.Rv=this.Qv.getContext("2d")},HH:function(){var a=this.ce.width,c,d;this.KG=[];this.cp=!1;this.AP();if(0!==a){var e=this.Og;this.lj=[];c=0;for(d=this.Og.length;c<d;){var f=this.DO(e.substr(c),
a);this.lj.push(e.substr(c,f));c+=f}}else for(this.lj=this.Og.split("\n"),c=0,d=this.lj.length;c<d;c++)this.KG.push(this.Rr(this.lj[c]));0<this.lj.length&&(this.cp=!0);d=c=0;this.ql&&(c=d=2*this.zp);this.kk&&(e=this.Ng,c+=2*Math.abs(e.width),d+=2*Math.abs(e.height));a=0===a?this.cp?q.size(0|Math.max.apply(Math,this.KG)+c,0|this.Xj*this.lj.length+d):q.size(0|this.Rr(this.Og)+c,0|this.Xj+d):0===this.ce.height?this.cp?q.size(0|a+c,0|this.Xj*this.lj.length+d):q.size(0|a+c,0|this.Xj+d):q.size(0|a+c,0|
this.ce.height+d);this.N(a);this.UB=c;this.VB=d;e=this.wm;this.Hd.I=.5*c+Math.round((a.width-c)*e.I);this.Hd.T=.5*d+Math.round((a.height-d)*e.T)},c:function(){this.zd&&this.HH();return q.v.prototype.c.call(this)},cC:function(){var a=this.JA(),c=this.Qv,d=this.Ca;if(0===this.Og.length)return c.width=1,c.height=d.xa,this.ib(q.rect(0,0,1,d.xa)),!0;a.font=this.Yj;this.HH();var e=d.Ha,d=d.xa,f=c.width==e&&c.height==d;c.width=e;c.height=d;f&&a.clearRect(0,0,e,d);this.UO(a);this.Ga.je();this.RL=!0;this.ib(q.rect(0,
0,e,d));return!0},Ba:function(a){this.Og&&""!=this.Og&&(this.zd&&(this.zd=!1,this.cC()),q.v.prototype.Ba.call(this,a||q.da))},Za:null,Fg:function(a){if(this.Og&&""!=this.Og){a=a||q.da;var c=this.Ga;c&&c.Pc&&(this.$c.yf(),this.$c.kh(),q.xk(this.pa.src,this.pa.Tb),q.Sg(c),q.Me(q.Vu),a.bindBuffer(a.ARRAY_BUFFER,this.lw),this.Ef&&(a.bufferData(a.ARRAY_BUFFER,this.Yb.qC,a.STATIC_DRAW),this.Ef=!1),a.vertexAttribPointer(q.$e,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(q.Pq,2,a.FLOAT,!1,24,16),a.vertexAttribPointer(q.Oq,
4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));1===q.Mj?(a=this.Yb,a=[q.a(a.$a.C.x,a.$a.C.y),q.a(a.Ra.C.x,a.Ra.C.y),q.a(a.cb.C.x,a.cb.C.y),q.a(a.Ta.C.x,a.Ta.C.y)],q.Ge.ie(a,4,!0)):2===q.Mj&&(a=this.YC().Ya,c=this.vc,a=[q.a(c.x,c.y),q.a(c.x+a.width,c.y),q.a(c.x+a.width,c.y+a.height),q.a(c.x,c.y+a.height)],q.Ge.ie(a,4,!0));q.Kh++}},FB:function(a,c,d){this.qd=c||!1;d=d||q.size(a.width/q.gd(),a.height/q.gd());this.N(d);this.rE(a);this.RL&&(c=q.ra.g().va,d=q.ra.g().Da,this.Aa.width/=c,
this.Aa.height/=d);c=this.bn;d=this.Uo;c.x=a.x;c.y=a.y;c.width=a.width;c.height=a.height;c.gm=!(0===c.width||0===c.height);d.width=c.width;d.height=c.height;d.gm=!(0===d.width||0===d.height);a=this.ri;this.rc&&(a.I=-a.I);this.sc&&(a.T=-a.T);this.vc.I=a.x+(this.Ca.Ha-this.Aa.width)/2;this.vc.T=a.y+(this.Ca.xa-this.Aa.height)/2;this.sb&&(this.Qa=!0)},Wj:function(a){if(this.yb){a=a||q.da;this.Im&&(a.globalCompositeOperation="lighter");a.iU=this.sp;var c=q.ra.g().va,d=q.ra.g().Da;a.globalAlpha=this.oc/
255;var e=this.Aa,f=this.Ca,g=this.vc,h=this.Uo,k=0|g.I,l=-g.T-e.height,m=this.bn;1==this.hs&&(a.shadowBlur=30,a.shadowColor="black");if(this.rc||this.sc)a.save(),this.rc&&(k=-g.I-e.width,a.scale(-1,1)),this.sc&&(l=g.T,a.scale(1,-1));k*=c;l*=d;if(this.Ga&&m.gm)e=this.Ga.Ec,this.$q?a.drawImage(e,0,0,m.width,m.height,k,l,h.width,h.height):a.drawImage(e,m.x,m.y,m.width,m.height,k,l,h.width,h.height);else if(0!==f.Ha){var p=this.Ed();a.fillStyle="rgba("+p.t+","+p.p+","+p.o+",1)";a.fillRect(k,l,f.Ha*c,
f.xa*d)}1==this.hs&&(a.shadowBlur=0);1==this.KB&&(a.globalAlpha=1,a.beginPath(),a.strokeStyle="rgba("+p.t+","+p.p+","+p.o+",1)",a.lineWidth="1",fa(a,k,l,f.Ha*c,f.xa*d),a.stroke());2===q.Mj&&(a.strokeStyle="rgba(0,255,0,1)",p=this.Aa.Ya,l=-l,k=[q.a(k,l),q.a(k+p.width,l),q.a(k+p.width,l-p.height),q.a(k,l-p.height)],q.Ge.ie(k,4,!0));(this.rc||this.sc)&&a.restore();q.Kh++}},iH:function(a){var c=this.sb?this.Ua.ia():this.Ga;if(c){var d=c.Xp(),e=c.Wp(),f,g=this.Yb;this.qd?(q.nu?(c=(2*a.x+1)/(2*d),d=c+(2*
a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/d,f=a.y/e,a=(a.y+a.width)/e),this.rc&&(e=f,f=a,a=e),this.sc&&(e=c,c=d,d=e),g.Ra.G.Wa=c,g.Ra.G.ua=f,g.cb.G.Wa=c,g.cb.G.ua=a,g.$a.G.Wa=d,g.$a.G.ua=f,g.Ta.G.Wa=d,g.Ta.G.ua=a):(q.nu?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+a.height)/e),this.rc&&(e=c,c=d,d=e),this.sc&&(e=f,f=a,a=e),g.Ra.G.Wa=c,g.Ra.G.ua=a,g.cb.G.Wa=d,g.cb.G.ua=a,
g.$a.G.Wa=c,g.$a.G.ua=f,g.Ta.G.Wa=d,g.Ta.G.ua=f);this.Ef=!0}}});q.Ka.fd?(b=q.R.prototype,b.q=q.v.prototype.q,b.ni=q.R.prototype.oQ,b.ud=q.v.prototype.ud,b.ta=q.v.prototype.ta,b.vd=q.v.prototype.vd,b.lD=q.R.prototype.lP,b.eE=q.R.prototype.tQ,b.Za=q.R.prototype.Fg,b.ib=q.v.prototype.jH):(b=q.R.prototype,b.q=q.R.prototype.as,b.ni=q.R.prototype.fH,b.ud=q.R.prototype.aC,b.ta=q.R.prototype.cs,b.vd=q.R.prototype.DH,b.lD=q.R.prototype.kP,b.eE=q.R.prototype.sQ,b.Za=q.R.prototype.Wj,b.ib=q.R.prototype.FB);
q.R.RQ=["left","center","right"];q.R.SQ=["top","middle","bottom","alphabetic"];q.R.EO=/(.+?)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;q.R.fQ=/(.*)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;q.R.CO=/[\s\-\/\\\:]/;q.R.create=function(a,c,d,e,f,g){var h=new q.R;return h.El(a,c,d,e,f,g)?h:null};q.R.Y2=function(a,c){var d=new q.R;return d&&d.lD(a,c)?d:null};q.R.eO=q.aO?q.uz:q.h0;q.R.sm=document.createElement("div");q.R.sm.style.fontFamily="Arial";q.R.sm.style.position="absolute";
q.R.sm.style.left="-100px";q.R.sm.style.top="-100px";q.R.sm.style.lineHeight="normal";document.body.appendChild(q.R.sm);q.R.cv=function(a,c){var d=q.R.XF[a+"."+c];if(0<d)return d;var e=q.R.sm;e.innerHTML="ajghl~!";e.style.fontFamily=a;e.style.fontSize=c+"px";d=e.clientHeight;q.R.XF[a+"."+c]=d;e.innerHTML="";return d};q.R.XF={};q.ZM=q.Pa.extend({bd:null,target:null,pn:0,Ih:null,un:!1,paused:!1,hh:null,ctor:function(){this.bd=[];this.aa=null;this.pn=0;this.Ih=null;this.paused=this.un=!1;this.hh=null}});
q.wM=q.Pa.extend({ei:null,Ao:null,zf:null,Xi:!1,z1:function(a,c){for(var d=0;d<a.length;d++)if(c==a[d].target)return a[d];return null},ctor:function(){this.ei={};this.Ao=[];this.zf=null;this.Xi=!1},mR:function(a,c,d){if(!a)throw"cc.ActionManager.addAction(): action must be non-null";if(!c)throw"cc.ActionManager.addAction(): action must be non-null";var e=this.ei[c.zc];e||(e=new q.ZM,e.paused=d,e.target=c,this.ei[c.zc]=e,this.Ao.push(e));this.jO(e);e.bd.push(a);a.ha(c)},B$:function(){for(var a=this.Ao,
c=0;c<a.length;c++){var d=a[c];d&&this.DK(d.target,!0)}},DK:function(a,c){if(null!=a){var d=this.ei[a.zc];d&&(-1===d.bd.indexOf(d.Ih)||d.un||(d.un=!0),d.bd=[],this.zf!=d||c?this.qA(d):this.Xi=!0)}},CK:function(a){if(null!=a){var c=this.ei[a.Om.zc];if(c)for(var d=0;d<c.bd.length;d++){if(c.bd[d]==a){c.bd.splice(d,1);break}}else q.log("cocos2d: removeAction: Target not found")}},gW:function(a,c){a==q.fo&&q.log("cc.ActionManager.removeActionByTag(): an invalid tag");if(!c)throw"cc.ActionManager.removeActionByTag(): target must be non-null";
var d=this.ei[c.zc];if(d)for(var e=d.bd.length,f=0;f<e;++f){var g=d.bd[f];if(g&&g.Dd===a&&g.Om==c){this.TP(f,d);break}}},MC:function(a,c){a==q.fo&&q.log("cc.ActionManager.getActionByTag(): an invalid tag");var d=this.ei[c.zc];if(d){if(null!=d.bd)for(var e=0;e<d.bd.length;++e){var f=d.bd[e];if(f&&f.Dd===a)return f}q.log("cocos2d : getActionByTag(tag ="+a+"): Action not found")}return null},gK:function(a){return(a=this.ei[a.zc])?a.bd?a.bd.length:0:0},jt:function(a){if(a=this.ei[a.zc])a.paused=!0},Rn:function(a){if(a=
this.ei[a.zc])a.paused=!1},f$:function(){for(var a=[],c=this.Ao,d=0;d<c.length;d++){var e=c[d];e&&!e.paused&&(e.paused=!0,a.push(e.target))}return a},BW:function(a){if(a)for(var c=0;c<a.length;c++)a[c]&&this.Rn(a[c])},p$:function(){q.ea.g().Mf().uq(this)},TP:function(a,c){c.bd[a]!=c.Ih||c.un||(c.un=!0);q.yq(c.bd,a);c.pn>=a&&c.pn--;0==c.bd.length&&(this.zf==c?this.Xi=!0:this.qA(c))},qA:function(a){a&&(delete this.ei[a.target.zc],q.oe(this.Ao,a),a.bd=null,a.target=null)},jO:function(a){null==a.bd&&
(a.bd=[])},update:function(a){for(var c=this.Ao,d,e=0;e<c.length;e++){d=this.zf=c[e];if(!d.paused)for(d.pn=0;d.pn<d.bd.length;d.pn++)if(d.Ih=d.bd[d.pn],d.Ih){d.un=!1;d.Ih.step(a);if(d.un)d.Ih=null;else if(d.Ih.Di()){d.Ih.stop();var f=d.Ih;d.Ih=null;this.CK(f)}d.Ih=null}this.Xi&&0===d.bd.length&&this.qA(d)}}});q.Touch=q.Pa.extend({S:null,jw:q.Lj(),Wf:0,ctor:function(a,c,d){this.S=q.a(a||0,c||0);this.Wf=d||0},q5:function(){return this.S},vT:function(){return this.jw},J4:function(){return q.Ud(this.S,this.jw)},h5:function(){return this.Wf},i5:function(){return this.Wf},oE:function(a,c,d){this.jw=this.S;this.S=q.a(c||0,d||0);this.Wf=a},dg:function(a,c){this.jw=q.a(a||0,c||0)}});
q.SF=q.Pa.extend({c1:null,ub:function(){return!1},Td:function(){},bh:function(){},Ck:function(){},kK:function(){},nK:function(){},mK:function(){},lK:function(){},$ca:function(){},Zca:function(){}});q.B0=q.SF.extend({ub:function(){return!1},Td:function(){},bh:function(){},Ck:function(){}});q.r0=q.SF.extend({kK:function(){},nK:function(){},mK:function(){},lK:function(){}});q.wo=q.Pa.extend({Ea:null,Df:0,Vo:0,Bc:function(){return this.Ea},qg:function(a){this.Ea=a},wT:function(){return this.Df},ut:function(a){this.Df=a},hT:function(){return this.Vo},iX:function(a){this.Vo=a},yk:function(a,c){if(!a)throw"cc.TouchHandler.initWithDelegate(): touch delegate should not be null";this.Ea=a;this.Df=c;this.Vo=0;return!0}});q.wo.create=function(a,c){var d=new q.wo;d&&d.yk(a,c);return d};q.yz=q.wo.extend({yk:function(a,c){return q.wo.prototype.yk.call(this,a,c)}});
q.yz.create=function(a,c){var d=new q.yz;d&&d.yk(a,c);return d};q.Ou=q.wo.extend({xw:!1,Oo:null,B8:function(){return this.xw},Lba:function(a){this.xw=a},u4:function(){return this.Oo},yk:function(a,c,d){return q.wo.prototype.yk.call(this,a,c)?(this.Oo=[],this.xw=d,!0):!1}});q.Ou.create=function(a,c,d){var e=new q.Ou;e&&e.yk(a,c,d);return e};q.WN=1;q.ZN=2;q.YN=4;q.XN=8;q.E0=q.WN|q.ZN|q.YN|q.XN;q.Cz=0;q.Fz=1;q.Ez=2;q.Dz=3;q.D0=4;q.WJ=function(a,c){return a.Df>c.Df};q.Su=function(a){this.type=a};
q.sa=q.Pa.extend({hk:!1,jf:null,hf:null,Km:!1,us:!1,Hw:!1,cl:null,Zj:null,Gw:!1,Vj:!1,dP:[new q.Su(q.Cz),new q.Su(q.Fz),new q.Su(q.Ez),new q.Su(q.Dz)],A:function(){this.Vj=!0;this.jf=[];this.hf=[];this.cl=[];this.Zj=[];this.hk=this.Km=this.Gw=this.us=this.Hw=!1;q.sa.cW();return!0},bs:function(a){this.hk=a},ZO:function(){return this.hk},a8:function(){return this.Vj},gX:function(a){this.Vj=a},nO:function(a,c){var d=q.yz.create(a,c||0);this.Km?-1!=this.Zj.indexOf(a)?q.oe(this.Zj,a):(this.cl.push(d),
this.us=!0):this.hf=this.Pp(d,this.hf)},oO:function(a,c,d){c=q.Ou.create(a,c,d);this.Km?-1!=this.Zj.indexOf(a)?q.oe(this.Zj,a):(this.cl.push(c),this.us=!0):this.jf=this.Pp(c,this.jf)},Pp:function(a,c){for(var d=0,e,f=0;f<c.length;f++)if(e=c[f])if(e.Df<a.Df&&++d,e.Bc()==a.Bc())return q.log("cc.TouchDispatcher.forceAddHandler(): The handler has been added."),c;return q.km(c,a,d)},KI:function(){this.hf.length=0;this.jf.length=0},WP:function(a){if(null!=a)if(this.Km){var c=this.FI(this.cl,a);c?q.oe(this.cl,
c):(this.Zj.push(a),this.Hw=!0)}else this.LI(a)},iW:function(){this.Km?this.Gw=!0:this.KI()},ut:function(a,c){if(!c)throw"cc.TouchDispatcher.setPriority(): delegate should be non-null.";var d=this.FI(c);d?d.Df!=a&&(d.ut(a),this.xK(this.jf),this.xK(this.hf)):q.log("cc.TouchDispatcher.setPriority(): Can't find TouchHandler.")},touches:function(a,c,d){if(0>d||4<=d)throw"cc.TouchDispatcher.touches(): invalid index";this.Km=!0;var e=this.jf.length,f=this.hf.length,g=e&&f,h=g?a.slice():a,k=this.dP[d];if(0<
e)for(var l,m,p=0;p<a.length;p++)for(var e=a[p],t=0;t<this.jf.length;t++){l=this.jf[t];if(!l)break;m=!1;if(d==q.Cz)l.Bc().ub&&(m=l.Bc().ub(e,c))&&l.Oo.push(e);else if(0<l.Oo.length)switch(m=!0,k.type){case q.Fz:q.Ka.vj?l.Bc().Td&&l.Bc().Td(e,c):this.hk&&l.Bc().Td&&l.Bc().Td(e,c);break;case q.Ez:l.Bc().bh&&l.Bc().bh(e,c);l.Oo.length=0;break;case q.Dz:l.Bc().Ck&&l.Bc().Ck(e,c),l.Oo.length=0}if(m&&l.xw){g&&q.oe(h,e);break}}if(0<f)for(p=0;p<this.hf.length&&(l=this.hf[p],l);p++);this.Km=!1;if(this.Hw){this.Hw=
!1;for(p=0;p<this.Zj.length;p++)this.LI(this.Zj[p]);this.Zj.length=0}if(this.us){this.us=!1;for(p=0;p<this.cl.length;p++){l=this.cl[p];if(!l)break;l instanceof q.Ou?this.jf=this.Pp(l,this.jf):this.hf=this.Pp(l,this.hf)}this.cl.length=0}this.Gw&&(this.Gw=!1,this.KI())},ry:function(a,c){this.Vj&&this.touches(a,c,q.Cz)},sy:function(a,c){this.Vj&&this.touches(a,c,q.Fz)},Dt:function(a,c){this.Vj&&this.touches(a,c,q.Ez)},GE:function(a,c){this.Vj&&this.touches(a,c,q.Dz)},FI:function(a,c){switch(arguments.length){case 1:c=
arguments[0];if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(var d=0;d<this.jf.length;d++)if(this.jf[d].Bc()==c)return this.jf[d];for(d=0;d<this.hf.length;d++)if(this.hf[d].Bc()==c)return this.hf[d];return null;case 2:if(!a)throw"cc.TouchDispatcher.findHandler(): array should be non-null.";if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(d=0;d<a.length;d++)if(a[d].Bc()==c)return a[d];return null;default:throw"Argument must be non-nil ";
}},LI:function(a){for(var c,d=0;d<this.hf.length;d++)if((c=this.hf[d])&&c.Bc()==a){q.oe(this.hf,c);break}for(d=0;d<this.jf.length;d++)if((c=this.jf[d])&&c.Bc()==a){q.oe(this.jf,c);break}},xK:function(a){a.sort(q.WJ)}});q.sa.Cb=q.a(0,0);q.sa.LJ=!1;
q.qj=function(a){var c=document.documentElement,d=window,e=null,e="function"===typeof a.getBoundingClientRect?a.getBoundingClientRect():a instanceof HTMLCanvasElement?{left:0,top:0,width:a.width,height:a.height}:{left:0,top:0,width:parseInt(a.style.width),height:parseInt(a.style.height)};return{left:e.left+d.pageXOffset-c.clientLeft,top:e.top+d.pageYOffset-c.clientTop,width:e.width,height:e.height}};
q.HN=function(a,c){var d=q.qj(a),e,f;null!=c.pageX?(e=c.pageX,f=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,e=c.clientX,f=c.clientY);e=q.ra.g().uk(e,f,d);d=new q.Touch(e.x,e.y);d.dg(q.sa.Cb.x,q.sa.Cb.y);q.sa.Cb.x=e.x;q.sa.Cb.y=e.y;e=[];e.push(d);q.ra.g().Dt(e,null)};
q.sa.cW=function(){var a=q.canvas;if(!q.sa.LJ){if(q.Ka.vj)if(window.navigator.msPointerEnabled){var c={MSPointerDown:"touchesBegan",MSPointerMove:"touchesMoved",MSPointerUp:"touchesEnded",MSPointerCancel:"touchesCancelled"},d;for(d in c)(function(c,d){a.addEventListener(c,function(c){var e=q.qj(a);e.left-=document.body.scrollLeft;e.top-=document.body.scrollTop;var k,l;k=c.clientX;l=c.clientY;k=q.ra.g().uk(k,l,e);e=new q.Touch(k.x,k.y);e.dg(q.sa.Cb.x,q.sa.Cb.y);q.sa.Cb.x=k.x;q.sa.Cb.y=k.y;q.ea.g().lf[d]([e],
null);c.stopPropagation();c.preventDefault()},!1)})(d,c[d])}else a.addEventListener("touchstart",function(c){if(c.changedTouches){var d=[],g=q.qj(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,p=0;p<m;p++)if(h=c.changedTouches[p])k=h.clientX,l=h.clientY,k=q.ra.g().uk(k,l,g),h.hasOwnProperty("identifier")?(h=new q.Touch(k.x,k.y,h.identifier),l=q.sa.Fv(h).S,h.dg(l.x,l.y),q.sa.gH(h)):(h=new q.Touch(k.x,k.y),h.dg(q.sa.Cb.x,q.sa.Cb.y)),q.sa.Cb.x=
k.x,q.sa.Cb.y=k.y,d.push(h);q.ra.g().ry(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchmove",function(c){if(c.changedTouches){var d=[],g=q.qj(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,p=0;p<m;p++)if(h=c.changedTouches[p])k=h.clientX,l=h.clientY,k=q.ra.g().uk(k,l,g),h.hasOwnProperty("identifier")?(h=new q.Touch(k.x,k.y,h.identifier),l=q.sa.Fv(h).S,h.dg(l.x,l.y),q.sa.gH(h)):(h=new q.Touch(k.x,k.y),h.dg(q.sa.Cb.x,
q.sa.Cb.y)),q.sa.Cb.x=k.x,q.sa.Cb.y=k.y,d.push(h);q.ra.g().sy(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchend",function(c){if(c.changedTouches){var d=[],g=q.qj(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,p=0;p<m;p++)if(h=c.changedTouches[p])k=h.clientX,l=h.clientY,k=q.ra.g().uk(k,l,g),h.hasOwnProperty("identifier")?(h=new q.Touch(k.x,k.y,h.identifier),l=q.sa.Fv(h).S,h.dg(l.x,l.y),q.sa.oG(h)):(h=new q.Touch(k.x,
k.y),h.dg(q.sa.Cb.x,q.sa.Cb.y)),q.sa.Cb.x=k.x,q.sa.Cb.y=k.y,d.push(h);q.ra.g().Dt(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchcancel",function(c){if(c.changedTouches){var d=[],g=q.qj(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,p=0;p<m;p++)if(h=c.changedTouches[p])k=h.clientX,l=h.clientY,k=q.ra.g().uk(k,l,g),h.hasOwnProperty("identifier")?(h=new q.Touch(k.x,k.y,h.identifier),l=q.sa.Fv(h).S,h.dg(l.x,l.y),
q.sa.oG(h)):(h=new q.Touch(k.x,k.y),h.dg(q.sa.Cb.x,q.sa.Cb.y)),q.sa.Cb.x=k.x,q.sa.Cb.y=k.y,d.push(h);q.ra.g().GE(d,null);c.stopPropagation();c.preventDefault()}},!1);else window.addEventListener("mousedown",function(){q.ea.g().lf.bs(!0)}),window.addEventListener("mouseup",function(c){q.ea.g().lf.bs(!1);var d=q.qj(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);q.vb(new q.Rect(d.left,d.top,d.width,d.height),q.a(g,c))||
(g=q.ra.g().uk(g,c,d),d=new q.Touch(g.x,g.y),d.dg(q.sa.Cb.x,q.sa.Cb.y),q.sa.Cb.x=g.x,q.sa.Cb.y=g.y,g=[],g.push(d),q.ra.g().Dt(g,null))}),a.addEventListener("mousedown",function(c){var d=q.qj(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=q.ra.g().uk(g,c,d);d=new q.Touch(g.x,g.y);d.dg(q.sa.Cb.x,q.sa.Cb.y);q.sa.Cb.x=g.x;q.sa.Cb.y=g.y;g=[];g.push(d);q.ra.g().ry(g,null)}),a.addEventListener("mouseup",function(c){q.HN(a,
c)}),a.addEventListener("mousemove",function(c){var d=q.qj(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=q.ra.g().uk(g,c,d);d=new q.Touch(g.x,g.y);d.dg(q.sa.Cb.x,q.sa.Cb.y);q.sa.Cb.x=g.x;q.sa.Cb.y=g.y;g=[];g.push(d);q.ra.g().sy(g,null)});q.sa.LJ=!0}};q.sa.Fv=function(a){for(var c=null,d=q.sa.jB,e=a.Wf,f=d.length-1;0<=f;f--)if(d[f].Wf==e){c=d[f];break}c||(c=a);return c};
q.sa.gH=function(a){for(var c=!1,d=q.sa.jB,e=a.Wf,f=d.length-1;0<=f;f--)if(d[f].Wf==e){d[f]=a;c=!0;break}c||(50>=d.length?d.push(a):(d[q.sa.kB]=a,q.sa.kB=(q.sa.kB+1)%50))};q.sa.oG=function(a){var c,d=q.sa.jB;c=a.Wf;for(a=d.length-1;0<=a;a--)if(d[a].Wf==c){c=d.pop();a!=d.length&&(d[a]=c);break}};q.sa.jB=[];q.sa.kB=0;q.MD=function(a,c,d){q.ea.g().lf.oO(d,a,c)};q.dW=function(a,c){q.ea.g().lf.nO(a,c)};q.bM=function(a){q.ea.g().lf.WP(a)};q.qN=1;q.oF=2;q.u_=4;q.uN=8;q.V_=16;q.W_=32;q.X_=64;q.H_=128;q.I_=256;q.J_=512;q.GF=1024;q.rN=2048;q.sN=4096;q.tN=0;q.v_=1;q.pF=2;q.x_=q.Pa.extend({cV:function(){return!1},dV:function(){return!1},Sh:function(){return!1},gV:function(){return!1},kV:function(){return!1},lV:function(){return!1},mV:function(){return!1},hV:function(){return!1},iV:function(){return!1},jV:function(){return!1},nV:function(){return!1},eV:function(){return!1},fV:function(){return!1}});
q.vN=q.Touch.extend({KH:0,gG:q.tN,q7:function(){return this.KH},FL:function(a){this.KH=a},m4:function(){return this.gG},WW:function(a){this.gG=a}});q.jz=q.Pa.extend({Ea:null,Df:0,Vo:0,Bc:function(){return this.Ea},qg:function(a){this.Ea=a},wT:function(){return this.Df},ut:function(a){this.Df=a},hT:function(){return this.Vo},iX:function(a){this.Vo=a},yk:function(a,c){this.Ea=a;this.Df=c}});q.jz.create=function(a,c){var d=new q.jz;d.yk(a,c);return d};
q.se=q.Pa.extend({hk:!1,nw:!1,Xf:null,Vj:!1,A:function(){this.Vj=!0;this.Xf=[];this.nw=this.hk=!1;q.se.RP();return!0},bs:function(a){this.hk=a},ZO:function(){return this.hk},hH:function(a){this.nw=a},j1:function(){return this.nw},VH:function(a,c){var d=q.jz.create(a,c);this.Xf=this.Pp(d,this.Xf)},Pp:function(a,c){for(var d=0,e=0;e<c.length;e++){var f=c[e];if(f&&(f.Df<a.Df&&++d,f.Bc()==a.Bc()))return q.log("cc.MouseDispatcher.forceAddHandler(): handler has been added."),c}return q.km(c,a,d)},EK:function(a){if(null!=
a)for(var c=0;c<this.Xf.length;c++){var d=this.Xf[c];if(d&&d.Bc()==a){q.oe(this.Xf,d);break}}},XO:function(a){for(var c=0;c<this.Xf.length;c++)if(this.Xf[c]&&this.Xf[c].Bc()==a)return this.Xf[c];return null},ut:function(a,c){if(!c)throw"cc.MouseDispatcher.setPriority(): delegate should be non-null";var d=this.XO(c);d?d.Df!=a&&(d.ut(a),this.Xf.sort(q.WJ)):q.log("cc.MouseDispatcher.setPriority(): Can't find MouseHandler in array")},E$:function(){this.Xf.length=0},Gn:function(a,c,d){for(c=0;c<this.Xf.length;c++){var e=
this.Xf[c];switch(d){case q.oF:this.hk||this.nw||!e.Bc().Sh||e.Bc().Sh(a)}}}});q.se.iw=q.a(0,0);q.se.uP=!1;
q.se.RP=function(){var a=q.canvas;function c(c){var e=q.qj(a),f=c.pageX,g=c.pageY,h=q.ra.g(),f=(f-e.left)/h.va,e=(e.height-(g-e.top))/h.Da,g=new q.vN(f,e);g.dg(q.se.iw.x,q.se.iw.y);g.WW(c.button);q.se.iw.x=f;q.se.iw.y=e;return g}q.se.uP||(window.addEventListener("mousedown",function(a){a.button==q.pF?q.ea.g().Lf().hH(!0):q.ea.g().Lf().bs(!0)}),window.addEventListener("mouseup",function(a){a.button==q.pF?q.ea.g().Lf().hH(!1):q.ea.g().Lf().bs(!1)}),a.addEventListener("mousedown",function(a){q.ea.g().Lf().Gn(c(a),
a,q.qN)}),a.addEventListener("mouseup",function(a){q.ea.g().Lf().Gn(c(a),a,q.uN)}),a.addEventListener("mousemove",function(a){q.ea.g().Lf().Gn(c(a),a,q.oF)}),a.addEventListener("mousewheel",function(a){var e=c(a);e.FL(a.wheelDelta);q.ea.g().Lf().Gn(e,a,q.GF)},!1),a.addEventListener("DOMMouseScroll",function(a){var e=c(a);e.FL(-120*a.detail);q.ea.g().Lf().Gn(e,a,q.GF)}),a.addEventListener("mouseout",function(a){q.ea.g().Lf().Gn(c(a),a,q.sN)},!1),a.addEventListener("mouseover",function(a){q.ea.g().Lf().Gn(c(a),
a,q.rN)},!1))};q.nda=function(){return{x:0,y:0}};q.fm=function(a,c){return{x:a,y:c}};q.mh=function(a,c){return q.fm(a.x+c.x,a.y+c.y)};q.Gd=function(a,c){return q.fm(a.x-c.x,a.y-c.y)};q.vg=function(a,c){return q.fm(a.x*c,a.y*c)};q.Cy=function(a){return q.fm(-a.y,a.x)};q.Fj=function(a){return q.fm(-a.x,-a.y)};q.NY=function(a,c){return a.x*c.x+a.y*c.y};q.mda=function(a){return q.fm(Math.cos(a),Math.sin(a))};q.LE=function(a){a=q.Th(q.a(a.x,a.y));return q.fm(a.x,a.y)};q.Pi=function(a){return q.fm(a.x,a.y)};
q.Mb=function(a){return{Wa:a.x,ua:a.y}};
q.RM=q.Node.extend({mb:null,pa:null,To:null,hp:null,Ts:function(){return this.pa},Ul:function(a){this.pa=a},Eaa:function(a){this.To=q.i(a.t,a.p,a.o,a.P)},Xaa:function(a){this.hp=null==a?null:q.i(a.t,a.p,a.o,a.P)},hx:function(){return q.i(this.To.t,this.To.p,this.To.o,this.To.P)},UI:function(){return this.hp?q.i(this.hp.t,this.hp.p,this.hp.o,this.hp.P):null},ctor:function(){q.Node.prototype.ctor.call(this);this.mb=[];this.To=q.i(0,0,0,255);this.pa=new q.nm(q.Xe,q.We)},Za:function(a){a=a||q.da;var c=
q.ra.g().va;this.pa&&770==this.pa.src&&1==this.pa.Tb&&(a.globalCompositeOperation="lighter");for(var d=0;d<this.mb.length;d++){var e=this.mb[d];e.type===q.yg.PF&&(a.fillStyle="rgba("+(0|e.color.t)+","+(0|e.color.p)+","+(0|e.color.o)+","+e.color.P/255+")",q.Ge.EC(e.position,e.KD));e.type===q.yg.QF&&(a.strokeStyle="rgba("+(0|e.color.t)+","+(0|e.color.p)+","+(0|e.color.o)+","+e.color.P/255+")",a.lineWidth=2*e.KD*c,a.lineCap="round",q.Ge.wi(e.from,e.dm));e.type===q.yg.Gz&&(a.fillStyle="rgba("+(0|e.fillColor.t)+
","+(0|e.fillColor.p)+","+(0|e.fillColor.o)+","+e.fillColor.P/255+")",q.Ge.ie(e.Dy,e.count,!1,!0),a.lineWidth=2*e.borderWidth*c,a.lineCap="round",a.strokeStyle="rgba("+(0|e.borderColor.t)+","+(0|e.borderColor.p)+","+(0|e.borderColor.o)+","+e.borderColor.P/255+")",q.Ge.ie(e.Dy,e.count,!0,!1))}},FC:function(a,c,d,e,f,g){f=f||this.r1;g=g||this.hx();null==g.P&&(g.P=255);for(var h=[],k=0,l=0;l<e;l++)h.push(q.a(Math.pow(1-k,2)*a.x+2*(1-k)*k*c.x+k*k*d.x,Math.pow(1-k,2)*a.y+2*(1-k)*k*c.y+k*k*d.y)),k+=1/e;
h.push(q.a(d.x,d.y));a=new q.av(q.yg.Gz);a.Dy=h;a.lineWidth=f;a.fillColor=g;a.borderColor=g;a.A8=!0;a.lineCap="round";this.mb.push(a)},KS:function(a,c,d){var e=new q.av(q.yg.PF);e.position=q.a(a.x,a.y);e.KD=c;e.color=d;this.mb.push(e)},OS:function(a,c,d,e){var f=new q.av(q.yg.QF);f.from=q.a(a.x,a.y);f.dm=q.a(c.x,c.y);f.KD=d?d:1;f.color=e?e:this.hx();this.mb.push(f)},ie:function(a,c,d,e){var f=new q.av(q.yg.Gz);f.Dy=a;f.count=a.length;f.fillColor=c?c:this.hx();f.borderWidth=d?d:1;f.borderColor=e?e:
this.UI()?this.UI():this.hx();this.mb.push(f)},clear:function(){this.mb.length=0}});
q.SM=q.Node.extend({Fo:0,mb:null,tl:null,xH:null,wH:null,pa:null,Qa:!1,Ts:function(){return this.pa},Ul:function(a){this.pa=a},ctor:function(){q.Node.prototype.ctor.call(this);this.mb=[];this.pa=new q.nm(q.Xe,q.We)},A:function(){return q.Node.prototype.A.call(this)?(this.ih(q.ai.g().Ii(q.g0)),this.AA(512),this.xH=q.da.createBuffer(),this.Qa=!0):!1},bQ:function(){var a=q.da;q.Me(q.Vu);a.bindBuffer(a.ARRAY_BUFFER,this.xH);this.Qa&&(a.bufferData(a.ARRAY_BUFFER,this.tl,a.STREAM_DRAW),this.Qa=!1);var c=
q.nc.BYTES_PER_ELEMENT;a.vertexAttribPointer(q.$e,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(q.Oq,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(q.Pq,2,a.FLOAT,!1,c,12);a.drawArrays(a.TRIANGLES,0,3*this.mb.length);q.Yh()},AA:function(a){if(this.mb.length+a>this.Fo){var c=q.Yc.BYTES_PER_ELEMENT;this.Fo+=Math.max(this.Fo,a);if(null==this.mb||0===this.mb.length)this.mb=[],this.tl=new ArrayBuffer(c*this.Fo),this.wH=new Uint8Array(this.tl);else{a=[];for(var d=new ArrayBuffer(c*this.Fo),e=0;e<this.mb.length;e++)a[e]=
new q.Yc(this.mb[e].P,this.mb[e].o,this.mb[e].Ma,d,e*c);this.wH=new Uint8Array(d);this.mb=a;this.tl=d}}},Za:function(){q.xk(this.pa.src,this.pa.Tb);this.$c.yf();this.$c.BL();this.bQ()},KS:function(a,c,d){d={t:0|255*d.t,p:0|255*d.p,o:0|255*d.o,P:0|255*d.P};var e={C:{x:a.x-c,y:a.y-c},V:d,G:{Wa:-1,ua:-1}},f={C:{x:a.x+c,y:a.y+c},V:d,G:{Wa:1,ua:1}},g={C:{x:a.x+c,y:a.y-c},V:d,G:{Wa:1,ua:-1}};this.mb.push(new q.Yc(e,{C:{x:a.x-c,y:a.y+c},V:d,G:{Wa:-1,ua:1}},f,this.tl,this.mb.length*q.Yc.BYTES_PER_ELEMENT));
this.mb.push(new q.Yc(e,f,g,this.tl,this.mb.length*q.Yc.BYTES_PER_ELEMENT));this.Qa=!0},OS:function(a,c,d,e){this.AA(18);e={t:0|255*e.t,p:0|255*e.p,o:0|255*e.o,P:0|255*e.P};var f=q.Pi(a);c=q.Pi(c);a=q.LE(q.Cy(q.Gd(c,f)));var g=q.Cy(a),h=q.vg(a,d);d=q.vg(g,d);var k=q.mh(c,q.Gd(h,d)),l=q.Gd(c,h),m=q.mh(c,h),p=q.Gd(f,h),t=q.mh(f,h),v=q.Gd(f,q.Gd(h,d)),f=q.mh(f,q.mh(h,d)),x=q.Yc.BYTES_PER_ELEMENT,y=this.tl;this.mb.push(new q.Yc({C:q.Gd(c,q.mh(h,d)),V:e,G:q.Mb(q.Fj(q.mh(a,g)))},{C:k,V:e,G:q.Mb(q.Gd(a,
g))},{C:l,V:e,G:q.Mb(q.Fj(a))},y,this.mb.length*x));this.mb.push(new q.Yc({C:m,V:e,G:q.Mb(a)},{C:k,V:e,G:q.Mb(q.Gd(a,g))},{C:l,V:e,G:q.Mb(q.Fj(a))},y,this.mb.length*x));this.mb.push(new q.Yc({C:m,V:e,G:q.Mb(a)},{C:p,V:e,G:q.Mb(q.Fj(a))},{C:l,V:e,G:q.Mb(q.Fj(a))},y,this.mb.length*x));this.mb.push(new q.Yc({C:m,V:e,G:q.Mb(a)},{C:p,V:e,G:q.Mb(q.Fj(a))},{C:t,V:e,G:q.Mb(a)},y,this.mb.length*x));this.mb.push(new q.Yc({C:v,V:e,G:q.Mb(q.Gd(g,a))},{C:p,V:e,G:q.Mb(q.Fj(a))},{C:t,V:e,G:q.Mb(a)},y,this.mb.length*
x));this.mb.push(new q.Yc({C:v,V:e,G:q.Mb(q.Gd(g,a))},{C:f,V:e,G:q.Mb(q.mh(a,g))},{C:t,V:e,G:q.Mb(a)},y,this.mb.length*x));this.Qa=!0},ie:function(a,c,d,e){c={t:0|255*c.t,p:0|255*c.p,o:0|255*c.o,P:0|255*c.P};e={t:0|255*e.t,p:0|255*e.p,o:0|255*e.o,P:0|255*e.P};var f=[],g,h,k,l,m=a.length;for(g=0;g<m;g++){h=q.Pi(a[(g-1+m)%m]);k=q.Pi(a[g]);l=q.Pi(a[(g+1)%m]);var p=q.LE(q.Cy(q.Gd(k,h)));k=q.LE(q.Cy(q.Gd(l,k)));f[g]={offset:q.vg(q.mh(p,k),1/(q.NY(p,k)+1)),bK:k}}p=0<d;this.AA(3*(3*m-2));var t=q.Yc.BYTES_PER_ELEMENT,
v=this.tl,x=this.mb,y=0==p?.5:0;for(g=0;g<m-2;g++)h=q.Gd(q.Pi(a[0]),q.vg(f[0].offset,y)),k=q.Gd(q.Pi(a[g+1]),q.vg(f[g+1].offset,y)),l=q.Gd(q.Pi(a[g+2]),q.vg(f[g+2].offset,y)),x.push(new q.Yc({C:h,V:c,G:q.Mb({x:0,y:0})},{C:k,V:c,G:q.Mb({x:0,y:0})},{C:l,V:c,G:q.Mb({x:0,y:0})},v,x.length*t));for(g=0;g<m;g++){y=(g+1)%m;h=q.Pi(a[g]);k=q.Pi(a[y]);l=f[g].bK;var G=f[g].offset,K=f[y].offset,y=p?q.Gd(h,q.vg(G,d)):q.Gd(h,q.vg(G,.5)),F=p?q.Gd(k,q.vg(K,d)):q.Gd(k,q.vg(K,.5));h=p?q.mh(h,q.vg(G,d)):q.mh(h,q.vg(G,
.5));k=p?q.mh(k,q.vg(K,d)):q.mh(k,q.vg(K,.5));p?(x.push(new q.Yc({C:y,V:e,G:q.Mb(q.Fj(l))},{C:F,V:e,G:q.Mb(q.Fj(l))},{C:k,V:e,G:q.Mb(l)},v,x.length*t)),x.push(new q.Yc({C:y,V:e,G:q.Mb(q.Fj(l))},{C:h,V:e,G:q.Mb(l)},{C:k,V:e,G:q.Mb(l)},v,x.length*t))):(x.push(new q.Yc({C:y,V:c,G:q.Mb({x:0,y:0})},{C:F,V:c,G:q.Mb({x:0,y:0})},{C:k,V:c,G:q.Mb(l)},v,x.length*t)),x.push(new q.Yc({C:y,V:c,G:q.Mb({x:0,y:0})},{C:h,V:c,G:q.Mb(l)},{C:k,V:c,G:q.Mb(l)},v,x.length*t)))}this.Qa=!0},clear:function(){this.mb.length=
0;this.Qa=!0}});q.yg=q.Ka.fd?q.SM:q.RM;q.yg.create=function(){var a=new q.yg;return a&&a.A()?a:null};q.av=function(a){this.type=a};q.yg.PF=0;q.yg.QF=1;q.yg.Gz=2;q.At=-1;q.pL=function(a,c){a.ih(c);var d=a.D;if(d)for(var e=0;e<d.length;e++)q.pL(d[e],c)};
q.Ab=q.Node.extend({Gc:null,vm:0,bj:!1,xG:!1,ctor:function(){q.Node.prototype.ctor.call(this);this.Gc=null;this.vm=0;this.bj=!1},A:null,RA:function(a){this.Gc=a;this.vm=1;this.bj=!1;q.Ab.TA=!0;q.Ab.TA&&(q.At=q.da.getParameter(q.da.STENCIL_BITS),0>=q.At&&q.log("Stencil buffer is not enabled."),q.Ab.TA=!1);return!0},QA:function(a){this.Gc=a;this.vm=1;this.bj=!1},ah:function(){q.Node.prototype.ah.call(this);this.Gc.ah()},Hi:function(){q.Node.prototype.Hi.call(this);this.Gc.Hi()},Rh:function(){this.Gc.Rh();
q.Node.prototype.Rh.call(this)},le:function(){this.Gc.le();q.Node.prototype.le.call(this)},Ba:null,kn:function(a){var c=a||q.da;if(1>q.At)q.Node.prototype.Ba.call(this,a);else if(this.Gc&&this.Gc.ya)if(q.Ab.Nr=-1,q.Ab.Nr+1==q.At)q.Ab.jC=!0,q.Ab.jC&&(q.log("Nesting more than "+q.At+"stencils is not supported. Everything will be drawn without stencil for this node and its childs."),q.Ab.jC=!1),q.Node.prototype.Ba.call(this,a);else{q.Ab.Nr++;var d=1<<q.Ab.Nr,e=d|d-1,f=c.isEnabled(c.STENCIL_TEST),g=c.getParameter(c.STENCIL_WRITEMASK),
h=c.getParameter(c.STENCIL_FUNC),k=c.getParameter(c.STENCIL_REF),l=c.getParameter(c.STENCIL_VALUE_MASK),m=c.getParameter(c.STENCIL_FAIL),p=c.getParameter(c.STENCIL_PASS_DEPTH_FAIL),t=c.getParameter(c.STENCIL_PASS_DEPTH_PASS);c.enable(c.STENCIL_TEST);c.stencilMask(d);var v=c.getParameter(c.DEPTH_WRITEMASK);c.depthMask(!1);c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.bj?c.REPLACE:c.ZERO,c.KEEP,c.KEEP);q.Ge.GC(q.Lj(),q.qV(),q.Tw(1,1,1,1));c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.bj?c.ZERO:c.REPLACE,
c.KEEP,c.KEEP);if(1>this.vm){var d=q.ai.g().Ii(q.i0),x=c.getUniformLocation(d.lx(),q.G0);q.x7(d.lx());d.AL(x,this.vm);q.pL(this.Gc,d)}q.iq();this.transform();this.Gc.Ba();q.hq();c.depthMask(v);c.stencilFunc(c.EQUAL,e,e);c.stencilOp(c.KEEP,c.KEEP,c.KEEP);q.Node.prototype.Ba.call(this,a);c.stencilFunc(h,k,l);c.stencilOp(m,p,t);c.stencilMask(g);f||c.disable(c.STENCIL_TEST);q.Ab.Nr--}else this.bj&&q.Node.prototype.Ba.call(this,a)},jn:function(a){if(this.Gc&&this.Gc.ya){if(this.cA()||this.Gc instanceof
q.v){a=a||q.da;var c=a.canvas,d=q.Ab.bP();d.width=c.width;d.height=c.height;d.getContext("2d").drawImage(c,0,0);a.save();this._super(a);a.globalCompositeOperation=this.bj?"destination-out":"destination-in";this.transform(a);this.Gc.Ba();a.restore();a.save();a.setTransform(1,0,0,1,0,0);a.globalCompositeOperation="destination-over";a.drawImage(d,0,0)}else{a=a||q.da;var d=this.D,e;a.save();this.transform(a);this.Gc.Ba(a);a.clip();this.cA(!0);var f=d.length;if(0<f){this.ne();for(c=0;c<f;c++)if(e=d[c],
0>e.ob)e.Ba(a);else break;for(this.Za(a);c<f;c++)d[c].Ba(a)}else this.Za(a);this.cA(!1)}a.restore()}else this.bj&&q.Node.prototype.Ba.call(this,a)},N6:function(){return this.Gc},lE:null,GQ:function(a){this.Gc=a},FQ:function(a){this.Gc=a;var c=q.ra.g().va,d=q.ra.g().Da,e=q.da;!(a instanceof q.v)&&a instanceof q.yg&&(a.Za=function(){for(var f=0;f<a.mb.length;f++){var g=a.mb[f].Dy,h=g[0];e.beginPath();e.moveTo(h.x*c,-h.y*d);for(var h=1,k=g.length;h<k;h++)e.lineTo(g[h].x*c,-g[h].y*d)}})},Z3:function(){return this.vm},
maa:function(a){this.vm=a},j8:function(){return this.bj},Uaa:function(a){this.bj=a},cA:function(a){if(!0===a||!1===a)q.Ab.prototype.xG=a;return q.Ab.prototype.xG}});q.Ka.fd?(q.Ab.prototype.A=q.Ab.prototype.RA,q.Ab.prototype.Ba=q.Ab.prototype.kn,q.Ab.prototype.lE=q.Ab.prototype.GQ):(q.Ab.prototype.A=q.Ab.prototype.QA,q.Ab.prototype.Ba=q.Ab.prototype.jn,q.Ab.prototype.lE=q.Ab.prototype.FQ);q.Ab.TA=null;q.Ab.jC=null;q.Ab.Nr=null;q.Ab.mH=null;q.Ab.bP=function(){return q.Ab.mH||(q.Ab.mH=document.createElement("canvas"))};
q.Ab.create=function(a){var c=new q.Ab;c.A(a);return c};q.g_=0;q.h_=1;q.i_=2;q.oo=function(a){--a;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;return(a|a>>16)+1};
q.xb=q.Node.extend({Go:null,Ho:null,Bv:0,ir:0,fw:0,Ga:null,rs:null,XQ:null,ag:q.Oj,Bb:null,pv:0,Tj:null,iA:0,jA:0,Uq:!1,hA:null,ctor:null,bi:function(){q.Node.prototype.ctor.call(this);this.Tj=q.Tw(1,1,1,1);this.hA="rgba(255,255,255,1)";this.Go=document.createElement("canvas");this.Ho=this.Go.getContext("2d");this.w(0,0)},ci:function(){q.Node.prototype.ctor.call(this);this.Tj=q.Tw(0,0,0,0)},hg:null,FO:function(){q.Node.prototype.le.call(this);this.Go=this.Ho=null},GO:function(){q.Node.prototype.le.call(this);
this.rs=null;var a=q.da;a.deleteFramebuffer(this.Bv);this.ir&&a.deleteRenderbuffer(this.ir);this.XQ=null},IT:function(){return this.Bb},vt:function(a){this.Bb=a},nD:null,mP:function(a,c){var d=this.Go,e=q.gd();d.width=0|a*e;d.height=0|c*e;this.Ho.translate(0,d.height);e=new q.qc;e.sf(d);e.je();this.Bb=q.v.Ja(e);return!0},nP:function(a,c,d,e){d==q.Jq&&q.log("cc.RenderTexture._initWithWidthAndHeightForWebGL() : only RGB and RGBA formats are valid for a render texture;");var f=q.da,g=q.gd();a=0|a*g;
c=0|c*g;this.fw=f.getParameter(f.FRAMEBUFFER_BINDING);var h;q.Ye.g().os?(g=a,h=c):(g=q.oo(a),h=q.oo(c));for(var k=new Uint8Array(g*h*4),l=0;l<g*h*4;l++)k[l]=0;this.ag=d;this.Ga=new q.qc;if(!this.Ga)return!1;l=this.Ga;l.qx(k,this.ag,g,h,q.size(a,c));d=f.getParameter(f.RENDERBUFFER_BINDING);if(q.Ye.g().Np("GL_QCOM")){this.rs=new q.qc;if(!this.rs)return!1;this.rs.qx(k,this.ag,g,h,q.size(a,c))}this.Bv=f.createFramebuffer();f.bindFramebuffer(f.FRAMEBUFFER,this.Bv);f.framebufferTexture2D(f.FRAMEBUFFER,
f.COLOR_ATTACHMENT0,f.TEXTURE_2D,l.ui,0);0!=e&&(this.ir=f.createRenderbuffer(),f.bindRenderbuffer(f.RENDERBUFFER,this.ir),f.renderbufferStorage(f.RENDERBUFFER,e,g,h),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,this.ir));f.checkFramebufferStatus(f.FRAMEBUFFER)!==f.FRAMEBUFFER_COMPLETE&&q.log("Could not attach texture to the framebuffer");l.OK();a=this.Bb=q.v.Ja(l);a.Wn(-1);a.Ul(f.ONE,f.ONE_MINUS_SRC_ALPHA);f.bindRenderbuffer(f.RENDERBUFFER,d);f.bindFramebuffer(f.FRAMEBUFFER,
this.fw);this.Uq=!1;this.f(a);return!0},sk:null,vO:function(){q.da=this.Ho;q.Ge.rL(q.da);q.ra.g().CQ()},wO:function(){q.Bn(q.vu);q.iq();q.Bn(q.uu);q.iq();var a=q.ea.g();a.Zx(a.ml);var c=this.Ga.Ca,d=q.ea.g().ST(),a=d.width/c.width,d=d.height/c.height,e=q.da;e.viewport(0,0,c.width,c.height);c=new q.Oh;q.OU(c,-1/a,1/a,-1/d,1/d,-1,1);q.wx(c);this.fw=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,this.Bv);q.Ye.g().Np("GL_QCOM")&&(e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,
e.TEXTURE_2D,this.rs.ui,0),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.Ga.ui,0))},tC:function(a,c,d,e,f,g){var h=q.da;f=f||h.COLOR_BUFFER_BIT;g=g||h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT;this.$z(a,c,d,e,f,g,h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT|h.STENCIL_BUFFER_BIT)},$z:null,xO:function(a,c,d,e){this.sk();a=a||0;c=c||0;d=d||0;e=isNaN(e)?1:e;var f=this.Ho,g=this.Go;f.save();f.fillStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|
255*d)+","+e+")";f.clearRect(0,0,g.width,-g.height);f.fillRect(0,0,g.width,-g.height);f.restore()},yO:function(a,c,d,e,f,g,h){this.sk();var k=q.da,l=[0,0,0,0],m=0,p=0;h&k.COLOR_BUFFER_BIT&&(l=k.getParameter(k.COLOR_CLEAR_VALUE),k.clearColor(a,c,d,e));h&k.DEPTH_BUFFER_BIT&&(m=k.getParameter(k.DEPTH_CLEAR_VALUE),k.clearDepth(f));h&k.STENCIL_BUFFER_BIT&&(p=k.getParameter(k.STENCIL_CLEAR_VALUE),k.clearStencil(g));k.clear(h);h&k.COLOR_BUFFER_BIT&&k.clearColor(l[0],l[1],l[2],l[3]);h&k.DEPTH_BUFFER_BIT&&
k.clearDepth(m);h&k.STENCIL_BUFFER_BIT&&k.clearStencil(p)},end:null,VO:function(){q.da=q.TU;q.Ge.rL(q.da);q.ra.g().eQ()},WO:function(){var a=q.da,c=q.ea.g();a.bindFramebuffer(a.FRAMEBUFFER,this.fw);c.EL();q.Bn(q.vu);q.hq();q.Bn(q.uu);q.hq()},clear:function(a,c,d,e){this.tC(a,c,d,e);this.end()},clearRect:null,KO:function(a,c,d,e){this.Ho.clearRect(a,c,d,-e)},LO:function(){},clearDepth:null,IO:function(){q.log("clearDepth isn't supported on Cocos2d-Html5")},JO:function(a){this.sk();var c=q.da,d=c.getParameter(c.DEPTH_CLEAR_VALUE);
c.clearDepth(a);c.clear(c.DEPTH_BUFFER_BIT);c.clearDepth(d);this.end()},clearStencil:null,MO:function(){q.log("clearDepth isn't supported on Cocos2d-Html5")},NO:function(a){var c=q.da,d=c.getParameter(c.STENCIL_CLEAR_VALUE);c.clearStencil(a);c.clear(c.STENCIL_BUFFER_BIT);c.clearStencil(d)},Ba:null,jn:function(a){this.ya&&(a=a||q.da,a.save(),this.Za(a),this.transform(a),this.Bb.Ba(),a.restore(),this.Zf=0)},kn:function(a){if(this.ya){q.iq();var c=this.al;c&&c.fq()&&(c.sC(),this.ty());this.transform(a);
this.Bb.Ba();this.Za(a);c&&c.fq()&&c.oC(this);q.hq();this.Zf=0}},Za:null,Wj:function(a){a=a||q.da;if(this.Uq){this.sk();if(this.pv){var c=this.Go;a.save();a.fillStyle=this.hA;a.clearRect(0,0,c.width,-c.height);a.fillRect(0,0,c.width,-c.height);a.restore()}this.ne();a=this.D;for(var c=a.length,d=this.Bb,e=0;e<c;e++){var f=a[e];f!=d&&f.Ba()}this.end()}},Fg:function(){var a=q.da;if(this.Uq){this.sk();var c=this.pv;if(c){var d=[0,0,0,0],e=0,f=0;c&a.COLOR_BUFFER_BIT&&(d=a.getParameter(a.COLOR_CLEAR_VALUE),
a.clearColor(this.Tj.t,this.Tj.p,this.Tj.o,this.Tj.P));c&a.DEPTH_BUFFER_BIT&&(e=a.getParameter(a.DEPTH_CLEAR_VALUE),a.clearDepth(this.iA));c&a.STENCIL_BUFFER_BIT&&(f=a.getParameter(a.STENCIL_CLEAR_VALUE),a.clearStencil(this.jA));a.clear(c);c&a.COLOR_BUFFER_BIT&&a.clearColor(d[0],d[1],d[2],d[3]);c&a.DEPTH_BUFFER_BIT&&a.clearDepth(e);c&a.STENCIL_BUFFER_BIT&&a.clearStencil(f)}this.ne();a=this.D;for(c=0;c<a.length;c++)d=a[c],d!=this.Bb&&d.Ba();this.end()}},cK:null,DP:function(){q.log("saveToFile isn't supported on Cocos2d-Html5");
return null},EP:function(){q.log("saveToFile isn't supported on Cocos2d-Html5");q.Mt(this.ag==q.Oj,"only RGBA8888 can be saved as image");if(!this.Ga)return null;var a=this.Ga.Ca,c=a.width,a=a.height,d=new q.Image,e=q.da,f=new Uint8Array(c*a*4);if(!f)return d;var g=new Uint8Array(c*a*4);if(!g)return null;this.sk();e.pixelStorei(e.PACK_ALIGNMENT,1);e.readPixels(0,0,c,a,e.RGBA,e.UNSIGNED_BYTE,g);this.end();for(e=0;e<a;++e)this.BP(f,e*c*4,g,(a-e-1)*c*4,4*c);d.K7(f,c*a*4,q.$Z,c,a,8);return d},BP:function(a,
c,d,e,f){for(var g=0;g<f;g++)a[c+g]=d[e+g]},aaa:function(){q.log("saveToFile isn't supported on Cocos2d-Html5")},X8:function(){q.log("listenToBackground isn't supported on Cocos2d-Html5")},Y8:function(){q.log("listenToForeground isn't supported on Cocos2d-Html5")},x4:function(){return this.pv},taa:function(a){this.pv=a},v4:function(){return this.Tj},VK:null,mQ:function(a){var c=this.Tj;c.t=a.t;c.p=a.p;c.o=a.o;c.P=a.P;this.hA="rgba("+(0|255*a.t)+","+(0|255*a.p)+","+(0|255*a.o)+","+a.P+")"},nQ:function(a){var c=
this.Tj;c.t=a.t;c.p=a.p;c.o=a.o;c.P=a.P},w4:function(){return this.iA},saa:function(a){this.iA=a},y4:function(){return this.jA},uaa:function(a){this.jA=a},U7:function(){return this.Uq},oaa:function(a){this.Uq=a}});
q.Ka.fd?(b=q.xb.prototype,b.ctor=q.xb.prototype.ci,b.hg=q.xb.prototype.GO,b.nD=q.xb.prototype.nP,b.sk=q.xb.prototype.wO,b.$z=q.xb.prototype.yO,b.end=q.xb.prototype.WO,b.clearRect=q.xb.prototype.LO,b.clearDepth=q.xb.prototype.JO,b.clearStencil=q.xb.prototype.NO,b.Ba=q.xb.prototype.kn,b.Za=q.xb.prototype.Fg,b.cK=q.xb.prototype.EP,b.VK=q.xb.prototype.nQ):(b=q.xb.prototype,b.ctor=q.xb.prototype.bi,b.hg=q.xb.prototype.FO,b.nD=q.xb.prototype.mP,b.sk=q.xb.prototype.vO,b.$z=q.xb.prototype.xO,b.end=q.xb.prototype.VO,
b.clearRect=q.xb.prototype.KO,b.clearDepth=q.xb.prototype.IO,b.clearStencil=q.xb.prototype.MO,b.Ba=q.xb.prototype.jn,b.Za=q.xb.prototype.Wj,b.cK=q.xb.prototype.DP,b.VK=q.xb.prototype.mQ);q.xb.create=function(a,c,d,e){d=d||q.Oj;e=e||0;var f=new q.xb;return f&&f.nD(a,c,d,e)?f:null};q.fo=-1;
q.Zd=q.Pa.extend({Om:null,aa:null,Dd:q.fo,ctor:function(){this.aa=this.Om=null;this.Dd=q.fo},description:function(){return"<cc.Action | Tag = "+this.Dd+">"},Ls:function(){return q.clone(this)},clone:function(){var a=new q.Zd;a.Om=null;a.aa=null;a.Dd=this.Dd;return a},Di:function(){return!0},ha:function(a){this.aa=this.Om=a},stop:function(){this.aa=null},step:function(){q.log("[Action step]. override me")},update:function(){q.log("[Action update]. override me")},NT:function(){return this.aa},Mba:function(a){this.aa=
a},W5:function(){return this.Om},pba:function(a){this.Om=a},MT:function(){return this.Dd},yL:function(a){this.Dd=a},JK:function(){},BK:function(){}});q.Zd.create=function(){return new q.Zd};q.Kj=q.Zd.extend({Fa:0,ctor:function(){q.Zd.prototype.ctor.call(this);this.Fa=0},Kf:function(){return this.Fa},Faa:function(a){this.Fa=a},reverse:function(){q.log("cocos2d: FiniteTimeAction#reverse: Implement me");return null},clone:function(){return new q.Kj}});
q.Lu=q.Zd.extend({Wm:0,Nb:null,ctor:function(){q.Zd.prototype.ctor.call(this);this.Wm=0;this.Nb=null},G6:function(){return this.Wm},Fba:function(a){this.Wm=a},wa:function(a,c){if(!a)throw"cc.Speed.initWithAction(): action must be non nil";this.Nb=a;this.Wm=c;return!0},clone:function(){var a=new q.Lu;a.wa(this.Nb.clone(),this.Wm);return a},ha:function(a){q.Zd.prototype.ha.call(this,a);this.Nb.ha(a)},stop:function(){this.Nb.stop();q.Zd.prototype.stop.call(this)},step:function(a){this.Nb.step(a*this.Wm)},
Di:function(){return this.Nb.Di()},reverse:function(){return q.Lu.create(this.Nb.reverse(),this.Wm)},dL:function(a){this.Nb!=a&&(this.Nb=a)},OC:function(){return this.Nb}});q.Lu.create=function(a,c){var d=new q.Lu;return d&&d.wa(a,c)?d:null};
q.bz=q.Zd.extend({Zo:null,Do:!1,kv:!1,Hv:null,Cr:null,Cn:0,Sn:0,ao:0,tn:0,lC:null,ctor:function(){q.Zd.prototype.ctor.call(this);this.Zo=null;this.kv=this.Do=!1;this.Cr=this.Hv=null;this.tn=this.ao=this.Sn=this.Cn=0;this.lC=q.xd()},clone:function(){var a=new q.bz,c=this.lC,c=new q.Rect(c.x,c.y,c.width,c.height);a.Vg(this.Zo,c);return a},W7:function(){return this.Do},qaa:function(a){this.Do=a},Vg:function(a,c){if(!a)throw"cc.Follow.initWithAction(): followedNode must be non nil";c=c||q.xd();this.Zo=
a;this.lC=c;this.Do=!q.Yr(c);this.kv=!1;var d=q.ea.g().fc;this.Cr=q.a(d.width,d.height);this.Hv=q.yj(this.Cr,.5);this.Do&&(this.Cn=-(c.x+c.width-this.Cr.x),this.Sn=-c.x,this.ao=-c.y,this.tn=-(c.y+c.height-this.Cr.y),this.Sn<this.Cn&&(this.Sn=this.Cn=(this.Cn+this.Sn)/2),this.ao<this.tn&&(this.ao=this.tn=(this.ao+this.tn)/2),this.ao==this.tn&&this.Cn==this.Sn&&(this.kv=!0));return!0},step:function(){var a=this.Zo.u.I,c=this.Zo.u.T,a=this.Hv.x-a,c=this.Hv.y-c;this.Do?this.kv||this.aa.l(q.Js(a,this.Cn,
this.Sn),q.Js(c,this.tn,this.ao)):this.aa.l(a,c)},Di:function(){return!this.Zo.ff},stop:function(){this.aa=null;q.Zd.prototype.stop.call(this)}});q.bz.create=function(a,c){c=c||new q.xd;var d=new q.bz;return null!=c&&d&&d.Vg(a,c)||d&&d.Vg(a)?d:null};q.Z=q.Kj.extend({Ac:0,Br:!1,ctor:function(){q.Kj.prototype.ctor.call(this);this.Ac=0;this.Br=!1},P4:function(){return this.Ac},W:function(a){this.Fa=0===a?q.ou:a;this.Ac=0;return this.Br=!0},Di:function(){return this.Ac>=this.Fa},clone:function(){var a=new q.Z;a.W(this.Fa);return a},step:function(a){this.Br?(this.Br=!1,this.Ac=0):this.Ac+=a;a=this.Ac/(1.192092896E-7<this.Fa?this.Fa:1.192092896E-7);a=1>a?a:1;this.update(0<a?a:0)},ha:function(a){q.Zd.prototype.ha.call(this,a);this.Ac=0;this.Br=!0},
reverse:function(){q.log("cc.IntervalAction: reverse not implemented.");return null},naa:function(){q.log("cc.ActionInterval.setAmplitudeRate(): it should be overridden in subclass.")},a4:function(){q.log("cc.ActionInterval.getAmplitudeRate(): it should be overridden in subclass.")}});q.Z.create=function(a){var c=new q.Z;c.W(a);return c};
q.Nj=q.Z.extend({Qi:null,LB:null,gp:0,ctor:function(){q.Z.prototype.ctor.call(this);this.Qi=[];this.LB=null;this.gp=0},dt:function(a,c){if(!a||!c)throw"cc.Sequence.initWithTwoActions(): arguments must all be non nil";this.W(a.Kf()+c.Kf());this.Qi[0]=a;this.Qi[1]=c;return!0},clone:function(){var a=new q.Nj;a.dt(this.Qi[0].clone(),this.Qi[1].clone());return a},ha:function(a){q.Z.prototype.ha.call(this,a);this.LB=this.Qi[0].Kf()/this.Fa;this.gp=-1},stop:function(){-1!==this.gp&&this.Qi[this.gp].stop();
q.Zd.prototype.stop.call(this)},update:function(a){var c=0,d=this.LB,e=this.Qi,f=this.gp;a<d?(a=0!==d?a/d:1,0===c&&1===f&&(e[1].update(0),e[1].stop())):(c=1,a=1===d?1:(a-d)/(1-d),-1===f&&(e[0].ha(this.aa),e[0].update(1),e[0].stop()),f||(e[0].update(1),e[0].stop()));f===c&&e[c].Di()||(f!==c&&e[c].ha(this.aa),e[c].update(a),this.gp=c)},reverse:function(){return q.Nj.tm(this.Qi[1].reverse(),this.Qi[0].reverse())},Ls:function(){return this.clone()}});
q.Nj.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&q.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)c[e]&&(d=q.Nj.tm(d,c[e]));return d};q.Nj.tm=function(a,c){var d=new q.Nj;d.dt(a,c);return d};
q.Cu=q.Z.extend({Pg:0,mk:0,cw:0,ZF:!1,Nb:null,ctor:function(){q.Z.prototype.ctor.call(this);this.cw=this.mk=this.Pg=0;this.ZF=!1;this.Nb=null},wa:function(a,c){return this.W(a.Kf()*c)?(this.Pg=c,this.Nb=a,a instanceof q.Ki&&--this.Pg,this.mk=0,!0):!1},clone:function(){var a=new q.Cu;a.wa(this.Nb.clone(),this.Pg);return a},ha:function(a){this.mk=0;this.cw=this.Nb.Kf()/this.Fa;q.Z.prototype.ha.call(this,a);this.Nb.ha(a)},stop:function(){this.Nb.stop();q.Zd.prototype.stop.call(this)},update:function(a){var c=
this.Nb,d=this.Fa,e=this.Pg,f=this.cw;if(a>=f){for(;a>f&&this.mk<e;)c.update(1),this.mk++,c.stop(),c.ha(this.aa),this.cw=f+=c.Kf()/d;1<=a&&this.mk<e&&this.mk++;this.ZF&&(this.mk==e?(c.update(1),c.stop()):c.update(a-(f-c.Kf()/d)))}else c.update(a*e%1)},Di:function(){return this.mk==this.Pg},reverse:function(){return q.Cu.create(this.Nb.reverse(),this.Pg)},dL:function(a){this.Nb!=a&&(this.Nb=a)},OC:function(){return this.Nb}});q.Cu.create=function(a,c){var d=new q.Cu;d.wa(a,c);return d};
q.Du=q.Z.extend({Nb:null,ctor:function(){q.Z.prototype.ctor.call(this);this.Nb=null},wa:function(a){if(!a)throw"cc.RepeatForever.initWithAction(): action must be non null";this.Nb=a;return!0},clone:function(){var a=new q.Du;a.wa(this.Nb.clone());return a},ha:function(a){q.Z.prototype.ha.call(this,a);this.Nb.ha(a)},step:function(a){var c=this.Nb;c.step(a);c.Di()&&(c.ha(this.aa),c.step(c.Ac-c.Kf()))},Di:function(){return!1},reverse:function(){return q.Du.create(this.Nb.reverse())},dL:function(a){this.Nb!=
a&&(this.Nb=a)},OC:function(){return this.Nb}});q.Du.create=function(a){var c=new q.Du;return c&&c.wa(a)?c:null};
q.Iq=q.Z.extend({ik:null,qk:null,ctor:function(){q.Z.prototype.ctor.call(this);this.qk=this.ik=null},dt:function(a,c){if(!a||!c)throw"cc.Spawn.initWithTwoActions(): arguments must all be non null";var d=!1,e=a.Kf(),f=c.Kf();this.W(Math.max(e,f))&&(this.ik=a,this.qk=c,e>f?this.qk=q.Nj.tm(c,q.jo.create(e-f)):e<f&&(this.ik=q.Nj.tm(a,q.jo.create(f-e))),d=!0);return d},clone:function(){var a=new q.Iq;a.dt(this.ik.clone(),this.qk.clone());return a},ha:function(a){q.Z.prototype.ha.call(this,a);this.ik.ha(a);
this.qk.ha(a)},stop:function(){this.ik.stop();this.qk.stop();q.Zd.prototype.stop.call(this)},update:function(a){this.ik&&this.ik.update(a);this.qk&&this.qk.update(a)},reverse:function(){return q.Iq.tm(this.ik.reverse(),this.qk.reverse())}});q.Iq.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&q.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)null!=c[e]&&(d=this.tm(d,c[e]));return d};
q.Iq.tm=function(a,c){var d=new q.Iq;d.dt(a,c);return d};
q.tz=q.Z.extend({mr:0,Xm:0,uA:0,zv:0,pl:0,vA:0,ctor:function(){q.Z.prototype.ctor.call(this);this.vA=this.pl=this.zv=this.uA=this.Xm=this.mr=0},W:function(a,c,d){return q.Z.prototype.W.call(this,a)?(this.mr=c||0,this.zv=d||this.mr,!0):!1},clone:function(){var a=new q.tz;a.W(this.Fa,this.mr,this.zv);return a},ha:function(a){q.Z.prototype.ha.call(this,a);var c=a.Lg%360,d=this.mr-c;180<d&&(d-=360);-180>d&&(d+=360);this.Xm=c;this.uA=d;this.pl=a.li%360;a=this.zv-this.pl;180<a&&(a-=360);-180>a&&(a+=360);
this.vA=a},reverse:function(){q.log("cc.RotateTo.reverse(): it should be overridden in subclass.")},update:function(a){this.aa&&(this.aa.by(this.Xm+this.uA*a),this.aa.cy(this.pl+this.vA*a))}});q.tz.create=function(a,c,d){var e=new q.tz;e.W(a,c,d);return e};
q.Fu=q.Z.extend({Bg:0,Xm:0,Tq:0,pl:0,ctor:function(){q.Z.prototype.ctor.call(this);this.pl=this.Tq=this.Xm=this.Bg=0},W:function(a,c,d){return q.Z.prototype.W.call(this,a)?(this.Bg=c||0,this.Tq=d||this.Bg,!0):!1},clone:function(){var a=new q.Fu;a.W(this.Fa,this.Bg,this.Tq);return a},ha:function(a){q.Z.prototype.ha.call(this,a);this.Xm=a.Lg;this.pl=a.li},update:function(a){this.aa&&(this.aa.by(this.Xm+this.Bg*a),this.aa.cy(this.pl+this.Tq*a))},reverse:function(){return q.Fu.create(this.Fa,-this.Bg,
-this.Tq)}});q.Fu.create=function(a,c,d){var e=new q.Fu;e.W(a,c,d);return e};
q.Kk=q.Z.extend({hj:null,kd:null,jd:null,ctor:function(){q.Z.prototype.ctor.call(this);this.hj=q.a(0,0);this.kd=q.a(0,0);this.jd=q.a(0,0)},W:function(a,c){return q.Z.prototype.W.call(this,a)?(this.hj.x=c.x,this.hj.y=c.y,!0):!1},clone:function(){var a=new q.Kk;a.W(this.Fa,this.hj);return a},ha:function(a){q.Z.prototype.ha.call(this,a);var c=a.u.I;a=a.u.T;this.jd.x=c;this.jd.y=a;this.kd.x=c;this.kd.y=a},update:function(a){if(this.aa){var c=this.hj.x*a;a*=this.hj.y;var d=this.kd;if(q.Tt){var e=this.aa.u.T,
f=this.jd;d.x=d.x+this.aa.u.I-f.x;d.y=d.y+e-f.y;c+=d.x;a+=d.y;this.aa.l(c,a);f.x=c;f.y=a}else this.aa.l(d.x+c,d.y+a)}},reverse:function(){return q.Kk.create(this.Fa,q.a(-this.hj.x,-this.hj.y))}});q.Kk.create=function(a,c){var d=new q.Kk;d.W(a,c);return d};
q.xu=q.Kk.extend({Yo:null,ctor:function(){q.Kk.prototype.ctor.call(this);this.Yo=q.a(0,0)},W:function(a,c){return q.Kk.prototype.W.call(this,a,c)?(this.Yo.x=c.x,this.Yo.y=c.y,!0):!1},clone:function(){var a=new q.xu;a.W(this.Fa,this.Yo);return a},ha:function(a){q.Kk.prototype.ha.call(this,a);this.hj.x=this.Yo.x-a.u.I;this.hj.y=this.Yo.y-a.u.T}});q.xu.create=function(a,c){var d=new q.xu;d.W(a,c);return d};
q.uo=q.Z.extend({Ee:0,Fe:0,ks:0,ls:0,vr:0,wr:0,af:0,bf:0,ctor:function(){q.Z.prototype.ctor.call(this);this.bf=this.af=this.wr=this.vr=this.ls=this.ks=this.Fe=this.Ee=0},W:function(a,c,d){var e=!1;q.Z.prototype.W.call(this,a)&&(this.vr=c,this.wr=d,e=!0);return e},clone:function(){var a=new q.uo;a.W(this.Fa,this.vr,this.wr);return a},ha:function(a){q.Z.prototype.ha.call(this,a);this.ks=a.Ee%180;this.af=this.vr-this.ks;180<this.af&&(this.af-=360);-180>this.af&&(this.af+=360);this.ls=a.Fe%360;this.bf=
this.wr-this.ls;180<this.bf&&(this.bf-=360);-180>this.bf&&(this.bf+=360)},update:function(a){this.aa.dy(this.ks+this.af*a);this.aa.ey(this.ls+this.bf*a)}});q.uo.create=function(a,c,d){var e=new q.uo;e&&e.W(a,c,d);return e};
q.Ju=q.uo.extend({W:function(a,c,d){var e=!1;q.uo.prototype.W.call(this,a,c,d)&&(this.Ee=c,this.Fe=d,e=!0);return e},clone:function(){var a=new q.Ju;a.W(this.Fa,this.Ee,this.Fe);return a},ha:function(a){q.uo.prototype.ha.call(this,a);this.af=this.Ee;this.bf=this.Fe;this.vr=this.ks+this.af;this.wr=this.ls+this.bf},reverse:function(){return q.Ju.create(this.Fa,-this.Ee,-this.Fe)}});q.Ju.create=function(a,c,d){var e=new q.Ju;e&&e.W(a,c,d);return e};
q.mo=q.Z.extend({kd:null,Eg:null,xa:0,ep:0,jd:null,ctor:function(){q.Z.prototype.ctor.call(this);this.kd=q.a(0,0);this.jd=q.a(0,0);this.Eg=q.a(0,0);this.ep=this.xa=0},W:function(a,c,d,e){return q.Z.prototype.W.call(this,a)?(this.Eg.x=c.x,this.Eg.y=c.y,this.xa=d,this.ep=e,!0):!1},clone:function(){var a=new q.mo;a.W(this.Fa,this.Eg,this.xa,this.ep);return a},ha:function(a){q.Z.prototype.ha.call(this,a);var c=a.u.I;a=a.u.T;this.jd.x=c;this.jd.y=a;this.kd.x=c;this.kd.y=a},update:function(a){if(this.aa){var c=
a*this.ep%1,c=4*this.xa*c*(1-c),c=c+this.Eg.y*a;a*=this.Eg.x;var d=this.kd;if(q.Tt){var e=this.aa.u.T,f=this.jd;d.x=d.x+this.aa.u.I-f.x;d.y=d.y+e-f.y;a+=d.x;c+=d.y;this.aa.l(a,c);f.x=a;f.y=c}else this.aa.l(d.x+a,d.y+c)}},reverse:function(){return q.mo.create(this.Fa,q.a(-this.Eg.x,-this.Eg.y),this.xa,this.ep)}});q.mo.create=function(a,c,d,e){var f=new q.mo;f.W(a,c,d,e);return f};
q.ez=q.mo.extend({ha:function(a){q.mo.prototype.ha.call(this,a);this.Eg.x-=this.kd.x;this.Eg.y-=this.kd.y},clone:function(){var a=new q.ez;a.W(this.Fa,this.Eg,this.xa,this.ep);return a}});q.ez.create=function(a,c,d,e){var f=new q.ez;f.W(a,c,d,e);return f};q.eI=function(a,c,d,e){return 0*Math.pow(1-e,3)+3*e*Math.pow(1-e,2)*a+3*Math.pow(e,2)*(1-e)*c+Math.pow(e,3)*d};
q.lm=q.Z.extend({Bm:null,kd:null,jd:null,ctor:function(){q.Z.prototype.ctor.call(this);this.Bm=[];this.kd=q.a(0,0);this.jd=q.a(0,0)},W:function(a,c){return q.Z.prototype.W.call(this,a)?(this.Bm=c,!0):!1},clone:function(){for(var a=new q.lm,c=[],d=0;d<this.Bm.length;d++){var e=this.Bm[d];c.push(q.a(e.x,e.y))}a.W(this.Fa,c);return a},ha:function(a){q.Z.prototype.ha.call(this,a);var c=a.u.I;a=a.u.T;this.jd.x=c;this.jd.y=a;this.kd.x=c;this.kd.y=a},update:function(a){if(this.aa){var c=this.Bm,d=q.eI(c[0].x,
c[1].x,c[2].x,a);a=q.eI(c[0].y,c[1].y,c[2].y,a);c=this.kd;if(q.Tt){var e=this.aa.u.T,f=this.jd;c.x=c.x+this.aa.u.I-f.x;c.y=c.y+e-f.y;d+=c.x;a+=c.y;this.aa.l(d,a);f.x=d;f.y=a}else this.aa.l(c.x+d,c.y+a)}},reverse:function(){var a=this.Bm,a=[q.dh(a[1],q.FD(a[2])),q.dh(a[0],q.FD(a[2])),q.FD(a[2])];return q.lm.create(this.Fa,a)}});q.lm.create=function(a,c){var d=new q.lm;d.W(a,c);return d};
q.Ly=q.lm.extend({Ew:null,ctor:function(){q.lm.prototype.ctor.call(this);this.Ew=[]},W:function(a,c){return q.Z.prototype.W.call(this,a)?(this.Ew=c,!0):!1},clone:function(){var a=new q.Ly;a.W(this.Fa,this.Ew);return a},ha:function(a){q.lm.prototype.ha.call(this,a);a=this.kd;var c=this.Ew,d=this.Bm;d[0]=q.Ud(c[0],a);d[1]=q.Ud(c[1],a);d[2]=q.Ud(c[2],a)}});q.Ly.create=function(a,c){var d=new q.Ly;d.W(a,c);return d};
q.to=q.Z.extend({va:1,Da:1,wp:1,yp:1,Dm:0,Em:0,af:0,bf:0,ctor:function(){q.Z.prototype.ctor.call(this);this.yp=this.wp=this.Da=this.va=1;this.bf=this.af=this.Em=this.Dm=0},W:function(a,c,d){return q.Z.prototype.W.call(this,a)?(this.Dm=c,this.Em=null!=d?d:c,!0):!1},clone:function(){var a=new q.to;a.W(this.Fa,this.Dm,this.Em);return a},ha:function(a){q.Z.prototype.ha.call(this,a);this.wp=a.va;this.yp=a.Da;this.af=this.Dm-this.wp;this.bf=this.Em-this.yp},update:function(a){this.aa&&this.aa.Ek(this.wp+
this.af*a,this.yp+this.bf*a)}});q.to.create=function(a,c,d){var e=new q.to;e.W(a,c,d);return e};q.Hu=q.to.extend({ha:function(a){q.to.prototype.ha.call(this,a);this.af=this.wp*this.Dm-this.wp;this.bf=this.yp*this.Em-this.yp},reverse:function(){return q.Hu.create(this.Fa,1/this.Dm,1/this.Em)},clone:function(){var a=new q.Hu;a.W(this.Fa,this.Dm,this.Em);return a}});q.Hu.create=function(a,c,d){var e=new q.Hu;e.W(a,c,d);return e};
q.Nt=q.Z.extend({Pg:0,bB:!1,ctor:function(){q.Z.prototype.ctor.call(this);this.Pg=0;this.bB=!1},W:function(a,c){return q.Z.prototype.W.call(this,a)?(this.Pg=c,!0):!1},clone:function(){var a=new q.Nt;a.W(this.Fa,this.Pg);return a},update:function(a){if(this.aa&&!this.Di()){var c=1/this.Pg;this.aa.B(a%c>c/2)}},ha:function(a){q.Z.prototype.ha.call(this,a);this.bB=a.ya},stop:function(){this.aa.B(this.bB);q.Z.prototype.stop.call(this)},reverse:function(){return q.Nt.create(this.Fa,this.Pg)}});
q.Nt.create=function(a,c){var d=new q.Nt;d.W(a,c);return d};q.pu=q.Z.extend({update:function(a){this.aa.wb&&this.aa.ta(255*a)},reverse:function(){return q.qu.create(this.Fa)},clone:function(){var a=new q.pu;a.W(this.Fa);return a}});q.pu.create=function(a){var c=new q.pu;c.W(a);return c};q.qu=q.Z.extend({update:function(a){this.aa.wb&&this.aa.ta(255*(1-a))},reverse:function(){return q.pu.create(this.Fa)},clone:function(){var a=new q.qu;a.W(this.Fa);return a}});
q.qu.create=function(a){var c=new q.qu;c.W(a);return c};q.az=q.Z.extend({Fw:null,Ev:null,ctor:function(){q.Z.prototype.ctor.call(this);this.Ev=this.Fw=0},W:function(a,c){return q.Z.prototype.W.call(this,a)?(this.Fw=c,!0):!1},clone:function(){var a=new q.az;a.W(this.Fa,this.Fw);return a},update:function(a){this.aa.wb&&this.aa.ta(this.Ev+(this.Fw-this.Ev)*a)},ha:function(a){q.Z.prototype.ha.call(this,a);this.aa.wb&&(this.Ev=a.rj())}});q.az.create=function(a,c){var d=new q.az;d.W(a,c);return d};
q.Iz=q.Z.extend({Hf:null,ze:null,ctor:function(){q.Z.prototype.ctor.call(this);this.Hf=q.n(0,0,0);this.ze=q.n(0,0,0)},W:function(a,c,d,e){return q.Z.prototype.W.call(this,a)?(this.Hf=q.n(c,d,e),!0):!1},clone:function(){var a=new q.Iz,c=this.Hf;a.W(this.Fa,c.t,c.p,c.o);return a},ha:function(a){q.Z.prototype.ha.call(this,a);this.aa.wb&&(this.ze=this.aa.Ed())},update:function(a){var c=this.ze,d=this.Hf;this.aa.wb&&this.aa.q(q.n(c.t+(d.t-c.t)*a,c.p+(d.p-c.p)*a,c.o+(d.o-c.o)*a))}});
q.Iz.create=function(a,c,d,e){var f=new q.Iz;f.W(a,c,d,e);return f};
q.Qu=q.Z.extend({hr:0,gr:0,fr:0,GA:0,FA:0,EA:0,ctor:function(){q.Z.prototype.ctor.call(this);this.EA=this.FA=this.GA=this.fr=this.gr=this.hr=0},W:function(a,c,d,e){return q.Z.prototype.W.call(this,a)?(this.hr=c,this.gr=d,this.fr=e,!0):!1},clone:function(){var a=new q.Qu;a.W(this.Fa,this.hr,this.gr,this.fr);return a},ha:function(a){q.Z.prototype.ha.call(this,a);a.wb&&(a=a.Ed(),this.GA=a.t,this.FA=a.p,this.EA=a.o)},update:function(a){this.aa.wb&&this.aa.q(q.n(this.GA+this.hr*a,this.FA+this.gr*a,this.EA+
this.fr*a))},reverse:function(){return q.Qu.create(this.Fa,-this.hr,-this.gr,-this.fr)}});q.Qu.create=function(a,c,d,e){var f=new q.Qu;f.W(a,c,d,e);return f};q.jo=q.Z.extend({update:function(){},reverse:function(){return q.jo.create(this.Fa)},clone:function(){var a=new q.jo;a.W(this.Fa);return a}});q.jo.create=function(a){var c=new q.jo;c.W(a);return c};
q.Eu=q.Z.extend({jk:null,ctor:function(){q.Z.prototype.ctor.call(this);this.jk=null},wa:function(a){if(!a)throw"cc.ReverseTime.initWithAction(): action must be non null";if(a==this.jk)throw"cc.ReverseTime.initWithAction(): the action was already passed in.";return q.Z.prototype.W.call(this,a.Kf())?(this.jk=a,!0):!1},clone:function(){var a=new q.Eu;a.wa(this.jk.clone());return a},ha:function(a){q.Z.prototype.ha.call(this,a);this.jk.ha(a)},update:function(a){this.jk&&this.jk.update(1-a)},reverse:function(){return this.jk.clone()},
stop:function(){this.jk.stop();q.Zd.prototype.stop.call(this)}});q.Eu.create=function(a){var c=new q.Eu;c.wa(a);return c};
q.Kt=q.Z.extend({Qj:null,kp:0,gw:null,xr:0,MB:null,ctor:function(){q.Z.prototype.ctor.call(this);this.Qj=null;this.kp=0;this.gw=null;this.xr=0;this.MB=null},OI:function(){return this.Qj},TW:function(a){this.Qj=a},tJ:function(a){if(!a)throw"cc.Animate.initWithAnimation(): animation must be non-NULL";var c=a.Kf();if(this.W(c*a.gk)){this.kp=0;this.TW(a);this.gw=null;this.xr=0;var d=[],e=0,f=c/a.dn;a=a.ye;q.Lt(a,q.Ij);for(var g=0;g<a.length;g++){var h=e*f/c,e=e+a[g].we;d.push(h)}this.MB=d;return!0}return!1},
clone:function(){var a=new q.Kt;a.tJ(this.Qj.clone());return a},ha:function(a){q.Z.prototype.ha.call(this,a);this.Qj.Rm&&(this.gw=a.HS());this.xr=this.kp=0},update:function(a){1>a&&(a*=this.Qj.gk,(0|a)>this.xr&&(this.kp=0,this.xr++),a%=1);for(var c=this.Qj.ye,d=c.length,e=this.MB,f=this.kp;f<d;f++)if(e[f]<=a)this.aa.lq(c[f].Nh()),this.kp=f+1;else break},reverse:function(){var a=this.Qj,c=a.ye,d=[];q.Lt(c,q.Ij);if(0<c.length)for(var e=c.length-1;0<=e;e--){var f=c[e];if(!f)break;d.push(f.clone())}c=
q.Hj.mI(d,a.we,a.gk);c.$x(a.Rm);return q.Kt.create(c)},stop:function(){this.Qj.Rm&&this.aa&&this.aa.lq(this.gw);q.Zd.prototype.stop.call(this)}});q.Kt.create=function(a){var c=new q.Kt;c.tJ(a);return c};
q.Hz=q.Z.extend({Vf:null,Fm:null,ctor:function(){q.Z.prototype.ctor.call(this);this.Fm=this.Vf=null},Vg:function(a,c){return this.W(c.Kf())?(this.Fm=a,this.Vf=c,!0):!1},clone:function(){var a=new q.Hz;a.Vg(this.Fm,this.Vf.clone());return a},ha:function(a){q.Z.prototype.ha.call(this,a);this.Vf.ha(this.Fm)},stop:function(){this.Vf.stop()},update:function(a){this.Vf.update(a)},Z4:function(){return this.Fm},Jaa:function(a){this.Fm!=a&&(this.Fm=a)}});
q.Hz.create=function(a,c){var d=new q.Hz;d.Vg(a,c);return d};q.Ki=q.Kj.extend({Di:function(){return!0},step:function(){this.update(1)},update:function(){},reverse:function(){return this.clone()},clone:function(){return new q.Ki}});q.Iu=q.Ki.extend({update:function(){this.aa.B(!0)},reverse:function(){return q.tu.create()},clone:function(){return new q.Iu}});q.Iu.create=function(){return new q.Iu};q.tu=q.Ki.extend({update:function(){this.aa.B(!1)},reverse:function(){return q.Iu.create()},clone:function(){return new q.tu}});q.tu.create=function(){return new q.tu};
q.Ru=q.Ki.extend({update:function(){this.aa.B(!this.aa.ya)},reverse:function(){return new q.Ru},clone:function(){return new q.Ru}});q.Ru.create=function(){return new q.Ru};q.Bu=q.Ki.extend({Kr:!0,ctor:function(){q.Kj.prototype.ctor.call(this);this.Kr=!0},update:function(){this.aa.J(this.Kr)},A:function(a){this.Kr=a;return!0},reverse:function(){return new q.Bu(this.Kr)},clone:function(){return new q.Bu(this.Kr)}});q.Bu.create=function(a){null==a&&(a=!0);var c=new q.Bu;c&&c.A(a);return c};
q.ru=q.Ki.extend({rc:!1,ctor:function(){q.Kj.prototype.ctor.call(this);this.rc=!1},vJ:function(a){this.rc=a;return!0},update:function(){this.aa.kX(this.rc)},reverse:function(){return q.ru.create(!this.rc)},clone:function(){var a=new q.ru;a.vJ(this.rc);return a}});q.ru.create=function(a){var c=new q.ru;return c.vJ(a)?c:null};
q.su=q.Ki.extend({sc:!1,ctor:function(){q.Kj.prototype.ctor.call(this);this.sc=!1},wJ:function(a){this.sc=a;return!0},update:function(){this.aa.lX(this.sc)},reverse:function(){return q.su.create(!this.sc)},clone:function(){var a=new q.su;a.wJ(this.sc);return a}});q.su.create=function(a){var c=new q.su;return c.wJ(a)?c:null};
q.oz=q.Ki.extend({u:null,ctor:function(){q.Kj.prototype.ctor.call(this);this.u=q.a(0,0)},yJ:function(a){this.u.x=a.x;this.u.y=a.y;return!0},update:function(){this.aa.l(this.u)},clone:function(){var a=new q.oz;a.yJ(this.u);return a}});q.oz.create=function(a){var c=new q.oz;c.yJ(a);return c};
q.Aq=q.Ki.extend({Ch:null,Am:null,$k:null,dr:null,ctor:function(){q.Kj.prototype.ctor.call(this);this.dr=this.$k=this.Am=this.Ch=null},Vg:function(a,c,d){this.dr=d;this.Am=a;this.Ch=c;return!0},hD:function(a){this.$k=a;return!0},US:function(){null!=this.Am?this.Am.call(this.Ch,this.aa,this.dr):this.$k&&this.$k.call(null,this.aa)},update:function(){this.US()},P6:function(){return this.Ch},Nba:function(a){a!=this.Ch&&(this.Ch&&(this.Ch=null),this.Ch=a)},Ls:function(){var a=new q.Aq;this.Ch?a.Vg(this.Am,
this.Ch,this.dr):this.$k&&a.hD(this.$k);return a},clone:function(){var a=new q.Aq;this.Ch?a.Vg(this.Am,this.Ch,this.dr):this.$k&&a.hD(this.$k);return a}});q.Aq.create=function(a,c,d){var e=new q.Aq;if(1==arguments.length){if(e&&e.hD(a))return e}else if(e&&e.Vg(a,c,d))return e.Am=a,e;return null};q.Fy=q.Z.extend({eA:0,fA:0,gA:0,pG:0,qG:0,rG:0,zH:0,AH:0,BH:0,ctor:function(){q.Z.prototype.ctor.call(this);this.BH=this.AH=this.zH=this.rG=this.qG=this.pG=this.gA=this.fA=this.eA=0},ha:function(a){q.Z.prototype.ha.call(this,a);a=a.NC();var c=a.RI();this.eA=c.x;this.fA=c.y;this.gA=c.z;c=a.TI();this.pG=c.x;this.qG=c.y;this.rG=c.z;a=a.QT();this.zH=a.x;this.AH=a.y;this.BH=a.z},clone:function(){return new q.Fy},reverse:function(){return q.Eu.create(this)}});
q.mz=q.Fy.extend({ij:0,xv:0,zo:0,sA:0,Bg:0,rA:0,rB:0,pB:0,qB:0,oB:0,ctor:function(){q.Fy.prototype.ctor.call(this);this.oB=this.qB=this.pB=this.rB=this.rA=this.Bg=this.sA=this.zo=this.xv=this.ij=0},W:function(a,c,d,e,f,g,h){return q.Z.prototype.W.call(this,a)?(this.ij=c,this.xv=d,this.zo=e,this.sA=f,this.Bg=g,this.rA=h,this.pB=q.Jj(f),this.oB=q.Jj(h),!0):!1},wY:function(){var a=this.aa.NC(),c=a.TI(),d=a.RI(),a=c.x-d.x,e=c.y-d.y,c=c.z-d.z,d=Math.sqrt(Math.pow(a,2)+Math.pow(e,2)+Math.pow(c,2)),f=Math.sqrt(Math.pow(a,
2)+Math.pow(e,2));0===f&&(f=q.ou);0===d&&(d=q.ou);return{$U:d/q.Bq.Zs(),SY:Math.acos(c/d),azimuth:0>a?Math.PI-Math.asin(e/f):Math.asin(e/f)}},ha:function(a){q.Z.prototype.ha.call(this,a);a=this.wY();isNaN(this.ij)&&(this.ij=a.$U);isNaN(this.zo)&&(this.zo=q.qz(a.SY));isNaN(this.Bg)&&(this.Bg=q.qz(a.azimuth));this.rB=q.Jj(this.zo);this.qB=q.Jj(this.Bg)},clone:function(){var a=new q.mz;a.W(this.Fa,this.ij,this.xv,this.zo,this.sA,this.Bg,this.rA);return a},update:function(a){var c=(this.ij+this.xv*a)*
q.Bq.Zs(),d=this.rB+this.pB*a,e=this.qB+this.oB*a;a=Math.sin(d)*Math.cos(e)*c+this.eA;e=Math.sin(d)*Math.sin(e)*c+this.fA;c=Math.cos(d)*c+this.gA;this.aa.NC().$K(a,e,c)}});q.mz.create=function(a,c,d,e,f,g,h){var k=new q.mz;return k.W(a,c,d,e,f,g,h)?k:null};q.wd=q.Z.extend({na:null,ctor:function(){q.Z.prototype.ctor.call(this);this.na=null},wa:function(a){if(!a)throw"cc.ActionEase.initWithAction(): action must be non nil";return this.W(a.Kf())?(this.na=a,!0):!1},clone:function(){var a=new q.wd;a.wa(this.na.clone());return a},ha:function(a){q.Z.prototype.ha.call(this,a);this.na.ha(this.aa)},stop:function(){this.na.stop();q.Z.prototype.stop.call(this)},update:function(a){this.na.update(a)},reverse:function(){return q.wd.create(this.na.reverse())},OC:function(){return this.na}});
q.wd.create=function(a){var c=new q.wd;c&&c.wa(a);return c};q.pm=q.wd.extend({df:0,ctor:function(){q.wd.prototype.ctor.call(this);this.df=0},wba:function(a){this.df=a},m6:function(){return this.df},wa:function(a,c){return q.wd.prototype.wa.call(this,a)?(this.df=c,!0):!1},clone:function(){var a=new q.pm;a.wa(this.na.clone(),this.df);return a},reverse:function(){return q.pm.create(this.na.reverse(),1/this.df)}});q.pm.create=function(a,c){var d=new q.pm;d&&d.wa(a,c);return d};
q.hu=q.pm.extend({update:function(a){this.na.update(Math.pow(a,this.df))},reverse:function(){return q.hu.create(this.na.reverse(),1/this.df)},clone:function(){var a=new q.hu;a.wa(this.na.clone(),this.df);return a}});q.hu.create=function(a,c){var d=new q.hu;d&&d.wa(a,c);return d};q.ju=q.pm.extend({update:function(a){this.na.update(Math.pow(a,1/this.df))},reverse:function(){return q.ju.create(this.na.reverse(),1/this.df)},clone:function(){var a=new q.ju;a.wa(this.na.clone(),this.df);return a}});
q.ju.create=function(a,c){var d=new q.ju;d&&d.wa(a,c);return d};q.iu=q.pm.extend({update:function(a){a*=2;1>a?this.na.update(.5*Math.pow(a,this.df)):this.na.update(1-.5*Math.pow(2-a,this.df))},clone:function(){var a=new q.iu;a.wa(this.na.clone(),this.df);return a},reverse:function(){return q.iu.create(this.na.reverse(),this.df)}});q.iu.create=function(a,c){var d=new q.iu;d&&d.wa(a,c);return d};
q.eu=q.wd.extend({update:function(a){this.na.update(0===a?0:Math.pow(2,10*(a-1)))},reverse:function(){return q.gu.create(this.na.reverse())},clone:function(){var a=new q.eu;a.wa(this.na.clone());return a}});q.eu.create=function(a){var c=new q.eu;c&&c.wa(a);return c};q.gu=q.wd.extend({update:function(a){this.na.update(1==a?1:-Math.pow(2,-10*a)+1)},reverse:function(){return q.eu.create(this.na.reverse())},clone:function(){var a=new q.gu;a.wa(this.na.clone());return a}});
q.gu.create=function(a){var c=new q.gu;c&&c.wa(a);return c};q.fu=q.wd.extend({update:function(a){1!=a&&0!==a&&(a*=2,a=1>a?.5*Math.pow(2,10*(a-1)):.5*(-Math.pow(2,-10*(a-1))+2));this.na.update(a)},reverse:function(){return q.fu.create(this.na.reverse())},clone:function(){var a=new q.fu;a.wa(this.na.clone());return a}});q.fu.create=function(a){var c=new q.fu;c&&c.wa(a);return c};
q.ku=q.wd.extend({update:function(a){a=0===a||1==a?a:-1*Math.cos(a*Math.PI/2)+1;this.na.update(a)},reverse:function(){return q.mu.create(this.na.reverse())},clone:function(){var a=new q.ku;a.wa(this.na.clone());return a}});q.ku.create=function(a){var c=new q.ku;c&&c.wa(a);return c};q.mu=q.wd.extend({update:function(a){a=0===a||1==a?a:Math.sin(a*Math.PI/2);this.na.update(a)},reverse:function(){return q.ku.create(this.na.reverse())},clone:function(){var a=new q.mu;a.wa(this.na.clone());return a}});
q.mu.create=function(a){var c=new q.mu;c&&c.wa(a);return c};q.lu=q.wd.extend({update:function(a){a=0===a||1==a?a:-.5*(Math.cos(Math.PI*a)-1);this.na.update(a)},clone:function(){var a=new q.lu;a.wa(this.na.clone());return a},reverse:function(){return q.lu.create(this.na.reverse())}});q.lu.create=function(a){var c=new q.lu;c&&c.wa(a);return c};
q.ko=q.wd.extend({Ae:null,ctor:function(){q.wd.prototype.ctor.call(this);this.Ae=.3},Y5:function(){return this.Ae},qba:function(a){this.Ae=a},wa:function(a,c){q.wd.prototype.wa.call(this,a);this.Ae=null==c?.3:c;return!0},reverse:function(){q.log("cc.EaseElastic.reverse(): it should be overridden in subclass.")},clone:function(){var a=new q.ko;a.wa(this.na.clone(),this.Ae);return a}});q.ko.create=function(a,c){var d=new q.ko;return d&&d.wa(a,c)?d:null};
q.bu=q.ko.extend({update:function(a){var c=0;0===a||1===a?c=a:(c=this.Ae/4,--a,c=-Math.pow(2,10*a)*Math.sin((a-c)*Math.PI*2/this.Ae));this.na.update(c)},reverse:function(){return q.du.create(this.na.reverse(),this.Ae)},clone:function(){var a=new q.bu;a.wa(this.na.clone(),this.Ae);return a}});q.bu.create=function(a,c){var d=new q.bu;return d&&d.wa(a,c)?d:null};
q.du=q.ko.extend({update:function(a){var c=0,c=0===a||1==a?a:Math.pow(2,-10*a)*Math.sin((a-this.Ae/4)*Math.PI*2/this.Ae)+1;this.na.update(c)},reverse:function(){return q.bu.create(this.na.reverse(),this.Ae)},clone:function(){var a=new q.du;a.wa(this.na.clone(),this.Ae);return a}});q.du.create=function(a,c){var d=new q.du;d&&d.wa(a,c);return d};
q.cu=q.ko.extend({update:function(a){var c=0,c=this.Ae;if(0===a||1==a)c=a;else{c||(c=this.Ae=.3*1.5);var d=c/4;a=2*a-1;c=0>a?-.5*Math.pow(2,10*a)*Math.sin((a-d)*Math.PI*2/c):Math.pow(2,-10*a)*Math.sin((a-d)*Math.PI*2/c)*.5+1}this.na.update(c)},reverse:function(){return q.cu.create(this.na.reverse(),this.Ae)},clone:function(){var a=new q.cu;a.wa(this.na.clone(),this.Ae);return a}});q.cu.create=function(a,c){var d=new q.cu;d&&d.wa(a,c);return d};
q.om=q.wd.extend({Sw:function(a){if(a<1/2.75)return 7.5625*a*a;if(a<2/2.75)return a-=1.5/2.75,7.5625*a*a+.75;if(a<2.5/2.75)return a-=2.25/2.75,7.5625*a*a+.9375;a-=2.625/2.75;return 7.5625*a*a+.984375},clone:function(){var a=new q.om;a.wa(this.na.clone());return a},reverse:function(){return q.om.create(this.na.reverse())}});q.om.create=function(a){var c=new q.om;c&&c.wa(a);return c};
q.Zt=q.om.extend({update:function(a){this.na.update(1-this.Sw(1-a))},reverse:function(){return q.au.create(this.na.reverse())},clone:function(){var a=new q.Zt;a.wa(this.na.clone());return a}});q.Zt.create=function(a){var c=new q.Zt;c&&c.wa(a);return c};q.au=q.om.extend({update:function(a){this.na.update(this.Sw(a))},reverse:function(){return q.Zt.create(this.na.reverse())},clone:function(){var a=new q.au;a.wa(this.na.clone());return a}});q.au.create=function(a){var c=new q.au;c&&c.wa(a);return c};
q.$t=q.om.extend({update:function(a){var c=0,c=.5>a?.5*(1-this.Sw(1-2*a)):.5*this.Sw(2*a-1)+.5;this.na.update(c)},clone:function(){var a=new q.$t;a.wa(this.na.clone());return a},reverse:function(){return q.$t.create(this.na.reverse())}});q.$t.create=function(a){var c=new q.$t;c&&c.wa(a);return c};
q.Wt=q.wd.extend({update:function(a){this.na.update(0===a||1==a?a:a*a*(2.70158*a-1.70158))},reverse:function(){return q.Yt.create(this.na.reverse())},clone:function(){var a=new q.Wt;a.wa(this.na.clone());return a}});q.Wt.create=function(a){var c=new q.Wt;c&&c.wa(a);return c};q.Yt=q.wd.extend({update:function(a){--a;this.na.update(a*a*(2.70158*a+1.70158)+1)},reverse:function(){return q.Wt.create(this.na.reverse())},clone:function(){var a=new q.Yt;a.wa(this.na.clone());return a}});
q.Yt.create=function(a){var c=new q.Yt;c&&c.wa(a);return c};q.Xt=q.wd.extend({update:function(a){a*=2;1>a?this.na.update(a*a*(3.5949095*a-2.5949095)/2):(a-=2,this.na.update(a*a*(3.5949095*a+2.5949095)/2+1))},clone:function(){var a=new q.Xt;a.wa(this.na.clone());return a},reverse:function(){return q.Xt.create(this.na.reverse())}});q.Xt.create=function(a){var c=new q.Xt;c&&c.wa(a);return c};q.Oy=function(a,c,d,e,f,g){var h=g*g,k=h*g,l=(1-f)/2;f=l*(-k+2*h-g);var m=l*(-k+h)+(2*k-3*h+1);g=l*(k-2*h+g)+(-2*k+3*h);h=l*(k-h);return q.a(a.x*f+c.x*m+d.x*g+e.x*h,a.y*f+c.y*m+d.y*g+e.y*h)};q.KK=function(a){for(var c=[],d=a.length-1;0<=d;d--)c.push(q.a(a[d].x,a[d].y));return c};q.Ww=function(a){for(var c=[],d=0;d<a.length;d++)c.push(q.a(a[d].x,a[d].y));return c};q.Lh=function(a,c){var d=Math.min(a.length-1,Math.max(c,0));return a[d]};
q.$$=function(a){for(var c=a.length,d=0|c/2,e=0;e<d;++e){var f=a[e];a[e]=a[c-e-1];a[c-e-1]=f}};
q.Mi=q.Z.extend({hi:null,tA:0,Zm:0,jd:null,Qz:null,ctor:function(){q.Z.prototype.ctor.call(this);this.hi=[];this.Zm=this.tA=0;this.Qz=this.jd=null},W:function(a,c,d){if(!c||0==c.length)throw"Invalid configuration. It must at least have one control point";return q.Z.prototype.W.call(this,a)?(this.JX(c),this.Zm=d,!0):!1},clone:function(){var a=new q.Mi;a.W(this.Fa,q.Ww(this.hi),this.Zm);return a},ha:function(a){q.Z.prototype.ha.call(this,a);this.tA=1/(this.hi.length-1);a=this.aa.u;this.jd=q.a(a.x,a.y);
this.Qz=q.a(0,0)},update:function(a){var c,d=this.hi;if(1==a)c=d.length-1,a=1;else{var e=this.tA;c=0|a/e;a=(a-e*c)/e}c=q.Oy(q.Lh(d,c-1),q.Lh(d,c-0),q.Lh(d,c+1),q.Lh(d,c+2),this.Zm,a);q.Tt&&(d=this.aa.u.I-this.jd.x,a=this.aa.u.T-this.jd.y,0!=d||0!=a)&&(e=this.Qz,d=e.x+d,a=e.y+a,e.x=d,e.y=a,c.x+=d,c.y+=a);this.jM(c)},reverse:function(){var a=q.KK(this.hi);return q.Mi.create(this.Fa,a,this.Zm)},jM:function(a){this.aa.l(a);this.jd=a},c6:function(){return this.hi},JX:function(a){this.hi=a}});
q.Mi.create=function(a,c,d){var e=new q.Mi;return e.W(a,c,d)?e:null};
q.Cq=q.Mi.extend({kd:null,ctor:function(){q.Mi.prototype.ctor.call(this);this.kd=q.a(0,0)},ha:function(a){q.Mi.prototype.ha.call(this,a);a=a.u;this.kd.x=a.x;this.kd.y=a.y},reverse:function(){for(var a=this.hi.slice(),c,d=a[0],e=1;e<a.length;++e)c=a[e],a[e]=q.Ud(c,d),d=c;a=q.KK(a);d=a[a.length-1];a.pop();d.x=-d.x;d.y=-d.y;a.unshift(d);for(e=1;e<a.length;++e)c=a[e],c.x=-c.x,c.y=-c.y,c.x+=d.x,c.y+=d.y,d=a[e]=c;return q.Cq.create(this.Fa,a,this.Zm)},jM:function(a){var c=this.kd,d=a.x+c.x;a=a.y+c.y;this.aa.l(d,
a);this.jd.x=d;this.jd.y=a},clone:function(){var a=new q.Cq;a.W(this.Fa,q.Ww(this.hi),this.Zm);return a}});q.Cq.create=function(a,c,d){var e=new q.Cq;return e.W(a,c,d)?e:null};q.Qy=q.Mi.extend({W:function(a,c){return q.Mi.prototype.W.call(this,a,c,.5)},clone:function(){var a=new q.Qy;a.W(this.Fa,q.Ww(this.hi));return a}});q.Qy.create=function(a,c){var d=new q.Qy;return d.W(a,c)?d:null};
q.Py=q.Cq.extend({W:function(a,c){return q.Mi.prototype.W.call(this,a,c,.5)},clone:function(){var a=new q.Py;a.W(this.Fa,q.Ww(this.hi));return a}});q.Py.create=function(a,c){var d=new q.Py;return d.W(a,c)?d:null};q.dZ=q.Pa.extend({KE:function(){}});
q.ho=q.Z.extend({key:"",from:0,dm:0,AC:0,ctor:function(){q.Z.prototype.ctor.call(this);this.key="";this.AC=this.dm=this.from=0},W:function(a,c,d,e){return q.Z.prototype.W.call(this,a)?(this.key=c,this.dm=e,this.from=d,!0):!1},ha:function(a){if(!a||!a.KE)throw"cc.ActionTween.startWithTarget(): target must be non-null, and target must implement updateTweenAction function";q.Z.prototype.ha.call(this,a);this.AC=this.dm-this.from},update:function(a){this.aa.KE(this.dm-this.AC*(1-a),this.key)},reverse:function(){return q.ho.create(this.duration,
this.key,this.dm,this.from)},clone:function(){var a=new q.ho;a.W(this.Fa,this.key,this.from,this.dm);return a}});q.ho.create=function(a,c,d,e){var f=new q.ho;return f.W(a,c,d,e)?f:null};q.Lk=0;q.nz=1;q.BF=4;q.CN=75;
q.Xc=q.Kb.extend({If:null,gj:0,Bb:null,fi:null,zm:null,he:!1,A5:function(){return q.a(this.fi.x,this.fi)},iL:function(a){this.fi=q.pK(a)},g4:function(){return q.a(this.zm.x,this.zm.y)},SK:function(a){this.zm=q.pK(a)},f7:function(){return this.If},kx:function(){return this.gj},IT:function(){return this.Bb},tt:function(a){this.gj!=a&&(this.gj=q.Js(a,0,100),this.bC())},Pf:function(){},Fl:function(){return!1},v8:function(){return this.he},aA:function(a){if(a<q.BF){var c=q.CN;return this.he?q.a(c>>7-(a<<
1)&1,c>>7-((a<<1)+1)&1):q.a(c>>(a<<1)+1&1,c>>(a<<1)&1)}return q.Lj()},hd:null,TB:270,zA:270,ij:0,mA:!1,Yz:null,Od:0,ad:null,fg:null,JH:null,Es:!1,ctor:null,bi:function(){q.Kb.prototype.ctor.call(this);this.If=q.Lk;this.gj=0;this.fi=q.a(0,0);this.zm=q.a(0,0);this.he=!1;this.Bb=null;this.hd=q.Lj();this.zA=this.TB=270;this.ij=0;this.mA=!1;this.Yz=q.xd()},ci:function(){q.Kb.prototype.ctor.call(this);this.If=q.Lk;this.gj=0;this.fi=q.a(0,0);this.zm=q.a(0,0);this.he=!1;this.Bb=null;this.JH=q.da.createBuffer();
this.Od=0;this.fg=this.ad=null;this.Es=!1},q:function(a){this.Bb.q(a);this.Nd()},ta:function(a){this.Bb.ta(a);this.Nd()},Ed:function(){return this.Bb.Ed()},rj:function(){return this.Bb.rj()},uL:null,AQ:function(a){this.he!==a&&(this.he=a)},BQ:function(a){this.he!==a&&(this.he=a,this.fg=this.ad=null,this.Od=0)},vt:null,DQ:function(a){this.Bb!=a&&(this.Bb=a,this.N(this.Bb.c()))},EQ:function(a){a&&this.Bb!=a&&(this.Bb=a,this.N(a.c()),this.ad&&(this.fg=this.ad=null,this.Od=0))},zL:null,HQ:function(a){a!==
this.If&&(this.If=a)},IQ:function(a){a!==this.If&&(this.ad&&(this.fg=this.ad=null,this.Od=0),this.If=a)},tL:null,yQ:function(a){this.he!==a&&(this.he=a)},zQ:function(a){this.he!==a&&(this.he=a,this.fg=this.ad=null,this.Od=0)},kf:function(a){var c=this.Bb;if(!c)return{Wa:0,ua:0};var d=c.Yb,e=q.a(d.Ra.G.Wa,d.Ra.G.ua),d=q.a(d.Ta.G.Wa,d.Ta.G.ua);c.qd&&(c=a.x,a.x=a.y,a.y=c);return{Wa:e.x*(1-a.x)+d.x*a.x,ua:e.y*(1-a.y)+d.y*a.y}},mf:function(a){if(!this.Bb)return{x:0,y:0};var c=this.Bb.Yb,d=q.a(c.Ra.C.x,
c.Ra.C.y),c=q.a(c.Ta.C.x,c.Ta.C.y);return{x:d.x*(1-a.x)+c.x*a.x,y:d.y*(1-a.y)+c.y*a.y}},kD:null,iP:function(a){this.tt(0);this.w(.5,.5);this.If=q.Lk;this.he=!1;this.iL(q.a(.5,.5));this.SK(q.a(1,1));this.vt(a);return!0},jP:function(a){this.tt(0);this.fg=this.ad=null;this.Od=0;this.w(.5,.5);this.If=q.Lk;this.he=!1;this.iL(q.a(.5,.5));this.SK(q.a(1,1));this.vt(a);this.ih(q.ai.g().Ii(q.uz));return!0},Za:null,Wj:function(a){a=a||q.da;var c=this.Bb;c.Im&&(a.globalCompositeOperation="lighter");var d=q.ra.g().va,
e=q.ra.g().Da;a.globalAlpha=c.oc/255;var f=c.Aa,g=c.Ca,h=c.vc,k=c.Uo,l=0|h.x,m=-h.y-f.height,p=c.bn;k.width=f.width*d;k.height=f.height*e;a.save();c.rc&&(l=-h.x-f.width,a.scale(-1,1));c.sc&&(m=h.y,a.scale(1,-1));l*=d;m*=e;this.If==q.nz?(f=this.Yz,a.beginPath(),a.rect(f.x*d,f.y*e,f.width*d,f.height*e),a.clip(),a.closePath()):this.If==q.Lk&&(f=this.hd.x*d,h=this.hd.y*e,a.beginPath(),a.arc(f,h,this.ij*e,Math.PI/180*this.TB,Math.PI/180*this.zA,this.mA),a.lineTo(f,h),a.clip(),a.closePath());c.Ga&&p.gm?
(d=c.Ga.Ec,this.$q?a.drawImage(d,0,0,p.width,p.height,l,m,k.width,k.height):a.drawImage(d,p.x,p.y,p.width,p.height,l,m,k.width,k.height)):0!==g.width&&(k=this.Ed(),a.fillStyle="rgba("+k.t+","+k.p+","+k.o+",1)",a.fillRect(l,m,g.width*d,g.height*e));a.restore();q.Yh()},Fg:function(a){a=a||q.da;if(this.ad&&this.Bb){q.kz(this);var c=this.Bb.pa;q.xk(c.src,c.Tb);q.Me(q.Vu);this.Bb.ia()?q.Sg(this.Bb.ia()):q.Sg(null);a.bindBuffer(a.ARRAY_BUFFER,this.JH);this.Es&&(a.bufferData(a.ARRAY_BUFFER,this.fg,a.DYNAMIC_DRAW),
this.Es=!1);c=q.nc.BYTES_PER_ELEMENT;a.vertexAttribPointer(q.$e,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(q.Oq,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(q.Pq,2,a.FLOAT,!1,c,12);this.If===q.Lk?a.drawArrays(a.TRIANGLE_FAN,0,this.Od):this.If==q.nz&&(this.he?(a.drawArrays(a.TRIANGLE_STRIP,0,this.Od/2),a.drawArrays(a.TRIANGLE_STRIP,4,this.Od/2),q.Kh++):a.drawArrays(a.TRIANGLE_STRIP,0,this.Od));q.Kh++}},jR:function(){if(this.Bb){var a,c=this.fi;a=this.gj/100;var d=2*q.PI*(this.he?a:1-a),e=q.a(c.x,1),
f=q.sV(e,c,d),d=0;if(0==a)f=e,d=0;else if(1==a)f=e,d=4;else{var g=q.UM,h=q.BF;for(a=0;a<=h;++a){var k=(a+(h-1))%h,l=this.aA(a%h),k=this.aA(k);0==a?k=q.rK(l,k,1-c.x):4==a&&(l=q.rK(l,k,1-c.x));var m=q.a(0,0);q.DD(l,k,c,f,m)&&(0!=a&&4!=a||0<=m.x&&1>=m.x)&&0<=m.y&&m.y<g&&(g=m.y,d=a)}f=q.dh(c,q.yj(q.Ud(f,c),g))}g=!0;this.Od!=d+3&&(g=!1,this.fg=this.ad=null,this.Od=0);if(!this.ad){h=this.Od=d+3;l=q.nc.BYTES_PER_ELEMENT;this.fg=new ArrayBuffer(h*l);k=[];for(a=0;a<h;a++)k[a]=new q.nc(null,null,null,this.fg,
a*l);this.ad=k;if(!this.ad){q.log("cc.ProgressTimer._updateRadial() : Not enough memory");return}}this.Nd();h=this.ad;if(!g)for(h[0].G=this.kf(c),h[0].C=this.mf(c),h[1].G=this.kf(e),h[1].C=this.mf(e),a=0;a<d;a++)c=this.aA(a),h[a+2].G=this.kf(c),h[a+2].C=this.mf(c);h[this.Od-1].G=this.kf(f);h[this.Od-1].C=this.mf(f)}},ZQ:function(){if(this.Bb){var a,c=this.gj/100,d=this.zm,d=q.yj(q.a(1-d.x+c*d.x,1-d.y+c*d.y),.5),c=q.Ud(this.fi,d),d=q.dh(this.fi,d);0>c.x&&(d.x+=-c.x,c.x=0);1<d.x&&(c.x-=d.x-1,d.x=1);
0>c.y&&(d.y+=-c.y,c.y=0);1<d.y&&(c.y-=d.y-1,d.y=1);if(this.he){if(!this.ad){this.Od=8;var e=q.nc.BYTES_PER_ELEMENT;this.fg=new ArrayBuffer(8*e);var f=[];for(a=0;8>a;a++)f[a]=new q.nc(null,null,null,this.fg,a*e);f[0].G=this.kf(q.a(0,1));f[0].C=this.mf(q.a(0,1));f[1].G=this.kf(q.a(0,0));f[1].C=this.mf(q.a(0,0));f[6].G=this.kf(q.a(1,1));f[6].C=this.mf(q.a(1,1));f[7].G=this.kf(q.a(1,0));f[7].C=this.mf(q.a(1,0));this.ad=f}a=this.ad;a[2].G=this.kf(q.a(c.x,d.y));a[2].C=this.mf(q.a(c.x,d.y));a[3].G=this.kf(q.a(c.x,
c.y));a[3].C=this.mf(q.a(c.x,c.y));a[4].G=this.kf(q.a(d.x,d.y));a[4].C=this.mf(q.a(d.x,d.y));a[5].G=this.kf(q.a(d.x,c.y));a[5].C=this.mf(q.a(d.x,c.y))}else{if(!this.ad)for(this.Od=4,e=q.nc.BYTES_PER_ELEMENT,this.fg=new ArrayBuffer(4*e),this.ad=[],a=0;4>a;a++)this.ad[a]=new q.nc(null,null,null,this.fg,a*e);a=this.ad;a[0].G=this.kf(q.a(c.x,d.y));a[0].C=this.mf(q.a(c.x,d.y));a[1].G=this.kf(q.a(c.x,c.y));a[1].C=this.mf(q.a(c.x,c.y));a[2].G=this.kf(q.a(d.x,d.y));a[2].C=this.mf(q.a(d.x,d.y));a[3].G=this.kf(q.a(d.x,
c.y));a[3].C=this.mf(q.a(d.x,c.y))}this.Nd()}},Nd:function(){if(this.Bb&&this.ad){for(var a=this.Bb.Yb.$a.V,c=this.ad,d=0,e=this.Od;d<e;++d)c[d].V=a;this.Es=!0}},bC:null,fR:function(){var a=this.Bb,c=a.c(),d=this.fi;if(this.If==q.Lk){this.ij=Math.round(Math.sqrt(c.width*c.width+c.height*c.height));var e,f=!1,g=this.hd;g.x=c.width*d.x;g.y=-c.height*d.y;this.he?(e=270,d=270-3.6*this.gj):(d=-90,e=-90+3.6*this.gj);a.rc&&(g.x-=2*c.width*this.fi.x,d=-d-180,e=-e-180,f=!f);a.sc&&(g.y+=2*c.height*this.fi.y,
f=!f,d=-d,e=-e);this.TB=d;this.zA=e;this.mA=f}else{e=this.zm;g=this.gj/100;f=this.Yz;e=q.size(c.width*(1-e.x),c.height*(1-e.y));var g=q.size((c.width-e.width)*g,(c.height-e.height)*g),g=q.size(e.width+g.width,e.height+g.height),h=q.a(c.width*d.x,c.height*d.y),k=h.x-g.width/2;.5<d.x&&g.width/2>=c.width-h.x&&(k=c.width-g.width);e=h.y-g.height/2;.5<d.y&&g.height/2>=c.height-h.y&&(e=c.height-g.height);f.x=0;c=1;a.rc&&(f.x-=g.width,c=-1);0<k&&(f.x+=k*c);f.y=0;c=1;a.sc&&(f.y+=g.height,c=-1);0<e&&(f.y-=
e*c);f.width=g.width;f.height=-g.height}},gR:function(){var a=this.If;a===q.Lk?this.jR():a===q.nz&&this.ZQ();this.Es=!0}});
q.Ka.fd?(b=q.Xc.prototype,b.ctor=q.Xc.prototype.ci,b.uL=q.Xc.prototype.BQ,b.vt=q.Xc.prototype.EQ,b.zL=q.Xc.prototype.IQ,b.tL=q.Xc.prototype.zQ,b.kD=q.Xc.prototype.jP,b.Za=q.Xc.prototype.Fg,b.bC=q.Xc.prototype.gR):(b=q.Xc.prototype,b.ctor=q.Xc.prototype.bi,b.uL=q.Xc.prototype.AQ,b.vt=q.Xc.prototype.DQ,b.zL=q.Xc.prototype.HQ,b.tL=q.Xc.prototype.yQ,b.kD=q.Xc.prototype.iP,b.Za=q.Xc.prototype.Wj,b.bC=q.Xc.prototype.fR);q.Xc.create=function(a){var c=new q.Xc;return c.kD(a)?c:null};q.pz=q.Z.extend({Hf:0,ze:0,ctor:function(){q.Z.prototype.ctor.call(this);this.ze=this.Hf=0},W:function(a,c){return q.Z.prototype.W.call(this,a)?(this.Hf=c,!0):!1},clone:function(){var a=new q.pz;a.W(this.Fa,this.Hf);return a},reverse:function(){q.log("cc.ProgressTo.reverse(): reverse hasn't been supported.");return null},ha:function(a){q.Z.prototype.ha.call(this,a);this.ze=a.kx();100==this.ze&&(this.ze=0)},update:function(a){this.aa instanceof q.Xc&&this.aa.tt(this.ze+(this.Hf-this.ze)*a)}});
q.pz.create=function(a,c){var d=new q.pz;d.W(a,c);return d};q.zu=q.Z.extend({Hf:0,ze:0,ctor:function(){q.Z.prototype.ctor.call(this);this.ze=this.Hf=0},W:function(a,c,d){return q.Z.prototype.W.call(this,a)?(this.Hf=d,this.ze=c,!0):!1},clone:function(){var a=new q.zu;a.W(this.Fa,this.ze,this.Hf);return a},reverse:function(){return q.zu.create(this.Fa,this.Hf,this.ze)},ha:function(a){q.Z.prototype.ha.call(this,a)},update:function(a){this.aa instanceof q.Xc&&this.aa.tt(this.ze+(this.Hf-this.ze)*a)}});
q.zu.create=function(a,c,d){var e=new q.zu;e.W(a,c,d);return e};q.My=9;q.zM=1;q.CM=2;q.DM=4;q.AM=8;q.BM=16;q.Pt=32;q.EM=64;q.yM=128;q.Li=256;q.xg=1;q.Rt=2;q.Qt=4;q.vZ=8;q.uZ=8;
q.mc=q.Zh.extend({HG:!1,m1:!1,Fl:function(){return this.HG},Pf:function(a){this.HG=a;for(var c=this.D,d=0,e=c.length;d<e;d++){var f=c[d];f&&f.wb&&f.Pf(a)}},kj:q.xg,M6:function(){return this.kj},ur:!1,qp:!1,bk:!1,yv:null,Of:function(a){this.kj=(this.ur=a)?q.xg:q.Qt;this.td()},isEnabled:function(){return this.ur},qq:function(a){this.qp=a;this.td()},y8:function(){return this.qp},Wl:function(a){this.bk=a;this.td()},h8:function(){return this.bk},fU:function(){for(var a=this.getParent();null!=a;a=a.getParent())if(!a.ya)return!1;
return!0},ctor:function(){q.Zh.prototype.ctor.call(this);this.yv={};this.Dc=q.Db()},A:function(){return q.Zh.prototype.A.call(this)?(this.kj=q.xg,this.ur=!0,this.bk=this.qp=!1,this.sq(1),!0):!1},Ox:function(){q.MD(this.sl,!0,this)},vf:function(a){for(var c=0,d=q.My;c<d;c++)if(a&1<<c)for(var e=this.yA(1<<c),f=0,g=e.length;f<g;f++)e[f].zU(this)},YH:function(a,c,d){for(var e=0,f=q.My;e<f;e++)d&1<<e&&this.fv(a,c,1<<e)},T$:function(a,c,d){for(var e=0,f=q.My;e<f;e++)d&1<<e&&this.$P(a,c,1<<e)},sj:function(a){return this.Ia(a.S)},
Ei:function(a){a=a.S;a=this.getParent().Ia(a);return q.vb(this.pb(),a)},o1:function(){return null},yA:function(a){a=a.toString();this.yv.hasOwnProperty(a)||(this.yv[a]=[]);return this.yv[a]},fv:function(a,c,d){a=new q.aN(a,c,d);this.yA(d).push(a)},$P:function(a,c,d){d=this.yA(d);if(a||c)for(var e=0;e<d.length;){var f=d[e],g=!0;a&&(g=a==f.aa);c&&(g=g&&c==f.Vf);g?q.oe(d,f):e++}else d.length=0},td:function(){}});q.mc.create=function(){var a=new q.mc;return a&&a.A()?a:null};q.ZE=3435855873;
q.Xh=q.mc.extend({lr:!1,Fs:!1,Hg:null,Mr:null,cr:null,vv:null,cn:null,te:null,fj:0,dp:!1,Cw:null,ts:null,Dw:null,ym:null,UG:!1,Xv:0,Wv:0,ctor:function(){q.mc.prototype.ctor.call(this);this.Hg=new q.Nk(0,0);this.Mr=new q.oh(0,0);this.cr="";this.vv=q.Db();this.Cw={};this.ts={};this.Dw={};this.ym={}},A:function(){return this.rx(q.R.create("","Arial",12),q.ae.create())},td:function(){if(this.UG){this.cn&&this.cn.B(!1);this.te&&this.te.B(!1);this.qX(this.Mr);var a=this.kj;this.cr=this.ZC(a);this.vv=this.PT(a);
var c=this.cn=this.Ws(a);c&&c.ma&&c.ma(this.cr);c&&c.wb&&c.q(this.vv);var d=this.c();c&&c.l(d.width/2,d.height/2);(a=this.te=this.cT(a))&&a.l(d.width/2,d.height/2);d=c?c.pb().Ya:q.size(0,0);if(this.lr)a&&a.N(d.width+2*this.Wv,d.height+2*this.Xv);else if(a){var e=a.Hg,e=q.size(e.width,e.height);0>=e.width&&(e.width=d.width);0>=e.height&&(e.height=d.height);a.N(e)}d=c?c.pb():q.rect(0,0,0,0);e=a?a.pb():q.rect(0,0,0,0);d=q.Nx(d,e);this.N(d.width,d.height);d=this.c();c&&(c.l(d.width/2,d.height/2),c.B(!0));
a&&(a.l(d.width/2,d.height/2),a.B(!0))}},rx:function(a,c){if(!a||!a.wb)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): label should be non-null";if(!c)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): backgroundSprite should be non-null";return q.mc.prototype.A.call(this,!0)?(this.UG=!0,this.Cw={},this.ts={},this.Dw={},this.ym={},this.pc(!0),this.dp=!1,this.Fs=!0,this.cr=null,this.RW(!0),this.Ji(q.size(0,0)),this.Fs=!0,this.tj(!1),this.w(.5,.5),this.cn=a,this.te=c,this.ta(255),
this.Pf(!0),this.aY(a.XC(),q.xg),this.$X(a.Ed(),q.xg),this.nE(a,q.xg),this.Tl(c,q.xg),this.kj=q.xg,this.Wv=24,this.Xv=12,this.Mr=new q.oh(.5,.5),this.Ji(q.rm()),this.td(),!0):!1},qU:function(a,c,d){a=q.R.create(a,c,d);return this.rx(a,q.ae.create())},ox:function(a){var c=q.R.create("","Arial",30);return this.rx(c,a)},m3:function(){return this.lr},RW:function(a){this.lr=a;this.td()},v7:function(){return this.Fs},tE:function(a){return this.Fs=a},uT:function(){return this.Hg},Ji:function(a){if(0===a.width&&
0===a.height)this.lr=!0;else{this.lr=!1;var c=this.ym,d;for(d in c)c[d].Ji(a)}this.Hg=a;this.td()},p5:function(){return this.Mr},qX:function(a){this.Mr=a;this.cn&&this.cn.w(a)},f1:function(){return this.cr},g1:function(){return this.vv},rj:function(){return this.fj},ta:function(a){q.mc.prototype.ta.call(this,a);var c=this.ym,d;for(d in c)c[d].ta(a)},q:function(a){q.mc.prototype.q.call(this,a);var c=this.ym,d;for(d in c)c[d].q(a)},Ed:function(){return this.Ce},u8:function(){return this.dp},k1:function(){return this.Xv},
i1:function(){return this.Wv},$aa:function(a,c){this.Xv=c;this.Wv=a;this.td()},Of:function(a){q.mc.prototype.Of.call(this,a);this.td()},qq:function(a){q.mc.prototype.qq.call(this,a);this.td()},Wl:function(a){this.kj=a?q.Rt:q.xg;q.mc.prototype.Wl.call(this,a);(a=this.MC(q.ZE))&&this.xY(a);this.td();this.Fs&&(a=q.to.create(.05,this.bk&&this.isEnabled()&&!this.qp?1.1:1),a.yL(q.ZE),this.Rx(a))},ub:function(a){if(!(this.Ei(a)&&this.isEnabled()&&this.ya&&this.fU()))return!1;this.dp=!0;this.Wl(!0);this.vf(q.zM);
return!0},Td:function(a){this.ur&&this.dp&&!this.qp?(a=this.Ei(a))&&!this.bk?(this.Wl(!0),this.vf(q.AM)):a&&this.bk?this.vf(q.CM):!a&&this.bk?(this.Wl(!1),this.vf(q.BM)):a||this.bk||this.vf(q.DM):this.bk&&this.Wl(!1)},bh:function(a){this.dp=!1;this.Wl(!1);this.Ei(a)?this.vf(q.Pt):this.vf(q.EM)},Ck:function(){this.dp=!1;this.Wl(!1);this.vf(q.yM)},ZC:function(a){var c=this.Cw;return c?c[a]?c[a]:c[q.xg]:""},aY:function(a,c){this.Cw[c]=a||"";this.kj==c&&this.td()},PT:function(a){return(a=this.ts[a])?
a:(a=this.ts[q.xg])?a:q.Db()},$X:function(a,c){this.ts[c]=a;this.kj==c&&this.td()},Ws:function(a){var c=this.Dw;return c.hasOwnProperty(a)&&c[a]?c[a]:c[q.xg]},nE:function(a,c){var d=this.Dw;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.B(!1);a.w(.5,.5);this.f(a,1);this.kj==c&&this.td()},Tba:function(a,c){var d=this.ZC(c);d||(d="");this.nE(q.R.create(d,a,12),c)},W6:function(a){a=this.Ws(a);return null!=a&&a instanceof q.R?a.Af:""},Uba:function(a,c){var d=this.Ws(c);null!=d&&
d instanceof q.R&&d.Vx(a)},X6:function(a){a=this.Ws(a);return null!=a&&a instanceof q.R?a.de:0},Sba:function(a,c){var d=this.ZC(c);d||(d="");this.nE(q.hz.create(d,a),c)},V6:function(a){a=this.Ws(a);return null!=a&&a instanceof q.hz?a.W4():""},cT:function(a){var c=this.ym;return c.hasOwnProperty(a)&&c[a]?c[a]:c[q.xg]},Tl:function(a,c){var d=this.ym;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.B(!1);a.w(.5,.5);this.f(a);d=this.Hg;0===d.width&&0===d.height||a.Ji(d);this.kj===
c&&this.td()},paa:function(a,c){var d=q.ae.nI(a);this.Tl(d,c)}});q.Xh.create=function(a,c){var d;if(0==arguments.length)return(d=new q.Xh)&&d.A()?d:null;1==arguments.length?(d=new q.Xh,d.ox(arguments[0])):2==arguments.length?(d=new q.Xh,d.rx(a,c)):3==arguments.length&&(d=new q.Xh,d.qU(arguments[0],arguments[1],arguments[2]));return d};q.RGBA=function(a,c,d,e){this.t=a;this.p=c;this.o=d;this.P=e};q.cz=function(a,c,d){this.h=a;this.s=c;this.ua=d};q.re={};q.re.qn=function(a,c,d,e){a=q.v.oI(a);if(!a)return null;a.l(d);a.w(e);c.f(a);return a};q.re.YM=function(a){var c=new q.cz,d,e;d=a.t<a.p?a.t:a.p;d=d<a.o?d:a.o;e=a.t>a.p?a.t:a.p;e=e>a.o?e:a.o;c.ua=e;d=e-d;if(0<e)c.s=d/e;else return c.s=0,c.h=-1,c;c.h=a.t>=e?(a.p-a.o)/d:a.p>=e?2+(a.o-a.t)/d:4+(a.t-a.p)/d;c.h*=60;0>c.h&&(c.h+=360);return c};
q.re.sz=function(a){var c,d,e,f,g=new q.RGBA;g.P=1;if(0>=a.s){if(!a.h)return g.t=a.ua,g.p=a.ua,g.o=a.ua,g;g.t=0;g.p=0;g.o=0;return g}c=a.h;360<=c&&(c=0);c/=60;f=0|c;e=c-f;c=a.ua*(1-a.s);d=a.ua*(1-a.s*e);e=a.ua*(1-a.s*(1-e));switch(f){case 0:g.t=a.ua;g.p=e;g.o=c;break;case 1:g.t=d;g.p=a.ua;g.o=c;break;case 2:g.t=c;g.p=a.ua;g.o=e;break;case 3:g.t=c;g.p=d;g.o=a.ua;break;case 4:g.t=e;g.p=c;g.o=a.ua;break;default:g.t=a.ua,g.p=c,g.o=d}return g};q.re.UE=function(a,c){return q.Nx(a,c)};q.aN=q.Pa.extend({Vf:null,aa:null,uv:null,ctor:function(a,c,d){this.aa=a;this.Vf=c;this.uv=d},Y3:function(){return this.Vf},NT:function(){return this.aa},C4:function(){return this.uv},zU:function(a){if(this.aa&&this.Vf)if("string"==typeof this.Vf)this.aa[this.Vf](a,this.uv);else this.Vf.call(this.aa,a,this.uv)}});q.vF=0;q.yF=1;q.wF=2;q.xF=3;q.tF=4;q.AF=5;q.zF=6;q.BN=7;q.uF=8;
q.ae=q.Kb.extend({wb:!0,tp:null,jG:null,kl:!1,Ff:null,qi:null,pi:null,Eh:null,cj:null,Sj:null,ki:null,Si:null,Ri:null,Ti:null,Uj:null,Fc:!1,Ad:null,Hg:null,fj:0,Dc:null,Jo:null,Jv:0,Lv:0,Kv:0,Iv:0,nH:!1,OB:!1,yb:!1,fe:null,$L:function(){return this.yb},gg:function(a,c){this.fe.push({eventCallback:a,yi:c})},ue:function(){this.yb=!0;for(var a=this.fe,c=0,d=a.length;c<d;c++){var e=a[c];e.eventCallback.call(e.yi,this)}a.length=0},Iw:function(){var a;a=this.Jv;var c=this.Lv,d=this.Kv,e=this.tp,f=this.Iv;
a=0===a&&0===c&&0===d&&0===f?q.xd():this.OB?q.rect(f,a,e.width-d-a,e.height-c-f):q.rect(a,c,e.width-a-d,e.height-c-f);this.XW(a)},eR:function(){if(this.qi&&this.Eh&&this.Ti&&this.Si&&this.Sj){var a=this.Ca,c=this.qi,d=this.Eh,e=this.Ti,f=this.Si,g=this.Sj,h=this.Sj.c(),k=c.c(),l=f.c(),m=a.Ha-k.width-d.c().width,a=a.xa-k.height-e.c().height,m=m/h.width,a=a/h.height,k=h.width*m,p=h.height*a,t=l.width,l=l.height;if(!q.Ka.fd){var v=Math.round(k);k!=v&&(k=v,m=k/h.width);v=Math.round(p);p!=v&&(p=v,a=p/
h.height)}g.pq(m);g.Wn(a);var h=this.cj,v=this.ki,x=this.pi,y=this.Ri,G=q.a(0,0);f.w(G);e.w(G);c.w(G);d.w(G);h.w(G);v.w(G);x.w(G);y.w(G);g.w(G);f.l(0,0);e.l(t+k,0);c.l(0,l+p);d.l(t+k,l+p);h.l(0,l);h.Wn(a);v.l(t+k,l);v.Wn(a);y.l(t,0);y.pq(m);x.l(t,l+p);x.pq(m);g.l(t,l)}},ctor:function(){q.Kb.prototype.ctor.call(this);this.tp=q.xd();this.jG=q.xd();this.Uj=q.Db();this.Ad=new q.Nk(0,0);this.Hg=new q.Nk(0,0);this.Dc=q.Db();this.fj=255;this.Jo=q.xd();this.fe=[]},sT:function(){return this.Ad},uT:function(){return this.Hg},
Ji:function(a){this.N(a);this.Hg=a},rj:function(){return this.fj},ta:function(a){if(this.Ff){this.fj=a;for(var c=this.Ff.D,d=0;d<c.length;d++){var e=c[d];e&&e.wb&&e.ta(a)}}},Ed:function(){return this.Dc},q:function(a){if(this.Ff){this.Dc=a;for(var c=this.Ff.D,d=0;d<c.length;d++){var e=c[d];e&&e.wb&&e.q(a)}}},p4:function(){return this.Jo},XW:function(a){if(this.Ff){var c=this.Ca,d=c.Ha,c=c.xa;this.wq(this.Ff,this.tp,this.OB,a);this.N(d,c)}},l5:function(){return this.Jv},Raa:function(a){this.Jv=a;this.Iw()},
n5:function(){return this.Lv},Taa:function(a){this.Lv=a;this.Iw()},m5:function(){return this.Kv},Saa:function(a){this.Kv=a;this.Iw()},k5:function(){return this.Iv},Qaa:function(a){this.Iv=a;this.Iw()},N:function(a,c){2===arguments.length?q.Node.prototype.N.call(this,a,c):q.Node.prototype.N.call(this,a);this.kl=!0},Ba:function(a){this.kl&&(this.eR(),this.kl=!1);q.Kb.prototype.Ba.call(this,a)},A:function(){return this.px(null,q.xd(),!1,q.xd())},px:function(a,c,d,e){3===arguments.length&&(e=d,d=!1);
a&&this.wq(a,c,d,e);this.w(.5,.5);return this.kl=!0},uj:function(a,c,d){a instanceof q.Rect?(d=a=c,c=q.xd()):(c=c||q.xd(),d=d||q.xd());if(!a)throw"cc.Scale9Sprite.initWithFile(): file should be non-null";var e=q.fa.g().py(a);if(!e){var e=q.fa.g().ka(a),f=e.Wg();(this.yb=f)||e.gg(function(a){var c=this.Hg,c=q.size(c.width,c.height);a=a.c();this.wq(this.Ff,q.rect(0,0,a.width,a.height),!1,this.Jo);this.Ji(c);this.kl=!0;this.ue()},this)}a=q.Eb.create(a,9);return this.px(a,c,!1,d)},Pe:function(a,c){if(!a||
!a.ia())throw"cc.Scale9Sprite.initWithSpriteFrame(): spriteFrame should be non-null and its texture should be non-null";c=c||q.xd();var d=a.yb;(this.yb=d)||a.gg(function(a){var c=this.Hg,c=q.size(c.width,c.height);this.wq(this.Ff,a.sd(),q.Ka.fd?a.Bd:!1,this.Jo);this.Ji(c);this.kl=!0;this.ue()},this);d=q.Eb.Ja(a.ia(),9);return this.px(d,a.sd(),q.Ka.fd?a.Bd:!1,c)},zJ:function(a,c){if(!a)throw"cc.Scale9Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";c=c||q.xd();var d=q.Ag.g().Nh(a);
return null==d?(q.log("cc.Scale9Sprite.initWithSpriteFrameName(): can't find the sprite frame by spriteFrameName"),!1):this.Pe(d,c)},W$:function(a){var c=new q.ae;return c&&c.px(this.Ff,this.tp,!1,a)?c:null},Pf:function(a){if(this.Ff){this.Fc=a;var c=this.Ff.D;if(c)for(var d=0,e=c.length;d<e;d++)c[d].Pf(a)}},Fl:function(){return this.Fc},wq:function(a,c,d,e){var f=this.rj(),g=this.Ed();c=q.rect(c.x,c.y,c.width,c.height);this.bc(!0);this.Ff!=a&&(this.Ff=a);a=a.ia();var h=a.Wg();if(this.yb=h){a=this.Ff;
a.bc(!0);h=this.Jo;h.x=e.x;h.y=e.y;h.width=e.width;h.height=e.height;this.OB=d;h=a.ia();q.Yr(c)&&(c=h.c(),c=q.rect(0,0,c.width,c.height));var k=this.tp=c;k.x=c.x;k.y=c.y;k.width=c.width;k.height=c.height;var l=c.Ya;this.Ad.width=l.width;this.Ad.height=l.height;k=this.Hg;0===k.width&&0===k.height&&(k.width=l.width,k.height=l.height);k=this.jG;e&&(k.x=e.x,k.y=e.y,k.width=e.width,k.height=e.height);var m=l.width;e=l.height;q.Yr(k)&&(k.x=m/3,k.y=e/3,k.width=m/3,k.height=e/3);var p=k.x,t=k.width,v=m-(p+
t),x=k.y,y=k.height,G=e-(x+y),K=0,F=0;e=q.rect(K,F,p,x);var K=K+p,k=q.rect(K,F,t,x),m=q.rect(K+t,F,v,x),K=0,F=0+x,l=q.rect(K,F,p,y),K=K+p,ha=q.rect(K,F,t,y),K=K+t,ia=q.rect(K,F,v,y),K=0,F=0+x+y,x=q.rect(K,F,p,G),K=K+p,p=q.rect(K,F,t,G),K=K+t,t=q.rect(K,F,v,G),v={P:1,o:0,Ma:0,d:1,jb:0,kb:0};if(d){d=ha;var G=t,K=x,F=m,y=e,va=ia,ja=l,wa=p,xa=k,v=q.Gy(v,c.height+c.x,c.y),v=q.xM(v),ha=q.Tf(ha,v),t=q.Tf(t,v),x=q.Tf(x,v),m=q.Tf(m,v);e=q.Tf(e,v);ia=q.Tf(ia,v);l=q.Tf(l,v);p=q.Tf(p,v);k=q.Tf(k,v);d.x=ha.x;
d.y=ha.y;G.x=t.x;G.y=t.y;K.x=x.x;K.y=x.y;F.x=m.x;F.y=m.y;y.x=e.x;y.y=e.y;va.x=ia.x;va.y=ia.y;ja.x=l.x;ja.y=l.y;wa.x=p.x;wa.y=p.y;xa.x=k.x;xa.y=k.y;this.Sj=new q.v;this.Sj.Sa(h,d,!0);a.f(this.Sj,0,q.vF);this.pi=new q.v;this.pi.Sa(h,xa,!0);a.f(this.pi,1,q.yF);this.Ri=new q.v;this.Ri.Sa(h,wa,!0);a.f(this.Ri,1,q.tF);this.cj=new q.v;this.cj.Sa(h,ja,!0);a.f(this.cj,1,q.wF);this.ki=new q.v;this.ki.Sa(h,va,!0);a.f(this.ki,1,q.xF);this.qi=new q.v;this.qi.Sa(h,y,!0);a.f(this.qi,2,q.zF);this.Eh=new q.v;this.Eh.Sa(h,
F,!0);a.f(this.Eh,2,q.AF);this.Si=new q.v;this.Si.Sa(h,K,!0);a.f(this.Si,2,q.uF);this.Ti=new q.v;this.Ti.Sa(h,G,!0)}else v=q.Gy(v,c.x,c.y),q.Oi(ha,v),q.Oi(t,v),q.Oi(x,v),q.Oi(m,v),q.Oi(e,v),q.Oi(ia,v),q.Oi(l,v),q.Oi(p,v),q.Oi(k,v),this.Sj=new q.v,this.Sj.Sa(h,ha),a.f(this.Sj,0,q.vF),this.pi=new q.v,this.pi.Sa(h,k),a.f(this.pi,1,q.yF),this.Ri=new q.v,this.Ri.Sa(h,p),a.f(this.Ri,1,q.tF),this.cj=new q.v,this.cj.Sa(h,l),a.f(this.cj,1,q.wF),this.ki=new q.v,this.ki.Sa(h,ia),a.f(this.ki,1,q.xF),this.qi=
new q.v,this.qi.Sa(h,e),a.f(this.qi,2,q.zF),this.Eh=new q.v,this.Eh.Sa(h,m),a.f(this.Eh,2,q.AF),this.Si=new q.v,this.Si.Sa(h,x),a.f(this.Si,2,q.uF),this.Ti=new q.v,this.Ti.Sa(h,t);a.f(this.Ti,2,q.BN);this.N(c.Ya);this.f(a);this.nH&&(this.ta(f),255===g.t&&255===g.p&&255===g.o||this.q(g));return this.nH=!0}a.gg(function(){this.kl=!0;this.ue()},this)},Qf:function(a){var c=q.Eb.Ja(a.ia(),9),d=a.yb;(this.yb=d)||a.gg(function(a){var c=this.Hg,c=q.size(c.width,c.height);this.wq(this.Ff,a.sd(),q.Ka.fd?a.Bd:
!1,this.Jo);this.Ji(c);this.kl=!0;this.ue()},this);this.wq(c,a.sd(),q.Ka.fd?a.Bd:!1,q.xd());this.Iv=this.Kv=this.Lv=this.Jv=0}});q.ae.create=function(a,c,d){var e;if(2===arguments.length)if("string"==typeof a){if((e=new q.ae)&&e.uj(a,c))return e}else{if(a instanceof q.Rect&&(e=new q.ae)&&e.uj(a,d))return e}else if(3===arguments.length){if((e=new q.ae)&&e.uj(a,c,d))return e}else if(1===arguments.length){if((e=new q.ae)&&e.uj(a))return e}else if(0===arguments.length&&(e=new q.ae)&&e.A())return e;return null};
q.ae.nI=function(a,c){var d=new q.ae;return d&&d.Pe(a,c)?d:null};q.ae.oI=function(a,c){if(!a)throw"cc.Scale9Sprite.createWithSpriteFrameName(): spriteFrameName should be non-null";var d=new q.ae;return d&&d.zJ(a,c)?d:null};q.Ku=q.Wc.extend({});q.Ku.rda=function(a){var c=new q.Ku;c.A();c.N(0,a);return c};q.Ku.D7=function(a){var c=new q.Ku;c.A();c.N(a,0);return c};
q.wu=q.Wc.extend({wb:!0,Dc:null,fj:0,ctor:function(){},Ed:function(){return this.Dc},q:function(a){this.Dc=a;if(this.D&&0<this.D.length)for(var c=0;c<this.D.length;c++)this.D[c]&&this.D[c].wb&&this.D[c].q(a)},rj:function(){return this.fj},ta:function(a){this.fj=a;if(this.D&&0<this.D.length)for(var c=0;c<this.D.length;c++)this.D[c]&&this.D[c].wb&&this.D[c].ta(a)},kU:function(a,c){if(this.A()){var d=q.ea.g().fc;this.tj(!0);this.w(.5,.5);this.N(d);this.l(d.width/2,d.height/2);d=0;if(a){this.f(a,d);for(var e=
0;e<c.length;e++)c[e]&&(d++,this.f(c[e],d))}return!0}return!1},d2:function(){this.BR(q.JM)},BR:function(a){var c=-a,d;if(this.D&&0<this.D.length)for(d=0;d<this.D.length;d++)this.D[d]&&(c+=this.D[d].c().height*this.D[d].Da+a);var e=0,f=c/2;if(this.D&&0<this.D.length)for(d=0;d<this.D.length;d++)this.D[d]&&(e=Math.max(e,this.D[d].c().width),this.D[d].l(0,f-this.D[d].c().height*this.D[d].Da/2),f-=this.D[d].c().height*this.D[d].Da+a);this.N(e,c)},a2:function(){this.AR(q.JM)},AR:function(a){var c=-a,d;
if(this.D&&0<this.D.length)for(d=0;d<this.D.length;d++)this.D[d]&&(c+=this.D[d].c().width*this.D[d].va+a);var e=0,f=-c/2;if(this.D&&0<this.D.length)for(d=0;d<this.D.length;d++)this.D[d]&&(e=Math.max(e,this.D[d].c().height),this.D[d].l(f+this.D[d].c().width*this.D[d].va/2,0),f+=this.D[d].c().width*this.D[d].va+a);this.N(c,e)},b2:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=-5,f=0,g=0,h=0,k,l;if(this.D&&0<this.D.length)for(d=0;d<this.D.length;d++)this.D[d]&&(f>=c.length?
q.log("cc.MenuPassive.alignItemsInColumns(): invalid row index"):(k=c[f])?(l=this.D[d].c().height,g=0|(g>=l||null==l?g:l),++h,h>=k&&(e+=g+5,g=h=0,++f)):q.log("cc.MenuPassive.alignItemsInColumns(): can not have zero columns on a row"));var m=q.ea.g().fc,p=k=g=f=0,t=0,e=e/2;if(this.D&&0<this.D.length)for(d=0;d<this.D.length;d++)this.D[d]&&(0==k&&(k=c[f],t=p=m.width/(1+k)),l=this.D[d].c().height,g=0|(g>=l||null==l?g:l),this.D[d].l(t-m.width/2,e-this.D[d].c().height/2),t+=p,++h,h>=k&&(e-=g+5,g=k=h=0,
++f))},c2:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=[],f=[],g=-10,h=-5,k=0,l=0,m=0,p,t;if(this.D&&0<this.D.length)for(d=0;d<this.D.length;d++)this.D[d]&&(k>=c.length?q.log("cc.MenuPassive.alignItemsInRows(): invalid row index"):(p=c[k])?(t=this.D[d].c().width,l=0|(l>=t||null==t?l:t),h+=0|this.D[d].c().height+5,++m,m>=p&&(e.push(l),f.push(h),g+=l+10,l=m=0,h=-5,++k)):q.log("cc.MenuPassive.alignItemsInColumns(): can't have zero rows on a column"));h=q.ea.g().fc;
l=k=0;p=null;var g=-g/2,v=0;if(this.D&&0<this.D.length)for(d=0;d<this.D.length;d++)this.D[d]&&(null==p&&(p=c[k],v=f[k]),t=this.D[d].c().width,l=0|(l>=t||null==t?l:t),this.D[d].l(g+e[k]/2,v-h.height/2),v-=this.D[d].c().height+10,++m,m>=p&&(g+=l+5,l=p=m=0,++k))},Pf:function(){},Fl:function(){return!1}});q.wu.create=function(a){0==arguments.length&&(a=null);for(var c=[],d=1;d<arguments.length;d++)c.push(arguments[d]);return(d=new q.wu)&&d.kU(a,c)?d:null};q.wu.Z2=function(a){return q.wu.create(a,null)};q.Sy=q.mc.extend({yB:0,lv:0,Zc:null,IP:null,lH:null,Dh:null,Mc:null,Dg:0,Rj:0,v6:function(){return this.yB},l4:function(){return this.lv},QI:function(){return this.Zc},X5:function(){return this.lv},C6:function(){return this.lH},HT:function(){return this.Dh},JT:function(){return this.Mc},mD:function(a,c){return q.mc.prototype.A.call(this)?(this.pc(!0),this.Zc=q.re.qn("colourPickerBackground.png",a,c,q.a(0,0)),this.IP=q.re.qn("colourPickerOverlay.png",a,c,q.a(0,0)),this.lH=q.re.qn("colourPickerShadow.png",
a,c,q.a(0,0)),this.Dh=q.re.qn("colourPicker.png",a,c,q.a(.5,.5)),this.Mc=c,this.Dg=35,this.Rj=this.Zc.c().width/2,!0):!1},Of:function(a){q.mc.prototype.Of.call(this,a);this.Dh&&this.Dh.ta(a?255:128)},oM:function(a){var c=new q.cz;c.s=1;c.h=a.h;c.ua=1;a=q.re.sz(c);this.Zc.q(q.uC(0|255*a.t,0|255*a.p,0|255*a.o))},JY:function(a){a=q.a(this.Mc.x+this.Dg+this.Rj*(1-a.s),this.Mc.y+this.Dg+this.Rj*a.ua);this.Lw(a)},Lw:function(a){var c=this.Mc.x+.5*this.Zc.pb().width,d=this.Mc.y+.5*this.Zc.pb().height,e=
a.x-c,f=a.y-d,g=Math.sqrt(e*e+f*f),e=Math.atan2(f,e),f=.5*this.Zc.pb().width;g>f&&(a.x=c+f*Math.cos(e),a.y=d+f*Math.sin(e));this.Dh.l(a);a.x<this.Mc.x+this.Dg?a.x=this.Mc.x+this.Dg:a.x>this.Mc.x+this.Dg+this.Rj-1&&(a.x=this.Mc.x+this.Dg+this.Rj-1);a.y<this.Mc.y+this.Dg?a.y=this.Mc.y+this.Dg:a.y>this.Mc.y+this.Dg+this.Rj&&(a.y=this.Mc.y+this.Dg+this.Rj);this.yB=1-Math.abs((this.Mc.x+this.Dg-a.x)/this.Rj);this.lv=Math.abs((this.Mc.y+this.Dg-a.y)/this.Rj)},Yq:function(a){var c=this.Mc.x+.5*this.Zc.pb().width,
d=this.Mc.y+.5*this.Zc.pb().height,c=a.x-c,d=a.y-d;return Math.sqrt(c*c+d*d)<=.5*this.Zc.pb().width?(this.Lw(a),this.vf(q.Li),!0):!1},ub:function(a){if(!this.isEnabled()||!this.ya)return!1;a=this.sj(a);return this.Yq(a)},Td:function(a){a=this.sj(a);this.Yq(a)}});q.Sy.create=function(a,c){var d=new q.Sy;d.mD(a,c);return d};q.Ry=q.mc.extend({ap:0,Fr:0,Zc:null,Dh:null,Mc:null,f5:function(){return this.ap},hE:function(a){this.ap=a;this.mX(this.ap/360)},g5:function(){return this.Fr},mX:function(a){this.Fr=a;this.ap=360*this.Fr;a=this.Zc.pb();var c=.5*a.width-15,d=q.Jj(360*this.Fr-180);this.Dh.l(this.Mc.x+.5*a.width+c*Math.cos(d),this.Mc.y+.5*a.height+c*Math.sin(d))},Of:function(a){q.mc.prototype.Of.call(this,a);this.Dh&&this.Dh.ta(a?255:128)},QI:function(){return this.Zc},HT:function(){return this.Dh},JT:function(){return this.Mc},
mD:function(a,c){return q.mc.prototype.A.call(this)?(this.pc(!0),this.Zc=q.re.qn("huePickerBackground.png",a,c,q.a(0,0)),this.Dh=q.re.qn("colourPicker.png",a,c,q.a(.5,.5)),this.Dh.l(c.x,c.y+.5*this.Zc.pb().height),this.Mc=c,this.Fr=this.ap=0,!0):!1},Lw:function(a){var c=this.Zc.pb();this.hE(q.qz(Math.atan2(a.y-(this.Mc.y+.5*c.height),a.x-(this.Mc.x+.5*c.width)))+180);this.vf(q.Li)},Yq:function(a){var c=Math.sqrt(Math.pow(a.x+10,2)+Math.pow(a.y,2));return 80>c&&59<c?(this.Lw(a),!0):!1},ub:function(a){if(!this.isEnabled()||
!this.ya)return!1;a=this.sj(a);return this.Yq(a)},Td:function(a){a=this.sj(a);this.Yq(a)}});q.Ry.create=function(a,c){var d=new q.Ry;d.mD(a,c);return d};q.$E=q.mc.extend({th:null,Vk:null,Hm:null,Zc:null,hU:function(a){this.th.h=a.ap;a=q.re.sz(this.th);q.mc.prototype.q.call(this,q.uC(0|255*a.t,0|255*a.p,0|255*a.o));this.vf(q.Li);this.bR()},cS:function(a){this.th.s=a.yB;this.th.ua=a.lv;a=q.re.sz(this.th);q.mc.prototype.q.call(this,q.uC(0|255*a.t,0|255*a.p,0|255*a.o));this.vf(q.Li)},q:function(a){q.mc.prototype.q.call(this,a);var c=new q.RGBA;c.t=a.t/255;c.p=a.p/255;c.o=a.o/255;c.P=1;this.th=q.re.YM(c);this.EH()},QI:function(){return this.Zc},A:function(){if(q.mc.prototype.A.call(this)){this.pc(!0);
q.Ag.g().XH(aa.SE);var a=q.Eb.create(aa.TE);this.f(a);this.th=new q.cz(0,0,0);this.Zc=q.re.qn("menuColourPanelBackground.png",a,q.Lj(),q.a(.5,.5));var c=q.Ud(this.Zc.u,q.a(this.Zc.c().width/2,this.Zc.c().height/2));this.Hm=q.Ry.create(a,q.a(c.x+8,c.y+8));this.Vk=q.Sy.create(a,q.a(c.x+28,c.y+28));this.Hm.YH(this,this.hU,q.Li);this.Vk.YH(this,this.cS,q.Li);this.EH();this.f(this.Hm);this.f(this.Vk);this.N(this.Zc.c());return!0}return!1},bR:function(){this.Hm.hE(this.th.h);this.Vk.oM(this.th)},EH:function(){this.Hm.hE(this.th.h);
this.Vk.oM(this.th);this.Vk.JY(this.th)},Of:function(a){q.mc.prototype.Of.call(this,a);null!=this.Hm&&this.Hm.Of(a);this.Vk&&this.Vk.Of(a)},ub:function(){return!1}});q.$E.create=function(){var a=new q.$E;a.A();return a};aa=aa||{};aa.SE=aa.SE||"res/extensions/CCControlColourPickerSpriteSheet.plist";aa.TE=aa.TE||"res/extensions/CCControlColourPickerSpriteSheet.png";q.HF=24;q.m0=8;
q.bF=q.mc.extend({ld:0,tb:0,Pb:0,bw:0,$v:0,Qb:null,ll:null,te:null,jJ:function(){return this.ld},wf:function(a){a=Math.max(a,this.tb);this.ld=a=Math.min(a,this.Pb);this.td();this.vf(q.Li)},oT:function(){return this.tb},jL:function(a){this.bw=this.tb=a;this.tb>=this.Pb&&(this.Pb=this.tb+1);this.wf(this.ld)},nT:function(){return this.Pb},hL:function(a){this.$v=this.Pb=a;this.Pb<=this.tb&&(this.tb=this.Pb-1);this.wf(this.ld)},Ei:function(a){a=a.S;a=this.getParent().Ia(a);var c=this.pb();c.Ya.width+=
this.Qb.c().width;c.hd.x-=this.Qb.c().width/2;return q.vb(c,a)},En:function(a){a=a.S;a=this.Ia(a);0>a.x?a.x=0:a.x>this.te.c().width&&(a.x=this.te.c().width);return a},B5:function(){return this.bw},dba:function(a){this.bw=a},z5:function(){return this.$v},cba:function(a){this.$v=a},hJ:function(){return this.Qb},g6:function(){return this.ll},f4:function(){return this.te},oU:function(a,c,d){return q.mc.prototype.A.call(this)?(this.tj(!1),this.pc(!0),this.te=a,this.ll=c,this.Qb=d,a=q.re.UE(a.pb(),d.pb()),
this.N(a.width,a.height),this.te.w(.5,.5),this.te.l(a.width/2,a.height/2),this.f(this.te),this.ll.w(0,.5),this.ll.l(0,a.height/2),this.f(this.ll),this.Qb.l(0,a.height/2),this.f(this.Qb),this.tb=0,this.Pb=1,this.wf(this.tb),!0):!1},Of:function(a){q.mc.prototype.Of.call(this,a);this.Qb&&this.Qb.ta(a?255:128)},tY:function(a){this.qq(!0);this.Qb.q(q.Dl());this.wf(this.ME(a))},vY:function(a){this.wf(this.ME(a))},uY:function(){this.qp&&this.wf(this.ME(this.Qb.u));this.Qb.q(q.Db());this.qq(!1)},c7:function(a){a=
a.S;a=this.Ia(a);0>a.x?a.x=0:a.x>this.te.c().width+q.HF&&(a.x=this.te.c().width+q.HF);return a},ub:function(a){if(!this.Ei(a)||!this.isEnabled()||!this.ya)return!1;a=this.En(a);this.tY(a);return!0},Td:function(a){a=this.En(a);this.vY(a)},bh:function(){this.uY(q.Lj())},td:function(){this.Qb.Oa((this.ld-this.tb)/(this.Pb-this.tb)*this.te.c().width);var a=this.ll.YC(),a=q.rect(a.x,a.y,this.Qb.u.I,a.height);this.ll.ib(a,this.ll.qd,a.Ya)},ME:function(a){a=a.x/this.te.c().width;return Math.max(Math.min(this.tb+
a*(this.Pb-this.tb),this.$v),this.bw)}});q.bF.create=function(a,c,d){"string"==typeof a&&(a=q.v.create(a),c=q.v.create(c),d=q.v.create(d));var e=new q.bF;e.oU(a,c,d);return e};q.dF=q.mc.extend({rd:null,BG:0,Tr:!1,lp:!1,ctor:function(){q.mc.prototype.ctor.call(this)},jD:function(a,c,d,e,f,g){if(!a)throw"cc.ControlSwitch.initWithMaskSprite(): maskSprite should be non-null.";if(!c)throw"cc.ControlSwitch.initWithMaskSprite(): onSprite should be non-null.";if(!d)throw"cc.ControlSwitch.initWithMaskSprite(): offSprite should be non-null.";if(!e)throw"cc.ControlSwitch.initWithMaskSprite(): thumbSprite should be non-null.";return this.A()?(this.pc(!0),this.lp=!0,this.rd=new q.IM,
this.rd.jD(a,c,d,e,f,g),this.rd.l(this.rd.c().width/2,this.rd.c().height/2),this.f(this.rd),this.tj(!1),this.w(.5,.5),this.N(this.rd.c()),!0):!1},Yx:function(a,c){var d=(this.lp=a)?this.rd.il:this.rd.Mm;c?this.rd.Rx(q.ho.create(.2,"sliderXPosition",this.rd.lk,d)):this.rd.kE(d);this.vf(q.Li)},o8:function(){return this.lp},B7:function(){return this.Tr},Of:function(a){this.ur=a;this.rd.ta(a?255:128)},En:function(a){a=a.S;return a=this.Ia(a)},ub:function(a){if(!this.Ei(a)||!this.isEnabled()||!this.ya)return!1;
this.Tr=!1;this.BG=this.En(a).x-this.rd.lk;this.rd.Qb.q(q.Dl());this.rd.td();return!0},Td:function(a){a=this.En(a);a=q.a(a.x-this.BG,0);this.Tr=!0;this.rd.kE(a.x)},bh:function(a){a=this.En(a);this.rd.Qb.q(q.Db());this.Tr?this.Yx(!(a.x<this.rd.c().width/2),!0):this.Yx(!this.lp,!0)},Ck:function(a){a=this.En(a);this.rd.Qb.q(q.Db());this.Tr?this.Yx(!(a.x<this.rd.c().width/2),!0):this.Yx(!this.lp,!0)}});q.dF.create=function(a,c,d,e,f,g){var h=new q.dF;return h&&h.jD(a,c,d,e,f,g)?h:null};
q.IM=q.v.extend({lk:0,il:0,Mm:0,sH:0,XA:0,YA:null,xh:null,ej:null,Qb:null,Nm:null,Lm:null,Po:null,Gc:null,iv:null,ctor:function(){q.v.prototype.ctor.call(this);this.XA=this.Mm=this.il=this.lk=0;this.YA=q.size(0,0);this.Lm=this.Nm=this.Qb=this.ej=this.xh=null},jD:function(a,c,d,e,f,g){return q.v.prototype.Sa.call(this,a.ia())?(this.il=0,this.Mm=-c.c().width+e.c().width/2,this.lk=this.il,this.DX(c),this.BX(d),this.mE(e),this.CX(f),this.AX(g),this.Gc=a,a=this.YA=this.Gc.c(),this.Gc.l(0,0),this.Po=q.Ab.create(),
this.Po.w(.5,.5),this.Po.l(a.width/2,a.height/2),this.Po.lE(this.Gc),this.iv=q.xb.create(a.width,a.height),this.Po.f(this.iv.Bb),this.f(this.Po),this.f(this.Qb),this.td(),!0):!1},td:function(){this.xh.l(this.xh.c().width/2+this.lk,this.xh.c().height/2);this.ej.l(this.xh.c().width+this.ej.c().width/2+this.lk,this.ej.c().height/2);this.Nm&&this.Nm.l(this.xh.u.x-this.Qb.c().width/6,this.xh.c().height/2);this.Lm&&this.Lm.l(this.ej.u.x+this.Qb.c().width/6,this.ej.c().height/2);this.Qb.l(this.xh.c().width+
this.lk,this.YA.height/2);this.iv.sk();this.xh.Ba();this.ej.Ba();this.Nm&&this.Nm.Ba();this.Lm&&this.Lm.Ba();this.iv.end()},kE:function(a){a<=this.Mm?a=this.Mm:a>=this.il&&(a=this.il);this.lk=a;this.td()},F6:function(){return this.lk},D9:function(){return this.xh.c().width},B9:function(){return this.ej.c().height},KE:function(a,c){q.log("key = "+c+", value = "+a);this.kE(a)},mba:function(a){this.il=a},R5:function(){return this.il},jba:function(a){this.Mm=a},L5:function(){return this.Mm},bba:function(a){this.Gc.la(a)},
v5:function(){return this.Gc.ia()},Qba:function(a){this.sH=a},S6:function(){return this.sH},aba:function(a){this.XA=a},u5:function(){return this.XA},DX:function(a){this.xh=a},S5:function(){return this.xh},BX:function(a){this.ej=a},M5:function(){return this.ej},mE:function(a){this.Qb=a},hJ:function(){return this.Qb},CX:function(a){this.Nm=a},Q5:function(){return this.Nm},AX:function(a){this.Lm=a},K5:function(){return this.Lm}});q.XE=0;q.YE=1;q.St=2;q.zq=q.n(55,55,55);q.Ny=q.n(147,147,147);q.WE="CourierNewPSMT";q.QE=.15;q.vM=12;
q.cF=q.mc.extend({ge:null,Cf:null,hl:null,jl:null,ld:0,br:!1,Bo:!1,ln:!1,tb:0,Pb:0,Ym:0,ws:!1,en:q.St,Vq:0,ctor:function(){q.mc.prototype.ctor.call(this);this.jl=this.hl=this.Cf=this.ge=null;this.ld=0;this.ln=this.Bo=this.br=!1;this.Ym=this.Pb=this.tb=0;this.ws=!1;this.en=q.St;this.Vq=0},mU:function(a,c){if(!a)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Minus sprite should be non-null.";if(!c)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Plus sprite should be non-null.";
if(this.A()){this.pc(!0);this.br=this.Bo=!0;this.tb=0;this.Pb=100;this.ld=0;this.Ym=1;this.ln=!1;this.tj(!1);this.wX(a);this.ge.l(a.c().width/2,a.c().height/2);this.f(this.ge);this.vX(q.R.create("-",q.WE,40,q.size(40,40),q.Pj,q.Yu));this.hl.q(q.Ny);this.hl.l(this.ge.c().width/2,this.ge.c().height/2);this.ge.f(this.hl);this.HX(c);this.Cf.l(a.c().width+c.c().width/2,a.c().height/2);this.f(this.Cf);this.GX(q.R.create("+",q.WE,40,q.size(40,40),q.Pj,q.Yu));this.jl.q(q.zq);this.jl.l(this.Cf.c().width/2,
this.Cf.c().height/2);this.Cf.f(this.jl);var d=q.re.UE(this.ge.pb(),this.Cf.pb());this.N(this.ge.c().width+this.Cf.c().height,d.Ya.height);return!0}return!1},dca:function(a){if(this.ln=a)this.hl.q(q.zq),this.jl.q(q.zq);this.wf(this.ld)},jL:function(a){if(a>=this.Pb)throw"cc.ControlStepper.setMinimumValue(): minimumValue should be numerically less than maximumValue.";this.tb=a;this.wf(this.ld)},hL:function(a){if(a<=this.tb)throw"cc.ControlStepper.setMaximumValue(): maximumValue should be numerically less than maximumValue.";
this.Pb=a;this.wf(this.ld)},wf:function(a){this.qE(a,!0)},jJ:function(){return this.ld},Jba:function(a){if(0>=a)throw"cc.ControlStepper.setMaximumValue(): stepValue should be numerically greater than 0.";this.Ym=a},Z7:function(){return this.br},qE:function(a,c){a<this.tb?a=this.ln?this.Pb:this.tb:a>this.Pb&&(a=this.ln?this.tb:this.Pb);this.ld=a;this.ln||(this.hl.q(a==this.tb?q.Ny:q.zq),this.jl.q(a==this.Pb?q.Ny:q.zq));c&&this.vf(q.Li)},TL:function(){this.Vq=-1;this.kc(this.update,q.QE,q.qm,3*q.QE)},
VL:function(){this.Nc(this.update)},update:function(){this.Vq++;this.Vq<q.vM&&0!=this.Vq%3||(this.en==q.XE?this.qE(this.ld-this.Ym,this.br):this.en==q.YE&&this.qE(this.ld+this.Ym,this.br))},fM:function(a){a.x<this.ge.c().width&&this.ld>this.tb?(this.en=q.XE,this.ge.q(q.Dl()),this.Cf.q(q.Db())):a.x>=this.ge.c().width&&this.ld<this.Pb?(this.en=q.YE,this.ge.q(q.Db()),this.Cf.q(q.Dl())):(this.en=q.St,this.ge.q(q.Db()),this.Cf.q(q.Db()))},ub:function(a){if(!this.Ei(a)||!this.isEnabled()||!this.ya)return!1;
a=this.sj(a);this.fM(a);this.ws=!0;this.Bo&&this.TL();return!0},Td:function(a){this.Ei(a)?(a=this.sj(a),this.fM(a),this.ws||(this.ws=!0,this.Bo&&this.TL())):(this.ws=!1,this.en=q.St,this.ge.q(q.Db()),this.Cf.q(q.Db()),this.Bo&&this.VL())},bh:function(a){this.ge.q(q.Db());this.Cf.q(q.Db());this.Bo&&this.VL();this.Ei(a)&&(a=this.sj(a),this.wf(this.ld+(a.x<this.ge.c().width?0-this.Ym:this.Ym)))},wX:function(a){this.ge=a},D5:function(){return this.ge},HX:function(a){this.Cf=a},b6:function(){return this.Cf},
vX:function(a){this.hl=a},C5:function(){return this.hl},GX:function(a){this.jl=a},a6:function(){return this.jl}});q.cF.create=function(a,c){var d=new q.cF;return d&&d.mU(a,c)?d:null};q.aF=q.mc.extend({Qb:null,op:null,np:null,ld:0,tb:0,Pb:1,rU:function(a,c,d){return this.A()?(this.pc(!0),this.LX(c),this.mE(d),this.Qb.l(c.u),this.f(d,2),this.f(c,1),this.f(a),this.N(a.c()),this.tb=0,this.Pb=1,this.wf(this.tb),!0):!1},Of:function(a){this.Of(a);this.Qb!=NULL&&this.Qb.ta(a?255:128)},wf:function(a){a<this.tb&&(a=this.tb);a>this.Pb&&(a=this.Pb);this.ld=a;a=(a-this.tb)/(this.Pb-this.tb);this.op.tt(100*a);this.Qb.ay(360*a);this.vf(q.Li)},jJ:function(){return this.ld},jL:function(a){this.tb=
a;this.tb>=this.Pb&&(this.Pb=this.tb+1);this.wf(this.Pb)},oT:function(){return this.tb},hL:function(a){this.Pb=a;this.Pb<=this.tb&&(this.tb=this.Pb-1);this.wf(this.tb)},nT:function(){return this.Pb},Ei:function(a){a=this.sj(a);return this.IS(this.op.u,a)<Math.min(this.c().width/2,this.c().height/2)},ub:function(a){if(!this.Ei(a)||!this.isEnabled()||!this.ya)return!1;this.np=this.sj(a);this.DV(this.np);return!0},Td:function(a){a=this.sj(a);this.FV(a)},bh:function(){this.EV(q.a(0,0))},IS:function(a,
c){var d=a.x-c.x,e=a.y-c.y;return Math.sqrt(d*d+e*e)},DR:function(a,c,d,e){return 180*(Math.atan2(c.x-a.x,c.y-a.y)-Math.atan2(e.x-d.x,e.y-d.y))/Math.PI},DV:function(){this.qq(!0);this.Qb.q(q.Dl())},FV:function(a){var c=this.DR(this.op.u,a,this.op.u,this.np);180<c?c-=360:-180>c&&(c+=360);this.wf(this.ld+c/360*(this.Pb-this.tb));this.np=a},EV:function(){this.Qb.q(q.Db());this.qq(!1)},mE:function(a){this.Qb=a},hJ:function(){return this.Qb},LX:function(a){this.op=a},h6:function(){return this.op},sba:function(a){this.np=
a},vT:function(){return this.np}});q.aF.create=function(a,c,d){var e=new q.aF;return e&&(a=q.v.create(a),d=q.v.create(d),c=q.Xc.create(q.v.create(c)),e.rU(a,c,d))?e:null};q.FF=-1;q.so=0;q.Gq=1;q.Gu=2;q.gS=function(a){var c=q.ra.g();return(c.va+c.Da)/2*a/160};q.ON=q.Pa.extend({LW:function(){},MW:function(){}});
q.$h=q.Wc.extend({L1:0,u1:0,s1:0,Ea:null,Yi:q.Gu,Zi:!1,QO:null,Xa:null,Fh:!1,Yv:null,aw:null,Wq:!1,Zq:!1,$r:null,Ep:null,xs:0,Gh:null,ti:null,PG:0,NG:0,Vr:null,zB:!1,tH:null,ctor:function(){q.Wc.prototype.ctor.call(this);this.QO=new q.oh(0,0);this.Yv=new q.oh(0,0);this.aw=new q.oh(0,0);this.$r=new q.oh(0,0);this.Ep=new q.oh(0,0);this.Gh=[];this.ti=new q.Nk(0,0);this.Vr=new q.Rect(0,0,0,0);this.tH=new q.Rect(0,0,0,0)},A:function(){return this.eq(q.size(200,200),null)},Ox:function(){q.MD(this.sl,!1,
this)},eq:function(a,c){var d=q.a(0,0);return q.Wc.prototype.A.call(this)?(this.Xa=c,this.Xa||(this.Xa=q.Wc.create(),this.Xa.tj(!1),this.Xa.w(d)),this.DL(a),this.pc(!0),this.Gh.length=0,this.Ea=null,this.Zq=this.Wq=!0,this.Yi=q.Gu,this.Xa.l(d),this.xs=0,this.f(this.Xa),this.PG=this.NG=1,!0):!1},Vl:function(a,c){if(c)this.aX(a,.15);else{if(!this.Wq){var d=this.Fn(),e=this.it();a.x=Math.max(d.x,Math.min(e.x,a.x));a.y=Math.max(d.y,Math.min(e.y,a.y))}this.Xa.l(a)}},SI:function(){var a=this.Xa.u;return q.a(a.x,
a.y)},aX:function(a,c){var d=q.xu.create(c,a),e=q.Aq.create(this.QQ,this);this.Xa.Rx(q.Nj.create(d,e));this.kc(this.eB)},IL:function(a,c){if(c)this.fY(a,.15);else{var d=this.Xa;if(d.UC()!=a){var e,f;0==this.xs?(f=this.ti,f=q.a(.5*f.width,.5*f.height),f=this.vl(f)):f=this.Ep;e=d.Ia(f);d.Ek(Math.max(this.PG,Math.min(this.NG,a)));e=d.vl(e);f=q.Ud(f,e);this.Vl(q.dh(d.u,f))}}},mJ:function(){return this.Xa.UC()},fY:function(a,c){if(0<c){var d=this.Xa.UC();d!=a&&(d=q.ho.create(c,"zoomScale",d,a),this.Rx(d))}else this.IL(a)},
Fn:function(){var a=this.Xa,c=a.c(),d=this.ti;return q.a(d.width-c.width*a.va,d.height-c.height*a.Da)},it:function(){return q.a(0,0)},n8:function(a){var c=this.SI(),d=this.ti,e=this.mJ(),c=q.rect(-c.x/e,-c.y/e,d.width/e,d.height/e);return q.TV(c,a.pb())},pause:function(){this.Xa.Kx();for(var a=this.Xa.D,c=0;c<a.length;c++)a[c].Kx()},IK:function(){for(var a=this.Xa.D,c=0,d=a.length;c<d;c++)a[c].Qx();this.Xa.Qx()},c8:function(){return this.Zi},F8:function(){return this.Fh},V7:function(){return this.Wq},
VW:function(a){this.Wq=a},p7:function(){return this.ti},DL:function(a){this.ti=a;q.Node.prototype.N.call(this,a)},z4:function(){return this.Xa},ZW:function(a){a&&(this.bc(!0),this.Xa=a,a.tj(!1),a.w(0,0),this.f(a),this.DL(this.ti))},O4:function(){return this.Yi},WK:function(a){this.Yi=a},Bc:function(){return this.Ea},qg:function(a){this.Ea=a},ub:function(a){if(!this.ya)return!1;var c=this.NA(),d=this.Xa,e=d.vl(d.vi(a)),f=this.Gh;if(2<f.length||this.Fh||!q.vb(c,e))return!1;f.push(a);1===f.length?(this.Ep=
this.vi(a),this.Fh=!1,this.Zi=!0,this.$r.x=0,this.xs=this.$r.y=0):2==f.length&&(this.Ep=q.ED(this.vi(f[0]),this.vi(f[1])),this.xs=q.BD(d.vi(f[0]),d.vi(f[1])),this.Zi=!1);return!0},Td:function(a){if(this.ya)if(1===this.Gh.length&&this.Zi){this.Fh=!0;var c=this.NA(),d=this.vi(a);a=q.Ud(d,this.Ep);var e=0,f=this.Yi,e=f===q.Gq?a.y:f===q.so?a.x:Math.sqrt(a.x*a.x+a.y*a.y);if(this.Fh||!(.04375>Math.abs(q.gS(e))))if(this.Fh||(a.x=0,a.y=0),this.Ep=d,this.Fh=!0,q.vb(c,this.vl(d))){switch(f){case q.Gq:a.x=0;
break;case q.so:a.y=0}d=this.Xa.u;c=d.x+a.x;d=d.y+a.y;this.$r=a;this.Vl(q.a(c,d))}}else 2!==this.Gh.length||this.Zi||(a=q.BD(this.Xa.vi(this.Gh[0]),this.Xa.vi(this.Gh[1])),this.IL(this.mJ()*a/this.xs))},bh:function(){this.ya&&(1==this.Gh.length&&this.Fh&&this.kc(this.oA),this.Gh.length=0,this.Fh=this.Zi=!1)},Ck:function(){this.ya&&(this.Gh.length=0,this.Fh=this.Zi=!1)},N:function(a,c){null!=this.Xa&&(2===arguments.length?this.Xa.N(a,c):this.Xa.N(a),this.KY())},c:function(){return this.Xa.c()},KY:function(){if(null!=
this.Xa){var a=this.ti,c=this.it();this.Yv.x=c.x+.2*a.width;this.Yv.y=c.y+.2*a.height;c=this.Fn();this.aw.x=c.x-.2*a.width;this.aw.y=c.y-.2*a.height}},X7:function(){return this.Zq},vaa:function(a){this.Zq=a},Ba:function(a){if(this.ya){a=a||q.da;var c,d=this.D,e,f;if(q.Wd===q.wg){a.save();this.transform(a);this.dG(a);if(d&&0<d.length){f=d.length;this.ne();for(c=0;c<f;c++)if((e=d[c])&&0>e.ob)e.Ba(a);else break;for(this.Za(a);c<f;c++)d[c].Ba(a)}else this.Za(a);this.bG();a.restore()}else{q.iq();var g=
this.al;g&&g.fq()&&(g.sC(),this.ty());this.transform(a);this.dG(a);if(d&&0<d.length){f=d.length;for(c=0;c<f;c++)if((e=d[c])&&0>e.ob)e.Ba();else break;for(this.Za(a);c<f;c++)d[c].Ba()}else this.Za(a);this.bG(a);g&&g.fq()&&g.oC(this);q.hq()}}},f:function(a,c,d){if(!a)throw Error("child must not nil!");c=c||a.ob;d=d||a.Dd;a.tj(!1);a.w(0,0);this.Xa!=a?this.Xa.f(a,c,d):q.Wc.prototype.f.call(this,a,c,d)},pc:function(a){q.Wc.prototype.pc.call(this,a);a||(this.Fh=this.Zi=!1,this.Gh.length=0)},n1:function(){return null},
SP:function(a){var c=this.Fn(),d=this.it(),e=this.Yi,f=this.Xa.u,g=f.x,h=f.y;if(e===q.Gu||e===q.so)g=Math.max(g,c.x),g=Math.min(g,d.x);if(e==q.Gu||e==q.Gq)h=Math.min(h,d.y),h=Math.max(h,c.y);h==f.y&&g==f.x||this.Vl(q.a(g,h),a)},oA:function(){if(this.Zi)this.Nc(this.oA);else{var a,c;a=this.Xa.u;var d=this.$r;this.Xa.l(a.x+d.x,a.y+d.y);this.Wq?(a=this.Yv,c=this.aw):(a=this.it(),c=this.Fn());var e=this.Xa.u.I,f=this.Xa.u.T;d.x*=.95;d.y*=.95;this.Vl(q.a(e,f));if(1>=Math.abs(d.x)&&1>=Math.abs(d.y)||f>
a.y||f<c.y||e>a.x||e<c.x||e==a.x||e==c.x||f==a.y||f==c.y)this.Nc(this.oA),this.SP(!0)}},eB:function(){this.Zi&&this.Nc(this.eB)},QQ:function(){this.Nc(this.eB)},dG:function(a){if(this.Zq){this.zB=!1;var c=this.NA(),d=q.ra.g(),e=this.va,f=this.Da;a=a||q.da;if(q.Wd===q.wg)c=this.ti.width*e*d.va,d=this.ti.height*f*d.Da,a.beginPath(),a.rect(0,0,c,-d),a.clip(),a.closePath();else if(d=q.ra.g(),d.EU()){if(this.zB=!0,this.Vr=d.BT(),q.SV(c,this.Vr)){var g=this.Vr;a=Math.max(c.x,g.x);f=Math.max(c.y,g.y);e=
Math.min(c.x+c.width,g.x+g.width);c=Math.min(c.y+c.height,g.y+g.height);d.iE(a,f,e-a,c-f)}}else a.enable(a.SCISSOR_TEST),d.iE(c.x,c.y,c.width,c.height)}},bG:function(a){this.Zq&&q.Wd===q.Ok&&(this.zB?(a=this.Vr,q.ra.g().iE(a.x,a.y,a.width,a.height)):(a=a||q.da,a.disable(a.SCISSOR_TEST)))},l1:function(){},NA:function(){for(var a=this.vl(q.Lj()),c=this.ti,d=this.va,e=this.Da,f=this.ca;null!=f;f=f.getParent())d*=f.va,e*=f.Da;0>d&&(a.x+=c.width*d,d=-d);0>e&&(a.y+=c.height*e,e=-e);f=this.tH;f.x=a.x;f.y=
a.y;f.width=c.width*d;f.height=c.height*e;return f}});q.$h.create=function(a,c){var d=new q.$h;if(2==arguments.length){if(d&&d.eq(a,c))return d}else if(d&&d.A())return d;return null};q.PN=q.Pa.extend({Xx:function(){},Bi:function(){return 0}});q.QN=q.PN.extend({$A:0,ctor:function(){this.$A=0},Xx:function(a){this.$A=a},Bi:function(){return this.$A}});function ga(a,c){return a.Bi()-c.Bi()}
q.Jy=q.Pa.extend({Bh:null,ctor:function(){this.Bh=[]},CJ:function(a){if(!a)throw"cc.ArrayForObjectSorting.insertSortedObject(): addObject should be non-null.";this.uU(a,this.dq(a))},qW:function(a){if(0!=this.count()){var c=this.dq(a);c<this.count()&&c!=q.Ni&&this.Jn(c).Bi()==a.Bi()&&this.RD(c)}},iba:function(a,c){var d=this.dq(c);if(d<this.count()&&d!=q.Ni){var e=this.Jn(d);e.Bi()==c.Bi()&&(this.RD(d),e.Xx(a),this.CJ(e))}},iK:function(a){if(0==this.count())return null;var c=new q.QN;c.Xx(a);var d=
this.dq(c);d<this.count()&&d!=q.Ni&&(c=this.Jn(d),c.Bi()!=a&&(c=null));return c},J5:function(){return null},dq:function(a){var c=0;if(a){var d=0;a=a.Bi();for(var e=this.Bh,f=0;f<e.length;f++){var g=e[f].Bi();if(a==g||a>=d&&a<g)break;d=g;c++}}else c=q.Ni;return c},count:function(){return this.Bh.length},U8:function(){var a=this.Bh;return 0==a.length?null:a[a.length-1]},Jn:function(a){return this.Bh[a]},WH:function(a){this.Bh.push(a);this.Bh.sort(ga)},RD:function(a){q.yq(this.Bh,a);this.Bh.sort(ga)},
uU:function(a,c){this.Bh=q.km(this.Bh,a,c);this.Bh.sort(ga)}});q.JF=0;q.SN=1;q.y0=q.Node.extend({ck:0,j5:function(){return this.ck},oX:function(a){this.ck=a},reset:function(){this.ck=q.Ni},Xx:function(a){this.ck=a},Bi:function(){return this.ck}});q.A0=q.ON.extend({Lca:function(){},Kca:function(){},Mca:function(){},Nca:function(){}});q.z0=q.Pa.extend({CY:function(a){return this.NR(a)},NR:function(){return q.LN},Jca:function(){return null},x9:function(){return 0}});
q.RF=q.$h.extend({Gp:null,Ld:null,Ko:null,nA:null,WB:null,ew:null,nv:null,nk:null,ctor:function(){q.$h.prototype.ctor.call(this);this.ew=q.FF;this.nv=[]},gO:function(a){var c=0,d=-1;switch(this.Yi){case q.so:a=a.x;break;default:a=a.y}for(var e=this.nv;d>=c;){var f=0|c+(d-c)/2,g=e[f],h=e[f+1];if(a>=g&&a<=h)return f;a<g?d=f-1:c=f+1}return 0>=c?0:-1},eP:function(a){a={x:a.x,y:a.y};this.Gp===q.JF&&(a.y=this.Xa.c().height-a.y);a=this.gO(a);-1!=a&&(a=Math.max(0,a),-1<a&&(a=q.Ni));return a},hO:function(a){switch(this.Yi){case q.so:a=
q.a(this.nv[a],0);break;default:a=q.a(0,this.nv[a])}return a},HP:function(a){var c=this.hO(a);a=this.nA.CY(this,a);this.Gp===q.JF&&(c.y=this.Xa.c().height-c.y-a.height);return c},I1:function(){},$B:function(){var a=q.rm();this.N(a);this.ew!=this.Yi&&(this.Yi==q.so?this.Vl(q.a(0,0)):this.Vl(q.a(0,this.Fn().y)),this.ew=this.Yi)},QG:function(a){this.Ko.WH(a);this.Uk.qW(a);q.oe(this.Ld,a.ck);a.reset();a.getParent()==this.Xa&&this.Xa.removeChild(a,!0)},ow:function(a,c){c.w(0,0);c.l(this.HP(a));c.oX(a)},
$F:function(a){a.getParent()!=this.Xa&&this.Xa.f(a);this.Uk.CJ(a);var c=this.Ld;a=a.ck;-1==c.indexOf(a)&&(c.push(a),c.sort(function(a,c){return a-c}))},F4:function(){return this.nA},eX:function(a){this.nA=a},Bc:function(){return this.WB},qg:function(a){this.WB=a},bca:function(a){this.Gp!=a&&(this.Gp=a,0<this.Uk.count()&&this.QD())},m7:function(){return this.Gp},eq:function(a,c){return q.$h.prototype.eq.call(this,a,c)?(this.Uk=new q.Jy,this.Ko=new q.Jy,this.Ld=[],this.WB=null,this.Gp=q.SN,this.WK(q.Gq),
q.$h.prototype.qg.call(this,this),!0):!1},fda:function(a){if(!(a==q.Ni||-1<a)){var c=this.wC(a);c&&this.QG(c);c=null;this.ow(a,c);this.$F(c)}},N7:function(a){if(!(a==q.Ni||-1<a)){var c,d=this.Uk;if(c=d.iK(a))for(var e=c=d.dq(c);e<d.count();e++)c=d.Jn(e),this.ow(c.ck+1,c);c=null;this.ow(a,c);this.$F(c);this.$B()}},I$:function(a){if(!(a==q.Ni||-1<a)){var c=this.wC(a);if(c){var d=this.Uk,e=d.dq(c);this.QG(c);q.oe(this.Ld,a);for(a=d.count()-1;a>e;a--)c=d.Jn(a),this.ow(c.ck-1,c)}}},QD:function(){this.ew=
q.FF;for(var a=this.Uk,c=this.Ko,d=this.Xa,e=0,f=a.count();e<f;e++){var g=a.Jn(e);c.WH(g);g.reset();g.getParent()==d&&d.removeChild(g,!0)}this.Ld=[];this.Uk=new q.Jy;this.$B()},g3:function(){if(0===this.Ko.count())return null;var a=this.Ko.Jn(0);this.Ko.RD(0);return a},wC:function(a){return-1==this.Ld.indexOf(a)?null:this.Uk.iK(a)},LW:function(){},MW:function(){},bh:function(a,c){if(this.ya){if(this.nk){var d=this.pb();d.hd=this.ca.vl(d.origin);this.nk=null}q.$h.prototype.bh.call(this,a,c)}},ub:function(a,
c){if(!this.ya)return!1;var d=q.$h.prototype.ub.call(this,a,c);if(1===this.Gh.length){var e;e=this.Xa.vi(a);e=this.eP(e);this.nk=e===q.Ni?null:this.wC(e)}else this.nk&&(this.nk=null);return d},Td:function(a,c){q.$h.prototype.Td.call(this,a,c);this.nk&&this.Fh&&(this.nk=null)},Ck:function(a,c){q.$h.prototype.Ck.call(this,a,c);this.nk&&(this.nk=null)}});q.RF.create=function(a,c,d){var e=new q.RF;e.eq(c,d);e.eX(a);e.$B();return e};q.uc={};q.uc.UH=function(a){for(var c in q.uc.methods)a[c]=q.uc.methods[c]};
q.uc.methods={l:function(a,c){2==arguments.length?(this.u.I=a,this.u.T=c):(this.u.I=a.x,this.u.T=a.y);this.fb();this.ga.HE(this.u.I,-this.u.T)},xc:function(a){this.u.T=a;this.fb();this.ga.HE(this.u.I,-this.u.T)},Oa:function(a){this.u.I=a;this.fb();this.ga.HE(this.u.I,-this.u.T)},Ek:function(a,c){this.va=a;this.Da=c||a;this.fb();this.ga.resize(this.va,this.Da)},pq:function(a){this.va=a;this.fb();this.ga.resize(this.va,this.Da)},Wn:function(a){this.Da=a;this.fb();this.ga.resize(this.va,this.Da)},w:function(a,
c){var d=this.wm;if(2===arguments.length){if(a===d.I&&c===d.T)return;d.I=a;d.T=c}else{if(a.x===d.I&&a.y===d.T)return;d.I=a.x;d.T=a.y}var e=this.Hd,f=this.Ca;e.I=f.Ha*d.I;e.T=f.xa*d.T;this.ga.style[q.Vb.Kn+"TransformOrigin"]=""+e.I+"px "+-e.T+"px";this.dk?(this.ga.style.marginLeft=0,this.ga.style.marginBottom=0):(this.ga.style.marginLeft=this.HU?0:-e.I+"px",this.ga.style.marginBottom=-e.T+"px");this.fb()},It:function(){var a=this.Hd;this.ga.style[q.Vb.Kn+"TransformOrigin"]=""+a.I+"px "+-a.T+"px";this.dk?
(this.ga.style.marginLeft=0,this.ga.style.marginBottom=0):(this.ga.style.marginLeft=this.HU?0:-a.I+"px",this.ga.style.marginBottom=-a.T+"px")},N:function(a,c){var d=this.Ca;if(2===arguments.length){if(a===d.Ha&&c===d.xa)return;d.Ha=a;d.xa=c}else{if(a.width===d.Ha&&a.height===d.xa)return;d.Ha=a.width;d.xa=a.height}var e=this.Hd,f=this.wm;e.I=d.Ha*f.I;e.T=d.xa*f.T;this.ga.width=d.Ha;this.ga.height=d.xa;this.It();this.canvas&&(this.canvas.width=d.Ha,this.canvas.height=d.xa);this.fb();this.UV()},ay:function(a){this.gQ!=
a&&(this.Lg=this.li=a,this.Sm=Math.PI/180*this.Lg,this.Zr=Math.PI/180*this.li,this.fb(),this.ga.rotate(a))},dy:function(a){this.Ee=a;this.fb();this.ga.wL(this.Ee,this.Fe)},ey:function(a){this.Fe=a;this.fb();this.ga.wL(this.Ee,this.Fe)},B:function(a){this.ya=a;this.fb();this.ga&&(this.ga.style.display=a?"block":"none")},qw:function(a){this.ob=a;this.fb();this.ga&&(this.ga.zIndex=a)},st:function(a){this.ca=a;null!==a&&(a.It(),this.fb(),q.uc.Jx(this))},Qx:function(){this.Mf().Rn(this);this.ig().Rn(this);
this.ga&&!this.ga.parentNode&&(this.getParent()?q.uc.Jx(this):this.ga.sn(q.tk));this.ga&&(this.ga.style.visibility="visible")},Kx:function(){this.Mf().jt(this);this.ig().jt(this);this.ga&&(this.ga.style.visibility="hidden")},hg:function(){this.yE();this.Et();this.Cg(this.D,q.Node.Uf.hg);this.ga&&this.ga.remove()},mW:function(){this.ga.remove()},ta:function(a){this.fj=a;this.ga.style.opacity=a/255},UV:function(){if(this.OJ){var a=this.D;this.D=[];q.v.prototype.Ba.call(this,this.Op);this.D=a}else q.v.prototype.Ba.call(this,
this.Op)}};q.uc.cQ=function(){var a=q.Vb("#EGLViewDiv");if(a){var c=q.ra.g(),d=c.Sp(),e=c.nf,f=c.wn(),g=d.width,h=d.height;0===d.width&&0===d.height&&(g=f.width,h=f.height);var d=e.Ya.width,k=e.Ya.height;0===e.Ya.width&&0===e.Ya.height&&(d=f.width,k=f.height);a.style.position="absolute";a.style.width=g+"px";a.style.maxHeight=h+"px";a.style.margin=0;a.resize(c.va,c.Da);a.style.left=d<f.width?(d-g)/2+(f.width-d)/2+"px":(d-g)/2+"px";a.style.bottom=k<f.height?(f.height-k)/2+"px":"0px"}};
q.uc.Jx=function(a){var c=a.getParent();if(c&&a.ga)if(c.ga||(q.uc.zV(c),c.st=q.uc.methods.st),a.ga.sn(c.ga),c.It(),c.getParent())q.uc.Jx(c);else if(c.ff)if(a=q.Vb("#EGLViewDiv"))c.ga.sn(a);else{a=q.Hk("div");a.id="EGLViewDiv";var d=q.ra.g(),e=d.Sp(),f=d.nf,g=d.wn(),h=e.width,k=e.height;0===e.width&&0===e.height&&(h=g.width,k=g.height);var e=f.Ya.width,l=f.Ya.height;0===f.Ya.width&&0===f.Ya.height&&(e=g.width,l=g.height);a.style.position="absolute";a.style.width=h+"px";a.style.maxHeight=k+"px";a.style.margin=
0;a.resize(d.va,d.Da);a.style.left=e<g.width?(e-h)/2+(g.width-e)/2+"px":(e-h)/2+"px";a.style.bottom=l<g.height?(g.height-l)/2+"px":"0px";c.ga.sn(a);a.sn(q.tk)}};q.uc.setTransform=function(a){if(a.Op)if(a.Op.translate(a.Hd.x,a.Hd.y),a.OJ){var c=a.D;a.D=[];q.v.prototype.Ba.call(a,a.Op);a.D=c}else q.v.prototype.Ba.call(a,a.Op);a.ga&&(a.ga.position.x=a.u.x,a.ga.position.y=-a.u.y,a.ga.rotation=a.yT(),a.ga.scale={x:a.va,y:a.Da},a.ga.$l={x:a.Ee,y:a.Fe},a.It&&a.It(),a.ga.bo())};
q.uc.YS=function(a){a.ga=q.Hk("div");a.canvas=q.Hk("canvas");var c=a.c();a.canvas.width=c.width;a.canvas.height=c.height;a.ga.style.position="absolute";a.ga.style.bottom=0;a.Op=a.canvas.getContext("2d");a.ga.appendChild(a.canvas);a.getParent()&&q.uc.Jx(a);a.OJ=!0};
q.uc.zV=function(a){a.ga=q.Hk("div");a.placeholder=!0;a.ga.style.position="absolute";a.ga.style.bottom=0;a.ga.style.width=(a.c().width||q.ea.g().fc.width)+"px";a.ga.style.maxHeight=(a.c().height||q.ea.g().fc.height)+"px";a.ga.style.margin=0;q.uc.setTransform(a);a.ga.bo();q.uc.UH(a)};
q.uc.Ks=function(a){if(1<arguments.length)q.uc.Ks(arguments);else if(1!=arguments.length||arguments[0].length)for(var c=arguments[0],d=0;d<c.length;d++)c[d]instanceof q.v?c[d].ga||q.uc.YS(c[d]):q.log("DOM converter only supports sprite and menuitems yet"),q.uc.UH(c[d]),c[d].Ba=function(){},c[d].transform=function(){},q.uc.setTransform(c[d]),c[d].B(c[d].ya);else q.uc.Ks([arguments[0]])};q.fz=0;q.l_=1;q.o_=2;q.n_=3;q.m_=4;q.Xy=0;q.QZ=1;q.RZ=2;q.SZ=3;q.UZ=4;q.PZ=5;q.TZ=6;q.Vy=0;q.Wy=1;q.OZ=2;q.NZ=3;q.MZ=4;q.XZ=q.Pa.extend({yl:function(){},zl:function(){},xi:function(){},v3:function(){}});
q.lo=q.Xh.extend({Xb:null,Ea:null,qr:q.Xy,pr:q.Wy,Lr:q.fz,rH:"",Fb:"",eg:null,Be:null,fl:50,Sq:18,O:null,xe:14,di:"Arial",gi:"",bg:14,ee:"",Gg:!0,uH:!1,eH:0,ctor:function(a){function c(){this.focus()}function d(){e.Ea&&e.Ea.xi&&(e.Gg?e.Ea.xi(e,this.value):(e.Ea.xi(e,e.ee),this.value=" "))}q.Xh.prototype.ctor.call(this);this.eg=q.Db();this.Be=q.Dl();this.N(a);this.Xb=new q.v;this.Xb.Za=function(){};this.f(this.Xb);var e=this;this.O=document.createElement("input");this.O.type="text";this.O.style.fontSize=
this.xe+"px";this.O.style.color="#000000";this.O.style.border=0;this.O["vertical-align"]="middle";this.O.style.background="transparent";this.O.style.width="100%";this.O.style.height="100%";this.O.style.NH=0;this.O.style.outline="medium";this.O.attachEvent?(this.O.attachEvent("oninput",d),this.O.attachEvent("onclick",c)):(this.O.addEventListener("input",d),this.O.addEventListener("click",c,!1));this.O.addEventListener("keypress",function(a){var c="number"==typeof a.which?a.which:a.keyCode;a.stopPropagation();
c===q.Eq.JC?(a.preventDefault(),q.canvas.focus()):e.Gg||c===q.Eq.cI||(e.ee+=String.fromCharCode(c),e.Ea.xi(e,e.ee))});this.O.addEventListener("keydown",function(a){a.stopPropagation();!e.Gg&&("number"==typeof a.which?a.which:a.keyCode)===q.Eq.cI&&0<e.ee.length&&(e.ee=e.ee.substring(0,e.ee.length-1),e.Ea.xi(e,e.ee))});this.O.addEventListener("focus",function(){e.Gg?this.value==e.Fb&&(this.value="",this.style.fontSize=e.xe+"px",this.style.color=q.Qc(e.eg)):(this.style.position="absolute",this.eH=this.style.top,
this.style.top="-1000000px",e.ee==e.Fb&&(e.ee="",this.value="                                                 "));e.Ea&&e.Ea.yl&&e.Ea.yl(e)});this.O.addEventListener("blur",function(){e.Gg?""==this.value&&(this.value=e.Fb,this.style.fontSize=e.bg+"px",this.style.color=q.Qc(e.Be)):(this.style.position="relative",this.style.top=this.eH,""==e.ee&&(this.value=" ",e.ee=e.Fb));e.Ea&&e.Ea.zl&&e.Ea.zl(e)});q.uc.Ks(this.Xb);this.Xb.ga.appendChild(this.O);this.Xb.ga.QL=!1;this.Xb.ga.style.width=a.width-6+"px";
this.Xb.ga.style.height=a.height-6+"px";this.Xb.canvas.remove()},aL:function(a,c){this.xe=c;this.di=a;this.oi()},fE:function(a){this.di=a;this.oi()},Vx:function(a){this.xe=a;this.oi()},oi:function(){this.Gg&&this.O.value!=this.Fb&&(this.O.style.fontFamily=this.di,this.O.style.fontSize=this.xe+"px")},me:function(a){null!=a&&(""==a?this.Gg?(this.O.value=this.Fb,this.O.style.color=q.Qc(this.Be)):(this.O.value=" ",this.ee=this.Fb):this.Gg?(this.O.value=a,this.O.style.color=q.Qc(this.eg)):this.ee=a)},
dE:function(a){this.Gg&&(this.eg=a,this.O.value!=this.Fb&&(this.O.style.color=q.Qc(a)))},gL:function(a){!isNaN(a)&&0<a&&(this.fl=a,this.O.maxLength=a)},YI:function(){return this.fl},kL:function(a){if(null!=a){var c=this.Fb;this.Fb=a;this.Gg?this.O.value==c&&(this.O.value=a,this.O.style.color=q.Qc(this.Be),this.Gf()):this.ee==c&&(this.ee=a,this.O.value=" ",this.Gf())}},lL:function(a,c){this.gi=a;this.bg=c;this.Gf()},nL:function(a){this.gi=a;this.Gf()},oL:function(a){this.bg=a;this.Gf()},Gf:function(){this.Gg&&
this.O.value==this.Fb&&(this.O.style.fontFamily=this.gi,this.O.style.fontSize=this.bg+"px")},mL:function(a){this.Gg&&(this.Be=a,this.O.value==this.Fb&&(this.O.style.color=q.Qc(a)))},mq:function(a){this.pr=a;this.O.type=a==q.Vy?"password":"text"},Y:function(){return this.Gg?this.O.value:this.ee},ct:function(a,c){return this.ox(c)?(this.Xb.l(3,3),this.tE(!1),this.Ji(a),this.l(0,0),this.fv(this,this.Ct,q.Pt),!0):!1},qg:function(a){this.Ea=a},bJ:function(){return this.Fb},eL:function(a){this.qr=a},sL:function(a){this.Lr=
a},UJ:function(a){var c=q.lo.sd(this);c.y-=4;c.DJ(a.end)?this.Sq=a.end.ZI()-c.$I():q.log("needn't to adjust view layout.")},SJ:function(){},TJ:function(){},RJ:function(){},Ct:function(){},uJ:function(a,c){this.or=a.width;this.ga.style.width=this.or.toString()+"px";this.nr=a.height;this.ga.style.height=this.nr.toString()+"px";this.ga.style.backgroundColor=q.Qc(c)}});q.lo.sd=function(a){var c=a.c(),c=q.rect(0,0,c.width,c.height);return q.Tf(c,a.In())};
q.lo.create=function(a,c,d,e){var f=new q.lo(a);c instanceof q.Jc?f.nt(c):f.ct(a,c)&&(d&&f.Tl(d,q.Rt),e&&f.Tl(e,q.Qt));return f};if(!ka)var ka={};
ka.EN={GENERAL:"ISSECTION","Project Name":"Powder Engine Testbed","Version Number":"0.8",LOGIN:"ISSECTION","Auto Login Next":"Auto login next time.","Save Login Cred":"Remember Login","Play Button Text":"Play","Register Button Text":"Register","Back From Reg Button Text":"Go Back","Reg Confirm Button Text":"Register","System Message":"Accounts are culled daily 00:00 and on software git updates.","Credit Button Text":"Credits","News Button Text":"News","Login Message":"This game saves data automatically.","Offline Server":"Server:Offline",
"Online Server":"Server:Online","Offline Server Message":"Server is offline!","User Pass Empty":"Please enter a User and Password","Incorrect Email Format":"Please use a correct email address.","Registering Message":"Registering please wait...","Register Empty Fields":"Please fill all fields.","Registration Success":"Registration Successful","Username Label":"Username","Password Label":"Password","Eail Label":"Email Address","Register User Taken":"Registration failed, user already exists.","Logging In Message":"Logging In",
CHATBAR:"ISSECTION","Welcome Message":"powderengine.net or /help for some help.","Join Message":"<PLAYER> has joined the game!","Leave Message":"<PLAYER> has left the game!","Default ChatBar Message":"C to popup/dismiss, enter for chat. Say /help for help.",ITEMS:"ISSECTION","Item Dropdown Pick Up":"Pick up <ITEM>","Item Dropdown Walk To":"Walk to <ITEM>","Item Pick Up":"Picked up <ITEM>.","Item Dropped":"Dropped <ITEM>.","Item Out-of-range":"<ITEM> is too far away to pick up!","Item Dropdown Examine":"Examine <ITEM>",
"Item Dropdown Equip":"Equip <ITEM>","Item Dropdown Read":"Read <ITEM>","Item Dropdown Eat":"Eat <ITEM>","Item Dropdown Use":"Use <ITEM>","Item Dropdown Unequip":"Unequip <ITEM>","Item Dropdown Drop":"Drop <ITEM>","Inventory Full":"Your inventory is full",NPCS:"ISSECTION","NPC Dropdown Examine":"Examine","NPC Dropdown Attack":"Attack","NPC Dropdown Talk":"Talk To <NPC>","NPC Dropdown Walk To":"Walk To <NPC>","NPC Dropdown Follow":"Follow","NPC Dropdown Trade":"Trade","NPC Dropdown Bank":"Open Bank",
"NPC Out-of-range":"<NPC> is too far away!",SIGNS:"ISSECTION","Sign Dropdown list Read":"Read sign <SIGN>","Sign Out-of-range":"<SIGN> is too far away to read!",PANELS:"ISSECTION","Equipment Header":"Equipment","Bank Header":"Bank","Shop Header":"Shop","Inventory Header":"Inventory","Skills Header":"Skills","Quest Header":"Quest Log","No Quests":"There are no quests to show.",COMMANDS:"ISSECTION","/dance":"<PLAYER> danced the dance of his people.","/diceroll":"<PLAYER> threw a dice and got <VALUE>",
"/coinflip":"<PLAYER> flipped a coin and got <VALUE>","Help Text":"-------HELP------\n- Press C to expand the chat, I for Inventory\n- Space to grab Items and E for Equipment.\n- Enter /commands for command list\n-------------------","Command Text":"Commands: /editskill, /editsign, /editnpc,/editmap,/editwarp,/edititem,/whereami,/dance,/coinflip,/diceroll,/warpmeto map x y"};ka||(ka={});
ka.CZ={GENERAL:"ISSECTION","Project Name":"Powder Engine Testbed","Version Number":"0.8",LOGIN:"ISSECTION","Auto Login Next":"Automaticky pihlaovat.","Save Login Cred":"Pamatovat Login","Play Button Text":"Hrt","Register Button Text":"Registrovat","Back From Reg Button Text":"Jt zpt","Reg Confirm Button Text":"Registrovat","System Message":"ty jsou automaticky mazny denn v 00:00 a v software git updatech.","Credit Button Text":"Credits","News Button Text":"Novinky","Login Message":"Tato hra ukld data automaticky.","Offline Server":"Server:Offline",
"Online Server":"Server:Online","Offline Server Message":"Server je offline!","User Pass Empty":"Prosme vlote Jmno a Heslo","Incorrect Email Format":"Prosme pouijte platnou emailovou adresu.","Registering Message":"Registrovn. Prosme, pokejte...","Register Empty Fields":"Vyplte prosm vechny pole.","Registration Success":"Registrace spn","Username Label":"Pihlaovac jmno","Password Label":"Heslo","Eail Label":"Emailov Adresa","Register User Taken":"Registrace selhala, uivatel ji existuje.",
"Logging In Message":"Pihlaovn...",CHATBAR:"ISSECTION","Welcome Message":"Vtejte do Powder Engine! Napite /help pro pomocn pkazy.","Join Message":"<PLAYER> se pidal/a do hry!","Leave Message":"<PLAYER> opustil/a hru!","Default ChatBar Message":"C pro zvten/zmenen, enter pro chatovn. Napite /help pro pomoc.",ITEMS:"ISSECTION","Item Dropdown Pick Up":"Sebrat <ITEM>","Item Dropdown Walk To":"Pejt k <ITEM>","Item Pick Up":"Sebrno <ITEM>.","Item Dropped":"Odloeno <ITEM>.","Item Out-of-range":"<ITEM> je pli daleko ke zvednut!",
"Item Dropdown Examine":"Prozkoumat <ITEM>","Item Dropdown Equip":"Nasadit <ITEM>","Item Dropdown Read":"Pest <ITEM>","Item Dropdown Eat":"Snst <ITEM>","Item Dropdown Use":"Pout <ITEM>","Item Dropdown Unequip":"Svlknout <ITEM>","Item Dropdown Drop":"Odhodit <ITEM>","Inventory Full":"V invent je pln!",NPCS:"ISSECTION","NPC Dropdown Examine":"Prozkoumat","NPC Dropdown Attack":"tok","NPC Dropdown Talk":"Promluvit s <NPC>","NPC Dropdown Walk To":"Pejt k <NPC>","NPC Dropdown Follow":"Nsledovat",
"NPC Dropdown Trade":"Obchodovat","NPC Dropdown Bank":"Otevt banku","NPC Out-of-range":"<NPC> je pli daleko!",SIGNS:"ISSECTION","Sign Dropdown list Read":"Pest ceduli <SIGN>","Sign Out-of-range":"<SIGN> je pli daleko k peten!",PANELS:"ISSECTION","Equipment Header":"Vybaven","Bank Header":"Banka","Shop Header":"Obchod","Inventory Header":"Invent","Skills Header":"Seznam schopnost","Quest Header":"Quest Log","No Quests":"There are no quests to show.",COMMANDS:"ISSECTION","/dance":"<PLAYER> zatancoval tanec jeho kmene.",
"/diceroll":"<PLAYER> hodil kostkou a dostal <VALUE>","/coinflip":"<PLAYER> hodil minc a dostal <VALUE>","Help Text":"-------HELP------\n- Stisknte C ke zvten chatu, I pro Invent\n- Mezernk k sebrn pedmtu a E pro Vbavu.\n- Napite /commands pro seznam pkaz\n-------------------","Command Text":"Pkazy: /editskill, /editsign, /editnpc,/editmap,/editwarp,/edititem,/whereami,/dance,/coinflip,/diceroll,/warpmeto map x y"};ka||(ka={});
ka.LA={GENERAL:"ISSECTION","Project Name":"Powder Engine Testbed","Version Number":"0.705",LOGIN:"ISSECTION","Auto Login Next":"Auto login next time.","Save Login Cred":"Remember Login","Play Button Text":"Play","Register Button Text":"Register","Back From Reg Button Text":"Go Back","Reg Confirm Button Text":"Register","System Message":"Accounts are culled daily 00:00 and on software git updates.","Credit Button Text":"Credits","News Button Text":"News","Login Message":"This game saves data automatically.","Offline Server":"Server:Offline",
"Online Server":"Server:Online","Offline Server Message":"Server is offline!","User Pass Empty":"Please enter a User and Password","Incorrect Email Format":"Please use a correct email address.","Registering Message":"Registering please wait...","Register Empty Fields":"Please fill all fields.","Registration Success":"Registration Successful","Username Label":"Username","Password Label":"Password","Eail Label":"Email Address","Register User Taken":"Registration failed, user already exists.","Logging In Message":"Logging In",
CHATBAR:"ISSECTION","Welcome Message":"Gratior Powder Engine! Intra /help enim auxilium.","Join Message":"<PLAYER> Coninguit ludo!","Leave Message":"<PLAYER> Discessiit ludo!","Default ChatBar Message":"C explodere/dimittere, enter enim colloquium. Dice /help enim iuva.",ITEMS:"ISSECTION","Item Dropdown Pick Up":"Elege <ITEM>","Item Dropdown Walk To":"Ambula ad <ITEM>","Item Pick Up":"Elegit super <ITEM>.","Item Dropped":"Roravit <ITEM>.","Item Out-of-range":"<ITEM> est nimis procul elegere super!",
"Item Dropdown Examine":"vide <ITEM>","Item Dropdown Equip":"Apte <ITEM>","Item Dropdown Read":"Lege <ITEM>","Item Dropdown Eat":"Cena <ITEM>","Item Dropdown Use":"Face <ITEM>","Item Dropdown Unequip":"Aufer <ITEM>","Item Dropdown Drop":"Pone <ITEM>","Inventory Full":"Tuus inventarium est plenum",NPCS:"ISSECTION","NPC Dropdown Examine":"Vide","NPC Dropdown Attack":"Oppugne","NPC Dropdown Talk":"Dice <NPC>","NPC Dropdown Walk To":"Ambula ad <NPC>","NPC Dropdown Follow":"Immine","NPC Dropdown Trade":"Eme",
"NPC Dropdown Bank":"Pateface Ripa","NPC Out-of-range":"<NPC> est nimis procul!",SIGNS:"ISSECTION","Sign Dropdown list Read":"Lege signum <SIGN>","Sign Out-of-range":"<SIGN> est nimis procul legere!",PANELS:"ISSECTION","Equipment Header":"Armorum","Bank Header":"Ripa","Shop Header":"Taberna","Inventory Header":"Inventarium","Skills Header":"Peritia index","Quest Header":"Investigatio stipes","No Quests":"There are no quests to show.",COMMANDS:"ISSECTION","/dance":"<PLAYER> Ballavit ballar populo.",
"/diceroll":"<PLAYER> Misit aleam et accepit <VALUE>","/coinflip":"<PLAYER> Vertit numismam et accepit <VALUE>","Help Text":"-------HELP------\n- Urge C expandere colloquium, I enim Inventarum\n- Space captere Itema et E enim Armorum.\n- Enter /Imperia enim imperium index\n-------------------","Command Text":"Imperia: /editskill, /editsign, /editnpc,/editmap,/editwarp,/edititem,/whereami,/dance,/coinflip,/diceroll,/warpmeto map x y"};SingleLineBox=q.Xh.extend({Xb:null,Ea:null,qr:q.Xy,pr:q.Wy,Lr:q.fz,rH:"",Fb:"",eg:null,Be:null,fl:50,Sq:18,O:null,xe:14,di:"Arial",rr:!1,gi:"",bg:14,uH:!1,ctor:function(a){q.Xh.prototype.ctor.call(this);this.rr=!1;this.eg=q.Db();this.Be=q.Dl();this.N(a);this.Xb=new q.v;this.Xb.Za=function(){};this.f(this.Xb);var c=this;this.O=document.createElement("input");this.O.type="text";this.O.style.fontSize=this.xe+"px";this.O.style.color="#000000";this.O.style.border=0;this.O.style.background="transparent";
this.O.style.width="100%";this.O.style.height="100%";this.O.style.NH=0;this.O.style.outline="medium";this.O.addEventListener("input",function(){c.Ea&&c.Ea.xi&&c.Ea.xi(c,this.value)});this.O.addEventListener("keyup",function(a){a.keyCode===q.Eq.JC&&0==c.rr&&(a.stopPropagation(),a.preventDefault(),q.canvas.focus())});this.O.addEventListener("focus",function(){this.value==c.Fb&&(this.value="",this.style.fontSize=c.xe+"px",this.style.color=q.Qc(c.eg));c.Ea&&c.Ea.yl&&c.Ea.yl(c)});this.O.addEventListener("blur",
function(){""==this.value&&(this.value=c.Fb,this.style.fontSize=c.bg+"px",this.style.color=q.Qc(c.Be));c.Ea&&c.Ea.zl&&c.Ea.zl(c)});q.uc.Ks(this.Xb);this.Xb.ga.appendChild(this.O);this.Xb.ga.QL=!1;this.Xb.ga.style.width=a.width-6+"px";this.Xb.ga.style.height=a.height-6+"px";this.Xb.canvas.remove()},aL:function(a,c){this.xe=c;this.di=a;this.oi()},cY:function(){},fE:function(a){this.di=a;this.oi()},Vx:function(a){this.xe=a;this.oi()},oi:function(){this.O.value!=this.Fb&&(this.O.style.fontFamily=this.di,
this.O.style.fontSize=this.xe+"px")},me:function(a){null!=a&&(""==a?(this.O.value=this.Fb,this.O.style.color=q.Qc(this.Be)):(this.O.value=a,this.O.style.color=q.Qc(this.eg)))},dE:function(a){this.eg=a;this.O.value!=this.Fb&&(this.O.style.color=q.Qc(a))},gL:function(a){!isNaN(a)&&0<a&&(this.fl=a,this.O.maxLength=a)},YI:function(){return this.fl},kL:function(a){if(null!=a){var c=this.Fb;this.Fb=a;this.O.value==c&&(this.O.value=a,this.O.style.color=q.Qc(this.Be),this.Gf())}},lL:function(a,c){this.gi=
a;this.bg=c;this.Gf()},nL:function(a){this.gi=a;this.Gf()},oL:function(a){this.bg=a;this.Gf()},Gf:function(){this.O.value==this.Fb&&(this.O.style.fontFamily=this.gi,this.O.style.fontSize=this.bg+"px")},mL:function(a){this.Be=a;this.O.value==this.Fb&&(this.O.style.color=q.Qc(a))},mq:function(a){this.pr=a;this.O.type=a==q.Vy?"password":"text"},Y:function(){return this.O.value},ct:function(a,c){return this.ox(c)?(this.Xb.l(3,3),this.tE(!1),this.Ji(a),this.l(0,0),this.fv(this,this.Ct,q.Pt),!0):!1},qg:function(a){this.Ea=
a},bJ:function(){return this.Fb},eL:function(a){this.qr=a},sL:function(a){this.Lr=a},UJ:function(a){var c=q.lo.sd(this);c.y-=4;c.DJ(a.end)?this.Sq=a.end.ZI()-c.$I():q.log("needn't to adjust view layout.")},SJ:function(){},TJ:function(){},RJ:function(){},Ct:function(){},nt:function(a){a=la(a.t,a.p,a.o);this.O.style.background=a},uJ:function(a,c){this.or=a.width;this.ga.style.width=this.or.toString()+"px";this.nr=a.height;this.ga.style.height=this.nr.toString()+"px";this.ga.style.backgroundColor=q.Qc(c)}});
SingleLineBox.sd=function(a){var c=a.c(),c=q.rect(0,0,c.width,c.height);return q.Tf(c,a.In())};SingleLineBox.create=function(a,c,d,e){var f=new SingleLineBox(a);c instanceof q.Jc?f.nt(c):f.ct(a,c)&&(d&&f.Tl(d,q.Rt),e&&f.Tl(e,q.Qt));return f};MultiLineBox=q.Xh.extend({Xb:null,Ea:null,qr:q.Xy,pr:q.Wy,Lr:q.fz,rH:"",Fb:"",eg:null,Be:null,fl:50,Sq:18,O:null,xe:14,di:"Arial",rr:!1,gi:"",bg:14,uH:!1,ctor:function(a){q.Xh.prototype.ctor.call(this);this.rr=!1;this.eg=q.Db();this.Be=q.Dl();this.N(a);this.Xb=new q.v;this.Xb.Za=function(){};this.f(this.Xb);var c=this;this.O=document.createElement("TEXTAREA");this.O.type="text";this.O.style.fontSize=this.xe+"px";this.O.style.color="#000000";this.O.style.border=0;this.O.style.background="transparent";
this.O.style.width="100%";this.O.style.height="100%";this.O.style.NH=0;this.O.style.outline="medium";this.O.addEventListener("input",function(){c.Ea&&c.Ea.xi&&c.Ea.xi(c,this.value)});this.O.addEventListener("keyup",function(a){a.keyCode===q.Eq.JC&&0==c.rr&&(a.stopPropagation(),a.preventDefault(),q.canvas.focus())});this.O.addEventListener("focus",function(){this.value==c.Fb&&(this.value="",this.style.fontSize=c.xe+"px",this.style.color=q.Qc(c.eg));c.Ea&&c.Ea.yl&&c.Ea.yl(c)});this.O.addEventListener("blur",
function(){""==this.value&&(this.value=c.Fb,this.style.fontSize=c.bg+"px",this.style.color=q.Qc(c.Be));c.Ea&&c.Ea.zl&&c.Ea.zl(c)});q.uc.Ks(this.Xb);this.Xb.ga.appendChild(this.O);this.Xb.ga.QL=!1;this.Xb.ga.style.width=a.width-6+"px";this.Xb.ga.style.height=a.height-6+"px";this.Xb.canvas.remove()},aL:function(a,c){this.xe=c;this.di=a;this.oi()},cY:function(){},fE:function(a){this.di=a;this.oi()},Vx:function(a){this.xe=a;this.oi()},oi:function(){this.O.value!=this.Fb&&(this.O.style.fontFamily=this.di,
this.O.style.fontSize=this.xe+"px")},me:function(a){null!=a&&(""==a?(this.O.value=this.Fb,this.O.style.color=q.Qc(this.Be)):(this.O.value=a,this.O.style.color=q.Qc(this.eg)))},dE:function(a){this.eg=a;this.O.value!=this.Fb&&(this.O.style.color=q.Qc(a))},gL:function(a){!isNaN(a)&&0<a&&(this.fl=a,this.O.maxLength=a)},YI:function(){return this.fl},kL:function(a){if(null!=a){var c=this.Fb;this.Fb=a;this.O.value==c&&(this.O.value=a,this.O.style.color=q.Qc(this.Be),this.Gf())}},lL:function(a,c){this.gi=
a;this.bg=c;this.Gf()},nL:function(a){this.gi=a;this.Gf()},oL:function(a){this.bg=a;this.Gf()},Gf:function(){this.O.value==this.Fb&&(this.O.style.fontFamily=this.gi,this.O.style.fontSize=this.bg+"px")},mL:function(a){this.Be=a;this.O.value==this.Fb&&(this.O.style.color=q.Qc(a))},mq:function(a){this.pr=a;this.O.type=a==q.Vy?"password":"text"},Y:function(){return this.O.value},ct:function(a,c){return this.ox(c)?(this.Xb.l(3,3),this.tE(!1),this.Ji(a),this.l(0,0),this.fv(this,this.Ct,q.Pt),!0):!1},qg:function(a){this.Ea=
a},bJ:function(){return this.Fb},eL:function(a){this.qr=a},sL:function(a){this.Lr=a},UJ:function(a){var c=q.lo.sd(this);c.y-=4;c.DJ(a.end)?this.Sq=a.end.ZI()-c.$I():q.log("needn't to adjust view layout.")},SJ:function(){},TJ:function(){},RJ:function(){},Ct:function(){},nt:function(a){a=la(a.t,a.p,a.o);this.O.style.background=a},uJ:function(a,c){this.or=a.width;this.ga.style.width=this.or.toString()+"px";this.nr=a.height;this.ga.style.height=this.nr.toString()+"px";this.ga.style.backgroundColor=q.Qc(c)}});
MultiLineBox.sd=function(a){var c=a.c(),c=q.rect(0,0,c.width,c.height);return q.Tf(c,a.In())};MultiLineBox.create=function(a,c,d,e){var f=new MultiLineBox(a);c instanceof q.Jc?f.nt(c):f.ct(a,c)&&(d&&f.Tl(d,q.Rt),e&&f.Tl(e,q.Qt));return f};var ma=document.ccConfig,na={},oa=!1,u=[],w=[];q.$d.g().vL(["res/Graphics"]);for(var pa in document.ccConfig.tileSheets)u.push({name:document.ccConfig.tileSheets[pa],texture:q.fa.g().ka(document.ccConfig.tileSheets[pa])});for(pa in document.ccConfig.characterSheets)w.push({name:document.ccConfig.characterSheets[pa],texture:q.fa.g().ka(document.ccConfig.characterSheets[pa])});document.getElementById("gameCanvas").onkeydown=function(a){a.preventDefault();na[a.keyCode]=!0};window.onbeforeunload=function(){z({disconnect:!0})};
window.onfocus=function(){for(var a=[],c=A.length-1;0<=c;c--){var d=JSON.parse(A[c]);d.moveTo&&!a[d.id]?(a[d.id]=!0,d.setTo=1,d.moveTo=null,A[c]=JSON.stringify(d)):d.moveTo&&a[d.id]&&A.splice(c,1)}};var B=q.i(255,255,255,255),qa=q.i(0,255,0,255),ra=q.i(255,0,0,255);
document.getElementById("gameCanvas").onkeyup=function(a){na[a.keyCode]=!1;if(null!=C.g().md){a.stopPropagation();var c=null;switch(a.keyCode){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";
break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a.keyCode&&58>a.keyCode||64<a.keyCode&&91>a.keyCode)&&(c=String.fromCharCode(a.keyCode));null!=c&&C.g().md.Ml(c)}};var sa=!1;document.body.onmousedown=function(){sa=!0};document.body.onmouseup=function(){sa=!1};rememberLoginNextTime=autoLoginNextTime=!1;var D=ka[ma.language];console.log(D);
function E(a,c){return a?(a.PJ&&a.ya||!a.PJ)&&q.vb(q.rect(a.u.I,a.u.T,a.c().width,a.c().height),c):!1}function H(a){if(!a)return null;var c=null;"object"==typeof a&&(c={});a instanceof Array&&(c=[]);for(var d in a)c[d]=a[d]&&("object"==typeof a[d]||a[d]instanceof Array)?H(a[d]):a[d];return c}
isMobile=function(){var a=!1,c=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(c)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(c.substr(0,
4)))a=!0;return a};function ta(){I.Xd(function(){})}function ua(a,c){var d=c?a:a.tc();return ya(d,"panels")}
function ya(a,c,d){if(c=d?d[c]:a[c]){"undefined"!=typeof c.CU?d=za.Ty(c.DY):"undefined"!=typeof c.$?d=q.v.Ja(q.fa.g().ka(c.$)):"undefined"!=typeof c.label?d=q.R.create(c.label,c.font?c.U3:"Arial",c.fontSize?c.fontSize:14):"undefined"!=typeof c.color&&"undefined"!=typeof c.size?(d=q.v.create(),d.ib(q.rect(0,0,c.size.width,c.size.height)),d.w(q.a(0,0))):d=q.Node.create();"undefined"!=typeof c.size&&d.N(Math.floor(c.size.width),Math.floor(c.size.height));"undefined"!=typeof c.position&&d.l(q.a(Math.floor(c.position.x),
Math.floor(c.position.y)));"undefined"!=typeof c.visible&&d.B(c.visible);"undefined"!=typeof c.e&&d.w(c.e);"undefined"!=typeof c.color&&d.q&&(d.q(c.color),c.color.P&&d.ta(c.color.P));"undefined"!=typeof c.opacity&&d.ta(c.opacity);if("undefined"!=typeof c.children)for(var e in c.children)d[e]=ya(a,e,c.children),d[e]&&d.f(d[e]);return d}}
function Aa(a,c,d){a=a[c];"undefined"!=typeof a.size&&d.N(Math.floor(a.size.width),Math.floor(a.size.height));"undefined"!=typeof a.position&&d.l(q.a(Math.floor(a.position.x),Math.floor(a.position.y)));"undefined"!=typeof a.visible&&d.B(a.visible);"undefined"!=typeof a.e&&d.w(a.e);"undefined"!=typeof a.opacity&&d.ta(a.opacity);"undefined"!=typeof a.color&&d.q(a.color);if("undefined"!=typeof a.children)for(var e in a.children)Aa(a.children,e,d[e])}
function Ba(a){a=a.toString(16);return 1==a.length?"0"+a:a}function la(a,c,d){return"#"+Ba(a)+Ba(c)+Ba(d)}var J=null,L=ma.tileSize,Ca=ma.characterSize,M=Math.floor(36),N=Math.floor(36);function Da(){O=q.ra.g().wn();q.size(O.width,O.height);J=q.size(N*L,M*L)}function P(a,c){return parseInt(N*(M-c))+parseInt(a)}function Ea(a,c){var d={},e;for(e in a)d[e]=a[e]+"";for(e in c)d[e]&&(d[e]=c[e]+"");return d}
function Fa(a,c,d){if(0==a.length)return!0;for(var e=0;e<a.length;e++)switch(a[e].type){case "Is Quest Point":var f=Q.r.H.vk(a[e].data.quest);f||(f=0);if(f!=a[e].data.objective)return!1;break;case "Script Requirement":if("Tile"==c)var g=H(Q.r.H.Tp(d.Tc));else"NPC"==c?g=H(Q.r.H.Tp(d.Tc)):"Item"==c&&(g=H(Q.r.H.Tp(d.script)));g||(g={});try{var h=a[e].data.functionContent.replace(/,/g,"").split(":"),f="{",k;for(k in h)f=0==k%2?f+('"'+h[k]+'":'):k!=h.length-1?f+('"'+h[k]+'",'):f+('"'+h[k]+'"');var f=f+
"}",l=JSON.parse(f);for(k in l)if(g[k]||(g[k]="null"),g[k]!=l[k])return!1}catch(m){return R.gc("your custom require script failed"),!1}break;case "Is Panel Visibility":f=1==a[e].data.visible?!0:!1;switch(a[e].data.panel){case 0:null==Inventory||Inventory.ca||(Inventory=null);if(Inventory&&!f||!Inventory&&f)return!1;break;case 1:null==Equipment||Equipment.ca||(Equipment=null);if(Equipment&&!f||!Equipment&&f)return!1;break;case 2:if(null==Skills||Skills.ca||(Skills=null),Skills&&!f||!Skills&&f)return!1}break;
case "Is Player Inventory Space":for(var p=a[e].data.space?a[e].data.space:0,t=f=0;40>t;t++)userItems.stored[t]||f++;if(f<p)return!1;break;case "Has Player Item":if(a[e].data.item){p=a[e].data.amount?a[e].data.amount:0;f=0;t=ObjectLists.Jb()[a[e].data.item].name;for(k in userItems.stored)userItems.stored[k]&&userItems.stored[k].name==t&&f++;if(f<p)return!1}break;case "Is Player Statistics":f=ObjectLists.wk()[a[e].data.skill].name;a[e].data.levelUpper||(a[e].data.levelUpper=0);a[e].data.levelLower||
(a[e].data.levelLower=0);a[e].data.healthUpper||(a[e].data.healthUpper=0);a[e].data.healthLower||(a[e].data.healthLower=0);a[e].data.xpUpper||(a[e].data.xpUpper=0);a[e].data.xpLower||(a[e].data.xpLower=0);if(0!=a[e].data.levelUpper||0!=a[e].data.levelLower)if(p=SkillBarsInstance.Vc[f].level+1,p>a[e].data.levelUpper||p<a[e].data.levelLower)return!1;if(0!=a[e].data.healthUpper||0!=a[e].data.healthLower)if(p=SkillBarsInstance.Vc[f].currenthealth,p>a[e].data.healthUpper||p<a[e].data.healthLower)return!1;
if(0!=a[e].data.xpUpper||0!=a[e].data.xpLower)if(p=SkillBarsInstance.Vc[f].experience,p>a[e].data.xpUpper||p<a[e].data.xpLower)return!1}return!0}
function Ga(a,c,d,e,f,g){var h=[];if(!(1>a.length)){for(var k=Q.r.H.items,l=0;l<a.length;l++)e&&e[a[l].type]||h.push([l,function(){switch(a[l].type){case "Spawn NPC":return function(c){null!=a[c].data.npc&&"undefined"!==a[c].data.npc&&Q.pR(ObjectLists.Vp()[a[c].data.npc],q.a(d.u.x/L,d.u.y/L))};case "Equip Item":return function(c){c=a[c].data.equip;"bothArms"==c&&(c="lArm",k.equipped.rArm||(c="rArm"));var e=null;k.equipped[c]&&(e=H(k.equipped[c]),S("On Dequip",e,"Item"));var f=ObjectLists.Jb(),g;for(g in f)if(f[g].name==
d.name){k.equipped[c]={number:g,amount:d.amount};break}k.stored[d.QJ]=e;Inventory&&Inventory.La();Equipment&&Equipment.La()};case "Read Item":return function(c){I.kY(d.name,a[c].data.say)};case "Spawn Item":return function(c){d.TH(a[c].data.item,a[c].data.amount)};case "Talk":return function(c){I.mY(d,f,g,d.name,a[c].data.say,a[c].data.options)};case "Script Response":return function(e){if("Tile"==c)var f=H(Q.r.H.Tp(d.Tc));else"NPC"==c?f=H(Q.r.H.Tp(d.Tc)):"Item"==c&&(f=H(Q.r.H.Tp(d.script)));f||(f=
{});try{var g=a[e].data.functionContent.replace(/,/g,"").split(":");e="{";for(var h in g)e=0==h%2?e+('"'+g[h]+'":'):h!=g.length-1?e+('"'+g[h]+'",'):e+('"'+g[h]+'"');var k=JSON.parse(e+"}"),g=f;h={};for(var l in g)h[l]=g[l];for(l in k)h[l]=k[l];f=h;"Tile"==c?Q.r.H.cE(d.Tc,H(f)):"NPC"==c?Q.r.H.cE(d.Tc,H(f)):"Item"==c&&Q.r.H.cE(d.script,H(f))}catch(G){R.gc("Your custom response script failed")}};case "Give /Take Item":return function(c){var d=ObjectLists.Jb()[a[c].data.item];if(0<a[c].data.amount){var e=
a[c].data.amount;if(1==d.stackable){for(var f=0;40>f;f++)k.stored[f]&&k.stored[f].name==d.name&&(e=0);0!=g&&(e=1)}else for(var g=0,f=0;40>f;f++)k.stored[f]||g++;if(g<e)return;if(1==d.stackable){g=!1;for(f=0;40>f;f++)if(k.stored[f]&&k.stored[f].name==d.name){k.stored[f].amount+=a[c].data.amount;Inventory&&Inventory.jh(f,k.stored[f].amount);g=!0;break}if(0==g)for(f=0;40>f;f++)if(!k.stored[f]){k.stored[f]=H(d);k.stored[f].amount=a[c].data.amount;Inventory&&Inventory.jh(f,k.stored[f].amount);break}}else for(g=
0;g<a[c].data.amount;g++)for(f=0;40>f;f++)if(!k.stored[f]){k.stored[f]=H(d);break}}else if(0>a[c].data.amount){e=Math.abs(a[c].data.amount);g=0;d=d.name;for(f in k.stored)k.stored[f]&&k.stored[f].name==d&&g++;if(g<e)return;for(g=0;g<Math.abs(a[c].data.amount);g++)for(f in k.stored)if(k.stored[f]&&k.stored[f].name==d){console.log("gettin rid"+g);user.stored[f]=null;break}}Inventory&&Inventory.La();Equipment&&Equipment.La()};case "Modify Player Stats":return function(c){if(ObjectLists.wk()[a[c].data.skill]){var d=
ObjectLists.wk()[a[c].data.skill].name;T.WU(d,a[c].data.level);T.VU(d,a[c].data.health);T.XU(d,a[c].data.xp)}};case "Show Sign":return function(c){I.oY(a[c].data.title,a[c].data.content)};case "Set Quest Point":return function(c){Q.r.H.MX(a[c].data.quest,a[c].data.objective)};case "Warp Player":return function(c){var d=a[c].data.index%N,e=Math.floor(a[c].data.index/N)+1;Q.r.H.l(d*L,e*L);z({changemap:""+a[c].data.mapnum,setTo:a[c].data.index});U.$p(a[c].data.mapnum);U.Bl(d*L,e*L)};case "Open/Close Shop":return function(c){var d=
1==a[c].data.visible?!0:!1;null==Shop||Shop.ca||(Shop=null);Shop&&(Shop.za(),Shop.J(),Shop=null);1==d&&(Shop=new ShopPanel,Shop.A(a[c].data.id),Shop.oa(),I.f(Shop))};case "Open/Close Panel":return function(c){var d=1==a[c].data.visible?!0:!1;switch(a[c].data.panel){case 0:null==Inventory||Inventory.ca||(Inventory=null);1==d?Inventory?Inventory.La():(Inventory=new InventoryPanel,Inventory.A(),Inventory.oa(),I.f(Inventory)):Inventory&&(Inventory.za(),Inventory.J(),Inventory=null);break;case 1:null==
Equipment||Equipment.ca||(Equipment=null);1==d?Equipment?Equipment.La():(Equipment=new EquipmentPanel,Equipment.A(),Equipment.oa(),I.f(Equipment)):Equipment&&(Equipment.za(),Equipment.J(),Equipment=null);break;case 2:null==Skills||Skills.ca||(Skills=null);1==d?Skills?Skills.La():(Skills=new SkillsPanel,Skills.A(),Skills.oa(),I.f(Skills)):Skills&&(Skills.za(),Skills.J(),Skills=null);break;case 3:null==Quests||Quests.ca||(Quests=null);1==d?Quests?Quests.La():(Quests=new QuestsPanel,Quests.A(),Quests.oa(),
I.f(Quests)):Quests&&(Quests.za(),Quests.J(),Quests=null);break;case 4:null==Inventory||Inventory.ca||(Inventory=null),Inventory&&(Inventory.za(),Inventory.J(),Inventory=null),null==Bank||Bank.ca||(Bank=null),1==d?Bank?Bank.La():(Bank=new BankPanel,Bank.A(),Bank.oa(),I.f(Bank)):Bank&&(Bank.za(),Bank.J(),Bank=null)}};case "Destroy":item=null,Inventory&&Inventory.La(),l=a.length}}()]);for(e=0;e<h.length;e++)h[e][1](h[e][0]),h.splice(e,1),e--}}
function S(a,c,d,e,f){I.Xd(function(){var g=[];c&&("Item"==d?c.script&&ObjectLists.Le()[c.script]&&(f&&(c.QJ=f),g=ObjectLists.Le()[c.script].data):"Tile"==d?c.Mh()&&(g=c.Mh().data):"NPC"==d&&c.Tc&&(g=ObjectLists.Le()[c.Tc].data));for(var h=0;h<g.length;h++)g[h].type==a&&Fa(g[h].requirements,d,e)&&Ga(g[h].responses,d,c,e,g,h);f&&(c.QJ=null)})};var V=q.Pa.extend({r:null,qb:function(a){return(a=r.localStorage.getItem("last_"+a))?a:null},Dj:function(a,c){return(c=r.localStorage.setItem("last_"+a,c))?c:null}}),W=null;V.Ty=function(){W||(W=new V);return W};V.g=function(){return W};V.FX=function(a,c){var d=r.localStorage.getItem("panelStore");"null"==d||null==d?(console.log("NEW PANEL STORE"),d={}):d=JSON.parse(d);d[a]={x:c.x,y:c.y};r.localStorage.setItem("panelStore",JSON.stringify(d))};V.tT=function(){return r.localStorage.getItem("panelStore")};
V.PC=function(a){if(W.qb("maps")){if(a){var c=JSON.parse(r.localStorage.getItem("map_data"));return c[a]?c[a]:null}}else return[]};V.gM=function(a,c){W.Dj("maps",c);r.localStorage.setItem("map_data",JSON.stringify(a))};V.PR=function(a,c,d){var e=W.qb("maps")?JSON.parse(r.localStorage.getItem("map_data")):[];e[a]=c;V.gM(e,d)};V.CT=function(){if(W.qb("scripts")){if(""!=r.localStorage.getItem("scripts_data"))var a=JSON.parse(r.localStorage.getItem("scripts_data"));return a?a:[]}return[]};
V.lM=function(a,c){W.Dj("scripts",c);r.localStorage.setItem("scripts_data",JSON.stringify(a))};V.UR=function(a,c,d){var e=W.qb("scripts")?""!=r.localStorage.getItem("scripts_data")?JSON.parse(r.localStorage.getItem("scripts_data")):[]:[];e[a]=c;V.lM(e,d)};V.YV=function(a,c){scriptarray=a;V.By(scriptarray,c)};V.RT=function(){if(W.qb("warps")){if(""!=r.localStorage.getItem("warps_data"))var a=JSON.parse(r.localStorage.getItem("warps_data"));return a?a:[]}return[]};
V.By=function(a,c){W.Dj("warps",c);r.localStorage.setItem("warps_data",JSON.stringify(a))};V.ZR=function(a,c,d){var e=W.qb("warps")?""!=r.localStorage.getItem("warps_data")?JSON.parse(r.localStorage.getItem("warps_data")):[]:[];e[a]=c;V.By(e,d)};V.bW=function(a,c){warparray=a;V.By(warparray,c)};V.jT=function(){if(W.qb("items")){if(""!=r.localStorage.getItem("items_data"))var a=JSON.parse(r.localStorage.getItem("items_data"));return a?a:[]}return[]};
V.Gt=function(a,c){W.Dj("items",c);r.localStorage.setItem("items_data",JSON.stringify(a))};V.OR=function(a,c,d){var e=W.qb("items")?""!=r.localStorage.getItem("items_data")?JSON.parse(r.localStorage.getItem("items_data")):[]:[];e[a]=c;V.Gt(e,d)};V.VV=function(a,c){itemsarray=a;V.Gt(itemsarray,c)};V.GT=function(){if(W.qb("skills")){if(""!=r.localStorage.getItem("skills_data"))var a=JSON.parse(r.localStorage.getItem("skills_data"));return a?a:[]}return[]};
V.JE=function(a,c){W.Dj("skills",c);r.localStorage.setItem("skills_data",JSON.stringify(a))};V.XR=function(a,c,d){var e=W.qb("skills")?""!=r.localStorage.getItem("skills_data")?JSON.parse(r.localStorage.getItem("skills_data")):[]:[];e[a]=c;V.JE(e,d)};V.aW=function(a,c){skillarray=a;V.JE(skillarray,c)};V.ET=function(){if(W.qb("signs")){if(""!=r.localStorage.getItem("signs_data"))var a=JSON.parse(r.localStorage.getItem("signs_data"));return a?a:[]}return[]};
V.Ay=function(a,c){W.Dj("signs",c);r.localStorage.setItem("signs_data",JSON.stringify(a))};V.WR=function(a,c,d){var e=W.qb("signs")?""!=r.localStorage.getItem("signs_data")?JSON.parse(r.localStorage.getItem("signs_data")):[]:[];e[a]=c;V.Ay(e,d)};V.$V=function(a,c){signarray=a;V.Ay(signarray,c)};V.pT=function(){if(W.qb("npcs")){if(""!=r.localStorage.getItem("npcs_data"))var a=JSON.parse(r.localStorage.getItem("npcs_data"));return a?a:[]}return[]};
V.hM=function(a,c){W.Dj("npcs",c);r.localStorage.setItem("npcs_data",JSON.stringify(a))};V.QR=function(a,c,d){var e=W.qb("npcs")?""!=r.localStorage.getItem("npcs_data")?JSON.parse(r.localStorage.getItem("npcs_data")):[]:[];e[a]=c;V.hM(e,d)};V.WV=function(a,c){npcsarray=a;V.Ay(npcsarray,c)};V.vk=function(){if(W.qb("quests")){if(""!=r.localStorage.getItem("quests_data"))var a=JSON.parse(r.localStorage.getItem("quests_data"));return a?a:[]}return[]};
V.xy=function(a,c){W.Dj("quests",c);r.localStorage.setItem("quests_data",JSON.stringify(a))};V.TR=function(a,c,d){var e=W.qb("quests")?""!=r.localStorage.getItem("quests_data")?JSON.parse(r.localStorage.getItem("quests_data")):[]:[];e[a]=c;V.xy(e,d)};V.XV=function(a,c){questsarray=a;V.xy(questsarray,c)};V.DT=function(){if(W.qb("shops")){if(""!=r.localStorage.getItem("shops_data"))var a=JSON.parse(r.localStorage.getItem("shops_data"));return a?a:[]}return[]};
V.mM=function(a,c){W.Dj("shops",c);r.localStorage.setItem("shops_data",JSON.stringify(a))};V.VR=function(a,c,d){var e=W.qb("shops")?""!=r.localStorage.getItem("shops_data")?JSON.parse(r.localStorage.getItem("shops_data")):[]:[];e[a]=c;V.xy(e,d)};V.ZV=function(a,c){shopsarray=a;V.mM(shopsarray,c)};V.VC=function(){if(W.qb("settings")){if(""!=r.localStorage.getItem("settings_data"))var a=JSON.parse(r.localStorage.getItem("settings_data"));return a?a:[]}return[]};
V.IE=function(a,c){W.Dj("settings",c);r.localStorage.setItem("settings_data",JSON.stringify(a))};
V.GM=function(){r.localStorage.setItem("map_data",[]);r.localStorage.setItem("last_maps",2);r.localStorage.setItem("warps_data",[]);r.localStorage.setItem("last_warps",2);r.localStorage.setItem("items_data",[]);r.localStorage.setItem("last_items",2);r.localStorage.setItem("skills_data",[]);r.localStorage.setItem("last_skills",2);r.localStorage.setItem("signs_data",[]);r.localStorage.setItem("last_signs",2);r.localStorage.setItem("npcs_data",[]);r.localStorage.setItem("last_npcs",2);r.localStorage.setItem("quests_data",
[]);r.localStorage.setItem("last_quests",2);r.localStorage.setItem("shops_data",[]);r.localStorage.setItem("last_shops",2);r.localStorage.setItem("settings_data",[]);r.localStorage.setItem("last_settings",2);r.localStorage.setItem("scripts_data",[]);r.localStorage.setItem("last_scripts",2);r.localStorage.setItem("panelStore",null)};
V.RN=function(){z({sync:!0,mapupdate:null!=W.qb("maps")?W.qb("maps"):2,warpupdate:null!=W.qb("warps")?W.qb("warps"):2,itemupdate:null!=W.qb("items")?W.qb("items"):2,skillsupdate:null!=W.qb("skills")?W.qb("skills"):2,signsupdate:null!=W.qb("signs")?W.qb("signs"):2,npcsupdate:null!=W.qb("npcs")?W.qb("npcs"):2,questsupdate:null!=W.qb("quests")?W.qb("quests"):2,shopsupdate:null!=W.qb("shops")?W.qb("shops"):2,settingsupdate:null!=W.qb("settings")?W.qb("settings"):2,scriptsupdate:null!=W.qb("scripts")?
W.qb("scripts"):2})};V.Zaa=function(a){1!=a&&0!=a||r.localStorage.setItem("mapedit_saveonexit",a)};V.t5=function(){return null==r.localStorage.getItem("mapedit_saveonexit")?!1:r.localStorage.getItem("mapedit_saveonexit")};V.QX=function(a,c){r.localStorage.setItem("savedcredentials",JSON.stringify({user:a,pass:c}))};V.QK=function(a){r.localStorage.setItem("autologin",JSON.stringify(a))};V.GJ=function(){var a=r.localStorage.getItem("autologin");return null!=a?JSON.parse(a):!1};
V.MJ=function(){return r.localStorage.getItem("savedcredentials")?!0:!1};V.KT=function(){var a=r.localStorage.getItem("savedcredentials");return a?JSON.parse(a):!1};ListView=q.$h.extend({Gl:null,k:null,Is:null,Ex:!1,pg:null,Cj:null,WL:null,QD:function(){if(this.k){this.Cj&&(this.Cj.J(),this.pg.J());var a=this.k.ac();a.height<this.k.c().height&&(a=this.k.c(),this.Ex=!0);this.Gl=[];for(var c=0,d=0;d<this.k.Ub();d++){var e=this.k.jc(d),c=c+e.height;this.Gl[d]=q.Node.create();this.Gl[d].N(e);this.Gl[d].l(q.a(0,a.height-c));this.Gl[d].w(q.a(0,1));this.f(this.Gl[d]);this.Gl[d].f(this.k.ic(d))}this.sq(-300);this.pE(0);0==this.Ex&&(this.Cj=q.v.create(),this.Cj.ib(q.rect(0,
0,1,this.k.c().height)),this.Cj.q(q.i(0,0,0,255)),this.Cj.w(q.a(0,0)),this.Cj.l(q.a(this.k.c().width+20,0)),this.pg=q.v.create(),this.pg.w(q.a(0,0)),this.pg.ib(q.rect(0,0,20,this.k.c().height/5)),this.pg.q(q.i(90,90,255,255)),this.pg.l(q.a(this.k.c().width+10,0)),this.k.f(this.Cj),this.k.f(this.pg),this.Vl(q.a(0,this.it().y),!1));this.k.l(this.WL)}},A:function(a){this.k=a;this.w(q.a(0,0));this.WL=q.a(a.u.I,a.u.T);this.eq(this.k.c(),this.k);this.WK(q.Gq);this.VW(!1);a=this.k.ac();var c=q.Node.create();
c.N(a);this.ZW(c)},lc:function(a){this.Is=a},VD:!1,Ux:null,Hb:function(a){if(!this.k.qf)return!1;for(var c=0;c<this.k.Ub();c++)this.k.qf(c).q(q.i(255,255,255,255));this.k.qf(a).q(q.i(255,0,0,255))},ub:function(a){for(var c=a.S,d=0;d<this.k.Ub();d++)for(var e in this.Is[d]){var f=this.Gl[d].Ia(c),g=this.k.Ia(c);g.x+=this.k.u.I;E(this.k,g);if(E(this.Is[d][e],f))return this.k.lb(this.Is[d][e].Na,d,a,this.Is[d][e]),this.VD=!0}if(0==this.Ex){a=this.k.Ia(c);if(E(this.pg,a))return this.Ux=a.y-this.pg.u.T,
!0;this.Ux=null}},Td:function(a){if(1==this.VD)return this.VD=!1;if(0==this.Ex){var c=a.S;if(null!=this.Ux&&(c=this.k.Ia(c),c.y-=this.Ux,0<=c.y&&c.y+this.pg.c().height<=this.k.c().height))return a=c.y/(this.Cj.c().height-this.pg.c().height),this.Vl(q.a(0,this.Fn().y*a),!1),this.pg.xc(c.y),!0;c=this._super(a);a=this.SI().y/this.Fn().y;this.pg.xc((this.Cj.c().height-this.pg.c().height)*a);return c}}});ListView.create=function(a){var c=new ListView;c.A(a);c.QD();return c};var za=q.Node.extend({Ne:null,Oe:null,Tg:null,Qe:null,Re:null,Se:null,item:null,Zg:null,He:null,Ie:null,Je:null,position:null,string:null,type:null,Tc:null,ctor:function(){this._super()},A:function(){this._super();this.string=q.R.create("","Arial",16);this.string.w(.5,.5);this.string.l(16,-16);this.string.ta(0);this.string.q(q.n(0,0,0));this.f(this.string,900);this.Zg=[]},TH:function(a,c){c||(c=1);var d=ObjectLists.Jb()[a];d&&(this.Xl(d.sprite.texture,d.sprite.position,"item"),this.Zg.push({Fd:a,
Hc:c}))},removeItem:function(){0<this.Zg.length&&this.Zg.splice(this.Zg.length-1,1);if(0<this.Zg.length){var a=ObjectLists.Jb()[this.Zg[this.Zg.length-1].Fd];this.Xl(a.sprite.texture,a.sprite.position,"item")}else this.item.J(),this.item=null},yn:function(){return 0==this.Zg.length?null:this.Zg[this.Zg.length-1]},Xl:function(a,c,d){a=q.v.Ja(q.fa.g().ka(a));a.ib(q.rect(Math.floor(L*c.x),Math.floor(L*c.y),L,L));a.q(q.i(255,255,255,255));a.w(0,1);switch(d){case "ground1":null!=this.Ne&&this.Ne.J();this.Ne=
a;this.f(this.Ne);break;case "ground2":null!=this.Oe&&this.Oe.J();this.Oe=a;this.f(this.Oe,1);break;case "ground3":null!=this.Tg&&this.Tg.J();this.Tg=a;this.f(this.Tg,2);break;case "mask1":null!=this.Qe&&this.Qe.J();this.Qe=a;this.f(this.Qe,3);break;case "mask2":null!=this.Re&&this.Re.J();this.Re=a;this.f(this.Re,4);break;case "mask3":null!=this.Se&&this.Se.J();this.Se=a;this.f(this.Se,5);break;case "item":null!=this.item&&this.item.J();this.item=a;this.f(this.item,6);break;case "fringe1":null!=this.He&&
this.He.J();this.He=a;this.f(this.He,7);break;case "fringe2":null!=this.Ie&&this.Ie.J();this.Ie=a;this.f(this.Ie,8);break;case "fringe3":null!=this.Je&&this.Je.J(),this.Je=a,this.f(this.Je,10)}},Wg:function(){var a=!0;null!=this.Ne&&this.Ne.ia()&&0==this.Ne.ia().Pc?a=!1:null!=this.Oe&&this.Oe.ia()&&0==this.Oe.ia().Pc?a=!1:null!=this.Tg&&this.Tg.ia()&&0==this.Tg.T6?a=!1:null!=this.Qe&&this.Qe.ia()&&0==this.Qe.ia().Pc?a=!1:null!=this.Re&&this.Re.ia()&&0==this.Re.ia().Pc?a=!1:null!=this.Se&&this.Se.ia()&&
0==this.Se.ia().Pc?a=!1:null!=this.item&&this.item.ia()&&0==this.item.ia().Pc?a=!1:null!=this.He&&this.He.ia()&&0==this.He.ia().Pc?a=!1:null!=this.Ie&&this.Ie.ia()&&0==this.Ie.ia().Pc?a=!1:null!=this.Je&&this.Je.ia()&&0==this.Je.ia().Pc&&(a=!1);return a},of:function(){null!=this.Ne&&this.Ne.J();this.Ne=null;null!=this.Oe&&this.Oe.J();this.Oe=null;null!=this.Tg&&this.Tg.J();this.Tg=null;null!=this.Qe&&this.Qe.J();this.Qe=null;null!=this.Re&&this.Re.J();this.Re=null;null!=this.Se&&this.Se.J();this.Se=
null;null!=this.item&&this.item.J();this.item=null;this.Zg=[];null!=this.He&&this.He.J();this.He=null;null!=this.Ie&&this.Ie.J();this.Ie=null;null!=this.Je&&this.Je.J();this.Tc=this.Je=null},CC:function(a){switch(a){case "ground1":null!=this.Ne&&this.Ne.J();this.Ne=null;break;case "ground2":null!=this.Oe&&this.Oe.J();this.Oe=null;break;case "ground3":null!=this.Tg&&this.Tg.J();this.Tg=null;break;case "mask1":null!=this.Qe&&this.Qe.J();this.Qe=null;break;case "mask2":null!=this.Re&&this.Re.J();this.Re=
null;break;case "mask3":null!=this.Se&&this.Se.J();this.Se=null;break;case "item":null!=this.item&&this.item.J();this.item=null;this.Zg=[];break;case "fringe1":null!=this.He&&this.He.J();this.He=null;break;case "fringe2":null!=this.Ie&&this.Ie.J();this.Ie=null;break;case "fringe3":null!=this.Je&&this.Je.J(),this.Je=null}},jE:function(a){if(!c)var c=!1;this.Tc=a;ObjectLists.Le()[a]?this.string.ma(ObjectLists.Le()[a].abbr):this.string.ma("_")},DS:function(){this.Tc=null;this.string.ma("")},Mh:function(){return ObjectLists.Le()[this.Tc]},
w6:function(){return this.Tc},WX:function(a){this.string.ta(1==a?255:0)}});za.Ty=function(a){var c=new za;c.A();c.position=q.a(a.x,a.y);return c};StatsController=q.v.extend({data:null,xx:null,k:null,A:function(a,c){this.data=a;this.k=c;this.JW()},update:function(){for(var a in this.data)this.xx&&(0==this.data[a].value&&0<this.xx[a]&&this.k.tca(a),this.data[a].cd>this.xx[a].cd&&this.k.vca(a)),this.xx[a]=this.data[a]},L6:function(a){return this.data[a].value},K6:function(a){return this.data[a].cd},i9:function(a,c){this.data[a].value+=c;this.data[a].value>this.data[a].kg&&(this.data[a].value=this.data[a].kg);0>this.data[a].value&&(this.data[a].value=
0)},YR:function(a,c){this.data[a].value=c;this.data[a].value>this.data[a].kg&&(this.data[a].value=this.data[a].kg);0>this.data[a].value&&(this.data[a].value=0)},h9:function(a,c){this.data[a].cd+=c;this.data[a].cd>this.data[a].jg&&(this.data[a].cd=this.data[a].jg);0>this.data[a].cd&&(this.data[a].cd=0)},YR:function(a,c){this.data[a].cd=c;this.data[a].cd>this.data[a].jg&&(this.data[a].cd=this.data[a].jg);0>this.data[a].cd&&(this.data[a].cd=0)},I2:function(a,c){this.data[a].jg=c},J2:function(a,c){this.data[a].kg=
c}});ObjectLists=q.Pa.extend({PE:null,tD:null,xE:null,wE:null,xD:null,JD:null,ZD:null,uE:null});var X;ObjectLists.g=function(){X||(X=new ObjectLists,X.PE=V.RT(),X.tD=V.jT(),X.xE=V.GT(),X.wE=V.ET(),X.xD=V.pT(),X.JD=V.vk(),X.ZD=V.CT(),X.uE=V.DT());return X};ObjectLists.lJ=function(){return X.PE};ObjectLists.eY=function(a){X.PE=a};ObjectLists.Jb=function(){return X.tD};ObjectLists.pX=function(a){X.tD=a};ObjectLists.wk=function(){return X.xE};ObjectLists.VX=function(a){X.xE=a};ObjectLists.dJ=function(){return X.wE};
ObjectLists.UX=function(a){X.wE=a};ObjectLists.Vp=function(){return X.xD};ObjectLists.xX=function(a){X.xD=a};ObjectLists.Yp=function(){return X.JD};ObjectLists.NX=function(a){X.JD=a};ObjectLists.Le=function(){return X.ZD};ObjectLists.SX=function(a){X.ZD=a};ObjectLists.Zp=function(){return X.uE};ObjectLists.TX=function(a){X.uE=a};gameMapInstance=null;
var U=q.Wc.extend({cc:null,K:null,Xg:!1,Sf:null,Nf:null,Ln:null,zn:null,Kl:null,Hl:null,Il:null,Jl:null,Gi:null,Fi:null,U:q.a(0,0),wl:1,ft:function(a){if("string"===typeof a){if(0==this.K[a].Tc)return!0;a=this.K[a].Mh()}else{if(0==a.Tc)return!0;a=a.Mh()}if(a)for(var c=["Will Enter","On Enter"],d=0;d<a.data.length;d++)if(-1<c.indexOf(a.data[d].type)&&Fa(a.data[d].requirements))for(var e=a.data[d].responses,f=0;f<e.length;f++)if("Block Entry"==e[f].type)return!0;return!1},GU:function(a){if("string"===typeof a){if(0==
this.K[a].Tc)return!1;a=this.K[a].Mh()}else{if(0==a.Tc)return!1;a=a.Mh()}if(a)for(var c=["Interact On","Interact Facing"],d=0;d<a.data.length;d++)if(-1<c.indexOf(a.data[d].type)&&Fa(a.data[d].requirements))for(var e=a.data[d].responses,f=0;f<e.length;f++)if("Show Sign"==e[f].type)return!0;return!1},DU:function(a){if(a=ObjectLists.Le()[a.Tc])for(var c=["Default Event"],d=0;d<a.data.length;d++)if(-1<c.indexOf(a.data[d].type)&&Fa(a.data[d].requirements))for(var e=a.data[d].responses,f=0;f<e.length;f++)if("Talk"==
e[f].type)return!0;return!1},Ps:function(a,c){function d(a,c){return{GN:a,value:c.x+c.y*N,x:c.x,y:c.y,gx:0,p:0}}function e(a,c){var d=c-1,e=c+1,g=a+1,h=a-1,k=-1<d&&f.K["tile"+P(a,d)]&&!f.ft("tile"+P(a,d));myS=e<N&&f.K["tile"+P(a,e)]&&!f.ft("tile"+P(a,e));myE=g<N&&f.K["tile"+P(g,c)]&&!f.ft("tile"+P(g,c));myW=-1<h&&f.K["tile"+P(h,c)]&&!f.ft("tile"+P(h,c));result=[];k&&result.push({x:a,y:d});myE&&result.push({x:g,y:c});myS&&result.push({x:a,y:e});myW&&result.push({x:h,y:c});return result}for(var f=this,
g=d(null,c),h,k,l,m,p,t=[],v=[],x=[d(null,a)],y=Array(M*N);h=x.length;){k=M*N;l=-1;for(m=0;m<h;m++)x[m].gx<k&&(k=x[m].gx,l=m);k=x.splice(l,1)[0];if(k.value===g.value){l=v[v.push(k)-1];do t.push(q.a(l.x,l.y));while(l=l.GN);y=v=x=[];t.reverse()}else{h=e(k.x,k.y);m=0;for(p=h.length;m<p;m++)l=d(k,h[m]),y[l.value]||(l.p=k.p+(Math.abs(h[m].x-k.x)+Math.abs(h[m].y-k.y)),l.gx=l.p+(Math.abs(h[m].x-g.x)+Math.abs(h[m].y-g.y)),x.push(l),y[l.value]=!0);v.push(k)}}return t},hY:function(a){this.cc={};this.cc.mapdata=
{};for(var c in this.K)"tile"==c.substring(0,4)&&(this.K[c].of(),this.cc[c]={});if(a){if(a.mapdata){this.Kl=""!=a.mapdata.mapConnectors.up&&null!=a.mapdata.mapConnectors.up?a.mapdata.mapConnectors.up:null;this.Hl=""!=a.mapdata.mapConnectors.down&&null!=a.mapdata.mapConnectors.down?a.mapdata.mapConnectors.down:null;this.Il=""!=a.mapdata.mapConnectors.left&&null!=a.mapdata.mapConnectors.left?a.mapdata.mapConnectors.left:null;this.Jl=""!=a.mapdata.mapConnectors.right&&null!=a.mapdata.mapConnectors.right?
a.mapdata.mapConnectors.right:null;if(gameMapInstance.Gi!=a.mapdata.mapConnectors.width||gameMapInstance.Fi!=a.mapdata.mapConnectors.height){N=a.mapdata.mapConnectors.width;M=a.mapdata.mapConnectors.height;Da();gameMapInstance.K.J();var d=0;for(c in gameMapInstance.cc)"mapdata"!=c&&d++;if(d>N*M)for(c=N*M;c<d;c++)delete gameMapInstance.cc["tile"+c];for(c=0;c<N*M;c++)gameMapInstance.cc["tile"+c]||(gameMapInstance.cc["tile"+c]={})}this.Gi=""!=a.mapdata.mapConnectors.width&&null!=a.mapdata.mapConnectors.width?
a.mapdata.mapConnectors.width:36;this.Fi=""!=a.mapdata.mapConnectors.height&&null!=a.mapdata.mapConnectors.height?a.mapdata.mapConnectors.height:36;Q&&Q.r.H&&(d=Q.r.H.hc(),d.y>this.Fi&&Q.r.H.xc(L*this.Fi),d.x>this.Gi-1&&Q.r.H.Oa(L*(this.Gi-1)));this.K.J();this.Sf.J();this.Nf.J();this.Ln.J();this.K=ua(this);this.f(this.K);this.Sf=q.xb.create(J.width,J.height);this.Sf.l(q.a(Math.floor(J.width/2),Math.floor(J.height/2)));this.f(this.Sf);this.f(this.Ln);this.Nf=q.xb.create(J.width,J.height);this.Nf.l(q.a(Math.floor(J.width/
2),Math.floor(J.height/2)));this.f(this.Nf)}this.cc=a;for(c in a)if("tile"==c.substring(0,4))for(var e in a[c])"info"!=e?null!=a[c][e]&&this.K[c]&&this.K[c].Xl(a[c][e].texture,a[c][e].frame,e):null!=a[c][e].script&&"undefined"!==a[c][e].script&&this.K[c]&&(this.K[c].jE(a[c][e].script),S("On Game load",this.K[c],"Tile"))}Q&&Q.r.H&&(a=Q.r.H.hc(),U.Bl(a.x*L,a.y*L),this.kc(this.LD))},Zl:function(a){a=V.PC(a);this.cc={};this.cc.mapdata={};for(var c in this.K)"tile"==c.substring(0,4)&&(this.K[c].of(),this.cc[c]=
{});if(a){if(a.mapdata){this.Kl=""!=a.mapdata.mapConnectors.up&&null!=a.mapdata.mapConnectors.up?a.mapdata.mapConnectors.up:null;this.Hl=""!=a.mapdata.mapConnectors.down&&null!=a.mapdata.mapConnectors.down?a.mapdata.mapConnectors.down:null;this.Il=""!=a.mapdata.mapConnectors.left&&null!=a.mapdata.mapConnectors.left?a.mapdata.mapConnectors.left:null;this.Jl=""!=a.mapdata.mapConnectors.right&&null!=a.mapdata.mapConnectors.right?a.mapdata.mapConnectors.right:null;if(gameMapInstance.Gi!=a.mapdata.mapConnectors.width||
gameMapInstance.Fi!=a.mapdata.mapConnectors.height){N=a.mapdata.mapConnectors.width;M=a.mapdata.mapConnectors.height;Da();gameMapInstance.K.J();var d=0;for(c in gameMapInstance.cc)"mapdata"!=c&&d++;if(d>N*M)for(c=N*M;c<d;c++)delete gameMapInstance.cc["tile"+c];for(c=0;c<N*M;c++)gameMapInstance.cc["tile"+c]||(gameMapInstance.cc["tile"+c]={})}this.Gi=""!=a.mapdata.mapConnectors.width&&null!=a.mapdata.mapConnectors.width?a.mapdata.mapConnectors.width:36;this.Fi=""!=a.mapdata.mapConnectors.height&&null!=
a.mapdata.mapConnectors.height?a.mapdata.mapConnectors.height:36;Q&&Q.r.H&&(d=Q.r.H.hc(),d.y>this.Fi&&Q.r.H.xc(L*this.Fi),d.x>this.Gi-1&&Q.r.H.Oa(L*(this.Gi-1)));this.K.J();this.Sf.J();this.Nf.J();this.Ln.J();this.K=ua(this);this.f(this.K);this.Sf=q.xb.create(J.width,J.height);this.Sf.l(q.a(Math.floor(J.width/2),Math.floor(J.height/2)));this.f(this.Sf);this.f(this.Ln);this.Nf=q.xb.create(J.width,J.height);this.Nf.l(q.a(Math.floor(J.width/2),Math.floor(J.height/2)));this.f(this.Nf)}this.cc=a;for(c in a)if("tile"==
c.substring(0,4))for(var e in a[c])"info"!=e?null!=a[c][e]&&this.K[c]&&this.K[c].Xl(a[c][e].texture,a[c][e].frame,e):null!=a[c][e].script&&"undefined"!==a[c][e].script&&this.K[c]&&(this.K[c].jE(a[c][e].script),S("On Game load",this.K[c],"Tile"))}Q&&Q.r.H&&(c=Q.r.H.hc(),U.Bl(c.x*L,c.y*L),this.kc(this.LD))},LD:function(){for(var a in this.K)if("tile"==a.substring(0,4)&&0==this.K[a].Wg())return;Q.g().B(!0);Q.Fk();this.Nc(this.LD);this.Nf.B(!0);this.Sf.B(!0);this.Xg=!0},tc:function(){for(var a={},c=0;c<
N;c++)for(var d=0;d<M;d++)a["tile"+(c+d*N)]={size:q.size(L,L),e:q.a(0,0),position:q.a(c*L,(M-d)*L),CU:!0,DY:q.a(d,c),visible:!1};return{panels:{children:a}}},A:function(){this.pc(!0);this.pE(1)},ub:function(a){!this.zn||Mapeditor&&Mapeditor.ca||(this.zn=Mapeditor=null);if(this.zn)for(var c in this.K)"tile"==c.substring(0,4)&&q.vb(this.K[c].pb(),q.a(a.S.x-this.U.x,a.S.y+L-this.U.y))&&(this.zn.aM(this.K,c),U.Ht());else{if(Shop&&Shop.ca||Bank&&Bank.ca)return;for(c in this.K)if("tile"==c.substring(0,
4)&&q.vb(this.K[c].pb(),q.a(a.S.x-this.U.x,a.S.y+L-this.U.y))){var d=U.aJ(this.K[c].u.I/L,this.K[c].u.T/L),e=this.GU(c);if(this.K[c].yn()){var d=ObjectLists.Jb()[this.K[c].yn().number],f=D["Item Dropdown Pick Up"]+"",e=D["Item Dropdown Walk To"]+"",f=f.replace("<ITEM>",d.name),e=e.replace("<ITEM>",d.name);this.ca.f(DropDownList.Rc(this,this.IU,[f,e],a.S));this.Pd=c}else if(d){if(this.DU(d))var g=D["NPC Dropdown Talk"]+"",g=g.replace("<NPC>",d.name);e=D["NPC Dropdown Walk To"]+"";e=e.replace("<NPC>",
d.name);g?this.ca.f(DropDownList.Rc(this,this.dK,[g,e],a.S,null,{Fx:d})):this.ca.f(DropDownList.Rc(this,this.dK,[e],a.S));this.Pd=c}else e?(e=D["Sign Dropdown list Read"]+"",e=e.replace("<SIGN>",this.K[c].Mh().name),this.ca.f(DropDownList.Rc(this,this.qY,[e],a.S)),this.Pd=c):(e=Q.r.H.hc(),Q.r.H.wt(this.Ps(q.a(Math.floor(e.x),Math.ceil(e.y)),q.a(this.K[c].u.x/L,this.K[c].u.y/L))))}}return!0},Pd:null,IU:function(a){if(null!=this.k.Pd){var c=ObjectLists.Jb()[this.k.K[gameMapInstance.Pd].yn().number],
d=Q.r.H.hc(),e=q.a(gameMapInstance.K[gameMapInstance.Pd].u.x/L,gameMapInstance.K[gameMapInstance.Pd].u.y/L);switch(a){case 0:a=d.x>e.x?d.x-e.x:e.x-d.x;d=d.y>e.y?d.y-e.y:e.y-d.y;5>Math.sqrt(a*a+d*d)?Q.r.H.xU(gameMapInstance.K[gameMapInstance.Pd]):(d=D["Item Out-of-range"]+"",d=d.replace("<ITEM>",c.name),R.gc(d));break;case 1:Q.r.H.wt(gameMapInstance.Ps(q.a(Math.floor(d.x),Math.ceil(d.y)),e)),this.k.Pd=null}}},dK:function(a,c,d,e){if(null!=this.k.Pd)if(c=Q.r.H.hc(),1==d.length)Q.r.H.wt(gameMapInstance.Ps(q.a(Math.floor(c.x),
Math.ceil(c.y)),itemPosition)),this.k.Pd=null;else switch(d=q.a(e.Fx.u.x/L,e.Fx.u.y/L),a){case 0:a=c.x>d.x?c.x-d.x:d.x-c.x;c=c.y>d.y?c.y-d.y:d.y-c.y;5>Math.sqrt(a*a+c*c)?(S("Default Event",e.Fx,"NPC"),this.k.Pd=null):(a=D["NPC Out-of-range"]+"",a=a.replace("<NPC>",e.Fx.name),R.gc(a));break;case 1:Q.r.H.wt(gameMapInstance.Ps(q.a(Math.floor(c.x),Math.ceil(c.y)),itemPosition)),this.k.Pd=null}},qY:function(a){if(null!=this.k.Pd){var c=Q.r.H.hc(),d=q.a(gameMapInstance.K[gameMapInstance.Pd].u.x/L,gameMapInstance.K[gameMapInstance.Pd].u.y/
L);switch(a){case 0:a=c.x>d.x?c.x-d.x:d.x-c.x,c=c.y>d.y?c.y-d.y:d.y-c.y,5>Math.sqrt(a*a+c*c)?(S("Interact Facing",this.k.K[gameMapInstance.Pd],"Tile"),this.k.Pd=null):(c=D["Sign Out-of-range"]+"",c=c.replace("<SIGN>",this.k.K[gameMapInstance.Pd].Mh().name),R.gc(c))}}},Td:function(a){if(this.zn){for(var c in this.K)"tile"==c.substring(0,4)&&q.vb(this.K[c].pb(),q.a(a.S.x-this.U.x,a.S.y+L-this.U.y))&&(this.zn.aM(this.K,c,"moved"),U.Ht());return!0}for(c in this.K)if("tile"==c.substring(0,4)&&q.vb(this.K[c].pb(),
q.a(a.S.x-this.U.x,a.S.y+L-this.U.y))){var d=Q.r.H.hc();Q.r.H.wt(this.Ps(q.a(Math.floor(d.x),Math.ceil(d.y)),q.a(this.K[c].u.x/L,this.K[c].u.y/L)))}},Ba:function(){this._super();if(1==this.Xg){this.Sf.tC(0,0,0,0);for(var a in this.K)"tile"==a.substring(0,4)&&(this.K[a].B(!0),null!=this.K[a].He&&this.K[a].He.B(!1),null!=this.K[a].Ie&&this.K[a].Ie.B(!1),null!=this.K[a].KC&&this.K[a].KC.B(!1),null!=this.K[a].Je&&this.K[a].Je.B(!1),this.K[a].Ba(),null!=this.K[a].He&&this.K[a].He.B(!0),null!=this.K[a].Ie&&
this.K[a].Ie.B(!0),null!=this.K[a].KC&&this.K[a].KC.B(!0),null!=this.K[a].Je&&this.K[a].Je.B(!0),this.K[a].B(!1));this.Sf.end();this.Nf.tC(0,0,0,0);for(a in this.K)"tile"==a.substring(0,4)&&(this.K[a].B(!0),null!=this.K[a].Ne&&this.K[a].Ne.B(!1),null!=this.K[a].Oe&&this.K[a].Oe.B(!1),null!=this.K[a].dD&&this.K[a].dD.B(!1),null!=this.K[a].Qe&&this.K[a].Qe.B(!1),null!=this.K[a].Re&&this.K[a].Re.B(!1),null!=this.K[a].Se&&this.K[a].Se.B(!1),null!=this.K[a].item&&this.K[a].item.B(!1),this.K[a].Ba(),null!=
this.K[a].Ne&&this.K[a].Ne.B(!0),null!=this.K[a].Oe&&this.K[a].Oe.B(!0),null!=this.K[a].dD&&this.K[a].dD.B(!0),null!=this.K[a].Qe&&this.K[a].Qe.B(!0),null!=this.K[a].Re&&this.K[a].Re.B(!0),null!=this.K[a].Se&&this.K[a].Se.B(!0),null!=this.K[a].item&&this.K[a].item.B(!0),this.K[a].B(!1));this.Nf.end();this.Xg=!1}}});
U.updateOffset=function(a,c){0<=gameMapInstance.U.x+(J.width-O.width/2)+a&&Q.r.H.u.x<J.width-O.width/2&&0>=gameMapInstance.U.x+a&&Q.r.H.u.x>O.width/2&&(gameMapInstance.U.x+=a);0<=gameMapInstance.U.y+(J.height-O.height/2)+c&&Q.r.H.u.y<J.height-O.height/2&&0>=gameMapInstance.U.y+c&&Q.r.H.u.y>O.height/2&&(gameMapInstance.U.y+=c);J.height<O.height&&(gameMapInstance.U.y=(O.height-J.height)/2);J.width<O.width&&(gameMapInstance.U.x=(O.width-J.width)/2);gameMapInstance.l(gameMapInstance.U.x,gameMapInstance.U.y)};
U.Bl=function(a,c){a=parseInt(a);c=parseInt(c);1==gameMapInstance.Xg?0==offsetFromPositionScheduledX&&0==offsetFromPositionScheduledY&&(offsetFromPositionScheduledX=a,offsetFromPositionScheduledY=c,gameMapInstance.kc(U.NK)):(gameMapInstance.U.x=a>J.width-O.width/2?-(J.width-O.width):a<O.width/2?0:-(a-O.width/2),gameMapInstance.U.y=c>J.height-O.height/2?-(J.height-O.height):c<O.height/2?0:-(c-O.height/2),offsetFromPositionScheduledY=offsetFromPositionScheduledX=0,gameMapInstance.Nc(U.NK),J.height<
O.height&&(gameMapInstance.U.y=(O.height-J.height)/2),J.width<O.width&&(gameMapInstance.U.x=(O.width-J.width)/2),gameMapInstance.l(gameMapInstance.U.x,gameMapInstance.U.y))};offsetFromPositionScheduledY=offsetFromPositionScheduledX=0;U.NK=function(){U.Bl(offsetFromPositionScheduledX,offsetFromPositionScheduledY)};
U.bD=function(){1==gameMapInstance.Xg?gameMapInstance.kc(U.bD):(gameMapInstance.Nc(U.bD),gameMapInstance.U.x=-(J.width-O.width),J.height<O.height&&(gameMapInstance.U.y=(O.height-J.height)/2),J.width<O.width&&(gameMapInstance.U.x=(O.width-J.width)/2),gameMapInstance.l(gameMapInstance.U.x,gameMapInstance.U.y))};
U.aD=function(){1==gameMapInstance.Xg?gameMapInstance.kc(U.aD):(gameMapInstance.Nc(U.aD),gameMapInstance.U.x=0,J.height<O.height&&(gameMapInstance.U.y=(O.height-J.height)/2),J.width<O.width&&(gameMapInstance.U.x=(O.width-J.width)/2),gameMapInstance.l(gameMapInstance.U.x,gameMapInstance.U.y))};
U.$C=function(){1==gameMapInstance.Xg?gameMapInstance.kc(U.$C):(gameMapInstance.Nc(U.$C),gameMapInstance.U.y=-(J.height-O.height),J.height<O.height&&(gameMapInstance.U.y=(O.height-J.height)/2),J.width<O.width&&(gameMapInstance.U.x=(O.width-J.width)/2),gameMapInstance.l(gameMapInstance.U.x,gameMapInstance.U.y))};
U.cD=function(){1==gameMapInstance.Xg?gameMapInstance.kc(U.cD):(gameMapInstance.Nc(U.cD),gameMapInstance.U.y=0,J.height<O.height&&(gameMapInstance.U.y=(O.height-J.height)/2),J.width<O.width&&(gameMapInstance.U.x=(O.width-J.width)/2),gameMapInstance.l(gameMapInstance.U.x,gameMapInstance.U.y))};
U.create=function(){gameMapInstance||(gameMapInstance=new U,gameMapInstance.K=ua(gameMapInstance),gameMapInstance.f(gameMapInstance.K),gameMapInstance.Sf=q.xb.create(J.width,J.height),gameMapInstance.Sf.l(q.a(Math.floor(J.width/2),Math.floor(J.height/2))),gameMapInstance.f(gameMapInstance.Sf),gameMapInstance.Sf.B(!1),gameMapInstance.Ln=q.Node.create(),gameMapInstance.f(gameMapInstance.Ln),gameMapInstance.Nf=q.xb.create(J.width,J.height),gameMapInstance.Nf.l(q.a(Math.floor(J.width/2),Math.floor(J.height/
2))),gameMapInstance.f(gameMapInstance.Nf),gameMapInstance.Nf.B(!1),gameMapInstance.sq(-15),gameMapInstance.A());return gameMapInstance};U.g=function(){return gameMapInstance};U.pt=function(){gameMapInstance.J();gameMapInstance=null};U.Ht=function(){gameMapInstance||(gameMapInstance=U.create());gameMapInstance.Xg=!0};U.iY=function(a){gameMapInstance.hY(a)};U.g=function(){return gameMapInstance};
U.Xl=function(a,c,d,e){gameMapInstance.cc[a]&&(gameMapInstance.K[a].Xl(c,d,e),gameMapInstance.cc[a][e]={texture:c,frame:d})};U.LY=function(){Q.DC();z({savemap:gameMapInstance.wl,mapdata:gameMapInstance.cc})};U.CC=function(a,c){gameMapInstance.cc[a][c]=null;gameMapInstance.K[a].CC(c)};U.ZX=function(a,c){null!=c&&"undefined"!==c&&(gameMapInstance.K[a].jE(c),gameMapInstance.cc[a].info={script:c})};U.OT=function(a){return gameMapInstance.K[a].Mh()};
U.ES=function(a){gameMapInstance.K[a].DS();gameMapInstance.cc[a].info={script:null}};
U.sX=function(a){gameMapInstance.cc.mapdata.mapConnectors=a;gameMapInstance.Kl=a.up;gameMapInstance.Hl=a.down;gameMapInstance.Il=a.left;gameMapInstance.Jl=a.right;if(gameMapInstance.Gi!=a.width||gameMapInstance.Fi!=a.height){N=a.width;M=a.height;Da();gameMapInstance.K.J();var c=0,d;for(d in gameMapInstance.cc)"mapdata"!=d&&c++;if(c>N*M)for(d=N*M;d<c;d++)delete gameMapInstance.cc["tile"+d];for(d=0;d<N*M;d++)gameMapInstance.cc["tile"+d]||(gameMapInstance.cc["tile"+d]={})}gameMapInstance.Gi=a.width;
gameMapInstance.Fi=a.height};U.XS=function(a,c,d){for(var e in gameMapInstance.K)"tile"==e.substring(0,4)&&gameMapInstance.cc[e]&&(gameMapInstance.K[e].Xl(a,c,d),gameMapInstance.cc[e][d]={texture:a,frame:c})};U.xL=function(a){for(var c in gameMapInstance.K)"tile"==c.substring(0,4)&&gameMapInstance.K[c].WX(a);SkillBarsInstance.B(!a);Y.B(!a);gameMapInstance.Xg=!0};
U.Kba=function(){for(var a in gameMapInstance.K)"tile"==a.substring(0,4)&&gameMapInstance.K[a].string.ma(a.substring(4));gameMapInstance.Xg=!0};U.qJ=function(){return null!=gameMapInstance.Kl};U.nJ=function(){return null!=gameMapInstance.Hl};U.oJ=function(){return null!=gameMapInstance.Il};U.pJ=function(){return null!=gameMapInstance.Jl};U.rf=function(){return gameMapInstance.wl};U.TC=function(){return gameMapInstance.Kl};U.QC=function(){return gameMapInstance.Hl};U.RC=function(){return gameMapInstance.Il};
U.SC=function(){return gameMapInstance.Jl};U.XI=function(){return gameMapInstance.Gi};U.WI=function(){return gameMapInstance.Fi};U.$p=function(a,c){c||(MapMaster=!1);Q.g().B(!1);Q.DC();U.of();gameMapInstance.wl=a;Q.r.H.nq(a);Q.Fk();gameMapInstance.Zl(a)};U.XT=function(a){Q.DC();U.of();gameMapInstance.wl=a;gameMapInstance.Zl(a)};U.WT=function(){Q.g().B(!1);U.of();gameMapInstance.wl=gameMapInstance.Kl;Q.r.H.nq(gameMapInstance.Kl);Q.Fk();gameMapInstance.Zl(gameMapInstance.Kl)};
U.TT=function(){Q.g().B(!1);U.of();gameMapInstance.wl=gameMapInstance.Hl;Q.r.H.nq(gameMapInstance.Hl);Q.Fk();gameMapInstance.Zl(gameMapInstance.Hl)};U.UT=function(){Q.g().B(!1);U.of();gameMapInstance.wl=gameMapInstance.Il;Q.r.H.nq(gameMapInstance.Il);Q.Fk();gameMapInstance.Zl(gameMapInstance.Il)};U.Ai=function(a){if(!V.PC(a))return q.size(36,36);a=V.PC(a).mapdata.mapConnectors;return q.size(a.width,a.height)};
U.VT=function(){Q.g().B(!1);U.of();gameMapInstance.wl=gameMapInstance.Jl;Q.r.H.nq(gameMapInstance.Jl);Q.Fk();gameMapInstance.Zl(gameMapInstance.Jl)};U.qt=function(a){gameMapInstance.zn=a};U.xn=function(a,c){return a>N-1||0>a?void 0:gameMapInstance.K["tile"+(a+(M-c)*N)]};U.aJ=function(a,c){for(var d in Q.g().ke){var e=Q.g().ke[d].hc();if(e.x==a&&e.y==c)return Q.g().ke[d]}return null};U.iJ=function(a){return gameMapInstance.K["tile"+a]};
U.vR=function(){var a=Q.g();gameMapInstance.Ln.f(a);U.Bl(Q.r.H.u.I,Q.r.H.u.T)};U.of=function(){gameMapInstance.cc={};for(var a in gameMapInstance.K)"tile"==a.substring(0,4)&&(gameMapInstance.K[a].of(),gameMapInstance.cc[a]={});gameMapInstance.cc.mapdata={};gameMapInstance.Xg=!0};var Q=q.Wc.extend({r:null,Cc:[],ke:[],H:null});Q.g=function(){return this.r};Q.pt=function(){this.r.J();this.r=null};Q.create=function(a){this.r||(this.r=new Q,this.r.H=PlayerCharacter.create(a),this.r.f(this.r.H));return this.r};Q.wN=function(){var a=U.rf(),c=[],d;for(d in this.r.ke)this.r.ke[d].mg==a&&c.push(this.r.ke[d]);return c};Q.Up=function(a){return this.r.ke[a]};Q.YU=function(a,c,d){this.r.ke[a]&&"default"!=c&&this.r.H.mg==d&&this.r.ke[a].qM(c)};
Q.sW=function(a,c){this.r.ke[a]&&"default"!=c&&this.r.ke[a].l(q.a(c%N*L,Math.floor(c/N)*L))};Q.DC=function(){for(var a in this.r.ke)this.r.ke[a].J();this.r.ke=[]};Q.pR=function(a,c){var d=U.rf();if(a&&a.sprite){var e=parseInt(this.r.ke.length);this.r.ke.push(NonPlayerCharacter.create({name:a.name,Zn:{health:{cd:1,value:100,kg:200,jg:900},mana:{cd:1,value:100,kg:200,jg:99}},map:d,Bt:"sprites1.png",zt:a.sprite.number,An:e,Tc:a.script}));this.r.ke[e].l(c.x*L,c.y*L);this.r.f(this.r.ke[e])}};Q.t7=function(){return this.r.H};
Q.Ci=function(a){return this.r.Cc[a]};Q.uR=function(a){this.r.Cc[a.id]=PlayerCharacter.create({name:a.id,Zn:{health:{cd:1,value:100,kg:200,jg:900},mana:{cd:1,value:100,kg:200,jg:99}},map:a.location.mapnumber,Bt:"sprites1.png",zt:1});var c=a.location.position,d=U.Ai(a.location.mapnumber);this.r.Cc[a.id].l(c%d.width*L,Math.floor(c/d.width)*L);Q.Fk();this.r.f(this.r.Cc[a.id]);c=D["Join Message"]+"";c=c.replace("<PLAYER>",a.id);R.gc(c)};
Q.uI=function(a){if(this.r.Cc[a]){this.r.Cc[a].J();this.r.Cc[a]=null;var c=D["Leave Message"]+"",c=c.replace("<PLAYER>",a);R.gc(c);for(c=0;c<A.length;c++){var d=JSON.parse(A[c]);d.id&&d.id==a&&(A.splice(c,1),c--)}}};
Q.ZU=function(a){console.log(a.location.position);if(this.r.Cc[a.id])this.r.Cc[a.id].qM(a.location.position);else{this.r.Cc[id]=PlayerCharacter.create({name:a.id,Zn:{health:{cd:1,value:100,kg:200,jg:900},mana:{cd:1,value:100,kg:200,jg:99}},map:a.location.mapnumber,Bt:"sprites1.png",zt:1});var c=a.location.position,d=U.Ai(a.location.mapnumber);this.r.Cc[id].l(q.a(c%d.width*L,Math.floor(c/d.width)*L));Q.Fk();this.r.f(this.r.Cc[a.id]);c=D["Join Message"]+"";c=c.replace("<PLAYER>",a.id);R.gc(c)}};
Q.CV=function(a){if(this.r.Cc[a.id])this.r.Cc[a.id].l(q.a(a.location.position%N*L,Math.floor(a.location.position/N)*L));else{this.r.Cc[a.id]=PlayerCharacter.create({name:a.id,Zn:{health:{cd:1,value:100,kg:200,jg:900},mana:{cd:1,value:100,kg:200,jg:99}},map:a.location.mapnumber,Bt:"sprites1.png",zt:1});var c=a.location.position,d=U.Ai(a.location.mapnumber);this.r.Cc[a.id].l(q.a(c%d.width*L,Math.floor(c/d.width)*L));Q.Fk();this.r.f(this.r.Cc[a.id]);c=D["Join Message"];c=c.replace("<PLAYER>",a.id);R.gc(c)}};
Q.SR=function(a){this.r.Cc[a]&&this.r.Cc[a].nM("AFK")};Q.Fk=function(){var a=this.r.H.mg,c;for(c in this.r.Cc)null!=this.r.Cc[c]&&this.r.Cc[c].B(this.r.Cc[c].mg==a)};Q.of=function(){for(var a in this.r.Cc)null!=this.r.Cc[a]&&Q.uI(a);this.r.H.J();this.r.H=null};Q.RR=function(a,c){this.r.Cc[a].nq(c);this.r.Cc[a].B(this.r.H.mg==c)};Character=q.v.extend({name:null,Zn:null,ZL:null,g2:null,xf:null,Yg:!1,Hn:null,ny:null,wj:!1,An:-1,status:null,mg:null,path:null,facing:"DOWN",A:function(a){this.YX(a.Bt,a.zt);this.Zn=new StatsController(a.uca,this);this.f(this.Zn);this.name=a.name;a.Tc&&(this.Tc=a.Tc);a.wj&&(this.wj=a.wj);a.map&&(this.mg=a.map);null!=a.An&&"undefined"!==a.An&&(this.An=a.An);this.w(0,1);this.Hn=q.R.create("","Arial",12);this.Hn.w(.5,0);this.Hn.q(255,0,0);this.Hn.l(Math.floor(this.c().width/2),this.c().width+3);this.f(this.Hn);
this.iM()},U4:function(){return this.facing},nq:function(a){this.mg=a},s5:function(){return this.mg},nM:function(a){this.status=a&&a!=this.status?a:null;this.iM()},iM:function(){null!=this.status?this.Hn.ma(this.name+"-"+this.status):this.Hn.ma(this.name)},getName:function(){return this.name},Qf:function(a,c,d){this.ib(q.rect(a*Ca,4*this.ZL.id*Ca+c*Ca,Ca,Ca));this.ny=q.a(a,c);this.facing=d},Nh:function(){return this.ny},YX:function(a,c){this.ZL={name:a,id:c};this.la(q.fa.g().ka(a));this.Qf(1,0)},
hc:function(){return q.a(this.u.x/L,this.u.y/L)},Qw:.24,OY:.24,xl:2,sda:function(a){var c=a.position%N,d=Math.floor(a.position/N);this.l(c*L,d*L);z({changemap:a.mapTo,setTo:a.position});U.$p(a.mapTo);U.Bl(c*L,d*L)},yU:function(){if(!this.Yg){var a=this.hc();if(a=U.xn(a.x,a.y))a.yn()&&this.xV(a.yn()),a.Mh()&&S("Interact On",a,"Tile")}},xU:function(a){a&&(this.Yg||a&&(a.yn()?this.yV(a.yn(),a):a.Mh()&&S("Interact On",a,"Tile")))},wU:function(){if(!this.Yg){var a=this.hc();switch(this.facing){case "RIGHT":a.x+=
1;break;case "LEFT":--a.x;break;case "UP":a.y+=1;break;case "DOWN":--a.y}var c=U.aJ(a.x,a.y);c?S("Default Event",c,"NPC"):(a=U.xn(a.x,a.y))&&a.Mh()&&S("Interact Facing",a,"Tile")}},Jt:function(a){this.Qw+=a;a=this.u;var c=this.Nh();this.Qw>this.OY&&(this.Qw=0,this.xf.x<a.x?this.Qf((c.x+1)%3,1,"LEFT"):this.xf.x>a.x?this.Qf((c.x+1)%3,2,"RIGHT"):this.xf.y<a.y?this.Qf((c.x+1)%3,0,"DOWN"):this.xf.y>a.y&&this.Qf((c.x+1)%3,3,"UP"));this.xf.x<a.x?(this.Oa(a.x-this.xl),this.wj&&U.updateOffset(+this.xl,0)):
this.xf.x>a.x?(this.Oa(a.x+this.xl),this.wj&&U.updateOffset(-this.xl,0)):this.xf.y<a.y?(this.xc(a.y-this.xl),this.wj&&U.updateOffset(0,this.xl)):this.xf.y>a.y&&(this.xc(a.y+this.xl),this.wj&&U.updateOffset(0,-this.xl));a.y==this.xf.y&&a.x==this.xf.x&&(this.Yg=!1,this.yx&&S("On Leave",U.xn(this.yx.x,this.yx.y),"Tile"),this.yx=null,S("On Enter",U.xn(this.hc().x,this.hc().y),"Tile"),this.Nc(this.Jt),null!=this.path&&this.dI())},xq:function(a,c){if(0!=this.ya){var d=U.xn(a,c),e=this.ny,f=this.hc();f.x>
a?this.Qf(e.x,1,"LEFT"):f.x<a&&this.Qf(e.x,2,"RIGHT");f.y>c?this.Qf(e.x,0,"DOWN"):f.y<c&&this.Qf(e.x,3,"UP");d?0==this.Yg&&d&&!gameMapInstance.ft(d)&&(S("Will Leave",U.xn(this.hc().x,this.hc().y),"Tile"),this.yx=q.a(this.hc().x,this.hc().y),this.xf=q.a(L*a,L*c),this.Yg=!0,S("Will Enter",U.xn(a,c),"Tile"),this.kc(this.Jt),this.Jt(0),this.wj?z({moveTo:this.xf.x/L+this.xf.y/L*N}):-1<this.An&&z({npcID:this.An+"",mapnumber:this.mg,moveNPC:this.xf.x/L+this.xf.y/L*N})):(null==Mapeditor||Mapeditor.ca||(Mapeditor=
null),this.wj&&null==Mapeditor&&(f.x<a&&U.pJ()?(d=U.Ai(U.SC()),this.l(0,L*c),z({changemap:parseInt(U.SC()),setTo:0+c*d.width}),U.VT(),U.aD()):f.x>a&&U.oJ()&&(d=U.Ai(U.RC()),this.l(L*(d.width-1),L*c),z({changemap:parseInt(U.RC()),setTo:d.width-1+c*d.width}),U.UT(),U.bD()),f.y<c&&U.qJ()?(d=U.Ai(U.TC()),this.l(L*a,L),z({changemap:parseInt(U.TC()),setTo:a+1*d.width}),U.WT(),U.cD()):f.y>c&&U.nJ()&&(d=U.Ai(U.QC()),z({changemap:parseInt(U.QC()),setTo:a+d.height*d.width}),this.l(L*a,L*d.height),U.TT(),U.$C())))}},
dI:function(){0==this.path.length?this.path=null:(this.path.splice(0,1),0==this.path.length?this.path=null:this.xq(this.path[0].x,this.path[0].y))},wt:function(a){if(null==this.path||0!=a.length)this.path=a,this.dI()},qM:function(a){if(0!=this.ya){var c=a%N;a=Math.floor(a/N);if(0==this.Yg){var d=this.ny,e=this.hc();4<Math.abs(q.BD(q.a(c,a),e))?this.l(q.a(L*c,L*a)):(e.x>c?this.Qf(d.x,1,"LEFT"):e.x<c?this.Qf(d.x,2,"RIGHT"):e.y>a?this.Qf(d.x,0,"DOWN"):e.y<a&&this.Qf(d.x,3,"UP"),this.xf=q.a(L*c,L*a),
this.Yg=!0,this.kc(this.Jt),this.Jt(0))}}}});
PlayerCharacter=Character.extend({items:null,Jp:3,zi:null,Pl:null,A:function(a){this._super(a);this.zi=[];this.Pl=[];a.Jp&&(this.Jp=a.Jp);this.items={stored:[],equipped:{},bank:[]};if(a.position){var c=U.Ai(a.map),d=a.position%c.width,c=Math.floor(a.position/c.width);this.l(d*L,c*L);U.XT(a.map);U.Bl(d*L,c*L);this.mg=a.map}a.EJ&&(this.items.stored=a.EJ);a.JR&&(this.items.bank=a.JR);a.zi&&(this.zi=a.zi);a.Pl&&(this.Pl=a.Pl);if(a.DI){this.items.equipped=a.DI;for(var e in this.items.equipped)S("Default Event",
this.items.equipped[e],"Item",{"Equip Item":!0,"Give /Take Item":!0,"Warp Player":!0,"Read Item":!0,"Open/Close Panel":!0,Destroy:!0})}this.bS()},bS:function(){this.zi=[];z({saveUserExtra:[],name:this.getName()})},cE:function(a,c){this.zi[a]=c;z({saveUserExtra:this.zi,name:this.getName()})},Tp:function(a){return this.zi[a]?this.zi[a]:null},MX:function(a,c){this.Pl[a]=c},vk:function(a){return this.Pl[a]},Gt:function(){Inventory&&Inventory.La();Equipment&&Equipment.La()},ZH:function(a){for(var c=0,
d=0;72>d;d++)if(!this.items.bank[d]){c=d;break}this.items.bank[c]=a},$H:function(a){for(var c=0,d=0;d<this.items.stored.length;d++)if(!this.items.stored[d]){c=d;break}this.items.stored[c]=a},SH:function(a){item=ObjectLists.Jb()[a.Fd];this.hc();if(1==item.stackable)for(var c=0;40>c;c++)if(this.items.stored[c]&&this.items.stored[c].number==a.Fd){this.items.stored[c].amount+=a.Hc;Inventory&&Inventory.jh(c,this.items.stored[c].amount);return}for(var d=!1,c=0;0<a.Hc;c++)if(null==this.items.stored[c])if(1==
item.stackable){this.items.stored[c]={number:a.Fd,amount:a.Hc};Inventory&&Inventory.jh(c,a.Hc);d=!0;break}else a.Hc--,this.items.stored[c]={number:a.Fd,amount:1},Inventory&&Inventory.jh(c,a.Hc),d=!0;0==d&&R.gc(D["Inventory Full"]);Inventory&&Inventory.La();Equipment&&Equipment.La()},xV:function(a){item=ObjectLists.Jb()[a.Fd];var c=this.hc();S("On Pickup",item,"Item");if(1==item.stackable)for(var d=0;40>d;d++)if(this.items.stored[d]&&this.items.stored[d].number==a.Fd){this.items.stored[d].amount+=
a.Hc;Inventory&&Inventory.jh(d,this.items.stored[d].amount);a=D["Item Pick Up"];a=a.replace("<ITEM>",item.name);R.gc(a);z({pickupitem:P(c.x,c.y),mapnumber:U.rf()});return}for(var e=!1,d=0;0<a.Hc;d++)if(null==this.items.stored[d])if(1==item.stackable){this.items.stored[d]={number:a.Fd,amount:a.Hc};Inventory&&Inventory.jh(d,a.Hc);e=!0;break}else a.Hc--,this.items.stored[d]={number:a.Fd,amount:1},Inventory&&Inventory.jh(d,a.Hc),e=!0;0==e?R.gc(D["Inventory Full"]):(a=D["Item Pick Up"],a=a.replace("<ITEM>",
item.name),R.gc(a),z({pickupitem:P(c.x,c.y),mapnumber:U.rf()}));Inventory&&Inventory.La();Equipment&&Equipment.La()},yV:function(a,c){item=ObjectLists.Jb()[a.Fd];var d=q.a(c.u.I/L,c.u.T/L);S("On Pickup",item,"Item");if(1==item.stackable)for(var e=0;40>e;e++)if(this.items.stored[e]&&this.items.stored[e].number==a.Fd){Inventory&&(this.items.stored[e].amount+=a.Hc,Inventory.jh(e,this.items.stored[e].amount));e=D["Item Pick Up"];e=e.replace("<ITEM>",item.name);R.gc(e);z({pickupitem:P(d.x,d.y),mapnumber:U.rf()});
return}for(var f=!1,e=0;40>e;e++)if(null==this.items.stored[e]){this.items.stored[e]={number:a.Fd,amount:a.Hc};Inventory&&Inventory.jh(e,a.Hc);e=D["Item Pick Up"];e=e.replace("<ITEM>",item.name);R.gc(e);z({pickupitem:P(d.x,d.y),mapnumber:U.rf()});f=!0;break}0==f&&R.gc(D["Inventory Full"]);Inventory&&Inventory.La();Equipment&&Equipment.La()},HC:function(a,c){var d=this.hc(),e=this.items[c][a],f=ObjectLists.Jb()[e.number];S("On Drop",f,"Item");if(this.items[c][a]){var g=D["Item Dropped"],g=g.replace("<ITEM>",
f.name);R.gc(g);z({droppeditem:e.number,mapnumber:U.rf(),index:P(d.x,d.y),amount:e.amount});1==f.stackable&&1<e.amount&&Inventory.jh(a,0);this.items[c][a]=null}Inventory&&Inventory.La();Equipment&&Equipment.La();Shop&&Shop.uW()},MY:function(a){S("Default Event",ObjectLists.Jb()[this.items.stored[a].number],"Item",{},a)},CS:function(a){for(var c=0;40>c;c++)if(null==this.items.stored[c]){this.items.stored[c]=H(this.items.equipped[a]);this.items.equipped[a]=null;Inventory&&Inventory.La();Equipment&&
Equipment.La();S("On Dequip",this.items.stored[c],"Item");return}R.gc("No space in inventory to dequip this item.")},Sd:function(){return this.items.stored},Al:function(){return this.items.bank},ix:function(){return this.items.equipped}});PlayerCharacter.create=function(a){var c=new PlayerCharacter;c.A(a);return c};NonPlayerCharacter=Character.extend({e9:null,Mx:!1,KX:function(a,c){this.Mx=!0;this.Xd(function(){this.xq(a.x,a.y);this.Mx=!1},c)},t8:function(){return this.Mx}});
NonPlayerCharacter.create=function(a){var c=new NonPlayerCharacter;c.A(a);return c};var Ha=q.Wc.extend({XD:null,b:null,AD:function(){},ctor:function(){this._super()},rM:function(){},Xn:function(){},Sh:function(){},oa:function(){this.b&&this.b.J();this.b=ua(this);this.f(this.b)},za:function(){},A:function(){this.pE(1);this.Wx(!0);this.pc(!0);C.Vn(this);this._super()},zD:function(){q.log("Override onKeyDown in scene extended class to use keyboard")},Ml:function(){q.log("Override onKeyUp in scene extended class to use keyboard")},nX:function(a){this.XD=a},Ic:function(){return this.XD}});DropDownList=Ha.extend({list:null,nS:null,selected:null,b:null,k:null,rI:null,uK:null,xt:null,ctor:function(){this._super();this.list=[];this.nS=0},A:function(a,c,d,e,f){this._super();a&&(this.k=a,this.rI=c,d&&(this.list=d),e&&this.l(e),this.VS=f?f:{},this.uK=C.bT(),C.Vn(this),this.sq(-1001),this.Wx(!0))},ub:function(a){for(var c=this.b.control_menu.Ia(a.S),d=0;d<this.list.length;d++)this.xt&&1!=this.xt[d].enabled||q.vb(q.rect(this.b.control_menu[d+""].u.I,this.b.control_menu[d+""].u.T,this.b.control_menu[d+
""].c().width,this.b.control_menu[d+""].c().height),c)&&this.rI(d,a,this.list,this.VS);this.KV();return!0},KV:function(){C.Vn(this.uK);this.J();ta()},tW:function(){this.xc(this.u.T-24*this.list.length);for(var a=0,c=0;c<this.list.length;c++)this.b.control_menu[c+""].content.c().width>a&&(a=this.b.control_menu[c+""].content.c().width);for(c=0;c<this.list.length;c++)this.b.control_menu[c+""].N(a+8,this.b.control_menu[c+""].c().height);this.b.control_menu.N(a+8,this.b.control_menu.c().height)},tc:function(){for(var a=
{},c=0;c<this.list.length;c++)a[c+""]={position:q.a(0,24*(this.list.length-1)-24*c),size:q.size(96,24),e:q.a(0,0),color:q.i(200,200,200,200),children:{content:{label:this.list[c],fontSize:20,color:q.n(0,0,0),e:q.a(0,.5),position:q.a(4,12)}}};return{panels:{children:{control_menu:{position:q.a(0,0),color:q.i(200,200,200,0),size:q.size(96,24),children:a}}}}},Sh:function(a){a=this.b.control_menu.Ia(a.S);for(var c=0;c<this.list.length;c++)this.b.control_menu[c+""].q(q.i(200,200,200,200)),this.xt&&1!=
this.xt[c].enabled||q.vb(q.rect(this.b.control_menu[c+""].u.I,this.b.control_menu[c+""].u.T,this.b.control_menu[c+""].c().width,this.b.control_menu[c+""].c().height),a)&&this.b.control_menu[c+""].q(q.i(255,0,0,255))}});DropDownList.Rc=function(a,c,d,e,f,g){var h=new DropDownList;h.A(a,c,d,e,g);h.b=ua(h.tc(),!0);if(f){for(a=0;a<h.list.length;a++)0==f[a].enabled&&h.b.control_menu[a+""].content.q(q.i(127,127,127,200));h.xt=f}h.f(h.b);h.tW();return h};Popup=Ha.extend({Vd:null,Ug:!1,A:function(){this.XD=this.Ic();this._super();C.Vn(this);this.sq(-300)},C3:function(){this.J()},ub:function(a){var c=a.S;C.Vn(this);c=this.b.control_panel.Ia(c);if(q.vb(q.rect(this.b.control_panel.exitBtn.u.I,this.b.control_panel.exitBtn.u.T,this.b.control_panel.exitBtn.c().width,this.b.control_panel.exitBtn.c().height),c)){var d=this;this.ca.Xd(function(){0==d.Ug&&d.za();d.J();d=null});return!0}return q.vb(q.rect(this.b.u.x,this.b.u.y+this.b.control_panel.u.y,this.b.control_panel.c().width,
this.b.control_panel.c().height),a.S)?(this.Vd=this.b.vi(a),!0):!1},Td:function(a){return this.Vd?(a=a.S,this.b.l(a.x-this.Vd.x,a.y-this.Vd.y),!0):!1},bh:function(){this.Vd&&(this.Vd=null);V.FX(this.Ic(),this.b.u)},Ic:function(){q.log("No id given... using default 'Popup'");return"Popup"},oa:function(){this._super();var a=V.tT();if("null"!=a&&null!=a&&(a=JSON.parse(a)[this.Ic()])){a=q.a(a.x,a.y);if(a.x>O.width-10||a.y>O.height)a=q.a(8,100);this.b.l(a)}}});Book=null;
BookPanel=Popup.extend({name:null,content:null,og:null,Ic:function(){return"Book"},tc:function(){return{panels:{position:q.a(100,20),children:{main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(514,313),$:"GUI/book.png",children:{pageBackbtn:{position:q.a(2,1),size:q.size(36,36),$:"GUI/btnLeft.png",e:q.a(0,0)},pageForwardbtn:{position:q.a(475,1),size:q.size(36,36),$:"GUI/btnRight.png",e:q.a(0,0)},leftPage:{label:this.og[0],e:q.a(0,1),position:q.a(4,308),color:q.n(0,0,0)},rightPage:{label:1<this.og.length?
this.og[1]:"",e:q.a(0,1),position:q.a(260,308),color:q.n(0,0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,313),size:q.size(514,32),children:{header:{label:this.name,fontSize:20,e:q.a(0,.5),position:q.a(8,16)},exitBtn:{position:q.a(490,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},A:function(a,c){this._super();this.name=a;this.content=c;this.og=[];for(var d=c;d;)if(470>d.length){this.og.push(d);break}else this.og.push(d.substr(0,470)+"..."),d=d.substr(470);this.tV=Math.floor(this.og.length/
2)-1;this.nj=0},oa:function(){this._super();this.b.main_panel.leftPage.Va(q.size(248,0));this.b.main_panel.rightPage.Va(q.size(248,0));this.b.main_panel.pageBackbtn.B(!1);2>this.og.length&&this.b.main_panel.pageForwardbtn.B(!1)},YT:function(){this.nj++;this.b.main_panel.pageBackbtn.B(!0);this.nj==this.tV&&this.b.main_panel.pageForwardbtn.B(!1);this.b.main_panel.leftPage.ma(this.og[2*this.nj]);this.og[2*this.nj+1]?this.b.main_panel.rightPage.ma(this.og[2*this.nj+1]):this.b.main_panel.rightPage.ma("")},
ZT:function(){this.nj--;this.b.main_panel.pageForwardbtn.B(!0);0==this.nj&&this.b.main_panel.pageBackbtn.B(!1);this.b.main_panel.leftPage.ma(this.og[2*this.nj]);this.og[2*this.nj+1]&&this.b.main_panel.rightPage.ma(this.og[2*this.nj+1])},ub:function(a){if(this._super(a))return!0;this.Vd=null;a=this.b.main_panel.Ia(a.S);if(E(this.b.main_panel.pageForwardbtn,a))return this.YT(),!0;if(E(this.b.main_panel.pageBackbtn,a))return this.ZT(),!0}});NpcChat=null;
NpcChatPanel=Popup.extend({name:null,content:null,Uw:null,Tc:null,EI:null,eK:null,F:null,Ic:function(){return"Book"},tc:function(){return{panels:{position:q.a(100,20),children:{main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(512,138),$:"GUI/npctalk.png",children:{chatText:{label:this.content?this.content:"",e:q.a(0,1),position:q.a(138,134),color:q.n(0,0,0)},list:{size:q.size(320,80),position:q.a(154,4),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,138),size:q.size(512,32),children:{header:{label:this.name?
this.name:"",fontSize:20,e:q.a(0,.5),position:q.a(8,16)},exitBtn:{position:q.a(488,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},nb:function(){this.F&&this.F.bc();var a=[],c=[];q.fa.g();for(var d in this.Uw){a[d]=q.Node.create();a[d].N(324,32);var e=q.X.create(q.i(200,200,200,200),300,10);e.l(q.a(12,1));var f=q.R.create(">"+this.Uw[d],"Arial",14);f.w(q.a(0,0));f.l(q.a(4,2));f.Va(q.size(300,0));f.q(q.n(100,0,0));a[d].f(e);e.f(f);a[d].N(324,f.c().height+8);e.N(300,f.c().height+4);e.Na="Use";
c.push([e])}this.F=this.b.main_panel.list;var g=this;this.F.ac=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(324,c)};this.F.Ub=function(){return a.length};this.F.jc=function(c){return a[c].c()};this.F.ic=function(c){return a[c]};this.F.lb=function(a,c){switch(a){case "Use":I.gU(),S("On Talk Option Selected for event:"+g.EI+", option:"+c,g.eK,"NPC")}};this.F.Q=ListView.create(this.F);this.F.Q.lc(c);this.F.f(this.F.Q)},A:function(a,c,d,e,f,g){this._super();this.name=e;this.content=
f;this.Tc=c;this.EI=d;this.eK=a;g&&(this.Uw=g)},oa:function(){this._super();this.b.main_panel.chatText.Va(q.size(350,0));this.Uw&&this.nb()},ub:function(a){if(this._super(a))return!0}});Equipment=null;
EquipmentPanel=Popup.extend({Ic:function(){return"Equipment"},tc:function(){var a={};a.head={$:"GUI/defaultitem.png",position:q.a(88,162),size:q.size(32,32),e:q.a(0,1)};a.legs={$:"GUI/defaultitem.png",position:q.a(88,82),size:q.size(32,32),e:q.a(0,1)};a.feet={$:"GUI/defaultitem.png",position:q.a(88,40),size:q.size(32,32),e:q.a(0,1)};a.body={$:"GUI/defaultitem.png",position:q.a(88,122),size:q.size(32,32),e:q.a(0,1)};a.lArm={$:"GUI/defaultitem.png",position:q.a(48,122),size:q.size(32,32),e:q.a(0,1)};
a.rArm={$:"GUI/defaultitem.png",position:q.a(128,122),size:q.size(32,32),e:q.a(0,1)};a.mod={$:"GUI/defaultitem.png",position:q.a(8,162),size:q.size(32,32),e:q.a(0,1)};return{panels:{position:q.a(100,300),children:{main_panel:{e:q.a(0,0),size:q.size(168,168),$:"GUI/equipment.png",children:a},control_panel:{e:q.a(0,0),position:q.a(0,168),size:q.size(168,32),children:{header:{label:D["Equipment Header"],fontSize:20,e:q.a(0,.5),position:q.a(8,16)},exitBtn:{position:q.a(144,6),size:q.size(20,20),e:q.a(0,
0),$:"GUI/close.png"}}},item_name:{position:q.a(0,0),color:q.i(200,200,200,200),size:q.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:q.n(0,0,0),e:q.a(.5,.5),position:q.a(32,8)}}}}}}},La:function(){var a=Q.r.H.ix();this.b.main_panel.head.la(q.fa.g().ka("GUI/defaultitem.png"));this.b.main_panel.body.la(q.fa.g().ka("GUI/defaultitem.png"));this.b.main_panel.legs.la(q.fa.g().ka("GUI/defaultitem.png"));this.b.main_panel.feet.la(q.fa.g().ka("GUI/defaultitem.png"));this.b.main_panel.lArm.la(q.fa.g().ka("GUI/defaultitem.png"));
this.b.main_panel.rArm.la(q.fa.g().ka("GUI/defaultitem.png"));this.b.main_panel.mod.la(q.fa.g().ka("GUI/defaultitem.png"));for(var c in a)if(a[c]){var d=ObjectLists.Jb()[a[c].number],e;for(e in u)if(u[e].name==d.sprite.texture)var f=u[e].texture;this.b.main_panel[c]&&(this.b.main_panel[c].w(0,1),this.b.main_panel[c].la(f),this.b.main_panel[c].ib(q.rect(32*d.sprite.position.x,32*d.sprite.position.y,32,32)))}},zx:function(a){switch(a){case 0:Q.r.H.CS(this.k.wc);break;case 1:Q.r.H.HC(this.k.wc,"equipped")}},
ub:function(a){if(this._super(a))return!0;this.Vd=null;var c=this.b.main_panel.Ia(a.S),d=Q.r.H.ix(),e;for(e in d)if(d[e]){var f=ObjectLists.Jb()[d[e].number];if(E(this.b.main_panel[e],q.a(c.x,c.y+32)))return this.wc=e,this.b.item_name.B(!1),c=D["Item Dropdown Unequip"]+"",c=c.replace("<ITEM>",f.name),d=D["Item Dropdown Drop"]+"",d=d.replace("<ITEM>",f.name),this.f(DropDownList.Rc(this,this.zx,[c,d],a.S)),!0}},Sh:function(a){a=this.b.main_panel.Ia(a.S);this.b.item_name.B(!1);var c=Q.r.H.ix(),d;for(d in c)if(c[d]){var e=
ObjectLists.Jb()[c[d].number];if(E(this.b.main_panel[d],q.a(a.x,a.y+32)))return this.b.item_name.content.ma(e.name),this.b.item_name.B(!0),this.b.item_name.N(this.b.item_name.content.c()),this.b.item_name.content.Oa(this.b.item_name.content.c().width/2),this.b.item_name.l(q.a(this.b.main_panel[d].u.I-this.b.item_name.content.c().width/2+16,this.b.main_panel[d].u.T)),!0}},Sl:function(){this.b.main_panel.head.ia()&&(this.Nc(this.Sl),this.La())},oa:function(){this._super();this.b.main_panel.head.ia()?
this.La():this.kc(this.Sl)}});Inventory=null;
InventoryPanel=Popup.extend({wc:null,gt:!1,Ic:function(){return"Inventory"},tc:function(){for(var a={},c=0;5>c;c++)for(var d=0;8>d;d++)a[5*d+c+""]={size:q.size(32,32),position:q.a(40*c+8,40*(7-d)+40),$:"GUI/defaultitem.png",e:q.a(0,1),children:{stacklabelbg:{position:q.a(0,0),size:q.size(10,12),e:q.a(0,0),color:q.i(255,255,255,200),children:{stacklabel:{label:"",fontSize:10,color:q.n(0,0,0),e:q.a(0,0),position:q.a(0,0)}}}}};return{panels:{position:q.a(300,200),children:{main_panel:{e:q.a(0,0),$:"GUI/inventory.png",
size:q.size(208,328),children:a},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(208,32),children:{header:{label:D["Inventory Header"],fontSize:20,e:q.a(0,.5),position:q.a(8,16)},exitBtn:{position:q.a(184,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}},item_name:{position:q.a(0,0),color:q.i(200,200,200,200),size:q.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:q.n(0,0,0),e:q.a(.5,.5),position:q.a(32,8)}}}}}}},jh:function(a,c){this.b.main_panel[a+""].stacklabelbg.B(!1);
1<c&&(this.b.main_panel[a+""].stacklabelbg.B(!0),this.b.main_panel[a+""].stacklabelbg.stacklabel.ma(c),this.b.main_panel[a+""].stacklabelbg.N(this.b.main_panel[a+""].stacklabelbg.stacklabel.c().width,this.b.main_panel[a+""].stacklabelbg.c().height))},La:function(){for(var a=Q.r.H.Sd(),c=0;40>c;c++)if(a[c]){var d=ObjectLists.Jb()[a[c].number],e;for(e in u)if(u[e].name==d.sprite.texture)var f=u[e].texture;this.b.main_panel[c+""].w(0,1);this.b.main_panel[c+""].la(f);this.b.main_panel[c+""].ib(q.rect(32*
d.sprite.position.x,32*d.sprite.position.y,32,32));this.jh(c,a[c].amount)}else this.b.main_panel[c+""].la(q.fa.g().ka("GUI/defaultitem.png")),this.jh(c,0)},Sl:function(){this.b.main_panel[pa+""].ia()&&(this.Nc(this.Sl),this.La())},oa:function(){this._super();this.b.main_panel[pa+""].ia()?this.La():this.kc(this.Sl)},zx:function(a){switch(a){case 0:1==this.k.gt?Q.r.H.MY(this.k.wc):Q.r.H.HC(this.k.wc,"stored");break;case 1:Q.r.H.HC(this.k.wc,"stored")}this.k.gt=!1},ub:function(a){if(this._super(a))return!0;
this.Vd=null;for(var c=this.b.main_panel.Ia(a.S),d=0;40>d;d++)if(Q.r.H.Sd()[d]&&E(this.b.main_panel[d+""],q.a(c.x,c.y+32))){var e=ObjectLists.Jb()[Q.r.H.Sd()[d].number],f=[];e.script&&ObjectLists.Le()[e.script]&&(f=ObjectLists.Le()[e.script].data);if(f){for(c=0;c<f.length;c++)if("Default Event"==f[c].type)for(var g="Use Item",h=f[c].responses,k=0;k<h.length;k++)switch(console.log(h[k].type),h[k].type){case "Equip Item":g=D["Item Dropdown Equip"]+"";break;case "Read Item":g=D["Item Dropdown Read"]+
""}f=D["Item Dropdown Drop"]+"";f=f.replace("<ITEM>",e.name);g?(this.gt=!0,g=g.replace("<ITEM>",e.name),this.f(DropDownList.Rc(this,this.zx,[g,f],a.S))):this.f(DropDownList.Rc(this,this.zx,[f],a.S));this.wc=d;this.b.item_name.B(!1);return!0}}},Sh:function(a){a=this.b.main_panel.Ia(a.S);for(var c=0;40>c;c++)if(Q.r.H.Sd()[c]&&E(this.b.main_panel[c+""],q.a(a.x,a.y+32)))return this.b.item_name.content.ma(ObjectLists.Jb()[Q.r.H.Sd()[c].number].name),this.b.item_name.B(!0),this.b.item_name.N(this.b.item_name.content.c()),
this.b.item_name.content.Oa(this.b.item_name.content.c().width/2),this.b.item_name.l(q.a(this.b.main_panel[c+""].u.I-this.b.item_name.content.c().width/2+16,this.b.main_panel[c+""].u.T)),!0}});Bank=null;
BankPanel=Popup.extend({wc:null,gt:!1,Ic:function(){return"Bank"},tc:function(){for(var a={},c={},d=0;5>d;d++)for(var e=0;8>e;e++)a[5*e+d+""]={size:q.size(32,32),position:q.a(40*d+8,40*(7-e)+40),$:"GUI/defaultitem.png",e:q.a(0,1),children:{stacklabelbg:{position:q.a(1,1),size:q.size(10,6),e:q.a(0,0),color:q.i(255,255,255,200),children:{stacklabel:{label:"",fontSize:10,color:q.n(0,0,0),e:q.a(0,0),position:q.a(0,0)}}}}};for(d=0;9>d;d++)for(e=0;8>e;e++)c[9*e+d+""]={size:q.size(32,32),position:q.a(220+(40*
d+8),40*(7-e)+40),$:"GUI/defaultitem.png",e:q.a(0,1),children:{stacklabelbg:{position:q.a(1,1),size:q.size(10,6),e:q.a(0,0),color:q.i(255,255,255,200),children:{stacklabel:{label:"",fontSize:10,color:q.n(0,0,0),e:q.a(0,0),position:q.a(0,0)}}}}};return{panels:{position:q.a(300,200),children:{main_panel:{e:q.a(0,0),$:"GUI/bank.png",size:q.size(590,348),children:{inventory:{children:a},inventory_label:{label:D["Bank Header"],color:q.n(255,255,255),position:q.a(8,324),fontSize:16,e:q.a(0,0)},bank:{children:c},
bank_label:{label:"Stored",color:q.n(255,255,255),position:q.a(228,324),fontSize:16,e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,348),size:q.size(590,32),children:{header:{label:D["Bank Header"],fontSize:20,e:q.a(0,.5),position:q.a(8,16)},exitBtn:{position:q.a(566,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}},item_name:{position:q.a(0,0),color:q.i(200,200,200,200),size:q.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:q.n(0,0,0),e:q.a(.5,.5),position:q.a(32,
8)}}}}}}},fL:function(a,c){this.b.main_panel.inventory[a+""].stacklabelbg.B(!1);1<c&&(this.b.main_panel.inventory[a+""].stacklabelbg.B(!0),this.b.main_panel.inventory[a+""].stacklabelbg.stacklabel.ma(c),this.b.main_panel.inventory[a+""].stacklabelbg.N(this.b.main_panel.inventory[a+""].stacklabelbg.stacklabel.c()))},RK:function(a,c){this.b.main_panel.bank[a+""].stacklabelbg.B(!1);1<c&&(this.b.main_panel.bank[a+""].stacklabelbg.B(!0),this.b.main_panel.bank[a+""].stacklabelbg.stacklabel.ma(c),this.b.main_panel.bank[a+
""].stacklabelbg.N(this.b.main_panel.inventory[a+""].stacklabelbg.stacklabel.c()))},La:function(){for(var a=Q.r.H.Sd(),c=Q.r.H.Al(),d=0;40>d;d++)if(a[d]){var e=ObjectLists.Jb()[a[d].number],f;for(f in u)if(u[f].name==e.sprite.texture)var g=u[f].texture;this.b.main_panel.inventory[d+""].w(0,1);this.b.main_panel.inventory[d+""].la(g);this.b.main_panel.inventory[d+""].ib(q.rect(32*e.sprite.position.x,32*e.sprite.position.y,32,32));this.fL(d,a[d].amount)}else this.b.main_panel.inventory[d+""].la(q.fa.g().ka("GUI/defaultitem.png")),
this.fL(d,0);for(d=0;72>d;d++)if(c[d]){e=ObjectLists.Jb()[c[d].number];for(f in u)u[f].name==e.sprite.texture&&(g=u[f].texture);this.b.main_panel.bank[d+""].w(0,1);this.b.main_panel.bank[d+""].la(g);this.b.main_panel.bank[d+""].ib(q.rect(32*e.sprite.position.x,32*e.sprite.position.y,32,32));this.RK(d,c[d].amount)}else this.b.main_panel.bank[d+""].la(q.fa.g().ka("GUI/defaultitem.png")),this.RK(d,0)},Sl:function(){this.b.main_panel.inventory[pa+""].ia()&&(this.Nc(this.Sl),this.La())},oa:function(){this._super();
this.b.main_panel.inventory[pa+""].ia()?this.La():this.kc(this.Sl)},sM:function(a){0==a&&(a=Q.r.H.Al()[this.k.wc],Q.r.H.$H({number:a.number,amount:a.amount}),Q.r.H.Al().splice(this.k.wc,1),Inventory&&Inventory.La(),Equipment&&Equipment.La(),this.k.La());this.k.wc=null},tI:function(a){0==a&&(a=Q.r.H.Sd()[this.k.wc],Q.r.H.ZH({number:a.number,amount:a.amount}),Q.r.H.Sd().splice(this.k.wc,1),Inventory&&Inventory.La(),Equipment&&Equipment.La(),this.k.La());this.k.wc=null},ub:function(a){if(this._super(a))return!0;
this.Vd=null;for(var c=this.b.main_panel.inventory.Ia(a.S),d=!1,e=!1,f=0;40>f;f++)if(!Q.r.H.Sd()[f]){d=!0;break}for(f=0;72>f;f++)if(!Q.r.H.Al()[f]){e=!0;break}for(f=0;40>f;f++)if(Q.r.H.Sd()[f]){var g=32;if(E(this.b.main_panel.inventory[f+""],q.a(c.x,c.y+g)))return this.f(DropDownList.Rc(this,this.tI,["Deposit","Cancel"],a.S,[{enabled:d},{enabled:!0}])),this.wc=f,this.b.item_name.B(!1),!0}for(f=0;72>f;f++)if(Q.r.H.Al()[f]&&(g=32,E(this.b.main_panel.bank[f+""],q.a(c.x,c.y+g))))return this.f(DropDownList.Rc(this,
this.sM,["Withdraw","Cancel"],a.S,[{enabled:e},{enabled:!0}])),this.wc=f,this.b.item_name.B(!1),!0},Sh:function(a){a=this.b.main_panel.inventory.Ia(a.S);for(var c=0;40>c;c++)if(Q.r.H.Sd()[c]&&E(this.b.main_panel.inventory[c+""],q.a(a.x,a.y+32)))return this.b.item_name.content.ma(ObjectLists.Jb()[Q.r.H.Sd()[c].number].name),this.b.item_name.B(!0),this.b.item_name.N(this.b.item_name.content.c()),this.b.item_name.content.Oa(this.b.item_name.content.c().width/2),this.b.item_name.l(q.a(this.b.main_panel.inventory[c+
""].u.I-this.b.item_name.content.c().width/2+16,this.b.main_panel.inventory[c+""].u.T)),!0}});Shop=null;
ShopPanel=Popup.extend({wc:null,gt:!1,F:null,$g:null,eh:null,Ib:null,Jf:null,Ak:null,Qh:null,Te:null,Ic:function(){return"Shop"},nb:function(){this.F&&this.F.bc();for(var a=[],c=[],d=q.fa.g(),e=["Buy","Sell"],f=0;f<e.length;f++){a[f]=q.X.create(q.i(0,0,0,0),118,32);var g=q.X.create(q.i(0,0,0,127),118,1);g.l(q.a(0,0));var h=q.R.create(e[f],"Arial",15);h.q(q.n(0,0,0));h.w(q.a(0,0));h.l(q.a(4,4));h.Va(q.size(90,0));a[f].N(118,h.c().height+8);if(this.Rb==f+1){a[f]=q.X.create(q.i(100,0,0,255),118,h.c().height+
8);var k=q.v.Ja(d.ka("GUI/selected.png"));k.l(q.a(94,(h.c().height+8-20)/2));k.w(q.a(0,0));a[f].f(k);h.q(q.n(255,255,255))}a[f].f(g);a[f].f(h);a[f].Na="Use";c.push([a[f]])}this.F=this.b.main_panel.buyselllist;var l=this;this.F.ac=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(216,c)};this.F.Ub=function(){return a.length};this.F.jc=function(c){return a[c].c()};this.F.ic=function(c){return a[c]};this.F.lb=function(a,c){"Use"==a&&(l.Yd(c+1),l.nb())};this.F.Q=ListView.create(this.F);
this.F.Q.lc(c);this.F.f(this.F.Q)},uW:function(){this.Yd(this.Rb)},zy:function(){this.eh&&this.eh.bc();var a=[],c=[];q.fa.g();var d=ObjectLists.Jb();this.Ak=[];if(1==this.Rb){this.Ib=[];for(var e in d)for(var f in d[e].value)if(d[e].value[f].shopid==this.NL&&d[e].value[f].sell&&0<d[e].value[f].sell.length){this.Ib.push({name:d[e].name,value:d[e].value[f]});this.Jf[this.Ib.length-1]||(this.Jf[this.Ib.length-1]=1);this.Ak[this.Ib.length-1]||(this.Ak[this.Ib.length-1]=-1);break}}else{d=Q.r.H.Sd();this.Ib=
[];items=[];gameitems=ObjectLists.Jb();for(e in d)d[e]?(items.push(gameitems[d[e].number]),this.Ak[items.length-1]||(this.Ak[items.length-1]=d[e].amount)):items.push(null);for(e in items)if(this.Ib.push(null),this.Jf.push(1),items[e])for(f in this.Ib[this.Ib.length-1]={name:items[e].name+(1<this.Ak[e]?"("+this.Ak[e]+")":"")},items[e].value)if(items[e].value[f].shopid==this.NL&&items[e].value[f].buy&&0<items[e].value[f].buy.length){this.Ib[this.Ib.length-1].value=items[e].value[f];this.Jf[this.Ib.length-
1]=1;break}}d=this.Ib;for(e=0;e<d.length;e++)if(null==d[e])a[e]=q.Node.create(),a[e].N(0,0),c.push([]);else{a[e]=this.Te&&this.Te[e]&&1==this.Te[e]?q.X.create(q.i(255,255,255,127),218,32):q.X.create(q.i(0,0,0,0),218,32);f=q.X.create(q.i(0,0,0,127),218,1);f.l(q.a(0,0));var g=q.R.create(d[e].name,"Arial",15);g.q(q.n(0,0,0));g.w(q.a(0,0));g.l(q.a(4,4));g.Va(q.size(156,0));if(1==this.Te[e]){var h=q.X.create(q.i(255,255,255,255),60,20);h.l(160,(g.c().height+8)/2-10);a[e].f(h);var k=q.R.create("x"+this.Jf[e],
"Arial",14);k.l(4,3);h.Na="Edit";k.w(q.a(0,0));k.q(q.n(0,0,0));h.f(k)}a[e].N(218,g.c().height+8);a[e].f(f);a[e].f(g);a[e].Na="Use";1==this.Te[e]?c.push([h,a[e]]):c.push([a[e]])}this.eh=this.b.main_panel.sale_list;var l=this;this.eh.ac=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(218,c)};this.eh.Ub=function(){return a.length};this.eh.jc=function(c){return a[c].c()};this.eh.ic=function(c){return a[c]};this.eh.lb=function(a,c,d,e){switch(a){case "Use":l.Te?l.Te[c]=!l.Te[c]:
(l.Te=[],l.Te[c]=!0);l.zy();l.vy();break;case "Edit":l.fx=c,l.vW(e)}};this.eh.Q=ListView.create(this.eh);this.eh.Q.lc(c);this.eh.f(this.eh.Q)},vW:function(a){this.qa&&this.kI();this.qa=new Z(a,q.size(a.c().width,a.c().height),q.a(0,a.c().height),this.Jf[this.fx],q.i(100,100,100),q.n(255,255,255),!1,null,this);this.qa.hb(!0);this.kc(this.hI)},hI:function(){!sa&&this.qa&&(this.qa.ot(!0),this.Nc(this.hI))},z7:function(){return this.qa?!0:!1},eM:function(){this.kI()},kI:function(){0<parseInt(this.qa.Y())&&
(parseInt(this.qa.Y())<this.Ak[this.fx]||-1==this.Ak[this.fx])&&(this.Jf[this.fx]=parseInt(this.qa.Y()));this.qa.ot(!1);this.qa.J();this.qa=null;this.vy();this.zy()},vy:function(){this.$g&&this.$g.bc();var a=[],c=[];q.fa.g();for(var d=[],e=[],e=ObjectLists.Jb(),f=H(Q.r.H.Sd()),g=0;g<f.length;g++)if(f[g])for(var h=g+1;h<f.length;h++)f[h]&&f[g].number==f[h].number&&(f[g].number+=f[h].number,f.splice(h,1));for(h in this.Ib)if(1==this.Rb){if(this.Ib[h]&&this.Ib[h].value)for(var k in this.Ib[h].value.sell)1==
this.Te[h]&&d.push({name:e[this.Ib[h].value.sell[k].id].name,Hc:this.Ib[h].value.sell[k].amount*this.Jf[h],Fd:this.Ib[h].value.sell[k].id,Zw:l})}else if(this.Ib[h]&&this.Ib[h].value)for(k in this.Ib[h].value.buy)if(1==this.Te[h]){var l=!1;d.push({name:e[this.Ib[h].value.buy[k].id].name,Hc:this.Ib[h].value.buy[k].amount*this.Jf[h],Fd:this.Ib[h].value.buy[k].id,Zw:l})}d.sort(function(a,c){return a.name>c.name});for(k=0;k<d.length;k++)for(h=k+1;h<d.length;h++)d[k].Fd==d[h].Fd&&(d[k].Hc=parseInt(d[k].Hc)+
parseInt(d[h].Hc),d.splice(h,1),h--);if(1==this.Rb)for(k=0;k<d.length;k++){l=!0;for(h=0;h<f.length;h++)if(f[h]&&f[h].number==d[k].Fd){f[h].amount>=d[k].Hc&&(l=!1);break}d[k].Zw=l}e=this.Qh=d;this.b.main_panel.confirm_button.B(!0);1>e.length&&this.b.main_panel.confirm_button.B(!1);this.Ib&&!this.LK()?(this.b.main_panel.confirm_button.B(!1),this.b.main_panel.outofspacelabel.B(!0)):this.b.main_panel.outofspacelabel.B(!1);for(k=0;k<e.length;k++)e[k].Zw&&1==e[k].Zw?(this.b.main_panel.confirm_button.B(!1),
a[k]=q.X.create(q.i(255,80,80,100),158,32)):a[k]=q.X.create(q.i(0,0,0,0),158,32),d=q.X.create(q.i(0,0,0,127),158,1),d.l(q.a(0,0)),h=q.R.create(e[k].name,"Arial",15),h.q(q.n(0,0,0)),h.w(q.a(0,0)),h.l(q.a(4,4)),h.Va(q.size(90,0)),l=q.R.create("x"+e[k].Hc,"Arial",15),l.q(q.n(0,0,0)),l.w(q.a(0,0)),l.l(q.a(102,4)),l.Va(q.size(54,0)),a[k].N(158,h.c().height+8),a[k].f(d),a[k].f(h),a[k].f(l),a[k].Na="Use",c.push([a[k]]);this.$g=this.b.main_panel.offer_list;this.$g.ac=function(){for(var c=0,d=0;d<a.length;d++)c+=
a[d].c().height;return q.size(216,c)};this.$g.Ub=function(){return a.length};this.$g.jc=function(c){return a[c].c()};this.$g.ic=function(c){return a[c]};this.$g.lb=function(){};this.$g.Q=ListView.create(this.$g);this.$g.Q.lc(c);this.$g.f(this.$g.Q)},tc:function(){return{panels:{position:q.a(300,200),children:{main_panel:{e:q.a(0,0),$:"GUI/shop.png",size:q.size(590,388),children:{buyselllist:{size:q.size(118,386),position:q.a(2,2),e:q.a(0,0)},sale_list:{position:q.a(127,2),size:q.size(218,358)},offer_list:{size:q.size(158,
358),position:q.a(389,1)},inventory_label:{label:"Store Items",color:q.n(255,255,255),position:q.a(138,364),fontSize:16,e:q.a(0,0)},offer_label:{label:"Price",color:q.n(255,255,255),position:q.a(400,364),fontSize:16,e:q.a(0,0)},confirm_button:{size:q.size(64,30),position:q.a(435,8),color:q.n(0,255,0),children:{label:{label:"Confirm",color:q.n(0,0,0),position:q.a(6,8),e:q.a(0,0)}}},outofspacelabel:{label:"Not enough inventory space for transaction.",color:q.n(255,255,255),position:q.a(6,8),e:q.a(0,
0)}}},control_panel:{e:q.a(0,0),position:q.a(0,388),size:q.size(590,32),children:{header:{label:D["Shop Header"],fontSize:20,e:q.a(0,.5),position:q.a(8,16)},exitBtn:{position:q.a(566,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},A:function(a){this._super();this.NL=a},oa:function(){this._super();this.Yd(1);this.nb()},LK:function(){var a=0,c=0,d=Q.r.H.Sd(),e=0,f;for(f in d)d[f]&&e++;if(1==this.Rb){for(f=0;f<this.Ib.length;f++)1==this.Te[f]&&(a+=this.Jf[f]);var g=[];for(f=0;f<this.Qh.length;f++)g[this.Qh[f].Fd]=
this.Qh[f].Hc;for(f=0;f<d.length;f++)d[f]&&g[d[f].number]&&d[f].amount<=g[d[f].number]&&(g[d[f].number]-=d[f].amount,c++)}if(2==this.Rb){for(f=0;f<this.Ib.length;f++)1==this.Te[f]&&d[f].amount<=this.Jf[f]&&c++;for(f=0;f<this.Qh.length;f++)a+=this.Qh[f].Hc}return 40-e>a-c},fS:function(){var a=ObjectLists.Jb(),c=Q.r.H.Sd();if(1==this.Rb){for(var d=0;d<this.Ib.length;d++)if(1==this.Te[d]){for(var e=0;e<a.length&&a[e].name!=this.Ib[d].name;e++);Q.r.H.SH({number:e,amount:this.Jf[d]})}a=[];for(d=0;d<this.Qh.length;d++)a[this.Qh[d].Fd]=
this.Qh[d].Hc;for(e=0;e<c.length;e++)c[e]&&a[c[e].number]&&(c[e].amount>a[c[e].number]?(c[e].amount-=a[c[e].number],a[c[e].number]=0):c[e].amount<=a[c[e].number]&&(a[c[e].number]-=c[e].amount,c[e]=null));R.gc("PURCHASE COMPLETE")}if(2==this.Rb){for(d=0;d<this.Ib.length;d++)1==this.Te[d]&&(c[d].amount>this.Jf[d]?c[d].amount-=this.Jf[d]:c[d]=null);for(d=0;d<this.Qh.length;d++)Q.r.H.SH({number:this.Qh[d].Fd,amount:this.Qh[d].Hc})}Inventory&&Inventory.La();this.zy();this.vy();this.Ib&&!this.LK()?(this.b.main_panel.confirm_button.B(!1),
this.b.main_panel.outofspacelabel.B(!0)):this.b.main_panel.outofspacelabel.B(!1)},Yd:function(a){this.Rb=a;this.Jf=[];this.Te=[];2==a&&(this.b.main_panel.inventory_label.ma("Inventory"),this.b.main_panel.offer_label.ma("Offer"));1==a&&(this.b.main_panel.inventory_label.ma("Store Items"),this.b.main_panel.offer_label.ma("Price"));this.vy();this.zy()},sM:function(a){0==a&&(a=Q.r.H.Al()[this.k.wc],Q.r.H.$H({number:a.number,amount:a.amount}),Q.r.H.Al().splice(this.k.wc,1),Inventory&&Inventory.La(),Equipment&&
Equipment.La(),this.k.La());this.k.wc=null},tI:function(a){0==a&&(a=Q.r.H.Sd()[this.k.wc],Q.r.H.ZH({number:a.number,amount:a.amount}),Q.r.H.Sd().splice(this.k.wc,1),Inventory&&Inventory.La(),Equipment&&Equipment.La(),this.k.La());this.k.wc=null},ub:function(a){if(this._super(a))return!0;this.Vd=null;a=this.b.main_panel.Ia(a.S);E(this.b.main_panel.confirm_button,a)&&this.fS()},Sh:function(){}});Sign=null;
SignPanel=Popup.extend({title:null,content:null,Ic:function(){return"Sign"},tc:function(){return{panels:{position:q.a(100,300),children:{control_panel:{e:q.a(0,0),size:q.size(128,96),$:"GUI/signpost.png",children:{content:{label:this.content,fontSize:12,color:q.n(255,255,255),e:q.a(0,1),position:q.a(4,94)},exitBtn:{position:q.a(100,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},A:function(a,c){this._super();this.content=c},oa:function(){this._super();this.b.control_panel.content.Va(q.size(120,0))}});Quests=null;
QuestsPanel=Popup.extend({F:null,lh:null,$D:null,Ic:function(){return"Quests"},nb:function(){this.F&&this.F.bc();for(var a=[],c=[],d=q.fa.g(),e=0;e<this.data.length;e++)if(!(null==Q.r.H.vk(e)||"undefined"===Q.r.H.vk(e)&&1>Q.r.H.vk(e))){a[e]=q.X.create(q.i(0,0,0,0),420,32);var f=q.X.create(q.i(0,0,0,127),212,1);f.l(q.a(4,0));var g=q.R.create(this.data[e].name,"Arial",15);g.q(q.n(0,0,0));g.w(q.a(0,0));g.l(q.a(4,4));g.Va(q.size(216,0));a[e].N(216,g.c().height+8);if(null!=this.$D&&this.$D==e){a[e]=q.X.create(q.i(100,
0,0,255),216,g.c().height+8);var h=q.v.Ja(d.ka("GUI/selected.png"));h.l(q.a(192,(g.c().height+8-20)/2));h.w(q.a(0,0));a[e].f(h);g.q(q.n(255,255,255))}a[e].f(f);a[e].f(g);a[e].Na="Use";c.push([a[e]])}1>a.length&&(a[0]=q.X.create(q.i(0,0,0,0),420,32),f=q.X.create(q.i(0,0,0,127),212,1),f.l(q.a(4,0)),g=q.R.create(D["No Quests"],"Arial",15),g.q(q.n(0,0,0)),g.w(q.a(0,0)),g.l(q.a(4,4)),g.Va(q.size(216,0)),a[0].N(216,g.c().height+8),a[0].f(g),c.push([]));this.F=this.b.main_panel.list;var k=this;this.F.ac=
function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(216,c)};this.F.Ub=function(){return a.length};this.F.jc=function(c){return a[c].c()};this.F.ic=function(c){return a[c]};this.F.lb=function(a,c){"Use"==a&&(k.$D=c,k.LV(c),k.nb())};this.F.Q=ListView.create(this.F);this.F.Q.lc(c);this.F.f(this.F.Q)},LV:function(a){this.lh&&this.lh.bc();var c=this.data[a].objectiveList,d=[],e=[];q.fa.g();if(0<Q.r.H.vk(a))for(var f=0;f<c.length;f++)if(!(Q.r.H.vk(a)<f)){if(0==f)d[f]=q.X.create(q.i(0,
0,0,0),1,1);else if(f==c.length)d[f]=q.X.create(q.i(0,0,0,0),1,1);else{d[f]=q.X.create(q.i(0,0,0,0),208,32);var g=q.X.create(q.i(0,0,0,127),208,1);g.l(q.a(4,0));var h=q.R.create(c[f],"Arial",15);h.q(q.n(0,0,0));h.w(q.a(0,0));h.l(q.a(4,4));h.Va(q.size(208,0));d[f].N(208,h.c().height+8);Q.r.H.vk(a)>f&&h.ta(200);d[f].f(g);d[f].f(h)}e.push([])}this.lh=this.b.main_panel.sublist;this.lh.ac=function(){for(var a=0,c=0;c<d.length;c++)a+=d[c].c().height;return q.size(212,a)};this.lh.Ub=function(){return d.length};
this.lh.jc=function(a){return d[a].c()};this.lh.ic=function(a){return d[a]};this.lh.lb=function(){};this.lh.Q=ListView.create(this.lh);this.lh.Q.lc(e);this.lh.f(this.lh.Q)},tc:function(){return{panels:{position:q.a(300,200),children:{background_image:{$:"GUI/quest_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(512,328),children:{list:{size:q.size(216,328),color:q.i(0,200,200,0),position:q.a(0,0),e:q.a(0,0)},sublist:{size:q.size(212,328),color:q.i(0,200,200,0),position:q.a(258,0),e:q.a(0,
0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:D["Quest Header"],fontSize:20,e:q.a(0,.5),position:q.a(8,16)},exitBtn:{position:q.a(484,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},La:function(){},oa:function(){this._super();this.La();this.data=ObjectLists.Yp();this.nb()}});Skills=null;
SkillsPanel=Popup.extend({F:null,Ic:function(){return"Skills"},nb:function(){this.F&&this.F.bc();var a=[],c=[];q.fa.g();var d=0,e=0,f;for(f in this.data){e+=this.data[f].level+1;a[d]=q.Node.create();a[d].N(420,32);var g=q.X.create(q.i(0,0,0,127),316,1);g.l(q.a(4,0));var h=q.R.create("Lvl "+(this.data[f].level+1+this.data[f].modifier)+"/"+(this.data[f].level+1),"Arial",15);h.q(q.n(0,0,0));h.w(q.a(0,0));h.l(q.a(4,4));var k=q.R.create(f,"Arial",15);k.q(q.n(0,0,0));k.w(q.a(.5,0));k.l(q.a(h.c().width+65,
4));var l=q.X.create(q.i(255,255,255,255),144,k.c().height),m=q.X.create(q.i(100,120,200,255),this.data[f].experience/this.data[f].requirement*144,k.c().height);l.f(m);m.w(q.a(0,0));m=q.R.create(this.data[f].experience+"/"+this.data[f].requirement,"Arial",14);m.w(q.a(0,0));m.q(q.n(0,0,0));l.f(m);m.xc(1);l.w(q.a(0,0));l.l(q.a(172,4));c.push([]);a[d].f(g);a[d].f(k);a[d].f(h);a[d].f(l);a[d].N(324,k.c().height+8);d++}this.F=this.b.main_panel.list;this.F.ac=function(){for(var c=0,d=0;d<a.length;d++)c+=
a[d].c().height;return q.size(324,c)};this.F.Ub=function(){return a.length};this.F.jc=function(c){return a[c].c()};this.F.ic=function(c){return a[c]};this.F.lb=function(){};this.F.Q=ListView.create(this.F);this.F.Q.lc(c);this.F.f(this.F.Q);this.b.main_panel.character_level.ma("LEVEL: "+e);this.b.main_panel.character_level.Oa(306);this.b.main_panel.character_level.w(q.a(1,0))},tc:function(){return{panels:{position:q.a(300,200),children:{background_image:{$:"GUI/list_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,
0),size:q.size(365,328),children:{character_level:{label:"",position:q.a(2,310),e:q.a(0,0),color:q.n(0,0,0)},list:{size:q.size(324,308),color:q.i(0,200,200,200),position:q.a(0,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:D["Skills Header"],fontSize:20,e:q.a(0,.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},La:function(){},oa:function(){this._super();this.La();this.data=T.FT();
this.nb()}});
var T=q.Wc.extend({Rw:[],Vc:null,vq:function(){var a=ObjectLists.wk(),c;for(c in this.Rw)this.Rw[c].J();this.Rw=[];var d=0;for(c=a.length-1;0<=c;c--)if(null!=a[c].healthbar&&""!=a[c].healthbar){var e=this.mS(a[c].name,a[c].healthbar,d);this.f(e);this.Rw.push(e);d++}this.l(q.a(0,O.height-32*d))},mS:function(a,c,d){var e=255;c=c.replace("#","");8==c.length&&(e=c.substr(6,8));e=q.X.create(q.i(parseInt(c.substring(0,2),16),parseInt(c.substring(2,4),16),parseInt(c.substring(4,6),16),parseInt(e,16)),0<
this.Vc[a].currenthealth?this.Vc[a].currenthealth/this.Vc[a].maxhealth*300:1,23);e.rC=q.v.Ja(q.fa.g().ka("GUI/healthbar.png"));e.l(10,32*d- -5*d-10);e.w(q.a(0,0));e.rC.l(-5,-4);e.rC.w(q.a(0,0));e.f(e.rC);a=q.R.create(a,"Arial",16);a.l(10,11.5);a.w(q.a(0,.5));e.f(a);return e}});SkillBarsInstance=null;T.create=function(a){null==SkillBarsInstance&&(SkillBarsInstance=new T,SkillBarsInstance.Vc=a,SkillBarsInstance.vq());return SkillBarsInstance};
T.VU=function(a,c){SkillBarsInstance.Vc[a].currenthealth+=c;0>SkillBarsInstance.Vc[a].currenthealth&&(SkillBarsInstance.Vc[a].currenthealth=0);SkillBarsInstance.Vc[a].currenthealth>SkillBarsInstance.Vc[a].maxhealth&&(SkillBarsInstance.Vc[a].currenthealth=SkillBarsInstance.Vc[a].maxhealth);SkillBarsInstance.vq();Skills&&Skills.nb()};T.XU=function(a,c){SkillBarsInstance.Vc[a].experience+=c;0>SkillBarsInstance.Vc[a].experience&&(SkillBarsInstance.Vc[a].experience=0);SkillBarsInstance.vq();Skills&&Skills.nb()};
T.WU=function(a,c){SkillBarsInstance.Vc[a].modifier+=c;0>SkillBarsInstance.Vc[a].modifier&&(SkillBarsInstance.Vc[a].modifier=0);SkillBarsInstance.vq();Skills&&Skills.nb()};T.FT=function(){return SkillBarsInstance.Vc};T.update=function(){SkillBarsInstance.vq()};Scripteditor=null;
ScriptEditor=Popup.extend({data:null,F:null,eb:null,xj:null,tf:null,uf:null,c3:null,k:null,rb:null,qca:null,e3:null,ja:null,j:null,$n:null,Aj:function(a){z({savescripts:a+"",scriptsdata:this.data})},oj:function(a,c){z({savescriptswhole:c})},Ic:function(){return"Scripts"},za:function(a){this._super();if(this.k){var c=this.k;1!=a&&this.k.Xd(function(){c.Rd(null)})}},A:function(a){this._super();this.data={data:[],name:null};this.rb=null;a.data&&(this.data=a.data);a.YD&&(this.data.specifier=a.YD);this.k=
a.k},oa:function(){this._super();this.rb=new Z(this.b.main_panel.nameEntry,q.size(this.b.main_panel.nameEntry.c().width,this.b.main_panel.nameEntry.c().height),q.a(0,this.b.main_panel.nameEntry.c().height),this.data.name,q.i(255,255,255),q.n(0,0,0));this.rb.hb(!0);this.b.main_panel.abbrEntry&&(this.Pw=new Z(this.b.main_panel.abbrEntry,q.size(this.b.main_panel.abbrEntry.c().width,this.b.main_panel.abbrEntry.c().height),q.a(0,this.b.main_panel.abbrEntry.c().height),this.data.abbr,q.i(255,255,255),q.n(0,
0,0)),this.Pw.hb(!0));this.nb()},nb:function(){this.F&&this.F.bc();for(var a in this.tf)this.tf[a].bc(),this.tf[a].J();for(a in this.uf)this.uf[a].bc(),this.uf[a].J();var c=[],d=[],e=[],f=[],g=[],h=[],k=q.fa.g();this.tf=[];this.uf=[];for(a=0;a<this.data.data.length;a++){g[a]=[];h[a]=[];d[a]=[];e[a]=[];c[a]=q.Node.create();c[a].N(758,100);var l=q.X.create(q.i(0,0,0,127),750,1);l.l(q.a(4,0));var m=q.X.create(q.i(0,0,0,127),1,92);m.l(q.a(152,4));var p=q.X.create(q.i(0,0,0,127),1,92);p.l(q.a(451,4));
var t=this.data.data[a].type;"On Talk Close"==t&&(t+=" ("+this.data.data[a].data.attachedEvent+":"+this.data.data[this.data.data[a].data.attachedEvent].type+")");t=q.R.create(a+": "+t,"Arial",15);t.q(q.n(0,0,0));t.w(q.a(0,1));t.l(q.a(4,96));t.Va(q.size(100,0));var v=q.X.create(q.i(0,255,0,60),259,100);v.N(q.size(259,100));v.Oa(451);v.w(q.a(0,0));c[a].f(v);var x=q.X.create(q.i(0,255,0,60),259,100);x.N(q.size(259,100));x.Oa(152);x.w(q.a(0,0));c[a].f(x);var y=q.v.Ja(k.ka("GUI/trash.png"));y.l(q.a(120,
4));y.w(q.a(0,0));y.Na="Delete";c[a].f(y);var G=q.v.Ja(k.ka("GUI/edit.png"));G.l(q.a(96,4));G.w(q.a(0,0));G.Na="Edit";c[a].f(G);f.push([y,G]);for(y=0;y<this.data.data[a].responses.length;y++){d[a].push(q.Node.create());d[a][y].N(259,32);var G=!0,K=q.R.create(y+1+": "+this.data.data[a].responses[y].type,"Arial",15);K.q(q.n(0,0,0));K.w(q.a(0,0));K.l(q.a(4,4));K.Va(q.size(180,0));d[a][y].N(259,K.c().height+8);d[a][y].f(K);K=q.v.Ja(k.ka("GUI/trash.png"));K.l(q.a(229,0));K.w(q.a(0,0));K.Na="Delete";d[a][y].f(K);
switch(this.data.data[a].responses[y].type){case "Destroy":case "Attack":case "Run Away":G=!1}G?(G=q.v.Ja(k.ka("GUI/edit.png")),G.l(q.a(205,0)),G.w(q.a(0,0)),G.Na="Edit",d[a][y].f(G),g[a].push([K,G])):g[a].push([K])}y=q.X.create(q.i(70,200,70,255),90,26);G=q.R.create("+","Arial",20);G.l(45,13);G.w(q.a(.5,.5));y.l(q.a(84.5,0));y.Na="Add";y.f(G);g[a].push([y]);d[a].push(y);this.uf[a]=x;this.uf[a].identifier=a;var F=this;this.uf[a].ac=function(){for(var a=0,c=0;c<d[this.identifier].length;c++)a+=d[this.identifier][c].c().height;
return q.size(259,a)};this.uf[a].Ub=function(){return d[this.identifier].length};this.uf[a].jc=function(a){return d[this.identifier][a].c()};this.uf[a].ic=function(a){return d[this.identifier][a]};this.uf[a].lb=function(a,c,d){F.Ia(d.S);if(null==F.j)switch(a){case "Delete":F.ca.f(DropDownList.Rc(F,F.xS,["Cancel","Delete"],d.S));F.eb=c;F.xj=this.identifier;break;case "Edit":F.CI(this.identifier,"responses",c);break;case "Add":a="Talk;Destroy;Give/ Take Item;Set Quest Point;Warp Player;Wait;Repeat Responses;Open/Close Panel;Modify Player Stats;Script Response;Open/Close Shop".split(";");
c=[{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0}];for(var e=0;e<F.data.data[this.identifier].responses.length;e++)"Repeat Responses"==F.data.data[this.identifier].responses[e].type&&(c[7].enabled=!1);switch(F.data.specifier){case "NPC":a.push("Attack","Run Away","Defend","Modify NPC Stats");c.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0});break;case "Item":a.push("Equip Item","Read Item");c.push({enabled:!0},
{enabled:!0});break;case "Tile":a.push("Block Entry","Add Layer Graphic","Show Sign","Spawn NPC","Spawn Item"),c.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0})}F.ca.f(DropDownList.Rc(F,F.xR,a,d.S,c));F.xj=this.identifier;break;case "Use":F.k.Yn(c,F.gb[c])}};this.uf[a].Q=ListView.create(this.uf[a]);this.uf[a].Q.lc(g[a]);this.uf[a].f(this.uf[a].Q);for(y=0;y<this.data.data[a].requirements.length;y++)e[a].push(q.Node.create()),e[a][y].N(259,32),x=q.R.create(y+1+": "+this.data.data[a].requirements[y].type,
"Arial",15),x.q(q.n(0,0,0)),x.w(q.a(0,0)),x.l(q.a(4,4)),x.Va(q.size(180,0)),e[a][y].N(259,x.c().height+8),e[a][y].f(x),K=q.v.Ja(k.ka("GUI/trash.png")),K.l(q.a(229,0)),K.w(q.a(0,0)),K.Na="Delete",e[a][y].f(K),G=q.v.Ja(k.ka("GUI/edit.png")),G.l(q.a(205,0)),G.w(q.a(0,0)),G.Na="Edit",e[a][y].f(G),h[a].push([K,G]);x=q.X.create(q.i(70,200,70,255),90,26);y=q.R.create("+","Arial",20);y.l(45,13);y.w(q.a(.5,.5));x.l(q.a(84.5,0));x.Na="Add";x.f(y);h[a].push([x]);e[a].push(x);this.tf[a]=v;this.tf[a].identifier=
a;F=this;this.tf[a].ac=function(){for(var a=0,c=0;c<e[this.identifier].length;c++)a+=e[this.identifier][c].c().height;return q.size(259,a)};this.tf[a].Ub=function(){return e[this.identifier].length};this.tf[a].jc=function(a){return e[this.identifier][a].c()};this.tf[a].ic=function(a){return e[this.identifier][a]};this.tf[a].lb=function(a,c,d){F.Ia(d.S);if(null==F.j)switch(a){case "Delete":F.ca.f(DropDownList.Rc(F,F.wS,["Cancel","Delete"],d.S));F.eb=c;F.xj=this.identifier;break;case "Edit":F.CI(this.identifier,
"requirements",c);break;case "Add":a="Has Player Item;Is Player Statistics;Is Quest Point;Is Panel Visibility;Is Player Inventory Space;Script Requirement".split(";");switch(F.data.specifier){case "Tile":a.push("Is Event Fired By");break;case "NPC":a.push("Is NPC Statistics","Is NPC Actioning")}F.ca.f(DropDownList.Rc(F,F.wR,a,d.S));F.xj=this.identifier;break;case "Use":F.k.Yn(c,F.gb[c])}};this.tf[a].Q=ListView.create(this.tf[a]);this.tf[a].Q.lc(h[a]);this.tf[a].f(this.tf[a].Q);c[a].f(t);c[a].f(l);
c[a].f(m);c[a].f(p)}a=q.X.create(q.i(70,200,70,255),90,26);g=q.R.create("+","Arial",20);g.l(45,13);g.w(q.a(.5,.5));a.l(q.a(334,0));a.Na="Add";a.f(g);f.push([a]);c.push(a);this.F=this.b.main_panel.list;F=this;this.F.ac=function(){for(var a=0,d=0;d<c.length;d++)a+=c[d].c().height;return q.size(758,a)};this.F.Ub=function(){return c.length};this.F.jc=function(a){return c[a].c()};this.F.ic=function(a){return c[a]};this.F.lb=function(a,c,d){F.Ia(d.S);if(null==F.j)switch(a){case "Delete":var e="Delete";
F.dU(c)&&(e="Delete (Will destroy all child events)");F.ca.f(DropDownList.Rc(F,F.vS,["Cancel",e],d.S));F.eb=c;break;case "Add":a=["Default Interaction","On Examine","On Talk Close","On Talk Option Selected","On Game Load"];var f=[{enabled:!0},{enabled:!1},{enabled:!1},{enabled:!1},{enabled:!0}];for(e in F.data.data)if(F.data.data[e])for(var g=0;g<F.data.data[e].responses.length;g++)if("Talk"==F.data.data[e].responses[g].type){f[2].enabled=!0;break}0==F.data.data.length&&(f[1].enabled=!1);F.TS()&&
(f[3].enabled=!0);switch(F.data.specifier){case "Item":a.push("On Pickup","On Drop","On Dequip","On Trade");f.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0});break;case "Tile":a.push("Interact On","Interact Facing","Will Enter","On Enter","Will Leave","On Leave","On Come Near"),f.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0}),f[0].enabled=!1}F.ca.f(DropDownList.Rc(F,F.oR,a,d.S,f));F.eb=c;break;case "Use":F.k.Yn(c,F.gb[c])}};this.F.Q=ListView.create(this.F);
this.F.Q.lc(f);this.F.f(this.F.Q)},sI:function(a){for(var c=0;c<this.data.data.length;c++)"On Talk Close"==this.data.data[c].type&&this.data.data[c].data.attachedEvent==a&&(this.sI(c),this.data.data.splice(c,1))},dU:function(a){for(var c=0;c<this.data.data.length;c++)if("On Talk Close"==this.data.data[c].type&&this.data.data[c].data.attachedEvent==a)return!0;return!1},TS:function(){for(var a=0;a<this.data.data.length;a++)for(var c=0;c<this.data.data[a].responses.length;c++)if("Talk"==this.data.data[a].responses[c].type)return!0;
return!1},vS:function(a){switch(a){case 1:null!=this.k.eb&&(this.k.sI(this.k.eb),this.k.data.data.splice(this.k.eb,1),this.k.nb(),this.k.eb=null)}},xS:function(a){switch(a){case 1:null!=this.k.eb&&(this.k.data.data[this.k.xj].responses.splice(this.k.eb,1),this.k.nb(),this.k.eb=null,this.k.xj=null)}},wS:function(a){switch(a){case 1:null!=this.k.eb&&(this.k.data.data[this.k.xj].requirements.splice(this.k.eb,1),this.k.nb(),this.k.eb=null,this.k.xj=null)}},yR:function(a){this.k.data.data.push({type:"On Talk Close",
responses:[],requirements:[],data:{attachedEvent:a}});this.k.nb()},zR:function(a,c){this.k.EE=a;for(var d=[],e=0;e<this.k.data.data[a].responses.length;e++)if("Talk"==this.k.data.data[a].responses[e].type)for(var f in this.k.data.data[a].responses[e].data.options)d.push(f+": "+this.k.data.data[a].responses[e].data.options[f]);this.ca.f(DropDownList.Rc(this.k,this.k.aS,d,c.S))},aS:function(a){this.k.data.data.push({type:"On Talk Option Selected for event:"+this.k.EE+", option:"+a,responses:[],requirements:[],
data:{attachedEvent:this.k.EE,attachedOption:a}});this.k.nb();this.k.EE=null},oR:function(a,c){var d="";switch(a){case 0:d="Default Event";break;case 1:d="On Examine";break;case 2:var d=[],e;for(e in this.k.data.data)if(this.k.data.data[e])for(var f=0;f<this.k.data.data[e].responses.length;f++)"Talk"==this.k.data.data[e].responses[f].type&&d.push(e+": "+this.k.data.data[e].type);this.ca.f(DropDownList.Rc(this.k,this.k.yR,d,c.S));return;case 3:d=[];for(e in this.k.data.data)if(this.k.data.data[e])for(f=
0;f<this.k.data.data[e].responses.length;f++)"Talk"==this.k.data.data[e].responses[f].type&&this.k.data.data[e].responses[f].data.options&&0<this.k.data.data[e].responses[f].data.options.length&&d.push(e+": "+this.k.data.data[e].type);this.ca.f(DropDownList.Rc(this.k,this.k.zR,d,c.S));return;case 4:d="On Game load"}if(""==d)switch(this.k.data.specifier){case "Item":switch(a){case 5:d="On Pickup";break;case 6:d="On Drop";break;case 7:d="On Dequip";break;case 8:d="On Trade"}break;case "Tile":switch(a){case 5:d=
"Interact On";break;case 6:d="Interact Facing";break;case 7:d="Will Enter";break;case 8:d="On Enter";break;case 9:d="Will Leave";break;case 10:d="On Leave";break;case 11:d="On Come Near"}}this.k.data.data.push({type:d,responses:[],requirements:[],data:{}});this.k.nb()},xR:function(a){var c="";switch(a){case 0:c="Talk";break;case 1:c="Destroy";break;case 2:c="Give /Take Item";break;case 3:c="Set Quest Point";break;case 4:c="Warp Player";break;case 5:c="Wait";break;case 6:c="Repeat Responses";break;
case 7:c="Open/Close Panel";break;case 8:c="Modify Player Stats";break;case 9:c="Script Response";break;case 10:c="Open/Close Shop"}if(""==c)switch(this.k.data.specifier){case "NPC":switch(a){case 11:c="Attack";break;case 12:c="Run Away";break;case 13:c="Defend";break;case 14:c="Modify NPC Stats"}break;case "Item":switch(a){case 11:c="Equip Item";break;case 12:c="Read Item"}break;case "Tile":switch(a){case 12:c="Block Entry";break;case 13:c="Add Layer Graphic";break;case 13:c="Show Sign";break;case 14:c=
"Spawn NPC";break;case 15:c="Spawn Item"}}this.k.data.data[this.k.xj].responses.push({type:c,data:{}});this.k.nb()},wR:function(a){var c="";switch(a){case 0:c="Has Player Item";break;case 1:c="Is Player Statistics";break;case 2:c="Is Quest Point";break;case 3:c="Is Panel Visibility";break;case 4:c="Is Player Inventory Space";break;case 5:c="Script Requirement"}if(""==c)switch(this.k.data.specifier){case "Tile":switch(a){case 6:c="Is Event Fired By"}break;case "NPC":switch(a){case 6:c="Is NPC Statistics";
break;case 7:c="Is NPC Actioning"}}this.k.data.data[this.k.xj].requirements.push({type:c,data:{}});this.k.nb()},tc:function(){return{panels:{children:{background_image:{$:"GUI/event_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(1E3,400),children:{list:{size:q.size(758,360),color:q.i(0,200,200,200),position:q.a(0,0),e:q.a(0,0)},okbtn:{position:q.a(4,364),size:q.size(32,32),$:"GUI/tick_icon.png",e:q.a(0,0)},cancelbtn:{position:q.a(46,364),size:q.size(32,32),$:"GUI/cross_icon.png",e:q.a(0,
0)},abbrlbl:"Tile"==this.data.specifier?{label:"Abbr",fontSize:20,e:q.a(0,0),position:q.a(550,368),size:q.size(36,32),color:q.n(0,0,0)}:null,abbrEntry:"Tile"==this.data.specifier?{position:q.a(595,364),size:q.size(36,32),color:q.n(255,255,255)}:null,namelbl:{label:"Name:",fontSize:20,e:q.a(0,0),position:q.a(110,368),color:q.n(0,0,0)},nameEntry:{position:q.a(180,364),size:q.size(340,32),color:q.i(255,255,255,255)}}},control_panel:{e:q.a(0,0),position:q.a(0,400),size:q.size(1E3,32),children:{header:{label:"Script Editor",
fontSize:20,e:q.a(0,.5),position:q.a(8,16)},exitBtn:{position:q.a(976,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}},subEditorOver:{visible:!1,color:q.i(0,0,0,127),position:q.a(0,0),size:q.size(800,400)},mainEditorOver:{color:q.i(0,0,0,127),position:q.a(800,0),size:q.size(200,400)}}}}},CI:function(a,c,d){this.ja={event:a,listtype:c,id:d};this.$n=this.data.data[a][c][d].type;this.GV=H(this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data);this.yt()},Z$:function(a){this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data=
H(a);this.mx();this.ja=null;this.nb()},Y$:function(){this.mx();this.ja=null},k3:function(){},Ey:null,NE:null,OE:null,ed:null,wK:null,jK:null,vx:null,wc:null,iy:null,bm:null,cm:null,am:null,ky:null,ly:null,jy:null,Ix:null,Gj:0,hK:null,MH:null,ux:null,Sc:null,qy:null,QS:function(a,c){var d={panels:{children:{editArea:{color:q.i(127,127,127,255),e:q.a(0,0),position:q.a(0,0),size:q.size(200,250)},editBox:{size:q.size(178,196),e:q.a(0,0),position:q.a(8,12)},okbtn:{position:q.a(62,210),size:q.size(32,32),
$:"GUI/tick_icon.png",e:q.a(0,0)},cancelbtn:{position:q.a(106,210),size:q.size(32,32),$:"GUI/cross_icon.png",e:q.a(0,0)}}}};this.sg=ua(d,!0);this.j.f(this.sg);this.BE=new Z(this.sg.editBox,q.size(this.sg.editBox.c().width,this.sg.editBox.c().height),q.a(0,this.sg.editBox.c().height),c?c:"<Enter text>",q.i(255,255,255),q.n(0,0,0),!0);this.BE.hb(!0);this.BE.Uc(!1);this.CE=a},yt:function(){this.j&&(this.j.J(),this.j=null);this.b.subEditorOver.B(!0);this.b.mainEditorOver.B(!1);var a={panels:{position:q.a(802,
0),children:{}}},c=this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data;switch(this.$n){case "Warp Player":a.panels.children={mapNumberLabel:{label:"Map ID",e:q.a(0,0),position:q.a(12,374)},mapNumberText:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,340),size:q.size(100,32)},mapXLabel:{label:"Map X",e:q.a(0,0),position:q.a(12,310)},mapXText:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,276),size:q.size(80,32)},mapYLabel:{label:"Map Y",e:q.a(0,0),position:q.a(100,310)},
mapYText:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(100,276),size:q.size(80,32)}};break;case "Script Response":a.panels.children={sayLabelPre:{label:"Script:\n\nfunction resp(data){\n//data is { }",e:q.a(0,1),position:q.a(12,374),color:q.n(255,0,0)},sayLabelPost:{label:"};",e:q.a(0,1),position:q.a(12,95),color:q.n(255,0,0)},sayText:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,100),size:q.size(174,200)}};break;case "Script Requirement":a.panels.children={sayLabelPre:{label:"Script:\n\nfunction req(data,isAllow){\n//data is { }\n//isAllow defaults false",
e:q.a(0,1),position:q.a(12,374),color:q.n(255,0,0)},sayLabelPost:{label:"return isAllow;\n};",e:q.a(0,1),position:q.a(12,95),color:q.n(255,0,0)},sayText:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,100),size:q.size(174,190)}};break;case "Read Item":a.panels.children={sayLabel:{label:"Say:",e:q.a(0,0),position:q.a(12,374)},sayText:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,50),size:q.size(174,322)}};break;case "Show Sign":a.panels.children={signLabel:{label:"Sign Title:",e:q.a(0,
0),position:q.a(12,376)},signText:{color:q.n(255,255,255),e:q.a(0,0),position:q.a(12,340),size:q.size(174,32)},sayLabel:{label:"Sign Content:",e:q.a(0,0),position:q.a(12,318)},sayText:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,50),size:q.size(174,258)}};break;case "Talk":a.panels.children={sayLabel:{label:"Say:",e:q.a(0,0),position:q.a(12,374)},sayText:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,274),size:q.size(174,100)},optionLabel:{label:"Options:",e:q.a(0,0),position:q.a(12,
235)},optionList:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,50),size:q.size(154,185)}};break;case "Is Quest Point":case "Set Quest Point":a.panels.children={questLabel:{label:"Quest:",e:q.a(0,0),position:q.a(12,374)},questList:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},objectiveLabel:{label:"Objective:",e:q.a(0,0),position:q.a(12,189)},objectiveList:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,50),size:q.size(154,135)}};break;case "Give /Take Item":case "Has Player Item":case "Spawn Item":a.panels.children=
{itemsLabel:{label:"Item:",e:q.a(0,0),position:q.a(12,374)},itemList:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},amountLabel:{label:"Amount:",e:q.a(0,0),position:q.a(12,189)},amountText:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,153),size:q.size(154,32)},amountNote:{label:"Has Player Item"==this.$n?"":"Use negative item amounts to take away. Use positive amounts to give.",e:q.a(0,1),position:q.a(12,145)}};break;case "Spawn NPC":a.panels.children={npcLabel:{label:"NPC:",
e:q.a(0,0),position:q.a(12,374)},npcList:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)}};break;case "Modify Player Stats":case "Modify NPC Stats":a.panels.children={skillsLabel:{label:"Skill:",e:q.a(0,0),position:q.a(12,374)},skillList:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},levelLabel:{label:"Level Modify",e:q.a(0,0),position:q.a(12,205)},levelText:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,169),size:q.size(154,
32)},expLabel:{label:"XP Modify: (% allowed)",e:q.a(0,0),position:q.a(12,145)},expText:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,109),size:q.size(154,32)},healthLabel:{label:"Health Modify: (% allowed)",e:q.a(0,0),position:q.a(12,85)},healthText:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,49),size:q.size(154,32)}};break;case "Is Panel Visibility":case "Open/Close Panel":a.panels.children={panelsLabel:{label:"Panel:",e:q.a(0,0),position:q.a(12,374)},panelList:{color:q.i(255,
255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},visibleLabel:{label:"Visibility:",e:q.a(0,0),position:q.a(12,205)},visibleButton:{color:q.i(255,0,0,255),e:q.a(0,0),position:q.a(12,169),size:q.size(154,32),children:{content:{position:q.a(77,16),e:q.a(.5,.5),label:"Invisible",color:q.n(0,0,0)}}}};break;case "Open/Close Shop":a.panels.children={panelsLabel:{label:"Panel:",e:q.a(0,0),position:q.a(12,374)},panelList:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,
135)},visibleLabel:{label:"Visibility:",e:q.a(0,0),position:q.a(12,205)},visibleButton:{color:q.i(255,0,0,255),e:q.a(0,0),position:q.a(12,169),size:q.size(154,32),children:{content:{position:q.a(77,16),e:q.a(.5,.5),label:"Invisible",color:q.n(0,0,0)}}}};break;case "Is Event Fired By":a.panels.children={objectLabel:{label:"Possible Types:",e:q.a(0,0),position:q.a(12,374)},objectList:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)}};break;case "Is NPC Actioning":a.panels.children=
{actionLabel:{label:"Actions:",e:q.a(0,0),position:q.a(12,374)},actionList:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)}};break;case "Is Player Inventory Space":a.panels.children={spaceLabel:{label:"Inventory Space",e:q.a(0,0),position:q.a(12,374)},spaceText:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,340),size:q.size(100,32)}};break;case "Wait":a.panels.children={timeLabel:{label:"Time (Seconds)",e:q.a(0,0),position:q.a(12,374)},timeText:{color:q.i(255,
255,255,255),e:q.a(0,0),position:q.a(12,340),size:q.size(100,32)}};break;case "Repeat Responses":a.panels.children={amountLabel:{label:"Repeat Amount",e:q.a(0,0),position:q.a(12,374)},amountText:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,340),size:q.size(100,32)},amountNote:{label:"Use 0 for infinite amount of repeats.",e:q.a(0,1),position:q.a(12,300)}};break;case "Is Player Statistics":case "Is NPC Statistics":a.panels.children={skillsLabel:{label:"Skill:",e:q.a(0,0),position:q.a(12,
374)},skillList:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},levelLabel:{label:"Level Range",e:q.a(0,0),position:q.a(12,205)},levelDash:{label:"-",e:q.a(0,0),position:q.a(91,174)},levelTextLower:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,169),size:q.size(75,32)},levelTextUpper:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(100,169),size:q.size(75,32)},expLabel:{label:"XP Range: (% allowed)",e:q.a(0,0),position:q.a(12,145)},expDash:{label:"-",e:q.a(0,
0),position:q.a(91,114)},expTextLower:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,109),size:q.size(75,32)},expTextUpper:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(100,109),size:q.size(75,32)},healthLabel:{label:"Health Range: (% allowed)",e:q.a(0,0),position:q.a(12,85)},healthDash:{label:"-",e:q.a(0,0),position:q.a(91,54)},healthTextLower:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,49),size:q.size(75,32)},healthTextUpper:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(100,
49),size:q.size(75,32)}};break;case "Equip Item":a.panels.children={equipLabel:{label:"Equips To:",e:q.a(0,0),position:q.a(12,374)},headButton:{color:q.i(255,0,0,255),e:q.a(0,0),position:q.a(69,320),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(.5,.5),label:"Head",color:q.n(0,0,0)}}},bodyButton:{color:q.i(255,0,0,255),e:q.a(0,0),position:q.a(69,280),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(.5,.5),label:"Body",color:q.n(0,0,0)}}},legButton:{color:q.i(255,0,
0,255),e:q.a(0,0),position:q.a(69,240),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(.5,.5),label:"Legs",color:q.n(0,0,0)}}},feetButton:{color:q.i(255,0,0,255),e:q.a(0,0),position:q.a(69,200),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(.5,.5),label:"Feet",color:q.n(0,0,0)}}},lArmButton:{color:q.i(255,0,0,255),e:q.a(0,0),position:q.a(10,280),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(.5,.5),label:"L Arm",color:q.n(0,0,0)}}},rArmButton:{color:q.i(255,
0,0,255),e:q.a(0,0),position:q.a(128,280),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(.5,.5),label:"R Arm",color:q.n(0,0,0)}}},modButton:{color:q.i(255,0,0,255),e:q.a(0,0),position:q.a(10,160),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(.5,.5),label:"Mod",color:q.n(0,0,0)}}}}}a.panels.children.okbtn={position:q.a(62,8),size:q.size(32,32),$:"GUI/tick_icon.png",e:q.a(0,0)};a.panels.children.cancelbtn={position:q.a(106,8),size:q.size(32,32),$:"GUI/cross_icon.png",
e:q.a(0,0)};this.j=ua(a,!0);this.b.f(this.j);switch(this.$n){case "Warp Player":var d=a=1;c.index&&(d=U.Ai(c.mapnum),a=c.index%d.width,d=Math.floor(c.index/d.width));this.Ey=new Z(this.j.mapNumberText,q.size(this.j.mapNumberText.c().width,this.j.mapNumberText.c().height),q.a(0,this.j.mapNumberText.c().height),null!=c.mapnum&&"undefined"!==c.mapnum?c.mapnum:"0",q.i(255,255,255),q.n(0,0,0));this.Ey.hb(!0);this.NE=new Z(this.j.mapXText,q.size(this.j.mapXText.c().width,this.j.mapXText.c().height),q.a(0,
this.j.mapXText.c().height),a,q.i(255,255,255),q.n(0,0,0));this.NE.hb(!0);this.OE=new Z(this.j.mapYText,q.size(this.j.mapYText.c().width,this.j.mapYText.c().height),q.a(0,this.j.mapYText.c().height),d,q.i(255,255,255),q.n(0,0,0));this.OE.hb(!0);break;case "Show Sign":this.ed=new Z(this.j.sayText,q.size(this.j.sayText.c().width,this.j.sayText.c().height),q.a(0,this.j.sayText.c().height),c.content?c.content:"<Enter text>",q.i(255,255,255),q.n(0,0,0),!0);this.ed.hb(!0);this.ed.Uc(!1);this.vE=new Z(this.j.signText,
q.size(this.j.signText.c().width,this.j.signText.c().height),q.a(0,this.j.signText.c().height),c.title?c.title:"<Enter text>",q.i(255,255,255),q.n(0,0,0),!0);this.vE.hb(!0);this.vE.Uc(!1);break;case "Read Item":this.ed=new Z(this.j.sayText,q.size(this.j.sayText.c().width,this.j.sayText.c().height),q.a(0,this.j.sayText.c().height),c.say?c.say:"<Enter text>",q.i(255,255,255),q.n(0,0,0),!0);this.ed.hb(!0);this.ed.Uc(!1);break;case "Script Response":this.ed=new Z(this.j.sayText,q.size(this.j.sayText.c().width,
this.j.sayText.c().height),q.a(0,this.j.sayText.c().height),c.functionContent?c.functionContent:"<Enter text>",q.i(255,255,255),q.n(0,0,0),!0);this.ed.hb(!0);this.ed.Uc(!1);break;case "Script Requirement":this.ed=new Z(this.j.sayText,q.size(this.j.sayText.c().width,this.j.sayText.c().height),q.a(0,this.j.sayText.c().height),c.functionContent?c.functionContent:"<Enter text>",q.i(255,255,255),q.n(0,0,0),!0);this.ed.hb(!0);this.ed.Uc(!1);break;case "Talk":this.ed=new Z(this.j.sayText,q.size(this.j.sayText.c().width,
this.j.sayText.c().height),q.a(0,this.j.sayText.c().height),c.say?c.say:"<Enter text>",q.i(255,255,255),q.n(0,0,0),!0);this.ed.hb(!0);this.ed.Uc(!1);var e=[],a=[],f=c.options?c.options:[];console.log(f);for(d=0;d<f.length;d++){e[d]=q.Node.create();var g=q.X.create(q.i(0,0,0,127),154,1),h=q.R.create(f[d],"Arial",15);h.q(q.n(0,0,0));h.w(q.a(0,0));h.l(q.a(4,4));h.Va(q.size(104,0));e[d].N(154,h.c().height+8);var k=q.v.Ja(q.fa.g().ka("GUI/edit.png"));k.l(q.a(130,0));k.w(q.a(0,0));k.Na="Edit";k.xc((h.c().height+
8)/2-10);var l=q.v.Ja(q.fa.g().ka("GUI/trash.png"));l.l(q.a(108,0));l.w(q.a(0,0));l.Na="Delete";l.xc((h.c().height+8)/2-10);a.push([k,l]);var m=q.X.create(q.i(255,255,255,255),154,h.c().height+8);e[d].f(m);e[d].Hb=m;e[d].f(g);e[d].f(h);e[d].f(k);e[d].f(l)}d=q.X.create(q.i(70,200,70,255),90,26);g=q.R.create("+","Arial",20);g.l(45,13);g.w(q.a(.5,.5));d.l(q.a(34,0));d.Na="Add";d.f(g);a.push([d]);e.push(d);var p=this;this.j.optionList.ac=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,
a)};this.j.optionList.Ub=function(){return e.length};this.j.optionList.jc=function(a){return e[a].c()};this.j.optionList.ic=function(a){return e[a]};this.j.optionList.qf=function(a){return e[a].Hb};this.j.optionList.lb=function(a,d){if(!p.sg)switch(a){case "Add":c.options||(c.options=[]);c.options.push("<Enter Text>");c.say=p.ed.Y();p.j.optionList.Q.J();p.j.optionList.Q=null;p.yt();break;case "Delete":c.options.splice(d,1);c.say=p.ed.Y();p.j.J();p.j=null;p.yt();break;case "Edit":c.say=p.ed.Y(),p.QS(d,
c.options[d]),p.j.optionList.Q.J(),p.j.optionList.Q=null}};this.j.optionList.Q=ListView.create(this.j.optionList);this.j.optionList.Q.lc(a);this.j.optionList.f(this.j.optionList.Q);break;case "Is Quest Point":case "Set Quest Point":e=[];a=[];f=ObjectLists.Yp();for(d=0;d<f.length;d++)e[d]=q.Node.create(),g=q.X.create(q.i(0,0,0,127),154,1),h=q.R.create(f[d].name,"Arial",15),h.q(q.n(0,0,0)),h.w(q.a(0,0)),h.l(q.a(4,4)),h.Va(q.size(126,0)),k=q.v.Ja(q.fa.g().ka("GUI/use.png")),k.l(q.a(130,0)),k.w(q.a(0,
0)),k.Na="Use",e[d].N(154,h.c().height+8),k.xc((h.c().height+8)/2-10),a.push([k]),m=q.X.create(q.i(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].Hb=m,e[d].f(g),e[d].f(h),e[d].f(k);p=this;this.j.questList.ac=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.j.questList.Ub=function(){return e.length};this.j.questList.jc=function(a){return e[a].c()};this.j.questList.ic=function(a){return e[a]};this.j.questList.qf=function(a){return e[a].Hb};this.j.questList.lb=
function(a,c){if("Use"==a){p.j.objectiveList.Q&&p.j.objectiveList.Q.J();this.Q.Hb(c);p.wK=c;for(var d=[],e=[],f=q.fa.g(),g=ObjectLists.Yp()[c].objectiveList,h=0;h<g.length;h++){d[h]=q.Node.create();var k=q.X.create(q.i(0,0,0,127),154,1);k.l(q.a(0,0));var l=q.R.create(g[h],"Arial",15);l.q(q.n(0,0,0));l.w(q.a(0,0));l.l(q.a(4,4));l.Va(q.size(126,0));var m=q.v.Ja(f.ka("GUI/use.png"));m.l(q.a(130,0));m.w(q.a(0,0));m.Na="Use";e.push([m]);d[h].N(126,l.c().height+8);m.xc((l.c().height+8)/2-10);var ja=q.X.create(q.i(255,
255,255,255),154,l.c().height+8);d[h].f(ja);d[h].Hb=ja;d[h].f(k);d[h].f(l);d[h].f(m)}p.j.objectiveList.ac=function(){for(var a=0,c=0;c<d.length;c++)a+=d[c].c().height;return q.size(154,a)};p.j.objectiveList.Ub=function(){return d.length};p.j.objectiveList.qf=function(a){return d[a].Hb};p.j.objectiveList.jc=function(a){return d[a].c()};p.j.objectiveList.ic=function(a){return d[a]};p.j.objectiveList.lb=function(a,c){this.Q.Hb(c);p.jK=c};p.j.objectiveList.Q=ListView.create(p.j.objectiveList);p.j.objectiveList.Q.lc(e);
p.j.objectiveList.f(p.j.objectiveList.Q)}};this.j.questList.Q=ListView.create(this.j.questList);this.j.questList.Q.lc(a);this.j.questList.f(this.j.questList.Q);null!=c.quest&&"undefined"!==c.quest&&(this.j.questList.lb("Use",c.quest),null!=c.objective&&"undefined"!==c.objective&&this.j.objectiveList.lb("Use",c.objective));break;case "Spawn NPC":e=[];a=[];f=ObjectLists.Vp();for(d=0;d<f.length;d++)e[d]=q.Node.create(),g=q.X.create(q.i(0,0,0,127),154,1),h=q.R.create(f[d].name,"Arial",15),h.q(q.n(0,0,
0)),h.w(q.a(0,0)),h.l(q.a(4,4)),h.Va(q.size(126,0)),k=q.v.Ja(q.fa.g().ka("GUI/use.png")),k.l(q.a(130,0)),k.w(q.a(0,0)),k.Na="Use",e[d].N(154,h.c().height+8),k.xc((h.c().height+8)/2-10),a.push([k]),m=q.X.create(q.i(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].Hb=m,e[d].f(g),e[d].f(h),e[d].f(k);p=this;this.j.npcList.ac=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.j.npcList.Ub=function(){return e.length};this.j.npcList.jc=function(a){return e[a].c()};
this.j.npcList.ic=function(a){return e[a]};this.j.npcList.qf=function(a){return e[a].Hb};this.j.npcList.lb=function(a,c){"Use"==a&&(this.Q.Hb(c),p.wc=c)};this.j.npcList.Q=ListView.create(this.j.npcList);this.j.npcList.Q.lc(a);this.j.npcList.f(this.j.npcList.Q);null!=c.npc&&"undefined"!==c.npc&&this.j.npcList.lb("Use",c.npc);break;case "Give /Take Item":case "Has Player Item":case "Spawn Item":this.j.amountNote.Va(q.size(180,0));e=[];a=[];f=ObjectLists.Jb();for(d=0;d<f.length;d++)e[d]=q.Node.create(),
g=q.X.create(q.i(0,0,0,127),154,1),h=q.R.create(f[d].name,"Arial",15),h.q(q.n(0,0,0)),h.w(q.a(0,0)),h.l(q.a(4,4)),h.Va(q.size(126,0)),k=q.v.Ja(q.fa.g().ka("GUI/use.png")),k.l(q.a(130,0)),k.w(q.a(0,0)),k.Na="Use",e[d].N(154,h.c().height+8),k.xc((h.c().height+8)/2-10),a.push([k]),m=q.X.create(q.i(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].Hb=m,e[d].f(g),e[d].f(h),e[d].f(k);p=this;this.j.itemList.ac=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.j.itemList.Ub=
function(){return e.length};this.j.itemList.jc=function(a){return e[a].c()};this.j.itemList.ic=function(a){return e[a]};this.j.itemList.qf=function(a){return e[a].Hb};this.j.itemList.lb=function(a,c){"Use"==a&&(this.Q.Hb(c),p.wc=c)};this.j.itemList.Q=ListView.create(this.j.itemList);this.j.itemList.Q.lc(a);this.j.itemList.f(this.j.itemList.Q);null!=c.item&&"undefined"!==c.item&&this.j.itemList.lb("Use",c.item);this.vx=new Z(this.j.amountText,q.size(this.j.amountText.c().width,this.j.amountText.c().height),
q.a(0,this.j.amountText.c().height),c.amount?c.amount:"0",q.i(255,255,255),q.n(0,0,0));this.vx.hb(!0);this.vx.Uc(!1);break;case "Modify Player Stats":case "Modify NPC Stats":e=[];a=[];f=ObjectLists.wk();for(d=0;d<f.length;d++)e[d]=q.Node.create(),g=q.X.create(q.i(0,0,0,127),154,1),h=q.R.create(f[d].name,"Arial",15),h.q(q.n(0,0,0)),h.w(q.a(0,0)),h.l(q.a(4,4)),h.Va(q.size(126,0)),k=q.v.Ja(q.fa.g().ka("GUI/use.png")),k.l(q.a(130,0)),k.w(q.a(0,0)),k.Na="Use",e[d].N(154,h.c().height+8),k.xc((h.c().height+
8)/2-10),a.push([k]),m=q.X.create(q.i(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].Hb=m,e[d].f(g),e[d].f(h),e[d].f(k);p=this;this.j.skillList.ac=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.j.skillList.Ub=function(){return e.length};this.j.skillList.jc=function(a){return e[a].c()};this.j.skillList.ic=function(a){return e[a]};this.j.skillList.qf=function(a){return e[a].Hb};this.j.skillList.lb=function(a,c){"Use"==a&&(this.Q.Hb(c),p.iy=c)};this.j.skillList.Q=
ListView.create(this.j.skillList);this.j.skillList.Q.lc(a);this.j.skillList.f(this.j.skillList.Q);null!=c.skill&&"undefined"!==c.skill&&this.j.skillList.lb("Use",c.skill);this.bm=new Z(this.j.levelText,q.size(this.j.levelText.c().width,this.j.levelText.c().height),q.a(0,this.j.levelText.c().height),c.level?c.level:"0",q.i(255,255,255),q.n(0,0,0));this.bm.hb(!0);this.bm.Uc(!1);this.cm=new Z(this.j.expText,q.size(this.j.expText.c().width,this.j.expText.c().height),q.a(0,this.j.expText.c().height),c.xp?
c.xp:"0",q.i(255,255,255),q.n(0,0,0));this.cm.hb(!0);this.cm.Uc(!1);this.am=new Z(this.j.healthText,q.size(this.j.healthText.c().width,this.j.healthText.c().height),q.a(0,this.j.healthText.c().height),c.health?c.health:"0",q.i(255,255,255),q.n(0,0,0));this.am.hb(!0);this.am.Uc(!1);break;case "Is Panel Visibility":case "Open/Close Panel":e=[];a=[];f=["Inventory","Equipment","Skills","QuestLog","Bank"];for(d=0;d<f.length;d++)e[d]=q.Node.create(),g=q.X.create(q.i(0,0,0,127),154,1),h=q.R.create(f[d],
"Arial",15),h.q(q.n(0,0,0)),h.w(q.a(0,0)),h.l(q.a(4,4)),h.Va(q.size(126,0)),k=q.v.Ja(q.fa.g().ka("GUI/use.png")),k.l(q.a(130,0)),k.w(q.a(0,0)),k.Na="Use",e[d].N(154,h.c().height+8),k.xc((h.c().height+8)/2-10),a.push([k]),m=q.X.create(q.i(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].Hb=m,e[d].f(g),e[d].f(h),e[d].f(k);p=this;this.j.panelList.ac=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.j.panelList.Ub=function(){return e.length};this.j.panelList.jc=
function(a){return e[a].c()};this.j.panelList.ic=function(a){return e[a]};this.j.panelList.qf=function(a){return e[a].Hb};this.j.panelList.lb=function(a,c){"Use"==a&&(this.Q.Hb(c),p.Ix=c)};this.j.panelList.Q=ListView.create(this.j.panelList);this.j.panelList.Q.lc(a);this.j.panelList.f(this.j.panelList.Q);null!=c.panel&&"undefined"!==c.panel&&this.j.panelList.lb("Use",c.panel);this.Gj=1==c.visible?1:0;1==this.Gj&&(this.j.visibleButton.q(q.i(0,255,0,255)),this.j.visibleButton.content.ma("Visible"));
break;case "Open/Close Shop":e=[];a=[];g=ObjectLists.Zp();f=[];for(d=0;d<g.length;d++)f.push(g[d].name);for(d=0;d<f.length;d++)e[d]=q.Node.create(),g=q.X.create(q.i(0,0,0,127),154,1),h=q.R.create(f[d],"Arial",15),h.q(q.n(0,0,0)),h.w(q.a(0,0)),h.l(q.a(4,4)),h.Va(q.size(126,0)),k=q.v.Ja(q.fa.g().ka("GUI/use.png")),k.l(q.a(130,0)),k.w(q.a(0,0)),k.Na="Use",e[d].N(154,h.c().height+8),k.xc((h.c().height+8)/2-10),a.push([k]),m=q.X.create(q.i(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].Hb=m,e[d].f(g),
e[d].f(h),e[d].f(k);p=this;this.j.panelList.ac=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.j.panelList.Ub=function(){return e.length};this.j.panelList.jc=function(a){return e[a].c()};this.j.panelList.ic=function(a){return e[a]};this.j.panelList.qf=function(a){return e[a].Hb};this.j.panelList.lb=function(a,c){"Use"==a&&(this.Q.Hb(c),p.Ix=c)};this.j.panelList.Q=ListView.create(this.j.panelList);this.j.panelList.Q.lc(a);this.j.panelList.f(this.j.panelList.Q);
null!=c.panel&&"undefined"!==c.panel&&this.j.panelList.lb("Use",c.panel);this.Gj=1==c.visible?1:0;1==this.Gj&&(this.j.visibleButton.q(q.i(0,255,0,255)),this.j.visibleButton.content.ma("Visible"));break;case "Is Event Fired By":e=[];a=[];f=["Player","NPC"];for(d=0;d<f.length;d++)e[d]=q.Node.create(),g=q.X.create(q.i(0,0,0,127),154,1),h=q.R.create(f[d],"Arial",15),h.q(q.n(0,0,0)),h.w(q.a(0,0)),h.l(q.a(4,4)),h.Va(q.size(126,0)),k=q.v.Ja(q.fa.g().ka("GUI/use.png")),k.l(q.a(130,0)),k.w(q.a(0,0)),k.Na=
"Use",e[d].N(154,h.c().height+8),k.xc((h.c().height+8)/2-10),a.push([k]),m=q.X.create(q.i(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].Hb=m,e[d].f(g),e[d].f(h),e[d].f(k);p=this;this.j.objectList.ac=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.j.objectList.Ub=function(){return e.length};this.j.objectList.jc=function(a){return e[a].c()};this.j.objectList.ic=function(a){return e[a]};this.j.objectList.qf=function(a){return e[a].Hb};this.j.objectList.lb=
function(a,c){"Use"==a&&(this.Q.Hb(c),p.hK=c)};this.j.objectList.Q=ListView.create(this.j.objectList);this.j.objectList.Q.lc(a);this.j.objectList.f(this.j.objectList.Q);null!=c.object&&"undefined"!==c.object&&this.j.objectList.lb("Use",c.object);break;case "Is NPC Actioning":e=[];a=[];f=["Attacking","Defending","Fleeing"];for(d=0;d<f.length;d++)e[d]=q.Node.create(),g=q.X.create(q.i(0,0,0,127),154,1),h=q.R.create(f[d],"Arial",15),h.q(q.n(0,0,0)),h.w(q.a(0,0)),h.l(q.a(4,4)),h.Va(q.size(126,0)),k=q.v.Ja(q.fa.g().ka("GUI/use.png")),
k.l(q.a(130,0)),k.w(q.a(0,0)),k.Na="Use",e[d].N(154,h.c().height+8),k.xc((h.c().height+8)/2-10),a.push([k]),m=q.X.create(q.i(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].Hb=m,e[d].f(g),e[d].f(h),e[d].f(k);p=this;this.j.actionList.ac=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.j.actionList.Ub=function(){return e.length};this.j.actionList.jc=function(a){return e[a].c()};this.j.actionList.ic=function(a){return e[a]};this.j.actionList.qf=function(a){return e[a].Hb};
this.j.actionList.lb=function(a,c){"Use"==a&&(this.Q.Hb(c),p.MH=c)};this.j.actionList.Q=ListView.create(this.j.actionList);this.j.actionList.Q.lc(a);this.j.actionList.f(this.j.actionList.Q);null!=c.action&&"undefined"!==c.action&&this.j.actionList.lb("Use",c.action);break;case "Is Player Inventory Space":this.ux=new Z(this.j.spaceText,q.size(this.j.spaceText.c().width,this.j.spaceText.c().height),q.a(0,this.j.spaceText.c().height),null!=c.space&&"undefined"!==c.space?c.space:"0",q.i(255,255,255),
q.n(0,0,0));this.ux.hb(!0);this.ux.Uc(!1);break;case "Wait":this.qy=new Z(this.j.timeText,q.size(this.j.timeText.c().width,this.j.timeText.c().height),q.a(0,this.j.timeText.c().height),null!=c.time&&"undefined"!==c.time?c.time:"0",q.i(255,255,255),q.n(0,0,0));this.qy.hb(!0);this.qy.Uc(!1);break;case "Repeat Responses":this.j.amountNote.Va(q.size(180,0));this.SD=new Z(this.j.amountText,q.size(this.j.amountText.c().width,this.j.amountText.c().height),q.a(0,this.j.amountText.c().height),null!=c.amount&&
"undefined"!==c.amount?c.amount:"1",q.i(255,255,255),q.n(0,0,0));this.SD.hb(!0);this.SD.Uc(!1);break;case "Is Player Statistics":case "Is NPC Statistics":e=[];a=[];f=ObjectLists.wk();for(d=0;d<f.length;d++)e[d]=q.Node.create(),g=q.X.create(q.i(0,0,0,127),154,1),h=q.R.create(f[d].name,"Arial",15),h.q(q.n(0,0,0)),h.w(q.a(0,0)),h.l(q.a(4,4)),h.Va(q.size(126,0)),k=q.v.Ja(q.fa.g().ka("GUI/use.png")),k.l(q.a(130,0)),k.w(q.a(0,0)),k.Na="Use",e[d].N(154,h.c().height+8),k.xc((h.c().height+8)/2-10),a.push([k]),
m=q.X.create(q.i(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].Hb=m,e[d].f(g),e[d].f(h),e[d].f(k);p=this;this.j.skillList.ac=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.j.skillList.Ub=function(){return e.length};this.j.skillList.jc=function(a){return e[a].c()};this.j.skillList.ic=function(a){return e[a]};this.j.skillList.qf=function(a){return e[a].Hb};this.j.skillList.lb=function(a,c){"Use"==a&&(this.Q.Hb(c),p.iy=c)};this.j.skillList.Q=ListView.create(this.j.skillList);
this.j.skillList.Q.lc(a);this.j.skillList.f(this.j.skillList.Q);null!=c.skill&&"undefined"!==c.skill&&this.j.skillList.lb("Use",c.skill);this.bm=new Z(this.j.levelTextLower,q.size(this.j.levelTextLower.c().width,this.j.levelTextLower.c().height),q.a(0,this.j.levelTextLower.c().height),null!=c.levelLower&&"undefined"!==c.levelLower&&""!=c.levelLower?c.levelLower:"0",q.i(255,255,255),q.n(0,0,0));this.bm.hb(!0);this.bm.Uc(!1);this.cm=new Z(this.j.expTextLower,q.size(this.j.expTextLower.c().width,this.j.expTextLower.c().height),
q.a(0,this.j.expTextLower.c().height),null!=c.xpLower&&"undefined"!==c.xpLower&&""!=c.xpLower?c.xpLower:"0",q.i(255,255,255),q.n(0,0,0));this.cm.hb(!0);this.cm.Uc(!1);this.am=new Z(this.j.healthTextLower,q.size(this.j.healthTextLower.c().width,this.j.healthTextLower.c().height),q.a(0,this.j.healthTextLower.c().height),null!=c.healthLower&&"undefined"!==c.healthLower&&""!=c.healthLower?c.healthLower:"0",q.i(255,255,255),q.n(0,0,0));this.am.hb(!0);this.am.Uc(!1);this.ky=new Z(this.j.levelTextUpper,
q.size(this.j.levelTextUpper.c().width,this.j.levelTextUpper.c().height),q.a(0,this.j.levelTextUpper.c().height),null!=c.levelUpper&&"undefined"!==c.levelUpper&&""!=c.levelUpper?c.levelUpper:"0",q.i(255,255,255),q.n(0,0,0));this.ky.hb(!0);this.ky.Uc(!1);this.ly=new Z(this.j.expTextUpper,q.size(this.j.expTextUpper.c().width,this.j.expTextUpper.c().height),q.a(0,this.j.expTextUpper.c().height),null!=c.xpUpper&&"undefined"!==c.xpUpper&&""!=c.xpUpper?c.xpUpper:"0",q.i(255,255,255),q.n(0,0,0));this.ly.hb(!0);
this.ly.Uc(!1);this.jy=new Z(this.j.healthTextUpper,q.size(this.j.healthTextUpper.c().width,this.j.healthTextUpper.c().height),q.a(0,this.j.healthTextUpper.c().height),null!=c.healthUpper&&"undefined"!==c.healthUpper&&""!=c.healthUpper?c.healthUpper:"0",q.i(255,255,255),q.n(0,0,0));this.jy.hb(!0);this.jy.Uc(!1);break;case "Equip Item":null!=c.equip&&"undefined"!==c.equip?(this.Sc="head",this.Dk(c.equip)):this.Dk("head")}},mx:function(){this.b.subEditorOver.B(!1);this.b.mainEditorOver.B(!0);this.$n=
null;this.j.J();this.j=null},Dk:function(a){this.j.headButton.q(q.i(255,255,255,255));this.j.bodyButton.q(q.i(255,255,255,255));this.j.legButton.q(q.i(255,255,255,255));this.j.feetButton.q(q.i(255,255,255,255));this.j.lArmButton.q(q.i(255,255,255,255));this.j.rArmButton.q(q.i(255,255,255,255));this.j.modButton.q(q.i(255,255,255,255));switch(a){case "head":this.Sc=a;this.j.headButton.q(q.i(255,0,0,255));return;case "body":this.Sc=a;this.j.bodyButton.q(q.i(255,0,0,255));return;case "legs":this.Sc=a;
this.j.legButton.q(q.i(255,0,0,255));return;case "feet":this.Sc=a;this.j.feetButton.q(q.i(255,0,0,255));return;case "mod":this.Sc=a;this.j.modButton.q(q.i(255,0,0,255));return;case "bothArms":this.Sc=a;this.j.lArmButton.q(q.i(255,0,0,255));this.j.rArmButton.q(q.i(255,0,0,255));return}"bothArms"!=this.Sc&&"lArm"!=this.Sc&&"rArm"!=this.Sc&&"lArm"==a?(this.j.lArmButton.q(q.i(255,0,0,255)),this.Sc="lArm"):"bothArms"!=this.Sc&&"lArm"!=this.Sc&&"rArm"!=this.Sc&&"rArm"==a?(this.j.rArmButton.q(q.i(255,0,
0,255)),this.Sc="rArm"):"rArm"==this.Sc&&"lArm"==a?(this.j.lArmButton.q(q.i(255,0,0,255)),this.j.rArmButton.q(q.i(255,0,0,255)),this.Sc="bothArms"):"lArm"==this.Sc&&"rArm"==a?(this.j.lArmButton.q(q.i(255,0,0,255)),this.j.rArmButton.q(q.i(255,0,0,255)),this.Sc="bothArms"):"bothArms"==this.Sc&&"rArm"==a?(this.j.lArmButton.q(q.i(255,0,0,255)),this.Sc="lArm"):"bothArms"==this.Sc&&"lArm"==a&&(this.j.rArmButton.q(q.i(255,0,0,255)),this.Sc="rArm")},ub:function(a){if(this._super(a))return!0;a=q.a(a.S.x,a.S.y);
if(this.sg){var c=this.sg.Ia(a);if(E(this.sg.okbtn,c)){switch(this.$n){case "Talk":this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data.options[this.CE]=this.BE.Y(),this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data.say=this.ed.Y()}this.sg.J();this.CE=this.sg=null;this.yt();return}if(E(this.sg.cancelbtn,c)){this.sg.J();this.CE=this.sg=null;this.yt();return}}if(this.j)if(c=this.j.Ia(a),E(this.j.okbtn,c)){switch(this.$n){case "Warp Player":a=U.Ai(this.Ey.Y());this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data=
{mapnum:parseInt(this.Ey.Y()),index:P(parseInt(this.NE.Y()),a.width-parseInt(this.OE.Y()))};break;case "Show Sign":this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data={content:this.ed.Y(),title:this.vE.Y()};break;case "Read Item":this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data={say:this.ed.Y()};break;case "Script Response":case "Script Requirement":this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data.functionContent=this.ed.Y();break;case "Talk":this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data.say=
this.ed.Y();break;case "Is Quest Point":case "Set Quest Point":this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data={quest:this.wK,objective:this.jK};break;case "Spawn NPC":this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data={npc:this.wc};break;case "Give /Take Item":case "Has Player Item":case "Spawn Item":this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data={item:this.wc,amount:parseInt(this.vx.Y())};break;case "Modify Player Stats":case "Modify NPC Stats":this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data=
{skill:this.iy,level:parseInt(this.bm.Y()),xp:parseInt(this.cm.Y()),health:parseInt(this.am.Y())};break;case "Is Panel Visibility":case "Open/Close Panel":this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data={panel:this.Ix,visible:this.Gj};break;case "Open/Close Shop":this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data={id:this.Ix,visible:this.Gj};break;case "Is Event Fired By":this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data={object:this.hK};break;case "Is NPC Actioning":this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data=
{action:this.MH};break;case "Is Player Inventory Space":this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data={space:parseInt(this.ux.Y())};break;case "Wait":this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data={time:parseInt(this.qy.Y())};break;case "Repeat Responses":this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data={amount:parseInt(this.SD.Y())};break;case "Is Player Statistics":case "Is NPC Statistics":this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data=
{skill:this.iy,levelLower:parseInt(this.bm.Y()),xpLower:parseInt(this.cm.Y()),healthLower:parseInt(this.am.Y()),levelUpper:parseInt(this.ky.Y()),xpUpper:parseInt(this.ly.Y()),healthUpper:parseInt(this.jy.Y())};break;case "Equip Item":this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data={equip:this.Sc}}this.mx()}else this.j.headButton&&E(this.j.headButton,c)?this.Dk("head"):this.j.bodyButton&&E(this.j.bodyButton,c)?this.Dk("body"):this.j.legButton&&E(this.j.legButton,c)?this.Dk("legs"):
this.j.feetButton&&E(this.j.feetButton,c)?this.Dk("feet"):this.j.lArmButton&&E(this.j.lArmButton,c)?this.Dk("lArm"):this.j.rArmButton&&E(this.j.rArmButton,c)?this.Dk("rArm"):this.j.modButton&&E(this.j.modButton,c)?this.Dk("mod"):this.j.visibleButton&&E(this.j.visibleButton,c)?(this.Gj=0==this.Gj?1:0,this.j.visibleButton.q(0==this.Gj?q.i(255,0,0,255):q.i(0,255,0,255)),this.j.visibleButton.content.ma(0==this.Gj?"Invisible":"Visible")):E(this.j.cancelbtn,c)&&(this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data=
H(this.GV),this.mx());else if(c=this.b.main_panel.Ia(a),E(this.b.main_panel.okbtn,c))this.b.main_panel.abbrEntry&&(null==this.Pw.Y()||""==this.Pw.Y())||null==this.rb.Y()||""==this.rb.Y()||(this.data.name=this.rb.Y(),this.b.main_panel.abbrEntry&&(this.data.abbr=this.Pw.Y()),this.Ug=!0,this.k.Rd(this.data));else if(E(this.b.main_panel.cancelbtn,c)){this.Ug=!0;var d=this.k;this.k.Xd(function(){d.Rd(null)})}else E(this.b.main_panel,c)}});Itemeditor2=Itemeditor=null;
ItemEditor=Popup.extend({Sb:u[0].name,ba:0,Rb:1,f2:null,mj:null,Qd:null,rn:!1,Yn:function(a,c){Scripteditor&&(Scripteditor.za(),Scripteditor.J(),this.Vh=a,this.pc(!0),this.b.main_panel.tab1.scriptbtn.text.ma(c.name),this.b.main_panel.tab1.scriptbtn.q(q.i(0,255,0,255)));Shopeditor&&(Shopeditor.za(),Shopeditor.J(),Shopeditor=null,this.tR(a));Itemeditor2&&1==this.rn&&(Itemeditor2.za(),Itemeditor2.J(),Itemeditor2=null,this.sR(this.Qd,a,c),this.Qd=null);Itemeditor2&&0==this.rn&&(Itemeditor2.za(),Itemeditor2.J(),
Itemeditor2=null,this.qR(this.Qd,a,c),this.Qd=null)},rt:function(){this.b.main_panel.tab1.scriptbtn.text.ma("None");this.b.main_panel.tab1.scriptbtn.q(q.i(255,0,0,255))},tc:function(){return{panels:{position:q.a(300,10),children:{background:{$:"GUI/itemeditor_bg.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(500,368),children:{tab1:{children:{namelbl:{label:"Name:",fontSize:20,e:q.a(0,0),position:q.a(4,292),color:q.n(0,0,0)},name_entry:{position:q.a(74,292),size:q.size(266,
32),color:q.i(255,255,255,255)},tiles:{e:q.a(0,1),position:q.a(16,272),$:u[0].name},textureleftbtn:{position:q.a(362,292),size:q.size(16,32),$:"GUI/texture_change_left.png",e:q.a(0,0)},texturerightbtn:{position:q.a(471,292),size:q.size(16,32),$:"GUI/texture_change_right.png",e:q.a(0,0)},textureName:{position:q.a(375,292),size:q.size(96,32),$:"GUI/texture_change_middle.png",e:q.a(0,0),children:{text:{label:u[0].name,fontSize:12,e:q.a(.5,.5),position:q.a(48,16),color:q.n(0,0,0)}}},leftbtn:{position:q.a(0,
16),size:q.size(16,256),color:q.i(0,0,255,255),e:q.a(0,0),children:{text:{label:"<",fontSize:12,e:q.a(.5,.5),position:q.a(8,160),color:q.n(255,255,255)}}},rightbtn:{position:q.a(336,16),size:q.size(16,256),color:q.i(0,0,255,255),e:q.a(0,0),children:{text:{label:">",fontSize:12,e:q.a(.5,.5),position:q.a(8,160),color:q.n(255,255,255)}}},upbtn:{position:q.a(16,272),size:q.size(320,16),color:q.i(0,0,255,255),e:q.a(0,0),children:{text:{label:"^",fontSize:12,e:q.a(.5,.5),position:q.a(160,8),color:q.n(255,
255,255)}}},downbtn:{position:q.a(16,0),size:q.size(320,16),color:q.i(0,0,255,255),e:q.a(0,0),children:{text:{label:"v",fontSize:12,e:q.a(.5,.5),position:q.a(160,8),color:q.n(255,255,255)}}},stacklbl:{label:"Stackable:",fontSize:12,e:q.a(0,0),position:q.a(360,206),color:q.n(0,0,0)},stackbtn:{position:q.a(360,176),size:q.size(128,26),color:ra,e:q.a(0,0),children:{text:{label:"No",fontSize:12,e:q.a(.5,.5),position:q.a(64,13),color:q.n(0,0,0)}}},scriptlbl:{label:"Script:",fontSize:12,e:q.a(0,0),position:q.a(360,
262),color:q.n(0,0,0)},scriptbtn:{position:q.a(360,232),size:q.size(128,26),color:ra,e:q.a(0,0),children:{text:{label:"None",fontSize:12,e:q.a(.5,.5),position:q.a(64,13),color:q.n(0,0,0)}}},highlightnode:{e:q.a(0,0),position:q.a(0,0),size:q.size(32,32),color:q.i(255,100,100,255)},selectednode:{e:q.a(0,0),position:q.a(0,0),size:q.size(32,32),color:q.i(100,255,100,255)},okbtn:{position:q.a(434,16),size:q.size(32,32),$:"GUI/tick_icon.png",e:q.a(0,0)},cancelbtn:{position:q.a(384,16),size:q.size(32,32),
$:"GUI/cross_icon.png",e:q.a(0,0)},descriptionLbl:{label:"Description",fontSize:12,e:q.a(0,0),position:q.a(360,154),color:q.n(0,0,0)},descriptionBox:{size:q.size(128,96),position:q.a(360,55),color:q.n(255,255,255)}}},tab2:{children:{list:{size:q.size(466,320),position:q.a(2,2),e:q.a(0,0)},shopName_label:{label:"Store Name",position:q.a(4,328),color:q.n(255,255,255),fontSize:15,e:q.a(0,0)},shopSell_label:{label:"Sell Price",position:q.a(130,328),color:q.n(255,255,255),fontSize:15,e:q.a(0,0)},shopBuy_label:{label:"Buy Price",
position:q.a(315,328),color:q.n(255,255,255),fontSize:15,e:q.a(0,0)}}},tab3:{size:q.size(200,100),color:q.n(100,100,100),children:{okbtn:{position:q.a(20,32),size:q.size(32,32),$:"GUI/tick_icon.png",e:q.a(0,0)},cancelbtn:{position:q.a(60,32),size:q.size(32,32),$:"GUI/cross_icon.png",e:q.a(0,0)},textBox:{size:q.size(100,20),position:q.a(20,72),color:q.n(255,255,255)}}},tab1Clickable:{position:q.a(8,348),size:q.size(60,20),color:B,e:q.a(0,0),children:{text:{label:"Details",fontSize:12,e:q.a(.5,.5),
position:q.a(32,10),color:q.n(0,0,0)}}},tab2Clickable:{position:q.a(70,348),size:q.size(60,20),color:B,e:q.a(0,0),children:{text:{label:"Value",fontSize:12,e:q.a(.5,.5),position:q.a(32,10),color:q.n(0,0,0)}}}}},control_panel:{e:q.a(0,0),position:q.a(0,368),size:q.size(500,32),children:{header:{label:"Item Editor",fontSize:20,e:q.a(0,.5),position:q.a(8,16)},exitBtn:{position:q.a(476,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},Ic:function(){return"itemEditor"},rb:null,ax:null,k:null,data:null,
Vh:null,A:function(a){this._super();this.data={value:[],sprite:{texture:u[0].name,position:{x:0,y:0}},script:null,stackable:!1,name:""};this.Sb=u[0].name;this.ba=0;this.Vh=this.k=this.ax=this.rb=null;this.U=q.a(0,0);this.k=a.k;a&&a.data&&(this.data=a.data,this.data.script&&(this.Vh=this.data.script),a.data.value||(this.data.value=[]))},Aj:function(a){z({saveitems:a+"",itemdata:this.data})},oj:function(a,c){z({saveitemswhole:c})},oa:function(){this._super();this.b.main_panel.tab1.highlightnode.ta(0);
this.b.main_panel.tab1.selectednode.ta(127);for(var a in u)u[a].name==this.data.sprite.texture&&(this.ba=a,this.Sb=u[a].name);this.b.main_panel.tab1.textureName.text.ma(this.Sb);this.b.main_panel.tab1.tiles.la(u[this.ba].texture);null!=this.data.script&&(this.b.main_panel.tab1.scriptbtn.q(q.i(0,255,0,255)),this.b.main_panel.tab1.scriptbtn.text.ma(ObjectLists.Le()[this.data.script].name),this.Vh=this.data.script);for(a=this.data.sprite.position.x;10<=a;)a--,this.U.x++;for(a=this.data.sprite.position.y;8<=
a;)a--,this.U.y++;a=q.a(32*(this.data.sprite.position.x-this.U.x),32*(this.data.sprite.position.y-this.U.y));this.b.main_panel.tab1.selectednode.l(this.b.main_panel.tab1.tiles.u.x+a.x,this.b.main_panel.tab1.tiles.u.y-(a.y+32));this.rb=new Z(this.b.main_panel.tab1.name_entry,q.size(this.b.main_panel.tab1.name_entry.c().width,this.b.main_panel.tab1.name_entry.c().height),q.a(0,this.b.main_panel.tab1.name_entry.c().height),this.data.name?this.data.name:"",q.i(255,255,255),q.n(0,0,0));this.rb.hb(!0);
this.Lp=new Z(this.b.main_panel.tab3.textBox,q.size(this.b.main_panel.tab3.textBox.c().width,this.b.main_panel.tab3.textBox.c().height),q.a(0,this.b.main_panel.tab3.textBox.c().height),"1",q.i(255,255,255),q.n(0,0,0));this.Lp.hb(!0);this.ax=new Z(this.b.main_panel.tab1.descriptionBox,q.size(this.b.main_panel.tab1.descriptionBox.c().width,this.b.main_panel.tab1.descriptionBox.c().height),q.a(0,this.b.main_panel.tab1.descriptionBox.c().height),"",q.i(255,255,255),q.n(0,0,0),!0);this.ax.hb(!0);this.b.main_panel.tab1.stackbtn.q(ra);
this.b.main_panel.tab1.stackbtn.text.ma("No");1==this.data.stackable&&(this.b.main_panel.tab1.stackbtn.q(qa),this.b.main_panel.tab1.stackbtn.text.ma("Yes"));this.em();this.Yd(1);this.zb()},Yd:function(a){2==a&&(this.b.main_panel.tab1.name_entry.Oa(-1E4),this.b.main_panel.tab3.textBox.Oa(-1E4),this.b.main_panel.tab1.descriptionBox.Oa(-1E4));1==a&&(this.b.main_panel.tab1.name_entry.Oa(74),this.b.main_panel.tab3.textBox.Oa(-1E4),this.b.main_panel.tab1.descriptionBox.Oa(360));3==a?(this.b.main_panel.tab1.descriptionBox.Oa(-1E4),
this.b.main_panel.tab2.B(!0),this.b.main_panel.tab3.textBox.Oa(20),this.b.main_panel.tab3.B(!0),this.Rb=a):(this.Rb=a,this.b.main_panel.tab1.B(!1),this.b.main_panel.tab2.B(!1),this.b.main_panel.tab3.B(!1),this.b.main_panel.tab1Clickable.q(B),this.b.main_panel.tab2Clickable.q(B),this.b.main_panel["tab"+a].B(!0),this.b.main_panel["tab"+a+"Clickable"].q(q.i(255,255,0,255)))},za:function(a){this._super();if(this.k){var c=this.k;1!=a&&this.k.Xd(function(){c.Rd(null)})}},Sh:function(a){a=a.S;this.b.main_panel.tab1.highlightnode.ta(0);
a=this.b.main_panel.tab1.tiles.Ia(a);if(0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.c().width&&a.y<=this.b.main_panel.tab1.tiles.c().height)return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+16,this.b.main_panel.tab1.highlightnode.ta(127),this.b.main_panel.tab1.highlightnode.l(a),!0},em:function(){this.b.main_panel.tab2.list.Q&&(this.b.main_panel.tab2.list.Q.J(),this.b.main_panel.tab2.list.Q=null);for(var a=[],c=[],d=this.data.value,e=this,f=0;f<d.length;f++){a[f]=q.Node.create();var g=q.X.create(q.i(255,
0,0,127),456,1),h=q.R.create(ObjectLists.Zp()[d[f].shopid].name,"Arial",12);h.q(q.n(0,0,0));h.w(q.a(0,.5));h.l(q.a(4,30));h.Va(q.size(40,0));var k=q.v.Ja(q.fa.g().ka("GUI/trash.png"));k.l(q.a(64,18));k.w(q.a(0,0));k.Na="Delete";a[f].N(468,60);c.push([k]);a[f].f(g);a[f].f(h);a[f].f(k);g=f;h=q.X.create(q.i(255,255,255,100),148,59);h.l(88,1);a[f].f(h);for(var l=[],k=[],m=0;m<d[f].sell.length;m++){var p=ObjectLists.Jb()[d[f].sell[m].id].name;l[m]=q.Node.create();l[m].N(148,20);p=q.R.create(p,"Arial",
15);p.q(q.n(0,0,0));p.w(q.a(0,0));p.l(q.a(4,4));p.Va(q.size(65,0));var t=q.v.Ja(q.fa.g().ka("GUI/trash.png"));t.l(q.a(124,(p.c().height+8)/2-10));t.w(q.a(0,0));t.Na="Delete";a[f].N(148,60);var v=q.X.create(q.i(255,255,255,255),50,20);v.l(q.a(69,(p.c().height+8)/2-10));v.w(q.a(0,0));v.Na="Edit";var x=q.R.create("x "+d[f].sell[m].amount,"Arial",12);x.l(2,(20-x.c().height)/2);x.q(q.n(0,0,0));x.w(q.a(0,0));v.f(x);x=q.X.create(q.i(0,0,0,127),148,1);l[m].f(x);l[m].f(p);l[m].f(t);l[m].f(v);l[m].N(148,p.c().height+
8);k.push([t,v])}m=q.X.create(q.i(70,200,70,255),40,20);p=q.R.create("+","Arial",15);p.l(20,10);p.w(q.a(.5,.5));m.l(q.a(54,0));m.Na="Add";m.f(p);k.push([m]);l.push(m);h.ac=function(){for(var a=0,c=0;c<l.length;c++)a+=l[c].c().height;return q.size(180,a)};h.Ub=function(){return l.length};h.jc=function(a){return l[a].c()};h.ic=function(a){return l[a]};h.qf=function(a){return l[a].Hb};h.lb=function(a,c,d){if(2==e.Rb)switch(a){case "Add":e.Qd=this.Q.index;e.rn=!0;Itemeditor2&&!Itemeditor2.ca&&(Itemeditor2=
null);Itemeditor2?(Itemeditor2.za(),Itemeditor2.J(),Itemeditor2r=null):(Itemeditor2=new PopupList,Itemeditor2.A({k:e,Rg:new ShopEditor,list:ObjectLists.Jb(),name:"Item List"},{$w:!1,ex:!1,add:!1}),Itemeditor2.oa(),e.f(Itemeditor2),Itemeditor2.l(e.u));break;case "Edit":e.rn=!0;e.Qd=this.Q.index;e.mj=c;e.Yd(3);break;case "Delete":e.Qd=this.Q.index,e.mj=c,e.yS(d)}};h.Q=ListView.create(h);h.Q.lc(k);h.Q.index=g;h.f(h.Q);h=q.X.create(q.i(255,255,255,180),148,59);h.l(274,1);a[f].f(h);for(var y=[],k=[],m=
0;m<d[f].buy.length;m++)p=ObjectLists.Jb()[d[f].buy[m].id].name,y[m]=q.Node.create(),y[m].N(148,20),p=q.R.create(p,"Arial",15),p.q(q.n(0,0,0)),p.w(q.a(0,0)),p.l(q.a(4,4)),p.Va(q.size(65,0)),t=q.v.Ja(q.fa.g().ka("GUI/trash.png")),t.l(q.a(124,(p.c().height+8)/2-10)),t.w(q.a(0,0)),t.Na="Delete",a[f].N(148,60),v=q.X.create(q.i(255,255,255,255),50,20),v.l(q.a(69,(p.c().height+8)/2-10)),v.w(q.a(0,0)),v.Na="Edit",x=q.R.create("x "+d[f].buy[m].amount,"Arial",12),x.l(2,(20-x.c().height)/2),x.q(q.n(0,0,0)),
x.w(q.a(0,0)),v.f(x),x=q.X.create(q.i(0,0,0,127),148,1),y[m].f(x),y[m].f(p),y[m].f(t),y[m].f(v),y[m].N(148,p.c().height+8),k.push([t,v]);m=q.X.create(q.i(70,200,70,255),40,20);p=q.R.create("+","Arial",15);p.l(20,10);p.w(q.a(.5,.5));m.l(q.a(54,0));m.Na="Add";m.f(p);k.push([m]);y.push(m);h.ac=function(){for(var a=0,c=0;c<y.length;c++)a+=y[c].c().height;return q.size(180,a)};h.Ub=function(){return y.length};h.jc=function(a){return y[a].c()};h.ic=function(a){return y[a]};h.qf=function(a){return y[a].Hb};
h.lb=function(a,c,d){if(2==e.Rb)switch(a){case "Add":e.Qd=this.Q.index;e.rn=!1;Itemeditor2&&!Itemeditor2.ca&&(Itemeditor2=null);Itemeditor2?(Itemeditor2.za(),Itemeditor2.J(),Itemeditor2r=null):(Itemeditor2=new PopupList,Itemeditor2.A({k:e,Rg:new ShopEditor,list:ObjectLists.Jb(),name:"Item List"},{$w:!1,ex:!1,add:!1}),Itemeditor2.oa(),e.f(Itemeditor2));break;case "Edit":e.rn=!1;e.Qd=this.Q.index;e.mj=c;e.Yd(3);break;case "Delete":e.Qd=this.Q.index,e.mj=c,e.tS(d)}};h.Q=ListView.create(h);h.Q.index=
g;h.Q.lc(k);h.f(h.Q)}d=q.X.create(q.i(70,200,70,255),90,26);f=q.R.create("+","Arial",20);f.l(45,13);f.w(q.a(.5,.5));d.l(q.a(185,0));d.Na="Add";d.f(f);c.push([d]);a.push(d);this.b.main_panel.tab2.list.ac=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(468,c)};this.b.main_panel.tab2.list.Ub=function(){return a.length};this.b.main_panel.tab2.list.jc=function(c){return a[c].c()};this.b.main_panel.tab2.list.ic=function(c){return a[c]};this.b.main_panel.tab2.list.qf=function(c){return a[c].Hb};
this.b.main_panel.tab2.list.lb=function(a,c,d){if(2==e.Rb)switch(a){case "Add":if(Shopeditor)Shopeditor.za(),Shopeditor.J(),Shopeditor=null;else{Shopeditor=new PopupList;a=ObjectLists.Zp();c=[];for(var f in a)c.push({name:a[f].name});for(f=0;f<e.data.value.length;f++)c[e.data.value[f].shopid]={};0<c.length&&(Shopeditor.A({k:e,Rg:new ShopEditor,list:c,name:"Shop List"}),Shopeditor.oa(),e.f(Shopeditor))}break;case "Delete":e.Qd=c,e.AS(d)}};this.b.main_panel.tab2.list.Q=ListView.create(this.b.main_panel.tab2.list);
this.b.main_panel.tab2.list.Q.lc(c);this.b.main_panel.tab2.list.f(this.b.main_panel.tab2.list.Q)},tR:function(a){this.data.value.push({shopid:a,sell:[],buy:[]});this.em()},yS:function(a){this.ca.f(DropDownList.Rc(this,this.zS,["Delete","Cancel"],a.S))},zS:function(a){0==a&&(this.k.data.value[this.k.Qd].sell.splice(this.k.mj,1),this.k.em());this.k.Qd=null;this.k.mj=null},AS:function(a){this.ca.f(DropDownList.Rc(this,this.BS,["Delete","Cancel"],a.S))},BS:function(a){0==a&&(this.k.data.value.splice(this.k.Qd,
1),this.k.em());this.k.Qd=null},tS:function(a){this.ca.f(DropDownList.Rc(this,this.uS,["Delete","Cancel"],a.S))},uS:function(a){0==a&&(this.k.data.value[this.k.Qd].buy.splice(this.k.mj,1),this.k.em());this.k.Qd=null;this.k.mj=null},sR:function(a,c){this.data.value[a].sell.push({id:c,amount:1});this.em()},qR:function(a,c){this.data.value[a].buy.push({id:c,amount:1});this.em()},zb:function(){this.kc(this.zb);this.b.main_panel.tab1.tiles.ia()&&1==this.b.main_panel.tab1.tiles.ia().Pc&&(this.Nc(this.zb),
this.b.main_panel.tab1.tiles.ib(q.rect(Math.floor(32*this.U.x),Math.floor(32*this.U.y),320>u[this.ba].texture.c().width?u[this.ba].texture.c().width:320,256>u[this.ba].texture.c().height?u[this.ba].texture.c().height:256)))},ub:function(a){if(this._super(a))return!0;this.Vd=null;a=a.S;var c=this.b.main_panel.Ia(q.a(a.x,a.y));if(E(this.b.main_panel.tab1Clickable,c))return this.Yd(1),!0;if(E(this.b.main_panel.tab2Clickable,c))return this.Yd(2),!0;if(3==this.Rb){if(E(this.b.main_panel.tab3.okbtn,c)){if(null==
this.Lp.Y()||""==this.Lp.Y()||0>=this.Lp.Y())return!0;1==this.rn?this.data.value[this.Qd].sell[this.mj].amount=this.Lp.Y():this.data.value[this.Qd].buy[this.mj].amount=this.Lp.Y();this.Yd(2);this.em();return!0}if(E(this.b.main_panel.tab3.cancelbtn,c))return this.Yd(2),!0}if(1==this.Rb){if(E(this.b.main_panel.tab1.okbtn,c)){if(null==this.rb.Y()||""==this.rb.Y())return!0;this.Ug=!0;this.data.description=this.ax.Y();this.data.name=this.rb.Y();this.data.script=this.Vh;this.k.Rd(this.data);return!0}E(this.b.main_panel.tab1.scriptbtn,
c)&&(Scripteditor?(Scripteditor.za(),Scripteditor.J(),Scripteditor=null):(Scripteditor=new PopupList,Scripteditor.A({k:this,Rg:new ScriptEditor,list:ObjectLists.Le(),name:"Script List"}),Scripteditor.oa(),this.f(Scripteditor)));if(E(this.b.main_panel.tab1.cancelbtn,c)){this.Ug=!0;var d=this.k;this.k.Xd(function(){d.Rd(null)});return!0}if(E(this.b.main_panel.tab1.leftbtn,c))return 264<u[this.ba].texture.c().width&&0<this.U.x&&(this.U.x--,this.zb()),!0;if(E(this.b.main_panel.tab1.rightbtn,c))return 320<
u[this.ba].texture.c().width&&this.U.x<(u[this.ba].texture.c().width-320)/32&&(this.U.x++,this.zb()),!0;if(E(this.b.main_panel.tab1.upbtn,c))return 320<u[this.ba].texture.c().height&&0<this.U.y&&(this.U.y--,this.zb()),!0;if(E(this.b.main_panel.tab1.downbtn,c))return 320<u[this.ba].texture.c().height&&this.U.y<(u[this.ba].texture.c().height-320)/32&&(this.U.y++,this.zb()),!0;if(E(this.b.main_panel.tab1.texturerightbtn,c))return this.co(),!0;if(E(this.b.main_panel.tab1.textureleftbtn,c))return this.eo(),
!0;if(E(this.b.main_panel.tab1.stackbtn,c))return this.DE(),!0;c=this.b.main_panel.tab1.tiles.Ia(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.c().width&&c.y<=this.b.main_panel.tab1.tiles.c().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+16;this.b.main_panel.tab1.selectednode.ta(0);if(this.b.main_panel.tab1.selectednode.u.I!=c.x||this.b.main_panel.tab1.selectednode.u.T!=c.y)this.b.main_panel.tab1.selectednode.ta(127),this.b.main_panel.tab1.selectednode.l(c);a=q.a((this.b.main_panel.tab1.selectednode.u.I-
16)/32+this.U.x,8-(this.b.main_panel.tab1.selectednode.u.T-16)/32+this.U.y-1);this.data.sprite.position=a;return!0}}return!1},DE:function(){this.data.stackable=!this.data.stackable;this.b.main_panel.tab1.stackbtn.q(ra);this.b.main_panel.tab1.stackbtn.text.ma("No");1==this.data.stackable&&(this.b.main_panel.tab1.stackbtn.q(qa),this.b.main_panel.tab1.stackbtn.text.ma("Yes"))},co:function(){this.ba>=u.length-1&&(this.ba=-1);this.ba++;this.b.main_panel.tab1.tiles.la(u[this.ba].texture);this.Sb=u[this.ba].name;
this.b.main_panel.tab1.textureName.text.ma(this.Sb);this.data.sprite.texture=this.Sb;this.U=q.a(0,0);this.zb()},eo:function(){0>=this.ba&&(this.ba=u.length);this.ba--;this.b.main_panel.tab1.tiles.la(u[this.ba].texture);this.Sb=u[this.ba].name;this.b.main_panel.tab1.textureName.text.ma(this.Sb);this.U=q.a(0,0);this.zb()}});Settingseditor=null;
SettingsEditor=Popup.extend({data:null,F:null,eb:null,Ic:function(){return"Settings Editor"},za:function(){this._super()},A:function(){this._super();this.data=H(D)},Aj:function(a){z({savequests:a+"",questdata:this.data})},oj:function(a,c){z({savequestswhole:c})},oa:function(){this._super();this.nb()},nb:function(){this.F&&this.F.bc();var a=[],c=[],d=q.fa.g(),e=0,f;for(f in this.data){if("ISSECTION"!=this.data[f]){a[e]=q.Node.create();a[e].N(324,32);var g=q.R.create(f,"Arial",18);g.w(q.a(0,0));g.l(q.a(4,
0));g.Va(q.size(246,0));g.q(q.n(100,0,0));a[e].f(g);a[e].N(324,g.c().height+4);g=[];c.push(g);e++}a[e]=q.Node.create();a[e].N(324,32);var h=q.X.create(q.i(0,0,0,127),316,1);h.l(q.a(4,0));if("ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]){var k=q.v.Ja(d.ka("GUI/edit.png"));k.l(q.a(300,0));k.w(q.a(0,0))}if("ISSECTION"==this.data[f]){var l=q.R.create(f,"Arial",22);l.q(q.n(255,0,0))}else l=q.R.create(this.data[f],"Arial",15),l.q(q.n(0,0,0));l.w(q.a(0,0));l.l(q.a(4,4));l.Va(q.size(246,0));g=[];"ISSECTION"!=
this.data[f]&&"ISYESNO"!=this.data[f]&&(k.Na="Edit",g=[],g.push(k));c.push(g);a[e].f(h);"ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]&&a[e].f(k);a[e].f(l);"ISSECTION"==this.data[f]?a[e].N(324,l.c().height+12):a[e].N(324,l.c().height+8);"ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]&&k.xc((l.c().height+8)/2-10);e++}this.F=this.b.main_panel.list;var m=this;this.F.ac=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(324,c)};this.F.Ub=function(){return a.length};this.F.jc=
function(c){return a[c].c()};this.F.ic=function(c){return a[c]};this.F.lb=function(a,c,d){m.Ia(d.S);if(1!=m.Rf)switch(a){case "Edit":a=0;d="";for(var e in m.data){if(a==c){d=e;break}a++;if("ISSECTION"!=m.data[e]){if(a==c){d=e;break}a++}}m.eb=d;m.IC(d)}};this.F.Q=ListView.create(this.F);this.F.Q.lc(c);this.F.f(this.F.Q)},tc:function(){return{panels:{position:q.a(300,200),children:{background_image:{$:"GUI/list_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(365,328),children:{savebtn:{size:q.size(64,
32),color:q.i(0,255,0,255),position:q.a(241,292),e:q.a(0,0),children:{content:{label:"Save",color:q.n(0,0,0),position:q.a(32,16),e:q.a(.5,.5)}}},list:{size:q.size(324,284),color:q.i(0,200,200,200),position:q.a(0,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Settings Editor",fontSize:20,e:q.a(0,.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},pf:null,qa:null,IC:function(a){null!=
this.qa&&(this.qa.bc(),this.pf=null,this.qa.J(),this.eb=this.qa=null);this.qa=q.X.create(q.i(255,255,255,200),200,200);this.qa.l(q.a((this.b.main_panel.c().width-200)/2,(this.b.main_panel.c().height-200)/2));this.pf=new Z(this.qa,q.size(190,150),q.a(0,this.qa.c().height),this.data[a],q.i(100,100,100),q.n(255,255,255),!0);this.pf.hb(!0);this.pf.YK(!0);a=q.X.create(q.i(0,200,255,255),64,32);a.l(q.a(14,9));var c=q.R.create("OK","Arial",16);c.q(q.n(0,0,0));c.l(32,16);c.w(q.a(.5,.5));a.f(c);c=q.X.create(q.i(200,
0,0,255),64,32);c.l(q.a(120,9));var d=q.R.create("Cancel","Arial",16);d.q(q.n(0,0,0));d.l(32,16);d.w(q.a(.5,.5));c.f(d);this.b.main_panel.f(this.qa);this.qa.f(a);this.qa.yD=a;this.qa.f(c);this.qa.cancel=c},ub:function(a){if(this._super(a))return!0;this.Vd=null;a=a.S;if(null!=this.qa){a=this.qa.Ia(a);if(E(this.qa.yD,a))return this.data[this.eb]=this.pf.Y(),this.qa.bc(),this.pf=null,this.qa.J(),this.eb=this.qa=null,this.nb(),!0;E(this.qa.cancel,a)&&(this.qa.bc(),this.pf=null,this.qa.J(),this.eb=this.qa=
null);return!0}a=this.b.main_panel.Ia(a);return E(this.b.main_panel.savebtn,a)?(D=H(this.data),console.log(D),console.log(this.data),z({savesettings:this.data}),V.IE(this.data,Date.now()),!0):E(this.b.main_panel,a)?!0:!1}});Questeditor=null;
QuestEditor=Popup.extend({data:null,F:null,k:null,eb:null,Ic:function(){return"Quest Editor"},za:function(a){this._super();if(this.k){var c=this.k;1!=a&&this.k.Xd(function(){c.Rd(null)})}},A:function(a){this._super();this.data={name:"",objectiveList:["Unstarted","Initial Objective. Click edit to change this first objective. Click the '+' to add another object. You cannot delete every objective (you need at least one)","Finished"]};this.k=a.k;a&&a.data&&(this.data=a.data)},Aj:function(a){z({savequests:a+"",
questdata:this.data})},oj:function(a,c){z({savequestswhole:c})},oa:function(){this._super();this.nb();this.rb=new Z(this.b.main_panel.nameBox,q.size(this.b.main_panel.nameBox.c().width,this.b.main_panel.nameBox.c().height),q.a(0,this.b.main_panel.nameBox.c().height),this.data.name?this.data.name:"",q.i(255,255,255,255),q.n(0,0,0));this.rb.hb(!0)},nb:function(){this.F&&this.F.bc();var a=[],c=[],d=q.fa.g();this.qI={};var e;console.log(this.data.objectiveList);for(e=0;e<this.data.objectiveList.length-
1;e++)if(a[e]=q.Node.create(),a[e].N(324,32),null==this.data.objectiveList[e])this.data.objectiveList.splice(e,1);else{var f=q.v.create();f.ib(q.rect(0,0,316,1));f.q(q.i(0,0,0,127));f.w(q.a(0,0));f.l(q.a(4,0));var g=q.v.Ja(d.ka("GUI/edit.png"));g.l(q.a(272,0));g.w(q.a(0,0));var h=q.v.Ja(d.ka("GUI/trash.png"));h.l(q.a(300,0));h.w(q.a(0,0));var k=q.R.create(this.data.objectiveList[e],"Arial",15);k.w(q.a(0,0));k.l(q.a(4,4));k.Va(q.size(246,0));k.q(q.n(0,0,0));if(0<e){g.Na="Edit";var l=[];l.push(g)}1<
e&&(h.Na="Delete",l.push(h));c.push(l);a[e].f(f);0<e&&a[e].f(g);1<e&&a[e].f(h);a[e].f(k);a[e].N(324,k.c().height+8);g.xc((k.c().height+8)/2-10);h.xc((k.c().height+8)/2-10)}d=q.v.create();d.ib(q.rect(0,0,90,26));d.q(q.i(70,200,70,255));d.w(q.a(0,0));f=q.R.create("+","Arial",20);f.l(45,13);f.w(q.a(.5,.5));d.l(q.a(120,0));d.Na="Add";d.f(f);c.push([d]);a.push(d);a[e+1]=q.Node.create();a[e+1].N(324,32);f=q.v.create();f.ib(q.rect(0,0,316,1));f.q(q.i(0,0,0,127));f.w(q.a(0,0));f.l(q.a(4,0));k=q.R.create(this.data.objectiveList[e],
"Arial",15);k.w(q.a(0,0));k.l(q.a(4,4));k.Va(q.size(246,0));k.q(q.n(0,0,0));c.push([]);a[e+1].f(f);a[e+1].f(k);a[e+1].N(324,k.c().height+8);g.xc((k.c().height+8)/2-10);h.xc((k.c().height+8)/2-10);delete e;this.F=this.b.main_panel.list;var m=this;this.F.ac=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(324,c)};this.F.Ub=function(){return a.length};this.F.jc=function(c){return a[c].c()};this.F.ic=function(c){return a[c]};this.F.lb=function(a,c,d){m.Ia(d.S);if(1!=m.Rf)switch(a){case "Delete":null!=
m.qa&&(m.qa.bc(),m.pf=null,m.qa.J(),m.qa=null,m.eb=null);m.ca.f(DropDownList.Rc(m,m.Os,["Cancel","Delete"],d.S));m.eb=c;break;case "Edit":m.eb=c;m.IC(c);break;case "Add":m.rR()}};this.F.Q=ListView.create(this.F);this.F.Q.lc(c);this.F.f(this.F.Q)},tc:function(){return{panels:{position:q.a(300,200),children:{background_image:{$:"GUI/list_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(365,328),children:{nameLabel:{label:"Quest Name",color:q.n(0,0,0),position:q.a(8,312),e:q.a(0,0)},nameBox:{size:q.size(150,
32),color:q.i(255,255,255,255),position:q.a(8,277),e:q.a(0,0)},savebtn:{size:q.size(64,32),color:q.i(0,255,0,255),position:q.a(175,277),e:q.a(0,0),children:{content:{label:"Save",color:q.n(0,0,0),position:q.a(32,16),e:q.a(.5,.5)}}},exitbtn:{size:q.size(64,32),color:q.i(255,0,0,255),position:q.a(253,277),e:q.a(0,0),children:{content:{label:"Exit",color:q.n(0,0,0),position:q.a(32,16),e:q.a(.5,.5)}}},objectivesLabel:{label:"Objectives",color:q.n(0,0,0),position:q.a(8,254),e:q.a(0,0)},list:{size:q.size(324,
250),color:q.i(0,200,200,200),position:q.a(0,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Quest Editor",fontSize:20,e:q.a(0,.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},Os:function(a){switch(a){case 1:this.k.eb&&(this.k.data.objectiveList.splice(this.k.eb,1),this.k.nb(),this.k.eb=null)}},rR:function(){this.data.objectiveList.splice(this.data.objectiveList.length-1,0,"Blank Objective");
this.nb()},pf:null,qa:null,IC:function(a){null!=this.qa&&(this.qa.bc(),this.pf=null,this.qa.J(),this.eb=this.qa=null);this.qa=q.v.create();this.qa.ib(q.rect(0,0,200,200));this.qa.q(q.i(255,255,255,200));this.qa.w(q.a(0,0));this.qa.l(q.a((this.b.main_panel.c().width-200)/2,(this.b.main_panel.c().height-200)/2));this.pf=new Z(this.qa,q.size(190,150),q.a(0,this.qa.c().height),this.data.objectiveList[a],q.i(100,100,100),q.n(255,255,255),!0);this.pf.hb(!0);this.pf.YK(!0);a=q.X.create(q.i(0,200,255,255),
64,32);a.l(q.a(14,9));var c=q.R.create("OK","Arial",16);c.q(q.n(0,0,0));c.l(32,16);c.w(q.a(.5,.5));a.f(c);c=q.X.create(q.i(200,0,0,255),64,32);c.l(q.a(120,9));var d=q.R.create("Cancel","Arial",16);d.q(q.n(0,0,0));d.l(32,16);d.w(q.a(.5,.5));c.f(d);this.b.main_panel.f(this.qa);this.qa.f(a);this.qa.yD=a;this.qa.f(c);this.qa.cancel=c},ub:function(a){if(this._super(a))return!0;a=q.a(a.S.x,a.S.y);if(null!=this.qa){a=this.qa.Ia(a);if(E(this.qa.yD,a))return this.data.objectiveList[this.eb]=this.pf.Y(),this.qa.bc(),
this.pf=null,this.qa.J(),this.eb=this.qa=null,this.nb(),!0;E(this.qa.cancel,a)&&(this.qa.bc(),this.pf=null,this.qa.J(),this.eb=this.qa=null);return!0}a=this.b.main_panel.Ia(a);if(E(this.b.main_panel.savebtn,a)){if(null==this.rb.Y()||""==this.rb.Y())return!0;this.Ug=!0;this.data.name=this.rb.Y();this.k.Rd(this.data);return!0}if(E(this.b.main_panel.exitbtn,a)){this.Ug=!0;var c=this.k;this.k.Xd(function(){c.Rd(null)});return!0}return E(this.b.main_panel,a)?!0:!1}});Mapeditor=null;
MapEditor=Popup.extend({map:null,U:q.a(0,0),pj:"tiles",VJ:null,Yw:"ground1",Sb:u[0].name,ba:0,tc:function(){return{panels:{position:q.a(300,10),children:{main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(420,400),color:q.i(0,0,100,120),children:{tab1:{children:{tiles:{e:q.a(0,1),position:q.a(16,336),$:u[0].name},scriptbtn:{position:q.a(360,360),size:q.size(128,26),color:B,e:q.a(0,0),children:{text:{label:"Script",fontSize:12,e:q.a(.5,.5),position:q.a(64,13),color:q.n(0,0,0)}}},textureleftbtn:{position:q.a(200,360),
size:q.size(16,32),$:"GUI/texture_change_left.png",e:q.a(0,0)},texturerightbtn:{position:q.a(310,360),size:q.size(16,32),$:"GUI/texture_change_right.png",e:q.a(0,0)},textureName:{position:q.a(214,360),size:q.size(96,32),$:"GUI/texture_change_middle.png",e:q.a(0,0),children:{text:{label:u[0].name,fontSize:12,e:q.a(.5,.5),position:q.a(48,16),color:q.n(0,0,0)}}},deletebtn:{position:q.a(360,308),size:q.size(60,32),color:B,e:q.a(0,0),children:{text:{label:"Erase",fontSize:12,e:q.a(.5,.5),position:q.a(32,
16),color:q.n(0,0,0)}}},leftbtn:{position:q.a(0,16),size:q.size(16,320),color:q.i(0,0,255,255),e:q.a(0,0),children:{text:{label:"<",fontSize:12,e:q.a(.5,.5),position:q.a(8,160),color:q.n(255,255,255)}}},rightbtn:{position:q.a(336,16),size:q.size(16,320),color:q.i(0,0,255,255),e:q.a(0,0),children:{text:{label:">",fontSize:12,e:q.a(.5,.5),position:q.a(8,160),color:q.n(255,255,255)}}},upbtn:{position:q.a(16,336),size:q.size(320,16),color:q.i(0,0,255,255),e:q.a(0,0),children:{text:{label:"^",fontSize:12,
e:q.a(.5,.5),position:q.a(160,8),color:q.n(255,255,255)}}},downbtn:{position:q.a(16,0),size:q.size(320,16),color:q.i(0,0,255,255),e:q.a(0,0),children:{text:{label:"v",fontSize:12,e:q.a(.5,.5),position:q.a(160,8),color:q.n(255,255,255)}}},fillbtn:{position:q.a(428,308),size:q.size(60,32),color:B,e:q.a(0,0),children:{text:{label:"Fill",fontSize:12,e:q.a(.5,.5),position:q.a(32,16),color:q.n(0,0,0)}}},ground1btn:{position:q.a(360,278),size:q.size(128,26),color:qa,e:q.a(0,0),children:{text:{label:"Ground 1",
fontSize:12,e:q.a(.5,.5),position:q.a(64,13),color:q.n(0,0,0)}}},ground2btn:{position:q.a(360,248),size:q.size(128,26),color:B,e:q.a(0,0),children:{text:{label:"Ground 2",fontSize:12,e:q.a(.5,.5),position:q.a(64,13),color:q.n(0,0,0)}}},ground3btn:{position:q.a(360,218),size:q.size(128,26),color:B,e:q.a(0,0),children:{text:{label:"Ground 3",fontSize:12,e:q.a(.5,.5),position:q.a(64,13),color:q.n(0,0,0)}}},mask1btn:{position:q.a(360,188),size:q.size(128,26),color:B,e:q.a(0,0),children:{text:{label:"Mask 1",
fontSize:12,e:q.a(.5,.5),position:q.a(64,13),color:q.n(0,0,0)}}},mask2btn:{position:q.a(360,158),size:q.size(128,26),color:B,e:q.a(0,0),children:{text:{label:"Mask 2",fontSize:12,e:q.a(.5,.5),position:q.a(64,13),color:q.n(0,0,0)}}},mask3btn:{position:q.a(360,128),size:q.size(128,26),color:B,e:q.a(0,0),children:{text:{label:"Mask 3",fontSize:12,e:q.a(.5,.5),position:q.a(64,13),color:q.n(0,0,0)}}},fringe1btn:{position:q.a(360,98),size:q.size(128,26),color:B,e:q.a(0,0),children:{text:{label:"Fringe 1",
fontSize:12,e:q.a(.5,.5),position:q.a(64,13),color:q.n(0,0,0)}}},fringe2btn:{position:q.a(360,68),size:q.size(128,26),color:B,e:q.a(0,0),children:{text:{label:"Fringe 2",fontSize:12,e:q.a(.5,.5),position:q.a(64,13),color:q.n(0,0,0)}}},fringe3btn:{position:q.a(360,8),size:q.size(128,26),color:B,e:q.a(0,0),children:{text:{label:"Fringe 3",fontSize:12,e:q.a(.5,.5),position:q.a(64,13),color:q.n(0,0,0)}}},highlightnode:{e:q.a(0,0),position:q.a(0,0),size:q.size(L,L),color:q.i(255,100,100,255)},selectednode:{e:q.a(0,
0),position:q.a(0,0),size:q.size(L,L),color:q.i(100,255,100,255)}}},tab2:{children:{saveBack:{position:q.a(0,78),size:q.size(200,60),color:q.i(0,255,0,100),e:q.a(0,0)},deleteback:{position:q.a(0,138),size:q.size(200,60),color:q.i(255,0,0,100),e:q.a(0,0)},mapnumsback:{position:q.a(0,198),size:q.size(200,162),color:q.i(0,0,0,170),e:q.a(0,0)},mapUp_text:{label:"Map Up",fontSize:10,e:q.a(.5,0),position:q.a(100,344)},mapUp_entry:{size:q.size(60,32),position:q.a(70,312)},mapDown_text:{label:"Map Down",
fontSize:10,e:q.a(.5,0),position:q.a(100,232)},mapDown_entry:{size:q.size(60,32),position:q.a(70,200)},mapLeft_text:{label:"Map Left",fontSize:10,e:q.a(.5,0),position:q.a(38,290)},mapLeft_entry:{size:q.size(60,32),position:q.a(8,258)},mapRight_text:{label:"Map Right",fontSize:10,e:q.a(.5,0),position:q.a(162,290)},mapRight_entry:{size:q.size(60,32),position:q.a(132,258)},mapHeight_text:{label:"Map Height",fontSize:10,e:q.a(.5,0),position:q.a(162,122)},mapHeight_entry:{size:q.size(60,32),position:q.a(128,
90),color:q.n(255,255,255)},mapWidth_text:{label:"Map Width",fontSize:10,e:q.a(0,0),position:q.a(10,122)},mapWidth_entry:{size:q.size(60,32),position:q.a(10,90),color:q.n(255,255,255)},this_map:{position:q.a(70,248),size:q.size(60,60),color:B,e:q.a(0,0),children:{text:{label:"THIS MAP\n#"+U.rf(),fontSize:12,e:q.a(.5,.5),position:q.a(30,30),color:q.n(0,0,0)}}},clearbtn:{position:q.a(70,150),size:q.size(60,32),color:B,e:q.a(0,0),children:{text:{label:"Clear",fontSize:12,e:q.a(.5,.5),position:q.a(32,
16),color:q.n(0,0,0)}}},clear_text:{label:"Clear Map: You sure?",fontSize:14,e:q.a(.5,0),position:q.a(100,182)},clearbtnNo:{position:q.a(10,150),size:q.size(60,32),color:B,e:q.a(0,0),children:{text:{label:"NO",fontSize:12,e:q.a(.5,.5),position:q.a(32,16),color:q.n(0,0,0)}}},clearbtnYes:{position:q.a(130,150),size:q.size(60,32),color:B,e:q.a(0,0),children:{text:{label:"YES",fontSize:12,e:q.a(.5,.5),position:q.a(32,16),color:q.n(0,0,0)}}},savebtn:{position:q.a(70,16),size:q.size(60,32),color:B,e:q.a(0,
0),children:{text:{label:"Save",fontSize:12,e:q.a(.5,.5),position:q.a(32,16),color:q.n(0,0,0)}}},save_text:{label:"Save Map: You sure?",fontSize:14,e:q.a(.5,0),position:q.a(100,52)},savebtnNo:{position:q.a(10,16),size:q.size(60,32),color:B,e:q.a(0,0),children:{text:{label:"NO",fontSize:12,e:q.a(.5,.5),position:q.a(32,16),color:q.n(0,0,0)}}},savebtnYes:{position:q.a(130,16),size:q.size(60,32),color:B,e:q.a(0,0),children:{text:{label:"YES",fontSize:12,e:q.a(.5,.5),position:q.a(32,16),color:q.n(0,0,
0)}}}}},tab1Clickable:{position:q.a(0,380),size:q.size(60,20),color:B,e:q.a(0,0),children:{text:{label:"Editor",fontSize:12,e:q.a(.5,.5),position:q.a(32,10),color:q.n(0,0,0)}}},tab2Clickable:{position:q.a(62,380),size:q.size(60,20),color:B,e:q.a(0,0),children:{text:{label:"Settings",fontSize:12,e:q.a(.5,.5),position:q.a(32,10),color:q.n(0,0,0)}}}}},control_panel:{e:q.a(0,0),position:q.a(0,400),size:q.size(420,32),color:q.i(255,0,0,200),children:{header:{label:"Map Editor - Map #"+U.rf(),fontSize:20,
e:q.a(0,.5),position:q.a(8,16)},exitBtn:{position:q.a(391,3),size:q.size(26,26),e:q.a(0,0),color:q.i(255,255,255,200),children:{content:{label:"X",fontSize:20,color:q.n(0,0,0),e:q.a(.5,.5),position:q.a(13,13)}}}}}}}}},Ic:function(){return"MapEditor"},U:null,Dx:null,Ax:null,Bx:null,Cx:null,wD:null,vD:null,Ej:null,Rb:0,Vh:null,A:function(a){this._super();this.map=a;this.U=q.a(0,0);this.Ej=[null,496,200]},oa:function(){this._super();this.b.main_panel.tab1.highlightnode.ta(0);this.b.main_panel.tab1.selectednode.ta(0);
this.Dx=new Z(this.b.main_panel.tab2.mapUp_entry,q.size(this.b.main_panel.tab2.mapUp_entry.c().width,this.b.main_panel.tab2.mapUp_entry.c().height),q.a(0,this.b.main_panel.tab2.mapUp_entry.c().height),U.qJ()?U.TC():"",q.i(100,100,100),q.n(255,255,255));this.Dx.hb(!0);this.Dx.Uc(!0);this.Ax=new Z(this.b.main_panel.tab2.mapDown_entry,q.size(this.b.main_panel.tab2.mapDown_entry.c().width,this.b.main_panel.tab2.mapDown_entry.c().height),q.a(0,this.b.main_panel.tab2.mapDown_entry.c().height),U.nJ()?U.QC():
"",q.i(100,100,100),q.n(255,255,255));this.Ax.hb(!0);this.Ax.Uc(!0);this.Bx=new Z(this.b.main_panel.tab2.mapLeft_entry,q.size(this.b.main_panel.tab2.mapLeft_entry.c().width,this.b.main_panel.tab2.mapLeft_entry.c().height),q.a(0,this.b.main_panel.tab2.mapLeft_entry.c().height),U.oJ()?U.RC():"",q.i(100,100,100),q.n(255,255,255));this.Bx.hb(!0);this.Bx.Uc(!0);this.Cx=new Z(this.b.main_panel.tab2.mapRight_entry,q.size(this.b.main_panel.tab2.mapRight_entry.c().width,this.b.main_panel.tab2.mapRight_entry.c().height),
q.a(0,this.b.main_panel.tab2.mapRight_entry.c().height),U.pJ()?U.SC():"",q.i(100,100,100),q.n(255,255,255));this.Cx.hb(!0);this.Cx.Uc(!0);this.wD=new Z(this.b.main_panel.tab2.mapWidth_entry,q.size(this.b.main_panel.tab2.mapWidth_entry.c().width,this.b.main_panel.tab2.mapWidth_entry.c().height),q.a(0,this.b.main_panel.tab2.mapWidth_entry.c().height),U.XI()?U.XI():36,q.i(255,255,255),q.n(0,0,0));this.wD.hb(!0);this.vD=new Z(this.b.main_panel.tab2.mapHeight_entry,q.size(this.b.main_panel.tab2.mapHeight_entry.c().width,
this.b.main_panel.tab2.mapHeight_entry.c().height),q.a(0,this.b.main_panel.tab2.mapHeight_entry.c().height),U.WI()?U.WI():36,q.i(255,255,255),q.n(0,0,0));this.vD.hb(!0);this.gy(!1);this.hy(!1);this.Yd(1);this.zb();U.xL(!0)},Yn:function(a){Scripteditor&&(Scripteditor.za(),this.Xd(function(){Scripteditor.J();Scripteditor=null}),this.Vh=a,this.pc(!0))},za:function(){this._super();U.xL(!1)},Sh:function(a){a=a.S;if(1==this.Rb&&(this.b.main_panel.tab1.highlightnode.ta(0),a=this.b.main_panel.tab1.tiles.Ia(a),
0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.c().width&&a.y<=this.b.main_panel.tab1.tiles.c().height))return a.x=a.x-a.x%L+16,a.y=a.y-a.y%L+16,this.b.main_panel.tab1.highlightnode.ta(127),this.b.main_panel.tab1.highlightnode.l(a),!0},Yd:function(a){if(a!=this.Rb){this.b.main_panel.N(this.Ej[a],this.b.main_panel.c().height);this.b.control_panel.N(this.Ej[a],this.b.control_panel.c().height);if(2==this.Rb||0==this.Rb)this.b.main_panel.tab2.mapUp_entry.Oa(this.b.main_panel.tab2.mapUp_entry.u.I-1E3),
this.b.main_panel.tab2.mapLeft_entry.Oa(this.b.main_panel.tab2.mapLeft_entry.u.I-1E3),this.b.main_panel.tab2.mapDown_entry.Oa(this.b.main_panel.tab2.mapDown_entry.u.I-1E3),this.b.main_panel.tab2.mapRight_entry.Oa(this.b.main_panel.tab2.mapRight_entry.u.I-1E3),this.b.main_panel.tab2.mapWidth_entry.Oa(this.b.main_panel.tab2.mapWidth_entry.u.I-1E3),this.b.main_panel.tab2.mapHeight_entry.Oa(this.b.main_panel.tab2.mapHeight_entry.u.I-1E3);1!=this.Rb||"erasing"!=this.pj&&"tiles"!=this.pj||(this.pj="blocking");
this.Rb=a;this.b.main_panel.tab1.B(!1);this.b.main_panel.tab2.B(!1);this.b.main_panel.tab1Clickable.q(B);this.b.main_panel.tab2Clickable.q(B);this.b.main_panel["tab"+a].B(!0);this.b.main_panel["tab"+a+"Clickable"].q(q.i(255,255,0,255));2==a&&(this.b.main_panel.tab2.mapUp_entry.Oa(this.b.main_panel.tab2.mapUp_entry.u.I+1E3),this.b.main_panel.tab2.mapLeft_entry.Oa(this.b.main_panel.tab2.mapLeft_entry.u.I+1E3),this.b.main_panel.tab2.mapDown_entry.Oa(this.b.main_panel.tab2.mapDown_entry.u.I+1E3),this.b.main_panel.tab2.mapRight_entry.Oa(this.b.main_panel.tab2.mapRight_entry.u.I+
1E3),this.b.main_panel.tab2.mapWidth_entry.Oa(this.b.main_panel.tab2.mapWidth_entry.u.I+1E3),this.b.main_panel.tab2.mapHeight_entry.Oa(this.b.main_panel.tab2.mapHeight_entry.u.I+1E3));this.b.control_panel.exitBtn.Oa(this.Ej[a]-29)}},zb:function(){this.kc(this.zb);this.b.main_panel.tab1.tiles.ia()&&1==this.b.main_panel.tab1.tiles.ia().Pc&&(this.Nc(this.zb),this.b.main_panel.tab1.tiles.ib(q.rect(Math.floor(L*this.U.x),Math.floor(L*this.U.y),320>u[this.ba].texture.c().width?u[this.ba].texture.c().width:
320,320>u[this.ba].texture.c().height?u[this.ba].texture.c().height:320)))},ub:function(a){if(this._super(a))return!0;this.Vd=null;a=a.S;var c=this.b.main_panel.Ia(a);if(E(this.b.main_panel.tab1Clickable,c))return this.Yd(1),!0;if(E(this.b.main_panel.tab2Clickable,c))return this.Yd(2),!0;if(1==this.Rb){if(E(this.b.main_panel.tab1.scriptbtn,c))return this.pj="script"==this.pj?"tiles":"script","script"==this.pj&&(null==Scripteditor||Scripteditor.ca||(Scripteditor=null),Scripteditor&&(Scripteditor.za(),
Scripteditor.J(),Scripteditor=null),Scripteditor=new ScriptingList,Scripteditor.A({k:this,Rg:new ScriptEditor,list:ObjectLists.Le(),name:"Script List"}),Scripteditor.oa(),this.ca.f(Scripteditor),this.pc(!1),this.b.main_panel.tab1.scriptbtn.q(ra)),!0;if(E(this.b.main_panel.tab1.leftbtn,c))return 320<u[this.ba].texture.c().width&&0<this.U.x&&(this.U.x--,this.zb()),!0;if(E(this.b.main_panel.tab1.rightbtn,c))return 320<u[this.ba].texture.c().width&&this.U.x<(u[this.ba].texture.c().width-320)/L&&(this.U.x++,
this.zb()),!0;if(E(this.b.main_panel.tab1.upbtn,c))return 320<u[this.ba].texture.c().height&&0<this.U.y&&(this.U.y--,this.zb()),!0;if(E(this.b.main_panel.tab1.downbtn,c))return 320<u[this.ba].texture.c().height&&this.U.y<(u[this.ba].texture.c().height-320)/L&&(this.U.y++,this.zb()),!0;if(E(this.b.main_panel.tab1.ground1btn,c))return this.Gk("ground1"),!0;if(E(this.b.main_panel.tab1.ground2btn,c))return this.Gk("ground2"),!0;if(E(this.b.main_panel.tab1.ground3btn,c))return this.Gk("ground3"),!0;if(E(this.b.main_panel.tab1.mask1btn,
c))return this.Gk("mask1"),!0;if(E(this.b.main_panel.tab1.mask2btn,c))return this.Gk("mask2"),!0;if(E(this.b.main_panel.tab1.mask3btn,c))return this.Gk("mask3"),!0;if(E(this.b.main_panel.tab1.fringe1btn,c))return this.Gk("fringe1"),!0;if(E(this.b.main_panel.tab1.fringe2btn,c))return this.Gk("fringe2"),!0;if(E(this.b.main_panel.tab1.fringe3btn,c))return this.Gk("fringe3"),!0;if(E(this.b.main_panel.tab1.texturerightbtn,c))return this.co(),!0;if(E(this.b.main_panel.tab1.textureleftbtn,c))return this.eo(),
!0;if(E(this.b.main_panel.tab1.deletebtn,c))return this.pj="erasing"==this.pj?"tiles":"erasing",this.b.main_panel.tab1.deletebtn.q(B),"erasing"==this.pj&&this.b.main_panel.tab1.deletebtn.q(ra),!0;if(E(this.b.main_panel.tab1.fillbtn,c))return 0!=this.b.main_panel.tab1.selectednode.rj()&&(U.XS(u[this.ba].name,q.a((this.b.main_panel.tab1.selectednode.u.I-16)/L+this.U.x,Math.floor(320/L)-1-(this.b.main_panel.tab1.selectednode.u.T-16)/L+this.U.y),this.Yw),U.Ht()),!0;c=this.b.main_panel.tab1.tiles.Ia(a);
if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.c().width&&c.y<=this.b.main_panel.tab1.tiles.c().height){c.x=c.x-c.x%L+16;c.y=c.y-c.y%L+16;this.b.main_panel.tab1.selectednode.ta(0);if(this.b.main_panel.tab1.selectednode.u.I!=c.x||this.b.main_panel.tab1.selectednode.u.T!=c.y)this.b.main_panel.tab1.selectednode.ta(127),this.b.main_panel.tab1.selectednode.l(c);return!0}}if(2==this.Rb){if(E(this.b.main_panel.tab2.clearbtn,c))return this.gy(!0),!0;if(E(this.b.main_panel.tab2.clearbtnNo,c))return this.gy(!1),
!0;if(E(this.b.main_panel.tab2.clearbtnYes,c))return U.of(),this.gy(!1),!0;if(E(this.b.main_panel.tab2.savebtn,c))return this.hy(!0),!0;if(E(this.b.main_panel.tab2.savebtnNo,c))return this.hy(!1),!0;if(E(this.b.main_panel.tab2.savebtnYes,c))return U.sX({up:this.Dx.Y(),down:this.Ax.Y(),left:this.Bx.Y(),right:this.Cx.Y(),width:this.wD.Y(),height:this.vD.Y()}),U.LY(),this.hy(!1),!0}return!1},Gk:function(a){this.b.main_panel.tab1.ground1btn.q(B);this.b.main_panel.tab1.ground2btn.q(B);this.b.main_panel.tab1.ground3btn.q(B);
this.b.main_panel.tab1.mask1btn.q(B);this.b.main_panel.tab1.mask2btn.q(B);this.b.main_panel.tab1.mask3btn.q(B);this.b.main_panel.tab1.fringe1btn.q(B);this.b.main_panel.tab1.fringe2btn.q(B);this.b.main_panel.tab1.fringe3btn.q(B);this.b.main_panel.tab1[a+"btn"].q(qa);this.Yw=a},co:function(){this.ba>=u.length-1&&(this.ba=-1);this.ba++;this.b.main_panel.tab1.tiles.la(u[this.ba].texture);this.Sb=u[this.ba].name;this.b.main_panel.tab1.textureName.text.ma(this.Sb);this.U=q.a(0,0);this.zb()},eo:function(){0>=
this.ba&&(this.ba=u.length);this.ba--;this.b.main_panel.tab1.tiles.la(u[this.ba].texture);this.Sb=u[this.ba].name;this.b.main_panel.tab1.textureName.text.ma(this.Sb);this.U=q.a(0,0);this.zb()},gy:function(a){this.b.main_panel.tab2.clearbtnYes.B(a);this.b.main_panel.tab2.clearbtnNo.B(a);this.b.main_panel.tab2.clear_text.B(a);this.b.main_panel.tab2.clearbtn.B(!a)},hy:function(a){this.b.main_panel.tab2.savebtnYes.B(a);this.b.main_panel.tab2.savebtnNo.B(a);this.b.main_panel.tab2.save_text.B(a);this.b.main_panel.tab2.savebtn.B(!a)},
aM:function(a,c,d){if(a[c]==this.VJ&&"moved"==d)return!1;this.VJ=a[c];switch(this.pj){case "tiles":0!=this.b.main_panel.tab1.selectednode.rj()&&U.Xl(c,u[this.ba].name,q.a((this.b.main_panel.tab1.selectednode.u.I-16)/L+this.U.x,Math.floor(320/L)-1-(this.b.main_panel.tab1.selectednode.u.T-16)/L+this.U.y),this.Yw);break;case "script":U.OT(c)?U.ES(c):U.ZX(c,this.Vh);break;case "erasing":U.CC(c,this.Yw)}}});NPCeditor=null;
NPCEditor=Popup.extend({Sb:w[0].name,ba:0,Yn:function(a,c){Scripteditor&&(Scripteditor.za(),Scripteditor.J(),this.Vh=a,this.pc(!0),this.b.main_panel.scriptbtn.text.ma(c.name),this.b.main_panel.scriptbtn.q(q.i(0,255,0,255)))},rt:function(){this.b.main_panel.scriptbtn.text.ma("None");this.b.main_panel.scriptbtn.q(q.i(255,0,0,255))},tc:function(){return{panels:{position:q.a(300,10),children:{background:{$:"GUI/itemeditor_bg.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(500,330),
children:{namelbl:{label:"Name:",fontSize:20,e:q.a(0,0),position:q.a(4,292),color:q.n(0,0,0)},name_entry:{position:q.a(74,292),size:q.size(266,32),color:q.i(255,255,255,255)},tiles:{e:q.a(0,1),position:q.a(374,232),$:w[0].name},textureleftbtn:{position:q.a(362,292),size:q.size(16,32),$:"GUI/texture_change_left.png",e:q.a(0,0)},texturerightbtn:{position:q.a(471,292),size:q.size(16,32),$:"GUI/texture_change_right.png",e:q.a(0,0)},textureName:{position:q.a(375,292),size:q.size(96,32),$:"GUI/texture_change_middle.png",
e:q.a(0,0),children:{text:{label:u[0].name,fontSize:12,e:q.a(.5,.5),position:q.a(48,16),color:q.n(0,0,0)}}},upbtn:{position:q.a(374,236),size:q.size(96,16),color:q.i(0,0,255,255),e:q.a(0,0),children:{text:{label:"^",fontSize:12,e:q.a(.5,.5),position:q.a(48,8),color:q.n(255,255,255)}}},downbtn:{position:q.a(374,86),size:q.size(96,16),color:q.i(0,0,255,255),e:q.a(0,0),children:{text:{label:"v",fontSize:12,e:q.a(.5,.5),position:q.a(48,8),color:q.n(255,255,255)}}},scriptlbl:{label:"Script:",fontSize:12,
e:q.a(0,0),position:q.a(8,262),color:q.n(0,0,0)},scriptbtn:{position:q.a(8,232),size:q.size(128,26),color:ra,e:q.a(0,0),children:{text:{label:"None",fontSize:12,e:q.a(.5,.5),position:q.a(64,13),color:q.n(0,0,0)}}},okbtn:{position:q.a(434,16),size:q.size(32,32),$:"GUI/tick_icon.png",e:q.a(0,0)},cancelbtn:{position:q.a(384,16),size:q.size(32,32),$:"GUI/cross_icon.png",e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,330),size:q.size(500,32),children:{header:{label:"Item Editor",fontSize:20,e:q.a(0,
.5),position:q.a(8,16)},exitBtn:{position:q.a(476,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},Ic:function(){return"npcEditor"},rb:null,k:null,data:null,A:function(a){this._super();this.data={name:"",sprite:{texture:null,number:null},script:null};this.Sb=w[0].name;this.ba=0;this.k=this.rb=null;this.U=q.a(0,0);this.k=a.k;a&&a.data&&(this.data=a.data,this.data.sprite.number&&(this.U.y=this.data.sprite.number),this.data.script&&(this.Vh=this.data.script))},Aj:function(a){z({savenpcs:a+"",
npcsdata:this.data})},oj:function(a,c){z({savenpcswhole:c})},oa:function(){this._super();for(var a in w)w[a].name==this.data.sprite.texture&&(this.ba=a,this.Sb=w[a].name);this.b.main_panel.textureName.text.ma(this.Sb);this.b.main_panel.tiles.la(w[this.ba].texture);null!=this.data.script&&(this.b.main_panel.scriptbtn.q(q.i(0,255,0,255)),this.b.main_panel.scriptbtn.text.ma(ObjectLists.Le()[this.data.script].name),this.Vh=this.data.script);this.rb=new Z(this.b.main_panel.name_entry,q.size(this.b.main_panel.name_entry.c().width,
this.b.main_panel.name_entry.c().height),q.a(0,this.b.main_panel.name_entry.c().height),this.data.name?this.data.name:"",q.i(100,100,100),q.n(255,255,255));this.rb.hb(!0);this.zb()},za:function(a){this._super();if(this.k){var c=this.k;1!=a&&this.k.Xd(function(){c.Rd(null)})}},zb:function(){this.kc(this.zb);this.b.main_panel.tiles.ia()&&1==this.b.main_panel.tiles.ia().Pc&&(this.Nc(this.zb),this.b.main_panel.tiles.ib(q.rect(Math.floor(96*this.U.x),Math.floor(128*this.U.y),96>w[this.ba].texture.c().width?
w[this.ba].texture.c().width:96,128>w[this.ba].texture.c().height?w[this.ba].texture.c().height:128)))},ub:function(a){if(this._super(a))return!0;this.Vd=null;a=this.b.main_panel.Ia(a.S);if(E(this.b.main_panel.okbtn,a)){if(null==this.rb.Y()||""==this.rb.Y())return!0;this.Ug=!0;this.data.name=this.rb.Y();this.data.sprite.number=this.U.y;this.data.script=this.Vh;this.k.Rd(this.data);return!0}if(E(this.b.main_panel.cancelbtn,a)){this.Ug=!0;var c=this.k;this.k.Xd(function(){c.Rd(null)});return!0}E(this.b.main_panel.scriptbtn,
a)&&(Scripteditor?(Scripteditor.za(),Scripteditor.J(),Scripteditor=null):(Scripteditor=new PopupList,Scripteditor.A({k:this,Rg:new ScriptEditor,list:ObjectLists.Le(),name:"Script List"}),Scripteditor.oa(),this.f(Scripteditor)));return E(this.b.main_panel.upbtn,a)?(320<w[this.ba].texture.c().height&&0<this.U.y&&(this.U.y--,this.zb()),!0):E(this.b.main_panel.downbtn,a)?(320<w[this.ba].texture.c().height&&this.U.y<(w[this.ba].texture.c().height-320)/32&&(this.U.y++,this.zb()),!0):E(this.b.main_panel.texturerightbtn,
a)?(this.co(),!0):E(this.b.main_panel.textureleftbtn,a)?(this.eo(),!0):!1},DE:function(){this.data.stackable=!this.data.stackable;this.b.main_panel.stackbtn.q(ra);this.b.main_panel.stackbtn.text.ma("NOT STACKABLE");1==this.data.stackable&&(this.b.main_panel.stackbtn.q(qa),this.b.main_panel.stackbtn.text.ma("IS STACKABLE"))},co:function(){this.ba>=w.length-1&&(this.ba=-1);this.ba++;this.b.main_panel.tiles.la(w[this.ba].texture);this.Sb=w[this.ba].name;this.b.main_panel.textureName.text.ma(this.Sb);
this.data.sprite.texture=this.Sb;this.U=q.a(0,0);this.zb()},eo:function(){0>=this.ba&&(this.ba=w.length);this.ba--;this.b.main_panel.tiles.la(w[this.ba].texture);this.Sb=w[this.ba].name;this.b.main_panel.textureName.text.ma(this.Sb);this.U=q.a(0,0);this.zb()}});Shopeditor=null;
ShopEditor=Popup.extend({Sb:w[0].name,ba:0,tc:function(){return{panels:{position:q.a(300,10),children:{background:{$:"GUI/itemeditor_bg.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(500,330),children:{namelbl:{label:"Name:",fontSize:20,e:q.a(0,0),position:q.a(4,292),color:q.n(0,0,0)},name_entry:{position:q.a(74,292),size:q.size(266,32),color:q.i(255,255,255,255)},okbtn:{position:q.a(434,16),size:q.size(32,32),$:"GUI/tick_icon.png",e:q.a(0,0)},cancelbtn:{position:q.a(384,16),
size:q.size(32,32),$:"GUI/cross_icon.png",e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,330),size:q.size(500,32),children:{header:{label:"Item Editor",fontSize:20,e:q.a(0,.5),position:q.a(8,16)},exitBtn:{position:q.a(476,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},Ic:function(){return"shopEditor"},rb:null,k:null,data:null,A:function(a){this._super();this.data={name:""};this.Sb=w[0].name;this.ba=0;this.k=this.rb=null;this.k=a.k;a&&a.data&&(this.data=a.data)},Aj:function(a){z({saveshops:a+
"",shopsdata:this.data})},oj:function(a,c){z({saveshopswhole:c})},oa:function(){this._super();this.rb=new Z(this.b.main_panel.name_entry,q.size(this.b.main_panel.name_entry.c().width,this.b.main_panel.name_entry.c().height),q.a(0,this.b.main_panel.name_entry.c().height),this.data.name?this.data.name:"",q.i(100,100,100),q.n(255,255,255));this.rb.hb(!0)},za:function(a){this._super();if(this.k){var c=this.k;1!=a&&this.k.Xd(function(){c.Rd(null)})}},ub:function(a){if(this._super(a))return!0;this.Vd=null;
a=this.b.main_panel.Ia(a.S);if(E(this.b.main_panel.okbtn,a)){if(null==this.rb.Y()||""==this.rb.Y())return!0;this.Ug=!0;this.data.name=this.rb.Y();this.k.Rd(this.data);return!0}if(E(this.b.main_panel.cancelbtn,a)){this.Ug=!0;var c=this.k;this.k.Xd(function(){c.Rd(null)});return!0}return!1},DE:function(){this.data.stackable=!this.data.stackable;this.b.main_panel.stackbtn.q(ra);this.b.main_panel.stackbtn.text.ma("NOT STACKABLE");1==this.data.stackable&&(this.b.main_panel.stackbtn.q(qa),this.b.main_panel.stackbtn.text.ma("IS STACKABLE"))}});Skillseditor=null;
SkillsEditor=Popup.extend({Sb:u[0].name,ba:0,tc:function(){return{panels:{position:q.a(300,10),children:{main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(420,396),color:q.i(0,0,100,120),children:{tab1:{children:{tiles:{e:q.a(0,1),position:q.a(16,320),$:u[0].name},textureleftbtn:{position:q.a(208,340),size:q.size(16,32),color:B,e:q.a(0,0),children:{text:{label:"<<",fontSize:12,e:q.a(.5,.5),position:q.a(8,16),color:q.n(0,0,0)}}},texturerightbtn:{position:q.a(320,340),size:q.size(16,32),color:B,
e:q.a(0,0),children:{text:{label:">>",fontSize:12,e:q.a(.5,.5),position:q.a(8,16),color:q.n(0,0,0)}}},textureName:{position:q.a(224,340),size:q.size(96,32),color:q.i(255,255,255,170),e:q.a(0,0),children:{text:{label:u[0].name,fontSize:12,e:q.a(.5,.5),position:q.a(48,16),color:q.n(0,0,0)}}},leftbtn:{position:q.a(0,64),size:q.size(16,252),color:q.i(0,0,255,255),e:q.a(0,0),children:{text:{label:"<",fontSize:12,e:q.a(.5,.5),position:q.a(8,160),color:q.n(255,255,255)}}},rightbtn:{position:q.a(336,64),
size:q.size(16,252),color:q.i(0,0,255,255),e:q.a(0,0),children:{text:{label:">",fontSize:12,e:q.a(.5,.5),position:q.a(8,160),color:q.n(255,255,255)}}},upbtn:{position:q.a(16,320),size:q.size(320,16),color:q.i(0,0,255,255),e:q.a(0,0),children:{text:{label:"^",fontSize:12,e:q.a(.5,.5),position:q.a(160,8),color:q.n(255,255,255)}}},downbtn:{position:q.a(16,48),size:q.size(320,16),color:q.i(0,0,255,255),e:q.a(0,0),children:{text:{label:"v",fontSize:12,e:q.a(.5,.5),position:q.a(160,8),color:q.n(255,255,
255)}}},highlightnode:{e:q.a(0,0),position:q.a(0,0),size:q.size(32,32),color:q.i(255,100,100,255)},selectednode:{e:q.a(0,0),position:q.a(0,0),size:q.size(32,32),color:q.i(100,255,100,255)}}},tab2:{children:{name_text:{label:"Skill Name",fontSize:10,e:q.a(0,0),position:q.a(8,344)},name_entry:{size:q.size(136,32),position:q.a(4,312)},healthcolor_text:{label:"Healthbar Color",fontSize:10,e:q.a(0,0),position:q.a(8,250)},healthcolor_entry:{size:q.size(136,32),position:q.a(4,210)},tile:{e:q.a(0,1),position:q.a(55,
150),$:u[0].name},healthbtn:{position:q.a(8,265),size:q.size(128,26),color:ra,e:q.a(0,0),children:{text:{label:"NOT HEALTHBAR",fontSize:12,e:q.a(.5,.5),position:q.a(64,13),color:q.n(0,0,0)}}}}},tab1Clickable:{position:q.a(0,376),size:q.size(60,20),color:B,e:q.a(0,0),children:{text:{label:"Icon",fontSize:12,e:q.a(.5,.5),position:q.a(32,10),color:q.n(0,0,0)}}},tab2Clickable:{position:q.a(64,376),size:q.size(60,20),color:B,e:q.a(0,0),children:{text:{label:"Details",fontSize:12,e:q.a(.5,.5),position:q.a(32,
10),color:q.n(0,0,0)}}},okbtn:{position:q.a(76,8),size:q.size(60,32),color:B,e:q.a(0,0),children:{text:{label:"OK",fontSize:12,e:q.a(.5,.5),position:q.a(30,16),color:q.n(0,0,0)}}},cancelbtn:{position:q.a(8,8),size:q.size(60,32),color:B,e:q.a(0,0),children:{text:{label:"Cancel",fontSize:12,e:q.a(.5,.5),position:q.a(30,16),color:q.n(0,0,0)}}}}},control_panel:{e:q.a(0,0),position:q.a(0,396),size:q.size(420,32),color:q.i(255,0,0,200),children:{header:{label:"Skill Editor",fontSize:20,e:q.a(0,.5),position:q.a(8,
16)},exitBtn:{position:q.a(391,3),size:q.size(26,26),e:q.a(0,0),color:q.i(255,255,255,200),children:{content:{label:"X",fontSize:20,color:q.n(0,0,0),e:q.a(.5,.5),position:q.a(13,13)}}}}}}}}},Ic:function(){return"SkillsEditor"},rb:null,cq:null,Ej:null,Rb:0,k:null,data:null,A:function(a){this._super();this.data={sprite:{texture:u[0].name,position:{x:0,y:0}},additionalData:{},healthbar:null,name:""};this.Sb=u[0].name;this.ba=0;this.Ej=this.rb=null;this.Rb=0;this.k=null;this.U=q.a(0,0);this.Ej=[null,
352,142];this.k=a.k;a&&a.data&&(this.data=a.data)},Aj:function(a){z({saveskills:a+"",skillsdata:this.data})},oj:function(a,c){z({saveskillswhole:c})},oa:function(){this._super();this.b.main_panel.tab1.highlightnode.ta(0);this.b.main_panel.tab1.selectednode.ta(127);for(var a in u)u[a].name==this.data.sprite.texture&&(this.ba=a,this.Sb=u[a].name);this.b.main_panel.tab1.textureName.text.ma(this.Sb);this.b.main_panel.tab1.tiles.la(u[this.ba].texture);for(a=this.data.sprite.position.x;10<=a;)a--,this.U.x++;
for(a=this.data.sprite.position.y;8<=a;)a--,this.U.y++;a=q.a(32*(this.data.sprite.position.x-this.U.x),32*(this.data.sprite.position.y-this.U.y));this.b.main_panel.tab1.selectednode.l(this.b.main_panel.tab1.tiles.u.x+a.x,this.b.main_panel.tab1.tiles.u.y-(a.y+32));this.b.main_panel.tab2.tile.la(u[this.ba].texture);this.b.main_panel.tab2.tile.ib(q.rect(Math.floor(32*this.data.sprite.position.x),Math.floor(32*this.data.sprite.position.y),32,32));this.rb=new Z(this.b.main_panel.tab2.name_entry,q.size(this.b.main_panel.tab2.name_entry.c().width,
this.b.main_panel.tab2.name_entry.c().height),q.a(0,this.b.main_panel.tab2.name_entry.c().height),this.data.name?this.data.name:"",q.i(100,100,100),q.n(255,255,255));this.rb.hb(!0);this.cq=new Z(this.b.main_panel.tab2.healthcolor_entry,q.size(this.b.main_panel.tab2.healthcolor_entry.c().width,this.b.main_panel.tab2.healthcolor_entry.c().height),q.a(0,this.b.main_panel.tab2.healthcolor_entry.c().height),this.data.healthbar?this.data.healthbar:"",q.i(100,100,100),q.n(255,255,255));this.cq.hb(!0);this.b.main_panel.tab2.healthbtn.q(ra);
this.b.main_panel.tab2.healthbtn.text.ma("NOT HEALTHBAR");null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.q(qa),this.b.main_panel.tab2.healthbtn.text.ma("IS HEALTHBAR"));this.Yd(1);this.zb()},Pba:function(){},za:function(a){this._super();if(this.k){var c=this.k;1!=a&&this.k.Xd(function(){c.Rd(null)})}},Sh:function(a){a=a.S;if(1==this.Rb&&(this.b.main_panel.tab1.highlightnode.ta(0),a=this.b.main_panel.tab1.tiles.Ia(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.c().width&&
a.y<=this.b.main_panel.tab1.tiles.c().height))return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+64,this.b.main_panel.tab1.highlightnode.ta(127),this.b.main_panel.tab1.highlightnode.l(a),!0},Yd:function(a){a!=this.Rb&&(this.b.main_panel.N(this.Ej[a],this.b.main_panel.c().height),this.b.control_panel.N(this.Ej[a],this.b.control_panel.c().height),this.b.main_panel.tab2.name_entry.Oa(this.b.main_panel.tab2.name_entry.u.I-1E3),this.b.main_panel.tab2.healthcolor_entry.Oa(this.b.main_panel.tab2.healthcolor_entry.u.I-
1E3),this.b.main_panel.tab2.healthcolor_text.B(!1),this.Rb=a,this.b.main_panel.tab1.B(!1),this.b.main_panel.tab2.B(!1),this.b.main_panel.tab1Clickable.q(B),this.b.main_panel.tab2Clickable.q(B),this.b.main_panel["tab"+a].B(!0),this.b.main_panel["tab"+a+"Clickable"].q(q.i(255,255,0,255)),this.b.control_panel.exitBtn.Oa(this.Ej[a]-29));2==a&&(this.b.main_panel.tab2.name_entry.Oa(4),null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthcolor_entry.Oa(4),this.b.main_panel.tab2.healthcolor_text.B(!0)))},
zb:function(){this.kc(this.zb);this.b.main_panel.tab1.tiles.ia()&&1==this.b.main_panel.tab1.tiles.ia().Pc&&(this.Nc(this.zb),this.b.main_panel.tab1.tiles.ib(q.rect(Math.floor(32*this.U.x),Math.floor(32*this.U.y),320>u[this.ba].texture.c().width?u[this.ba].texture.c().width:320,256>u[this.ba].texture.c().height?u[this.ba].texture.c().height:256)))},ub:function(a){if(this._super(a))return!0;this.Vd=null;a=a.S;var c=this.b.main_panel.Ia(a);if(E(this.b.main_panel.tab1Clickable,c))return this.Yd(1),!0;
if(E(this.b.main_panel.tab2Clickable,c))return this.Yd(2),!0;if(E(this.b.main_panel.okbtn,c)){if(null==this.rb.Y()||""==this.rb.Y())return!0;this.Ug=!0;this.data.name=this.rb.Y();if(null!=this.cq.Y()||""!=this.cq.Y())this.data.healthbar=this.cq.Y();this.k.Rd(this.data);return!0}if(E(this.b.main_panel.cancelbtn,c)){this.Ug=!0;var d=this.k;this.k.Xd(function(){d.Rd(null)});return!0}if(1==this.Rb){if(E(this.b.main_panel.tab1.leftbtn,c))return 264<u[this.ba].texture.c().width&&0<this.U.x&&(this.U.x--,
this.zb()),!0;if(E(this.b.main_panel.tab1.rightbtn,c))return 320<u[this.ba].texture.c().width&&this.U.x<(u[this.ba].texture.c().width-320)/32&&(this.U.x++,this.zb()),!0;if(E(this.b.main_panel.tab1.upbtn,c))return 320<u[this.ba].texture.c().height&&0<this.U.y&&(this.U.y--,this.zb()),!0;if(E(this.b.main_panel.tab1.downbtn,c))return 320<u[this.ba].texture.c().height&&this.U.y<(u[this.ba].texture.c().height-320)/32&&(this.U.y++,this.zb()),!0;if(E(this.b.main_panel.tab1.texturerightbtn,c))return this.co(),
!0;if(E(this.b.main_panel.tab1.textureleftbtn,c))return this.eo(),!0;c=this.b.main_panel.tab1.tiles.Ia(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.c().width&&c.y<=this.b.main_panel.tab1.tiles.c().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+64;this.b.main_panel.tab1.selectednode.ta(0);if(this.b.main_panel.tab1.selectednode.u.I!=c.x||this.b.main_panel.tab1.selectednode.u.T!=c.y)this.b.main_panel.tab1.selectednode.ta(127),this.b.main_panel.tab1.selectednode.l(c);a=q.a((this.b.main_panel.tab1.selectednode.u.I-
16)/32+this.U.x,8-(this.b.main_panel.tab1.selectednode.u.T-64)/32+this.U.y-1);this.b.main_panel.tab2.tile.ib(q.rect(32*a.x,32*a.y,32,32));this.data.sprite.position=a;console.log("TOUCHED");return!0}}return 2==this.Rb&&E(this.b.main_panel.tab2.healthbtn,c)?(this.zY(),!0):!1},zY:function(){this.b.main_panel.tab2.healthcolor_entry.Oa(this.b.main_panel.tab2.healthcolor_entry.u.I-1E3);this.b.main_panel.tab2.healthcolor_text.B(!1);null!=this.data.healthbar&&""!=this.data.healthbar?(this.data.healthbar=
"",this.cq.me("")):(this.data.healthbar="FF0000",this.b.main_panel.tab2.healthcolor_entry.Oa(4),this.b.main_panel.tab2.healthcolor_text.B(!0));this.b.main_panel.tab2.healthbtn.q(ra);this.b.main_panel.tab2.healthbtn.text.ma("NOT HEALTHBAR");null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.q(qa),this.b.main_panel.tab2.healthbtn.text.ma("IS HEALTHBAR"))},co:function(){this.ba>=u.length-1&&(this.ba=-1);this.ba++;this.b.main_panel.tab1.tiles.la(u[this.ba].texture);
this.b.main_panel.tab2.tile.la(u[this.ba].texture);this.Sb=u[this.ba].name;this.b.main_panel.tab1.textureName.text.ma(this.Sb);this.data.sprite.texture=this.Sb;this.U=q.a(0,0);this.zb()},eo:function(){0>=this.ba&&(this.ba=u.length);this.ba--;this.b.main_panel.tab1.tiles.la(u[this.ba].texture);this.b.main_panel.tab2.tile.la(u[this.ba].texture);this.Sb=u[this.ba].name;this.b.main_panel.tab1.textureName.text.ma(this.Sb);this.U=q.a(0,0);this.zb()}});PopupList=Popup.extend({$b:null,gb:[],Dn:null,Rf:!1,Bj:-1,G8:0,qI:null,F:null,Hs:!0,Gs:!0,pC:!0,$s:!1,za:function(){this._super();this.k&&(this.k.pc(!0),!this.$s&&this.k.rt&&this.k.rt(null,null))},A:function(a,c){this._super();this.$b=null;this.gb=[];this.pC=this.Hs=this.Gs=!0;if(c){if(0==c.ex||1==c.ex)this.Hs=c.ex;if(0==c.$w||1==c.$w)this.Gs=c.$w;if(0==c.add||1==c.add)this.pC=c.add}this.Dn=null;this.Rf=!1;this.Bj=-1;this.$b=a.Rg;a.list&&(this.gb=a.list);this.Dn=a.name;this.k=a.k},oa:function(){this._super();
this.nb()},F:null,nb:function(){this.F&&this.F.Q.J();var a=[],c=[],d=q.fa.g();this.qI={};for(var e in this.gb)if(a[e]=q.Node.create(),this.gb[e].name)if(a[e].N(324,32),null==this.gb[e])this.gb.splice(e,1);else{if(null!=this.k){var f=q.v.Ja(d.ka("GUI/use.png"));f.l(q.a(244,6));f.w(q.a(0,0))}var g=q.X.create(q.i(0,0,0,127),316,1);g.l(q.a(4,0));var h=q.R.create(this.gb[e].name,"Arial",20);h.w(q.a(0,.5));h.l(q.a(0,16));if(this.Hs){var k=q.v.Ja(d.ka("GUI/edit.png"));k.l(q.a(272,6));k.w(q.a(0,0))}if(this.Gs){var l=
q.v.Ja(d.ka("GUI/trash.png"));l.l(q.a(300,6));l.w(q.a(0,0))}var m=[];this.Hs&&(k.Na="Edit",m.push(k));this.Gs&&(l.Na="Delete",m.push(l));null!=this.k&&(f.Na="Use",m.push(f));c.push(m);a[e].f(g);a[e].f(h);this.Hs&&a[e].f(k);this.Gs&&a[e].f(l);null!=this.k&&a[e].f(f)}else a[e].N(q.size(0,0)),c.push([]);this.pC&&(d=q.X.create(q.i(70,200,70,255),90,26),e=q.R.create("+","Arial",20),e.l(45,13),e.w(q.a(.5,.5)),d.l(q.a(120,0)),d.Na="Add",d.f(e),c.push([d]),a.push(d));this.F=this.b.main_panel.list;var p=this;
this.F.ac=function(){return q.size(324,32*a.length)};this.F.Ub=function(){return a.length};this.F.jc=function(c){return a[c].c()};this.F.ic=function(c){return a[c]};this.F.lb=function(a,c,d){p.Ia(d.S);if(1!=p.Rf)switch(a){case "Delete":p.ca.f(DropDownList.Rc(p,p.Os,["Cancel","Delete"],d.S));p.eb=c;break;case "Edit":p.$b.ca&&p.$b.J();p.Rf=!0;p.$b.A({k:p,data:p.gb[c]});p.ca.f(p.$b);p.pc(!1);p.$b.oa();p.Bj=c+"";break;case "Add":p.Kp=!0;p.Rf=!0;p.Bj=p.gb.length;p.$b.A({k:p,data:null});p.pc(!1);p.ca.f(p.$b);
p.$b.oa();break;case "Use":p.k.Yn(c,p.gb[c]),p.$s=!0}};this.F.Q=ListView.create(this.F);this.F.Q.lc(c);this.F.f(this.F.Q)},tc:function(){return{panels:{position:q.a(300,200),children:{background_image:{$:"GUI/list_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(365,328),children:{list:{size:q.size(324,328),position:q.a(0,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:this.Dn,fontSize:20,e:q.a(0,.5),position:q.a(8,16)},exitBtn:{position:q.a(337,
6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},eb:null,Os:function(a){switch(a){case 1:null!=this.k.eb&&(this.k.zC(this.k.eb),this.k.eb=null)}},Rd:function(a){a&&(this.$b.Aj(this.Bj),this.Kp&&(this.gb.push(a),this.nb()));this.pc(!0);this.Rf=this.Kp=!1;var c=this;this.Xd(function(){c.$b.za(!0);c.$b.J()})},zC:function(a){this.gb[a]={};this.$b.oj(a,this.gb);this.nb()}});ScriptingList=Popup.extend({$b:null,gb:[],Dn:null,Rf:!1,Bj:-1,gaa:null,fh:null,$s:!1,Un:null,za:function(){this._super();this.k&&(this.k.pc(!0),!this.$s&&this.k.rt&&this.k.rt(null,null))},A:function(a){this._super();this.$b=null;this.gb=[];this.Dn=null;this.Rf=!1;this.Bj=-1;this.$b=a.Rg;a.list&&(this.gb=a.list);this.Dn=a.name;this.k=a.k},oa:function(){this._super();this.Lx()},Lx:function(){this.Jh&&this.Jh.Q.J();var a=[],c=[],d=q.fa.g(),e=["Default Scripts","NPC Scripts","Item Scripts","Tile Scripts"],
f;for(f in e){a[f]=q.Node.create();a[f].N(220,32);var g=q.X.create(q.i(0,0,0,127),220,1);g.l(q.a(0,0));var h=q.R.create(e[f],"Arial",20);h.w(q.a(0,0));h.l(q.a(4,4));h.Va(q.size(192,0));a[f].N(220,h.c().height+8);if(null!=this.Un&&this.Un==f){a[f]=q.X.create(q.i(100,0,0,255),220,h.c().height+8);var k=q.v.Ja(d.ka("GUI/selected.png"));k.l(q.a(196,(h.c().height+8-20)/2));k.w(q.a(0,0));a[f].f(k);h.q(q.n(255,255,255))}a[f].Na="Use";c.push([a[f]]);a[f].f(g);a[f].f(h)}this.Jh=this.b.main_panel.mainlist;var l=
this;this.Jh.ac=function(){return q.size(324,32*a.length)};this.Jh.Ub=function(){return a.length};this.Jh.jc=function(c){return a[c].c()};this.Jh.ic=function(c){return a[c]};this.Jh.lb=function(a,c,d){l.Ia(d.S);if(1!=l.Rf)switch(a){case "Use":l.Un=c,l.HD(c),l.Lx()}};this.Jh.Q=ListView.create(this.Jh);this.Jh.Q.lc(c);this.Jh.f(this.Jh.Q)},HD:function(a){var c="";switch(a){case 0:c="Default";break;case 1:c="NPC";break;case 2:c="Item";break;case 3:c="Tile"}this.fh&&this.fh.Q.J();var d=[];a=[];for(var e=
q.fa.g(),f=0;f<this.gb.length;f++)if(d[f]=q.Node.create(),this.gb[f]!={}&&this.gb[f].specifier==c){d[f].N(286,32);var g=q.X.create(q.i(0,0,0,127),286,1);g.l(q.a(0,0));var h=q.R.create(this.gb[f].name,"Arial",20);h.w(q.a(0,0));h.l(q.a(2,4));h.Va(q.size(208,0));d[f].N(286,h.c().height+8);if(null!=this.k&&!this.gb[f].isTemplate){var k=q.v.Ja(e.ka("GUI/use.png"));k.l(q.a(212,(d[f].c().height-20)/2));k.w(q.a(0,0))}var l=[];if("Default"!=c){var m=q.v.Ja(e.ka("GUI/edit.png"));m.l(q.a(236,(d[f].c().height-
20)/2));m.w(q.a(0,0));var p=q.v.Ja(e.ka("GUI/trash.png"));p.l(q.a(260,(d[f].c().height-20)/2));p.w(q.a(0,0));l.push(m);p.Na="Delete";m.Na="Edit";l.push(p);d[f].f(m);d[f].f(p)}null==this.k||this.gb[f].isTemplate||(k.Na="Use",l.push(k));m=q.v.Ja(e.ka("GUI/copy.png"));m.l(q.a(188,(d[f].c().height-20)/2));m.w(q.a(0,0));m.Na="Copy";l.push(m);d[f].f(m);a.push(l);d[f].f(g);d[f].f(h);null!=this.k&&d[f].f(k)}else d[f].N(q.size(0,0)),a.push([]);"Default"!=c&&(k=q.X.create(q.i(70,200,70,255),90,26),e=q.R.create("+",
"Arial",20),e.l(45,13),e.w(q.a(.5,.5)),k.l(q.a(100,0)),k.Na="Add",k.f(e),a.push([k]),d.push(k));this.fh=this.b.main_panel.sublist;var t=this;this.fh.ac=function(){return q.size(324,32*d.length)};this.fh.Ub=function(){return d.length};this.fh.jc=function(a){return d[a].c()};this.fh.ic=function(a){return d[a]};this.fh.lb=function(a,d,e){t.Ia(e.S);if(1!=t.Rf)switch(a){case "Delete":t.ca.f(DropDownList.Rc(t,t.Os,["Cancel","Delete"],e.S));t.eb=d;break;case "Edit":t.$b.ca&&t.$b.J();t.Rf=!0;t.$b.A({k:t,
data:t.gb[d]});t.ca.f(t.$b);t.pc(!1);t.$b.oa();t.Bj=d+"";break;case "Add":t.Kp=!0;t.Rf=!0;t.Bj=t.gb.length+"";t.$b.A({k:t,data:null,YD:c});t.pc(!1);t.ca.f(t.$b);t.$b.oa();break;case "Use":t.k.Yn(d,t.gb[d]);t.$s=!0;break;case "Copy":t.kS(d)}};this.fh.Q=ListView.create(this.fh);this.fh.Q.lc(a);this.fh.f(this.fh.Q)},tc:function(){return{panels:{position:q.a(20,20),children:{background_image:{$:"GUI/scripting_list.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(584,408),children:{mainlist:{size:q.size(220,
408),position:q.a(0,0),e:q.a(0,0)},sublist:{size:q.size(280,408),position:q.a(261,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,408),size:q.size(584,32),children:{header:{label:this.Dn,fontSize:20,e:q.a(0,.5),position:q.a(8,16)},exitBtn:{position:q.a(560,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},eb:null,Os:function(a){switch(a){case 1:null!=this.k.eb&&(this.k.zC(this.k.eb),this.k.eb=null)}},Rd:function(a){a&&(this.$b.Aj(this.Bj),this.Kp&&(this.gb.push(a),this.Lx(),this.Un&&
this.HD(this.Un)));this.pc(!0);this.Rf=this.Kp=!1;var c=this;this.Xd(function(){c.$b.za(!0);c.$b.J()})},zC:function(a){this.gb[a]={};this.$b.oj(a,this.gb);this.Lx();this.Un&&this.HD(this.Un)},kS:function(a){console.log("DUPLICATING");this.Rf=this.Kp=!0;this.Bj=this.gb.length+"";a=H(this.gb[a]);a.implementsAs&&(a.specifier=a.implementsAs,a.implementsAs=null);a.isTemplate&&(a.isTemplate=null);this.$b.A({k:this,data:a,YD:a.specifier});this.pc(!1);this.ca.f(this.$b);this.$b.oa()}});var I=Ha.extend({ctor:function(){this._super()},rM:function(){this._super()},oa:function(){this._super()},za:function(){this._super()},ub:function(a){q.vb(this.b.health_panel.pb(),a.S)&&C.g().Cl("Game")}});NewsPanel=null;
News=Popup.extend({data:null,F:null,eb:null,Ic:function(){return"Credits"},za:function(){this._super()},A:function(){this._super();this.data={"24th December 2014: (v0.798)":["Finished game store setup for store 0"],"22nd December 2014: (v0.797)":["Updated shop testbed. Inventory now loaded as selectable list (like shop items). Removed seperate tab lists to reduce amount of unused nodes. Added some test data into price and offer lists.","Consolidated configuration files into single file.","Made socket.io load from the actual application and not from the template pages.",
"Fixed some issed with graphics loading in minified builds"],"21st December 2014: (v0.796)":["Updated shop testbed. Game now loads store sale items."],"19th December 2014: (v0.796)":["Added initial storefront layout for in-game shops."],"18th December 2014: (v0.793)":["Added item editor text field for descriptions."],"18th December 2014: (v0.792)":["Added buying price section of item value setup. Fixed some basic issues with the system"],"18th December 2014: (v0.79)":["Added initial setup value tab into item editor to add trade values to defined items. You simply add a shop in list and then the price to buy it.",
"The above system will eventually include a sale price area as well."],"17th December 2014: (v0.78)":["Added /wherami and /warpmeto user commands."],"17th December 2014: (v0.78)":["Added banking panel and implemented banking storage into player profile data.","Added map width and height specifiers to map editor for custom map sizes.","Added shop editor for custom shop type generation.","Compressed script logic into single straightforward functions with a type specifier.","Fixed a couple of bugs"],
"14th December 2014: (v0.75)":["Fixed multiplayer login movement crash."],"24th November 2014: (v0.75)":["Re-introduced dependancies so that I can added orientation change logic to the project. Clicking and dragging a client window now correctly resizes the game."],"16th November 2014: (v0.75)":["Cleaned up project dependancies, removed dependancy on socket.io and cocos-utils changes."],"11th November 2014: (v0.74)":["Added quest log (hotkey Q).","Implemented quest response logic. Added 2 additional 'quest unstarted' and 'quest finished' parameters"],
"10th November 2014: (v0.735)":["Added user extradata content for subscripting. Allows for developers to code in specific scripting logic if needed.","Extradata updates with user login data and is purposefully not localstorage based."],"9th November 2014: (v0.733)":["Added talking and talk with option callback to the npc scripts contexts."],"8th November 2014: (v0.731)":["Fixed NPC editor.","Added talk graphic and basic logic for npc interaction","Abstracted Item script logic to a utils function...wiped a lot of duplicate code."],
"25th October 2014: (v0.729)":["Added scripting response logic for giving/taking items.","Added scripting requirements logic for if a panel is visible and inventory has a certain amount of slots."],"25th October 2014: (v0.727)":["Fixed a bunch of persistant bugs. Game is now much much more stable than it was.","Added scripts for on pickup and on drop. Added some additional response logic for warping the player. Added requirement logic for check if player has items and if player stats are within certain ranges."],
"24th October 2014: (v0.724)":["Added functionality to more scripts. Items can now use the destroy and open/close panel scripts.","Fixed equip script to use the equip position defined within the scripting system instead of previously defined sub-item types from previous versions."],"23rd October 2014: (v0.722)":["Added functionality to some item scripts. Game now modifies inventory drop down behaviour based on responses type (read/equip).","Items can now influence player stats on equip, dequip, swapped and on read."],
"30th September 2014: (v0.72)":["Added user saving and loading for player position, items and equipment. Picked up and equipped items are now stored and saved regardless of session.","Edited the skills panel to utilise the list view logic. Skills menu now shows level and experience progression and uses data from the user account","Added health manipulation functionality utilising new skill logic as noted in the previous point."],"27th September 2014: (v0.72)":["Added registration and logging in system. Users can now have automatic login setup for their accounts and player data is starting to be saved from an actual account.",
"Server now has a new folder where user data is stored.","Added the beginnings of a user ranking system, game editors can now only be accessed if the player rank is above 1. Rank 1 is now the default registration rank."],"25th August 2014: (v0.718)":["Added 90% of subeditors needed for the scripting system. Go into the script editor and press the pencil icon on the responses and requirements to edit their core data.","Updated script panel texture to utilize inpanel submenu editors.","Abstracted out the script editor so that its not dependant on certain types.",
"Added/removed requirements responses based on logical conclusions on what is actually needed. Consume as an item response, for example, is unecessary because it would work identically to destroy."],"17th August 2014: (v0.714)":["Added basic template logic of new scripting editor system. Scripts can be saved and loaded like other list systems. This editor currently does not allow you to apply scripts to anything (it is simply the GUI interface template logic that's in there). The item editor has been changed to utilize the new saved scripts list.",
"Fixed localstorage issue caused by settings implementation. Game now does not now load until the game is fully in sync. The issue was causing an error on some game-loads because the localstorage was not yet available (requiring a refresh)."],"11th August 2014: (v0.708)":["Added settings menu for various game controls. Settings menu only currently controls a load of in game string settings. Also added the additional required admin panel graphic for settings access. The new chatbox command is /editsettings.",
"Added scrolling credits button to login page and populated it.","Added this scrolling news feed to login page and obviously populated it as well."],"11th August 2014 (v0.7)":["Added some additional custom gui for some of the editors.","Fixed a lot of bugs (and I mean a lot).","Added 0.7 download to site."],"10th August 2014 (v0.695)":["Added quest objective editor. New button now made usable in menu.","Objective editor utilizes abstract scrolling list from 0.69."]}},Aj:function(a){z({savequests:a+
"",questdata:this.data})},oj:function(a,c){z({savequestswhole:c})},oa:function(){this._super();this.nb()},nb:function(){this.F&&this.F.bc();var a=[],c=[];q.fa.g();var d=0,e;for(e in this.data){a[d]=q.Node.create();a[d].N(324,32);var f=q.R.create(e,"Arial",18);f.w(q.a(0,0));f.l(q.a(4,0));f.Va(q.size(246,0));f.q(q.n(100,0,0));a[d].f(f);a[d].N(324,f.c().height+4);f=[];c.push(f);d++;for(var g in this.data[e]){a[d]=q.Node.create();a[d].N(324,32);var h=q.X.create(q.i(0,0,0,127),316,1);h.l(q.a(4,0));var k=
q.R.create(this.data[e][g],"Arial",15);k.q(q.n(0,0,0));k.w(q.a(0,0));k.l(q.a(4,4));k.Va(q.size(246,0));f=[];c.push(f);a[d].f(h);a[d].f(k);a[d].N(324,k.c().height+8);d++}}this.F=this.b.main_panel.list;this.F.ac=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(324,c)};this.F.Ub=function(){return a.length};this.F.jc=function(c){return a[c].c()};this.F.ic=function(c){return a[c]};this.F.lb=function(){};this.F.Q=ListView.create(this.F);this.F.Q.lc(c);this.F.f(this.F.Q)},tc:function(){return{panels:{position:q.a(300,
200),children:{background_image:{$:"GUI/list_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(365,328),children:{list:{size:q.size(324,328),color:q.i(0,200,200,200),position:q.a(0,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"News",fontSize:20,e:q.a(0,.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},ub:function(a){if(this._super(a))return!0;this.Vd=null;a=this.b.main_panel.Ia(a.S);
return E(this.b.main_panel,a)?!0:!1}});CreditsPanel=null;
Credits=Popup.extend({data:null,F:null,eb:null,Ic:function(){return"Credits"},za:function(){this._super()},A:function(){this._super();this.data={"Project Leader":"Spork","Localisation Contributors":"Vus, sn0w Beast",Programmers:"Spork, Pandacoder","Community Management & Support":"Chief, Seb, Mad Hatter","Special thanks":"All of you, who's positive response keep us motivated to deliver the best software we can make.","Powder Engine is Copywritten":"Contact the developera in-site regarding questions."}},Aj:function(a){z({savequests:a+
"",questdata:this.data})},oj:function(a,c){z({savequestswhole:c})},oa:function(){this._super();this.nb()},nb:function(){this.F&&this.F.bc();var a=[],c=[];q.fa.g();var d=0,e;for(e in this.data){if("ISSECTION"!=this.data[e]){a[d]=q.Node.create();a[d].N(324,32);var f=q.R.create(e,"Arial",18);f.w(q.a(0,0));f.l(q.a(4,0));f.Va(q.size(246,0));f.q(q.n(100,0,0));a[d].f(f);a[d].N(324,f.c().height+4);f=[];c.push(f);d++}a[d]=q.Node.create();a[d].N(324,32);var g=q.X.create(q.i(0,0,0,127),316,1);g.l(q.a(4,0));
if("ISSECTION"==this.data[e]){var h=q.R.create(e,"Arial",22);h.q(q.n(255,0,0))}else h=q.R.create(this.data[e],"Arial",15),h.q(q.n(0,0,0));h.w(q.a(0,0));h.l(q.a(4,4));h.Va(q.size(246,0));f=[];c.push(f);a[d].f(g);a[d].f(h);"ISSECTION"==this.data[e]?a[d].N(324,h.c().height+12):a[d].N(324,h.c().height+8);d++}this.F=this.b.main_panel.list;this.F.ac=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(324,c)};this.F.Ub=function(){return a.length};this.F.jc=function(c){return a[c].c()};
this.F.ic=function(c){return a[c]};this.F.lb=function(){};this.F.Q=ListView.create(this.F);this.F.Q.lc(c);this.F.f(this.F.Q)},tc:function(){return{panels:{position:q.a(300,200),children:{background_image:{$:"GUI/list_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(365,328),children:{list:{size:q.size(324,328),color:q.i(0,200,200,200),position:q.a(0,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Credits",fontSize:20,e:q.a(0,.5),
position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},ub:function(a){if(this._super(a))return!0;this.Vd=null;a=this.b.main_panel.Ia(a.S);return E(this.b.main_panel,a)?!0:!1}});Login=Ha.extend({lt:!1,hm:!1,AD:function(){var a=this.tc();Aa(a,"panels",this.b)},A:function(a){D=Ea(D,V.VC());this._super();C.Vn(this);this.gq=this.sD=!1;this.Bk=new Z(this.b.name_entry,q.size(this.b.name_entry.c().width,this.b.name_entry.c().height),q.a(0,this.b.name_entry.c().height),"Username",q.i(100,100,100),q.n(255,255,255));this.Ol=new Z(this.b.password_entry,q.size(this.b.password_entry.c().width,this.b.password_entry.c().height),q.a(0,this.b.password_entry.c().height),"Password",q.i(100,
100,100),q.n(255,255,255));this.Ol.mq(0);this.OD=new Z(this.b.new_user_name,q.size(this.b.new_user_name.c().width,this.b.new_user_name.c().height),q.a(0,this.b.new_user_name.c().height),"Username",q.i(100,100,100),q.n(255,255,255));this.Px=new Z(this.b.new_user_pass,q.size(this.b.new_user_pass.c().width,this.b.new_user_pass.c().height),q.a(0,this.b.new_user_pass.c().height),"Password",q.i(100,100,100),q.n(255,255,255));this.Px.mq(0);this.ND=new Z(this.b.new_user_email,q.size(this.b.new_user_email.c().width,
this.b.new_user_email.c().height),q.a(0,this.b.new_user_email.c().height),"Email Address",q.i(100,100,100),q.n(255,255,255));this.bI=!1;a&&(a.$J?(A=[],z({logout:!0})):this.bI=!0,this.Xn(a.aE));this.kc(this.yC);this.aI=!1;this.kc(this.zE);this.fD();this.b.rem_login_text.Va(q.size(80,0));this.b.auto_login_text.Va(q.size(80,0));this.b.server_message.Va(q.size(300,0));this.b.server_message2.Va(q.size(150,0))},Ml:function(a){switch(a){case "ENTER":if(this.sD){a=this.OD.Y();var c=this.Px.Y(),d=this.ND.Y();
""!=a&&null!=a&&""!=c&&null!=c&&""!=d&&null!=d?0==/\S+@\S+\.\S+/.test(d)?this.rg(D["Incorrect Email Format"]):(this.gq=!0,this.rg(D["Registering Message"]),this.AK({name:a,password:c,email:d})):this.rg(D["Register Empty Fields"])}else 0==this.hm&&this.lt?(a=this.Bk.Y(),c=this.Ol.Y(),""!=a&&null!=a&&""!=c&&null!=c?(this.hm=!0,this.rg(D["Logging In Message"]),z({login:!0,username:this.Bk.Y(),password:this.Ol.Y()})):this.rg(D["User Pass Empty"])):this.Gx(D["Server Offline Message"])}},Xn:function(a){this.lt=
a;1==a?(this.b.server_activity.ma(D["Online Server"]),this.b.server_activity.q(q.n(0,255,0))):(this.b.server_activity.ma(D["Offline Server"]),this.b.server_activity.q(q.n(255,0,0)))},yC:function(){var a=V.KT();a&&0==this.aI&&(this.Bk.me(a.user),this.aI=!0,this.Ol.me(a.pass));1==this.bI&&autoLoginNextTime&&0==this.hm&&this.lt&&(0==this.hm&&this.lt?(this.hm=!0,this.rg("Logging In"),z({login:!0,username:this.Bk.Y(),password:this.Ol.Y()})):this.Gx(D["Offline Server Message"]))},zE:function(){if(0<A.length)for(var a=
A.length-1;0<=a;a--)reactToSocketMessage(A[a]),A.splice(a,1);autoLoginNextTime?(V.QK(!0),this.b.auto_login.la(q.fa.g().ka("GUI/checkbox_checked.png"))):(V.QK(!1),this.b.auto_login.la(q.fa.g().ka("GUI/checkbox_uncheck.png")));rememberLoginNextTime?this.b.remember_login.la(q.fa.g().ka("GUI/checkbox_checked.png")):this.b.remember_login.la(q.fa.g().ka("GUI/checkbox_uncheck.png"))},tc:function(){return{panels:{children:{background:{$:"GUI/splash.png",size:q.size(960,640),e:q.a(0,0),position:q.a(0,0)},
name_entry:{size:q.size(300,30),position:q.a(325,325)},password_entry:{size:q.size(300,30),position:q.a(325,290)},new_user_name:{size:q.size(300,30),position:q.a(325,360)},new_user_pass:{size:q.size(300,30),position:q.a(325,325)},new_user_email:{size:q.size(300,30),position:q.a(325,290)},remember_login:{size:q.size(20,20),position:q.a(630,295),$:"GUI/checkbox_uncheck.png",e:q.a(0,0)},rem_login_text:{label:D["Save Login Cred"],fontSize:16,color:q.n(255,255,255),e:q.a(0,1),position:q.a(665,315)},auto_login:{size:q.size(20,
20),position:q.a(630,330),$:"GUI/checkbox_uncheck.png",e:q.a(0,0)},auto_login_text:{label:D["Auto Login Next"],fontSize:16,color:q.n(255,255,255),e:q.a(0,0),position:q.a(665,330)},go_button:{position:q.a(325,240),size:q.size(120,40),color:q.i(0,0,0,255),children:{label:{label:D["Play Button Text"],fontSize:20,color:q.n(255,255,255),e:q.a(.5,.5),position:q.a(60,20)}}},register_button:{position:q.a(505,240),size:q.size(120,40),color:q.i(0,0,0,255),children:{label:{label:D["Register Button Text"],fontSize:20,
color:q.n(255,255,255),e:q.a(.5,.5),position:q.a(60,20)}}},new_user_back:{position:q.a(325,240),size:q.size(120,40),color:q.i(0,0,0,255),children:{label:{label:D["Back From Reg Button Text"],fontSize:20,color:q.n(255,255,255),e:q.a(.5,.5),position:q.a(60,20)}}},new_user_confirm:{position:q.a(505,240),size:q.size(120,40),color:q.i(0,0,0,255),children:{label:{label:D["Reg Confirm Button Text"],fontSize:20,color:q.n(255,255,255),e:q.a(.5,.5),position:q.a(60,20)}}},sysMessage:{label:D["System Message"],
position:q.a(4,4),color:q.n(255,255,255),e:q.a(0,0)},credits_button:{position:q.a(30,400),size:q.size(120,40),color:q.i(0,0,0,255),children:{label:{label:D["Credit Button Text"],fontSize:20,color:q.n(255,255,255),e:q.a(.5,.5),position:q.a(60,20)}}},news_button:{position:q.a(30,340),size:q.size(120,40),color:q.i(0,0,0,255),e:q.a(0,1),children:{label:{label:D["News Button Text"],fontSize:20,color:q.n(255,255,255),e:q.a(.5,.5),position:q.a(60,20)}}},server_message:{label:"",fontSize:16,color:q.n(255,
255,255),e:q.a(0,1),position:q.a(325,220)},server_message2:{label:D["Login Message"],fontSize:16,color:q.n(255,255,255),e:q.a(0,1),position:q.a(175,355)},version_number:{label:D["Version Number"],fontSize:34,color:q.n(255,255,255),e:q.a(1,1),position:q.a(710,55)},server_activity:{position:q.a(910,630),size:q.size(100,20),e:q.a(.5,.5),label:D["Offline Server"],color:q.n(255,0,0)}}}}},AY:function(){autoLoginNextTime?(autoLoginNextTime=!1,this.b.auto_login.la(q.fa.g().ka("GUI/checkbox_uncheck.png"))):
(autoLoginNextTime=!0,this.b.auto_login.la(q.fa.g().ka("GUI/checkbox_checked.png")),rememberLoginNextTime=!0,this.b.remember_login.la(q.fa.g().ka("GUI/checkbox_checked.png")))},BY:function(){rememberLoginNextTime?(rememberLoginNextTime=!1,this.b.remember_login.la(q.fa.g().ka("GUI/checkbox_uncheck.png")),autoLoginNextTime=!1,this.b.auto_login.la(q.fa.g().ka("GUI/checkbox_uncheck.png"))):(rememberLoginNextTime=!0,this.b.remember_login.la(q.fa.g().ka("GUI/checkbox_checked.png")))},ub:function(a){if(null!=
this.Bk.Y()&&this.b.go_button.ya&&q.vb(q.rect(this.b.go_button.u.I,this.b.go_button.u.T,this.b.go_button.c().width,this.b.go_button.c().height),a.S)){if(0==this.hm&&this.lt){a=this.Bk.Y();var c=this.Ol.Y();""!=a&&null!=a&&""!=c&&null!=c?(this.hm=!0,this.rg(D["Logging In Message"]),z({login:!0,username:this.Bk.Y(),password:this.Ol.Y()})):this.rg(D["User Pass Empty"])}else this.Gx(D["Offline Server Message"]);return!0}this.b.credits_button.ya&&q.vb(q.rect(this.b.credits_button.u.I,this.b.credits_button.u.T,
this.b.credits_button.c().width,this.b.credits_button.c().height),a.S)&&this.Uh("/openCredits");this.b.news_button.ya&&q.vb(q.rect(this.b.news_button.u.I,this.b.news_button.u.T,this.b.news_button.c().width,this.b.news_button.c().height),a.S)&&this.Uh("/openNews");if(this.b.register_button.ya&&q.vb(q.rect(this.b.register_button.u.I,this.b.register_button.u.T,this.b.register_button.c().width,this.b.register_button.c().height),a.S))return this.nY(),!1;if(this.b.auto_login.ya&&q.vb(q.rect(this.b.auto_login.u.I,
this.b.auto_login.u.T,this.b.auto_login.c().width,this.b.auto_login.c().height),a.S))return this.AY(),!1;if(this.b.remember_login.ya&&q.vb(q.rect(this.b.remember_login.u.I,this.b.remember_login.u.T,this.b.remember_login.c().width,this.b.remember_login.c().height),a.S))return this.BY(),!1;if(this.b.new_user_back.ya&&0==this.gq&&q.vb(q.rect(this.b.new_user_back.u.I,this.b.new_user_back.u.T,this.b.new_user_back.c().width,this.b.new_user_back.c().height),a.S))return this.fD(),this.rg(""),!1;if(this.b.new_user_confirm.ya&&
0==this.gq&&q.vb(q.rect(this.b.new_user_confirm.u.I,this.b.new_user_confirm.u.T,this.b.new_user_confirm.c().width,this.b.new_user_confirm.c().height),a.S)){a=this.OD.Y();var c=this.Px.Y(),d=this.ND.Y();""!=a&&null!=a&&""!=c&&null!=c&&""!=d&&null!=d?0==/\S+@\S+\.\S+/.test(d)?this.rg(D["Incorrect Email Format"]):(this.gq=!0,this.rg(D["Registering Message"]),this.AK({name:a,password:c,email:d})):this.rg(D["Register Empty Fields"]);return!1}},AK:function(a){a.newUser=1;z(a)},dS:function(){this.rg(D["Registration Success"]);
this.OD.me(D["Username Label"]);this.Px.me(D["Password Label"]);this.ND.me(D["Email Label"]);this.gq=!1;this.fD()},WS:function(a){this.gq=!1;switch(a){case "UserTaken":this.rg(D["Register User Taken"])}},nY:function(){this.b.new_user_name.B(!0);this.b.new_user_pass.B(!0);this.b.new_user_email.B(!0);this.b.new_user_confirm.B(!0);this.b.new_user_back.B(!0);this.b.register_button.B(!1);this.b.go_button.B(!1);this.b.name_entry.Oa(-1E5);this.b.password_entry.Oa(-1E5);this.b.new_user_name.Oa(325);this.b.new_user_pass.Oa(325);
this.b.new_user_email.Oa(325);this.b.rem_login_text.B(!1);this.b.auto_login_text.B(!1);this.b.auto_login.B(!1);this.b.remember_login.B(!1);this.sD=!0},fD:function(){this.b.new_user_name.B(!1);this.b.new_user_pass.B(!1);this.b.new_user_email.B(!1);this.b.new_user_confirm.B(!1);this.b.new_user_back.B(!1);this.b.register_button.B(!0);this.b.go_button.B(!0);this.b.name_entry.Oa(325);this.b.password_entry.Oa(325);this.b.new_user_name.Oa(-1E5);this.b.new_user_pass.Oa(1E5);this.b.new_user_email.Oa(1E5);
this.b.rem_login_text.B(!0);this.b.auto_login_text.B(!0);this.b.auto_login.B(!0);this.b.remember_login.B(!0);this.sD=!1},Uh:function(a){switch(a){case "/openCredits":null==CreditsPanel||CreditsPanel.ca||(CreditsPanel=null);CreditsPanel?(CreditsPanel.za(),CreditsPanel.J(),CreditsPanel=null):(CreditsPanel=new Credits,CreditsPanel.A(),CreditsPanel.oa(),this.f(CreditsPanel));break;case "/openNews":null==NewsPanel||NewsPanel.ca||(NewsPanel=null),NewsPanel?(NewsPanel.za(),NewsPanel.J(),NewsPanel=null):
(NewsPanel=new News,NewsPanel.A(),NewsPanel.oa(),this.f(NewsPanel))}},bV:function(a){rememberLoginNextTime&&V.QX(this.Bk.Y(),this.Ol.Y());this.Nc(this.yC);C.g().Cl("Game",{zj:a,map:1})},Gx:function(a){this.Nc(this.yC);this.b.server_message.ma(a);this.hm=!1},rg:function(a){this.b.server_message.ma(a)},c9:function(){C.g().Cl("Game",{lda:this.Bk.Y()})}});I=null;MapMaster=!1;
var Ia=Ha.extend({NJ:!1,ctor:function(){this._super()},AD:function(){var a=Q.r.H.hc();U.Bl(a.x*L,a.y*L);a=this.tc();Aa(a,"panels",this.b);SkillBarsInstance.vq()},tc:function(){return{panels:{children:{saving_icon:{visible:!1,position:q.a(O.width-52,4),e:q.a(0,0),size:q.size(48,48),$:"GUI/save_icon.png"},logout_button:{position:q.a(O.width-52,O.height-52),e:q.a(0,0),size:q.size(48,48),$:"GUI/logout.png"},quicknav_button:{position:q.a(O.width-30,Math.floor(O.height/2)-24),e:q.a(0,0),size:q.size(48,
48),$:"GUI/quickmenu_closed_icon.png"},inventory_button:{position:q.a(O.width-52,Math.floor(O.height/2)+60),e:q.a(0,0),size:q.size(48,48),$:"GUI/inventory_icon.png"},equipment_button:{position:q.a(O.width-82,Math.floor(O.height/2)+4),e:q.a(0,0),size:q.size(48,48),$:"GUI/equipment_icon.png"},skill_button:{position:q.a(O.width-82,Math.floor(O.height/2)-52),e:q.a(0,0),size:q.size(48,48),$:"GUI/skills_icon.png"},chat_button:{position:q.a(O.width-52,Math.floor(O.height/2)-108),e:q.a(0,0),size:q.size(48,
48),$:"GUI/chat_icon.png"},quickedit_button:{position:q.a(0,Math.floor(O.height/2)-24),e:q.a(0,0),size:q.size(48,48),$:"GUI/quickedit_closed_icon.png"},mapedit_button:{position:q.a(4,Math.floor(O.height/2)+116),e:q.a(0,0),size:q.size(48,48),$:"GUI/mapeditor_icon.png"},npcedit_button:{position:q.a(34,Math.floor(O.height/2)+60),e:q.a(0,0),size:q.size(48,48),$:"GUI/npceditor_icon.png"},itemedit_button:{position:q.a(64,Math.floor(O.height/2)+4),e:q.a(0,0),size:q.size(48,48),$:"GUI/itemeditor_icon.png"},
skilledit_button:{position:q.a(64,Math.floor(O.height/2)-52),e:q.a(0,0),size:q.size(48,48),$:"GUI/skilleditor_icon.png"},scriptedit_button:{position:q.a(34,Math.floor(O.height/2)-108),e:q.a(0,0),size:q.size(48,48),$:"GUI/scripteditor_icon.png"},settings_button:{position:q.a(4,Math.floor(O.height/2)-164),e:q.a(0,0),size:q.size(48,48),$:"GUI/settings_icon.png"},shopedit_button:{position:q.a(120,Math.floor(O.height/2)+4),e:q.a(0,0),size:q.size(48,48),$:"GUI/shopeditor_icon.png"},questedit_button:{position:q.a(120,
Math.floor(O.height/2)-52),e:q.a(0,0),size:q.size(48,48),$:"GUI/questeditor_icon.png"}}}}},KJ:!1,IJ:!1,Xn:function(a){0==a&&(this.BC(),C.g().Cl("Login",{aE:!1}))},BC:function(){U.of();U.pt();null!=Equipment&&(Equipment.za(),Equipment.J(),Equipment=null);null!=Inventory&&(Inventory.za(),Inventory.J(),Inventory=null);null!=Bank&&(Bank.za(),Bank.b_(),Bank=null);null!=Skills&&(Skills.za(),Skills.J(),Skills=null);null!=Quests&&(Quests.za(),Quests.J(),Quests=null);SkillBarsInstance.J();Q.of();Q.pt();R.of();
R.pt()},ub:function(a){if(q.vb(q.rect(this.b.logout_button.u.I,this.b.logout_button.u.T,this.b.logout_button.c().width,this.b.logout_button.c().height),a.S))return this.BC(),C.g().Cl("Login",{$J:!0,aE:!0}),!0;C.Vn(this);if(q.vb(this.b.chat_button.pb(),a.S)&&this.b.chat_button.ya)return this.Ml("C"),!0;if(q.vb(this.b.inventory_button.pb(),a.S)&&this.b.inventory_button.ya)return this.Ml("I"),!0;if(q.vb(this.b.equipment_button.pb(),a.S)&&this.b.equipment_button.ya)return this.Ml("E"),!0;if(q.vb(this.b.skill_button.pb(),
a.S)&&this.b.skill_button.ya)return this.Ml("S"),!0;if(this.b.quickedit_button.ya&&q.vb(this.b.quickedit_button.pb(),a.S)&&this.b.quickedit_button.ya)return this.OL(!this.IJ),!0;if(q.vb(this.b.quicknav_button.pb(),a.S)&&this.b.quicknav_button.ya)return this.PL(!this.KJ),!0;if(q.vb(this.b.mapedit_button.pb(),a.S)&&this.b.mapedit_button.ya)return this.Uh("/editmap"),!0;if(q.vb(this.b.npcedit_button.pb(),a.S)&&this.b.npcedit_button.ya)return this.Uh("/editnpc"),!0;if(q.vb(this.b.itemedit_button.pb(),
a.S)&&this.b.itemedit_button.ya)return this.Uh("/edititem"),!0;if(q.vb(this.b.skilledit_button.pb(),a.S)&&this.b.skilledit_button.ya)return this.Uh("/editskill"),!0;if(q.vb(this.b.scriptedit_button.pb(),a.S)&&this.b.scriptedit_button.ya)return this.Uh("/editscript"),!0;if(q.vb(this.b.settings_button.pb(),a.S)&&this.b.settings_button.ya)return this.Uh("/editsettings"),!0;if(q.vb(this.b.shopedit_button.pb(),a.S)&&this.b.shopedit_button.ya)return this.Uh("/editshop"),!0;if(q.vb(this.b.questedit_button.pb(),
a.S)&&this.b.questedit_button.ya)return this.Uh("/editquest"),!0},oY:function(a,c){null==Sign||Sign.ca||(Sign=null);Sign?(Sign.za(),Sign.J(),Sign=null):(Sign=new SignPanel,Sign.A(a,c),Sign.oa(),this.f(Sign))},kY:function(a,c){null==Book||Book.ca||(Book=null);Book?(Book.za(),Book.J(),Book=null):(Book=new BookPanel,Book.A(a,c),Book.oa(),this.f(Book))},mY:function(a,c,d,e,f,g){null==NpcChat||NpcChat.ca||(NpcChat=null);NpcChat&&(NpcChat.za(),NpcChat.J(),NpcChat=null);NpcChat=new NpcChatPanel;NpcChat.A(a,
c,d,e,f,g);NpcChat.oa();this.f(NpcChat)},gU:function(){null==NpcChat||NpcChat.ca||(NpcChat=null);NpcChat&&(NpcChat.za(),NpcChat.J(),NpcChat=null)},Ml:function(a){switch(a){case "C":R.FU()?R.rJ():R.show();break;case "ENTER":R.ot(!R.rD());break;case "SPACE":Q.r.H.yU();Inventory&&Inventory.La();break;case "CTRL":Q.r.H.wU();break;case "ESC":this.BC();C.g().Cl("Login",{$J:!0,aE:!0});break;case "I":null==Inventory||Inventory.ca||(Inventory=null);Inventory?(Inventory.za(),Inventory.J(),Inventory=null):(null==
Bank||Bank.ca||(Bank=null),Bank||(Inventory=new InventoryPanel,Inventory.A(),Inventory.oa(),this.f(Inventory)));break;case "E":null==Equipment||Equipment.ca||(Equipment=null);Equipment?(Equipment.za(),Equipment.J(),Equipment=null):(Equipment=new EquipmentPanel,Equipment.A(),Equipment.oa(),this.f(Equipment));break;case "S":null==Skills||Skills.ca||(Skills=null);Skills?(Skills.za(),Skills.J(),Skills=null):(Skills=new SkillsPanel,Skills.A(),Skills.oa(),this.f(Skills));break;case "Q":null==Quests||Quests.ca||
(Quests=null),Quests?(Quests.za(),Quests.J(),Quests=null):(Quests=new QuestsPanel,Quests.A(),Quests.oa(),this.f(Quests))}},zD:function(a){var c=Q.r.H.hc();Q.r.H.path=null;if(!(Shop&&Shop.ca||Bank&&Bank.ca)&&0==c.x%1&&0==c.y%1)switch(a){case "RIGHTARROW":Q.r.H.xq(c.x+1,c.y);break;case "LEFTARROW":Q.r.H.xq(c.x-1,c.y);break;case "UPARROW":Q.r.H.xq(c.x,c.y+1);break;case "DOWNARROW":Q.r.H.xq(c.x,c.y-1)}},PL:function(a){this.KJ=a;this.b.chat_button.B(a);this.b.inventory_button.B(a);this.b.equipment_button.B(a);
this.b.skill_button.B(a);this.b.quicknav_button.la(q.fa.g().ka(1==a?"GUI/quickmenu_opened_icon.png":"GUI/quickmenu_closed_icon.png"))},OL:function(a){this.IJ=a;this.b.mapedit_button.B(a);this.b.npcedit_button.B(a);this.b.itemedit_button.B(a);this.b.skilledit_button.B(a);this.b.scriptedit_button.B(a);this.b.settings_button.B(a);this.b.shopedit_button.B(a);this.b.questedit_button.B(a);this.b.quickedit_button.la(q.fa.g().ka(1==a?"GUI/quickedit_opened_icon.png":"GUI/quickedit_closed_icon.png"))},Uh:function(a){if(a){switch(a){case "/whereami":var c=
Q.r.H,c=c.hc();R.gc("Map: "+U.rf()+", XY: ("+c.x+","+c.y+")")}if(1<Q.r.H.Jp){if("/warpmeto"==a.substring(0,9)&&4==a.split(" ").length){a=a.substring(10).split(" ");c=U.Ai(a[0]);z({changemap:a[0],setTo:a[1]+a[2]*c.width});U.$p(a[0]);c=Q.r.H;c.l(a[1]*L,a[2]*L);return}switch(a){case "/editscript":null==Scripteditor||Scripteditor.ca||(Scripteditor=null);Scripteditor?(Scripteditor.za(),Scripteditor.J(),Scripteditor=null):(Scripteditor=new ScriptingList,Scripteditor.A({k:null,Rg:new ScriptEditor,list:ObjectLists.Le(),
name:"Script List"}),Scripteditor.oa(),this.f(Scripteditor));break;case "/editshop":null==Shopeditor||Shopeditor.ca||(Shopeditor=null);Shopeditor?(Shopeditor.za(),Shopeditor.J(),Shopeditor=null):(Shopeditor=new PopupList,Shopeditor.A({k:null,Rg:new ShopEditor,list:ObjectLists.Zp(),name:"Shop List"}),Shopeditor.oa(),this.f(Shopeditor));break;case "/editmap":null==Mapeditor||Mapeditor.ca||(Mapeditor=null);Mapeditor?(Mapeditor.za(),Mapeditor.J(),Mapeditor=null,U.qt(null)):(Mapeditor=new MapEditor,Mapeditor.A(),
Mapeditor.oa(),this.f(Mapeditor),U.qt(Mapeditor));break;case "/editsettings":null==Settingseditor||Settingseditor.ca||(Settingseditor=null);Settingseditor?(Settingseditor.za(),Settingseditor.J(),Settingseditor=null):(Settingseditor=new SettingsEditor,Settingseditor.A(),Settingseditor.oa(),this.f(Settingseditor));break;case "/editskill":null==Skillseditor||Skillseditor.ca||(Skillseditor=null);Skillseditor?(Skillseditor.za(),Skillseditor.J(),Skillseditor=null):(Skillseditor=new PopupList,Skillseditor.A({k:null,
Rg:new SkillsEditor,list:ObjectLists.wk(),name:"Skills List"}),Skillseditor.oa(),this.f(Skillseditor));break;case "/edititem":null==Itemeditor||Itemeditor.ca||(Itemeditor=null);Itemeditor?(Itemeditor.za(),Itemeditor.J(),Itemeditor=null,U.qt(null)):(Itemeditor=new PopupList,Itemeditor.A({k:null,Rg:new ItemEditor,list:ObjectLists.Jb(),name:"Item List"}),Itemeditor.oa(),this.f(Itemeditor));break;case "/editnpc":null==NPCeditor||NPCeditor.ca||(NPCeditor=null);NPCeditor?(NPCeditor.za(),NPCeditor.J(),NPCeditor=
null,U.qt(null)):(NPCeditor=new PopupList,NPCeditor.A({k:null,Rg:new NPCEditor,list:ObjectLists.Vp(),name:"NPC List"}),NPCeditor.oa(),this.f(NPCeditor));break;case "/editquest":null==Questeditor||Questeditor.ca||(Questeditor=null),Questeditor?(Questeditor.za(),Questeditor.J(),Questeditor=null,U.qt(null)):(Questeditor=new PopupList,Questeditor.A({k:null,Rg:new QuestEditor,list:ObjectLists.Yp(),name:"Quest List"}),Questeditor.oa(),this.f(Questeditor))}}switch(a){case "/help":R.showHelp();break;case "/commands":R.lY();
break;case "/diceroll":a=Math.floor(6*Math.random()+1);c=D["/diceroll"];c=c.replace("<PLAYER>",Q.r.H.getName());c=c.replace("<VALUE>",a);R.gc(c);z({diceroll:c});break;case "/coinflip":a=1==Math.floor(3*Math.random()+1)?"Heads":"Tails";c=D["/coinflip"];c=c.replace("<PLAYER>",Q.r.H.getName());c=c.replace("<VALUE>",a);R.gc(c);z({coinflip:c});break;case "/dance":a=D["/dance"];a=a.replace("<PLAYER>",Q.r.H.getName());R.gc(a);z({dance:a});break;case "/afk":Q.r.H.nM("AFK"),z({afk:!0})}}},A:function(a){this._super();
I=this;this.f(U.create());ObjectLists.g();Q.create({name:a.zj.name,wj:!0,Zn:{health:{cd:1,value:100,kg:200,jg:900},mana:{cd:1,value:100,kg:200,jg:99}},map:a.zj.location.mapnumber?a.zj.location.mapnumber:1,position:a.zj.location.position,Bt:"sprites1.png",zt:1,Jp:a.zj.rank,EJ:a.zj.inventory,DI:a.zj.equipment,Pl:a.zj.quests,zi:a.zj.extraData});U.vR();this.b.J();this.sq(-20);z({moveTo:Q.r.H.hc().x+Q.r.H.hc().y*N});this.f(R.create());this.f(T.create(a.zj.skills));this.PL(!1);this.OL(!1);this.gY();this.f(this.b);
this.kc(this.zE);this.kc(this.OW);this.kc(this.HW,120)},HW:function(){var a={saveUser:!0,name:Q.r.H.getName(),location:{mapnumber:U.rf(),position:Q.r.H.hc().x+Q.r.H.hc().y*N},inventory:Q.r.H.Sd(),equipment:Q.r.H.ix(),skills:[],clan:"",guilds:[],quests:Q.r.H.Pl,friends:[],bank:Q.r.H.Al(),pets:[],pmessages:[],lastchats:[],health:100,extraData:Q.r.H.zi};this.b.saving_icon.B(!0);this.NJ=!0;z(a);console.log("SAVING NOW!")},$S:function(){this.b.saving_icon.B(!1);this.NJ=!1},gY:function(){1==Q.r.H.Jp&&this.b.quickedit_button.B(!1)},
zE:function(){if(0<A.length)for(var a=0;a<A.length;a++){var c=JSON.parse(A[a]);c.moveTo&&(!Q.Ci(c.id)||Q.Ci(c.id)&&0==Q.Ci(c.id).Yg)?(reactToSocketMessage(JSON.stringify(c)),A.splice(a,1)):c.moveTo||(reactToSocketMessage(JSON.stringify(c)),A.splice(a,1))}},OW:function(){if(1==MapMaster){var a=Q.wN(),c;for(c in a)if(0==a[c].Mx){var d=10*Math.random()+1,e=a[c].hc();switch(Math.floor(4*Math.random())+1){case 1:e.x++;break;case 2:e.y++;break;case 3:e.x--;break;case 4:e.y--}a[c].KX(e,d)}}}});var Ja=q.Pa.extend({nd:null,T3:!1,k:null,ot:function(a){console.log("setting focused: "+a);a&&1==a?this.nd.O.focus():(console.log("blurrin"),this.nd.O.blur())},rD:function(){console.log("isfocused="+document.activeElement==this.nd.O);return document.activeElement==this.nd.O},ma:function(a){this.nd.me(a)},XC:function(){return this.nd.Y()},A:function(){q.log("Ovveride inputbox init call if necessary")},J:function(){this.nd.J()},ctor:function(a,c,d,e,f,g,h,k,l){h&&0!=h?(this.nd=MultiLineBox.create(q.size(c.width,
c.height),k?q.ae.create(k):q.ae.create()),this.nd.nt(q.n(f.t,f.p,f.o))):(this.nd=SingleLineBox.create(q.size(c.width,c.height),k?q.ae.create(k):q.ae.create()),c=la(f.t,f.p,f.o),this.nd.O.style.background=c);this.nd.me(e);this.nd.sS=e;this.nd.dE(q.n(g.t,g.p,g.o));this.nd.l(d.x,d.y);this.nd.w(q.a(0,1));this.nd.qg(this);this.k=l;a.f(this.nd);this.A()}});var Ka=Ja.extend({yl:function(a){a.me("")},zl:function(a,c){c||("/"==a.Y().substring(0,1)?this.EW(a.Y()):0<a.Y().length&&R.gc(a.Y(),!0));a.me(D["Default ChatBar Message"])},EW:function(a){C.g().md.Uh(a)},xi:function(a,c){a.me(c);q.log("chatBox "+this.vG(a)+", TextChanged, text: "+c)},vG:function(){return"chatbox"}}),Y=null,R=q.Wc.extend({xC:null,QH:function(a){for(var c=[],d=0;7>d;d++)c.push(this.b.chat_panel["label"+d].XC());this.b.chat_panel.label0.ma(a);for(d=1;8>d;d++)this.b.chat_panel["label"+
d].ma(c[d-1])},tc:function(){return{panels:{children:{chat_panel:{size:q.size(400,150),$:"GUI/chat.png",e:q.a(0,0),opacity:200,position:q.a(0,0),children:{chatbar:{size:q.size(390,22),position:q.a(5,124),color:q.i(255,255,255,255)},label7:{label:"",position:q.a(5,0),e:q.a(0,0),color:q.n(0,0,0)},label6:{label:"",position:q.a(5,15),e:q.a(0,0),color:q.n(0,0,0)},label5:{label:"",position:q.a(5,30),e:q.a(0,0),color:q.n(0,0,0)},label4:{label:"",position:q.a(5,45),e:q.a(0,0),color:q.n(0,0,0)},label3:{label:"",
position:q.a(5,60),e:q.a(0,0),color:q.n(0,0,0)},label2:{label:"",position:q.a(5,75),e:q.a(0,0),color:q.n(0,0,0)},label1:{label:"",position:q.a(5,90),e:q.a(0,0),color:q.n(0,0,0)},label0:{label:"",position:q.a(5,105),e:q.a(0,0),color:q.n(0,0,0)}}}}}}}});
R.create=function(){Y||(Y=new R,Y.b=ua(Y),Y.f(Y.b),Y.xC=new Ka(Y.b.chat_panel.chatbar,q.size(Y.b.chat_panel.chatbar.c().width-4,Y.b.chat_panel.chatbar.c().height),q.a(2,Y.b.chat_panel.chatbar.c().height),D["Default ChatBar Message"],q.n(255,255,255),q.n(0,0,0)),R.rJ(),R.pY());return Y};R.g=function(){return Y};R.gc=function(a,c){50<a.length&&(a=a.substring(0,50)+"...");c?(z({chatMessage:a}),Y.QH(Q.r.H.getName()+": "+a)):Y.QH(a)};R.show=function(){Y.b.xc(0)};R.rJ=function(){Y.b.xc(-76)};
R.FU=function(){return 0!=Y.b.u.T?!1:!0};R.ot=function(a){Y.xC.ot(a)};R.rD=function(){return Y.xC.rD()};R.showHelp=function(){R.gc(D["Help Text"])};R.lY=function(){R.gc(D["Command Text"])};R.pY=function(){R.gc(D["Welcome Message"])};R.of=function(){Y.b.J();Y.b=null};R.pt=function(){Y.J();Y=null};var Z=Ja.extend({aq:!1,fK:!1,vI:!1,qD:!1,yl:function(a){0==this.vI&&a.me("");this.qD=!0},mq:function(a){this.nd.mq(a)},d8:function(){return this.qD},zl:function(a){this.qD=!1;this.k&&this.k.eM&&this.k.eM();null==a.Y()||""==a.Y().length&&this.fK?this.aq=!0:0< !a.Y().length?(a.me(this.nd.sS),this.aq=!1):this.aq=!0},xi:function(a,c){a.me(c);this.aq=!0},vG:function(){return"name_entry"},Y:function(){return 1==this.aq||1==this.rS?this.nd.Y():null},me:function(a){this.nd.me(a);this.aq=!0},hb:function(a){this.rS=
a},Uc:function(a){this.fK=a},YK:function(a){this.vI=a},A:function(){}});var La,io=null,A=[];
setupserver=function(){La=io.connect(ma.getServerURL(),{"sync disconnect on unload":!0,"connect timeout":5E3,"reconnection delay ":100});La.on("connect",function(){V.Ty();V.GM();V.RN();console.log("Client has connected to the server!");if(C){var a=C.g().md;a?a.Xn(!0):A.push(JSON.stringify({connect:!0}))}else A.push(JSON.stringify({connect:!0}))});La.on("message",function(a){reactToSocketMessage(a)});La.on("disconnect",function(){console.log("The client has disconnected!");var a=C.g().md;a?a.Xn(!1):
A.push(JSON.stringify({disconnect:!0}))})};
reactToSocketMessage=function(a){a=JSON.parse(a);var c=!1,d;for(d in a){c=!0;break}if(0!=c)if(console.log("Received a message from the server!",a),a.sync)a.mapdata&&V.gM(a.mapdata,a.maptime),a.warpdata&&V.By(a.warpdata,a.warptime),a.itemdata&&V.Gt(a.itemdata,a.itemtime),a.skillsdata&&V.JE(a.skillsdata,a.skillstime),a.signsdata&&V.Ay(a.signsdata,a.signstime),a.npcsdata&&V.hM(a.npcsdata,a.npcstime),a.questdata&&V.xy(a.questdata,a.queststime),a.shopsdata&&V.mM(a.shopsdata,a.shopstime),a.settingsdata&&
(V.IE(a.settingsdata,a.settingstime),D=Ea(D,a.settingsdata)),a.scriptsdata&&V.lM(a.scriptsdata,a.scriptstime),oa=!0;else if(c=C.g().md)if(a.connect?c.Xn(!0):a.disconnect&&c.Xn(!1),"Game"==c.Ic())if(a.newPlayer)Q.uR({id:a.id,location:{position:a.position,mapnumber:a.mapnumber}});else if(a.playerLeft)Q.Ci(a.playerLeft).mg==Q.r.H.mg&&(MapMaster=!1),Q.uI(a.playerLeft);else if(a.setTo)if(!Q.Ci(a.id)||Q.Ci(a.id)&&0==Q.Ci(a.id).Yg){for(c=0;c<A.length;c++)d=JSON.parse(A[c]),d.moveTo&&null!=d.moveTo&&d.id==
a.id&&(A.splice(c,1),c--);Q.CV({id:a.id,location:{position:a.position,mapnumber:a.mapnumber}});Q.Ci(a.id).mg==Q.r.H.mg&&(MapMaster=!1);Q.RR(a.id,a.mapnumber)}else A.push(JSON.stringify(a));else a.moveTo?!Q.Ci(a.id)||Q.Ci(a.id)&&0==Q.Ci(a.id).Yg?Q.ZU({id:a.id,location:{position:a.position,mapnumber:a.mapnumber}}):A.push(JSON.stringify(a)):a.chatMessage?R.gc(a.chatMessage):a.coinflip?R.gc(a.coinflip):a.diceroll?R.gc(a.diceroll):a.dance?R.gc(a.dance):a.afk?Q.SR(a.afk):a.savemap?(V.PR(a.savemap,a.mapdata,
a.updatetime),U.iY(a.mapdata)):a.mapmaster?MapMaster=!0:a.savewarps?(V.ZR(parseInt(a.savewarps),a.warpdata,a.updatetime),ObjectLists.lJ()[parseInt(a.savewarps)]=a.warpdata,Warpeditor&&(Warpeditor.gb=ObjectLists.lJ(),Warpeditor.oa())):a.savewarpswhole?(V.bW(a.savewarpswhole,a.updatetime),ObjectLists.eY(a.savewarpswhole)):a.savescripts?(V.UR(parseInt(a.savescripts),a.scriptsdata,a.updatetime),ObjectLists.Le()[parseInt(a.savescripts)]=a.scriptsdata,Scripteditor&&(Scripteditor.gb=ObjectLists.Le(),Scripteditor.oa())):
a.savescriptswhole?(V.YV(a.savescriptswhole,a.updatetime),ObjectLists.SX(a.savescriptswhole)):a.savesettings?(V.IE(a.savesettings,a.updatetime),D=Ea(D,a.savesettings),Settingseditor&&(Settingseditor.data=H(D),Settingseditor.nb())):a.savequests?(V.TR(parseInt(a.savequests),a.questdata,a.updatetime),ObjectLists.Yp()[parseInt(a.savequests)]=a.questdata,Questeditor&&(Questeditor.gb=ObjectLists.Yp(),Questeditor.oa())):a.savequestswhole?(n,V.XV(a.savequestswhole,a.updatetime),ObjectLists.NX(a.savequestswhole)):
a.saveshops?(V.VR(parseInt(a.saveshops),a.shopsdata,a.updatetime),ObjectLists.Zp()[parseInt(a.saveshops)]=a.shopsdata,Shopeditor&&(Shopeditor.gb=ObjectLists.Zp(),Shopeditor.oa())):a.saveshopswhole?(V.ZV(a.saveshopswhole,a.updatetime),ObjectLists.TX(a.saveshopswhole)):a.saveskills?(V.XR(parseInt(a.saveskills),a.skillsdata,a.updatetime),ObjectLists.wk()[parseInt(a.saveskills)]=a.skillsdata,Skillseditor&&(Skillseditor.gb=ObjectLists.wk(),Skillseditor.oa()),T.update(),Skills&&Skills.La()):a.saveskillswhole?
(V.aW(a.saveskillswhole,a.updatetime),ObjectLists.VX(a.saveskillswhole),T.update(),Skills&&Skills.La()):a.savesigns?(V.WR(parseInt(a.savesigns),a.signsdata,a.updatetime),ObjectLists.dJ()[parseInt(a.savesigns)]=a.signsdata,Signeditor&&(Signeditor.gb=ObjectLists.dJ(),Signeditor.oa())):a.moveNPC?(a.npcID=parseInt(a.npcID),!Q.Up(a.npcID)||Q.Up(a.npcID)&&0==Q.Up(a.npcID).Yg?Q.YU(a.npcID,a.moveNPC,a.mapnumber):A.push(JSON.stringify(a))):a.changeNPCPosition?Q.Up(a.npcID)&&(a.npcID=parseInt(a.npcID),Q.Up(a.npcID)&&
0==Q.Up(a.npcID).Yg?Q.sW(a.npcID,a.changeNPCPosition):A.push(JSON.stringify(a))):a.savesignswhole?(V.$V(a.savesignswhole,a.updatetime),ObjectLists.UX(a.savesignswhole)):a.savenpcs?(V.QR(parseInt(a.savenpcs),a.npcsdata,a.updatetime),ObjectLists.Vp()[parseInt(a.savenpcs)]=a.npcsdata,U.$p(U.rf(),!0),NPCeditor&&(NPCeditor.gb=ObjectLists.Vp(),NPCeditor.oa())):a.savenpcswhole?(V.WV(a.savenpcswhole,a.updatetime),ObjectLists.xX(a.savenpcswhole),U.$p(U.rf(),!0),NPCeditor&&(NPCeditor.gb=ObjectLists.Vp(),NPCeditor.oa())):
a.saveitems?(V.OR(parseInt(a.saveitems),a.itemdata,a.updatetime),c=ObjectLists.Jb()[parseInt(a.saveitems)].name,ObjectLists.Jb()[parseInt(a.saveitems)]=a.itemdata,U.$p(U.rf()),Itemeditor&&(Itemeditor.gb=ObjectLists.Jb(),Itemeditor.oa()),Inventory&&Inventory.La(),Q.r.H.Gt(c,a.itemdata)):a.droppeditem?a.mapnumber==U.rf()&&0==U.g().Xg?(c=U.iJ(a.index),c.TH(a.droppeditem,a.amount),U.Ht()):A.push(JSON.stringify(a)):a.pickupitem?a.mapnumber==U.rf()&&(c=U.iJ(a.pickupitem),c.removeItem(),U.Ht()):a.saveitemswhole?
(V.VV(a.saveitemswhole,a.updatetime),ObjectLists.pX(a.saveitemswhole)):a.savesuccess&&c.$S();else"Login"==c.Ic()&&(a.login_success?c.bV(a.login_success):a.login_fail?c.Gx(a.login_fail):a.registrationsuccess?c.dS():a.registrationfailed&&c.WS(a.registrationfailed));else A.push(JSON.stringify(a))};function z(a){La.send(JSON.stringify(a))}var Ma=document.createElement("SCRIPT");Ma.type="text/javascript";Ma.src=document.ccConfig.getServerURL()+"/socket.io/socket.io.js";Ma.onreadystatechange=setupserver;
Ma.onload=setupserver;document.getElementById("gameCanvas").appendChild(Ma);var C=q.Wc.extend({r:null,Mp:null,md:null,OH:null,A:function(){Da();q.ra.g().OX(this.oV);var a=q.ra.g().wn();this.Mp=q.v.create();this.Mp.q(q.n(0,0,0));this.Mp.ib(q.rect(0,0,a.width,a.height));this.Mp.w(q.a(0,0));this.f(this.Mp);V.g()&&oa?(D=Ea(D,V.VC()),this.Cl("Login",{}),this.kc(this.gI),autoLoginNextTime=V.GJ(),rememberLoginNextTime=V.MJ()):this.kc(this.sJ)},oV:function(){if(C.g().md){var a=q.ra.g();O=q.size(a.wn().width,a.wn().height);C.g().Mp.ib(q.rect(0,0,O.width,O.height));C.g().md.AD()}},
sJ:function(){V.g()&&oa&&io&&(this.Nc(this.sJ),D=Ea(D,V.VC()),this.Cl("Login",{}),this.kc(this.gI),autoLoginNextTime=V.GJ(),rememberLoginNextTime=V.MJ())},gI:function(){for(var a in na)if(1==na[a]&&null!=this.md){var c=null;a=parseInt(a);switch(a){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";
break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a&&58>a||64<a&&91>a)&&(c=String.fromCharCode(a));null!=c&&this.md.zD(c)}},Cl:function(a,c){null!=this.md&&(this.md.za(),this.md.J(),this.md=null);switch(a){case "Login":this.md=new Login;break;case "Game":this.md=new Ia}this.md.rM();this.f(this.md,1);this.md.nX(a);this.md.oa();
this.md.A(c)},E4:function(){return this.md.Ic()}});C.g=function(){null==this.r&&(this.r=new C);return this.r};C.Vn=function(a){null==this.r&&(this.r=new C);this.r.OH=a};C.bT=function(){null==this.r&&(this.r=new C);return this.r.OH};var O;
new (q.Jk.extend({Vw:document.ccConfig,ctor:function(){this._super();q.Ot=this.Vw.COCOS2D_DEBUG;q.Zl(this.Vw.tag);q.Hy.jY().FS()},FR:function(){var a=this.Vw,c=q.ea.g(),d=q.ra.g();d.xW(!0);O=d.wn();q.size(O.width,O.height);var e=q.size(O.width,O.height),f=q.$d.g();q.Jk.g();f.vL(["res/Graphics"]);q.Wh&&q.Wh.g().yba("res/Audio");c.bX(1);d.bE(e.width,e.height,q.qo.SHOW_ALL);c.mt(1/a.frameRate);a.test?q.test(a.test):q.QU(function(a){q.iz.GD(a,function(){document.getElementById("gameCanvas").setAttribute("tabindex","0");
document.getElementById("gameCanvas").focus();var a=C.g();q.ea.g().GK(a);a.A()})});return!0}}));
//@ sourceMappingURL=client.minified.map