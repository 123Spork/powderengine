var b,aa={s_:"GUI/chat.png",t_:"GUI/close.png",G_:"GUI/defaultitem.png",W_:"GUI/equipment.png",g4:"GUI/healthbar.png",x4:"GUI/inventory.png",E5:"GUI/logout.png",O9:"GUI/signpost.png",P9:"GUI/skills.png",R9:"GUI/splash.png",c_:"building1.png",k5:"items1.png",S9:"sprites1.png",s$:"tile_graphics.txt",t$:"tiles1.png"};var p=p||{},ca={};p.OR=function(a){var c=p.YB[ca.IH.DD];if(c){for(var d=[],e=0;e<c.length;++e)d.push({src:c[e]});a(d)}else a([])};ca={IH:{DD:"_0"}};p.YB={};p.YB[ca.IH.DD]=[];p.YB.RO=[];var io="undefined"===typeof module?{}:module.gc;
(function(){(function(a,d){a.version="0.9.16";a.protocol=1;a.transports=[];a.j=[];a.sockets={};a.connect=function(e,f){var g=a.util.parseUri(e),h,k;d&&d.location&&(g.protocol=g.protocol||d.location.protocol.slice(0,-1),g.host=g.host||(d.document?d.document.domain:d.location.hostname),g.port=g.port||d.location.port);h=a.util.uniqueUri(g);var l={host:g.host,Cm:"https"==g.protocol,port:g.port||("https"==g.protocol?443:80),query:g.query||""};a.util.merge(l,f);if(l["force new connection"]||!a.sockets[h])k=
new a.Socket(l);!l["force new connection"]&&k&&(a.sockets[h]=k);k=k||a.sockets[h];return k.Mo(1<g.path.length?g.path:"")}})("object"===typeof module?module.gc:io,this);(function(a,d){var e=a.util={},f=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,g="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");
e.parseUri=function(a){a=f.exec(a||"");for(var c={},d=14;d--;)c[g[d]]=a[d]||"";return c};e.uniqueUri=function(a){var c=a.protocol,e=a.host;a=a.port;"document"in d?(e=e||document.domain,a=a||("https"==c&&"https:"!==document.location.protocol?443:document.location.port)):(e=e||"localhost",a||"https"!=c||(a=443));return(c||"http")+"://"+e+":"+(a||80)};e.query=function(a,c){var d=e.chunkQuery(a||""),f=[];e.merge(d,e.chunkQuery(c||""));for(var g in d)d.hasOwnProperty(g)&&f.push(g+"\x3d"+d[g]);return f.length?
"?"+f.join("\x26"):""};e.chunkQuery=function(a){var c={};a=a.split("\x26");for(var d=0,e=a.length,f;d<e;++d)f=a[d].split("\x3d"),f[0]&&(c[f[0]]=f[1]);return c};var h=!1;e.load=function(a){if("document"in d&&"complete"===document.readyState||h)return a();e.on(d,"load",a,!1)};e.on=function(a,c,d,e){a.attachEvent?a.attachEvent("on"+c,d):a.addEventListener&&a.addEventListener(c,d,e)};e.request=function(a){if(a&&"undefined"!=typeof XDomainRequest&&!e.ua.hasCORS)return new XDomainRequest;if("undefined"!=
typeof XMLHttpRequest&&(!a||e.ua.hasCORS))return new XMLHttpRequest;if(!a)try{return new (window[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(c){}return null};"undefined"!=typeof window&&e.load(function(){h=!0});e.defer=function(a){if(!e.ua.webkit||"undefined"!=typeof importScripts)return a();e.load(function(){setTimeout(a,100)})};e.merge=function(a,c,d,f){f=f||[];d="undefined"==typeof d?2:d;for(var g in c)c.hasOwnProperty(g)&&0>e.indexOf(f,g)&&("object"===typeof a[g]&&d?e.merge(a[g],
c[g],d-1,f):(a[g]=c[g],f.push(c[g])));return a};e.mixin=function(a,c){e.merge(a.prototype,c.prototype)};e.inherit=function(a,c){function d(){}d.prototype=c.prototype;a.prototype=new d};e.isArray=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};e.intersect=function(a,c){for(var d=[],f=a.length>c.length?a:c,g=a.length>c.length?c:a,h=0,v=g.length;h<v;h++)~e.indexOf(f,g[h])&&d.push(g[h]);return d};e.indexOf=function(a,c,d){var e=a.length;for(d=0>d?0>d+e?0:d+e:d||
0;d<e&&a[d]!==c;d++);return e<=d?-1:d};e.toArray=function(a){for(var c=[],d=0,e=a.length;d<e;d++)c.push(a[d]);return c};e.ua={};e.ua.hasCORS="undefined"!=typeof XMLHttpRequest&&function(){try{var a=new XMLHttpRequest}catch(c){return!1}return void 0!=a.withCredentials}();e.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent);e.ua.iDevice="undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)})("undefined"!=typeof io?io:module.gc,this);(function(a,d){function e(){}
a.EventEmitter=e;e.prototype.on=function(a,c){this.jf||(this.jf={});this.jf[a]?d.util.isArray(this.jf[a])?this.jf[a].push(c):this.jf[a]=[this.jf[a],c]:this.jf[a]=c;return this};e.prototype.mS=function(a){var c="connect";function d(){e.removeListener(c,d);a.apply(this,arguments)}var e=this;d.cw=a;this.on(c,d)};e.prototype.removeListener=function(a,c){if(this.jf&&this.jf[a]){var e=this.jf[a];if(d.util.isArray(e)){for(var k=-1,l=0,m=e.length;l<m;l++)if(e[l]===c||e[l].cw&&e[l].cw===c){k=l;break}if(0>
k)return this;e.splice(k,1);e.length||delete this.jf[a]}else(e===c||e.cw&&e.cw===c)&&delete this.jf[a]}return this};e.prototype.qo=function(a){if(!this.jf)return!1;var c=this.jf[a];if(!c)return!1;var e=Array.prototype.slice.call(arguments,1);if("function"==typeof c)c.apply(this,e);else if(d.util.isArray(c))for(var c=c.slice(),k=0,l=c.length;k<l;k++)c[k].apply(this,e);else return!1;return!0}})("undefined"!=typeof io?io:module.gc,"undefined"!=typeof io?io:module.parent.gc);(function(a,d){function e(a){return 10>
a?"0"+a:a}function f(a){l.lastIndex=0;return l.test(a)?'"'+a.replace(l,function(a){var c=r[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function g(a,c){var d,h,k,l,r=m,N,L=c[a];L instanceof Date&&(L=isFinite(a.valueOf())?a.getUTCFullYear()+"-"+e(a.getUTCMonth()+1)+"-"+e(a.getUTCDate())+"T"+e(a.getUTCHours())+":"+e(a.getUTCMinutes())+":"+e(a.getUTCSeconds())+"Z":null);"function"===typeof q&&(L=q.call(c,a,L));switch(typeof L){case "string":return f(L);
case "number":return isFinite(L)?String(L):"null";case "boolean":case "null":return String(L);case "object":if(!L)return"null";m+=n;N=[];if("[object Array]"===Object.prototype.toString.apply(L)){l=L.length;for(d=0;d<l;d+=1)N[d]=g(d,L)||"null";k=0===N.length?"[]":m?"[\n"+m+N.join(",\n"+m)+"\n"+r+"]":"["+N.join(",")+"]";m=r;return k}if(q&&"object"===typeof q)for(l=q.length,d=0;d<l;d+=1)"string"===typeof q[d]&&(h=q[d],(k=g(h,L))&&N.push(f(h)+(m?": ":":")+k));else for(h in L)Object.prototype.hasOwnProperty.call(L,
h)&&(k=g(h,L))&&N.push(f(h)+(m?": ":":")+k);k=0===N.length?"{}":m?"{\n"+m+N.join(",\n"+m)+"\n"+r+"}":"{"+N.join(",")+"}";m=r;return k}}if(d&&d.parse)return a.JSON={parse:d.parse,stringify:d.stringify};var h=a.JSON={},k=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,m,n,r={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f",
"\r":"\\r",'"':'\\"',"\\":"\\\\"},q;h.stringify=function(a,c,d){var e;n=m="";if("number"===typeof d)for(e=0;e<d;e+=1)n+=" ";else"string"===typeof d&&(n=d);if((q=c)&&"function"!==typeof c&&("object"!==typeof c||"number"!==typeof c.length))throw Error("JSON.stringify");return g("",{"":a})};h.parse=function(a,c){function d(a,e){var f,g,h=a[e];if(h&&"object"===typeof h)for(f in h)Object.prototype.hasOwnProperty.call(h,f)&&(g=d(h,f),void 0!==g?h[f]=g:delete h[f]);return c.call(a,e,h)}var e;a=String(a);
k.lastIndex=0;k.test(a)&&(a=a.replace(k,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"===typeof c?d({"":e},""):e;throw new SyntaxError("JSON.parse");}})("undefined"!=typeof io?io:module.gc,"undefined"!==typeof JSON?JSON:void 0);(function(a,d){var e=
a.parser={},f=e.packets="disconnect connect heartbeat message json event ack error noop".split(" "),g=e.reasons=["transport not supported","client not handshaken","unauthorized"],h=e.advice=["reconnect"],k=d.JSON,l=d.util.indexOf;e.encodePacket=function(a){var c=l(f,a.type),d=a.id||"",e=a.Kv||"",m=a.lo,B=null;switch(a.type){case "error":var F=a.reason?l(g,a.reason):"";a=a.advice?l(h,a.advice):"";if(""!==F||""!==a)B=F+(""!==a?"+"+a:"");break;case "message":""!==a.data&&(B=a.data);break;case "event":B=
{name:a.name};a.Ae&&a.Ae.length&&(B.Ae=a.Ae);B=k.stringify(B);break;case "json":B=k.stringify(a.data);break;case "connect":a.JH&&(B=a.JH);break;case "ack":B=a.mo+(a.Ae&&a.Ae.length?"+"+k.stringify(a.Ae):"")}c=[c,d+("data"==m?"+":""),e];null!==B&&void 0!==B&&c.push(B);return c.join(":")};e.encodePayload=function(a){var c="";if(1==a.length)return a[0];for(var d=0,e=a.length;d<e;d++)c+="\ufffd"+a[d].length+"\ufffd"+a[d];return c};var m=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;e.decodePacket=function(a){var c=
a.match(m);if(!c)return{};var d=c[2]||"";a=c[5]||"";var e={type:f[c[1]],Kv:c[4]||""};d&&(e.id=d,e.lo=c[3]?"data":!0);switch(e.type){case "error":c=a.split("+");e.reason=g[c[0]]||"";e.advice=h[c[1]]||"";break;case "message":e.data=a||"";break;case "event":try{var l=k.parse(a);e.name=l.name;e.Ae=l.Ae}catch(B){}e.Ae=e.Ae||[];break;case "json":try{e.data=k.parse(a)}catch(F){}break;case "connect":e.JH=a||"";break;case "ack":if(c=a.match(/^([0-9]+)(\+)?(.*)/))if(e.mo=c[1],e.Ae=[],c[3])try{e.Ae=c[3]?k.parse(c[3]):
[]}catch(K){}}return e};e.decodePayload=function(a){if("\ufffd"==a.charAt(0)){for(var c=[],d=1,f="";d<a.length;d++)"\ufffd"==a.charAt(d)?(c.push(e.decodePacket(a.substr(d+1).substr(0,f))),d+=Number(f)+1,f=""):f+=a.charAt(d);return c}return[e.decodePacket(a)]}})("undefined"!=typeof io?io:module.gc,"undefined"!=typeof io?io:module.parent.gc);(function(a,d){function e(a,c){this.gb=a;this.FT=c}a.Transport=e;d.util.mixin(e,d.EventEmitter);e.prototype.SG=function(){return!0};e.prototype.Qr=function(a){this.PA();
(this.gb.Lg||this.gb.$f||this.gb.um)&&this.gI();if(""!==a&&(a=d.parser.decodePayload(a))&&a.length)for(var c=0,e=a.length;c<e;c++)this.Rr(a[c])};e.prototype.Rr=function(a){this.gb.oI();if("heartbeat"==a.type)return this.ZR();"connect"==a.type&&""==a.Kv&&this.EB();"error"==a.type&&"reconnect"==a.advice&&(this.Fr=!1);this.gb.Rr(a);return this};e.prototype.gI=function(){if(!this.oo){var a=this;this.oo=setTimeout(function(){a.om()},this.gb.oo)}};e.prototype.om=function(){this.Fr&&this.close();this.QA();
this.gb.om();return this};e.prototype.EB=function(){this.gb.EB();return this};e.prototype.PA=function(){this.oo&&(clearTimeout(this.oo),this.oo=null)};e.prototype.QA=function(){this.PA();this.lT&&clearTimeout(this.lT)};e.prototype.Df=function(a){this.send(d.parser.encodePacket(a))};e.prototype.ZR=function(){this.Df({type:"heartbeat"})};e.prototype.fw=function(){this.Fr=!0;this.PA();this.gb.fw()};e.prototype.Hh=function(){this.Fr=!1;this.gb.Hh();this.om()};e.prototype.Tr=function(){var a=this.gb.options;
return this.scheme()+"://"+a.host+":"+a.port+"/"+a.qw+"/"+d.protocol+"/"+this.name+"/"+this.FT};e.prototype.kw=function(a,c){c.call(this)}})("undefined"!=typeof io?io:module.gc,"undefined"!=typeof io?io:module.parent.gc);(function(a,d,e){function f(a){this.options={port:80,Cm:!1,document:"document"in e?document:!1,qw:"socket.io",transports:d.transports,"connect timeout":1E4,"try multiple transports":!0,reconnect:!0,"reconnection delay":500,"reconnection limit":Infinity,"reopen delay":3E3,"max reconnection attempts":10,
"sync disconnect on unload":!1,"auto connect":!0,"flash policy port":10843,manualFlush:!1};d.util.merge(this.options,a);this.um=this.$f=this.open=this.Lg=!1;this.namespaces={};this.buffer=[];this.WA=!1;if(this.options["sync disconnect on unload"]&&(!this.Eo()||d.util.ua.hasCORS)){var c=this;d.util.on(e,"beforeunload",function(){c.DP()},!1)}this.options["auto connect"]&&this.connect()}function g(){}a.Socket=f;d.util.mixin(f,d.EventEmitter);f.prototype.Mo=function(a){this.namespaces[a]||(this.namespaces[a]=
new d.SocketNamespace(this,a),""!==a&&this.namespaces[a].Df({type:"connect"}));return this.namespaces[a]};f.prototype.Ik=function(){this.qo.apply(this,arguments);var a,c;for(c in this.namespaces)this.namespaces.hasOwnProperty(c)&&(a=this.Mo(c),a.Lj.apply(a,arguments))};f.prototype.WQ=function(a){function c(d){d instanceof Error?(e.$f=!1,e.pm(d.message)):a.apply(null,d.split(":"))}var e=this,f=this.options,f=["http"+(f.Cm?"s":"")+":/",f.host+":"+f.port,f.qw,d.protocol,d.util.query(this.options.query,
"t\x3d"+ +new Date)].join("/");if(this.Eo()&&!d.util.ua.hasCORS){var n=document.getElementsByTagName("script")[0],r=document.createElement("script");r.src=f+"\x26jsonp\x3d"+d.j.length;n.parentNode.insertBefore(r,n);d.j.push(function(a){c(a);r.parentNode.removeChild(r)})}else{var q=d.util.request();q.open("GET",f,!0);this.Eo()&&(q.withCredentials=!0);q.onreadystatechange=function(){4==q.readyState&&(q.onreadystatechange=g,200==q.status?c(q.responseText):403==q.status?e.pm(q.responseText):(e.$f=!1,
!e.um&&e.pm(q.responseText)))};q.send(null)}};f.prototype.KG=function(a){a=a||this.transports;for(var c=0,e;e=a[c];c++)if(d.Transport[e]&&d.Transport[e].bm(this)&&(!this.Eo()||d.Transport[e].rs(this)))return new d.Transport[e](this,this.ZH);return null};f.prototype.connect=function(a){if(this.$f)return this;var c=this;c.$f=!0;this.WQ(function(e,f,g,r){function q(a){c.Ke&&c.Ke.QA();c.Ke=c.KG(a);c.Ke?c.Ke.kw(c,function(){c.$f=!0;c.Ik("connecting",c.Ke.name);c.Ke.open();c.options["connect timeout"]&&
(c.mP=setTimeout(function(){if(!c.Lg&&(c.$f=!1,c.options["try multiple transports"])){for(var a=c.transports;0<a.length&&a.splice(0,1)[0]!=c.Ke.name;);a.length?q(a):c.Ik("connect_failed")}},c.options["connect timeout"]))}):c.Ik("connect_failed")}c.ZH=e;c.oo=1E3*g;c.$Q=1E3*f;c.transports||(c.transports=c.nS=r?d.util.intersect(r.split(","),c.options.transports):c.options.transports);c.oI();q(c.transports);c.mS(function(){clearTimeout(c.mP);a&&"function"==typeof a&&a()})});return this};f.prototype.oI=
function(){clearTimeout(this.RG);if(!this.Ke||this.Ke.SG()){var a=this;this.RG=setTimeout(function(){a.Ke.Hh()},this.$Q)}};f.prototype.Df=function(a){this.Lg&&!this.WA?this.Ke.Df(a):this.buffer.push(a);return this};f.prototype.Fj=function(a){this.WA=a;!a&&this.Lg&&this.buffer.length&&(this.options.manualFlush||this.UP())};f.prototype.UP=function(){this.Ke.BH(this.buffer);this.buffer=[]};f.prototype.disconnect=function(){if(this.Lg||this.$f)this.open&&this.Mo("").Df({type:"disconnect"}),this.om("booted");
return this};f.prototype.DP=function(){var a=d.util.request();a.open("GET",["http"+(this.options.Cm?"s":"")+":/",this.options.host+":"+this.options.port,this.options.qw,d.protocol,"",this.ZH].join("/")+"/?disconnect\x3d1",!1);a.send(null);this.om("booted")};f.prototype.Eo=function(){var a=e.location.port||("https:"==e.location.protocol?443:80);return this.options.host!==e.location.hostname||this.options.port!=a};f.prototype.EB=function(){this.Lg||(this.Lg=!0,this.$f=!1,this.WA||this.Fj(!1),this.qo("connect"))};
f.prototype.fw=function(){this.open=!0};f.prototype.Hh=function(){this.open=!1;clearTimeout(this.RG)};f.prototype.Rr=function(a){this.Mo(a.Kv).Rr(a)};f.prototype.pm=function(a){a&&a.advice&&"reconnect"===a.advice&&(this.Lg||this.$f)&&(this.disconnect(),this.options.lw&&this.lw());this.Ik("error",a&&a.reason?a.reason:a)};f.prototype.om=function(a){var c=this.Lg,d=this.$f;this.open=this.$f=this.Lg=!1;if(c||d)this.Ke.close(),this.Ke.QA(),c&&(this.Ik("disconnect",a),"booted"!=a&&this.options.lw&&!this.um&&
this.lw())};f.prototype.lw=function(){function a(){if(d.Lg){for(var e in d.namespaces)d.namespaces.hasOwnProperty(e)&&""!==e&&d.namespaces[e].Df({type:"connect"});d.Ik("reconnect",d.Ke.name,d.mw)}clearTimeout(d.nw);d.removeListener("connect_failed",c);d.removeListener("connect",c);d.um=!1;delete d.mw;delete d.vm;delete d.nw;delete d.NH;d.options["try multiple transports"]=f}function c(){if(d.um){if(d.Lg)return a();if(d.$f&&d.um)return d.nw=setTimeout(c,1E3);d.mw++>=e?d.NH?(d.Ik("reconnect_failed"),
a()):(d.on("connect_failed",c),d.options["try multiple transports"]=!0,d.transports=d.nS,d.Ke=d.KG(),d.NH=!0,d.connect()):(d.vm<g&&(d.vm*=2),d.connect(),d.Ik("reconnecting",d.vm,d.mw),d.nw=setTimeout(c,d.vm))}}this.um=!0;this.mw=0;this.vm=this.options["reconnection delay"];var d=this,e=this.options["max reconnection attempts"],f=this.options["try multiple transports"],g=this.options["reconnection limit"];this.options["try multiple transports"]=!1;this.nw=setTimeout(c,this.vm);this.on("connect",c)}})("undefined"!=
typeof io?io:module.gc,"undefined"!=typeof io?io:module.parent.gc,this);(function(a,d){function e(a,c){this.gb=a;this.name=c||"";this.Mv={};this.FR=new f(this,"json");this.JF=0;this.hr={}}function f(a,c){this.Lo=a;this.name=c}a.SocketNamespace=e;d.util.mixin(e,d.EventEmitter);e.prototype.Lj=d.EventEmitter.prototype.qo;e.prototype.Mo=function(){return this.gb.Mo.apply(this.gb,arguments)};e.prototype.Df=function(a){a.Kv=this.name;this.gb.Df(a);this.Mv={};return this};e.prototype.send=function(a,c){var d=
{type:this.Mv.FR?"json":"message",data:a};"function"==typeof c&&(d.id=++this.JF,d.lo=!0,this.hr[d.id]=c);return this.Df(d)};e.prototype.qo=function(a){var c=Array.prototype.slice.call(arguments,1),d=c[c.length-1],e={type:"event",name:a};"function"==typeof d&&(e.id=++this.JF,e.lo="data",this.hr[e.id]=d,c=c.slice(0,c.length-1));e.Ae=c;return this.Df(e)};e.prototype.disconnect=function(){""===this.name?this.gb.disconnect():(this.Df({type:"disconnect"}),this.Lj("disconnect"));return this};e.prototype.Rr=
function(a){function c(){e.Df({type:"ack",Ae:d.util.toArray(arguments),mo:a.id})}var e=this;switch(a.type){case "connect":this.Lj("connect");break;case "disconnect":""===this.name?this.gb.om(a.reason||"booted"):this.Lj("disconnect",a.reason);break;case "message":case "json":var f=["message",a.data];"data"==a.lo?f.push(c):a.lo&&this.Df({type:"ack",mo:a.id});this.Lj.apply(this,f);break;case "event":f=[a.name].concat(a.Ae);"data"==a.lo&&f.push(c);this.Lj.apply(this,f);break;case "ack":this.hr[a.mo]&&
(this.hr[a.mo].apply(this,a.Ae),delete this.hr[a.mo]);break;case "error":a.advice?this.gb.pm(a):"unauthorized"==a.reason?this.Lj("connect_failed",a.reason):this.Lj("error",a.reason)}};f.prototype.send=function(){this.Lo.Mv[this.name]=!0;this.Lo.send.apply(this.Lo,arguments)};f.prototype.qo=function(){this.Lo.Mv[this.name]=!0;this.Lo.qo.apply(this.Lo,arguments)}})("undefined"!=typeof io?io:module.gc,"undefined"!=typeof io?io:module.parent.gc);(function(a,d,e){function f(a){d.Transport.apply(this,arguments)}
a.mg=f;d.util.inherit(f,d.Transport);f.prototype.name="websocket";f.prototype.open=function(){var a=d.util.query(this.gb.options.query),c=this,f;f||(f=e.iX||e.iL);this.mg=new f(this.Tr()+a);this.mg.onopen=function(){c.fw();c.gb.Fj(!1)};this.mg.onmessage=function(a){c.Qr(a.data)};this.mg.onclose=function(){c.Hh();c.gb.Fj(!0)};this.mg.onerror=function(a){c.pm(a)};return this};f.prototype.send=d.util.ua.iDevice?function(a){var c=this;setTimeout(function(){c.mg.send(a)},0);return this}:function(a){this.mg.send(a);
return this};f.prototype.BH=function(a){for(var c=0,d=a.length;c<d;c++)this.Df(a[c]);return this};f.prototype.close=function(){this.mg.close();return this};f.prototype.pm=function(a){this.gb.pm(a)};f.prototype.scheme=function(){return this.gb.options.Cm?"wss":"ws"};f.bm=function(){return"WebSocket"in e&&!("__addTask"in WebSocket)||"MozWebSocket"in e};f.rs=function(){return!0};d.transports.push("websocket")})("undefined"!=typeof io?io.Transport:module.gc,"undefined"!=typeof io?io:module.parent.gc,
this);(function(c,d){function e(){d.Transport.mg.apply(this,arguments)}c.o0=e;d.util.inherit(e,d.Transport.mg);e.prototype.name="flashsocket";e.prototype.open=function(){var a=this,c=arguments;WebSocket.Ft(function(){d.Transport.mg.prototype.open.apply(a,c)});return this};e.prototype.send=function(){var a=this,c=arguments;WebSocket.Ft(function(){d.Transport.mg.prototype.send.apply(a,c)});return this};e.prototype.close=function(){WebSocket.zp.length=0;d.Transport.mg.prototype.close.call(this);return this};
e.prototype.kw=function(a,c){function h(){var d=a.options,h=d["flash policy port"],n=["http"+(d.Cm?"s":"")+":/",d.host+":"+d.port,d.qw,"static/flashsocket","WebSocketMain"+(a.Eo()?"Insecure":"")+".swf"];e.loaded||("undefined"===typeof WEB_SOCKET_SWF_LOCATION&&(WEB_SOCKET_SWF_LOCATION=n.join("/")),843!==h&&WebSocket.NR("xmlsocket://"+d.host+":"+h),WebSocket.by(),e.loaded=!0);c.call(k)}var k=this;if(document.body)return h();d.util.load(h)};e.bm=function(){return"undefined"!=typeof WebSocket&&"__initialize"in
WebSocket&&a?10<=a.eQ().SR:!1};e.rs=function(){return!0};"undefined"!=typeof window&&(WEB_SOCKET_DISABLE_AUTO_INITIALIZATION=!0);d.transports.push("flashsocket")})("undefined"!=typeof io?io.Transport:module.gc,"undefined"!=typeof io?io:module.parent.gc);if("undefined"!=typeof window)var a=function(){function c(){if(!ga){try{var a=E.getElementsByTagName("body")[0].appendChild(E.createElement("span"));a.parentNode.removeChild(a)}catch(c){return}ga=!0;for(var a=qa.length,d=0;d<a;d++)qa[d]()}}function d(a){ga?
a():qa[qa.length]=a}function e(a){if(typeof W.addEventListener!=I)W.addEventListener("load",a,!1);else if(typeof E.addEventListener!=I)E.addEventListener("load",a,!1);else if(typeof W.attachEvent!=I)z(W,a);else if("function"==typeof W.onload){var c=W.onload;W.onload=function(){c();a()}}else W.onload=a}function f(){var a=E.getElementsByTagName("body")[0],c=E.createElement(N);c.setAttribute("type",L);var d=a.appendChild(c);if(d){var e=0;(function(){if(typeof d.GetVariable!=I){var f=d.GetVariable("$version");
f&&(f=f.split(" ")[1].split(","),A.Po=[parseInt(f[0],10),parseInt(f[1],10),parseInt(f[2],10)])}else if(10>e){e++;setTimeout(arguments.callee,10);return}a.removeChild(c);d=null;g()})()}else g()}function g(){var a=ea.length;if(0<a)for(var c=0;c<a;c++){var d=ea[c].id,e=ea[c].VO,f={Gm:!1,id:d};if(0<A.Po[0]){var g=v(d);if(g)if(!B(ea[c].iV)||A.Kj&&312>A.Kj)if(ea[c].nG&&k()){f={};f.data=ea[c].nG;f.width=g.getAttribute("width")||"0";f.height=g.getAttribute("height")||"0";g.getAttribute("class")&&(f.Y9=g.getAttribute("class"));
g.getAttribute("align")&&(f.align=g.getAttribute("align"));for(var n={},g=g.getElementsByTagName("param"),q=g.length,r=0;r<q;r++)"movie"!=g[r].getAttribute("name").toLowerCase()&&(n[g[r].getAttribute("name")]=g[r].getAttribute("value"));l(f,n,d,e)}else m(g),e&&e(f);else K(d,!0),e&&(f.Gm=!0,f.OH=h(d),e(f))}else K(d,!0),e&&((d=h(d))&&typeof d.SetVariable!=I&&(f.Gm=!0,f.OH=d),e(f))}}function h(a){var c=null;(a=v(a))&&"OBJECT"==a.nodeName&&(typeof a.SetVariable!=I?c=a:(a=a.getElementsByTagName(N)[0])&&
(c=a));return c}function k(){return!ra&&B("6.0.65")&&(A.Zg||A.oH)&&!(A.Kj&&312>A.Kj)}function l(a,c,d,e){ra=!0;xa=e||null;Fa={Gm:!1,id:d};var f=v(d);if(f){"OBJECT"==f.nodeName?(oa=n(f),sa=null):(oa=f,sa=d);a.id=ia;if(typeof a.width==I||!/%$/.test(a.width)&&310>parseInt(a.width,10))a.width="310";if(typeof a.height==I||!/%$/.test(a.height)&&137>parseInt(a.height,10))a.height="137";E.title=E.title.slice(0,47)+" - Flash Player Installation";e=A.Qg&&A.Zg?["Active"].concat("").join("X"):"PlugIn";e="MMredirectURL\x3d"+
W.location.toString().replace(/&/g,"%26")+"\x26MMplayerType\x3d"+e+"\x26MMdoctitle\x3d"+E.title;c.mr=typeof c.mr!=I?c.mr+("\x26"+e):e;A.Qg&&A.Zg&&4!=f.readyState&&(e=E.createElement("div"),d+="SWFObjectNew",e.setAttribute("id",d),f.parentNode.insertBefore(e,f),f.style.display="none",function(){4==f.readyState?f.parentNode.removeChild(f):setTimeout(arguments.callee,10)}());r(a,c,d)}}function m(a){if(A.Qg&&A.Zg&&4!=a.readyState){var c=E.createElement("div");a.parentNode.insertBefore(c,a);c.parentNode.replaceChild(n(a),
c);a.style.display="none";(function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)})()}else a.parentNode.replaceChild(n(a),a)}function n(a){var c=E.createElement("div");if(A.Zg&&A.Qg)c.innerHTML=a.innerHTML;else if(a=a.getElementsByTagName(N)[0])if(a=a.childNodes)for(var d=a.length,e=0;e<d;e++)1==a[e].nodeType&&"PARAM"==a[e].nodeName||8==a[e].nodeType||c.appendChild(a[e].cloneNode(!0));return c}function r(a,c,d){var e,f=v(d);if(A.Kj&&312>A.Kj)return e;if(f)if(typeof a.id==
I&&(a.id=d),A.Qg&&A.Zg){var g="",h;for(h in a)a[h]!=Object.prototype[h]&&("data"==h.toLowerCase()?c.M5=a[h]:"styleclass"==h.toLowerCase()?g+=' class\x3d"'+a[h]+'"':"classid"!=h.toLowerCase()&&(g+=" "+h+'\x3d"'+a[h]+'"'));h="";for(var k in c)c[k]!=Object.prototype[k]&&(h+='\x3cparam name\x3d"'+k+'" value\x3d"'+c[k]+'" /\x3e');f.outerHTML='\x3cobject classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+g+"\x3e"+h+"\x3c/object\x3e";ta[ta.length]=a.id;e=v(a.id)}else{k=E.createElement(N);k.setAttribute("type",
L);for(var l in a)a[l]!=Object.prototype[l]&&("styleclass"==l.toLowerCase()?k.setAttribute("class",a[l]):"classid"!=l.toLowerCase()&&k.setAttribute(l,a[l]));for(g in c)c[g]!=Object.prototype[g]&&"movie"!=g.toLowerCase()&&(a=k,h=g,l=c[g],d=E.createElement("param"),d.setAttribute("name",h),d.setAttribute("value",l),a.appendChild(d));f.parentNode.replaceChild(k,f);e=k}return e}function q(a){var c=v(a);c&&"OBJECT"==c.nodeName&&(A.Qg&&A.Zg?(c.style.display="none",function(){if(4==c.readyState){var d=v(a);
if(d){for(var e in d)"function"==typeof d[e]&&(d[e]=null);d.parentNode.removeChild(d)}}else setTimeout(arguments.callee,10)}()):c.parentNode.removeChild(c))}function v(a){var c=null;try{c=E.getElementById(a)}catch(d){}return c}function z(a,c){a.attachEvent("onload",c);ja[ja.length]=[a,"onload",c]}function B(a){var c=A.Po;a=a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return c[0]>a[0]||c[0]==a[0]&&c[1]>a[1]||c[0]==a[0]&&c[1]==a[1]&&c[2]>=a[2]?!0:!1}function F(a,
c,d,e){if(!A.Qg||!A.oH){var f=E.getElementsByTagName("head")[0];f&&(d=d&&"string"==typeof d?d:"screen",e&&(ya=ba=null),ba&&ya==d||(e=E.createElement("style"),e.setAttribute("type","text/css"),e.setAttribute("media",d),ba=f.appendChild(e),A.Qg&&A.Zg&&typeof E.styleSheets!=I&&0<E.styleSheets.length&&(ba=E.styleSheets[E.styleSheets.length-1]),ya=d),A.Qg&&A.Zg?ba&&typeof ba.addRule==N&&ba.addRule(a,c):ba&&typeof E.createTextNode!=I&&ba.appendChild(E.createTextNode(a+" {"+c+"}")))}}function K(a,c){if(Ga){var d=
c?"visible":"hidden";ga&&v(a)?v(a).style.visibility=d:F("#"+a,"visibility:"+d)}}function $(a){return null!=/[\\\"<>\.;]/.exec(a)&&typeof encodeURIComponent!=I?encodeURIComponent(a):a}var I="undefined",N="object",L="application/x-shockwave-flash",ia="SWFObjectExprInst",W=window,E=document,fa=navigator,Ha=!1,qa=[function(){Ha?f():g()}],ea=[],ta=[],ja=[],oa,sa,xa,Fa,ga=!1,ra=!1,ba,ya,Ga=!0,A=function(){var a=typeof E.getElementById!=I&&typeof E.getElementsByTagName!=I&&typeof E.createElement!=I,c=fa.userAgent.toLowerCase(),
d=fa.platform.toLowerCase(),e=d?/win/.test(d):/win/.test(c),d=d?/mac/.test(d):/mac/.test(c),c=/webkit/.test(c)?parseFloat(c.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,f=!+"\v1",g=[0,0,0],h=null;if(typeof fa.plugins!=I&&typeof fa.plugins["Shockwave Flash"]==N)!(h=fa.plugins["Shockwave Flash"].description)||typeof fa.mimeTypes!=I&&fa.mimeTypes[L]&&!fa.mimeTypes[L].enabledPlugin||(Ha=!0,f=!1,h=h.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),g[0]=parseInt(h.replace(/^(.*)\..*$/,"$1"),10),g[1]=parseInt(h.replace(/^.*\.(.*)\s.*$/,
"$1"),10),g[2]=/[a-zA-Z]/.test(h)?parseInt(h.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof W[["Active"].concat("Object").join("X")]!=I)try{var k=new (window[["Active"].concat("Object").join("X")])("ShockwaveFlash.ShockwaveFlash");k&&(h=k.GetVariable("$version"))&&(f=!0,h=h.split(" ")[1].split(","),g=[parseInt(h[0],10),parseInt(h[1],10),parseInt(h[2],10)])}catch(l){}return{Tk:a,Po:g,Kj:c,Qg:f,Zg:e,oH:d}}();(function(){A.Tk&&((typeof E.readyState!=I&&"complete"==E.readyState||typeof E.readyState==
I&&(E.getElementsByTagName("body")[0]||E.body))&&c(),ga||(typeof E.addEventListener!=I&&E.addEventListener("DOMContentLoaded",c,!1),A.Qg&&A.Zg&&(E.attachEvent("onreadystatechange",function(){"complete"==E.readyState&&(E.detachEvent("onreadystatechange",arguments.callee),c())}),W==top&&function(){if(!ga){try{E.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}c()}}()),A.Kj&&function(){ga||(/loaded|complete/.test(E.readyState)?c():setTimeout(arguments.callee,0))}(),e(c)))})();
(function(){A.Qg&&A.Zg&&window.attachEvent("onunload",function(){for(var c=ja.length,d=0;d<c;d++)ja[d][0].detachEvent(ja[d][1],ja[d][2]);c=ta.length;for(d=0;d<c;d++)q(ta[d]);for(var e in A)A[e]=null;A=null;for(var f in a)a[f]=null;a=null})})();return{W6:function(a,c,d,e){if(A.Tk&&a&&c){var f={};f.id=a;f.iV=c;f.nG=d;f.VO=e;ea[ea.length]=f;K(a,!1)}else e&&e({Gm:!1,id:a})},m2:function(a){if(A.Tk)return h(a)},OP:function(a,c,e,f,g,h,m,n,q,v){var z={Gm:!1,id:c};A.Tk&&!(A.Kj&&312>A.Kj)&&a&&c&&e&&f&&g?(K(c,
!1),d(function(){e+="";f+="";var d={};if(q&&typeof q===N)for(var A in q)d[A]=q[A];d.data=a;d.width=e;d.height=f;A={};if(n&&typeof n===N)for(var F in n)A[F]=n[F];if(m&&typeof m===N)for(var E in m)A.mr=typeof A.mr!=I?A.mr+("\x26"+E+"\x3d"+m[E]):E+"\x3d"+m[E];if(B(g))F=r(d,A,c),d.id==c&&K(c,!0),z.Gm=!0,z.OH=F;else{if(h&&k()){d.data=h;l(d,A,c,v);return}K(c,!0)}v&&v(z)})):v&&v(z)},g$:function(){Ga=!1},ua:A,eQ:function(){return{SR:A.Po[0],I5:A.Po[1],UB:A.Po[2]}},XQ:B,B_:function(a,c,d){if(A.Tk)return r(a,
c,d)},M9:function(a,c,d,e){A.Tk&&k()&&l(a,c,d,e)},k7:function(a){A.Tk&&q(a)},A_:function(a,c,d,e){A.Tk&&F(a,c,d,e)},AZ:d,EZ:e,R2:function(a){var c=E.location.search||E.location.hash;if(c){/\?/.test(c)&&(c=c.split("?")[1]);if(null==a)return $(c);for(var c=c.split("\x26"),d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("\x3d"))==a)return $(c[d].substring(c[d].indexOf("\x3d")+1))}return""},Z_:function(){if(ra){var a=v(ia);a&&oa&&(a.parentNode.replaceChild(oa,a),sa&&(K(sa,!0),A.Qg&&A.Zg&&(oa.style.display=
"block")),xa&&xa(Fa));ra=!1}}}}();(function(){if("undefined"!=typeof window&&!window.iL){var c=window.console;c&&c.log&&c.error||(c={log:function(){},error:function(){}});a.XQ("10.0.0")?("file:"==location.protocol&&c.error("WARNING: web-socket-js doesn't work in file:///... URL unless you set Flash Security Settings properly. Open the page via Web server i.e. http://..."),WebSocket=function(a,c,f,g,h){var k=this;k.Ht=WebSocket.pL++;WebSocket.WD[k.Ht]=k;k.readyState=WebSocket.CONNECTING;k.bufferedAmount=
0;k.$m={};c?"string"==typeof c&&(c=[c]):c=[];setTimeout(function(){WebSocket.Ft(function(){WebSocket.Uh.create(k.Ht,a,c,f||null,g||0,h||null)})},0)},WebSocket.prototype.send=function(a){if(this.readyState==WebSocket.CONNECTING)throw"INVALID_STATE_ERR: Web Socket connection has not been established";a=WebSocket.Uh.send(this.Ht,encodeURIComponent(a));if(0>a)return!0;this.bufferedAmount+=a;return!1},WebSocket.prototype.close=function(){this.readyState!=WebSocket.CLOSED&&this.readyState!=WebSocket.NC&&
(this.readyState=WebSocket.NC,WebSocket.Uh.close(this.Ht))},WebSocket.prototype.addEventListener=function(a,c){a in this.$m||(this.$m[a]=[]);this.$m[a].push(c)},WebSocket.prototype.removeEventListener=function(a,c){if(a in this.$m)for(var f=this.$m[a],g=f.length-1;0<=g;--g)if(f[g]===c){f.splice(g,1);break}},WebSocket.prototype.dispatchEvent=function(a){for(var c=this.$m[a.type]||[],f=0;f<c.length;++f)c[f](a);(c=this["on"+a.type])&&c(a)},WebSocket.prototype.mL=function(a){"readyState"in a&&(this.readyState=
a.readyState);"protocol"in a&&(this.protocol=a.protocol);if("open"==a.type||"error"==a.type)a=this.UD(a.type);else if("close"==a.type)a=this.UD("close");else if("message"==a.type)a=this.kL(decodeURIComponent(a.message));else throw"unknown event type: "+a.type;this.dispatchEvent(a)},WebSocket.prototype.UD=function(a){if(document.createEvent&&window.HW){var c=document.createEvent("Event");c.initEvent(a,!1,!1);return c}return{type:a,bubbles:!1,cancelable:!1}},WebSocket.prototype.kL=function(a){if(document.createEvent&&
window.gX&&!window.opera){var c=document.createEvent("MessageEvent");c.initMessageEvent("message",!1,!1,a,null,null,window,null);return c}return{type:"message",data:a,bubbles:!1,cancelable:!1}},WebSocket.CONNECTING=0,WebSocket.OPEN=1,WebSocket.NC=2,WebSocket.CLOSED=3,WebSocket.Uh=null,WebSocket.WD={},WebSocket.zp=[],WebSocket.pL=0,WebSocket.NR=function(a){WebSocket.Ft(function(){WebSocket.Uh.C5(a)})},WebSocket.by=function(){if(!WebSocket.Uh&&(WebSocket.rL&&(window.hL=WebSocket.rL),window.hL)){var d=
document.createElement("div");d.id="webSocketContainer";d.style.position="absolute";WebSocket.oL()?(d.style.left="0px",d.style.top="0px"):(d.style.left="-100px",d.style.top="-100px");var e=document.createElement("div");e.id="webSocketFlash";d.appendChild(e);document.body.appendChild(d);a.OP(WEB_SOCKET_SWF_LOCATION,"webSocketFlash","1","1","10.0.0",null,null,{f4:!0,j$:!0,RZ:"always"},null,function(a){a.Gm||c.error("[WebSocket] swfobject.embedSWF failed")})}},WebSocket.IY=function(){setTimeout(function(){WebSocket.Uh=
document.getElementById("webSocketFlash");WebSocket.Uh.K7(location.href);WebSocket.Uh.T7(!!window.tY);for(var a=0;a<WebSocket.zp.length;++a)WebSocket.zp[a]();WebSocket.zp=[]},0)},WebSocket.HY=function(){setTimeout(function(){try{for(var a=WebSocket.Uh.R6(),e=0;e<a.length;++e)WebSocket.WD[a[e].P$].mL(a[e])}catch(f){c.error(f)}},0);return!0},WebSocket.GY=function(a){c.log(decodeURIComponent(a))},WebSocket.FY=function(a){c.error(decodeURIComponent(a))},WebSocket.Ft=function(a){WebSocket.Uh?a():WebSocket.zp.push(a)},
WebSocket.oL=function(){if(!window.navigator||!window.navigator.mimeTypes)return!1;var a=window.navigator.mimeTypes["application/x-shockwave-flash"];return a&&a.enabledPlugin&&a.enabledPlugin.filename?a.enabledPlugin.filename.match(/flashlite/i)?!0:!1:!1},window.uY||(window.addEventListener?window.addEventListener("load",function(){WebSocket.by()},!1):window.attachEvent("onload",function(){WebSocket.by()}))):c.error("Flash Player \x3e\x3d 10.0.0 is required.")}})();(function(a,d,e){function f(a){a&&
d.Transport.apply(this,arguments)}function g(){}a.Qi=f;d.util.inherit(f,d.Transport);f.prototype.open=function(){this.gb.Fj(!1);this.fw();this.get();this.gI();return this};f.prototype.BH=function(a){for(var c=[],e=0,f=a.length;e<f;e++)c.push(d.parser.encodePacket(a[e]));this.send(d.parser.encodePayload(c))};f.prototype.send=function(a){this.GH(a);return this};f.prototype.GH=function(a){function c(){4==this.readyState&&(this.onreadystatechange=g,f.K6=!1,200==this.status?f.gb.Fj(!1):f.Hh())}function d(){this.onload=
g;f.gb.Fj(!1)}var f=this;this.gb.Fj(!0);this.Wr=this.request("POST");e.XDomainRequest&&this.Wr instanceof XDomainRequest?this.Wr.onload=this.Wr.onerror=d:this.Wr.onreadystatechange=c;this.Wr.send(a)};f.prototype.close=function(){this.Hh();return this};f.prototype.request=function(a){var c=d.util.request(this.gb.Eo()),e=d.util.query(this.gb.options.query,"t\x3d"+ +new Date);c.open(a||"GET",this.Tr()+e,!0);if("POST"==a)try{c.setRequestHeader?c.setRequestHeader("Content-type","text/plain;charset\x3dUTF-8"):
c.contentType="text/plain"}catch(f){}return c};f.prototype.scheme=function(){return this.gb.options.Cm?"https":"http"};f.bm=function(a,c){try{var f=d.util.request(c),g=e.XDomainRequest&&f instanceof XDomainRequest,n=a&&a.options&&a.options.Cm?"https:":"http:",r=e.location&&n!=e.location.protocol;if(f&&(!g||!r))return!0}catch(q){}return!1};f.rs=function(a){return f.bm(a,!0)}})("undefined"!=typeof io?io.Transport:module.gc,"undefined"!=typeof io?io:module.parent.gc,this);(function(a,d){function e(a){d.Transport.Qi.apply(this,
arguments)}a.i4=e;d.util.inherit(e,d.Transport.Qi);e.prototype.name="htmlfile";e.prototype.get=function(){this.Bk=new (window[["Active"].concat("Object").join("X")])("htmlfile");this.Bk.open();this.Bk.write("\x3chtml\x3e\x3c/html\x3e");this.Bk.close();this.Bk.parentWindow.Mh=this;var a=this.Bk.createElement("div");a.className="socketio";this.Bk.body.appendChild(a);this.cg=this.Bk.createElement("iframe");a.appendChild(this.cg);var c=this,a=d.util.query(this.gb.options.query,"t\x3d"+ +new Date);this.cg.src=
this.Tr()+a;d.util.on(window,"unload",function(){c.pd()})};e.prototype.RD=function(a,c){a=a.replace(/\\\//g,"/");this.Qr(a);try{var d=c.getElementsByTagName("script")[0];d.parentNode.removeChild(d)}catch(e){}};e.prototype.pd=function(){if(this.cg){try{this.cg.src="about:blank"}catch(a){}this.Bk=null;this.cg.parentNode.removeChild(this.cg);this.cg=null;CollectGarbage()}};e.prototype.close=function(){this.pd();return d.Transport.Qi.prototype.close.call(this)};e.bm=function(a){if("undefined"!=typeof window&&
["Active"].concat("Object").join("X")in window)try{return new (window[["Active"].concat("Object").join("X")])("htmlfile")&&d.Transport.Qi.bm(a)}catch(c){}return!1};e.rs=function(){return!1};d.transports.push("htmlfile")})("undefined"!=typeof io?io.Transport:module.gc,"undefined"!=typeof io?io:module.parent.gc);(function(a,d,e){function f(){d.Transport.Qi.apply(this,arguments)}function g(){}a["xhr-polling"]=f;d.util.inherit(f,d.Transport.Qi);d.util.merge(f,d.Transport.Qi);f.prototype.name="xhr-polling";
f.prototype.SG=function(){return!1};f.prototype.open=function(){d.Transport.Qi.prototype.open.call(this);return!1};f.prototype.get=function(){function a(){4==this.readyState&&(this.onreadystatechange=g,200==this.status?(f.Qr(this.responseText),f.get()):f.Hh())}function c(){this.onerror=this.onload=g;f.ZB=1;f.Qr(this.responseText);f.get()}function d(){f.ZB++;!f.ZB||3<f.ZB?f.Hh():f.get()}if(this.Fr){var f=this;this.Nh=this.request();e.XDomainRequest&&this.Nh instanceof XDomainRequest?(this.Nh.onload=
c,this.Nh.onerror=d):this.Nh.onreadystatechange=a;this.Nh.send(null)}};f.prototype.Hh=function(){d.Transport.Qi.prototype.Hh.call(this);if(this.Nh){this.Nh.onreadystatechange=this.Nh.onload=this.Nh.onerror=g;try{this.Nh.abort()}catch(a){}this.Nh=null}};f.prototype.kw=function(a,c){var e=this;d.util.defer(function(){c.call(e)})};d.transports.push("xhr-polling")})("undefined"!=typeof io?io.Transport:module.gc,"undefined"!=typeof io?io:module.parent.gc,this);(function(a,d,e){function f(a){d.Transport["xhr-polling"].apply(this,
arguments);this.index=d.j.length;var c=this;d.j.push(function(a){c.RD(a)})}var g=e.document&&"MozAppearance"in e.document.documentElement.style;a["jsonp-polling"]=f;d.util.inherit(f,d.Transport["xhr-polling"]);f.prototype.name="jsonp-polling";f.prototype.GH=function(a){function c(){e();f.gb.Fj(!1)}function e(){f.cg&&f.form.removeChild(f.cg);try{z=document.createElement('\x3ciframe name\x3d"'+f.oB+'"\x3e')}catch(a){z=document.createElement("iframe"),z.name=f.oB}z.id=f.oB;f.form.appendChild(z);f.cg=
z}var f=this,g=d.util.query(this.gb.options.query,"t\x3d"+ +new Date+"\x26i\x3d"+this.index);if(!this.form){var r=document.createElement("form"),q=document.createElement("textarea"),v=this.oB="socketio_iframe_"+this.index,z;r.className="socketio";r.style.position="absolute";r.style.top="0px";r.style.left="0px";r.style.display="none";r.target=v;r.method="POST";r.setAttribute("accept-charset","utf-8");q.name="d";r.appendChild(q);document.body.appendChild(r);this.form=r;this.OO=q}this.form.action=this.Tr()+
g;e();this.OO.value=d.JSON.stringify(a);try{this.form.submit()}catch(B){}this.cg.attachEvent?z.onreadystatechange=function(){"complete"==f.cg.readyState&&c()}:this.cg.onload=c;this.gb.Fj(!0)};f.prototype.get=function(){var a=this,c=document.createElement("script"),e=d.util.query(this.gb.options.query,"t\x3d"+ +new Date+"\x26i\x3d"+this.index);this.Xa&&(this.Xa.parentNode.removeChild(this.Xa),this.Xa=null);c.async=!0;c.src=this.Tr()+e;c.onerror=function(){a.Hh()};e=document.getElementsByTagName("script")[0];
e.parentNode.insertBefore(c,e);this.Xa=c;g&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a);document.body.removeChild(a)},100)};f.prototype.RD=function(a){this.Qr(a);this.Fr&&this.get();return this};f.prototype.kw=function(a,c){var e=this;if(!g)return c.call(this);d.util.load(function(){c.call(e)})};f.bm=function(){return"document"in e};f.rs=function(){return!0};d.transports.push("jsonp-polling")})("undefined"!=typeof io?io.Transport:module.gc,"undefined"!=
typeof io?io:module.parent.gc,this);"function"===typeof define&&define.SZ&&define([],function(){return io})})();p=p||{};function s(){return arguments.callee.name||arguments.callee.toString().match(/^function ([^(]+)/)[1]}s.id=0|998*Math.random();s.uR=0|998*Math.random();
s.XF=function(a,c,d){for(var e=a.toString(),f=e.indexOf("("),g=e.indexOf(")"),f=e.substring(f+1,g),f=f.trim(),g=e.indexOf("{"),e=e.substring(g+1,e.lastIndexOf("}"));-1!=e.indexOf("this._super");)var g=e.indexOf("this._super"),h=e.indexOf("(",g),k=e.indexOf(")",h),k=e.substring(h+1,k),k=(k=k.trim())?",":"",l=arguments.callee.FJ(),e=e.substring(0,g)+l+"["+d+"]."+c+".call(this"+k+e.substring(h+1);return Function(f,e)};s.XF.FJ=s;s.qQ=function(){return this.id++};s.rQ=function(){return this.uR++};
(function(){var a=/\b_super\b/,c=document.ccConfig&&document.ccConfig.CLASS_RELEASE_MODE?document.ccConfig.CLASS_RELEASE_MODE:null;c&&console.log("release Mode");p.ra=function(){};p.ra.extend=function(d){function e(){this.Rb=s.rQ();this.ctor&&this.ctor.apply(this,arguments)}var f=this.prototype,g=Object.create(f),h=s.qQ();s[h]=f;var k={writable:!0,enumerable:!1,configurable:!0},l;for(l in d)c&&"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=s.XF(d[l],l,h),Object.defineProperty(g,
l,k)):"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=function(a,c){return function(){var d=this._super;this._super=f[a];var e=c.apply(this,arguments);this._super=d;return e}}(l,d[l]),Object.defineProperty(g,l,k)):"function"==typeof d[l]?(k.value=d[l],Object.defineProperty(g,l,k)):g[l]=d[l];g.Rb=null;e.id=h;k.value=h;Object.defineProperty(g,"__pid",k);e.prototype=g;k.value=e;Object.defineProperty(e.prototype,"constructor",k);e.extend=arguments.callee;e.k4=function(a){for(var c in a)g[c]=
a[c]};return e};Function.prototype.bind=Function.prototype.bind||function(a){var c=this;return function(){var f=Array.prototype.slice.call(arguments);return c.apply(a||null,f)}}})();p.m4=function(a,c){function d(){}d.prototype=c.prototype;a.Pw=c.prototype;a.prototype=new d;a.prototype.constructor=a};
p.RO=function(a,c,d){var e=arguments.callee.caller;if(e.Pw)return ret=e.Pw.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var f=Array.prototype.slice.call(arguments,2),g=!1,h=a.constructor;h;h=h.Pw&&h.Pw.constructor)if(h.prototype[c]===e)g=!0;else if(g)return h.prototype[c].apply(a,f);if(a[c]===e)return a.constructor.prototype[c].apply(a,f);throw Error("cc.base called from a method of one name to a method of a different name");};
p.w_=function(a,c){a||(a={});for(var d in c)a[d]=c[d];return a};p.pg=function(a,c){this.x=a||0;this.y=c||0};p.SD=function(a,c){this.w=a||0;this.G=c||0;this.MI=function(a){this.w=a};this.NI=function(a){this.G=a}};p.Zc=function(){return new p.SD(0,0)};
Object.defineProperties(p.SD.prototype,{x:{get:function(){return this.w},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0},y:{get:function(){return this.G},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0}});p.xX=function(a,c){p.log("cc.PointMake will be deprecated sooner or later. Use cc.p instead.");return new p.pg(a,c)};
p.a=function(a,c){return{x:a,y:c}};p.hZ=p.a;p.Mi=function(){return p.a(0,0)};p.DH=function(a,c){return a&&c?a.x===c.x&&a.y===c.y:!1};p.Sj=function(a,c){this.width=a||0;this.height=c||0};p.TD=function(a,c){this.wa=a||0;this.ha=c||0;this.rC=function(a){this.wa=a};this.gC=function(a){this.ha=a}};p.Hl=function(){return new p.TD(0,0)};
Object.defineProperties(p.TD.prototype,{width:{get:function(){return this.wa},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0},height:{get:function(){return this.ha},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0}});p.bY=function(a,c){p.log("cc.SizeMake will be deprecated sooner or later. Use cc.size instead.");return p.size(a,c)};
p.size=function(a,c){return{width:a,height:c}};p.Na=p.size;p.cl=function(){return p.size(0,0)};p.IF={yS:p.Zc(),aV:p.Hl()};Object.defineProperties(p,{EK:{get:function(){return p.IF.yS}},OK:{get:function(){return p.IF.aV}},CX:{get:function(){return p.rect(0,0,0,0)}}});p.$U=function(a,c){return a&&c?a.width==c.width&&a.height==c.height:!1};
p.Kf=function(a,c,d,e){var f=arguments.length;if(4===f)this.Oc=new p.pg(a||0,c||0),this.Na=new p.Sj(d||0,e||0);else if(1===f)this.Oc=new p.pg(a.Oc.x,a.Oc.y),this.Na=new p.Sj(a.Na.width,a.Na.height);else if(0===f)this.Oc=new p.pg(0,0),this.Na=new p.Sj(0,0);else if(2===f)this.Oc=new p.pg(a.x,a.y),this.Na=new p.Sj(c.width,c.height);else throw"unknown argument type";};p.JX=function(a,c,d,e){p.log("cc.RectMake will be deprecated sooner or later. Use cc.rect instead.");return p.rect(a,c,d,e)};
p.rect=function(a,c,d,e){var f=arguments.length;if(0===f)return new p.Kf(0,0,0,0);if(1===f)return new p.Kf(a.x,a.y,a.width,a.height);if(2===f)return new p.Kf(a.x,a.y,c.width,c.height);if(4===f)return new p.Kf(a,c,d,e);throw"unknown argument type";};p.na=p.rect;p.Lc=function(){return p.rect(0,0,0,0)};p.MH=function(a,c){return a&&c?p.DH(a.Oc,c.Oc)&&p.$U(a.Na,c.Na):!1};p.Bq=function(a){return a?0===a.x&&0===a.y&&0===a.width&&0===a.height:!1};
p.S6=function(a,c){return a&&c?!(a.x>=c.x||a.y>=c.y||a.x+a.width<=c.x+c.width||a.y+a.height<=c.y+c.height):!1};p.wm=function(a){return a.x+a.width};p.T6=function(a){return a.x+a.width/2};p.Jk=function(a){return a.x};p.xm=function(a){return a.y+a.height};p.U6=function(a){return a.y+a.height/2};p.Kk=function(a){return a.y};p.Eb=function(a,c){return c.x>=p.Jk(a)&&c.x<=p.wm(a)&&c.y>=p.Kk(a)&&c.y<=p.xm(a)};p.OS=function(a,c){return!(p.wm(a)<p.Jk(c)||p.wm(c)<p.Jk(a)||p.xm(a)<p.Kk(c)||p.xm(c)<p.Kk(a))};
p.V6=function(a,c){return!(a.x+a.width<c.x||c.x+c.width<a.x||a.y+a.height<c.y||c.y+c.height<a.y)};p.ow=function(a,c){var d=p.rect(0,0,0,0);d.x=Math.min(a.x,c.x);d.y=Math.min(a.y,c.y);d.width=Math.max(a.x+a.width,c.x+c.width)-d.x;d.height=Math.max(a.y+a.height,c.y+c.height)-d.y;return d};p.NS=function(a,c){var d=p.rect(Math.max(p.Jk(a),p.Jk(c)),Math.max(p.Kk(a),p.Kk(c)),0,0);d.width=Math.min(p.wm(a),p.wm(c))-p.Jk(d);d.height=Math.min(p.xm(a),p.xm(c))-p.Kk(d);return d};b=p.Kf.prototype;
b.MI=function(a){this.Oc.x=a};b.NI=function(a){this.Oc.y=a};b.yr=function(){return this.Na.width};b.rC=function(a){this.Na.width=a};b.sr=function(){return this.Na.height};b.gC=function(a){this.Na.height=a};
Object.defineProperties(p.Kf.prototype,{x:{get:function(){return this.Oc.x},set:function(a){this.MI(a)},enumerable:!0,configurable:!0},y:{get:function(){return this.Oc.y},set:function(a){this.NI(a)},enumerable:!0,configurable:!0},width:{get:function(){return this.yr()},set:function(a){this.rC(a)},enumerable:!0,configurable:!0},height:{get:function(){return this.sr()},set:function(a){this.gC(a)},enumerable:!0,configurable:!0}});var t=t||{};try{t.localStorage=window.localStorage,window.localStorage.setItem("storage",""),window.localStorage.removeItem("storage")}catch(da){"SECURITY_ERR"!==da.name&&"QuotaExceededError"!==da.name||console.log("Warning: localStorage isn't enabled. Please confirm browser cookie or privacy option"),t.localStorage=function(){}}
Object.defineProperties(t,{j_:{get:function(){var a={canvas:!0};p.ta.wc&&(a.opengl=!0);"ontouchstart"in document.documentElement||window.navigator.msPointerEnabled?a.touches=!0:"onmouseup"in document.documentElement&&(a.mouse=!0);"onkeyup"in document.documentElement&&(a.keyboard=!0);if(window.DeviceMotionEvent||window.DeviceOrientationEvent)a.accelerometer=!0;return a},enumerable:!0,configurable:!0},g6:{get:function(){var a=navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?!0:!1,c=navigator.userAgent.match(/android/i)||
navigator.platform.match(/android/i)?!0:!1,d=navigator.appVersion;-1!=navigator.appVersion.indexOf("Win")?d="Windows":-1!=navigator.appVersion.indexOf("Mac")?d="OS X":-1!=navigator.appVersion.indexOf("X11")?d="UNIX":-1!=navigator.appVersion.indexOf("Linux")?d="Linux":a?d="iOS":c&&(d="Android");return d},enumerable:!0,configurable:!0},platform:{get:function(){return"browser"},enumerable:!0,configurable:!0},version:{get:function(){return p.zs},enumerable:!0,configurable:!0}});t.t0=function(){};
t.S_=function(){};t.v7=function(){};p.zs="Cocos2d-html5-v2.2.2";p.Ts=0;p.aD=p.a(0,0);p.KJ=0.5;p.bW=1;p.PK=1;p.BK=0;p.JD=0;p.dY=0;p.eY=0;p.FX=1;p.EX="-hd";p.dL=1;p.Rj=0;p.ZX=0;p.$W=0;p.ZW=0;p.sx=1;p.lW=p.zs+"-canvas";p.zv={platform:t.platform};p.R_=function(){for(var a in t)p.log(a+" \x3d "+t[a])};p.ys=1;p.cD=1;p.YF=function(a,c){for(var d=["webgl","experimental-webgl","webkit-3d","moz-webgl"],e=null,f=0;f<d.length;++f){try{e=a.getContext(d[f],c)}catch(g){}if(e)break}return e};p.ta={};p.ta.yV=["baidubrowser","opera","firefox","chrome","safari"];
(function(){p.ta.ua=navigator.userAgent.toLowerCase();p.ta.platform=navigator.platform.toLowerCase();p.ta.Cj=-1!=p.ta.ua.indexOf("mobile")||-1!=p.ta.ua.indexOf("android");p.ta.type=function(){var a=p.ta.ua.match(/micromessenger|qqbrowser|mqqbrowser|ucbrowser|360browser|baidubrowser|maxthon|ie|opera|firefox/)||p.ta.ua.match(/chrome|safari/);return a&&0<a.length?(a=a[0],"micromessenger"==a?"wechat":a):"unknow"}();p.ta.mode="ie"==p.ta.type&&document.documentMode;document.ccConfig||(document.ccConfig=
{});p.wA=parseInt(document.ccConfig.renderMode)||0;var a=-1==p.ta.yV.indexOf(p.ta.type);1===p.wA||0===p.wA&&(p.ta.Cj||a)?p.ta.wc=!1:(p.ta.wc=null!=window.xY,a=document.createElement("Canvas"),a=p.YF(a,{stencil:!0,preserveDrawingBuffer:!0}),p.ta.wc=null!=a);2!==p.wA||p.ta.wc||(p.cy=!0);var a=p.ta,c;try{c=new (window.AudioContext||window.webkitAudioContext||window.mozAudioContext)?!0:!1}catch(d){c=!1}a.Z9=c;p.ta.d6=function(a){if(this.Cj){var c=p.N.d().Cb,d=c.width+"px",c=c.height+"px",h=p.Mj("div");
h.style.backgroundColor="#ffffff";h.style.width=d;h.style.height=c;h.style.BV=1E3;h.style.position="absolute";h.style.top="0px";h.style.left="0px";h.id="cocos2d-browser";var k=p.Mj("iframe");k.src=a;k.style.width=d;k.style.height=c;k.setAttribute("frameborder","no");k.setAttribute("scrolling","no");h.appendChild(k);k.onload=function(){var a=document.createElement("img");a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5OERBMEM3OUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5OERBMEM3QUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjk4REEwQzc3RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjk4REEwQzc4RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+NwBuoAAAA/tJREFUeNrEWF0sW3EUb6+28zFhbGadsBaNhazV+kpDYhFWKRGWbHvwFV5IvPiIFw9evElEPEiWSUgsIWoIglhmUomPxj6aKC0zKVJjtPU5o9j5J7dLdbf33jKc5Jfc3v+v5/+755x7/j1lMoiNBRDh4AO88HvO2m+ACbAC+AJQAyz2JCbBFyMBWQA/xv+3DUAXLuivudhcY4BMwCuAB+NqDPmNAnAAOsCZvQgk4BnjeiwEwAbM2YoQA14yrteQEANgDcML7gXjZgw9OAuJkADu3JAIb7Q/hr+GtCwuLs6LDq+iooLvhBAREhFEl11ZWRne0tIiIeNIpVKv4uJi4dTUVApNt0EY3ohILSIiwqO7u1sql8vD8vLyJJ2dnXH2HDabzczPz3/Y1taWzOfz78XExDxSq9Vyd3d3jMK9F2pWr6lEtLa2RmVnZ4tt7w0NDWlTU1OVtkK7urqSQ0NDzzW5hYWFjcTExAGDwXDkyD+VSkZ7e3tsWlpamP19mUwWplQqk9B1UlKST3NzczxE4K49D4mCiDwn24PyPMjIyHjs6urKIVpLSEgInp6eZsM6Kzw8nEvEMZvNBxC1BbI9KCMhkUgUy8vLRpL1QIFA4EcSyZmcnJzpS4mYnZ3dj46O7p2fn193xIGi/CeiFovlFIp5pqGhYZ5qD1qFiQxCjk1OTsqEQmEAFReloL+/X0sVAadFWE2n02VA+O+TcVZXV01QkO8ODw9P6fjEnO2zvb2936g4XC7XG4rWm65P2iL8/f05kN8nBQUFQkqnGMYcGBjIys3N5dLxjY7ydDrE6urqsNLSUqmbmxuH1tOBkMzMTIHRaNxSqVTmS4soKyvjFRUViTw9PV2dTR901WAOh7M/MjKyeeHCbGpqEhcWFkY5Wl9aWtpUKBRaONziSbsii/Xm5OTk7EIdU6/X7zpaW1xc/Al5HxkfH9/e2dk5rqmpeUrE6+vr06ADzpEIlI5kMjFwPhh5PB5DJBKdK7KDg4Oj2tpaVUdHxw/0eWxszIjyj8Jvy4N60FdVVX2Grnt4dkaowYJESAG3yaLR09Oz5uvrexwbGxuAR2erpKTkI6RqxW5DM6RnLT09PQQV5vDwsDYlJWUU+I4EIDMhEQLAA6q0DA4OrqMCg/c/qL6+XtXY2Kgn4sGJuavRaFbFYrFPeXn5FIj6ReFa64KnIpJOpaMK39vbM9XV1X13lF9kc3Nz+xMTEwZo89s03A4ycRE1N/RjF/WPKgyfDRU39Gu7w1qYyNYAtwDB1yhgGPDBfgzU4bMi7xoEjAI6iWZRdGMGH80Cr2goRlP5W8B7qwBHfw1YO6kEH4yC8EnJ5QKbnuDFh17nr4BPRP9P/BFgAHo7ZNgI9EbHAAAAAElFTkSuQmCC";
h.appendChild(a);a.style.BV=1E3;a.style.position="absolute";a.style.bottom="10px";a.style.right="10px";a.onclick=function(){h.remove()}};(a=document.getElementById(document.ccConfig.tag).parentNode)&&a.appendChild(h)}else window.open(a)}})();p.KX=function(){return"undefined"===p.cy?!1:p.cy};
p.zb=function(a){var c=this==p?document:this;if(a=a instanceof HTMLElement?a:c.querySelector(a))a.find=a.find||p.zb,a.jB=a.jB||function(a){return this.className.match(RegExp("(\\s|^)"+a+"(\\s|$)"))},a.MF=a.MF||function(a){this.jB(a)||(this.className&&(this.className+=" "),this.className+=a);return this},a.dT=a.dT||function(a){this.jB(a)&&(this.className=this.className.replace(a,""));return this},a.remove=a.remove||function(){this.parentNode&&this.parentNode.removeChild(this);return this},a.$l=a.$l||
function(a){a.appendChild(this);return this},a.HS=a.HS||function(a){a.childNodes[0]?a.insertBefore(this,a.childNodes[0]):a.appendChild(this);return this},a.Im=a.Im||function(){this.style[p.zb.mV]=p.zb.translate(this.position)+p.zb.rotate(this.rotation)+p.zb.scale(this.scale)+p.zb.Pk(this.Pk);return this},a.position=a.position||{x:0,y:0},a.rotation=a.rotation||0,a.scale=a.scale||{x:1,y:1},a.Pk=a.Pk||{x:0,y:0},a.zC=function(a,c){this.position.x=a;this.position.y=c;this.Im()},a.rotate=function(a){this.rotation=
a;this.Im();return this},a.resize=function(a,c){this.scale.x=a;this.scale.y=c;this.Im();return this},a.AI=function(a,c){this.Pk.x=a;this.Pk.y=c;this.Im()};return a};switch(p.ta.type){case "firefox":p.zb.Oo="Moz";p.zb.zo=!0;break;case "chrome":case "safari":p.zb.Oo="webkit";p.zb.zo=!0;break;case "opera":p.zb.Oo="O";p.zb.zo=!1;break;case "ie":p.zb.Oo="ms";p.zb.zo=!1;break;default:p.zb.Oo="webkit",p.zb.zo=!0}p.zb.mV=p.zb.Oo+"Transform";
p.zb.translate=p.zb.zo?function(a){return"translate3d("+a.x+"px, "+a.y+"px, 0) "}:function(a){return"translate("+a.x+"px, "+a.y+"px) "};p.zb.rotate=p.zb.zo?function(a){return"rotateZ("+a+"deg) "}:function(a){return"rotate("+a+"deg) "};p.zb.scale=function(a){return"scale("+a.x+", "+a.y+") "};p.zb.Pk=function(a){return"skewX("+-a.x+"deg) skewY("+a.y+"deg)"};p.Mj=function(a){return p.zb(document.createElement(a))};
p.zb.m0=function(a){var c=0,d=0;do c+=a.offsetLeft,d+=a.offsetTop;while(a=a.offsetParent);return{x:c,y:d}};p.B=function(a){var c=a.constructor?new a.constructor:{},d;for(d in a){var e=a[d];c[d]="object"!=typeof e||!e||e instanceof p.I||e instanceof HTMLElement?e:p.B(e)}return c};p.XZ=function(){};p.fD=p.fD||!1;
p.OM=function(a){var c=document.getElementById("logInfoList");if(!c){var d=document.createElement("Div");d.setAttribute("id","logInfoDiv");p.canvas.parentNode.appendChild(d);d.setAttribute("width","200");d.setAttribute("height",p.canvas.height);d.style.zIndex="99999";d.style.position="absolute";d.style.top="0";d.style.left="0";c=document.createElement("ul");d.appendChild(c);c.setAttribute("id","logInfoList");c.style.height=p.canvas.height+"px";c.style.color="#fff";c.style.textAlign="left";c.style.listStyle=
"disc outside";c.style.fontSize="12px";c.style.fontFamily="arial";c.style.padding="0 0 0 20px";c.style.margin="0";c.style.textShadow="0 0 3px #000";c.style.zIndex="99998";c.style.position="absolute";c.style.top="0";c.style.left="0";c.style.overflowY="hidden";var e=document.createElement("Div");d.appendChild(e);e.style.width="200px";e.style.height=p.canvas.height+"px";e.style.opacity="0.1";e.style.background="#fff";e.style.border="1px solid #dfdfdf";e.style.borderRadius="8px"}d=document.createElement("li");
d.innerHTML=a;0==c.childNodes.length?c.appendChild(d):c.insertBefore(d,c.childNodes[0])};p.log=function(a){p.fD?p.OM(a):console.log.apply(console,arguments)};p.fX=function(a){console.log(a)};p.us=function(a,c){console.assert?console.assert(a,c):a||c&&alert(c)};p.gR=function(){0==p.ws?(p.log=function(){},p.mH=function(){},p.lH=function(){},p.us=function(){}):1==p.ws?(p.mH=p.log,p.lH=function(){}):1<p.ws&&(p.mH=p.log,p.lH=p.log)};p.hK=0;p.gK=1;p.iK=2;p.lK=3;p.jK=4;p.sK=5;p.rK=6;p.nK=7;p.mK=8;p.kK=9;
p.qK=10;p.fK=11;p.oK=12;p.pK=13;
p.dK={ZZ:8,l$:9,RP:13,shift:16,E_:17,alt:18,pause:19,k_:20,escape:27,D6:33,C6:34,end:35,home:36,left:37,C$:38,right:39,M_:40,r4:45,sW:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,D:65,g:66,qa:67,za:68,T_:69,Lv:70,h:71,$d:72,j4:73,j:74,l5:75,u5:76,G5:77,qH:78,Z5:79,a:80,Q6:81,i:82,Mh:83,k$:84,Ca:85,ca:86,qJ:87,x:88,y:89,z:90,N5:96,O5:97,P5:98,Q5:99,R5:100,S5:101,T5:102,U5:103,V5:104,W5:105,"*":106,"+":107,"-":109,numdel:110,"/":111,$_:112,d0:113,e0:114,f0:115,g0:116,h0:117,i0:118,j0:119,k0:120,
a0:121,b0:122,c0:123,Y5:144,y7:145,z7:186,",":186,V_:187,"\x3d":187,";":188,v_:188,F_:189,".":190,H6:190,r0:191,c4:192,"[":219,e6:219,"]":221,u_:221,YZ:220,quote:222,Q9:32};p.Rh=-1;p.PI=Math.PI;p.VJ=parseFloat("3.402823466e+38F");p.LK=p.PI/180;p.JJ=180/p.PI;p.cL=4294967295;p.$X=function(a,c,d){if("object"==typeof d&&"undefined"!=typeof d.x&&"undefined"!=typeof d.y){var e=d[a];d[a]=d[c];d[c]=e}else p.log("cc.SWAP is being modified from original macro, please check usage")};p.w5=function(a,c,d){return a+(c-a)*d};p.BX=function(){return 2*(Math.random()-0.5)};p.AX=function(){return Math.random()};p.Ki=function(a){return a*p.LK};p.Ex=function(a){return a*p.JJ};
p.bl=Number.MAX_VALUE-1;p.he=p.BK?1:770;p.ge=771;p.yx=function(a){a.sc&&(a.sc.Me(),a.sc.jg())};p.FW=function(){};p.rW=function(){};p.ah=function(){p.zh+=1};p.Us=1.192092896E-7;p.gd=p.sx?function(){return p.N.d().nl}:function(){return 1};p.DK=function(a){var c=p.gd();return p.a(a.x*c,a.y*c)};p.BY=function(a,c){var d=p.gd();c.w=a.x*d;c.G=a.y*d};p.Jx=function(a){var c=p.gd();return p.size(a.width*c,a.height*c)};p.XX=function(a){var c=p.gd();return p.size(a.width/c,a.height/c)};
p.$x=function(a,c){var d=p.gd();c.wa=a.width/d;c.ha=a.height/d};p.vX=function(a){var c=p.gd();return p.a(a.x/c,a.y/c)};p.Et=function(a,c){var d=p.gd();c.w=a.x/d;c.G=a.y/d};p.kp=p.sx?function(a){var c=p.gd();return p.rect(a.x/c,a.y/c,a.width/c,a.height/c)}:function(a){return a};p.Tm=p.sx?function(a){var c=p.gd();return p.rect(a.x*c,a.y*c,a.width*c,a.height*c)}:function(a){return a};p.MC=function(){if(p.s7==p.Tj){var a=p.M.getError();a&&p.log("WebGL error "+a)}};p.PX=0;p.OX=1;p.MX=2;p.NX=3;p.QX=4;p.RX=5;p.LX=6;var Uint8Array=Uint8Array||Array;
if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){var ha=document.createElement("script");ha.type="text/vbscript";ha.textContent='\x3c!-- IEBinaryToArray_ByteStr --\x3e\r\nFunction IEBinaryToArray_ByteStr(Binary)\r\n   IEBinaryToArray_ByteStr \x3d CStr(Binary)\r\nEnd Function\r\nFunction IEBinaryToArray_ByteStr_Last(Binary)\r\n   Dim lastIndex\r\n   lastIndex \x3d LenB(Binary)\r\n   if lastIndex mod 2 Then\r\n       IEBinaryToArray_ByteStr_Last \x3d Chr( AscB( MidB( Binary, lastIndex, 1 ) ) )\r\n   Else\r\n       IEBinaryToArray_ByteStr_Last \x3d ""\r\n   End If\r\nEnd Function\r\n';document.body.appendChild(ha);
p.kE=function(a){for(var c={},d=0;256>d;d++)for(var e=0;256>e;e++)c[String.fromCharCode(d+256*e)]=String.fromCharCode(d)+String.fromCharCode(e);d=IEBinaryToArray_ByteStr(a);a=IEBinaryToArray_ByteStr_Last(a);return d.replace(/[\s\S]/g,function(a){return c[a]})+a}}
p.hd=p.ra.extend({Xi:null,vk:null,dM:null,Uy:null,Sn:null,oh:null,Np:"",ctor:function(){this.Xi={};this.vk={};this.oh=[];this.oh.push(this.Np);this.Sn=[];this.Sn.push("")},N6:function(){this.oh=[]},L0:function(a){a=this.Td(a);return this.Xi.hasOwnProperty(a)?this.Xi[a]:this.LM(a)},ju:function(){return window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP")},nV:function(a){this.Xi.hasOwnProperty(a)&&delete this.Xi[a]},ES:function(a){a=this.Td(a);var c=this,d=this.ju();d.open("GET",
a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","x-user-defined"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=p.kE(d.responseBody);e&&(c.Xi[a]=c.Xu(e))}else p.Mb.d().qm(a);p.Mb.d().Jh()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dx-user-defined"),d.onload=function(){var e=d.responseText;e?c.Xi[a]=c.Xu(e):p.Mb.d().qm(a);p.Mb.d().Jh()});d.send(null)},LM:function(a){var c=this.ju();
c.open("GET",a,!1);var d=null;if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){c.setRequestHeader("Accept-Charset","x-user-defined");c.send(null);if(200!=c.status)return null;if(c=p.kE(c.responseBody))d=this.Xu(c),this.Xi[a]=d}else{c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dx-user-defined");c.send(null);if(200!=c.status)return null;d=this.Xu(c.responseText);this.Xi[a]=d}return d},Xu:function(a){if(!a)return null;for(var c=new Uint8Array(a.length),d=0;d<
a.length;d++)c[d]=a.charCodeAt(d)&255;return c},pV:function(a){a=this.Td(a);this.vk.hasOwnProperty(a)&&delete this.vk[a]},GS:function(a){a=this.Td(a);var c=this,d=this.ju();d.open("GET",a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","utf-8"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=d.responseText;e&&(c.vk[a]=e)}else p.Mb.d().qm(a);p.Mb.d().Jh()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dutf-8"),
d.onload=function(){d.responseText?c.vk[a]=d.responseText:p.Mb.d().qm(a);p.Mb.d().Jh()});d.send(null)},NM:function(a){var c=this.ju();c.open("GET",a,!1);var d=null;/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?c.setRequestHeader("Accept-Charset","utf-8"):c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dutf-8");c.send(null);if(200!=c.status)return null;(d=c.responseText)&&(this.vk[a]=d);return d},FG:function(a){a=this.Td(a);return this.vk.hasOwnProperty(a)?this.vk[a]:
this.NM(a)},r1:function(){},p7:function(){},EH:!0,s0:function(a){return a},Td:function(a){var c=!1;a=this.oM(a);for(var d,e=0;e<this.oh.length;e++){for(var f=this.oh[e],g=0;g<this.Sn.length;g++)if(d=this.pM(a,this.Sn[g],f)){c=!0;break}if(c)break}return c?d:a},A5:function(a){var c=this.Td(a);if(0<c.length){var c=p.Qj.d().parse(c),d=parseInt(c.metadata.version);1!=d?p.log("cocos2d: ERROR: Invalid filenameLookup dictionary version: "+d+". Filename: "+a):this.aU(c.filenames)}},aU:function(a){this.Uy=
a},wG:function(a,c){var d;if(a)return d=c.substring(0,c.lastIndexOf("/")+1),d+a;d=c.substring(0,c.lastIndexOf("."));return d+".png"},k9:function(a){this.Sn=a},e3:function(){return this.Sn},j9:function(a){this.oh=a},c3:function(){return this.oh},V2:function(){return this.dM},e9:function(){},I_:function(a){p.log("dictionaryWithContentsOfFile is deprecated. Use createDictionaryWithContentsOfFile instead");return this.rP(a)},rP:function(a){return p.Qj.d().parse(a)},t3:function(a){return this.FG(a)},Dv:function(a){return p.Qj.d().parse(a)},
W3:function(){return""},U8:function(a){p.EH=a},V4:function(){return p.EH},Qz:"",W2:function(){return this.Qz},f9:function(a){this.Qz=a},oM:function(a){var c=null;(c=this.Uy?this.Uy[a]:null)&&0!==c.length?p.log("FOUND NEW FILE NAME: "+c):c=a;return c},pM:function(a,c,d){var e;e=this.Qz;a&&0<a.length&&(0===a.indexOf("/")||0===a.indexOf("\\"))?e="":0<e.length&&"\\"!=e[e.length-1]&&"/"!=e[e.length-1]&&(e+="/");var f=a,g="",h=a.lastIndexOf("/");-1!=h&&(g=a.substr(0,h+1),f=a.substr(h+1));a=d;0<a.length&&
a.lastIndexOf("/")!==a.length-1&&(a+="/");a=a+g+c;0<a.length&&a.lastIndexOf("/")!==a.length-1&&(a+="/");a+=f;return e+=a},VY:function(){},zI:function(a){var c=!1;this.oh=[];for(var d=0;d<a.length;d++){var e=a[d],f;this.cH(e)||(f=this.Np);e=f+e;0<e.length&&"/"!=e[e.length-1]&&(e+="/");c||e!=this.Np||(c=!0);this.oh.push(e)}c||this.oh.push(this.Np)},HZ:function(a){var c;this.cH(a)||(c=this.Np);a=c+a;0<a.length&&"/"!=a[a.length-1]&&(a+="/");this.oh.push(a)},d3:function(){},cH:function(a){return"/"==a[0]}});
p.$B=null;p.hd.d=function(){null==p.$B&&(p.$B=new p.hd);return p.$B};p.lc=function(a,c,d){switch(arguments.length){case 0:this.g=this.h=this.i=0;break;case 1:a&&a instanceof p.lc?(this.i=0|a.i||0,this.h=0|a.h||0,this.g=0|a.g||0):this.g=this.h=this.i=0;break;case 3:this.i=0|a||0;this.h=0|c||0;this.g=0|d||0;break;default:throw"unknown argument type";}};p.k=function(a,c,d){return new p.lc(a,c,d)};p.v4=function(a){a=a||0;var c=new p.lc;c.i=a&255;c.h=a>>8&255;c.g=a>>16&255;return c};p.xv=p.k;p.d_=function(a,c){return a.i===c.i&&a.h===c.h&&a.g===c.g};
Object.defineProperties(p,{vY:{get:function(){return p.k(255,255,255)}},yY:{get:function(){return p.k(255,255,0)}},ZV:{get:function(){return p.k(0,0,255)}},OW:{get:function(){return p.k(0,255,0)}},DX:{get:function(){return p.k(255,0,0)}},cX:{get:function(){return p.k(255,0,255)}},XV:{get:function(){return p.k(0,0,0)}},mX:{get:function(){return p.k(255,127,0)}},NW:{get:function(){return p.k(166,166,166)}}});p.kb=function(){return new p.lc(255,255,255)};p.T$=function(){return new p.lc(255,255,0)};
p.blue=function(){return new p.lc(0,0,255)};p.green=function(){return new p.lc(0,255,0)};p.red=function(){return new p.lc(255,0,0)};p.H5=function(){return new p.lc(255,0,255)};p.$Z=function(){return new p.lc(0,0,0)};p.f6=function(){return new p.lc(255,127,0)};p.yo=function(){return new p.lc(166,166,166)};p.Ab=function(a,c,d,e){this.i=0|a;this.h=0|c;this.g=0|d;this.D=0|e};p.t=function(a,c,d,e){return new p.Ab(a,c,d,e)};p.NA=p.t;p.zd=function(a,c,d,e){this.i=a;this.h=c;this.g=d;this.D=e};
p.yv=function(a,c,d,e){return new p.zd(a,c,d,e)};p.g_=function(a){return new p.zd(a.i/255,a.h/255,a.g/255,1)};p.h_=function(a){return new p.zd(a.i/255,a.h/255,a.g/255,a.D/255)};p.e_=function(a){return new p.Ab(0|255*a.i,0|255*a.h,0|255*a.g,0|255*a.D)};p.f_=function(a,c){return a.i==c.i&&a.h==c.h&&a.g==c.g&&a.D==c.D};p.nb=function(a,c){this.x=a||0;this.y=c||0};p.Dt=function(a,c){return new p.nb(a,c)};p.Cc=function(a,c,d){this.x=a||0;this.y=c||0;this.z=d||0};
p.M$=function(a,c,d){return new p.Cc(a,c,d)};p.hc=function(a,c){this.Ca=a||0;this.ca=c||0};p.r$=function(a,c){return new p.hc(a,c)};p.yX=function(a,c,d){a||new p.nb(0,0);this.color=c||new p.Ab(0,0,0,0);this.size=d||0};p.ft=function(a,c,d,e){this.Fa=a||new p.nb(0,0);this.Ba=c||new p.nb(0,0);this.ya=d||new p.nb(0,0);this.Ha=e||new p.nb(0,0)};p.zX=function(a,c,d,e){this.ya=a||new p.Cc(0,0,0);this.Ha=c||new p.Cc(0,0,0);this.Fa=d||new p.Cc(0,0,0);this.Ba=e||new p.Cc(0,0,0)};
p.YJ=function(a,c){this.x=a;this.y=c};p.h=function(a,c){return new p.YJ(a,c)};p.Gb=function(a,c,d){this.n=a||new p.nb(0,0);this.F=c||new p.Ab(0,0,0,0);this.r=d||new p.hc(0,0)};p.At=function(){this.n=new p.nb(0,0);this.F=new p.zd(0,0,0,0);this.r=new p.hc(0,0)};p.cc=function(a,c,d){this.n=a||new p.Cc(0,0,0);this.F=c||new p.Ab(0,0,0,0);this.r=d||new p.hc(0,0)};p.oc=function(a,c,d){this.D=a||new p.Gb;this.g=c||new p.Gb;this.qa=d||new p.Gb};
p.eL=function(){var a=new p.Gb(new p.nb(0,0),new p.Ab(0,0,0,255),new p.hc(0,0)),c=new p.Gb(new p.nb(0,0),new p.Ab(0,0,0,255),new p.hc(0,0)),d=new p.Gb(new p.nb(0,0),new p.Ab(0,0,0,255),new p.hc(0,0)),e=new p.Gb(new p.nb(0,0),new p.Ab(0,0,0,255),new p.hc(0,0));this.ya=a||new p.Gb;this.Ha=c||new p.Gb;this.Fa=d||new p.Gb;this.Ba=e||new p.Gb};p.qY=function(){return new p.eL};p.Qb=function(a,c,d,e){this.Fa=a||new p.cc;this.ya=c||new p.cc;this.Ba=d||new p.cc;this.Ha=e||new p.cc};
p.Yx=function(){return new p.Qb(new p.cc(new p.Cc(0,0,0),new p.Ab(0,0,0,255),new p.hc(0,0)),new p.cc(new p.Cc(0,0,0),new p.Ab(0,0,0,255),new p.hc(0,0)),new p.cc(new p.Cc(0,0,0),new p.Ab(0,0,0,255),new p.hc(0,0)),new p.cc(new p.Cc(0,0,0),new p.Ab(0,0,0,255),new p.hc(0,0)))};
p.Xx=function(a){return a?new p.Qb(new p.cc(new p.Cc(a.Fa.n.x,a.Fa.n.y,a.Fa.n.z),new p.Ab(a.Fa.F.i,a.Fa.F.h,a.Fa.F.g,a.Fa.F.D),new p.hc(a.Fa.r.Ca,a.Fa.r.ca)),new p.cc(new p.Cc(a.ya.n.x,a.ya.n.y,a.ya.n.z),new p.Ab(a.ya.F.i,a.ya.F.h,a.ya.F.g,a.ya.F.D),new p.hc(a.ya.r.Ca,a.ya.r.ca)),new p.cc(new p.Cc(a.Ba.n.x,a.Ba.n.y,a.Ba.n.z),new p.Ab(a.Ba.F.i,a.Ba.F.h,a.Ba.F.g,a.Ba.F.D),new p.hc(a.Ba.r.Ca,a.Ba.r.ca)),new p.cc(new p.Cc(a.Ha.n.x,a.Ha.n.y,a.Ha.n.z),new p.Ab(a.Ha.F.i,a.Ha.F.h,a.Ha.F.g,a.Ha.F.D),new p.hc(a.Ha.r.Ca,
a.Ha.r.ca))):p.Yx()};p.sY=function(a){if(!a)return[];for(var c=[],d=0;d<a.length;d++)c.push(p.Xx(a[d]));return c};p.rY=function(a,c,d,e){this.ya=a||new p.At;this.Ha=c||new p.At;this.Fa=d||new p.At;this.Ba=e||new p.At};p.Yk=function(a,c){this.src=a;this.sb=c};p.$V=function(){return new p.Yk(1,0)};p.zk=function(a){var c=a.i.toString(16),d=a.h.toString(16),e=a.g.toString(16);return"#"+(16>a.i?"0"+c:c)+(16>a.h?"0"+d:d)+(16>a.g?"0"+e:e)};
p.ta.wc&&(p.Ab=function(a,c,d,e,f,g){this.Bb=f||new ArrayBuffer(p.Ab.BYTES_PER_ELEMENT);this.ub=g||0;f=this.Bb;g=this.ub;var h=Uint8Array.BYTES_PER_ELEMENT;this.Hz=new Uint8Array(f,g,1);this.az=new Uint8Array(f,g+h,1);this.my=new Uint8Array(f,g+2*h,1);this.ey=new Uint8Array(f,g+3*h,1);this.Hz[0]=a||0;this.az[0]=c||0;this.my[0]=d||0;this.ey[0]=e||0},p.Ab.BYTES_PER_ELEMENT=4,Object.defineProperties(p.Ab.prototype,{i:{get:function(){return this.Hz[0]},set:function(a){this.Hz[0]=a},enumerable:!0},h:{get:function(){return this.az[0]},
set:function(a){this.az[0]=a},enumerable:!0},g:{get:function(){return this.my[0]},set:function(a){this.my[0]=a},enumerable:!0},D:{get:function(){return this.ey[0]},set:function(a){this.ey[0]=a},enumerable:!0}}),p.zd=function(a,c,d,e,f,g){this.Bb=f||new ArrayBuffer(p.zd.BYTES_PER_ELEMENT);this.ub=g||0;f=this.Bb;g=this.ub;var h=Float32Array.BYTES_PER_ELEMENT;this.Gz=new Float32Array(f,g,1);this.Gz[0]=a||0;this.$y=new Float32Array(f,g+h,1);this.$y[0]=c||0;this.ly=new Float32Array(f,g+2*h,1);this.ly[0]=
d||0;this.dy=new Float32Array(f,g+3*h,1);this.dy[0]=e||0},p.zd.BYTES_PER_ELEMENT=16,Object.defineProperties(p.zd.prototype,{i:{get:function(){return this.Gz[0]},set:function(a){this.Gz[0]=a},enumerable:!0},h:{get:function(){return this.$y[0]},set:function(a){this.$y[0]=a},enumerable:!0},g:{get:function(){return this.ly[0]},set:function(a){this.ly[0]=a},enumerable:!0},D:{get:function(){return this.dy[0]},set:function(a){this.dy[0]=a},enumerable:!0}}),p.nb=function(a,c,d,e){this.Bb=d||new ArrayBuffer(p.nb.BYTES_PER_ELEMENT);
this.ub=e||0;this.Wl=new Float32Array(this.Bb,this.ub,1);this.Xl=new Float32Array(this.Bb,this.ub+4,1);this.Wl[0]=a||0;this.Xl[0]=c||0},p.nb.BYTES_PER_ELEMENT=8,Object.defineProperties(p.nb.prototype,{x:{get:function(){return this.Wl[0]},set:function(a){this.Wl[0]=a},enumerable:!0},y:{get:function(){return this.Xl[0]},set:function(a){this.Xl[0]=a},enumerable:!0}}),p.Cc=function(a,c,d,e,f){this.Bb=e||new ArrayBuffer(p.Cc.BYTES_PER_ELEMENT);this.ub=f||0;e=this.Bb;f=this.ub;this.Wl=new Float32Array(e,
f,1);this.Wl[0]=a||0;this.Xl=new Float32Array(e,f+Float32Array.BYTES_PER_ELEMENT,1);this.Xl[0]=c||0;this.EA=new Float32Array(e,f+2*Float32Array.BYTES_PER_ELEMENT,1);this.EA[0]=d||0},p.Cc.BYTES_PER_ELEMENT=12,Object.defineProperties(p.Cc.prototype,{x:{get:function(){return this.Wl[0]},set:function(a){this.Wl[0]=a},enumerable:!0},y:{get:function(){return this.Xl[0]},set:function(a){this.Xl[0]=a},enumerable:!0},z:{get:function(){return this.EA[0]},set:function(a){this.EA[0]=a},enumerable:!0}}),p.hc=
function(a,c,d,e){this.Bb=d||new ArrayBuffer(p.hc.BYTES_PER_ELEMENT);this.ub=e||0;this.pA=new Float32Array(this.Bb,this.ub,1);this.xA=new Float32Array(this.Bb,this.ub+4,1);this.pA[0]=a||0;this.xA[0]=c||0},p.hc.BYTES_PER_ELEMENT=8,Object.defineProperties(p.hc.prototype,{Ca:{get:function(){return this.pA[0]},set:function(a){this.pA[0]=a},enumerable:!0},ca:{get:function(){return this.xA[0]},set:function(a){this.xA[0]=a},enumerable:!0}}),p.ft=function(a,c,d,e,f,g){this.Bb=f||new ArrayBuffer(p.ft.BYTES_PER_ELEMENT);
this.ub=g||0;f=this.Bb;g=p.nb.BYTES_PER_ELEMENT;this.eo=a?new p.nb(a.x,a.y,f,0):new p.nb(0,0,f,0);this.ho=c?new p.nb(c.x,c.y,f,g):new p.nb(0,0,f,g);this.en=d?new p.nb(d.x,d.y,f,2*g):new p.nb(0,0,f,2*g);this.gn=e?new p.nb(e.x,e.y,f,3*g):new p.nb(0,0,f,3*g)},p.ft.BYTES_PER_ELEMENT=32,Object.defineProperties(p.ft.prototype,{Fa:{get:function(){return this.eo},set:function(a){this.eo.x=a.x;this.eo.y=a.y},enumerable:!0},Ba:{get:function(){return this.ho},set:function(a){this.ho.x=a.x;this.ho.y=a.y},enumerable:!0},
ya:{get:function(){return this.en},set:function(a){this.en.x=a.x;this.en.y=a.y},enumerable:!0},Ha:{get:function(){return this.gn},set:function(a){this.gn.x=a.x;this.gn.y=a.y},enumerable:!0}}),p.cc=function(a,c,d,e,f){this.Bb=e||new ArrayBuffer(p.cc.BYTES_PER_ELEMENT);this.ub=f||0;e=this.Bb;f=this.ub;var g=p.Cc.BYTES_PER_ELEMENT;this.jo=a?new p.Cc(a.x,a.y,a.z,e,f):new p.Cc(0,0,0,e,f);this.Jp=c?new p.Ab(c.i,c.h,c.g,c.D,e,f+g):new p.Ab(0,0,0,0,e,f+g);this.Ml=d?new p.hc(d.Ca,d.ca,e,f+g+p.Ab.BYTES_PER_ELEMENT):
new p.hc(0,0,e,f+g+p.Ab.BYTES_PER_ELEMENT)},p.cc.BYTES_PER_ELEMENT=24,Object.defineProperties(p.cc.prototype,{n:{get:function(){return this.jo},set:function(a){var c=this.jo;c.x=a.x;c.y=a.y;c.z=a.z},enumerable:!0},F:{get:function(){return this.Jp},set:function(a){var c=this.Jp;c.i=a.i;c.h=a.h;c.g=a.g;c.D=a.D},enumerable:!0},r:{get:function(){return this.Ml},set:function(a){this.Ml.Ca=a.Ca;this.Ml.ca=a.ca},enumerable:!0}}),p.Qb=function(a,c,d,e,f,g){this.Bb=f||new ArrayBuffer(p.Qb.BYTES_PER_ELEMENT);
this.ub=g||0;f=this.Bb;g=this.ub;var h=p.cc.BYTES_PER_ELEMENT;this.eo=a?new p.cc(a.n,a.F,a.r,f,g):new p.cc(null,null,null,f,g);this.en=c?new p.cc(c.n,c.F,c.r,f,g+h):new p.cc(null,null,null,f,g+h);this.ho=d?new p.cc(d.n,d.F,d.r,f,g+2*h):new p.cc(null,null,null,f,g+2*h);this.gn=e?new p.cc(e.n,e.F,e.r,f,g+3*h):new p.cc(null,null,null,f,g+3*h)},p.Qb.BYTES_PER_ELEMENT=96,Object.defineProperties(p.Qb.prototype,{Fa:{get:function(){return this.eo},set:function(a){var c=this.eo;c.n=a.n;c.F=a.F;c.r=a.r},enumerable:!0},
ya:{get:function(){return this.en},set:function(a){var c=this.en;c.n=a.n;c.F=a.F;c.r=a.r},enumerable:!0},Ba:{get:function(){return this.ho},set:function(a){var c=this.ho;c.n=a.n;c.F=a.F;c.r=a.r},enumerable:!0},Ha:{get:function(){return this.gn},set:function(a){var c=this.gn;c.n=a.n;c.F=a.F;c.r=a.r},enumerable:!0},HA:{get:function(){return this.Bb},enumerable:!0}}),p.Yx=function(){return new p.Qb},p.Xx=function(a){if(!a)return p.Yx();var c=a.Fa,d=a.ya,e=a.Ba;a=a.Ha;return{Fa:{n:{x:c.n.x,y:c.n.y,z:c.n.z},
F:{i:c.F.i,h:c.F.h,g:c.F.g,D:c.F.D},r:{Ca:c.r.Ca,ca:c.r.ca}},ya:{n:{x:d.n.x,y:d.n.y,z:d.n.z},F:{i:d.F.i,h:d.F.h,g:d.F.g,D:d.F.D},r:{Ca:d.r.Ca,ca:d.r.ca}},Ba:{n:{x:e.n.x,y:e.n.y,z:e.n.z},F:{i:e.F.i,h:e.F.h,g:e.F.g,D:e.F.D},r:{Ca:e.r.Ca,ca:e.r.ca}},Ha:{n:{x:a.n.x,y:a.n.y,z:a.n.z},F:{i:a.F.i,h:a.F.h,g:a.F.g,D:a.F.D},r:{Ca:a.r.Ca,ca:a.r.ca}}}},p.Gb=function(a,c,d,e,f){this.Bb=e||new ArrayBuffer(p.Gb.BYTES_PER_ELEMENT);this.ub=f||0;e=this.Bb;f=this.ub;var g=p.nb.BYTES_PER_ELEMENT;this.jo=a?new p.nb(a.x,
a.y,e,f):new p.nb(0,0,e,f);this.Jp=c?new p.Ab(c.i,c.h,c.g,c.D,e,f+g):new p.Ab(0,0,0,0,e,f+g);this.Ml=d?new p.hc(d.Ca,d.ca,e,f+g+p.Ab.BYTES_PER_ELEMENT):new p.hc(0,0,e,f+g+p.Ab.BYTES_PER_ELEMENT)},p.Gb.BYTES_PER_ELEMENT=20,Object.defineProperties(p.Gb.prototype,{n:{get:function(){return this.jo},set:function(a){this.jo.x=a.x;this.jo.y=a.y},enumerable:!0},F:{get:function(){return this.Jp},set:function(a){var c=this.Jp;c.i=a.i;c.h=a.h;c.g=a.g;c.D=a.D},enumerable:!0},r:{get:function(){return this.Ml},
set:function(a){this.Ml.Ca=a.Ca;this.Ml.ca=a.ca},enumerable:!0}}),p.oc=function(a,c,d,e,f){this.Bb=e||new ArrayBuffer(p.oc.BYTES_PER_ELEMENT);this.ub=f||0;e=this.Bb;f=this.ub;var g=p.Gb.BYTES_PER_ELEMENT;this.XD=a?new p.Gb(a.n,a.F,a.r,e,f):new p.Gb(null,null,null,e,f);this.bE=c?new p.Gb(c.n,c.F,c.r,e,f+g):new p.Gb(null,null,null,e,f+g);this.gE=d?new p.Gb(d.n,d.F,d.r,e,f+2*g):new p.Gb(null,null,null,e,f+2*g)},p.oc.BYTES_PER_ELEMENT=60,Object.defineProperties(p.oc.prototype,{D:{get:function(){return this.XD},
set:function(a){var c=this.XD;c.n=a.n;c.F=a.F;c.r=a.r},enumerable:!0},g:{get:function(){return this.bE},set:function(a){var c=this.bE;c.n=a.n;c.F=a.F;c.r=a.r},enumerable:!0},qa:{get:function(){return this.gE},set:function(a){var c=this.gE;c.n=a.n;c.F=a.F;c.r=a.r},enumerable:!0}}));p.x_=function(a){a=a.substr(1).split("");return new p.lc(parseInt("0x"+a[0]+a[1]),parseInt("0x"+a[2]+a[3]),parseInt("0x"+a[4]+a[5]))};p.rp=0;p.Pi=1;p.WK=2;p.xp=0;p.Ct=1;p.wp=2;
p.AY=p.ra.extend({Jn:null,er:null,ay:0,ctor:function(){this.Jn={};this.er={};this.ay=2<<(0|10*Math.random())},lL:function(){this.ay++;return"key_"+this.ay},sU:function(a,c){if(null!=c){var d=this.lL();this.Jn[d]=c;this.er[d]=a}},YR:function(a){if(null==a)return null;var c=this.Jn,d;for(d in c)if(c[d]===a)return this.er[d];return null},L$:function(a){return this.YR(a)},hT:function(a){if(null!=a){var c=this.Jn,d;for(d in c)if(c[d]===a){delete this.er[d];delete c[d];break}}},i7:function(a){if(null!=
a)for(var c=0;c<a.length;c++)this.hT(a[c])},JO:function(){var a=[],c=this.Jn,d;for(d in c)a.push(c[d]);return a},b7:function(){this.Jn={};this.er={}},count:function(){return this.JO().length}});p.XJ=function(){this.or="Arial";this.fontSize=12;this.rG=p.Pi;this.sG=p.xp;this.tG=p.kb();this.nr=p.size(0,0);this.wC=!1;this.strokeColor=p.kb();this.YI=1;this.QI=!1;this.RI=p.size(0,0);this.shadowBlur=0;this.SI=1};p.lp={mx:0,zx:1,SHOW_ALL:2,nx:3,ox:4,pY:5};p.zt=[];p.sp={};
p.ga=p.ra.extend({Jb:null,oe:null,wn:null,mk:null,ze:null,AA:null,zA:"",Oz:null,ja:1,RE:1,pa:1,SE:1,jq:0,NE:5,lh:null,YE:null,bF:null,aF:null,ZE:null,$E:null,mq:!1,MY:!1,vZ:null,xE:null,yE:null,sL:null,nZ:!1,By:null,fZ:null,$i:null,Wy:1,It:!1,CE:!1,ctor:function(){this.$i=p.wj.parentNode===document.body?document.documentElement:p.wj.parentNode;this.oe=p.size(0,0);this.jz();var a=p.canvas.width,c=p.canvas.height;this.wn=p.size(a,c);this.mk=p.size(a,c);this.ze=p.rect(0,0,a,c);this.AA=p.rect(0,0,a,c);
this.Jb=p.N.d().xe;this.By={left:0,top:0};this.zA="Cocos2dHTML5";p.QD.q(this.wn);this.YE=new p.Um(p.ng.As,p.je.mx);this.bF=new p.Um(p.ng.HK,p.je.SHOW_ALL);this.aF=new p.Um(p.ng.As,p.je.zx);this.ZE=new p.Um(p.ng.As,p.je.nx);this.$E=new p.Um(p.ng.As,p.je.ox);this.xE=p.canvas;this.yE=p.M},Pz:function(){var a=this.mk.width,c=this.mk.height;this.Oz&&(this.jz(),this.Oz.call());0<a&&this.hI(a,c,this.lh)},u7:function(a){a?this.It||(this.It=!0,a=this.Pz.bind(this),window.addEventListener("resize",a,!1)):this.It&&
(this.It=!0,a=this.Pz.bind(this),window.removeEventListener("resize",a,!1))},d9:function(a){if("function"==typeof a||null==a)this.Oz=a},jz:function(){var a=this.oe;a.width=this.$i.clientWidth;a.height=this.$i.clientHeight},JY:function(){var a=this.mk.width,c=this.mk.height;0<a&&this.hI(a,c,this.lh)},ZN:function(){if(this.CE){var a={"user-scalable":"no","maximum-scale":"1.0","initial-scale":"1.0"},c=document.getElementsByName("viewport"),d;0==c.length?(c=document.createElement("meta"),c.name="viewport",
c.content="",document.head.appendChild(c)):c=c[0];d=c.content;for(var e in a)RegExp(e).test(d)||(d+=(""==d?"":",")+e+"\x3d"+a[e]);c.content=d}},SN:function(){var a=p.gd();this.pa=this.ja=a},uN:function(){this.ja=this.RE;this.pa=this.SE},rM:function(){var a,c=this.jq;for(a=0;a<this.NE;a++){if(!(c&1))return this.jq|=1<<a,a;c>>=1}return-1},qN:function(a){0>a||a>=this.NE||(a=~(1<<a),this.jq&=a)},KY:function(){},rR:function(){this.mq=!0},MZ:function(a){this.CE=a},end:function(){},T4:function(){return null!=
this.xE&&null!=this.yE},h8:function(a){this.Wy=a;p.N.d().Bw(p.N.d().qk)},f$:function(){},l8:function(){},S7:function(a,c){this.By={left:a,top:c}},Z0:function(){return this.By},Nv:function(){return p.size(this.oe.width,this.oe.height)},g8:function(a,c){this.oe.width=a;this.oe.height=c;this.$i.style.width=a+"px";this.$i.style.height=c+"px";this.Pz();p.N.d().Bw(p.N.d().qk)},m_:function(){},C7:function(a){this.sL=a},xr:function(){return this.AA.Na},MG:function(){return this.AA.Oc},i_:function(){return!0},
U2:function(){return this.lh},EU:function(a){if(a instanceof p.Um)this.lh=a;else switch(a){case p.lp.mx:this.lh=this.YE;break;case p.lp.SHOW_ALL:this.lh=this.bF;break;case p.lp.zx:this.lh=this.aF;break;case p.lp.nx:this.lh=this.ZE;break;case p.lp.ox:this.lh=this.$E}},hI:function(a,c,d){if(isNaN(a)||0==a||isNaN(c)||0==c)p.log("Resolution not valid");else if(this.EU(d),policy=this.lh){policy.tm(this);var e=this.oe.width,f=this.oe.height;p.ta.Cj&&this.ZN(this.oe.width,this.oe.height);this.jz();if(d!=
this.lh||a!=this.mk.width||c!=this.mk.height||e!=this.oe.width||f!=this.oe.height)this.wn=p.size(a,c),this.mk=p.size(a,c),a=policy.apply(this,this.wn),a.scale&&2==a.scale.length&&(this.ja=a.scale[0],this.pa=a.scale[1]),a.viewport instanceof p.Kf&&(this.ze=a.viewport),a=p.N.d(),a.Cb=this.uo(),p.ed==p.Tj&&(a.un(),a.nI()),this.RE=this.ja,this.SE=this.pa,p.Wb&&p.Wb.sN(),p.QD.q(this.xr()),policy.sm(this)}else p.log("should set resolutionPolicy")},uo:function(){return p.size(this.wn.width,this.wn.height)},
A9:function(a){this.Jb=a},PU:function(a,c,d,e){var f=this.Wy,g=this.ja,h=this.pa;p.M.viewport(a*g*f+this.ze.x*f,c*h*f+this.ze.y*f,d*g*f,e*h*f)},jC:function(a,c,d,e){var f=this.Wy,g=this.ja,h=this.pa;p.M.scissor(a*g*f+this.ze.x*f,c*h*f+this.ze.y*f,d*g*f,e*h*f)},DR:function(){var a=p.M;return a.isEnabled(a.SCISSOR_TEST)},AQ:function(){var a=p.M,c=this.ja,d=this.pa,a=a.getParameter(a.SCISSOR_BOX);return p.rect((a[0]-this.ze.x)/c,(a[1]-this.ze.y)/d,a[2]/c,a[3]/d)},J9:function(a){null!=a&&0<a.length&&
(this.zA=a)},R3:function(){return this.zA},S3:function(){return this.ze},yQ:function(){return this.ja},zQ:function(){return this.pa},xj:function(a,c,d){return{x:a-d.left,y:d.top+d.height-c}},SQ:function(a,c,d,e){for(var f=[],g=this.ze,h=this.ja,k=this.pa,l=0;l<a;++l){var m=c[l],n=d[l],r=e[l],q=0;if(null==p.sp[m])if(q=this.rM(),-1==q)p.log("The touches is more than MAX_TOUCHES, nUnusedIndex \x3d "+q);else{var v=p.zt[q]=new p.Oe;v.oC(q,(n-g.x)/h,(r-g.y)/k);p.sp[m]=0|q;f.push(v)}}0!=f.length&&this.Jb.Rw(f,
null)},VQ:function(a,c,d,e){for(var f=[],g=this.ja,h=this.pa,k=this.ze.x,l=this.ze.y,m=0;m<a;++m){var n=d[m],r=e[m],q=p.sp[c[m]];if(null!=q){var v=p.zt[q];if(v)v.oC(q,(n-k)/g,(r-l)/h),f.push(v);else return}}0!=f.length&&this.Jb.Sw(f,null)},UQ:function(a,c,d,e){var f=[];this.EG(f,a,c,d,e);this.Jb.js(f,null)},TQ:function(a,c,d,e){var f=[];this.EG(f,a,c,d,e);this.Jb.yC(f,null)},EG:function(a,c,d,e,f){for(var g=this.ja,h=this.pa,k=this.ze,l=0;l<c;++l){var m=d[l],n=e[l],r=f[l],q=p.sp[m];if(null!=q){var v=
p.zt[q];if(v)v.oC(q,(n-k.x)/g,(r-k.y)/h),a.push(v),p.zt[q]=null,this.qN(q),delete p.sp[m];else break}}},Rw:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.mf||h,d[f]=g.$.x,e[f]=g.$.y,++f;this.SQ(f,c,d,e)},Sw:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.mf||h,d[f]=g.$.x,e[f]=g.$.y,++f;this.VQ(f,c,d,e)},js:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.mf||h,d[f]=g.$.x,e[f]=g.$.y,++f;this.UQ(f,c,d,e)},yC:function(a){for(var c=
[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.mf||h,d[f]=g.$.x,e[f]=g.$.y,++f;this.TQ(f,c,d,e)}});p.ga.d=function(){this.tb||(this.tb=new p.ga,this.tb.rR());return this.tb};
p.ng=p.ra.extend({tm:function(){},apply:function(){},sm:function(){},iF:function(a,c,d){p.ta.Cj&&a==document.documentElement&&p.Lx.d().QO(p.canvas);a=p.canvas;var e=p.wj;a.width=c;a.height=d;e.style.width=c+"px";e.style.height=d+"px";c=document.body;var f;c&&(f=c.style)&&(f.paddingTop=f.paddingTop||"0px",f.paddingRight=f.paddingRight||"0px",f.paddingBottom=f.paddingBottom||"0px",f.paddingLeft=f.paddingLeft||"0px",f.borderTop=f.borderTop||"0px",f.borderRight=f.borderRight||"0px",f.borderBottom=f.borderBottom||
"0px",f.borderLeft=f.borderLeft||"0px",f.marginTop=f.marginTop||"0px",f.marginRight=f.marginRight||"0px",f.marginBottom=f.marginBottom||"0px",f.marginLeft=f.marginLeft||"0px")},rE:function(){document.body.insertBefore(p.wj,document.body.firstChild);var a=document.body.style;a.width=window.innerWidth+"px";a.height=window.innerHeight+"px";a.overflow="hidden";a=p.wj.style;a.position="fixed";a.left=a.top="0px";document.body.scrollTop=0}});
p.je=p.ra.extend({Rz:{scale:[1,1],viewport:null},Gp:function(a,c,d,e,f,g){a=p.rect(Math.round((a-d)/2),Math.round((c-e)/2),d,e);p.ed==p.Hf&&p.M.translate(a.x,a.y+e);this.Rz.scale=[f,g];this.Rz.viewport=a;return this.Rz},tm:function(){},apply:function(){return{scale:[1,1]}},sm:function(){}});
(function(){var a=p.ng.extend({apply:function(a){this.iF(a.$i,a.oe.width,a.oe.height)}}),c=p.ng.extend({apply:function(a,c){var d=a.oe.width,e=a.oe.height,f=p.wj.style,n=c.width,r=c.height,q=d/n,v=e/r,z,B;q<v?(z=d,B=r*q):(z=n*v,B=e);n=Math.floor((d-z)/2);B=Math.floor((e-B)/2);this.iF(a.$i,d-2*n,e-2*B);f.marginLeft=n+"px";f.marginRight=n+"px";f.marginTop=B+"px";f.marginBottom=B+"px"}});a.extend({tm:function(a){a.$i=document.documentElement},apply:function(a){this._super(a);this.rE()}});c.extend({tm:function(a){a.$i=
document.documentElement},apply:function(a,c){this._super(a,c);this.rE()}});var d=p.ng.extend({});p.ng.As=new a;p.ng.HK=new c;p.ng.rX=new d;var a=p.je.extend({apply:function(a,c){var d=p.canvas.width,e=p.canvas.height;return this.Gp(d,e,d,e,d/c.width,e/c.height)}}),c=p.je.extend({apply:function(a,c){var d=p.canvas.width,e=p.canvas.height,f=c.width,n=c.height,r=d/f,q=e/n,v,z,B;r<q?(v=r,z=d,B=n*v):(v=q,z=f*v,B=e);return this.Gp(d,e,z,B,v,v)}}),d=p.je.extend({apply:function(a,c){var d=p.canvas.width,
e=p.canvas.height,f=c.width,n=c.height,r=d/f,q=e/n,v,z,B;r<q?(v=q,z=f*v,B=e):(v=r,z=d,B=n*v);return this.Gp(d,e,z,B,v,v)}}),e=p.je.extend({apply:function(a,c){var d=p.canvas.width,e=p.canvas.height,f=e/c.height;return this.Gp(d,e,d,e,f,f)},sm:function(a){p.N.d().Cb=a.xr()}}),f=p.je.extend({apply:function(a,c){var d=p.canvas.width,e=p.canvas.height,f=d/c.width;return this.Gp(d,e,d,e,f,f)},sm:function(a){p.N.d().Cb=a.xr()}});p.je.mx=new a;p.je.SHOW_ALL=new c;p.je.zx=new d;p.je.nx=new e;p.je.ox=new f})();
p.Um=p.ra.extend({Wt:null,Xt:null,ctor:function(a,c){this.PT(a);this.ST(c)},tm:function(a){this.Wt.tm(a);this.Xt.tm(a)},apply:function(a,c){this.Wt.apply(a,c);return this.Xt.apply(a,c)},sm:function(a){this.Wt.sm(a);this.Xt.sm(a)},PT:function(a){a instanceof p.ng&&(this.Wt=a)},ST:function(a){a instanceof p.je&&(this.Xt=a)}});p.Lx=p.ra.extend({Pq:!1,Yj:"",Bz:null,Cz:null,oA:"",q:function(){var a=["webkit","moz","o","ms","khtml"],c=document.body;if(c.requestFullScreen)this.Pq=!0;else for(var d=0,e=a.length,f;d<e;d++)if(f=a[d],c[f+"RequestFullScreen"]){this.Pq=!0;this.Yj=f;break}this.oA="ontouchstart"in window?"touchstart":"mousedown"},fullScreen:function(){var a=document;if(this.Pq)switch(this.Yj){case "":return a.fullScreen;case "webkit":return a.webkitIsFullScreen;default:return a[this.Yj+"FullScreen"]}return!1},UH:function(a,
c){if(this.Pq&&!this.fullScreen()){if(c){var d=this.Yj+"fullscreenchange";this.Bz&&this.Cz&&this.Bz.removeEventListener(d,this.Cz);this.Bz=a;this.Cz=c;a.addEventListener(d,c,!1)}return""===this.Yj?a.requestFullScreen():a[this.Yj+"RequestFullScreen"]()}},Y_:function(){if(this.Pq&&this.fullScreen())return""===this.Yj?document.body.cancelFullScreen():document.body[this.Yj+"CancelFullScreen"]()},QO:function(a,c){function d(){e.UH(a,c);a.removeEventListener(e.oA,d)}var e=this;this.UH(a,c);a.addEventListener(this.oA,
d)}});p.Lx.d=function(){if(!this.tb){var a=new p.Lx;a.q();this.tb=a}return this.tb};p.QD={rh:p.Zc(),Gg:p.Zc(),qh:p.Zc(),Yh:p.Zc(),Zh:p.Zc(),Xh:p.Zc(),ty:p.Zc(),ii:p.Zc(),mh:p.Zc(),wa:0,ha:0,q:function(a){this.wa=a.width;this.ha=a.height;a=this.wa;var c=this.ha;this.rh.G=c;this.Gg.w=a;this.Gg.G=c;this.qh.w=a/2;this.qh.G=c;this.Zh.w=a;this.Xh.w=a/2;this.ty.w=a/2;this.ty.G=c/2;this.ii.G=c/2;this.mh.w=a;this.mh.G=c/2},yr:function(){return this.wa},sr:function(){return this.ha},w$:function(){return this.rh},x$:function(){return this.Gg},top:function(){return this.qh},a_:function(){return this.Yh},
b_:function(){return this.Zh},bottom:function(){return this.Xh},l_:function(){return this.ty},left:function(){return this.ii},right:function(){return this.mh}};p.Nw=function(a){var c;if(a&&0!=a.length){var d=a.indexOf("{"),e=a.indexOf("}");-1==d||-1==e||d>e||(a=a.substr(d+1,e-d-1),0!=a.length&&(d=a.indexOf("{"),e=a.indexOf("}"),-1==d&&-1==e&&(c=a.split(","))))}return c};
p.zD=function(a){var c=p.Lc();if(a){var d=a.indexOf("{")+1,e=a.lastIndexOf("}",a.length);-1!=d&&-1!=e&&(a=a.substring(d,e),d=a.indexOf("}"),-1!=d&&(d=a.indexOf(",",d),-1!=d&&(c=a.substr(d+1,a.length-d),a=p.Nw(a.substr(0,d)),c=p.Nw(c),c=p.rect(parseFloat(a[0]),parseFloat(a[1]),parseFloat(c[0]),parseFloat(c[1])))))}return c};p.yD=function(a){var c=p.Mi();try{if(""==a)return c;var d=p.Nw(a),c=p.a(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};
p.Mx=function(a){var c=p.cl();try{if(""==a)return c;var d=p.Nw(a),c=p.size(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};p.NV=function(a,c,d,e,f,g){this.D=a;this.g=c;this.qa=d;this.za=e;this.Ka=f;this.La=g};p.CY=function(a,c,d,e,f,g){return{D:a,g:c,qa:d,za:e,Ka:f,La:g}};p.QV=function(a,c,d,e,f,g){return{D:a,g:c,qa:d,za:e,Ka:f,La:g}};p.DY=function(a,c){return{x:c.D*a.x+c.qa*a.y+c.Ka,y:c.g*a.x+c.za*a.y+c.La}};p.xD=function(a,c){return{x:c.D*a.x+c.qa*a.y+c.Ka,y:c.g*a.x+c.za*a.y+c.La}};p.Vj=function(a,c,d){return{x:d.D*a+d.qa*c+d.Ka,y:d.g*a+d.za*c+d.La}};
p.EY=function(a,c){return{width:c.D*a.width+c.qa*a.height,height:c.g*a.width+c.za*a.height}};p.aY=function(a,c){return{width:c.D*a.width+c.qa*a.height,height:c.g*a.width+c.za*a.height}};p.RV=function(){return{D:1,g:0,qa:0,za:1,Ka:0,La:0}};p.PV=function(){return{D:1,g:0,qa:0,za:1,Ka:0,La:0}};
p.qg=function(a,c){var d=p.Kk(a),e=p.Jk(a),f=p.wm(a),g=p.xm(a),h=p.Vj(e,d,c),d=p.Vj(f,d,c),e=p.Vj(e,g,c),k=p.Vj(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);return p.rect(f,l,g-f,h-l)};
p.Th=function(a,c){var d=p.Kk(a),e=p.Jk(a),f=p.wm(a),g=p.xm(a),h=p.Vj(e,d,c),d=p.Vj(f,d,c),e=p.Vj(e,g,c),k=p.Vj(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);a.x=f;a.y=l;a.width=g-f;a.height=h-l;return a};p.Yw=function(a,c,d){return{D:a.D,g:a.g,qa:a.qa,za:a.za,Ka:a.Ka+a.D*c+a.qa*d,La:a.La+a.g*c+a.za*d}};p.SV=function(a,c,d){return{D:a.D*c,g:a.g*c,qa:a.qa*d,za:a.za*d,Ka:a.Ka,La:a.La}};
p.xJ=function(a){var c=Math.sin(1.57079633),d=Math.cos(1.57079633);return{D:a.D*d+a.qa*c,g:a.g*d+a.za*c,qa:a.qa*d-a.D*c,za:a.za*d-a.g*c,Ka:a.Ka,La:a.La}};p.Uk=function(a,c){return{D:a.D*c.D+a.g*c.qa,g:a.D*c.g+a.g*c.za,qa:a.qa*c.D+a.za*c.qa,za:a.qa*c.g+a.za*c.za,Ka:a.Ka*c.D+a.La*c.qa+c.Ka,La:a.Ka*c.g+a.La*c.za+c.La}};p.OV=function(a,c){return a.D===c.D&&a.g===c.g&&a.qa===c.qa&&a.za===c.za&&a.Ka===c.Ka&&a.La===c.La};
p.IC=function(a){var c=1/(a.D*a.za-a.g*a.qa);return{D:c*a.za,g:-c*a.g,qa:-c*a.qa,za:c*a.D,Ka:c*(a.qa*a.La-a.za*a.Ka),La:c*(a.g*a.Ka-a.D*a.La)}};p.nD=parseFloat("1.192092896e-07F");p.LB=function(a){return p.a(-a.x,-a.y)};p.Cf=function(a,c){return p.a(a.x+c.x,a.y+c.y)};p.dd=function(a,c){return p.a(a.x-c.x,a.y-c.y)};p.Ci=function(a,c){return p.a(a.x*c,a.y*c)};p.KB=function(a,c){return p.Ci(p.Cf(a,c),0.5)};p.No=function(a,c){return a.x*c.x+a.y*c.y};p.m6=function(a,c){return a.x*c.y-a.y*c.x};p.gw=function(a){return p.a(-a.y,a.x)};p.u6=function(a){return p.a(a.y,-a.x)};p.t6=function(a,c){return p.Ci(c,p.No(a,c)/p.No(c,c))};
p.v6=function(a,c){return p.a(a.x*c.x-a.y*c.y,a.x*c.y+a.y*c.x)};p.A6=function(a,c){return p.a(a.x*c.x+a.y*c.y,a.y*c.x-a.x*c.y)};p.zH=function(a){return p.No(a,a)};p.n6=function(a,c){return p.zH(p.dd(a,c))};p.IB=function(a){return Math.sqrt(p.zH(a))};p.HB=function(a,c){return p.IB(p.dd(a,c))};p.Wg=function(a){return p.Ci(a,1/p.IB(a))};p.o6=function(a){return p.a(Math.cos(a),Math.sin(a))};p.z6=function(a){return Math.atan2(a.y,a.x)};p.ir=function(a,c,d){if(c>d){var e=c;c=d;d=e}return a<c?c:a<d?a:d};
p.yH=function(a){var c=p.a(0,0),d=p.a(1,1);return p.a(p.ir(a.x,c.x,d.x),p.ir(a.y,c.y,d.y))};p.pS=function(){var a=p.N.d().Cb;return p.a(a.width,a.height)};p.l6=function(a,c){return p.a(c(a.x),c(a.y))};p.AH=function(a,c,d){return p.Cf(p.Ci(a,1-d),p.Ci(c,d))};p.p6=function(a,c,d){return a.x-d<=c.x&&c.x<=a.x+d&&a.y-d<=c.y&&c.y<=a.y+d?!0:!1};p.k6=function(a,c){return p.a(a.x*c.x,a.y*c.y)};p.j6=function(a,c){var d=p.Wg(a),e=p.Wg(c),d=Math.atan2(d.x*e.y-d.y*e.x,p.No(d,e));return Math.abs(d)<p.nD?0:d};
p.i6=function(a,c){var d=Math.acos(p.No(p.Wg(a),p.Wg(c)));return Math.abs(d)<p.nD?0:d};p.rS=function(a,c,d){a=p.dd(a,c);var e=Math.cos(d);d=Math.sin(d);var f=a.x;a.x=f*e-a.y*d+c.x;a.y=f*d+a.y*e+c.y;return a};p.JB=function(a,c,d,e,f){if(a.x==c.x&&a.y==c.y||d.x==e.x&&d.y==e.y)return!1;var g=c.x-a.x;c=c.y-a.y;var h=e.x-d.x;e=e.y-d.y;var k=a.x-d.x;a=a.y-d.y;d=e*g-h*c;f.x=h*a-e*k;f.y=g*a-c*k;if(0==d)return 0==f.x||0==f.y?!0:!1;f.x/=d;f.y/=d;return!0};
p.x6=function(a,c,d,e){var f=p.a(0,0);return p.JB(a,c,d,e,f)&&0<=f.x&&1>=f.x&&0<=f.y&&1>=f.y?!0:!1};p.r6=function(a,c,d,e){var f=p.a(0,0);return p.JB(a,c,d,e,f)?(d=p.a(0,0),d.x=a.x+f.x*(c.x-a.x),d.y=a.y+f.x*(c.y-a.y),d):p.Mi()};p.w6=function(a,c){return null!=a&&null!=c?a.x==c.x&&a.y==c.y:!1};p.B6=function(a){a.x=0;a.y=0};p.q6=function(a,c){a.x=c.x;a.y=c.y};p.qS=function(a,c){a.x*=c;a.y*=c};p.y6=function(a,c){a.x-=c.x;a.y-=c.y};p.h6=function(a,c){a.x+=c.x;a.y+=c.y};
p.s6=function(a){p.qS(a,1/Math.sqrt(a.x*a.x+a.y*a.y))};p.N$=function(a,c,d,e,f){f+=e;if(!(1>=f)){c*=0.5;for(var g,h=f-1,k=e;k<f;k++){g=2*k;var l=p.a(a[2*k],a[2*k+1]),m;if(0===k)m=p.gw(p.Wg(p.dd(l,p.a(a[2*(k+1)],a[2*(k+1)+1]))));else if(k===h)m=p.gw(p.Wg(p.dd(p.a(a[2*(k-1)],a[2*(k-1)+1]),l)));else{m=p.a(a[2*(k-1)],a[2*(k-1)+1]);var n=p.a(a[2*(k+1)],a[2*(k+1)+1]),r=p.Wg(p.dd(n,l)),q=p.Wg(p.dd(m,l)),v=Math.acos(p.No(r,q));m=v<p.Ki(70)?p.gw(p.Wg(p.KB(r,q))):v<p.Ki(170)?p.Wg(p.KB(r,q)):p.gw(p.Wg(p.dd(n,m)))}m=p.Ci(m,c);d[2*g]=l.x+m.x;d[2*g+1]=l.y+m.y;d[2*
(g+1)]=l.x-m.x;d[2*(g+1)+1]=l.y-m.y}for(k=0==e?0:e-1;k<h;k++)g=2*k,a=g+2,c=p.Dt(d[2*g],d[2*g+1]),f=p.Dt(d[2*(g+1)],d[2*(g+1)+1]),g=p.Dt(d[2*a],d[2*a]),e=p.Dt(d[2*(a+1)],d[2*(a+1)+1]),c=!p.wV(c.x,c.y,e.x,e.y,f.x,f.y,g.x,g.y),!c.Gr&&(0>c.value||1<c.value)&&(c.Gr=!0),c.Gr&&(d[2*a]=e.x,d[2*a+1]=e.y,d[2*(a+1)]=g.x,d[2*(a+1)+1]=g.y)}};
p.wV=function(a,c,d,e,f,g,h,k){if(a==d&&c==e||f==h&&g==k)return{Gr:!1,value:0};d-=a;e-=c;f-=a;g-=c;h-=a;k-=c;a=Math.sqrt(d*d+e*e);d/=a;e/=a;c=f*d+g*e;g=g*d-f*e;f=c;c=h*d+k*e;k=k*d-h*e;h=c;return g==k?{Gr:!1,value:0}:{Gr:!0,value:(h+(f-h)*k/(k-g))/a}};p.aW=function(a,c){c[2]=c[3]=c[6]=c[7]=c[8]=c[9]=c[11]=c[14]=0;c[10]=c[15]=1;c[0]=a.D;c[4]=a.qa;c[12]=a.Ka;c[1]=a.g;c[5]=a.za;c[13]=a.La};p.MW=function(a,c){c.D=a[0];c.qa=a[4];c.Ka=a[12];c.g=a[1];c.za=a[5];c.La=a[13]};p.lD=-1;p.kX=null;p.lX=null;p.xT=1;
p.I=p.ra.extend({Pa:0,sv:0,Wf:0,nh:0,ja:1,pa:1,p:null,Md:0,Nd:0,o:null,va:!0,eh:null,kd:null,ia:null,se:!1,X:null,hk:!1,Sc:p.lD,FF:null,vA:null,rj:!0,pu:!0,hE:!0,rZ:null,qj:null,BE:null,Ld:!1,sc:null,pf:0,tg:null,Xf:null,AE:!1,Ap:!1,Kt:null,bi:null,nz:!1,Dl:0,Cq:0,kz:function(){this.eh=p.Zc();this.kd=p.Zc();this.ia=p.Hl();this.p=p.Zc();this.o=[];this.qj={D:1,g:0,qa:0,za:1,Ka:0,La:0};var a=p.N.d();this.tg=a.ag();this.Xf=a.af();this.AE=!0;this.Kt={D:1,g:0,qa:0,za:1,Ka:0,La:0};p.GJ&&(this.bi=new p.GJ(this))},
q:function(){!1===this.AE&&this.kz();return!0},Nf:function(a,c){if(a&&0!==a.length){var d,e=a.length,f;d=p.I.kf;switch(c){case d.fg:for(d=0;d<e;d++)(f=a[d])&&f.fg();break;case d.rd:for(d=0;d<e;d++)(f=a[d])&&f.rd();break;case d.Ih:for(d=0;d<e;d++)(f=a[d])&&f.Ih();break;case d.wf:for(d=0;d<e;d++)(f=a[d])&&f.wf();break;case d.Ff:for(d=0;d<e;d++)(f=a[d])&&f.Ff();break;case d.Ug:for(d=0;d<e;d++)(f=a[d])&&f.Ug();break;case d.vd:for(d=0;d<e;d++)(f=a[d])&&f.vd();break;default:throw"Unknown callback function";
}}},Ja:null,KN:function(){this.Fl();!1===this.rj&&(this.rj=this.pu=!0)},LN:function(){!1===this.rj&&(this.rj=this.pu=!0)},i3:function(){return this.Md},Hw:function(a){this.Md=a;this.Ja()},j3:function(){return this.Nd},Iw:function(a){this.Nd=a;this.Ja()},Y3:function(){return this.Pa},Vu:function(a){this.Pa=a},L9:function(a){this.Vu(a);this.X&&this.X.Ur(this,a)},O3:function(){return this.sv},HI:function(a){this.sv=a},xQ:function(){this.Wf!==this.nh&&p.log("cc.Node.rotation(): RotationX !\x3d RotationY. Don't know which one to return");
return this.Wf},Dw:function(a){this.Wf=this.nh=a;this.Dl=0.017453292519943295*this.Wf;this.Cq=0.017453292519943295*this.nh;this.Ja()},Y2:function(){return this.Wf},Ew:function(a){this.Wf=a;this.Dl=0.017453292519943295*this.Wf;this.Ja()},Z2:function(){return this.nh},Fw:function(a){this.nh=a;this.Cq=0.017453292519943295*this.nh;this.Ja()},eB:function(){this.ja!==this.pa&&p.log("cc.Node.getScale(): ScaleX !\x3d ScaleY. Don't know which one to return");return this.ja},Ij:function(a,c){this.ja=a;this.pa=
c||0===c?c:a;this.Ja()},yQ:function(){return this.ja},Wo:function(a){this.ja=a;this.Ja()},zQ:function(){return this.pa},Dm:function(a){this.pa=a;this.Ja()},C:function(a,c){var d=this.p;2==arguments.length?(d.w=a,d.G=c):1==arguments.length&&(d.w=a.x,d.G=a.y);this.Ja()},I2:function(){return this.p},J2:function(){return this.p.w},xb:function(a){this.p.w=a;this.Ja()},K2:function(){return this.p.G},Vo:function(a){this.p.G=a;this.Ja()},R0:function(){return this.o.length},Q0:function(){return this.o},hH:function(){return this.va},
u:function(a){this.va=a;this.Ja()},z0:function(){return this.eh},la:function(a,c){var d=this.eh;if(2===arguments.length){if(a===d.w&&c===d.G)return;d.w=a;d.G=c}else{if(a.x===d.w&&a.y===d.G)return;d.w=a.x;d.G=a.y}var e=this.kd,f=this.ia;e.w=f.wa*d.w;e.G=f.ha*d.G;this.Ja()},A0:function(){return this.kd},f:function(){return this.ia},ea:function(a,c){var d=this.ia;if(2===arguments.length){if(a===d.wa&&c===d.ha)return;d.wa=a;d.ha=c}else{if(a.width===d.wa&&a.height===d.ha)return;d.wa=a.width;d.ha=a.height}var e=
this.kd,f=this.eh;e.w=d.wa*f.w;e.G=d.ha*f.G;this.Ja()},b5:function(){return this.se},getParent:function(){return this.X},as:function(a){this.X=a},M4:function(){return this.hk},xi:function(a){a!=this.hk&&(this.hk=a,this.Ja())},GQ:function(){return this.Sc},CI:function(a){this.Sc=a},getUserData:function(){return this.FF},setUserData:function(a){this.FF=a},M3:function(){return this.vA},E9:function(a){this.vA!=a&&(this.vA=a)},y2:function(){return this.pf},Uo:function(a){this.pf=a},ag:function(){this.tg||
(this.tg=p.N.d().ag());return this.tg},HT:function(a){this.tg!=a&&(this.uC(),this.tg=a)},af:function(){this.Xf||(this.Xf=p.N.d().af());return this.Xf},FU:function(a){this.Xf!=a&&(this.ks(),this.Xf=a)},Wa:function(){var a=p.rect(0,0,this.ia.wa,this.ia.ha);return p.Th(a,this.Bf())},wf:function(){this.uC();this.ks();this.Nf(this.o,p.I.kf.wf)},description:function(){return"\x3ccc.Node | Tag \x3d"+this.Sc+"\x3e"},ZP:function(a){var c=this.o;if(null!=c)for(var d=0;d<c.length;d++){var e=c[d];if(e&&e.Sc==
a)return e}return null},s:function(a,c,d){if(!a)throw"cc.Node.addChild(): child must be non-null";a===this?p.log("cc.Node.addChild(): An Node can't be added as a child of itself."):null!==a.X?p.log("cc.Node.addChild(): child already added. It can't be added again"):(c=null!=c?c:a.Pa,a.Sc=null!=d?d:a.Sc,this.EM(a,c),a.X=this,this.se&&(a.fg(),this.nz&&a.Ih()))},P:function(a){this.X&&(null==a&&(a=!0),this.X.removeChild(this,a))},fT:function(a){p.log("removeFromParentAndCleanup is deprecated. Use removeFromParent instead");
this.P(a)},removeChild:function(a,c){0!==this.o.length&&(null==c&&(c=!0),-1<this.o.indexOf(a)&&this.cM(a,c),this.Ja())},g7:function(a,c){a===p.lD&&p.log("cc.Node.removeChildByTag(): argument tag is an invalid tag");var d=this.ZP(a);null==d?p.log("cocos2d: removeChildByTag(tag \x3d "+a+"): child not found!"):this.removeChild(d,c)},Y6:function(a){p.log("removeAllChildrenWithCleanup is deprecated. Use removeAllChildren instead");this.Lh(a)},Lh:function(a){var c=this.o;if(null!=c){null==a&&(a=!0);for(var d=
0;d<c.length;d++){var e=c[d];e&&(this.se&&(e.Ug(),e.rd()),a&&e.wf(),e.as(null))}this.o.length=0}},cM:function(a,c){this.se&&(a.Ug(),a.rd());c&&a.wf();a.as(null);p.xd(this.o,a)},EM:function(a,c){this.Ld=!0;this.o.push(a);a.Vu(c)},Ur:function(a,c){if(!a)throw"cc.Node.reorderChild(): child must be non-null";this.Ld=!0;a.Uo(p.xT++);a.Vu(c);this.Ja()},vd:function(){if(this.Ld){var a=this.o,c,d,e=a.length,f;for(c=0;c<e;c++){var g=a[c];d=c-1;for(f=a[d];0<=d&&(g.Pa<f.Pa||g.Pa==f.Pa&&g.pf<f.pf);)a[d+1]=f,
d-=1,f=a[d];a[d+1]=g}this.Ld=!1}},Ia:function(){},Tw:function(){null!=this.X&&(this.X.Tw(),this.X.transform())},fg:function(){this.nz=!1;this.se=!0;this.Nf(this.o,p.I.kf.fg);this.rw()},Ih:function(){this.nz=!0;this.Nf(this.o,p.I.kf.Ih)},Ug:function(){this.Nf(this.o,p.I.kf.Ug)},rd:function(){this.se=!1;this.iw();this.Nf(this.o,p.I.kf.rd);this.bi&&this.bi.aT()},sw:function(a){if(!a)throw"cc.Node.runAction(): action must be non-null";this.ag().CO(a,this,!this.se);return a},uC:function(){this.ag().QH(this)},
fV:function(a){this.ag().PH(a)},X9:function(a){a===p.Mm?p.log("cc.Node.stopActionBy(): argument tag an invalid tag"):this.ag().$S(a,this)},aB:function(a){return a===p.Mm?(p.log("cc.Node.getActionByTag(): argument tag is an invalid tag"),null):this.ag().aB(a,this)},k2:function(){return this.ag().XR(this)},zT:function(){this.AT(0)},AT:function(a){this.af().YH(this,a,!this.se)},B$:function(){this.af().ap(this)},sd:function(a,c,d,e){c=c||0;if(!a)throw"cc.Node.schedule(): callback function must be non-null";
if(0>c)throw"cc.Node.schedule(): interval must be positive";d=null==d?p.bl:d;e=e||0;this.af().yT(this,a,c,d,e,!this.se)},td:function(a,c){this.sd(a,0,0,c)},kg:function(a){a&&this.af().fJ(this,a)},ks:function(){this.af().eJ(this)},rw:function(){this.af().zm(this);this.ag().zm(this)},iw:function(){this.af().Sr(this);this.ag().Sr(this)},D7:function(a){this.Kt=a;this.Ap=this.rj=!0},E6:function(){this.pu&&(this.BE=p.IC(this.Bf()),this.pu=!1);return this.BE},Pr:function(){for(var a=this.Bf(),c=this.X;null!=
c;c=c.getParent())a=p.Uk(a,c.Bf());return a},zV:function(){return p.IC(this.Pr())},hb:function(a){return p.xD(a,this.zV())},Ak:function(a){return p.xD(a,this.Pr())},pP:function(a){return p.dd(this.hb(a),this.kd)},y_:function(a){a=p.Cf(a,this.kd);return this.Ak(a)},NY:function(a){a=this.Ak(a);return p.N.d().qP(a)},wh:function(a){return this.hb(a.$)},z_:function(a){a=a.$;a=p.N.d().oP(a);return this.pP(a)},update:function(a){this.bi&&!this.bi.I4()&&this.bi.fa(a)},Ff:function(){this.Nf(this.o,p.I.kf.Ff)},
WH:function(){},UB:function(){},$P:function(a){return this.bi.$P(a)},zZ:function(a){this.bi.add(a)},h7:function(a){return this.bi.remove(a)},Z6:function(){this.bi.aT()},sF:null,iA:null,fz:null,ln:null,ek:null,ctor:null,fh:function(){this.kz()},gh:function(){this.kz();var a=new p.Sg;a.Tg[2]=a.Tg[3]=a.Tg[6]=a.Tg[7]=a.Tg[8]=a.Tg[9]=a.Tg[11]=a.Tg[14]=0;a.Tg[10]=a.Tg[15]=1;this.sF=a;this.fz=0;this.iA=new p.Sg},fa:null,Tl:function(a){if(this.va){a=a||p.M;var c,d=this.o,e;a.save();this.transform(a);var f=
d.length;if(0<f){this.vd();for(c=0;c<f;c++)if(e=d[c],0>e.Pa)e.fa(a);else break;for(this.Ia(a);c<f;c++)d[c].fa(a)}else this.Ia(a);this.pf=0;a.restore()}},Ul:function(){if(this.va){var a=p.M,c,d=p.tP;d.stack.push(d.top);p.q5(this.iA,d.top);d.top=this.iA;var e=this.ek;e&&e.uL&&e.KA();this.transform();var f=this.o;if(f&&0<f.length){var g=f.length;this.vd();for(c=0;c<g;c++)if(f[c]&&0>f[c].Pa)f[c].fa();else break;for(this.Ia(a);c<g;c++)f[c]&&f[c].fa()}else this.Ia(a);this.pf=0;e&&e.uL&&e.GA(this);d.top=
d.stack.pop()}},transform:null,kO:function(a){a=a||p.M;var c=p.ga.d(),d=this.Bf();a.transform(d.D,d.qa,d.g,d.za,d.Ka*c.ja,-d.La*c.pa)},lO:function(){var a=this.sF,c=p.tP.top,d=this.Bf(),e=a.Tg;e[0]=d.D;e[4]=d.qa;e[12]=d.Ka;e[1]=d.g;e[5]=d.za;e[13]=d.La;e[14]=this.sv;p.KR(c,c,a);null==this.ln||null!=this.ek&&this.ek.Co()||(a=this.kd.w,c=this.kd.G,0!==a||0!==c?(p.IR(p.Jf(a),p.Jf(c),0),this.ln.kH(),p.IR(p.Jf(-a),p.Jf(-c),0)):this.ln.kH())},Bf:null,VM:function(){this.qj||(this.qj={D:1,g:0,qa:0,za:1,Ka:0,
La:0});if(this.rj){var a=this.qj;a.Ka=this.p.w;a.La=this.p.G;var c=1,d=0;this.Wf&&(c=Math.cos(this.Dl),d=Math.sin(this.Dl));a.D=a.za=c;a.g=-d;a.qa=d;var e=this.ja,f=this.pa,g=this.kd.w,h=this.kd.G,k=1E-6>e&&-1E-6<e?1E-6:e,l=1E-6>f&&-1E-6<f?1E-6:f;if(this.Md||this.Nd){var m=Math.tan(-this.Md*Math.PI/180),n=Math.tan(-this.Nd*Math.PI/180),r=h*m*k,q=g*n*l;a.D=c+-d*n;a.g=c*m+-d;a.qa=d+c*n;a.za=d*m+c;a.Ka+=c*r+-d*q;a.La+=d*r+c*q}if(1!==e||1!==f)a.D*=k,a.qa*=k,a.g*=l,a.za*=l;a.Ka+=c*-g*k+-d*h*l;a.La-=d*
-g*k+c*h*l;this.hk&&(a.Ka+=g,a.La+=h);this.Ap&&(this.qj=p.Uk(this.qj,this.Kt),this.Ap=!1);this.rj=!1}return this.qj},WM:function(){if(this.rj){var a=this.p.w,c=this.p.G,d=this.kd.w,e=-d,f=this.kd.G,g=-f,h=this.ja,k=this.pa;this.hk&&(a+=d,c+=f);var l=1,m=0,n=1,r=0;if(0!==this.Wf||0!==this.nh)l=Math.cos(-this.Dl),m=Math.sin(-this.Dl),n=Math.cos(-this.Cq),r=Math.sin(-this.Cq);var q=this.Md||this.Nd;q||0===d&&0===f||(a+=n*e*h+-m*g*k,c+=r*e*h+l*g*k);a={D:n*h,g:r*h,qa:-m*k,za:l*k,Ka:a,La:c};q&&(a=p.Uk({D:1,
g:Math.tan(p.Ki(this.Nd)),qa:Math.tan(p.Ki(this.Md)),za:1,Ka:0,La:0},a),0!==d||0!==f)&&(a=p.Yw(a,e,g));this.Ap&&(a=p.Uk(a,this.Kt),this.Ap=!1);this.qj=a;this.rj=!1}return this.qj},Fl:function(){this.hE=!0;this.X&&this.X.Fl()},bB:function(){this.ln||(this.ln=new p.gp);return this.ln},z1:function(){return this.ek},j8:function(a){this.ek=a},fB:function(){return this.sc},ig:function(a){this.sc=a},y1:function(){return this.fz},i8:function(a){this.fz=a},I0:function(){var a=p.rect(0,0,this.ia.wa,this.ia.ha),
c=this.Pr(),a=p.qg(a,this.Pr());if(!this.o)return a;for(var d=this.o,e=0;e<d.length;e++){var f=d[e];f&&f.va&&(f=f.tE(c))&&(a=p.ow(a,f))}return a},tE:function(a){var c=p.rect(0,0,this.ia.wa,this.ia.ha);a=null==a?this.Bf():p.Uk(this.Bf(),a);c=p.qg(c,a);if(!this.o)return c;for(var d=this.o,e=0;e<d.length;e++){var f=d[e];f&&f.va&&(f=f.tE(a))&&(c=p.ow(c,f))}return c}});
p.ta.wc?(b=p.I.prototype,b.ctor=p.I.prototype.gh,b.Ja=p.I.prototype.LN,b.fa=p.I.prototype.Ul,b.transform=p.I.prototype.lO,b.Bf=p.I.prototype.WM):(b=p.I.prototype,b.ctor=p.I.prototype.fh,b.Ja=p.I.prototype.KN,b.fa=p.I.prototype.Tl,b.transform=p.I.prototype.kO,b.Bf=p.I.prototype.VM);p.I.create=function(){return new p.I};p.I.kf={fg:1,rd:2,wf:3,Ih:4,Ff:5,Ug:6,vd:7};
p.lb=p.I.extend({Ua:!0,Kb:255,Vf:255,qc:null,Kd:null,Wc:!1,Ed:!1,ctor:function(){p.I.prototype.ctor.call(this);this.Vf=this.Kb=255;this.qc=p.kb();this.Kd=p.kb();this.Ed=this.Wc=!1},vi:function(){return this.Vf},cQ:function(){return this.Kb},V:function(a){this.Kb=this.Vf=a;a=255;var c=this.X;c&&c.Ua&&c.Ed&&(a=c.Kb);this.Jc(a)},Jc:function(a){this.Kb=this.Vf*a/255;if(this.Ed){a=this.o;for(var c=0;c<a.length;c++){var d=a[c];d&&d.Ua&&d.Jc(this.Kb)}}},BR:function(){return this.Ed},eI:function(a){this.Ed!==
a&&((this.Ed=a)?this.Xp():this.Ny())},Xp:function(){var a=255,c=this.X;c&&c.Ua&&c.Ed&&(a=c.Kb);this.Jc(a)},Ny:function(){this.Kb=this.Vf;for(var a=this.o,c=0;c<a.length;c++){var d=a[c];d&&d.Ua&&d.Jc(255)}},bd:function(){var a=this.Kd;return new p.lc(a.i,a.h,a.g)},rr:function(){return this.qc},l:function(a){var c=this.qc,d=this.Kd;c.i=d.i=a.i;c.h=d.h=a.h;c.g=d.g=a.g;a=(a=this.X)&&a.Ua&&a.Wc?a.rr():p.kb();this.Ic(a)},Ic:function(a){var c=this.qc,d=this.Kd;c.i=0|d.i*a.i/255;c.h=0|d.h*a.h/255;c.g=0|d.g*
a.g/255;if(this.Wc)for(a=this.o,d=0;d<a.length;d++){var e=a[d];e&&e.Ua&&e.Ic(c)}},AR:function(){return this.Wc},dI:function(a){this.Wc!==a&&((this.Wc=a)?this.Wp():this.My())},Wp:function(){var a;a=(a=this.X)&&a.Ua&&a.Wc?a.rr():p.kb();this.Ic(a)},My:function(){var a=this.qc,c=this.Kd;a.i=c.i;a.h=c.h;a.g=c.g;for(var a=this.o,c=p.kb(),d=0;d<a.length;d++){var e=a[d];e&&e.Ua&&e.Ic(c)}},s:function(a,c,d){p.I.prototype.s.call(this,a,c,d);this.Wc&&this.Wp();this.Ed&&this.Xp()},ff:function(){},Gk:function(){return!1}});
p.lb.create=function(){var a=new p.lb;a.q();return a};p.yd=p.lb.extend({Ua:!0,HE:0,GE:0,ru:0,qu:0,Vi:null,Ea:null,$b:!1,T:null,zq:0,gz:!1,ctor:function(){p.lb.prototype.ctor.call(this);this.Vi=p.kb();this.T={src:p.he,sb:p.ge};this.gz=!1},D$:function(){p.log("cc.AtlasNode.updateAtlasValues(): Shall be overridden in subclasses")},bd:function(){return this.$b?this.Vi:p.lb.prototype.bd.call(this)},ff:function(a){var c=this.bd();this.$b=a;this.l(c)},Gk:function(){return this.$b},qr:function(){return this.T},Lk:function(a,c){this.T=1==arguments.length?a:{src:a,
sb:c}},Yo:function(a){this.Ea=a},GG:function(){return this.Ea},Q2:function(){return this.zq},Y8:function(a){this.zq=a},Nl:null,Rf:null,vF:null,Tt:null,oR:function(a,c,d,e){if(!a)throw"cc.AtlasNode.initWithTileFile(): title should not be null";a=p.Qa.d().fc(a);return this.Aa(a,c,d,e)},Aa:null,kq:function(a,c,d,e){this.ru=c;this.qu=d;this.$b=!0;this.Rf=a;if(!this.Rf)return p.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.Nl=this.Rf;this.Pt();this.zq=e;return!0},lq:function(a,
c,d,e){this.ru=c;this.qu=d;this.Vi=p.kb();this.$b=!0;this.T.src=p.he;this.T.sb=p.ge;c=this.Kd;this.Tt=new Float32Array([c.i/255,c.h/255,c.g/255,this.Vf/255]);this.Ea=new p.Ym;this.Ea.Aa(a,e);if(!this.Ea)return p.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.Sl();this.CF();this.Pt();this.zq=e;this.ig(p.dh.d().Kh(p.VX));this.vF=p.M.getUniformLocation(this.fB().Qv(),"u_color");return!0},Ia:null,Qf:function(a){a=a||p.M;p.yx(this);p.Aj(this.T.src,this.T.sb);a.uniform4fv(this.vF,
this.Tt);this.Ea.iG(this.zq,0)},l:null,Eq:function(a){var c=this.Kd;if(c.i!=a.i||c.h!=a.h||c.g!=a.g){c=new p.lc(a.i,a.h,a.g);this.Vi=a;if(this.$b){var d=this.Kb;c.i=c.i*d/255;c.h=c.h*d/255;c.g=c.g*d/255}p.lb.prototype.l.call(this,a);this.Q()&&(a=this.Rf.rc)&&(c=p.Qa.d().HG(a))&&(d=p.rect(0,0,a.width,a.height),a=p.$A(a,c,this.Kd,d),c=new p.Nb,c.bf(a),c.ae(),this.ba(c))}},Vz:function(a){var c=p.lc(a.i,a.h,a.g);this.Vi=a;var d=this.Kb;this.$b&&(c.i=c.i*d/255,c.h=c.h*d/255,c.g=c.g*d/255);p.lb.prototype.l.call(this,
a);a=this.qc;this.Tt=new Float32Array([a.i/255,a.h/255,a.g/255,d/255])},V:null,Gq:function(a){p.lb.prototype.V.call(this,a);this.$b&&this.l(this.Vi)},Yz:function(a){p.lb.prototype.V.call(this,a);this.$b?this.l(this.Vi):(a=this.qc,this.Tt=new Float32Array([a.i/255,a.h/255,a.g/255,this.Kb/255]))},Q:null,cz:function(){return this.Nl},dz:function(){return this.Ea.Q()},ba:null,Hq:function(a){this.Nl=a},Iq:function(a){this.Ea.ba(a);this.Sl();this.CF()},Pt:null,LL:function(){var a=this.Q().f();this.GE=0|
a.height/this.qu;this.HE=0|a.width/this.ru},ML:function(){var a=this.Q(),c=a.f();this.gz&&(c=a.ia);this.GE=0|c.height/this.qu;this.HE=0|c.width/this.ru},Sl:function(){this.Ea.Q().Br()||(this.T.src=770,this.T.sb=771)},CF:function(){this.$b=this.Ea.Q().Br()},Xz:function(a){this.gz=a}});
p.ta.wc?(b=p.yd.prototype,b.Aa=p.yd.prototype.lq,b.Ia=p.yd.prototype.Qf,b.l=p.yd.prototype.Vz,b.V=p.yd.prototype.Yz,b.Q=p.yd.prototype.dz,b.ba=p.yd.prototype.Iq,b.Pt=p.yd.prototype.ML):(b=p.yd.prototype,b.Aa=p.yd.prototype.kq,b.Ia=p.I.prototype.Ia,b.l=p.yd.prototype.Eq,b.V=p.yd.prototype.Gq,b.Q=p.yd.prototype.cz,b.ba=p.yd.prototype.Hq,b.Pt=p.yd.prototype.LL);p.yd.create=function(a,c,d,e){var f=new p.yd;return f.oR(a,c,d,e)?f:null};p.Oi=0;p.qp=1;p.pp=2;p.op=3;p.Px=4;p.Ox=5;p.tt=6;p.st=7;p.ID=8;p.HD=9;p.GD=p.Oi;p.Fy=p.GD;p.IK=!1;p.oZ=function(a,c,d,e){this.TR=a||0;this.QR=c||0;this.tJ=d||0;this.uJ=e||0};
p.YK=p.ra.extend({ZM:null,qf:null,Cg:null,Bg:null,rz:null,ia:null,xg:null,yg:null,Cn:null,sl:!1,sc:null,dc:!1,rc:null,vh:null,ld:null,ctor:function(){this.Bg=this.Cg=0;this.rz="";this.yg=this.xg=0;this.Cn=!1;this.ia=p.Hl();this.sl=!1;this.ZM=!0;this.qf=p.Nb.uP();this.sc=null;this.dc=!1;this.vh=this.rc=null;this.ld=[]},VB:function(){this.vh&&p.M.deleteTexture(this.vh)},D2:function(){return this.qf},wo:function(){return this.Cg},vo:function(){return this.Bg},getName:function(){return this.vh},f:function(){return p.size(this.ia.width/
p.gd(),this.ia.height/p.gd())},bQ:function(){return this.ia},kQ:function(){return this.xg},mU:function(a){this.xg=a},lQ:function(){return this.yg},nU:function(a){this.yg=a},fB:function(){return this.sc},ig:function(a){this.sc=a},Br:function(){return this.Cn},YQ:function(){return this.sl},description:function(){return"\x3ccc.Texture2D | Name \x3d "+this.rz+" | Dimensions \x3d "+this.Cg+" x "+this.Bg+" | Coordinates \x3d ("+this.xg+", "+this.yg+")\x3e"},XS:function(){},GR:function(a){return a},Vv:function(a,
c,d,e,f){var g=p.M,h=0,h=c===p.Oi?24:this.WF(c),h=d*h/8;0===h%8?g.pixelStorei(g.UNPACK_ALIGNMENT,8):0===h%4?g.pixelStorei(g.UNPACK_ALIGNMENT,4):0===h%2?g.pixelStorei(g.UNPACK_ALIGNMENT,2):g.pixelStorei(g.UNPACK_ALIGNMENT,1);this.vh=g.createTexture();p.bg(this);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE);
switch(c){case p.Oi:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_BYTE,a);break;case p.qp:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_BYTE,a);break;case p.tt:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_4_4_4_4,a);break;case p.st:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_5_5_5_1,a);break;case p.pp:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_SHORT_5_6_5,a);break;case p.Ox:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE_ALPHA,
d,e,0,g.LUMINANCE_ALPHA,g.UNSIGNED_BYTE,a);break;case p.op:g.texImage2D(g.TEXTURE_2D,0,g.ALPHA,d,e,0,g.ALPHA,g.UNSIGNED_BYTE,a);break;case p.Px:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE,d,e,0,g.LUMINANCE,g.UNSIGNED_BYTE,a);break;default:throw"NSInternalInconsistencyException";}this.ia.wa=f.width;this.ia.ha=f.height;this.Cg=d;this.Bg=e;this.qf=c;this.xg=f.width/d;this.yg=f.height/e;this.sl=this.Cn=!1;this.ig(p.dh.d().Kh(p.NK));return this.dc=!0},GP:function(a){var c=[0,this.yg,this.xg,this.yg,0,0,this.xg,
0],d=this.Cg*this.xg,e=this.Bg*this.yg;a=[a.x,a.y,0,d+a.x,a.y,0,a.x,e+a.y,0,d+a.x,e+a.y,0];p.Wd(p.sg|p.gL);this.sc.Me();this.sc.GI();p.bg(this);d=p.M;d.vertexAttribPointer(p.ke,2,d.FLOAT,!1,0,a);d.vertexAttribPointer(p.vp,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},IP:function(a){var c=[0,this.yg,this.xg,this.yg,0,0,this.xg,0];a=[a.x,a.y,a.x+a.width,a.y,a.x,a.y+a.height,a.x+a.width,a.y+a.height];p.Wd(p.sg|p.gL);this.sc.Me();this.sc.GI();p.bg(this);var d=p.M;d.vertexAttribPointer(p.ke,2,
d.FLOAT,!1,0,a);d.vertexAttribPointer(p.vp,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},qB:function(a){if(null==a)return p.log("cocos2d: cc.Texture2D. Can't create Texture. UIImage is nil"),!1;var c=a.yr(),d=a.sr(),e=p.ie.d().sq;if(c>e||d>e)return p.log("cocos2d: WARNING: Image ("+c+" x "+d+") is bigger than the supported "+e+" x "+e),!1;this.dc=!0;return this.vM(a,c,d)},bf:function(a){a&&(this.vh=p.M.createTexture(),this.rc=a)},fQ:function(){return this.rc},eg:function(){return this.dc},
ae:function(){this.dc=!0;var a=p.M;p.bg(this);a.pixelStorei(a.UNPACK_ALIGNMENT,4);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,this.rc);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);this.ig(p.dh.d().Kh(p.NK));p.bg(null);a=this.rc.height;this.Cg=this.ia.wa=this.rc.width;this.Bg=this.ia.ha=
a;this.qf=p.Oi;this.yg=this.xg=1;this.sl=this.Cn=!1;this.Dd()},Dk:function(a,c,d,e,f,g){3==arguments.length&&(c=arguments[1],d=arguments[2],e=p.size(0,0),f=p.Pi,g=p.xp);var h=new p.bK,k;if(p.xp===g)k=p.Pi===f?p.IV:p.rp===f?p.JV:p.KV;else if(p.Ct===g)k=p.Pi===f?p.FV:p.rp===f?p.GV:p.HV;else if(p.wp===g)k=p.Pi===f?p.CV:p.rp===f?p.DV:p.EV;else return p.log("Not supported alignment format!"),!1;return h.Dk(a,e.width,e.height,k,c,d)?this.qB(h):!1},hR:function(){return!1},XG:function(a){var c=!1,d=new p.kY;
(c=d.o4(a))?(d.g9(!0),this.rz=d.getName(),this.yg=this.xg=1,this.Cg=d.yr(),this.Bg=d.sr(),this.ia.wa=this.Cg,this.ia.ha=this.Bg,this.Cn=p.IK,this.qf=d.w1(),this.aI()):p.log("cocos2d: Couldn't load PVR image "+a);return c},lR:function(){return p.ie.d().Rq?!0:(p.log("cocos2d: WARNING: PVRTC images is not supported."),!1)},JU:function(a){var c=p.M;p.us(this.Cg==p.Sm(this.Cg)&&this.Bg==p.Sm(this.Bg)||a.tJ==c.CLAMP_TO_EDGE&&a.uJ==c.CLAMP_TO_EDGE,"WebGLRenderingContext.CLAMP_TO_EDGE should be used in NPOT textures");
p.bg(this);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,a.TR);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,a.QR);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,a.tJ);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,a.uJ)},aI:function(){var a=p.M;p.bg(this);this.sl?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},$H:function(){var a=p.M;p.bg(this);
this.sl?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},generateMipmap:function(){p.us(this.Cg==p.Sm(this.Cg)&&this.Bg==p.Sm(this.Bg),"Mimpap texture only works in POT textures");p.bg(this);p.M.generateMipmap(p.M.TEXTURE_2D);this.sl=!0},gV:function(){switch(this.qf){case p.Oi:return"RGBA8888";case p.qp:return"RGB888";case p.pp:return"RGB565";case p.tt:return"RGBA4444";
case p.st:return"RGB5A1";case p.Ox:return"AI88";case p.op:return"A8";case p.Px:return"I8";case p.ID:return"PVRTC4";case p.HD:return"PVRTC2";default:p.log("stringForFormat: "+this.qf+", cannot give useful result, it's a unrecognized pixel format")}return""},WF:function(a){a=a||this.qf;switch(a){case p.Oi:return 32;case p.qp:return 32;case p.pp:return 16;case p.op:return 8;case p.tt:return 16;case p.st:return 16;case p.ID:return 4;case p.HD:return 2;case p.Px:return 8;case p.Ox:return 16;default:return p.log("bitsPerPixelForFormat: "+
this.qf+", cannot give useful result, it's a illegal pixel format"),-1}},vM:function(a,c,d){var e=a.getData(),f=null,f=null,g=a.d4(),h=p.size(a.yr(),a.sr()),k=p.GD,l=a.G0();g||(8<=l?k=p.qp:(p.log("cocos2d: cc.Texture2D: Using RGB565 texture since image has no alpha"),k=p.pp));var m=c*d;if(k==p.pp)if(g)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>2<<5|(f[l]>>16&255)>>3<<0;else for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]&255)>>3<<
11|(f[l]&255)>>2<<5|(f[l]&255)>>3<<0;else if(k==p.tt)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>4<<12|(f[l]>>8&255)>>4<<8|(f[l]>>16&255)>>4<<4|(f[l]>>24&255)>>4<<0;else if(k==p.st)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>3<<6|(f[l]>>16&255)>>3<<1|(f[l]>>24&255)>>7<<0;else if(k==p.op)for(e=new Uint8Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=f>>24&255;if(g&&k==p.qp)for(f=a.getData(),e=new Uint8Array(c*d*3),l=0;l<m;++l)e[3*
l]=f>>0&255,e[3*l+1]=f>>8&255,e[3*l+2]=f>>16&255;this.Vv(e,k,c,d,h);a.getData();this.Cn=a.W4();return!0},vf:function(a,c){this.ld.push({zj:a,yh:c})},gT:function(a){for(var c=this.ld,d=0;d<c.length;d++)c[d].yh==a&&c.splice(d,1)},Dd:function(){for(var a=this.ld,c=0,d=a.length;c<d;c++){var e=a[c];e.zj.call(e.yh,this)}a.length=0}});
p.XK=p.ra.extend({ia:null,dc:!1,rc:null,ld:null,ctor:function(){this.ia=p.Hl();this.dc=!1;this.rc=null;this.ld=[]},wo:function(){return this.ia.wa},vo:function(){return this.ia.ha},f:function(){var a=p.gd();return p.size(this.ia.wa/a,this.ia.ha/a)},bQ:function(){return this.ia},bf:function(a){a&&(this.rc=a)},fQ:function(){return this.rc},eg:function(){return this.dc},ae:function(){this.dc=!0;var a=this.rc;this.ia.wa=a.width;this.ia.ha=a.height;this.Dd()},description:function(){return"\x3ccc.Texture2D | width \x3d "+
this.ia.wa+" height "+this.ia.ha+"\x3e"},Vv:function(){return!1},qB:function(){return!1},Dk:function(){return!1},VB:function(){},getName:function(){return null},kQ:function(){return 1},mU:function(){},lQ:function(){return 1},nU:function(){},fB:function(){return null},ig:function(){},Br:function(){return!1},YQ:function(){return!1},XS:function(){},GR:function(a){return a},GP:function(){},IP:function(){},hR:function(){return!1},XG:function(){return!1},lR:function(){return!0},JU:function(){},aI:function(){},
$H:function(){},generateMipmap:function(){},gV:function(){return""},WF:function(){return-1},vf:function(a,c){this.ld.push({zj:a,yh:c})},gT:function(a){for(var c=this.ld,d=0;d<c.length;d++)c[d].yh==a&&c.splice(d,1)},Dd:function(){for(var a=this.ld,c=0,d=a.length;c<d;c++){var e=a[c];e.zj.call(e.yh,this)}a.length=0}});p.Nb=p.ta.wc?p.YK:p.XK;p.Nb.U7=function(a){p.Fy=a};p.Nb.uP=function(){return p.Fy};p.Nb.d1=function(){return p.Fy};p.pr=null;p.B5=function(a){if(p.lP(a)==p.WJ)p.log("unsupported format:"+a);else{var c=new Image;c.src=a;c.addEventListener("load",function(){p.Qa.d().TO(a,c);this.removeEventListener("load",arguments.callee,!1)},!1)}};p.lP=function(a){return 0<a.toLowerCase().indexOf(".jpg")||0<a.toLowerCase().indexOf(".jpeg")?p.IW:0<a.toLowerCase().indexOf(".png")?p.JW:0<a.toLowerCase().indexOf(".webp")?p.LW:p.WJ};
p.Qa=p.ra.extend({bb:null,Sq:null,fv:null,XE:!1,uu:null,vu:null,ctor:function(){if(p.pr)throw"Attempted to allocate a second instance of a singleton.";this.fv+=0|1E3*Math.random();this.bb={};this.Sq={};p.ed===p.Tj&&(this.uu={},this.vu={})},iy:function(a,c){if(a&&"string"===typeof c)a[c]();else a&&"function"===typeof c&&c.call(a)},DM:function(){this.XE=!0;var a,c=this.uu,d=this.bb;for(a in c){var e=c[a],f=new p.Nb;f.bf(e);f.ae();d[a]=f}this.uu={}},GZ:function(){p.log("TextureCache:addPVRTCImage does not support on HTML5")},
BZ:function(){p.log("TextureCache:addPVRTCImage does not support on HTML5")},description:function(){return"\x3cTextureCache | Number of textures \x3d "+this.bb.length+"\x3e"},Qw:function(a){a=p.hd.d().Td(a);return this.bb.hasOwnProperty(a)?this.bb[a]:null},hQ:function(a){for(var c in this.bb)if(this.bb[c]==a)return c;return null},mM:function(){this.fv++;return"_textureKey_"+this.fv},HG:function(a){var c=this.hQ(a);c||(c=a instanceof HTMLImageElement?a.src:this.mM());this.Sq.hasOwnProperty(c)||(this.Sq[c]=
p.so(a));return this.Sq[c]},FZ:function(a){if(!a)throw"cc.TextureCache.addPVRImage(): path should be non-null";a=p.hd.d().Td(a);if(null!=this.bb[a])return this.bb[a];var c=new p.Nb;c.XG(a)?this.bb[a]=c:p.log("cocos2d: Couldn't add PVRImage:"+a+" in TextureCache");return c},c7:function(){var a=this.bb,c;for(c in a)a[c]&&a[c].VB();this.bb={}},r7:function(a){if(a){var c=this.bb,d;for(d in c)c[d]==a&&(c[d].VB(),delete c[d])}},kT:function(a){null!=a&&(a=p.hd.d().Td(a),this.bb[a]&&delete this.bb[a])},CZ:function(a,
c,d){if(!a)throw"cc.TextureCache.addImageAsync(): path should be non-null";a=p.hd.d().Td(a);var e=this.bb[a],f,g;if(e)e.eg()?this.iy(c,d):(g=this,f=e.rc,f.addEventListener("load",function(){e.ae();g.iy(c,d);this.removeEventListener("load",arguments.callee,!1)}));else{f=new Image;f.crossOrigin="Anonymous";g=this;f.addEventListener("load",function(){g.bb.hasOwnProperty(a)&&g.bb[a].ae();g.iy(c,d);this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});
f.addEventListener("error",function(){p.Mb.d().qm(a);g.bb.hasOwnProperty(a)&&delete g.bb[a];this.removeEventListener("error",arguments.callee,!1)});f.src=a;var h=new p.Nb;h.bf(f);this.bb[a]=h}return this.bb[a]},wL:function(a){var c=new Image;c.crossOrigin="Anonymous";var d=this;c.addEventListener("load",function(){p.Mb.d().Jh();d.uu[a]=c;delete d.vu[a];this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});c.addEventListener("error",function(){p.Mb.d().qm(a);
delete d.vu[a];this.removeEventListener("error",arguments.callee,!1)});c.src=a;this.vu[a]=c},fc:function(a){if(!a)throw"cc.Texture.addImage(): path should be non-null";if(p.ed===p.Tj&&!this.XE)return this.wL(a);a=p.hd.d().Td(a);var c=this.bb[a],d;if(c)c.eg()?p.Mb.d().Jh():(d=c.rc,d.addEventListener("load",function(){c.ae();p.Mb.d().Jh();this.removeEventListener("load",arguments.callee,!1)}));else{d=new Image;d.crossOrigin="Anonymous";var e=this;d.addEventListener("load",function(){p.Mb.d().Jh();e.bb.hasOwnProperty(a)&&
e.bb[a].ae();this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});d.addEventListener("error",function(){p.Mb.d().qm(a);e.bb.hasOwnProperty(a)&&delete e.bb[a];this.removeEventListener("error",arguments.callee,!1)});d.src=a;var f=new p.Nb;f.bf(d);this.bb[a]=f}return this.bb[a]},TO:function(a,c){if(c instanceof p.Nb)this.bb[a]=c;else{var d=new p.Nb;d.bf(c);d.ae();this.bb[a]=d}},LZ:function(a,c){if(!a)throw"cc.Texture.addUIImage(): image should be non-null";
if(c&&this.bb.hasOwnProperty(c)&&this.bb[c])return this.bb[c];var d=new p.Nb;d.qB(a);null!=c&&null!=d?this.bb[c]=d:p.log("cocos2d: Couldn't add UIImage in TextureCache");return d},Q_:function(){var a=0,c=0,d=this.bb,e;for(e in d){var f=d[e];a++;f.rc instanceof HTMLImageElement?p.log("cocos2d: '"+e+"' id\x3d"+f.rc.src+" "+f.wo()+" x "+f.vo()):p.log("cocos2d: '"+e+"' id\x3d HTMLCanvasElement "+f.wo()+" x "+f.vo());c+=f.wo()*f.vo()*4}d=this.Sq;for(e in d){var f=d[e],g;for(g in f){var h=f[g];a++;p.log("cocos2d: '"+
e+"' id\x3d HTMLCanvasElement "+h.width+" x "+h.height);c+=h.width*h.height*4}}p.log("cocos2d: TextureCache dumpDebugInfo: "+a+" textures, HTMLCanvasElement for "+c/1024+" KB ("+(c/1048576).toFixed(2)+" MB)")}});p.Qa.d=function(){p.pr||(p.pr=new p.Qa);return p.pr};p.Qa.LS=function(){p.pr=null};p.Ym=p.ra.extend({Yc:null,$h:null,xa:!1,Mc:0,sa:null,pe:null,Tf:null,Aq:null,Uf:null,ctor:function(){this.$h=[]},F3:function(){return this.Ga},O0:function(){return this.Mc},Q:function(){return this.sa},ba:function(a){this.sa=a},hg:function(a){this.xa=a},dH:function(){return this.xa},P2:function(){return this.pe},X8:function(a){this.pe=a},OY:function(a,c){if(a)for(var d=0;d<a.length;d++)this.Uu(a[d],c+d)},Uu:function(a,c){var d=this.pe;d[c]?(d[c].ya=a.ya,d[c].Ha=a.Ha,d[c].Fa=a.Fa,d[c].Ba=a.Ba):d[c]=
new p.Qb(a.Fa,a.ya,a.Ba,a.Ha,this.Tf,c*p.Qb.BYTES_PER_ELEMENT)},description:function(){return"\x3ccc.TextureAtlas | totalQuads \x3d"+this.Ga+"\x3e"},jF:function(){if(0!==this.Mc)for(var a=this.Yc,c=this.Mc,d=0;d<c;d++)p.JD?(a[6*d+0]=4*d+0,a[6*d+1]=4*d+0,a[6*d+2]=4*d+2,a[6*d+3]=4*d+1,a[6*d+4]=4*d+3,a[6*d+5]=4*d+3):(a[6*d+0]=4*d+0,a[6*d+1]=4*d+1,a[6*d+2]=4*d+2,a[6*d+3]=4*d+3,a[6*d+4]=4*d+2,a[6*d+5]=4*d+1)},$N:function(){var a=p.M;this.$h[0]=a.createBuffer();this.$h[1]=a.createBuffer();this.Aq=a.createBuffer();
this.JE()},JE:function(){var a=p.M;a.bindBuffer(a.ARRAY_BUFFER,this.Aq);a.bufferData(a.ARRAY_BUFFER,this.Tf,a.DYNAMIC_DRAW);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.$h[1]);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.Yc,a.STATIC_DRAW)},yi:function(a,c){var d=p.Qa.d().fc(a);if(d)return this.Aa(d,c);p.log("cocos2d: Could not open file: "+a);return!1},Aa:function(a,c){if(!a)throw"cc.TextureAtlas.initWithTexture():texture should be non-null";this.Mc=c|=0;this.Ga=0;this.sa=a;this.pe=[];this.Yc=new Uint16Array(6*
c);var d=p.Qb.BYTES_PER_ELEMENT;this.Tf=new ArrayBuffer(d*c);this.Uf=new Uint8Array(this.Tf);if((!this.pe||!this.Yc)&&0<c)return!1;for(var e=this.pe,f=0;f<c;f++)e[f]=new p.Qb(null,null,null,null,this.Tf,f*d);this.jF();this.$N();return this.xa=!0},Uw:function(a,c){if(!a)throw"cc.TextureAtlas.updateQuad(): quad should be non-null";if(0>c||c>=this.Mc)throw"cc.TextureAtlas.updateQuad(): Invalid index";this.Ga=Math.max(c+1,this.Ga);this.Uu(a,c);this.xa=!0},wB:function(a,c){if(c>=this.Mc)throw"cc.TextureAtlas.insertQuad(): Invalid index";
this.Ga++;if(this.Ga>this.Mc)p.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");else{var d=p.Qb.BYTES_PER_ELEMENT,e=c*d,f=(this.Ga-1-c)*d;this.pe[this.Ga-1]=new p.Qb(null,null,null,null,this.Tf,(this.Ga-1)*d);this.Uf.set(this.Uf.subarray(e,e+f),e+d);this.Uu(a,c);this.xa=!0}},u4:function(a,c,d){d=d||a.length;if(c+d>this.Mc)throw"cc.TextureAtlas.insertQuad(): Invalid index + amount";var e=p.Qb.BYTES_PER_ELEMENT;this.Ga+=d;if(this.Ga>this.Mc)p.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");
else{var f=c*e,g=(this.Ga-1-c-d)*e,h=this.Ga-1-d,k;for(k=0;k<d;k++)this.pe[h+k]=new p.Qb(null,null,null,null,this.Tf,(this.Ga-1)*e);this.Uf.set(this.Uf.subarray(f,f+g),f+e*d);for(k=0;k<d;k++)this.Uu(a[k],c+k);this.xa=!0}},t4:function(a,c){if(a!==c){if(0>c&&c>=this.Ga)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid newIndex";if(0>a&&a>=this.Ga)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid fromIndex";var d=p.Qb.BYTES_PER_ELEMENT,e=this.Uf,f=e.subarray(a*d,d),g;a>c?(g=c*d,e.set(e.subarray(g,
g+(a-c)*d),g+d),e.set(f,g)):(g=(a+1)*d,e.set(e.subarray(g,g+(c-a)*d),g-d),e.set(f,c*d));this.xa=!0}},iT:function(a){if(a>=this.Ga)throw"cc.TextureAtlas.removeQuadAtIndex(): Invalid index";var c=p.Qb.BYTES_PER_ELEMENT;this.Ga--;this.pe.length=this.Ga;if(a!==this.Ga){var d=(a+1)*c;this.Uf.set(this.Uf.subarray(d,d+(this.Ga-a)*c),d-c)}this.xa=!0},j7:function(a,c){if(a+c>this.Ga)throw"cc.TextureAtlas.removeQuadsAtIndex(): index + amount out of bounds";this.Ga-=c;if(a!==this.Ga){var d=p.Qb.BYTES_PER_ELEMENT,
e=(a+c)*d;this.Uf.set(this.Uf.subarray(e,e+(this.Ga-a)*d),a*d)}this.xa=!0},cT:function(){this.Ga=this.pe.length=0},lZ:function(a){this.xa=a},nT:function(a){if(a==this.Mc)return!0;var c=p.Qb.BYTES_PER_ELEMENT,d=this.Mc;this.Ga=Math.min(this.Ga,a);var e=this.Mc=0|a,f=this.Ga;if(null==this.pe)for(this.pe=[],this.Tf=new ArrayBuffer(c*e),this.Uf=new Uint8Array(this.Tf),a=0;a<e;a++)this.pe=new p.Qb(null,null,null,null,this.Tf,a*c);else{var g,h,k=this.pe;if(e>d){g=[];h=new ArrayBuffer(c*e);for(a=0;a<f;a++)g[a]=
new p.Qb(k[a].Fa,k[a].ya,k[a].Ba,k[a].Ha,h,a*c);for(;a<e;a++)g[a]=new p.Qb(null,null,null,null,h,a*c)}else for(f=Math.max(f,e),g=[],h=new ArrayBuffer(c*e),a=0;a<f;a++)g[a]=new p.Qb(k[a].Fa,k[a].ya,k[a].Ba,k[a].Ha,h,a*c);this.Uf=new Uint8Array(h);this.pe=g;this.Tf=h}null==this.Yc?this.Yc=new Uint16Array(6*e):e>d?(c=new Uint16Array(6*e),c.set(this.Yc,0),this.Yc=c):this.Yc=this.Yc.subarray(0,6*e);this.jF();this.JE();return this.xa=!0},l4:function(a){this.Ga+=a},L5:function(a,c,d){if(2==arguments.length){d=
c;c=this.Ga-a;if(d+(this.Ga-a)>this.Mc)throw"cc.TextureAtlas.moveQuadsFromIndex(): move is out of bounds";if(0===c)return}else{if(d+c>this.Ga)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid newIndex";if(a>=this.Ga)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid oldIndex";if(a==d)return}var e=p.Qb.BYTES_PER_ELEMENT,f=a*e,g=c*e,h=this.Uf,k=h.subarray(f,f+g),l=d*e,m;d<a?(m=d*e,h.set(h.subarray(m,m+(a-d)*e),m+g)):(m=(a+c)*e,h.set(h.subarray(m,m+(d-a)*e),f));h.set(k,l);this.xa=!0},l0:function(a,
c){for(var d=c*p.Qb.BYTES_PER_ELEMENT,e=new Uint8Array(this.Tf,a*p.Qb.BYTES_PER_ELEMENT,d),f=0;f<d;f++)e[f]=0},iG:function(a,c){c=c||0;if(0!==a&&this.sa&&this.sa.eg()){var d=p.M;p.bg(this.sa);p.Wd(p.Bt);d.bindBuffer(d.ARRAY_BUFFER,this.Aq);this.xa&&d.bufferData(d.ARRAY_BUFFER,this.Tf,d.DYNAMIC_DRAW);d.vertexAttribPointer(p.ke,3,d.FLOAT,!1,24,0);d.vertexAttribPointer(p.tp,4,d.UNSIGNED_BYTE,!0,24,12);d.vertexAttribPointer(p.vp,2,d.FLOAT,!1,24,16);this.xa&&(this.xa=!1);d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,
this.$h[1]);p.JD?d.drawElements(d.TRIANGLE_STRIP,6*a,d.UNSIGNED_SHORT,6*c*this.Yc.BYTES_PER_ELEMENT):d.drawElements(d.TRIANGLES,6*a,d.UNSIGNED_SHORT,6*c*this.Yc.BYTES_PER_ELEMENT);p.zh++}},JP:function(){this.iG(this.Ga,0)},iZ:function(){var a=p.M;this.$h&&(this.$h[0]&&a.deleteBuffer(this.$h[0]),this.$h[1]&&a.deleteBuffer(this.$h[1]));this.Aq&&a.deleteBuffer(this.Aq)}});p.Ym.create=function(a,c){var d=new p.Ym;return d&&d.yi(a,c)?d:null};p.Ym.od=function(a,c){var d=new p.Ym;return d&&d.Aa(a,c)?d:null};p.mp=p.I.extend({ctor:function(){p.I.prototype.ctor.call(this);this.hk=!0;this.la(0.5,0.5);this.ea(p.N.d().Cb)}});p.mp.create=function(){return new p.mp};p.Qx=0;p.fY=1;
p.mc=p.I.extend({jk:!1,ik:!1,En:!1,wk:0,$q:p.Qx,ul:!1,Nn:0,ctor:function(){p.I.prototype.ctor.call(this);this.En=this.ik=this.jk=!1;this.wk=0;this.$q=p.Qx;this.ul=!1;this.Nn=0},uM:function(){this.la(0.5,0.5);this.hk=!0;var a=p.N.d();this.ea(a.Cb)},q:function(){p.I.prototype.q.call(this);this.uM();return!0},pw:function(){this.$q===p.Qx?p.WS(this,this.wk):p.TB(this.wk,!0,this)},P4:function(){return this.ul},iC:function(a){if(!p.Bd)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.ul!=
a&&(this.ul=a,this.se&&(a?p.N.d().$e().OF(this,this.Nn):p.N.d().$e().RH(this)))},D8:function(a){if(!p.Bd)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.Nn!==a&&(this.Nn=a,this.ul&&(this.iC(!1),this.iC(!0)))},h2:function(){return this.Nn},i5:function(){return this.jk},Lb:function(a){this.jk!==a&&(this.jk=a,this.se&&(a?this.pw():p.dJ(this)))},J3:function(){return this.wk},Jw:function(a){this.wk!==a&&(this.wk=a,this.jk&&(this.Lb(!1),this.Lb(!0)))},I3:function(){return this.$q},
EI:function(a){this.$q!==a&&(this.$q=a,this.jk&&(this.Lb(!1),this.Lb(!0)))},y4:function(){return this.ik},B7:function(a){if(!p.Nj)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";if(a!==this.ik&&(this.ik=a,this.se)){var c=p.N.d();a?c.to().Xg(this):c.to().Xg(null)}},GT:function(a){this.ik&&p.Nj&&p.N.d().to().GT(a)},b6:function(){p.log("onAccelerometer event should be handled.")},O4:function(){return this.En},u8:function(a){if(!p.Rm)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";
if(a!==this.En&&(this.En=a,this.se)){var c=p.N.d();a?c.Ov().DO(this):c.Ov().eT(this)}},fg:function(){var a=p.N.d();this.jk&&this.pw();p.I.prototype.fg.call(this);this.ik&&p.Nj&&a.to().Xg(this);this.En&&p.Rm&&a.Ov().DO(this);this.ul&&p.Bd&&a.$e().OF(this,this.Nn)},rd:function(){var a=p.N.d();this.jk&&p.dJ(this);this.ik&&p.Nj&&a.to().Xg(null);this.En&&p.Rm&&a.Ov().eT(this);this.ul&&p.Bd&&a.$e().RH(this);p.I.prototype.rd.call(this)},Ih:function(){this.ik&&p.Nj&&p.N.d().to().Xg(this);p.I.prototype.Ih.call(this)},
Ib:function(){p.log("onTouchBegan event should be handled.");return!0},cd:function(){},De:function(){},Ej:function(){},uH:function(){},xH:function(){},wH:function(){},vH:function(){},aS:function(){return!1},bS:function(){return!1},Vg:function(){return!1},eS:function(){return!1},iS:function(){return!1},jS:function(){return!1},kS:function(){return!1},fS:function(){return!1},gS:function(){return!1},hS:function(){return!1},lS:function(){return!1},cS:function(){return!1},dS:function(){return!1},FB:function(){},
ew:function(){}});p.mc.create=function(){var a=new p.mc;return a&&a.q()?a:null};
p.bh=p.mc.extend({Ua:!0,Kb:0,Vf:0,qc:null,Kd:null,Ed:!1,Wc:!1,ctor:function(){p.mc.prototype.ctor.call(this);this.Ua=!0;this.Vf=this.Kb=255;this.qc=p.kb();this.Kd=p.kb();this.Wc=this.Ed=!1},q:function(){return p.mc.prototype.q.call(this)?(this.eI(!1),this.dI(!1),!0):!1},vi:function(){return this.Vf},cQ:function(){return this.Kb},V:function(a){this.Kb=this.Vf=a;a=255;var c=this.X;c&&c.Ua&&c.Ed&&(a=c.Kb);this.Jc(a)},Jc:function(a){this.Kb=0|this.Vf*a/255;if(this.Ed){a=this.o;for(var c=0;c<a.length;c++){var d=
a[c];d&&d.Ua&&d.Jc(this.Kb)}}},BR:function(){return this.Ed},eI:function(a){this.Ed!==a&&((this.Ed=a)?this.Xp():this.Ny())},Xp:function(){var a=255,c=this.X;c&&c.Ua&&c.Ed&&(a=c.Kb);this.Jc(a)},Ny:function(){this.Kb=this.Vf;for(var a=this.o,c=0;c<a.length;c++){var d=a[c];d&&d.Ua&&d.Jc(255)}},bd:function(){var a=this.Kd;return p.k(a.i,a.h,a.g)},rr:function(){var a=this.qc;return p.k(a.i,a.h,a.g)},l:function(a){var c=this.qc,d=this.Kd;c.i=d.i=a.i;c.h=d.h=a.h;c.g=d.g=a.g;a=(a=this.X)&&a.Ua&&a.Wc?a.rr():
p.kb();this.Ic(a)},Ic:function(a){var c=this.qc,d=this.Kd;c.i=0|d.i*a.i/255;c.h=0|d.h*a.h/255;c.g=0|d.g*a.g/255;if(this.Wc)for(a=this.o,d=0;d<a.length;d++){var e=a[d];e&&e.Ua&&e.Ic(c)}},AR:function(){return this.Wc},dI:function(a){this.Wc!==a&&((this.Wc=a)?this.Wp():this.My())},Wp:function(){var a;a=(a=this.X)&&a.Ua&&a.Wc?a.rr():p.kb();this.Ic(a)},My:function(){var a=this.qc,c=this.Kd;a.i=c.i;a.h=c.h;a.g=c.g;for(var a=this.o,c=p.kb(),d=0;d<a.length;d++){var e=a[d];e&&e.Ua&&e.Ic(c)}},s:function(a,
c,d){p.I.prototype.s.call(this,a,c,d);this.Wc&&this.Wp();this.Ed&&this.Xp()},ff:function(){},Gk:function(){return!1}});
p.Pb=p.bh.extend({T:null,qr:function(){return this.T},r_:function(a,c){this.ea(a,c)},q_:function(a){this.ea(a,this.ia.ha)},n_:function(a){this.ea(this.ia.wa,a)},ff:function(){},Gk:function(){return!1},l:function(a){p.bh.prototype.l.call(this,a);this.$c()},V:function(a){p.bh.prototype.V.call(this,a);this.$c()},Fn:!1,nF:null,fA:null,yA:null,Ay:null,hA:null,gA:null,fh:function(){p.bh.prototype.ctor.call(this);this.T=new p.Yk(p.he,p.ge)},gh:function(){p.bh.prototype.ctor.call(this);this.T=new p.Yk(p.he,
p.ge);this.hA=new ArrayBuffer(32);this.gA=new ArrayBuffer(64);var a=this.hA,c=this.gA,d=p.nb.BYTES_PER_ELEMENT,e=p.zd.BYTES_PER_ELEMENT;this.nF=[new p.nb(0,0,a,0),new p.nb(0,0,a,d),new p.nb(0,0,a,2*d),new p.nb(0,0,a,3*d)];this.fA=[new p.zd(0,0,0,1,c,0),new p.zd(0,0,0,1,c,e),new p.zd(0,0,0,1,c,2*e),new p.zd(0,0,0,1,c,3*e)];this.yA=p.M.createBuffer();this.Ay=p.M.createBuffer()},Lk:function(a,c){this.T=1==arguments.length?a:{src:a,sb:c};p.ed===p.Hf&&(this.Fn=this.T&&1==this.T.src&&771==this.T.sb)},q:function(a,
c,d){if(!p.mc.prototype.q.call(this))return!1;p.ed!==p.Hf&&this.ig(p.dh.d().Kh(p.MK));var e=p.N.d().Cb;a=a||new p.Ab(0,0,0,255);c=c||e.width;d=d||e.height;e=this.qc;e.i=a.i;e.h=a.h;e.g=a.g;e=this.Kd;e.i=a.i;e.h=a.h;e.g=a.g;this.Vf=this.Kb=a.D;this.ea(c,d);this.$c();return!0},ea:null,FN:function(a,c){var d=this.nF;2===arguments.length?(d[1].x=a,d[2].y=c,d[3].x=a,d[3].y=c,this.eE(),p.mc.prototype.ea.call(this,a,c)):(d[1].x=a.width,d[2].y=a.height,d[3].x=a.width,d[3].y=a.height,this.eE(),p.mc.prototype.ea.call(this,
a))},$c:null,pO:function(){},qO:function(){for(var a=this.qc,c=this.Kb,d=this.fA,e=0;4>e;e++)d[e].i=a.i/255,d[e].h=a.h/255,d[e].g=a.g/255,d[e].D=c/255;this.dE()},Ic:function(a){p.bh.prototype.Ic.call(this,a);this.$c()},Jc:function(a){p.bh.prototype.Jc.call(this,a);this.$c()},eE:function(){var a=p.M;a.bindBuffer(a.ARRAY_BUFFER,this.yA);a.bufferData(a.ARRAY_BUFFER,this.hA,a.STATIC_DRAW)},dE:function(){var a=p.M;a.bindBuffer(a.ARRAY_BUFFER,this.Ay);a.bufferData(a.ARRAY_BUFFER,this.gA,a.STATIC_DRAW)},
Ia:null,ol:function(a){a=a||p.M;var c=this.f(),d=p.ga.d(),e=this.qc;a.fillStyle="rgba("+(0|e.i)+","+(0|e.h)+","+(0|e.g)+","+this.Kb/255+")";a.fillRect(0,0,c.width*d.ja,-c.height*d.pa);p.zh++},Qf:function(a){a=a||p.M;p.yx(this);p.Wd(p.sg|p.fL);a.bindBuffer(a.ARRAY_BUFFER,this.yA);a.vertexAttribPointer(p.ke,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Ay);a.vertexAttribPointer(p.tp,4,a.FLOAT,!1,0,0);p.Aj(this.T.src,this.T.sb);a.drawArrays(a.TRIANGLE_STRIP,0,4)}});
p.ta.wc?(p.Pb.prototype.ctor=p.Pb.prototype.gh,p.Pb.prototype.ea=p.Pb.prototype.FN,p.Pb.prototype.$c=p.Pb.prototype.qO,p.Pb.prototype.Ia=p.Pb.prototype.Qf):(p.Pb.prototype.ctor=p.Pb.prototype.fh,p.Pb.prototype.ea=p.bh.prototype.ea,p.Pb.prototype.$c=p.Pb.prototype.pO,p.Pb.prototype.Ia=p.Pb.prototype.ol);p.Pb.create=function(a,c,d){var e=new p.Pb;switch(arguments.length){case 0:e.q();break;case 1:e.q(a);break;case 3:e.q(a,c,d);break;default:e.q()}return e};
p.gD=p.Pb.extend({oF:null,yn:null,Wn:null,zn:null,fl:null,Vt:!1,hq:null,gq:null,ctor:function(){p.Pb.prototype.ctor.call(this);this.oF=new p.lc(0,0,0);this.yn=new p.lc(0,0,0);this.fl=p.a(0,-1);this.zn=this.Wn=255;this.hq=p.a(0,0);this.gq=p.a(0,0)},ea:function(a,c){2===arguments.length?p.Pb.prototype.ea.call(this,a,c):p.Pb.prototype.ea.call(this,a);this.$c()},n3:function(){return this.Kd},n9:function(a){this.l(a)},b8:function(a){this.yn=a;this.$c()},m1:function(){return this.yn},o9:function(a){this.Wn=
a;this.$c()},o3:function(){return this.Wn},c8:function(a){this.zn=a;this.$c()},n1:function(){return this.zn},F9:function(a){this.fl.x=a.x;this.fl.y=a.y;this.$c()},N3:function(){return p.a(this.fl.x,this.fl.y)},D4:function(){return this.Vt},Q7:function(a){this.Vt=a;this.$c()},q:function(a,c,d){a=a||p.NA(0,0,0,255);c=c||p.NA(0,0,0,255);d=d||p.a(0,-1);var e=this.oF,f=this.yn;e.i=a.i;e.h=a.h;e.g=a.g;this.Wn=a.D;f.i=c.i;f.h=c.h;f.g=c.g;this.zn=c.D;this.fl=d;this.Vt=!0;p.Pb.prototype.q.call(this,p.t(a.i,
a.h,a.g,255));return!0},Ia:function(a){if(p.ed===p.Tj)p.Pb.prototype.Ia.call(this,a);else{a=a||p.M;this.Fn&&(a.globalCompositeOperation="lighter");a.save();var c=p.ga.d(),d=this.Kb/255,e=this.f().width*c.ja,c=this.f().height*c.pa,f=a.createLinearGradient(this.hq.x,this.hq.y,this.gq.x,this.gq.y),g=this.qc,h=this.yn;f.addColorStop(0,"rgba("+Math.round(g.i)+","+Math.round(g.h)+","+Math.round(g.g)+","+(this.Wn/255*d).toFixed(4)+")");f.addColorStop(1,"rgba("+Math.round(h.i)+","+Math.round(h.h)+","+Math.round(h.g)+
","+(this.zn/255*d).toFixed(4)+")");a.fillStyle=f;a.fillRect(0,0,e,-c);0!=this.wN&&a.rotate(this.jZ);a.restore()}},$c:function(){var a=this.fl;if(p.ed===p.Hf){var c=0.5*this.f().width,d=0.5*this.f().height;this.hq.x=c*-a.x+c;this.hq.y=d*a.y-d;this.gq.x=c*a.x+c;this.gq.y=d*-a.y-d}else if(d=p.IB(a),0!==d){c=Math.sqrt(2);a=p.a(a.x/d,a.y/d);this.Vt&&(a=p.Ci(a,1/(Math.abs(a.x)+Math.abs(a.y))*c));var e=this.Kb/255,f=this.qc,g=this.yn,d=f.i/255,h=f.h/255,f=f.g/255,k=this.Wn*e/255,l=g.i/255,m=g.h/255,g=g.g/
255,e=this.zn*e/255,n=this.fA,r=n[0],q=n[1],v=n[2],n=n[3];r.i=l+(c+a.x+a.y)/(2*c)*(d-l);r.h=m+(c+a.x+a.y)/(2*c)*(h-m);r.g=g+(c+a.x+a.y)/(2*c)*(f-g);r.D=e+(c+a.x+a.y)/(2*c)*(k-e);q.i=l+(c-a.x+a.y)/(2*c)*(d-l);q.h=m+(c-a.x+a.y)/(2*c)*(h-m);q.g=g+(c-a.x+a.y)/(2*c)*(f-g);q.D=e+(c-a.x+a.y)/(2*c)*(k-e);v.i=l+(c+a.x-a.y)/(2*c)*(d-l);v.h=m+(c+a.x-a.y)/(2*c)*(h-m);v.g=g+(c+a.x-a.y)/(2*c)*(f-g);v.D=e+(c+a.x-a.y)/(2*c)*(k-e);n.i=l+(c-a.x-a.y)/(2*c)*(d-l);n.h=m+(c-a.x-a.y)/(2*c)*(h-m);n.g=g+(c-a.x-a.y)/(2*c)*
(f-g);n.D=e+(c-a.x-a.y)/(2*c)*(k-e);this.dE()}}});p.gD.create=function(a,c,d){var e=new p.gD;switch(arguments.length){case 2:if(e&&e.q(a,c))return e;break;case 3:if(e&&e.q(a,c,d))return e;break;case 0:if(e&&e.q())return e;break;default:throw"Arguments error ";}return null};
p.hD=p.mc.extend({ck:0,wg:null,q4:function(a){this.wg=[];this.wg.push(a);this.ck=0;this.s(a);return!0},jR:function(a){this.wg=a;this.ck=0;this.s(this.wg[this.ck]);return!0},h$:function(a){a>=this.wg.length?p.log("cc.LayerMultiplex.switchTo():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.wg[this.ck],!0),this.ck=a,this.s(this.wg[a]))},i$:function(a){a>=this.wg.length?p.log("cc.LayerMultiplex.switchToAndReleaseMe():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.wg[this.ck],
!0),this.wg[this.ck]=null,this.ck=a,this.s(this.wg[a]))},DZ:function(a){a?this.wg.push(a):p.log("cc.Layer.addLayer(): layer should be non-null")}});p.hD.create=function(){0<arguments.length&&null==arguments[arguments.length-1]&&p.log("parameters should not be ending with null in Javascript");var a=new p.hD;return a.jR(arguments)?a:null};p.Kx=-1;
p.so=function(a){function c(){var c=p.so,e=a.width,h=a.height;d[0].width=e;d[0].height=h;d[1].width=e;d[1].height=h;d[2].width=e;d[2].height=h;d[3].width=e;d[3].height=h;c.canvas.width=e;c.canvas.height=h;var k=c.canvas.getContext("2d");k.drawImage(a,0,0);c.xC.width=e;c.xC.height=h;for(var k=k.getImageData(0,0,e,h).data,l=0;4>l;l++){var m=d[l].getContext("2d");m.getImageData(0,0,e,h).data;c.$I.drawImage(a,0,0);for(var n=c.$I.getImageData(0,0,e,h),r=n.data,q=0;q<k.length;q+=4)r[q]=0===l?k[q]:0,r[q+
1]=1===l?k[q+1]:0,r[q+2]=2===l?k[q+2]:0,r[q+3]=k[q+3];m.putImageData(n,0,0)}a.onload=null}if(a.hasOwnProperty("channelCache"))return a.fP;var d=[document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas")];try{c()}catch(e){a.onload=c}return a.fP=d};p.so.canvas=document.createElement("canvas");p.so.xC=document.createElement("canvas");p.so.$I=p.so.xC.getContext("2d");
p.u0=function(a,c,d){d||(d=p.rect(0,0,a.width,a.height),d=p.kp(d));c=c instanceof p.zd?p.t(255*c.i,255*c.h,255*c.g,255*c.D):p.t(c.i,c.h,c.g,50);var e=document.createElement("canvas"),f=e.getContext("2d");e.width!=d.width&&(e.width=d.width);e.height!=d.height&&(e.height=d.height);f.save();f.drawImage(a,d.x,d.y,d.width,d.height,0,0,d.width,d.height);f.globalCompositeOperation="source-in";f.globalAlpha=c.D/255;f.fillStyle="rgb("+c.i+","+c.h+","+c.g+")";f.fillRect(0,0,d.width,d.height);f.restore();return e};
p.$A=function(a,c,d,e,f){e||(e=p.rect(0,0,a.width,a.height));a=null==d.D?p.yv(d.i/255,d.h/255,d.g/255,1):d;d=Math.min(e.width,c[0].width);var g=Math.min(e.height,c[0].height),h;f?(h=f.getContext("2d"),h.clearRect(0,0,d,g)):(f=document.createElement("canvas"),f.width=d,f.height=g,h=f.getContext("2d"));h.save();h.globalCompositeOperation="lighter";var k=h.globalAlpha;0<a.i&&(h.globalAlpha=a.i*k,h.drawImage(c[0],e.x,e.y,d,g,0,0,d,g));0<a.h&&(h.globalAlpha=a.h*k,h.drawImage(c[1],e.x,e.y,d,g,0,0,d,g));
0<a.g&&(h.globalAlpha=a.g*k,h.drawImage(c[2],e.x,e.y,d,g,0,0,d,g));1>a.i+a.h+a.g&&(h.globalAlpha=k,h.drawImage(c[3],e.x,e.y,d,g,0,0,d,g));h.restore();return f};p.bG=function(a,c){if(!a)return null;if(!c)return a;var d=document.createElement("canvas");d.width=c.width;d.height=c.height;var e=d.getContext("2d");e.translate(d.width/2,d.height/2);e.rotate(-1.5707963267948966);e.drawImage(a,c.x,c.y,c.height,c.width,-c.height/2,-c.width/2,c.height,c.width);return d};
p.nY=function(a,c,d,e,f,g){this.scale=c;this.rotation=d;this.Pk=e;this.visible=g};p.Jf=function(a){return 0|a};p.PK&&(p.Jf=function(a){return a});
p.A=p.lb.extend({Ua:!0,Ea:null,Dc:0,Va:null,xa:!1,kh:null,gi:null,rk:!1,Rl:null,T:null,sa:null,na:null,Ec:!1,Tb:null,sh:null,$b:!1,Yb:!1,Zb:!1,ab:!1,ld:null,QE:null,bJ:function(){return this.ab},vf:function(a,c){this.ld.push({zj:a,yh:c})},Dd:function(){for(var a=this.ld,c=0,d=a.length;c<d;c++){var e=a[c];e.zj.call(e.yh,this)}a.length=0},dH:function(){return this.xa},hg:function(a){this.xa=a},g5:function(){return this.Ec},C0:function(){return this.Dc},ee:function(a){this.Dc=a},hB:function(){return p.rect(this.na.x,
this.na.y,this.na.width,this.na.height)},GG:function(){return this.Ea},Yo:function(a){this.Ea=a},m3:function(){return this.Va},m9:function(a){this.Va=a},t2:function(){return this.Tb},qr:function(){return this.T},be:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrame(): spriteFrame should be non-null";a.ab||(this.ab=!1,a.vf(this.dA,this));var c=this.Aa(a.Q(),a.Ud());this.Ro(a);return c},dA:null,eO:function(a){this.Ja();this.jb(a.Ud(),a.Qc,a.Pc);this.Dd()},dO:function(a){this.Ja();this.jb(a.Ud(),
a.Qc,a.Pc);a=this.bd();255===a.i&&255===a.h&&255===a.g||this.Rt();this.Dd()},ZG:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";a=p.Lf.d().Pg(a);return this.be(a)},H$:function(a){this.Ea=a.Ea;this.Va=a},qC:function(a){this.na.x=a.x;this.na.y=a.y;this.na.width=a.width;this.na.height=a.height},vd:function(){if(this.Ld){for(var a,c,d=this.o,e,f=1;f<d.length;f++){c=d[f];a=f-1;for(e=d[a];0<=a&&(c.Pa<e.Pa||c.Pa==e.Pa&&c.pf<e.pf);)d[a+1]=e,a-=1,e=d[a];d[a+
1]=c}this.Va&&this.Nf(d,p.I.kf.vd);this.Ld=!1}},Ur:function(a,c){if(!a)throw"cc.Sprite.reorderChild(): child should be non-null";-1===this.o.indexOf(a)?p.log("cc.Sprite.reorderChild(): this child is not in children list"):c!==a.Pa&&(this.Va&&!this.Ld&&(this.Zz(),this.Va.SH(!0)),p.I.prototype.Ur.call(this,a,c))},removeChild:function(a,c){this.Va&&this.Va.ym(a);p.I.prototype.removeChild.call(this,a,c)},Lh:function(a){var c=this.o,d=this.Va;if(d&&null!=c)for(var e=0,f=c.length;e<f;e++)d.ym(c[e]);p.I.prototype.Lh.call(this,
a);this.gi=!1},iI:function(a){this.kh=a;this.hg(a);a=this.o;if(null!=a)for(var c=0;c<a.length;c++)a[c]instanceof p.A&&a[c].iI(!0)},rg:function(){this.Va&&!this.kh&&(this.xa=this.kh=!0,this.gi&&this.iI(!0))},C:function(a,c){2<=arguments.length?p.I.prototype.C.call(this,a,arguments[1]):p.I.prototype.C.call(this,a);this.rg()},Dw:function(a){p.I.prototype.Dw.call(this,a);this.rg()},Ew:function(a){p.I.prototype.Ew.call(this,a);this.rg()},Fw:function(a){p.I.prototype.Fw.call(this,a);this.rg()},Hw:function(a){p.I.prototype.Hw.call(this,
a);this.rg()},Iw:function(a){p.I.prototype.Iw.call(this,a);this.rg()},Wo:function(a){p.I.prototype.Wo.call(this,a);this.rg()},Dm:function(a){p.I.prototype.Dm.call(this,a);this.rg()},Ij:function(a,c){p.I.prototype.Ij.call(this,a,c);this.rg()},HI:function(a){p.I.prototype.HI.call(this,a);this.rg()},la:function(a,c){2===arguments.length?p.I.prototype.la.call(this,a,c):p.I.prototype.la.call(this,a);this.rg()},u:function(a){p.I.prototype.u.call(this,a);this.rg()},xi:function(a){this.Va?p.log("cc.Sprite.ignoreAnchorPointForPosition(): it is invalid in cc.Sprite when using SpriteBatchNode"):
p.I.prototype.xi.call(this,a)},bU:function(a){this.Yb!=a&&(this.Yb=a,this.jb(this.na,this.Ec,this.ia),this.Ja())},cU:function(a){this.Zb!=a&&(this.Zb=a,this.jb(this.na,this.Ec,this.ia),this.Ja())},J4:function(){return this.Yb},K4:function(){return this.Zb},ff:null,NN:function(a){this.$b!==a&&(this.$b=a,this.ls())},MN:function(a){this.$b!==a&&(this.$b=a,this.Ja())},Gk:function(){return this.$b},Jc:null,tO:function(a){p.lb.prototype.Jc.call(this,a);this.ls()},AF:function(a){p.lb.prototype.Jc.call(this,
a);this.Fl()},Y7:function(a,c){if(!a)throw"cc.Sprite.setDisplayFrameWithAnimationName(): animationName must be non-null";var d=p.Vk.d().xG(a);d?(d=d.Hd[c])?this.Ro(d.Pg()):p.log("cc.Sprite.setDisplayFrameWithAnimationName(): Invalid frame index"):p.log("cc.Sprite.setDisplayFrameWithAnimationName(): Frame not found")},F0:function(){return this.Va},Zz:function(){if(!this.Ld){this.Ld=!0;for(var a=this.X;a&&a!=this.Va;)a.Zz(),a=a.getParent()}},Q:function(){return this.sa},vb:null,Pu:null,Ue:!1,Ut:!1,
Fn:!1,Rf:null,bo:null,Py:null,ctor:null,gh:function(a){p.lb.prototype.ctor.call(this);this.rk=!1;this.Tb=p.Zc();this.sh=p.Zc();this.T={src:p.he,sb:p.ge};this.na=p.rect(0,0,0,0);this.vb=new p.Qb;this.Pu=p.M.createBuffer();this.ab=this.Ue=!0;this.ld=[];if(a)if("string"===typeof a)a=p.Lf.d().Pg(a),this.be(a);else if("object"===typeof a)if(a instanceof p.jd)this.be(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new p.Nb;c.bf(a);c.ae();this.Aa(c)}else a instanceof p.Nb&&
this.Aa(a)},fh:function(a){p.lb.prototype.ctor.call(this);this.rk=!1;this.Tb=p.Zc();this.sh=p.Zc();this.T={src:p.he,sb:p.ge};this.na=p.rect(0,0,0,0);this.QE=!1;this.ab=!0;this.ld=[];this.bo={x:0,y:0,width:0,height:0,os:!1};this.Py=p.size(0,0);if(a)if("string"===typeof a)a=p.Lf.d().Pg(a),this.be(a);else if("object"===typeof a)if(a instanceof p.jd)this.be(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new p.Nb;c.bf(a);c.ae();this.Aa(c)}else a instanceof p.Nb&&this.Aa(a)},
O2:function(){return this.vb},Lk:null,BN:function(a,c){var d=this.T;1===arguments.length?(d.src=a.src,d.sb=a.sb):(d.src=a,d.sb=c)},AN:function(a,c){var d=this.T;1===arguments.length?(d.src=a.src,d.sb=a.sb):(d.src=a,d.sb=c);this.Fn=d&&(770==d.src&&1==d.sb||1==d.src&&1==d.sb)},q:null,iz:function(){if(0<arguments.length)return this.yi(arguments[0],arguments[1]);p.lb.prototype.q.call(this);this.xa=this.kh=!1;this.$b=!0;this.T.src=p.he;this.T.sb=p.ge;this.ba(null);this.ab=!0;this.Yb=this.Zb=!1;this.la(0.5,
0.5);this.Tb.w=0;this.Tb.G=0;this.gi=!1;var a={i:255,h:255,g:255,D:255};this.vb.ya.F=a;this.vb.Ha.F=a;this.vb.Fa.F=a;this.vb.Ba.F=a;this.Ue=!0;this.jb(p.Lc(),!1,p.cl());return!0},hz:function(){if(0<arguments.length)return this.yi(arguments[0],arguments[1]);p.lb.prototype.q.call(this);this.xa=this.kh=!1;this.$b=!0;this.T.src=p.he;this.T.sb=p.ge;this.ba(null);this.ab=!0;this.Yb=this.Zb=!1;this.la(0.5,0.5);this.Tb.w=0;this.Tb.G=0;this.gi=!1;this.jb(p.Lc(),!1,p.cl());return!0},yi:function(a,c){if(!a)throw"cc.Sprite.initWithFile(): filename should be non-null";
var d=p.Qa.d().Qw(a);if(!d)d=p.Qa.d().fc(a);else if(!c){var e=d.f();c=p.rect(0,0,e.width,e.height)}return this.Aa(d,c)},Aa:null,lq:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";d=d||!1;if(!p.lb.prototype.q.call(this))return!1;this.Va=null;this.xa=this.kh=!1;this.$b=!0;this.T.src=p.he;this.T.sb=p.ge;this.Yb=this.Zb=!1;this.la(0.5,0.5);this.Tb.w=0;this.Tb.G=0;this.gi=!1;var e=new p.Ab(255,255,255,255),f=this.vb;f.ya.F=e;f.Ha.F=e;f.Fa.F=e;f.Ba.F=e;
this.ab=e=a.eg();if(!e)return this.Ec=d||!1,c&&(e=this.na,e.x=c.x,e.y=c.y,e.width=c.width,e.height=c.height),a.vf(this.gv,this),!0;c||(e=a.f(),c=p.rect(0,0,e.width,e.height));this.ba(a);this.jb(c,d,c.Na);this.fe(null);return this.Ue=!0},kq:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";d=d||!1;if(!p.lb.prototype.q.call(this))return!1;this.Va=null;this.xa=this.kh=!1;this.$b=!0;this.T.src=p.he;this.T.sb=p.ge;this.Yb=this.Zb=!1;this.la(0.5,0.5);this.Tb.w=
0;this.Tb.G=0;this.gi=!1;var e=a.eg();this.ab=e;if(!e)return this.Ec=d||!1,c&&(this.na.x=c.x,this.na.y=c.y,this.na.width=c.width,this.na.height=c.height),a.vf(this.gv,this),!0;c||(e=a.f(),c=p.rect(0,0,e.width,e.height));this.Rf=a;this.ba(a);this.jb(c,d,c.Na);this.fe(null);return!0},gv:null,jO:function(a){if(!this.ab){this.ab=!0;var c=this.na;if(!c)c=a.f(),c=p.rect(0,0,c.width,c.height);else if(p.Bq(c)){var d=a.f();c.width=d.width;c.height=d.height}this.ba(a);this.jb(c,this.Ec,c.Na);this.fe(null);
this.Ue=!0;this.Dd()}},iO:function(a){if(!this.ab){this.ab=!0;var c=this.na;if(!c)c=a.f(),c=p.rect(0,0,c.width,c.height);else if(p.Bq(c)){var d=a.f();c.width=d.width;c.height=d.height}this.Rf=a;this.ba(a);this.jb(c,this.Ec,c.Na);this.fe(null);this.Dd()}},jb:null,hF:function(a,c,d){this.Ec=c||!1;d=d||a.Na;this.ea(d);this.qC(a);this.gF(a);a=this.sh;this.Yb&&(a.w=-a.w);this.Zb&&(a.G=-a.G);var e=this.na;this.Tb.w=a.w+(this.ia.wa-e.width)/2;this.Tb.G=a.G+(this.ia.ha-e.height)/2;if(this.Va)this.xa=!0;else{a=
0+this.Tb.w;c=0+this.Tb.G;d=a+e.width;var e=c+e.height,f=this.vb;f.ya.n={x:a,y:c,z:0};f.Ha.n={x:d,y:c,z:0};f.Fa.n={x:a,y:e,z:0};f.Ba.n={x:d,y:e,z:0};this.Ue=!0}},$z:function(a,c,d){this.Ec=c||!1;d=d||a.Na;this.ea(d);this.qC(a);c=this.bo;d=p.gd();c.x=0|a.x*d;c.y=0|a.y*d;c.width=0|a.width*d;c.height=0|a.height*d;c.os=!(0===c.width||0===c.height);a=this.sh;this.Yb&&(a.w=-a.w);this.Zb&&(a.G=-a.G);this.Tb.w=a.w+(this.ia.wa-this.na.width)/2;this.Tb.G=a.G+(this.ia.ha-this.na.height)/2;this.Va&&(this.xa=
!0)},Ff:null,BO:function(){if(this.xa){var a=this.vb,c=this.X;if(!this.va||c&&c!=this.Va&&c.rk)a.Ha.n={x:0,y:0,z:0},a.Fa.n={x:0,y:0,z:0},a.Ba.n={x:0,y:0,z:0},a.ya.n={x:0,y:0,z:0},this.rk=!0;else{this.rk=!1;var d=this.Rl=c&&c!=this.Va?p.Uk(this.Bf(),c.Rl):this.Bf(),e=this.na.Na,c=this.Tb.w,f=this.Tb.G,g=c+e.width,e=f+e.height,h=d.Ka,k=d.La,l=d.D,m=d.g,n=d.za,d=-d.qa,r=this.sv;a.ya.n={x:p.Jf(c*l-f*d+h),y:p.Jf(c*m+f*n+k),z:r};a.Ha.n={x:p.Jf(g*l-f*d+h),y:p.Jf(g*m+f*n+k),z:r};a.Fa.n={x:p.Jf(c*l-e*d+h),
y:p.Jf(c*m+e*n+k),z:r};a.Ba.n={x:p.Jf(g*l-e*d+h),y:p.Jf(g*m+e*n+k),z:r}}this.Ea.Uw(a,this.Dc);this.kh=!1;this.hg(!1)}this.gi&&this.Nf(this.o,p.I.kf.Ff);p.Rj&&(a=[p.a(this.vb.ya.n.x,this.vb.ya.n.y),p.a(this.vb.Ha.n.x,this.vb.Ha.n.y),p.a(this.vb.Ba.n.x,this.vb.Ba.n.y),p.a(this.vb.Fa.n.x,this.vb.Fa.n.y)],p.xf.Od(a,4,!0))},AO:function(){if(this.xa){var a=this.X;!this.va||a&&a!=this.Va&&a.rk?this.rk=!0:(this.rk=!1,this.Rl=a&&a!=this.Va?p.Uk(this.Bf(),a.Rl):this.Bf());this.xa=this.kh=!1}this.gi&&this.Nf(this.o,
p.I.kf.Ff)},s:null,hy:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.Pa);null==d&&(d=a.Sc);if(this.Va){if(!(a instanceof p.A)){p.log("cc.Sprite.addChild(): cc.Sprite only supports cc.Sprites as children when using cc.SpriteBatchNode");return}a.Q().vh!==this.Ea.Q().vh&&p.log("cc.Sprite.addChild(): cc.Sprite only supports a sprite using same texture as children when using cc.SpriteBatchNode");this.Va.appendChild(a);this.Ld||this.Zz()}p.I.prototype.s.call(this,
a,c,d);this.gi=!0},gy:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.Pa);null==d&&(d=a.Sc);p.I.prototype.s.call(this,a,c,d);this.gi=!0},ls:function(){var a=this.qc,c=this.Kb,a={i:a.i,h:a.h,g:a.g,D:c};this.$b&&(a.i*=c/255,a.h*=c/255,a.g*=c/255);c=this.vb;c.ya.F=a;c.Ha.F=a;c.Fa.F=a;c.Ba.F=a;this.Va&&(this.Dc!=p.Kx?this.Ea.Uw(c,this.Dc):this.xa=!0);this.Ue=!0},V:null,Yz:function(a){p.lb.prototype.V.call(this,a);this.ls()},Gq:function(a){p.lb.prototype.V.call(this,
a);this.Fl()},l:null,Vz:function(a){p.lb.prototype.l.call(this,a);this.ls()},Eq:function(a){var c=this.bd();if(c.i!==a.i||c.h!==a.h||c.g!==a.g)p.lb.prototype.l.call(this,a),this.Rt(),this.Fl()},Ic:null,sO:function(a){p.lb.prototype.Ic.call(this,a);this.ls()},rA:function(a){var c=this.bd();p.lb.prototype.Ic.call(this,a);a=this.qc;if(c.i!==a.i||c.h!==a.h||c.g!==a.g)this.Rt(),this.Fl()},Ro:null,HN:function(a){this.Ja();var c=a.ub;this.sh.w=c.x;this.sh.G=c.y;c=a.Q();a.ab||(this.ab=!1,a.vf(function(a){this.ab=
!0;var c=a.Q();c!=this.sa&&this.ba(c);this.jb(a.Ud(),a.Qc,a.Pc);this.Dd()},this));c!=this.sa&&this.ba(c);this.Ec=a.Qc;this.jb(a.Ud(),this.Ec,a.Pc)},GN:function(a){this.Ja();var c=a.ub;this.sh.w=c.x;this.sh.G=c.y;this.Ec=a.Qc;var c=a.Q(),d=a.ab;d||(this.ab=!1,a.vf(function(a){this.ab=!0;var c=a.Q();c!=this.sa&&this.ba(c);this.jb(a.Ud(),a.Qc,a.Pc);this.Dd()},this));c!=this.sa&&this.ba(c);this.Ec&&(this.Rf=c);this.jb(a.Ud(),this.Ec,a.Pc);this.Ut=!1;d&&(a=this.bd(),255===a.i&&255===a.h&&255===a.g||this.Rt())},
eH:null,IM:function(a){return p.MH(a.Ud(),this.na)&&a.Q().getName()==this.sa.getName()&&p.DH(a.ub,this.sh)},HM:function(a){return a.Q()!=this.sa?!1:p.MH(a.Ud(),this.na)},EP:function(){return p.jd.od(this.sa,p.Tm(this.na),this.Ec,p.DK(this.sh),p.Jx(this.ia))},fe:null,zN:function(a){if(this.Va=a)this.Rl={D:1,g:0,qa:0,za:1,Ka:0,La:0},this.Yo(this.Va.Ea);else{this.Dc=p.Kx;this.Yo(null);this.kh=!1;this.hg(!1);a=this.Tb.w;var c=this.Tb.G,d=a+this.na.width,e=c+this.na.height,f=this.vb;f.ya.n={x:a,y:c,z:0};
f.Ha.n={x:d,y:c,z:0};f.Fa.n={x:a,y:e,z:0};f.Ba.n={x:d,y:e,z:0};this.Ue=!0}},yN:function(a){(this.Va=a)?(this.Rl={D:1,g:0,qa:0,za:1,Ka:0,La:0},this.Yo(this.Va.Ea)):(this.Dc=p.Kx,this.Yo(null),this.kh=!1,this.hg(!1))},ba:null,Iq:function(a){if(a&&!(a instanceof p.Nb))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.Va&&this.Va.Q()!=a?p.log("cc.Sprite.setTexture(): Batched sprites should use the same texture as the batchnode"):(a?this.ig(p.dh.d().Kh(p.Ix)):this.ig(p.dh.d().Kh(p.MK)),
this.Va||this.sa==a||(this.sa=a,this.Sl()))},Hq:function(a){if(a&&!(a instanceof p.Nb))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.sa!=a&&(a&&a.rc instanceof HTMLImageElement&&(this.Rf=a),this.sa=a)},Sl:function(){this.Va?p.log("cc.Sprite._updateBlendFunc(): _updateBlendFunc doesn't work when the sprite is rendered using a cc.CCSpriteBatchNode"):this.sa&&this.sa.Br()?(this.T.src=p.he,this.T.sb=p.ge,this.ff(!0)):(this.T.src=770,this.T.sb=771,this.ff(!1))},
Rt:function(){var a,c=this.sa,d=this.bo;c&&d.os&&this.Rf&&(a=c.rc)&&(c=p.Qa.d().HG(this.Rf.rc))&&(this.Ut=!0,a instanceof HTMLCanvasElement&&!this.Ec&&!this.QE?p.$A(a,c,this.qc,d,a):(a=p.$A(a,c,this.qc,d),c=new p.Nb,c.bf(a),c.ae(),this.ba(c)))},gF:function(a){a=p.Tm(a);var c=this.Va?this.Ea.Q():this.sa;if(c){var d=c.wo(),e=c.vo(),f,g=this.vb;this.Ec?(p.Ts?(c=(2*a.x+1)/(2*d),d=c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/d,f=a.y/e,a=(a.y+a.width)/e),this.Yb&&
(e=f,f=a,a=e),this.Zb&&(e=c,c=d,d=e),g.ya.r.Ca=c,g.ya.r.ca=f,g.Ha.r.Ca=c,g.Ha.r.ca=a,g.Fa.r.Ca=d,g.Fa.r.ca=f,g.Ba.r.Ca=d,g.Ba.r.ca=a):(p.Ts?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+a.height)/e),this.Yb&&(e=c,c=d,d=e),this.Zb&&(e=f,f=a,a=e),g.ya.r.Ca=c,g.ya.r.ca=a,g.Ha.r.Ca=d,g.Ha.r.ca=a,g.Fa.r.Ca=c,g.Fa.r.ca=f,g.Ba.r.Ca=d,g.Ba.r.ca=f);this.Ue=!0}},Ia:null,Qf:function(){if(this.ab){var a=p.M,c=this.sa;c?c.dc&&(this.sc.Me(),
this.sc.jg(),p.Aj(this.T.src,this.T.sb),p.a4(0,c),p.Wd(p.Bt),a.bindBuffer(a.ARRAY_BUFFER,this.Pu),this.Ue&&(a.bufferData(a.ARRAY_BUFFER,this.vb.HA,a.DYNAMIC_DRAW),this.Ue=!1),a.vertexAttribPointer(0,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(1,4,a.UNSIGNED_BYTE,!0,24,12),a.vertexAttribPointer(2,2,a.FLOAT,!1,24,16),a.drawArrays(a.TRIANGLE_STRIP,0,4)):(this.sc.Me(),this.sc.jg(),p.Aj(this.T.src,this.T.sb),p.bg(null),p.Wd(p.sg|p.fL),a.bindBuffer(a.ARRAY_BUFFER,this.Pu),this.Ue&&(p.M.bufferData(p.M.ARRAY_BUFFER,
this.vb.HA,p.M.STATIC_DRAW),this.Ue=!1),a.vertexAttribPointer(p.ke,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(p.tp,4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));p.zh++;0!==p.Rj&&(1===p.Rj?(a=this.vb,a=[p.a(a.Fa.n.x,a.Fa.n.y),p.a(a.ya.n.x,a.ya.n.y),p.a(a.Ha.n.x,a.Ha.n.y),p.a(a.Ba.n.x,a.Ba.n.y)],p.xf.Od(a,4,!0)):2===p.Rj&&(a=this.hB().Na,c=this.Tb,a=[p.a(c.x,c.y),p.a(c.x+a.width,c.y),p.a(c.x+a.width,c.y+a.height),p.a(c.x,c.y+a.height)],p.xf.Od(a,4,!0)))}},ol:function(a){if(this.ab){a=
a||p.M;this.Fn&&(a.globalCompositeOperation="lighter");var c=p.ga.d().ja,d=p.ga.d().pa;a.globalAlpha=this.Kb/255;var e=this.na,f=this.ia,g=this.Tb,h=this.Py,k=0|g.w,l=-g.G-e.height,m=this.bo;h.width=e.width*c;h.height=e.height*d;if(this.Yb||this.Zb)a.save(),this.Yb&&(k=-g.w-e.width,a.scale(-1,1)),this.Zb&&(l=g.G,a.scale(1,-1));k*=c;l*=d;this.sa&&m.os?(f=this.sa.rc,this.Ut?a.drawImage(f,0,0,m.width,m.height,k,l,h.width,h.height):a.drawImage(f,m.x,m.y,m.width,m.height,k,l,h.width,h.height)):0!==f.wa&&
(h=this.bd(),a.fillStyle="rgba("+h.i+","+h.h+","+h.g+",1)",a.fillRect(k,l,f.wa*c,f.ha*d));1===p.Rj?(a.strokeStyle="rgba(0,255,0,1)",k/=c,l=-(l/d),k=[p.a(k,l),p.a(k+e.width,l),p.a(k+e.width,l-e.height),p.a(k,l-e.height)],p.xf.Od(k,4,!0)):2===p.Rj&&(a.strokeStyle="rgba(0,255,0,1)",c=this.na.Na,l=-l,k=[p.a(k,l),p.a(k+c.width,l),p.a(k+c.width,l-c.height),p.a(k,l-c.height)],p.xf.Od(k,4,!0));(this.Yb||this.Zb)&&a.restore();p.zh++}}});
p.ta.wc?(b=p.A.prototype,b.dA=p.A.prototype.eO,b.ff=p.A.prototype.NN,b.Jc=p.A.prototype.tO,b.ctor=p.A.prototype.gh,b.Lk=p.A.prototype.BN,b.q=p.A.prototype.iz,b.Aa=p.A.prototype.lq,b.gv=p.A.prototype.jO,b.jb=p.A.prototype.hF,b.Ff=p.A.prototype.BO,b.s=p.A.prototype.hy,b.V=p.A.prototype.Yz,b.l=p.A.prototype.Vz,b.Ic=p.A.prototype.sO,b.Ro=p.A.prototype.HN,b.eH=p.A.prototype.IM,b.fe=p.A.prototype.zN,b.ba=p.A.prototype.Iq,b.Ia=p.A.prototype.Qf):(b=p.A.prototype,b.dA=p.A.prototype.dO,b.ff=p.A.prototype.MN,
b.Jc=p.A.prototype.AF,b.ctor=p.A.prototype.fh,b.Lk=p.A.prototype.AN,b.q=p.A.prototype.hz,b.Aa=p.A.prototype.kq,b.gv=p.A.prototype.iO,b.jb=p.A.prototype.$z,b.Ff=p.A.prototype.AO,b.s=p.A.prototype.gy,b.V=p.A.prototype.Gq,b.l=p.A.prototype.Eq,b.Ic=p.A.prototype.rA,b.Ro=p.A.prototype.GN,b.eH=p.A.prototype.HM,b.fe=p.A.prototype.yN,b.ba=p.A.prototype.Hq,b.Ia=p.A.prototype.ol);
p.A.od=function(a,c){var d=arguments.length,e=new p.A;switch(d){case 1:return e&&e.Aa(a)?e:null;case 2:return e&&e.Aa(a,c)?e:null;default:throw"Sprite.createWithTexture(): Argument must be non-nil ";}};p.A.create=function(a,c){var d=arguments.length,e=new p.A;if(0===d){if(e.q())return e}else if(e&&e.q(a,c))return e;return null};
p.A.aG=function(a){var c=null;if("string"==typeof a){if(c=p.Lf.d().Pg(a),!c)return p.log("Invalid spriteFrameName: "+a),null}else return p.log("Invalid argument. Expecting string."),null;return(a=new p.A)&&a.be(c)?a:null};p.A.$F=function(a){var c=new p.A;return c&&c.be(a)?c:null};p.Ii=p.ra.extend({Lq:null,Fd:0,dr:null,ctor:function(){this.Fd=0},B:function(){var a=new p.Ii;a.be(this.Lq.B(),this.Fd,this.dr);return a},Bv:function(){return p.B(this)},copy:function(){var a=new p.Ii;a.be(this.Lq.B(),this.Fd,this.dr);return a},be:function(a,c,d){this.Lq=a;this.Fd=c;this.dr=d;return!0},Pg:function(){return this.Lq},gf:function(a){this.Lq=a},f1:function(){return this.Fd},X7:function(a){this.Fd=a},L3:function(){return this.dr},D9:function(a){this.dr=a}});
p.Hi=p.ra.extend({Hd:null,hj:0,Cl:!1,ma:0,Fd:0,Pl:0,ctor:function(){this.Hd=[]},x1:function(){return this.Hd},mI:function(a){this.Hd=a},FA:function(a){var c=new p.Ii;c.be(a,1,null);this.Hd.push(c);this.Pl++},IZ:function(a){a=p.Qa.d().fc(a);var c=p.Lc();c.Na=a.f();a=p.jd.od(a,c);this.FA(a)},JZ:function(a,c){var d=p.jd.od(a,c);this.FA(d)},Cr:function(a,c,d){p.ts(a,p.Ii);this.Fd=c;this.hj=d;this.mI([]);for(c=0;c<a.length;c++)d=a[c],this.Hd.push(d),this.Pl+=d.Fd;return!0},B:function(){var a=new p.Hi;
a.Cr(this.lE(),this.Fd,this.hj);a.Cw(this.Cl);return a},Bv:function(){var a=new p.Hi;a.Cr(this.lE(),this.Fd,this.hj);a.Cw(this.Cl);return a},lE:function(){for(var a=[],c=0;c<this.Hd.length;c++)a.push(this.Hd[c].B());return a},copy:function(){return this.Bv(null)},N1:function(){return this.hj},v8:function(a){this.hj=a},Cw:function(a){this.Cl=a},X2:function(){return this.Cl},Ze:function(){return this.Pl*this.Fd},e1:function(){return this.Fd},W7:function(a){this.Fd=a},D3:function(){return this.Pl},$G:function(a,
c){p.ts(a,p.jd);this.hj=1;this.Fd=c||0;this.mI([]);if(a)for(var d=0;d<a.length;d++){var e=a[d],f=new p.Ii;f.be(e,1,null);this.Hd.push(f);this.Pl++}return!0},WH:function(){},UB:function(){}});p.Hi.create=function(a,c,d){var e=arguments.length,f=new p.Hi;0==e?f.$G(null,0):2==e?f.$G(a,c||0):3==e&&f.Cr(a,c,d);return f};p.Hi.ZF=function(a,c,d){var e=new p.Hi;e.Cr(a,c,d);return e};p.Vk=p.ra.extend({KF:function(a,c){this.il[c]=a},d7:function(a){a&&this.il.hasOwnProperty(a)&&delete this.il[a]},xG:function(a){return this.il.hasOwnProperty(a)?this.il[a]:null},vL:function(a,c){var d=a.animations;if(d){var e=1,f=a.properties;if(f)for(var e=null!=f.format?parseInt(f.format):e,f=f.spritesheets,g=p.Lf.d(),h=p.hd.d(),k,l=0;l<f.length;l++)k=h.wG(f[l],c),g.RF(k);switch(e){case 1:this.bN(d);break;case 2:this.cN(d);break;default:p.log("cc.AnimationCache. Invalid animation format")}}else p.log("cocos2d: cc.AnimationCache: No animations were found in provided dictionary.")},
yZ:function(a){if(!a)throw"cc.AnimationCache.addAnimations(): Invalid texture file name";var c=p.hd.d(),d=c.Td(a);(c=c.Dv(d))?this.vL(c,a):p.log("cc.AnimationCache.addAnimations(): File could not be found")},bN:function(a){var c=p.Lf.d(),d;for(d in a){var e=a[d],f=e.frames,e=parseFloat(e.delay)||0,g=null;if(f){for(var g=[],h=0;h<f.length;h++){var k=c.Pg(f[h]);if(k){var l=new p.Ii;l.be(k,1,null);g.push(l)}else p.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+f[h]+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}0===
g.length?p.log("cocos2d: cc.AnimationCache: None of the frames for animation '"+d+"' were found in the cc.SpriteFrameCache. Animation is not being added to the Animation Cache."):(g.length!=f.length&&p.log("cocos2d: cc.AnimationCache: An animation in your dictionary refers to a frame which is not in the cc.SpriteFrameCache. Some or all of the frames for the animation '"+d+"' may be missing."),g=p.Hi.ZF(g,e,1),p.Vk.d().KF(g,d))}else p.log("cocos2d: cc.AnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},
cN:function(a){var c=p.Lf.d(),d;for(d in a){var e=a[d],f=parseInt(e.loops),f=e.loop?p.bl:isNaN(f)?1:f,g=e.restoreOriginalFrame&&!0==e.restoreOriginalFrame?!0:!1,h=e.frames;if(h){for(var k=[],l=0;l<h.length;l++){var m=h[l],n=m.spriteframe,r=c.Pg(n);if(r){var n=parseFloat(m.delayUnits)||0,m=m.notification,q=new p.Ii;q.be(r,n,m);k.push(q)}else p.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+n+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}e=
parseFloat(e.delayPerUnit)||0;h=new p.Hi;h.Cr(k,e,f);h.Cw(g);p.Vk.d().KF(h,d)}else p.log("cocos2d: CCAnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},q:function(){this.il={};return!0},il:null});p.Vk.JS=function(){p.Bm&&(p.Bm.il=null,p.Bm=null)};p.Vk.d=function(){null===p.Bm&&(p.Bm=new p.Vk,p.Bm.q());return p.Bm};p.Bm=null;p.jd=p.ra.extend({ub:null,Pc:null,re:null,Qc:!1,na:null,of:null,Re:null,sa:null,ao:"",ab:!1,du:null,ctor:function(){this.ub=p.Zc();this.of=p.Zc();this.Pc=p.Hl();this.Qc=!1;this.Re=p.Hl();this.ao="";this.sa=null;this.ab=!1},bJ:function(){return this.ab},vf:function(a,c){null==this.du&&(this.du=[]);this.du.push({zj:a,yh:c})},Dd:function(){var a=this.du;if(a){for(var c=0,d=a.length;c<d;c++){var e=a[c];e.zj.call(e.yh,this)}a.length=0}},wQ:function(){var a=this.re;return p.rect(a.x,a.y,a.width,a.height)},
a9:function(a){this.re||(this.re=p.rect(0,0,0,0));this.re.x=a.x;this.re.y=a.y;this.re.width=a.width;this.re.height=a.height;this.na=p.kp(a)},a5:function(){return this.Qc},i9:function(a){this.Qc=a},Ud:function(){var a=this.na;return p.rect(a.x,a.y,a.width,a.height)},vI:function(a){this.na||(this.na=p.rect(0,0,0,0));this.na.x=a.x;this.na.y=a.y;this.na.width=a.width;this.na.height=a.height;this.re=p.Tm(this.na)},s2:function(){return this.of},J8:function(a){this.of.w=a.x;this.of.G=a.y;p.Et(this.of,this.ub)},
z2:function(){return this.Re},M8:function(a){this.Re.wa=a.width;this.Re.ha=a.height},sQ:function(){return this.Pc},L8:function(a){this.Pc.wa=a.width;this.Pc.ha=a.height},Q:function(){if(this.sa)return this.sa;if(""!==this.ao){var a=p.Qa.d().fc(this.ao);a&&(this.ab=a.eg());return a}return null},ba:function(a){if(this.sa!=a){var c=a.eg();this.ab=c;this.sa=a;c||a.vf(function(a){this.ab=!0;if(this.Qc&&p.ed===p.Hf){var c=a.rc,c=p.bG(c,this.Ud()),f=new p.Nb;f.bf(c);f.ae();this.ba(f);c=this.Ud();this.vI(p.rect(0,
0,c.width,c.height))}c=this.na;0===c.width&&0===c.height&&(a=a.f(),this.na.width=a.width,this.na.height=a.height,this.re=p.Tm(this.na),this.Re.wa=this.re.width,this.Re.ha=this.re.height,this.Pc.wa=a.width,this.Pc.ha=a.height);this.Dd()},this)}},r2:function(){return this.ub},I8:function(a){this.ub.w=a.x;this.ub.G=a.y},B:function(){var a=new p.jd;a.Yv(this.ao,this.re,this.Qc,this.of,this.Re);a.ba(this.sa);return a},Bv:function(){var a=new p.jd;a.Yv(this.ao,this.re,this.Qc,this.of,this.Re);a.ba(this.sa);
return a},copy:function(){return this.Bv()},Aa:function(a,c,d,e,f){2===arguments.length&&(c=p.Tm(c));e=e||p.a(0,0);f=f||c.Na;this.ba(a);this.re=c;this.na=p.kp(c);this.of.w=e.x;this.of.G=e.y;p.Et(e,this.ub);this.Re.wa=f.width;this.Re.ha=f.height;p.$x(f,this.Pc);this.Qc=d||!1;return!0},Yv:function(a,c,d,e,f){2===arguments.length&&(c=p.Tm(c));e=e||p.a(0,0);f=f||c.Na;this.sa=null;this.ao=a;this.re=c;this.na=p.kp(c);this.Qc=d||!1;this.of.w=e.x;this.of.G=e.y;p.Et(e,this.ub);this.Re.wa=f.width;this.Re.ha=
f.height;p.$x(f,this.Pc);return!0}});p.jd.create=function(a,c,d,e,f){var g=new p.jd;switch(arguments.length){case 2:g.Yv(a,c);break;case 5:g.Yv(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};p.jd.od=function(a,c,d,e,f){var g=new p.jd;switch(arguments.length){case 2:g.Aa(a,c);break;case 5:g.Aa(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};
p.jd.SY=function(a,c,d,e,f){var g=new p.jd;g.sa=a;g.re=c;g.na=p.kp(c);g.of.w=e.x;g.of.G=e.y;p.Et(g.of,g.ub);g.Re.wa=f.width;g.Re.ha=f.height;p.$x(g.Re,g.Pc);g.Qc=d;return g};p.Lf=p.ra.extend({te:null,sk:null,qq:null,ctor:function(){this.te={};this.sk={};this.qq=[]},jy:function(a,c){var d=a.metadata||a.meta,e=a.frames,f=0;d&&(f=d.format,f=1>=f.length?parseInt(f):f);if(0>f||3<f)p.log("format is not supported for cc.SpriteFrameCache.addSpriteFramesWithDictionary");else for(var g in e)if(d=e[g]){var h=this.te[g];if(!h){if(0==f){var h=parseFloat(d.x),k=parseFloat(d.y),l=parseFloat(d.width),m=parseFloat(d.height),n=parseFloat(d.offsetX),r=parseFloat(d.offsetY),q=parseInt(d.originalWidth),
d=parseInt(d.originalHeight);q&&d||p.log("cocos2d: WARNING: originalWidth/Height not found on the cc.SpriteFrame. AnchorPoint won't work as expected. Regenrate the .plist");q=Math.abs(q);d=Math.abs(d);h=p.jd.od(c,p.rect(h,k,l,m),!1,p.a(n,r),p.size(q,d))}else if(1==f||2==f)h=p.zD(d.frame),k=!1,2==f&&(k=d.rotated),l=p.yD(d.offset),d=p.Mx(d.sourceSize),h=p.jd.od(c,h,k,l,d);else if(3==f){var h=p.Mx(d.spriteSize),k=p.yD(d.spriteOffset),l=p.Mx(d.spriteSourceSize),m=p.zD(d.textureRect),n=d.textureRotated,
r=d.aliases,q=g.toString(),v;for(v in r)this.sk.hasOwnProperty(r[v])&&p.log("cocos2d: WARNING: an alias with name "+v+" already exists"),this.sk[r[v]]=q;d.hasOwnProperty("spriteSize")&&(m=p.rect(m.x,m.y,h.width,h.height));h=p.jd.od(c,m,n,k,l)}else var z=d.filename,k=d.frame,h=d.sourceSize,k=p.rect(k.x,k.y,k.qJ,k.$d),d=d.rotated,l=p.a(0,0),h=p.size(h.qJ,h.$d),h=p.jd.od(c,k,d,l,h);p.ed===p.Hf&&h.Qc&&h.Q().eg()&&(d=h.Q().rc,d=p.bG(d,h.wQ()),k=new p.Nb,k.bf(d),k.ae(),h.ba(k),d=h.na,h.vI(p.rect(0,0,d.width,
d.height)));this.te[null!=z?z:g]=h}}},RF:function(a,c){if(!a)throw"cc.SpriteFrameCache.addSpriteFrames(): plist should be non-null";var d=p.hd.d(),e;"plist"==a.substr(a.lastIndexOf(".",a.length)+1,a.length)?(e=d.Td(a),e=d.Dv(e)):e=JSON.parse(d.FG(a));switch(arguments.length){case 1:if(!p.$w(this.qq,a)){var f="",g=e.metadata||e.meta;g&&(f=g.textureFileName||g.image);""!=f?f=d.wG(f,a):(f=a,f=f.substr(0,f.lastIndexOf(".",f.length)),f+=".png");(d=p.Qa.d().fc(f))?this.jy(e,d):p.log("cocos2d: cc.SpriteFrameCache: Couldn't load texture")}break;
case 2:if(c instanceof p.Nb)this.jy(e,c);else{if(!c)throw"cc.SpriteFrameCache.addSpriteFrames(): texture name should not be null";(d=p.Qa.d().fc(c))?this.jy(e,d):p.log("cocos2d: cc.SpriteFrameCache: couldn't load texture file. File not found "+c)}break;default:throw"Argument must be non-nil ";}},FA:function(a,c){this.te[c]=a},m7:function(){this.te=[];this.sk=[];this.qq={}},l7:function(a){a&&(this.sk.hasOwnProperty(a)&&delete this.sk[a],this.te.hasOwnProperty(a)&&delete this.te[a],this.qq={})},n7:function(a){var c=
p.hd.d(),d=c.Td(a),c=c.Dv(d);this.mN(c);p.$w(this.qq,a)&&p.xd(a)},mN:function(a){a=a.frames;for(var c in a)this.te.hasOwnProperty(c)&&delete this.te[c]},o7:function(a){for(var c in this.te){var d=this.te[c];d&&d.Q()==a&&delete this.te[c]}},Pg:function(a){var c;this.te.hasOwnProperty(a)&&(c=this.te[a]);if(!c){var d;this.sk.hasOwnProperty(a)&&(d=this.sk[a]);d&&(this.te.hasOwnProperty(d.toString())&&(c=this.te[d.toString()]),c||p.log("cocos2d: cc.SpriteFrameCahce: Frame "+a+" not found"))}return c}});
p.uw=null;p.Lf.d=function(){p.uw||(p.uw=new p.Lf);return p.uw};p.Lf.KS=function(){p.uw=null};p.ip=29;
p.eb=p.I.extend({Ea:null,T:null,Xc:null,KZ:function(a,c,d){if(!a)throw"cc.SpriteBatchNode.addQuadFromSprite(): child should be non-null";if(!(a instanceof p.A))return p.log("cc.SpriteBatchNode.addQuadFromSprite(): SpriteBatchNode only supports cc.Sprites as children"),null;a.ee(c);var e=0,f=this.Xc;if(f&&0<f.length)for(var g=0;g<f.length;g++){var h=f[g];h&&h.Dc>=c&&++e}this.Xc=p.Wk(f,a,e);p.I.prototype.s.call(this,a,c,d);this.SH(!1);return this},GG:function(){return this.Ea},Yo:function(a){a!=this.Ea&&
(this.Ea=a)},i1:function(){return this.Xc},yi:function(a,c){var d=p.Qa.d().Qw(a);d||(d=p.Qa.d().fc(a));return this.Aa(d,c)},Fl:function(){this.hE=!0},q:function(a,c){var d=p.Qa.d().Qw(a);d||(d=p.Qa.d().fc(a));return this.Aa(d,c)},Tv:function(){var a=this.Ea.Mc,c=Math.floor(4*(a+1)/3);p.log("cocos2d: CCSpriteBatchNode: resizing TextureAtlas capacity from "+a+" to "+c+".");this.Ea.nT(c)||p.log("cocos2d: WARNING: Not enough memory to resize the atlas")},f7:function(a,c){this.removeChild(this.o[a],c)},
LH:function(a,c){var d=a.o;if(d&&0<d.length)for(var e=0;e<d.length;e++){var f=d[e];f&&0>f.Pa&&(c=this.LH(f,c))}!a==this&&(a.ee(c),c++);if(d&&0<d.length)for(e=0;e<d.length;e++)(f=d[e])&&0<=f.Pa&&(c=this.LH(f,c));return c},nB:function(a){var c=a.o;return c&&0!=c.length?this.nB(c[c.length-1]):a.Dc},PR:function(a){var c=a.o;return c&&0!=c.length?this.PR(c[c.length-1]):a.Dc},PO:function(a,c){var d=a.getParent().o,e=p.bx(d,a),f=a.getParent()==this,g=null;0<e&&e<p.cL&&(g=d[e-1]);if(f)return 0==e?0:this.nB(g)+
1;if(0==e)return d=a.getParent(),0>c?d.Dc:d.Dc+1;if(0>g.Pa&&0>c||0<=g.Pa&&0<=c)return this.nB(g)+1;d=a.getParent();return d.Dc+1},SH:function(a){this.Ld=a},Lk:function(a,c){this.T=1==arguments.length?a:{src:a,sb:c}},qr:function(){return this.T},Ur:function(a,c){if(!a)throw"cc.SpriteBatchNode.addChild():child should be non-null";-1===this.o.indexOf(a)?p.log("cc.SpriteBatchNode.addChild(): Child doesn't belong to Sprite"):c!==a.Pa&&(p.I.prototype.Ur.call(this,a,c),this.Ja())},removeChild:function(a,
c){null!=a&&(-1===this.o.indexOf(a)?p.log("cc.SpriteBatchNode.addChild(): sprite batch node should contain the child"):(this.ym(a),p.I.prototype.removeChild.call(this,a,c)))},SM:null,Nl:null,uZ:!1,Rf:null,ctor:null,fh:function(a){p.I.prototype.ctor.call(this);a&&this.q(a,p.ip)},gh:function(a){p.I.prototype.ctor.call(this);this.SM=new p.Sg;a&&this.q(a,p.ip)},mJ:null,xO:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";a instanceof p.A?(a.fe(this),a.ee(c),
a.hg(!0),a.Ff()):p.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},yO:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";if(a instanceof p.A){for(var d=this.Ea.Mc;c>=d||d==this.Ea.Ga;)this.Tv();a.fe(this);a.ee(c);a.hg(!0);a.Ff()}else p.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},cv:function(a,c){var d=this.Xc,e=this.Ea,f=e.pe,g=d[a],
h=p.Xx(f[a]);d[c].ee(a);d[a]=d[c];e.Uw(f[c],a);d[c]=g;e.Uw(h,c)},aH:null,FM:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";a instanceof p.A?(a.fe(this),a.ee(c),a.hg(!0),a.Ff(),this.o=p.Wk(this.o,a,c)):p.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},GM:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";if(a instanceof p.A){for(var d=this.Ea;c>=d.Mc||
d.Mc===d.Ga;)this.Tv();a.fe(this);a.ee(c);d.wB(a.vb,c);a.hg(!0);a.Ff()}else p.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},zF:function(a,c){var d=0,e=a.o;e&&(d=e.length);var f=0;if(0===d)f=a.Dc,a.ee(c),a.Uo(0),f!=c&&this.cv(f,c),c++;else{f=!0;0<=e[0].Pa&&(f=a.Dc,a.ee(c),a.Uo(0),f!=c&&this.cv(f,c),c++,f=!1);for(d=0;d<e.length;d++){var g=e[d];f&&0<=g.Pa&&(f=a.Dc,a.ee(c),a.Uo(0),f!=c&&this.cv(f,c),c++,f=!1);c=this.zF(g,c)}f&&(f=a.Dc,a.ee(c),
a.Uo(0),f!=c&&this.cv(f,c),c++)}return c},Sl:function(){this.Ea.Q().Br()||(this.T.src=770,this.T.sb=771)},Aa:null,kq:function(a){this.o=[];this.Xc=[];this.T=new p.Yk(p.he,p.ge);this.Nl=this.Rf=a;return!0},lq:function(a,c){this.o=[];this.Xc=[];this.T=new p.Yk(p.he,p.ge);c=c||p.ip;this.Ea=new p.Ym;this.Ea.Aa(a,c);this.Sl();this.ig(p.dh.d().Kh(p.Ix));return!0},sR:function(a,c){a.fe(this);a.ee(c);a.hg(!0);var d=this.Ea;d.Ga>=d.Mc&&this.Tv();d.wB(a.vb,c);this.Xc=p.Wk(this.Xc,a,c);var d=c+1,e=this.Xc;if(e&&
0<e.length)for(;d<e.length;d++)e[d].ee(e[d].Dc+1);if((e=a.o)&&0<e.length)for(d=0;d<e.length;d++)if(e[d]){var f=this.PO(e[d],e[d].Pa);this.sR(e[d],f)}},appendChild:null,CL:function(a){this.Ld=!0;a.fe(this);a.hg(!0);this.Xc.push(a);a.ee(this.Xc.length-1);a=a.o;for(var c=0;c<a.length;c++)this.appendChild(a[c])},DL:function(a){this.Ld=!0;a.fe(this);a.hg(!0);this.Xc.push(a);var c=this.Xc.length-1;a.ee(c);var d=this.Ea;d.Ga==d.Mc&&this.Tv();d.wB(a.vb,c);a=a.o;for(c=0;c<a.length;c++)this.appendChild(a[c])},
ym:null,nN:function(a){a.fe(null);var c=this.Xc,d=p.bx(c,a);if(-1!=d){p.dp(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.ee(f.Dc-1)}}if((a=a.o)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.ym(a[c])},oN:function(a){this.Ea.iT(a.Dc);a.fe(null);var c=this.Xc,d=p.bx(c,a);if(-1!=d){p.dp(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.ee(f.Dc-1)}}if((a=a.o)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.ym(a[c])},Q:null,cz:function(){return this.Nl},dz:function(){return this.Ea.Q()},ba:null,Hq:function(a){this.Nl=
a;for(var c=this.o,d=0;d<c.length;d++)c[d].ba(a)},Iq:function(a){this.Ea.ba(a);this.Sl()},fa:null,Tl:function(a){var c=a||p.M;if(this.va){c.save();this.transform(a);var d=this.o;if(d)for(this.vd(),a=0;a<d.length;a++)d[a]&&d[a].fa(c);c.restore()}},Ul:function(a){a=a||p.M;if(this.va){p.Go();var c=this.ek;c&&c.Co()&&(c.KA(),this.Tw());this.vd();this.transform(a);this.Ia(a);c&&c.Co()&&c.GA(this);p.Fo();this.Uo(0)}},s:null,gy:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";
a instanceof p.A?(c=null==c?a.Pa:c,d=null==d?a.Sc:d,p.I.prototype.s.call(this,a,c,d),this.appendChild(a),this.Ja()):p.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},hy:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";a instanceof p.A?a.Q()!=this.Ea.Q()?p.log("cc.SpriteBatchNode.addChild(): cc.Sprite is not using the same texture"):(c=null==c?a.Pa:c,d=null==d?a.Sc:d,p.I.prototype.s.call(this,a,c,d),this.appendChild(a),
this.Ja()):p.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},Lh:null,jN:function(a){var c=this.Xc;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].fe(null);p.I.prototype.Lh.call(this,a);this.Xc=[]},kN:function(a){var c=this.Xc;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].fe(null);p.I.prototype.Lh.call(this,a);this.Xc=[];this.Ea.cT()},vd:null,bO:function(){if(this.Ld){var a,c=0,d=this.o,e=d.length,f;for(a=1;a<e;a++){var g=d[a],
c=a-1;for(f=d[c];0<=c&&(g.Pa<f.Pa||g.Pa==f.Pa&&g.pf<f.pf);)d[c+1]=f,c-=1,f=d[c];d[c+1]=g}0<d.length&&this.Nf(d,p.I.kf.vd);this.Ld=!1}},cO:function(){if(this.Ld){var a=this.o,c,d=0,e=a.length,f;for(c=1;c<e;c++){var g=a[c],d=c-1;for(f=a[d];0<=d&&(g.Pa<f.Pa||g.Pa==f.Pa&&g.pf<f.pf);)a[d+1]=f,d-=1,f=a[d];a[d+1]=g}if(0<a.length)for(this.Nf(a,p.I.kf.vd),c=d=0;c<a.length;c++)d=this.zF(a[c],d);this.Ld=!1}},Ia:null,Qf:function(){0!==this.Ea.Ga&&(this.sc.Me(),this.sc.jg(),this.Nf(this.o,p.I.kf.Ff),p.Aj(this.T.src,
this.T.sb),this.Ea.JP())}});
p.ta.wc?(b=p.eb.prototype,b.ctor=p.eb.prototype.gh,b.mJ=p.eb.prototype.yO,b.aH=p.eb.prototype.GM,b.Aa=p.eb.prototype.lq,b.appendChild=p.eb.prototype.DL,b.ym=p.eb.prototype.oN,b.Q=p.eb.prototype.dz,b.ba=p.eb.prototype.Iq,b.fa=p.eb.prototype.Ul,b.s=p.eb.prototype.hy,b.Lh=p.eb.prototype.kN,b.vd=p.eb.prototype.cO,b.Ia=p.eb.prototype.Qf):(b=p.eb.prototype,b.ctor=p.eb.prototype.fh,b.mJ=p.eb.prototype.xO,b.aH=p.eb.prototype.FM,b.Aa=p.eb.prototype.kq,b.appendChild=p.eb.prototype.CL,b.ym=p.eb.prototype.nN,
b.Q=p.eb.prototype.cz,b.ba=p.eb.prototype.Hq,b.fa=p.eb.prototype.Tl,b.Lh=p.eb.prototype.jN,b.s=p.eb.prototype.gy,b.vd=p.eb.prototype.bO,b.Ia=p.I.prototype.Ia);p.eb.create=function(a,c){c=c||p.ip;var d=new p.eb;d.q(a,c);return d};p.eb.od=function(a,c){c=c||p.ip;var d=new p.eb;d.Aa(a,c);return d};p.kW={hW:0,jW:1,iW:2,gW:3,fW:4};
p.ie=p.ra.extend({sq:0,LE:0,Rq:!1,Qq:!1,Zu:!1,$u:!1,av:!1,PM:0,Bu:0,yp:"",tj:null,ctor:function(){this.LE=this.sq=0;this.av=this.$u=this.Zu=this.Qq=this.Rq=!1;this.Bu=this.PM=0;this.yp="";this.tj={}},Y1:function(){return this.sq},X1:function(){return this.LE},Z1:function(){return this.Bu},c$:function(){return this.Qq},d$:function(){return this.Rq},a$:function(){return this.Zu},b$:function(){return this.$u},e$:function(){return this.av},no:function(a){return-1<this.yp.indexOf(a)},q:function(){var a=
this.tj;a["cocos2d.x.version"]=p.zs;a["cocos2d.x.compiled_with_profiler"]=!1;a["cocos2d.x.compiled_with_gl_state_cache"]=p.cD;return!0},M0:function(a,c){var d=this.tj;return d.hasOwnProperty(a)?d[a]:c},H0:function(a,c){null==c&&(c=!1);var d=this.tj;return d.hasOwnProperty(a)?d[a]:c},j2:function(a,c){null==c&&(c=0);var d=this.tj;return d.hasOwnProperty(a)?d[a]:c},l2:function(a){var c=this.tj;return c.hasOwnProperty(a)?c[a]:null},sU:function(a,c){this.tj[a]=c},NP:function(){0===p.cD&&(p.log(""),p.log("cocos2d: **** WARNING **** CC_ENABLE_PROFILERS is defined. Disable it when you finish profiling (from ccConfig.js)"),
p.log(""))},XP:function(){if(p.ed!==p.Hf){var a=p.M,c=this.tj;c["gl.vendor"]=a.getParameter(a.VENDOR);c["gl.renderer"]=a.getParameter(a.RENDERER);c["gl.version"]=a.getParameter(a.VERSION);this.yp="";for(var d=a.getSupportedExtensions(),e=0;e<d.length;e++)this.yp+=d[e]+" ";this.sq=a.getParameter(a.MAX_TEXTURE_SIZE);c["gl.max_texture_size"]=this.sq;this.Bu=a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS);c["gl.max_texture_units"]=this.Bu;this.Rq=this.no("GL_IMG_texture_compression_pvrtc");c["gl.supports_PVRTC"]=
this.Rq;this.Qq=!1;c["gl.supports_NPOT"]=this.Qq;this.Zu=this.no("GL_IMG_texture_format_BGRA888");c["gl.supports_BGRA8888"]=this.Zu;this.$u=this.no("GL_EXT_discard_framebuffer");c["gl.supports_discard_framebuffer"]=this.$u;this.av=this.no("vertex_array_object");c["gl.supports_vertex_array_object"]=this.av;p.MC()}},z5:function(a){var c=p.hd.d(),d=c.Td(a),c=c.Dv(d);if(null!=c)if(c=c.data)for(var e in c)this.tj[e]=c[e];else p.log("Expected 'data' dict, but not found. Config file: "+a)}});p.ie.Kq=null;
p.ie.d=function(){p.ie.Kq||(p.ie.Kq=new p.ie,p.ie.Kq.q());return p.ie.Kq};p.ie.O6=function(){p.ie.Kq=null};p.zh=0;p.LJ=0;p.$C=1;p.MJ=3;p.NJ=p.$C;p.pW=0;p.nW=1;p.qW=2;p.oW=3;p.mW=2;p.tW=p.ra.extend({G$:function(){}});p.dD=function(a){var c=new p.Sg;p.HR(p.at,c);var d=new p.Sg;p.HR(p.$s,d);p.KR(a,c,d)};
p.N=p.ra.extend({dZ:!1,wq:!1,Al:!1,Ou:!1,El:!1,ug:0,tz:0,qk:0,an:0,nl:1,Sp:!1,ak:0,gu:0,Uj:null,Wj:null,bk:null,Cb:null,gj:null,ji:null,Gu:null,Ag:null,qi:null,Fz:null,Rc:null,Hd:0,nA:0,Uz:0,PY:null,Xf:null,tg:null,xe:null,oz:null,Jt:null,uq:null,cZ:!1,ctor:function(){this.gj=Date.now();if(!p.xB){var a=this;window.addEventListener("focus",function(){a.gj=Date.now()},!1)}},tN:function(){this.gj=Date.now()},q:function(){this.tz=this.ug=1/p.vP;this.qi=[];this.qk=p.NJ;this.Fz=null;this.gu=this.an=0;this.Sp=
!1;this.nA=this.Hd=0;this.gj=Date.now();this.Ou=this.Al=!1;this.Cb=p.Hl();this.Ag=null;this.nl=1;this.Xf=new p.QK;this.tg=new p.wJ;this.Xf.YH(this.tg,p.dt,!1);p.Y&&(this.xe=new p.Y,this.xe.q());p.Rm&&(this.oz=p.Rm.d());p.Nj&&(this.Jt=new p.Nj);p.Bd&&(this.uq=new p.Bd,this.uq.q());return!0},UO:function(){var a=Date.now();this.wq?(this.ak=0,this.wq=!1):this.ak=(a-this.gj)/1E3;0<p.ws&&0.2<this.ak&&(this.ak=1/60);this.gj=a},oP:function(a){var c=new p.Sg;p.dD(c);var d=new p.Sg;p.s5(d,c);var c=c.Tg[14]/
c.Tg[15],e=this.Ag.uo();a=new p.Ho(2*a.x/e.width-1,1-2*a.y/e.height,c);c=new p.Ho;p.MR(c,a,d);return p.a(c.x,c.y)},qP:function(a){var c=new p.Sg;p.dD(c);var d=new p.Ho;a=new p.Ho(a.x,a.y,0);p.MR(d,a,c);c=this.Ag.uo();return p.a(c.width*(0.5*d.x+0.5),c.height*(0.5*-d.y+0.5))},KP:function(){this.UO();this.Al||this.Xf.update(this.ak);this.jE();this.ji&&this.rU();this.oy&&this.oy();this.Rc&&this.Rc.fa();this.Gu&&this.Gu.fa();this.Sp&&this.aO();this.ky&&this.ky();this.nA++;this.Sp&&this.KL()},SL:function(){var a=
this.Ag.ze;p.M.clearRect(-a.x,a.y,a.width,-a.height)},ZL:function(){var a=p.M;a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},oy:null,ky:null,FL:function(){p.Go()},BL:function(){p.Fo()},end:function(){this.Ou=!0},Y0:function(){return this.nl},i2:function(){return this.Gu},V3:function(){return this.Cb},LQ:function(){return p.size(this.Cb.width*this.nl,this.Cb.height*this.nl)},xr:function(){return this.Ag?this.Ag.xr():this.Cb},MG:function(){return this.Ag?this.Ag.MG():p.EK},zr:function(){return this.Cb.height/
1.1566},pause:function(){this.Al||(this.tz=this.ug,this.Yr(0.25),this.Al=!0)},I6:function(){if(!this.Rc)throw"running scene should not null";this.qi.pop();var a=this.qi.length;0==a?this.end():(this.El=!0,this.ji=this.qi[a-1])},QB:function(){p.vx.QB()},IS:function(){this.af().ks();this.xe&&this.xe.bT();this.Rc&&(this.Rc.Ug(),this.Rc.rd(),this.Rc.wf());this.ji=this.Rc=null;this.qi=[];this.WI();p.vx.QB();p.Vk.JS();p.Lf.KS();p.Qa.LS();p.MC()},MS:function(a){if(!a)throw"the scene should not null";this.El=
!1;this.qi.push(a);this.ji=a},TH:function(a){if(!this.Rc)throw"Use runWithScene: instead to start the director";if(!a)throw"the scene should not be null";var c=this.qi.length;0===c?(this.El=!0,this.qi[c]=a):(this.El=!0,this.qi[c-1]=a);this.ji=a},VH:function(){this.Al&&(this.Yr(this.tz),(this.gj=Date.now())||p.log("cocos2d: Director: Error in gettimeofday"),this.Al=!1,this.ak=0)},wT:function(a){if(!a)throw"This command can only be used to start the CCDirector. There is already a scene present.";if(this.Rc)throw"_runningScene should be null";
this.MS(a);this.UI()},JT:function(a){a?p.Aj(p.he,p.ge):p.Aj(p.M.ONE,p.M.ZERO)},RT:function(a){a!=this.nl&&(this.nl=a,this.un())},VT:function(a){if(p.ed!==p.Hf){var c=p.M;a?(c.clearDepth(1),c.enable(c.DEPTH_TEST),c.depthFunc(c.LEQUAL)):c.disable(c.DEPTH_TEST)}},V7:function(){},nI:function(){this.JT(!0);this.VT(!1);this.Bw(this.qk);p.M.clearColor(0,0,0,1)},E8:function(a){this.wq=a},rU:function(){var a=!1,c=!1;p.PD&&(a=this.Rc?this.Rc instanceof p.PD:!1,c=this.ji?this.ji instanceof p.PD:!1);if(!c){if(c=
this.Rc)c.Ug(),c.rd();this.El&&c&&c.wf()}this.Rc=this.ji;this.ji=null;a||null==this.Rc||(this.Rc.fg(),this.Rc.Ih())},F8:function(a){this.Gu=a},Vb:function(){return this.Fz},Xg:function(a){this.Fz=a},xU:function(a){this.Cb.rC(p.canvas.width);this.Cb.gC(p.canvas.height);this.Ag=a||p.ga.d();p.ed!==p.Hf&&(a=p.ie.d(),a.XP(),a.NP(),this.un(),this.nI(),this.xe&&this.xe.XT(!0))},JI:function(){if(this.Ag){var a=this.Cb;this.Ag.PU(0,0,a.width,a.height)}},Bw:function(a){var c=this.Cb;if(p.ed===p.Tj){this.JI();
switch(a){case p.LJ:p.im(p.at);p.AB();var d=new p.Sg;p.LR(d,0,c.width,0,c.height,-1024,1024);p.aw(d);p.im(p.$s);p.AB();break;case p.$C:var e=this.zr(),f=new p.Sg,d=new p.Sg;p.im(p.at);p.AB();p.t5(f,60,c.width/c.height,0.1,2*e);p.aw(f);p.im(p.$s);p.AB();e=p.Ir(null,c.width/2,c.height/2,e);c=p.Ir(null,c.width/2,c.height/2,0);f=p.Ir(null,0,1,0);p.JR(d,e,c,f);p.aw(d);break;case p.MJ:break;default:p.log("cocos2d: Director: unrecognized projection")}this.qk=a;p.W8()}else this.qk=a},aO:function(){this.Hd++;
this.an+=this.ak;this.Uj&&this.Wj&&this.bk?(this.an>p.KJ&&(this.Wj.Z(this.Uz.toFixed(3)),this.gu=this.Hd/this.an,this.an=this.Hd=0,this.Uj.Z(this.gu.toFixed(1)),this.bk.Z((0|p.zh).toString())),this.Uj.fa(),this.Wj.fa(),this.bk.fa()):this.un();p.zh=0},d5:function(){return this.El},a3:function(){return this.Rc},B0:function(){return this.ug},G4:function(){return this.Sp},Z7:function(a){this.Sp=a},f3:function(){return this.Uz},x2:function(){return this.Ag},Q4:function(){return this.wq},U4:function(){return this.Al},
E3:function(){return this.nA},N2:function(){return this.qk},J6:function(){this.AS(1)},AS:function(a){if(!this.Rc)throw"A running Scene is needed";var c=this.qi,d=c.length;if(0==d)this.end();else if(!(a>d)){for(;d>a;){var e=c.pop();e.se&&(e.Ug(),e.rd());e.wf();d--}this.ji=c[c.length-1];this.El=!1}},af:function(){return this.Xf},FU:function(a){this.Xf!=a&&(this.Xf=a)},ag:function(){return this.tg},HT:function(a){this.tg!=a&&(this.tg=a)},G3:function(){return this.xe},B9:function(a){this.xe!=a&&(this.xe=
a)},Ov:function(){if(!p.Rm)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";return this.oz},t8:function(a){if(!p.Rm)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";this.oz=a},to:function(){if(!p.Nj)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";return this.Jt},A7:function(a){if(!p.Nj)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";this.Jt!=
a&&(this.Jt=a)},h1:function(){return this.ak},$e:function(){if(!p.Bd)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";return this.uq},C8:function(a){if(!p.Bd)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.uq!=a&&(this.uq=a)},un:null,bM:function(){if(!p.ux)return this.mE();if(null!=p.N.sE&&!1!=p.N.sE){var a=new p.Nb;a.bf(p.N.Vy);a.ae();var c=p.ga.d().uo().height/320;0===c&&(c=this.Cb.height/320);var d=new p.ux;d.Xz(!0);
d.Dk("00.0",a,12,32,".");d.Ij(c);this.Uj=d;d=new p.ux;d.Xz(!0);d.Dk("0.000",a,12,32,".");d.Ij(c);this.Wj=d;d=new p.ux;d.Xz(!0);d.Dk("000",a,12,32,".");d.Ij(c);this.bk=d;a=p.aD;this.bk.C(p.Cf(p.a(0,34*c),a));this.Wj.C(p.Cf(p.a(0,17*c),a));this.Uj.C(a)}},mE:function(){var a=0,a=this.Cb.width>this.Cb.height?0|this.Cb.height/320*24:0|this.Cb.width/320*24;this.Uj=p.W.create("000.0","Arial",a);this.Wj=p.W.create("0.000","Arial",a);this.bk=p.W.create("0000","Arial",a);var a=p.aD,c=this.bk.f();this.bk.C(p.Cf(p.a(c.width/
2,5*c.height/2),a));c=this.Wj.f();this.Wj.C(p.Cf(p.a(c.width/2,3*c.height/2),a));c=this.Uj.f();this.Uj.C(p.Cf(p.a(c.width/2,c.height/2),a))},KL:function(){this.Uz=(Date.now()-this.gj)/1E3}});p.ta.wc?(p.N.prototype.jE=p.N.prototype.ZL,p.N.prototype.oy=p.N.prototype.FL,p.N.prototype.ky=p.N.prototype.BL,p.N.prototype.un=p.N.prototype.bM):(p.N.prototype.jE=p.N.prototype.SL,p.N.prototype.un=p.N.prototype.mE);
p.OJ=p.N.extend({Zv:!1,UI:function(){this.wq=!0;this.Zv=!1;p.Ji.d().Yr(this.ug)},pH:function(){this.Ou?(this.Ou=!1,this.IS()):this.Zv||this.KP()},WI:function(){this.Zv=!0},Yr:function(a){this.ug=a;this.Zv||(this.WI(),this.UI())}});p.tw=null;p.qG=!0;p.N.d=function(){p.qG&&(p.qG=!1,p.tw=new p.OJ,p.tw.q(),p.tw.xU(p.ga.d()));return p.tw};Object.defineProperties(p,{R$:{get:function(){return p.CP.Cb},enumerable:!0}});p.n0=!0;p.vP=60;p.N.Vy=new Image;
p.N.Vy.addEventListener("load",function(){p.N.sE=!0;this.removeEventListener("load",arguments.callee,!1)});p.N.Vy.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAAgCAYAAAD9qabkAAAKQ2lDQ1BJQ0MgcHJvZmlsZQAAeNqdU3dYk/cWPt/3ZQ9WQtjwsZdsgQAiI6wIyBBZohCSAGGEEBJAxYWIClYUFRGcSFXEgtUKSJ2I4qAouGdBiohai1VcOO4f3Ke1fXrv7e371/u855zn/M55zw+AERImkeaiagA5UoU8Otgfj09IxMm9gAIVSOAEIBDmy8JnBcUAAPADeXh+dLA//AGvbwACAHDVLiQSx+H/g7pQJlcAIJEA4CIS5wsBkFIAyC5UyBQAyBgAsFOzZAoAlAAAbHl8QiIAqg0A7PRJPgUA2KmT3BcA2KIcqQgAjQEAmShHJAJAuwBgVYFSLALAwgCgrEAiLgTArgGAWbYyRwKAvQUAdo5YkA9AYACAmUIszAAgOAIAQx4TzQMgTAOgMNK/4KlfcIW4SAEAwMuVzZdL0jMUuJXQGnfy8ODiIeLCbLFCYRcpEGYJ5CKcl5sjE0jnA0zODAAAGvnRwf44P5Dn5uTh5mbnbO/0xaL+a/BvIj4h8d/+vIwCBAAQTs/v2l/l5dYDcMcBsHW/a6lbANpWAGjf+V0z2wmgWgrQevmLeTj8QB6eoVDIPB0cCgsL7SViob0w44s+/zPhb+CLfvb8QB7+23rwAHGaQJmtwKOD/XFhbnauUo7nywRCMW735yP+x4V//Y4p0eI0sVwsFYrxWIm4UCJNx3m5UpFEIcmV4hLpfzLxH5b9CZN3DQCshk/ATrYHtctswH7uAQKLDljSdgBAfvMtjBoLkQAQZzQyefcAAJO/+Y9AKwEAzZek4wAAvOgYXKiUF0zGCAAARKCBKrBBBwzBFKzADpzBHbzAFwJhBkRADCTAPBBCBuSAHAqhGJZBGVTAOtgEtbADGqARmuEQtMExOA3n4BJcgetwFwZgGJ7CGLyGCQRByAgTYSE6iBFijtgizggXmY4EImFINJKApCDpiBRRIsXIcqQCqUJqkV1II/ItchQ5jVxA+pDbyCAyivyKvEcxlIGyUQPUAnVAuagfGorGoHPRdDQPXYCWomvRGrQePYC2oqfRS+h1dAB9io5jgNExDmaM2WFcjIdFYIlYGibHFmPlWDVWjzVjHVg3dhUbwJ5h7wgkAouAE+wIXoQQwmyCkJBHWExYQ6gl7CO0EroIVwmDhDHCJyKTqE+0JXoS+cR4YjqxkFhGrCbuIR4hniVeJw4TX5NIJA7JkuROCiElkDJJC0lrSNtILaRTpD7SEGmcTCbrkG3J3uQIsoCsIJeRt5APkE+S+8nD5LcUOsWI4kwJoiRSpJQSSjVlP+UEpZ8yQpmgqlHNqZ7UCKqIOp9aSW2gdlAvU4epEzR1miXNmxZDy6Qto9XQmmlnafdoL+l0ugndgx5Fl9CX0mvoB+nn6YP0dwwNhg2Dx0hiKBlrGXsZpxi3GS+ZTKYF05eZyFQw1zIbmWeYD5hvVVgq9ip8FZHKEpU6lVaVfpXnqlRVc1U/1XmqC1SrVQ+rXlZ9pkZVs1DjqQnUFqvVqR1Vu6k2rs5Sd1KPUM9RX6O+X/2C+mMNsoaFRqCGSKNUY7fGGY0hFsYyZfFYQtZyVgPrLGuYTWJbsvnsTHYF+xt2L3tMU0NzqmasZpFmneZxzQEOxrHg8DnZnErOIc4NznstAy0/LbHWaq1mrX6tN9p62r7aYu1y7Rbt69rvdXCdQJ0snfU6bTr3dQm6NrpRuoW623XP6j7TY+t56Qn1yvUO6d3RR/Vt9KP1F+rv1u/RHzcwNAg2kBlsMThj8MyQY+hrmGm40fCE4agRy2i6kcRoo9FJoye4Ju6HZ+M1eBc+ZqxvHGKsNN5l3Gs8YWJpMtukxKTF5L4pzZRrmma60bTTdMzMyCzcrNisyeyOOdWca55hvtm82/yNhaVFnMVKizaLx5balnzLBZZNlvesmFY+VnlW9VbXrEnWXOss623WV2xQG1ebDJs6m8u2qK2brcR2m23fFOIUjynSKfVTbtox7PzsCuya7AbtOfZh9iX2bfbPHcwcEh3WO3Q7fHJ0dcx2bHC866ThNMOpxKnD6VdnG2ehc53zNRemS5DLEpd2lxdTbaeKp26fesuV5RruutK10/Wjm7ub3K3ZbdTdzD3Ffav7TS6bG8ldwz3vQfTw91jicczjnaebp8LzkOcvXnZeWV77vR5Ps5wmntYwbcjbxFvgvct7YDo+PWX6zukDPsY+Ap96n4e+pr4i3z2+I37Wfpl+B/ye+zv6y/2P+L/hefIW8U4FYAHBAeUBvYEagbMDawMfBJkEpQc1BY0FuwYvDD4VQgwJDVkfcpNvwBfyG/ljM9xnLJrRFcoInRVaG/owzCZMHtYRjobPCN8Qfm+m+UzpzLYIiOBHbIi4H2kZmRf5fRQpKjKqLupRtFN0cXT3LNas5Fn7Z72O8Y+pjLk722q2cnZnrGpsUmxj7Ju4gLiquIF4h/hF8ZcSdBMkCe2J5MTYxD2J43MC52yaM5zkmlSWdGOu5dyiuRfm6c7Lnnc8WTVZkHw4hZgSl7I/5YMgQlAvGE/lp25NHRPyhJuFT0W+oo2iUbG3uEo8kuadVpX2ON07fUP6aIZPRnXGMwlPUit5kRmSuSPzTVZE1t6sz9lx2S05lJyUnKNSDWmWtCvXMLcot09mKyuTDeR55m3KG5OHyvfkI/lz89sVbIVM0aO0Uq5QDhZML6greFsYW3i4SL1IWtQz32b+6vkjC4IWfL2QsFC4sLPYuHhZ8eAiv0W7FiOLUxd3LjFdUrpkeGnw0n3LaMuylv1Q4lhSVfJqedzyjlKD0qWlQyuCVzSVqZTJy26u9Fq5YxVhlWRV72qX1VtWfyoXlV+scKyorviwRrjm4ldOX9V89Xlt2treSrfK7etI66Trbqz3Wb+vSr1qQdXQhvANrRvxjeUbX21K3nShemr1js20zcrNAzVhNe1bzLas2/KhNqP2ep1/XctW/a2rt77ZJtrWv913e/MOgx0VO97vlOy8tSt4V2u9RX31btLugt2PGmIbur/mft24R3dPxZ6Pe6V7B/ZF7+tqdG9s3K+/v7IJbVI2jR5IOnDlm4Bv2pvtmne1cFoqDsJB5cEn36Z8e+NQ6KHOw9zDzd+Zf7f1COtIeSvSOr91rC2jbaA9ob3v6IyjnR1eHUe+t/9+7zHjY3XHNY9XnqCdKD3x+eSCk+OnZKeenU4/PdSZ3Hn3TPyZa11RXb1nQ8+ePxd07ky3X/fJ897nj13wvHD0Ivdi2yW3S609rj1HfnD94UivW2/rZffL7Vc8rnT0Tes70e/Tf/pqwNVz1/jXLl2feb3vxuwbt24m3Ry4Jbr1+Hb27Rd3Cu5M3F16j3iv/L7a/eoH+g/qf7T+sWXAbeD4YMBgz8NZD+8OCYee/pT/04fh0kfMR9UjRiONj50fHxsNGr3yZM6T4aeypxPPyn5W/3nrc6vn3/3i+0vPWPzY8Av5i8+/rnmp83Lvq6mvOscjxx+8znk98ab8rc7bfe+477rfx70fmSj8QP5Q89H6Y8en0E/3Pud8/vwv94Tz+4A5JREAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfcAgcQLxxUBNp/AAAQZ0lEQVR42u2be3QVVZbGv1N17829eRLyIKAEOiISEtPhJTJAYuyBDmhWjAEx4iAGBhxA4wABbVAMWUAeykMCM+HRTcBRWkNH2l5moS0LCCrQTkYeQWBQSCAIgYRXEpKbW/XNH5zS4noR7faPEeu31l0h4dSpvc+t/Z199jkFWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhY/H9D/MR9qfKnLj/00U71aqfJn9+HCkCR/Wk36ddsgyJ/1wF4fkDfqqm9/gPsUeTnVr6a2xlQfnxdI7zs0W7irzD17Ytb2WT7EeNv/r4ox1O3Quf2QP2pgt9utwfout4FQE8AVBSlnaRmfvAURQkg2RlAbwB9AThlW5L0GaiKojhJhgOIBqDa7XaPrusdPtr5kQwF0BVAAoBIABRCKDd5aFUhRDAAw57eAOwAhKIoupft3zoqhB1AqLwuHIBut9uFt02qqvqRDJR2dAEQJj/BAOjn56dqmma+xiaECAEQAWAggLsB6A6HQ2iaZggBhBAqgEAAnQB0kzaEmT4hAITT6VQ8Ho/HJAKKECJQtr8LwD1y/A1/vcdfEUIEyfZ9AcQbYvZ942Px88L2UwlJR0dH0EMPPbRj5syZPUeNGrXR7Xb/641xIwJ1XY9NSUlZm52dfW+XLl1w8uRJzJ8//+OGhoYJqqqe1TSt1Wsm9NN1PSIqKmr12rVrR5WUlHy1bdu2AQCumWc3IYRD1/UwVVXnFRQUTIuNjUVzczN2797dWFJSkq8oymZd15sAGAEnFEUJ1nX9nzIzM1dnZmZGh4SE4OTJk5g5c+Zf29vbp9pstrMej6fVOyhIhgAYU1hY+B+hoaGoqKg4XVlZea+XTULTNFdCQsLGiRMnPuR2u3UhBOV9eeDAAWXTpk095DUe6WsoyRE5OTlr0tLSAux2O/bs2cO5c+e+pijKUpIXSHaQVAGkvPLKK++6XK4OksJLCFlXV2cvKSlJBFAjhU+x2WwhHo9nUHp6+urMzMy7wsLCUF9fjxdffPHjxsbGiTab7WuPx9NiEutOuq4PyMjI+M+srKyYqKgoHD58GDNmzNjq8XhyVFU9b/q+LH7hBAEYu3PnTlZVVRFAGgCX6f/tAHoOHDjwa0p27txp/JO9e/f+QM7cipw9nfL3kQBKt2zZQpJ87rnn6mQmoHilw2EACs+cOUOSrK+vZ1NTE0nyo48+IoBpxswoBcMJ4Ndjx471kOTFixe5d+9ekqTH42H//v13A4jyzpAURfEH0H/OnDnthu1z5sw558MmFUCPWbNmnaMP3nrrLZoyDmP8Hl68eDFJ8siRI9/Yc+zYMQKYKdtAztrTrl27xptRXV1NAKMAOAyBBBA/Y8aMdpLs6Ojgxx9//E37+++//29yvFXppwvAwMcee8xjtDHsuXLlCqOjo//ia3wsfpkoALqFhoZuIckJEyackimm3dQmEMDUmpoakmRISMhhAHOHDx/eQJIbN24kgKEyMAHAFRMTs2XXrl1saWkhSZ0kp0+ffhrAr3wEW/S8efOukORLL72kA1gKYMPWrVtJkk899dRJAHeYrgsEsIQkjx8/TgDvAPjd448/3kaSb7zxBmUa7vC6z53BwcFbSHL9+vU6Sc6aNes8gF5ewWAH0PfVV18lSQL4DMBGIcQ6AKtcLleBFC2jXtFt8ODBe0iyoqKCAJYByC8qKmJDQwOzsrK+MAmqo1OnTveHhoa+GRkZ+XZkZOSWiIiIvzgcjk9mzpypkWRmZuZpmbYbGV4AgPnNzc1sa2sjgN0A5iQmJtaSZHl5OQHcb/K3s81mW0uSTU1NBFAFYFbfvn1Pk+Tbb79NAA8IIVzW42/hByA+Pz/fLR/2ZXIda05NI/z9/TeR5J49ewhgqlxTrtI0jY2NjQQw3zTLuWJiYjaUlJToS5Ys6fjkk080kwDEeAmADcA9GzZsIElGRUW9CyAWwLApU6Y0kOSKFSsog9QICGdERMTGsrIyZmVlEcC9AB4IDw/fTpLbtm0jgN94CUAnAJmVlZVcs2aNZ/LkyRdJcvbs2b4EwAkgZfPmzTxw4AABFAN4BkC6vFeUSewcAO5duXIlSTIhIaEawGMAxgKYAmAGgCS73e5vrKVk/yGythANYEhCQsIhkly+fDkBpKqqGmL6DgIALDKN/3yZpVWQZGVlJQE8aPI3KiMjo5okV61aRQAjAPQBMPfIkSN0u90EUCBtsPiFEwpgbn19PdetW2fM5N4zQ9ekpKQqkty0aRMBpMjiWM6JEydIkoqirJUFJ6iq6pAPVy8A6cZMehMBUACEuVyuFwG8HBwcPEIWx367ZMkSjSQXLVrUJouTRorrkAHdA8BdQogsAOsKCwtJkmPGjDkvMw2bDDo/ADEjRoz4XylyFbm5uY0mAbjLyyZ/AOOrq6tZVlbWsWDBgo69e/eyoqKCgwcPPg4gSQaoIRbp27dvN7KF+tLSUr28vJwFBQXtMpvpYRIM7+wrAkDeqVOnePbsWQIoNKfzpiXPg8uXLydJJicnNwF4f+nSpW6STEtLq5fjYwhk1wkTJtSQ5Ouvv04AqTKj+N2xY8dIkgEBAW/Ie1v8wncRegwZMmQvSfbr12+3Ua33WqPfOWbMmP0kWVpaSgCDZAqcfejQIWNZsEGKgvnh9gfQb9myZd8nAEJVVZtMkUNk8CcNHTq0liR1XWdYWNhmH1mJIme80OnTp18x1rp5eXkEsNJms92Fb7e/IgEsvHz5Mp999tkmAI/l5uZeMC0B7vEqqAYAyL106RJJsra2lpWVld+sucePH38ZQG+5NncBeOrgwYMkqbe3t/Po0aOsra011wAWyl0H7x0JJ4DE+fPnu0kyPT29DsDdUrBuyNKEEAkAdpw/f/6GeoEM8GUmfwEgPCIiopwkGxsbabPZPgOw6L777vvm4p49e26VGYjFLxUhhD+ApLKyMp44ccIoVnXybgbgzkcfffRzklyzZg0BDJYCMMmoCwQFBXkLgLGWvvcWAgBToSsKwNPTp09vMR7UuLi4rwH0lgU8c/Db5ezbeeTIkRWzZ8++aMxu+fn5BPCADBwHgP4LFy701NXVEUAJgAnPP/98kyxMNgHo53A4zH77BQQETMvPz7+Um5vbBuAlAFMSExPPmdbVL0qh8Acw8fDhw5SCchVAEYAVb775JknyhRdeaJYztHfxMwLAaqNwCGC2FArv8x0hAHKNLGPKlCme5OTk/Zs3bzb7O0wKiiG8KXl5ed8IxenTp0mSR48e1UmyW7duWywBuD2xyQcgFECgoih+8H1gyJgZV5Lkyy+/3CbTRIePtl2HDBmyw1QBHyGDdXZdXR1JUghRKkXBjOMHCoBdpr0L3nvvPZLkF198wejo6O0A4lVVDTb74HQ6AwD8Wq7Jh8rgGgDgQ13XjVR8qaxJuADMbmlpYXl5uV5UVNRWUFDgfv/993Vj/ZydnU1c37eHXML4S3viAcQqitJD2l104cIFY8lTKsXSBWBMVVWVcd9yed2A1NTUQ6Zl00CvLMMOoHdubm6zFIlWOf5+PsY/Kj09vdrU11QAwwGsv3jxIk21m2DZr10I0RXAuAcffPBgaWkpV69eTYfDcdiwUxY0w6xw+flX8L1xApjevXv3lREREaW6rofB93aPDUDQpEmTMgHgtddeqwBwEd/utZvpqK6uPgEAcXFxkA94NwB9unfvjrNnz4LklwDcf08iIqv66Zs2bXrl4YcfxooVKxAbG7uqrq5uAYA2TdOEqqpGYIi2tjbl6aeffu/YsWPv5uTk7JaC1wHg4Pnz542MwoVvTx+21dbWYvjw4WLixIl+2dnZ9lGjRgmSTE1NRUpKCkwFTGiaxtTU1OXTpk3707Bhw/6g67pDipnT4biuj7qut+Lbk3Vf1tTUXI9qu91Pjq1QFEUBgJaWFgBo8yGOQ8eNGxcAAOvXr/8QwBUfYygAKL169eoCABcuXACAWtn2hOGv0+kMNO1KiPDw8F4A4rZv3/7R1KlTR0+bNu1ht9u9r1+/fqitrQXJgwDarRC6/QjPzs4+QJIffPCB9/aQmSAA43ft2mW0e1QGoi8CAPyLsZccExNTC2BlRkbGRdOyYJCP2csBIN6UAZzCd7cBbQCijYp/dXU1ExMTz6SmptaMHj36f9LS0vYlJCRsl6mxIWSdu3fv/g5J7t+/nwC2AShMTk6+SJKff/45AWRLYbD7+fndAeDf5BJnLoCCyZMnt5JkdnZ2C4B/F0KEm1Pu+Pj4rST55ZdfEsBWAK+mpaVdMo3raDn7KwDuSEpK+m+S3LBhAwG8DuCtHTt2UBbpjgC408vvcFVV15HkuXPnjMp+p5uMf0RcXNyHJNnQ0EBVVfcCWBQXF3fG+Jv0yxABPwB5LS0tRmFxN4BlTzzxxGWSXLx4sS5F3GGFy+1Hp5SUlJq6ujoWFxdTpsZ2H+0iIyMj/0iSWVlZX5mr5jfJFroPGzasxlhTnjp1iiTZ3NxMl8tlrCd9pfa9SkpKSJI5OTmnZOageLUZZqxvfVFWVkZcPwdgNwnSCKPqb17jkmR8fPzfZMDZ5CRsFBmNI7h95s2b1yhT7/MAYmStwCx4vy0uLqa3v5qmEcCfvSr1QQAeXb16NY3Cm3HQ55133iGAp+SxZTNhKSkpfzUddkrFjYevzAQCeGjp0qXfsYckY2NjTwD4leGDLCL2HTdunNtoY+zWSHFcIHdsFCtcfuZ1vO9Eqs3m7/F47sb1k2qX/f3997W2tl7BjWfpBYDOzzzzzIVJkyZh0KBBCwEsB3AJvl9AETabLcDj8dwRFRW1ctasWb8JCgpSzp07d62wsPC/Wltb8xRFadR1/ZqPXYbgAQMGbI2Pjw/+6quv9ldVVT0r01ezuPRJSUn5Y9euXXVd11WzDaqq6kePHm3+7LPPRgO4KlNuxWazhXo8nuTk5OSXMjIyEl0uFxoaGtqKior+dPXq1VdUVT0jj7r68ieoT58+vx8yZMjdx48fP1JVVTVF9m20VW02WyfZf97YsWPjXS4X6urqWvPy8jYCWCyEuEDS8FdVFKWzruv//OSTTy5OTk7uqWkaPv3007qysrJ8RVH+LI8ym8/rB3Tu3HnRI488knLo0KG2ffv2ZQI4C98vP6mqqoZqmpaclpa2cOTIkX39/f3R0NDQUVxc/G5TU9PLqqrWa5rWLH1QVFUN0TStX1JSUvH48eP7BwYG4uDBg1cKCgpeBbBe2u+2Qug2EwD5N5sMPuNtMe8XP4TT6Qxoa2sbIGeXvUKIK7d4IISiKC5d1wPljOfA9bPwzYqiXNV13dd6Uqiq6qdpml2mpe02m63d4/G4vcTF5fF47LJf71nJA6BZVVW3pmntuPHlmAD5wk6Q9NnbHp9vHaqq6tA0zU/64PZhk1FfCZB9G/23ALiqKEqzD39tpvbGUqoFwFUhRLP3yzpCCDtJpxyXDulfG27+pqRR3DXsUWVd4Yq0x/taVQjhIhksC8L+ABpM9ljBf5sKwI8pIBr75L5E4vvu+UNeG/a+hv+AL7yFH8qPtOfHjtOP6V/Bja8D6z/B2Nys/1u9Xv33tLf4GfF/LC4GCJwByWIAAAAASUVORK5CYII\x3d";p.gp=p.ra.extend({bq:null,cq:null,dq:null,pn:null,qn:null,rn:null,ar:null,br:null,cr:null,xa:null,xu:null,ctor:function(){this.xu=new p.Sg;this.restore()},description:function(){return"\x3cCCCamera | center \x3d("+this.pn+","+this.qn+","+this.rn+")\x3e"},hg:function(a){this.xa=a},dH:function(){return this.xa},restore:function(){this.bq=this.cq=0;this.dq=p.gp.zr();this.ar=this.pn=this.qn=this.rn=0;this.br=1;this.cr=0;p.r5(this.xu);this.xa=!1},kH:function(){if(this.xa){var a=new p.Ho,c=new p.Ho,d=new p.Ho;
p.Ir(a,this.bq,this.cq,this.dq);p.Ir(c,this.pn,this.qn,this.rn);p.Ir(d,this.ar,this.br,this.cr);p.JR(this.xu,a,c,d);this.xa=!1}p.aw(this.xu)},d8:function(a,c,d){this.kI(a,c,d)},kI:function(a,c,d){this.bq=a;this.cq=c;this.dq=d;this.xa=!0},L7:function(a,c,d){this.OT(a,c,d)},OT:function(a,c,d){this.pn=a;this.qn=c;this.rn=d;this.xa=!0},C9:function(a,c,d){this.OU(a,c,d)},OU:function(a,c,d){this.ar=a;this.br=c;this.cr=d;this.xa=!0},p1:function(){return{x:this.bq,y:this.cq,z:this.dq}},AG:function(){return{x:this.bq,
y:this.cq,z:this.dq}},P0:function(){return{x:this.pn,y:this.qn,z:this.rn}},zG:function(){return{x:this.pn,y:this.qn,z:this.rn}},K3:function(){return{x:this.ar,y:this.br,z:this.cr}},JQ:function(){return{x:this.ar,y:this.br,z:this.cr}},zY:function(){}});p.gp.zr=function(){return p.Us};p.dt=-2147483648;p.wX=p.dt+1;p.ts=function(a,c){if(a&&0<a.length)for(var d=0;d<a.length;d++)if(!(a[d]instanceof c)){p.log("element type is wrong!");break}};p.dp=function(a,c){a.splice(c,1)};p.xd=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c){a.splice(d,1);break}};p.WV=function(a,c){for(var d=0,e=c.length;d<e;d++)p.xd(a,c[d])};p.VV=function(a,c){return a.indexOf(c)};p.TV=function(a,c){a.push(c)};p.Wk=function(a,c,d){a.splice(d,0,c);return a};
p.UV=function(a,c,d){a.splice.apply(a,[d,0].concat(c));return a};p.bx=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c)return d;return-1};p.$w=function(a,c){return-1!=a.indexOf(c)};p.PW=function(a,c){if(null==a)return null;for(var d=0;d<a.length;d++)if(a[d].target===c)return a[d];return null};p.iD=function(a,c,d){this.next=null;this.target=a;this.HH=c;this.paused=d;this.Hk=!1};p.eD=function(a,c,d){this.list=a;this.dm=c;this.target=d;this.lB=null};
p.aK=function(a,c){this.Ef=null;this.target=a;this.$o=0;this.kr=this.jr=null;this.paused=c;this.lB=null};
p.vt=p.ra.extend({fj:0,rf:null,K:null,Sb:0,cF:!1,rv:!1,co:0,Nz:0,$t:0,ctor:function(){},K1:function(){return this.fj},setInterval:function(){},g3:function(){return this.rf},dg:function(a,c,d,e,f){this.K=a;this.rf=c;this.Sb=-1;this.fj=d||0;this.$t=f||0;this.rv=0<this.$t;this.Nz=null==e?p.bl:e;this.cF=this.Nz==p.bl;return!0},ry:function(){if("string"==typeof this.rf)this.K[this.rf](this.Sb);else this.rf.call(this.K,this.Sb)},update:function(a){if(-1==this.Sb)this.co=this.Sb=0;else{var c=this.K,d=this.rf;
this.cF&&!this.rv?(this.Sb+=a,this.Sb>=this.fj&&(c&&d&&this.ry(),this.Sb=0)):(this.Sb+=a,this.rv?this.Sb>=this.$t&&(c&&d&&this.ry(),this.Sb-=this.$t,this.co+=1,this.rv=!1):this.Sb>=this.fj&&(c&&d&&this.ry(),this.Sb=0,this.co+=1),this.co>this.Nz&&p.N.d().af().fJ(c,d))}}});p.vt.u$=function(a,c,d){if(2>arguments.length)throw Error("timerWithTarget'argument can't is null");var e=new p.vt;e.dg(a,c,d||0,p.bl,0);return e};p.mZ=null;
p.QK=p.ra.extend({Uq:1,Jg:null,th:null,Zf:null,cj:null,Lt:null,bj:null,LY:null,Pe:null,ci:!1,ov:!1,ctor:function(){this.Uq=1;this.Jg=[];this.th=[];this.Zf=[];this.cj={};this.Lt=[];this.bj={};this.Xj=[];this.Pe=null;this.ov=this.ci=!1},Mz:function(a){delete this.bj[a.target.Rb];p.xd(this.Xj,a);a.vt=null;a.target=null},RY:function(a,c){for(var d=0;d<a.length;d++)if(a[d].target==c)return a[d];return null},Qu:function(a){if(a=this.cj[a.target.Rb])p.xd(a.list,a.dm),delete this.cj[a.target.Rb],p.xd(this.Lt,
a),a.dm=null,a.target=null},WE:function(a,c,d,e){e=new p.iD(c,d,e);if(a){for(var f=!1,g=0;g<a.length;g++)if(d<a[g].HH){a=p.Wk(a,e,g);f=!0;break}f||a.push(e)}else a=[],a.push(e);d=new p.eD(a,e,c);this.Lt.push(d);this.cj[c.Rb]=d;return a},EL:function(a,c,d){d=new p.iD(c,0,d);a.push(d);a=new p.eD(a,d,c);this.Lt.push(a);this.cj[c.Rb]=a},w9:function(a){this.Uq=a},z3:function(){return this.Uq},update:function(a){this.ov=!0;1!=this.Uq&&(a*=this.Uq);var c,d;for(d=0;d<this.Jg.length;d++)c=this.Jg[d],c.paused||
c.Hk||c.target.update(a);for(d=0;d<this.th.length;d++)c=this.th[d],c.paused||c.Hk||c.target.update(a);for(d=0;d<this.Zf.length;d++)c=this.Zf[d],c.paused||c.Hk||c.target.update(a);for(d=0;d<this.Xj.length;d++){c=this.Pe=this.Xj[d];this.ci=!1;if(!this.Pe.paused)for(c.$o=0;c.$o<c.Ef.length;c.$o++)c.jr=c.Ef[c.$o],c.kr=!1,c.jr.update(a),c.jr=null;this.ci&&0==this.Pe.Ef.length&&this.Mz(this.Pe)}for(d=0;d<this.Jg.length;d++)this.Jg[d].Hk&&this.Qu(this.Jg[d]);for(d=0;d<this.th.length;d++)this.th[d].Hk&&this.Qu(this.th[d]);
for(d=0;d<this.Zf.length;d++)this.Zf[d].Hk&&this.Qu(this.Zf[d]);this.ov=!1;this.Pe=null},yT:function(a,c,d,e,f,g){if(!c)throw"cc.scheduler.scheduleCallbackForTarget(): callback_fn should be non-null.";if(!a)throw"cc.scheduler.scheduleCallbackForTarget(): target should be non-null.";d=d||0;e=null==e?p.bl:e;f=f||0;g=g||!1;var h=this.bj[a.Rb];h||(h=new p.aK(a,g),this.Xj.push(h),this.bj[a.Rb]=h);if(null==h.Ef)h.Ef=[];else for(var k=0;k<h.Ef.length;k++)if(g=h.Ef[k],c==g.rf){p.log("CCSheduler#scheduleCallback. Callback already scheduled. Updating interval from:"+
g.fj.toFixed(4)+" to "+d.toFixed(4));g.fj=d;return}g=new p.vt;g.dg(a,c,d,e,f);h.Ef.push(g)},YH:function(a,c,d){var e=this.cj[a.Rb];e?e.dm.Hk=!1:0==c?this.EL(this.th,a,d):0>c?this.Jg=this.WE(this.Jg,a,c,d):this.Zf=this.WE(this.Zf,a,c,d)},fJ:function(a,c){if(null!=a&&null!=c){var d=this.bj[a.Rb];if(null!=d)for(var e=0;e<d.Ef.length;e++){var f=d.Ef[e];if(c==f.rf){f!=d.jr||d.kr||(d.kr=!0);p.dp(d.Ef,e);d.$o>=e&&d.$o--;0==d.Ef.length&&(this.Pe==d?this.ci=!0:this.Mz(d));break}}}},ap:function(a){null!=a&&
(a=this.cj[a.Rb],null!=a&&(this.ov?a.dm.Hk=!0:this.Qu(a.dm)))},eJ:function(a){if(null!=a){var c=this.bj[a.Rb];c&&(!c.kr&&p.$w(c.Ef,c.jr)&&(c.kr=!0),c.Ef.length=0,this.Pe==c?this.ci=!0:this.Mz(c));this.ap(a)}},ks:function(){this.qV(p.dt)},qV:function(a){var c;for(c=0;c<this.Xj.length;c++)this.eJ(this.Xj[c].target);if(0>a)for(c=0;c<this.Jg.length;c++)this.ap(this.Jg[c].target);if(0>=a)for(c=0;c<this.th.length;c++)this.ap(this.th[c].target);for(c=0;c<this.Zf.length;c++)this.Zf[c].HH>=a&&this.ap(this.Zf[c].target)},
G6:function(){return this.uS(p.dt)},uS:function(a){var c=[],d,e;for(d=0;d<this.Xj.length;d++)if(e=this.Xj[d])e.paused=!0,c.push(e.target);if(0>a)for(d=0;d<this.Jg.length;d++)if(e=this.Jg[d])e.paused=!0,c.push(e.target);if(0>=a)for(d=0;d<this.th.length;d++)if(e=this.th[d])e.paused=!0,c.push(e.target);for(d=0;d<this.Zf.length;d++)if(e=this.Zf[d])e.paused=!0,c.push(e.target);return c},rT:function(a){if(a)for(var c=0;c<a.length;c++)this.zm(a[c])},Sr:function(a){if(!a)throw"cc.Scheduler.pauseTarget():target should be non-null";
var c=this.bj[a.Rb];c&&(c.paused=!0);if(a=this.cj[a.Rb])a.dm.paused=!0},zm:function(a){if(!a)throw"cc.Scheduler.resumeTarget():target should be non-null";var c=this.bj[a.Rb];c&&(c.paused=!1);if(a=this.cj[a.Rb])a.dm.paused=!1},f5:function(a){if(!a)throw"cc.Scheduler.isTargetPaused():target should be non-null";return(a=this.bj[a.Rb])?a.paused:!1}});p.Fx={IMAGE:["png","jpg","bmp","jpeg","gif"],SOUND:["mp3","ogg","wav","mp4","m4a"],XML:["plist","xml","fnt","tmx","tsx"],BINARY:["ccbi"],FONT:"FONT",TEXT:["txt","vsh","fsh","json","ExportJson"],UNKNOW:[]};
p.Mb=p.ra.extend({vn:0,Xq:0,rq:0,Bl:null,ug:1/60,fj:null,DE:!1,ctor:function(){this.Bl=[]},Xv:function(a,c,d){if(a){c&&(this.rf=c,this.K=d);if(a!=this.Bl||0==this.vn){this.rq=this.vn=0;if(a[0]instanceof Array)for(c=0;c<a.length;c++)this.Bl=this.Bl.concat(a[c]);else this.Bl=a;this.Xq=this.Bl.length}this.xN()}else console.log("resources should not null")},LT:function(a){this.DE=a},qm:function(a){this.rq++;p.log("cocos2d:Failed loading resource: "+a)},Jh:function(){this.rq++},Pv:function(){var a=0;return a=
0==this.Xq?100:0|this.rq/this.Xq*100},YS:function(a){if(a&&0<a.length)for(var c=p.Qa.d(),d=p.$g?p.$g.d():null,e=p.Qj.d(),f=p.hd.d(),g,h=0;h<a.length;h++){g=a[h];var k=this.vE(g);switch(k){case "IMAGE":c.kT(g.src);break;case "SOUND":if(!d)throw"Can not find AudioEngine! Install it, please.";d.A$(g.src);break;case "XML":e.oV(g.src);break;case "BINARY":f.nV(g.src);break;case "TEXT":f.pV(g.src);break;case "FONT":break;default:throw"cocos2d:unknown filename extension: "+k;}}},dN:function(){this.pv();if(this.DE){var a=
p.N.d().gu;if(null!=a&&20>a){p.log("cocos2d: frame rate less than 20 fps, skip frame.");return}}this.vn<this.Xq&&(this.MM(),this.vn++)},MM:function(){var a=p.Qa.d(),c=p.$g?p.$g.d():null,d=p.Qj.d(),e=p.hd.d(),f=this.Bl[this.vn],g=this.vE(f);switch(g){case "IMAGE":a.fc(f.src);break;case "SOUND":if(!c)throw"Can not find AudioEngine! Install it, please.";c.M6(f.src);break;case "XML":d.FS(f.src);break;case "BINARY":e.ES(f.src);break;case "TEXT":e.GS(f.src);break;case "FONT":this.fN(f);break;default:throw"cocos2d:unknown filename extension: "+
g;}},xN:function(){var a=this;this.fj=setInterval(function(){a.dN()},1E3*this.ug)},nO:function(){clearInterval(this.fj)},vE:function(a){if(null!=a.or)return p.Fx.FONT;a=a.src;a=a.substring(a.lastIndexOf(".")+1,a.length);var c=a.indexOf("?");0<c&&(a=a.substring(0,c));for(var d in p.Fx)if(-1!=p.Fx[d].indexOf(a))return d;return a},pv:function(){100<=this.Pv()&&(this.nO(),this.$L())},$L:function(){if(this.K&&"string"==typeof this.rf)this.K[this.rf](this);else this.K&&"function"==typeof this.rf?this.rf.call(this.K,
this):this.rf(this);this.Xq=this.rq=this.vn=0},fN:function(a){var c=a.src,d=p.hd.d();if(c&&0<c.length){var e=document.createElement("style");e.type="text/css";document.body.appendChild(e);for(var f="@font-face { font-family:"+a.or+"; src:",g=0;g<c.length;g++)f+="url('"+d.Td(encodeURI(c[g].src))+"') format('"+c[g].type+"')",f+=g==c.length-1?";":",";e.textContent+=f+"};";c=document.createElement("div");c.style.fontFamily=a.or;c.innerHTML=".";c.style.position="absolute";c.style.left="-100px";c.style.top=
"-100px";document.body.appendChild(c)}p.Mb.d().Jh()},sZ:function(){}});p.Mb.PB=function(a,c,d){this.tb||(this.tb=new p.Mb);this.tb.Xv(a,c,d);return this.tb};p.Mb.L6=function(a,c,d){this.tb||(this.tb=new p.Mb);this.tb.LT(!0);this.tb.Xv(a,c,d);return this.tb};p.Mb.QB=function(a){this.tb&&this.tb.YS(a)};p.Mb.d=function(){this.tb||(this.tb=new p.Mb);return this.tb};p.Mb.tb=null;
p.wx=p.mp.extend({wu:null,Mn:null,ev:null,Ep:null,Kn:null,CA:null,ctor:function(){p.mp.prototype.ctor.call(this);this.CA=p.N.d().Cb},q:function(){p.mp.prototype.q.call(this);var a=p.a(this.CA.width/2,this.CA.height/2);this.Mn=new Image;var c=this;this.Mn.addEventListener("load",function(){c.wM(a);this.removeEventListener("load",arguments.callee,!1)});this.Mn.src="";this.Mn.width=160;this.Mn.height=200;this.Ep=p.Pb.create(p.NA(32,32,32,255));this.Ep.C(0,0);this.s(this.Ep,0);this.Kn=p.W.create("Loading... 0%",
"Arial",14);this.Kn.l(p.xv(180,180,180));this.Kn.C(p.Cf(a,p.a(0,-110)));this.Ep.s(this.Kn,10)},wM:function(a){this.ev=new p.Nb;this.ev.bf(this.Mn);this.ev.ae();this.wu=p.A.od(this.ev);this.wu.Ij(p.gd());this.wu.C(a);this.Ep.s(this.wu,10)},fg:function(){p.I.prototype.fg.call(this);this.sd(this.pF,0.3)},rd:function(){p.I.prototype.rd.call(this);this.Kn.Z("Loading... 0%")},Xv:function(a,c,d){this.oT=a;this.DT=c;this.target=d},pF:function(){this.kg(this.pF);p.Mb.PB(this.oT,this.DT,this.target);this.sd(this.pv)},
pv:function(){var a=p.Mb.d().Pv();this.Kn.Z("Loading... "+a+"%");100<=a&&this.kg(this.pv)}});p.wx.PB=function(a,c,d){this.tb||(this.tb=new p.wx,this.tb.q());this.tb.Xv(a,c,d);a=p.N.d();a.Rc?a.TH(this.tb):a.wT(this.tb);return this.tb};p.lx=p.ra.extend({fb:null,b9:function(a){this.fb=a},T2:function(){return this.fb},ctor:function(a){this.fb=a},XA:function(){p.log("DrawingPrimitive.drawPoint() not implement!")},jG:function(){p.log("DrawingPrimitive.drawPoints() not implement!")},xh:function(){p.log("DrawingPrimitive.drawLine() not implement!")},lG:function(){p.log("DrawingPrimitive.drawRect() not implement!")},YA:function(){p.log("DrawingPrimitive.drawSolidRect() not implement!")},Od:function(){p.log("DrawingPrimitive.drawPoly() not implement!")},
Gv:function(){p.log("DrawingPrimitive.drawSolidPoly() not implement!")},gG:function(){p.log("DrawingPrimitive.drawCircle() not implement!")},kG:function(){p.log("DrawingPrimitive.drawQuadBezier() not implement!")},hG:function(){p.log("DrawingPrimitive.drawCubicBezier() not implement!")},fG:function(){p.log("DrawingPrimitive.drawCardinalSpline() not implement!")},Fv:function(){p.log("DrawingPrimitive.drawCardinalSpline() not implement!")}});
p.bD=p.lx.extend({XA:function(a,c){c||(c=1);var d=p.ga.d().ja,e=p.ga.d().pa,e=p.a(a.x*d,a.y*e);this.fb.beginPath();this.fb.arc(e.x,-e.y,c*d,0,2*Math.PI,!1);this.fb.closePath();this.fb.fill()},jG:function(a,c,d){if(null!=a){d||(d=1);c=this.fb;var e=p.ga.d().ja,f=p.ga.d().pa;c.beginPath();for(var g=0,h=a.length;g<h;g++)c.arc(a[g].x*e,-a[g].y*f,d*e,0,2*Math.PI,!1);c.closePath();c.fill()}},xh:function(a,c){var d=this.fb,e=p.ga.d().ja,f=p.ga.d().pa;d.beginPath();d.moveTo(a.x*e,-a.y*f);d.lineTo(c.x*e,-c.y*
f);d.closePath();d.stroke()},lG:function(a,c){this.xh(p.a(a.x,a.y),p.a(c.x,a.y));this.xh(p.a(c.x,a.y),p.a(c.x,c.y));this.xh(p.a(c.x,c.y),p.a(a.x,c.y));this.xh(p.a(a.x,c.y),p.a(a.x,a.y))},YA:function(a,c,d){a=[a,p.a(c.x,a.y),c,p.a(a.x,c.y)];this.Gv(a,4,d)},Od:function(a,c,d,e){e=e||!1;if(null!=a){if(3>a.length)throw Error("Polygon's point must greater than 2");var f=a[0];c=this.fb;var g=p.ga.d().ja,h=p.ga.d().pa;c.beginPath();c.moveTo(f.x*g,-f.y*h);for(var f=1,k=a.length;f<k;f++)c.lineTo(a[f].x*g,
-a[f].y*h);d&&c.closePath();e?c.fill():c.stroke()}},Gv:function(a,c,d){this.jI(d.i,d.h,d.g,d.D);this.Od(a,c,!0,!0)},gG:function(a,c,d,e,f){f=f||!1;e=this.fb;var g=p.ga.d().ja,h=p.ga.d().pa;e.beginPath();e.arc(0|a.x*g,0|-(a.y*h),c*g,-d,-(d-2*Math.PI),!1);f&&e.lineTo(0|a.x*g,0|-(a.y*h));e.stroke()},kG:function(a,c,d,e){for(var f=[],g=0,h=0;h<e;h++)f.push(p.a(Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y)),g+=1/e;f.push(p.a(d.x,d.y));this.Od(f,e+1,!1,!1)},hG:function(a,
c,d,e,f){for(var g=[],h=0,k=0;k<f;k++)g.push(p.a(Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y)),h+=1/f;g.push(p.a(e.x,e.y));this.Od(g,f+1,!1,!1)},fG:function(a,c){this.Fv(a,0.5,c)},Fv:function(a,c,d){p.M.strokeStyle="rgba(255,255,255,1)";for(var e=[],f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=p.fx(p.Ng(a,f-1),p.Ng(a,f-0),p.Ng(a,f+1),p.Ng(a,f+2),c,g),e.push(f);this.Od(e,
d+1,!1,!1)},drawImage:function(a,c,d,e,f){switch(arguments.length){case 2:this.fb.drawImage(a,c.x,-(c.y+a.height));break;case 3:this.fb.drawImage(a,c.x,-(c.y+d.height),d.width,d.height);break;case 5:this.fb.drawImage(a,c.x,c.y,d.width,d.height,e.x,-(e.y+f.height),f.width,f.height);break;default:throw Error("Argument must be non-nil");}},P_:function(a,c,d){a=a||this.fb;c*=p.ga.d().ja;d instanceof p.zd&&(d=new p.lc(0|255*d.i,0|255*d.h,0|255*d.g));d="rgba("+d.i+","+d.h+","+d.g;a.fillStyle=d+",1)";var e=
c/10;a.beginPath();a.moveTo(-c,c);a.lineTo(0,e);a.lineTo(c,c);a.lineTo(e,0);a.lineTo(c,-c);a.lineTo(0,-e);a.lineTo(-c,-c);a.lineTo(-e,0);a.lineTo(-c,c);a.closePath();a.fill();var f=a.createRadialGradient(0,0,e,0,0,c);f.addColorStop(0,d+", 1)");f.addColorStop(0.3,d+", 0.8)");f.addColorStop(1,d+", 0.0)");a.fillStyle=f;a.beginPath();a.arc(0,0,c-e,0,p.mD,!1);a.closePath();a.fill()},N_:function(a,c,d){a=a||this.fb;c*=p.ga.d().ja;d instanceof p.zd&&(d=new p.lc(0|255*d.i,0|255*d.h,0|255*d.g));d="rgba("+
d.i+","+d.h+","+d.g;var e=a.createRadialGradient(0,0,c/10,0,0,c);e.addColorStop(0,d+", 1)");e.addColorStop(0.3,d+", 0.8)");e.addColorStop(0.6,d+", 0.4)");e.addColorStop(1,d+", 0.0)");a.fillStyle=e;a.beginPath();a.arc(0,0,c,0,p.mD,!1);a.closePath();a.fill()},fillText:function(a,c,d){this.fb.fillText(a,c,-d)},ZT:function(a,c,d,e){this.fb.fillStyle="rgba("+a+","+c+","+d+","+e/255+")";this.fb.strokeStyle="rgba("+a+","+c+","+d+","+e/255+")"},jI:function(a,c,d,e){this.fb.fillStyle="rgba("+(0|255*a)+","+
(0|255*c)+","+(0|255*d)+","+e+")";this.fb.strokeStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+")"},AU:function(){},kU:function(a){this.fb.lineWidth=a*p.ga.d().ja}});
p.RJ=p.lx.extend({mq:!1,wb:null,ai:-1,Xb:null,Az:-1,zz:-1,ctor:function(a){null==a&&(a=p.M);if(!a instanceof WebGLRenderingContext)throw"Can't initialise DrawingPrimitiveWebGL. context need is WebGLRenderingContext";p.lx.prototype.ctor.call(this,a);this.Xb=new p.zd(1,1,1,1)},Dj:function(){this.mq||(this.wb=p.dh.d().Kh(p.WX),this.ai=this.fb.getUniformLocation(this.wb.Qv(),"u_color"),this.Az=this.fb.getUniformLocation(this.wb.Qv(),"u_pointSize"),this.mq=!0)},O_:function(){this.mq=!1},XA:function(a){this.Dj();
this.wb.Me();this.wb.jg();p.Wd(p.sg);this.wb.Nk(this.ai,new Float32Array(this.Xb.Bb,0,4),1);this.wb.FI(this.Az,this.zz);var c=this.fb,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,new Float32Array([a.x,a.y]),c.STATIC_DRAW);c.vertexAttribPointer(p.ke,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,1);c.deleteBuffer(d);p.ah()},jG:function(a){if(a&&0!=a.length){this.Dj();this.wb.Me();this.wb.jg();p.Wd(p.sg);this.wb.Nk(this.ai,new Float32Array(this.Xb.Bb,0,4),1);this.wb.FI(this.Az,
this.zz);var c=this.fb,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.Lu(a),c.STATIC_DRAW);c.vertexAttribPointer(p.ke,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,a.length);c.deleteBuffer(d);p.ah()}},Lu:function(a){for(var c=new Float32Array(2*a.length),d=0;d<a.length;d++)c[2*d]=a[d].x,c[2*d+1]=a[d].y;return c},xh:function(a,c){this.Dj();this.wb.Me();this.wb.jg();p.Wd(p.sg);this.wb.Nk(this.ai,new Float32Array(this.Xb.Bb,0,4),1);var d=this.fb,e=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,
e);d.bufferData(d.ARRAY_BUFFER,this.Lu([a,c]),d.STATIC_DRAW);d.vertexAttribPointer(p.ke,2,d.FLOAT,!1,0,0);d.drawArrays(d.LINES,0,2);d.deleteBuffer(e);p.ah()},lG:function(a,c){this.xh(p.a(a.x,a.y),p.a(c.x,a.y));this.xh(p.a(c.x,a.y),p.a(c.x,c.y));this.xh(p.a(c.x,c.y),p.a(a.x,c.y));this.xh(p.a(a.x,c.y),p.a(a.x,a.y))},YA:function(a,c,d){a=[a,p.a(c.x,a.y),c,p.a(a.x,c.y)];this.Gv(a,4,d)},Od:function(a,c,d){this.Dj();this.wb.Me();this.wb.jg();p.Wd(p.sg);this.wb.Nk(this.ai,new Float32Array(this.Xb.Bb,0,4),
1);c=this.fb;var e=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,e);c.bufferData(c.ARRAY_BUFFER,this.Lu(a),c.STATIC_DRAW);c.vertexAttribPointer(p.ke,2,c.FLOAT,!1,0,0);d?c.drawArrays(c.LINE_LOOP,0,a.length):c.drawArrays(c.LINE_STRIP,0,a.length);c.deleteBuffer(e);p.ah()},Gv:function(a,c,d){this.Dj();d||(d=this.Xb);this.wb.Me();this.wb.jg();p.Wd(p.sg);this.wb.Nk(this.ai,new Float32Array(d.Bb,0,4),1);c=this.fb;d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.Lu(a),c.STATIC_DRAW);
c.vertexAttribPointer(p.ke,2,c.FLOAT,!1,0,0);c.drawArrays(c.TRIANGLE_FAN,0,a.length);c.deleteBuffer(d);p.ah()},gG:function(a,c,d,e,f){this.Dj();var g=1;f&&g++;var h=2*Math.PI/e;if(f=new Float32Array(2*(e+2))){for(var k=0;k<=e;k++){var l=k*h,m=c*Math.sin(l+d)+a.y;f[2*k]=c*Math.cos(l+d)+a.x;f[2*k+1]=m}f[2*(e+1)]=a.x;f[2*(e+1)+1]=a.y;this.wb.Me();this.wb.jg();p.Wd(p.sg);this.wb.Nk(this.ai,new Float32Array(this.Xb.Bb,0,4),1);a=this.fb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(p.ke,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+g);a.deleteBuffer(c);p.ah()}},kG:function(a,c,d,e){this.Dj();for(var f=new Float32Array(2*(e+1)),g=0,h=0;h<e;h++)f[2*h]=Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,f[2*h+1]=Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y,g+=1/e;f[2*e]=d.x;f[2*e+1]=d.y;this.wb.Me();this.wb.jg();p.Wd(p.sg);this.wb.Nk(this.ai,new Float32Array(this.Xb.Bb,0,4),1);a=this.fb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(p.ke,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+1);a.deleteBuffer(c);p.ah()},hG:function(a,c,d,e,f){this.Dj();for(var g=new Float32Array(2*(f+1)),h=0,k=0;k<f;k++)g[2*k]=Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,g[2*k+1]=Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y,h+=1/f;g[2*f]=e.x;g[2*f+1]=e.y;this.wb.Me();this.wb.jg();p.Wd(p.sg);this.wb.Nk(this.ai,new Float32Array(this.Xb.Bb,0,4),1);a=this.fb;c=a.createBuffer();
a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,g,a.STATIC_DRAW);a.vertexAttribPointer(p.ke,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,f+1);a.deleteBuffer(c);p.ah()},fG:function(a,c){this.Fv(a,0.5,c)},Fv:function(a,c,d){this.Dj();for(var e=new Float32Array(2*(d+1)),f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=p.fx(p.Ng(a,f-1),p.Ng(a,f),p.Ng(a,f+1),p.Ng(a,f+2),c,g),e[2*k]=f.x,e[2*k+1]=f.y;this.wb.Me();this.wb.jg();p.Wd(p.sg);this.wb.Nk(this.ai,
new Float32Array(this.Xb.Bb,0,4),1);a=this.fb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,e,a.STATIC_DRAW);a.vertexAttribPointer(p.ke,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,d+1);a.deleteBuffer(c);p.ah()},ZT:function(a,c,d,e){this.Xb.i=a/255;this.Xb.h=c/255;this.Xb.g=d/255;this.Xb.D=e/255},jI:function(a,c,d,e){this.Xb.i=a;this.Xb.h=c;this.Xb.g=d;this.Xb.D=e},AU:function(a){this.zz=a*p.gd()},kU:function(a){this.fb.lineWidth&&this.fb.lineWidth(a)}});p.mD=2*Math.PI;p.FD={wY:0,aX:1,bX:2,LV:3,UW:4,TW:5,YV:6,jX:7,EW:8,tK:100,CK:101};p.pX=0;p.qX=1;p.nX=2;p.oX=3;p.Hf=0;p.Tj=1;p.xf=null;p.M=null;p.canvas=null;p.WP=null;p.ed=p.Hf;p.oS=p.size(0,0);window.XB=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;window.console||(window.console={},window.console.log=function(){},window.console.assert=function(){});p.xB=!1;
p.Ok=function(a,c,d){function e(){if(p.$g){var a=p.$g.d();document[k]?(a.tS(),a.vS()):(p.N.d().tN(),a.pT(),a.qT())}}a=p.zb(a)||p.zb("#"+a);var f,g,h;"CANVAS"==a.tagName?(c=c||a.width,d=d||a.height,g=p.wj=p.Mj("DIV"),h=g.style,f=p.canvas=a,f.parentNode.insertBefore(g,f),f.$l(g),h.width=(c||480)+"px",h.height=(d||320)+"px",g.setAttribute("id","Cocos2dGameContainer"),h.margin="0 auto",f.setAttribute("width",c||480),f.setAttribute("height",d||320)):("DIV"!=a.tagName&&p.log("Warning: target element is not a DIV or CANVAS"),
c=c||a.clientWidth,d=d||a.clientHeight,f=p.canvas=p.Mj("CANVAS"),f.MF("gameCanvas"),f.setAttribute("width",c||480),f.setAttribute("height",d||320),g=p.wj=a,h=g.style,a.appendChild(f),h.width=(c||480)+"px",h.height=(d||320)+"px",h.margin="0 auto");h.position="relative";h.overflow="hidden";g.top="100%";if(!p.cy){p.ta.wc&&(p.M=p.Q$=p.YF(f,{stencil:!0,preserveDrawingBuffer:!0,antialias:!p.ta.Cj,alpha:!1}));p.M?(p.ed=p.Tj,window.gl=p.M,p.xf=new p.RJ(p.M),p.Qa.d().DM()):(p.M=f.getContext("2d"),p.RR=p.M,
p.ed=p.Hf,p.M.translate(0,f.height),p.xf=p.bD?new p.bD(p.M):null);p.oS=p.size(f.width,f.height);p.WP=g;p.log(p.zs);p.ie.d();p.TT();p.ta.Cj&&p.zL();var k,l;"undefined"!==typeof document.hidden?(k="hidden",l="visibilitychange"):"undefined"!==typeof document.mozHidden?(k="mozHidden",l="mozvisibilitychange"):"undefined"!==typeof document.msHidden?(k="msHidden",l="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(k="webkitHidden",l="webkitvisibilitychange");"undefined"===typeof document.addEventListener||
"undefined"===typeof k?(p.xB=!1,window.addEventListener("focus",function(){if(p.$g){var a=p.$g.d();a.pT();a.qT()}},!1),window.addEventListener("blur",function(){if(p.$g){var a=p.$g.d();a.tS();a.vS()}},!1)):(p.xB=!0,document.addEventListener(l,e,!1))}};p.zL=function(){var a=document.createElement("style");a.type="text/css";document.body.appendChild(a);a.textContent="body,canvas,div{ -moz-user-select: none;-webkit-user-select: none;-ms-user-select: none;-khtml-user-select: none;-webkit-tap-highlight-color:rgba(0,0,0,0);}"};
p.EE=!1;p.TT=function(){p.EE=!1;p.canvas.oncontextmenu=p.EE?function(){}:function(){return!1}};p.Ji=p.ra.extend({ug:null,ctor:function(){this.ug=0;if(p.aA)throw"Application has been initialized";p.aA=this},Yr:function(a){this.ug=a},W9:function(a){a&&p.rect(0,0,0,0)},v3:function(){return p.ta.Cj?p.FD.tK:p.FD.CK},tT:function(){if(!this.MO())return 0;var a,c=p.N.d(),d=window;p.CP=c;d.XB&&this.ug==1/60?(a=function(){c.pH();d.XB(a)},d.XB(a)):(a=function(){c.pH()},setInterval(a,1E3*this.ug));return 0}});
p.Ji.d=function(){return p.aA};p.Ji.a1=function(){var a=p.hK,c=navigator.language;c||(c=navigator.browserLanguage||navigator.I$);if(!c)return a;c=c.toLowerCase();switch(c){case "zh-cn":a=p.gK;break;case "fr":a=p.iK;break;case "it":a=p.lK;break;case "de":a=p.jK;break;case "es":a=p.sK;break;case "ru":a=p.rK;break;case "ko":a=p.nK;break;case "ja":a=p.mK;break;case "hu":a=p.kK;break;case "pt":a=p.qK;break;case "ar":a=p.fK;break;case "no":a=p.oK;break;case "pl":a=p.pK}return a};p.aA=null;p.Qj=p.ra.extend({S$:null,UE:null,ko:null,mz:null,ctor:function(){this.ko={};window.DOMParser?(this.mz=!0,this.UE=new DOMParser):this.mz=!1},parse:function(a){var c=a;a=this.BG(a);a=this.VE(a,c).documentElement;if("plist"!=a.tagName)throw"cocos2d: "+c+" is not a plist file or you forgot to preload the plist file";for(var c=null,d=0,e=a.childNodes.length;d<e&&(c=a.childNodes[d],1!=c.nodeType);d++);return this.wz(c)},v$:function(a,c){if(null==c||!1===c)a=this.BG(a);return this.VE(a)},VE:function(a,
c){var d;this.mz?d=this.UE.parseFromString(a,"text/xml"):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(a));null==d&&p.log("cocos2d:xml "+c+" not found!");return d},wz:function(a){var c=null;switch(a.tagName){case "dict":c=this.aN(a);break;case "array":c=this.$M(a);break;case "string":if(1==a.childNodes.length)c=a.firstChild.nodeValue;else for(var c="",d=0;d<a.childNodes.length;d++)c+=a.childNodes[d].nodeValue;break;case "false":c=!1;break;case "true":c=!0;break;case "real":c=
parseFloat(a.firstChild.nodeValue);break;case "integer":c=parseInt(a.firstChild.nodeValue,10)}return c},$M:function(a){for(var c=[],d=0,e=a.childNodes.length;d<e;d++){var f=a.childNodes[d];1==f.nodeType&&c.push(this.wz(f))}return c},aN:function(a){for(var c={},d=null,e=0,f=a.childNodes.length;e<f;e++){var g=a.childNodes[e];1==g.nodeType&&("key"==g.tagName?d=g.firstChild.nodeValue:c[d]=this.wz(g))}return c},FS:function(a){a=p.hd.d().Td(a);if(window.XMLHttpRequest){var c=new XMLHttpRequest;c.overrideMimeType&&
c.overrideMimeType("text/xml")}if(null!=c){var d=this;c.onreadystatechange=function(){4==c.readyState&&(c.responseText?(p.Mb.d().Jh(),d.ko[a]=c.responseText,c=null):(p.Mb.d().Jh(),p.log("cocos2d:There was a problem retrieving the xml data:"+c.statusText)))};c.open("GET",a,!0);c.send(null)}else throw"cocos2d:Your browser does not support XMLHTTP.";},oV:function(a){this.ko.hasOwnProperty(a)&&delete this.ko[a]},getName:function(a){return a.substring(a.lastIndexOf("/",a.length)+1,a.lastIndexOf(".",a.length))},
o1:function(a){return a.substring(a.lastIndexOf(".",a.length)+1,a.length)},BG:function(a){return null!=this.ko?this.ko[a]:null}});p.Qj.d=function(){this.tb||(this.tb=new p.Qj);return this.tb};p.Qj.tb=null;p.Zw=p.ra.extend({BP:function(){p.Ji.d().tT();return!0},VZ:function(){p.N.d().pause()},UZ:function(){p.N.d().VH()},LO:function(){p.Ji.d().LO()},NO:function(){p.Ji.d().NO()},WZ:function(){}});p.Zw.WU=function(){null==p.Kw&&(p.Kw=new p.Zw);if(!p.Kw)throw"Application initialize failure";return p.Kw};p.Kw=null;p.W=p.A.extend({Gd:null,fk:p.Pi,yk:p.wp,Qe:null,ne:0,Yf:"",vz:null,Gn:!1,Zi:null,lj:!1,Gl:null,Un:0,Jq:0,Wu:null,uk:!1,Oq:null,Zn:0,Yu:null,$n:null,fu:null,kA:0,lA:0,Nc:!1,su:null,tu:null,ctor:function(){p.A.prototype.ctor.call(this);this.Gd=p.cl();this.fk=p.rp;this.yk=p.wp;this.$b=!1;this.Zi="";this.Qe="Arial";this.lj=this.Gn=!1;this.Gl=p.cl();this.Jq=this.Un=0;this.Wu="rgba(128, 128, 128, 0.5)";this.uk=!1;this.Oq=p.kb();this.Zn=0;this.Yu="";this.$n=p.kb();this.fu="rgba(255,255,255,1)";this.lA=this.kA=
0;this.Nc=!1;this.ph()},q:function(){return this.Dk(" ",this.Qe,this.ne)},QM:function(){this.bz().font=this.Zi},tq:function(a){return this.bz().measureText(a).width},OL:function(a,c){var d=this.tq(a),e=Math.floor(a.length*c/d),f=a.indexOf("\n");if(0.8*e>=f&&0<f)return f+1;if(d<c)return a.length;for(var d=!1,f=c+1,g=-1,h=e,k,l=p.W.PL,m=p.W.vN,n=p.W.NL,r=a.substr(e);k=l.exec(r);){h+=k[0].length;if("\n"==k[2]){d=!0;g=h;break}f=this.tq(a.substr(0,h));if(f>c){-1!=g&&(d=!0);break}g=h;r=a.substr(h)}if(d)return g;
r=a.substr(0,e);for(g=e;k=m.exec(r);)if(g=k[1].length,r=k[1],f=this.tq(r),f<c){n.test(k[2])&&g++;break}return g},description:function(){return"\x3ccc.LabelTTF | FontName \x3d"+this.Qe+" FontSize \x3d "+this.ne.toFixed(1)+"\x3e"},l:null,Eq:function(a){p.lb.prototype.l.call(this,a);this.dF()},ph:null,dF:function(){this.Nc=!0;var a=this.qc,c=this.Kb,d=this.Oq,e=this.$n;this.Wu="rgba("+(0|0.5*a.i)+","+(0|0.5*a.h)+","+(0|0.5*a.g)+","+this.Un+")";this.fu="rgba("+(0|a.i/255*e.i)+","+(0|a.h/255*e.h)+","+
(0|a.g/255*e.g)+", "+c/255+")";this.Yu="rgba("+(0|a.i/255*d.i)+","+(0|a.h/255*d.h)+","+(0|a.g/255*d.g)+", "+c/255+")"},EN:function(){this.Nc=!0;var a=this.Oq,c=this.$n;this.Wu="rgba(128,128,128,"+this.Un+")";this.fu="rgba("+(0|c.i)+","+(0|c.h)+","+(0|c.g)+", 1)";this.Yu="rgba("+(0|a.i)+","+(0|a.h)+","+(0|a.g)+", 1)"},Ic:null,rA:function(a){p.lb.prototype.Ic.call(this,a);this.ph()},V:null,Gq:function(a){this.li!==a&&(p.A.prototype.V.call(this,a),this.ph(),this.Nc=!0)},Jc:null,F$:function(a){p.lb.prototype.Jc.call(this,
a);this.ph()},gB:function(){return this.Yf},A1:function(){return this.fk},P3:function(){return this.yk},j1:function(){return p.size(this.Gd.width,this.Gd.height)},u1:function(){return this.ne},t1:function(){return this.Qe},Dk:function(a,c,d,e,f,g){a=a?a+"":"";d=d||16;e=e||p.size(0,d);f=f||p.rp;g=g||p.xp;return p.A.prototype.q.call(this)?(this.$b=!1,this.Gd=p.size(e.width,e.height),this.Qe=c||"Arial",this.fk=f,this.yk=g,this.ne=d,this.Zi=this.ne+"px '"+c+"'",this.Yi=p.W.Gt(c,this.ne),this.Z(a),this.ph(),
this.tA(),this.Nc=!1,!0):!1},tB:null,zM:function(a,c){if(!p.A.prototype.q.call(this))return!1;this.uA(c,!1);this.Z(a);return!0},AM:function(a,c){if(!p.A.prototype.q.call(this))return!1;this.ig(p.dh.d().Kh(p.W.jL));this.uA(c,!1);this.Z(a);return!0},u9:function(a){a&&this.uA(a,!0)},w3:function(){return this.eN(!1)},PP:function(a,c,d){c=c||0.5;!1===this.lj&&(this.lj=!0);var e=this.Gl;if(e&&e.width!=a.width||e.height!=a.height)e.width=a.width,e.height=a.height;this.Un!=c&&(this.Un=c);this.ph();this.Jq!=
d&&(this.Jq=d);this.Nc=!0},J_:function(){this.lj&&(this.lj=!1,this.Nc=!0)},QP:function(a,c){!1===this.uk&&(this.uk=!0);var d=this.Oq;if(d.i!==a.i||d.h!==a.h||d.g!==a.g)d.i=a.i,d.h=a.h,d.g=a.g,this.ph();this.Zn!==c&&(this.Zn=c||0);this.Nc=!0},K_:function(){this.uk&&(this.uk=!1,this.Nc=!0)},fC:null,IN:function(a){var c=this.$n;if(c.i!=a.i||c.h!=a.h||c.g!=a.g)c.i=a.i,c.h=a.h,c.g=a.g,this.ph(),this.Nc=!0},JN:function(a){var c=this.$n;if(c.i!=a.i||c.h!=a.h||c.g!=a.g)c.i=a.i,c.h=a.h,c.g=a.g,this.ph(),this.Nc=
!0},uA:function(a,c){a.nr?(this.Gd.width=a.nr.width,this.Gd.height=a.nr.height):(this.Gd.width=0,this.Gd.height=0);this.fk=a.rG;this.yk=a.sG;this.Qe=a.or;this.ne=a.fontSize||12;this.Zi=this.ne+"px '"+this.Qe+"'";this.Yi=p.W.Gt(this.Qe,this.ne);a.QI&&this.PP(a.RI,a.SI,a.shadowBlur,!1);a.wC&&this.QP(a.strokeColor,a.YI,!1);this.fC(a.tG,!1);c&&this.tA()},eN:function(a){var c=new p.XJ;a?(c.fontSize=this.ne,c.nr=p.Jx(this.Gd)):(c.fontSize=this.ne,c.nr=p.size(this.Gd.width,this.Gd.height));c.or=this.Qe;
c.rG=this.fk;c.sG=this.yk;if(this.uk){c.wC=!0;var d=this.Oq;c.strokeColor=new p.lc(d.i,d.h,d.g);c.YI=this.Zn}else c.wC=!1;this.lj?(c.QI=!0,c.shadowBlur=this.Jq,c.SI=this.Un,c.RI=a?p.Jx(this.Gl):p.size(this.Gl.width,this.Gl.height)):c.lj=!1;a=this.$n;c.tG=new p.lc(a.i,a.h,a.g);return c},Yi:18,Z:function(a){a=String(a);this.vz!=a&&(this.vz=a+"",this.DF(),this.Nc=!0)},DF:function(){this.Yf=this.vz},k8:function(a){a!==this.fk&&(this.fk=a,this.Nc=!0)},G9:function(a){a!=this.yk&&(this.yk=a,this.Nc=!0)},
dC:function(a){if(a.width!=this.Gd.width||a.height!=this.Gd.height)this.Gd=a,this.DF(),this.Nc=!0},lI:function(a){this.ne!==a&&(this.ne=a,this.Zi=a+"px '"+this.Qe+"'",this.Yi=p.W.Gt(this.Qe,a),this.Nc=!0)},eU:function(a){this.Qe&&this.Qe!=a&&(this.Qe=a,this.Zi=this.ne+"px '"+a+"'",this.Yi=p.W.Gt(a,this.ne),this.Nc=!0)},eM:function(a){if(a){var c=this.kA,d=this.lA,e=this.ia.ha-d,f=this.yk,g=this.fk,h=this.Yi,k=this.Zn;a.setTransform(1,0,0,1,0+0.5*c,e+0.5*d);a.font!=this.Zi&&(a.font=this.Zi);a.fillStyle=
this.fu;var l=d=0,m=this.uk;m&&(a.lineWidth=2*k,a.strokeStyle=this.Yu);this.lj&&(k=this.Gl,a.shadowColor=this.Wu,a.shadowOffsetX=k.width,a.shadowOffsetY=-k.height,a.shadowBlur=this.Jq);a.textBaseline=p.W.hO[f];a.textAlign=p.W.gO[g];c=this.ia.wa-c;d=g===p.WK?d+c:g===p.Pi?d+c/2:d+0;if(this.Gn)for(g=this.nj.length,f===p.wp?l=h+e-h*g:f===p.Ct&&(l=h/2+(e-h*g)/2),f=0;f<g;f++)c=this.nj[f],k=-e+h*f+l,m&&a.strokeText(c,d,k),a.fillText(c,d,k);else f!==p.wp&&(l=f===p.xp?l-e:l-0.5*e),m&&a.strokeText(this.Yf,
d,l),a.fillText(this.Yf,d,l)}},bz:function(){if(this.tu)return this.tu;if(!this.su){var a=document.createElement("canvas"),c=new p.Nb;c.bf(a);this.ba(c);this.su=a}return this.tu=this.su.getContext("2d")},EF:function(){var a=this.Gd.width,c,d;this.IE=[];this.Gn=!1;this.QM();if(0!==a){var e=this.Yf;this.nj=[];c=0;for(d=this.Yf.length;c<d;){var f=this.OL(e.substr(c),a);this.nj.push(e.substr(c,f));c+=f}}else for(this.nj=this.Yf.split("\n"),c=0,d=this.nj.length;c<d;c++)this.IE.push(this.tq(this.nj[c]));
0<this.nj.length&&(this.Gn=!0);d=c=0;this.uk&&(c=d=2*this.Zn);this.lj&&(e=this.Gl,c+=2*Math.abs(e.width),d+=2*Math.abs(e.height));a=0===a?this.Gn?p.size(0|Math.max.apply(Math,this.IE)+c,0|this.Yi*this.nj.length+d):p.size(0|this.tq(this.Yf)+c,0|this.Yi+d):0===this.Gd.height?this.Gn?p.size(0|a+c,0|this.Yi*this.nj.length+d):p.size(0|a+c,0|this.Yi+d):p.size(0|a+c,0|this.Gd.height+d);this.ea(a);this.kA=c;this.lA=d;e=this.eh;this.kd.w=0.5*c+(a.width-c)*e.w;this.kd.G=0.5*d+(a.height-d)*e.G},f:function(){this.Nc&&
this.EF();return p.A.prototype.f.call(this)},tA:function(){var a=this.bz(),c=this.su,d=this.ia;if(0===this.Yf.length)return c.width=1,c.height=d.ha,this.jb(p.rect(0,0,1,d.ha)),!0;a.font=this.Zi;this.EF();var e=d.wa,d=d.ha,f=c.width==e&&c.height==d;c.width=e;c.height=d;f&&a.clearRect(0,0,e,d);this.eM(a);this.sa.ae();this.jb(p.rect(0,0,e,d));return!0},fa:function(a){this.Yf&&""!=this.Yf&&(this.Nc&&(this.Nc=!1,this.tA()),p.A.prototype.fa.call(this,a||p.M))},Ia:null,Qf:function(a){if(this.Yf&&""!=this.Yf){a=
a||p.M;var c=this.sa;c&&c.dc&&(this.sc.Me(),this.sc.jg(),p.Aj(this.T.src,this.T.sb),p.bg(c),p.Wd(p.Bt),a.bindBuffer(a.ARRAY_BUFFER,this.Pu),this.Ue&&(a.bufferData(a.ARRAY_BUFFER,this.vb.HA,a.STATIC_DRAW),this.Ue=!1),a.vertexAttribPointer(p.ke,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(p.vp,2,a.FLOAT,!1,24,16),a.vertexAttribPointer(p.tp,4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));1===p.Rj?(a=this.vb,a=[p.a(a.Fa.n.x,a.Fa.n.y),p.a(a.ya.n.x,a.ya.n.y),p.a(a.Ha.n.x,a.Ha.n.y),p.a(a.Ba.n.x,
a.Ba.n.y)],p.xf.Od(a,4,!0)):2===p.Rj&&(a=this.hB().Na,c=this.Tb,a=[p.a(c.x,c.y),p.a(c.x+a.width,c.y),p.a(c.x+a.width,c.y+a.height),p.a(c.x,c.y+a.height)],p.xf.Od(a,4,!0));p.zh++}},$z:function(a,c,d){this.Ec=c||!1;d=d||a.Na;this.ea(d);this.qC(a);c=this.bo;c.x=a.x;c.y=a.y;c.width=a.width;c.height=a.height;c.os=!(0===c.width||0===c.height);a=this.sh;this.Yb&&(a.w=-a.w);this.Zb&&(a.G=-a.G);this.Tb.w=a.x+(this.ia.wa-this.na.width)/2;this.Tb.G=a.y+(this.ia.ha-this.na.height)/2;this.Va&&(this.xa=!0)},gF:function(a){var c=
this.Va?this.Ea.Q():this.sa;if(c){var d=c.wo(),e=c.vo(),f,g=this.vb;this.Ec?(p.Ts?(c=(2*a.x+1)/(2*d),d=c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/d,f=a.y/e,a=(a.y+a.width)/e),this.Yb&&(e=f,f=a,a=e),this.Zb&&(e=c,c=d,d=e),g.ya.r.Ca=c,g.ya.r.ca=f,g.Ha.r.Ca=c,g.Ha.r.ca=a,g.Fa.r.Ca=d,g.Fa.r.ca=f,g.Ba.r.Ca=d,g.Ba.r.ca=a):(p.Ts?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+
a.height)/e),this.Yb&&(e=c,c=d,d=e),this.Zb&&(e=f,f=a,a=e),g.ya.r.Ca=c,g.ya.r.ca=a,g.Ha.r.Ca=d,g.Ha.r.ca=a,g.Fa.r.Ca=c,g.Fa.r.ca=f,g.Ba.r.Ca=d,g.Ba.r.ca=f);this.Ue=!0}}});
p.ta.wc?(b=p.W.prototype,b.l=p.A.prototype.l,b.ph=p.W.prototype.EN,b.Ic=p.A.prototype.Ic,b.V=p.A.prototype.V,b.Jc=p.A.prototype.Jc,b.tB=p.W.prototype.AM,b.fC=p.W.prototype.JN,b.Ia=p.W.prototype.Qf,b.jb=p.A.prototype.hF):(b=p.W.prototype,b.l=p.W.prototype.Eq,b.ph=p.W.prototype.dF,b.Ic=p.W.prototype.rA,b.V=p.W.prototype.Gq,b.Jc=p.W.prototype.AF,b.tB=p.W.prototype.zM,b.fC=p.W.prototype.IN,b.Ia=p.A.prototype.Ia,b.jb=p.W.prototype.$z);p.W.gO=["left","center","right"];p.W.hO=["top","middle","bottom"];
p.W.PL=/(.+?)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;p.W.vN=/(.*)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;p.W.NL=/[\s\-\/\\\:]/;p.W.create=function(a,c,d,e,f,g){var h=new p.W;return h.Dk(a,c,d,e,f,g)?h:null};p.W.C_=function(a,c){var d=new p.W;return d&&d.tB(a,c)?d:null};p.W.jL=p.dL?p.Ix:p.TX;p.W.dl=document.createElement("div");p.W.dl.style.fontFamily="Arial";p.W.dl.style.position="absolute";p.W.dl.style.left="-100px";p.W.dl.style.top="-100px";p.W.dl.style.lineHeight="normal";
document.body.appendChild(p.W.dl);p.W.Gt=function(a,c){var d=p.W.VD[a+"."+c];if(0<d)return d;var e=p.W.dl;e.innerHTML="ajghl~!";e.style.fontFamily=a;e.style.fontSize=c+"px";d=e.clientHeight;p.W.VD[a+"."+c]=d;e.innerHTML="";return d};p.W.VD={};p.$J=p.ra.extend({uc:null,target:null,Yl:0,Mg:null,cm:!1,paused:!1,lB:null,ctor:function(){this.uc=[];this.K=null;this.Yl=0;this.Mg=null;this.paused=this.cm=!1;this.lB=null}});
p.wJ=p.ra.extend({hh:null,cn:null,Pe:null,ci:!1,kZ:function(a,c){for(var d=0;d<a.length;d++)if(c==a[d].target)return a[d];return null},ctor:function(){this.hh={};this.cn=[];this.Pe=null;this.ci=!1},CO:function(a,c,d){if(!a)throw"cc.ActionManager.addAction(): action must be non-null";if(!c)throw"cc.ActionManager.addAction(): action must be non-null";var e=this.hh[c.Rb];e||(e=new p.$J,e.paused=d,e.target=c,this.hh[c.Rb]=e,this.cn.push(e));this.tL(e);e.uc.push(a);a.O(c)},X6:function(){for(var a=this.cn,
c=0;c<a.length;c++){var d=a[c];d&&this.QH(d.target,!0)}},QH:function(a,c){if(null!=a){var d=this.hh[a.Rb];d&&(-1===d.uc.indexOf(d.Mg)||d.cm||(d.cm=!0),d.uc=[],this.Pe!=d||c?this.Gy(d):this.ci=!0)}},PH:function(a){if(null!=a){var c=this.hh[a.zl.Rb];if(c)for(var d=0;d<c.uc.length;d++){if(c.uc[d]==a){c.uc.splice(d,1);break}}else p.log("cocos2d: removeAction: Target not found")}},$S:function(a,c){a==p.Mm&&p.log("cc.ActionManager.removeActionByTag(): an invalid tag");if(!c)throw"cc.ActionManager.removeActionByTag(): target must be non-null";
var d=this.hh[c.Rb];if(d)for(var e=d.uc.length,f=0;f<e;++f){var g=d.uc[f];if(g&&g.Sc===a&&g.zl==c){this.iN(f,d);break}}},aB:function(a,c){a==p.Mm&&p.log("cc.ActionManager.getActionByTag(): an invalid tag");var d=this.hh[c.Rb];if(d){if(null!=d.uc)for(var e=0;e<d.uc.length;++e){var f=d.uc[e];if(f&&f.Sc===a)return f}p.log("cocos2d : getActionByTag(tag \x3d"+a+"): Action not found")}return null},XR:function(a){return(a=this.hh[a.Rb])?a.uc?a.uc.length:0:0},Sr:function(a){if(a=this.hh[a.Rb])a.paused=!0},
zm:function(a){if(a=this.hh[a.Rb])a.paused=!1},F6:function(){for(var a=[],c=this.cn,d=0;d<c.length;d++){var e=c[d];e&&!e.paused&&(e.paused=!0,a.push(e.target))}return a},rT:function(a){if(a)for(var c=0;c<a.length;c++)a[c]&&this.zm(a[c])},P6:function(){p.N.d().af().ap(this)},iN:function(a,c){c.uc[a]!=c.Mg||c.cm||(c.cm=!0);p.dp(c.uc,a);c.Yl>=a&&c.Yl--;0==c.uc.length&&(this.Pe==c?this.ci=!0:this.Gy(c))},Gy:function(a){a&&(delete this.hh[a.target.Rb],p.xd(this.cn,a),a.uc=null,a.target=null)},tL:function(a){null==
a.uc&&(a.uc=[])},update:function(a){for(var c=this.cn,d,e=0;e<c.length;e++){d=this.Pe=c[e];if(!d.paused)for(d.Yl=0;d.Yl<d.uc.length;d.Yl++)if(d.Mg=d.uc[d.Yl],d.Mg){d.cm=!1;d.Mg.step(a);if(d.cm)d.Mg=null;else if(d.Mg.Eh()){d.Mg.stop();var f=d.Mg;d.Mg=null;this.PH(f)}d.Mg=null}this.ci&&0===d.uc.length&&this.Gy(d)}}});p.Oe=p.ra.extend({$:null,Nu:p.Mi(),mf:0,ctor:function(a,c,d){this.$=p.a(a||0,c||0);this.mf=d||0},M1:function(){return this.$},uQ:function(){return this.Nu},g1:function(){return p.dd(this.$,this.Nu)},D1:function(){return this.mf},E1:function(){return this.mf},oC:function(a,c,d){this.Nu=this.$;this.$=p.a(c||0,d||0);this.mf=a},sf:function(a,c){this.Nu=p.a(a||0,c||0)}});
p.OD=p.ra.extend({QY:null,Ib:function(){return!1},cd:function(){},De:function(){},Ej:function(){},uH:function(){},xH:function(){},wH:function(){},vH:function(){},z$:function(){},y$:function(){}});p.jY=p.OD.extend({Ib:function(){return!1},cd:function(){},De:function(){},Ej:function(){}});p.cY=p.OD.extend({uH:function(){},xH:function(){},wH:function(){},vH:function(){}});p.Zm=p.ra.extend({Jb:null,Te:0,xn:0,Vb:function(){return this.Jb},Xg:function(a){this.Jb=a},vQ:function(){return this.Te},cs:function(a){this.Te=a},dQ:function(){return this.xn},$T:function(a){this.xn=a},Bj:function(a,c){if(!a)throw"cc.TouchHandler.initWithDelegate(): touch delegate should not be null";this.Jb=a;this.Te=c;this.xn=0;return!0}});p.Zm.create=function(a,c){var d=new p.Zm;d&&d.Bj(a,c);return d};p.Nx=p.Zm.extend({Bj:function(a,c){return p.Zm.prototype.Bj.call(this,a,c)}});
p.Nx.create=function(a,c){var d=new p.Nx;d&&d.Bj(a,c);return d};p.ut=p.Zm.extend({bv:!1,sn:null,e5:function(){return this.bv},r9:function(a){this.bv=a},S0:function(){return this.sn},Bj:function(a,c,d){return p.Zm.prototype.Bj.call(this,a,c)?(this.sn=[],this.bv=d,!0):!1}});p.ut.create=function(a,c,d){var e=new p.ut;e&&e.Bj(a,c,d);return e};p.ZK=1;p.bL=2;p.aL=4;p.$K=8;p.mY=p.ZK|p.bL|p.aL|p.$K;p.Rx=0;p.Ux=1;p.Tx=2;p.Sx=3;p.lY=4;p.jH=function(a,c){return a.Te>c.Te};p.yt=function(a){this.type=a};
p.Y=p.ra.extend({ij:!1,ve:null,ue:null,vl:!1,Wq:!1,mv:!1,gk:null,aj:null,lv:!1,Wi:!1,sM:[new p.yt(p.Rx),new p.yt(p.Ux),new p.yt(p.Tx),new p.yt(p.Sx)],q:function(){this.Wi=!0;this.ve=[];this.ue=[];this.gk=[];this.aj=[];this.ij=this.vl=this.lv=this.Wq=this.mv=!1;p.Y.VS();return!0},Fq:function(a){this.ij=a},nM:function(){return this.ij},F4:function(){return this.Wi},XT:function(a){this.Wi=a},xL:function(a,c){var d=p.Nx.create(a,c||0);this.vl?-1!=this.aj.indexOf(a)?p.xd(this.aj,a):(this.gk.push(d),this.Wq=
!0):this.ue=this.ro(d,this.ue)},yL:function(a,c,d){c=p.ut.create(a,c,d);this.vl?-1!=this.aj.indexOf(a)?p.xd(this.aj,a):(this.gk.push(c),this.Wq=!0):this.ve=this.ro(c,this.ve)},ro:function(a,c){for(var d=0,e,f=0;f<c.length;f++)if(e=c[f])if(e.Te<a.Te&&++d,e.Vb()==a.Vb())return p.log("cc.TouchDispatcher.forceAddHandler(): The handler has been added."),c;return p.Wk(c,a,d)},uG:function(){this.ue.length=0;this.ve.length=0},lN:function(a){if(null!=a)if(this.vl){var c=this.oG(this.gk,a);c?p.xd(this.gk,c):
(this.aj.push(a),this.mv=!0)}else this.vG(a)},bT:function(){this.vl?this.lv=!0:this.uG()},cs:function(a,c){if(!c)throw"cc.TouchDispatcher.setPriority(): delegate should be non-null.";var d=this.oG(c);d?d.Te!=a&&(d.cs(a),this.KH(this.ve),this.KH(this.ue)):p.log("cc.TouchDispatcher.setPriority(): Can't find TouchHandler.")},touches:function(a,c,d){if(0>d||4<=d)throw"cc.TouchDispatcher.touches(): invalid index";this.vl=!0;var e=this.ve.length,f=this.ue.length,g=e&&f,h=g?a.slice():a,k=this.sM[d];if(0<
e)for(var l,m,n=0;n<a.length;n++)for(var e=a[n],r=0;r<this.ve.length;r++){l=this.ve[r];if(!l)break;m=!1;if(d==p.Rx)l.Vb().Ib&&(m=l.Vb().Ib(e,c))&&l.sn.push(e);else if(0<l.sn.length)switch(m=!0,k.type){case p.Ux:p.ta.Cj?l.Vb().cd&&l.Vb().cd(e,c):this.ij&&l.Vb().cd&&l.Vb().cd(e,c);break;case p.Tx:l.Vb().De&&l.Vb().De(e,c);l.sn.length=0;break;case p.Sx:l.Vb().Ej&&l.Vb().Ej(e,c),l.sn.length=0}if(m&&l.bv){g&&p.xd(h,e);break}}if(0<f)for(n=0;n<this.ue.length&&(l=this.ue[n],l);n++);this.vl=!1;if(this.mv){this.mv=
!1;for(n=0;n<this.aj.length;n++)this.vG(this.aj[n]);this.aj.length=0}if(this.Wq){this.Wq=!1;for(n=0;n<this.gk.length;n++){l=this.gk[n];if(!l)break;l instanceof p.ut?this.ve=this.ro(l,this.ve):this.ue=this.ro(l,this.ue)}this.gk.length=0}this.lv&&(this.lv=!1,this.uG())},Rw:function(a,c){this.Wi&&this.touches(a,c,p.Rx)},Sw:function(a,c){this.Wi&&this.touches(a,c,p.Ux)},js:function(a,c){this.Wi&&this.touches(a,c,p.Tx)},yC:function(a,c){this.Wi&&this.touches(a,c,p.Sx)},oG:function(a,c){switch(arguments.length){case 1:c=
arguments[0];if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(var d=0;d<this.ve.length;d++)if(this.ve[d].Vb()==c)return this.ve[d];for(d=0;d<this.ue.length;d++)if(this.ue[d].Vb()==c)return this.ue[d];return null;case 2:if(!a)throw"cc.TouchDispatcher.findHandler(): array should be non-null.";if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(d=0;d<a.length;d++)if(a[d].Vb()==c)return a[d];return null;default:throw"Argument must be non-nil ";
}},vG:function(a){for(var c,d=0;d<this.ue.length;d++)if((c=this.ue[d])&&c.Vb()==a){p.xd(this.ue,c);break}for(d=0;d<this.ve.length;d++)if((c=this.ve[d])&&c.Vb()==a){p.xd(this.ve,c);break}},KH:function(a){a.sort(p.jH)}});p.Y.cb=p.a(0,0);p.Y.fH=!1;
p.ti=function(a){var c=document.documentElement,d=window,e=null,e="function"===typeof a.getBoundingClientRect?a.getBoundingClientRect():a instanceof HTMLCanvasElement?{left:0,top:0,width:a.width,height:a.height}:{left:0,top:0,width:parseInt(a.style.width),height:parseInt(a.style.height)};return{left:e.left+d.pageXOffset-c.clientLeft,top:e.top+d.pageYOffset-c.clientTop,width:e.width,height:e.height}};
p.KK=function(a,c){var d=p.ti(a),e,f;null!=c.pageX?(e=c.pageX,f=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,e=c.clientX,f=c.clientY);e=p.ga.d().xj(e,f,d);d=new p.Oe(e.x,e.y);d.sf(p.Y.cb.x,p.Y.cb.y);p.Y.cb.x=e.x;p.Y.cb.y=e.y;e=[];e.push(d);p.ga.d().js(e,null)};
p.Y.VS=function(){var a=p.canvas;if(!p.Y.fH){if(p.ta.Cj)if(window.navigator.msPointerEnabled){var c={MSPointerDown:"touchesBegan",MSPointerMove:"touchesMoved",MSPointerUp:"touchesEnded",MSPointerCancel:"touchesCancelled"},d;for(d in c)(function(c,d){a.addEventListener(c,function(c){var e=p.ti(a);e.left-=document.body.scrollLeft;e.top-=document.body.scrollTop;var k,l;k=c.clientX;l=c.clientY;k=p.ga.d().xj(k,l,e);e=new p.Oe(k.x,k.y);e.sf(p.Y.cb.x,p.Y.cb.y);p.Y.cb.x=k.x;p.Y.cb.y=k.y;p.N.d().xe[d]([e],
null);c.stopPropagation();c.preventDefault()},!1)})(d,c[d])}else a.addEventListener("touchstart",function(c){if(c.changedTouches){var d=[],g=p.ti(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=p.ga.d().xj(k,l,g),h.hasOwnProperty("identifier")?(h=new p.Oe(k.x,k.y,h.identifier),l=p.Y.iu(h).$,h.sf(l.x,l.y),p.Y.eF(h)):(h=new p.Oe(k.x,k.y),h.sf(p.Y.cb.x,p.Y.cb.y)),p.Y.cb.x=k.x,p.Y.cb.y=
k.y,d.push(h);p.ga.d().Rw(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchmove",function(c){if(c.changedTouches){var d=[],g=p.ti(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=p.ga.d().xj(k,l,g),h.hasOwnProperty("identifier")?(h=new p.Oe(k.x,k.y,h.identifier),l=p.Y.iu(h).$,h.sf(l.x,l.y),p.Y.eF(h)):(h=new p.Oe(k.x,k.y),h.sf(p.Y.cb.x,p.Y.cb.y)),p.Y.cb.x=
k.x,p.Y.cb.y=k.y,d.push(h);p.ga.d().Sw(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchend",function(c){if(c.changedTouches){var d=[],g=p.ti(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=p.ga.d().xj(k,l,g),h.hasOwnProperty("identifier")?(h=new p.Oe(k.x,k.y,h.identifier),l=p.Y.iu(h).$,h.sf(l.x,l.y),p.Y.nE(h)):(h=new p.Oe(k.x,k.y),h.sf(p.Y.cb.x,p.Y.cb.y)),
p.Y.cb.x=k.x,p.Y.cb.y=k.y,d.push(h);p.ga.d().js(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchcancel",function(c){if(c.changedTouches){var d=[],g=p.ti(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=p.ga.d().xj(k,l,g),h.hasOwnProperty("identifier")?(h=new p.Oe(k.x,k.y,h.identifier),l=p.Y.iu(h).$,h.sf(l.x,l.y),p.Y.nE(h)):(h=new p.Oe(k.x,k.y),h.sf(p.Y.cb.x,
p.Y.cb.y)),p.Y.cb.x=k.x,p.Y.cb.y=k.y,d.push(h);p.ga.d().yC(d,null);c.stopPropagation();c.preventDefault()}},!1);else window.addEventListener("mousedown",function(){p.N.d().xe.Fq(!0)}),window.addEventListener("mouseup",function(c){p.N.d().xe.Fq(!1);var d=p.ti(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);p.Eb(new p.Kf(d.left,d.top,d.width,d.height),p.a(g,c))||(g=p.ga.d().xj(g,c,d),d=new p.Oe(g.x,g.y),d.sf(p.Y.cb.x,
p.Y.cb.y),p.Y.cb.x=g.x,p.Y.cb.y=g.y,g=[],g.push(d),p.ga.d().js(g,null))}),a.addEventListener("mousedown",function(c){var d=p.ti(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=p.ga.d().xj(g,c,d);d=new p.Oe(g.x,g.y);d.sf(p.Y.cb.x,p.Y.cb.y);p.Y.cb.x=g.x;p.Y.cb.y=g.y;g=[];g.push(d);p.ga.d().Rw(g,null)}),a.addEventListener("mouseup",function(c){p.KK(a,c)}),a.addEventListener("mousemove",function(c){var d=p.ti(a),g;null!=
c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=p.ga.d().xj(g,c,d);d=new p.Oe(g.x,g.y);d.sf(p.Y.cb.x,p.Y.cb.y);p.Y.cb.x=g.x;p.Y.cb.y=g.y;g=[];g.push(d);p.ga.d().Sw(g,null)});p.Y.fH=!0}};p.Y.iu=function(a){for(var c=null,d=p.Y.Dz,e=a.mf,f=d.length-1;0<=f;f--)if(d[f].mf==e){c=d[f];break}c||(c=a);return c};
p.Y.eF=function(a){for(var c=!1,d=p.Y.Dz,e=a.mf,f=d.length-1;0<=f;f--)if(d[f].mf==e){d[f]=a;c=!0;break}c||(50>=d.length?d.push(a):(d[p.Y.Ez]=a,p.Y.Ez=(p.Y.Ez+1)%50))};p.Y.nE=function(a){var c,d=p.Y.Dz;c=a.mf;for(a=d.length-1;0<=a;a--)if(d[a].mf==c){c=d.pop();a!=d.length&&(d[a]=c);break}};p.Y.Dz=[];p.Y.Ez=0;p.TB=function(a,c,d){p.N.d().xe.yL(d,a,c)};p.WS=function(a,c){p.N.d().xe.xL(a,c)};p.dJ=function(a){p.N.d().xe.lN(a)};p.uK=1;p.jD=2;p.dX=4;p.yK=8;p.GX=16;p.HX=32;p.IX=64;p.sX=128;p.tX=256;p.uX=512;p.BD=1024;p.vK=2048;p.wK=4096;p.xK=0;p.eX=1;p.kD=2;p.hX=p.ra.extend({aS:function(){return!1},bS:function(){return!1},Vg:function(){return!1},eS:function(){return!1},iS:function(){return!1},jS:function(){return!1},kS:function(){return!1},fS:function(){return!1},gS:function(){return!1},hS:function(){return!1},lS:function(){return!1},cS:function(){return!1},dS:function(){return!1}});
p.zK=p.Oe.extend({HF:0,fE:p.xK,U3:function(){return this.HF},LI:function(a){this.HF=a},K0:function(){return this.fE},MT:function(a){this.fE=a}});p.xx=p.ra.extend({Jb:null,Te:0,xn:0,Vb:function(){return this.Jb},Xg:function(a){this.Jb=a},vQ:function(){return this.Te},cs:function(a){this.Te=a},dQ:function(){return this.xn},$T:function(a){this.xn=a},Bj:function(a,c){this.Jb=a;this.Te=c}});p.xx.create=function(a,c){var d=new p.xx;d.Bj(a,c);return d};
p.Bd=p.ra.extend({ij:!1,Ru:!1,nf:null,Wi:!1,q:function(){this.Wi=!0;this.nf=[];this.Ru=this.ij=!1;p.Bd.gN();return!0},Fq:function(a){this.ij=a},nM:function(){return this.ij},fF:function(a){this.Ru=a},XY:function(){return this.Ru},OF:function(a,c){var d=p.xx.create(a,c);this.nf=this.ro(d,this.nf)},ro:function(a,c){for(var d=0,e=0;e<c.length;e++){var f=c[e];if(f&&(f.Te<a.Te&&++d,f.Vb()==a.Vb()))return p.log("cc.MouseDispatcher.forceAddHandler(): handler has been added."),c}return p.Wk(c,a,d)},RH:function(a){if(null!=
a)for(var c=0;c<this.nf.length;c++){var d=this.nf[c];if(d&&d.Vb()==a){p.xd(this.nf,d);break}}},lM:function(a){for(var c=0;c<this.nf.length;c++)if(this.nf[c]&&this.nf[c].Vb()==a)return this.nf[c];return null},cs:function(a,c){if(!c)throw"cc.MouseDispatcher.setPriority(): delegate should be non-null";var d=this.lM(c);d?d.Te!=a&&(d.cs(a),this.nf.sort(p.jH)):p.log("cc.MouseDispatcher.setPriority(): Can't find MouseHandler in array")},a7:function(){this.nf.length=0},lm:function(a,c,d){for(c=0;c<this.nf.length;c++){var e=
this.nf[c];switch(d){case p.jD:this.ij||this.Ru||!e.Vb().Vg||e.Vb().Vg(a)}}}});p.Bd.Mu=p.a(0,0);p.Bd.JM=!1;
p.Bd.gN=function(){var a=p.canvas;function c(c){var e=p.ti(a),f=c.pageX,g=c.pageY,h=p.ga.d(),f=(f-e.left)/h.ja,e=(e.height-(g-e.top))/h.pa,g=new p.zK(f,e);g.sf(p.Bd.Mu.x,p.Bd.Mu.y);g.MT(c.button);p.Bd.Mu.x=f;p.Bd.Mu.y=e;return g}p.Bd.JM||(window.addEventListener("mousedown",function(a){a.button==p.kD?p.N.d().$e().fF(!0):p.N.d().$e().Fq(!0)}),window.addEventListener("mouseup",function(a){a.button==p.kD?p.N.d().$e().fF(!1):p.N.d().$e().Fq(!1)}),a.addEventListener("mousedown",function(a){p.N.d().$e().lm(c(a),
a,p.uK)}),a.addEventListener("mouseup",function(a){p.N.d().$e().lm(c(a),a,p.yK)}),a.addEventListener("mousemove",function(a){p.N.d().$e().lm(c(a),a,p.jD)}),a.addEventListener("mousewheel",function(a){var e=c(a);e.LI(a.wheelDelta);p.N.d().$e().lm(e,a,p.BD)},!1),a.addEventListener("DOMMouseScroll",function(a){var e=c(a);e.LI(-120*a.detail);p.N.d().$e().lm(e,a,p.BD)}),a.addEventListener("mouseout",function(a){p.N.d().$e().lm(c(a),a,p.wK)},!1),a.addEventListener("mouseover",function(a){p.N.d().$e().lm(c(a),
a,p.vK)},!1))};p.K$=function(){return{x:0,y:0}};p.Sk=function(a,c){return{x:a,y:c}};p.lg=function(a,c){return p.Sk(a.x+c.x,a.y+c.y)};p.Vc=function(a,c){return p.Sk(a.x-c.x,a.y-c.y)};p.Gf=function(a,c){return p.Sk(a.x*c,a.y*c)};p.Ww=function(a){return p.Sk(-a.y,a.x)};p.Gi=function(a){return p.Sk(-a.x,-a.y)};p.uV=function(a,c){return a.x*c.x+a.y*c.y};p.J$=function(a){return p.Sk(Math.cos(a),Math.sin(a))};p.DC=function(a){a=p.Wg(p.a(a.x,a.y));return p.Sk(a.x,a.y)};p.Vh=function(a){return p.Sk(a.x,a.y)};
p.ob=function(a){return{Ca:a.x,ca:a.y}};
p.PJ=p.I.extend({Oa:null,T:null,qr:function(){return this.T},Lk:function(a){this.T=a},ctor:function(){p.I.prototype.ctor.call(this);this.Oa=[];this.T=new p.Yk(p.he,p.ge)},Ia:function(a){a=a||p.M;var c=p.ga.d().ja;this.T&&770==this.T.src&&1==this.T.sb&&(a.globalCompositeOperation="lighter");for(var d=0;d<this.Oa.length;d++){var e=this.Oa[d];e.type===p.og.KD&&(a.fillStyle="rgba("+(0|255*e.color.i)+","+(0|255*e.color.h)+","+(0|255*e.color.g)+","+e.color.D+")",p.xf.XA(e.position,e.RB));e.type===p.og.MD&&
(a.strokeStyle="rgba("+(0|255*e.color.i)+","+(0|255*e.color.h)+","+(0|255*e.color.g)+","+e.color.D+")",a.lineWidth=2*e.RB*c,a.lineCap="round",p.xf.xh(e.em,e.Qk));e.type===p.og.LD&&(a.fillStyle="rgba("+(0|255*e.fillColor.i)+","+(0|255*e.fillColor.h)+","+(0|255*e.fillColor.g)+","+e.fillColor.D+")",p.xf.Od(e.FC,e.count,!1,!0),a.lineWidth=2*e.borderWidth*c,a.lineCap="round",a.strokeStyle="rgba("+(0|255*e.borderColor.i)+","+(0|255*e.borderColor.h)+","+(0|255*e.borderColor.g)+","+e.borderColor.D+")",p.xf.Od(e.FC,
e.count,!0,!1))}},HP:function(a,c,d){var e=new p.Zx(p.og.KD);e.position=a;e.RB=c;e.color=d;this.Oa.push(e)},LP:function(a,c,d,e){var f=new p.Zx(p.og.MD);f.em=a;f.Qk=c;f.RB=d;f.color=e;this.Oa.push(f)},Od:function(a,c,d,e){var f=new p.Zx(p.og.LD);f.FC=a;f.count=a.length;f.fillColor=c;f.borderWidth=d;f.borderColor=e;this.Oa.push(f)},clear:function(){this.Oa.length=0}});
p.QJ=p.I.extend({hn:0,Oa:null,xk:null,uF:null,tF:null,T:null,xa:!1,qr:function(){return this.T},Lk:function(a){this.T=a},ctor:function(){p.I.prototype.ctor.call(this);this.Oa=[];this.T=new p.Yk(p.he,p.ge)},q:function(){return p.I.prototype.q.call(this)?(this.ig(p.dh.d().Kh(p.SX)),this.Ty(512),this.uF=p.M.createBuffer(),this.xa=!0):!1},rN:function(){var a=p.M;p.Wd(p.Bt);a.bindBuffer(a.ARRAY_BUFFER,this.uF);this.xa&&(a.bufferData(a.ARRAY_BUFFER,this.xk,a.STREAM_DRAW),this.xa=!1);var c=p.Gb.BYTES_PER_ELEMENT;
a.vertexAttribPointer(p.ke,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(p.tp,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(p.vp,2,a.FLOAT,!1,c,12);a.drawArrays(a.TRIANGLES,0,3*this.Oa.length);p.ah()},Ty:function(a){if(this.Oa.length+a>this.hn){var c=p.oc.BYTES_PER_ELEMENT;this.hn+=Math.max(this.hn,a);if(null==this.Oa||0===this.Oa.length)this.Oa=[],this.xk=new ArrayBuffer(c*this.hn),this.tF=new Uint8Array(this.xk);else{a=[];for(var d=new ArrayBuffer(c*this.hn),e=0;e<this.Oa.length;e++)a[e]=new p.oc(this.Oa[e].D,
this.Oa[e].g,this.Oa[e].qa,d,e*c);this.tF=new Uint8Array(d);this.Oa=a;this.xk=d}}},Ia:function(){p.Aj(this.T.src,this.T.sb);this.sc.Me();this.sc.GI();this.rN()},HP:function(a,c,d){d={i:0|255*d.i,h:0|255*d.h,g:0|255*d.g,D:0|255*d.D};var e={n:{x:a.x-c,y:a.y-c},F:d,r:{Ca:-1,ca:-1}},f={n:{x:a.x+c,y:a.y+c},F:d,r:{Ca:1,ca:1}},g={n:{x:a.x+c,y:a.y-c},F:d,r:{Ca:1,ca:-1}};this.Oa.push(new p.oc(e,{n:{x:a.x-c,y:a.y+c},F:d,r:{Ca:-1,ca:1}},f,this.xk,this.Oa.length*p.oc.BYTES_PER_ELEMENT));this.Oa.push(new p.oc(e,
f,g,this.xk,this.Oa.length*p.oc.BYTES_PER_ELEMENT));this.xa=!0},LP:function(a,c,d,e){this.Ty(18);e={i:0|255*e.i,h:0|255*e.h,g:0|255*e.g,D:0|255*e.D};var f=p.Vh(a);c=p.Vh(c);a=p.DC(p.Ww(p.Vc(c,f)));var g=p.Ww(a),h=p.Gf(a,d);d=p.Gf(g,d);var k=p.lg(c,p.Vc(h,d)),l=p.Vc(c,h),m=p.lg(c,h),n=p.Vc(f,h),r=p.lg(f,h),q=p.Vc(f,p.Vc(h,d)),f=p.lg(f,p.lg(h,d)),v=p.oc.BYTES_PER_ELEMENT,z=this.xk;this.Oa.push(new p.oc({n:p.Vc(c,p.lg(h,d)),F:e,r:p.ob(p.Gi(p.lg(a,g)))},{n:k,F:e,r:p.ob(p.Vc(a,g))},{n:l,F:e,r:p.ob(p.Gi(a))},
z,this.Oa.length*v));this.Oa.push(new p.oc({n:m,F:e,r:p.ob(a)},{n:k,F:e,r:p.ob(p.Vc(a,g))},{n:l,F:e,r:p.ob(p.Gi(a))},z,this.Oa.length*v));this.Oa.push(new p.oc({n:m,F:e,r:p.ob(a)},{n:n,F:e,r:p.ob(p.Gi(a))},{n:l,F:e,r:p.ob(p.Gi(a))},z,this.Oa.length*v));this.Oa.push(new p.oc({n:m,F:e,r:p.ob(a)},{n:n,F:e,r:p.ob(p.Gi(a))},{n:r,F:e,r:p.ob(a)},z,this.Oa.length*v));this.Oa.push(new p.oc({n:q,F:e,r:p.ob(p.Vc(g,a))},{n:n,F:e,r:p.ob(p.Gi(a))},{n:r,F:e,r:p.ob(a)},z,this.Oa.length*v));this.Oa.push(new p.oc({n:q,
F:e,r:p.ob(p.Vc(g,a))},{n:f,F:e,r:p.ob(p.lg(a,g))},{n:r,F:e,r:p.ob(a)},z,this.Oa.length*v));this.xa=!0},Od:function(a,c,d,e){c={i:0|255*c.i,h:0|255*c.h,g:0|255*c.g,D:0|255*c.D};e={i:0|255*e.i,h:0|255*e.h,g:0|255*e.g,D:0|255*e.D};var f=[],g,h,k,l,m=a.length;for(g=0;g<m;g++){h=p.Vh(a[(g-1+m)%m]);k=p.Vh(a[g]);l=p.Vh(a[(g+1)%m]);var n=p.DC(p.Ww(p.Vc(k,h)));k=p.DC(p.Ww(p.Vc(l,k)));f[g]={offset:p.Gf(p.lg(n,k),1/(p.uV(n,k)+1)),qH:k}}n=0<d;this.Ty(3*(3*m-2));var r=p.oc.BYTES_PER_ELEMENT,q=this.xk,v=this.Oa,
z=!1==n?0.5:0;for(g=0;g<m-2;g++)h=p.Vc(p.Vh(a[0]),p.Gf(f[0].offset,z)),k=p.Vc(p.Vh(a[g+1]),p.Gf(f[g+1].offset,z)),l=p.Vc(p.Vh(a[g+2]),p.Gf(f[g+2].offset,z)),v.push(new p.oc({n:h,F:c,r:p.ob({x:0,y:0})},{n:k,F:c,r:p.ob({x:0,y:0})},{n:l,F:c,r:p.ob({x:0,y:0})},q,v.length*r));for(g=0;g<m;g++){z=(g+1)%m;h=p.Vh(a[g]);k=p.Vh(a[z]);l=f[g].qH;var B=f[g].offset,F=f[z].offset,z=n?p.Vc(h,p.Gf(B,d)):p.Vc(h,p.Gf(B,0.5)),K=n?p.Vc(k,p.Gf(F,d)):p.Vc(k,p.Gf(F,0.5));h=n?p.lg(h,p.Gf(B,d)):p.lg(h,p.Gf(B,0.5));k=n?p.lg(k,
p.Gf(F,d)):p.lg(k,p.Gf(F,0.5));n?(v.push(new p.oc({n:z,F:e,r:p.ob(p.Gi(l))},{n:K,F:e,r:p.ob(p.Gi(l))},{n:k,F:e,r:p.ob(l)},q,v.length*r)),v.push(new p.oc({n:z,F:e,r:p.ob(p.Gi(l))},{n:h,F:e,r:p.ob(l)},{n:k,F:e,r:p.ob(l)},q,v.length*r))):(v.push(new p.oc({n:z,F:c,r:p.ob({x:0,y:0})},{n:K,F:c,r:p.ob({x:0,y:0})},{n:k,F:c,r:p.ob(l)},q,v.length*r)),v.push(new p.oc({n:z,F:c,r:p.ob({x:0,y:0})},{n:h,F:c,r:p.ob(l)},{n:k,F:c,r:p.ob(l)},q,v.length*r)))}this.xa=!0},clear:function(){this.Oa.length=0;this.xa=!0}});
p.og=p.ta.wc?p.QJ:p.PJ;p.og.create=function(){var a=new p.og;return a&&a.q()?a:null};p.Zx=function(a){this.type=a};p.og.KD=0;p.og.MD=1;p.og.LD=2;p.hs=-1;p.uI=function(a,c){a.ig(c);var d=a.o;if(d)for(var e=0;e<d.length;e++)p.uI(d[e],c)};
p.Za=p.I.extend({ac:null,hl:0,hi:!1,wE:!1,ctor:function(){p.I.prototype.ctor.call(this);this.ac=null;this.hl=0;this.hi=!1},q:null,iz:function(a){this.ac=a;this.hl=1;this.hi=!1;p.Za.lz=!0;p.Za.lz&&(p.hs=p.M.getParameter(p.M.STENCIL_BITS),0>=p.hs&&p.log("Stencil buffer is not enabled."),p.Za.lz=!1);return!0},hz:function(a){this.ac=a;this.hl=1;this.hi=!1},fg:function(){p.I.prototype.fg.call(this);this.ac.fg()},Ih:function(){p.I.prototype.Ih.call(this);this.ac.Ih()},Ug:function(){this.ac.Ug();p.I.prototype.Ug.call(this)},
rd:function(){this.ac.rd();p.I.prototype.rd.call(this)},fa:null,Ul:function(a){var c=a||p.M;if(1>p.hs)p.I.prototype.fa.call(this,a);else if(this.ac&&this.ac.va)if(p.Za.pq=-1,p.Za.pq+1==p.hs)p.Za.BA=!0,p.Za.BA&&(p.log("Nesting more than "+p.hs+"stencils is not supported. Everything will be drawn without stencil for this node and its childs."),p.Za.BA=!1),p.I.prototype.fa.call(this,a);else{p.Za.pq++;var d=1<<p.Za.pq,e=d|d-1,f=c.isEnabled(c.STENCIL_TEST),g=c.getParameter(c.STENCIL_WRITEMASK),h=c.getParameter(c.STENCIL_FUNC),
k=c.getParameter(c.STENCIL_REF),l=c.getParameter(c.STENCIL_VALUE_MASK),m=c.getParameter(c.STENCIL_FAIL),n=c.getParameter(c.STENCIL_PASS_DEPTH_FAIL),r=c.getParameter(c.STENCIL_PASS_DEPTH_PASS);c.enable(c.STENCIL_TEST);c.stencilMask(d);var q=c.getParameter(c.DEPTH_WRITEMASK);c.depthMask(!1);c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.hi?c.REPLACE:c.ZERO,c.KEEP,c.KEEP);p.xf.YA(p.Mi(),p.pS(),p.yv(1,1,1,1));c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.hi?c.ZERO:c.REPLACE,c.KEEP,c.KEEP);if(1>this.hl){var d=
p.dh.d().Kh(p.UX),v=c.getUniformLocation(d.Qv(),p.oY);p.b4(d.Qv());d.FI(v,this.hl);p.uI(this.ac,d)}p.Go();this.transform();this.ac.fa();p.Fo();c.depthMask(q);c.stencilFunc(c.EQUAL,e,e);c.stencilOp(c.KEEP,c.KEEP,c.KEEP);p.I.prototype.fa.call(this,a);c.stencilFunc(h,k,l);c.stencilOp(m,n,r);c.stencilMask(g);f||c.disable(c.STENCIL_TEST);p.Za.pq--}else this.hi&&p.I.prototype.fa.call(this,a)},Tl:function(a){if(this.ac&&this.ac.va){if(this.sy()||this.ac instanceof p.A){a=a||p.M;var c=a.canvas,d=p.Za.qM();
d.width=c.width;d.height=c.height;d.getContext("2d").drawImage(c,0,0);a.save();this._super(a);a.globalCompositeOperation=this.hi?"destination-out":"destination-in";this.transform(a);this.ac.fa();a.restore();a.save();a.setTransform(1,0,0,1,0,0);a.globalCompositeOperation="destination-over";a.drawImage(d,0,0)}else{a=a||p.M;var d=this.o,e;a.save();this.transform(a);this.ac.fa(a);a.clip();this.sy(!0);var f=d.length;if(0<f){this.vd();for(c=0;c<f;c++)if(e=d[c],0>e.Pa)e.fa(a);else break;for(this.Ia(a);c<
f;c++)d[c].fa(a)}else this.Ia(a);this.sy(!1)}a.restore()}else this.hi&&p.I.prototype.fa.call(this,a)},s3:function(){return this.ac},lC:null,WN:function(a){this.ac=a},VN:function(a){this.ac=a;var c=p.ga.d().ja,d=p.ga.d().pa,e=p.M;!(a instanceof p.A)&&a instanceof p.og&&(a.Ia=function(){for(var f=0;f<a.Oa.length;f++){var g=a.Oa[f].FC,h=g[0];e.beginPath();e.moveTo(h.x*c,-h.y*d);for(var h=1,k=g.length;h<k;h++)e.lineTo(g[h].x*c,-g[h].y*d)}})},x0:function(){return this.hl},E7:function(a){this.hl=a},N4:function(){return this.hi},
s8:function(a){this.hi=a},sy:function(a){if(!0===a||!1===a)p.Za.prototype.wE=a;return p.Za.prototype.wE}});p.ta.wc?(p.Za.prototype.q=p.Za.prototype.iz,p.Za.prototype.fa=p.Za.prototype.Ul,p.Za.prototype.lC=p.Za.prototype.WN):(p.Za.prototype.q=p.Za.prototype.hz,p.Za.prototype.fa=p.Za.prototype.Tl,p.Za.prototype.lC=p.Za.prototype.VN);p.Za.lz=null;p.Za.BA=null;p.Za.pq=null;p.Za.lF=null;p.Za.qM=function(){return p.Za.lF||(p.Za.lF=document.createElement("canvas"))};
p.Za.create=function(a){var c=new p.Za;c.q(a);return c};p.QW=0;p.RW=1;p.SW=2;p.Sm=function(a){a-=1;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;return(a|a>>16)+1};
p.mb=p.I.extend({jn:null,kn:null,eu:0,Rp:0,Iu:0,sa:null,Tq:null,mO:null,qf:p.Oi,$a:null,St:0,Ui:null,yy:0,zy:0,Cp:!1,xy:null,ctor:null,fh:function(){p.I.prototype.ctor.call(this);this.Ui=p.yv(1,1,1,1);this.xy="rgba(255,255,255,1)";this.jn=document.createElement("canvas");this.kn=this.jn.getContext("2d");this.la(0,0)},gh:function(){p.I.prototype.ctor.call(this);this.Ui=p.yv(0,0,0,0)},wf:null,QL:function(){p.I.prototype.rd.call(this);this.jn=this.kn=null},RL:function(){p.I.prototype.rd.call(this);this.Tq=
null;var a=p.M;a.deleteFramebuffer(this.eu);this.Rp&&a.deleteRenderbuffer(this.Rp);this.mO=null},EQ:function(){return this.$a},ds:function(a){this.$a=a},vB:null,BM:function(a,c){var d=this.jn,e=p.gd();d.width=0|a*e;d.height=0|c*e;this.kn.translate(0,d.height);e=new p.Nb;e.bf(d);e.ae();this.$a=p.A.od(e);return!0},CM:function(a,c,d,e){d==p.op&&p.log("cc.RenderTexture._initWithWidthAndHeightForWebGL() : only RGB and RGBA formats are valid for a render texture;");var f=p.M,g=p.gd();a=0|a*g;c=0|c*g;this.Iu=
f.getParameter(f.FRAMEBUFFER_BINDING);var h;p.ie.d().Qq?(g=a,h=c):(g=p.Sm(a),h=p.Sm(c));for(var k=new Uint8Array(g*h*4),l=0;l<g*h*4;l++)k[l]=0;this.qf=d;this.sa=new p.Nb;if(!this.sa)return!1;l=this.sa;l.Vv(k,this.qf,g,h,p.size(a,c));d=f.getParameter(f.RENDERBUFFER_BINDING);if(p.ie.d().no("GL_QCOM")){this.Tq=new p.Nb;if(!this.Tq)return!1;this.Tq.Vv(k,this.qf,g,h,p.size(a,c))}this.eu=f.createFramebuffer();f.bindFramebuffer(f.FRAMEBUFFER,this.eu);f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,
f.TEXTURE_2D,l.vh,0);0!=e&&(this.Rp=f.createRenderbuffer(),f.bindRenderbuffer(f.RENDERBUFFER,this.Rp),f.renderbufferStorage(f.RENDERBUFFER,e,g,h),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,this.Rp));f.checkFramebufferStatus(f.FRAMEBUFFER)!==f.FRAMEBUFFER_COMPLETE&&p.log("Could not attach texture to the framebuffer");l.$H();a=this.$a=p.A.od(l);a.Dm(-1);a.Lk(f.ONE,f.ONE_MINUS_SRC_ALPHA);f.bindRenderbuffer(f.RENDERBUFFER,d);f.bindFramebuffer(f.FRAMEBUFFER,this.Iu);this.Cp=
!1;this.s(a);return!0},uj:null,GL:function(){p.M=this.kn;p.ga.d().SN()},HL:function(){p.im(p.at);p.Go();p.im(p.$s);p.Go();var a=p.N.d();a.Bw(a.qk);var c=this.sa.ia,d=p.N.d().LQ(),a=d.width/c.width,d=d.height/c.height,e=p.M;e.viewport(0,0,c.width,c.height);c=new p.Sg;p.LR(c,-1/a,1/a,-1/d,1/d,-1,1);p.aw(c);this.Iu=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,this.eu);p.ie.d().no("GL_QCOM")&&(e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.Tq.vh,0),
e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.sa.vh,0))},LA:function(a,c,d,e,f,g){var h=p.M;f=f||h.COLOR_BUFFER_BIT;g=g||h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT;this.py(a,c,d,e,f,g,h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT|h.STENCIL_BUFFER_BIT)},py:null,IL:function(a,c,d,e){this.uj();a=a||0;c=c||0;d=d||0;e=isNaN(e)?1:e;var f=this.kn,g=this.jn;f.save();f.fillStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+")";f.clearRect(0,
0,g.width,-g.height);f.fillRect(0,0,g.width,-g.height);f.restore()},JL:function(a,c,d,e,f,g,h){this.uj();var k=p.M,l=[0,0,0,0],m=0,n=0;h&k.COLOR_BUFFER_BIT&&(l=k.getParameter(k.COLOR_CLEAR_VALUE),k.clearColor(a,c,d,e));h&k.DEPTH_BUFFER_BIT&&(m=k.getParameter(k.DEPTH_CLEAR_VALUE),k.clearDepth(f));h&k.STENCIL_BUFFER_BIT&&(n=k.getParameter(k.STENCIL_CLEAR_VALUE),k.clearStencil(g));k.clear(h);h&k.COLOR_BUFFER_BIT&&k.clearColor(l[0],l[1],l[2],l[3]);h&k.DEPTH_BUFFER_BIT&&k.clearDepth(m);h&k.STENCIL_BUFFER_BIT&&
k.clearStencil(n)},end:null,jM:function(){p.M=p.RR;p.ga.d().uN()},kM:function(){var a=p.M,c=p.N.d();a.bindFramebuffer(a.FRAMEBUFFER,this.Iu);c.JI();p.im(p.at);p.Fo();p.im(p.$s);p.Fo()},clear:function(a,c,d,e){this.LA(a,c,d,e);this.end()},clearRect:null,VL:function(a,c,d,e){this.kn.clearRect(a,c,d,-e)},WL:function(){},clearDepth:null,TL:function(){p.log("clearDepth isn't supported on Cocos2d-Html5")},UL:function(a){this.uj();var c=p.M,d=c.getParameter(c.DEPTH_CLEAR_VALUE);c.clearDepth(a);c.clear(c.DEPTH_BUFFER_BIT);
c.clearDepth(d);this.end()},clearStencil:null,XL:function(){p.log("clearDepth isn't supported on Cocos2d-Html5")},YL:function(a){var c=p.M,d=c.getParameter(c.STENCIL_CLEAR_VALUE);c.clearStencil(a);c.clear(c.STENCIL_BUFFER_BIT);c.clearStencil(d)},fa:null,Tl:function(a){this.va&&(a=a||p.M,a.save(),this.Ia(a),this.transform(a),this.$a.fa(),a.restore(),this.pf=0)},Ul:function(a){if(this.va){p.Go();var c=this.ek;c&&c.Co()&&(c.KA(),this.Tw());this.transform(a);this.$a.fa();this.Ia(a);c&&c.Co()&&c.GA(this);
p.Fo();this.pf=0}},Ia:null,ol:function(a){a=a||p.M;if(this.Cp){this.uj();if(this.St){var c=this.jn;a.save();a.fillStyle=this.xy;a.clearRect(0,0,c.width,-c.height);a.fillRect(0,0,c.width,-c.height);a.restore()}this.vd();a=this.o;for(var c=a.length,d=this.$a,e=0;e<c;e++){var f=a[e];f!=d&&f.fa()}this.end()}},Qf:function(){var a=p.M;if(this.Cp){this.uj();var c=this.St;if(c){var d=[0,0,0,0],e=0,f=0;c&a.COLOR_BUFFER_BIT&&(d=a.getParameter(a.COLOR_CLEAR_VALUE),a.clearColor(this.Ui.i,this.Ui.h,this.Ui.g,
this.Ui.D));c&a.DEPTH_BUFFER_BIT&&(e=a.getParameter(a.DEPTH_CLEAR_VALUE),a.clearDepth(this.yy));c&a.STENCIL_BUFFER_BIT&&(f=a.getParameter(a.STENCIL_CLEAR_VALUE),a.clearStencil(this.zy));a.clear(c);c&a.COLOR_BUFFER_BIT&&a.clearColor(d[0],d[1],d[2],d[3]);c&a.DEPTH_BUFFER_BIT&&a.clearDepth(e);c&a.STENCIL_BUFFER_BIT&&a.clearStencil(f)}this.vd();a=this.o;for(c=0;c<a.length;c++)d=a[c],d!=this.$a&&d.fa();this.end()}},rH:null,TM:function(){p.log("saveToFile isn't supported on Cocos2d-Html5");return null},
UM:function(){p.log("saveToFile isn't supported on Cocos2d-Html5");p.us(this.qf==p.Oi,"only RGBA8888 can be saved as image");if(!this.sa)return null;var a=this.sa.ia,c=a.width,a=a.height,d=new p.bK,e=p.M,f=new Uint8Array(c*a*4);if(!f)return d;var g=new Uint8Array(c*a*4);if(!g)return null;this.uj();e.pixelStorei(e.PACK_ALIGNMENT,1);e.readPixels(0,0,c,a,e.RGBA,e.UNSIGNED_BYTE,g);this.end();for(e=0;e<a;++e)this.RM(f,e*c*4,g,(a-e-1)*c*4,4*c);d.p4(f,c*a*4,p.KW,c,a,8);return d},RM:function(a,c,d,e,f){for(var g=
0;g<f;g++)a[c+g]=d[e+g]},x7:function(){p.log("saveToFile isn't supported on Cocos2d-Html5")},x5:function(){p.log("listenToBackground isn't supported on Cocos2d-Html5")},y5:function(){p.log("listenToForeground isn't supported on Cocos2d-Html5")},V0:function(){return this.St},N7:function(a){this.St=a},T0:function(){return this.Ui},fI:null,CN:function(a){var c=this.Ui;c.i=a.i;c.h=a.h;c.g=a.g;c.D=a.D;this.xy="rgba("+(0|255*a.i)+","+(0|255*a.h)+","+(0|255*a.g)+","+a.D+")"},DN:function(a){var c=this.Ui;
c.i=a.i;c.h=a.h;c.g=a.g;c.D=a.D},U0:function(){return this.yy},M7:function(a){this.yy=a},W0:function(){return this.zy},O7:function(a){this.zy=a},z4:function(){return this.Cp},G7:function(a){this.Cp=a}});
p.ta.wc?(b=p.mb.prototype,b.ctor=p.mb.prototype.gh,b.wf=p.mb.prototype.RL,b.vB=p.mb.prototype.CM,b.uj=p.mb.prototype.HL,b.py=p.mb.prototype.JL,b.end=p.mb.prototype.kM,b.clearRect=p.mb.prototype.WL,b.clearDepth=p.mb.prototype.UL,b.clearStencil=p.mb.prototype.YL,b.fa=p.mb.prototype.Ul,b.Ia=p.mb.prototype.Qf,b.rH=p.mb.prototype.UM,b.fI=p.mb.prototype.DN):(b=p.mb.prototype,b.ctor=p.mb.prototype.fh,b.wf=p.mb.prototype.QL,b.vB=p.mb.prototype.BM,b.uj=p.mb.prototype.GL,b.py=p.mb.prototype.IL,b.end=p.mb.prototype.jM,
b.clearRect=p.mb.prototype.VL,b.clearDepth=p.mb.prototype.TL,b.clearStencil=p.mb.prototype.XL,b.fa=p.mb.prototype.Tl,b.Ia=p.mb.prototype.ol,b.rH=p.mb.prototype.TM,b.fI=p.mb.prototype.CN);p.mb.create=function(a,c,d,e){d=d||p.Oi;e=e||0;var f=new p.mb;return f&&f.vB(a,c,d,e)?f:null};p.Mm=-1;
p.fd=p.ra.extend({zl:null,K:null,Sc:p.Mm,ctor:function(){this.K=this.zl=null;this.Sc=p.Mm},description:function(){return"\x3ccc.Action | Tag \x3d "+this.Sc+"\x3e"},copy:function(){return p.B(this)},B:function(){var a=new p.fd;a.zl=null;a.K=null;a.Sc=this.Sc;return a},Eh:function(){return!0},O:function(a){this.K=this.zl=a},stop:function(){this.K=null},step:function(){p.log("[Action step]. override me")},update:function(){p.log("[Action update]. override me")},HQ:function(){return this.K},s9:function(a){this.K=a},
A2:function(){return this.zl},N8:function(a){this.zl=a},GQ:function(){return this.Sc},CI:function(a){this.Sc=a},WH:function(){},UB:function(){}});p.fd.create=function(){return new p.fd};p.Li=p.fd.extend({ma:0,ctor:function(){p.fd.prototype.ctor.call(this);this.ma=0},Ze:function(){return this.ma},a8:function(a){this.ma=a},reverse:function(){p.log("cocos2d: FiniteTimeAction#reverse: Implement me");return null},B:function(){return new p.Li}});
p.rt=p.fd.extend({Il:0,pb:null,ctor:function(){p.fd.prototype.ctor.call(this);this.Il=0;this.pb=null},l3:function(){return this.Il},l9:function(a){this.Il=a},da:function(a,c){if(!a)throw"cc.Speed.initWithAction(): action must be non nil";this.pb=a;this.Il=c;return!0},B:function(){var a=new p.rt;a.da(this.pb.B(),this.Il);return a},O:function(a){p.fd.prototype.O.call(this,a);this.pb.O(a)},stop:function(){this.pb.stop();p.fd.prototype.stop.call(this)},step:function(a){this.pb.step(a*this.Il)},Eh:function(){return this.pb.Eh()},
reverse:function(){return p.rt.create(this.pb.reverse(),this.Il)},pI:function(a){this.pb!=a&&(this.pb=a)},dB:function(){return this.pb}});p.rt.create=function(a,c){var d=new p.rt;return d&&d.da(a,c)?d:null};
p.qx=p.fd.extend({Bn:null,fn:!1,Nt:!1,ku:null,fq:null,jm:0,Am:0,Hm:0,am:0,DA:null,ctor:function(){p.fd.prototype.ctor.call(this);this.Bn=null;this.Nt=this.fn=!1;this.fq=this.ku=null;this.am=this.Hm=this.Am=this.jm=0;this.DA=p.Lc()},B:function(){var a=new p.qx,c=this.DA,c=new p.Kf(c.x,c.y,c.width,c.height);a.dg(this.Bn,c);return a},B4:function(){return this.fn},I7:function(a){this.fn=a},dg:function(a,c){if(!a)throw"cc.Follow.initWithAction(): followedNode must be non nil";c=c||p.Lc();this.Bn=a;this.DA=
c;this.fn=!p.Bq(c);this.Nt=!1;var d=p.N.d().Cb;this.fq=p.a(d.width,d.height);this.ku=p.Ci(this.fq,0.5);this.fn&&(this.jm=-(c.x+c.width-this.fq.x),this.Am=-c.x,this.Hm=-c.y,this.am=-(c.y+c.height-this.fq.y),this.Am<this.jm&&(this.Am=this.jm=(this.jm+this.Am)/2),this.Hm<this.am&&(this.Hm=this.am=(this.Hm+this.am)/2),this.Hm==this.am&&this.jm==this.Am&&(this.Nt=!0));return!0},step:function(){var a=this.Bn.p.w,c=this.Bn.p.G,a=this.ku.x-a,c=this.ku.y-c;this.fn?this.Nt||this.K.C(p.ir(a,this.jm,this.Am),
p.ir(c,this.am,this.Hm)):this.K.C(a,c)},Eh:function(){return!this.Bn.se},stop:function(){this.K=null;p.fd.prototype.stop.call(this)}});p.qx.create=function(a,c){c=c||new p.Lc;var d=new p.qx;return null!=c&&d&&d.dg(a,c)||d&&d.dg(a)?d:null};p.J=p.Li.extend({Sb:0,eq:!1,ctor:function(){p.Li.prototype.ctor.call(this);this.Sb=0;this.eq=!1},l1:function(){return this.Sb},H:function(a){this.ma=0===a?p.Us:a;this.Sb=0;return this.eq=!0},Eh:function(){return this.Sb>=this.ma},B:function(){var a=new p.J;a.H(this.ma);return a},step:function(a){this.eq?(this.eq=!1,this.Sb=0):this.Sb+=a;a=this.Sb/(1.192092896E-7<this.ma?this.ma:1.192092896E-7);a=1>a?a:1;this.update(0<a?a:0)},O:function(a){p.fd.prototype.O.call(this,a);this.Sb=0;this.eq=!0},reverse:function(){p.log("cc.IntervalAction: reverse not implemented.");
return null},F7:function(){p.log("cc.ActionInterval.setAmplitudeRate(): it should be overridden in subclass.")},y0:function(){p.log("cc.ActionInterval.getAmplitudeRate(): it should be overridden in subclass.")}});p.J.create=function(a){var c=new p.J;c.H(a);return c};
p.Ni=p.J.extend({Wh:null,bA:null,Ln:0,ctor:function(){p.J.prototype.ctor.call(this);this.Wh=[];this.bA=null;this.Ln=0},Dr:function(a,c){if(!a||!c)throw"cc.Sequence.initWithTwoActions(): arguments must all be non nil";this.H(a.Ze()+c.Ze());this.Wh[0]=a;this.Wh[1]=c;return!0},B:function(){var a=new p.Ni;a.Dr(this.Wh[0].B(),this.Wh[1].B());return a},O:function(a){p.J.prototype.O.call(this,a);this.bA=this.Wh[0].Ze()/this.ma;this.Ln=-1},stop:function(){-1!==this.Ln&&this.Wh[this.Ln].stop();p.fd.prototype.stop.call(this)},
update:function(a){var c=0,d=this.bA,e=this.Wh,f=this.Ln;a<d?(a=0!==d?a/d:1,0===c&&1===f&&(e[1].update(0),e[1].stop())):(c=1,a=1===d?1:(a-d)/(1-d),-1===f&&(e[0].O(this.K),e[0].update(1),e[0].stop()),f||(e[0].update(1),e[0].stop()));f===c&&e[c].Eh()||(f!==c&&e[c].O(this.K),e[c].update(a),this.Ln=c)},reverse:function(){return p.Ni.el(this.Wh[1].reverse(),this.Wh[0].reverse())},copy:function(){return this.B()}});
p.Ni.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&p.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)c[e]&&(d=p.Ni.el(d,c[e]));return d};p.Ni.el=function(a,c){var d=new p.Ni;d.Dr(a,c);return d};
p.ht=p.J.extend({tf:0,oj:0,Fu:0,YD:!1,pb:null,ctor:function(){p.J.prototype.ctor.call(this);this.Fu=this.oj=this.tf=0;this.YD=!1;this.pb=null},da:function(a,c){return this.H(a.Ze()*c)?(this.tf=c,this.pb=a,a instanceof p.Oh&&(this.tf-=1),this.oj=0,!0):!1},B:function(){var a=new p.ht;a.da(this.pb.B(),this.tf);return a},O:function(a){this.oj=0;this.Fu=this.pb.Ze()/this.ma;p.J.prototype.O.call(this,a);this.pb.O(a)},stop:function(){this.pb.stop();p.fd.prototype.stop.call(this)},update:function(a){var c=
this.pb,d=this.ma,e=this.tf,f=this.Fu;if(a>=f){for(;a>f&&this.oj<e;)c.update(1),this.oj++,c.stop(),c.O(this.K),this.Fu=f+=c.Ze()/d;1<=a&&this.oj<e&&this.oj++;this.YD&&(this.oj==e?(c.update(1),c.stop()):c.update(a-(f-c.Ze()/d)))}else c.update(a*e%1)},Eh:function(){return this.oj==this.tf},reverse:function(){return p.ht.create(this.pb.reverse(),this.tf)},pI:function(a){this.pb!=a&&(this.pb=a)},dB:function(){return this.pb}});p.ht.create=function(a,c){var d=new p.ht;d.da(a,c);return d};
p.it=p.J.extend({pb:null,ctor:function(){p.J.prototype.ctor.call(this);this.pb=null},da:function(a){if(!a)throw"cc.RepeatForever.initWithAction(): action must be non null";this.pb=a;return!0},B:function(){var a=new p.it;a.da(this.pb.B());return a},O:function(a){p.J.prototype.O.call(this,a);this.pb.O(a)},step:function(a){var c=this.pb;c.step(a);c.Eh()&&(c.O(this.K),c.step(c.Sb-c.Ze()))},Eh:function(){return!1},reverse:function(){return p.it.create(this.pb.reverse())},pI:function(a){this.pb!=a&&(this.pb=
a)},dB:function(){return this.pb}});p.it.create=function(a){var c=new p.it;return c&&c.da(a)?c:null};
p.np=p.J.extend({jj:null,sj:null,ctor:function(){p.J.prototype.ctor.call(this);this.sj=this.jj=null},Dr:function(a,c){if(!a||!c)throw"cc.Spawn.initWithTwoActions(): arguments must all be non null";var d=!1,e=a.Ze(),f=c.Ze();this.H(Math.max(e,f))&&(this.jj=a,this.sj=c,e>f?this.sj=p.Ni.el(c,p.Om.create(e-f)):e<f&&(this.jj=p.Ni.el(a,p.Om.create(f-e))),d=!0);return d},B:function(){var a=new p.np;a.Dr(this.jj.B(),this.sj.B());return a},O:function(a){p.J.prototype.O.call(this,a);this.jj.O(a);this.sj.O(a)},
stop:function(){this.jj.stop();this.sj.stop();p.fd.prototype.stop.call(this)},update:function(a){this.jj&&this.jj.update(a);this.sj&&this.sj.update(a)},reverse:function(){return p.np.el(this.jj.reverse(),this.sj.reverse())}});p.np.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&p.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)null!=c[e]&&(d=this.el(d,c[e]));return d};
p.np.el=function(a,c){var d=new p.np;d.Dr(a,c);return d};
p.Hx=p.J.extend({Up:0,Jl:0,Ky:0,cu:0,tk:0,Ly:0,ctor:function(){p.J.prototype.ctor.call(this);this.Ly=this.tk=this.cu=this.Ky=this.Jl=this.Up=0},H:function(a,c,d){return p.J.prototype.H.call(this,a)?(this.Up=c||0,this.cu=d||this.Up,!0):!1},B:function(){var a=new p.Hx;a.H(this.ma,this.Up,this.cu);return a},O:function(a){p.J.prototype.O.call(this,a);var c=a.Wf%360,d=this.Up-c;180<d&&(d-=360);-180>d&&(d+=360);this.Jl=c;this.Ky=d;this.tk=a.nh%360;a=this.cu-this.tk;180<a&&(a-=360);-180>a&&(a+=360);this.Ly=
a},reverse:function(){p.log("cc.RotateTo.reverse(): it should be overridden in subclass.")},update:function(a){this.K&&(this.K.Ew(this.Jl+this.Ky*a),this.K.Fw(this.tk+this.Ly*a))}});p.Hx.create=function(a,c,d){var e=new p.Hx;e.H(a,c,d);return e};
p.kt=p.J.extend({Mf:0,Jl:0,Bp:0,tk:0,ctor:function(){p.J.prototype.ctor.call(this);this.tk=this.Bp=this.Jl=this.Mf=0},H:function(a,c,d){return p.J.prototype.H.call(this,a)?(this.Mf=c||0,this.Bp=d||this.Mf,!0):!1},B:function(){var a=new p.kt;a.H(this.ma,this.Mf,this.Bp);return a},O:function(a){p.J.prototype.O.call(this,a);this.Jl=a.Wf;this.tk=a.nh},update:function(a){this.K&&(this.K.Ew(this.Jl+this.Mf*a),this.K.Fw(this.tk+this.Bp*a))},reverse:function(){return p.kt.create(this.ma,-this.Mf,-this.Bp)}});
p.kt.create=function(a,c,d){var e=new p.kt;e.H(a,c,d);return e};
p.Oj=p.J.extend({oi:null,yc:null,xc:null,ctor:function(){p.J.prototype.ctor.call(this);this.oi=p.a(0,0);this.yc=p.a(0,0);this.xc=p.a(0,0)},H:function(a,c){return p.J.prototype.H.call(this,a)?(this.oi.x=c.x,this.oi.y=c.y,!0):!1},B:function(){var a=new p.Oj;a.H(this.ma,this.oi);return a},O:function(a){p.J.prototype.O.call(this,a);var c=a.p.w;a=a.p.G;this.xc.x=c;this.xc.y=a;this.yc.x=c;this.yc.y=a},update:function(a){if(this.K){var c=this.oi.x*a;a*=this.oi.y;var d=this.yc;if(p.ys){var e=this.K.p.G,f=
this.xc;d.x=d.x+this.K.p.w-f.x;d.y=d.y+e-f.y;c+=d.x;a+=d.y;this.K.C(c,a);f.x=c;f.y=a}else this.K.C(d.x+c,d.y+a)}},reverse:function(){return p.Oj.create(this.ma,p.a(-this.oi.x,-this.oi.y))}});p.Oj.create=function(a,c){var d=new p.Oj;d.H(a,c);return d};
p.ct=p.Oj.extend({An:null,ctor:function(){p.Oj.prototype.ctor.call(this);this.An=p.a(0,0)},H:function(a,c){return p.Oj.prototype.H.call(this,a,c)?(this.An.x=c.x,this.An.y=c.y,!0):!1},B:function(){var a=new p.ct;a.H(this.ma,this.An);return a},O:function(a){p.Oj.prototype.O.call(this,a);this.oi.x=this.An.x-a.p.w;this.oi.y=this.An.y-a.p.G}});p.ct.create=function(a,c){var d=new p.ct;d.H(a,c);return d};
p.Xm=p.J.extend({Md:0,Nd:0,Mq:0,Nq:0,Zp:0,$p:0,le:0,me:0,ctor:function(){p.J.prototype.ctor.call(this);this.me=this.le=this.$p=this.Zp=this.Nq=this.Mq=this.Nd=this.Md=0},H:function(a,c,d){var e=!1;p.J.prototype.H.call(this,a)&&(this.Zp=c,this.$p=d,e=!0);return e},B:function(){var a=new p.Xm;a.H(this.ma,this.Zp,this.$p);return a},O:function(a){p.J.prototype.O.call(this,a);this.Mq=a.Md%180;this.le=this.Zp-this.Mq;180<this.le&&(this.le-=360);-180>this.le&&(this.le+=360);this.Nq=a.Nd%360;this.me=this.$p-
this.Nq;180<this.me&&(this.me-=360);-180>this.me&&(this.me+=360)},update:function(a){this.K.Hw(this.Mq+this.le*a);this.K.Iw(this.Nq+this.me*a)}});p.Xm.create=function(a,c,d){var e=new p.Xm;e&&e.H(a,c,d);return e};
p.pt=p.Xm.extend({H:function(a,c,d){var e=!1;p.Xm.prototype.H.call(this,a,c,d)&&(this.Md=c,this.Nd=d,e=!0);return e},B:function(){var a=new p.pt;a.H(this.ma,this.Md,this.Nd);return a},O:function(a){p.Xm.prototype.O.call(this,a);this.le=this.Md;this.me=this.Nd;this.Zp=this.Mq+this.le;this.$p=this.Nq+this.me},reverse:function(){return p.pt.create(this.ma,-this.Md,-this.Nd)}});p.pt.create=function(a,c,d){var e=new p.pt;e&&e.H(a,c,d);return e};
p.Qm=p.J.extend({yc:null,Pf:null,ha:0,In:0,xc:null,ctor:function(){p.J.prototype.ctor.call(this);this.yc=p.a(0,0);this.xc=p.a(0,0);this.Pf=p.a(0,0);this.In=this.ha=0},H:function(a,c,d,e){return p.J.prototype.H.call(this,a)?(this.Pf.x=c.x,this.Pf.y=c.y,this.ha=d,this.In=e,!0):!1},B:function(){var a=new p.Qm;a.H(this.ma,this.Pf,this.ha,this.In);return a},O:function(a){p.J.prototype.O.call(this,a);var c=a.p.w;a=a.p.G;this.xc.x=c;this.xc.y=a;this.yc.x=c;this.yc.y=a},update:function(a){if(this.K){var c=
a*this.In%1,c=4*this.ha*c*(1-c),c=c+this.Pf.y*a;a*=this.Pf.x;var d=this.yc;if(p.ys){var e=this.K.p.G,f=this.xc;d.x=d.x+this.K.p.w-f.x;d.y=d.y+e-f.y;a+=d.x;c+=d.y;this.K.C(a,c);f.x=a;f.y=c}else this.K.C(d.x+a,d.y+c)}},reverse:function(){return p.Qm.create(this.ma,p.a(-this.Pf.x,-this.Pf.y),this.ha,this.In)}});p.Qm.create=function(a,c,d,e){var f=new p.Qm;f.H(a,c,d,e);return f};
p.tx=p.Qm.extend({O:function(a){p.Qm.prototype.O.call(this,a);this.Pf.x-=this.yc.x;this.Pf.y-=this.yc.y},B:function(){var a=new p.tx;a.H(this.ma,this.Pf,this.ha,this.In);return a}});p.tx.create=function(a,c,d,e){var f=new p.tx;f.H(a,c,d,e);return f};p.VF=function(a,c,d,e){return 0*Math.pow(1-e,3)+3*e*Math.pow(1-e,2)*a+3*Math.pow(e,2)*(1-e)*c+Math.pow(e,3)*d};
p.Xk=p.J.extend({ml:null,yc:null,xc:null,ctor:function(){p.J.prototype.ctor.call(this);this.ml=[];this.yc=p.a(0,0);this.xc=p.a(0,0)},H:function(a,c){return p.J.prototype.H.call(this,a)?(this.ml=c,!0):!1},B:function(){for(var a=new p.Xk,c=[],d=0;d<this.ml.length;d++){var e=this.ml[d];c.push(p.a(e.x,e.y))}a.H(this.ma,c);return a},O:function(a){p.J.prototype.O.call(this,a);var c=a.p.w;a=a.p.G;this.xc.x=c;this.xc.y=a;this.yc.x=c;this.yc.y=a},update:function(a){if(this.K){var c=this.ml,d=p.VF(c[0].x,c[1].x,
c[2].x,a);a=p.VF(c[0].y,c[1].y,c[2].y,a);c=this.yc;if(p.ys){var e=this.K.p.G,f=this.xc;c.x=c.x+this.K.p.w-f.x;c.y=c.y+e-f.y;d+=c.x;a+=c.y;this.K.C(d,a);f.x=d;f.y=a}else this.K.C(c.x+d,c.y+a)}},reverse:function(){var a=this.ml,a=[p.Cf(a[1],p.LB(a[2])),p.Cf(a[0],p.LB(a[2])),p.LB(a[2])];return p.Xk.create(this.ma,a)}});p.Xk.create=function(a,c){var d=new p.Xk;d.H(a,c);return d};
p.cx=p.Xk.extend({jv:null,ctor:function(){p.Xk.prototype.ctor.call(this);this.jv=[]},H:function(a,c){return p.J.prototype.H.call(this,a)?(this.jv=c,!0):!1},B:function(){var a=new p.cx;a.H(this.ma,this.jv);return a},O:function(a){p.Xk.prototype.O.call(this,a);a=this.yc;var c=this.jv,d=this.ml;d[0]=p.dd(c[0],a);d[1]=p.dd(c[1],a);d[2]=p.dd(c[2],a)}});p.cx.create=function(a,c){var d=new p.cx;d.H(a,c);return d};
p.Wm=p.J.extend({ja:1,pa:1,Xn:1,Yn:1,pl:0,ql:0,le:0,me:0,ctor:function(){p.J.prototype.ctor.call(this);this.Yn=this.Xn=this.pa=this.ja=1;this.me=this.le=this.ql=this.pl=0},H:function(a,c,d){return p.J.prototype.H.call(this,a)?(this.pl=c,this.ql=null!=d?d:c,!0):!1},B:function(){var a=new p.Wm;a.H(this.ma,this.pl,this.ql);return a},O:function(a){p.J.prototype.O.call(this,a);this.Xn=a.ja;this.Yn=a.pa;this.le=this.pl-this.Xn;this.me=this.ql-this.Yn},update:function(a){this.K&&this.K.Ij(this.Xn+this.le*
a,this.Yn+this.me*a)}});p.Wm.create=function(a,c,d){var e=new p.Wm;e.H(a,c,d);return e};p.nt=p.Wm.extend({O:function(a){p.Wm.prototype.O.call(this,a);this.le=this.Xn*this.pl-this.Xn;this.me=this.Yn*this.ql-this.Yn},reverse:function(){return p.nt.create(this.ma,1/this.pl,1/this.ql)},B:function(){var a=new p.nt;a.H(this.ma,this.pl,this.ql);return a}});p.nt.create=function(a,c,d){var e=new p.nt;e.H(a,c,d);return e};
p.vs=p.J.extend({tf:0,uz:!1,ctor:function(){p.J.prototype.ctor.call(this);this.tf=0;this.uz=!1},H:function(a,c){return p.J.prototype.H.call(this,a)?(this.tf=c,!0):!1},B:function(){var a=new p.vs;a.H(this.ma,this.tf);return a},update:function(a){if(this.K&&!this.Eh()){var c=1/this.tf;this.K.u(a%c>c/2)}},O:function(a){p.J.prototype.O.call(this,a);this.uz=a.va},stop:function(){this.K.u(this.uz);p.J.prototype.stop.call(this)},reverse:function(){return p.vs.create(this.ma,this.tf)}});
p.vs.create=function(a,c){var d=new p.vs;d.H(a,c);return d};p.Vs=p.J.extend({update:function(a){this.K.Ua&&this.K.V(255*a)},reverse:function(){return p.Ws.create(this.ma)},B:function(){var a=new p.Vs;a.H(this.ma);return a}});p.Vs.create=function(a){var c=new p.Vs;c.H(a);return c};p.Ws=p.J.extend({update:function(a){this.K.Ua&&this.K.V(255*(1-a))},reverse:function(){return p.Vs.create(this.ma)},B:function(){var a=new p.Ws;a.H(this.ma);return a}});p.Ws.create=function(a){var c=new p.Ws;c.H(a);return c};
p.px=p.J.extend({kv:null,hu:null,ctor:function(){p.J.prototype.ctor.call(this);this.hu=this.kv=0},H:function(a,c){return p.J.prototype.H.call(this,a)?(this.kv=c,!0):!1},B:function(){var a=new p.px;a.H(this.ma,this.kv);return a},update:function(a){this.K.Ua&&this.K.V(this.hu+(this.kv-this.hu)*a)},O:function(a){p.J.prototype.O.call(this,a);this.K.Ua&&(this.hu=a.vi())}});p.px.create=function(a,c){var d=new p.px;d.H(a,c);return d};
p.Wx=p.J.extend({We:null,Id:null,ctor:function(){p.J.prototype.ctor.call(this);this.We=p.k(0,0,0);this.Id=p.k(0,0,0)},H:function(a,c,d,e){return p.J.prototype.H.call(this,a)?(this.We=p.k(c,d,e),!0):!1},B:function(){var a=new p.Wx,c=this.We;a.H(this.ma,c.i,c.h,c.g);return a},O:function(a){p.J.prototype.O.call(this,a);this.K.Ua&&(this.Id=this.K.bd())},update:function(a){var c=this.Id,d=this.We;this.K.Ua&&this.K.l(p.k(c.i+(d.i-c.i)*a,c.h+(d.h-c.h)*a,c.g+(d.g-c.g)*a))}});
p.Wx.create=function(a,c,d,e){var f=new p.Wx;f.H(a,c,d,e);return f};
p.wt=p.J.extend({Qp:0,Pp:0,Op:0,Zy:0,Yy:0,Xy:0,ctor:function(){p.J.prototype.ctor.call(this);this.Xy=this.Yy=this.Zy=this.Op=this.Pp=this.Qp=0},H:function(a,c,d,e){return p.J.prototype.H.call(this,a)?(this.Qp=c,this.Pp=d,this.Op=e,!0):!1},B:function(){var a=new p.wt;a.H(this.ma,this.Qp,this.Pp,this.Op);return a},O:function(a){p.J.prototype.O.call(this,a);a.Ua&&(a=a.bd(),this.Zy=a.i,this.Yy=a.h,this.Xy=a.g)},update:function(a){this.K.Ua&&this.K.l(p.k(this.Zy+this.Qp*a,this.Yy+this.Pp*a,this.Xy+this.Op*
a))},reverse:function(){return p.wt.create(this.ma,-this.Qp,-this.Pp,-this.Op)}});p.wt.create=function(a,c,d,e){var f=new p.wt;f.H(a,c,d,e);return f};p.Om=p.J.extend({update:function(){},reverse:function(){return p.Om.create(this.ma)},B:function(){var a=new p.Om;a.H(this.ma);return a}});p.Om.create=function(a){var c=new p.Om;c.H(a);return c};
p.jt=p.J.extend({kj:null,ctor:function(){p.J.prototype.ctor.call(this);this.kj=null},da:function(a){if(!a)throw"cc.ReverseTime.initWithAction(): action must be non null";if(a==this.kj)throw"cc.ReverseTime.initWithAction(): the action was already passed in.";return p.J.prototype.H.call(this,a.Ze())?(this.kj=a,!0):!1},B:function(){var a=new p.jt;a.da(this.kj.B());return a},O:function(a){p.J.prototype.O.call(this,a);this.kj.O(a)},update:function(a){this.kj&&this.kj.update(1-a)},reverse:function(){return this.kj.B()},
stop:function(){this.kj.stop();p.fd.prototype.stop.call(this)}});p.jt.create=function(a){var c=new p.jt;c.da(a);return c};
p.ss=p.J.extend({Ri:null,On:0,Ju:null,aq:0,cA:null,ctor:function(){p.J.prototype.ctor.call(this);this.Ri=null;this.On=0;this.Ju=null;this.aq=0;this.cA=null},xG:function(){return this.Ri},KT:function(a){this.Ri=a},TG:function(a){if(!a)throw"cc.Animate.initWithAnimation(): animation must be non-NULL";var c=a.Ze();if(this.H(c*a.hj)){this.On=0;this.KT(a);this.Ju=null;this.aq=0;var d=[],e=0,f=c/a.Pl;a=a.Hd;p.ts(a,p.Ii);for(var g=0;g<a.length;g++){var h=e*f/c,e=e+a[g].Fd;d.push(h)}this.cA=d;return!0}return!1},
B:function(){var a=new p.ss;a.TG(this.Ri.B());return a},O:function(a){p.J.prototype.O.call(this,a);this.Ri.Cl&&(this.Ju=a.EP());this.aq=this.On=0},update:function(a){1>a&&(a*=this.Ri.hj,(0|a)>this.aq&&(this.On=0,this.aq++),a%=1);for(var c=this.Ri.Hd,d=c.length,e=this.cA,f=this.On;f<d;f++)if(e[f]<=a)this.K.Ro(c[f].Pg()),this.On=f+1;else break},reverse:function(){var a=this.Ri,c=a.Hd,d=[];p.ts(c,p.Ii);if(0<c.length)for(var e=c.length-1;0<=e;e--){var f=c[e];if(!f)break;d.push(f.B())}c=p.Hi.ZF(d,a.Fd,
a.hj);c.Cw(a.Cl);return p.ss.create(c)},stop:function(){this.Ri.Cl&&this.K&&this.K.Ro(this.Ju);p.fd.prototype.stop.call(this)}});p.ss.create=function(a){var c=new p.ss;c.TG(a);return c};
p.Vx=p.J.extend({lf:null,rl:null,ctor:function(){p.J.prototype.ctor.call(this);this.rl=this.lf=null},dg:function(a,c){return this.H(c.Ze())?(this.rl=a,this.lf=c,!0):!1},B:function(){var a=new p.Vx;a.dg(this.rl,this.lf.B());return a},O:function(a){p.J.prototype.O.call(this,a);this.lf.O(this.rl)},stop:function(){this.lf.stop()},update:function(a){this.lf.update(a)},v1:function(){return this.rl},f8:function(a){this.rl!=a&&(this.rl=a)}});p.Vx.create=function(a,c){var d=new p.Vx;d.dg(a,c);return d};p.Oh=p.Li.extend({Eh:function(){return!0},step:function(){this.update(1)},update:function(){},reverse:function(){return this.B()},B:function(){return new p.Oh}});p.ot=p.Oh.extend({update:function(){this.K.u(!0)},reverse:function(){return p.Zs.create()},B:function(){return new p.ot}});p.ot.create=function(){return new p.ot};p.Zs=p.Oh.extend({update:function(){this.K.u(!1)},reverse:function(){return p.ot.create()},B:function(){return new p.Zs}});p.Zs.create=function(){return new p.Zs};
p.xt=p.Oh.extend({update:function(){this.K.u(!this.K.va)},reverse:function(){return new p.xt},B:function(){return new p.xt}});p.xt.create=function(){return new p.xt};p.gt=p.Oh.extend({nq:!0,ctor:function(){p.Li.prototype.ctor.call(this);this.nq=!0},update:function(){this.K.P(this.nq)},q:function(a){this.nq=a;return!0},reverse:function(){return new p.gt(this.nq)},B:function(){return new p.gt(this.nq)}});p.gt.create=function(a){null==a&&(a=!0);var c=new p.gt;c&&c.q(a);return c};
p.Xs=p.Oh.extend({Yb:!1,ctor:function(){p.Li.prototype.ctor.call(this);this.Yb=!1},VG:function(a){this.Yb=a;return!0},update:function(){this.K.bU(this.Yb)},reverse:function(){return p.Xs.create(!this.Yb)},B:function(){var a=new p.Xs;a.VG(this.Yb);return a}});p.Xs.create=function(a){var c=new p.Xs;return c.VG(a)?c:null};
p.Ys=p.Oh.extend({Zb:!1,ctor:function(){p.Li.prototype.ctor.call(this);this.Zb=!1},WG:function(a){this.Zb=a;return!0},update:function(){this.K.cU(this.Zb)},reverse:function(){return p.Ys.create(!this.Zb)},B:function(){var a=new p.Ys;a.WG(this.Zb);return a}});p.Ys.create=function(a){var c=new p.Ys;return c.WG(a)?c:null};
p.Cx=p.Oh.extend({p:null,ctor:function(){p.Li.prototype.ctor.call(this);this.p=p.a(0,0)},YG:function(a){this.p.x=a.x;this.p.y=a.y;return!0},update:function(){this.K.C(this.p)},B:function(){var a=new p.Cx;a.YG(this.p);return a}});p.Cx.create=function(a){var c=new p.Cx;c.YG(a);return c};
p.fp=p.Oh.extend({Eg:null,ll:null,dk:null,Mp:null,ctor:function(){p.Li.prototype.ctor.call(this);this.Mp=this.dk=this.ll=this.Eg=null},dg:function(a,c,d){this.Mp=d;this.ll=a;this.Eg=c;return!0},pB:function(a){this.dk=a;return!0},execute:function(){null!=this.ll?this.ll.call(this.Eg,this.K,this.Mp):this.dk&&this.dk.call(null,this.K)},update:function(){this.execute()},u3:function(){return this.Eg},t9:function(a){a!=this.Eg&&(this.Eg&&(this.Eg=null),this.Eg=a)},copy:function(){var a=new p.fp;this.Eg?
a.dg(this.ll,this.Eg,this.Mp):this.dk&&a.pB(this.dk);return a},B:function(){var a=new p.fp;this.Eg?a.dg(this.ll,this.Eg,this.Mp):this.dk&&a.pB(this.dk);return a}});p.fp.create=function(a,c,d){var e=new p.fp;if(1==arguments.length){if(e&&e.pB(a))return e}else if(e&&e.dg(a,c,d))return e.ll=a,e;return null};p.Xw=p.J.extend({uy:0,vy:0,wy:0,oE:0,pE:0,qE:0,wF:0,xF:0,yF:0,ctor:function(){p.J.prototype.ctor.call(this);this.yF=this.xF=this.wF=this.qE=this.pE=this.oE=this.wy=this.vy=this.uy=0},O:function(a){p.J.prototype.O.call(this,a);a=a.bB();var c=a.zG();this.uy=c.x;this.vy=c.y;this.wy=c.z;c=a.AG();this.oE=c.x;this.pE=c.y;this.qE=c.z;a=a.JQ();this.wF=a.x;this.xF=a.y;this.yF=a.z},B:function(){return new p.Xw},reverse:function(){return p.jt.create(this)}});
p.Ax=p.Xw.extend({pi:0,au:0,bn:0,Iy:0,Mf:0,Hy:0,Lz:0,Jz:0,Kz:0,Iz:0,ctor:function(){p.Xw.prototype.ctor.call(this);this.Iz=this.Kz=this.Jz=this.Lz=this.Hy=this.Mf=this.Iy=this.bn=this.au=this.pi=0},H:function(a,c,d,e,f,g,h){return p.J.prototype.H.call(this,a)?(this.pi=c,this.au=d,this.bn=e,this.Iy=f,this.Mf=g,this.Hy=h,this.Jz=p.Ki(f),this.Iz=p.Ki(h),!0):!1},eV:function(){var a=this.K.bB(),c=a.AG(),d=a.zG(),a=c.x-d.x,e=c.y-d.y,c=c.z-d.z,d=Math.sqrt(Math.pow(a,2)+Math.pow(e,2)+Math.pow(c,2)),f=Math.sqrt(Math.pow(a,
2)+Math.pow(e,2));0===f&&(f=p.Us);0===d&&(d=p.Us);return{WR:d/p.gp.zr(),AV:Math.acos(c/d),azimuth:0>a?Math.PI-Math.asin(e/f):Math.asin(e/f)}},O:function(a){p.J.prototype.O.call(this,a);a=this.eV();isNaN(this.pi)&&(this.pi=a.WR);isNaN(this.bn)&&(this.bn=p.Ex(a.AV));isNaN(this.Mf)&&(this.Mf=p.Ex(a.azimuth));this.Lz=p.Ki(this.bn);this.Kz=p.Ki(this.Mf)},B:function(){var a=new p.Ax;a.H(this.ma,this.pi,this.au,this.bn,this.Iy,this.Mf,this.Hy);return a},update:function(a){var c=(this.pi+this.au*a)*p.gp.zr(),
d=this.Lz+this.Jz*a,e=this.Kz+this.Iz*a;a=Math.sin(d)*Math.cos(e)*c+this.uy;e=Math.sin(d)*Math.sin(e)*c+this.vy;c=Math.cos(d)*c+this.wy;this.K.bB().kI(a,e,c)}});p.Ax.create=function(a,c,d,e,f,g,h){var k=new p.Ax;return k.H(a,c,d,e,f,g,h)?k:null};p.Kc=p.J.extend({R:null,ctor:function(){p.J.prototype.ctor.call(this);this.R=null},da:function(a){if(!a)throw"cc.ActionEase.initWithAction(): action must be non nil";return this.H(a.Ze())?(this.R=a,!0):!1},B:function(){var a=new p.Kc;a.da(this.R.B());return a},O:function(a){p.J.prototype.O.call(this,a);this.R.O(this.K)},stop:function(){this.R.stop();p.J.prototype.stop.call(this)},update:function(a){this.R.update(a)},reverse:function(){return p.Kc.create(this.R.reverse())},dB:function(){return this.R}});
p.Kc.create=function(a){var c=new p.Kc;c&&c.da(a);return c};p.al=p.Kc.extend({qe:0,ctor:function(){p.Kc.prototype.ctor.call(this);this.qe=0},Z8:function(a){this.qe=a},S2:function(){return this.qe},da:function(a,c){return p.Kc.prototype.da.call(this,a)?(this.qe=c,!0):!1},B:function(){var a=new p.al;a.da(this.R.B(),this.qe);return a},reverse:function(){return p.al.create(this.R.reverse(),1/this.qe)}});p.al.create=function(a,c){var d=new p.al;d&&d.da(a,c);return d};
p.Ns=p.al.extend({update:function(a){this.R.update(Math.pow(a,this.qe))},reverse:function(){return p.Ns.create(this.R.reverse(),1/this.qe)},B:function(){var a=new p.Ns;a.da(this.R.B(),this.qe);return a}});p.Ns.create=function(a,c){var d=new p.Ns;d&&d.da(a,c);return d};p.Ps=p.al.extend({update:function(a){this.R.update(Math.pow(a,1/this.qe))},reverse:function(){return p.Ps.create(this.R.reverse(),1/this.qe)},B:function(){var a=new p.Ps;a.da(this.R.B(),this.qe);return a}});
p.Ps.create=function(a,c){var d=new p.Ps;d&&d.da(a,c);return d};p.Os=p.al.extend({update:function(a){a*=2;1>a?this.R.update(0.5*Math.pow(a,this.qe)):this.R.update(1-0.5*Math.pow(2-a,this.qe))},B:function(){var a=new p.Os;a.da(this.R.B(),this.qe);return a},reverse:function(){return p.Os.create(this.R.reverse(),this.qe)}});p.Os.create=function(a,c){var d=new p.Os;d&&d.da(a,c);return d};
p.Ks=p.Kc.extend({update:function(a){this.R.update(0===a?0:Math.pow(2,10*(a-1)))},reverse:function(){return p.Ms.create(this.R.reverse())},B:function(){var a=new p.Ks;a.da(this.R.B());return a}});p.Ks.create=function(a){var c=new p.Ks;c&&c.da(a);return c};p.Ms=p.Kc.extend({update:function(a){this.R.update(1==a?1:-Math.pow(2,-10*a)+1)},reverse:function(){return p.Ks.create(this.R.reverse())},B:function(){var a=new p.Ms;a.da(this.R.B());return a}});
p.Ms.create=function(a){var c=new p.Ms;c&&c.da(a);return c};p.Ls=p.Kc.extend({update:function(a){1!=a&&0!==a&&(a*=2,a=1>a?0.5*Math.pow(2,10*(a-1)):0.5*(-Math.pow(2,-10*(a-1))+2));this.R.update(a)},reverse:function(){return p.Ls.create(this.R.reverse())},B:function(){var a=new p.Ls;a.da(this.R.B());return a}});p.Ls.create=function(a){var c=new p.Ls;c&&c.da(a);return c};
p.Qs=p.Kc.extend({update:function(a){a=0===a||1==a?a:-1*Math.cos(a*Math.PI/2)+1;this.R.update(a)},reverse:function(){return p.Ss.create(this.R.reverse())},B:function(){var a=new p.Qs;a.da(this.R.B());return a}});p.Qs.create=function(a){var c=new p.Qs;c&&c.da(a);return c};p.Ss=p.Kc.extend({update:function(a){a=0===a||1==a?a:Math.sin(a*Math.PI/2);this.R.update(a)},reverse:function(){return p.Qs.create(this.R.reverse())},B:function(){var a=new p.Ss;a.da(this.R.B());return a}});
p.Ss.create=function(a){var c=new p.Ss;c&&c.da(a);return c};p.Rs=p.Kc.extend({update:function(a){a=0===a||1==a?a:-0.5*(Math.cos(Math.PI*a)-1);this.R.update(a)},B:function(){var a=new p.Rs;a.da(this.R.B());return a},reverse:function(){return p.Rs.create(this.R.reverse())}});p.Rs.create=function(a){var c=new p.Rs;c&&c.da(a);return c};
p.Pm=p.Kc.extend({Jd:null,ctor:function(){p.Kc.prototype.ctor.call(this);this.Jd=0.3},C2:function(){return this.Jd},O8:function(a){this.Jd=a},da:function(a,c){p.Kc.prototype.da.call(this,a);this.Jd=null==c?0.3:c;return!0},reverse:function(){p.log("cc.EaseElastic.reverse(): it should be overridden in subclass.")},B:function(){var a=new p.Pm;a.da(this.R.B(),this.Jd);return a}});p.Pm.create=function(a,c){var d=new p.Pm;return d&&d.da(a,c)?d:null};
p.Hs=p.Pm.extend({update:function(a){var c=0;0===a||1===a?c=a:(c=this.Jd/4,a-=1,c=-Math.pow(2,10*a)*Math.sin((a-c)*Math.PI*2/this.Jd));this.R.update(c)},reverse:function(){return p.Js.create(this.R.reverse(),this.Jd)},B:function(){var a=new p.Hs;a.da(this.R.B(),this.Jd);return a}});p.Hs.create=function(a,c){var d=new p.Hs;return d&&d.da(a,c)?d:null};
p.Js=p.Pm.extend({update:function(a){var c=0,c=0===a||1==a?a:Math.pow(2,-10*a)*Math.sin((a-this.Jd/4)*Math.PI*2/this.Jd)+1;this.R.update(c)},reverse:function(){return p.Hs.create(this.R.reverse(),this.Jd)},B:function(){var a=new p.Js;a.da(this.R.B(),this.Jd);return a}});p.Js.create=function(a,c){var d=new p.Js;d&&d.da(a,c);return d};
p.Is=p.Pm.extend({update:function(a){var c=0,c=this.Jd;if(0===a||1==a)c=a;else{c||(c=this.Jd=0.3*1.5);var d=c/4;a=2*a-1;c=0>a?-0.5*Math.pow(2,10*a)*Math.sin((a-d)*Math.PI*2/c):Math.pow(2,-10*a)*Math.sin((a-d)*Math.PI*2/c)*0.5+1}this.R.update(c)},reverse:function(){return p.Is.create(this.R.reverse(),this.Jd)},B:function(){var a=new p.Is;a.da(this.R.B(),this.Jd);return a}});p.Is.create=function(a,c){var d=new p.Is;d&&d.da(a,c);return d};
p.$k=p.Kc.extend({wv:function(a){if(a<1/2.75)return 7.5625*a*a;if(a<2/2.75)return a-=1.5/2.75,7.5625*a*a+0.75;if(a<2.5/2.75)return a-=2.25/2.75,7.5625*a*a+0.9375;a-=2.625/2.75;return 7.5625*a*a+0.984375},B:function(){var a=new p.$k;a.da(this.R.B());return a},reverse:function(){return p.$k.create(this.R.reverse())}});p.$k.create=function(a){var c=new p.$k;c&&c.da(a);return c};
p.Es=p.$k.extend({update:function(a){this.R.update(1-this.wv(1-a))},reverse:function(){return p.Gs.create(this.R.reverse())},B:function(){var a=new p.Es;a.da(this.R.B());return a}});p.Es.create=function(a){var c=new p.Es;c&&c.da(a);return c};p.Gs=p.$k.extend({update:function(a){this.R.update(this.wv(a))},reverse:function(){return p.Es.create(this.R.reverse())},B:function(){var a=new p.Gs;a.da(this.R.B());return a}});p.Gs.create=function(a){var c=new p.Gs;c&&c.da(a);return c};
p.Fs=p.$k.extend({update:function(a){var c=0,c=0.5>a?0.5*(1-this.wv(1-2*a)):0.5*this.wv(2*a-1)+0.5;this.R.update(c)},B:function(){var a=new p.Fs;a.da(this.R.B());return a},reverse:function(){return p.Fs.create(this.R.reverse())}});p.Fs.create=function(a){var c=new p.Fs;c&&c.da(a);return c};p.Bs=p.Kc.extend({update:function(a){this.R.update(0===a||1==a?a:a*a*(2.70158*a-1.70158))},reverse:function(){return p.Ds.create(this.R.reverse())},B:function(){var a=new p.Bs;a.da(this.R.B());return a}});
p.Bs.create=function(a){var c=new p.Bs;c&&c.da(a);return c};p.Ds=p.Kc.extend({update:function(a){a-=1;this.R.update(a*a*(2.70158*a+1.70158)+1)},reverse:function(){return p.Bs.create(this.R.reverse())},B:function(){var a=new p.Ds;a.da(this.R.B());return a}});p.Ds.create=function(a){var c=new p.Ds;c&&c.da(a);return c};
p.Cs=p.Kc.extend({update:function(a){a*=2;1>a?this.R.update(a*a*(3.5949095*a-2.5949095)/2):(a-=2,this.R.update(a*a*(3.5949095*a+2.5949095)/2+1))},B:function(){var a=new p.Cs;a.da(this.R.B());return a},reverse:function(){return p.Cs.create(this.R.reverse())}});p.Cs.create=function(a){var c=new p.Cs;c&&c.da(a);return c};p.fx=function(a,c,d,e,f,g){var h=g*g,k=h*g,l=(1-f)/2;f=l*(-k+2*h-g);var m=l*(-k+h)+(2*k-3*h+1);g=l*(k-2*h+g)+(-2*k+3*h);h=l*(k-h);return p.a(a.x*f+c.x*m+d.x*g+e.x*h,a.y*f+c.y*m+d.y*g+e.y*h)};p.XH=function(a){for(var c=[],d=a.length-1;0<=d;d--)c.push(p.a(a[d].x,a[d].y));return c};p.Av=function(a){for(var c=[],d=0;d<a.length;d++)c.push(p.a(a[d].x,a[d].y));return c};p.Ng=function(a,c){var d=Math.min(a.length-1,Math.max(c,0));return a[d]};
p.w7=function(a){for(var c=a.length,d=0|c/2,e=0;e<d;++e){var f=a[e];a[e]=a[c-e-1];a[c-e-1]=f}};
p.Qh=p.J.extend({jh:null,Jy:0,Ll:0,xc:null,fy:null,ctor:function(){p.J.prototype.ctor.call(this);this.jh=[];this.Ll=this.Jy=0;this.fy=this.xc=null},H:function(a,c,d){if(!c||0==c.length)throw"Invalid configuration. It must at least have one control point";return p.J.prototype.H.call(this,a)?(this.BU(c),this.Ll=d,!0):!1},B:function(){var a=new p.Qh;a.H(this.ma,p.Av(this.jh),this.Ll);return a},O:function(a){p.J.prototype.O.call(this,a);this.Jy=1/(this.jh.length-1);a=this.K.p;this.xc=p.a(a.x,a.y);this.fy=
p.a(0,0)},update:function(a){var c,d=this.jh;if(1==a)c=d.length-1,a=1;else{var e=this.Jy;c=0|a/e;a=(a-e*c)/e}c=p.fx(p.Ng(d,c-1),p.Ng(d,c-0),p.Ng(d,c+1),p.Ng(d,c+2),this.Ll,a);p.ys&&(d=this.K.p.w-this.xc.x,a=this.K.p.G-this.xc.y,0!=d||0!=a)&&(e=this.fy,d=e.x+d,a=e.y+a,e.x=d,e.y=a,c.x+=d,c.y+=a);this.lJ(c)},reverse:function(){var a=p.XH(this.jh);return p.Qh.create(this.ma,a,this.Ll)},lJ:function(a){this.K.C(a);this.xc=a},H2:function(){return this.jh},BU:function(a){this.jh=a}});
p.Qh.create=function(a,c,d){var e=new p.Qh;return e.H(a,c,d)?e:null};
p.hp=p.Qh.extend({yc:null,ctor:function(){p.Qh.prototype.ctor.call(this);this.yc=p.a(0,0)},O:function(a){p.Qh.prototype.O.call(this,a);a=a.p;this.yc.x=a.x;this.yc.y=a.y},reverse:function(){for(var a=this.jh.slice(),c,d=a[0],e=1;e<a.length;++e)c=a[e],a[e]=p.dd(c,d),d=c;a=p.XH(a);d=a[a.length-1];a.pop();d.x=-d.x;d.y=-d.y;a.unshift(d);for(e=1;e<a.length;++e)c=a[e],c.x=-c.x,c.y=-c.y,c.x+=d.x,c.y+=d.y,d=a[e]=c;return p.hp.create(this.ma,a,this.Ll)},lJ:function(a){var c=this.yc,d=a.x+c.x;a=a.y+c.y;this.K.C(d,
a);this.xc.x=d;this.xc.y=a},B:function(){var a=new p.hp;a.H(this.ma,p.Av(this.jh),this.Ll);return a}});p.hp.create=function(a,c,d){var e=new p.hp;return e.H(a,c,d)?e:null};p.hx=p.Qh.extend({H:function(a,c){return p.Qh.prototype.H.call(this,a,c,0.5)},B:function(){var a=new p.hx;a.H(this.ma,p.Av(this.jh));return a}});p.hx.create=function(a,c){var d=new p.hx;return d.H(a,c)?d:null};
p.gx=p.hp.extend({H:function(a,c){return p.Qh.prototype.H.call(this,a,c,0.5)},B:function(){var a=new p.gx;a.H(this.ma,p.Av(this.jh));return a}});p.gx.create=function(a,c){var d=new p.gx;return d.H(a,c)?d:null};p.MV=p.ra.extend({BC:function(){}});
p.Nm=p.J.extend({key:"",em:0,Qk:0,TA:0,ctor:function(){p.J.prototype.ctor.call(this);this.key="";this.TA=this.Qk=this.em=0},H:function(a,c,d,e){return p.J.prototype.H.call(this,a)?(this.key=c,this.Qk=e,this.em=d,!0):!1},O:function(a){if(!a||!a.BC)throw"cc.ActionTween.startWithTarget(): target must be non-null, and target must implement updateTweenAction function";p.J.prototype.O.call(this,a);this.TA=this.Qk-this.em},update:function(a){this.K.BC(this.Qk-this.TA*(1-a),this.key)},reverse:function(){return p.Nm.create(this.duration,
this.key,this.Qk,this.em)},B:function(){var a=new p.Nm;a.H(this.ma,this.key,this.em,this.Qk);return a}});p.Nm.create=function(a,c,d,e){var f=new p.Nm;return f.H(a,c,d,e)?f:null};p.Pj=0;p.Bx=1;p.wD=4;p.GK=75;
p.nc=p.lb.extend({Xe:null,mi:0,$a:null,ih:null,kl:null,nd:!1,c2:function(){return p.a(this.ih.x,this.ih)},sI:function(a){this.ih=p.yH(a)},E0:function(){return p.a(this.kl.x,this.kl.y)},cI:function(a){this.kl=p.yH(a)},Vd:function(){return this.Xe},Pv:function(){return this.mi},EQ:function(){return this.$a},bs:function(a){this.mi!=a&&(this.mi=p.ir(a,0,100),this.sA())},ff:function(){},Gk:function(){return!1},Z4:function(){return this.nd},qy:function(a){if(a<p.wD){var c=p.GK;return this.nd?p.a(c>>7-(a<<
1)&1,c>>7-((a<<1)+1)&1):p.a(c>>(a<<1)+1&1,c>>(a<<1)&1)}return p.Mi()},Oc:null,jA:270,Sy:270,pi:0,Cy:!1,ny:null,ad:0,tc:null,uf:null,GF:null,fr:!1,ctor:null,fh:function(){p.lb.prototype.ctor.call(this);this.Xe=p.Pj;this.mi=0;this.ih=p.a(0,0);this.kl=p.a(0,0);this.nd=!1;this.$a=null;this.Oc=p.Mi();this.Sy=this.jA=270;this.pi=0;this.Cy=!1;this.ny=p.Lc()},gh:function(){p.lb.prototype.ctor.call(this);this.Xe=p.Pj;this.mi=0;this.ih=p.a(0,0);this.kl=p.a(0,0);this.nd=!1;this.$a=null;this.GF=p.M.createBuffer();
this.ad=0;this.uf=this.tc=null;this.fr=!1},l:function(a){this.$a.l(a);this.$c()},V:function(a){this.$a.V(a);this.$c()},bd:function(){return this.$a.bd()},vi:function(){return this.$a.vi()},xI:null,QN:function(a){this.nd!==a&&(this.nd=a)},RN:function(a){this.nd!==a&&(this.nd=a,this.uf=this.tc=null,this.ad=0)},ds:null,TN:function(a){this.$a!=a&&(this.$a=a,this.ea(this.$a.f()))},UN:function(a){a&&this.$a!=a&&(this.$a=a,this.ea(a.f()),this.tc&&(this.uf=this.tc=null,this.ad=0))},Fi:null,XN:function(a){a!==
this.Xe&&(this.Xe=a)},YN:function(a){a!==this.Xe&&(this.tc&&(this.uf=this.tc=null,this.ad=0),this.Xe=a)},wI:null,ON:function(a){this.nd!==a&&(this.nd=a)},PN:function(a){this.nd!==a&&(this.nd=a,this.uf=this.tc=null,this.ad=0)},we:function(a){var c=this.$a;if(!c)return{Ca:0,ca:0};var d=c.vb,e=p.a(d.ya.r.Ca,d.ya.r.ca),d=p.a(d.Ba.r.Ca,d.Ba.r.ca);c.Ec&&(c=a.x,a.x=a.y,a.y=c);return{Ca:e.x*(1-a.x)+d.x*a.x,ca:e.y*(1-a.y)+d.y*a.y}},ye:function(a){if(!this.$a)return{x:0,y:0};var c=this.$a.vb,d=p.a(c.ya.n.x,
c.ya.n.y),c=p.a(c.Ba.n.x,c.Ba.n.y);return{x:d.x*(1-a.x)+c.x*a.x,y:d.y*(1-a.y)+c.y*a.y}},sB:null,xM:function(a){this.bs(0);this.la(0.5,0.5);this.Xe=p.Pj;this.nd=!1;this.sI(p.a(0.5,0.5));this.cI(p.a(1,1));this.ds(a);return!0},yM:function(a){this.bs(0);this.uf=this.tc=null;this.ad=0;this.la(0.5,0.5);this.Xe=p.Pj;this.nd=!1;this.sI(p.a(0.5,0.5));this.cI(p.a(1,1));this.ds(a);this.ig(p.dh.d().Kh(p.Ix));return!0},Ia:null,ol:function(a){a=a||p.M;var c=this.$a;c.Fn&&(a.globalCompositeOperation="lighter");
var d=p.ga.d().ja,e=p.ga.d().pa;a.globalAlpha=c.Kb/255;var f=c.na,g=c.ia,h=c.Tb,k=c.Py,l=0|h.x,m=-h.y-f.height,n=c.bo;k.width=f.width*d;k.height=f.height*e;a.save();c.Yb&&(l=-h.x-f.width,a.scale(-1,1));c.Zb&&(m=h.y,a.scale(1,-1));l*=d;m*=e;this.Xe==p.Bx?(f=this.ny,a.beginPath(),a.rect(f.x*d,f.y*e,f.width*d,f.height*e),a.clip(),a.closePath()):this.Xe==p.Pj&&(f=this.Oc.x*d,h=this.Oc.y*e,a.beginPath(),a.arc(f,h,this.pi*e,Math.PI/180*this.jA,Math.PI/180*this.Sy,this.Cy),a.lineTo(f,h),a.clip(),a.closePath());
c.sa&&n.os?(d=c.sa.rc,this.Ut?a.drawImage(d,0,0,n.width,n.height,l,m,k.width,k.height):a.drawImage(d,n.x,n.y,n.width,n.height,l,m,k.width,k.height)):0!==g.width&&(k=this.bd(),a.fillStyle="rgba("+k.i+","+k.h+","+k.g+",1)",a.fillRect(l,m,g.width*d,g.height*e));a.restore();p.ah()},Qf:function(a){a=a||p.M;if(this.tc&&this.$a){p.yx(this);var c=this.$a.T;p.Aj(c.src,c.sb);p.Wd(p.Bt);this.$a.Q()?p.bg(this.$a.Q()):p.bg(null);a.bindBuffer(a.ARRAY_BUFFER,this.GF);this.fr&&(a.bufferData(a.ARRAY_BUFFER,this.uf,
a.DYNAMIC_DRAW),this.fr=!1);c=p.Gb.BYTES_PER_ELEMENT;a.vertexAttribPointer(p.ke,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(p.tp,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(p.vp,2,a.FLOAT,!1,c,12);this.Xe===p.Pj?a.drawArrays(a.TRIANGLE_FAN,0,this.ad):this.Xe==p.Bx&&(this.nd?(a.drawArrays(a.TRIANGLE_STRIP,0,this.ad/2),a.drawArrays(a.TRIANGLE_STRIP,4,this.ad/2),p.zh++):a.drawArrays(a.TRIANGLE_STRIP,0,this.ad));p.zh++}},zO:function(){if(this.$a){var a,c=this.ih;a=this.mi/100;var d=2*p.PI*(this.nd?a:
1-a),e=p.a(c.x,1),f=p.rS(e,c,d),d=0;if(0==a)f=e,d=0;else if(1==a)f=e,d=4;else{var g=p.VJ,h=p.wD;for(a=0;a<=h;++a){var k=(a+(h-1))%h,l=this.qy(a%h),k=this.qy(k);0==a?k=p.AH(l,k,1-c.x):4==a&&(l=p.AH(l,k,1-c.x));var m=p.a(0,0);p.JB(l,k,c,f,m)&&(0!=a&&4!=a||0<=m.x&&1>=m.x)&&0<=m.y&&m.y<g&&(g=m.y,d=a)}f=p.Cf(c,p.Ci(p.dd(f,c),g))}g=!0;this.ad!=d+3&&(g=!1,this.uf=this.tc=null,this.ad=0);if(!this.tc){h=this.ad=d+3;l=p.Gb.BYTES_PER_ELEMENT;this.uf=new ArrayBuffer(h*l);k=[];for(a=0;a<h;a++)k[a]=new p.Gb(null,
null,null,this.uf,a*l);this.tc=k;if(!this.tc){p.log("cc.ProgressTimer._updateRadial() : Not enough memory");return}}this.$c();h=this.tc;if(!g)for(h[0].r=this.we(c),h[0].n=this.ye(c),h[1].r=this.we(e),h[1].n=this.ye(e),a=0;a<d;a++)c=this.qy(a),h[a+2].r=this.we(c),h[a+2].n=this.ye(c);h[this.ad-1].r=this.we(f);h[this.ad-1].n=this.ye(f)}},oO:function(){if(this.$a){var a,c=this.mi/100,d=this.kl,d=p.Ci(p.a(1-d.x+c*d.x,1-d.y+c*d.y),0.5),c=p.dd(this.ih,d),d=p.Cf(this.ih,d);0>c.x&&(d.x+=-c.x,c.x=0);1<d.x&&
(c.x-=d.x-1,d.x=1);0>c.y&&(d.y+=-c.y,c.y=0);1<d.y&&(c.y-=d.y-1,d.y=1);if(this.nd){if(!this.tc){this.ad=8;var e=p.Gb.BYTES_PER_ELEMENT;this.uf=new ArrayBuffer(8*e);var f=[];for(a=0;8>a;a++)f[a]=new p.Gb(null,null,null,this.uf,a*e);f[0].r=this.we(p.a(0,1));f[0].n=this.ye(p.a(0,1));f[1].r=this.we(p.a(0,0));f[1].n=this.ye(p.a(0,0));f[6].r=this.we(p.a(1,1));f[6].n=this.ye(p.a(1,1));f[7].r=this.we(p.a(1,0));f[7].n=this.ye(p.a(1,0));this.tc=f}a=this.tc;a[2].r=this.we(p.a(c.x,d.y));a[2].n=this.ye(p.a(c.x,
d.y));a[3].r=this.we(p.a(c.x,c.y));a[3].n=this.ye(p.a(c.x,c.y));a[4].r=this.we(p.a(d.x,d.y));a[4].n=this.ye(p.a(d.x,d.y));a[5].r=this.we(p.a(d.x,c.y));a[5].n=this.ye(p.a(d.x,c.y))}else{if(!this.tc)for(this.ad=4,e=p.Gb.BYTES_PER_ELEMENT,this.uf=new ArrayBuffer(4*e),this.tc=[],a=0;4>a;a++)this.tc[a]=new p.Gb(null,null,null,this.uf,a*e);a=this.tc;a[0].r=this.we(p.a(c.x,d.y));a[0].n=this.ye(p.a(c.x,d.y));a[1].r=this.we(p.a(c.x,c.y));a[1].n=this.ye(p.a(c.x,c.y));a[2].r=this.we(p.a(d.x,d.y));a[2].n=this.ye(p.a(d.x,
d.y));a[3].r=this.we(p.a(d.x,c.y));a[3].n=this.ye(p.a(d.x,c.y))}this.$c()}},$c:function(){if(this.$a&&this.tc){for(var a=this.$a.vb.Fa.F,c=this.tc,d=0,e=this.ad;d<e;++d)c[d].F=a;this.fr=!0}},sA:null,vO:function(){var a=this.$a,c=a.f(),d=this.ih;if(this.Xe==p.Pj){this.pi=Math.round(Math.sqrt(c.width*c.width+c.height*c.height));var e,f=!1,g=this.Oc;g.x=c.width*d.x;g.y=-c.height*d.y;this.nd?(e=270,d=270-3.6*this.mi):(d=-90,e=-90+3.6*this.mi);a.Yb&&(g.x-=2*c.width*this.ih.x,d=-d-180,e=-e-180,f=!f);a.Zb&&
(g.y+=2*c.height*this.ih.y,f=!f,d=-d,e=-e);this.jA=d;this.Sy=e;this.Cy=f}else{e=this.kl;g=this.mi/100;f=this.ny;e=p.size(c.width*(1-e.x),c.height*(1-e.y));var g=p.size((c.width-e.width)*g,(c.height-e.height)*g),g=p.size(e.width+g.width,e.height+g.height),h=p.a(c.width*d.x,c.height*d.y),k=h.x-g.width/2;0.5<d.x&&g.width/2>=c.width-h.x&&(k=c.width-g.width);e=h.y-g.height/2;0.5<d.y&&g.height/2>=c.height-h.y&&(e=c.height-g.height);f.x=0;c=1;a.Yb&&(f.x-=g.width,c=-1);0<k&&(f.x+=k*c);f.y=0;c=1;a.Zb&&(f.y+=
g.height,c=-1);0<e&&(f.y-=e*c);f.width=g.width;f.height=-g.height}},wO:function(){var a=this.Xe;a===p.Pj?this.zO():a===p.Bx&&this.oO();this.fr=!0}});
p.ta.wc?(b=p.nc.prototype,b.ctor=p.nc.prototype.gh,b.xI=p.nc.prototype.RN,b.ds=p.nc.prototype.UN,b.Fi=p.nc.prototype.YN,b.wI=p.nc.prototype.PN,b.sB=p.nc.prototype.yM,b.Ia=p.nc.prototype.Qf,b.sA=p.nc.prototype.wO):(b=p.nc.prototype,b.ctor=p.nc.prototype.fh,b.xI=p.nc.prototype.QN,b.ds=p.nc.prototype.TN,b.Fi=p.nc.prototype.XN,b.wI=p.nc.prototype.ON,b.sB=p.nc.prototype.xM,b.Ia=p.nc.prototype.ol,b.sA=p.nc.prototype.vO);p.nc.create=function(a){var c=new p.nc;return c.sB(a)?c:null};p.Dx=p.J.extend({We:0,Id:0,ctor:function(){p.J.prototype.ctor.call(this);this.Id=this.We=0},H:function(a,c){return p.J.prototype.H.call(this,a)?(this.We=c,!0):!1},B:function(){var a=new p.Dx;a.H(this.ma,this.We);return a},reverse:function(){p.log("cc.ProgressTo.reverse(): reverse hasn't been supported.");return null},O:function(a){p.J.prototype.O.call(this,a);this.Id=a.Pv();100==this.Id&&(this.Id=0)},update:function(a){this.K instanceof p.nc&&this.K.bs(this.Id+(this.We-this.Id)*a)}});
p.Dx.create=function(a,c){var d=new p.Dx;d.H(a,c);return d};p.et=p.J.extend({We:0,Id:0,ctor:function(){p.J.prototype.ctor.call(this);this.Id=this.We=0},H:function(a,c,d){return p.J.prototype.H.call(this,a)?(this.We=d,this.Id=c,!0):!1},B:function(){var a=new p.et;a.H(this.ma,this.Id,this.We);return a},reverse:function(){return p.et.create(this.ma,this.We,this.Id)},O:function(a){p.J.prototype.O.call(this,a)},update:function(a){this.K instanceof p.nc&&this.K.bs(this.Id+(this.We-this.Id)*a)}});
p.et.create=function(a,c,d){var e=new p.et;e.H(a,c,d);return e};p.dx=9;p.zJ=1;p.CJ=2;p.DJ=4;p.AJ=8;p.BJ=16;p.OC=32;p.EJ=64;p.yJ=128;p.Ph=256;p.If=1;p.QC=2;p.PC=4;p.dW=8;p.cW=8;
p.Fb=p.bh.extend({FE:!1,$Y:!1,Gk:function(){return this.FE},ff:function(a){this.FE=a;for(var c=this.o,d=0,e=c.length;d<e;d++){var f=c[d];f&&f.Ua&&f.ff(a)}},ri:p.If,r3:function(){return this.ri},Yp:!1,Tn:!1,dj:!1,bu:null,ef:function(a){this.ri=(this.Yp=a)?p.If:p.PC;this.Hc()},isEnabled:function(){return this.Yp},Xo:function(a){this.Tn=a;this.Hc()},c5:function(){return this.Tn},Mk:function(a){this.dj=a;this.Hc()},L4:function(){return this.dj},ZQ:function(){for(var a=this.getParent();null!=a;a=a.getParent())if(!a.va)return!1;
return!0},ctor:function(){p.bh.prototype.ctor.call(this);this.bu={};this.Xb=p.kb()},q:function(){return p.bh.prototype.q.call(this)?(this.ri=p.If,this.Yp=!0,this.dj=this.Tn=!1,this.Jw(1),!0):!1},pw:function(){p.TB(this.wk,!0,this)},Fe:function(a){for(var c=0,d=p.dx;c<d;c++)if(a&1<<c)for(var e=this.Oy(1<<c),f=0,g=e.length;f<g;f++)e[f].zR(this)},SF:function(a,c,d){for(var e=0,f=p.dx;e<f;e++)d&1<<e&&this.$D(a,c,1<<e)},q7:function(a,c,d){for(var e=0,f=p.dx;e<f;e++)d&1<<e&&this.pN(a,c,1<<e)},wi:function(a){return this.hb(a.$)},
Fh:function(a){a=a.$;a=this.getParent().hb(a);return p.Eb(this.Wa(),a)},bZ:function(){return null},Oy:function(a){a=a.toString();this.bu.hasOwnProperty(a)||(this.bu[a]=[]);return this.bu[a]},$D:function(a,c,d){a=new p.cK(a,c,d);this.Oy(d).push(a)},pN:function(a,c,d){d=this.Oy(d);if(a||c)for(var e=0;e<d.length;){var f=d[e],g=!0;a&&(g=a==f.K);c&&(g=g&&c==f.lf);g?p.xd(d,f):e++}else d.length=0},Hc:function(){}});p.Fb.create=function(){var a=new p.Fb;return a&&a.q()?a:null};p.UC=3435855873;
p.Zk=p.Fb.extend({Tp:!1,gr:!1,Sf:null,oq:null,Lp:null,Zt:null,Ol:null,Cd:null,li:0,Hn:!1,hv:null,Vq:null,iv:null,jl:null,TE:!1,zu:0,yu:0,ctor:function(){p.Fb.prototype.ctor.call(this);this.Sf=new p.Sj(0,0);this.oq=new p.pg(0,0);this.Lp="";this.Zt=p.kb();this.hv={};this.Vq={};this.iv={};this.jl={}},q:function(){return this.Wv(p.W.create("","Arial",12),p.Ne.create())},Hc:function(){if(this.TE){this.Ol&&this.Ol.u(!1);this.Cd&&this.Cd.u(!1);this.jU(this.oq);var a=this.ri;this.Lp=this.iB(a);this.Zt=this.IQ(a);
var c=this.Ol=this.wr(a);c&&c.Z&&c.Z(this.Lp);c&&c.Ua&&c.l(this.Zt);var d=this.f();c&&c.C(d.width/2,d.height/2);(a=this.Cd=this.YP(a))&&a.C(d.width/2,d.height/2);d=c?c.Wa().Na:p.size(0,0);if(this.Tp)a&&a.ea(d.width+2*this.yu,d.height+2*this.zu);else if(a){var e=a.Sf,e=p.size(e.width,e.height);0>=e.width&&(e.width=d.width);0>=e.height&&(e.height=d.height);a.ea(e)}d=c?c.Wa():p.rect(0,0,0,0);e=a?a.Wa():p.rect(0,0,0,0);d=p.ow(d,e);this.ea(d.width,d.height);d=this.f();c&&(c.C(d.width/2,d.height/2),c.u(!0));
a&&(a.C(d.width/2,d.height/2),a.u(!0))}},Wv:function(a,c){if(!a||!a.Ua)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): label should be non-null";if(!c)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): backgroundSprite should be non-null";return p.Fb.prototype.q.call(this,!0)?(this.TE=!0,this.hv={},this.Vq={},this.iv={},this.jl={},this.Lb(!0),this.Hn=!1,this.gr=!0,this.Lp=null,this.IT(!0),this.Hj(p.size(0,0)),this.gr=!0,this.xi(!1),this.la(0.5,0.5),this.Ol=a,this.Cd=c,this.V(255),
this.ff(!0),this.MU(a.gB(),p.If),this.LU(a.bd(),p.If),this.nC(a,p.If),this.xw(c,p.If),this.ri=p.If,this.yu=24,this.zu=12,this.oq=new p.pg(0.5,0.5),this.Hj(p.cl()),this.Hc(),!0):!1},pR:function(a,c,d){a=p.W.create(a,c,d);return this.Wv(a,p.Ne.create())},UG:function(a){var c=p.W.create("","Arial",30);return this.Wv(c,a)},L_:function(){return this.Tp},IT:function(a){this.Tp=a;this.Hc()},Z3:function(){return this.gr},RU:function(a){return this.gr=a},tQ:function(){return this.Sf},Hj:function(a){if(0===
a.width&&0===a.height)this.Tp=!0;else{this.Tp=!1;var c=this.jl,d;for(d in c)c[d].Hj(a)}this.Sf=a;this.Hc()},L1:function(){return this.oq},jU:function(a){this.oq=a;this.Ol&&this.Ol.la(a)},TY:function(){return this.Lp},UY:function(){return this.Zt},vi:function(){return this.li},V:function(a){p.Fb.prototype.V.call(this,a);var c=this.jl,d;for(d in c)c[d].V(a)},l:function(a){p.Fb.prototype.l.call(this,a);var c=this.jl,d;for(d in c)c[d].l(a)},bd:function(){return this.Kd},Y4:function(){return this.Hn},
YY:function(){return this.zu},WY:function(){return this.yu},w8:function(a,c){this.zu=c;this.yu=a;this.Hc()},ef:function(a){p.Fb.prototype.ef.call(this,a);this.Hc()},Xo:function(a){p.Fb.prototype.Xo.call(this,a);this.Hc()},Mk:function(a){this.ri=a?p.QC:p.If;p.Fb.prototype.Mk.call(this,a);(a=this.aB(p.UC))&&this.fV(a);this.Hc();this.gr&&(a=p.Wm.create(0.05,this.dj&&this.isEnabled()&&!this.Tn?1.1:1),a.CI(p.UC),this.sw(a))},Ib:function(a){if(!(this.Fh(a)&&this.isEnabled()&&this.va&&this.ZQ()))return!1;
this.Hn=!0;this.Mk(!0);this.Fe(p.zJ);return!0},cd:function(a){this.Yp&&this.Hn&&!this.Tn?(a=this.Fh(a))&&!this.dj?(this.Mk(!0),this.Fe(p.AJ)):a&&this.dj?this.Fe(p.CJ):!a&&this.dj?(this.Mk(!1),this.Fe(p.BJ)):a||this.dj||this.Fe(p.DJ):this.dj&&this.Mk(!1)},De:function(a){this.Hn=!1;this.Mk(!1);this.Fh(a)?this.Fe(p.OC):this.Fe(p.EJ)},Ej:function(){this.Hn=!1;this.Mk(!1);this.Fe(p.yJ)},iB:function(a){var c=this.hv;return c?c[a]?c[a]:c[p.If]:""},MU:function(a,c){this.hv[c]=a||"";this.ri==c&&this.Hc()},
IQ:function(a){return(a=this.Vq[a])?a:(a=this.Vq[p.If])?a:p.kb()},LU:function(a,c){this.Vq[c]=a;this.ri==c&&this.Hc()},wr:function(a){var c=this.iv;return c.hasOwnProperty(a)&&c[a]?c[a]:c[p.If]},nC:function(a,c){var d=this.iv;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.u(!1);a.la(0.5,0.5);this.s(a,1);this.ri==c&&this.Hc()},y9:function(a,c){var d=this.iB(c);d||(d="");this.nC(p.W.create(d,a,12),c)},B3:function(a){a=this.wr(a);return null!=a&&a instanceof p.W?a.Qe:""},z9:function(a,
c){var d=this.wr(c);null!=d&&d instanceof p.W&&d.lI(a)},C3:function(a){a=this.wr(a);return null!=a&&a instanceof p.W?a.ne:0},x9:function(a,c){var d=this.iB(c);d||(d="");this.nC(p.vx.create(d,a),c)},A3:function(a){a=this.wr(a);return null!=a&&a instanceof p.vx?a.s1():""},YP:function(a){var c=this.jl;return c.hasOwnProperty(a)&&c[a]?c[a]:c[p.If]},xw:function(a,c){var d=this.jl;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.u(!1);a.la(0.5,0.5);this.s(a);d=this.Sf;0===d.width&&
0===d.height||a.Hj(d);this.ri===c&&this.Hc()},H7:function(a,c){var d=p.Ne.$F(a);this.xw(d,c)}});p.Zk.create=function(a,c){var d;if(0==arguments.length)return(d=new p.Zk)&&d.q()?d:null;1==arguments.length?(d=new p.Zk,d.UG(arguments[0])):2==arguments.length?(d=new p.Zk,d.Wv(a,c)):3==arguments.length&&(d=new p.Zk,d.pR(arguments[0],arguments[1],arguments[2]));return d};p.RGBA=function(a,c,d,e){this.i=a;this.h=c;this.g=d;this.D=e};p.rx=function(a,c,d){this.$d=a;this.Mh=c;this.ca=d};p.Ad={};p.Ad.Zl=function(a,c,d,e){a=p.A.aG(a);if(!a)return null;a.C(d);a.la(e);c.s(a);return a};p.Ad.ZJ=function(a){var c=new p.rx,d,e;d=a.i<a.h?a.i:a.h;d=d<a.g?d:a.g;e=a.i>a.h?a.i:a.h;e=e>a.g?e:a.g;c.ca=e;d=e-d;if(0<e)c.Mh=d/e;else return c.Mh=0,c.$d=-1,c;c.$d=a.i>=e?(a.h-a.g)/d:a.h>=e?2+(a.g-a.i)/d:4+(a.i-a.h)/d;c.$d*=60;0>c.$d&&(c.$d+=360);return c};
p.Ad.Gx=function(a){var c,d,e,f,g=new p.RGBA;g.D=1;if(0>=a.Mh){if(!a.$d)return g.i=a.ca,g.h=a.ca,g.g=a.ca,g;g.i=0;g.h=0;g.g=0;return g}c=a.$d;360<=c&&(c=0);c/=60;f=0|c;e=c-f;c=a.ca*(1-a.Mh);d=a.ca*(1-a.Mh*e);e=a.ca*(1-a.Mh*(1-e));switch(f){case 0:g.i=a.ca;g.h=e;g.g=c;break;case 1:g.i=d;g.h=a.ca;g.g=c;break;case 2:g.i=c;g.h=a.ca;g.g=e;break;case 3:g.i=c;g.h=d;g.g=a.ca;break;case 4:g.i=e;g.h=c;g.g=a.ca;break;default:g.i=a.ca,g.h=c,g.g=d}return g};p.Ad.LC=function(a,c){return p.ow(a,c)};p.cK=p.ra.extend({lf:null,K:null,Yt:null,ctor:function(a,c,d){this.K=a;this.lf=c;this.Yt=d},v0:function(){return this.lf},HQ:function(){return this.K},$0:function(){return this.Yt},zR:function(a){if(this.K&&this.lf)if("string"==typeof this.lf)this.K[this.lf](a,this.Yt);else this.lf.call(this.K,a,this.Yt)}});p.qD=0;p.tD=1;p.rD=2;p.sD=3;p.oD=4;p.vD=5;p.uD=6;p.FK=7;p.pD=8;
p.Ne=p.lb.extend({Ua:!0,Vn:null,iE:null,ok:!1,Ve:null,rh:null,qh:null,Gg:null,ii:null,Ti:null,mh:null,Yh:null,Xh:null,Zh:null,Vi:null,$b:!1,Pc:null,Sf:null,li:0,Xb:null,mn:null,mu:0,ou:0,nu:0,lu:0,mF:!1,eA:!1,ab:!1,ld:null,bJ:function(){return this.ab},vf:function(a,c){this.ld.push({zj:a,yh:c})},Dd:function(){this.ab=!0;for(var a=this.ld,c=0,d=a.length;c<d;c++){var e=a[c];e.zj.call(e.yh,this)}a.length=0},nv:function(){var a;a=this.mu;var c=this.ou,d=this.nu,e=this.Vn,f=this.lu;a=0===a&&0===c&&0===
d&&0===f?p.Lc():this.eA?p.rect(f,a,e.width-d-a,e.height-c-f):p.rect(a,c,e.width-a-d,e.height-c-f);this.NT(a)},uO:function(){if(this.rh&&this.Gg&&this.Zh&&this.Yh&&this.Ti){var a=this.ia,c=this.rh,d=this.Gg,e=this.Zh,f=this.Yh,g=this.Ti,h=this.Ti.f(),k=c.f(),l=f.f(),m=a.wa-k.width-d.f().width,a=a.ha-k.height-e.f().height,m=m/h.width,a=a/h.height,k=h.width*m,n=h.height*a,r=l.width,l=l.height;if(!p.ta.wc){var q=Math.round(k);k!=q&&(k=q,m=k/h.width);q=Math.round(n);n!=q&&(n=q,a=n/h.height)}g.Wo(m);g.Dm(a);
var h=this.ii,q=this.mh,v=this.qh,z=this.Xh,B=p.a(0,0);f.la(B);e.la(B);c.la(B);d.la(B);h.la(B);q.la(B);v.la(B);z.la(B);g.la(B);f.C(0,0);e.C(r+k,0);c.C(0,l+n);d.C(r+k,l+n);h.C(0,l);h.Dm(a);q.C(r+k,l);q.Dm(a);z.C(r,0);z.Wo(m);v.C(r,l+n);v.Wo(m);g.C(r,l)}},ctor:function(){p.lb.prototype.ctor.call(this);this.Vn=p.Lc();this.iE=p.Lc();this.Vi=p.kb();this.Pc=new p.Sj(0,0);this.Sf=new p.Sj(0,0);this.Xb=p.kb();this.li=255;this.mn=p.Lc();this.ld=[]},sQ:function(){return this.Pc},tQ:function(){return this.Sf},
Hj:function(a){this.ea(a);this.Sf=a},vi:function(){return this.li},V:function(a){if(this.Ve){this.li=a;for(var c=this.Ve.o,d=0;d<c.length;d++){var e=c[d];e&&e.Ua&&e.V(a)}}},bd:function(){return this.Xb},l:function(a){if(this.Ve){this.Xb=a;for(var c=this.Ve.o,d=0;d<c.length;d++){var e=c[d];e&&e.Ua&&e.l(a)}}},N0:function(){return this.mn},NT:function(a){if(this.Ve){var c=this.ia,d=c.wa,c=c.ha;this.bp(this.Ve,this.Vn,this.eA,a);this.ea(d,c)}},H1:function(){return this.mu},p8:function(a){this.mu=a;this.nv()},
J1:function(){return this.ou},r8:function(a){this.ou=a;this.nv()},I1:function(){return this.nu},q8:function(a){this.nu=a;this.nv()},G1:function(){return this.lu},o8:function(a){this.lu=a;this.nv()},ea:function(a,c){2===arguments.length?p.I.prototype.ea.call(this,a,c):p.I.prototype.ea.call(this,a);this.ok=!0},fa:function(a){this.ok&&(this.uO(),this.ok=!1);p.lb.prototype.fa.call(this,a)},q:function(){return this.Uv(null,p.Lc(),!1,p.Lc())},Uv:function(a,c,d,e){3===arguments.length&&(e=d,d=!1);a&&this.bp(a,
c,d,e);this.la(0.5,0.5);return this.ok=!0},yi:function(a,c,d){a instanceof p.Kf?(d=a=c,c=p.Lc()):(c=c||p.Lc(),d=d||p.Lc());if(!a)throw"cc.Scale9Sprite.initWithFile(): file should be non-null";var e=p.Qa.d().Qw(a);if(!e){var e=p.Qa.d().fc(a),f=e.eg();(this.ab=f)||e.vf(function(a){var c=this.Sf,c=p.size(c.width,c.height);a=a.f();this.bp(this.Ve,p.rect(0,0,a.width,a.height),!1,this.mn);this.Hj(c);this.ok=!0;this.Dd()},this)}a=p.eb.create(a,9);return this.Uv(a,c,!1,d)},be:function(a,c){if(!a||!a.Q())throw"cc.Scale9Sprite.initWithSpriteFrame(): spriteFrame should be non-null and its texture should be non-null";
c=c||p.Lc();var d=a.ab;(this.ab=d)||a.vf(function(a){var c=this.Sf,c=p.size(c.width,c.height);this.bp(this.Ve,a.Ud(),p.ta.wc?a.Qc:!1,this.mn);this.Hj(c);this.ok=!0;this.Dd()},this);d=p.eb.od(a.Q(),9);return this.Uv(d,a.Ud(),p.ta.wc?a.Qc:!1,c)},ZG:function(a,c){if(!a)throw"cc.Scale9Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";c=c||p.Lc();var d=p.Lf.d().Pg(a);return null==d?(p.log("cc.Scale9Sprite.initWithSpriteFrameName(): can't find the sprite frame by spriteFrameName"),!1):
this.be(d,c)},t7:function(a){var c=new p.Ne;return c&&c.Uv(this.Ve,this.Vn,!1,a)?c:null},ff:function(a){if(this.Ve){this.$b=a;var c=this.Ve.o;if(c)for(var d=0,e=c.length;d<e;d++)c[d].ff(a)}},Gk:function(){return this.$b},bp:function(a,c,d,e){var f=this.vi(),g=this.bd();c=p.rect(c.x,c.y,c.width,c.height);this.Lh(!0);this.Ve!=a&&(this.Ve=a);a=a.Q();var h=a.eg();if(this.ab=h){a=this.Ve;a.Lh(!0);h=this.mn;h.x=e.x;h.y=e.y;h.width=e.width;h.height=e.height;this.eA=d;h=a.Q();p.Bq(c)&&(c=h.f(),c=p.rect(0,
0,c.width,c.height));var k=this.Vn=c;k.x=c.x;k.y=c.y;k.width=c.width;k.height=c.height;var l=c.Na;this.Pc.width=l.width;this.Pc.height=l.height;k=this.Sf;0===k.width&&0===k.height&&(k.width=l.width,k.height=l.height);k=this.iE;e&&(k.x=e.x,k.y=e.y,k.width=e.width,k.height=e.height);var m=l.width;e=l.height;p.Bq(k)&&(k.x=m/3,k.y=e/3,k.width=m/3,k.height=e/3);var n=k.x,r=k.width,q=m-(n+r),v=k.y,z=k.height,B=e-(v+z),F=0,K=0;e=p.rect(F,K,n,v);var F=F+n,k=p.rect(F,K,r,v),m=p.rect(F+r,K,q,v),F=0,K=0+v,l=
p.rect(F,K,n,z),F=F+n,$=p.rect(F,K,r,z),F=F+r,I=p.rect(F,K,q,z),F=0,K=0+v+z,v=p.rect(F,K,n,B),F=F+n,n=p.rect(F,K,r,B),F=F+r,r=p.rect(F,K,q,B),q={D:1,g:0,qa:0,za:1,Ka:0,La:0};if(d){d=$;var B=r,F=v,K=m,z=e,N=I,L=l,ia=n,W=k,q=p.Yw(q,c.height+c.x,c.y),q=p.xJ(q),$=p.qg($,q),r=p.qg(r,q),v=p.qg(v,q),m=p.qg(m,q);e=p.qg(e,q);I=p.qg(I,q);l=p.qg(l,q);n=p.qg(n,q);k=p.qg(k,q);d.x=$.x;d.y=$.y;B.x=r.x;B.y=r.y;F.x=v.x;F.y=v.y;K.x=m.x;K.y=m.y;z.x=e.x;z.y=e.y;N.x=I.x;N.y=I.y;L.x=l.x;L.y=l.y;ia.x=n.x;ia.y=n.y;W.x=k.x;
W.y=k.y;this.Ti=new p.A;this.Ti.Aa(h,d,!0);a.s(this.Ti,0,p.qD);this.qh=new p.A;this.qh.Aa(h,W,!0);a.s(this.qh,1,p.tD);this.Xh=new p.A;this.Xh.Aa(h,ia,!0);a.s(this.Xh,1,p.oD);this.ii=new p.A;this.ii.Aa(h,L,!0);a.s(this.ii,1,p.rD);this.mh=new p.A;this.mh.Aa(h,N,!0);a.s(this.mh,1,p.sD);this.rh=new p.A;this.rh.Aa(h,z,!0);a.s(this.rh,2,p.uD);this.Gg=new p.A;this.Gg.Aa(h,K,!0);a.s(this.Gg,2,p.vD);this.Yh=new p.A;this.Yh.Aa(h,F,!0);a.s(this.Yh,2,p.pD);this.Zh=new p.A;this.Zh.Aa(h,B,!0)}else q=p.Yw(q,c.x,
c.y),p.Th($,q),p.Th(r,q),p.Th(v,q),p.Th(m,q),p.Th(e,q),p.Th(I,q),p.Th(l,q),p.Th(n,q),p.Th(k,q),this.Ti=new p.A,this.Ti.Aa(h,$),a.s(this.Ti,0,p.qD),this.qh=new p.A,this.qh.Aa(h,k),a.s(this.qh,1,p.tD),this.Xh=new p.A,this.Xh.Aa(h,n),a.s(this.Xh,1,p.oD),this.ii=new p.A,this.ii.Aa(h,l),a.s(this.ii,1,p.rD),this.mh=new p.A,this.mh.Aa(h,I),a.s(this.mh,1,p.sD),this.rh=new p.A,this.rh.Aa(h,e),a.s(this.rh,2,p.uD),this.Gg=new p.A,this.Gg.Aa(h,m),a.s(this.Gg,2,p.vD),this.Yh=new p.A,this.Yh.Aa(h,v),a.s(this.Yh,
2,p.pD),this.Zh=new p.A,this.Zh.Aa(h,r);a.s(this.Zh,2,p.FK);this.ea(c.Na);this.s(a);this.mF&&(this.V(f),255===g.i&&255===g.h&&255===g.g||this.l(g));return this.mF=!0}a.vf(function(){this.ok=!0;this.Dd()},this)},gf:function(a){var c=p.eb.od(a.Q(),9),d=a.ab;(this.ab=d)||a.vf(function(a){var c=this.Sf,c=p.size(c.width,c.height);this.bp(this.Ve,a.Ud(),p.ta.wc?a.Qc:!1,this.mn);this.Hj(c);this.ok=!0;this.Dd()},this);this.bp(c,a.Ud(),p.ta.wc?a.Qc:!1,p.Lc());this.lu=this.nu=this.ou=this.mu=0}});
p.Ne.create=function(a,c,d){var e;if(2===arguments.length)if("string"==typeof a){if((e=new p.Ne)&&e.yi(a,c))return e}else{if(a instanceof p.Kf&&(e=new p.Ne)&&e.yi(a,d))return e}else if(3===arguments.length){if((e=new p.Ne)&&e.yi(a,c,d))return e}else if(1===arguments.length){if((e=new p.Ne)&&e.yi(a))return e}else if(0===arguments.length&&(e=new p.Ne)&&e.q())return e;return null};p.Ne.$F=function(a,c){var d=new p.Ne;return d&&d.be(a,c)?d:null};
p.Ne.aG=function(a,c){if(!a)throw"cc.Scale9Sprite.createWithSpriteFrameName(): spriteFrameName should be non-null";var d=new p.Ne;return d&&d.ZG(a,c)?d:null};p.qt=p.mc.extend({});p.qt.O$=function(a){var c=new p.qt;c.q();c.ea(0,a);return c};p.qt.h4=function(a){var c=new p.qt;c.q();c.ea(a,0);return c};
p.bt=p.mc.extend({Ua:!0,Xb:null,li:0,ctor:function(){},bd:function(){return this.Xb},l:function(a){this.Xb=a;if(this.o&&0<this.o.length)for(var c=0;c<this.o.length;c++)this.o[c]&&this.o[c].Ua&&this.o[c].l(a)},vi:function(){return this.li},V:function(a){this.li=a;if(this.o&&0<this.o.length)for(var c=0;c<this.o.length;c++)this.o[c]&&this.o[c].Ua&&this.o[c].V(a)},iR:function(a,c){if(this.q()){var d=p.N.d().Cb;this.xi(!0);this.la(0.5,0.5);this.ea(d);this.C(d.width/2,d.height/2);d=0;if(a){this.s(a,d);
for(var e=0;e<c.length;e++)c[e]&&(d++,this.s(c[e],d))}return!0}return!1},QZ:function(){this.IO(p.IJ)},IO:function(a){var c=-a,d;if(this.o&&0<this.o.length)for(d=0;d<this.o.length;d++)this.o[d]&&(c+=this.o[d].f().height*this.o[d].pa+a);var e=0,f=c/2;if(this.o&&0<this.o.length)for(d=0;d<this.o.length;d++)this.o[d]&&(e=Math.max(e,this.o[d].f().width),this.o[d].C(0,f-this.o[d].f().height*this.o[d].pa/2),f-=this.o[d].f().height*this.o[d].pa+a);this.ea(e,c)},NZ:function(){this.HO(p.IJ)},HO:function(a){var c=
-a,d;if(this.o&&0<this.o.length)for(d=0;d<this.o.length;d++)this.o[d]&&(c+=this.o[d].f().width*this.o[d].ja+a);var e=0,f=-c/2;if(this.o&&0<this.o.length)for(d=0;d<this.o.length;d++)this.o[d]&&(e=Math.max(e,this.o[d].f().height),this.o[d].C(f+this.o[d].f().width*this.o[d].ja/2,0),f+=this.o[d].f().width*this.o[d].ja+a);this.ea(c,e)},OZ:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=-5,f=0,g=0,h=0,k,l;if(this.o&&0<this.o.length)for(d=0;d<this.o.length;d++)this.o[d]&&
(f>=c.length?p.log("cc.MenuPassive.alignItemsInColumns(): invalid row index"):(k=c[f])?(l=this.o[d].f().height,g=0|(g>=l||null==l?g:l),++h,h>=k&&(e+=g+5,g=h=0,++f)):p.log("cc.MenuPassive.alignItemsInColumns(): can not have zero columns on a row"));var m=p.N.d().Cb,n=k=g=f=0,r=0,e=e/2;if(this.o&&0<this.o.length)for(d=0;d<this.o.length;d++)this.o[d]&&(0==k&&(k=c[f],r=n=m.width/(1+k)),l=this.o[d].f().height,g=0|(g>=l||null==l?g:l),this.o[d].C(r-m.width/2,e-this.o[d].f().height/2),r+=n,++h,h>=k&&(e-=
g+5,g=k=h=0,++f))},PZ:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=[],f=[],g=-10,h=-5,k=0,l=0,m=0,n,r;if(this.o&&0<this.o.length)for(d=0;d<this.o.length;d++)this.o[d]&&(k>=c.length?p.log("cc.MenuPassive.alignItemsInRows(): invalid row index"):(n=c[k])?(r=this.o[d].f().width,l=0|(l>=r||null==r?l:r),h+=0|this.o[d].f().height+5,++m,m>=n&&(e.push(l),f.push(h),g+=l+10,l=m=0,h=-5,++k)):p.log("cc.MenuPassive.alignItemsInColumns(): can't have zero rows on a column"));h=
p.N.d().Cb;l=k=0;n=null;var g=-g/2,q=0;if(this.o&&0<this.o.length)for(d=0;d<this.o.length;d++)this.o[d]&&(null==n&&(n=c[k],q=f[k]),r=this.o[d].f().width,l=0|(l>=r||null==r?l:r),this.o[d].C(g+e[k]/2,q-h.height/2),q-=this.o[d].f().height+10,++m,m>=n&&(g+=l+5,l=n=m=0,++k))},ff:function(){},Gk:function(){return!1}});p.bt.create=function(a){0==arguments.length&&(a=null);for(var c=[],d=1;d<arguments.length;d++)c.push(arguments[d]);return(d=new p.bt)&&d.iR(a,c)?d:null};
p.bt.D_=function(a){return p.bt.create(a,null)};p.jx=p.Fb.extend({Sz:0,Ot:0,pc:null,YM:null,kF:null,Fg:null,ec:null,Of:0,Si:0,b3:function(){return this.Sz},J0:function(){return this.Ot},yG:function(){return this.pc},B2:function(){return this.Ot},h3:function(){return this.kF},DQ:function(){return this.Fg},FQ:function(){return this.ec},uB:function(a,c){return p.Fb.prototype.q.call(this)?(this.Lb(!0),this.pc=p.Ad.Zl("colourPickerBackground.png",a,c,p.a(0,0)),this.YM=p.Ad.Zl("colourPickerOverlay.png",a,c,p.a(0,0)),this.kF=p.Ad.Zl("colourPickerShadow.png",
a,c,p.a(0,0)),this.Fg=p.Ad.Zl("colourPicker.png",a,c,p.a(0.5,0.5)),this.ec=c,this.Of=35,this.Si=this.pc.f().width/2,!0):!1},ef:function(a){p.Fb.prototype.ef.call(this,a);this.Fg&&this.Fg.V(a?255:128)},oJ:function(a){var c=new p.rx;c.Mh=1;c.$d=a.$d;c.ca=1;a=p.Ad.Gx(c);this.pc.l(p.xv(0|255*a.i,0|255*a.h,0|255*a.g))},rV:function(a){a=p.a(this.ec.x+this.Of+this.Si*(1-a.Mh),this.ec.y+this.Of+this.Si*a.ca);this.qv(a)},qv:function(a){var c=this.ec.x+0.5*this.pc.Wa().width,d=this.ec.y+0.5*this.pc.Wa().height,
e=a.x-c,f=a.y-d,g=Math.sqrt(e*e+f*f),e=Math.atan2(f,e),f=0.5*this.pc.Wa().width;g>f&&(a.x=c+f*Math.cos(e),a.y=d+f*Math.sin(e));this.Fg.C(a);a.x<this.ec.x+this.Of?a.x=this.ec.x+this.Of:a.x>this.ec.x+this.Of+this.Si-1&&(a.x=this.ec.x+this.Of+this.Si-1);a.y<this.ec.y+this.Of?a.y=this.ec.y+this.Of:a.y>this.ec.y+this.Of+this.Si&&(a.y=this.ec.y+this.Of+this.Si);this.Sz=1-Math.abs((this.ec.x+this.Of-a.x)/this.Si);this.Ot=Math.abs((this.ec.y+this.Of-a.y)/this.Si)},Hp:function(a){var c=this.ec.x+0.5*this.pc.Wa().width,
d=this.ec.y+0.5*this.pc.Wa().height,c=a.x-c,d=a.y-d;return Math.sqrt(c*c+d*d)<=0.5*this.pc.Wa().width?(this.qv(a),this.Fe(p.Ph),!0):!1},Ib:function(a){if(!this.isEnabled()||!this.va)return!1;a=this.wi(a);return this.Hp(a)},cd:function(a){a=this.wi(a);this.Hp(a)}});p.jx.create=function(a,c){var d=new p.jx;d.uB(a,c);return d};p.ix=p.Fb.extend({Dn:0,iq:0,pc:null,Fg:null,ec:null,B1:function(){return this.Dn},hC:function(a){this.Dn=a;this.fU(this.Dn/360)},C1:function(){return this.iq},fU:function(a){this.iq=a;this.Dn=360*this.iq;a=this.pc.Wa();var c=0.5*a.width-15,d=p.Ki(360*this.iq-180);this.Fg.C(this.ec.x+0.5*a.width+c*Math.cos(d),this.ec.y+0.5*a.height+c*Math.sin(d))},ef:function(a){p.Fb.prototype.ef.call(this,a);this.Fg&&this.Fg.V(a?255:128)},yG:function(){return this.pc},DQ:function(){return this.Fg},FQ:function(){return this.ec},
uB:function(a,c){return p.Fb.prototype.q.call(this)?(this.Lb(!0),this.pc=p.Ad.Zl("huePickerBackground.png",a,c,p.a(0,0)),this.Fg=p.Ad.Zl("colourPicker.png",a,c,p.a(0.5,0.5)),this.Fg.C(c.x,c.y+0.5*this.pc.Wa().height),this.ec=c,this.iq=this.Dn=0,!0):!1},qv:function(a){var c=this.pc.Wa();this.hC(p.Ex(Math.atan2(a.y-(this.ec.y+0.5*c.height),a.x-(this.ec.x+0.5*c.width)))+180);this.Fe(p.Ph)},Hp:function(a){var c=Math.sqrt(Math.pow(a.x+10,2)+Math.pow(a.y,2));return 80>c&&59<c?(this.qv(a),!0):!1},Ib:function(a){if(!this.isEnabled()||
!this.va)return!1;a=this.wi(a);return this.Hp(a)},cd:function(a){a=this.wi(a);this.Hp(a)}});p.ix.create=function(a,c){var d=new p.ix;d.uB(a,c);return d};p.VC=p.Fb.extend({vg:null,$j:null,tl:null,pc:null,fR:function(a){this.vg.$d=a.Dn;a=p.Ad.Gx(this.vg);p.Fb.prototype.l.call(this,p.xv(0|255*a.i,0|255*a.h,0|255*a.g));this.Fe(p.Ph);this.rO()},gP:function(a){this.vg.Mh=a.Sz;this.vg.ca=a.Ot;a=p.Ad.Gx(this.vg);p.Fb.prototype.l.call(this,p.xv(0|255*a.i,0|255*a.h,0|255*a.g));this.Fe(p.Ph)},l:function(a){p.Fb.prototype.l.call(this,a);var c=new p.RGBA;c.i=a.i/255;c.h=a.h/255;c.g=a.g/255;c.D=1;this.vg=p.Ad.ZJ(c);this.BF()},yG:function(){return this.pc},q:function(){if(p.Fb.prototype.q.call(this)){this.Lb(!0);
p.Lf.d().RF(aa.JC);var a=p.eb.create(aa.KC);this.s(a);this.vg=new p.rx(0,0,0);this.pc=p.Ad.Zl("menuColourPanelBackground.png",a,p.Mi(),p.a(0.5,0.5));var c=p.dd(this.pc.p,p.a(this.pc.f().width/2,this.pc.f().height/2));this.tl=p.ix.create(a,p.a(c.x+8,c.y+8));this.$j=p.jx.create(a,p.a(c.x+28,c.y+28));this.tl.SF(this,this.fR,p.Ph);this.$j.SF(this,this.gP,p.Ph);this.BF();this.s(this.tl);this.s(this.$j);this.ea(this.pc.f());return!0}return!1},rO:function(){this.tl.hC(this.vg.$d);this.$j.oJ(this.vg)},BF:function(){this.tl.hC(this.vg.$d);
this.$j.oJ(this.vg);this.$j.rV(this.vg)},ef:function(a){p.Fb.prototype.ef.call(this,a);null!=this.tl&&this.tl.ef(a);this.$j&&this.$j.ef(a)},Ib:function(){return!1}});p.VC.create=function(){var a=new p.VC;a.q();return a};aa=aa||{};aa.JC=aa.JC||"res/extensions/CCControlColourPickerSpriteSheet.plist";aa.KC=aa.KC||"res/extensions/CCControlColourPickerSpriteSheet.png";p.CD=24;p.YX=8;
p.XC=p.Fb.extend({zc:0,Ra:0,qb:0,Eu:0,Cu:0,rb:null,pk:null,Cd:null,LG:function(){return this.zc},He:function(a){a=Math.max(a,this.Ra);this.zc=a=Math.min(a,this.qb);this.Hc();this.Fe(p.Ph)},nQ:function(){return this.Ra},tI:function(a){this.Eu=this.Ra=a;this.Ra>=this.qb&&(this.qb=this.Ra+1);this.He(this.zc)},mQ:function(){return this.qb},rI:function(a){this.Cu=this.qb=a;this.qb<=this.Ra&&(this.Ra=this.qb-1);this.He(this.zc)},Fh:function(a){a=a.$;a=this.getParent().hb(a);var c=this.Wa();c.Na.width+=
this.rb.f().width;c.Oc.x-=this.rb.f().width/2;return p.Eb(c,a)},km:function(a){a=a.$;a=this.hb(a);0>a.x?a.x=0:a.x>this.Cd.f().width&&(a.x=this.Cd.f().width);return a},e2:function(){return this.Eu},B8:function(a){this.Eu=a},b2:function(){return this.Cu},A8:function(a){this.Cu=a},IG:function(){return this.rb},L2:function(){return this.pk},D0:function(){return this.Cd},nR:function(a,c,d){return p.Fb.prototype.q.call(this)?(this.xi(!1),this.Lb(!0),this.Cd=a,this.pk=c,this.rb=d,a=p.Ad.LC(a.Wa(),d.Wa()),
this.ea(a.width,a.height),this.Cd.la(0.5,0.5),this.Cd.C(a.width/2,a.height/2),this.s(this.Cd),this.pk.la(0,0.5),this.pk.C(0,a.height/2),this.s(this.pk),this.rb.C(0,a.height/2),this.s(this.rb),this.Ra=0,this.qb=1,this.He(this.Ra),!0):!1},ef:function(a){p.Fb.prototype.ef.call(this,a);this.rb&&this.rb.V(a?255:128)},bV:function(a){this.Xo(!0);this.rb.l(p.yo());this.He(this.EC(a))},dV:function(a){this.He(this.EC(a))},cV:function(){this.Tn&&this.He(this.EC(this.rb.p));this.rb.l(p.kb());this.Xo(!1)},H3:function(a){a=
a.$;a=this.hb(a);0>a.x?a.x=0:a.x>this.Cd.f().width+p.CD&&(a.x=this.Cd.f().width+p.CD);return a},Ib:function(a){if(!this.Fh(a)||!this.isEnabled()||!this.va)return!1;a=this.km(a);this.bV(a);return!0},cd:function(a){a=this.km(a);this.dV(a)},De:function(){this.cV(p.Mi())},Hc:function(){this.rb.xb((this.zc-this.Ra)/(this.qb-this.Ra)*this.Cd.f().width);var a=this.pk.hB(),a=p.rect(a.x,a.y,this.rb.p.w,a.height);this.pk.jb(a,this.pk.Ec,a.Na)},EC:function(a){a=a.x/this.Cd.f().width;return Math.max(Math.min(this.Ra+
a*(this.qb-this.Ra),this.Cu),this.Eu)}});p.XC.create=function(a,c,d){"string"==typeof a&&(a=p.A.create(a),c=p.A.create(c),d=p.A.create(d));var e=new p.XC;e.nR(a,c,d);return e};p.ZC=p.Fb.extend({Fc:null,zE:0,vq:!1,Pn:!1,ctor:function(){p.Fb.prototype.ctor.call(this)},rB:function(a,c,d,e,f,g){if(!a)throw"cc.ControlSwitch.initWithMaskSprite(): maskSprite should be non-null.";if(!c)throw"cc.ControlSwitch.initWithMaskSprite(): onSprite should be non-null.";if(!d)throw"cc.ControlSwitch.initWithMaskSprite(): offSprite should be non-null.";if(!e)throw"cc.ControlSwitch.initWithMaskSprite(): thumbSprite should be non-null.";return this.q()?(this.Lb(!0),this.Pn=!0,this.Fc=new p.HJ,
this.Fc.rB(a,c,d,e,f,g),this.Fc.C(this.Fc.f().width/2,this.Fc.f().height/2),this.s(this.Fc),this.xi(!1),this.la(0.5,0.5),this.ea(this.Fc.f()),!0):!1},Aw:function(a,c){var d=(this.Pn=a)?this.Fc.lk:this.Fc.xl;c?this.Fc.sw(p.Nm.create(0.2,"sliderXPosition",this.Fc.mj,d)):this.Fc.kC(d);this.Fe(p.Ph)},S4:function(){return this.Pn},e4:function(){return this.vq},ef:function(a){this.Yp=a;this.Fc.V(a?255:128)},km:function(a){a=a.$;return a=this.hb(a)},Ib:function(a){if(!this.Fh(a)||!this.isEnabled()||!this.va)return!1;
this.vq=!1;this.zE=this.km(a).x-this.Fc.mj;this.Fc.rb.l(p.yo());this.Fc.Hc();return!0},cd:function(a){a=this.km(a);a=p.a(a.x-this.zE,0);this.vq=!0;this.Fc.kC(a.x)},De:function(a){a=this.km(a);this.Fc.rb.l(p.kb());this.vq?this.Aw(!(a.x<this.Fc.f().width/2),!0):this.Aw(!this.Pn,!0)},Ej:function(a){a=this.km(a);this.Fc.rb.l(p.kb());this.vq?this.Aw(!(a.x<this.Fc.f().width/2),!0):this.Aw(!this.Pn,!0)}});p.ZC.create=function(a,c,d,e,f,g){var h=new p.ZC;return h&&h.rB(a,c,d,e,f,g)?h:null};
p.HJ=p.A.extend({mj:0,lk:0,xl:0,qF:0,pz:0,qz:null,zg:null,ki:null,rb:null,yl:null,wl:null,tn:null,ac:null,Mt:null,ctor:function(){p.A.prototype.ctor.call(this);this.pz=this.xl=this.lk=this.mj=0;this.qz=p.size(0,0);this.wl=this.yl=this.rb=this.ki=this.zg=null},rB:function(a,c,d,e,f,g){return p.A.prototype.Aa.call(this,a.Q())?(this.lk=0,this.xl=-c.f().width+e.f().width/2,this.mj=this.lk,this.wU(c),this.uU(d),this.mC(e),this.vU(f),this.tU(g),this.ac=a,a=this.qz=this.ac.f(),this.ac.C(0,0),this.tn=p.Za.create(),
this.tn.la(0.5,0.5),this.tn.C(a.width/2,a.height/2),this.tn.lC(this.ac),this.Mt=p.mb.create(a.width,a.height),this.tn.s(this.Mt.$a),this.s(this.tn),this.s(this.rb),this.Hc(),!0):!1},Hc:function(){this.zg.C(this.zg.f().width/2+this.mj,this.zg.f().height/2);this.ki.C(this.zg.f().width+this.ki.f().width/2+this.mj,this.ki.f().height/2);this.yl&&this.yl.C(this.zg.p.x-this.rb.f().width/6,this.zg.f().height/2);this.wl&&this.wl.C(this.ki.p.x+this.rb.f().width/6,this.ki.f().height/2);this.rb.C(this.zg.f().width+
this.mj,this.qz.height/2);this.Mt.uj();this.zg.fa();this.ki.fa();this.yl&&this.yl.fa();this.wl&&this.wl.fa();this.Mt.end()},kC:function(a){a<=this.xl?a=this.xl:a>=this.lk&&(a=this.lk);this.mj=a;this.Hc()},k3:function(){return this.mj},c6:function(){return this.zg.f().width},a6:function(){return this.ki.f().height},BC:function(a,c){p.log("key \x3d "+c+", value \x3d "+a);this.kC(a)},K8:function(a){this.lk=a},v2:function(){return this.lk},H8:function(a){this.xl=a},p2:function(){return this.xl},y8:function(a){this.ac.ba(a)},
V1:function(){return this.ac.Q()},v9:function(a){this.qF=a},x3:function(){return this.qF},x8:function(a){this.pz=a},U1:function(){return this.pz},wU:function(a){this.zg=a},w2:function(){return this.zg},uU:function(a){this.ki=a},q2:function(){return this.ki},mC:function(a){this.rb=a},IG:function(){return this.rb},vU:function(a){this.yl=a},u2:function(){return this.yl},tU:function(a){this.wl=a},o2:function(){return this.wl}});p.SC=0;p.TC=1;p.xs=2;p.ep=p.k(55,55,55);p.ex=p.k(147,147,147);p.RC="CourierNewPSMT";p.HC=0.15;p.vJ=12;
p.YC=p.Fb.extend({md:null,Se:null,kk:null,nk:null,zc:0,Kp:!1,dn:!1,Vl:!1,Ra:0,qb:0,Kl:0,Yq:!1,Ql:p.xs,Dp:0,ctor:function(){p.Fb.prototype.ctor.call(this);this.nk=this.kk=this.Se=this.md=null;this.zc=0;this.Vl=this.dn=this.Kp=!1;this.Kl=this.qb=this.Ra=0;this.Yq=!1;this.Ql=p.xs;this.Dp=0},kR:function(a,c){if(!a)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Minus sprite should be non-null.";if(!c)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Plus sprite should be non-null.";
if(this.q()){this.Lb(!0);this.Kp=this.dn=!0;this.Ra=0;this.qb=100;this.zc=0;this.Kl=1;this.Vl=!1;this.xi(!1);this.pU(a);this.md.C(a.f().width/2,a.f().height/2);this.s(this.md);this.oU(p.W.create("-",p.RC,40,p.size(40,40),p.Pi,p.Ct));this.kk.l(p.ex);this.kk.C(this.md.f().width/2,this.md.f().height/2);this.md.s(this.kk);this.zU(c);this.Se.C(a.f().width+c.f().width/2,a.f().height/2);this.s(this.Se);this.yU(p.W.create("+",p.RC,40,p.size(40,40),p.Pi,p.Ct));this.nk.l(p.ep);this.nk.C(this.Se.f().width/2,
this.Se.f().height/2);this.Se.s(this.nk);var d=p.Ad.LC(this.md.Wa(),this.Se.Wa());this.ea(this.md.f().width+this.Se.f().height,d.Na.height);return!0}return!1},K9:function(a){if(this.Vl=a)this.kk.l(p.ep),this.nk.l(p.ep);this.He(this.zc)},tI:function(a){if(a>=this.qb)throw"cc.ControlStepper.setMinimumValue(): minimumValue should be numerically less than maximumValue.";this.Ra=a;this.He(this.zc)},rI:function(a){if(a<=this.Ra)throw"cc.ControlStepper.setMaximumValue(): maximumValue should be numerically less than maximumValue.";
this.qb=a;this.He(this.zc)},He:function(a){this.pC(a,!0)},LG:function(){return this.zc},p9:function(a){if(0>=a)throw"cc.ControlStepper.setMaximumValue(): stepValue should be numerically greater than 0.";this.Kl=a},E4:function(){return this.Kp},pC:function(a,c){a<this.Ra?a=this.Vl?this.qb:this.Ra:a>this.qb&&(a=this.Vl?this.Ra:this.qb);this.zc=a;this.Vl||(this.kk.l(a==this.Ra?p.ex:p.ep),this.nk.l(a==this.qb?p.ex:p.ep));c&&this.Fe(p.Ph)},VI:function(){this.Dp=-1;this.sd(this.update,p.HC,p.bl,3*p.HC)},
XI:function(){this.kg(this.update)},update:function(){this.Dp++;this.Dp<p.vJ&&0!=this.Dp%3||(this.Ql==p.SC?this.pC(this.zc-this.Kl,this.Kp):this.Ql==p.TC&&this.pC(this.zc+this.Kl,this.Kp))},hJ:function(a){a.x<this.md.f().width&&this.zc>this.Ra?(this.Ql=p.SC,this.md.l(p.yo()),this.Se.l(p.kb())):a.x>=this.md.f().width&&this.zc<this.qb?(this.Ql=p.TC,this.md.l(p.kb()),this.Se.l(p.yo())):(this.Ql=p.xs,this.md.l(p.kb()),this.Se.l(p.kb()))},Ib:function(a){if(!this.Fh(a)||!this.isEnabled()||!this.va)return!1;
a=this.wi(a);this.hJ(a);this.Yq=!0;this.dn&&this.VI();return!0},cd:function(a){this.Fh(a)?(a=this.wi(a),this.hJ(a),this.Yq||(this.Yq=!0,this.dn&&this.VI())):(this.Yq=!1,this.Ql=p.xs,this.md.l(p.kb()),this.Se.l(p.kb()),this.dn&&this.XI())},De:function(a){this.md.l(p.kb());this.Se.l(p.kb());this.dn&&this.XI();this.Fh(a)&&(a=this.wi(a),this.He(this.zc+(a.x<this.md.f().width?0-this.Kl:this.Kl)))},pU:function(a){this.md=a},g2:function(){return this.md},zU:function(a){this.Se=a},G2:function(){return this.Se},
oU:function(a){this.kk=a},f2:function(){return this.kk},yU:function(a){this.nk=a},F2:function(){return this.nk}});p.YC.create=function(a,c){var d=new p.YC;return d&&d.kR(a,c)?d:null};p.WC=p.Fb.extend({rb:null,Rn:null,Qn:null,zc:0,Ra:0,qb:1,qR:function(a,c,d){return this.q()?(this.Lb(!0),this.DU(c),this.mC(d),this.rb.C(c.p),this.s(d,2),this.s(c,1),this.s(a),this.ea(a.f()),this.Ra=0,this.qb=1,this.He(this.Ra),!0):!1},ef:function(a){this.ef(a);this.rb!=NULL&&this.rb.V(a?255:128)},He:function(a){a<this.Ra&&(a=this.Ra);a>this.qb&&(a=this.qb);this.zc=a;a=(a-this.Ra)/(this.qb-this.Ra);this.Rn.bs(100*a);this.rb.Dw(360*a);this.Fe(p.Ph)},LG:function(){return this.zc},tI:function(a){this.Ra=
a;this.Ra>=this.qb&&(this.qb=this.Ra+1);this.He(this.qb)},nQ:function(){return this.Ra},rI:function(a){this.qb=a;this.qb<=this.Ra&&(this.Ra=this.qb-1);this.He(this.Ra)},mQ:function(){return this.qb},Fh:function(a){a=this.wi(a);return this.FP(this.Rn.p,a)<Math.min(this.f().width/2,this.f().height/2)},Ib:function(a){if(!this.Fh(a)||!this.isEnabled()||!this.va)return!1;this.Qn=this.wi(a);this.BS(this.Qn);return!0},cd:function(a){a=this.wi(a);this.DS(a)},De:function(){this.CS(p.a(0,0))},FP:function(a,
c){var d=a.x-c.x,e=a.y-c.y;return Math.sqrt(d*d+e*e)},KO:function(a,c,d,e){return 180*(Math.atan2(c.x-a.x,c.y-a.y)-Math.atan2(e.x-d.x,e.y-d.y))/Math.PI},BS:function(){this.Xo(!0);this.rb.l(p.yo())},DS:function(a){var c=this.KO(this.Rn.p,a,this.Rn.p,this.Qn);180<c?c-=360:-180>c&&(c+=360);this.He(this.zc+c/360*(this.qb-this.Ra));this.Qn=a},CS:function(){this.rb.l(p.kb());this.Xo(!1)},mC:function(a){this.rb=a},IG:function(){return this.rb},DU:function(a){this.Rn=a},M2:function(){return this.Rn},V8:function(a){this.Qn=
a},uQ:function(){return this.Qn}});p.WC.create=function(a,c,d){var e=new p.WC;return e&&(a=p.A.create(a),d=p.A.create(d),c=p.nc.create(p.A.create(c)),e.qR(a,c,d))?e:null};p.AD=-1;p.Vm=0;p.mt=1;p.lt=2;p.nP=function(a){var c=p.ga.d();return(c.ja+c.pa)/2*a/160};p.RK=p.ra.extend({BT:function(){},CT:function(){}});
p.Sh=p.mc.extend({wZ:0,gZ:0,eZ:0,Jb:null,di:p.lt,fi:!1,aM:null,Da:null,Hg:!1,Au:null,Du:null,Fp:!1,Ip:!1,Dq:null,fo:null,Zq:0,Ig:null,uh:null,OE:0,ME:0,xq:null,Tz:!1,rF:null,ctor:function(){p.mc.prototype.ctor.call(this);this.aM=new p.pg(0,0);this.Au=new p.pg(0,0);this.Du=new p.pg(0,0);this.Dq=new p.pg(0,0);this.fo=new p.pg(0,0);this.Ig=[];this.uh=new p.Sj(0,0);this.xq=new p.Kf(0,0,0,0);this.rF=new p.Kf(0,0,0,0)},q:function(){return this.Er(p.size(200,200),null)},pw:function(){p.TB(this.wk,!1,this)},
Er:function(a,c){var d=p.a(0,0);return p.mc.prototype.q.call(this)?(this.Da=c,this.Da||(this.Da=p.mc.create(),this.Da.xi(!1),this.Da.la(d)),this.II(a),this.Lb(!0),this.Ig.length=0,this.Jb=null,this.Ip=this.Fp=!0,this.di=p.lt,this.Da.C(d),this.Zq=0,this.s(this.Da),this.OE=this.ME=1,!0):!1},Qo:function(a,c){if(c)this.QT(a,0.15);else{if(!this.Fp){var d=this.Nr(),e=this.dw();a.x=Math.max(d.x,Math.min(e.x,a.x));a.y=Math.max(d.y,Math.min(e.y,a.y))}this.Da.C(a)}},aQ:function(){var a=this.Da.p;return p.a(a.x,
a.y)},QT:function(a,c){var d=p.ct.create(c,a),e=p.fp.create(this.fO,this);this.Da.sw(p.Ni.create(d,e));this.sd(this.xz)},OI:function(a,c){if(c)this.SU(a,0.15);else{var d=this.Da;if(d.eB()!=a){var e,f;0==this.Zq?(f=this.uh,f=p.a(0.5*f.width,0.5*f.height),f=this.Ak(f)):f=this.fo;e=d.hb(f);d.Ij(Math.max(this.OE,Math.min(this.ME,a)));e=d.Ak(e);f=p.dd(f,e);this.Qo(p.Cf(d.p,f))}}},NG:function(){return this.Da.eB()},SU:function(a,c){if(0<c){var d=this.Da.eB();d!=a&&(d=p.Nm.create(c,"zoomScale",d,a),this.sw(d))}else this.OI(a)},
Nr:function(){var a=this.Da,c=a.f(),d=this.uh;return p.a(d.width-c.width*a.ja,d.height-c.height*a.pa)},dw:function(){return p.a(0,0)},R4:function(a){var c=this.aQ(),d=this.uh,e=this.NG(),c=p.rect(-c.x/e,-c.y/e,d.width/e,d.height/e);return p.OS(c,a.Wa())},pause:function(){this.Da.iw();for(var a=this.Da.o,c=0;c<a.length;c++)a[c].iw()},VH:function(){for(var a=this.Da.o,c=0,d=a.length;c<d;c++)a[c].rw();this.Da.rw()},H4:function(){return this.fi},j5:function(){return this.Hg},A4:function(){return this.Fp},
J7:function(a){this.Fp=a},T3:function(){return this.uh},II:function(a){this.uh=a;p.I.prototype.ea.call(this,a)},X0:function(){return this.Da},R7:function(a){a&&(this.Lh(!0),this.Da=a,a.xi(!1),a.la(0,0),this.s(a),this.II(this.uh))},k1:function(){return this.di},WT:function(a){this.di=a},Vb:function(){return this.Jb},Xg:function(a){this.Jb=a},Ib:function(a){if(!this.va)return!1;var c=this.ez(),d=this.Da,e=d.Ak(d.wh(a)),f=this.Ig;if(2<f.length||this.Hg||!p.Eb(c,e))return!1;f.push(a);1===f.length?(this.fo=
this.wh(a),this.Hg=!1,this.fi=!0,this.Dq.x=0,this.Zq=this.Dq.y=0):2==f.length&&(this.fo=p.KB(this.wh(f[0]),this.wh(f[1])),this.Zq=p.HB(d.wh(f[0]),d.wh(f[1])),this.fi=!1);return!0},cd:function(a){if(this.va)if(1===this.Ig.length&&this.fi){this.Hg=!0;var c=this.ez(),d=this.wh(a);a=p.dd(d,this.fo);var e=0,f=this.di,e=f===p.mt?a.y:f===p.Vm?a.x:Math.sqrt(a.x*a.x+a.y*a.y);if(this.Hg||!(0.04375>Math.abs(p.nP(e))))if(this.Hg||(a.x=0,a.y=0),this.fo=d,this.Hg=!0,p.Eb(c,this.Ak(d))){switch(f){case p.mt:a.x=
0;break;case p.Vm:a.y=0}d=this.Da.p;c=d.x+a.x;d=d.y+a.y;this.Dq=a;this.Qo(p.a(c,d))}}else 2!==this.Ig.length||this.fi||(a=p.HB(this.Da.wh(this.Ig[0]),this.Da.wh(this.Ig[1])),this.OI(this.NG()*a/this.Zq))},De:function(){this.va&&(1==this.Ig.length&&this.Hg&&this.sd(this.Ey),this.Ig.length=0,this.Hg=this.fi=!1)},Ej:function(){this.va&&(this.Ig.length=0,this.Hg=this.fi=!1)},ea:function(a,c){null!=this.Da&&(2===arguments.length?this.Da.ea(a,c):this.Da.ea(a),this.sV())},f:function(){return this.Da.f()},
sV:function(){if(null!=this.Da){var a=this.uh,c=this.dw();this.Au.x=c.x+0.2*a.width;this.Au.y=c.y+0.2*a.height;c=this.Nr();this.Du.x=c.x-0.2*a.width;this.Du.y=c.y-0.2*a.height}},C4:function(){return this.Ip},P7:function(a){this.Ip=a},fa:function(a){if(this.va){a=a||p.M;var c,d=this.o,e,f;if(p.ed===p.Hf){a.save();this.transform(a);this.cE(a);if(d&&0<d.length){f=d.length;this.vd();for(c=0;c<f;c++)if((e=d[c])&&0>e.Pa)e.fa(a);else break;for(this.Ia(a);c<f;c++)d[c].fa(a)}else this.Ia(a);this.aE();a.restore()}else{p.Go();
var g=this.ek;g&&g.Co()&&(g.KA(),this.Tw());this.transform(a);this.cE(a);if(d&&0<d.length){f=d.length;for(c=0;c<f;c++)if((e=d[c])&&0>e.Pa)e.fa();else break;for(this.Ia(a);c<f;c++)d[c].fa()}else this.Ia(a);this.aE(a);g&&g.Co()&&g.GA(this);p.Fo()}}},s:function(a,c,d){if(!a)throw Error("child must not nil!");c=c||a.Pa;d=d||a.Sc;a.xi(!1);a.la(0,0);this.Da!=a?this.Da.s(a,c,d):p.mc.prototype.s.call(this,a,c,d)},Lb:function(a){p.mc.prototype.Lb.call(this,a);a||(this.Hg=this.fi=!1,this.Ig.length=0)},aZ:function(){return null},
hN:function(a){var c=this.Nr(),d=this.dw(),e=this.di,f=this.Da.p,g=f.x,h=f.y;if(e===p.lt||e===p.Vm)g=Math.max(g,c.x),g=Math.min(g,d.x);if(e==p.lt||e==p.mt)h=Math.min(h,d.y),h=Math.max(h,c.y);h==f.y&&g==f.x||this.Qo(p.a(g,h),a)},Ey:function(){if(this.fi)this.kg(this.Ey);else{var a,c;a=this.Da.p;var d=this.Dq;this.Da.C(a.x+d.x,a.y+d.y);this.Fp?(a=this.Au,c=this.Du):(a=this.dw(),c=this.Nr());var e=this.Da.p.w,f=this.Da.p.G;d.x*=0.95;d.y*=0.95;this.Qo(p.a(e,f));if(1>=Math.abs(d.x)&&1>=Math.abs(d.y)||
f>a.y||f<c.y||e>a.x||e<c.x||e==a.x||e==c.x||f==a.y||f==c.y)this.kg(this.Ey),this.hN(!0)}},xz:function(){this.fi&&this.kg(this.xz)},fO:function(){this.kg(this.xz)},cE:function(a){if(this.Ip){this.Tz=!1;var c=this.ez(),d=p.ga.d(),e=this.ja,f=this.pa;a=a||p.M;if(p.ed===p.Hf)c=this.uh.width*e*d.ja,d=this.uh.height*f*d.pa,a.beginPath(),a.rect(0,0,c,-d),a.clip(),a.closePath();else if(d=p.ga.d(),d.DR()){if(this.Tz=!0,this.xq=d.AQ(),p.NS(c,this.xq)){var g=this.xq;a=Math.max(c.x,g.x);f=Math.max(c.y,g.y);e=
Math.min(c.x+c.width,g.x+g.width);c=Math.min(c.y+c.height,g.y+g.height);d.jC(a,f,e-a,c-f)}}else a.enable(a.SCISSOR_TEST),d.jC(c.x,c.y,c.width,c.height)}},aE:function(a){this.Ip&&p.ed===p.Tj&&(this.Tz?(a=this.xq,p.ga.d().jC(a.x,a.y,a.width,a.height)):(a=a||p.M,a.disable(a.SCISSOR_TEST)))},ZY:function(){},ez:function(){for(var a=this.Ak(p.Mi()),c=this.uh,d=this.ja,e=this.pa,f=this.X;null!=f;f=f.getParent())d*=f.ja,e*=f.pa;0>d&&(a.x+=c.width*d,d=-d);0>e&&(a.y+=c.height*e,e=-e);f=this.rF;f.x=a.x;f.y=
a.y;f.width=c.width*d;f.height=c.height*e;return f}});p.Sh.create=function(a,c){var d=new p.Sh;if(2==arguments.length){if(d&&d.Er(a,c))return d}else if(d&&d.q())return d;return null};p.SK=p.ra.extend({zw:function(){},Ah:function(){return 0}});p.TK=p.SK.extend({sz:0,ctor:function(){this.sz=0},zw:function(a){this.sz=a},Ah:function(){return this.sz}});function ka(a,c){return a.Ah()-c.Ah()}
p.ax=p.ra.extend({Dg:null,ctor:function(){this.Dg=[]},bH:function(a){if(!a)throw"cc.ArrayForObjectSorting.insertSortedObject(): addObject should be non-null.";this.tR(a,this.Bo(a))},jT:function(a){if(0!=this.count()){var c=this.Bo(a);c<this.count()&&c!=p.Rh&&this.nm(c).Ah()==a.Ah()&&this.WB(c)}},G8:function(a,c){var d=this.Bo(c);if(d<this.count()&&d!=p.Rh){var e=this.nm(d);e.Ah()==c.Ah()&&(this.WB(d),e.zw(a),this.bH(e))}},tH:function(a){if(0==this.count())return null;var c=new p.TK;c.zw(a);var d=
this.Bo(c);d<this.count()&&d!=p.Rh&&(c=this.nm(d),c.Ah()!=a&&(c=null));return c},n2:function(){return null},Bo:function(a){var c=0;if(a){var d=0;a=a.Ah();for(var e=this.Dg,f=0;f<e.length;f++){var g=e[f].Ah();if(a==g||a>=d&&a<g)break;d=g;c++}}else c=p.Rh;return c},count:function(){return this.Dg.length},v5:function(){var a=this.Dg;return 0==a.length?null:a[a.length-1]},nm:function(a){return this.Dg[a]},QF:function(a){this.Dg.push(a);this.Dg.sort(ka)},WB:function(a){p.dp(this.Dg,a);this.Dg.sort(ka)},
tR:function(a,c){this.Dg=p.Wk(this.Dg,a,c);this.Dg.sort(ka)}});p.ED=0;p.VK=1;p.gY=p.I.extend({ej:0,F1:function(){return this.ej},hU:function(a){this.ej=a},reset:function(){this.ej=p.Rh},zw:function(a){this.ej=a},Ah:function(){return this.ej}});p.iY=p.RK.extend({o$:function(){},n$:function(){},p$:function(){},q$:function(){}});p.hY=p.ra.extend({jV:function(a){return this.WO(a)},WO:function(){return p.OK},m$:function(){return null},X5:function(){return 0}});
p.ND=p.Sh.extend({io:null,Yc:null,nn:null,Dy:null,mA:null,Hu:null,Qt:null,pj:null,ctor:function(){p.Sh.prototype.ctor.call(this);this.Hu=p.AD;this.Qt=[]},nL:function(a){var c=0,d=-1;switch(this.di){case p.Vm:a=a.x;break;default:a=a.y}for(var e=this.Qt;d>=c;){var f=0|c+(d-c)/2,g=e[f],h=e[f+1];if(a>=g&&a<=h)return f;a<g?d=f-1:c=f+1}return 0>=c?0:-1},tM:function(a){a={x:a.x,y:a.y};this.io===p.ED&&(a.y=this.Da.f().height-a.y);a=this.nL(a);-1!=a&&(a=Math.max(0,a),-1<a&&(a=p.Rh));return a},qL:function(a){switch(this.di){case p.Vm:a=
p.a(this.Qt[a],0);break;default:a=p.a(0,this.Qt[a])}return a},XM:function(a){var c=this.qL(a);a=this.Dy.jV(this,a);this.io===p.ED&&(c.y=this.Da.f().height-c.y-a.height);return c},tZ:function(){},qA:function(){var a=p.cl();this.ea(a);this.Hu!=this.di&&(this.di==p.Vm?this.Qo(p.a(0,0)):this.Qo(p.a(0,this.Nr().y)),this.Hu=this.di)},PE:function(a){this.nn.QF(a);this.Zj.jT(a);p.xd(this.Yc,a.ej);a.reset();a.getParent()==this.Da&&this.Da.removeChild(a,!0)},Su:function(a,c){c.la(0,0);c.C(this.XM(a));c.hU(a)},
ZD:function(a){a.getParent()!=this.Da&&this.Da.s(a);this.Zj.bH(a);var c=this.Yc;a=a.ej;-1==c.indexOf(a)&&(c.push(a),c.sort(function(a,c){return a-c}))},c1:function(){return this.Dy},UT:function(a){this.Dy=a},Vb:function(){return this.mA},Xg:function(a){this.mA=a},H9:function(a){this.io!=a&&(this.io=a,0<this.Zj.count()&&this.ZS())},Q3:function(){return this.io},Er:function(a,c){return p.Sh.prototype.Er.call(this,a,c)?(this.Zj=new p.ax,this.nn=new p.ax,this.Yc=[],this.mA=null,this.io=p.VK,this.WT(p.mt),
p.Sh.prototype.Xg.call(this,this),!0):!1},E$:function(a){if(!(a==p.Rh||-1<a)){var c=this.OA(a);c&&this.PE(c);c=null;this.Su(a,c);this.ZD(c)}},s4:function(a){if(!(a==p.Rh||-1<a)){var c,d=this.Zj;if(c=d.tH(a))for(var e=c=d.Bo(c);e<d.count();e++)c=d.nm(e),this.Su(c.ej+1,c);c=null;this.Su(a,c);this.ZD(c);this.qA()}},e7:function(a){if(!(a==p.Rh||-1<a)){var c=this.OA(a);if(c){var d=this.Zj,e=d.Bo(c);this.PE(c);p.xd(this.Yc,a);for(a=d.count()-1;a>e;a--)c=d.nm(a),this.Su(c.ej-1,c)}}},ZS:function(){this.Hu=
p.AD;for(var a=this.Zj,c=this.nn,d=this.Da,e=0,f=a.count();e<f;e++){var g=a.nm(e);c.QF(g);g.reset();g.getParent()==d&&d.removeChild(g,!0)}this.Yc=[];this.Zj=new p.ax;this.qA()},H_:function(){if(0===this.nn.count())return null;var a=this.nn.nm(0);this.nn.WB(0);return a},OA:function(a){return-1==this.Yc.indexOf(a)?null:this.Zj.tH(a)},BT:function(){},CT:function(){},De:function(a,c){if(this.va){if(this.pj){var d=this.Wa();d.Oc=this.X.Ak(d.origin);this.pj=null}p.Sh.prototype.De.call(this,a,c)}},Ib:function(a,
c){if(!this.va)return!1;var d=p.Sh.prototype.Ib.call(this,a,c);if(1===this.Ig.length){var e;e=this.Da.wh(a);e=this.tM(e);this.pj=e===p.Rh?null:this.OA(e)}else this.pj&&(this.pj=null);return d},cd:function(a,c){p.Sh.prototype.cd.call(this,a,c);this.pj&&this.Hg&&(this.pj=null)},Ej:function(a,c){p.Sh.prototype.Ej.call(this,a,c);this.pj&&(this.pj=null)}});p.ND.create=function(a,c,d){var e=new p.ND;e.Er(c,d);e.UT(a);e.qA();return e};p.Wb={};p.Wb.NF=function(a){for(var c in p.Wb.CB)a[c]=p.Wb.CB[c]};
p.Wb.CB={C:function(a,c){2==arguments.length?(this.p.w=a,this.p.G=c):(this.p.w=a.x,this.p.G=a.y);this.Ja();this.aa.zC(this.p.w,-this.p.G)},Vo:function(a){this.p.G=a;this.Ja();this.aa.zC(this.p.w,-this.p.G)},xb:function(a){this.p.w=a;this.Ja();this.aa.zC(this.p.w,-this.p.G)},Ij:function(a,c){this.ja=a;this.pa=c||a;this.Ja();this.aa.resize(this.ja,this.pa)},Wo:function(a){this.ja=a;this.Ja();this.aa.resize(this.ja,this.pa)},Dm:function(a){this.pa=a;this.Ja();this.aa.resize(this.ja,this.pa)},la:function(a,
c){var d=this.eh;if(2===arguments.length){if(a===d.w&&c===d.G)return;d.w=a;d.G=c}else{if(a.x===d.w&&a.y===d.G)return;d.w=a.x;d.G=a.y}var e=this.kd,f=this.ia;e.w=f.wa*d.w;e.G=f.ha*d.G;this.aa.style[p.zb.Oo+"TransformOrigin"]=""+e.w+"px "+-e.G+"px";this.hk?(this.aa.style.marginLeft=0,this.aa.style.marginBottom=0):(this.aa.style.marginLeft=this.h5?0:-e.w+"px",this.aa.style.marginBottom=-e.G+"px");this.Ja()},ea:function(a,c){var d=this.ia;if(2===arguments.length){if(a===d.wa&&c===d.ha)return;d.wa=a;d.ha=
c}else{if(a.width===d.wa&&a.height===d.ha)return;d.wa=a.width;d.ha=a.height}var e=this.kd,f=this.eh;e.w=d.wa*f.w;e.G=d.ha*f.G;this.aa.width=d.wa;this.aa.height=d.ha;this.la(this.eh);this.canvas&&(this.canvas.width=d.wa,this.canvas.height=d.ha);this.Ja();this.PS()},Dw:function(a){this.wN!=a&&(this.Wf=this.nh=a,this.Dl=Math.PI/180*this.Wf,this.Cq=Math.PI/180*this.nh,this.Ja(),this.aa.rotate(a))},Hw:function(a){this.Md=a;this.Ja();this.aa.AI(this.Md,this.Nd)},Iw:function(a){this.Nd=a;this.Ja();this.aa.AI(this.Md,
this.Nd)},u:function(a){this.va=a;this.Ja();this.aa&&(this.aa.style.display=a?"block":"none")},Vu:function(a){this.Pa=a;this.Ja();this.aa&&(this.aa.zIndex=a)},as:function(a){this.X=a;null!==a&&(a.la(a.eh),this.Ja(),p.Wb.hw(this))},rw:function(){this.af().zm(this);this.ag().zm(this);this.aa&&!this.aa.parentNode&&(this.getParent()?p.Wb.hw(this):this.aa.$l(p.wj));this.aa&&(this.aa.style.visibility="visible")},iw:function(){this.af().Sr(this);this.ag().Sr(this);this.aa&&(this.aa.style.visibility="hidden")},
wf:function(){this.uC();this.ks();this.Nf(this.o,p.I.kf.wf);this.aa&&this.aa.remove()},fT:function(){this.aa.remove()},V:function(a){this.li=a;this.aa.style.opacity=a/255},PS:function(){if(this.$v){var a=this.o;this.o=[];p.A.prototype.fa.call(this,this.po);this.o=a}else p.A.prototype.fa.call(this,this.po)}};
p.Wb.sN=function(){var a=p.zb("#EGLViewDiv");if(a){var c=p.ga.d(),d=c.uo(),e=c.ze,f=c.Nv(),g=d.width,h=d.height;0===d.width&&0===d.height&&(g=f.width,h=f.height);d=e.Na.width;0===e.Na.width&&0===e.Na.height&&(d=f.width);a.style.position="absolute";a.style.width=g+"px";a.style.maxHeight=h+"px";a.style.margin=0;a.resize(c.ja,c.pa);a.style.left=(d-g)/2+"px";a.style.bottom="0px"}};
p.Wb.hw=function(a){var c=a.getParent();if(c&&a.aa)if(c.aa||(p.Wb.wS(c),c.as=p.Wb.CB.as),a.aa.$l(c.aa),c.la(c.eh),c.getParent())p.Wb.hw(c);else if(c.se)if(a=p.zb("#EGLViewDiv"))c.aa.$l(a);else{a=p.Mj("div");a.id="EGLViewDiv";var d=p.ga.d(),e=d.uo(),f=d.ze,g=d.Nv(),h=e.width,k=e.height;0===e.width&&0===e.height&&(h=g.width,k=g.height);e=f.Na.width;0===f.Na.width&&0===f.Na.height&&(e=g.width);a.style.position="absolute";a.style.width=h+"px";a.style.maxHeight=k+"px";a.style.margin=0;a.resize(d.ja,d.pa);
a.style.left=(e-h)/2+"px";a.style.bottom="0px";c.aa.$l(a);a.$l(p.wj)}};p.Wb.setTransform=function(a){if(a.po)if(a.po.translate(a.kd.x,a.kd.y),a.$v){var c=a.o;a.o=[];p.A.prototype.fa.call(a,a.po);a.o=c}else p.A.prototype.fa.call(a,a.po);a.aa&&(a.aa.position.x=a.p.x,a.aa.position.y=-a.p.y,a.aa.rotation=a.xQ(),a.aa.scale={x:a.ja,y:a.pa},a.aa.Pk={x:a.Md,y:a.Nd},a.la&&a.la(a.eh),a.aa.Im())};
p.Wb.VP=function(a){a.aa=p.Mj("div");a.canvas=p.Mj("canvas");var c=a.f();a.canvas.width=c.width;a.canvas.height=c.height;a.aa.style.position="absolute";a.aa.style.bottom=0;a.po=a.canvas.getContext("2d");a.aa.appendChild(a.canvas);a.getParent()&&p.Wb.hw(a);a.$v=!0};
p.Wb.wS=function(a){a.aa=p.Mj("div");a.placeholder=!0;a.aa.style.position="absolute";a.aa.style.bottom=0;a.aa.style.width=(a.f().width||p.N.d().Cb.width)+"px";a.aa.style.maxHeight=(a.f().height||p.N.d().Cb.height)+"px";a.aa.style.margin=0;p.Wb.setTransform(a);a.aa.Im();p.Wb.NF(a)};
p.Wb.SA=function(a){if(1<arguments.length)p.Wb.SA(arguments);else if(1!=arguments.length||arguments[0].length)for(var c=arguments[0],d=0;d<c.length;d++)c[d]instanceof p.A?c[d].aa||p.Wb.VP(c[d]):p.log("DOM converter only supports sprite and menuitems yet"),p.Wb.NF(c[d]),c[d].fa=function(){},c[d].transform=function(){},p.Wb.setTransform(c[d]),c[d].u(c[d].va);else p.Wb.SA([arguments[0]])};p.eK=0;p.VW=1;p.YW=2;p.XW=3;p.WW=4;p.UJ=0;p.yW=1;p.zW=2;p.AW=3;p.DW=4;p.xW=5;p.BW=6;p.SJ=0;p.TJ=1;p.wW=2;p.vW=3;p.uW=4;p.GW=p.ra.extend({Hv:function(){},Iv:function(){},Jv:function(){},U_:function(){}});
p.jp=p.Zk.extend({ei:null,Jb:null,iM:p.UJ,hM:p.TJ,KM:p.eK,pZ:"",ni:"",dv:null,yq:null,KE:50,AL:18,Ma:null,Vp:14,Qy:"Arial",Ry:!1,yz:"",Ku:14,qZ:!1,ctor:function(a,c){p.Zk.prototype.ctor.call(this);this.Ry=!1;this.dv=p.kb();this.yq=p.yo();this.ea(a);this.ei=new p.A;this.ei.Ia=function(){};this.s(this.ei);var d=this;c?(this.Ma=document.createElement("textarea"),this.Ma.style.resize="none",this.Ry=!0):this.Ma=document.createElement("input");this.Ma.type="text";this.Ma.style.fontSize=this.Vp+"px";this.Ma.style.color=
"#000000";this.Ma.style.border=0;this.Ma.style.background="transparent";this.Ma.style.width="100%";this.Ma.style.height="100%";this.Ma.style.xZ=0;this.Ma.style.outline="medium";this.Ma.addEventListener("input",function(){d.Jb&&d.Jb.Jv&&d.Jb.Jv(d,this.value)});this.Ma.addEventListener("keyup",function(a){a.keyCode===p.dK.RP&&!1==d.Ry&&(a.stopPropagation(),a.preventDefault(),p.canvas.focus())});this.Ma.addEventListener("focus",function(){this.value==d.ni&&(this.value="",this.style.fontSize=d.Vp+"px",
this.style.color=p.zk(d.dv));d.Jb&&d.Jb.Hv&&d.Jb.Hv(d)});this.Ma.addEventListener("blur",function(){""==this.value&&(this.value=d.ni,this.style.fontSize=d.Ku+"px",this.style.color=p.zk(d.yq));d.Jb&&d.Jb.Iv&&d.Jb.Iv(d)});p.Wb.SA(this.ei);this.ei.aa.appendChild(this.Ma);this.ei.aa.N9=!1;this.ei.aa.style.width=a.width-6+"px";this.ei.aa.style.height=a.height-6+"px";this.ei.canvas.remove()},e8:function(a,c){this.Vp=c;this.Qy=a;this.Wz()},I9:function(){},eU:function(a){this.Qy=a;this.Wz()},lI:function(a){this.Vp=
a;this.Wz()},Wz:function(){this.Ma.value!=this.ni&&(this.Ma.style.fontFamily=this.Qy,this.Ma.style.fontSize=this.Vp+"px")},Yg:function(a){null!=a&&(""==a?(this.Ma.value=this.ni,this.Ma.style.color=p.zk(this.yq)):(this.Ma.value=a,this.Ma.style.color=p.zk(this.dv)))},dU:function(a){this.dv=a;this.Ma.value!=this.ni&&(this.Ma.style.color=p.zk(a))},z8:function(a){!isNaN(a)&&0<a&&(this.KE=a,this.Ma.maxLength=a)},W1:function(){return this.KE},P8:function(a){if(null!=a){var c=this.ni;this.ni=a;this.Ma.value==
c&&(this.Ma.value=a,this.Ma.style.color=p.zk(this.yq),this.Tu())}},Q8:function(a,c){this.yz=a;this.Ku=c;this.Tu()},S8:function(a){this.yz=a;this.Tu()},T8:function(a){this.Ku=a;this.Tu()},Tu:function(){this.Ma.value==this.ni&&(this.Ma.style.fontFamily=this.yz,this.Ma.style.fontSize=this.Ku+"px")},R8:function(a){this.yq=a;this.Ma.value==this.ni&&(this.Ma.style.color=p.zk(a))},m8:function(a){this.hM=a;this.Ma.type=a==p.SJ?"password":"text"},ka:function(){return this.Ma.value},mR:function(a,c){return this.UG(c)?
(this.ei.C(3,3),this.RU(!1),this.Hj(a),this.C(0,0),this.$D(this,this.lV,p.OC),!0):!1},Xg:function(a){this.Jb=a},E2:function(){return this.ni},n8:function(a){this.iM=a},h9:function(a){this.KM=a},p5:function(a){var c=p.jp.Ud(this);c.y-=4;c.w4(a.end)?this.AL=a.end.a2()-c.d2():p.log("needn't to adjust view layout.")},n5:function(){},o5:function(){},m5:function(){},lV:function(){},RA:function(a){a=a.toString(16);return 1==a.length?"0"+a:a},sT:function(a,c,d){return"#"+this.RA(a)+this.RA(c)+this.RA(d)},
bI:function(a){this.Ma.style.background=this.sT(a.i,a.h,a.g)},n4:function(a,c){this.gM=a.width;this.aa.style.width=this.gM.toString()+"px";this.fM=a.height;this.aa.style.height=this.fM.toString()+"px";this.aa.style.backgroundColor=p.zk(c)}});p.jp.Ud=function(a){var c=a.f(),c=p.rect(0,0,c.width,c.height);return p.qg(c,a.Pr())};p.jp.create=function(a,c,d,e,f){d=new p.jp(a,d);c instanceof p.lc?d.bI(c):d.mR(a,c)&&(e&&d.xw(e,p.QC),f&&d.xw(f,p.PC));return d};var u=[],w=new XMLHttpRequest;w.open("GET","config.txt",!1);w.send(null);var la=w.responseText,ma=la.split("\n")[0],na=la.split("\n")[1];na&&(ma+=":"+na);var pa=io.connect(ma,{"sync disconnect on unload":!0,"connect timeout":5E3,"reconnection delay ":100});pa.on("connect",function(){x.kx();x.UK();console.log("Client has connected to the server!");if(y){var a=y.d().Tc;a?a.Em(!0):u.push(JSON.stringify({connect:!0}))}else u.push(JSON.stringify({connect:!0}))});pa.on("message",function(a){reactToSocketMessage(a)});
reactToSocketMessage=function(a){a=JSON.parse(a);var c=!1,d;for(d in a){c=!0;break}if(!1!=c)if(console.log("Received a message from the server!",a),a.sync)a.mapdata&&x.iJ(a.mapdata,a.maptime),a.warpdata&&x.CC(a.warpdata,a.warptime),a.itemdata&&x.ms(a.itemdata,a.itemtime),a.skillsdata&&x.AC(a.skillsdata,a.skillstime),a.signsdata&&x.Vw(a.signsdata,a.signstime),a.npcsdata&&x.jJ(a.npcsdata,a.npcstime);else if(c=y.d().Tc)if(a.connect?c.Em(!0):a.disconnect&&c.Em(!1),"Game"==c.Be())if(a.newPlayer)C.FO(a.newPlayer);
else if(a.playerLeft)C.Bh(a.playerLeft).gg==C.e.oa.gg&&(MapMaster=!1),C.dG(a.playerLeft);else if(a.changemap){for(c=0;c<u.length;c++)d=JSON.parse(u[c]),d.moveTo&&d.id==a.id&&(console.log("REMOVIN"),u.splice(c,1),c--);C.Bh(a.id).gg==C.e.oa.gg&&(MapMaster=!1);C.$O(a.id,a.changemap);C.FH(a.id,a.setTo)}else a.setTo?!C.Bh(a.id)||C.Bh(a.id)&&!1==C.Bh(a.id).Rg?C.FH(a.id,a.setTo):u.push(JSON.stringify(a)):a.moveTo?!C.Bh(a.id)||C.Bh(a.id)&&!1==C.Bh(a.id).Rg?C.VR(a.id,a.moveTo):u.push(JSON.stringify(a)):a.chatMessage?
D.Ub(a.chatMessage):a.coinflip?D.Ub(a.coinflip):a.diceroll?D.Ub(a.diceroll):a.dance?D.Ub(a.dance):a.afk?C.aP(a.afk):a.savemap?(x.YO(a.savemap,a.mapdata,a.updatetime),G.UU(a.mapdata)):a.mapmaster?MapMaster=!0:a.savewarps?(x.eP(parseInt(a.savewarps),a.warpdata,a.updatetime),ObjectLists.fm()[parseInt(a.savewarps)]=a.warpdata,Warpeditor&&(Warpeditor.Gc=ObjectLists.fm(),Warpeditor.Sa())):a.savewarpswhole?(x.US(a.savewarpswhole,a.updatetime),ObjectLists.QU(a.savewarpswhole)):a.saveskills?(x.cP(parseInt(a.saveskills),
a.skillsdata,a.updatetime),ObjectLists.xo()[parseInt(a.saveskills)]=a.skillsdata,Skillseditor&&(Skillseditor.Gc=ObjectLists.xo(),Skillseditor.Sa()),ua.update(),Skills&&Skills.hf()):a.saveskillswhole?(x.TS(a.saveskillswhole,a.updatetime),ObjectLists.HU(a.saveskillswhole),ua.update(),Skills&&Skills.hf()):a.savesigns?(x.bP(parseInt(a.savesigns),a.signsdata,a.updatetime),ObjectLists.vr()[parseInt(a.savesigns)]=a.signsdata,Signeditor&&(Signeditor.Gc=ObjectLists.vr(),Signeditor.Sa())):a.moveNPC?(a.npcID=
parseInt(a.npcID),!C.ur(a.npcID)||C.ur(a.npcID)&&!1==C.ur(a.npcID).Rg?C.UR(a.npcID,a.moveNPC,a.mapnumber):u.push(JSON.stringify(a))):a.changeNPCPosition?(a.npcID=parseInt(a.npcID),C.ur(a.npcID)&&!1==C.ur(a.npcID).Rg?C.mT(a.npcID,a.changeNPCPosition):u.push(JSON.stringify(a))):a.savesignswhole?(x.SS(a.savesignswhole,a.updatetime),ObjectLists.GU(a.savesignswhole)):a.savenpcs?(x.ZO(parseInt(a.savenpcs),a.npcsdata,a.updatetime),ObjectLists.Ck()[parseInt(a.savenpcs)]=a.npcsdata,G.Sv(G.e.Ac,!0),NPCeditor&&
(NPCeditor.Gc=ObjectLists.Ck(),NPCeditor.Sa())):a.savenpcswhole?(x.RS(a.savenpcswhole,a.updatetime),ObjectLists.qU(a.savenpcswhole),G.Sv(G.e.Ac,!0),NPCeditor&&(NPCeditor.Gc=ObjectLists.Ck(),NPCeditor.Sa())):a.saveitems?(x.XO(parseInt(a.saveitems),a.itemdata,a.updatetime),c=ObjectLists.ui()[parseInt(a.saveitems)].name,ObjectLists.ui()[parseInt(a.saveitems)]=a.itemdata,G.Sv(G.e.Ac),Itemeditor&&(Itemeditor.Gc=ObjectLists.ui(),Itemeditor.Sa()),Inventory&&Inventory.hf(),C.e.oa.ms(c,a.itemdata)):a.droppeditem?
a.mapnumber==G.e.Ac&&!1==G.d().Ek?(c=G.JG(a.index),c.EO(a.droppeditem),G.ns()):u.push(JSON.stringify(a)):a.pickupitem?a.mapnumber==G.e.Ac&&(c=G.JG(a.pickupitem),c.MB(),G.ns()):a.saveitemswhole&&(x.QS(a.saveitemswhole,a.updatetime),ObjectLists.iU(a.saveitemswhole));else"Login"==c.Be()&&(a.login_success?c.$R():a.login_fail&&c.GB(a.login_fail));else u.push(JSON.stringify(a))};pa.on("disconnect",function(){console.log("The client has disconnected!");var a=y.d().Tc;a?a.Em(!1):u.push(JSON.stringify({disconnect:!0}))});
function H(a){pa.send(JSON.stringify(a))};var J=Object.freeze({Uc:{cG:"C to popup/dismiss, enter for chat. Say /help for help.",xR:"Welcome to the Powder Engine! Enter /help for some help.",eR:"-------HELP------",dR:" - Press C to expand the chat, I for Inventory",cR:" - Space to grab Items and E for Equipment.",bR:" - Enter /commands for command list",aR:"-------------------",kP:"--COMMANDS--",jP:" - /editmap, /editwarp, /edititems, /editskills",iP:" - /dance, /coinflip, /diceroll, /afk",hP:"--------------------",NB:" has joined the game!",
xS:" has left the game!",CH:"Picked up ",MP:"Dropped ",yR:"Your inventory is full"}});var M={},va=p.hd.d();p.Ji.d();va.zI(["res/Graphics"]);w=new XMLHttpRequest;w.open("GET","res/Graphics/tile_graphics.txt",!1);w.send(null);var la=w.responseText,wa=la.split(","),O=[],za;for(za in wa)O.push({name:wa[za],texture:p.Qa.d().fc(wa[za])});w=new XMLHttpRequest;w.open("GET","res/Graphics/character_graphics.txt",!1);w.send(null);var la=w.responseText,wa=la.split(","),P=[];for(za in wa)P.push({name:wa[za],texture:p.Qa.d().fc(wa[za])});
document.getElementById("gameCanvas").onkeydown=function(a){a.preventDefault();M[a.keyCode]=!0};window.onbeforeunload=function(){H({disconnect:!0})};window.onfocus=function(){for(var a=[],c=u.length-1;0<=c;c--){var d=JSON.parse(u[c]);d.moveTo&&!a[d.id]?(a[d.id]=!0,d.setTo=d.moveTo,d.moveTo=null,u[c]=JSON.stringify(d)):d.moveTo&&a[d.id]&&u.splice(c,1)}};var Q=p.t(255,255,255,255),R=p.t(0,255,0,255),S=p.t(255,0,0,255);
document.getElementById("gameCanvas").onkeyup=function(a){M[a.keyCode]=!1;if(null!=y.d().Tc){a.stopPropagation();var c=null;switch(a.keyCode){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";
break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a.keyCode&&58>a.keyCode||64<a.keyCode&&91>a.keyCode)&&(c=String.fromCharCode(a.keyCode));null!=c&&y.d().Tc.ew(c)}};function T(a,c){return(a.hH&&a.va||!a.hH)&&p.Eb(p.rect(a.p.w,a.p.G,a.f().width,a.f().height),c)}function Aa(a){var c={},d;for(d in a)c[d]=a[d]&&"object"==typeof a[d]?Aa(a[d]):a[d];return c}
isMobile=function(){var a=!1,c=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(c)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(c.substr(0,
4)))a=!0;return a};function Ba(a,c){var d=c?a:a.Ce();return Ca(d,"panels")}
function Ca(a,c,d){c=d?d[c]:a[c];"undefined"!=typeof c.CR?d=Da.kx(c.kV):"undefined"!=typeof c.m?(d=c.size?c.size:p.size(100,100),d=p.Pb.create(c.m,d.width,d.height)):d="undefined"!=typeof c.$v?p.A.create():"undefined"!=typeof c.bc?p.A.od(p.Qa.d().fc(c.bc)):"undefined"!=typeof c.label?p.W.create(c.label,c.font?c.q0:"Arial",c.fontSize?c.fontSize:14):p.I.create();"undefined"!=typeof c.size&&d.ea(Math.floor(c.size.width),Math.floor(c.size.height));"undefined"!=typeof c.position&&d.C(p.a(Math.floor(c.position.x),
Math.floor(c.position.y)));"undefined"!=typeof c.visible&&d.u(c.visible);"undefined"!=typeof c.c&&d.la(c.c);"undefined"!=typeof c.opacity&&d.V(c.opacity);"undefined"!=typeof c.color&&d.l(c.color);if("undefined"!=typeof c.children)for(var e in c.children)d[e]=Ca(a,e,c.children),d.s(d[e]);return d}var Ea=p.size(960,640),Ia=Math.floor(Ea.height/32),U=Math.floor(Ea.width/32);function V(a,c){return parseInt(U*(Ia-c))+parseInt(a)};var x=p.ra.extend({e:null,jc:function(a){return(a=t.localStorage.getItem("last_"+a))?a:null},So:function(a,c){return(c=t.localStorage.setItem("last_"+a,c))?c:null}});x.kx=function(){this.e||(this.e=new x);return this.e};x.d=function(){return this.e};x.iQ=function(a){if(this.e.jc("maps")){if(a){var c=JSON.parse(t.localStorage.getItem("map_data"));return c[a]?c[a]:null}}else return[]};x.iJ=function(a,c){this.e.So("maps",c);t.localStorage.setItem("map_data",JSON.stringify(a))};
x.YO=function(a,c,d){var e=this.e.jc("maps")?JSON.parse(t.localStorage.getItem("map_data")):[];e[a]=c;x.iJ(e,d)};x.KQ=function(){if(this.e.jc("warps")){if(""!=t.localStorage.getItem("warps_data"))var a=JSON.parse(t.localStorage.getItem("warps_data"));return a?a:[]}return[]};x.CC=function(a,c){this.e.So("warps",c);t.localStorage.setItem("warps_data",JSON.stringify(a))};
x.eP=function(a,c,d){var e=this.e.jc("warps")?""!=t.localStorage.getItem("warps_data")?JSON.parse(t.localStorage.getItem("warps_data")):[]:[];e[a]=c;x.CC(e,d)};x.US=function(a,c){warparray=a;x.CC(warparray,c)};x.gQ=function(){if(this.e.jc("items")){if(""!=t.localStorage.getItem("items_data"))var a=JSON.parse(t.localStorage.getItem("items_data"));return a?a:[]}return[]};x.ms=function(a,c){this.e.So("items",c);t.localStorage.setItem("items_data",JSON.stringify(a))};
x.XO=function(a,c,d){var e=this.e.jc("items")?""!=t.localStorage.getItem("items_data")?JSON.parse(t.localStorage.getItem("items_data")):[]:[];e[a]=c;x.ms(e,d)};x.QS=function(a,c){itemsarray=a;x.ms(itemsarray,c)};x.CQ=function(){if(this.e.jc("skills")){if(""!=t.localStorage.getItem("skills_data"))var a=JSON.parse(t.localStorage.getItem("skills_data"));return a?a:[]}return[]};x.AC=function(a,c){this.e.So("skills",c);t.localStorage.setItem("skills_data",JSON.stringify(a))};
x.cP=function(a,c,d){var e=this.e.jc("skills")?""!=t.localStorage.getItem("skills_data")?JSON.parse(t.localStorage.getItem("skills_data")):[]:[];e[a]=c;x.AC(e,d)};x.TS=function(a,c){skillarray=a;x.AC(skillarray,c)};x.BQ=function(){if(this.e.jc("signs")){if(""!=t.localStorage.getItem("signs_data"))var a=JSON.parse(t.localStorage.getItem("signs_data"));return a?a:[]}return[]};x.Vw=function(a,c){this.e.So("signs",c);t.localStorage.setItem("signs_data",JSON.stringify(a))};
x.bP=function(a,c,d){var e=this.e.jc("signs")?""!=t.localStorage.getItem("signs_data")?JSON.parse(t.localStorage.getItem("signs_data")):[]:[];e[a]=c;x.Vw(e,d)};x.SS=function(a,c){signarray=a;x.Vw(signarray,c)};x.pQ=function(){if(this.e.jc("npcs")){if(""!=t.localStorage.getItem("npcs_data"))var a=JSON.parse(t.localStorage.getItem("npcs_data"));return a?a:[]}return[]};x.jJ=function(a,c){this.e.So("npcs",c);t.localStorage.setItem("npcs_data",JSON.stringify(a))};
x.ZO=function(a,c,d){var e=this.e.jc("npcs")?""!=t.localStorage.getItem("npcs_data")?JSON.parse(t.localStorage.getItem("npcs_data")):[]:[];e[a]=c;x.jJ(e,d)};x.RS=function(a,c){npcsarray=a;x.Vw(npcsarray,c)};
x.eW=function(){t.localStorage.setItem("map_data",[]);t.localStorage.setItem("last_maps",0);t.localStorage.setItem("warps_data",[]);t.localStorage.setItem("last_warps",0);t.localStorage.setItem("items_data",[]);t.localStorage.setItem("last_items",0);t.localStorage.setItem("skills_data",[]);t.localStorage.setItem("last_skills",0);t.localStorage.setItem("signs_data",[]);t.localStorage.setItem("last_signs",0);t.localStorage.setItem("npcs_data",[]);t.localStorage.setItem("last_npcs",0)};
x.UK=function(){H({sync:!0,mapupdate:null!=this.e.jc("maps")?this.e.jc("maps"):2,warpupdate:null!=this.e.jc("warps")?this.e.jc("warps"):2,itemupdate:null!=this.e.jc("items")?this.e.jc("items"):2,skillsupdate:null!=this.e.jc("skills")?this.e.jc("skills"):2,signsupdate:null!=this.e.jc("signs")?this.e.jc("signs"):2,npcsupdate:null!=this.e.jc("npcs")?this.e.jc("npcs"):2})};x.lU=function(a){!0!=a&&!1!=a||t.localStorage.setItem("mapedit_saveonexit",a)};
x.jQ=function(){return null==t.localStorage.getItem("mapedit_saveonexit")?!1:t.localStorage.getItem("mapedit_saveonexit")};var Da=p.I.extend({Xd:null,Yd:null,Zd:null,ce:null,de:null,qd:null,item:null,Pd:null,Qd:null,Sd:null,Rd:null,position:null,Ie:null,type:null,Xa:null,ctor:function(){this._super()},q:function(){this._super();this.Ie=p.W.create("","Arial",16);this.Ie.la(0.5,0.5);this.Ie.C(16,-16);this.Ie.V(0);this.Ie.l(p.k(0,0,0));this.s(this.Ie,900);this.item=[];this.Xa=[];this.Fi(0)},EO:function(a){this.Gj(a.sprite.texture,a.sprite.position,"item");for(var c=0;c<ObjectLists.ui().length;c++)if(a.name==ObjectLists.ui()[c].name){this.Gw({id:c,
data:{amount:a.amount}},!0);break}this.Fi(4)},MB:function(){this.Xa[this.Xa.length-1].temp&&(this.item[this.item.length-1].P(),this.item.splice(this.item.length-1,1),this.zS())},Gj:function(a,c,d){a=p.A.od(p.Qa.d().fc(a));a.jb(p.rect(Math.floor(32*c.x),Math.floor(32*c.y),32,32));a.l(p.t(255,255,255,255));a.la(0,1);switch(d){case "ground1":null!=this.Xd&&this.Xd.P();this.Xd=a;this.s(this.Xd);break;case "ground2":null!=this.Yd&&this.Yd.P();this.Yd=a;this.s(this.Yd,1);break;case "groundShadow":null!=
this.Zd&&this.Zd.P();this.Zd=a;this.s(this.Zd,2);break;case "mask1":null!=this.ce&&this.ce.P();this.ce=a;this.s(this.ce,3);break;case "mask2":null!=this.de&&this.de.P();this.de=a;this.s(this.de,4);break;case "mask3":null!=this.qd&&this.qd.P();this.qd=a;this.s(this.qd,5);break;case "item":this.item.push(a);this.s(this.item[this.item.length-1],6);break;case "fringe1":null!=this.Pd&&this.Pd.P();this.Pd=a;this.s(this.Pd,7);break;case "fringe2":null!=this.Qd&&this.Qd.P();this.Qd=a;this.s(this.Qd,8);break;
case "fringeShadow":null!=this.Sd&&this.Sd.P();this.Sd=a;this.s(this.Sd,9);break;case "fringe3":null!=this.Rd&&this.Rd.P(),this.Rd=a,this.s(this.Rd,10)}},eg:function(){var a=!0;if(null!=this.Xd&&this.Xd.Q()&&!1==this.Xd.Q().dc)a=!1;else if(null!=this.Yd&&this.Yd.Q()&&!1==this.Yd.Q().dc)a=!1;else if(null!=this.Zd&&this.Zd.Q()&&!1==this.Zd.y3)a=!1;else if(null!=this.ce&&this.ce.Q()&&!1==this.ce.Q().dc)a=!1;else if(null!=this.de&&this.de.Q()&&!1==this.de.Q().dc)a=!1;else if(null!=this.qd&&this.qd.Q()&&
!1==this.qd.Q().dc)a=!1;else if(0<this.item.length)for(var c in this.item)this.item[c].Q()&&!1==this.item[c].Q().dc&&(a=!1);else null!=this.Pd&&this.Pd.Q()&&!1==this.Pd.Q().dc?a=!1:null!=this.Qd&&this.Qd.Q()&&!1==this.Qd.Q().dc?a=!1:null!=this.Sd&&this.Sd.Q()&&!1==this.Sd.Q().dc?a=!1:null!=this.Rd&&this.Rd.Q()&&!1==this.Rd.Q().dc&&(a=!1);return a},pd:function(){null!=this.Xd&&this.Xd.P();this.Xd=null;null!=this.Yd&&this.Yd.P();this.Yd=null;null!=this.Zd&&this.Zd.P();this.Zd=null;null!=this.ce&&this.ce.P();
this.ce=null;null!=this.de&&this.de.P();this.de=null;null!=this.qd&&this.qd.P();this.qd=null;for(var a=0;a<this.item.length;a++)this.item[a].P();this.item=[];this.qd=null;null!=this.Pd&&this.Pd.P();this.Pd=null;null!=this.Qd&&this.Qd.P();this.Qd=null;null!=this.Sd&&this.Sd.P();this.Sd=null;null!=this.Rd&&this.Rd.P();this.Rd=null;this.Fi(0);this.Xa=[];this.item=[]},VA:function(a){switch(a){case "ground1":null!=this.Xd&&this.Xd.P();this.Xd=null;break;case "ground2":null!=this.Yd&&this.Yd.P();this.Yd=
null;break;case "groundShadow":null!=this.Zd&&this.Zd.P();this.Zd=null;break;case "mask1":null!=this.ce&&this.ce.P();this.ce=null;break;case "mask2":null!=this.de&&this.de.P();this.de=null;break;case "mask3":null!=this.qd&&this.qd.P();this.qd=null;break;case "item":for(a=0;a<this.item.length;a++)this.item[a].P(),this.item[a].splice(a,1),a--;this.item=[];break;case "fringe1":null!=this.Pd&&this.Pd.P();this.Pd=null;break;case "fringe2":null!=this.Qd&&this.Qd.P();this.Qd=null;break;case "fringeShadow":null!=
this.Sd&&this.Sd.P();this.Sd=null;break;case "fringe3":null!=this.Rd&&this.Rd.P(),this.Rd=null}},Fi:function(a){this.type=a;switch(this.type){case 0:this.Ie.Z("");break;case 1:this.Ie.Z("BLK");break;case 2:this.Ie.Z("SPW");break;case 3:this.Ie.Z("WRP");break;case 4:this.Ie.Z("ITM");break;case 5:this.Ie.Z("NPC");break;case 6:this.Ie.Z("SKL");break;case 7:this.Ie.Z("SGN")}},Gw:function(a,c){c||(c=!1);this.Xa.push({num:a.id,data:a.data,temp:c})},zS:function(){this.Xa.splice(this.Xa.length-1,1);0==this.Xa.length&&
this.Fi(0)},DG:function(){return this.Xa[this.Xa.length-1]},CG:function(){switch(this.type){case 3:return ObjectLists.fm()[this.Xa[this.Xa.length-1].num];case 4:var a=ObjectLists.ui()[this.Xa[this.Xa.length-1].num];a.amount=parseInt(this.Xa[this.Xa.length-1].data.amount);return a;case 7:return ObjectLists.vr()[this.Xa[this.Xa.length-1].num];case 5:return ObjectLists.Ck()[this.Xa[this.Xa.length-1].num]}},Ch:function(){switch(this.type){case 3:return ObjectLists.fm()[this.Xa[this.Xa.length-1].num]?
ObjectLists.fm()[this.Xa[this.Xa.length-1].num]:null;case 4:return ObjectLists.ui()[this.Xa[this.Xa.length-1].num]?ObjectLists.ui()[this.Xa[this.Xa.length-1].num]:null;case 5:return ObjectLists.Ck()[this.Xa[this.Xa.length-1].num]?ObjectLists.Ck()[this.Xa[this.Xa.length-1].num]:null}},IU:function(a){this.Ie.V(!0==a?255:0)},Vd:function(){return this.type}});Da.kx=function(a,c){var d=new Da;d.q();d.position=p.a(a,c);return d};StatsController=p.A.extend({data:null,bw:null,S:null,q:function(a,c){this.data=a;this.S=c;this.zT()},update:function(){for(var a in this.data)this.bw&&(0==this.data[a].value&&0<this.bw[a]&&this.S.T9(a),this.data[a].vc>this.bw[a].vc&&this.S.V9(a)),this.bw[a]=this.data[a]},q3:function(a){return this.data[a].value},p3:function(a){return this.data[a].vc},K5:function(a,c){this.data[a].value+=c;this.data[a].value>this.data[a].Af&&(this.data[a].value=this.data[a].Af);0>this.data[a].value&&(this.data[a].value=
0)},dP:function(a,c){this.data[a].value=c;this.data[a].value>this.data[a].Af&&(this.data[a].value=this.data[a].Af);0>this.data[a].value&&(this.data[a].value=0)},J5:function(a,c){this.data[a].vc+=c;this.data[a].vc>this.data[a].zf&&(this.data[a].vc=this.data[a].zf);0>this.data[a].vc&&(this.data[a].vc=0)},dP:function(a,c){this.data[a].vc=c;this.data[a].vc>this.data[a].zf&&(this.data[a].vc=this.data[a].zf);0>this.data[a].vc&&(this.data[a].vc=0)},o_:function(a,c){this.data[a].zf=c},p_:function(a,c){this.data[a].Af=
c}});ObjectLists=p.ra.extend({GC:null,zB:null,tC:null,sC:null,DB:null});var X;ObjectLists.d=function(){X||(X=new ObjectLists,X.GC=x.KQ(),X.zB=x.gQ(),X.tC=x.CQ(),X.sC=x.BQ(),X.DB=x.pQ());return X};ObjectLists.fm=function(){return X.GC};ObjectLists.QU=function(a){X.GC=a};ObjectLists.ui=function(){return X.zB};ObjectLists.iU=function(a){X.zB=a};ObjectLists.xo=function(){return X.tC};ObjectLists.HU=function(a){X.tC=a};ObjectLists.vr=function(){return X.sC};ObjectLists.GU=function(a){X.sC=a};
ObjectLists.Ck=function(){return X.DB};ObjectLists.qU=function(a){X.DB=a};var G=p.mc.extend({e:null,wd:null,v:null,Ek:!1,Jm:null,rm:null,OB:null,hm:null,Bi:null,zi:null,Ai:null,Gh:null,Ac:1,pG:function(a,c){function d(a,c){return{JK:a,value:c.x+c.y*U,x:c.x,y:c.y,Lv:0,h:0}}function e(a,c){var d=c-1,e=c+1,g=a+1,h=a-1,k=-1<d&&f.v["tile"+V(a,d)]&&1!=f.v["tile"+V(a,d)].Vd()&&7!=f.v["tile"+V(a,d)].Vd();myS=e<U&&f.v["tile"+V(a,e)]&&1!=f.v["tile"+V(a,e)].Vd()&&7!=f.v["tile"+V(a,d)].Vd();myE=g<U&&f.v["tile"+V(g,c)]&&1!=f.v["tile"+V(g,c)].Vd()&&7!=f.v["tile"+V(a,d)].Vd();myW=-1<
h&&f.v["tile"+V(h,c)]&&1!=f.v["tile"+V(h,c)].Vd()&&7!=f.v["tile"+V(a,d)].Vd();result=[];k&&result.push({x:a,y:d});myE&&result.push({x:g,y:c});myS&&result.push({x:a,y:e});myW&&result.push({x:h,y:c});return result}for(var f=this,g=d(null,c),h,k,l,m,n,r=[],q=[],v=[d(null,a)],z=Array(Ia*U);h=v.length;){k=Ia*U;l=-1;for(m=0;m<h;m++)v[m].Lv<k&&(k=v[m].Lv,l=m);k=v.splice(l,1)[0];if(k.value===g.value){l=q[q.push(k)-1];do r.push(p.a(l.x,l.y));while(l=l.JK);z=q=v=[];r.reverse()}else{h=e(k.x,k.y);m=0;for(n=h.length;m<
n;m++)l=d(k,h[m]),z[l.value]||(l.h=k.h+(Math.abs(h[m].x-k.x)+Math.abs(h[m].y-k.y)),l.Lv=l.h+(Math.abs(h[m].x-g.x)+Math.abs(h[m].y-g.y)),v.push(l),z[l.value]=!0);q.push(k)}}return r},TU:function(a){this.wd={};this.wd.mapdata={};for(var c in this.v)"tile"==c.substring(0,4)&&(this.v[c].pd(),this.wd[c]={});if(a)for(c in this.wd=a,a)if("tile"==c.substring(0,4))for(var d in a[c])"info"!=d?null!=a[c][d]&&this.v[c].Gj(a[c][d].texture,a[c][d].frame,d):(this.v[c].Fi(a[c][d].type),a[c][d].script&&this.v[c].Gw(a[c][d].script),
4==a[c][d].type&&this.v[c].Ch()&&this.v[c].Gj(this.v[c].Ch().sprite.texture,this.v[c].Ch().sprite.position,"item"),5==a[c][d].type&&this.v[c].Ch()&&C.PF(this.v[c].Ch(),p.a(this.v[c].p.x/32,this.v[c].p.y/32),this.Ac));else"mapdata"==c&&(this.Bi=""!=a[c].mapConnectors.up&&null!=a[c].mapConnectors.up?a[c].mapConnectors.up:null,this.zi=""!=a[c].mapConnectors.down&&null!=a[c].mapConnectors.down?a[c].mapConnectors.down:null,this.Ai=""!=a[c].mapConnectors.left&&null!=a[c].mapConnectors.left?a[c].mapConnectors.left:
null,this.Gh=""!=a[c].mapConnectors.right&&null!=a[c].mapConnectors.right?a[c].mapConnectors.right:null);this.sd(this.SB)},Ok:function(a){C.d().u(!1);a=x.iQ(a);this.wd={};this.wd.mapdata={};for(var c in this.v)"tile"==c.substring(0,4)&&(this.v[c].pd(),this.wd[c]={});if(a)for(c in this.wd=a,a)if("tile"==c.substring(0,4))for(var d in a[c])"info"!=d?null!=a[c][d]&&this.v[c].Gj(a[c][d].texture,a[c][d].frame,d):(this.v[c].Fi(a[c][d].type),a[c][d].script&&this.v[c].Gw(a[c][d].script),4==a[c][d].type&&this.v[c].Ch()&&
this.v[c].Gj(this.v[c].Ch().sprite.texture,this.v[c].Ch().sprite.position,"item"),5==a[c][d].type&&this.v[c].Ch()&&C.PF(this.v[c].Ch(),p.a(this.v[c].p.x/32,this.v[c].p.y/32),this.Ac));else"mapdata"==c&&(this.Bi=""!=a[c].mapConnectors.up&&null!=a[c].mapConnectors.up?a[c].mapConnectors.up:null,this.zi=""!=a[c].mapConnectors.down&&null!=a[c].mapConnectors.down?a[c].mapConnectors.down:null,this.Ai=""!=a[c].mapConnectors.left&&null!=a[c].mapConnectors.left?a[c].mapConnectors.left:null,this.Gh=""!=a[c].mapConnectors.right&&
null!=a[c].mapConnectors.right?a[c].mapConnectors.right:null);this.sd(this.SB)},SB:function(){for(var a in this.v)if("tile"==a.substring(0,4)&&!1==this.v[a].eg())return;C.d().u(!0);C.Jj();this.kg(this.SB);this.rm.u(!0);this.Jm.u(!0);this.Ek=!0},Ce:function(){for(var a={},c=0;c<U;c++)for(var d=0;d<Ia;d++)a["tile"+(c+d*U)]={size:p.size(32,32),c:p.a(0,0),position:p.a(32*c,32*(Ia-d)),CR:!0,kV:p.a(d,c),visible:!1};return{panels:{children:a}}},q:function(){this.Lb(!0);this.EI(1)},Ib:function(a){!this.hm||
Mapeditor&&Mapeditor.X||(this.hm=Mapeditor=null);if(this.hm)for(var c in this.v)"tile"==c.substring(0,4)&&p.Eb(this.v[c].Wa(),p.a(a.$.x,a.$.y+32))&&(this.hm.cJ(this.v,c),G.ns());else for(c in this.v)if("tile"==c.substring(0,4)&&p.Eb(this.v[c].Wa(),p.a(a.$.x,a.$.y+32))){var d=C.e.oa.Og();C.e.oa.KI(this.pG(p.a(Math.floor(d.x),Math.ceil(d.y)),p.a(this.v[c].p.x/32,this.v[c].p.y/32)))}return!0},cd:function(a){if(this.hm){for(var c in this.v)"tile"==c.substring(0,4)&&p.Eb(this.v[c].Wa(),p.a(a.$.x,a.$.y+
32))&&(this.hm.cJ(this.v,c,"moved"),G.ns());return!0}for(c in this.v)if("tile"==c.substring(0,4)&&p.Eb(this.v[c].Wa(),p.a(a.$.x,a.$.y+32))){var d=C.e.oa.Og();C.e.oa.KI(this.pG(p.a(Math.floor(d.x),Math.ceil(d.y)),p.a(this.v[c].p.x/32,this.v[c].p.y/32)))}},fa:function(){this._super();if(!0==this.Ek){this.Jm.LA(0,0,0,0);for(var a in this.v)"tile"==a.substring(0,4)&&(this.v[a].u(!0),null!=this.v[a].Pd&&this.v[a].Pd.u(!1),null!=this.v[a].Qd&&this.v[a].Qd.u(!1),null!=this.v[a].Sd&&this.v[a].Sd.u(!1),null!=
this.v[a].Rd&&this.v[a].Rd.u(!1),this.v[a].fa(),null!=this.v[a].Pd&&this.v[a].Pd.u(!0),null!=this.v[a].Qd&&this.v[a].Qd.u(!0),null!=this.v[a].Sd&&this.v[a].Sd.u(!0),null!=this.v[a].Rd&&this.v[a].Rd.u(!0),this.v[a].u(!1));this.Jm.end();this.rm.LA(0,0,0,0);for(a in this.v)if("tile"==a.substring(0,4)){this.v[a].u(!0);null!=this.v[a].Xd&&this.v[a].Xd.u(!1);null!=this.v[a].Yd&&this.v[a].Yd.u(!1);null!=this.v[a].Zd&&this.v[a].Zd.u(!1);null!=this.v[a].ce&&this.v[a].ce.u(!1);null!=this.v[a].de&&this.v[a].de.u(!1);
null!=this.v[a].qd&&this.v[a].qd.u(!1);for(var c=0;c<this.v[a].item.length;c++)this.v[a].item[c].u(!1);this.v[a].fa();null!=this.v[a].Xd&&this.v[a].Xd.u(!0);null!=this.v[a].Yd&&this.v[a].Yd.u(!0);null!=this.v[a].Zd&&this.v[a].Zd.u(!0);null!=this.v[a].ce&&this.v[a].ce.u(!0);null!=this.v[a].de&&this.v[a].de.u(!0);null!=this.v[a].qd&&this.v[a].qd.u(!0);for(c=0;c<this.v[a].item.length;c++)this.v[a].item[c].u(!0);this.v[a].u(!1)}this.rm.end();this.Ek=!1}}});
G.create=function(){this.e||(this.e=new G,this.e.v=Ba(this.e),this.e.s(this.e.v),this.e.Jm=p.mb.create(Ea.width,Ea.height),this.e.Jm.C(p.a(Math.floor(Ea.width/2),Math.floor(Ea.height/2))),this.e.s(this.e.Jm),this.e.Jm.u(!1),this.e.OB=p.I.create(),this.e.s(this.e.OB),this.e.rm=p.mb.create(Ea.width,Ea.height),this.e.rm.C(p.a(Math.floor(Ea.width/2),Math.floor(Ea.height/2))),this.e.s(this.e.rm),this.e.rm.u(!1),this.e.Jw(-15),this.e.q());return this.e};G.d=function(){return this.e};
G.Zr=function(){this.e.P();this.e=null};G.ns=function(){this.e||(this.e=G.create());this.e.Ek=!0};G.UU=function(a){this.e.TU(a)};G.d=function(){return this.e};G.Gj=function(a,c,d,e){this.e.v[a].Gj(c,d,e);this.e.wd[a][e]={texture:c,frame:d}};G.nJ=function(){H({savemap:this.e.Ac,mapdata:this.e.wd})};G.VA=function(a,c){this.e.wd[a][c]=null;this.e.v[a].VA(c)};G.Ei=function(a,c,d,e){this.e.v[a].Fi(c);d?(this.e.v[a].Gw(d,e),this.e.wd[a].info={type:c,script:{id:d,data:e?e:null}}):this.e.wd[a].info={type:c}};
G.qI=function(a){this.e.wd.mapdata.mapConnectors=a;this.e.Bi=a.up;this.e.zi=a.down;this.e.Ai=a.left;this.e.Gh=a.right};G.TP=function(a,c,d){for(var e in this.e.v)"tile"==e.substring(0,4)&&(this.e.v[e].Gj(a,c,d),this.e.wd[e][d]={texture:a,frame:c})};G.BI=function(a){for(var c in this.e.v)"tile"==c.substring(0,4)&&this.e.v[c].IU(a);this.e.Ek=!0};G.q9=function(){for(var a in this.e.v)"tile"==a.substring(0,4)&&this.e.v[a].Ie.Z(a.substring(4));this.e.Ek=!0};G.QG=function(){return null!=this.e.Bi};
G.OG=function(){return null!=this.e.zi};G.PG=function(){return null!=this.e.Ai};G.kB=function(){return null!=this.e.Gh};G.R1=function(){return this.e.Ac};G.T1=function(){return this.e.Bi};G.P1=function(){return this.e.zi};G.Q1=function(){return this.e.Ai};G.S1=function(){return this.e.Gh};G.Sv=function(a,c){c||(MapMaster=!1);C.d().u(!1);C.AP();G.pd();this.e.Ac=a;C.e.oa.To(a);C.Jj();this.e.Ok(a)};G.PQ=function(){C.d().u(!1);G.pd();this.e.Ac=this.e.Bi;C.e.oa.To(this.e.Bi);C.Jj();this.e.Ok(this.e.Bi)};
G.MQ=function(){C.d().u(!1);G.pd();this.e.Ac=this.e.zi;C.e.oa.To(this.e.zi);C.Jj();this.e.Ok(this.e.zi)};G.NQ=function(){C.d().u(!1);G.pd();this.e.Ac=this.e.Ai;C.e.oa.To(this.e.Ai);C.Jj();this.e.Ok(this.e.Ai)};G.OQ=function(){C.d().u(!1);G.pd();this.e.Ac=this.e.Gh;C.e.oa.To(this.e.Gh);C.Jj();this.e.Ok(this.e.Gh)};G.yw=function(a){this.e.hm=a};G.Rv=function(a,c){return a>U-1||0>a?void 0:this.e.v["tile"+(a+(Ia-c)*U)]};G.JG=function(a){return this.e.v["tile"+a]};G.GO=function(){var a=C.d();this.e.OB.s(a)};
G.pd=function(){this.e.wd={};for(var a in this.e.v)"tile"==a.substring(0,4)&&(this.e.v[a].pd(),this.e.wd[a]={});this.e.wd.mapdata={};this.e.Ek=!0};var C=p.mc.extend({e:null,Ob:[],cf:[],oa:null});C.d=function(){return this.e};C.Zr=function(){this.e.P();this.e=null};C.create=function(a){this.e||(this.e=new C,this.e.oa=PlayerCharacter.create(a),this.e.oa.C(320,320),this.e.s(this.e.oa));return this.e};C.AK=function(){var a=G.e.Ac,c=[],d;for(d in this.e.cf)this.e.cf[d].gg==a&&c.push(this.e.cf[d]);return c};C.ur=function(a){return this.e.cf[a]};C.UR=function(a,c,d){this.e.cf[a]&&"default"!=c&&this.e.oa.gg==d&&this.e.cf[a].rJ(c)};
C.mT=function(a,c){this.e.cf[a]&&"default"!=c&&this.e.cf[a].C(p.a(c%U*32,32*Math.floor(c/U)))};C.AP=function(){for(var a in this.e.cf)this.e.cf[a].P();this.e.cf=[]};C.PF=function(a,c,d){var e=parseInt(this.e.cf.length);this.e.cf.push(NonPlayerCharacter.create({name:a.name,Fm:{health:{vc:1,value:100,Af:200,zf:900},mana:{vc:1,value:100,Af:200,zf:99}},map:d,is:"sprites1.png",gs:2,Fk:e}));this.e.cf[e].C(32*c.x,32*c.y);this.e.s(this.e.cf[e])};C.X3=function(){return this.e.oa};C.Bh=function(a){return this.e.Ob[a]};
C.FO=function(a){this.e.Ob[a]=PlayerCharacter.create({name:a,Fm:{health:{vc:1,value:100,Af:200,zf:900},mana:{vc:1,value:100,Af:200,zf:99}},map:1,is:"sprites1.png",gs:1});this.e.Ob[a].C(320,320);C.Jj();this.e.s(this.e.Ob[a]);D.Ub(a+J.Uc.NB)};C.dG=function(a){if(this.e.Ob[a]){this.e.Ob[a].P();this.e.Ob[a]=null;D.Ub(a+J.Uc.xS);for(var c=0;c<u.length;c++){var d=JSON.parse(u[c]);d.id&&d.id==a&&(u.splice(c,1),c--)}}};
C.VR=function(a,c){this.e.Ob[a]&&"default"!=c?this.e.Ob[a].rJ(c):(this.e.Ob[a]=PlayerCharacter.create({name:a,Fm:{health:{vc:1,value:100,Af:200,zf:900},mana:{vc:1,value:100,Af:200,zf:99}},map:1,is:"sprites1.png",gs:1}),this.e.Ob[a].C(320,320),this.e.Ob[a].C(p.a(c%U*32,32*Math.floor(c/U))),C.Jj(),this.e.s(this.e.Ob[a]),D.Ub(a+J.Uc.NB))};
C.FH=function(a,c){this.e.Ob[a]&&"default"!=c?this.e.Ob[a].C(p.a(c%U*32,32*Math.floor(c/U))):(this.e.Ob[a]=PlayerCharacter.create({name:a,Fm:{health:{vc:1,value:100,Af:200,zf:900},mana:{vc:1,value:100,Af:200,zf:99}},map:1,is:"sprites1.png",gs:1}),this.e.Ob[a].C(p.a(c%U*32,32*Math.floor(c/U))),C.Jj(),this.e.s(this.e.Ob[a]),D.Ub(a+J.Uc.NB))};C.aP=function(a){this.e.Ob[a]&&this.e.Ob[a].updateStatus("AFK")};
C.Jj=function(){var a=this.e.oa.gg,c;for(c in this.e.Ob)null!=this.e.Ob[c]&&this.e.Ob[c].u(this.e.Ob[c].gg==a)};C.pd=function(){for(var a in this.e.Ob)null!=this.e.Ob[a]&&C.dG(a);this.e.oa.P();this.e.oa=null};C.$O=function(a,c){this.e.Ob[a].To(c);this.e.Ob[a].u(this.e.oa.gg==c)};Character=p.A.extend({name:null,Fm:null,aJ:null,TZ:null,Je:null,Rg:!1,mm:null,Ow:null,Do:!1,Fk:-1,status:null,gg:null,path:null,ZA:"DOWN",q:function(a){this.KU(a.is,a.gs);this.Fm=new StatsController(a.U9,this);this.s(this.Fm);this.name=a.name;a.Do&&(this.Do=a.Do);a.map&&(this.gg=a.map);null!=a.Fk&&"undefined"!==a.Fk&&(console.log(this.Fk),this.Fk=a.Fk);this.la(0,1);this.mm=p.W.create("","Arial",12);this.mm.la(0.5,0);this.mm.l(255,0,0);this.mm.C(Math.floor(this.f().width/2),this.f().width+3);this.s(this.mm);
this.kJ()},q1:function(){return this.ZA},To:function(a){this.gg=a},O1:function(){return this.gg},updateStatus:function(a){this.status=a&&a!=this.status?a:null;this.kJ()},kJ:function(){null!=this.status?this.mm.Z(this.name+"-"+this.status):this.mm.Z(this.name)},getName:function(){return this.name},gf:function(a,c,d){this.jb(p.rect(32*a,128*this.aJ.id+32*c,32,32));this.Ow=p.a(a,c);this.ZA=d},Pg:function(){return this.Ow},KU:function(a,c){this.aJ={name:a,id:c};this.ba(p.Qa.d().fc(a));this.gf(1,0)},Og:function(){return p.a(this.p.x/
32,this.p.y/32)},uv:0.24,vV:0.24,Ev:2,xV:function(a){this.C(a.position%U*32,32*Math.floor(a.position/U));H({changemap:a.mapTo,setTo:a.position});G.Sv(a.mapTo)},wR:function(){if(!this.Rg){var a=this.Og(),a=G.Rv(a.x,a.y);switch(a.Vd()){case 4:this.MB(a.CG())}}},vR:function(){if(!this.Rg){var a=this.Og();switch(this.ZA){case "RIGHT":a.x+=1;break;case "LEFT":a.x-=1;break;case "UP":a.y+=1;break;case "DOWN":a.y-=1}if(a=G.Rv(a.x,a.y))switch(a.Vd()){case 7:Ja.YU(a.CG())}}},qs:function(a){this.uv+=a;a=this.p;
var c=this.Pg();this.uv>this.vV&&(this.uv=0,this.Je.x<a.x?this.gf((c.x+1)%3,1,"LEFT"):this.Je.x>a.x?this.gf((c.x+1)%3,2,"RIGHT"):this.Je.y<a.y?this.gf((c.x+1)%3,0,"DOWN"):this.Je.y>a.y&&this.gf((c.x+1)%3,3,"UP"));this.Je.x<a.x?this.xb(a.x-this.Ev):this.Je.x>a.x?this.xb(a.x+this.Ev):this.Je.y<a.y?this.Vo(a.y-this.Ev):this.Je.y>a.y&&this.Vo(a.y+this.Ev);a.y==this.Je.y&&a.x==this.Je.x&&(this.Rg=!1,this.kg(this.qs),null!=this.path&&this.UF())},cp:function(a,c){if(!1!=this.va){var d=G.Rv(a,c),e=this.Ow,
f=this.Og();f.x>a?this.gf(e.x,1,"LEFT"):f.x<a&&this.gf(e.x,2,"RIGHT");f.y>c?this.gf(e.x,0,"DOWN"):f.y<c&&this.gf(e.x,3,"UP");if(!d)this.Do&&null==Mapeditor&&(f.x<a&&G.kB()?(this.C(0,32*c),H({changemap:parseInt(G.e.Gh),setTo:0+c*U}),G.OQ()):f.x>a&&G.PG()&&(this.C(32*(U-1),32*c),H({changemap:parseInt(G.e.Ai),setTo:U-1+c*U}),G.NQ()),f.y<c&&G.QG()?(this.C(32*a,32),H({changemap:parseInt(G.e.Bi),setTo:a+1*U}),G.PQ()):f.y>c&&G.OG()&&(H({changemap:parseInt(G.e.zi),setTo:a+Ia*U}),G.MQ(),this.C(32*a,32*Ia)));
else if(!1==this.Rg&&d){switch(d.Vd()){case 1:case 7:return;case 3:this.xV(d.Ch());return}this.Je=p.a(32*a,32*c);this.Rg=!0;this.sd(this.qs);this.qs(0);this.Do?H({moveTo:this.Je.x/32+this.Je.y/32*U}):-1<this.Fk&&H({npcID:this.Fk+"",mapnumber:this.gg,moveNPC:this.Je.x/32+this.Je.y/32*U})}}},UF:function(){0==this.path.length?this.path=null:(this.path.splice(0,1),0==this.path.length?this.path=null:this.cp(this.path[0].x,this.path[0].y))},KI:function(a){if(null==this.path||0!=a.length)this.path=a,this.UF()},
rJ:function(a){if(!1!=this.va){var c=a%U;a=Math.floor(a/U);if(!1==this.Rg){var d=this.Ow,e=this.Og();4<Math.abs(p.HB(p.a(c,a),e))?this.C(p.a(32*c,32*a)):(e.x>c?this.gf(d.x,1,"LEFT"):e.x<c?this.gf(d.x,2,"RIGHT"):e.y>a?this.gf(d.x,0,"DOWN"):e.y<a&&this.gf(d.x,3,"UP"),this.Je=p.a(32*c,32*a),this.Rg=!0,this.sd(this.qs),this.qs(0))}}}});
PlayerCharacter=Character.extend({items:null,q:function(a){this._super(a);this.items={stored:[],equipped:{}}},ms:function(a,c){for(var d=0;d<this.items.stored.length;d++)this.items.stored[d].name==a&&(this.items.stored[d]=c)},MB:function(a){var c=this.Og(),d=G.Rv(c.x,c.y);if(!0==a.stackable)for(var e=0;40>e;e++)if(this.items.stored[e]&&this.items.stored[e].name==a.name){Inventory&&(this.items.stored[e].amount+=a.amount,Inventory.es(e,this.items.stored[e].amount));D.Ub(J.Uc.CH+a.name);d.DG().temp?
H({pickupitem:V(c.x,c.y),mapnumber:G.e.Ac,temp:!0}):H({pickupitem:V(c.x,c.y),mapnumber:G.e.Ac});return}for(var f=!1,e=0;40>e;e++)if(null==this.items.stored[e]){this.items.stored[e]=Aa(a);Inventory&&Inventory.es(e,this.items.stored[e].amount);D.Ub(J.Uc.CH+a.name);d.DG().temp?H({pickupitem:V(c.x,c.y),mapnumber:G.e.Ac,temp:!0}):H({pickupitem:V(c.x,c.y),mapnumber:G.e.Ac});f=!0;break}!1==f&&D.Ub(J.Uc.yR)},mG:function(a,c){var d=this.Og();D.Ub(J.Uc.MP+this.items[c][a].name);H({droppeditem:this.items[c][a],
mapnumber:G.e.Ac,index:V(d.x,d.y)});!0==this.items[c][a].stackable&&1<this.items[c][a].amount&&Inventory.es(a,0);this.items[c][a]=null;Inventory&&Inventory.hf();Equipment&&Equipment.hf()},tV:function(a){switch(this.items.stored[a].itemType){case "book":null==Book||Book.X||(Itemeditor=null);Book&&(Book.yb(),Book.P(),Book=null);Book=new BookPanel;Book.q(this.items.stored[a]);Book.Sa();this.X.X.X.s(Book);break;case "wearable":this.SP(a)}},SP:function(a){var c=null;this.items.equipped[this.items.stored[a].subType]&&
(c=Aa(this.items.equipped[this.items.stored[a].subType]));this.items.equipped[this.items.stored[a].subType]=Aa(this.items.stored[a]);this.items.stored[a]=c;Inventory&&Inventory.hf();Equipment&&Equipment.hf()},zP:function(a){for(var c=0;40>c;c++)if(null==this.items.stored[c]){this.items.stored[c]=Aa(this.items.equipped[a]);this.items.equipped[a]=null;Inventory&&Inventory.hf();Equipment&&Equipment.hf();return}D.Ub("No space in inventory to dequip this item.")},tr:function(){return this.items.stored},
cB:function(){return this.items.equipped}});PlayerCharacter.create=function(a){var c=new PlayerCharacter;c.q(a);return c};NonPlayerCharacter=Character.extend({F5:null,jw:!1,CU:function(a,c){this.jw=!0;this.td(function(){this.cp(a.x,a.y);this.jw=!1},c)},X4:function(){return this.jw}});NonPlayerCharacter.create=function(a){var c=new NonPlayerCharacter;c.q(a);return c};var Ka=p.mc.extend({aC:null,b:null,ctor:function(){this._super()},sJ:function(){},Em:function(){},Sa:function(){this.b&&this.b.P();this.b=Ba(this);this.s(this.b)},yb:function(){},q:function(){this.EI(1);this.Lb(!0);y.Xr(this);this._super()},FB:function(){p.log("Override onKeyDown in scene extended class to use keyboard")},ew:function(){p.log("Override onKeyUp in scene extended class to use keyboard")},gU:function(a){this.aC=a},Be:function(){return this.aC}});Popup=Ka.extend({df:null,Dh:!1,q:function(){this.aC=this.Be();this._super();y.Xr(this);this.VU();this.Jw(-50)},X_:function(){this.P()},Ib:function(a){var c=a.$;y.Xr(this);c=this.b.control_panel.hb(c);if(p.Eb(p.rect(this.b.control_panel.exitBtn.p.w,this.b.control_panel.exitBtn.p.G,this.b.control_panel.exitBtn.f().width,this.b.control_panel.exitBtn.f().height),c)){var d=this;this.X.td(function(){!1==d.Dh&&d.yb();d.P();d=null});return!0}return p.Eb(p.rect(this.b.p.x,this.b.p.y+this.b.control_panel.p.y,
this.b.control_panel.f().width,this.b.control_panel.f().height),a.$)?(this.df=this.b.wh(a),!0):!1},cd:function(a){if(this.df)return a=a.$,this.b.C(p.a(a.x-this.df.x,a.y-this.df.y)),!0},De:function(){this.df=null},VU:function(){p.log("Ovveride setupPopup")},Be:function(){p.log("No id given... using default 'Popup'");return"Popup"},De:function(){}});Book=null;
BookPanel=Popup.extend({data:null,Ee:null,Be:function(){return"Book"},Ce:function(){return{panels:{position:p.a(100,20),children:{main_panel:{c:p.a(0,0),position:p.a(0,0),size:p.size(512,320),m:p.t(0,0,100,200),children:{pageBackbtn:{position:p.a(4,4),size:p.size(96,32),m:p.t(255,255,255,255),c:p.a(0,0),children:{text:{label:"Previous Page",fontSize:12,c:p.a(0.5,0.5),position:p.a(48,16),color:p.k(0,0,0)}}},pageForwardbtn:{position:p.a(412,4),size:p.size(96,32),m:p.t(255,255,255,255),c:p.a(0,0),children:{text:{label:"Next Page",
fontSize:12,c:p.a(0.5,0.5),position:p.a(48,16),color:p.k(0,0,0)}}},pageSplitter:{position:p.a(254,0),size:p.size(4,320),m:p.t(255,255,255,255),c:p.a(0,0)},leftPage:{label:0<this.Ee.length?this.Ee[0]:this.Ee,c:p.a(0,1),position:p.a(4,316),color:p.k(255,255,255)},rightPage:{label:0<this.Ee.length?this.Ee[1]:"",c:p.a(0,1),position:p.a(260,316),color:p.k(255,255,255)}}},control_panel:{c:p.a(0,0),position:p.a(0,320),size:p.size(512,32),m:p.t(255,0,0,200),children:{header:{label:this.data.name,fontSize:20,
c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(482,3),size:p.size(26,26),c:p.a(0,0),m:p.t(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.k(0,0,0),c:p.a(0.5,0.5),position:p.a(13,13)}}}}}}}}},q:function(a){this._super();this.data=a;this.Ee=[];for(a=a.additionalData.Contents;a;)if(490>a.length){this.Ee.push(a);break}else this.Ee.push(a.substr(0,490)+"..."),a=a.substr(490);this.sS=Math.floor(this.Ee.length/2)-1;this.si=0},Sa:function(){this._super();this.b.main_panel.leftPage.dC(p.size(248,
0));this.b.main_panel.rightPage.dC(p.size(248,0));this.b.main_panel.pageBackbtn.u(!1);2>this.Ee.length&&this.b.main_panel.pageForwardbtn.u(!1)},QQ:function(){this.si++;this.b.main_panel.pageBackbtn.u(!0);this.si==this.sS&&this.b.main_panel.pageForwardbtn.u(!1);this.b.main_panel.leftPage.Z(this.Ee[2*this.si]);this.Ee[2*this.si+1]?this.b.main_panel.rightPage.Z(this.Ee[2*this.si+1]):this.b.main_panel.rightPage.Z("")},RQ:function(){this.si--;this.b.main_panel.pageForwardbtn.u(!0);0==this.si&&this.b.main_panel.pageBackbtn.u(!1);
this.b.main_panel.leftPage.Z(this.Ee[2*this.si]);this.Ee[2*this.si+1]&&this.b.main_panel.rightPage.Z(this.Ee[2*this.si+1])},Ib:function(a){if(this._super(a))return!0;this.df=null;a=this.b.main_panel.hb(a.$);if(T(this.b.main_panel.pageForwardbtn,a))return this.QQ(),!0;if(T(this.b.main_panel.pageBackbtn,a))return this.RQ(),!0}});Equipment=null;
EquipmentPanel=Popup.extend({Be:function(){return"Equipment"},Ce:function(){var a={};a.head={bc:"GUI/defaultitem.png",position:p.a(88,162),size:p.size(32,32),c:p.a(0,1)};a.legs={bc:"GUI/defaultitem.png",position:p.a(88,82),size:p.size(32,32),c:p.a(0,1)};a.feet={bc:"GUI/defaultitem.png",position:p.a(88,40),size:p.size(32,32),c:p.a(0,1)};a.body={bc:"GUI/defaultitem.png",position:p.a(88,122),size:p.size(32,32),c:p.a(0,1)};a.larm={bc:"GUI/defaultitem.png",position:p.a(48,122),size:p.size(32,32),c:p.a(0,
1)};a.rarm={bc:"GUI/defaultitem.png",position:p.a(128,122),size:p.size(32,32),c:p.a(0,1)};a.mod={bc:"GUI/defaultitem.png",position:p.a(8,162),size:p.size(32,32),c:p.a(0,1)};return{panels:{position:p.a(100,300),children:{main_panel:{c:p.a(0,0),size:p.size(168,168),bc:"GUI/equipment.png",children:a},control_panel:{c:p.a(0,0),position:p.a(0,168),size:p.size(168,32),children:{header:{label:"Equipment",fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(144,6),size:p.size(20,20),c:p.a(0,
0),bc:"GUI/close.png"}}},item_name:{position:p.a(0,0),m:p.t(200,200,200,200),size:p.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:p.k(0,0,0),c:p.a(0.5,0.5),position:p.a(32,8)}}},control_menu:{position:p.a(0,0),m:p.t(200,200,200,200),size:p.size(96,48),visible:!1,children:{dropbtn:{position:p.a(0,0),size:p.size(96,24),c:p.a(0,0),m:p.t(200,200,200,200),children:{content:{label:"Drop",fontSize:20,color:p.k(0,0,0),c:p.a(0,0.5),position:p.a(4,12)}}},unequipbtn:{position:p.a(0,24),
size:p.size(96,24),c:p.a(0,0),m:p.t(200,200,200,200),children:{content:{label:"Unequip",fontSize:20,color:p.k(0,0,0),c:p.a(0,0.5),position:p.a(4,12)}}}}}}}}},hf:function(){var a=C.e.oa.cB();this.b.main_panel.head.ba(p.Qa.d().fc("GUI/defaultitem.png"));this.b.main_panel.body.ba(p.Qa.d().fc("GUI/defaultitem.png"));this.b.main_panel.legs.ba(p.Qa.d().fc("GUI/defaultitem.png"));this.b.main_panel.feet.ba(p.Qa.d().fc("GUI/defaultitem.png"));this.b.main_panel.larm.ba(p.Qa.d().fc("GUI/defaultitem.png"));this.b.main_panel.rarm.ba(p.Qa.d().fc("GUI/defaultitem.png"));
this.b.main_panel.mod.ba(p.Qa.d().fc("GUI/defaultitem.png"));for(var c in a)if(a[c]){for(var d in O)if(O[d].name==a[c].sprite.texture)var e=O[d].texture;this.b.main_panel[a[c].subType].la(0,1);this.b.main_panel[a[c].subType].ba(e);this.b.main_panel[a[c].subType].jb(p.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,32,32))}},Ib:function(a){if(this._super(a))return!0;this.df=null;var c=a.$;a=this.b.main_panel.hb(c);c=this.b.control_menu.hb(c);if(null!=this.yf)return T(this.b.control_menu.dropbtn,
c)&&C.e.oa.mG(this.yf,"equipped"),T(this.b.control_menu.unequipbtn,c)&&C.e.oa.zP(this.yf),this.yf=null,this.b.control_menu.u(!1),!0;this.yf=null;this.b.control_menu.u(!1);var c=C.e.oa.cB(),d;for(d in c)if(c[d]&&T(this.b.main_panel[c[d].subType],p.a(a.x,a.y+32)))return this.b.control_menu.u(!0),this.b.control_menu.C(p.a(this.b.main_panel[c[d].subType].p.w+28,this.b.main_panel[c[d].subType].p.G-40-8)),this.yf=d,!0},Vg:function(a){var c=this.b.main_panel.hb(a);a=this.b.control_menu.hb(a);this.b.control_menu.unequipbtn.l(p.t(200,
200,200,200));this.b.control_menu.dropbtn.l(p.t(200,200,200,200));this.b.item_name.u(!1);if(null!=this.yf)T(this.b.control_menu.unequipbtn,a)&&this.b.control_menu.unequipbtn.l(S),T(this.b.control_menu.dropbtn,a)&&this.b.control_menu.dropbtn.l(S);else{a=C.e.oa.cB();for(var d in a)if(a[d]&&T(this.b.main_panel[a[d].subType],p.a(c.x,c.y+t32)))return this.b.item_name.content.Z(a[d].name),this.b.item_name.u(!0),this.b.item_name.ea(this.b.item_name.content.f()),this.b.item_name.content.xb(this.b.item_name.content.f().width/
2),this.b.item_name.C(p.a(this.b.main_panel[a[d].subType].p.w-this.b.item_name.content.f().width/2+16,this.b.main_panel[a[d].subType].p.G)),!0}},Sa:function(){this._super();this.hf()}});Inventory=null;
InventoryPanel=Popup.extend({yf:null,Be:function(){return"Inventory"},Ce:function(){for(var a={},c=0;5>c;c++)for(var d=0;8>d;d++)a[5*d+c+""]={size:p.size(32,32),position:p.a(40*c+8,40*(7-d)+40),bc:"GUI/defaultitem.png",c:p.a(0,1),children:{stacklabelbg:{position:p.a(1,1),size:p.size(10,6),c:p.a(0,0),m:p.t(255,255,255,200),children:{stacklabel:{label:"",fontSize:10,color:p.k(0,0,0),c:p.a(0,0),position:p.a(0,0)}}}}};return{panels:{position:p.a(300,200),children:{main_panel:{c:p.a(0,0),bc:"GUI/inventory.png",
size:p.size(208,328),children:a},control_panel:{c:p.a(0,0),position:p.a(0,328),size:p.size(208,32),children:{header:{label:"Inventory",fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(184,6),size:p.size(20,20),c:p.a(0,0),bc:"GUI/close.png"}}},item_name:{position:p.a(0,0),m:p.t(200,200,200,200),size:p.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:p.k(0,0,0),c:p.a(0.5,0.5),position:p.a(32,8)}}},control_menu:{position:p.a(0,0),m:p.t(200,200,200,200),size:p.size(96,
48),visible:!1,children:{dropbtn:{position:p.a(0,0),size:p.size(96,24),c:p.a(0,0),m:p.t(200,200,200,200),children:{content:{label:"Drop",fontSize:20,color:p.k(0,0,0),c:p.a(0,0.5),position:p.a(4,12)}}},usebtn:{position:p.a(0,24),size:p.size(96,24),c:p.a(0,0),m:p.t(200,200,200,200),children:{content:{label:"Use",fontSize:20,color:p.k(0,0,0),c:p.a(0,0.5),position:p.a(4,12)}}}}}}}}},es:function(a,c){this.b.main_panel[a+""].stacklabelbg.u(!1);1<c&&(this.b.main_panel[a+""].stacklabelbg.u(!0),this.b.main_panel[a+
""].stacklabelbg.stacklabel.Z(c),this.b.main_panel[a+""].stacklabelbg.ea(this.b.main_panel[a+""].stacklabelbg.stacklabel.f()))},hf:function(){for(var a=C.e.oa.tr(),c=0;40>c;c++)if(a[c]){for(var d in O)if(O[d].name==a[c].sprite.texture)var e=O[d].texture;this.b.main_panel[c+""].la(0,1);this.b.main_panel[c+""].ba(e);this.b.main_panel[c+""].jb(p.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,32,32));this.es(c,a[c].amount)}else this.b.main_panel[c+""].ba(p.Qa.d().fc("GUI/defaultitem.png")),
this.es(c,0)},Sa:function(){this._super();this.hf()},Ib:function(a){if(this._super(a))return!0;this.df=null;var c=a.$;a=this.b.main_panel.hb(c);c=this.b.control_menu.hb(c);if(null!=this.yf)return p.Eb(p.rect(this.b.control_menu.dropbtn.p.w,this.b.control_menu.dropbtn.p.G,this.b.control_menu.dropbtn.f().width,this.b.control_menu.dropbtn.f().height),c)?C.e.oa.mG(this.yf,"stored"):p.Eb(p.rect(this.b.control_menu.usebtn.p.w,this.b.control_menu.usebtn.p.G,this.b.control_menu.usebtn.f().width,this.b.control_menu.usebtn.f().height),
c)&&C.e.oa.tV(this.yf),this.yf=null,this.b.control_menu.u(!1),!0;this.yf=null;this.b.control_menu.u(!1);for(c=0;40>c;c++)if(C.e.oa.tr()[c]&&T(this.b.main_panel[c+""],p.a(a.x,a.y+32))){this.b.control_menu.u(!0);switch(C.e.oa.tr()[c].itemType){case "wearable":this.b.control_menu.usebtn.content.Z("Equip");break;case "resource":this.b.control_menu.usebtn.content.Z("Use");break;case "consumable":this.b.control_menu.usebtn.content.Z("Consume");break;case "book":this.b.control_menu.usebtn.content.Z("Read")}this.b.control_menu.C(p.a(this.b.main_panel[c+
""].p.w+28,this.b.main_panel[c+""].p.G-40-8));this.yf=c;return!0}},Vg:function(a){var c=this.b.control_menu.hb(a);a=this.b.main_panel.hb(a);this.b.control_menu.dropbtn.l(p.t(200,200,200,200));this.b.control_menu.usebtn.l(p.t(200,200,200,200));this.b.item_name.u(!1);if(null!=this.yf)p.Eb(p.rect(this.b.control_menu.dropbtn.p.w,this.b.control_menu.dropbtn.p.G,this.b.control_menu.dropbtn.f().width,this.b.control_menu.dropbtn.f().height),c)?this.b.control_menu.dropbtn.l(p.t(255,0,0,255)):p.Eb(p.rect(this.b.control_menu.usebtn.p.w,
this.b.control_menu.usebtn.p.G,this.b.control_menu.usebtn.f().width,this.b.control_menu.usebtn.f().height),c)&&this.b.control_menu.usebtn.l(p.t(255,0,0,255));else for(c=0;40>c;c++)if(C.e.oa.tr()[c]&&T(this.b.main_panel[c+""],p.a(a.x,a.y+32)))return this.b.item_name.content.Z(C.e.oa.tr()[c].name),this.b.item_name.u(!0),this.b.item_name.ea(this.b.item_name.content.f()),this.b.item_name.content.xb(this.b.item_name.content.f().width/2),this.b.item_name.C(p.a(this.b.main_panel[c+""].p.w-this.b.item_name.content.f().width/
2+16,this.b.main_panel[c+""].p.G)),!0}});Sign=null;
SignPanel=Popup.extend({data:null,Be:function(){return"Sign"},Ce:function(){return{panels:{position:p.a(100,300),children:{control_panel:{c:p.a(0,0),size:p.size(128,96),bc:"GUI/signpost.png",children:{content:{label:this.data.label,fontSize:12,color:p.k(255,255,255),c:p.a(0,1),position:p.a(4,94)},exitBtn:{position:p.a(100,6),size:p.size(20,20),c:p.a(0,0),bc:"GUI/close.png"}}}}}}},q:function(a){this._super();this.data=a},Sa:function(){this._super();this.b.control_panel.content.dC(p.size(120,0))}});Skills=null;
SkillsPanel=Popup.extend({Be:function(){return"Equipment"},Ce:function(){for(var a={},c=ObjectLists.xo(),d=0;d<c.length;d++)a[d+""]={c:p.a(0,0),position:p.a(0,40*c.length-40*(d+1)+2),children:{icon:{position:p.a(4,2),$v:!0,c:p.a(0,0)},name:{position:p.a(46,18),size:p.size(120,32),label:c[d].name,fontSize:16,color:p.k(255,255,255),c:p.a(0,0.5)},level:{position:p.a(210,18),size:p.size(86,32),c:p.a(0.5,0.5),label:"Level",fontSize:16,color:p.k(255,255,255)}}};return{panels:{position:p.a(100,300),children:{main_panel:{c:p.a(0,
0),size:p.size(256,40*c.length),bc:"GUI/skills.png",children:a},control_panel:{c:p.a(0,0),position:p.a(0,40*c.length),size:p.size(256,32),children:{header:{label:"Skills",fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(232,6),size:p.size(20,20),c:p.a(0,0),bc:"GUI/close.png"}}},item_name:{position:p.a(0,0),m:p.t(200,200,200,200),size:p.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:p.k(0,0,0),c:p.a(0.5,0.5),position:p.a(32,8)}}},control_menu:{position:p.a(0,
0),m:p.t(200,200,200,200),size:p.size(96,48),visible:!1,children:{dropbtn:{position:p.a(0,0),size:p.size(96,24),c:p.a(0,0),m:p.t(200,200,200,200),children:{content:{label:"Drop",fontSize:20,color:p.k(0,0,0),c:p.a(0,0.5),position:p.a(4,12)}}},unequipbtn:{position:p.a(0,24),size:p.size(96,24),c:p.a(0,0),m:p.t(200,200,200,200),children:{content:{label:"Unequip",fontSize:20,color:p.k(0,0,0),c:p.a(0,0.5),position:p.a(4,12)}}}}}}}}},hf:function(){console.log("Updating tile grid");for(var a=ObjectLists.xo(),
c=0;c<a.length;c++)this.b.main_panel[c+""].icon.ba(null);for(c=0;c<a.length;c++)if(a[c]){for(var d in O)if(O[d].name==a[c].sprite.texture)var e=O[d].texture;this.b.main_panel[c+""].icon.ba(e);this.b.main_panel[c+""].icon.jb(p.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,32,32))}},Sa:function(){this._super();this.hf()}});
var ua=p.mc.extend({vv:[],gJ:function(){var a=ObjectLists.xo(),c;for(c in this.vv)this.vv[c].P();this.vv=[];var d=0;for(c=a.length-1;0<=c;c--)if(null!=a[c].healthbar&&""!=a[c].healthbar){var e=this.sP(a[c].name,a[c].healthbar,d);this.s(e);this.vv.push(e);d++}this.C(p.a(0,640-32*d))},sP:function(a,c,d){var e=255;c=c.replace("#","");8==c.length&&(e=c.substr(6,8));e=p.Pb.create(p.t(parseInt(c.substring(0,2),16),parseInt(c.substring(2,4),16),parseInt(c.substring(4,6),16),parseInt(e,16)),300,23);e.JA=
p.A.od(p.Qa.d().fc("GUI/healthbar.png"));e.C(10,32*d- -5*d-10);e.la(p.a(0,0));e.JA.C(-5,-4);e.JA.la(p.a(0,0));e.s(e.JA);a=p.W.create(a,"Arial",16);a.C(10,11.5);a.la(p.a(0,0.5));e.s(a);return e}});SkillBarsInstance=null;ua.create=function(){null==SkillBarsInstance&&(SkillBarsInstance=new ua,SkillBarsInstance.gJ());return SkillBarsInstance};ua.update=function(){SkillBarsInstance.gJ()};Itemeditor=null;
ItemEditor=Popup.extend({Db:O[0].name,L:0,Ce:function(){return{panels:{position:p.a(300,10),children:{main_panel:{c:p.a(0,0),position:p.a(0,0),size:p.size(420,396),m:p.t(0,0,100,120),children:{tab1:{children:{tiles:{c:p.a(0,1),position:p.a(16,320),bc:O[0].name},textureleftbtn:{position:p.a(208,340),size:p.size(16,32),m:Q,c:p.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.k(0,0,0)}}},texturerightbtn:{position:p.a(320,340),size:p.size(16,32),m:Q,c:p.a(0,
0),children:{text:{label:"\x3e\x3e",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.k(0,0,0)}}},textureName:{position:p.a(224,340),size:p.size(96,32),m:p.t(255,255,255,170),c:p.a(0,0),children:{text:{label:O[0].name,fontSize:12,c:p.a(0.5,0.5),position:p.a(48,16),color:p.k(0,0,0)}}},leftbtn:{position:p.a(0,64),size:p.size(16,252),m:p.t(0,0,255,255),c:p.a(0,0),children:{text:{label:"\x3c",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,160),color:p.k(255,255,255)}}},rightbtn:{position:p.a(336,64),size:p.size(16,
252),m:p.t(0,0,255,255),c:p.a(0,0),children:{text:{label:"\x3e",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,160),color:p.k(255,255,255)}}},upbtn:{position:p.a(16,320),size:p.size(320,16),m:p.t(0,0,255,255),c:p.a(0,0),children:{text:{label:"^",fontSize:12,c:p.a(0.5,0.5),position:p.a(160,8),color:p.k(255,255,255)}}},downbtn:{position:p.a(16,48),size:p.size(320,16),m:p.t(0,0,255,255),c:p.a(0,0),children:{text:{label:"v",fontSize:12,c:p.a(0.5,0.5),position:p.a(160,8),color:p.k(255,255,255)}}},highlightnode:{c:p.a(0,
0),position:p.a(0,0),size:p.size(32,32),m:p.t(255,100,100,255)},selectednode:{c:p.a(0,0),position:p.a(0,0),size:p.size(32,32),m:p.t(100,255,100,255)}}},tab2:{children:{itemdetailsback:{position:p.a(144,0),size:p.size(250,366),m:p.t(0,0,255,100),c:p.a(0,0)},name_text:{label:"Item Name",fontSize:10,c:p.a(0,0),position:p.a(8,344)},name_entry:{size:p.size(136,32),position:p.a(4,312)},resourcetab:{visible:!1},consumabletab:{visible:!1},booktab:{visible:!1,children:{book_text:{label:"Book Contents",fontSize:10,
c:p.a(0,0),position:p.a(152,348)},book_entry:{size:p.size(240,340),position:p.a(-1E5,8)}}},wearabletab:{visible:!1,children:{head:{position:p.a(250,230),size:p.size(64,26),m:R,c:p.a(0,0),children:{text:{label:"Head",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,13),color:p.k(0,0,0)}}},body:{position:p.a(250,200),size:p.size(64,26),m:R,c:p.a(0,0),children:{text:{label:"Body",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,13),color:p.k(0,0,0)}}},legs:{position:p.a(250,170),size:p.size(64,26),m:R,c:p.a(0,0),
children:{text:{label:"Legs",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,13),color:p.k(0,0,0)}}},feet:{position:p.a(250,140),size:p.size(64,26),m:R,c:p.a(0,0),children:{text:{label:"Feet",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,13),color:p.k(0,0,0)}}},larm:{position:p.a(180,200),size:p.size(64,26),m:R,c:p.a(0,0),children:{text:{label:"L Arm",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,13),color:p.k(0,0,0)}}},rarm:{position:p.a(320,200),size:p.size(64,26),m:R,c:p.a(0,0),children:{text:{label:"R Arm",
fontSize:12,c:p.a(0.5,0.5),position:p.a(32,13),color:p.k(0,0,0)}}},mod:{position:p.a(150,230),size:p.size(64,26),m:R,c:p.a(0,0),children:{text:{label:"Mod",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,13),color:p.k(0,0,0)}}}}},resourcebtn:{position:p.a(8,248),size:p.size(128,26),m:Q,c:p.a(0,0),children:{text:{label:"Resource",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.k(0,0,0)}}},consumablebtn:{position:p.a(8,218),size:p.size(128,26),m:Q,c:p.a(0,0),children:{text:{label:"Consumable",fontSize:12,
c:p.a(0.5,0.5),position:p.a(64,13),color:p.k(0,0,0)}}},bookbtn:{position:p.a(8,188),size:p.size(128,26),m:Q,c:p.a(0,0),children:{text:{label:"Book",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.k(0,0,0)}}},wearablebtn:{position:p.a(8,158),size:p.size(128,26),m:Q,c:p.a(0,0),children:{text:{label:"wearable",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.k(0,0,0)}}},tile:{c:p.a(0,1),position:p.a(55,130),bc:O[0].name},stackbtn:{position:p.a(8,48),size:p.size(128,26),m:S,c:p.a(0,0),children:{text:{label:"NOT STACKABLE",
fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.k(0,0,0)}}}}},tab3:{children:{saveBack:{position:p.a(0,78),size:p.size(200,60),m:p.t(0,255,0,100),c:p.a(0,0)},deleteback:{position:p.a(0,138),size:p.size(200,60),m:p.t(255,0,0,100),c:p.a(0,0)},mapnumsback:{position:p.a(0,198),size:p.size(200,162),m:p.t(0,0,0,170),c:p.a(0,0)}}},tab1Clickable:{position:p.a(0,376),size:p.size(60,20),m:Q,c:p.a(0,0),children:{text:{label:"Sprite",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.k(0,0,0)}}},tab2Clickable:{position:p.a(64,
376),size:p.size(60,20),m:Q,c:p.a(0,0),children:{text:{label:"Details",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.k(0,0,0)}}},tab3Clickable:{position:p.a(128,376),size:p.size(60,20),m:Q,c:p.a(0,0),children:{text:{label:"Modifier",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.k(0,0,0)}}},okbtn:{position:p.a(76,8),size:p.size(60,32),m:Q,c:p.a(0,0),children:{text:{label:"OK",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.k(0,0,0)}}},cancelbtn:{position:p.a(8,8),size:p.size(60,
32),m:Q,c:p.a(0,0),children:{text:{label:"Cancel",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.k(0,0,0)}}}}},control_panel:{c:p.a(0,0),position:p.a(0,396),size:p.size(420,32),m:p.t(255,0,0,200),children:{header:{label:"Item Editor",fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(391,3),size:p.size(26,26),c:p.a(0,0),m:p.t(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.k(0,0,0),c:p.a(0.5,0.5),position:p.a(13,13)}}}}}}}}},Be:function(){return"itemEditor"},
ib:null,Bc:null,Hb:0,S:null,data:null,q:function(a){this._super();this.data={itemType:"resource",subType:"",sprite:{texture:O[0].name,position:{x:0,y:0}},additionalData:{},stackable:!1,name:""};this.Db=O[0].name;this.L=0;this.Bc=this.ib=null;this.Hb=0;this.S=null;this.U=p.a(0,0);this.Bc=[null,352,400,200];this.S=a.S;a&&a.data&&(this.data=a.data)},Vr:function(a){H({saveitems:a+"",itemdata:this.data})},lr:function(a,c){H({saveitemswhole:c})},Sa:function(){this._super();this.b.main_panel.tab1.highlightnode.V(0);
this.b.main_panel.tab1.selectednode.V(127);for(var a in O)O[a].name==this.data.sprite.texture&&(this.L=a,this.Db=O[a].name);this.b.main_panel.tab1.textureName.text.Z(this.Db);this.b.main_panel.tab1.tiles.ba(O[this.L].texture);for(a=this.data.sprite.position.x;10<=a;)a--,this.U.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.U.y++;a=p.a(32*(this.data.sprite.position.x-this.U.x),32*(this.data.sprite.position.y-this.U.y));this.b.main_panel.tab1.selectednode.C(this.b.main_panel.tab1.tiles.p.x+a.x,
this.b.main_panel.tab1.tiles.p.y-(a.y+32));this.b.main_panel.tab2.tile.ba(O[this.L].texture);this.b.main_panel.tab2.tile.jb(p.rect(Math.floor(32*this.data.sprite.position.x),Math.floor(32*this.data.sprite.position.y),32,32));this.ib=new Y(this.b.main_panel.tab2.name_entry,p.size(this.b.main_panel.tab2.name_entry.f().width,this.b.main_panel.tab2.name_entry.f().height),p.a(0,this.b.main_panel.tab2.name_entry.f().height),this.data.name?this.data.name:"",p.t(100,100,100),p.k(255,255,255));this.ib.Ge(!0);
this.MA=new Y(this.b.main_panel.tab2.booktab.book_entry,p.size(this.b.main_panel.tab2.booktab.book_entry.f().width,this.b.main_panel.tab2.booktab.book_entry.f().height),p.a(0,this.b.main_panel.tab2.booktab.book_entry.f().height),this.data.additionalData.Contents?this.data.additionalData.Contents:"",p.t(100,100,100),p.k(255,255,255),!0);this.MA.Ge(!0);this.MA.YT(!0);this.Le(this.data.itemType);""!=this.data.subType&&this.Di(this.data.subType);this.b.main_panel.tab2.stackbtn.l(S);this.b.main_panel.tab2.stackbtn.text.Z("NOT STACKABLE");
!0==this.data.stackable&&(this.b.main_panel.tab2.stackbtn.l(R),this.b.main_panel.tab2.stackbtn.text.Z("IS STACKABLE"));this.ud(1);this.Ya()},DI:function(){},yb:function(a){if(this.S){var c=this.S;!0!=a&&this.S.td(function(){c.Ye(null)})}},Vg:function(a){if(1==this.Hb&&(this.b.main_panel.tab1.highlightnode.V(0),a=this.b.main_panel.tab1.tiles.hb(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.f().width&&a.y<=this.b.main_panel.tab1.tiles.f().height))return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+64,this.b.main_panel.tab1.highlightnode.V(127),
this.b.main_panel.tab1.highlightnode.C(a),!0},ud:function(a){a!=this.Hb&&(this.b.main_panel.ea(this.Bc[a],this.b.main_panel.f().height),this.b.control_panel.ea(this.Bc[a],this.b.control_panel.f().height),this.b.main_panel.tab2.name_entry.xb(this.b.main_panel.tab2.name_entry.p.w-1E3),this.Hb=a,this.b.main_panel.tab1.u(!1),this.b.main_panel.tab2.u(!1),this.b.main_panel.tab3.u(!1),this.b.main_panel.tab1Clickable.l(Q),this.b.main_panel.tab2Clickable.l(Q),this.b.main_panel.tab3Clickable.l(Q),this.b.main_panel["tab"+
a].u(!0),this.b.main_panel["tab"+a+"Clickable"].l(p.t(255,255,0,255)),2==a&&(this.b.main_panel.tab2.name_entry.xb(4),"book"==this.data.itemType?(this.b.main_panel.tab2.booktab.book_entry.xb(150),this.b.main_panel.tab2.booktab.book_text.u(!0)):(this.b.main_panel.tab2.booktab.book_entry.xb(-1E9),this.b.main_panel.tab2.booktab.book_text.u(!1))),this.b.control_panel.exitBtn.xb(this.Bc[a]-29))},Ya:function(){this.sd(this.Ya);this.b.main_panel.tab1.tiles.Q()&&!0==this.b.main_panel.tab1.tiles.Q().dc&&(this.kg(this.Ya),
this.b.main_panel.tab1.tiles.jb(p.rect(Math.floor(32*this.U.x),Math.floor(32*this.U.y),320>O[this.L].texture.f().width?O[this.L].texture.f().width:320,256>O[this.L].texture.f().height?O[this.L].texture.f().height:256)))},Ib:function(a){if(this._super(a))return!0;this.df=null;a=a.$;var c=this.b.main_panel.hb(a);if(T(this.b.main_panel.tab1Clickable,c))return this.ud(1),!0;if(T(this.b.main_panel.tab2Clickable,c))return this.ud(2),!0;if(T(this.b.main_panel.tab3Clickable,c))return this.ud(3),!0;if(T(this.b.main_panel.okbtn,
c)){if(null==this.ib.ka()||""==this.ib.ka())return!0;this.Dh=!0;this.data.name=this.ib.ka();switch(this.data.itemType){case "book":this.data.additionalData={Contents:this.MA.ka()}}this.S.Ye(this.data);return!0}if(T(this.b.main_panel.cancelbtn,c)){this.Dh=!0;var d=this.S;this.S.td(function(){d.Ye(null)});return!0}if(1==this.Hb){if(T(this.b.main_panel.tab1.leftbtn,c))return 264<O[this.L].texture.f().width&&0<this.U.x&&(this.U.x--,this.Ya()),!0;if(T(this.b.main_panel.tab1.rightbtn,c))return 320<O[this.L].texture.f().width&&
this.U.x<(O[this.L].texture.f().width-320)/32&&(this.U.x++,this.Ya()),!0;if(T(this.b.main_panel.tab1.upbtn,c))return 320<O[this.L].texture.f().height&&0<this.U.y&&(this.U.y--,this.Ya()),!0;if(T(this.b.main_panel.tab1.ldownbtn,c))return 320<O[this.L].texture.f().height&&this.U.y<(O[this.L].texture.f().height-320)/32&&(this.U.y++,this.Ya()),!0;if(T(this.b.main_panel.tab1.texturerightbtn,c))return this.Km(),!0;if(T(this.b.main_panel.tab1.textureleftbtn,c))return this.Lm(),!0;c=this.b.main_panel.tab1.tiles.hb(a);
if(T(this.b.main_panel.tab1.tiles,c)){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+64;this.b.main_panel.tab1.selectednode.V(0);if(this.b.main_panel.tab1.selectednode.p.w!=c.x||this.b.main_panel.tab1.selectednode.p.G!=c.y)this.b.main_panel.tab1.selectednode.V(127),this.b.main_panel.tab1.selectednode.C(c);a=p.a((this.b.main_panel.tab1.selectednode.p.w-16)/32+this.U.x,8-(this.b.main_panel.tab1.selectednode.p.G-64)/32+this.U.y-1);this.b.main_panel.tab2.tile.jb(p.rect(32*a.x,32*a.y,32,32));this.data.sprite.position=
a;return!0}}if(2==this.Hb){if(T(this.b.main_panel.tab2.stackbtn,c))return this.ZI(),!0;if(T(this.b.main_panel.tab2.resourcebtn,c))return this.Le("resource"),!0;if(T(this.b.main_panel.tab2.consumablebtn,c))return this.Le("consumable"),!0;if(T(this.b.main_panel.tab2.bookbtn,c))return this.Le("book"),!0;if(T(this.b.main_panel.tab2.wearablebtn,c))return this.Le("wearable"),this.Di("body"),!0;if(T(this.b.main_panel.tab2.wearabletab.body,c))return this.Di("body"),!0;if(T(this.b.main_panel.tab2.wearabletab.head,
c))return this.Di("head"),!0;if(T(this.b.main_panel.tab2.wearabletab.legs,c))return this.Di("legs"),!0;if(T(this.b.main_panel.tab2.wearabletab.feet,c))return this.Di("feet"),!0;if(T(this.b.main_panel.tab2.wearabletab.larm,c))return this.Di("larm"),!0;if(T(this.b.main_panel.tab2.wearabletab.rarm,c))return this.Di("rarm"),!0;if(T(this.b.main_panel.tab2.wearabletab.mod,c))return this.Di("mod"),!0}return!1},ZI:function(){this.data.stackable=!this.data.stackable;this.b.main_panel.tab2.stackbtn.l(S);this.b.main_panel.tab2.stackbtn.text.Z("NOT STACKABLE");
!0==this.data.stackable&&(this.b.main_panel.tab2.stackbtn.l(R),this.b.main_panel.tab2.stackbtn.text.Z("IS STACKABLE"))},Le:function(a){this.b.main_panel.tab2.booktab.book_entry.xb(-1E7);this.b.main_panel.tab2.booktab.book_text.u(!1);this.b.main_panel.tab2.resourcebtn.l(Q);this.b.main_panel.tab2.consumablebtn.l(Q);this.b.main_panel.tab2.bookbtn.l(Q);this.b.main_panel.tab2.wearablebtn.l(Q);this.b.main_panel.tab2.resourcetab.u(!1);this.b.main_panel.tab2.consumabletab.u(!1);this.b.main_panel.tab2.booktab.u(!1);
this.b.main_panel.tab2.wearabletab.u(!1);switch(a){case "book":this.b.main_panel.tab2.booktab.book_entry.xb(150),this.b.main_panel.tab2.booktab.book_text.u(!0)}this.data.itemType=a;this.b.main_panel.tab2[a+"btn"].l(R);this.b.main_panel.tab2[a+"tab"].u(!0)},Di:function(a){this.b.main_panel.tab2.wearabletab.head.l(Q);this.b.main_panel.tab2.wearabletab.body.l(Q);this.b.main_panel.tab2.wearabletab.legs.l(Q);this.b.main_panel.tab2.wearabletab.feet.l(Q);this.b.main_panel.tab2.wearabletab.rarm.l(Q);this.b.main_panel.tab2.wearabletab.larm.l(Q);
this.b.main_panel.tab2.wearabletab.mod.l(Q);"wearable"==this.data.itemType&&this.b.main_panel.tab2.wearabletab[a]&&this.b.main_panel.tab2.wearabletab[a].l(S);this.data.subType=a},Km:function(){this.L>=O.length-1&&(this.L=-1);this.L++;this.b.main_panel.tab1.tiles.ba(O[this.L].texture);this.b.main_panel.tab2.tile.ba(O[this.L].texture);this.Db=O[this.L].name;this.b.main_panel.tab1.textureName.text.Z(this.Db);this.data.sprite.texture=this.Db;this.U=p.a(0,0);this.Ya()},Lm:function(){0>=this.L&&(this.L=
O.length);this.L--;this.b.main_panel.tab1.tiles.ba(O[this.L].texture);this.b.main_panel.tab2.tile.ba(O[this.L].texture);this.Db=O[this.L].name;this.b.main_panel.tab1.textureName.text.Z(this.Db);this.U=p.a(0,0);this.Ya()}});Mapeditor=null;
MapEditor=Popup.extend({map:null,ic:"tiles",iH:null,Cv:"ground1",Db:O[0].name,L:0,Ce:function(){return{panels:{position:p.a(300,10),children:{main_panel:{c:p.a(0,0),position:p.a(0,0),size:p.size(420,380),m:p.t(0,0,100,120),children:{tab1:{children:{tiles:{c:p.a(0,1),position:p.a(16,336),bc:O[0].name},textureleftbtn:{position:p.a(360,344),size:p.size(16,32),m:Q,c:p.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.k(0,0,0)}}},texturerightbtn:{position:p.a(472,344),
size:p.size(16,32),m:Q,c:p.a(0,0),children:{text:{label:"\x3e\x3e",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.k(0,0,0)}}},textureName:{position:p.a(376,344),size:p.size(96,32),m:p.t(255,255,255,170),c:p.a(0,0),children:{text:{label:O[0].name,fontSize:12,c:p.a(0.5,0.5),position:p.a(48,16),color:p.k(0,0,0)}}},deletebtn:{position:p.a(360,308),size:p.size(60,32),m:Q,c:p.a(0,0),children:{text:{label:"Erase",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.k(0,0,0)}}},leftbtn:{position:p.a(0,
16),size:p.size(16,320),m:p.t(0,0,255,255),c:p.a(0,0),children:{text:{label:"\x3c",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,160),color:p.k(255,255,255)}}},rightbtn:{position:p.a(336,16),size:p.size(16,320),m:p.t(0,0,255,255),c:p.a(0,0),children:{text:{label:"\x3e",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,160),color:p.k(255,255,255)}}},upbtn:{position:p.a(16,336),size:p.size(320,16),m:p.t(0,0,255,255),c:p.a(0,0),children:{text:{label:"^",fontSize:12,c:p.a(0.5,0.5),position:p.a(160,8),color:p.k(255,
255,255)}}},downbtn:{position:p.a(16,0),size:p.size(320,16),m:p.t(0,0,255,255),c:p.a(0,0),children:{text:{label:"v",fontSize:12,c:p.a(0.5,0.5),position:p.a(160,8),color:p.k(255,255,255)}}},fillbtn:{position:p.a(428,308),size:p.size(60,32),m:Q,c:p.a(0,0),children:{text:{label:"Fill",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.k(0,0,0)}}},ground1btn:{position:p.a(360,278),size:p.size(128,26),m:R,c:p.a(0,0),children:{text:{label:"Ground 1",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.k(0,
0,0)}}},ground2btn:{position:p.a(360,248),size:p.size(128,26),m:Q,c:p.a(0,0),children:{text:{label:"Ground 2",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.k(0,0,0)}}},groundShadowbtn:{position:p.a(360,218),size:p.size(128,26),m:Q,c:p.a(0,0),children:{text:{label:"Ground Shadow",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.k(0,0,0)}}},mask1btn:{position:p.a(360,188),size:p.size(128,26),m:Q,c:p.a(0,0),children:{text:{label:"Mask 1",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),
color:p.k(0,0,0)}}},mask2btn:{position:p.a(360,158),size:p.size(128,26),m:Q,c:p.a(0,0),children:{text:{label:"Mask 2",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.k(0,0,0)}}},mask3btn:{position:p.a(360,128),size:p.size(128,26),m:Q,c:p.a(0,0),children:{text:{label:"Mask 3",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.k(0,0,0)}}},fringe1btn:{position:p.a(360,98),size:p.size(128,26),m:Q,c:p.a(0,0),children:{text:{label:"Fringe 1",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.k(0,
0,0)}}},fringe2btn:{position:p.a(360,68),size:p.size(128,26),m:Q,c:p.a(0,0),children:{text:{label:"Fringe 2",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.k(0,0,0)}}},fringeShadowbtn:{position:p.a(360,38),size:p.size(128,26),m:Q,c:p.a(0,0),children:{text:{label:"Fringe Shadow",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.k(0,0,0)}}},fringe3btn:{position:p.a(360,8),size:p.size(128,26),m:Q,c:p.a(0,0),children:{text:{label:"Fringe 3",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),
color:p.k(0,0,0)}}},highlightnode:{c:p.a(0,0),position:p.a(0,0),size:p.size(32,32),m:p.t(255,100,100,255)},selectednode:{c:p.a(0,0),position:p.a(0,0),size:p.size(32,32),m:p.t(100,255,100,255)}}},tab2:{children:{blockbtn:{position:p.a(8,320),size:p.size(60,32),m:Q,c:p.a(0,0),children:{text:{label:"Block",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.k(0,0,0)}}},warpbtn:{position:p.a(8,280),size:p.size(60,32),m:Q,c:p.a(0,0),children:{text:{label:"Warp",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,
16),color:p.k(0,0,0)}}},itembtn:{position:p.a(8,240),size:p.size(60,32),m:Q,c:p.a(0,0),children:{text:{label:"Item",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.k(0,0,0)}}},signbtn:{position:p.a(8,200),size:p.size(60,32),m:Q,c:p.a(0,0),children:{text:{label:"Sign",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.k(0,0,0)}}},npcbtn:{position:p.a(8,160),size:p.size(60,32),m:Q,c:p.a(0,0),children:{text:{label:"NPC",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.k(0,0,0)}}},amountLabelHead:{visible:!1,
label:"Item Amount",fontSize:12,c:p.a(0,0),position:p.a(100,342)},amountLabel:{size:p.size(60,32),position:p.a(98,-1E6)}}},tab3:{children:{saveBack:{position:p.a(0,78),size:p.size(200,60),m:p.t(0,255,0,100),c:p.a(0,0)},deleteback:{position:p.a(0,138),size:p.size(200,60),m:p.t(255,0,0,100),c:p.a(0,0)},mapnumsback:{position:p.a(0,198),size:p.size(200,162),m:p.t(0,0,0,170),c:p.a(0,0)},mapUp_text:{label:"Map Up",fontSize:10,c:p.a(0.5,0),position:p.a(100,344)},mapUp_entry:{size:p.size(60,32),position:p.a(70,
312)},mapDown_text:{label:"Map Down",fontSize:10,c:p.a(0.5,0),position:p.a(100,232)},mapDown_entry:{size:p.size(60,32),position:p.a(70,200)},mapLeft_text:{label:"Map Left",fontSize:10,c:p.a(0.5,0),position:p.a(38,290)},mapLeft_entry:{size:p.size(60,32),position:p.a(8,258)},mapRight_text:{label:"Map Right",fontSize:10,c:p.a(0.5,0),position:p.a(162,290)},mapRight_entry:{size:p.size(60,32),position:p.a(132,258)},this_map:{position:p.a(70,248),size:p.size(60,60),m:Q,c:p.a(0,0),children:{text:{label:"THIS MAP\n#"+
G.e.Ac,fontSize:12,c:p.a(0.5,0.5),position:p.a(30,30),color:p.k(0,0,0)}}},clearbtn:{position:p.a(70,150),size:p.size(60,32),m:Q,c:p.a(0,0),children:{text:{label:"Clear",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.k(0,0,0)}}},clear_text:{label:"Clear Map: You sure?",fontSize:14,c:p.a(0.5,0),position:p.a(100,182)},clearbtnNo:{position:p.a(10,150),size:p.size(60,32),m:Q,c:p.a(0,0),children:{text:{label:"NO",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.k(0,0,0)}}},clearbtnYes:{position:p.a(130,
150),size:p.size(60,32),m:Q,c:p.a(0,0),children:{text:{label:"YES",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.k(0,0,0)}}},savebtn:{position:p.a(70,90),size:p.size(60,32),m:Q,c:p.a(0,0),children:{text:{label:"Save",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.k(0,0,0)}}},save_text:{label:"Save Map: You sure?",fontSize:14,c:p.a(0.5,0),position:p.a(100,122)},savebtnNo:{position:p.a(10,90),size:p.size(60,32),m:Q,c:p.a(0,0),children:{text:{label:"NO",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,
16),color:p.k(0,0,0)}}},savebtnYes:{position:p.a(130,90),size:p.size(60,32),m:Q,c:p.a(0,0),children:{text:{label:"YES",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.k(0,0,0)}}},saveOnExit:{position:p.a(40,30),size:p.size(120,32),m:Q,c:p.a(0.5,0),children:{content:{label:"",fontSize:14,c:p.a(0.5,0.5),position:p.a(60,15),color:p.k(0,0,0)}}}}},tab1Clickable:{position:p.a(0,360),size:p.size(60,20),m:Q,c:p.a(0,0),children:{text:{label:"Editor",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.k(0,
0,0)}}},tab2Clickable:{position:p.a(64,360),size:p.size(60,20),m:Q,c:p.a(0,0),children:{text:{label:"Scripts",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.k(0,0,0)}}},tab3Clickable:{position:p.a(128,360),size:p.size(60,20),m:Q,c:p.a(0,0),children:{text:{label:"Settings",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.k(0,0,0)}}}}},control_panel:{c:p.a(0,0),position:p.a(0,380),size:p.size(420,32),m:p.t(255,0,0,200),children:{header:{label:"Map Editor - Map #"+G.e.Ac,fontSize:20,c:p.a(0,
0.5),position:p.a(8,16)},exitBtn:{position:p.a(391,3),size:p.size(26,26),c:p.a(0,0),m:p.t(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.k(0,0,0),c:p.a(0.5,0.5),position:p.a(13,13)}}}}}}}}},Be:function(){return"MapEditor"},U:null,Mr:null,Jr:null,Kr:null,Lr:null,Hr:null,Bc:null,Hb:0,Rk:null,q:function(a){this._super();this.map=a;this.U=p.a(0,0);this.Bc=[null,496,200,200]},Sa:function(){this._super();this.b.main_panel.tab1.highlightnode.V(0);this.b.main_panel.tab1.selectednode.V(0);
this.Mr=new Y(this.b.main_panel.tab3.mapUp_entry,p.size(this.b.main_panel.tab3.mapUp_entry.f().width,this.b.main_panel.tab3.mapUp_entry.f().height),p.a(0,this.b.main_panel.tab3.mapUp_entry.f().height),G.QG()?G.e.Bi:"",p.t(100,100,100),p.k(255,255,255));this.Mr.Ge(!0);this.Mr.$r(!0);this.Jr=new Y(this.b.main_panel.tab3.mapDown_entry,p.size(this.b.main_panel.tab3.mapDown_entry.f().width,this.b.main_panel.tab3.mapDown_entry.f().height),p.a(0,this.b.main_panel.tab3.mapDown_entry.f().height),G.OG()?G.e.zi:
"",p.t(100,100,100),p.k(255,255,255));this.Jr.Ge(!0);this.Jr.$r(!0);this.Kr=new Y(this.b.main_panel.tab3.mapLeft_entry,p.size(this.b.main_panel.tab3.mapLeft_entry.f().width,this.b.main_panel.tab3.mapLeft_entry.f().height),p.a(0,this.b.main_panel.tab3.mapLeft_entry.f().height),G.PG()?G.e.Ai:"",p.t(100,100,100),p.k(255,255,255));this.Kr.Ge(!0);this.Kr.$r(!0);this.Lr=new Y(this.b.main_panel.tab3.mapRight_entry,p.size(this.b.main_panel.tab3.mapRight_entry.f().width,this.b.main_panel.tab3.mapRight_entry.f().height),
p.a(0,this.b.main_panel.tab3.mapRight_entry.f().height),G.kB()?G.e.Gh:"",p.t(100,100,100),p.k(255,255,255));this.Lr.Ge(!0);this.Lr.$r(!0);this.Hr=new Y(this.b.main_panel.tab2.amountLabel,p.size(this.b.main_panel.tab2.amountLabel.f().width,this.b.main_panel.tab2.amountLabel.f().height),p.a(0,this.b.main_panel.tab2.amountLabel.f().height),G.kB()?G.e.Gh:"1",p.t(100,100,100),p.k(255,255,255));this.Hr.Ge(!0);this.Hr.$r(!0);this.Lw(!1);this.Mw(!1);this.ww=x.jQ();this.yI(this.ww);this.ud(1);this.Ya();G.BI(!0)},
NU:function(a,c){Warpeditor&&(Warpeditor.yb(),this.td(function(){Warpeditor.P();Warpeditor=null}),this.Rk=a,this.Lb(!0));Signeditor&&(Signeditor.yb(),this.td(function(){Signeditor.P();Signeditor=null}),this.Rk=a,this.Lb(!0));Itemeditor&&(Itemeditor.yb(),this.td(function(){Itemeditor.P();Itemeditor=null}),this.Rk=a,this.Lb(!0),this.Hr.kc.Yg("1"),!0==c.stackable&&(this.b.main_panel.tab2.amountLabelHead.u(!0),this.b.main_panel.tab2.amountLabel.C(98,308)));NPCeditor&&(NPCeditor.yb(),this.td(function(){NPCeditor.P();
NPCeditor=null}),this.Rk=a,this.Lb(!0))},yb:function(){!0==this.ww&&(G.qI({up:this.Mr.ka(),down:this.Jr.ka(),left:this.Kr.ka(),right:this.Lr.ka()}),G.nJ());G.BI(!1)},Vg:function(a){if(1==this.Hb&&(this.b.main_panel.tab1.highlightnode.V(0),a=this.b.main_panel.tab1.tiles.hb(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.f().width&&a.y<=this.b.main_panel.tab1.tiles.f().height))return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+16,this.b.main_panel.tab1.highlightnode.V(127),this.b.main_panel.tab1.highlightnode.C(a),
!0},ud:function(a){if(a!=this.Hb){this.b.main_panel.ea(this.Bc[a],this.b.main_panel.f().height);this.b.control_panel.ea(this.Bc[a],this.b.control_panel.f().height);if(3==this.Hb||0==this.Hb)this.b.main_panel.tab3.mapUp_entry.xb(this.b.main_panel.tab3.mapUp_entry.p.w-1E3),this.b.main_panel.tab3.mapLeft_entry.xb(this.b.main_panel.tab3.mapLeft_entry.p.w-1E3),this.b.main_panel.tab3.mapDown_entry.xb(this.b.main_panel.tab3.mapDown_entry.p.w-1E3),this.b.main_panel.tab3.mapRight_entry.xb(this.b.main_panel.tab3.mapRight_entry.p.w-
1E3);1!=this.Hb||"erasing"!=this.ic&&"tiles"!=this.ic||(this.ic="blocking");2==this.Hb&&"blocking"==this.ic&&(this.ic="tiles");this.Hb=a;this.b.main_panel.tab1.u(!1);this.b.main_panel.tab2.u(!1);this.b.main_panel.tab3.u(!1);this.b.main_panel.tab1Clickable.l(Q);this.b.main_panel.tab2Clickable.l(Q);this.b.main_panel.tab3Clickable.l(Q);this.b.main_panel["tab"+a].u(!0);this.b.main_panel["tab"+a+"Clickable"].l(p.t(255,255,0,255));3==a&&(this.b.main_panel.tab3.mapUp_entry.xb(this.b.main_panel.tab3.mapUp_entry.p.w+
1E3),this.b.main_panel.tab3.mapLeft_entry.xb(this.b.main_panel.tab3.mapLeft_entry.p.w+1E3),this.b.main_panel.tab3.mapDown_entry.xb(this.b.main_panel.tab3.mapDown_entry.p.w+1E3),this.b.main_panel.tab3.mapRight_entry.xb(this.b.main_panel.tab3.mapRight_entry.p.w+1E3));this.b.control_panel.exitBtn.xb(this.Bc[a]-29)}},yI:function(a){x.lU(a);this.ww=a;this.b.main_panel.tab3.saveOnExit.l(p.k(255,0,0));this.b.main_panel.tab3.saveOnExit.content.Z("Save on exit: NO");if("true"==a||!0==a)this.b.main_panel.tab3.saveOnExit.l(p.k(0,
255,0)),this.b.main_panel.tab3.saveOnExit.content.Z("Save on exit: YES")},Ya:function(){this.sd(this.Ya);this.b.main_panel.tab1.tiles.Q()&&!0==this.b.main_panel.tab1.tiles.Q().dc&&(this.kg(this.Ya),this.b.main_panel.tab1.tiles.jb(p.rect(Math.floor(32*this.U.x),Math.floor(32*this.U.y),320>O[this.L].texture.f().width?O[this.L].texture.f().width:320,320>O[this.L].texture.f().height?O[this.L].texture.f().height:320)))},Ib:function(a){if(this._super(a))return!0;this.df=null;a=a.$;var c=this.b.main_panel.hb(a);
if(T(this.b.main_panel.tab1Clickable,c))return this.ud(1),!0;if(T(this.b.main_panel.tab2Clickable,c))return this.ud(2),!0;if(T(this.b.main_panel.tab3Clickable,c))return this.ud(3),!0;if(1==this.Hb){if(T(this.b.main_panel.tab1.leftbtn,c))return 320<O[this.L].texture.f().width&&0<this.U.x&&(this.U.x--,this.Ya()),!0;if(T(this.b.main_panel.tab1.rightbtn,c))return 320<O[this.L].texture.f().width&&this.U.x<(O[this.L].texture.f().width-320)/32&&(this.U.x++,this.Ya()),!0;if(T(this.b.main_panel.tab1.upbtn,
c))return 320<O[this.L].texture.f().height&&0<this.U.y&&(this.U.y--,this.Ya()),!0;if(T(this.b.main_panel.tab1.downbtn,c))return 320<O[this.L].texture.f().height&&this.U.y<(O[this.L].texture.f().height-320)/32&&(this.U.y++,this.Ya()),!0;if(T(this.b.main_panel.tab1.ground1btn,c))return this.Le("ground1"),!0;if(T(this.b.main_panel.tab1.ground2btn,c))return this.Le("ground2"),!0;if(T(this.b.main_panel.tab1.groundShadowbtn,c))return this.Le("groundShadow"),!0;if(T(this.b.main_panel.tab1.mask1btn,c))return this.Le("mask1"),
!0;if(T(this.b.main_panel.tab1.mask2btn,c))return this.Le("mask2"),!0;if(T(this.b.main_panel.tab1.mask3btn,c))return this.Le("mask3"),!0;if(T(this.b.main_panel.tab1.fringe1btn,c))return this.Le("fringe1"),!0;if(T(this.b.main_panel.tab1.fringe2btn,c))return this.Le("fringe2"),!0;if(T(this.b.main_panel.tab1.fringeShadowbtn,c))return this.Le("fringeShadow"),!0;if(T(this.b.main_panel.tab1.fringe3btn,c))return this.Le("fringe3"),!0;if(T(this.b.main_panel.tab1.texturerightbtn,c))return this.Km(),!0;if(T(this.b.main_panel.tab1.textureleftbtn,
c))return this.Lm(),!0;if(T(this.b.main_panel.tab1.deletebtn,c))return this.ic="erasing"==this.ic?"tiles":"erasing",this.b.main_panel.tab1.deletebtn.l(Q),"erasing"==this.ic&&this.b.main_panel.tab1.deletebtn.l(S),!0;if(T(this.b.main_panel.tab1.fillbtn,c))return 0!=this.b.main_panel.tab1.selectednode.vi()&&(G.TP(O[this.L].name,p.a((this.b.main_panel.tab1.selectednode.p.w-16)/32+this.U.x,9-(this.b.main_panel.tab1.selectednode.p.G-16)/32+this.U.y),this.Cv),G.ns()),!0;c=this.b.main_panel.tab1.tiles.hb(a);
if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.f().width&&c.y<=this.b.main_panel.tab1.tiles.f().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+16;this.b.main_panel.tab1.selectednode.V(0);if(this.b.main_panel.tab1.selectednode.p.w!=c.x||this.b.main_panel.tab1.selectednode.p.G!=c.y)this.b.main_panel.tab1.selectednode.V(127),this.b.main_panel.tab1.selectednode.C(c);return!0}}if(2==this.Hb){if(T(this.b.main_panel.tab2.blockbtn,c))return this.b.main_panel.tab2.warpbtn.l(Q),this.b.main_panel.tab2.signbtn.l(Q),
this.b.main_panel.tab2.npcbtn.l(Q),this.b.main_panel.tab2.itembtn.l(Q),this.b.main_panel.tab2.blockbtn.l(Q),this.ic="blocking"==this.ic?"tiles":"blocking","blocking"==this.ic&&(this.b.main_panel.tab2.blockbtn.l(S),this.b.main_panel.tab2.amountLabelHead.u(!1),this.b.main_panel.tab2.amountLabel.C(68,-1E5)),!0;if(T(this.b.main_panel.tab2.warpbtn,c))return this.b.main_panel.tab2.warpbtn.l(Q),this.b.main_panel.tab2.signbtn.l(Q),this.b.main_panel.tab2.npcbtn.l(Q),this.b.main_panel.tab2.itembtn.l(Q),this.b.main_panel.tab2.blockbtn.l(Q),
this.b.main_panel.tab2.amountLabelHead.u(!1),this.b.main_panel.tab2.amountLabel.C(68,-1E6),this.ic="warping"==this.ic?"tiles":"warping","warping"==this.ic&&(null==Warpeditor||Warpeditor.X||(Warpeditor=null),Warpeditor&&(Warpeditor.yb(),Warpeditor.P(),Warpeditor=null),Warpeditor=new PopupList,Warpeditor.q({S:this,yj:new WarpEditor,list:ObjectLists.fm(),name:"Warp List"}),Warpeditor.Sa(),this.X.s(Warpeditor),this.Lb(!1),this.b.main_panel.tab2.warpbtn.l(S),this.b.main_panel.tab2.amountLabelHead.u(!1),
this.b.main_panel.tab2.amountLabel.C(68,-1E5)),!0;if(T(this.b.main_panel.tab2.signbtn,c))return this.b.main_panel.tab2.signbtn.l(Q),this.b.main_panel.tab2.warpbtn.l(Q),this.b.main_panel.tab2.npcbtn.l(Q),this.b.main_panel.tab2.itembtn.l(Q),this.b.main_panel.tab2.blockbtn.l(Q),this.b.main_panel.tab2.amountLabelHead.u(!1),this.b.main_panel.tab2.amountLabel.C(68,-1E6),this.ic="signs"==this.ic?"tiles":"signs","signs"==this.ic&&(null==Signeditor||Signeditor.X||(Signeditor=null),Signeditor&&(Signeditor.yb(),
Signeditor.P(),Signeditor=null),Signeditor=new PopupList,Signeditor.q({S:this,yj:new SignEditor,list:ObjectLists.vr(),name:"Sign List"}),Signeditor.Sa(),this.X.s(Signeditor),this.Lb(!1),this.b.main_panel.tab2.signbtn.l(S)),!0;if(T(this.b.main_panel.tab2.npcbtn,c))return this.b.main_panel.tab2.signbtn.l(Q),this.b.main_panel.tab2.warpbtn.l(Q),this.b.main_panel.tab2.npcbtn.l(Q),this.b.main_panel.tab2.itembtn.l(Q),this.b.main_panel.tab2.blockbtn.l(Q),this.b.main_panel.tab2.amountLabelHead.u(!1),this.b.main_panel.tab2.amountLabel.C(68,
-1E6),this.ic="npcs"==this.ic?"tiles":"npcs","npcs"==this.ic&&(null==NPCeditor||NPCeditor.X||(NPCeditor=null),NPCeditor&&(NPCeditor.yb(),NPCeditor.P(),NPCeditor=null),NPCeditor=new PopupList,NPCeditor.q({S:this,yj:new NPCEditor,list:ObjectLists.Ck(),name:"NPC List"}),NPCeditor.Sa(),this.X.s(NPCeditor),this.Lb(!1),this.b.main_panel.tab2.npcbtn.l(S)),!0;if(T(this.b.main_panel.tab2.itembtn,c))return this.b.main_panel.tab2.warpbtn.l(Q),this.b.main_panel.tab2.itembtn.l(Q),this.b.main_panel.tab2.npcbtn.l(Q),
this.b.main_panel.tab2.blockbtn.l(Q),this.b.main_panel.tab2.amountLabelHead.u(!1),this.b.main_panel.tab2.amountLabel.C(68,-1E6),this.ic="items"==this.ic?"tiles":"items","items"==this.ic&&(null==Itemeditor||Itemeditor.X||(Itemeditor=null),Itemeditor&&(Itemeditor.yb(),Itemeditor.P(),Itemeditor=null),Itemeditor=new PopupList,Itemeditor.q({S:this,yj:new ItemEditor,list:ObjectLists.ui(),name:"Item List"}),Itemeditor.Sa(),this.X.s(Itemeditor),this.Lb(!1),this.b.main_panel.tab2.itembtn.l(S)),!0}if(3==this.Hb){if(T(this.b.main_panel.tab3.clearbtn,
c))return this.Lw(!0),!0;if(T(this.b.main_panel.tab3.clearbtnNo,c))return this.Lw(!1),!0;if(T(this.b.main_panel.tab3.clearbtnYes,c))return G.pd(),this.Lw(!1),!0;if(T(this.b.main_panel.tab3.savebtn,c))return this.Mw(!0),!0;if(T(this.b.main_panel.tab3.savebtnNo,c))return this.Mw(!1),!0;if(T(this.b.main_panel.tab3.savebtnYes,c))return G.qI({up:this.Mr.ka(),down:this.Jr.ka(),left:this.Kr.ka(),right:this.Lr.ka()}),G.nJ(),this.Mw(!1),!0;if(T(this.b.main_panel.tab3.saveOnExit,c))return this.yI(!this.ww),
!0}return!1},Le:function(a){this.b.main_panel.tab1.ground1btn.l(Q);this.b.main_panel.tab1.ground2btn.l(Q);this.b.main_panel.tab1.groundShadowbtn.l(Q);this.b.main_panel.tab1.mask1btn.l(Q);this.b.main_panel.tab1.mask2btn.l(Q);this.b.main_panel.tab1.mask3btn.l(Q);this.b.main_panel.tab1.fringe1btn.l(Q);this.b.main_panel.tab1.fringe2btn.l(Q);this.b.main_panel.tab1.fringeShadowbtn.l(Q);this.b.main_panel.tab1.fringe3btn.l(Q);this.b.main_panel.tab1[a+"btn"].l(R);this.Cv=a},Km:function(){this.L>=O.length-
1&&(this.L=-1);this.L++;this.b.main_panel.tab1.tiles.ba(O[this.L].texture);this.Db=O[this.L].name;this.b.main_panel.tab1.textureName.text.Z(this.Db);this.U=p.a(0,0);this.Ya()},Lm:function(){0>=this.L&&(this.L=O.length);this.L--;this.b.main_panel.tab1.tiles.ba(O[this.L].texture);this.Db=O[this.L].name;this.b.main_panel.tab1.textureName.text.Z(this.Db);this.U=p.a(0,0);this.Ya()},Lw:function(a){this.b.main_panel.tab3.clearbtnYes.u(a);this.b.main_panel.tab3.clearbtnNo.u(a);this.b.main_panel.tab3.clear_text.u(a);
this.b.main_panel.tab3.clearbtn.u(!a)},Mw:function(a){this.b.main_panel.tab3.savebtnYes.u(a);this.b.main_panel.tab3.savebtnNo.u(a);this.b.main_panel.tab3.save_text.u(a);this.b.main_panel.tab3.savebtn.u(!a)},cJ:function(a,c,d){if(a[c]==this.iH&&"moved"==d)return!1;this.iH=a[c];switch(this.ic){case "tiles":0!=this.b.main_panel.tab1.selectednode.vi()&&G.Gj(c,O[this.L].name,p.a((this.b.main_panel.tab1.selectednode.p.w-16)/32+this.U.x,9-(this.b.main_panel.tab1.selectednode.p.G-16)/32+this.U.y),this.Cv);
break;case "blocking":if(1!=a[c].Vd()){G.Ei(c,1);break}G.Ei(c,0);break;case "warping":if(null==Warpeditor||!Warpeditor.X){if(3!=a[c].Vd()){G.Ei(c,3,this.Rk);break}G.Ei(c,0,null)}break;case "signs":if(null==Signeditor||!Signeditor.X){if(7!=a[c].Vd()){G.Ei(c,7,this.Rk);break}G.Ei(c,0,null)}break;case "items":if(null==Itemeditor||!Itemeditor.X){if(4!=a[c].Vd()){G.Ei(c,4,this.Rk,{amount:this.Hr.ka()});break}G.Ei(c,0,null)}break;case "npcs":if(null==NPCeditor||!NPCeditor.X){if(5!=a[c].Vd()){G.Ei(c,5,this.Rk);
break}G.Ei(c,0,null)}break;case "erasing":G.VA(c,this.Cv)}}});NPCeditor=null;
NPCEditor=Popup.extend({Db:P[0].name,L:0,Ce:function(){return{panels:{position:p.a(300,10),children:{main_panel:{c:p.a(0,0),position:p.a(0,0),size:p.size(420,396),m:p.t(0,0,100,120),children:{tab1:{children:{tiles:{c:p.a(0,1),position:p.a(48,320),bc:P[0].name},textureleftbtn:{position:p.a(32,340),size:p.size(16,32),m:Q,c:p.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.k(0,0,0)}}},texturerightbtn:{position:p.a(144,340),size:p.size(16,32),m:Q,c:p.a(0,
0),children:{text:{label:"\x3e\x3e",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.k(0,0,0)}}},textureName:{position:p.a(48,340),size:p.size(96,32),m:p.t(255,255,255,170),c:p.a(0,0),children:{text:{label:P[0].name,fontSize:12,c:p.a(0.5,0.5),position:p.a(48,16),color:p.k(0,0,0)}}},upbtn:{position:p.a(48,320),size:p.size(96,16),m:p.t(0,0,255,255),c:p.a(0,0),children:{text:{label:"^",fontSize:12,c:p.a(0.5,0.5),position:p.a(48,8),color:p.k(255,255,255)}}},downbtn:{position:p.a(48,48),size:p.size(96,
16),m:p.t(0,0,255,255),c:p.a(0,0),children:{text:{label:"v",fontSize:12,c:p.a(0.5,0.5),position:p.a(48,8),color:p.k(255,255,255)}}},highlightnode:{c:p.a(0,0),position:p.a(0,0),size:p.size(96,128),m:p.t(255,100,100,255)},selectednode:{c:p.a(0,0),position:p.a(0,0),size:p.size(96,128),m:p.t(100,255,100,255)}}},tab2:{children:{itemdetailsback:{position:p.a(144,0),size:p.size(250,366),m:p.t(0,0,255,100),c:p.a(0,0)},name_text:{label:"Item Name",fontSize:10,c:p.a(0,0),position:p.a(8,344)},name_entry:{size:p.size(136,
32),position:p.a(4,312)}}},tab3:{},tab1Clickable:{position:p.a(0,376),size:p.size(60,20),m:Q,c:p.a(0,0),children:{text:{label:"Sprite",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.k(0,0,0)}}},tab2Clickable:{position:p.a(64,376),size:p.size(60,20),m:Q,c:p.a(0,0),children:{text:{label:"Details",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.k(0,0,0)}}},tab3Clickable:{position:p.a(128,376),size:p.size(60,20),m:Q,c:p.a(0,0),children:{text:{label:"Modifier",fontSize:12,c:p.a(0.5,0.5),
position:p.a(32,10),color:p.k(0,0,0)}}},okbtn:{position:p.a(104,8),size:p.size(60,32),m:Q,c:p.a(0,0),children:{text:{label:"OK",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.k(0,0,0)}}},cancelbtn:{position:p.a(32,8),size:p.size(60,32),m:Q,c:p.a(0,0),children:{text:{label:"Cancel",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.k(0,0,0)}}}}},control_panel:{c:p.a(0,0),position:p.a(0,396),size:p.size(420,32),m:p.t(255,0,0,200),children:{header:{label:"Item Editor",fontSize:20,c:p.a(0,
0.5),position:p.a(8,16)},exitBtn:{position:p.a(391,3),size:p.size(26,26),c:p.a(0,0),m:p.t(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.k(0,0,0),c:p.a(0.5,0.5),position:p.a(13,13)}}}}}}}}},Be:function(){return"npcEditor"},ib:null,Bc:null,Hb:0,S:null,data:null,q:function(a){this._super();this.data={name:"",sprite:{texture:null,position:null}};this.Db=P[0].name;this.L=0;this.Bc=this.ib=null;this.Hb=0;this.S=null;this.U=p.a(0,0);this.Bc=[null,190,400,200];this.S=a.S;a&&a.data&&(this.data=
a.data)},Vr:function(a){H({savenpcs:a+"",npcsdata:this.data})},lr:function(a,c){H({savenpcswhole:c})},Sa:function(){this._super();this.b.main_panel.tab1.highlightnode.V(0);this.b.main_panel.tab1.selectednode.V(127);for(var a in P)P[a].name==this.data.sprite.texture&&(this.L=a,this.Db=P[a].name);this.b.main_panel.tab1.textureName.text.Z(this.Db);this.b.main_panel.tab1.tiles.ba(P[this.L].texture);this.ib=new Y(this.b.main_panel.tab2.name_entry,p.size(this.b.main_panel.tab2.name_entry.f().width,this.b.main_panel.tab2.name_entry.f().height),
p.a(0,this.b.main_panel.tab2.name_entry.f().height),this.data.name?this.data.name:"",p.t(100,100,100),p.k(255,255,255));this.ib.Ge(!0);this.ud(1);this.Ya()},DI:function(){},yb:function(a){if(this.S){var c=this.S;!0!=a&&this.S.td(function(){c.Ye(null)})}},Vg:function(a){if(1==this.Hb&&(this.b.main_panel.tab1.highlightnode.V(0),a=this.b.main_panel.tab1.tiles.hb(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.f().width&&a.y<=this.b.main_panel.tab1.tiles.f().height))return a.x=a.x-a.x%96+48,a.y=
a.y-a.y%128+64,this.b.main_panel.tab1.highlightnode.V(127),this.b.main_panel.tab1.highlightnode.C(a),!0},ud:function(a){a!=this.Hb&&(this.b.main_panel.ea(this.Bc[a],this.b.main_panel.f().height),this.b.control_panel.ea(this.Bc[a],this.b.control_panel.f().height),this.b.main_panel.tab2.name_entry.xb(this.b.main_panel.tab2.name_entry.p.w-1E3),this.Hb=a,this.b.main_panel.tab1.u(!1),this.b.main_panel.tab2.u(!1),this.b.main_panel.tab3.u(!1),this.b.main_panel.tab1Clickable.l(Q),this.b.main_panel.tab2Clickable.l(Q),
this.b.main_panel.tab3Clickable.l(Q),this.b.main_panel["tab"+a].u(!0),this.b.main_panel["tab"+a+"Clickable"].l(p.t(255,255,0,255)),2==a&&this.b.main_panel.tab2.name_entry.xb(4),this.b.control_panel.exitBtn.xb(this.Bc[a]-29))},Ya:function(){this.sd(this.Ya);this.b.main_panel.tab1.tiles.Q()&&!0==this.b.main_panel.tab1.tiles.Q().dc&&(this.kg(this.Ya),this.b.main_panel.tab1.tiles.jb(p.rect(Math.floor(96*this.U.x),Math.floor(128*this.U.y),96>P[this.L].texture.f().width?P[this.L].texture.f().width:96,256>
P[this.L].texture.f().height?P[this.L].texture.f().height:256)))},Ib:function(a){if(this._super(a))return!0;this.df=null;a=a.$;var c=this.b.main_panel.hb(a);if(T(this.b.main_panel.tab1Clickable,c))return this.ud(1),!0;if(T(this.b.main_panel.tab2Clickable,c))return this.ud(2),!0;if(T(this.b.main_panel.tab3Clickable,c))return this.ud(3),!0;if(T(this.b.main_panel.okbtn,c)){if(null==this.ib.ka()||""==this.ib.ka())return!0;this.Dh=!0;this.data.name=this.ib.ka();this.S.Ye(this.data);return!0}if(T(this.b.main_panel.cancelbtn,
c)){this.Dh=!0;var d=this.S;this.S.td(function(){d.Ye(null)});return!0}if(1==this.Hb){if(T(this.b.main_panel.tab1.upbtn,c))return 320<P[this.L].texture.f().height&&0<this.U.y&&(this.U.y--,this.Ya()),!0;if(T(this.b.main_panel.tab1.downbtn,c))return 320<P[this.L].texture.f().height&&this.U.y<(P[this.L].texture.f().height-320)/32&&(this.U.y++,this.Ya()),!0;if(T(this.b.main_panel.tab1.texturerightbtn,c))return this.Km(),!0;if(T(this.b.main_panel.tab1.textureleftbtn,c))return this.Lm(),!0;c=this.b.main_panel.tab1.tiles.hb(a);
if(T(this.b.main_panel.tab1.tiles,c)){c.x=c.x-c.x%96+48;c.y=c.y-c.y%128+64;this.b.main_panel.tab1.selectednode.V(0);if(this.b.main_panel.tab1.selectednode.p.w!=c.x||this.b.main_panel.tab1.selectednode.p.G!=c.y)this.b.main_panel.tab1.selectednode.V(127),this.b.main_panel.tab1.selectednode.C(c);a=p.a((this.b.main_panel.tab1.selectednode.p.w-16)/96+this.U.x,8-(this.b.main_panel.tab1.selectednode.p.G-64)/128+this.U.y-1);this.data.sprite.position=a;return!0}}return!1},ZI:function(){this.data.stackable=
!this.data.stackable;this.b.main_panel.tab2.stackbtn.l(S);this.b.main_panel.tab2.stackbtn.text.Z("NOT STACKABLE");!0==this.data.stackable&&(this.b.main_panel.tab2.stackbtn.l(R),this.b.main_panel.tab2.stackbtn.text.Z("IS STACKABLE"))},Di:function(a){this.b.main_panel.tab2.wearabletab.head.l(Q);this.b.main_panel.tab2.wearabletab.body.l(Q);this.b.main_panel.tab2.wearabletab.legs.l(Q);this.b.main_panel.tab2.wearabletab.feet.l(Q);this.b.main_panel.tab2.wearabletab.rarm.l(Q);this.b.main_panel.tab2.wearabletab.larm.l(Q);
this.b.main_panel.tab2.wearabletab.mod.l(Q);"wearable"==this.data.itemType&&this.b.main_panel.tab2.wearabletab[a]&&this.b.main_panel.tab2.wearabletab[a].l(S);this.data.subType=a},Km:function(){this.L>=P.length-1&&(this.L=-1);this.L++;this.b.main_panel.tab1.tiles.ba(P[this.L].texture);this.Db=P[this.L].name;this.b.main_panel.tab1.textureName.text.Z(this.Db);this.data.sprite.texture=this.Db;this.U=p.a(0,0);this.Ya()},Lm:function(){0>=this.L&&(this.L=P.length);this.L--;this.b.main_panel.tab1.tiles.ba(P[this.L].texture);
this.Db=P[this.L].name;this.b.main_panel.tab1.textureName.text.Z(this.Db);this.U=p.a(0,0);this.Ya()}});Skillseditor=null;
SkillsEditor=Popup.extend({Db:O[0].name,L:0,Ce:function(){return{panels:{position:p.a(300,10),children:{main_panel:{c:p.a(0,0),position:p.a(0,0),size:p.size(420,396),m:p.t(0,0,100,120),children:{tab1:{children:{tiles:{c:p.a(0,1),position:p.a(16,320),bc:O[0].name},textureleftbtn:{position:p.a(208,340),size:p.size(16,32),m:Q,c:p.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.k(0,0,0)}}},texturerightbtn:{position:p.a(320,340),size:p.size(16,32),m:Q,c:p.a(0,
0),children:{text:{label:"\x3e\x3e",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.k(0,0,0)}}},textureName:{position:p.a(224,340),size:p.size(96,32),m:p.t(255,255,255,170),c:p.a(0,0),children:{text:{label:O[0].name,fontSize:12,c:p.a(0.5,0.5),position:p.a(48,16),color:p.k(0,0,0)}}},leftbtn:{position:p.a(0,64),size:p.size(16,252),m:p.t(0,0,255,255),c:p.a(0,0),children:{text:{label:"\x3c",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,160),color:p.k(255,255,255)}}},rightbtn:{position:p.a(336,64),size:p.size(16,
252),m:p.t(0,0,255,255),c:p.a(0,0),children:{text:{label:"\x3e",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,160),color:p.k(255,255,255)}}},upbtn:{position:p.a(16,320),size:p.size(320,16),m:p.t(0,0,255,255),c:p.a(0,0),children:{text:{label:"^",fontSize:12,c:p.a(0.5,0.5),position:p.a(160,8),color:p.k(255,255,255)}}},downbtn:{position:p.a(16,48),size:p.size(320,16),m:p.t(0,0,255,255),c:p.a(0,0),children:{text:{label:"v",fontSize:12,c:p.a(0.5,0.5),position:p.a(160,8),color:p.k(255,255,255)}}},highlightnode:{c:p.a(0,
0),position:p.a(0,0),size:p.size(32,32),m:p.t(255,100,100,255)},selectednode:{c:p.a(0,0),position:p.a(0,0),size:p.size(32,32),m:p.t(100,255,100,255)}}},tab2:{children:{name_text:{label:"Skill Name",fontSize:10,c:p.a(0,0),position:p.a(8,344)},name_entry:{size:p.size(136,32),position:p.a(4,312)},healthcolor_text:{label:"Healthbar Color",fontSize:10,c:p.a(0,0),position:p.a(8,250)},healthcolor_entry:{size:p.size(136,32),position:p.a(4,210)},tile:{c:p.a(0,1),position:p.a(55,150),bc:O[0].name},healthbtn:{position:p.a(8,
265),size:p.size(128,26),m:S,c:p.a(0,0),children:{text:{label:"NOT HEALTHBAR",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.k(0,0,0)}}}}},tab1Clickable:{position:p.a(0,376),size:p.size(60,20),m:Q,c:p.a(0,0),children:{text:{label:"Icon",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.k(0,0,0)}}},tab2Clickable:{position:p.a(64,376),size:p.size(60,20),m:Q,c:p.a(0,0),children:{text:{label:"Details",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.k(0,0,0)}}},okbtn:{position:p.a(76,
8),size:p.size(60,32),m:Q,c:p.a(0,0),children:{text:{label:"OK",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.k(0,0,0)}}},cancelbtn:{position:p.a(8,8),size:p.size(60,32),m:Q,c:p.a(0,0),children:{text:{label:"Cancel",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.k(0,0,0)}}}}},control_panel:{c:p.a(0,0),position:p.a(0,396),size:p.size(420,32),m:p.t(255,0,0,200),children:{header:{label:"Skill Editor",fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(391,3),size:p.size(26,
26),c:p.a(0,0),m:p.t(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.k(0,0,0),c:p.a(0.5,0.5),position:p.a(13,13)}}}}}}}}},Be:function(){return"SkillsEditor"},ib:null,Ao:null,Bc:null,Hb:0,S:null,data:null,q:function(a){this._super();this.data={sprite:{texture:O[0].name,position:{x:0,y:0}},additionalData:{},healthbar:null,name:""};this.Db=O[0].name;this.L=0;this.Bc=this.ib=null;this.Hb=0;this.S=null;this.U=p.a(0,0);this.Bc=[null,352,142];this.S=a.S;a&&a.data&&(this.data=a.data)},Vr:function(a){H({saveskills:a+
"",skillsdata:this.data})},lr:function(a,c){H({saveskillswhole:c})},Sa:function(){this._super();this.b.main_panel.tab1.highlightnode.V(0);this.b.main_panel.tab1.selectednode.V(127);for(var a in O)O[a].name==this.data.sprite.texture&&(this.L=a,this.Db=O[a].name);this.b.main_panel.tab1.textureName.text.Z(this.Db);this.b.main_panel.tab1.tiles.ba(O[this.L].texture);for(a=this.data.sprite.position.x;10<=a;)a--,this.U.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.U.y++;a=p.a(32*(this.data.sprite.position.x-
this.U.x),32*(this.data.sprite.position.y-this.U.y));this.b.main_panel.tab1.selectednode.C(this.b.main_panel.tab1.tiles.p.x+a.x,this.b.main_panel.tab1.tiles.p.y-(a.y+32));this.b.main_panel.tab2.tile.ba(O[this.L].texture);this.b.main_panel.tab2.tile.jb(p.rect(Math.floor(32*this.data.sprite.position.x),Math.floor(32*this.data.sprite.position.y),32,32));this.ib=new Y(this.b.main_panel.tab2.name_entry,p.size(this.b.main_panel.tab2.name_entry.f().width,this.b.main_panel.tab2.name_entry.f().height),p.a(0,
this.b.main_panel.tab2.name_entry.f().height),this.data.name?this.data.name:"",p.t(100,100,100),p.k(255,255,255));this.ib.Ge(!0);this.Ao=new Y(this.b.main_panel.tab2.healthcolor_entry,p.size(this.b.main_panel.tab2.healthcolor_entry.f().width,this.b.main_panel.tab2.healthcolor_entry.f().height),p.a(0,this.b.main_panel.tab2.healthcolor_entry.f().height),this.data.healthbar?this.data.healthbar:"",p.t(100,100,100),p.k(255,255,255));this.Ao.Ge(!0);this.b.main_panel.tab2.healthbtn.l(S);this.b.main_panel.tab2.healthbtn.text.Z("NOT HEALTHBAR");
null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.l(R),this.b.main_panel.tab2.healthbtn.text.Z("IS HEALTHBAR"));this.ud(1);this.Ya()},DI:function(){},yb:function(a){if(this.S){var c=this.S;!0!=a&&this.S.td(function(){c.Ye(null)})}},Vg:function(a){if(1==this.Hb&&(this.b.main_panel.tab1.highlightnode.V(0),a=this.b.main_panel.tab1.tiles.hb(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.f().width&&a.y<=this.b.main_panel.tab1.tiles.f().height))return a.x=a.x-a.x%
32+16,a.y=a.y-a.y%32+64,this.b.main_panel.tab1.highlightnode.V(127),this.b.main_panel.tab1.highlightnode.C(a),!0},ud:function(a){a!=this.Hb&&(this.b.main_panel.ea(this.Bc[a],this.b.main_panel.f().height),this.b.control_panel.ea(this.Bc[a],this.b.control_panel.f().height),this.b.main_panel.tab2.name_entry.xb(this.b.main_panel.tab2.name_entry.p.w-1E3),this.b.main_panel.tab2.healthcolor_entry.xb(this.b.main_panel.tab2.healthcolor_entry.p.w-1E3),this.b.main_panel.tab2.healthcolor_text.u(!1),this.Hb=a,
this.b.main_panel.tab1.u(!1),this.b.main_panel.tab2.u(!1),this.b.main_panel.tab1Clickable.l(Q),this.b.main_panel.tab2Clickable.l(Q),this.b.main_panel["tab"+a].u(!0),this.b.main_panel["tab"+a+"Clickable"].l(p.t(255,255,0,255)),this.b.control_panel.exitBtn.xb(this.Bc[a]-29));2==a&&(this.b.main_panel.tab2.name_entry.xb(4),null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthcolor_entry.xb(4),this.b.main_panel.tab2.healthcolor_text.u(!0)))},Ya:function(){this.sd(this.Ya);
this.b.main_panel.tab1.tiles.Q()&&!0==this.b.main_panel.tab1.tiles.Q().dc&&(this.kg(this.Ya),this.b.main_panel.tab1.tiles.jb(p.rect(Math.floor(32*this.U.x),Math.floor(32*this.U.y),320>O[this.L].texture.f().width?O[this.L].texture.f().width:320,256>O[this.L].texture.f().height?O[this.L].texture.f().height:256)))},Ib:function(a){if(this._super(a))return!0;this.df=null;a=a.$;var c=this.b.main_panel.hb(a);if(T(this.b.main_panel.tab1Clickable,c))return this.ud(1),!0;if(T(this.b.main_panel.tab2Clickable,
c))return this.ud(2),!0;if(T(this.b.main_panel.okbtn,c)){if(null==this.ib.ka()||""==this.ib.ka())return!0;this.Dh=!0;this.data.name=this.ib.ka();if(null!=this.Ao.ka()||""!=this.Ao.ka())this.data.healthbar=this.Ao.ka();this.S.Ye(this.data);return!0}if(T(this.b.main_panel.cancelbtn,c)){this.Dh=!0;var d=this.S;this.S.td(function(){d.Ye(null)});return!0}if(1==this.Hb){if(T(this.b.main_panel.tab1.leftbtn,c))return 264<O[this.L].texture.f().width&&0<this.U.x&&(this.U.x--,this.Ya()),!0;if(T(this.b.main_panel.tab1.rightbtn,
c))return 320<O[this.L].texture.f().width&&this.U.x<(O[this.L].texture.f().width-320)/32&&(this.U.x++,this.Ya()),!0;if(T(this.b.main_panel.tab1.upbtn,c))return 320<O[this.L].texture.f().height&&0<this.U.y&&(this.U.y--,this.Ya()),!0;if(T(this.b.main_panel.tab1.downbtn,c))return 320<O[this.L].texture.f().height&&this.U.y<(O[this.L].texture.f().height-320)/32&&(this.U.y++,this.Ya()),!0;if(T(this.b.main_panel.tab1.texturerightbtn,c))return this.Km(),!0;if(T(this.b.main_panel.tab1.textureleftbtn,c))return this.Lm(),
!0;c=this.b.main_panel.tab1.tiles.hb(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.f().width&&c.y<=this.b.main_panel.tab1.tiles.f().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+64;this.b.main_panel.tab1.selectednode.V(0);if(this.b.main_panel.tab1.selectednode.p.w!=c.x||this.b.main_panel.tab1.selectednode.p.G!=c.y)this.b.main_panel.tab1.selectednode.V(127),this.b.main_panel.tab1.selectednode.C(c);a=p.a((this.b.main_panel.tab1.selectednode.p.w-16)/32+this.U.x,8-(this.b.main_panel.tab1.selectednode.p.G-
64)/32+this.U.y-1);this.b.main_panel.tab2.tile.jb(p.rect(32*a.x,32*a.y,32,32));this.data.sprite.position=a;console.log("TOUCHED");return!0}}return 2==this.Hb&&T(this.b.main_panel.tab2.healthbtn,c)?(this.hV(),!0):!1},hV:function(){this.b.main_panel.tab2.healthcolor_entry.xb(this.b.main_panel.tab2.healthcolor_entry.p.w-1E3);this.b.main_panel.tab2.healthcolor_text.u(!1);null!=this.data.healthbar&&""!=this.data.healthbar?(this.data.healthbar="",this.Ao.Yg("")):(this.data.healthbar="FF0000",this.b.main_panel.tab2.healthcolor_entry.xb(4),
this.b.main_panel.tab2.healthcolor_text.u(!0));this.b.main_panel.tab2.healthbtn.l(S);this.b.main_panel.tab2.healthbtn.text.Z("NOT HEALTHBAR");null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.l(R),this.b.main_panel.tab2.healthbtn.text.Z("IS HEALTHBAR"))},Km:function(){this.L>=O.length-1&&(this.L=-1);this.L++;this.b.main_panel.tab1.tiles.ba(O[this.L].texture);this.b.main_panel.tab2.tile.ba(O[this.L].texture);this.Db=O[this.L].name;this.b.main_panel.tab1.textureName.text.Z(this.Db);
this.data.sprite.texture=this.Db;this.U=p.a(0,0);this.Ya()},Lm:function(){0>=this.L&&(this.L=O.length);this.L--;this.b.main_panel.tab1.tiles.ba(O[this.L].texture);this.b.main_panel.tab2.tile.ba(O[this.L].texture);this.Db=O[this.L].name;this.b.main_panel.tab1.textureName.text.Z(this.Db);this.U=p.a(0,0);this.Ya()}});PopupList=Popup.extend({Kg:null,Gc:[],BB:null,fs:!1,vw:-1,yb:function(){this.S&&this.S.Lb(!0)},q:function(a){this._super();this.Kg=null;this.Gc=[];this.BB=null;this.fs=!1;this.vw=-1;this.Kg=a.yj;a.list&&(this.Gc=a.list);this.BB=a.name;this.S=a.S},Ce:function(){var a={},c;for(c in this.Gc)null==this.Gc[c]?this.Gc.splice(c,1):(null!=this.S?(a["useElement"+c]={size:p.size(32,26),m:p.t(0,255,0,200),position:p.a(0,302-30*c),children:{content:{label:"Use",fontSize:20,c:p.a(0.5,0.5),position:p.a(16,13)}}},
a["element"+c]={size:p.size(116,26),m:p.t(140,140,140,200),position:p.a(32,302-30*c),children:{content:{label:this.Gc[c].name,fontSize:20,c:p.a(0.5,0.5),position:p.a(58,13)}}}):a["element"+c]={size:p.size(148,26),m:p.t(140,140,140,200),position:p.a(0,302-30*c),children:{content:{label:this.Gc[c].name,fontSize:20,c:p.a(0.5,0.5),position:p.a(79,13)}}},a["delElement"+c]={size:p.size(32,26),m:p.t(255,0,0,200),position:p.a(148,302-30*c),children:{content:{label:"Del",fontSize:20,c:p.a(0.5,0.5),position:p.a(16,
13)}}});return{panels:{position:p.a(300,200),children:{main_panel:{c:p.a(0,0),size:p.size(180,328),m:p.t(255,255,255,200),children:{list:{children:a},addButton:{size:p.size(90,26),m:p.t(140,140,140,200),position:p.a(45,302-30*this.Gc.length),children:{content:{label:"+",fontSize:20,c:p.a(0.5,0.5),position:p.a(45,13)}}}}},control_panel:{c:p.a(0,0),position:p.a(0,328),size:p.size(180,32),m:p.t(255,0,0,200),children:{header:{label:this.BB,fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(151,
3),size:p.size(26,26),c:p.a(0,0),m:p.t(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.k(0,0,0),c:p.a(0.5,0.5),position:p.a(13,13)}}}}}}}}},Ib:function(a){if(this._super(a))return!0;this.df=null;a=this.b.main_panel.hb(a.$);if(!1==this.fs){for(var c in this.Gc){if(T(this.b.main_panel.list["element"+c],a))return this.fs=!0,this.Kg.q({S:this,data:this.Gc[c]}),this.X.s(this.Kg),this.Lb(!1),this.Kg.Sa(),this.vw=c+"",!0;if(T(this.b.main_panel.list["delElement"+c],a))return this.yP(c),
!0;if(this.S&&T(this.b.main_panel.list["useElement"+c],a))return this.S.NU(c,this.Gc[c]),!0}if(T(this.b.main_panel.addButton,a))return this.fs=this.TF=!0,this.vw=this.Gc.length,this.Kg.q({S:this,data:null}),this.Lb(!1),this.X.s(this.Kg),this.Kg.Sa(),!0}},Ye:function(a){a&&(this.Kg.Vr(this.vw),this.TF&&(this.Gc.push(a),this.b.P(),this.b=Ba(this),this.s(this.b)));this.Lb(!0);this.fs=this.TF=!1;var c=this;this.td(function(){c.Kg.yb(!0);c.Kg.P()})},yP:function(a){this.Gc.splice(a,1);this.Kg.lr(a,this.Gc);
this.b.P();this.b=Ba(this);this.s(this.b)}});Warpeditor=null;
WarpEditor=Popup.extend({Be:function(){return"WarpEditor"},Vr:function(a){H({savewarps:a+"",warpdata:this.data})},lr:function(a,c){H({savewarpswhole:c})},Ce:function(){return{panels:{position:p.a(300,200),children:{main_panel:{c:p.a(0,0),size:p.size(180,160),m:p.t(100,255,100,200),children:{okbtn:{position:p.a(100,16),size:p.size(60,32),m:p.t(255,255,255,255),c:p.a(0,0),children:{text:{label:"OK",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.k(0,0,0)}}},cancelbtn:{position:p.a(20,16),size:p.size(60,
32),m:p.t(255,255,255,255),c:p.a(0,0),children:{text:{label:"Cancel",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.k(0,0,0)}}},namelbl:{label:"Name of warp.",fontSize:12,c:p.a(0,0),position:p.a(20,140),color:p.k(0,0,0)},nameEntry:{position:p.a(16,110),size:p.size(120,30)},mapnumlbl:{label:"Map #",fontSize:12,c:p.a(0,0),position:p.a(20,90),color:p.k(0,0,0)},mapNumEntry:{position:p.a(16,60),size:p.size(40,30)},mapxlbl:{label:"x",fontSize:12,c:p.a(0,0),position:p.a(80,90),color:p.k(0,0,0)},
mapXEntry:{position:p.a(76,60),size:p.size(36,30)},mapylbl:{label:"y",fontSize:12,c:p.a(0,0),position:p.a(130,90),color:p.k(0,0,0)},mapYEntry:{position:p.a(126,60),size:p.size(36,30)}}},control_panel:{c:p.a(0,0),position:p.a(0,160),size:p.size(180,32),m:p.t(255,0,0,200),children:{header:{label:"Warp Editor",fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(151,3),size:p.size(26,26),c:p.a(0,0),m:p.t(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.k(0,0,0),c:p.a(0.5,
0.5),position:p.a(13,13)}}}}}}}}},ib:null,Io:null,Jo:null,Ko:null,S:null,data:null,q:function(a){this._super();this.S=this.Ko=this.Jo=this.Io=this.ib=null;this.data={mapTo:0,position:0,name:""};a.data&&(this.data=a.data);this.S=a.S},Sa:function(){this._super();var a=this.data.position%U,c=Math.floor(this.data.position/U);this.ib=new Y(this.b.main_panel.nameEntry,p.size(this.b.main_panel.nameEntry.f().width,this.b.main_panel.nameEntry.f().height),p.a(0,this.b.main_panel.nameEntry.f().height),this.data.name,
p.t(100,100,100),p.k(255,255,255));this.ib.Ge(!0);this.Io=new Y(this.b.main_panel.mapNumEntry,p.size(this.b.main_panel.mapNumEntry.f().width,this.b.main_panel.mapNumEntry.f().height),p.a(0,this.b.main_panel.mapNumEntry.f().height),""+this.data.mapTo,p.t(100,100,100),p.k(255,255,255));this.Io.Ge(!0);this.Jo=new Y(this.b.main_panel.mapXEntry,p.size(this.b.main_panel.mapXEntry.f().width,this.b.main_panel.mapXEntry.f().height),p.a(0,this.b.main_panel.mapXEntry.f().height),""+a,p.t(100,100,100),p.k(255,
255,255));this.Jo.Ge(!0);this.Ko=new Y(this.b.main_panel.mapYEntry,p.size(this.b.main_panel.mapYEntry.f().width,this.b.main_panel.mapYEntry.f().height),p.a(0,this.b.main_panel.mapYEntry.f().height),""+c,p.t(100,100,100),p.k(255,255,255));this.Ko.Ge(!0)},Ib:function(a){if(this._super(a))return!0;this.df=null;a=this.b.main_panel.hb(a.$);if(T(this.b.main_panel.okbtn,a)){if(null==this.ib.ka()||""==this.ib.ka()||null==this.Io.ka()||""==this.Io.ka()||null==this.Jo.ka()||""==this.Jo.ka()||null==this.Ko.ka()||
""==this.Ko.ka())return!0;this.Dh=!0;this.data.position=V(parseInt(this.Jo.ka()),Ia-parseInt(this.Ko.ka()));this.data.mapTo=parseInt(this.Io.ka());this.data.name=this.ib.ka();this.S.Ye(this.data);return!0}if(T(this.b.main_panel.cancelbtn,a)){this.Dh=!0;var c=this.S;this.S.td(function(){c.Ye(null)});return!0}},yb:function(a){var c=this.S;a||this.S.td(function(){c.Ye(null)})}});Signeditor=null;
SignEditor=Popup.extend({Be:function(){return"SignEditor"},Vr:function(a){H({savesigns:a+"",signsdata:this.data})},lr:function(a,c){H({savesignswhole:c})},Ce:function(){return{panels:{position:p.a(300,200),children:{main_panel:{c:p.a(0,0),size:p.size(142,256),m:p.t(100,255,100,200),children:{okbtn:{position:p.a(74,16),size:p.size(60,32),m:p.t(255,255,255,255),c:p.a(0,0),children:{text:{label:"OK",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.k(0,0,0)}}},cancelbtn:{position:p.a(8,16),size:p.size(60,
32),m:p.t(255,255,255,255),c:p.a(0,0),children:{text:{label:"Cancel",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.k(0,0,0)}}},namelbl:{label:"Name of sign.",fontSize:12,c:p.a(0,0),position:p.a(6,238),color:p.k(0,0,0)},nameEntry:{position:p.a(4,206),size:p.size(120,30)},signlbl:{label:"Contents",fontSize:12,c:p.a(0,0),position:p.a(6,190),color:p.k(0,0,0)},signEntry:{position:p.a(4,60),size:p.size(120,128)}}},control_panel:{c:p.a(0,0),position:p.a(0,256),size:p.size(142,32),m:p.t(255,0,0,
200),children:{header:{label:"Sign Editor",fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(112,3),size:p.size(26,26),c:p.a(0,0),m:p.t(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.k(0,0,0),c:p.a(0.5,0.5),position:p.a(13,13)}}}}}}}}},ib:null,Zo:null,S:null,data:null,q:function(a){this._super();this.S=this.Zo=this.ib=null;this.data={label:"",name:""};a.data&&(this.data=a.data);this.S=a.S},Sa:function(){this._super();this.ib=new Y(this.b.main_panel.nameEntry,p.size(this.b.main_panel.nameEntry.f().width,
this.b.main_panel.nameEntry.f().height),p.a(0,this.b.main_panel.nameEntry.f().height),this.data.name,p.t(100,100,100),p.k(255,255,255));this.ib.Ge(!0);this.Zo=new Y(this.b.main_panel.signEntry,p.size(this.b.main_panel.signEntry.f().width,this.b.main_panel.signEntry.f().height),p.a(0,this.b.main_panel.signEntry.f().height),""+this.data.label,p.t(100,100,100),p.k(255,255,255),!0);this.Zo.Ge(!0)},Ib:function(a){if(this._super(a))return!0;this.df=null;a=this.b.main_panel.hb(a.$);if(T(this.b.main_panel.okbtn,
a)){if(null==this.ib.ka()||""==this.ib.ka()||null==this.Zo.ka()||""==this.Zo.ka())return!0;this.Dh=!0;this.data.label=this.Zo.ka();this.data.name=this.ib.ka();this.S.Ye(this.data);return!0}if(T(this.b.main_panel.cancelbtn,a)){this.Dh=!0;var c=this.S;this.S.td(function(){c.Ye(null)});return!0}},yb:function(a){var c=this.S;a||this.S.td(function(){c.Ye(null)})}});var Ja=Ka.extend({ctor:function(){this._super()},sJ:function(){this._super()},Sa:function(){this._super()},yb:function(){this._super()},Ib:function(a){p.Eb(this.b.health_panel.Wa(),a.$)&&y.d().gm("Game")},q:function(){var a=p.W.create("ITS WOKKIN!","Arial",16);a.l(p.k(0,0,0));a.C(p.a(200,200));this.s(a);this._super()}});var La=new XMLHttpRequest;La.open("GET","news.txt",!1);La.send(null);var Ma=La.responseText;
Login=Ka.extend({bC:!1,ps:!1,q:function(a){this._super();y.Xr(this);this.Or=new Y(this.b.name_entry,p.size(this.b.name_entry.f().width,this.b.name_entry.f().height),p.a(0,this.b.name_entry.f().height),"Enter Name",p.t(100,100,100),p.k(255,255,255));a&&(a.nH&&(u=[],H({logout:!0})),this.Em(a.cC));this.sd(this.vC)},ew:function(a){switch(a){case "ENTER":!1==this.ps&&this.bC?(this.ps=!0,H({login:!0,username:this.Or.ka()})):this.GB("Server is offline!")}},Em:function(a){this.bC=a;!0==a?(this.b.server_activity.Z("Server: Online"),
this.b.server_activity.l(p.k(0,255,0))):(this.b.server_activity.Z("Server: Offline"),this.b.server_activity.l(p.k(255,0,0)))},vC:function(){if(0<u.length)for(var a=u.length-1;0<=a;a--)reactToSocketMessage(u[a]),u.splice(a,1)},Ce:function(){return{panels:{children:{background:{bc:"GUI/splash.png",size:p.size(960,640),c:p.a(0,0),position:p.a(0,0)},name_entry:{size:p.size(300,30),position:p.a(325,300)},go_button:{position:p.a(420,220),size:p.size(120,40),m:p.t(0,0,0,255),children:{label:{label:"Play",
fontSize:20,color:p.k(255,255,255),c:p.a(0.5,0.5),position:p.a(60,20)}}},news_message:{label:Ma,fontSize:14,c:p.a(0,1),position:p.a(30,610)},server_message:{label:"",fontSize:16,color:p.k(127,0,0),c:p.a(0,0),position:p.a(327,325)},server_activity:{position:p.a(910,630),size:p.size(100,20),c:p.a(0.5,0.5),label:"Server: Offline",color:p.k(255,0,0)}}}}},Ib:function(a){if(null!=this.Or.ka()&&p.Eb(p.rect(this.b.go_button.p.w,this.b.go_button.p.G,this.b.go_button.f().width,this.b.go_button.f().height),
a.$))return!1==this.ps&&this.bC?(this.ps=!0,H({login:!0,username:this.Or.ka()})):this.GB("Server is offline!"),!0},$R:function(){y.d().gm("Game",{pJ:this.Or.ka(),map:1})},GB:function(a){this.b.server_message.Z(a);this.ps=!1},cd:function(){},De:function(){},D5:function(){y.d().gm("Game",{pJ:this.Or.ka()})}});Ja=null;MapMaster=!1;
var Na=Ka.extend({ctor:function(){this._super()},Ce:function(){return{panels:{children:{logout_button:{position:p.a(908,588),c:p.a(0,0),size:p.size(48,48),bc:"GUI/logout.png"}}}}},oQ:function(){return{panels:{children:{chattoggle:{position:p.a(410,0),size:p.size(64,64),m:p.t(255,255,255,120),children:{label:{label:"Chat",color:p.k(0,0,0),position:p.a(32,32)}}},inventorytoggle:{position:p.a(484,0),size:p.size(64,64),m:p.t(255,255,255,120),children:{label:{label:"Inventory",color:p.k(0,0,0),position:p.a(32,
32)}}},equipmenttoggle:{position:p.a(558,0),size:p.size(64,64),m:p.t(255,255,255,120),children:{label:{label:"Equipment",color:p.k(0,0,0),position:p.a(32,32)}}},upbutton:{position:p.a(632,0),size:p.size(64,64),m:p.t(255,255,255,120),children:{label:{label:"Up",color:p.k(0,0,0),position:p.a(32,32)}}},downbutton:{position:p.a(706,0),size:p.size(64,64),m:p.t(255,255,255,120),children:{label:{label:"Down",color:p.k(0,0,0),position:p.a(32,32)}}},leftbutton:{position:p.a(780,0),size:p.size(64,64),m:p.t(255,
255,255,120),children:{label:{label:"Left",color:p.k(0,0,0),position:p.a(32,32)}}},rightbutton:{position:p.a(854,0),size:p.size(64,64),m:p.t(255,255,255,120),children:{label:{label:"Right",color:p.k(0,0,0),position:p.a(32,32)}}},hidebutton:{position:p.a(928,0),size:p.size(32,64),m:p.t(255,255,255,120),children:{label:{label:"\x3c\x3c",color:p.k(0,0,0),position:p.a(16,32)}}}}}}},Em:function(a){!1==a&&(this.UA(),y.d().gm("Login",{cC:!1}))},UA:function(){G.pd();G.Zr();C.pd();C.Zr();D.pd();D.Zr()},Ib:function(a){if(p.Eb(p.rect(this.b.logout_button.p.w,
this.b.logout_button.p.G,this.b.logout_button.f().width,this.b.logout_button.f().height),a.$))return this.UA(),y.d().gm("Login",{nH:!0,cC:!0}),!0;y.Xr(this);if(this.Ta){if(p.Eb(this.Ta.upbutton.Wa(),a.$)&&this.Ta.upbutton.va)return M[38]=!0;if(p.Eb(this.Ta.downbutton.Wa(),a.$)&&this.Ta.downbutton.va)return M[40]=!0;if(p.Eb(this.Ta.leftbutton.Wa(),a.$)&&this.Ta.leftbutton.va)return M[37]=!0;if(p.Eb(this.Ta.rightbutton.Wa(),a.$)&&this.Ta.rightbutton.va)return M[39]=!0;if(p.Eb(this.Ta.chattoggle.Wa(),
a.$)&&this.Ta.chattoggle.va)return C.e.oa.path=null,D.gH()?D.mB():D.show(),!0;if(p.Eb(this.Ta.inventorytoggle.Wa(),a.$)&&this.Ta.inventorytoggle.va)return C.e.oa.path=null,null==Inventory||Inventory.X||(Equipment=null),Inventory?(Inventory.yb(),Inventory.P(),Inventory=null):(Inventory=new InventoryPanel,Inventory.q(),Inventory.Sa(),this.s(Inventory)),!0;if(p.Eb(this.Ta.equipmenttoggle.Wa(),a.$)&&this.Ta.equipmenttoggle.va)return C.e.oa.path=null,null==Equipment||Equipment.X||(Equipment=null),Equipment?
(Equipment.yb(),Equipment.P(),Equipment=null):(Equipment=new EquipmentPanel,Equipment.q(),Equipment.Sa(),this.s(Equipment)),!0;if(p.Eb(this.Ta.hidebutton.Wa(),a.$)&&this.Ta.hidebutton.va)return this.TI(!0==this.Ta.ER?!1:!0),M[37]=!1,M[38]=!1,M[39]=!1,M[34]=!1,!0}},YU:function(a){null==Sign||Sign.X||(Sign=null);Sign?(Sign.yb(),Sign.P(),Sign=null):(Sign=new SignPanel,Sign.q(a),Sign.Sa(),this.s(Sign))},De:function(a){if(this.Ta){if(p.Eb(this.Ta.upbutton.Wa(),a.$)&&this.Ta.upbutton.va)return M[38]=!1,
!0;if(p.Eb(this.Ta.downbutton.Wa(),a.$)&&this.Ta.downbutton.va)return M[40]=!1,!0;if(p.Eb(this.Ta.leftbutton.Wa(),a.$)&&this.Ta.leftbutton.va)return M[37]=!1,!0;if(p.Eb(this.Ta.rightbutton.Wa(),a.$)&&this.Ta.rightbutton.va)return M[39]=!1,!0}},ew:function(a){switch(a){case "C":D.gH()?D.mB():D.show();break;case "ENTER":D.yB()||D.eC(!0);break;case "SPACE":C.e.oa.wR();Inventory&&Inventory.hf();break;case "CTRL":C.e.oa.vR();break;case "ESC":this.UA();y.d().gm("Login",{nH:!0,cC:!0});break;case "I":null==
Inventory||Inventory.X||(Inventory=null);Inventory?(Inventory.yb(),Inventory.P(),Inventory=null):(Inventory=new InventoryPanel,Inventory.q(),Inventory.Sa(),this.s(Inventory));break;case "E":null==Equipment||Equipment.X||(Equipment=null);Equipment?(Equipment.yb(),Equipment.P(),Equipment=null):(Equipment=new EquipmentPanel,Equipment.q(),Equipment.Sa(),this.s(Equipment));break;case "S":null==Skills||Skills.X||(Skills=null),Skills?(Skills.yb(),Skills.P(),Skills=null):(Skills=new SkillsPanel,Skills.q(),
Skills.Sa(),this.s(Skills))}},FB:function(a){var c=C.e.oa.Og();C.e.oa.path=null;if(0==c.x%1&&0==c.y%1)switch(a){case "RIGHTARROW":C.e.oa.cp(c.x+1,c.y);break;case "LEFTARROW":C.e.oa.cp(c.x-1,c.y);break;case "UPARROW":C.e.oa.cp(c.x,c.y+1);break;case "DOWNARROW":C.e.oa.cp(c.x,c.y-1)}},TI:function(a){this.Ta&&(this.Ta.ER=a,this.Ta.upbutton.u(a),this.Ta.downbutton.u(a),this.Ta.leftbutton.u(a),this.Ta.rightbutton.u(a),this.Ta.chattoggle.u(a),this.Ta.inventorytoggle.u(a),this.Ta.equipmenttoggle.u(a),this.Ta.hidebutton.label.Z(!0==
a?"\x3e\x3e":"\x3c\x3c"))},vT:function(a){if(a)switch(p.log(a),a){case "/editmap":null==Mapeditor||Mapeditor.X||(Mapeditor=null);Mapeditor?(Mapeditor.yb(),Mapeditor.P(),Mapeditor=null,G.yw(null)):(Mapeditor=new MapEditor,Mapeditor.q(),Mapeditor.Sa(),this.s(Mapeditor),G.yw(Mapeditor));break;case "/editwarp":null==Warpeditor||Warpeditor.X||(Warpeditor=null);Warpeditor?(Warpeditor.yb(),Warpeditor.P(),Warpeditor=null):(Warpeditor=new PopupList,Warpeditor.q({S:null,yj:new WarpEditor,list:ObjectLists.fm(),
name:"Warp List"}),Warpeditor.Sa(),this.s(Warpeditor));break;case "/editsigns":null==Signeditor||Signeditor.X||(Signeditor=null);Signeditor?(Signeditor.yb(),Signeditor.P(),Signeditor=null):(Signeditor=new PopupList,Signeditor.q({S:null,yj:new SignEditor,list:ObjectLists.vr(),name:"Sign List"}),Signeditor.Sa(),this.s(Signeditor));break;case "/editskills":null==Skillseditor||Skillseditor.X||(Skillseditor=null);Skillseditor?(Skillseditor.yb(),Skillseditor.P(),Skillseditor=null):(Skillseditor=new PopupList,
Skillseditor.q({S:null,yj:new SkillsEditor,list:ObjectLists.xo(),name:"Skills List"}),Skillseditor.Sa(),this.s(Skillseditor));break;case "/edititems":null==Itemeditor||Itemeditor.X||(Itemeditor=null);Itemeditor?(Itemeditor.yb(),Itemeditor.P(),Itemeditor=null,G.yw(null)):(Itemeditor=new PopupList,Itemeditor.q({S:null,yj:new ItemEditor,list:ObjectLists.ui(),name:"Item List"}),Itemeditor.Sa(),this.s(Itemeditor));break;case "/editnpcs":null==NPCeditor||NPCeditor.X||(NPCeditor=null);NPCeditor?(NPCeditor.yb(),
NPCeditor.P(),NPCeditor=null,G.yw(null)):(NPCeditor=new PopupList,NPCeditor.q({S:null,yj:new NPCEditor,list:ObjectLists.Ck(),name:"NPC List"}),NPCeditor.Sa(),this.s(NPCeditor));break;case "/help":D.showHelp();break;case "/commands":D.XU();break;case "/diceroll":a=Math.floor(6*Math.random()+1);a=C.e.oa.getName()+" threw a dice and got "+a+".";D.Ub(a);H({diceroll:a});break;case "/coinflip":a=1==Math.floor(3*Math.random()+1)?"Heads":"Tails";a=C.e.oa.getName()+" flipped a coin and got "+a+".";D.Ub(a);
H({coinflip:a});break;case "/dance":a=C.e.oa.getName()+" dances the dance of his people.";D.Ub(a);H({dance:a});break;case "/afk":C.e.oa.updateStatus("AFK"),H({afk:!0})}},q:function(a){this._super();this.s(G.create());ObjectLists.d();a={name:a.pJ,Do:!0,Fm:{health:{vc:1,value:100,Af:200,zf:900},mana:{vc:1,value:100,Af:200,zf:99}},map:1,is:"sprites1.png",gs:1};C.create(a);G.GO();this.b.P();this.Jw(-20);this.td(function(){G.d().Ok(a.map)});H({moveTo:C.e.oa.Og().x+C.e.oa.Og().y*U});this.s(D.create());
this.s(ua.create());isMobile()&&(this.Ta=Ba(this.oQ(),!0),this.s(this.Ta),this.TI(!1));this.s(this.b);this.sd(this.vC);this.sd(this.ET);Ja=this},vC:function(){if(0<u.length)for(var a=0;a<u.length;a++){var c=JSON.parse(u[a]);c.moveTo&&(!C.Bh(c.id)||C.Bh(c.id)&&!1==C.Bh(c.id).Rg)?(reactToSocketMessage(JSON.stringify(c)),u.splice(a,1)):c.moveTo||(reactToSocketMessage(JSON.stringify(c)),u.splice(a,1))}},ET:function(){if(!0==MapMaster){var a=C.AK(),c;for(c in a)if(!1==a[c].jw){var d=10*Math.random()+1,
e=a[c].Og();switch(Math.floor(4*Math.random())+1){case 1:e.x++;break;case 2:e.y++;break;case 3:e.x--;break;case 4:e.y--}a[c].CU(e,d)}}}});var Oa=p.ra.extend({kc:null,p0:!1,eC:function(a){a?this.kc.Ma.focus():this.kc.Ma.blur()},yB:function(){return document.activeElement==this.kc.Ma},Z:function(a){this.kc.Yg(a)},gB:function(){return this.kc.ka()},q:function(){p.log("Ovveride inputbox init call if necessary")},ctor:function(a,c,d,e,f,g,h){this.kc=p.jp.create(p.size(c.width,c.height),p.Ne.create(),h);this.kc.Yg(e);this.kc.xP=e;this.kc.dU(p.k(g.i,g.h,g.g));this.kc.bI(p.k(f.i,f.h,f.g));this.kc.C(p.a(d.x,d.y));this.kc.la(0,1);this.kc.Xg(this);
a.s(this.kc);this.q()}});var Pa=Oa.extend({Hv:function(a){a.Yg("")},Iv:function(a,c){c||("/"==a.ka().substring(0,1)?this.uT(a.ka()):0<a.ka().length&&D.Ub(a.ka(),!0));a.Yg(J.Uc.cG)},uT:function(a){y.d().Tc.vT(a)},Jv:function(a,c){a.Yg(c);p.log("chatBox "+this.uE(a)+", TextChanged, text: "+c)},uE:function(){return"chatbox"}}),Z=null,D=p.mc.extend({vj:null,q:function(){this.vj=new Pa(this.b.chat_panel,p.size(this.b.chat_panel.f().width-4,25),p.a(2,this.b.chat_panel.f().height-2),J.Uc.cG,p.k(255,255,255),p.k(0,0,0));this.vj.kc.X.Vo(this.vj.kc.p.G+
59)},LF:function(a){for(var c=[],d=0;7>d;d++)c.push(this.b.chat_panel["label"+d].gB());this.b.chat_panel.label0.Z(a);for(d=1;8>d;d++)this.b.chat_panel["label"+d].Z(c[d-1])},Ce:function(){return{panels:{children:{chat_panel:{size:p.size(400,150),bc:"GUI/chat.png",c:p.a(0,0),opacity:200,position:p.a(0,-200),children:{label7:{label:"",position:p.a(5,0),c:p.a(0,0),color:p.k(0,0,0)},label6:{label:"",position:p.a(5,15),c:p.a(0,0),color:p.k(0,0,0)},label5:{label:"",position:p.a(5,30),c:p.a(0,0),color:p.k(0,
0,0)},label4:{label:"",position:p.a(5,45),c:p.a(0,0),color:p.k(0,0,0)},label3:{label:"",position:p.a(5,60),c:p.a(0,0),color:p.k(0,0,0)},label2:{label:"",position:p.a(5,75),c:p.a(0,0),color:p.k(0,0,0)},label1:{label:"",position:p.a(5,90),c:p.a(0,0),color:p.k(0,0,0)},label0:{label:"",position:p.a(5,105),c:p.a(0,0),color:p.k(0,0,0)}}}}}}}});D.create=function(){Z||(Z=new D,Z.b=Ba(Z),Z.s(Z.b),Z.q(),D.mB(),D.ZU());return Z};D.d=function(){return Z};
D.Ub=function(a,c){c?(H({chatMessage:a}),Z.LF(C.e.oa.getName()+": "+a)):Z.LF(a)};D.show=function(){Z.vj.kc.X.Vo(0)};D.mB=function(){Z.vj.kc.X.Vo(-Z.vj.kc.p.G+59)};D.gH=function(){return 0!=Z.vj.kc.X.p.G?!1:!0};D.eC=function(a){Z.vj.eC(a)};D.yB=function(){return Z.vj.yB()};D.showHelp=function(){D.Ub(J.Uc.aR);D.Ub(J.Uc.bR);D.Ub(J.Uc.cR);D.Ub(J.Uc.dR);D.Ub(J.Uc.eR)};D.XU=function(){D.Ub(J.Uc.hP);D.Ub(J.Uc.iP);D.Ub(J.Uc.jP);D.Ub(J.Uc.kP)};D.ZU=function(){D.Ub(J.Uc.xR)};D.pd=function(){Z.b.P();Z.b=null};
D.Zr=function(){Z.P();Z=null};var Y=Oa.extend({Ar:!1,sH:!1,eG:!1,Hv:function(a){!1==this.eG&&a.Yg("")},Iv:function(a){null==a.ka()||""==a.ka().length&&this.sH?this.Ar=!0:0<!a.ka().length?(a.Yg(this.kc.xP),this.Ar=!1):this.Ar=!0},Jv:function(a,c){a.Yg(c);this.Ar=!0},uE:function(){return"name_entry"},ka:function(){return!0==this.Ar||!0==this.wP?this.kc.ka():null},Yg:function(a){this.kc.Yg(a)},Ge:function(a){this.wP=a},$r:function(a){this.sH=a},YT:function(a){this.eG=a},q:function(){}});var y=p.mc.extend({e:null,IA:null,Tc:null,tv:null,q:function(){var a=p.ga.d().Nv();this.IA=p.Pb.create(p.t(255,255,255,255),parseInt(4*a.width),parseInt(4*a.height));this.IA.la(p.a(0,0));this.s(this.IA);this.gm("Login",{});this.sd(this.SO);this.iC(!0)},Vg:function(a){a=a.$;this.tv.Vg&&this.tv.Vg(a)},SO:function(){for(var a in M)if(!0==M[a]&&null!=this.Tc){var c=null;a=parseInt(a);switch(a){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";
break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a&&58>a||64<a&&91>a)&&(c=String.fromCharCode(a));null!=c&&this.Tc.FB(c)}},gm:function(a,c){null!=this.Tc&&(this.Tc.yb(),this.Tc.P(),this.Tc=
null);switch(a){case "Login":this.Tc=new Login;break;case "Game":this.Tc=new Na}this.Tc.sJ();this.s(this.Tc,1);this.Tc.gU(a);this.Tc.Sa();this.Tc.q(c)},b1:function(){return this.Tc.Be()}});y.d=function(){null==this.e&&(this.e=new y);return this.e};y.Xr=function(a){null==this.e&&(this.e=new y);this.e.tv=a};y.w0=function(){null==this.e&&(this.e=new y);return this.e.tv};new (p.Ji.extend({zv:document.ccConfig,ctor:function(){this._super();p.ws=this.zv.COCOS2D_DEBUG;p.gR();p.Ok(this.zv.tag);p.Zw.WU().BP()},MO:function(){var a=this.zv,c=p.N.d();p.ga.d().Nv();p.size(960,640);p.size(960,640);var d=p.hd.d();p.Ji.d();d.zI(["res/Graphics"]);p.$g&&p.$g.d().c9("res/Audio");c.RT(1);c.Yr(1/a.frameRate);a.test?p.test(a.test):(p.log("++++++++++++++++entry for game++++++++++++"),p.OR(function(a){p.wx.PB(a,function(){document.getElementById("gameCanvas").setAttribute("tabindex",
"0");document.getElementById("gameCanvas").focus();var a=y.d();p.N.d().TH(a);a.q()})}));return!0}}));
//@ sourceMappingURL=sourcemap