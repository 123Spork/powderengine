var b,aa={SZ:"2D Circle Graphic/TOWNBOT2.bmp",TZ:"2D Circle Graphic/TOWNBOT2.png",UZ:"2D Circle Graphic/TOWNJNT2.bmp",m_:"2D Circle Graphic/_BACKUP_.bmp",l_:"40x40Tiles.png",D0:"GUI/bankeditor_icon.png",F0:"GUI/book.png",I0:"GUI/btnDown.png",J0:"GUI/btnLeft.png",K0:"GUI/btnRight.png",L0:"GUI/btnUp.png",c1:"GUI/chat.png",b1:"GUI/chat_icon.png",d1:"GUI/checkbox_checked.png",e1:"GUI/checkbox_uncheck.png",f1:"GUI/close.png",o1:"GUI/cross_icon.png",t1:"GUI/defaultitem.png",J1:"GUI/edit.png",K1:"GUI/editor-tab.png",
N1:"GUI/equipment.png",M1:"GUI/equipment_icon.png",O1:"GUI/event_panel.png",L5:"GUI/healthbar.png",c6:"GUI/inventory.png",b6:"GUI/inventory_icon.png",R6:"GUI/itemeditor_bg.png",S6:"GUI/itemeditor_icon.png",T6:"GUI/itemeditor_tab1_bg.png",U6:"GUI/itemeditor_tab2_bg.png",V6:"GUI/itemeditor_tab3_bg.png",g7:"GUI/list_panel.png",n7:"GUI/logout.png",r7:"GUI/mapeditor_icon.png",v7:"GUI/npceditor_icon.png",w7:"GUI/npctalk.png",B8:"GUI/quest_panel.png",C8:"GUI/questeditor_icon.png",D8:"GUI/quickedit_closed_icon.png",
E8:"GUI/quickedit_opened_icon.png",F8:"GUI/quickmenu_closed_icon.png",G8:"GUI/quickmenu_opened_icon.png",m9:"GUI/save_icon.png",n9:"GUI/scripteditor_icon.png",q9:"GUI/selected.png",oaa:"GUI/settings_icon.png",paa:"GUI/shopeditor_icon.png",qaa:"GUI/signeditor_bg.png",raa:"GUI/signeditor_icon.png",saa:"GUI/signpost.png",taa:"GUI/skilleditor_icon.png",vaa:"GUI/skills.png",uaa:"GUI/skills_icon.png",xaa:"GUI/splash.png",Vaa:"GUI/texture_change_left.png",Waa:"GUI/texture_change_middle.png",Xaa:"GUI/texture_change_right.png",
Yaa:"GUI/tick_icon.png",hba:"GUI/trash.png",qba:"GUI/use.png",zba:"GUI/warpeditor_bg.png",Aba:"GUI/warpeditor_icon.png",M0:"building1.png",a1:"character_graphics.txt",W6:"items1.png",yaa:"sprites1.png",Zaa:"tile_graphics.txt",$aa:"tiles0.png",aba:"tiles1.png"};var p=p||{},ba={};p.uT=function(a){var c=p.SC[ba.cH.GE];if(c){for(var d=[],e=0;e<c.length;++e)d.push({src:c[e]});a(d)}else a([])};ba={cH:{GE:"_0"}};p.SC={};p.SC[ba.cH.GE]=[];p.SC.uQ=[];p=p||{};function q(){return arguments.callee.name||arguments.callee.toString().match(/^function ([^(]+)/)[1]}q.id=0|998*Math.random();q.dT=0|998*Math.random();
q.dH=function(a,c,d){for(var e=a.toString(),f=e.substring(e.indexOf("(")+1,e.indexOf(")")),f=f.trim(),e=e.substring(e.indexOf("{")+1,e.lastIndexOf("}"));-1!=e.indexOf("this._super");)var g=e.indexOf("this._super"),h=e.indexOf("(",g),k=e.substring(h+1,e.indexOf(")",h)),k=(k=k.trim())?",":"",l=arguments.callee.uL(),e=e.substring(0,g)+l+"["+d+"]."+c+".call(this"+k+e.substring(h+1);return Function(f,e)};q.dH.uL=q;q.ZR=function(){return this.id++};q.$R=function(){return this.dT++};
(function(){var a=/\b_super\b/,c=document.ccConfig&&document.ccConfig.CLASS_RELEASE_MODE?document.ccConfig.CLASS_RELEASE_MODE:null;c&&console.log("release Mode");p.Ea=function(){};p.Ea.extend=function(d){function e(){this.gc=q.$R();this.ctor&&this.ctor.apply(this,arguments)}var f=this.prototype,g=Object.create(f),h=q.ZR();q[h]=f;var k={writable:!0,enumerable:!1,configurable:!0},l;for(l in d)c&&"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=q.dH(d[l],l,h),Object.defineProperty(g,
l,k)):"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=function(a,c){return function(){var d=this._super;this._super=f[a];var e=c.apply(this,arguments);this._super=d;return e}}(l,d[l]),Object.defineProperty(g,l,k)):"function"==typeof d[l]?(k.value=d[l],Object.defineProperty(g,l,k)):g[l]=d[l];g.gc=null;e.id=h;k.value=h;Object.defineProperty(g,"__pid",k);e.prototype=g;k.value=e;Object.defineProperty(e.prototype,"constructor",k);e.extend=arguments.callee;e.O5=function(a){for(var c in a)g[c]=
a[c]};return e};Function.prototype.bind=Function.prototype.bind||function(a){var c=this;return function(){var f=Array.prototype.slice.call(arguments);return c.apply(a||null,f)}}})();p.Q5=function(a,c){function d(){}d.prototype=c.prototype;a.tx=c.prototype;a.prototype=new d;a.prototype.constructor=a};
p.uQ=function(a,c,d){var e=arguments.callee.caller;if(e.tx)return ret=e.tx.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var f=Array.prototype.slice.call(arguments,2),g=!1,h=a.constructor;h;h=h.tx&&h.tx.constructor)if(h.prototype[c]===e)g=!0;else if(g)return h.prototype[c].apply(a,f);if(a[c]===e)return a.constructor.prototype[c].apply(a,f);throw Error("cc.base called from a method of one name to a method of a different name");};
p.i1=function(a,c){a||(a={});for(var d in c)a[d]=c[d];return a};p.Yg=function(a,c){this.x=a||0;this.y=c||0};p.UE=function(a,c){this.G=a||0;this.O=c||0;this.yK=function(a){this.G=a};this.zK=function(a){this.O=a}};p.Ad=function(){return new p.UE(0,0)};
Object.defineProperties(p.UE.prototype,{x:{get:function(){return this.G},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0},y:{get:function(){return this.O},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0}});p.iZ=function(a,c){p.log("cc.PointMake will be deprecated sooner or later. Use cc.p instead.");return new p.Yg(a,c)};
p.a=function(a,c){return{x:a,y:c}};p.S_=p.a;p.qj=function(){return p.a(0,0)};p.jJ=function(a,c){return a&&c?a.x===c.x&&a.y===c.y:!1};p.vk=function(a,c){this.width=a||0;this.height=c||0};p.VE=function(a,c){this.Ha=a||0;this.va=c||0;this.qD=function(a){this.Ha=a};this.dD=function(a){this.va=a}};p.Bm=function(){return new p.VE(0,0)};
Object.defineProperties(p.VE.prototype,{width:{get:function(){return this.Ha},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0},height:{get:function(){return this.va},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0}});p.NZ=function(a,c){p.log("cc.SizeMake will be deprecated sooner or later. Use cc.size instead.");return p.size(a,c)};
p.size=function(a,c){return{width:a,height:c}};p.Ra=p.size;p.Xl=function(){return p.size(0,0)};p.IG={dU:p.Ad(),QW:p.Bm()};Object.defineProperties(p,{pM:{get:function(){return p.IG.dU}},zM:{get:function(){return p.IG.QW}},nZ:{get:function(){return p.rect(0,0,0,0)}}});p.PW=function(a,c){return a&&c?a.width==c.width&&a.height==c.height:!1};
p.rg=function(a,c,d,e){var f=arguments.length;if(4===f)this.Tc=new p.Yg(a||0,c||0),this.Ra=new p.vk(d||0,e||0);else if(1===f)this.Tc=new p.Yg(a.Tc.x,a.Tc.y),this.Ra=new p.vk(a.Ra.width,a.Ra.height);else if(0===f)this.Tc=new p.Yg(0,0),this.Ra=new p.vk(0,0);else if(2===f)this.Tc=new p.Yg(a.x,a.y),this.Ra=new p.vk(c.width,c.height);else throw"unknown argument type";};p.uZ=function(a,c,d,e){p.log("cc.RectMake will be deprecated sooner or later. Use cc.rect instead.");return p.rect(a,c,d,e)};
p.rect=function(a,c,d,e){var f=arguments.length;if(0===f)return new p.rg(0,0,0,0);if(1===f)return new p.rg(a.x,a.y,a.width,a.height);if(2===f)return new p.rg(a.x,a.y,c.width,c.height);if(4===f)return new p.rg(a,c,d,e);throw"unknown argument type";};p.za=p.rect;p.md=function(){return p.rect(0,0,0,0)};p.rJ=function(a,c){return a&&c?p.jJ(a.Tc,c.Tc)&&p.PW(a.Ra,c.Ra):!1};p.ur=function(a){return a?0===a.x&&0===a.y&&0===a.width&&0===a.height:!1};
p.H8=function(a,c){return a&&c?!(a.x>=c.x||a.y>=c.y||a.x+a.width<=c.x+c.width||a.y+a.height<=c.y+c.height):!1};p.nn=function(a){return a.x+a.width};p.I8=function(a){return a.x+a.width/2};p.zl=function(a){return a.x};p.pn=function(a){return a.y+a.height};p.J8=function(a){return a.y+a.height/2};p.Al=function(a){return a.y};p.bb=function(a,c){return c.x>=p.zl(a)&&c.x<=p.nn(a)&&c.y>=p.Al(a)&&c.y<=p.pn(a)};p.wU=function(a,c){return!(p.nn(a)<p.zl(c)||p.nn(c)<p.zl(a)||p.pn(a)<p.Al(c)||p.pn(c)<p.Al(a))};
p.K8=function(a,c){return!(a.x+a.width<c.x||c.x+c.width<a.x||a.y+a.height<c.y||c.y+c.height<a.y)};p.Pw=function(a,c){var d=p.rect(0,0,0,0);d.x=Math.min(a.x,c.x);d.y=Math.min(a.y,c.y);d.width=Math.max(a.x+a.width,c.x+c.width)-d.x;d.height=Math.max(a.y+a.height,c.y+c.height)-d.y;return d};p.vU=function(a,c){var d=p.rect(Math.max(p.zl(a),p.zl(c)),Math.max(p.Al(a),p.Al(c)),0,0);d.width=Math.min(p.nn(a),p.nn(c))-p.zl(d);d.height=Math.min(p.pn(a),p.pn(c))-p.Al(d);return d};b=p.rg.prototype;
b.yK=function(a){this.Tc.x=a};b.zK=function(a){this.Tc.y=a};b.os=function(){return this.Ra.width};b.qD=function(a){this.Ra.width=a};b.ks=function(){return this.Ra.height};b.dD=function(a){this.Ra.height=a};
Object.defineProperties(p.rg.prototype,{x:{get:function(){return this.Tc.x},set:function(a){this.yK(a)},enumerable:!0,configurable:!0},y:{get:function(){return this.Tc.y},set:function(a){this.zK(a)},enumerable:!0,configurable:!0},width:{get:function(){return this.os()},set:function(a){this.qD(a)},enumerable:!0,configurable:!0},height:{get:function(){return this.ks()},set:function(a){this.dD(a)},enumerable:!0,configurable:!0}});var r=r||{};try{r.localStorage=window.localStorage,window.localStorage.setItem("storage",""),window.localStorage.removeItem("storage")}catch(ea){"SECURITY_ERR"!==ea.name&&"QuotaExceededError"!==ea.name||console.log("Warning: localStorage isn't enabled. Please confirm browser cookie or privacy option"),r.localStorage=function(){}}
Object.defineProperties(r,{T0:{get:function(){var a={canvas:!0};p.Ga.Rc&&(a.opengl=!0);"ontouchstart"in document.documentElement||window.navigator.msPointerEnabled?a.touches=!0:"onmouseup"in document.documentElement&&(a.mouse=!0);"onkeyup"in document.documentElement&&(a.keyboard=!0);if(window.DeviceMotionEvent||window.DeviceOrientationEvent)a.accelerometer=!0;return a},enumerable:!0,configurable:!0},Q7:{get:function(){var a=navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?!0:!1,c=navigator.userAgent.match(/android/i)||
navigator.platform.match(/android/i)?!0:!1,d=navigator.appVersion;-1!=navigator.appVersion.indexOf("Win")?d="Windows":-1!=navigator.appVersion.indexOf("Mac")?d="OS X":-1!=navigator.appVersion.indexOf("X11")?d="UNIX":-1!=navigator.appVersion.indexOf("Linux")?d="Linux":a?d="iOS":c&&(d="Android");return d},enumerable:!0,configurable:!0},platform:{get:function(){return"browser"},enumerable:!0,configurable:!0},version:{get:function(){return p.kt},enumerable:!0,configurable:!0}});r.k2=function(){};
r.G1=function(){};r.h9=function(){};p.kt="Cocos2d-html5-v2.2.2";p.Et=0;p.dE=p.a(0,0);p.AL=0.5;p.SX=1;p.AM=1;p.mM=0;p.ME=0;p.PZ=0;p.QZ=0;p.qZ=1;p.pZ="-hd";p.PM=1;p.uk=0;p.KZ=0;p.NY=0;p.MY=0;p.dy=1;p.aY=p.kt+"-canvas";p.hw={platform:r.platform};p.F1=function(){for(var a in r)p.log(a+" \x3d "+r[a])};p.jt=1;p.fE=1;p.eH=function(a,c){for(var d=["webgl","experimental-webgl","webkit-3d","moz-webgl"],e=null,f=0;f<d.length;++f){try{e=a.getContext(d[f],c)}catch(g){}if(e)break}return e};p.Ga={};p.Ga.oX=["baidubrowser","opera","firefox","chrome","safari"];
(function(){p.Ga.zx=navigator.userAgent.toLowerCase();p.Ga.platform=navigator.platform.toLowerCase();p.Ga.ek=-1!=p.Ga.zx.indexOf("mobile")||-1!=p.Ga.zx.indexOf("android");p.Ga.type=function(){var a=p.Ga.zx.match(/micromessenger|qqbrowser|mqqbrowser|ucbrowser|360browser|baidubrowser|maxthon|ie|opera|firefox/)||p.Ga.zx.match(/chrome|safari/);return a&&0<a.length?(a=a[0],"micromessenger"==a?"wechat":a):"unknow"}();p.Ga.mode="ie"==p.Ga.type&&document.documentMode;document.ccConfig||(document.ccConfig=
{});p.fB=parseInt(document.ccConfig.renderMode)||0;var a=-1==p.Ga.oX.indexOf(p.Ga.type);1===p.fB||0===p.fB&&(p.Ga.ek||a)?p.Ga.Rc=!1:(p.Ga.Rc=null!=window.j_,a=document.createElement("Canvas"),a=p.eH(a,{stencil:!0,preserveDrawingBuffer:!0}),p.Ga.Rc=null!=a);2!==p.fB||p.Ga.Rc||(p.Qy=!0);var a=p.Ga,c;try{c=new (window.AudioContext||window.webkitAudioContext||window.mozAudioContext)?!0:!1}catch(d){c=!1}a.Eaa=c;p.Ga.N7=function(a){if(this.ek){var c=p.$.e().Sb,d=c.width+"px",c=c.height+"px",h=p.pk("div");
h.style.backgroundColor="#ffffff";h.style.width=d;h.style.height=c;h.style.rX=1E3;h.style.position="absolute";h.style.top="0px";h.style.left="0px";h.id="cocos2d-browser";var k=p.pk("iframe");k.src=a;k.style.width=d;k.style.height=c;k.setAttribute("frameborder","no");k.setAttribute("scrolling","no");h.appendChild(k);k.onload=function(){var a=document.createElement("img");a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5OERBMEM3OUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5OERBMEM3QUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjk4REEwQzc3RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjk4REEwQzc4RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+NwBuoAAAA/tJREFUeNrEWF0sW3EUb6+28zFhbGadsBaNhazV+kpDYhFWKRGWbHvwFV5IvPiIFw9evElEPEiWSUgsIWoIglhmUomPxj6aKC0zKVJjtPU5o9j5J7dLdbf33jKc5Jfc3v+v5/+755x7/j1lMoiNBRDh4AO88HvO2m+ACbAC+AJQAyz2JCbBFyMBWQA/xv+3DUAXLuivudhcY4BMwCuAB+NqDPmNAnAAOsCZvQgk4BnjeiwEwAbM2YoQA14yrteQEANgDcML7gXjZgw9OAuJkADu3JAIb7Q/hr+GtCwuLs6LDq+iooLvhBAREhFEl11ZWRne0tIiIeNIpVKv4uJi4dTUVApNt0EY3ohILSIiwqO7u1sql8vD8vLyJJ2dnXH2HDabzczPz3/Y1taWzOfz78XExDxSq9Vyd3d3jMK9F2pWr6lEtLa2RmVnZ4tt7w0NDWlTU1OVtkK7urqSQ0NDzzW5hYWFjcTExAGDwXDkyD+VSkZ7e3tsWlpamP19mUwWplQqk9B1UlKST3NzczxE4K49D4mCiDwn24PyPMjIyHjs6urKIVpLSEgInp6eZsM6Kzw8nEvEMZvNBxC1BbI9KCMhkUgUy8vLRpL1QIFA4EcSyZmcnJzpS4mYnZ3dj46O7p2fn193xIGi/CeiFovlFIp5pqGhYZ5qD1qFiQxCjk1OTsqEQmEAFReloL+/X0sVAadFWE2n02VA+O+TcVZXV01QkO8ODw9P6fjEnO2zvb2936g4XC7XG4rWm65P2iL8/f05kN8nBQUFQkqnGMYcGBjIys3N5dLxjY7ydDrE6urqsNLSUqmbmxuH1tOBkMzMTIHRaNxSqVTmS4soKyvjFRUViTw9PV2dTR901WAOh7M/MjKyeeHCbGpqEhcWFkY5Wl9aWtpUKBRaONziSbsii/Xm5OTk7EIdU6/X7zpaW1xc/Al5HxkfH9/e2dk5rqmpeUrE6+vr06ADzpEIlI5kMjFwPhh5PB5DJBKdK7KDg4Oj2tpaVUdHxw/0eWxszIjyj8Jvy4N60FdVVX2Grnt4dkaowYJESAG3yaLR09Oz5uvrexwbGxuAR2erpKTkI6RqxW5DM6RnLT09PQQV5vDwsDYlJWUU+I4EIDMhEQLAA6q0DA4OrqMCg/c/qL6+XtXY2Kgn4sGJuavRaFbFYrFPeXn5FIj6ReFa64KnIpJOpaMK39vbM9XV1X13lF9kc3Nz+xMTEwZo89s03A4ycRE1N/RjF/WPKgyfDRU39Gu7w1qYyNYAtwDB1yhgGPDBfgzU4bMi7xoEjAI6iWZRdGMGH80Cr2goRlP5W8B7qwBHfw1YO6kEH4yC8EnJ5QKbnuDFh17nr4BPRP9P/BFgAHo7ZNgI9EbHAAAAAElFTkSuQmCC";
h.appendChild(a);a.style.rX=1E3;a.style.position="absolute";a.style.bottom="10px";a.style.right="10px";a.onclick=function(){h.remove()}};(a=document.getElementById(document.ccConfig.tag).parentNode)&&a.appendChild(h)}else window.open(a)}})();p.vZ=function(){return"undefined"===p.Qy?!1:p.Qy};
p.Pb=function(a){var c=this==p?document:this;if(a=a instanceof HTMLElement?a:c.querySelector(a))a.find=a.find||p.Pb,a.ZB=a.ZB||function(a){return this.className.match(RegExp("(\\s|^)"+a+"(\\s|$)"))},a.OG=a.OG||function(a){this.ZB(a)||(this.className&&(this.className+=" "),this.className+=a);return this},a.NU=a.NU||function(a){this.ZB(a)&&(this.className=this.className.replace(a,""));return this},a.remove=a.remove||function(){this.parentNode&&this.parentNode.removeChild(this);return this},a.Um=a.Um||
function(a){a.appendChild(this);return this},a.pU=a.pU||function(a){a.childNodes[0]?a.insertBefore(this,a.childNodes[0]):a.appendChild(this);return this},a.Dn=a.Dn||function(){this.style[p.Pb.cX]=p.Pb.translate(this.position)+p.Pb.rotate(this.rotation)+p.Pb.scale(this.scale)+p.Pb.Il(this.Il);return this},a.position=a.position||{x:0,y:0},a.rotation=a.rotation||0,a.scale=a.scale||{x:1,y:1},a.Il=a.Il||{x:0,y:0},a.CD=function(a,c){this.position.x=a;this.position.y=c;this.Dn()},a.rotate=function(a){this.rotation=
a;this.Dn();return this},a.resize=function(a,c){this.scale.x=a;this.scale.y=c;this.Dn();return this},a.pK=function(a,c){this.Il.x=a;this.Il.y=c;this.Dn()};return a};switch(p.Ga.type){case "firefox":p.Pb.Ip="Moz";p.Pb.yp=!0;break;case "chrome":case "safari":p.Pb.Ip="webkit";p.Pb.yp=!0;break;case "opera":p.Pb.Ip="O";p.Pb.yp=!1;break;case "ie":p.Pb.Ip="ms";p.Pb.yp=!1;break;default:p.Pb.Ip="webkit",p.Pb.yp=!0}p.Pb.cX=p.Pb.Ip+"Transform";
p.Pb.translate=p.Pb.yp?function(a){return"translate3d("+a.x+"px, "+a.y+"px, 0) "}:function(a){return"translate("+a.x+"px, "+a.y+"px) "};p.Pb.rotate=p.Pb.yp?function(a){return"rotateZ("+a+"deg) "}:function(a){return"rotate("+a+"deg) "};p.Pb.scale=function(a){return"scale("+a.x+", "+a.y+") "};p.Pb.Il=function(a){return"skewX("+-a.x+"deg) skewY("+a.y+"deg)"};p.pk=function(a){return p.Pb(document.createElement(a))};
p.Pb.e2=function(a){var c=0,d=0;do c+=a.offsetLeft,d+=a.offsetTop;while(a=a.offsetParent);return{x:c,y:d}};p.H=function(a){var c=a.constructor?new a.constructor:{},d;for(d in a){var e=a[d];c[d]="object"!=typeof e||!e||e instanceof p.C||e instanceof HTMLElement?e:p.H(e)}return c};p.A0=function(){};p.iE=p.iE||!1;
p.mO=function(a){var c=document.getElementById("logInfoList");if(!c){var d=document.createElement("Div");d.setAttribute("id","logInfoDiv");p.canvas.parentNode.appendChild(d);d.setAttribute("width","200");d.setAttribute("height",p.canvas.height);d.style.zIndex="99999";d.style.position="absolute";d.style.top="0";d.style.left="0";c=document.createElement("ul");d.appendChild(c);c.setAttribute("id","logInfoList");c.style.height=p.canvas.height+"px";c.style.color="#fff";c.style.textAlign="left";c.style.listStyle=
"disc outside";c.style.fontSize="12px";c.style.fontFamily="arial";c.style.padding="0 0 0 20px";c.style.margin="0";c.style.textShadow="0 0 3px #000";c.style.zIndex="99998";c.style.position="absolute";c.style.top="0";c.style.left="0";c.style.overflowY="hidden";var e=document.createElement("Div");d.appendChild(e);e.style.width="200px";e.style.height=p.canvas.height+"px";e.style.opacity="0.1";e.style.background="#fff";e.style.border="1px solid #dfdfdf";e.style.borderRadius="8px"}d=document.createElement("li");
d.innerHTML=a;0==c.childNodes.length?c.appendChild(d):c.insertBefore(d,c.childNodes[0])};p.log=function(a){p.iE?p.mO(a):console.log.apply(console,arguments)};p.TY=function(a){console.log(a)};p.ct=function(a,c){console.assert?console.assert(a,c):a||c&&alert(c)};p.R5=function(){0==p.et?(p.log=function(){},p.OI=function(){},p.NI=function(){},p.ct=function(){}):1==p.et?(p.OI=p.log,p.NI=function(){}):1<p.et&&(p.OI=p.log,p.NI=p.log)};p.TL=0;p.SL=1;p.UL=2;p.XL=3;p.VL=4;p.dM=5;p.cM=6;p.ZL=7;p.YL=8;p.WL=9;
p.bM=10;p.RL=11;p.$L=12;p.aM=13;
p.fy={C0:8,Oaa:9,HB:13,shift:16,p1:17,alt:18,pause:19,U0:20,escape:27,n8:33,m8:34,end:35,home:36,left:37,kba:38,right:39,A1:40,V5:45,hY:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,J:65,i:66,Da:67,La:68,H1:69,ow:70,n:71,Ee:72,N5:73,X6:74,Y6:75,d7:76,p7:77,VI:78,J7:79,a:80,A8:81,o:82,fj:83,Naa:84,Pa:85,na:86,fL:87,x:88,y:89,z:90,x7:96,y7:97,z7:98,A7:99,B7:100,C7:101,D7:102,E7:103,F7:104,G7:105,"*":106,"+":107,"-":109,numdel:110,"/":111,R1:112,V1:113,W1:114,X1:115,Y1:116,Z1:117,a2:118,b2:119,
c2:120,S1:121,T1:122,U1:123,I7:144,o9:145,r9:186,",":186,L1:187,"\x3d":187,";":188,h1:188,r1:189,".":190,r8:190,i2:191,I5:192,"[":219,O7:219,"]":221,g1:221,B0:220,quote:222,waa:32};p.ti=-1;p.PI=Math.PI;p.IL=parseFloat("3.402823466e+38F");p.wM=p.PI/180;p.zL=180/p.PI;p.OM=4294967295;p.LZ=function(a,c,d){if("object"==typeof d&&"undefined"!=typeof d.x&&"undefined"!=typeof d.y){var e=d[a];d[a]=d[c];d[c]=e}else p.log("cc.SWAP is being modified from original macro, please check usage")};p.f7=function(a,c,d){return a+(c-a)*d};p.mZ=function(){return 2*(Math.random()-0.5)};p.lZ=function(){return Math.random()};p.oj=function(a){return a*p.wM};p.ry=function(a){return a*p.zL};
p.Wl=Number.MAX_VALUE-1;p.Me=p.mM?1:770;p.Le=771;p.ly=function(a){a.Kc&&(a.Kc.pf(),a.Kc.Tg())};p.tY=function(){};p.gY=function(){};p.Ch=function(){p.ei+=1};p.Ft=1.192092896E-7;p.Jd=p.dy?function(){return p.$.e().hm}:function(){return 1};p.oM=function(a){var c=p.Jd();return p.a(a.x*c,a.y*c)};p.p_=function(a,c){var d=p.Jd();c.G=a.x*d;c.O=a.y*d};p.wy=function(a){var c=p.Jd();return p.size(a.width*c,a.height*c)};p.IZ=function(a){var c=p.Jd();return p.size(a.width/c,a.height/c)};
p.Oy=function(a,c){var d=p.Jd();c.Ha=a.width/d;c.va=a.height/d};p.gZ=function(a){var c=p.Jd();return p.a(a.x/c,a.y/c)};p.ou=function(a,c){var d=p.Jd();c.G=a.x/d;c.O=a.y/d};p.cq=p.dy?function(a){var c=p.Jd();return p.rect(a.x/c,a.y/c,a.width/c,a.height/c)}:function(a){return a};p.Qn=p.dy?function(a){var c=p.Jd();return p.rect(a.x*c,a.y*c,a.width*c,a.height*c)}:function(a){return a};p.TD=function(){if(p.f9==p.wk){var a=p.Y.getError();a&&p.log("WebGL error "+a)}};p.AZ=0;p.zZ=1;p.xZ=2;p.yZ=3;p.BZ=4;p.CZ=5;p.wZ=6;var Uint8Array=Uint8Array||Array;
if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){var fa=document.createElement("script");fa.type="text/vbscript";fa.textContent='\x3c!-- IEBinaryToArray_ByteStr --\x3e\r\nFunction IEBinaryToArray_ByteStr(Binary)\r\n   IEBinaryToArray_ByteStr \x3d CStr(Binary)\r\nEnd Function\r\nFunction IEBinaryToArray_ByteStr_Last(Binary)\r\n   Dim lastIndex\r\n   lastIndex \x3d LenB(Binary)\r\n   if lastIndex mod 2 Then\r\n       IEBinaryToArray_ByteStr_Last \x3d Chr( AscB( MidB( Binary, lastIndex, 1 ) ) )\r\n   Else\r\n       IEBinaryToArray_ByteStr_Last \x3d ""\r\n   End If\r\nEnd Function\r\n';document.body.appendChild(fa);
p.jF=function(a){for(var c={},d=0;256>d;d++)for(var e=0;256>e;e++)c[String.fromCharCode(d+256*e)]=String.fromCharCode(d)+String.fromCharCode(e);d=IEBinaryToArray_ByteStr(a);a=IEBinaryToArray_ByteStr_Last(a);return d.replace(/[\s\S]/g,function(a){return c[a]})+a}}
p.Kd=p.Ea.extend({Aj:null,$k:null,HN:null,Fz:null,Po:null,Sh:null,Cq:"",ctor:function(){this.Aj={};this.$k={};this.Sh=[];this.Sh.push(this.Cq);this.Po=[];this.Po.push("")},x8:function(){this.Sh=[]},B2:function(a){a=this.xe(a);return this.Aj.hasOwnProperty(a)?this.Aj[a]:this.jO(a)},Tu:function(){return window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP")},dX:function(a){this.Aj.hasOwnProperty(a)&&delete this.Aj[a]},kU:function(a){a=this.xe(a);var c=this,d=this.Tu();d.open("GET",
a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","x-user-defined"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=p.jF(d.responseBody);e&&(c.Aj[a]=c.Ev(e))}else p.dc.e().jn(a);p.dc.e().li()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dx-user-defined"),d.onload=function(){var e=d.responseText;e?c.Aj[a]=c.Ev(e):p.dc.e().jn(a);p.dc.e().li()});d.send(null)},jO:function(a){var c=this.Tu();
c.open("GET",a,!1);var d=null;if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){c.setRequestHeader("Accept-Charset","x-user-defined");c.send(null);if(200!=c.status)return null;if(c=p.jF(c.responseBody))d=this.Ev(c),this.Aj[a]=d}else{c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dx-user-defined");c.send(null);if(200!=c.status)return null;d=this.Ev(c.responseText);this.Aj[a]=d}return d},Ev:function(a){if(!a)return null;for(var c=new Uint8Array(a.length),d=0;d<
a.length;d++)c[d]=a.charCodeAt(d)&255;return c},fX:function(a){a=this.xe(a);this.$k.hasOwnProperty(a)&&delete this.$k[a]},mU:function(a){a=this.xe(a);var c=this,d=this.Tu();d.open("GET",a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","utf-8"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=d.responseText;e&&(c.$k[a]=e)}else p.dc.e().jn(a);p.dc.e().li()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dutf-8"),
d.onload=function(){d.responseText?c.$k[a]=d.responseText:p.dc.e().jn(a);p.dc.e().li()});d.send(null)},lO:function(a){var c=this.Tu();c.open("GET",a,!1);var d=null;/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?c.setRequestHeader("Accept-Charset","utf-8"):c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dutf-8");c.send(null);if(200!=c.status)return null;(d=c.responseText)&&(this.$k[a]=d);return d},VH:function(a){a=this.xe(a);return this.$k.hasOwnProperty(a)?this.$k[a]:
this.lO(a)},i3:function(){},c9:function(){},kJ:!0,j2:function(a){return a},xe:function(a){var c=!1;a=this.ON(a);for(var d,e=0;e<this.Sh.length;e++){for(var f=this.Sh[e],g=0;g<this.Po.length;g++)if(d=this.PN(a,this.Po[g],f)){c=!0;break}if(c)break}return c?d:a},k7:function(a){var c=this.xe(a);if(0<c.length){var c=p.tk.e().parse(c),d=parseInt(c.metadata.version);1!=d?p.log("cocos2d: ERROR: Invalid filenameLookup dictionary version: "+d+". Filename: "+a):this.JV(c.filenames)}},JV:function(a){this.Fz=
a},GH:function(a,c){var d;if(a)return d=c.substring(0,c.lastIndexOf("/")+1),d+a;d=c.substring(0,c.lastIndexOf("."));return d+".png"},N$:function(a){this.Po=a},K4:function(){return this.Po},M$:function(a){this.Sh=a},I4:function(){return this.Sh},B4:function(){return this.HN},I$:function(){},v1:function(a){p.log("dictionaryWithContentsOfFile is deprecated. Use createDictionaryWithContentsOfFile instead");return this.XQ(a)},XQ:function(a){return p.tk.e().parse(a)},Z4:function(a){return this.VH(a)},lw:function(a){return p.tk.e().parse(a)},
C5:function(){return""},z$:function(a){p.kJ=a},B6:function(){return p.kJ},AA:"",C4:function(){return this.AA},J$:function(a){this.AA=a},ON:function(a){var c=null;(c=this.Fz?this.Fz[a]:null)&&0!==c.length?p.log("FOUND NEW FILE NAME: "+c):c=a;return c},PN:function(a,c,d){var e;e=this.AA;a&&0<a.length&&(0===a.indexOf("/")||0===a.indexOf("\\"))?e="":0<e.length&&"\\"!=e[e.length-1]&&"/"!=e[e.length-1]&&(e+="/");var f=a,g="",h=a.lastIndexOf("/");-1!=h&&(g=a.substr(0,h+1),f=a.substr(h+1));a=d;0<a.length&&
a.lastIndexOf("/")!==a.length-1&&(a+="/");a=a+g+c;0<a.length&&a.lastIndexOf("/")!==a.length-1&&(a+="/");a+=f;return e+=a},F_:function(){},oK:function(a){var c=!1;this.Sh=[];for(var d=0;d<a.length;d++){var e=a[d],f;this.wI(e)||(f=this.Cq);e=f+e;0<e.length&&"/"!=e[e.length-1]&&(e+="/");c||e!=this.Cq||(c=!0);this.Sh.push(e)}c||this.Sh.push(this.Cq)},m0:function(a){var c;this.wI(a)||(c=this.Cq);a=c+a;0<a.length&&"/"!=a[a.length-1]&&(a+="/");this.Sh.push(a)},J4:function(){},wI:function(a){return"/"==a[0]}});
p.UC=null;p.Kd.e=function(){null==p.UC&&(p.UC=new p.Kd);return p.UC};p.tc=function(a,c,d){switch(arguments.length){case 0:this.i=this.n=this.o=0;break;case 1:a&&a instanceof p.tc?(this.o=0|a.o||0,this.n=0|a.n||0,this.i=0|a.i||0):this.i=this.n=this.o=0;break;case 3:this.o=0|a||0;this.n=0|c||0;this.i=0|d||0;break;default:throw"unknown argument type";}};p.j=function(a,c,d){return new p.tc(a,c,d)};p.Z5=function(a){a=a||0;var c=new p.tc;c.o=a&255;c.n=a>>8&255;c.i=a>>16&255;return c};p.dw=p.j;p.N0=function(a,c){return a.o===c.o&&a.n===c.n&&a.i===c.i};
Object.defineProperties(p,{h_:{get:function(){return p.j(255,255,255)}},k_:{get:function(){return p.j(255,255,0)}},PX:{get:function(){return p.j(0,0,255)}},BY:{get:function(){return p.j(0,255,0)}},oZ:{get:function(){return p.j(255,0,0)}},QY:{get:function(){return p.j(255,0,255)}},NX:{get:function(){return p.j(0,0,0)}},YY:{get:function(){return p.j(255,127,0)}},AY:{get:function(){return p.j(166,166,166)}}});p.vb=function(){return new p.tc(255,255,255)};p.Eba=function(){return new p.tc(255,255,0)};
p.blue=function(){return new p.tc(0,0,255)};p.green=function(){return new p.tc(0,255,0)};p.red=function(){return new p.tc(255,0,0)};p.q7=function(){return new p.tc(255,0,255)};p.E0=function(){return new p.tc(0,0,0)};p.P7=function(){return new p.tc(255,127,0)};p.ml=function(){return new p.tc(166,166,166)};p.Qb=function(a,c,d,e){this.o=0|a;this.n=0|c;this.i=0|d;this.J=0|e};p.h=function(a,c,d,e){return new p.Qb(a,c,d,e)};p.uB=p.h;p.ae=function(a,c,d,e){this.o=a;this.n=c;this.i=d;this.J=e};
p.ew=function(a,c,d,e){return new p.ae(a,c,d,e)};p.Q0=function(a){return new p.ae(a.o/255,a.n/255,a.i/255,1)};p.R0=function(a){return new p.ae(a.o/255,a.n/255,a.i/255,a.J/255)};p.O0=function(a){return new p.Qb(0|255*a.o,0|255*a.n,0|255*a.i,0|255*a.J)};p.P0=function(a,c){return a.o==c.o&&a.n==c.n&&a.i==c.i&&a.J==c.J};p.Db=function(a,c){this.x=a||0;this.y=c||0};p.nu=function(a,c){return new p.Db(a,c)};p.$c=function(a,c,d){this.x=a||0;this.y=c||0;this.z=d||0};
p.wba=function(a,c,d){return new p.$c(a,c,d)};p.yc=function(a,c){this.Pa=a||0;this.na=c||0};p.Uaa=function(a,c){return new p.yc(a,c)};p.jZ=function(a,c,d){a||new p.Db(0,0);this.color=c||new p.Qb(0,0,0,0);this.size=d||0};p.Rt=function(a,c,d,e){this.Ta=a||new p.Db(0,0);this.Na=c||new p.Db(0,0);this.Ka=d||new p.Db(0,0);this.Va=e||new p.Db(0,0)};p.kZ=function(a,c,d,e){this.Ka=a||new p.$c(0,0,0);this.Va=c||new p.$c(0,0,0);this.Ta=d||new p.$c(0,0,0);this.Na=e||new p.$c(0,0,0)};
p.LL=function(a,c){this.x=a;this.y=c};p.n=function(a,c){return new p.LL(a,c)};p.Xb=function(a,c,d){this.s=a||new p.Db(0,0);this.N=c||new p.Qb(0,0,0,0);this.B=d||new p.yc(0,0)};p.ku=function(){this.s=new p.Db(0,0);this.N=new p.ae(0,0,0,0);this.B=new p.yc(0,0)};p.uc=function(a,c,d){this.s=a||new p.$c(0,0,0);this.N=c||new p.Qb(0,0,0,0);this.B=d||new p.yc(0,0)};p.Gc=function(a,c,d){this.J=a||new p.Xb;this.i=c||new p.Xb;this.Da=d||new p.Xb};
p.QM=function(){var a=new p.Xb(new p.Db(0,0),new p.Qb(0,0,0,255),new p.yc(0,0)),c=new p.Xb(new p.Db(0,0),new p.Qb(0,0,0,255),new p.yc(0,0)),d=new p.Xb(new p.Db(0,0),new p.Qb(0,0,0,255),new p.yc(0,0)),e=new p.Xb(new p.Db(0,0),new p.Qb(0,0,0,255),new p.yc(0,0));this.Ka=a||new p.Xb;this.Va=c||new p.Xb;this.Ta=d||new p.Xb;this.Na=e||new p.Xb};p.e_=function(){return new p.QM};p.fc=function(a,c,d,e){this.Ta=a||new p.uc;this.Ka=c||new p.uc;this.Na=d||new p.uc;this.Va=e||new p.uc};
p.Ly=function(){return new p.fc(new p.uc(new p.$c(0,0,0),new p.Qb(0,0,0,255),new p.yc(0,0)),new p.uc(new p.$c(0,0,0),new p.Qb(0,0,0,255),new p.yc(0,0)),new p.uc(new p.$c(0,0,0),new p.Qb(0,0,0,255),new p.yc(0,0)),new p.uc(new p.$c(0,0,0),new p.Qb(0,0,0,255),new p.yc(0,0)))};
p.Ky=function(a){return a?new p.fc(new p.uc(new p.$c(a.Ta.s.x,a.Ta.s.y,a.Ta.s.z),new p.Qb(a.Ta.N.o,a.Ta.N.n,a.Ta.N.i,a.Ta.N.J),new p.yc(a.Ta.B.Pa,a.Ta.B.na)),new p.uc(new p.$c(a.Ka.s.x,a.Ka.s.y,a.Ka.s.z),new p.Qb(a.Ka.N.o,a.Ka.N.n,a.Ka.N.i,a.Ka.N.J),new p.yc(a.Ka.B.Pa,a.Ka.B.na)),new p.uc(new p.$c(a.Na.s.x,a.Na.s.y,a.Na.s.z),new p.Qb(a.Na.N.o,a.Na.N.n,a.Na.N.i,a.Na.N.J),new p.yc(a.Na.B.Pa,a.Na.B.na)),new p.uc(new p.$c(a.Va.s.x,a.Va.s.y,a.Va.s.z),new p.Qb(a.Va.N.o,a.Va.N.n,a.Va.N.i,a.Va.N.J),new p.yc(a.Va.B.Pa,
a.Va.B.na))):p.Ly()};p.g_=function(a){if(!a)return[];for(var c=[],d=0;d<a.length;d++)c.push(p.Ky(a[d]));return c};p.f_=function(a,c,d,e){this.Ka=a||new p.ku;this.Va=c||new p.ku;this.Ta=d||new p.ku;this.Na=e||new p.ku};p.Tl=function(a,c){this.src=a;this.Ib=c};p.QX=function(){return new p.Tl(1,0)};p.zc=function(a){var c=a.o.toString(16),d=a.n.toString(16),e=a.i.toString(16);return"#"+(16>a.o?"0"+c:c)+(16>a.n?"0"+d:d)+(16>a.i?"0"+e:e)};
p.Ga.Rc&&(p.Qb=function(a,c,d,e,f,g){this.Rb=f||new ArrayBuffer(p.Qb.BYTES_PER_ELEMENT);this.Lb=g||0;f=this.Rb;g=this.Lb;var h=Uint8Array.BYTES_PER_ELEMENT;this.rA=new Uint8Array(f,g,1);this.Mz=new Uint8Array(f,g+h,1);this.$y=new Uint8Array(f,g+2*h,1);this.Sy=new Uint8Array(f,g+3*h,1);this.rA[0]=a||0;this.Mz[0]=c||0;this.$y[0]=d||0;this.Sy[0]=e||0},p.Qb.BYTES_PER_ELEMENT=4,Object.defineProperties(p.Qb.prototype,{o:{get:function(){return this.rA[0]},set:function(a){this.rA[0]=a},enumerable:!0},n:{get:function(){return this.Mz[0]},
set:function(a){this.Mz[0]=a},enumerable:!0},i:{get:function(){return this.$y[0]},set:function(a){this.$y[0]=a},enumerable:!0},J:{get:function(){return this.Sy[0]},set:function(a){this.Sy[0]=a},enumerable:!0}}),p.ae=function(a,c,d,e,f,g){this.Rb=f||new ArrayBuffer(p.ae.BYTES_PER_ELEMENT);this.Lb=g||0;f=this.Rb;g=this.Lb;var h=Float32Array.BYTES_PER_ELEMENT;this.qA=new Float32Array(f,g,1);this.qA[0]=a||0;this.Lz=new Float32Array(f,g+h,1);this.Lz[0]=c||0;this.Zy=new Float32Array(f,g+2*h,1);this.Zy[0]=
d||0;this.Ry=new Float32Array(f,g+3*h,1);this.Ry[0]=e||0},p.ae.BYTES_PER_ELEMENT=16,Object.defineProperties(p.ae.prototype,{o:{get:function(){return this.qA[0]},set:function(a){this.qA[0]=a},enumerable:!0},n:{get:function(){return this.Lz[0]},set:function(a){this.Lz[0]=a},enumerable:!0},i:{get:function(){return this.Zy[0]},set:function(a){this.Zy[0]=a},enumerable:!0},J:{get:function(){return this.Ry[0]},set:function(a){this.Ry[0]=a},enumerable:!0}}),p.Db=function(a,c,d,e){this.Rb=d||new ArrayBuffer(p.Db.BYTES_PER_ELEMENT);
this.Lb=e||0;this.Qm=new Float32Array(this.Rb,this.Lb,1);this.Rm=new Float32Array(this.Rb,this.Lb+4,1);this.Qm[0]=a||0;this.Rm[0]=c||0},p.Db.BYTES_PER_ELEMENT=8,Object.defineProperties(p.Db.prototype,{x:{get:function(){return this.Qm[0]},set:function(a){this.Qm[0]=a},enumerable:!0},y:{get:function(){return this.Rm[0]},set:function(a){this.Rm[0]=a},enumerable:!0}}),p.$c=function(a,c,d,e,f){this.Rb=e||new ArrayBuffer(p.$c.BYTES_PER_ELEMENT);this.Lb=f||0;e=this.Rb;f=this.Lb;this.Qm=new Float32Array(e,
f,1);this.Qm[0]=a||0;this.Rm=new Float32Array(e,f+Float32Array.BYTES_PER_ELEMENT,1);this.Rm[0]=c||0;this.mB=new Float32Array(e,f+2*Float32Array.BYTES_PER_ELEMENT,1);this.mB[0]=d||0},p.$c.BYTES_PER_ELEMENT=12,Object.defineProperties(p.$c.prototype,{x:{get:function(){return this.Qm[0]},set:function(a){this.Qm[0]=a},enumerable:!0},y:{get:function(){return this.Rm[0]},set:function(a){this.Rm[0]=a},enumerable:!0},z:{get:function(){return this.mB[0]},set:function(a){this.mB[0]=a},enumerable:!0}}),p.yc=
function(a,c,d,e){this.Rb=d||new ArrayBuffer(p.yc.BYTES_PER_ELEMENT);this.Lb=e||0;this.ZA=new Float32Array(this.Rb,this.Lb,1);this.gB=new Float32Array(this.Rb,this.Lb+4,1);this.ZA[0]=a||0;this.gB[0]=c||0},p.yc.BYTES_PER_ELEMENT=8,Object.defineProperties(p.yc.prototype,{Pa:{get:function(){return this.ZA[0]},set:function(a){this.ZA[0]=a},enumerable:!0},na:{get:function(){return this.gB[0]},set:function(a){this.gB[0]=a},enumerable:!0}}),p.Rt=function(a,c,d,e,f,g){this.Rb=f||new ArrayBuffer(p.Rt.BYTES_PER_ELEMENT);
this.Lb=g||0;f=this.Rb;g=p.Db.BYTES_PER_ELEMENT;this.ap=a?new p.Db(a.x,a.y,f,0):new p.Db(0,0,f,0);this.cp=c?new p.Db(c.x,c.y,f,g):new p.Db(0,0,f,g);this.bo=d?new p.Db(d.x,d.y,f,2*g):new p.Db(0,0,f,2*g);this.eo=e?new p.Db(e.x,e.y,f,3*g):new p.Db(0,0,f,3*g)},p.Rt.BYTES_PER_ELEMENT=32,Object.defineProperties(p.Rt.prototype,{Ta:{get:function(){return this.ap},set:function(a){this.ap.x=a.x;this.ap.y=a.y},enumerable:!0},Na:{get:function(){return this.cp},set:function(a){this.cp.x=a.x;this.cp.y=a.y},enumerable:!0},
Ka:{get:function(){return this.bo},set:function(a){this.bo.x=a.x;this.bo.y=a.y},enumerable:!0},Va:{get:function(){return this.eo},set:function(a){this.eo.x=a.x;this.eo.y=a.y},enumerable:!0}}),p.uc=function(a,c,d,e,f){this.Rb=e||new ArrayBuffer(p.uc.BYTES_PER_ELEMENT);this.Lb=f||0;e=this.Rb;f=this.Lb;var g=p.$c.BYTES_PER_ELEMENT;this.ep=a?new p.$c(a.x,a.y,a.z,e,f):new p.$c(0,0,0,e,f);this.yq=c?new p.Qb(c.o,c.n,c.i,c.J,e,f+g):new p.Qb(0,0,0,0,e,f+g);this.Gm=d?new p.yc(d.Pa,d.na,e,f+g+p.Qb.BYTES_PER_ELEMENT):
new p.yc(0,0,e,f+g+p.Qb.BYTES_PER_ELEMENT)},p.uc.BYTES_PER_ELEMENT=24,Object.defineProperties(p.uc.prototype,{s:{get:function(){return this.ep},set:function(a){var c=this.ep;c.x=a.x;c.y=a.y;c.z=a.z},enumerable:!0},N:{get:function(){return this.yq},set:function(a){var c=this.yq;c.o=a.o;c.n=a.n;c.i=a.i;c.J=a.J},enumerable:!0},B:{get:function(){return this.Gm},set:function(a){this.Gm.Pa=a.Pa;this.Gm.na=a.na},enumerable:!0}}),p.fc=function(a,c,d,e,f,g){this.Rb=f||new ArrayBuffer(p.fc.BYTES_PER_ELEMENT);
this.Lb=g||0;f=this.Rb;g=this.Lb;var h=p.uc.BYTES_PER_ELEMENT;this.ap=a?new p.uc(a.s,a.N,a.B,f,g):new p.uc(null,null,null,f,g);this.bo=c?new p.uc(c.s,c.N,c.B,f,g+h):new p.uc(null,null,null,f,g+h);this.cp=d?new p.uc(d.s,d.N,d.B,f,g+2*h):new p.uc(null,null,null,f,g+2*h);this.eo=e?new p.uc(e.s,e.N,e.B,f,g+3*h):new p.uc(null,null,null,f,g+3*h)},p.fc.BYTES_PER_ELEMENT=96,Object.defineProperties(p.fc.prototype,{Ta:{get:function(){return this.ap},set:function(a){var c=this.ap;c.s=a.s;c.N=a.N;c.B=a.B},enumerable:!0},
Ka:{get:function(){return this.bo},set:function(a){var c=this.bo;c.s=a.s;c.N=a.N;c.B=a.B},enumerable:!0},Na:{get:function(){return this.cp},set:function(a){var c=this.cp;c.s=a.s;c.N=a.N;c.B=a.B},enumerable:!0},Va:{get:function(){return this.eo},set:function(a){var c=this.eo;c.s=a.s;c.N=a.N;c.B=a.B},enumerable:!0},pB:{get:function(){return this.Rb},enumerable:!0}}),p.Ly=function(){return new p.fc},p.Ky=function(a){if(!a)return p.Ly();var c=a.Ta,d=a.Ka,e=a.Na;a=a.Va;return{Ta:{s:{x:c.s.x,y:c.s.y,z:c.s.z},
N:{o:c.N.o,n:c.N.n,i:c.N.i,J:c.N.J},B:{Pa:c.B.Pa,na:c.B.na}},Ka:{s:{x:d.s.x,y:d.s.y,z:d.s.z},N:{o:d.N.o,n:d.N.n,i:d.N.i,J:d.N.J},B:{Pa:d.B.Pa,na:d.B.na}},Na:{s:{x:e.s.x,y:e.s.y,z:e.s.z},N:{o:e.N.o,n:e.N.n,i:e.N.i,J:e.N.J},B:{Pa:e.B.Pa,na:e.B.na}},Va:{s:{x:a.s.x,y:a.s.y,z:a.s.z},N:{o:a.N.o,n:a.N.n,i:a.N.i,J:a.N.J},B:{Pa:a.B.Pa,na:a.B.na}}}},p.Xb=function(a,c,d,e,f){this.Rb=e||new ArrayBuffer(p.Xb.BYTES_PER_ELEMENT);this.Lb=f||0;e=this.Rb;f=this.Lb;var g=p.Db.BYTES_PER_ELEMENT;this.ep=a?new p.Db(a.x,
a.y,e,f):new p.Db(0,0,e,f);this.yq=c?new p.Qb(c.o,c.n,c.i,c.J,e,f+g):new p.Qb(0,0,0,0,e,f+g);this.Gm=d?new p.yc(d.Pa,d.na,e,f+g+p.Qb.BYTES_PER_ELEMENT):new p.yc(0,0,e,f+g+p.Qb.BYTES_PER_ELEMENT)},p.Xb.BYTES_PER_ELEMENT=20,Object.defineProperties(p.Xb.prototype,{s:{get:function(){return this.ep},set:function(a){this.ep.x=a.x;this.ep.y=a.y},enumerable:!0},N:{get:function(){return this.yq},set:function(a){var c=this.yq;c.o=a.o;c.n=a.n;c.i=a.i;c.J=a.J},enumerable:!0},B:{get:function(){return this.Gm},
set:function(a){this.Gm.Pa=a.Pa;this.Gm.na=a.na},enumerable:!0}}),p.Gc=function(a,c,d,e,f){this.Rb=e||new ArrayBuffer(p.Gc.BYTES_PER_ELEMENT);this.Lb=f||0;e=this.Rb;f=this.Lb;var g=p.Xb.BYTES_PER_ELEMENT;this.XE=a?new p.Xb(a.s,a.N,a.B,e,f):new p.Xb(null,null,null,e,f);this.aF=c?new p.Xb(c.s,c.N,c.B,e,f+g):new p.Xb(null,null,null,e,f+g);this.fF=d?new p.Xb(d.s,d.N,d.B,e,f+2*g):new p.Xb(null,null,null,e,f+2*g)},p.Gc.BYTES_PER_ELEMENT=60,Object.defineProperties(p.Gc.prototype,{J:{get:function(){return this.XE},
set:function(a){var c=this.XE;c.s=a.s;c.N=a.N;c.B=a.B},enumerable:!0},i:{get:function(){return this.aF},set:function(a){var c=this.aF;c.s=a.s;c.N=a.N;c.B=a.B},enumerable:!0},Da:{get:function(){return this.fF},set:function(a){var c=this.fF;c.s=a.s;c.N=a.N;c.B=a.B},enumerable:!0}}));p.j1=function(a){a=a.substr(1).split("");return new p.tc(parseInt("0x"+a[0]+a[1]),parseInt("0x"+a[2]+a[3]),parseInt("0x"+a[4]+a[5]))};p.jq=0;p.tj=1;p.HM=2;p.Yl=0;p.mu=1;p.My=2;
p.o_=p.Ea.extend({Go:null,Yr:null,Py:0,ctor:function(){this.Go={};this.Yr={};this.Py=2<<(0|10*Math.random())},UM:function(){this.Py++;return"key_"+this.Py},ZV:function(a,c){if(null!=c){var d=this.UM();this.Go[d]=c;this.Yr[d]=a}},DT:function(a){if(null==a)return null;var c=this.Go,d;for(d in c)if(c[d]===a)return this.Yr[d];return null},vba:function(a){return this.DT(a)},RU:function(a){if(null!=a){var c=this.Go,d;for(d in c)if(c[d]===a){delete this.Yr[d];delete c[d];break}}},W8:function(a){if(null!=
a)for(var c=0;c<a.length;c++)this.RU(a[c])},nQ:function(){var a=[],c=this.Go,d;for(d in c)a.push(c[d]);return a},P8:function(){this.Go={};this.Yr={}},count:function(){return this.nQ().length}});p.KL=function(){this.fs="Arial";this.fontSize=12;this.BH=p.tj;this.CH=p.Yl;this.DH=p.vb();this.es=p.size(0,0);this.wD=!1;this.strokeColor=p.vb();this.OK=1;this.BK=!1;this.CK=p.size(0,0);this.shadowBlur=0;this.DK=1};p.Rn={Yx:0,my:1,SHOW_ALL:2,Zx:3,$x:4,d_:5};p.ju=[];p.kq={};
p.sa=p.Ea.extend({Ba:null,Ue:null,to:null,Rk:null,ef:null,$v:null,iB:"",yA:null,ta:1,PF:1,Aa:1,QF:1,cr:0,LF:5,Ph:null,WF:null,$F:null,ZF:null,XF:null,YF:null,fr:!1,w_:!1,d0:null,wF:null,xF:null,XM:null,Y_:!1,oz:null,Q_:null,Dj:null,Hz:1,qu:!1,BF:!1,ctor:function(){this.Dj=p.Zj.parentNode===document.body?document.documentElement:p.Zj.parentNode;this.Ue=p.size(0,0);this.Vz();var a=p.canvas.width,c=p.canvas.height;this.to=p.size(a,c);this.Rk=p.size(a,c);this.ef=p.rect(0,0,a,c);this.$v=p.rect(0,0,a,c);
this.Ba=p.$.e().cf;this.oz={left:0,top:0};this.iB="Cocos2dHTML5";p.TE.r(this.to);this.WF=new p.Sn(p.Wg.lt,p.Oe.Yx);this.$F=new p.Sn(p.Wg.sM,p.Oe.SHOW_ALL);this.ZF=new p.Sn(p.Wg.lt,p.Oe.my);this.XF=new p.Sn(p.Wg.lt,p.Oe.Zx);this.YF=new p.Sn(p.Wg.lt,p.Oe.$x);this.wF=p.canvas;this.xF=p.Y},zA:function(){var a=this.Rk.width,c=this.Rk.height;this.yA&&(this.Vz(),this.yA.call());0<a&&this.ZC(a,c,this.Ph)},YU:function(a){a?this.qu||(this.qu=!0,a=this.zA.bind(this),window.addEventListener("resize",a,!1)):this.qu&&
(this.qu=!0,a=this.zA.bind(this),window.removeEventListener("resize",a,!1))},mW:function(a){if("function"==typeof a||null==a)this.yA=a},Vz:function(){var a=this.Ue;a.width=this.Dj.clientWidth;a.height=this.Dj.clientHeight},t_:function(){var a=this.Rk.width,c=this.Rk.height;0<a&&this.ZC(a,c,this.Ph)},xP:function(){if(this.BF){var a={"user-scalable":"no","maximum-scale":"1.0","initial-scale":"1.0"},c=document.getElementsByName("viewport"),d;0==c.length?(c=document.createElement("meta"),c.name="viewport",
c.content="",document.head.appendChild(c)):c=c[0];d=c.content;for(var e in a)RegExp(e).test(d)||(d+=(""==d?"":",")+e+"\x3d"+a[e]);c.content=d}},qP:function(){var a=p.Jd();this.Aa=this.ta=a},TO:function(){this.ta=this.PF;this.Aa=this.QF},RN:function(){var a,c=this.cr;for(a=0;a<this.LF;a++){if(!(c&1))return this.cr|=1<<a,a;c>>=1}return-1},PO:function(a){0>a||a>=this.LF||(a=~(1<<a),this.cr&=a)},u_:function(){},aT:function(){this.fr=!0},r0:function(a){this.BF=a},end:function(){},z6:function(){return null!=
this.wF&&null!=this.xF},U9:function(a){this.Hz=a;p.$.e().cx(p.$.e().Vk)},Kaa:function(){},Y9:function(){},H9:function(a,c){this.oz={left:a,top:c}},P2:function(){return this.oz},js:function(){return p.size(this.Ue.width,this.Ue.height)},T9:function(a,c){this.Ue.width=a;this.Ue.height=c;this.Dj.style.width=a+"px";this.Dj.style.height=c+"px";this.zA();p.$.e().cx(p.$.e().Vk)},W0:function(){},u9:function(a){this.XM=a},ns:function(){return this.$v.Ra},aI:function(){return this.$v.Tc},S0:function(){return!0},
A4:function(){return this.Ph},nW:function(a){if(a instanceof p.Sn)this.Ph=a;else switch(a){case p.Rn.Yx:this.Ph=this.WF;break;case p.Rn.SHOW_ALL:this.Ph=this.$F;break;case p.Rn.my:this.Ph=this.ZF;break;case p.Rn.Zx:this.Ph=this.XF;break;case p.Rn.$x:this.Ph=this.YF}},ZC:function(a,c,d){if(isNaN(a)||0==a||isNaN(c)||0==c)p.log("Resolution not valid");else if(this.nW(d),policy=this.Ph){policy.mn(this);var e=this.Ue.width,f=this.Ue.height;p.Ga.ek&&this.xP(this.Ue.width,this.Ue.height);this.Vz();if(d!=
this.Ph||a!=this.Rk.width||c!=this.Rk.height||e!=this.Ue.width||f!=this.Ue.height)this.to=p.size(a,c),this.Rk=p.size(a,c),a=policy.apply(this,this.to),a.scale&&2==a.scale.length&&(this.ta=a.scale[0],this.Aa=a.scale[1]),a.viewport instanceof p.rg&&(a=this.ef=a.viewport,c=this.$v,c.Ra.width=p.canvas.width/this.ta,c.Ra.height=p.canvas.height/this.Aa,c.Tc.x=-a.x/this.ta,c.Tc.y=-a.y/this.Aa),a=p.$.e(),a.Sb=this.mp(),p.Fd==p.wk&&(a.ro(),a.VJ()),this.PF=this.ta,this.QF=this.Aa,p.cc&&p.cc.RO(),p.TE.r(this.ns()),
policy.ln(this)}else p.log("should set resolutionPolicy")},mp:function(){return p.size(this.to.width,this.to.height)},daa:function(a){this.Ba=a},AW:function(a,c,d,e){var f=this.Hz,g=this.ta,h=this.Aa;p.Y.viewport(a*g*f+this.ef.x*f,c*h*f+this.ef.y*f,d*g*f,e*h*f)},gD:function(a,c,d,e){var f=this.Hz,g=this.ta,h=this.Aa;p.Y.scissor(a*g*f+this.ef.x*f,c*h*f+this.ef.y*f,d*g*f,e*h*f)},kT:function(){var a=p.Y;return a.isEnabled(a.SCISSOR_TEST)},jS:function(){var a=p.Y,c=this.ta,d=this.Aa,a=a.getParameter(a.SCISSOR_BOX);
return p.rect((a[0]-this.ef.x)/c,(a[1]-this.ef.y)/d,a[2]/c,a[3]/d)},laa:function(a){null!=a&&0<a.length&&(this.iB=a)},x5:function(){return this.iB},y5:function(){return this.ef},hS:function(){return this.ta},iS:function(){return this.Aa},$j:function(a,c,d){return{x:a-d.left,y:d.top+d.height-c}},ES:function(a,c,d,e){for(var f=[],g=this.ef,h=this.ta,k=this.Aa,l=0;l<a;++l){var m=c[l],n=d[l],t=e[l],s=0;if(null==p.kq[m])if(s=this.RN(),-1==s)p.log("The touches is more than MAX_TOUCHES, nUnusedIndex \x3d "+
s);else{var u=p.ju[s]=new p.qf;u.lD(s,(n-g.x)/h,(t-g.y)/k);p.kq[m]=0|s;f.push(u)}}0!=f.length&&this.Ba.wx(f,null)},HS:function(a,c,d,e){for(var f=[],g=this.ta,h=this.Aa,k=this.ef.x,l=this.ef.y,m=0;m<a;++m){var n=d[m],t=e[m],s=p.kq[c[m]];if(null!=s){var u=p.ju[s];if(u)u.lD(s,(n-k)/g,(t-l)/h),f.push(u);else return}}0!=f.length&&this.Ba.xx(f,null)},GS:function(a,c,d,e){var f=[];this.UH(f,a,c,d,e);this.Ba.Ts(f,null)},FS:function(a,c,d,e){var f=[];this.UH(f,a,c,d,e);this.Ba.BD(f,null)},UH:function(a,c,
d,e,f){for(var g=this.ta,h=this.Aa,k=this.ef,l=0;l<c;++l){var m=d[l],n=e[l],t=f[l],s=p.kq[m];if(null!=s){var u=p.ju[s];if(u)u.lD(s,(n-k.x)/g,(t-k.y)/h),a.push(u),p.ju[s]=null,this.PO(s),delete p.kq[m];else break}}},wx:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Nf||h,d[f]=g.M.x,e[f]=g.M.y,++f;this.ES(f,c,d,e)},xx:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Nf||h,d[f]=g.M.x,e[f]=g.M.y,++f;this.HS(f,c,d,e)},Ts:function(a){for(var c=[],d=[],
e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Nf||h,d[f]=g.M.x,e[f]=g.M.y,++f;this.GS(f,c,d,e)},BD:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Nf||h,d[f]=g.M.x,e[f]=g.M.y,++f;this.FS(f,c,d,e)}});p.sa.e=function(){this.Kb||(this.Kb=new p.sa,this.Kb.aT());return this.Kb};
p.Wg=p.Ea.extend({mn:function(){},apply:function(){},ln:function(){},gG:function(a,c,d){p.Ga.ek&&a==document.documentElement&&p.yy.e().tQ(p.canvas);a=p.canvas;var e=p.Zj;a.width=c;a.height=d;e.style.width=c+"px";e.style.height=d+"px";c=document.body;var f;c&&(f=c.style)&&(f.paddingTop=f.paddingTop||"0px",f.paddingRight=f.paddingRight||"0px",f.paddingBottom=f.paddingBottom||"0px",f.paddingLeft=f.paddingLeft||"0px",f.borderTop=f.borderTop||"0px",f.borderRight=f.borderRight||"0px",f.borderBottom=f.borderBottom||
"0px",f.borderLeft=f.borderLeft||"0px",f.marginTop=f.marginTop||"0px",f.marginRight=f.marginRight||"0px",f.marginBottom=f.marginBottom||"0px",f.marginLeft=f.marginLeft||"0px")},qF:function(){document.body.insertBefore(p.Zj,document.body.firstChild);var a=document.body.style;a.width=window.innerWidth+"px";a.height=window.innerHeight+"px";a.overflow="hidden";a=p.Zj.style;a.position="fixed";a.left=a.top="0px";document.body.scrollTop=0}});
p.Oe=p.Ea.extend({BA:{scale:[1,1],viewport:null},vq:function(a,c,d,e,f,g){a=p.rect(Math.round((a-d)/2),Math.round((c-e)/2),d,e);p.Fd==p.og&&p.Y.translate(a.x,a.y+e);this.BA.scale=[f,g];this.BA.viewport=a;return this.BA},mn:function(){},apply:function(){return{scale:[1,1]}},ln:function(){}});
(function(){var a=p.Wg.extend({apply:function(a){this.gG(a.Dj,a.Ue.width,a.Ue.height)}}),c=p.Wg.extend({apply:function(a,c){var d=a.Ue.width,e=a.Ue.height,f=p.Zj.style,n=c.width,t=c.height,s=d/n,u=e/t,w,E;s<u?(w=d,E=t*s):(w=n*u,E=e);n=Math.floor((d-w)/2);E=Math.floor((e-E)/2);this.gG(a.Dj,d-2*n,e-2*E);f.marginLeft=n+"px";f.marginRight=n+"px";f.marginTop=E+"px";f.marginBottom=E+"px"}});a.extend({mn:function(a){a.Dj=document.documentElement},apply:function(a){this._super(a);this.qF()}});c.extend({mn:function(a){a.Dj=
document.documentElement},apply:function(a,c){this._super(a,c);this.qF()}});var d=p.Wg.extend({});p.Wg.lt=new a;p.Wg.sM=new c;p.Wg.cZ=new d;var a=p.Oe.extend({apply:function(a,c){var d=p.canvas.width,e=p.canvas.height;return this.vq(d,e,d,e,d/c.width,e/c.height)}}),c=p.Oe.extend({apply:function(a,c){var d=p.canvas.width,e=p.canvas.height,f=c.width,n=c.height,t=d/f,s=e/n,u,w,E;t<s?(u=t,w=d,E=n*u):(u=s,w=f*u,E=e);return this.vq(d,e,w,E,u,u)}}),d=p.Oe.extend({apply:function(a,c){var d=p.canvas.width,
e=p.canvas.height,f=c.width,n=c.height,t=d/f,s=e/n,u,w,E;t<s?(u=s,w=f*u,E=e):(u=t,w=d,E=n*u);return this.vq(d,e,w,E,u,u)}}),e=p.Oe.extend({apply:function(a,c){var d=p.canvas.width,e=p.canvas.height,f=e/c.height;return this.vq(d,e,d,e,f,f)},ln:function(a){p.$.e().Sb=a.ns()}}),f=p.Oe.extend({apply:function(a,c){var d=p.canvas.width,e=p.canvas.height,f=d/c.width;return this.vq(d,e,d,e,f,f)},ln:function(a){p.$.e().Sb=a.ns()}});p.Oe.Yx=new a;p.Oe.SHOW_ALL=new c;p.Oe.my=new d;p.Oe.Zx=new e;p.Oe.$x=new f})();
p.Sn=p.Ea.extend({Fu:null,Gu:null,ctor:function(a,c){this.zV(a);this.CV(c)},mn:function(a){this.Fu.mn(a);this.Gu.mn(a)},apply:function(a,c){this.Fu.apply(a,c);return this.Gu.apply(a,c)},ln:function(a){this.Fu.ln(a);this.Gu.ln(a)},zV:function(a){a instanceof p.Wg&&(this.Fu=a)},CV:function(a){a instanceof p.Oe&&(this.Gu=a)}});p.yy=p.Ea.extend({Ir:!1,Bk:"",lA:null,mA:null,YA:"",r:function(){var a=["webkit","moz","o","ms","khtml"],c=document.body;if(c.requestFullScreen)this.Ir=!0;else for(var d=0,e=a.length,f;d<e;d++)if(f=a[d],c[f+"RequestFullScreen"]){this.Ir=!0;this.Bk=f;break}this.YA="ontouchstart"in window?"touchstart":"mousedown"},fullScreen:function(){var a=document;if(this.Ir)switch(this.Bk){case "":return a.fullScreen;case "webkit":return a.webkitIsFullScreen;default:return a[this.Bk+"FullScreen"]}return!1},zJ:function(a,
c){if(this.Ir&&!this.fullScreen()){if(c){var d=this.Bk+"fullscreenchange";this.lA&&this.mA&&this.lA.removeEventListener(d,this.mA);this.lA=a;this.mA=c;a.addEventListener(d,c,!1)}return""===this.Bk?a.requestFullScreen():a[this.Bk+"RequestFullScreen"]()}},Q1:function(){if(this.Ir&&this.fullScreen())return""===this.Bk?document.body.cancelFullScreen():document.body[this.Bk+"CancelFullScreen"]()},tQ:function(a,c){function d(){e.zJ(a,c);a.removeEventListener(e.YA,d)}var e=this;this.zJ(a,c);a.addEventListener(this.YA,
d)}});p.yy.e=function(){if(!this.Kb){var a=new p.yy;a.r();this.Kb=a}return this.Kb};p.TE={Wh:p.Ad(),oh:p.Ad(),Vh:p.Ad(),yi:p.Ad(),zi:p.Ad(),xi:p.Ad(),gz:p.Ad(),Ii:p.Ad(),Qh:p.Ad(),Ha:0,va:0,r:function(a){this.Ha=a.width;this.va=a.height;a=this.Ha;var c=this.va;this.Wh.O=c;this.oh.G=a;this.oh.O=c;this.Vh.G=a/2;this.Vh.O=c;this.zi.G=a;this.xi.G=a/2;this.gz.G=a/2;this.gz.O=c/2;this.Ii.O=c/2;this.Qh.G=a;this.Qh.O=c/2},os:function(){return this.Ha},ks:function(){return this.va},dba:function(){return this.Wh},eba:function(){return this.oh},top:function(){return this.Vh},G0:function(){return this.yi},
H0:function(){return this.zi},bottom:function(){return this.xi},V0:function(){return this.gz},left:function(){return this.Ii},right:function(){return this.Qh}};p.rx=function(a){var c;if(a&&0!=a.length){var d=a.indexOf("{"),e=a.indexOf("}");-1==d||-1==e||d>e||(a=a.substr(d+1,e-d-1),0!=a.length&&(d=a.indexOf("}"),-1==a.indexOf("{")&&-1==d&&(c=a.split(","))))}return c};p.CE=function(a){var c=p.md();if(a){var d=a.indexOf("{")+1,e=a.lastIndexOf("}",a.length);-1!=d&&-1!=e&&(a=a.substring(d,e),d=a.indexOf("}"),-1!=d&&(d=a.indexOf(",",d),-1!=d&&(c=p.rx(a.substr(0,d)),a=p.rx(a.substr(d+1,a.length-d)),c=p.rect(parseFloat(c[0]),parseFloat(c[1]),parseFloat(a[0]),parseFloat(a[1])))))}return c};
p.BE=function(a){var c=p.qj();try{if(""==a)return c;var d=p.rx(a),c=p.a(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};p.zy=function(a){var c=p.Xl();try{if(""==a)return c;var d=p.rx(a),c=p.size(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};p.DX=function(a,c,d,e,f,g){this.J=a;this.i=c;this.Da=d;this.La=e;this.Za=f;this.$a=g};p.q_=function(a,c,d,e,f,g){return{J:a,i:c,Da:d,La:e,Za:f,$a:g}};p.GX=function(a,c,d,e,f,g){return{J:a,i:c,Da:d,La:e,Za:f,$a:g}};p.r_=function(a,c){return{x:c.J*a.x+c.Da*a.y+c.Za,y:c.i*a.x+c.La*a.y+c.$a}};p.AE=function(a,c){return{x:c.J*a.x+c.Da*a.y+c.Za,y:c.i*a.x+c.La*a.y+c.$a}};p.yk=function(a,c,d){return{x:d.J*a+d.Da*c+d.Za,y:d.i*a+d.La*c+d.$a}};
p.s_=function(a,c){return{width:c.J*a.width+c.Da*a.height,height:c.i*a.width+c.La*a.height}};p.MZ=function(a,c){return{width:c.J*a.width+c.Da*a.height,height:c.i*a.width+c.La*a.height}};p.HX=function(){return{J:1,i:0,Da:0,La:1,Za:0,$a:0}};p.FX=function(){return{J:1,i:0,Da:0,La:1,Za:0,$a:0}};
p.Kf=function(a,c){var d=p.Al(a),e=p.zl(a),f=p.nn(a),g=p.pn(a),h=p.yk(e,d,c),d=p.yk(f,d,c),e=p.yk(e,g,c),k=p.yk(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);return p.rect(f,l,g-f,h-l)};
p.ui=function(a,c){var d=p.Al(a),e=p.zl(a),f=p.nn(a),g=p.pn(a),h=p.yk(e,d,c),d=p.yk(f,d,c),e=p.yk(e,g,c),k=p.yk(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);a.x=f;a.y=l;a.width=g-f;a.height=h-l;return a};p.Gx=function(a,c,d){return{J:a.J,i:a.i,Da:a.Da,La:a.La,Za:a.Za+a.J*c+a.Da*d,$a:a.$a+a.i*c+a.La*d}};p.IX=function(a,c,d){return{J:a.J*c,i:a.i*c,Da:a.Da*d,La:a.La*d,Za:a.Za,$a:a.$a}};
p.mL=function(a){var c=Math.sin(1.57079633),d=Math.cos(1.57079633);return{J:a.J*d+a.Da*c,i:a.i*d+a.La*c,Da:a.Da*d-a.J*c,La:a.La*d-a.i*c,Za:a.Za,$a:a.$a}};p.Pl=function(a,c){return{J:a.J*c.J+a.i*c.Da,i:a.J*c.i+a.i*c.La,Da:a.Da*c.J+a.La*c.Da,La:a.Da*c.i+a.La*c.La,Za:a.Za*c.J+a.$a*c.Da+c.Za,$a:a.Za*c.i+a.$a*c.La+c.$a}};p.EX=function(a,c){return a.J===c.J&&a.i===c.i&&a.Da===c.Da&&a.La===c.La&&a.Za===c.Za&&a.$a===c.$a};
p.PD=function(a){var c=1/(a.J*a.La-a.i*a.Da);return{J:c*a.La,i:-c*a.i,Da:-c*a.Da,La:c*a.J,Za:c*(a.Da*a.$a-a.La*a.Za),$a:c*(a.i*a.Za-a.J*a.$a)}};p.qE=parseFloat("1.192092896e-07F");p.CC=function(a){return p.a(-a.x,-a.y)};p.gg=function(a,c){return p.a(a.x+c.x,a.y+c.y)};p.Ed=function(a,c){return p.a(a.x-c.x,a.y-c.y)};p.ej=function(a,c){return p.a(a.x*c,a.y*c)};p.BC=function(a,c){return p.ej(p.gg(a,c),0.5)};p.Hp=function(a,c){return a.x*c.x+a.y*c.y};p.W7=function(a,c){return a.x*c.y-a.y*c.x};p.Kw=function(a){return p.a(-a.y,a.x)};p.e8=function(a){return p.a(a.y,-a.x)};p.d8=function(a,c){return p.ej(c,p.Hp(a,c)/p.Hp(c,c))};
p.f8=function(a,c){return p.a(a.x*c.x-a.y*c.y,a.x*c.y+a.y*c.x)};p.k8=function(a,c){return p.a(a.x*c.x+a.y*c.y,a.y*c.x-a.x*c.y)};p.gJ=function(a){return p.Hp(a,a)};p.X7=function(a,c){return p.gJ(p.Ed(a,c))};p.zC=function(a){return Math.sqrt(p.gJ(a))};p.yC=function(a,c){return p.zC(p.Ed(a,c))};p.zh=function(a){return p.ej(a,1/p.zC(a))};p.Y7=function(a){return p.a(Math.cos(a),Math.sin(a))};p.j8=function(a){return Math.atan2(a.y,a.x)};p.as=function(a,c,d){if(c>d){var e=c;c=d;d=e}return a<c?c:a<d?a:d};
p.fJ=function(a){var c=p.a(0,0),d=p.a(1,1);return p.a(p.as(a.x,c.x,d.x),p.as(a.y,c.y,d.y))};p.UT=function(){var a=p.$.e().Sb;return p.a(a.width,a.height)};p.V7=function(a,c){return p.a(c(a.x),c(a.y))};p.hJ=function(a,c,d){return p.gg(p.ej(a,1-d),p.ej(c,d))};p.Z7=function(a,c,d){return a.x-d<=c.x&&c.x<=a.x+d&&a.y-d<=c.y&&c.y<=a.y+d?!0:!1};p.U7=function(a,c){return p.a(a.x*c.x,a.y*c.y)};p.T7=function(a,c){var d=p.zh(a),e=p.zh(c),d=Math.atan2(d.x*e.y-d.y*e.x,p.Hp(d,e));return Math.abs(d)<p.qE?0:d};
p.S7=function(a,c){var d=Math.acos(p.Hp(p.zh(a),p.zh(c)));return Math.abs(d)<p.qE?0:d};p.WT=function(a,c,d){a=p.Ed(a,c);var e=Math.cos(d);d=Math.sin(d);var f=a.x;a.x=f*e-a.y*d+c.x;a.y=f*d+a.y*e+c.y;return a};p.AC=function(a,c,d,e,f){if(a.x==c.x&&a.y==c.y||d.x==e.x&&d.y==e.y)return!1;var g=c.x-a.x;c=c.y-a.y;var h=e.x-d.x;e=e.y-d.y;var k=a.x-d.x;a=a.y-d.y;d=e*g-h*c;f.x=h*a-e*k;f.y=g*a-c*k;if(0==d)return 0==f.x||0==f.y?!0:!1;f.x/=d;f.y/=d;return!0};
p.h8=function(a,c,d,e){var f=p.a(0,0);return p.AC(a,c,d,e,f)&&0<=f.x&&1>=f.x&&0<=f.y&&1>=f.y?!0:!1};p.b8=function(a,c,d,e){var f=p.a(0,0);return p.AC(a,c,d,e,f)?(d=p.a(0,0),d.x=a.x+f.x*(c.x-a.x),d.y=a.y+f.x*(c.y-a.y),d):p.qj()};p.g8=function(a,c){return null!=a&&null!=c?a.x==c.x&&a.y==c.y:!1};p.l8=function(a){a.x=0;a.y=0};p.a8=function(a,c){a.x=c.x;a.y=c.y};p.VT=function(a,c){a.x*=c;a.y*=c};p.i8=function(a,c){a.x-=c.x;a.y-=c.y};p.R7=function(a,c){a.x+=c.x;a.y+=c.y};
p.c8=function(a){p.VT(a,1/Math.sqrt(a.x*a.x+a.y*a.y))};p.xba=function(a,c,d,e,f){f+=e;if(!(1>=f)){c*=0.5;for(var g,h=f-1,k=e;k<f;k++){g=2*k;var l=p.a(a[2*k],a[2*k+1]),m;if(0===k)m=p.Kw(p.zh(p.Ed(l,p.a(a[2*(k+1)],a[2*(k+1)+1]))));else if(k===h)m=p.Kw(p.zh(p.Ed(p.a(a[2*(k-1)],a[2*(k-1)+1]),l)));else{m=p.a(a[2*(k-1)],a[2*(k-1)+1]);var n=p.a(a[2*(k+1)],a[2*(k+1)+1]),t=p.zh(p.Ed(n,l)),s=p.zh(p.Ed(m,l)),u=Math.acos(p.Hp(t,s));m=u<p.oj(70)?p.Kw(p.zh(p.BC(t,s))):u<p.oj(170)?p.zh(p.BC(t,s)):p.Kw(p.zh(p.Ed(n,m)))}m=p.ej(m,c);d[2*g]=l.x+m.x;d[2*g+1]=l.y+m.y;d[2*
(g+1)]=l.x-m.x;d[2*(g+1)+1]=l.y-m.y}for(k=0==e?0:e-1;k<h;k++)g=2*k,a=g+2,c=p.nu(d[2*g],d[2*g+1]),f=p.nu(d[2*(g+1)],d[2*(g+1)+1]),g=p.nu(d[2*a],d[2*a]),e=p.nu(d[2*(a+1)],d[2*(a+1)+1]),c=!p.mX(c.x,c.y,e.x,e.y,f.x,f.y,g.x,g.y),!c.us&&(0>c.value||1<c.value)&&(c.us=!0),c.us&&(d[2*a]=e.x,d[2*a+1]=e.y,d[2*(a+1)]=g.x,d[2*(a+1)+1]=g.y)}};
p.mX=function(a,c,d,e,f,g,h,k){if(a==d&&c==e||f==h&&g==k)return{us:!1,value:0};d-=a;e-=c;f-=a;g-=c;h-=a;k-=c;a=Math.sqrt(d*d+e*e);d/=a;e/=a;c=f*d+g*e;g=g*d-f*e;f=c;c=h*d+k*e;k=k*d-h*e;h=c;return g==k?{us:!1,value:0}:{us:!0,value:(h+(f-h)*k/(k-g))/a}};p.RX=function(a,c){c[2]=c[3]=c[6]=c[7]=c[8]=c[9]=c[11]=c[14]=0;c[10]=c[15]=1;c[0]=a.J;c[4]=a.Da;c[12]=a.Za;c[1]=a.i;c[5]=a.La;c[13]=a.$a};p.zY=function(a,c){c.J=a[0];c.Da=a[4];c.Za=a[12];c.i=a[1];c.La=a[5];c.$a=a[13]};p.oE=-1;p.WY=null;p.XY=null;p.fV=1;
p.C=p.Ea.extend({eb:0,Zv:0,Dg:0,Rh:0,ta:1,Aa:1,p:null,pe:0,qe:0,t:null,ma:!0,Gh:null,Md:null,xa:null,Ye:!1,V:null,Lk:!1,sd:p.oE,FG:null,eB:null,Vj:!0,Zu:!0,gF:!0,$_:null,Uj:null,AF:null,oe:!1,Kc:null,Qf:0,ah:null,Eg:null,zF:!1,oq:!1,tu:null,Ci:null,Zz:!1,xm:0,vr:0,Wz:function(){this.Gh=p.Ad();this.Md=p.Ad();this.xa=p.Bm();this.p=p.Ad();this.t=[];this.Uj={J:1,i:0,Da:0,La:1,Za:0,$a:0};var a=p.$.e();this.ah=a.Jg();this.Eg=a.Df();this.zF=!0;this.tu={J:1,i:0,Da:0,La:1,Za:0,$a:0};p.wL&&(this.Ci=new p.wL(this))},
r:function(){!1===this.zF&&this.Wz();return!0},ug:function(a,c){if(a&&0!==a.length){var d,e=a.length,f;d=p.C.Lf;switch(c){case d.Qg:for(d=0;d<e;d++)(f=a[d])&&f.Qg();break;case d.Ud:for(d=0;d<e;d++)(f=a[d])&&f.Ud();break;case d.ki:for(d=0;d<e;d++)(f=a[d])&&f.ki();break;case d.ag:for(d=0;d<e;d++)(f=a[d])&&f.ag();break;case d.mg:for(d=0;d<e;d++)(f=a[d])&&f.mg();break;case d.yh:for(d=0;d<e;d++)(f=a[d])&&f.yh();break;case d.Wd:for(d=0;d<e;d++)(f=a[d])&&f.Wd();break;default:throw"Unknown callback function";
}}},Xa:null,iP:function(){this.zm();!1===this.Vj&&(this.Vj=this.Zu=!0)},jP:function(){!1===this.Vj&&(this.Vj=this.Zu=!0)},O4:function(){return this.pe},ix:function(a){this.pe=a;this.Xa()},P4:function(){return this.qe},jx:function(a){this.qe=a;this.Xa()},E5:function(){return this.eb},Cv:function(a){this.eb=a},naa:function(a){this.Cv(a);this.V&&this.V.Cs(this,a)},u5:function(){return this.Zv},uK:function(a){this.Zv=a},gS:function(){this.Dg!==this.Rh&&p.log("cc.Node.rotation(): RotationX !\x3d RotationY. Don't know which one to return");
return this.Dg},ex:function(a){this.Dg=this.Rh=a;this.xm=0.017453292519943295*this.Dg;this.vr=0.017453292519943295*this.Rh;this.Xa()},E4:function(){return this.Dg},fx:function(a){this.Dg=a;this.xm=0.017453292519943295*this.Dg;this.Xa()},F4:function(){return this.Rh},gx:function(a){this.Rh=a;this.vr=0.017453292519943295*this.Rh;this.Xa()},PB:function(){this.ta!==this.Aa&&p.log("cc.Node.getScale(): ScaleX !\x3d ScaleY. Don't know which one to return");return this.ta},nk:function(a,c){this.ta=a;this.Aa=
c||0===c?c:a;this.Xa()},hS:function(){return this.ta},Np:function(a){this.ta=a;this.Xa()},iS:function(){return this.Aa},wn:function(a){this.Aa=a;this.Xa()},l:function(a,c){var d=this.p;2==arguments.length?(d.G=a,d.O=c):1==arguments.length&&(d.G=a.x,d.O=a.y);this.Xa()},p4:function(){return this.p},q4:function(){return this.p.G},zb:function(a){this.p.G=a;this.Xa()},r4:function(){return this.p.O},Dc:function(a){this.p.O=a;this.Xa()},H2:function(){return this.t.length},G2:function(){return this.t},FI:function(){return this.ma},
w:function(a){this.ma=a;this.Xa()},p2:function(){return this.Gh},F:function(a,c){var d=this.Gh;if(2===arguments.length){if(a===d.G&&c===d.O)return;d.G=a;d.O=c}else{if(a.x===d.G&&a.y===d.O)return;d.G=a.x;d.O=a.y}var e=this.Md,f=this.xa;e.G=f.Ha*d.G;e.O=f.va*d.O;this.Xa()},q2:function(){return this.Md},c:function(){return this.xa},R:function(a,c){var d=this.xa;if(2===arguments.length){if(a===d.Ha&&c===d.va)return;d.Ha=a;d.va=c}else{if(a.width===d.Ha&&a.height===d.va)return;d.Ha=a.width;d.va=a.height}var e=
this.Md,f=this.Gh;e.G=d.Ha*f.G;e.O=d.va*f.O;this.Xa()},H6:function(){return this.Ye},getParent:function(){return this.V},Js:function(a){this.V=a},s6:function(){return this.Lk},Yi:function(a){a!=this.Lk&&(this.Lk=a,this.Xa())},rS:function(){return this.sd},rK:function(a){this.sd=a},getUserData:function(){return this.FG},setUserData:function(a){this.FG=a},s5:function(){return this.eB},haa:function(a){this.eB!=a&&(this.eB=a)},g4:function(){return this.Qf},Mp:function(a){this.Qf=a},Jg:function(){this.ah||
(this.ah=p.$.e().Jg());return this.ah},pV:function(a){this.ah!=a&&(this.uD(),this.ah=a)},Df:function(){this.Eg||(this.Eg=p.$.e().Df());return this.Eg},pW:function(a){this.Eg!=a&&(this.Us(),this.Eg=a)},Ya:function(){var a=p.rect(0,0,this.xa.Ha,this.xa.va);return p.ui(a,this.eg())},ag:function(){this.uD();this.Us();this.ug(this.t,p.C.Lf.ag)},description:function(){return"\x3ccc.Node | Tag \x3d"+this.sd+"\x3e"},JR:function(a){var c=this.t;if(null!=c)for(var d=0;d<c.length;d++){var e=c[d];if(e&&e.sd==
a)return e}return null},f:function(a,c,d){if(!a)throw"cc.Node.addChild(): child must be non-null";a===this?p.log("cc.Node.addChild(): An Node can't be added as a child of itself."):null!==a.V?p.log("cc.Node.addChild(): child already added. It can't be added again"):(c=null!=c?c:a.eb,a.sd=null!=d?d:a.sd,this.dO(a,c),a.V=this,this.Ye&&(a.Qg(),this.Zz&&a.ki()))},L:function(a){this.V&&(null==a&&(a=!0),this.V.removeChild(this,a))},PU:function(a){p.log("removeFromParentAndCleanup is deprecated. Use removeFromParent instead");
this.L(a)},removeChild:function(a,c){0!==this.t.length&&(null==c&&(c=!0),-1<this.t.indexOf(a)&&this.GN(a,c),this.Xa())},U8:function(a,c){a===p.oE&&p.log("cc.Node.removeChildByTag(): argument tag is an invalid tag");var d=this.JR(a);null==d?p.log("cocos2d: removeChildByTag(tag \x3d "+a+"): child not found!"):this.removeChild(d,c)},M8:function(a){p.log("removeAllChildrenWithCleanup is deprecated. Use removeAllChildren instead");this.$b(a)},$b:function(a){var c=this.t;if(null!=c){null==a&&(a=!0);for(var d=
0;d<c.length;d++){var e=c[d];e&&(this.Ye&&(e.yh(),e.Ud()),a&&e.ag(),e.Js(null))}this.t.length=0}},GN:function(a,c){this.Ye&&(a.yh(),a.Ud());c&&a.ag();a.Js(null);p.Zd(this.t,a)},dO:function(a,c){this.oe=!0;this.t.push(a);a.Cv(c)},Cs:function(a,c){if(!a)throw"cc.Node.reorderChild(): child must be non-null";this.oe=!0;a.Mp(p.fV++);a.Cv(c);this.Xa()},Wd:function(){if(this.oe){var a=this.t,c,d,e=a.length,f;for(c=0;c<e;c++){var g=a[c];d=c-1;for(f=a[d];0<=d&&(g.eb<f.eb||g.eb==f.eb&&g.Qf<f.Qf);)a[d+1]=f,
d-=1,f=a[d];a[d+1]=g}this.oe=!1}},Oa:function(){},yx:function(){null!=this.V&&(this.V.yx(),this.V.transform())},Qg:function(){this.Zz=!1;this.Ye=!0;this.ug(this.t,p.C.Lf.Qg);this.Sw()},ki:function(){this.Zz=!0;this.ug(this.t,p.C.Lf.ki)},yh:function(){this.ug(this.t,p.C.Lf.yh)},Ud:function(){this.Ye=!1;this.Mw();this.ug(this.t,p.C.Lf.Ud);this.Ci&&this.Ci.KU()},Tw:function(a){if(!a)throw"cc.Node.runAction(): action must be non-null";this.Jg().aQ(a,this,!this.Ye);return a},uD:function(){this.Jg().vJ(this)},
WW:function(a){this.Jg().uJ(a)},Daa:function(a){a===p.In?p.log("cc.Node.stopActionBy(): argument tag an invalid tag"):this.Jg().JU(a,this)},LB:function(a){return a===p.In?(p.log("cc.Node.getActionByTag(): argument tag is an invalid tag"),null):this.Jg().LB(a,this)},T3:function(){return this.Jg().CT(this)},iV:function(){this.jV(0)},jV:function(a){this.Df().DJ(this,a,!this.Ye)},jba:function(){this.Df().Up(this)},bc:function(a,c,d,e){c=c||0;if(!a)throw"cc.Node.schedule(): callback function must be non-null";
if(0>c)throw"cc.Node.schedule(): interval must be positive";d=null==d?p.Wl:d;e=e||0;this.Df().hV(this,a,c,d,e,!this.Ye)},Zc:function(a,c){this.bc(a,0,0,c)},Sc:function(a){a&&this.Df().WK(this,a)},Us:function(){this.Df().VK(this)},Sw:function(){this.Df().rn(this);this.Jg().rn(this)},Mw:function(){this.Df().Bs(this);this.Jg().Bs(this)},v9:function(a){this.tu=a;this.oq=this.Vj=!0},o8:function(){this.Zu&&(this.AF=p.PD(this.eg()),this.Zu=!1);return this.AF},gn:function(){for(var a=this.eg(),c=this.V;null!=
c;c=c.getParent())a=p.Pl(a,c.eg());return a},pX:function(){return p.PD(this.gn())},Ia:function(a){return p.AE(a,this.pX())},dl:function(a){return p.AE(a,this.gn())},VQ:function(a){return p.Ed(this.Ia(a),this.Md)},k1:function(a){a=p.gg(a,this.Md);return this.dl(a)},x_:function(a){a=this.dl(a);return p.$.e().WQ(a)},ai:function(a){return this.Ia(a.M)},l1:function(a){a=a.M;a=p.$.e().UQ(a);return this.VQ(a)},update:function(a){this.Ci&&!this.Ci.o6()&&this.Ci.ua(a)},mg:function(){this.ug(this.t,p.C.Lf.mg)},
BJ:function(){},tJ:function(){},KR:function(a){return this.Ci.KR(a)},g0:function(a){this.Ci.add(a)},V8:function(a){return this.Ci.remove(a)},N8:function(){this.Ci.KU()},sG:null,SA:null,Rz:null,jo:null,Ik:null,ctor:null,Hh:function(){this.Wz()},Ih:function(){this.Wz();var a=new p.wh;a.xh[2]=a.xh[3]=a.xh[6]=a.xh[7]=a.xh[8]=a.xh[9]=a.xh[11]=a.xh[14]=0;a.xh[10]=a.xh[15]=1;this.sG=a;this.Rz=0;this.SA=new p.wh},ua:null,Nm:function(a){if(this.ma){a=a||p.Y;var c,d=this.t,e;a.save();this.transform(a);var f=
d.length;if(0<f){this.Wd();for(c=0;c<f;c++)if(e=d[c],0>e.eb)e.ua(a);else break;for(this.Oa(a);c<f;c++)d[c].ua(a)}else this.Oa(a);this.Qf=0;a.restore()}},Om:function(){if(this.ma){var a=p.Y,c,d=p.$Q;d.stack.push(d.top);p.Z6(this.SA,d.top);d.top=this.SA;var e=this.Ik;e&&e.ZM&&e.sB();this.transform();var f=this.t;if(f&&0<f.length){var g=f.length;this.Wd();for(c=0;c<g;c++)if(f[c]&&0>f[c].eb)f[c].ua();else break;for(this.Oa(a);c<g;c++)f[c]&&f[c].ua()}else this.Oa(a);this.Qf=0;e&&e.ZM&&e.oB(this);d.top=
d.stack.pop()}},transform:null,JP:function(a){a=a||p.Y;var c=p.sa.e(),d=this.eg();a.transform(d.J,d.Da,d.i,d.La,d.Za*c.ta,-d.$a*c.Aa)},KP:function(){var a=this.sG,c=p.$Q.top,d=this.eg(),e=a.xh;e[0]=d.J;e[4]=d.Da;e[12]=d.Za;e[1]=d.i;e[5]=d.La;e[13]=d.$a;e[14]=this.Zv;p.rT(c,c,a);null==this.jo||null!=this.Ik&&this.Ik.Cp()||(a=this.Md.G,c=this.Md.O,0!==a||0!==c?(p.pT(p.qg(a),p.qg(c),0),this.jo.MI(),p.pT(p.qg(-a),p.qg(-c),0)):this.jo.MI())},eg:null,tO:function(){this.Uj||(this.Uj={J:1,i:0,Da:0,La:1,Za:0,
$a:0});if(this.Vj){var a=this.Uj;a.Za=this.p.G;a.$a=this.p.O;var c=1,d=0;this.Dg&&(c=Math.cos(this.xm),d=Math.sin(this.xm));a.J=a.La=c;a.i=-d;a.Da=d;var e=this.ta,f=this.Aa,g=this.Md.G,h=this.Md.O,k=1E-6>e&&-1E-6<e?1E-6:e,l=1E-6>f&&-1E-6<f?1E-6:f;if(this.pe||this.qe){var m=Math.tan(-this.pe*Math.PI/180),n=Math.tan(-this.qe*Math.PI/180),t=h*m*k,s=g*n*l;a.J=c+-d*n;a.i=c*m+-d;a.Da=d+c*n;a.La=d*m+c;a.Za+=c*t+-d*s;a.$a+=d*t+c*s}if(1!==e||1!==f)a.J*=k,a.Da*=k,a.i*=l,a.La*=l;a.Za+=c*-g*k+-d*h*l;a.$a-=d*
-g*k+c*h*l;this.Lk&&(a.Za+=g,a.$a+=h);this.oq&&(this.Uj=p.Pl(this.Uj,this.tu),this.oq=!1);this.Vj=!1}return this.Uj},uO:function(){if(this.Vj){var a=this.p.G,c=this.p.O,d=this.Md.G,e=-d,f=this.Md.O,g=-f,h=this.ta,k=this.Aa;this.Lk&&(a+=d,c+=f);var l=1,m=0,n=1,t=0;if(0!==this.Dg||0!==this.Rh)l=Math.cos(-this.xm),m=Math.sin(-this.xm),n=Math.cos(-this.vr),t=Math.sin(-this.vr);var s=this.pe||this.qe;s||0===d&&0===f||(a+=n*e*h+-m*g*k,c+=t*e*h+l*g*k);a={J:n*h,i:t*h,Da:-m*k,La:l*k,Za:a,$a:c};s&&(a=p.Pl({J:1,
i:Math.tan(p.oj(this.qe)),Da:Math.tan(p.oj(this.pe)),La:1,Za:0,$a:0},a),0!==d||0!==f)&&(a=p.Gx(a,e,g));this.oq&&(a=p.Pl(a,this.tu),this.oq=!1);this.Uj=a;this.Vj=!1}return this.Uj},zm:function(){this.gF=!0;this.V&&this.V.zm()},MB:function(){this.jo||(this.jo=new p.$p);return this.jo},q3:function(){return this.Ik},W9:function(a){this.Ik=a},RB:function(){return this.Kc},Sg:function(a){this.Kc=a},p3:function(){return this.Rz},V9:function(a){this.Rz=a},y2:function(){var a=p.rect(0,0,this.xa.Ha,this.xa.va),
c=this.gn(),a=p.Kf(a,this.gn());if(!this.t)return a;for(var d=this.t,e=0;e<d.length;e++){var f=d[e];f&&f.ma&&(f=f.sF(c))&&(a=p.Pw(a,f))}return a},sF:function(a){var c=p.rect(0,0,this.xa.Ha,this.xa.va);a=null==a?this.eg():p.Pl(this.eg(),a);c=p.Kf(c,a);if(!this.t)return c;for(var d=this.t,e=0;e<d.length;e++){var f=d[e];f&&f.ma&&(f=f.sF(a))&&(c=p.Pw(c,f))}return c}});
p.Ga.Rc?(b=p.C.prototype,b.ctor=p.C.prototype.Ih,b.Xa=p.C.prototype.jP,b.ua=p.C.prototype.Om,b.transform=p.C.prototype.KP,b.eg=p.C.prototype.uO):(b=p.C.prototype,b.ctor=p.C.prototype.Hh,b.Xa=p.C.prototype.iP,b.ua=p.C.prototype.Nm,b.transform=p.C.prototype.JP,b.eg=p.C.prototype.tO);p.C.create=function(){return new p.C};p.C.Lf={Qg:1,Ud:2,ag:3,ki:4,mg:5,yh:6,Wd:7};
p.Bb=p.C.extend({jb:!0,Zb:255,Cg:255,Ic:null,ne:null,xd:!1,fe:!1,ctor:function(){p.C.prototype.ctor.call(this);this.Cg=this.Zb=255;this.Ic=p.vb();this.ne=p.vb();this.fe=this.xd=!1},Ui:function(){return this.Cg},MR:function(){return this.Zb},pa:function(a){this.Zb=this.Cg=a;a=255;var c=this.V;c&&c.jb&&c.fe&&(a=c.Zb);this.kd(a)},kd:function(a){this.Zb=this.Cg*a/255;if(this.fe){a=this.t;for(var c=0;c<a.length;c++){var d=a[c];d&&d.jb&&d.kd(this.Zb)}}},iT:function(){return this.fe},KJ:function(a){this.fe!==
a&&((this.fe=a)?this.Qq():this.Az())},Qq:function(){var a=255,c=this.V;c&&c.jb&&c.fe&&(a=c.Zb);this.kd(a)},Az:function(){this.Zb=this.Cg;for(var a=this.t,c=0;c<a.length;c++){var d=a[c];d&&d.jb&&d.kd(255)}},Dd:function(){var a=this.ne;return new p.tc(a.o,a.n,a.i)},is:function(){return this.Ic},m:function(a){var c=this.Ic,d=this.ne;c.o=d.o=a.o;c.n=d.n=a.n;c.i=d.i=a.i;a=(a=this.V)&&a.jb&&a.xd?a.is():p.vb();this.jd(a)},jd:function(a){var c=this.Ic,d=this.ne;c.o=0|d.o*a.o/255;c.n=0|d.n*a.n/255;c.i=0|d.i*
a.i/255;if(this.xd)for(a=this.t,d=0;d<a.length;d++){var e=a[d];e&&e.jb&&e.jd(c)}},hT:function(){return this.xd},JJ:function(a){this.xd!==a&&((this.xd=a)?this.Pq():this.zz())},Pq:function(){var a;a=(a=this.V)&&a.jb&&a.xd?a.is():p.vb();this.jd(a)},zz:function(){var a=this.Ic,c=this.ne;a.o=c.o;a.n=c.n;a.i=c.i;for(var a=this.t,c=p.vb(),d=0;d<a.length;d++){var e=a[d];e&&e.jb&&e.jd(c)}},f:function(a,c,d){p.C.prototype.f.call(this,a,c,d);this.xd&&this.Pq();this.fe&&this.Qq()},If:function(){},pl:function(){return!1}});
p.Bb.create=function(){var a=new p.Bb;a.r();return a};p.$d=p.Bb.extend({jb:!0,GF:0,FF:0,av:0,$u:0,yj:null,Sa:null,pc:!1,ja:null,sr:0,Sz:!1,ctor:function(){p.Bb.prototype.ctor.call(this);this.yj=p.vb();this.ja={src:p.Me,Ib:p.Le};this.Sz=!1},lba:function(){p.log("cc.AtlasNode.updateAtlasValues(): Shall be overridden in subclasses")},Dd:function(){return this.pc?this.yj:p.Bb.prototype.Dd.call(this)},If:function(a){var c=this.Dd();this.pc=a;this.m(c)},pl:function(){return this.pc},hs:function(){return this.ja},Cl:function(a,c){this.ja=1==arguments.length?
a:{src:a,Ib:c}},Pp:function(a){this.Sa=a},WH:function(){return this.Sa},x4:function(){return this.sr},D$:function(a){this.sr=a},Hm:null,yg:null,vG:null,Cu:null,YS:function(a,c,d,e){if(!a)throw"cc.AtlasNode.initWithTileFile(): title should not be null";a=p.ga.e().qa(a);return this.Ma(a,c,d,e)},Ma:null,dr:function(a,c,d,e){this.av=c;this.$u=d;this.pc=!0;this.yg=a;if(!this.yg)return p.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.Hm=this.yg;this.yu();this.sr=e;return!0},
er:function(a,c,d,e){this.av=c;this.$u=d;this.yj=p.vb();this.pc=!0;this.ja.src=p.Me;this.ja.Ib=p.Le;c=this.ne;this.Cu=new Float32Array([c.o/255,c.n/255,c.i/255,this.Cg/255]);this.Sa=new p.Wn;this.Sa.Ma(a,e);if(!this.Sa)return p.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.Mm();this.CG();this.yu();this.sr=e;this.Sg(p.Fh.e().mi(p.GZ));this.vG=p.Y.getUniformLocation(this.RB().sw(),"u_color");return!0},Oa:null,xg:function(a){a=a||p.Y;p.ly(this);p.ck(this.ja.src,this.ja.Ib);
a.uniform4fv(this.vG,this.Cu);this.Sa.sH(this.sr,0)},m:null,xr:function(a){var c=this.ne;if(c.o!=a.o||c.n!=a.n||c.i!=a.i){c=new p.tc(a.o,a.n,a.i);this.yj=a;if(this.pc){var d=this.Zb;c.o=c.o*d/255;c.n=c.n*d/255;c.i=c.i*d/255}p.Bb.prototype.m.call(this,a);this.ea()&&(a=this.yg.Jc)&&(c=p.ga.e().XH(a))&&(d=p.rect(0,0,a.width,a.height),a=p.KB(a,c,this.ne,d),c=new p.ec,c.Ef(a),c.Fe(),this.ia(c))}},FA:function(a){var c=p.tc(a.o,a.n,a.i);this.yj=a;var d=this.Zb;this.pc&&(c.o=c.o*d/255,c.n=c.n*d/255,c.i=c.i*
d/255);p.Bb.prototype.m.call(this,a);a=this.Ic;this.Cu=new Float32Array([a.o/255,a.n/255,a.i/255,d/255])},pa:null,zr:function(a){p.Bb.prototype.pa.call(this,a);this.pc&&this.m(this.yj)},HA:function(a){p.Bb.prototype.pa.call(this,a);this.pc?this.m(this.yj):(a=this.Ic,this.Cu=new Float32Array([a.o/255,a.n/255,a.i/255,this.Zb/255]))},ea:null,Oz:function(){return this.Hm},Pz:function(){return this.Sa.ea()},ia:null,Ar:function(a){this.Hm=a},Br:function(a){this.Sa.ia(a);this.Mm();this.CG()},yu:null,oN:function(){var a=
this.ea().c();this.FF=0|a.height/this.$u;this.GF=0|a.width/this.av},pN:function(){var a=this.ea(),c=a.c();this.Sz&&(c=a.xa);this.FF=0|c.height/this.$u;this.GF=0|c.width/this.av},Mm:function(){this.Sa.ea().qs()||(this.ja.src=770,this.ja.Ib=771)},CG:function(){this.pc=this.Sa.ea().qs()},GA:function(a){this.Sz=a}});
p.Ga.Rc?(b=p.$d.prototype,b.Ma=p.$d.prototype.er,b.Oa=p.$d.prototype.xg,b.m=p.$d.prototype.FA,b.pa=p.$d.prototype.HA,b.ea=p.$d.prototype.Pz,b.ia=p.$d.prototype.Br,b.yu=p.$d.prototype.pN):(b=p.$d.prototype,b.Ma=p.$d.prototype.dr,b.Oa=p.C.prototype.Oa,b.m=p.$d.prototype.xr,b.pa=p.$d.prototype.zr,b.ea=p.$d.prototype.Oz,b.ia=p.$d.prototype.Ar,b.yu=p.$d.prototype.oN);p.$d.create=function(a,c,d,e){var f=new p.$d;return f.YS(a,c,d,e)?f:null};p.sj=0;p.iq=1;p.hq=2;p.gq=3;p.Cy=4;p.By=5;p.du=6;p.cu=7;p.LE=8;p.KE=9;p.JE=p.sj;p.sz=p.JE;p.tM=!1;p.Z_=function(a,c,d,e){this.yT=a||0;this.wT=c||0;this.iL=d||0;this.jL=e||0};
p.JM=p.Ea.extend({xO:null,Rf:null,kh:null,jh:null,cA:null,xa:null,fh:null,gh:null,zo:null,mm:!1,Kc:null,vc:!1,Jc:null,$h:null,Nd:null,ctor:function(){this.jh=this.kh=0;this.cA="";this.gh=this.fh=0;this.zo=!1;this.xa=p.Bm();this.mm=!1;this.xO=!0;this.Rf=p.ec.aR();this.Kc=null;this.vc=!1;this.$h=this.Jc=null;this.Nd=[]},NC:function(){this.$h&&p.Y.deleteTexture(this.$h)},l4:function(){return this.Rf},qp:function(){return this.kh},pp:function(){return this.jh},getName:function(){return this.$h},c:function(){return p.size(this.xa.width/
p.Jd(),this.xa.height/p.Jd())},LR:function(){return this.xa},TR:function(){return this.fh},TV:function(a){this.fh=a},UR:function(){return this.gh},UV:function(a){this.gh=a},RB:function(){return this.Kc},Sg:function(a){this.Kc=a},qs:function(){return this.zo},JS:function(){return this.mm},description:function(){return"\x3ccc.Texture2D | Name \x3d "+this.cA+" | Dimensions \x3d "+this.kh+" x "+this.jh+" | Coordinates \x3d ("+this.fh+", "+this.gh+")\x3e"},HU:function(){},nT:function(a){return a},zw:function(a,
c,d,e,f){var g=p.Y,h=0,h=c===p.sj?24:this.$G(c),h=d*h/8;0===h%8?g.pixelStorei(g.UNPACK_ALIGNMENT,8):0===h%4?g.pixelStorei(g.UNPACK_ALIGNMENT,4):0===h%2?g.pixelStorei(g.UNPACK_ALIGNMENT,2):g.pixelStorei(g.UNPACK_ALIGNMENT,1);this.$h=g.createTexture();p.Kg(this);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE);
switch(c){case p.sj:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_BYTE,a);break;case p.iq:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_BYTE,a);break;case p.du:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_4_4_4_4,a);break;case p.cu:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_5_5_5_1,a);break;case p.hq:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_SHORT_5_6_5,a);break;case p.By:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE_ALPHA,
d,e,0,g.LUMINANCE_ALPHA,g.UNSIGNED_BYTE,a);break;case p.gq:g.texImage2D(g.TEXTURE_2D,0,g.ALPHA,d,e,0,g.ALPHA,g.UNSIGNED_BYTE,a);break;case p.Cy:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE,d,e,0,g.LUMINANCE,g.UNSIGNED_BYTE,a);break;default:throw"NSInternalInconsistencyException";}this.xa.Ha=f.width;this.xa.va=f.height;this.kh=d;this.jh=e;this.Rf=c;this.fh=f.width/d;this.gh=f.height/e;this.mm=this.zo=!1;this.Sg(p.Fh.e().mi(p.yM));return this.vc=!0},pR:function(a){var c=[0,this.gh,this.fh,this.gh,0,0,this.fh,
0],d=this.kh*this.fh,e=this.jh*this.gh;a=[a.x,a.y,0,d+a.x,a.y,0,a.x,e+a.y,0,d+a.x,e+a.y,0];p.Ae(p.$g|p.SM);this.Kc.pf();this.Kc.tK();p.Kg(this);d=p.Y;d.vertexAttribPointer(p.Qe,2,d.FLOAT,!1,0,a);d.vertexAttribPointer(p.mq,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},rR:function(a){var c=[0,this.gh,this.fh,this.gh,0,0,this.fh,0];a=[a.x,a.y,a.x+a.width,a.y,a.x,a.y+a.height,a.x+a.width,a.y+a.height];p.Ae(p.$g|p.SM);this.Kc.pf();this.Kc.tK();p.Kg(this);var d=p.Y;d.vertexAttribPointer(p.Qe,2,
d.FLOAT,!1,0,a);d.vertexAttribPointer(p.mq,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},eC:function(a){if(null==a)return p.log("cocos2d: cc.Texture2D. Can't create Texture. UIImage is nil"),!1;var c=a.os(),d=a.ks(),e=p.Ne.e().mr;if(c>e||d>e)return p.log("cocos2d: WARNING: Image ("+c+" x "+d+") is bigger than the supported "+e+" x "+e),!1;this.vc=!0;return this.VN(a,c,d)},Ef:function(a){a&&(this.$h=p.Y.createTexture(),this.Jc=a)},OR:function(){return this.Jc},Ng:function(){return this.vc},
Fe:function(){this.vc=!0;var a=p.Y;p.Kg(this);a.pixelStorei(a.UNPACK_ALIGNMENT,4);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,this.Jc);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);this.Sg(p.Fh.e().mi(p.yM));p.Kg(null);a=this.Jc.height;this.kh=this.xa.Ha=this.Jc.width;this.jh=this.xa.va=
a;this.Rf=p.sj;this.gh=this.fh=1;this.mm=this.zo=!1;this.ee()},nl:function(a,c,d,e,f,g){3==arguments.length&&(c=arguments[1],d=arguments[2],e=p.size(0,0),f=p.tj,g=p.Yl);var h=new p.PL,k;if(p.Yl===g)k=p.tj===f?p.yX:p.jq===f?p.zX:p.AX;else if(p.mu===g)k=p.tj===f?p.vX:p.jq===f?p.wX:p.xX;else if(p.My===g)k=p.tj===f?p.sX:p.jq===f?p.tX:p.uX;else return p.log("Not supported alignment format!"),!1;return h.nl(a,e.width,e.height,k,c,d)?this.eC(h):!1},SS:function(){return!1},mI:function(a){var c=!1,d=new p.ZZ;
(c=d.S5(a))?(d.K$(!0),this.cA=d.getName(),this.gh=this.fh=1,this.kh=d.os(),this.jh=d.ks(),this.xa.Ha=this.kh,this.xa.va=this.jh,this.zo=p.tM,this.Rf=d.n3(),this.GJ()):p.log("cocos2d: Couldn't load PVR image "+a);return c},WS:function(){return p.Ne.e().Kr?!0:(p.log("cocos2d: WARNING: PVRTC images is not supported."),!1)},uW:function(a){var c=p.Y;p.ct(this.kh==p.Pn(this.kh)&&this.jh==p.Pn(this.jh)||a.iL==c.CLAMP_TO_EDGE&&a.jL==c.CLAMP_TO_EDGE,"WebGLRenderingContext.CLAMP_TO_EDGE should be used in NPOT textures");
p.Kg(this);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,a.yT);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,a.wT);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,a.iL);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,a.jL)},GJ:function(){var a=p.Y;p.Kg(this);this.mm?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},FJ:function(){var a=p.Y;p.Kg(this);
this.mm?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},generateMipmap:function(){p.ct(this.kh==p.Pn(this.kh)&&this.jh==p.Pn(this.jh),"Mimpap texture only works in POT textures");p.Kg(this);p.Y.generateMipmap(p.Y.TEXTURE_2D);this.mm=!0},XW:function(){switch(this.Rf){case p.sj:return"RGBA8888";case p.iq:return"RGB888";case p.hq:return"RGB565";case p.du:return"RGBA4444";
case p.cu:return"RGB5A1";case p.By:return"AI88";case p.gq:return"A8";case p.Cy:return"I8";case p.LE:return"PVRTC4";case p.KE:return"PVRTC2";default:p.log("stringForFormat: "+this.Rf+", cannot give useful result, it's a unrecognized pixel format")}return""},$G:function(a){a=a||this.Rf;switch(a){case p.sj:return 32;case p.iq:return 32;case p.hq:return 16;case p.gq:return 8;case p.du:return 16;case p.cu:return 16;case p.LE:return 4;case p.KE:return 2;case p.Cy:return 8;case p.By:return 16;default:return p.log("bitsPerPixelForFormat: "+
this.Rf+", cannot give useful result, it's a illegal pixel format"),-1}},VN:function(a,c,d){var e=a.getData(),f=null,f=null,g=a.J5(),h=p.size(a.os(),a.ks()),k=p.JE,l=a.w2();g||(8<=l?k=p.iq:(p.log("cocos2d: cc.Texture2D: Using RGB565 texture since image has no alpha"),k=p.hq));var m=c*d;if(k==p.hq)if(g)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>2<<5|(f[l]>>16&255)>>3<<0;else for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]&255)>>3<<
11|(f[l]&255)>>2<<5|(f[l]&255)>>3<<0;else if(k==p.du)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>4<<12|(f[l]>>8&255)>>4<<8|(f[l]>>16&255)>>4<<4|(f[l]>>24&255)>>4<<0;else if(k==p.cu)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>3<<6|(f[l]>>16&255)>>3<<1|(f[l]>>24&255)>>7<<0;else if(k==p.gq)for(e=new Uint8Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=f>>24&255;if(g&&k==p.iq)for(f=a.getData(),e=new Uint8Array(c*d*3),l=0;l<m;++l)e[3*
l]=f>>0&255,e[3*l+1]=f>>8&255,e[3*l+2]=f>>16&255;this.zw(e,k,c,d,h);a.getData();this.zo=a.C6();return!0},Zf:function(a,c){this.Nd.push({bk:a,ci:c})},QU:function(a){for(var c=this.Nd,d=0;d<c.length;d++)c[d].ci==a&&c.splice(d,1)},ee:function(){for(var a=this.Nd,c=0,d=a.length;c<d;c++){var e=a[c];e.bk.call(e.ci,this)}a.length=0}});
p.IM=p.Ea.extend({xa:null,vc:!1,Jc:null,Nd:null,ctor:function(){this.xa=p.Bm();this.vc=!1;this.Jc=null;this.Nd=[]},qp:function(){return this.xa.Ha},pp:function(){return this.xa.va},c:function(){var a=p.Jd();return p.size(this.xa.Ha/a,this.xa.va/a)},LR:function(){return this.xa},Ef:function(a){a&&(this.Jc=a)},OR:function(){return this.Jc},Ng:function(){return this.vc},Fe:function(){this.vc=!0;var a=this.Jc;this.xa.Ha=a.width;this.xa.va=a.height;this.ee()},description:function(){return"\x3ccc.Texture2D | width \x3d "+
this.xa.Ha+" height "+this.xa.va+"\x3e"},zw:function(){return!1},eC:function(){return!1},nl:function(){return!1},NC:function(){},getName:function(){return null},TR:function(){return 1},TV:function(){},UR:function(){return 1},UV:function(){},RB:function(){return null},Sg:function(){},qs:function(){return!1},JS:function(){return!1},HU:function(){},nT:function(a){return a},pR:function(){},rR:function(){},SS:function(){return!1},mI:function(){return!1},WS:function(){return!0},uW:function(){},GJ:function(){},
FJ:function(){},generateMipmap:function(){},XW:function(){return""},$G:function(){return-1},Zf:function(a,c){this.Nd.push({bk:a,ci:c})},QU:function(a){for(var c=this.Nd,d=0;d<c.length;d++)c[d].ci==a&&c.splice(d,1)},ee:function(){for(var a=this.Nd,c=0,d=a.length;c<d;c++){var e=a[c];e.bk.call(e.ci,this)}a.length=0}});p.ec=p.Ga.Rc?p.JM:p.IM;p.ec.I9=function(a){p.sz=a};p.ec.aR=function(){return p.sz};p.ec.U2=function(){return p.sz};p.gs=null;p.l7=function(a){if(p.SQ(a)==p.JL)p.log("unsupported format:"+a);else{var c=new Image;c.src=a;c.addEventListener("load",function(){p.ga.e().vQ(a,c);this.removeEventListener("load",arguments.callee,!1)},!1)}};p.SQ=function(a){return 0<a.toLowerCase().indexOf(".jpg")||0<a.toLowerCase().indexOf(".jpeg")?p.vY:0<a.toLowerCase().indexOf(".png")?p.wY:0<a.toLowerCase().indexOf(".webp")?p.yY:p.JL};
p.ga=p.Ea.extend({qb:null,Lr:null,Mv:null,VF:!1,dv:null,ev:null,ctor:function(){if(p.gs)throw"Attempted to allocate a second instance of a singleton.";this.Mv+=0|1E3*Math.random();this.qb={};this.Lr={};p.Fd===p.wk&&(this.dv={},this.ev={})},Wy:function(a,c){if(a&&"string"===typeof c)a[c]();else a&&"function"===typeof c&&c.call(a)},cO:function(){this.VF=!0;var a,c=this.dv,d=this.qb;for(a in c){var e=c[a],f=new p.ec;f.Ef(e);f.Fe();d[a]=f}this.dv={}},l0:function(){p.log("TextureCache:addPVRTCImage does not support on HTML5")},
h0:function(){p.log("TextureCache:addPVRTCImage does not support on HTML5")},description:function(){return"\x3cTextureCache | Number of textures \x3d "+this.qb.length+"\x3e"},ux:function(a){a=p.Kd.e().xe(a);return this.qb.hasOwnProperty(a)?this.qb[a]:null},QR:function(a){for(var c in this.qb)if(this.qb[c]==a)return c;return null},MN:function(){this.Mv++;return"_textureKey_"+this.Mv},XH:function(a){var c=this.QR(a);c||(c=a instanceof HTMLImageElement?a.src:this.MN());this.Lr.hasOwnProperty(c)||(this.Lr[c]=
p.kp(a));return this.Lr[c]},k0:function(a){if(!a)throw"cc.TextureCache.addPVRImage(): path should be non-null";a=p.Kd.e().xe(a);if(null!=this.qb[a])return this.qb[a];var c=new p.ec;c.mI(a)?this.qb[a]=c:p.log("cocos2d: Couldn't add PVRImage:"+a+" in TextureCache");return c},Q8:function(){var a=this.qb,c;for(c in a)a[c]&&a[c].NC();this.qb={}},e9:function(a){if(a){var c=this.qb,d;for(d in c)c[d]==a&&(c[d].NC(),delete c[d])}},UU:function(a){null!=a&&(a=p.Kd.e().xe(a),this.qb[a]&&delete this.qb[a])},i0:function(a,
c,d){if(!a)throw"cc.TextureCache.addImageAsync(): path should be non-null";a=p.Kd.e().xe(a);var e=this.qb[a],f,g;if(e)e.Ng()?this.Wy(c,d):(g=this,f=e.Jc,f.addEventListener("load",function(){e.Fe();g.Wy(c,d);this.removeEventListener("load",arguments.callee,!1)}));else{f=new Image;f.crossOrigin="Anonymous";g=this;f.addEventListener("load",function(){g.qb.hasOwnProperty(a)&&g.qb[a].Fe();g.Wy(c,d);this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});
f.addEventListener("error",function(){p.dc.e().jn(a);g.qb.hasOwnProperty(a)&&delete g.qb[a];this.removeEventListener("error",arguments.callee,!1)});f.src=a;var h=new p.ec;h.Ef(f);this.qb[a]=h}return this.qb[a]},aN:function(a){var c=new Image;c.crossOrigin="Anonymous";var d=this;c.addEventListener("load",function(){p.dc.e().li();d.dv[a]=c;delete d.ev[a];this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});c.addEventListener("error",function(){p.dc.e().jn(a);
delete d.ev[a];this.removeEventListener("error",arguments.callee,!1)});c.src=a;this.ev[a]=c},qa:function(a){if(!a)throw"cc.Texture.addImage(): path should be non-null";if(p.Fd===p.wk&&!this.VF)return this.aN(a);a=p.Kd.e().xe(a);var c=this.qb[a],d;if(c)c.Ng()?p.dc.e().li():(d=c.Jc,d.addEventListener("load",function(){c.Fe();p.dc.e().li();this.removeEventListener("load",arguments.callee,!1)}));else{d=new Image;d.crossOrigin="Anonymous";var e=this;d.addEventListener("load",function(){p.dc.e().li();e.qb.hasOwnProperty(a)&&
e.qb[a].Fe();this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});d.addEventListener("error",function(){p.dc.e().jn(a);e.qb.hasOwnProperty(a)&&delete e.qb[a];this.removeEventListener("error",arguments.callee,!1)});d.src=a;var f=new p.ec;f.Ef(d);this.qb[a]=f}return this.qb[a]},vQ:function(a,c){if(c instanceof p.ec)this.qb[a]=c;else{var d=new p.ec;d.Ef(c);d.Fe();this.qb[a]=d}},q0:function(a,c){if(!a)throw"cc.Texture.addUIImage(): image should be non-null";
if(c&&this.qb.hasOwnProperty(c)&&this.qb[c])return this.qb[c];var d=new p.ec;d.eC(a);null!=c&&null!=d?this.qb[c]=d:p.log("cocos2d: Couldn't add UIImage in TextureCache");return d},E1:function(){var a=0,c=0,d=this.qb,e;for(e in d){var f=d[e];a++;f.Jc instanceof HTMLImageElement?p.log("cocos2d: '"+e+"' id\x3d"+f.Jc.src+" "+f.qp()+" x "+f.pp()):p.log("cocos2d: '"+e+"' id\x3d HTMLCanvasElement "+f.qp()+" x "+f.pp());c+=f.qp()*f.pp()*4}d=this.Lr;for(e in d){var f=d[e],g;for(g in f){var h=f[g];a++;p.log("cocos2d: '"+
e+"' id\x3d HTMLCanvasElement "+h.width+" x "+h.height);c+=h.width*h.height*4}}p.log("cocos2d: TextureCache dumpDebugInfo: "+a+" textures, HTMLCanvasElement for "+c/1024+" KB ("+(c/1048576).toFixed(2)+" MB)")}});p.ga.e=function(){p.gs||(p.gs=new p.ga);return p.gs};p.ga.tU=function(){p.gs=null};p.Wn=p.Ea.extend({zd:null,Ai:null,Ja:!1,nd:0,Fa:null,Ve:null,Ag:null,tr:null,Bg:null,ctor:function(){this.Ai=[]},l5:function(){return this.Ua},E2:function(){return this.nd},ea:function(){return this.Fa},ia:function(a){this.Fa=a},Rg:function(a){this.Ja=a},yI:function(){return this.Ja},w4:function(){return this.Ve},C$:function(a){this.Ve=a},y_:function(a,c){if(a)for(var d=0;d<a.length;d++)this.Bv(a[d],c+d)},Bv:function(a,c){var d=this.Ve;d[c]?(d[c].Ka=a.Ka,d[c].Va=a.Va,d[c].Ta=a.Ta,d[c].Na=a.Na):d[c]=
new p.fc(a.Ta,a.Ka,a.Na,a.Va,this.Ag,c*p.fc.BYTES_PER_ELEMENT)},description:function(){return"\x3ccc.TextureAtlas | totalQuads \x3d"+this.Ua+"\x3e"},hG:function(){if(0!==this.nd)for(var a=this.zd,c=this.nd,d=0;d<c;d++)p.ME?(a[6*d+0]=4*d+0,a[6*d+1]=4*d+0,a[6*d+2]=4*d+2,a[6*d+3]=4*d+1,a[6*d+4]=4*d+3,a[6*d+5]=4*d+3):(a[6*d+0]=4*d+0,a[6*d+1]=4*d+1,a[6*d+2]=4*d+2,a[6*d+3]=4*d+3,a[6*d+4]=4*d+2,a[6*d+5]=4*d+1)},yP:function(){var a=p.Y;this.Ai[0]=a.createBuffer();this.Ai[1]=a.createBuffer();this.tr=a.createBuffer();
this.IF()},IF:function(){var a=p.Y;a.bindBuffer(a.ARRAY_BUFFER,this.tr);a.bufferData(a.ARRAY_BUFFER,this.Ag,a.DYNAMIC_DRAW);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Ai[1]);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.zd,a.STATIC_DRAW)},Zi:function(a,c){var d=p.ga.e().qa(a);if(d)return this.Ma(d,c);p.log("cocos2d: Could not open file: "+a);return!1},Ma:function(a,c){if(!a)throw"cc.TextureAtlas.initWithTexture():texture should be non-null";this.nd=c|=0;this.Ua=0;this.Fa=a;this.Ve=[];this.zd=new Uint16Array(6*
c);var d=p.fc.BYTES_PER_ELEMENT;this.Ag=new ArrayBuffer(d*c);this.Bg=new Uint8Array(this.Ag);if((!this.Ve||!this.zd)&&0<c)return!1;for(var e=this.Ve,f=0;f<c;f++)e[f]=new p.fc(null,null,null,null,this.Ag,f*d);this.hG();this.yP();return this.Ja=!0},Bx:function(a,c){if(!a)throw"cc.TextureAtlas.updateQuad(): quad should be non-null";if(0>c||c>=this.nd)throw"cc.TextureAtlas.updateQuad(): Invalid index";this.Ua=Math.max(c+1,this.Ua);this.Bv(a,c);this.Ja=!0},kC:function(a,c){if(c>=this.nd)throw"cc.TextureAtlas.insertQuad(): Invalid index";
this.Ua++;if(this.Ua>this.nd)p.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");else{var d=p.fc.BYTES_PER_ELEMENT,e=c*d,f=(this.Ua-1-c)*d;this.Ve[this.Ua-1]=new p.fc(null,null,null,null,this.Ag,(this.Ua-1)*d);this.Bg.set(this.Bg.subarray(e,e+f),e+d);this.Bv(a,c);this.Ja=!0}},Y5:function(a,c,d){d=d||a.length;if(c+d>this.nd)throw"cc.TextureAtlas.insertQuad(): Invalid index + amount";var e=p.fc.BYTES_PER_ELEMENT;this.Ua+=d;if(this.Ua>this.nd)p.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");
else{var f=c*e,g=(this.Ua-1-c-d)*e,h=this.Ua-1-d,k;for(k=0;k<d;k++)this.Ve[h+k]=new p.fc(null,null,null,null,this.Ag,(this.Ua-1)*e);this.Bg.set(this.Bg.subarray(f,f+g),f+e*d);for(k=0;k<d;k++)this.Bv(a[k],c+k);this.Ja=!0}},X5:function(a,c){if(a!==c){if(0>c&&c>=this.Ua)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid newIndex";if(0>a&&a>=this.Ua)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid fromIndex";var d=p.fc.BYTES_PER_ELEMENT,e=this.Bg,f=e.subarray(a*d,d),g;a>c?(g=c*d,e.set(e.subarray(g,
g+(a-c)*d),g+d),e.set(f,g)):(g=(a+1)*d,e.set(e.subarray(g,g+(c-a)*d),g-d),e.set(f,c*d));this.Ja=!0}},SU:function(a){if(a>=this.Ua)throw"cc.TextureAtlas.removeQuadAtIndex(): Invalid index";var c=p.fc.BYTES_PER_ELEMENT;this.Ua--;this.Ve.length=this.Ua;if(a!==this.Ua){var d=(a+1)*c;this.Bg.set(this.Bg.subarray(d,d+(this.Ua-a)*c),d-c)}this.Ja=!0},X8:function(a,c){if(a+c>this.Ua)throw"cc.TextureAtlas.removeQuadsAtIndex(): index + amount out of bounds";this.Ua-=c;if(a!==this.Ua){var d=p.fc.BYTES_PER_ELEMENT,
e=(a+c)*d;this.Bg.set(this.Bg.subarray(e,e+(this.Ua-a)*d),a*d)}this.Ja=!0},MU:function(){this.Ua=this.Ve.length=0},W_:function(a){this.Ja=a},XU:function(a){if(a==this.nd)return!0;var c=p.fc.BYTES_PER_ELEMENT,d=this.nd;this.Ua=Math.min(this.Ua,a);var e=this.nd=0|a,f=this.Ua;if(null==this.Ve)for(this.Ve=[],this.Ag=new ArrayBuffer(c*e),this.Bg=new Uint8Array(this.Ag),a=0;a<e;a++)this.Ve=new p.fc(null,null,null,null,this.Ag,a*c);else{var g,h,k=this.Ve;if(e>d){g=[];h=new ArrayBuffer(c*e);for(a=0;a<f;a++)g[a]=
new p.fc(k[a].Ta,k[a].Ka,k[a].Na,k[a].Va,h,a*c);for(;a<e;a++)g[a]=new p.fc(null,null,null,null,h,a*c)}else for(f=Math.max(f,e),g=[],h=new ArrayBuffer(c*e),a=0;a<f;a++)g[a]=new p.fc(k[a].Ta,k[a].Ka,k[a].Na,k[a].Va,h,a*c);this.Bg=new Uint8Array(h);this.Ve=g;this.Ag=h}null==this.zd?this.zd=new Uint16Array(6*e):e>d?(c=new Uint16Array(6*e),c.set(this.zd,0),this.zd=c):this.zd=this.zd.subarray(0,6*e);this.hG();this.IF();return this.Ja=!0},P5:function(a){this.Ua+=a},u7:function(a,c,d){if(2==arguments.length){d=
c;c=this.Ua-a;if(d+(this.Ua-a)>this.nd)throw"cc.TextureAtlas.moveQuadsFromIndex(): move is out of bounds";if(0===c)return}else{if(d+c>this.Ua)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid newIndex";if(a>=this.Ua)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid oldIndex";if(a==d)return}var e=p.fc.BYTES_PER_ELEMENT,f=a*e,g=c*e,h=this.Bg,k=h.subarray(f,f+g),l=d*e,m;d<a?(m=d*e,h.set(h.subarray(m,m+(a-d)*e),m+g)):(m=(a+c)*e,h.set(h.subarray(m,m+(d-a)*e),f));h.set(k,l);this.Ja=!0},d2:function(a,
c){for(var d=c*p.fc.BYTES_PER_ELEMENT,e=new Uint8Array(this.Ag,a*p.fc.BYTES_PER_ELEMENT,d),f=0;f<d;f++)e[f]=0},sH:function(a,c){c=c||0;if(0!==a&&this.Fa&&this.Fa.Ng()){var d=p.Y;p.Kg(this.Fa);p.Ae(p.lu);d.bindBuffer(d.ARRAY_BUFFER,this.tr);this.Ja&&d.bufferData(d.ARRAY_BUFFER,this.Ag,d.DYNAMIC_DRAW);d.vertexAttribPointer(p.Qe,3,d.FLOAT,!1,24,0);d.vertexAttribPointer(p.lq,4,d.UNSIGNED_BYTE,!0,24,12);d.vertexAttribPointer(p.mq,2,d.FLOAT,!1,24,16);this.Ja&&(this.Ja=!1);d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,
this.Ai[1]);p.ME?d.drawElements(d.TRIANGLE_STRIP,6*a,d.UNSIGNED_SHORT,6*c*this.zd.BYTES_PER_ELEMENT):d.drawElements(d.TRIANGLES,6*a,d.UNSIGNED_SHORT,6*c*this.zd.BYTES_PER_ELEMENT);p.ei++}},sR:function(){this.sH(this.Ua,0)},T_:function(){var a=p.Y;this.Ai&&(this.Ai[0]&&a.deleteBuffer(this.Ai[0]),this.Ai[1]&&a.deleteBuffer(this.Ai[1]));this.tr&&a.deleteBuffer(this.tr)}});p.Wn.create=function(a,c){var d=new p.Wn;return d&&d.Zi(a,c)?d:null};p.Wn.ab=function(a,c){var d=new p.Wn;return d&&d.Ma(a,c)?d:null};p.eq=p.C.extend({ctor:function(){p.C.prototype.ctor.call(this);this.Lk=!0;this.F(0.5,0.5);this.R(p.$.e().Sb)}});p.eq.create=function(){return new p.eq};p.Dy=0;p.RZ=1;
p.Ec=p.C.extend({Nk:!1,Mk:!1,Bo:!1,al:0,Tr:p.Dy,om:!1,Ko:0,ctor:function(){p.C.prototype.ctor.call(this);this.Bo=this.Mk=this.Nk=!1;this.al=0;this.Tr=p.Dy;this.om=!1;this.Ko=0},UN:function(){this.F(0.5,0.5);this.Lk=!0;var a=p.$.e();this.R(a.Sb)},r:function(){p.C.prototype.r.call(this);this.UN();return!0},Qw:function(){this.Tr===p.Dy?p.GU(this,this.al):p.KC(this.al,!0,this)},v6:function(){return this.om},$w:function(a){if(!p.ce)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.om!=
a&&(this.om=a,this.Ye&&(a?p.$.e().Cf().QG(this,this.Ko):p.$.e().Cf().wJ(this)))},n$:function(a){if(!p.ce)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.Ko!==a&&(this.Ko=a,this.om&&(this.$w(!1),this.$w(!0)))},Q3:function(){return this.Ko},O6:function(){return this.Nk},Vb:function(a){this.Nk!==a&&(this.Nk=a,this.Ye&&(a?this.Qw():p.UK(this)))},p5:function(){return this.al},Qp:function(a){this.al!==a&&(this.al=a,this.Nk&&(this.Vb(!1),this.Vb(!0)))},o5:function(){return this.Tr},
mD:function(a){this.Tr!==a&&(this.Tr=a,this.Nk&&(this.Vb(!1),this.Vb(!0)))},d6:function(){return this.Mk},t9:function(a){if(!p.qk)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";if(a!==this.Mk&&(this.Mk=a,this.Ye)){var c=p.$.e();a?c.lp().ig(this):c.lp().ig(null)}},oV:function(a){this.Mk&&p.qk&&p.$.e().lp().oV(a)},L7:function(){p.log("onAccelerometer event should be handled.")},u6:function(){return this.Bo},f$:function(a){if(!p.On)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";
if(a!==this.Bo&&(this.Bo=a,this.Ye)){var c=p.$.e();a?c.qw().bQ(this):c.qw().OU(this)}},Qg:function(){var a=p.$.e();this.Nk&&this.Qw();p.C.prototype.Qg.call(this);this.Mk&&p.qk&&a.lp().ig(this);this.Bo&&p.On&&a.qw().bQ(this);this.om&&p.ce&&a.Cf().QG(this,this.Ko)},Ud:function(){var a=p.$.e();this.Nk&&p.UK(this);this.Mk&&p.qk&&a.lp().ig(null);this.Bo&&p.On&&a.qw().OU(this);this.om&&p.ce&&a.Cf().wJ(this);p.C.prototype.Ud.call(this)},ki:function(){this.Mk&&p.qk&&p.$.e().lp().ig(this);p.C.prototype.ki.call(this)},
lb:function(){p.log("onTouchBegan event should be handled.");return!0},vd:function(){},Ff:function(){},hk:function(){},bJ:function(){},eJ:function(){},dJ:function(){},cJ:function(){},FT:function(){return!1},GT:function(){return!1},dj:function(){return!1},JT:function(){return!1},OT:function(){return!1},PT:function(){return!1},QT:function(){return!1},LT:function(){return!1},MT:function(){return!1},NT:function(){return!1},RT:function(){return!1},HT:function(){return!1},IT:function(){return!1},xC:function(){},
wl:function(){}});p.Ec.create=function(){var a=new p.Ec;return a&&a.r()?a:null};
p.Dh=p.Ec.extend({jb:!0,Zb:0,Cg:0,Ic:null,ne:null,fe:!1,xd:!1,ctor:function(){p.Ec.prototype.ctor.call(this);this.jb=!0;this.Cg=this.Zb=255;this.Ic=p.vb();this.ne=p.vb();this.xd=this.fe=!1},r:function(){return p.Ec.prototype.r.call(this)?(this.KJ(!1),this.JJ(!1),!0):!1},Ui:function(){return this.Cg},MR:function(){return this.Zb},pa:function(a){this.Zb=this.Cg=a;a=255;var c=this.V;c&&c.jb&&c.fe&&(a=c.Zb);this.kd(a)},kd:function(a){this.Zb=0|this.Cg*a/255;if(this.fe){a=this.t;for(var c=0;c<a.length;c++){var d=
a[c];d&&d.jb&&d.kd(this.Zb)}}},iT:function(){return this.fe},KJ:function(a){this.fe!==a&&((this.fe=a)?this.Qq():this.Az())},Qq:function(){var a=255,c=this.V;c&&c.jb&&c.fe&&(a=c.Zb);this.kd(a)},Az:function(){this.Zb=this.Cg;for(var a=this.t,c=0;c<a.length;c++){var d=a[c];d&&d.jb&&d.kd(255)}},Dd:function(){var a=this.ne;return p.j(a.o,a.n,a.i)},is:function(){var a=this.Ic;return p.j(a.o,a.n,a.i)},m:function(a){var c=this.Ic,d=this.ne;c.o=d.o=a.o;c.n=d.n=a.n;c.i=d.i=a.i;a=(a=this.V)&&a.jb&&a.xd?a.is():
p.vb();this.jd(a)},jd:function(a){var c=this.Ic,d=this.ne;c.o=0|d.o*a.o/255;c.n=0|d.n*a.n/255;c.i=0|d.i*a.i/255;if(this.xd)for(a=this.t,d=0;d<a.length;d++){var e=a[d];e&&e.jb&&e.jd(c)}},hT:function(){return this.xd},JJ:function(a){this.xd!==a&&((this.xd=a)?this.Pq():this.zz())},Pq:function(){var a;a=(a=this.V)&&a.jb&&a.xd?a.is():p.vb();this.jd(a)},zz:function(){var a=this.Ic,c=this.ne;a.o=c.o;a.n=c.n;a.i=c.i;for(var a=this.t,c=p.vb(),d=0;d<a.length;d++){var e=a[d];e&&e.jb&&e.jd(c)}},f:function(a,
c,d){p.C.prototype.f.call(this,a,c,d);this.xd&&this.Pq();this.fe&&this.Qq()},If:function(){},pl:function(){return!1}});
p.aa=p.Dh.extend({ja:null,hs:function(){return this.ja},$0:function(a,c){this.R(a,c)},bH:function(a){this.R(a,this.xa.va)},X0:function(a){this.R(this.xa.Ha,a)},If:function(){},pl:function(){return!1},m:function(a){p.Dh.prototype.m.call(this,a);this.Bd()},pa:function(a){p.Dh.prototype.pa.call(this,a);this.Bd()},Co:!1,lG:null,PA:null,hB:null,nz:null,RA:null,QA:null,Hh:function(){p.Dh.prototype.ctor.call(this);this.ja=new p.Tl(p.Me,p.Le)},Ih:function(){p.Dh.prototype.ctor.call(this);this.ja=new p.Tl(p.Me,
p.Le);this.RA=new ArrayBuffer(32);this.QA=new ArrayBuffer(64);var a=this.RA,c=this.QA,d=p.Db.BYTES_PER_ELEMENT,e=p.ae.BYTES_PER_ELEMENT;this.lG=[new p.Db(0,0,a,0),new p.Db(0,0,a,d),new p.Db(0,0,a,2*d),new p.Db(0,0,a,3*d)];this.PA=[new p.ae(0,0,0,1,c,0),new p.ae(0,0,0,1,c,e),new p.ae(0,0,0,1,c,2*e),new p.ae(0,0,0,1,c,3*e)];this.hB=p.Y.createBuffer();this.nz=p.Y.createBuffer()},Cl:function(a,c){this.ja=1==arguments.length?a:{src:a,Ib:c};p.Fd===p.og&&(this.Co=this.ja&&1==this.ja.src&&771==this.ja.Ib)},
r:function(a,c,d){if(!p.Ec.prototype.r.call(this))return!1;p.Fd!==p.og&&this.Sg(p.Fh.e().mi(p.xM));var e=p.$.e().Sb;a=a||new p.Qb(0,0,0,255);c=c||e.width;d=d||e.height;e=this.Ic;e.o=a.o;e.n=a.n;e.i=a.i;e=this.ne;e.o=a.o;e.n=a.n;e.i=a.i;this.Cg=this.Zb=a.J;this.R(c,d);this.Bd();return!0},R:null,dP:function(a,c){var d=this.lG;2===arguments.length?(d[1].x=a,d[2].y=c,d[3].x=a,d[3].y=c,this.dF(),p.Ec.prototype.R.call(this,a,c)):(d[1].x=a.width,d[2].y=a.height,d[3].x=a.width,d[3].y=a.height,this.dF(),p.Ec.prototype.R.call(this,
a))},Bd:null,OP:function(){},PP:function(){for(var a=this.Ic,c=this.Zb,d=this.PA,e=0;4>e;e++)d[e].o=a.o/255,d[e].n=a.n/255,d[e].i=a.i/255,d[e].J=c/255;this.cF()},jd:function(a){p.Dh.prototype.jd.call(this,a);this.Bd()},kd:function(a){p.Dh.prototype.kd.call(this,a);this.Bd()},dF:function(){var a=p.Y;a.bindBuffer(a.ARRAY_BUFFER,this.hB);a.bufferData(a.ARRAY_BUFFER,this.RA,a.STATIC_DRAW)},cF:function(){var a=p.Y;a.bindBuffer(a.ARRAY_BUFFER,this.nz);a.bufferData(a.ARRAY_BUFFER,this.QA,a.STATIC_DRAW)},
Oa:null,im:function(a){a=a||p.Y;var c=this.c(),d=p.sa.e(),e=this.Ic;a.fillStyle="rgba("+(0|e.o)+","+(0|e.n)+","+(0|e.i)+","+this.Zb/255+")";a.fillRect(0,0,c.width*d.ta,-c.height*d.Aa);p.ei++},xg:function(a){a=a||p.Y;p.ly(this);p.Ae(p.$g|p.RM);a.bindBuffer(a.ARRAY_BUFFER,this.hB);a.vertexAttribPointer(p.Qe,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.nz);a.vertexAttribPointer(p.lq,4,a.FLOAT,!1,0,0);p.ck(this.ja.src,this.ja.Ib);a.drawArrays(a.TRIANGLE_STRIP,0,4)}});
p.Ga.Rc?(p.aa.prototype.ctor=p.aa.prototype.Ih,p.aa.prototype.R=p.aa.prototype.dP,p.aa.prototype.Bd=p.aa.prototype.PP,p.aa.prototype.Oa=p.aa.prototype.xg):(p.aa.prototype.ctor=p.aa.prototype.Hh,p.aa.prototype.R=p.Dh.prototype.R,p.aa.prototype.Bd=p.aa.prototype.OP,p.aa.prototype.Oa=p.aa.prototype.im);p.aa.create=function(a,c,d){var e=new p.aa;switch(arguments.length){case 0:e.r();break;case 1:e.r(a);break;case 3:e.r(a,c,d);break;default:e.r()}return e};
p.jE=p.aa.extend({mG:null,vo:null,To:null,wo:null,am:null,Eu:!1,ar:null,$q:null,ctor:function(){p.aa.prototype.ctor.call(this);this.mG=new p.tc(0,0,0);this.vo=new p.tc(0,0,0);this.am=p.a(0,-1);this.wo=this.To=255;this.ar=p.a(0,0);this.$q=p.a(0,0)},R:function(a,c){2===arguments.length?p.aa.prototype.R.call(this,a,c):p.aa.prototype.R.call(this,a);this.Bd()},T4:function(){return this.ne},Q$:function(a){this.m(a)},P9:function(a){this.vo=a;this.Bd()},d3:function(){return this.vo},R$:function(a){this.To=
a;this.Bd()},U4:function(){return this.To},Q9:function(a){this.wo=a;this.Bd()},e3:function(){return this.wo},iaa:function(a){this.am.x=a.x;this.am.y=a.y;this.Bd()},t5:function(){return p.a(this.am.x,this.am.y)},i6:function(){return this.Eu},G9:function(a){this.Eu=a;this.Bd()},r:function(a,c,d){a=a||p.uB(0,0,0,255);c=c||p.uB(0,0,0,255);d=d||p.a(0,-1);var e=this.mG,f=this.vo;e.o=a.o;e.n=a.n;e.i=a.i;this.To=a.J;f.o=c.o;f.n=c.n;f.i=c.i;this.wo=c.J;this.am=d;this.Eu=!0;p.aa.prototype.r.call(this,p.h(a.o,
a.n,a.i,255));return!0},Oa:function(a){if(p.Fd===p.wk)p.aa.prototype.Oa.call(this,a);else{a=a||p.Y;this.Co&&(a.globalCompositeOperation="lighter");a.save();var c=p.sa.e(),d=this.Zb/255,e=this.c().width*c.ta,c=this.c().height*c.Aa,f=a.createLinearGradient(this.ar.x,this.ar.y,this.$q.x,this.$q.y),g=this.Ic,h=this.vo;f.addColorStop(0,"rgba("+Math.round(g.o)+","+Math.round(g.n)+","+Math.round(g.i)+","+(this.To/255*d).toFixed(4)+")");f.addColorStop(1,"rgba("+Math.round(h.o)+","+Math.round(h.n)+","+Math.round(h.i)+
","+(this.wo/255*d).toFixed(4)+")");a.fillStyle=f;a.fillRect(0,0,e,-c);0!=this.VO&&a.rotate(this.U_);a.restore()}},Bd:function(){var a=this.am;if(p.Fd===p.og){var c=0.5*this.c().width,d=0.5*this.c().height;this.ar.x=c*-a.x+c;this.ar.y=d*a.y-d;this.$q.x=c*a.x+c;this.$q.y=d*-a.y-d}else if(d=p.zC(a),0!==d){c=Math.sqrt(2);a=p.a(a.x/d,a.y/d);this.Eu&&(a=p.ej(a,1/(Math.abs(a.x)+Math.abs(a.y))*c));var e=this.Zb/255,f=this.Ic,g=this.vo,d=f.o/255,h=f.n/255,f=f.i/255,k=this.To*e/255,l=g.o/255,m=g.n/255,g=g.i/
255,e=this.wo*e/255,n=this.PA,t=n[0],s=n[1],u=n[2],n=n[3];t.o=l+(c+a.x+a.y)/(2*c)*(d-l);t.n=m+(c+a.x+a.y)/(2*c)*(h-m);t.i=g+(c+a.x+a.y)/(2*c)*(f-g);t.J=e+(c+a.x+a.y)/(2*c)*(k-e);s.o=l+(c-a.x+a.y)/(2*c)*(d-l);s.n=m+(c-a.x+a.y)/(2*c)*(h-m);s.i=g+(c-a.x+a.y)/(2*c)*(f-g);s.J=e+(c-a.x+a.y)/(2*c)*(k-e);u.o=l+(c+a.x-a.y)/(2*c)*(d-l);u.n=m+(c+a.x-a.y)/(2*c)*(h-m);u.i=g+(c+a.x-a.y)/(2*c)*(f-g);u.J=e+(c+a.x-a.y)/(2*c)*(k-e);n.o=l+(c-a.x-a.y)/(2*c)*(d-l);n.n=m+(c-a.x-a.y)/(2*c)*(h-m);n.i=g+(c-a.x-a.y)/(2*c)*
(f-g);n.J=e+(c-a.x-a.y)/(2*c)*(k-e);this.cF()}}});p.jE.create=function(a,c,d){var e=new p.jE;switch(arguments.length){case 2:if(e&&e.r(a,c))return e;break;case 3:if(e&&e.r(a,c,d))return e;break;case 0:if(e&&e.r())return e;break;default:throw"Arguments error ";}return null};
p.kE=p.Ec.extend({Gk:0,eh:null,U5:function(a){this.eh=[];this.eh.push(a);this.Gk=0;this.f(a);return!0},US:function(a){this.eh=a;this.Gk=0;this.f(this.eh[this.Gk]);return!0},Laa:function(a){a>=this.eh.length?p.log("cc.LayerMultiplex.switchTo():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.eh[this.Gk],!0),this.Gk=a,this.f(this.eh[a]))},Maa:function(a){a>=this.eh.length?p.log("cc.LayerMultiplex.switchToAndReleaseMe():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.eh[this.Gk],
!0),this.eh[this.Gk]=null,this.Gk=a,this.f(this.eh[a]))},j0:function(a){a?this.eh.push(a):p.log("cc.Layer.addLayer(): layer should be non-null")}});p.kE.create=function(){0<arguments.length&&null==arguments[arguments.length-1]&&p.log("parameters should not be ending with null in Javascript");var a=new p.kE;return a.US(arguments)?a:null};p.xy=-1;
p.kp=function(a){function c(){var c=p.kp,e=a.width,h=a.height;d[0].width=e;d[0].height=h;d[1].width=e;d[1].height=h;d[2].width=e;d[2].height=h;d[3].width=e;d[3].height=h;c.canvas.width=e;c.canvas.height=h;var k=c.canvas.getContext("2d");k.drawImage(a,0,0);c.AD.width=e;c.AD.height=h;for(var k=k.getImageData(0,0,e,h).data,l=0;4>l;l++){var m=d[l].getContext("2d");m.getImageData(0,0,e,h).data;c.QK.drawImage(a,0,0);for(var n=c.QK.getImageData(0,0,e,h),t=n.data,s=0;s<k.length;s+=4)t[s]=0===l?k[s]:0,t[s+
1]=1===l?k[s+1]:0,t[s+2]=2===l?k[s+2]:0,t[s+3]=k[s+3];m.putImageData(n,0,0)}a.onload=null}if(a.hasOwnProperty("channelCache"))return a.JQ;var d=[document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas")];try{c()}catch(e){a.onload=c}return a.JQ=d};p.kp.canvas=document.createElement("canvas");p.kp.AD=document.createElement("canvas");p.kp.QK=p.kp.AD.getContext("2d");
p.l2=function(a,c,d){d||(d=p.rect(0,0,a.width,a.height),d=p.cq(d));c=c instanceof p.ae?p.h(255*c.o,255*c.n,255*c.i,255*c.J):p.h(c.o,c.n,c.i,50);var e=document.createElement("canvas"),f=e.getContext("2d");e.width!=d.width&&(e.width=d.width);e.height!=d.height&&(e.height=d.height);f.save();f.drawImage(a,d.x,d.y,d.width,d.height,0,0,d.width,d.height);f.globalCompositeOperation="source-in";f.globalAlpha=c.J/255;f.fillStyle="rgb("+c.o+","+c.n+","+c.i+")";f.fillRect(0,0,d.width,d.height);f.restore();return e};
p.KB=function(a,c,d,e,f){e||(e=p.rect(0,0,a.width,a.height));a=null==d.J?p.ew(d.o/255,d.n/255,d.i/255,1):d;d=Math.min(e.width,c[0].width);var g=Math.min(e.height,c[0].height),h;f?(h=f.getContext("2d"),h.clearRect(0,0,d,g)):(f=document.createElement("canvas"),f.width=d,f.height=g,h=f.getContext("2d"));h.save();h.globalCompositeOperation="lighter";var k=h.globalAlpha;0<a.o&&(h.globalAlpha=a.o*k,h.drawImage(c[0],e.x,e.y,d,g,0,0,d,g));0<a.n&&(h.globalAlpha=a.n*k,h.drawImage(c[1],e.x,e.y,d,g,0,0,d,g));
0<a.i&&(h.globalAlpha=a.i*k,h.drawImage(c[2],e.x,e.y,d,g,0,0,d,g));1>a.o+a.n+a.i&&(h.globalAlpha=k,h.drawImage(c[3],e.x,e.y,d,g,0,0,d,g));h.restore();return f};p.iH=function(a,c){if(!a)return null;if(!c)return a;var d=document.createElement("canvas");d.width=c.width;d.height=c.height;var e=d.getContext("2d");e.translate(d.width/2,d.height/2);e.rotate(-1.5707963267948966);e.drawImage(a,c.x,c.y,c.height,c.width,-c.height/2,-c.width/2,c.height,c.width);return d};
p.b_=function(a,c,d,e,f,g){this.scale=c;this.rotation=d;this.Il=e;this.visible=g};p.qg=function(a){return 0|a};p.AM&&(p.qg=function(a){return a});
p.u=p.Bb.extend({jb:!0,Sa:null,ad:0,kb:null,Ja:!1,Oh:null,Gi:null,Wk:!1,Lm:null,ja:null,Fa:null,za:null,bd:!1,ic:null,Xh:null,pc:!1,nc:!1,oc:!1,pb:!1,Nd:null,OF:null,SK:function(){return this.pb},Zf:function(a,c){this.Nd.push({bk:a,ci:c})},ee:function(){for(var a=this.Nd,c=0,d=a.length;c<d;c++){var e=a[c];e.bk.call(e.ci,this)}a.length=0},yI:function(){return this.Ja},Rg:function(a){this.Ja=a},M6:function(){return this.bd},s2:function(){return this.ad},Je:function(a){this.ad=a},TB:function(){return p.rect(this.za.x,
this.za.y,this.za.width,this.za.height)},WH:function(){return this.Sa},Pp:function(a){this.Sa=a},S4:function(){return this.kb},P$:function(a){this.kb=a},b4:function(){return this.ic},hs:function(){return this.ja},Ge:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrame(): spriteFrame should be non-null";a.pb||(this.pb=!1,a.Zf(this.NA,this));var c=this.Ma(a.ea(),a.ed());this.Jp(a);return c},NA:null,DP:function(a){this.Xa();this.Ub(a.ed(),a.qd,a.pd);this.ee()},CP:function(a){this.Xa();this.Ub(a.ed(),
a.qd,a.pd);a=this.Dd();255===a.o&&255===a.n&&255===a.i||this.Au();this.ee()},oI:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";a=p.sg.e().vh(a);return this.Ge(a)},pba:function(a){this.Sa=a.Sa;this.kb=a},oD:function(a){this.za.x=a.x;this.za.y=a.y;this.za.width=a.width;this.za.height=a.height},Wd:function(){if(this.oe){for(var a,c,d=this.t,e,f=1;f<d.length;f++){c=d[f];a=f-1;for(e=d[a];0<=a&&(c.eb<e.eb||c.eb==e.eb&&c.Qf<e.Qf);)d[a+1]=e,a-=1,e=d[a];d[a+
1]=c}this.kb&&this.ug(d,p.C.Lf.Wd);this.oe=!1}},Cs:function(a,c){if(!a)throw"cc.Sprite.reorderChild(): child should be non-null";-1===this.t.indexOf(a)?p.log("cc.Sprite.reorderChild(): this child is not in children list"):c!==a.eb&&(this.kb&&!this.oe&&(this.IA(),this.kb.xJ(!0)),p.C.prototype.Cs.call(this,a,c))},removeChild:function(a,c){this.kb&&this.kb.qn(a);p.C.prototype.removeChild.call(this,a,c)},$b:function(a){var c=this.t,d=this.kb;if(d&&null!=c)for(var e=0,f=c.length;e<f;e++)d.qn(c[e]);p.C.prototype.$b.call(this,
a);this.Gi=!1},OJ:function(a){this.Oh=a;this.Rg(a);a=this.t;if(null!=a)for(var c=0;c<a.length;c++)a[c]instanceof p.u&&a[c].OJ(!0)},Zg:function(){this.kb&&!this.Oh&&(this.Ja=this.Oh=!0,this.Gi&&this.OJ(!0))},l:function(a,c){2<=arguments.length?p.C.prototype.l.call(this,a,arguments[1]):p.C.prototype.l.call(this,a);this.Zg()},ex:function(a){p.C.prototype.ex.call(this,a);this.Zg()},fx:function(a){p.C.prototype.fx.call(this,a);this.Zg()},gx:function(a){p.C.prototype.gx.call(this,a);this.Zg()},ix:function(a){p.C.prototype.ix.call(this,
a);this.Zg()},jx:function(a){p.C.prototype.jx.call(this,a);this.Zg()},Np:function(a){p.C.prototype.Np.call(this,a);this.Zg()},wn:function(a){p.C.prototype.wn.call(this,a);this.Zg()},nk:function(a,c){p.C.prototype.nk.call(this,a,c);this.Zg()},uK:function(a){p.C.prototype.uK.call(this,a);this.Zg()},F:function(a,c){2===arguments.length?p.C.prototype.F.call(this,a,c):p.C.prototype.F.call(this,a);this.Zg()},w:function(a){p.C.prototype.w.call(this,a);this.Zg()},Yi:function(a){this.kb?p.log("cc.Sprite.ignoreAnchorPointForPosition(): it is invalid in cc.Sprite when using SpriteBatchNode"):
p.C.prototype.Yi.call(this,a)},KV:function(a){this.nc!=a&&(this.nc=a,this.Ub(this.za,this.bd,this.xa),this.Xa())},LV:function(a){this.oc!=a&&(this.oc=a,this.Ub(this.za,this.bd,this.xa),this.Xa())},p6:function(){return this.nc},q6:function(){return this.oc},If:null,lP:function(a){this.pc!==a&&(this.pc=a,this.Vs())},kP:function(a){this.pc!==a&&(this.pc=a,this.Xa())},pl:function(){return this.pc},kd:null,SP:function(a){p.Bb.prototype.kd.call(this,a);this.Vs()},AG:function(a){p.Bb.prototype.kd.call(this,
a);this.zm()},M9:function(a,c){if(!a)throw"cc.Sprite.setDisplayFrameWithAnimationName(): animationName must be non-null";var d=p.Ql.e().HH(a);d?(d=d.je[c])?this.Jp(d.vh()):p.log("cc.Sprite.setDisplayFrameWithAnimationName(): Invalid frame index"):p.log("cc.Sprite.setDisplayFrameWithAnimationName(): Frame not found")},v2:function(){return this.kb},IA:function(){if(!this.oe){this.oe=!0;for(var a=this.V;a&&a!=this.kb;)a.IA(),a=a.getParent()}},ea:function(){return this.Fa},Nb:null,xv:null,wf:!1,Du:!1,
Co:!1,yg:null,Zo:null,Cz:null,ctor:null,Ih:function(a){p.Bb.prototype.ctor.call(this);this.Wk=!1;this.ic=p.Ad();this.Xh=p.Ad();this.ja={src:p.Me,Ib:p.Le};this.za=p.rect(0,0,0,0);this.Nb=new p.fc;this.xv=p.Y.createBuffer();this.pb=this.wf=!0;this.Nd=[];if(a)if("string"===typeof a)a=p.sg.e().vh(a),this.Ge(a);else if("object"===typeof a)if(a instanceof p.Ld)this.Ge(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new p.ec;c.Ef(a);c.Fe();this.Ma(c)}else a instanceof p.ec&&
this.Ma(a)},Hh:function(a){p.Bb.prototype.ctor.call(this);this.Wk=!1;this.ic=p.Ad();this.Xh=p.Ad();this.ja={src:p.Me,Ib:p.Le};this.za=p.rect(0,0,0,0);this.OF=!1;this.pb=!0;this.Nd=[];this.Zo={x:0,y:0,width:0,height:0,Zs:!1};this.Cz=p.size(0,0);if(a)if("string"===typeof a)a=p.sg.e().vh(a),this.Ge(a);else if("object"===typeof a)if(a instanceof p.Ld)this.Ge(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new p.ec;c.Ef(a);c.Fe();this.Ma(c)}else a instanceof p.ec&&this.Ma(a)},
v4:function(){return this.Nb},Cl:null,$O:function(a,c){var d=this.ja;1===arguments.length?(d.src=a.src,d.Ib=a.Ib):(d.src=a,d.Ib=c)},ZO:function(a,c){var d=this.ja;1===arguments.length?(d.src=a.src,d.Ib=a.Ib):(d.src=a,d.Ib=c);this.Co=d&&(770==d.src&&1==d.Ib||1==d.src&&1==d.Ib)},r:null,Uz:function(){if(0<arguments.length)return this.Zi(arguments[0],arguments[1]);p.Bb.prototype.r.call(this);this.Ja=this.Oh=!1;this.pc=!0;this.ja.src=p.Me;this.ja.Ib=p.Le;this.ia(null);this.pb=!0;this.nc=this.oc=!1;this.F(0.5,
0.5);this.ic.G=0;this.ic.O=0;this.Gi=!1;var a={o:255,n:255,i:255,J:255};this.Nb.Ka.N=a;this.Nb.Va.N=a;this.Nb.Ta.N=a;this.Nb.Na.N=a;this.wf=!0;this.Ub(p.md(),!1,p.Xl());return!0},Tz:function(){if(0<arguments.length)return this.Zi(arguments[0],arguments[1]);p.Bb.prototype.r.call(this);this.Ja=this.Oh=!1;this.pc=!0;this.ja.src=p.Me;this.ja.Ib=p.Le;this.ia(null);this.pb=!0;this.nc=this.oc=!1;this.F(0.5,0.5);this.ic.G=0;this.ic.O=0;this.Gi=!1;this.Ub(p.md(),!1,p.Xl());return!0},Zi:function(a,c){if(!a)throw"cc.Sprite.initWithFile(): filename should be non-null";
var d=p.ga.e().ux(a);if(!d)d=p.ga.e().qa(a);else if(!c){var e=d.c();c=p.rect(0,0,e.width,e.height)}return this.Ma(d,c)},Ma:null,er:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";d=d||!1;if(!p.Bb.prototype.r.call(this))return!1;this.kb=null;this.Ja=this.Oh=!1;this.pc=!0;this.ja.src=p.Me;this.ja.Ib=p.Le;this.nc=this.oc=!1;this.F(0.5,0.5);this.ic.G=0;this.ic.O=0;this.Gi=!1;var e=new p.Qb(255,255,255,255),f=this.Nb;f.Ka.N=e;f.Va.N=e;f.Ta.N=e;f.Na.N=e;
this.pb=e=a.Ng();if(!e)return this.bd=d||!1,c&&(e=this.za,e.x=c.x,e.y=c.y,e.width=c.width,e.height=c.height),a.Zf(this.Nv,this),!0;c||(e=a.c(),c=p.rect(0,0,e.width,e.height));this.ia(a);this.Ub(c,d,c.Ra);this.Ke(null);return this.wf=!0},dr:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";d=d||!1;if(!p.Bb.prototype.r.call(this))return!1;this.kb=null;this.Ja=this.Oh=!1;this.pc=!0;this.ja.src=p.Me;this.ja.Ib=p.Le;this.nc=this.oc=!1;this.F(0.5,0.5);this.ic.G=
0;this.ic.O=0;this.Gi=!1;var e=a.Ng();this.pb=e;if(!e)return this.bd=d||!1,c&&(this.za.x=c.x,this.za.y=c.y,this.za.width=c.width,this.za.height=c.height),a.Zf(this.Nv,this),!0;c||(e=a.c(),c=p.rect(0,0,e.width,e.height));this.yg=a;this.ia(a);this.Ub(c,d,c.Ra);this.Ke(null);return!0},Nv:null,IP:function(a){if(!this.pb){this.pb=!0;var c=this.za;if(!c)c=a.c(),c=p.rect(0,0,c.width,c.height);else if(p.ur(c)){var d=a.c();c.width=d.width;c.height=d.height}this.ia(a);this.Ub(c,this.bd,c.Ra);this.Ke(null);
this.wf=!0;this.ee()}},HP:function(a){if(!this.pb){this.pb=!0;var c=this.za;if(!c)c=a.c(),c=p.rect(0,0,c.width,c.height);else if(p.ur(c)){var d=a.c();c.width=d.width;c.height=d.height}this.yg=a;this.ia(a);this.Ub(c,this.bd,c.Ra);this.Ke(null);this.ee()}},Ub:null,fG:function(a,c,d){this.bd=c||!1;d=d||a.Ra;this.R(d);this.oD(a);this.eG(a);a=this.Xh;this.nc&&(a.G=-a.G);this.oc&&(a.O=-a.O);var e=this.za;this.ic.G=a.G+(this.xa.Ha-e.width)/2;this.ic.O=a.O+(this.xa.va-e.height)/2;if(this.kb)this.Ja=!0;else{a=
0+this.ic.G;c=0+this.ic.O;d=a+e.width;var e=c+e.height,f=this.Nb;f.Ka.s={x:a,y:c,z:0};f.Va.s={x:d,y:c,z:0};f.Ta.s={x:a,y:e,z:0};f.Na.s={x:d,y:e,z:0};this.wf=!0}},JA:function(a,c,d){this.bd=c||!1;d=d||a.Ra;this.R(d);this.oD(a);c=this.Zo;d=p.Jd();c.x=0|a.x*d;c.y=0|a.y*d;c.width=0|a.width*d;c.height=0|a.height*d;c.Zs=!(0===c.width||0===c.height);a=this.Xh;this.nc&&(a.G=-a.G);this.oc&&(a.O=-a.O);this.ic.G=a.G+(this.xa.Ha-this.za.width)/2;this.ic.O=a.O+(this.xa.va-this.za.height)/2;this.kb&&(this.Ja=!0)},
mg:null,$P:function(){if(this.Ja){var a=this.Nb,c=this.V;if(!this.ma||c&&c!=this.kb&&c.Wk)a.Va.s={x:0,y:0,z:0},a.Ta.s={x:0,y:0,z:0},a.Na.s={x:0,y:0,z:0},a.Ka.s={x:0,y:0,z:0},this.Wk=!0;else{this.Wk=!1;var d=this.Lm=c&&c!=this.kb?p.Pl(this.eg(),c.Lm):this.eg(),e=this.za.Ra,c=this.ic.G,f=this.ic.O,g=c+e.width,e=f+e.height,h=d.Za,k=d.$a,l=d.J,m=d.i,n=d.La,d=-d.Da,t=this.Zv;a.Ka.s={x:p.qg(c*l-f*d+h),y:p.qg(c*m+f*n+k),z:t};a.Va.s={x:p.qg(g*l-f*d+h),y:p.qg(g*m+f*n+k),z:t};a.Ta.s={x:p.qg(c*l-e*d+h),y:p.qg(c*
m+e*n+k),z:t};a.Na.s={x:p.qg(g*l-e*d+h),y:p.qg(g*m+e*n+k),z:t}}this.Sa.Bx(a,this.ad);this.Oh=!1;this.Rg(!1)}this.Gi&&this.ug(this.t,p.C.Lf.mg);p.uk&&(a=[p.a(this.Nb.Ka.s.x,this.Nb.Ka.s.y),p.a(this.Nb.Va.s.x,this.Nb.Va.s.y),p.a(this.Nb.Na.s.x,this.Nb.Na.s.y),p.a(this.Nb.Ta.s.x,this.Nb.Ta.s.y)],p.bg.se(a,4,!0))},ZP:function(){if(this.Ja){var a=this.V;!this.ma||a&&a!=this.kb&&a.Wk?this.Wk=!0:(this.Wk=!1,this.Lm=a&&a!=this.kb?p.Pl(this.eg(),a.Lm):this.eg());this.Ja=this.Oh=!1}this.Gi&&this.ug(this.t,
p.C.Lf.mg)},f:null,Vy:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.eb);null==d&&(d=a.sd);if(this.kb){if(!(a instanceof p.u)){p.log("cc.Sprite.addChild(): cc.Sprite only supports cc.Sprites as children when using cc.SpriteBatchNode");return}a.ea().$h!==this.Sa.ea().$h&&p.log("cc.Sprite.addChild(): cc.Sprite only supports a sprite using same texture as children when using cc.SpriteBatchNode");this.kb.appendChild(a);this.oe||this.IA()}p.C.prototype.f.call(this,
a,c,d);this.Gi=!0},Uy:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.eb);null==d&&(d=a.sd);p.C.prototype.f.call(this,a,c,d);this.Gi=!0},Vs:function(){var a=this.Ic,c=this.Zb,a={o:a.o,n:a.n,i:a.i,J:c};this.pc&&(a.o*=c/255,a.n*=c/255,a.i*=c/255);c=this.Nb;c.Ka.N=a;c.Va.N=a;c.Ta.N=a;c.Na.N=a;this.kb&&(this.ad!=p.xy?this.Sa.Bx(c,this.ad):this.Ja=!0);this.wf=!0},pa:null,HA:function(a){p.Bb.prototype.pa.call(this,a);this.Vs()},zr:function(a){p.Bb.prototype.pa.call(this,
a);this.zm()},m:null,FA:function(a){p.Bb.prototype.m.call(this,a);this.Vs()},xr:function(a){var c=this.Dd();if(c.o!==a.o||c.n!==a.n||c.i!==a.i)p.Bb.prototype.m.call(this,a),this.Au(),this.zm()},jd:null,RP:function(a){p.Bb.prototype.jd.call(this,a);this.Vs()},aB:function(a){var c=this.Dd();p.Bb.prototype.jd.call(this,a);a=this.Ic;if(c.o!==a.o||c.n!==a.n||c.i!==a.i)this.Au(),this.zm()},Jp:null,fP:function(a){this.Xa();var c=a.Lb;this.Xh.G=c.x;this.Xh.O=c.y;c=a.ea();a.pb||(this.pb=!1,a.Zf(function(a){this.pb=
!0;var c=a.ea();c!=this.Fa&&this.ia(c);this.Ub(a.ed(),a.qd,a.pd);this.ee()},this));c!=this.Fa&&this.ia(c);this.bd=a.qd;this.Ub(a.ed(),this.bd,a.pd)},eP:function(a){this.Xa();var c=a.Lb;this.Xh.G=c.x;this.Xh.O=c.y;this.bd=a.qd;var c=a.ea(),d=a.pb;d||(this.pb=!1,a.Zf(function(a){this.pb=!0;var c=a.ea();c!=this.Fa&&this.ia(c);this.Ub(a.ed(),a.qd,a.pd);this.ee()},this));c!=this.Fa&&this.ia(c);this.bd&&(this.yg=c);this.Ub(a.ed(),this.bd,a.pd);this.Du=!1;d&&(a=this.Dd(),255===a.o&&255===a.n&&255===a.i||
this.Au())},AI:null,hO:function(a){return p.rJ(a.ed(),this.za)&&a.ea().getName()==this.Fa.getName()&&p.jJ(a.Lb,this.Xh)},gO:function(a){return a.ea()!=this.Fa?!1:p.rJ(a.ed(),this.za)},nR:function(){return p.Ld.ab(this.Fa,p.Qn(this.za),this.bd,p.oM(this.Xh),p.wy(this.xa))},Ke:null,YO:function(a){if(this.kb=a)this.Lm={J:1,i:0,Da:0,La:1,Za:0,$a:0},this.Pp(this.kb.Sa);else{this.ad=p.xy;this.Pp(null);this.Oh=!1;this.Rg(!1);a=this.ic.G;var c=this.ic.O,d=a+this.za.width,e=c+this.za.height,f=this.Nb;f.Ka.s=
{x:a,y:c,z:0};f.Va.s={x:d,y:c,z:0};f.Ta.s={x:a,y:e,z:0};f.Na.s={x:d,y:e,z:0};this.wf=!0}},XO:function(a){(this.kb=a)?(this.Lm={J:1,i:0,Da:0,La:1,Za:0,$a:0},this.Pp(this.kb.Sa)):(this.ad=p.xy,this.Pp(null),this.Oh=!1,this.Rg(!1))},ia:null,Br:function(a){if(a&&!(a instanceof p.ec))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.kb&&this.kb.ea()!=a?p.log("cc.Sprite.setTexture(): Batched sprites should use the same texture as the batchnode"):(a?this.Sg(p.Fh.e().mi(p.vy)):
this.Sg(p.Fh.e().mi(p.xM)),this.kb||this.Fa==a||(this.Fa=a,this.Mm()))},Ar:function(a){if(a&&!(a instanceof p.ec))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.Fa!=a&&(a&&a.Jc instanceof HTMLImageElement&&(this.yg=a),this.Fa=a)},Mm:function(){this.kb?p.log("cc.Sprite._updateBlendFunc(): _updateBlendFunc doesn't work when the sprite is rendered using a cc.CCSpriteBatchNode"):this.Fa&&this.Fa.qs()?(this.ja.src=p.Me,this.ja.Ib=p.Le,this.If(!0)):(this.ja.src=770,
this.ja.Ib=771,this.If(!1))},Au:function(){var a,c=this.Fa,d=this.Zo;c&&d.Zs&&this.yg&&(a=c.Jc)&&(c=p.ga.e().XH(this.yg.Jc))&&(this.Du=!0,a instanceof HTMLCanvasElement&&!this.bd&&!this.OF?p.KB(a,c,this.Ic,d,a):(a=p.KB(a,c,this.Ic,d),c=new p.ec,c.Ef(a),c.Fe(),this.ia(c)))},eG:function(a){a=p.Qn(a);var c=this.kb?this.Sa.ea():this.Fa;if(c){var d=c.qp(),e=c.pp(),f,g=this.Nb;this.bd?(p.Et?(c=(2*a.x+1)/(2*d),d=c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/
d,f=a.y/e,a=(a.y+a.width)/e),this.nc&&(e=f,f=a,a=e),this.oc&&(e=c,c=d,d=e),g.Ka.B.Pa=c,g.Ka.B.na=f,g.Va.B.Pa=c,g.Va.B.na=a,g.Ta.B.Pa=d,g.Ta.B.na=f,g.Na.B.Pa=d,g.Na.B.na=a):(p.Et?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+a.height)/e),this.nc&&(e=c,c=d,d=e),this.oc&&(e=f,f=a,a=e),g.Ka.B.Pa=c,g.Ka.B.na=a,g.Va.B.Pa=d,g.Va.B.na=a,g.Ta.B.Pa=c,g.Ta.B.na=f,g.Na.B.Pa=d,g.Na.B.na=f);this.wf=!0}},Oa:null,xg:function(){if(this.pb){var a=
p.Y,c=this.Fa;c?c.vc&&(this.Kc.pf(),this.Kc.Tg(),p.ck(this.ja.src,this.ja.Ib),p.G5(0,c),p.Ae(p.lu),a.bindBuffer(a.ARRAY_BUFFER,this.xv),this.wf&&(a.bufferData(a.ARRAY_BUFFER,this.Nb.pB,a.DYNAMIC_DRAW),this.wf=!1),a.vertexAttribPointer(0,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(1,4,a.UNSIGNED_BYTE,!0,24,12),a.vertexAttribPointer(2,2,a.FLOAT,!1,24,16),a.drawArrays(a.TRIANGLE_STRIP,0,4)):(this.Kc.pf(),this.Kc.Tg(),p.ck(this.ja.src,this.ja.Ib),p.Kg(null),p.Ae(p.$g|p.RM),a.bindBuffer(a.ARRAY_BUFFER,this.xv),
this.wf&&(p.Y.bufferData(p.Y.ARRAY_BUFFER,this.Nb.pB,p.Y.STATIC_DRAW),this.wf=!1),a.vertexAttribPointer(p.Qe,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(p.lq,4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));p.ei++;0!==p.uk&&(1===p.uk?(a=this.Nb,a=[p.a(a.Ta.s.x,a.Ta.s.y),p.a(a.Ka.s.x,a.Ka.s.y),p.a(a.Va.s.x,a.Va.s.y),p.a(a.Na.s.x,a.Na.s.y)],p.bg.se(a,4,!0)):2===p.uk&&(a=this.TB().Ra,c=this.ic,a=[p.a(c.x,c.y),p.a(c.x+a.width,c.y),p.a(c.x+a.width,c.y+a.height),p.a(c.x,c.y+a.height)],p.bg.se(a,
4,!0)))}},im:function(a){if(this.pb){a=a||p.Y;this.Co&&(a.globalCompositeOperation="lighter");var c=p.sa.e().ta,d=p.sa.e().Aa;a.globalAlpha=this.Zb/255;var e=this.za,f=this.xa,g=this.ic,h=this.Cz,k=0|g.G,l=-g.O-e.height,m=this.Zo;h.width=e.width*c;h.height=e.height*d;if(this.nc||this.oc)a.save(),this.nc&&(k=-g.G-e.width,a.scale(-1,1)),this.oc&&(l=g.O,a.scale(1,-1));k*=c;l*=d;this.Fa&&m.Zs?(f=this.Fa.Jc,this.Du?a.drawImage(f,0,0,m.width,m.height,k,l,h.width,h.height):a.drawImage(f,m.x,m.y,m.width,
m.height,k,l,h.width,h.height)):0!==f.Ha&&(h=this.Dd(),a.fillStyle="rgba("+h.o+","+h.n+","+h.i+",1)",a.fillRect(k,l,f.Ha*c,f.va*d));1===p.uk?(a.strokeStyle="rgba(0,255,0,1)",k/=c,l=-(l/d),k=[p.a(k,l),p.a(k+e.width,l),p.a(k+e.width,l-e.height),p.a(k,l-e.height)],p.bg.se(k,4,!0)):2===p.uk&&(a.strokeStyle="rgba(0,255,0,1)",c=this.za.Ra,l=-l,k=[p.a(k,l),p.a(k+c.width,l),p.a(k+c.width,l-c.height),p.a(k,l-c.height)],p.bg.se(k,4,!0));(this.nc||this.oc)&&a.restore();p.ei++}}});
p.Ga.Rc?(b=p.u.prototype,b.NA=p.u.prototype.DP,b.If=p.u.prototype.lP,b.kd=p.u.prototype.SP,b.ctor=p.u.prototype.Ih,b.Cl=p.u.prototype.$O,b.r=p.u.prototype.Uz,b.Ma=p.u.prototype.er,b.Nv=p.u.prototype.IP,b.Ub=p.u.prototype.fG,b.mg=p.u.prototype.$P,b.f=p.u.prototype.Vy,b.pa=p.u.prototype.HA,b.m=p.u.prototype.FA,b.jd=p.u.prototype.RP,b.Jp=p.u.prototype.fP,b.AI=p.u.prototype.hO,b.Ke=p.u.prototype.YO,b.ia=p.u.prototype.Br,b.Oa=p.u.prototype.xg):(b=p.u.prototype,b.NA=p.u.prototype.CP,b.If=p.u.prototype.kP,
b.kd=p.u.prototype.AG,b.ctor=p.u.prototype.Hh,b.Cl=p.u.prototype.ZO,b.r=p.u.prototype.Tz,b.Ma=p.u.prototype.dr,b.Nv=p.u.prototype.HP,b.Ub=p.u.prototype.JA,b.mg=p.u.prototype.ZP,b.f=p.u.prototype.Uy,b.pa=p.u.prototype.zr,b.m=p.u.prototype.xr,b.jd=p.u.prototype.aB,b.Jp=p.u.prototype.eP,b.AI=p.u.prototype.gO,b.Ke=p.u.prototype.XO,b.ia=p.u.prototype.Ar,b.Oa=p.u.prototype.im);
p.u.ab=function(a,c){var d=arguments.length,e=new p.u;switch(d){case 1:return e&&e.Ma(a)?e:null;case 2:return e&&e.Ma(a,c)?e:null;default:throw"Sprite.createWithTexture(): Argument must be non-nil ";}};p.u.create=function(a,c){var d=arguments.length,e=new p.u;if(0===d){if(e.r())return e}else if(e&&e.r(a,c))return e;return null};
p.u.hH=function(a){var c=null;if("string"==typeof a){if(c=p.sg.e().vh(a),!c)return p.log("Invalid spriteFrameName: "+a),null}else return p.log("Invalid argument. Expecting string."),null;return(a=new p.u)&&a.Ge(c)?a:null};p.u.gH=function(a){var c=new p.u;return c&&c.Ge(a)?c:null};p.mj=p.Ea.extend({Er:null,ge:0,Xr:null,ctor:function(){this.ge=0},H:function(){var a=new p.mj;a.Ge(this.Er.H(),this.ge,this.Xr);return a},jw:function(){return p.H(this)},copy:function(){var a=new p.mj;a.Ge(this.Er.H(),this.ge,this.Xr);return a},Ge:function(a,c,d){this.Er=a;this.ge=c;this.Xr=d;return!0},vh:function(){return this.Er},Jf:function(a){this.Er=a},W2:function(){return this.ge},L9:function(a){this.ge=a},r5:function(){return this.Xr},gaa:function(a){this.Xr=a}});
p.lj=p.Ea.extend({je:null,Lj:0,wm:!1,ya:0,ge:0,Jm:0,ctor:function(){this.je=[]},o3:function(){return this.je},UJ:function(a){this.je=a},nB:function(a){var c=new p.mj;c.Ge(a,1,null);this.je.push(c);this.Jm++},n0:function(a){a=p.ga.e().qa(a);var c=p.md();c.Ra=a.c();a=p.Ld.ab(a,c);this.nB(a)},o0:function(a,c){var d=p.Ld.ab(a,c);this.nB(d)},rs:function(a,c,d){p.bt(a,p.mj);this.ge=c;this.Lj=d;this.UJ([]);for(c=0;c<a.length;c++)d=a[c],this.je.push(d),this.Jm+=d.ge;return!0},H:function(){var a=new p.lj;
a.rs(this.kF(),this.ge,this.Lj);a.dx(this.wm);return a},jw:function(){var a=new p.lj;a.rs(this.kF(),this.ge,this.Lj);a.dx(this.wm);return a},kF:function(){for(var a=[],c=0;c<this.je.length;c++)a.push(this.je[c].H());return a},copy:function(){return this.jw(null)},E3:function(){return this.Lj},g$:function(a){this.Lj=a},dx:function(a){this.wm=a},D4:function(){return this.wm},Af:function(){return this.Jm*this.ge},V2:function(){return this.ge},K9:function(a){this.ge=a},j5:function(){return this.Jm},pI:function(a,
c){p.bt(a,p.Ld);this.Lj=1;this.ge=c||0;this.UJ([]);if(a)for(var d=0;d<a.length;d++){var e=a[d],f=new p.mj;f.Ge(e,1,null);this.je.push(f);this.Jm++}return!0},BJ:function(){},tJ:function(){}});p.lj.create=function(a,c,d){var e=arguments.length,f=new p.lj;0==e?f.pI(null,0):2==e?f.pI(a,c||0):3==e&&f.rs(a,c,d);return f};p.lj.fH=function(a,c,d){var e=new p.lj;e.rs(a,c,d);return e};p.Ql=p.Ea.extend({MG:function(a,c){this.cm[c]=a},R8:function(a){a&&this.cm.hasOwnProperty(a)&&delete this.cm[a]},HH:function(a){return this.cm.hasOwnProperty(a)?this.cm[a]:null},$M:function(a,c){var d=a.animations;if(d){var e=1,f=a.properties;if(f)for(var e=null!=f.format?parseInt(f.format):e,f=f.spritesheets,g=p.sg.e(),h=p.Kd.e(),k,l=0;l<f.length;l++)k=h.GH(f[l],c),g.TG(k);switch(e){case 1:this.AO(d);break;case 2:this.BO(d);break;default:p.log("cc.AnimationCache. Invalid animation format")}}else p.log("cocos2d: cc.AnimationCache: No animations were found in provided dictionary.")},
f0:function(a){if(!a)throw"cc.AnimationCache.addAnimations(): Invalid texture file name";var c=p.Kd.e(),d=c.xe(a);(c=c.lw(d))?this.$M(c,a):p.log("cc.AnimationCache.addAnimations(): File could not be found")},AO:function(a){var c=p.sg.e(),d;for(d in a){var e=a[d],f=e.frames,e=parseFloat(e.delay)||0,g=null;if(f){for(var g=[],h=0;h<f.length;h++){var k=c.vh(f[h]);if(k){var l=new p.mj;l.Ge(k,1,null);g.push(l)}else p.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+f[h]+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}0===
g.length?p.log("cocos2d: cc.AnimationCache: None of the frames for animation '"+d+"' were found in the cc.SpriteFrameCache. Animation is not being added to the Animation Cache."):(g.length!=f.length&&p.log("cocos2d: cc.AnimationCache: An animation in your dictionary refers to a frame which is not in the cc.SpriteFrameCache. Some or all of the frames for the animation '"+d+"' may be missing."),g=p.lj.fH(g,e,1),p.Ql.e().MG(g,d))}else p.log("cocos2d: cc.AnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},
BO:function(a){var c=p.sg.e(),d;for(d in a){var e=a[d],f=parseInt(e.loops),f=e.loop?p.Wl:isNaN(f)?1:f,g=e.restoreOriginalFrame&&!0==e.restoreOriginalFrame?!0:!1,h=e.frames;if(h){for(var k=[],l=0;l<h.length;l++){var m=h[l],n=m.spriteframe,t=c.vh(n);if(t){var n=parseFloat(m.delayUnits)||0,m=m.notification,s=new p.mj;s.Ge(t,n,m);k.push(s)}else p.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+n+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}e=
parseFloat(e.delayPerUnit)||0;h=new p.lj;h.rs(k,e,f);h.dx(g);p.Ql.e().MG(h,d)}else p.log("cocos2d: CCAnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},r:function(){this.cm={};return!0},cm:null});p.Ql.rU=function(){p.tn&&(p.tn.cm=null,p.tn=null)};p.Ql.e=function(){null===p.tn&&(p.tn=new p.Ql,p.tn.r());return p.tn};p.tn=null;p.Ld=p.Ea.extend({Lb:null,pd:null,Xe:null,qd:!1,za:null,Pf:null,tf:null,Fa:null,Yo:"",pb:!1,Nu:null,ctor:function(){this.Lb=p.Ad();this.Pf=p.Ad();this.pd=p.Bm();this.qd=!1;this.tf=p.Bm();this.Yo="";this.Fa=null;this.pb=!1},SK:function(){return this.pb},Zf:function(a,c){null==this.Nu&&(this.Nu=[]);this.Nu.push({bk:a,ci:c})},ee:function(){var a=this.Nu;if(a){for(var c=0,d=a.length;c<d;c++){var e=a[c];e.bk.call(e.ci,this)}a.length=0}},fS:function(){var a=this.Xe;return p.rect(a.x,a.y,a.width,a.height)},
F$:function(a){this.Xe||(this.Xe=p.rect(0,0,0,0));this.Xe.x=a.x;this.Xe.y=a.y;this.Xe.width=a.width;this.Xe.height=a.height;this.za=p.cq(a)},G6:function(){return this.qd},L$:function(a){this.qd=a},ed:function(){var a=this.za;return p.rect(a.x,a.y,a.width,a.height)},jK:function(a){this.za||(this.za=p.rect(0,0,0,0));this.za.x=a.x;this.za.y=a.y;this.za.width=a.width;this.za.height=a.height;this.Xe=p.Qn(this.za)},a4:function(){return this.Pf},t$:function(a){this.Pf.G=a.x;this.Pf.O=a.y;p.ou(this.Pf,this.Lb)},
h4:function(){return this.tf},w$:function(a){this.tf.Ha=a.width;this.tf.va=a.height},aS:function(){return this.pd},v$:function(a){this.pd.Ha=a.width;this.pd.va=a.height},ea:function(){if(this.Fa)return this.Fa;if(""!==this.Yo){var a=p.ga.e().qa(this.Yo);a&&(this.pb=a.Ng());return a}return null},ia:function(a){if(this.Fa!=a){var c=a.Ng();this.pb=c;this.Fa=a;c||a.Zf(function(a){this.pb=!0;if(this.qd&&p.Fd===p.og){var c=a.Jc,c=p.iH(c,this.ed()),f=new p.ec;f.Ef(c);f.Fe();this.ia(f);c=this.ed();this.jK(p.rect(0,
0,c.width,c.height))}c=this.za;0===c.width&&0===c.height&&(a=a.c(),this.za.width=a.width,this.za.height=a.height,this.Xe=p.Qn(this.za),this.tf.Ha=this.Xe.width,this.tf.va=this.Xe.height,this.pd.Ha=a.width,this.pd.va=a.height);this.ee()},this)}},Z3:function(){return this.Lb},s$:function(a){this.Lb.G=a.x;this.Lb.O=a.y},H:function(){var a=new p.Ld;a.Cw(this.Yo,this.Xe,this.qd,this.Pf,this.tf);a.ia(this.Fa);return a},jw:function(){var a=new p.Ld;a.Cw(this.Yo,this.Xe,this.qd,this.Pf,this.tf);a.ia(this.Fa);
return a},copy:function(){return this.jw()},Ma:function(a,c,d,e,f){2===arguments.length&&(c=p.Qn(c));e=e||p.a(0,0);f=f||c.Ra;this.ia(a);this.Xe=c;this.za=p.cq(c);this.Pf.G=e.x;this.Pf.O=e.y;p.ou(e,this.Lb);this.tf.Ha=f.width;this.tf.va=f.height;p.Oy(f,this.pd);this.qd=d||!1;return!0},Cw:function(a,c,d,e,f){2===arguments.length&&(c=p.Qn(c));e=e||p.a(0,0);f=f||c.Ra;this.Fa=null;this.Yo=a;this.Xe=c;this.za=p.cq(c);this.qd=d||!1;this.Pf.G=e.x;this.Pf.O=e.y;p.ou(e,this.Lb);this.tf.Ha=f.width;this.tf.va=
f.height;p.Oy(f,this.pd);return!0}});p.Ld.create=function(a,c,d,e,f){var g=new p.Ld;switch(arguments.length){case 2:g.Cw(a,c);break;case 5:g.Cw(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};p.Ld.ab=function(a,c,d,e,f){var g=new p.Ld;switch(arguments.length){case 2:g.Ma(a,c);break;case 5:g.Ma(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};
p.Ld.C_=function(a,c,d,e,f){var g=new p.Ld;g.Fa=a;g.Xe=c;g.za=p.cq(c);g.Pf.G=e.x;g.Pf.O=e.y;p.ou(g.Pf,g.Lb);g.tf.Ha=f.width;g.tf.va=f.height;p.Oy(g.tf,g.pd);g.qd=d;return g};p.sg=p.Ea.extend({Ze:null,Xk:null,kr:null,ctor:function(){this.Ze={};this.Xk={};this.kr=[]},Xy:function(a,c){var d=a.metadata||a.meta,e=a.frames,f=0;d&&(f=d.format,f=1>=f.length?parseInt(f):f);if(0>f||3<f)p.log("format is not supported for cc.SpriteFrameCache.addSpriteFramesWithDictionary");else for(var g in e)if(d=e[g]){var h=this.Ze[g];if(!h){if(0==f){var h=parseFloat(d.x),k=parseFloat(d.y),l=parseFloat(d.width),m=parseFloat(d.height),n=parseFloat(d.offsetX),t=parseFloat(d.offsetY),s=parseInt(d.originalWidth),
d=parseInt(d.originalHeight);s&&d||p.log("cocos2d: WARNING: originalWidth/Height not found on the cc.SpriteFrame. AnchorPoint won't work as expected. Regenrate the .plist");s=Math.abs(s);d=Math.abs(d);h=p.Ld.ab(c,p.rect(h,k,l,m),!1,p.a(n,t),p.size(s,d))}else if(1==f||2==f)h=p.CE(d.frame),k=!1,2==f&&(k=d.rotated),l=p.BE(d.offset),d=p.zy(d.sourceSize),h=p.Ld.ab(c,h,k,l,d);else if(3==f){var h=p.zy(d.spriteSize),k=p.BE(d.spriteOffset),l=p.zy(d.spriteSourceSize),m=p.CE(d.textureRect),n=d.textureRotated,
t=d.aliases,s=g.toString(),u;for(u in t)this.Xk.hasOwnProperty(t[u])&&p.log("cocos2d: WARNING: an alias with name "+u+" already exists"),this.Xk[t[u]]=s;d.hasOwnProperty("spriteSize")&&(m=p.rect(m.x,m.y,h.width,h.height));h=p.Ld.ab(c,m,n,k,l)}else var w=d.filename,k=d.frame,h=d.sourceSize,k=p.rect(k.x,k.y,k.fL,k.Ee),d=d.rotated,l=p.a(0,0),h=p.size(h.fL,h.Ee),h=p.Ld.ab(c,k,d,l,h);p.Fd===p.og&&h.qd&&h.ea().Ng()&&(d=h.ea().Jc,d=p.iH(d,h.fS()),k=new p.ec,k.Ef(d),k.Fe(),h.ia(k),d=h.za,h.jK(p.rect(0,0,
d.width,d.height)));this.Ze[null!=w?w:g]=h}}},TG:function(a,c){if(!a)throw"cc.SpriteFrameCache.addSpriteFrames(): plist should be non-null";var d=p.Kd.e(),e;"plist"==a.substr(a.lastIndexOf(".",a.length)+1,a.length)?(e=d.xe(a),e=d.lw(e)):e=JSON.parse(d.VH(a));switch(arguments.length){case 1:if(!p.Ix(this.kr,a)){var f="",g=e.metadata||e.meta;g&&(f=g.textureFileName||g.image);""!=f?f=d.GH(f,a):(f=a,f=f.substr(0,f.lastIndexOf(".",f.length)),f+=".png");(d=p.ga.e().qa(f))?this.Xy(e,d):p.log("cocos2d: cc.SpriteFrameCache: Couldn't load texture")}break;
case 2:if(c instanceof p.ec)this.Xy(e,c);else{if(!c)throw"cc.SpriteFrameCache.addSpriteFrames(): texture name should not be null";(d=p.ga.e().qa(c))?this.Xy(e,d):p.log("cocos2d: cc.SpriteFrameCache: couldn't load texture file. File not found "+c)}break;default:throw"Argument must be non-nil ";}},nB:function(a,c){this.Ze[c]=a},Z8:function(){this.Ze=[];this.Xk=[];this.kr={}},Y8:function(a){a&&(this.Xk.hasOwnProperty(a)&&delete this.Xk[a],this.Ze.hasOwnProperty(a)&&delete this.Ze[a],this.kr={})},a9:function(a){var c=
p.Kd.e(),d=c.xe(a),c=c.lw(d);this.LO(c);p.Ix(this.kr,a)&&p.Zd(a)},LO:function(a){a=a.frames;for(var c in a)this.Ze.hasOwnProperty(c)&&delete this.Ze[c]},b9:function(a){for(var c in this.Ze){var d=this.Ze[c];d&&d.ea()==a&&delete this.Ze[c]}},vh:function(a){var c;this.Ze.hasOwnProperty(a)&&(c=this.Ze[a]);if(!c){var d;this.Xk.hasOwnProperty(a)&&(d=this.Xk[a]);d&&(this.Ze.hasOwnProperty(d.toString())&&(c=this.Ze[d.toString()]),c||p.log("cocos2d: cc.SpriteFrameCahce: Frame "+a+" not found"))}return c}});
p.Vw=null;p.sg.e=function(){p.Vw||(p.Vw=new p.sg);return p.Vw};p.sg.sU=function(){p.Vw=null};p.bq=29;
p.wb=p.C.extend({Sa:null,ja:null,yd:null,p0:function(a,c,d){if(!a)throw"cc.SpriteBatchNode.addQuadFromSprite(): child should be non-null";if(!(a instanceof p.u))return p.log("cc.SpriteBatchNode.addQuadFromSprite(): SpriteBatchNode only supports cc.Sprites as children"),null;a.Je(c);var e=0,f=this.yd;if(f&&0<f.length)for(var g=0;g<f.length;g++){var h=f[g];h&&h.ad>=c&&++e}this.yd=p.Rl(f,a,e);p.C.prototype.f.call(this,a,c,d);this.xJ(!1);return this},WH:function(){return this.Sa},Pp:function(a){a!=this.Sa&&
(this.Sa=a)},Z2:function(){return this.yd},Zi:function(a,c){var d=p.ga.e().ux(a);d||(d=p.ga.e().qa(a));return this.Ma(d,c)},zm:function(){this.gF=!0},r:function(a,c){var d=p.ga.e().ux(a);d||(d=p.ga.e().qa(a));return this.Ma(d,c)},ww:function(){var a=this.Sa.nd,c=Math.floor(4*(a+1)/3);p.log("cocos2d: CCSpriteBatchNode: resizing TextureAtlas capacity from "+a+" to "+c+".");this.Sa.XU(c)||p.log("cocos2d: WARNING: Not enough memory to resize the atlas")},T8:function(a,c){this.removeChild(this.t[a],c)},
qJ:function(a,c){var d=a.t;if(d&&0<d.length)for(var e=0;e<d.length;e++){var f=d[e];f&&0>f.eb&&(c=this.qJ(f,c))}!a==this&&(a.Je(c),c++);if(d&&0<d.length)for(e=0;e<d.length;e++)(f=d[e])&&0<=f.eb&&(c=this.qJ(f,c));return c},cC:function(a){var c=a.t;return c&&0!=c.length?this.cC(c[c.length-1]):a.ad},vT:function(a){var c=a.t;return c&&0!=c.length?this.vT(c[c.length-1]):a.ad},sQ:function(a,c){var d=a.getParent().t,e=p.Kx(d,a),f=a.getParent()==this,g=null;0<e&&e<p.OM&&(g=d[e-1]);if(f)return 0==e?0:this.cC(g)+
1;if(0==e)return d=a.getParent(),0>c?d.ad:d.ad+1;if(0>g.eb&&0>c||0<=g.eb&&0<=c)return this.cC(g)+1;d=a.getParent();return d.ad+1},xJ:function(a){this.oe=a},Cl:function(a,c){this.ja=1==arguments.length?a:{src:a,Ib:c}},hs:function(){return this.ja},Cs:function(a,c){if(!a)throw"cc.SpriteBatchNode.addChild():child should be non-null";-1===this.t.indexOf(a)?p.log("cc.SpriteBatchNode.addChild(): Child doesn't belong to Sprite"):c!==a.eb&&(p.C.prototype.Cs.call(this,a,c),this.Xa())},removeChild:function(a,
c){null!=a&&(-1===this.t.indexOf(a)?p.log("cc.SpriteBatchNode.addChild(): sprite batch node should contain the child"):(this.qn(a),p.C.prototype.removeChild.call(this,a,c)))},qO:null,Hm:null,c0:!1,yg:null,ctor:null,Hh:function(a){p.C.prototype.ctor.call(this);a&&this.r(a,p.bq)},Ih:function(a){p.C.prototype.ctor.call(this);this.qO=new p.wh;a&&this.r(a,p.bq)},bL:null,WP:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";a instanceof p.u?(a.Ke(this),a.Je(c),
a.Rg(!0),a.mg()):p.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},XP:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";if(a instanceof p.u){for(var d=this.Sa.nd;c>=d||d==this.Sa.Ua;)this.ww();a.Ke(this);a.Je(c);a.Rg(!0);a.mg()}else p.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},Kv:function(a,c){var d=this.yd,e=this.Sa,f=e.Ve,g=d[a],
h=p.Ky(f[a]);d[c].Je(a);d[a]=d[c];e.Bx(f[c],a);d[c]=g;e.Bx(h,c)},qI:null,eO:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";a instanceof p.u?(a.Ke(this),a.Je(c),a.Rg(!0),a.mg(),this.t=p.Rl(this.t,a,c)):p.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},fO:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";if(a instanceof p.u){for(var d=this.Sa;c>=d.nd||
d.nd===d.Ua;)this.ww();a.Ke(this);a.Je(c);d.kC(a.Nb,c);a.Rg(!0);a.mg()}else p.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},zG:function(a,c){var d=0,e=a.t;e&&(d=e.length);var f=0;if(0===d)f=a.ad,a.Je(c),a.Mp(0),f!=c&&this.Kv(f,c),c++;else{f=!0;0<=e[0].eb&&(f=a.ad,a.Je(c),a.Mp(0),f!=c&&this.Kv(f,c),c++,f=!1);for(d=0;d<e.length;d++){var g=e[d];f&&0<=g.eb&&(f=a.ad,a.Je(c),a.Mp(0),f!=c&&this.Kv(f,c),c++,f=!1);c=this.zG(g,c)}f&&(f=a.ad,a.Je(c),
a.Mp(0),f!=c&&this.Kv(f,c),c++)}return c},Mm:function(){this.Sa.ea().qs()||(this.ja.src=770,this.ja.Ib=771)},Ma:null,dr:function(a){this.t=[];this.yd=[];this.ja=new p.Tl(p.Me,p.Le);this.Hm=this.yg=a;return!0},er:function(a,c){this.t=[];this.yd=[];this.ja=new p.Tl(p.Me,p.Le);c=c||p.bq;this.Sa=new p.Wn;this.Sa.Ma(a,c);this.Mm();this.Sg(p.Fh.e().mi(p.vy));return!0},bT:function(a,c){a.Ke(this);a.Je(c);a.Rg(!0);var d=this.Sa;d.Ua>=d.nd&&this.ww();d.kC(a.Nb,c);this.yd=p.Rl(this.yd,a,c);var d=c+1,e=this.yd;
if(e&&0<e.length)for(;d<e.length;d++)e[d].Je(e[d].ad+1);if((e=a.t)&&0<e.length)for(d=0;d<e.length;d++)if(e[d]){var f=this.sQ(e[d],e[d].eb);this.bT(e[d],f)}},appendChild:null,fN:function(a){this.oe=!0;a.Ke(this);a.Rg(!0);this.yd.push(a);a.Je(this.yd.length-1);a=a.t;for(var c=0;c<a.length;c++)this.appendChild(a[c])},gN:function(a){this.oe=!0;a.Ke(this);a.Rg(!0);this.yd.push(a);var c=this.yd.length-1;a.Je(c);var d=this.Sa;d.Ua==d.nd&&this.ww();d.kC(a.Nb,c);a=a.t;for(c=0;c<a.length;c++)this.appendChild(a[c])},
qn:null,MO:function(a){a.Ke(null);var c=this.yd,d=p.Kx(c,a);if(-1!=d){p.Xp(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.Je(f.ad-1)}}if((a=a.t)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.qn(a[c])},NO:function(a){this.Sa.SU(a.ad);a.Ke(null);var c=this.yd,d=p.Kx(c,a);if(-1!=d){p.Xp(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.Je(f.ad-1)}}if((a=a.t)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.qn(a[c])},ea:null,Oz:function(){return this.Hm},Pz:function(){return this.Sa.ea()},ia:null,Ar:function(a){this.Hm=
a;for(var c=this.t,d=0;d<c.length;d++)c[d].ia(a)},Br:function(a){this.Sa.ia(a);this.Mm()},ua:null,Nm:function(a){var c=a||p.Y;if(this.ma){c.save();this.transform(a);var d=this.t;if(d)for(this.Wd(),a=0;a<d.length;a++)d[a]&&d[a].ua(c);c.restore()}},Om:function(a){a=a||p.Y;if(this.ma){p.Fp();var c=this.Ik;c&&c.Cp()&&(c.sB(),this.yx());this.Wd();this.transform(a);this.Oa(a);c&&c.Cp()&&c.oB(this);p.Ep();this.Mp(0)}},f:null,Uy:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";
a instanceof p.u?(c=null==c?a.eb:c,d=null==d?a.sd:d,p.C.prototype.f.call(this,a,c,d),this.appendChild(a),this.Xa()):p.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},Vy:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";a instanceof p.u?a.ea()!=this.Sa.ea()?p.log("cc.SpriteBatchNode.addChild(): cc.Sprite is not using the same texture"):(c=null==c?a.eb:c,d=null==d?a.sd:d,p.C.prototype.f.call(this,a,c,d),this.appendChild(a),
this.Xa()):p.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},$b:null,IO:function(a){var c=this.yd;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].Ke(null);p.C.prototype.$b.call(this,a);this.yd=[]},JO:function(a){var c=this.yd;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].Ke(null);p.C.prototype.$b.call(this,a);this.yd=[];this.Sa.MU()},Wd:null,AP:function(){if(this.oe){var a,c=0,d=this.t,e=d.length,f;for(a=1;a<e;a++){var g=d[a],
c=a-1;for(f=d[c];0<=c&&(g.eb<f.eb||g.eb==f.eb&&g.Qf<f.Qf);)d[c+1]=f,c-=1,f=d[c];d[c+1]=g}0<d.length&&this.ug(d,p.C.Lf.Wd);this.oe=!1}},BP:function(){if(this.oe){var a=this.t,c,d=0,e=a.length,f;for(c=1;c<e;c++){var g=a[c],d=c-1;for(f=a[d];0<=d&&(g.eb<f.eb||g.eb==f.eb&&g.Qf<f.Qf);)a[d+1]=f,d-=1,f=a[d];a[d+1]=g}if(0<a.length)for(this.ug(a,p.C.Lf.Wd),c=d=0;c<a.length;c++)d=this.zG(a[c],d);this.oe=!1}},Oa:null,xg:function(){0!==this.Sa.Ua&&(this.Kc.pf(),this.Kc.Tg(),this.ug(this.t,p.C.Lf.mg),p.ck(this.ja.src,
this.ja.Ib),this.Sa.sR())}});
p.Ga.Rc?(b=p.wb.prototype,b.ctor=p.wb.prototype.Ih,b.bL=p.wb.prototype.XP,b.qI=p.wb.prototype.fO,b.Ma=p.wb.prototype.er,b.appendChild=p.wb.prototype.gN,b.qn=p.wb.prototype.NO,b.ea=p.wb.prototype.Pz,b.ia=p.wb.prototype.Br,b.ua=p.wb.prototype.Om,b.f=p.wb.prototype.Vy,b.$b=p.wb.prototype.JO,b.Wd=p.wb.prototype.BP,b.Oa=p.wb.prototype.xg):(b=p.wb.prototype,b.ctor=p.wb.prototype.Hh,b.bL=p.wb.prototype.WP,b.qI=p.wb.prototype.eO,b.Ma=p.wb.prototype.dr,b.appendChild=p.wb.prototype.fN,b.qn=p.wb.prototype.MO,
b.ea=p.wb.prototype.Oz,b.ia=p.wb.prototype.Ar,b.ua=p.wb.prototype.Nm,b.$b=p.wb.prototype.IO,b.f=p.wb.prototype.Uy,b.Wd=p.wb.prototype.AP,b.Oa=p.C.prototype.Oa);p.wb.create=function(a,c){c=c||p.bq;var d=new p.wb;d.r(a,c);return d};p.wb.ab=function(a,c){c=c||p.bq;var d=new p.wb;d.Ma(a,c);return d};p.$X={XX:0,ZX:1,YX:2,WX:3,VX:4};
p.Ne=p.Ea.extend({mr:0,JF:0,Kr:!1,Jr:!1,Gv:!1,Hv:!1,Iv:!1,nO:0,kv:0,nq:"",Xj:null,ctor:function(){this.JF=this.mr=0;this.Iv=this.Hv=this.Gv=this.Jr=this.Kr=!1;this.kv=this.nO=0;this.nq="";this.Xj={}},J3:function(){return this.mr},I3:function(){return this.JF},K3:function(){return this.kv},Haa:function(){return this.Jr},Iaa:function(){return this.Kr},Faa:function(){return this.Gv},Gaa:function(){return this.Hv},Jaa:function(){return this.Iv},hp:function(a){return-1<this.nq.indexOf(a)},r:function(){var a=
this.Xj;a["cocos2d.x.version"]=p.kt;a["cocos2d.x.compiled_with_profiler"]=!1;a["cocos2d.x.compiled_with_gl_state_cache"]=p.fE;return!0},C2:function(a,c){var d=this.Xj;return d.hasOwnProperty(a)?d[a]:c},x2:function(a,c){null==c&&(c=!1);var d=this.Xj;return d.hasOwnProperty(a)?d[a]:c},S3:function(a,c){null==c&&(c=0);var d=this.Xj;return d.hasOwnProperty(a)?d[a]:c},U3:function(a){var c=this.Xj;return c.hasOwnProperty(a)?c[a]:null},ZV:function(a,c){this.Xj[a]=c},wR:function(){0===p.fE&&(p.log(""),p.log("cocos2d: **** WARNING **** CC_ENABLE_PROFILERS is defined. Disable it when you finish profiling (from ccConfig.js)"),
p.log(""))},GR:function(){if(p.Fd!==p.og){var a=p.Y,c=this.Xj;c["gl.vendor"]=a.getParameter(a.VENDOR);c["gl.renderer"]=a.getParameter(a.RENDERER);c["gl.version"]=a.getParameter(a.VERSION);this.nq="";for(var d=a.getSupportedExtensions(),e=0;e<d.length;e++)this.nq+=d[e]+" ";this.mr=a.getParameter(a.MAX_TEXTURE_SIZE);c["gl.max_texture_size"]=this.mr;this.kv=a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS);c["gl.max_texture_units"]=this.kv;this.Kr=this.hp("GL_IMG_texture_compression_pvrtc");c["gl.supports_PVRTC"]=
this.Kr;this.Jr=!1;c["gl.supports_NPOT"]=this.Jr;this.Gv=this.hp("GL_IMG_texture_format_BGRA888");c["gl.supports_BGRA8888"]=this.Gv;this.Hv=this.hp("GL_EXT_discard_framebuffer");c["gl.supports_discard_framebuffer"]=this.Hv;this.Iv=this.hp("vertex_array_object");c["gl.supports_vertex_array_object"]=this.Iv;p.TD()}},j7:function(a){var c=p.Kd.e(),d=c.xe(a),c=c.lw(d);if(null!=c)if(c=c.data)for(var e in c)this.Xj[e]=c[e];else p.log("Expected 'data' dict, but not found. Config file: "+a)}});p.Ne.Dr=null;
p.Ne.e=function(){p.Ne.Dr||(p.Ne.Dr=new p.Ne,p.Ne.Dr.r());return p.Ne.Dr};p.Ne.y8=function(){p.Ne.Dr=null};p.ei=0;p.BL=0;p.cE=1;p.CL=3;p.DL=p.cE;p.eY=0;p.cY=1;p.fY=2;p.dY=3;p.bY=2;p.iY=p.Ea.extend({oba:function(){}});p.gE=function(a){var c=new p.wh;p.oT(p.Mt,c);var d=new p.wh;p.oT(p.Lt,d);p.rT(a,c,d)};
p.$=p.Ea.extend({O_:!1,qr:!1,um:!1,wv:!1,ym:!1,bh:0,eA:0,Vk:0,Yn:0,hm:1,Hq:!1,Ek:0,Qu:0,xk:null,zk:null,Fk:null,Sb:null,Kj:null,Ji:null,pv:null,ih:null,Pi:null,pA:null,rd:null,je:0,XA:0,EA:0,z_:null,Eg:null,ah:null,cf:null,$z:null,ru:null,or:null,N_:!1,ctor:function(){this.Kj=Date.now();if(!p.lC){var a=this;window.addEventListener("focus",function(){a.Kj=Date.now()},!1)}},SO:function(){this.Kj=Date.now()},r:function(){this.eA=this.bh=1/p.bR;this.Pi=[];this.Vk=p.DL;this.pA=null;this.Qu=this.Yn=0;this.Hq=
!1;this.XA=this.je=0;this.Kj=Date.now();this.wv=this.um=!1;this.Sb=p.Bm();this.ih=null;this.hm=1;this.Eg=new p.BM;this.ah=new p.lL;this.Eg.DJ(this.ah,p.Pt,!1);p.la&&(this.cf=new p.la,this.cf.r());p.On&&(this.$z=p.On.e());p.qk&&(this.ru=new p.qk);p.ce&&(this.or=new p.ce,this.or.r());return!0},wQ:function(){var a=Date.now();this.qr?(this.Ek=0,this.qr=!1):this.Ek=(a-this.Kj)/1E3;0<p.et&&0.2<this.Ek&&(this.Ek=1/60);this.Kj=a},UQ:function(a){var c=new p.wh;p.gE(c);var d=new p.wh;p.b7(d,c);var c=c.xh[14]/
c.xh[15],e=this.ih.mp();a=new p.Gp(2*a.x/e.width-1,1-2*a.y/e.height,c);c=new p.Gp;p.tT(c,a,d);return p.a(c.x,c.y)},WQ:function(a){var c=new p.wh;p.gE(c);var d=new p.Gp;a=new p.Gp(a.x,a.y,0);p.tT(d,a,c);c=this.ih.mp();return p.a(c.width*(0.5*d.x+0.5),c.height*(0.5*-d.y+0.5))},tR:function(){this.wQ();this.um||this.Eg.update(this.Ek);this.iF();this.Ji&&this.YV();this.bz&&this.bz();this.rd&&this.rd.ua();this.pv&&this.pv.ua();this.Hq&&this.zP();this.Yy&&this.Yy();this.XA++;this.Hq&&this.nN()},vN:function(){var a=
this.ih.ef;p.Y.clearRect(-a.x,a.y,a.width,-a.height)},CN:function(){var a=p.Y;a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},bz:null,Yy:null,iN:function(){p.Fp()},eN:function(){p.Ep()},end:function(){this.wv=!0},O2:function(){return this.hm},R3:function(){return this.pv},B5:function(){return this.Sb},wS:function(){return p.size(this.Sb.width*this.hm,this.Sb.height*this.hm)},ns:function(){return this.ih?this.ih.ns():this.Sb},aI:function(){return this.ih?this.ih.aI():p.pM},ps:function(){return this.Sb.height/
1.1566},pause:function(){this.um||(this.eA=this.bh,this.Fs(0.25),this.um=!0)},t8:function(){if(!this.rd)throw"running scene should not null";this.Pi.pop();var a=this.Pi.length;0==a?this.end():(this.ym=!0,this.Ji=this.Pi[a-1])},GC:function(){p.iy.GC()},qU:function(){this.Df().Us();this.cf&&this.cf.LU();this.rd&&(this.rd.yh(),this.rd.Ud(),this.rd.ag());this.Ji=this.rd=null;this.Pi=[];this.LK();p.iy.GC();p.Ql.rU();p.sg.sU();p.ga.tU();p.TD()},uU:function(a){if(!a)throw"the scene should not null";this.ym=
!1;this.Pi.push(a);this.Ji=a},yJ:function(a){if(!this.rd)throw"Use runWithScene: instead to start the director";if(!a)throw"the scene should not be null";var c=this.Pi.length;0===c?(this.ym=!0,this.Pi[c]=a):(this.ym=!0,this.Pi[c-1]=a);this.Ji=a},AJ:function(){this.um&&(this.Fs(this.eA),(this.Kj=Date.now())||p.log("cocos2d: Director: Error in gettimeofday"),this.um=!1,this.Ek=0)},eV:function(a){if(!a)throw"This command can only be used to start the CCDirector. There is already a scene present.";if(this.rd)throw"_runningScene should be null";
this.uU(a);this.JK()},rV:function(a){a?p.ck(p.Me,p.Le):p.ck(p.Y.ONE,p.Y.ZERO)},BV:function(a){a!=this.hm&&(this.hm=a,this.ro())},FV:function(a){if(p.Fd!==p.og){var c=p.Y;a?(c.clearDepth(1),c.enable(c.DEPTH_TEST),c.depthFunc(c.LEQUAL)):c.disable(c.DEPTH_TEST)}},J9:function(){},VJ:function(){this.rV(!0);this.FV(!1);this.cx(this.Vk);p.Y.clearColor(0,0,0,1)},o$:function(a){this.qr=a},YV:function(){var a=!1,c=!1;p.SE&&(a=this.rd?this.rd instanceof p.SE:!1,c=this.Ji?this.Ji instanceof p.SE:!1);if(!c){if(c=
this.rd)c.yh(),c.Ud();this.ym&&c&&c.ag()}this.rd=this.Ji;this.Ji=null;a||null==this.rd||(this.rd.Qg(),this.rd.ki())},p$:function(a){this.pv=a},jc:function(){return this.pA},ig:function(a){this.pA=a},dW:function(a){this.Sb.qD(p.canvas.width);this.Sb.dD(p.canvas.height);this.ih=a||p.sa.e();p.Fd!==p.og&&(a=p.Ne.e(),a.GR(),a.wR(),this.ro(),this.VJ(),this.cf&&this.cf.GV(!0))},wK:function(){if(this.ih){var a=this.Sb;this.ih.AW(0,0,a.width,a.height)}},cx:function(a){var c=this.Sb;if(p.Fd===p.wk){this.wK();
switch(a){case p.BL:p.an(p.Mt);p.sC();var d=new p.wh;p.sT(d,0,c.width,0,c.height,-1024,1024);p.Fw(d);p.an(p.Lt);p.sC();break;case p.cE:var e=this.ps(),f=new p.wh,d=new p.wh;p.an(p.Mt);p.sC();p.c7(f,60,c.width/c.height,0.1,2*e);p.Fw(f);p.an(p.Lt);p.sC();e=p.vs(null,c.width/2,c.height/2,e);c=p.vs(null,c.width/2,c.height/2,0);f=p.vs(null,0,1,0);p.qT(d,e,c,f);p.Fw(d);break;case p.CL:break;default:p.log("cocos2d: Director: unrecognized projection")}this.Vk=a;p.B$()}else this.Vk=a},zP:function(){this.je++;
this.Yn+=this.Ek;this.xk&&this.zk&&this.Fk?(this.Yn>p.AL&&(this.zk.fa(this.EA.toFixed(3)),this.Qu=this.je/this.Yn,this.Yn=this.je=0,this.xk.fa(this.Qu.toFixed(1)),this.Fk.fa((0|p.ei).toString())),this.xk.ua(),this.zk.ua(),this.Fk.ua()):this.ro();p.ei=0},J6:function(){return this.ym},G4:function(){return this.rd},r2:function(){return this.bh},l6:function(){return this.Hq},N9:function(a){this.Hq=a},L4:function(){return this.EA},f4:function(){return this.ih},w6:function(){return this.qr},A6:function(){return this.um},
k5:function(){return this.XA},u4:function(){return this.Vk},u8:function(){this.fU(1)},fU:function(a){if(!this.rd)throw"A running Scene is needed";var c=this.Pi,d=c.length;if(0==d)this.end();else if(!(a>d)){for(;d>a;){var e=c.pop();e.Ye&&(e.yh(),e.Ud());e.ag();d--}this.Ji=c[c.length-1];this.ym=!1}},Df:function(){return this.Eg},pW:function(a){this.Eg!=a&&(this.Eg=a)},Jg:function(){return this.ah},pV:function(a){this.ah!=a&&(this.ah=a)},m5:function(){return this.cf},eaa:function(a){this.cf!=a&&(this.cf=
a)},qw:function(){if(!p.On)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";return this.$z},e$:function(a){if(!p.On)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";this.$z=a},lp:function(){if(!p.qk)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";return this.ru},s9:function(a){if(!p.qk)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";this.ru!=
a&&(this.ru=a)},Y2:function(){return this.Ek},Cf:function(){if(!p.ce)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";return this.or},m$:function(a){if(!p.ce)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.or!=a&&(this.or=a)},ro:null,FN:function(){if(!p.hy)return this.lF();if(null!=p.$.rF&&!1!=p.$.rF){var a=new p.ec;a.Ef(p.$.Gz);a.Fe();var c=p.sa.e().mp().height/320;0===c&&(c=this.Sb.height/320);var d=new p.hy;d.GA(!0);
d.nl("00.0",a,12,32,".");d.nk(c);this.xk=d;d=new p.hy;d.GA(!0);d.nl("0.000",a,12,32,".");d.nk(c);this.zk=d;d=new p.hy;d.GA(!0);d.nl("000",a,12,32,".");d.nk(c);this.Fk=d;a=p.dE;this.Fk.l(p.gg(p.a(0,34*c),a));this.zk.l(p.gg(p.a(0,17*c),a));this.xk.l(a)}},lF:function(){var a=0,a=this.Sb.width>this.Sb.height?0|this.Sb.height/320*24:0|this.Sb.width/320*24;this.xk=p.Q.create("000.0","Arial",a);this.zk=p.Q.create("0.000","Arial",a);this.Fk=p.Q.create("0000","Arial",a);var a=p.dE,c=this.Fk.c();this.Fk.l(p.gg(p.a(c.width/
2,5*c.height/2),a));c=this.zk.c();this.zk.l(p.gg(p.a(c.width/2,3*c.height/2),a));c=this.xk.c();this.xk.l(p.gg(p.a(c.width/2,c.height/2),a))},nN:function(){this.EA=(Date.now()-this.Kj)/1E3}});p.Ga.Rc?(p.$.prototype.iF=p.$.prototype.CN,p.$.prototype.bz=p.$.prototype.iN,p.$.prototype.Yy=p.$.prototype.eN,p.$.prototype.ro=p.$.prototype.FN):(p.$.prototype.iF=p.$.prototype.vN,p.$.prototype.ro=p.$.prototype.lF);
p.EL=p.$.extend({Dw:!1,JK:function(){this.qr=!0;this.Dw=!1;p.nj.e().Fs(this.bh)},RI:function(){this.wv?(this.wv=!1,this.qU()):this.Dw||this.tR()},LK:function(){this.Dw=!0},Fs:function(a){this.bh=a;this.Dw||(this.LK(),this.JK())}});p.Uw=null;p.AH=!0;p.$.e=function(){p.AH&&(p.AH=!1,p.Uw=new p.EL,p.Uw.r(),p.Uw.dW(p.sa.e()));return p.Uw};Object.defineProperties(p,{Cba:{get:function(){return p.mR.Sb},enumerable:!0}});p.f2=!0;p.bR=60;p.$.Gz=new Image;
p.$.Gz.addEventListener("load",function(){p.$.rF=!0;this.removeEventListener("load",arguments.callee,!1)});p.$.Gz.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAAgCAYAAAD9qabkAAAKQ2lDQ1BJQ0MgcHJvZmlsZQAAeNqdU3dYk/cWPt/3ZQ9WQtjwsZdsgQAiI6wIyBBZohCSAGGEEBJAxYWIClYUFRGcSFXEgtUKSJ2I4qAouGdBiohai1VcOO4f3Ke1fXrv7e371/u855zn/M55zw+AERImkeaiagA5UoU8Otgfj09IxMm9gAIVSOAEIBDmy8JnBcUAAPADeXh+dLA//AGvbwACAHDVLiQSx+H/g7pQJlcAIJEA4CIS5wsBkFIAyC5UyBQAyBgAsFOzZAoAlAAAbHl8QiIAqg0A7PRJPgUA2KmT3BcA2KIcqQgAjQEAmShHJAJAuwBgVYFSLALAwgCgrEAiLgTArgGAWbYyRwKAvQUAdo5YkA9AYACAmUIszAAgOAIAQx4TzQMgTAOgMNK/4KlfcIW4SAEAwMuVzZdL0jMUuJXQGnfy8ODiIeLCbLFCYRcpEGYJ5CKcl5sjE0jnA0zODAAAGvnRwf44P5Dn5uTh5mbnbO/0xaL+a/BvIj4h8d/+vIwCBAAQTs/v2l/l5dYDcMcBsHW/a6lbANpWAGjf+V0z2wmgWgrQevmLeTj8QB6eoVDIPB0cCgsL7SViob0w44s+/zPhb+CLfvb8QB7+23rwAHGaQJmtwKOD/XFhbnauUo7nywRCMW735yP+x4V//Y4p0eI0sVwsFYrxWIm4UCJNx3m5UpFEIcmV4hLpfzLxH5b9CZN3DQCshk/ATrYHtctswH7uAQKLDljSdgBAfvMtjBoLkQAQZzQyefcAAJO/+Y9AKwEAzZek4wAAvOgYXKiUF0zGCAAARKCBKrBBBwzBFKzADpzBHbzAFwJhBkRADCTAPBBCBuSAHAqhGJZBGVTAOtgEtbADGqARmuEQtMExOA3n4BJcgetwFwZgGJ7CGLyGCQRByAgTYSE6iBFijtgizggXmY4EImFINJKApCDpiBRRIsXIcqQCqUJqkV1II/ItchQ5jVxA+pDbyCAyivyKvEcxlIGyUQPUAnVAuagfGorGoHPRdDQPXYCWomvRGrQePYC2oqfRS+h1dAB9io5jgNExDmaM2WFcjIdFYIlYGibHFmPlWDVWjzVjHVg3dhUbwJ5h7wgkAouAE+wIXoQQwmyCkJBHWExYQ6gl7CO0EroIVwmDhDHCJyKTqE+0JXoS+cR4YjqxkFhGrCbuIR4hniVeJw4TX5NIJA7JkuROCiElkDJJC0lrSNtILaRTpD7SEGmcTCbrkG3J3uQIsoCsIJeRt5APkE+S+8nD5LcUOsWI4kwJoiRSpJQSSjVlP+UEpZ8yQpmgqlHNqZ7UCKqIOp9aSW2gdlAvU4epEzR1miXNmxZDy6Qto9XQmmlnafdoL+l0ugndgx5Fl9CX0mvoB+nn6YP0dwwNhg2Dx0hiKBlrGXsZpxi3GS+ZTKYF05eZyFQw1zIbmWeYD5hvVVgq9ip8FZHKEpU6lVaVfpXnqlRVc1U/1XmqC1SrVQ+rXlZ9pkZVs1DjqQnUFqvVqR1Vu6k2rs5Sd1KPUM9RX6O+X/2C+mMNsoaFRqCGSKNUY7fGGY0hFsYyZfFYQtZyVgPrLGuYTWJbsvnsTHYF+xt2L3tMU0NzqmasZpFmneZxzQEOxrHg8DnZnErOIc4NznstAy0/LbHWaq1mrX6tN9p62r7aYu1y7Rbt69rvdXCdQJ0snfU6bTr3dQm6NrpRuoW623XP6j7TY+t56Qn1yvUO6d3RR/Vt9KP1F+rv1u/RHzcwNAg2kBlsMThj8MyQY+hrmGm40fCE4agRy2i6kcRoo9FJoye4Ju6HZ+M1eBc+ZqxvHGKsNN5l3Gs8YWJpMtukxKTF5L4pzZRrmma60bTTdMzMyCzcrNisyeyOOdWca55hvtm82/yNhaVFnMVKizaLx5balnzLBZZNlvesmFY+VnlW9VbXrEnWXOss623WV2xQG1ebDJs6m8u2qK2brcR2m23fFOIUjynSKfVTbtox7PzsCuya7AbtOfZh9iX2bfbPHcwcEh3WO3Q7fHJ0dcx2bHC866ThNMOpxKnD6VdnG2ehc53zNRemS5DLEpd2lxdTbaeKp26fesuV5RruutK10/Wjm7ub3K3ZbdTdzD3Ffav7TS6bG8ldwz3vQfTw91jicczjnaebp8LzkOcvXnZeWV77vR5Ps5wmntYwbcjbxFvgvct7YDo+PWX6zukDPsY+Ap96n4e+pr4i3z2+I37Wfpl+B/ye+zv6y/2P+L/hefIW8U4FYAHBAeUBvYEagbMDawMfBJkEpQc1BY0FuwYvDD4VQgwJDVkfcpNvwBfyG/ljM9xnLJrRFcoInRVaG/owzCZMHtYRjobPCN8Qfm+m+UzpzLYIiOBHbIi4H2kZmRf5fRQpKjKqLupRtFN0cXT3LNas5Fn7Z72O8Y+pjLk722q2cnZnrGpsUmxj7Ju4gLiquIF4h/hF8ZcSdBMkCe2J5MTYxD2J43MC52yaM5zkmlSWdGOu5dyiuRfm6c7Lnnc8WTVZkHw4hZgSl7I/5YMgQlAvGE/lp25NHRPyhJuFT0W+oo2iUbG3uEo8kuadVpX2ON07fUP6aIZPRnXGMwlPUit5kRmSuSPzTVZE1t6sz9lx2S05lJyUnKNSDWmWtCvXMLcot09mKyuTDeR55m3KG5OHyvfkI/lz89sVbIVM0aO0Uq5QDhZML6greFsYW3i4SL1IWtQz32b+6vkjC4IWfL2QsFC4sLPYuHhZ8eAiv0W7FiOLUxd3LjFdUrpkeGnw0n3LaMuylv1Q4lhSVfJqedzyjlKD0qWlQyuCVzSVqZTJy26u9Fq5YxVhlWRV72qX1VtWfyoXlV+scKyorviwRrjm4ldOX9V89Xlt2treSrfK7etI66Trbqz3Wb+vSr1qQdXQhvANrRvxjeUbX21K3nShemr1js20zcrNAzVhNe1bzLas2/KhNqP2ep1/XctW/a2rt77ZJtrWv913e/MOgx0VO97vlOy8tSt4V2u9RX31btLugt2PGmIbur/mft24R3dPxZ6Pe6V7B/ZF7+tqdG9s3K+/v7IJbVI2jR5IOnDlm4Bv2pvtmne1cFoqDsJB5cEn36Z8e+NQ6KHOw9zDzd+Zf7f1COtIeSvSOr91rC2jbaA9ob3v6IyjnR1eHUe+t/9+7zHjY3XHNY9XnqCdKD3x+eSCk+OnZKeenU4/PdSZ3Hn3TPyZa11RXb1nQ8+ePxd07ky3X/fJ897nj13wvHD0Ivdi2yW3S609rj1HfnD94UivW2/rZffL7Vc8rnT0Tes70e/Tf/pqwNVz1/jXLl2feb3vxuwbt24m3Ry4Jbr1+Hb27Rd3Cu5M3F16j3iv/L7a/eoH+g/qf7T+sWXAbeD4YMBgz8NZD+8OCYee/pT/04fh0kfMR9UjRiONj50fHxsNGr3yZM6T4aeypxPPyn5W/3nrc6vn3/3i+0vPWPzY8Av5i8+/rnmp83Lvq6mvOscjxx+8znk98ab8rc7bfe+477rfx70fmSj8QP5Q89H6Y8en0E/3Pud8/vwv94Tz+4A5JREAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfcAgcQLxxUBNp/AAAQZ0lEQVR42u2be3QVVZbGv1N17829eRLyIKAEOiISEtPhJTJAYuyBDmhWjAEx4iAGBhxA4wABbVAMWUAeykMCM+HRTcBRWkNH2l5moS0LCCrQTkYeQWBQSCAIgYRXEpKbW/XNH5zS4noR7faPEeu31l0h4dSpvc+t/Z199jkFWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhY/H9D/MR9qfKnLj/00U71aqfJn9+HCkCR/Wk36ddsgyJ/1wF4fkDfqqm9/gPsUeTnVr6a2xlQfnxdI7zs0W7irzD17Ytb2WT7EeNv/r4ox1O3Quf2QP2pgt9utwfout4FQE8AVBSlnaRmfvAURQkg2RlAbwB9AThlW5L0GaiKojhJhgOIBqDa7XaPrusdPtr5kQwF0BVAAoBIABRCKDd5aFUhRDAAw57eAOwAhKIoupft3zoqhB1AqLwuHIBut9uFt02qqvqRDJR2dAEQJj/BAOjn56dqmma+xiaECAEQAWAggLsB6A6HQ2iaZggBhBAqgEAAnQB0kzaEmT4hAITT6VQ8Ho/HJAKKECJQtr8LwD1y/A1/vcdfEUIEyfZ9AcQbYvZ942Px88L2UwlJR0dH0EMPPbRj5syZPUeNGrXR7Xb/641xIwJ1XY9NSUlZm52dfW+XLl1w8uRJzJ8//+OGhoYJqqqe1TSt1Wsm9NN1PSIqKmr12rVrR5WUlHy1bdu2AQCumWc3IYRD1/UwVVXnFRQUTIuNjUVzczN2797dWFJSkq8oymZd15sAGAEnFEUJ1nX9nzIzM1dnZmZGh4SE4OTJk5g5c+Zf29vbp9pstrMej6fVOyhIhgAYU1hY+B+hoaGoqKg4XVlZea+XTULTNFdCQsLGiRMnPuR2u3UhBOV9eeDAAWXTpk095DUe6WsoyRE5OTlr0tLSAux2O/bs2cO5c+e+pijKUpIXSHaQVAGkvPLKK++6XK4OksJLCFlXV2cvKSlJBFAjhU+x2WwhHo9nUHp6+urMzMy7wsLCUF9fjxdffPHjxsbGiTab7WuPx9NiEutOuq4PyMjI+M+srKyYqKgoHD58GDNmzNjq8XhyVFU9b/q+LH7hBAEYu3PnTlZVVRFAGgCX6f/tAHoOHDjwa0p27txp/JO9e/f+QM7cipw9nfL3kQBKt2zZQpJ87rnn6mQmoHilw2EACs+cOUOSrK+vZ1NTE0nyo48+IoBpxswoBcMJ4Ndjx471kOTFixe5d+9ekqTH42H//v13A4jyzpAURfEH0H/OnDnthu1z5sw558MmFUCPWbNmnaMP3nrrLZoyDmP8Hl68eDFJ8siRI9/Yc+zYMQKYKdtAztrTrl27xptRXV1NAKMAOAyBBBA/Y8aMdpLs6Ojgxx9//E37+++//29yvFXppwvAwMcee8xjtDHsuXLlCqOjo//ia3wsfpkoALqFhoZuIckJEyackimm3dQmEMDUmpoakmRISMhhAHOHDx/eQJIbN24kgKEyMAHAFRMTs2XXrl1saWkhSZ0kp0+ffhrAr3wEW/S8efOukORLL72kA1gKYMPWrVtJkk899dRJAHeYrgsEsIQkjx8/TgDvAPjd448/3kaSb7zxBmUa7vC6z53BwcFbSHL9+vU6Sc6aNes8gF5ewWAH0PfVV18lSQL4DMBGIcQ6AKtcLleBFC2jXtFt8ODBe0iyoqKCAJYByC8qKmJDQwOzsrK+MAmqo1OnTveHhoa+GRkZ+XZkZOSWiIiIvzgcjk9mzpypkWRmZuZpmbYbGV4AgPnNzc1sa2sjgN0A5iQmJtaSZHl5OQHcb/K3s81mW0uSTU1NBFAFYFbfvn1Pk+Tbb79NAA8IIVzW42/hByA+Pz/fLR/2ZXIda05NI/z9/TeR5J49ewhgqlxTrtI0jY2NjQQw3zTLuWJiYjaUlJToS5Ys6fjkk080kwDEeAmADcA9GzZsIElGRUW9CyAWwLApU6Y0kOSKFSsog9QICGdERMTGsrIyZmVlEcC9AB4IDw/fTpLbtm0jgN94CUAnAJmVlZVcs2aNZ/LkyRdJcvbs2b4EwAkgZfPmzTxw4AABFAN4BkC6vFeUSewcAO5duXIlSTIhIaEawGMAxgKYAmAGgCS73e5vrKVk/yGythANYEhCQsIhkly+fDkBpKqqGmL6DgIALDKN/3yZpVWQZGVlJQE8aPI3KiMjo5okV61aRQAjAPQBMPfIkSN0u90EUCBtsPiFEwpgbn19PdetW2fM5N4zQ9ekpKQqkty0aRMBpMjiWM6JEydIkoqirJUFJ6iq6pAPVy8A6cZMehMBUACEuVyuFwG8HBwcPEIWx367ZMkSjSQXLVrUJouTRorrkAHdA8BdQogsAOsKCwtJkmPGjDkvMw2bDDo/ADEjRoz4XylyFbm5uY0mAbjLyyZ/AOOrq6tZVlbWsWDBgo69e/eyoqKCgwcPPg4gSQaoIRbp27dvN7KF+tLSUr28vJwFBQXtMpvpYRIM7+wrAkDeqVOnePbsWQIoNKfzpiXPg8uXLydJJicnNwF4f+nSpW6STEtLq5fjYwhk1wkTJtSQ5Ouvv04AqTKj+N2xY8dIkgEBAW/Ie1v8wncRegwZMmQvSfbr12+3Ua33WqPfOWbMmP0kWVpaSgCDZAqcfejQIWNZsEGKgvnh9gfQb9myZd8nAEJVVZtMkUNk8CcNHTq0liR1XWdYWNhmH1mJIme80OnTp18x1rp5eXkEsNJms92Fb7e/IgEsvHz5Mp999tkmAI/l5uZeMC0B7vEqqAYAyL106RJJsra2lpWVld+sucePH38ZQG+5NncBeOrgwYMkqbe3t/Po0aOsra011wAWyl0H7x0JJ4DE+fPnu0kyPT29DsDdUrBuyNKEEAkAdpw/f/6GeoEM8GUmfwEgPCIiopwkGxsbabPZPgOw6L777vvm4p49e26VGYjFLxUhhD+ApLKyMp44ccIoVnXybgbgzkcfffRzklyzZg0BDJYCMMmoCwQFBXkLgLGWvvcWAgBToSsKwNPTp09vMR7UuLi4rwH0lgU8c/Db5ezbeeTIkRWzZ8++aMxu+fn5BPCADBwHgP4LFy701NXVEUAJgAnPP/98kyxMNgHo53A4zH77BQQETMvPz7+Um5vbBuAlAFMSExPPmdbVL0qh8Acw8fDhw5SCchVAEYAVb775JknyhRdeaJYztHfxMwLAaqNwCGC2FArv8x0hAHKNLGPKlCme5OTk/Zs3bzb7O0wKiiG8KXl5ed8IxenTp0mSR48e1UmyW7duWywBuD2xyQcgFECgoih+8H1gyJgZV5Lkyy+/3CbTRIePtl2HDBmyw1QBHyGDdXZdXR1JUghRKkXBjOMHCoBdpr0L3nvvPZLkF198wejo6O0A4lVVDTb74HQ6AwD8Wq7Jh8rgGgDgQ13XjVR8qaxJuADMbmlpYXl5uV5UVNRWUFDgfv/993Vj/ZydnU1c37eHXML4S3viAcQqitJD2l104cIFY8lTKsXSBWBMVVWVcd9yed2A1NTUQ6Zl00CvLMMOoHdubm6zFIlWOf5+PsY/Kj09vdrU11QAwwGsv3jxIk21m2DZr10I0RXAuAcffPBgaWkpV69eTYfDcdiwUxY0w6xw+flX8L1xApjevXv3lREREaW6rofB93aPDUDQpEmTMgHgtddeqwBwEd/utZvpqK6uPgEAcXFxkA94NwB9unfvjrNnz4LklwDcf08iIqv66Zs2bXrl4YcfxooVKxAbG7uqrq5uAYA2TdOEqqpGYIi2tjbl6aeffu/YsWPv5uTk7JaC1wHg4Pnz542MwoVvTx+21dbWYvjw4WLixIl+2dnZ9lGjRgmSTE1NRUpKCkwFTGiaxtTU1OXTpk3707Bhw/6g67pDipnT4biuj7qut+Lbk3Vf1tTUXI9qu91Pjq1QFEUBgJaWFgBo8yGOQ8eNGxcAAOvXr/8QwBUfYygAKL169eoCABcuXACAWtn2hOGv0+kMNO1KiPDw8F4A4rZv3/7R1KlTR0+bNu1ht9u9r1+/fqitrQXJgwDarRC6/QjPzs4+QJIffPCB9/aQmSAA43ft2mW0e1QGoi8CAPyLsZccExNTC2BlRkbGRdOyYJCP2csBIN6UAZzCd7cBbQCijYp/dXU1ExMTz6SmptaMHj36f9LS0vYlJCRsl6mxIWSdu3fv/g5J7t+/nwC2AShMTk6+SJKff/45AWRLYbD7+fndAeDf5BJnLoCCyZMnt5JkdnZ2C4B/F0KEm1Pu+Pj4rST55ZdfEsBWAK+mpaVdMo3raDn7KwDuSEpK+m+S3LBhAwG8DuCtHTt2UBbpjgC408vvcFVV15HkuXPnjMp+p5uMf0RcXNyHJNnQ0EBVVfcCWBQXF3fG+Jv0yxABPwB5LS0tRmFxN4BlTzzxxGWSXLx4sS5F3GGFy+1Hp5SUlJq6ujoWFxdTpsZ2H+0iIyMj/0iSWVlZX5mr5jfJFroPGzasxlhTnjp1iiTZ3NxMl8tlrCd9pfa9SkpKSJI5OTmnZOageLUZZqxvfVFWVkZcPwdgNwnSCKPqb17jkmR8fPzfZMDZ5CRsFBmNI7h95s2b1yhT7/MAYmStwCx4vy0uLqa3v5qmEcCfvSr1QQAeXb16NY3Cm3HQ55133iGAp+SxZTNhKSkpfzUddkrFjYevzAQCeGjp0qXfsYckY2NjTwD4leGDLCL2HTdunNtoY+zWSHFcIHdsFCtcfuZ1vO9Eqs3m7/F47sb1k2qX/f3997W2tl7BjWfpBYDOzzzzzIVJkyZh0KBBCwEsB3AJvl9AETabLcDj8dwRFRW1ctasWb8JCgpSzp07d62wsPC/Wltb8xRFadR1/ZqPXYbgAQMGbI2Pjw/+6quv9ldVVT0r01ezuPRJSUn5Y9euXXVd11WzDaqq6kePHm3+7LPPRgO4KlNuxWazhXo8nuTk5OSXMjIyEl0uFxoaGtqKior+dPXq1VdUVT0jj7r68ieoT58+vx8yZMjdx48fP1JVVTVF9m20VW02WyfZf97YsWPjXS4X6urqWvPy8jYCWCyEuEDS8FdVFKWzruv//OSTTy5OTk7uqWkaPv3007qysrJ8RVH+LI8ym8/rB3Tu3HnRI488knLo0KG2ffv2ZQI4C98vP6mqqoZqmpaclpa2cOTIkX39/f3R0NDQUVxc/G5TU9PLqqrWa5rWLH1QVFUN0TStX1JSUvH48eP7BwYG4uDBg1cKCgpeBbBe2u+2Qug2EwD5N5sMPuNtMe8XP4TT6Qxoa2sbIGeXvUKIK7d4IISiKC5d1wPljOfA9bPwzYqiXNV13dd6Uqiq6qdpml2mpe02m63d4/G4vcTF5fF47LJf71nJA6BZVVW3pmntuPHlmAD5wk6Q9NnbHp9vHaqq6tA0zU/64PZhk1FfCZB9G/23ALiqKEqzD39tpvbGUqoFwFUhRLP3yzpCCDtJpxyXDulfG27+pqRR3DXsUWVd4Yq0x/taVQjhIhksC8L+ABpM9ljBf5sKwI8pIBr75L5E4vvu+UNeG/a+hv+AL7yFH8qPtOfHjtOP6V/Bja8D6z/B2Nys/1u9Xv33tLf4GfF/LC4GCJwByWIAAAAASUVORK5CYII\x3d";p.$p=p.Ea.extend({Vq:null,Wq:null,Xq:null,mo:null,no:null,oo:null,Ur:null,Vr:null,Wr:null,Ja:null,gv:null,ctor:function(){this.gv=new p.wh;this.restore()},description:function(){return"\x3cCCCamera | center \x3d("+this.mo+","+this.no+","+this.oo+")\x3e"},Rg:function(a){this.Ja=a},yI:function(){return this.Ja},restore:function(){this.Vq=this.Wq=0;this.Xq=p.$p.ps();this.Ur=this.mo=this.no=this.oo=0;this.Vr=1;this.Wr=0;p.a7(this.gv);this.Ja=!1},MI:function(){if(this.Ja){var a=new p.Gp,c=new p.Gp,d=new p.Gp;
p.vs(a,this.Vq,this.Wq,this.Xq);p.vs(c,this.mo,this.no,this.oo);p.vs(d,this.Ur,this.Vr,this.Wr);p.qT(this.gv,a,c,d);this.Ja=!1}p.Fw(this.gv)},R9:function(a,c,d){this.SJ(a,c,d)},SJ:function(a,c,d){this.Vq=a;this.Wq=c;this.Xq=d;this.Ja=!0},B9:function(a,c,d){this.xV(a,c,d)},xV:function(a,c,d){this.mo=a;this.no=c;this.oo=d;this.Ja=!0},faa:function(a,c,d){this.yW(a,c,d)},yW:function(a,c,d){this.Ur=a;this.Vr=c;this.Wr=d;this.Ja=!0},g3:function(){return{x:this.Vq,y:this.Wq,z:this.Xq}},LH:function(){return{x:this.Vq,
y:this.Wq,z:this.Xq}},F2:function(){return{x:this.mo,y:this.no,z:this.oo}},JH:function(){return{x:this.mo,y:this.no,z:this.oo}},q5:function(){return{x:this.Ur,y:this.Vr,z:this.Wr}},uS:function(){return{x:this.Ur,y:this.Vr,z:this.Wr}},n_:function(){}});p.$p.ps=function(){return p.Ft};p.Pt=-2147483648;p.hZ=p.Pt+1;p.bt=function(a,c){if(a&&0<a.length)for(var d=0;d<a.length;d++)if(!(a[d]instanceof c)){p.log("element type is wrong!");break}};p.Xp=function(a,c){a.splice(c,1)};p.Zd=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c){a.splice(d,1);break}};p.MX=function(a,c){for(var d=0,e=c.length;d<e;d++)p.Zd(a,c[d])};p.LX=function(a,c){return a.indexOf(c)};p.JX=function(a,c){a.push(c)};p.Rl=function(a,c,d){a.splice(d,0,c);return a};
p.KX=function(a,c,d){a.splice.apply(a,[d,0].concat(c));return a};p.Kx=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c)return d;return-1};p.Ix=function(a,c){return-1!=a.indexOf(c)};p.CY=function(a,c){if(null==a)return null;for(var d=0;d<a.length;d++)if(a[d].target===c)return a[d];return null};p.lE=function(a,c,d){this.next=null;this.target=a;this.nJ=c;this.paused=d;this.vl=!1};p.hE=function(a,c,d){this.list=a;this.Xm=c;this.target=d;this.aC=null};
p.OL=function(a,c){this.lg=null;this.target=a;this.Tp=0;this.ds=this.cs=null;this.paused=c;this.aC=null};
p.fu=p.Ea.extend({Jj:0,Tf:null,T:null,hc:0,aG:!1,Yv:!1,$o:0,xA:0,Ju:0,ctor:function(){},B3:function(){return this.Jj},setInterval:function(){},M4:function(){return this.Tf},Mg:function(a,c,d,e,f){this.T=a;this.Tf=c;this.hc=-1;this.Jj=d||0;this.Ju=f||0;this.Yv=0<this.Ju;this.xA=null==e?p.Wl:e;this.aG=this.xA==p.Wl;return!0},ez:function(){if("string"==typeof this.Tf)this.T[this.Tf](this.hc);else this.Tf.call(this.T,this.hc)},update:function(a){if(-1==this.hc)this.$o=this.hc=0;else{var c=this.T,d=this.Tf;
this.aG&&!this.Yv?(this.hc+=a,this.hc>=this.Jj&&(c&&d&&this.ez(),this.hc=0)):(this.hc+=a,this.Yv?this.hc>=this.Ju&&(c&&d&&this.ez(),this.hc-=this.Ju,this.$o+=1,this.Yv=!1):this.hc>=this.Jj&&(c&&d&&this.ez(),this.hc=0,this.$o+=1),this.$o>this.xA&&p.$.e().Df().WK(c,d))}}});p.fu.bba=function(a,c,d){if(2>arguments.length)throw Error("timerWithTarget'argument can't is null");var e=new p.fu;e.Mg(a,c,d||0,p.Wl,0);return e};p.X_=null;
p.BM=p.Ea.extend({Nr:1,rh:null,Yh:null,Gg:null,Gj:null,uu:null,Fj:null,v_:null,rf:null,Di:!1,Vv:!1,ctor:function(){this.Nr=1;this.rh=[];this.Yh=[];this.Gg=[];this.Gj={};this.uu=[];this.Fj={};this.Ak=[];this.rf=null;this.Vv=this.Di=!1},wA:function(a){delete this.Fj[a.target.gc];p.Zd(this.Ak,a);a.fu=null;a.target=null},B_:function(a,c){for(var d=0;d<a.length;d++)if(a[d].target==c)return a[d];return null},yv:function(a){if(a=this.Gj[a.target.gc])p.Zd(a.list,a.Xm),delete this.Gj[a.target.gc],p.Zd(this.uu,
a),a.Xm=null,a.target=null},UF:function(a,c,d,e){e=new p.lE(c,d,e);if(a){for(var f=!1,g=0;g<a.length;g++)if(d<a[g].nJ){a=p.Rl(a,e,g);f=!0;break}f||a.push(e)}else a=[],a.push(e);d=new p.hE(a,e,c);this.uu.push(d);this.Gj[c.gc]=d;return a},hN:function(a,c,d){d=new p.lE(c,0,d);a.push(d);a=new p.hE(a,d,c);this.uu.push(a);this.Gj[c.gc]=a},$$:function(a){this.Nr=a},f5:function(){return this.Nr},update:function(a){this.Vv=!0;1!=this.Nr&&(a*=this.Nr);var c,d;for(d=0;d<this.rh.length;d++)c=this.rh[d],c.paused||
c.vl||c.target.update(a);for(d=0;d<this.Yh.length;d++)c=this.Yh[d],c.paused||c.vl||c.target.update(a);for(d=0;d<this.Gg.length;d++)c=this.Gg[d],c.paused||c.vl||c.target.update(a);for(d=0;d<this.Ak.length;d++){c=this.rf=this.Ak[d];this.Di=!1;if(!this.rf.paused)for(c.Tp=0;c.Tp<c.lg.length;c.Tp++)c.cs=c.lg[c.Tp],c.ds=!1,c.cs.update(a),c.cs=null;this.Di&&0==this.rf.lg.length&&this.wA(this.rf)}for(d=0;d<this.rh.length;d++)this.rh[d].vl&&this.yv(this.rh[d]);for(d=0;d<this.Yh.length;d++)this.Yh[d].vl&&this.yv(this.Yh[d]);
for(d=0;d<this.Gg.length;d++)this.Gg[d].vl&&this.yv(this.Gg[d]);this.Vv=!1;this.rf=null},hV:function(a,c,d,e,f,g){if(!c)throw"cc.scheduler.scheduleCallbackForTarget(): callback_fn should be non-null.";if(!a)throw"cc.scheduler.scheduleCallbackForTarget(): target should be non-null.";d=d||0;e=null==e?p.Wl:e;f=f||0;g=g||!1;var h=this.Fj[a.gc];h||(h=new p.OL(a,g),this.Ak.push(h),this.Fj[a.gc]=h);if(null==h.lg)h.lg=[];else for(var k=0;k<h.lg.length;k++)if(g=h.lg[k],c==g.Tf){p.log("CCSheduler#scheduleCallback. Callback already scheduled. Updating interval from:"+
g.Jj.toFixed(4)+" to "+d.toFixed(4));g.Jj=d;return}g=new p.fu;g.Mg(a,c,d,e,f);h.lg.push(g)},DJ:function(a,c,d){var e=this.Gj[a.gc];e?e.Xm.vl=!1:0==c?this.hN(this.Yh,a,d):0>c?this.rh=this.UF(this.rh,a,c,d):this.Gg=this.UF(this.Gg,a,c,d)},WK:function(a,c){if(null!=a&&null!=c){var d=this.Fj[a.gc];if(null!=d)for(var e=0;e<d.lg.length;e++){var f=d.lg[e];if(c==f.Tf){f!=d.cs||d.ds||(d.ds=!0);p.Xp(d.lg,e);d.Tp>=e&&d.Tp--;0==d.lg.length&&(this.rf==d?this.Di=!0:this.wA(d));break}}}},Up:function(a){null!=a&&
(a=this.Gj[a.gc],null!=a&&(this.Vv?a.Xm.vl=!0:this.yv(a.Xm)))},VK:function(a){if(null!=a){var c=this.Fj[a.gc];c&&(!c.ds&&p.Ix(c.lg,c.cs)&&(c.ds=!0),c.lg.length=0,this.rf==c?this.Di=!0:this.wA(c));this.Up(a)}},Us:function(){this.gX(p.Pt)},gX:function(a){var c;for(c=0;c<this.Ak.length;c++)this.VK(this.Ak[c].target);if(0>a)for(c=0;c<this.rh.length;c++)this.Up(this.rh[c].target);if(0>=a)for(c=0;c<this.Yh.length;c++)this.Up(this.Yh[c].target);for(c=0;c<this.Gg.length;c++)this.Gg[c].nJ>=a&&this.Up(this.Gg[c].target)},
q8:function(){return this.ZT(p.Pt)},ZT:function(a){var c=[],d,e;for(d=0;d<this.Ak.length;d++)if(e=this.Ak[d])e.paused=!0,c.push(e.target);if(0>a)for(d=0;d<this.rh.length;d++)if(e=this.rh[d])e.paused=!0,c.push(e.target);if(0>=a)for(d=0;d<this.Yh.length;d++)if(e=this.Yh[d])e.paused=!0,c.push(e.target);for(d=0;d<this.Gg.length;d++)if(e=this.Gg[d])e.paused=!0,c.push(e.target);return c},bV:function(a){if(a)for(var c=0;c<a.length;c++)this.rn(a[c])},Bs:function(a){if(!a)throw"cc.Scheduler.pauseTarget():target should be non-null";
var c=this.Fj[a.gc];c&&(c.paused=!0);if(a=this.Gj[a.gc])a.Xm.paused=!0},rn:function(a){if(!a)throw"cc.Scheduler.resumeTarget():target should be non-null";var c=this.Fj[a.gc];c&&(c.paused=!1);if(a=this.Gj[a.gc])a.Xm.paused=!1},L6:function(a){if(!a)throw"cc.Scheduler.isTargetPaused():target should be non-null";return(a=this.Fj[a.gc])?a.paused:!1}});p.sy={IMAGE:["png","jpg","bmp","jpeg","gif"],SOUND:["mp3","ogg","wav","mp4","m4a"],XML:["plist","xml","fnt","tmx","tsx"],BINARY:["ccbi"],FONT:"FONT",TEXT:["txt","vsh","fsh","json","ExportJson"],UNKNOW:[]};
p.dc=p.Ea.extend({so:0,Qr:0,lr:0,vm:null,bh:1/60,Jj:null,CF:!1,ctor:function(){this.vm=[]},Bw:function(a,c,d){if(a){c&&(this.Tf=c,this.T=d);if(a!=this.vm||0==this.so){this.lr=this.so=0;if(a[0]instanceof Array)for(c=0;c<a.length;c++)this.vm=this.vm.concat(a[c]);else this.vm=a;this.Qr=this.vm.length}this.WO()}else console.log("resources should not null")},tV:function(a){this.CF=a},jn:function(a){this.lr++;p.log("cocos2d:Failed loading resource: "+a)},li:function(){this.lr++},rw:function(){var a=0;return a=
0==this.Qr?100:0|this.lr/this.Qr*100},IU:function(a){if(a&&0<a.length)for(var c=p.ga.e(),d=p.Ah?p.Ah.e():null,e=p.tk.e(),f=p.Kd.e(),g,h=0;h<a.length;h++){g=a[h];var k=this.uF(g);switch(k){case "IMAGE":c.UU(g.src);break;case "SOUND":if(!d)throw"Can not find AudioEngine! Install it, please.";d.iba(g.src);break;case "XML":e.eX(g.src);break;case "BINARY":f.dX(g.src);break;case "TEXT":f.fX(g.src);break;case "FONT":break;default:throw"cocos2d:unknown filename extension: "+k;}}},CO:function(){this.Wv();
if(this.CF){var a=p.$.e().Qu;if(null!=a&&20>a){p.log("cocos2d: frame rate less than 20 fps, skip frame.");return}}this.so<this.Qr&&(this.kO(),this.so++)},kO:function(){var a=p.ga.e(),c=p.Ah?p.Ah.e():null,d=p.tk.e(),e=p.Kd.e(),f=this.vm[this.so],g=this.uF(f);switch(g){case "IMAGE":a.qa(f.src);break;case "SOUND":if(!c)throw"Can not find AudioEngine! Install it, please.";c.w8(f.src);break;case "XML":d.lU(f.src);break;case "BINARY":e.kU(f.src);break;case "TEXT":e.mU(f.src);break;case "FONT":this.EO(f);
break;default:throw"cocos2d:unknown filename extension: "+g;}},WO:function(){var a=this;this.Jj=setInterval(function(){a.CO()},1E3*this.bh)},MP:function(){clearInterval(this.Jj)},uF:function(a){if(null!=a.fs)return p.sy.FONT;a=a.src;a=a.substring(a.lastIndexOf(".")+1,a.length);var c=a.indexOf("?");0<c&&(a=a.substring(0,c));for(var d in p.sy)if(-1!=p.sy[d].indexOf(a))return d;return a},Wv:function(){100<=this.rw()&&(this.MP(),this.DN())},DN:function(){if(this.T&&"string"==typeof this.Tf)this.T[this.Tf](this);
else this.T&&"function"==typeof this.Tf?this.Tf.call(this.T,this):this.Tf(this);this.Qr=this.lr=this.so=0},EO:function(a){var c=a.src,d=p.Kd.e();if(c&&0<c.length){var e=document.createElement("style");e.type="text/css";document.body.appendChild(e);for(var f="@font-face { font-family:"+a.fs+"; src:",g=0;g<c.length;g++)f+="url('"+d.xe(encodeURI(c[g].src))+"') format('"+c[g].type+"')",f+=g==c.length-1?";":",";e.textContent+=f+"};";c=document.createElement("div");c.style.fontFamily=a.fs;c.innerHTML=".";
c.style.position="absolute";c.style.left="-100px";c.style.top="-100px";document.body.appendChild(c)}p.dc.e().li()},a0:function(){}});p.dc.FC=function(a,c,d){this.Kb||(this.Kb=new p.dc);this.Kb.Bw(a,c,d);return this.Kb};p.dc.v8=function(a,c,d){this.Kb||(this.Kb=new p.dc);this.Kb.tV(!0);this.Kb.Bw(a,c,d);return this.Kb};p.dc.GC=function(a){this.Kb&&this.Kb.IU(a)};p.dc.e=function(){this.Kb||(this.Kb=new p.dc);return this.Kb};p.dc.Kb=null;
p.jy=p.eq.extend({fv:null,Jo:null,Lv:null,tq:null,Ho:null,kB:null,ctor:function(){p.eq.prototype.ctor.call(this);this.kB=p.$.e().Sb},r:function(){p.eq.prototype.r.call(this);var a=p.a(this.kB.width/2,this.kB.height/2);this.Jo=new Image;var c=this;this.Jo.addEventListener("load",function(){c.WN(a);this.removeEventListener("load",arguments.callee,!1)});this.Jo.src="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAAlAAD/4QMpaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjAtYzA2MCA2MS4xMzQ3NzcsIDIwMTAvMDIvMTItMTc6MzI6MDAgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjM4MDBEMDY2QTU1MjExRTFBQTAzQjEzMUNFNzMxRkQwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjM4MDBEMDY1QTU1MjExRTFBQTAzQjEzMUNFNzMxRkQwIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzUgV2luZG93cyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU2RTk0OEM4OERCNDExRTE5NEUyRkE3M0M3QkE1NTlEIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU2RTk0OEM5OERCNDExRTE5NEUyRkE3M0M3QkE1NTlEIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+/+4ADkFkb2JlAGTAAAAAAf/bAIQADQkJCQoJDQoKDRMMCwwTFhENDREWGhUVFhUVGhkUFhUVFhQZGR0fIB8dGScnKionJzk4ODg5QEBAQEBAQEBAQAEODAwOEA4RDw8RFA4RDhQVERISERUfFRUXFRUfKB0ZGRkZHSgjJiAgICYjLCwoKCwsNzc1NzdAQEBAQEBAQEBA/8AAEQgAyACgAwEiAAIRAQMRAf/EALAAAAEFAQEAAAAAAAAAAAAAAAQAAgMFBgcBAQEAAwEBAAAAAAAAAAAAAAAAAQMEAgUQAAIBAgIEBwoLBgQGAwAAAAECAwAEEQUhMRIGQVFxsTITFGGBwdEiQlKSMzWRoeFicqKyI1NzFYJjJDQWB9KjVCbxwkNkJWXik3QRAAIBAgMFBQcDBQEAAAAAAAABAhEDIRIEMUFRcTJhwVIUBZGhsSJyEzOB0ULhYpIjUxX/2gAMAwEAAhEDEQA/AMJSpUqAVKlXuFAeUq9wpUB5XuFe4V6ooDzZHDox0CnGMinzwl7Z8NajaHeoO3vmTBZBtp9YUIqTEV5ROxHKnWRnaU8VRMhFBUjpV7hSoSeUq9pUB5Sr2lhQHlKvcK8oBV7hSFSRrtaKAZs07YNPM1pG2xJIAw1jSeandry/8X4m8VCKkWwaWwam7Xl/4v1W8VLtmX/i/VbxUoKkWwakSM407tmX/i/VbxUmzGwjQsjdY41IARie/U0IbZO0kNtCXnOCkEBeFu4KI3Bs7DNb27ya+jDx3kJeEnpJJEcQVbWDsk17u5urd591ucZkWhym2Vnd9RkCDEpFxDRpbw0bunu5mlp2De2FMLYXOD2wB2xbOeraUcYGJ72mlSUiqzzdzMd3Z3mixltA2yzcK/NlHM1DQyRXce1HocdNOEfJXZ88y9ZojOqhiBszIRiHQ8Y4cK5TvHuzLljHNMqxNoDjLFraHHnjPxcNCGVbxEUzYNTx5jZSxhpW6qTzlwJ+DCvO2Zf+L9VvFSgqyHYNLYNTdssPxfibxUu15f8Ai/VPiqCakOwa82DU/a8v/F+JvFTDdWPBL8R8VKCvYRYV5UzoMAy6QdIIqI0B4KJtxiRQwou16QoGUkntH5Tz0RbZbmF2hktraSVBo2lUkY8tDye0flPPXTslVUyiyVRsjqUOA4yMT8dW2ram2m6UVTNq9S7EIyUVJydMTn/6DnP+im9Wl+g5z/opvVrpteEhQWY4AaSTwAVf5WPiZh/9S5/zj7zltzlmYWkfWXNvJDGTgGcYDHirR7i7mSbwXParsFMrgb7w6jKw/wCmnc9I14kF3vpvCljbMyWMOJL4aEiB8qU/ObUK7HYWVrl1pFZWiCOCBQqKOLjPGTrNZZqKbUXVHq2nNwTuJRk1VpbgXN8s7Rk5ym0UQQzhIG2NAjhxHWbI+gCBVjBBFbwxwQqEiiUJGg1BVGAFe7dV28WYLYZFmF2Th1UD7JGjymGyn1iK5OyzIBGB1HgrLZhamzumQAGJwSqnSCh1q3GOCodxt4cxurdcpzuN4cyhiWaF5Bg09udUmnWw1H/jV9nFuJ7Quo+8h8peThFA+047vduyMtk7fYqTl07YFdfUufMPzT5p71UdtlmYXaGS2t3mQHAsgxANdadYJopLe4QS2867EsZ4QfCNYrCFbjdDPmgkYyWFxgVf04ifJf6ScNdRUW1XBb6FU5TjF5EpSSrGu/s5lN+g5z/opvVpfoOc/wCim9WtdHnatvObJXDW7xLGhB8nrPaY9/HCr+tEdPCVaSeDoYLnqF63lzW4/PFSW3ecxbI84VSzWUwUaSdg0DXXK5nvAipnd6qgKvWnQO7pri9ZUEmm3Vl2j1kr8pRlFRyquBNZjGxQ/S56Y1S2fu9OVueon11Szahoou06QoQUXadIVCD2FJJ7R+U89dMydv8Axdn+TH9muZye0flPPXQstlK5Tbka1gUjlC1q0vVLkeb6r+O3Tx9xcY1nt8c0NrZCyiOE1108NYjGv1joo7Js1jzKyScYLIvkzL6LDwHXVJksH9Sb49dKNq0tj1jA6uriOCL+02FWX7iVtZX1/AzaHTyeoauKn2MX9W79zebiZCuR5MjSrhfXuEtwTrUeZH+yNfdrRNcxI6IzhXlJEak6WIGJ2Rw4ChWnChndtlVBLMdQA0k1gbXNMzzDfDLs6mjaPKppJbWwJ1bOwwxw43OnHh71YT3DpfWUJmFlb5jHHDdeXBHIsrRea5TSqvxqG04cNN62vetoCS4tre5mgnkGE9q+3DKOkuI2WX6LDQRRHWDh1UCtwj7QRg2wdl8Djgw1qe7XvW0BQ3kfZ7mSLgU+T9E6RVbnuVrnWVSWqj+Lt8ZbRuHEdKPkYVcZ2MJY5fSGyeVar45+rkWQHAqccalPE5km1htWK5nK4Wnt5FuUBUwOMG4nGkA/BXUrW4S6torlOjMgcd/xVn7rLo7zKs0uEjCNeSvdwoBhgsZxX1l2j36k3Lu+uyprdj5Vs5A+i/lD48a0aaVJOPi7jB6lbzWozpjB48pf1NDXNN4vfl7+Z4BXS65pvF78vfzPAK71XTHmZ/S/yT+jvJ7L3fHytz1E+upbL+Qj5W56jfXWRnsIYKLtekKEFGWvSFQgyjk9o/Keet3YthlMP/5x9msJJ7R+U89biyb/AMXEv7gD6tadL1T+kwepRrC39ZkLDMbiwMvUHRPG0bjlGg8ore/23sxBldxfMPLupNhT8yL/AORNZbdzJ484scytxgLqJY5LZj6Q2sV5G1Vud1mjjyG0ij0NEGSZToKyhjtqw4waztuiXA3qKTbSxltfGhbZlE95ZtZqxVbgiOZhrER9ph3Svk9+pJILZ4Y4DGBFCUMKjRsGPobPFhUfW0NJmljE2xJcIrcI2vFUEln1lRXd6lrazXT9GCNpD+yNqoI7mOVduNw6nzlOIoPOUa6yye1XXcbMR5GdQ3xY0BSbj31/FcTQZirJ+q431q7anbHCTZ72Bw7lbPrKBMcBWNNgbMBBh+bsjBdni0VJ1lARZs6yWiupxCuMDy6KpS2IwOo6DTr3Mre3e5tZZVUM4ZBjqOOJoWO4jkXajcOOMHGgDISvWIrdAkKR80+TzVl908bPPL3LzxOuHdifxVfiTAg92qI/w+/8gGgSyN/mR7XPVlp0lF/3L3mbVKtu5Hjbk/8AHE2Fc03i9+Xv5ngFdKNc13i9+Xv5ngFaNV0x5nn+l/kn9HeEWXu+PlbnqJ9dS2Xu9OVueon11kZ7CGCjLXpCgxRlr0hUIPYUcntH5Tz1s8vb+Bt1/dqPirGSe0flPPWusG/g4Py15q06XqlyMWvVYQ+ruI9xJOqzO9hOto/sP8tbGOFIrmWeM7IuMDMnAXXQJOUjQeOsJk0nY96ip0CYunrjaHx1t+srPJUbXBm2LrFPikwTOb+T+VhbZxGMrDXp83x1QSy2tucJpUjPETp+Cn5/ftaRvKvtp3Kx48HG3erHMzOxZiWZtLMdJNQSbbL71Vk6yynViOkqnEEfOWtPbXi3EQkGg6mXiNckjeSJxJGxR10qw0GtxuxmvbImD4CZMFlA4fRfv0BqesqqzTMZNMEDbIHtHH2QeCiZJSqMQdOGiue53mz3czQwsRbIcNHnkec3c4qAMuriz68gTIToxwOOnlp0MjxMJYW741Gs3RVldtbygE/dMcHX/moDaxTiWNZB53B3arb8/wC+4SOF4sf/AKxU9kcBsfOGHfoUHtG/RbzY5Die5HHhXdvavqiZ9Q8Jdlq4/gbKua7xe/L38zwCuhpf2Uk/Zo50kmwJKIdogDjw1VzzeL35e/meAVp1LTgqY4nn+mRauzqmqwrjzCLL3fHytz1E+upLL+Qj5W56jfXWRnroYKLtekKEFF2vSFQg9hSSe0flPPWosm/hIfoLzVl5PaPynnrRWb/w0X0F5q06XqlyM2sVYx5gmbFre/t71NY2T+0h8VbSO5SWNJUOKSAMp7jDGspmMPaLRlXS6eWve1/FRO7WYdbZm1Y/eW/R7qHxHRXGojlm3ulid6aVbaW+OALvgCLq2Hm9WxHKWqjhj6xsK1e8dm15l4niG1LZkswGsxtrPeOmsvayBJA1VItlWjptLuTdPMo7LtjRDq9naK4+WF9IrUW7BaHOljGqVHB7w2hzVoZt87d8vaNYSLl02CcRsDEbJbj71Uu7UBkvJ7/D7q2QoDxySaAO8MTXdxRVMpRp5XZOWdF/ms7R5XdyKfKWJsO/5PhrG5XlNxmEywW6bTnTxAAcJNbGSMXkM1pjgbiNo1PziPJ+Os7u7m/6ReM00ZOgxSpqYYHT3wRXMKN4ll9zUG4bQfNshu8sZVuEA2hirA4qe/VOwwrVbzbww5mI44UKRRYkbWG0S3JWctbd7u5WFfOOLHiUdJqmaipfLsIsObhWe001lMkMVvJNjhghIALMcBxCs7fxXQmkupx1bXDswGPlaTidVaEyKNXkoo4eBV+Sq7L7Vs9zcBgeyQ4GQ/MB1crmoim2orezqcowTuSeEY48jQ7oZX2PLzdyLhNd6RjrEY6I7+uspvH78vfzPAK6UAAAFGAGgAcArmu8Xvy9/M8ArTfio24RW5nnaG67uou3H/KPuqT2X8hHytz1G+upLL3enK3PUb66ys9RDBRdr0hQgou06QqEGUkntH5Tz1e238vF9BeaqKT2j8p56vbb+Xi+gvNWjTdUuRn1XTHmTh8KrJTJlt8t1CPIY44cGnpJVjTJYkmjaN9Ib4u7V923njTethRauZJV3PaW1rfLIiXEDYg6R4VYc9CXW7thfOZbKdbGZtLW8uPVY/u3GrkNUkM9zlcxUjbhfWOA90cRq4gv4LhdqN+VToNYWmnRm9NNVWNTyHc6VWBv8wt4YeHqm6xyPmroq1Z7WGFLSxTq7WLSuPSdjrkfumq5yHXDUeA92oO2SKpVumNAaoJLMXH3myp0rpJ4uKhc3tbDM5BMri1zAj79j7KTiY8TcdBpcsith0286o+sPCagEX9Pzg4zXUCp6QYse8oouCG3tk6m1BYv05W6T+IdyolxbHDAAa2OgDlNCz3ryN2WxBd5PJMg1t81eId2ukqnLlTBbfcuY+9uJLiRcvtPvHdsHK+cfRHcHDWsyawjyy0WBcDI3lTP6TeIcFV+S5OmXx9bJg1048o8Cj0V8Jq2DVu09nL80up7OxHi+oal3P8AXB/IsZS8T/YOV65zvCcc7vfzPAK3ivWCz445zeH954BXOr6I8yfSfyz+jvCLP3fHytz1G+upLP3fHytz1E+usbPaQ0UXadIUIKLtekKhB7Ckk9o/Keer22/l4/oLzVRSe0flPPV7b/y8X0F5q0abqlyM+q6Y8yQsBTDMor1o8aiaE1pbluMqS3sbLLHIhSRQyngqukhaJ9uBjo+H5aOa3ao2t34qouRlLajTalGP8v0IY8ylXQ+PKPFU/bYXOLPge6CKia0LaxTOxHu1Q7cuBd9yPEJ7TbjXKO8CajbMIF6CNIeNvJHjqIWJ7tSpYkalqVblwIdyG+RGXur0hXYJFxal+Dhq5y3slkv3Y2pD0pTr+QUClpJRUdo9XW4OLrTHtM16cZLLWkeC7y4jvlNEpcRtw1Ux27Ci448NZrTFy3nn3IQWxlgGrDZ3pza7/M8ArZo+ArF5171uvp+CqdV0R5l/psUrs2vB3hdl7vTlbnqJ9dS2Xu+PlbnqJ9dY2eshooq16QoQUXa9IVCD2FLJ7RuU89WNtmUSQqkgYMgw0accKrpPaPynnrZWG4Vi+VWmY5tnMWXG+XrIYnA0rhj0mdcTgdNdwnKDqjmduM1SRR/qlr8/4KX6pa8T/BVzDuLZXudRZblmbxXcPUNPc3KqCIwrbOzgrHEnHjoyD+3eSXkht7DeKG4umDGOJVUklfouThXfmbnZ7Cvy1vt9pmv1W1+d8FL9VteJvgq5yrcOGfLmzHN80iyyETPbptAEFo2ZG8pmUa1OFNn3Ky6W/sbDKM5hv5bx2WTZA+7RF2y52WOPJTzE+z2Dy1vt9pT/AKpacTerS/U7Tib1a04/t7kDXPY03jhN0W6sQ7K7W3q2dnrMccaDy/8At80kuZfqWYxWNtlcvUPPhiGYhWDeUy7IwYU8xPs9g8tb7faUn6pacTerTxm9oOBvVq3v9z927aynuId44LiWKNnjhAXF2UYhRg516qpsryjLr21665zFLSTaK9U2GOA87SwqY37knRU+BzOzags0s1Oyr+BKM6sxwP6tSDPLMen6vy0rvdm3Sxlu7K/S7WDDrFUDUTxgnTU826eXW7KlxmqQuwDBXUKcD+1Xee/wXuKX5XDGWLapSVcOyhEM/seJ/V+WnjeGx4pPV+Wkm6kKZlFay3Jlt7iFpYZY8ASVK6DjtDDA0f8A0Tl340/1f8Ndx8xJVWXB0KbktFFpNzdVXAC/qOwA0CQni2flrO3Vwbm5lnI2TKxbDirX/wBE5d+NcfV/wVR7xZPa5U9utvI8nWhmbbw0YEAYYAVxfhfy5rlKR4Fulu6X7mW1mzT8S4Yis/5CPlbnqJ9dSWfu9OVueon11mZvQ2i7XpChKKtekKhBlNJ7R+U89bDfGTb3a3ZX0Lcj6kdY+T2j8p560288m1kWQr6MJ+ylSAr+2cnV5renjs3H1loX+3j9XvbbtxLN9lqW4UnV5jdnjtXHxihtyZNjeSBu5J9k1BJe7xy7W5CJ/wCzuD/mTVTf2+fq97LJuLrPsNRueS7W6aJ/38x+vLVXuY+xvHaNxbf2GoCezf8A36j/APsSf8w1sLnqczTefJluYoLm5uo5F61sBshItP1cNFYe1f8A3ir/APfE/wCZUe9bB94r5jwuPsrQFhmG4l/Z2M17HdW90tuu3IkTHaCjWdIw0VVZdks9/C06yJFEp2dp+E1bbqybGTZ8vpQD7L1XRv8A7blT96Oda7tpNuuNE37Cq9KSisjyuUoxrStKllHbLlWTXsMs8chuSuwEPDqwoLe5y+YRE/gLzmqRekvKKtd4327yM/ulHxmrHJStySWVRyrjxKI2XC/CTlnlPPKTpTdFbP0L1bgrf5Lp0G3dPhQHwV0S1lzBsns3sESR8Crh9WAJGjSOKuU3E+zdZQ3oJh8IArdZXFDmOTpHa3i2+YrI2KtKy4ricBsBuHHgFXSo440+Wa2qqxjvM9uMoy+WvzWpLCWWWE28HxL6e43ojgkeSCBY1Ri5BGIUDT51cl3vm276BBqSEH4WbxV0tlkyXJcxTMb+OW6uY9mGHrCzDQwwAbTp2uKuTZ9N1uYsfRRR8WPhrm419mSSjRyiqxVK7y23B/ftuTm2oSdJyzNVw3BFn7vTlbnqF9dS2fu9OVueon11lZuQ2iLdsGFD05H2dNQGV0ntG5Tz1dWm9N1b2kVq8EVwsI2UaQaQOKhmitZGLOmk68DhSFvY+gfWNSAg7z3Qvo7yKCKIohiaNR5LKxx8qpxvjcqS0VpbxvwOAcRQPZ7D0G9Y0uz2HoH1jUCpLY7zXlpbm3eKO5QuzjrBqZji3x17PvNcyT288VvDBJbMWUovS2hslW7mFQ9nsPQPrGl2ew9A+saCod/WNxtbYsrfb17WBxx5ddD2281xC88klvDcSXEnWuzrqOGGC9zRUPZ7D0G9Y0uzWHoH1jQVCLreq6ntZbaO3it1mGy7RjTs1X2mYy20ZiCq8ZOODcdEdmsPQb1jS7PYegfWNdJuLqnQiSUlRqpFLmryxtH1Ma7Qw2gNNPOdSt0oI27p007s9h6B9Y0uz2HoH1jXX3Z+I4+1b8IJdX89xLHKQFMXQUahpxoiPN5P+onfU+A0/s9h6DesaXZ7D0D6xpG7OLbUtu0StW5JJx2bBsmbtiSiEk+cxoCWWSaVpZOk2vDVo0VYdnsPQb1jSNvZcCH1jSd2c+p1XAmFqEOmOPEfaH+BQd1ueo211IzrgFUYKNAAqI1WztCpUqVCRUqVKgFSpUqAVKlSoBUqVKgFSpUqAVKlSoBUqVKgFSpUqAVKlSoD/9k\x3d";
this.Jo.width=160;this.Jo.height=200;this.tq=p.aa.create(p.uB(32,32,32,255));this.tq.l(0,0);this.f(this.tq,0);this.Ho=p.Q.create("Loading... 0%","Arial",14);this.Ho.m(p.dw(180,180,180));this.Ho.l(p.gg(a,p.a(0,-110)));this.tq.f(this.Ho,10)},WN:function(a){this.Lv=new p.ec;this.Lv.Ef(this.Jo);this.Lv.Fe();this.fv=p.u.ab(this.Lv);this.fv.nk(p.Jd());this.fv.l(a);this.tq.f(this.fv,10)},Qg:function(){p.C.prototype.Qg.call(this);this.bc(this.nG,0.3)},Ud:function(){p.C.prototype.Ud.call(this);this.Ho.fa("Loading... 0%")},
Bw:function(a,c,d){this.ZU=a;this.mV=c;this.target=d},nG:function(){this.Sc(this.nG);p.dc.FC(this.ZU,this.mV,this.target);this.bc(this.Wv)},Wv:function(){var a=p.dc.e().rw();this.Ho.fa("Loading... "+a+"%");100<=a&&this.Sc(this.Wv)}});p.jy.FC=function(a,c,d){this.Kb||(this.Kb=new p.jy,this.Kb.r());this.Kb.Bw(a,c,d);a=p.$.e();a.rd?a.yJ(this.Kb):a.eV(this.Kb);return this.Kb};p.Ux=p.Ea.extend({xb:null,G$:function(a){this.xb=a},z4:function(){return this.xb},ctor:function(a){this.xb=a},DB:function(){p.log("DrawingPrimitive.drawPoint() not implement!")},tH:function(){p.log("DrawingPrimitive.drawPoints() not implement!")},bi:function(){p.log("DrawingPrimitive.drawLine() not implement!")},vH:function(){p.log("DrawingPrimitive.drawRect() not implement!")},EB:function(){p.log("DrawingPrimitive.drawSolidRect() not implement!")},se:function(){p.log("DrawingPrimitive.drawPoly() not implement!")},
nw:function(){p.log("DrawingPrimitive.drawSolidPoly() not implement!")},qH:function(){p.log("DrawingPrimitive.drawCircle() not implement!")},uH:function(){p.log("DrawingPrimitive.drawQuadBezier() not implement!")},rH:function(){p.log("DrawingPrimitive.drawCubicBezier() not implement!")},pH:function(){p.log("DrawingPrimitive.drawCardinalSpline() not implement!")},mw:function(){p.log("DrawingPrimitive.drawCardinalSpline() not implement!")}});
p.eE=p.Ux.extend({DB:function(a,c){c||(c=1);var d=p.sa.e().ta,e=p.sa.e().Aa,e=p.a(a.x*d,a.y*e);this.xb.beginPath();this.xb.arc(e.x,-e.y,c*d,0,2*Math.PI,!1);this.xb.closePath();this.xb.fill()},tH:function(a,c,d){if(null!=a){d||(d=1);c=this.xb;var e=p.sa.e().ta,f=p.sa.e().Aa;c.beginPath();for(var g=0,h=a.length;g<h;g++)c.arc(a[g].x*e,-a[g].y*f,d*e,0,2*Math.PI,!1);c.closePath();c.fill()}},bi:function(a,c){var d=this.xb,e=p.sa.e().ta,f=p.sa.e().Aa;d.beginPath();d.moveTo(a.x*e,-a.y*f);d.lineTo(c.x*e,-c.y*
f);d.closePath();d.stroke()},vH:function(a,c){this.bi(p.a(a.x,a.y),p.a(c.x,a.y));this.bi(p.a(c.x,a.y),p.a(c.x,c.y));this.bi(p.a(c.x,c.y),p.a(a.x,c.y));this.bi(p.a(a.x,c.y),p.a(a.x,a.y))},EB:function(a,c,d){a=[a,p.a(c.x,a.y),c,p.a(a.x,c.y)];this.nw(a,4,d)},se:function(a,c,d,e){e=e||!1;if(null!=a){if(3>a.length)throw Error("Polygon's point must greater than 2");var f=a[0];c=this.xb;var g=p.sa.e().ta,h=p.sa.e().Aa;c.beginPath();c.moveTo(f.x*g,-f.y*h);for(var f=1,k=a.length;f<k;f++)c.lineTo(a[f].x*g,
-a[f].y*h);d&&c.closePath();e?c.fill():c.stroke()}},nw:function(a,c,d){this.QJ(d.o,d.n,d.i,d.J);this.se(a,c,!0,!0)},qH:function(a,c,d,e,f){f=f||!1;e=this.xb;var g=p.sa.e().ta,h=p.sa.e().Aa;e.beginPath();e.arc(0|a.x*g,0|-(a.y*h),c*g,-d,-(d-2*Math.PI),!1);f&&e.lineTo(0|a.x*g,0|-(a.y*h));e.stroke()},uH:function(a,c,d,e){for(var f=[],g=0,h=0;h<e;h++)f.push(p.a(Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y)),g+=1/e;f.push(p.a(d.x,d.y));this.se(f,e+1,!1,!1)},rH:function(a,
c,d,e,f){for(var g=[],h=0,k=0;k<f;k++)g.push(p.a(Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y)),h+=1/f;g.push(p.a(e.x,e.y));this.se(g,f+1,!1,!1)},pH:function(a,c){this.mw(a,0.5,c)},mw:function(a,c,d){p.Y.strokeStyle="rgba(255,255,255,1)";for(var e=[],f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=p.Ox(p.th(a,f-1),p.th(a,f-0),p.th(a,f+1),p.th(a,f+2),c,g),e.push(f);this.se(e,
d+1,!1,!1)},drawImage:function(a,c,d,e,f){switch(arguments.length){case 2:this.xb.drawImage(a,c.x,-(c.y+a.height));break;case 3:this.xb.drawImage(a,c.x,-(c.y+d.height),d.width,d.height);break;case 5:this.xb.drawImage(a,c.x,c.y,d.width,d.height,e.x,-(e.y+f.height),f.width,f.height);break;default:throw Error("Argument must be non-nil");}},D1:function(a,c,d){a=a||this.xb;c*=p.sa.e().ta;d instanceof p.ae&&(d=new p.tc(0|255*d.o,0|255*d.n,0|255*d.i));d="rgba("+d.o+","+d.n+","+d.i;a.fillStyle=d+",1)";var e=
c/10;a.beginPath();a.moveTo(-c,c);a.lineTo(0,e);a.lineTo(c,c);a.lineTo(e,0);a.lineTo(c,-c);a.lineTo(0,-e);a.lineTo(-c,-c);a.lineTo(-e,0);a.lineTo(-c,c);a.closePath();a.fill();var f=a.createRadialGradient(0,0,e,0,0,c);f.addColorStop(0,d+", 1)");f.addColorStop(0.3,d+", 0.8)");f.addColorStop(1,d+", 0.0)");a.fillStyle=f;a.beginPath();a.arc(0,0,c-e,0,p.pE,!1);a.closePath();a.fill()},B1:function(a,c,d){a=a||this.xb;c*=p.sa.e().ta;d instanceof p.ae&&(d=new p.tc(0|255*d.o,0|255*d.n,0|255*d.i));d="rgba("+
d.o+","+d.n+","+d.i;var e=a.createRadialGradient(0,0,c/10,0,0,c);e.addColorStop(0,d+", 1)");e.addColorStop(0.3,d+", 0.8)");e.addColorStop(0.6,d+", 0.4)");e.addColorStop(1,d+", 0.0)");a.fillStyle=e;a.beginPath();a.arc(0,0,c,0,p.pE,!1);a.closePath();a.fill()},fillText:function(a,c,d){this.xb.fillText(a,c,-d)},HV:function(a,c,d,e){this.xb.fillStyle="rgba("+a+","+c+","+d+","+e/255+")";this.xb.strokeStyle="rgba("+a+","+c+","+d+","+e/255+")"},QJ:function(a,c,d,e){this.xb.fillStyle="rgba("+(0|255*a)+","+
(0|255*c)+","+(0|255*d)+","+e+")";this.xb.strokeStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+")"},hW:function(){},RV:function(a){this.xb.lineWidth=a*p.sa.e().ta}});
p.HL=p.Ux.extend({fr:!1,Ob:null,Bi:-1,mc:null,kA:-1,jA:-1,ctor:function(a){null==a&&(a=p.Y);if(!a instanceof WebGLRenderingContext)throw"Can't initialise DrawingPrimitiveWebGL. context need is WebGLRenderingContext";p.Ux.prototype.ctor.call(this,a);this.mc=new p.ae(1,1,1,1)},fk:function(){this.fr||(this.Ob=p.Fh.e().mi(p.HZ),this.Bi=this.xb.getUniformLocation(this.Ob.sw(),"u_color"),this.kA=this.xb.getUniformLocation(this.Ob.sw(),"u_pointSize"),this.fr=!0)},C1:function(){this.fr=!1},DB:function(a){this.fk();
this.Ob.pf();this.Ob.Tg();p.Ae(p.$g);this.Ob.Gl(this.Bi,new Float32Array(this.mc.Rb,0,4),1);this.Ob.sK(this.kA,this.jA);var c=this.xb,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,new Float32Array([a.x,a.y]),c.STATIC_DRAW);c.vertexAttribPointer(p.Qe,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,1);c.deleteBuffer(d);p.Ch()},tH:function(a){if(a&&0!=a.length){this.fk();this.Ob.pf();this.Ob.Tg();p.Ae(p.$g);this.Ob.Gl(this.Bi,new Float32Array(this.mc.Rb,0,4),1);this.Ob.sK(this.kA,
this.jA);var c=this.xb,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.tv(a),c.STATIC_DRAW);c.vertexAttribPointer(p.Qe,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,a.length);c.deleteBuffer(d);p.Ch()}},tv:function(a){for(var c=new Float32Array(2*a.length),d=0;d<a.length;d++)c[2*d]=a[d].x,c[2*d+1]=a[d].y;return c},bi:function(a,c){this.fk();this.Ob.pf();this.Ob.Tg();p.Ae(p.$g);this.Ob.Gl(this.Bi,new Float32Array(this.mc.Rb,0,4),1);var d=this.xb,e=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,
e);d.bufferData(d.ARRAY_BUFFER,this.tv([a,c]),d.STATIC_DRAW);d.vertexAttribPointer(p.Qe,2,d.FLOAT,!1,0,0);d.drawArrays(d.LINES,0,2);d.deleteBuffer(e);p.Ch()},vH:function(a,c){this.bi(p.a(a.x,a.y),p.a(c.x,a.y));this.bi(p.a(c.x,a.y),p.a(c.x,c.y));this.bi(p.a(c.x,c.y),p.a(a.x,c.y));this.bi(p.a(a.x,c.y),p.a(a.x,a.y))},EB:function(a,c,d){a=[a,p.a(c.x,a.y),c,p.a(a.x,c.y)];this.nw(a,4,d)},se:function(a,c,d){this.fk();this.Ob.pf();this.Ob.Tg();p.Ae(p.$g);this.Ob.Gl(this.Bi,new Float32Array(this.mc.Rb,0,4),
1);c=this.xb;var e=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,e);c.bufferData(c.ARRAY_BUFFER,this.tv(a),c.STATIC_DRAW);c.vertexAttribPointer(p.Qe,2,c.FLOAT,!1,0,0);d?c.drawArrays(c.LINE_LOOP,0,a.length):c.drawArrays(c.LINE_STRIP,0,a.length);c.deleteBuffer(e);p.Ch()},nw:function(a,c,d){this.fk();d||(d=this.mc);this.Ob.pf();this.Ob.Tg();p.Ae(p.$g);this.Ob.Gl(this.Bi,new Float32Array(d.Rb,0,4),1);c=this.xb;d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.tv(a),c.STATIC_DRAW);
c.vertexAttribPointer(p.Qe,2,c.FLOAT,!1,0,0);c.drawArrays(c.TRIANGLE_FAN,0,a.length);c.deleteBuffer(d);p.Ch()},qH:function(a,c,d,e,f){this.fk();var g=1;f&&g++;var h=2*Math.PI/e;if(f=new Float32Array(2*(e+2))){for(var k=0;k<=e;k++){var l=k*h,m=c*Math.sin(l+d)+a.y;f[2*k]=c*Math.cos(l+d)+a.x;f[2*k+1]=m}f[2*(e+1)]=a.x;f[2*(e+1)+1]=a.y;this.Ob.pf();this.Ob.Tg();p.Ae(p.$g);this.Ob.Gl(this.Bi,new Float32Array(this.mc.Rb,0,4),1);a=this.xb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(p.Qe,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+g);a.deleteBuffer(c);p.Ch()}},uH:function(a,c,d,e){this.fk();for(var f=new Float32Array(2*(e+1)),g=0,h=0;h<e;h++)f[2*h]=Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,f[2*h+1]=Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y,g+=1/e;f[2*e]=d.x;f[2*e+1]=d.y;this.Ob.pf();this.Ob.Tg();p.Ae(p.$g);this.Ob.Gl(this.Bi,new Float32Array(this.mc.Rb,0,4),1);a=this.xb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(p.Qe,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+1);a.deleteBuffer(c);p.Ch()},rH:function(a,c,d,e,f){this.fk();for(var g=new Float32Array(2*(f+1)),h=0,k=0;k<f;k++)g[2*k]=Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,g[2*k+1]=Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y,h+=1/f;g[2*f]=e.x;g[2*f+1]=e.y;this.Ob.pf();this.Ob.Tg();p.Ae(p.$g);this.Ob.Gl(this.Bi,new Float32Array(this.mc.Rb,0,4),1);a=this.xb;c=a.createBuffer();
a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,g,a.STATIC_DRAW);a.vertexAttribPointer(p.Qe,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,f+1);a.deleteBuffer(c);p.Ch()},pH:function(a,c){this.mw(a,0.5,c)},mw:function(a,c,d){this.fk();for(var e=new Float32Array(2*(d+1)),f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=p.Ox(p.th(a,f-1),p.th(a,f),p.th(a,f+1),p.th(a,f+2),c,g),e[2*k]=f.x,e[2*k+1]=f.y;this.Ob.pf();this.Ob.Tg();p.Ae(p.$g);this.Ob.Gl(this.Bi,
new Float32Array(this.mc.Rb,0,4),1);a=this.xb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,e,a.STATIC_DRAW);a.vertexAttribPointer(p.Qe,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,d+1);a.deleteBuffer(c);p.Ch()},HV:function(a,c,d,e){this.mc.o=a/255;this.mc.n=c/255;this.mc.i=d/255;this.mc.J=e/255},QJ:function(a,c,d,e){this.mc.o=a;this.mc.n=c;this.mc.i=d;this.mc.J=e},hW:function(a){this.jA=a*p.Jd()},RV:function(a){this.xb.lineWidth&&this.xb.lineWidth(a)}});p.pE=2*Math.PI;p.IE={i_:0,OY:1,PY:2,BX:3,HY:4,GY:5,OX:6,VY:7,sY:8,eM:100,nM:101};p.aZ=0;p.bZ=1;p.ZY=2;p.$Y=3;p.og=0;p.wk=1;p.bg=null;p.Y=null;p.canvas=null;p.ER=null;p.Fd=p.og;p.TT=p.size(0,0);window.RC=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;window.console||(window.console={},window.console.log=function(){},window.console.assert=function(){});p.lC=!1;
p.Hl=function(a,c,d){function e(){if(p.Ah){var a=p.Ah.e();document[k]?(a.YT(),a.$T()):(p.$.e().SO(),a.$U(),a.aV())}}a=p.Pb(a)||p.Pb("#"+a);var f,g,h;"CANVAS"==a.tagName?(c=c||a.width,d=d||a.height,g=p.Zj=p.pk("DIV"),h=g.style,f=p.canvas=a,f.parentNode.insertBefore(g,f),f.Um(g),h.width=(c||480)+"px",h.height=(d||320)+"px",g.setAttribute("id","Cocos2dGameContainer"),h.margin="0 auto",f.setAttribute("width",c||480),f.setAttribute("height",d||320)):("DIV"!=a.tagName&&p.log("Warning: target element is not a DIV or CANVAS"),
c=c||a.clientWidth,d=d||a.clientHeight,f=p.canvas=p.pk("CANVAS"),f.OG("gameCanvas"),f.setAttribute("width",c||480),f.setAttribute("height",d||320),g=p.Zj=a,h=g.style,a.appendChild(f),h.width=(c||480)+"px",h.height=(d||320)+"px",h.margin="0 auto");h.position="relative";h.overflow="hidden";g.top="100%";if(!p.Qy){p.Ga.Rc&&(p.Y=p.Bba=p.eH(f,{stencil:!0,preserveDrawingBuffer:!0,antialias:!p.Ga.ek,alpha:!1}));p.Y?(p.Fd=p.wk,window.gl=p.Y,p.bg=new p.HL(p.Y),p.ga.e().cO()):(p.Y=f.getContext("2d"),p.xT=p.Y,
p.Fd=p.og,p.Y.translate(0,f.height),p.bg=p.eE?new p.eE(p.Y):null);p.TT=p.size(f.width,f.height);p.ER=g;p.log(p.kt);p.Ne.e();p.DV();p.Ga.ek&&p.dN();var k,l;"undefined"!==typeof document.hidden?(k="hidden",l="visibilitychange"):"undefined"!==typeof document.mozHidden?(k="mozHidden",l="mozvisibilitychange"):"undefined"!==typeof document.msHidden?(k="msHidden",l="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(k="webkitHidden",l="webkitvisibilitychange");"undefined"===typeof document.addEventListener||
"undefined"===typeof k?(p.lC=!1,window.addEventListener("focus",function(){if(p.Ah){var a=p.Ah.e();a.$U();a.aV()}},!1),window.addEventListener("blur",function(){if(p.Ah){var a=p.Ah.e();a.YT();a.$T()}},!1)):(p.lC=!0,document.addEventListener(l,e,!1))}};p.dN=function(){var a=document.createElement("style");a.type="text/css";document.body.appendChild(a);a.textContent="body,canvas,div{ -moz-user-select: none;-webkit-user-select: none;-ms-user-select: none;-khtml-user-select: none;-webkit-tap-highlight-color:rgba(0,0,0,0);}"};
p.DF=!1;p.DV=function(){p.DF=!1;p.canvas.oncontextmenu=p.DF?function(){}:function(){return!1}};p.nj=p.Ea.extend({bh:null,ctor:function(){this.bh=0;if(p.KA)throw"Application has been initialized";p.KA=this},Fs:function(a){this.bh=a},Caa:function(a){a&&p.rect(0,0,0,0)},b5:function(){return p.Ga.ek?p.IE.eM:p.IE.nM},cV:function(){if(!this.qQ())return 0;var a,c=p.$.e(),d=window;p.mR=c;d.RC&&this.bh==1/60?(a=function(){c.RI();d.RC(a)},d.RC(a)):(a=function(){c.RI()},setInterval(a,1E3*this.bh));return 0}});
p.nj.e=function(){return p.KA};p.nj.R2=function(){var a=p.TL,c=navigator.language;c||(c=navigator.browserLanguage||navigator.rba);if(!c)return a;c=c.toLowerCase();switch(c){case "zh-cn":a=p.SL;break;case "fr":a=p.UL;break;case "it":a=p.XL;break;case "de":a=p.VL;break;case "es":a=p.dM;break;case "ru":a=p.cM;break;case "ko":a=p.ZL;break;case "ja":a=p.YL;break;case "hu":a=p.WL;break;case "pt":a=p.bM;break;case "ar":a=p.RL;break;case "no":a=p.$L;break;case "pl":a=p.aM}return a};p.KA=null;p.tk=p.Ea.extend({Dba:null,SF:null,fp:null,Yz:null,ctor:function(){this.fp={};window.DOMParser?(this.Yz=!0,this.SF=new DOMParser):this.Yz=!1},parse:function(a){var c=a;a=this.MH(a);a=this.TF(a,c).documentElement;if("plist"!=a.tagName)throw"cocos2d: "+c+" is not a plist file or you forgot to preload the plist file";for(var c=null,d=0,e=a.childNodes.length;d<e&&(c=a.childNodes[d],1!=c.nodeType);d++);return this.hA(c)},cba:function(a,c){if(null==c||!1===c)a=this.MH(a);return this.TF(a)},TF:function(a,
c){var d;this.Yz?d=this.SF.parseFromString(a,"text/xml"):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(a));null==d&&p.log("cocos2d:xml "+c+" not found!");return d},hA:function(a){var c=null;switch(a.tagName){case "dict":c=this.zO(a);break;case "array":c=this.yO(a);break;case "string":if(1==a.childNodes.length)c=a.firstChild.nodeValue;else for(var c="",d=0;d<a.childNodes.length;d++)c+=a.childNodes[d].nodeValue;break;case "false":c=!1;break;case "true":c=!0;break;case "real":c=
parseFloat(a.firstChild.nodeValue);break;case "integer":c=parseInt(a.firstChild.nodeValue,10)}return c},yO:function(a){for(var c=[],d=0,e=a.childNodes.length;d<e;d++){var f=a.childNodes[d];1==f.nodeType&&c.push(this.hA(f))}return c},zO:function(a){for(var c={},d=null,e=0,f=a.childNodes.length;e<f;e++){var g=a.childNodes[e];1==g.nodeType&&("key"==g.tagName?d=g.firstChild.nodeValue:c[d]=this.hA(g))}return c},lU:function(a){a=p.Kd.e().xe(a);if(window.XMLHttpRequest){var c=new XMLHttpRequest;c.overrideMimeType&&
c.overrideMimeType("text/xml")}if(null!=c){var d=this;c.onreadystatechange=function(){4==c.readyState&&(c.responseText?(p.dc.e().li(),d.fp[a]=c.responseText,c=null):(p.dc.e().li(),p.log("cocos2d:There was a problem retrieving the xml data:"+c.statusText)))};c.open("GET",a,!0);c.send(null)}else throw"cocos2d:Your browser does not support XMLHTTP.";},eX:function(a){this.fp.hasOwnProperty(a)&&delete this.fp[a]},getName:function(a){return a.substring(a.lastIndexOf("/",a.length)+1,a.lastIndexOf(".",a.length))},
f3:function(a){return a.substring(a.lastIndexOf(".",a.length)+1,a.length)},MH:function(a){return null!=this.fp?this.fp[a]:null}});p.tk.e=function(){this.Kb||(this.Kb=new p.tk);return this.Kb};p.tk.Kb=null;p.Hx=p.Ea.extend({lR:function(){p.nj.e().cV();return!0},y0:function(){p.$.e().pause()},x0:function(){p.$.e().AJ()},pQ:function(){p.nj.e().pQ()},rQ:function(){p.nj.e().rQ()},z0:function(){}});p.Hx.IW=function(){null==p.kx&&(p.kx=new p.Hx);if(!p.kx)throw"Application initialize failure";return p.kx};p.kx=null;p.Q=p.u.extend({he:null,Jk:p.tj,cl:p.Yl,sf:null,Te:0,Fg:"",gA:null,Do:!1,Cj:null,Pj:!1,Am:null,Ro:0,Cr:0,Dv:null,Zk:!1,Hr:null,Wo:0,Fv:null,Xo:null,Pu:null,UA:0,VA:0,od:!1,bv:null,cv:null,ctor:function(){p.u.prototype.ctor.call(this);this.he=p.Xl();this.Jk=p.jq;this.cl=p.Yl;this.pc=!1;this.Cj="";this.sf="Arial";this.Pj=this.Do=!1;this.Am=p.Xl();this.Cr=this.Ro=0;this.Dv="rgba(128, 128, 128, 0.5)";this.Zk=!1;this.Hr=p.vb();this.Wo=0;this.Fv="";this.Xo=p.vb();this.Pu="rgba(255,255,255,1)";this.VA=this.UA=
0;this.od=!1;this.Th()},r:function(){return this.nl(" ",this.sf,this.Te)},oO:function(){this.Nz().font=this.Cj},nr:function(a){return this.Nz().measureText(a).width},rN:function(a,c){var d=this.nr(a),e=Math.floor(a.length*c/d),f=a.indexOf("\n");if(0.8*e>=f&&0<f)return f+1;if(d<c)return a.length;for(var d=!1,f=c+1,g=-1,h=e,k,l=p.Q.sN,m=p.Q.UO,n=p.Q.qN,t=a.substr(e);k=l.exec(t);){h+=k[0].length;if("\n"==k[2]){d=!0;g=h;break}f=this.nr(a.substr(0,h));if(f>c){-1!=g&&(d=!0);break}g=h;t=a.substr(h)}if(d)return g;
t=a.substr(0,e);for(g=e;k=m.exec(t);)if(g=k[1].length,t=k[1],f=this.nr(t),f<c){n.test(k[2])&&g++;break}return g},description:function(){return"\x3ccc.LabelTTF | FontName \x3d"+this.sf+" FontSize \x3d "+this.Te.toFixed(1)+"\x3e"},m:null,xr:function(a){p.Bb.prototype.m.call(this,a);this.bG()},Th:null,bG:function(){this.od=!0;var a=this.Ic,c=this.Zb,d=this.Hr,e=this.Xo;this.Dv="rgba("+(0|0.5*a.o)+","+(0|0.5*a.n)+","+(0|0.5*a.i)+","+this.Ro+")";this.Pu="rgba("+(0|a.o/255*e.o)+","+(0|a.n/255*e.n)+","+
(0|a.i/255*e.i)+", "+c/255+")";this.Fv="rgba("+(0|a.o/255*d.o)+","+(0|a.n/255*d.n)+","+(0|a.i/255*d.i)+", "+c/255+")"},cP:function(){this.od=!0;var a=this.Hr,c=this.Xo;this.Dv="rgba(128,128,128,"+this.Ro+")";this.Pu="rgba("+(0|c.o)+","+(0|c.n)+","+(0|c.i)+", 1)";this.Fv="rgba("+(0|a.o)+","+(0|a.n)+","+(0|a.i)+", 1)"},jd:null,aB:function(a){p.Bb.prototype.jd.call(this,a);this.Th()},pa:null,zr:function(a){this.Li!==a&&(p.u.prototype.pa.call(this,a),this.Th(),this.od=!0)},kd:null,nba:function(a){p.Bb.prototype.kd.call(this,
a);this.Th()},SB:function(){return this.Fg},r3:function(){return this.Jk},v5:function(){return this.cl},a3:function(){return p.size(this.he.width,this.he.height)},l3:function(){return this.Te},k3:function(){return this.sf},nl:function(a,c,d,e,f,g){a=a?a+"":"";d=d||16;e=e||p.size(0,d);f=f||p.jq;g=g||p.Yl;return p.u.prototype.r.call(this)?(this.pc=!1,this.he=p.size(e.width,e.height),this.sf=c||"Arial",this.Jk=f,this.cl=g,this.Te=d,this.Cj=this.Te+"px '"+c+"'",this.Bj=p.Q.pu(c,this.Te),this.fa(a),this.Th(),
this.cB(),this.od=!1,!0):!1},hC:null,ZN:function(a,c){if(!p.u.prototype.r.call(this))return!1;this.dB(c,!1);this.fa(a);return!0},$N:function(a,c){if(!p.u.prototype.r.call(this))return!1;this.Sg(p.Fh.e().mi(p.Q.TM));this.dB(c,!1);this.fa(a);return!0},X$:function(a){a&&this.dB(a,!0)},c5:function(){return this.DO(!1)},yR:function(a,c,d){c=c||0.5;!1===this.Pj&&(this.Pj=!0);var e=this.Am;if(e&&e.width!=a.width||e.height!=a.height)e.width=a.width,e.height=a.height;this.Ro!=c&&(this.Ro=c);this.Th();this.Cr!=
d&&(this.Cr=d);this.od=!0},w1:function(){this.Pj&&(this.Pj=!1,this.od=!0)},zR:function(a,c){!1===this.Zk&&(this.Zk=!0);var d=this.Hr;if(d.o!==a.o||d.n!==a.n||d.i!==a.i)d.o=a.o,d.n=a.n,d.i=a.i,this.Th();this.Wo!==c&&(this.Wo=c||0);this.od=!0},x1:function(){this.Zk&&(this.Zk=!1,this.od=!0)},bD:null,gP:function(a){var c=this.Xo;if(c.o!=a.o||c.n!=a.n||c.i!=a.i)c.o=a.o,c.n=a.n,c.i=a.i,this.Th(),this.od=!0},hP:function(a){var c=this.Xo;if(c.o!=a.o||c.n!=a.n||c.i!=a.i)c.o=a.o,c.n=a.n,c.i=a.i,this.Th(),this.od=
!0},dB:function(a,c){a.es?(this.he.width=a.es.width,this.he.height=a.es.height):(this.he.width=0,this.he.height=0);this.Jk=a.BH;this.cl=a.CH;this.sf=a.fs;this.Te=a.fontSize||12;this.Cj=this.Te+"px '"+this.sf+"'";this.Bj=p.Q.pu(this.sf,this.Te);a.BK&&this.yR(a.CK,a.DK,a.shadowBlur,!1);a.wD&&this.zR(a.strokeColor,a.OK,!1);this.bD(a.DH,!1);c&&this.cB()},DO:function(a){var c=new p.KL;a?(c.fontSize=this.Te,c.es=p.wy(this.he)):(c.fontSize=this.Te,c.es=p.size(this.he.width,this.he.height));c.fs=this.sf;
c.BH=this.Jk;c.CH=this.cl;if(this.Zk){c.wD=!0;var d=this.Hr;c.strokeColor=new p.tc(d.o,d.n,d.i);c.OK=this.Wo}else c.wD=!1;this.Pj?(c.BK=!0,c.shadowBlur=this.Cr,c.DK=this.Ro,c.CK=a?p.wy(this.Am):p.size(this.Am.width,this.Am.height)):c.Pj=!1;a=this.Xo;c.DH=new p.tc(a.o,a.n,a.i);return c},Bj:18,fa:function(a){a=String(a);this.gA!=a&&(this.gA=a+"",this.DG(),this.od=!0)},DG:function(){this.Fg=this.gA},X9:function(a){a!==this.Jk&&(this.Jk=a,this.od=!0)},jaa:function(a){a!=this.cl&&(this.cl=a,this.od=!0)},
Ab:function(a){if(a.width!=this.he.width||a.height!=this.he.height)this.he=a,this.DG(),this.od=!0},Zw:function(a){this.Te!==a&&(this.Te=a,this.Cj=a+"px '"+this.sf+"'",this.Bj=p.Q.pu(this.sf,a),this.od=!0)},cD:function(a){this.sf&&this.sf!=a&&(this.sf=a,this.Cj=this.Te+"px '"+a+"'",this.Bj=p.Q.pu(a,this.Te),this.od=!0)},IN:function(a){if(a){var c=this.UA,d=this.VA,e=this.xa.va-d,f=this.cl,g=this.Jk,h=this.Bj,k=this.Wo;a.setTransform(1,0,0,1,0+0.5*c,e+0.5*d);a.font!=this.Cj&&(a.font=this.Cj);a.fillStyle=
this.Pu;var l=d=0,m=this.Zk;m&&(a.lineWidth=2*k,a.strokeStyle=this.Fv);this.Pj&&(k=this.Am,a.shadowColor=this.Dv,a.shadowOffsetX=k.width,a.shadowOffsetY=-k.height,a.shadowBlur=this.Cr);a.textBaseline=p.Q.GP[f];a.textAlign=p.Q.FP[g];c=this.xa.Ha-c;d=g===p.HM?d+c:g===p.tj?d+c/2:d+0;if(this.Do)for(g=this.Rj.length,f===p.My?l=h+e-h*g:f===p.mu&&(l=h/2+(e-h*g)/2),f=0;f<g;f++)c=this.Rj[f],k=-e+h*f+l,m&&a.strokeText(c,d,k),a.fillText(c,d,k);else f!==p.My&&(l=f===p.Yl?l-e:l-0.5*e),m&&a.strokeText(this.Fg,
d,l),a.fillText(this.Fg,d,l)}},Nz:function(){if(this.cv)return this.cv;if(!this.bv){var a=document.createElement("canvas"),c=new p.ec;c.Ef(a);this.ia(c);this.bv=a}return this.cv=this.bv.getContext("2d")},EG:function(){var a=this.he.width,c,d;this.HF=[];this.Do=!1;this.oO();if(0!==a){var e=this.Fg;this.Rj=[];c=0;for(d=this.Fg.length;c<d;){var f=this.rN(e.substr(c),a);this.Rj.push(e.substr(c,f));c+=f}}else for(this.Rj=this.Fg.split("\n"),c=0,d=this.Rj.length;c<d;c++)this.HF.push(this.nr(this.Rj[c]));
0<this.Rj.length&&(this.Do=!0);d=c=0;this.Zk&&(c=d=2*this.Wo);this.Pj&&(e=this.Am,c+=2*Math.abs(e.width),d+=2*Math.abs(e.height));a=0===a?this.Do?p.size(0|Math.max.apply(Math,this.HF)+c,0|this.Bj*this.Rj.length+d):p.size(0|this.nr(this.Fg)+c,0|this.Bj+d):0===this.he.height?this.Do?p.size(0|a+c,0|this.Bj*this.Rj.length+d):p.size(0|a+c,0|this.Bj+d):p.size(0|a+c,0|this.he.height+d);this.R(a);this.UA=c;this.VA=d;e=this.Gh;this.Md.G=0.5*c+(a.width-c)*e.G;this.Md.O=0.5*d+(a.height-d)*e.O},c:function(){this.od&&
this.EG();return p.u.prototype.c.call(this)},cB:function(){var a=this.Nz(),c=this.bv,d=this.xa;if(0===this.Fg.length)return c.width=1,c.height=d.va,this.Ub(p.rect(0,0,1,d.va)),!0;a.font=this.Cj;this.EG();var e=d.Ha,d=d.va,f=c.width==e&&c.height==d;c.width=e;c.height=d;f&&a.clearRect(0,0,e,d);this.IN(a);this.Fa.Fe();this.Ub(p.rect(0,0,e,d));return!0},ua:function(a){this.Fg&&""!=this.Fg&&(this.od&&(this.od=!1,this.cB()),p.u.prototype.ua.call(this,a||p.Y))},Oa:null,xg:function(a){if(this.Fg&&""!=this.Fg){a=
a||p.Y;var c=this.Fa;c&&c.vc&&(this.Kc.pf(),this.Kc.Tg(),p.ck(this.ja.src,this.ja.Ib),p.Kg(c),p.Ae(p.lu),a.bindBuffer(a.ARRAY_BUFFER,this.xv),this.wf&&(a.bufferData(a.ARRAY_BUFFER,this.Nb.pB,a.STATIC_DRAW),this.wf=!1),a.vertexAttribPointer(p.Qe,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(p.mq,2,a.FLOAT,!1,24,16),a.vertexAttribPointer(p.lq,4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));1===p.uk?(a=this.Nb,a=[p.a(a.Ta.s.x,a.Ta.s.y),p.a(a.Ka.s.x,a.Ka.s.y),p.a(a.Va.s.x,a.Va.s.y),p.a(a.Na.s.x,
a.Na.s.y)],p.bg.se(a,4,!0)):2===p.uk&&(a=this.TB().Ra,c=this.ic,a=[p.a(c.x,c.y),p.a(c.x+a.width,c.y),p.a(c.x+a.width,c.y+a.height),p.a(c.x,c.y+a.height)],p.bg.se(a,4,!0));p.ei++}},JA:function(a,c,d){this.bd=c||!1;d=d||a.Ra;this.R(d);this.oD(a);c=this.Zo;c.x=a.x;c.y=a.y;c.width=a.width;c.height=a.height;c.Zs=!(0===c.width||0===c.height);a=this.Xh;this.nc&&(a.G=-a.G);this.oc&&(a.O=-a.O);this.ic.G=a.x+(this.xa.Ha-this.za.width)/2;this.ic.O=a.y+(this.xa.va-this.za.height)/2;this.kb&&(this.Ja=!0)},eG:function(a){var c=
this.kb?this.Sa.ea():this.Fa;if(c){var d=c.qp(),e=c.pp(),f,g=this.Nb;this.bd?(p.Et?(c=(2*a.x+1)/(2*d),d=c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/d,f=a.y/e,a=(a.y+a.width)/e),this.nc&&(e=f,f=a,a=e),this.oc&&(e=c,c=d,d=e),g.Ka.B.Pa=c,g.Ka.B.na=f,g.Va.B.Pa=c,g.Va.B.na=a,g.Ta.B.Pa=d,g.Ta.B.na=f,g.Na.B.Pa=d,g.Na.B.na=a):(p.Et?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+
a.height)/e),this.nc&&(e=c,c=d,d=e),this.oc&&(e=f,f=a,a=e),g.Ka.B.Pa=c,g.Ka.B.na=a,g.Va.B.Pa=d,g.Va.B.na=a,g.Ta.B.Pa=c,g.Ta.B.na=f,g.Na.B.Pa=d,g.Na.B.na=f);this.wf=!0}}});
p.Ga.Rc?(b=p.Q.prototype,b.m=p.u.prototype.m,b.Th=p.Q.prototype.cP,b.jd=p.u.prototype.jd,b.pa=p.u.prototype.pa,b.kd=p.u.prototype.kd,b.hC=p.Q.prototype.$N,b.bD=p.Q.prototype.hP,b.Oa=p.Q.prototype.xg,b.Ub=p.u.prototype.fG):(b=p.Q.prototype,b.m=p.Q.prototype.xr,b.Th=p.Q.prototype.bG,b.jd=p.Q.prototype.aB,b.pa=p.Q.prototype.zr,b.kd=p.Q.prototype.AG,b.hC=p.Q.prototype.ZN,b.bD=p.Q.prototype.gP,b.Oa=p.u.prototype.Oa,b.Ub=p.Q.prototype.JA);p.Q.FP=["left","center","right"];p.Q.GP=["top","middle","bottom"];
p.Q.sN=/(.+?)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;p.Q.UO=/(.*)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;p.Q.qN=/[\s\-\/\\\:]/;p.Q.create=function(a,c,d,e,f,g){var h=new p.Q;return h.nl(a,c,d,e,f,g)?h:null};p.Q.m1=function(a,c){var d=new p.Q;return d&&d.hC(a,c)?d:null};p.Q.TM=p.PM?p.vy:p.EZ;p.Q.Zl=document.createElement("div");p.Q.Zl.style.fontFamily="Arial";p.Q.Zl.style.position="absolute";p.Q.Zl.style.left="-100px";p.Q.Zl.style.top="-100px";p.Q.Zl.style.lineHeight="normal";
document.body.appendChild(p.Q.Zl);p.Q.pu=function(a,c){var d=p.Q.WE[a+"."+c];if(0<d)return d;var e=p.Q.Zl;e.innerHTML="ajghl~!";e.style.fontFamily=a;e.style.fontSize=c+"px";d=e.clientHeight;p.Q.WE[a+"."+c]=d;e.innerHTML="";return d};p.Q.WE={};p.NL=p.Ea.extend({Mc:null,target:null,Sm:0,sh:null,Wm:!1,paused:!1,aC:null,ctor:function(){this.Mc=[];this.T=null;this.Sm=0;this.sh=null;this.paused=this.Wm=!1;this.aC=null}});
p.lL=p.Ea.extend({Kh:null,$n:null,rf:null,Di:!1,V_:function(a,c){for(var d=0;d<a.length;d++)if(c==a[d].target)return a[d];return null},ctor:function(){this.Kh={};this.$n=[];this.rf=null;this.Di=!1},aQ:function(a,c,d){if(!a)throw"cc.ActionManager.addAction(): action must be non-null";if(!c)throw"cc.ActionManager.addAction(): action must be non-null";var e=this.Kh[c.gc];e||(e=new p.NL,e.paused=d,e.target=c,this.Kh[c.gc]=e,this.$n.push(e));this.YM(e);e.Mc.push(a);a.ba(c)},L8:function(){for(var a=this.$n,
c=0;c<a.length;c++){var d=a[c];d&&this.vJ(d.target,!0)}},vJ:function(a,c){if(null!=a){var d=this.Kh[a.gc];d&&(-1===d.Mc.indexOf(d.sh)||d.Wm||(d.Wm=!0),d.Mc=[],this.rf!=d||c?this.tz(d):this.Di=!0)}},uJ:function(a){if(null!=a){var c=this.Kh[a.tm.gc];if(c)for(var d=0;d<c.Mc.length;d++){if(c.Mc[d]==a){c.Mc.splice(d,1);break}}else p.log("cocos2d: removeAction: Target not found")}},JU:function(a,c){a==p.In&&p.log("cc.ActionManager.removeActionByTag(): an invalid tag");if(!c)throw"cc.ActionManager.removeActionByTag(): target must be non-null";
var d=this.Kh[c.gc];if(d)for(var e=d.Mc.length,f=0;f<e;++f){var g=d.Mc[f];if(g&&g.sd===a&&g.tm==c){this.HO(f,d);break}}},LB:function(a,c){a==p.In&&p.log("cc.ActionManager.getActionByTag(): an invalid tag");var d=this.Kh[c.gc];if(d){if(null!=d.Mc)for(var e=0;e<d.Mc.length;++e){var f=d.Mc[e];if(f&&f.sd===a)return f}p.log("cocos2d : getActionByTag(tag \x3d"+a+"): Action not found")}return null},CT:function(a){return(a=this.Kh[a.gc])?a.Mc?a.Mc.length:0:0},Bs:function(a){if(a=this.Kh[a.gc])a.paused=!0},
rn:function(a){if(a=this.Kh[a.gc])a.paused=!1},p8:function(){for(var a=[],c=this.$n,d=0;d<c.length;d++){var e=c[d];e&&!e.paused&&(e.paused=!0,a.push(e.target))}return a},bV:function(a){if(a)for(var c=0;c<a.length;c++)a[c]&&this.rn(a[c])},z8:function(){p.$.e().Df().Up(this)},HO:function(a,c){c.Mc[a]!=c.sh||c.Wm||(c.Wm=!0);p.Xp(c.Mc,a);c.Sm>=a&&c.Sm--;0==c.Mc.length&&(this.rf==c?this.Di=!0:this.tz(c))},tz:function(a){a&&(delete this.Kh[a.target.gc],p.Zd(this.$n,a),a.Mc=null,a.target=null)},YM:function(a){null==
a.Mc&&(a.Mc=[])},update:function(a){for(var c=this.$n,d,e=0;e<c.length;e++){d=this.rf=c[e];if(!d.paused)for(d.Sm=0;d.Sm<d.Mc.length;d.Sm++)if(d.sh=d.Mc[d.Sm],d.sh){d.Wm=!1;d.sh.step(a);if(d.Wm)d.sh=null;else if(d.sh.ii()){d.sh.stop();var f=d.sh;d.sh=null;this.uJ(f)}d.sh=null}this.Di&&0===d.Mc.length&&this.tz(d)}}});p.qf=p.Ea.extend({M:null,vv:p.qj(),Nf:0,ctor:function(a,c,d){this.M=p.a(a||0,c||0);this.Nf=d||0},D3:function(){return this.M},dS:function(){return this.vv},X2:function(){return p.Ed(this.M,this.vv)},u3:function(){return this.Nf},v3:function(){return this.Nf},lD:function(a,c,d){this.vv=this.M;this.M=p.a(c||0,d||0);this.Nf=a},Vf:function(a,c){this.vv=p.a(a||0,c||0)}});
p.RE=p.Ea.extend({A_:null,lb:function(){return!1},vd:function(){},Ff:function(){},hk:function(){},bJ:function(){},eJ:function(){},dJ:function(){},cJ:function(){},gba:function(){},fba:function(){}});p.YZ=p.RE.extend({lb:function(){return!1},vd:function(){},Ff:function(){},hk:function(){}});p.OZ=p.RE.extend({bJ:function(){},eJ:function(){},dJ:function(){},cJ:function(){}});p.Xn=p.Ea.extend({Ba:null,vf:0,uo:0,jc:function(){return this.Ba},ig:function(a){this.Ba=a},eS:function(){return this.vf},Ls:function(a){this.vf=a},NR:function(){return this.uo},IV:function(a){this.uo=a},dk:function(a,c){if(!a)throw"cc.TouchHandler.initWithDelegate(): touch delegate should not be null";this.Ba=a;this.vf=c;this.uo=0;return!0}});p.Xn.create=function(a,c){var d=new p.Xn;d&&d.dk(a,c);return d};p.Ay=p.Xn.extend({dk:function(a,c){return p.Xn.prototype.dk.call(this,a,c)}});
p.Ay.create=function(a,c){var d=new p.Ay;d&&d.dk(a,c);return d};p.eu=p.Xn.extend({Jv:!1,po:null,K6:function(){return this.Jv},U$:function(a){this.Jv=a},I2:function(){return this.po},dk:function(a,c,d){return p.Xn.prototype.dk.call(this,a,c)?(this.po=[],this.Jv=d,!0):!1}});p.eu.create=function(a,c,d){var e=new p.eu;e&&e.dk(a,c,d);return e};p.KM=1;p.NM=2;p.MM=4;p.LM=8;p.a_=p.KM|p.NM|p.MM|p.LM;p.Ey=0;p.Hy=1;p.Gy=2;p.Fy=3;p.$Z=4;p.LI=function(a,c){return a.vf>c.vf};p.iu=function(a){this.type=a};
p.la=p.Ea.extend({Mj:!1,af:null,$e:null,pm:!1,Pr:!1,Tv:!1,Kk:null,Ej:null,Sv:!1,zj:!1,SN:[new p.iu(p.Ey),new p.iu(p.Hy),new p.iu(p.Gy),new p.iu(p.Fy)],r:function(){this.zj=!0;this.af=[];this.$e=[];this.Kk=[];this.Ej=[];this.Mj=this.pm=this.Sv=this.Pr=this.Tv=!1;p.la.FU();return!0},yr:function(a){this.Mj=a},NN:function(){return this.Mj},k6:function(){return this.zj},GV:function(a){this.zj=a},bN:function(a,c){var d=p.Ay.create(a,c||0);this.pm?-1!=this.Ej.indexOf(a)?p.Zd(this.Ej,a):(this.Kk.push(d),
this.Pr=!0):this.$e=this.jp(d,this.$e)},cN:function(a,c,d){c=p.eu.create(a,c,d);this.pm?-1!=this.Ej.indexOf(a)?p.Zd(this.Ej,a):(this.Kk.push(c),this.Pr=!0):this.af=this.jp(c,this.af)},jp:function(a,c){for(var d=0,e,f=0;f<c.length;f++)if(e=c[f])if(e.vf<a.vf&&++d,e.jc()==a.jc())return p.log("cc.TouchDispatcher.forceAddHandler(): The handler has been added."),c;return p.Rl(c,a,d)},EH:function(){this.$e.length=0;this.af.length=0},KO:function(a){if(null!=a)if(this.pm){var c=this.zH(this.Kk,a);c?p.Zd(this.Kk,
c):(this.Ej.push(a),this.Tv=!0)}else this.FH(a)},LU:function(){this.pm?this.Sv=!0:this.EH()},Ls:function(a,c){if(!c)throw"cc.TouchDispatcher.setPriority(): delegate should be non-null.";var d=this.zH(c);d?d.vf!=a&&(d.Ls(a),this.pJ(this.af),this.pJ(this.$e)):p.log("cc.TouchDispatcher.setPriority(): Can't find TouchHandler.")},touches:function(a,c,d){if(0>d||4<=d)throw"cc.TouchDispatcher.touches(): invalid index";this.pm=!0;var e=this.af.length,f=this.$e.length,g=e&&f,h=g?a.slice():a,k=this.SN[d];if(0<
e)for(var l,m,n=0;n<a.length;n++)for(var e=a[n],t=0;t<this.af.length;t++){l=this.af[t];if(!l)break;m=!1;if(d==p.Ey)l.jc().lb&&(m=l.jc().lb(e,c))&&l.po.push(e);else if(0<l.po.length)switch(m=!0,k.type){case p.Hy:p.Ga.ek?l.jc().vd&&l.jc().vd(e,c):this.Mj&&l.jc().vd&&l.jc().vd(e,c);break;case p.Gy:l.jc().Ff&&l.jc().Ff(e,c);l.po.length=0;break;case p.Fy:l.jc().hk&&l.jc().hk(e,c),l.po.length=0}if(m&&l.Jv){g&&p.Zd(h,e);break}}if(0<f)for(n=0;n<this.$e.length&&(l=this.$e[n],l);n++);this.pm=!1;if(this.Tv){this.Tv=
!1;for(n=0;n<this.Ej.length;n++)this.FH(this.Ej[n]);this.Ej.length=0}if(this.Pr){this.Pr=!1;for(n=0;n<this.Kk.length;n++){l=this.Kk[n];if(!l)break;l instanceof p.eu?this.af=this.jp(l,this.af):this.$e=this.jp(l,this.$e)}this.Kk.length=0}this.Sv&&(this.Sv=!1,this.EH())},wx:function(a,c){this.zj&&this.touches(a,c,p.Ey)},xx:function(a,c){this.zj&&this.touches(a,c,p.Hy)},Ts:function(a,c){this.zj&&this.touches(a,c,p.Gy)},BD:function(a,c){this.zj&&this.touches(a,c,p.Fy)},zH:function(a,c){switch(arguments.length){case 1:c=
arguments[0];if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(var d=0;d<this.af.length;d++)if(this.af[d].jc()==c)return this.af[d];for(d=0;d<this.$e.length;d++)if(this.$e[d].jc()==c)return this.$e[d];return null;case 2:if(!a)throw"cc.TouchDispatcher.findHandler(): array should be non-null.";if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(d=0;d<a.length;d++)if(a[d].jc()==c)return a[d];return null;default:throw"Argument must be non-nil ";
}},FH:function(a){for(var c,d=0;d<this.$e.length;d++)if((c=this.$e[d])&&c.jc()==a){p.Zd(this.$e,c);break}for(d=0;d<this.af.length;d++)if((c=this.af[d])&&c.jc()==a){p.Zd(this.af,c);break}},pJ:function(a){a.sort(p.LI)}});p.la.sb=p.a(0,0);p.la.CI=!1;
p.Ti=function(a){var c=document.documentElement,d=window,e=null,e="function"===typeof a.getBoundingClientRect?a.getBoundingClientRect():a instanceof HTMLCanvasElement?{left:0,top:0,width:a.width,height:a.height}:{left:0,top:0,width:parseInt(a.style.width),height:parseInt(a.style.height)};return{left:e.left+d.pageXOffset-c.clientLeft,top:e.top+d.pageYOffset-c.clientTop,width:e.width,height:e.height}};
p.vM=function(a,c){var d=p.Ti(a),e,f;null!=c.pageX?(e=c.pageX,f=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,e=c.clientX,f=c.clientY);e=p.sa.e().$j(e,f,d);d=new p.qf(e.x,e.y);d.Vf(p.la.sb.x,p.la.sb.y);p.la.sb.x=e.x;p.la.sb.y=e.y;e=[];e.push(d);p.sa.e().Ts(e,null)};
p.la.FU=function(){var a=p.canvas;if(!p.la.CI){if(p.Ga.ek)if(window.navigator.msPointerEnabled){var c={MSPointerDown:"touchesBegan",MSPointerMove:"touchesMoved",MSPointerUp:"touchesEnded",MSPointerCancel:"touchesCancelled"},d;for(d in c)(function(c,d){a.addEventListener(c,function(c){var e=p.Ti(a);e.left-=document.body.scrollLeft;e.top-=document.body.scrollTop;var k,l;k=c.clientX;l=c.clientY;k=p.sa.e().$j(k,l,e);e=new p.qf(k.x,k.y);e.Vf(p.la.sb.x,p.la.sb.y);p.la.sb.x=k.x;p.la.sb.y=k.y;p.$.e().cf[d]([e],
null);c.stopPropagation();c.preventDefault()},!1)})(d,c[d])}else a.addEventListener("touchstart",function(c){if(c.changedTouches){var d=[],g=p.Ti(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=p.sa.e().$j(k,l,g),h.hasOwnProperty("identifier")?(h=new p.qf(k.x,k.y,h.identifier),l=p.la.Su(h).M,h.Vf(l.x,l.y),p.la.cG(h)):(h=new p.qf(k.x,k.y),h.Vf(p.la.sb.x,p.la.sb.y)),p.la.sb.x=k.x,
p.la.sb.y=k.y,d.push(h);p.sa.e().wx(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchmove",function(c){if(c.changedTouches){var d=[],g=p.Ti(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=p.sa.e().$j(k,l,g),h.hasOwnProperty("identifier")?(h=new p.qf(k.x,k.y,h.identifier),l=p.la.Su(h).M,h.Vf(l.x,l.y),p.la.cG(h)):(h=new p.qf(k.x,k.y),h.Vf(p.la.sb.x,p.la.sb.y)),
p.la.sb.x=k.x,p.la.sb.y=k.y,d.push(h);p.sa.e().xx(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchend",function(c){if(c.changedTouches){var d=[],g=p.Ti(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=p.sa.e().$j(k,l,g),h.hasOwnProperty("identifier")?(h=new p.qf(k.x,k.y,h.identifier),l=p.la.Su(h).M,h.Vf(l.x,l.y),p.la.mF(h)):(h=new p.qf(k.x,k.y),h.Vf(p.la.sb.x,
p.la.sb.y)),p.la.sb.x=k.x,p.la.sb.y=k.y,d.push(h);p.sa.e().Ts(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchcancel",function(c){if(c.changedTouches){var d=[],g=p.Ti(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=p.sa.e().$j(k,l,g),h.hasOwnProperty("identifier")?(h=new p.qf(k.x,k.y,h.identifier),l=p.la.Su(h).M,h.Vf(l.x,l.y),p.la.mF(h)):(h=new p.qf(k.x,
k.y),h.Vf(p.la.sb.x,p.la.sb.y)),p.la.sb.x=k.x,p.la.sb.y=k.y,d.push(h);p.sa.e().BD(d,null);c.stopPropagation();c.preventDefault()}},!1);else window.addEventListener("mousedown",function(){p.$.e().cf.yr(!0)}),window.addEventListener("mouseup",function(c){p.$.e().cf.yr(!1);var d=p.Ti(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);p.bb(new p.rg(d.left,d.top,d.width,d.height),p.a(g,c))||(g=p.sa.e().$j(g,c,d),d=new p.qf(g.x,
g.y),d.Vf(p.la.sb.x,p.la.sb.y),p.la.sb.x=g.x,p.la.sb.y=g.y,g=[],g.push(d),p.sa.e().Ts(g,null))}),a.addEventListener("mousedown",function(c){var d=p.Ti(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=p.sa.e().$j(g,c,d);d=new p.qf(g.x,g.y);d.Vf(p.la.sb.x,p.la.sb.y);p.la.sb.x=g.x;p.la.sb.y=g.y;g=[];g.push(d);p.sa.e().wx(g,null)}),a.addEventListener("mouseup",function(c){p.vM(a,c)}),a.addEventListener("mousemove",function(c){var d=
p.Ti(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=p.sa.e().$j(g,c,d);d=new p.qf(g.x,g.y);d.Vf(p.la.sb.x,p.la.sb.y);p.la.sb.x=g.x;p.la.sb.y=g.y;g=[];g.push(d);p.sa.e().xx(g,null)});p.la.CI=!0}};p.la.Su=function(a){for(var c=null,d=p.la.nA,e=a.Nf,f=d.length-1;0<=f;f--)if(d[f].Nf==e){c=d[f];break}c||(c=a);return c};
p.la.cG=function(a){for(var c=!1,d=p.la.nA,e=a.Nf,f=d.length-1;0<=f;f--)if(d[f].Nf==e){d[f]=a;c=!0;break}c||(50>=d.length?d.push(a):(d[p.la.oA]=a,p.la.oA=(p.la.oA+1)%50))};p.la.mF=function(a){var c,d=p.la.nA;c=a.Nf;for(a=d.length-1;0<=a;a--)if(d[a].Nf==c){c=d.pop();a!=d.length&&(d[a]=c);break}};p.la.nA=[];p.la.oA=0;p.KC=function(a,c,d){p.$.e().cf.cN(d,a,c)};p.GU=function(a,c){p.$.e().cf.bN(a,c)};p.UK=function(a){p.$.e().cf.KO(a)};p.fM=1;p.mE=2;p.RY=4;p.jM=8;p.rZ=16;p.sZ=32;p.tZ=64;p.dZ=128;p.eZ=256;p.fZ=512;p.EE=1024;p.gM=2048;p.hM=4096;p.iM=0;p.SY=1;p.nE=2;p.UY=p.Ea.extend({FT:function(){return!1},GT:function(){return!1},dj:function(){return!1},JT:function(){return!1},OT:function(){return!1},PT:function(){return!1},QT:function(){return!1},LT:function(){return!1},MT:function(){return!1},NT:function(){return!1},RT:function(){return!1},HT:function(){return!1},IT:function(){return!1}});
p.kM=p.qf.extend({HG:0,eF:p.iM,A5:function(){return this.HG},xK:function(a){this.HG=a},A2:function(){return this.eF},vV:function(a){this.eF=a}});p.ky=p.Ea.extend({Ba:null,vf:0,uo:0,jc:function(){return this.Ba},ig:function(a){this.Ba=a},eS:function(){return this.vf},Ls:function(a){this.vf=a},NR:function(){return this.uo},IV:function(a){this.uo=a},dk:function(a,c){this.Ba=a;this.vf=c}});p.ky.create=function(a,c){var d=new p.ky;d.dk(a,c);return d};
p.ce=p.Ea.extend({Mj:!1,zv:!1,Of:null,zj:!1,r:function(){this.zj=!0;this.Of=[];this.zv=this.Mj=!1;p.ce.FO();return!0},yr:function(a){this.Mj=a},NN:function(){return this.Mj},dG:function(a){this.zv=a},H_:function(){return this.zv},QG:function(a,c){var d=p.ky.create(a,c);this.Of=this.jp(d,this.Of)},jp:function(a,c){for(var d=0,e=0;e<c.length;e++){var f=c[e];if(f&&(f.vf<a.vf&&++d,f.jc()==a.jc()))return p.log("cc.MouseDispatcher.forceAddHandler(): handler has been added."),c}return p.Rl(c,a,d)},wJ:function(a){if(null!=
a)for(var c=0;c<this.Of.length;c++){var d=this.Of[c];if(d&&d.jc()==a){p.Zd(this.Of,d);break}}},LN:function(a){for(var c=0;c<this.Of.length;c++)if(this.Of[c]&&this.Of[c].jc()==a)return this.Of[c];return null},Ls:function(a,c){if(!c)throw"cc.MouseDispatcher.setPriority(): delegate should be non-null";var d=this.LN(c);d?d.vf!=a&&(d.Ls(a),this.Of.sort(p.LI)):p.log("cc.MouseDispatcher.setPriority(): Can't find MouseHandler in array")},O8:function(){this.Of.length=0},en:function(a,c,d){for(c=0;c<this.Of.length;c++){var e=
this.Of[c];switch(d){case p.mE:this.Mj||this.zv||!e.jc().dj||e.jc().dj(a)}}}});p.ce.uv=p.a(0,0);p.ce.iO=!1;
p.ce.FO=function(){var a=p.canvas;function c(c){var e=p.Ti(a),f=c.pageX,g=c.pageY,h=p.sa.e(),f=(f-e.left)/h.ta,e=(e.height-(g-e.top))/h.Aa,g=new p.kM(f,e);g.Vf(p.ce.uv.x,p.ce.uv.y);g.vV(c.button);p.ce.uv.x=f;p.ce.uv.y=e;return g}p.ce.iO||(window.addEventListener("mousedown",function(a){a.button==p.nE?p.$.e().Cf().dG(!0):p.$.e().Cf().yr(!0)}),window.addEventListener("mouseup",function(a){a.button==p.nE?p.$.e().Cf().dG(!1):p.$.e().Cf().yr(!1)}),a.addEventListener("mousedown",function(a){p.$.e().Cf().en(c(a),
a,p.fM)}),a.addEventListener("mouseup",function(a){p.$.e().Cf().en(c(a),a,p.jM)}),a.addEventListener("mousemove",function(a){p.$.e().Cf().en(c(a),a,p.mE)}),a.addEventListener("mousewheel",function(a){var e=c(a);e.xK(a.wheelDelta);p.$.e().Cf().en(e,a,p.EE)},!1),a.addEventListener("DOMMouseScroll",function(a){var e=c(a);e.xK(-120*a.detail);p.$.e().Cf().en(e,a,p.EE)}),a.addEventListener("mouseout",function(a){p.$.e().Cf().en(c(a),a,p.hM)},!1),a.addEventListener("mouseover",function(a){p.$.e().Cf().en(c(a),
a,p.gM)},!1))};p.uba=function(){return{x:0,y:0}};p.Nl=function(a,c){return{x:a,y:c}};p.Vg=function(a,c){return p.Nl(a.x+c.x,a.y+c.y)};p.wd=function(a,c){return p.Nl(a.x-c.x,a.y-c.y)};p.ng=function(a,c){return p.Nl(a.x*c,a.y*c)};p.Ex=function(a){return p.Nl(-a.y,a.x)};p.kj=function(a){return p.Nl(-a.x,-a.y)};p.kX=function(a,c){return a.x*c.x+a.y*c.y};p.tba=function(a){return p.Nl(Math.cos(a),Math.sin(a))};p.HD=function(a){a=p.zh(p.a(a.x,a.y));return p.Nl(a.x,a.y)};p.vi=function(a){return p.Nl(a.x,a.y)};
p.Eb=function(a){return{Pa:a.x,na:a.y}};
p.FL=p.C.extend({cb:null,ja:null,hs:function(){return this.ja},Cl:function(a){this.ja=a},ctor:function(){p.C.prototype.ctor.call(this);this.cb=[];this.ja=new p.Tl(p.Me,p.Le)},Oa:function(a){a=a||p.Y;var c=p.sa.e().ta;this.ja&&770==this.ja.src&&1==this.ja.Ib&&(a.globalCompositeOperation="lighter");for(var d=0;d<this.cb.length;d++){var e=this.cb[d];e.type===p.Xg.NE&&(a.fillStyle="rgba("+(0|255*e.color.o)+","+(0|255*e.color.n)+","+(0|255*e.color.i)+","+e.color.J+")",p.bg.DB(e.position,e.IC));e.type===
p.Xg.PE&&(a.strokeStyle="rgba("+(0|255*e.color.o)+","+(0|255*e.color.n)+","+(0|255*e.color.i)+","+e.color.J+")",a.lineWidth=2*e.IC*c,a.lineCap="round",p.bg.bi(e.Ym,e.Ml));e.type===p.Xg.OE&&(a.fillStyle="rgba("+(0|255*e.fillColor.o)+","+(0|255*e.fillColor.n)+","+(0|255*e.fillColor.i)+","+e.fillColor.J+")",p.bg.se(e.JD,e.count,!1,!0),a.lineWidth=2*e.borderWidth*c,a.lineCap="round",a.strokeStyle="rgba("+(0|255*e.borderColor.o)+","+(0|255*e.borderColor.n)+","+(0|255*e.borderColor.i)+","+e.borderColor.J+
")",p.bg.se(e.JD,e.count,!0,!1))}},qR:function(a,c,d){var e=new p.Ny(p.Xg.NE);e.position=a;e.IC=c;e.color=d;this.cb.push(e)},uR:function(a,c,d,e){var f=new p.Ny(p.Xg.PE);f.Ym=a;f.Ml=c;f.IC=d;f.color=e;this.cb.push(f)},se:function(a,c,d,e){var f=new p.Ny(p.Xg.OE);f.JD=a;f.count=a.length;f.fillColor=c;f.borderWidth=d;f.borderColor=e;this.cb.push(f)},clear:function(){this.cb.length=0}});
p.GL=p.C.extend({fo:0,cb:null,bl:null,uG:null,tG:null,ja:null,Ja:!1,hs:function(){return this.ja},Cl:function(a){this.ja=a},ctor:function(){p.C.prototype.ctor.call(this);this.cb=[];this.ja=new p.Tl(p.Me,p.Le)},r:function(){return p.C.prototype.r.call(this)?(this.Sg(p.Fh.e().mi(p.DZ)),this.Ez(512),this.uG=p.Y.createBuffer(),this.Ja=!0):!1},QO:function(){var a=p.Y;p.Ae(p.lu);a.bindBuffer(a.ARRAY_BUFFER,this.uG);this.Ja&&(a.bufferData(a.ARRAY_BUFFER,this.bl,a.STREAM_DRAW),this.Ja=!1);var c=p.Xb.BYTES_PER_ELEMENT;
a.vertexAttribPointer(p.Qe,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(p.lq,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(p.mq,2,a.FLOAT,!1,c,12);a.drawArrays(a.TRIANGLES,0,3*this.cb.length);p.Ch()},Ez:function(a){if(this.cb.length+a>this.fo){var c=p.Gc.BYTES_PER_ELEMENT;this.fo+=Math.max(this.fo,a);if(null==this.cb||0===this.cb.length)this.cb=[],this.bl=new ArrayBuffer(c*this.fo),this.tG=new Uint8Array(this.bl);else{a=[];for(var d=new ArrayBuffer(c*this.fo),e=0;e<this.cb.length;e++)a[e]=new p.Gc(this.cb[e].J,
this.cb[e].i,this.cb[e].Da,d,e*c);this.tG=new Uint8Array(d);this.cb=a;this.bl=d}}},Oa:function(){p.ck(this.ja.src,this.ja.Ib);this.Kc.pf();this.Kc.tK();this.QO()},qR:function(a,c,d){d={o:0|255*d.o,n:0|255*d.n,i:0|255*d.i,J:0|255*d.J};var e={s:{x:a.x-c,y:a.y-c},N:d,B:{Pa:-1,na:-1}},f={s:{x:a.x+c,y:a.y+c},N:d,B:{Pa:1,na:1}},g={s:{x:a.x+c,y:a.y-c},N:d,B:{Pa:1,na:-1}};this.cb.push(new p.Gc(e,{s:{x:a.x-c,y:a.y+c},N:d,B:{Pa:-1,na:1}},f,this.bl,this.cb.length*p.Gc.BYTES_PER_ELEMENT));this.cb.push(new p.Gc(e,
f,g,this.bl,this.cb.length*p.Gc.BYTES_PER_ELEMENT));this.Ja=!0},uR:function(a,c,d,e){this.Ez(18);e={o:0|255*e.o,n:0|255*e.n,i:0|255*e.i,J:0|255*e.J};var f=p.vi(a);c=p.vi(c);a=p.HD(p.Ex(p.wd(c,f)));var g=p.Ex(a),h=p.ng(a,d);d=p.ng(g,d);var k=p.Vg(c,p.wd(h,d)),l=p.wd(c,h),m=p.Vg(c,h),n=p.wd(f,h),t=p.Vg(f,h),s=p.wd(f,p.wd(h,d)),f=p.Vg(f,p.Vg(h,d)),u=p.Gc.BYTES_PER_ELEMENT,w=this.bl;this.cb.push(new p.Gc({s:p.wd(c,p.Vg(h,d)),N:e,B:p.Eb(p.kj(p.Vg(a,g)))},{s:k,N:e,B:p.Eb(p.wd(a,g))},{s:l,N:e,B:p.Eb(p.kj(a))},
w,this.cb.length*u));this.cb.push(new p.Gc({s:m,N:e,B:p.Eb(a)},{s:k,N:e,B:p.Eb(p.wd(a,g))},{s:l,N:e,B:p.Eb(p.kj(a))},w,this.cb.length*u));this.cb.push(new p.Gc({s:m,N:e,B:p.Eb(a)},{s:n,N:e,B:p.Eb(p.kj(a))},{s:l,N:e,B:p.Eb(p.kj(a))},w,this.cb.length*u));this.cb.push(new p.Gc({s:m,N:e,B:p.Eb(a)},{s:n,N:e,B:p.Eb(p.kj(a))},{s:t,N:e,B:p.Eb(a)},w,this.cb.length*u));this.cb.push(new p.Gc({s:s,N:e,B:p.Eb(p.wd(g,a))},{s:n,N:e,B:p.Eb(p.kj(a))},{s:t,N:e,B:p.Eb(a)},w,this.cb.length*u));this.cb.push(new p.Gc({s:s,
N:e,B:p.Eb(p.wd(g,a))},{s:f,N:e,B:p.Eb(p.Vg(a,g))},{s:t,N:e,B:p.Eb(a)},w,this.cb.length*u));this.Ja=!0},se:function(a,c,d,e){c={o:0|255*c.o,n:0|255*c.n,i:0|255*c.i,J:0|255*c.J};e={o:0|255*e.o,n:0|255*e.n,i:0|255*e.i,J:0|255*e.J};var f=[],g,h,k,l,m=a.length;for(g=0;g<m;g++){h=p.vi(a[(g-1+m)%m]);k=p.vi(a[g]);l=p.vi(a[(g+1)%m]);var n=p.HD(p.Ex(p.wd(k,h)));k=p.HD(p.Ex(p.wd(l,k)));f[g]={offset:p.ng(p.Vg(n,k),1/(p.kX(n,k)+1)),VI:k}}n=0<d;this.Ez(3*(3*m-2));var t=p.Gc.BYTES_PER_ELEMENT,s=this.bl,u=this.cb,
w=!1==n?0.5:0;for(g=0;g<m-2;g++)h=p.wd(p.vi(a[0]),p.ng(f[0].offset,w)),k=p.wd(p.vi(a[g+1]),p.ng(f[g+1].offset,w)),l=p.wd(p.vi(a[g+2]),p.ng(f[g+2].offset,w)),u.push(new p.Gc({s:h,N:c,B:p.Eb({x:0,y:0})},{s:k,N:c,B:p.Eb({x:0,y:0})},{s:l,N:c,B:p.Eb({x:0,y:0})},s,u.length*t));for(g=0;g<m;g++){w=(g+1)%m;h=p.vi(a[g]);k=p.vi(a[w]);l=f[g].VI;var E=f[g].offset,H=f[w].offset,w=n?p.wd(h,p.ng(E,d)):p.wd(h,p.ng(E,0.5)),C=n?p.wd(k,p.ng(H,d)):p.wd(k,p.ng(H,0.5));h=n?p.Vg(h,p.ng(E,d)):p.Vg(h,p.ng(E,0.5));k=n?p.Vg(k,
p.ng(H,d)):p.Vg(k,p.ng(H,0.5));n?(u.push(new p.Gc({s:w,N:e,B:p.Eb(p.kj(l))},{s:C,N:e,B:p.Eb(p.kj(l))},{s:k,N:e,B:p.Eb(l)},s,u.length*t)),u.push(new p.Gc({s:w,N:e,B:p.Eb(p.kj(l))},{s:h,N:e,B:p.Eb(l)},{s:k,N:e,B:p.Eb(l)},s,u.length*t))):(u.push(new p.Gc({s:w,N:c,B:p.Eb({x:0,y:0})},{s:C,N:c,B:p.Eb({x:0,y:0})},{s:k,N:c,B:p.Eb(l)},s,u.length*t)),u.push(new p.Gc({s:w,N:c,B:p.Eb({x:0,y:0})},{s:h,N:c,B:p.Eb(l)},{s:k,N:c,B:p.Eb(l)},s,u.length*t)))}this.Ja=!0},clear:function(){this.cb.length=0;this.Ja=!0}});
p.Xg=p.Ga.Rc?p.GL:p.FL;p.Xg.create=function(){var a=new p.Xg;return a&&a.r()?a:null};p.Ny=function(a){this.type=a};p.Xg.NE=0;p.Xg.PE=1;p.Xg.OE=2;p.Qs=-1;p.hK=function(a,c){a.Sg(c);var d=a.t;if(d)for(var e=0;e<d.length;e++)p.hK(d[e],c)};
p.nb=p.C.extend({qc:null,bm:0,Hi:!1,vF:!1,ctor:function(){p.C.prototype.ctor.call(this);this.qc=null;this.bm=0;this.Hi=!1},r:null,Uz:function(a){this.qc=a;this.bm=1;this.Hi=!1;p.nb.Xz=!0;p.nb.Xz&&(p.Qs=p.Y.getParameter(p.Y.STENCIL_BITS),0>=p.Qs&&p.log("Stencil buffer is not enabled."),p.nb.Xz=!1);return!0},Tz:function(a){this.qc=a;this.bm=1;this.Hi=!1},Qg:function(){p.C.prototype.Qg.call(this);this.qc.Qg()},ki:function(){p.C.prototype.ki.call(this);this.qc.ki()},yh:function(){this.qc.yh();p.C.prototype.yh.call(this)},
Ud:function(){this.qc.Ud();p.C.prototype.Ud.call(this)},ua:null,Om:function(a){var c=a||p.Y;if(1>p.Qs)p.C.prototype.ua.call(this,a);else if(this.qc&&this.qc.ma)if(p.nb.jr=-1,p.nb.jr+1==p.Qs)p.nb.jB=!0,p.nb.jB&&(p.log("Nesting more than "+p.Qs+"stencils is not supported. Everything will be drawn without stencil for this node and its childs."),p.nb.jB=!1),p.C.prototype.ua.call(this,a);else{p.nb.jr++;var d=1<<p.nb.jr,e=d|d-1,f=c.isEnabled(c.STENCIL_TEST),g=c.getParameter(c.STENCIL_WRITEMASK),h=c.getParameter(c.STENCIL_FUNC),
k=c.getParameter(c.STENCIL_REF),l=c.getParameter(c.STENCIL_VALUE_MASK),m=c.getParameter(c.STENCIL_FAIL),n=c.getParameter(c.STENCIL_PASS_DEPTH_FAIL),t=c.getParameter(c.STENCIL_PASS_DEPTH_PASS);c.enable(c.STENCIL_TEST);c.stencilMask(d);var s=c.getParameter(c.DEPTH_WRITEMASK);c.depthMask(!1);c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.Hi?c.REPLACE:c.ZERO,c.KEEP,c.KEEP);p.bg.EB(p.qj(),p.UT(),p.ew(1,1,1,1));c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.Hi?c.ZERO:c.REPLACE,c.KEEP,c.KEEP);if(1>this.bm){var d=
p.Fh.e().mi(p.FZ),u=c.getUniformLocation(d.sw(),p.c_);p.H5(d.sw());d.sK(u,this.bm);p.hK(this.qc,d)}p.Fp();this.transform();this.qc.ua();p.Ep();c.depthMask(s);c.stencilFunc(c.EQUAL,e,e);c.stencilOp(c.KEEP,c.KEEP,c.KEEP);p.C.prototype.ua.call(this,a);c.stencilFunc(h,k,l);c.stencilOp(m,n,t);c.stencilMask(g);f||c.disable(c.STENCIL_TEST);p.nb.jr--}else this.Hi&&p.C.prototype.ua.call(this,a)},Nm:function(a){if(this.qc&&this.qc.ma){if(this.fz()||this.qc instanceof p.u){a=a||p.Y;var c=a.canvas,d=p.nb.QN();
d.width=c.width;d.height=c.height;d.getContext("2d").drawImage(c,0,0);a.save();this._super(a);a.globalCompositeOperation=this.Hi?"destination-out":"destination-in";this.transform(a);this.qc.ua();a.restore();a.save();a.setTransform(1,0,0,1,0,0);a.globalCompositeOperation="destination-over";a.drawImage(d,0,0)}else{a=a||p.Y;var d=this.t,e;a.save();this.transform(a);this.qc.ua(a);a.clip();this.fz(!0);var f=d.length;if(0<f){this.Wd();for(c=0;c<f;c++)if(e=d[c],0>e.eb)e.ua(a);else break;for(this.Oa(a);c<
f;c++)d[c].ua(a)}else this.Oa(a);this.fz(!1)}a.restore()}else this.Hi&&p.C.prototype.ua.call(this,a)},Y4:function(){return this.qc},iD:null,uP:function(a){this.qc=a},tP:function(a){this.qc=a;var c=p.sa.e().ta,d=p.sa.e().Aa,e=p.Y;!(a instanceof p.u)&&a instanceof p.Xg&&(a.Oa=function(){for(var f=0;f<a.cb.length;f++){var g=a.cb[f].JD,h=g[0];e.beginPath();e.moveTo(h.x*c,-h.y*d);for(var h=1,k=g.length;h<k;h++)e.lineTo(g[h].x*c,-g[h].y*d)}})},n2:function(){return this.bm},w9:function(a){this.bm=a},t6:function(){return this.Hi},
d$:function(a){this.Hi=a},fz:function(a){if(!0===a||!1===a)p.nb.prototype.vF=a;return p.nb.prototype.vF}});p.Ga.Rc?(p.nb.prototype.r=p.nb.prototype.Uz,p.nb.prototype.ua=p.nb.prototype.Om,p.nb.prototype.iD=p.nb.prototype.uP):(p.nb.prototype.r=p.nb.prototype.Tz,p.nb.prototype.ua=p.nb.prototype.Nm,p.nb.prototype.iD=p.nb.prototype.tP);p.nb.Xz=null;p.nb.jB=null;p.nb.jr=null;p.nb.jG=null;p.nb.QN=function(){return p.nb.jG||(p.nb.jG=document.createElement("canvas"))};
p.nb.create=function(a){var c=new p.nb;c.r(a);return c};p.DY=0;p.EY=1;p.FY=2;p.Pn=function(a){a-=1;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;return(a|a>>16)+1};
p.Cb=p.C.extend({ho:null,io:null,Ou:0,Gq:0,rv:0,Fa:null,Mr:null,LP:null,Rf:p.sj,ob:null,Bu:0,xj:null,lz:0,mz:0,rq:!1,kz:null,ctor:null,Hh:function(){p.C.prototype.ctor.call(this);this.xj=p.ew(1,1,1,1);this.kz="rgba(255,255,255,1)";this.ho=document.createElement("canvas");this.io=this.ho.getContext("2d");this.F(0,0)},Ih:function(){p.C.prototype.ctor.call(this);this.xj=p.ew(0,0,0,0)},ag:null,tN:function(){p.C.prototype.Ud.call(this);this.ho=this.io=null},uN:function(){p.C.prototype.Ud.call(this);this.Mr=
null;var a=p.Y;a.deleteFramebuffer(this.Ou);this.Gq&&a.deleteRenderbuffer(this.Gq);this.LP=null},oS:function(){return this.ob},Ms:function(a){this.ob=a},jC:null,aO:function(a,c){var d=this.ho,e=p.Jd();d.width=0|a*e;d.height=0|c*e;this.io.translate(0,d.height);e=new p.ec;e.Ef(d);e.Fe();this.ob=p.u.ab(e);return!0},bO:function(a,c,d,e){d==p.gq&&p.log("cc.RenderTexture._initWithWidthAndHeightForWebGL() : only RGB and RGBA formats are valid for a render texture;");var f=p.Y,g=p.Jd();a=0|a*g;c=0|c*g;this.rv=
f.getParameter(f.FRAMEBUFFER_BINDING);var h;p.Ne.e().Jr?(g=a,h=c):(g=p.Pn(a),h=p.Pn(c));for(var k=new Uint8Array(g*h*4),l=0;l<g*h*4;l++)k[l]=0;this.Rf=d;this.Fa=new p.ec;if(!this.Fa)return!1;l=this.Fa;l.zw(k,this.Rf,g,h,p.size(a,c));d=f.getParameter(f.RENDERBUFFER_BINDING);if(p.Ne.e().hp("GL_QCOM")){this.Mr=new p.ec;if(!this.Mr)return!1;this.Mr.zw(k,this.Rf,g,h,p.size(a,c))}this.Ou=f.createFramebuffer();f.bindFramebuffer(f.FRAMEBUFFER,this.Ou);f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,
f.TEXTURE_2D,l.$h,0);0!=e&&(this.Gq=f.createRenderbuffer(),f.bindRenderbuffer(f.RENDERBUFFER,this.Gq),f.renderbufferStorage(f.RENDERBUFFER,e,g,h),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,this.Gq));f.checkFramebufferStatus(f.FRAMEBUFFER)!==f.FRAMEBUFFER_COMPLETE&&p.log("Could not attach texture to the framebuffer");l.FJ();a=this.ob=p.u.ab(l);a.wn(-1);a.Cl(f.ONE,f.ONE_MINUS_SRC_ALPHA);f.bindRenderbuffer(f.RENDERBUFFER,d);f.bindFramebuffer(f.FRAMEBUFFER,this.rv);this.rq=
!1;this.f(a);return!0},Yj:null,jN:function(){p.Y=this.io;p.sa.e().qP()},kN:function(){p.an(p.Mt);p.Fp();p.an(p.Lt);p.Fp();var a=p.$.e();a.cx(a.Vk);var c=this.Fa.xa,d=p.$.e().wS(),a=d.width/c.width,d=d.height/c.height,e=p.Y;e.viewport(0,0,c.width,c.height);c=new p.wh;p.sT(c,-1/a,1/a,-1/d,1/d,-1,1);p.Fw(c);this.rv=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,this.Ou);p.Ne.e().hp("GL_QCOM")&&(e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.Mr.$h,0),
e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.Fa.$h,0))},tB:function(a,c,d,e,f,g){var h=p.Y;f=f||h.COLOR_BUFFER_BIT;g=g||h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT;this.cz(a,c,d,e,f,g,h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT|h.STENCIL_BUFFER_BIT)},cz:null,lN:function(a,c,d,e){this.Yj();a=a||0;c=c||0;d=d||0;e=isNaN(e)?1:e;var f=this.io,g=this.ho;f.save();f.fillStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+")";f.clearRect(0,
0,g.width,-g.height);f.fillRect(0,0,g.width,-g.height);f.restore()},mN:function(a,c,d,e,f,g,h){this.Yj();var k=p.Y,l=[0,0,0,0],m=0,n=0;h&k.COLOR_BUFFER_BIT&&(l=k.getParameter(k.COLOR_CLEAR_VALUE),k.clearColor(a,c,d,e));h&k.DEPTH_BUFFER_BIT&&(m=k.getParameter(k.DEPTH_CLEAR_VALUE),k.clearDepth(f));h&k.STENCIL_BUFFER_BIT&&(n=k.getParameter(k.STENCIL_CLEAR_VALUE),k.clearStencil(g));k.clear(h);h&k.COLOR_BUFFER_BIT&&k.clearColor(l[0],l[1],l[2],l[3]);h&k.DEPTH_BUFFER_BIT&&k.clearDepth(m);h&k.STENCIL_BUFFER_BIT&&
k.clearStencil(n)},end:null,JN:function(){p.Y=p.xT;p.sa.e().TO()},KN:function(){var a=p.Y,c=p.$.e();a.bindFramebuffer(a.FRAMEBUFFER,this.rv);c.wK();p.an(p.Mt);p.Ep();p.an(p.Lt);p.Ep()},clear:function(a,c,d,e){this.tB(a,c,d,e);this.end()},clearRect:null,yN:function(a,c,d,e){this.io.clearRect(a,c,d,-e)},zN:function(){},clearDepth:null,wN:function(){p.log("clearDepth isn't supported on Cocos2d-Html5")},xN:function(a){this.Yj();var c=p.Y,d=c.getParameter(c.DEPTH_CLEAR_VALUE);c.clearDepth(a);c.clear(c.DEPTH_BUFFER_BIT);
c.clearDepth(d);this.end()},clearStencil:null,AN:function(){p.log("clearDepth isn't supported on Cocos2d-Html5")},BN:function(a){var c=p.Y,d=c.getParameter(c.STENCIL_CLEAR_VALUE);c.clearStencil(a);c.clear(c.STENCIL_BUFFER_BIT);c.clearStencil(d)},ua:null,Nm:function(a){this.ma&&(a=a||p.Y,a.save(),this.Oa(a),this.transform(a),this.ob.ua(),a.restore(),this.Qf=0)},Om:function(a){if(this.ma){p.Fp();var c=this.Ik;c&&c.Cp()&&(c.sB(),this.yx());this.transform(a);this.ob.ua();this.Oa(a);c&&c.Cp()&&c.oB(this);
p.Ep();this.Qf=0}},Oa:null,im:function(a){a=a||p.Y;if(this.rq){this.Yj();if(this.Bu){var c=this.ho;a.save();a.fillStyle=this.kz;a.clearRect(0,0,c.width,-c.height);a.fillRect(0,0,c.width,-c.height);a.restore()}this.Wd();a=this.t;for(var c=a.length,d=this.ob,e=0;e<c;e++){var f=a[e];f!=d&&f.ua()}this.end()}},xg:function(){var a=p.Y;if(this.rq){this.Yj();var c=this.Bu;if(c){var d=[0,0,0,0],e=0,f=0;c&a.COLOR_BUFFER_BIT&&(d=a.getParameter(a.COLOR_CLEAR_VALUE),a.clearColor(this.xj.o,this.xj.n,this.xj.i,
this.xj.J));c&a.DEPTH_BUFFER_BIT&&(e=a.getParameter(a.DEPTH_CLEAR_VALUE),a.clearDepth(this.lz));c&a.STENCIL_BUFFER_BIT&&(f=a.getParameter(a.STENCIL_CLEAR_VALUE),a.clearStencil(this.mz));a.clear(c);c&a.COLOR_BUFFER_BIT&&a.clearColor(d[0],d[1],d[2],d[3]);c&a.DEPTH_BUFFER_BIT&&a.clearDepth(e);c&a.STENCIL_BUFFER_BIT&&a.clearStencil(f)}this.Wd();a=this.t;for(c=0;c<a.length;c++)d=a[c],d!=this.ob&&d.ua();this.end()}},WI:null,rO:function(){p.log("saveToFile isn't supported on Cocos2d-Html5");return null},
sO:function(){p.log("saveToFile isn't supported on Cocos2d-Html5");p.ct(this.Rf==p.sj,"only RGBA8888 can be saved as image");if(!this.Fa)return null;var a=this.Fa.xa,c=a.width,a=a.height,d=new p.PL,e=p.Y,f=new Uint8Array(c*a*4);if(!f)return d;var g=new Uint8Array(c*a*4);if(!g)return null;this.Yj();e.pixelStorei(e.PACK_ALIGNMENT,1);e.readPixels(0,0,c,a,e.RGBA,e.UNSIGNED_BYTE,g);this.end();for(e=0;e<a;++e)this.pO(f,e*c*4,g,(a-e-1)*c*4,4*c);d.T5(f,c*a*4,p.xY,c,a,8);return d},pO:function(a,c,d,e,f){for(var g=
0;g<f;g++)a[c+g]=d[e+g]},l9:function(){p.log("saveToFile isn't supported on Cocos2d-Html5")},h7:function(){p.log("listenToBackground isn't supported on Cocos2d-Html5")},i7:function(){p.log("listenToForeground isn't supported on Cocos2d-Html5")},L2:function(){return this.Bu},D9:function(a){this.Bu=a},J2:function(){return this.xj},LJ:null,aP:function(a){var c=this.xj;c.o=a.o;c.n=a.n;c.i=a.i;c.J=a.J;this.kz="rgba("+(0|255*a.o)+","+(0|255*a.n)+","+(0|255*a.i)+","+a.J+")"},bP:function(a){var c=this.xj;
c.o=a.o;c.n=a.n;c.i=a.i;c.J=a.J},K2:function(){return this.lz},C9:function(a){this.lz=a},M2:function(){return this.mz},E9:function(a){this.mz=a},e6:function(){return this.rq},y9:function(a){this.rq=a}});
p.Ga.Rc?(b=p.Cb.prototype,b.ctor=p.Cb.prototype.Ih,b.ag=p.Cb.prototype.uN,b.jC=p.Cb.prototype.bO,b.Yj=p.Cb.prototype.kN,b.cz=p.Cb.prototype.mN,b.end=p.Cb.prototype.KN,b.clearRect=p.Cb.prototype.zN,b.clearDepth=p.Cb.prototype.xN,b.clearStencil=p.Cb.prototype.BN,b.ua=p.Cb.prototype.Om,b.Oa=p.Cb.prototype.xg,b.WI=p.Cb.prototype.sO,b.LJ=p.Cb.prototype.bP):(b=p.Cb.prototype,b.ctor=p.Cb.prototype.Hh,b.ag=p.Cb.prototype.tN,b.jC=p.Cb.prototype.aO,b.Yj=p.Cb.prototype.jN,b.cz=p.Cb.prototype.lN,b.end=p.Cb.prototype.JN,
b.clearRect=p.Cb.prototype.yN,b.clearDepth=p.Cb.prototype.wN,b.clearStencil=p.Cb.prototype.AN,b.ua=p.Cb.prototype.Nm,b.Oa=p.Cb.prototype.im,b.WI=p.Cb.prototype.rO,b.LJ=p.Cb.prototype.aP);p.Cb.create=function(a,c,d,e){d=d||p.sj;e=e||0;var f=new p.Cb;return f&&f.jC(a,c,d,e)?f:null};p.In=-1;
p.Id=p.Ea.extend({tm:null,T:null,sd:p.In,ctor:function(){this.T=this.tm=null;this.sd=p.In},description:function(){return"\x3ccc.Action | Tag \x3d "+this.sd+"\x3e"},copy:function(){return p.H(this)},H:function(){var a=new p.Id;a.tm=null;a.T=null;a.sd=this.sd;return a},ii:function(){return!0},ba:function(a){this.T=this.tm=a},stop:function(){this.T=null},step:function(){p.log("[Action step]. override me")},update:function(){p.log("[Action update]. override me")},sS:function(){return this.T},V$:function(a){this.T=
a},i4:function(){return this.tm},x$:function(a){this.tm=a},rS:function(){return this.sd},rK:function(a){this.sd=a},BJ:function(){},tJ:function(){}});p.Id.create=function(){return new p.Id};p.pj=p.Id.extend({ya:0,ctor:function(){p.Id.prototype.ctor.call(this);this.ya=0},Af:function(){return this.ya},O9:function(a){this.ya=a},reverse:function(){p.log("cocos2d: FiniteTimeAction#reverse: Implement me");return null},H:function(){return new p.pj}});
p.bu=p.Id.extend({Cm:0,Fb:null,ctor:function(){p.Id.prototype.ctor.call(this);this.Cm=0;this.Fb=null},R4:function(){return this.Cm},O$:function(a){this.Cm=a},ra:function(a,c){if(!a)throw"cc.Speed.initWithAction(): action must be non nil";this.Fb=a;this.Cm=c;return!0},H:function(){var a=new p.bu;a.ra(this.Fb.H(),this.Cm);return a},ba:function(a){p.Id.prototype.ba.call(this,a);this.Fb.ba(a)},stop:function(){this.Fb.stop();p.Id.prototype.stop.call(this)},step:function(a){this.Fb.step(a*this.Cm)},ii:function(){return this.Fb.ii()},
reverse:function(){return p.bu.create(this.Fb.reverse(),this.Cm)},WJ:function(a){this.Fb!=a&&(this.Fb=a)},NB:function(){return this.Fb}});p.bu.create=function(a,c){var d=new p.bu;return d&&d.ra(a,c)?d:null};
p.by=p.Id.extend({yo:null,co:!1,wu:!1,Uu:null,Zq:null,bn:0,sn:0,Cn:0,Vm:0,lB:null,ctor:function(){p.Id.prototype.ctor.call(this);this.yo=null;this.wu=this.co=!1;this.Zq=this.Uu=null;this.Vm=this.Cn=this.sn=this.bn=0;this.lB=p.md()},H:function(){var a=new p.by,c=this.lB,c=new p.rg(c.x,c.y,c.width,c.height);a.Mg(this.yo,c);return a},g6:function(){return this.co},A9:function(a){this.co=a},Mg:function(a,c){if(!a)throw"cc.Follow.initWithAction(): followedNode must be non nil";c=c||p.md();this.yo=a;this.lB=
c;this.co=!p.ur(c);this.wu=!1;var d=p.$.e().Sb;this.Zq=p.a(d.width,d.height);this.Uu=p.ej(this.Zq,0.5);this.co&&(this.bn=-(c.x+c.width-this.Zq.x),this.sn=-c.x,this.Cn=-c.y,this.Vm=-(c.y+c.height-this.Zq.y),this.sn<this.bn&&(this.sn=this.bn=(this.bn+this.sn)/2),this.Cn<this.Vm&&(this.Cn=this.Vm=(this.Cn+this.Vm)/2),this.Cn==this.Vm&&this.bn==this.sn&&(this.wu=!0));return!0},step:function(){var a=this.yo.p.G,c=this.yo.p.O,a=this.Uu.x-a,c=this.Uu.y-c;this.co?this.wu||this.T.l(p.as(a,this.bn,this.sn),
p.as(c,this.Vm,this.Cn)):this.T.l(a,c)},ii:function(){return!this.yo.Ye},stop:function(){this.T=null;p.Id.prototype.stop.call(this)}});p.by.create=function(a,c){c=c||new p.md;var d=new p.by;return null!=c&&d&&d.Mg(a,c)||d&&d.Mg(a)?d:null};p.S=p.pj.extend({hc:0,Yq:!1,ctor:function(){p.pj.prototype.ctor.call(this);this.hc=0;this.Yq=!1},c3:function(){return this.hc},P:function(a){this.ya=0===a?p.Ft:a;this.hc=0;return this.Yq=!0},ii:function(){return this.hc>=this.ya},H:function(){var a=new p.S;a.P(this.ya);return a},step:function(a){this.Yq?(this.Yq=!1,this.hc=0):this.hc+=a;a=this.hc/(1.192092896E-7<this.ya?this.ya:1.192092896E-7);a=1>a?a:1;this.update(0<a?a:0)},ba:function(a){p.Id.prototype.ba.call(this,a);this.hc=0;this.Yq=!0},reverse:function(){p.log("cc.IntervalAction: reverse not implemented.");
return null},x9:function(){p.log("cc.ActionInterval.setAmplitudeRate(): it should be overridden in subclass.")},o2:function(){p.log("cc.ActionInterval.getAmplitudeRate(): it should be overridden in subclass.")}});p.S.create=function(a){var c=new p.S;c.P(a);return c};
p.rj=p.S.extend({wi:null,LA:null,Io:0,ctor:function(){p.S.prototype.ctor.call(this);this.wi=[];this.LA=null;this.Io=0},ts:function(a,c){if(!a||!c)throw"cc.Sequence.initWithTwoActions(): arguments must all be non nil";this.P(a.Af()+c.Af());this.wi[0]=a;this.wi[1]=c;return!0},H:function(){var a=new p.rj;a.ts(this.wi[0].H(),this.wi[1].H());return a},ba:function(a){p.S.prototype.ba.call(this,a);this.LA=this.wi[0].Af()/this.ya;this.Io=-1},stop:function(){-1!==this.Io&&this.wi[this.Io].stop();p.Id.prototype.stop.call(this)},
update:function(a){var c=0,d=this.LA,e=this.wi,f=this.Io;a<d?(a=0!==d?a/d:1,0===c&&1===f&&(e[1].update(0),e[1].stop())):(c=1,a=1===d?1:(a-d)/(1-d),-1===f&&(e[0].ba(this.T),e[0].update(1),e[0].stop()),f||(e[0].update(1),e[0].stop()));f===c&&e[c].ii()||(f!==c&&e[c].ba(this.T),e[c].update(a),this.Io=c)},reverse:function(){return p.rj.$l(this.wi[1].reverse(),this.wi[0].reverse())},copy:function(){return this.H()}});
p.rj.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&p.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)c[e]&&(d=p.rj.$l(d,c[e]));return d};p.rj.$l=function(a,c){var d=new p.rj;d.ts(a,c);return d};
p.Tt=p.S.extend({Xf:0,Sj:0,ov:0,YE:!1,Fb:null,ctor:function(){p.S.prototype.ctor.call(this);this.ov=this.Sj=this.Xf=0;this.YE=!1;this.Fb=null},ra:function(a,c){return this.P(a.Af()*c)?(this.Xf=c,this.Fb=a,a instanceof p.qi&&(this.Xf-=1),this.Sj=0,!0):!1},H:function(){var a=new p.Tt;a.ra(this.Fb.H(),this.Xf);return a},ba:function(a){this.Sj=0;this.ov=this.Fb.Af()/this.ya;p.S.prototype.ba.call(this,a);this.Fb.ba(a)},stop:function(){this.Fb.stop();p.Id.prototype.stop.call(this)},update:function(a){var c=
this.Fb,d=this.ya,e=this.Xf,f=this.ov;if(a>=f){for(;a>f&&this.Sj<e;)c.update(1),this.Sj++,c.stop(),c.ba(this.T),this.ov=f+=c.Af()/d;1<=a&&this.Sj<e&&this.Sj++;this.YE&&(this.Sj==e?(c.update(1),c.stop()):c.update(a-(f-c.Af()/d)))}else c.update(a*e%1)},ii:function(){return this.Sj==this.Xf},reverse:function(){return p.Tt.create(this.Fb.reverse(),this.Xf)},WJ:function(a){this.Fb!=a&&(this.Fb=a)},NB:function(){return this.Fb}});p.Tt.create=function(a,c){var d=new p.Tt;d.ra(a,c);return d};
p.Ut=p.S.extend({Fb:null,ctor:function(){p.S.prototype.ctor.call(this);this.Fb=null},ra:function(a){if(!a)throw"cc.RepeatForever.initWithAction(): action must be non null";this.Fb=a;return!0},H:function(){var a=new p.Ut;a.ra(this.Fb.H());return a},ba:function(a){p.S.prototype.ba.call(this,a);this.Fb.ba(a)},step:function(a){var c=this.Fb;c.step(a);c.ii()&&(c.ba(this.T),c.step(c.hc-c.Af()))},ii:function(){return!1},reverse:function(){return p.Ut.create(this.Fb.reverse())},WJ:function(a){this.Fb!=a&&
(this.Fb=a)},NB:function(){return this.Fb}});p.Ut.create=function(a){var c=new p.Ut;return c&&c.ra(a)?c:null};
p.fq=p.S.extend({Nj:null,Wj:null,ctor:function(){p.S.prototype.ctor.call(this);this.Wj=this.Nj=null},ts:function(a,c){if(!a||!c)throw"cc.Spawn.initWithTwoActions(): arguments must all be non null";var d=!1,e=a.Af(),f=c.Af();this.P(Math.max(e,f))&&(this.Nj=a,this.Wj=c,e>f?this.Wj=p.rj.$l(c,p.Kn.create(e-f)):e<f&&(this.Nj=p.rj.$l(a,p.Kn.create(f-e))),d=!0);return d},H:function(){var a=new p.fq;a.ts(this.Nj.H(),this.Wj.H());return a},ba:function(a){p.S.prototype.ba.call(this,a);this.Nj.ba(a);this.Wj.ba(a)},
stop:function(){this.Nj.stop();this.Wj.stop();p.Id.prototype.stop.call(this)},update:function(a){this.Nj&&this.Nj.update(a);this.Wj&&this.Wj.update(a)},reverse:function(){return p.fq.$l(this.Nj.reverse(),this.Wj.reverse())}});p.fq.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&p.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)null!=c[e]&&(d=this.$l(d,c[e]));return d};
p.fq.$l=function(a,c){var d=new p.fq;d.ts(a,c);return d};
p.uy=p.S.extend({Jq:0,Dm:0,xz:0,Mu:0,Yk:0,yz:0,ctor:function(){p.S.prototype.ctor.call(this);this.yz=this.Yk=this.Mu=this.xz=this.Dm=this.Jq=0},P:function(a,c,d){return p.S.prototype.P.call(this,a)?(this.Jq=c||0,this.Mu=d||this.Jq,!0):!1},H:function(){var a=new p.uy;a.P(this.ya,this.Jq,this.Mu);return a},ba:function(a){p.S.prototype.ba.call(this,a);var c=a.Dg%360,d=this.Jq-c;180<d&&(d-=360);-180>d&&(d+=360);this.Dm=c;this.xz=d;this.Yk=a.Rh%360;a=this.Mu-this.Yk;180<a&&(a-=360);-180>a&&(a+=360);this.yz=
a},reverse:function(){p.log("cc.RotateTo.reverse(): it should be overridden in subclass.")},update:function(a){this.T&&(this.T.fx(this.Dm+this.xz*a),this.T.gx(this.Yk+this.yz*a))}});p.uy.create=function(a,c,d){var e=new p.uy;e.P(a,c,d);return e};
p.Wt=p.S.extend({tg:0,Dm:0,qq:0,Yk:0,ctor:function(){p.S.prototype.ctor.call(this);this.Yk=this.qq=this.Dm=this.tg=0},P:function(a,c,d){return p.S.prototype.P.call(this,a)?(this.tg=c||0,this.qq=d||this.tg,!0):!1},H:function(){var a=new p.Wt;a.P(this.ya,this.tg,this.qq);return a},ba:function(a){p.S.prototype.ba.call(this,a);this.Dm=a.Dg;this.Yk=a.Rh},update:function(a){this.T&&(this.T.fx(this.Dm+this.tg*a),this.T.gx(this.Yk+this.qq*a))},reverse:function(){return p.Wt.create(this.ya,-this.tg,-this.qq)}});
p.Wt.create=function(a,c,d){var e=new p.Wt;e.P(a,c,d);return e};
p.rk=p.S.extend({Ni:null,Vc:null,Uc:null,ctor:function(){p.S.prototype.ctor.call(this);this.Ni=p.a(0,0);this.Vc=p.a(0,0);this.Uc=p.a(0,0)},P:function(a,c){return p.S.prototype.P.call(this,a)?(this.Ni.x=c.x,this.Ni.y=c.y,!0):!1},H:function(){var a=new p.rk;a.P(this.ya,this.Ni);return a},ba:function(a){p.S.prototype.ba.call(this,a);var c=a.p.G;a=a.p.O;this.Uc.x=c;this.Uc.y=a;this.Vc.x=c;this.Vc.y=a},update:function(a){if(this.T){var c=this.Ni.x*a;a*=this.Ni.y;var d=this.Vc;if(p.jt){var e=this.T.p.O,
f=this.Uc;d.x=d.x+this.T.p.G-f.x;d.y=d.y+e-f.y;c+=d.x;a+=d.y;this.T.l(c,a);f.x=c;f.y=a}else this.T.l(d.x+c,d.y+a)}},reverse:function(){return p.rk.create(this.ya,p.a(-this.Ni.x,-this.Ni.y))}});p.rk.create=function(a,c){var d=new p.rk;d.P(a,c);return d};
p.Ot=p.rk.extend({xo:null,ctor:function(){p.rk.prototype.ctor.call(this);this.xo=p.a(0,0)},P:function(a,c){return p.rk.prototype.P.call(this,a,c)?(this.xo.x=c.x,this.xo.y=c.y,!0):!1},H:function(){var a=new p.Ot;a.P(this.ya,this.xo);return a},ba:function(a){p.rk.prototype.ba.call(this,a);this.Ni.x=this.xo.x-a.p.G;this.Ni.y=this.xo.y-a.p.O}});p.Ot.create=function(a,c){var d=new p.Ot;d.P(a,c);return d};
p.Vn=p.S.extend({pe:0,qe:0,Fr:0,Gr:0,Sq:0,Tq:0,Re:0,Se:0,ctor:function(){p.S.prototype.ctor.call(this);this.Se=this.Re=this.Tq=this.Sq=this.Gr=this.Fr=this.qe=this.pe=0},P:function(a,c,d){var e=!1;p.S.prototype.P.call(this,a)&&(this.Sq=c,this.Tq=d,e=!0);return e},H:function(){var a=new p.Vn;a.P(this.ya,this.Sq,this.Tq);return a},ba:function(a){p.S.prototype.ba.call(this,a);this.Fr=a.pe%180;this.Re=this.Sq-this.Fr;180<this.Re&&(this.Re-=360);-180>this.Re&&(this.Re+=360);this.Gr=a.qe%360;this.Se=this.Tq-
this.Gr;180<this.Se&&(this.Se-=360);-180>this.Se&&(this.Se+=360)},update:function(a){this.T.ix(this.Fr+this.Re*a);this.T.jx(this.Gr+this.Se*a)}});p.Vn.create=function(a,c,d){var e=new p.Vn;e&&e.P(a,c,d);return e};
p.$t=p.Vn.extend({P:function(a,c,d){var e=!1;p.Vn.prototype.P.call(this,a,c,d)&&(this.pe=c,this.qe=d,e=!0);return e},H:function(){var a=new p.$t;a.P(this.ya,this.pe,this.qe);return a},ba:function(a){p.Vn.prototype.ba.call(this,a);this.Re=this.pe;this.Se=this.qe;this.Sq=this.Fr+this.Re;this.Tq=this.Gr+this.Se},reverse:function(){return p.$t.create(this.ya,-this.pe,-this.qe)}});p.$t.create=function(a,c,d){var e=new p.$t;e&&e.P(a,c,d);return e};
p.Nn=p.S.extend({Vc:null,wg:null,va:0,Fo:0,Uc:null,ctor:function(){p.S.prototype.ctor.call(this);this.Vc=p.a(0,0);this.Uc=p.a(0,0);this.wg=p.a(0,0);this.Fo=this.va=0},P:function(a,c,d,e){return p.S.prototype.P.call(this,a)?(this.wg.x=c.x,this.wg.y=c.y,this.va=d,this.Fo=e,!0):!1},H:function(){var a=new p.Nn;a.P(this.ya,this.wg,this.va,this.Fo);return a},ba:function(a){p.S.prototype.ba.call(this,a);var c=a.p.G;a=a.p.O;this.Uc.x=c;this.Uc.y=a;this.Vc.x=c;this.Vc.y=a},update:function(a){if(this.T){var c=
a*this.Fo%1,c=4*this.va*c*(1-c),c=c+this.wg.y*a;a*=this.wg.x;var d=this.Vc;if(p.jt){var e=this.T.p.O,f=this.Uc;d.x=d.x+this.T.p.G-f.x;d.y=d.y+e-f.y;a+=d.x;c+=d.y;this.T.l(a,c);f.x=a;f.y=c}else this.T.l(d.x+a,d.y+c)}},reverse:function(){return p.Nn.create(this.ya,p.a(-this.wg.x,-this.wg.y),this.va,this.Fo)}});p.Nn.create=function(a,c,d,e){var f=new p.Nn;f.P(a,c,d,e);return f};
p.ey=p.Nn.extend({ba:function(a){p.Nn.prototype.ba.call(this,a);this.wg.x-=this.Vc.x;this.wg.y-=this.Vc.y},H:function(){var a=new p.ey;a.P(this.ya,this.wg,this.va,this.Fo);return a}});p.ey.create=function(a,c,d,e){var f=new p.ey;f.P(a,c,d,e);return f};p.ZG=function(a,c,d,e){return 0*Math.pow(1-e,3)+3*e*Math.pow(1-e,2)*a+3*Math.pow(e,2)*(1-e)*c+Math.pow(e,3)*d};
p.Sl=p.S.extend({gm:null,Vc:null,Uc:null,ctor:function(){p.S.prototype.ctor.call(this);this.gm=[];this.Vc=p.a(0,0);this.Uc=p.a(0,0)},P:function(a,c){return p.S.prototype.P.call(this,a)?(this.gm=c,!0):!1},H:function(){for(var a=new p.Sl,c=[],d=0;d<this.gm.length;d++){var e=this.gm[d];c.push(p.a(e.x,e.y))}a.P(this.ya,c);return a},ba:function(a){p.S.prototype.ba.call(this,a);var c=a.p.G;a=a.p.O;this.Uc.x=c;this.Uc.y=a;this.Vc.x=c;this.Vc.y=a},update:function(a){if(this.T){var c=this.gm,d=p.ZG(c[0].x,
c[1].x,c[2].x,a);a=p.ZG(c[0].y,c[1].y,c[2].y,a);c=this.Vc;if(p.jt){var e=this.T.p.O,f=this.Uc;c.x=c.x+this.T.p.G-f.x;c.y=c.y+e-f.y;d+=c.x;a+=c.y;this.T.l(d,a);f.x=d;f.y=a}else this.T.l(c.x+d,c.y+a)}},reverse:function(){var a=this.gm,a=[p.gg(a[1],p.CC(a[2])),p.gg(a[0],p.CC(a[2])),p.CC(a[2])];return p.Sl.create(this.ya,a)}});p.Sl.create=function(a,c){var d=new p.Sl;d.P(a,c);return d};
p.Lx=p.Sl.extend({Qv:null,ctor:function(){p.Sl.prototype.ctor.call(this);this.Qv=[]},P:function(a,c){return p.S.prototype.P.call(this,a)?(this.Qv=c,!0):!1},H:function(){var a=new p.Lx;a.P(this.ya,this.Qv);return a},ba:function(a){p.Sl.prototype.ba.call(this,a);a=this.Vc;var c=this.Qv,d=this.gm;d[0]=p.Ed(c[0],a);d[1]=p.Ed(c[1],a);d[2]=p.Ed(c[2],a)}});p.Lx.create=function(a,c){var d=new p.Lx;d.P(a,c);return d};
p.Un=p.S.extend({ta:1,Aa:1,Uo:1,Vo:1,jm:0,km:0,Re:0,Se:0,ctor:function(){p.S.prototype.ctor.call(this);this.Vo=this.Uo=this.Aa=this.ta=1;this.Se=this.Re=this.km=this.jm=0},P:function(a,c,d){return p.S.prototype.P.call(this,a)?(this.jm=c,this.km=null!=d?d:c,!0):!1},H:function(){var a=new p.Un;a.P(this.ya,this.jm,this.km);return a},ba:function(a){p.S.prototype.ba.call(this,a);this.Uo=a.ta;this.Vo=a.Aa;this.Re=this.jm-this.Uo;this.Se=this.km-this.Vo},update:function(a){this.T&&this.T.nk(this.Uo+this.Re*
a,this.Vo+this.Se*a)}});p.Un.create=function(a,c,d){var e=new p.Un;e.P(a,c,d);return e};p.Yt=p.Un.extend({ba:function(a){p.Un.prototype.ba.call(this,a);this.Re=this.Uo*this.jm-this.Uo;this.Se=this.Vo*this.km-this.Vo},reverse:function(){return p.Yt.create(this.ya,1/this.jm,1/this.km)},H:function(){var a=new p.Yt;a.P(this.ya,this.jm,this.km);return a}});p.Yt.create=function(a,c,d){var e=new p.Yt;e.P(a,c,d);return e};
p.dt=p.S.extend({Xf:0,fA:!1,ctor:function(){p.S.prototype.ctor.call(this);this.Xf=0;this.fA=!1},P:function(a,c){return p.S.prototype.P.call(this,a)?(this.Xf=c,!0):!1},H:function(){var a=new p.dt;a.P(this.ya,this.Xf);return a},update:function(a){if(this.T&&!this.ii()){var c=1/this.Xf;this.T.w(a%c>c/2)}},ba:function(a){p.S.prototype.ba.call(this,a);this.fA=a.ma},stop:function(){this.T.w(this.fA);p.S.prototype.stop.call(this)},reverse:function(){return p.dt.create(this.ya,this.Xf)}});
p.dt.create=function(a,c){var d=new p.dt;d.P(a,c);return d};p.Gt=p.S.extend({update:function(a){this.T.jb&&this.T.pa(255*a)},reverse:function(){return p.Ht.create(this.ya)},H:function(){var a=new p.Gt;a.P(this.ya);return a}});p.Gt.create=function(a){var c=new p.Gt;c.P(a);return c};p.Ht=p.S.extend({update:function(a){this.T.jb&&this.T.pa(255*(1-a))},reverse:function(){return p.Gt.create(this.ya)},H:function(){var a=new p.Ht;a.P(this.ya);return a}});p.Ht.create=function(a){var c=new p.Ht;c.P(a);return c};
p.ay=p.S.extend({Rv:null,Ru:null,ctor:function(){p.S.prototype.ctor.call(this);this.Ru=this.Rv=0},P:function(a,c){return p.S.prototype.P.call(this,a)?(this.Rv=c,!0):!1},H:function(){var a=new p.ay;a.P(this.ya,this.Rv);return a},update:function(a){this.T.jb&&this.T.pa(this.Ru+(this.Rv-this.Ru)*a)},ba:function(a){p.S.prototype.ba.call(this,a);this.T.jb&&(this.Ru=a.Ui())}});p.ay.create=function(a,c){var d=new p.ay;d.P(a,c);return d};
p.Jy=p.S.extend({yf:null,ke:null,ctor:function(){p.S.prototype.ctor.call(this);this.yf=p.j(0,0,0);this.ke=p.j(0,0,0)},P:function(a,c,d,e){return p.S.prototype.P.call(this,a)?(this.yf=p.j(c,d,e),!0):!1},H:function(){var a=new p.Jy,c=this.yf;a.P(this.ya,c.o,c.n,c.i);return a},ba:function(a){p.S.prototype.ba.call(this,a);this.T.jb&&(this.ke=this.T.Dd())},update:function(a){var c=this.ke,d=this.yf;this.T.jb&&this.T.m(p.j(c.o+(d.o-c.o)*a,c.n+(d.n-c.n)*a,c.i+(d.i-c.i)*a))}});
p.Jy.create=function(a,c,d,e){var f=new p.Jy;f.P(a,c,d,e);return f};
p.gu=p.S.extend({Fq:0,Eq:0,Dq:0,Kz:0,Jz:0,Iz:0,ctor:function(){p.S.prototype.ctor.call(this);this.Iz=this.Jz=this.Kz=this.Dq=this.Eq=this.Fq=0},P:function(a,c,d,e){return p.S.prototype.P.call(this,a)?(this.Fq=c,this.Eq=d,this.Dq=e,!0):!1},H:function(){var a=new p.gu;a.P(this.ya,this.Fq,this.Eq,this.Dq);return a},ba:function(a){p.S.prototype.ba.call(this,a);a.jb&&(a=a.Dd(),this.Kz=a.o,this.Jz=a.n,this.Iz=a.i)},update:function(a){this.T.jb&&this.T.m(p.j(this.Kz+this.Fq*a,this.Jz+this.Eq*a,this.Iz+this.Dq*
a))},reverse:function(){return p.gu.create(this.ya,-this.Fq,-this.Eq,-this.Dq)}});p.gu.create=function(a,c,d,e){var f=new p.gu;f.P(a,c,d,e);return f};p.Kn=p.S.extend({update:function(){},reverse:function(){return p.Kn.create(this.ya)},H:function(){var a=new p.Kn;a.P(this.ya);return a}});p.Kn.create=function(a){var c=new p.Kn;c.P(a);return c};
p.Vt=p.S.extend({Oj:null,ctor:function(){p.S.prototype.ctor.call(this);this.Oj=null},ra:function(a){if(!a)throw"cc.ReverseTime.initWithAction(): action must be non null";if(a==this.Oj)throw"cc.ReverseTime.initWithAction(): the action was already passed in.";return p.S.prototype.P.call(this,a.Af())?(this.Oj=a,!0):!1},H:function(){var a=new p.Vt;a.ra(this.Oj.H());return a},ba:function(a){p.S.prototype.ba.call(this,a);this.Oj.ba(a)},update:function(a){this.Oj&&this.Oj.update(1-a)},reverse:function(){return this.Oj.H()},
stop:function(){this.Oj.stop();p.Id.prototype.stop.call(this)}});p.Vt.create=function(a){var c=new p.Vt;c.ra(a);return c};
p.at=p.S.extend({uj:null,Lo:0,sv:null,Uq:0,MA:null,ctor:function(){p.S.prototype.ctor.call(this);this.uj=null;this.Lo=0;this.sv=null;this.Uq=0;this.MA=null},HH:function(){return this.uj},sV:function(a){this.uj=a},iI:function(a){if(!a)throw"cc.Animate.initWithAnimation(): animation must be non-NULL";var c=a.Af();if(this.P(c*a.Lj)){this.Lo=0;this.sV(a);this.sv=null;this.Uq=0;var d=[],e=0,f=c/a.Jm;a=a.je;p.bt(a,p.mj);for(var g=0;g<a.length;g++){var h=e*f/c,e=e+a[g].ge;d.push(h)}this.MA=d;return!0}return!1},
H:function(){var a=new p.at;a.iI(this.uj.H());return a},ba:function(a){p.S.prototype.ba.call(this,a);this.uj.wm&&(this.sv=a.nR());this.Uq=this.Lo=0},update:function(a){1>a&&(a*=this.uj.Lj,(0|a)>this.Uq&&(this.Lo=0,this.Uq++),a%=1);for(var c=this.uj.je,d=c.length,e=this.MA,f=this.Lo;f<d;f++)if(e[f]<=a)this.T.Jp(c[f].vh()),this.Lo=f+1;else break},reverse:function(){var a=this.uj,c=a.je,d=[];p.bt(c,p.mj);if(0<c.length)for(var e=c.length-1;0<=e;e--){var f=c[e];if(!f)break;d.push(f.H())}c=p.lj.fH(d,a.ge,
a.Lj);c.dx(a.wm);return p.at.create(c)},stop:function(){this.uj.wm&&this.T&&this.T.Jp(this.sv);p.Id.prototype.stop.call(this)}});p.at.create=function(a){var c=new p.at;c.iI(a);return c};
p.Iy=p.S.extend({Mf:null,lm:null,ctor:function(){p.S.prototype.ctor.call(this);this.lm=this.Mf=null},Mg:function(a,c){return this.P(c.Af())?(this.lm=a,this.Mf=c,!0):!1},H:function(){var a=new p.Iy;a.Mg(this.lm,this.Mf.H());return a},ba:function(a){p.S.prototype.ba.call(this,a);this.Mf.ba(this.lm)},stop:function(){this.Mf.stop()},update:function(a){this.Mf.update(a)},m3:function(){return this.lm},S9:function(a){this.lm!=a&&(this.lm=a)}});p.Iy.create=function(a,c){var d=new p.Iy;d.Mg(a,c);return d};p.qi=p.pj.extend({ii:function(){return!0},step:function(){this.update(1)},update:function(){},reverse:function(){return this.H()},H:function(){return new p.qi}});p.Zt=p.qi.extend({update:function(){this.T.w(!0)},reverse:function(){return p.Kt.create()},H:function(){return new p.Zt}});p.Zt.create=function(){return new p.Zt};p.Kt=p.qi.extend({update:function(){this.T.w(!1)},reverse:function(){return p.Zt.create()},H:function(){return new p.Kt}});p.Kt.create=function(){return new p.Kt};
p.hu=p.qi.extend({update:function(){this.T.w(!this.T.ma)},reverse:function(){return new p.hu},H:function(){return new p.hu}});p.hu.create=function(){return new p.hu};p.St=p.qi.extend({gr:!0,ctor:function(){p.pj.prototype.ctor.call(this);this.gr=!0},update:function(){this.T.L(this.gr)},r:function(a){this.gr=a;return!0},reverse:function(){return new p.St(this.gr)},H:function(){return new p.St(this.gr)}});p.St.create=function(a){null==a&&(a=!0);var c=new p.St;c&&c.r(a);return c};
p.It=p.qi.extend({nc:!1,ctor:function(){p.pj.prototype.ctor.call(this);this.nc=!1},kI:function(a){this.nc=a;return!0},update:function(){this.T.KV(this.nc)},reverse:function(){return p.It.create(!this.nc)},H:function(){var a=new p.It;a.kI(this.nc);return a}});p.It.create=function(a){var c=new p.It;return c.kI(a)?c:null};
p.Jt=p.qi.extend({oc:!1,ctor:function(){p.pj.prototype.ctor.call(this);this.oc=!1},lI:function(a){this.oc=a;return!0},update:function(){this.T.LV(this.oc)},reverse:function(){return p.Jt.create(!this.oc)},H:function(){var a=new p.Jt;a.lI(this.oc);return a}});p.Jt.create=function(a){var c=new p.Jt;return c.lI(a)?c:null};
p.py=p.qi.extend({p:null,ctor:function(){p.pj.prototype.ctor.call(this);this.p=p.a(0,0)},nI:function(a){this.p.x=a.x;this.p.y=a.y;return!0},update:function(){this.T.l(this.p)},H:function(){var a=new p.py;a.nI(this.p);return a}});p.py.create=function(a){var c=new p.py;c.nI(a);return c};
p.Zp=p.qi.extend({mh:null,fm:null,Hk:null,Bq:null,ctor:function(){p.pj.prototype.ctor.call(this);this.Bq=this.Hk=this.fm=this.mh=null},Mg:function(a,c,d){this.Bq=d;this.fm=a;this.mh=c;return!0},dC:function(a){this.Hk=a;return!0},execute:function(){null!=this.fm?this.fm.call(this.mh,this.T,this.Bq):this.Hk&&this.Hk.call(null,this.T)},update:function(){this.execute()},a5:function(){return this.mh},W$:function(a){a!=this.mh&&(this.mh&&(this.mh=null),this.mh=a)},copy:function(){var a=new p.Zp;this.mh?
a.Mg(this.fm,this.mh,this.Bq):this.Hk&&a.dC(this.Hk);return a},H:function(){var a=new p.Zp;this.mh?a.Mg(this.fm,this.mh,this.Bq):this.Hk&&a.dC(this.Hk);return a}});p.Zp.create=function(a,c,d){var e=new p.Zp;if(1==arguments.length){if(e&&e.dC(a))return e}else if(e&&e.Mg(a,c,d))return e.fm=a,e;return null};p.Fx=p.S.extend({hz:0,iz:0,jz:0,nF:0,oF:0,pF:0,wG:0,xG:0,yG:0,ctor:function(){p.S.prototype.ctor.call(this);this.yG=this.xG=this.wG=this.pF=this.oF=this.nF=this.jz=this.iz=this.hz=0},ba:function(a){p.S.prototype.ba.call(this,a);a=a.MB();var c=a.JH();this.hz=c.x;this.iz=c.y;this.jz=c.z;c=a.LH();this.nF=c.x;this.oF=c.y;this.pF=c.z;a=a.uS();this.wG=a.x;this.xG=a.y;this.yG=a.z},H:function(){return new p.Fx},reverse:function(){return p.Vt.create(this)}});
p.ny=p.Fx.extend({Oi:0,Ku:0,Zn:0,vz:0,tg:0,uz:0,vA:0,tA:0,uA:0,sA:0,ctor:function(){p.Fx.prototype.ctor.call(this);this.sA=this.uA=this.tA=this.vA=this.uz=this.tg=this.vz=this.Zn=this.Ku=this.Oi=0},P:function(a,c,d,e,f,g,h){return p.S.prototype.P.call(this,a)?(this.Oi=c,this.Ku=d,this.Zn=e,this.vz=f,this.tg=g,this.uz=h,this.tA=p.oj(f),this.sA=p.oj(h),!0):!1},VW:function(){var a=this.T.MB(),c=a.LH(),d=a.JH(),a=c.x-d.x,e=c.y-d.y,c=c.z-d.z,d=Math.sqrt(Math.pow(a,2)+Math.pow(e,2)+Math.pow(c,2)),f=Math.sqrt(Math.pow(a,
2)+Math.pow(e,2));0===f&&(f=p.Ft);0===d&&(d=p.Ft);return{BT:d/p.$p.ps(),qX:Math.acos(c/d),azimuth:0>a?Math.PI-Math.asin(e/f):Math.asin(e/f)}},ba:function(a){p.S.prototype.ba.call(this,a);a=this.VW();isNaN(this.Oi)&&(this.Oi=a.BT);isNaN(this.Zn)&&(this.Zn=p.ry(a.qX));isNaN(this.tg)&&(this.tg=p.ry(a.azimuth));this.vA=p.oj(this.Zn);this.uA=p.oj(this.tg)},H:function(){var a=new p.ny;a.P(this.ya,this.Oi,this.Ku,this.Zn,this.vz,this.tg,this.uz);return a},update:function(a){var c=(this.Oi+this.Ku*a)*p.$p.ps(),
d=this.vA+this.tA*a,e=this.uA+this.sA*a;a=Math.sin(d)*Math.cos(e)*c+this.hz;e=Math.sin(d)*Math.sin(e)*c+this.iz;c=Math.cos(d)*c+this.jz;this.T.MB().SJ(a,e,c)}});p.ny.create=function(a,c,d,e,f,g,h){var k=new p.ny;return k.P(a,c,d,e,f,g,h)?k:null};p.ld=p.S.extend({ha:null,ctor:function(){p.S.prototype.ctor.call(this);this.ha=null},ra:function(a){if(!a)throw"cc.ActionEase.initWithAction(): action must be non nil";return this.P(a.Af())?(this.ha=a,!0):!1},H:function(){var a=new p.ld;a.ra(this.ha.H());return a},ba:function(a){p.S.prototype.ba.call(this,a);this.ha.ba(this.T)},stop:function(){this.ha.stop();p.S.prototype.stop.call(this)},update:function(a){this.ha.update(a)},reverse:function(){return p.ld.create(this.ha.reverse())},NB:function(){return this.ha}});
p.ld.create=function(a){var c=new p.ld;c&&c.ra(a);return c};p.Vl=p.ld.extend({We:0,ctor:function(){p.ld.prototype.ctor.call(this);this.We=0},E$:function(a){this.We=a},y4:function(){return this.We},ra:function(a,c){return p.ld.prototype.ra.call(this,a)?(this.We=c,!0):!1},H:function(){var a=new p.Vl;a.ra(this.ha.H(),this.We);return a},reverse:function(){return p.Vl.create(this.ha.reverse(),1/this.We)}});p.Vl.create=function(a,c){var d=new p.Vl;d&&d.ra(a,c);return d};
p.yt=p.Vl.extend({update:function(a){this.ha.update(Math.pow(a,this.We))},reverse:function(){return p.yt.create(this.ha.reverse(),1/this.We)},H:function(){var a=new p.yt;a.ra(this.ha.H(),this.We);return a}});p.yt.create=function(a,c){var d=new p.yt;d&&d.ra(a,c);return d};p.At=p.Vl.extend({update:function(a){this.ha.update(Math.pow(a,1/this.We))},reverse:function(){return p.At.create(this.ha.reverse(),1/this.We)},H:function(){var a=new p.At;a.ra(this.ha.H(),this.We);return a}});
p.At.create=function(a,c){var d=new p.At;d&&d.ra(a,c);return d};p.zt=p.Vl.extend({update:function(a){a*=2;1>a?this.ha.update(0.5*Math.pow(a,this.We)):this.ha.update(1-0.5*Math.pow(2-a,this.We))},H:function(){var a=new p.zt;a.ra(this.ha.H(),this.We);return a},reverse:function(){return p.zt.create(this.ha.reverse(),this.We)}});p.zt.create=function(a,c){var d=new p.zt;d&&d.ra(a,c);return d};
p.vt=p.ld.extend({update:function(a){this.ha.update(0===a?0:Math.pow(2,10*(a-1)))},reverse:function(){return p.xt.create(this.ha.reverse())},H:function(){var a=new p.vt;a.ra(this.ha.H());return a}});p.vt.create=function(a){var c=new p.vt;c&&c.ra(a);return c};p.xt=p.ld.extend({update:function(a){this.ha.update(1==a?1:-Math.pow(2,-10*a)+1)},reverse:function(){return p.vt.create(this.ha.reverse())},H:function(){var a=new p.xt;a.ra(this.ha.H());return a}});
p.xt.create=function(a){var c=new p.xt;c&&c.ra(a);return c};p.wt=p.ld.extend({update:function(a){1!=a&&0!==a&&(a*=2,a=1>a?0.5*Math.pow(2,10*(a-1)):0.5*(-Math.pow(2,-10*(a-1))+2));this.ha.update(a)},reverse:function(){return p.wt.create(this.ha.reverse())},H:function(){var a=new p.wt;a.ra(this.ha.H());return a}});p.wt.create=function(a){var c=new p.wt;c&&c.ra(a);return c};
p.Bt=p.ld.extend({update:function(a){a=0===a||1==a?a:-1*Math.cos(a*Math.PI/2)+1;this.ha.update(a)},reverse:function(){return p.Dt.create(this.ha.reverse())},H:function(){var a=new p.Bt;a.ra(this.ha.H());return a}});p.Bt.create=function(a){var c=new p.Bt;c&&c.ra(a);return c};p.Dt=p.ld.extend({update:function(a){a=0===a||1==a?a:Math.sin(a*Math.PI/2);this.ha.update(a)},reverse:function(){return p.Bt.create(this.ha.reverse())},H:function(){var a=new p.Dt;a.ra(this.ha.H());return a}});
p.Dt.create=function(a){var c=new p.Dt;c&&c.ra(a);return c};p.Ct=p.ld.extend({update:function(a){a=0===a||1==a?a:-0.5*(Math.cos(Math.PI*a)-1);this.ha.update(a)},H:function(){var a=new p.Ct;a.ra(this.ha.H());return a},reverse:function(){return p.Ct.create(this.ha.reverse())}});p.Ct.create=function(a){var c=new p.Ct;c&&c.ra(a);return c};
p.Ln=p.ld.extend({le:null,ctor:function(){p.ld.prototype.ctor.call(this);this.le=0.3},k4:function(){return this.le},y$:function(a){this.le=a},ra:function(a,c){p.ld.prototype.ra.call(this,a);this.le=null==c?0.3:c;return!0},reverse:function(){p.log("cc.EaseElastic.reverse(): it should be overridden in subclass.")},H:function(){var a=new p.Ln;a.ra(this.ha.H(),this.le);return a}});p.Ln.create=function(a,c){var d=new p.Ln;return d&&d.ra(a,c)?d:null};
p.st=p.Ln.extend({update:function(a){var c=0;0===a||1===a?c=a:(c=this.le/4,a-=1,c=-Math.pow(2,10*a)*Math.sin((a-c)*Math.PI*2/this.le));this.ha.update(c)},reverse:function(){return p.ut.create(this.ha.reverse(),this.le)},H:function(){var a=new p.st;a.ra(this.ha.H(),this.le);return a}});p.st.create=function(a,c){var d=new p.st;return d&&d.ra(a,c)?d:null};
p.ut=p.Ln.extend({update:function(a){var c=0,c=0===a||1==a?a:Math.pow(2,-10*a)*Math.sin((a-this.le/4)*Math.PI*2/this.le)+1;this.ha.update(c)},reverse:function(){return p.st.create(this.ha.reverse(),this.le)},H:function(){var a=new p.ut;a.ra(this.ha.H(),this.le);return a}});p.ut.create=function(a,c){var d=new p.ut;d&&d.ra(a,c);return d};
p.tt=p.Ln.extend({update:function(a){var c=0,c=this.le;if(0===a||1==a)c=a;else{c||(c=this.le=0.3*1.5);var d=c/4;a=2*a-1;c=0>a?-0.5*Math.pow(2,10*a)*Math.sin((a-d)*Math.PI*2/c):Math.pow(2,-10*a)*Math.sin((a-d)*Math.PI*2/c)*0.5+1}this.ha.update(c)},reverse:function(){return p.tt.create(this.ha.reverse(),this.le)},H:function(){var a=new p.tt;a.ra(this.ha.H(),this.le);return a}});p.tt.create=function(a,c){var d=new p.tt;d&&d.ra(a,c);return d};
p.Ul=p.ld.extend({cw:function(a){if(a<1/2.75)return 7.5625*a*a;if(a<2/2.75)return a-=1.5/2.75,7.5625*a*a+0.75;if(a<2.5/2.75)return a-=2.25/2.75,7.5625*a*a+0.9375;a-=2.625/2.75;return 7.5625*a*a+0.984375},H:function(){var a=new p.Ul;a.ra(this.ha.H());return a},reverse:function(){return p.Ul.create(this.ha.reverse())}});p.Ul.create=function(a){var c=new p.Ul;c&&c.ra(a);return c};
p.pt=p.Ul.extend({update:function(a){this.ha.update(1-this.cw(1-a))},reverse:function(){return p.rt.create(this.ha.reverse())},H:function(){var a=new p.pt;a.ra(this.ha.H());return a}});p.pt.create=function(a){var c=new p.pt;c&&c.ra(a);return c};p.rt=p.Ul.extend({update:function(a){this.ha.update(this.cw(a))},reverse:function(){return p.pt.create(this.ha.reverse())},H:function(){var a=new p.rt;a.ra(this.ha.H());return a}});p.rt.create=function(a){var c=new p.rt;c&&c.ra(a);return c};
p.qt=p.Ul.extend({update:function(a){var c=0,c=0.5>a?0.5*(1-this.cw(1-2*a)):0.5*this.cw(2*a-1)+0.5;this.ha.update(c)},H:function(){var a=new p.qt;a.ra(this.ha.H());return a},reverse:function(){return p.qt.create(this.ha.reverse())}});p.qt.create=function(a){var c=new p.qt;c&&c.ra(a);return c};p.mt=p.ld.extend({update:function(a){this.ha.update(0===a||1==a?a:a*a*(2.70158*a-1.70158))},reverse:function(){return p.ot.create(this.ha.reverse())},H:function(){var a=new p.mt;a.ra(this.ha.H());return a}});
p.mt.create=function(a){var c=new p.mt;c&&c.ra(a);return c};p.ot=p.ld.extend({update:function(a){a-=1;this.ha.update(a*a*(2.70158*a+1.70158)+1)},reverse:function(){return p.mt.create(this.ha.reverse())},H:function(){var a=new p.ot;a.ra(this.ha.H());return a}});p.ot.create=function(a){var c=new p.ot;c&&c.ra(a);return c};
p.nt=p.ld.extend({update:function(a){a*=2;1>a?this.ha.update(a*a*(3.5949095*a-2.5949095)/2):(a-=2,this.ha.update(a*a*(3.5949095*a+2.5949095)/2+1))},H:function(){var a=new p.nt;a.ra(this.ha.H());return a},reverse:function(){return p.nt.create(this.ha.reverse())}});p.nt.create=function(a){var c=new p.nt;c&&c.ra(a);return c};p.Ox=function(a,c,d,e,f,g){var h=g*g,k=h*g,l=(1-f)/2;f=l*(-k+2*h-g);var m=l*(-k+h)+(2*k-3*h+1);g=l*(k-2*h+g)+(-2*k+3*h);h=l*(k-h);return p.a(a.x*f+c.x*m+d.x*g+e.x*h,a.y*f+c.y*m+d.y*g+e.y*h)};p.CJ=function(a){for(var c=[],d=a.length-1;0<=d;d--)c.push(p.a(a[d].x,a[d].y));return c};p.iw=function(a){for(var c=[],d=0;d<a.length;d++)c.push(p.a(a[d].x,a[d].y));return c};p.th=function(a,c){var d=Math.min(a.length-1,Math.max(c,0));return a[d]};
p.k9=function(a){for(var c=a.length,d=0|c/2,e=0;e<d;++e){var f=a[e];a[e]=a[c-e-1];a[c-e-1]=f}};
p.si=p.S.extend({Nh:null,wz:0,Fm:0,Uc:null,Ty:null,ctor:function(){p.S.prototype.ctor.call(this);this.Nh=[];this.Fm=this.wz=0;this.Ty=this.Uc=null},P:function(a,c,d){if(!c||0==c.length)throw"Invalid configuration. It must at least have one control point";return p.S.prototype.P.call(this,a)?(this.iW(c),this.Fm=d,!0):!1},H:function(){var a=new p.si;a.P(this.ya,p.iw(this.Nh),this.Fm);return a},ba:function(a){p.S.prototype.ba.call(this,a);this.wz=1/(this.Nh.length-1);a=this.T.p;this.Uc=p.a(a.x,a.y);this.Ty=
p.a(0,0)},update:function(a){var c,d=this.Nh;if(1==a)c=d.length-1,a=1;else{var e=this.wz;c=0|a/e;a=(a-e*c)/e}c=p.Ox(p.th(d,c-1),p.th(d,c-0),p.th(d,c+1),p.th(d,c+2),this.Fm,a);p.jt&&(d=this.T.p.G-this.Uc.x,a=this.T.p.O-this.Uc.y,0!=d||0!=a)&&(e=this.Ty,d=e.x+d,a=e.y+a,e.x=d,e.y=a,c.x+=d,c.y+=a);this.aL(c)},reverse:function(){var a=p.CJ(this.Nh);return p.si.create(this.ya,a,this.Fm)},aL:function(a){this.T.l(a);this.Uc=a},o4:function(){return this.Nh},iW:function(a){this.Nh=a}});
p.si.create=function(a,c,d){var e=new p.si;return e.P(a,c,d)?e:null};
p.aq=p.si.extend({Vc:null,ctor:function(){p.si.prototype.ctor.call(this);this.Vc=p.a(0,0)},ba:function(a){p.si.prototype.ba.call(this,a);a=a.p;this.Vc.x=a.x;this.Vc.y=a.y},reverse:function(){for(var a=this.Nh.slice(),c,d=a[0],e=1;e<a.length;++e)c=a[e],a[e]=p.Ed(c,d),d=c;a=p.CJ(a);d=a[a.length-1];a.pop();d.x=-d.x;d.y=-d.y;a.unshift(d);for(e=1;e<a.length;++e)c=a[e],c.x=-c.x,c.y=-c.y,c.x+=d.x,c.y+=d.y,d=a[e]=c;return p.aq.create(this.ya,a,this.Fm)},aL:function(a){var c=this.Vc,d=a.x+c.x;a=a.y+c.y;this.T.l(d,
a);this.Uc.x=d;this.Uc.y=a},H:function(){var a=new p.aq;a.P(this.ya,p.iw(this.Nh),this.Fm);return a}});p.aq.create=function(a,c,d){var e=new p.aq;return e.P(a,c,d)?e:null};p.Qx=p.si.extend({P:function(a,c){return p.si.prototype.P.call(this,a,c,0.5)},H:function(){var a=new p.Qx;a.P(this.ya,p.iw(this.Nh));return a}});p.Qx.create=function(a,c){var d=new p.Qx;return d.P(a,c)?d:null};
p.Px=p.aq.extend({P:function(a,c){return p.si.prototype.P.call(this,a,c,0.5)},H:function(){var a=new p.Px;a.P(this.ya,p.iw(this.Nh));return a}});p.Px.create=function(a,c){var d=new p.Px;return d.P(a,c)?d:null};p.CX=p.Ea.extend({GD:function(){}});
p.Jn=p.S.extend({key:"",Ym:0,Ml:0,zB:0,ctor:function(){p.S.prototype.ctor.call(this);this.key="";this.zB=this.Ml=this.Ym=0},P:function(a,c,d,e){return p.S.prototype.P.call(this,a)?(this.key=c,this.Ml=e,this.Ym=d,!0):!1},ba:function(a){if(!a||!a.GD)throw"cc.ActionTween.startWithTarget(): target must be non-null, and target must implement updateTweenAction function";p.S.prototype.ba.call(this,a);this.zB=this.Ml-this.Ym},update:function(a){this.T.GD(this.Ml-this.zB*(1-a),this.key)},reverse:function(){return p.Jn.create(this.duration,
this.key,this.Ml,this.Ym)},H:function(){var a=new p.Jn;a.P(this.ya,this.key,this.Ym,this.Ml);return a}});p.Jn.create=function(a,c,d,e){var f=new p.Jn;return f.P(a,c,d,e)?f:null};p.sk=0;p.oy=1;p.zE=4;p.rM=75;
p.Fc=p.Bb.extend({zf:null,Mi:0,ob:null,Lh:null,em:null,Pd:!1,M3:function(){return p.a(this.Lh.x,this.Lh)},aK:function(a){this.Lh=p.fJ(a)},u2:function(){return p.a(this.em.x,this.em.y)},IJ:function(a){this.em=p.fJ(a)},rc:function(){return this.zf},rw:function(){return this.Mi},oS:function(){return this.ob},Ks:function(a){this.Mi!=a&&(this.Mi=p.as(a,0,100),this.bB())},If:function(){},pl:function(){return!1},F6:function(){return this.Pd},dz:function(a){if(a<p.zE){var c=p.rM;return this.Pd?p.a(c>>7-(a<<
1)&1,c>>7-((a<<1)+1)&1):p.a(c>>(a<<1)+1&1,c>>(a<<1)&1)}return p.qj()},Tc:null,TA:270,Dz:270,Oi:0,pz:!1,az:null,Cd:0,Lc:null,Yf:null,GG:null,Zr:!1,ctor:null,Hh:function(){p.Bb.prototype.ctor.call(this);this.zf=p.sk;this.Mi=0;this.Lh=p.a(0,0);this.em=p.a(0,0);this.Pd=!1;this.ob=null;this.Tc=p.qj();this.Dz=this.TA=270;this.Oi=0;this.pz=!1;this.az=p.md()},Ih:function(){p.Bb.prototype.ctor.call(this);this.zf=p.sk;this.Mi=0;this.Lh=p.a(0,0);this.em=p.a(0,0);this.Pd=!1;this.ob=null;this.GG=p.Y.createBuffer();
this.Cd=0;this.Yf=this.Lc=null;this.Zr=!1},m:function(a){this.ob.m(a);this.Bd()},pa:function(a){this.ob.pa(a);this.Bd()},Dd:function(){return this.ob.Dd()},Ui:function(){return this.ob.Ui()},mK:null,oP:function(a){this.Pd!==a&&(this.Pd=a)},pP:function(a){this.Pd!==a&&(this.Pd=a,this.Yf=this.Lc=null,this.Cd=0)},Ms:null,rP:function(a){this.ob!=a&&(this.ob=a,this.R(this.ob.c()))},sP:function(a){a&&this.ob!=a&&(this.ob=a,this.R(a.c()),this.Lc&&(this.Yf=this.Lc=null,this.Cd=0))},hj:null,vP:function(a){a!==
this.zf&&(this.zf=a)},wP:function(a){a!==this.zf&&(this.Lc&&(this.Yf=this.Lc=null,this.Cd=0),this.zf=a)},lK:null,mP:function(a){this.Pd!==a&&(this.Pd=a)},nP:function(a){this.Pd!==a&&(this.Pd=a,this.Yf=this.Lc=null,this.Cd=0)},bf:function(a){var c=this.ob;if(!c)return{Pa:0,na:0};var d=c.Nb,e=p.a(d.Ka.B.Pa,d.Ka.B.na),d=p.a(d.Na.B.Pa,d.Na.B.na);c.bd&&(c=a.x,a.x=a.y,a.y=c);return{Pa:e.x*(1-a.x)+d.x*a.x,na:e.y*(1-a.y)+d.y*a.y}},df:function(a){if(!this.ob)return{x:0,y:0};var c=this.ob.Nb,d=p.a(c.Ka.s.x,
c.Ka.s.y),c=p.a(c.Na.s.x,c.Na.s.y);return{x:d.x*(1-a.x)+c.x*a.x,y:d.y*(1-a.y)+c.y*a.y}},gC:null,XN:function(a){this.Ks(0);this.F(0.5,0.5);this.zf=p.sk;this.Pd=!1;this.aK(p.a(0.5,0.5));this.IJ(p.a(1,1));this.Ms(a);return!0},YN:function(a){this.Ks(0);this.Yf=this.Lc=null;this.Cd=0;this.F(0.5,0.5);this.zf=p.sk;this.Pd=!1;this.aK(p.a(0.5,0.5));this.IJ(p.a(1,1));this.Ms(a);this.Sg(p.Fh.e().mi(p.vy));return!0},Oa:null,im:function(a){a=a||p.Y;var c=this.ob;c.Co&&(a.globalCompositeOperation="lighter");var d=
p.sa.e().ta,e=p.sa.e().Aa;a.globalAlpha=c.Zb/255;var f=c.za,g=c.xa,h=c.ic,k=c.Cz,l=0|h.x,m=-h.y-f.height,n=c.Zo;k.width=f.width*d;k.height=f.height*e;a.save();c.nc&&(l=-h.x-f.width,a.scale(-1,1));c.oc&&(m=h.y,a.scale(1,-1));l*=d;m*=e;this.zf==p.oy?(f=this.az,a.beginPath(),a.rect(f.x*d,f.y*e,f.width*d,f.height*e),a.clip(),a.closePath()):this.zf==p.sk&&(f=this.Tc.x*d,h=this.Tc.y*e,a.beginPath(),a.arc(f,h,this.Oi*e,Math.PI/180*this.TA,Math.PI/180*this.Dz,this.pz),a.lineTo(f,h),a.clip(),a.closePath());
c.Fa&&n.Zs?(d=c.Fa.Jc,this.Du?a.drawImage(d,0,0,n.width,n.height,l,m,k.width,k.height):a.drawImage(d,n.x,n.y,n.width,n.height,l,m,k.width,k.height)):0!==g.width&&(k=this.Dd(),a.fillStyle="rgba("+k.o+","+k.n+","+k.i+",1)",a.fillRect(l,m,g.width*d,g.height*e));a.restore();p.Ch()},xg:function(a){a=a||p.Y;if(this.Lc&&this.ob){p.ly(this);var c=this.ob.ja;p.ck(c.src,c.Ib);p.Ae(p.lu);this.ob.ea()?p.Kg(this.ob.ea()):p.Kg(null);a.bindBuffer(a.ARRAY_BUFFER,this.GG);this.Zr&&(a.bufferData(a.ARRAY_BUFFER,this.Yf,
a.DYNAMIC_DRAW),this.Zr=!1);c=p.Xb.BYTES_PER_ELEMENT;a.vertexAttribPointer(p.Qe,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(p.lq,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(p.mq,2,a.FLOAT,!1,c,12);this.zf===p.sk?a.drawArrays(a.TRIANGLE_FAN,0,this.Cd):this.zf==p.oy&&(this.Pd?(a.drawArrays(a.TRIANGLE_STRIP,0,this.Cd/2),a.drawArrays(a.TRIANGLE_STRIP,4,this.Cd/2),p.ei++):a.drawArrays(a.TRIANGLE_STRIP,0,this.Cd));p.ei++}},YP:function(){if(this.ob){var a,c=this.Lh;a=this.Mi/100;var d=2*p.PI*(this.Pd?a:
1-a),e=p.a(c.x,1),f=p.WT(e,c,d),d=0;if(0==a)f=e,d=0;else if(1==a)f=e,d=4;else{var g=p.IL,h=p.zE;for(a=0;a<=h;++a){var k=(a+(h-1))%h,l=this.dz(a%h),k=this.dz(k);0==a?k=p.hJ(l,k,1-c.x):4==a&&(l=p.hJ(l,k,1-c.x));var m=p.a(0,0);p.AC(l,k,c,f,m)&&(0!=a&&4!=a||0<=m.x&&1>=m.x)&&0<=m.y&&m.y<g&&(g=m.y,d=a)}f=p.gg(c,p.ej(p.Ed(f,c),g))}g=!0;this.Cd!=d+3&&(g=!1,this.Yf=this.Lc=null,this.Cd=0);if(!this.Lc){h=this.Cd=d+3;l=p.Xb.BYTES_PER_ELEMENT;this.Yf=new ArrayBuffer(h*l);k=[];for(a=0;a<h;a++)k[a]=new p.Xb(null,
null,null,this.Yf,a*l);this.Lc=k;if(!this.Lc){p.log("cc.ProgressTimer._updateRadial() : Not enough memory");return}}this.Bd();h=this.Lc;if(!g)for(h[0].B=this.bf(c),h[0].s=this.df(c),h[1].B=this.bf(e),h[1].s=this.df(e),a=0;a<d;a++)c=this.dz(a),h[a+2].B=this.bf(c),h[a+2].s=this.df(c);h[this.Cd-1].B=this.bf(f);h[this.Cd-1].s=this.df(f)}},NP:function(){if(this.ob){var a,c=this.Mi/100,d=this.em,d=p.ej(p.a(1-d.x+c*d.x,1-d.y+c*d.y),0.5),c=p.Ed(this.Lh,d),d=p.gg(this.Lh,d);0>c.x&&(d.x+=-c.x,c.x=0);1<d.x&&
(c.x-=d.x-1,d.x=1);0>c.y&&(d.y+=-c.y,c.y=0);1<d.y&&(c.y-=d.y-1,d.y=1);if(this.Pd){if(!this.Lc){this.Cd=8;var e=p.Xb.BYTES_PER_ELEMENT;this.Yf=new ArrayBuffer(8*e);var f=[];for(a=0;8>a;a++)f[a]=new p.Xb(null,null,null,this.Yf,a*e);f[0].B=this.bf(p.a(0,1));f[0].s=this.df(p.a(0,1));f[1].B=this.bf(p.a(0,0));f[1].s=this.df(p.a(0,0));f[6].B=this.bf(p.a(1,1));f[6].s=this.df(p.a(1,1));f[7].B=this.bf(p.a(1,0));f[7].s=this.df(p.a(1,0));this.Lc=f}a=this.Lc;a[2].B=this.bf(p.a(c.x,d.y));a[2].s=this.df(p.a(c.x,
d.y));a[3].B=this.bf(p.a(c.x,c.y));a[3].s=this.df(p.a(c.x,c.y));a[4].B=this.bf(p.a(d.x,d.y));a[4].s=this.df(p.a(d.x,d.y));a[5].B=this.bf(p.a(d.x,c.y));a[5].s=this.df(p.a(d.x,c.y))}else{if(!this.Lc)for(this.Cd=4,e=p.Xb.BYTES_PER_ELEMENT,this.Yf=new ArrayBuffer(4*e),this.Lc=[],a=0;4>a;a++)this.Lc[a]=new p.Xb(null,null,null,this.Yf,a*e);a=this.Lc;a[0].B=this.bf(p.a(c.x,d.y));a[0].s=this.df(p.a(c.x,d.y));a[1].B=this.bf(p.a(c.x,c.y));a[1].s=this.df(p.a(c.x,c.y));a[2].B=this.bf(p.a(d.x,d.y));a[2].s=this.df(p.a(d.x,
d.y));a[3].B=this.bf(p.a(d.x,c.y));a[3].s=this.df(p.a(d.x,c.y))}this.Bd()}},Bd:function(){if(this.ob&&this.Lc){for(var a=this.ob.Nb.Ta.N,c=this.Lc,d=0,e=this.Cd;d<e;++d)c[d].N=a;this.Zr=!0}},bB:null,UP:function(){var a=this.ob,c=a.c(),d=this.Lh;if(this.zf==p.sk){this.Oi=Math.round(Math.sqrt(c.width*c.width+c.height*c.height));var e,f=!1,g=this.Tc;g.x=c.width*d.x;g.y=-c.height*d.y;this.Pd?(e=270,d=270-3.6*this.Mi):(d=-90,e=-90+3.6*this.Mi);a.nc&&(g.x-=2*c.width*this.Lh.x,d=-d-180,e=-e-180,f=!f);a.oc&&
(g.y+=2*c.height*this.Lh.y,f=!f,d=-d,e=-e);this.TA=d;this.Dz=e;this.pz=f}else{e=this.em;g=this.Mi/100;f=this.az;e=p.size(c.width*(1-e.x),c.height*(1-e.y));var g=p.size((c.width-e.width)*g,(c.height-e.height)*g),g=p.size(e.width+g.width,e.height+g.height),h=p.a(c.width*d.x,c.height*d.y),k=h.x-g.width/2;0.5<d.x&&g.width/2>=c.width-h.x&&(k=c.width-g.width);e=h.y-g.height/2;0.5<d.y&&g.height/2>=c.height-h.y&&(e=c.height-g.height);f.x=0;c=1;a.nc&&(f.x-=g.width,c=-1);0<k&&(f.x+=k*c);f.y=0;c=1;a.oc&&(f.y+=
g.height,c=-1);0<e&&(f.y-=e*c);f.width=g.width;f.height=-g.height}},VP:function(){var a=this.zf;a===p.sk?this.YP():a===p.oy&&this.NP();this.Zr=!0}});
p.Ga.Rc?(b=p.Fc.prototype,b.ctor=p.Fc.prototype.Ih,b.mK=p.Fc.prototype.pP,b.Ms=p.Fc.prototype.sP,b.hj=p.Fc.prototype.wP,b.lK=p.Fc.prototype.nP,b.gC=p.Fc.prototype.YN,b.Oa=p.Fc.prototype.xg,b.bB=p.Fc.prototype.VP):(b=p.Fc.prototype,b.ctor=p.Fc.prototype.Hh,b.mK=p.Fc.prototype.oP,b.Ms=p.Fc.prototype.rP,b.hj=p.Fc.prototype.vP,b.lK=p.Fc.prototype.mP,b.gC=p.Fc.prototype.XN,b.Oa=p.Fc.prototype.im,b.bB=p.Fc.prototype.UP);p.Fc.create=function(a){var c=new p.Fc;return c.gC(a)?c:null};p.qy=p.S.extend({yf:0,ke:0,ctor:function(){p.S.prototype.ctor.call(this);this.ke=this.yf=0},P:function(a,c){return p.S.prototype.P.call(this,a)?(this.yf=c,!0):!1},H:function(){var a=new p.qy;a.P(this.ya,this.yf);return a},reverse:function(){p.log("cc.ProgressTo.reverse(): reverse hasn't been supported.");return null},ba:function(a){p.S.prototype.ba.call(this,a);this.ke=a.rw();100==this.ke&&(this.ke=0)},update:function(a){this.T instanceof p.Fc&&this.T.Ks(this.ke+(this.yf-this.ke)*a)}});
p.qy.create=function(a,c){var d=new p.qy;d.P(a,c);return d};p.Qt=p.S.extend({yf:0,ke:0,ctor:function(){p.S.prototype.ctor.call(this);this.ke=this.yf=0},P:function(a,c,d){return p.S.prototype.P.call(this,a)?(this.yf=d,this.ke=c,!0):!1},H:function(){var a=new p.Qt;a.P(this.ya,this.ke,this.yf);return a},reverse:function(){return p.Qt.create(this.ya,this.yf,this.ke)},ba:function(a){p.S.prototype.ba.call(this,a)},update:function(a){this.T instanceof p.Fc&&this.T.Ks(this.ke+(this.yf-this.ke)*a)}});
p.Qt.create=function(a,c,d){var e=new p.Qt;e.P(a,c,d);return e};p.Mx=9;p.oL=1;p.rL=2;p.sL=4;p.pL=8;p.qL=16;p.ft=32;p.tL=64;p.nL=128;p.ri=256;p.pg=1;p.ht=2;p.gt=4;p.UX=8;p.TX=8;
p.Wb=p.Dh.extend({EF:!1,K_:!1,pl:function(){return this.EF},If:function(a){this.EF=a;for(var c=this.t,d=0,e=c.length;d<e;d++){var f=c[d];f&&f.jb&&f.If(a)}},Qi:p.pg,X4:function(){return this.Qi},Rq:!1,Qo:!1,Hj:!1,Lu:null,Hf:function(a){this.Qi=(this.Rq=a)?p.pg:p.gt;this.gd()},isEnabled:function(){return this.Rq},Op:function(a){this.Qo=a;this.gd()},I6:function(){return this.Qo},El:function(a){this.Hj=a;this.gd()},r6:function(){return this.Hj},KS:function(){for(var a=this.getParent();null!=a;a=a.getParent())if(!a.ma)return!1;
return!0},ctor:function(){p.Dh.prototype.ctor.call(this);this.Lu={};this.mc=p.vb()},r:function(){return p.Dh.prototype.r.call(this)?(this.Qi=p.pg,this.Rq=!0,this.Hj=this.Qo=!1,this.Qp(1),!0):!1},Qw:function(){p.KC(this.al,!0,this)},lf:function(a){for(var c=0,d=p.Mx;c<d;c++)if(a&1<<c)for(var e=this.Bz(1<<c),f=0,g=e.length;f<g;f++)e[f].gT(this)},UG:function(a,c,d){for(var e=0,f=p.Mx;e<f;e++)d&1<<e&&this.su(a,c,1<<e)},d9:function(a,c,d){for(var e=0,f=p.Mx;e<f;e++)d&1<<e&&this.OO(a,c,1<<e)},Xi:function(a){return this.Ia(a.M)},
ji:function(a){a=a.M;a=this.getParent().Ia(a);return p.bb(this.Ya(),a)},M_:function(){return null},Bz:function(a){a=a.toString();this.Lu.hasOwnProperty(a)||(this.Lu[a]=[]);return this.Lu[a]},su:function(a,c,d){a=new p.QL(a,c,d);this.Bz(d).push(a)},OO:function(a,c,d){d=this.Bz(d);if(a||c)for(var e=0;e<d.length;){var f=d[e],g=!0;a&&(g=a==f.T);c&&(g=g&&c==f.Mf);g?p.Zd(d,f):e++}else d.length=0},gd:function(){}});p.Wb.create=function(){var a=new p.Wb;return a&&a.r()?a:null};p.XD=3435855873;
p.Bh=p.Wb.extend({Iq:!1,$r:!1,zg:null,ir:null,Aq:null,Iu:null,Im:null,de:null,Li:0,Eo:!1,Ov:null,Or:null,Pv:null,dm:null,RF:!1,iv:0,hv:0,ctor:function(){p.Wb.prototype.ctor.call(this);this.zg=new p.vk(0,0);this.ir=new p.Yg(0,0);this.Aq="";this.Iu=p.vb();this.Ov={};this.Or={};this.Pv={};this.dm={}},r:function(){return this.Aw(p.Q.create("","Arial",12),p.Pe.create())},gd:function(){if(this.RF){this.Im&&this.Im.w(!1);this.de&&this.de.w(!1);this.QV(this.ir);var a=this.Qi;this.Aq=this.UB(a);this.Iu=this.tS(a);
var c=this.Im=this.ms(a);c&&c.fa&&c.fa(this.Aq);c&&c.jb&&c.m(this.Iu);var d=this.c();c&&c.l(d.width/2,d.height/2);(a=this.de=this.IR(a))&&a.l(d.width/2,d.height/2);d=c?c.Ya().Ra:p.size(0,0);if(this.Iq)a&&a.R(d.width+2*this.hv,d.height+2*this.iv);else if(a){var e=a.zg,e=p.size(e.width,e.height);0>=e.width&&(e.width=d.width);0>=e.height&&(e.height=d.height);a.R(e)}d=c?c.Ya():p.rect(0,0,0,0);e=a?a.Ya():p.rect(0,0,0,0);d=p.Pw(d,e);this.R(d.width,d.height);d=this.c();c&&(c.l(d.width/2,d.height/2),c.w(!0));
a&&(a.l(d.width/2,d.height/2),a.w(!0))}},Aw:function(a,c){if(!a||!a.jb)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): label should be non-null";if(!c)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): backgroundSprite should be non-null";return p.Wb.prototype.r.call(this,!0)?(this.RF=!0,this.Ov={},this.Or={},this.Pv={},this.dm={},this.Vb(!0),this.Eo=!1,this.$r=!0,this.Aq=null,this.qV(!0),this.oi(p.size(0,0)),this.$r=!0,this.Yi(!1),this.F(0.5,0.5),this.Im=a,this.de=c,this.pa(255),
this.If(!0),this.xW(a.SB(),p.pg),this.wW(a.Dd(),p.pg),this.kD(a,p.pg),this.Bl(c,p.pg),this.Qi=p.pg,this.hv=24,this.iv=12,this.ir=new p.Yg(0.5,0.5),this.oi(p.Xl()),this.gd(),!0):!1},ZS:function(a,c,d){a=p.Q.create(a,c,d);return this.Aw(a,p.Pe.create())},xw:function(a){var c=p.Q.create("","Arial",30);return this.Aw(c,a)},z1:function(){return this.Iq},qV:function(a){this.Iq=a;this.gd()},F5:function(){return this.$r},rD:function(a){return this.$r=a},cS:function(){return this.zg},oi:function(a){if(0===
a.width&&0===a.height)this.Iq=!0;else{this.Iq=!1;var c=this.dm,d;for(d in c)c[d].oi(a)}this.zg=a;this.gd()},C3:function(){return this.ir},QV:function(a){this.ir=a;this.Im&&this.Im.F(a)},D_:function(){return this.Aq},E_:function(){return this.Iu},Ui:function(){return this.Li},pa:function(a){p.Wb.prototype.pa.call(this,a);var c=this.dm,d;for(d in c)c[d].pa(a)},m:function(a){p.Wb.prototype.m.call(this,a);var c=this.dm,d;for(d in c)c[d].m(a)},Dd:function(){return this.ne},E6:function(){return this.Eo},
I_:function(){return this.iv},G_:function(){return this.hv},h$:function(a,c){this.iv=c;this.hv=a;this.gd()},Hf:function(a){p.Wb.prototype.Hf.call(this,a);this.gd()},Op:function(a){p.Wb.prototype.Op.call(this,a);this.gd()},El:function(a){this.Qi=a?p.ht:p.pg;p.Wb.prototype.El.call(this,a);(a=this.LB(p.XD))&&this.WW(a);this.gd();this.$r&&(a=p.Un.create(0.05,this.Hj&&this.isEnabled()&&!this.Qo?1.1:1),a.rK(p.XD),this.Tw(a))},lb:function(a){if(!(this.ji(a)&&this.isEnabled()&&this.ma&&this.KS()))return!1;
this.Eo=!0;this.El(!0);this.lf(p.oL);return!0},vd:function(a){this.Rq&&this.Eo&&!this.Qo?(a=this.ji(a))&&!this.Hj?(this.El(!0),this.lf(p.pL)):a&&this.Hj?this.lf(p.rL):!a&&this.Hj?(this.El(!1),this.lf(p.qL)):a||this.Hj||this.lf(p.sL):this.Hj&&this.El(!1)},Ff:function(a){this.Eo=!1;this.El(!1);this.ji(a)?this.lf(p.ft):this.lf(p.tL)},hk:function(){this.Eo=!1;this.El(!1);this.lf(p.nL)},UB:function(a){var c=this.Ov;return c?c[a]?c[a]:c[p.pg]:""},xW:function(a,c){this.Ov[c]=a||"";this.Qi==c&&this.gd()},
tS:function(a){return(a=this.Or[a])?a:(a=this.Or[p.pg])?a:p.vb()},wW:function(a,c){this.Or[c]=a;this.Qi==c&&this.gd()},ms:function(a){var c=this.Pv;return c.hasOwnProperty(a)&&c[a]?c[a]:c[p.pg]},kD:function(a,c){var d=this.Pv;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.w(!1);a.F(0.5,0.5);this.f(a,1);this.Qi==c&&this.gd()},baa:function(a,c){var d=this.UB(c);d||(d="");this.kD(p.Q.create(d,a,12),c)},h5:function(a){a=this.ms(a);return null!=a&&a instanceof p.Q?a.sf:""},caa:function(a,
c){var d=this.ms(c);null!=d&&d instanceof p.Q&&d.Zw(a)},i5:function(a){a=this.ms(a);return null!=a&&a instanceof p.Q?a.Te:0},aaa:function(a,c){var d=this.UB(c);d||(d="");this.kD(p.iy.create(d,a),c)},g5:function(a){a=this.ms(a);return null!=a&&a instanceof p.iy?a.j3():""},IR:function(a){var c=this.dm;return c.hasOwnProperty(a)&&c[a]?c[a]:c[p.pg]},Bl:function(a,c){var d=this.dm;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.w(!1);a.F(0.5,0.5);this.f(a);d=this.zg;0===d.width&&
0===d.height||a.oi(d);this.Qi===c&&this.gd()},z9:function(a,c){var d=p.Pe.gH(a);this.Bl(d,c)}});p.Bh.create=function(a,c){var d;if(0==arguments.length)return(d=new p.Bh)&&d.r()?d:null;1==arguments.length?(d=new p.Bh,d.xw(arguments[0])):2==arguments.length?(d=new p.Bh,d.Aw(a,c)):3==arguments.length&&(d=new p.Bh,d.ZS(arguments[0],arguments[1],arguments[2]));return d};p.RGBA=function(a,c,d,e){this.o=a;this.n=c;this.i=d;this.J=e};p.cy=function(a,c,d){this.Ee=a;this.fj=c;this.na=d};p.be={};p.be.Tm=function(a,c,d,e){a=p.u.hH(a);if(!a)return null;a.l(d);a.F(e);c.f(a);return a};p.be.ML=function(a){var c=new p.cy,d,e;d=a.o<a.n?a.o:a.n;d=d<a.i?d:a.i;e=a.o>a.n?a.o:a.n;e=e>a.i?e:a.i;c.na=e;d=e-d;if(0<e)c.fj=d/e;else return c.fj=0,c.Ee=-1,c;c.Ee=a.o>=e?(a.n-a.i)/d:a.n>=e?2+(a.i-a.o)/d:4+(a.o-a.n)/d;c.Ee*=60;0>c.Ee&&(c.Ee+=360);return c};
p.be.ty=function(a){var c,d,e,f,g=new p.RGBA;g.J=1;if(0>=a.fj){if(!a.Ee)return g.o=a.na,g.n=a.na,g.i=a.na,g;g.o=0;g.n=0;g.i=0;return g}c=a.Ee;360<=c&&(c=0);c/=60;f=0|c;e=c-f;c=a.na*(1-a.fj);d=a.na*(1-a.fj*e);e=a.na*(1-a.fj*(1-e));switch(f){case 0:g.o=a.na;g.n=e;g.i=c;break;case 1:g.o=d;g.n=a.na;g.i=c;break;case 2:g.o=c;g.n=a.na;g.i=e;break;case 3:g.o=c;g.n=d;g.i=a.na;break;case 4:g.o=e;g.n=c;g.i=a.na;break;default:g.o=a.na,g.n=c,g.i=d}return g};p.be.SD=function(a,c){return p.Pw(a,c)};p.QL=p.Ea.extend({Mf:null,T:null,Hu:null,ctor:function(a,c,d){this.T=a;this.Mf=c;this.Hu=d},m2:function(){return this.Mf},sS:function(){return this.T},Q2:function(){return this.Hu},gT:function(a){if(this.T&&this.Mf)if("string"==typeof this.Mf)this.T[this.Mf](a,this.Hu);else this.Mf.call(this.T,a,this.Hu)}});p.tE=0;p.wE=1;p.uE=2;p.vE=3;p.rE=4;p.yE=5;p.xE=6;p.qM=7;p.sE=8;
p.Pe=p.Bb.extend({jb:!0,So:null,hF:null,Tk:!1,xf:null,Wh:null,Vh:null,oh:null,Ii:null,wj:null,Qh:null,yi:null,xi:null,zi:null,yj:null,pc:!1,pd:null,zg:null,Li:0,mc:null,ko:null,Wu:0,Yu:0,Xu:0,Vu:0,kG:!1,OA:!1,pb:!1,Nd:null,SK:function(){return this.pb},Zf:function(a,c){this.Nd.push({bk:a,ci:c})},ee:function(){this.pb=!0;for(var a=this.Nd,c=0,d=a.length;c<d;c++){var e=a[c];e.bk.call(e.ci,this)}a.length=0},Uv:function(){var a;a=this.Wu;var c=this.Yu,d=this.Xu,e=this.So,f=this.Vu;a=0===a&&0===c&&0===
d&&0===f?p.md():this.OA?p.rect(f,a,e.width-d-a,e.height-c-f):p.rect(a,c,e.width-a-d,e.height-c-f);this.wV(a)},TP:function(){if(this.Wh&&this.oh&&this.zi&&this.yi&&this.wj){var a=this.xa,c=this.Wh,d=this.oh,e=this.zi,f=this.yi,g=this.wj,h=this.wj.c(),k=c.c(),l=f.c(),m=a.Ha-k.width-d.c().width,a=a.va-k.height-e.c().height,m=m/h.width,a=a/h.height,k=h.width*m,n=h.height*a,t=l.width,l=l.height;if(!p.Ga.Rc){var s=Math.round(k);k!=s&&(k=s,m=k/h.width);s=Math.round(n);n!=s&&(n=s,a=n/h.height)}g.Np(m);g.wn(a);
var h=this.Ii,s=this.Qh,u=this.Vh,w=this.xi,E=p.a(0,0);f.F(E);e.F(E);c.F(E);d.F(E);h.F(E);s.F(E);u.F(E);w.F(E);g.F(E);f.l(0,0);e.l(t+k,0);c.l(0,l+n);d.l(t+k,l+n);h.l(0,l);h.wn(a);s.l(t+k,l);s.wn(a);w.l(t,0);w.Np(m);u.l(t,l+n);u.Np(m);g.l(t,l)}},ctor:function(){p.Bb.prototype.ctor.call(this);this.So=p.md();this.hF=p.md();this.yj=p.vb();this.pd=new p.vk(0,0);this.zg=new p.vk(0,0);this.mc=p.vb();this.Li=255;this.ko=p.md();this.Nd=[]},aS:function(){return this.pd},cS:function(){return this.zg},oi:function(a){this.R(a);
this.zg=a},Ui:function(){return this.Li},pa:function(a){if(this.xf){this.Li=a;for(var c=this.xf.t,d=0;d<c.length;d++){var e=c[d];e&&e.jb&&e.pa(a)}}},Dd:function(){return this.mc},m:function(a){if(this.xf){this.mc=a;for(var c=this.xf.t,d=0;d<c.length;d++){var e=c[d];e&&e.jb&&e.m(a)}}},D2:function(){return this.ko},wV:function(a){if(this.xf){var c=this.xa,d=c.Ha,c=c.va;this.Vp(this.xf,this.So,this.OA,a);this.R(d,c)}},y3:function(){return this.Wu},a$:function(a){this.Wu=a;this.Uv()},A3:function(){return this.Yu},
c$:function(a){this.Yu=a;this.Uv()},z3:function(){return this.Xu},b$:function(a){this.Xu=a;this.Uv()},x3:function(){return this.Vu},Z9:function(a){this.Vu=a;this.Uv()},R:function(a,c){2===arguments.length?p.C.prototype.R.call(this,a,c):p.C.prototype.R.call(this,a);this.Tk=!0},ua:function(a){this.Tk&&(this.TP(),this.Tk=!1);p.Bb.prototype.ua.call(this,a)},r:function(){return this.yw(null,p.md(),!1,p.md())},yw:function(a,c,d,e){3===arguments.length&&(e=d,d=!1);a&&this.Vp(a,c,d,e);this.F(0.5,0.5);return this.Tk=
!0},Zi:function(a,c,d){a instanceof p.rg?(d=a=c,c=p.md()):(c=c||p.md(),d=d||p.md());if(!a)throw"cc.Scale9Sprite.initWithFile(): file should be non-null";var e=p.ga.e().ux(a);if(!e){var e=p.ga.e().qa(a),f=e.Ng();(this.pb=f)||e.Zf(function(a){var c=this.zg,c=p.size(c.width,c.height);a=a.c();this.Vp(this.xf,p.rect(0,0,a.width,a.height),!1,this.ko);this.oi(c);this.Tk=!0;this.ee()},this)}a=p.wb.create(a,9);return this.yw(a,c,!1,d)},Ge:function(a,c){if(!a||!a.ea())throw"cc.Scale9Sprite.initWithSpriteFrame(): spriteFrame should be non-null and its texture should be non-null";
c=c||p.md();var d=a.pb;(this.pb=d)||a.Zf(function(a){var c=this.zg,c=p.size(c.width,c.height);this.Vp(this.xf,a.ed(),p.Ga.Rc?a.qd:!1,this.ko);this.oi(c);this.Tk=!0;this.ee()},this);d=p.wb.ab(a.ea(),9);return this.yw(d,a.ed(),p.Ga.Rc?a.qd:!1,c)},oI:function(a,c){if(!a)throw"cc.Scale9Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";c=c||p.md();var d=p.sg.e().vh(a);return null==d?(p.log("cc.Scale9Sprite.initWithSpriteFrameName(): can't find the sprite frame by spriteFrameName"),
!1):this.Ge(d,c)},g9:function(a){var c=new p.Pe;return c&&c.yw(this.xf,this.So,!1,a)?c:null},If:function(a){if(this.xf){this.pc=a;var c=this.xf.t;if(c)for(var d=0,e=c.length;d<e;d++)c[d].If(a)}},pl:function(){return this.pc},Vp:function(a,c,d,e){var f=this.Ui(),g=this.Dd();c=p.rect(c.x,c.y,c.width,c.height);this.$b(!0);this.xf!=a&&(this.xf=a);a=a.ea();var h=a.Ng();if(this.pb=h){a=this.xf;a.$b(!0);h=this.ko;h.x=e.x;h.y=e.y;h.width=e.width;h.height=e.height;this.OA=d;h=a.ea();p.ur(c)&&(c=h.c(),c=p.rect(0,
0,c.width,c.height));var k=this.So=c;k.x=c.x;k.y=c.y;k.width=c.width;k.height=c.height;var l=c.Ra;this.pd.width=l.width;this.pd.height=l.height;k=this.zg;0===k.width&&0===k.height&&(k.width=l.width,k.height=l.height);k=this.hF;e&&(k.x=e.x,k.y=e.y,k.width=e.width,k.height=e.height);var m=l.width;e=l.height;p.ur(k)&&(k.x=m/3,k.y=e/3,k.width=m/3,k.height=e/3);var n=k.x,t=k.width,s=m-(n+t),u=k.y,w=k.height,E=e-(u+w),H=0,C=0;e=p.rect(H,C,n,u);var H=H+n,k=p.rect(H,C,t,u),m=p.rect(H+t,C,s,u),H=0,C=0+u,l=
p.rect(H,C,n,w),H=H+n,ca=p.rect(H,C,t,w),H=H+t,da=p.rect(H,C,s,w),H=0,C=0+u+w,u=p.rect(H,C,n,E),H=H+n,n=p.rect(H,C,t,E),H=H+t,t=p.rect(H,C,s,E),s={J:1,i:0,Da:0,La:1,Za:0,$a:0};if(d){d=ca;var E=t,H=u,C=m,w=e,ra=da,ia=l,sa=n,ta=k,s=p.Gx(s,c.height+c.x,c.y),s=p.mL(s),ca=p.Kf(ca,s),t=p.Kf(t,s),u=p.Kf(u,s),m=p.Kf(m,s);e=p.Kf(e,s);da=p.Kf(da,s);l=p.Kf(l,s);n=p.Kf(n,s);k=p.Kf(k,s);d.x=ca.x;d.y=ca.y;E.x=t.x;E.y=t.y;H.x=u.x;H.y=u.y;C.x=m.x;C.y=m.y;w.x=e.x;w.y=e.y;ra.x=da.x;ra.y=da.y;ia.x=l.x;ia.y=l.y;sa.x=
n.x;sa.y=n.y;ta.x=k.x;ta.y=k.y;this.wj=new p.u;this.wj.Ma(h,d,!0);a.f(this.wj,0,p.tE);this.Vh=new p.u;this.Vh.Ma(h,ta,!0);a.f(this.Vh,1,p.wE);this.xi=new p.u;this.xi.Ma(h,sa,!0);a.f(this.xi,1,p.rE);this.Ii=new p.u;this.Ii.Ma(h,ia,!0);a.f(this.Ii,1,p.uE);this.Qh=new p.u;this.Qh.Ma(h,ra,!0);a.f(this.Qh,1,p.vE);this.Wh=new p.u;this.Wh.Ma(h,w,!0);a.f(this.Wh,2,p.xE);this.oh=new p.u;this.oh.Ma(h,C,!0);a.f(this.oh,2,p.yE);this.yi=new p.u;this.yi.Ma(h,H,!0);a.f(this.yi,2,p.sE);this.zi=new p.u;this.zi.Ma(h,
E,!0)}else s=p.Gx(s,c.x,c.y),p.ui(ca,s),p.ui(t,s),p.ui(u,s),p.ui(m,s),p.ui(e,s),p.ui(da,s),p.ui(l,s),p.ui(n,s),p.ui(k,s),this.wj=new p.u,this.wj.Ma(h,ca),a.f(this.wj,0,p.tE),this.Vh=new p.u,this.Vh.Ma(h,k),a.f(this.Vh,1,p.wE),this.xi=new p.u,this.xi.Ma(h,n),a.f(this.xi,1,p.rE),this.Ii=new p.u,this.Ii.Ma(h,l),a.f(this.Ii,1,p.uE),this.Qh=new p.u,this.Qh.Ma(h,da),a.f(this.Qh,1,p.vE),this.Wh=new p.u,this.Wh.Ma(h,e),a.f(this.Wh,2,p.xE),this.oh=new p.u,this.oh.Ma(h,m),a.f(this.oh,2,p.yE),this.yi=new p.u,
this.yi.Ma(h,u),a.f(this.yi,2,p.sE),this.zi=new p.u,this.zi.Ma(h,t);a.f(this.zi,2,p.qM);this.R(c.Ra);this.f(a);this.kG&&(this.pa(f),255===g.o&&255===g.n&&255===g.i||this.m(g));return this.kG=!0}a.Zf(function(){this.Tk=!0;this.ee()},this)},Jf:function(a){var c=p.wb.ab(a.ea(),9),d=a.pb;(this.pb=d)||a.Zf(function(a){var c=this.zg,c=p.size(c.width,c.height);this.Vp(this.xf,a.ed(),p.Ga.Rc?a.qd:!1,this.ko);this.oi(c);this.Tk=!0;this.ee()},this);this.Vp(c,a.ed(),p.Ga.Rc?a.qd:!1,p.md());this.Vu=this.Xu=this.Yu=
this.Wu=0}});p.Pe.create=function(a,c,d){var e;if(2===arguments.length)if("string"==typeof a){if((e=new p.Pe)&&e.Zi(a,c))return e}else{if(a instanceof p.rg&&(e=new p.Pe)&&e.Zi(a,d))return e}else if(3===arguments.length){if((e=new p.Pe)&&e.Zi(a,c,d))return e}else if(1===arguments.length){if((e=new p.Pe)&&e.Zi(a))return e}else if(0===arguments.length&&(e=new p.Pe)&&e.r())return e;return null};p.Pe.gH=function(a,c){var d=new p.Pe;return d&&d.Ge(a,c)?d:null};
p.Pe.hH=function(a,c){if(!a)throw"cc.Scale9Sprite.createWithSpriteFrameName(): spriteFrameName should be non-null";var d=new p.Pe;return d&&d.oI(a,c)?d:null};p.au=p.Ec.extend({});p.au.yba=function(a){var c=new p.au;c.r();c.R(0,a);return c};p.au.M5=function(a){var c=new p.au;c.r();c.R(a,0);return c};
p.Nt=p.Ec.extend({jb:!0,mc:null,Li:0,ctor:function(){},Dd:function(){return this.mc},m:function(a){this.mc=a;if(this.t&&0<this.t.length)for(var c=0;c<this.t.length;c++)this.t[c]&&this.t[c].jb&&this.t[c].m(a)},Ui:function(){return this.Li},pa:function(a){this.Li=a;if(this.t&&0<this.t.length)for(var c=0;c<this.t.length;c++)this.t[c]&&this.t[c].jb&&this.t[c].pa(a)},TS:function(a,c){if(this.r()){var d=p.$.e().Sb;this.Yi(!0);this.F(0.5,0.5);this.R(d);this.l(d.width/2,d.height/2);d=0;if(a){this.f(a,d);
for(var e=0;e<c.length;e++)c[e]&&(d++,this.f(c[e],d))}return!0}return!1},v0:function(){this.mQ(p.yL)},mQ:function(a){var c=-a,d;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&(c+=this.t[d].c().height*this.t[d].Aa+a);var e=0,f=c/2;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&(e=Math.max(e,this.t[d].c().width),this.t[d].l(0,f-this.t[d].c().height*this.t[d].Aa/2),f-=this.t[d].c().height*this.t[d].Aa+a);this.R(e,c)},s0:function(){this.lQ(p.yL)},lQ:function(a){var c=
-a,d;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&(c+=this.t[d].c().width*this.t[d].ta+a);var e=0,f=-c/2;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&(e=Math.max(e,this.t[d].c().height),this.t[d].l(f+this.t[d].c().width*this.t[d].ta/2,0),f+=this.t[d].c().width*this.t[d].ta+a);this.R(c,e)},t0:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=-5,f=0,g=0,h=0,k,l;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&
(f>=c.length?p.log("cc.MenuPassive.alignItemsInColumns(): invalid row index"):(k=c[f])?(l=this.t[d].c().height,g=0|(g>=l||null==l?g:l),++h,h>=k&&(e+=g+5,g=h=0,++f)):p.log("cc.MenuPassive.alignItemsInColumns(): can not have zero columns on a row"));var m=p.$.e().Sb,n=k=g=f=0,t=0,e=e/2;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&(0==k&&(k=c[f],t=n=m.width/(1+k)),l=this.t[d].c().height,g=0|(g>=l||null==l?g:l),this.t[d].l(t-m.width/2,e-this.t[d].c().height/2),t+=n,++h,h>=k&&(e-=
g+5,g=k=h=0,++f))},u0:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=[],f=[],g=-10,h=-5,k=0,l=0,m=0,n,t;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&(k>=c.length?p.log("cc.MenuPassive.alignItemsInRows(): invalid row index"):(n=c[k])?(t=this.t[d].c().width,l=0|(l>=t||null==t?l:t),h+=0|this.t[d].c().height+5,++m,m>=n&&(e.push(l),f.push(h),g+=l+10,l=m=0,h=-5,++k)):p.log("cc.MenuPassive.alignItemsInColumns(): can't have zero rows on a column"));h=
p.$.e().Sb;l=k=0;n=null;var g=-g/2,s=0;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&(null==n&&(n=c[k],s=f[k]),t=this.t[d].c().width,l=0|(l>=t||null==t?l:t),this.t[d].l(g+e[k]/2,s-h.height/2),s-=this.t[d].c().height+10,++m,m>=n&&(g+=l+5,l=n=m=0,++k))},If:function(){},pl:function(){return!1}});p.Nt.create=function(a){0==arguments.length&&(a=null);for(var c=[],d=1;d<arguments.length;d++)c.push(arguments[d]);return(d=new p.Nt)&&d.TS(a,c)?d:null};
p.Nt.n1=function(a){return p.Nt.create(a,null)};p.Sx=p.Wb.extend({CA:0,xu:0,Hc:null,wO:null,iG:null,nh:null,wc:null,vg:0,vj:0,H4:function(){return this.CA},z2:function(){return this.xu},IH:function(){return this.Hc},j4:function(){return this.xu},N4:function(){return this.iG},nS:function(){return this.nh},pS:function(){return this.wc},iC:function(a,c){return p.Wb.prototype.r.call(this)?(this.Vb(!0),this.Hc=p.be.Tm("colourPickerBackground.png",a,c,p.a(0,0)),this.wO=p.be.Tm("colourPickerOverlay.png",a,c,p.a(0,0)),this.iG=p.be.Tm("colourPickerShadow.png",
a,c,p.a(0,0)),this.nh=p.be.Tm("colourPicker.png",a,c,p.a(0.5,0.5)),this.wc=c,this.vg=35,this.vj=this.Hc.c().width/2,!0):!1},Hf:function(a){p.Wb.prototype.Hf.call(this,a);this.nh&&this.nh.pa(a?255:128)},eL:function(a){var c=new p.cy;c.fj=1;c.Ee=a.Ee;c.na=1;a=p.be.ty(c);this.Hc.m(p.dw(0|255*a.o,0|255*a.n,0|255*a.i))},hX:function(a){a=p.a(this.wc.x+this.vg+this.vj*(1-a.fj),this.wc.y+this.vg+this.vj*a.na);this.Xv(a)},Xv:function(a){var c=this.wc.x+0.5*this.Hc.Ya().width,d=this.wc.y+0.5*this.Hc.Ya().height,
e=a.x-c,f=a.y-d,g=Math.sqrt(e*e+f*f),e=Math.atan2(f,e),f=0.5*this.Hc.Ya().width;g>f&&(a.x=c+f*Math.cos(e),a.y=d+f*Math.sin(e));this.nh.l(a);a.x<this.wc.x+this.vg?a.x=this.wc.x+this.vg:a.x>this.wc.x+this.vg+this.vj-1&&(a.x=this.wc.x+this.vg+this.vj-1);a.y<this.wc.y+this.vg?a.y=this.wc.y+this.vg:a.y>this.wc.y+this.vg+this.vj&&(a.y=this.wc.y+this.vg+this.vj);this.CA=1-Math.abs((this.wc.x+this.vg-a.x)/this.vj);this.xu=Math.abs((this.wc.y+this.vg-a.y)/this.vj)},wq:function(a){var c=this.wc.x+0.5*this.Hc.Ya().width,
d=this.wc.y+0.5*this.Hc.Ya().height,c=a.x-c,d=a.y-d;return Math.sqrt(c*c+d*d)<=0.5*this.Hc.Ya().width?(this.Xv(a),this.lf(p.ri),!0):!1},lb:function(a){if(!this.isEnabled()||!this.ma)return!1;a=this.Xi(a);return this.wq(a)},vd:function(a){a=this.Xi(a);this.wq(a)}});p.Sx.create=function(a,c){var d=new p.Sx;d.iC(a,c);return d};p.Rx=p.Wb.extend({Ao:0,br:0,Hc:null,nh:null,wc:null,s3:function(){return this.Ao},eD:function(a){this.Ao=a;this.MV(this.Ao/360)},t3:function(){return this.br},MV:function(a){this.br=a;this.Ao=360*this.br;a=this.Hc.Ya();var c=0.5*a.width-15,d=p.oj(360*this.br-180);this.nh.l(this.wc.x+0.5*a.width+c*Math.cos(d),this.wc.y+0.5*a.height+c*Math.sin(d))},Hf:function(a){p.Wb.prototype.Hf.call(this,a);this.nh&&this.nh.pa(a?255:128)},IH:function(){return this.Hc},nS:function(){return this.nh},pS:function(){return this.wc},
iC:function(a,c){return p.Wb.prototype.r.call(this)?(this.Vb(!0),this.Hc=p.be.Tm("huePickerBackground.png",a,c,p.a(0,0)),this.nh=p.be.Tm("colourPicker.png",a,c,p.a(0.5,0.5)),this.nh.l(c.x,c.y+0.5*this.Hc.Ya().height),this.wc=c,this.br=this.Ao=0,!0):!1},Xv:function(a){var c=this.Hc.Ya();this.eD(p.ry(Math.atan2(a.y-(this.wc.y+0.5*c.height),a.x-(this.wc.x+0.5*c.width)))+180);this.lf(p.ri)},wq:function(a){var c=Math.sqrt(Math.pow(a.x+10,2)+Math.pow(a.y,2));return 80>c&&59<c?(this.Xv(a),!0):!1},lb:function(a){if(!this.isEnabled()||
!this.ma)return!1;a=this.Xi(a);return this.wq(a)},vd:function(a){a=this.Xi(a);this.wq(a)}});p.Rx.create=function(a,c){var d=new p.Rx;d.iC(a,c);return d};p.YD=p.Wb.extend({dh:null,Dk:null,nm:null,Hc:null,RS:function(a){this.dh.Ee=a.Ao;a=p.be.ty(this.dh);p.Wb.prototype.m.call(this,p.dw(0|255*a.o,0|255*a.n,0|255*a.i));this.lf(p.ri);this.QP()},MQ:function(a){this.dh.fj=a.CA;this.dh.na=a.xu;a=p.be.ty(this.dh);p.Wb.prototype.m.call(this,p.dw(0|255*a.o,0|255*a.n,0|255*a.i));this.lf(p.ri)},m:function(a){p.Wb.prototype.m.call(this,a);var c=new p.RGBA;c.o=a.o/255;c.n=a.n/255;c.i=a.i/255;c.J=1;this.dh=p.be.ML(c);this.BG()},IH:function(){return this.Hc},r:function(){if(p.Wb.prototype.r.call(this)){this.Vb(!0);
p.sg.e().TG(aa.QD);var a=p.wb.create(aa.RD);this.f(a);this.dh=new p.cy(0,0,0);this.Hc=p.be.Tm("menuColourPanelBackground.png",a,p.qj(),p.a(0.5,0.5));var c=p.Ed(this.Hc.p,p.a(this.Hc.c().width/2,this.Hc.c().height/2));this.nm=p.Rx.create(a,p.a(c.x+8,c.y+8));this.Dk=p.Sx.create(a,p.a(c.x+28,c.y+28));this.nm.UG(this,this.RS,p.ri);this.Dk.UG(this,this.MQ,p.ri);this.BG();this.f(this.nm);this.f(this.Dk);this.R(this.Hc.c());return!0}return!1},QP:function(){this.nm.eD(this.dh.Ee);this.Dk.eL(this.dh)},BG:function(){this.nm.eD(this.dh.Ee);
this.Dk.eL(this.dh);this.Dk.hX(this.dh)},Hf:function(a){p.Wb.prototype.Hf.call(this,a);null!=this.nm&&this.nm.Hf(a);this.Dk&&this.Dk.Hf(a)},lb:function(){return!1}});p.YD.create=function(){var a=new p.YD;a.r();return a};aa=aa||{};aa.QD=aa.QD||"res/extensions/CCControlColourPickerSpriteSheet.plist";aa.RD=aa.RD||"res/extensions/CCControlColourPickerSpriteSheet.png";p.FE=24;p.JZ=8;
p.$D=p.Wb.extend({Wc:0,hb:0,Gb:0,nv:0,lv:0,Hb:null,Uk:null,de:null,$H:function(){return this.Wc},mf:function(a){a=Math.max(a,this.hb);this.Wc=a=Math.min(a,this.Gb);this.gd();this.lf(p.ri)},WR:function(){return this.hb},bK:function(a){this.nv=this.hb=a;this.hb>=this.Gb&&(this.Gb=this.hb+1);this.mf(this.Wc)},VR:function(){return this.Gb},$J:function(a){this.lv=this.Gb=a;this.Gb<=this.hb&&(this.hb=this.Gb-1);this.mf(this.Wc)},ji:function(a){a=a.M;a=this.getParent().Ia(a);var c=this.Ya();c.Ra.width+=
this.Hb.c().width;c.Tc.x-=this.Hb.c().width/2;return p.bb(c,a)},cn:function(a){a=a.M;a=this.Ia(a);0>a.x?a.x=0:a.x>this.de.c().width&&(a.x=this.de.c().width);return a},N3:function(){return this.nv},l$:function(a){this.nv=a},L3:function(){return this.lv},k$:function(a){this.lv=a},YH:function(){return this.Hb},s4:function(){return this.Uk},t2:function(){return this.de},XS:function(a,c,d){return p.Wb.prototype.r.call(this)?(this.Yi(!1),this.Vb(!0),this.de=a,this.Uk=c,this.Hb=d,a=p.be.SD(a.Ya(),d.Ya()),
this.R(a.width,a.height),this.de.F(0.5,0.5),this.de.l(a.width/2,a.height/2),this.f(this.de),this.Uk.F(0,0.5),this.Uk.l(0,a.height/2),this.f(this.Uk),this.Hb.l(0,a.height/2),this.f(this.Hb),this.hb=0,this.Gb=1,this.mf(this.hb),!0):!1},Hf:function(a){p.Wb.prototype.Hf.call(this,a);this.Hb&&this.Hb.pa(a?255:128)},RW:function(a){this.Op(!0);this.Hb.m(p.ml());this.mf(this.ID(a))},TW:function(a){this.mf(this.ID(a))},SW:function(){this.Qo&&this.mf(this.ID(this.Hb.p));this.Hb.m(p.vb());this.Op(!1)},n5:function(a){a=
a.M;a=this.Ia(a);0>a.x?a.x=0:a.x>this.de.c().width+p.FE&&(a.x=this.de.c().width+p.FE);return a},lb:function(a){if(!this.ji(a)||!this.isEnabled()||!this.ma)return!1;a=this.cn(a);this.RW(a);return!0},vd:function(a){a=this.cn(a);this.TW(a)},Ff:function(){this.SW(p.qj())},gd:function(){this.Hb.zb((this.Wc-this.hb)/(this.Gb-this.hb)*this.de.c().width);var a=this.Uk.TB(),a=p.rect(a.x,a.y,this.Hb.p.G,a.height);this.Uk.Ub(a,this.Uk.bd,a.Ra)},ID:function(a){a=a.x/this.de.c().width;return Math.max(Math.min(this.hb+
a*(this.Gb-this.hb),this.lv),this.nv)}});p.$D.create=function(a,c,d){"string"==typeof a&&(a=p.u.create(a),c=p.u.create(c),d=p.u.create(d));var e=new p.$D;e.XS(a,c,d);return e};p.bE=p.Wb.extend({cd:null,yF:0,pr:!1,Mo:!1,ctor:function(){p.Wb.prototype.ctor.call(this)},fC:function(a,c,d,e,f,g){if(!a)throw"cc.ControlSwitch.initWithMaskSprite(): maskSprite should be non-null.";if(!c)throw"cc.ControlSwitch.initWithMaskSprite(): onSprite should be non-null.";if(!d)throw"cc.ControlSwitch.initWithMaskSprite(): offSprite should be non-null.";if(!e)throw"cc.ControlSwitch.initWithMaskSprite(): thumbSprite should be non-null.";return this.r()?(this.Vb(!0),this.Mo=!0,this.cd=new p.xL,
this.cd.fC(a,c,d,e,f,g),this.cd.l(this.cd.c().width/2,this.cd.c().height/2),this.f(this.cd),this.Yi(!1),this.F(0.5,0.5),this.R(this.cd.c()),!0):!1},bx:function(a,c){var d=(this.Mo=a)?this.cd.Qk:this.cd.rm;c?this.cd.Tw(p.Jn.create(0.2,"sliderXPosition",this.cd.Qj,d)):this.cd.hD(d);this.lf(p.ri)},y6:function(){return this.Mo},K5:function(){return this.pr},Hf:function(a){this.Rq=a;this.cd.pa(a?255:128)},cn:function(a){a=a.M;return a=this.Ia(a)},lb:function(a){if(!this.ji(a)||!this.isEnabled()||!this.ma)return!1;
this.pr=!1;this.yF=this.cn(a).x-this.cd.Qj;this.cd.Hb.m(p.ml());this.cd.gd();return!0},vd:function(a){a=this.cn(a);a=p.a(a.x-this.yF,0);this.pr=!0;this.cd.hD(a.x)},Ff:function(a){a=this.cn(a);this.cd.Hb.m(p.vb());this.pr?this.bx(!(a.x<this.cd.c().width/2),!0):this.bx(!this.Mo,!0)},hk:function(a){a=this.cn(a);this.cd.Hb.m(p.vb());this.pr?this.bx(!(a.x<this.cd.c().width/2),!0):this.bx(!this.Mo,!0)}});p.bE.create=function(a,c,d,e,f,g){var h=new p.bE;return h&&h.fC(a,c,d,e,f,g)?h:null};
p.xL=p.u.extend({Qj:0,Qk:0,rm:0,pG:0,aA:0,bA:null,hh:null,Ki:null,Hb:null,sm:null,qm:null,qo:null,qc:null,vu:null,ctor:function(){p.u.prototype.ctor.call(this);this.aA=this.rm=this.Qk=this.Qj=0;this.bA=p.size(0,0);this.qm=this.sm=this.Hb=this.Ki=this.hh=null},fC:function(a,c,d,e,f,g){return p.u.prototype.Ma.call(this,a.ea())?(this.Qk=0,this.rm=-c.c().width+e.c().width/2,this.Qj=this.Qk,this.cW(c),this.aW(d),this.jD(e),this.bW(f),this.$V(g),this.qc=a,a=this.bA=this.qc.c(),this.qc.l(0,0),this.qo=p.nb.create(),
this.qo.F(0.5,0.5),this.qo.l(a.width/2,a.height/2),this.qo.iD(this.qc),this.vu=p.Cb.create(a.width,a.height),this.qo.f(this.vu.ob),this.f(this.qo),this.f(this.Hb),this.gd(),!0):!1},gd:function(){this.hh.l(this.hh.c().width/2+this.Qj,this.hh.c().height/2);this.Ki.l(this.hh.c().width+this.Ki.c().width/2+this.Qj,this.Ki.c().height/2);this.sm&&this.sm.l(this.hh.p.x-this.Hb.c().width/6,this.hh.c().height/2);this.qm&&this.qm.l(this.Ki.p.x+this.Hb.c().width/6,this.Ki.c().height/2);this.Hb.l(this.hh.c().width+
this.Qj,this.bA.height/2);this.vu.Yj();this.hh.ua();this.Ki.ua();this.sm&&this.sm.ua();this.qm&&this.qm.ua();this.vu.end()},hD:function(a){a<=this.rm?a=this.rm:a>=this.Qk&&(a=this.Qk);this.Qj=a;this.gd()},Q4:function(){return this.Qj},M7:function(){return this.hh.c().width},K7:function(){return this.Ki.c().height},GD:function(a,c){p.log("key \x3d "+c+", value \x3d "+a);this.hD(a)},u$:function(a){this.Qk=a},d4:function(){return this.Qk},r$:function(a){this.rm=a},X3:function(){return this.rm},j$:function(a){this.qc.ia(a)},
H3:function(){return this.qc.ea()},Z$:function(a){this.pG=a},d5:function(){return this.pG},i$:function(a){this.aA=a},G3:function(){return this.aA},cW:function(a){this.hh=a},e4:function(){return this.hh},aW:function(a){this.Ki=a},Y3:function(){return this.Ki},jD:function(a){this.Hb=a},YH:function(){return this.Hb},bW:function(a){this.sm=a},c4:function(){return this.sm},$V:function(a){this.qm=a},W3:function(){return this.qm}});p.VD=0;p.WD=1;p.it=2;p.Yp=p.j(55,55,55);p.Nx=p.j(147,147,147);p.UD="CourierNewPSMT";p.OD=0.15;p.kL=12;
p.aE=p.Wb.extend({Od:null,uf:null,Pk:null,Sk:null,Wc:0,zq:!1,ao:!1,Pm:!1,hb:0,Gb:0,Em:0,Rr:!1,Km:p.it,sq:0,ctor:function(){p.Wb.prototype.ctor.call(this);this.Sk=this.Pk=this.uf=this.Od=null;this.Wc=0;this.Pm=this.ao=this.zq=!1;this.Em=this.Gb=this.hb=0;this.Rr=!1;this.Km=p.it;this.sq=0},VS:function(a,c){if(!a)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Minus sprite should be non-null.";if(!c)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Plus sprite should be non-null.";
if(this.r()){this.Vb(!0);this.zq=this.ao=!0;this.hb=0;this.Gb=100;this.Wc=0;this.Em=1;this.Pm=!1;this.Yi(!1);this.WV(a);this.Od.l(a.c().width/2,a.c().height/2);this.f(this.Od);this.VV(p.Q.create("-",p.UD,40,p.size(40,40),p.tj,p.mu));this.Pk.m(p.Nx);this.Pk.l(this.Od.c().width/2,this.Od.c().height/2);this.Od.f(this.Pk);this.gW(c);this.uf.l(a.c().width+c.c().width/2,a.c().height/2);this.f(this.uf);this.fW(p.Q.create("+",p.UD,40,p.size(40,40),p.tj,p.mu));this.Sk.m(p.Yp);this.Sk.l(this.uf.c().width/2,
this.uf.c().height/2);this.uf.f(this.Sk);var d=p.be.SD(this.Od.Ya(),this.uf.Ya());this.R(this.Od.c().width+this.uf.c().height,d.Ra.height);return!0}return!1},maa:function(a){if(this.Pm=a)this.Pk.m(p.Yp),this.Sk.m(p.Yp);this.mf(this.Wc)},bK:function(a){if(a>=this.Gb)throw"cc.ControlStepper.setMinimumValue(): minimumValue should be numerically less than maximumValue.";this.hb=a;this.mf(this.Wc)},$J:function(a){if(a<=this.hb)throw"cc.ControlStepper.setMaximumValue(): maximumValue should be numerically less than maximumValue.";
this.Gb=a;this.mf(this.Wc)},mf:function(a){this.nD(a,!0)},$H:function(){return this.Wc},S$:function(a){if(0>=a)throw"cc.ControlStepper.setMaximumValue(): stepValue should be numerically greater than 0.";this.Em=a},j6:function(){return this.zq},nD:function(a,c){a<this.hb?a=this.Pm?this.Gb:this.hb:a>this.Gb&&(a=this.Pm?this.hb:this.Gb);this.Wc=a;this.Pm||(this.Pk.m(a==this.hb?p.Nx:p.Yp),this.Sk.m(a==this.Gb?p.Nx:p.Yp));c&&this.lf(p.ri)},KK:function(){this.sq=-1;this.bc(this.update,p.OD,p.Wl,3*p.OD)},
MK:function(){this.Sc(this.update)},update:function(){this.sq++;this.sq<p.kL&&0!=this.sq%3||(this.Km==p.VD?this.nD(this.Wc-this.Em,this.zq):this.Km==p.WD&&this.nD(this.Wc+this.Em,this.zq))},XK:function(a){a.x<this.Od.c().width&&this.Wc>this.hb?(this.Km=p.VD,this.Od.m(p.ml()),this.uf.m(p.vb())):a.x>=this.Od.c().width&&this.Wc<this.Gb?(this.Km=p.WD,this.Od.m(p.vb()),this.uf.m(p.ml())):(this.Km=p.it,this.Od.m(p.vb()),this.uf.m(p.vb()))},lb:function(a){if(!this.ji(a)||!this.isEnabled()||!this.ma)return!1;
a=this.Xi(a);this.XK(a);this.Rr=!0;this.ao&&this.KK();return!0},vd:function(a){this.ji(a)?(a=this.Xi(a),this.XK(a),this.Rr||(this.Rr=!0,this.ao&&this.KK())):(this.Rr=!1,this.Km=p.it,this.Od.m(p.vb()),this.uf.m(p.vb()),this.ao&&this.MK())},Ff:function(a){this.Od.m(p.vb());this.uf.m(p.vb());this.ao&&this.MK();this.ji(a)&&(a=this.Xi(a),this.mf(this.Wc+(a.x<this.Od.c().width?0-this.Em:this.Em)))},WV:function(a){this.Od=a},P3:function(){return this.Od},gW:function(a){this.uf=a},n4:function(){return this.uf},
VV:function(a){this.Pk=a},O3:function(){return this.Pk},fW:function(a){this.Sk=a},m4:function(){return this.Sk}});p.aE.create=function(a,c){var d=new p.aE;return d&&d.VS(a,c)?d:null};p.ZD=p.Wb.extend({Hb:null,Oo:null,No:null,Wc:0,hb:0,Gb:1,$S:function(a,c,d){return this.r()?(this.Vb(!0),this.kW(c),this.jD(d),this.Hb.l(c.p),this.f(d,2),this.f(c,1),this.f(a),this.R(a.c()),this.hb=0,this.Gb=1,this.mf(this.hb),!0):!1},Hf:function(a){this.Hf(a);this.Hb!=NULL&&this.Hb.pa(a?255:128)},mf:function(a){a<this.hb&&(a=this.hb);a>this.Gb&&(a=this.Gb);this.Wc=a;a=(a-this.hb)/(this.Gb-this.hb);this.Oo.Ks(100*a);this.Hb.ex(360*a);this.lf(p.ri)},$H:function(){return this.Wc},bK:function(a){this.hb=
a;this.hb>=this.Gb&&(this.Gb=this.hb+1);this.mf(this.Gb)},WR:function(){return this.hb},$J:function(a){this.Gb=a;this.Gb<=this.hb&&(this.hb=this.Gb-1);this.mf(this.hb)},VR:function(){return this.Gb},ji:function(a){a=this.Xi(a);return this.oR(this.Oo.p,a)<Math.min(this.c().width/2,this.c().height/2)},lb:function(a){if(!this.ji(a)||!this.isEnabled()||!this.ma)return!1;this.No=this.Xi(a);this.hU(this.No);return!0},vd:function(a){a=this.Xi(a);this.jU(a)},Ff:function(){this.iU(p.a(0,0))},oR:function(a,
c){var d=a.x-c.x,e=a.y-c.y;return Math.sqrt(d*d+e*e)},oQ:function(a,c,d,e){return 180*(Math.atan2(c.x-a.x,c.y-a.y)-Math.atan2(e.x-d.x,e.y-d.y))/Math.PI},hU:function(){this.Op(!0);this.Hb.m(p.ml())},jU:function(a){var c=this.oQ(this.Oo.p,a,this.Oo.p,this.No);180<c?c-=360:-180>c&&(c+=360);this.mf(this.Wc+c/360*(this.Gb-this.hb));this.No=a},iU:function(){this.Hb.m(p.vb());this.Op(!1)},jD:function(a){this.Hb=a},YH:function(){return this.Hb},kW:function(a){this.Oo=a},t4:function(){return this.Oo},A$:function(a){this.No=
a},dS:function(){return this.No}});p.ZD.create=function(a,c,d){var e=new p.ZD;return e&&(a=p.u.create(a),d=p.u.create(d),c=p.Fc.create(p.u.create(c)),e.$S(a,c,d))?e:null};p.DE=-1;p.Tn=0;p.dq=1;p.Xt=2;p.TQ=function(a){var c=p.sa.e();return(c.ta+c.Aa)/2*a/160};p.CM=p.Ea.extend({kV:function(){},lV:function(){}});
p.Eh=p.Ec.extend({e0:0,R_:0,P_:0,Ba:null,Ei:p.Xt,Fi:!1,EN:null,Qa:null,ph:!1,jv:null,mv:null,uq:!1,xq:!1,wr:null,bp:null,Sr:0,qh:null,Zh:null,MF:0,KF:0,rr:null,DA:!1,qG:null,ctor:function(){p.Ec.prototype.ctor.call(this);this.EN=new p.Yg(0,0);this.jv=new p.Yg(0,0);this.mv=new p.Yg(0,0);this.wr=new p.Yg(0,0);this.bp=new p.Yg(0,0);this.qh=[];this.Zh=new p.vk(0,0);this.rr=new p.rg(0,0,0,0);this.qG=new p.rg(0,0,0,0)},r:function(){return this.Bp(p.size(200,200),null)},Qw:function(){p.KC(this.al,!1,this)},
Bp:function(a,c){var d=p.a(0,0);return p.Ec.prototype.r.call(this)?(this.Qa=c,this.Qa||(this.Qa=p.Ec.create(),this.Qa.Yi(!1),this.Qa.F(d)),this.vK(a),this.Vb(!0),this.qh.length=0,this.Ba=null,this.xq=this.uq=!0,this.Ei=p.Xt,this.Qa.l(d),this.Sr=0,this.f(this.Qa),this.MF=this.KF=1,!0):!1},Dl:function(a,c){if(c)this.AV(a,0.15);else{if(!this.uq){var d=this.dn(),e=this.As();a.x=Math.max(d.x,Math.min(e.x,a.x));a.y=Math.max(d.y,Math.min(e.y,a.y))}this.Qa.l(a)}},KH:function(){var a=this.Qa.p;return p.a(a.x,
a.y)},AV:function(a,c){var d=p.Ot.create(c,a),e=p.Zp.create(this.EP,this);this.Qa.Tw(p.rj.create(d,e));this.bc(this.iA)},AK:function(a,c){if(c)this.DW(a,0.15);else{var d=this.Qa;if(d.PB()!=a){var e,f;0==this.Sr?(f=this.Zh,f=p.a(0.5*f.width,0.5*f.height),f=this.dl(f)):f=this.bp;e=d.Ia(f);d.nk(Math.max(this.MF,Math.min(this.KF,a)));e=d.dl(e);f=p.Ed(f,e);this.Dl(p.gg(d.p,f))}}},bI:function(){return this.Qa.PB()},DW:function(a,c){if(0<c){var d=this.Qa.PB();d!=a&&(d=p.Jn.create(c,"zoomScale",d,a),this.Tw(d))}else this.AK(a)},
dn:function(){var a=this.Qa,c=a.c(),d=this.Zh;return p.a(d.width-c.width*a.ta,d.height-c.height*a.Aa)},As:function(){return p.a(0,0)},x6:function(a){var c=this.KH(),d=this.Zh,e=this.bI(),c=p.rect(-c.x/e,-c.y/e,d.width/e,d.height/e);return p.wU(c,a.Ya())},pause:function(){this.Qa.Mw();for(var a=this.Qa.t,c=0;c<a.length;c++)a[c].Mw()},AJ:function(){for(var a=this.Qa.t,c=0,d=a.length;c<d;c++)a[c].Sw();this.Qa.Sw()},m6:function(){return this.Fi},P6:function(){return this.ph},f6:function(){return this.uq},
uV:function(a){this.uq=a},z5:function(){return this.Zh},vK:function(a){this.Zh=a;p.C.prototype.R.call(this,a)},N2:function(){return this.Qa},yV:function(a){a&&(this.$b(!0),this.Qa=a,a.Yi(!1),a.F(0,0),this.f(a),this.vK(this.Zh))},b3:function(){return this.Ei},NJ:function(a){this.Ei=a},jc:function(){return this.Ba},ig:function(a){this.Ba=a},lb:function(a){if(!this.ma)return!1;var c=this.Qz(),d=this.Qa,e=d.dl(d.ai(a)),f=this.qh;if(2<f.length||this.ph||!p.bb(c,e))return!1;f.push(a);1===f.length?(this.bp=
this.ai(a),this.ph=!1,this.Fi=!0,this.wr.x=0,this.Sr=this.wr.y=0):2==f.length&&(this.bp=p.BC(this.ai(f[0]),this.ai(f[1])),this.Sr=p.yC(d.ai(f[0]),d.ai(f[1])),this.Fi=!1);return!0},vd:function(a){if(this.ma)if(1===this.qh.length&&this.Fi){this.ph=!0;var c=this.Qz(),d=this.ai(a);a=p.Ed(d,this.bp);var e=0,f=this.Ei,e=f===p.dq?a.y:f===p.Tn?a.x:Math.sqrt(a.x*a.x+a.y*a.y);if(this.ph||!(0.04375>Math.abs(p.TQ(e))))if(this.ph||(a.x=0,a.y=0),this.bp=d,this.ph=!0,p.bb(c,this.dl(d))){switch(f){case p.dq:a.x=
0;break;case p.Tn:a.y=0}d=this.Qa.p;c=d.x+a.x;d=d.y+a.y;this.wr=a;this.Dl(p.a(c,d))}}else 2!==this.qh.length||this.Fi||(a=p.yC(this.Qa.ai(this.qh[0]),this.Qa.ai(this.qh[1])),this.AK(this.bI()*a/this.Sr))},Ff:function(){this.ma&&(1==this.qh.length&&this.ph&&this.bc(this.rz),this.qh.length=0,this.ph=this.Fi=!1)},hk:function(){this.ma&&(this.qh.length=0,this.ph=this.Fi=!1)},R:function(a,c){null!=this.Qa&&(2===arguments.length?this.Qa.R(a,c):this.Qa.R(a),this.iX())},c:function(){return this.Qa.c()},iX:function(){if(null!=
this.Qa){var a=this.Zh,c=this.As();this.jv.x=c.x+0.2*a.width;this.jv.y=c.y+0.2*a.height;c=this.dn();this.mv.x=c.x-0.2*a.width;this.mv.y=c.y-0.2*a.height}},h6:function(){return this.xq},F9:function(a){this.xq=a},ua:function(a){if(this.ma){a=a||p.Y;var c,d=this.t,e,f;if(p.Fd===p.og){a.save();this.transform(a);this.bF(a);if(d&&0<d.length){f=d.length;this.Wd();for(c=0;c<f;c++)if((e=d[c])&&0>e.eb)e.ua(a);else break;for(this.Oa(a);c<f;c++)d[c].ua(a)}else this.Oa(a);this.$E();a.restore()}else{p.Fp();var g=
this.Ik;g&&g.Cp()&&(g.sB(),this.yx());this.transform(a);this.bF(a);if(d&&0<d.length){f=d.length;for(c=0;c<f;c++)if((e=d[c])&&0>e.eb)e.ua();else break;for(this.Oa(a);c<f;c++)d[c].ua()}else this.Oa(a);this.$E(a);g&&g.Cp()&&g.oB(this);p.Ep()}}},f:function(a,c,d){if(!a)throw Error("child must not nil!");c=c||a.eb;d=d||a.sd;a.Yi(!1);a.F(0,0);this.Qa!=a?this.Qa.f(a,c,d):p.Ec.prototype.f.call(this,a,c,d)},Vb:function(a){p.Ec.prototype.Vb.call(this,a);a||(this.ph=this.Fi=!1,this.qh.length=0)},L_:function(){return null},
GO:function(a){var c=this.dn(),d=this.As(),e=this.Ei,f=this.Qa.p,g=f.x,h=f.y;if(e===p.Xt||e===p.Tn)g=Math.max(g,c.x),g=Math.min(g,d.x);if(e==p.Xt||e==p.dq)h=Math.min(h,d.y),h=Math.max(h,c.y);h==f.y&&g==f.x||this.Dl(p.a(g,h),a)},rz:function(){if(this.Fi)this.Sc(this.rz);else{var a,c;a=this.Qa.p;var d=this.wr;this.Qa.l(a.x+d.x,a.y+d.y);this.uq?(a=this.jv,c=this.mv):(a=this.As(),c=this.dn());var e=this.Qa.p.G,f=this.Qa.p.O;d.x*=0.95;d.y*=0.95;this.Dl(p.a(e,f));if(1>=Math.abs(d.x)&&1>=Math.abs(d.y)||
f>a.y||f<c.y||e>a.x||e<c.x||e==a.x||e==c.x||f==a.y||f==c.y)this.Sc(this.rz),this.GO(!0)}},iA:function(){this.Fi&&this.Sc(this.iA)},EP:function(){this.Sc(this.iA)},bF:function(a){if(this.xq){this.DA=!1;var c=this.Qz(),d=p.sa.e(),e=this.ta,f=this.Aa;a=a||p.Y;if(p.Fd===p.og)c=this.Zh.width*e*d.ta,d=this.Zh.height*f*d.Aa,a.beginPath(),a.rect(0,0,c,-d),a.clip(),a.closePath();else if(d=p.sa.e(),d.kT()){if(this.DA=!0,this.rr=d.jS(),p.vU(c,this.rr)){var g=this.rr;a=Math.max(c.x,g.x);f=Math.max(c.y,g.y);e=
Math.min(c.x+c.width,g.x+g.width);c=Math.min(c.y+c.height,g.y+g.height);d.gD(a,f,e-a,c-f)}}else a.enable(a.SCISSOR_TEST),d.gD(c.x,c.y,c.width,c.height)}},$E:function(a){this.xq&&p.Fd===p.wk&&(this.DA?(a=this.rr,p.sa.e().gD(a.x,a.y,a.width,a.height)):(a=a||p.Y,a.disable(a.SCISSOR_TEST)))},J_:function(){},Qz:function(){for(var a=this.dl(p.qj()),c=this.Zh,d=this.ta,e=this.Aa,f=this.V;null!=f;f=f.getParent())d*=f.ta,e*=f.Aa;0>d&&(a.x+=c.width*d,d=-d);0>e&&(a.y+=c.height*e,e=-e);f=this.qG;f.x=a.x;f.y=
a.y;f.width=c.width*d;f.height=c.height*e;return f}});p.Eh.create=function(a,c){var d=new p.Eh;if(2==arguments.length){if(d&&d.Bp(a,c))return d}else if(d&&d.r())return d;return null};p.DM=p.Ea.extend({ax:function(){},gi:function(){return 0}});p.EM=p.DM.extend({dA:0,ctor:function(){this.dA=0},ax:function(a){this.dA=a},gi:function(){return this.dA}});function ga(a,c){return a.gi()-c.gi()}
p.Jx=p.Ea.extend({lh:null,ctor:function(){this.lh=[]},rI:function(a){if(!a)throw"cc.ArrayForObjectSorting.insertSortedObject(): addObject should be non-null.";this.cT(a,this.Ap(a))},TU:function(a){if(0!=this.count()){var c=this.Ap(a);c<this.count()&&c!=p.ti&&this.hn(c).gi()==a.gi()&&this.PC(c)}},q$:function(a,c){var d=this.Ap(c);if(d<this.count()&&d!=p.ti){var e=this.hn(d);e.gi()==c.gi()&&(this.PC(d),e.ax(a),this.rI(e))}},$I:function(a){if(0==this.count())return null;var c=new p.EM;c.ax(a);var d=
this.Ap(c);d<this.count()&&d!=p.ti&&(c=this.hn(d),c.gi()!=a&&(c=null));return c},V3:function(){return null},Ap:function(a){var c=0;if(a){var d=0;a=a.gi();for(var e=this.lh,f=0;f<e.length;f++){var g=e[f].gi();if(a==g||a>=d&&a<g)break;d=g;c++}}else c=p.ti;return c},count:function(){return this.lh.length},e7:function(){var a=this.lh;return 0==a.length?null:a[a.length-1]},hn:function(a){return this.lh[a]},SG:function(a){this.lh.push(a);this.lh.sort(ga)},PC:function(a){p.Xp(this.lh,a);this.lh.sort(ga)},
cT:function(a,c){this.lh=p.Rl(this.lh,a,c);this.lh.sort(ga)}});p.HE=0;p.GM=1;p.VZ=p.C.extend({Ij:0,w3:function(){return this.Ij},OV:function(a){this.Ij=a},reset:function(){this.Ij=p.ti},ax:function(a){this.Ij=a},gi:function(){return this.Ij}});p.XZ=p.CM.extend({Raa:function(){},Qaa:function(){},Saa:function(){},Taa:function(){}});p.WZ=p.Ea.extend({aX:function(a){return this.xQ(a)},xQ:function(){return p.zM},Paa:function(){return null},H7:function(){return 0}});
p.QE=p.Eh.extend({dp:null,zd:null,lo:null,qz:null,WA:null,qv:null,zu:null,Tj:null,ctor:function(){p.Eh.prototype.ctor.call(this);this.qv=p.DE;this.zu=[]},VM:function(a){var c=0,d=-1;switch(this.Ei){case p.Tn:a=a.x;break;default:a=a.y}for(var e=this.zu;d>=c;){var f=0|c+(d-c)/2,g=e[f],h=e[f+1];if(a>=g&&a<=h)return f;a<g?d=f-1:c=f+1}return 0>=c?0:-1},TN:function(a){a={x:a.x,y:a.y};this.dp===p.HE&&(a.y=this.Qa.c().height-a.y);a=this.VM(a);-1!=a&&(a=Math.max(0,a),-1<a&&(a=p.ti));return a},WM:function(a){switch(this.Ei){case p.Tn:a=
p.a(this.zu[a],0);break;default:a=p.a(0,this.zu[a])}return a},vO:function(a){var c=this.WM(a);a=this.qz.aX(this,a);this.dp===p.HE&&(c.y=this.Qa.c().height-c.y-a.height);return c},b0:function(){},$A:function(){var a=p.Xl();this.R(a);this.qv!=this.Ei&&(this.Ei==p.Tn?this.Dl(p.a(0,0)):this.Dl(p.a(0,this.dn().y)),this.qv=this.Ei)},NF:function(a){this.lo.SG(a);this.Ck.TU(a);p.Zd(this.zd,a.Ij);a.reset();a.getParent()==this.Qa&&this.Qa.removeChild(a,!0)},Av:function(a,c){c.F(0,0);c.l(this.vO(a));c.OV(a)},
ZE:function(a){a.getParent()!=this.Qa&&this.Qa.f(a);this.Ck.rI(a);var c=this.zd;a=a.Ij;-1==c.indexOf(a)&&(c.push(a),c.sort(function(a,c){return a-c}))},T2:function(){return this.qz},EV:function(a){this.qz=a},jc:function(){return this.WA},ig:function(a){this.WA=a},kaa:function(a){this.dp!=a&&(this.dp=a,0<this.Ck.count()&&this.OC())},w5:function(){return this.dp},Bp:function(a,c){return p.Eh.prototype.Bp.call(this,a,c)?(this.Ck=new p.Jx,this.lo=new p.Jx,this.zd=[],this.WA=null,this.dp=p.GM,this.NJ(p.dq),
p.Eh.prototype.ig.call(this,this),!0):!1},mba:function(a){if(!(a==p.ti||-1<a)){var c=this.vB(a);c&&this.NF(c);c=null;this.Av(a,c);this.ZE(c)}},W5:function(a){if(!(a==p.ti||-1<a)){var c,d=this.Ck;if(c=d.$I(a))for(var e=c=d.Ap(c);e<d.count();e++)c=d.hn(e),this.Av(c.Ij+1,c);c=null;this.Av(a,c);this.ZE(c);this.$A()}},S8:function(a){if(!(a==p.ti||-1<a)){var c=this.vB(a);if(c){var d=this.Ck,e=d.Ap(c);this.NF(c);p.Zd(this.zd,a);for(a=d.count()-1;a>e;a--)c=d.hn(a),this.Av(c.Ij-1,c)}}},OC:function(){this.qv=
p.DE;for(var a=this.Ck,c=this.lo,d=this.Qa,e=0,f=a.count();e<f;e++){var g=a.hn(e);c.SG(g);g.reset();g.getParent()==d&&d.removeChild(g,!0)}this.zd=[];this.Ck=new p.Jx;this.$A()},u1:function(){if(0===this.lo.count())return null;var a=this.lo.hn(0);this.lo.PC(0);return a},vB:function(a){return-1==this.zd.indexOf(a)?null:this.Ck.$I(a)},kV:function(){},lV:function(){},Ff:function(a,c){if(this.ma){if(this.Tj){var d=this.Ya();d.Tc=this.V.dl(d.origin);this.Tj=null}p.Eh.prototype.Ff.call(this,a,c)}},lb:function(a,
c){if(!this.ma)return!1;var d=p.Eh.prototype.lb.call(this,a,c);if(1===this.qh.length){var e;e=this.Qa.ai(a);e=this.TN(e);this.Tj=e===p.ti?null:this.vB(e)}else this.Tj&&(this.Tj=null);return d},vd:function(a,c){p.Eh.prototype.vd.call(this,a,c);this.Tj&&this.ph&&(this.Tj=null)},hk:function(a,c){p.Eh.prototype.hk.call(this,a,c);this.Tj&&(this.Tj=null)}});p.QE.create=function(a,c,d){var e=new p.QE;e.Bp(c,d);e.EV(a);e.$A();return e};p.cc={};p.cc.PG=function(a){for(var c in p.cc.uC)a[c]=p.cc.uC[c]};
p.cc.uC={l:function(a,c){2==arguments.length?(this.p.G=a,this.p.O=c):this.p=a;this.Xa();this.da.CD(this.p.G,-this.p.O)},Dc:function(a){this.p.O=a;this.Xa();this.da.CD(this.p.G,-this.p.O)},zb:function(a){this.p.G=a;this.Xa();this.da.CD(this.p.G,-this.p.O)},nk:function(a,c){this.ta=a;this.Aa=c||a;this.Xa();this.da.resize(this.ta,this.Aa)},Np:function(a){this.ta=a;this.Xa();this.da.resize(this.ta,this.Aa)},wn:function(a){this.Aa=a;this.Xa();this.da.resize(this.ta,this.Aa)},F:function(a,c){var d=this.Gh;
if(2===arguments.length){if(a===d.G&&c===d.O)return;d.G=a;d.O=c}else{if(a.x===d.G&&a.y===d.O)return;d.G=a.x;d.O=a.y}var e=this.Md,f=this.xa;e.G=f.Ha*d.G;e.O=f.va*d.O;this.da.style[p.Pb.Ip+"TransformOrigin"]=""+e.G+"px "+-e.O+"px";this.Lk?(this.da.style.marginLeft=0,this.da.style.marginBottom=0):(this.da.style.marginLeft=this.N6?0:-e.G+"px",this.da.style.marginBottom=-e.O+"px");this.Xa()},R:function(a,c){var d=this.xa;if(2===arguments.length){if(a===d.Ha&&c===d.va)return;d.Ha=a;d.va=c}else{if(a.width===
d.Ha&&a.height===d.va)return;d.Ha=a.width;d.va=a.height}var e=this.Md,f=this.Gh;e.G=d.Ha*f.G;e.O=d.va*f.O;this.da.width=d.Ha;this.da.height=d.va;this.F(this.Gh);this.canvas&&(this.canvas.width=d.Ha,this.canvas.height=d.va);this.Xa();this.xU()},ex:function(a){this.VO!=a&&(this.Dg=this.Rh=a,this.xm=Math.PI/180*this.Dg,this.vr=Math.PI/180*this.Rh,this.Xa(),this.da.rotate(a))},ix:function(a){this.pe=a;this.Xa();this.da.pK(this.pe,this.qe)},jx:function(a){this.qe=a;this.Xa();this.da.pK(this.pe,this.qe)},
w:function(a){this.ma=a;this.Xa();this.da&&(this.da.style.display=a?"block":"none")},Cv:function(a){this.eb=a;this.Xa();this.da&&(this.da.zIndex=a)},Js:function(a){this.V=a;null!==a&&(a.F(a.Gh),this.Xa(),p.cc.Lw(this))},Sw:function(){this.Df().rn(this);this.Jg().rn(this);this.da&&!this.da.parentNode&&(this.getParent()?p.cc.Lw(this):this.da.Um(p.Zj));this.da&&(this.da.style.visibility="visible")},Mw:function(){this.Df().Bs(this);this.Jg().Bs(this);this.da&&(this.da.style.visibility="hidden")},ag:function(){this.uD();
this.Us();this.ug(this.t,p.C.Lf.ag);this.da&&this.da.remove()},PU:function(){this.da.remove()},pa:function(a){this.Li=a;this.da.style.opacity=a/255},xU:function(){if(this.pC){var a=this.t;this.t=[];p.u.prototype.ua.call(this,this.ip);this.t=a}else p.u.prototype.ua.call(this,this.ip)}};
p.cc.RO=function(){var a=p.Pb("#EGLViewDiv");if(a){var c=p.sa.e(),d=c.mp(),e=c.ef,f=c.js(),g=d.width,h=d.height;0===d.width&&0===d.height&&(g=f.width,h=f.height);var d=e.Ra.width,k=e.Ra.height;0===e.Ra.width&&0===e.Ra.height&&(d=f.width,k=f.height);a.style.position="absolute";a.style.width=g+"px";a.style.maxHeight=h+"px";a.style.margin=0;a.resize(c.ta,c.Aa);a.style.left=d<f.width?(d-g)/2+(f.width-d)/2+"px":(d-g)/2+"px";a.style.bottom=k<f.height?(f.height-k)/2+"px":"0px"}};
p.cc.Lw=function(a){var c=a.getParent();if(c&&a.da)if(c.da||(p.cc.bU(c),c.Js=p.cc.uC.Js),a.da.Um(c.da),c.F(c.Gh),c.getParent())p.cc.Lw(c);else if(c.Ye)if(a=p.Pb("#EGLViewDiv"))c.da.Um(a);else{a=p.pk("div");a.id="EGLViewDiv";var d=p.sa.e(),e=d.mp(),f=d.ef,g=d.js(),h=e.width,k=e.height;0===e.width&&0===e.height&&(h=g.width,k=g.height);var e=f.Ra.width,l=f.Ra.height;0===f.Ra.width&&0===f.Ra.height&&(e=g.width,l=g.height);a.style.position="absolute";a.style.width=h+"px";a.style.maxHeight=k+"px";a.style.margin=
0;a.resize(d.ta,d.Aa);a.style.left=e<g.width?(e-h)/2+(g.width-e)/2+"px":(e-h)/2+"px";a.style.bottom=l<g.height?(g.height-l)/2+"px":"0px";c.da.Um(a);a.Um(p.Zj)}};p.cc.setTransform=function(a){if(a.ip)if(a.ip.translate(a.Md.x,a.Md.y),a.pC){var c=a.t;a.t=[];p.u.prototype.ua.call(a,a.ip);a.t=c}else p.u.prototype.ua.call(a,a.ip);a.da&&(a.da.position.x=a.p.x,a.da.position.y=-a.p.y,a.da.rotation=a.gS(),a.da.scale={x:a.ta,y:a.Aa},a.da.Il={x:a.pe,y:a.qe},a.F&&a.F(a.Gh),a.da.Dn())};
p.cc.DR=function(a){a.da=p.pk("div");a.canvas=p.pk("canvas");var c=a.c();a.canvas.width=c.width;a.canvas.height=c.height;a.da.style.position="absolute";a.da.style.bottom=0;a.ip=a.canvas.getContext("2d");a.da.appendChild(a.canvas);a.getParent()&&p.cc.Lw(a);a.pC=!0};
p.cc.bU=function(a){a.da=p.pk("div");a.placeholder=!0;a.da.style.position="absolute";a.da.style.bottom=0;a.da.style.width=(a.c().width||p.$.e().Sb.width)+"px";a.da.style.maxHeight=(a.c().height||p.$.e().Sb.height)+"px";a.da.style.margin=0;p.cc.setTransform(a);a.da.Dn();p.cc.PG(a)};
p.cc.bs=function(a){if(1<arguments.length)p.cc.bs(arguments);else if(1!=arguments.length||arguments[0].length)for(var c=arguments[0],d=0;d<c.length;d++)c[d]instanceof p.u?c[d].da||p.cc.DR(c[d]):p.log("DOM converter only supports sprite and menuitems yet"),p.cc.PG(c[d]),c[d].ua=function(){},c[d].transform=function(){},p.cc.setTransform(c[d]),c[d].w(c[d].ma);else p.cc.bs([arguments[0]])};p.gy=0;p.IY=1;p.LY=2;p.KY=3;p.JY=4;p.Xx=0;p.nY=1;p.oY=2;p.pY=3;p.rY=4;p.mY=5;p.qY=6;p.Vx=0;p.Wx=1;p.lY=2;p.kY=3;p.jY=4;p.uY=p.Ea.extend({fl:function(){},hl:function(){},il:function(){},I1:function(){}});
p.Mn=p.Bh.extend({Jb:null,Ba:null,Nq:p.Xx,Mq:p.Wx,hr:p.gy,oG:"",Mb:"",Wf:null,me:null,Ok:50,pq:18,I:null,ie:14,Jh:"Arial",Mh:"",Sf:14,rG:!1,ctor:function(a){p.Bh.prototype.ctor.call(this);this.Wf=p.vb();this.me=p.ml();this.R(a);this.Jb=new p.u;this.Jb.Oa=function(){};this.f(this.Jb);var c=this;this.I=document.createElement("input");this.I.type="text";this.I.style.fontSize=this.ie+"px";this.I.style.color="#000000";this.I.style.border=0;this.I.style.background="transparent";this.I.style.width="100%";
this.I.style.height="100%";this.I.style.KG=0;this.I.style.outline="medium";this.I.addEventListener("input",function(){c.Ba&&c.Ba.il&&c.Ba.il(c,this.value)});this.I.addEventListener("keypress",function(a){a.keyCode===p.fy.HB&&(a.stopPropagation(),a.preventDefault(),p.canvas.focus())});this.I.addEventListener("focus",function(){this.value==c.Mb&&(this.value="",this.style.fontSize=c.ie+"px",this.style.color=p.zc(c.Wf));c.Ba&&c.Ba.fl&&c.Ba.fl(c)});this.I.addEventListener("blur",function(){""==this.value&&
(this.value=c.Mb,this.style.fontSize=c.Sf+"px",this.style.color=p.zc(c.me));c.Ba&&c.Ba.hl&&c.Ba.hl(c)});p.cc.bs(this.Jb);this.Jb.da.appendChild(this.I);this.Jb.da.HK=!1;this.Jb.da.style.width=a.width-6+"px";this.Jb.da.style.height=a.height-6+"px";this.Jb.canvas.remove()},TJ:function(a,c){this.ie=c;this.Jh=a;this.Uh()},cD:function(a){this.Jh=a;this.Uh()},Zw:function(a){this.ie=a;this.Uh()},Uh:function(){this.I.value!=this.Mb&&(this.I.style.fontFamily=this.Jh,this.I.style.fontSize=this.ie+"px")},Hd:function(a){null!=
a&&(""==a?(this.I.value=this.Mb,this.I.style.color=p.zc(this.me)):(this.I.value=a,this.I.style.color=p.zc(this.Wf)))},aD:function(a){this.Wf=a;this.I.value!=this.Mb&&(this.I.style.color=p.zc(a))},ZJ:function(a){!isNaN(a)&&0<a&&(this.Ok=a,this.I.maxLength=a)},QH:function(){return this.Ok},cK:function(a){if(null!=a){var c=this.Mb;this.Mb=a;this.I.value==c&&(this.I.value=a,this.I.style.color=p.zc(this.me),this.Uf())}},dK:function(a,c){this.Mh=a;this.Sf=c;this.Uf()},fK:function(a){this.Mh=a;this.Uf()},
gK:function(a){this.Sf=a;this.Uf()},Uf:function(){this.I.value==this.Mb&&(this.I.style.fontFamily=this.Mh,this.I.style.fontSize=this.Sf+"px")},eK:function(a){this.me=a;this.I.value==this.Mb&&(this.I.style.color=p.zc(a))},Kp:function(a){this.Mq=a;this.I.type=a==p.Vx?"password":"text"},X:function(){return this.I.value},ss:function(a,c){return this.xw(c)?(this.Jb.l(3,3),this.rD(!1),this.oi(a),this.l(0,0),this.su(this,this.Ss,p.ft),!0):!1},ig:function(a){this.Ba=a},TH:function(){return this.Mb},XJ:function(a){this.Nq=
a},kK:function(a){this.hr=a},JI:function(a){var c=p.Mn.ed(this);c.y-=4;c.tI(a.end)?this.pq=a.end.RH()-c.SH():p.log("needn't to adjust view layout.")},HI:function(){},II:function(){},GI:function(){},Ss:function(){},jI:function(a,c){this.Lq=a.width;this.da.style.width=this.Lq.toString()+"px";this.Kq=a.height;this.da.style.height=this.Kq.toString()+"px";this.da.style.backgroundColor=p.zc(c)}});p.Mn.ed=function(a){var c=a.c(),c=p.rect(0,0,c.width,c.height);return p.Kf(c,a.gn())};
p.Mn.create=function(a,c,d,e){var f=new p.Mn(a);c instanceof p.tc?f.Gs(c):f.ss(a,c)&&(d&&f.Bl(d,p.ht),e&&f.Bl(e,p.gt));return f};SingleLineBox=p.Bh.extend({Jb:null,Ba:null,Nq:p.Xx,Mq:p.Wx,hr:p.gy,oG:"",Mb:"",Wf:null,me:null,Ok:50,pq:18,I:null,ie:14,Jh:"Arial",Oq:!1,Mh:"",Sf:14,rG:!1,ctor:function(a){p.Bh.prototype.ctor.call(this);this.Oq=!1;this.Wf=p.vb();this.me=p.ml();this.R(a);this.Jb=new p.u;this.Jb.Oa=function(){};this.f(this.Jb);var c=this;this.I=document.createElement("input");this.I.type="text";this.I.style.fontSize=this.ie+"px";this.I.style.color="#000000";this.I.style.border=0;this.I.style.background="transparent";
this.I.style.width="100%";this.I.style.height="100%";this.I.style.KG=0;this.I.style.outline="medium";this.I.addEventListener("input",function(){c.Ba&&c.Ba.il&&c.Ba.il(c,this.value)});this.I.addEventListener("keyup",function(a){a.keyCode===p.fy.HB&&!1==c.Oq&&(a.stopPropagation(),a.preventDefault(),p.canvas.focus())});this.I.addEventListener("focus",function(){this.value==c.Mb&&(this.value="",this.style.fontSize=c.ie+"px",this.style.color=p.zc(c.Wf));c.Ba&&c.Ba.fl&&c.Ba.fl(c)});this.I.addEventListener("blur",
function(){""==this.value&&(this.value=c.Mb,this.style.fontSize=c.Sf+"px",this.style.color=p.zc(c.me));c.Ba&&c.Ba.hl&&c.Ba.hl(c)});p.cc.bs(this.Jb);this.Jb.da.appendChild(this.I);this.Jb.da.HK=!1;this.Jb.da.style.width=a.width-6+"px";this.Jb.da.style.height=a.height-6+"px";this.Jb.canvas.remove()},TJ:function(a,c){this.ie=c;this.Jh=a;this.Uh()},zW:function(){},cD:function(a){this.Jh=a;this.Uh()},Zw:function(a){this.ie=a;this.Uh()},Uh:function(){this.I.value!=this.Mb&&(this.I.style.fontFamily=this.Jh,
this.I.style.fontSize=this.ie+"px")},Hd:function(a){null!=a&&(""==a?(this.I.value=this.Mb,this.I.style.color=p.zc(this.me)):(this.I.value=a,this.I.style.color=p.zc(this.Wf)))},aD:function(a){this.Wf=a;this.I.value!=this.Mb&&(this.I.style.color=p.zc(a))},ZJ:function(a){!isNaN(a)&&0<a&&(this.Ok=a,this.I.maxLength=a)},QH:function(){return this.Ok},cK:function(a){if(null!=a){var c=this.Mb;this.Mb=a;this.I.value==c&&(this.I.value=a,this.I.style.color=p.zc(this.me),this.Uf())}},dK:function(a,c){this.Mh=
a;this.Sf=c;this.Uf()},fK:function(a){this.Mh=a;this.Uf()},gK:function(a){this.Sf=a;this.Uf()},Uf:function(){this.I.value==this.Mb&&(this.I.style.fontFamily=this.Mh,this.I.style.fontSize=this.Sf+"px")},eK:function(a){this.me=a;this.I.value==this.Mb&&(this.I.style.color=p.zc(a))},Kp:function(a){this.Mq=a;this.I.type=a==p.Vx?"password":"text"},X:function(){return this.I.value},ss:function(a,c){return this.xw(c)?(this.Jb.l(3,3),this.rD(!1),this.oi(a),this.l(0,0),this.su(this,this.Ss,p.ft),!0):!1},ig:function(a){this.Ba=
a},TH:function(){return this.Mb},XJ:function(a){this.Nq=a},kK:function(a){this.hr=a},JI:function(a){var c=p.Mn.ed(this);c.y-=4;c.tI(a.end)?this.pq=a.end.RH()-c.SH():p.log("needn't to adjust view layout.")},HI:function(){},II:function(){},GI:function(){},Ss:function(){},Gs:function(a){this.I.style.background="#"+v(a.o)+v(a.n)+v(a.i)},jI:function(a,c){this.Lq=a.width;this.da.style.width=this.Lq.toString()+"px";this.Kq=a.height;this.da.style.height=this.Kq.toString()+"px";this.da.style.backgroundColor=
p.zc(c)}});SingleLineBox.ed=function(a){var c=a.c(),c=p.rect(0,0,c.width,c.height);return p.Kf(c,a.gn())};SingleLineBox.create=function(a,c,d,e){var f=new SingleLineBox(a);c instanceof p.tc?f.Gs(c):f.ss(a,c)&&(d&&f.Bl(d,p.ht),e&&f.Bl(e,p.gt));return f};MultiLineBox=p.Bh.extend({Jb:null,Ba:null,Nq:p.Xx,Mq:p.Wx,hr:p.gy,oG:"",Mb:"",Wf:null,me:null,Ok:50,pq:18,I:null,ie:14,Jh:"Arial",Oq:!1,Mh:"",Sf:14,rG:!1,ctor:function(a){p.Bh.prototype.ctor.call(this);this.Oq=!1;this.Wf=p.vb();this.me=p.ml();this.R(a);this.Jb=new p.u;this.Jb.Oa=function(){};this.f(this.Jb);var c=this;this.I=document.createElement("TEXTAREA");this.I.type="text";this.I.style.fontSize=this.ie+"px";this.I.style.color="#000000";this.I.style.border=0;this.I.style.background="transparent";
this.I.style.width="100%";this.I.style.height="100%";this.I.style.KG=0;this.I.style.outline="medium";this.I.addEventListener("input",function(){c.Ba&&c.Ba.il&&c.Ba.il(c,this.value)});this.I.addEventListener("keyup",function(a){a.keyCode===p.fy.HB&&!1==c.Oq&&(a.stopPropagation(),a.preventDefault(),p.canvas.focus())});this.I.addEventListener("focus",function(){this.value==c.Mb&&(this.value="",this.style.fontSize=c.ie+"px",this.style.color=p.zc(c.Wf));c.Ba&&c.Ba.fl&&c.Ba.fl(c)});this.I.addEventListener("blur",
function(){""==this.value&&(this.value=c.Mb,this.style.fontSize=c.Sf+"px",this.style.color=p.zc(c.me));c.Ba&&c.Ba.hl&&c.Ba.hl(c)});p.cc.bs(this.Jb);this.Jb.da.appendChild(this.I);this.Jb.da.HK=!1;this.Jb.da.style.width=a.width-6+"px";this.Jb.da.style.height=a.height-6+"px";this.Jb.canvas.remove()},TJ:function(a,c){this.ie=c;this.Jh=a;this.Uh()},zW:function(){},cD:function(a){this.Jh=a;this.Uh()},Zw:function(a){this.ie=a;this.Uh()},Uh:function(){this.I.value!=this.Mb&&(this.I.style.fontFamily=this.Jh,
this.I.style.fontSize=this.ie+"px")},Hd:function(a){null!=a&&(""==a?(this.I.value=this.Mb,this.I.style.color=p.zc(this.me)):(this.I.value=a,this.I.style.color=p.zc(this.Wf)))},aD:function(a){this.Wf=a;this.I.value!=this.Mb&&(this.I.style.color=p.zc(a))},ZJ:function(a){!isNaN(a)&&0<a&&(this.Ok=a,this.I.maxLength=a)},QH:function(){return this.Ok},cK:function(a){if(null!=a){var c=this.Mb;this.Mb=a;this.I.value==c&&(this.I.value=a,this.I.style.color=p.zc(this.me),this.Uf())}},dK:function(a,c){this.Mh=
a;this.Sf=c;this.Uf()},fK:function(a){this.Mh=a;this.Uf()},gK:function(a){this.Sf=a;this.Uf()},Uf:function(){this.I.value==this.Mb&&(this.I.style.fontFamily=this.Mh,this.I.style.fontSize=this.Sf+"px")},eK:function(a){this.me=a;this.I.value==this.Mb&&(this.I.style.color=p.zc(a))},Kp:function(a){this.Mq=a;this.I.type=a==p.Vx?"password":"text"},X:function(){return this.I.value},ss:function(a,c){return this.xw(c)?(this.Jb.l(3,3),this.rD(!1),this.oi(a),this.l(0,0),this.su(this,this.Ss,p.ft),!0):!1},ig:function(a){this.Ba=
a},TH:function(){return this.Mb},XJ:function(a){this.Nq=a},kK:function(a){this.hr=a},JI:function(a){var c=p.Mn.ed(this);c.y-=4;c.tI(a.end)?this.pq=a.end.RH()-c.SH():p.log("needn't to adjust view layout.")},HI:function(){},II:function(){},GI:function(){},Ss:function(){},Gs:function(a){this.I.style.background="#"+v(a.o)+v(a.n)+v(a.i)},jI:function(a,c){this.Lq=a.width;this.da.style.width=this.Lq.toString()+"px";this.Kq=a.height;this.da.style.height=this.Kq.toString()+"px";this.da.style.backgroundColor=
p.zc(c)}});MultiLineBox.ed=function(a){var c=a.c(),c=p.rect(0,0,c.width,c.height);return p.Kf(c,a.gn())};MultiLineBox.create=function(a,c,d,e){var f=new MultiLineBox(a);c instanceof p.tc?f.Gs(c):f.ss(a,c)&&(d&&f.Bl(d,p.ht),e&&f.Bl(e,p.gt));return f};var x=Object.freeze({ye:{s1:"C to popup/dismiss, enter for chat. Say /help for help.",a6:"Welcome to the Powder Engine! Enter /help for some help.",PS:"-------HELP------",OS:" - Press C to expand the chat, I for Inventory",NS:" - Space to grab Items and E for Equipment.",MS:" - Enter /commands for command list",LS:"-------------------",QQ:"Commands:  /editskill, /editsign, /editnpc,",PQ:" - /editmap, /editwarp, /edititem,",OQ:" - /dance, /coinflip, /diceroll, /afk",NQ:"--------------------",cU:" has joined the game!",
s8:" has left the game!",Nw:"Picked up ",vR:"Dropped ",vI:"Your inventory is full"}});var ha=eval("gameConfig();"),ja={},ka=p.Kd.e();p.nj.e();ka.oK(["res/Graphics"]);var la=new XMLHttpRequest;la.open("GET","res/Graphics/tile_graphics.txt",!1);la.send(null);var ma=la.responseText,na=ma.split(","),y=[],oa;for(oa in na)y.push({name:na[oa],texture:p.ga.e().qa(na[oa])});var pa=!1,la=new XMLHttpRequest;la.open("GET","res/Graphics/character_graphics.txt",!1);la.send(null);var ma=la.responseText,na=ma.split(","),z=[];for(oa in na)z.push({name:na[oa],texture:p.ga.e().qa(na[oa])});
document.getElementById("gameCanvas").onkeydown=function(a){a.preventDefault();ja[a.keyCode]=!0};window.onbeforeunload=function(){A({disconnect:!0})};window.onfocus=function(){for(var a=[],c=B.length-1;0<=c;c--){var d=JSON.parse(B[c]);d.moveTo&&!a[d.id]?(a[d.id]=!0,d.setTo=1,d.moveTo=null,B[c]=JSON.stringify(d)):d.moveTo&&a[d.id]&&B.splice(c,1)}};var D=p.h(255,255,255,255),qa=p.h(0,255,0,255),F=p.h(255,0,0,255);
document.getElementById("gameCanvas").onkeyup=function(a){ja[a.keyCode]=!1;if(null!=G.e().ud){a.stopPropagation();var c=null;switch(a.keyCode){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";
break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a.keyCode&&58>a.keyCode||64<a.keyCode&&91>a.keyCode)&&(c=String.fromCharCode(a.keyCode));null!=c&&G.e().ud.wl(c)}};rememberLoginNextTime=autoLoginNextTime=!1;
var I={GENERAL:"ISSECTION","Project Name":"Powder Engine Testbed","Version Number":"0.705",CHATBAR:"ISSECTION","Welcome Message":"Welcome to the Powder Engine! Enter /help for some help.","Join Message":"\x3cPLAYER\x3e has joined the game!","Leave Message":"\x3cPLAYER\x3e has left the game!","Default ChatBar Message":"C to popup/dismiss, enter for chat. Say /help for help.",ITEMS:"ISSECTION","Item Dropdown Pick Up":"Pick up \x3cITEM\x3e","Item Dropdown Walk To":"Walk to \x3cITEM\x3e","Item Pick Up":"Picked up \x3cITEM\x3e.",
"Item Dropped":"Dropped \x3cITEM\x3e.","Item Out-of-range":"\x3cITEM\x3e is too far away to pick up!","Item Dropdown Examine":"Examine \x3cITEM\x3e","Item Dropdown Equip":"Equip \x3cITEM\x3e","Item Dropdown Read":"Read \x3cITEM\x3e","Item Dropdown Eat":"Eat \x3cITEM\x3e","Item Dropdown Use":"Use \x3cITEM\x3e","Item Dropdown Unequip":"Unequip \x3cITEM\x3e","Item Dropdown Drop":"Drop \x3cITEM\x3e",NPCS:"ISSECTION","NPC Dropdown Examine":"Examine","NPC Dropdown Attack":"Attack","NPC Dropdown Talk":"Talk To",
"NPC Dropdown Follow":"Follow","NPC Dropdown Trade":"Trade","NPC Dropdown Bank":"Open Bank",SIGNS:"ISSECTION","Sign Dropdown list Read":"Read sign \x3cSIGN\x3e","Sign Out-of-range":"\x3cSIGN\x3e is too far away to read!",PANELS:"ISSECTION","Equipment Header":"Equipment","Inventory Header":"Inventory","Skills Header":"Skills List","Quest Header":"Quest Log",COMMANDS:"ISSECTION","/dance":"\x3cPLAYER\x3e danced the dance of his people.","/diceroll":"\x3cPLAYER\x3e threw a dice and got \x3cVALUE\x3e",
"/coinflip":"\x3cPLAYER\x3e flipped a coin and got \x3cVALUE\x3e"};function J(a,c){return(a.FI&&a.ma||!a.FI)&&p.bb(p.rect(a.p.G,a.p.O,a.c().width,a.c().height),c)}function K(a){if(!a)return null;var c=null;"object"==typeof a&&(c={});a instanceof Array&&(c=[]);for(var d in a)c[d]=a[d]&&("object"==typeof a[d]||a[d]instanceof Array)?K(a[d]):a[d];return c}
isMobile=function(){var a=!1,c=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(c)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(c.substr(0,
4)))a=!0;return a};function ua(){L.Zc(function(){})}function va(a,c){var d=c?a:a.xc();return wa(d,"panels")}
function wa(a,c,d){c=d?d[c]:a[c];"undefined"!=typeof c.jT?d=xa.Tx(c.bX):"undefined"!=typeof c.v?(d=c.size?c.size:p.size(100,100),d=p.aa.create(c.v,d.width,d.height)):d="undefined"!=typeof c.pC?p.u.create():"undefined"!=typeof c.Z?p.u.ab(p.ga.e().qa(c.Z)):"undefined"!=typeof c.label?p.Q.create(c.label,c.font?c.h2:"Arial",c.fontSize?c.fontSize:14):p.C.create();"undefined"!=typeof c.size&&d.R(Math.floor(c.size.width),Math.floor(c.size.height));"undefined"!=typeof c.position&&d.l(p.a(Math.floor(c.position.x),
Math.floor(c.position.y)));"undefined"!=typeof c.visible&&d.w(c.visible);"undefined"!=typeof c.d&&d.F(c.d);"undefined"!=typeof c.opacity&&d.pa(c.opacity);"undefined"!=typeof c.color&&(d.m||console.log(c),d.m(c.color));if("undefined"!=typeof c.children)for(var e in c.children)d[e]=wa(a,e,c.children),d.f(d[e]);return d}
function ya(a,c,d){a=a[c];"undefined"!=typeof a.size&&d.R(Math.floor(a.size.width),Math.floor(a.size.height));"undefined"!=typeof a.position&&d.l(p.a(Math.floor(a.position.x),Math.floor(a.position.y)));"undefined"!=typeof a.visible&&d.w(a.visible);"undefined"!=typeof a.d&&d.F(a.d);"undefined"!=typeof a.opacity&&d.pa(a.opacity);"undefined"!=typeof a.color&&(node.m||console.log(a),d.m(a.color));if("undefined"!=typeof a.children)for(var e in a.children)ya(a.children,e,d[e])}
function v(a){a=a.toString(16);return 1==a.length?"0"+a:a}var M=null,N=ha.tileSize,za=ha.characterSize,O=Math.floor(36),P=Math.floor(36);function Q(a,c){return parseInt(P*(O-c))+parseInt(a)}function Aa(a,c){var d={},e;for(e in a)d[e]=a[e];for(e in c)d[e]=c[e];return d}function Ba(a,c){var d={},e;for(e in a)d[e]=a[e]+"";for(e in c)d[e]&&(d[e]=c[e]+"");return d}
function Ca(a,c,d){var e=[];L.Zc(function(){var f=[],g=R.q.W.items;c&&(c.script&&(f=ObjectLists.Wi()[c.script].data),c.storedobj&&(storedobj=c.storedobj));for(var h=0;h<f.length;h++)if(f[h].type==a){for(var k=f[h].requirements,l=!0,m=0;m<k.length;m++)switch(k[m].type){case "Is Quest Point":var n=R.q.W.Vi(k[m].data.quest);n||(n=0);if(n!=k[m].data.objective){l=!1;break}break;case "Script Requirement":var n=K(R.q.W.pw(c.script)),t=!0;n||(n={});try{var s=k[m].data.functionContent.replace(/,/g,"").split(":"),
u="{",w;for(w in s)u=0==w%2?u+('"'+s[w]+'":'):w!=s.length-1?u+('"'+s[w]+'",'):u+('"'+s[w]+'"');var u=u+"}",E=JSON.parse(u);for(w in E)n[w]||(n[w]="null"),n[w]!=E[w]&&(t=!1);if(!1==t){l=!1;break}}catch(H){S.rb("your custom require script failed");l=!1;break}break;case "Is Panel Visibility":if(d&&d["Is Panel Visibility"])break;n=1==k[m].data.visible?!0:!1;switch(k[m].data.panel){case 0:null==Inventory||Inventory.V||(Inventory=null);if(Inventory&&!n){l=!1;break}if(!Inventory&&n){l=!1;break}break;case 1:null==
Equipment||Equipment.V||(Equipment=null);if(Equipment&&!n){l=!1;break}if(!Equipment&&n){l=!1;break}break;case 2:null==Skills||Skills.V||(Skills=null);if(Skills&&!n){l=!1;break}!Skills&&n&&(l=!1)}break;case "Is Player Inventory Space":if(d&&d["Is Player Inventory Space"])break;t=k[m].data.space?k[m].data.space:0;for(u=n=0;40>u;u++)g.stored[u]||n++;if(n<t){l=!1;break}break;case "Has Player Item":if(d&&d["Has Player Item"])break;if(k[m].data.item){t=k[m].data.amount?k[m].data.amount:0;n=0;u=ObjectLists.Bf()[k[m].data.item].name;
for(w in g.stored)g.stored[w]&&g.stored[w].name==u&&n++;if(n<t){l=!1;break}}break;case "Is Player Statistics":if(d&&d["Is Player Statistics"])break;n=ObjectLists.uh()[k[m].data.skill].name;k[m].data.levelUpper||(k[m].data.levelUpper=0);k[m].data.levelLower||(k[m].data.levelLower=0);k[m].data.healthUpper||(k[m].data.healthUpper=0);k[m].data.healthLowe||(k[m].data.healthLower=0);k[m].data.xpUpper||(k[m].data.xpUpper=0);k[m].data.xpLower||(k[m].data.xpLower=0);if(0!=k[m].data.levelUpper||0!=k[m].data.levelLower)if(t=
SkillBarsInstance.lc[n].level+1,t>k[m].data.levelUpper||t<k[m].data.levelLower){l=!1;break}if(0!=k[m].data.healthUpper||0!=k[m].data.healthLower)if(t=SkillBarsInstance.lc[n].currenthealth,t>k[m].data.healthUpper||t<k[m].data.healthLower){l=!1;break}if(0!=k[m].data.xpUpper||0!=k[m].data.xpLower)if(t=SkillBarsInstance.lc[n].experience,t>k[m].data.xpUpper||t<k[m].data.xpLower)l=!1}if(l)for(k=f[h].responses,m=0;m<k.length;m++)switch(k[m].type){case "Script Response":l=h,n=m,e.push([function(a,d){var e=
K(R.q.W.pw(c.script));e||(e={});try{var g=f[a].responses[d].data.functionContent.replace(/,/g,"").split(":"),h="{",k;for(k in g)h=0==k%2?h+('"'+g[k]+'":'):k!=g.length-1?h+('"'+g[k]+'",'):h+('"'+g[k]+'"');var l=JSON.parse(h+"}"),e=Aa(e,l);R.q.W.RJ(c.script,K(e))}catch(m){S.rb("Your custom response script failed")}},l,n]);case "Equip Item":if(d&&d["Equip Item"])break;l=h;n=m;e.push([function(a,d){var e=f[a].responses[d].data.equip;"bothArms"==e&&(e="lArm",g.equipped.rArm||(e="rArm"));var h=null;g.equipped[e]&&
(h=K(g.equipped[e]),Ca("On Dequip",h));g.equipped[e]=K(c);c=h;Inventory&&Inventory.ub();Equipment&&Equipment.ub()},l,n]);break;case "Give /Take Item":if(d&&d["Give /Take Item"])break;if(!k[m].data.amount||null==k[m].data.item||"undefined"==k[m].data.item)break;l=h;n=m;e.push([function(a,c){var d=f[a].responses[c],e=ObjectLists.Bf()[d.data.item];if(0<d.data.amount){var h=d.data.amount;if(!0==e.stackable){for(var k=0;40>k;k++)g.stored[k]&&g.stored[k].name==e.name&&(h=0);0!=l&&(h=1)}else for(var l=0,
k=0;40>k;k++)g.stored[k]||l++;if(l<h)return;if(!0==e.stackable){l=!1;for(k=0;40>k;k++)if(g.stored[k]&&g.stored[k].name==e.name){g.stored[k].amount+=d.data.amount;Inventory&&Inventory.pi(k,g.stored[k].amount);l=!0;break}if(!1==l)for(k=0;40>k;k++)if(!g.stored[k]){g.stored[k]=K(e);g.stored[k].amount=d.data.amount;Inventory&&Inventory.pi(k,g.stored[k].amount);break}}else for(l=0;l<d.data.amount;l++)for(k=0;40>k;k++)if(!g.stored[k]){g.stored[k]=K(e);break}}else if(0>d.data.amount){h=Math.abs(d.data.amount);
l=0;e=e.name;for(k in g.stored)g.stored[k]&&g.stored[k].name==e&&l++;if(l<h)return;for(l=0;l<Math.abs(d.data.amount);l++)for(k in g.stored)if(g.stored[k]&&g.stored[k].name==e){console.log("gettin rid"+l);user.stored[k]=null;break}}Inventory&&Inventory.ub();Equipment&&Equipment.ub()},l,n]);break;case "Modify Player Stats":if(d&&d["Modify Player Stats"])break;l=h;n=m;e.push([function(a,c){var d=f[a].responses[c];if(ObjectLists.uh()[d.data.skill]){var e=ObjectLists.uh()[d.data.skill].name;T.TI(e,d.data.level);
T.SI(e,d.data.health);T.UI(e,d.data.xp)}},l,n]);break;case "Set Quest Point":if(d&&d["Set Quest Point"])break;l=h;n=m;e.push([function(a,c){var d=f[a].responses[c];R.q.W.iK(d.data.quest,d.data.objective)},l,n]);break;case "Warp Player":if(d&&d["Warp Player"])break;l=h;n=m;e.push([function(a,c){var d=f[a].responses[c],e=d.data.index%P,g=Math.floor(d.data.index/P);R.q.W.l(32*e,32*g);A({changemap:d.data.mapnum,setTo:d.data.index});U.tp(d.data.mapnum);U.vp(32*e,32*g)},l,n]);break;case "Read Item":if(d&&
d["Read Item"])break;l=h;n=m;e.push([function(a,d){L.JW(c.name,f[a].responses[d].data.say)},l,n]);break;case "Open/Close Panel":if(d&&d["Open/Close Panel"])break;l=h;n=m;e.push([function(a,c){var d=f[a].responses[c],e=1==d.data.visible?!0:!1;switch(d.data.panel){case 0:null==Inventory||Inventory.V||(Inventory=null);!0==e?Inventory?Inventory.ub():(Inventory=new InventoryPanel,Inventory.r(),Inventory.oa(),L.f(Inventory)):Inventory&&(Inventory.wa(),Inventory.L(),Inventory=null);break;case 1:null==Equipment||
Equipment.V||(Equipment=null);!0==e?Equipment?Equipment.ub():(Equipment=new EquipmentPanel,Equipment.r(),Equipment.oa(),L.f(Equipment)):Equipment&&(Equipment.wa(),Equipment.L(),Equipment=null);break;case 2:null==Skills||Skills.V||(Skills=null),!0==e?Skills?Skills.ub():(Skills=new SkillsPanel,Skills.r(),Skills.oa(),L.f(Skills)):Skills&&(Skills.wa(),Skills.L(),Skills=null)}},l,n]);break;case "Destroy":if(d&&d.Destroy)break;l=h;n=m;c=null;Inventory&&Inventory.ub();m=k.length}}for(w=0;w<e.length;w++)e[w][0](e[w][1],
e[w][2]),e.splice(w,1),w--})}
function Da(a,c){var d=[];L.Zc(function(){var e=[],f=R.q.W.items;c&&c.Wa&&(e=ObjectLists.Wi()[c.Wa].data);console.log(a);for(var g=0;g<e.length;g++)if(e[g].type==a){for(var h=e[g].requirements,k=!0,l=0;l<h.length;l++)switch(h[l].type){case "Is Quest Point":console.log("Is Quest Point");var m=R.q.W.Vi(h[l].data.quest);m||(m=0);if(m!=h[l].data.objective){k=!1;break}break;case "Script Requirement":console.log("SCRIPT REQUIRE);");var m=K(R.q.W.pw(c.Wa)),n=!0;m||(m={});try{var t=h[l].data.functionContent.replace(/,/g,
"").split(":"),s="{",u;for(u in t)s=0==u%2?s+('"'+t[u]+'":'):u!=t.length-1?s+('"'+t[u]+'",'):s+('"'+t[u]+'"');var s=s+"}",w=JSON.parse(s);for(u in w)m[u]||(m[u]="null"),m[u]!=w[u]&&(n=!1);if(!1==n){k=!1;break}}catch(E){S.rb("your custom require script failed");k=!1;break}break;case "Is Panel Visibility":m=1==h[l].data.visible?!0:!1;switch(h[l].data.panel){case 0:null==Inventory||Inventory.V||(Inventory=null);if(Inventory&&!m){k=!1;break}if(!Inventory&&m){k=!1;break}break;case 1:null==Equipment||Equipment.V||
(Equipment=null);if(Equipment&&!m){k=!1;break}if(!Equipment&&m){k=!1;break}break;case 2:null==Skills||Skills.V||(Skills=null);if(Skills&&!m){k=!1;break}!Skills&&m&&(k=!1)}break;case "Is Player Inventory Space":n=h[l].data.space?h[l].data.space:0;for(s=m=0;40>s;s++)f.stored[s]||m++;if(m<n){k=!1;break}break;case "Has Player Item":if(h[l].data.item){n=h[l].data.amount?h[l].data.amount:0;m=0;s=ObjectLists.Bf()[h[l].data.item].name;for(u in f.stored)f.stored[u]&&f.stored[u].name==s&&m++;if(m<n){k=!1;break}}break;
case "Is Player Statistics":m=ObjectLists.uh()[h[l].data.skill].name;h[l].data.levelUpper||(h[l].data.levelUpper=0);h[l].data.levelLower||(h[l].data.levelLower=0);h[l].data.healthUpper||(h[l].data.healthUpper=0);h[l].data.healthLowe||(h[l].data.healthLower=0);h[l].data.xpUpper||(h[l].data.xpUpper=0);h[l].data.xpLower||(h[l].data.xpLower=0);if(0!=h[l].data.levelUpper||0!=h[l].data.levelLower)if(n=SkillBarsInstance.lc[m].level+1,n>h[l].data.levelUpper||n<h[l].data.levelLower){k=!1;break}if(0!=h[l].data.healthUpper||
0!=h[l].data.healthLower)if(n=SkillBarsInstance.lc[m].currenthealth,n>h[l].data.healthUpper||n<h[l].data.healthLower){k=!1;break}if(0!=h[l].data.xpUpper||0!=h[l].data.xpLower)if(n=SkillBarsInstance.lc[m].experience,n>h[l].data.xpUpper||n<h[l].data.xpLower)k=!1}if(!0==k)for(h=e[g].responses,l=0;l<h.length;l++)switch(h[l].type){case "Script Response":k=g;m=l;d.push([function(a,d){var f=K(R.q.W.pw(c.Wa));f||(f={});try{var g=e[d].responses[a].data.functionContent.replace(/,/g,"").split(":"),h="{",k;for(k in g)h=
0==k%2?h+('"'+g[k]+'":'):k!=g.length-1?h+('"'+g[k]+'",'):h+('"'+g[k]+'"');var l=JSON.parse(h+"}"),f=Aa(f,l);R.q.W.RJ(c.Wa,K(f))}catch(m){S.rb("Your custom response script failed")}},k,m]);break;case "Talk":k=g;m=l;d.push([function(a,d){var f=e[a].responses[d];L.LW(c,e,a,c.name,f.data.say,f.data.options)},k,m]);break;case "Give /Take Item":if(!h[l].data.amount||null==h[l].data.item||"undefined"==h[l].data.item)break;k=g;m=l;d.push([function(a,c){var d=e[a].responses[c],g=ObjectLists.Bf()[d.data.item];
if(0<d.data.amount){var h=d.data.amount;if(!0==g.stackable){for(var k=0;40>k;k++)f.stored[k]&&f.stored[k].name==g.name&&(h=0);0!=l&&(h=1)}else for(var l=0,k=0;40>k;k++)f.stored[k]||l++;if(l<h)return;if(!0==g.stackable){l=!1;for(k=0;40>k;k++)if(f.stored[k]&&f.stored[k].name==g.name){f.stored[k].amount+=d.data.amount;Inventory&&Inventory.pi(k,f.stored[k].amount);l=!0;break}if(!1==l)for(k=0;40>k;k++)if(!f.stored[k]){f.stored[k]=K(g);f.stored[k].amount=d.data.amount;Inventory&&Inventory.pi(k,f.stored[k].amount);
break}}else for(l=0;l<d.data.amount;l++)for(k=0;40>k;k++)if(!f.stored[k]){f.stored[k]=K(g);break}}else if(0>d.data.amount){h=Math.abs(d.data.amount);l=0;g=g.name;for(k in f.stored)f.stored[k]&&f.stored[k].name==g&&l++;if(l<h)return;for(l=0;l<Math.abs(d.data.amount);l++)for(k in f.stored)if(f.stored[k]&&f.stored[k].name==g){console.log("gettin rid"+l);user.stored[k]=null;break}}Inventory&&Inventory.ub();Equipment&&Equipment.ub()},k,m]);break;case "Modify Player Stats":k=g;m=l;d.push([function(a,c){var d=
e[a].responses[c];if(ObjectLists.uh()[d.data.skill]){var f=ObjectLists.uh()[d.data.skill].name;T.TI(f,d.data.level);T.SI(f,d.data.health);T.UI(f,d.data.xp)}},k,m]);break;case "Set Quest Point":k=g;m=l;d.push([function(a,c){var d=e[a].responses[c];R.q.W.iK(d.data.quest,d.data.objective)},k,m]);break;case "Warp Player":k=g;m=l;d.push([function(a,c){var d=e[a].responses[c],f=d.data.index%P,g=Math.floor(d.data.index/P);R.q.W.l(32*f,32*g);A({changemap:d.data.mapnum,setTo:d.data.index});U.tp(d.data.mapnum);
U.vp(32*f,32*g)},k,m]);break;case "Open/Close Panel":k=g,m=l,d.push([function(a,c){var d=e[a].responses[c],f=1==d.data.visible?!0:!1;switch(d.data.panel){case 0:null==Inventory||Inventory.V||(Inventory=null);!0==f?Inventory?Inventory.ub():(Inventory=new InventoryPanel,Inventory.r(),Inventory.oa(),L.f(Inventory)):Inventory&&(Inventory.wa(),Inventory.L(),Inventory=null);break;case 1:null==Equipment||Equipment.V||(Equipment=null);!0==f?Equipment?Equipment.ub():(Equipment=new EquipmentPanel,Equipment.r(),
Equipment.oa(),L.f(Equipment)):Equipment&&(Equipment.wa(),Equipment.L(),Equipment=null);break;case 2:null==Skills||Skills.V||(Skills=null),!0==f?Skills?Skills.ub():(Skills=new SkillsPanel,Skills.r(),Skills.oa(),L.f(Skills)):Skills&&(Skills.wa(),Skills.L(),Skills=null)}},k,m])}}for(u=0;u<d.length;u++)d[u][0](d[u][1],d[u][2]),d.splice(u,1),u--})};var V=p.Ea.extend({q:null,yb:function(a){return(a=r.localStorage.getItem("last_"+a))?a:null},lk:function(a,c){return(c=r.localStorage.setItem("last_"+a,c))?c:null}}),W=null;V.Tx=function(){W||(W=new V);return W};V.e=function(){return W};V.eW=function(a,c){var d=r.localStorage.getItem("panelStore");"null"==d||null==d?(console.log("NEW PANEL STORE"),d={}):d=JSON.parse(d);d[a]={x:c.x,y:c.y};r.localStorage.setItem("panelStore",JSON.stringify(d))};V.bS=function(){return r.localStorage.getItem("panelStore")};
V.RR=function(a){if(W.yb("maps")){if(a){var c=JSON.parse(r.localStorage.getItem("map_data"));return c[a]?c[a]:null}}else return[]};V.YK=function(a,c){W.lk("maps",c);r.localStorage.setItem("map_data",JSON.stringify(a))};V.zQ=function(a,c,d){var e=W.yb("maps")?JSON.parse(r.localStorage.getItem("map_data")):[];e[a]=c;V.YK(e,d)};V.hf=function(){if(W.yb("scripts")){if(""!=r.localStorage.getItem("scripts_data"))var a=JSON.parse(r.localStorage.getItem("scripts_data"));return a?a:[]}return[]};
V.cL=function(a,c){W.lk("scripts",c);r.localStorage.setItem("scripts_data",JSON.stringify(a))};V.EQ=function(a,c,d){var e=W.yb("scripts")?""!=r.localStorage.getItem("scripts_data")?JSON.parse(r.localStorage.getItem("scripts_data")):[]:[];e[a]=c;V.cL(e,d)};V.BU=function(a,c){scriptarray=a;V.Dx(scriptarray,c)};V.vS=function(){if(W.yb("warps")){if(""!=r.localStorage.getItem("warps_data"))var a=JSON.parse(r.localStorage.getItem("warps_data"));return a?a:[]}return[]};
V.Dx=function(a,c){W.lk("warps",c);r.localStorage.setItem("warps_data",JSON.stringify(a))};V.IQ=function(a,c,d){var e=W.yb("warps")?""!=r.localStorage.getItem("warps_data")?JSON.parse(r.localStorage.getItem("warps_data")):[]:[];e[a]=c;V.Dx(e,d)};V.EU=function(a,c){warparray=a;V.Dx(warparray,c)};V.PR=function(){if(W.yb("items")){if(""!=r.localStorage.getItem("items_data"))var a=JSON.parse(r.localStorage.getItem("items_data"));return a?a:[]}return[]};
V.Ws=function(a,c){W.lk("items",c);r.localStorage.setItem("items_data",JSON.stringify(a))};V.yQ=function(a,c,d){var e=W.yb("items")?""!=r.localStorage.getItem("items_data")?JSON.parse(r.localStorage.getItem("items_data")):[]:[];e[a]=c;V.Ws(e,d)};V.yU=function(a,c){itemsarray=a;V.Ws(itemsarray,c)};V.mS=function(){if(W.yb("skills")){if(""!=r.localStorage.getItem("skills_data"))var a=JSON.parse(r.localStorage.getItem("skills_data"));return a?a:[]}return[]};
V.FD=function(a,c){W.lk("skills",c);r.localStorage.setItem("skills_data",JSON.stringify(a))};V.GQ=function(a,c,d){var e=W.yb("skills")?""!=r.localStorage.getItem("skills_data")?JSON.parse(r.localStorage.getItem("skills_data")):[]:[];e[a]=c;V.FD(e,d)};V.DU=function(a,c){skillarray=a;V.FD(skillarray,c)};V.kS=function(){if(W.yb("signs")){if(""!=r.localStorage.getItem("signs_data"))var a=JSON.parse(r.localStorage.getItem("signs_data"));return a?a:[]}return[]};
V.Cx=function(a,c){W.lk("signs",c);r.localStorage.setItem("signs_data",JSON.stringify(a))};V.FQ=function(a,c,d){var e=W.yb("signs")?""!=r.localStorage.getItem("signs_data")?JSON.parse(r.localStorage.getItem("signs_data")):[]:[];e[a]=c;V.Cx(e,d)};V.CU=function(a,c){signarray=a;V.Cx(signarray,c)};V.XR=function(){if(W.yb("npcs")){if(""!=r.localStorage.getItem("npcs_data"))var a=JSON.parse(r.localStorage.getItem("npcs_data"));return a?a:[]}return[]};
V.ZK=function(a,c){W.lk("npcs",c);r.localStorage.setItem("npcs_data",JSON.stringify(a))};V.AQ=function(a,c,d){var e=W.yb("npcs")?""!=r.localStorage.getItem("npcs_data")?JSON.parse(r.localStorage.getItem("npcs_data")):[]:[];e[a]=c;V.ZK(e,d)};V.zU=function(a,c){npcsarray=a;V.Cx(npcsarray,c)};V.Vi=function(){if(W.yb("quests")){if(""!=r.localStorage.getItem("quests_data"))var a=JSON.parse(r.localStorage.getItem("quests_data"));return a?a:[]}return[]};
V.DD=function(a,c){W.lk("quests",c);r.localStorage.setItem("quests_data",JSON.stringify(a))};V.DQ=function(a,c,d){var e=W.yb("quests")?""!=r.localStorage.getItem("quests_data")?JSON.parse(r.localStorage.getItem("quests_data")):[]:[];e[a]=c;V.DD(e,d)};V.AU=function(a,c){questsarray=a;V.DD(questsarray,c)};V.QB=function(){if(W.yb("settings")){if(""!=r.localStorage.getItem("settings_data"))var a=JSON.parse(r.localStorage.getItem("settings_data"));return a?a:[]}return[]};
V.ED=function(a,c){W.lk("settings",c);r.localStorage.setItem("settings_data",JSON.stringify(a))};
V.vL=function(){r.localStorage.setItem("map_data",[]);r.localStorage.setItem("last_maps",0);r.localStorage.setItem("warps_data",[]);r.localStorage.setItem("last_warps",0);r.localStorage.setItem("items_data",[]);r.localStorage.setItem("last_items",0);r.localStorage.setItem("skills_data",[]);r.localStorage.setItem("last_skills",0);r.localStorage.setItem("signs_data",[]);r.localStorage.setItem("last_signs",0);r.localStorage.setItem("npcs_data",[]);r.localStorage.setItem("last_npcs",0);r.localStorage.setItem("quests_data",
[]);r.localStorage.setItem("last_quests",0);r.localStorage.setItem("settings_data",[]);r.localStorage.setItem("last_settings",0);r.localStorage.setItem("scripts_data",[]);r.localStorage.setItem("last_scripts",0);r.localStorage.setItem("panelStore",null)};
V.FM=function(){A({sync:!0,mapupdate:null!=W.yb("maps")?W.yb("maps"):2,warpupdate:null!=W.yb("warps")?W.yb("warps"):2,itemupdate:null!=W.yb("items")?W.yb("items"):2,skillsupdate:null!=W.yb("skills")?W.yb("skills"):2,signsupdate:null!=W.yb("signs")?W.yb("signs"):2,npcsupdate:null!=W.yb("npcs")?W.yb("npcs"):2,questsupdate:null!=W.yb("quests")?W.yb("quests"):2,settingsupdate:null!=W.yb("settings")?W.yb("settings"):2,scriptsupdate:null!=W.yb("scripts")?W.yb("scripts"):2})};
V.SV=function(a){!0!=a&&!1!=a||r.localStorage.setItem("mapedit_saveonexit",a)};V.SR=function(){return null==r.localStorage.getItem("mapedit_saveonexit")?!1:r.localStorage.getItem("mapedit_saveonexit")};V.oW=function(a,c){r.localStorage.setItem("savedcredentials",JSON.stringify({user:a,pass:c}))};V.HJ=function(a){r.localStorage.setItem("autologin",JSON.stringify(a))};V.xI=function(){var a=r.localStorage.getItem("autologin");return null!=a?JSON.parse(a):!1};
V.DI=function(){return r.localStorage.getItem("savedcredentials")?!0:!1};V.qS=function(){var a=r.localStorage.getItem("savedcredentials");return a?JSON.parse(a):!1};ListView=p.Eh.extend({ql:null,k:null,fw:null,Iw:!1,ni:null,un:null,NK:null,OC:function(){if(this.k){this.un&&(this.un.L(),this.ni.L());var a=this.k.Xc();a.height<this.k.c().height&&(a=this.k.c(),this.Iw=!0);this.ql=[];for(var c=0,d=0;d<this.k.Oc();d++){var e=this.k.fd(d),c=c+e.height;this.ql[d]=p.C.create();this.ql[d].R(e);this.ql[d].l(p.a(0,a.height-c));this.ql[d].F(p.a(0,1));this.f(this.ql[d]);this.ql[d].f(this.k.dd(d))}this.Qp(-300);this.mD(0);!1==this.Iw&&(this.un=p.aa.create(p.h(0,0,0,255),1,
this.k.c().height),this.un.l(p.a(this.k.c().width+20,0)),this.ni=p.aa.create(p.h(90,90,255,255),20,this.k.c().height/5),this.ni.l(p.a(this.k.c().width+10,0)),this.k.f(this.un),this.k.f(this.ni),this.Dl(p.a(0,this.As().y),!1));this.k.l(this.NK)}},r:function(a){this.k=a;this.F(p.a(0,0));this.NK=p.a(a.p.G,a.p.O);this.Bp(this.k.c(),this.k);this.NJ(p.dq);this.uV(!1);a=this.k.Xc();var c=p.C.create();c.R(a);this.yV(c)},hd:function(a){this.fw=a},TC:!1,Yw:null,sc:function(a){if(!this.k.fi)return!1;for(var c=
0;c<this.k.Oc();c++)this.k.fi(c).m(p.h(255,255,255,255));this.k.fi(a).m(p.h(255,0,0,255))},lb:function(a){for(var c=a.M,d=0;d<this.k.Oc();d++)for(var e in this.fw[d]){var f=this.ql[d].Ia(c),g=this.k.Ia(c);g.x+=this.k.p.G;J(this.k,g);if(J(this.fw[d][e],f))return this.k.ac(this.fw[d][e].Yb,d,a),this.TC=!0}if(!1==this.Iw){a=this.k.Ia(c);if(J(this.ni,a))return this.Yw=a.y-this.ni.p.O,!0;console.log("TURNING OFF SCROLOL");this.Yw=null}},vd:function(a){if(!0==this.TC)return this.TC=!1;if(!1==this.Iw){var c=
a.M;if(null!=this.Yw&&(c=this.k.Ia(c),c.y-=this.Yw,0<=c.y&&c.y+this.ni.c().height<=this.k.c().height))return a=c.y/(this.un.c().height-this.ni.c().height),this.Dl(p.a(0,this.dn().y*a),!1),this.ni.Dc(c.y),!0;c=this._super(a);a=this.KH().y/this.dn().y;this.ni.Dc((this.un.c().height-this.ni.c().height)*a);return c}}});ListView.create=function(a){var c=new ListView;c.r(a);c.OC();return c};var xa=p.C.extend({Be:null,Ce:null,De:null,He:null,Ie:null,Sd:null,item:null,te:null,ue:null,we:null,ve:null,position:null,nf:null,type:null,Wa:null,ctor:function(){this._super()},r:function(){this._super();this.nf=p.Q.create("","Arial",16);this.nf.F(0.5,0.5);this.nf.l(16,-16);this.nf.pa(0);this.nf.m(p.j(0,0,0));this.f(this.nf,900);this.item=[];this.Wa=[];this.hj(0)},cQ:function(a){this.mk(a.sprite.texture,a.sprite.position,"item");for(var c=0;c<ObjectLists.Bf().length;c++)if(a.name==ObjectLists.Bf()[c].name){this.hx({id:c,
data:{amount:a.amount}},!0);break}this.hj(4)},DC:function(){this.Wa[this.Wa.length-1].temp&&(this.item[this.item.length-1].L(),this.item.splice(this.item.length-1,1),this.eU())},mk:function(a,c,d){a=p.u.ab(p.ga.e().qa(a));a.Ub(p.rect(Math.floor(N*c.x),Math.floor(N*c.y),N,N));a.m(p.h(255,255,255,255));a.F(0,1);switch(d){case "ground1":null!=this.Be&&this.Be.L();this.Be=a;this.f(this.Be);break;case "ground2":null!=this.Ce&&this.Ce.L();this.Ce=a;this.f(this.Ce,1);break;case "groundShadow":null!=this.De&&
this.De.L();this.De=a;this.f(this.De,2);break;case "mask1":null!=this.He&&this.He.L();this.He=a;this.f(this.He,3);break;case "mask2":null!=this.Ie&&this.Ie.L();this.Ie=a;this.f(this.Ie,4);break;case "mask3":null!=this.Sd&&this.Sd.L();this.Sd=a;this.f(this.Sd,5);break;case "item":this.item.push(a);this.f(this.item[this.item.length-1],6);break;case "fringe1":null!=this.te&&this.te.L();this.te=a;this.f(this.te,7);break;case "fringe2":null!=this.ue&&this.ue.L();this.ue=a;this.f(this.ue,8);break;case "fringeShadow":null!=
this.we&&this.we.L();this.we=a;this.f(this.we,9);break;case "fringe3":null!=this.ve&&this.ve.L(),this.ve=a,this.f(this.ve,10)}},Ng:function(){var a=!0;if(null!=this.Be&&this.Be.ea()&&!1==this.Be.ea().vc)a=!1;else if(null!=this.Ce&&this.Ce.ea()&&!1==this.Ce.ea().vc)a=!1;else if(null!=this.De&&this.De.ea()&&!1==this.De.e5)a=!1;else if(null!=this.He&&this.He.ea()&&!1==this.He.ea().vc)a=!1;else if(null!=this.Ie&&this.Ie.ea()&&!1==this.Ie.ea().vc)a=!1;else if(null!=this.Sd&&this.Sd.ea()&&!1==this.Sd.ea().vc)a=
!1;else if(0<this.item.length)for(var c in this.item)this.item[c].ea()&&!1==this.item[c].ea().vc&&(a=!1);else null!=this.te&&this.te.ea()&&!1==this.te.ea().vc?a=!1:null!=this.ue&&this.ue.ea()&&!1==this.ue.ea().vc?a=!1:null!=this.we&&this.we.ea()&&!1==this.we.ea().vc?a=!1:null!=this.ve&&this.ve.ea()&&!1==this.ve.ea().vc&&(a=!1);return a},ff:function(){null!=this.Be&&this.Be.L();this.Be=null;null!=this.Ce&&this.Ce.L();this.Ce=null;null!=this.De&&this.De.L();this.De=null;null!=this.He&&this.He.L();this.He=
null;null!=this.Ie&&this.Ie.L();this.Ie=null;null!=this.Sd&&this.Sd.L();this.Sd=null;for(var a=0;a<this.item.length;a++)this.item[a].L();this.item=[];this.Sd=null;null!=this.te&&this.te.L();this.te=null;null!=this.ue&&this.ue.L();this.ue=null;null!=this.we&&this.we.L();this.we=null;null!=this.ve&&this.ve.L();this.ve=null;this.hj(0);this.Wa=[];this.item=[]},BB:function(a){switch(a){case "ground1":null!=this.Be&&this.Be.L();this.Be=null;break;case "ground2":null!=this.Ce&&this.Ce.L();this.Ce=null;break;
case "groundShadow":null!=this.De&&this.De.L();this.De=null;break;case "mask1":null!=this.He&&this.He.L();this.He=null;break;case "mask2":null!=this.Ie&&this.Ie.L();this.Ie=null;break;case "mask3":null!=this.Sd&&this.Sd.L();this.Sd=null;break;case "item":for(a=0;a<this.item.length;a++)this.item[a].L(),this.item[a].splice(a,1),a--;this.item=[];break;case "fringe1":null!=this.te&&this.te.L();this.te=null;break;case "fringe2":null!=this.ue&&this.ue.L();this.ue=null;break;case "fringeShadow":null!=this.we&&
this.we.L();this.we=null;break;case "fringe3":null!=this.ve&&this.ve.L(),this.ve=null}},hj:function(a){this.type=a;switch(this.type){case 0:this.nf.fa("");break;case 1:this.nf.fa("BLK");break;case 2:this.nf.fa("SPW");break;case 3:this.nf.fa("WRP");break;case 4:this.nf.fa("ITM");break;case 5:this.nf.fa("NPC");break;case 6:this.nf.fa("SKL");break;case 7:this.nf.fa("SGN")}},hx:function(a,c){c||(c=!1);this.Wa.push({num:parseInt(a.id),data:a.data,temp:c})},eU:function(){this.Wa.splice(this.Wa.length-1,
1);0==this.Wa.length&&this.hj(0)},tw:function(){return this.Wa[this.Wa.length-1]},sp:function(){switch(this.type){case 3:return ObjectLists.Zm()[this.Wa[this.Wa.length-1].num];case 4:var a=ObjectLists.Bf()[this.Wa[this.Wa.length-1].num];a.amount=parseInt(this.Wa[this.Wa.length-1].data.amount);return a;case 7:return ObjectLists.ls()[this.Wa[this.Wa.length-1].num];case 5:return ObjectLists.kl()[this.Wa[this.Wa.length-1].num]}},hf:function(){switch(this.type){case 3:return ObjectLists.Zm()[this.Wa[this.Wa.length-
1].num]?ObjectLists.Zm()[this.Wa[this.Wa.length-1].num]:null;case 4:return ObjectLists.Bf()[this.Wa[this.Wa.length-1].num]?ObjectLists.Bf()[this.Wa[this.Wa.length-1].num]:null;case 5:return ObjectLists.kl()[this.Wa[this.Wa.length-1].num]?ObjectLists.kl()[this.Wa[this.Wa.length-1].num]:null}},tW:function(a){this.nf.pa(!0==a?255:0)},rc:function(){return this.type}});xa.Tx=function(a,c){var d=new xa;d.r();d.position=p.a(a,c);return d};StatsController=p.u.extend({data:null,Gw:null,k:null,r:function(a,c){this.data=a;this.k=c;this.iV()},update:function(){for(var a in this.data)this.Gw&&(0==this.data[a].value&&0<this.Gw[a]&&this.k.zaa(a),this.data[a].Pc>this.Gw[a].Pc&&this.k.Baa(a)),this.Gw[a]=this.data[a]},W4:function(a){return this.data[a].value},V4:function(a){return this.data[a].Pc},t7:function(a,c){this.data[a].value+=c;this.data[a].value>this.data[a].dg&&(this.data[a].value=this.data[a].dg);0>this.data[a].value&&(this.data[a].value=
0)},HQ:function(a,c){this.data[a].value=c;this.data[a].value>this.data[a].dg&&(this.data[a].value=this.data[a].dg);0>this.data[a].value&&(this.data[a].value=0)},s7:function(a,c){this.data[a].Pc+=c;this.data[a].Pc>this.data[a].cg&&(this.data[a].Pc=this.data[a].cg);0>this.data[a].Pc&&(this.data[a].Pc=0)},HQ:function(a,c){this.data[a].Pc=c;this.data[a].Pc>this.data[a].cg&&(this.data[a].Pc=this.data[a].cg);0>this.data[a].Pc&&(this.data[a].Pc=0)},Y0:function(a,c){this.data[a].cg=c},Z0:function(a,c){this.data[a].dg=
c}});ObjectLists=p.Ea.extend({ND:null,rC:null,tD:null,sD:null,vC:null,HC:null,WC:null});var X;ObjectLists.e=function(){X||(X=new ObjectLists,X.ND=V.vS(),X.rC=V.PR(),X.tD=V.mS(),X.sD=V.kS(),X.vC=V.XR(),X.HC=V.Vi(),X.WC=V.hf());return X};ObjectLists.Zm=function(){return X.ND};ObjectLists.BW=function(a){X.ND=a};ObjectLists.Bf=function(){return X.rC};ObjectLists.PV=function(a){X.rC=a};ObjectLists.uh=function(){return X.tD};ObjectLists.sW=function(a){X.tD=a};ObjectLists.ls=function(){return X.sD};
ObjectLists.rW=function(a){X.sD=a};ObjectLists.kl=function(){return X.vC};ObjectLists.XV=function(a){X.vC=a};ObjectLists.rp=function(){return X.HC};ObjectLists.lW=function(a){X.HC=a};ObjectLists.Wi=function(){return X.WC};ObjectLists.qW=function(a){X.WC=a};gameMapInstance=null;
var U=p.Ec.extend({Xd:null,A:null,Og:!1,En:null,kn:null,EC:null,$m:null,ul:null,rl:null,sl:null,tl:null,K:p.a(0,0),Ri:1,JB:function(a,c){function d(a,c){return{uM:a,value:c.x+c.y*P,x:c.x,y:c.y,ow:0,n:0}}function e(a,c){var d=c-1,e=c+1,g=a+1,h=a-1,k=-1<d&&f.A["tile"+Q(a,d)]&&1!=f.A["tile"+Q(a,d)].rc()&&7!=f.A["tile"+Q(a,d)].rc();myS=e<P&&f.A["tile"+Q(a,e)]&&1!=f.A["tile"+Q(a,e)].rc()&&7!=f.A["tile"+Q(a,e)].rc();myE=g<P&&f.A["tile"+Q(g,c)]&&1!=f.A["tile"+Q(g,c)].rc()&&7!=f.A["tile"+Q(g,c)].rc();myW=
-1<h&&f.A["tile"+Q(h,c)]&&1!=f.A["tile"+Q(h,c)].rc()&&7!=f.A["tile"+Q(h,c)].rc();result=[];k&&result.push({x:a,y:d});myE&&result.push({x:g,y:c});myS&&result.push({x:a,y:e});myW&&result.push({x:h,y:c});return result}for(var f=this,g=d(null,c),h,k,l,m,n,t=[],s=[],u=[d(null,a)],w=Array(O*P);h=u.length;){k=O*P;l=-1;for(m=0;m<h;m++)u[m].ow<k&&(k=u[m].ow,l=m);k=u.splice(l,1)[0];if(k.value===g.value){l=s[s.push(k)-1];do t.push(p.a(l.x,l.y));while(l=l.uM);w=s=u=[];t.reverse()}else{h=e(k.x,k.y);m=0;for(n=
h.length;m<n;m++)l=d(k,h[m]),w[l.value]||(l.n=k.n+(Math.abs(h[m].x-k.x)+Math.abs(h[m].y-k.y)),l.ow=l.n+(Math.abs(h[m].x-g.x)+Math.abs(h[m].y-g.y)),u.push(l),w[l.value]=!0);s.push(k)}}return t},FW:function(a){this.Xd={};this.Xd.mapdata={};for(var c in this.A)"tile"==c.substring(0,4)&&(this.A[c].ff(),this.Xd[c]={});if(a)for(c in this.Xd=a,a)if("tile"==c.substring(0,4))for(var d in a[c])"info"!=d?null!=a[c][d]&&this.A[c].mk(a[c][d].texture,a[c][d].frame,d):(this.A[c].hj(a[c][d].type),a[c][d].script&&
this.A[c].hx(a[c][d].script),4==a[c][d].type&&this.A[c].hf()&&this.A[c].mk(this.A[c].hf().sprite.texture,this.A[c].hf().sprite.position,"item"),5==a[c][d].type&&this.A[c].hf()&&R.RG(this.A[c].hf(),p.a(this.A[c].p.x/N,this.A[c].p.y/N),this.Ri));else"mapdata"==c&&(this.ul=""!=a[c].mapConnectors.up&&null!=a[c].mapConnectors.up?a[c].mapConnectors.up:null,this.rl=""!=a[c].mapConnectors.down&&null!=a[c].mapConnectors.down?a[c].mapConnectors.down:null,this.sl=""!=a[c].mapConnectors.left&&null!=a[c].mapConnectors.left?
a[c].mapConnectors.left:null,this.tl=""!=a[c].mapConnectors.right&&null!=a[c].mapConnectors.right?a[c].mapConnectors.right:null);this.bc(this.JC)},Hl:function(a){R.e().w(!1);a=V.RR(a);this.Xd={};this.Xd.mapdata={};for(var c in this.A)"tile"==c.substring(0,4)&&(this.A[c].ff(),this.Xd[c]={});if(a)for(c in this.Xd=a,a)if("tile"==c.substring(0,4))for(var d in a[c])"info"!=d?null!=a[c][d]&&this.A[c].mk(a[c][d].texture,a[c][d].frame,d):(this.A[c].hj(a[c][d].type),a[c][d].script&&this.A[c].hx(a[c][d].script),
4==a[c][d].type&&this.A[c].hf()&&this.A[c].mk(this.A[c].hf().sprite.texture,this.A[c].hf().sprite.position,"item"),5==a[c][d].type&&this.A[c].hf()&&R.RG(this.A[c].hf(),p.a(this.A[c].p.x/N,this.A[c].p.y/N),this.Ri));else"mapdata"==c&&(this.ul=""!=a[c].mapConnectors.up&&null!=a[c].mapConnectors.up?a[c].mapConnectors.up:null,this.rl=""!=a[c].mapConnectors.down&&null!=a[c].mapConnectors.down?a[c].mapConnectors.down:null,this.sl=""!=a[c].mapConnectors.left&&null!=a[c].mapConnectors.left?a[c].mapConnectors.left:
null,this.tl=""!=a[c].mapConnectors.right&&null!=a[c].mapConnectors.right?a[c].mapConnectors.right:null);this.bc(this.JC)},JC:function(){for(var a in this.A)if("tile"==a.substring(0,4)&&!1==this.A[a].Ng())return;R.e().w(!0);R.ok();this.Sc(this.JC);this.kn.w(!0);this.En.w(!0);this.Og=!0},xc:function(){for(var a={},c=0;c<P;c++)for(var d=0;d<O;d++)a["tile"+(c+d*P)]={size:p.size(N,N),d:p.a(0,0),position:p.a(c*N,(O-d)*N),jT:!0,bX:p.a(d,c),visible:!1};return{panels:{children:a}}},r:function(){this.Vb(!0);
this.mD(1)},lb:function(a){!this.$m||Mapeditor&&Mapeditor.V||(this.$m=Mapeditor=null);if(this.$m)for(var c in this.A)"tile"==c.substring(0,4)&&p.bb(this.A[c].Ya(),p.a(a.M.x-this.K.x,a.M.y+N-this.K.y))&&(this.$m.TK(this.A,c),U.Ys());else for(c in this.A)if("tile"==c.substring(0,4)&&p.bb(this.A[c].Ya(),p.a(a.M.x-this.K.x,a.M.y+N-this.K.y)))if(4==this.A[c].rc()){var d=I["Item Dropdown Pick Up"]+"",e=I["Item Dropdown Walk To"]+"",d=d.replace("\x3cITEM\x3e",this.A[c].hf().name),e=e.replace("\x3cITEM\x3e",
this.A[c].hf().name);this.V.f(DropDownList.td(this,this.mT,[d,e],a.M));this.Hg=c}else 7==this.A[c].rc()?(d=I["Sign Dropdown list Read"]+"",d=d.replace("\x3cSIGN\x3e",this.A[c].sp().name),this.V.f(DropDownList.td(this,this.OW,[d],a.M)),this.Hg=c):1!=this.A[c].rc()&&7!=this.A[c].rc()&&4!=this.A[c].rc()&&(d=R.q.W.ze(),R.q.W.pD(this.JB(p.a(Math.floor(d.x),Math.ceil(d.y)),p.a(this.A[c].p.x/N,this.A[c].p.y/N))));return!0},Hg:null,mT:function(a){if(null!=this.k.Hg){var c=R.q.W.ze(),d=p.a(gameMapInstance.A[gameMapInstance.Hg].p.x/
N,gameMapInstance.A[gameMapInstance.Hg].p.y/N);switch(a){case 0:a=c.x>d.x?c.x-d.x:d.x-c.x;c=c.y>d.y?c.y-d.y:d.y-c.y;5>Math.sqrt(a*a+c*c)?R.q.W.sI(gameMapInstance.A[gameMapInstance.Hg]):(c=I["Item Out-of-range"]+"",c=c.replace("\x3cITEM\x3e",this.k.A[gameMapInstance.Hg].hf().name),S.rb(c));break;case 1:R.q.W.pD(gameMapInstance.JB(p.a(Math.floor(c.x),Math.ceil(c.y)),d)),this.k.Hg=null}}},OW:function(a){if(null!=this.k.Hg){var c=R.q.W.ze(),d=p.a(gameMapInstance.A[gameMapInstance.Hg].p.x/N,gameMapInstance.A[gameMapInstance.Hg].p.y/
N);switch(a){case 0:a=c.x>d.x?c.x-d.x:d.x-c.x,c=c.y>d.y?c.y-d.y:d.y-c.y,5>Math.sqrt(a*a+c*c)?R.q.W.sI(gameMapInstance.A[gameMapInstance.Hg]):(c=I["Sign Out-of-range"]+"",c=c.replace("\x3cSIGN\x3e",this.k.A[gameMapInstance.Hg].sp().name),S.rb(c))}}},vd:function(a){if(this.$m){for(var c in this.A)"tile"==c.substring(0,4)&&p.bb(this.A[c].Ya(),p.a(a.M.x-this.K.x,a.M.y+N-this.K.y))&&(this.$m.TK(this.A,c,"moved"),U.Ys());return!0}for(c in this.A)if("tile"==c.substring(0,4)&&1!=this.A[c].rc()&&7!=this.A[c].rc()&&
4!=this.A[c].rc()&&p.bb(this.A[c].Ya(),p.a(a.M.x-this.K.x,a.M.y+N-this.K.y))){var d=R.q.W.ze();R.q.W.pD(this.JB(p.a(Math.floor(d.x),Math.ceil(d.y)),p.a(this.A[c].p.x/N,this.A[c].p.y/N)))}},ua:function(){this._super();if(!0==this.Og){this.En.tB(0,0,0,0);for(var a in this.A)"tile"==a.substring(0,4)&&(this.A[a].w(!0),null!=this.A[a].te&&this.A[a].te.w(!1),null!=this.A[a].ue&&this.A[a].ue.w(!1),null!=this.A[a].we&&this.A[a].we.w(!1),null!=this.A[a].ve&&this.A[a].ve.w(!1),this.A[a].ua(),null!=this.A[a].te&&
this.A[a].te.w(!0),null!=this.A[a].ue&&this.A[a].ue.w(!0),null!=this.A[a].we&&this.A[a].we.w(!0),null!=this.A[a].ve&&this.A[a].ve.w(!0),this.A[a].w(!1));this.En.end();this.kn.tB(0,0,0,0);for(a in this.A)if("tile"==a.substring(0,4)){this.A[a].w(!0);null!=this.A[a].Be&&this.A[a].Be.w(!1);null!=this.A[a].Ce&&this.A[a].Ce.w(!1);null!=this.A[a].De&&this.A[a].De.w(!1);null!=this.A[a].He&&this.A[a].He.w(!1);null!=this.A[a].Ie&&this.A[a].Ie.w(!1);null!=this.A[a].Sd&&this.A[a].Sd.w(!1);for(var c=0;c<this.A[a].item.length;c++)this.A[a].item[c].w(!1);
this.A[a].ua();null!=this.A[a].Be&&this.A[a].Be.w(!0);null!=this.A[a].Ce&&this.A[a].Ce.w(!0);null!=this.A[a].De&&this.A[a].De.w(!0);null!=this.A[a].He&&this.A[a].He.w(!0);null!=this.A[a].Ie&&this.A[a].Ie.w(!0);null!=this.A[a].Sd&&this.A[a].Sd.w(!0);for(c=0;c<this.A[a].item.length;c++)this.A[a].item[c].w(!0);this.A[a].w(!1)}this.kn.end();this.Og=!1}}});
U.Ax=function(a,c){0<=gameMapInstance.K.x+(M.width-Y.width/2)+a&&R.q.W.p.x<M.width-Y.width/2&&0>=gameMapInstance.K.x+a&&R.q.W.p.x>Y.width/2&&(gameMapInstance.K.x+=a);0<=gameMapInstance.K.y+(M.height-Y.height/2)+c&&R.q.W.p.y<M.height-Y.height/2&&0>=gameMapInstance.K.y+c&&R.q.W.p.y>Y.height/2&&(gameMapInstance.K.y+=c);M.height<Y.height&&(gameMapInstance.K.y=(Y.height-M.height)/2);M.width<Y.width&&(gameMapInstance.K.x=(Y.width-M.width)/2);gameMapInstance.l(gameMapInstance.K.x,gameMapInstance.K.y)};
U.vp=function(a,c){a=parseInt(a);c=parseInt(c);!0==gameMapInstance.Og?0==offsetFromPositionScheduledX&&0==offsetFromPositionScheduledY&&(offsetFromPositionScheduledX=a,offsetFromPositionScheduledY=c,gameMapInstance.bc(U.EJ)):(gameMapInstance.K.x=a>M.width-Y.width/2?-(M.width-Y.width):a<Y.width/2?0:-(a-Y.width/2),gameMapInstance.K.y=c>M.height-Y.height/2?-(M.height-Y.height):c<Y.height/2?0:-(c-Y.height/2),offsetFromPositionScheduledY=offsetFromPositionScheduledX=0,gameMapInstance.Sc(U.EJ),M.height<
Y.height&&(gameMapInstance.K.y=(Y.height-M.height)/2),M.width<Y.width&&(gameMapInstance.K.x=(Y.width-M.width)/2),gameMapInstance.l(gameMapInstance.K.x,gameMapInstance.K.y))};offsetFromPositionScheduledY=offsetFromPositionScheduledX=0;U.EJ=function(){U.vp(offsetFromPositionScheduledX,offsetFromPositionScheduledY)};
U.XB=function(){!0==gameMapInstance.Og?gameMapInstance.bc(U.XB):(gameMapInstance.Sc(U.XB),gameMapInstance.K.x=-(M.width-Y.width),M.height<Y.height&&(gameMapInstance.K.y=(Y.height-M.height)/2),M.width<Y.width&&(gameMapInstance.K.x=(Y.width-M.width)/2),gameMapInstance.l(gameMapInstance.K.x,gameMapInstance.K.y))};
U.WB=function(){!0==gameMapInstance.Og?gameMapInstance.bc(U.WB):(gameMapInstance.Sc(U.WB),gameMapInstance.K.x=0,M.height<Y.height&&(gameMapInstance.K.y=(Y.height-M.height)/2),M.width<Y.width&&(gameMapInstance.K.x=(Y.width-M.width)/2),gameMapInstance.l(gameMapInstance.K.x,gameMapInstance.K.y))};
U.VB=function(){!0==gameMapInstance.Og?gameMapInstance.bc(U.VB):(gameMapInstance.Sc(U.VB),gameMapInstance.K.y=-(M.height-Y.height),M.height<Y.height&&(gameMapInstance.K.y=(Y.height-M.height)/2),M.width<Y.width&&(gameMapInstance.K.x=(Y.width-M.width)/2),gameMapInstance.l(gameMapInstance.K.x,gameMapInstance.K.y))};
U.YB=function(){!0==gameMapInstance.Og?gameMapInstance.bc(U.YB):(gameMapInstance.Sc(U.YB),gameMapInstance.K.y=0,M.height<Y.height&&(gameMapInstance.K.y=(Y.height-M.height)/2),M.width<Y.width&&(gameMapInstance.K.x=(Y.width-M.width)/2),gameMapInstance.l(gameMapInstance.K.x,gameMapInstance.K.y))};
U.create=function(){gameMapInstance||(gameMapInstance=new U,gameMapInstance.A=va(gameMapInstance),gameMapInstance.f(gameMapInstance.A),gameMapInstance.En=p.Cb.create(M.width,M.height),gameMapInstance.En.l(p.a(Math.floor(M.width/2),Math.floor(M.height/2))),gameMapInstance.f(gameMapInstance.En),gameMapInstance.En.w(!1),gameMapInstance.EC=p.C.create(),gameMapInstance.f(gameMapInstance.EC),gameMapInstance.kn=p.Cb.create(M.width,M.height),gameMapInstance.kn.l(p.a(Math.floor(M.width/2),Math.floor(M.height/
2))),gameMapInstance.f(gameMapInstance.kn),gameMapInstance.kn.w(!1),gameMapInstance.Qp(-15),gameMapInstance.r());return gameMapInstance};U.e=function(){return gameMapInstance};U.Hs=function(){gameMapInstance.L();gameMapInstance=null};U.Ys=function(){gameMapInstance||(gameMapInstance=U.create());gameMapInstance.Og=!0};U.GW=function(a){gameMapInstance.FW(a)};U.e=function(){return gameMapInstance};U.mk=function(a,c,d,e){gameMapInstance.A[a].mk(c,d,e);gameMapInstance.Xd[a][e]={texture:c,frame:d}};
U.dL=function(){R.CB();A({savemap:gameMapInstance.Ri,mapdata:gameMapInstance.Xd})};U.BB=function(a,c){gameMapInstance.Xd[a][c]=null;gameMapInstance.A[a].BB(c)};U.gj=function(a,c,d,e){gameMapInstance.A[a].hj(c);null!=d&&"undefined"!==d?(gameMapInstance.A[a].hx(d,e),gameMapInstance.Xd[a].info={type:c,script:{id:d+"",data:null!=e&&"undefined"!==e?e:null}}):gameMapInstance.Xd[a].info={type:c}};
U.YJ=function(a){gameMapInstance.Xd.mapdata.mapConnectors=a;gameMapInstance.ul=a.up;gameMapInstance.rl=a.down;gameMapInstance.sl=a.left;gameMapInstance.tl=a.right};U.CR=function(a,c,d){for(var e in gameMapInstance.A)"tile"==e.substring(0,4)&&(gameMapInstance.A[e].mk(a,c,d),gameMapInstance.Xd[e][d]={texture:a,frame:c})};U.qK=function(a){for(var c in gameMapInstance.A)"tile"==c.substring(0,4)&&gameMapInstance.A[c].tW(a);SkillBarsInstance.w(!a);Z.w(!a);gameMapInstance.Og=!0};
U.T$=function(){for(var a in gameMapInstance.A)"tile"==a.substring(0,4)&&gameMapInstance.A[a].nf.fa(a.substring(4));gameMapInstance.Og=!0};U.fI=function(){return null!=gameMapInstance.ul};U.dI=function(){return null!=gameMapInstance.rl};U.eI=function(){return null!=gameMapInstance.sl};U.$B=function(){return null!=gameMapInstance.tl};U.Rd=function(){return gameMapInstance.Ri};U.PH=function(){return gameMapInstance.ul};U.NH=function(){return gameMapInstance.rl};U.OH=function(){return gameMapInstance.sl};
U.OB=function(){return gameMapInstance.tl};U.tp=function(a,c){c||(MapMaster=!1);R.e().w(!1);R.CB();U.ff();gameMapInstance.Ri=a;R.q.W.Lp(a);R.ok();gameMapInstance.Hl(a)};U.BS=function(a){R.CB();U.ff();gameMapInstance.Ri=a;gameMapInstance.Hl(a)};U.AS=function(){R.e().w(!1);U.ff();gameMapInstance.Ri=gameMapInstance.ul;R.q.W.Lp(gameMapInstance.ul);R.ok();gameMapInstance.Hl(gameMapInstance.ul)};
U.xS=function(){R.e().w(!1);U.ff();gameMapInstance.Ri=gameMapInstance.rl;R.q.W.Lp(gameMapInstance.rl);R.ok();gameMapInstance.Hl(gameMapInstance.rl)};U.yS=function(){R.e().w(!1);U.ff();gameMapInstance.Ri=gameMapInstance.sl;R.q.W.Lp(gameMapInstance.sl);R.ok();gameMapInstance.Hl(gameMapInstance.sl)};U.zS=function(){R.e().w(!1);U.ff();gameMapInstance.Ri=gameMapInstance.tl;R.q.W.Lp(gameMapInstance.tl);R.ok();gameMapInstance.Hl(gameMapInstance.tl)};U.Is=function(a){gameMapInstance.$m=a};
U.uw=function(a,c){return a>P-1||0>a?void 0:gameMapInstance.A["tile"+(a+(O-c)*P)]};U.YR=function(a,c){for(var d in R.e().Td){var e=R.e().Td[d].ze();if(e.x==a&&e.y==c)return R.e().Td[d]}return null};U.ZH=function(a){return gameMapInstance.A["tile"+a]};U.gQ=function(){var a=R.e();gameMapInstance.EC.f(a);U.vp(R.q.W.p.G,R.q.W.p.O)};
U.ff=function(){gameMapInstance.Xd={};for(var a in gameMapInstance.A)"tile"==a.substring(0,4)&&(gameMapInstance.A[a].ff(),gameMapInstance.Xd[a]={});gameMapInstance.Xd.mapdata={};gameMapInstance.Og=!0};var R=p.Ec.extend({q:null,kc:[],Td:[],W:null});R.e=function(){return this.q};R.Hs=function(){this.q.L();this.q=null};R.create=function(a){this.q||(this.q=new R,this.q.W=PlayerCharacter.create(a),this.q.f(this.q.W));return this.q};R.lM=function(){var a=U.Rd(),c=[],d;for(d in this.q.Td)this.q.Td[d].fg==a&&c.push(this.q.Td[d]);return c};R.op=function(a){return this.q.Td[a]};R.zT=function(a,c,d){this.q.Td[a]&&"default"!=c&&this.q.W.fg==d&&this.q.Td[a].gL(c)};
R.VU=function(a,c){this.q.Td[a]&&"default"!=c&&this.q.Td[a].l(p.a(c%P*32,32*Math.floor(c/P)))};R.CB=function(){for(var a in this.q.Td)this.q.Td[a].L();this.q.Td=[]};R.RG=function(a,c,d){var e=parseInt(this.q.Td.length);this.q.Td.push(NonPlayerCharacter.create({name:a.name,An:{health:{Pc:1,value:100,dg:200,cg:900},mana:{Pc:1,value:100,dg:200,cg:99}},map:d,Rs:"sprites1.png",Ps:a.sprite.number,ol:e,Wa:a.script}));this.q.Td[e].l(32*c.x,32*c.y);this.q.f(this.q.Td[e])};R.D5=function(){return this.q.W};
R.hi=function(a){return this.q.kc[a]};R.fQ=function(a){this.q.kc[a.id]=PlayerCharacter.create({name:a.id,An:{health:{Pc:1,value:100,dg:200,cg:900},mana:{Pc:1,value:100,dg:200,cg:99}},map:a.location.mapnumber,Rs:"sprites1.png",Ps:1});var c=a.location.position;this.q.kc[a.id].l(c%P*32,32*Math.floor(c/P));R.ok();this.q.f(this.q.kc[a.id]);c=I["Join Message"]+"";c=c.replace("\x3cPLAYER\x3e",a.id);S.rb(c)};
R.nH=function(a){if(this.q.kc[a]){this.q.kc[a].L();this.q.kc[a]=null;var c=I["Leave Message"]+"",c=c.replace("\x3cPLAYER\x3e",a);S.rb(c);for(c=0;c<B.length;c++){var d=JSON.parse(B[c]);d.id&&d.id==a&&(B.splice(c,1),c--)}}};
R.AT=function(a){console.log(a.location.position);if(this.q.kc[a.id])this.q.kc[a.id].gL(a.location.position);else{this.q.kc[id]=PlayerCharacter.create({name:a.id,An:{health:{Pc:1,value:100,dg:200,cg:900},mana:{Pc:1,value:100,dg:200,cg:99}},map:a.location.mapnumber,Rs:"sprites1.png",Ps:1});var c=a.location.position;this.q.kc[id].l(p.a(c%P*32,32*Math.floor(c/P)));R.ok();this.q.f(this.q.kc[a.id]);c=I["Join Message"]+"";c=c.replace("\x3cPLAYER\x3e",a.id);S.rb(c)}};
R.gU=function(a){if(this.q.kc[a.id])this.q.kc[a.id].l(p.a(a.location.position%P*32,32*Math.floor(a.location.position/P)));else{this.q.kc[a.id]=PlayerCharacter.create({name:a.id,An:{health:{Pc:1,value:100,dg:200,cg:900},mana:{Pc:1,value:100,dg:200,cg:99}},map:a.location.mapnumber,Rs:"sprites1.png",Ps:1});var c=a.location.position;this.q.kc[a.id].l(p.a(c%P*32,32*Math.floor(c/P)));R.ok();this.q.f(this.q.kc[a.id]);S.rb(a.id+x.ye.cU)}};R.CQ=function(a){this.q.kc[a]&&this.q.kc[a].updateStatus("AFK")};
R.ok=function(){var a=this.q.W.fg,c;for(c in this.q.kc)null!=this.q.kc[c]&&this.q.kc[c].w(this.q.kc[c].fg==a)};R.ff=function(){for(var a in this.q.kc)null!=this.q.kc[a]&&R.nH(a);this.q.W.L();this.q.W=null};R.BQ=function(a,c){this.q.kc[a].Lp(c);this.q.kc[a].w(this.q.W.fg==c)};Character=p.u.extend({name:null,An:null,RK:null,w0:null,of:null,Pg:!1,fn:null,sx:null,$i:!1,ol:-1,status:null,fg:null,path:null,IB:"DOWN",r:function(a){this.vW(a.Rs,a.Ps);this.An=new StatsController(a.Aaa,this);this.f(this.An);this.name=a.name;a.Wa&&(this.Wa=a.Wa);a.$i&&(this.$i=a.$i);a.map&&(this.fg=a.map);null!=a.ol&&"undefined"!==a.ol&&(console.log(this.ol),this.ol=a.ol);this.F(0,1);this.fn=p.Q.create("","Arial",12);this.fn.F(0.5,0);this.fn.m(255,0,0);this.fn.l(Math.floor(this.c().width/2),this.c().width+
3);this.f(this.fn);this.$K()},h3:function(){return this.IB},Lp:function(a){this.fg=a},F3:function(){return this.fg},updateStatus:function(a){this.status=a&&a!=this.status?a:null;this.$K()},$K:function(){null!=this.status?this.fn.fa(this.name+"-"+this.status):this.fn.fa(this.name)},getName:function(){return this.name},Jf:function(a,c,d){this.Ub(p.rect(a*za,4*this.RK.id*za+c*za,za,za));this.sx=p.a(a,c);this.IB=d},vh:function(){return this.sx},vW:function(a,c){this.RK={name:a,id:c};this.ia(p.ga.e().qa(a));
this.Jf(1,0)},ze:function(){return p.a(this.p.x/N,this.p.y/N)},aw:0.24,lX:0.24,el:2,nX:function(a){var c=a.position%P,d=Math.floor(a.position/P);this.l(c*N,d*N);A({changemap:a.mapTo,setTo:a.position});U.tp(a.mapTo);U.vp(c*N,d*N)},fT:function(){if(!this.Pg){var a=this.ze(),a=U.uw(a.x,a.y);switch(a.rc()){case 4:this.DC(a.sp())}}},sI:function(a){if(a&&!this.Pg)switch(a.rc()){case 4:this.aU(a.sp(),a);break;case 7:L.GK(a.sp())}},eT:function(){if(!this.Pg){var a=this.ze();switch(this.IB){case "RIGHT":a.x+=
1;break;case "LEFT":a.x-=1;break;case "UP":a.y+=1;break;case "DOWN":a.y-=1}var c=U.YR(a.x,a.y);if(c)Da("Default Event",c);else if(a=U.uw(a.x,a.y))switch(a.rc()){case 7:L.GK(a.sp())}}},$s:function(a){this.aw+=a;a=this.p;var c=this.vh();this.aw>this.lX&&(this.aw=0,this.of.x<a.x?this.Jf((c.x+1)%3,1,"LEFT"):this.of.x>a.x?this.Jf((c.x+1)%3,2,"RIGHT"):this.of.y<a.y?this.Jf((c.x+1)%3,0,"DOWN"):this.of.y>a.y&&this.Jf((c.x+1)%3,3,"UP"));this.of.x<a.x?(this.zb(a.x-this.el),this.$i&&U.Ax(+this.el,0)):this.of.x>
a.x?(this.zb(a.x+this.el),this.$i&&U.Ax(-this.el,0)):this.of.y<a.y?(this.Dc(a.y-this.el),this.$i&&U.Ax(0,this.el)):this.of.y>a.y&&(this.Dc(a.y+this.el),this.$i&&U.Ax(0,-this.el));a.y==this.of.y&&a.x==this.of.x&&(this.Pg=!1,this.Sc(this.$s),null!=this.path&&this.YG())},Wp:function(a,c){if(!1!=this.ma){var d=U.uw(a,c),e=this.sx,f=this.ze();f.x>a?this.Jf(e.x,1,"LEFT"):f.x<a&&this.Jf(e.x,2,"RIGHT");f.y>c?this.Jf(e.x,0,"DOWN"):f.y<c&&this.Jf(e.x,3,"UP");if(!d)this.$i&&null==Mapeditor&&(f.x<a&&U.$B()?(this.l(0,
N*c),A({changemap:parseInt(U.OB()),setTo:0+c*P}),U.zS(),U.WB()):f.x>a&&U.eI()&&(this.l(N*(P-1),N*c),A({changemap:parseInt(U.OH()),setTo:P-1+c*P}),U.yS(),U.XB()),f.y<c&&U.fI()?(this.l(N*a,N),A({changemap:parseInt(U.PH()),setTo:a+1*P}),U.AS(),U.YB()):f.y>c&&U.dI()&&(A({changemap:parseInt(U.NH()),setTo:a+O*P}),U.xS(),this.l(N*a,N*O),U.VB()));else if(!1==this.Pg&&d){switch(d.rc()){case 1:case 7:return;case 3:this.nX(d.hf());return}this.of=p.a(N*a,N*c);this.Pg=!0;this.bc(this.$s);this.$s(0);this.$i?A({moveTo:this.of.x/
N+this.of.y/N*P}):-1<this.ol&&A({npcID:this.ol+"",mapnumber:this.fg,moveNPC:this.of.x/N+this.of.y/N*P})}}},YG:function(){0==this.path.length?this.path=null:(this.path.splice(0,1),0==this.path.length?this.path=null:this.Wp(this.path[0].x,this.path[0].y))},pD:function(a){if(null==this.path||0!=a.length)this.path=a,this.YG()},gL:function(a){if(!1!=this.ma){var c=a%P;a=Math.floor(a/P);if(!1==this.Pg){var d=this.sx,e=this.ze();4<Math.abs(p.yC(p.a(c,a),e))?this.l(p.a(N*c,N*a)):(e.x>c?this.Jf(d.x,1,"LEFT"):
e.x<c?this.Jf(d.x,2,"RIGHT"):e.y>a?this.Jf(d.x,0,"DOWN"):e.y<a&&this.Jf(d.x,3,"UP"),this.of=p.a(N*c,N*a),this.Pg=!0,this.bc(this.$s),this.$s(0))}}}});
PlayerCharacter=Character.extend({items:null,gp:3,di:null,yl:null,r:function(a){this._super(a);this.di=[];this.yl=[];a.gp&&(this.gp=a.gp);this.items={stored:[],equipped:{}};if(a.position){var c=a.position%P,d=Math.floor(a.position/P);this.l(c*N,d*N);U.BS(a.map);U.vp(c*N,d*N);this.fg=a.map}a.uI&&(this.items.stored=a.uI);a.di&&(this.di=a.di);a.yl&&(this.yl=a.yl);if(a.xH){this.items.equipped=a.xH;for(var e in this.items.equipped)Ca("Default Event",this.items.equipped[e],{"Equip Item":!0,"Give /Take Item":!0,
"Warp Player":!0,"Read Item":!0,"Open/Close Panel":!0,Destroy:!0})}this.LQ()},LQ:function(){this.di=[];A({saveUserExtra:[],name:this.getName()})},RJ:function(a,c){this.di[a]=c;A({saveUserExtra:this.di,name:this.getName()})},pw:function(a){return this.di[a]?this.di[a]:null},iK:function(a,c){this.yl[a]=c},Vi:function(a){return this.yl[a]},Ws:function(a,c){for(var d=0;d<this.items.stored.length;d++)this.items.stored[d]&&this.items.stored[d].name==a&&(this.items.stored[d]=c);console.log(this.items)},
DC:function(a){var c=this.ze(),d=U.uw(c.x,c.y);Ca("On Pickup",a);if(a){if(!0==a.stackable)for(var e=0;40>e;e++)if(this.items.stored[e]&&this.items.stored[e].name==a.name){Inventory&&(this.items.stored[e].amount+=a.amount,Inventory.pi(e,this.items.stored[e].amount));S.rb(x.ye.Nw+a.name);d.tw().temp?A({pickupitem:Q(c.x,c.y),mapnumber:U.Rd(),temp:!0}):A({pickupitem:Q(c.x,c.y),mapnumber:U.Rd()});console.log(this.items);return}for(var f=!1,e=0;40>e;e++)if(null==this.items.stored[e]){this.items.stored[e]=
K(a);Inventory&&Inventory.pi(e,this.items.stored[e].amount);S.rb(x.ye.Nw+a.name);d.tw().temp?A({pickupitem:Q(c.x,c.y),mapnumber:U.Rd(),temp:!0}):A({pickupitem:Q(c.x,c.y),mapnumber:U.Rd()});f=!0;break}!1==f&&S.rb(x.ye.vI)}Inventory&&Inventory.ub();Equipment&&Equipment.ub()},aU:function(a,c){var d=p.a(c.p.G/N,c.p.O/N);Ca("On Pickup",c);if(a){if(!0==a.stackable)for(var e=0;40>e;e++)if(this.items.stored[e]&&this.items.stored[e].name==a.name){Inventory&&(this.items.stored[e].amount+=a.amount,Inventory.pi(e,
this.items.stored[e].amount));S.rb(x.ye.Nw+a.name);c.tw().temp?A({pickupitem:Q(d.x,d.y),mapnumber:U.Rd(),temp:!0}):A({pickupitem:Q(d.x,d.y),mapnumber:U.Rd()});return}for(var f=!1,e=0;40>e;e++)if(null==this.items.stored[e]){this.items.stored[e]=K(a);Inventory&&Inventory.pi(e,this.items.stored[e].amount);S.rb(x.ye.Nw+a.name);c.tw().temp?A({pickupitem:Q(d.x,d.y),mapnumber:U.Rd(),temp:!0}):A({pickupitem:Q(d.x,d.y),mapnumber:U.Rd()});f=!0;break}!1==f&&S.rb(x.ye.vI)}Inventory&&Inventory.ub();Equipment&&
Equipment.ub()},FB:function(a,c){var d=this.ze();Ca("On Drop",this.items[c][a]);this.items[c][a]&&(S.rb(x.ye.vR+this.items[c][a].name),A({droppeditem:this.items[c][a],mapnumber:U.Rd(),index:Q(d.x,d.y)}),!0==this.items[c][a].stackable&&1<this.items[c][a].amount&&Inventory.pi(a,0),this.items[c][a]=null);Inventory&&Inventory.ub();Equipment&&Equipment.ub()},jX:function(a){Ca("Default Event",this.items.stored[a]);Inventory&&Inventory.ub();Equipment&&Equipment.ub()},iR:function(a){for(var c=0;40>c;c++)if(null==
this.items.stored[c]){this.items.stored[c]=K(this.items.equipped[a]);this.items.equipped[a]=null;Inventory&&Inventory.ub();Equipment&&Equipment.ub();Ca("On Dequip",this.items.stored[c]);return}S.rb("No space in inventory to dequip this item.")},jl:function(){return this.items.stored},np:function(){return this.items.equipped}});PlayerCharacter.create=function(a){var c=new PlayerCharacter;c.r(a);return c};
NonPlayerCharacter=Character.extend({o7:null,Ow:!1,jW:function(a,c){this.Ow=!0;this.Zc(function(){this.Wp(a.x,a.y);this.Ow=!1},c)},D6:function(){return this.Ow}});NonPlayerCharacter.create=function(a){var c=new NonPlayerCharacter;c.r(a);return c};var Ea=p.Ec.extend({VC:null,b:null,KT:function(){},ctor:function(){this._super()},hL:function(){},xn:function(){},dj:function(){},oa:function(){this.b&&this.b.L();this.b=va(this);this.f(this.b)},wa:function(){},r:function(){this.mD(1);this.$w(!0);this.Vb(!0);G.vn(this);this._super()},xC:function(){p.log("Override onKeyDown in scene extended class to use keyboard")},wl:function(){p.log("Override onKeyUp in scene extended class to use keyboard")},NV:function(a){this.VC=a},Cc:function(){return this.VC}});DropDownList=Ea.extend({list:null,ZQ:null,selected:null,b:null,k:null,lH:null,mJ:null,Ns:null,ctor:function(){this._super();this.list=[];this.ZQ=0},r:function(a,c,d,e){this._super();a&&(this.k=a,this.lH=c,d&&(this.list=d),e&&this.l(e),this.mJ=G.HR(),G.vn(this),this.Qp(-1001),this.$w(!0))},lb:function(a){for(var c=this.b.control_menu.Ia(a.M),d=0;d<this.list.length;d++)this.Ns&&!0!=this.Ns[d].enabled||p.bb(p.rect(this.b.control_menu[d+""].p.G,this.b.control_menu[d+""].p.O,this.b.control_menu[d+""].c().width,
this.b.control_menu[d+""].c().height),c)&&this.lH(d,a);this.nU();return!0},nU:function(){G.vn(this.mJ);this.L();ua()},WU:function(){this.Dc(this.p.O-24*this.list.length);for(var a=0,c=0;c<this.list.length;c++)this.b.control_menu[c+""].content.c().width>a&&(a=this.b.control_menu[c+""].content.c().width);for(c=0;c<this.list.length;c++)this.b.control_menu[c+""].bH(a+8);this.b.control_menu.bH(a+8)},xc:function(){for(var a={},c=0;c<this.list.length;c++)a[c+""]={position:p.a(0,24*(this.list.length-1)-24*
c),size:p.size(96,24),d:p.a(0,0),v:p.h(200,200,200,200),children:{content:{label:this.list[c],fontSize:20,color:p.j(0,0,0),d:p.a(0,0.5),position:p.a(4,12)}}};return{panels:{children:{control_menu:{position:p.a(0,0),v:p.h(200,200,200,0),size:p.size(96,48),children:a}}}}},dj:function(a){a=this.b.control_menu.Ia(a.M);for(var c=0;c<this.list.length;c++)this.b.control_menu[c+""].m(p.h(200,200,200,200)),this.Ns&&!0!=this.Ns[c].enabled||p.bb(p.rect(this.b.control_menu[c+""].p.G,this.b.control_menu[c+""].p.O,
this.b.control_menu[c+""].c().width,this.b.control_menu[c+""].c().height),a)&&this.b.control_menu[c+""].m(p.h(255,0,0,255))}});DropDownList.td=function(a,c,d,e,f){var g=new DropDownList;g.r(a,c,d,e);g.b=va(g.xc(),!0);if(f){for(a=0;a<g.list.length;a++)!1==f[a].enabled&&g.b.control_menu[a+""].content.m(p.h(127,127,127,200));g.Ns=f}g.f(g.b);g.WU();return g};Popup=Ea.extend({Vd:null,Lg:!1,r:function(){this.VC=this.Cc();this._super();G.vn(this);this.HW();this.Qp(-50)},P1:function(){this.L()},lb:function(a){var c=a.M;G.vn(this);c=this.b.control_panel.Ia(c);if(p.bb(p.rect(this.b.control_panel.exitBtn.p.G,this.b.control_panel.exitBtn.p.O,this.b.control_panel.exitBtn.c().width,this.b.control_panel.exitBtn.c().height),c)){var d=this;this.V.Zc(function(){!1==d.Lg&&d.wa();d.L();d=null});return!0}return p.bb(p.rect(this.b.p.x,this.b.p.y+this.b.control_panel.p.y,
this.b.control_panel.c().width,this.b.control_panel.c().height),a.M)?(this.Vd=this.b.ai(a),!0):!1},vd:function(a){return this.Vd?(a=a.M,this.b.l(p.a(a.x-this.Vd.x,a.y-this.Vd.y)),!0):!1},L:function(){V.eW(this.Cc(),this.b.p);this._super()},HW:function(){p.log("Ovveride setupPopup")},Cc:function(){p.log("No id given... using default 'Popup'");return"Popup"},Ff:function(){},oa:function(){this._super();var a=V.bS();if("null"!=a&&null!=a&&(a=JSON.parse(a)[this.Cc()])){a=p.a(a.x,a.y);if(a.x>Y.width-10||
a.y>Y.height)a=p.a(8,100);this.b.l(a)}}});Book=null;
BookPanel=Popup.extend({name:null,content:null,hg:null,Cc:function(){return"Book"},xc:function(){return{panels:{position:p.a(100,20),children:{main_panel:{d:p.a(0,0),position:p.a(0,0),size:p.size(514,313),Z:"GUI/book.png",children:{pageBackbtn:{position:p.a(2,1),size:p.size(36,36),Z:"GUI/btnLeft.png",d:p.a(0,0)},pageForwardbtn:{position:p.a(475,1),size:p.size(36,36),Z:"GUI/btnRight.png",d:p.a(0,0)},leftPage:{label:this.hg[0],d:p.a(0,1),position:p.a(4,308),color:p.j(0,0,0)},rightPage:{label:1<this.hg.length?
this.hg[1]:"",d:p.a(0,1),position:p.a(260,308),color:p.j(0,0,0)}}},control_panel:{d:p.a(0,0),position:p.a(0,313),size:p.size(514,32),children:{header:{label:this.name,fontSize:20,d:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(490,6),size:p.size(20,20),d:p.a(0,0),Z:"GUI/close.png"}}}}}}},r:function(a,c){this._super();this.name=a;this.content=c;this.hg=[];for(var d=c;d;)if(470>d.length){this.hg.push(d);break}else this.hg.push(d.substr(0,470)+"..."),d=d.substr(470);this.XT=Math.floor(this.hg.length/
2)-1;this.Si=0},oa:function(){this._super();this.b.main_panel.leftPage.Ab(p.size(248,0));this.b.main_panel.rightPage.Ab(p.size(248,0));this.b.main_panel.pageBackbtn.w(!1);2>this.hg.length&&this.b.main_panel.pageForwardbtn.w(!1)},CS:function(){this.Si++;this.b.main_panel.pageBackbtn.w(!0);this.Si==this.XT&&this.b.main_panel.pageForwardbtn.w(!1);this.b.main_panel.leftPage.fa(this.hg[2*this.Si]);this.hg[2*this.Si+1]?this.b.main_panel.rightPage.fa(this.hg[2*this.Si+1]):this.b.main_panel.rightPage.fa("")},
DS:function(){this.Si--;this.b.main_panel.pageForwardbtn.w(!0);0==this.Si&&this.b.main_panel.pageBackbtn.w(!1);this.b.main_panel.leftPage.fa(this.hg[2*this.Si]);this.hg[2*this.Si+1]&&this.b.main_panel.rightPage.fa(this.hg[2*this.Si+1])},lb:function(a){if(this._super(a))return!0;this.Vd=null;a=this.b.main_panel.Ia(a.M);if(J(this.b.main_panel.pageForwardbtn,a))return this.CS(),!0;if(J(this.b.main_panel.pageBackbtn,a))return this.DS(),!0}});NpcChat=null;
NpcChatPanel=Popup.extend({name:null,content:null,gw:null,Wa:null,yH:null,XI:null,D:null,Cc:function(){return"Book"},xc:function(){return{panels:{position:p.a(100,20),children:{main_panel:{d:p.a(0,0),position:p.a(0,0),size:p.size(512,138),Z:"GUI/npctalk.png",children:{chatText:{label:this.content?this.content:"",d:p.a(0,1),position:p.a(138,134),color:p.j(0,0,0)},list:{size:p.size(320,80),position:p.a(154,4),d:p.a(0,0)}}},control_panel:{d:p.a(0,0),position:p.a(0,138),size:p.size(512,32),children:{header:{label:this.name?
this.name:"",fontSize:20,d:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(488,6),size:p.size(20,20),d:p.a(0,0),Z:"GUI/close.png"}}}}}}},gb:function(){this.D&&this.D.$b();var a=[],c=[];p.ga.e();for(var d in this.gw){a[d]=p.C.create();a[d].R(324,32);var e=p.aa.create(p.h(200,200,200,200),300,10);e.l(p.a(12,1));var f=p.Q.create("\x3e"+this.gw[d],"Arial",14);f.F(p.a(0,0));f.l(p.a(4,2));f.Ab(p.size(300,0));f.m(p.j(100,0,0));a[d].f(e);e.f(f);a[d].R(324,f.c().height+8);e.R(300,f.c().height+4);e.Yb=
"Use";c.push([e])}this.D=this.b.main_panel.list;var g=this;this.D.Xc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return p.size(324,c)};this.D.Oc=function(){return a.length};this.D.fd=function(c){return a[c].c()};this.D.dd=function(c){return a[c]};this.D.ac=function(a,c){switch(a){case "Use":L.QS(),Da("On Talk Option Selected for event:"+g.yH+", option:"+c,g.XI)}};this.D.ca=ListView.create(this.D);this.D.ca.hd(c);this.D.f(this.D.ca)},r:function(a,c,d,e,f,g){this._super();this.name=
e;this.content=f;this.Wa=c;this.yH=d;this.XI=a;g&&(this.gw=g)},oa:function(){this._super();this.b.main_panel.chatText.Ab(p.size(350,0));this.gw&&this.gb()},lb:function(a){if(this._super(a))return!0}});Equipment=null;
EquipmentPanel=Popup.extend({Cc:function(){return"Equipment"},xc:function(){var a={};a.head={Z:"GUI/defaultitem.png",position:p.a(88,162),size:p.size(32,32),d:p.a(0,1)};a.legs={Z:"GUI/defaultitem.png",position:p.a(88,82),size:p.size(32,32),d:p.a(0,1)};a.feet={Z:"GUI/defaultitem.png",position:p.a(88,40),size:p.size(32,32),d:p.a(0,1)};a.body={Z:"GUI/defaultitem.png",position:p.a(88,122),size:p.size(32,32),d:p.a(0,1)};a.lArm={Z:"GUI/defaultitem.png",position:p.a(48,122),size:p.size(32,32),d:p.a(0,1)};
a.rArm={Z:"GUI/defaultitem.png",position:p.a(128,122),size:p.size(32,32),d:p.a(0,1)};a.mod={Z:"GUI/defaultitem.png",position:p.a(8,162),size:p.size(32,32),d:p.a(0,1)};return{panels:{position:p.a(100,300),children:{main_panel:{d:p.a(0,0),size:p.size(168,168),Z:"GUI/equipment.png",children:a},control_panel:{d:p.a(0,0),position:p.a(0,168),size:p.size(168,32),children:{header:{label:I["Equipment Header"],fontSize:20,d:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(144,6),size:p.size(20,20),d:p.a(0,
0),Z:"GUI/close.png"}}},item_name:{position:p.a(0,0),v:p.h(200,200,200,200),size:p.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:p.j(0,0,0),d:p.a(0.5,0.5),position:p.a(32,8)}}}}}}},ub:function(){var a=R.q.W.np();this.b.main_panel.head.ia(p.ga.e().qa("GUI/defaultitem.png"));this.b.main_panel.body.ia(p.ga.e().qa("GUI/defaultitem.png"));this.b.main_panel.legs.ia(p.ga.e().qa("GUI/defaultitem.png"));this.b.main_panel.feet.ia(p.ga.e().qa("GUI/defaultitem.png"));this.b.main_panel.lArm.ia(p.ga.e().qa("GUI/defaultitem.png"));
this.b.main_panel.rArm.ia(p.ga.e().qa("GUI/defaultitem.png"));this.b.main_panel.mod.ia(p.ga.e().qa("GUI/defaultitem.png"));for(var c in a)if(a[c]){for(var d in y)if(y[d].name==a[c].sprite.texture)var e=y[d].texture;this.b.main_panel[c].F(0,1);this.b.main_panel[c].ia(e);this.b.main_panel[c].Ub(p.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,32,32))}},Hw:function(a){switch(a){case 0:R.q.W.iR(this.k.bj);break;case 1:R.q.W.FB(this.k.bj,"equipped")}},lb:function(a){if(this._super(a))return!0;
this.Vd=null;var c=this.b.main_panel.Ia(a.M),d=R.q.W.np(),e;for(e in d)if(d[e]&&J(this.b.main_panel[e],p.a(c.x,c.y+32)))return this.bj=e,this.b.item_name.w(!1),c=I["Item Dropdown Unequip"]+"",c=c.replace("\x3cITEM\x3e",R.q.W.np()[e].name),d=I["Item Dropdown Drop"]+"",d=d.replace("\x3cITEM\x3e",R.q.W.np()[e].name),this.f(DropDownList.td(this,this.Hw,[c,d],a.M)),!0},dj:function(a){a=this.b.main_panel.Ia(a.M);this.b.item_name.w(!1);var c=R.q.W.np(),d;for(d in c)if(c[d]&&J(this.b.main_panel[d],p.a(a.x,
a.y+32)))return this.b.item_name.content.fa(c[d].name),this.b.item_name.w(!0),this.b.item_name.R(this.b.item_name.content.c()),this.b.item_name.content.zb(this.b.item_name.content.c().width/2),this.b.item_name.l(p.a(this.b.main_panel[d].p.G-this.b.item_name.content.c().width/2+16,this.b.main_panel[d].p.O)),!0},Ds:function(){this.b.main_panel.head.ea()&&(this.Sc(this.Ds),this.ub())},oa:function(){this._super();this.b.main_panel.head.ea()?this.ub():this.bc(this.Ds)}});Inventory=null;
InventoryPanel=Popup.extend({bj:null,qC:!1,Cc:function(){return"Inventory"},xc:function(){for(var a={},c=0;5>c;c++)for(var d=0;8>d;d++)a[5*d+c+""]={size:p.size(32,32),position:p.a(40*c+8,40*(7-d)+40),Z:"GUI/defaultitem.png",d:p.a(0,1),children:{stacklabelbg:{position:p.a(1,1),size:p.size(10,6),d:p.a(0,0),v:p.h(255,255,255,200),children:{stacklabel:{label:"",fontSize:10,color:p.j(0,0,0),d:p.a(0,0),position:p.a(0,0)}}}}};return{panels:{position:p.a(300,200),children:{main_panel:{d:p.a(0,0),Z:"GUI/inventory.png",
size:p.size(208,328),children:a},control_panel:{d:p.a(0,0),position:p.a(0,328),size:p.size(208,32),children:{header:{label:I["Inventory Header"],fontSize:20,d:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(184,6),size:p.size(20,20),d:p.a(0,0),Z:"GUI/close.png"}}},item_name:{position:p.a(0,0),v:p.h(200,200,200,200),size:p.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:p.j(0,0,0),d:p.a(0.5,0.5),position:p.a(32,8)}}}}}}},pi:function(a,c){this.b.main_panel[a+""].stacklabelbg.w(!1);
1<c&&(this.b.main_panel[a+""].stacklabelbg.w(!0),this.b.main_panel[a+""].stacklabelbg.stacklabel.fa(c),this.b.main_panel[a+""].stacklabelbg.R(this.b.main_panel[a+""].stacklabelbg.stacklabel.c()))},ub:function(){for(var a=R.q.W.jl(),c=0;40>c;c++)if(a[c]){for(var d in y)if(y[d].name==a[c].sprite.texture)var e=y[d].texture;this.b.main_panel[c+""].F(0,1);this.b.main_panel[c+""].ia(e);this.b.main_panel[c+""].Ub(p.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,32,32));this.pi(c,a[c].amount)}else this.b.main_panel[c+
""].ia(p.ga.e().qa("GUI/defaultitem.png")),this.pi(c,0)},Ds:function(){this.b.main_panel[oa+""].ea()&&(this.Sc(this.Ds),this.ub())},oa:function(){this._super();this.b.main_panel[oa+""].ea()?this.ub():this.bc(this.Ds)},Hw:function(a){switch(a){case 0:!0==this.k.qC?R.q.W.jX(this.k.bj):R.q.W.FB(this.k.bj,"stored");break;case 1:R.q.W.FB(this.k.bj,"stored")}this.k.qC=!1},lb:function(a){if(this._super(a))return!0;this.Vd=null;for(var c=this.b.main_panel.Ia(a.M),d=0;40>d;d++)if(R.q.W.jl()[d]&&J(this.b.main_panel[d+
""],p.a(c.x,c.y+32))){var e=R.q.W.jl()[d],c=[];e.script&&(c=ObjectLists.Wi()[e.script].data);for(var e=null,f=0;f<c.length;f++)if("Default Event"==c[f].type)for(var e="Use Item",g=c[f].responses,h=0;h<g.length;h++)switch(console.log(g[h].type),g[h].type){case "Equip Item":e=I["Item Dropdown Equip"]+"";break;case "Read Item":e=I["Item Dropdown Read"]+""}c=I["Item Dropdown Drop"]+"";c=c.replace("\x3cITEM\x3e",R.q.W.jl()[d].name);e?(this.qC=!0,e=e.replace("\x3cITEM\x3e",R.q.W.jl()[d].name),this.f(DropDownList.td(this,
this.Hw,[e,c],a.M))):this.f(DropDownList.td(this,this.Hw,[c],a.M));this.bj=d;this.b.item_name.w(!1);return!0}},dj:function(a){a=this.b.main_panel.Ia(a.M);for(var c=0;40>c;c++)if(R.q.W.jl()[c]&&J(this.b.main_panel[c+""],p.a(a.x,a.y+32)))return this.b.item_name.content.fa(R.q.W.jl()[c].name),this.b.item_name.w(!0),this.b.item_name.R(this.b.item_name.content.c()),this.b.item_name.content.zb(this.b.item_name.content.c().width/2),this.b.item_name.l(p.a(this.b.main_panel[c+""].p.G-this.b.item_name.content.c().width/
2+16,this.b.main_panel[c+""].p.O)),!0}});Sign=null;
SignPanel=Popup.extend({data:null,Cc:function(){return"Sign"},xc:function(){return{panels:{position:p.a(100,300),children:{control_panel:{d:p.a(0,0),size:p.size(128,96),Z:"GUI/signpost.png",children:{content:{label:this.data.label,fontSize:12,color:p.j(255,255,255),d:p.a(0,1),position:p.a(4,94)},exitBtn:{position:p.a(100,6),size:p.size(20,20),d:p.a(0,0),Z:"GUI/close.png"}}}}}}},r:function(a){this._super();this.data=a},oa:function(){this._super();this.b.control_panel.content.Ab(p.size(120,0))}});Quests=null;
QuestsPanel=Popup.extend({D:null,Ug:null,XC:null,Cc:function(){return"Quests"},gb:function(){this.D&&this.D.$b();for(var a=[],c=[],d=p.ga.e(),e=0;e<this.data.length;e++)if(!(null==R.q.W.Vi(e)||"undefined"===R.q.W.Vi(e)&&1>R.q.W.Vi(e))){a[e]=p.aa.create(p.h(0,0,0,0),420,32);var f=p.aa.create(p.h(0,0,0,127),212,1);f.l(p.a(4,0));var g=p.Q.create(this.data[e].name,"Arial",15);g.m(p.j(0,0,0));g.F(p.a(0,0));g.l(p.a(4,4));g.Ab(p.size(216,0));a[e].R(216,g.c().height+8);if(null!=this.XC&&this.XC==e){a[e]=
p.aa.create(p.h(100,0,0,255),216,g.c().height+8);var h=p.u.ab(d.qa("GUI/selected.png"));h.l(p.a(192,(g.c().height+8-20)/2));h.F(p.a(0,0));a[e].f(h);g.m(p.j(255,255,255))}a[e].f(f);a[e].f(g);a[e].Yb="Use";c.push([a[e]])}1>a.length&&(a[0]=p.aa.create(p.h(0,0,0,0),420,32),f=p.aa.create(p.h(0,0,0,127),212,1),f.l(p.a(4,0)),g=p.Q.create("THERES NO QUESTS!","Arial",15),g.m(p.j(0,0,0)),g.F(p.a(0,0)),g.l(p.a(4,4)),g.Ab(p.size(216,0)),a[0].R(216,g.c().height+8),a[0].f(g),c.push([]));this.D=this.b.main_panel.list;
var k=this;this.D.Xc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return p.size(216,c)};this.D.Oc=function(){return a.length};this.D.fd=function(c){return a[c].c()};this.D.dd=function(c){return a[c]};this.D.ac=function(a,c){"Use"==a&&(k.XC=c,k.oU(c),k.gb())};this.D.ca=ListView.create(this.D);this.D.ca.hd(c);this.D.f(this.D.ca)},oU:function(a){this.Ug&&this.Ug.$b();var c=this.data[a].objectiveList,d=[],e=[];p.ga.e();if(0<R.q.W.Vi(a))for(var f=0;f<c.length;f++)if(!(R.q.W.Vi(a)<f)){if(0==
f)d[f]=p.aa.create(p.h(0,0,0,0),1,1);else if(f==c.length)d[f]=p.aa.create(p.h(0,0,0,0),1,1);else{d[f]=p.aa.create(p.h(0,0,0,0),208,32);var g=p.aa.create(p.h(0,0,0,127),208,1);g.l(p.a(4,0));var h=p.Q.create(c[f],"Arial",15);h.m(p.j(0,0,0));h.F(p.a(0,0));h.l(p.a(4,4));h.Ab(p.size(208,0));d[f].R(208,h.c().height+8);R.q.W.Vi(a)>f&&h.pa(200);d[f].f(g);d[f].f(h)}e.push([])}this.Ug=this.b.main_panel.sublist;this.Ug.Xc=function(){for(var a=0,c=0;c<d.length;c++)a+=d[c].c().height;return p.size(212,a)};this.Ug.Oc=
function(){return d.length};this.Ug.fd=function(a){return d[a].c()};this.Ug.dd=function(a){return d[a]};this.Ug.ac=function(){};this.Ug.ca=ListView.create(this.Ug);this.Ug.ca.hd(e);this.Ug.f(this.Ug.ca)},xc:function(){return{panels:{position:p.a(300,200),children:{background_image:{Z:"GUI/quest_panel.png",d:p.a(0,0)},main_panel:{d:p.a(0,0),size:p.size(512,328),children:{list:{size:p.size(216,328),v:p.h(0,200,200,0),position:p.a(0,0),d:p.a(0,0)},sublist:{size:p.size(212,328),v:p.h(0,200,200,0),position:p.a(258,
0),d:p.a(0,0)}}},control_panel:{d:p.a(0,0),position:p.a(0,328),size:p.size(365,32),children:{header:{label:"Quest Log",fontSize:20,d:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(484,6),size:p.size(20,20),d:p.a(0,0),Z:"GUI/close.png"}}}}}}},ub:function(){},oa:function(){this._super();this.ub();this.data=ObjectLists.rp();this.gb()}});Skills=null;
SkillsPanel=Popup.extend({D:null,Cc:function(){return"Skills"},gb:function(){this.D&&this.D.$b();var a=[],c=[];p.ga.e();var d=0,e=0,f;for(f in this.data){e+=this.data[f].level+1;a[d]=p.C.create();a[d].R(420,32);var g=p.aa.create(p.h(0,0,0,127),316,1);g.l(p.a(4,0));var h=p.Q.create("Lvl "+(this.data[f].level+1+this.data[f].modifier)+"/"+(this.data[f].level+1),"Arial",15);h.m(p.j(0,0,0));h.F(p.a(0,0));h.l(p.a(4,4));var k=p.Q.create(f,"Arial",15);k.m(p.j(0,0,0));k.F(p.a(0.5,0));k.l(p.a(h.c().width+65,
4));var l=p.aa.create(p.h(255,255,255,255),144,k.c().height),m=p.aa.create(p.h(100,120,200,255),this.data[f].experience/this.data[f].requirement*144,k.c().height);l.f(m);m.F(p.a(0,0));m=p.Q.create(this.data[f].experience+"/"+this.data[f].requirement,"Arial",14);m.F(p.a(0,0));m.m(p.j(0,0,0));l.f(m);m.Dc(1);l.F(p.a(0,0));l.l(p.a(172,4));c.push([]);a[d].f(g);a[d].f(k);a[d].f(h);a[d].f(l);a[d].R(324,k.c().height+8);d++}this.D=this.b.main_panel.list;this.D.Xc=function(){for(var c=0,d=0;d<a.length;d++)c+=
a[d].c().height;return p.size(324,c)};this.D.Oc=function(){return a.length};this.D.fd=function(c){return a[c].c()};this.D.dd=function(c){return a[c]};this.D.ac=function(){};this.D.ca=ListView.create(this.D);this.D.ca.hd(c);this.D.f(this.D.ca);this.b.main_panel.character_level.fa("LEVEL: "+e);this.b.main_panel.character_level.zb(306);this.b.main_panel.character_level.F(p.a(1,0))},xc:function(){return{panels:{position:p.a(300,200),children:{background_image:{Z:"GUI/list_panel.png",d:p.a(0,0)},main_panel:{d:p.a(0,
0),size:p.size(365,328),children:{character_level:{label:"",position:p.a(2,310),d:p.a(0,0),color:p.j(0,0,0)},list:{size:p.size(324,308),v:p.h(0,200,200,200),position:p.a(0,0),d:p.a(0,0)}}},control_panel:{d:p.a(0,0),position:p.a(0,328),size:p.size(365,32),children:{header:{label:"Skills",fontSize:20,d:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(337,6),size:p.size(20,20),d:p.a(0,0),Z:"GUI/close.png"}}}}}}},ub:function(){},oa:function(){this._super();this.ub();this.data=T.lS();this.gb()}});
var T=p.Ec.extend({bw:[],lc:null,Xs:function(){var a=ObjectLists.uh(),c;for(c in this.bw)this.bw[c].L();this.bw=[];var d=0;for(c=a.length-1;0<=c;c--)if(null!=a[c].healthbar&&""!=a[c].healthbar){var e=this.YQ(a[c].name,a[c].healthbar,d);this.f(e);this.bw.push(e);d++}this.l(p.a(0,Y.height-32*d))},YQ:function(a,c,d){var e=255;c=c.replace("#","");8==c.length&&(e=c.substr(6,8));e=p.aa.create(p.h(parseInt(c.substring(0,2),16),parseInt(c.substring(2,4),16),parseInt(c.substring(4,6),16),parseInt(e,16)),0<
this.lc[a].currenthealth?this.lc[a].currenthealth/this.lc[a].maxhealth*300:1,23);e.rB=p.u.ab(p.ga.e().qa("GUI/healthbar.png"));e.l(10,32*d- -5*d-10);e.F(p.a(0,0));e.rB.l(-5,-4);e.rB.F(p.a(0,0));e.f(e.rB);a=p.Q.create(a,"Arial",16);a.l(10,11.5);a.F(p.a(0,0.5));e.f(a);return e}});SkillBarsInstance=null;T.create=function(a){null==SkillBarsInstance&&(SkillBarsInstance=new T,SkillBarsInstance.lc=a,SkillBarsInstance.Xs());return SkillBarsInstance};
T.SI=function(a,c){SkillBarsInstance.lc[a].currenthealth+=c;0>SkillBarsInstance.lc[a].currenthealth&&(SkillBarsInstance.lc[a].currenthealth=0);SkillBarsInstance.lc[a].currenthealth>SkillBarsInstance.lc[a].maxhealth&&(SkillBarsInstance.lc[a].currenthealth=SkillBarsInstance.lc[a].maxhealth);SkillBarsInstance.Xs();Skills&&Skills.gb()};T.UI=function(a,c){SkillBarsInstance.lc[a].experience+=c;0>SkillBarsInstance.lc[a].experience&&(SkillBarsInstance.lc[a].experience=0);SkillBarsInstance.Xs();Skills&&Skills.gb()};
T.TI=function(a,c){SkillBarsInstance.lc[a].modifier+=c;0>SkillBarsInstance.lc[a].modifier&&(SkillBarsInstance.lc[a].modifier=0);SkillBarsInstance.Xs();Skills&&Skills.gb()};T.lS=function(){return SkillBarsInstance.lc};T.update=function(){SkillBarsInstance.Xs()};Scripteditor=null;
ScriptEditor=Popup.extend({data:null,D:null,ib:null,cj:null,jf:null,kf:null,q1:null,k:null,fb:null,IK:null,jH:null,ka:null,g:null,Bn:null,jk:function(a){A({savescripts:a+"",scriptsdata:this.data})},ak:function(a,c){A({savescriptswhole:c})},Cc:function(){return"Scripts"},wa:function(a){this._super();if(this.k){var c=this.k;!0!=a&&this.k.Zc(function(){c.Qd(null)})}},r:function(a){this._super();this.data={data:[],name:null};this.fb=null;a.data&&(this.data=a.data);this.k=a.k},oa:function(){this._super();this.fb=
new $(this.b.main_panel.nameEntry,p.size(this.b.main_panel.nameEntry.c().width,this.b.main_panel.nameEntry.c().height),p.a(0,this.b.main_panel.nameEntry.c().height),this.data.name,p.h(255,255,255),p.j(0,0,0));this.fb.tb(!0);this.gb()},gb:function(){this.D&&this.D.$b();for(var a in this.jf)this.jf[a].$b(),this.jf[a].L();for(a in this.kf)this.kf[a].$b(),this.kf[a].L();var c=[],d=[],e=[],f=[],g=[],h=[],k=p.ga.e();this.jf=[];this.kf=[];for(a=0;a<this.data.data.length;a++){g[a]=[];h[a]=[];d[a]=[];e[a]=
[];c[a]=p.C.create();c[a].R(758,100);var l=p.aa.create(p.h(0,0,0,127),750,1);l.l(p.a(4,0));var m=p.aa.create(p.h(0,0,0,127),1,92);m.l(p.a(152,4));var n=p.aa.create(p.h(0,0,0,127),1,92);n.l(p.a(451,4));var t=this.data.data[a].type;"On Talk Close"==t&&(t+=" ("+this.data.data[a].data.attachedEvent+":"+this.data.data[this.data.data[a].data.attachedEvent].type+")");t=p.Q.create(a+": "+t,"Arial",15);t.m(p.j(0,0,0));t.F(p.a(0,1));t.l(p.a(4,96));t.Ab(p.size(100,0));var s=p.aa.create(p.h(0,255,0,60),259,100);
s.R(p.size(259,100));s.zb(451);s.F(p.a(0,0));c[a].f(s);var u=p.aa.create(p.h(0,255,0,60),259,100);u.R(p.size(259,100));u.zb(152);u.F(p.a(0,0));c[a].f(u);var w=p.u.ab(k.qa("GUI/trash.png"));w.l(p.a(120,4));w.F(p.a(0,0));w.Yb="Delete";c[a].f(w);var E=p.u.ab(k.qa("GUI/edit.png"));E.l(p.a(96,4));E.F(p.a(0,0));E.Yb="Edit";c[a].f(E);f.push([w,E]);for(w=0;w<this.data.data[a].responses.length;w++){d[a].push(p.C.create());d[a][w].R(259,32);var E=!0,H=p.Q.create(w+1+": "+this.data.data[a].responses[w].type,
"Arial",15);H.m(p.j(0,0,0));H.F(p.a(0,0));H.l(p.a(4,4));H.Ab(p.size(180,0));d[a][w].R(259,H.c().height+8);d[a][w].f(H);H=p.u.ab(k.qa("GUI/trash.png"));H.l(p.a(229,0));H.F(p.a(0,0));H.Yb="Delete";d[a][w].f(H);switch(this.data.data[a].responses[w].type){case "Destroy":case "Attack":case "Run Away":E=!1}E?(E=p.u.ab(k.qa("GUI/edit.png")),E.l(p.a(205,0)),E.F(p.a(0,0)),E.Yb="Edit",d[a][w].f(E),g[a].push([H,E])):g[a].push([H])}w=p.aa.create(p.h(70,200,70,255),90,26);E=p.Q.create("+","Arial",20);E.l(45,13);
E.F(p.a(0.5,0.5));w.l(p.a(84.5,0));w.Yb="Add";w.f(E);g[a].push([w]);d[a].push(w);this.kf[a]=u;this.kf[a].identifier=a;var C=this;this.kf[a].Xc=function(){for(var a=0,c=0;c<d[this.identifier].length;c++)a+=d[this.identifier][c].c().height;return p.size(259,a)};this.kf[a].Oc=function(){return d[this.identifier].length};this.kf[a].fd=function(a){return d[this.identifier][a].c()};this.kf[a].dd=function(a){return d[this.identifier][a]};this.kf[a].ac=function(a,c,d){C.Ia(d.M);if(null==C.g)switch(a){case "Delete":C.V.f(DropDownList.td(C,
C.hR,["Cancel","Delete"],d.M));C.ib=c;C.cj=this.identifier;break;case "Edit":C.wH(this.identifier,"responses",c);break;case "Add":a="Talk;Destroy;Give/ Take Item;Set Quest Point;Warp Player;Wait;Repeat Responses;Open/Close Panel;Modify Player Stats;Script Response".split(";");c=[{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0}];for(var e=0;e<C.data.data[this.identifier].responses.length;e++)"Repeat Responses"==C.data.data[this.identifier].responses[e].type&&
(c[7].enabled=!1);switch(C.data.specifier){case "NPC":a.push("Attack","Run Away","Defend","Modify NPC Stats");c.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0});break;case "Item":a.push("Equip Item","Read Item");c.push({enabled:!0},{enabled:!0});break;case "Tile":a.push("Block Entry","Add Layer Graphic"),c.push({enabled:!0},{enabled:!0})}C.V.f(DropDownList.td(C,C.iQ,a,d.M,c));C.cj=this.identifier;break;case "Use":C.k.Rp(c,C.Nc[c])}};this.kf[a].ca=ListView.create(this.kf[a]);this.kf[a].ca.hd(g[a]);
this.kf[a].f(this.kf[a].ca);for(w=0;w<this.data.data[a].requirements.length;w++)e[a].push(p.C.create()),e[a][w].R(259,32),u=p.Q.create(w+1+": "+this.data.data[a].requirements[w].type,"Arial",15),u.m(p.j(0,0,0)),u.F(p.a(0,0)),u.l(p.a(4,4)),u.Ab(p.size(180,0)),e[a][w].R(259,u.c().height+8),e[a][w].f(u),H=p.u.ab(k.qa("GUI/trash.png")),H.l(p.a(229,0)),H.F(p.a(0,0)),H.Yb="Delete",e[a][w].f(H),E=p.u.ab(k.qa("GUI/edit.png")),E.l(p.a(205,0)),E.F(p.a(0,0)),E.Yb="Edit",e[a][w].f(E),h[a].push([H,E]);u=p.aa.create(p.h(70,
200,70,255),90,26);w=p.Q.create("+","Arial",20);w.l(45,13);w.F(p.a(0.5,0.5));u.l(p.a(84.5,0));u.Yb="Add";u.f(w);h[a].push([u]);e[a].push(u);this.jf[a]=s;this.jf[a].identifier=a;C=this;this.jf[a].Xc=function(){for(var a=0,c=0;c<e[this.identifier].length;c++)a+=e[this.identifier][c].c().height;return p.size(259,a)};this.jf[a].Oc=function(){return e[this.identifier].length};this.jf[a].fd=function(a){return e[this.identifier][a].c()};this.jf[a].dd=function(a){return e[this.identifier][a]};this.jf[a].ac=
function(a,c,d){C.Ia(d.M);if(null==C.g)switch(a){case "Delete":C.V.f(DropDownList.td(C,C.gR,["Cancel","Delete"],d.M));C.ib=c;C.cj=this.identifier;break;case "Edit":C.wH(this.identifier,"requirements",c);break;case "Add":a="Has Player Item;Is Player Statistics;Is Quest Point;Is Panel Visibility;Is Player Inventory Space;Script Requirement".split(";");switch(C.data.specifier){case "Tile":a.push("Is Event Fired By");break;case "NPC":a.push("Is NPC Statistics","Is NPC Actioning")}C.V.f(DropDownList.td(C,
C.hQ,a,d.M));C.cj=this.identifier;break;case "Use":C.k.Rp(c,C.Nc[c])}};this.jf[a].ca=ListView.create(this.jf[a]);this.jf[a].ca.hd(h[a]);this.jf[a].f(this.jf[a].ca);c[a].f(t);c[a].f(l);c[a].f(m);c[a].f(n)}a=p.aa.create(p.h(70,200,70,255),90,26);g=p.Q.create("+","Arial",20);g.l(45,13);g.F(p.a(0.5,0.5));a.l(p.a(334,0));a.Yb="Add";a.f(g);f.push([a]);c.push(a);this.D=this.b.main_panel.list;C=this;this.D.Xc=function(){for(var a=0,d=0;d<c.length;d++)a+=c[d].c().height;return p.size(758,a)};this.D.Oc=function(){return c.length};
this.D.fd=function(a){return c[a].c()};this.D.dd=function(a){return c[a]};this.D.ac=function(a,c,d){C.Ia(d.M);if(null==C.g)switch(a){case "Delete":var e="Delete";C.IS(c)&&(e="Delete (Will destroy all child events)");C.V.f(DropDownList.td(C,C.fR,["Cancel",e],d.M));C.ib=c;break;case "Add":a=["Default Interaction","On Examine","On Talk Close","On Talk Option Selected"];var f=[{enabled:!0},{enabled:!1},{enabled:!1},{enabled:!1}];for(e in C.data.data)if(C.data.data[e])for(var g=0;g<C.data.data[e].responses.length;g++)if("Talk"==
C.data.data[e].responses[g].type){f[2].enabled=!0;break}0==C.data.data.length&&(f[1].enabled=!1);C.AR()&&(f[3].enabled=!0);switch(C.data.specifier){case "Item":a.push("On Pickup","On Drop","On Dequip","On Trade");f.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0});break;case "Tile":a.push("Interact On","Interact Facing","Will Enter","On Enter","Will Leave","On Leave","On Come Near"),f.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0}),f[0].enabled=
!1}C.V.f(DropDownList.td(C,C.dQ,a,d.M,f));C.ib=c;break;case "Use":C.k.Rp(c,C.Nc[c])}};this.D.ca=ListView.create(this.D);this.D.ca.hd(f);this.D.f(this.D.ca)},mH:function(a){for(var c=0;c<this.data.data.length;c++)"On Talk Close"==this.data.data[c].type&&this.data.data[c].data.attachedEvent==a&&(this.mH(c),this.data.data.splice(c,1))},IS:function(a){for(var c=0;c<this.data.data.length;c++)if("On Talk Close"==this.data.data[c].type&&this.data.data[c].data.attachedEvent==a)return!0;return!1},AR:function(){for(var a=
0;a<this.data.data.length;a++)for(var c=0;c<this.data.data[a].responses.length;c++)if("Talk"==this.data.data[a].responses[c].type)return!0;return!1},fR:function(a){switch(a){case 1:null!=this.k.ib&&(this.k.mH(this.k.ib),this.k.data.data.splice(this.k.ib,1),this.k.gb(),this.k.ib=null)}},hR:function(a){switch(a){case 1:null!=this.k.ib&&(this.k.data.data[this.k.cj].responses.splice(this.k.ib,1),this.k.gb(),this.k.ib=null,this.k.cj=null)}},gR:function(a){switch(a){case 1:null!=this.k.ib&&(this.k.data.data[this.k.cj].requirements.splice(this.k.ib,
1),this.k.gb(),this.k.ib=null,this.k.cj=null)}},jQ:function(a){this.k.data.data.push({type:"On Talk Close",responses:[],requirements:[],data:{attachedEvent:a}});this.k.gb()},kQ:function(a,c){this.k.zD=a;for(var d=[],e=0;e<this.k.data.data[a].responses.length;e++)if("Talk"==this.k.data.data[a].responses[e].type)for(var f in this.k.data.data[a].responses[e].data.options)d.push(f+": "+this.k.data.data[a].responses[e].data.options[f]);this.V.f(DropDownList.td(this.k,this.k.KQ,d,c.M))},KQ:function(a){this.k.data.data.push({type:"On Talk Option Selected for event:"+
this.k.zD+", option:"+a,responses:[],requirements:[],data:{attachedEvent:this.k.zD,attachedOption:a}});this.k.gb();this.k.zD=null},dQ:function(a,c){var d="";switch(a){case 0:d="Default Event";break;case 1:d="On Examine";break;case 2:var d=[],e;for(e in this.k.data.data)if(this.k.data.data[e])for(var f=0;f<this.k.data.data[e].responses.length;f++)"Talk"==this.k.data.data[e].responses[f].type&&d.push(e+": "+this.k.data.data[e].type);this.V.f(DropDownList.td(this.k,this.k.jQ,d,c.M));return;case 3:d=
[];for(e in this.k.data.data)if(this.k.data.data[e])for(f=0;f<this.k.data.data[e].responses.length;f++)"Talk"==this.k.data.data[e].responses[f].type&&this.k.data.data[e].responses[f].data.options&&0<this.k.data.data[e].responses[f].data.options.length&&d.push(e+": "+this.k.data.data[e].type);this.V.f(DropDownList.td(this.k,this.k.kQ,d,c.M));return}if(""==d)switch(this.k.data.specifier){case "Item":switch(a){case 4:d="On Pickup";break;case 5:d="On Drop";break;case 6:d="On Dequip";break;case 7:d="On Trade"}break;
case "Tile":switch(a){case 4:d="Interact On";break;case 5:d="Interact Facing";break;case 6:d="Will Enter";break;case 7:d="On Enter";break;case 8:d="Will Leave";break;case 9:d="On Leave";break;case 10:d="On Come Near"}}this.k.data.data.push({type:d,responses:[],requirements:[],data:{}});this.k.gb()},iQ:function(a){var c="";switch(a){case 0:c="Talk";break;case 1:c="Destroy";break;case 2:c="Give /Take Item";break;case 3:c="Set Quest Point";break;case 4:c="Warp Player";break;case 5:c="Wait";break;case 6:c=
"Repeat Responses";break;case 7:c="Open/Close Panel";break;case 8:c="Modify Player Stats";break;case 9:c="Script Response"}if(""==c)switch(this.k.data.specifier){case "NPC":switch(a){case 10:c="Attack";break;case 11:c="Run Away";break;case 12:c="Defend";break;case 13:c="Modify NPC Stats"}break;case "Item":switch(a){case 10:c="Equip Item";break;case 11:c="Read Item"}break;case "Tile":switch(a){case 10:c="Block Entry";break;case 11:c="Add Layer Graphic"}}this.k.data.data[this.k.cj].responses.push({type:c,
data:{}});this.k.gb()},hQ:function(a){var c="";switch(a){case 0:c="Has Player Item";break;case 1:c="Is Player Statistics";break;case 2:c="Is Quest Point";break;case 3:c="Is Panel Visibility";break;case 4:c="Is Player Inventory Space";break;case 5:c="Script Requirement"}if(""==c)switch(this.k.data.specifier){case "Tile":switch(a){case 6:c="Is Event Fired By"}break;case "NPC":switch(a){case 6:c="Is NPC Statistics";break;case 7:c="Is NPC Actioning"}}this.k.data.data[this.k.cj].requirements.push({type:c,
data:{}});this.k.gb()},xc:function(){return{panels:{position:p.a(0,60),children:{background_image:{Z:"GUI/event_panel.png",d:p.a(0,0)},main_panel:{d:p.a(0,0),size:p.size(1E3,400),children:{list:{size:p.size(758,360),v:p.h(0,200,200,200),position:p.a(0,0),d:p.a(0,0)},okbtn:{position:p.a(4,364),size:p.size(32,32),Z:"GUI/tick_icon.png",d:p.a(0,0)},cancelbtn:{position:p.a(46,364),size:p.size(32,32),Z:"GUI/cross_icon.png",d:p.a(0,0)},defaultsbtn:{position:p.a(542,364),size:p.size(64,32),v:p.h(0,255,0,
255),d:p.a(0,0),children:{contents:{label:"Defaults",position:p.a(32,16),d:p.a(0.5,0.5),color:p.j(0,0,0)}}},specifier:{position:p.a(620,364),size:p.size(128,32),v:p.h(0,255,0,255),d:p.a(0,0),children:{contents:{label:"Includes: None",position:p.a(64,16),d:p.a(0.5,0.5),color:p.j(0,0,0)}}},namelbl:{label:"Name:",fontSize:20,d:p.a(0,0),position:p.a(110,368),color:p.j(0,0,0)},nameEntry:{position:p.a(180,364),size:p.size(340,32),v:p.h(255,255,255,255)}}},control_panel:{d:p.a(0,0),position:p.a(0,400),size:p.size(1E3,
32),children:{header:{label:"Script Editor",fontSize:20,d:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(976,6),size:p.size(20,20),d:p.a(0,0),Z:"GUI/close.png"}}},subEditorOver:{visible:!1,v:p.h(0,0,0,127),position:p.a(0,0),size:p.size(800,400)},mainEditorOver:{v:p.h(0,0,0,127),position:p.a(800,0),size:p.size(200,400)}}}}},wH:function(a,c,d){this.ka={event:a,listtype:c,id:d};this.Bn=this.data.data[a][c][d].type;this.lJ=K(this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data);this.Os()},
j9:function(a){this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data=K(a);this.vw();this.ka=null;this.gb()},i9:function(){this.vw();this.ka=null},defaultSelected:function(a,c){0<this.k.data.data.length?(this.k.jH=a,this.V.f(DropDownList.td(this.k,this.k.jR,["Cancel","Clear Script (Required)"],c.M))):this.k.MJ(a)},y1:function(){},KD:null,LD:null,MD:null,Gd:null,oJ:null,aJ:null,aj:null,bj:null,nx:null,Kl:null,Ll:null,Jl:null,px:null,qx:null,ox:null,iJ:null,Hn:0,ZI:null,JG:null,Ew:null,Bc:null,
vx:null,xR:function(a,c){var d={panels:{children:{editArea:{v:p.h(127,127,127,255),d:p.a(0,0),position:p.a(0,0),size:p.size(200,250)},editBox:{size:p.size(178,196),d:p.a(0,0),position:p.a(8,12)},okbtn:{position:p.a(62,210),size:p.size(32,32),Z:"GUI/tick_icon.png",d:p.a(0,0)},cancelbtn:{position:p.a(106,210),size:p.size(32,32),Z:"GUI/cross_icon.png",d:p.a(0,0)}}}};this.kg=va(d,!0);this.g.f(this.kg);this.xD=new $(this.kg.editBox,p.size(this.kg.editBox.c().width,this.kg.editBox.c().height),p.a(0,this.kg.editBox.c().height),
c?c:"\x3cEnter text\x3e",p.h(255,255,255),p.j(0,0,0),!0);this.xD.tb(!0);this.xD.Qc(!1);this.yD=a},Os:function(){this.g&&(this.g.L(),this.g=null);this.b.subEditorOver.w(!0);this.b.mainEditorOver.w(!1);var a={panels:{position:p.a(802,0),children:{}}},c=this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data;switch(this.Bn){case "Warp Player":a.panels.children={mapNumberLabel:{label:"Map ID",d:p.a(0,0),position:p.a(12,374)},mapNumberText:{v:p.h(255,255,255,255),d:p.a(0,0),position:p.a(12,340),
size:p.size(100,32)},mapXLabel:{label:"Map X",d:p.a(0,0),position:p.a(12,310)},mapXText:{v:p.h(255,255,255,255),d:p.a(0,0),position:p.a(12,276),size:p.size(80,32)},mapYLabel:{label:"Map Y",d:p.a(0,0),position:p.a(100,310)},mapYText:{v:p.h(255,255,255,255),d:p.a(0,0),position:p.a(100,276),size:p.size(80,32)}};break;case "Script Response":a.panels.children={sayLabelPre:{label:"Script:\n\nfunction resp(data){\n//data is { }",d:p.a(0,1),position:p.a(12,374),color:p.j(255,0,0)},sayLabelPost:{label:"};",
d:p.a(0,1),position:p.a(12,95),color:p.j(255,0,0)},sayText:{v:p.h(255,255,255,255),d:p.a(0,0),position:p.a(12,100),size:p.size(174,200)}};break;case "Script Requirement":a.panels.children={sayLabelPre:{label:"Script:\n\nfunction req(data,isAllow){\n//data is { }\n//isAllow defaults false",d:p.a(0,1),position:p.a(12,374),color:p.j(255,0,0)},sayLabelPost:{label:"return isAllow;\n};",d:p.a(0,1),position:p.a(12,95),color:p.j(255,0,0)},sayText:{v:p.h(255,255,255,255),d:p.a(0,0),position:p.a(12,100),size:p.size(174,
190)}};break;case "Read Item":a.panels.children={sayLabel:{label:"Say:",d:p.a(0,0),position:p.a(12,374)},sayText:{v:p.h(255,255,255,255),d:p.a(0,0),position:p.a(12,50),size:p.size(174,322)}};break;case "Talk":a.panels.children={sayLabel:{label:"Say:",d:p.a(0,0),position:p.a(12,374)},sayText:{v:p.h(255,255,255,255),d:p.a(0,0),position:p.a(12,274),size:p.size(174,100)},optionLabel:{label:"Options:",d:p.a(0,0),position:p.a(12,235)},optionList:{v:p.h(255,255,255,255),d:p.a(0,0),position:p.a(12,50),size:p.size(154,
185)}};break;case "Is Quest Point":case "Set Quest Point":a.panels.children={questLabel:{label:"Quest:",d:p.a(0,0),position:p.a(12,374)},questList:{v:p.h(255,255,255,255),d:p.a(0,0),position:p.a(12,230),size:p.size(154,135)},objectiveLabel:{label:"Objective:",d:p.a(0,0),position:p.a(12,189)},objectiveList:{v:p.h(255,255,255,255),d:p.a(0,0),position:p.a(12,50),size:p.size(154,135)}};break;case "Give /Take Item":case "Has Player Item":a.panels.children={itemsLabel:{label:"Item:",d:p.a(0,0),position:p.a(12,
374)},itemList:{v:p.h(255,255,255,255),d:p.a(0,0),position:p.a(12,230),size:p.size(154,135)},amountLabel:{label:"Amount:",d:p.a(0,0),position:p.a(12,189)},amountText:{v:p.h(255,255,255,255),d:p.a(0,0),position:p.a(12,153),size:p.size(154,32)},amountNote:{label:"Has Player Item"==this.Bn?"":"Use negative item amounts to take away. Use positive amounts to give.",d:p.a(0,1),position:p.a(12,145)}};break;case "Modify Player Stats":case "Modify NPC Stats":a.panels.children={skillsLabel:{label:"Skill:",
d:p.a(0,0),position:p.a(12,374)},skillList:{v:p.h(255,255,255,255),d:p.a(0,0),position:p.a(12,230),size:p.size(154,135)},levelLabel:{label:"Level Modify",d:p.a(0,0),position:p.a(12,205)},levelText:{v:p.h(255,255,255,255),d:p.a(0,0),position:p.a(12,169),size:p.size(154,32)},expLabel:{label:"XP Modify: (% allowed)",d:p.a(0,0),position:p.a(12,145)},expText:{v:p.h(255,255,255,255),d:p.a(0,0),position:p.a(12,109),size:p.size(154,32)},healthLabel:{label:"Health Modify: (% allowed)",d:p.a(0,0),position:p.a(12,
85)},healthText:{v:p.h(255,255,255,255),d:p.a(0,0),position:p.a(12,49),size:p.size(154,32)}};break;case "Is Panel Visibility":case "Open/Close Panel":a.panels.children={panelsLabel:{label:"Panel:",d:p.a(0,0),position:p.a(12,374)},panelList:{v:p.h(255,255,255,255),d:p.a(0,0),position:p.a(12,230),size:p.size(154,135)},visibleLabel:{label:"Visibility:",d:p.a(0,0),position:p.a(12,205)},visibleButton:{v:p.h(255,0,0,255),d:p.a(0,0),position:p.a(12,169),size:p.size(154,32),children:{content:{position:p.a(77,
16),d:p.a(0.5,0.5),label:"Invisible",color:p.j(0,0,0)}}}};break;case "Is Event Fired By":a.panels.children={objectLabel:{label:"Possible Types:",d:p.a(0,0),position:p.a(12,374)},objectList:{v:p.h(255,255,255,255),d:p.a(0,0),position:p.a(12,230),size:p.size(154,135)}};break;case "Is NPC Actioning":a.panels.children={actionLabel:{label:"Actions:",d:p.a(0,0),position:p.a(12,374)},actionList:{v:p.h(255,255,255,255),d:p.a(0,0),position:p.a(12,230),size:p.size(154,135)}};break;case "Is Player Inventory Space":a.panels.children=
{spaceLabel:{label:"Inventory Space",d:p.a(0,0),position:p.a(12,374)},spaceText:{v:p.h(255,255,255,255),d:p.a(0,0),position:p.a(12,340),size:p.size(100,32)}};break;case "Wait":a.panels.children={timeLabel:{label:"Time (Seconds)",d:p.a(0,0),position:p.a(12,374)},timeText:{v:p.h(255,255,255,255),d:p.a(0,0),position:p.a(12,340),size:p.size(100,32)}};break;case "Repeat Responses":a.panels.children={amountLabel:{label:"Repeat Amount",d:p.a(0,0),position:p.a(12,374)},amountText:{v:p.h(255,255,255,255),
d:p.a(0,0),position:p.a(12,340),size:p.size(100,32)},amountNote:{label:"Use 0 for infinite amount of repeats.",d:p.a(0,1),position:p.a(12,300)}};break;case "Is Player Statistics":case "Is NPC Statistics":a.panels.children={skillsLabel:{label:"Skill:",d:p.a(0,0),position:p.a(12,374)},skillList:{v:p.h(255,255,255,255),d:p.a(0,0),position:p.a(12,230),size:p.size(154,135)},levelLabel:{label:"Level Range",d:p.a(0,0),position:p.a(12,205)},levelDash:{label:"-",d:p.a(0,0),position:p.a(91,174)},levelTextLower:{v:p.h(255,
255,255,255),d:p.a(0,0),position:p.a(12,169),size:p.size(75,32)},levelTextUpper:{v:p.h(255,255,255,255),d:p.a(0,0),position:p.a(100,169),size:p.size(75,32)},expLabel:{label:"XP Range: (% allowed)",d:p.a(0,0),position:p.a(12,145)},expDash:{label:"-",d:p.a(0,0),position:p.a(91,114)},expTextLower:{v:p.h(255,255,255,255),d:p.a(0,0),position:p.a(12,109),size:p.size(75,32)},expTextUpper:{v:p.h(255,255,255,255),d:p.a(0,0),position:p.a(100,109),size:p.size(75,32)},healthLabel:{label:"Health Range: (% allowed)",
d:p.a(0,0),position:p.a(12,85)},healthDash:{label:"-",d:p.a(0,0),position:p.a(91,54)},healthTextLower:{v:p.h(255,255,255,255),d:p.a(0,0),position:p.a(12,49),size:p.size(75,32)},healthTextUpper:{v:p.h(255,255,255,255),d:p.a(0,0),position:p.a(100,49),size:p.size(75,32)}};break;case "Equip Item":a.panels.children={equipLabel:{label:"Equips To:",d:p.a(0,0),position:p.a(12,374)},headButton:{v:p.h(255,0,0,255),d:p.a(0,0),position:p.a(69,320),size:p.size(55,32),children:{content:{position:p.a(28,16),d:p.a(0.5,
0.5),label:"Head",color:p.j(0,0,0)}}},bodyButton:{v:p.h(255,0,0,255),d:p.a(0,0),position:p.a(69,280),size:p.size(55,32),children:{content:{position:p.a(28,16),d:p.a(0.5,0.5),label:"Body",color:p.j(0,0,0)}}},legButton:{v:p.h(255,0,0,255),d:p.a(0,0),position:p.a(69,240),size:p.size(55,32),children:{content:{position:p.a(28,16),d:p.a(0.5,0.5),label:"Legs",color:p.j(0,0,0)}}},feetButton:{v:p.h(255,0,0,255),d:p.a(0,0),position:p.a(69,200),size:p.size(55,32),children:{content:{position:p.a(28,16),d:p.a(0.5,
0.5),label:"Feet",color:p.j(0,0,0)}}},lArmButton:{v:p.h(255,0,0,255),d:p.a(0,0),position:p.a(10,280),size:p.size(55,32),children:{content:{position:p.a(28,16),d:p.a(0.5,0.5),label:"L Arm",color:p.j(0,0,0)}}},rArmButton:{v:p.h(255,0,0,255),d:p.a(0,0),position:p.a(128,280),size:p.size(55,32),children:{content:{position:p.a(28,16),d:p.a(0.5,0.5),label:"R Arm",color:p.j(0,0,0)}}},modButton:{v:p.h(255,0,0,255),d:p.a(0,0),position:p.a(10,160),size:p.size(55,32),children:{content:{position:p.a(28,16),d:p.a(0.5,
0.5),label:"Mod",color:p.j(0,0,0)}}}}}a.panels.children.okbtn={position:p.a(62,8),size:p.size(32,32),Z:"GUI/tick_icon.png",d:p.a(0,0)};a.panels.children.cancelbtn={position:p.a(106,8),size:p.size(32,32),Z:"GUI/cross_icon.png",d:p.a(0,0)};this.g=va(a,!0);this.b.f(this.g);switch(this.Bn){case "Warp Player":var d=a=1;c.index&&(a=c.index%P,d=Math.floor(c.index/P));this.KD=new $(this.g.mapNumberText,p.size(this.g.mapNumberText.c().width,this.g.mapNumberText.c().height),p.a(0,this.g.mapNumberText.c().height),
null!=c.mapnum&&"undefined"!==c.mapnum?c.mapnum:"0",p.h(255,255,255),p.j(0,0,0));this.KD.tb(!0);this.LD=new $(this.g.mapXText,p.size(this.g.mapXText.c().width,this.g.mapXText.c().height),p.a(0,this.g.mapXText.c().height),a,p.h(255,255,255),p.j(0,0,0));this.LD.tb(!0);this.MD=new $(this.g.mapYText,p.size(this.g.mapYText.c().width,this.g.mapYText.c().height),p.a(0,this.g.mapYText.c().height),d,p.h(255,255,255),p.j(0,0,0));this.MD.tb(!0);break;case "Read Item":this.Gd=new $(this.g.sayText,p.size(this.g.sayText.c().width,
this.g.sayText.c().height),p.a(0,this.g.sayText.c().height),c.say?c.say:"\x3cEnter text\x3e",p.h(255,255,255),p.j(0,0,0),!0);this.Gd.tb(!0);this.Gd.Qc(!1);break;case "Script Response":this.Gd=new $(this.g.sayText,p.size(this.g.sayText.c().width,this.g.sayText.c().height),p.a(0,this.g.sayText.c().height),c.functionContent?c.functionContent:"\x3cEnter text\x3e",p.h(255,255,255),p.j(0,0,0),!0);this.Gd.tb(!0);this.Gd.Qc(!1);break;case "Script Requirement":this.Gd=new $(this.g.sayText,p.size(this.g.sayText.c().width,
this.g.sayText.c().height),p.a(0,this.g.sayText.c().height),c.functionContent?c.functionContent:"\x3cEnter text\x3e",p.h(255,255,255),p.j(0,0,0),!0);this.Gd.tb(!0);this.Gd.Qc(!1);break;case "Talk":this.Gd=new $(this.g.sayText,p.size(this.g.sayText.c().width,this.g.sayText.c().height),p.a(0,this.g.sayText.c().height),c.say?c.say:"\x3cEnter text\x3e",p.h(255,255,255),p.j(0,0,0),!0);this.Gd.tb(!0);this.Gd.Qc(!1);var e=[],a=[],f=c.options?c.options:[];console.log(f);for(d=0;d<f.length;d++){e[d]=p.C.create();
var g=p.aa.create(p.h(0,0,0,127),154,1),h=p.Q.create(f[d],"Arial",15);h.m(p.j(0,0,0));h.F(p.a(0,0));h.l(p.a(4,4));h.Ab(p.size(104,0));e[d].R(154,h.c().height+8);var k=p.u.ab(p.ga.e().qa("GUI/edit.png"));k.l(p.a(130,0));k.F(p.a(0,0));k.Yb="Edit";k.Dc((h.c().height+8)/2-10);var l=p.u.ab(p.ga.e().qa("GUI/trash.png"));l.l(p.a(108,0));l.F(p.a(0,0));l.Yb="Delete";l.Dc((h.c().height+8)/2-10);a.push([k,l]);var m=p.aa.create(p.h(255,255,255,255),154,h.c().height+8);e[d].f(m);e[d].sc=m;e[d].f(g);e[d].f(h);
e[d].f(k);e[d].f(l)}d=p.aa.create(p.h(70,200,70,255),90,26);g=p.Q.create("+","Arial",20);g.l(45,13);g.F(p.a(0.5,0.5));d.l(p.a(34,0));d.Yb="Add";d.f(g);a.push([d]);e.push(d);var n=this;this.g.optionList.Xc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return p.size(154,a)};this.g.optionList.Oc=function(){return e.length};this.g.optionList.fd=function(a){return e[a].c()};this.g.optionList.dd=function(a){return e[a]};this.g.optionList.fi=function(a){return e[a].sc};this.g.optionList.ac=
function(a,d){if(!n.kg)switch(a){case "Add":c.options||(c.options=[]);c.options.push("\x3cEnter Text\x3e");c.say=n.Gd.X();n.g.optionList.ca.L();n.g.optionList.ca=null;n.Os();break;case "Delete":c.options.splice(d,1);c.say=n.Gd.X();n.g.L();n.g=null;n.Os();break;case "Edit":c.say=n.Gd.X(),n.xR(d,c.options[d]),n.g.optionList.ca.L(),n.g.optionList.ca=null}};this.g.optionList.ca=ListView.create(this.g.optionList);this.g.optionList.ca.hd(a);this.g.optionList.f(this.g.optionList.ca);break;case "Is Quest Point":case "Set Quest Point":e=
[];a=[];f=ObjectLists.rp();for(d=0;d<f.length;d++)e[d]=p.C.create(),g=p.aa.create(p.h(0,0,0,127),154,1),h=p.Q.create(f[d].name,"Arial",15),h.m(p.j(0,0,0)),h.F(p.a(0,0)),h.l(p.a(4,4)),h.Ab(p.size(126,0)),k=p.u.ab(p.ga.e().qa("GUI/use.png")),k.l(p.a(130,0)),k.F(p.a(0,0)),k.Yb="Use",e[d].R(154,h.c().height+8),k.Dc((h.c().height+8)/2-10),a.push([k]),m=p.aa.create(p.h(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].sc=m,e[d].f(g),e[d].f(h),e[d].f(k);n=this;this.g.questList.Xc=function(){for(var a=
0,c=0;c<e.length;c++)a+=e[c].c().height;return p.size(154,a)};this.g.questList.Oc=function(){return e.length};this.g.questList.fd=function(a){return e[a].c()};this.g.questList.dd=function(a){return e[a]};this.g.questList.fi=function(a){return e[a].sc};this.g.questList.ac=function(a,c){if("Use"==a){n.g.objectiveList.ca&&n.g.objectiveList.ca.L();this.ca.sc(c);n.oJ=c;for(var d=[],e=[],f=p.ga.e(),g=ObjectLists.rp()[c].objectiveList,h=0;h<g.length;h++){d[h]=p.C.create();var k=p.aa.create(p.h(0,0,0,127),
154,1);k.l(p.a(0,0));var l=p.Q.create(g[h],"Arial",15);l.m(p.j(0,0,0));l.F(p.a(0,0));l.l(p.a(4,4));l.Ab(p.size(126,0));var m=p.u.ab(f.qa("GUI/use.png"));m.l(p.a(130,0));m.F(p.a(0,0));m.Yb="Use";e.push([m]);d[h].R(126,l.c().height+8);m.Dc((l.c().height+8)/2-10);var ia=p.aa.create(p.h(255,255,255,255),154,l.c().height+8);d[h].f(ia);d[h].sc=ia;d[h].f(k);d[h].f(l);d[h].f(m)}n.g.objectiveList.Xc=function(){for(var a=0,c=0;c<d.length;c++)a+=d[c].c().height;return p.size(154,a)};n.g.objectiveList.Oc=function(){return d.length};
n.g.objectiveList.fi=function(a){return d[a].sc};n.g.objectiveList.fd=function(a){return d[a].c()};n.g.objectiveList.dd=function(a){return d[a]};n.g.objectiveList.ac=function(a,c){this.ca.sc(c);n.aJ=c};n.g.objectiveList.ca=ListView.create(n.g.objectiveList);n.g.objectiveList.ca.hd(e);n.g.objectiveList.f(n.g.objectiveList.ca)}};this.g.questList.ca=ListView.create(this.g.questList);this.g.questList.ca.hd(a);this.g.questList.f(this.g.questList.ca);null!=c.quest&&"undefined"!==c.quest&&(this.g.questList.ac("Use",
c.quest),null!=c.objective&&"undefined"!==c.objective&&this.g.objectiveList.ac("Use",c.objective));break;case "Give /Take Item":case "Has Player Item":this.g.amountNote.Ab(p.size(180,0));e=[];a=[];f=ObjectLists.Bf();for(d=0;d<f.length;d++)e[d]=p.C.create(),g=p.aa.create(p.h(0,0,0,127),154,1),h=p.Q.create(f[d].name,"Arial",15),h.m(p.j(0,0,0)),h.F(p.a(0,0)),h.l(p.a(4,4)),h.Ab(p.size(126,0)),k=p.u.ab(p.ga.e().qa("GUI/use.png")),k.l(p.a(130,0)),k.F(p.a(0,0)),k.Yb="Use",e[d].R(154,h.c().height+8),k.Dc((h.c().height+
8)/2-10),a.push([k]),m=p.aa.create(p.h(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].sc=m,e[d].f(g),e[d].f(h),e[d].f(k);n=this;this.g.itemList.Xc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return p.size(154,a)};this.g.itemList.Oc=function(){return e.length};this.g.itemList.fd=function(a){return e[a].c()};this.g.itemList.dd=function(a){return e[a]};this.g.itemList.fi=function(a){return e[a].sc};this.g.itemList.ac=function(a,c){"Use"==a&&(this.ca.sc(c),n.bj=c)};this.g.itemList.ca=
ListView.create(this.g.itemList);this.g.itemList.ca.hd(a);this.g.itemList.f(this.g.itemList.ca);null!=c.item&&"undefined"!==c.item&&this.g.itemList.ac("Use",c.item);this.aj=new $(this.g.amountText,p.size(this.g.amountText.c().width,this.g.amountText.c().height),p.a(0,this.g.amountText.c().height),c.amount?c.amount:"0",p.h(255,255,255),p.j(0,0,0));this.aj.tb(!0);this.aj.Qc(!1);break;case "Modify Player Stats":case "Modify NPC Stats":e=[];a=[];f=ObjectLists.uh();for(d=0;d<f.length;d++)e[d]=p.C.create(),
g=p.aa.create(p.h(0,0,0,127),154,1),h=p.Q.create(f[d].name,"Arial",15),h.m(p.j(0,0,0)),h.F(p.a(0,0)),h.l(p.a(4,4)),h.Ab(p.size(126,0)),k=p.u.ab(p.ga.e().qa("GUI/use.png")),k.l(p.a(130,0)),k.F(p.a(0,0)),k.Yb="Use",e[d].R(154,h.c().height+8),k.Dc((h.c().height+8)/2-10),a.push([k]),m=p.aa.create(p.h(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].sc=m,e[d].f(g),e[d].f(h),e[d].f(k);n=this;this.g.skillList.Xc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return p.size(154,a)};this.g.skillList.Oc=
function(){return e.length};this.g.skillList.fd=function(a){return e[a].c()};this.g.skillList.dd=function(a){return e[a]};this.g.skillList.fi=function(a){return e[a].sc};this.g.skillList.ac=function(a,c){"Use"==a&&(this.ca.sc(c),n.nx=c)};this.g.skillList.ca=ListView.create(this.g.skillList);this.g.skillList.ca.hd(a);this.g.skillList.f(this.g.skillList.ca);null!=c.skill&&"undefined"!==c.skill&&this.g.skillList.ac("Use",c.skill);this.Kl=new $(this.g.levelText,p.size(this.g.levelText.c().width,this.g.levelText.c().height),
p.a(0,this.g.levelText.c().height),c.level?c.level:"0",p.h(255,255,255),p.j(0,0,0));this.Kl.tb(!0);this.Kl.Qc(!1);this.Ll=new $(this.g.expText,p.size(this.g.expText.c().width,this.g.expText.c().height),p.a(0,this.g.expText.c().height),c.xp?c.xp:"0",p.h(255,255,255),p.j(0,0,0));this.Ll.tb(!0);this.Ll.Qc(!1);this.Jl=new $(this.g.healthText,p.size(this.g.healthText.c().width,this.g.healthText.c().height),p.a(0,this.g.healthText.c().height),c.health?c.health:"0",p.h(255,255,255),p.j(0,0,0));this.Jl.tb(!0);
this.Jl.Qc(!1);break;case "Is Panel Visibility":case "Open/Close Panel":e=[];a=[];f=["Inventory","Equipment","Skills","QuestLog"];for(d=0;d<f.length;d++)e[d]=p.C.create(),g=p.aa.create(p.h(0,0,0,127),154,1),h=p.Q.create(f[d],"Arial",15),h.m(p.j(0,0,0)),h.F(p.a(0,0)),h.l(p.a(4,4)),h.Ab(p.size(126,0)),k=p.u.ab(p.ga.e().qa("GUI/use.png")),k.l(p.a(130,0)),k.F(p.a(0,0)),k.Yb="Use",e[d].R(154,h.c().height+8),k.Dc((h.c().height+8)/2-10),a.push([k]),m=p.aa.create(p.h(255,255,255,255),154,h.c().height+8),
e[d].f(m),e[d].sc=m,e[d].f(g),e[d].f(h),e[d].f(k);n=this;this.g.panelList.Xc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return p.size(154,a)};this.g.panelList.Oc=function(){return e.length};this.g.panelList.fd=function(a){return e[a].c()};this.g.panelList.dd=function(a){return e[a]};this.g.panelList.fi=function(a){return e[a].sc};this.g.panelList.ac=function(a,c){"Use"==a&&(this.ca.sc(c),n.iJ=c)};this.g.panelList.ca=ListView.create(this.g.panelList);this.g.panelList.ca.hd(a);this.g.panelList.f(this.g.panelList.ca);
null!=c.panel&&"undefined"!==c.panel&&this.g.panelList.ac("Use",c.panel);this.Hn=1==c.visible?1:0;1==this.Hn&&(this.g.visibleButton.m(p.h(0,255,0,255)),this.g.visibleButton.content.fa("Visible"));break;case "Is Event Fired By":e=[];a=[];f=["Player","NPC"];for(d=0;d<f.length;d++)e[d]=p.C.create(),g=p.aa.create(p.h(0,0,0,127),154,1),h=p.Q.create(f[d],"Arial",15),h.m(p.j(0,0,0)),h.F(p.a(0,0)),h.l(p.a(4,4)),h.Ab(p.size(126,0)),k=p.u.ab(p.ga.e().qa("GUI/use.png")),k.l(p.a(130,0)),k.F(p.a(0,0)),k.Yb="Use",
e[d].R(154,h.c().height+8),k.Dc((h.c().height+8)/2-10),a.push([k]),m=p.aa.create(p.h(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].sc=m,e[d].f(g),e[d].f(h),e[d].f(k);n=this;this.g.objectList.Xc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return p.size(154,a)};this.g.objectList.Oc=function(){return e.length};this.g.objectList.fd=function(a){return e[a].c()};this.g.objectList.dd=function(a){return e[a]};this.g.objectList.fi=function(a){return e[a].sc};this.g.objectList.ac=function(a,
c){"Use"==a&&(this.ca.sc(c),n.ZI=c)};this.g.objectList.ca=ListView.create(this.g.objectList);this.g.objectList.ca.hd(a);this.g.objectList.f(this.g.objectList.ca);null!=c.object&&"undefined"!==c.object&&this.g.objectList.ac("Use",c.object);break;case "Is NPC Actioning":e=[];a=[];f=["Attacking","Defending","Fleeing"];for(d=0;d<f.length;d++)e[d]=p.C.create(),g=p.aa.create(p.h(0,0,0,127),154,1),h=p.Q.create(f[d],"Arial",15),h.m(p.j(0,0,0)),h.F(p.a(0,0)),h.l(p.a(4,4)),h.Ab(p.size(126,0)),k=p.u.ab(p.ga.e().qa("GUI/use.png")),
k.l(p.a(130,0)),k.F(p.a(0,0)),k.Yb="Use",e[d].R(154,h.c().height+8),k.Dc((h.c().height+8)/2-10),a.push([k]),m=p.aa.create(p.h(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].sc=m,e[d].f(g),e[d].f(h),e[d].f(k);n=this;this.g.actionList.Xc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return p.size(154,a)};this.g.actionList.Oc=function(){return e.length};this.g.actionList.fd=function(a){return e[a].c()};this.g.actionList.dd=function(a){return e[a]};this.g.actionList.fi=function(a){return e[a].sc};
this.g.actionList.ac=function(a,c){"Use"==a&&(this.ca.sc(c),n.JG=c)};this.g.actionList.ca=ListView.create(this.g.actionList);this.g.actionList.ca.hd(a);this.g.actionList.f(this.g.actionList.ca);null!=c.action&&"undefined"!==c.action&&this.g.actionList.ac("Use",c.action);break;case "Is Player Inventory Space":this.Ew=new $(this.g.spaceText,p.size(this.g.spaceText.c().width,this.g.spaceText.c().height),p.a(0,this.g.spaceText.c().height),null!=c.space&&"undefined"!==c.space?c.space:"0",p.h(255,255,255),
p.j(0,0,0));this.Ew.tb(!0);this.Ew.Qc(!1);break;case "Wait":this.vx=new $(this.g.timeText,p.size(this.g.timeText.c().width,this.g.timeText.c().height),p.a(0,this.g.timeText.c().height),null!=c.time&&"undefined"!==c.time?c.time:"0",p.h(255,255,255),p.j(0,0,0));this.vx.tb(!0);this.vx.Qc(!1);break;case "Repeat Responses":this.g.amountNote.Ab(p.size(180,0));this.QC=new $(this.g.amountText,p.size(this.g.amountText.c().width,this.g.amountText.c().height),p.a(0,this.g.amountText.c().height),null!=c.amount&&
"undefined"!==c.amount?c.amount:"1",p.h(255,255,255),p.j(0,0,0));this.QC.tb(!0);this.QC.Qc(!1);break;case "Is Player Statistics":case "Is NPC Statistics":e=[];a=[];f=ObjectLists.uh();for(d=0;d<f.length;d++)e[d]=p.C.create(),g=p.aa.create(p.h(0,0,0,127),154,1),h=p.Q.create(f[d].name,"Arial",15),h.m(p.j(0,0,0)),h.F(p.a(0,0)),h.l(p.a(4,4)),h.Ab(p.size(126,0)),k=p.u.ab(p.ga.e().qa("GUI/use.png")),k.l(p.a(130,0)),k.F(p.a(0,0)),k.Yb="Use",e[d].R(154,h.c().height+8),k.Dc((h.c().height+8)/2-10),a.push([k]),
m=p.aa.create(p.h(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].sc=m,e[d].f(g),e[d].f(h),e[d].f(k);n=this;this.g.skillList.Xc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return p.size(154,a)};this.g.skillList.Oc=function(){return e.length};this.g.skillList.fd=function(a){return e[a].c()};this.g.skillList.dd=function(a){return e[a]};this.g.skillList.fi=function(a){return e[a].sc};this.g.skillList.ac=function(a,c){"Use"==a&&(this.ca.sc(c),n.nx=c)};this.g.skillList.ca=ListView.create(this.g.skillList);
this.g.skillList.ca.hd(a);this.g.skillList.f(this.g.skillList.ca);null!=c.skill&&"undefined"!==c.skill&&this.g.skillList.ac("Use",c.skill);this.Kl=new $(this.g.levelTextLower,p.size(this.g.levelTextLower.c().width,this.g.levelTextLower.c().height),p.a(0,this.g.levelTextLower.c().height),null!=c.levelLower&&"undefined"!==c.levelLower&&""!=c.levelLower?c.levelLower:"0",p.h(255,255,255),p.j(0,0,0));this.Kl.tb(!0);this.Kl.Qc(!1);this.Ll=new $(this.g.expTextLower,p.size(this.g.expTextLower.c().width,this.g.expTextLower.c().height),
p.a(0,this.g.expTextLower.c().height),null!=c.xpLower&&"undefined"!==c.xpLower&&""!=c.xpLower?c.xpLower:"0",p.h(255,255,255),p.j(0,0,0));this.Ll.tb(!0);this.Ll.Qc(!1);this.Jl=new $(this.g.healthTextLower,p.size(this.g.healthTextLower.c().width,this.g.healthTextLower.c().height),p.a(0,this.g.healthTextLower.c().height),null!=c.healthLower&&"undefined"!==c.healthLower&&""!=c.healthLower?c.healthLower:"0",p.h(255,255,255),p.j(0,0,0));this.Jl.tb(!0);this.Jl.Qc(!1);this.px=new $(this.g.levelTextUpper,
p.size(this.g.levelTextUpper.c().width,this.g.levelTextUpper.c().height),p.a(0,this.g.levelTextUpper.c().height),null!=c.levelUpper&&"undefined"!==c.levelUpper&&""!=c.levelUpper?c.levelUpper:"0",p.h(255,255,255),p.j(0,0,0));this.px.tb(!0);this.px.Qc(!1);this.qx=new $(this.g.expTextUpper,p.size(this.g.expTextUpper.c().width,this.g.expTextUpper.c().height),p.a(0,this.g.expTextUpper.c().height),null!=c.xpUpper&&"undefined"!==c.xpUpper&&""!=c.xpUpper?c.xpUpper:"0",p.h(255,255,255),p.j(0,0,0));this.qx.tb(!0);
this.qx.Qc(!1);this.ox=new $(this.g.healthTextUpper,p.size(this.g.healthTextUpper.c().width,this.g.healthTextUpper.c().height),p.a(0,this.g.healthTextUpper.c().height),null!=c.healthUpper&&"undefined"!==c.healthUpper&&""!=c.healthUpper?c.healthUpper:"0",p.h(255,255,255),p.j(0,0,0));this.ox.tb(!0);this.ox.Qc(!1);break;case "Equip Item":null!=c.equip&&"undefined"!==c.equip?(this.Bc="head",this.kk(c.equip)):this.kk("head")}},vw:function(){this.b.subEditorOver.w(!1);this.b.mainEditorOver.w(!0);this.Bn=
null;this.g.L();this.g=null},MJ:function(a){switch(a){case 0:this.yn(1,!0);this.data.data=[{type:"Will Enter",responses:[{type:"Block Entry",data:{}}],requirements:[],data:{}}];break;case 1:this.yn(1,!0);this.data.data=[{type:"On Enter",responses:[{type:"Warp Player",data:{}}],requirements:[],data:{}}];break;case 2:this.yn(1,!0);this.data.data=[{type:"Default Event",responses:[{type:"Show Sign",data:{}}],requirements:[],data:{}}];break;case 3:this.yn(1,!0);this.data.data=[{type:"Will Enter",responses:[{type:"Block Entry",
data:{}}],requirements:[{objectType:"NPC"}],data:{}}];break;case 4:this.yn(1,!0),this.data.data=[{type:"On Enter",responses:[{type:"Allow PVP",data:{}}],requirements:[],data:{}}]}this.gb()},yn:function(a,c){switch(a){case 0:this.data.specifier="Item";this.b.main_panel.specifier.contents.fa("Includes: Item");break;case 1:this.data.specifier="Tile";this.b.main_panel.specifier.contents.fa("Includes: Tile");break;case 2:this.data.specifier="NPC";this.b.main_panel.specifier.contents.fa("Includes: NPC");
break;case 3:this.data.specifier="None",this.b.main_panel.specifier.contents.fa("Includes: None")}this.data.data=[];c||this.gb()},kR:function(a){1==a&&this.k.yn(this.k.IK)},jR:function(a){1==a&&this.k.MJ(this.k.jH)},kk:function(a){this.g.headButton.m(p.h(255,255,255,255));this.g.bodyButton.m(p.h(255,255,255,255));this.g.legButton.m(p.h(255,255,255,255));this.g.feetButton.m(p.h(255,255,255,255));this.g.lArmButton.m(p.h(255,255,255,255));this.g.rArmButton.m(p.h(255,255,255,255));this.g.modButton.m(p.h(255,
255,255,255));switch(a){case "head":this.Bc=a;this.g.headButton.m(p.h(255,0,0,255));return;case "body":this.Bc=a;this.g.bodyButton.m(p.h(255,0,0,255));return;case "legs":this.Bc=a;this.g.legButton.m(p.h(255,0,0,255));return;case "feet":this.Bc=a;this.g.feetButton.m(p.h(255,0,0,255));return;case "mod":this.Bc=a;this.g.modButton.m(p.h(255,0,0,255));return;case "bothArms":this.Bc=a;this.g.lArmButton.m(p.h(255,0,0,255));this.g.rArmButton.m(p.h(255,0,0,255));return}"bothArms"!=this.Bc&&"lArm"!=this.Bc&&
"rArm"!=this.Bc&&"lArm"==a?(this.g.lArmButton.m(p.h(255,0,0,255)),this.Bc="lArm"):"bothArms"!=this.Bc&&"lArm"!=this.Bc&&"rArm"!=this.Bc&&"rArm"==a?(this.g.rArmButton.m(p.h(255,0,0,255)),this.Bc="rArm"):"rArm"==this.Bc&&"lArm"==a?(this.g.lArmButton.m(p.h(255,0,0,255)),this.g.rArmButton.m(p.h(255,0,0,255)),this.Bc="bothArms"):"lArm"==this.Bc&&"rArm"==a?(this.g.lArmButton.m(p.h(255,0,0,255)),this.g.rArmButton.m(p.h(255,0,0,255)),this.Bc="bothArms"):"bothArms"==this.Bc&&"rArm"==a?(this.g.lArmButton.m(p.h(255,
0,0,255)),this.Bc="lArm"):"bothArms"==this.Bc&&"lArm"==a&&(this.g.rArmButton.m(p.h(255,0,0,255)),this.Bc="rArm")},UW:function(a,c){if(0<this.k.data.data.length)return this.k.IK=a,this.V.f(DropDownList.td(this.k,this.k.kR,["Cancel","Clear Script (Required)"],c.M)),!1;this.k.yn(a)},lb:function(a){if(this._super(a))return!0;this.Vd=null;var c=a.M;if(this.kg){var d=this.kg.Ia(c);if(J(this.kg.okbtn,d)){switch(this.Bn){case "Talk":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data.options[this.yD]=
this.xD.X(),this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data.say=this.Gd.X()}this.kg.L();this.yD=this.kg=null;this.Os();return}if(J(this.kg.cancelbtn,d)){this.kg.L();this.yD=this.kg=null;this.Os();return}}if(this.g){d=this.g.Ia(c);if(J(this.g.okbtn,d)){switch(this.Bn){case "Warp Player":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data={mapnum:parseInt(this.KD.X()),index:Q(parseInt(this.LD.X()),O-parseInt(this.MD.X()))};break;case "Read Item":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data=
{say:this.Gd.X()};break;case "Script Response":case "Script Requirement":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data.functionContent=this.Gd.X();break;case "Talk":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data.say=this.Gd.X();break;case "Is Quest Point":case "Set Quest Point":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data={quest:this.oJ,objective:this.aJ};break;case "Give /Take Item":case "Has Player Item":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data=
{item:this.bj,amount:parseInt(this.aj.X())};break;case "Modify Player Stats":case "Modify NPC Stats":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data={skill:this.nx,level:parseInt(this.Kl.X()),xp:parseInt(this.Ll.X()),health:parseInt(this.Jl.X())};break;case "Is Panel Visibility":case "Open/Close Panel":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data={panel:this.iJ,visible:this.Hn};break;case "Is Event Fired By":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data=
{object:this.ZI};break;case "Is NPC Actioning":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data={action:this.JG};break;case "Is Player Inventory Space":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data={space:parseInt(this.Ew.X())};break;case "Wait":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data={time:parseInt(this.vx.X())};break;case "Repeat Responses":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data={amount:parseInt(this.QC.X())};
break;case "Is Player Statistics":case "Is NPC Statistics":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data={skill:this.nx,levelLower:parseInt(this.Kl.X()),xpLower:parseInt(this.Ll.X()),healthLower:parseInt(this.Jl.X()),levelUpper:parseInt(this.px.X()),xpUpper:parseInt(this.qx.X()),healthUpper:parseInt(this.ox.X())};break;case "Equip Item":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data={equip:this.Bc}}this.vw();return!0}if(this.g.headButton&&J(this.g.headButton,d))return this.kk("head"),
!0;if(this.g.bodyButton&&J(this.g.bodyButton,d))return this.kk("body"),!0;if(this.g.legButton&&J(this.g.legButton,d))return this.kk("legs"),!0;if(this.g.feetButton&&J(this.g.feetButton,d))return this.kk("feet"),!0;if(this.g.lArmButton&&J(this.g.lArmButton,d))return this.kk("lArm"),!0;if(this.g.rArmButton&&J(this.g.rArmButton,d))return this.kk("rArm"),!0;if(this.g.modButton&&J(this.g.modButton,d))return this.kk("mod"),!0;if(this.g.visibleButton&&J(this.g.visibleButton,d))return this.Hn=0==this.Hn?
1:0,this.g.visibleButton.m(0==this.Hn?p.h(255,0,0,255):p.h(0,255,0,255)),this.g.visibleButton.content.fa(0==this.Hn?"Invisible":"Visible"),!0;if(J(this.g.cancelbtn,d))return console.log(this.lJ),this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data=K(this.lJ),this.vw(),!0}else{d=this.b.main_panel.Ia(c);if(J(this.b.main_panel.defaultsbtn,d))return this.V.f(DropDownList.td(this,this.defaultSelected,"Block Player;Warp Player;Show Sign;Spawn NPC;Spawn Item;Block NPC;PVP Area".split(";"),a.M)),
!0;if(J(this.b.main_panel.specifier,d))return this.V.f(DropDownList.td(this,this.UW,["Item","Tile","NPC","None"],a.M)),!0;if(J(this.b.main_panel.okbtn,d)){if(null==this.fb.X()||""==this.fb.X())return!0;this.data.name=this.fb.X();this.Lg=!0;this.k.Qd(this.data);return!0}if(J(this.b.main_panel.cancelbtn,d)){this.Lg=!0;var e=this.k;this.k.Zc(function(){e.Qd(null)});return!0}return J(this.b.main_panel,d)?!0:!1}}});Itemeditor=null;
ItemEditor=Popup.extend({Tb:y[0].name,U:0,Rp:function(a,c){Scripteditor&&(Scripteditor.wa(),Scripteditor.L(),this.Yd=a,this.Vb(!0),this.b.main_panel.scriptbtn.text.fa(c.name),this.b.main_panel.scriptbtn.m(p.h(0,255,0,255)))},fD:function(){this.b.main_panel.scriptbtn.text.fa("None");this.b.main_panel.scriptbtn.m(p.h(255,0,0,255))},xc:function(){return{panels:{position:p.a(300,10),children:{background:{Z:"GUI/itemeditor_bg.png",d:p.a(0,0)},main_panel:{d:p.a(0,0),position:p.a(0,0),size:p.size(500,330),
children:{namelbl:{label:"Name:",fontSize:20,d:p.a(0,0),position:p.a(4,292),color:p.j(0,0,0)},name_entry:{position:p.a(74,292),size:p.size(266,32),v:p.h(255,255,255,255)},tiles:{d:p.a(0,1),position:p.a(16,272),Z:y[0].name},textureleftbtn:{position:p.a(362,292),size:p.size(16,32),Z:"GUI/texture_change_left.png",d:p.a(0,0)},texturerightbtn:{position:p.a(471,292),size:p.size(16,32),Z:"GUI/texture_change_right.png",d:p.a(0,0)},textureName:{position:p.a(375,292),size:p.size(96,32),Z:"GUI/texture_change_middle.png",
d:p.a(0,0),children:{text:{label:y[0].name,fontSize:12,d:p.a(0.5,0.5),position:p.a(48,16),color:p.j(0,0,0)}}},leftbtn:{position:p.a(0,16),size:p.size(16,256),v:p.h(0,0,255,255),d:p.a(0,0),children:{text:{label:"\x3c",fontSize:12,d:p.a(0.5,0.5),position:p.a(8,160),color:p.j(255,255,255)}}},rightbtn:{position:p.a(336,16),size:p.size(16,256),v:p.h(0,0,255,255),d:p.a(0,0),children:{text:{label:"\x3e",fontSize:12,d:p.a(0.5,0.5),position:p.a(8,160),color:p.j(255,255,255)}}},upbtn:{position:p.a(16,272),
size:p.size(320,16),v:p.h(0,0,255,255),d:p.a(0,0),children:{text:{label:"^",fontSize:12,d:p.a(0.5,0.5),position:p.a(160,8),color:p.j(255,255,255)}}},downbtn:{position:p.a(16,0),size:p.size(320,16),v:p.h(0,0,255,255),d:p.a(0,0),children:{text:{label:"v",fontSize:12,d:p.a(0.5,0.5),position:p.a(160,8),color:p.j(255,255,255)}}},stacklbl:{label:"Stackable:",fontSize:12,d:p.a(0,0),position:p.a(360,206),color:p.j(0,0,0)},stackbtn:{position:p.a(360,176),size:p.size(128,26),v:F,d:p.a(0,0),children:{text:{label:"No",
fontSize:12,d:p.a(0.5,0.5),position:p.a(64,13),color:p.j(0,0,0)}}},scriptlbl:{label:"Script:",fontSize:12,d:p.a(0,0),position:p.a(360,262),color:p.j(0,0,0)},scriptbtn:{position:p.a(360,232),size:p.size(128,26),v:F,d:p.a(0,0),children:{text:{label:"None",fontSize:12,d:p.a(0.5,0.5),position:p.a(64,13),color:p.j(0,0,0)}}},highlightnode:{d:p.a(0,0),position:p.a(0,0),size:p.size(32,32),v:p.h(255,100,100,255)},selectednode:{d:p.a(0,0),position:p.a(0,0),size:p.size(32,32),v:p.h(100,255,100,255)},okbtn:{position:p.a(434,
16),size:p.size(32,32),Z:"GUI/tick_icon.png",d:p.a(0,0)},cancelbtn:{position:p.a(384,16),size:p.size(32,32),Z:"GUI/cross_icon.png",d:p.a(0,0)}}},control_panel:{d:p.a(0,0),position:p.a(0,330),size:p.size(500,32),children:{header:{label:"Item Editor",fontSize:20,d:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(476,6),size:p.size(20,20),d:p.a(0,0),Z:"GUI/close.png"}}}}}}},Cc:function(){return"itemEditor"},fb:null,k:null,data:null,Yd:null,r:function(a){this._super();this.data={sprite:{texture:y[0].name,
position:{x:0,y:0}},script:null,stackable:!1,name:""};this.Tb=y[0].name;this.U=0;this.Yd=this.k=this.fb=null;this.K=p.a(0,0);this.k=a.k;a&&a.data&&(this.data=a.data,this.data.script&&(this.Yd=this.data.script))},jk:function(a){A({saveitems:a+"",itemdata:this.data})},ak:function(a,c){A({saveitemswhole:c})},oa:function(){this._super();this.b.main_panel.highlightnode.pa(0);this.b.main_panel.selectednode.pa(127);for(var a in y)y[a].name==this.data.sprite.texture&&(this.U=a,this.Tb=y[a].name);this.b.main_panel.textureName.text.fa(this.Tb);
this.b.main_panel.tiles.ia(y[this.U].texture);null!=this.data.script&&(this.b.main_panel.scriptbtn.m(p.h(0,255,0,255)),this.b.main_panel.scriptbtn.text.fa(ObjectLists.Wi()[this.data.script].name),this.Yd=this.data.script);for(a=this.data.sprite.position.x;10<=a;)a--,this.K.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.K.y++;a=p.a(32*(this.data.sprite.position.x-this.K.x),32*(this.data.sprite.position.y-this.K.y));this.b.main_panel.selectednode.l(this.b.main_panel.tiles.p.x+a.x,this.b.main_panel.tiles.p.y-
(a.y+32));this.fb=new $(this.b.main_panel.name_entry,p.size(this.b.main_panel.name_entry.c().width,this.b.main_panel.name_entry.c().height),p.a(0,this.b.main_panel.name_entry.c().height),this.data.name?this.data.name:"",p.h(255,255,255),p.j(0,0,0));this.fb.tb(!0);this.b.main_panel.stackbtn.m(F);this.b.main_panel.stackbtn.text.fa("No");!0==this.data.stackable&&(this.b.main_panel.stackbtn.m(qa),this.b.main_panel.stackbtn.text.fa("Yes"));this.mb()},wa:function(a){this._super();if(this.k){var c=this.k;
!0!=a&&this.k.Zc(function(){c.Qd(null)})}},dj:function(a){a=a.M;this.b.main_panel.highlightnode.pa(0);a=this.b.main_panel.tiles.Ia(a);if(0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tiles.c().width&&a.y<=this.b.main_panel.tiles.c().height)return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+16,this.b.main_panel.highlightnode.pa(127),this.b.main_panel.highlightnode.l(a),!0},mb:function(){this.bc(this.mb);this.b.main_panel.tiles.ea()&&!0==this.b.main_panel.tiles.ea().vc&&(this.Sc(this.mb),this.b.main_panel.tiles.Ub(p.rect(Math.floor(32*
this.K.x),Math.floor(32*this.K.y),320>y[this.U].texture.c().width?y[this.U].texture.c().width:320,256>y[this.U].texture.c().height?y[this.U].texture.c().height:256)))},lb:function(a){if(this._super(a))return!0;this.Vd=null;a=a.M;var c=this.b.main_panel.Ia(p.a(a.x,a.y));if(J(this.b.main_panel.okbtn,c)){if(null==this.fb.X()||""==this.fb.X())return!0;this.Lg=!0;this.data.name=this.fb.X();this.data.script=this.Yd;this.k.Qd(this.data);return!0}J(this.b.main_panel.scriptbtn,c)&&(Scripteditor?(Scripteditor.wa(),
Scripteditor.L(),Scripteditor=null):(Scripteditor=new PopupList,Scripteditor.r({k:this,Ig:new ScriptEditor,list:ObjectLists.Wi(),name:"Script List"}),Scripteditor.oa(),this.f(Scripteditor)));if(J(this.b.main_panel.cancelbtn,c)){this.Lg=!0;var d=this.k;this.k.Zc(function(){d.Qd(null)});return!0}if(J(this.b.main_panel.leftbtn,c))return 264<y[this.U].texture.c().width&&0<this.K.x&&(this.K.x--,this.mb()),!0;if(J(this.b.main_panel.rightbtn,c))return 320<y[this.U].texture.c().width&&this.K.x<(y[this.U].texture.c().width-
320)/32&&(this.K.x++,this.mb()),!0;if(J(this.b.main_panel.upbtn,c))return 320<y[this.U].texture.c().height&&0<this.K.y&&(this.K.y--,this.mb()),!0;if(J(this.b.main_panel.downbtn,c))return 320<y[this.U].texture.c().height&&this.K.y<(y[this.U].texture.c().height-320)/32&&(this.K.y++,this.mb()),!0;if(J(this.b.main_panel.texturerightbtn,c))return this.Fn(),!0;if(J(this.b.main_panel.textureleftbtn,c))return this.Gn(),!0;if(J(this.b.main_panel.stackbtn,c))return this.PK(),!0;if(J(this.b.main_panel.scriptbtn,
c))return this.p9(),!0;c=this.b.main_panel.tiles.Ia(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tiles.c().width&&c.y<=this.b.main_panel.tiles.c().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+16;this.b.main_panel.selectednode.pa(0);if(this.b.main_panel.selectednode.p.G!=c.x||this.b.main_panel.selectednode.p.O!=c.y)this.b.main_panel.selectednode.pa(127),this.b.main_panel.selectednode.l(c);a=p.a((this.b.main_panel.selectednode.p.G-16)/32+this.K.x,8-(this.b.main_panel.selectednode.p.O-16)/32+this.K.y-1);
this.data.sprite.position=a;return!0}return!1},PK:function(){this.data.stackable=!this.data.stackable;this.b.main_panel.stackbtn.m(F);this.b.main_panel.stackbtn.text.fa("No");!0==this.data.stackable&&(this.b.main_panel.stackbtn.m(qa),this.b.main_panel.stackbtn.text.fa("Yes"))},Fn:function(){this.U>=y.length-1&&(this.U=-1);this.U++;this.b.main_panel.tiles.ia(y[this.U].texture);this.Tb=y[this.U].name;this.b.main_panel.textureName.text.fa(this.Tb);this.data.sprite.texture=this.Tb;this.K=p.a(0,0);this.mb()},
Gn:function(){0>=this.U&&(this.U=y.length);this.U--;this.b.main_panel.tiles.ia(y[this.U].texture);this.Tb=y[this.U].name;this.b.main_panel.textureName.text.fa(this.Tb);this.K=p.a(0,0);this.mb()}});Settingseditor=null;
SettingsEditor=Popup.extend({data:null,D:null,ib:null,Cc:function(){return"Settings Editor"},wa:function(){this._super()},r:function(){this._super();this.data=K(I)},jk:function(a){A({savequests:a+"",questdata:this.data})},ak:function(a,c){A({savequestswhole:c})},oa:function(){this._super();this.gb()},gb:function(){this.D&&this.D.$b();var a=[],c=[],d=p.ga.e(),e=0,f;for(f in this.data){if("ISSECTION"!=this.data[f]){a[e]=p.C.create();a[e].R(324,32);var g=p.Q.create(f,"Arial",18);g.F(p.a(0,0));g.l(p.a(4,
0));g.Ab(p.size(246,0));g.m(p.j(100,0,0));a[e].f(g);a[e].R(324,g.c().height+4);g=[];c.push(g);e++}a[e]=p.C.create();a[e].R(324,32);var h=p.aa.create(p.h(0,0,0,127),316,1);h.l(p.a(4,0));if("ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]){var k=p.u.ab(d.qa("GUI/edit.png"));k.l(p.a(300,0));k.F(p.a(0,0))}if("ISSECTION"==this.data[f]){var l=p.Q.create(f,"Arial",22);l.m(p.j(255,0,0))}else l=p.Q.create(this.data[f],"Arial",15),l.m(p.j(0,0,0));l.F(p.a(0,0));l.l(p.a(4,4));l.Ab(p.size(246,0));g=[];"ISSECTION"!=
this.data[f]&&"ISYESNO"!=this.data[f]&&(k.Yb="Edit",g=[],g.push(k));c.push(g);a[e].f(h);"ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]&&a[e].f(k);a[e].f(l);"ISSECTION"==this.data[f]?a[e].R(324,l.c().height+12):a[e].R(324,l.c().height+8);"ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]&&k.Dc((l.c().height+8)/2-10);e++}this.D=this.b.main_panel.list;var m=this;this.D.Xc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return p.size(324,c)};this.D.Oc=function(){return a.length};this.D.fd=
function(c){return a[c].c()};this.D.dd=function(c){return a[c]};this.D.ac=function(a,c,d){m.Ia(d.M);if(!0!=m.zn)switch(a){case "Edit":a=0;d="";for(var e in m.data){if(a==c){d=e;break}a++;if("ISSECTION"!=m.data[e]){if(a==c){d=e;break}a++}}m.ib=d;m.GB(d)}};this.D.ca=ListView.create(this.D);this.D.ca.hd(c);this.D.f(this.D.ca)},xc:function(){return{panels:{position:p.a(300,200),children:{background_image:{Z:"GUI/list_panel.png",d:p.a(0,0)},main_panel:{d:p.a(0,0),size:p.size(365,328),children:{savebtn:{size:p.size(64,
32),v:p.h(0,255,0,255),position:p.a(241,292),d:p.a(0,0),children:{content:{label:"Save",color:p.j(0,0,0),position:p.a(32,16),d:p.a(0.5,0.5)}}},list:{size:p.size(324,284),v:p.h(0,200,200,200),position:p.a(0,0),d:p.a(0,0)}}},control_panel:{d:p.a(0,0),position:p.a(0,328),size:p.size(365,32),children:{header:{label:"Settings Editor",fontSize:20,d:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(337,6),size:p.size(20,20),d:p.a(0,0),Z:"GUI/close.png"}}}}}}},gf:null,Ca:null,GB:function(a){null!=this.Ca&&
(this.Ca.$b(),this.gf=null,this.Ca.L(),this.ib=this.Ca=null);this.Ca=p.aa.create(p.h(255,255,255,200),200,200);this.Ca.l(p.a((this.b.main_panel.c().width-200)/2,(this.b.main_panel.c().height-200)/2));this.gf=new $(this.Ca,p.size(190,150),p.a(0,this.Ca.c().height),this.data[a],p.h(100,100,100),p.j(255,255,255),!0);this.gf.tb(!0);this.gf.PJ(!0);a=p.aa.create(p.h(0,200,255,255),64,32);a.l(p.a(14,9));var c=p.Q.create("OK","Arial",16);c.m(p.j(0,0,0));c.l(32,16);c.F(p.a(0.5,0.5));a.f(c);c=p.aa.create(p.h(200,
0,0,255),64,32);c.l(p.a(120,9));var d=p.Q.create("Cancel","Arial",16);d.m(p.j(0,0,0));d.l(32,16);d.F(p.a(0.5,0.5));c.f(d);this.b.main_panel.f(this.Ca);this.Ca.f(a);this.Ca.wC=a;this.Ca.f(c);this.Ca.cancel=c},lb:function(a){if(this._super(a))return!0;this.Vd=null;a=a.M;if(null!=this.Ca){a=this.Ca.Ia(a);if(J(this.Ca.wC,a))return this.data[this.ib]=this.gf.X(),this.Ca.$b(),this.gf=null,this.Ca.L(),this.ib=this.Ca=null,this.gb(),!0;J(this.Ca.cancel,a)&&(this.Ca.$b(),this.gf=null,this.Ca.L(),this.ib=this.Ca=
null);return!0}a=this.b.main_panel.Ia(a);return J(this.b.main_panel.savebtn,a)?(I=K(this.data),console.log(I),console.log(this.data),A({savesettings:this.data}),V.ED(this.data,Date.now()),!0):J(this.b.main_panel,a)?!0:!1}});Questeditor=null;
QuestEditor=Popup.extend({data:null,D:null,k:null,ib:null,Cc:function(){return"Quest Editor"},wa:function(a){this._super();if(this.k){var c=this.k;!0!=a&&this.k.Zc(function(){c.Qd(null)})}},r:function(a){this._super();this.data={name:"",objectiveList:["Unstarted","Initial Objective. Click edit to change this first objective. Click the '+' to add another object. You cannot delete every objective (you need at least one)","Finished"]};this.k=a.k;a&&a.data&&(this.data=a.data)},jk:function(a){A({savequests:a+"",
questdata:this.data})},ak:function(a,c){A({savequestswhole:c})},oa:function(){this._super();this.gb();this.fb=new $(this.b.main_panel.nameBox,p.size(this.b.main_panel.nameBox.c().width,this.b.main_panel.nameBox.c().height),p.a(0,this.b.main_panel.nameBox.c().height),this.data.name?this.data.name:"",p.h(255,255,255,255),p.j(0,0,0));this.fb.tb(!0)},gb:function(){this.D&&this.D.$b();var a=[],c=[],d=p.ga.e();this.kH={};var e;console.log(this.data.objectiveList);for(e=0;e<this.data.objectiveList.length-
1;e++)if(a[e]=p.C.create(),a[e].R(324,32),null==this.data.objectiveList[e])this.data.objectiveList.splice(e,1);else{var f=p.aa.create(p.h(0,0,0,127),316,1);f.l(p.a(4,0));var g=p.u.ab(d.qa("GUI/edit.png"));g.l(p.a(272,0));g.F(p.a(0,0));var h=p.u.ab(d.qa("GUI/trash.png"));h.l(p.a(300,0));h.F(p.a(0,0));var k=p.Q.create(this.data.objectiveList[e],"Arial",15);k.F(p.a(0,0));k.l(p.a(4,4));k.Ab(p.size(246,0));k.m(p.j(0,0,0));if(0<e){g.Yb="Edit";var l=[];l.push(g)}1<e&&(h.Yb="Delete",l.push(h));c.push(l);
a[e].f(f);0<e&&a[e].f(g);1<e&&a[e].f(h);a[e].f(k);a[e].R(324,k.c().height+8);g.Dc((k.c().height+8)/2-10);h.Dc((k.c().height+8)/2-10)}d=p.aa.create(p.h(70,200,70,255),90,26);f=p.Q.create("+","Arial",20);f.l(45,13);f.F(p.a(0.5,0.5));d.l(p.a(120,0));d.Yb="Add";d.f(f);c.push([d]);a.push(d);a[e+1]=p.C.create();a[e+1].R(324,32);f=p.aa.create(p.h(0,0,0,127),316,1);f.l(p.a(4,0));console.log(this.data.objectiveList[e]);k=p.Q.create(this.data.objectiveList[e],"Arial",15);k.F(p.a(0,0));k.l(p.a(4,4));k.Ab(p.size(246,
0));k.m(p.j(0,0,0));c.push([]);a[e+1].f(f);a[e+1].f(k);a[e+1].R(324,k.c().height+8);g.Dc((k.c().height+8)/2-10);h.Dc((k.c().height+8)/2-10);delete e;this.D=this.b.main_panel.list;var m=this;this.D.Xc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return p.size(324,c)};this.D.Oc=function(){return a.length};this.D.fd=function(c){return a[c].c()};this.D.dd=function(c){return a[c]};this.D.ac=function(a,c,d){m.Ia(d.M);if(!0!=m.zn)switch(a){case "Delete":null!=m.Ca&&(m.Ca.$b(),m.gf=null,m.Ca.L(),
m.Ca=null,m.ib=null);m.V.f(DropDownList.td(m,m.yB,["Cancel","Delete"],d.M));m.ib=c;break;case "Edit":m.ib=c;m.GB(c);break;case "Add":m.eQ()}};this.D.ca=ListView.create(this.D);this.D.ca.hd(c);this.D.f(this.D.ca)},xc:function(){return{panels:{position:p.a(300,200),children:{background_image:{Z:"GUI/list_panel.png",d:p.a(0,0)},main_panel:{d:p.a(0,0),size:p.size(365,328),children:{nameLabel:{label:"Quest Name",color:p.j(0,0,0),position:p.a(8,312),d:p.a(0,0)},nameBox:{size:p.size(150,32),v:p.h(255,255,
255,255),position:p.a(8,277),d:p.a(0,0)},savebtn:{size:p.size(64,32),v:p.h(0,255,0,255),position:p.a(175,277),d:p.a(0,0),children:{content:{label:"Save",color:p.j(0,0,0),position:p.a(32,16),d:p.a(0.5,0.5)}}},exitbtn:{size:p.size(64,32),v:p.h(255,0,0,255),position:p.a(253,277),d:p.a(0,0),children:{content:{label:"Exit",color:p.j(0,0,0),position:p.a(32,16),d:p.a(0.5,0.5)}}},objectivesLabel:{label:"Objectives",color:p.j(0,0,0),position:p.a(8,254),d:p.a(0,0)},list:{size:p.size(324,250),v:p.h(0,200,200,
200),position:p.a(0,0),d:p.a(0,0)}}},control_panel:{d:p.a(0,0),position:p.a(0,328),size:p.size(365,32),children:{header:{label:"Quest Editor",fontSize:20,d:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(337,6),size:p.size(20,20),d:p.a(0,0),Z:"GUI/close.png"}}}}}}},yB:function(a){switch(a){case 1:this.k.ib&&(this.k.data.objectiveList.splice(this.k.ib,1),this.k.gb(),this.k.ib=null)}},eQ:function(){this.data.objectiveList.splice(this.data.objectiveList.length-1,0,"Blank Objective");this.gb()},
gf:null,Ca:null,GB:function(a){null!=this.Ca&&(this.Ca.$b(),this.gf=null,this.Ca.L(),this.ib=this.Ca=null);this.Ca=p.aa.create(p.h(255,255,255,200),200,200);this.Ca.l(p.a((this.b.main_panel.c().width-200)/2,(this.b.main_panel.c().height-200)/2));this.gf=new $(this.Ca,p.size(190,150),p.a(0,this.Ca.c().height),this.data.objectiveList[a],p.h(100,100,100),p.j(255,255,255),!0);this.gf.tb(!0);this.gf.PJ(!0);a=p.aa.create(p.h(0,200,255,255),64,32);a.l(p.a(14,9));var c=p.Q.create("OK","Arial",16);c.m(p.j(0,
0,0));c.l(32,16);c.F(p.a(0.5,0.5));a.f(c);c=p.aa.create(p.h(200,0,0,255),64,32);c.l(p.a(120,9));var d=p.Q.create("Cancel","Arial",16);d.m(p.j(0,0,0));d.l(32,16);d.F(p.a(0.5,0.5));c.f(d);this.b.main_panel.f(this.Ca);this.Ca.f(a);this.Ca.wC=a;this.Ca.f(c);this.Ca.cancel=c},lb:function(a){if(this._super(a))return!0;this.Vd=null;a=a.M;if(null!=this.Ca){a=this.Ca.Ia(a);if(J(this.Ca.wC,a))return this.data.objectiveList[this.ib]=this.gf.X(),this.Ca.$b(),this.gf=null,this.Ca.L(),this.ib=this.Ca=null,this.gb(),
!0;J(this.Ca.cancel,a)&&(this.Ca.$b(),this.gf=null,this.Ca.L(),this.ib=this.Ca=null);return!0}a=this.b.main_panel.Ia(a);if(J(this.b.main_panel.savebtn,a)){if(null==this.fb.X()||""==this.fb.X())return!0;this.Lg=!0;this.data.name=this.fb.X();this.k.Qd(this.data);return!0}if(J(this.b.main_panel.exitbtn,a)){this.Lg=!0;var c=this.k;this.k.Zc(function(){c.Qd(null)});return!0}return J(this.b.main_panel,a)?!0:!1}});Mapeditor=null;
MapEditor=Popup.extend({map:null,K:p.a(0,0),Ac:"tiles",KI:null,kw:"ground1",Tb:y[0].name,U:0,xc:function(){return{panels:{position:p.a(300,10),children:{main_panel:{d:p.a(0,0),position:p.a(0,0),size:p.size(420,380),v:p.h(0,0,100,120),children:{tab1:{children:{tiles:{d:p.a(0,1),position:p.a(16,336),Z:y[0].name},textureleftbtn:{position:p.a(360,344),size:p.size(16,32),v:D,d:p.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,d:p.a(0.5,0.5),position:p.a(8,16),color:p.j(0,0,0)}}},texturerightbtn:{position:p.a(472,344),
size:p.size(16,32),v:D,d:p.a(0,0),children:{text:{label:"\x3e\x3e",fontSize:12,d:p.a(0.5,0.5),position:p.a(8,16),color:p.j(0,0,0)}}},textureName:{position:p.a(376,344),size:p.size(96,32),v:p.h(255,255,255,170),d:p.a(0,0),children:{text:{label:y[0].name,fontSize:12,d:p.a(0.5,0.5),position:p.a(48,16),color:p.j(0,0,0)}}},deletebtn:{position:p.a(360,308),size:p.size(60,32),v:D,d:p.a(0,0),children:{text:{label:"Erase",fontSize:12,d:p.a(0.5,0.5),position:p.a(32,16),color:p.j(0,0,0)}}},leftbtn:{position:p.a(0,
16),size:p.size(16,320),v:p.h(0,0,255,255),d:p.a(0,0),children:{text:{label:"\x3c",fontSize:12,d:p.a(0.5,0.5),position:p.a(8,160),color:p.j(255,255,255)}}},rightbtn:{position:p.a(336,16),size:p.size(16,320),v:p.h(0,0,255,255),d:p.a(0,0),children:{text:{label:"\x3e",fontSize:12,d:p.a(0.5,0.5),position:p.a(8,160),color:p.j(255,255,255)}}},upbtn:{position:p.a(16,336),size:p.size(320,16),v:p.h(0,0,255,255),d:p.a(0,0),children:{text:{label:"^",fontSize:12,d:p.a(0.5,0.5),position:p.a(160,8),color:p.j(255,
255,255)}}},downbtn:{position:p.a(16,0),size:p.size(320,16),v:p.h(0,0,255,255),d:p.a(0,0),children:{text:{label:"v",fontSize:12,d:p.a(0.5,0.5),position:p.a(160,8),color:p.j(255,255,255)}}},fillbtn:{position:p.a(428,308),size:p.size(60,32),v:D,d:p.a(0,0),children:{text:{label:"Fill",fontSize:12,d:p.a(0.5,0.5),position:p.a(32,16),color:p.j(0,0,0)}}},ground1btn:{position:p.a(360,278),size:p.size(128,26),v:qa,d:p.a(0,0),children:{text:{label:"Ground 1",fontSize:12,d:p.a(0.5,0.5),position:p.a(64,13),color:p.j(0,
0,0)}}},ground2btn:{position:p.a(360,248),size:p.size(128,26),v:D,d:p.a(0,0),children:{text:{label:"Ground 2",fontSize:12,d:p.a(0.5,0.5),position:p.a(64,13),color:p.j(0,0,0)}}},groundShadowbtn:{position:p.a(360,218),size:p.size(128,26),v:D,d:p.a(0,0),children:{text:{label:"Ground Shadow",fontSize:12,d:p.a(0.5,0.5),position:p.a(64,13),color:p.j(0,0,0)}}},mask1btn:{position:p.a(360,188),size:p.size(128,26),v:D,d:p.a(0,0),children:{text:{label:"Mask 1",fontSize:12,d:p.a(0.5,0.5),position:p.a(64,13),
color:p.j(0,0,0)}}},mask2btn:{position:p.a(360,158),size:p.size(128,26),v:D,d:p.a(0,0),children:{text:{label:"Mask 2",fontSize:12,d:p.a(0.5,0.5),position:p.a(64,13),color:p.j(0,0,0)}}},mask3btn:{position:p.a(360,128),size:p.size(128,26),v:D,d:p.a(0,0),children:{text:{label:"Mask 3",fontSize:12,d:p.a(0.5,0.5),position:p.a(64,13),color:p.j(0,0,0)}}},fringe1btn:{position:p.a(360,98),size:p.size(128,26),v:D,d:p.a(0,0),children:{text:{label:"Fringe 1",fontSize:12,d:p.a(0.5,0.5),position:p.a(64,13),color:p.j(0,
0,0)}}},fringe2btn:{position:p.a(360,68),size:p.size(128,26),v:D,d:p.a(0,0),children:{text:{label:"Fringe 2",fontSize:12,d:p.a(0.5,0.5),position:p.a(64,13),color:p.j(0,0,0)}}},fringeShadowbtn:{position:p.a(360,38),size:p.size(128,26),v:D,d:p.a(0,0),children:{text:{label:"Fringe Shadow",fontSize:12,d:p.a(0.5,0.5),position:p.a(64,13),color:p.j(0,0,0)}}},fringe3btn:{position:p.a(360,8),size:p.size(128,26),v:D,d:p.a(0,0),children:{text:{label:"Fringe 3",fontSize:12,d:p.a(0.5,0.5),position:p.a(64,13),
color:p.j(0,0,0)}}},highlightnode:{d:p.a(0,0),position:p.a(0,0),size:p.size(N,N),v:p.h(255,100,100,255)},selectednode:{d:p.a(0,0),position:p.a(0,0),size:p.size(N,N),v:p.h(100,255,100,255)}}},tab2:{children:{blockbtn:{position:p.a(8,320),size:p.size(60,32),v:D,d:p.a(0,0),children:{text:{label:"Block",fontSize:12,d:p.a(0.5,0.5),position:p.a(32,16),color:p.j(0,0,0)}}},warpbtn:{position:p.a(8,280),size:p.size(60,32),v:D,d:p.a(0,0),children:{text:{label:"Warp",fontSize:12,d:p.a(0.5,0.5),position:p.a(32,
16),color:p.j(0,0,0)}}},itembtn:{position:p.a(8,240),size:p.size(60,32),v:D,d:p.a(0,0),children:{text:{label:"Item",fontSize:12,d:p.a(0.5,0.5),position:p.a(32,16),color:p.j(0,0,0)}}},signbtn:{position:p.a(8,200),size:p.size(60,32),v:D,d:p.a(0,0),children:{text:{label:"Sign",fontSize:12,d:p.a(0.5,0.5),position:p.a(32,16),color:p.j(0,0,0)}}},npcbtn:{position:p.a(8,160),size:p.size(60,32),v:D,d:p.a(0,0),children:{text:{label:"NPC",fontSize:12,d:p.a(0.5,0.5),position:p.a(32,16),color:p.j(0,0,0)}}},amountLabelHead:{visible:!1,
label:"Item Amount",fontSize:12,d:p.a(0,0),position:p.a(100,342)},amountLabel:{size:p.size(60,32),position:p.a(98,-1E6)}}},tab3:{children:{saveBack:{position:p.a(0,78),size:p.size(200,60),v:p.h(0,255,0,100),d:p.a(0,0)},deleteback:{position:p.a(0,138),size:p.size(200,60),v:p.h(255,0,0,100),d:p.a(0,0)},mapnumsback:{position:p.a(0,198),size:p.size(200,162),v:p.h(0,0,0,170),d:p.a(0,0)},mapUp_text:{label:"Map Up",fontSize:10,d:p.a(0.5,0),position:p.a(100,344)},mapUp_entry:{size:p.size(60,32),position:p.a(70,
312)},mapDown_text:{label:"Map Down",fontSize:10,d:p.a(0.5,0),position:p.a(100,232)},mapDown_entry:{size:p.size(60,32),position:p.a(70,200)},mapLeft_text:{label:"Map Left",fontSize:10,d:p.a(0.5,0),position:p.a(38,290)},mapLeft_entry:{size:p.size(60,32),position:p.a(8,258)},mapRight_text:{label:"Map Right",fontSize:10,d:p.a(0.5,0),position:p.a(162,290)},mapRight_entry:{size:p.size(60,32),position:p.a(132,258)},this_map:{position:p.a(70,248),size:p.size(60,60),v:D,d:p.a(0,0),children:{text:{label:"THIS MAP\n#"+
U.Rd(),fontSize:12,d:p.a(0.5,0.5),position:p.a(30,30),color:p.j(0,0,0)}}},clearbtn:{position:p.a(70,150),size:p.size(60,32),v:D,d:p.a(0,0),children:{text:{label:"Clear",fontSize:12,d:p.a(0.5,0.5),position:p.a(32,16),color:p.j(0,0,0)}}},clear_text:{label:"Clear Map: You sure?",fontSize:14,d:p.a(0.5,0),position:p.a(100,182)},clearbtnNo:{position:p.a(10,150),size:p.size(60,32),v:D,d:p.a(0,0),children:{text:{label:"NO",fontSize:12,d:p.a(0.5,0.5),position:p.a(32,16),color:p.j(0,0,0)}}},clearbtnYes:{position:p.a(130,
150),size:p.size(60,32),v:D,d:p.a(0,0),children:{text:{label:"YES",fontSize:12,d:p.a(0.5,0.5),position:p.a(32,16),color:p.j(0,0,0)}}},savebtn:{position:p.a(70,90),size:p.size(60,32),v:D,d:p.a(0,0),children:{text:{label:"Save",fontSize:12,d:p.a(0.5,0.5),position:p.a(32,16),color:p.j(0,0,0)}}},save_text:{label:"Save Map: You sure?",fontSize:14,d:p.a(0.5,0),position:p.a(100,122)},savebtnNo:{position:p.a(10,90),size:p.size(60,32),v:D,d:p.a(0,0),children:{text:{label:"NO",fontSize:12,d:p.a(0.5,0.5),position:p.a(32,
16),color:p.j(0,0,0)}}},savebtnYes:{position:p.a(130,90),size:p.size(60,32),v:D,d:p.a(0,0),children:{text:{label:"YES",fontSize:12,d:p.a(0.5,0.5),position:p.a(32,16),color:p.j(0,0,0)}}},saveOnExit:{position:p.a(40,30),size:p.size(120,32),v:D,d:p.a(0.5,0),children:{content:{label:"",fontSize:14,d:p.a(0.5,0.5),position:p.a(60,15),color:p.j(0,0,0)}}}}},tab1Clickable:{position:p.a(0,360),size:p.size(60,20),v:D,d:p.a(0,0),children:{text:{label:"Editor",fontSize:12,d:p.a(0.5,0.5),position:p.a(32,10),color:p.j(0,
0,0)}}},tab2Clickable:{position:p.a(64,360),size:p.size(60,20),v:D,d:p.a(0,0),children:{text:{label:"Scripts",fontSize:12,d:p.a(0.5,0.5),position:p.a(32,10),color:p.j(0,0,0)}}},tab3Clickable:{position:p.a(128,360),size:p.size(60,20),v:D,d:p.a(0,0),children:{text:{label:"Settings",fontSize:12,d:p.a(0.5,0.5),position:p.a(32,10),color:p.j(0,0,0)}}}}},control_panel:{d:p.a(0,0),position:p.a(0,380),size:p.size(420,32),v:p.h(255,0,0,200),children:{header:{label:"Map Editor - Map #"+U.Rd(),fontSize:20,d:p.a(0,
0.5),position:p.a(8,16)},exitBtn:{position:p.a(391,3),size:p.size(26,26),d:p.a(0,0),v:p.h(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.j(0,0,0),d:p.a(0.5,0.5),position:p.a(13,13)}}}}}}}}},Cc:function(){return"MapEditor"},K:null,zs:null,ws:null,xs:null,ys:null,aj:null,ij:null,re:0,Yd:null,r:function(a){this._super();this.map=a;this.K=p.a(0,0);this.ij=[null,496,200,200]},oa:function(){this._super();this.b.main_panel.tab1.highlightnode.pa(0);this.b.main_panel.tab1.selectednode.pa(0);
this.zs=new $(this.b.main_panel.tab3.mapUp_entry,p.size(this.b.main_panel.tab3.mapUp_entry.c().width,this.b.main_panel.tab3.mapUp_entry.c().height),p.a(0,this.b.main_panel.tab3.mapUp_entry.c().height),U.fI()?U.PH():"",p.h(100,100,100),p.j(255,255,255));this.zs.tb(!0);this.zs.Qc(!0);this.ws=new $(this.b.main_panel.tab3.mapDown_entry,p.size(this.b.main_panel.tab3.mapDown_entry.c().width,this.b.main_panel.tab3.mapDown_entry.c().height),p.a(0,this.b.main_panel.tab3.mapDown_entry.c().height),U.dI()?U.NH():
"",p.h(100,100,100),p.j(255,255,255));this.ws.tb(!0);this.ws.Qc(!0);this.xs=new $(this.b.main_panel.tab3.mapLeft_entry,p.size(this.b.main_panel.tab3.mapLeft_entry.c().width,this.b.main_panel.tab3.mapLeft_entry.c().height),p.a(0,this.b.main_panel.tab3.mapLeft_entry.c().height),U.eI()?U.OH():"",p.h(100,100,100),p.j(255,255,255));this.xs.tb(!0);this.xs.Qc(!0);this.ys=new $(this.b.main_panel.tab3.mapRight_entry,p.size(this.b.main_panel.tab3.mapRight_entry.c().width,this.b.main_panel.tab3.mapRight_entry.c().height),
p.a(0,this.b.main_panel.tab3.mapRight_entry.c().height),U.$B()?U.OB():"",p.h(100,100,100),p.j(255,255,255));this.ys.tb(!0);this.ys.Qc(!0);this.aj=new $(this.b.main_panel.tab2.amountLabel,p.size(this.b.main_panel.tab2.amountLabel.c().width,this.b.main_panel.tab2.amountLabel.c().height),p.a(0,this.b.main_panel.tab2.amountLabel.c().height),U.$B()?U.OB():"1",p.h(100,100,100),p.j(255,255,255));this.aj.tb(!0);this.aj.Qc(!0);this.lx(!1);this.mx(!1);this.Xw=V.SR();this.nK(this.Xw);this.Fl(1);this.mb();U.qK(!0)},
Rp:function(a,c){Warpeditor&&(Warpeditor.wa(),this.Zc(function(){Warpeditor.L();Warpeditor=null}),this.Yd=a,this.Vb(!0));Signeditor&&(Signeditor.wa(),this.Zc(function(){Signeditor.L();Signeditor=null}),this.Yd=a,this.Vb(!0));Itemeditor&&(Itemeditor.wa(),this.Zc(function(){Itemeditor.L();Itemeditor=null}),this.Yd=a,this.Vb(!0),this.aj.Yc.Hd("1"),!0==c.stackable&&(this.b.main_panel.tab2.amountLabelHead.w(!0),this.b.main_panel.tab2.amountLabel.l(98,308)));NPCeditor&&(NPCeditor.wa(),this.Zc(function(){NPCeditor.L();
NPCeditor=null}),this.Yd=a,this.Vb(!0))},wa:function(){this._super();!0==this.Xw&&(U.YJ({up:this.zs.X(),down:this.ws.X(),left:this.xs.X(),right:this.ys.X()}),U.dL());U.qK(!1)},dj:function(a){a=a.M;if(1==this.re&&(this.b.main_panel.tab1.highlightnode.pa(0),a=this.b.main_panel.tab1.tiles.Ia(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.c().width&&a.y<=this.b.main_panel.tab1.tiles.c().height))return a.x=a.x-a.x%N+16,a.y=a.y-a.y%N+16,this.b.main_panel.tab1.highlightnode.pa(127),this.b.main_panel.tab1.highlightnode.l(a),
!0},Fl:function(a){if(a!=this.re){this.b.main_panel.R(this.ij[a],this.b.main_panel.c().height);this.b.control_panel.R(this.ij[a],this.b.control_panel.c().height);if(3==this.re||0==this.re)this.b.main_panel.tab3.mapUp_entry.zb(this.b.main_panel.tab3.mapUp_entry.p.G-1E3),this.b.main_panel.tab3.mapLeft_entry.zb(this.b.main_panel.tab3.mapLeft_entry.p.G-1E3),this.b.main_panel.tab3.mapDown_entry.zb(this.b.main_panel.tab3.mapDown_entry.p.G-1E3),this.b.main_panel.tab3.mapRight_entry.zb(this.b.main_panel.tab3.mapRight_entry.p.G-
1E3);1!=this.re||"erasing"!=this.Ac&&"tiles"!=this.Ac||(this.Ac="blocking");2==this.re&&"blocking"==this.Ac&&(this.Ac="tiles");this.re=a;this.b.main_panel.tab1.w(!1);this.b.main_panel.tab2.w(!1);this.b.main_panel.tab3.w(!1);this.b.main_panel.tab1Clickable.m(D);this.b.main_panel.tab2Clickable.m(D);this.b.main_panel.tab3Clickable.m(D);this.b.main_panel["tab"+a].w(!0);this.b.main_panel["tab"+a+"Clickable"].m(p.h(255,255,0,255));3==a&&(this.b.main_panel.tab3.mapUp_entry.zb(this.b.main_panel.tab3.mapUp_entry.p.G+
1E3),this.b.main_panel.tab3.mapLeft_entry.zb(this.b.main_panel.tab3.mapLeft_entry.p.G+1E3),this.b.main_panel.tab3.mapDown_entry.zb(this.b.main_panel.tab3.mapDown_entry.p.G+1E3),this.b.main_panel.tab3.mapRight_entry.zb(this.b.main_panel.tab3.mapRight_entry.p.G+1E3));this.b.control_panel.exitBtn.zb(this.ij[a]-29)}},nK:function(a){V.SV(a);this.Xw=a;this.b.main_panel.tab3.saveOnExit.m(p.j(255,0,0));this.b.main_panel.tab3.saveOnExit.content.fa("Save on exit: NO");if("true"==a||!0==a)this.b.main_panel.tab3.saveOnExit.m(p.j(0,
255,0)),this.b.main_panel.tab3.saveOnExit.content.fa("Save on exit: YES")},mb:function(){this.bc(this.mb);this.b.main_panel.tab1.tiles.ea()&&!0==this.b.main_panel.tab1.tiles.ea().vc&&(this.Sc(this.mb),this.b.main_panel.tab1.tiles.Ub(p.rect(Math.floor(N*this.K.x),Math.floor(N*this.K.y),320>y[this.U].texture.c().width?y[this.U].texture.c().width:320,320>y[this.U].texture.c().height?y[this.U].texture.c().height:320)))},lb:function(a){if(this._super(a))return!0;this.Vd=null;a=a.M;var c=this.b.main_panel.Ia(a);
if(J(this.b.main_panel.tab1Clickable,c))return this.Fl(1),!0;if(J(this.b.main_panel.tab2Clickable,c))return this.Fl(2),!0;if(J(this.b.main_panel.tab3Clickable,c))return this.Fl(3),!0;if(1==this.re){if(J(this.b.main_panel.tab1.leftbtn,c))return 320<y[this.U].texture.c().width&&0<this.K.x&&(this.K.x--,this.mb()),!0;if(J(this.b.main_panel.tab1.rightbtn,c))return 320<y[this.U].texture.c().width&&this.K.x<(y[this.U].texture.c().width-320)/N&&(this.K.x++,this.mb()),!0;if(J(this.b.main_panel.tab1.upbtn,
c))return 320<y[this.U].texture.c().height&&0<this.K.y&&(this.K.y--,this.mb()),!0;if(J(this.b.main_panel.tab1.downbtn,c))return 320<y[this.U].texture.c().height&&this.K.y<(y[this.U].texture.c().height-320)/N&&(this.K.y++,this.mb()),!0;if(J(this.b.main_panel.tab1.ground1btn,c))return this.jj("ground1"),!0;if(J(this.b.main_panel.tab1.ground2btn,c))return this.jj("ground2"),!0;if(J(this.b.main_panel.tab1.groundShadowbtn,c))return this.jj("groundShadow"),!0;if(J(this.b.main_panel.tab1.mask1btn,c))return this.jj("mask1"),
!0;if(J(this.b.main_panel.tab1.mask2btn,c))return this.jj("mask2"),!0;if(J(this.b.main_panel.tab1.mask3btn,c))return this.jj("mask3"),!0;if(J(this.b.main_panel.tab1.fringe1btn,c))return this.jj("fringe1"),!0;if(J(this.b.main_panel.tab1.fringe2btn,c))return this.jj("fringe2"),!0;if(J(this.b.main_panel.tab1.fringeShadowbtn,c))return this.jj("fringeShadow"),!0;if(J(this.b.main_panel.tab1.fringe3btn,c))return this.jj("fringe3"),!0;if(J(this.b.main_panel.tab1.texturerightbtn,c))return this.Fn(),!0;if(J(this.b.main_panel.tab1.textureleftbtn,
c))return this.Gn(),!0;if(J(this.b.main_panel.tab1.deletebtn,c))return this.Ac="erasing"==this.Ac?"tiles":"erasing",this.b.main_panel.tab1.deletebtn.m(D),"erasing"==this.Ac&&this.b.main_panel.tab1.deletebtn.m(F),!0;if(J(this.b.main_panel.tab1.fillbtn,c))return 0!=this.b.main_panel.tab1.selectednode.Ui()&&(U.CR(y[this.U].name,p.a((this.b.main_panel.tab1.selectednode.p.G-16)/N+this.K.x,Math.floor(320/N)-1-(this.b.main_panel.tab1.selectednode.p.O-16)/N+this.K.y),this.kw),U.Ys()),!0;c=this.b.main_panel.tab1.tiles.Ia(a);
if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.c().width&&c.y<=this.b.main_panel.tab1.tiles.c().height){c.x=c.x-c.x%N+16;c.y=c.y-c.y%N+16;this.b.main_panel.tab1.selectednode.pa(0);if(this.b.main_panel.tab1.selectednode.p.G!=c.x||this.b.main_panel.tab1.selectednode.p.O!=c.y)this.b.main_panel.tab1.selectednode.pa(127),this.b.main_panel.tab1.selectednode.l(c);return!0}}if(2==this.re){if(J(this.b.main_panel.tab2.blockbtn,c))return this.b.main_panel.tab2.warpbtn.m(D),this.b.main_panel.tab2.signbtn.m(D),
this.b.main_panel.tab2.npcbtn.m(D),this.b.main_panel.tab2.itembtn.m(D),this.b.main_panel.tab2.blockbtn.m(D),this.Ac="blocking"==this.Ac?"tiles":"blocking","blocking"==this.Ac&&(this.b.main_panel.tab2.blockbtn.m(F),this.b.main_panel.tab2.amountLabelHead.w(!1),this.b.main_panel.tab2.amountLabel.l(68,-1E5)),!0;if(J(this.b.main_panel.tab2.warpbtn,c))return this.b.main_panel.tab2.warpbtn.m(D),this.b.main_panel.tab2.signbtn.m(D),this.b.main_panel.tab2.npcbtn.m(D),this.b.main_panel.tab2.itembtn.m(D),this.b.main_panel.tab2.blockbtn.m(D),
this.b.main_panel.tab2.amountLabelHead.w(!1),this.b.main_panel.tab2.amountLabel.l(68,-1E6),this.Ac="warping"==this.Ac?"tiles":"warping","warping"==this.Ac&&(null==Warpeditor||Warpeditor.V||(Warpeditor=null),Warpeditor&&(Warpeditor.wa(),Warpeditor.L(),Warpeditor=null),Warpeditor=new PopupList,Warpeditor.r({k:this,Ig:new WarpEditor,list:ObjectLists.Zm(),name:"Warp List"}),Warpeditor.oa(),this.V.f(Warpeditor),this.Vb(!1),this.b.main_panel.tab2.warpbtn.m(F),this.b.main_panel.tab2.amountLabelHead.w(!1),
this.b.main_panel.tab2.amountLabel.l(68,-1E5)),!0;if(J(this.b.main_panel.tab2.signbtn,c))return this.b.main_panel.tab2.signbtn.m(D),this.b.main_panel.tab2.warpbtn.m(D),this.b.main_panel.tab2.npcbtn.m(D),this.b.main_panel.tab2.itembtn.m(D),this.b.main_panel.tab2.blockbtn.m(D),this.b.main_panel.tab2.amountLabelHead.w(!1),this.b.main_panel.tab2.amountLabel.l(68,-1E6),this.Ac="signs"==this.Ac?"tiles":"signs","signs"==this.Ac&&(null==Signeditor||Signeditor.V||(Signeditor=null),Signeditor&&(Signeditor.wa(),
Signeditor.L(),Signeditor=null),Signeditor=new PopupList,Signeditor.r({k:this,Ig:new SignEditor,list:ObjectLists.ls(),name:"Sign List"}),Signeditor.oa(),this.V.f(Signeditor),this.Vb(!1),this.b.main_panel.tab2.signbtn.m(F)),!0;if(J(this.b.main_panel.tab2.npcbtn,c))return this.b.main_panel.tab2.signbtn.m(D),this.b.main_panel.tab2.warpbtn.m(D),this.b.main_panel.tab2.npcbtn.m(D),this.b.main_panel.tab2.itembtn.m(D),this.b.main_panel.tab2.blockbtn.m(D),this.b.main_panel.tab2.amountLabelHead.w(!1),this.b.main_panel.tab2.amountLabel.l(68,
-1E6),this.Ac="npcs"==this.Ac?"tiles":"npcs","npcs"==this.Ac&&(null==NPCeditor||NPCeditor.V||(NPCeditor=null),NPCeditor&&(NPCeditor.wa(),NPCeditor.L(),NPCeditor=null),NPCeditor=new PopupList,NPCeditor.r({k:this,Ig:new NPCEditor,list:ObjectLists.kl(),name:"NPC List"}),NPCeditor.oa(),this.V.f(NPCeditor),this.Vb(!1),this.b.main_panel.tab2.npcbtn.m(F)),!0;if(J(this.b.main_panel.tab2.itembtn,c))return this.b.main_panel.tab2.warpbtn.m(D),this.b.main_panel.tab2.itembtn.m(D),this.b.main_panel.tab2.npcbtn.m(D),
this.b.main_panel.tab2.blockbtn.m(D),this.b.main_panel.tab2.amountLabelHead.w(!1),this.b.main_panel.tab2.amountLabel.l(68,-1E6),this.Ac="items"==this.Ac?"tiles":"items","items"==this.Ac&&(null==Itemeditor||Itemeditor.V||(Itemeditor=null),Itemeditor&&(Itemeditor.wa(),Itemeditor.L(),Itemeditor=null),Itemeditor=new PopupList,Itemeditor.r({k:this,Ig:new ItemEditor,list:ObjectLists.Bf(),name:"Item List"}),Itemeditor.oa(),this.V.f(Itemeditor),this.Vb(!1),this.b.main_panel.tab2.itembtn.m(F)),!0}if(3==this.re){if(J(this.b.main_panel.tab3.clearbtn,
c))return this.lx(!0),!0;if(J(this.b.main_panel.tab3.clearbtnNo,c))return this.lx(!1),!0;if(J(this.b.main_panel.tab3.clearbtnYes,c))return U.ff(),this.lx(!1),!0;if(J(this.b.main_panel.tab3.savebtn,c))return this.mx(!0),!0;if(J(this.b.main_panel.tab3.savebtnNo,c))return this.mx(!1),!0;if(J(this.b.main_panel.tab3.savebtnYes,c))return U.YJ({up:this.zs.X(),down:this.ws.X(),left:this.xs.X(),right:this.ys.X()}),U.dL(),this.mx(!1),!0;if(J(this.b.main_panel.tab3.saveOnExit,c))return this.nK(!this.Xw),!0}return!1},
jj:function(a){this.b.main_panel.tab1.ground1btn.m(D);this.b.main_panel.tab1.ground2btn.m(D);this.b.main_panel.tab1.groundShadowbtn.m(D);this.b.main_panel.tab1.mask1btn.m(D);this.b.main_panel.tab1.mask2btn.m(D);this.b.main_panel.tab1.mask3btn.m(D);this.b.main_panel.tab1.fringe1btn.m(D);this.b.main_panel.tab1.fringe2btn.m(D);this.b.main_panel.tab1.fringeShadowbtn.m(D);this.b.main_panel.tab1.fringe3btn.m(D);this.b.main_panel.tab1[a+"btn"].m(qa);this.kw=a},Fn:function(){this.U>=y.length-1&&(this.U=-1);
this.U++;this.b.main_panel.tab1.tiles.ia(y[this.U].texture);this.Tb=y[this.U].name;this.b.main_panel.tab1.textureName.text.fa(this.Tb);this.K=p.a(0,0);this.mb()},Gn:function(){0>=this.U&&(this.U=y.length);this.U--;this.b.main_panel.tab1.tiles.ia(y[this.U].texture);this.Tb=y[this.U].name;this.b.main_panel.tab1.textureName.text.fa(this.Tb);this.K=p.a(0,0);this.mb()},lx:function(a){this.b.main_panel.tab3.clearbtnYes.w(a);this.b.main_panel.tab3.clearbtnNo.w(a);this.b.main_panel.tab3.clear_text.w(a);this.b.main_panel.tab3.clearbtn.w(!a)},
mx:function(a){this.b.main_panel.tab3.savebtnYes.w(a);this.b.main_panel.tab3.savebtnNo.w(a);this.b.main_panel.tab3.save_text.w(a);this.b.main_panel.tab3.savebtn.w(!a)},TK:function(a,c,d){if(a[c]==this.KI&&"moved"==d)return!1;this.KI=a[c];switch(this.Ac){case "tiles":0!=this.b.main_panel.tab1.selectednode.Ui()&&U.mk(c,y[this.U].name,p.a((this.b.main_panel.tab1.selectednode.p.G-16)/N+this.K.x,Math.floor(320/N)-1-(this.b.main_panel.tab1.selectednode.p.O-16)/N+this.K.y),this.kw);break;case "blocking":if(1!=
a[c].rc()){U.gj(c,1);break}U.gj(c,0);break;case "warping":if(null==Warpeditor||!Warpeditor.V){if(3!=a[c].rc()){U.gj(c,3,this.Yd);break}U.gj(c,0,null)}break;case "signs":if(null==Signeditor||!Signeditor.V){if(7!=a[c].rc()){U.gj(c,7,this.Yd);break}U.gj(c,0,null)}break;case "items":if(null==Itemeditor||!Itemeditor.V){if(4!=a[c].rc()){U.gj(c,4,this.Yd,{amount:this.aj.X()});break}U.gj(c,0,null)}break;case "npcs":if(null==NPCeditor||!NPCeditor.V){if(5!=a[c].rc()){U.gj(c,5,this.Yd);break}U.gj(c,0,null)}break;
case "erasing":U.BB(c,this.kw)}}});NPCeditor=null;
NPCEditor=Popup.extend({Tb:z[0].name,U:0,Rp:function(a,c){Scripteditor&&(Scripteditor.wa(),Scripteditor.L(),this.Yd=a,this.Vb(!0),this.b.main_panel.scriptbtn.text.fa(c.name),this.b.main_panel.scriptbtn.m(p.h(0,255,0,255)))},fD:function(){this.b.main_panel.scriptbtn.text.fa("None");this.b.main_panel.scriptbtn.m(p.h(255,0,0,255))},xc:function(){return{panels:{position:p.a(300,10),children:{background:{Z:"GUI/itemeditor_bg.png",d:p.a(0,0)},main_panel:{d:p.a(0,0),position:p.a(0,0),size:p.size(500,330),
children:{namelbl:{label:"Name:",fontSize:20,d:p.a(0,0),position:p.a(4,292),color:p.j(0,0,0)},name_entry:{position:p.a(74,292),size:p.size(266,32),v:p.h(255,255,255,255)},tiles:{d:p.a(0,1),position:p.a(374,232),Z:z[0].name},textureleftbtn:{position:p.a(362,292),size:p.size(16,32),Z:"GUI/texture_change_left.png",d:p.a(0,0)},texturerightbtn:{position:p.a(471,292),size:p.size(16,32),Z:"GUI/texture_change_right.png",d:p.a(0,0)},textureName:{position:p.a(375,292),size:p.size(96,32),Z:"GUI/texture_change_middle.png",
d:p.a(0,0),children:{text:{label:y[0].name,fontSize:12,d:p.a(0.5,0.5),position:p.a(48,16),color:p.j(0,0,0)}}},upbtn:{position:p.a(374,236),size:p.size(96,16),v:p.h(0,0,255,255),d:p.a(0,0),children:{text:{label:"^",fontSize:12,d:p.a(0.5,0.5),position:p.a(48,8),color:p.j(255,255,255)}}},downbtn:{position:p.a(374,86),size:p.size(96,16),v:p.h(0,0,255,255),d:p.a(0,0),children:{text:{label:"v",fontSize:12,d:p.a(0.5,0.5),position:p.a(48,8),color:p.j(255,255,255)}}},scriptlbl:{label:"Script:",fontSize:12,
d:p.a(0,0),position:p.a(8,262),color:p.j(0,0,0)},scriptbtn:{position:p.a(8,232),size:p.size(128,26),v:F,d:p.a(0,0),children:{text:{label:"None",fontSize:12,d:p.a(0.5,0.5),position:p.a(64,13),color:p.j(0,0,0)}}},okbtn:{position:p.a(434,16),size:p.size(32,32),Z:"GUI/tick_icon.png",d:p.a(0,0)},cancelbtn:{position:p.a(384,16),size:p.size(32,32),Z:"GUI/cross_icon.png",d:p.a(0,0)}}},control_panel:{d:p.a(0,0),position:p.a(0,330),size:p.size(500,32),children:{header:{label:"Item Editor",fontSize:20,d:p.a(0,
0.5),position:p.a(8,16)},exitBtn:{position:p.a(476,6),size:p.size(20,20),d:p.a(0,0),Z:"GUI/close.png"}}}}}}},Cc:function(){return"npcEditor"},fb:null,k:null,data:null,r:function(a){this._super();this.data={name:"",sprite:{texture:null,number:null},script:null};this.Tb=z[0].name;this.U=0;this.k=this.fb=null;this.K=p.a(0,0);this.k=a.k;a&&a.data&&(this.data=a.data,this.data.sprite.number&&(this.K.y=this.data.sprite.number),this.data.script&&(this.Yd=this.data.script))},jk:function(a){A({savenpcs:a+"",
npcsdata:this.data})},ak:function(a,c){A({savenpcswhole:c})},oa:function(){this._super();for(var a in z)z[a].name==this.data.sprite.texture&&(this.U=a,this.Tb=z[a].name);this.b.main_panel.textureName.text.fa(this.Tb);this.b.main_panel.tiles.ia(z[this.U].texture);null!=this.data.script&&(this.b.main_panel.scriptbtn.m(p.h(0,255,0,255)),this.b.main_panel.scriptbtn.text.fa(ObjectLists.Wi()[this.data.script].name),this.Yd=this.data.script);this.fb=new $(this.b.main_panel.name_entry,p.size(this.b.main_panel.name_entry.c().width,
this.b.main_panel.name_entry.c().height),p.a(0,this.b.main_panel.name_entry.c().height),this.data.name?this.data.name:"",p.h(100,100,100),p.j(255,255,255));this.fb.tb(!0);this.mb()},wa:function(a){this._super();if(this.k){var c=this.k;!0!=a&&this.k.Zc(function(){c.Qd(null)})}},mb:function(){this.bc(this.mb);this.b.main_panel.tiles.ea()&&!0==this.b.main_panel.tiles.ea().vc&&(this.Sc(this.mb),this.b.main_panel.tiles.Ub(p.rect(Math.floor(96*this.K.x),Math.floor(128*this.K.y),96>z[this.U].texture.c().width?
z[this.U].texture.c().width:96,128>z[this.U].texture.c().height?z[this.U].texture.c().height:128)))},lb:function(a){if(this._super(a))return!0;this.Vd=null;a=this.b.main_panel.Ia(a.M);if(J(this.b.main_panel.okbtn,a)){if(null==this.fb.X()||""==this.fb.X())return!0;this.Lg=!0;this.data.name=this.fb.X();this.data.sprite.number=this.K.y;this.data.script=this.Yd;this.k.Qd(this.data);return!0}if(J(this.b.main_panel.cancelbtn,a)){this.Lg=!0;var c=this.k;this.k.Zc(function(){c.Qd(null)});return!0}J(this.b.main_panel.scriptbtn,
a)&&(Scripteditor?(Scripteditor.wa(),Scripteditor.L(),Scripteditor=null):(Scripteditor=new PopupList,Scripteditor.r({k:this,Ig:new ScriptEditor,list:ObjectLists.Wi(),name:"Script List"}),Scripteditor.oa(),this.f(Scripteditor)));return J(this.b.main_panel.upbtn,a)?(320<z[this.U].texture.c().height&&0<this.K.y&&(this.K.y--,this.mb()),!0):J(this.b.main_panel.downbtn,a)?(320<z[this.U].texture.c().height&&this.K.y<(z[this.U].texture.c().height-320)/32&&(this.K.y++,this.mb()),!0):J(this.b.main_panel.texturerightbtn,
a)?(this.Fn(),!0):J(this.b.main_panel.textureleftbtn,a)?(this.Gn(),!0):!1},PK:function(){this.data.stackable=!this.data.stackable;this.b.main_panel.stackbtn.m(F);this.b.main_panel.stackbtn.text.fa("NOT STACKABLE");!0==this.data.stackable&&(this.b.main_panel.stackbtn.m(qa),this.b.main_panel.stackbtn.text.fa("IS STACKABLE"))},Fn:function(){this.U>=z.length-1&&(this.U=-1);this.U++;this.b.main_panel.tiles.ia(z[this.U].texture);this.Tb=z[this.U].name;this.b.main_panel.textureName.text.fa(this.Tb);this.data.sprite.texture=
this.Tb;this.K=p.a(0,0);this.mb()},Gn:function(){0>=this.U&&(this.U=z.length);this.U--;this.b.main_panel.tiles.ia(z[this.U].texture);this.Tb=z[this.U].name;this.b.main_panel.textureName.text.fa(this.Tb);this.K=p.a(0,0);this.mb()}});Skillseditor=null;
SkillsEditor=Popup.extend({Tb:y[0].name,U:0,xc:function(){return{panels:{position:p.a(300,10),children:{main_panel:{d:p.a(0,0),position:p.a(0,0),size:p.size(420,396),v:p.h(0,0,100,120),children:{tab1:{children:{tiles:{d:p.a(0,1),position:p.a(16,320),Z:y[0].name},textureleftbtn:{position:p.a(208,340),size:p.size(16,32),v:D,d:p.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,d:p.a(0.5,0.5),position:p.a(8,16),color:p.j(0,0,0)}}},texturerightbtn:{position:p.a(320,340),size:p.size(16,32),v:D,d:p.a(0,
0),children:{text:{label:"\x3e\x3e",fontSize:12,d:p.a(0.5,0.5),position:p.a(8,16),color:p.j(0,0,0)}}},textureName:{position:p.a(224,340),size:p.size(96,32),v:p.h(255,255,255,170),d:p.a(0,0),children:{text:{label:y[0].name,fontSize:12,d:p.a(0.5,0.5),position:p.a(48,16),color:p.j(0,0,0)}}},leftbtn:{position:p.a(0,64),size:p.size(16,252),v:p.h(0,0,255,255),d:p.a(0,0),children:{text:{label:"\x3c",fontSize:12,d:p.a(0.5,0.5),position:p.a(8,160),color:p.j(255,255,255)}}},rightbtn:{position:p.a(336,64),size:p.size(16,
252),v:p.h(0,0,255,255),d:p.a(0,0),children:{text:{label:"\x3e",fontSize:12,d:p.a(0.5,0.5),position:p.a(8,160),color:p.j(255,255,255)}}},upbtn:{position:p.a(16,320),size:p.size(320,16),v:p.h(0,0,255,255),d:p.a(0,0),children:{text:{label:"^",fontSize:12,d:p.a(0.5,0.5),position:p.a(160,8),color:p.j(255,255,255)}}},downbtn:{position:p.a(16,48),size:p.size(320,16),v:p.h(0,0,255,255),d:p.a(0,0),children:{text:{label:"v",fontSize:12,d:p.a(0.5,0.5),position:p.a(160,8),color:p.j(255,255,255)}}},highlightnode:{d:p.a(0,
0),position:p.a(0,0),size:p.size(32,32),v:p.h(255,100,100,255)},selectednode:{d:p.a(0,0),position:p.a(0,0),size:p.size(32,32),v:p.h(100,255,100,255)}}},tab2:{children:{name_text:{label:"Skill Name",fontSize:10,d:p.a(0,0),position:p.a(8,344)},name_entry:{size:p.size(136,32),position:p.a(4,312)},healthcolor_text:{label:"Healthbar Color",fontSize:10,d:p.a(0,0),position:p.a(8,250)},healthcolor_entry:{size:p.size(136,32),position:p.a(4,210)},tile:{d:p.a(0,1),position:p.a(55,150),Z:y[0].name},healthbtn:{position:p.a(8,
265),size:p.size(128,26),v:F,d:p.a(0,0),children:{text:{label:"NOT HEALTHBAR",fontSize:12,d:p.a(0.5,0.5),position:p.a(64,13),color:p.j(0,0,0)}}}}},tab1Clickable:{position:p.a(0,376),size:p.size(60,20),v:D,d:p.a(0,0),children:{text:{label:"Icon",fontSize:12,d:p.a(0.5,0.5),position:p.a(32,10),color:p.j(0,0,0)}}},tab2Clickable:{position:p.a(64,376),size:p.size(60,20),v:D,d:p.a(0,0),children:{text:{label:"Details",fontSize:12,d:p.a(0.5,0.5),position:p.a(32,10),color:p.j(0,0,0)}}},okbtn:{position:p.a(76,
8),size:p.size(60,32),v:D,d:p.a(0,0),children:{text:{label:"OK",fontSize:12,d:p.a(0.5,0.5),position:p.a(30,16),color:p.j(0,0,0)}}},cancelbtn:{position:p.a(8,8),size:p.size(60,32),v:D,d:p.a(0,0),children:{text:{label:"Cancel",fontSize:12,d:p.a(0.5,0.5),position:p.a(30,16),color:p.j(0,0,0)}}}}},control_panel:{d:p.a(0,0),position:p.a(0,396),size:p.size(420,32),v:p.h(255,0,0,200),children:{header:{label:"Skill Editor",fontSize:20,d:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(391,3),size:p.size(26,
26),d:p.a(0,0),v:p.h(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.j(0,0,0),d:p.a(0.5,0.5),position:p.a(13,13)}}}}}}}}},Cc:function(){return"SkillsEditor"},fb:null,zp:null,ij:null,re:0,k:null,data:null,r:function(a){this._super();this.data={sprite:{texture:y[0].name,position:{x:0,y:0}},additionalData:{},healthbar:null,name:""};this.Tb=y[0].name;this.U=0;this.ij=this.fb=null;this.re=0;this.k=null;this.K=p.a(0,0);this.ij=[null,352,142];this.k=a.k;a&&a.data&&(this.data=a.data)},jk:function(a){A({saveskills:a+
"",skillsdata:this.data})},ak:function(a,c){A({saveskillswhole:c})},oa:function(){this._super();this.b.main_panel.tab1.highlightnode.pa(0);this.b.main_panel.tab1.selectednode.pa(127);for(var a in y)y[a].name==this.data.sprite.texture&&(this.U=a,this.Tb=y[a].name);this.b.main_panel.tab1.textureName.text.fa(this.Tb);this.b.main_panel.tab1.tiles.ia(y[this.U].texture);for(a=this.data.sprite.position.x;10<=a;)a--,this.K.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.K.y++;a=p.a(32*(this.data.sprite.position.x-
this.K.x),32*(this.data.sprite.position.y-this.K.y));this.b.main_panel.tab1.selectednode.l(this.b.main_panel.tab1.tiles.p.x+a.x,this.b.main_panel.tab1.tiles.p.y-(a.y+32));this.b.main_panel.tab2.tile.ia(y[this.U].texture);this.b.main_panel.tab2.tile.Ub(p.rect(Math.floor(32*this.data.sprite.position.x),Math.floor(32*this.data.sprite.position.y),32,32));this.fb=new $(this.b.main_panel.tab2.name_entry,p.size(this.b.main_panel.tab2.name_entry.c().width,this.b.main_panel.tab2.name_entry.c().height),p.a(0,
this.b.main_panel.tab2.name_entry.c().height),this.data.name?this.data.name:"",p.h(100,100,100),p.j(255,255,255));this.fb.tb(!0);this.zp=new $(this.b.main_panel.tab2.healthcolor_entry,p.size(this.b.main_panel.tab2.healthcolor_entry.c().width,this.b.main_panel.tab2.healthcolor_entry.c().height),p.a(0,this.b.main_panel.tab2.healthcolor_entry.c().height),this.data.healthbar?this.data.healthbar:"",p.h(100,100,100),p.j(255,255,255));this.zp.tb(!0);this.b.main_panel.tab2.healthbtn.m(F);this.b.main_panel.tab2.healthbtn.text.fa("NOT HEALTHBAR");
null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.m(qa),this.b.main_panel.tab2.healthbtn.text.fa("IS HEALTHBAR"));this.Fl(1);this.mb()},Y$:function(){},wa:function(a){this._super();if(this.k){var c=this.k;!0!=a&&this.k.Zc(function(){c.Qd(null)})}},dj:function(a){a=a.M;if(1==this.re&&(this.b.main_panel.tab1.highlightnode.pa(0),a=this.b.main_panel.tab1.tiles.Ia(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.c().width&&a.y<=this.b.main_panel.tab1.tiles.c().height))return a.x=
a.x-a.x%32+16,a.y=a.y-a.y%32+64,this.b.main_panel.tab1.highlightnode.pa(127),this.b.main_panel.tab1.highlightnode.l(a),!0},Fl:function(a){a!=this.re&&(this.b.main_panel.R(this.ij[a],this.b.main_panel.c().height),this.b.control_panel.R(this.ij[a],this.b.control_panel.c().height),this.b.main_panel.tab2.name_entry.zb(this.b.main_panel.tab2.name_entry.p.G-1E3),this.b.main_panel.tab2.healthcolor_entry.zb(this.b.main_panel.tab2.healthcolor_entry.p.G-1E3),this.b.main_panel.tab2.healthcolor_text.w(!1),this.re=
a,this.b.main_panel.tab1.w(!1),this.b.main_panel.tab2.w(!1),this.b.main_panel.tab1Clickable.m(D),this.b.main_panel.tab2Clickable.m(D),this.b.main_panel["tab"+a].w(!0),this.b.main_panel["tab"+a+"Clickable"].m(p.h(255,255,0,255)),this.b.control_panel.exitBtn.zb(this.ij[a]-29));2==a&&(this.b.main_panel.tab2.name_entry.zb(4),null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthcolor_entry.zb(4),this.b.main_panel.tab2.healthcolor_text.w(!0)))},mb:function(){this.bc(this.mb);
this.b.main_panel.tab1.tiles.ea()&&!0==this.b.main_panel.tab1.tiles.ea().vc&&(this.Sc(this.mb),this.b.main_panel.tab1.tiles.Ub(p.rect(Math.floor(32*this.K.x),Math.floor(32*this.K.y),320>y[this.U].texture.c().width?y[this.U].texture.c().width:320,256>y[this.U].texture.c().height?y[this.U].texture.c().height:256)))},lb:function(a){if(this._super(a))return!0;this.Vd=null;a=a.M;var c=this.b.main_panel.Ia(a);if(J(this.b.main_panel.tab1Clickable,c))return this.Fl(1),!0;if(J(this.b.main_panel.tab2Clickable,
c))return this.Fl(2),!0;if(J(this.b.main_panel.okbtn,c)){if(null==this.fb.X()||""==this.fb.X())return!0;this.Lg=!0;this.data.name=this.fb.X();if(null!=this.zp.X()||""!=this.zp.X())this.data.healthbar=this.zp.X();this.k.Qd(this.data);return!0}if(J(this.b.main_panel.cancelbtn,c)){this.Lg=!0;var d=this.k;this.k.Zc(function(){d.Qd(null)});return!0}if(1==this.re){if(J(this.b.main_panel.tab1.leftbtn,c))return 264<y[this.U].texture.c().width&&0<this.K.x&&(this.K.x--,this.mb()),!0;if(J(this.b.main_panel.tab1.rightbtn,
c))return 320<y[this.U].texture.c().width&&this.K.x<(y[this.U].texture.c().width-320)/32&&(this.K.x++,this.mb()),!0;if(J(this.b.main_panel.tab1.upbtn,c))return 320<y[this.U].texture.c().height&&0<this.K.y&&(this.K.y--,this.mb()),!0;if(J(this.b.main_panel.tab1.downbtn,c))return 320<y[this.U].texture.c().height&&this.K.y<(y[this.U].texture.c().height-320)/32&&(this.K.y++,this.mb()),!0;if(J(this.b.main_panel.tab1.texturerightbtn,c))return this.Fn(),!0;if(J(this.b.main_panel.tab1.textureleftbtn,c))return this.Gn(),
!0;c=this.b.main_panel.tab1.tiles.Ia(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.c().width&&c.y<=this.b.main_panel.tab1.tiles.c().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+64;this.b.main_panel.tab1.selectednode.pa(0);if(this.b.main_panel.tab1.selectednode.p.G!=c.x||this.b.main_panel.tab1.selectednode.p.O!=c.y)this.b.main_panel.tab1.selectednode.pa(127),this.b.main_panel.tab1.selectednode.l(c);a=p.a((this.b.main_panel.tab1.selectednode.p.G-16)/32+this.K.x,8-(this.b.main_panel.tab1.selectednode.p.O-
64)/32+this.K.y-1);this.b.main_panel.tab2.tile.Ub(p.rect(32*a.x,32*a.y,32,32));this.data.sprite.position=a;console.log("TOUCHED");return!0}}return 2==this.re&&J(this.b.main_panel.tab2.healthbtn,c)?(this.YW(),!0):!1},YW:function(){this.b.main_panel.tab2.healthcolor_entry.zb(this.b.main_panel.tab2.healthcolor_entry.p.G-1E3);this.b.main_panel.tab2.healthcolor_text.w(!1);null!=this.data.healthbar&&""!=this.data.healthbar?(this.data.healthbar="",this.zp.Hd("")):(this.data.healthbar="FF0000",this.b.main_panel.tab2.healthcolor_entry.zb(4),
this.b.main_panel.tab2.healthcolor_text.w(!0));this.b.main_panel.tab2.healthbtn.m(F);this.b.main_panel.tab2.healthbtn.text.fa("NOT HEALTHBAR");null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.m(qa),this.b.main_panel.tab2.healthbtn.text.fa("IS HEALTHBAR"))},Fn:function(){this.U>=y.length-1&&(this.U=-1);this.U++;this.b.main_panel.tab1.tiles.ia(y[this.U].texture);this.b.main_panel.tab2.tile.ia(y[this.U].texture);this.Tb=y[this.U].name;this.b.main_panel.tab1.textureName.text.fa(this.Tb);
this.data.sprite.texture=this.Tb;this.K=p.a(0,0);this.mb()},Gn:function(){0>=this.U&&(this.U=y.length);this.U--;this.b.main_panel.tab1.tiles.ia(y[this.U].texture);this.b.main_panel.tab2.tile.ia(y[this.U].texture);this.Tb=y[this.U].name;this.b.main_panel.tab1.textureName.text.fa(this.Tb);this.K=p.a(0,0);this.mb()}});PopupList=Popup.extend({$f:null,Nc:[],tC:null,zn:!1,Ww:-1,Q6:0,kH:null,D:null,cI:!1,wa:function(){this._super();this.k&&(this.k.Vb(!0),!this.cI&&this.k.fD&&this.k.fD(null,null))},r:function(a){this._super();this.$f=null;this.Nc=[];this.tC=null;this.zn=!1;this.Ww=-1;this.$f=a.Ig;a.list&&(this.Nc=a.list);this.tC=a.name;this.k=a.k},oa:function(){this._super();this.gb()},D:null,gb:function(){this.D&&this.D.ca.L();var a=[],c=[],d=p.ga.e();this.kH={};for(var e in this.Nc)if(a[e]=p.C.create(),a[e].R(324,
32),null==this.Nc[e])this.Nc.splice(e,1);else{if(null!=this.k){var f=p.u.ab(d.qa("GUI/use.png"));f.l(p.a(244,6));f.F(p.a(0,0))}var g=p.aa.create(p.h(0,0,0,127),316,1);g.l(p.a(4,0));var h=p.Q.create(this.Nc[e].name,"Arial",20);h.F(p.a(0,0.5));h.l(p.a(0,16));var k=p.u.ab(d.qa("GUI/edit.png"));k.l(p.a(272,6));k.F(p.a(0,0));var l=p.u.ab(d.qa("GUI/trash.png"));l.l(p.a(300,6));l.F(p.a(0,0));k.Yb="Edit";var m=[];m.push(k);l.Yb="Delete";m.push(l);null!=this.k&&(f.Yb="Use",m.push(f));c.push(m);a[e].f(g);a[e].f(h);
a[e].f(k);a[e].f(l);null!=this.k&&a[e].f(f)}d=p.aa.create(p.h(70,200,70,255),90,26);e=p.Q.create("+","Arial",20);e.l(45,13);e.F(p.a(0.5,0.5));d.l(p.a(120,0));d.Yb="Add";d.f(e);c.push([d]);a.push(d);this.D=this.b.main_panel.list;var n=this;this.D.Xc=function(){return p.size(324,32*a.length)};this.D.Oc=function(){return a.length};this.D.fd=function(c){return a[c].c()};this.D.dd=function(c){return a[c]};this.D.ac=function(a,c,d){n.Ia(d.M);if(!0!=n.zn)switch(a){case "Delete":n.V.f(DropDownList.td(n,n.yB,
["Cancel","Delete"],d.M));n.ib=c;break;case "Edit":n.$f.V&&n.$f.L();n.zn=!0;n.$f.r({k:n,data:n.Nc[c]});n.V.f(n.$f);n.Vb(!1);n.$f.oa();n.Ww=c+"";break;case "Add":n.VG=!0;n.zn=!0;n.Ww=n.Nc.length;n.$f.r({k:n,data:null});n.Vb(!1);n.V.f(n.$f);n.$f.oa();break;case "Use":n.k.Rp(c,n.Nc[c]),n.cI=!0}};this.D.ca=ListView.create(this.D);this.D.ca.hd(c);this.D.f(this.D.ca)},xc:function(){return{panels:{position:p.a(300,200),children:{background_image:{Z:"GUI/list_panel.png",d:p.a(0,0)},main_panel:{d:p.a(0,0),
size:p.size(365,328),children:{list:{size:p.size(324,328),position:p.a(0,0),d:p.a(0,0)}}},control_panel:{d:p.a(0,0),position:p.a(0,328),size:p.size(365,32),children:{header:{label:this.tC,fontSize:20,d:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(337,6),size:p.size(20,20),d:p.a(0,0),Z:"GUI/close.png"}}}}}}},ib:null,yB:function(a){switch(a){case 1:null!=this.k.ib&&(this.k.eR(this.k.ib),this.k.ib=null)}},lb:function(a){if(this._super(a))return!0;this.Vd=null;a=this.b.main_panel.Ia(a.M);return J(this.b.main_panel,
a)?!0:!1},Qd:function(a){a&&(this.$f.jk(this.Ww),this.VG&&(this.Nc.push(a),this.gb()));this.Vb(!0);this.zn=this.VG=!1;var c=this;this.Zc(function(){c.$f.wa(!0);c.$f.L()})},eR:function(a){this.Nc.splice(a,1);this.$f.ak(a,this.Nc);this.gb()}});Signeditor=null;
SignEditor=Popup.extend({Cc:function(){return"SignEditor"},jk:function(a){A({savesigns:a+"",signsdata:this.data})},ak:function(a,c){A({savesignswhole:c})},xc:function(){return{panels:{position:p.a(300,200),children:{background:{Z:"GUI/signeditor_bg.png",d:p.a(0,0)},main_panel:{d:p.a(0,0),size:p.size(142,256),children:{okbtn:{position:p.a(88,16),size:p.size(32,32),Z:"GUI/tick_icon.png",d:p.a(0,0)},cancelbtn:{position:p.a(22,16),size:p.size(32,32),Z:"GUI/cross_icon.png",d:p.a(0,0)},namelbl:{label:"Name of sign.",
fontSize:12,d:p.a(0,0),position:p.a(6,238),color:p.j(0,0,0)},nameEntry:{position:p.a(4,206),size:p.size(120,30)},signlbl:{label:"Contents",fontSize:12,d:p.a(0,0),position:p.a(6,190),color:p.j(0,0,0)},signEntry:{position:p.a(4,60),size:p.size(120,128)}}},control_panel:{d:p.a(0,0),position:p.a(0,256),size:p.size(142,32),children:{header:{label:"Sign Editor",fontSize:20,d:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(118,6),size:p.size(20,20),d:p.a(0,0),Z:"GUI/close.png"}}}}}}},fb:null,Sp:null,
k:null,data:null,r:function(a){this._super();this.k=this.Sp=this.fb=null;this.data={label:"",name:""};a.data&&(this.data=a.data);this.k=a.k},oa:function(){this._super();this.fb=new $(this.b.main_panel.nameEntry,p.size(this.b.main_panel.nameEntry.c().width,this.b.main_panel.nameEntry.c().height),p.a(0,this.b.main_panel.nameEntry.c().height),this.data.name,p.h(100,100,100),p.j(255,255,255));this.fb.tb(!0);this.Sp=new $(this.b.main_panel.signEntry,p.size(this.b.main_panel.signEntry.c().width,this.b.main_panel.signEntry.c().height),
p.a(0,this.b.main_panel.signEntry.c().height),""+this.data.label,p.h(100,100,100),p.j(255,255,255),!0);this.Sp.tb(!0)},lb:function(a){if(this._super(a))return!0;this.Vd=null;a=this.b.main_panel.Ia(a.M);if(J(this.b.main_panel.okbtn,a)){if(null==this.fb.X()||""==this.fb.X()||null==this.Sp.X()||""==this.Sp.X())return!0;this.Lg=!0;this.data.label=this.Sp.X();this.data.name=this.fb.X();this.k.Qd(this.data);return!0}if(J(this.b.main_panel.cancelbtn,a)){this.Lg=!0;var c=this.k;this.k.Zc(function(){c.Qd(null)});
return!0}},wa:function(a){this._super();var c=this.k;a||this.k.Zc(function(){c.Qd(null)})}});var L=Ea.extend({ctor:function(){this._super()},hL:function(){this._super()},oa:function(){this._super()},wa:function(){this._super()},lb:function(a){p.bb(this.b.health_panel.Ya(),a.M)&&G.e().ll("Game")}});NewsPanel=null;
News=Popup.extend({data:null,D:null,ib:null,Cc:function(){return"Credits"},wa:function(){this._super()},r:function(){this._super();this.data={"11th November 2014: (v0.74)":["Added quest log (hotkey Q).","Implemented quest response logic. Added 2 additional 'quest unstarted' and 'quest finished' parameters"],"10th November 2014: (v0.735)":["Added user extradata content for subscripting. Allows for developers to code in specific scripting logic if needed.","Extradata updates with user login data and is purposefully not localstorage based."],"9th November 2014: (v0.733)":["Added talking and talk with option callback to the npc scripts contexts."],
"8th November 2014: (v0.731)":["Fixed NPC editor.","Added talk graphic and basic logic for npc interaction","Abstracted Item script logic to a utils function...wiped a lot of duplicate code."],"25th October 2014: (v0.729)":["Added scripting response logic for giving/taking items.","Added scripting requirements logic for if a panel is visible and inventory has a certain amount of slots."],"25th October 2014: (v0.727)":["Fixed a bunch of persistant bugs. Game is now much much more stable than it was.",
"Added scripts for on pickup and on drop. Added some additional response logic for warping the player. Added requirement logic for check if player has items and if player stats are within certain ranges."],"24th October 2014: (v0.724)":["Added functionality to more scripts. Items can now use the destroy and open/close panel scripts.","Fixed equip script to use the equip position defined within the scripting system instead of previously defined sub-item types from previous versions."],"23rd October 2014: (v0.722)":["Added functionality to some item scripts. Game now modifies inventory drop down behaviour based on responses type (read/equip).",
"Items can now influence player stats on equip, dequip, swapped and on read."],"30th September 2014: (v0.72)":["Added user saving and loading for player position, items and equipment. Picked up and equipped items are now stored and saved regardless of session.","Edited the skills panel to utilise the list view logic. Skills menu now shows level and experience progression and uses data from the user account","Added health manipulation functionality utilising new skill logic as noted in the previous point."],
"27th September 2014: (v0.72)":["Added registration and logging in system. Users can now have automatic login setup for their accounts and player data is starting to be saved from an actual account.","Server now has a new folder where user data is stored.","Added the beginnings of a user ranking system, game editors can now only be accessed if the player rank is above 1. Rank 1 is now the default registration rank."],"25th August 2014: (v0.718)":["Added 90% of subeditors needed for the scripting system. Go into the script editor and press the pencil icon on the responses and requirements to edit their core data.",
"Updated script panel texture to utilize inpanel submenu editors.","Abstracted out the script editor so that its not dependant on certain types.","Added/removed requirements responses based on logical conclusions on what is actually needed. Consume as an item response, for example, is unecessary because it would work identically to destroy."],"17th August 2014: (v0.714)":["Added basic template logic of new scripting editor system. Scripts can be saved and loaded like other list systems. This editor currently does not allow you to apply scripts to anything (it is simply the GUI interface template logic that's in there). The item editor has been changed to utilize the new saved scripts list.",
"Fixed localstorage issue caused by settings implementation. Game now does not now load until the game is fully in sync. The issue was causing an error on some game-loads because the localstorage was not yet available (requiring a refresh)."],"11th August 2014: (v0.708)":["Added settings menu for various game controls. Settings menu only currently controls a load of in game string settings. Also added the additional required admin panel graphic for settings access. The new chatbox command is /editsettings.",
"Added scrolling credits button to login page and populated it.","Added this scrolling news feed to login page and obviously populated it as well."],"11th August 2014 (v0.7)":["Added some additional custom gui for some of the editors.","Fixed a lot of bugs (and I mean a lot).","Added 0.7 download to site."],"10th August 2014 (v0.695)":["Added quest objective editor. New button now made usable in menu.","Objective editor utilizes abstract scrolling list from 0.69."]}},jk:function(a){A({savequests:a+
"",questdata:this.data})},ak:function(a,c){A({savequestswhole:c})},oa:function(){this._super();this.gb()},gb:function(){this.D&&this.D.$b();var a=[],c=[];p.ga.e();var d=0,e;for(e in this.data){a[d]=p.C.create();a[d].R(324,32);var f=p.Q.create(e,"Arial",18);f.F(p.a(0,0));f.l(p.a(4,0));f.Ab(p.size(246,0));f.m(p.j(100,0,0));a[d].f(f);a[d].R(324,f.c().height+4);f=[];c.push(f);d++;for(var g in this.data[e]){a[d]=p.C.create();a[d].R(324,32);var h=p.aa.create(p.h(0,0,0,127),316,1);h.l(p.a(4,0));var k=p.Q.create(this.data[e][g],
"Arial",15);k.m(p.j(0,0,0));k.F(p.a(0,0));k.l(p.a(4,4));k.Ab(p.size(246,0));f=[];c.push(f);a[d].f(h);a[d].f(k);a[d].R(324,k.c().height+8);d++}}this.D=this.b.main_panel.list;this.D.Xc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return p.size(324,c)};this.D.Oc=function(){return a.length};this.D.fd=function(c){return a[c].c()};this.D.dd=function(c){return a[c]};this.D.ac=function(){};this.D.ca=ListView.create(this.D);this.D.ca.hd(c);this.D.f(this.D.ca)},xc:function(){return{panels:{position:p.a(300,
200),children:{background_image:{Z:"GUI/list_panel.png",d:p.a(0,0)},main_panel:{d:p.a(0,0),size:p.size(365,328),children:{list:{size:p.size(324,328),v:p.h(0,200,200,200),position:p.a(0,0),d:p.a(0,0)}}},control_panel:{d:p.a(0,0),position:p.a(0,328),size:p.size(365,32),children:{header:{label:"News",fontSize:20,d:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(337,6),size:p.size(20,20),d:p.a(0,0),Z:"GUI/close.png"}}}}}}},lb:function(a){if(this._super(a))return!0;this.Vd=null;a=this.b.main_panel.Ia(a.M);
return J(this.b.main_panel,a)?!0:!1}});CreditsPanel=null;
Credits=Popup.extend({data:null,D:null,ib:null,Cc:function(){return"Credits"},wa:function(){this._super()},r:function(){this._super();this.data={"Programmed and designed by:":"Alan Tuckwood","Special thanks:":"Claire, for putting up with all the non-talking hours.","Special thanks 2:":"IndieRising dev community for all their wonderful support.","Special thanks 3:":"Finblade, for all the skills I was able to pass into this engine.","Special thanks 4:":"All of you players, who's positive response keep me motivated.","Powder Engine is Copywritten":"Contact the developer in-site regarding questions."}},
jk:function(a){A({savequests:a+"",questdata:this.data})},ak:function(a,c){A({savequestswhole:c})},oa:function(){this._super();this.gb()},gb:function(){this.D&&this.D.$b();var a=[],c=[];p.ga.e();var d=0,e;for(e in this.data){if("ISSECTION"!=this.data[e]){a[d]=p.C.create();a[d].R(324,32);var f=p.Q.create(e,"Arial",18);f.F(p.a(0,0));f.l(p.a(4,0));f.Ab(p.size(246,0));f.m(p.j(100,0,0));a[d].f(f);a[d].R(324,f.c().height+4);f=[];c.push(f);d++}a[d]=p.C.create();a[d].R(324,32);var g=p.aa.create(p.h(0,0,0,
127),316,1);g.l(p.a(4,0));if("ISSECTION"==this.data[e]){var h=p.Q.create(e,"Arial",22);h.m(p.j(255,0,0))}else h=p.Q.create(this.data[e],"Arial",15),h.m(p.j(0,0,0));h.F(p.a(0,0));h.l(p.a(4,4));h.Ab(p.size(246,0));f=[];c.push(f);a[d].f(g);a[d].f(h);"ISSECTION"==this.data[e]?a[d].R(324,h.c().height+12):a[d].R(324,h.c().height+8);d++}this.D=this.b.main_panel.list;this.D.Xc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return p.size(324,c)};this.D.Oc=function(){return a.length};this.D.fd=
function(c){return a[c].c()};this.D.dd=function(c){return a[c]};this.D.ac=function(){};this.D.ca=ListView.create(this.D);this.D.ca.hd(c);this.D.f(this.D.ca)},xc:function(){return{panels:{position:p.a(300,200),children:{background_image:{Z:"GUI/list_panel.png",d:p.a(0,0)},main_panel:{d:p.a(0,0),size:p.size(365,328),children:{list:{size:p.size(324,328),v:p.h(0,200,200,200),position:p.a(0,0),d:p.a(0,0)}}},control_panel:{d:p.a(0,0),position:p.a(0,328),size:p.size(365,32),children:{header:{label:"Credits",
fontSize:20,d:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(337,6),size:p.size(20,20),d:p.a(0,0),Z:"GUI/close.png"}}}}}}},lb:function(a){if(this._super(a))return!0;this.Vd=null;a=this.b.main_panel.Ia(a.M);return J(this.b.main_panel,a)?!0:!1}});Login=Ea.extend({Es:!1,Ol:!1,r:function(a){I=Ba(I,V.QB());this._super();G.vn(this);this.Dp=this.oC=!1;this.gk=new $(this.b.name_entry,p.size(this.b.name_entry.c().width,this.b.name_entry.c().height),p.a(0,this.b.name_entry.c().height),"Username",p.h(100,100,100),p.j(255,255,255));this.xl=new $(this.b.password_entry,p.size(this.b.password_entry.c().width,this.b.password_entry.c().height),p.a(0,this.b.password_entry.c().height),"Password",p.h(100,100,100),p.j(255,255,255));this.xl.Kp(0);this.MC=new $(this.b.new_user_name,
p.size(this.b.new_user_name.c().width,this.b.new_user_name.c().height),p.a(0,this.b.new_user_name.c().height),"Username",p.h(100,100,100),p.j(255,255,255));this.Rw=new $(this.b.new_user_pass,p.size(this.b.new_user_pass.c().width,this.b.new_user_pass.c().height),p.a(0,this.b.new_user_pass.c().height),"Password",p.h(100,100,100),p.j(255,255,255));this.Rw.Kp(0);this.LC=new $(this.b.new_user_email,p.size(this.b.new_user_email.c().width,this.b.new_user_email.c().height),p.a(0,this.b.new_user_email.c().height),
"Email Address",p.h(100,100,100),p.j(255,255,255));this.XG=!1;a&&(a.QI?(B=[],A({logout:!0})):this.XG=!0,this.xn(a.YC));this.bc(this.xB);this.WG=!1;this.bc(this.vD);this.bC();this.b.rem_login_text.Ab(p.size(80,0));this.b.auto_login_text.Ab(p.size(80,0));this.b.server_message.Ab(p.size(300,0));this.b.server_message2.Ab(p.size(150,0))},wl:function(a){switch(a){case "ENTER":if(this.oC){a=this.MC.X();var c=this.Rw.X(),d=this.LC.X();""!=a&&null!=a&&""!=c&&null!=c&&""!=d&&null!=d?!1==/\S+@\S+\.\S+/.test(d)?
this.jg("Please use a correct email address."):(this.Dp=!0,this.jg("Registering please wait..."),this.sJ({name:a,password:c,email:d})):this.jg("Please fill all fields.")}else!1==this.Ol&&this.Es?(a=this.gk.X(),c=this.xl.X(),""!=a&&null!=a&&""!=c&&null!=c?(this.Ol=!0,this.jg("Logging In"),A({login:!0,username:this.gk.X(),password:this.xl.X()})):this.jg("Please enter a User and Password")):this.Jw("Server is offline!")}},xn:function(a){this.Es=a;!0==a?(this.b.server_activity.fa("Server: Online"),this.b.server_activity.m(p.j(0,
255,0))):(this.b.server_activity.fa("Server: Offline"),this.b.server_activity.m(p.j(255,0,0)))},xB:function(){var a=V.qS();a&&!1==this.WG&&(this.gk.Hd(a.user),this.WG=!0,this.xl.Hd(a.pass));!0==this.XG&&autoLoginNextTime&&!1==this.Ol&&this.Es&&(!1==this.Ol&&this.Es?(this.Ol=!0,this.jg("Logging In"),A({login:!0,username:this.gk.X(),password:this.xl.X()})):this.Jw("Server is offline!"))},vD:function(){if(0<B.length)for(var a=B.length-1;0<=a;a--)reactToSocketMessage(B[a]),B.splice(a,1);autoLoginNextTime?
(V.HJ(!0),this.b.auto_login.ia(p.ga.e().qa("GUI/checkbox_checked.png"))):(V.HJ(!1),this.b.auto_login.ia(p.ga.e().qa("GUI/checkbox_uncheck.png")));rememberLoginNextTime?this.b.remember_login.ia(p.ga.e().qa("GUI/checkbox_checked.png")):this.b.remember_login.ia(p.ga.e().qa("GUI/checkbox_uncheck.png"))},xc:function(){return{panels:{children:{background:{Z:"GUI/splash.png",size:p.size(960,640),d:p.a(0,0),position:p.a(0,0)},name_entry:{size:p.size(300,30),position:p.a(325,325)},password_entry:{size:p.size(300,
30),position:p.a(325,290)},new_user_name:{size:p.size(300,30),position:p.a(325,360)},new_user_pass:{size:p.size(300,30),position:p.a(325,325)},new_user_email:{size:p.size(300,30),position:p.a(325,290)},remember_login:{size:p.size(20,20),position:p.a(630,295),Z:"GUI/checkbox_uncheck.png",d:p.a(0,0)},rem_login_text:{label:"Remember login.",fontSize:16,color:p.j(255,255,255),d:p.a(0,1),position:p.a(665,315)},auto_login:{size:p.size(20,20),position:p.a(630,330),Z:"GUI/checkbox_uncheck.png",d:p.a(0,0)},
auto_login_text:{label:"Auto login next time.",fontSize:16,color:p.j(255,255,255),d:p.a(0,0),position:p.a(665,330)},go_button:{position:p.a(325,240),size:p.size(120,40),v:p.h(0,0,0,255),children:{label:{label:"Play",fontSize:20,color:p.j(255,255,255),d:p.a(0.5,0.5),position:p.a(60,20)}}},register_button:{position:p.a(505,240),size:p.size(120,40),v:p.h(0,0,0,255),d:p.a(0,1),children:{label:{label:"Register",fontSize:20,color:p.j(255,255,255),d:p.a(0.5,0.5),position:p.a(60,20)}}},new_user_back:{position:p.a(325,
240),size:p.size(120,40),v:p.h(0,0,0,255),children:{label:{label:"Go Back",fontSize:20,color:p.j(255,255,255),d:p.a(0.5,0.5),position:p.a(60,20)}}},new_user_confirm:{position:p.a(505,240),size:p.size(120,40),v:p.h(0,0,0,255),d:p.a(0,1),children:{label:{label:"Confirm",fontSize:20,color:p.j(255,255,255),d:p.a(0.5,0.5),position:p.a(60,20)}}},credits_button:{position:p.a(30,400),size:p.size(120,40),v:p.h(0,0,0,255),children:{label:{label:"Credits",fontSize:20,color:p.j(255,255,255),d:p.a(0.5,0.5),position:p.a(60,
20)}}},news_button:{position:p.a(30,340),size:p.size(120,40),v:p.h(0,0,0,255),d:p.a(0,1),children:{label:{label:"News",fontSize:20,color:p.j(255,255,255),d:p.a(0.5,0.5),position:p.a(60,20)}}},server_message:{label:"",fontSize:16,color:p.j(255,255,255),d:p.a(0,1),position:p.a(325,220)},server_message2:{label:"This game saves data automatically.",fontSize:16,color:p.j(255,255,255),d:p.a(0,1),position:p.a(175,355)},version_number:{label:I["Version Number"],fontSize:34,color:p.j(255,255,255),d:p.a(1,
1),position:p.a(710,55)},server_activity:{position:p.a(910,630),size:p.size(100,20),d:p.a(0.5,0.5),label:"Server: Offline",color:p.j(255,0,0)}}}}},ZW:function(){autoLoginNextTime?(autoLoginNextTime=!1,this.b.auto_login.ia(p.ga.e().qa("GUI/checkbox_uncheck.png"))):(autoLoginNextTime=!0,this.b.auto_login.ia(p.ga.e().qa("GUI/checkbox_checked.png")),rememberLoginNextTime=!0,this.b.remember_login.ia(p.ga.e().qa("GUI/checkbox_checked.png")))},$W:function(){rememberLoginNextTime?(rememberLoginNextTime=!1,
this.b.remember_login.ia(p.ga.e().qa("GUI/checkbox_uncheck.png")),autoLoginNextTime=!1,this.b.auto_login.ia(p.ga.e().qa("GUI/checkbox_uncheck.png"))):(rememberLoginNextTime=!0,this.b.remember_login.ia(p.ga.e().qa("GUI/checkbox_checked.png")))},lb:function(a){if(null!=this.gk.X()&&this.b.go_button.ma&&p.bb(p.rect(this.b.go_button.p.G,this.b.go_button.p.O,this.b.go_button.c().width,this.b.go_button.c().height),a.M)){if(!1==this.Ol&&this.Es){a=this.gk.X();var c=this.xl.X();""!=a&&null!=a&&""!=c&&null!=
c?(this.Ol=!0,this.jg("Logging In"),A({login:!0,username:this.gk.X(),password:this.xl.X()})):this.jg("Please enter a User and Password")}else this.Jw("Server is offline!");return!0}this.b.credits_button.ma&&p.bb(p.rect(this.b.credits_button.p.G,this.b.credits_button.p.O,this.b.credits_button.c().width,this.b.credits_button.c().height),a.M)&&this.Gf("/openCredits");this.b.news_button.ma&&p.bb(p.rect(this.b.news_button.p.G,this.b.news_button.p.O,this.b.news_button.c().width,this.b.news_button.c().height),
a.M)&&this.Gf("/openNews");if(this.b.register_button.ma&&p.bb(p.rect(this.b.register_button.p.G,this.b.register_button.p.O,this.b.register_button.c().width,this.b.register_button.c().height),a.M))return this.MW(),!1;if(this.b.auto_login.ma&&p.bb(p.rect(this.b.auto_login.p.G,this.b.auto_login.p.O,this.b.auto_login.c().width,this.b.auto_login.c().height),a.M))return this.ZW(),!1;if(this.b.remember_login.ma&&p.bb(p.rect(this.b.remember_login.p.G,this.b.remember_login.p.O,this.b.remember_login.c().width,
this.b.remember_login.c().height),a.M))return this.$W(),!1;if(this.b.new_user_back.ma&&!1==this.Dp&&p.bb(p.rect(this.b.new_user_back.p.G,this.b.new_user_back.p.O,this.b.new_user_back.c().width,this.b.new_user_back.c().height),a.M))return this.bC(),this.jg(""),!1;if(this.b.new_user_confirm.ma&&!1==this.Dp&&p.bb(p.rect(this.b.new_user_confirm.p.G,this.b.new_user_confirm.p.O,this.b.new_user_confirm.c().width,this.b.new_user_confirm.c().height),a.M)){a=this.MC.X();var c=this.Rw.X(),d=this.LC.X();""!=
a&&null!=a&&""!=c&&null!=c&&""!=d&&null!=d?!1==/\S+@\S+\.\S+/.test(d)?this.jg("Please use a correct email address."):(this.Dp=!0,this.jg("Registering please wait..."),this.sJ({name:a,password:c,email:d})):this.jg("Please fill all fields.");return!1}},sJ:function(a){a.newUser=1;A(a)},RQ:function(){this.jg("Registration successful.");this.MC.Hd("Username");this.Rw.Hd("Password");this.LC.Hd("Email Address");this.Dp=!1;this.bC()},BR:function(a){this.Dp=!1;switch(a){case "UserTaken":this.jg("Registration failed, user already exists.")}},
MW:function(){this.b.new_user_name.w(!0);this.b.new_user_pass.w(!0);this.b.new_user_email.w(!0);this.b.new_user_confirm.w(!0);this.b.new_user_back.w(!0);this.b.register_button.w(!1);this.b.go_button.w(!1);this.b.name_entry.zb(-1E5);this.b.password_entry.zb(-1E5);this.b.new_user_name.zb(325);this.b.new_user_pass.zb(325);this.b.new_user_email.zb(325);this.b.rem_login_text.w(!1);this.b.auto_login_text.w(!1);this.b.auto_login.w(!1);this.b.remember_login.w(!1);this.oC=!0},bC:function(){this.b.new_user_name.w(!1);
this.b.new_user_pass.w(!1);this.b.new_user_email.w(!1);this.b.new_user_confirm.w(!1);this.b.new_user_back.w(!1);this.b.register_button.w(!0);this.b.go_button.w(!0);this.b.name_entry.zb(325);this.b.password_entry.zb(325);this.b.new_user_name.zb(-1E5);this.b.new_user_pass.zb(1E5);this.b.new_user_email.zb(1E5);this.b.rem_login_text.w(!0);this.b.auto_login_text.w(!0);this.b.auto_login.w(!0);this.b.remember_login.w(!0);this.oC=!1},Gf:function(a){switch(a){case "/openCredits":null==CreditsPanel||CreditsPanel.V||
(CreditsPanel=null);CreditsPanel?(CreditsPanel.wa(),CreditsPanel.L(),CreditsPanel=null):(CreditsPanel=new Credits,CreditsPanel.r(),CreditsPanel.oa(),this.f(CreditsPanel));break;case "/openNews":null==NewsPanel||NewsPanel.V||(NewsPanel=null),NewsPanel?(NewsPanel.wa(),NewsPanel.L(),NewsPanel=null):(NewsPanel=new News,NewsPanel.r(),NewsPanel.oa(),this.f(NewsPanel))}},ET:function(a){rememberLoginNextTime&&V.oW(this.gk.X(),this.xl.X());this.Sc(this.xB);G.e().ll("Game",{ik:a,map:1})},Jw:function(a){this.Sc(this.xB);
this.b.server_message.fa(a);this.Ol=!1},jg:function(a){this.b.server_message.fa(a)},vd:function(){},Ff:function(){},m7:function(){G.e().ll("Game",{sba:this.gk.X()})}});L=null;MapMaster=!1;
var Fa=Ea.extend({EI:!1,ctor:function(){this._super()},KT:function(){var a=this.xc();ya(a,"panels",this.b)},xc:function(){return{panels:{children:{saving_icon:{visible:!1,position:p.a(Y.width-52,4),d:p.a(0,0),size:p.size(48,48),Z:"GUI/save_icon.png"},logout_button:{position:p.a(Y.width-52,Y.height-52),d:p.a(0,0),size:p.size(48,48),Z:"GUI/logout.png"},quicknav_button:{position:p.a(Y.width-30,Math.floor(Y.height/2)-24),d:p.a(0,0),size:p.size(48,48),Z:"GUI/quickmenu_closed_icon.png"},inventory_button:{position:p.a(Y.width-
52,Math.floor(Y.height/2)+60),d:p.a(0,0),size:p.size(48,48),Z:"GUI/inventory_icon.png"},equipment_button:{position:p.a(Y.width-82,Math.floor(Y.height/2)+4),d:p.a(0,0),size:p.size(48,48),Z:"GUI/equipment_icon.png"},skill_button:{position:p.a(Y.width-82,Math.floor(Y.height/2)-52),d:p.a(0,0),size:p.size(48,48),Z:"GUI/skills_icon.png"},chat_button:{position:p.a(Y.width-52,Math.floor(Y.height/2)-108),d:p.a(0,0),size:p.size(48,48),Z:"GUI/chat_icon.png"},quickedit_button:{position:p.a(0,Math.floor(Y.height/
2)-24),d:p.a(0,0),size:p.size(48,48),Z:"GUI/quickedit_closed_icon.png"},mapedit_button:{position:p.a(4,Math.floor(Y.height/2)+116),d:p.a(0,0),size:p.size(48,48),Z:"GUI/mapeditor_icon.png"},npcedit_button:{position:p.a(34,Math.floor(Y.height/2)+60),d:p.a(0,0),size:p.size(48,48),Z:"GUI/npceditor_icon.png"},itemedit_button:{position:p.a(64,Math.floor(Y.height/2)+4),d:p.a(0,0),size:p.size(48,48),Z:"GUI/itemeditor_icon.png"},skilledit_button:{position:p.a(64,Math.floor(Y.height/2)-52),d:p.a(0,0),size:p.size(48,
48),Z:"GUI/skilleditor_icon.png"},signedit_button:{position:p.a(34,Math.floor(Y.height/2)-108),d:p.a(0,0),size:p.size(48,48),Z:"GUI/signeditor_icon.png"},warpedit_button:{position:p.a(4,Math.floor(Y.height/2)-164),d:p.a(0,0),size:p.size(48,48),Z:"GUI/warpeditor_icon.png"},scriptedit_button:{position:p.a(90,Math.floor(Y.height/2)-108),d:p.a(0,0),size:p.size(48,48),Z:"GUI/scripteditor_icon.png"},settings_button:{position:p.a(4,Math.floor(Y.height/2)-220),d:p.a(0,0),size:p.size(48,48),Z:"GUI/settings_icon.png"},
bankedit_button:{position:p.a(90,Math.floor(Y.height/2)+60),d:p.a(0,0),size:p.size(48,48),Z:"GUI/bankeditor_icon.png"},shopedit_button:{position:p.a(120,Math.floor(Y.height/2)+4),d:p.a(0,0),size:p.size(48,48),Z:"GUI/shopeditor_icon.png"},questedit_button:{position:p.a(120,Math.floor(Y.height/2)-52),d:p.a(0,0),size:p.size(48,48),Z:"GUI/questeditor_icon.png"}}}}},BI:!1,zI:!1,xn:function(a){!1==a&&(this.AB(),G.e().ll("Login",{YC:!1}))},AB:function(){U.ff();U.Hs();null!=Equipment&&(Equipment.wa(),Equipment.L(),
Equipment=null);null!=Inventory&&(Inventory.wa(),Inventory.L(),Inventory=null);null!=Skills&&(Skills.wa(),Skills.L(),Skills=null);null!=Quests&&(Quests.wa(),Quests.L(),Quests=null);SkillBarsInstance.L();R.ff();R.Hs();S.ff();S.Hs()},lb:function(a){if(p.bb(p.rect(this.b.logout_button.p.G,this.b.logout_button.p.O,this.b.logout_button.c().width,this.b.logout_button.c().height),a.M))return this.AB(),G.e().ll("Login",{QI:!0,YC:!0}),!0;G.vn(this);if(p.bb(this.b.chat_button.Ya(),a.M)&&this.b.chat_button.ma)return this.wl("C"),
!0;if(p.bb(this.b.inventory_button.Ya(),a.M)&&this.b.inventory_button.ma)return this.wl("I"),!0;if(p.bb(this.b.equipment_button.Ya(),a.M)&&this.b.equipment_button.ma)return this.wl("E"),!0;if(p.bb(this.b.skill_button.Ya(),a.M)&&this.b.skill_button.ma)return this.wl("S"),!0;if(this.b.quickedit_button.ma&&p.bb(this.b.quickedit_button.Ya(),a.M)&&this.b.quickedit_button.ma)return this.EK(!this.zI),!0;if(p.bb(this.b.quicknav_button.Ya(),a.M)&&this.b.quicknav_button.ma)return this.FK(!this.BI),!0;if(p.bb(this.b.mapedit_button.Ya(),
a.M)&&this.b.mapedit_button.ma)return this.Gf("/editmap"),!0;if(p.bb(this.b.npcedit_button.Ya(),a.M)&&this.b.npcedit_button.ma)return this.Gf("/editnpc"),!0;if(p.bb(this.b.itemedit_button.Ya(),a.M)&&this.b.itemedit_button.ma)return this.Gf("/edititem"),!0;if(p.bb(this.b.skilledit_button.Ya(),a.M)&&this.b.skilledit_button.ma)return this.Gf("/editskill"),!0;if(p.bb(this.b.signedit_button.Ya(),a.M)&&this.b.signedit_button.ma)return this.Gf("/editsign"),!0;if(p.bb(this.b.scriptedit_button.Ya(),a.M)&&
this.b.scriptedit_button.ma)return this.Gf("/editscript"),!0;if(p.bb(this.b.warpedit_button.Ya(),a.M)&&this.b.warpedit_button.ma)return this.Gf("/editwarp"),!0;if(p.bb(this.b.settings_button.Ya(),a.M)&&this.b.settings_button.ma)return this.Gf("/editsettings"),!0;if(p.bb(this.b.shopedit_button.Ya(),a.M)&&this.b.shopedit_button.ma)return this.Gf("/editshop"),!0;if(p.bb(this.b.questedit_button.Ya(),a.M)&&this.b.questedit_button.ma)return this.Gf("/editquest"),!0;if(p.bb(this.b.bankedit_button.Ya(),a.M)&&
this.b.bankedit_button.ma)return this.Gf("/editbank"),!0},GK:function(a){null==Sign||Sign.V||(Sign=null);Sign?(Sign.wa(),Sign.L(),Sign=null):(Sign=new SignPanel,Sign.r(a),Sign.oa(),this.f(Sign))},JW:function(a,c){null==Book||Book.V||(Book=null);Book?(Book.wa(),Book.L(),Book=null):(Book=new BookPanel,Book.r(a,c),Book.oa(),this.f(Book))},LW:function(a,c,d,e,f,g){null==NpcChat||NpcChat.V||(NpcChat=null);NpcChat&&(NpcChat.wa(),NpcChat.L(),NpcChat=null);NpcChat=new NpcChatPanel;NpcChat.r(a,c,d,e,f,g);
NpcChat.oa();this.f(NpcChat)},QS:function(){null==NpcChat||NpcChat.V||(NpcChat=null);NpcChat&&(NpcChat.wa(),NpcChat.L(),NpcChat=null)},Ff:function(){},wl:function(a){switch(a){case "C":S.lT()?S.gI():S.show();break;case "ENTER":S.$C(!S.nC());break;case "SPACE":R.q.W.fT();Inventory&&Inventory.ub();break;case "CTRL":R.q.W.eT();break;case "ESC":this.AB();G.e().ll("Login",{QI:!0,YC:!0});break;case "I":null==Inventory||Inventory.V||(Inventory=null);Inventory?(Inventory.wa(),Inventory.L(),Inventory=null):
(Inventory=new InventoryPanel,Inventory.r(),Inventory.oa(),this.f(Inventory));break;case "E":null==Equipment||Equipment.V||(Equipment=null);Equipment?(Equipment.wa(),Equipment.L(),Equipment=null):(Equipment=new EquipmentPanel,Equipment.r(),Equipment.oa(),this.f(Equipment));break;case "S":null==Skills||Skills.V||(Skills=null);Skills?(Skills.wa(),Skills.L(),Skills=null):(Skills=new SkillsPanel,Skills.r(),Skills.oa(),this.f(Skills));break;case "Q":null==Quests||Quests.V||(Quests=null),Quests?(Quests.wa(),
Quests.L(),Quests=null):(Quests=new QuestsPanel,Quests.r(),Quests.oa(),this.f(Quests))}},xC:function(a){var c=R.q.W.ze();R.q.W.path=null;if(0==c.x%1&&0==c.y%1)switch(a){case "RIGHTARROW":R.q.W.Wp(c.x+1,c.y);break;case "LEFTARROW":R.q.W.Wp(c.x-1,c.y);break;case "UPARROW":R.q.W.Wp(c.x,c.y+1);break;case "DOWNARROW":R.q.W.Wp(c.x,c.y-1)}},FK:function(a){this.BI=a;this.b.chat_button.w(a);this.b.inventory_button.w(a);this.b.equipment_button.w(a);this.b.skill_button.w(a);this.b.quicknav_button.ia(p.ga.e().qa(!0==
a?"GUI/quickmenu_opened_icon.png":"GUI/quickmenu_closed_icon.png"))},EK:function(a){this.zI=a;this.b.mapedit_button.w(a);this.b.npcedit_button.w(a);this.b.itemedit_button.w(a);this.b.skilledit_button.w(a);this.b.signedit_button.w(a);this.b.scriptedit_button.w(a);this.b.warpedit_button.w(a);this.b.settings_button.w(a);this.b.shopedit_button.w(a);this.b.bankedit_button.w(a);this.b.questedit_button.w(a);this.b.quickedit_button.ia(p.ga.e().qa(!0==a?"GUI/quickedit_opened_icon.png":"GUI/quickedit_closed_icon.png"))},
Gf:function(a){if(a){if(1<R.q.W.gp)switch(a){case "/editscript":null==Scripteditor||Scripteditor.V||(Scripteditor=null);Scripteditor?(Scripteditor.wa(),Scripteditor.L(),Scripteditor=null):(Scripteditor=new PopupList,Scripteditor.r({k:null,Ig:new ScriptEditor,list:ObjectLists.Wi(),name:"Script List"}),Scripteditor.oa(),this.f(Scripteditor));break;case "/editmap":null==Mapeditor||Mapeditor.V||(Mapeditor=null);Mapeditor?(Mapeditor.wa(),Mapeditor.L(),Mapeditor=null,U.Is(null)):(Mapeditor=new MapEditor,
Mapeditor.r(),Mapeditor.oa(),this.f(Mapeditor),U.Is(Mapeditor));break;case "/editsettings":null==Settingseditor||Settingseditor.V||(Settingseditor=null);Settingseditor?(Settingseditor.wa(),Settingseditor.L(),Settingseditor=null):(Settingseditor=new SettingsEditor,Settingseditor.r(),Settingseditor.oa(),this.f(Settingseditor));break;case "/editwarp":null==Warpeditor||Warpeditor.V||(Warpeditor=null);Warpeditor?(Warpeditor.wa(),Warpeditor.L(),Warpeditor=null):(Warpeditor=new PopupList,Warpeditor.r({k:null,
Ig:new WarpEditor,list:ObjectLists.Zm(),name:"Warp List"}),Warpeditor.oa(),this.f(Warpeditor));break;case "/editsign":null==Signeditor||Signeditor.V||(Signeditor=null);Signeditor?(Signeditor.wa(),Signeditor.L(),Signeditor=null):(Signeditor=new PopupList,Signeditor.r({k:null,Ig:new SignEditor,list:ObjectLists.ls(),name:"Sign List"}),Signeditor.oa(),this.f(Signeditor));break;case "/editskill":null==Skillseditor||Skillseditor.V||(Skillseditor=null);Skillseditor?(Skillseditor.wa(),Skillseditor.L(),Skillseditor=
null):(Skillseditor=new PopupList,Skillseditor.r({k:null,Ig:new SkillsEditor,list:ObjectLists.uh(),name:"Skills List"}),Skillseditor.oa(),this.f(Skillseditor));break;case "/edititem":null==Itemeditor||Itemeditor.V||(Itemeditor=null);Itemeditor?(Itemeditor.wa(),Itemeditor.L(),Itemeditor=null,U.Is(null)):(Itemeditor=new PopupList,Itemeditor.r({k:null,Ig:new ItemEditor,list:ObjectLists.Bf(),name:"Item List"}),Itemeditor.oa(),this.f(Itemeditor));break;case "/editnpc":null==NPCeditor||NPCeditor.V||(NPCeditor=
null);NPCeditor?(NPCeditor.wa(),NPCeditor.L(),NPCeditor=null,U.Is(null)):(NPCeditor=new PopupList,NPCeditor.r({k:null,Ig:new NPCEditor,list:ObjectLists.kl(),name:"NPC List"}),NPCeditor.oa(),this.f(NPCeditor));break;case "/editquest":null==Questeditor||Questeditor.V||(Questeditor=null),Questeditor?(Questeditor.wa(),Questeditor.L(),Questeditor=null,U.Is(null)):(Questeditor=new PopupList,Questeditor.r({k:null,Ig:new QuestEditor,list:ObjectLists.rp(),name:"Quest List"}),Questeditor.oa(),this.f(Questeditor))}switch(a){case "/help":S.showHelp();
break;case "/commands":S.KW();break;case "/diceroll":a=Math.floor(6*Math.random()+1);var c=I["/diceroll"],c=c.replace("\x3cPLAYER\x3e",R.q.W.getName()),c=c.replace("\x3cVALUE\x3e",a);S.rb(c);A({diceroll:c});break;case "/coinflip":a=1==Math.floor(3*Math.random()+1)?"Heads":"Tails";c=I["/coinflip"];c=c.replace("\x3cPLAYER\x3e",R.q.W.getName());c=c.replace("\x3cVALUE\x3e",a);S.rb(c);A({coinflip:c});break;case "/dance":a=I["/dance"];a=a.replace("\x3cPLAYER\x3e",R.q.W.getName());S.rb(a);A({dance:a});break;
case "/afk":R.q.W.updateStatus("AFK"),A({afk:!0})}}},r:function(a){this._super();var c=p.aa.create(p.j(0,0,0),Y.width,Y.height);c.F(p.a(0,0));c.l(p.a(0,0));this.f(c);L=this;this.f(U.create());ObjectLists.e();R.create({name:a.ik.name,$i:!0,An:{health:{Pc:1,value:100,dg:200,cg:900},mana:{Pc:1,value:100,dg:200,cg:99}},map:a.ik.location.mapnumber,position:a.ik.location.position,Rs:"sprites1.png",Ps:1,gp:a.ik.rank,uI:a.ik.inventory,xH:a.ik.equipment,yl:a.ik.quests,di:a.ik.extraData});U.gQ();this.b.L();
this.Qp(-20);A({moveTo:R.q.W.ze().x+R.q.W.ze().y*P});this.f(S.create());this.f(T.create(a.ik.skills));this.FK(!1);this.EK(!1);this.EW();this.f(this.b);this.bc(this.vD);this.bc(this.nV);this.bc(this.gV,120)},gV:function(){var a={saveUser:!0,name:R.q.W.getName(),location:{mapnumber:U.Rd(),position:R.q.W.ze().x+R.q.W.ze().y*P},inventory:R.q.W.jl(),equipment:R.q.W.np(),skills:[],clan:"",guilds:[],quests:R.q.W.yl,friends:[],pets:[],pmessages:[],lastchats:[],health:100,extraData:R.q.W.di};this.b.saving_icon.w(!0);
this.EI=!0;A(a);console.log("SAVING NOW!")},FR:function(){this.b.saving_icon.w(!1);this.EI=!1},EW:function(){1==R.q.W.gp&&this.b.quickedit_button.w(!1)},vD:function(){if(0<B.length)for(var a=0;a<B.length;a++){var c=JSON.parse(B[a]);c.moveTo&&(!R.hi(c.id)||R.hi(c.id)&&!1==R.hi(c.id).Pg)?(reactToSocketMessage(JSON.stringify(c)),B.splice(a,1)):c.moveTo||(reactToSocketMessage(JSON.stringify(c)),B.splice(a,1))}},nV:function(){if(!0==MapMaster){var a=R.lM(),c;for(c in a)if(!1==a[c].Ow){var d=10*Math.random()+
1,e=a[c].ze();switch(Math.floor(4*Math.random())+1){case 1:e.x++;break;case 2:e.y++;break;case 3:e.x--;break;case 4:e.y--}a[c].jW(e,d)}}}});var Ga=p.Ea.extend({Yc:null,g2:!1,$C:function(a){console.log("setting focused: "+a);a&&!0==a?this.Yc.I.focus():(console.log("blurrin"),this.Yc.I.blur())},nC:function(){console.log("isfocused\x3d"+document.activeElement==this.Yc.I);return document.activeElement==this.Yc.I},fa:function(a){this.Yc.Hd(a)},SB:function(){return this.Yc.X()},r:function(){p.log("Ovveride inputbox init call if necessary")},ctor:function(a,c,d,e,f,g,h){h&&!1!=h?(this.Yc=MultiLineBox.create(p.size(c.width,c.height),p.Pe.create()),
this.Yc.Gs(p.j(f.o,f.n,f.i))):(this.Yc=SingleLineBox.create(p.size(c.width,c.height),p.Pe.create()),this.Yc.I.style.background="#"+v(f.o)+v(f.n)+v(f.i));this.Yc.Hd(e);this.Yc.dR=e;this.Yc.aD(p.j(g.o,g.n,g.i));this.Yc.l(p.a(d.x,d.y));this.Yc.F(0,0);this.Yc.ig(this);a.f(this.Yc);this.r()}});var Ha=Ga.extend({fl:function(a){a.Hd("")},hl:function(a,c){c||("/"==a.X().substring(0,1)?this.dV(a.X()):0<a.X().length&&S.rb(a.X(),!0));a.Hd(I["Default ChatBar Message"])},dV:function(a){G.e().ud.Gf(a)},il:function(a,c){a.Hd(c);p.log("chatBox "+this.tF(a)+", TextChanged, text: "+c)},tF:function(){return"chatbox"}}),Z=null,S=p.Ec.extend({wB:null,NG:function(a){for(var c=[],d=0;7>d;d++)c.push(this.b.chat_panel["label"+d].SB());this.b.chat_panel.label0.fa(a);for(d=1;8>d;d++)this.b.chat_panel["label"+
d].fa(c[d-1])},xc:function(){return{panels:{children:{chat_panel:{size:p.size(400,150),Z:"GUI/chat.png",d:p.a(0,0),opacity:200,position:p.a(0,0),children:{chatbar:{size:p.size(390,22),position:p.a(5,124),v:p.h(255,255,255,255)},label7:{label:"",position:p.a(5,0),d:p.a(0,0),color:p.j(0,0,0)},label6:{label:"",position:p.a(5,15),d:p.a(0,0),color:p.j(0,0,0)},label5:{label:"",position:p.a(5,30),d:p.a(0,0),color:p.j(0,0,0)},label4:{label:"",position:p.a(5,45),d:p.a(0,0),color:p.j(0,0,0)},label3:{label:"",
position:p.a(5,60),d:p.a(0,0),color:p.j(0,0,0)},label2:{label:"",position:p.a(5,75),d:p.a(0,0),color:p.j(0,0,0)},label1:{label:"",position:p.a(5,90),d:p.a(0,0),color:p.j(0,0,0)},label0:{label:"",position:p.a(5,105),d:p.a(0,0),color:p.j(0,0,0)}}}}}}}});
S.create=function(){Z||(Z=new S,Z.b=va(Z),Z.f(Z.b),Z.wB=new Ha(Z.b.chat_panel.chatbar,p.size(Z.b.chat_panel.chatbar.c().width-4,Z.b.chat_panel.chatbar.c().height-2),p.a(Z.b.chat_panel.chatbar.p.G+2,Z.b.chat_panel.chatbar.p.O),I["Default ChatBar Message"],p.j(255,255,255),p.j(0,0,0)),S.gI(),S.NW());return Z};S.e=function(){return Z};S.rb=function(a,c){50<a.length&&(a=a.substring(0,50)+"...");c?(A({chatMessage:a}),Z.NG(R.q.W.getName()+": "+a)):Z.NG(a)};S.show=function(){Z.b.Dc(0)};S.gI=function(){Z.b.Dc(-76)};
S.lT=function(){return 0!=Z.b.p.O?!1:!0};S.$C=function(a){Z.wB.$C(a)};S.nC=function(){return Z.wB.nC()};S.showHelp=function(){S.rb(x.ye.LS);S.rb(x.ye.MS);S.rb(x.ye.NS);S.rb(x.ye.OS);S.rb(x.ye.PS)};S.KW=function(){S.rb(x.ye.NQ);S.rb(x.ye.OQ);S.rb(x.ye.PQ);S.rb(x.ye.QQ)};S.NW=function(){S.rb(I["Welcome Message"])};S.ff=function(){Z.b.L();Z.b=null};S.Hs=function(){Z.L();Z=null};var $=Ga.extend({wp:!1,YI:!1,oH:!1,mC:!1,fl:function(a){!1==this.oH&&a.Hd("");this.mC=!0},Kp:function(a){this.Yc.Kp(a)},n6:function(){return this.mC},hl:function(a){this.mC=!1;null==a.X()||""==a.X().length&&this.YI?this.wp=!0:0<!a.X().length?(a.Hd(this.Yc.dR),this.wp=!1):this.wp=!0},il:function(a,c){a.Hd(c);this.wp=!0},tF:function(){return"name_entry"},X:function(){return!0==this.wp||!0==this.cR?this.Yc.X():null},Hd:function(a){this.Yc.Hd(a);this.wp=!0},tb:function(a){this.cR=a},Qc:function(a){this.YI=
a},PJ:function(a){this.oH=a},r:function(){}});var B=[],Ia=io.connect(ha["SERVER:PORT"],{"sync disconnect on unload":!0,"connect timeout":5E3,"reconnection delay ":100});Ia.on("connect",function(){V.Tx();V.vL();V.FM();console.log("Client has connected to the server!");if(G){var a=G.e().ud;a?a.xn(!0):B.push(JSON.stringify({connect:!0}))}else B.push(JSON.stringify({connect:!0}))});Ia.on("message",function(a){reactToSocketMessage(a)});
reactToSocketMessage=function(a){a=JSON.parse(a);var c=!1,d;for(d in a){c=!0;break}if(!1!=c)if(console.log("Received a message from the server!",a),a.sync)a.mapdata&&V.YK(a.mapdata,a.maptime),a.warpdata&&V.Dx(a.warpdata,a.warptime),a.itemdata&&V.Ws(a.itemdata,a.itemtime),a.skillsdata&&V.FD(a.skillsdata,a.skillstime),a.signsdata&&V.Cx(a.signsdata,a.signstime),a.npcsdata&&V.ZK(a.npcsdata,a.npcstime),a.questdata&&V.DD(a.questdata,a.queststime),a.settingsdata&&(V.ED(a.settingsdata,a.settingstime),I=Ba(I,
a.settingsdata)),a.scriptsdata&&V.cL(a.scriptsdata,a.scriptstime),pa=!0;else if(c=G.e().ud)if(a.connect?c.xn(!0):a.disconnect&&c.xn(!1),"Game"==c.Cc())if(a.newPlayer)R.fQ({id:a.id,location:{position:a.position,mapnumber:a.mapnumber}});else if(a.playerLeft)R.hi(a.playerLeft).fg==R.q.W.fg&&(MapMaster=!1),R.nH(a.playerLeft);else if(a.setTo)if(!R.hi(a.id)||R.hi(a.id)&&!1==R.hi(a.id).Pg){for(c=0;c<B.length;c++)d=JSON.parse(B[c]),d.moveTo&&null!=d.moveTo&&d.id==a.id&&(B.splice(c,1),c--);R.gU({id:a.id,location:{position:a.position,
mapnumber:a.mapnumber}});R.hi(a.id).fg==R.q.W.fg&&(MapMaster=!1);R.BQ(a.id,a.mapnumber)}else B.push(JSON.stringify(a));else a.moveTo?!R.hi(a.id)||R.hi(a.id)&&!1==R.hi(a.id).Pg?R.AT({id:a.id,location:{position:a.position,mapnumber:a.mapnumber}}):B.push(JSON.stringify(a)):a.chatMessage?S.rb(a.chatMessage):a.coinflip?S.rb(a.coinflip):a.diceroll?S.rb(a.diceroll):a.dance?S.rb(a.dance):a.afk?R.CQ(a.afk):a.savemap?(V.zQ(a.savemap,a.mapdata,a.updatetime),U.GW(a.mapdata)):a.mapmaster?MapMaster=!0:a.savewarps?
(V.IQ(parseInt(a.savewarps),a.warpdata,a.updatetime),ObjectLists.Zm()[parseInt(a.savewarps)]=a.warpdata,Warpeditor&&(Warpeditor.Nc=ObjectLists.Zm(),Warpeditor.oa())):a.savewarpswhole?(V.EU(a.savewarpswhole,a.updatetime),ObjectLists.BW(a.savewarpswhole)):a.savescripts?(V.EQ(parseInt(a.savescripts),a.scriptsdata,a.updatetime),ObjectLists.Wi()[parseInt(a.savescripts)]=a.scriptsdata,Scripteditor&&(Scripteditor.Nc=ObjectLists.Wi(),Scripteditor.oa())):a.savescriptswhole?(V.BU(a.savescriptswhole,a.updatetime),
ObjectLists.qW(a.savescriptswhole)):a.savesettings?(V.ED(a.savesettings,a.updatetime),I=Ba(I,a.savesettings),Settingseditor&&(Settingseditor.data=K(I),Settingseditor.gb())):a.savequests?(V.DQ(parseInt(a.savequests),a.questdata,a.updatetime),ObjectLists.rp()[parseInt(a.savequests)]=a.questdata,Questeditor&&(Questeditor.Nc=ObjectLists.rp(),Questeditor.oa())):a.savequestswhole?(V.AU(a.savequestswhole,a.updatetime),ObjectLists.lW(a.savequestswhole)):a.saveskills?(V.GQ(parseInt(a.saveskills),a.skillsdata,
a.updatetime),ObjectLists.uh()[parseInt(a.saveskills)]=a.skillsdata,Skillseditor&&(Skillseditor.Nc=ObjectLists.uh(),Skillseditor.oa()),T.update(),Skills&&Skills.ub()):a.saveskillswhole?(V.DU(a.saveskillswhole,a.updatetime),ObjectLists.sW(a.saveskillswhole),T.update(),Skills&&Skills.ub()):a.savesigns?(V.FQ(parseInt(a.savesigns),a.signsdata,a.updatetime),ObjectLists.ls()[parseInt(a.savesigns)]=a.signsdata,Signeditor&&(Signeditor.Nc=ObjectLists.ls(),Signeditor.oa())):a.moveNPC?(a.npcID=parseInt(a.npcID),
!R.op(a.npcID)||R.op(a.npcID)&&!1==R.op(a.npcID).Pg?R.zT(a.npcID,a.moveNPC,a.mapnumber):B.push(JSON.stringify(a))):a.changeNPCPosition?R.op(a.npcID)&&(a.npcID=parseInt(a.npcID),R.op(a.npcID)&&!1==R.op(a.npcID).Pg?R.VU(a.npcID,a.changeNPCPosition):B.push(JSON.stringify(a))):a.savesignswhole?(V.CU(a.savesignswhole,a.updatetime),ObjectLists.rW(a.savesignswhole)):a.savenpcs?(V.AQ(parseInt(a.savenpcs),a.npcsdata,a.updatetime),ObjectLists.kl()[parseInt(a.savenpcs)]=a.npcsdata,U.tp(U.Rd(),!0),NPCeditor&&
(NPCeditor.Nc=ObjectLists.kl(),NPCeditor.oa())):a.savenpcswhole?(V.zU(a.savenpcswhole,a.updatetime),ObjectLists.XV(a.savenpcswhole),U.tp(U.Rd(),!0),NPCeditor&&(NPCeditor.Nc=ObjectLists.kl(),NPCeditor.oa())):a.saveitems?(V.yQ(parseInt(a.saveitems),a.itemdata,a.updatetime),c=ObjectLists.Bf()[parseInt(a.saveitems)].name,ObjectLists.Bf()[parseInt(a.saveitems)]=a.itemdata,U.tp(U.Rd()),Itemeditor&&(Itemeditor.Nc=ObjectLists.Bf(),Itemeditor.oa()),Inventory&&Inventory.ub(),R.q.W.Ws(c,a.itemdata)):a.droppeditem?
a.mapnumber==U.Rd()&&!1==U.e().Og?(c=U.ZH(a.index),c.cQ(a.droppeditem),U.Ys()):B.push(JSON.stringify(a)):a.pickupitem?a.mapnumber==U.Rd()&&(c=U.ZH(a.pickupitem),c.DC(),U.Ys()):a.saveitemswhole?(V.yU(a.saveitemswhole,a.updatetime),ObjectLists.PV(a.saveitemswhole)):a.savesuccess&&c.FR();else"Login"==c.Cc()&&(a.login_success?c.ET(a.login_success):a.login_fail?c.Jw(a.login_fail):a.registrationsuccess?c.RQ():a.registrationfailed&&c.BR(a.registrationfailed));else B.push(JSON.stringify(a))};
Ia.on("disconnect",function(){console.log("The client has disconnected!");var a=G.e().ud;a?a.xn(!1):B.push(JSON.stringify({disconnect:!0}))});function A(a){Ia.send(JSON.stringify(a))};var G=p.Ec.extend({q:null,qB:null,ud:null,LG:null,r:function(){Y=p.sa.e().js();p.size(Y.width,Y.height);M=p.size(P*N,O*N);p.sa.e().mW(this.ST);var a=p.sa.e().js();this.qB=p.aa.create(p.h(255,255,255,255),parseInt(4*a.width),parseInt(4*a.height));this.qB.F(p.a(0,0));this.f(this.qB);V.e()&&pa?(I=Ba(I,V.QB()),this.ll("Login",{}),this.bc(this.aH),autoLoginNextTime=V.xI(),rememberLoginNextTime=V.DI()):this.bc(this.hI)},ST:function(){},hI:function(){V.e()&&pa&&(this.Sc(this.hI),I=Ba(I,V.QB()),this.ll("Login",
{}),this.bc(this.aH),autoLoginNextTime=V.xI(),rememberLoginNextTime=V.DI())},aH:function(){for(var a in ja)if(!0==ja[a]&&null!=this.ud){var c=null;a=parseInt(a);switch(a){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";
break;case 38:c="UPARROW";break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a&&58>a||64<a&&91>a)&&(c=String.fromCharCode(a));null!=c&&this.ud.xC(c)}},ll:function(a,c){null!=this.ud&&(this.ud.wa(),this.ud.L(),this.ud=null);switch(a){case "Login":this.ud=new Login;break;case "Game":this.ud=new Fa}this.ud.hL();this.f(this.ud,1);this.ud.NV(a);this.ud.oa();this.ud.r(c)},S2:function(){return this.ud.Cc()}});
G.e=function(){null==this.q&&(this.q=new G);return this.q};G.vn=function(a){null==this.q&&(this.q=new G);this.q.LG=a};G.HR=function(){null==this.q&&(this.q=new G);return this.q.LG};var Y;
new (p.nj.extend({hw:document.ccConfig,ctor:function(){this._super();p.et=this.hw.COCOS2D_DEBUG;p.Hl(this.hw.tag);p.Hx.IW().lR()},qQ:function(){var a=this.hw,c=p.$.e(),d=p.sa.e();d.YU(!0);Y=d.js();p.size(Y.width,Y.height);var e=p.size(Y.width,Y.height),f=p.Kd.e();p.nj.e();f.oK(["res/Graphics"]);p.Ah&&p.Ah.e().H$("res/Audio");c.BV(1);d.ZC(e.width,e.height,p.Rn.SHOW_ALL);c.Fs(1/a.frameRate);a.test?p.test(a.test):(p.log("++++++++++++++++entry for game++++++++++++"),p.uT(function(a){p.jy.FC(a,function(){document.getElementById("gameCanvas").setAttribute("tabindex","0");
document.getElementById("gameCanvas").focus();var a=G.e();p.$.e().yJ(a);a.r()})}));return!0}}));
//@ sourceMappingURL=sourcemap