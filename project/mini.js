var b,ca={s2:"GUI/bankeditor_icon.png",u2:"GUI/book.png",x2:"GUI/btnDown.png",y2:"GUI/btnLeft.png",z2:"GUI/btnRight.png",A2:"GUI/btnUp.png",S2:"GUI/chat.png",R2:"GUI/chat_icon.png",T2:"GUI/checkbox_checked.png",U2:"GUI/checkbox_uncheck.png",V2:"GUI/close.png",g3:"GUI/cross_icon.png",l3:"GUI/defaultitem.png",B3:"GUI/edit.png",C3:"GUI/editor-tab.png",F3:"GUI/equipment.png",E3:"GUI/equipment_icon.png",G3:"GUI/event_panel.png",M7:"GUI/healthbar.png",f8:"GUI/inventory.png",e8:"GUI/inventory_icon.png",
U8:"GUI/itemeditor_bg.png",V8:"GUI/itemeditor_icon.png",W8:"GUI/itemeditor_tab1_bg.png",X8:"GUI/itemeditor_tab2_bg.png",Y8:"GUI/itemeditor_tab3_bg.png",m9:"GUI/list_panel.png",u9:"GUI/logout.png",y9:"GUI/mapeditor_icon.png",E9:"GUI/npceditor_icon.png",F9:"GUI/npctalk.png",M$:"GUI/quest_panel.png",N$:"GUI/questeditor_icon.png",O$:"GUI/quickedit_closed_icon.png",P$:"GUI/quickedit_opened_icon.png",Q$:"GUI/quickmenu_closed_icon.png",R$:"GUI/quickmenu_opened_icon.png",Aaa:"GUI/save_icon.png",Baa:"GUI/scripteditor_icon.png",
Eaa:"GUI/selected.png",Oca:"GUI/settings_icon.png",Pca:"GUI/shopeditor_icon.png",Sca:"GUI/signeditor_bg.png",Tca:"GUI/signeditor_icon.png",Uca:"GUI/signpost.png",Vca:"GUI/skilleditor_icon.png",Xca:"GUI/skills.png",Wca:"GUI/skills_icon.png",Zca:"GUI/splash.png",zda:"GUI/texture_change_left.png",Ada:"GUI/texture_change_middle.png",Bda:"GUI/texture_change_right.png",Cda:"GUI/tick_icon.png",Mda:"GUI/trash.png",Vda:"GUI/use.png",dea:"GUI/warpeditor_bg.png",eea:"GUI/warpeditor_icon.png",B2:"building1.png",
Q2:"character_graphics.txt",Z8:"items1.png",$ca:"sprites1.png",Dda:"tile_graphics.txt",Eda:"tiles0.png",Fda:"tiles1.png"};var r=r||{},da={};r.RU=function(a){var c=r.KD[da.jK.AF];if(c){for(var d=[],e=0;e<c.length;++e)d.push({src:c[e]});a(d)}else a([])};da={jK:{AF:"_0"}};r.KD={};r.KD[da.jK.AF]=[];r.KD.FR=[];var io="undefined"===typeof module?{}:module.xc;
(function(){(function(a,d){a.version="0.9.16";a.protocol=1;a.transports=[];a.j=[];a.sockets={};a.connect=function(e,f){var g=a.util.parseUri(e),h,k;d&&d.location&&(g.protocol=g.protocol||d.location.protocol.slice(0,-1),g.host=g.host||(d.document?d.document.domain:d.location.hostname),g.port=g.port||d.location.port);h=a.util.uniqueUri(g);var l={host:g.host,Hn:"https"==g.protocol,port:g.port||("https"==g.protocol?443:80),query:g.query||""};a.util.merge(l,f);if(l["force new connection"]||!a.sockets[h])k=
new a.Socket(l);!l["force new connection"]&&k&&(a.sockets[h]=k);k=k||a.sockets[h];return k.eq(1<g.path.length?g.path:"")}})("object"===typeof module?module.xc:io,this);(function(a,d){var e=a.util={},f=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,g="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");
e.parseUri=function(a){a=f.exec(a||"");for(var c={},d=14;d--;)c[g[d]]=a[d]||"";return c};e.uniqueUri=function(a){var c=a.protocol,e=a.host;a=a.port;"document"in d?(e=e||document.domain,a=a||("https"==c&&"https:"!==document.location.protocol?443:document.location.port)):(e=e||"localhost",a||"https"!=c||(a=443));return(c||"http")+"://"+e+":"+(a||80)};e.query=function(a,c){var d=e.chunkQuery(a||""),f=[];e.merge(d,e.chunkQuery(c||""));for(var g in d)d.hasOwnProperty(g)&&f.push(g+"\x3d"+d[g]);return f.length?
"?"+f.join("\x26"):""};e.chunkQuery=function(a){var c={};a=a.split("\x26");for(var d=0,e=a.length,f;d<e;++d)f=a[d].split("\x3d"),f[0]&&(c[f[0]]=f[1]);return c};var h=!1;e.load=function(a){if("document"in d&&"complete"===document.readyState||h)return a();e.on(d,"load",a,!1)};e.on=function(a,c,d,e){a.attachEvent?a.attachEvent("on"+c,d):a.addEventListener&&a.addEventListener(c,d,e)};e.request=function(a){if(a&&"undefined"!=typeof XDomainRequest&&!e.ua.hasCORS)return new XDomainRequest;if("undefined"!=
typeof XMLHttpRequest&&(!a||e.ua.hasCORS))return new XMLHttpRequest;if(!a)try{return new (window[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(c){}return null};"undefined"!=typeof window&&e.load(function(){h=!0});e.defer=function(a){if(!e.ua.webkit||"undefined"!=typeof importScripts)return a();e.load(function(){setTimeout(a,100)})};e.merge=function(a,c,d,f){f=f||[];d="undefined"==typeof d?2:d;for(var g in c)c.hasOwnProperty(g)&&0>e.indexOf(f,g)&&("object"===typeof a[g]&&d?e.merge(a[g],
c[g],d-1,f):(a[g]=c[g],f.push(c[g])));return a};e.mixin=function(a,c){e.merge(a.prototype,c.prototype)};e.inherit=function(a,c){function d(){}d.prototype=c.prototype;a.prototype=new d};e.isArray=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};e.intersect=function(a,c){for(var d=[],f=a.length>c.length?a:c,g=a.length>c.length?c:a,h=0,u=g.length;h<u;h++)~e.indexOf(f,g[h])&&d.push(g[h]);return d};e.indexOf=function(a,c,d){var e=a.length;for(d=0>d?0>d+e?0:d+e:d||
0;d<e&&a[d]!==c;d++);return e<=d?-1:d};e.toArray=function(a){for(var c=[],d=0,e=a.length;d<e;d++)c.push(a[d]);return c};e.ua={};e.ua.hasCORS="undefined"!=typeof XMLHttpRequest&&function(){try{var a=new XMLHttpRequest}catch(c){return!1}return void 0!=a.withCredentials}();e.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent);e.ua.iDevice="undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)})("undefined"!=typeof io?io:module.xc,this);(function(a,d){function e(){}
a.EventEmitter=e;e.prototype.on=function(a,c){this.Mf||(this.Mf={});this.Mf[a]?d.util.isArray(this.Mf[a])?this.Mf[a].push(c):this.Mf[a]=[this.Mf[a],c]:this.Mf[a]=c;return this};e.prototype.pV=function(a){var c="connect";function d(){e.removeListener(c,d);a.apply(this,arguments)}var e=this;d.nx=a;this.on(c,d)};e.prototype.removeListener=function(a,c){if(this.Mf&&this.Mf[a]){var e=this.Mf[a];if(d.util.isArray(e)){for(var k=-1,l=0,m=e.length;l<m;l++)if(e[l]===c||e[l].nx&&e[l].nx===c){k=l;break}if(0>
k)return this;e.splice(k,1);e.length||delete this.Mf[a]}else(e===c||e.nx&&e.nx===c)&&delete this.Mf[a]}return this};e.prototype.Cp=function(a){if(!this.Mf)return!1;var c=this.Mf[a];if(!c)return!1;var e=Array.prototype.slice.call(arguments,1);if("function"==typeof c)c.apply(this,e);else if(d.util.isArray(c))for(var c=c.slice(),k=0,l=c.length;k<l;k++)c[k].apply(this,e);else return!1;return!0}})("undefined"!=typeof io?io:module.xc,"undefined"!=typeof io?io:module.parent.xc);(function(a,d){function e(a){return 10>
a?"0"+a:a}function f(a){l.lastIndex=0;return l.test(a)?'"'+a.replace(l,function(a){var c=p[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function g(a,c){var d,h,k,l,p=m,S,O=c[a];O instanceof Date&&(O=isFinite(a.valueOf())?a.getUTCFullYear()+"-"+e(a.getUTCMonth()+1)+"-"+e(a.getUTCDate())+"T"+e(a.getUTCHours())+":"+e(a.getUTCMinutes())+":"+e(a.getUTCSeconds())+"Z":null);"function"===typeof q&&(O=q.call(c,a,O));switch(typeof O){case "string":return f(O);
case "number":return isFinite(O)?String(O):"null";case "boolean":case "null":return String(O);case "object":if(!O)return"null";m+=n;S=[];if("[object Array]"===Object.prototype.toString.apply(O)){l=O.length;for(d=0;d<l;d+=1)S[d]=g(d,O)||"null";k=0===S.length?"[]":m?"[\n"+m+S.join(",\n"+m)+"\n"+p+"]":"["+S.join(",")+"]";m=p;return k}if(q&&"object"===typeof q)for(l=q.length,d=0;d<l;d+=1)"string"===typeof q[d]&&(h=q[d],(k=g(h,O))&&S.push(f(h)+(m?": ":":")+k));else for(h in O)Object.prototype.hasOwnProperty.call(O,
h)&&(k=g(h,O))&&S.push(f(h)+(m?": ":":")+k);k=0===S.length?"{}":m?"{\n"+m+S.join(",\n"+m)+"\n"+p+"}":"{"+S.join(",")+"}";m=p;return k}}if(d&&d.parse)return a.JSON={parse:d.parse,stringify:d.stringify};var h=a.JSON={},k=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,m,n,p={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f",
"\r":"\\r",'"':'\\"',"\\":"\\\\"},q;h.stringify=function(a,c,d){var e;n=m="";if("number"===typeof d)for(e=0;e<d;e+=1)n+=" ";else"string"===typeof d&&(n=d);if((q=c)&&"function"!==typeof c&&("object"!==typeof c||"number"!==typeof c.length))throw Error("JSON.stringify");return g("",{"":a})};h.parse=function(a,c){function d(a,e){var f,g,h=a[e];if(h&&"object"===typeof h)for(f in h)Object.prototype.hasOwnProperty.call(h,f)&&(g=d(h,f),void 0!==g?h[f]=g:delete h[f]);return c.call(a,e,h)}var e;a=String(a);
k.lastIndex=0;k.test(a)&&(a=a.replace(k,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"===typeof c?d({"":e},""):e;throw new SyntaxError("JSON.parse");}})("undefined"!=typeof io?io:module.xc,"undefined"!==typeof JSON?JSON:void 0);(function(a,d){var e=
a.parser={},f=e.packets="disconnect connect heartbeat message json event ack error noop".split(" "),g=e.reasons=["transport not supported","client not handshaken","unauthorized"],h=e.advice=["reconnect"],k=d.JSON,l=d.util.indexOf;e.encodePacket=function(a){var c=l(f,a.type),d=a.id||"",e=a.Uw||"",m=a.wp,y=null;switch(a.type){case "error":var D=a.reason?l(g,a.reason):"";a=a.advice?l(h,a.advice):"";if(""!==D||""!==a)y=D+(""!==a?"+"+a:"");break;case "message":""!==a.data&&(y=a.data);break;case "event":y=
{name:a.name};a.ef&&a.ef.length&&(y.ef=a.ef);y=k.stringify(y);break;case "json":y=k.stringify(a.data);break;case "connect":a.kK&&(y=a.kK);break;case "ack":y=a.yp+(a.ef&&a.ef.length?"+"+k.stringify(a.ef):"")}c=[c,d+("data"==m?"+":""),e];null!==y&&void 0!==y&&c.push(y);return c.join(":")};e.encodePayload=function(a){var c="";if(1==a.length)return a[0];for(var d=0,e=a.length;d<e;d++)c+="\ufffd"+a[d].length+"\ufffd"+a[d];return c};var m=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;e.decodePacket=function(a){var c=
a.match(m);if(!c)return{};var d=c[2]||"";a=c[5]||"";var e={type:f[c[1]],Uw:c[4]||""};d&&(e.id=d,e.wp=c[3]?"data":!0);switch(e.type){case "error":c=a.split("+");e.reason=g[c[0]]||"";e.advice=h[c[1]]||"";break;case "message":e.data=a||"";break;case "event":try{var l=k.parse(a);e.name=l.name;e.ef=l.ef}catch(y){}e.ef=e.ef||[];break;case "json":try{e.data=k.parse(a)}catch(D){}break;case "connect":e.kK=a||"";break;case "ack":if(c=a.match(/^([0-9]+)(\+)?(.*)/))if(e.yp=c[1],e.ef=[],c[3])try{e.ef=c[3]?k.parse(c[3]):
[]}catch(B){}}return e};e.decodePayload=function(a){if("\ufffd"==a.charAt(0)){for(var c=[],d=1,f="";d<a.length;d++)"\ufffd"==a.charAt(d)?(c.push(e.decodePacket(a.substr(d+1).substr(0,f))),d+=Number(f)+1,f=""):f+=a.charAt(d);return c}return[e.decodePacket(a)]}})("undefined"!=typeof io?io:module.xc,"undefined"!=typeof io?io:module.parent.xc);(function(a,d){function e(a,c){this.zb=a;this.OW=c}a.Transport=e;d.util.mixin(e,d.EventEmitter);e.prototype.dJ=function(){return!0};e.prototype.at=function(a){this.jC();
(this.zb.th||this.zb.Gg||this.zb.yn)&&this.MK();if(""!==a&&(a=d.parser.decodePayload(a))&&a.length)for(var c=0,e=a.length;c<e;c++)this.bt(a[c])};e.prototype.bt=function(a){this.zb.XK();if("heartbeat"==a.type)return this.bV();"connect"==a.type&&""==a.Uw&&this.nD();"error"==a.type&&"reconnect"==a.advice&&(this.Ss=!1);this.zb.bt(a);return this};e.prototype.MK=function(){if(!this.Ap){var a=this;this.Ap=setTimeout(function(){a.sn()},this.zb.Ap)}};e.prototype.sn=function(){this.Ss&&this.close();this.kC();
this.zb.sn();return this};e.prototype.nD=function(){this.zb.nD();return this};e.prototype.jC=function(){this.Ap&&(clearTimeout(this.Ap),this.Ap=null)};e.prototype.kC=function(){this.jC();this.sW&&clearTimeout(this.sW)};e.prototype.gg=function(a){this.send(d.parser.encodePacket(a))};e.prototype.bV=function(){this.gg({type:"heartbeat"})};e.prototype.qx=function(){this.Ss=!0;this.jC();this.zb.qx()};e.prototype.li=function(){this.Ss=!1;this.zb.li();this.sn()};e.prototype.dt=function(){var a=this.zb.options;
return this.scheme()+"://"+a.host+":"+a.port+"/"+a.Dx+"/"+d.protocol+"/"+this.name+"/"+this.OW};e.prototype.wx=function(a,c){c.call(this)}})("undefined"!=typeof io?io:module.xc,"undefined"!=typeof io?io:module.parent.xc);(function(a,d,e){function f(a){this.options={port:80,Hn:!1,document:"document"in e?document:!1,Dx:"socket.io",transports:d.transports,"connect timeout":1E4,"try multiple transports":!0,reconnect:!0,"reconnection delay":500,"reconnection limit":Infinity,"reopen delay":3E3,"max reconnection attempts":10,
"sync disconnect on unload":!1,"auto connect":!0,"flash policy port":10843,manualFlush:!1};d.util.merge(this.options,a);this.yn=this.Gg=this.open=this.th=!1;this.namespaces={};this.buffer=[];this.sC=!1;if(this.options["sync disconnect on unload"]&&(!this.Xp()||d.util.ua.hasCORS)){var c=this;d.util.on(e,"beforeunload",function(){c.AS()},!1)}this.options["auto connect"]&&this.connect()}function g(){}a.Socket=f;d.util.mixin(f,d.EventEmitter);f.prototype.eq=function(a){this.namespaces[a]||(this.namespaces[a]=
new d.SocketNamespace(this,a),""!==a&&this.namespaces[a].gg({type:"connect"}));return this.namespaces[a]};f.prototype.Fl=function(){this.Cp.apply(this,arguments);var a,c;for(c in this.namespaces)this.namespaces.hasOwnProperty(c)&&(a=this.eq(c),a.xk.apply(a,arguments))};f.prototype.YT=function(a){function c(d){d instanceof Error?(e.Gg=!1,e.tn(d.message)):a.apply(null,d.split(":"))}var e=this,f=this.options,f=["http"+(f.Hn?"s":"")+":/",f.host+":"+f.port,f.Dx,d.protocol,d.util.query(this.options.query,
"t\x3d"+ +new Date)].join("/");if(this.Xp()&&!d.util.ua.hasCORS){var n=document.getElementsByTagName("script")[0],p=document.createElement("script");p.src=f+"\x26jsonp\x3d"+d.j.length;n.parentNode.insertBefore(p,n);d.j.push(function(a){c(a);p.parentNode.removeChild(p)})}else{var q=d.util.request();q.open("GET",f,!0);this.Xp()&&(q.withCredentials=!0);q.onreadystatechange=function(){4==q.readyState&&(q.onreadystatechange=g,200==q.status?c(q.responseText):403==q.status?e.tn(q.responseText):(e.Gg=!1,
!e.yn&&e.tn(q.responseText)))};q.send(null)}};f.prototype.VI=function(a){a=a||this.transports;for(var c=0,e;e=a[c];c++)if(d.Transport[e]&&d.Transport[e].dn(this)&&(!this.Xp()||d.Transport[e].Ct(this)))return new d.Transport[e](this,this.DK);return null};f.prototype.connect=function(a){if(this.Gg)return this;var c=this;c.Gg=!0;this.YT(function(e,f,g,p){function q(a){c.of&&c.of.kC();c.of=c.VI(a);c.of?c.of.wx(c,function(){c.Gg=!0;c.Fl("connecting",c.of.name);c.of.open();c.options["connect timeout"]&&
(c.eS=setTimeout(function(){if(!c.th&&(c.Gg=!1,c.options["try multiple transports"])){for(var a=c.transports;0<a.length&&a.splice(0,1)[0]!=c.of.name;);a.length?q(a):c.Fl("connect_failed")}},c.options["connect timeout"]))}):c.Fl("connect_failed")}c.DK=e;c.Ap=1E3*g;c.cU=1E3*f;c.transports||(c.transports=c.qV=p?d.util.intersect(p.split(","),c.options.transports):c.options.transports);c.XK();q(c.transports);c.pV(function(){clearTimeout(c.eS);a&&"function"==typeof a&&a()})});return this};f.prototype.XK=
function(){clearTimeout(this.cJ);if(!this.of||this.of.dJ()){var a=this;this.cJ=setTimeout(function(){a.of.li()},this.cU)}};f.prototype.gg=function(a){this.th&&!this.sC?this.of.gg(a):this.buffer.push(a);return this};f.prototype.pk=function(a){this.sC=a;!a&&this.th&&this.buffer.length&&(this.options.manualFlush||this.TS())};f.prototype.TS=function(){this.of.cK(this.buffer);this.buffer=[]};f.prototype.disconnect=function(){if(this.th||this.Gg)this.open&&this.eq("").gg({type:"disconnect"}),this.sn("booted");
return this};f.prototype.AS=function(){var a=d.util.request();a.open("GET",["http"+(this.options.Hn?"s":"")+":/",this.options.host+":"+this.options.port,this.options.Dx,d.protocol,"",this.DK].join("/")+"/?disconnect\x3d1",!1);a.send(null);this.sn("booted")};f.prototype.Xp=function(){var a=e.location.port||("https:"==e.location.protocol?443:80);return this.options.host!==e.location.hostname||this.options.port!=a};f.prototype.nD=function(){this.th||(this.th=!0,this.Gg=!1,this.sC||this.pk(!1),this.Cp("connect"))};
f.prototype.qx=function(){this.open=!0};f.prototype.li=function(){this.open=!1;clearTimeout(this.cJ)};f.prototype.bt=function(a){this.eq(a.Uw).bt(a)};f.prototype.tn=function(a){a&&a.advice&&"reconnect"===a.advice&&(this.th||this.Gg)&&(this.disconnect(),this.options.xx&&this.xx());this.Fl("error",a&&a.reason?a.reason:a)};f.prototype.sn=function(a){var c=this.th,d=this.Gg;this.open=this.Gg=this.th=!1;if(c||d)this.of.close(),this.of.kC(),c&&(this.Fl("disconnect",a),"booted"!=a&&this.options.xx&&!this.yn&&
this.xx())};f.prototype.xx=function(){function a(){if(d.th){for(var e in d.namespaces)d.namespaces.hasOwnProperty(e)&&""!==e&&d.namespaces[e].gg({type:"connect"});d.Fl("reconnect",d.of.name,d.yx)}clearTimeout(d.zx);d.removeListener("connect_failed",c);d.removeListener("connect",c);d.yn=!1;delete d.yx;delete d.zn;delete d.zx;delete d.pK;d.options["try multiple transports"]=f}function c(){if(d.yn){if(d.th)return a();if(d.Gg&&d.yn)return d.zx=setTimeout(c,1E3);d.yx++>=e?d.pK?(d.Fl("reconnect_failed"),
a()):(d.on("connect_failed",c),d.options["try multiple transports"]=!0,d.transports=d.qV,d.of=d.VI(),d.pK=!0,d.connect()):(d.zn<g&&(d.zn*=2),d.connect(),d.Fl("reconnecting",d.zn,d.yx),d.zx=setTimeout(c,d.zn))}}this.yn=!0;this.yx=0;this.zn=this.options["reconnection delay"];var d=this,e=this.options["max reconnection attempts"],f=this.options["try multiple transports"],g=this.options["reconnection limit"];this.options["try multiple transports"]=!1;this.zx=setTimeout(c,this.zn);this.on("connect",c)}})("undefined"!=
typeof io?io:module.xc,"undefined"!=typeof io?io:module.parent.xc,this);(function(a,d){function e(a,c){this.zb=a;this.name=c||"";this.Ww={};this.IU=new f(this,"json");this.GH=0;this.ys={}}function f(a,c){this.dq=a;this.name=c}a.SocketNamespace=e;d.util.mixin(e,d.EventEmitter);e.prototype.xk=d.EventEmitter.prototype.Cp;e.prototype.eq=function(){return this.zb.eq.apply(this.zb,arguments)};e.prototype.gg=function(a){a.Uw=this.name;this.zb.gg(a);this.Ww={};return this};e.prototype.send=function(a,c){var d=
{type:this.Ww.IU?"json":"message",data:a};"function"==typeof c&&(d.id=++this.GH,d.wp=!0,this.ys[d.id]=c);return this.gg(d)};e.prototype.Cp=function(a){var c=Array.prototype.slice.call(arguments,1),d=c[c.length-1],e={type:"event",name:a};"function"==typeof d&&(e.id=++this.GH,e.wp="data",this.ys[e.id]=d,c=c.slice(0,c.length-1));e.ef=c;return this.gg(e)};e.prototype.disconnect=function(){""===this.name?this.zb.disconnect():(this.gg({type:"disconnect"}),this.xk("disconnect"));return this};e.prototype.bt=
function(a){function c(){e.gg({type:"ack",ef:d.util.toArray(arguments),yp:a.id})}var e=this;switch(a.type){case "connect":this.xk("connect");break;case "disconnect":""===this.name?this.zb.sn(a.reason||"booted"):this.xk("disconnect",a.reason);break;case "message":case "json":var f=["message",a.data];"data"==a.wp?f.push(c):a.wp&&this.gg({type:"ack",yp:a.id});this.xk.apply(this,f);break;case "event":f=[a.name].concat(a.ef);"data"==a.wp&&f.push(c);this.xk.apply(this,f);break;case "ack":this.ys[a.yp]&&
(this.ys[a.yp].apply(this,a.ef),delete this.ys[a.yp]);break;case "error":a.advice?this.zb.tn(a):"unauthorized"==a.reason?this.xk("connect_failed",a.reason):this.xk("error",a.reason)}};f.prototype.send=function(){this.dq.Ww[this.name]=!0;this.dq.send.apply(this.dq,arguments)};f.prototype.Cp=function(){this.dq.Ww[this.name]=!0;this.dq.Cp.apply(this.dq,arguments)}})("undefined"!=typeof io?io:module.xc,"undefined"!=typeof io?io:module.parent.xc);(function(a,d,e){function f(a){d.Transport.apply(this,arguments)}
a.Vg=f;d.util.inherit(f,d.Transport);f.prototype.name="websocket";f.prototype.open=function(){var a=d.util.query(this.zb.options.query),c=this,f;f||(f=e.A_||e.RN);this.Vg=new f(this.dt()+a);this.Vg.onopen=function(){c.qx();c.zb.pk(!1)};this.Vg.onmessage=function(a){c.at(a.data)};this.Vg.onclose=function(){c.li();c.zb.pk(!0)};this.Vg.onerror=function(a){c.tn(a)};return this};f.prototype.send=d.util.ua.iDevice?function(a){var c=this;setTimeout(function(){c.Vg.send(a)},0);return this}:function(a){this.Vg.send(a);
return this};f.prototype.cK=function(a){for(var c=0,d=a.length;c<d;c++)this.gg(a[c]);return this};f.prototype.close=function(){this.Vg.close();return this};f.prototype.tn=function(a){this.zb.tn(a)};f.prototype.scheme=function(){return this.zb.options.Hn?"wss":"ws"};f.dn=function(){return"WebSocket"in e&&!("__addTask"in WebSocket)||"MozWebSocket"in e};f.Ct=function(){return!0};d.transports.push("websocket")})("undefined"!=typeof io?io.Transport:module.xc,"undefined"!=typeof io?io:module.parent.xc,
this);(function(c,d){function e(){d.Transport.Vg.apply(this,arguments)}c.Z3=e;d.util.inherit(e,d.Transport.Vg);e.prototype.name="flashsocket";e.prototype.open=function(){var a=this,c=arguments;WebSocket.Pu(function(){d.Transport.Vg.prototype.open.apply(a,c)});return this};e.prototype.send=function(){var a=this,c=arguments;WebSocket.Pu(function(){d.Transport.Vg.prototype.send.apply(a,c)});return this};e.prototype.close=function(){WebSocket.Qq.length=0;d.Transport.Vg.prototype.close.call(this);return this};
e.prototype.wx=function(a,c){function h(){var d=a.options,h=d["flash policy port"],n=["http"+(d.Hn?"s":"")+":/",d.host+":"+d.port,d.Dx,"static/flashsocket","WebSocketMain"+(a.Xp()?"Insecure":"")+".swf"];e.loaded||("undefined"===typeof WEB_SOCKET_SWF_LOCATION&&(WEB_SOCKET_SWF_LOCATION=n.join("/")),843!==h&&WebSocket.QU("xmlsocket://"+d.host+":"+h),WebSocket.wz(),e.loaded=!0);c.call(k)}var k=this;if(document.body)return h();d.util.load(h)};e.dn=function(){return"undefined"!=typeof WebSocket&&"__initialize"in
WebSocket&&a?10<=a.eT().VU:!1};e.Ct=function(){return!0};"undefined"!=typeof window&&(WEB_SOCKET_DISABLE_AUTO_INITIALIZATION=!0);d.transports.push("flashsocket")})("undefined"!=typeof io?io.Transport:module.xc,"undefined"!=typeof io?io:module.parent.xc);if("undefined"!=typeof window)var a=function(){function c(){if(!la){try{var a=L.getElementsByTagName("body")[0].appendChild(L.createElement("span"));a.parentNode.removeChild(a)}catch(c){return}la=!0;for(var a=wa.length,d=0;d<a;d++)wa[d]()}}function d(a){la?
a():wa[wa.length]=a}function e(a){if(typeof ba.addEventListener!=N)ba.addEventListener("load",a,!1);else if(typeof L.addEventListener!=N)L.addEventListener("load",a,!1);else if(typeof ba.attachEvent!=N)w(ba,a);else if("function"==typeof ba.onload){var c=ba.onload;ba.onload=function(){c();a()}}else ba.onload=a}function f(){var a=L.getElementsByTagName("body")[0],c=L.createElement(S);c.setAttribute("type",O);var d=a.appendChild(c);if(d){var e=0;(function(){if(typeof d.GetVariable!=N){var f=d.GetVariable("$version");
f&&(f=f.split(" ")[1].split(","),F.hq=[parseInt(f[0],10),parseInt(f[1],10),parseInt(f[2],10)])}else if(10>e){e++;setTimeout(arguments.callee,10);return}a.removeChild(c);d=null;g()})()}else g()}function g(){var a=ia.length;if(0<a)for(var c=0;c<a;c++){var d=ia[c].id,e=ia[c].IR,f={Pn:!1,id:d};if(0<F.hq[0]){var g=u(d);if(g)if(!y(ia[c].zY)||F.wk&&312>F.wk)if(ia[c].vI&&k()){f={};f.data=ia[c].vI;f.width=g.getAttribute("width")||"0";f.height=g.getAttribute("height")||"0";g.getAttribute("class")&&(f.fda=g.getAttribute("class"));
g.getAttribute("align")&&(f.align=g.getAttribute("align"));for(var p={},g=g.getElementsByTagName("param"),n=g.length,q=0;q<n;q++)"movie"!=g[q].getAttribute("name").toLowerCase()&&(p[g[q].getAttribute("name")]=g[q].getAttribute("value"));l(f,p,d,e)}else m(g),e&&e(f);else B(d,!0),e&&(f.Pn=!0,f.qK=h(d),e(f))}else B(d,!0),e&&((d=h(d))&&typeof d.SetVariable!=N&&(f.Pn=!0,f.qK=d),e(f))}}function h(a){var c=null;(a=u(a))&&"OBJECT"==a.nodeName&&(typeof a.SetVariable!=N?c=a:(a=a.getElementsByTagName(S)[0])&&
(c=a));return c}function k(){return!xa&&y("6.0.65")&&(F.Eh||F.JJ)&&!(F.wk&&312>F.wk)}function l(a,c,d,e){xa=!0;Da=e||null;Ka={Pn:!1,id:d};var f=u(d);if(f){"OBJECT"==f.nodeName?(ta=n(f),ya=null):(ta=f,ya=d);a.id=pa;if(typeof a.width==N||!/%$/.test(a.width)&&310>parseInt(a.width,10))a.width="310";if(typeof a.height==N||!/%$/.test(a.height)&&137>parseInt(a.height,10))a.height="137";L.title=L.title.slice(0,47)+" - Flash Player Installation";e=F.yh&&F.Eh?["Active"].concat("").join("X"):"PlugIn";e="MMredirectURL\x3d"+
ba.location.toString().replace(/&/g,"%26")+"\x26MMplayerType\x3d"+e+"\x26MMdoctitle\x3d"+L.title;c.Cs=typeof c.Cs!=N?c.Cs+("\x26"+e):e;F.yh&&F.Eh&&4!=f.readyState&&(e=L.createElement("div"),d+="SWFObjectNew",e.setAttribute("id",d),f.parentNode.insertBefore(e,f),f.style.display="none",function(){4==f.readyState?f.parentNode.removeChild(f):setTimeout(arguments.callee,10)}());p(a,c,d)}}function m(a){if(F.yh&&F.Eh&&4!=a.readyState){var c=L.createElement("div");a.parentNode.insertBefore(c,a);c.parentNode.replaceChild(n(a),
c);a.style.display="none";(function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)})()}else a.parentNode.replaceChild(n(a),a)}function n(a){var c=L.createElement("div");if(F.Eh&&F.yh)c.innerHTML=a.innerHTML;else if(a=a.getElementsByTagName(S)[0])if(a=a.childNodes)for(var d=a.length,e=0;e<d;e++)1==a[e].nodeType&&"PARAM"==a[e].nodeName||8==a[e].nodeType||c.appendChild(a[e].cloneNode(!0));return c}function p(a,c,d){var e,f=u(d);if(F.wk&&312>F.wk)return e;if(f)if(typeof a.id==
N&&(a.id=d),F.yh&&F.Eh){var g="",h;for(h in a)a[h]!=Object.prototype[h]&&("data"==h.toLowerCase()?c.D9=a[h]:"styleclass"==h.toLowerCase()?g+=' class\x3d"'+a[h]+'"':"classid"!=h.toLowerCase()&&(g+=" "+h+'\x3d"'+a[h]+'"'));h="";for(var k in c)c[k]!=Object.prototype[k]&&(h+='\x3cparam name\x3d"'+k+'" value\x3d"'+c[k]+'" /\x3e');f.outerHTML='\x3cobject classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+g+"\x3e"+h+"\x3c/object\x3e";za[za.length]=a.id;e=u(a.id)}else{k=L.createElement(S);k.setAttribute("type",
O);for(var l in a)a[l]!=Object.prototype[l]&&("styleclass"==l.toLowerCase()?k.setAttribute("class",a[l]):"classid"!=l.toLowerCase()&&k.setAttribute(l,a[l]));for(g in c)c[g]!=Object.prototype[g]&&"movie"!=g.toLowerCase()&&(a=k,h=g,l=c[g],d=L.createElement("param"),d.setAttribute("name",h),d.setAttribute("value",l),a.appendChild(d));f.parentNode.replaceChild(k,f);e=k}return e}function q(a){var c=u(a);c&&"OBJECT"==c.nodeName&&(F.yh&&F.Eh?(c.style.display="none",function(){if(4==c.readyState){var d=u(a);
if(d){for(var e in d)"function"==typeof d[e]&&(d[e]=null);d.parentNode.removeChild(d)}}else setTimeout(arguments.callee,10)}()):c.parentNode.removeChild(c))}function u(a){var c=null;try{c=L.getElementById(a)}catch(d){}return c}function w(a,c){a.attachEvent("onload",c);qa[qa.length]=[a,"onload",c]}function y(a){var c=F.hq;a=a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return c[0]>a[0]||c[0]==a[0]&&c[1]>a[1]||c[0]==a[0]&&c[1]==a[1]&&c[2]>=a[2]?!0:!1}function D(a,
c,d,e){if(!F.yh||!F.JJ){var f=L.getElementsByTagName("head")[0];f&&(d=d&&"string"==typeof d?d:"screen",e&&(Ea=ga=null),ga&&Ea==d||(e=L.createElement("style"),e.setAttribute("type","text/css"),e.setAttribute("media",d),ga=f.appendChild(e),F.yh&&F.Eh&&typeof L.styleSheets!=N&&0<L.styleSheets.length&&(ga=L.styleSheets[L.styleSheets.length-1]),Ea=d),F.yh&&F.Eh?ga&&typeof ga.addRule==S&&ga.addRule(a,c):ga&&typeof L.createTextNode!=N&&ga.appendChild(L.createTextNode(a+" {"+c+"}")))}}function B(a,c){if(La){var d=
c?"visible":"hidden";la&&u(a)?u(a).style.visibility=d:D("#"+a,"visibility:"+d)}}function aa(a){return null!=/[\\\"<>\.;]/.exec(a)&&typeof encodeURIComponent!=N?encodeURIComponent(a):a}var N="undefined",S="object",O="application/x-shockwave-flash",pa="SWFObjectExprInst",ba=window,L=document,ja=navigator,Ma=!1,wa=[function(){Ma?f():g()}],ia=[],za=[],qa=[],ta,ya,Da,Ka,la=!1,xa=!1,ga,Ea,La=!0,F=function(){var a=typeof L.getElementById!=N&&typeof L.getElementsByTagName!=N&&typeof L.createElement!=N,c=
ja.userAgent.toLowerCase(),d=ja.platform.toLowerCase(),e=d?/win/.test(d):/win/.test(c),d=d?/mac/.test(d):/mac/.test(c),c=/webkit/.test(c)?parseFloat(c.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,f=!+"\v1",g=[0,0,0],h=null;if(typeof ja.plugins!=N&&typeof ja.plugins["Shockwave Flash"]==S)!(h=ja.plugins["Shockwave Flash"].description)||typeof ja.mimeTypes!=N&&ja.mimeTypes[O]&&!ja.mimeTypes[O].enabledPlugin||(Ma=!0,f=!1,h=h.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),g[0]=parseInt(h.replace(/^(.*)\..*$/,"$1"),
10),g[1]=parseInt(h.replace(/^.*\.(.*)\s.*$/,"$1"),10),g[2]=/[a-zA-Z]/.test(h)?parseInt(h.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof ba[["Active"].concat("Object").join("X")]!=N)try{var k=new (window[["Active"].concat("Object").join("X")])("ShockwaveFlash.ShockwaveFlash");k&&(h=k.GetVariable("$version"))&&(f=!0,h=h.split(" ")[1].split(","),g=[parseInt(h[0],10),parseInt(h[1],10),parseInt(h[2],10)])}catch(l){}return{Vl:a,hq:g,wk:c,yh:f,Eh:e,JJ:d}}();(function(){F.Vl&&((typeof L.readyState!=
N&&"complete"==L.readyState||typeof L.readyState==N&&(L.getElementsByTagName("body")[0]||L.body))&&c(),la||(typeof L.addEventListener!=N&&L.addEventListener("DOMContentLoaded",c,!1),F.yh&&F.Eh&&(L.attachEvent("onreadystatechange",function(){"complete"==L.readyState&&(L.detachEvent("onreadystatechange",arguments.callee),c())}),ba==top&&function(){if(!la){try{L.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}c()}}()),F.wk&&function(){la||(/loaded|complete/.test(L.readyState)?
c():setTimeout(arguments.callee,0))}(),e(c)))})();(function(){F.yh&&F.Eh&&window.attachEvent("onunload",function(){for(var c=qa.length,d=0;d<c;d++)qa[d][0].detachEvent(qa[d][1],qa[d][2]);c=za.length;for(d=0;d<c;d++)q(za[d]);for(var e in F)F[e]=null;F=null;for(var f in a)a[f]=null;a=null})})();return{X$:function(a,c,d,e){if(F.Vl&&a&&c){var f={};f.id=a;f.zY=c;f.vI=d;f.IR=e;ia[ia.length]=f;B(a,!1)}else e&&e({Pn:!1,id:a})},S5:function(a){if(F.Vl)return h(a)},MS:function(a,c,e,f,g,h,m,n,q,u){var w={Pn:!1,
id:c};F.Vl&&!(F.wk&&312>F.wk)&&a&&c&&e&&f&&g?(B(c,!1),d(function(){e+="";f+="";var d={};if(q&&typeof q===S)for(var D in q)d[D]=q[D];d.data=a;d.width=e;d.height=f;D={};if(n&&typeof n===S)for(var aa in n)D[aa]=n[aa];if(m&&typeof m===S)for(var F in m)D.Cs=typeof D.Cs!=N?D.Cs+("\x26"+F+"\x3d"+m[F]):F+"\x3d"+m[F];if(y(g))aa=p(d,D,c),d.id==c&&B(c,!0),w.Pn=!0,w.qK=aa;else{if(h&&k()){d.data=h;l(d,D,c,u);return}B(c,!0)}u&&u(w)})):u&&u(w)},nda:function(){La=!1},ua:F,eT:function(){return{VU:F.hq[0],z9:F.hq[1],
ED:F.hq[2]}},$T:y,d3:function(a,c,d){if(F.Vl)return p(a,c,d)},Qca:function(a,c,d,e){F.Vl&&k()&&l(a,c,d,e)},kaa:function(a){F.Vl&&q(a)},c3:function(a,c,d,e){F.Vl&&D(a,c,d,e)},S1:d,W1:e,x6:function(a){var c=L.location.search||L.location.hash;if(c){/\?/.test(c)&&(c=c.split("?")[1]);if(null==a)return aa(c);for(var c=c.split("\x26"),d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("\x3d"))==a)return aa(c[d].substring(c[d].indexOf("\x3d")+1))}return""},J3:function(){if(xa){var a=u(pa);a&&ta&&(a.parentNode.replaceChild(ta,
a),ya&&(B(ya,!0),F.yh&&F.Eh&&(ta.style.display="block")),Da&&Da(Ka));xa=!1}}}}();(function(){if("undefined"!=typeof window&&!window.RN){var c=window.console;c&&c.log&&c.error||(c={log:function(){},error:function(){}});a.$T("10.0.0")?("file:"==location.protocol&&c.error("WARNING: web-socket-js doesn't work in file:///... URL unless you set Flash Security Settings properly. Open the page via Web server i.e. http://..."),WebSocket=function(a,c,f,g,h){var k=this;k.Ru=WebSocket.YN++;WebSocket.TF[k.Ru]=
k;k.readyState=WebSocket.CONNECTING;k.bufferedAmount=0;k.mo={};c?"string"==typeof c&&(c=[c]):c=[];setTimeout(function(){WebSocket.Pu(function(){WebSocket.yi.create(k.Ru,a,c,f||null,g||0,h||null)})},0)},WebSocket.prototype.send=function(a){if(this.readyState==WebSocket.CONNECTING)throw"INVALID_STATE_ERR: Web Socket connection has not been established";a=WebSocket.yi.send(this.Ru,encodeURIComponent(a));if(0>a)return!0;this.bufferedAmount+=a;return!1},WebSocket.prototype.close=function(){this.readyState!=
WebSocket.CLOSED&&this.readyState!=WebSocket.KE&&(this.readyState=WebSocket.KE,WebSocket.yi.close(this.Ru))},WebSocket.prototype.addEventListener=function(a,c){a in this.mo||(this.mo[a]=[]);this.mo[a].push(c)},WebSocket.prototype.removeEventListener=function(a,c){if(a in this.mo)for(var f=this.mo[a],g=f.length-1;0<=g;--g)if(f[g]===c){f.splice(g,1);break}},WebSocket.prototype.dispatchEvent=function(a){for(var c=this.mo[a.type]||[],f=0;f<c.length;++f)c[f](a);(c=this["on"+a.type])&&c(a)},WebSocket.prototype.VN=
function(a){"readyState"in a&&(this.readyState=a.readyState);"protocol"in a&&(this.protocol=a.protocol);if("open"==a.type||"error"==a.type)a=this.RF(a.type);else if("close"==a.type)a=this.RF("close");else if("message"==a.type)a=this.TN(decodeURIComponent(a.message));else throw"unknown event type: "+a.type;this.dispatchEvent(a)},WebSocket.prototype.RF=function(a){if(document.createEvent&&window.ZZ){var c=document.createEvent("Event");c.initEvent(a,!1,!1);return c}return{type:a,bubbles:!1,cancelable:!1}},
WebSocket.prototype.TN=function(a){if(document.createEvent&&window.y_&&!window.opera){var c=document.createEvent("MessageEvent");c.initMessageEvent("message",!1,!1,a,null,null,window,null);return c}return{type:"message",data:a,bubbles:!1,cancelable:!1}},WebSocket.CONNECTING=0,WebSocket.OPEN=1,WebSocket.KE=2,WebSocket.CLOSED=3,WebSocket.yi=null,WebSocket.TF={},WebSocket.Qq=[],WebSocket.YN=0,WebSocket.QU=function(a){WebSocket.Pu(function(){WebSocket.yi.s9(a)})},WebSocket.wz=function(){if(!WebSocket.yi&&
(WebSocket.$N&&(window.QN=WebSocket.$N),window.QN)){var d=document.createElement("div");d.id="webSocketContainer";d.style.position="absolute";WebSocket.XN()?(d.style.left="0px",d.style.top="0px"):(d.style.left="-100px",d.style.top="-100px");var e=document.createElement("div");e.id="webSocketFlash";d.appendChild(e);document.body.appendChild(d);a.MS(WEB_SOCKET_SWF_LOCATION,"webSocketFlash","1","1","10.0.0",null,null,{L7:!0,qda:!0,j2:"always"},null,function(a){a.Pn||c.error("[WebSocket] swfobject.embedSWF failed")})}},
WebSocket.$0=function(){setTimeout(function(){WebSocket.yi=document.getElementById("webSocketFlash");WebSocket.yi.Paa(location.href);WebSocket.yi.Xaa(!!window.L0);for(var a=0;a<WebSocket.Qq.length;++a)WebSocket.Qq[a]();WebSocket.Qq=[]},0)},WebSocket.Z0=function(){setTimeout(function(){try{for(var a=WebSocket.yi.S$(),e=0;e<a.length;++e)WebSocket.TF[a[e].fea].VN(a[e])}catch(f){c.error(f)}},0);return!0},WebSocket.Y0=function(a){c.log(decodeURIComponent(a))},WebSocket.X0=function(a){c.error(decodeURIComponent(a))},
WebSocket.Pu=function(a){WebSocket.yi?a():WebSocket.Qq.push(a)},WebSocket.XN=function(){if(!window.navigator||!window.navigator.mimeTypes)return!1;var a=window.navigator.mimeTypes["application/x-shockwave-flash"];return a&&a.enabledPlugin&&a.enabledPlugin.filename?a.enabledPlugin.filename.match(/flashlite/i)?!0:!1:!1},window.M0||(window.addEventListener?window.addEventListener("load",function(){WebSocket.wz()},!1):window.attachEvent("onload",function(){WebSocket.wz()}))):c.error("Flash Player \x3e\x3d 10.0.0 is required.")}})();
(function(a,d,e){function f(a){a&&d.Transport.apply(this,arguments)}function g(){}a.Aj=f;d.util.inherit(f,d.Transport);f.prototype.open=function(){this.zb.pk(!1);this.qx();this.get();this.MK();return this};f.prototype.cK=function(a){for(var c=[],e=0,f=a.length;e<f;e++)c.push(d.parser.encodePacket(a[e]));this.send(d.parser.encodePayload(c))};f.prototype.send=function(a){this.fK(a);return this};f.prototype.fK=function(a){function c(){4==this.readyState&&(this.onreadystatechange=g,f.F$=!1,200==this.status?
f.zb.pk(!1):f.li())}function d(){this.onload=g;f.zb.pk(!1)}var f=this;this.zb.pk(!0);this.gt=this.request("POST");e.XDomainRequest&&this.gt instanceof XDomainRequest?this.gt.onload=this.gt.onerror=d:this.gt.onreadystatechange=c;this.gt.send(a)};f.prototype.close=function(){this.li();return this};f.prototype.request=function(a){var c=d.util.request(this.zb.Xp()),e=d.util.query(this.zb.options.query,"t\x3d"+ +new Date);c.open(a||"GET",this.dt()+e,!0);if("POST"==a)try{c.setRequestHeader?c.setRequestHeader("Content-type",
"text/plain;charset\x3dUTF-8"):c.contentType="text/plain"}catch(f){}return c};f.prototype.scheme=function(){return this.zb.options.Hn?"https":"http"};f.dn=function(a,c){try{var f=d.util.request(c),g=e.XDomainRequest&&f instanceof XDomainRequest,n=a&&a.options&&a.options.Hn?"https:":"http:",p=e.location&&n!=e.location.protocol;if(f&&(!g||!p))return!0}catch(q){}return!1};f.Ct=function(a){return f.dn(a,!0)}})("undefined"!=typeof io?io.Transport:module.xc,"undefined"!=typeof io?io:module.parent.xc,this);
(function(a,d){function e(a){d.Transport.Aj.apply(this,arguments)}a.O7=e;d.util.inherit(e,d.Transport.Aj);e.prototype.name="htmlfile";e.prototype.get=function(){this.pl=new (window[["Active"].concat("Object").join("X")])("htmlfile");this.pl.open();this.pl.write("\x3chtml\x3e\x3c/html\x3e");this.pl.close();this.pl.parentWindow.pi=this;var a=this.pl.createElement("div");a.className="socketio";this.pl.body.appendChild(a);this.Kg=this.pl.createElement("iframe");a.appendChild(this.Kg);var c=this,a=d.util.query(this.zb.options.query,
"t\x3d"+ +new Date);this.Kg.src=this.dt()+a;d.util.on(window,"unload",function(){c.Fd()})};e.prototype.OF=function(a,c){a=a.replace(/\\\//g,"/");this.at(a);try{var d=c.getElementsByTagName("script")[0];d.parentNode.removeChild(d)}catch(e){}};e.prototype.Fd=function(){if(this.Kg){try{this.Kg.src="about:blank"}catch(a){}this.pl=null;this.Kg.parentNode.removeChild(this.Kg);this.Kg=null;CollectGarbage()}};e.prototype.close=function(){this.Fd();return d.Transport.Aj.prototype.close.call(this)};e.dn=function(a){if("undefined"!=
typeof window&&["Active"].concat("Object").join("X")in window)try{return new (window[["Active"].concat("Object").join("X")])("htmlfile")&&d.Transport.Aj.dn(a)}catch(c){}return!1};e.Ct=function(){return!1};d.transports.push("htmlfile")})("undefined"!=typeof io?io.Transport:module.xc,"undefined"!=typeof io?io:module.parent.xc);(function(a,d,e){function f(){d.Transport.Aj.apply(this,arguments)}function g(){}a["xhr-polling"]=f;d.util.inherit(f,d.Transport.Aj);d.util.merge(f,d.Transport.Aj);f.prototype.name=
"xhr-polling";f.prototype.dJ=function(){return!1};f.prototype.open=function(){d.Transport.Aj.prototype.open.call(this);return!1};f.prototype.get=function(){function a(){4==this.readyState&&(this.onreadystatechange=g,200==this.status?(f.at(this.responseText),f.get()):f.li())}function c(){this.onerror=this.onload=g;f.LD=1;f.at(this.responseText);f.get()}function d(){f.LD++;!f.LD||3<f.LD?f.li():f.get()}if(this.Ss){var f=this;this.si=this.request();e.XDomainRequest&&this.si instanceof XDomainRequest?
(this.si.onload=c,this.si.onerror=d):this.si.onreadystatechange=a;this.si.send(null)}};f.prototype.li=function(){d.Transport.Aj.prototype.li.call(this);if(this.si){this.si.onreadystatechange=this.si.onload=this.si.onerror=g;try{this.si.abort()}catch(a){}this.si=null}};f.prototype.wx=function(a,c){var e=this;d.util.defer(function(){c.call(e)})};d.transports.push("xhr-polling")})("undefined"!=typeof io?io.Transport:module.xc,"undefined"!=typeof io?io:module.parent.xc,this);(function(a,d,e){function f(a){d.Transport["xhr-polling"].apply(this,
arguments);this.index=d.j.length;var c=this;d.j.push(function(a){c.OF(a)})}var g=e.document&&"MozAppearance"in e.document.documentElement.style;a["jsonp-polling"]=f;d.util.inherit(f,d.Transport["xhr-polling"]);f.prototype.name="jsonp-polling";f.prototype.fK=function(a){function c(){e();f.zb.pk(!1)}function e(){f.Kg&&f.form.removeChild(f.Kg);try{w=document.createElement('\x3ciframe name\x3d"'+f.TC+'"\x3e')}catch(a){w=document.createElement("iframe"),w.name=f.TC}w.id=f.TC;f.form.appendChild(w);f.Kg=
w}var f=this,g=d.util.query(this.zb.options.query,"t\x3d"+ +new Date+"\x26i\x3d"+this.index);if(!this.form){var p=document.createElement("form"),q=document.createElement("textarea"),u=this.TC="socketio_iframe_"+this.index,w;p.className="socketio";p.style.position="absolute";p.style.top="0px";p.style.left="0px";p.style.display="none";p.target=u;p.method="POST";p.setAttribute("accept-charset","utf-8");q.name="d";p.appendChild(q);document.body.appendChild(p);this.form=p;this.CR=q}this.form.action=this.dt()+
g;e();this.CR.value=d.JSON.stringify(a);try{this.form.submit()}catch(y){}this.Kg.attachEvent?w.onreadystatechange=function(){"complete"==f.Kg.readyState&&c()}:this.Kg.onload=c;this.zb.pk(!0)};f.prototype.get=function(){var a=this,c=document.createElement("script"),e=d.util.query(this.zb.options.query,"t\x3d"+ +new Date+"\x26i\x3d"+this.index);this.Wa&&(this.Wa.parentNode.removeChild(this.Wa),this.Wa=null);c.async=!0;c.src=this.dt()+e;c.onerror=function(){a.li()};e=document.getElementsByTagName("script")[0];
e.parentNode.insertBefore(c,e);this.Wa=c;g&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a);document.body.removeChild(a)},100)};f.prototype.OF=function(a){this.at(a);this.Ss&&this.get();return this};f.prototype.wx=function(a,c){var e=this;if(!g)return c.call(this);d.util.load(function(){c.call(e)})};f.dn=function(){return"document"in e};f.Ct=function(){return!0};d.transports.push("jsonp-polling")})("undefined"!=typeof io?io.Transport:module.xc,"undefined"!=
typeof io?io:module.parent.xc,this);"function"===typeof define&&define.k2&&define([],function(){return io})})();r=r||{};function ea(){return arguments.callee.name||arguments.callee.toString().match(/^function ([^(]+)/)[1]}ea.id=0|998*Math.random();ea.yU=0|998*Math.random();
ea.$H=function(a,c,d){for(var e=a.toString(),f=e.indexOf("("),g=e.indexOf(")"),f=e.substring(f+1,g),f=f.trim(),g=e.indexOf("{"),e=e.substring(g+1,e.lastIndexOf("}"));-1!=e.indexOf("this._super");)var g=e.indexOf("this._super"),h=e.indexOf("(",g),k=e.indexOf(")",h),k=e.substring(h+1,k),k=(k=k.trim())?",":"",l=arguments.callee.nM(),e=e.substring(0,g)+l+"["+d+"]."+c+".call(this"+k+e.substring(h+1);return Function(f,e)};ea.$H.nM=ea;ea.qT=function(){return this.id++};ea.rT=function(){return this.yU++};
(function(){var a=/\b_super\b/,c=document.ccConfig&&document.ccConfig.CLASS_RELEASE_MODE?document.ccConfig.CLASS_RELEASE_MODE:null;c&&console.log("release Mode");r.Ea=function(){};r.Ea.extend=function(d){function e(){this.gc=ea.rT();this.ctor&&this.ctor.apply(this,arguments)}var f=this.prototype,g=Object.create(f),h=ea.qT();ea[h]=f;var k={writable:!0,enumerable:!1,configurable:!0},l;for(l in d)c&&"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=ea.$H(d[l],l,h),Object.defineProperty(g,
l,k)):"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=function(a,c){return function(){var d=this._super;this._super=f[a];var e=c.apply(this,arguments);this._super=d;return e}}(l,d[l]),Object.defineProperty(g,l,k)):"function"==typeof d[l]?(k.value=d[l],Object.defineProperty(g,l,k)):g[l]=d[l];g.gc=null;e.id=h;k.value=h;Object.defineProperty(g,"__pid",k);e.prototype=g;k.value=e;Object.defineProperty(e.prototype,"constructor",k);e.extend=arguments.callee;e.Q7=function(a){for(var c in a)g[c]=
a[c]};return e};Function.prototype.bind=Function.prototype.bind||function(a){var c=this;return function(){var f=Array.prototype.slice.call(arguments);return c.apply(a||null,f)}}})();r.S7=function(a,c){function d(){}d.prototype=c.prototype;a.gy=c.prototype;a.prototype=new d;a.prototype.constructor=a};
r.FR=function(a,c,d){var e=arguments.callee.caller;if(e.gy)return ret=e.gy.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var f=Array.prototype.slice.call(arguments,2),g=!1,h=a.constructor;h;h=h.gy&&h.gy.constructor)if(h.prototype[c]===e)g=!0;else if(g)return h.prototype[c].apply(a,f);if(a[c]===e)return a.constructor.prototype[c].apply(a,f);throw Error("cc.base called from a method of one name to a method of a different name");};
r.Y2=function(a,c){a||(a={});for(var d in c)a[d]=c[d];return a};r.Yg=function(a,c){this.x=a||0;this.y=c||0};r.PF=function(a,c){this.H=a||0;this.M=c||0;this.sL=function(a){this.H=a};this.tL=function(a){this.M=a}};r.Cd=function(){return new r.PF(0,0)};
Object.defineProperties(r.PF.prototype,{x:{get:function(){return this.H},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0},y:{get:function(){return this.M},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0}});r.P_=function(a,c){r.log("cc.PointMake will be deprecated sooner or later. Use cc.p instead.");return new r.Yg(a,c)};
r.a=function(a,c){return{x:a,y:c}};r.z1=r.a;r.wj=function(){return r.a(0,0)};r.dK=function(a,c){return a&&c?a.x===c.x&&a.y===c.y:!1};r.Ek=function(a,c){this.width=a||0;this.height=c||0};r.QF=function(a,c){this.Ha=a||0;this.wa=c||0;this.hE=function(a){this.Ha=a};this.VD=function(a){this.wa=a}};r.Jm=function(){return new r.QF(0,0)};
Object.defineProperties(r.QF.prototype,{width:{get:function(){return this.Ha},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0},height:{get:function(){return this.wa},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0}});r.t0=function(a,c){r.log("cc.SizeMake will be deprecated sooner or later. Use cc.size instead.");return r.size(a,c)};
r.size=function(a,c){return{width:a,height:c}};r.eb=r.size;r.fm=function(){return r.size(0,0)};r.FH={BV:r.Cd(),qY:r.Jm()};Object.defineProperties(r,{mN:{get:function(){return r.FH.BV}},wN:{get:function(){return r.FH.qY}},U_:{get:function(){return r.rect(0,0,0,0)}}});r.pY=function(a,c){return a&&c?a.width==c.width&&a.height==c.height:!1};
r.pg=function(a,c,d,e){var f=arguments.length;if(4===f)this.pd=new r.Yg(a||0,c||0),this.eb=new r.Ek(d||0,e||0);else if(1===f)this.pd=new r.Yg(a.pd.x,a.pd.y),this.eb=new r.Ek(a.eb.width,a.eb.height);else if(0===f)this.pd=new r.Yg(0,0),this.eb=new r.Ek(0,0);else if(2===f)this.pd=new r.Yg(a.x,a.y),this.eb=new r.Ek(c.width,c.height);else throw"unknown argument type";};r.a0=function(a,c,d,e){r.log("cc.RectMake will be deprecated sooner or later. Use cc.rect instead.");return r.rect(a,c,d,e)};
r.rect=function(a,c,d,e){var f=arguments.length;if(0===f)return new r.pg(0,0,0,0);if(1===f)return new r.pg(a.x,a.y,a.width,a.height);if(2===f)return new r.pg(a.x,a.y,c.width,c.height);if(4===f)return new r.pg(a,c,d,e);throw"unknown argument type";};r.Aa=r.rect;r.md=function(){return r.rect(0,0,0,0)};r.oK=function(a,c){return a&&c?r.dK(a.pd,c.pd)&&r.pY(a.eb,c.eb):!1};r.Sr=function(a){return a?0===a.x&&0===a.y&&0===a.width&&0===a.height:!1};
r.T$=function(a,c){return a&&c?!(a.x>=c.x||a.y>=c.y||a.x+a.width<=c.x+c.width||a.y+a.height<=c.y+c.height):!1};r.An=function(a){return a.x+a.width};r.U$=function(a){return a.x+a.width/2};r.Hl=function(a){return a.x};r.Bn=function(a){return a.y+a.height};r.V$=function(a){return a.y+a.height/2};r.Il=function(a){return a.y};r.cb=function(a,c){return c.x>=r.Hl(a)&&c.x<=r.An(a)&&c.y>=r.Il(a)&&c.y<=r.Bn(a)};r.UV=function(a,c){return!(r.An(a)<r.Hl(c)||r.An(c)<r.Hl(a)||r.Bn(a)<r.Il(c)||r.Bn(c)<r.Il(a))};
r.W$=function(a,c){return!(a.x+a.width<c.x||c.x+c.width<a.x||a.y+a.height<c.y||c.y+c.height<a.y)};r.Ax=function(a,c){var d=r.rect(0,0,0,0);d.x=Math.min(a.x,c.x);d.y=Math.min(a.y,c.y);d.width=Math.max(a.x+a.width,c.x+c.width)-d.x;d.height=Math.max(a.y+a.height,c.y+c.height)-d.y;return d};r.TV=function(a,c){var d=r.rect(Math.max(r.Hl(a),r.Hl(c)),Math.max(r.Il(a),r.Il(c)),0,0);d.width=Math.min(r.An(a),r.An(c))-r.Hl(d);d.height=Math.min(r.Bn(a),r.Bn(c))-r.Il(d);return d};b=r.pg.prototype;
b.sL=function(a){this.pd.x=a};b.tL=function(a){this.pd.y=a};b.Ns=function(){return this.eb.width};b.hE=function(a){this.eb.width=a};b.Is=function(){return this.eb.height};b.VD=function(a){this.eb.height=a};
Object.defineProperties(r.pg.prototype,{x:{get:function(){return this.pd.x},set:function(a){this.sL(a)},enumerable:!0,configurable:!0},y:{get:function(){return this.pd.y},set:function(a){this.tL(a)},enumerable:!0,configurable:!0},width:{get:function(){return this.Ns()},set:function(a){this.hE(a)},enumerable:!0,configurable:!0},height:{get:function(){return this.Is()},set:function(a){this.VD(a)},enumerable:!0,configurable:!0}});var s=s||{};try{s.localStorage=window.localStorage,window.localStorage.setItem("storage",""),window.localStorage.removeItem("storage")}catch(fa){"SECURITY_ERR"!==fa.name&&"QuotaExceededError"!==fa.name||console.log("Warning: localStorage isn't enabled. Please confirm browser cookie or privacy option"),s.localStorage=function(){}}
Object.defineProperties(s,{I2:{get:function(){var a={canvas:!0};r.Ga.Tc&&(a.opengl=!0);"ontouchstart"in document.documentElement||window.navigator.msPointerEnabled?a.touches=!0:"onmouseup"in document.documentElement&&(a.mouse=!0);"onkeyup"in document.documentElement&&(a.keyboard=!0);if(window.DeviceMotionEvent||window.DeviceOrientationEvent)a.accelerometer=!0;return a},enumerable:!0,configurable:!0},Z9:{get:function(){var a=navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?!0:!1,c=navigator.userAgent.match(/android/i)||
navigator.platform.match(/android/i)?!0:!1,d=navigator.appVersion;-1!=navigator.appVersion.indexOf("Win")?d="Windows":-1!=navigator.appVersion.indexOf("Mac")?d="OS X":-1!=navigator.appVersion.indexOf("X11")?d="UNIX":-1!=navigator.appVersion.indexOf("Linux")?d="Linux":a?d="iOS":c&&(d="Android");return d},enumerable:!0,configurable:!0},platform:{get:function(){return"browser"},enumerable:!0,configurable:!0},version:{get:function(){return r.Kt},enumerable:!0,configurable:!0}});s.e4=function(){};
s.y3=function(){};s.vaa=function(){};r.Kt="Cocos2d-html5-v2.2.2";r.du=0;r.YE=r.a(0,0);r.sM=0.5;r.uZ=1;r.xN=1;r.jN=0;r.GF=0;r.v0=0;r.w0=0;r.X_=1;r.W_="-hd";r.MN=1;r.Dk=0;r.q0=0;r.r_=0;r.q_=0;r.Ny=1;r.EZ=r.Kt+"-canvas";r.Kw={platform:s.platform};r.x3=function(){for(var a in s)r.log(a+" \x3d "+s[a])};r.Jt=1;r.$E=1;r.aI=function(a,c){for(var d=["webgl","experimental-webgl","webkit-3d","moz-webgl"],e=null,f=0;f<d.length;++f){try{e=a.getContext(d[f],c)}catch(g){}if(e)break}return e};r.Ga={};r.Ga.RY=["baidubrowser","opera","firefox","chrome","safari"];
(function(){r.Ga.ua=navigator.userAgent.toLowerCase();r.Ga.platform=navigator.platform.toLowerCase();r.Ga.lk=-1!=r.Ga.ua.indexOf("mobile")||-1!=r.Ga.ua.indexOf("android");r.Ga.type=function(){var a=r.Ga.ua.match(/micromessenger|qqbrowser|mqqbrowser|ucbrowser|360browser|baidubrowser|maxthon|ie|opera|firefox/)||r.Ga.ua.match(/chrome|safari/);return a&&0<a.length?(a=a[0],"micromessenger"==a?"wechat":a):"unknow"}();r.Ga.mode="ie"==r.Ga.type&&document.documentMode;document.ccConfig||(document.ccConfig=
{});r.RB=parseInt(document.ccConfig.renderMode)||0;var a=-1==r.Ga.RY.indexOf(r.Ga.type);1===r.RB||0===r.RB&&(r.Ga.lk||a)?r.Ga.Tc=!1:(r.Ga.Tc=null!=window.P0,a=document.createElement("Canvas"),a=r.aI(a,{stencil:!0,preserveDrawingBuffer:!0}),r.Ga.Tc=null!=a);2!==r.RB||r.Ga.Tc||(r.xz=!0);var a=r.Ga,c;try{c=new (window.AudioContext||window.webkitAudioContext||window.mozAudioContext)?!0:!1}catch(d){c=!1}a.gda=c;r.Ga.W9=function(a){if(this.lk){var c=r.$.e().Sb,d=c.width+"px",c=c.height+"px",h=r.yk("div");
h.style.backgroundColor="#ffffff";h.style.width=d;h.style.height=c;h.style.UY=1E3;h.style.position="absolute";h.style.top="0px";h.style.left="0px";h.id="cocos2d-browser";var k=r.yk("iframe");k.src=a;k.style.width=d;k.style.height=c;k.setAttribute("frameborder","no");k.setAttribute("scrolling","no");h.appendChild(k);k.onload=function(){var a=document.createElement("img");a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5OERBMEM3OUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5OERBMEM3QUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjk4REEwQzc3RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjk4REEwQzc4RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+NwBuoAAAA/tJREFUeNrEWF0sW3EUb6+28zFhbGadsBaNhazV+kpDYhFWKRGWbHvwFV5IvPiIFw9evElEPEiWSUgsIWoIglhmUomPxj6aKC0zKVJjtPU5o9j5J7dLdbf33jKc5Jfc3v+v5/+755x7/j1lMoiNBRDh4AO88HvO2m+ACbAC+AJQAyz2JCbBFyMBWQA/xv+3DUAXLuivudhcY4BMwCuAB+NqDPmNAnAAOsCZvQgk4BnjeiwEwAbM2YoQA14yrteQEANgDcML7gXjZgw9OAuJkADu3JAIb7Q/hr+GtCwuLs6LDq+iooLvhBAREhFEl11ZWRne0tIiIeNIpVKv4uJi4dTUVApNt0EY3ohILSIiwqO7u1sql8vD8vLyJJ2dnXH2HDabzczPz3/Y1taWzOfz78XExDxSq9Vyd3d3jMK9F2pWr6lEtLa2RmVnZ4tt7w0NDWlTU1OVtkK7urqSQ0NDzzW5hYWFjcTExAGDwXDkyD+VSkZ7e3tsWlpamP19mUwWplQqk9B1UlKST3NzczxE4K49D4mCiDwn24PyPMjIyHjs6urKIVpLSEgInp6eZsM6Kzw8nEvEMZvNBxC1BbI9KCMhkUgUy8vLRpL1QIFA4EcSyZmcnJzpS4mYnZ3dj46O7p2fn193xIGi/CeiFovlFIp5pqGhYZ5qD1qFiQxCjk1OTsqEQmEAFReloL+/X0sVAadFWE2n02VA+O+TcVZXV01QkO8ODw9P6fjEnO2zvb2936g4XC7XG4rWm65P2iL8/f05kN8nBQUFQkqnGMYcGBjIys3N5dLxjY7ydDrE6urqsNLSUqmbmxuH1tOBkMzMTIHRaNxSqVTmS4soKyvjFRUViTw9PV2dTR901WAOh7M/MjKyeeHCbGpqEhcWFkY5Wl9aWtpUKBRaONziSbsii/Xm5OTk7EIdU6/X7zpaW1xc/Al5HxkfH9/e2dk5rqmpeUrE6+vr06ADzpEIlI5kMjFwPhh5PB5DJBKdK7KDg4Oj2tpaVUdHxw/0eWxszIjyj8Jvy4N60FdVVX2Grnt4dkaowYJESAG3yaLR09Oz5uvrexwbGxuAR2erpKTkI6RqxW5DM6RnLT09PQQV5vDwsDYlJWUU+I4EIDMhEQLAA6q0DA4OrqMCg/c/qL6+XtXY2Kgn4sGJuavRaFbFYrFPeXn5FIj6ReFa64KnIpJOpaMK39vbM9XV1X13lF9kc3Nz+xMTEwZo89s03A4ycRE1N/RjF/WPKgyfDRU39Gu7w1qYyNYAtwDB1yhgGPDBfgzU4bMi7xoEjAI6iWZRdGMGH80Cr2goRlP5W8B7qwBHfw1YO6kEH4yC8EnJ5QKbnuDFh17nr4BPRP9P/BFgAHo7ZNgI9EbHAAAAAElFTkSuQmCC";
h.appendChild(a);a.style.UY=1E3;a.style.position="absolute";a.style.bottom="10px";a.style.right="10px";a.onclick=function(){h.remove()}};(a=document.getElementById(document.ccConfig.tag).parentNode)&&a.appendChild(h)}else window.open(a)}})();r.b0=function(){return"undefined"===r.xz?!1:r.xz};
r.Pb=function(a){var c=this==r?document:this;if(a=a instanceof HTMLElement?a:c.querySelector(a))a.find=a.find||r.Pb,a.OC=a.OC||function(a){return this.className.match(RegExp("(\\s|^)"+a+"(\\s|$)"))},a.LH=a.LH||function(a){this.OC(a)||(this.className&&(this.className+=" "),this.className+=a);return this},a.kW=a.kW||function(a){this.OC(a)&&(this.className=this.className.replace(a,""));return this},a.remove=a.remove||function(){this.parentNode&&this.parentNode.removeChild(this);return this},a.bn=a.bn||
function(a){a.appendChild(this);return this},a.NV=a.NV||function(a){a.childNodes[0]?a.insertBefore(this,a.childNodes[0]):a.appendChild(this);return this},a.Rn=a.Rn||function(){this.style[r.Pb.FY]=r.Pb.translate(this.position)+r.Pb.rotate(this.rotation)+r.Pb.scale(this.scale)+r.Pb.Pl(this.Pl);return this},a.position=a.position||{x:0,y:0},a.rotation=a.rotation||0,a.scale=a.scale||{x:1,y:1},a.Pl=a.Pl||{x:0,y:0},a.sE=function(a,c){this.position.x=a;this.position.y=c;this.Rn()},a.rotate=function(a){this.rotation=
a;this.Rn();return this},a.resize=function(a,c){this.scale.x=a;this.scale.y=c;this.Rn();return this},a.jL=function(a,c){this.Pl.x=a;this.Pl.y=c;this.Rn()};return a};switch(r.Ga.type){case "firefox":r.Pb.gq="Moz";r.Pb.Rp=!0;break;case "chrome":case "safari":r.Pb.gq="webkit";r.Pb.Rp=!0;break;case "opera":r.Pb.gq="O";r.Pb.Rp=!1;break;case "ie":r.Pb.gq="ms";r.Pb.Rp=!1;break;default:r.Pb.gq="webkit",r.Pb.Rp=!0}r.Pb.FY=r.Pb.gq+"Transform";
r.Pb.translate=r.Pb.Rp?function(a){return"translate3d("+a.x+"px, "+a.y+"px, 0) "}:function(a){return"translate("+a.x+"px, "+a.y+"px) "};r.Pb.rotate=r.Pb.Rp?function(a){return"rotateZ("+a+"deg) "}:function(a){return"rotate("+a+"deg) "};r.Pb.scale=function(a){return"scale("+a.x+", "+a.y+") "};r.Pb.Pl=function(a){return"skewX("+-a.x+"deg) skewY("+a.y+"deg)"};r.yk=function(a){return r.Pb(document.createElement(a))};
r.Pb.X3=function(a){var c=0,d=0;do c+=a.offsetLeft,d+=a.offsetTop;while(a=a.offsetParent);return{x:c,y:d}};r.I=function(a){var c=a.constructor?new a.constructor:{},d;for(d in a){var e=a[d];c[d]="object"!=typeof e||!e||e instanceof r.D||e instanceof HTMLElement?e:r.I(e)}return c};r.p2=function(){};r.cF=r.cF||!1;
r.wP=function(a){var c=document.getElementById("logInfoList");if(!c){var d=document.createElement("Div");d.setAttribute("id","logInfoDiv");r.canvas.parentNode.appendChild(d);d.setAttribute("width","200");d.setAttribute("height",r.canvas.height);d.style.zIndex="99999";d.style.position="absolute";d.style.top="0";d.style.left="0";c=document.createElement("ul");d.appendChild(c);c.setAttribute("id","logInfoList");c.style.height=r.canvas.height+"px";c.style.color="#fff";c.style.textAlign="left";c.style.listStyle=
"disc outside";c.style.fontSize="12px";c.style.fontFamily="arial";c.style.padding="0 0 0 20px";c.style.margin="0";c.style.textShadow="0 0 3px #000";c.style.zIndex="99998";c.style.position="absolute";c.style.top="0";c.style.left="0";c.style.overflowY="hidden";var e=document.createElement("Div");d.appendChild(e);e.style.width="200px";e.style.height=r.canvas.height+"px";e.style.opacity="0.1";e.style.background="#fff";e.style.border="1px solid #dfdfdf";e.style.borderRadius="8px"}d=document.createElement("li");
d.innerHTML=a;0==c.childNodes.length?c.appendChild(d):c.insertBefore(d,c.childNodes[0])};r.log=function(a){r.cF?r.wP(a):console.log.apply(console,arguments)};r.x_=function(a){console.log(a)};r.Ft=function(a,c){console.assert?console.assert(a,c):a||c&&alert(c)};r.kU=function(){0==r.Ht?(r.log=function(){},r.HJ=function(){},r.GJ=function(){},r.Ft=function(){}):1==r.Ht?(r.HJ=r.log,r.GJ=function(){}):1<r.Ht&&(r.HJ=r.log,r.GJ=r.log)};r.QM=0;r.PM=1;r.RM=2;r.UM=3;r.SM=4;r.aN=5;r.$M=6;r.WM=7;r.VM=8;r.TM=9;
r.ZM=10;r.OM=11;r.XM=12;r.YM=13;
r.MM={r2:8,sda:9,PS:13,shift:16,h3:17,alt:18,pause:19,J2:20,escape:27,x$:33,v$:34,end:35,home:36,left:37,Pda:38,right:39,s3:40,X7:45,LZ:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,J:65,i:66,Da:67,La:68,z3:69,Vw:70,o:71,De:72,P7:73,j:74,a9:75,j9:76,w9:77,OJ:78,S9:79,a:80,L$:81,p:82,pi:83,rda:84,Pa:85,oa:86,ZL:87,x:88,y:89,z:90,G9:96,H9:97,I9:98,J9:99,K9:100,L9:101,M9:102,N9:103,O9:104,P9:105,"*":106,"+":107,"-":109,numdel:110,"/":111,K3:112,O3:113,P3:114,Q3:115,R3:116,S3:117,T3:118,U3:119,
V3:120,L3:121,M3:122,N3:123,R9:144,Caa:145,Faa:186,",":186,D3:187,"\x3d":187,";":188,X2:188,j3:189,".":190,B$:190,c4:191,I7:192,"[":219,X9:219,"]":221,W2:221,q2:220,quote:222,Yca:32};r.wi=-1;r.PI=Math.PI;r.DM=parseFloat("3.402823466e+38F");r.tN=r.PI/180;r.rM=180/r.PI;r.LN=4294967295;r.r0=function(a,c,d){if("object"==typeof d&&"undefined"!=typeof d.x&&"undefined"!=typeof d.y){var e=d[a];d[a]=d[c];d[c]=e}else r.log("cc.SWAP is being modified from original macro, please check usage")};r.l9=function(a,c,d){return a+(c-a)*d};r.T_=function(){return 2*(Math.random()-0.5)};r.S_=function(){return Math.random()};r.uj=function(a){return a*r.tN};r.Zy=function(a){return a*r.rM};
r.em=Number.MAX_VALUE-1;r.Me=r.jN?1:770;r.Le=771;r.Ty=function(a){a.Mc&&(a.Mc.pf(),a.Mc.Sg())};r.XZ=function(){};r.KZ=function(){};r.Gh=function(){r.fi+=1};r.eu=1.192092896E-7;r.Ld=r.Ny?function(){return r.$.e().pm}:function(){return 1};r.lN=function(a){var c=r.Ld();return r.a(a.x*c,a.y*c)};r.T0=function(a,c){var d=r.Ld();c.H=a.x*d;c.M=a.y*d};r.dz=function(a){var c=r.Ld();return r.size(a.width*c,a.height*c)};r.o0=function(a){var c=r.Ld();return r.size(a.width/c,a.height/c)};
r.uz=function(a,c){var d=r.Ld();c.Ha=a.width/d;c.wa=a.height/d};r.N_=function(a){var c=r.Ld();return r.a(a.x/c,a.y/c)};r.Ou=function(a,c){var d=r.Ld();c.H=a.x/d;c.M=a.y/d};r.Cq=r.Ny?function(a){var c=r.Ld();return r.rect(a.x/c,a.y/c,a.width/c,a.height/c)}:function(a){return a};r.co=r.Ny?function(a){var c=r.Ld();return r.rect(a.x*c,a.y*c,a.width*c,a.height*c)}:function(a){return a};r.JE=function(){if(r.saa==r.Fk){var a=r.Y.getError();a&&r.log("WebGL error "+a)}};r.g0=0;r.f0=1;r.d0=2;r.e0=3;r.h0=4;r.i0=5;r.c0=6;var Uint8Array=Uint8Array||Array;
if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){var ha=document.createElement("script");ha.type="text/vbscript";ha.textContent='\x3c!-- IEBinaryToArray_ByteStr --\x3e\r\nFunction IEBinaryToArray_ByteStr(Binary)\r\n   IEBinaryToArray_ByteStr \x3d CStr(Binary)\r\nEnd Function\r\nFunction IEBinaryToArray_ByteStr_Last(Binary)\r\n   Dim lastIndex\r\n   lastIndex \x3d LenB(Binary)\r\n   if lastIndex mod 2 Then\r\n       IEBinaryToArray_ByteStr_Last \x3d Chr( AscB( MidB( Binary, lastIndex, 1 ) ) )\r\n   Else\r\n       IEBinaryToArray_ByteStr_Last \x3d ""\r\n   End If\r\nEnd Function\r\n';document.body.appendChild(ha);
r.hG=function(a){for(var c={},d=0;256>d;d++)for(var e=0;256>e;e++)c[String.fromCharCode(d+256*e)]=String.fromCharCode(d)+String.fromCharCode(e);d=IEBinaryToArray_ByteStr(a);a=IEBinaryToArray_ByteStr_Last(a);return d.replace(/[\s\S]/g,function(a){return c[a]})+a}}
r.Md=r.Ea.extend({Hj:null,il:null,MO:null,oA:null,cp:null,Uh:null,dr:"",ctor:function(){this.Hj={};this.il={};this.Uh=[];this.Uh.push(this.dr);this.cp=[];this.cp.push("")},I$:function(){this.Uh=[]},v4:function(a){a=this.ve(a);return this.Hj.hasOwnProperty(a)?this.Hj[a]:this.tP(a)},tv:function(){return window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP")},GY:function(a){this.Hj.hasOwnProperty(a)&&delete this.Hj[a]},IV:function(a){a=this.ve(a);var c=this,d=this.tv();d.open("GET",
a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","x-user-defined"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=r.hG(d.responseBody);e&&(c.Hj[a]=c.gw(e))}else r.dc.e().un(a);r.dc.e().ni()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dx-user-defined"),d.onload=function(){var e=d.responseText;e?c.Hj[a]=c.gw(e):r.dc.e().un(a);r.dc.e().ni()});d.send(null)},tP:function(a){var c=this.tv();
c.open("GET",a,!1);var d=null;if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){c.setRequestHeader("Accept-Charset","x-user-defined");c.send(null);if(200!=c.status)return null;if(c=r.hG(c.responseBody))d=this.gw(c),this.Hj[a]=d}else{c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dx-user-defined");c.send(null);if(200!=c.status)return null;d=this.gw(c.responseText);this.Hj[a]=d}return d},gw:function(a){if(!a)return null;for(var c=new Uint8Array(a.length),d=0;d<
a.length;d++)c[d]=a.charCodeAt(d)&255;return c},IY:function(a){a=this.ve(a);this.il.hasOwnProperty(a)&&delete this.il[a]},KV:function(a){a=this.ve(a);var c=this,d=this.tv();d.open("GET",a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","utf-8"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=d.responseText;e&&(c.il[a]=e)}else r.dc.e().un(a);r.dc.e().ni()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dutf-8"),
d.onload=function(){d.responseText?c.il[a]=d.responseText:r.dc.e().un(a);r.dc.e().ni()});d.send(null)},vP:function(a){var c=this.tv();c.open("GET",a,!1);var d=null;/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?c.setRequestHeader("Accept-Charset","utf-8"):c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dutf-8");c.send(null);if(200!=c.status)return null;(d=c.responseText)&&(this.il[a]=d);return d},QI:function(a){a=this.ve(a);return this.il.hasOwnProperty(a)?this.il[a]:
this.vP(a)},c5:function(){},paa:function(){},eK:!0,d4:function(a){return a},ve:function(a){var c=!1;a=this.XO(a);for(var d,e=0;e<this.Uh.length;e++){for(var f=this.Uh[e],g=0;g<this.cp.length;g++)if(d=this.YO(a,this.cp[g],f)){c=!0;break}if(c)break}return c?d:a},q9:function(a){var c=this.ve(a);if(0<c.length){var c=r.Ck.e().parse(c),d=parseInt(c.metadata.version);1!=d?r.log("cocos2d: ERROR: Invalid filenameLookup dictionary version: "+d+". Filename: "+a):this.jX(c.filenames)}},jX:function(a){this.oA=
a},DI:function(a,c){var d;if(a)return d=c.substring(0,c.lastIndexOf("/")+1),d+a;d=c.substring(0,c.lastIndexOf("."));return d+".png"},lca:function(a){this.cp=a},K6:function(){return this.cp},kca:function(a){this.Uh=a},I6:function(){return this.Uh},B6:function(){return this.MO},fca:function(){},n3:function(a){r.log("dictionaryWithContentsOfFile is deprecated. Use createDictionaryWithContentsOfFile instead");return this.jS(a)},jS:function(a){return r.Ck.e().parse(a)},Z6:function(a){return this.QI(a)},
Ow:function(a){return r.Ck.e().parse(a)},C7:function(){return""},Wba:function(a){r.eK=a},E8:function(){return r.eK},kB:"",C6:function(){return this.kB},gca:function(a){this.kB=a},XO:function(a){var c=null;(c=this.oA?this.oA[a]:null)&&0!==c.length?r.log("FOUND NEW FILE NAME: "+c):c=a;return c},YO:function(a,c,d){var e;e=this.kB;a&&0<a.length&&(0===a.indexOf("/")||0===a.indexOf("\\"))?e="":0<e.length&&"\\"!=e[e.length-1]&&"/"!=e[e.length-1]&&(e+="/");var f=a,g="",h=a.lastIndexOf("/");-1!=h&&(g=a.substr(0,
h+1),f=a.substr(h+1));a=d;0<a.length&&a.lastIndexOf("/")!==a.length-1&&(a+="/");a=a+g+c;0<a.length&&a.lastIndexOf("/")!==a.length-1&&(a+="/");a+=f;return e+=a},m1:function(){},iL:function(a){var c=!1;this.Uh=[];for(var d=0;d<a.length;d++){var e=a[d],f;this.tJ(e)||(f=this.dr);e=f+e;0<e.length&&"/"!=e[e.length-1]&&(e+="/");c||e!=this.dr||(c=!0);this.Uh.push(e)}c||this.Uh.push(this.dr)},Z1:function(a){var c;this.tJ(a)||(c=this.dr);a=c+a;0<a.length&&"/"!=a[a.length-1]&&(a+="/");this.Uh.push(a)},J6:function(){},
tJ:function(a){return"/"==a[0]}});r.ND=null;r.Md.e=function(){null==r.ND&&(r.ND=new r.Md);return r.ND};r.Gc=function(a,c,d){switch(arguments.length){case 0:this.i=this.o=this.p=0;break;case 1:a&&a instanceof r.Gc?(this.p=0|a.p||0,this.o=0|a.o||0,this.i=0|a.i||0):this.i=this.o=this.p=0;break;case 3:this.p=0|a||0;this.o=0|c||0;this.i=0|d||0;break;default:throw"unknown argument type";}};r.l=function(a,c,d){return new r.Gc(a,c,d)};r.b8=function(a){a=a||0;var c=new r.Gc;c.p=a&255;c.o=a>>8&255;c.i=a>>16&255;return c};r.Gw=r.l;r.C2=function(a,c){return a.p===c.p&&a.o===c.o&&a.i===c.i};
Object.defineProperties(r,{N0:{get:function(){return r.l(255,255,255)}},Q0:{get:function(){return r.l(255,255,0)}},rZ:{get:function(){return r.l(0,0,255)}},f_:{get:function(){return r.l(0,255,0)}},V_:{get:function(){return r.l(255,0,0)}},u_:{get:function(){return r.l(255,0,255)}},pZ:{get:function(){return r.l(0,0,0)}},E_:{get:function(){return r.l(255,127,0)}},e_:{get:function(){return r.l(166,166,166)}}});r.Ab=function(){return new r.Gc(255,255,255)};r.jea=function(){return new r.Gc(255,255,0)};
r.blue=function(){return new r.Gc(0,0,255)};r.green=function(){return new r.Gc(0,255,0)};r.red=function(){return new r.Gc(255,0,0)};r.x9=function(){return new r.Gc(255,0,255)};r.t2=function(){return new r.Gc(0,0,0)};r.Y9=function(){return new r.Gc(255,127,0)};r.Pp=function(){return new r.Gc(166,166,166)};r.Qb=function(a,c,d,e){this.p=0|a;this.o=0|c;this.i=0|d;this.J=0|e};r.h=function(a,c,d,e){return new r.Qb(a,c,d,e)};r.gC=r.h;r.ae=function(a,c,d,e){this.p=a;this.o=c;this.i=d;this.J=e};
r.Hw=function(a,c,d,e){return new r.ae(a,c,d,e)};r.F2=function(a){return new r.ae(a.p/255,a.o/255,a.i/255,1)};r.G2=function(a){return new r.ae(a.p/255,a.o/255,a.i/255,a.J/255)};r.D2=function(a){return new r.Qb(0|255*a.p,0|255*a.o,0|255*a.i,0|255*a.J)};r.E2=function(a,c){return a.p==c.p&&a.o==c.o&&a.i==c.i&&a.J==c.J};r.Db=function(a,c){this.x=a||0;this.y=c||0};r.Nu=function(a,c){return new r.Db(a,c)};r.$c=function(a,c,d){this.x=a||0;this.y=c||0;this.z=d||0};
r.aea=function(a,c,d){return new r.$c(a,c,d)};r.Cc=function(a,c){this.Pa=a||0;this.oa=c||0};r.yda=function(a,c){return new r.Cc(a,c)};r.Q_=function(a,c,d){a||new r.Db(0,0);this.color=c||new r.Qb(0,0,0,0);this.size=d||0};r.qu=function(a,c,d,e){this.Sa=a||new r.Db(0,0);this.Na=c||new r.Db(0,0);this.Ka=d||new r.Db(0,0);this.Ua=e||new r.Db(0,0)};r.R_=function(a,c,d,e){this.Ka=a||new r.$c(0,0,0);this.Ua=c||new r.$c(0,0,0);this.Sa=d||new r.$c(0,0,0);this.Na=e||new r.$c(0,0,0)};
r.GM=function(a,c){this.x=a;this.y=c};r.o=function(a,c){return new r.GM(a,c)};r.Wb=function(a,c,d){this.t=a||new r.Db(0,0);this.N=c||new r.Qb(0,0,0,0);this.C=d||new r.Cc(0,0)};r.Ku=function(){this.t=new r.Db(0,0);this.N=new r.ae(0,0,0,0);this.C=new r.Cc(0,0)};r.uc=function(a,c,d){this.t=a||new r.$c(0,0,0);this.N=c||new r.Qb(0,0,0,0);this.C=d||new r.Cc(0,0)};r.Ic=function(a,c,d){this.J=a||new r.Wb;this.i=c||new r.Wb;this.Da=d||new r.Wb};
r.NN=function(){var a=new r.Wb(new r.Db(0,0),new r.Qb(0,0,0,255),new r.Cc(0,0)),c=new r.Wb(new r.Db(0,0),new r.Qb(0,0,0,255),new r.Cc(0,0)),d=new r.Wb(new r.Db(0,0),new r.Qb(0,0,0,255),new r.Cc(0,0)),e=new r.Wb(new r.Db(0,0),new r.Qb(0,0,0,255),new r.Cc(0,0));this.Ka=a||new r.Wb;this.Ua=c||new r.Wb;this.Sa=d||new r.Wb;this.Na=e||new r.Wb};r.I0=function(){return new r.NN};r.fc=function(a,c,d,e){this.Sa=a||new r.uc;this.Ka=c||new r.uc;this.Na=d||new r.uc;this.Ua=e||new r.uc};
r.sz=function(){return new r.fc(new r.uc(new r.$c(0,0,0),new r.Qb(0,0,0,255),new r.Cc(0,0)),new r.uc(new r.$c(0,0,0),new r.Qb(0,0,0,255),new r.Cc(0,0)),new r.uc(new r.$c(0,0,0),new r.Qb(0,0,0,255),new r.Cc(0,0)),new r.uc(new r.$c(0,0,0),new r.Qb(0,0,0,255),new r.Cc(0,0)))};
r.rz=function(a){return a?new r.fc(new r.uc(new r.$c(a.Sa.t.x,a.Sa.t.y,a.Sa.t.z),new r.Qb(a.Sa.N.p,a.Sa.N.o,a.Sa.N.i,a.Sa.N.J),new r.Cc(a.Sa.C.Pa,a.Sa.C.oa)),new r.uc(new r.$c(a.Ka.t.x,a.Ka.t.y,a.Ka.t.z),new r.Qb(a.Ka.N.p,a.Ka.N.o,a.Ka.N.i,a.Ka.N.J),new r.Cc(a.Ka.C.Pa,a.Ka.C.oa)),new r.uc(new r.$c(a.Na.t.x,a.Na.t.y,a.Na.t.z),new r.Qb(a.Na.N.p,a.Na.N.o,a.Na.N.i,a.Na.N.J),new r.Cc(a.Na.C.Pa,a.Na.C.oa)),new r.uc(new r.$c(a.Ua.t.x,a.Ua.t.y,a.Ua.t.z),new r.Qb(a.Ua.N.p,a.Ua.N.o,a.Ua.N.i,a.Ua.N.J),new r.Cc(a.Ua.C.Pa,
a.Ua.C.oa))):r.sz()};r.K0=function(a){if(!a)return[];for(var c=[],d=0;d<a.length;d++)c.push(r.rz(a[d]));return c};r.J0=function(a,c,d,e){this.Ka=a||new r.Ku;this.Ua=c||new r.Ku;this.Sa=d||new r.Ku;this.Na=e||new r.Ku};r.am=function(a,c){this.src=a;this.Jb=c};r.sZ=function(){return new r.am(1,0)};r.ml=function(a){var c=a.p.toString(16),d=a.o.toString(16),e=a.i.toString(16);return"#"+(16>a.p?"0"+c:c)+(16>a.o?"0"+d:d)+(16>a.i?"0"+e:e)};
r.Ga.Tc&&(r.Qb=function(a,c,d,e,f,g){this.Rb=f||new ArrayBuffer(r.Qb.BYTES_PER_ELEMENT);this.Lb=g||0;f=this.Rb;g=this.Lb;var h=Uint8Array.BYTES_PER_ELEMENT;this.bB=new Uint8Array(f,g,1);this.vA=new Uint8Array(f,g+h,1);this.Hz=new Uint8Array(f,g+2*h,1);this.zz=new Uint8Array(f,g+3*h,1);this.bB[0]=a||0;this.vA[0]=c||0;this.Hz[0]=d||0;this.zz[0]=e||0},r.Qb.BYTES_PER_ELEMENT=4,Object.defineProperties(r.Qb.prototype,{p:{get:function(){return this.bB[0]},set:function(a){this.bB[0]=a},enumerable:!0},o:{get:function(){return this.vA[0]},
set:function(a){this.vA[0]=a},enumerable:!0},i:{get:function(){return this.Hz[0]},set:function(a){this.Hz[0]=a},enumerable:!0},J:{get:function(){return this.zz[0]},set:function(a){this.zz[0]=a},enumerable:!0}}),r.ae=function(a,c,d,e,f,g){this.Rb=f||new ArrayBuffer(r.ae.BYTES_PER_ELEMENT);this.Lb=g||0;f=this.Rb;g=this.Lb;var h=Float32Array.BYTES_PER_ELEMENT;this.aB=new Float32Array(f,g,1);this.aB[0]=a||0;this.uA=new Float32Array(f,g+h,1);this.uA[0]=c||0;this.Gz=new Float32Array(f,g+2*h,1);this.Gz[0]=
d||0;this.yz=new Float32Array(f,g+3*h,1);this.yz[0]=e||0},r.ae.BYTES_PER_ELEMENT=16,Object.defineProperties(r.ae.prototype,{p:{get:function(){return this.aB[0]},set:function(a){this.aB[0]=a},enumerable:!0},o:{get:function(){return this.uA[0]},set:function(a){this.uA[0]=a},enumerable:!0},i:{get:function(){return this.Gz[0]},set:function(a){this.Gz[0]=a},enumerable:!0},J:{get:function(){return this.yz[0]},set:function(a){this.yz[0]=a},enumerable:!0}}),r.Db=function(a,c,d,e){this.Rb=d||new ArrayBuffer(r.Db.BYTES_PER_ELEMENT);
this.Lb=e||0;this.Ym=new Float32Array(this.Rb,this.Lb,1);this.Zm=new Float32Array(this.Rb,this.Lb+4,1);this.Ym[0]=a||0;this.Zm[0]=c||0},r.Db.BYTES_PER_ELEMENT=8,Object.defineProperties(r.Db.prototype,{x:{get:function(){return this.Ym[0]},set:function(a){this.Ym[0]=a},enumerable:!0},y:{get:function(){return this.Zm[0]},set:function(a){this.Zm[0]=a},enumerable:!0}}),r.$c=function(a,c,d,e,f){this.Rb=e||new ArrayBuffer(r.$c.BYTES_PER_ELEMENT);this.Lb=f||0;e=this.Rb;f=this.Lb;this.Ym=new Float32Array(e,
f,1);this.Ym[0]=a||0;this.Zm=new Float32Array(e,f+Float32Array.BYTES_PER_ELEMENT,1);this.Zm[0]=c||0;this.ZB=new Float32Array(e,f+2*Float32Array.BYTES_PER_ELEMENT,1);this.ZB[0]=d||0},r.$c.BYTES_PER_ELEMENT=12,Object.defineProperties(r.$c.prototype,{x:{get:function(){return this.Ym[0]},set:function(a){this.Ym[0]=a},enumerable:!0},y:{get:function(){return this.Zm[0]},set:function(a){this.Zm[0]=a},enumerable:!0},z:{get:function(){return this.ZB[0]},set:function(a){this.ZB[0]=a},enumerable:!0}}),r.Cc=
function(a,c,d,e){this.Rb=d||new ArrayBuffer(r.Cc.BYTES_PER_ELEMENT);this.Lb=e||0;this.KB=new Float32Array(this.Rb,this.Lb,1);this.SB=new Float32Array(this.Rb,this.Lb+4,1);this.KB[0]=a||0;this.SB[0]=c||0},r.Cc.BYTES_PER_ELEMENT=8,Object.defineProperties(r.Cc.prototype,{Pa:{get:function(){return this.KB[0]},set:function(a){this.KB[0]=a},enumerable:!0},oa:{get:function(){return this.SB[0]},set:function(a){this.SB[0]=a},enumerable:!0}}),r.qu=function(a,c,d,e,f,g){this.Rb=f||new ArrayBuffer(r.qu.BYTES_PER_ELEMENT);
this.Lb=g||0;f=this.Rb;g=r.Db.BYTES_PER_ELEMENT;this.op=a?new r.Db(a.x,a.y,f,0):new r.Db(0,0,f,0);this.qp=c?new r.Db(c.x,c.y,f,g):new r.Db(0,0,f,g);this.ro=d?new r.Db(d.x,d.y,f,2*g):new r.Db(0,0,f,2*g);this.to=e?new r.Db(e.x,e.y,f,3*g):new r.Db(0,0,f,3*g)},r.qu.BYTES_PER_ELEMENT=32,Object.defineProperties(r.qu.prototype,{Sa:{get:function(){return this.op},set:function(a){this.op.x=a.x;this.op.y=a.y},enumerable:!0},Na:{get:function(){return this.qp},set:function(a){this.qp.x=a.x;this.qp.y=a.y},enumerable:!0},
Ka:{get:function(){return this.ro},set:function(a){this.ro.x=a.x;this.ro.y=a.y},enumerable:!0},Ua:{get:function(){return this.to},set:function(a){this.to.x=a.x;this.to.y=a.y},enumerable:!0}}),r.uc=function(a,c,d,e,f){this.Rb=e||new ArrayBuffer(r.uc.BYTES_PER_ELEMENT);this.Lb=f||0;e=this.Rb;f=this.Lb;var g=r.$c.BYTES_PER_ELEMENT;this.sp=a?new r.$c(a.x,a.y,a.z,e,f):new r.$c(0,0,0,e,f);this.$q=c?new r.Qb(c.p,c.o,c.i,c.J,e,f+g):new r.Qb(0,0,0,0,e,f+g);this.Om=d?new r.Cc(d.Pa,d.oa,e,f+g+r.Qb.BYTES_PER_ELEMENT):
new r.Cc(0,0,e,f+g+r.Qb.BYTES_PER_ELEMENT)},r.uc.BYTES_PER_ELEMENT=24,Object.defineProperties(r.uc.prototype,{t:{get:function(){return this.sp},set:function(a){var c=this.sp;c.x=a.x;c.y=a.y;c.z=a.z},enumerable:!0},N:{get:function(){return this.$q},set:function(a){var c=this.$q;c.p=a.p;c.o=a.o;c.i=a.i;c.J=a.J},enumerable:!0},C:{get:function(){return this.Om},set:function(a){this.Om.Pa=a.Pa;this.Om.oa=a.oa},enumerable:!0}}),r.fc=function(a,c,d,e,f,g){this.Rb=f||new ArrayBuffer(r.fc.BYTES_PER_ELEMENT);
this.Lb=g||0;f=this.Rb;g=this.Lb;var h=r.uc.BYTES_PER_ELEMENT;this.op=a?new r.uc(a.t,a.N,a.C,f,g):new r.uc(null,null,null,f,g);this.ro=c?new r.uc(c.t,c.N,c.C,f,g+h):new r.uc(null,null,null,f,g+h);this.qp=d?new r.uc(d.t,d.N,d.C,f,g+2*h):new r.uc(null,null,null,f,g+2*h);this.to=e?new r.uc(e.t,e.N,e.C,f,g+3*h):new r.uc(null,null,null,f,g+3*h)},r.fc.BYTES_PER_ELEMENT=96,Object.defineProperties(r.fc.prototype,{Sa:{get:function(){return this.op},set:function(a){var c=this.op;c.t=a.t;c.N=a.N;c.C=a.C},enumerable:!0},
Ka:{get:function(){return this.ro},set:function(a){var c=this.ro;c.t=a.t;c.N=a.N;c.C=a.C},enumerable:!0},Na:{get:function(){return this.qp},set:function(a){var c=this.qp;c.t=a.t;c.N=a.N;c.C=a.C},enumerable:!0},Ua:{get:function(){return this.to},set:function(a){var c=this.to;c.t=a.t;c.N=a.N;c.C=a.C},enumerable:!0},bC:{get:function(){return this.Rb},enumerable:!0}}),r.sz=function(){return new r.fc},r.rz=function(a){if(!a)return r.sz();var c=a.Sa,d=a.Ka,e=a.Na;a=a.Ua;return{Sa:{t:{x:c.t.x,y:c.t.y,z:c.t.z},
N:{p:c.N.p,o:c.N.o,i:c.N.i,J:c.N.J},C:{Pa:c.C.Pa,oa:c.C.oa}},Ka:{t:{x:d.t.x,y:d.t.y,z:d.t.z},N:{p:d.N.p,o:d.N.o,i:d.N.i,J:d.N.J},C:{Pa:d.C.Pa,oa:d.C.oa}},Na:{t:{x:e.t.x,y:e.t.y,z:e.t.z},N:{p:e.N.p,o:e.N.o,i:e.N.i,J:e.N.J},C:{Pa:e.C.Pa,oa:e.C.oa}},Ua:{t:{x:a.t.x,y:a.t.y,z:a.t.z},N:{p:a.N.p,o:a.N.o,i:a.N.i,J:a.N.J},C:{Pa:a.C.Pa,oa:a.C.oa}}}},r.Wb=function(a,c,d,e,f){this.Rb=e||new ArrayBuffer(r.Wb.BYTES_PER_ELEMENT);this.Lb=f||0;e=this.Rb;f=this.Lb;var g=r.Db.BYTES_PER_ELEMENT;this.sp=a?new r.Db(a.x,
a.y,e,f):new r.Db(0,0,e,f);this.$q=c?new r.Qb(c.p,c.o,c.i,c.J,e,f+g):new r.Qb(0,0,0,0,e,f+g);this.Om=d?new r.Cc(d.Pa,d.oa,e,f+g+r.Qb.BYTES_PER_ELEMENT):new r.Cc(0,0,e,f+g+r.Qb.BYTES_PER_ELEMENT)},r.Wb.BYTES_PER_ELEMENT=20,Object.defineProperties(r.Wb.prototype,{t:{get:function(){return this.sp},set:function(a){this.sp.x=a.x;this.sp.y=a.y},enumerable:!0},N:{get:function(){return this.$q},set:function(a){var c=this.$q;c.p=a.p;c.o=a.o;c.i=a.i;c.J=a.J},enumerable:!0},C:{get:function(){return this.Om},
set:function(a){this.Om.Pa=a.Pa;this.Om.oa=a.oa},enumerable:!0}}),r.Ic=function(a,c,d,e,f){this.Rb=e||new ArrayBuffer(r.Ic.BYTES_PER_ELEMENT);this.Lb=f||0;e=this.Rb;f=this.Lb;var g=r.Wb.BYTES_PER_ELEMENT;this.UF=a?new r.Wb(a.t,a.N,a.C,e,f):new r.Wb(null,null,null,e,f);this.ZF=c?new r.Wb(c.t,c.N,c.C,e,f+g):new r.Wb(null,null,null,e,f+g);this.dG=d?new r.Wb(d.t,d.N,d.C,e,f+2*g):new r.Wb(null,null,null,e,f+2*g)},r.Ic.BYTES_PER_ELEMENT=60,Object.defineProperties(r.Ic.prototype,{J:{get:function(){return this.UF},
set:function(a){var c=this.UF;c.t=a.t;c.N=a.N;c.C=a.C},enumerable:!0},i:{get:function(){return this.ZF},set:function(a){var c=this.ZF;c.t=a.t;c.N=a.N;c.C=a.C},enumerable:!0},Da:{get:function(){return this.dG},set:function(a){var c=this.dG;c.t=a.t;c.N=a.N;c.C=a.C},enumerable:!0}}));r.Z2=function(a){a=a.substr(1).split("");return new r.Gc(parseInt("0x"+a[0]+a[1]),parseInt("0x"+a[2]+a[3]),parseInt("0x"+a[4]+a[5]))};r.Jq=0;r.zj=1;r.EN=2;r.Oq=0;r.Mu=1;r.Nq=2;
r.S0=r.Ea.extend({Uo:null,vs:null,vz:0,ctor:function(){this.Uo={};this.vs={};this.vz=2<<(0|10*Math.random())},UN:function(){this.vz++;return"key_"+this.vz},BX:function(a,c){if(null!=c){var d=this.UN();this.Uo[d]=c;this.vs[d]=a}},aV:function(a){if(null==a)return null;var c=this.Uo,d;for(d in c)if(c[d]===a)return this.vs[d];return null},$da:function(a){return this.aV(a)},oW:function(a){if(null!=a){var c=this.Uo,d;for(d in c)if(c[d]===a){delete this.vs[d];delete c[d];break}}},iaa:function(a){if(null!=
a)for(var c=0;c<a.length;c++)this.oW(a[c])},xR:function(){var a=[],c=this.Uo,d;for(d in c)a.push(c[d]);return a},baa:function(){this.Uo={};this.vs={}},count:function(){return this.xR().length}});r.FM=function(){this.Es="Arial";this.fontSize=12;this.yI=r.zj;this.zI=r.Oq;this.AI=r.Ab();this.Ds=r.size(0,0);this.mE=!1;this.strokeColor=r.Ab();this.HL=1;this.vL=!1;this.wL=r.size(0,0);this.shadowBlur=0;this.xL=1};r.eo={Hy:0,Uy:1,SHOW_ALL:2,Iy:3,Jy:4,H0:5};r.Ju=[];r.Kq={};
r.va=r.Ea.extend({Zb:null,Te:null,Ho:null,Zk:null,df:null,VB:null,UB:"",iB:null,ya:1,OG:1,Ca:1,PG:1,Ar:0,KG:5,Rh:null,VG:null,ZG:null,YG:null,WG:null,XG:null,Dr:!1,d1:!1,N1:null,uG:null,vG:null,aO:null,F1:!1,Wz:null,x1:null,Kj:null,qA:1,Su:!1,zG:!1,ctor:function(){this.Kj=r.gk.parentNode===document.body?document.documentElement:r.gk.parentNode;this.Te=r.size(0,0);this.EA();var a=r.canvas.width,c=r.canvas.height;this.Ho=r.size(a,c);this.Zk=r.size(a,c);this.df=r.rect(0,0,a,c);this.VB=r.rect(0,0,a,c);
this.Zb=r.$.e().bf;this.Wz={left:0,top:0};this.UB="Cocos2dHTML5";r.NF.r(this.Ho);this.VG=new r.fo(r.Wg.Lt,r.Oe.Hy);this.ZG=new r.fo(r.Wg.pN,r.Oe.SHOW_ALL);this.YG=new r.fo(r.Wg.Lt,r.Oe.Uy);this.WG=new r.fo(r.Wg.Lt,r.Oe.Iy);this.XG=new r.fo(r.Wg.Lt,r.Oe.Jy);this.uG=r.canvas;this.vG=r.Y},jB:function(){var a=this.Zk.width,c=this.Zk.height;this.iB&&(this.EA(),this.iB.call());0<a&&this.SD(a,c,this.Rh)},uaa:function(a){a?this.Su||(this.Su=!0,a=this.jB.bind(this),window.addEventListener("resize",a,!1)):
this.Su&&(this.Su=!0,a=this.jB.bind(this),window.removeEventListener("resize",a,!1))},eca:function(a){if("function"==typeof a||null==a)this.iB=a},EA:function(){var a=this.Te;a.width=this.Kj.clientWidth;a.height=this.Kj.clientHeight},a1:function(){var a=this.Zk.width,c=this.Zk.height;0<a&&this.SD(a,c,this.Rh)},HQ:function(){if(this.zG){var a={"user-scalable":"no","maximum-scale":"1.0","initial-scale":"1.0"},c=document.getElementsByName("viewport"),d;0==c.length?(c=document.createElement("meta"),c.name=
"viewport",c.content="",document.head.appendChild(c)):c=c[0];d=c.content;for(var e in a)RegExp(e).test(d)||(d+=(""==d?"":",")+e+"\x3d"+a[e]);c.content=d}},AQ:function(){var a=r.Ld();this.Ca=this.ya=a},cQ:function(){this.ya=this.OG;this.Ca=this.PG},$O:function(){var a,c=this.Ar;for(a=0;a<this.KG;a++){if(!(c&1))return this.Ar|=1<<a,a;c>>=1}return-1},ZP:function(a){0>a||a>=this.KG||(a=~(1<<a),this.Ar&=a)},b1:function(){},vU:function(){this.Dr=!0},e2:function(a){this.zG=a},end:function(){},C8:function(){return null!=
this.uG&&null!=this.vG},kba:function(a){this.qA=a;r.$.e().Qx(r.$.e().cl)},mda:function(){},oba:function(){},Waa:function(a,c){this.Wz={left:a,top:c}},J4:function(){return this.Wz},Xw:function(){return r.size(this.Te.width,this.Te.height)},jba:function(a,c){this.Te.width=a;this.Te.height=c;this.Kj.style.width=a+"px";this.Kj.style.height=c+"px";this.jB();r.$.e().Qx(r.$.e().cl)},L2:function(){},Iaa:function(a){this.aO=a},Ms:function(){return this.VB.eb},XI:function(){return this.VB.pd},H2:function(){return!0},
A6:function(){return this.Rh},PX:function(a){if(a instanceof r.fo)this.Rh=a;else switch(a){case r.eo.Hy:this.Rh=this.VG;break;case r.eo.SHOW_ALL:this.Rh=this.ZG;break;case r.eo.Uy:this.Rh=this.YG;break;case r.eo.Iy:this.Rh=this.WG;break;case r.eo.Jy:this.Rh=this.XG}},SD:function(a,c,d){if(isNaN(a)||0==a||isNaN(c)||0==c)r.log("Resolution not valid");else if(this.PX(d),policy=this.Rh){policy.xn(this);var e=this.Te.width,f=this.Te.height;r.Ga.lk&&this.HQ(this.Te.width,this.Te.height);this.EA();if(d!=
this.Rh||a!=this.Zk.width||c!=this.Zk.height||e!=this.Te.width||f!=this.Te.height)this.Ho=r.size(a,c),this.Zk=r.size(a,c),a=policy.apply(this,this.Ho),a.scale&&2==a.scale.length&&(this.ya=a.scale[0],this.Ca=a.scale[1]),a.viewport instanceof r.pg&&(this.df=a.viewport),a=r.$.e(),a.Sb=this.Gp(),r.Id==r.Fk&&(a.Fo(),a.WK()),this.OG=this.ya,this.PG=this.Ca,r.mc&&r.mc.aQ(),r.NF.r(this.Ms()),policy.wn(this)}else r.log("should set resolutionPolicy")},Gp:function(){return r.size(this.Ho.width,this.Ho.height)},
Cca:function(a){this.Zb=a},aY:function(a,c,d,e){var f=this.qA,g=this.ya,h=this.Ca;r.Y.viewport(a*g*f+this.df.x*f,c*h*f+this.df.y*f,d*g*f,e*h*f)},YD:function(a,c,d,e){var f=this.qA,g=this.ya,h=this.Ca;r.Y.scissor(a*g*f+this.df.x*f,c*h*f+this.df.y*f,d*g*f,e*h*f)},FU:function(){var a=r.Y;return a.isEnabled(a.SCISSOR_TEST)},BT:function(){var a=r.Y,c=this.ya,d=this.Ca,a=a.getParameter(a.SCISSOR_BOX);return r.rect((a[0]-this.df.x)/c,(a[1]-this.df.y)/d,a[2]/c,a[3]/d)},Lca:function(a){null!=a&&0<a.length&&
(this.UB=a)},x7:function(){return this.UB},y7:function(){return this.df},zT:function(){return this.ya},AT:function(){return this.Ca},hk:function(a,c,d){return{x:a-d.left,y:d.top+d.height-c}},UT:function(a,c,d,e){for(var f=[],g=this.df,h=this.ya,k=this.Ca,l=0;l<a;++l){var m=c[l],n=d[l],p=e[l],q=0;if(null==r.Kq[m])if(q=this.$O(),-1==q)r.log("The touches is more than MAX_TOUCHES, nUnusedIndex \x3d "+q);else{var u=r.Ju[q]=new r.rf;u.cE(q,(n-g.x)/h,(p-g.y)/k);r.Kq[m]=0|q;f.push(u)}}0!=f.length&&this.Zb.jy(f,
null)},XT:function(a,c,d,e){for(var f=[],g=this.ya,h=this.Ca,k=this.df.x,l=this.df.y,m=0;m<a;++m){var n=d[m],p=e[m],q=r.Kq[c[m]];if(null!=q){var u=r.Ju[q];if(u)u.cE(q,(n-k)/g,(p-l)/h),f.push(u);else return}}0!=f.length&&this.Zb.ky(f,null)},WT:function(a,c,d,e){var f=[];this.OI(f,a,c,d,e);this.Zb.ut(f,null)},VT:function(a,c,d,e){var f=[];this.OI(f,a,c,d,e);this.Zb.rE(f,null)},OI:function(a,c,d,e,f){for(var g=this.ya,h=this.Ca,k=this.df,l=0;l<c;++l){var m=d[l],n=e[l],p=f[l],q=r.Kq[m];if(null!=q){var u=
r.Ju[q];if(u)u.cE(q,(n-k.x)/g,(p-k.y)/h),a.push(u),r.Ju[q]=null,this.ZP(q),delete r.Kq[m];else break}}},jy:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Pf||h,d[f]=g.L.x,e[f]=g.L.y,++f;this.UT(f,c,d,e)},ky:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Pf||h,d[f]=g.L.x,e[f]=g.L.y,++f;this.XT(f,c,d,e)},ut:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Pf||h,d[f]=g.L.x,e[f]=g.L.y,++f;this.WT(f,c,d,e)},rE:function(a){for(var c=
[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Pf||h,d[f]=g.L.x,e[f]=g.L.y,++f;this.VT(f,c,d,e)}});r.va.e=function(){this.Kb||(this.Kb=new r.va,this.Kb.vU());return this.Kb};
r.Wg=r.Ea.extend({xn:function(){},apply:function(){},wn:function(){},fH:function(a,c,d){r.Ga.lk&&a==document.documentElement&&r.fz.e().ER(r.canvas);a=r.canvas;var e=r.gk;a.width=c;a.height=d;e.style.width=c+"px";e.style.height=d+"px";c=document.body;var f;c&&(f=c.style)&&(f.paddingTop=f.paddingTop||"0px",f.paddingRight=f.paddingRight||"0px",f.paddingBottom=f.paddingBottom||"0px",f.paddingLeft=f.paddingLeft||"0px",f.borderTop=f.borderTop||"0px",f.borderRight=f.borderRight||"0px",f.borderBottom=f.borderBottom||
"0px",f.borderLeft=f.borderLeft||"0px",f.marginTop=f.marginTop||"0px",f.marginRight=f.marginRight||"0px",f.marginBottom=f.marginBottom||"0px",f.marginLeft=f.marginLeft||"0px")},oG:function(){document.body.insertBefore(r.gk,document.body.firstChild);var a=document.body.style;a.width=window.innerWidth+"px";a.height=window.innerHeight+"px";a.overflow="hidden";a=r.gk.style;a.position="fixed";a.left=a.top="0px";document.body.scrollTop=0}});
r.Oe=r.Ea.extend({lB:{scale:[1,1],viewport:null},Xq:function(a,c,d,e,f,g){a=r.rect(Math.round((a-d)/2),Math.round((c-e)/2),d,e);r.Id==r.mg&&r.Y.translate(a.x,a.y+e);this.lB.scale=[f,g];this.lB.viewport=a;return this.lB},xn:function(){},apply:function(){return{scale:[1,1]}},wn:function(){}});
(function(){var a=r.Wg.extend({apply:function(a){this.fH(a.Kj,a.Te.width,a.Te.height)}}),c=r.Wg.extend({apply:function(a,c){var d=a.Te.width,e=a.Te.height,f=r.gk.style,n=c.width,p=c.height,q=d/n,u=e/p,w,y;q<u?(w=d,y=p*q):(w=n*u,y=e);n=Math.floor((d-w)/2);y=Math.floor((e-y)/2);this.fH(a.Kj,d-2*n,e-2*y);f.marginLeft=n+"px";f.marginRight=n+"px";f.marginTop=y+"px";f.marginBottom=y+"px"}});a.extend({xn:function(a){a.Kj=document.documentElement},apply:function(a){this._super(a);this.oG()}});c.extend({xn:function(a){a.Kj=
document.documentElement},apply:function(a,c){this._super(a,c);this.oG()}});var d=r.Wg.extend({});r.Wg.Lt=new a;r.Wg.pN=new c;r.Wg.J_=new d;var a=r.Oe.extend({apply:function(a,c){var d=r.canvas.width,e=r.canvas.height;return this.Xq(d,e,d,e,d/c.width,e/c.height)}}),c=r.Oe.extend({apply:function(a,c){var d=r.canvas.width,e=r.canvas.height,f=c.width,n=c.height,p=d/f,q=e/n,u,w,y;p<q?(u=p,w=d,y=n*u):(u=q,w=f*u,y=e);return this.Xq(d,e,w,y,u,u)}}),d=r.Oe.extend({apply:function(a,c){var d=r.canvas.width,
e=r.canvas.height,f=c.width,n=c.height,p=d/f,q=e/n,u,w,y;p<q?(u=q,w=f*u,y=e):(u=p,w=d,y=n*u);return this.Xq(d,e,w,y,u,u)}}),e=r.Oe.extend({apply:function(a,c){var d=r.canvas.width,e=r.canvas.height,f=e/c.height;return this.Xq(d,e,d,e,f,f)},wn:function(a){r.$.e().Sb=a.Ms()}}),f=r.Oe.extend({apply:function(a,c){var d=r.canvas.width,e=r.canvas.height,f=d/c.width;return this.Xq(d,e,d,e,f,f)},wn:function(a){r.$.e().Sb=a.Ms()}});r.Oe.Hy=new a;r.Oe.SHOW_ALL=new c;r.Oe.Uy=new d;r.Oe.Iy=new e;r.Oe.Jy=new f})();
r.fo=r.Ea.extend({fv:null,gv:null,ctor:function(a,c){this.$W(a);this.cX(c)},xn:function(a){this.fv.xn(a);this.gv.xn(a)},apply:function(a,c){this.fv.apply(a,c);return this.gv.apply(a,c)},wn:function(a){this.fv.wn(a);this.gv.wn(a)},$W:function(a){a instanceof r.Wg&&(this.fv=a)},cX:function(a){a instanceof r.Oe&&(this.gv=a)}});r.fz=r.Ea.extend({fs:!1,Kk:"",WA:null,XA:null,JB:"",r:function(){var a=["webkit","moz","o","ms","khtml"],c=document.body;if(c.requestFullScreen)this.fs=!0;else for(var d=0,e=a.length,f;d<e;d++)if(f=a[d],c[f+"RequestFullScreen"]){this.fs=!0;this.Kk=f;break}this.JB="ontouchstart"in window?"touchstart":"mousedown"},fullScreen:function(){var a=document;if(this.fs)switch(this.Kk){case "":return a.fullScreen;case "webkit":return a.webkitIsFullScreen;default:return a[this.Kk+"FullScreen"]}return!1},xK:function(a,
c){if(this.fs&&!this.fullScreen()){if(c){var d=this.Kk+"fullscreenchange";this.WA&&this.XA&&this.WA.removeEventListener(d,this.XA);this.WA=a;this.XA=c;a.addEventListener(d,c,!1)}return""===this.Kk?a.requestFullScreen():a[this.Kk+"RequestFullScreen"]()}},I3:function(){if(this.fs&&this.fullScreen())return""===this.Kk?document.body.cancelFullScreen():document.body[this.Kk+"CancelFullScreen"]()},ER:function(a,c){function d(){e.xK(a,c);a.removeEventListener(e.JB,d)}var e=this;this.xK(a,c);a.addEventListener(this.JB,
d)}});r.fz.e=function(){if(!this.Kb){var a=new r.fz;a.r();this.Kb=a}return this.Kb};r.NF={Xh:r.Cd(),ph:r.Cd(),Wh:r.Cd(),Ci:r.Cd(),Di:r.Cd(),Bi:r.Cd(),Oz:r.Cd(),Ni:r.Cd(),Sh:r.Cd(),Ha:0,wa:0,r:function(a){this.Ha=a.width;this.wa=a.height;a=this.Ha;var c=this.wa;this.Xh.M=c;this.ph.H=a;this.ph.M=c;this.Wh.H=a/2;this.Wh.M=c;this.Di.H=a;this.Bi.H=a/2;this.Oz.H=a/2;this.Oz.M=c/2;this.Ni.M=c/2;this.Sh.H=a;this.Sh.M=c/2},Ns:function(){return this.Ha},Is:function(){return this.wa},Ida:function(){return this.Xh},Jda:function(){return this.ph},top:function(){return this.Wh},v2:function(){return this.Ci},
w2:function(){return this.Di},bottom:function(){return this.Bi},K2:function(){return this.Oz},left:function(){return this.Ni},right:function(){return this.Sh}};r.ey=function(a){var c;if(a&&0!=a.length){var d=a.indexOf("{"),e=a.indexOf("}");-1==d||-1==e||d>e||(a=a.substr(d+1,e-d-1),0!=a.length&&(d=a.indexOf("{"),e=a.indexOf("}"),-1==d&&-1==e&&(c=a.split(","))))}return c};
r.wF=function(a){var c=r.md();if(a){var d=a.indexOf("{")+1,e=a.lastIndexOf("}",a.length);-1!=d&&-1!=e&&(a=a.substring(d,e),d=a.indexOf("}"),-1!=d&&(d=a.indexOf(",",d),-1!=d&&(c=a.substr(d+1,a.length-d),a=r.ey(a.substr(0,d)),c=r.ey(c),c=r.rect(parseFloat(a[0]),parseFloat(a[1]),parseFloat(c[0]),parseFloat(c[1])))))}return c};r.vF=function(a){var c=r.wj();try{if(""==a)return c;var d=r.ey(a),c=r.a(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};
r.gz=function(a){var c=r.fm();try{if(""==a)return c;var d=r.ey(a),c=r.size(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};r.fZ=function(a,c,d,e,f,g){this.J=a;this.i=c;this.Da=d;this.La=e;this.Za=f;this.$a=g};r.U0=function(a,c,d,e,f,g){return{J:a,i:c,Da:d,La:e,Za:f,$a:g}};r.iZ=function(a,c,d,e,f,g){return{J:a,i:c,Da:d,La:e,Za:f,$a:g}};r.V0=function(a,c){return{x:c.J*a.x+c.Da*a.y+c.Za,y:c.i*a.x+c.La*a.y+c.$a}};r.uF=function(a,c){return{x:c.J*a.x+c.Da*a.y+c.Za,y:c.i*a.x+c.La*a.y+c.$a}};r.Hk=function(a,c,d){return{x:d.J*a+d.Da*c+d.Za,y:d.i*a+d.La*c+d.$a}};
r.W0=function(a,c){return{width:c.J*a.width+c.Da*a.height,height:c.i*a.width+c.La*a.height}};r.s0=function(a,c){return{width:c.J*a.width+c.Da*a.height,height:c.i*a.width+c.La*a.height}};r.jZ=function(){return{J:1,i:0,Da:0,La:1,Za:0,$a:0}};r.hZ=function(){return{J:1,i:0,Da:0,La:1,Za:0,$a:0}};
r.Zg=function(a,c){var d=r.Il(a),e=r.Hl(a),f=r.An(a),g=r.Bn(a),h=r.Hk(e,d,c),d=r.Hk(f,d,c),e=r.Hk(e,g,c),k=r.Hk(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);return r.rect(f,l,g-f,h-l)};
r.xi=function(a,c){var d=r.Il(a),e=r.Hl(a),f=r.An(a),g=r.Bn(a),h=r.Hk(e,d,c),d=r.Hk(f,d,c),e=r.Hk(e,g,c),k=r.Hk(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);a.x=f;a.y=l;a.width=g-f;a.height=h-l;return a};r.sy=function(a,c,d){return{J:a.J,i:a.i,Da:a.Da,La:a.La,Za:a.Za+a.J*c+a.Da*d,$a:a.$a+a.i*c+a.La*d}};r.kZ=function(a,c,d){return{J:a.J*c,i:a.i*c,Da:a.Da*d,La:a.La*d,Za:a.Za,$a:a.$a}};
r.fM=function(a){var c=Math.sin(1.57079633),d=Math.cos(1.57079633);return{J:a.J*d+a.Da*c,i:a.i*d+a.La*c,Da:a.Da*d-a.J*c,La:a.La*d-a.i*c,Za:a.Za,$a:a.$a}};r.Xl=function(a,c){return{J:a.J*c.J+a.i*c.Da,i:a.J*c.i+a.i*c.La,Da:a.Da*c.J+a.La*c.Da,La:a.Da*c.i+a.La*c.La,Za:a.Za*c.J+a.$a*c.Da+c.Za,$a:a.Za*c.i+a.$a*c.La+c.$a}};r.gZ=function(a,c){return a.J===c.J&&a.i===c.i&&a.Da===c.Da&&a.La===c.La&&a.Za===c.Za&&a.$a===c.$a};
r.FE=function(a){var c=1/(a.J*a.La-a.i*a.Da);return{J:c*a.La,i:-c*a.i,Da:-c*a.Da,La:c*a.J,Za:c*(a.Da*a.$a-a.La*a.Za),$a:c*(a.i*a.Za-a.J*a.$a)}};r.kF=parseFloat("1.192092896e-07F");r.tD=function(a){return r.a(-a.x,-a.y)};r.fg=function(a,c){return r.a(a.x+c.x,a.y+c.y)};r.Hd=function(a,c){return r.a(a.x-c.x,a.y-c.y)};r.jj=function(a,c){return r.a(a.x*c,a.y*c)};r.sD=function(a,c){return r.jj(r.fg(a,c),0.5)};r.fq=function(a,c){return a.x*c.x+a.y*c.y};r.f$=function(a,c){return a.x*c.y-a.y*c.x};r.rx=function(a){return r.a(-a.y,a.x)};r.n$=function(a){return r.a(a.y,-a.x)};r.m$=function(a,c){return r.jj(c,r.fq(a,c)/r.fq(c,c))};
r.o$=function(a,c){return r.a(a.x*c.x-a.y*c.y,a.x*c.y+a.y*c.x)};r.t$=function(a,c){return r.a(a.x*c.x+a.y*c.y,a.y*c.x-a.x*c.y)};r.$J=function(a){return r.fq(a,a)};r.g$=function(a,c){return r.$J(r.Hd(a,c))};r.qD=function(a){return Math.sqrt(r.$J(a))};r.pD=function(a,c){return r.qD(r.Hd(a,c))};r.Ch=function(a){return r.jj(a,1/r.qD(a))};r.h$=function(a){return r.a(Math.cos(a),Math.sin(a))};r.s$=function(a){return Math.atan2(a.y,a.x)};r.zs=function(a,c,d){if(c>d){var e=c;c=d;d=e}return a<c?c:a<d?a:d};
r.ZJ=function(a){var c=r.a(0,0),d=r.a(1,1);return r.a(r.zs(a.x,c.x,d.x),r.zs(a.y,c.y,d.y))};r.sV=function(){var a=r.$.e().Sb;return r.a(a.width,a.height)};r.e$=function(a,c){return r.a(c(a.x),c(a.y))};r.aK=function(a,c,d){return r.fg(r.jj(a,1-d),r.jj(c,d))};r.i$=function(a,c,d){return a.x-d<=c.x&&c.x<=a.x+d&&a.y-d<=c.y&&c.y<=a.y+d?!0:!1};r.d$=function(a,c){return r.a(a.x*c.x,a.y*c.y)};r.c$=function(a,c){var d=r.Ch(a),e=r.Ch(c),d=Math.atan2(d.x*e.y-d.y*e.x,r.fq(d,e));return Math.abs(d)<r.kF?0:d};
r.b$=function(a,c){var d=Math.acos(r.fq(r.Ch(a),r.Ch(c)));return Math.abs(d)<r.kF?0:d};r.uV=function(a,c,d){a=r.Hd(a,c);var e=Math.cos(d);d=Math.sin(d);var f=a.x;a.x=f*e-a.y*d+c.x;a.y=f*d+a.y*e+c.y;return a};r.rD=function(a,c,d,e,f){if(a.x==c.x&&a.y==c.y||d.x==e.x&&d.y==e.y)return!1;var g=c.x-a.x;c=c.y-a.y;var h=e.x-d.x;e=e.y-d.y;var k=a.x-d.x;a=a.y-d.y;d=e*g-h*c;f.x=h*a-e*k;f.y=g*a-c*k;if(0==d)return 0==f.x||0==f.y?!0:!1;f.x/=d;f.y/=d;return!0};
r.q$=function(a,c,d,e){var f=r.a(0,0);return r.rD(a,c,d,e,f)&&0<=f.x&&1>=f.x&&0<=f.y&&1>=f.y?!0:!1};r.k$=function(a,c,d,e){var f=r.a(0,0);return r.rD(a,c,d,e,f)?(d=r.a(0,0),d.x=a.x+f.x*(c.x-a.x),d.y=a.y+f.x*(c.y-a.y),d):r.wj()};r.p$=function(a,c){return null!=a&&null!=c?a.x==c.x&&a.y==c.y:!1};r.u$=function(a){a.x=0;a.y=0};r.j$=function(a,c){a.x=c.x;a.y=c.y};r.tV=function(a,c){a.x*=c;a.y*=c};r.r$=function(a,c){a.x-=c.x;a.y-=c.y};r.a$=function(a,c){a.x+=c.x;a.y+=c.y};
r.l$=function(a){r.tV(a,1/Math.sqrt(a.x*a.x+a.y*a.y))};r.bea=function(a,c,d,e,f){f+=e;if(!(1>=f)){c*=0.5;for(var g,h=f-1,k=e;k<f;k++){g=2*k;var l=r.a(a[2*k],a[2*k+1]),m;if(0===k)m=r.rx(r.Ch(r.Hd(l,r.a(a[2*(k+1)],a[2*(k+1)+1]))));else if(k===h)m=r.rx(r.Ch(r.Hd(r.a(a[2*(k-1)],a[2*(k-1)+1]),l)));else{m=r.a(a[2*(k-1)],a[2*(k-1)+1]);var n=r.a(a[2*(k+1)],a[2*(k+1)+1]),p=r.Ch(r.Hd(n,l)),q=r.Ch(r.Hd(m,l)),u=Math.acos(r.fq(p,q));m=u<r.uj(70)?r.rx(r.Ch(r.sD(p,q))):u<r.uj(170)?r.Ch(r.sD(p,q)):r.rx(r.Ch(r.Hd(n,m)))}m=r.jj(m,c);d[2*g]=l.x+m.x;d[2*g+1]=l.y+m.y;d[2*
(g+1)]=l.x-m.x;d[2*(g+1)+1]=l.y-m.y}for(k=0==e?0:e-1;k<h;k++)g=2*k,a=g+2,c=r.Nu(d[2*g],d[2*g+1]),f=r.Nu(d[2*(g+1)],d[2*(g+1)+1]),g=r.Nu(d[2*a],d[2*a]),e=r.Nu(d[2*(a+1)],d[2*(a+1)+1]),c=!r.PY(c.x,c.y,e.x,e.y,f.x,f.y,g.x,g.y),!c.Ts&&(0>c.value||1<c.value)&&(c.Ts=!0),c.Ts&&(d[2*a]=e.x,d[2*a+1]=e.y,d[2*(a+1)]=g.x,d[2*(a+1)+1]=g.y)}};
r.PY=function(a,c,d,e,f,g,h,k){if(a==d&&c==e||f==h&&g==k)return{Ts:!1,value:0};d-=a;e-=c;f-=a;g-=c;h-=a;k-=c;a=Math.sqrt(d*d+e*e);d/=a;e/=a;c=f*d+g*e;g=g*d-f*e;f=c;c=h*d+k*e;k=k*d-h*e;h=c;return g==k?{Ts:!1,value:0}:{Ts:!0,value:(h+(f-h)*k/(k-g))/a}};r.tZ=function(a,c){c[2]=c[3]=c[6]=c[7]=c[8]=c[9]=c[11]=c[14]=0;c[10]=c[15]=1;c[0]=a.J;c[4]=a.Da;c[12]=a.Za;c[1]=a.i;c[5]=a.La;c[13]=a.$a};r.d_=function(a,c){c.J=a[0];c.Da=a[4];c.Za=a[12];c.i=a[1];c.La=a[5];c.$a=a[13]};r.iF=-1;r.C_=null;r.D_=null;r.FW=1;
r.D=r.Ea.extend({hb:0,Cw:0,Bg:0,Th:0,ya:1,Ca:1,q:null,ne:0,oe:0,u:null,la:!0,Kh:null,Od:null,xa:null,Xe:!1,V:null,Uk:!1,td:r.iF,CH:null,QB:null,bk:!0,zv:!0,eG:!0,J1:null,ak:null,yG:null,me:!1,Mc:null,Sf:0,bh:null,Cg:null,xG:!1,Rq:!1,Uu:null,Gi:null,IA:!1,Fm:0,Tr:0,FA:function(){this.Kh=r.Cd();this.Od=r.Cd();this.xa=r.Jm();this.q=r.Cd();this.u=[];this.ak={J:1,i:0,Da:0,La:1,Za:0,$a:0};var a=r.$.e();this.bh=a.Ig();this.Cg=a.Ef();this.xG=!0;this.Uu={J:1,i:0,Da:0,La:1,Za:0,$a:0};r.oM&&(this.Gi=new r.oM(this))},
r:function(){!1===this.xG&&this.FA();return!0},sg:function(a,c){if(a&&0!==a.length){var d,e=a.length,f;d=r.D.Nf;switch(c){case d.Pg:for(d=0;d<e;d++)(f=a[d])&&f.Pg();break;case d.Ud:for(d=0;d<e;d++)(f=a[d])&&f.Ud();break;case d.mi:for(d=0;d<e;d++)(f=a[d])&&f.mi();break;case d.$f:for(d=0;d<e;d++)(f=a[d])&&f.$f();break;case d.kg:for(d=0;d<e;d++)(f=a[d])&&f.kg();break;case d.Bh:for(d=0;d<e;d++)(f=a[d])&&f.Bh();break;case d.Wd:for(d=0;d<e;d++)(f=a[d])&&f.Wd();break;default:throw"Unknown callback function";
}}},Xa:null,sQ:function(){this.Hm();!1===this.bk&&(this.bk=this.zv=!0)},tQ:function(){!1===this.bk&&(this.bk=this.zv=!0)},O6:function(){return this.ne},Wx:function(a){this.ne=a;this.Xa()},P6:function(){return this.oe},Xx:function(a){this.oe=a;this.Xa()},E7:function(){return this.hb},ew:function(a){this.hb=a},Nca:function(a){this.ew(a);this.V&&this.V.et(this,a)},u7:function(){return this.Cw},oL:function(a){this.Cw=a},yT:function(){this.Bg!==this.Th&&r.log("cc.Node.rotation(): RotationX !\x3d RotationY. Don't know which one to return");
return this.Bg},Sx:function(a){this.Bg=this.Th=a;this.Fm=0.017453292519943295*this.Bg;this.Tr=0.017453292519943295*this.Th;this.Xa()},E6:function(){return this.Bg},Tx:function(a){this.Bg=a;this.Fm=0.017453292519943295*this.Bg;this.Xa()},F6:function(){return this.Th},Ux:function(a){this.Th=a;this.Tr=0.017453292519943295*this.Th;this.Xa()},EC:function(){this.ya!==this.Ca&&r.log("cc.Node.getScale(): ScaleX !\x3d ScaleY. Don't know which one to return");return this.ya},uk:function(a,c){this.ya=a;this.Ca=
c||0===c?c:a;this.Xa()},zT:function(){return this.ya},lq:function(a){this.ya=a;this.Xa()},AT:function(){return this.Ca},Jn:function(a){this.Ca=a;this.Xa()},m:function(a,c){var d=this.q;2==arguments.length?(d.H=a,d.M=c):1==arguments.length&&(d.H=a.x,d.M=a.y);this.Xa()},o6:function(){return this.q},p6:function(){return this.q.H},yb:function(a){this.q.H=a;this.Xa()},q6:function(){return this.q.M},Bc:function(a){this.q.M=a;this.Xa()},B4:function(){return this.u.length},A4:function(){return this.u},CJ:function(){return this.la},
B:function(a){this.la=a;this.Xa()},j4:function(){return this.Kh},G:function(a,c){var d=this.Kh;if(2===arguments.length){if(a===d.H&&c===d.M)return;d.H=a;d.M=c}else{if(a.x===d.H&&a.y===d.M)return;d.H=a.x;d.M=a.y}var e=this.Od,f=this.xa;e.H=f.Ha*d.H;e.M=f.wa*d.M;this.Xa()},k4:function(){return this.Od},c:function(){return this.xa},S:function(a,c){var d=this.xa;if(2===arguments.length){if(a===d.Ha&&c===d.wa)return;d.Ha=a;d.wa=c}else{if(a.width===d.Ha&&a.height===d.wa)return;d.Ha=a.width;d.wa=a.height}var e=
this.Od,f=this.Kh;e.H=d.Ha*f.H;e.M=d.wa*f.M;this.Xa()},K8:function(){return this.Xe},getParent:function(){return this.V},lt:function(a){this.V=a},v8:function(){return this.Uk},cj:function(a){a!=this.Uk&&(this.Uk=a,this.Xa())},JT:function(){return this.td},lL:function(a){this.td=a},getUserData:function(){return this.CH},setUserData:function(a){this.CH=a},s7:function(){return this.QB},Gca:function(a){this.QB!=a&&(this.QB=a)},e6:function(){return this.Sf},kq:function(a){this.Sf=a},Ig:function(){this.bh||
(this.bh=r.$.e().Ig());return this.bh},QW:function(a){this.bh!=a&&(this.kE(),this.bh=a)},Ef:function(){this.Cg||(this.Cg=r.$.e().Ef());return this.Cg},RX:function(a){this.Cg!=a&&(this.vt(),this.Cg=a)},Ya:function(){var a=r.rect(0,0,this.xa.Ha,this.xa.wa);return r.xi(a,this.dg())},$f:function(){this.kE();this.vt();this.sg(this.u,r.D.Nf.$f)},description:function(){return"\x3ccc.Node | Tag \x3d"+this.td+"\x3e"},$S:function(a){var c=this.u;if(null!=c)for(var d=0;d<c.length;d++){var e=c[d];if(e&&e.td==
a)return e}return null},f:function(a,c,d){if(!a)throw"cc.Node.addChild(): child must be non-null";a===this?r.log("cc.Node.addChild(): An Node can't be added as a child of itself."):null!==a.V?r.log("cc.Node.addChild(): child already added. It can't be added again"):(c=null!=c?c:a.hb,a.td=null!=d?d:a.td,this.mP(a,c),a.V=this,this.Xe&&(a.Pg(),this.IA&&a.mi()))},K:function(a){this.V&&(null==a&&(a=!0),this.V.removeChild(this,a))},mW:function(a){r.log("removeFromParentAndCleanup is deprecated. Use removeFromParent instead");
this.K(a)},removeChild:function(a,c){0!==this.u.length&&(null==c&&(c=!0),-1<this.u.indexOf(a)&&this.LO(a,c),this.Xa())},gaa:function(a,c){a===r.iF&&r.log("cc.Node.removeChildByTag(): argument tag is an invalid tag");var d=this.$S(a);null==d?r.log("cocos2d: removeChildByTag(tag \x3d "+a+"): child not found!"):this.removeChild(d,c)},Z$:function(a){r.log("removeAllChildrenWithCleanup is deprecated. Use removeAllChildren instead");this.ac(a)},ac:function(a){var c=this.u;if(null!=c){null==a&&(a=!0);for(var d=
0;d<c.length;d++){var e=c[d];e&&(this.Xe&&(e.Bh(),e.Ud()),a&&e.$f(),e.lt(null))}this.u.length=0}},LO:function(a,c){this.Xe&&(a.Bh(),a.Ud());c&&a.$f();a.lt(null);r.Zd(this.u,a)},mP:function(a,c){this.me=!0;this.u.push(a);a.ew(c)},et:function(a,c){if(!a)throw"cc.Node.reorderChild(): child must be non-null";this.me=!0;a.kq(r.FW++);a.ew(c);this.Xa()},Wd:function(){if(this.me){var a=this.u,c,d,e=a.length,f;for(c=0;c<e;c++){var g=a[c];d=c-1;for(f=a[d];0<=d&&(g.hb<f.hb||g.hb==f.hb&&g.Sf<f.Sf);)a[d+1]=f,
d-=1,f=a[d];a[d+1]=g}this.me=!1}},Va:function(){},ly:function(){null!=this.V&&(this.V.ly(),this.V.transform())},Pg:function(){this.IA=!1;this.Xe=!0;this.sg(this.u,r.D.Nf.Pg);this.Ex()},mi:function(){this.IA=!0;this.sg(this.u,r.D.Nf.mi)},Bh:function(){this.sg(this.u,r.D.Nf.Bh)},Ud:function(){this.Xe=!1;this.tx();this.sg(this.u,r.D.Nf.Ud);this.Gi&&this.Gi.hW()},Fx:function(a){if(!a)throw"cc.Node.runAction(): action must be non-null";this.Ig().kR(a,this,!this.Xe);return a},kE:function(){this.Ig().tK(this)},
wY:function(a){this.Ig().sK(a)},eda:function(a){a===r.Wn?r.log("cc.Node.stopActionBy(): argument tag an invalid tag"):this.Ig().gW(a,this)},AC:function(a){return a===r.Wn?(r.log("cc.Node.getActionByTag(): argument tag is an invalid tag"),null):this.Ig().AC(a,this)},Q5:function(){return this.Ig().$U(this)},IW:function(){this.JW(0)},JW:function(a){this.Ef().BK(this,a,!this.Xe)},Oda:function(){this.Ef().sq(this)},cc:function(a,c,d,e){c=c||0;if(!a)throw"cc.Node.schedule(): callback function must be non-null";
if(0>c)throw"cc.Node.schedule(): interval must be positive";d=null==d?r.em:d;e=e||0;this.Ef().HW(this,a,c,d,e,!this.Xe)},Fc:function(a,c){this.cc(a,0,0,c)},Uc:function(a){a&&this.Ef().PL(this,a)},vt:function(){this.Ef().OL(this)},Ex:function(){this.Ef().Dn(this);this.Ig().Dn(this)},tx:function(){this.Ef().ct(this);this.Ig().ct(this)},Jaa:function(a){this.Uu=a;this.Rq=this.bk=!0},y$:function(){this.zv&&(this.yG=r.FE(this.dg()),this.zv=!1);return this.yG},$s:function(){for(var a=this.dg(),c=this.V;null!=
c;c=c.getParent())a=r.Xl(a,c.dg());return a},SY:function(){return r.FE(this.$s())},Ia:function(a){return r.uF(a,this.SY())},nl:function(a){return r.uF(a,this.$s())},hS:function(a){return r.Hd(this.Ia(a),this.Od)},a3:function(a){a=r.fg(a,this.Od);return this.nl(a)},e1:function(a){a=this.nl(a);return r.$.e().iS(a)},bi:function(a){return this.Ia(a.L)},b3:function(a){a=a.L;a=r.$.e().gS(a);return this.hS(a)},update:function(a){this.Gi&&!this.Gi.r8()&&this.Gi.sa(a)},kg:function(){this.sg(this.u,r.D.Nf.kg)},
zK:function(){},ED:function(){},aT:function(a){return this.Gi.aT(a)},R1:function(a){this.Gi.add(a)},haa:function(a){return this.Gi.remove(a)},$$:function(){this.Gi.hW()},pH:null,DB:null,AA:null,xo:null,Rk:null,ctor:null,Lh:function(){this.FA()},Mh:function(){this.FA();var a=new r.zh;a.Ah[2]=a.Ah[3]=a.Ah[6]=a.Ah[7]=a.Ah[8]=a.Ah[9]=a.Ah[11]=a.Ah[14]=0;a.Ah[10]=a.Ah[15]=1;this.pH=a;this.AA=0;this.DB=new r.zh},sa:null,Vm:function(a){if(this.la){a=a||r.Y;var c,d=this.u,e;a.save();this.transform(a);var f=
d.length;if(0<f){this.Wd();for(c=0;c<f;c++)if(e=d[c],0>e.hb)e.sa(a);else break;for(this.Va(a);c<f;c++)d[c].sa(a)}else this.Va(a);this.Sf=0;a.restore()}},Wm:function(){if(this.la){var a=r.Y,c,d=r.mS;d.stack.push(d.top);r.f9(this.DB,d.top);d.top=this.DB;var e=this.Rk;e&&e.cO&&e.eC();this.transform();var f=this.u;if(f&&0<f.length){var g=f.length;this.Wd();for(c=0;c<g;c++)if(f[c]&&0>f[c].hb)f[c].sa();else break;for(this.Va(a);c<g;c++)f[c]&&f[c].sa()}else this.Va(a);this.Sf=0;e&&e.cO&&e.aC(this);d.top=
d.stack.pop()}},transform:null,TQ:function(a){a=a||r.Y;var c=r.va.e(),d=this.dg();a.transform(d.J,d.Da,d.i,d.La,d.Za*c.ya,-d.$a*c.Ca)},UQ:function(){var a=this.pH,c=r.mS.top,d=this.dg(),e=a.Ah;e[0]=d.J;e[4]=d.Da;e[12]=d.Za;e[1]=d.i;e[5]=d.La;e[13]=d.$a;e[14]=this.Cw;r.NU(c,c,a);null==this.xo||null!=this.Rk&&this.Rk.Vp()||(a=this.Od.H,c=this.Od.M,0!==a||0!==c?(r.LU(r.og(a),r.og(c),0),this.xo.FJ(),r.LU(r.og(-a),r.og(-c),0)):this.xo.FJ())},dg:null,DP:function(){this.ak||(this.ak={J:1,i:0,Da:0,La:1,Za:0,
$a:0});if(this.bk){var a=this.ak;a.Za=this.q.H;a.$a=this.q.M;var c=1,d=0;this.Bg&&(c=Math.cos(this.Fm),d=Math.sin(this.Fm));a.J=a.La=c;a.i=-d;a.Da=d;var e=this.ya,f=this.Ca,g=this.Od.H,h=this.Od.M,k=1E-6>e&&-1E-6<e?1E-6:e,l=1E-6>f&&-1E-6<f?1E-6:f;if(this.ne||this.oe){var m=Math.tan(-this.ne*Math.PI/180),n=Math.tan(-this.oe*Math.PI/180),p=h*m*k,q=g*n*l;a.J=c+-d*n;a.i=c*m+-d;a.Da=d+c*n;a.La=d*m+c;a.Za+=c*p+-d*q;a.$a+=d*p+c*q}if(1!==e||1!==f)a.J*=k,a.Da*=k,a.i*=l,a.La*=l;a.Za+=c*-g*k+-d*h*l;a.$a-=d*
-g*k+c*h*l;this.Uk&&(a.Za+=g,a.$a+=h);this.Rq&&(this.ak=r.Xl(this.ak,this.Uu),this.Rq=!1);this.bk=!1}return this.ak},EP:function(){if(this.bk){var a=this.q.H,c=this.q.M,d=this.Od.H,e=-d,f=this.Od.M,g=-f,h=this.ya,k=this.Ca;this.Uk&&(a+=d,c+=f);var l=1,m=0,n=1,p=0;if(0!==this.Bg||0!==this.Th)l=Math.cos(-this.Fm),m=Math.sin(-this.Fm),n=Math.cos(-this.Tr),p=Math.sin(-this.Tr);var q=this.ne||this.oe;q||0===d&&0===f||(a+=n*e*h+-m*g*k,c+=p*e*h+l*g*k);a={J:n*h,i:p*h,Da:-m*k,La:l*k,Za:a,$a:c};q&&(a=r.Xl({J:1,
i:Math.tan(r.uj(this.oe)),Da:Math.tan(r.uj(this.ne)),La:1,Za:0,$a:0},a),0!==d||0!==f)&&(a=r.sy(a,e,g));this.Rq&&(a=r.Xl(a,this.Uu),this.Rq=!1);this.ak=a;this.bk=!1}return this.ak},Hm:function(){this.eG=!0;this.V&&this.V.Hm()},BC:function(){this.xo||(this.xo=new r.yq);return this.xo},k5:function(){return this.Rk},mba:function(a){this.Rk=a},GC:function(){return this.Mc},Rg:function(a){this.Mc=a},j5:function(){return this.AA},lba:function(a){this.AA=a},s4:function(){var a=r.rect(0,0,this.xa.Ha,this.xa.wa),
c=this.$s(),a=r.Zg(a,this.$s());if(!this.u)return a;for(var d=this.u,e=0;e<d.length;e++){var f=d[e];f&&f.la&&(f=f.qG(c))&&(a=r.Ax(a,f))}return a},qG:function(a){var c=r.rect(0,0,this.xa.Ha,this.xa.wa);a=null==a?this.dg():r.Xl(this.dg(),a);c=r.Zg(c,a);if(!this.u)return c;for(var d=this.u,e=0;e<d.length;e++){var f=d[e];f&&f.la&&(f=f.qG(a))&&(c=r.Ax(c,f))}return c}});
r.Ga.Tc?(b=r.D.prototype,b.ctor=r.D.prototype.Mh,b.Xa=r.D.prototype.tQ,b.sa=r.D.prototype.Wm,b.transform=r.D.prototype.UQ,b.dg=r.D.prototype.EP):(b=r.D.prototype,b.ctor=r.D.prototype.Lh,b.Xa=r.D.prototype.sQ,b.sa=r.D.prototype.Vm,b.transform=r.D.prototype.TQ,b.dg=r.D.prototype.DP);r.D.create=function(){return new r.D};r.D.Nf={Pg:1,Ud:2,$f:3,mi:4,kg:5,Bh:6,Wd:7};
r.Bb=r.D.extend({mb:!0,$b:255,Ag:255,Kc:null,le:null,zd:!1,fe:!1,ctor:function(){r.D.prototype.ctor.call(this);this.Ag=this.$b=255;this.Kc=r.Ab();this.le=r.Ab();this.fe=this.zd=!1},$i:function(){return this.Ag},cT:function(){return this.$b},ra:function(a){this.$b=this.Ag=a;a=255;var c=this.V;c&&c.mb&&c.fe&&(a=c.$b);this.kd(a)},kd:function(a){this.$b=this.Ag*a/255;if(this.fe){a=this.u;for(var c=0;c<a.length;c++){var d=a[c];d&&d.mb&&d.kd(this.$b)}}},DU:function(){return this.fe},KK:function(a){this.fe!==
a&&((this.fe=a)?this.nr():this.hA())},nr:function(){var a=255,c=this.V;c&&c.mb&&c.fe&&(a=c.$b);this.kd(a)},hA:function(){this.$b=this.Ag;for(var a=this.u,c=0;c<a.length;c++){var d=a[c];d&&d.mb&&d.kd(255)}},Gd:function(){var a=this.le;return new r.Gc(a.p,a.o,a.i)},Hs:function(){return this.Kc},n:function(a){var c=this.Kc,d=this.le;c.p=d.p=a.p;c.o=d.o=a.o;c.i=d.i=a.i;a=(a=this.V)&&a.mb&&a.zd?a.Hs():r.Ab();this.jd(a)},jd:function(a){var c=this.Kc,d=this.le;c.p=0|d.p*a.p/255;c.o=0|d.o*a.o/255;c.i=0|d.i*
a.i/255;if(this.zd)for(a=this.u,d=0;d<a.length;d++){var e=a[d];e&&e.mb&&e.jd(c)}},CU:function(){return this.zd},JK:function(a){this.zd!==a&&((this.zd=a)?this.mr():this.gA())},mr:function(){var a;a=(a=this.V)&&a.mb&&a.zd?a.Hs():r.Ab();this.jd(a)},gA:function(){var a=this.Kc,c=this.le;a.p=c.p;a.o=c.o;a.i=c.i;for(var a=this.u,c=r.Ab(),d=0;d<a.length;d++){var e=a[d];e&&e.mb&&e.jd(c)}},f:function(a,c,d){r.D.prototype.f.call(this,a,c,d);this.zd&&this.mr();this.fe&&this.nr()},Kf:function(){},wl:function(){return!1}});
r.Bb.create=function(){var a=new r.Bb;a.r();return a};r.$d=r.Bb.extend({mb:!0,EG:0,DG:0,Bv:0,Av:0,Fj:null,Ra:null,qc:!1,ia:null,Qr:0,BA:!1,ctor:function(){r.Bb.prototype.ctor.call(this);this.Fj=r.Ab();this.ia={src:r.Me,Jb:r.Le};this.BA=!1},Qda:function(){r.log("cc.AtlasNode.updateAtlasValues(): Shall be overridden in subclasses")},Gd:function(){return this.qc?this.Fj:r.Bb.prototype.Gd.call(this)},Kf:function(a){var c=this.Gd();this.qc=a;this.n(c)},wl:function(){return this.qc},Gs:function(){return this.ia},Jl:function(a,c){this.ia=1==arguments.length?
a:{src:a,Jb:c}},nq:function(a){this.Ra=a},RI:function(){return this.Ra},w6:function(){return this.Qr},$ba:function(a){this.Qr=a},Pm:null,wg:null,sH:null,cv:null,sU:function(a,c,d,e){if(!a)throw"cc.AtlasNode.initWithTileFile(): title should not be null";a=r.ea.e().pa(a);return this.Ma(a,c,d,e)},Ma:null,Br:function(a,c,d,e){this.Bv=c;this.Av=d;this.qc=!0;this.wg=a;if(!this.wg)return r.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.Pm=this.wg;this.Zu();this.Qr=e;return!0},
Cr:function(a,c,d,e){this.Bv=c;this.Av=d;this.Fj=r.Ab();this.qc=!0;this.ia.src=r.Me;this.ia.Jb=r.Le;c=this.le;this.cv=new Float32Array([c.p/255,c.o/255,c.i/255,this.Ag/255]);this.Ra=new r.ko;this.Ra.Ma(a,e);if(!this.Ra)return r.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.Um();this.zH();this.Zu();this.Qr=e;this.Rg(r.Jh.e().oi(r.m0));this.sH=r.Y.getUniformLocation(this.GC().$w(),"u_color");return!0},Va:null,vg:function(a){a=a||r.Y;r.Ty(this);r.jk(this.ia.src,this.ia.Jb);
a.uniform4fv(this.sH,this.cv);this.Ra.oI(this.Qr,0)},n:null,Vr:function(a){var c=this.le;if(c.p!=a.p||c.o!=a.o||c.i!=a.i){c=new r.Gc(a.p,a.o,a.i);this.Fj=a;if(this.qc){var d=this.$b;c.p=c.p*d/255;c.o=c.o*d/255;c.i=c.i*d/255}r.Bb.prototype.n.call(this,a);this.da()&&(a=this.wg.Lc)&&(c=r.ea.e().SI(a))&&(d=r.rect(0,0,a.width,a.height),a=r.zC(a,c,this.le,d),c=new r.ec,c.Gf(a),c.Ee(),this.ga(c))}},pB:function(a){var c=r.Gc(a.p,a.o,a.i);this.Fj=a;var d=this.$b;this.qc&&(c.p=c.p*d/255,c.o=c.o*d/255,c.i=c.i*
d/255);r.Bb.prototype.n.call(this,a);a=this.Kc;this.cv=new Float32Array([a.p/255,a.o/255,a.i/255,d/255])},ra:null,Xr:function(a){r.Bb.prototype.ra.call(this,a);this.qc&&this.n(this.Fj)},sB:function(a){r.Bb.prototype.ra.call(this,a);this.qc?this.n(this.Fj):(a=this.Kc,this.cv=new Float32Array([a.p/255,a.o/255,a.i/255,this.$b/255]))},da:null,xA:function(){return this.Pm},yA:function(){return this.Ra.da()},ga:null,Yr:function(a){this.Pm=a},Zr:function(a){this.Ra.ga(a);this.Um();this.zH()},Zu:null,tO:function(){var a=
this.da().c();this.DG=0|a.height/this.Av;this.EG=0|a.width/this.Bv},uO:function(){var a=this.da(),c=a.c();this.BA&&(c=a.xa);this.DG=0|c.height/this.Av;this.EG=0|c.width/this.Bv},Um:function(){this.Ra.da().Ps()||(this.ia.src=770,this.ia.Jb=771)},zH:function(){this.qc=this.Ra.da().Ps()},rB:function(a){this.BA=a}});
r.Ga.Tc?(b=r.$d.prototype,b.Ma=r.$d.prototype.Cr,b.Va=r.$d.prototype.vg,b.n=r.$d.prototype.pB,b.ra=r.$d.prototype.sB,b.da=r.$d.prototype.yA,b.ga=r.$d.prototype.Zr,b.Zu=r.$d.prototype.uO):(b=r.$d.prototype,b.Ma=r.$d.prototype.Br,b.Va=r.D.prototype.Va,b.n=r.$d.prototype.Vr,b.ra=r.$d.prototype.Xr,b.da=r.$d.prototype.xA,b.ga=r.$d.prototype.Yr,b.Zu=r.$d.prototype.tO);r.$d.create=function(a,c,d,e){var f=new r.$d;return f.sU(a,c,d,e)?f:null};r.yj=0;r.Iq=1;r.Hq=2;r.Gq=3;r.jz=4;r.iz=5;r.Du=6;r.Cu=7;r.FF=8;r.EF=9;r.DF=r.yj;r.$z=r.DF;r.qN=!1;r.G1=function(a,c,d,e){this.WU=a||0;this.TU=c||0;this.bM=d||0;this.cM=e||0};
r.GN=r.Ea.extend({HP:null,Tf:null,lh:null,kh:null,MA:null,xa:null,gh:null,hh:null,No:null,um:!1,Mc:null,vc:!1,Lc:null,ai:null,Pd:null,ctor:function(){this.kh=this.lh=0;this.MA="";this.hh=this.gh=0;this.No=!1;this.xa=r.Jm();this.um=!1;this.HP=!0;this.Tf=r.ec.nS();this.Mc=null;this.vc=!1;this.ai=this.Lc=null;this.Pd=[]},FD:function(){this.ai&&r.Y.deleteTexture(this.ai)},j6:function(){return this.Tf},Kp:function(){return this.lh},Jp:function(){return this.kh},getName:function(){return this.ai},c:function(){return r.size(this.xa.width/
r.Ld(),this.xa.height/r.Ld())},bT:function(){return this.xa},kT:function(){return this.gh},vX:function(a){this.gh=a},lT:function(){return this.hh},wX:function(a){this.hh=a},GC:function(){return this.Mc},Rg:function(a){this.Mc=a},Ps:function(){return this.No},aU:function(){return this.um},description:function(){return"\x3ccc.Texture2D | Name \x3d "+this.MA+" | Dimensions \x3d "+this.lh+" x "+this.kh+" | Coordinates \x3d ("+this.gh+", "+this.hh+")\x3e"},eW:function(){},JU:function(a){return a},ex:function(a,
c,d,e,f){var g=r.Y,h=0,h=c===r.yj?24:this.XH(c),h=d*h/8;0===h%8?g.pixelStorei(g.UNPACK_ALIGNMENT,8):0===h%4?g.pixelStorei(g.UNPACK_ALIGNMENT,4):0===h%2?g.pixelStorei(g.UNPACK_ALIGNMENT,2):g.pixelStorei(g.UNPACK_ALIGNMENT,1);this.ai=g.createTexture();r.Jg(this);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE);
switch(c){case r.yj:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_BYTE,a);break;case r.Iq:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_BYTE,a);break;case r.Du:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_4_4_4_4,a);break;case r.Cu:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_5_5_5_1,a);break;case r.Hq:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_SHORT_5_6_5,a);break;case r.iz:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE_ALPHA,
d,e,0,g.LUMINANCE_ALPHA,g.UNSIGNED_BYTE,a);break;case r.Gq:g.texImage2D(g.TEXTURE_2D,0,g.ALPHA,d,e,0,g.ALPHA,g.UNSIGNED_BYTE,a);break;case r.jz:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE,d,e,0,g.LUMINANCE,g.UNSIGNED_BYTE,a);break;default:throw"NSInternalInconsistencyException";}this.xa.Ha=f.width;this.xa.wa=f.height;this.lh=d;this.kh=e;this.Tf=c;this.gh=f.width/d;this.hh=f.height/e;this.um=this.No=!1;this.Rg(r.Jh.e().oi(r.vN));return this.vc=!0},DS:function(a){var c=[0,this.hh,this.gh,this.hh,0,0,this.gh,
0],d=this.lh*this.gh,e=this.kh*this.hh;a=[a.x,a.y,0,d+a.x,a.y,0,a.x,e+a.y,0,d+a.x,e+a.y,0];r.ze(r.ah|r.PN);this.Mc.pf();this.Mc.nL();r.Jg(this);d=r.Y;d.vertexAttribPointer(r.Pe,2,d.FLOAT,!1,0,a);d.vertexAttribPointer(r.Mq,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},FS:function(a){var c=[0,this.hh,this.gh,this.hh,0,0,this.gh,0];a=[a.x,a.y,a.x+a.width,a.y,a.x,a.y+a.height,a.x+a.width,a.y+a.height];r.ze(r.ah|r.PN);this.Mc.pf();this.Mc.nL();r.Jg(this);var d=r.Y;d.vertexAttribPointer(r.Pe,2,
d.FLOAT,!1,0,a);d.vertexAttribPointer(r.Mq,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},VC:function(a){if(null==a)return r.log("cocos2d: cc.Texture2D. Can't create Texture. UIImage is nil"),!1;var c=a.Ns(),d=a.Is(),e=r.Ne.e().Jr;if(c>e||d>e)return r.log("cocos2d: WARNING: Image ("+c+" x "+d+") is bigger than the supported "+e+" x "+e),!1;this.vc=!0;return this.dP(a,c,d)},Gf:function(a){a&&(this.ai=r.Y.createTexture(),this.Lc=a)},fT:function(){return this.Lc},Mg:function(){return this.vc},
Ee:function(){this.vc=!0;var a=r.Y;r.Jg(this);a.pixelStorei(a.UNPACK_ALIGNMENT,4);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,this.Lc);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);this.Rg(r.Jh.e().oi(r.vN));r.Jg(null);a=this.Lc.height;this.lh=this.xa.Ha=this.Lc.width;this.kh=this.xa.wa=
a;this.Tf=r.yj;this.hh=this.gh=1;this.um=this.No=!1;this.ee()},ul:function(a,c,d,e,f,g){3==arguments.length&&(c=arguments[1],d=arguments[2],e=r.size(0,0),f=r.zj,g=r.Oq);var h=new r.KM,k;if(r.Oq===g)k=r.zj===f?r.aZ:r.Jq===f?r.bZ:r.cZ;else if(r.Mu===g)k=r.zj===f?r.YY:r.Jq===f?r.ZY:r.$Y;else if(r.Nq===g)k=r.zj===f?r.VY:r.Jq===f?r.WY:r.XY;else return r.log("Not supported alignment format!"),!1;return h.ul(a,e.width,e.height,k,c,d)?this.VC(h):!1},lU:function(){return!1},kJ:function(a){var c=!1,d=new r.C0;
(c=d.U7(a))?(d.hca(!0),this.MA=d.getName(),this.hh=this.gh=1,this.lh=d.Ns(),this.kh=d.Is(),this.xa.Ha=this.lh,this.xa.wa=this.kh,this.No=r.qN,this.Tf=d.h5(),this.FK()):r.log("cocos2d: Couldn't load PVR image "+a);return c},pU:function(){return r.Ne.e().hs?!0:(r.log("cocos2d: WARNING: PVRTC images is not supported."),!1)},WX:function(a){var c=r.Y;r.Ft(this.lh==r.bo(this.lh)&&this.kh==r.bo(this.kh)||a.bM==c.CLAMP_TO_EDGE&&a.cM==c.CLAMP_TO_EDGE,"WebGLRenderingContext.CLAMP_TO_EDGE should be used in NPOT textures");
r.Jg(this);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,a.WU);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,a.TU);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,a.bM);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,a.cM)},FK:function(){var a=r.Y;r.Jg(this);this.um?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},EK:function(){var a=r.Y;r.Jg(this);
this.um?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},generateMipmap:function(){r.Ft(this.lh==r.bo(this.lh)&&this.kh==r.bo(this.kh),"Mimpap texture only works in POT textures");r.Jg(this);r.Y.generateMipmap(r.Y.TEXTURE_2D);this.um=!0},xY:function(){switch(this.Tf){case r.yj:return"RGBA8888";case r.Iq:return"RGB888";case r.Hq:return"RGB565";case r.Du:return"RGBA4444";
case r.Cu:return"RGB5A1";case r.iz:return"AI88";case r.Gq:return"A8";case r.jz:return"I8";case r.FF:return"PVRTC4";case r.EF:return"PVRTC2";default:r.log("stringForFormat: "+this.Tf+", cannot give useful result, it's a unrecognized pixel format")}return""},XH:function(a){a=a||this.Tf;switch(a){case r.yj:return 32;case r.Iq:return 32;case r.Hq:return 16;case r.Gq:return 8;case r.Du:return 16;case r.Cu:return 16;case r.FF:return 4;case r.EF:return 2;case r.jz:return 8;case r.iz:return 16;default:return r.log("bitsPerPixelForFormat: "+
this.Tf+", cannot give useful result, it's a illegal pixel format"),-1}},dP:function(a,c,d){var e=a.getData(),f=null,f=null,g=a.J7(),h=r.size(a.Ns(),a.Is()),k=r.DF,l=a.q4();g||(8<=l?k=r.Iq:(r.log("cocos2d: cc.Texture2D: Using RGB565 texture since image has no alpha"),k=r.Hq));var m=c*d;if(k==r.Hq)if(g)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>2<<5|(f[l]>>16&255)>>3<<0;else for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]&255)>>3<<
11|(f[l]&255)>>2<<5|(f[l]&255)>>3<<0;else if(k==r.Du)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>4<<12|(f[l]>>8&255)>>4<<8|(f[l]>>16&255)>>4<<4|(f[l]>>24&255)>>4<<0;else if(k==r.Cu)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>3<<6|(f[l]>>16&255)>>3<<1|(f[l]>>24&255)>>7<<0;else if(k==r.Gq)for(e=new Uint8Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=f>>24&255;if(g&&k==r.Iq)for(f=a.getData(),e=new Uint8Array(c*d*3),l=0;l<m;++l)e[3*
l]=f>>0&255,e[3*l+1]=f>>8&255,e[3*l+2]=f>>16&255;this.ex(e,k,c,d,h);a.getData();this.No=a.F8();return!0},Yf:function(a,c){this.Pd.push({ik:a,di:c})},nW:function(a){for(var c=this.Pd,d=0;d<c.length;d++)c[d].di==a&&c.splice(d,1)},ee:function(){for(var a=this.Pd,c=0,d=a.length;c<d;c++){var e=a[c];e.ik.call(e.di,this)}a.length=0}});
r.FN=r.Ea.extend({xa:null,vc:!1,Lc:null,Pd:null,ctor:function(){this.xa=r.Jm();this.vc=!1;this.Lc=null;this.Pd=[]},Kp:function(){return this.xa.Ha},Jp:function(){return this.xa.wa},c:function(){var a=r.Ld();return r.size(this.xa.Ha/a,this.xa.wa/a)},bT:function(){return this.xa},Gf:function(a){a&&(this.Lc=a)},fT:function(){return this.Lc},Mg:function(){return this.vc},Ee:function(){this.vc=!0;var a=this.Lc;this.xa.Ha=a.width;this.xa.wa=a.height;this.ee()},description:function(){return"\x3ccc.Texture2D | width \x3d "+
this.xa.Ha+" height "+this.xa.wa+"\x3e"},ex:function(){return!1},VC:function(){return!1},ul:function(){return!1},FD:function(){},getName:function(){return null},kT:function(){return 1},vX:function(){},lT:function(){return 1},wX:function(){},GC:function(){return null},Rg:function(){},Ps:function(){return!1},aU:function(){return!1},eW:function(){},JU:function(a){return a},DS:function(){},FS:function(){},lU:function(){return!1},kJ:function(){return!1},pU:function(){return!0},WX:function(){},FK:function(){},
EK:function(){},generateMipmap:function(){},xY:function(){return""},XH:function(){return-1},Yf:function(a,c){this.Pd.push({ik:a,di:c})},nW:function(a){for(var c=this.Pd,d=0;d<c.length;d++)c[d].di==a&&c.splice(d,1)},ee:function(){for(var a=this.Pd,c=0,d=a.length;c<d;c++){var e=a[c];e.ik.call(e.di,this)}a.length=0}});r.ec=r.Ga.Tc?r.GN:r.FN;r.ec.Yaa=function(a){r.$z=a};r.ec.nS=function(){return r.$z};r.ec.O4=function(){return r.$z};r.Fs=null;r.r9=function(a){if(r.dS(a)==r.EM)r.log("unsupported format:"+a);else{var c=new Image;c.src=a;c.addEventListener("load",function(){r.ea.e().GR(a,c);this.removeEventListener("load",arguments.callee,!1)},!1)}};r.dS=function(a){return 0<a.toLowerCase().indexOf(".jpg")||0<a.toLowerCase().indexOf(".jpeg")?r.$Z:0<a.toLowerCase().indexOf(".png")?r.a_:0<a.toLowerCase().indexOf(".webp")?r.c_:r.EM};
r.ea=r.Ea.extend({sb:null,is:null,pw:null,UG:!1,Ev:null,Fv:null,ctor:function(){if(r.Fs)throw"Attempted to allocate a second instance of a singleton.";this.pw+=0|1E3*Math.random();this.sb={};this.is={};r.Id===r.Fk&&(this.Ev={},this.Fv={})},Dz:function(a,c){if(a&&"string"===typeof c)a[c]();else a&&"function"===typeof c&&c.call(a)},lP:function(){this.UG=!0;var a,c=this.Ev,d=this.sb;for(a in c){var e=c[a],f=new r.ec;f.Gf(e);f.Ee();d[a]=f}this.Ev={}},Y1:function(){r.log("TextureCache:addPVRTCImage does not support on HTML5")},
T1:function(){r.log("TextureCache:addPVRTCImage does not support on HTML5")},description:function(){return"\x3cTextureCache | Number of textures \x3d "+this.sb.length+"\x3e"},hy:function(a){a=r.Md.e().ve(a);return this.sb.hasOwnProperty(a)?this.sb[a]:null},hT:function(a){for(var c in this.sb)if(this.sb[c]==a)return c;return null},VO:function(){this.pw++;return"_textureKey_"+this.pw},SI:function(a){var c=this.hT(a);c||(c=a instanceof HTMLImageElement?a.src:this.VO());this.is.hasOwnProperty(c)||(this.is[c]=
r.Ep(a));return this.is[c]},X1:function(a){if(!a)throw"cc.TextureCache.addPVRImage(): path should be non-null";a=r.Md.e().ve(a);if(null!=this.sb[a])return this.sb[a];var c=new r.ec;c.kJ(a)?this.sb[a]=c:r.log("cocos2d: Couldn't add PVRImage:"+a+" in TextureCache");return c},caa:function(){var a=this.sb,c;for(c in a)a[c]&&a[c].FD();this.sb={}},raa:function(a){if(a){var c=this.sb,d;for(d in c)c[d]==a&&(c[d].FD(),delete c[d])}},rW:function(a){null!=a&&(a=r.Md.e().ve(a),this.sb[a]&&delete this.sb[a])},
U1:function(a,c,d){if(!a)throw"cc.TextureCache.addImageAsync(): path should be non-null";a=r.Md.e().ve(a);var e=this.sb[a],f,g;if(e)e.Mg()?this.Dz(c,d):(g=this,f=e.Lc,f.addEventListener("load",function(){e.Ee();g.Dz(c,d);this.removeEventListener("load",arguments.callee,!1)}));else{f=new Image;f.crossOrigin="Anonymous";g=this;f.addEventListener("load",function(){g.sb.hasOwnProperty(a)&&g.sb[a].Ee();g.Dz(c,d);this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,
!1)});f.addEventListener("error",function(){r.dc.e().un(a);g.sb.hasOwnProperty(a)&&delete g.sb[a];this.removeEventListener("error",arguments.callee,!1)});f.src=a;var h=new r.ec;h.Gf(f);this.sb[a]=h}return this.sb[a]},eO:function(a){var c=new Image;c.crossOrigin="Anonymous";var d=this;c.addEventListener("load",function(){r.dc.e().ni();d.Ev[a]=c;delete d.Fv[a];this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});c.addEventListener("error",function(){r.dc.e().un(a);
delete d.Fv[a];this.removeEventListener("error",arguments.callee,!1)});c.src=a;this.Fv[a]=c},pa:function(a){if(!a)throw"cc.Texture.addImage(): path should be non-null";if(r.Id===r.Fk&&!this.UG)return this.eO(a);a=r.Md.e().ve(a);var c=this.sb[a],d;if(c)c.Mg()?r.dc.e().ni():(d=c.Lc,d.addEventListener("load",function(){c.Ee();r.dc.e().ni();this.removeEventListener("load",arguments.callee,!1)}));else{d=new Image;d.crossOrigin="Anonymous";var e=this;d.addEventListener("load",function(){r.dc.e().ni();e.sb.hasOwnProperty(a)&&
e.sb[a].Ee();this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});d.addEventListener("error",function(){r.dc.e().un(a);e.sb.hasOwnProperty(a)&&delete e.sb[a];this.removeEventListener("error",arguments.callee,!1)});d.src=a;var f=new r.ec;f.Gf(d);this.sb[a]=f}return this.sb[a]},GR:function(a,c){if(c instanceof r.ec)this.sb[a]=c;else{var d=new r.ec;d.Gf(c);d.Ee();this.sb[a]=d}},d2:function(a,c){if(!a)throw"cc.Texture.addUIImage(): image should be non-null";
if(c&&this.sb.hasOwnProperty(c)&&this.sb[c])return this.sb[c];var d=new r.ec;d.VC(a);null!=c&&null!=d?this.sb[c]=d:r.log("cocos2d: Couldn't add UIImage in TextureCache");return d},w3:function(){var a=0,c=0,d=this.sb,e;for(e in d){var f=d[e];a++;f.Lc instanceof HTMLImageElement?r.log("cocos2d: '"+e+"' id\x3d"+f.Lc.src+" "+f.Kp()+" x "+f.Jp()):r.log("cocos2d: '"+e+"' id\x3d HTMLCanvasElement "+f.Kp()+" x "+f.Jp());c+=f.Kp()*f.Jp()*4}d=this.is;for(e in d){var f=d[e],g;for(g in f){var h=f[g];a++;r.log("cocos2d: '"+
e+"' id\x3d HTMLCanvasElement "+h.width+" x "+h.height);c+=h.width*h.height*4}}r.log("cocos2d: TextureCache dumpDebugInfo: "+a+" textures, HTMLCanvasElement for "+c/1024+" KB ("+(c/1048576).toFixed(2)+" MB)")}});r.ea.e=function(){r.Fs||(r.Fs=new r.ea);return r.Fs};r.ea.RV=function(){r.Fs=null};r.ko=r.Ea.extend({Bd:null,Ei:null,Ja:!1,nd:0,Fa:null,Ue:null,yg:null,Rr:null,zg:null,ctor:function(){this.Ei=[]},l7:function(){return this.Ta},y4:function(){return this.nd},da:function(){return this.Fa},ga:function(a){this.Fa=a},Qg:function(a){this.Ja=a},vJ:function(){return this.Ja},v6:function(){return this.Ue},Zba:function(a){this.Ue=a},f1:function(a,c){if(a)for(var d=0;d<a.length;d++)this.dw(a[d],c+d)},dw:function(a,c){var d=this.Ue;d[c]?(d[c].Ka=a.Ka,d[c].Ua=a.Ua,d[c].Sa=a.Sa,d[c].Na=a.Na):d[c]=
new r.fc(a.Sa,a.Ka,a.Na,a.Ua,this.yg,c*r.fc.BYTES_PER_ELEMENT)},description:function(){return"\x3ccc.TextureAtlas | totalQuads \x3d"+this.Ta+"\x3e"},gH:function(){if(0!==this.nd)for(var a=this.Bd,c=this.nd,d=0;d<c;d++)r.GF?(a[6*d+0]=4*d+0,a[6*d+1]=4*d+0,a[6*d+2]=4*d+2,a[6*d+3]=4*d+1,a[6*d+4]=4*d+3,a[6*d+5]=4*d+3):(a[6*d+0]=4*d+0,a[6*d+1]=4*d+1,a[6*d+2]=4*d+2,a[6*d+3]=4*d+3,a[6*d+4]=4*d+2,a[6*d+5]=4*d+1)},IQ:function(){var a=r.Y;this.Ei[0]=a.createBuffer();this.Ei[1]=a.createBuffer();this.Rr=a.createBuffer();
this.GG()},GG:function(){var a=r.Y;a.bindBuffer(a.ARRAY_BUFFER,this.Rr);a.bufferData(a.ARRAY_BUFFER,this.yg,a.DYNAMIC_DRAW);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Ei[1]);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.Bd,a.STATIC_DRAW)},dj:function(a,c){var d=r.ea.e().pa(a);if(d)return this.Ma(d,c);r.log("cocos2d: Could not open file: "+a);return!1},Ma:function(a,c){if(!a)throw"cc.TextureAtlas.initWithTexture():texture should be non-null";this.nd=c|=0;this.Ta=0;this.Fa=a;this.Ue=[];this.Bd=new Uint16Array(6*
c);var d=r.fc.BYTES_PER_ELEMENT;this.yg=new ArrayBuffer(d*c);this.zg=new Uint8Array(this.yg);if((!this.Ue||!this.Bd)&&0<c)return!1;for(var e=this.Ue,f=0;f<c;f++)e[f]=new r.fc(null,null,null,null,this.yg,f*d);this.gH();this.IQ();return this.Ja=!0},ny:function(a,c){if(!a)throw"cc.TextureAtlas.updateQuad(): quad should be non-null";if(0>c||c>=this.nd)throw"cc.TextureAtlas.updateQuad(): Invalid index";this.Ta=Math.max(c+1,this.Ta);this.dw(a,c);this.Ja=!0},aD:function(a,c){if(c>=this.nd)throw"cc.TextureAtlas.insertQuad(): Invalid index";
this.Ta++;if(this.Ta>this.nd)r.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");else{var d=r.fc.BYTES_PER_ELEMENT,e=c*d,f=(this.Ta-1-c)*d;this.Ue[this.Ta-1]=new r.fc(null,null,null,null,this.yg,(this.Ta-1)*d);this.zg.set(this.zg.subarray(e,e+f),e+d);this.dw(a,c);this.Ja=!0}},a8:function(a,c,d){d=d||a.length;if(c+d>this.nd)throw"cc.TextureAtlas.insertQuad(): Invalid index + amount";var e=r.fc.BYTES_PER_ELEMENT;this.Ta+=d;if(this.Ta>this.nd)r.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");
else{var f=c*e,g=(this.Ta-1-c-d)*e,h=this.Ta-1-d,k;for(k=0;k<d;k++)this.Ue[h+k]=new r.fc(null,null,null,null,this.yg,(this.Ta-1)*e);this.zg.set(this.zg.subarray(f,f+g),f+e*d);for(k=0;k<d;k++)this.dw(a[k],c+k);this.Ja=!0}},Z7:function(a,c){if(a!==c){if(0>c&&c>=this.Ta)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid newIndex";if(0>a&&a>=this.Ta)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid fromIndex";var d=r.fc.BYTES_PER_ELEMENT,e=this.zg,f=e.subarray(a*d,d),g;a>c?(g=c*d,e.set(e.subarray(g,
g+(a-c)*d),g+d),e.set(f,g)):(g=(a+1)*d,e.set(e.subarray(g,g+(c-a)*d),g-d),e.set(f,c*d));this.Ja=!0}},pW:function(a){if(a>=this.Ta)throw"cc.TextureAtlas.removeQuadAtIndex(): Invalid index";var c=r.fc.BYTES_PER_ELEMENT;this.Ta--;this.Ue.length=this.Ta;if(a!==this.Ta){var d=(a+1)*c;this.zg.set(this.zg.subarray(d,d+(this.Ta-a)*c),d-c)}this.Ja=!0},jaa:function(a,c){if(a+c>this.Ta)throw"cc.TextureAtlas.removeQuadsAtIndex(): index + amount out of bounds";this.Ta-=c;if(a!==this.Ta){var d=r.fc.BYTES_PER_ELEMENT,
e=(a+c)*d;this.zg.set(this.zg.subarray(e,e+(this.Ta-a)*d),a*d)}this.Ja=!0},jW:function(){this.Ta=this.Ue.length=0},D1:function(a){this.Ja=a},vW:function(a){if(a==this.nd)return!0;var c=r.fc.BYTES_PER_ELEMENT,d=this.nd;this.Ta=Math.min(this.Ta,a);var e=this.nd=0|a,f=this.Ta;if(null==this.Ue)for(this.Ue=[],this.yg=new ArrayBuffer(c*e),this.zg=new Uint8Array(this.yg),a=0;a<e;a++)this.Ue=new r.fc(null,null,null,null,this.yg,a*c);else{var g,h,k=this.Ue;if(e>d){g=[];h=new ArrayBuffer(c*e);for(a=0;a<f;a++)g[a]=
new r.fc(k[a].Sa,k[a].Ka,k[a].Na,k[a].Ua,h,a*c);for(;a<e;a++)g[a]=new r.fc(null,null,null,null,h,a*c)}else for(f=Math.max(f,e),g=[],h=new ArrayBuffer(c*e),a=0;a<f;a++)g[a]=new r.fc(k[a].Sa,k[a].Ka,k[a].Na,k[a].Ua,h,a*c);this.zg=new Uint8Array(h);this.Ue=g;this.yg=h}null==this.Bd?this.Bd=new Uint16Array(6*e):e>d?(c=new Uint16Array(6*e),c.set(this.Bd,0),this.Bd=c):this.Bd=this.Bd.subarray(0,6*e);this.gH();this.GG();return this.Ja=!0},R7:function(a){this.Ta+=a},C9:function(a,c,d){if(2==arguments.length){d=
c;c=this.Ta-a;if(d+(this.Ta-a)>this.nd)throw"cc.TextureAtlas.moveQuadsFromIndex(): move is out of bounds";if(0===c)return}else{if(d+c>this.Ta)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid newIndex";if(a>=this.Ta)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid oldIndex";if(a==d)return}var e=r.fc.BYTES_PER_ELEMENT,f=a*e,g=c*e,h=this.zg,k=h.subarray(f,f+g),l=d*e,m;d<a?(m=d*e,h.set(h.subarray(m,m+(a-d)*e),m+g)):(m=(a+c)*e,h.set(h.subarray(m,m+(d-a)*e),f));h.set(k,l);this.Ja=!0},W3:function(a,
c){for(var d=c*r.fc.BYTES_PER_ELEMENT,e=new Uint8Array(this.yg,a*r.fc.BYTES_PER_ELEMENT,d),f=0;f<d;f++)e[f]=0},oI:function(a,c){c=c||0;if(0!==a&&this.Fa&&this.Fa.Mg()){var d=r.Y;r.Jg(this.Fa);r.ze(r.Lu);d.bindBuffer(d.ARRAY_BUFFER,this.Rr);this.Ja&&d.bufferData(d.ARRAY_BUFFER,this.yg,d.DYNAMIC_DRAW);d.vertexAttribPointer(r.Pe,3,d.FLOAT,!1,24,0);d.vertexAttribPointer(r.Lq,4,d.UNSIGNED_BYTE,!0,24,12);d.vertexAttribPointer(r.Mq,2,d.FLOAT,!1,24,16);this.Ja&&(this.Ja=!1);d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,
this.Ei[1]);r.GF?d.drawElements(d.TRIANGLE_STRIP,6*a,d.UNSIGNED_SHORT,6*c*this.Bd.BYTES_PER_ELEMENT):d.drawElements(d.TRIANGLES,6*a,d.UNSIGNED_SHORT,6*c*this.Bd.BYTES_PER_ELEMENT);r.fi++}},GS:function(){this.oI(this.Ta,0)},A1:function(){var a=r.Y;this.Ei&&(this.Ei[0]&&a.deleteBuffer(this.Ei[0]),this.Ei[1]&&a.deleteBuffer(this.Ei[1]));this.Rr&&a.deleteBuffer(this.Rr)}});r.ko.create=function(a,c){var d=new r.ko;return d&&d.dj(a,c)?d:null};r.ko.bb=function(a,c){var d=new r.ko;return d&&d.Ma(a,c)?d:null};r.Eq=r.D.extend({ctor:function(){r.D.prototype.ctor.call(this);this.Uk=!0;this.G(0.5,0.5);this.S(r.$.e().Sb)}});r.Eq.create=function(){return new r.Eq};r.kz=0;r.x0=1;
r.Vc=r.D.extend({Wk:!1,Vk:!1,Po:!1,jl:0,qs:r.kz,wm:!1,Yo:0,ctor:function(){r.D.prototype.ctor.call(this);this.Po=this.Vk=this.Wk=!1;this.jl=0;this.qs=r.kz;this.wm=!1;this.Yo=0},cP:function(){this.G(0.5,0.5);this.Uk=!0;var a=r.$.e();this.S(a.Sb)},r:function(){r.D.prototype.r.call(this);this.cP();return!0},Bx:function(){this.qs===r.kz?r.dW(this,this.jl):r.BD(this.jl,!0,this)},y8:function(){return this.wm},Nx:function(a){if(!r.ce)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.wm!=
a&&(this.wm=a,this.Xe&&(a?r.$.e().Df().NH(this,this.Yo):r.$.e().Df().uK(this)))},Fba:function(a){if(!r.ce)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.Yo!==a&&(this.Yo=a,this.wm&&(this.Nx(!1),this.Nx(!0)))},N5:function(){return this.Yo},R8:function(){return this.Wk},Yb:function(a){this.Wk!==a&&(this.Wk=a,this.Xe&&(a?this.Bx():r.NL(this)))},p7:function(){return this.jl},oq:function(a){this.jl!==a&&(this.jl=a,this.Wk&&(this.Yb(!1),this.Yb(!0)))},o7:function(){return this.qs},
dE:function(a){this.qs!==a&&(this.qs=a,this.Wk&&(this.Yb(!1),this.Yb(!0)))},g8:function(){return this.Vk},Haa:function(a){if(!r.zk)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";if(a!==this.Vk&&(this.Vk=a,this.Xe)){var c=r.$.e();a?c.Fp().Dh(this):c.Fp().Dh(null)}},PW:function(a){this.Vk&&r.zk&&r.$.e().Fp().PW(a)},U9:function(){r.log("onAccelerometer event should be handled.")},x8:function(){return this.Po},wba:function(a){if(!r.ao)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";
if(a!==this.Po&&(this.Po=a,this.Xe)){var c=r.$.e();a?c.Yw().lR(this):c.Yw().lW(this)}},Pg:function(){var a=r.$.e();this.Wk&&this.Bx();r.D.prototype.Pg.call(this);this.Vk&&r.zk&&a.Fp().Dh(this);this.Po&&r.ao&&a.Yw().lR(this);this.wm&&r.ce&&a.Df().NH(this,this.Yo)},Ud:function(){var a=r.$.e();this.Wk&&r.NL(this);this.Vk&&r.zk&&a.Fp().Dh(null);this.Po&&r.ao&&a.Yw().lW(this);this.wm&&r.ce&&a.Df().uK(this);r.D.prototype.Ud.call(this)},mi:function(){this.Vk&&r.zk&&r.$.e().Fp().Dh(this);r.D.prototype.mi.call(this)},
lb:function(){r.log("onTouchBegan event should be handled.");return!0},xd:function(){},Hf:function(){},ok:function(){},VJ:function(){},YJ:function(){},XJ:function(){},WJ:function(){},dV:function(){return!1},eV:function(){return!1},ij:function(){return!1},hV:function(){return!1},lV:function(){return!1},mV:function(){return!1},nV:function(){return!1},iV:function(){return!1},jV:function(){return!1},kV:function(){return!1},oV:function(){return!1},fV:function(){return!1},gV:function(){return!1},oD:function(){},
Dl:function(){}});r.Vc.create=function(){var a=new r.Vc;return a&&a.r()?a:null};
r.Hh=r.Vc.extend({mb:!0,$b:0,Ag:0,Kc:null,le:null,fe:!1,zd:!1,ctor:function(){r.Vc.prototype.ctor.call(this);this.mb=!0;this.Ag=this.$b=255;this.Kc=r.Ab();this.le=r.Ab();this.zd=this.fe=!1},r:function(){return r.Vc.prototype.r.call(this)?(this.KK(!1),this.JK(!1),!0):!1},$i:function(){return this.Ag},cT:function(){return this.$b},ra:function(a){this.$b=this.Ag=a;a=255;var c=this.V;c&&c.mb&&c.fe&&(a=c.$b);this.kd(a)},kd:function(a){this.$b=0|this.Ag*a/255;if(this.fe){a=this.u;for(var c=0;c<a.length;c++){var d=
a[c];d&&d.mb&&d.kd(this.$b)}}},DU:function(){return this.fe},KK:function(a){this.fe!==a&&((this.fe=a)?this.nr():this.hA())},nr:function(){var a=255,c=this.V;c&&c.mb&&c.fe&&(a=c.$b);this.kd(a)},hA:function(){this.$b=this.Ag;for(var a=this.u,c=0;c<a.length;c++){var d=a[c];d&&d.mb&&d.kd(255)}},Gd:function(){var a=this.le;return r.l(a.p,a.o,a.i)},Hs:function(){var a=this.Kc;return r.l(a.p,a.o,a.i)},n:function(a){var c=this.Kc,d=this.le;c.p=d.p=a.p;c.o=d.o=a.o;c.i=d.i=a.i;a=(a=this.V)&&a.mb&&a.zd?a.Hs():
r.Ab();this.jd(a)},jd:function(a){var c=this.Kc,d=this.le;c.p=0|d.p*a.p/255;c.o=0|d.o*a.o/255;c.i=0|d.i*a.i/255;if(this.zd)for(a=this.u,d=0;d<a.length;d++){var e=a[d];e&&e.mb&&e.jd(c)}},CU:function(){return this.zd},JK:function(a){this.zd!==a&&((this.zd=a)?this.mr():this.gA())},mr:function(){var a;a=(a=this.V)&&a.mb&&a.zd?a.Hs():r.Ab();this.jd(a)},gA:function(){var a=this.Kc,c=this.le;a.p=c.p;a.o=c.o;a.i=c.i;for(var a=this.u,c=r.Ab(),d=0;d<a.length;d++){var e=a[d];e&&e.mb&&e.jd(c)}},f:function(a,
c,d){r.D.prototype.f.call(this,a,c,d);this.zd&&this.mr();this.fe&&this.nr()},Kf:function(){},wl:function(){return!1}});
r.aa=r.Hh.extend({ia:null,Gs:function(){return this.ia},P2:function(a,c){this.S(a,c)},ZH:function(a){this.S(a,this.xa.wa)},M2:function(a){this.S(this.xa.Ha,a)},Kf:function(){},wl:function(){return!1},n:function(a){r.Hh.prototype.n.call(this,a);this.Dd()},ra:function(a){r.Hh.prototype.ra.call(this,a);this.Dd()},Qo:!1,kH:null,AB:null,TB:null,Vz:null,CB:null,BB:null,Lh:function(){r.Hh.prototype.ctor.call(this);this.ia=new r.am(r.Me,r.Le)},Mh:function(){r.Hh.prototype.ctor.call(this);this.ia=new r.am(r.Me,
r.Le);this.CB=new ArrayBuffer(32);this.BB=new ArrayBuffer(64);var a=this.CB,c=this.BB,d=r.Db.BYTES_PER_ELEMENT,e=r.ae.BYTES_PER_ELEMENT;this.kH=[new r.Db(0,0,a,0),new r.Db(0,0,a,d),new r.Db(0,0,a,2*d),new r.Db(0,0,a,3*d)];this.AB=[new r.ae(0,0,0,1,c,0),new r.ae(0,0,0,1,c,e),new r.ae(0,0,0,1,c,2*e),new r.ae(0,0,0,1,c,3*e)];this.TB=r.Y.createBuffer();this.Vz=r.Y.createBuffer()},Jl:function(a,c){this.ia=1==arguments.length?a:{src:a,Jb:c};r.Id===r.mg&&(this.Qo=this.ia&&1==this.ia.src&&771==this.ia.Jb)},
r:function(a,c,d){if(!r.Vc.prototype.r.call(this))return!1;r.Id!==r.mg&&this.Rg(r.Jh.e().oi(r.uN));var e=r.$.e().Sb;a=a||new r.Qb(0,0,0,255);c=c||e.width;d=d||e.height;e=this.Kc;e.p=a.p;e.o=a.o;e.i=a.i;e=this.le;e.p=a.p;e.o=a.o;e.i=a.i;this.Ag=this.$b=a.J;this.S(c,d);this.Dd();return!0},S:null,nQ:function(a,c){var d=this.kH;2===arguments.length?(d[1].x=a,d[2].y=c,d[3].x=a,d[3].y=c,this.bG(),r.Vc.prototype.S.call(this,a,c)):(d[1].x=a.width,d[2].y=a.height,d[3].x=a.width,d[3].y=a.height,this.bG(),r.Vc.prototype.S.call(this,
a))},Dd:null,YQ:function(){},ZQ:function(){for(var a=this.Kc,c=this.$b,d=this.AB,e=0;4>e;e++)d[e].p=a.p/255,d[e].o=a.o/255,d[e].i=a.i/255,d[e].J=c/255;this.aG()},jd:function(a){r.Hh.prototype.jd.call(this,a);this.Dd()},kd:function(a){r.Hh.prototype.kd.call(this,a);this.Dd()},bG:function(){var a=r.Y;a.bindBuffer(a.ARRAY_BUFFER,this.TB);a.bufferData(a.ARRAY_BUFFER,this.CB,a.STATIC_DRAW)},aG:function(){var a=r.Y;a.bindBuffer(a.ARRAY_BUFFER,this.Vz);a.bufferData(a.ARRAY_BUFFER,this.BB,a.STATIC_DRAW)},
Va:null,qm:function(a){a=a||r.Y;var c=this.c(),d=r.va.e(),e=this.Kc;a.fillStyle="rgba("+(0|e.p)+","+(0|e.o)+","+(0|e.i)+","+this.$b/255+")";a.fillRect(0,0,c.width*d.ya,-c.height*d.Ca);r.fi++},vg:function(a){a=a||r.Y;r.Ty(this);r.ze(r.ah|r.ON);a.bindBuffer(a.ARRAY_BUFFER,this.TB);a.vertexAttribPointer(r.Pe,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Vz);a.vertexAttribPointer(r.Lq,4,a.FLOAT,!1,0,0);r.jk(this.ia.src,this.ia.Jb);a.drawArrays(a.TRIANGLE_STRIP,0,4)}});
r.Ga.Tc?(r.aa.prototype.ctor=r.aa.prototype.Mh,r.aa.prototype.S=r.aa.prototype.nQ,r.aa.prototype.Dd=r.aa.prototype.ZQ,r.aa.prototype.Va=r.aa.prototype.vg):(r.aa.prototype.ctor=r.aa.prototype.Lh,r.aa.prototype.S=r.Hh.prototype.S,r.aa.prototype.Dd=r.aa.prototype.YQ,r.aa.prototype.Va=r.aa.prototype.qm);r.aa.create=function(a,c,d){var e=new r.aa;switch(arguments.length){case 0:e.r();break;case 1:e.r(a);break;case 3:e.r(a,c,d);break;default:e.r()}return e};
r.dF=r.aa.extend({lH:null,Jo:null,gp:null,Ko:null,im:null,ev:!1,yr:null,xr:null,ctor:function(){r.aa.prototype.ctor.call(this);this.lH=new r.Gc(0,0,0);this.Jo=new r.Gc(0,0,0);this.im=r.a(0,-1);this.Ko=this.gp=255;this.yr=r.a(0,0);this.xr=r.a(0,0)},S:function(a,c){2===arguments.length?r.aa.prototype.S.call(this,a,c):r.aa.prototype.S.call(this,a);this.Dd()},T6:function(){return this.le},oca:function(a){this.n(a)},eba:function(a){this.Jo=a;this.Dd()},X4:function(){return this.Jo},pca:function(a){this.gp=
a;this.Dd()},U6:function(){return this.gp},fba:function(a){this.Ko=a;this.Dd()},Y4:function(){return this.Ko},Hca:function(a){this.im.x=a.x;this.im.y=a.y;this.Dd()},t7:function(){return r.a(this.im.x,this.im.y)},l8:function(){return this.ev},Vaa:function(a){this.ev=a;this.Dd()},r:function(a,c,d){a=a||r.gC(0,0,0,255);c=c||r.gC(0,0,0,255);d=d||r.a(0,-1);var e=this.lH,f=this.Jo;e.p=a.p;e.o=a.o;e.i=a.i;this.gp=a.J;f.p=c.p;f.o=c.o;f.i=c.i;this.Ko=c.J;this.im=d;this.ev=!0;r.aa.prototype.r.call(this,r.h(a.p,
a.o,a.i,255));return!0},Va:function(a){if(r.Id===r.Fk)r.aa.prototype.Va.call(this,a);else{a=a||r.Y;this.Qo&&(a.globalCompositeOperation="lighter");a.save();var c=r.va.e(),d=this.$b/255,e=this.c().width*c.ya,c=this.c().height*c.Ca,f=a.createLinearGradient(this.yr.x,this.yr.y,this.xr.x,this.xr.y),g=this.Kc,h=this.Jo;f.addColorStop(0,"rgba("+Math.round(g.p)+","+Math.round(g.o)+","+Math.round(g.i)+","+(this.gp/255*d).toFixed(4)+")");f.addColorStop(1,"rgba("+Math.round(h.p)+","+Math.round(h.o)+","+Math.round(h.i)+
","+(this.Ko/255*d).toFixed(4)+")");a.fillStyle=f;a.fillRect(0,0,e,-c);0!=this.eQ&&a.rotate(this.B1);a.restore()}},Dd:function(){var a=this.im;if(r.Id===r.mg){var c=0.5*this.c().width,d=0.5*this.c().height;this.yr.x=c*-a.x+c;this.yr.y=d*a.y-d;this.xr.x=c*a.x+c;this.xr.y=d*-a.y-d}else if(d=r.qD(a),0!==d){c=Math.sqrt(2);a=r.a(a.x/d,a.y/d);this.ev&&(a=r.jj(a,1/(Math.abs(a.x)+Math.abs(a.y))*c));var e=this.$b/255,f=this.Kc,g=this.Jo,d=f.p/255,h=f.o/255,f=f.i/255,k=this.gp*e/255,l=g.p/255,m=g.o/255,g=g.i/
255,e=this.Ko*e/255,n=this.AB,p=n[0],q=n[1],u=n[2],n=n[3];p.p=l+(c+a.x+a.y)/(2*c)*(d-l);p.o=m+(c+a.x+a.y)/(2*c)*(h-m);p.i=g+(c+a.x+a.y)/(2*c)*(f-g);p.J=e+(c+a.x+a.y)/(2*c)*(k-e);q.p=l+(c-a.x+a.y)/(2*c)*(d-l);q.o=m+(c-a.x+a.y)/(2*c)*(h-m);q.i=g+(c-a.x+a.y)/(2*c)*(f-g);q.J=e+(c-a.x+a.y)/(2*c)*(k-e);u.p=l+(c+a.x-a.y)/(2*c)*(d-l);u.o=m+(c+a.x-a.y)/(2*c)*(h-m);u.i=g+(c+a.x-a.y)/(2*c)*(f-g);u.J=e+(c+a.x-a.y)/(2*c)*(k-e);n.p=l+(c-a.x-a.y)/(2*c)*(d-l);n.o=m+(c-a.x-a.y)/(2*c)*(h-m);n.i=g+(c-a.x-a.y)/(2*c)*
(f-g);n.J=e+(c-a.x-a.y)/(2*c)*(k-e);this.aG()}}});r.dF.create=function(a,c,d){var e=new r.dF;switch(arguments.length){case 2:if(e&&e.r(a,c))return e;break;case 3:if(e&&e.r(a,c,d))return e;break;case 0:if(e&&e.r())return e;break;default:throw"Arguments error ";}return null};
r.eF=r.Vc.extend({Pk:0,fh:null,W7:function(a){this.fh=[];this.fh.push(a);this.Pk=0;this.f(a);return!0},nU:function(a){this.fh=a;this.Pk=0;this.f(this.fh[this.Pk]);return!0},oda:function(a){a>=this.fh.length?r.log("cc.LayerMultiplex.switchTo():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.fh[this.Pk],!0),this.Pk=a,this.f(this.fh[a]))},pda:function(a){a>=this.fh.length?r.log("cc.LayerMultiplex.switchToAndReleaseMe():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.fh[this.Pk],
!0),this.fh[this.Pk]=null,this.Pk=a,this.f(this.fh[a]))},V1:function(a){a?this.fh.push(a):r.log("cc.Layer.addLayer(): layer should be non-null")}});r.eF.create=function(){0<arguments.length&&null==arguments[arguments.length-1]&&r.log("parameters should not be ending with null in Javascript");var a=new r.eF;return a.nU(arguments)?a:null};r.ez=-1;
r.Ep=function(a){function c(){var c=r.Ep,e=a.width,h=a.height;d[0].width=e;d[0].height=h;d[1].width=e;d[1].height=h;d[2].width=e;d[2].height=h;d[3].width=e;d[3].height=h;c.canvas.width=e;c.canvas.height=h;var k=c.canvas.getContext("2d");k.drawImage(a,0,0);c.qE.width=e;c.qE.height=h;for(var k=k.getImageData(0,0,e,h).data,l=0;4>l;l++){var m=d[l].getContext("2d");m.getImageData(0,0,e,h).data;c.JL.drawImage(a,0,0);for(var n=c.JL.getImageData(0,0,e,h),p=n.data,q=0;q<k.length;q+=4)p[q]=0===l?k[q]:0,p[q+
1]=1===l?k[q+1]:0,p[q+2]=2===l?k[q+2]:0,p[q+3]=k[q+3];m.putImageData(n,0,0)}a.onload=null}if(a.hasOwnProperty("channelCache"))return a.VR;var d=[document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas")];try{c()}catch(e){a.onload=c}return a.VR=d};r.Ep.canvas=document.createElement("canvas");r.Ep.qE=document.createElement("canvas");r.Ep.JL=r.Ep.qE.getContext("2d");
r.f4=function(a,c,d){d||(d=r.rect(0,0,a.width,a.height),d=r.Cq(d));c=c instanceof r.ae?r.h(255*c.p,255*c.o,255*c.i,255*c.J):r.h(c.p,c.o,c.i,50);var e=document.createElement("canvas"),f=e.getContext("2d");e.width!=d.width&&(e.width=d.width);e.height!=d.height&&(e.height=d.height);f.save();f.drawImage(a,d.x,d.y,d.width,d.height,0,0,d.width,d.height);f.globalCompositeOperation="source-in";f.globalAlpha=c.J/255;f.fillStyle="rgb("+c.p+","+c.o+","+c.i+")";f.fillRect(0,0,d.width,d.height);f.restore();return e};
r.zC=function(a,c,d,e,f){e||(e=r.rect(0,0,a.width,a.height));a=null==d.J?r.Hw(d.p/255,d.o/255,d.i/255,1):d;d=Math.min(e.width,c[0].width);var g=Math.min(e.height,c[0].height),h;f?(h=f.getContext("2d"),h.clearRect(0,0,d,g)):(f=document.createElement("canvas"),f.width=d,f.height=g,h=f.getContext("2d"));h.save();h.globalCompositeOperation="lighter";var k=h.globalAlpha;0<a.p&&(h.globalAlpha=a.p*k,h.drawImage(c[0],e.x,e.y,d,g,0,0,d,g));0<a.o&&(h.globalAlpha=a.o*k,h.drawImage(c[1],e.x,e.y,d,g,0,0,d,g));
0<a.i&&(h.globalAlpha=a.i*k,h.drawImage(c[2],e.x,e.y,d,g,0,0,d,g));1>a.p+a.o+a.i&&(h.globalAlpha=k,h.drawImage(c[3],e.x,e.y,d,g,0,0,d,g));h.restore();return f};r.eI=function(a,c){if(!a)return null;if(!c)return a;var d=document.createElement("canvas");d.width=c.width;d.height=c.height;var e=d.getContext("2d");e.translate(d.width/2,d.height/2);e.rotate(-1.5707963267948966);e.drawImage(a,c.x,c.y,c.height,c.width,-c.height/2,-c.width/2,c.height,c.width);return d};
r.F0=function(a,c,d,e,f,g){this.scale=c;this.rotation=d;this.Pl=e;this.visible=g};r.og=function(a){return 0|a};r.xN&&(r.og=function(a){return a});
r.A=r.Bb.extend({mb:!0,Ra:null,ad:0,nb:null,Ja:!1,Qh:null,Li:null,dl:!1,Tm:null,ia:null,Fa:null,Aa:null,bd:!1,ic:null,Yh:null,qc:!1,oc:!1,pc:!1,rb:!1,Pd:null,NG:null,LL:function(){return this.rb},Yf:function(a,c){this.Pd.push({ik:a,di:c})},ee:function(){for(var a=this.Pd,c=0,d=a.length;c<d;c++){var e=a[c];e.ik.call(e.di,this)}a.length=0},vJ:function(){return this.Ja},Qg:function(a){this.Ja=a},P8:function(){return this.bd},m4:function(){return this.ad},Ie:function(a){this.ad=a},IC:function(){return r.rect(this.Aa.x,
this.Aa.y,this.Aa.width,this.Aa.height)},RI:function(){return this.Ra},nq:function(a){this.Ra=a},S6:function(){return this.nb},nca:function(a){this.nb=a},Z5:function(){return this.ic},Gs:function(){return this.ia},Fe:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrame(): spriteFrame should be non-null";a.rb||(this.rb=!1,a.Yf(this.yB,this));var c=this.Ma(a.da(),a.ye());this.iq(a);return c},yB:null,NQ:function(a){this.Xa();this.Ub(a.ye(),a.rd,a.qd);this.ee()},MQ:function(a){this.Xa();this.Ub(a.ye(),
a.rd,a.qd);a=this.Gd();255===a.p&&255===a.o&&255===a.i||this.av();this.ee()},mJ:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";a=r.qg.e().xh(a);return this.Fe(a)},Uda:function(a){this.Ra=a.Ra;this.nb=a},fE:function(a){this.Aa.x=a.x;this.Aa.y=a.y;this.Aa.width=a.width;this.Aa.height=a.height},Wd:function(){if(this.me){for(var a,c,d=this.u,e,f=1;f<d.length;f++){c=d[f];a=f-1;for(e=d[a];0<=a&&(c.hb<e.hb||c.hb==e.hb&&c.Sf<e.Sf);)d[a+1]=e,a-=1,e=d[a];d[a+
1]=c}this.nb&&this.sg(d,r.D.Nf.Wd);this.me=!1}},et:function(a,c){if(!a)throw"cc.Sprite.reorderChild(): child should be non-null";-1===this.u.indexOf(a)?r.log("cc.Sprite.reorderChild(): this child is not in children list"):c!==a.hb&&(this.nb&&!this.me&&(this.tB(),this.nb.vK(!0)),r.D.prototype.et.call(this,a,c))},removeChild:function(a,c){this.nb&&this.nb.Cn(a);r.D.prototype.removeChild.call(this,a,c)},ac:function(a){var c=this.u,d=this.nb;if(d&&null!=c)for(var e=0,f=c.length;e<f;e++)d.Cn(c[e]);r.D.prototype.ac.call(this,
a);this.Li=!1},PK:function(a){this.Qh=a;this.Qg(a);a=this.u;if(null!=a)for(var c=0;c<a.length;c++)a[c]instanceof r.A&&a[c].PK(!0)},$g:function(){this.nb&&!this.Qh&&(this.Ja=this.Qh=!0,this.Li&&this.PK(!0))},m:function(a,c){2<=arguments.length?r.D.prototype.m.call(this,a,arguments[1]):r.D.prototype.m.call(this,a);this.$g()},Sx:function(a){r.D.prototype.Sx.call(this,a);this.$g()},Tx:function(a){r.D.prototype.Tx.call(this,a);this.$g()},Ux:function(a){r.D.prototype.Ux.call(this,a);this.$g()},Wx:function(a){r.D.prototype.Wx.call(this,
a);this.$g()},Xx:function(a){r.D.prototype.Xx.call(this,a);this.$g()},lq:function(a){r.D.prototype.lq.call(this,a);this.$g()},Jn:function(a){r.D.prototype.Jn.call(this,a);this.$g()},uk:function(a,c){r.D.prototype.uk.call(this,a,c);this.$g()},oL:function(a){r.D.prototype.oL.call(this,a);this.$g()},G:function(a,c){2===arguments.length?r.D.prototype.G.call(this,a,c):r.D.prototype.G.call(this,a);this.$g()},B:function(a){r.D.prototype.B.call(this,a);this.$g()},cj:function(a){this.nb?r.log("cc.Sprite.ignoreAnchorPointForPosition(): it is invalid in cc.Sprite when using SpriteBatchNode"):
r.D.prototype.cj.call(this,a)},kX:function(a){this.oc!=a&&(this.oc=a,this.Ub(this.Aa,this.bd,this.xa),this.Xa())},lX:function(a){this.pc!=a&&(this.pc=a,this.Ub(this.Aa,this.bd,this.xa),this.Xa())},s8:function(){return this.oc},t8:function(){return this.pc},Kf:null,vQ:function(a){this.qc!==a&&(this.qc=a,this.wt())},uQ:function(a){this.qc!==a&&(this.qc=a,this.Xa())},wl:function(){return this.qc},kd:null,bR:function(a){r.Bb.prototype.kd.call(this,a);this.wt()},xH:function(a){r.Bb.prototype.kd.call(this,
a);this.Hm()},bba:function(a,c){if(!a)throw"cc.Sprite.setDisplayFrameWithAnimationName(): animationName must be non-null";var d=r.Yl.e().EI(a);d?(d=d.ie[c])?this.iq(d.xh()):r.log("cc.Sprite.setDisplayFrameWithAnimationName(): Invalid frame index"):r.log("cc.Sprite.setDisplayFrameWithAnimationName(): Frame not found")},p4:function(){return this.nb},tB:function(){if(!this.me){this.me=!0;for(var a=this.V;a&&a!=this.nb;)a.tB(),a=a.getParent()}},da:function(){return this.Fa},Mb:null,Zv:null,xf:!1,dv:!1,
Qo:!1,wg:null,mp:null,jA:null,ctor:null,Mh:function(a){r.Bb.prototype.ctor.call(this);this.dl=!1;this.ic=r.Cd();this.Yh=r.Cd();this.ia={src:r.Me,Jb:r.Le};this.Aa=r.rect(0,0,0,0);this.Mb=new r.fc;this.Zv=r.Y.createBuffer();this.rb=this.xf=!0;this.Pd=[];if(a)if("string"===typeof a)a=r.qg.e().xh(a),this.Fe(a);else if("object"===typeof a)if(a instanceof r.Nd)this.Fe(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new r.ec;c.Gf(a);c.Ee();this.Ma(c)}else a instanceof r.ec&&
this.Ma(a)},Lh:function(a){r.Bb.prototype.ctor.call(this);this.dl=!1;this.ic=r.Cd();this.Yh=r.Cd();this.ia={src:r.Me,Jb:r.Le};this.Aa=r.rect(0,0,0,0);this.NG=!1;this.rb=!0;this.Pd=[];this.mp={x:0,y:0,width:0,height:0,At:!1};this.jA=r.size(0,0);if(a)if("string"===typeof a)a=r.qg.e().xh(a),this.Fe(a);else if("object"===typeof a)if(a instanceof r.Nd)this.Fe(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new r.ec;c.Gf(a);c.Ee();this.Ma(c)}else a instanceof r.ec&&this.Ma(a)},
u6:function(){return this.Mb},Jl:null,jQ:function(a,c){var d=this.ia;1===arguments.length?(d.src=a.src,d.Jb=a.Jb):(d.src=a,d.Jb=c)},iQ:function(a,c){var d=this.ia;1===arguments.length?(d.src=a.src,d.Jb=a.Jb):(d.src=a,d.Jb=c);this.Qo=d&&(770==d.src&&1==d.Jb||1==d.src&&1==d.Jb)},r:null,DA:function(){if(0<arguments.length)return this.dj(arguments[0],arguments[1]);r.Bb.prototype.r.call(this);this.Ja=this.Qh=!1;this.qc=!0;this.ia.src=r.Me;this.ia.Jb=r.Le;this.ga(null);this.rb=!0;this.oc=this.pc=!1;this.G(0.5,
0.5);this.ic.H=0;this.ic.M=0;this.Li=!1;var a={p:255,o:255,i:255,J:255};this.Mb.Ka.N=a;this.Mb.Ua.N=a;this.Mb.Sa.N=a;this.Mb.Na.N=a;this.xf=!0;this.Ub(r.md(),!1,r.fm());return!0},CA:function(){if(0<arguments.length)return this.dj(arguments[0],arguments[1]);r.Bb.prototype.r.call(this);this.Ja=this.Qh=!1;this.qc=!0;this.ia.src=r.Me;this.ia.Jb=r.Le;this.ga(null);this.rb=!0;this.oc=this.pc=!1;this.G(0.5,0.5);this.ic.H=0;this.ic.M=0;this.Li=!1;this.Ub(r.md(),!1,r.fm());return!0},dj:function(a,c){if(!a)throw"cc.Sprite.initWithFile(): filename should be non-null";
var d=r.ea.e().hy(a);if(!d)d=r.ea.e().pa(a);else if(!c){var e=d.c();c=r.rect(0,0,e.width,e.height)}return this.Ma(d,c)},Ma:null,Cr:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";d=d||!1;if(!r.Bb.prototype.r.call(this))return!1;this.nb=null;this.Ja=this.Qh=!1;this.qc=!0;this.ia.src=r.Me;this.ia.Jb=r.Le;this.oc=this.pc=!1;this.G(0.5,0.5);this.ic.H=0;this.ic.M=0;this.Li=!1;var e=new r.Qb(255,255,255,255),f=this.Mb;f.Ka.N=e;f.Ua.N=e;f.Sa.N=e;f.Na.N=e;
this.rb=e=a.Mg();if(!e)return this.bd=d||!1,c&&(e=this.Aa,e.x=c.x,e.y=c.y,e.width=c.width,e.height=c.height),a.Yf(this.qw,this),!0;c||(e=a.c(),c=r.rect(0,0,e.width,e.height));this.ga(a);this.Ub(c,d,c.eb);this.Je(null);return this.xf=!0},Br:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";d=d||!1;if(!r.Bb.prototype.r.call(this))return!1;this.nb=null;this.Ja=this.Qh=!1;this.qc=!0;this.ia.src=r.Me;this.ia.Jb=r.Le;this.oc=this.pc=!1;this.G(0.5,0.5);this.ic.H=
0;this.ic.M=0;this.Li=!1;var e=a.Mg();this.rb=e;if(!e)return this.bd=d||!1,c&&(this.Aa.x=c.x,this.Aa.y=c.y,this.Aa.width=c.width,this.Aa.height=c.height),a.Yf(this.qw,this),!0;c||(e=a.c(),c=r.rect(0,0,e.width,e.height));this.wg=a;this.ga(a);this.Ub(c,d,c.eb);this.Je(null);return!0},qw:null,SQ:function(a){if(!this.rb){this.rb=!0;var c=this.Aa;if(!c)c=a.c(),c=r.rect(0,0,c.width,c.height);else if(r.Sr(c)){var d=a.c();c.width=d.width;c.height=d.height}this.ga(a);this.Ub(c,this.bd,c.eb);this.Je(null);
this.xf=!0;this.ee()}},RQ:function(a){if(!this.rb){this.rb=!0;var c=this.Aa;if(!c)c=a.c(),c=r.rect(0,0,c.width,c.height);else if(r.Sr(c)){var d=a.c();c.width=d.width;c.height=d.height}this.wg=a;this.ga(a);this.Ub(c,this.bd,c.eb);this.Je(null);this.ee()}},Ub:null,eH:function(a,c,d){this.bd=c||!1;d=d||a.eb;this.S(d);this.fE(a);this.dH(a);a=this.Yh;this.oc&&(a.H=-a.H);this.pc&&(a.M=-a.M);var e=this.Aa;this.ic.H=a.H+(this.xa.Ha-e.width)/2;this.ic.M=a.M+(this.xa.wa-e.height)/2;if(this.nb)this.Ja=!0;else{a=
0+this.ic.H;c=0+this.ic.M;d=a+e.width;var e=c+e.height,f=this.Mb;f.Ka.t={x:a,y:c,z:0};f.Ua.t={x:d,y:c,z:0};f.Sa.t={x:a,y:e,z:0};f.Na.t={x:d,y:e,z:0};this.xf=!0}},uB:function(a,c,d){this.bd=c||!1;d=d||a.eb;this.S(d);this.fE(a);c=this.mp;d=r.Ld();c.x=0|a.x*d;c.y=0|a.y*d;c.width=0|a.width*d;c.height=0|a.height*d;c.At=!(0===c.width||0===c.height);a=this.Yh;this.oc&&(a.H=-a.H);this.pc&&(a.M=-a.M);this.ic.H=a.H+(this.xa.Ha-this.Aa.width)/2;this.ic.M=a.M+(this.xa.wa-this.Aa.height)/2;this.nb&&(this.Ja=!0)},
kg:null,jR:function(){if(this.Ja){var a=this.Mb,c=this.V;if(!this.la||c&&c!=this.nb&&c.dl)a.Ua.t={x:0,y:0,z:0},a.Sa.t={x:0,y:0,z:0},a.Na.t={x:0,y:0,z:0},a.Ka.t={x:0,y:0,z:0},this.dl=!0;else{this.dl=!1;var d=this.Tm=c&&c!=this.nb?r.Xl(this.dg(),c.Tm):this.dg(),e=this.Aa.eb,c=this.ic.H,f=this.ic.M,g=c+e.width,e=f+e.height,h=d.Za,k=d.$a,l=d.J,m=d.i,n=d.La,d=-d.Da,p=this.Cw;a.Ka.t={x:r.og(c*l-f*d+h),y:r.og(c*m+f*n+k),z:p};a.Ua.t={x:r.og(g*l-f*d+h),y:r.og(g*m+f*n+k),z:p};a.Sa.t={x:r.og(c*l-e*d+h),y:r.og(c*
m+e*n+k),z:p};a.Na.t={x:r.og(g*l-e*d+h),y:r.og(g*m+e*n+k),z:p}}this.Ra.ny(a,this.ad);this.Qh=!1;this.Qg(!1)}this.Li&&this.sg(this.u,r.D.Nf.kg);r.Dk&&(a=[r.a(this.Mb.Ka.t.x,this.Mb.Ka.t.y),r.a(this.Mb.Ua.t.x,this.Mb.Ua.t.y),r.a(this.Mb.Na.t.x,this.Mb.Na.t.y),r.a(this.Mb.Sa.t.x,this.Mb.Sa.t.y)],r.ag.qe(a,4,!0))},iR:function(){if(this.Ja){var a=this.V;!this.la||a&&a!=this.nb&&a.dl?this.dl=!0:(this.dl=!1,this.Tm=a&&a!=this.nb?r.Xl(this.dg(),a.Tm):this.dg());this.Ja=this.Qh=!1}this.Li&&this.sg(this.u,
r.D.Nf.kg)},f:null,Cz:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.hb);null==d&&(d=a.td);if(this.nb){if(!(a instanceof r.A)){r.log("cc.Sprite.addChild(): cc.Sprite only supports cc.Sprites as children when using cc.SpriteBatchNode");return}a.da().ai!==this.Ra.da().ai&&r.log("cc.Sprite.addChild(): cc.Sprite only supports a sprite using same texture as children when using cc.SpriteBatchNode");this.nb.appendChild(a);this.me||this.tB()}r.D.prototype.f.call(this,
a,c,d);this.Li=!0},Bz:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.hb);null==d&&(d=a.td);r.D.prototype.f.call(this,a,c,d);this.Li=!0},wt:function(){var a=this.Kc,c=this.$b,a={p:a.p,o:a.o,i:a.i,J:c};this.qc&&(a.p*=c/255,a.o*=c/255,a.i*=c/255);c=this.Mb;c.Ka.N=a;c.Ua.N=a;c.Sa.N=a;c.Na.N=a;this.nb&&(this.ad!=r.ez?this.Ra.ny(c,this.ad):this.Ja=!0);this.xf=!0},ra:null,sB:function(a){r.Bb.prototype.ra.call(this,a);this.wt()},Xr:function(a){r.Bb.prototype.ra.call(this,
a);this.Hm()},n:null,pB:function(a){r.Bb.prototype.n.call(this,a);this.wt()},Vr:function(a){var c=this.Gd();if(c.p!==a.p||c.o!==a.o||c.i!==a.i)r.Bb.prototype.n.call(this,a),this.av(),this.Hm()},jd:null,aR:function(a){r.Bb.prototype.jd.call(this,a);this.wt()},MB:function(a){var c=this.Gd();r.Bb.prototype.jd.call(this,a);a=this.Kc;if(c.p!==a.p||c.o!==a.o||c.i!==a.i)this.av(),this.Hm()},iq:null,pQ:function(a){this.Xa();var c=a.Lb;this.Yh.H=c.x;this.Yh.M=c.y;c=a.da();a.rb||(this.rb=!1,a.Yf(function(a){this.rb=
!0;var c=a.da();c!=this.Fa&&this.ga(c);this.Ub(a.ye(),a.rd,a.qd);this.ee()},this));c!=this.Fa&&this.ga(c);this.bd=a.rd;this.Ub(a.ye(),this.bd,a.qd)},oQ:function(a){this.Xa();var c=a.Lb;this.Yh.H=c.x;this.Yh.M=c.y;this.bd=a.rd;var c=a.da(),d=a.rb;d||(this.rb=!1,a.Yf(function(a){this.rb=!0;var c=a.da();c!=this.Fa&&this.ga(c);this.Ub(a.ye(),a.rd,a.qd);this.ee()},this));c!=this.Fa&&this.ga(c);this.bd&&(this.wg=c);this.Ub(a.ye(),this.bd,a.qd);this.dv=!1;d&&(a=this.Gd(),255===a.p&&255===a.o&&255===a.i||
this.av())},xJ:null,qP:function(a){return r.oK(a.ye(),this.Aa)&&a.da().getName()==this.Fa.getName()&&r.dK(a.Lb,this.Yh)},pP:function(a){return a.da()!=this.Fa?!1:r.oK(a.ye(),this.Aa)},BS:function(){return r.Nd.bb(this.Fa,r.co(this.Aa),this.bd,r.lN(this.Yh),r.dz(this.xa))},Je:null,hQ:function(a){if(this.nb=a)this.Tm={J:1,i:0,Da:0,La:1,Za:0,$a:0},this.nq(this.nb.Ra);else{this.ad=r.ez;this.nq(null);this.Qh=!1;this.Qg(!1);a=this.ic.H;var c=this.ic.M,d=a+this.Aa.width,e=c+this.Aa.height,f=this.Mb;f.Ka.t=
{x:a,y:c,z:0};f.Ua.t={x:d,y:c,z:0};f.Sa.t={x:a,y:e,z:0};f.Na.t={x:d,y:e,z:0};this.xf=!0}},gQ:function(a){(this.nb=a)?(this.Tm={J:1,i:0,Da:0,La:1,Za:0,$a:0},this.nq(this.nb.Ra)):(this.ad=r.ez,this.nq(null),this.Qh=!1,this.Qg(!1))},ga:null,Zr:function(a){if(a&&!(a instanceof r.ec))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.nb&&this.nb.da()!=a?r.log("cc.Sprite.setTexture(): Batched sprites should use the same texture as the batchnode"):(a?this.Rg(r.Jh.e().oi(r.cz)):
this.Rg(r.Jh.e().oi(r.uN)),this.nb||this.Fa==a||(this.Fa=a,this.Um()))},Yr:function(a){if(a&&!(a instanceof r.ec))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.Fa!=a&&(a&&a.Lc instanceof HTMLImageElement&&(this.wg=a),this.Fa=a)},Um:function(){this.nb?r.log("cc.Sprite._updateBlendFunc(): _updateBlendFunc doesn't work when the sprite is rendered using a cc.CCSpriteBatchNode"):this.Fa&&this.Fa.Ps()?(this.ia.src=r.Me,this.ia.Jb=r.Le,this.Kf(!0)):(this.ia.src=770,
this.ia.Jb=771,this.Kf(!1))},av:function(){var a,c=this.Fa,d=this.mp;c&&d.At&&this.wg&&(a=c.Lc)&&(c=r.ea.e().SI(this.wg.Lc))&&(this.dv=!0,a instanceof HTMLCanvasElement&&!this.bd&&!this.NG?r.zC(a,c,this.Kc,d,a):(a=r.zC(a,c,this.Kc,d),c=new r.ec,c.Gf(a),c.Ee(),this.ga(c)))},dH:function(a){a=r.co(a);var c=this.nb?this.Ra.da():this.Fa;if(c){var d=c.Kp(),e=c.Jp(),f,g=this.Mb;this.bd?(r.du?(c=(2*a.x+1)/(2*d),d=c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/
d,f=a.y/e,a=(a.y+a.width)/e),this.oc&&(e=f,f=a,a=e),this.pc&&(e=c,c=d,d=e),g.Ka.C.Pa=c,g.Ka.C.oa=f,g.Ua.C.Pa=c,g.Ua.C.oa=a,g.Sa.C.Pa=d,g.Sa.C.oa=f,g.Na.C.Pa=d,g.Na.C.oa=a):(r.du?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+a.height)/e),this.oc&&(e=c,c=d,d=e),this.pc&&(e=f,f=a,a=e),g.Ka.C.Pa=c,g.Ka.C.oa=a,g.Ua.C.Pa=d,g.Ua.C.oa=a,g.Sa.C.Pa=c,g.Sa.C.oa=f,g.Na.C.Pa=d,g.Na.C.oa=f);this.xf=!0}},Va:null,vg:function(){if(this.rb){var a=
r.Y,c=this.Fa;c?c.vc&&(this.Mc.pf(),this.Mc.Sg(),r.jk(this.ia.src,this.ia.Jb),r.G7(0,c),r.ze(r.Lu),a.bindBuffer(a.ARRAY_BUFFER,this.Zv),this.xf&&(a.bufferData(a.ARRAY_BUFFER,this.Mb.bC,a.DYNAMIC_DRAW),this.xf=!1),a.vertexAttribPointer(0,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(1,4,a.UNSIGNED_BYTE,!0,24,12),a.vertexAttribPointer(2,2,a.FLOAT,!1,24,16),a.drawArrays(a.TRIANGLE_STRIP,0,4)):(this.Mc.pf(),this.Mc.Sg(),r.jk(this.ia.src,this.ia.Jb),r.Jg(null),r.ze(r.ah|r.ON),a.bindBuffer(a.ARRAY_BUFFER,this.Zv),
this.xf&&(r.Y.bufferData(r.Y.ARRAY_BUFFER,this.Mb.bC,r.Y.STATIC_DRAW),this.xf=!1),a.vertexAttribPointer(r.Pe,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(r.Lq,4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));r.fi++;0!==r.Dk&&(1===r.Dk?(a=this.Mb,a=[r.a(a.Sa.t.x,a.Sa.t.y),r.a(a.Ka.t.x,a.Ka.t.y),r.a(a.Ua.t.x,a.Ua.t.y),r.a(a.Na.t.x,a.Na.t.y)],r.ag.qe(a,4,!0)):2===r.Dk&&(a=this.IC().eb,c=this.ic,a=[r.a(c.x,c.y),r.a(c.x+a.width,c.y),r.a(c.x+a.width,c.y+a.height),r.a(c.x,c.y+a.height)],r.ag.qe(a,
4,!0)))}},qm:function(a){if(this.rb){a=a||r.Y;this.Qo&&(a.globalCompositeOperation="lighter");var c=r.va.e().ya,d=r.va.e().Ca;a.globalAlpha=this.$b/255;var e=this.Aa,f=this.xa,g=this.ic,h=this.jA,k=0|g.H,l=-g.M-e.height,m=this.mp;h.width=e.width*c;h.height=e.height*d;if(this.oc||this.pc)a.save(),this.oc&&(k=-g.H-e.width,a.scale(-1,1)),this.pc&&(l=g.M,a.scale(1,-1));k*=c;l*=d;this.Fa&&m.At?(f=this.Fa.Lc,this.dv?a.drawImage(f,0,0,m.width,m.height,k,l,h.width,h.height):a.drawImage(f,m.x,m.y,m.width,
m.height,k,l,h.width,h.height)):0!==f.Ha&&(h=this.Gd(),a.fillStyle="rgba("+h.p+","+h.o+","+h.i+",1)",a.fillRect(k,l,f.Ha*c,f.wa*d));1===r.Dk?(a.strokeStyle="rgba(0,255,0,1)",k/=c,l=-(l/d),k=[r.a(k,l),r.a(k+e.width,l),r.a(k+e.width,l-e.height),r.a(k,l-e.height)],r.ag.qe(k,4,!0)):2===r.Dk&&(a.strokeStyle="rgba(0,255,0,1)",c=this.Aa.eb,l=-l,k=[r.a(k,l),r.a(k+c.width,l),r.a(k+c.width,l-c.height),r.a(k,l-c.height)],r.ag.qe(k,4,!0));(this.oc||this.pc)&&a.restore();r.fi++}}});
r.Ga.Tc?(b=r.A.prototype,b.yB=r.A.prototype.NQ,b.Kf=r.A.prototype.vQ,b.kd=r.A.prototype.bR,b.ctor=r.A.prototype.Mh,b.Jl=r.A.prototype.jQ,b.r=r.A.prototype.DA,b.Ma=r.A.prototype.Cr,b.qw=r.A.prototype.SQ,b.Ub=r.A.prototype.eH,b.kg=r.A.prototype.jR,b.f=r.A.prototype.Cz,b.ra=r.A.prototype.sB,b.n=r.A.prototype.pB,b.jd=r.A.prototype.aR,b.iq=r.A.prototype.pQ,b.xJ=r.A.prototype.qP,b.Je=r.A.prototype.hQ,b.ga=r.A.prototype.Zr,b.Va=r.A.prototype.vg):(b=r.A.prototype,b.yB=r.A.prototype.MQ,b.Kf=r.A.prototype.uQ,
b.kd=r.A.prototype.xH,b.ctor=r.A.prototype.Lh,b.Jl=r.A.prototype.iQ,b.r=r.A.prototype.CA,b.Ma=r.A.prototype.Br,b.qw=r.A.prototype.RQ,b.Ub=r.A.prototype.uB,b.kg=r.A.prototype.iR,b.f=r.A.prototype.Bz,b.ra=r.A.prototype.Xr,b.n=r.A.prototype.Vr,b.jd=r.A.prototype.MB,b.iq=r.A.prototype.oQ,b.xJ=r.A.prototype.pP,b.Je=r.A.prototype.gQ,b.ga=r.A.prototype.Yr,b.Va=r.A.prototype.qm);
r.A.bb=function(a,c){var d=arguments.length,e=new r.A;switch(d){case 1:return e&&e.Ma(a)?e:null;case 2:return e&&e.Ma(a,c)?e:null;default:throw"Sprite.createWithTexture(): Argument must be non-nil ";}};r.A.create=function(a,c){var d=arguments.length,e=new r.A;if(0===d){if(e.r())return e}else if(e&&e.r(a,c))return e;return null};
r.A.dI=function(a){var c=null;if("string"==typeof a){if(c=r.qg.e().xh(a),!c)return r.log("Invalid spriteFrameName: "+a),null}else return r.log("Invalid argument. Expecting string."),null;return(a=new r.A)&&a.Fe(c)?a:null};r.A.cI=function(a){var c=new r.A;return c&&c.Fe(a)?c:null};r.sj=r.Ea.extend({bs:null,ge:0,us:null,ctor:function(){this.ge=0},I:function(){var a=new r.sj;a.Fe(this.bs.I(),this.ge,this.us);return a},Mw:function(){return r.I(this)},copy:function(){var a=new r.sj;a.Fe(this.bs.I(),this.ge,this.us);return a},Fe:function(a,c,d){this.bs=a;this.ge=c;this.us=d;return!0},xh:function(){return this.bs},Lf:function(a){this.bs=a},Q4:function(){return this.ge},aba:function(a){this.ge=a},r7:function(){return this.us},Fca:function(a){this.us=a}});
r.rj=r.Ea.extend({ie:null,Sj:0,Em:!1,za:0,ge:0,Rm:0,ctor:function(){this.ie=[]},i5:function(){return this.ie},VK:function(a){this.ie=a},$B:function(a){var c=new r.sj;c.Fe(a,1,null);this.ie.push(c);this.Rm++},a2:function(a){a=r.ea.e().pa(a);var c=r.md();c.eb=a.c();a=r.Nd.bb(a,c);this.$B(a)},b2:function(a,c){var d=r.Nd.bb(a,c);this.$B(d)},Qs:function(a,c,d){r.Et(a,r.sj);this.ge=c;this.Sj=d;this.VK([]);for(c=0;c<a.length;c++)d=a[c],this.ie.push(d),this.Rm+=d.ge;return!0},I:function(){var a=new r.rj;
a.Qs(this.iG(),this.ge,this.Sj);a.Rx(this.Em);return a},Mw:function(){var a=new r.rj;a.Qs(this.iG(),this.ge,this.Sj);a.Rx(this.Em);return a},iG:function(){for(var a=[],c=0;c<this.ie.length;c++)a.push(this.ie[c].I());return a},copy:function(){return this.Mw(null)},y5:function(){return this.Sj},xba:function(a){this.Sj=a},Rx:function(a){this.Em=a},D6:function(){return this.Em},Bf:function(){return this.Rm*this.ge},P4:function(){return this.ge},$aa:function(a){this.ge=a},j7:function(){return this.Rm},
nJ:function(a,c){r.Et(a,r.Nd);this.Sj=1;this.ge=c||0;this.VK([]);if(a)for(var d=0;d<a.length;d++){var e=a[d],f=new r.sj;f.Fe(e,1,null);this.ie.push(f);this.Rm++}return!0},zK:function(){},ED:function(){}});r.rj.create=function(a,c,d){var e=arguments.length,f=new r.rj;0==e?f.nJ(null,0):2==e?f.nJ(a,c||0):3==e&&f.Qs(a,c,d);return f};r.rj.bI=function(a,c,d){var e=new r.rj;e.Qs(a,c,d);return e};r.Yl=r.Ea.extend({JH:function(a,c){this.km[c]=a},daa:function(a){a&&this.km.hasOwnProperty(a)&&delete this.km[a]},EI:function(a){return this.km.hasOwnProperty(a)?this.km[a]:null},dO:function(a,c){var d=a.animations;if(d){var e=1,f=a.properties;if(f)for(var e=null!=f.format?parseInt(f.format):e,f=f.spritesheets,g=r.qg.e(),h=r.Md.e(),k,l=0;l<f.length;l++)k=h.DI(f[l],c),g.QH(k);switch(e){case 1:this.KP(d);break;case 2:this.LP(d);break;default:r.log("cc.AnimationCache. Invalid animation format")}}else r.log("cocos2d: cc.AnimationCache: No animations were found in provided dictionary.")},
Q1:function(a){if(!a)throw"cc.AnimationCache.addAnimations(): Invalid texture file name";var c=r.Md.e(),d=c.ve(a);(c=c.Ow(d))?this.dO(c,a):r.log("cc.AnimationCache.addAnimations(): File could not be found")},KP:function(a){var c=r.qg.e(),d;for(d in a){var e=a[d],f=e.frames,e=parseFloat(e.delay)||0,g=null;if(f){for(var g=[],h=0;h<f.length;h++){var k=c.xh(f[h]);if(k){var l=new r.sj;l.Fe(k,1,null);g.push(l)}else r.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+f[h]+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}0===
g.length?r.log("cocos2d: cc.AnimationCache: None of the frames for animation '"+d+"' were found in the cc.SpriteFrameCache. Animation is not being added to the Animation Cache."):(g.length!=f.length&&r.log("cocos2d: cc.AnimationCache: An animation in your dictionary refers to a frame which is not in the cc.SpriteFrameCache. Some or all of the frames for the animation '"+d+"' may be missing."),g=r.rj.bI(g,e,1),r.Yl.e().JH(g,d))}else r.log("cocos2d: cc.AnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},
LP:function(a){var c=r.qg.e(),d;for(d in a){var e=a[d],f=parseInt(e.loops),f=e.loop?r.em:isNaN(f)?1:f,g=e.restoreOriginalFrame&&!0==e.restoreOriginalFrame?!0:!1,h=e.frames;if(h){for(var k=[],l=0;l<h.length;l++){var m=h[l],n=m.spriteframe,p=c.xh(n);if(p){var n=parseFloat(m.delayUnits)||0,m=m.notification,q=new r.sj;q.Fe(p,n,m);k.push(q)}else r.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+n+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}e=
parseFloat(e.delayPerUnit)||0;h=new r.rj;h.Qs(k,e,f);h.Rx(g);r.Yl.e().JH(h,d)}else r.log("cocos2d: CCAnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},r:function(){this.km={};return!0},km:null});r.Yl.PV=function(){r.Fn&&(r.Fn.km=null,r.Fn=null)};r.Yl.e=function(){null===r.Fn&&(r.Fn=new r.Yl,r.Fn.r());return r.Fn};r.Fn=null;r.Nd=r.Ea.extend({Lb:null,qd:null,We:null,rd:!1,Aa:null,Rf:null,uf:null,Fa:null,lp:"",rb:!1,nv:null,ctor:function(){this.Lb=r.Cd();this.Rf=r.Cd();this.qd=r.Jm();this.rd=!1;this.uf=r.Jm();this.lp="";this.Fa=null;this.rb=!1},LL:function(){return this.rb},Yf:function(a,c){null==this.nv&&(this.nv=[]);this.nv.push({ik:a,di:c})},ee:function(){var a=this.nv;if(a){for(var c=0,d=a.length;c<d;c++){var e=a[c];e.ik.call(e.di,this)}a.length=0}},xT:function(){var a=this.We;return r.rect(a.x,a.y,a.width,a.height)},
bca:function(a){this.We||(this.We=r.rect(0,0,0,0));this.We.x=a.x;this.We.y=a.y;this.We.width=a.width;this.We.height=a.height;this.Aa=r.Cq(a)},J8:function(){return this.rd},jca:function(a){this.rd=a},ye:function(){var a=this.Aa;return r.rect(a.x,a.y,a.width,a.height)},eL:function(a){this.Aa||(this.Aa=r.rect(0,0,0,0));this.Aa.x=a.x;this.Aa.y=a.y;this.Aa.width=a.width;this.Aa.height=a.height;this.We=r.co(this.Aa)},Y5:function(){return this.Rf},Lba:function(a){this.Rf.H=a.x;this.Rf.M=a.y;r.Ou(this.Rf,
this.Lb)},f6:function(){return this.uf},Oba:function(a){this.uf.Ha=a.width;this.uf.wa=a.height},sT:function(){return this.qd},Nba:function(a){this.qd.Ha=a.width;this.qd.wa=a.height},da:function(){if(this.Fa)return this.Fa;if(""!==this.lp){var a=r.ea.e().pa(this.lp);a&&(this.rb=a.Mg());return a}return null},ga:function(a){if(this.Fa!=a){var c=a.Mg();this.rb=c;this.Fa=a;c||a.Yf(function(a){this.rb=!0;if(this.rd&&r.Id===r.mg){var c=a.Lc,c=r.eI(c,this.ye()),f=new r.ec;f.Gf(c);f.Ee();this.ga(f);c=this.ye();
this.eL(r.rect(0,0,c.width,c.height))}c=this.Aa;0===c.width&&0===c.height&&(a=a.c(),this.Aa.width=a.width,this.Aa.height=a.height,this.We=r.co(this.Aa),this.uf.Ha=this.We.width,this.uf.wa=this.We.height,this.qd.Ha=a.width,this.qd.wa=a.height);this.ee()},this)}},X5:function(){return this.Lb},Kba:function(a){this.Lb.H=a.x;this.Lb.M=a.y},I:function(){var a=new r.Nd;a.hx(this.lp,this.We,this.rd,this.Rf,this.uf);a.ga(this.Fa);return a},Mw:function(){var a=new r.Nd;a.hx(this.lp,this.We,this.rd,this.Rf,
this.uf);a.ga(this.Fa);return a},copy:function(){return this.Mw()},Ma:function(a,c,d,e,f){2===arguments.length&&(c=r.co(c));e=e||r.a(0,0);f=f||c.eb;this.ga(a);this.We=c;this.Aa=r.Cq(c);this.Rf.H=e.x;this.Rf.M=e.y;r.Ou(e,this.Lb);this.uf.Ha=f.width;this.uf.wa=f.height;r.uz(f,this.qd);this.rd=d||!1;return!0},hx:function(a,c,d,e,f){2===arguments.length&&(c=r.co(c));e=e||r.a(0,0);f=f||c.eb;this.Fa=null;this.lp=a;this.We=c;this.Aa=r.Cq(c);this.rd=d||!1;this.Rf.H=e.x;this.Rf.M=e.y;r.Ou(e,this.Lb);this.uf.Ha=
f.width;this.uf.wa=f.height;r.uz(f,this.qd);return!0}});r.Nd.create=function(a,c,d,e,f){var g=new r.Nd;switch(arguments.length){case 2:g.hx(a,c);break;case 5:g.hx(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};r.Nd.bb=function(a,c,d,e,f){var g=new r.Nd;switch(arguments.length){case 2:g.Ma(a,c);break;case 5:g.Ma(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};
r.Nd.j1=function(a,c,d,e,f){var g=new r.Nd;g.Fa=a;g.We=c;g.Aa=r.Cq(c);g.Rf.H=e.x;g.Rf.M=e.y;r.Ou(g.Rf,g.Lb);g.uf.Ha=f.width;g.uf.wa=f.height;r.uz(g.uf,g.qd);g.rd=d;return g};r.qg=r.Ea.extend({Ye:null,el:null,Hr:null,ctor:function(){this.Ye={};this.el={};this.Hr=[]},Ez:function(a,c){var d=a.metadata||a.meta,e=a.frames,f=0;d&&(f=d.format,f=1>=f.length?parseInt(f):f);if(0>f||3<f)r.log("format is not supported for cc.SpriteFrameCache.addSpriteFramesWithDictionary");else for(var g in e)if(d=e[g]){var h=this.Ye[g];if(!h){if(0==f){var h=parseFloat(d.x),k=parseFloat(d.y),l=parseFloat(d.width),m=parseFloat(d.height),n=parseFloat(d.offsetX),p=parseFloat(d.offsetY),q=parseInt(d.originalWidth),
d=parseInt(d.originalHeight);q&&d||r.log("cocos2d: WARNING: originalWidth/Height not found on the cc.SpriteFrame. AnchorPoint won't work as expected. Regenrate the .plist");q=Math.abs(q);d=Math.abs(d);h=r.Nd.bb(c,r.rect(h,k,l,m),!1,r.a(n,p),r.size(q,d))}else if(1==f||2==f)h=r.wF(d.frame),k=!1,2==f&&(k=d.rotated),l=r.vF(d.offset),d=r.gz(d.sourceSize),h=r.Nd.bb(c,h,k,l,d);else if(3==f){var h=r.gz(d.spriteSize),k=r.vF(d.spriteOffset),l=r.gz(d.spriteSourceSize),m=r.wF(d.textureRect),n=d.textureRotated,
p=d.aliases,q=g.toString(),u;for(u in p)this.el.hasOwnProperty(p[u])&&r.log("cocos2d: WARNING: an alias with name "+u+" already exists"),this.el[p[u]]=q;d.hasOwnProperty("spriteSize")&&(m=r.rect(m.x,m.y,h.width,h.height));h=r.Nd.bb(c,m,n,k,l)}else var w=d.filename,k=d.frame,h=d.sourceSize,k=r.rect(k.x,k.y,k.ZL,k.De),d=d.rotated,l=r.a(0,0),h=r.size(h.ZL,h.De),h=r.Nd.bb(c,k,d,l,h);r.Id===r.mg&&h.rd&&h.da().Mg()&&(d=h.da().Lc,d=r.eI(d,h.xT()),k=new r.ec,k.Gf(d),k.Ee(),h.ga(k),d=h.Aa,h.eL(r.rect(0,0,
d.width,d.height)));this.Ye[null!=w?w:g]=h}}},QH:function(a,c){if(!a)throw"cc.SpriteFrameCache.addSpriteFrames(): plist should be non-null";var d=r.Md.e(),e;"plist"==a.substr(a.lastIndexOf(".",a.length)+1,a.length)?(e=d.ve(a),e=d.Ow(e)):e=JSON.parse(d.QI(a));switch(arguments.length){case 1:if(!r.uy(this.Hr,a)){var f="",g=e.metadata||e.meta;g&&(f=g.textureFileName||g.image);""!=f?f=d.DI(f,a):(f=a,f=f.substr(0,f.lastIndexOf(".",f.length)),f+=".png");(d=r.ea.e().pa(f))?this.Ez(e,d):r.log("cocos2d: cc.SpriteFrameCache: Couldn't load texture")}break;
case 2:if(c instanceof r.ec)this.Ez(e,c);else{if(!c)throw"cc.SpriteFrameCache.addSpriteFrames(): texture name should not be null";(d=r.ea.e().pa(c))?this.Ez(e,d):r.log("cocos2d: cc.SpriteFrameCache: couldn't load texture file. File not found "+c)}break;default:throw"Argument must be non-nil ";}},$B:function(a,c){this.Ye[c]=a},maa:function(){this.Ye=[];this.el=[];this.Hr={}},laa:function(a){a&&(this.el.hasOwnProperty(a)&&delete this.el[a],this.Ye.hasOwnProperty(a)&&delete this.Ye[a],this.Hr={})},naa:function(a){var c=
r.Md.e(),d=c.ve(a),c=c.Ow(d);this.VP(c);r.uy(this.Hr,a)&&r.Zd(a)},VP:function(a){a=a.frames;for(var c in a)this.Ye.hasOwnProperty(c)&&delete this.Ye[c]},oaa:function(a){for(var c in this.Ye){var d=this.Ye[c];d&&d.da()==a&&delete this.Ye[c]}},xh:function(a){var c;this.Ye.hasOwnProperty(a)&&(c=this.Ye[a]);if(!c){var d;this.el.hasOwnProperty(a)&&(d=this.el[a]);d&&(this.Ye.hasOwnProperty(d.toString())&&(c=this.Ye[d.toString()]),c||r.log("cocos2d: cc.SpriteFrameCahce: Frame "+a+" not found"))}return c}});
r.Hx=null;r.qg.e=function(){r.Hx||(r.Hx=new r.qg);return r.Hx};r.qg.QV=function(){r.Hx=null};r.Aq=29;
r.vb=r.D.extend({Ra:null,ia:null,Ad:null,c2:function(a,c,d){if(!a)throw"cc.SpriteBatchNode.addQuadFromSprite(): child should be non-null";if(!(a instanceof r.A))return r.log("cc.SpriteBatchNode.addQuadFromSprite(): SpriteBatchNode only supports cc.Sprites as children"),null;a.Ie(c);var e=0,f=this.Ad;if(f&&0<f.length)for(var g=0;g<f.length;g++){var h=f[g];h&&h.ad>=c&&++e}this.Ad=r.Zl(f,a,e);r.D.prototype.f.call(this,a,c,d);this.vK(!1);return this},RI:function(){return this.Ra},nq:function(a){a!=this.Ra&&
(this.Ra=a)},T4:function(){return this.Ad},dj:function(a,c){var d=r.ea.e().hy(a);d||(d=r.ea.e().pa(a));return this.Ma(d,c)},Hm:function(){this.eG=!0},r:function(a,c){var d=r.ea.e().hy(a);d||(d=r.ea.e().pa(a));return this.Ma(d,c)},cx:function(){var a=this.Ra.nd,c=Math.floor(4*(a+1)/3);r.log("cocos2d: CCSpriteBatchNode: resizing TextureAtlas capacity from "+a+" to "+c+".");this.Ra.vW(c)||r.log("cocos2d: WARNING: Not enough memory to resize the atlas")},faa:function(a,c){this.removeChild(this.u[a],c)},
nK:function(a,c){var d=a.u;if(d&&0<d.length)for(var e=0;e<d.length;e++){var f=d[e];f&&0>f.hb&&(c=this.nK(f,c))}!a==this&&(a.Ie(c),c++);if(d&&0<d.length)for(e=0;e<d.length;e++)(f=d[e])&&0<=f.hb&&(c=this.nK(f,c));return c},SC:function(a){var c=a.u;return c&&0!=c.length?this.SC(c[c.length-1]):a.ad},SU:function(a){var c=a.u;return c&&0!=c.length?this.SU(c[c.length-1]):a.ad},DR:function(a,c){var d=a.getParent().u,e=r.wy(d,a),f=a.getParent()==this,g=null;0<e&&e<r.LN&&(g=d[e-1]);if(f)return 0==e?0:this.SC(g)+
1;if(0==e)return d=a.getParent(),0>c?d.ad:d.ad+1;if(0>g.hb&&0>c||0<=g.hb&&0<=c)return this.SC(g)+1;d=a.getParent();return d.ad+1},vK:function(a){this.me=a},Jl:function(a,c){this.ia=1==arguments.length?a:{src:a,Jb:c}},Gs:function(){return this.ia},et:function(a,c){if(!a)throw"cc.SpriteBatchNode.addChild():child should be non-null";-1===this.u.indexOf(a)?r.log("cc.SpriteBatchNode.addChild(): Child doesn't belong to Sprite"):c!==a.hb&&(r.D.prototype.et.call(this,a,c),this.Xa())},removeChild:function(a,
c){null!=a&&(-1===this.u.indexOf(a)?r.log("cc.SpriteBatchNode.addChild(): sprite batch node should contain the child"):(this.Cn(a),r.D.prototype.removeChild.call(this,a,c)))},AP:null,Pm:null,M1:!1,wg:null,ctor:null,Lh:function(a){r.D.prototype.ctor.call(this);a&&this.r(a,r.Aq)},Mh:function(a){r.D.prototype.ctor.call(this);this.AP=new r.zh;a&&this.r(a,r.Aq)},VL:null,fR:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";a instanceof r.A?(a.Je(this),a.Ie(c),
a.Qg(!0),a.kg()):r.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},gR:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";if(a instanceof r.A){for(var d=this.Ra.nd;c>=d||d==this.Ra.Ta;)this.cx();a.Je(this);a.Ie(c);a.Qg(!0);a.kg()}else r.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},mw:function(a,c){var d=this.Ad,e=this.Ra,f=e.Ue,g=d[a],
h=r.rz(f[a]);d[c].Ie(a);d[a]=d[c];e.ny(f[c],a);d[c]=g;e.ny(h,c)},oJ:null,nP:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";a instanceof r.A?(a.Je(this),a.Ie(c),a.Qg(!0),a.kg(),this.u=r.Zl(this.u,a,c)):r.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},oP:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";if(a instanceof r.A){for(var d=this.Ra;c>=d.nd||
d.nd===d.Ta;)this.cx();a.Je(this);a.Ie(c);d.aD(a.Mb,c);a.Qg(!0);a.kg()}else r.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},wH:function(a,c){var d=0,e=a.u;e&&(d=e.length);var f=0;if(0===d)f=a.ad,a.Ie(c),a.kq(0),f!=c&&this.mw(f,c),c++;else{f=!0;0<=e[0].hb&&(f=a.ad,a.Ie(c),a.kq(0),f!=c&&this.mw(f,c),c++,f=!1);for(d=0;d<e.length;d++){var g=e[d];f&&0<=g.hb&&(f=a.ad,a.Ie(c),a.kq(0),f!=c&&this.mw(f,c),c++,f=!1);c=this.wH(g,c)}f&&(f=a.ad,a.Ie(c),
a.kq(0),f!=c&&this.mw(f,c),c++)}return c},Um:function(){this.Ra.da().Ps()||(this.ia.src=770,this.ia.Jb=771)},Ma:null,Br:function(a){this.u=[];this.Ad=[];this.ia=new r.am(r.Me,r.Le);this.Pm=this.wg=a;return!0},Cr:function(a,c){this.u=[];this.Ad=[];this.ia=new r.am(r.Me,r.Le);c=c||r.Aq;this.Ra=new r.ko;this.Ra.Ma(a,c);this.Um();this.Rg(r.Jh.e().oi(r.cz));return!0},wU:function(a,c){a.Je(this);a.Ie(c);a.Qg(!0);var d=this.Ra;d.Ta>=d.nd&&this.cx();d.aD(a.Mb,c);this.Ad=r.Zl(this.Ad,a,c);var d=c+1,e=this.Ad;
if(e&&0<e.length)for(;d<e.length;d++)e[d].Ie(e[d].ad+1);if((e=a.u)&&0<e.length)for(d=0;d<e.length;d++)if(e[d]){var f=this.DR(e[d],e[d].hb);this.wU(e[d],f)}},appendChild:null,kO:function(a){this.me=!0;a.Je(this);a.Qg(!0);this.Ad.push(a);a.Ie(this.Ad.length-1);a=a.u;for(var c=0;c<a.length;c++)this.appendChild(a[c])},lO:function(a){this.me=!0;a.Je(this);a.Qg(!0);this.Ad.push(a);var c=this.Ad.length-1;a.Ie(c);var d=this.Ra;d.Ta==d.nd&&this.cx();d.aD(a.Mb,c);a=a.u;for(c=0;c<a.length;c++)this.appendChild(a[c])},
Cn:null,WP:function(a){a.Je(null);var c=this.Ad,d=r.wy(c,a);if(-1!=d){r.vq(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.Ie(f.ad-1)}}if((a=a.u)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.Cn(a[c])},XP:function(a){this.Ra.pW(a.ad);a.Je(null);var c=this.Ad,d=r.wy(c,a);if(-1!=d){r.vq(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.Ie(f.ad-1)}}if((a=a.u)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.Cn(a[c])},da:null,xA:function(){return this.Pm},yA:function(){return this.Ra.da()},ga:null,Yr:function(a){this.Pm=
a;for(var c=this.u,d=0;d<c.length;d++)c[d].ga(a)},Zr:function(a){this.Ra.ga(a);this.Um()},sa:null,Vm:function(a){var c=a||r.Y;if(this.la){c.save();this.transform(a);var d=this.u;if(d)for(this.Wd(),a=0;a<d.length;a++)d[a]&&d[a].sa(c);c.restore()}},Wm:function(a){a=a||r.Y;if(this.la){r.Zp();var c=this.Rk;c&&c.Vp()&&(c.eC(),this.ly());this.Wd();this.transform(a);this.Va(a);c&&c.Vp()&&c.aC(this);r.Yp();this.kq(0)}},f:null,Bz:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";
a instanceof r.A?(c=null==c?a.hb:c,d=null==d?a.td:d,r.D.prototype.f.call(this,a,c,d),this.appendChild(a),this.Xa()):r.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},Cz:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";a instanceof r.A?a.da()!=this.Ra.da()?r.log("cc.SpriteBatchNode.addChild(): cc.Sprite is not using the same texture"):(c=null==c?a.hb:c,d=null==d?a.td:d,r.D.prototype.f.call(this,a,c,d),this.appendChild(a),
this.Xa()):r.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},ac:null,SP:function(a){var c=this.Ad;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].Je(null);r.D.prototype.ac.call(this,a);this.Ad=[]},TP:function(a){var c=this.Ad;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].Je(null);r.D.prototype.ac.call(this,a);this.Ad=[];this.Ra.jW()},Wd:null,KQ:function(){if(this.me){var a,c=0,d=this.u,e=d.length,f;for(a=1;a<e;a++){var g=d[a],
c=a-1;for(f=d[c];0<=c&&(g.hb<f.hb||g.hb==f.hb&&g.Sf<f.Sf);)d[c+1]=f,c-=1,f=d[c];d[c+1]=g}0<d.length&&this.sg(d,r.D.Nf.Wd);this.me=!1}},LQ:function(){if(this.me){var a=this.u,c,d=0,e=a.length,f;for(c=1;c<e;c++){var g=a[c],d=c-1;for(f=a[d];0<=d&&(g.hb<f.hb||g.hb==f.hb&&g.Sf<f.Sf);)a[d+1]=f,d-=1,f=a[d];a[d+1]=g}if(0<a.length)for(this.sg(a,r.D.Nf.Wd),c=d=0;c<a.length;c++)d=this.wH(a[c],d);this.me=!1}},Va:null,vg:function(){0!==this.Ra.Ta&&(this.Mc.pf(),this.Mc.Sg(),this.sg(this.u,r.D.Nf.kg),r.jk(this.ia.src,
this.ia.Jb),this.Ra.GS())}});
r.Ga.Tc?(b=r.vb.prototype,b.ctor=r.vb.prototype.Mh,b.VL=r.vb.prototype.gR,b.oJ=r.vb.prototype.oP,b.Ma=r.vb.prototype.Cr,b.appendChild=r.vb.prototype.lO,b.Cn=r.vb.prototype.XP,b.da=r.vb.prototype.yA,b.ga=r.vb.prototype.Zr,b.sa=r.vb.prototype.Wm,b.f=r.vb.prototype.Cz,b.ac=r.vb.prototype.TP,b.Wd=r.vb.prototype.LQ,b.Va=r.vb.prototype.vg):(b=r.vb.prototype,b.ctor=r.vb.prototype.Lh,b.VL=r.vb.prototype.fR,b.oJ=r.vb.prototype.nP,b.Ma=r.vb.prototype.Br,b.appendChild=r.vb.prototype.kO,b.Cn=r.vb.prototype.WP,
b.da=r.vb.prototype.xA,b.ga=r.vb.prototype.Yr,b.sa=r.vb.prototype.Vm,b.ac=r.vb.prototype.SP,b.f=r.vb.prototype.Bz,b.Wd=r.vb.prototype.KQ,b.Va=r.D.prototype.Va);r.vb.create=function(a,c){c=c||r.Aq;var d=new r.vb;d.r(a,c);return d};r.vb.bb=function(a,c){c=c||r.Aq;var d=new r.vb;d.Ma(a,c);return d};r.DZ={AZ:0,CZ:1,BZ:2,zZ:3,yZ:4};
r.Ne=r.Ea.extend({Jr:0,IG:0,hs:!1,gs:!1,iw:!1,jw:!1,kw:!1,xP:0,Lv:0,Pq:"",dk:null,ctor:function(){this.IG=this.Jr=0;this.kw=this.jw=this.iw=this.gs=this.hs=!1;this.Lv=this.xP=0;this.Pq="";this.dk={}},E5:function(){return this.Jr},D5:function(){return this.IG},F5:function(){return this.Lv},jda:function(){return this.gs},kda:function(){return this.hs},hda:function(){return this.iw},ida:function(){return this.jw},lda:function(){return this.kw},zp:function(a){return-1<this.Pq.indexOf(a)},r:function(){var a=
this.dk;a["cocos2d.x.version"]=r.Kt;a["cocos2d.x.compiled_with_profiler"]=!1;a["cocos2d.x.compiled_with_gl_state_cache"]=r.$E;return!0},w4:function(a,c){var d=this.dk;return d.hasOwnProperty(a)?d[a]:c},r4:function(a,c){null==c&&(c=!1);var d=this.dk;return d.hasOwnProperty(a)?d[a]:c},P5:function(a,c){null==c&&(c=0);var d=this.dk;return d.hasOwnProperty(a)?d[a]:c},R5:function(a){var c=this.dk;return c.hasOwnProperty(a)?c[a]:null},BX:function(a,c){this.dk[a]=c},KS:function(){0===r.$E&&(r.log(""),r.log("cocos2d: **** WARNING **** CC_ENABLE_PROFILERS is defined. Disable it when you finish profiling (from ccConfig.js)"),
r.log(""))},XS:function(){if(r.Id!==r.mg){var a=r.Y,c=this.dk;c["gl.vendor"]=a.getParameter(a.VENDOR);c["gl.renderer"]=a.getParameter(a.RENDERER);c["gl.version"]=a.getParameter(a.VERSION);this.Pq="";for(var d=a.getSupportedExtensions(),e=0;e<d.length;e++)this.Pq+=d[e]+" ";this.Jr=a.getParameter(a.MAX_TEXTURE_SIZE);c["gl.max_texture_size"]=this.Jr;this.Lv=a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS);c["gl.max_texture_units"]=this.Lv;this.hs=this.zp("GL_IMG_texture_compression_pvrtc");c["gl.supports_PVRTC"]=
this.hs;this.gs=!1;c["gl.supports_NPOT"]=this.gs;this.iw=this.zp("GL_IMG_texture_format_BGRA888");c["gl.supports_BGRA8888"]=this.iw;this.jw=this.zp("GL_EXT_discard_framebuffer");c["gl.supports_discard_framebuffer"]=this.jw;this.kw=this.zp("vertex_array_object");c["gl.supports_vertex_array_object"]=this.kw;r.JE()}},p9:function(a){var c=r.Md.e(),d=c.ve(a),c=c.Ow(d);if(null!=c)if(c=c.data)for(var e in c)this.dk[e]=c[e];else r.log("Expected 'data' dict, but not found. Config file: "+a)}});r.Ne.as=null;
r.Ne.e=function(){r.Ne.as||(r.Ne.as=new r.Ne,r.Ne.as.r());return r.Ne.as};r.Ne.J$=function(){r.Ne.as=null};r.fi=0;r.tM=0;r.XE=1;r.uM=3;r.vM=r.XE;r.IZ=0;r.GZ=1;r.JZ=2;r.HZ=3;r.FZ=2;r.MZ=r.Ea.extend({Tda:function(){}});r.aF=function(a){var c=new r.zh;r.KU(r.lu,c);var d=new r.zh;r.KU(r.ku,d);r.NU(a,c,d)};
r.$=r.Ea.extend({v1:!1,Nr:!1,Cm:!1,Yv:!1,Gm:!1,dh:0,OA:0,cl:0,no:0,pm:1,ir:!1,Nk:0,qv:0,Gk:null,Ik:null,Ok:null,Sb:null,Rj:null,Oi:null,Qv:null,jh:null,Vi:null,$A:null,sd:null,ie:0,IB:0,oB:0,g1:null,Cg:null,bh:null,bf:null,JA:null,Tu:null,Lr:null,u1:!1,ctor:function(){this.Rj=Date.now();if(!r.bD){var a=this;window.addEventListener("focus",function(){a.Rj=Date.now()},!1)}},bQ:function(){this.Rj=Date.now()},r:function(){this.OA=this.dh=1/r.oS;this.Vi=[];this.cl=r.vM;this.$A=null;this.qv=this.no=0;this.ir=
!1;this.IB=this.ie=0;this.Rj=Date.now();this.Yv=this.Cm=!1;this.Sb=r.Jm();this.jh=null;this.pm=1;this.Cg=new r.yN;this.bh=new r.eM;this.Cg.BK(this.bh,r.ou,!1);r.ka&&(this.bf=new r.ka,this.bf.r());r.ao&&(this.JA=r.ao.e());r.zk&&(this.Tu=new r.zk);r.ce&&(this.Lr=new r.ce,this.Lr.r());return!0},HR:function(){var a=Date.now();this.Nr?(this.Nk=0,this.Nr=!1):this.Nk=(a-this.Rj)/1E3;0<r.Ht&&0.2<this.Nk&&(this.Nk=1/60);this.Rj=a},gS:function(a){var c=new r.zh;r.aF(c);var d=new r.zh;r.h9(d,c);var c=c.Ah[14]/
c.Ah[15],e=this.jh.Gp();a=new r.$p(2*a.x/e.width-1,1-2*a.y/e.height,c);c=new r.$p;r.PU(c,a,d);return r.a(c.x,c.y)},iS:function(a){var c=new r.zh;r.aF(c);var d=new r.$p;a=new r.$p(a.x,a.y,0);r.PU(d,a,c);c=this.jh.Gp();return r.a(c.width*(0.5*d.x+0.5),c.height*(0.5*-d.y+0.5))},HS:function(){this.HR();this.Cm||this.Cg.update(this.Nk);this.gG();this.Oi&&this.AX();this.Jz&&this.Jz();this.sd&&this.sd.sa();this.Qv&&this.Qv.sa();this.ir&&this.JQ();this.Fz&&this.Fz();this.IB++;this.ir&&this.sO()},AO:function(){var a=
this.jh.df;r.Y.clearRect(-a.x,a.y,a.width,-a.height)},HO:function(){var a=r.Y;a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},Jz:null,Fz:null,nO:function(){r.Zp()},jO:function(){r.Yp()},end:function(){this.Yv=!0},I4:function(){return this.pm},O5:function(){return this.Qv},B7:function(){return this.Sb},OT:function(){return r.size(this.Sb.width*this.pm,this.Sb.height*this.pm)},Ms:function(){return this.jh?this.jh.Ms():this.Sb},XI:function(){return this.jh?this.jh.XI():r.mN},Os:function(){return this.Sb.height/
1.1566},pause:function(){this.Cm||(this.OA=this.dh,this.it(0.25),this.Cm=!0)},D$:function(){if(!this.sd)throw"running scene should not null";this.Vi.pop();var a=this.Vi.length;0==a?this.end():(this.Gm=!0,this.Oi=this.Vi[a-1])},xD:function(){r.Qy.xD()},OV:function(){this.Ef().vt();this.bf&&this.bf.iW();this.sd&&(this.sd.Bh(),this.sd.Ud(),this.sd.$f());this.Oi=this.sd=null;this.Vi=[];this.EL();r.Qy.xD();r.Yl.PV();r.qg.QV();r.ea.RV();r.JE()},SV:function(a){if(!a)throw"the scene should not null";this.Gm=
!1;this.Vi.push(a);this.Oi=a},wK:function(a){if(!this.sd)throw"Use runWithScene: instead to start the director";if(!a)throw"the scene should not be null";var c=this.Vi.length;0===c?(this.Gm=!0,this.Vi[c]=a):(this.Gm=!0,this.Vi[c-1]=a);this.Oi=a},yK:function(){this.Cm&&(this.it(this.OA),(this.Rj=Date.now())||r.log("cocos2d: Director: Error in gettimeofday"),this.Cm=!1,this.Nk=0)},EW:function(a){if(!a)throw"This command can only be used to start the CCDirector. There is already a scene present.";if(this.sd)throw"_runningScene should be null";
this.SV(a);this.CL()},SW:function(a){a?r.jk(r.Me,r.Le):r.jk(r.Y.ONE,r.Y.ZERO)},bX:function(a){a!=this.pm&&(this.pm=a,this.Fo())},fX:function(a){if(r.Id!==r.mg){var c=r.Y;a?(c.clearDepth(1),c.enable(c.DEPTH_TEST),c.depthFunc(c.LEQUAL)):c.disable(c.DEPTH_TEST)}},Zaa:function(){},WK:function(){this.SW(!0);this.fX(!1);this.Qx(this.cl);r.Y.clearColor(0,0,0,1)},Gba:function(a){this.Nr=a},AX:function(){var a=!1,c=!1;r.MF&&(a=this.sd?this.sd instanceof r.MF:!1,c=this.Oi?this.Oi instanceof r.MF:!1);if(!c){if(c=
this.sd)c.Bh(),c.Ud();this.Gm&&c&&c.$f()}this.sd=this.Oi;this.Oi=null;a||null==this.sd||(this.sd.Pg(),this.sd.mi())},Hba:function(a){this.Qv=a},jc:function(){return this.$A},Dh:function(a){this.$A=a},GX:function(a){this.Sb.hE(r.canvas.width);this.Sb.VD(r.canvas.height);this.jh=a||r.va.e();r.Id!==r.mg&&(a=r.Ne.e(),a.XS(),a.KS(),this.Fo(),this.WK(),this.bf&&this.bf.gX(!0))},qL:function(){if(this.jh){var a=this.Sb;this.jh.aY(0,0,a.width,a.height)}},Qx:function(a){var c=this.Sb;if(r.Id===r.Fk){this.qL();
switch(a){case r.tM:r.kn(r.lu);r.iD();var d=new r.zh;r.OU(d,0,c.width,0,c.height,-1024,1024);r.kx(d);r.kn(r.ku);r.iD();break;case r.XE:var e=this.Os(),f=new r.zh,d=new r.zh;r.kn(r.lu);r.iD();r.i9(f,60,c.width/c.height,0.1,2*e);r.kx(f);r.kn(r.ku);r.iD();e=r.Us(null,c.width/2,c.height/2,e);c=r.Us(null,c.width/2,c.height/2,0);f=r.Us(null,0,1,0);r.MU(d,e,c,f);r.kx(d);break;case r.uM:break;default:r.log("cocos2d: Director: unrecognized projection")}this.cl=a;r.Yba()}else this.cl=a},JQ:function(){this.ie++;
this.no+=this.Nk;this.Gk&&this.Ik&&this.Ok?(this.no>r.sM&&(this.Ik.ha(this.oB.toFixed(3)),this.qv=this.ie/this.no,this.no=this.ie=0,this.Gk.ha(this.qv.toFixed(1)),this.Ok.ha((0|r.fi).toString())),this.Gk.sa(),this.Ik.sa(),this.Ok.sa()):this.Fo();r.fi=0},M8:function(){return this.Gm},G6:function(){return this.sd},l4:function(){return this.dh},o8:function(){return this.ir},cba:function(a){this.ir=a},L6:function(){return this.oB},d6:function(){return this.jh},z8:function(){return this.Nr},D8:function(){return this.Cm},
k7:function(){return this.IB},t6:function(){return this.cl},E$:function(){this.DV(1)},DV:function(a){if(!this.sd)throw"A running Scene is needed";var c=this.Vi,d=c.length;if(0==d)this.end();else if(!(a>d)){for(;d>a;){var e=c.pop();e.Xe&&(e.Bh(),e.Ud());e.$f();d--}this.Oi=c[c.length-1];this.Gm=!1}},Ef:function(){return this.Cg},RX:function(a){this.Cg!=a&&(this.Cg=a)},Ig:function(){return this.bh},QW:function(a){this.bh!=a&&(this.bh=a)},m7:function(){return this.bf},Dca:function(a){this.bf!=a&&(this.bf=
a)},Yw:function(){if(!r.ao)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";return this.JA},vba:function(a){if(!r.ao)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";this.JA=a},Fp:function(){if(!r.zk)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";return this.Tu},Gaa:function(a){if(!r.zk)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";this.Tu!=
a&&(this.Tu=a)},S4:function(){return this.Nk},Df:function(){if(!r.ce)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";return this.Lr},Eba:function(a){if(!r.ce)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.Lr!=a&&(this.Lr=a)},Fo:null,KO:function(){if(!r.Py)return this.jG();if(null!=r.$.pG&&!1!=r.$.pG){var a=new r.ec;a.Gf(r.$.pA);a.Ee();var c=r.va.e().Gp().height/320;0===c&&(c=this.Sb.height/320);var d=new r.Py;d.rB(!0);
d.ul("00.0",a,12,32,".");d.uk(c);this.Gk=d;d=new r.Py;d.rB(!0);d.ul("0.000",a,12,32,".");d.uk(c);this.Ik=d;d=new r.Py;d.rB(!0);d.ul("000",a,12,32,".");d.uk(c);this.Ok=d;a=r.YE;this.Ok.m(r.fg(r.a(0,34*c),a));this.Ik.m(r.fg(r.a(0,17*c),a));this.Gk.m(a)}},jG:function(){var a=0,a=this.Sb.width>this.Sb.height?0|this.Sb.height/320*24:0|this.Sb.width/320*24;this.Gk=r.P.create("000.0","Arial",a);this.Ik=r.P.create("0.000","Arial",a);this.Ok=r.P.create("0000","Arial",a);var a=r.YE,c=this.Ok.c();this.Ok.m(r.fg(r.a(c.width/
2,5*c.height/2),a));c=this.Ik.c();this.Ik.m(r.fg(r.a(c.width/2,3*c.height/2),a));c=this.Gk.c();this.Gk.m(r.fg(r.a(c.width/2,c.height/2),a))},sO:function(){this.oB=(Date.now()-this.Rj)/1E3}});r.Ga.Tc?(r.$.prototype.gG=r.$.prototype.HO,r.$.prototype.Jz=r.$.prototype.nO,r.$.prototype.Fz=r.$.prototype.jO,r.$.prototype.Fo=r.$.prototype.KO):(r.$.prototype.gG=r.$.prototype.AO,r.$.prototype.Fo=r.$.prototype.jG);
r.wM=r.$.extend({ix:!1,CL:function(){this.Nr=!0;this.ix=!1;r.tj.e().it(this.dh)},KJ:function(){this.Yv?(this.Yv=!1,this.OV()):this.ix||this.HS()},EL:function(){this.ix=!0},it:function(a){this.dh=a;this.ix||(this.EL(),this.CL())}});r.Gx=null;r.xI=!0;r.$.e=function(){r.xI&&(r.xI=!1,r.Gx=new r.wM,r.Gx.r(),r.Gx.GX(r.va.e()));return r.Gx};Object.defineProperties(r,{hea:{get:function(){return r.zS.Sb},enumerable:!0}});r.Y3=!0;r.oS=60;r.$.pA=new Image;
r.$.pA.addEventListener("load",function(){r.$.pG=!0;this.removeEventListener("load",arguments.callee,!1)});r.$.pA.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAAgCAYAAAD9qabkAAAKQ2lDQ1BJQ0MgcHJvZmlsZQAAeNqdU3dYk/cWPt/3ZQ9WQtjwsZdsgQAiI6wIyBBZohCSAGGEEBJAxYWIClYUFRGcSFXEgtUKSJ2I4qAouGdBiohai1VcOO4f3Ke1fXrv7e371/u855zn/M55zw+AERImkeaiagA5UoU8Otgfj09IxMm9gAIVSOAEIBDmy8JnBcUAAPADeXh+dLA//AGvbwACAHDVLiQSx+H/g7pQJlcAIJEA4CIS5wsBkFIAyC5UyBQAyBgAsFOzZAoAlAAAbHl8QiIAqg0A7PRJPgUA2KmT3BcA2KIcqQgAjQEAmShHJAJAuwBgVYFSLALAwgCgrEAiLgTArgGAWbYyRwKAvQUAdo5YkA9AYACAmUIszAAgOAIAQx4TzQMgTAOgMNK/4KlfcIW4SAEAwMuVzZdL0jMUuJXQGnfy8ODiIeLCbLFCYRcpEGYJ5CKcl5sjE0jnA0zODAAAGvnRwf44P5Dn5uTh5mbnbO/0xaL+a/BvIj4h8d/+vIwCBAAQTs/v2l/l5dYDcMcBsHW/a6lbANpWAGjf+V0z2wmgWgrQevmLeTj8QB6eoVDIPB0cCgsL7SViob0w44s+/zPhb+CLfvb8QB7+23rwAHGaQJmtwKOD/XFhbnauUo7nywRCMW735yP+x4V//Y4p0eI0sVwsFYrxWIm4UCJNx3m5UpFEIcmV4hLpfzLxH5b9CZN3DQCshk/ATrYHtctswH7uAQKLDljSdgBAfvMtjBoLkQAQZzQyefcAAJO/+Y9AKwEAzZek4wAAvOgYXKiUF0zGCAAARKCBKrBBBwzBFKzADpzBHbzAFwJhBkRADCTAPBBCBuSAHAqhGJZBGVTAOtgEtbADGqARmuEQtMExOA3n4BJcgetwFwZgGJ7CGLyGCQRByAgTYSE6iBFijtgizggXmY4EImFINJKApCDpiBRRIsXIcqQCqUJqkV1II/ItchQ5jVxA+pDbyCAyivyKvEcxlIGyUQPUAnVAuagfGorGoHPRdDQPXYCWomvRGrQePYC2oqfRS+h1dAB9io5jgNExDmaM2WFcjIdFYIlYGibHFmPlWDVWjzVjHVg3dhUbwJ5h7wgkAouAE+wIXoQQwmyCkJBHWExYQ6gl7CO0EroIVwmDhDHCJyKTqE+0JXoS+cR4YjqxkFhGrCbuIR4hniVeJw4TX5NIJA7JkuROCiElkDJJC0lrSNtILaRTpD7SEGmcTCbrkG3J3uQIsoCsIJeRt5APkE+S+8nD5LcUOsWI4kwJoiRSpJQSSjVlP+UEpZ8yQpmgqlHNqZ7UCKqIOp9aSW2gdlAvU4epEzR1miXNmxZDy6Qto9XQmmlnafdoL+l0ugndgx5Fl9CX0mvoB+nn6YP0dwwNhg2Dx0hiKBlrGXsZpxi3GS+ZTKYF05eZyFQw1zIbmWeYD5hvVVgq9ip8FZHKEpU6lVaVfpXnqlRVc1U/1XmqC1SrVQ+rXlZ9pkZVs1DjqQnUFqvVqR1Vu6k2rs5Sd1KPUM9RX6O+X/2C+mMNsoaFRqCGSKNUY7fGGY0hFsYyZfFYQtZyVgPrLGuYTWJbsvnsTHYF+xt2L3tMU0NzqmasZpFmneZxzQEOxrHg8DnZnErOIc4NznstAy0/LbHWaq1mrX6tN9p62r7aYu1y7Rbt69rvdXCdQJ0snfU6bTr3dQm6NrpRuoW623XP6j7TY+t56Qn1yvUO6d3RR/Vt9KP1F+rv1u/RHzcwNAg2kBlsMThj8MyQY+hrmGm40fCE4agRy2i6kcRoo9FJoye4Ju6HZ+M1eBc+ZqxvHGKsNN5l3Gs8YWJpMtukxKTF5L4pzZRrmma60bTTdMzMyCzcrNisyeyOOdWca55hvtm82/yNhaVFnMVKizaLx5balnzLBZZNlvesmFY+VnlW9VbXrEnWXOss623WV2xQG1ebDJs6m8u2qK2brcR2m23fFOIUjynSKfVTbtox7PzsCuya7AbtOfZh9iX2bfbPHcwcEh3WO3Q7fHJ0dcx2bHC866ThNMOpxKnD6VdnG2ehc53zNRemS5DLEpd2lxdTbaeKp26fesuV5RruutK10/Wjm7ub3K3ZbdTdzD3Ffav7TS6bG8ldwz3vQfTw91jicczjnaebp8LzkOcvXnZeWV77vR5Ps5wmntYwbcjbxFvgvct7YDo+PWX6zukDPsY+Ap96n4e+pr4i3z2+I37Wfpl+B/ye+zv6y/2P+L/hefIW8U4FYAHBAeUBvYEagbMDawMfBJkEpQc1BY0FuwYvDD4VQgwJDVkfcpNvwBfyG/ljM9xnLJrRFcoInRVaG/owzCZMHtYRjobPCN8Qfm+m+UzpzLYIiOBHbIi4H2kZmRf5fRQpKjKqLupRtFN0cXT3LNas5Fn7Z72O8Y+pjLk722q2cnZnrGpsUmxj7Ju4gLiquIF4h/hF8ZcSdBMkCe2J5MTYxD2J43MC52yaM5zkmlSWdGOu5dyiuRfm6c7Lnnc8WTVZkHw4hZgSl7I/5YMgQlAvGE/lp25NHRPyhJuFT0W+oo2iUbG3uEo8kuadVpX2ON07fUP6aIZPRnXGMwlPUit5kRmSuSPzTVZE1t6sz9lx2S05lJyUnKNSDWmWtCvXMLcot09mKyuTDeR55m3KG5OHyvfkI/lz89sVbIVM0aO0Uq5QDhZML6greFsYW3i4SL1IWtQz32b+6vkjC4IWfL2QsFC4sLPYuHhZ8eAiv0W7FiOLUxd3LjFdUrpkeGnw0n3LaMuylv1Q4lhSVfJqedzyjlKD0qWlQyuCVzSVqZTJy26u9Fq5YxVhlWRV72qX1VtWfyoXlV+scKyorviwRrjm4ldOX9V89Xlt2treSrfK7etI66Trbqz3Wb+vSr1qQdXQhvANrRvxjeUbX21K3nShemr1js20zcrNAzVhNe1bzLas2/KhNqP2ep1/XctW/a2rt77ZJtrWv913e/MOgx0VO97vlOy8tSt4V2u9RX31btLugt2PGmIbur/mft24R3dPxZ6Pe6V7B/ZF7+tqdG9s3K+/v7IJbVI2jR5IOnDlm4Bv2pvtmne1cFoqDsJB5cEn36Z8e+NQ6KHOw9zDzd+Zf7f1COtIeSvSOr91rC2jbaA9ob3v6IyjnR1eHUe+t/9+7zHjY3XHNY9XnqCdKD3x+eSCk+OnZKeenU4/PdSZ3Hn3TPyZa11RXb1nQ8+ePxd07ky3X/fJ897nj13wvHD0Ivdi2yW3S609rj1HfnD94UivW2/rZffL7Vc8rnT0Tes70e/Tf/pqwNVz1/jXLl2feb3vxuwbt24m3Ry4Jbr1+Hb27Rd3Cu5M3F16j3iv/L7a/eoH+g/qf7T+sWXAbeD4YMBgz8NZD+8OCYee/pT/04fh0kfMR9UjRiONj50fHxsNGr3yZM6T4aeypxPPyn5W/3nrc6vn3/3i+0vPWPzY8Av5i8+/rnmp83Lvq6mvOscjxx+8znk98ab8rc7bfe+477rfx70fmSj8QP5Q89H6Y8en0E/3Pud8/vwv94Tz+4A5JREAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfcAgcQLxxUBNp/AAAQZ0lEQVR42u2be3QVVZbGv1N17829eRLyIKAEOiISEtPhJTJAYuyBDmhWjAEx4iAGBhxA4wABbVAMWUAeykMCM+HRTcBRWkNH2l5moS0LCCrQTkYeQWBQSCAIgYRXEpKbW/XNH5zS4noR7faPEeu31l0h4dSpvc+t/Z199jkFWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhY/H9D/MR9qfKnLj/00U71aqfJn9+HCkCR/Wk36ddsgyJ/1wF4fkDfqqm9/gPsUeTnVr6a2xlQfnxdI7zs0W7irzD17Ytb2WT7EeNv/r4ox1O3Quf2QP2pgt9utwfout4FQE8AVBSlnaRmfvAURQkg2RlAbwB9AThlW5L0GaiKojhJhgOIBqDa7XaPrusdPtr5kQwF0BVAAoBIABRCKDd5aFUhRDAAw57eAOwAhKIoupft3zoqhB1AqLwuHIBut9uFt02qqvqRDJR2dAEQJj/BAOjn56dqmma+xiaECAEQAWAggLsB6A6HQ2iaZggBhBAqgEAAnQB0kzaEmT4hAITT6VQ8Ho/HJAKKECJQtr8LwD1y/A1/vcdfEUIEyfZ9AcQbYvZ942Px88L2UwlJR0dH0EMPPbRj5syZPUeNGrXR7Xb/641xIwJ1XY9NSUlZm52dfW+XLl1w8uRJzJ8//+OGhoYJqqqe1TSt1Wsm9NN1PSIqKmr12rVrR5WUlHy1bdu2AQCumWc3IYRD1/UwVVXnFRQUTIuNjUVzczN2797dWFJSkq8oymZd15sAGAEnFEUJ1nX9nzIzM1dnZmZGh4SE4OTJk5g5c+Zf29vbp9pstrMej6fVOyhIhgAYU1hY+B+hoaGoqKg4XVlZea+XTULTNFdCQsLGiRMnPuR2u3UhBOV9eeDAAWXTpk095DUe6WsoyRE5OTlr0tLSAux2O/bs2cO5c+e+pijKUpIXSHaQVAGkvPLKK++6XK4OksJLCFlXV2cvKSlJBFAjhU+x2WwhHo9nUHp6+urMzMy7wsLCUF9fjxdffPHjxsbGiTab7WuPx9NiEutOuq4PyMjI+M+srKyYqKgoHD58GDNmzNjq8XhyVFU9b/q+LH7hBAEYu3PnTlZVVRFAGgCX6f/tAHoOHDjwa0p27txp/JO9e/f+QM7cipw9nfL3kQBKt2zZQpJ87rnn6mQmoHilw2EACs+cOUOSrK+vZ1NTE0nyo48+IoBpxswoBcMJ4Ndjx471kOTFixe5d+9ekqTH42H//v13A4jyzpAURfEH0H/OnDnthu1z5sw558MmFUCPWbNmnaMP3nrrLZoyDmP8Hl68eDFJ8siRI9/Yc+zYMQKYKdtAztrTrl27xptRXV1NAKMAOAyBBBA/Y8aMdpLs6Ojgxx9//E37+++//29yvFXppwvAwMcee8xjtDHsuXLlCqOjo//ia3wsfpkoALqFhoZuIckJEyackimm3dQmEMDUmpoakmRISMhhAHOHDx/eQJIbN24kgKEyMAHAFRMTs2XXrl1saWkhSZ0kp0+ffhrAr3wEW/S8efOukORLL72kA1gKYMPWrVtJkk899dRJAHeYrgsEsIQkjx8/TgDvAPjd448/3kaSb7zxBmUa7vC6z53BwcFbSHL9+vU6Sc6aNes8gF5ewWAH0PfVV18lSQL4DMBGIcQ6AKtcLleBFC2jXtFt8ODBe0iyoqKCAJYByC8qKmJDQwOzsrK+MAmqo1OnTveHhoa+GRkZ+XZkZOSWiIiIvzgcjk9mzpypkWRmZuZpmbYbGV4AgPnNzc1sa2sjgN0A5iQmJtaSZHl5OQHcb/K3s81mW0uSTU1NBFAFYFbfvn1Pk+Tbb79NAA8IIVzW42/hByA+Pz/fLR/2ZXIda05NI/z9/TeR5J49ewhgqlxTrtI0jY2NjQQw3zTLuWJiYjaUlJToS5Ys6fjkk080kwDEeAmADcA9GzZsIElGRUW9CyAWwLApU6Y0kOSKFSsog9QICGdERMTGsrIyZmVlEcC9AB4IDw/fTpLbtm0jgN94CUAnAJmVlZVcs2aNZ/LkyRdJcvbs2b4EwAkgZfPmzTxw4AABFAN4BkC6vFeUSewcAO5duXIlSTIhIaEawGMAxgKYAmAGgCS73e5vrKVk/yGythANYEhCQsIhkly+fDkBpKqqGmL6DgIALDKN/3yZpVWQZGVlJQE8aPI3KiMjo5okV61aRQAjAPQBMPfIkSN0u90EUCBtsPiFEwpgbn19PdetW2fM5N4zQ9ekpKQqkty0aRMBpMjiWM6JEydIkoqirJUFJ6iq6pAPVy8A6cZMehMBUACEuVyuFwG8HBwcPEIWx367ZMkSjSQXLVrUJouTRorrkAHdA8BdQogsAOsKCwtJkmPGjDkvMw2bDDo/ADEjRoz4XylyFbm5uY0mAbjLyyZ/AOOrq6tZVlbWsWDBgo69e/eyoqKCgwcPPg4gSQaoIRbp27dvN7KF+tLSUr28vJwFBQXtMpvpYRIM7+wrAkDeqVOnePbsWQIoNKfzpiXPg8uXLydJJicnNwF4f+nSpW6STEtLq5fjYwhk1wkTJtSQ5Ouvv04AqTKj+N2xY8dIkgEBAW/Ie1v8wncRegwZMmQvSfbr12+3Ua33WqPfOWbMmP0kWVpaSgCDZAqcfejQIWNZsEGKgvnh9gfQb9myZd8nAEJVVZtMkUNk8CcNHTq0liR1XWdYWNhmH1mJIme80OnTp18x1rp5eXkEsNJms92Fb7e/IgEsvHz5Mp999tkmAI/l5uZeMC0B7vEqqAYAyL106RJJsra2lpWVld+sucePH38ZQG+5NncBeOrgwYMkqbe3t/Po0aOsra011wAWyl0H7x0JJ4DE+fPnu0kyPT29DsDdUrBuyNKEEAkAdpw/f/6GeoEM8GUmfwEgPCIiopwkGxsbabPZPgOw6L777vvm4p49e26VGYjFLxUhhD+ApLKyMp44ccIoVnXybgbgzkcfffRzklyzZg0BDJYCMMmoCwQFBXkLgLGWvvcWAgBToSsKwNPTp09vMR7UuLi4rwH0lgU8c/Db5ezbeeTIkRWzZ8++aMxu+fn5BPCADBwHgP4LFy701NXVEUAJgAnPP/98kyxMNgHo53A4zH77BQQETMvPz7+Um5vbBuAlAFMSExPPmdbVL0qh8Acw8fDhw5SCchVAEYAVb775JknyhRdeaJYztHfxMwLAaqNwCGC2FArv8x0hAHKNLGPKlCme5OTk/Zs3bzb7O0wKiiG8KXl5ed8IxenTp0mSR48e1UmyW7duWywBuD2xyQcgFECgoih+8H1gyJgZV5Lkyy+/3CbTRIePtl2HDBmyw1QBHyGDdXZdXR1JUghRKkXBjOMHCoBdpr0L3nvvPZLkF198wejo6O0A4lVVDTb74HQ6AwD8Wq7Jh8rgGgDgQ13XjVR8qaxJuADMbmlpYXl5uV5UVNRWUFDgfv/993Vj/ZydnU1c37eHXML4S3viAcQqitJD2l104cIFY8lTKsXSBWBMVVWVcd9yed2A1NTUQ6Zl00CvLMMOoHdubm6zFIlWOf5+PsY/Kj09vdrU11QAwwGsv3jxIk21m2DZr10I0RXAuAcffPBgaWkpV69eTYfDcdiwUxY0w6xw+flX8L1xApjevXv3lREREaW6rofB93aPDUDQpEmTMgHgtddeqwBwEd/utZvpqK6uPgEAcXFxkA94NwB9unfvjrNnz4LklwDcf08iIqv66Zs2bXrl4YcfxooVKxAbG7uqrq5uAYA2TdOEqqpGYIi2tjbl6aeffu/YsWPv5uTk7JaC1wHg4Pnz542MwoVvTx+21dbWYvjw4WLixIl+2dnZ9lGjRgmSTE1NRUpKCkwFTGiaxtTU1OXTpk3707Bhw/6g67pDipnT4biuj7qut+Lbk3Vf1tTUXI9qu91Pjq1QFEUBgJaWFgBo8yGOQ8eNGxcAAOvXr/8QwBUfYygAKL169eoCABcuXACAWtn2hOGv0+kMNO1KiPDw8F4A4rZv3/7R1KlTR0+bNu1ht9u9r1+/fqitrQXJgwDarRC6/QjPzs4+QJIffPCB9/aQmSAA43ft2mW0e1QGoi8CAPyLsZccExNTC2BlRkbGRdOyYJCP2csBIN6UAZzCd7cBbQCijYp/dXU1ExMTz6SmptaMHj36f9LS0vYlJCRsl6mxIWSdu3fv/g5J7t+/nwC2AShMTk6+SJKff/45AWRLYbD7+fndAeDf5BJnLoCCyZMnt5JkdnZ2C4B/F0KEm1Pu+Pj4rST55ZdfEsBWAK+mpaVdMo3raDn7KwDuSEpK+m+S3LBhAwG8DuCtHTt2UBbpjgC408vvcFVV15HkuXPnjMp+p5uMf0RcXNyHJNnQ0EBVVfcCWBQXF3fG+Jv0yxABPwB5LS0tRmFxN4BlTzzxxGWSXLx4sS5F3GGFy+1Hp5SUlJq6ujoWFxdTpsZ2H+0iIyMj/0iSWVlZX5mr5jfJFroPGzasxlhTnjp1iiTZ3NxMl8tlrCd9pfa9SkpKSJI5OTmnZOageLUZZqxvfVFWVkZcPwdgNwnSCKPqb17jkmR8fPzfZMDZ5CRsFBmNI7h95s2b1yhT7/MAYmStwCx4vy0uLqa3v5qmEcCfvSr1QQAeXb16NY3Cm3HQ55133iGAp+SxZTNhKSkpfzUddkrFjYevzAQCeGjp0qXfsYckY2NjTwD4leGDLCL2HTdunNtoY+zWSHFcIHdsFCtcfuZ1vO9Eqs3m7/F47sb1k2qX/f3997W2tl7BjWfpBYDOzzzzzIVJkyZh0KBBCwEsB3AJvl9AETabLcDj8dwRFRW1ctasWb8JCgpSzp07d62wsPC/Wltb8xRFadR1/ZqPXYbgAQMGbI2Pjw/+6quv9ldVVT0r01ezuPRJSUn5Y9euXXVd11WzDaqq6kePHm3+7LPPRgO4KlNuxWazhXo8nuTk5OSXMjIyEl0uFxoaGtqKior+dPXq1VdUVT0jj7r68ieoT58+vx8yZMjdx48fP1JVVTVF9m20VW02WyfZf97YsWPjXS4X6urqWvPy8jYCWCyEuEDS8FdVFKWzruv//OSTTy5OTk7uqWkaPv3007qysrJ8RVH+LI8ym8/rB3Tu3HnRI488knLo0KG2ffv2ZQI4C98vP6mqqoZqmpaclpa2cOTIkX39/f3R0NDQUVxc/G5TU9PLqqrWa5rWLH1QVFUN0TStX1JSUvH48eP7BwYG4uDBg1cKCgpeBbBe2u+2Qug2EwD5N5sMPuNtMe8XP4TT6Qxoa2sbIGeXvUKIK7d4IISiKC5d1wPljOfA9bPwzYqiXNV13dd6Uqiq6qdpml2mpe02m63d4/G4vcTF5fF47LJf71nJA6BZVVW3pmntuPHlmAD5wk6Q9NnbHp9vHaqq6tA0zU/64PZhk1FfCZB9G/23ALiqKEqzD39tpvbGUqoFwFUhRLP3yzpCCDtJpxyXDulfG27+pqRR3DXsUWVd4Yq0x/taVQjhIhksC8L+ABpM9ljBf5sKwI8pIBr75L5E4vvu+UNeG/a+hv+AL7yFH8qPtOfHjtOP6V/Bja8D6z/B2Nys/1u9Xv33tLf4GfF/LC4GCJwByWIAAAAASUVORK5CYII\x3d";r.yq=r.Ea.extend({sr:null,tr:null,ur:null,Ao:null,Bo:null,Co:null,rs:null,ss:null,ts:null,Ja:null,Hv:null,ctor:function(){this.Hv=new r.zh;this.restore()},description:function(){return"\x3cCCCamera | center \x3d("+this.Ao+","+this.Bo+","+this.Co+")\x3e"},Qg:function(a){this.Ja=a},vJ:function(){return this.Ja},restore:function(){this.sr=this.tr=0;this.ur=r.yq.Os();this.rs=this.Ao=this.Bo=this.Co=0;this.ss=1;this.ts=0;r.g9(this.Hv);this.Ja=!1},FJ:function(){if(this.Ja){var a=new r.$p,c=new r.$p,d=new r.$p;
r.Us(a,this.sr,this.tr,this.ur);r.Us(c,this.Ao,this.Bo,this.Co);r.Us(d,this.rs,this.ss,this.ts);r.MU(this.Hv,a,c,d);this.Ja=!1}r.kx(this.Hv)},gba:function(a,c,d){this.TK(a,c,d)},TK:function(a,c,d){this.sr=a;this.tr=c;this.ur=d;this.Ja=!0},Qaa:function(a,c,d){this.YW(a,c,d)},YW:function(a,c,d){this.Ao=a;this.Bo=c;this.Co=d;this.Ja=!0},Eca:function(a,c,d){this.$X(a,c,d)},$X:function(a,c,d){this.rs=a;this.ss=c;this.ts=d;this.Ja=!0},a5:function(){return{x:this.sr,y:this.tr,z:this.ur}},JI:function(){return{x:this.sr,
y:this.tr,z:this.ur}},z4:function(){return{x:this.Ao,y:this.Bo,z:this.Co}},GI:function(){return{x:this.Ao,y:this.Bo,z:this.Co}},q7:function(){return{x:this.rs,y:this.ss,z:this.ts}},MT:function(){return{x:this.rs,y:this.ss,z:this.ts}},R0:function(){}});r.yq.Os=function(){return r.eu};r.ou=-2147483648;r.O_=r.ou+1;r.Et=function(a,c){if(a&&0<a.length)for(var d=0;d<a.length;d++)if(!(a[d]instanceof c)){r.log("element type is wrong!");break}};r.vq=function(a,c){a.splice(c,1)};r.Zd=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c){a.splice(d,1);break}};r.oZ=function(a,c){for(var d=0,e=c.length;d<e;d++)r.Zd(a,c[d])};r.nZ=function(a,c){return a.indexOf(c)};r.lZ=function(a,c){a.push(c)};r.Zl=function(a,c,d){a.splice(d,0,c);return a};
r.mZ=function(a,c,d){a.splice.apply(a,[d,0].concat(c));return a};r.wy=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c)return d;return-1};r.uy=function(a,c){return-1!=a.indexOf(c)};r.g_=function(a,c){if(null==a)return null;for(var d=0;d<a.length;d++)if(a[d].target===c)return a[d];return null};r.fF=function(a,c,d){this.next=null;this.target=a;this.iK=c;this.paused=d;this.Cl=!1};r.bF=function(a,c,d){this.list=a;this.fn=c;this.target=d;this.QC=null};
r.JM=function(a,c){this.jg=null;this.target=a;this.rq=0;this.Bs=this.As=null;this.paused=c;this.QC=null};
r.Fu=r.Ea.extend({Qj:0,Uf:null,U:null,hc:0,$G:!1,Bw:!1,np:0,hB:0,jv:0,ctor:function(){},v5:function(){return this.Qj},setInterval:function(){},M6:function(){return this.Uf},Lg:function(a,c,d,e,f){this.U=a;this.Uf=c;this.hc=-1;this.Qj=d||0;this.jv=f||0;this.Bw=0<this.jv;this.hB=null==e?r.em:e;this.$G=this.hB==r.em;return!0},Mz:function(){if("string"==typeof this.Uf)this.U[this.Uf](this.hc);else this.Uf.call(this.U,this.hc)},update:function(a){if(-1==this.hc)this.np=this.hc=0;else{var c=this.U,d=this.Uf;
this.$G&&!this.Bw?(this.hc+=a,this.hc>=this.Qj&&(c&&d&&this.Mz(),this.hc=0)):(this.hc+=a,this.Bw?this.hc>=this.jv&&(c&&d&&this.Mz(),this.hc-=this.jv,this.np+=1,this.Bw=!1):this.hc>=this.Qj&&(c&&d&&this.Mz(),this.hc=0,this.np+=1),this.np>this.hB&&r.$.e().Ef().PL(c,d))}}});r.Fu.Gda=function(a,c,d){if(2>arguments.length)throw Error("timerWithTarget'argument can't is null");var e=new r.Fu;e.Lg(a,c,d||0,r.em,0);return e};r.E1=null;
r.yN=r.Ea.extend({ks:1,sh:null,Zh:null,Eg:null,Nj:null,Vu:null,Mj:null,c1:null,sf:null,Hi:!1,yw:!1,ctor:function(){this.ks=1;this.sh=[];this.Zh=[];this.Eg=[];this.Nj={};this.Vu=[];this.Mj={};this.Jk=[];this.sf=null;this.yw=this.Hi=!1},gB:function(a){delete this.Mj[a.target.gc];r.Zd(this.Jk,a);a.Fu=null;a.target=null},i1:function(a,c){for(var d=0;d<a.length;d++)if(a[d].target==c)return a[d];return null},$v:function(a){if(a=this.Nj[a.target.gc])r.Zd(a.list,a.fn),delete this.Nj[a.target.gc],r.Zd(this.Vu,
a),a.fn=null,a.target=null},TG:function(a,c,d,e){e=new r.fF(c,d,e);if(a){for(var f=!1,g=0;g<a.length;g++)if(d<a[g].iK){a=r.Zl(a,e,g);f=!0;break}f||a.push(e)}else a=[],a.push(e);d=new r.bF(a,e,c);this.Vu.push(d);this.Nj[c.gc]=d;return a},mO:function(a,c,d){d=new r.fF(c,0,d);a.push(d);a=new r.bF(a,d,c);this.Vu.push(a);this.Nj[c.gc]=a},yca:function(a){this.ks=a},f7:function(){return this.ks},update:function(a){this.yw=!0;1!=this.ks&&(a*=this.ks);var c,d;for(d=0;d<this.sh.length;d++)c=this.sh[d],c.paused||
c.Cl||c.target.update(a);for(d=0;d<this.Zh.length;d++)c=this.Zh[d],c.paused||c.Cl||c.target.update(a);for(d=0;d<this.Eg.length;d++)c=this.Eg[d],c.paused||c.Cl||c.target.update(a);for(d=0;d<this.Jk.length;d++){c=this.sf=this.Jk[d];this.Hi=!1;if(!this.sf.paused)for(c.rq=0;c.rq<c.jg.length;c.rq++)c.As=c.jg[c.rq],c.Bs=!1,c.As.update(a),c.As=null;this.Hi&&0==this.sf.jg.length&&this.gB(this.sf)}for(d=0;d<this.sh.length;d++)this.sh[d].Cl&&this.$v(this.sh[d]);for(d=0;d<this.Zh.length;d++)this.Zh[d].Cl&&this.$v(this.Zh[d]);
for(d=0;d<this.Eg.length;d++)this.Eg[d].Cl&&this.$v(this.Eg[d]);this.yw=!1;this.sf=null},HW:function(a,c,d,e,f,g){if(!c)throw"cc.scheduler.scheduleCallbackForTarget(): callback_fn should be non-null.";if(!a)throw"cc.scheduler.scheduleCallbackForTarget(): target should be non-null.";d=d||0;e=null==e?r.em:e;f=f||0;g=g||!1;var h=this.Mj[a.gc];h||(h=new r.JM(a,g),this.Jk.push(h),this.Mj[a.gc]=h);if(null==h.jg)h.jg=[];else for(var k=0;k<h.jg.length;k++)if(g=h.jg[k],c==g.Uf){r.log("CCSheduler#scheduleCallback. Callback already scheduled. Updating interval from:"+
g.Qj.toFixed(4)+" to "+d.toFixed(4));g.Qj=d;return}g=new r.Fu;g.Lg(a,c,d,e,f);h.jg.push(g)},BK:function(a,c,d){var e=this.Nj[a.gc];e?e.fn.Cl=!1:0==c?this.mO(this.Zh,a,d):0>c?this.sh=this.TG(this.sh,a,c,d):this.Eg=this.TG(this.Eg,a,c,d)},PL:function(a,c){if(null!=a&&null!=c){var d=this.Mj[a.gc];if(null!=d)for(var e=0;e<d.jg.length;e++){var f=d.jg[e];if(c==f.Uf){f!=d.As||d.Bs||(d.Bs=!0);r.vq(d.jg,e);d.rq>=e&&d.rq--;0==d.jg.length&&(this.sf==d?this.Hi=!0:this.gB(d));break}}}},sq:function(a){null!=a&&
(a=this.Nj[a.gc],null!=a&&(this.yw?a.fn.Cl=!0:this.$v(a.fn)))},OL:function(a){if(null!=a){var c=this.Mj[a.gc];c&&(!c.Bs&&r.uy(c.jg,c.As)&&(c.Bs=!0),c.jg.length=0,this.sf==c?this.Hi=!0:this.gB(c));this.sq(a)}},vt:function(){this.JY(r.ou)},JY:function(a){var c;for(c=0;c<this.Jk.length;c++)this.OL(this.Jk[c].target);if(0>a)for(c=0;c<this.sh.length;c++)this.sq(this.sh[c].target);if(0>=a)for(c=0;c<this.Zh.length;c++)this.sq(this.Zh[c].target);for(c=0;c<this.Eg.length;c++)this.Eg[c].iK>=a&&this.sq(this.Eg[c].target)},
A$:function(){return this.wV(r.ou)},wV:function(a){var c=[],d,e;for(d=0;d<this.Jk.length;d++)if(e=this.Jk[d])e.paused=!0,c.push(e.target);if(0>a)for(d=0;d<this.sh.length;d++)if(e=this.sh[d])e.paused=!0,c.push(e.target);if(0>=a)for(d=0;d<this.Zh.length;d++)if(e=this.Zh[d])e.paused=!0,c.push(e.target);for(d=0;d<this.Eg.length;d++)if(e=this.Eg[d])e.paused=!0,c.push(e.target);return c},zW:function(a){if(a)for(var c=0;c<a.length;c++)this.Dn(a[c])},ct:function(a){if(!a)throw"cc.Scheduler.pauseTarget():target should be non-null";
var c=this.Mj[a.gc];c&&(c.paused=!0);if(a=this.Nj[a.gc])a.fn.paused=!0},Dn:function(a){if(!a)throw"cc.Scheduler.resumeTarget():target should be non-null";var c=this.Mj[a.gc];c&&(c.paused=!1);if(a=this.Nj[a.gc])a.fn.paused=!1},O8:function(a){if(!a)throw"cc.Scheduler.isTargetPaused():target should be non-null";return(a=this.Mj[a.gc])?a.paused:!1}});r.$y={IMAGE:["png","jpg","bmp","jpeg","gif"],SOUND:["mp3","ogg","wav","mp4","m4a"],XML:["plist","xml","fnt","tmx","tsx"],BINARY:["ccbi"],FONT:"FONT",TEXT:["txt","vsh","fsh","json","ExportJson"],UNKNOW:[]};
r.dc=r.Ea.extend({Go:0,ns:0,Ir:0,Dm:null,dh:1/60,Qj:null,AG:!1,ctor:function(){this.Dm=[]},gx:function(a,c,d){if(a){c&&(this.Uf=c,this.U=d);if(a!=this.Dm||0==this.Go){this.Ir=this.Go=0;if(a[0]instanceof Array)for(c=0;c<a.length;c++)this.Dm=this.Dm.concat(a[c]);else this.Dm=a;this.ns=this.Dm.length}this.fQ()}else console.log("resources should not null")},UW:function(a){this.AG=a},un:function(a){this.Ir++;r.log("cocos2d:Failed loading resource: "+a)},ni:function(){this.Ir++},Zw:function(){var a=0;return a=
0==this.ns?100:0|this.Ir/this.ns*100},fW:function(a){if(a&&0<a.length)for(var c=r.ea.e(),d=r.Fh?r.Fh.e():null,e=r.Ck.e(),f=r.Md.e(),g,h=0;h<a.length;h++){g=a[h];var k=this.sG(g);switch(k){case "IMAGE":c.rW(g.src);break;case "SOUND":if(!d)throw"Can not find AudioEngine! Install it, please.";d.Nda(g.src);break;case "XML":e.HY(g.src);break;case "BINARY":f.GY(g.src);break;case "TEXT":f.IY(g.src);break;case "FONT":break;default:throw"cocos2d:unknown filename extension: "+k;}}},MP:function(){this.zw();
if(this.AG){var a=r.$.e().qv;if(null!=a&&20>a){r.log("cocos2d: frame rate less than 20 fps, skip frame.");return}}this.Go<this.ns&&(this.uP(),this.Go++)},uP:function(){var a=r.ea.e(),c=r.Fh?r.Fh.e():null,d=r.Ck.e(),e=r.Md.e(),f=this.Dm[this.Go],g=this.sG(f);switch(g){case "IMAGE":a.pa(f.src);break;case "SOUND":if(!c)throw"Can not find AudioEngine! Install it, please.";c.H$(f.src);break;case "XML":d.JV(f.src);break;case "BINARY":e.IV(f.src);break;case "TEXT":e.KV(f.src);break;case "FONT":this.OP(f);
break;default:throw"cocos2d:unknown filename extension: "+g;}},fQ:function(){var a=this;this.Qj=setInterval(function(){a.MP()},1E3*this.dh)},WQ:function(){clearInterval(this.Qj)},sG:function(a){if(null!=a.Es)return r.$y.FONT;a=a.src;a=a.substring(a.lastIndexOf(".")+1,a.length);var c=a.indexOf("?");0<c&&(a=a.substring(0,c));for(var d in r.$y)if(-1!=r.$y[d].indexOf(a))return d;return a},zw:function(){100<=this.Zw()&&(this.WQ(),this.IO())},IO:function(){if(this.U&&"string"==typeof this.Uf)this.U[this.Uf](this);
else this.U&&"function"==typeof this.Uf?this.Uf.call(this.U,this):this.Uf(this);this.ns=this.Ir=this.Go=0},OP:function(a){var c=a.src,d=r.Md.e();if(c&&0<c.length){var e=document.createElement("style");e.type="text/css";document.body.appendChild(e);for(var f="@font-face { font-family:"+a.Es+"; src:",g=0;g<c.length;g++)f+="url('"+d.ve(encodeURI(c[g].src))+"') format('"+c[g].type+"')",f+=g==c.length-1?";":",";e.textContent+=f+"};";c=document.createElement("div");c.style.fontFamily=a.Es;c.innerHTML=".";
c.style.position="absolute";c.style.left="-100px";c.style.top="-100px";document.body.appendChild(c)}r.dc.e().ni()},K1:function(){}});r.dc.wD=function(a,c,d){this.Kb||(this.Kb=new r.dc);this.Kb.gx(a,c,d);return this.Kb};r.dc.G$=function(a,c,d){this.Kb||(this.Kb=new r.dc);this.Kb.UW(!0);this.Kb.gx(a,c,d);return this.Kb};r.dc.xD=function(a){this.Kb&&this.Kb.fW(a)};r.dc.e=function(){this.Kb||(this.Kb=new r.dc);return this.Kb};r.dc.Kb=null;
r.Ry=r.Eq.extend({Gv:null,Xo:null,ow:null,Vq:null,Vo:null,XB:null,ctor:function(){r.Eq.prototype.ctor.call(this);this.XB=r.$.e().Sb},r:function(){r.Eq.prototype.r.call(this);var a=r.a(this.XB.width/2,this.XB.height/2);this.Xo=new Image;var c=this;this.Xo.addEventListener("load",function(){c.eP(a);this.removeEventListener("load",arguments.callee,!1)});this.Xo.src="";this.Xo.width=160;this.Xo.height=200;this.Vq=r.aa.create(r.gC(32,32,32,255));this.Vq.m(0,0);this.f(this.Vq,0);this.Vo=r.P.create("Loading... 0%",
"Arial",14);this.Vo.n(r.Gw(180,180,180));this.Vo.m(r.fg(a,r.a(0,-110)));this.Vq.f(this.Vo,10)},eP:function(a){this.ow=new r.ec;this.ow.Gf(this.Xo);this.ow.Ee();this.Gv=r.A.bb(this.ow);this.Gv.uk(r.Ld());this.Gv.m(a);this.Vq.f(this.Gv,10)},Pg:function(){r.D.prototype.Pg.call(this);this.cc(this.mH,0.3)},Ud:function(){r.D.prototype.Ud.call(this);this.Vo.ha("Loading... 0%")},gx:function(a,c,d){this.wW=a;this.MW=c;this.target=d},mH:function(){this.Uc(this.mH);r.dc.wD(this.wW,this.MW,this.target);this.cc(this.zw)},
zw:function(){var a=r.dc.e().Zw();this.Vo.ha("Loading... "+a+"%");100<=a&&this.Uc(this.zw)}});r.Ry.wD=function(a,c,d){this.Kb||(this.Kb=new r.Ry,this.Kb.r());this.Kb.gx(a,c,d);a=r.$.e();a.sd?a.wK(this.Kb):a.EW(this.Kb);return this.Kb};r.Gy=r.Ea.extend({wb:null,cca:function(a){this.wb=a},z6:function(){return this.wb},ctor:function(a){this.wb=a},tC:function(){r.log("DrawingPrimitive.drawPoint() not implement!")},pI:function(){r.log("DrawingPrimitive.drawPoints() not implement!")},ci:function(){r.log("DrawingPrimitive.drawLine() not implement!")},rI:function(){r.log("DrawingPrimitive.drawRect() not implement!")},uC:function(){r.log("DrawingPrimitive.drawSolidRect() not implement!")},qe:function(){r.log("DrawingPrimitive.drawPoly() not implement!")},
Qw:function(){r.log("DrawingPrimitive.drawSolidPoly() not implement!")},mI:function(){r.log("DrawingPrimitive.drawCircle() not implement!")},qI:function(){r.log("DrawingPrimitive.drawQuadBezier() not implement!")},nI:function(){r.log("DrawingPrimitive.drawCubicBezier() not implement!")},lI:function(){r.log("DrawingPrimitive.drawCardinalSpline() not implement!")},Pw:function(){r.log("DrawingPrimitive.drawCardinalSpline() not implement!")}});
r.ZE=r.Gy.extend({tC:function(a,c){c||(c=1);var d=r.va.e().ya,e=r.va.e().Ca,e=r.a(a.x*d,a.y*e);this.wb.beginPath();this.wb.arc(e.x,-e.y,c*d,0,2*Math.PI,!1);this.wb.closePath();this.wb.fill()},pI:function(a,c,d){if(null!=a){d||(d=1);c=this.wb;var e=r.va.e().ya,f=r.va.e().Ca;c.beginPath();for(var g=0,h=a.length;g<h;g++)c.arc(a[g].x*e,-a[g].y*f,d*e,0,2*Math.PI,!1);c.closePath();c.fill()}},ci:function(a,c){var d=this.wb,e=r.va.e().ya,f=r.va.e().Ca;d.beginPath();d.moveTo(a.x*e,-a.y*f);d.lineTo(c.x*e,-c.y*
f);d.closePath();d.stroke()},rI:function(a,c){this.ci(r.a(a.x,a.y),r.a(c.x,a.y));this.ci(r.a(c.x,a.y),r.a(c.x,c.y));this.ci(r.a(c.x,c.y),r.a(a.x,c.y));this.ci(r.a(a.x,c.y),r.a(a.x,a.y))},uC:function(a,c,d){a=[a,r.a(c.x,a.y),c,r.a(a.x,c.y)];this.Qw(a,4,d)},qe:function(a,c,d,e){e=e||!1;if(null!=a){if(3>a.length)throw Error("Polygon's point must greater than 2");var f=a[0];c=this.wb;var g=r.va.e().ya,h=r.va.e().Ca;c.beginPath();c.moveTo(f.x*g,-f.y*h);for(var f=1,k=a.length;f<k;f++)c.lineTo(a[f].x*g,
-a[f].y*h);d&&c.closePath();e?c.fill():c.stroke()}},Qw:function(a,c,d){this.RK(d.p,d.o,d.i,d.J);this.qe(a,c,!0,!0)},mI:function(a,c,d,e,f){f=f||!1;e=this.wb;var g=r.va.e().ya,h=r.va.e().Ca;e.beginPath();e.arc(0|a.x*g,0|-(a.y*h),c*g,-d,-(d-2*Math.PI),!1);f&&e.lineTo(0|a.x*g,0|-(a.y*h));e.stroke()},qI:function(a,c,d,e){for(var f=[],g=0,h=0;h<e;h++)f.push(r.a(Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y)),g+=1/e;f.push(r.a(d.x,d.y));this.qe(f,e+1,!1,!1)},nI:function(a,
c,d,e,f){for(var g=[],h=0,k=0;k<f;k++)g.push(r.a(Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y)),h+=1/f;g.push(r.a(e.x,e.y));this.qe(g,f+1,!1,!1)},lI:function(a,c){this.Pw(a,0.5,c)},Pw:function(a,c,d){r.Y.strokeStyle="rgba(255,255,255,1)";for(var e=[],f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=r.Ay(r.vh(a,f-1),r.vh(a,f-0),r.vh(a,f+1),r.vh(a,f+2),c,g),e.push(f);this.qe(e,
d+1,!1,!1)},drawImage:function(a,c,d,e,f){switch(arguments.length){case 2:this.wb.drawImage(a,c.x,-(c.y+a.height));break;case 3:this.wb.drawImage(a,c.x,-(c.y+d.height),d.width,d.height);break;case 5:this.wb.drawImage(a,c.x,c.y,d.width,d.height,e.x,-(e.y+f.height),f.width,f.height);break;default:throw Error("Argument must be non-nil");}},v3:function(a,c,d){a=a||this.wb;c*=r.va.e().ya;d instanceof r.ae&&(d=new r.Gc(0|255*d.p,0|255*d.o,0|255*d.i));d="rgba("+d.p+","+d.o+","+d.i;a.fillStyle=d+",1)";var e=
c/10;a.beginPath();a.moveTo(-c,c);a.lineTo(0,e);a.lineTo(c,c);a.lineTo(e,0);a.lineTo(c,-c);a.lineTo(0,-e);a.lineTo(-c,-c);a.lineTo(-e,0);a.lineTo(-c,c);a.closePath();a.fill();var f=a.createRadialGradient(0,0,e,0,0,c);f.addColorStop(0,d+", 1)");f.addColorStop(0.3,d+", 0.8)");f.addColorStop(1,d+", 0.0)");a.fillStyle=f;a.beginPath();a.arc(0,0,c-e,0,r.jF,!1);a.closePath();a.fill()},t3:function(a,c,d){a=a||this.wb;c*=r.va.e().ya;d instanceof r.ae&&(d=new r.Gc(0|255*d.p,0|255*d.o,0|255*d.i));d="rgba("+
d.p+","+d.o+","+d.i;var e=a.createRadialGradient(0,0,c/10,0,0,c);e.addColorStop(0,d+", 1)");e.addColorStop(0.3,d+", 0.8)");e.addColorStop(0.6,d+", 0.4)");e.addColorStop(1,d+", 0.0)");a.fillStyle=e;a.beginPath();a.arc(0,0,c,0,r.jF,!1);a.closePath();a.fill()},fillText:function(a,c,d){this.wb.fillText(a,c,-d)},hX:function(a,c,d,e){this.wb.fillStyle="rgba("+a+","+c+","+d+","+e/255+")";this.wb.strokeStyle="rgba("+a+","+c+","+d+","+e/255+")"},RK:function(a,c,d,e){this.wb.fillStyle="rgba("+(0|255*a)+","+
(0|255*c)+","+(0|255*d)+","+e+")";this.wb.strokeStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+")"},KX:function(){},tX:function(a){this.wb.lineWidth=a*r.va.e().ya}});
r.zM=r.Gy.extend({Dr:!1,Nb:null,Fi:-1,nc:null,VA:-1,UA:-1,ctor:function(a){null==a&&(a=r.Y);if(!a instanceof WebGLRenderingContext)throw"Can't initialise DrawingPrimitiveWebGL. context need is WebGLRenderingContext";r.Gy.prototype.ctor.call(this,a);this.nc=new r.ae(1,1,1,1)},mk:function(){this.Dr||(this.Nb=r.Jh.e().oi(r.n0),this.Fi=this.wb.getUniformLocation(this.Nb.$w(),"u_color"),this.VA=this.wb.getUniformLocation(this.Nb.$w(),"u_pointSize"),this.Dr=!0)},u3:function(){this.Dr=!1},tC:function(a){this.mk();
this.Nb.pf();this.Nb.Sg();r.ze(r.ah);this.Nb.Nl(this.Fi,new Float32Array(this.nc.Rb,0,4),1);this.Nb.mL(this.VA,this.UA);var c=this.wb,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,new Float32Array([a.x,a.y]),c.STATIC_DRAW);c.vertexAttribPointer(r.Pe,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,1);c.deleteBuffer(d);r.Gh()},pI:function(a){if(a&&0!=a.length){this.mk();this.Nb.pf();this.Nb.Sg();r.ze(r.ah);this.Nb.Nl(this.Fi,new Float32Array(this.nc.Rb,0,4),1);this.Nb.mL(this.VA,
this.UA);var c=this.wb,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.Vv(a),c.STATIC_DRAW);c.vertexAttribPointer(r.Pe,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,a.length);c.deleteBuffer(d);r.Gh()}},Vv:function(a){for(var c=new Float32Array(2*a.length),d=0;d<a.length;d++)c[2*d]=a[d].x,c[2*d+1]=a[d].y;return c},ci:function(a,c){this.mk();this.Nb.pf();this.Nb.Sg();r.ze(r.ah);this.Nb.Nl(this.Fi,new Float32Array(this.nc.Rb,0,4),1);var d=this.wb,e=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,
e);d.bufferData(d.ARRAY_BUFFER,this.Vv([a,c]),d.STATIC_DRAW);d.vertexAttribPointer(r.Pe,2,d.FLOAT,!1,0,0);d.drawArrays(d.LINES,0,2);d.deleteBuffer(e);r.Gh()},rI:function(a,c){this.ci(r.a(a.x,a.y),r.a(c.x,a.y));this.ci(r.a(c.x,a.y),r.a(c.x,c.y));this.ci(r.a(c.x,c.y),r.a(a.x,c.y));this.ci(r.a(a.x,c.y),r.a(a.x,a.y))},uC:function(a,c,d){a=[a,r.a(c.x,a.y),c,r.a(a.x,c.y)];this.Qw(a,4,d)},qe:function(a,c,d){this.mk();this.Nb.pf();this.Nb.Sg();r.ze(r.ah);this.Nb.Nl(this.Fi,new Float32Array(this.nc.Rb,0,4),
1);c=this.wb;var e=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,e);c.bufferData(c.ARRAY_BUFFER,this.Vv(a),c.STATIC_DRAW);c.vertexAttribPointer(r.Pe,2,c.FLOAT,!1,0,0);d?c.drawArrays(c.LINE_LOOP,0,a.length):c.drawArrays(c.LINE_STRIP,0,a.length);c.deleteBuffer(e);r.Gh()},Qw:function(a,c,d){this.mk();d||(d=this.nc);this.Nb.pf();this.Nb.Sg();r.ze(r.ah);this.Nb.Nl(this.Fi,new Float32Array(d.Rb,0,4),1);c=this.wb;d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.Vv(a),c.STATIC_DRAW);
c.vertexAttribPointer(r.Pe,2,c.FLOAT,!1,0,0);c.drawArrays(c.TRIANGLE_FAN,0,a.length);c.deleteBuffer(d);r.Gh()},mI:function(a,c,d,e,f){this.mk();var g=1;f&&g++;var h=2*Math.PI/e;if(f=new Float32Array(2*(e+2))){for(var k=0;k<=e;k++){var l=k*h,m=c*Math.sin(l+d)+a.y;f[2*k]=c*Math.cos(l+d)+a.x;f[2*k+1]=m}f[2*(e+1)]=a.x;f[2*(e+1)+1]=a.y;this.Nb.pf();this.Nb.Sg();r.ze(r.ah);this.Nb.Nl(this.Fi,new Float32Array(this.nc.Rb,0,4),1);a=this.wb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(r.Pe,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+g);a.deleteBuffer(c);r.Gh()}},qI:function(a,c,d,e){this.mk();for(var f=new Float32Array(2*(e+1)),g=0,h=0;h<e;h++)f[2*h]=Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,f[2*h+1]=Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y,g+=1/e;f[2*e]=d.x;f[2*e+1]=d.y;this.Nb.pf();this.Nb.Sg();r.ze(r.ah);this.Nb.Nl(this.Fi,new Float32Array(this.nc.Rb,0,4),1);a=this.wb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(r.Pe,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+1);a.deleteBuffer(c);r.Gh()},nI:function(a,c,d,e,f){this.mk();for(var g=new Float32Array(2*(f+1)),h=0,k=0;k<f;k++)g[2*k]=Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,g[2*k+1]=Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y,h+=1/f;g[2*f]=e.x;g[2*f+1]=e.y;this.Nb.pf();this.Nb.Sg();r.ze(r.ah);this.Nb.Nl(this.Fi,new Float32Array(this.nc.Rb,0,4),1);a=this.wb;c=a.createBuffer();
a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,g,a.STATIC_DRAW);a.vertexAttribPointer(r.Pe,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,f+1);a.deleteBuffer(c);r.Gh()},lI:function(a,c){this.Pw(a,0.5,c)},Pw:function(a,c,d){this.mk();for(var e=new Float32Array(2*(d+1)),f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=r.Ay(r.vh(a,f-1),r.vh(a,f),r.vh(a,f+1),r.vh(a,f+2),c,g),e[2*k]=f.x,e[2*k+1]=f.y;this.Nb.pf();this.Nb.Sg();r.ze(r.ah);this.Nb.Nl(this.Fi,
new Float32Array(this.nc.Rb,0,4),1);a=this.wb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,e,a.STATIC_DRAW);a.vertexAttribPointer(r.Pe,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,d+1);a.deleteBuffer(c);r.Gh()},hX:function(a,c,d,e){this.nc.p=a/255;this.nc.o=c/255;this.nc.i=d/255;this.nc.J=e/255},RK:function(a,c,d,e){this.nc.p=a;this.nc.o=c;this.nc.i=d;this.nc.J=e},KX:function(a){this.UA=a*r.Ld()},tX:function(a){this.wb.lineWidth&&this.wb.lineWidth(a)}});r.jF=2*Math.PI;r.CF={O0:0,s_:1,t_:2,dZ:3,l_:4,k_:5,qZ:6,B_:7,WZ:8,bN:100,kN:101};r.H_=0;r.I_=1;r.F_=2;r.G_=3;r.mg=0;r.Fk=1;r.ag=null;r.Y=null;r.canvas=null;r.VS=null;r.Id=r.mg;r.rV=r.size(0,0);window.JD=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;window.console||(window.console={},window.console.log=function(){},window.console.assert=function(){});r.bD=!1;
r.Ol=function(a,c,d){function e(){if(r.Fh){var a=r.Fh.e();document[k]?(a.vV(),a.xV()):(r.$.e().bQ(),a.xW(),a.yW())}}a=r.Pb(a)||r.Pb("#"+a);var f,g,h;"CANVAS"==a.tagName?(c=c||a.width,d=d||a.height,g=r.gk=r.yk("DIV"),h=g.style,f=r.canvas=a,f.parentNode.insertBefore(g,f),f.bn(g),h.width=(c||480)+"px",h.height=(d||320)+"px",g.setAttribute("id","Cocos2dGameContainer"),h.margin="0 auto",f.setAttribute("width",c||480),f.setAttribute("height",d||320)):("DIV"!=a.tagName&&r.log("Warning: target element is not a DIV or CANVAS"),
c=c||a.clientWidth,d=d||a.clientHeight,f=r.canvas=r.yk("CANVAS"),f.LH("gameCanvas"),f.setAttribute("width",c||480),f.setAttribute("height",d||320),g=r.gk=a,h=g.style,a.appendChild(f),h.width=(c||480)+"px",h.height=(d||320)+"px",h.margin="0 auto");h.position="relative";h.overflow="hidden";g.top="100%";if(!r.xz){r.Ga.Tc&&(r.Y=r.gea=r.aI(f,{stencil:!0,preserveDrawingBuffer:!0,antialias:!r.Ga.lk,alpha:!1}));r.Y?(r.Id=r.Fk,window.gl=r.Y,r.ag=new r.zM(r.Y),r.ea.e().lP()):(r.Y=f.getContext("2d"),r.UU=r.Y,
r.Id=r.mg,r.Y.translate(0,f.height),r.ag=r.ZE?new r.ZE(r.Y):null);r.rV=r.size(f.width,f.height);r.VS=g;r.log(r.Kt);r.Ne.e();r.dX();r.Ga.lk&&r.hO();var k,l;"undefined"!==typeof document.hidden?(k="hidden",l="visibilitychange"):"undefined"!==typeof document.mozHidden?(k="mozHidden",l="mozvisibilitychange"):"undefined"!==typeof document.msHidden?(k="msHidden",l="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(k="webkitHidden",l="webkitvisibilitychange");"undefined"===typeof document.addEventListener||
"undefined"===typeof k?(r.bD=!1,window.addEventListener("focus",function(){if(r.Fh){var a=r.Fh.e();a.xW();a.yW()}},!1),window.addEventListener("blur",function(){if(r.Fh){var a=r.Fh.e();a.vV();a.xV()}},!1)):(r.bD=!0,document.addEventListener(l,e,!1))}};r.hO=function(){var a=document.createElement("style");a.type="text/css";document.body.appendChild(a);a.textContent="body,canvas,div{ -moz-user-select: none;-webkit-user-select: none;-ms-user-select: none;-khtml-user-select: none;-webkit-tap-highlight-color:rgba(0,0,0,0);}"};
r.BG=!1;r.dX=function(){r.BG=!1;r.canvas.oncontextmenu=r.BG?function(){}:function(){return!1}};r.tj=r.Ea.extend({dh:null,ctor:function(){this.dh=0;if(r.vB)throw"Application has been initialized";r.vB=this},it:function(a){this.dh=a},dda:function(a){a&&r.rect(0,0,0,0)},b7:function(){return r.Ga.lk?r.CF.bN:r.CF.kN},BW:function(){if(!this.AR())return 0;var a,c=r.$.e(),d=window;r.zS=c;d.JD&&this.dh==1/60?(a=function(){c.KJ();d.JD(a)},d.JD(a)):(a=function(){c.KJ()},setInterval(a,1E3*this.dh));return 0}});
r.tj.e=function(){return r.vB};r.tj.L4=function(){var a=r.QM,c=navigator.language;c||(c=navigator.browserLanguage||navigator.Wda);if(!c)return a;c=c.toLowerCase();switch(c){case "zh-cn":a=r.PM;break;case "fr":a=r.RM;break;case "it":a=r.UM;break;case "de":a=r.SM;break;case "es":a=r.aN;break;case "ru":a=r.$M;break;case "ko":a=r.WM;break;case "ja":a=r.VM;break;case "hu":a=r.TM;break;case "pt":a=r.ZM;break;case "ar":a=r.OM;break;case "no":a=r.XM;break;case "pl":a=r.YM}return a};r.vB=null;r.Ck=r.Ea.extend({iea:null,RG:null,tp:null,HA:null,ctor:function(){this.tp={};window.DOMParser?(this.HA=!0,this.RG=new DOMParser):this.HA=!1},parse:function(a){var c=a;a=this.KI(a);a=this.SG(a,c).documentElement;if("plist"!=a.tagName)throw"cocos2d: "+c+" is not a plist file or you forgot to preload the plist file";for(var c=null,d=0,e=a.childNodes.length;d<e&&(c=a.childNodes[d],1!=c.nodeType);d++);return this.RA(c)},Hda:function(a,c){if(null==c||!1===c)a=this.KI(a);return this.SG(a)},SG:function(a,
c){var d;this.HA?d=this.RG.parseFromString(a,"text/xml"):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(a));null==d&&r.log("cocos2d:xml "+c+" not found!");return d},RA:function(a){var c=null;switch(a.tagName){case "dict":c=this.JP(a);break;case "array":c=this.IP(a);break;case "string":if(1==a.childNodes.length)c=a.firstChild.nodeValue;else for(var c="",d=0;d<a.childNodes.length;d++)c+=a.childNodes[d].nodeValue;break;case "false":c=!1;break;case "true":c=!0;break;case "real":c=
parseFloat(a.firstChild.nodeValue);break;case "integer":c=parseInt(a.firstChild.nodeValue,10)}return c},IP:function(a){for(var c=[],d=0,e=a.childNodes.length;d<e;d++){var f=a.childNodes[d];1==f.nodeType&&c.push(this.RA(f))}return c},JP:function(a){for(var c={},d=null,e=0,f=a.childNodes.length;e<f;e++){var g=a.childNodes[e];1==g.nodeType&&("key"==g.tagName?d=g.firstChild.nodeValue:c[d]=this.RA(g))}return c},JV:function(a){a=r.Md.e().ve(a);if(window.XMLHttpRequest){var c=new XMLHttpRequest;c.overrideMimeType&&
c.overrideMimeType("text/xml")}if(null!=c){var d=this;c.onreadystatechange=function(){4==c.readyState&&(c.responseText?(r.dc.e().ni(),d.tp[a]=c.responseText,c=null):(r.dc.e().ni(),r.log("cocos2d:There was a problem retrieving the xml data:"+c.statusText)))};c.open("GET",a,!0);c.send(null)}else throw"cocos2d:Your browser does not support XMLHTTP.";},HY:function(a){this.tp.hasOwnProperty(a)&&delete this.tp[a]},getName:function(a){return a.substring(a.lastIndexOf("/",a.length)+1,a.lastIndexOf(".",a.length))},
Z4:function(a){return a.substring(a.lastIndexOf(".",a.length)+1,a.length)},KI:function(a){return null!=this.tp?this.tp[a]:null}});r.Ck.e=function(){this.Kb||(this.Kb=new r.Ck);return this.Kb};r.Ck.Kb=null;r.ty=r.Ea.extend({yS:function(){r.tj.e().BW();return!0},n2:function(){r.$.e().pause()},m2:function(){r.$.e().yK()},zR:function(){r.tj.e().zR()},BR:function(){r.tj.e().BR()},o2:function(){}});r.ty.iY=function(){null==r.Yx&&(r.Yx=new r.ty);if(!r.Yx)throw"Application initialize failure";return r.Yx};r.Yx=null;r.P=r.A.extend({he:null,Sk:r.zj,ll:r.Nq,tf:null,Se:0,Dg:"",QA:null,Ro:!1,Jj:null,Wj:!1,Im:null,ep:0,$r:0,fw:null,hl:!1,es:null,jp:0,hw:null,kp:null,pv:null,FB:0,GB:0,od:!1,Cv:null,Dv:null,ctor:function(){r.A.prototype.ctor.call(this);this.he=r.fm();this.Sk=r.Jq;this.ll=r.Nq;this.qc=!1;this.Jj="";this.tf="Arial";this.Wj=this.Ro=!1;this.Im=r.fm();this.$r=this.ep=0;this.fw="rgba(128, 128, 128, 0.5)";this.hl=!1;this.es=r.Ab();this.jp=0;this.hw="";this.kp=r.Ab();this.pv="rgba(255,255,255,1)";this.GB=this.FB=
0;this.od=!1;this.Vh()},r:function(){return this.ul(" ",this.tf,this.Se)},yP:function(){this.wA().font=this.Jj},Kr:function(a){return this.wA().measureText(a).width},wO:function(a,c){var d=this.Kr(a),e=Math.floor(a.length*c/d),f=a.indexOf("\n");if(0.8*e>=f&&0<f)return f+1;if(d<c)return a.length;for(var d=!1,f=c+1,g=-1,h=e,k,l=r.P.xO,m=r.P.dQ,n=r.P.vO,p=a.substr(e);k=l.exec(p);){h+=k[0].length;if("\n"==k[2]){d=!0;g=h;break}f=this.Kr(a.substr(0,h));if(f>c){-1!=g&&(d=!0);break}g=h;p=a.substr(h)}if(d)return g;
p=a.substr(0,e);for(g=e;k=m.exec(p);)if(g=k[1].length,p=k[1],f=this.Kr(p),f<c){n.test(k[2])&&g++;break}return g},description:function(){return"\x3ccc.LabelTTF | FontName \x3d"+this.tf+" FontSize \x3d "+this.Se.toFixed(1)+"\x3e"},n:null,Vr:function(a){r.Bb.prototype.n.call(this,a);this.aH()},Vh:null,aH:function(){this.od=!0;var a=this.Kc,c=this.$b,d=this.es,e=this.kp;this.fw="rgba("+(0|0.5*a.p)+","+(0|0.5*a.o)+","+(0|0.5*a.i)+","+this.ep+")";this.pv="rgba("+(0|a.p/255*e.p)+","+(0|a.o/255*e.o)+","+
(0|a.i/255*e.i)+", "+c/255+")";this.hw="rgba("+(0|a.p/255*d.p)+","+(0|a.o/255*d.o)+","+(0|a.i/255*d.i)+", "+c/255+")"},mQ:function(){this.od=!0;var a=this.es,c=this.kp;this.fw="rgba(128,128,128,"+this.ep+")";this.pv="rgba("+(0|c.p)+","+(0|c.o)+","+(0|c.i)+", 1)";this.hw="rgba("+(0|a.p)+","+(0|a.o)+","+(0|a.i)+", 1)"},jd:null,MB:function(a){r.Bb.prototype.jd.call(this,a);this.Vh()},ra:null,Xr:function(a){this.Qi!==a&&(r.A.prototype.ra.call(this,a),this.Vh(),this.od=!0)},kd:null,Sda:function(a){r.Bb.prototype.kd.call(this,
a);this.Vh()},HC:function(){return this.Dg},l5:function(){return this.Sk},v7:function(){return this.ll},U4:function(){return r.size(this.he.width,this.he.height)},f5:function(){return this.Se},e5:function(){return this.tf},ul:function(a,c,d,e,f,g){a=a?a+"":"";d=d||16;e=e||r.size(0,d);f=f||r.Jq;g=g||r.Oq;return r.A.prototype.r.call(this)?(this.qc=!1,this.he=r.size(e.width,e.height),this.tf=c||"Arial",this.Sk=f,this.ll=g,this.Se=d,this.Jj=this.Se+"px '"+c+"'",this.Ij=r.P.Qu(c,this.Se),this.ha(a),this.Vh(),
this.OB(),this.od=!1,!0):!1},YC:null,hP:function(a,c){if(!r.A.prototype.r.call(this))return!1;this.PB(c,!1);this.ha(a);return!0},iP:function(a,c){if(!r.A.prototype.r.call(this))return!1;this.Rg(r.Jh.e().oi(r.P.SN));this.PB(c,!1);this.ha(a);return!0},vca:function(a){a&&this.PB(a,!0)},c7:function(){return this.NP(!1)},NS:function(a,c,d){c=c||0.5;!1===this.Wj&&(this.Wj=!0);var e=this.Im;if(e&&e.width!=a.width||e.height!=a.height)e.width=a.width,e.height=a.height;this.ep!=c&&(this.ep=c);this.Vh();this.$r!=
d&&(this.$r=d);this.od=!0},o3:function(){this.Wj&&(this.Wj=!1,this.od=!0)},OS:function(a,c){!1===this.hl&&(this.hl=!0);var d=this.es;if(d.p!==a.p||d.o!==a.o||d.i!==a.i)d.p=a.p,d.o=a.o,d.i=a.i,this.Vh();this.jp!==c&&(this.jp=c||0);this.od=!0},p3:function(){this.hl&&(this.hl=!1,this.od=!0)},UD:null,qQ:function(a){var c=this.kp;if(c.p!=a.p||c.o!=a.o||c.i!=a.i)c.p=a.p,c.o=a.o,c.i=a.i,this.Vh(),this.od=!0},rQ:function(a){var c=this.kp;if(c.p!=a.p||c.o!=a.o||c.i!=a.i)c.p=a.p,c.o=a.o,c.i=a.i,this.Vh(),this.od=
!0},PB:function(a,c){a.Ds?(this.he.width=a.Ds.width,this.he.height=a.Ds.height):(this.he.width=0,this.he.height=0);this.Sk=a.yI;this.ll=a.zI;this.tf=a.Es;this.Se=a.fontSize||12;this.Jj=this.Se+"px '"+this.tf+"'";this.Ij=r.P.Qu(this.tf,this.Se);a.vL&&this.NS(a.wL,a.xL,a.shadowBlur,!1);a.mE&&this.OS(a.strokeColor,a.HL,!1);this.UD(a.AI,!1);c&&this.OB()},NP:function(a){var c=new r.FM;a?(c.fontSize=this.Se,c.Ds=r.dz(this.he)):(c.fontSize=this.Se,c.Ds=r.size(this.he.width,this.he.height));c.Es=this.tf;
c.yI=this.Sk;c.zI=this.ll;if(this.hl){c.mE=!0;var d=this.es;c.strokeColor=new r.Gc(d.p,d.o,d.i);c.HL=this.jp}else c.mE=!1;this.Wj?(c.vL=!0,c.shadowBlur=this.$r,c.xL=this.ep,c.wL=a?r.dz(this.Im):r.size(this.Im.width,this.Im.height)):c.Wj=!1;a=this.kp;c.AI=new r.Gc(a.p,a.o,a.i);return c},Ij:18,ha:function(a){a=String(a);this.QA!=a&&(this.QA=a+"",this.AH(),this.od=!0)},AH:function(){this.Dg=this.QA},nba:function(a){a!==this.Sk&&(this.Sk=a,this.od=!0)},Ica:function(a){a!=this.ll&&(this.ll=a,this.od=!0)},
Ob:function(a){if(a.width!=this.he.width||a.height!=this.he.height)this.he=a,this.AH(),this.od=!0},UK:function(a){this.Se!==a&&(this.Se=a,this.Jj=a+"px '"+this.tf+"'",this.Ij=r.P.Qu(this.tf,a),this.od=!0)},nX:function(a){this.tf&&this.tf!=a&&(this.tf=a,this.Jj=this.Se+"px '"+a+"'",this.Ij=r.P.Qu(a,this.Se),this.od=!0)},NO:function(a){if(a){var c=this.FB,d=this.GB,e=this.xa.wa-d,f=this.ll,g=this.Sk,h=this.Ij,k=this.jp;a.setTransform(1,0,0,1,0+0.5*c,e+0.5*d);a.font!=this.Jj&&(a.font=this.Jj);a.fillStyle=
this.pv;var l=d=0,m=this.hl;m&&(a.lineWidth=2*k,a.strokeStyle=this.hw);this.Wj&&(k=this.Im,a.shadowColor=this.fw,a.shadowOffsetX=k.width,a.shadowOffsetY=-k.height,a.shadowBlur=this.$r);a.textBaseline=r.P.QQ[f];a.textAlign=r.P.PQ[g];c=this.xa.Ha-c;d=g===r.EN?d+c:g===r.zj?d+c/2:d+0;if(this.Ro)for(g=this.Yj.length,f===r.Nq?l=h+e-h*g:f===r.Mu&&(l=h/2+(e-h*g)/2),f=0;f<g;f++)c=this.Yj[f],k=-e+h*f+l,m&&a.strokeText(c,d,k),a.fillText(c,d,k);else f!==r.Nq&&(l=f===r.Oq?l-e:l-0.5*e),m&&a.strokeText(this.Dg,
d,l),a.fillText(this.Dg,d,l)}},wA:function(){if(this.Dv)return this.Dv;if(!this.Cv){var a=document.createElement("canvas"),c=new r.ec;c.Gf(a);this.ga(c);this.Cv=a}return this.Dv=this.Cv.getContext("2d")},BH:function(){var a=this.he.width,c,d;this.FG=[];this.Ro=!1;this.yP();if(0!==a){var e=this.Dg;this.Yj=[];c=0;for(d=this.Dg.length;c<d;){var f=this.wO(e.substr(c),a);this.Yj.push(e.substr(c,f));c+=f}}else for(this.Yj=this.Dg.split("\n"),c=0,d=this.Yj.length;c<d;c++)this.FG.push(this.Kr(this.Yj[c]));
0<this.Yj.length&&(this.Ro=!0);d=c=0;this.hl&&(c=d=2*this.jp);this.Wj&&(e=this.Im,c+=2*Math.abs(e.width),d+=2*Math.abs(e.height));a=0===a?this.Ro?r.size(0|Math.max.apply(Math,this.FG)+c,0|this.Ij*this.Yj.length+d):r.size(0|this.Kr(this.Dg)+c,0|this.Ij+d):0===this.he.height?this.Ro?r.size(0|a+c,0|this.Ij*this.Yj.length+d):r.size(0|a+c,0|this.Ij+d):r.size(0|a+c,0|this.he.height+d);this.S(a);this.FB=c;this.GB=d;e=this.Kh;this.Od.H=0.5*c+(a.width-c)*e.H;this.Od.M=0.5*d+(a.height-d)*e.M},c:function(){this.od&&
this.BH();return r.A.prototype.c.call(this)},OB:function(){var a=this.wA(),c=this.Cv,d=this.xa;if(0===this.Dg.length)return c.width=1,c.height=d.wa,this.Ub(r.rect(0,0,1,d.wa)),!0;a.font=this.Jj;this.BH();var e=d.Ha,d=d.wa,f=c.width==e&&c.height==d;c.width=e;c.height=d;f&&a.clearRect(0,0,e,d);this.NO(a);this.Fa.Ee();this.Ub(r.rect(0,0,e,d));return!0},sa:function(a){this.Dg&&""!=this.Dg&&(this.od&&(this.od=!1,this.OB()),r.A.prototype.sa.call(this,a||r.Y))},Va:null,vg:function(a){if(this.Dg&&""!=this.Dg){a=
a||r.Y;var c=this.Fa;c&&c.vc&&(this.Mc.pf(),this.Mc.Sg(),r.jk(this.ia.src,this.ia.Jb),r.Jg(c),r.ze(r.Lu),a.bindBuffer(a.ARRAY_BUFFER,this.Zv),this.xf&&(a.bufferData(a.ARRAY_BUFFER,this.Mb.bC,a.STATIC_DRAW),this.xf=!1),a.vertexAttribPointer(r.Pe,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(r.Mq,2,a.FLOAT,!1,24,16),a.vertexAttribPointer(r.Lq,4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));1===r.Dk?(a=this.Mb,a=[r.a(a.Sa.t.x,a.Sa.t.y),r.a(a.Ka.t.x,a.Ka.t.y),r.a(a.Ua.t.x,a.Ua.t.y),r.a(a.Na.t.x,
a.Na.t.y)],r.ag.qe(a,4,!0)):2===r.Dk&&(a=this.IC().eb,c=this.ic,a=[r.a(c.x,c.y),r.a(c.x+a.width,c.y),r.a(c.x+a.width,c.y+a.height),r.a(c.x,c.y+a.height)],r.ag.qe(a,4,!0));r.fi++}},uB:function(a,c,d){this.bd=c||!1;d=d||a.eb;this.S(d);this.fE(a);c=this.mp;c.x=a.x;c.y=a.y;c.width=a.width;c.height=a.height;c.At=!(0===c.width||0===c.height);a=this.Yh;this.oc&&(a.H=-a.H);this.pc&&(a.M=-a.M);this.ic.H=a.x+(this.xa.Ha-this.Aa.width)/2;this.ic.M=a.y+(this.xa.wa-this.Aa.height)/2;this.nb&&(this.Ja=!0)},dH:function(a){var c=
this.nb?this.Ra.da():this.Fa;if(c){var d=c.Kp(),e=c.Jp(),f,g=this.Mb;this.bd?(r.du?(c=(2*a.x+1)/(2*d),d=c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/d,f=a.y/e,a=(a.y+a.width)/e),this.oc&&(e=f,f=a,a=e),this.pc&&(e=c,c=d,d=e),g.Ka.C.Pa=c,g.Ka.C.oa=f,g.Ua.C.Pa=c,g.Ua.C.oa=a,g.Sa.C.Pa=d,g.Sa.C.oa=f,g.Na.C.Pa=d,g.Na.C.oa=a):(r.du?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+
a.height)/e),this.oc&&(e=c,c=d,d=e),this.pc&&(e=f,f=a,a=e),g.Ka.C.Pa=c,g.Ka.C.oa=a,g.Ua.C.Pa=d,g.Ua.C.oa=a,g.Sa.C.Pa=c,g.Sa.C.oa=f,g.Na.C.Pa=d,g.Na.C.oa=f);this.xf=!0}}});
r.Ga.Tc?(b=r.P.prototype,b.n=r.A.prototype.n,b.Vh=r.P.prototype.mQ,b.jd=r.A.prototype.jd,b.ra=r.A.prototype.ra,b.kd=r.A.prototype.kd,b.YC=r.P.prototype.iP,b.UD=r.P.prototype.rQ,b.Va=r.P.prototype.vg,b.Ub=r.A.prototype.eH):(b=r.P.prototype,b.n=r.P.prototype.Vr,b.Vh=r.P.prototype.aH,b.jd=r.P.prototype.MB,b.ra=r.P.prototype.Xr,b.kd=r.P.prototype.xH,b.YC=r.P.prototype.hP,b.UD=r.P.prototype.qQ,b.Va=r.A.prototype.Va,b.Ub=r.P.prototype.uB);r.P.PQ=["left","center","right"];r.P.QQ=["top","middle","bottom"];
r.P.xO=/(.+?)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;r.P.dQ=/(.*)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;r.P.vO=/[\s\-\/\\\:]/;r.P.create=function(a,c,d,e,f,g){var h=new r.P;return h.ul(a,c,d,e,f,g)?h:null};r.P.e3=function(a,c){var d=new r.P;return d&&d.YC(a,c)?d:null};r.P.SN=r.MN?r.cz:r.k0;r.P.gm=document.createElement("div");r.P.gm.style.fontFamily="Arial";r.P.gm.style.position="absolute";r.P.gm.style.left="-100px";r.P.gm.style.top="-100px";r.P.gm.style.lineHeight="normal";
document.body.appendChild(r.P.gm);r.P.Qu=function(a,c){var d=r.P.SF[a+"."+c];if(0<d)return d;var e=r.P.gm;e.innerHTML="ajghl~!";e.style.fontFamily=a;e.style.fontSize=c+"px";d=e.clientHeight;r.P.SF[a+"."+c]=d;e.innerHTML="";return d};r.P.SF={};r.IM=r.Ea.extend({Oc:null,target:null,$m:0,uh:null,en:!1,paused:!1,QC:null,ctor:function(){this.Oc=[];this.U=null;this.$m=0;this.uh=null;this.paused=this.en=!1;this.QC=null}});
r.eM=r.Ea.extend({Nh:null,po:null,sf:null,Hi:!1,C1:function(a,c){for(var d=0;d<a.length;d++)if(c==a[d].target)return a[d];return null},ctor:function(){this.Nh={};this.po=[];this.sf=null;this.Hi=!1},kR:function(a,c,d){if(!a)throw"cc.ActionManager.addAction(): action must be non-null";if(!c)throw"cc.ActionManager.addAction(): action must be non-null";var e=this.Nh[c.gc];e||(e=new r.IM,e.paused=d,e.target=c,this.Nh[c.gc]=e,this.po.push(e));this.bO(e);e.Oc.push(a);a.ba(c)},Y$:function(){for(var a=this.po,
c=0;c<a.length;c++){var d=a[c];d&&this.tK(d.target,!0)}},tK:function(a,c){if(null!=a){var d=this.Nh[a.gc];d&&(-1===d.Oc.indexOf(d.uh)||d.en||(d.en=!0),d.Oc=[],this.sf!=d||c?this.aA(d):this.Hi=!0)}},sK:function(a){if(null!=a){var c=this.Nh[a.Bm.gc];if(c)for(var d=0;d<c.Oc.length;d++){if(c.Oc[d]==a){c.Oc.splice(d,1);break}}else r.log("cocos2d: removeAction: Target not found")}},gW:function(a,c){a==r.Wn&&r.log("cc.ActionManager.removeActionByTag(): an invalid tag");if(!c)throw"cc.ActionManager.removeActionByTag(): target must be non-null";
var d=this.Nh[c.gc];if(d)for(var e=d.Oc.length,f=0;f<e;++f){var g=d.Oc[f];if(g&&g.td===a&&g.Bm==c){this.RP(f,d);break}}},AC:function(a,c){a==r.Wn&&r.log("cc.ActionManager.getActionByTag(): an invalid tag");var d=this.Nh[c.gc];if(d){if(null!=d.Oc)for(var e=0;e<d.Oc.length;++e){var f=d.Oc[e];if(f&&f.td===a)return f}r.log("cocos2d : getActionByTag(tag \x3d"+a+"): Action not found")}return null},$U:function(a){return(a=this.Nh[a.gc])?a.Oc?a.Oc.length:0:0},ct:function(a){if(a=this.Nh[a.gc])a.paused=!0},
Dn:function(a){if(a=this.Nh[a.gc])a.paused=!1},z$:function(){for(var a=[],c=this.po,d=0;d<c.length;d++){var e=c[d];e&&!e.paused&&(e.paused=!0,a.push(e.target))}return a},zW:function(a){if(a)for(var c=0;c<a.length;c++)a[c]&&this.Dn(a[c])},K$:function(){r.$.e().Ef().sq(this)},RP:function(a,c){c.Oc[a]!=c.uh||c.en||(c.en=!0);r.vq(c.Oc,a);c.$m>=a&&c.$m--;0==c.Oc.length&&(this.sf==c?this.Hi=!0:this.aA(c))},aA:function(a){a&&(delete this.Nh[a.target.gc],r.Zd(this.po,a),a.Oc=null,a.target=null)},bO:function(a){null==
a.Oc&&(a.Oc=[])},update:function(a){for(var c=this.po,d,e=0;e<c.length;e++){d=this.sf=c[e];if(!d.paused)for(d.$m=0;d.$m<d.Oc.length;d.$m++)if(d.uh=d.Oc[d.$m],d.uh){d.en=!1;d.uh.step(a);if(d.en)d.uh=null;else if(d.uh.ji()){d.uh.stop();var f=d.uh;d.uh=null;this.sK(f)}d.uh=null}this.Hi&&0===d.Oc.length&&this.aA(d)}}});r.rf=r.Ea.extend({L:null,Xv:r.wj(),Pf:0,ctor:function(a,c,d){this.L=r.a(a||0,c||0);this.Pf=d||0},x5:function(){return this.L},vT:function(){return this.Xv},R4:function(){return r.Hd(this.L,this.Xv)},o5:function(){return this.Pf},p5:function(){return this.Pf},cE:function(a,c,d){this.Xv=this.L;this.L=r.a(c||0,d||0);this.Pf=a},Vf:function(a,c){this.Xv=r.a(a||0,c||0)}});
r.LF=r.Ea.extend({h1:null,lb:function(){return!1},xd:function(){},Hf:function(){},ok:function(){},VJ:function(){},YJ:function(){},XJ:function(){},WJ:function(){},Lda:function(){},Kda:function(){}});r.B0=r.LF.extend({lb:function(){return!1},xd:function(){},Hf:function(){},ok:function(){}});r.u0=r.LF.extend({VJ:function(){},YJ:function(){},XJ:function(){},WJ:function(){}});r.lo=r.Ea.extend({Zb:null,wf:0,Io:0,jc:function(){return this.Zb},Dh:function(a){this.Zb=a},wT:function(){return this.wf},nt:function(a){this.wf=a},dT:function(){return this.Io},iX:function(a){this.Io=a},kk:function(a,c){if(!a)throw"cc.TouchHandler.initWithDelegate(): touch delegate should not be null";this.Zb=a;this.wf=c;this.Io=0;return!0}});r.lo.create=function(a,c){var d=new r.lo;d&&d.kk(a,c);return d};r.hz=r.lo.extend({kk:function(a,c){return r.lo.prototype.kk.call(this,a,c)}});
r.hz.create=function(a,c){var d=new r.hz;d&&d.kk(a,c);return d};r.Eu=r.lo.extend({lw:!1,Do:null,N8:function(){return this.lw},sca:function(a){this.lw=a},C4:function(){return this.Do},kk:function(a,c,d){return r.lo.prototype.kk.call(this,a,c)?(this.Do=[],this.lw=d,!0):!1}});r.Eu.create=function(a,c,d){var e=new r.Eu;e&&e.kk(a,c,d);return e};r.HN=1;r.KN=2;r.JN=4;r.IN=8;r.E0=r.HN|r.KN|r.JN|r.IN;r.lz=0;r.oz=1;r.nz=2;r.mz=3;r.D0=4;r.EJ=function(a,c){return a.wf>c.wf};r.Iu=function(a){this.type=a};
r.ka=r.Ea.extend({Tj:!1,$e:null,Ze:null,xm:!1,ms:!1,ww:!1,Tk:null,Lj:null,vw:!1,Gj:!1,aP:[new r.Iu(r.lz),new r.Iu(r.oz),new r.Iu(r.nz),new r.Iu(r.mz)],r:function(){this.Gj=!0;this.$e=[];this.Ze=[];this.Tk=[];this.Lj=[];this.Tj=this.xm=this.vw=this.ms=this.ww=!1;r.ka.cW();return!0},Wr:function(a){this.Tj=a},WO:function(){return this.Tj},n8:function(){return this.Gj},gX:function(a){this.Gj=a},fO:function(a,c){var d=r.hz.create(a,c||0);this.xm?-1!=this.Lj.indexOf(a)?r.Zd(this.Lj,a):(this.Tk.push(d),
this.ms=!0):this.Ze=this.Dp(d,this.Ze)},gO:function(a,c,d){c=r.Eu.create(a,c,d);this.xm?-1!=this.Lj.indexOf(a)?r.Zd(this.Lj,a):(this.Tk.push(c),this.ms=!0):this.$e=this.Dp(c,this.$e)},Dp:function(a,c){for(var d=0,e,f=0;f<c.length;f++)if(e=c[f])if(e.wf<a.wf&&++d,e.jc()==a.jc())return r.log("cc.TouchDispatcher.forceAddHandler(): The handler has been added."),c;return r.Zl(c,a,d)},BI:function(){this.Ze.length=0;this.$e.length=0},UP:function(a){if(null!=a)if(this.xm){var c=this.wI(this.Tk,a);c?r.Zd(this.Tk,
c):(this.Lj.push(a),this.ww=!0)}else this.CI(a)},iW:function(){this.xm?this.vw=!0:this.BI()},nt:function(a,c){if(!c)throw"cc.TouchDispatcher.setPriority(): delegate should be non-null.";var d=this.wI(c);d?d.wf!=a&&(d.nt(a),this.mK(this.$e),this.mK(this.Ze)):r.log("cc.TouchDispatcher.setPriority(): Can't find TouchHandler.")},touches:function(a,c,d){if(0>d||4<=d)throw"cc.TouchDispatcher.touches(): invalid index";this.xm=!0;var e=this.$e.length,f=this.Ze.length,g=e&&f,h=g?a.slice():a,k=this.aP[d];if(0<
e)for(var l,m,n=0;n<a.length;n++)for(var e=a[n],p=0;p<this.$e.length;p++){l=this.$e[p];if(!l)break;m=!1;if(d==r.lz)l.jc().lb&&(m=l.jc().lb(e,c))&&l.Do.push(e);else if(0<l.Do.length)switch(m=!0,k.type){case r.oz:r.Ga.lk?l.jc().xd&&l.jc().xd(e,c):this.Tj&&l.jc().xd&&l.jc().xd(e,c);break;case r.nz:l.jc().Hf&&l.jc().Hf(e,c);l.Do.length=0;break;case r.mz:l.jc().ok&&l.jc().ok(e,c),l.Do.length=0}if(m&&l.lw){g&&r.Zd(h,e);break}}if(0<f)for(n=0;n<this.Ze.length&&(l=this.Ze[n],l);n++);this.xm=!1;if(this.ww){this.ww=
!1;for(n=0;n<this.Lj.length;n++)this.CI(this.Lj[n]);this.Lj.length=0}if(this.ms){this.ms=!1;for(n=0;n<this.Tk.length;n++){l=this.Tk[n];if(!l)break;l instanceof r.Eu?this.$e=this.Dp(l,this.$e):this.Ze=this.Dp(l,this.Ze)}this.Tk.length=0}this.vw&&(this.vw=!1,this.BI())},jy:function(a,c){this.Gj&&this.touches(a,c,r.lz)},ky:function(a,c){this.Gj&&this.touches(a,c,r.oz)},ut:function(a,c){this.Gj&&this.touches(a,c,r.nz)},rE:function(a,c){this.Gj&&this.touches(a,c,r.mz)},wI:function(a,c){switch(arguments.length){case 1:c=
arguments[0];if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(var d=0;d<this.$e.length;d++)if(this.$e[d].jc()==c)return this.$e[d];for(d=0;d<this.Ze.length;d++)if(this.Ze[d].jc()==c)return this.Ze[d];return null;case 2:if(!a)throw"cc.TouchDispatcher.findHandler(): array should be non-null.";if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(d=0;d<a.length;d++)if(a[d].jc()==c)return a[d];return null;default:throw"Argument must be non-nil ";
}},CI:function(a){for(var c,d=0;d<this.Ze.length;d++)if((c=this.Ze[d])&&c.jc()==a){r.Zd(this.Ze,c);break}for(d=0;d<this.$e.length;d++)if((c=this.$e[d])&&c.jc()==a){r.Zd(this.$e,c);break}},mK:function(a){a.sort(r.EJ)}});r.ka.tb=r.a(0,0);r.ka.zJ=!1;
r.Zi=function(a){var c=document.documentElement,d=window,e=null,e="function"===typeof a.getBoundingClientRect?a.getBoundingClientRect():a instanceof HTMLCanvasElement?{left:0,top:0,width:a.width,height:a.height}:{left:0,top:0,width:parseInt(a.style.width),height:parseInt(a.style.height)};return{left:e.left+d.pageXOffset-c.clientLeft,top:e.top+d.pageYOffset-c.clientTop,width:e.width,height:e.height}};
r.sN=function(a,c){var d=r.Zi(a),e,f;null!=c.pageX?(e=c.pageX,f=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,e=c.clientX,f=c.clientY);e=r.va.e().hk(e,f,d);d=new r.rf(e.x,e.y);d.Vf(r.ka.tb.x,r.ka.tb.y);r.ka.tb.x=e.x;r.ka.tb.y=e.y;e=[];e.push(d);r.va.e().ut(e,null)};
r.ka.cW=function(){var a=r.canvas;if(!r.ka.zJ){if(r.Ga.lk)if(window.navigator.msPointerEnabled){var c={MSPointerDown:"touchesBegan",MSPointerMove:"touchesMoved",MSPointerUp:"touchesEnded",MSPointerCancel:"touchesCancelled"},d;for(d in c)(function(c,d){a.addEventListener(c,function(c){var e=r.Zi(a);e.left-=document.body.scrollLeft;e.top-=document.body.scrollTop;var k,l;k=c.clientX;l=c.clientY;k=r.va.e().hk(k,l,e);e=new r.rf(k.x,k.y);e.Vf(r.ka.tb.x,r.ka.tb.y);r.ka.tb.x=k.x;r.ka.tb.y=k.y;r.$.e().bf[d]([e],
null);c.stopPropagation();c.preventDefault()},!1)})(d,c[d])}else a.addEventListener("touchstart",function(c){if(c.changedTouches){var d=[],g=r.Zi(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=r.va.e().hk(k,l,g),h.hasOwnProperty("identifier")?(h=new r.rf(k.x,k.y,h.identifier),l=r.ka.sv(h).L,h.Vf(l.x,l.y),r.ka.bH(h)):(h=new r.rf(k.x,k.y),h.Vf(r.ka.tb.x,r.ka.tb.y)),r.ka.tb.x=k.x,
r.ka.tb.y=k.y,d.push(h);r.va.e().jy(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchmove",function(c){if(c.changedTouches){var d=[],g=r.Zi(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=r.va.e().hk(k,l,g),h.hasOwnProperty("identifier")?(h=new r.rf(k.x,k.y,h.identifier),l=r.ka.sv(h).L,h.Vf(l.x,l.y),r.ka.bH(h)):(h=new r.rf(k.x,k.y),h.Vf(r.ka.tb.x,r.ka.tb.y)),
r.ka.tb.x=k.x,r.ka.tb.y=k.y,d.push(h);r.va.e().ky(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchend",function(c){if(c.changedTouches){var d=[],g=r.Zi(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=r.va.e().hk(k,l,g),h.hasOwnProperty("identifier")?(h=new r.rf(k.x,k.y,h.identifier),l=r.ka.sv(h).L,h.Vf(l.x,l.y),r.ka.kG(h)):(h=new r.rf(k.x,k.y),h.Vf(r.ka.tb.x,
r.ka.tb.y)),r.ka.tb.x=k.x,r.ka.tb.y=k.y,d.push(h);r.va.e().ut(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchcancel",function(c){if(c.changedTouches){var d=[],g=r.Zi(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=r.va.e().hk(k,l,g),h.hasOwnProperty("identifier")?(h=new r.rf(k.x,k.y,h.identifier),l=r.ka.sv(h).L,h.Vf(l.x,l.y),r.ka.kG(h)):(h=new r.rf(k.x,
k.y),h.Vf(r.ka.tb.x,r.ka.tb.y)),r.ka.tb.x=k.x,r.ka.tb.y=k.y,d.push(h);r.va.e().rE(d,null);c.stopPropagation();c.preventDefault()}},!1);else window.addEventListener("mousedown",function(){r.$.e().bf.Wr(!0)}),window.addEventListener("mouseup",function(c){r.$.e().bf.Wr(!1);var d=r.Zi(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);r.cb(new r.pg(d.left,d.top,d.width,d.height),r.a(g,c))||(g=r.va.e().hk(g,c,d),d=new r.rf(g.x,
g.y),d.Vf(r.ka.tb.x,r.ka.tb.y),r.ka.tb.x=g.x,r.ka.tb.y=g.y,g=[],g.push(d),r.va.e().ut(g,null))}),a.addEventListener("mousedown",function(c){var d=r.Zi(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=r.va.e().hk(g,c,d);d=new r.rf(g.x,g.y);d.Vf(r.ka.tb.x,r.ka.tb.y);r.ka.tb.x=g.x;r.ka.tb.y=g.y;g=[];g.push(d);r.va.e().jy(g,null)}),a.addEventListener("mouseup",function(c){r.sN(a,c)}),a.addEventListener("mousemove",function(c){var d=
r.Zi(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=r.va.e().hk(g,c,d);d=new r.rf(g.x,g.y);d.Vf(r.ka.tb.x,r.ka.tb.y);r.ka.tb.x=g.x;r.ka.tb.y=g.y;g=[];g.push(d);r.va.e().ky(g,null)});r.ka.zJ=!0}};r.ka.sv=function(a){for(var c=null,d=r.ka.YA,e=a.Pf,f=d.length-1;0<=f;f--)if(d[f].Pf==e){c=d[f];break}c||(c=a);return c};
r.ka.bH=function(a){for(var c=!1,d=r.ka.YA,e=a.Pf,f=d.length-1;0<=f;f--)if(d[f].Pf==e){d[f]=a;c=!0;break}c||(50>=d.length?d.push(a):(d[r.ka.ZA]=a,r.ka.ZA=(r.ka.ZA+1)%50))};r.ka.kG=function(a){var c,d=r.ka.YA;c=a.Pf;for(a=d.length-1;0<=a;a--)if(d[a].Pf==c){c=d.pop();a!=d.length&&(d[a]=c);break}};r.ka.YA=[];r.ka.ZA=0;r.BD=function(a,c,d){r.$.e().bf.gO(d,a,c)};r.dW=function(a,c){r.$.e().bf.fO(a,c)};r.NL=function(a){r.$.e().bf.UP(a)};r.cN=1;r.gF=2;r.v_=4;r.gN=8;r.Y_=16;r.Z_=32;r.$_=64;r.K_=128;r.L_=256;r.M_=512;r.yF=1024;r.dN=2048;r.eN=4096;r.fN=0;r.w_=1;r.hF=2;r.z_=r.Ea.extend({dV:function(){return!1},eV:function(){return!1},ij:function(){return!1},hV:function(){return!1},lV:function(){return!1},mV:function(){return!1},nV:function(){return!1},iV:function(){return!1},jV:function(){return!1},kV:function(){return!1},oV:function(){return!1},fV:function(){return!1},gV:function(){return!1}});
r.hN=r.rf.extend({EH:0,cG:r.fN,A7:function(){return this.EH},rL:function(a){this.EH=a},u4:function(){return this.cG},WW:function(a){this.cG=a}});r.Sy=r.Ea.extend({Zb:null,wf:0,Io:0,jc:function(){return this.Zb},Dh:function(a){this.Zb=a},wT:function(){return this.wf},nt:function(a){this.wf=a},dT:function(){return this.Io},iX:function(a){this.Io=a},kk:function(a,c){this.Zb=a;this.wf=c}});r.Sy.create=function(a,c){var d=new r.Sy;d.kk(a,c);return d};
r.ce=r.Ea.extend({Tj:!1,aw:!1,Qf:null,Gj:!1,r:function(){this.Gj=!0;this.Qf=[];this.aw=this.Tj=!1;r.ce.PP();return!0},Wr:function(a){this.Tj=a},WO:function(){return this.Tj},cH:function(a){this.aw=a},o1:function(){return this.aw},NH:function(a,c){var d=r.Sy.create(a,c);this.Qf=this.Dp(d,this.Qf)},Dp:function(a,c){for(var d=0,e=0;e<c.length;e++){var f=c[e];if(f&&(f.wf<a.wf&&++d,f.jc()==a.jc()))return r.log("cc.MouseDispatcher.forceAddHandler(): handler has been added."),c}return r.Zl(c,a,d)},uK:function(a){if(null!=
a)for(var c=0;c<this.Qf.length;c++){var d=this.Qf[c];if(d&&d.jc()==a){r.Zd(this.Qf,d);break}}},UO:function(a){for(var c=0;c<this.Qf.length;c++)if(this.Qf[c]&&this.Qf[c].jc()==a)return this.Qf[c];return null},nt:function(a,c){if(!c)throw"cc.MouseDispatcher.setPriority(): delegate should be non-null";var d=this.UO(c);d?d.wf!=a&&(d.nt(a),this.Qf.sort(r.EJ)):r.log("cc.MouseDispatcher.setPriority(): Can't find MouseHandler in array")},aaa:function(){this.Qf.length=0},pn:function(a,c,d){for(c=0;c<this.Qf.length;c++){var e=
this.Qf[c];switch(d){case r.gF:this.Tj||this.aw||!e.jc().ij||e.jc().ij(a)}}}});r.ce.Wv=r.a(0,0);r.ce.rP=!1;
r.ce.PP=function(){var a=r.canvas;function c(c){var e=r.Zi(a),f=c.pageX,g=c.pageY,h=r.va.e(),f=(f-e.left)/h.ya,e=(e.height-(g-e.top))/h.Ca,g=new r.hN(f,e);g.Vf(r.ce.Wv.x,r.ce.Wv.y);g.WW(c.button);r.ce.Wv.x=f;r.ce.Wv.y=e;return g}r.ce.rP||(window.addEventListener("mousedown",function(a){a.button==r.hF?r.$.e().Df().cH(!0):r.$.e().Df().Wr(!0)}),window.addEventListener("mouseup",function(a){a.button==r.hF?r.$.e().Df().cH(!1):r.$.e().Df().Wr(!1)}),a.addEventListener("mousedown",function(a){r.$.e().Df().pn(c(a),
a,r.cN)}),a.addEventListener("mouseup",function(a){r.$.e().Df().pn(c(a),a,r.gN)}),a.addEventListener("mousemove",function(a){r.$.e().Df().pn(c(a),a,r.gF)}),a.addEventListener("mousewheel",function(a){var e=c(a);e.rL(a.wheelDelta);r.$.e().Df().pn(e,a,r.yF)},!1),a.addEventListener("DOMMouseScroll",function(a){var e=c(a);e.rL(-120*a.detail);r.$.e().Df().pn(e,a,r.yF)}),a.addEventListener("mouseout",function(a){r.$.e().Df().pn(c(a),a,r.eN)},!1),a.addEventListener("mouseover",function(a){r.$.e().Df().pn(c(a),
a,r.dN)},!1))};r.Zda=function(){return{x:0,y:0}};r.Ul=function(a,c){return{x:a,y:c}};r.Ug=function(a,c){return r.Ul(a.x+c.x,a.y+c.y)};r.yd=function(a,c){return r.Ul(a.x-c.x,a.y-c.y)};r.lg=function(a,c){return r.Ul(a.x*c,a.y*c)};r.qy=function(a){return r.Ul(-a.y,a.x)};r.qj=function(a){return r.Ul(-a.x,-a.y)};r.NY=function(a,c){return a.x*c.x+a.y*c.y};r.Yda=function(a){return r.Ul(Math.cos(a),Math.sin(a))};r.xE=function(a){a=r.Ch(r.a(a.x,a.y));return r.Ul(a.x,a.y)};r.zi=function(a){return r.Ul(a.x,a.y)};
r.Eb=function(a){return{Pa:a.x,oa:a.y}};
r.xM=r.D.extend({gb:null,ia:null,Gs:function(){return this.ia},Jl:function(a){this.ia=a},ctor:function(){r.D.prototype.ctor.call(this);this.gb=[];this.ia=new r.am(r.Me,r.Le)},Va:function(a){a=a||r.Y;var c=r.va.e().ya;this.ia&&770==this.ia.src&&1==this.ia.Jb&&(a.globalCompositeOperation="lighter");for(var d=0;d<this.gb.length;d++){var e=this.gb[d];e.type===r.Xg.HF&&(a.fillStyle="rgba("+(0|255*e.color.p)+","+(0|255*e.color.o)+","+(0|255*e.color.i)+","+e.color.J+")",r.ag.tC(e.position,e.zD));e.type===
r.Xg.JF&&(a.strokeStyle="rgba("+(0|255*e.color.p)+","+(0|255*e.color.o)+","+(0|255*e.color.i)+","+e.color.J+")",a.lineWidth=2*e.zD*c,a.lineCap="round",r.ag.ci(e.gn,e.Tl));e.type===r.Xg.IF&&(a.fillStyle="rgba("+(0|255*e.fillColor.p)+","+(0|255*e.fillColor.o)+","+(0|255*e.fillColor.i)+","+e.fillColor.J+")",r.ag.qe(e.zE,e.count,!1,!0),a.lineWidth=2*e.borderWidth*c,a.lineCap="round",a.strokeStyle="rgba("+(0|255*e.borderColor.p)+","+(0|255*e.borderColor.o)+","+(0|255*e.borderColor.i)+","+e.borderColor.J+
")",r.ag.qe(e.zE,e.count,!0,!1))}},ES:function(a,c,d){var e=new r.tz(r.Xg.HF);e.position=a;e.zD=c;e.color=d;this.gb.push(e)},IS:function(a,c,d,e){var f=new r.tz(r.Xg.JF);f.gn=a;f.Tl=c;f.zD=d;f.color=e;this.gb.push(f)},qe:function(a,c,d,e){var f=new r.tz(r.Xg.IF);f.zE=a;f.count=a.length;f.fillColor=c;f.borderWidth=d;f.borderColor=e;this.gb.push(f)},clear:function(){this.gb.length=0}});
r.yM=r.D.extend({uo:0,gb:null,kl:null,rH:null,qH:null,ia:null,Ja:!1,Gs:function(){return this.ia},Jl:function(a){this.ia=a},ctor:function(){r.D.prototype.ctor.call(this);this.gb=[];this.ia=new r.am(r.Me,r.Le)},r:function(){return r.D.prototype.r.call(this)?(this.Rg(r.Jh.e().oi(r.j0)),this.nA(512),this.rH=r.Y.createBuffer(),this.Ja=!0):!1},$P:function(){var a=r.Y;r.ze(r.Lu);a.bindBuffer(a.ARRAY_BUFFER,this.rH);this.Ja&&(a.bufferData(a.ARRAY_BUFFER,this.kl,a.STREAM_DRAW),this.Ja=!1);var c=r.Wb.BYTES_PER_ELEMENT;
a.vertexAttribPointer(r.Pe,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(r.Lq,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(r.Mq,2,a.FLOAT,!1,c,12);a.drawArrays(a.TRIANGLES,0,3*this.gb.length);r.Gh()},nA:function(a){if(this.gb.length+a>this.uo){var c=r.Ic.BYTES_PER_ELEMENT;this.uo+=Math.max(this.uo,a);if(null==this.gb||0===this.gb.length)this.gb=[],this.kl=new ArrayBuffer(c*this.uo),this.qH=new Uint8Array(this.kl);else{a=[];for(var d=new ArrayBuffer(c*this.uo),e=0;e<this.gb.length;e++)a[e]=new r.Ic(this.gb[e].J,
this.gb[e].i,this.gb[e].Da,d,e*c);this.qH=new Uint8Array(d);this.gb=a;this.kl=d}}},Va:function(){r.jk(this.ia.src,this.ia.Jb);this.Mc.pf();this.Mc.nL();this.$P()},ES:function(a,c,d){d={p:0|255*d.p,o:0|255*d.o,i:0|255*d.i,J:0|255*d.J};var e={t:{x:a.x-c,y:a.y-c},N:d,C:{Pa:-1,oa:-1}},f={t:{x:a.x+c,y:a.y+c},N:d,C:{Pa:1,oa:1}},g={t:{x:a.x+c,y:a.y-c},N:d,C:{Pa:1,oa:-1}};this.gb.push(new r.Ic(e,{t:{x:a.x-c,y:a.y+c},N:d,C:{Pa:-1,oa:1}},f,this.kl,this.gb.length*r.Ic.BYTES_PER_ELEMENT));this.gb.push(new r.Ic(e,
f,g,this.kl,this.gb.length*r.Ic.BYTES_PER_ELEMENT));this.Ja=!0},IS:function(a,c,d,e){this.nA(18);e={p:0|255*e.p,o:0|255*e.o,i:0|255*e.i,J:0|255*e.J};var f=r.zi(a);c=r.zi(c);a=r.xE(r.qy(r.yd(c,f)));var g=r.qy(a),h=r.lg(a,d);d=r.lg(g,d);var k=r.Ug(c,r.yd(h,d)),l=r.yd(c,h),m=r.Ug(c,h),n=r.yd(f,h),p=r.Ug(f,h),q=r.yd(f,r.yd(h,d)),f=r.Ug(f,r.Ug(h,d)),u=r.Ic.BYTES_PER_ELEMENT,w=this.kl;this.gb.push(new r.Ic({t:r.yd(c,r.Ug(h,d)),N:e,C:r.Eb(r.qj(r.Ug(a,g)))},{t:k,N:e,C:r.Eb(r.yd(a,g))},{t:l,N:e,C:r.Eb(r.qj(a))},
w,this.gb.length*u));this.gb.push(new r.Ic({t:m,N:e,C:r.Eb(a)},{t:k,N:e,C:r.Eb(r.yd(a,g))},{t:l,N:e,C:r.Eb(r.qj(a))},w,this.gb.length*u));this.gb.push(new r.Ic({t:m,N:e,C:r.Eb(a)},{t:n,N:e,C:r.Eb(r.qj(a))},{t:l,N:e,C:r.Eb(r.qj(a))},w,this.gb.length*u));this.gb.push(new r.Ic({t:m,N:e,C:r.Eb(a)},{t:n,N:e,C:r.Eb(r.qj(a))},{t:p,N:e,C:r.Eb(a)},w,this.gb.length*u));this.gb.push(new r.Ic({t:q,N:e,C:r.Eb(r.yd(g,a))},{t:n,N:e,C:r.Eb(r.qj(a))},{t:p,N:e,C:r.Eb(a)},w,this.gb.length*u));this.gb.push(new r.Ic({t:q,
N:e,C:r.Eb(r.yd(g,a))},{t:f,N:e,C:r.Eb(r.Ug(a,g))},{t:p,N:e,C:r.Eb(a)},w,this.gb.length*u));this.Ja=!0},qe:function(a,c,d,e){c={p:0|255*c.p,o:0|255*c.o,i:0|255*c.i,J:0|255*c.J};e={p:0|255*e.p,o:0|255*e.o,i:0|255*e.i,J:0|255*e.J};var f=[],g,h,k,l,m=a.length;for(g=0;g<m;g++){h=r.zi(a[(g-1+m)%m]);k=r.zi(a[g]);l=r.zi(a[(g+1)%m]);var n=r.xE(r.qy(r.yd(k,h)));k=r.xE(r.qy(r.yd(l,k)));f[g]={offset:r.lg(r.Ug(n,k),1/(r.NY(n,k)+1)),OJ:k}}n=0<d;this.nA(3*(3*m-2));var p=r.Ic.BYTES_PER_ELEMENT,q=this.kl,u=this.gb,
w=!1==n?0.5:0;for(g=0;g<m-2;g++)h=r.yd(r.zi(a[0]),r.lg(f[0].offset,w)),k=r.yd(r.zi(a[g+1]),r.lg(f[g+1].offset,w)),l=r.yd(r.zi(a[g+2]),r.lg(f[g+2].offset,w)),u.push(new r.Ic({t:h,N:c,C:r.Eb({x:0,y:0})},{t:k,N:c,C:r.Eb({x:0,y:0})},{t:l,N:c,C:r.Eb({x:0,y:0})},q,u.length*p));for(g=0;g<m;g++){w=(g+1)%m;h=r.zi(a[g]);k=r.zi(a[w]);l=f[g].OJ;var y=f[g].offset,D=f[w].offset,w=n?r.yd(h,r.lg(y,d)):r.yd(h,r.lg(y,0.5)),B=n?r.yd(k,r.lg(D,d)):r.yd(k,r.lg(D,0.5));h=n?r.Ug(h,r.lg(y,d)):r.Ug(h,r.lg(y,0.5));k=n?r.Ug(k,
r.lg(D,d)):r.Ug(k,r.lg(D,0.5));n?(u.push(new r.Ic({t:w,N:e,C:r.Eb(r.qj(l))},{t:B,N:e,C:r.Eb(r.qj(l))},{t:k,N:e,C:r.Eb(l)},q,u.length*p)),u.push(new r.Ic({t:w,N:e,C:r.Eb(r.qj(l))},{t:h,N:e,C:r.Eb(l)},{t:k,N:e,C:r.Eb(l)},q,u.length*p))):(u.push(new r.Ic({t:w,N:c,C:r.Eb({x:0,y:0})},{t:B,N:c,C:r.Eb({x:0,y:0})},{t:k,N:c,C:r.Eb(l)},q,u.length*p)),u.push(new r.Ic({t:w,N:c,C:r.Eb({x:0,y:0})},{t:h,N:c,C:r.Eb(l)},{t:k,N:c,C:r.Eb(l)},q,u.length*p)))}this.Ja=!0},clear:function(){this.gb.length=0;this.Ja=!0}});
r.Xg=r.Ga.Tc?r.yM:r.xM;r.Xg.create=function(){var a=new r.Xg;return a&&a.r()?a:null};r.tz=function(a){this.type=a};r.Xg.HF=0;r.Xg.JF=1;r.Xg.IF=2;r.st=-1;r.cL=function(a,c){a.Rg(c);var d=a.u;if(d)for(var e=0;e<d.length;e++)r.cL(d[e],c)};
r.pb=r.D.extend({rc:null,jm:0,Mi:!1,tG:!1,ctor:function(){r.D.prototype.ctor.call(this);this.rc=null;this.jm=0;this.Mi=!1},r:null,DA:function(a){this.rc=a;this.jm=1;this.Mi=!1;r.pb.GA=!0;r.pb.GA&&(r.st=r.Y.getParameter(r.Y.STENCIL_BITS),0>=r.st&&r.log("Stencil buffer is not enabled."),r.pb.GA=!1);return!0},CA:function(a){this.rc=a;this.jm=1;this.Mi=!1},Pg:function(){r.D.prototype.Pg.call(this);this.rc.Pg()},mi:function(){r.D.prototype.mi.call(this);this.rc.mi()},Bh:function(){this.rc.Bh();r.D.prototype.Bh.call(this)},
Ud:function(){this.rc.Ud();r.D.prototype.Ud.call(this)},sa:null,Wm:function(a){var c=a||r.Y;if(1>r.st)r.D.prototype.sa.call(this,a);else if(this.rc&&this.rc.la)if(r.pb.Gr=-1,r.pb.Gr+1==r.st)r.pb.WB=!0,r.pb.WB&&(r.log("Nesting more than "+r.st+"stencils is not supported. Everything will be drawn without stencil for this node and its childs."),r.pb.WB=!1),r.D.prototype.sa.call(this,a);else{r.pb.Gr++;var d=1<<r.pb.Gr,e=d|d-1,f=c.isEnabled(c.STENCIL_TEST),g=c.getParameter(c.STENCIL_WRITEMASK),h=c.getParameter(c.STENCIL_FUNC),
k=c.getParameter(c.STENCIL_REF),l=c.getParameter(c.STENCIL_VALUE_MASK),m=c.getParameter(c.STENCIL_FAIL),n=c.getParameter(c.STENCIL_PASS_DEPTH_FAIL),p=c.getParameter(c.STENCIL_PASS_DEPTH_PASS);c.enable(c.STENCIL_TEST);c.stencilMask(d);var q=c.getParameter(c.DEPTH_WRITEMASK);c.depthMask(!1);c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.Mi?c.REPLACE:c.ZERO,c.KEEP,c.KEEP);r.ag.uC(r.wj(),r.sV(),r.Hw(1,1,1,1));c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.Mi?c.ZERO:c.REPLACE,c.KEEP,c.KEEP);if(1>this.jm){var d=
r.Jh.e().oi(r.l0),u=c.getUniformLocation(d.$w(),r.G0);r.H7(d.$w());d.mL(u,this.jm);r.cL(this.rc,d)}r.Zp();this.transform();this.rc.sa();r.Yp();c.depthMask(q);c.stencilFunc(c.EQUAL,e,e);c.stencilOp(c.KEEP,c.KEEP,c.KEEP);r.D.prototype.sa.call(this,a);c.stencilFunc(h,k,l);c.stencilOp(m,n,p);c.stencilMask(g);f||c.disable(c.STENCIL_TEST);r.pb.Gr--}else this.Mi&&r.D.prototype.sa.call(this,a)},Vm:function(a){if(this.rc&&this.rc.la){if(this.Nz()||this.rc instanceof r.A){a=a||r.Y;var c=a.canvas,d=r.pb.ZO();
d.width=c.width;d.height=c.height;d.getContext("2d").drawImage(c,0,0);a.save();this._super(a);a.globalCompositeOperation=this.Mi?"destination-out":"destination-in";this.transform(a);this.rc.sa();a.restore();a.save();a.setTransform(1,0,0,1,0,0);a.globalCompositeOperation="destination-over";a.drawImage(d,0,0)}else{a=a||r.Y;var d=this.u,e;a.save();this.transform(a);this.rc.sa(a);a.clip();this.Nz(!0);var f=d.length;if(0<f){this.Wd();for(c=0;c<f;c++)if(e=d[c],0>e.hb)e.sa(a);else break;for(this.Va(a);c<
f;c++)d[c].sa(a)}else this.Va(a);this.Nz(!1)}a.restore()}else this.Mi&&r.D.prototype.sa.call(this,a)},Y6:function(){return this.rc},$D:null,EQ:function(a){this.rc=a},DQ:function(a){this.rc=a;var c=r.va.e().ya,d=r.va.e().Ca,e=r.Y;!(a instanceof r.A)&&a instanceof r.Xg&&(a.Va=function(){for(var f=0;f<a.gb.length;f++){var g=a.gb[f].zE,h=g[0];e.beginPath();e.moveTo(h.x*c,-h.y*d);for(var h=1,k=g.length;h<k;h++)e.lineTo(g[h].x*c,-g[h].y*d)}})},h4:function(){return this.jm},Kaa:function(a){this.jm=a},w8:function(){return this.Mi},
uba:function(a){this.Mi=a},Nz:function(a){if(!0===a||!1===a)r.pb.prototype.tG=a;return r.pb.prototype.tG}});r.Ga.Tc?(r.pb.prototype.r=r.pb.prototype.DA,r.pb.prototype.sa=r.pb.prototype.Wm,r.pb.prototype.$D=r.pb.prototype.EQ):(r.pb.prototype.r=r.pb.prototype.CA,r.pb.prototype.sa=r.pb.prototype.Vm,r.pb.prototype.$D=r.pb.prototype.DQ);r.pb.GA=null;r.pb.WB=null;r.pb.Gr=null;r.pb.iH=null;r.pb.ZO=function(){return r.pb.iH||(r.pb.iH=document.createElement("canvas"))};
r.pb.create=function(a){var c=new r.pb;c.r(a);return c};r.h_=0;r.i_=1;r.j_=2;r.bo=function(a){a-=1;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;return(a|a>>16)+1};
r.Cb=r.D.extend({vo:null,wo:null,ov:0,hr:0,Sv:0,Fa:null,js:null,VQ:null,Tf:r.yj,qb:null,bv:0,Ej:null,Tz:0,Uz:0,Tq:!1,Sz:null,ctor:null,Lh:function(){r.D.prototype.ctor.call(this);this.Ej=r.Hw(1,1,1,1);this.Sz="rgba(255,255,255,1)";this.vo=document.createElement("canvas");this.wo=this.vo.getContext("2d");this.G(0,0)},Mh:function(){r.D.prototype.ctor.call(this);this.Ej=r.Hw(0,0,0,0)},$f:null,yO:function(){r.D.prototype.Ud.call(this);this.vo=this.wo=null},zO:function(){r.D.prototype.Ud.call(this);this.js=
null;var a=r.Y;a.deleteFramebuffer(this.ov);this.hr&&a.deleteRenderbuffer(this.hr);this.VQ=null},GT:function(){return this.qb},ot:function(a){this.qb=a},$C:null,jP:function(a,c){var d=this.vo,e=r.Ld();d.width=0|a*e;d.height=0|c*e;this.wo.translate(0,d.height);e=new r.ec;e.Gf(d);e.Ee();this.qb=r.A.bb(e);return!0},kP:function(a,c,d,e){d==r.Gq&&r.log("cc.RenderTexture._initWithWidthAndHeightForWebGL() : only RGB and RGBA formats are valid for a render texture;");var f=r.Y,g=r.Ld();a=0|a*g;c=0|c*g;this.Sv=
f.getParameter(f.FRAMEBUFFER_BINDING);var h;r.Ne.e().gs?(g=a,h=c):(g=r.bo(a),h=r.bo(c));for(var k=new Uint8Array(g*h*4),l=0;l<g*h*4;l++)k[l]=0;this.Tf=d;this.Fa=new r.ec;if(!this.Fa)return!1;l=this.Fa;l.ex(k,this.Tf,g,h,r.size(a,c));d=f.getParameter(f.RENDERBUFFER_BINDING);if(r.Ne.e().zp("GL_QCOM")){this.js=new r.ec;if(!this.js)return!1;this.js.ex(k,this.Tf,g,h,r.size(a,c))}this.ov=f.createFramebuffer();f.bindFramebuffer(f.FRAMEBUFFER,this.ov);f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,
f.TEXTURE_2D,l.ai,0);0!=e&&(this.hr=f.createRenderbuffer(),f.bindRenderbuffer(f.RENDERBUFFER,this.hr),f.renderbufferStorage(f.RENDERBUFFER,e,g,h),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,this.hr));f.checkFramebufferStatus(f.FRAMEBUFFER)!==f.FRAMEBUFFER_COMPLETE&&r.log("Could not attach texture to the framebuffer");l.EK();a=this.qb=r.A.bb(l);a.Jn(-1);a.Jl(f.ONE,f.ONE_MINUS_SRC_ALPHA);f.bindRenderbuffer(f.RENDERBUFFER,d);f.bindFramebuffer(f.FRAMEBUFFER,this.Sv);this.Tq=
!1;this.f(a);return!0},ek:null,oO:function(){r.Y=this.wo;r.va.e().AQ()},pO:function(){r.kn(r.lu);r.Zp();r.kn(r.ku);r.Zp();var a=r.$.e();a.Qx(a.cl);var c=this.Fa.xa,d=r.$.e().OT(),a=d.width/c.width,d=d.height/c.height,e=r.Y;e.viewport(0,0,c.width,c.height);c=new r.zh;r.OU(c,-1/a,1/a,-1/d,1/d,-1,1);r.kx(c);this.Sv=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,this.ov);r.Ne.e().zp("GL_QCOM")&&(e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.js.ai,0),
e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.Fa.ai,0))},fC:function(a,c,d,e,f,g){var h=r.Y;f=f||h.COLOR_BUFFER_BIT;g=g||h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT;this.Kz(a,c,d,e,f,g,h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT|h.STENCIL_BUFFER_BIT)},Kz:null,qO:function(a,c,d,e){this.ek();a=a||0;c=c||0;d=d||0;e=isNaN(e)?1:e;var f=this.wo,g=this.vo;f.save();f.fillStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+")";f.clearRect(0,
0,g.width,-g.height);f.fillRect(0,0,g.width,-g.height);f.restore()},rO:function(a,c,d,e,f,g,h){this.ek();var k=r.Y,l=[0,0,0,0],m=0,n=0;h&k.COLOR_BUFFER_BIT&&(l=k.getParameter(k.COLOR_CLEAR_VALUE),k.clearColor(a,c,d,e));h&k.DEPTH_BUFFER_BIT&&(m=k.getParameter(k.DEPTH_CLEAR_VALUE),k.clearDepth(f));h&k.STENCIL_BUFFER_BIT&&(n=k.getParameter(k.STENCIL_CLEAR_VALUE),k.clearStencil(g));k.clear(h);h&k.COLOR_BUFFER_BIT&&k.clearColor(l[0],l[1],l[2],l[3]);h&k.DEPTH_BUFFER_BIT&&k.clearDepth(m);h&k.STENCIL_BUFFER_BIT&&
k.clearStencil(n)},end:null,SO:function(){r.Y=r.UU;r.va.e().cQ()},TO:function(){var a=r.Y,c=r.$.e();a.bindFramebuffer(a.FRAMEBUFFER,this.Sv);c.qL();r.kn(r.lu);r.Yp();r.kn(r.ku);r.Yp()},clear:function(a,c,d,e){this.fC(a,c,d,e);this.end()},clearRect:null,DO:function(a,c,d,e){this.wo.clearRect(a,c,d,-e)},EO:function(){},clearDepth:null,BO:function(){r.log("clearDepth isn't supported on Cocos2d-Html5")},CO:function(a){this.ek();var c=r.Y,d=c.getParameter(c.DEPTH_CLEAR_VALUE);c.clearDepth(a);c.clear(c.DEPTH_BUFFER_BIT);
c.clearDepth(d);this.end()},clearStencil:null,FO:function(){r.log("clearDepth isn't supported on Cocos2d-Html5")},GO:function(a){var c=r.Y,d=c.getParameter(c.STENCIL_CLEAR_VALUE);c.clearStencil(a);c.clear(c.STENCIL_BUFFER_BIT);c.clearStencil(d)},sa:null,Vm:function(a){this.la&&(a=a||r.Y,a.save(),this.Va(a),this.transform(a),this.qb.sa(),a.restore(),this.Sf=0)},Wm:function(a){if(this.la){r.Zp();var c=this.Rk;c&&c.Vp()&&(c.eC(),this.ly());this.transform(a);this.qb.sa();this.Va(a);c&&c.Vp()&&c.aC(this);
r.Yp();this.Sf=0}},Va:null,qm:function(a){a=a||r.Y;if(this.Tq){this.ek();if(this.bv){var c=this.vo;a.save();a.fillStyle=this.Sz;a.clearRect(0,0,c.width,-c.height);a.fillRect(0,0,c.width,-c.height);a.restore()}this.Wd();a=this.u;for(var c=a.length,d=this.qb,e=0;e<c;e++){var f=a[e];f!=d&&f.sa()}this.end()}},vg:function(){var a=r.Y;if(this.Tq){this.ek();var c=this.bv;if(c){var d=[0,0,0,0],e=0,f=0;c&a.COLOR_BUFFER_BIT&&(d=a.getParameter(a.COLOR_CLEAR_VALUE),a.clearColor(this.Ej.p,this.Ej.o,this.Ej.i,
this.Ej.J));c&a.DEPTH_BUFFER_BIT&&(e=a.getParameter(a.DEPTH_CLEAR_VALUE),a.clearDepth(this.Tz));c&a.STENCIL_BUFFER_BIT&&(f=a.getParameter(a.STENCIL_CLEAR_VALUE),a.clearStencil(this.Uz));a.clear(c);c&a.COLOR_BUFFER_BIT&&a.clearColor(d[0],d[1],d[2],d[3]);c&a.DEPTH_BUFFER_BIT&&a.clearDepth(e);c&a.STENCIL_BUFFER_BIT&&a.clearStencil(f)}this.Wd();a=this.u;for(c=0;c<a.length;c++)d=a[c],d!=this.qb&&d.sa();this.end()}},PJ:null,BP:function(){r.log("saveToFile isn't supported on Cocos2d-Html5");return null},
CP:function(){r.log("saveToFile isn't supported on Cocos2d-Html5");r.Ft(this.Tf==r.yj,"only RGBA8888 can be saved as image");if(!this.Fa)return null;var a=this.Fa.xa,c=a.width,a=a.height,d=new r.KM,e=r.Y,f=new Uint8Array(c*a*4);if(!f)return d;var g=new Uint8Array(c*a*4);if(!g)return null;this.ek();e.pixelStorei(e.PACK_ALIGNMENT,1);e.readPixels(0,0,c,a,e.RGBA,e.UNSIGNED_BYTE,g);this.end();for(e=0;e<a;++e)this.zP(f,e*c*4,g,(a-e-1)*c*4,4*c);d.V7(f,c*a*4,r.b_,c,a,8);return d},zP:function(a,c,d,e,f){for(var g=
0;g<f;g++)a[c+g]=d[e+g]},zaa:function(){r.log("saveToFile isn't supported on Cocos2d-Html5")},n9:function(){r.log("listenToBackground isn't supported on Cocos2d-Html5")},o9:function(){r.log("listenToForeground isn't supported on Cocos2d-Html5")},F4:function(){return this.bv},Saa:function(a){this.bv=a},D4:function(){return this.Ej},LK:null,kQ:function(a){var c=this.Ej;c.p=a.p;c.o=a.o;c.i=a.i;c.J=a.J;this.Sz="rgba("+(0|255*a.p)+","+(0|255*a.o)+","+(0|255*a.i)+","+a.J+")"},lQ:function(a){var c=this.Ej;
c.p=a.p;c.o=a.o;c.i=a.i;c.J=a.J},E4:function(){return this.Tz},Raa:function(a){this.Tz=a},G4:function(){return this.Uz},Taa:function(a){this.Uz=a},h8:function(){return this.Tq},Maa:function(a){this.Tq=a}});
r.Ga.Tc?(b=r.Cb.prototype,b.ctor=r.Cb.prototype.Mh,b.$f=r.Cb.prototype.zO,b.$C=r.Cb.prototype.kP,b.ek=r.Cb.prototype.pO,b.Kz=r.Cb.prototype.rO,b.end=r.Cb.prototype.TO,b.clearRect=r.Cb.prototype.EO,b.clearDepth=r.Cb.prototype.CO,b.clearStencil=r.Cb.prototype.GO,b.sa=r.Cb.prototype.Wm,b.Va=r.Cb.prototype.vg,b.PJ=r.Cb.prototype.CP,b.LK=r.Cb.prototype.lQ):(b=r.Cb.prototype,b.ctor=r.Cb.prototype.Lh,b.$f=r.Cb.prototype.yO,b.$C=r.Cb.prototype.jP,b.ek=r.Cb.prototype.oO,b.Kz=r.Cb.prototype.qO,b.end=r.Cb.prototype.SO,
b.clearRect=r.Cb.prototype.DO,b.clearDepth=r.Cb.prototype.BO,b.clearStencil=r.Cb.prototype.FO,b.sa=r.Cb.prototype.Vm,b.Va=r.Cb.prototype.qm,b.PJ=r.Cb.prototype.BP,b.LK=r.Cb.prototype.kQ);r.Cb.create=function(a,c,d,e){d=d||r.yj;e=e||0;var f=new r.Cb;return f&&f.$C(a,c,d,e)?f:null};r.Wn=-1;
r.Kd=r.Ea.extend({Bm:null,U:null,td:r.Wn,ctor:function(){this.U=this.Bm=null;this.td=r.Wn},description:function(){return"\x3ccc.Action | Tag \x3d "+this.td+"\x3e"},copy:function(){return r.I(this)},I:function(){var a=new r.Kd;a.Bm=null;a.U=null;a.td=this.td;return a},ji:function(){return!0},ba:function(a){this.U=this.Bm=a},stop:function(){this.U=null},step:function(){r.log("[Action step]. override me")},update:function(){r.log("[Action update]. override me")},KT:function(){return this.U},tca:function(a){this.U=
a},g6:function(){return this.Bm},Pba:function(a){this.Bm=a},JT:function(){return this.td},lL:function(a){this.td=a},zK:function(){},ED:function(){}});r.Kd.create=function(){return new r.Kd};r.vj=r.Kd.extend({za:0,ctor:function(){r.Kd.prototype.ctor.call(this);this.za=0},Bf:function(){return this.za},dba:function(a){this.za=a},reverse:function(){r.log("cocos2d: FiniteTimeAction#reverse: Implement me");return null},I:function(){return new r.vj}});
r.Bu=r.Kd.extend({Km:0,Fb:null,ctor:function(){r.Kd.prototype.ctor.call(this);this.Km=0;this.Fb=null},R6:function(){return this.Km},mca:function(a){this.Km=a},qa:function(a,c){if(!a)throw"cc.Speed.initWithAction(): action must be non nil";this.Fb=a;this.Km=c;return!0},I:function(){var a=new r.Bu;a.qa(this.Fb.I(),this.Km);return a},ba:function(a){r.Kd.prototype.ba.call(this,a);this.Fb.ba(a)},stop:function(){this.Fb.stop();r.Kd.prototype.stop.call(this)},step:function(a){this.Fb.step(a*this.Km)},ji:function(){return this.Fb.ji()},
reverse:function(){return r.Bu.create(this.Fb.reverse(),this.Km)},YK:function(a){this.Fb!=a&&(this.Fb=a)},CC:function(){return this.Fb}});r.Bu.create=function(a,c){var d=new r.Bu;return d&&d.qa(a,c)?d:null};
r.Ly=r.Kd.extend({Mo:null,so:!1,Xu:!1,uv:null,wr:null,ln:0,En:0,Qn:0,cn:0,YB:null,ctor:function(){r.Kd.prototype.ctor.call(this);this.Mo=null;this.Xu=this.so=!1;this.wr=this.uv=null;this.cn=this.Qn=this.En=this.ln=0;this.YB=r.md()},I:function(){var a=new r.Ly,c=this.YB,c=new r.pg(c.x,c.y,c.width,c.height);a.Lg(this.Mo,c);return a},j8:function(){return this.so},Oaa:function(a){this.so=a},Lg:function(a,c){if(!a)throw"cc.Follow.initWithAction(): followedNode must be non nil";c=c||r.md();this.Mo=a;this.YB=
c;this.so=!r.Sr(c);this.Xu=!1;var d=r.$.e().Sb;this.wr=r.a(d.width,d.height);this.uv=r.jj(this.wr,0.5);this.so&&(this.ln=-(c.x+c.width-this.wr.x),this.En=-c.x,this.Qn=-c.y,this.cn=-(c.y+c.height-this.wr.y),this.En<this.ln&&(this.En=this.ln=(this.ln+this.En)/2),this.Qn<this.cn&&(this.Qn=this.cn=(this.Qn+this.cn)/2),this.Qn==this.cn&&this.ln==this.En&&(this.Xu=!0));return!0},step:function(){var a=this.Mo.q.H,c=this.Mo.q.M,a=this.uv.x-a,c=this.uv.y-c;this.so?this.Xu||this.U.m(r.zs(a,this.ln,this.En),
r.zs(c,this.cn,this.Qn)):this.U.m(a,c)},ji:function(){return!this.Mo.Xe},stop:function(){this.U=null;r.Kd.prototype.stop.call(this)}});r.Ly.create=function(a,c){c=c||new r.md;var d=new r.Ly;return null!=c&&d&&d.Lg(a,c)||d&&d.Lg(a)?d:null};r.T=r.vj.extend({hc:0,vr:!1,ctor:function(){r.vj.prototype.ctor.call(this);this.hc=0;this.vr=!1},W4:function(){return this.hc},O:function(a){this.za=0===a?r.eu:a;this.hc=0;return this.vr=!0},ji:function(){return this.hc>=this.za},I:function(){var a=new r.T;a.O(this.za);return a},step:function(a){this.vr?(this.vr=!1,this.hc=0):this.hc+=a;a=this.hc/(1.192092896E-7<this.za?this.za:1.192092896E-7);a=1>a?a:1;this.update(0<a?a:0)},ba:function(a){r.Kd.prototype.ba.call(this,a);this.hc=0;this.vr=!0},reverse:function(){r.log("cc.IntervalAction: reverse not implemented.");
return null},Laa:function(){r.log("cc.ActionInterval.setAmplitudeRate(): it should be overridden in subclass.")},i4:function(){r.log("cc.ActionInterval.getAmplitudeRate(): it should be overridden in subclass.")}});r.T.create=function(a){var c=new r.T;c.O(a);return c};
r.xj=r.T.extend({Ai:null,wB:null,Wo:0,ctor:function(){r.T.prototype.ctor.call(this);this.Ai=[];this.wB=null;this.Wo=0},Rs:function(a,c){if(!a||!c)throw"cc.Sequence.initWithTwoActions(): arguments must all be non nil";this.O(a.Bf()+c.Bf());this.Ai[0]=a;this.Ai[1]=c;return!0},I:function(){var a=new r.xj;a.Rs(this.Ai[0].I(),this.Ai[1].I());return a},ba:function(a){r.T.prototype.ba.call(this,a);this.wB=this.Ai[0].Bf()/this.za;this.Wo=-1},stop:function(){-1!==this.Wo&&this.Ai[this.Wo].stop();r.Kd.prototype.stop.call(this)},
update:function(a){var c=0,d=this.wB,e=this.Ai,f=this.Wo;a<d?(a=0!==d?a/d:1,0===c&&1===f&&(e[1].update(0),e[1].stop())):(c=1,a=1===d?1:(a-d)/(1-d),-1===f&&(e[0].ba(this.U),e[0].update(1),e[0].stop()),f||(e[0].update(1),e[0].stop()));f===c&&e[c].ji()||(f!==c&&e[c].ba(this.U),e[c].update(a),this.Wo=c)},reverse:function(){return r.xj.hm(this.Ai[1].reverse(),this.Ai[0].reverse())},copy:function(){return this.I()}});
r.xj.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&r.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)c[e]&&(d=r.xj.hm(d,c[e]));return d};r.xj.hm=function(a,c){var d=new r.xj;d.Rs(a,c);return d};
r.su=r.T.extend({Wf:0,Zj:0,Pv:0,VF:!1,Fb:null,ctor:function(){r.T.prototype.ctor.call(this);this.Pv=this.Zj=this.Wf=0;this.VF=!1;this.Fb=null},qa:function(a,c){return this.O(a.Bf()*c)?(this.Wf=c,this.Fb=a,a instanceof r.ti&&(this.Wf-=1),this.Zj=0,!0):!1},I:function(){var a=new r.su;a.qa(this.Fb.I(),this.Wf);return a},ba:function(a){this.Zj=0;this.Pv=this.Fb.Bf()/this.za;r.T.prototype.ba.call(this,a);this.Fb.ba(a)},stop:function(){this.Fb.stop();r.Kd.prototype.stop.call(this)},update:function(a){var c=
this.Fb,d=this.za,e=this.Wf,f=this.Pv;if(a>=f){for(;a>f&&this.Zj<e;)c.update(1),this.Zj++,c.stop(),c.ba(this.U),this.Pv=f+=c.Bf()/d;1<=a&&this.Zj<e&&this.Zj++;this.VF&&(this.Zj==e?(c.update(1),c.stop()):c.update(a-(f-c.Bf()/d)))}else c.update(a*e%1)},ji:function(){return this.Zj==this.Wf},reverse:function(){return r.su.create(this.Fb.reverse(),this.Wf)},YK:function(a){this.Fb!=a&&(this.Fb=a)},CC:function(){return this.Fb}});r.su.create=function(a,c){var d=new r.su;d.qa(a,c);return d};
r.tu=r.T.extend({Fb:null,ctor:function(){r.T.prototype.ctor.call(this);this.Fb=null},qa:function(a){if(!a)throw"cc.RepeatForever.initWithAction(): action must be non null";this.Fb=a;return!0},I:function(){var a=new r.tu;a.qa(this.Fb.I());return a},ba:function(a){r.T.prototype.ba.call(this,a);this.Fb.ba(a)},step:function(a){var c=this.Fb;c.step(a);c.ji()&&(c.ba(this.U),c.step(c.hc-c.Bf()))},ji:function(){return!1},reverse:function(){return r.tu.create(this.Fb.reverse())},YK:function(a){this.Fb!=a&&
(this.Fb=a)},CC:function(){return this.Fb}});r.tu.create=function(a){var c=new r.tu;return c&&c.qa(a)?c:null};
r.Fq=r.T.extend({Uj:null,ck:null,ctor:function(){r.T.prototype.ctor.call(this);this.ck=this.Uj=null},Rs:function(a,c){if(!a||!c)throw"cc.Spawn.initWithTwoActions(): arguments must all be non null";var d=!1,e=a.Bf(),f=c.Bf();this.O(Math.max(e,f))&&(this.Uj=a,this.ck=c,e>f?this.ck=r.xj.hm(c,r.Yn.create(e-f)):e<f&&(this.Uj=r.xj.hm(a,r.Yn.create(f-e))),d=!0);return d},I:function(){var a=new r.Fq;a.Rs(this.Uj.I(),this.ck.I());return a},ba:function(a){r.T.prototype.ba.call(this,a);this.Uj.ba(a);this.ck.ba(a)},
stop:function(){this.Uj.stop();this.ck.stop();r.Kd.prototype.stop.call(this)},update:function(a){this.Uj&&this.Uj.update(a);this.ck&&this.ck.update(a)},reverse:function(){return r.Fq.hm(this.Uj.reverse(),this.ck.reverse())}});r.Fq.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&r.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)null!=c[e]&&(d=this.hm(d,c[e]));return d};
r.Fq.hm=function(a,c){var d=new r.Fq;d.Rs(a,c);return d};
r.bz=r.T.extend({kr:0,Lm:0,eA:0,mv:0,fl:0,fA:0,ctor:function(){r.T.prototype.ctor.call(this);this.fA=this.fl=this.mv=this.eA=this.Lm=this.kr=0},O:function(a,c,d){return r.T.prototype.O.call(this,a)?(this.kr=c||0,this.mv=d||this.kr,!0):!1},I:function(){var a=new r.bz;a.O(this.za,this.kr,this.mv);return a},ba:function(a){r.T.prototype.ba.call(this,a);var c=a.Bg%360,d=this.kr-c;180<d&&(d-=360);-180>d&&(d+=360);this.Lm=c;this.eA=d;this.fl=a.Th%360;a=this.mv-this.fl;180<a&&(a-=360);-180>a&&(a+=360);this.fA=
a},reverse:function(){r.log("cc.RotateTo.reverse(): it should be overridden in subclass.")},update:function(a){this.U&&(this.U.Tx(this.Lm+this.eA*a),this.U.Ux(this.fl+this.fA*a))}});r.bz.create=function(a,c,d){var e=new r.bz;e.O(a,c,d);return e};
r.vu=r.T.extend({rg:0,Lm:0,Sq:0,fl:0,ctor:function(){r.T.prototype.ctor.call(this);this.fl=this.Sq=this.Lm=this.rg=0},O:function(a,c,d){return r.T.prototype.O.call(this,a)?(this.rg=c||0,this.Sq=d||this.rg,!0):!1},I:function(){var a=new r.vu;a.O(this.za,this.rg,this.Sq);return a},ba:function(a){r.T.prototype.ba.call(this,a);this.Lm=a.Bg;this.fl=a.Th},update:function(a){this.U&&(this.U.Tx(this.Lm+this.rg*a),this.U.Ux(this.fl+this.Sq*a))},reverse:function(){return r.vu.create(this.za,-this.rg,-this.Sq)}});
r.vu.create=function(a,c,d){var e=new r.vu;e.O(a,c,d);return e};
r.Ak=r.T.extend({Ti:null,Xc:null,Wc:null,ctor:function(){r.T.prototype.ctor.call(this);this.Ti=r.a(0,0);this.Xc=r.a(0,0);this.Wc=r.a(0,0)},O:function(a,c){return r.T.prototype.O.call(this,a)?(this.Ti.x=c.x,this.Ti.y=c.y,!0):!1},I:function(){var a=new r.Ak;a.O(this.za,this.Ti);return a},ba:function(a){r.T.prototype.ba.call(this,a);var c=a.q.H;a=a.q.M;this.Wc.x=c;this.Wc.y=a;this.Xc.x=c;this.Xc.y=a},update:function(a){if(this.U){var c=this.Ti.x*a;a*=this.Ti.y;var d=this.Xc;if(r.Jt){var e=this.U.q.M,
f=this.Wc;d.x=d.x+this.U.q.H-f.x;d.y=d.y+e-f.y;c+=d.x;a+=d.y;this.U.m(c,a);f.x=c;f.y=a}else this.U.m(d.x+c,d.y+a)}},reverse:function(){return r.Ak.create(this.za,r.a(-this.Ti.x,-this.Ti.y))}});r.Ak.create=function(a,c){var d=new r.Ak;d.O(a,c);return d};
r.nu=r.Ak.extend({Lo:null,ctor:function(){r.Ak.prototype.ctor.call(this);this.Lo=r.a(0,0)},O:function(a,c){return r.Ak.prototype.O.call(this,a,c)?(this.Lo.x=c.x,this.Lo.y=c.y,!0):!1},I:function(){var a=new r.nu;a.O(this.za,this.Lo);return a},ba:function(a){r.Ak.prototype.ba.call(this,a);this.Ti.x=this.Lo.x-a.q.H;this.Ti.y=this.Lo.y-a.q.M}});r.nu.create=function(a,c){var d=new r.nu;d.O(a,c);return d};
r.jo=r.T.extend({ne:0,oe:0,cs:0,ds:0,pr:0,qr:0,Qe:0,Re:0,ctor:function(){r.T.prototype.ctor.call(this);this.Re=this.Qe=this.qr=this.pr=this.ds=this.cs=this.oe=this.ne=0},O:function(a,c,d){var e=!1;r.T.prototype.O.call(this,a)&&(this.pr=c,this.qr=d,e=!0);return e},I:function(){var a=new r.jo;a.O(this.za,this.pr,this.qr);return a},ba:function(a){r.T.prototype.ba.call(this,a);this.cs=a.ne%180;this.Qe=this.pr-this.cs;180<this.Qe&&(this.Qe-=360);-180>this.Qe&&(this.Qe+=360);this.ds=a.oe%360;this.Re=this.qr-
this.ds;180<this.Re&&(this.Re-=360);-180>this.Re&&(this.Re+=360)},update:function(a){this.U.Wx(this.cs+this.Qe*a);this.U.Xx(this.ds+this.Re*a)}});r.jo.create=function(a,c,d){var e=new r.jo;e&&e.O(a,c,d);return e};
r.zu=r.jo.extend({O:function(a,c,d){var e=!1;r.jo.prototype.O.call(this,a,c,d)&&(this.ne=c,this.oe=d,e=!0);return e},I:function(){var a=new r.zu;a.O(this.za,this.ne,this.oe);return a},ba:function(a){r.jo.prototype.ba.call(this,a);this.Qe=this.ne;this.Re=this.oe;this.pr=this.cs+this.Qe;this.qr=this.ds+this.Re},reverse:function(){return r.zu.create(this.za,-this.ne,-this.oe)}});r.zu.create=function(a,c,d){var e=new r.zu;e&&e.O(a,c,d);return e};
r.$n=r.T.extend({Xc:null,ug:null,wa:0,To:0,Wc:null,ctor:function(){r.T.prototype.ctor.call(this);this.Xc=r.a(0,0);this.Wc=r.a(0,0);this.ug=r.a(0,0);this.To=this.wa=0},O:function(a,c,d,e){return r.T.prototype.O.call(this,a)?(this.ug.x=c.x,this.ug.y=c.y,this.wa=d,this.To=e,!0):!1},I:function(){var a=new r.$n;a.O(this.za,this.ug,this.wa,this.To);return a},ba:function(a){r.T.prototype.ba.call(this,a);var c=a.q.H;a=a.q.M;this.Wc.x=c;this.Wc.y=a;this.Xc.x=c;this.Xc.y=a},update:function(a){if(this.U){var c=
a*this.To%1,c=4*this.wa*c*(1-c),c=c+this.ug.y*a;a*=this.ug.x;var d=this.Xc;if(r.Jt){var e=this.U.q.M,f=this.Wc;d.x=d.x+this.U.q.H-f.x;d.y=d.y+e-f.y;a+=d.x;c+=d.y;this.U.m(a,c);f.x=a;f.y=c}else this.U.m(d.x+a,d.y+c)}},reverse:function(){return r.$n.create(this.za,r.a(-this.ug.x,-this.ug.y),this.wa,this.To)}});r.$n.create=function(a,c,d,e){var f=new r.$n;f.O(a,c,d,e);return f};
r.Oy=r.$n.extend({ba:function(a){r.$n.prototype.ba.call(this,a);this.ug.x-=this.Xc.x;this.ug.y-=this.Xc.y},I:function(){var a=new r.Oy;a.O(this.za,this.ug,this.wa,this.To);return a}});r.Oy.create=function(a,c,d,e){var f=new r.Oy;f.O(a,c,d,e);return f};r.WH=function(a,c,d,e){return 0*Math.pow(1-e,3)+3*e*Math.pow(1-e,2)*a+3*Math.pow(e,2)*(1-e)*c+Math.pow(e,3)*d};
r.$l=r.T.extend({om:null,Xc:null,Wc:null,ctor:function(){r.T.prototype.ctor.call(this);this.om=[];this.Xc=r.a(0,0);this.Wc=r.a(0,0)},O:function(a,c){return r.T.prototype.O.call(this,a)?(this.om=c,!0):!1},I:function(){for(var a=new r.$l,c=[],d=0;d<this.om.length;d++){var e=this.om[d];c.push(r.a(e.x,e.y))}a.O(this.za,c);return a},ba:function(a){r.T.prototype.ba.call(this,a);var c=a.q.H;a=a.q.M;this.Wc.x=c;this.Wc.y=a;this.Xc.x=c;this.Xc.y=a},update:function(a){if(this.U){var c=this.om,d=r.WH(c[0].x,
c[1].x,c[2].x,a);a=r.WH(c[0].y,c[1].y,c[2].y,a);c=this.Xc;if(r.Jt){var e=this.U.q.M,f=this.Wc;c.x=c.x+this.U.q.H-f.x;c.y=c.y+e-f.y;d+=c.x;a+=c.y;this.U.m(d,a);f.x=d;f.y=a}else this.U.m(c.x+d,c.y+a)}},reverse:function(){var a=this.om,a=[r.fg(a[1],r.tD(a[2])),r.fg(a[0],r.tD(a[2])),r.tD(a[2])];return r.$l.create(this.za,a)}});r.$l.create=function(a,c){var d=new r.$l;d.O(a,c);return d};
r.xy=r.$l.extend({tw:null,ctor:function(){r.$l.prototype.ctor.call(this);this.tw=[]},O:function(a,c){return r.T.prototype.O.call(this,a)?(this.tw=c,!0):!1},I:function(){var a=new r.xy;a.O(this.za,this.tw);return a},ba:function(a){r.$l.prototype.ba.call(this,a);a=this.Xc;var c=this.tw,d=this.om;d[0]=r.Hd(c[0],a);d[1]=r.Hd(c[1],a);d[2]=r.Hd(c[2],a)}});r.xy.create=function(a,c){var d=new r.xy;d.O(a,c);return d};
r.io=r.T.extend({ya:1,Ca:1,hp:1,ip:1,rm:0,sm:0,Qe:0,Re:0,ctor:function(){r.T.prototype.ctor.call(this);this.ip=this.hp=this.Ca=this.ya=1;this.Re=this.Qe=this.sm=this.rm=0},O:function(a,c,d){return r.T.prototype.O.call(this,a)?(this.rm=c,this.sm=null!=d?d:c,!0):!1},I:function(){var a=new r.io;a.O(this.za,this.rm,this.sm);return a},ba:function(a){r.T.prototype.ba.call(this,a);this.hp=a.ya;this.ip=a.Ca;this.Qe=this.rm-this.hp;this.Re=this.sm-this.ip},update:function(a){this.U&&this.U.uk(this.hp+this.Qe*
a,this.ip+this.Re*a)}});r.io.create=function(a,c,d){var e=new r.io;e.O(a,c,d);return e};r.xu=r.io.extend({ba:function(a){r.io.prototype.ba.call(this,a);this.Qe=this.hp*this.rm-this.hp;this.Re=this.ip*this.sm-this.ip},reverse:function(){return r.xu.create(this.za,1/this.rm,1/this.sm)},I:function(){var a=new r.xu;a.O(this.za,this.rm,this.sm);return a}});r.xu.create=function(a,c,d){var e=new r.xu;e.O(a,c,d);return e};
r.Gt=r.T.extend({Wf:0,PA:!1,ctor:function(){r.T.prototype.ctor.call(this);this.Wf=0;this.PA=!1},O:function(a,c){return r.T.prototype.O.call(this,a)?(this.Wf=c,!0):!1},I:function(){var a=new r.Gt;a.O(this.za,this.Wf);return a},update:function(a){if(this.U&&!this.ji()){var c=1/this.Wf;this.U.B(a%c>c/2)}},ba:function(a){r.T.prototype.ba.call(this,a);this.PA=a.la},stop:function(){this.U.B(this.PA);r.T.prototype.stop.call(this)},reverse:function(){return r.Gt.create(this.za,this.Wf)}});
r.Gt.create=function(a,c){var d=new r.Gt;d.O(a,c);return d};r.fu=r.T.extend({update:function(a){this.U.mb&&this.U.ra(255*a)},reverse:function(){return r.gu.create(this.za)},I:function(){var a=new r.fu;a.O(this.za);return a}});r.fu.create=function(a){var c=new r.fu;c.O(a);return c};r.gu=r.T.extend({update:function(a){this.U.mb&&this.U.ra(255*(1-a))},reverse:function(){return r.fu.create(this.za)},I:function(){var a=new r.gu;a.O(this.za);return a}});r.gu.create=function(a){var c=new r.gu;c.O(a);return c};
r.Ky=r.T.extend({uw:null,rv:null,ctor:function(){r.T.prototype.ctor.call(this);this.rv=this.uw=0},O:function(a,c){return r.T.prototype.O.call(this,a)?(this.uw=c,!0):!1},I:function(){var a=new r.Ky;a.O(this.za,this.uw);return a},update:function(a){this.U.mb&&this.U.ra(this.rv+(this.uw-this.rv)*a)},ba:function(a){r.T.prototype.ba.call(this,a);this.U.mb&&(this.rv=a.$i())}});r.Ky.create=function(a,c){var d=new r.Ky;d.O(a,c);return d};
r.qz=r.T.extend({zf:null,je:null,ctor:function(){r.T.prototype.ctor.call(this);this.zf=r.l(0,0,0);this.je=r.l(0,0,0)},O:function(a,c,d,e){return r.T.prototype.O.call(this,a)?(this.zf=r.l(c,d,e),!0):!1},I:function(){var a=new r.qz,c=this.zf;a.O(this.za,c.p,c.o,c.i);return a},ba:function(a){r.T.prototype.ba.call(this,a);this.U.mb&&(this.je=this.U.Gd())},update:function(a){var c=this.je,d=this.zf;this.U.mb&&this.U.n(r.l(c.p+(d.p-c.p)*a,c.o+(d.o-c.o)*a,c.i+(d.i-c.i)*a))}});
r.qz.create=function(a,c,d,e){var f=new r.qz;f.O(a,c,d,e);return f};
r.Gu=r.T.extend({gr:0,fr:0,er:0,tA:0,sA:0,rA:0,ctor:function(){r.T.prototype.ctor.call(this);this.rA=this.sA=this.tA=this.er=this.fr=this.gr=0},O:function(a,c,d,e){return r.T.prototype.O.call(this,a)?(this.gr=c,this.fr=d,this.er=e,!0):!1},I:function(){var a=new r.Gu;a.O(this.za,this.gr,this.fr,this.er);return a},ba:function(a){r.T.prototype.ba.call(this,a);a.mb&&(a=a.Gd(),this.tA=a.p,this.sA=a.o,this.rA=a.i)},update:function(a){this.U.mb&&this.U.n(r.l(this.tA+this.gr*a,this.sA+this.fr*a,this.rA+this.er*
a))},reverse:function(){return r.Gu.create(this.za,-this.gr,-this.fr,-this.er)}});r.Gu.create=function(a,c,d,e){var f=new r.Gu;f.O(a,c,d,e);return f};r.Yn=r.T.extend({update:function(){},reverse:function(){return r.Yn.create(this.za)},I:function(){var a=new r.Yn;a.O(this.za);return a}});r.Yn.create=function(a){var c=new r.Yn;c.O(a);return c};
r.uu=r.T.extend({Vj:null,ctor:function(){r.T.prototype.ctor.call(this);this.Vj=null},qa:function(a){if(!a)throw"cc.ReverseTime.initWithAction(): action must be non null";if(a==this.Vj)throw"cc.ReverseTime.initWithAction(): the action was already passed in.";return r.T.prototype.O.call(this,a.Bf())?(this.Vj=a,!0):!1},I:function(){var a=new r.uu;a.qa(this.Vj.I());return a},ba:function(a){r.T.prototype.ba.call(this,a);this.Vj.ba(a)},update:function(a){this.Vj&&this.Vj.update(1-a)},reverse:function(){return this.Vj.I()},
stop:function(){this.Vj.stop();r.Kd.prototype.stop.call(this)}});r.uu.create=function(a){var c=new r.uu;c.qa(a);return c};
r.Dt=r.T.extend({Bj:null,Zo:0,Tv:null,rr:0,xB:null,ctor:function(){r.T.prototype.ctor.call(this);this.Bj=null;this.Zo=0;this.Tv=null;this.rr=0;this.xB=null},EI:function(){return this.Bj},TW:function(a){this.Bj=a},gJ:function(a){if(!a)throw"cc.Animate.initWithAnimation(): animation must be non-NULL";var c=a.Bf();if(this.O(c*a.Sj)){this.Zo=0;this.TW(a);this.Tv=null;this.rr=0;var d=[],e=0,f=c/a.Rm;a=a.ie;r.Et(a,r.sj);for(var g=0;g<a.length;g++){var h=e*f/c,e=e+a[g].ge;d.push(h)}this.xB=d;return!0}return!1},
I:function(){var a=new r.Dt;a.gJ(this.Bj.I());return a},ba:function(a){r.T.prototype.ba.call(this,a);this.Bj.Em&&(this.Tv=a.BS());this.rr=this.Zo=0},update:function(a){1>a&&(a*=this.Bj.Sj,(0|a)>this.rr&&(this.Zo=0,this.rr++),a%=1);for(var c=this.Bj.ie,d=c.length,e=this.xB,f=this.Zo;f<d;f++)if(e[f]<=a)this.U.iq(c[f].xh()),this.Zo=f+1;else break},reverse:function(){var a=this.Bj,c=a.ie,d=[];r.Et(c,r.sj);if(0<c.length)for(var e=c.length-1;0<=e;e--){var f=c[e];if(!f)break;d.push(f.I())}c=r.rj.bI(d,a.ge,
a.Sj);c.Rx(a.Em);return r.Dt.create(c)},stop:function(){this.Bj.Em&&this.U&&this.U.iq(this.Tv);r.Kd.prototype.stop.call(this)}});r.Dt.create=function(a){var c=new r.Dt;c.gJ(a);return c};
r.pz=r.T.extend({Of:null,tm:null,ctor:function(){r.T.prototype.ctor.call(this);this.tm=this.Of=null},Lg:function(a,c){return this.O(c.Bf())?(this.tm=a,this.Of=c,!0):!1},I:function(){var a=new r.pz;a.Lg(this.tm,this.Of.I());return a},ba:function(a){r.T.prototype.ba.call(this,a);this.Of.ba(this.tm)},stop:function(){this.Of.stop()},update:function(a){this.Of.update(a)},g5:function(){return this.tm},iba:function(a){this.tm!=a&&(this.tm=a)}});r.pz.create=function(a,c){var d=new r.pz;d.Lg(a,c);return d};r.ti=r.vj.extend({ji:function(){return!0},step:function(){this.update(1)},update:function(){},reverse:function(){return this.I()},I:function(){return new r.ti}});r.yu=r.ti.extend({update:function(){this.U.B(!0)},reverse:function(){return r.ju.create()},I:function(){return new r.yu}});r.yu.create=function(){return new r.yu};r.ju=r.ti.extend({update:function(){this.U.B(!1)},reverse:function(){return r.yu.create()},I:function(){return new r.ju}});r.ju.create=function(){return new r.ju};
r.Hu=r.ti.extend({update:function(){this.U.B(!this.U.la)},reverse:function(){return new r.Hu},I:function(){return new r.Hu}});r.Hu.create=function(){return new r.Hu};r.ru=r.ti.extend({Er:!0,ctor:function(){r.vj.prototype.ctor.call(this);this.Er=!0},update:function(){this.U.K(this.Er)},r:function(a){this.Er=a;return!0},reverse:function(){return new r.ru(this.Er)},I:function(){return new r.ru(this.Er)}});r.ru.create=function(a){null==a&&(a=!0);var c=new r.ru;c&&c.r(a);return c};
r.hu=r.ti.extend({oc:!1,ctor:function(){r.vj.prototype.ctor.call(this);this.oc=!1},iJ:function(a){this.oc=a;return!0},update:function(){this.U.kX(this.oc)},reverse:function(){return r.hu.create(!this.oc)},I:function(){var a=new r.hu;a.iJ(this.oc);return a}});r.hu.create=function(a){var c=new r.hu;return c.iJ(a)?c:null};
r.iu=r.ti.extend({pc:!1,ctor:function(){r.vj.prototype.ctor.call(this);this.pc=!1},jJ:function(a){this.pc=a;return!0},update:function(){this.U.lX(this.pc)},reverse:function(){return r.iu.create(!this.pc)},I:function(){var a=new r.iu;a.jJ(this.pc);return a}});r.iu.create=function(a){var c=new r.iu;return c.jJ(a)?c:null};
r.Xy=r.ti.extend({q:null,ctor:function(){r.vj.prototype.ctor.call(this);this.q=r.a(0,0)},lJ:function(a){this.q.x=a.x;this.q.y=a.y;return!0},update:function(){this.U.m(this.q)},I:function(){var a=new r.Xy;a.lJ(this.q);return a}});r.Xy.create=function(a){var c=new r.Xy;c.lJ(a);return c};
r.xq=r.ti.extend({nh:null,nm:null,Qk:null,cr:null,ctor:function(){r.vj.prototype.ctor.call(this);this.cr=this.Qk=this.nm=this.nh=null},Lg:function(a,c,d){this.cr=d;this.nm=a;this.nh=c;return!0},UC:function(a){this.Qk=a;return!0},execute:function(){null!=this.nm?this.nm.call(this.nh,this.U,this.cr):this.Qk&&this.Qk.call(null,this.U)},update:function(){this.execute()},a7:function(){return this.nh},uca:function(a){a!=this.nh&&(this.nh&&(this.nh=null),this.nh=a)},copy:function(){var a=new r.xq;this.nh?
a.Lg(this.nm,this.nh,this.cr):this.Qk&&a.UC(this.Qk);return a},I:function(){var a=new r.xq;this.nh?a.Lg(this.nm,this.nh,this.cr):this.Qk&&a.UC(this.Qk);return a}});r.xq.create=function(a,c,d){var e=new r.xq;if(1==arguments.length){if(e&&e.UC(a))return e}else if(e&&e.Lg(a,c,d))return e.nm=a,e;return null};r.ry=r.T.extend({Pz:0,Qz:0,Rz:0,lG:0,mG:0,nG:0,tH:0,uH:0,vH:0,ctor:function(){r.T.prototype.ctor.call(this);this.vH=this.uH=this.tH=this.nG=this.mG=this.lG=this.Rz=this.Qz=this.Pz=0},ba:function(a){r.T.prototype.ba.call(this,a);a=a.BC();var c=a.GI();this.Pz=c.x;this.Qz=c.y;this.Rz=c.z;c=a.JI();this.lG=c.x;this.mG=c.y;this.nG=c.z;a=a.MT();this.tH=a.x;this.uH=a.y;this.vH=a.z},I:function(){return new r.ry},reverse:function(){return r.uu.create(this)}});
r.Vy=r.ry.extend({Ui:0,kv:0,oo:0,cA:0,rg:0,bA:0,fB:0,dB:0,eB:0,cB:0,ctor:function(){r.ry.prototype.ctor.call(this);this.cB=this.eB=this.dB=this.fB=this.bA=this.rg=this.cA=this.oo=this.kv=this.Ui=0},O:function(a,c,d,e,f,g,h){return r.T.prototype.O.call(this,a)?(this.Ui=c,this.kv=d,this.oo=e,this.cA=f,this.rg=g,this.bA=h,this.dB=r.uj(f),this.cB=r.uj(h),!0):!1},vY:function(){var a=this.U.BC(),c=a.JI(),d=a.GI(),a=c.x-d.x,e=c.y-d.y,c=c.z-d.z,d=Math.sqrt(Math.pow(a,2)+Math.pow(e,2)+Math.pow(c,2)),f=Math.sqrt(Math.pow(a,
2)+Math.pow(e,2));0===f&&(f=r.eu);0===d&&(d=r.eu);return{ZU:d/r.yq.Os(),TY:Math.acos(c/d),azimuth:0>a?Math.PI-Math.asin(e/f):Math.asin(e/f)}},ba:function(a){r.T.prototype.ba.call(this,a);a=this.vY();isNaN(this.Ui)&&(this.Ui=a.ZU);isNaN(this.oo)&&(this.oo=r.Zy(a.TY));isNaN(this.rg)&&(this.rg=r.Zy(a.azimuth));this.fB=r.uj(this.oo);this.eB=r.uj(this.rg)},I:function(){var a=new r.Vy;a.O(this.za,this.Ui,this.kv,this.oo,this.cA,this.rg,this.bA);return a},update:function(a){var c=(this.Ui+this.kv*a)*r.yq.Os(),
d=this.fB+this.dB*a,e=this.eB+this.cB*a;a=Math.sin(d)*Math.cos(e)*c+this.Pz;e=Math.sin(d)*Math.sin(e)*c+this.Qz;c=Math.cos(d)*c+this.Rz;this.U.BC().TK(a,e,c)}});r.Vy.create=function(a,c,d,e,f,g,h){var k=new r.Vy;return k.O(a,c,d,e,f,g,h)?k:null};r.ld=r.T.extend({fa:null,ctor:function(){r.T.prototype.ctor.call(this);this.fa=null},qa:function(a){if(!a)throw"cc.ActionEase.initWithAction(): action must be non nil";return this.O(a.Bf())?(this.fa=a,!0):!1},I:function(){var a=new r.ld;a.qa(this.fa.I());return a},ba:function(a){r.T.prototype.ba.call(this,a);this.fa.ba(this.U)},stop:function(){this.fa.stop();r.T.prototype.stop.call(this)},update:function(a){this.fa.update(a)},reverse:function(){return r.ld.create(this.fa.reverse())},CC:function(){return this.fa}});
r.ld.create=function(a){var c=new r.ld;c&&c.qa(a);return c};r.dm=r.ld.extend({Ve:0,ctor:function(){r.ld.prototype.ctor.call(this);this.Ve=0},aca:function(a){this.Ve=a},y6:function(){return this.Ve},qa:function(a,c){return r.ld.prototype.qa.call(this,a)?(this.Ve=c,!0):!1},I:function(){var a=new r.dm;a.qa(this.fa.I(),this.Ve);return a},reverse:function(){return r.dm.create(this.fa.reverse(),1/this.Ve)}});r.dm.create=function(a,c){var d=new r.dm;d&&d.qa(a,c);return d};
r.Yt=r.dm.extend({update:function(a){this.fa.update(Math.pow(a,this.Ve))},reverse:function(){return r.Yt.create(this.fa.reverse(),1/this.Ve)},I:function(){var a=new r.Yt;a.qa(this.fa.I(),this.Ve);return a}});r.Yt.create=function(a,c){var d=new r.Yt;d&&d.qa(a,c);return d};r.$t=r.dm.extend({update:function(a){this.fa.update(Math.pow(a,1/this.Ve))},reverse:function(){return r.$t.create(this.fa.reverse(),1/this.Ve)},I:function(){var a=new r.$t;a.qa(this.fa.I(),this.Ve);return a}});
r.$t.create=function(a,c){var d=new r.$t;d&&d.qa(a,c);return d};r.Zt=r.dm.extend({update:function(a){a*=2;1>a?this.fa.update(0.5*Math.pow(a,this.Ve)):this.fa.update(1-0.5*Math.pow(2-a,this.Ve))},I:function(){var a=new r.Zt;a.qa(this.fa.I(),this.Ve);return a},reverse:function(){return r.Zt.create(this.fa.reverse(),this.Ve)}});r.Zt.create=function(a,c){var d=new r.Zt;d&&d.qa(a,c);return d};
r.Vt=r.ld.extend({update:function(a){this.fa.update(0===a?0:Math.pow(2,10*(a-1)))},reverse:function(){return r.Xt.create(this.fa.reverse())},I:function(){var a=new r.Vt;a.qa(this.fa.I());return a}});r.Vt.create=function(a){var c=new r.Vt;c&&c.qa(a);return c};r.Xt=r.ld.extend({update:function(a){this.fa.update(1==a?1:-Math.pow(2,-10*a)+1)},reverse:function(){return r.Vt.create(this.fa.reverse())},I:function(){var a=new r.Xt;a.qa(this.fa.I());return a}});
r.Xt.create=function(a){var c=new r.Xt;c&&c.qa(a);return c};r.Wt=r.ld.extend({update:function(a){1!=a&&0!==a&&(a*=2,a=1>a?0.5*Math.pow(2,10*(a-1)):0.5*(-Math.pow(2,-10*(a-1))+2));this.fa.update(a)},reverse:function(){return r.Wt.create(this.fa.reverse())},I:function(){var a=new r.Wt;a.qa(this.fa.I());return a}});r.Wt.create=function(a){var c=new r.Wt;c&&c.qa(a);return c};
r.au=r.ld.extend({update:function(a){a=0===a||1==a?a:-1*Math.cos(a*Math.PI/2)+1;this.fa.update(a)},reverse:function(){return r.cu.create(this.fa.reverse())},I:function(){var a=new r.au;a.qa(this.fa.I());return a}});r.au.create=function(a){var c=new r.au;c&&c.qa(a);return c};r.cu=r.ld.extend({update:function(a){a=0===a||1==a?a:Math.sin(a*Math.PI/2);this.fa.update(a)},reverse:function(){return r.au.create(this.fa.reverse())},I:function(){var a=new r.cu;a.qa(this.fa.I());return a}});
r.cu.create=function(a){var c=new r.cu;c&&c.qa(a);return c};r.bu=r.ld.extend({update:function(a){a=0===a||1==a?a:-0.5*(Math.cos(Math.PI*a)-1);this.fa.update(a)},I:function(){var a=new r.bu;a.qa(this.fa.I());return a},reverse:function(){return r.bu.create(this.fa.reverse())}});r.bu.create=function(a){var c=new r.bu;c&&c.qa(a);return c};
r.Zn=r.ld.extend({ke:null,ctor:function(){r.ld.prototype.ctor.call(this);this.ke=0.3},i6:function(){return this.ke},Qba:function(a){this.ke=a},qa:function(a,c){r.ld.prototype.qa.call(this,a);this.ke=null==c?0.3:c;return!0},reverse:function(){r.log("cc.EaseElastic.reverse(): it should be overridden in subclass.")},I:function(){var a=new r.Zn;a.qa(this.fa.I(),this.ke);return a}});r.Zn.create=function(a,c){var d=new r.Zn;return d&&d.qa(a,c)?d:null};
r.St=r.Zn.extend({update:function(a){var c=0;0===a||1===a?c=a:(c=this.ke/4,a-=1,c=-Math.pow(2,10*a)*Math.sin((a-c)*Math.PI*2/this.ke));this.fa.update(c)},reverse:function(){return r.Ut.create(this.fa.reverse(),this.ke)},I:function(){var a=new r.St;a.qa(this.fa.I(),this.ke);return a}});r.St.create=function(a,c){var d=new r.St;return d&&d.qa(a,c)?d:null};
r.Ut=r.Zn.extend({update:function(a){var c=0,c=0===a||1==a?a:Math.pow(2,-10*a)*Math.sin((a-this.ke/4)*Math.PI*2/this.ke)+1;this.fa.update(c)},reverse:function(){return r.St.create(this.fa.reverse(),this.ke)},I:function(){var a=new r.Ut;a.qa(this.fa.I(),this.ke);return a}});r.Ut.create=function(a,c){var d=new r.Ut;d&&d.qa(a,c);return d};
r.Tt=r.Zn.extend({update:function(a){var c=0,c=this.ke;if(0===a||1==a)c=a;else{c||(c=this.ke=0.3*1.5);var d=c/4;a=2*a-1;c=0>a?-0.5*Math.pow(2,10*a)*Math.sin((a-d)*Math.PI*2/c):Math.pow(2,-10*a)*Math.sin((a-d)*Math.PI*2/c)*0.5+1}this.fa.update(c)},reverse:function(){return r.Tt.create(this.fa.reverse(),this.ke)},I:function(){var a=new r.Tt;a.qa(this.fa.I(),this.ke);return a}});r.Tt.create=function(a,c){var d=new r.Tt;d&&d.qa(a,c);return d};
r.cm=r.ld.extend({Fw:function(a){if(a<1/2.75)return 7.5625*a*a;if(a<2/2.75)return a-=1.5/2.75,7.5625*a*a+0.75;if(a<2.5/2.75)return a-=2.25/2.75,7.5625*a*a+0.9375;a-=2.625/2.75;return 7.5625*a*a+0.984375},I:function(){var a=new r.cm;a.qa(this.fa.I());return a},reverse:function(){return r.cm.create(this.fa.reverse())}});r.cm.create=function(a){var c=new r.cm;c&&c.qa(a);return c};
r.Pt=r.cm.extend({update:function(a){this.fa.update(1-this.Fw(1-a))},reverse:function(){return r.Rt.create(this.fa.reverse())},I:function(){var a=new r.Pt;a.qa(this.fa.I());return a}});r.Pt.create=function(a){var c=new r.Pt;c&&c.qa(a);return c};r.Rt=r.cm.extend({update:function(a){this.fa.update(this.Fw(a))},reverse:function(){return r.Pt.create(this.fa.reverse())},I:function(){var a=new r.Rt;a.qa(this.fa.I());return a}});r.Rt.create=function(a){var c=new r.Rt;c&&c.qa(a);return c};
r.Qt=r.cm.extend({update:function(a){var c=0,c=0.5>a?0.5*(1-this.Fw(1-2*a)):0.5*this.Fw(2*a-1)+0.5;this.fa.update(c)},I:function(){var a=new r.Qt;a.qa(this.fa.I());return a},reverse:function(){return r.Qt.create(this.fa.reverse())}});r.Qt.create=function(a){var c=new r.Qt;c&&c.qa(a);return c};r.Mt=r.ld.extend({update:function(a){this.fa.update(0===a||1==a?a:a*a*(2.70158*a-1.70158))},reverse:function(){return r.Ot.create(this.fa.reverse())},I:function(){var a=new r.Mt;a.qa(this.fa.I());return a}});
r.Mt.create=function(a){var c=new r.Mt;c&&c.qa(a);return c};r.Ot=r.ld.extend({update:function(a){a-=1;this.fa.update(a*a*(2.70158*a+1.70158)+1)},reverse:function(){return r.Mt.create(this.fa.reverse())},I:function(){var a=new r.Ot;a.qa(this.fa.I());return a}});r.Ot.create=function(a){var c=new r.Ot;c&&c.qa(a);return c};
r.Nt=r.ld.extend({update:function(a){a*=2;1>a?this.fa.update(a*a*(3.5949095*a-2.5949095)/2):(a-=2,this.fa.update(a*a*(3.5949095*a+2.5949095)/2+1))},I:function(){var a=new r.Nt;a.qa(this.fa.I());return a},reverse:function(){return r.Nt.create(this.fa.reverse())}});r.Nt.create=function(a){var c=new r.Nt;c&&c.qa(a);return c};r.Ay=function(a,c,d,e,f,g){var h=g*g,k=h*g,l=(1-f)/2;f=l*(-k+2*h-g);var m=l*(-k+h)+(2*k-3*h+1);g=l*(k-2*h+g)+(-2*k+3*h);h=l*(k-h);return r.a(a.x*f+c.x*m+d.x*g+e.x*h,a.y*f+c.y*m+d.y*g+e.y*h)};r.AK=function(a){for(var c=[],d=a.length-1;0<=d;d--)c.push(r.a(a[d].x,a[d].y));return c};r.Lw=function(a){for(var c=[],d=0;d<a.length;d++)c.push(r.a(a[d].x,a[d].y));return c};r.vh=function(a,c){var d=Math.min(a.length-1,Math.max(c,0));return a[d]};
r.yaa=function(a){for(var c=a.length,d=0|c/2,e=0;e<d;++e){var f=a[e];a[e]=a[c-e-1];a[c-e-1]=f}};
r.vi=r.T.extend({Ph:null,dA:0,Nm:0,Wc:null,Az:null,ctor:function(){r.T.prototype.ctor.call(this);this.Ph=[];this.Nm=this.dA=0;this.Az=this.Wc=null},O:function(a,c,d){if(!c||0==c.length)throw"Invalid configuration. It must at least have one control point";return r.T.prototype.O.call(this,a)?(this.LX(c),this.Nm=d,!0):!1},I:function(){var a=new r.vi;a.O(this.za,r.Lw(this.Ph),this.Nm);return a},ba:function(a){r.T.prototype.ba.call(this,a);this.dA=1/(this.Ph.length-1);a=this.U.q;this.Wc=r.a(a.x,a.y);this.Az=
r.a(0,0)},update:function(a){var c,d=this.Ph;if(1==a)c=d.length-1,a=1;else{var e=this.dA;c=0|a/e;a=(a-e*c)/e}c=r.Ay(r.vh(d,c-1),r.vh(d,c-0),r.vh(d,c+1),r.vh(d,c+2),this.Nm,a);r.Jt&&(d=this.U.q.H-this.Wc.x,a=this.U.q.M-this.Wc.y,0!=d||0!=a)&&(e=this.Az,d=e.x+d,a=e.y+a,e.x=d,e.y=a,c.x+=d,c.y+=a);this.UL(c)},reverse:function(){var a=r.AK(this.Ph);return r.vi.create(this.za,a,this.Nm)},UL:function(a){this.U.m(a);this.Wc=a},n6:function(){return this.Ph},LX:function(a){this.Ph=a}});
r.vi.create=function(a,c,d){var e=new r.vi;return e.O(a,c,d)?e:null};
r.zq=r.vi.extend({Xc:null,ctor:function(){r.vi.prototype.ctor.call(this);this.Xc=r.a(0,0)},ba:function(a){r.vi.prototype.ba.call(this,a);a=a.q;this.Xc.x=a.x;this.Xc.y=a.y},reverse:function(){for(var a=this.Ph.slice(),c,d=a[0],e=1;e<a.length;++e)c=a[e],a[e]=r.Hd(c,d),d=c;a=r.AK(a);d=a[a.length-1];a.pop();d.x=-d.x;d.y=-d.y;a.unshift(d);for(e=1;e<a.length;++e)c=a[e],c.x=-c.x,c.y=-c.y,c.x+=d.x,c.y+=d.y,d=a[e]=c;return r.zq.create(this.za,a,this.Nm)},UL:function(a){var c=this.Xc,d=a.x+c.x;a=a.y+c.y;this.U.m(d,
a);this.Wc.x=d;this.Wc.y=a},I:function(){var a=new r.zq;a.O(this.za,r.Lw(this.Ph),this.Nm);return a}});r.zq.create=function(a,c,d){var e=new r.zq;return e.O(a,c,d)?e:null};r.Cy=r.vi.extend({O:function(a,c){return r.vi.prototype.O.call(this,a,c,0.5)},I:function(){var a=new r.Cy;a.O(this.za,r.Lw(this.Ph));return a}});r.Cy.create=function(a,c){var d=new r.Cy;return d.O(a,c)?d:null};
r.By=r.zq.extend({O:function(a,c){return r.vi.prototype.O.call(this,a,c,0.5)},I:function(){var a=new r.By;a.O(this.za,r.Lw(this.Ph));return a}});r.By.create=function(a,c){var d=new r.By;return d.O(a,c)?d:null};r.eZ=r.Ea.extend({wE:function(){}});
r.Xn=r.T.extend({key:"",gn:0,Tl:0,oC:0,ctor:function(){r.T.prototype.ctor.call(this);this.key="";this.oC=this.Tl=this.gn=0},O:function(a,c,d,e){return r.T.prototype.O.call(this,a)?(this.key=c,this.Tl=e,this.gn=d,!0):!1},ba:function(a){if(!a||!a.wE)throw"cc.ActionTween.startWithTarget(): target must be non-null, and target must implement updateTweenAction function";r.T.prototype.ba.call(this,a);this.oC=this.Tl-this.gn},update:function(a){this.U.wE(this.Tl-this.oC*(1-a),this.key)},reverse:function(){return r.Xn.create(this.duration,
this.key,this.Tl,this.gn)},I:function(){var a=new r.Xn;a.O(this.za,this.key,this.gn,this.Tl);return a}});r.Xn.create=function(a,c,d,e){var f=new r.Xn;return f.O(a,c,d,e)?f:null};r.Bk=0;r.Wy=1;r.tF=4;r.oN=75;
r.Hc=r.Bb.extend({Af:null,Ri:0,qb:null,Oh:null,mm:null,Rd:!1,I5:function(){return r.a(this.Oh.x,this.Oh)},aL:function(a){this.Oh=r.ZJ(a)},o4:function(){return r.a(this.mm.x,this.mm.y)},IK:function(a){this.mm=r.ZJ(a)},sc:function(){return this.Af},Zw:function(){return this.Ri},GT:function(){return this.qb},mt:function(a){this.Ri!=a&&(this.Ri=r.zs(a,0,100),this.NB())},Kf:function(){},wl:function(){return!1},I8:function(){return this.Rd},Lz:function(a){if(a<r.tF){var c=r.oN;return this.Rd?r.a(c>>7-(a<<
1)&1,c>>7-((a<<1)+1)&1):r.a(c>>(a<<1)+1&1,c>>(a<<1)&1)}return r.wj()},pd:null,EB:270,mA:270,Ui:0,Xz:!1,Iz:null,Ed:0,Nc:null,Xf:null,DH:null,ws:!1,ctor:null,Lh:function(){r.Bb.prototype.ctor.call(this);this.Af=r.Bk;this.Ri=0;this.Oh=r.a(0,0);this.mm=r.a(0,0);this.Rd=!1;this.qb=null;this.pd=r.wj();this.mA=this.EB=270;this.Ui=0;this.Xz=!1;this.Iz=r.md()},Mh:function(){r.Bb.prototype.ctor.call(this);this.Af=r.Bk;this.Ri=0;this.Oh=r.a(0,0);this.mm=r.a(0,0);this.Rd=!1;this.qb=null;this.DH=r.Y.createBuffer();
this.Ed=0;this.Xf=this.Nc=null;this.ws=!1},n:function(a){this.qb.n(a);this.Dd()},ra:function(a){this.qb.ra(a);this.Dd()},Gd:function(){return this.qb.Gd()},$i:function(){return this.qb.$i()},gL:null,yQ:function(a){this.Rd!==a&&(this.Rd=a)},zQ:function(a){this.Rd!==a&&(this.Rd=a,this.Xf=this.Nc=null,this.Ed=0)},ot:null,BQ:function(a){this.qb!=a&&(this.qb=a,this.S(this.qb.c()))},CQ:function(a){a&&this.qb!=a&&(this.qb=a,this.S(a.c()),this.Nc&&(this.Xf=this.Nc=null,this.Ed=0))},nj:null,FQ:function(a){a!==
this.Af&&(this.Af=a)},GQ:function(a){a!==this.Af&&(this.Nc&&(this.Xf=this.Nc=null,this.Ed=0),this.Af=a)},fL:null,wQ:function(a){this.Rd!==a&&(this.Rd=a)},xQ:function(a){this.Rd!==a&&(this.Rd=a,this.Xf=this.Nc=null,this.Ed=0)},af:function(a){var c=this.qb;if(!c)return{Pa:0,oa:0};var d=c.Mb,e=r.a(d.Ka.C.Pa,d.Ka.C.oa),d=r.a(d.Na.C.Pa,d.Na.C.oa);c.bd&&(c=a.x,a.x=a.y,a.y=c);return{Pa:e.x*(1-a.x)+d.x*a.x,oa:e.y*(1-a.y)+d.y*a.y}},cf:function(a){if(!this.qb)return{x:0,y:0};var c=this.qb.Mb,d=r.a(c.Ka.t.x,
c.Ka.t.y),c=r.a(c.Na.t.x,c.Na.t.y);return{x:d.x*(1-a.x)+c.x*a.x,y:d.y*(1-a.y)+c.y*a.y}},XC:null,fP:function(a){this.mt(0);this.G(0.5,0.5);this.Af=r.Bk;this.Rd=!1;this.aL(r.a(0.5,0.5));this.IK(r.a(1,1));this.ot(a);return!0},gP:function(a){this.mt(0);this.Xf=this.Nc=null;this.Ed=0;this.G(0.5,0.5);this.Af=r.Bk;this.Rd=!1;this.aL(r.a(0.5,0.5));this.IK(r.a(1,1));this.ot(a);this.Rg(r.Jh.e().oi(r.cz));return!0},Va:null,qm:function(a){a=a||r.Y;var c=this.qb;c.Qo&&(a.globalCompositeOperation="lighter");var d=
r.va.e().ya,e=r.va.e().Ca;a.globalAlpha=c.$b/255;var f=c.Aa,g=c.xa,h=c.ic,k=c.jA,l=0|h.x,m=-h.y-f.height,n=c.mp;k.width=f.width*d;k.height=f.height*e;a.save();c.oc&&(l=-h.x-f.width,a.scale(-1,1));c.pc&&(m=h.y,a.scale(1,-1));l*=d;m*=e;this.Af==r.Wy?(f=this.Iz,a.beginPath(),a.rect(f.x*d,f.y*e,f.width*d,f.height*e),a.clip(),a.closePath()):this.Af==r.Bk&&(f=this.pd.x*d,h=this.pd.y*e,a.beginPath(),a.arc(f,h,this.Ui*e,Math.PI/180*this.EB,Math.PI/180*this.mA,this.Xz),a.lineTo(f,h),a.clip(),a.closePath());
c.Fa&&n.At?(d=c.Fa.Lc,this.dv?a.drawImage(d,0,0,n.width,n.height,l,m,k.width,k.height):a.drawImage(d,n.x,n.y,n.width,n.height,l,m,k.width,k.height)):0!==g.width&&(k=this.Gd(),a.fillStyle="rgba("+k.p+","+k.o+","+k.i+",1)",a.fillRect(l,m,g.width*d,g.height*e));a.restore();r.Gh()},vg:function(a){a=a||r.Y;if(this.Nc&&this.qb){r.Ty(this);var c=this.qb.ia;r.jk(c.src,c.Jb);r.ze(r.Lu);this.qb.da()?r.Jg(this.qb.da()):r.Jg(null);a.bindBuffer(a.ARRAY_BUFFER,this.DH);this.ws&&(a.bufferData(a.ARRAY_BUFFER,this.Xf,
a.DYNAMIC_DRAW),this.ws=!1);c=r.Wb.BYTES_PER_ELEMENT;a.vertexAttribPointer(r.Pe,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(r.Lq,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(r.Mq,2,a.FLOAT,!1,c,12);this.Af===r.Bk?a.drawArrays(a.TRIANGLE_FAN,0,this.Ed):this.Af==r.Wy&&(this.Rd?(a.drawArrays(a.TRIANGLE_STRIP,0,this.Ed/2),a.drawArrays(a.TRIANGLE_STRIP,4,this.Ed/2),r.fi++):a.drawArrays(a.TRIANGLE_STRIP,0,this.Ed));r.fi++}},hR:function(){if(this.qb){var a,c=this.Oh;a=this.Ri/100;var d=2*r.PI*(this.Rd?a:
1-a),e=r.a(c.x,1),f=r.uV(e,c,d),d=0;if(0==a)f=e,d=0;else if(1==a)f=e,d=4;else{var g=r.DM,h=r.tF;for(a=0;a<=h;++a){var k=(a+(h-1))%h,l=this.Lz(a%h),k=this.Lz(k);0==a?k=r.aK(l,k,1-c.x):4==a&&(l=r.aK(l,k,1-c.x));var m=r.a(0,0);r.rD(l,k,c,f,m)&&(0!=a&&4!=a||0<=m.x&&1>=m.x)&&0<=m.y&&m.y<g&&(g=m.y,d=a)}f=r.fg(c,r.jj(r.Hd(f,c),g))}g=!0;this.Ed!=d+3&&(g=!1,this.Xf=this.Nc=null,this.Ed=0);if(!this.Nc){h=this.Ed=d+3;l=r.Wb.BYTES_PER_ELEMENT;this.Xf=new ArrayBuffer(h*l);k=[];for(a=0;a<h;a++)k[a]=new r.Wb(null,
null,null,this.Xf,a*l);this.Nc=k;if(!this.Nc){r.log("cc.ProgressTimer._updateRadial() : Not enough memory");return}}this.Dd();h=this.Nc;if(!g)for(h[0].C=this.af(c),h[0].t=this.cf(c),h[1].C=this.af(e),h[1].t=this.cf(e),a=0;a<d;a++)c=this.Lz(a),h[a+2].C=this.af(c),h[a+2].t=this.cf(c);h[this.Ed-1].C=this.af(f);h[this.Ed-1].t=this.cf(f)}},XQ:function(){if(this.qb){var a,c=this.Ri/100,d=this.mm,d=r.jj(r.a(1-d.x+c*d.x,1-d.y+c*d.y),0.5),c=r.Hd(this.Oh,d),d=r.fg(this.Oh,d);0>c.x&&(d.x+=-c.x,c.x=0);1<d.x&&
(c.x-=d.x-1,d.x=1);0>c.y&&(d.y+=-c.y,c.y=0);1<d.y&&(c.y-=d.y-1,d.y=1);if(this.Rd){if(!this.Nc){this.Ed=8;var e=r.Wb.BYTES_PER_ELEMENT;this.Xf=new ArrayBuffer(8*e);var f=[];for(a=0;8>a;a++)f[a]=new r.Wb(null,null,null,this.Xf,a*e);f[0].C=this.af(r.a(0,1));f[0].t=this.cf(r.a(0,1));f[1].C=this.af(r.a(0,0));f[1].t=this.cf(r.a(0,0));f[6].C=this.af(r.a(1,1));f[6].t=this.cf(r.a(1,1));f[7].C=this.af(r.a(1,0));f[7].t=this.cf(r.a(1,0));this.Nc=f}a=this.Nc;a[2].C=this.af(r.a(c.x,d.y));a[2].t=this.cf(r.a(c.x,
d.y));a[3].C=this.af(r.a(c.x,c.y));a[3].t=this.cf(r.a(c.x,c.y));a[4].C=this.af(r.a(d.x,d.y));a[4].t=this.cf(r.a(d.x,d.y));a[5].C=this.af(r.a(d.x,c.y));a[5].t=this.cf(r.a(d.x,c.y))}else{if(!this.Nc)for(this.Ed=4,e=r.Wb.BYTES_PER_ELEMENT,this.Xf=new ArrayBuffer(4*e),this.Nc=[],a=0;4>a;a++)this.Nc[a]=new r.Wb(null,null,null,this.Xf,a*e);a=this.Nc;a[0].C=this.af(r.a(c.x,d.y));a[0].t=this.cf(r.a(c.x,d.y));a[1].C=this.af(r.a(c.x,c.y));a[1].t=this.cf(r.a(c.x,c.y));a[2].C=this.af(r.a(d.x,d.y));a[2].t=this.cf(r.a(d.x,
d.y));a[3].C=this.af(r.a(d.x,c.y));a[3].t=this.cf(r.a(d.x,c.y))}this.Dd()}},Dd:function(){if(this.qb&&this.Nc){for(var a=this.qb.Mb.Sa.N,c=this.Nc,d=0,e=this.Ed;d<e;++d)c[d].N=a;this.ws=!0}},NB:null,dR:function(){var a=this.qb,c=a.c(),d=this.Oh;if(this.Af==r.Bk){this.Ui=Math.round(Math.sqrt(c.width*c.width+c.height*c.height));var e,f=!1,g=this.pd;g.x=c.width*d.x;g.y=-c.height*d.y;this.Rd?(e=270,d=270-3.6*this.Ri):(d=-90,e=-90+3.6*this.Ri);a.oc&&(g.x-=2*c.width*this.Oh.x,d=-d-180,e=-e-180,f=!f);a.pc&&
(g.y+=2*c.height*this.Oh.y,f=!f,d=-d,e=-e);this.EB=d;this.mA=e;this.Xz=f}else{e=this.mm;g=this.Ri/100;f=this.Iz;e=r.size(c.width*(1-e.x),c.height*(1-e.y));var g=r.size((c.width-e.width)*g,(c.height-e.height)*g),g=r.size(e.width+g.width,e.height+g.height),h=r.a(c.width*d.x,c.height*d.y),k=h.x-g.width/2;0.5<d.x&&g.width/2>=c.width-h.x&&(k=c.width-g.width);e=h.y-g.height/2;0.5<d.y&&g.height/2>=c.height-h.y&&(e=c.height-g.height);f.x=0;c=1;a.oc&&(f.x-=g.width,c=-1);0<k&&(f.x+=k*c);f.y=0;c=1;a.pc&&(f.y+=
g.height,c=-1);0<e&&(f.y-=e*c);f.width=g.width;f.height=-g.height}},eR:function(){var a=this.Af;a===r.Bk?this.hR():a===r.Wy&&this.XQ();this.ws=!0}});
r.Ga.Tc?(b=r.Hc.prototype,b.ctor=r.Hc.prototype.Mh,b.gL=r.Hc.prototype.zQ,b.ot=r.Hc.prototype.CQ,b.nj=r.Hc.prototype.GQ,b.fL=r.Hc.prototype.xQ,b.XC=r.Hc.prototype.gP,b.Va=r.Hc.prototype.vg,b.NB=r.Hc.prototype.eR):(b=r.Hc.prototype,b.ctor=r.Hc.prototype.Lh,b.gL=r.Hc.prototype.yQ,b.ot=r.Hc.prototype.BQ,b.nj=r.Hc.prototype.FQ,b.fL=r.Hc.prototype.wQ,b.XC=r.Hc.prototype.fP,b.Va=r.Hc.prototype.qm,b.NB=r.Hc.prototype.dR);r.Hc.create=function(a){var c=new r.Hc;return c.XC(a)?c:null};r.Yy=r.T.extend({zf:0,je:0,ctor:function(){r.T.prototype.ctor.call(this);this.je=this.zf=0},O:function(a,c){return r.T.prototype.O.call(this,a)?(this.zf=c,!0):!1},I:function(){var a=new r.Yy;a.O(this.za,this.zf);return a},reverse:function(){r.log("cc.ProgressTo.reverse(): reverse hasn't been supported.");return null},ba:function(a){r.T.prototype.ba.call(this,a);this.je=a.Zw();100==this.je&&(this.je=0)},update:function(a){this.U instanceof r.Hc&&this.U.mt(this.je+(this.zf-this.je)*a)}});
r.Yy.create=function(a,c){var d=new r.Yy;d.O(a,c);return d};r.pu=r.T.extend({zf:0,je:0,ctor:function(){r.T.prototype.ctor.call(this);this.je=this.zf=0},O:function(a,c,d){return r.T.prototype.O.call(this,a)?(this.zf=d,this.je=c,!0):!1},I:function(){var a=new r.pu;a.O(this.za,this.je,this.zf);return a},reverse:function(){return r.pu.create(this.za,this.zf,this.je)},ba:function(a){r.T.prototype.ba.call(this,a)},update:function(a){this.U instanceof r.Hc&&this.U.mt(this.je+(this.zf-this.je)*a)}});
r.pu.create=function(a,c,d){var e=new r.pu;e.O(a,c,d);return e};r.yy=9;r.hM=1;r.kM=2;r.lM=4;r.iM=8;r.jM=16;r.LE=32;r.mM=64;r.gM=128;r.ui=256;r.ng=1;r.NE=2;r.ME=4;r.wZ=8;r.vZ=8;
r.Vb=r.Hh.extend({CG:!1,r1:!1,wl:function(){return this.CG},Kf:function(a){this.CG=a;for(var c=this.u,d=0,e=c.length;d<e;d++){var f=c[d];f&&f.mb&&f.Kf(a)}},Wi:r.ng,X6:function(){return this.Wi},or:!1,dp:!1,Oj:!1,lv:null,Jf:function(a){this.Wi=(this.or=a)?r.ng:r.ME;this.gd()},isEnabled:function(){return this.or},mq:function(a){this.dp=a;this.gd()},L8:function(){return this.dp},Ll:function(a){this.Oj=a;this.gd()},u8:function(){return this.Oj},bU:function(){for(var a=this.getParent();null!=a;a=a.getParent())if(!a.la)return!1;
return!0},ctor:function(){r.Hh.prototype.ctor.call(this);this.lv={};this.nc=r.Ab()},r:function(){return r.Hh.prototype.r.call(this)?(this.Wi=r.ng,this.or=!0,this.Oj=this.dp=!1,this.oq(1),!0):!1},Bx:function(){r.BD(this.jl,!0,this)},kf:function(a){for(var c=0,d=r.yy;c<d;c++)if(a&1<<c)for(var e=this.iA(1<<c),f=0,g=e.length;f<g;f++)e[f].BU(this)},RH:function(a,c,d){for(var e=0,f=r.yy;e<f;e++)d&1<<e&&this.XF(a,c,1<<e)},qaa:function(a,c,d){for(var e=0,f=r.yy;e<f;e++)d&1<<e&&this.YP(a,c,1<<e)},bj:function(a){return this.Ia(a.L)},
ki:function(a){a=a.L;a=this.getParent().Ia(a);return r.cb(this.Ya(),a)},t1:function(){return null},iA:function(a){a=a.toString();this.lv.hasOwnProperty(a)||(this.lv[a]=[]);return this.lv[a]},XF:function(a,c,d){a=new r.LM(a,c,d);this.iA(d).push(a)},YP:function(a,c,d){d=this.iA(d);if(a||c)for(var e=0;e<d.length;){var f=d[e],g=!0;a&&(g=a==f.U);c&&(g=g&&c==f.Of);g?r.Zd(d,f):e++}else d.length=0},gd:function(){}});r.Vb.create=function(){var a=new r.Vb;return a&&a.r()?a:null};r.RE=3435855873;
r.bm=r.Vb.extend({jr:!1,xs:!1,xg:null,Fr:null,br:null,iv:null,Qm:null,de:null,Qi:0,So:!1,rw:null,ls:null,sw:null,lm:null,QG:!1,Jv:0,Iv:0,ctor:function(){r.Vb.prototype.ctor.call(this);this.xg=new r.Ek(0,0);this.Fr=new r.Yg(0,0);this.br="";this.iv=r.Ab();this.rw={};this.ls={};this.sw={};this.lm={}},r:function(){return this.fx(r.P.create("","Arial",12),r.qf.create())},gd:function(){if(this.QG){this.Qm&&this.Qm.B(!1);this.de&&this.de.B(!1);this.sX(this.Fr);var a=this.Wi;this.br=this.JC(a);this.iv=this.LT(a);
var c=this.Qm=this.Ls(a);c&&c.ha&&c.ha(this.br);c&&c.mb&&c.n(this.iv);var d=this.c();c&&c.m(d.width/2,d.height/2);(a=this.de=this.ZS(a))&&a.m(d.width/2,d.height/2);d=c?c.Ya().eb:r.size(0,0);if(this.jr)a&&a.S(d.width+2*this.Iv,d.height+2*this.Jv);else if(a){var e=a.xg,e=r.size(e.width,e.height);0>=e.width&&(e.width=d.width);0>=e.height&&(e.height=d.height);a.S(e)}d=c?c.Ya():r.rect(0,0,0,0);e=a?a.Ya():r.rect(0,0,0,0);d=r.Ax(d,e);this.S(d.width,d.height);d=this.c();c&&(c.m(d.width/2,d.height/2),c.B(!0));
a&&(a.m(d.width/2,d.height/2),a.B(!0))}},fx:function(a,c){if(!a||!a.mb)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): label should be non-null";if(!c)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): backgroundSprite should be non-null";return r.Vb.prototype.r.call(this,!0)?(this.QG=!0,this.rw={},this.ls={},this.sw={},this.lm={},this.Yb(!0),this.So=!1,this.xs=!0,this.br=null,this.RW(!0),this.tk(r.size(0,0)),this.xs=!0,this.cj(!1),this.G(0.5,0.5),this.Qm=a,this.de=c,this.ra(255),
this.Kf(!0),this.ZX(a.HC(),r.ng),this.YX(a.Gd(),r.ng),this.bE(a,r.ng),this.Lx(c,r.ng),this.Wi=r.ng,this.Iv=24,this.Jv=12,this.Fr=new r.Yg(0.5,0.5),this.tk(r.fm()),this.gd(),!0):!1},tU:function(a,c,d){a=r.P.create(a,c,d);return this.fx(a,r.qf.create())},hJ:function(a){var c=r.P.create("","Arial",30);return this.fx(c,a)},r3:function(){return this.jr},RW:function(a){this.jr=a;this.gd()},F7:function(){return this.xs},cY:function(a){return this.xs=a},uT:function(){return this.xg},tk:function(a){if(0===
a.width&&0===a.height)this.jr=!0;else{this.jr=!1;var c=this.lm,d;for(d in c)c[d].tk(a)}this.xg=a;this.gd()},w5:function(){return this.Fr},sX:function(a){this.Fr=a;this.Qm&&this.Qm.G(a)},k1:function(){return this.br},l1:function(){return this.iv},$i:function(){return this.Qi},ra:function(a){r.Vb.prototype.ra.call(this,a);var c=this.lm,d;for(d in c)c[d].ra(a)},n:function(a){r.Vb.prototype.n.call(this,a);var c=this.lm,d;for(d in c)c[d].n(a)},Gd:function(){return this.le},H8:function(){return this.So},
p1:function(){return this.Jv},n1:function(){return this.Iv},yba:function(a,c){this.Jv=c;this.Iv=a;this.gd()},Jf:function(a){r.Vb.prototype.Jf.call(this,a);this.gd()},mq:function(a){r.Vb.prototype.mq.call(this,a);this.gd()},Ll:function(a){this.Wi=a?r.NE:r.ng;r.Vb.prototype.Ll.call(this,a);(a=this.AC(r.RE))&&this.wY(a);this.gd();this.xs&&(a=r.io.create(0.05,this.Oj&&this.isEnabled()&&!this.dp?1.1:1),a.lL(r.RE),this.Fx(a))},lb:function(a){if(!(this.ki(a)&&this.isEnabled()&&this.la&&this.bU()))return!1;
this.So=!0;this.Ll(!0);this.kf(r.hM);return!0},xd:function(a){this.or&&this.So&&!this.dp?(a=this.ki(a))&&!this.Oj?(this.Ll(!0),this.kf(r.iM)):a&&this.Oj?this.kf(r.kM):!a&&this.Oj?(this.Ll(!1),this.kf(r.jM)):a||this.Oj||this.kf(r.lM):this.Oj&&this.Ll(!1)},Hf:function(a){this.So=!1;this.Ll(!1);this.ki(a)?this.kf(r.LE):this.kf(r.mM)},ok:function(){this.So=!1;this.Ll(!1);this.kf(r.gM)},JC:function(a){var c=this.rw;return c?c[a]?c[a]:c[r.ng]:""},ZX:function(a,c){this.rw[c]=a||"";this.Wi==c&&this.gd()},
LT:function(a){return(a=this.ls[a])?a:(a=this.ls[r.ng])?a:r.Ab()},YX:function(a,c){this.ls[c]=a;this.Wi==c&&this.gd()},Ls:function(a){var c=this.sw;return c.hasOwnProperty(a)&&c[a]?c[a]:c[r.ng]},bE:function(a,c){var d=this.sw;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.B(!1);a.G(0.5,0.5);this.f(a,1);this.Wi==c&&this.gd()},Aca:function(a,c){var d=this.JC(c);d||(d="");this.bE(r.P.create(d,a,12),c)},h7:function(a){a=this.Ls(a);return null!=a&&a instanceof r.P?a.tf:""},Bca:function(a,
c){var d=this.Ls(c);null!=d&&d instanceof r.P&&d.UK(a)},i7:function(a){a=this.Ls(a);return null!=a&&a instanceof r.P?a.Se:0},zca:function(a,c){var d=this.JC(c);d||(d="");this.bE(r.Qy.create(d,a),c)},g7:function(a){a=this.Ls(a);return null!=a&&a instanceof r.Qy?a.d5():""},ZS:function(a){var c=this.lm;return c.hasOwnProperty(a)&&c[a]?c[a]:c[r.ng]},Lx:function(a,c){var d=this.lm;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.B(!1);a.G(0.5,0.5);this.f(a);d=this.xg;0===d.width&&
0===d.height||a.tk(d);this.Wi===c&&this.gd()},Naa:function(a,c){var d=r.qf.cI(a);this.Lx(d,c)}});r.bm.create=function(a,c){var d;if(0==arguments.length)return(d=new r.bm)&&d.r()?d:null;1==arguments.length?(d=new r.bm,d.hJ(arguments[0])):2==arguments.length?(d=new r.bm,d.fx(a,c)):3==arguments.length&&(d=new r.bm,d.tU(arguments[0],arguments[1],arguments[2]));return d};r.RGBA=function(a,c,d,e){this.p=a;this.o=c;this.i=d;this.J=e};r.My=function(a,c,d){this.De=a;this.pi=c;this.oa=d};r.be={};r.be.an=function(a,c,d,e){a=r.A.dI(a);if(!a)return null;a.m(d);a.G(e);c.f(a);return a};r.be.HM=function(a){var c=new r.My,d,e;d=a.p<a.o?a.p:a.o;d=d<a.i?d:a.i;e=a.p>a.o?a.p:a.o;e=e>a.i?e:a.i;c.oa=e;d=e-d;if(0<e)c.pi=d/e;else return c.pi=0,c.De=-1,c;c.De=a.p>=e?(a.o-a.i)/d:a.o>=e?2+(a.i-a.p)/d:4+(a.p-a.o)/d;c.De*=60;0>c.De&&(c.De+=360);return c};
r.be.az=function(a){var c,d,e,f,g=new r.RGBA;g.J=1;if(0>=a.pi){if(!a.De)return g.p=a.oa,g.o=a.oa,g.i=a.oa,g;g.p=0;g.o=0;g.i=0;return g}c=a.De;360<=c&&(c=0);c/=60;f=0|c;e=c-f;c=a.oa*(1-a.pi);d=a.oa*(1-a.pi*e);e=a.oa*(1-a.pi*(1-e));switch(f){case 0:g.p=a.oa;g.o=e;g.i=c;break;case 1:g.p=d;g.o=a.oa;g.i=c;break;case 2:g.p=c;g.o=a.oa;g.i=e;break;case 3:g.p=c;g.o=d;g.i=a.oa;break;case 4:g.p=e;g.o=c;g.i=a.oa;break;default:g.p=a.oa,g.o=c,g.i=d}return g};r.be.IE=function(a,c){return r.Ax(a,c)};r.LM=r.Ea.extend({Of:null,U:null,hv:null,ctor:function(a,c,d){this.U=a;this.Of=c;this.hv=d},g4:function(){return this.Of},KT:function(){return this.U},K4:function(){return this.hv},BU:function(a){if(this.U&&this.Of)if("string"==typeof this.Of)this.U[this.Of](a,this.hv);else this.Of.call(this.U,a,this.hv)}});r.nF=0;r.qF=1;r.oF=2;r.pF=3;r.lF=4;r.sF=5;r.rF=6;r.nN=7;r.mF=8;
r.qf=r.Bb.extend({mb:!0,fp:null,fG:null,al:!1,yf:null,Xh:null,Wh:null,ph:null,Ni:null,Dj:null,Sh:null,Ci:null,Bi:null,Di:null,Fj:null,qc:!1,qd:null,xg:null,Qi:0,nc:null,yo:null,wv:0,yv:0,xv:0,vv:0,jH:!1,zB:!1,rb:!1,Pd:null,LL:function(){return this.rb},Yf:function(a,c){this.Pd.push({ik:a,di:c})},ee:function(){this.rb=!0;for(var a=this.Pd,c=0,d=a.length;c<d;c++){var e=a[c];e.ik.call(e.di,this)}a.length=0},xw:function(){var a;a=this.wv;var c=this.yv,d=this.xv,e=this.fp,f=this.vv;a=0===a&&0===c&&0===
d&&0===f?r.md():this.zB?r.rect(f,a,e.width-d-a,e.height-c-f):r.rect(a,c,e.width-a-d,e.height-c-f);this.XW(a)},cR:function(){if(this.Xh&&this.ph&&this.Di&&this.Ci&&this.Dj){var a=this.xa,c=this.Xh,d=this.ph,e=this.Di,f=this.Ci,g=this.Dj,h=this.Dj.c(),k=c.c(),l=f.c(),m=a.Ha-k.width-d.c().width,a=a.wa-k.height-e.c().height,m=m/h.width,a=a/h.height,k=h.width*m,n=h.height*a,p=l.width,l=l.height;if(!r.Ga.Tc){var q=Math.round(k);k!=q&&(k=q,m=k/h.width);q=Math.round(n);n!=q&&(n=q,a=n/h.height)}g.lq(m);g.Jn(a);
var h=this.Ni,q=this.Sh,u=this.Wh,w=this.Bi,y=r.a(0,0);f.G(y);e.G(y);c.G(y);d.G(y);h.G(y);q.G(y);u.G(y);w.G(y);g.G(y);f.m(0,0);e.m(p+k,0);c.m(0,l+n);d.m(p+k,l+n);h.m(0,l);h.Jn(a);q.m(p+k,l);q.Jn(a);w.m(p,0);w.lq(m);u.m(p,l+n);u.lq(m);g.m(p,l)}},ctor:function(){r.Bb.prototype.ctor.call(this);this.fp=r.md();this.fG=r.md();this.Fj=r.Ab();this.qd=new r.Ek(0,0);this.xg=new r.Ek(0,0);this.nc=r.Ab();this.Qi=255;this.yo=r.md();this.Pd=[]},sT:function(){return this.qd},uT:function(){return this.xg},tk:function(a){this.S(a);
this.xg=a},$i:function(){return this.Qi},ra:function(a){if(this.yf){this.Qi=a;for(var c=this.yf.u,d=0;d<c.length;d++){var e=c[d];e&&e.mb&&e.ra(a)}}},Gd:function(){return this.nc},n:function(a){if(this.yf){this.nc=a;for(var c=this.yf.u,d=0;d<c.length;d++){var e=c[d];e&&e.mb&&e.n(a)}}},x4:function(){return this.yo},XW:function(a){if(this.yf){var c=this.xa,d=c.Ha,c=c.wa;this.tq(this.yf,this.fp,this.zB,a);this.S(d,c)}},s5:function(){return this.wv},rba:function(a){this.wv=a;this.xw()},u5:function(){return this.yv},
tba:function(a){this.yv=a;this.xw()},t5:function(){return this.xv},sba:function(a){this.xv=a;this.xw()},r5:function(){return this.vv},qba:function(a){this.vv=a;this.xw()},S:function(a,c){2===arguments.length?r.D.prototype.S.call(this,a,c):r.D.prototype.S.call(this,a);this.al=!0},sa:function(a){this.al&&(this.cR(),this.al=!1);r.Bb.prototype.sa.call(this,a)},r:function(){return this.dx(null,r.md(),!1,r.md())},dx:function(a,c,d,e){3===arguments.length&&(e=d,d=!1);a&&this.tq(a,c,d,e);this.G(0.5,0.5);
return this.al=!0},dj:function(a,c,d){a instanceof r.pg?(d=a=c,c=r.md()):(c=c||r.md(),d=d||r.md());if(!a)throw"cc.Scale9Sprite.initWithFile(): file should be non-null";var e=r.ea.e().hy(a);if(!e){var e=r.ea.e().pa(a),f=e.Mg();(this.rb=f)||e.Yf(function(a){var c=this.xg,c=r.size(c.width,c.height);a=a.c();this.tq(this.yf,r.rect(0,0,a.width,a.height),!1,this.yo);this.tk(c);this.al=!0;this.ee()},this)}a=r.vb.create(a,9);return this.dx(a,c,!1,d)},Fe:function(a,c){if(!a||!a.da())throw"cc.Scale9Sprite.initWithSpriteFrame(): spriteFrame should be non-null and its texture should be non-null";
c=c||r.md();var d=a.rb;(this.rb=d)||a.Yf(function(a){var c=this.xg,c=r.size(c.width,c.height);this.tq(this.yf,a.ye(),r.Ga.Tc?a.rd:!1,this.yo);this.tk(c);this.al=!0;this.ee()},this);d=r.vb.bb(a.da(),9);return this.dx(d,a.ye(),r.Ga.Tc?a.rd:!1,c)},mJ:function(a,c){if(!a)throw"cc.Scale9Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";c=c||r.md();var d=r.qg.e().xh(a);return null==d?(r.log("cc.Scale9Sprite.initWithSpriteFrameName(): can't find the sprite frame by spriteFrameName"),
!1):this.Fe(d,c)},taa:function(a){var c=new r.qf;return c&&c.dx(this.yf,this.fp,!1,a)?c:null},Kf:function(a){if(this.yf){this.qc=a;var c=this.yf.u;if(c)for(var d=0,e=c.length;d<e;d++)c[d].Kf(a)}},wl:function(){return this.qc},tq:function(a,c,d,e){var f=this.$i(),g=this.Gd();c=r.rect(c.x,c.y,c.width,c.height);this.ac(!0);this.yf!=a&&(this.yf=a);a=a.da();var h=a.Mg();if(this.rb=h){a=this.yf;a.ac(!0);h=this.yo;h.x=e.x;h.y=e.y;h.width=e.width;h.height=e.height;this.zB=d;h=a.da();r.Sr(c)&&(c=h.c(),c=r.rect(0,
0,c.width,c.height));var k=this.fp=c;k.x=c.x;k.y=c.y;k.width=c.width;k.height=c.height;var l=c.eb;this.qd.width=l.width;this.qd.height=l.height;k=this.xg;0===k.width&&0===k.height&&(k.width=l.width,k.height=l.height);k=this.fG;e&&(k.x=e.x,k.y=e.y,k.width=e.width,k.height=e.height);var m=l.width;e=l.height;r.Sr(k)&&(k.x=m/3,k.y=e/3,k.width=m/3,k.height=e/3);var n=k.x,p=k.width,q=m-(n+p),u=k.y,w=k.height,y=e-(u+w),D=0,B=0;e=r.rect(D,B,n,u);var D=D+n,k=r.rect(D,B,p,u),m=r.rect(D+p,B,q,u),D=0,B=0+u,l=
r.rect(D,B,n,w),D=D+n,aa=r.rect(D,B,p,w),D=D+p,N=r.rect(D,B,q,w),D=0,B=0+u+w,u=r.rect(D,B,n,y),D=D+n,n=r.rect(D,B,p,y),D=D+p,p=r.rect(D,B,q,y),q={J:1,i:0,Da:0,La:1,Za:0,$a:0};if(d){d=aa;var y=p,D=u,B=m,w=e,S=N,O=l,pa=n,ba=k,q=r.sy(q,c.height+c.x,c.y),q=r.fM(q),aa=r.Zg(aa,q),p=r.Zg(p,q),u=r.Zg(u,q),m=r.Zg(m,q);e=r.Zg(e,q);N=r.Zg(N,q);l=r.Zg(l,q);n=r.Zg(n,q);k=r.Zg(k,q);d.x=aa.x;d.y=aa.y;y.x=p.x;y.y=p.y;D.x=u.x;D.y=u.y;B.x=m.x;B.y=m.y;w.x=e.x;w.y=e.y;S.x=N.x;S.y=N.y;O.x=l.x;O.y=l.y;pa.x=n.x;pa.y=n.y;
ba.x=k.x;ba.y=k.y;this.Dj=new r.A;this.Dj.Ma(h,d,!0);a.f(this.Dj,0,r.nF);this.Wh=new r.A;this.Wh.Ma(h,ba,!0);a.f(this.Wh,1,r.qF);this.Bi=new r.A;this.Bi.Ma(h,pa,!0);a.f(this.Bi,1,r.lF);this.Ni=new r.A;this.Ni.Ma(h,O,!0);a.f(this.Ni,1,r.oF);this.Sh=new r.A;this.Sh.Ma(h,S,!0);a.f(this.Sh,1,r.pF);this.Xh=new r.A;this.Xh.Ma(h,w,!0);a.f(this.Xh,2,r.rF);this.ph=new r.A;this.ph.Ma(h,B,!0);a.f(this.ph,2,r.sF);this.Ci=new r.A;this.Ci.Ma(h,D,!0);a.f(this.Ci,2,r.mF);this.Di=new r.A;this.Di.Ma(h,y,!0)}else q=
r.sy(q,c.x,c.y),r.xi(aa,q),r.xi(p,q),r.xi(u,q),r.xi(m,q),r.xi(e,q),r.xi(N,q),r.xi(l,q),r.xi(n,q),r.xi(k,q),this.Dj=new r.A,this.Dj.Ma(h,aa),a.f(this.Dj,0,r.nF),this.Wh=new r.A,this.Wh.Ma(h,k),a.f(this.Wh,1,r.qF),this.Bi=new r.A,this.Bi.Ma(h,n),a.f(this.Bi,1,r.lF),this.Ni=new r.A,this.Ni.Ma(h,l),a.f(this.Ni,1,r.oF),this.Sh=new r.A,this.Sh.Ma(h,N),a.f(this.Sh,1,r.pF),this.Xh=new r.A,this.Xh.Ma(h,e),a.f(this.Xh,2,r.rF),this.ph=new r.A,this.ph.Ma(h,m),a.f(this.ph,2,r.sF),this.Ci=new r.A,this.Ci.Ma(h,
u),a.f(this.Ci,2,r.mF),this.Di=new r.A,this.Di.Ma(h,p);a.f(this.Di,2,r.nN);this.S(c.eb);this.f(a);this.jH&&(this.ra(f),255===g.p&&255===g.o&&255===g.i||this.n(g));return this.jH=!0}a.Yf(function(){this.al=!0;this.ee()},this)},Lf:function(a){var c=r.vb.bb(a.da(),9),d=a.rb;(this.rb=d)||a.Yf(function(a){var c=this.xg,c=r.size(c.width,c.height);this.tq(this.yf,a.ye(),r.Ga.Tc?a.rd:!1,this.yo);this.tk(c);this.al=!0;this.ee()},this);this.tq(c,a.ye(),r.Ga.Tc?a.rd:!1,r.md());this.vv=this.xv=this.yv=this.wv=
0}});r.qf.create=function(a,c,d){var e;if(2===arguments.length)if("string"==typeof a){if((e=new r.qf)&&e.dj(a,c))return e}else{if(a instanceof r.pg&&(e=new r.qf)&&e.dj(a,d))return e}else if(3===arguments.length){if((e=new r.qf)&&e.dj(a,c,d))return e}else if(1===arguments.length){if((e=new r.qf)&&e.dj(a))return e}else if(0===arguments.length&&(e=new r.qf)&&e.r())return e;return null};r.qf.cI=function(a,c){var d=new r.qf;return d&&d.Fe(a,c)?d:null};
r.qf.dI=function(a,c){if(!a)throw"cc.Scale9Sprite.createWithSpriteFrameName(): spriteFrameName should be non-null";var d=new r.qf;return d&&d.mJ(a,c)?d:null};r.Au=r.Vc.extend({});r.Au.cea=function(a){var c=new r.Au;c.r();c.S(0,a);return c};r.Au.N7=function(a){var c=new r.Au;c.r();c.S(a,0);return c};
r.mu=r.Vc.extend({mb:!0,nc:null,Qi:0,ctor:function(){},Gd:function(){return this.nc},n:function(a){this.nc=a;if(this.u&&0<this.u.length)for(var c=0;c<this.u.length;c++)this.u[c]&&this.u[c].mb&&this.u[c].n(a)},$i:function(){return this.Qi},ra:function(a){this.Qi=a;if(this.u&&0<this.u.length)for(var c=0;c<this.u.length;c++)this.u[c]&&this.u[c].mb&&this.u[c].ra(a)},mU:function(a,c){if(this.r()){var d=r.$.e().Sb;this.cj(!0);this.G(0.5,0.5);this.S(d);this.m(d.width/2,d.height/2);d=0;if(a){this.f(a,d);
for(var e=0;e<c.length;e++)c[e]&&(d++,this.f(c[e],d))}return!0}return!1},i2:function(){this.wR(r.qM)},wR:function(a){var c=-a,d;if(this.u&&0<this.u.length)for(d=0;d<this.u.length;d++)this.u[d]&&(c+=this.u[d].c().height*this.u[d].Ca+a);var e=0,f=c/2;if(this.u&&0<this.u.length)for(d=0;d<this.u.length;d++)this.u[d]&&(e=Math.max(e,this.u[d].c().width),this.u[d].m(0,f-this.u[d].c().height*this.u[d].Ca/2),f-=this.u[d].c().height*this.u[d].Ca+a);this.S(e,c)},f2:function(){this.vR(r.qM)},vR:function(a){var c=
-a,d;if(this.u&&0<this.u.length)for(d=0;d<this.u.length;d++)this.u[d]&&(c+=this.u[d].c().width*this.u[d].ya+a);var e=0,f=-c/2;if(this.u&&0<this.u.length)for(d=0;d<this.u.length;d++)this.u[d]&&(e=Math.max(e,this.u[d].c().height),this.u[d].m(f+this.u[d].c().width*this.u[d].ya/2,0),f+=this.u[d].c().width*this.u[d].ya+a);this.S(c,e)},g2:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=-5,f=0,g=0,h=0,k,l;if(this.u&&0<this.u.length)for(d=0;d<this.u.length;d++)this.u[d]&&
(f>=c.length?r.log("cc.MenuPassive.alignItemsInColumns(): invalid row index"):(k=c[f])?(l=this.u[d].c().height,g=0|(g>=l||null==l?g:l),++h,h>=k&&(e+=g+5,g=h=0,++f)):r.log("cc.MenuPassive.alignItemsInColumns(): can not have zero columns on a row"));var m=r.$.e().Sb,n=k=g=f=0,p=0,e=e/2;if(this.u&&0<this.u.length)for(d=0;d<this.u.length;d++)this.u[d]&&(0==k&&(k=c[f],p=n=m.width/(1+k)),l=this.u[d].c().height,g=0|(g>=l||null==l?g:l),this.u[d].m(p-m.width/2,e-this.u[d].c().height/2),p+=n,++h,h>=k&&(e-=
g+5,g=k=h=0,++f))},h2:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=[],f=[],g=-10,h=-5,k=0,l=0,m=0,n,p;if(this.u&&0<this.u.length)for(d=0;d<this.u.length;d++)this.u[d]&&(k>=c.length?r.log("cc.MenuPassive.alignItemsInRows(): invalid row index"):(n=c[k])?(p=this.u[d].c().width,l=0|(l>=p||null==p?l:p),h+=0|this.u[d].c().height+5,++m,m>=n&&(e.push(l),f.push(h),g+=l+10,l=m=0,h=-5,++k)):r.log("cc.MenuPassive.alignItemsInColumns(): can't have zero rows on a column"));h=
r.$.e().Sb;l=k=0;n=null;var g=-g/2,q=0;if(this.u&&0<this.u.length)for(d=0;d<this.u.length;d++)this.u[d]&&(null==n&&(n=c[k],q=f[k]),p=this.u[d].c().width,l=0|(l>=p||null==p?l:p),this.u[d].m(g+e[k]/2,q-h.height/2),q-=this.u[d].c().height+10,++m,m>=n&&(g+=l+5,l=n=m=0,++k))},Kf:function(){},wl:function(){return!1}});r.mu.create=function(a){0==arguments.length&&(a=null);for(var c=[],d=1;d<arguments.length;d++)c.push(arguments[d]);return(d=new r.mu)&&d.mU(a,c)?d:null};
r.mu.f3=function(a){return r.mu.create(a,null)};r.Ey=r.Vb.extend({mB:0,Yu:0,Jc:null,GP:null,hH:null,oh:null,wc:null,tg:0,Cj:0,H6:function(){return this.mB},t4:function(){return this.Yu},FI:function(){return this.Jc},h6:function(){return this.Yu},N6:function(){return this.hH},FT:function(){return this.oh},HT:function(){return this.wc},ZC:function(a,c){return r.Vb.prototype.r.call(this)?(this.Yb(!0),this.Jc=r.be.an("colourPickerBackground.png",a,c,r.a(0,0)),this.GP=r.be.an("colourPickerOverlay.png",a,c,r.a(0,0)),this.hH=r.be.an("colourPickerShadow.png",
a,c,r.a(0,0)),this.oh=r.be.an("colourPicker.png",a,c,r.a(0.5,0.5)),this.wc=c,this.tg=35,this.Cj=this.Jc.c().width/2,!0):!1},Jf:function(a){r.Vb.prototype.Jf.call(this,a);this.oh&&this.oh.ra(a?255:128)},YL:function(a){var c=new r.My;c.pi=1;c.De=a.De;c.oa=1;a=r.be.az(c);this.Jc.n(r.Gw(0|255*a.p,0|255*a.o,0|255*a.i))},KY:function(a){a=r.a(this.wc.x+this.tg+this.Cj*(1-a.pi),this.wc.y+this.tg+this.Cj*a.oa);this.Aw(a)},Aw:function(a){var c=this.wc.x+0.5*this.Jc.Ya().width,d=this.wc.y+0.5*this.Jc.Ya().height,
e=a.x-c,f=a.y-d,g=Math.sqrt(e*e+f*f),e=Math.atan2(f,e),f=0.5*this.Jc.Ya().width;g>f&&(a.x=c+f*Math.cos(e),a.y=d+f*Math.sin(e));this.oh.m(a);a.x<this.wc.x+this.tg?a.x=this.wc.x+this.tg:a.x>this.wc.x+this.tg+this.Cj-1&&(a.x=this.wc.x+this.tg+this.Cj-1);a.y<this.wc.y+this.tg?a.y=this.wc.y+this.tg:a.y>this.wc.y+this.tg+this.Cj&&(a.y=this.wc.y+this.tg+this.Cj);this.mB=1-Math.abs((this.wc.x+this.tg-a.x)/this.Cj);this.Yu=Math.abs((this.wc.y+this.tg-a.y)/this.Cj)},Yq:function(a){var c=this.wc.x+0.5*this.Jc.Ya().width,
d=this.wc.y+0.5*this.Jc.Ya().height,c=a.x-c,d=a.y-d;return Math.sqrt(c*c+d*d)<=0.5*this.Jc.Ya().width?(this.Aw(a),this.kf(r.ui),!0):!1},lb:function(a){if(!this.isEnabled()||!this.la)return!1;a=this.bj(a);return this.Yq(a)},xd:function(a){a=this.bj(a);this.Yq(a)}});r.Ey.create=function(a,c){var d=new r.Ey;d.ZC(a,c);return d};r.Dy=r.Vb.extend({Oo:0,zr:0,Jc:null,oh:null,wc:null,m5:function(){return this.Oo},WD:function(a){this.Oo=a;this.oX(this.Oo/360)},n5:function(){return this.zr},oX:function(a){this.zr=a;this.Oo=360*this.zr;a=this.Jc.Ya();var c=0.5*a.width-15,d=r.uj(360*this.zr-180);this.oh.m(this.wc.x+0.5*a.width+c*Math.cos(d),this.wc.y+0.5*a.height+c*Math.sin(d))},Jf:function(a){r.Vb.prototype.Jf.call(this,a);this.oh&&this.oh.ra(a?255:128)},FI:function(){return this.Jc},FT:function(){return this.oh},HT:function(){return this.wc},
ZC:function(a,c){return r.Vb.prototype.r.call(this)?(this.Yb(!0),this.Jc=r.be.an("huePickerBackground.png",a,c,r.a(0,0)),this.oh=r.be.an("colourPicker.png",a,c,r.a(0.5,0.5)),this.oh.m(c.x,c.y+0.5*this.Jc.Ya().height),this.wc=c,this.zr=this.Oo=0,!0):!1},Aw:function(a){var c=this.Jc.Ya();this.WD(r.Zy(Math.atan2(a.y-(this.wc.y+0.5*c.height),a.x-(this.wc.x+0.5*c.width)))+180);this.kf(r.ui)},Yq:function(a){var c=Math.sqrt(Math.pow(a.x+10,2)+Math.pow(a.y,2));return 80>c&&59<c?(this.Aw(a),!0):!1},lb:function(a){if(!this.isEnabled()||
!this.la)return!1;a=this.bj(a);return this.Yq(a)},xd:function(a){a=this.bj(a);this.Yq(a)}});r.Dy.create=function(a,c){var d=new r.Dy;d.ZC(a,c);return d};r.SE=r.Vb.extend({eh:null,Mk:null,vm:null,Jc:null,jU:function(a){this.eh.De=a.Oo;a=r.be.az(this.eh);r.Vb.prototype.n.call(this,r.Gw(0|255*a.p,0|255*a.o,0|255*a.i));this.kf(r.ui);this.$Q()},YR:function(a){this.eh.pi=a.mB;this.eh.oa=a.Yu;a=r.be.az(this.eh);r.Vb.prototype.n.call(this,r.Gw(0|255*a.p,0|255*a.o,0|255*a.i));this.kf(r.ui)},n:function(a){r.Vb.prototype.n.call(this,a);var c=new r.RGBA;c.p=a.p/255;c.o=a.o/255;c.i=a.i/255;c.J=1;this.eh=r.be.HM(c);this.yH()},FI:function(){return this.Jc},r:function(){if(r.Vb.prototype.r.call(this)){this.Yb(!0);
r.qg.e().QH(ca.GE);var a=r.vb.create(ca.HE);this.f(a);this.eh=new r.My(0,0,0);this.Jc=r.be.an("menuColourPanelBackground.png",a,r.wj(),r.a(0.5,0.5));var c=r.Hd(this.Jc.q,r.a(this.Jc.c().width/2,this.Jc.c().height/2));this.vm=r.Dy.create(a,r.a(c.x+8,c.y+8));this.Mk=r.Ey.create(a,r.a(c.x+28,c.y+28));this.vm.RH(this,this.jU,r.ui);this.Mk.RH(this,this.YR,r.ui);this.yH();this.f(this.vm);this.f(this.Mk);this.S(this.Jc.c());return!0}return!1},$Q:function(){this.vm.WD(this.eh.De);this.Mk.YL(this.eh)},yH:function(){this.vm.WD(this.eh.De);
this.Mk.YL(this.eh);this.Mk.KY(this.eh)},Jf:function(a){r.Vb.prototype.Jf.call(this,a);null!=this.vm&&this.vm.Jf(a);this.Mk&&this.Mk.Jf(a)},lb:function(){return!1}});r.SE.create=function(){var a=new r.SE;a.r();return a};ca=ca||{};ca.GE=ca.GE||"res/extensions/CCControlColourPickerSpriteSheet.plist";ca.HE=ca.HE||"res/extensions/CCControlColourPickerSpriteSheet.png";r.zF=24;r.p0=8;
r.UE=r.Vb.extend({Yc:0,jb:0,Gb:0,Ov:0,Mv:0,Hb:null,bl:null,de:null,WI:function(){return this.Yc},lf:function(a){a=Math.max(a,this.jb);this.Yc=a=Math.min(a,this.Gb);this.gd();this.kf(r.ui)},nT:function(){return this.jb},bL:function(a){this.Ov=this.jb=a;this.jb>=this.Gb&&(this.Gb=this.jb+1);this.lf(this.Yc)},mT:function(){return this.Gb},$K:function(a){this.Mv=this.Gb=a;this.Gb<=this.jb&&(this.jb=this.Gb-1);this.lf(this.Yc)},ki:function(a){a=a.L;a=this.getParent().Ia(a);var c=this.Ya();c.eb.width+=
this.Hb.c().width;c.pd.x-=this.Hb.c().width/2;return r.cb(c,a)},mn:function(a){a=a.L;a=this.Ia(a);0>a.x?a.x=0:a.x>this.de.c().width&&(a.x=this.de.c().width);return a},K5:function(){return this.Ov},Dba:function(a){this.Ov=a},H5:function(){return this.Mv},Cba:function(a){this.Mv=a},TI:function(){return this.Hb},r6:function(){return this.bl},n4:function(){return this.de},rU:function(a,c,d){return r.Vb.prototype.r.call(this)?(this.cj(!1),this.Yb(!0),this.de=a,this.bl=c,this.Hb=d,a=r.be.IE(a.Ya(),d.Ya()),
this.S(a.width,a.height),this.de.G(0.5,0.5),this.de.m(a.width/2,a.height/2),this.f(this.de),this.bl.G(0,0.5),this.bl.m(0,a.height/2),this.f(this.bl),this.Hb.m(0,a.height/2),this.f(this.Hb),this.jb=0,this.Gb=1,this.lf(this.jb),!0):!1},Jf:function(a){r.Vb.prototype.Jf.call(this,a);this.Hb&&this.Hb.ra(a?255:128)},rY:function(a){this.mq(!0);this.Hb.n(r.Pp());this.lf(this.yE(a))},tY:function(a){this.lf(this.yE(a))},sY:function(){this.dp&&this.lf(this.yE(this.Hb.q));this.Hb.n(r.Ab());this.mq(!1)},n7:function(a){a=
a.L;a=this.Ia(a);0>a.x?a.x=0:a.x>this.de.c().width+r.zF&&(a.x=this.de.c().width+r.zF);return a},lb:function(a){if(!this.ki(a)||!this.isEnabled()||!this.la)return!1;a=this.mn(a);this.rY(a);return!0},xd:function(a){a=this.mn(a);this.tY(a)},Hf:function(){this.sY(r.wj())},gd:function(){this.Hb.yb((this.Yc-this.jb)/(this.Gb-this.jb)*this.de.c().width);var a=this.bl.IC(),a=r.rect(a.x,a.y,this.Hb.q.H,a.height);this.bl.Ub(a,this.bl.bd,a.eb)},yE:function(a){a=a.x/this.de.c().width;return Math.max(Math.min(this.jb+
a*(this.Gb-this.jb),this.Mv),this.Ov)}});r.UE.create=function(a,c,d){"string"==typeof a&&(a=r.A.create(a),c=r.A.create(c),d=r.A.create(d));var e=new r.UE;e.rU(a,c,d);return e};r.WE=r.Vb.extend({cd:null,wG:0,Mr:!1,$o:!1,ctor:function(){r.Vb.prototype.ctor.call(this)},WC:function(a,c,d,e,f,g){if(!a)throw"cc.ControlSwitch.initWithMaskSprite(): maskSprite should be non-null.";if(!c)throw"cc.ControlSwitch.initWithMaskSprite(): onSprite should be non-null.";if(!d)throw"cc.ControlSwitch.initWithMaskSprite(): offSprite should be non-null.";if(!e)throw"cc.ControlSwitch.initWithMaskSprite(): thumbSprite should be non-null.";return this.r()?(this.Yb(!0),this.$o=!0,this.cd=new r.pM,
this.cd.WC(a,c,d,e,f,g),this.cd.m(this.cd.c().width/2,this.cd.c().height/2),this.f(this.cd),this.cj(!1),this.G(0.5,0.5),this.S(this.cd.c()),!0):!1},Px:function(a,c){var d=(this.$o=a)?this.cd.Yk:this.cd.zm;c?this.cd.Fx(r.Xn.create(0.2,"sliderXPosition",this.cd.Xj,d)):this.cd.ZD(d);this.kf(r.ui)},B8:function(){return this.$o},K7:function(){return this.Mr},Jf:function(a){this.or=a;this.cd.ra(a?255:128)},mn:function(a){a=a.L;return a=this.Ia(a)},lb:function(a){if(!this.ki(a)||!this.isEnabled()||!this.la)return!1;
this.Mr=!1;this.wG=this.mn(a).x-this.cd.Xj;this.cd.Hb.n(r.Pp());this.cd.gd();return!0},xd:function(a){a=this.mn(a);a=r.a(a.x-this.wG,0);this.Mr=!0;this.cd.ZD(a.x)},Hf:function(a){a=this.mn(a);this.cd.Hb.n(r.Ab());this.Mr?this.Px(!(a.x<this.cd.c().width/2),!0):this.Px(!this.$o,!0)},ok:function(a){a=this.mn(a);this.cd.Hb.n(r.Ab());this.Mr?this.Px(!(a.x<this.cd.c().width/2),!0):this.Px(!this.$o,!0)}});r.WE.create=function(a,c,d,e,f,g){var h=new r.WE;return h&&h.WC(a,c,d,e,f,g)?h:null};
r.pM=r.A.extend({Xj:0,Yk:0,zm:0,nH:0,KA:0,LA:null,ih:null,Pi:null,Hb:null,Am:null,ym:null,Eo:null,rc:null,Wu:null,ctor:function(){r.A.prototype.ctor.call(this);this.KA=this.zm=this.Yk=this.Xj=0;this.LA=r.size(0,0);this.ym=this.Am=this.Hb=this.Pi=this.ih=null},WC:function(a,c,d,e,f,g){return r.A.prototype.Ma.call(this,a.da())?(this.Yk=0,this.zm=-c.c().width+e.c().width/2,this.Xj=this.Yk,this.FX(c),this.DX(d),this.aE(e),this.EX(f),this.CX(g),this.rc=a,a=this.LA=this.rc.c(),this.rc.m(0,0),this.Eo=r.pb.create(),
this.Eo.G(0.5,0.5),this.Eo.m(a.width/2,a.height/2),this.Eo.$D(this.rc),this.Wu=r.Cb.create(a.width,a.height),this.Eo.f(this.Wu.qb),this.f(this.Eo),this.f(this.Hb),this.gd(),!0):!1},gd:function(){this.ih.m(this.ih.c().width/2+this.Xj,this.ih.c().height/2);this.Pi.m(this.ih.c().width+this.Pi.c().width/2+this.Xj,this.Pi.c().height/2);this.Am&&this.Am.m(this.ih.q.x-this.Hb.c().width/6,this.ih.c().height/2);this.ym&&this.ym.m(this.Pi.q.x+this.Hb.c().width/6,this.Pi.c().height/2);this.Hb.m(this.ih.c().width+
this.Xj,this.LA.height/2);this.Wu.ek();this.ih.sa();this.Pi.sa();this.Am&&this.Am.sa();this.ym&&this.ym.sa();this.Wu.end()},ZD:function(a){a<=this.zm?a=this.zm:a>=this.Yk&&(a=this.Yk);this.Xj=a;this.gd()},Q6:function(){return this.Xj},V9:function(){return this.ih.c().width},T9:function(){return this.Pi.c().height},wE:function(a,c){r.log("key \x3d "+c+", value \x3d "+a);this.ZD(a)},Mba:function(a){this.Yk=a},b6:function(){return this.Yk},Jba:function(a){this.zm=a},V5:function(){return this.zm},Aba:function(a){this.rc.ga(a)},
B5:function(){return this.rc.da()},xca:function(a){this.nH=a},d7:function(){return this.nH},zba:function(a){this.KA=a},A5:function(){return this.KA},FX:function(a){this.ih=a},c6:function(){return this.ih},DX:function(a){this.Pi=a},W5:function(){return this.Pi},aE:function(a){this.Hb=a},TI:function(){return this.Hb},EX:function(a){this.Am=a},a6:function(){return this.Am},CX:function(a){this.ym=a},U5:function(){return this.ym}});r.PE=0;r.QE=1;r.It=2;r.wq=r.l(55,55,55);r.zy=r.l(147,147,147);r.OE="CourierNewPSMT";r.EE=0.15;r.dM=12;
r.VE=r.Vb.extend({Qd:null,vf:null,Xk:null,$k:null,Yc:0,ar:!1,qo:!1,Xm:!1,jb:0,Gb:0,Mm:0,os:!1,Sm:r.It,Uq:0,ctor:function(){r.Vb.prototype.ctor.call(this);this.$k=this.Xk=this.vf=this.Qd=null;this.Yc=0;this.Xm=this.qo=this.ar=!1;this.Mm=this.Gb=this.jb=0;this.os=!1;this.Sm=r.It;this.Uq=0},oU:function(a,c){if(!a)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Minus sprite should be non-null.";if(!c)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Plus sprite should be non-null.";
if(this.r()){this.Yb(!0);this.ar=this.qo=!0;this.jb=0;this.Gb=100;this.Yc=0;this.Mm=1;this.Xm=!1;this.cj(!1);this.yX(a);this.Qd.m(a.c().width/2,a.c().height/2);this.f(this.Qd);this.xX(r.P.create("-",r.OE,40,r.size(40,40),r.zj,r.Mu));this.Xk.n(r.zy);this.Xk.m(this.Qd.c().width/2,this.Qd.c().height/2);this.Qd.f(this.Xk);this.JX(c);this.vf.m(a.c().width+c.c().width/2,a.c().height/2);this.f(this.vf);this.IX(r.P.create("+",r.OE,40,r.size(40,40),r.zj,r.Mu));this.$k.n(r.wq);this.$k.m(this.vf.c().width/2,
this.vf.c().height/2);this.vf.f(this.$k);var d=r.be.IE(this.Qd.Ya(),this.vf.Ya());this.S(this.Qd.c().width+this.vf.c().height,d.eb.height);return!0}return!1},Mca:function(a){if(this.Xm=a)this.Xk.n(r.wq),this.$k.n(r.wq);this.lf(this.Yc)},bL:function(a){if(a>=this.Gb)throw"cc.ControlStepper.setMinimumValue(): minimumValue should be numerically less than maximumValue.";this.jb=a;this.lf(this.Yc)},$K:function(a){if(a<=this.jb)throw"cc.ControlStepper.setMaximumValue(): maximumValue should be numerically less than maximumValue.";
this.Gb=a;this.lf(this.Yc)},lf:function(a){this.eE(a,!0)},WI:function(){return this.Yc},qca:function(a){if(0>=a)throw"cc.ControlStepper.setMaximumValue(): stepValue should be numerically greater than 0.";this.Mm=a},m8:function(){return this.ar},eE:function(a,c){a<this.jb?a=this.Xm?this.Gb:this.jb:a>this.Gb&&(a=this.Xm?this.jb:this.Gb);this.Yc=a;this.Xm||(this.Xk.n(a==this.jb?r.zy:r.wq),this.$k.n(a==this.Gb?r.zy:r.wq));c&&this.kf(r.ui)},DL:function(){this.Uq=-1;this.cc(this.update,r.EE,r.em,3*r.EE)},
FL:function(){this.Uc(this.update)},update:function(){this.Uq++;this.Uq<r.dM&&0!=this.Uq%3||(this.Sm==r.PE?this.eE(this.Yc-this.Mm,this.ar):this.Sm==r.QE&&this.eE(this.Yc+this.Mm,this.ar))},QL:function(a){a.x<this.Qd.c().width&&this.Yc>this.jb?(this.Sm=r.PE,this.Qd.n(r.Pp()),this.vf.n(r.Ab())):a.x>=this.Qd.c().width&&this.Yc<this.Gb?(this.Sm=r.QE,this.Qd.n(r.Ab()),this.vf.n(r.Pp())):(this.Sm=r.It,this.Qd.n(r.Ab()),this.vf.n(r.Ab()))},lb:function(a){if(!this.ki(a)||!this.isEnabled()||!this.la)return!1;
a=this.bj(a);this.QL(a);this.os=!0;this.qo&&this.DL();return!0},xd:function(a){this.ki(a)?(a=this.bj(a),this.QL(a),this.os||(this.os=!0,this.qo&&this.DL())):(this.os=!1,this.Sm=r.It,this.Qd.n(r.Ab()),this.vf.n(r.Ab()),this.qo&&this.FL())},Hf:function(a){this.Qd.n(r.Ab());this.vf.n(r.Ab());this.qo&&this.FL();this.ki(a)&&(a=this.bj(a),this.lf(this.Yc+(a.x<this.Qd.c().width?0-this.Mm:this.Mm)))},yX:function(a){this.Qd=a},M5:function(){return this.Qd},JX:function(a){this.vf=a},m6:function(){return this.vf},
xX:function(a){this.Xk=a},L5:function(){return this.Xk},IX:function(a){this.$k=a},l6:function(){return this.$k}});r.VE.create=function(a,c){var d=new r.VE;return d&&d.oU(a,c)?d:null};r.TE=r.Vb.extend({Hb:null,bp:null,ap:null,Yc:0,jb:0,Gb:1,uU:function(a,c,d){return this.r()?(this.Yb(!0),this.NX(c),this.aE(d),this.Hb.m(c.q),this.f(d,2),this.f(c,1),this.f(a),this.S(a.c()),this.jb=0,this.Gb=1,this.lf(this.jb),!0):!1},Jf:function(a){this.Jf(a);this.Hb!=NULL&&this.Hb.ra(a?255:128)},lf:function(a){a<this.jb&&(a=this.jb);a>this.Gb&&(a=this.Gb);this.Yc=a;a=(a-this.jb)/(this.Gb-this.jb);this.bp.mt(100*a);this.Hb.Sx(360*a);this.kf(r.ui)},WI:function(){return this.Yc},bL:function(a){this.jb=
a;this.jb>=this.Gb&&(this.Gb=this.jb+1);this.lf(this.Gb)},nT:function(){return this.jb},$K:function(a){this.Gb=a;this.Gb<=this.jb&&(this.jb=this.Gb-1);this.lf(this.jb)},mT:function(){return this.Gb},ki:function(a){a=this.bj(a);return this.CS(this.bp.q,a)<Math.min(this.c().width/2,this.c().height/2)},lb:function(a){if(!this.ki(a)||!this.isEnabled()||!this.la)return!1;this.ap=this.bj(a);this.FV(this.ap);return!0},xd:function(a){a=this.bj(a);this.HV(a)},Hf:function(){this.GV(r.a(0,0))},CS:function(a,
c){var d=a.x-c.x,e=a.y-c.y;return Math.sqrt(d*d+e*e)},yR:function(a,c,d,e){return 180*(Math.atan2(c.x-a.x,c.y-a.y)-Math.atan2(e.x-d.x,e.y-d.y))/Math.PI},FV:function(){this.mq(!0);this.Hb.n(r.Pp())},HV:function(a){var c=this.yR(this.bp.q,a,this.bp.q,this.ap);180<c?c-=360:-180>c&&(c+=360);this.lf(this.Yc+c/360*(this.Gb-this.jb));this.ap=a},GV:function(){this.Hb.n(r.Ab());this.mq(!1)},aE:function(a){this.Hb=a},TI:function(){return this.Hb},NX:function(a){this.bp=a},s6:function(){return this.bp},Xba:function(a){this.ap=
a},vT:function(){return this.ap}});r.TE.create=function(a,c,d){var e=new r.TE;return e&&(a=r.A.create(a),d=r.A.create(d),c=r.Hc.create(r.A.create(c)),e.uU(a,c,d))?e:null};r.xF=-1;r.ho=0;r.Dq=1;r.wu=2;r.fS=function(a){var c=r.va.e();return(c.ya+c.Ca)/2*a/160};r.zN=r.Ea.extend({KW:function(){},LW:function(){}});
r.Ih=r.Vc.extend({O1:0,y1:0,w1:0,Zb:null,Ii:r.wu,Ki:!1,JO:null,Qa:null,qh:!1,Kv:null,Nv:null,Wq:!1,Zq:!1,Ur:null,pp:null,ps:0,rh:null,$h:null,LG:0,JG:0,Or:null,nB:!1,oH:null,ctor:function(){r.Vc.prototype.ctor.call(this);this.JO=new r.Yg(0,0);this.Kv=new r.Yg(0,0);this.Nv=new r.Yg(0,0);this.Ur=new r.Yg(0,0);this.pp=new r.Yg(0,0);this.rh=[];this.$h=new r.Ek(0,0);this.Or=new r.pg(0,0,0,0);this.oH=new r.pg(0,0,0,0)},r:function(){return this.Up(r.size(200,200),null)},Bx:function(){r.BD(this.jl,!1,this)},
Up:function(a,c){var d=r.a(0,0);return r.Vc.prototype.r.call(this)?(this.Qa=c,this.Qa||(this.Qa=r.Vc.create(),this.Qa.cj(!1),this.Qa.G(d)),this.pL(a),this.Yb(!0),this.rh.length=0,this.Zb=null,this.Zq=this.Wq=!0,this.Ii=r.wu,this.Qa.m(d),this.ps=0,this.f(this.Qa),this.LG=this.JG=1,!0):!1},Kl:function(a,c){if(c)this.aX(a,0.15);else{if(!this.Wq){var d=this.nn(),e=this.Zs();a.x=Math.max(d.x,Math.min(e.x,a.x));a.y=Math.max(d.y,Math.min(e.y,a.y))}this.Qa.m(a)}},HI:function(){var a=this.Qa.q;return r.a(a.x,
a.y)},aX:function(a,c){var d=r.nu.create(c,a),e=r.xq.create(this.OQ,this);this.Qa.Fx(r.xj.create(d,e));this.cc(this.SA)},uL:function(a,c){if(c)this.dY(a,0.15);else{var d=this.Qa;if(d.EC()!=a){var e,f;0==this.ps?(f=this.$h,f=r.a(0.5*f.width,0.5*f.height),f=this.nl(f)):f=this.pp;e=d.Ia(f);d.uk(Math.max(this.LG,Math.min(this.JG,a)));e=d.nl(e);f=r.Hd(f,e);this.Kl(r.fg(d.q,f))}}},YI:function(){return this.Qa.EC()},dY:function(a,c){if(0<c){var d=this.Qa.EC();d!=a&&(d=r.Xn.create(c,"zoomScale",d,a),this.Fx(d))}else this.uL(a)},
nn:function(){var a=this.Qa,c=a.c(),d=this.$h;return r.a(d.width-c.width*a.ya,d.height-c.height*a.Ca)},Zs:function(){return r.a(0,0)},A8:function(a){var c=this.HI(),d=this.$h,e=this.YI(),c=r.rect(-c.x/e,-c.y/e,d.width/e,d.height/e);return r.UV(c,a.Ya())},pause:function(){this.Qa.tx();for(var a=this.Qa.u,c=0;c<a.length;c++)a[c].tx()},yK:function(){for(var a=this.Qa.u,c=0,d=a.length;c<d;c++)a[c].Ex();this.Qa.Ex()},p8:function(){return this.Ki},S8:function(){return this.qh},i8:function(){return this.Wq},
VW:function(a){this.Wq=a},z7:function(){return this.$h},pL:function(a){this.$h=a;r.D.prototype.S.call(this,a)},H4:function(){return this.Qa},ZW:function(a){a&&(this.ac(!0),this.Qa=a,a.cj(!1),a.G(0,0),this.f(a),this.pL(this.$h))},V4:function(){return this.Ii},OK:function(a){this.Ii=a},jc:function(){return this.Zb},Dh:function(a){this.Zb=a},lb:function(a){if(!this.la)return!1;var c=this.zA(),d=this.Qa,e=d.nl(d.bi(a)),f=this.rh;if(2<f.length||this.qh||!r.cb(c,e))return!1;f.push(a);1===f.length?(this.pp=
this.bi(a),this.qh=!1,this.Ki=!0,this.Ur.x=0,this.ps=this.Ur.y=0):2==f.length&&(this.pp=r.sD(this.bi(f[0]),this.bi(f[1])),this.ps=r.pD(d.bi(f[0]),d.bi(f[1])),this.Ki=!1);return!0},xd:function(a){if(this.la)if(1===this.rh.length&&this.Ki){this.qh=!0;var c=this.zA(),d=this.bi(a);a=r.Hd(d,this.pp);var e=0,f=this.Ii,e=f===r.Dq?a.y:f===r.ho?a.x:Math.sqrt(a.x*a.x+a.y*a.y);if(this.qh||!(0.04375>Math.abs(r.fS(e))))if(this.qh||(a.x=0,a.y=0),this.pp=d,this.qh=!0,r.cb(c,this.nl(d))){switch(f){case r.Dq:a.x=
0;break;case r.ho:a.y=0}d=this.Qa.q;c=d.x+a.x;d=d.y+a.y;this.Ur=a;this.Kl(r.a(c,d))}}else 2!==this.rh.length||this.Ki||(a=r.pD(this.Qa.bi(this.rh[0]),this.Qa.bi(this.rh[1])),this.uL(this.YI()*a/this.ps))},Hf:function(){this.la&&(1==this.rh.length&&this.qh&&this.cc(this.Zz),this.rh.length=0,this.qh=this.Ki=!1)},ok:function(){this.la&&(this.rh.length=0,this.qh=this.Ki=!1)},S:function(a,c){null!=this.Qa&&(2===arguments.length?this.Qa.S(a,c):this.Qa.S(a),this.LY())},c:function(){return this.Qa.c()},LY:function(){if(null!=
this.Qa){var a=this.$h,c=this.Zs();this.Kv.x=c.x+0.2*a.width;this.Kv.y=c.y+0.2*a.height;c=this.nn();this.Nv.x=c.x-0.2*a.width;this.Nv.y=c.y-0.2*a.height}},k8:function(){return this.Zq},Uaa:function(a){this.Zq=a},sa:function(a){if(this.la){a=a||r.Y;var c,d=this.u,e,f;if(r.Id===r.mg){a.save();this.transform(a);this.$F(a);if(d&&0<d.length){f=d.length;this.Wd();for(c=0;c<f;c++)if((e=d[c])&&0>e.hb)e.sa(a);else break;for(this.Va(a);c<f;c++)d[c].sa(a)}else this.Va(a);this.YF();a.restore()}else{r.Zp();var g=
this.Rk;g&&g.Vp()&&(g.eC(),this.ly());this.transform(a);this.$F(a);if(d&&0<d.length){f=d.length;for(c=0;c<f;c++)if((e=d[c])&&0>e.hb)e.sa();else break;for(this.Va(a);c<f;c++)d[c].sa()}else this.Va(a);this.YF(a);g&&g.Vp()&&g.aC(this);r.Yp()}}},f:function(a,c,d){if(!a)throw Error("child must not nil!");c=c||a.hb;d=d||a.td;a.cj(!1);a.G(0,0);this.Qa!=a?this.Qa.f(a,c,d):r.Vc.prototype.f.call(this,a,c,d)},Yb:function(a){this._super(a);a||(this.qh=this.Ki=!1,this.rh.length=0)},s1:function(){return null},
QP:function(a){var c=this.nn(),d=this.Zs(),e=this.Ii,f=this.Qa.q,g=f.x,h=f.y;if(e===r.wu||e===r.ho)g=Math.max(g,c.x),g=Math.min(g,d.x);if(e==r.wu||e==r.Dq)h=Math.min(h,d.y),h=Math.max(h,c.y);h==f.y&&g==f.x||this.Kl(r.a(g,h),a)},Zz:function(){if(this.Ki)this.Uc(this.Zz);else{var a,c;a=this.Qa.q;var d=this.Ur;this.Qa.m(a.x+d.x,a.y+d.y);this.Wq?(a=this.Kv,c=this.Nv):(a=this.Zs(),c=this.nn());var e=this.Qa.q.H,f=this.Qa.q.M;d.x*=0.95;d.y*=0.95;this.Kl(r.a(e,f));if(1>=Math.abs(d.x)&&1>=Math.abs(d.y)||
f>a.y||f<c.y||e>a.x||e<c.x||e==a.x||e==c.x||f==a.y||f==c.y)this.Uc(this.Zz),this.QP(!0)}},SA:function(){this.Ki&&this.Uc(this.SA)},OQ:function(){this.Uc(this.SA)},$F:function(a){if(this.Zq){this.nB=!1;var c=this.zA(),d=r.va.e(),e=this.ya,f=this.Ca;a=a||r.Y;if(r.Id===r.mg)c=this.$h.width*e*d.ya,d=this.$h.height*f*d.Ca,a.beginPath(),a.rect(0,0,c,-d),a.clip(),a.closePath();else if(d=r.va.e(),d.FU()){if(this.nB=!0,this.Or=d.BT(),r.TV(c,this.Or)){var g=this.Or;a=Math.max(c.x,g.x);f=Math.max(c.y,g.y);e=
Math.min(c.x+c.width,g.x+g.width);c=Math.min(c.y+c.height,g.y+g.height);d.YD(a,f,e-a,c-f)}}else a.enable(a.SCISSOR_TEST),d.YD(c.x,c.y,c.width,c.height)}},YF:function(a){this.Zq&&r.Id===r.Fk&&(this.nB?(a=this.Or,r.va.e().YD(a.x,a.y,a.width,a.height)):(a=a||r.Y,a.disable(a.SCISSOR_TEST)))},q1:function(){},zA:function(){for(var a=this.nl(r.wj()),c=this.$h,d=this.ya,e=this.Ca,f=this.V;null!=f;f=f.getParent())d*=f.ya,e*=f.Ca;0>d&&(a.x+=c.width*d,d=-d);0>e&&(a.y+=c.height*e,e=-e);f=this.oH;f.x=a.x;f.y=
a.y;f.width=c.width*d;f.height=c.height*e;return f}});r.Ih.create=function(a,c){var d=new r.Ih;if(2==arguments.length){if(d&&d.Up(a,c))return d}else if(d&&d.r())return d;return null};r.AN=r.Ea.extend({Ox:function(){},hi:function(){return 0}});r.BN=r.AN.extend({NA:0,ctor:function(){this.NA=0},Ox:function(a){this.NA=a},hi:function(){return this.NA}});function ka(a,c){return a.hi()-c.hi()}
r.vy=r.Ea.extend({mh:null,ctor:function(){this.mh=[]},pJ:function(a){if(!a)throw"cc.ArrayForObjectSorting.insertSortedObject(): addObject should be non-null.";this.xU(a,this.Tp(a))},qW:function(a){if(0!=this.count()){var c=this.Tp(a);c<this.count()&&c!=r.wi&&this.rn(c).hi()==a.hi()&&this.HD(c)}},Iba:function(a,c){var d=this.Tp(c);if(d<this.count()&&d!=r.wi){var e=this.rn(d);e.hi()==c.hi()&&(this.HD(d),e.Ox(a),this.pJ(e))}},TJ:function(a){if(0==this.count())return null;var c=new r.BN;c.Ox(a);var d=
this.Tp(c);d<this.count()&&d!=r.wi&&(c=this.rn(d),c.hi()!=a&&(c=null));return c},T5:function(){return null},Tp:function(a){var c=0;if(a){var d=0;a=a.hi();for(var e=this.mh,f=0;f<e.length;f++){var g=e[f].hi();if(a==g||a>=d&&a<g)break;d=g;c++}}else c=r.wi;return c},count:function(){return this.mh.length},k9:function(){var a=this.mh;return 0==a.length?null:a[a.length-1]},rn:function(a){return this.mh[a]},PH:function(a){this.mh.push(a);this.mh.sort(ka)},HD:function(a){r.vq(this.mh,a);this.mh.sort(ka)},
xU:function(a,c){this.mh=r.Zl(this.mh,a,c);this.mh.sort(ka)}});r.BF=0;r.DN=1;r.y0=r.D.extend({Pj:0,q5:function(){return this.Pj},qX:function(a){this.Pj=a},reset:function(){this.Pj=r.wi},Ox:function(a){this.Pj=a},hi:function(){return this.Pj}});r.A0=r.zN.extend({vda:function(){},uda:function(){},wda:function(){},xda:function(){}});r.z0=r.Ea.extend({CY:function(a){return this.JR(a)},JR:function(){return r.wN},tda:function(){return null},Q9:function(){return 0}});
r.KF=r.Ih.extend({rp:null,Bd:null,zo:null,Yz:null,HB:null,Rv:null,$u:null,$j:null,ctor:function(){r.Ih.prototype.ctor.call(this);this.Rv=r.xF;this.$u=[]},WN:function(a){var c=0,d=-1;switch(this.Ii){case r.ho:a=a.x;break;default:a=a.y}for(var e=this.$u;d>=c;){var f=0|c+(d-c)/2,g=e[f],h=e[f+1];if(a>=g&&a<=h)return f;a<g?d=f-1:c=f+1}return 0>=c?0:-1},bP:function(a){a={x:a.x,y:a.y};this.rp===r.BF&&(a.y=this.Qa.c().height-a.y);a=this.WN(a);-1!=a&&(a=Math.max(0,a),-1<a&&(a=r.wi));return a},ZN:function(a){switch(this.Ii){case r.ho:a=
r.a(this.$u[a],0);break;default:a=r.a(0,this.$u[a])}return a},FP:function(a){var c=this.ZN(a);a=this.Yz.CY(this,a);this.rp===r.BF&&(c.y=this.Qa.c().height-c.y-a.height);return c},L1:function(){},LB:function(){var a=r.fm();this.S(a);this.Rv!=this.Ii&&(this.Ii==r.ho?this.Kl(r.a(0,0)):this.Kl(r.a(0,this.nn().y)),this.Rv=this.Ii)},MG:function(a){this.zo.PH(a);this.Lk.qW(a);r.Zd(this.Bd,a.Pj);a.reset();a.getParent()==this.Qa&&this.Qa.removeChild(a,!0)},bw:function(a,c){c.G(0,0);c.m(this.FP(a));c.qX(a)},
WF:function(a){a.getParent()!=this.Qa&&this.Qa.f(a);this.Lk.pJ(a);var c=this.Bd;a=a.Pj;-1==c.indexOf(a)&&(c.push(a),c.sort(function(a,c){return a-c}))},N4:function(){return this.Yz},eX:function(a){this.Yz=a},jc:function(){return this.HB},Dh:function(a){this.HB=a},Jca:function(a){this.rp!=a&&(this.rp=a,0<this.Lk.count()&&this.GD())},w7:function(){return this.rp},Up:function(a,c){return r.Ih.prototype.Up.call(this,a,c)?(this.Lk=new r.vy,this.zo=new r.vy,this.Bd=[],this.HB=null,this.rp=r.DN,this.OK(r.Dq),
r.Ih.prototype.Dh.call(this,this),!0):!1},Rda:function(a){if(!(a==r.wi||-1<a)){var c=this.hC(a);c&&this.MG(c);c=null;this.bw(a,c);this.WF(c)}},Y7:function(a){if(!(a==r.wi||-1<a)){var c,d=this.Lk;if(c=d.TJ(a))for(var e=c=d.Tp(c);e<d.count();e++)c=d.rn(e),this.bw(c.Pj+1,c);c=null;this.bw(a,c);this.WF(c);this.LB()}},eaa:function(a){if(!(a==r.wi||-1<a)){var c=this.hC(a);if(c){var d=this.Lk,e=d.Tp(c);this.MG(c);r.Zd(this.Bd,a);for(a=d.count()-1;a>e;a--)c=d.rn(a),this.bw(c.Pj-1,c)}}},GD:function(){this.Rv=
r.xF;for(var a=this.Lk,c=this.zo,d=this.Qa,e=0,f=a.count();e<f;e++){var g=a.rn(e);c.PH(g);g.reset();g.getParent()==d&&d.removeChild(g,!0)}this.Bd=[];this.Lk=new r.vy;this.LB()},m3:function(){if(0===this.zo.count())return null;var a=this.zo.rn(0);this.zo.HD(0);return a},hC:function(a){return-1==this.Bd.indexOf(a)?null:this.Lk.TJ(a)},KW:function(){},LW:function(){},Hf:function(a,c){if(this.la){if(this.$j){var d=this.Ya();d.pd=this.V.nl(d.origin);this.$j=null}r.Ih.prototype.Hf.call(this,a,c)}},lb:function(a,
c){if(!this.la)return!1;var d=r.Ih.prototype.lb.call(this,a,c);if(1===this.rh.length){var e;e=this.Qa.bi(a);e=this.bP(e);this.$j=e===r.wi?null:this.hC(e)}else this.$j&&(this.$j=null);return d},xd:function(a,c){r.Ih.prototype.xd.call(this,a,c);this.$j&&this.qh&&(this.$j=null)},ok:function(a,c){r.Ih.prototype.ok.call(this,a,c);this.$j&&(this.$j=null)}});r.KF.create=function(a,c,d){var e=new r.KF;e.Up(c,d);e.eX(a);e.LB();return e};r.mc={};r.mc.MH=function(a){for(var c in r.mc.kD)a[c]=r.mc.kD[c]};
r.mc.kD={m:function(a,c){2==arguments.length?(this.q.H=a,this.q.M=c):(this.q.H=a.x,this.q.M=a.y);this.Xa();this.na.sE(this.q.H,-this.q.M)},Bc:function(a){this.q.M=a;this.Xa();this.na.sE(this.q.H,-this.q.M)},yb:function(a){this.q.H=a;this.Xa();this.na.sE(this.q.H,-this.q.M)},uk:function(a,c){this.ya=a;this.Ca=c||a;this.Xa();this.na.resize(this.ya,this.Ca)},lq:function(a){this.ya=a;this.Xa();this.na.resize(this.ya,this.Ca)},Jn:function(a){this.Ca=a;this.Xa();this.na.resize(this.ya,this.Ca)},G:function(a,
c){var d=this.Kh;if(2===arguments.length){if(a===d.H&&c===d.M)return;d.H=a;d.M=c}else{if(a.x===d.H&&a.y===d.M)return;d.H=a.x;d.M=a.y}var e=this.Od,f=this.xa;e.H=f.Ha*d.H;e.M=f.wa*d.M;this.na.style[r.Pb.gq+"TransformOrigin"]=""+e.H+"px "+-e.M+"px";this.Uk?(this.na.style.marginLeft=0,this.na.style.marginBottom=0):(this.na.style.marginLeft=this.Q8?0:-e.H+"px",this.na.style.marginBottom=-e.M+"px");this.Xa()},S:function(a,c){var d=this.xa;if(2===arguments.length){if(a===d.Ha&&c===d.wa)return;d.Ha=a;d.wa=
c}else{if(a.width===d.Ha&&a.height===d.wa)return;d.Ha=a.width;d.wa=a.height}var e=this.Od,f=this.Kh;e.H=d.Ha*f.H;e.M=d.wa*f.M;this.na.width=d.Ha;this.na.height=d.wa;this.G(this.Kh);this.canvas&&(this.canvas.width=d.Ha,this.canvas.height=d.wa);this.Xa();this.VV()},Sx:function(a){this.eQ!=a&&(this.Bg=this.Th=a,this.Fm=Math.PI/180*this.Bg,this.Tr=Math.PI/180*this.Th,this.Xa(),this.na.rotate(a))},Wx:function(a){this.ne=a;this.Xa();this.na.jL(this.ne,this.oe)},Xx:function(a){this.oe=a;this.Xa();this.na.jL(this.ne,
this.oe)},B:function(a){this.la=a;this.Xa();this.na&&(this.na.style.display=a?"block":"none")},ew:function(a){this.hb=a;this.Xa();this.na&&(this.na.zIndex=a)},lt:function(a){this.V=a;null!==a&&(a.G(a.Kh),this.Xa(),r.mc.sx(this))},Ex:function(){this.Ef().Dn(this);this.Ig().Dn(this);this.na&&!this.na.parentNode&&(this.getParent()?r.mc.sx(this):this.na.bn(r.gk));this.na&&(this.na.style.visibility="visible")},tx:function(){this.Ef().ct(this);this.Ig().ct(this);this.na&&(this.na.style.visibility="hidden")},
$f:function(){this.kE();this.vt();this.sg(this.u,r.D.Nf.$f);this.na&&this.na.remove()},mW:function(){this.na.remove()},ra:function(a){this.Qi=a;this.na.style.opacity=a/255},VV:function(){if(this.fD){var a=this.u;this.u=[];r.A.prototype.sa.call(this,this.Bp);this.u=a}else r.A.prototype.sa.call(this,this.Bp)}};
r.mc.aQ=function(){var a=r.Pb("#EGLViewDiv");if(a){var c=r.va.e(),d=c.Gp(),e=c.df,f=c.Xw(),g=d.width,h=d.height;0===d.width&&0===d.height&&(g=f.width,h=f.height);d=e.eb.width;0===e.eb.width&&0===e.eb.height&&(d=f.width);a.style.position="absolute";a.style.width=g+"px";a.style.maxHeight=h+"px";a.style.margin=0;a.resize(c.ya,c.Ca);a.style.left=(d-g)/2+"px";a.style.bottom="0px"}};
r.mc.sx=function(a){var c=a.getParent();if(c&&a.na)if(c.na||(r.mc.zV(c),c.lt=r.mc.kD.lt),a.na.bn(c.na),c.G(c.Kh),c.getParent())r.mc.sx(c);else if(c.Xe)if(a=r.Pb("#EGLViewDiv"))c.na.bn(a);else{a=r.yk("div");a.id="EGLViewDiv";var d=r.va.e(),e=d.Gp(),f=d.df,g=d.Xw(),h=e.width,k=e.height;0===e.width&&0===e.height&&(h=g.width,k=g.height);e=f.eb.width;0===f.eb.width&&0===f.eb.height&&(e=g.width);a.style.position="absolute";a.style.width=h+"px";a.style.maxHeight=k+"px";a.style.margin=0;a.resize(d.ya,d.Ca);
a.style.left=(e-h)/2+"px";a.style.bottom="0px";c.na.bn(a);a.bn(r.gk)}};r.mc.setTransform=function(a){if(a.Bp)if(a.Bp.translate(a.Od.x,a.Od.y),a.fD){var c=a.u;a.u=[];r.A.prototype.sa.call(a,a.Bp);a.u=c}else r.A.prototype.sa.call(a,a.Bp);a.na&&(a.na.position.x=a.q.x,a.na.position.y=-a.q.y,a.na.rotation=a.yT(),a.na.scale={x:a.ya,y:a.Ca},a.na.Pl={x:a.ne,y:a.oe},a.G&&a.G(a.Kh),a.na.Rn())};
r.mc.US=function(a){a.na=r.yk("div");a.canvas=r.yk("canvas");var c=a.c();a.canvas.width=c.width;a.canvas.height=c.height;a.na.style.position="absolute";a.na.style.bottom=0;a.Bp=a.canvas.getContext("2d");a.na.appendChild(a.canvas);a.getParent()&&r.mc.sx(a);a.fD=!0};
r.mc.zV=function(a){a.na=r.yk("div");a.placeholder=!0;a.na.style.position="absolute";a.na.style.bottom=0;a.na.style.width=(a.c().width||r.$.e().Sb.width)+"px";a.na.style.maxHeight=(a.c().height||r.$.e().Sb.height)+"px";a.na.style.margin=0;r.mc.setTransform(a);a.na.Rn();r.mc.MH(a)};
r.mc.mC=function(a){if(1<arguments.length)r.mc.mC(arguments);else if(1!=arguments.length||arguments[0].length)for(var c=arguments[0],d=0;d<c.length;d++)c[d]instanceof r.A?c[d].na||r.mc.US(c[d]):r.log("DOM converter only supports sprite and menuitems yet"),r.mc.MH(c[d]),c[d].sa=function(){},c[d].transform=function(){},r.mc.setTransform(c[d]),c[d].B(c[d].la);else r.mc.mC([arguments[0]])};r.NM=0;r.m_=1;r.p_=2;r.o_=3;r.n_=4;r.CM=0;r.RZ=1;r.SZ=2;r.TZ=3;r.VZ=4;r.QZ=5;r.UZ=6;r.AM=0;r.BM=1;r.PZ=2;r.OZ=3;r.NZ=4;r.YZ=r.Ea.extend({Rw:function(){},Sw:function(){},Tw:function(){},A3:function(){}});
r.Bq=r.bm.extend({Ji:null,Zb:null,RO:r.CM,QO:r.BM,sP:r.NM,H1:"",Si:"",nw:null,Pr:null,HG:50,iO:18,ab:null,lr:14,kA:"Arial",lA:!1,TA:"",Uv:14,I1:!1,ctor:function(a,c){r.bm.prototype.ctor.call(this);this.lA=!1;this.nw=r.Ab();this.Pr=r.Pp();this.S(a);this.Ji=new r.A;this.Ji.Va=function(){};this.f(this.Ji);var d=this;c?(this.ab=document.createElement("textarea"),this.ab.style.resize="none",this.lA=!0):this.ab=document.createElement("input");this.ab.type="text";this.ab.style.fontSize=this.lr+"px";this.ab.style.color=
"#000000";this.ab.style.border=0;this.ab.style.background="transparent";this.ab.style.width="100%";this.ab.style.height="100%";this.ab.style.P1=0;this.ab.style.outline="medium";this.ab.addEventListener("input",function(){d.Zb&&d.Zb.Tw&&d.Zb.Tw(d,this.value)});this.ab.addEventListener("keyup",function(a){a.keyCode===r.MM.PS&&!1==d.lA&&(a.stopPropagation(),a.preventDefault(),r.canvas.focus())});this.ab.addEventListener("focus",function(){this.value==d.Si&&(this.value="",this.style.fontSize=d.lr+"px",
this.style.color=r.ml(d.nw));d.Zb&&d.Zb.Rw&&d.Zb.Rw(d)});this.ab.addEventListener("blur",function(){""==this.value&&(this.value=d.Si,this.style.fontSize=d.Uv+"px",this.style.color=r.ml(d.Pr));d.Zb&&d.Zb.Sw&&d.Zb.Sw(d)});r.mc.mC(this.Ji);this.Ji.na.appendChild(this.ab);this.Ji.na.Rca=!1;this.Ji.na.style.width=a.width-6+"px";this.Ji.na.style.height=a.height-6+"px";this.Ji.canvas.remove()},hba:function(a,c){this.lr=c;this.kA=a;this.qB()},Kca:function(){},nX:function(a){this.kA=a;this.qB()},UK:function(a){this.lr=
a;this.qB()},qB:function(){this.ab.value!=this.Si&&(this.ab.style.fontFamily=this.kA,this.ab.style.fontSize=this.lr+"px")},Ke:function(a){null!=a&&(""==a?(this.ab.value=this.Si,this.ab.style.color=r.ml(this.Pr)):(this.ab.value=a,this.ab.style.color=r.ml(this.nw)))},mX:function(a){this.nw=a;this.ab.value!=this.Si&&(this.ab.style.color=r.ml(a))},Bba:function(a){!isNaN(a)&&0<a&&(this.HG=a,this.ab.maxLength=a)},C5:function(){return this.HG},Rba:function(a){if(null!=a){var c=this.Si;this.Si=a;this.ab.value==
c&&(this.ab.value=a,this.ab.style.color=r.ml(this.Pr),this.cw())}},Sba:function(a,c){this.TA=a;this.Uv=c;this.cw()},Uba:function(a){this.TA=a;this.cw()},Vba:function(a){this.Uv=a;this.cw()},cw:function(){this.ab.value==this.Si&&(this.ab.style.fontFamily=this.TA,this.ab.style.fontSize=this.Uv+"px")},Tba:function(a){this.Pr=a;this.ab.value==this.Si&&(this.ab.style.color=r.ml(a))},Mx:function(a){this.QO=a;this.ab.type=a==r.AM?"password":"text"},R:function(){return this.ab.value},qU:function(a,c){return this.hJ(c)?
(this.Ji.m(3,3),this.cY(!1),this.tk(a),this.m(0,0),this.XF(this,this.EY,r.LE),!0):!1},Dh:function(a){this.Zb=a},k6:function(){return this.Si},pba:function(a){this.RO=a},ica:function(a){this.sP=a},e9:function(a){var c=r.Bq.ye(this);c.y-=4;c.c8(a.end)?this.iO=a.end.G5()-c.J5():r.log("needn't to adjust view layout.")},c9:function(){},d9:function(){},b9:function(){},EY:function(){},lC:function(a){a=a.toString(16);return 1==a.length?"0"+a:a},AW:function(a,c,d){return"#"+this.lC(a)+this.lC(c)+this.lC(d)},
HK:function(a){this.ab.style.background=this.AW(a.p,a.o,a.i)},T7:function(a,c){this.PO=a.width;this.na.style.width=this.PO.toString()+"px";this.OO=a.height;this.na.style.height=this.OO.toString()+"px";this.na.style.backgroundColor=r.ml(c)}});r.Bq.ye=function(a){var c=a.c(),c=r.rect(0,0,c.width,c.height);return r.Zg(c,a.$s())};r.Bq.create=function(a,c,d,e,f){d=new r.Bq(a,d);c instanceof r.Gc?d.HK(c):d.qU(a,c)&&(e&&d.Lx(e,r.NE),f&&d.Lx(f,r.ME));return d};var t=[],ma=new XMLHttpRequest;ma.open("GET","config.txt",!1);ma.send(null);var na=ma.responseText,oa=na.split("\n")[0],ra=na.split("\n")[1];ra&&(oa+=":"+ra);var sa=io.connect(oa,{"sync disconnect on unload":!0,"connect timeout":5E3,"reconnection delay ":100});sa.on("connect",function(){v.Fy();v.CN();console.log("Client has connected to the server!");if(x){var a=x.e().vd;a?a.Kn(!0):t.push(JSON.stringify({connect:!0}))}else t.push(JSON.stringify({connect:!0}))});sa.on("message",function(a){reactToSocketMessage(a)});
reactToSocketMessage=function(a){a=JSON.parse(a);var c=!1,d;for(d in a){c=!0;break}if(!1!=c)if(console.log("Received a message from the server!",a),a.sync)a.mapdata&&v.RL(a.mapdata,a.maptime),a.warpdata&&v.py(a.warpdata,a.warptime),a.itemdata&&v.xt(a.itemdata,a.itemtime),a.skillsdata&&v.vE(a.skillsdata,a.skillstime),a.signsdata&&v.oy(a.signsdata,a.signstime),a.npcsdata&&v.SL(a.npcsdata,a.npcstime),a.questdata&&v.tE(a.questdata,a.queststime),a.settingsdata&&(v.uE(a.settingsdata,a.settingstime),z=ua(z,
a.settingsdata)),a.scriptsdata&&v.WL(a.scriptsdata,a.scriptstime),va=!0;else if(c=x.e().vd)if(a.connect?c.Kn(!0):a.disconnect&&c.Kn(!1),"Game"==c.yc())if(a.newPlayer)A.pR({id:a.id,location:{position:a.position,mapnumber:a.mapnumber}});else if(a.playerLeft)A.ii(a.playerLeft).eg==A.s.Z.eg&&(MapMaster=!1),A.jI(a.playerLeft);else if(a.setTo)if(!A.ii(a.id)||A.ii(a.id)&&!1==A.ii(a.id).Og){for(c=0;c<t.length;c++)d=JSON.parse(t[c]),d.moveTo&&null!=d.moveTo&&d.id==a.id&&(t.splice(c,1),c--);A.EV({id:a.id,location:{position:a.position,
mapnumber:a.mapnumber}});A.ii(a.id).eg==A.s.Z.eg&&(MapMaster=!1);A.NR(a.id,a.mapnumber)}else t.push(JSON.stringify(a));else a.moveTo?!A.ii(a.id)||A.ii(a.id)&&!1==A.ii(a.id).Og?A.YU({id:a.id,location:{position:a.position,mapnumber:a.mapnumber}}):t.push(JSON.stringify(a)):a.chatMessage?C.Ib(a.chatMessage):a.coinflip?C.Ib(a.coinflip):a.diceroll?C.Ib(a.diceroll):a.dance?C.Ib(a.dance):a.afk?A.OR(a.afk):a.savemap?(v.LR(a.savemap,a.mapdata,a.updatetime),E.gY(a.mapdata)):a.mapmaster?MapMaster=!0:a.savewarps?
(v.UR(parseInt(a.savewarps),a.warpdata,a.updatetime),ObjectLists.hn()[parseInt(a.savewarps)]=a.warpdata,Warpeditor&&(Warpeditor.Pc=ObjectLists.hn(),Warpeditor.ma())):a.savewarpswhole?(v.bW(a.savewarpswhole,a.updatetime),ObjectLists.bY(a.savewarpswhole)):a.savescripts?(v.QR(parseInt(a.savescripts),a.scriptsdata,a.updatetime),ObjectLists.aj()[parseInt(a.savescripts)]=a.scriptsdata,Scripteditor&&(Scripteditor.Pc=ObjectLists.aj(),Scripteditor.ma())):a.savescriptswhole?(v.ZV(a.savescriptswhole,a.updatetime),
ObjectLists.SX(a.savescriptswhole)):a.savesettings?(v.uE(a.savesettings,a.updatetime),z=ua(z,a.savesettings),Settingseditor&&(Settingseditor.data=G(z),Settingseditor.ib())):a.savequests?(v.PR(parseInt(a.savequests),a.questdata,a.updatetime),ObjectLists.Lp()[parseInt(a.savequests)]=a.questdata,Questeditor&&(Questeditor.Pc=ObjectLists.Lp(),Questeditor.ma())):a.savequestswhole?(v.YV(a.savequestswhole,a.updatetime),ObjectLists.OX(a.savequestswhole)):a.saveskills?(v.SR(parseInt(a.saveskills),a.skillsdata,
a.updatetime),ObjectLists.wh()[parseInt(a.saveskills)]=a.skillsdata,Skillseditor&&(Skillseditor.Pc=ObjectLists.wh(),Skillseditor.ma()),H.update(),Skills&&Skills.ub()):a.saveskillswhole?(v.aW(a.saveskillswhole,a.updatetime),ObjectLists.UX(a.saveskillswhole),H.update(),Skills&&Skills.ub()):a.savesigns?(v.RR(parseInt(a.savesigns),a.signsdata,a.updatetime),ObjectLists.Ks()[parseInt(a.savesigns)]=a.signsdata,Signeditor&&(Signeditor.Pc=ObjectLists.Ks(),Signeditor.ma())):a.moveNPC?(a.npcID=parseInt(a.npcID),
!A.Ip(a.npcID)||A.Ip(a.npcID)&&!1==A.Ip(a.npcID).Og?A.XU(a.npcID,a.moveNPC,a.mapnumber):t.push(JSON.stringify(a))):a.changeNPCPosition?A.Ip(a.npcID)&&(a.npcID=parseInt(a.npcID),A.Ip(a.npcID)&&!1==A.Ip(a.npcID).Og?A.tW(a.npcID,a.changeNPCPosition):t.push(JSON.stringify(a))):a.savesignswhole?(v.$V(a.savesignswhole,a.updatetime),ObjectLists.TX(a.savesignswhole)):a.savenpcs?(v.MR(parseInt(a.savenpcs),a.npcsdata,a.updatetime),ObjectLists.rl()[parseInt(a.savenpcs)]=a.npcsdata,E.Np(E.wd(),!0),NPCeditor&&
(NPCeditor.Pc=ObjectLists.rl(),NPCeditor.ma())):a.savenpcswhole?(v.XV(a.savenpcswhole,a.updatetime),ObjectLists.zX(a.savenpcswhole),E.Np(E.wd(),!0),NPCeditor&&(NPCeditor.Pc=ObjectLists.rl(),NPCeditor.ma())):a.saveitems?(v.KR(parseInt(a.saveitems),a.itemdata,a.updatetime),c=ObjectLists.Cf()[parseInt(a.saveitems)].name,ObjectLists.Cf()[parseInt(a.saveitems)]=a.itemdata,E.Np(E.wd()),Itemeditor&&(Itemeditor.Pc=ObjectLists.Cf(),Itemeditor.ma()),Inventory&&Inventory.ub(),A.s.Z.xt(c,a.itemdata)):a.droppeditem?
a.mapnumber==E.wd()&&!1==E.e().Ng?(c=E.UI(a.index),c.mR(a.droppeditem),E.zt()):t.push(JSON.stringify(a)):a.pickupitem?a.mapnumber==E.wd()&&(c=E.UI(a.pickupitem),c.uD(),E.zt()):a.saveitemswhole?(v.WV(a.saveitemswhole,a.updatetime),ObjectLists.rX(a.saveitemswhole)):a.savesuccess&&c.WS();else"Login"==c.yc()&&(a.login_success?c.cV(a.login_success):a.login_fail?c.px(a.login_fail):a.registrationsuccess?c.cS():a.registrationfailed&&c.RS(a.registrationfailed));else t.push(JSON.stringify(a))};
sa.on("disconnect",function(){console.log("The client has disconnected!");var a=x.e().vd;a?a.Kn(!1):t.push(JSON.stringify({disconnect:!0}))});function I(a){sa.send(JSON.stringify(a))};var J=Object.freeze({we:{k3:"C to popup/dismiss, enter for chat. Say /help for help.",d8:"Welcome to the Powder Engine! Enter /help for some help.",hU:"-------HELP------",gU:" - Press C to expand the chat, I for Inventory",fU:" - Space to grab Items and E for Equipment.",eU:" - Enter /commands for command list",dU:"-------------------",bS:"Commands:  /editskill, /editsign, /editnpc,",aS:" - /editmap, /editwarp, /edititem,",$R:" - /dance, /coinflip, /diceroll, /afk",ZR:"--------------------",AV:" has joined the game!",
C$:" has left the game!",ux:"Picked up ",JS:"Dropped ",sJ:"Your inventory is full"}});var Aa={},Ba=r.Md.e();r.tj.e();Ba.iL(["res/Graphics"]);ma=new XMLHttpRequest;ma.open("GET","res/Graphics/tile_graphics.txt",!1);ma.send(null);var na=ma.responseText,Ca=na.split(","),K=[],Fa;for(Fa in Ca)K.push({name:Ca[Fa],texture:r.ea.e().pa(Ca[Fa])});var va=!1,ma=new XMLHttpRequest;ma.open("GET","res/Graphics/character_graphics.txt",!1);ma.send(null);var na=ma.responseText,Ca=na.split(","),M=[];for(Fa in Ca)M.push({name:Ca[Fa],texture:r.ea.e().pa(Ca[Fa])});
document.getElementById("gameCanvas").onkeydown=function(a){a.preventDefault();Aa[a.keyCode]=!0};window.onbeforeunload=function(){I({disconnect:!0})};window.onfocus=function(){for(var a=[],c=t.length-1;0<=c;c--){var d=JSON.parse(t[c]);d.moveTo&&!a[d.id]?(a[d.id]=!0,d.setTo=1,d.moveTo=null,t[c]=JSON.stringify(d)):d.moveTo&&a[d.id]&&t.splice(c,1)}};var P=r.h(255,255,255,255),Ga=r.h(0,255,0,255),Ha=r.h(255,0,0,255);
document.getElementById("gameCanvas").onkeyup=function(a){Aa[a.keyCode]=!1;if(null!=x.e().vd){a.stopPropagation();var c=null;switch(a.keyCode){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";
break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a.keyCode&&58>a.keyCode||64<a.keyCode&&91>a.keyCode)&&(c=String.fromCharCode(a.keyCode));null!=c&&x.e().vd.Dl(c)}};rememberLoginNextTime=autoLoginNextTime=!1;
var z={GENERAL:"ISSECTION","Project Name":"Powder Engine Testbed","Version Number":"0.705",CHATBAR:"ISSECTION","Welcome Message":"Welcome to the Powder Engine! Enter /help for some help.","Join Message":"\x3cPLAYER\x3e has joined the game!","Leave Message":"\x3cPLAYER\x3e has left the game!","Default ChatBar Message":"C to popup/dismiss, enter for chat. Say /help for help.",ITEMS:"ISSECTION","Item Dropdown Pick Up":"Pick up \x3cITEM\x3e","Item Dropdown Walk To":"Walk to \x3cITEM\x3e","Item Pick Up":"Picked up \x3cITEM\x3e.",
"Item Dropped":"Dropped \x3cITEM\x3e.","Item Out-of-range":"\x3cITEM\x3e is too far away to pick up!","Item Dropdown Examine":"Examine \x3cITEM\x3e","Item Dropdown Equip":"Equip \x3cITEM\x3e","Item Dropdown Read":"Read \x3cITEM\x3e","Item Dropdown Eat":"Eat \x3cITEM\x3e","Item Dropdown Use":"Use \x3cITEM\x3e","Item Dropdown Unequip":"Unequip \x3cITEM\x3e","Item Dropdown Drop":"Drop \x3cITEM\x3e",NPCS:"ISSECTION","NPC Dropdown Examine":"Examine","NPC Dropdown Attack":"Attack","NPC Dropdown Talk":"Talk To",
"NPC Dropdown Follow":"Follow","NPC Dropdown Trade":"Trade","NPC Dropdown Bank":"Open Bank",SIGNS:"ISSECTION","Sign Dropdown list Read":"Read sign \x3cSIGN\x3e","Sign Out-of-range":"\x3cSIGN\x3e is too far away to read!",PANELS:"ISSECTION","Equipment Header":"Equipment","Inventory Header":"Inventory","Skills Header":"Skills List","Quest Header":"Quest Log",COMMANDS:"ISSECTION","/dance":"\x3cPLAYER\x3e danced the dance of his people.","/diceroll":"\x3cPLAYER\x3e threw a dice and got \x3cVALUE\x3e",
"/coinflip":"\x3cPLAYER\x3e flipped a coin and got \x3cVALUE\x3e"};function Q(a,c){return(a.CJ&&a.la||!a.CJ)&&r.cb(r.rect(a.q.H,a.q.M,a.c().width,a.c().height),c)}function G(a){if(!a)return null;var c=null;"object"==typeof a&&(c={});a instanceof Array&&(c=[]);for(var d in a)c[d]=a[d]&&("object"==typeof a[d]||a[d]instanceof Array)?G(a[d]):a[d];return c}
isMobile=function(){var a=!1,c=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(c)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(c.substr(0,
4)))a=!0;return a};function Ia(a,c){var d=c?a:a.zc();return Ja(d,"panels")}function Na(){R.Fc(function(){})}
function Ja(a,c,d){c=d?d[c]:a[c];"undefined"!=typeof c.EU?d=Oa.Fy(c.DY):"undefined"!=typeof c.w?(d=c.size?c.size:r.size(100,100),d=r.aa.create(c.w,d.width,d.height)):d="undefined"!=typeof c.fD?r.A.create():"undefined"!=typeof c.X?r.A.bb(r.ea.e().pa(c.X)):"undefined"!=typeof c.label?r.P.create(c.label,c.font?c.b4:"Arial",c.fontSize?c.fontSize:14):r.D.create();"undefined"!=typeof c.size&&d.S(Math.floor(c.size.width),Math.floor(c.size.height));"undefined"!=typeof c.position&&d.m(r.a(Math.floor(c.position.x),
Math.floor(c.position.y)));"undefined"!=typeof c.visible&&d.B(c.visible);"undefined"!=typeof c.d&&d.G(c.d);"undefined"!=typeof c.opacity&&d.ra(c.opacity);"undefined"!=typeof c.color&&(d.n||console.log(c),d.n(c.color));if("undefined"!=typeof c.children)for(var e in c.children)d[e]=Ja(a,e,c.children),d.f(d[e]);return d}r.size(960,640);var T=r.size(1600,1600),Pa=Math.floor(T.height/32),U=Math.floor(T.width/32);function V(a,c){return parseInt(U*(Pa-c))+parseInt(a)}
function ua(a,c){var d={},e;for(e in a)d[e]=a[e]+"";for(e in c)d[e]&&(d[e]=c[e]+"");return d}
function Qa(a,c,d){R.Fc(function(){var e=[],f=A.s.Z.items;c&&(c.script&&(e=ObjectLists.aj()[c.script].data),c.storedobj&&(storedobj=c.storedobj));for(var g=0;g<e.length;g++)if(e[g].type==a){for(var h=e[g].requirements,k=!0,l=0;l<h.length;l++)switch(h[l].type){case "Script Requirement":(k=G(A.s.Z.II(c.script)))||(k={});eval(h[l].data.functionContent);A.s.Z.SK(c.script,G(k));k=!1;break;case "Script Requirement":if(!1==function(a,c){try{return eval(h[l].data.functionContent),h[l].data.storedobj=a,c}catch(d){C.Ib("Your script did not work.")}}(G(h[l].data.storedobj),
!1)){k=!1;break}break;case "Is Panel Visibility":if(d&&d["Is Panel Visibility"])break;var m=1==h[l].data.visible?!0:!1;switch(h[l].data.panel){case 0:null==Inventory||Inventory.V||(Inventory=null);if(Inventory&&!m){k=!1;break}if(!Inventory&&m){k=!1;break}break;case 1:null==Equipment||Equipment.V||(Equipment=null);if(Equipment&&!m){k=!1;break}if(!Equipment&&m){k=!1;break}break;case 2:null==Skills||Skills.V||(Skills=null);if(Skills&&!m){k=!1;break}!Skills&&m&&(k=!1)}break;case "Is Player Inventory Space":if(d&&
d["Is Player Inventory Space"])break;for(var m=h[l].data.space?h[l].data.space:0,n=0,p=0;40>p;p++)f.stored[p]||n++;if(n<m){k=!1;break}break;case "Has Player Item":if(d&&d["Has Player Item"])break;if(h[l].data.item){var m=h[l].data.amount?h[l].data.amount:0,n=0,q=ObjectLists.Cf()[h[l].data.item].name,u;for(u in f.stored)f.stored[u]&&f.stored[u].name==q&&n++;if(n<m){k=!1;break}}break;case "Is Player Statistics":if(d&&d["Is Player Statistics"])break;m=ObjectLists.wh()[h[l].data.skill].name;h[l].data.levelUpper||
(h[l].data.levelUpper=0);h[l].data.levelLower||(h[l].data.levelLower=0);h[l].data.healthUpper||(h[l].data.healthUpper=0);h[l].data.healthLowe||(h[l].data.healthLower=0);h[l].data.xpUpper||(h[l].data.xpUpper=0);h[l].data.xpLower||(h[l].data.xpLower=0);if(0!=h[l].data.levelUpper||0!=h[l].data.levelLower)if(q=SkillBarsInstance.lc[m].level+1,q>h[l].data.levelUpper||q<h[l].data.levelLower){k=!1;break}if(0!=h[l].data.healthUpper||0!=h[l].data.healthLower)if(q=SkillBarsInstance.lc[m].currenthealth,q>h[l].data.healthUpper||
q<h[l].data.healthLower){k=!1;break}if(0!=h[l].data.xpUpper||0!=h[l].data.xpLower)if(q=SkillBarsInstance.lc[m].experience,q>h[l].data.xpUpper||q<h[l].data.xpLower)k=!1}if(k)for(h=e[g].responses,l=0;l<h.length;l++)for(l=0;l<h.length;l++)switch(h[l].type){case "Script Response":functionArray.push('var data\x3dcloneObj(PlayersController.getYou().getExtraData(item["script"]));if(!data){data\x3d{};}eval(scriptData['+g+']["responses"]['+l+']["data"]["functionContent"]);PlayersController.getYou().setExtraData(item["script"],cloneObj(data));');
break;case "Equip Item":if(d&&d["Equip Item"])break;k=h[l].data.equip;"bothArms"==k&&(k="lArm",f.equipped.rArm||(k="rArm"));m=null;f.equipped[k]&&(m=G(f.equipped[k]),Qa("On Dequip",m));f.equipped[k]=G(c);c=m;Inventory&&Inventory.ub();Equipment&&Equipment.ub();break;case "Give /Take Item":if(d&&d["Give /Take Item"])break;if(!h[l].data.amount||null==h[l].data.item||"undefined"==h[l].data.item)break;k=ObjectLists.Cf()[h[l].data.item];if(0<h[l].data.amount){m=h[l].data.amount;if(!0==k.stackable){for(p=
0;40>p;p++)f.stored[p]&&f.stored[p].name==k.name&&(m=0);0!=n&&(m=1)}else for(p=n=0;40>p;p++)f.stored[p]||n++;if(n<m)break;else if(!0==k.stackable){m=!1;for(p=0;40>p;p++)if(f.stored[p]&&f.stored[p].name==k.name){f.stored[p].amount+=h[l].data.amount;Inventory&&Inventory.ri(p,f.stored[p].amount);m=!0;break}if(!1==m)for(p=0;40>p;p++)if(!f.stored[p]){f.stored[p]=G(k);f.stored[p].amount=h[l].data.amount;Inventory&&Inventory.ri(p,f.stored[p].amount);break}}else for(m=0;m<h[l].data.amount;m++)for(p=0;40>
p;p++)if(!f.stored[p]){f.stored[p]=G(k);break}}else if(0>h[l].data.amount){m=Math.abs(h[l].data.amount);n=0;q=k.name;for(p in f.stored)f.stored[p]&&f.stored[p].name==q&&n++;if(n<m)break;else for(m=0;m<Math.abs(h[l].data.amount);m++)for(p in f.stored)if(f.stored[p]&&f.stored[p].name==q){console.log("gettin rid"+m);user.stored[p]=null;break}}Inventory&&Inventory.ub();Equipment&&Equipment.ub();break;case "Modify Player Stats":if(d&&d["Modify Player Stats"])break;ObjectLists.wh()[h[l].data.skill]&&(k=
ObjectLists.wh()[h[l].data.skill].name,H.MJ(k,h[l].data.level),H.LJ(k,h[l].data.health),H.NJ(k,h[l].data.xp));break;case "Set Quest Point":if(d&&d["Set Quest Point"])break;A.s.Z.dL(h[l].data.quest,h[l].data.objective);break;case "Warp Player":if(d&&d["Warp Player"])break;k=h[l].data.index%U;m=Math.floor(h[l].data.index/U);A.s.Z.m(32*k,32*m);I({changemap:h[l].data.mapnum,setTo:h[l].data.index});E.Np(h[l].data.mapnum);E.Op(32*k,32*m);break;case "Read Item":if(d&&d["Read Item"])break;R.jY(c.name,h[l].data.say);
break;case "Open/Close Panel":if(d&&d["Open/Close Panel"])break;k=1==h[l].data.visible?!0:!1;switch(h[l].data.panel){case 0:null==Inventory||Inventory.V||(Inventory=null);!0==k?Inventory?Inventory.ub():(Inventory=new InventoryPanel,Inventory.r(),Inventory.ma(),R.f(Inventory)):Inventory&&(Inventory.ta(),Inventory.K(),Inventory=null);break;case 1:null==Equipment||Equipment.V||(Equipment=null);!0==k?Equipment?Equipment.ub():(Equipment=new EquipmentPanel,Equipment.r(),Equipment.ma(),R.f(Equipment)):Equipment&&
(Equipment.ta(),Equipment.K(),Equipment=null);break;case 2:null==Skills||Skills.V||(Skills=null),!0==k?Skills?Skills.ub():(Skills=new SkillsPanel,Skills.r(),Skills.ma(),R.f(Skills)):Skills&&(Skills.ta(),Skills.K(),Skills=null)}break;case "Destroy":if(d&&d.Destroy)break;c=null;tile.Js().temp?I({pickupitem:V(gp.x,gp.y),mapnumber:E.wd(),temp:!0}):I({pickupitem:V(gp.x,gp.y),mapnumber:E.wd()});Inventory&&Inventory.ub();l=h.length}}})}
function Ra(a,c){var d=[];R.Fc(function(){var e=[],f=A.s.Z.items;c&&c.script&&(e=ObjectLists.aj()[c.script].data);for(var g=0;g<e.length;g++)if(e[g].type==a){for(var h=e[g].requirements,k=!0,l=0;l<h.length;l++)switch(h[l].type){case "Script Requirement":(k=G(A.s.Z.II(c.script)))||(k={});eval(h[l].data.functionContent);A.s.Z.SK(c.script,G(k));k=!1;break;case "Is Panel Visibility":var m=1==h[l].data.visible?!0:!1;switch(h[l].data.panel){case 0:null==Inventory||Inventory.V||(Inventory=null);if(Inventory&&
!m){k=!1;break}if(!Inventory&&m){k=!1;break}break;case 1:null==Equipment||Equipment.V||(Equipment=null);if(Equipment&&!m){k=!1;break}if(!Equipment&&m){k=!1;break}break;case 2:null==Skills||Skills.V||(Skills=null);if(Skills&&!m){k=!1;break}!Skills&&m&&(k=!1)}break;case "Is Player Inventory Space":for(var m=h[l].data.space?h[l].data.space:0,n=0,p=0;40>p;p++)f.stored[p]||n++;if(n<m){k=!1;break}break;case "Has Player Item":if(h[l].data.item){var m=h[l].data.amount?h[l].data.amount:0,n=0,q=ObjectLists.Cf()[h[l].data.item].name,
u;for(u in f.stored)f.stored[u]&&f.stored[u].name==q&&n++;if(n<m){k=!1;break}}break;case "Is Player Statistics":m=ObjectLists.wh()[h[l].data.skill].name;h[l].data.levelUpper||(h[l].data.levelUpper=0);h[l].data.levelLower||(h[l].data.levelLower=0);h[l].data.healthUpper||(h[l].data.healthUpper=0);h[l].data.healthLowe||(h[l].data.healthLower=0);h[l].data.xpUpper||(h[l].data.xpUpper=0);h[l].data.xpLower||(h[l].data.xpLower=0);if(0!=h[l].data.levelUpper||0!=h[l].data.levelLower)if(q=SkillBarsInstance.lc[m].level+
1,q>h[l].data.levelUpper||q<h[l].data.levelLower){k=!1;break}if(0!=h[l].data.healthUpper||0!=h[l].data.healthLower)if(q=SkillBarsInstance.lc[m].currenthealth,q>h[l].data.healthUpper||q<h[l].data.healthLower){k=!1;break}if(0!=h[l].data.xpUpper||0!=h[l].data.xpLower)if(q=SkillBarsInstance.lc[m].experience,q>h[l].data.xpUpper||q<h[l].data.xpLower)k=!1}if(!0==k)for(h=e[g].responses,l=0;l<h.length;l++)switch(h[l].type){case "Script Response":d.push('var data\x3dcloneObj(PlayersController.getYou().getExtraData(npc["script"]));if(!data){data\x3d{};}eval(scriptData['+
g+']["responses"]['+l+']["data"]["functionContent"]);PlayersController.getYou().setExtraData(npc["script"],cloneObj(data));');break;case "Talk":R.lY(c,e,parseInt(g),c.name,h[l].data.say,h[l].data.options);break;case "Give /Take Item":if(!h[l].data.amount||null==h[l].data.item||"undefined"==h[l].data.item)break;k=ObjectLists.Cf()[h[l].data.item];if(0<h[l].data.amount){m=h[l].data.amount;if(!0==k.stackable){for(p=0;40>p;p++)f.stored[p]&&f.stored[p].name==k.name&&(m=0);0!=n&&(m=1)}else for(p=n=0;40>
p;p++)f.stored[p]||n++;if(n<m)break;else if(!0==k.stackable){m=!1;for(p=0;40>p;p++)if(f.stored[p]&&f.stored[p].name==k.name){f.stored[p].amount+=h[l].data.amount;Inventory&&Inventory.ri(p,f.stored[p].amount);m=!0;break}if(!1==m)for(p=0;40>p;p++)if(!f.stored[p]){f.stored[p]=G(k);f.stored[p].amount=h[l].data.amount;Inventory&&Inventory.ri(p,f.stored[p].amount);break}}else for(m=0;m<h[l].data.amount;m++)for(p=0;40>p;p++)if(!f.stored[p]){f.stored[p]=G(k);break}}else if(0>h[l].data.amount){m=Math.abs(h[l].data.amount);
n=0;q=k.name;for(p in f.stored)f.stored[p]&&f.stored[p].name==q&&n++;if(n<m)break;else for(m=0;m<Math.abs(h[l].data.amount);m++)for(p in f.stored)if(f.stored[p]&&f.stored[p].name==q){console.log("gettin rid"+m);user.stored[p]=null;break}}Inventory&&Inventory.ub();Equipment&&Equipment.ub();break;case "Modify Player Stats":ObjectLists.wh()[h[l].data.skill]&&(k=ObjectLists.wh()[h[l].data.skill].name,H.MJ(k,h[l].data.level),H.LJ(k,h[l].data.health),H.NJ(k,h[l].data.xp));break;case "Set Quest Point":A.s.Z.dL(h[l].data.quest,
h[l].data.objective);break;case "Warp Player":k=h[l].data.index%U;m=Math.floor(h[l].data.index/U);A.s.Z.m(32*k,32*m);I({changemap:h[l].data.mapnum,setTo:h[l].data.index});E.Np(h[l].data.mapnum);E.Op(32*k,32*m);break;case "Open/Close Panel":switch(k=1==h[l].data.visible?!0:!1,h[l].data.panel){case 0:null==Inventory||Inventory.V||(Inventory=null);!0==k?Inventory?Inventory.ub():(Inventory=new InventoryPanel,Inventory.r(),Inventory.ma(),R.f(Inventory)):Inventory&&(Inventory.ta(),Inventory.K(),Inventory=
null);break;case 1:null==Equipment||Equipment.V||(Equipment=null);!0==k?Equipment?Equipment.ub():(Equipment=new EquipmentPanel,Equipment.r(),Equipment.ma(),R.f(Equipment)):Equipment&&(Equipment.ta(),Equipment.K(),Equipment=null);break;case 2:null==Skills||Skills.V||(Skills=null),!0==k?Skills?Skills.ub():(Skills=new SkillsPanel,Skills.r(),Skills.ma(),R.f(Skills)):Skills&&(Skills.ta(),Skills.K(),Skills=null)}}}for(u=0;u<d.length;u++)eval(d[u]),d.splice(u,1),u--})};var v=r.Ea.extend({s:null,xb:function(a){return(a=s.localStorage.getItem("last_"+a))?a:null},rk:function(a,c){return(c=s.localStorage.setItem("last_"+a,c))?c:null}}),W=null;v.Fy=function(){W||(W=new v);return W};v.e=function(){return W};v.HX=function(a,c){var d=s.localStorage.getItem("panelStore");"null"==d||null==d?(console.log("NEW PANEL STORE"),d={}):d=JSON.parse(d);d[a]={x:c.x,y:c.y};s.localStorage.setItem("panelStore",JSON.stringify(d))};v.tT=function(){return s.localStorage.getItem("panelStore")};
v.iT=function(a){if(W.xb("maps")){if(a){var c=JSON.parse(s.localStorage.getItem("map_data"));return c[a]?c[a]:null}}else return[]};v.RL=function(a,c){W.rk("maps",c);s.localStorage.setItem("map_data",JSON.stringify(a))};v.LR=function(a,c,d){var e=W.xb("maps")?JSON.parse(s.localStorage.getItem("map_data")):[];e[a]=c;v.RL(e,d)};v.gf=function(){if(W.xb("scripts")){if(""!=s.localStorage.getItem("scripts_data"))var a=JSON.parse(s.localStorage.getItem("scripts_data"));return a?a:[]}return[]};
v.WL=function(a,c){W.rk("scripts",c);s.localStorage.setItem("scripts_data",JSON.stringify(a))};v.QR=function(a,c,d){var e=W.xb("scripts")?""!=s.localStorage.getItem("scripts_data")?JSON.parse(s.localStorage.getItem("scripts_data")):[]:[];e[a]=c;v.WL(e,d)};v.ZV=function(a,c){scriptarray=a;v.py(scriptarray,c)};v.NT=function(){if(W.xb("warps")){if(""!=s.localStorage.getItem("warps_data"))var a=JSON.parse(s.localStorage.getItem("warps_data"));return a?a:[]}return[]};
v.py=function(a,c){W.rk("warps",c);s.localStorage.setItem("warps_data",JSON.stringify(a))};v.UR=function(a,c,d){var e=W.xb("warps")?""!=s.localStorage.getItem("warps_data")?JSON.parse(s.localStorage.getItem("warps_data")):[]:[];e[a]=c;v.py(e,d)};v.bW=function(a,c){warparray=a;v.py(warparray,c)};v.gT=function(){if(W.xb("items")){if(""!=s.localStorage.getItem("items_data"))var a=JSON.parse(s.localStorage.getItem("items_data"));return a?a:[]}return[]};
v.xt=function(a,c){W.rk("items",c);s.localStorage.setItem("items_data",JSON.stringify(a))};v.KR=function(a,c,d){var e=W.xb("items")?""!=s.localStorage.getItem("items_data")?JSON.parse(s.localStorage.getItem("items_data")):[]:[];e[a]=c;v.xt(e,d)};v.WV=function(a,c){itemsarray=a;v.xt(itemsarray,c)};v.ET=function(){if(W.xb("skills")){if(""!=s.localStorage.getItem("skills_data"))var a=JSON.parse(s.localStorage.getItem("skills_data"));return a?a:[]}return[]};
v.vE=function(a,c){W.rk("skills",c);s.localStorage.setItem("skills_data",JSON.stringify(a))};v.SR=function(a,c,d){var e=W.xb("skills")?""!=s.localStorage.getItem("skills_data")?JSON.parse(s.localStorage.getItem("skills_data")):[]:[];e[a]=c;v.vE(e,d)};v.aW=function(a,c){skillarray=a;v.vE(skillarray,c)};v.CT=function(){if(W.xb("signs")){if(""!=s.localStorage.getItem("signs_data"))var a=JSON.parse(s.localStorage.getItem("signs_data"));return a?a:[]}return[]};
v.oy=function(a,c){W.rk("signs",c);s.localStorage.setItem("signs_data",JSON.stringify(a))};v.RR=function(a,c,d){var e=W.xb("signs")?""!=s.localStorage.getItem("signs_data")?JSON.parse(s.localStorage.getItem("signs_data")):[]:[];e[a]=c;v.oy(e,d)};v.$V=function(a,c){signarray=a;v.oy(signarray,c)};v.oT=function(){if(W.xb("npcs")){if(""!=s.localStorage.getItem("npcs_data"))var a=JSON.parse(s.localStorage.getItem("npcs_data"));return a?a:[]}return[]};
v.SL=function(a,c){W.rk("npcs",c);s.localStorage.setItem("npcs_data",JSON.stringify(a))};v.MR=function(a,c,d){var e=W.xb("npcs")?""!=s.localStorage.getItem("npcs_data")?JSON.parse(s.localStorage.getItem("npcs_data")):[]:[];e[a]=c;v.SL(e,d)};v.XV=function(a,c){npcsarray=a;v.oy(npcsarray,c)};v.sl=function(){if(W.xb("quests")){if(""!=s.localStorage.getItem("quests_data"))var a=JSON.parse(s.localStorage.getItem("quests_data"));return a?a:[]}return[]};
v.tE=function(a,c){W.rk("quests",c);s.localStorage.setItem("quests_data",JSON.stringify(a))};v.PR=function(a,c,d){var e=W.xb("quests")?""!=s.localStorage.getItem("quests_data")?JSON.parse(s.localStorage.getItem("quests_data")):[]:[];e[a]=c;v.tE(e,d)};v.YV=function(a,c){questsarray=a;v.tE(questsarray,c)};v.FC=function(){if(W.xb("settings")){if(""!=s.localStorage.getItem("settings_data"))var a=JSON.parse(s.localStorage.getItem("settings_data"));return a?a:[]}return[]};
v.uE=function(a,c){W.rk("settings",c);s.localStorage.setItem("settings_data",JSON.stringify(a))};
v.xZ=function(){s.localStorage.setItem("map_data",[]);s.localStorage.setItem("last_maps",0);s.localStorage.setItem("warps_data",[]);s.localStorage.setItem("last_warps",0);s.localStorage.setItem("items_data",[]);s.localStorage.setItem("last_items",0);s.localStorage.setItem("skills_data",[]);s.localStorage.setItem("last_skills",0);s.localStorage.setItem("signs_data",[]);s.localStorage.setItem("last_signs",0);s.localStorage.setItem("npcs_data",[]);s.localStorage.setItem("last_npcs",0);s.localStorage.setItem("quests_data",
[]);s.localStorage.setItem("last_quests",0);s.localStorage.setItem("settings_data",[]);s.localStorage.setItem("last_settings",0);s.localStorage.setItem("scripts_data",[]);s.localStorage.setItem("last_scripts",0);s.localStorage.setItem("panelStore",null)};
v.CN=function(){I({sync:!0,mapupdate:null!=W.xb("maps")?W.xb("maps"):2,warpupdate:null!=W.xb("warps")?W.xb("warps"):2,itemupdate:null!=W.xb("items")?W.xb("items"):2,skillsupdate:null!=W.xb("skills")?W.xb("skills"):2,signsupdate:null!=W.xb("signs")?W.xb("signs"):2,npcsupdate:null!=W.xb("npcs")?W.xb("npcs"):2,questsupdate:null!=W.xb("quests")?W.xb("quests"):2,settingsupdate:null!=W.xb("settings")?W.xb("settings"):2,scriptsupdate:null!=W.xb("scripts")?W.xb("scripts"):2})};
v.uX=function(a){!0!=a&&!1!=a||s.localStorage.setItem("mapedit_saveonexit",a)};v.jT=function(){return null==s.localStorage.getItem("mapedit_saveonexit")?!1:s.localStorage.getItem("mapedit_saveonexit")};v.QX=function(a,c){s.localStorage.setItem("savedcredentials",JSON.stringify({user:a,pass:c}))};v.GK=function(a){s.localStorage.setItem("autologin",JSON.stringify(a))};v.uJ=function(){var a=s.localStorage.getItem("autologin");return null!=a?JSON.parse(a):!1};
v.AJ=function(){return s.localStorage.getItem("savedcredentials")?!0:!1};v.IT=function(){var a=s.localStorage.getItem("savedcredentials");return a?JSON.parse(a):!1};ListView=r.Ih.extend({xl:null,k:null,Iw:null,ox:!1,qi:null,Gn:null,GL:null,GD:function(){if(this.k){this.Gn&&(this.Gn.K(),this.qi.K());var a=this.k.Zc();a.height<this.k.c().height&&(a=this.k.c(),this.ox=!0);this.xl=[];for(var c=0,d=0;d<this.k.Qc();d++){var e=this.k.fd(d),c=c+e.height;this.xl[d]=r.D.create();this.xl[d].S(e);this.xl[d].m(r.a(0,a.height-c));this.xl[d].G(r.a(0,1));this.f(this.xl[d]);this.xl[d].f(this.k.ed(d))}this.oq(-300);this.dE(0);!1==this.ox&&(this.Gn=r.aa.create(r.h(0,0,0,255),1,
this.k.c().height),this.Gn.m(r.a(this.k.c().width+20,0)),this.qi=r.aa.create(r.h(90,90,255,255),20,this.k.c().height/5),this.qi.m(r.a(this.k.c().width+10,0)),this.k.f(this.Gn),this.k.f(this.qi),this.Kl(r.a(0,this.Zs().y),!1));this.k.m(this.GL)}},r:function(a){this.k=a;this.G(r.a(0,0));this.GL=r.a(a.q.H,a.q.M);this.Up(this.k.c(),this.k);this.OK(r.Dq);this.VW(!1);a=this.k.Zc();var c=r.D.create();c.S(a);this.ZW(c)},hd:function(a){this.Iw=a},MD:!1,Kx:null,tc:function(a){if(!this.k.gi)return!1;for(var c=
0;c<this.k.Qc();c++)this.k.gi(c).n(r.h(255,255,255,255));this.k.gi(a).n(r.h(255,0,0,255))},lb:function(a){for(var c=a.L,d=0;d<this.k.Qc();d++)for(var e in this.Iw[d]){var f=this.xl[d].Ia(c),g=this.k.Ia(c);g.x+=this.k.q.H;Q(this.k,g);if(Q(this.Iw[d][e],f))return this.k.bc(this.Iw[d][e].Xb,d,a),this.MD=!0}if(!1==this.ox){a=this.k.Ia(c);if(Q(this.qi,a))return this.Kx=a.y-this.qi.q.M,!0;console.log("TURNING OFF SCROLOL");this.Kx=null}},xd:function(a){if(!0==this.MD)return this.MD=!1;if(!1==this.ox){var c=
a.L;if(null!=this.Kx&&(c=this.k.Ia(c),c.y-=this.Kx,0<=c.y&&c.y+this.qi.c().height<=this.k.c().height))return a=c.y/(this.Gn.c().height-this.qi.c().height),this.Kl(r.a(0,this.nn().y*a),!1),this.qi.Bc(c.y),!0;c=this._super(a);a=this.HI().y/this.nn().y;this.qi.Bc((this.Gn.c().height-this.qi.c().height)*a);return c}}});ListView.create=function(a){var c=new ListView;c.r(a);c.GD();return c};var Oa=r.D.extend({Ae:null,Be:null,Ce:null,Ge:null,He:null,Sd:null,item:null,re:null,se:null,ue:null,te:null,position:null,mf:null,type:null,Wa:null,ctor:function(){this._super()},r:function(){this._super();this.mf=r.P.create("","Arial",16);this.mf.G(0.5,0.5);this.mf.m(16,-16);this.mf.ra(0);this.mf.n(r.l(0,0,0));this.f(this.mf,900);this.item=[];this.Wa=[];this.nj(0)},mR:function(a){this.sk(a.sprite.texture,a.sprite.position,"item");for(var c=0;c<ObjectLists.Cf().length;c++)if(a.name==ObjectLists.Cf()[c].name){this.Vx({id:c,
data:{amount:a.amount}},!0);break}this.nj(4)},uD:function(){this.Wa[this.Wa.length-1].temp&&(this.item[this.item.length-1].K(),this.item.splice(this.item.length-1,1),this.CV())},sk:function(a,c,d){a=r.A.bb(r.ea.e().pa(a));a.Ub(r.rect(Math.floor(32*c.x),Math.floor(32*c.y),32,32));a.n(r.h(255,255,255,255));a.G(0,1);switch(d){case "ground1":null!=this.Ae&&this.Ae.K();this.Ae=a;this.f(this.Ae);break;case "ground2":null!=this.Be&&this.Be.K();this.Be=a;this.f(this.Be,1);break;case "groundShadow":null!=
this.Ce&&this.Ce.K();this.Ce=a;this.f(this.Ce,2);break;case "mask1":null!=this.Ge&&this.Ge.K();this.Ge=a;this.f(this.Ge,3);break;case "mask2":null!=this.He&&this.He.K();this.He=a;this.f(this.He,4);break;case "mask3":null!=this.Sd&&this.Sd.K();this.Sd=a;this.f(this.Sd,5);break;case "item":this.item.push(a);this.f(this.item[this.item.length-1],6);break;case "fringe1":null!=this.re&&this.re.K();this.re=a;this.f(this.re,7);break;case "fringe2":null!=this.se&&this.se.K();this.se=a;this.f(this.se,8);break;
case "fringeShadow":null!=this.ue&&this.ue.K();this.ue=a;this.f(this.ue,9);break;case "fringe3":null!=this.te&&this.te.K(),this.te=a,this.f(this.te,10)}},Mg:function(){var a=!0;if(null!=this.Ae&&this.Ae.da()&&!1==this.Ae.da().vc)a=!1;else if(null!=this.Be&&this.Be.da()&&!1==this.Be.da().vc)a=!1;else if(null!=this.Ce&&this.Ce.da()&&!1==this.Ce.e7)a=!1;else if(null!=this.Ge&&this.Ge.da()&&!1==this.Ge.da().vc)a=!1;else if(null!=this.He&&this.He.da()&&!1==this.He.da().vc)a=!1;else if(null!=this.Sd&&this.Sd.da()&&
!1==this.Sd.da().vc)a=!1;else if(0<this.item.length)for(var c in this.item)this.item[c].da()&&!1==this.item[c].da().vc&&(a=!1);else null!=this.re&&this.re.da()&&!1==this.re.da().vc?a=!1:null!=this.se&&this.se.da()&&!1==this.se.da().vc?a=!1:null!=this.ue&&this.ue.da()&&!1==this.ue.da().vc?a=!1:null!=this.te&&this.te.da()&&!1==this.te.da().vc&&(a=!1);return a},Fd:function(){null!=this.Ae&&this.Ae.K();this.Ae=null;null!=this.Be&&this.Be.K();this.Be=null;null!=this.Ce&&this.Ce.K();this.Ce=null;null!=
this.Ge&&this.Ge.K();this.Ge=null;null!=this.He&&this.He.K();this.He=null;null!=this.Sd&&this.Sd.K();this.Sd=null;for(var a=0;a<this.item.length;a++)this.item[a].K();this.item=[];this.Sd=null;null!=this.re&&this.re.K();this.re=null;null!=this.se&&this.se.K();this.se=null;null!=this.ue&&this.ue.K();this.ue=null;null!=this.te&&this.te.K();this.te=null;this.nj(0);this.Wa=[];this.item=[]},qC:function(a){switch(a){case "ground1":null!=this.Ae&&this.Ae.K();this.Ae=null;break;case "ground2":null!=this.Be&&
this.Be.K();this.Be=null;break;case "groundShadow":null!=this.Ce&&this.Ce.K();this.Ce=null;break;case "mask1":null!=this.Ge&&this.Ge.K();this.Ge=null;break;case "mask2":null!=this.He&&this.He.K();this.He=null;break;case "mask3":null!=this.Sd&&this.Sd.K();this.Sd=null;break;case "item":for(a=0;a<this.item.length;a++)this.item[a].K(),this.item[a].splice(a,1),a--;this.item=[];break;case "fringe1":null!=this.re&&this.re.K();this.re=null;break;case "fringe2":null!=this.se&&this.se.K();this.se=null;break;
case "fringeShadow":null!=this.ue&&this.ue.K();this.ue=null;break;case "fringe3":null!=this.te&&this.te.K(),this.te=null}},nj:function(a){this.type=a;switch(this.type){case 0:this.mf.ha("");break;case 1:this.mf.ha("BLK");break;case 2:this.mf.ha("SPW");break;case 3:this.mf.ha("WRP");break;case 4:this.mf.ha("ITM");break;case 5:this.mf.ha("NPC");break;case 6:this.mf.ha("SKL");break;case 7:this.mf.ha("SGN")}},Vx:function(a,c){c||(c=!1);this.Wa.push({num:parseInt(a.id),data:a.data,temp:c})},CV:function(){this.Wa.splice(this.Wa.length-
1,1);0==this.Wa.length&&this.nj(0)},Js:function(){return this.Wa[this.Wa.length-1]},Mp:function(){switch(this.type){case 3:return ObjectLists.hn()[this.Wa[this.Wa.length-1].num];case 4:var a=ObjectLists.Cf()[this.Wa[this.Wa.length-1].num];a.amount=parseInt(this.Wa[this.Wa.length-1].data.amount);return a;case 7:return ObjectLists.Ks()[this.Wa[this.Wa.length-1].num];case 5:return ObjectLists.rl()[this.Wa[this.Wa.length-1].num]}},gf:function(){switch(this.type){case 3:return ObjectLists.hn()[this.Wa[this.Wa.length-
1].num]?ObjectLists.hn()[this.Wa[this.Wa.length-1].num]:null;case 4:return ObjectLists.Cf()[this.Wa[this.Wa.length-1].num]?ObjectLists.Cf()[this.Wa[this.Wa.length-1].num]:null;case 5:return ObjectLists.rl()[this.Wa[this.Wa.length-1].num]?ObjectLists.rl()[this.Wa[this.Wa.length-1].num]:null}},VX:function(a){this.mf.ra(!0==a?255:0)},sc:function(){return this.type}});Oa.Fy=function(a,c){var d=new Oa;d.r();d.position=r.a(a,c);return d};StatsController=r.A.extend({data:null,lx:null,k:null,r:function(a,c){this.data=a;this.k=c;this.IW()},update:function(){for(var a in this.data)this.lx&&(0==this.data[a].value&&0<this.lx[a]&&this.k.ada(a),this.data[a].Rc>this.lx[a].Rc&&this.k.cda(a)),this.lx[a]=this.data[a]},W6:function(a){return this.data[a].value},V6:function(a){return this.data[a].Rc},B9:function(a,c){this.data[a].value+=c;this.data[a].value>this.data[a].cg&&(this.data[a].value=this.data[a].cg);0>this.data[a].value&&(this.data[a].value=
0)},TR:function(a,c){this.data[a].value=c;this.data[a].value>this.data[a].cg&&(this.data[a].value=this.data[a].cg);0>this.data[a].value&&(this.data[a].value=0)},A9:function(a,c){this.data[a].Rc+=c;this.data[a].Rc>this.data[a].bg&&(this.data[a].Rc=this.data[a].bg);0>this.data[a].Rc&&(this.data[a].Rc=0)},TR:function(a,c){this.data[a].Rc=c;this.data[a].Rc>this.data[a].bg&&(this.data[a].Rc=this.data[a].bg);0>this.data[a].Rc&&(this.data[a].Rc=0)},N2:function(a,c){this.data[a].bg=c},O2:function(a,c){this.data[a].cg=
c}});ObjectLists=r.Ea.extend({DE:null,hD:null,jE:null,iE:null,lD:null,yD:null,PD:null});var X;ObjectLists.e=function(){X||(X=new ObjectLists,X.DE=v.NT(),X.hD=v.gT(),X.jE=v.ET(),X.iE=v.CT(),X.lD=v.oT(),X.yD=v.sl(),X.PD=v.gf());return X};ObjectLists.hn=function(){return X.DE};ObjectLists.bY=function(a){X.DE=a};ObjectLists.Cf=function(){return X.hD};ObjectLists.rX=function(a){X.hD=a};ObjectLists.wh=function(){return X.jE};ObjectLists.UX=function(a){X.jE=a};ObjectLists.Ks=function(){return X.iE};
ObjectLists.TX=function(a){X.iE=a};ObjectLists.rl=function(){return X.lD};ObjectLists.zX=function(a){X.lD=a};ObjectLists.Lp=function(){return X.yD};ObjectLists.OX=function(a){X.yD=a};ObjectLists.aj=function(){return X.PD};ObjectLists.SX=function(a){X.PD=a};gameMapInstance=null;
var E=r.Vc.extend({Xd:null,v:null,Ng:!1,Sn:null,vn:null,vD:null,jn:null,Bl:null,yl:null,zl:null,Al:null,Q:r.a(0,0),Xi:1,yC:function(a,c){function d(a,c){return{rN:a,value:c.x+c.y*U,x:c.x,y:c.y,Vw:0,o:0}}function e(a,c){var d=c-1,e=c+1,g=a+1,h=a-1,k=-1<d&&f.v["tile"+V(a,d)]&&1!=f.v["tile"+V(a,d)].sc()&&7!=f.v["tile"+V(a,d)].sc();myS=e<U&&f.v["tile"+V(a,e)]&&1!=f.v["tile"+V(a,e)].sc()&&7!=f.v["tile"+V(a,e)].sc();myE=g<U&&f.v["tile"+V(g,c)]&&1!=f.v["tile"+V(g,c)].sc()&&7!=f.v["tile"+V(g,c)].sc();myW=
-1<h&&f.v["tile"+V(h,c)]&&1!=f.v["tile"+V(h,c)].sc()&&7!=f.v["tile"+V(h,c)].sc();result=[];k&&result.push({x:a,y:d});myE&&result.push({x:g,y:c});myS&&result.push({x:a,y:e});myW&&result.push({x:h,y:c});return result}for(var f=this,g=d(null,c),h,k,l,m,n,p=[],q=[],u=[d(null,a)],w=Array(Pa*U);h=u.length;){k=Pa*U;l=-1;for(m=0;m<h;m++)u[m].Vw<k&&(k=u[m].Vw,l=m);k=u.splice(l,1)[0];if(k.value===g.value){l=q[q.push(k)-1];do p.push(r.a(l.x,l.y));while(l=l.rN);w=q=u=[];p.reverse()}else{h=e(k.x,k.y);m=0;for(n=
h.length;m<n;m++)l=d(k,h[m]),w[l.value]||(l.o=k.o+(Math.abs(h[m].x-k.x)+Math.abs(h[m].y-k.y)),l.Vw=l.o+(Math.abs(h[m].x-g.x)+Math.abs(h[m].y-g.y)),u.push(l),w[l.value]=!0);q.push(k)}}return p},fY:function(a){this.Xd={};this.Xd.mapdata={};for(var c in this.v)"tile"==c.substring(0,4)&&(this.v[c].Fd(),this.Xd[c]={});if(a)for(c in this.Xd=a,a)if("tile"==c.substring(0,4))for(var d in a[c])"info"!=d?null!=a[c][d]&&this.v[c].sk(a[c][d].texture,a[c][d].frame,d):(this.v[c].nj(a[c][d].type),a[c][d].script&&
this.v[c].Vx(a[c][d].script),4==a[c][d].type&&this.v[c].gf()&&this.v[c].sk(this.v[c].gf().sprite.texture,this.v[c].gf().sprite.position,"item"),5==a[c][d].type&&this.v[c].gf()&&A.OH(this.v[c].gf(),r.a(this.v[c].q.x/32,this.v[c].q.y/32),this.Xi));else"mapdata"==c&&(this.Bl=""!=a[c].mapConnectors.up&&null!=a[c].mapConnectors.up?a[c].mapConnectors.up:null,this.yl=""!=a[c].mapConnectors.down&&null!=a[c].mapConnectors.down?a[c].mapConnectors.down:null,this.zl=""!=a[c].mapConnectors.left&&null!=a[c].mapConnectors.left?
a[c].mapConnectors.left:null,this.Al=""!=a[c].mapConnectors.right&&null!=a[c].mapConnectors.right?a[c].mapConnectors.right:null);this.cc(this.AD)},Ol:function(a){console.log("SETTING UP "+a);A.e().B(!1);a=v.iT(a);this.Xd={};this.Xd.mapdata={};for(var c in this.v)"tile"==c.substring(0,4)&&(this.v[c].Fd(),this.Xd[c]={});if(a)for(c in this.Xd=a,a)if("tile"==c.substring(0,4))for(var d in a[c])"info"!=d?null!=a[c][d]&&this.v[c].sk(a[c][d].texture,a[c][d].frame,d):(this.v[c].nj(a[c][d].type),a[c][d].script&&
this.v[c].Vx(a[c][d].script),4==a[c][d].type&&this.v[c].gf()&&this.v[c].sk(this.v[c].gf().sprite.texture,this.v[c].gf().sprite.position,"item"),5==a[c][d].type&&this.v[c].gf()&&A.OH(this.v[c].gf(),r.a(this.v[c].q.x/32,this.v[c].q.y/32),this.Xi));else"mapdata"==c&&(this.Bl=""!=a[c].mapConnectors.up&&null!=a[c].mapConnectors.up?a[c].mapConnectors.up:null,this.yl=""!=a[c].mapConnectors.down&&null!=a[c].mapConnectors.down?a[c].mapConnectors.down:null,this.zl=""!=a[c].mapConnectors.left&&null!=a[c].mapConnectors.left?
a[c].mapConnectors.left:null,this.Al=""!=a[c].mapConnectors.right&&null!=a[c].mapConnectors.right?a[c].mapConnectors.right:null);this.cc(this.AD)},AD:function(){for(var a in this.v)if("tile"==a.substring(0,4)&&!1==this.v[a].Mg())return;A.e().B(!0);A.vk();this.Uc(this.AD);this.vn.B(!0);this.Sn.B(!0);this.Ng=!0},zc:function(){for(var a={},c=0;c<U;c++)for(var d=0;d<Pa;d++)a["tile"+(c+d*U)]={size:r.size(32,32),d:r.a(0,0),position:r.a(32*c,32*(Pa-d)),EU:!0,DY:r.a(d,c),visible:!1};return{panels:{children:a}}},
r:function(){this.Yb(!0);this.dE(1)},lb:function(a){!this.jn||Mapeditor&&Mapeditor.V||(this.jn=Mapeditor=null);if(this.jn)for(var c in this.v)"tile"==c.substring(0,4)&&r.cb(this.v[c].Ya(),r.a(a.L.x-this.Q.x,a.L.y+32-this.Q.y))&&(this.jn.ML(this.v,c),E.zt());else for(c in this.v)if("tile"==c.substring(0,4)&&r.cb(this.v[c].Ya(),r.a(a.L.x-this.Q.x,a.L.y+32-this.Q.y)))if(4==this.v[c].sc()){var d=z["Item Dropdown Pick Up"]+"",e=z["Item Dropdown Walk To"]+"",d=d.replace("\x3cITEM\x3e",this.v[c].gf().name),
e=e.replace("\x3cITEM\x3e",this.v[c].gf().name);this.V.f(DropDownList.ud(this,this.HU,[d,e],a.L));this.Fg=c}else 7==this.v[c].sc()?(d=z["Sign Dropdown list Read"]+"",d=d.replace("\x3cSIGN\x3e",this.v[c].Mp().name),this.V.f(DropDownList.ud(this,this.oY,[d],a.L)),this.Fg=c):1!=this.v[c].sc()&&7!=this.v[c].sc()&&4!=this.v[c].sc()&&(d=A.s.Z.xe(),A.s.Z.gE(this.yC(r.a(Math.floor(d.x),Math.ceil(d.y)),r.a(this.v[c].q.x/32,this.v[c].q.y/32))));return!0},Fg:null,HU:function(a){if(null!=this.k.Fg){var c=A.s.Z.xe(),
d=r.a(gameMapInstance.v[gameMapInstance.Fg].q.x/32,gameMapInstance.v[gameMapInstance.Fg].q.y/32);switch(a){case 0:a=c.x>d.x?c.x-d.x:d.x-c.x;c=c.y>d.y?c.y-d.y:d.y-c.y;5>Math.sqrt(a*a+c*c)?A.s.Z.qJ(gameMapInstance.v[gameMapInstance.Fg]):(c=z["Item Out-of-range"]+"",c=c.replace("\x3cITEM\x3e",this.k.v[gameMapInstance.Fg].gf().name),C.Ib(c));break;case 1:A.s.Z.gE(gameMapInstance.yC(r.a(Math.floor(c.x),Math.ceil(c.y)),d)),this.k.Fg=null}}},oY:function(a){if(null!=this.k.Fg){var c=A.s.Z.xe(),d=r.a(gameMapInstance.v[gameMapInstance.Fg].q.x/
32,gameMapInstance.v[gameMapInstance.Fg].q.y/32);switch(a){case 0:a=c.x>d.x?c.x-d.x:d.x-c.x,c=c.y>d.y?c.y-d.y:d.y-c.y,5>Math.sqrt(a*a+c*c)?A.s.Z.qJ(gameMapInstance.v[gameMapInstance.Fg]):(c=z["Sign Out-of-range"]+"",c=c.replace("\x3cSIGN\x3e",this.k.v[gameMapInstance.Fg].Mp().name),C.Ib(c))}}},xd:function(a){if(this.jn){for(var c in this.v)"tile"==c.substring(0,4)&&r.cb(this.v[c].Ya(),r.a(a.L.x-this.Q.x,a.L.y+32-this.Q.y))&&(this.jn.ML(this.v,c,"moved"),E.zt());return!0}for(c in this.v)if("tile"==
c.substring(0,4)&&1!=this.v[c].sc()&&7!=this.v[c].sc()&&4!=this.v[c].sc()&&r.cb(this.v[c].Ya(),r.a(a.L.x-this.Q.x,a.L.y+32-this.Q.y))){var d=A.s.Z.xe();A.s.Z.gE(this.yC(r.a(Math.floor(d.x),Math.ceil(d.y)),r.a(this.v[c].q.x/32,this.v[c].q.y/32)))}},sa:function(){this._super();if(!0==this.Ng){this.Sn.fC(0,0,0,0);for(var a in this.v)"tile"==a.substring(0,4)&&(this.v[a].B(!0),null!=this.v[a].re&&this.v[a].re.B(!1),null!=this.v[a].se&&this.v[a].se.B(!1),null!=this.v[a].ue&&this.v[a].ue.B(!1),null!=this.v[a].te&&
this.v[a].te.B(!1),this.v[a].sa(),null!=this.v[a].re&&this.v[a].re.B(!0),null!=this.v[a].se&&this.v[a].se.B(!0),null!=this.v[a].ue&&this.v[a].ue.B(!0),null!=this.v[a].te&&this.v[a].te.B(!0),this.v[a].B(!1));this.Sn.end();this.vn.fC(0,0,0,0);for(a in this.v)if("tile"==a.substring(0,4)){this.v[a].B(!0);null!=this.v[a].Ae&&this.v[a].Ae.B(!1);null!=this.v[a].Be&&this.v[a].Be.B(!1);null!=this.v[a].Ce&&this.v[a].Ce.B(!1);null!=this.v[a].Ge&&this.v[a].Ge.B(!1);null!=this.v[a].He&&this.v[a].He.B(!1);null!=
this.v[a].Sd&&this.v[a].Sd.B(!1);for(var c=0;c<this.v[a].item.length;c++)this.v[a].item[c].B(!1);this.v[a].sa();null!=this.v[a].Ae&&this.v[a].Ae.B(!0);null!=this.v[a].Be&&this.v[a].Be.B(!0);null!=this.v[a].Ce&&this.v[a].Ce.B(!0);null!=this.v[a].Ge&&this.v[a].Ge.B(!0);null!=this.v[a].He&&this.v[a].He.B(!0);null!=this.v[a].Sd&&this.v[a].Sd.B(!0);for(c=0;c<this.v[a].item.length;c++)this.v[a].item[c].B(!0);this.v[a].B(!1)}this.vn.end();this.Ng=!1}}});
E.my=function(a,c){0<=gameMapInstance.Q.x+(T.width-Y.width/2)+a&&A.s.Z.q.x<T.width-Y.width/2&&0>=gameMapInstance.Q.x+a&&A.s.Z.q.x>Y.width/2&&(gameMapInstance.Q.x+=a);0<=gameMapInstance.Q.y+(T.height-Y.height/2)+c&&A.s.Z.q.y<T.height-Y.height/2&&0>=gameMapInstance.Q.y+c&&A.s.Z.q.y>Y.height/2&&(gameMapInstance.Q.y+=c);gameMapInstance.m(gameMapInstance.Q.x,gameMapInstance.Q.y)};
E.Op=function(a,c){a=parseInt(a);c=parseInt(c);!0==gameMapInstance.Ng?0==offsetFromPositionScheduledX&&0==offsetFromPositionScheduledY&&(offsetFromPositionScheduledX=a,offsetFromPositionScheduledY=c,gameMapInstance.cc(E.CK)):(gameMapInstance.Q.x=a>T.width-Y.width/2?-(T.width-Y.width):a<Y.width/2?0:-(a-Y.width/2),gameMapInstance.Q.y=c>T.height-Y.height/2?-(T.height-Y.height):c<Y.height/2?0:-(c-Y.height/2),offsetFromPositionScheduledY=offsetFromPositionScheduledX=0,gameMapInstance.Uc(E.CK),gameMapInstance.m(gameMapInstance.Q.x,
gameMapInstance.Q.y))};offsetFromPositionScheduledY=offsetFromPositionScheduledX=0;E.CK=function(){E.Op(offsetFromPositionScheduledX,offsetFromPositionScheduledY)};E.MC=function(){!0==gameMapInstance.Ng?gameMapInstance.cc(E.MC):(gameMapInstance.Uc(E.MC),gameMapInstance.Q.x=-(T.width-Y.width),gameMapInstance.m(gameMapInstance.Q.x,gameMapInstance.Q.y))};
E.LC=function(){!0==gameMapInstance.Ng?gameMapInstance.cc(E.LC):(gameMapInstance.Uc(E.LC),gameMapInstance.Q.x=0,gameMapInstance.m(gameMapInstance.Q.x,gameMapInstance.Q.y))};E.KC=function(){!0==gameMapInstance.Ng?gameMapInstance.cc(E.KC):(gameMapInstance.Uc(E.KC),gameMapInstance.Q.y=-(T.height-Y.height),gameMapInstance.m(gameMapInstance.Q.x,gameMapInstance.Q.y))};
E.NC=function(){!0==gameMapInstance.Ng?gameMapInstance.cc(E.NC):(gameMapInstance.Uc(E.NC),gameMapInstance.Q.y=0,gameMapInstance.m(gameMapInstance.Q.x,gameMapInstance.Q.y))};
E.create=function(){gameMapInstance||(gameMapInstance=new E,gameMapInstance.v=Ia(gameMapInstance),gameMapInstance.f(gameMapInstance.v),gameMapInstance.Sn=r.Cb.create(T.width,T.height),gameMapInstance.Sn.m(r.a(Math.floor(T.width/2),Math.floor(T.height/2))),gameMapInstance.f(gameMapInstance.Sn),gameMapInstance.Sn.B(!1),gameMapInstance.vD=r.D.create(),gameMapInstance.f(gameMapInstance.vD),gameMapInstance.vn=r.Cb.create(T.width,T.height),gameMapInstance.vn.m(r.a(Math.floor(T.width/2),Math.floor(T.height/
2))),gameMapInstance.f(gameMapInstance.vn),gameMapInstance.vn.B(!1),gameMapInstance.oq(-15),gameMapInstance.r());return gameMapInstance};E.e=function(){return gameMapInstance};E.jt=function(){gameMapInstance.K();gameMapInstance=null};E.zt=function(){gameMapInstance||(gameMapInstance=E.create());gameMapInstance.Ng=!0};E.gY=function(a){gameMapInstance.fY(a)};E.e=function(){return gameMapInstance};E.sk=function(a,c,d,e){gameMapInstance.v[a].sk(c,d,e);gameMapInstance.Xd[a][e]={texture:c,frame:d}};
E.XL=function(){A.rC();I({savemap:gameMapInstance.Xi,mapdata:gameMapInstance.Xd})};E.qC=function(a,c){gameMapInstance.Xd[a][c]=null;gameMapInstance.v[a].qC(c)};E.mj=function(a,c,d,e){gameMapInstance.v[a].nj(c);null!=d&&"undefined"!==d?(gameMapInstance.v[a].Vx(d,e),gameMapInstance.Xd[a].info={type:c,script:{id:d+"",data:null!=e&&"undefined"!==e?e:null}}):gameMapInstance.Xd[a].info={type:c}};
E.ZK=function(a){gameMapInstance.Xd.mapdata.mapConnectors=a;gameMapInstance.Bl=a.up;gameMapInstance.yl=a.down;gameMapInstance.zl=a.left;gameMapInstance.Al=a.right};E.SS=function(a,c,d){for(var e in gameMapInstance.v)"tile"==e.substring(0,4)&&(gameMapInstance.v[e].sk(a,c,d),gameMapInstance.Xd[e][d]={texture:a,frame:c})};E.kL=function(a){for(var c in gameMapInstance.v)"tile"==c.substring(0,4)&&gameMapInstance.v[c].VX(a);SkillBarsInstance.B(!a);Z.B(!a);gameMapInstance.Ng=!0};
E.rca=function(){for(var a in gameMapInstance.v)"tile"==a.substring(0,4)&&gameMapInstance.v[a].mf.ha(a.substring(4));gameMapInstance.Ng=!0};E.bJ=function(){return null!=gameMapInstance.Bl};E.$I=function(){return null!=gameMapInstance.yl};E.aJ=function(){return null!=gameMapInstance.zl};E.PC=function(){return null!=gameMapInstance.Al};E.wd=function(){return gameMapInstance.Xi};E.NI=function(){return gameMapInstance.Bl};E.LI=function(){return gameMapInstance.yl};E.MI=function(){return gameMapInstance.zl};
E.DC=function(){return gameMapInstance.Al};E.Np=function(a,c){c||(MapMaster=!1);A.e().B(!1);A.rC();E.Fd();gameMapInstance.Xi=a;A.s.Z.jq(a);A.vk();gameMapInstance.Ol(a)};E.TT=function(a){A.rC();E.Fd();gameMapInstance.Xi=a;gameMapInstance.Ol(a)};E.ST=function(){A.e().B(!1);E.Fd();gameMapInstance.Xi=gameMapInstance.Bl;A.s.Z.jq(gameMapInstance.Bl);A.vk();gameMapInstance.Ol(gameMapInstance.Bl)};
E.PT=function(){A.e().B(!1);E.Fd();gameMapInstance.Xi=gameMapInstance.yl;A.s.Z.jq(gameMapInstance.yl);A.vk();gameMapInstance.Ol(gameMapInstance.yl)};E.QT=function(){A.e().B(!1);E.Fd();gameMapInstance.Xi=gameMapInstance.zl;A.s.Z.jq(gameMapInstance.zl);A.vk();gameMapInstance.Ol(gameMapInstance.zl)};E.RT=function(){A.e().B(!1);E.Fd();gameMapInstance.Xi=gameMapInstance.Al;A.s.Z.jq(gameMapInstance.Al);A.vk();gameMapInstance.Ol(gameMapInstance.Al)};E.kt=function(a){gameMapInstance.jn=a};
E.ax=function(a,c){return a>U-1||0>a?void 0:gameMapInstance.v["tile"+(a+(Pa-c)*U)]};E.pT=function(a,c){for(var d in A.e().Td){var e=A.e().Td[d].xe();if(e.x==a&&e.y==c)return A.e().Td[d]}return null};E.UI=function(a){return gameMapInstance.v["tile"+a]};E.qR=function(){var a=A.e();gameMapInstance.vD.f(a);E.Op(A.s.Z.q.H,A.s.Z.q.M)};
E.Fd=function(){gameMapInstance.Xd={};for(var a in gameMapInstance.v)"tile"==a.substring(0,4)&&(gameMapInstance.v[a].Fd(),gameMapInstance.Xd[a]={});gameMapInstance.Xd.mapdata={};gameMapInstance.Ng=!0};var A=r.Vc.extend({s:null,kc:[],Td:[],Z:null});A.e=function(){return this.s};A.jt=function(){this.s.K();this.s=null};A.create=function(a){this.s||(this.s=new A,this.s.Z=PlayerCharacter.create(a),this.s.f(this.s.Z));return this.s};A.iN=function(){var a=E.wd(),c=[],d;for(d in this.s.Td)this.s.Td[d].eg==a&&c.push(this.s.Td[d]);return c};A.Ip=function(a){return this.s.Td[a]};A.XU=function(a,c,d){this.s.Td[a]&&"default"!=c&&this.s.Z.eg==d&&this.s.Td[a].$L(c)};
A.tW=function(a,c){this.s.Td[a]&&"default"!=c&&this.s.Td[a].m(r.a(c%U*32,32*Math.floor(c/U)))};A.rC=function(){for(var a in this.s.Td)this.s.Td[a].K();this.s.Td=[]};A.OH=function(a,c,d){var e=parseInt(this.s.Td.length);this.s.Td.push(NonPlayerCharacter.create({name:a.name,Nn:{health:{Rc:1,value:100,cg:200,bg:900},mana:{Rc:1,value:100,cg:200,bg:99}},map:d,tt:"sprites1.png",rt:a.sprite.number,vl:e,Wa:a.script}));this.s.Td[e].m(32*c.x,32*c.y);this.s.f(this.s.Td[e])};A.D7=function(){return this.s.Z};
A.ii=function(a){return this.s.kc[a]};A.pR=function(a){this.s.kc[a.id]=PlayerCharacter.create({name:a.id,Nn:{health:{Rc:1,value:100,cg:200,bg:900},mana:{Rc:1,value:100,cg:200,bg:99}},map:a.location.mapnumber,tt:"sprites1.png",rt:1});var c=a.location.position;this.s.kc[a.id].m(c%U*32,32*Math.floor(c/U));A.vk();this.s.f(this.s.kc[a.id]);c=z["Join Message"]+"";c=c.replace("\x3cPLAYER\x3e",a.id);C.Ib(c)};
A.jI=function(a){if(this.s.kc[a]){this.s.kc[a].K();this.s.kc[a]=null;var c=z["Leave Message"]+"",c=c.replace("\x3cPLAYER\x3e",a);C.Ib(c);for(c=0;c<t.length;c++){var d=JSON.parse(t[c]);d.id&&d.id==a&&(t.splice(c,1),c--)}}};
A.YU=function(a){console.log(a.location.position);if(this.s.kc[a.id])this.s.kc[a.id].$L(a.location.position);else{this.s.kc[id]=PlayerCharacter.create({name:a.id,Nn:{health:{Rc:1,value:100,cg:200,bg:900},mana:{Rc:1,value:100,cg:200,bg:99}},map:a.location.mapnumber,tt:"sprites1.png",rt:1});var c=a.location.position;this.s.kc[id].m(r.a(c%U*32,32*Math.floor(c/U)));A.vk();this.s.f(this.s.kc[a.id]);c=z["Join Message"]+"";c=c.replace("\x3cPLAYER\x3e",a.id);C.Ib(c)}};
A.EV=function(a){if(this.s.kc[a.id])this.s.kc[a.id].m(r.a(a.location.position%U*32,32*Math.floor(a.location.position/U)));else{this.s.kc[a.id]=PlayerCharacter.create({name:a.id,Nn:{health:{Rc:1,value:100,cg:200,bg:900},mana:{Rc:1,value:100,cg:200,bg:99}},map:a.location.mapnumber,tt:"sprites1.png",rt:1});var c=a.location.position;this.s.kc[a.id].m(r.a(c%U*32,32*Math.floor(c/U)));A.vk();this.s.f(this.s.kc[a.id]);C.Ib(a.id+J.we.AV)}};A.OR=function(a){this.s.kc[a]&&this.s.kc[a].updateStatus("AFK")};
A.vk=function(){var a=this.s.Z.eg,c;for(c in this.s.kc)null!=this.s.kc[c]&&this.s.kc[c].B(this.s.kc[c].eg==a)};A.Fd=function(){for(var a in this.s.kc)null!=this.s.kc[a]&&A.jI(a);this.s.Z.K();this.s.Z=null};A.NR=function(a,c){this.s.kc[a].jq(c);this.s.kc[a].B(this.s.Z.eg==c)};Character=r.A.extend({name:null,Nn:null,KL:null,l2:null,nf:null,Og:!1,qn:null,fy:null,ej:!1,vl:-1,status:null,eg:null,path:null,xC:"DOWN",r:function(a){this.XX(a.tt,a.rt);this.Nn=new StatsController(a.bda,this);this.f(this.Nn);this.name=a.name;a.Wa&&(this.Wa=a.Wa);a.ej&&(this.ej=a.ej);a.map&&(this.eg=a.map);null!=a.vl&&"undefined"!==a.vl&&(console.log(this.vl),this.vl=a.vl);this.G(0,1);this.qn=r.P.create("","Arial",12);this.qn.G(0.5,0);this.qn.n(255,0,0);this.qn.m(Math.floor(this.c().width/2),this.c().width+
3);this.f(this.qn);this.TL()},b5:function(){return this.xC},jq:function(a){this.eg=a},z5:function(){return this.eg},updateStatus:function(a){this.status=a&&a!=this.status?a:null;this.TL()},TL:function(){null!=this.status?this.qn.ha(this.name+"-"+this.status):this.qn.ha(this.name)},getName:function(){return this.name},Lf:function(a,c,d){this.Ub(r.rect(32*a,128*this.KL.id+32*c,32,32));this.fy=r.a(a,c);this.xC=d},xh:function(){return this.fy},XX:function(a,c){this.KL={name:a,id:c};this.ga(r.ea.e().pa(a));
this.Lf(1,0)},xe:function(){return r.a(this.q.x/32,this.q.y/32)},Dw:0.24,OY:0.24,ol:2,QY:function(a){var c=a.position%U,d=Math.floor(a.position/U);this.m(32*c,32*d);I({changemap:a.mapTo,setTo:a.position});E.Np(a.mapTo);E.Op(32*c,32*d)},AU:function(){if(!this.Og){var a=this.xe(),a=E.ax(a.x,a.y);switch(a.sc()){case 4:this.uD(a.Mp())}}},qJ:function(a){if(a&&!this.Og)switch(a.sc()){case 4:this.yV(a.Mp(),a);break;case 7:R.AL(a.Mp())}},zU:function(){if(!this.Og){var a=this.xe();switch(this.xC){case "RIGHT":a.x+=
1;break;case "LEFT":a.x-=1;break;case "UP":a.y+=1;break;case "DOWN":a.y-=1}var c=E.pT(a.x,a.y);if(c)Ra("Default Event",c);else if(a=E.ax(a.x,a.y))switch(a.sc()){case 7:R.AL(a.Mp())}}},Bt:function(a){this.Dw+=a;a=this.q;var c=this.xh();this.Dw>this.OY&&(this.Dw=0,this.nf.x<a.x?this.Lf((c.x+1)%3,1,"LEFT"):this.nf.x>a.x?this.Lf((c.x+1)%3,2,"RIGHT"):this.nf.y<a.y?this.Lf((c.x+1)%3,0,"DOWN"):this.nf.y>a.y&&this.Lf((c.x+1)%3,3,"UP"));this.nf.x<a.x?(this.yb(a.x-this.ol),this.ej&&E.my(+this.ol,0)):this.nf.x>
a.x?(this.yb(a.x+this.ol),this.ej&&E.my(-this.ol,0)):this.nf.y<a.y?(this.Bc(a.y-this.ol),this.ej&&E.my(0,this.ol)):this.nf.y>a.y&&(this.Bc(a.y+this.ol),this.ej&&E.my(0,-this.ol));a.y==this.nf.y&&a.x==this.nf.x&&(this.Og=!1,this.Uc(this.Bt),null!=this.path&&this.VH())},uq:function(a,c){if(!1!=this.la){var d=E.ax(a,c),e=this.fy,f=this.xe();f.x>a?this.Lf(e.x,1,"LEFT"):f.x<a&&this.Lf(e.x,2,"RIGHT");f.y>c?this.Lf(e.x,0,"DOWN"):f.y<c&&this.Lf(e.x,3,"UP");if(!d)this.ej&&null==Mapeditor&&(f.x<a&&E.PC()?(this.m(0,
32*c),I({changemap:parseInt(E.DC()),setTo:0+c*U}),E.RT(),E.LC()):f.x>a&&E.aJ()&&(this.m(32*(U-1),32*c),I({changemap:parseInt(E.MI()),setTo:U-1+c*U}),E.QT(),E.MC()),f.y<c&&E.bJ()?(this.m(32*a,32),I({changemap:parseInt(E.NI()),setTo:a+1*U}),E.ST(),E.NC()):f.y>c&&E.$I()&&(I({changemap:parseInt(E.LI()),setTo:a+Pa*U}),E.PT(),this.m(32*a,32*Pa),E.KC()));else if(!1==this.Og&&d){switch(d.sc()){case 1:case 7:return;case 3:this.QY(d.gf());return}this.nf=r.a(32*a,32*c);this.Og=!0;this.cc(this.Bt);this.Bt(0);
this.ej?I({moveTo:this.nf.x/32+this.nf.y/32*U}):-1<this.vl&&I({npcID:this.vl+"",mapnumber:this.eg,moveNPC:this.nf.x/32+this.nf.y/32*U})}}},VH:function(){0==this.path.length?this.path=null:(this.path.splice(0,1),0==this.path.length?this.path=null:this.uq(this.path[0].x,this.path[0].y))},gE:function(a){if(null==this.path||0!=a.length)this.path=a,this.VH()},$L:function(a){if(!1!=this.la){var c=a%U;a=Math.floor(a/U);if(!1==this.Og){var d=this.fy,e=this.xe();4<Math.abs(r.pD(r.a(c,a),e))?this.m(r.a(32*
c,32*a)):(e.x>c?this.Lf(d.x,1,"LEFT"):e.x<c?this.Lf(d.x,2,"RIGHT"):e.y>a?this.Lf(d.x,0,"DOWN"):e.y<a&&this.Lf(d.x,3,"UP"),this.nf=r.a(32*c,32*a),this.Og=!0,this.cc(this.Bt),this.Bt(0))}}}});
PlayerCharacter=Character.extend({items:null,vp:3,ei:null,Gl:null,r:function(a){this._super(a);this.ei=[];this.Gl=[];a.vp&&(this.vp=a.vp);this.items={stored:[],equipped:{}};if(a.position){var c=a.position%U,d=Math.floor(a.position/U);this.m(32*c,32*d);E.TT(a.map);E.Op(32*c,32*d);this.eg=a.map}a.rJ&&(this.items.stored=a.rJ);a.ei&&(this.ei=a.ei);a.Gl&&(this.Gl=a.Gl);if(a.tI){this.items.equipped=a.tI;for(var e in this.items.equipped)Qa("Default Event",this.items.equipped[e],{"Equip Item":!0,"Give /Take Item":!0,
"Warp Player":!0,"Read Item":!0,"Open/Close Panel":!0,Destroy:!0})}this.XR()},XR:function(){this.ei=[];I({saveUserExtra:[],name:this.getName()})},SK:function(a,c){this.ei[a]=c;I({saveUserExtra:this.ei,name:this.getName()})},II:function(a){return this.ei[a]?this.ei[a]:null},dL:function(a,c){this.Gl[a]=c},sl:function(a){return this.Gl[a]},xt:function(a,c){for(var d=0;d<this.items.stored.length;d++)this.items.stored[d]&&this.items.stored[d].name==a&&(this.items.stored[d]=c);console.log(this.items)},
uD:function(a){var c=this.xe(),d=E.ax(c.x,c.y);Qa("On Pickup",a);if(a){if(!0==a.stackable)for(var e=0;40>e;e++)if(this.items.stored[e]&&this.items.stored[e].name==a.name){Inventory&&(this.items.stored[e].amount+=a.amount,Inventory.ri(e,this.items.stored[e].amount));C.Ib(J.we.ux+a.name);d.Js().temp?I({pickupitem:V(c.x,c.y),mapnumber:E.wd(),temp:!0}):I({pickupitem:V(c.x,c.y),mapnumber:E.wd()});console.log(this.items);return}for(var f=!1,e=0;40>e;e++)if(null==this.items.stored[e]){this.items.stored[e]=
G(a);Inventory&&Inventory.ri(e,this.items.stored[e].amount);C.Ib(J.we.ux+a.name);d.Js().temp?I({pickupitem:V(c.x,c.y),mapnumber:E.wd(),temp:!0}):I({pickupitem:V(c.x,c.y),mapnumber:E.wd()});f=!0;break}!1==f&&C.Ib(J.we.sJ)}Inventory&&Inventory.ub();Equipment&&Equipment.ub()},yV:function(a,c){var d=r.a(c.q.H/32,c.q.M/32);Qa("On Pickup",c);if(a){if(!0==a.stackable)for(var e=0;40>e;e++)if(this.items.stored[e]&&this.items.stored[e].name==a.name){Inventory&&(this.items.stored[e].amount+=a.amount,Inventory.ri(e,
this.items.stored[e].amount));C.Ib(J.we.ux+a.name);c.Js().temp?I({pickupitem:V(d.x,d.y),mapnumber:E.wd(),temp:!0}):I({pickupitem:V(d.x,d.y),mapnumber:E.wd()});return}for(var f=!1,e=0;40>e;e++)if(null==this.items.stored[e]){this.items.stored[e]=G(a);Inventory&&Inventory.ri(e,this.items.stored[e].amount);C.Ib(J.we.ux+a.name);c.Js().temp?I({pickupitem:V(d.x,d.y),mapnumber:E.wd(),temp:!0}):I({pickupitem:V(d.x,d.y),mapnumber:E.wd()});f=!0;break}!1==f&&C.Ib(J.we.sJ)}Inventory&&Inventory.ub();Equipment&&
Equipment.ub()},vC:function(a,c){var d=this.xe();Qa("On Drop",this.items[c][a]);this.items[c][a]&&(C.Ib(J.we.JS+this.items[c][a].name),I({droppeditem:this.items[c][a],mapnumber:E.wd(),index:V(d.x,d.y)}),!0==this.items[c][a].stackable&&1<this.items[c][a].amount&&Inventory.ri(a,0),this.items[c][a]=null);Inventory&&Inventory.ub();Equipment&&Equipment.ub()},MY:function(a){Qa("Default Event",this.items.stored[a]);Inventory&&Inventory.ub();Equipment&&Equipment.ub()},vS:function(a){for(var c=0;40>c;c++)if(null==
this.items.stored[c]){this.items.stored[c]=G(this.items.equipped[a]);this.items.equipped[a]=null;Inventory&&Inventory.ub();Equipment&&Equipment.ub();Qa("On Dequip",this.items.stored[c]);return}C.Ib("No space in inventory to dequip this item.")},ql:function(){return this.items.stored},Hp:function(){return this.items.equipped}});PlayerCharacter.create=function(a){var c=new PlayerCharacter;c.r(a);return c};
NonPlayerCharacter=Character.extend({v9:null,vx:!1,MX:function(a,c){this.vx=!0;this.Fc(function(){this.uq(a.x,a.y);this.vx=!1},c)},G8:function(){return this.vx}});NonPlayerCharacter.create=function(a){var c=new NonPlayerCharacter;c.r(a);return c};var Sa=r.Vc.extend({OD:null,b:null,ctor:function(){this._super()},aM:function(){},Kn:function(){},ij:function(){},ma:function(){this.b&&this.b.K();this.b=Ia(this);this.f(this.b)},ta:function(){},r:function(){this.dE(1);this.Nx(!0);this.Yb(!0);x.In(this);this._super()},oD:function(){r.log("Override onKeyDown in scene extended class to use keyboard")},Dl:function(){r.log("Override onKeyUp in scene extended class to use keyboard")},pX:function(a){this.OD=a},yc:function(){return this.OD}});DropDownList=Sa.extend({list:null,lS:null,selected:null,b:null,k:null,hI:null,hK:null,pt:null,ctor:function(){this._super();this.list=[];this.lS=0},r:function(a,c,d,e){this._super();a&&(this.k=a,this.hI=c,d&&(this.list=d),e&&this.m(e),this.hK=x.YS(),x.In(this),this.oq(-1001),this.Nx(!0))},lb:function(a){for(var c=this.b.control_menu.Ia(a.L),d=0;d<this.list.length;d++)this.pt&&!0!=this.pt[d].enabled||r.cb(r.rect(this.b.control_menu[d+""].q.H,this.b.control_menu[d+""].q.M,this.b.control_menu[d+""].c().width,
this.b.control_menu[d+""].c().height),c)&&this.hI(d,a);this.LV();return!0},LV:function(){x.In(this.hK);this.K();Na()},uW:function(){this.Bc(this.q.M-24*this.list.length);for(var a=0,c=0;c<this.list.length;c++)this.b.control_menu[c+""].content.c().width>a&&(a=this.b.control_menu[c+""].content.c().width);for(c=0;c<this.list.length;c++)this.b.control_menu[c+""].ZH(a+8);this.b.control_menu.ZH(a+8)},zc:function(){for(var a={},c=0;c<this.list.length;c++)a[c+""]={position:r.a(0,24*(this.list.length-1)-24*
c),size:r.size(96,24),d:r.a(0,0),w:r.h(200,200,200,200),children:{content:{label:this.list[c],fontSize:20,color:r.l(0,0,0),d:r.a(0,0.5),position:r.a(4,12)}}};return{panels:{children:{control_menu:{position:r.a(0,0),w:r.h(200,200,200,0),size:r.size(96,48),children:a}}}}},ij:function(a){a=this.b.control_menu.Ia(a.L);for(var c=0;c<this.list.length;c++)this.b.control_menu[c+""].n(r.h(200,200,200,200)),this.pt&&!0!=this.pt[c].enabled||r.cb(r.rect(this.b.control_menu[c+""].q.H,this.b.control_menu[c+""].q.M,
this.b.control_menu[c+""].c().width,this.b.control_menu[c+""].c().height),a)&&this.b.control_menu[c+""].n(r.h(255,0,0,255))}});DropDownList.ud=function(a,c,d,e,f){var g=new DropDownList;g.r(a,c,d,e);g.b=Ia(g.zc(),!0);if(f){for(a=0;a<g.list.length;a++)!1==f[a].enabled&&g.b.control_menu[a+""].content.n(r.h(127,127,127,200));g.pt=f}g.f(g.b);g.uW();return g};Popup=Sa.extend({Vd:null,Ff:!1,r:function(){this.OD=this.yc();this._super();x.In(this);this.hY();this.oq(-50)},H3:function(){this.K()},lb:function(a){var c=a.L;x.In(this);c=this.b.control_panel.Ia(c);if(r.cb(r.rect(this.b.control_panel.exitBtn.q.H,this.b.control_panel.exitBtn.q.M,this.b.control_panel.exitBtn.c().width,this.b.control_panel.exitBtn.c().height),c)){var d=this;this.V.Fc(function(){!1==d.Ff&&d.ta();d.K();d=null});return!0}return r.cb(r.rect(this.b.q.x,this.b.q.y+this.b.control_panel.q.y,
this.b.control_panel.c().width,this.b.control_panel.c().height),a.L)?(this.Vd=this.b.bi(a),!0):!1},xd:function(a){return this.Vd?(a=a.L,this.b.m(r.a(a.x-this.Vd.x,a.y-this.Vd.y)),!0):!1},K:function(){v.HX(this.yc(),this.b.q);this._super()},hY:function(){r.log("Ovveride setupPopup")},yc:function(){r.log("No id given... using default 'Popup'");return"Popup"},Hf:function(){},ma:function(){this._super();var a=v.tT();if("null"!=a&&null!=a&&(a=JSON.parse(a)[this.yc()])){a=r.a(a.x,a.y);if(a.x>Y.width-10||
a.y>Y.height)a=r.a(8,100);this.b.m(a)}}});Book=null;
BookPanel=Popup.extend({name:null,content:null,w$:null,yc:function(){return"Book"},zc:function(){return{panels:{position:r.a(100,20),children:{main_panel:{d:r.a(0,0),position:r.a(0,0),size:r.size(512,138),X:"GUI/npctalk.png"},control_panel:{d:r.a(0,0),position:r.a(0,138),size:r.size(512,32),children:{header:{label:"NPC TALKIN",fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(488,6),size:r.size(20,20),d:r.a(0,0),X:"GUI/close.png"}}}}}}},r:function(){this._super()},ma:function(){this._super()},lb:function(a){if(this._super(a))return!0}});NpcChat=null;
NpcChatPanel=Popup.extend({name:null,content:null,Jw:null,Wa:null,uI:null,QJ:null,F:null,yc:function(){return"Book"},zc:function(){return{panels:{position:r.a(100,20),children:{main_panel:{d:r.a(0,0),position:r.a(0,0),size:r.size(512,138),X:"GUI/npctalk.png",children:{chatText:{label:this.content?this.content:"",d:r.a(0,1),position:r.a(138,134),color:r.l(0,0,0)},list:{size:r.size(320,80),position:r.a(154,4),d:r.a(0,0)}}},control_panel:{d:r.a(0,0),position:r.a(0,138),size:r.size(512,32),children:{header:{label:this.name?
this.name:"",fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(488,6),size:r.size(20,20),d:r.a(0,0),X:"GUI/close.png"}}}}}}},ib:function(){this.F&&this.F.ac();var a=[],c=[];r.ea.e();for(var d in this.Jw){a[d]=r.D.create();a[d].S(324,32);var e=r.aa.create(r.h(200,200,200,200),300,10);e.m(r.a(12,1));var f=r.P.create("\x3e"+this.Jw[d],"Arial",14);f.G(r.a(0,0));f.m(r.a(4,2));f.Ob(r.size(300,0));f.n(r.l(100,0,0));a[d].f(e);e.f(f);a[d].S(324,f.c().height+8);e.S(300,f.c().height+4);e.Xb=
"Use";c.push([e])}this.F=this.b.main_panel.list;var g=this;this.F.Zc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return r.size(324,c)};this.F.Qc=function(){return a.length};this.F.fd=function(c){return a[c].c()};this.F.ed=function(c){return a[c]};this.F.bc=function(a,c){switch(a){case "Use":Ra("On Talk Option Selected for event:"+g.uI+", option:"+c,g.QJ),R.iU()}};this.F.ca=ListView.create(this.F);this.F.ca.hd(c);this.F.f(this.F.ca)},r:function(a,c,d,e,f,g){this._super();this.name=
e;this.content=f;this.Wa=c;this.uI=d;this.QJ=a;g&&(this.Jw=g)},ma:function(){this._super();this.b.main_panel.chatText.Ob(r.size(350,0));this.Jw&&this.ib()},lb:function(a){if(this._super(a))return!0}});Equipment=null;
EquipmentPanel=Popup.extend({yc:function(){return"Equipment"},zc:function(){var a={};a.head={X:"GUI/defaultitem.png",position:r.a(88,162),size:r.size(32,32),d:r.a(0,1)};a.legs={X:"GUI/defaultitem.png",position:r.a(88,82),size:r.size(32,32),d:r.a(0,1)};a.feet={X:"GUI/defaultitem.png",position:r.a(88,40),size:r.size(32,32),d:r.a(0,1)};a.body={X:"GUI/defaultitem.png",position:r.a(88,122),size:r.size(32,32),d:r.a(0,1)};a.lArm={X:"GUI/defaultitem.png",position:r.a(48,122),size:r.size(32,32),d:r.a(0,1)};
a.rArm={X:"GUI/defaultitem.png",position:r.a(128,122),size:r.size(32,32),d:r.a(0,1)};a.mod={X:"GUI/defaultitem.png",position:r.a(8,162),size:r.size(32,32),d:r.a(0,1)};return{panels:{position:r.a(100,300),children:{main_panel:{d:r.a(0,0),size:r.size(168,168),X:"GUI/equipment.png",children:a},control_panel:{d:r.a(0,0),position:r.a(0,168),size:r.size(168,32),children:{header:{label:z["Equipment Header"],fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(144,6),size:r.size(20,20),d:r.a(0,
0),X:"GUI/close.png"}}},item_name:{position:r.a(0,0),w:r.h(200,200,200,200),size:r.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:r.l(0,0,0),d:r.a(0.5,0.5),position:r.a(32,8)}}}}}}},ub:function(){var a=A.s.Z.Hp();this.b.main_panel.head.ga(r.ea.e().pa("GUI/defaultitem.png"));this.b.main_panel.body.ga(r.ea.e().pa("GUI/defaultitem.png"));this.b.main_panel.legs.ga(r.ea.e().pa("GUI/defaultitem.png"));this.b.main_panel.feet.ga(r.ea.e().pa("GUI/defaultitem.png"));this.b.main_panel.lArm.ga(r.ea.e().pa("GUI/defaultitem.png"));
this.b.main_panel.rArm.ga(r.ea.e().pa("GUI/defaultitem.png"));this.b.main_panel.mod.ga(r.ea.e().pa("GUI/defaultitem.png"));for(var c in a)if(a[c]){for(var d in K)if(K[d].name==a[c].sprite.texture)var e=K[d].texture;this.b.main_panel[c].G(0,1);this.b.main_panel[c].ga(e);this.b.main_panel[c].Ub(r.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,32,32))}},mx:function(a){switch(a){case 0:A.s.Z.vS(this.k.gj);break;case 1:A.s.Z.vC(this.k.gj,"equipped")}},lb:function(a){if(this._super(a))return!0;
this.Vd=null;var c=this.b.main_panel.Ia(a.L),d=A.s.Z.Hp(),e;for(e in d)if(d[e]&&Q(this.b.main_panel[e],r.a(c.x,c.y+32)))return this.gj=e,this.b.item_name.B(!1),c=z["Item Dropdown Unequip"]+"",c=c.replace("\x3cITEM\x3e",A.s.Z.Hp()[e].name),d=z["Item Dropdown Drop"]+"",d=d.replace("\x3cITEM\x3e",A.s.Z.Hp()[e].name),this.f(DropDownList.ud(this,this.mx,[c,d],a.L)),!0},ij:function(a){a=this.b.main_panel.Ia(a.L);this.b.item_name.B(!1);var c=A.s.Z.Hp(),d;for(d in c)if(c[d]&&Q(this.b.main_panel[d],r.a(a.x,
a.y+32)))return this.b.item_name.content.ha(c[d].name),this.b.item_name.B(!0),this.b.item_name.S(this.b.item_name.content.c()),this.b.item_name.content.yb(this.b.item_name.content.c().width/2),this.b.item_name.m(r.a(this.b.main_panel[d].q.H-this.b.item_name.content.c().width/2+16,this.b.main_panel[d].q.M)),!0},ft:function(){this.b.main_panel.head.da()&&(this.Uc(this.ft),this.ub())},ma:function(){this._super();this.b.main_panel.head.da()?this.ub():this.cc(this.ft)}});Inventory=null;
InventoryPanel=Popup.extend({gj:null,gD:!1,yc:function(){return"Inventory"},zc:function(){for(var a={},c=0;5>c;c++)for(var d=0;8>d;d++)a[5*d+c+""]={size:r.size(32,32),position:r.a(40*c+8,40*(7-d)+40),X:"GUI/defaultitem.png",d:r.a(0,1),children:{stacklabelbg:{position:r.a(1,1),size:r.size(10,6),d:r.a(0,0),w:r.h(255,255,255,200),children:{stacklabel:{label:"",fontSize:10,color:r.l(0,0,0),d:r.a(0,0),position:r.a(0,0)}}}}};return{panels:{position:r.a(300,200),children:{main_panel:{d:r.a(0,0),X:"GUI/inventory.png",
size:r.size(208,328),children:a},control_panel:{d:r.a(0,0),position:r.a(0,328),size:r.size(208,32),children:{header:{label:z["Inventory Header"],fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(184,6),size:r.size(20,20),d:r.a(0,0),X:"GUI/close.png"}}},item_name:{position:r.a(0,0),w:r.h(200,200,200,200),size:r.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:r.l(0,0,0),d:r.a(0.5,0.5),position:r.a(32,8)}}}}}}},ri:function(a,c){this.b.main_panel[a+""].stacklabelbg.B(!1);
1<c&&(this.b.main_panel[a+""].stacklabelbg.B(!0),this.b.main_panel[a+""].stacklabelbg.stacklabel.ha(c),this.b.main_panel[a+""].stacklabelbg.S(this.b.main_panel[a+""].stacklabelbg.stacklabel.c()))},ub:function(){for(var a=A.s.Z.ql(),c=0;40>c;c++)if(a[c]){for(var d in K)if(K[d].name==a[c].sprite.texture)var e=K[d].texture;this.b.main_panel[c+""].G(0,1);this.b.main_panel[c+""].ga(e);this.b.main_panel[c+""].Ub(r.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,32,32));this.ri(c,a[c].amount)}else this.b.main_panel[c+
""].ga(r.ea.e().pa("GUI/defaultitem.png")),this.ri(c,0)},ft:function(){this.b.main_panel[Fa+""].da()&&(this.Uc(this.ft),this.ub())},ma:function(){this._super();this.b.main_panel[Fa+""].da()?this.ub():this.cc(this.ft)},mx:function(a){switch(a){case 0:!0==this.k.gD?A.s.Z.MY(this.k.gj):A.s.Z.vC(this.k.gj,"stored");break;case 1:A.s.Z.vC(this.k.gj,"stored")}this.k.gD=!1},lb:function(a){if(this._super(a))return!0;this.Vd=null;for(var c=this.b.main_panel.Ia(a.L),d=0;40>d;d++)if(A.s.Z.ql()[d]&&Q(this.b.main_panel[d+
""],r.a(c.x,c.y+32))){var e=A.s.Z.ql()[d],c=[];e.script&&(c=ObjectLists.aj()[e.script].data);for(var e=null,f=0;f<c.length;f++)if("Default Event"==c[f].type)for(var e="Use Item",g=c[f].responses,h=0;h<g.length;h++)switch(console.log(g[h].type),g[h].type){case "Equip Item":e=z["Item Dropdown Equip"]+"";break;case "Read Item":e=z["Item Dropdown Read"]+""}c=z["Item Dropdown Drop"]+"";c=c.replace("\x3cITEM\x3e",A.s.Z.ql()[d].name);e?(this.gD=!0,e=e.replace("\x3cITEM\x3e",A.s.Z.ql()[d].name),this.f(DropDownList.ud(this,
this.mx,[e,c],a.L))):this.f(DropDownList.ud(this,this.mx,[c],a.L));this.gj=d;this.b.item_name.B(!1);return!0}},ij:function(a){a=this.b.main_panel.Ia(a.L);for(var c=0;40>c;c++)if(A.s.Z.ql()[c]&&Q(this.b.main_panel[c+""],r.a(a.x,a.y+32)))return this.b.item_name.content.ha(A.s.Z.ql()[c].name),this.b.item_name.B(!0),this.b.item_name.S(this.b.item_name.content.c()),this.b.item_name.content.yb(this.b.item_name.content.c().width/2),this.b.item_name.m(r.a(this.b.main_panel[c+""].q.H-this.b.item_name.content.c().width/
2+16,this.b.main_panel[c+""].q.M)),!0}});Sign=null;
SignPanel=Popup.extend({data:null,yc:function(){return"Sign"},zc:function(){return{panels:{position:r.a(100,300),children:{control_panel:{d:r.a(0,0),size:r.size(128,96),X:"GUI/signpost.png",children:{content:{label:this.data.label,fontSize:12,color:r.l(255,255,255),d:r.a(0,1),position:r.a(4,94)},exitBtn:{position:r.a(100,6),size:r.size(20,20),d:r.a(0,0),X:"GUI/close.png"}}}}}}},r:function(a){this._super();this.data=a},ma:function(){this._super();this.b.control_panel.content.Ob(r.size(120,0))}});Quests=null;
QuestsPanel=Popup.extend({F:null,Tg:null,QD:null,yc:function(){return"Quests"},ib:function(){this.F&&this.F.ac();for(var a=[],c=[],d=r.ea.e(),e=0;e<this.data.length;e++)if(!(null==A.s.Z.sl(e)||"undefined"===A.s.Z.sl(e)&&1>A.s.Z.sl(e))){a[e]=r.aa.create(r.h(0,0,0,0),420,32);var f=r.aa.create(r.h(0,0,0,127),212,1);f.m(r.a(4,0));var g=r.P.create(this.data[e].name,"Arial",15);g.n(r.l(0,0,0));g.G(r.a(0,0));g.m(r.a(4,4));g.Ob(r.size(216,0));a[e].S(216,g.c().height+8);if(null!=this.QD&&this.QD==e){a[e]=
r.aa.create(r.h(100,0,0,255),216,g.c().height+8);var h=r.A.bb(d.pa("GUI/selected.png"));h.m(r.a(192,(g.c().height+8-20)/2));h.G(r.a(0,0));a[e].f(h);g.n(r.l(255,255,255))}a[e].f(f);a[e].f(g);a[e].Xb="Use";c.push([a[e]])}1>a.length&&(a[0]=r.aa.create(r.h(0,0,0,0),420,32),f=r.aa.create(r.h(0,0,0,127),212,1),f.m(r.a(4,0)),g=r.P.create("THERES NO QUESTS!","Arial",15),g.n(r.l(0,0,0)),g.G(r.a(0,0)),g.m(r.a(4,4)),g.Ob(r.size(216,0)),a[0].S(216,g.c().height+8),a[0].f(g),c.push([]));this.F=this.b.main_panel.list;
var k=this;this.F.Zc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return r.size(216,c)};this.F.Qc=function(){return a.length};this.F.fd=function(c){return a[c].c()};this.F.ed=function(c){return a[c]};this.F.bc=function(a,c){"Use"==a&&(k.QD=c,k.MV(c),k.ib())};this.F.ca=ListView.create(this.F);this.F.ca.hd(c);this.F.f(this.F.ca)},MV:function(a){this.Tg&&this.Tg.ac();var c=this.data[a].objectiveList,d=[],e=[];r.ea.e();if(0<A.s.Z.sl(a))for(var f=0;f<c.length;f++)if(!(A.s.Z.sl(a)<f)){if(0==
f)d[f]=r.aa.create(r.h(0,0,0,0),1,1);else if(f==c.length)d[f]=r.aa.create(r.h(0,0,0,0),1,1);else{d[f]=r.aa.create(r.h(0,0,0,0),208,32);var g=r.aa.create(r.h(0,0,0,127),208,1);g.m(r.a(4,0));var h=r.P.create(c[f],"Arial",15);h.n(r.l(0,0,0));h.G(r.a(0,0));h.m(r.a(4,4));h.Ob(r.size(208,0));d[f].S(208,h.c().height+8);A.s.Z.sl(a)>f&&h.ra(200);d[f].f(g);d[f].f(h)}e.push([])}this.Tg=this.b.main_panel.sublist;this.Tg.Zc=function(){for(var a=0,c=0;c<d.length;c++)a+=d[c].c().height;return r.size(212,a)};this.Tg.Qc=
function(){return d.length};this.Tg.fd=function(a){return d[a].c()};this.Tg.ed=function(a){return d[a]};this.Tg.bc=function(){};this.Tg.ca=ListView.create(this.Tg);this.Tg.ca.hd(e);this.Tg.f(this.Tg.ca)},zc:function(){return{panels:{position:r.a(300,200),children:{background_image:{X:"GUI/quest_panel.png",d:r.a(0,0)},main_panel:{d:r.a(0,0),size:r.size(512,328),children:{list:{size:r.size(216,328),w:r.h(0,200,200,0),position:r.a(0,0),d:r.a(0,0)},sublist:{size:r.size(212,328),w:r.h(0,200,200,0),position:r.a(258,
0),d:r.a(0,0)}}},control_panel:{d:r.a(0,0),position:r.a(0,328),size:r.size(365,32),children:{header:{label:"Quest Log",fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(484,6),size:r.size(20,20),d:r.a(0,0),X:"GUI/close.png"}}}}}}},ub:function(){},ma:function(){this._super();this.ub();this.data=ObjectLists.Lp();this.ib()}});Skills=null;
SkillsPanel=Popup.extend({F:null,yc:function(){return"Skills"},ib:function(){this.F&&this.F.ac();var a=[],c=[];r.ea.e();var d=0,e=0,f;for(f in this.data){e+=this.data[f].level+1;a[d]=r.D.create();a[d].S(420,32);var g=r.aa.create(r.h(0,0,0,127),316,1);g.m(r.a(4,0));var h=r.P.create("Lvl "+(this.data[f].level+1+this.data[f].modifier)+"/"+(this.data[f].level+1),"Arial",15);h.n(r.l(0,0,0));h.G(r.a(0,0));h.m(r.a(4,4));var k=r.P.create(f,"Arial",15);k.n(r.l(0,0,0));k.G(r.a(0.5,0));k.m(r.a(h.c().width+65,
4));var l=r.aa.create(r.h(255,255,255,255),144,k.c().height),m=r.aa.create(r.h(100,120,200,255),this.data[f].experience/this.data[f].requirement*144,k.c().height);l.f(m);m.G(r.a(0,0));m=r.P.create(this.data[f].experience+"/"+this.data[f].requirement,"Arial",14);m.G(r.a(0,0));m.n(r.l(0,0,0));l.f(m);m.Bc(1);l.G(r.a(0,0));l.m(r.a(172,4));c.push([]);a[d].f(g);a[d].f(k);a[d].f(h);a[d].f(l);a[d].S(324,k.c().height+8);d++}this.F=this.b.main_panel.list;this.F.Zc=function(){for(var c=0,d=0;d<a.length;d++)c+=
a[d].c().height;return r.size(324,c)};this.F.Qc=function(){return a.length};this.F.fd=function(c){return a[c].c()};this.F.ed=function(c){return a[c]};this.F.bc=function(){};this.F.ca=ListView.create(this.F);this.F.ca.hd(c);this.F.f(this.F.ca);this.b.main_panel.character_level.ha("LEVEL: "+e);this.b.main_panel.character_level.yb(306);this.b.main_panel.character_level.G(r.a(1,0))},zc:function(){return{panels:{position:r.a(300,200),children:{background_image:{X:"GUI/list_panel.png",d:r.a(0,0)},main_panel:{d:r.a(0,
0),size:r.size(365,328),children:{character_level:{label:"",position:r.a(2,310),d:r.a(0,0),color:r.l(0,0,0)},list:{size:r.size(324,308),w:r.h(0,200,200,200),position:r.a(0,0),d:r.a(0,0)}}},control_panel:{d:r.a(0,0),position:r.a(0,328),size:r.size(365,32),children:{header:{label:"Skills",fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(337,6),size:r.size(20,20),d:r.a(0,0),X:"GUI/close.png"}}}}}}},ub:function(){},ma:function(){this._super();this.ub();this.data=H.DT();this.ib()}});
var H=r.Vc.extend({Ew:[],lc:null,yt:function(){var a=ObjectLists.wh(),c;for(c in this.Ew)this.Ew[c].K();this.Ew=[];var d=0;for(c=a.length-1;0<=c;c--)if(null!=a[c].healthbar&&""!=a[c].healthbar){var e=this.kS(a[c].name,a[c].healthbar,d);this.f(e);this.Ew.push(e);d++}this.m(r.a(0,Y.height-32*d))},kS:function(a,c,d){var e=255;c=c.replace("#","");8==c.length&&(e=c.substr(6,8));e=r.aa.create(r.h(parseInt(c.substring(0,2),16),parseInt(c.substring(2,4),16),parseInt(c.substring(4,6),16),parseInt(e,16)),0<
this.lc[a].currenthealth?this.lc[a].currenthealth/this.lc[a].maxhealth*300:1,23);e.dC=r.A.bb(r.ea.e().pa("GUI/healthbar.png"));e.m(10,32*d- -5*d-10);e.G(r.a(0,0));e.dC.m(-5,-4);e.dC.G(r.a(0,0));e.f(e.dC);a=r.P.create(a,"Arial",16);a.m(10,11.5);a.G(r.a(0,0.5));e.f(a);return e}});SkillBarsInstance=null;H.create=function(a){null==SkillBarsInstance&&(SkillBarsInstance=new H,SkillBarsInstance.lc=a,SkillBarsInstance.yt());return SkillBarsInstance};
H.LJ=function(a,c){SkillBarsInstance.lc[a].currenthealth+=c;0>SkillBarsInstance.lc[a].currenthealth&&(SkillBarsInstance.lc[a].currenthealth=0);SkillBarsInstance.lc[a].currenthealth>SkillBarsInstance.lc[a].maxhealth&&(SkillBarsInstance.lc[a].currenthealth=SkillBarsInstance.lc[a].maxhealth);SkillBarsInstance.yt();Skills&&Skills.ib()};H.NJ=function(a,c){SkillBarsInstance.lc[a].experience+=c;0>SkillBarsInstance.lc[a].experience&&(SkillBarsInstance.lc[a].experience=0);SkillBarsInstance.yt();Skills&&Skills.ib()};
H.MJ=function(a,c){SkillBarsInstance.lc[a].modifier+=c;0>SkillBarsInstance.lc[a].modifier&&(SkillBarsInstance.lc[a].modifier=0);SkillBarsInstance.yt();Skills&&Skills.ib()};H.DT=function(){return SkillBarsInstance.lc};H.update=function(){SkillBarsInstance.yt()};Scripteditor=null;
ScriptEditor=Popup.extend({data:null,F:null,kb:null,hj:null,hf:null,jf:null,i3:null,k:null,Oa:null,BL:null,fI:null,ja:null,g:null,On:null,lj:function(a){I({savescripts:a+"",scriptsdata:this.data})},Yi:function(a,c){I({savescriptswhole:c})},yc:function(){return"Scripts"},ta:function(a){this._super();if(this.k){var c=this.k;!0!=a&&this.k.Fc(function(){c.dd(null)})}},r:function(a){this._super();this.data={data:[],name:null};this.Oa=null;a.data&&(this.data=a.data);this.k=a.k},ma:function(){this._super();this.Oa=
new $(this.b.main_panel.nameEntry,r.size(this.b.main_panel.nameEntry.c().width,this.b.main_panel.nameEntry.c().height),r.a(0,this.b.main_panel.nameEntry.c().height),this.data.name,r.h(255,255,255),r.l(0,0,0));this.Oa.fb(!0);this.ib()},ib:function(){this.F&&this.F.ac();for(var a in this.hf)this.hf[a].ac(),this.hf[a].K();for(a in this.jf)this.jf[a].ac(),this.jf[a].K();var c=[],d=[],e=[],f=[],g=[],h=[],k=r.ea.e();this.hf=[];this.jf=[];for(a=0;a<this.data.data.length;a++){g[a]=[];h[a]=[];d[a]=[];e[a]=
[];c[a]=r.D.create();c[a].S(758,100);var l=r.aa.create(r.h(0,0,0,127),750,1);l.m(r.a(4,0));var m=r.aa.create(r.h(0,0,0,127),1,92);m.m(r.a(152,4));var n=r.aa.create(r.h(0,0,0,127),1,92);n.m(r.a(451,4));var p=this.data.data[a].type;"On Talk Close"==p&&(p+=" ("+this.data.data[a].data.attachedEvent+":"+this.data.data[this.data.data[a].data.attachedEvent].type+")");p=r.P.create(a+": "+p,"Arial",15);p.n(r.l(0,0,0));p.G(r.a(0,1));p.m(r.a(4,96));p.Ob(r.size(100,0));var q=r.aa.create(r.h(0,255,0,60),259,100);
q.S(r.size(259,100));q.yb(451);q.G(r.a(0,0));c[a].f(q);var u=r.aa.create(r.h(0,255,0,60),259,100);u.S(r.size(259,100));u.yb(152);u.G(r.a(0,0));c[a].f(u);var w=r.A.bb(k.pa("GUI/trash.png"));w.m(r.a(120,4));w.G(r.a(0,0));w.Xb="Delete";c[a].f(w);var y=r.A.bb(k.pa("GUI/edit.png"));y.m(r.a(96,4));y.G(r.a(0,0));y.Xb="Edit";c[a].f(y);f.push([w,y]);for(w=0;w<this.data.data[a].responses.length;w++){d[a].push(r.D.create());d[a][w].S(259,32);var y=!0,D=r.P.create(w+1+": "+this.data.data[a].responses[w].type,
"Arial",15);D.n(r.l(0,0,0));D.G(r.a(0,0));D.m(r.a(4,4));D.Ob(r.size(180,0));d[a][w].S(259,D.c().height+8);d[a][w].f(D);D=r.A.bb(k.pa("GUI/trash.png"));D.m(r.a(229,0));D.G(r.a(0,0));D.Xb="Delete";d[a][w].f(D);switch(this.data.data[a].responses[w].type){case "Destroy":case "Attack":case "Run Away":y=!1}y?(y=r.A.bb(k.pa("GUI/edit.png")),y.m(r.a(205,0)),y.G(r.a(0,0)),y.Xb="Edit",d[a][w].f(y),g[a].push([D,y])):g[a].push([D])}w=r.aa.create(r.h(70,200,70,255),90,26);y=r.P.create("+","Arial",20);y.m(45,13);
y.G(r.a(0.5,0.5));w.m(r.a(84.5,0));w.Xb="Add";w.f(y);g[a].push([w]);d[a].push(w);this.jf[a]=u;this.jf[a].identifier=a;var B=this;this.jf[a].Zc=function(){for(var a=0,c=0;c<d[this.identifier].length;c++)a+=d[this.identifier][c].c().height;return r.size(259,a)};this.jf[a].Qc=function(){return d[this.identifier].length};this.jf[a].fd=function(a){return d[this.identifier][a].c()};this.jf[a].ed=function(a){return d[this.identifier][a]};this.jf[a].bc=function(a,c,d){B.Ia(d.L);if(null==B.g)switch(a){case "Delete":B.V.f(DropDownList.ud(B,
B.uS,["Cancel","Delete"],d.L));B.kb=c;B.hj=this.identifier;break;case "Edit":B.sI(this.identifier,"responses",c);break;case "Add":a="Talk;Destroy;Give/ Take Item;Set Quest Point;Warp Player;Wait;Repeat Responses;Open/Close Panel;Modify Player Stats;Script Response".split(";");c=[{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0}];for(var e=0;e<B.data.data[this.identifier].responses.length;e++)"Repeat Responses"==B.data.data[this.identifier].responses[e].type&&
(c[7].enabled=!1);switch(B.data.specifier){case "NPC":a.push("Attack","Run Away","Defend","Modify NPC Stats");c.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0});break;case "Item":a.push("Equip Item","Read Item");c.push({enabled:!0},{enabled:!0});break;case "Tile":a.push("Block Entry","Add Layer Graphic"),c.push({enabled:!0},{enabled:!0})}B.V.f(DropDownList.ud(B,B.sR,a,d.L,c));B.hj=this.identifier;break;case "Use":B.k.pq(c,B.Pc[c])}};this.jf[a].ca=ListView.create(this.jf[a]);this.jf[a].ca.hd(g[a]);
this.jf[a].f(this.jf[a].ca);for(w=0;w<this.data.data[a].requirements.length;w++)e[a].push(r.D.create()),e[a][w].S(259,32),u=r.P.create(w+1+": "+this.data.data[a].requirements[w].type,"Arial",15),u.n(r.l(0,0,0)),u.G(r.a(0,0)),u.m(r.a(4,4)),u.Ob(r.size(180,0)),e[a][w].S(259,u.c().height+8),e[a][w].f(u),D=r.A.bb(k.pa("GUI/trash.png")),D.m(r.a(229,0)),D.G(r.a(0,0)),D.Xb="Delete",e[a][w].f(D),y=r.A.bb(k.pa("GUI/edit.png")),y.m(r.a(205,0)),y.G(r.a(0,0)),y.Xb="Edit",e[a][w].f(y),h[a].push([D,y]);u=r.aa.create(r.h(70,
200,70,255),90,26);w=r.P.create("+","Arial",20);w.m(45,13);w.G(r.a(0.5,0.5));u.m(r.a(84.5,0));u.Xb="Add";u.f(w);h[a].push([u]);e[a].push(u);this.hf[a]=q;this.hf[a].identifier=a;B=this;this.hf[a].Zc=function(){for(var a=0,c=0;c<e[this.identifier].length;c++)a+=e[this.identifier][c].c().height;return r.size(259,a)};this.hf[a].Qc=function(){return e[this.identifier].length};this.hf[a].fd=function(a){return e[this.identifier][a].c()};this.hf[a].ed=function(a){return e[this.identifier][a]};this.hf[a].bc=
function(a,c,d){B.Ia(d.L);if(null==B.g)switch(a){case "Delete":B.V.f(DropDownList.ud(B,B.tS,["Cancel","Delete"],d.L));B.kb=c;B.hj=this.identifier;break;case "Edit":B.sI(this.identifier,"requirements",c);break;case "Add":a="Has Player Item;Is Player Statistics;Is Quest Point;Is Panel Visibility;Is Player Inventory Space;Script Requirement".split(";");switch(B.data.specifier){case "Tile":a.push("Is Event Fired By");break;case "NPC":a.push("Is NPC Statistics","Is NPC Actioning")}B.V.f(DropDownList.ud(B,
B.rR,a,d.L));B.hj=this.identifier;break;case "Use":B.k.pq(c,B.Pc[c])}};this.hf[a].ca=ListView.create(this.hf[a]);this.hf[a].ca.hd(h[a]);this.hf[a].f(this.hf[a].ca);c[a].f(p);c[a].f(l);c[a].f(m);c[a].f(n)}a=r.aa.create(r.h(70,200,70,255),90,26);g=r.P.create("+","Arial",20);g.m(45,13);g.G(r.a(0.5,0.5));a.m(r.a(334,0));a.Xb="Add";a.f(g);f.push([a]);c.push(a);this.F=this.b.main_panel.list;B=this;this.F.Zc=function(){for(var a=0,d=0;d<c.length;d++)a+=c[d].c().height;return r.size(758,a)};this.F.Qc=function(){return c.length};
this.F.fd=function(a){return c[a].c()};this.F.ed=function(a){return c[a]};this.F.bc=function(a,c,d){B.Ia(d.L);if(null==B.g)switch(a){case "Delete":var e="Delete";B.ZT(c)&&(e="Delete (Will destroy all child events)");B.V.f(DropDownList.ud(B,B.sS,["Cancel",e],d.L));B.kb=c;break;case "Add":a=["Default Interaction","On Examine","On Talk Close","On Talk Option Selected"];var f=[{enabled:!0},{enabled:!1},{enabled:!1},{enabled:!1}];for(e in B.data.data)if(B.data.data[e])for(var g=0;g<B.data.data[e].responses.length;g++)if("Talk"==
B.data.data[e].responses[g].type){f[2].enabled=!0;break}0==B.data.data.length&&(f[1].enabled=!1);B.QS()&&(f[3].enabled=!0);switch(B.data.specifier){case "Item":a.push("On Pickup","On Drop","On Dequip","On Trade");f.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0});break;case "Tile":a.push("Interact On","Interact Facing","Will Enter","On Enter","Will Leave","On Leave","On Come Near"),f.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0}),f[0].enabled=
!1}B.V.f(DropDownList.ud(B,B.nR,a,d.L,f));B.kb=c;break;case "Use":B.k.pq(c,B.Pc[c])}};this.F.ca=ListView.create(this.F);this.F.ca.hd(f);this.F.f(this.F.ca)},iI:function(a){for(var c=0;c<this.data.data.length;c++)"On Talk Close"==this.data.data[c].type&&this.data.data[c].data.attachedEvent==a&&(this.iI(c),this.data.data.splice(c,1))},ZT:function(a){for(var c=0;c<this.data.data.length;c++)if("On Talk Close"==this.data.data[c].type&&this.data.data[c].data.attachedEvent==a)return!0;return!1},QS:function(){for(var a=
0;a<this.data.data.length;a++)for(var c=0;c<this.data.data[a].responses.length;c++)if("Talk"==this.data.data[a].responses[c].type)return!0;return!1},sS:function(a){switch(a){case 1:null!=this.k.kb&&(this.k.iI(this.k.kb),this.k.data.data.splice(this.k.kb,1),this.k.ib(),this.k.kb=null)}},uS:function(a){switch(a){case 1:null!=this.k.kb&&(this.k.data.data[this.k.hj].responses.splice(this.k.kb,1),this.k.ib(),this.k.kb=null,this.k.hj=null)}},tS:function(a){switch(a){case 1:null!=this.k.kb&&(this.k.data.data[this.k.hj].requirements.splice(this.k.kb,
1),this.k.ib(),this.k.kb=null,this.k.hj=null)}},tR:function(a){this.k.data.data.push({type:"On Talk Close",responses:[],requirements:[],data:{attachedEvent:a}});this.k.ib()},uR:function(a,c){this.k.pE=a;for(var d=[],e=0;e<this.k.data.data[a].responses.length;e++)if("Talk"==this.k.data.data[a].responses[e].type)for(var f in this.k.data.data[a].responses[e].data.options)d.push(f+": "+this.k.data.data[a].responses[e].data.options[f]);this.V.f(DropDownList.ud(this.k,this.k.WR,d,c.L))},WR:function(a){this.k.data.data.push({type:"On Talk Option Selected for event:"+
this.k.pE+", option:"+a,responses:[],requirements:[],data:{attachedEvent:this.k.pE,attachedOption:a}});this.k.ib();this.k.pE=null},nR:function(a,c){var d="";switch(a){case 0:d="Default Event";break;case 1:d="On Examine";break;case 2:var d=[],e;for(e in this.k.data.data)if(this.k.data.data[e])for(var f=0;f<this.k.data.data[e].responses.length;f++)"Talk"==this.k.data.data[e].responses[f].type&&d.push(e+": "+this.k.data.data[e].type);this.V.f(DropDownList.ud(this.k,this.k.tR,d,c.L));return;case 3:d=
[];for(e in this.k.data.data)if(this.k.data.data[e])for(f=0;f<this.k.data.data[e].responses.length;f++)"Talk"==this.k.data.data[e].responses[f].type&&this.k.data.data[e].responses[f].data.options&&0<this.k.data.data[e].responses[f].data.options.length&&d.push(e+": "+this.k.data.data[e].type);this.V.f(DropDownList.ud(this.k,this.k.uR,d,c.L));return}if(""==d)switch(this.k.data.specifier){case "Item":switch(a){case 4:d="On Pickup";break;case 5:d="On Drop";break;case 6:d="On Dequip";break;case 7:d="On Trade"}break;
case "Tile":switch(a){case 4:d="Interact On";break;case 5:d="Interact Facing";break;case 6:d="Will Enter";break;case 7:d="On Enter";break;case 8:d="Will Leave";break;case 9:d="On Leave";break;case 10:d="On Come Near"}}this.k.data.data.push({type:d,responses:[],requirements:[],data:{}});this.k.ib()},sR:function(a){var c="";switch(a){case 0:c="Talk";break;case 1:c="Destroy";break;case 2:c="Give /Take Item";break;case 3:c="Set Quest Point";break;case 4:c="Warp Player";break;case 5:c="Wait";break;case 6:c=
"Repeat Responses";break;case 7:c="Open/Close Panel";break;case 8:c="Modify Player Stats";break;case 9:c="Script Response"}if(""==c)switch(this.k.data.specifier){case "NPC":switch(a){case 10:c="Attack";break;case 11:c="Run Away";break;case 12:c="Defend";break;case 13:c="Modify NPC Stats"}break;case "Item":switch(a){case 10:c="Equip Item";break;case 11:c="Read Item"}break;case "Tile":switch(a){case 10:c="Block Entry";break;case 11:c="Add Layer Graphic"}}this.k.data.data[this.k.hj].responses.push({type:c,
data:{}});this.k.ib()},rR:function(a){var c="";switch(a){case 0:c="Has Player Item";break;case 1:c="Is Player Statistics";break;case 2:c="Is Quest Point";break;case 3:c="Is Panel Visibility";break;case 4:c="Is Player Inventory Space";break;case 5:c="Script Requirement"}if(""==c)switch(this.k.data.specifier){case "Tile":switch(a){case 6:c="Is Event Fired By"}break;case "NPC":switch(a){case 6:c="Is NPC Statistics";break;case 7:c="Is NPC Actioning"}}this.k.data.data[this.k.hj].requirements.push({type:c,
data:{}});this.k.ib()},zc:function(){return{panels:{position:r.a(0,60),children:{background_image:{X:"GUI/event_panel.png",d:r.a(0,0)},main_panel:{d:r.a(0,0),size:r.size(1E3,400),children:{list:{size:r.size(758,360),w:r.h(0,200,200,200),position:r.a(0,0),d:r.a(0,0)},okbtn:{position:r.a(4,364),size:r.size(32,32),X:"GUI/tick_icon.png",d:r.a(0,0)},cancelbtn:{position:r.a(46,364),size:r.size(32,32),X:"GUI/cross_icon.png",d:r.a(0,0)},defaultsbtn:{position:r.a(542,364),size:r.size(64,32),w:r.h(0,255,0,
255),d:r.a(0,0),children:{contents:{label:"Defaults",position:r.a(32,16),d:r.a(0.5,0.5),color:r.l(0,0,0)}}},specifier:{position:r.a(620,364),size:r.size(128,32),w:r.h(0,255,0,255),d:r.a(0,0),children:{contents:{label:"Includes: None",position:r.a(64,16),d:r.a(0.5,0.5),color:r.l(0,0,0)}}},namelbl:{label:"Name:",fontSize:20,d:r.a(0,0),position:r.a(110,368),color:r.l(0,0,0)},nameEntry:{position:r.a(180,364),size:r.size(340,32),w:r.h(255,255,255,255)}}},control_panel:{d:r.a(0,0),position:r.a(0,400),size:r.size(1E3,
32),children:{header:{label:"Script Editor",fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(976,6),size:r.size(20,20),d:r.a(0,0),X:"GUI/close.png"}}},subEditorOver:{visible:!1,w:r.h(0,0,0,127),position:r.a(0,0),size:r.size(800,400)},mainEditorOver:{w:r.h(0,0,0,127),position:r.a(800,0),size:r.size(200,400)}}}}},sI:function(a,c,d){this.ja={event:a,listtype:c,id:d};this.On=this.data.data[a][c][d].type;this.gK=G(this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data);this.qt()},
xaa:function(a){this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data=G(a);this.bx();this.ja=null;this.ib()},waa:function(){this.bx();this.ja=null},defaultSelected:function(a,c){0<this.k.data.data.length?(this.k.fI=a,this.V.f(DropDownList.ud(this.k,this.k.wS,["Cancel","Clear Script (Required)"],c.L))):this.k.NK(a)},q3:function(){},AE:null,BE:null,CE:null,Jd:null,lK:null,UJ:null,fj:null,gj:null,ay:null,Rl:null,Sl:null,Ql:null,cy:null,dy:null,by:null,bK:null,Vn:0,SJ:null,HH:null,jx:null,
Ec:null,iy:null,LS:function(a,c){var d={panels:{children:{editArea:{w:r.h(127,127,127,255),d:r.a(0,0),position:r.a(0,0),size:r.size(200,250)},editBox:{size:r.size(178,196),d:r.a(0,0),position:r.a(8,12)},okbtn:{position:r.a(62,210),size:r.size(32,32),X:"GUI/tick_icon.png",d:r.a(0,0)},cancelbtn:{position:r.a(106,210),size:r.size(32,32),X:"GUI/cross_icon.png",d:r.a(0,0)}}}};this.ig=Ia(d,!0);this.g.f(this.ig);this.nE=new $(this.ig.editBox,r.size(this.ig.editBox.c().width,this.ig.editBox.c().height),r.a(0,
this.ig.editBox.c().height),c?c:"\x3cEnter text\x3e",r.h(255,255,255),r.l(0,0,0),!0);this.nE.fb(!0);this.nE.Sc(!1);this.oE=a},qt:function(){this.g&&(this.g.K(),this.g=null);this.b.subEditorOver.B(!0);this.b.mainEditorOver.B(!1);var a={panels:{position:r.a(802,0),children:{}}},c=this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data;switch(this.On){case "Warp Player":a.panels.children={mapNumberLabel:{label:"Map ID",d:r.a(0,0),position:r.a(12,374)},mapNumberText:{w:r.h(255,255,255,255),d:r.a(0,
0),position:r.a(12,340),size:r.size(100,32)},mapXLabel:{label:"Map X",d:r.a(0,0),position:r.a(12,310)},mapXText:{w:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,276),size:r.size(80,32)},mapYLabel:{label:"Map Y",d:r.a(0,0),position:r.a(100,310)},mapYText:{w:r.h(255,255,255,255),d:r.a(0,0),position:r.a(100,276),size:r.size(80,32)}};break;case "Script Response":a.panels.children={sayLabelPre:{label:"Script:\n\nfunction resp(data){\n//data is { }",d:r.a(0,1),position:r.a(12,374),color:r.l(255,0,0)},
sayLabelPost:{label:"};",d:r.a(0,1),position:r.a(12,95),color:r.l(255,0,0)},sayText:{w:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,100),size:r.size(174,200)}};break;case "Script Requirement":a.panels.children={sayLabelPre:{label:"Script:\n\nfunction req(data,isAllow){\n//data is { }\n//isAllow defaults false",d:r.a(0,1),position:r.a(12,374),color:r.l(255,0,0)},sayLabelPost:{label:"return isAllow;\n};",d:r.a(0,1),position:r.a(12,95),color:r.l(255,0,0)},sayText:{w:r.h(255,255,255,255),d:r.a(0,0),
position:r.a(12,100),size:r.size(174,190)}};break;case "Read Item":a.panels.children={sayLabel:{label:"Say:",d:r.a(0,0),position:r.a(12,374)},sayText:{w:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,50),size:r.size(174,322)}};break;case "Talk":a.panels.children={sayLabel:{label:"Say:",d:r.a(0,0),position:r.a(12,374)},sayText:{w:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,274),size:r.size(174,100)},optionLabel:{label:"Options:",d:r.a(0,0),position:r.a(12,235)},optionList:{w:r.h(255,255,255,255),
d:r.a(0,0),position:r.a(12,50),size:r.size(154,185)}};break;case "Is Quest Point":case "Set Quest Point":a.panels.children={questLabel:{label:"Quest:",d:r.a(0,0),position:r.a(12,374)},questList:{w:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,230),size:r.size(154,135)},objectiveLabel:{label:"Objective:",d:r.a(0,0),position:r.a(12,189)},objectiveList:{w:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,50),size:r.size(154,135)}};break;case "Give /Take Item":case "Has Player Item":a.panels.children=
{itemsLabel:{label:"Item:",d:r.a(0,0),position:r.a(12,374)},itemList:{w:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,230),size:r.size(154,135)},amountLabel:{label:"Amount:",d:r.a(0,0),position:r.a(12,189)},amountText:{w:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,153),size:r.size(154,32)},amountNote:{label:"Has Player Item"==this.On?"":"Use negative item amounts to take away. Use positive amounts to give.",d:r.a(0,1),position:r.a(12,145)}};break;case "Modify Player Stats":case "Modify NPC Stats":a.panels.children=
{skillsLabel:{label:"Skill:",d:r.a(0,0),position:r.a(12,374)},skillList:{w:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,230),size:r.size(154,135)},levelLabel:{label:"Level Modify",d:r.a(0,0),position:r.a(12,205)},levelText:{w:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,169),size:r.size(154,32)},expLabel:{label:"XP Modify: (% allowed)",d:r.a(0,0),position:r.a(12,145)},expText:{w:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,109),size:r.size(154,32)},healthLabel:{label:"Health Modify: (% allowed)",
d:r.a(0,0),position:r.a(12,85)},healthText:{w:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,49),size:r.size(154,32)}};break;case "Is Panel Visibility":case "Open/Close Panel":a.panels.children={panelsLabel:{label:"Panel:",d:r.a(0,0),position:r.a(12,374)},panelList:{w:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,230),size:r.size(154,135)},visibleLabel:{label:"Visibility:",d:r.a(0,0),position:r.a(12,205)},visibleButton:{w:r.h(255,0,0,255),d:r.a(0,0),position:r.a(12,169),size:r.size(154,32),children:{content:{position:r.a(77,
16),d:r.a(0.5,0.5),label:"Invisible",color:r.l(0,0,0)}}}};break;case "Is Event Fired By":a.panels.children={objectLabel:{label:"Possible Types:",d:r.a(0,0),position:r.a(12,374)},objectList:{w:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,230),size:r.size(154,135)}};break;case "Is NPC Actioning":a.panels.children={actionLabel:{label:"Actions:",d:r.a(0,0),position:r.a(12,374)},actionList:{w:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,230),size:r.size(154,135)}};break;case "Is Player Inventory Space":a.panels.children=
{spaceLabel:{label:"Inventory Space",d:r.a(0,0),position:r.a(12,374)},spaceText:{w:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,340),size:r.size(100,32)}};break;case "Wait":a.panels.children={timeLabel:{label:"Time (Seconds)",d:r.a(0,0),position:r.a(12,374)},timeText:{w:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,340),size:r.size(100,32)}};break;case "Repeat Responses":a.panels.children={amountLabel:{label:"Repeat Amount",d:r.a(0,0),position:r.a(12,374)},amountText:{w:r.h(255,255,255,255),
d:r.a(0,0),position:r.a(12,340),size:r.size(100,32)},amountNote:{label:"Use 0 for infinite amount of repeats.",d:r.a(0,1),position:r.a(12,300)}};break;case "Is Player Statistics":case "Is NPC Statistics":a.panels.children={skillsLabel:{label:"Skill:",d:r.a(0,0),position:r.a(12,374)},skillList:{w:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,230),size:r.size(154,135)},levelLabel:{label:"Level Range",d:r.a(0,0),position:r.a(12,205)},levelDash:{label:"-",d:r.a(0,0),position:r.a(91,174)},levelTextLower:{w:r.h(255,
255,255,255),d:r.a(0,0),position:r.a(12,169),size:r.size(75,32)},levelTextUpper:{w:r.h(255,255,255,255),d:r.a(0,0),position:r.a(100,169),size:r.size(75,32)},expLabel:{label:"XP Range: (% allowed)",d:r.a(0,0),position:r.a(12,145)},expDash:{label:"-",d:r.a(0,0),position:r.a(91,114)},expTextLower:{w:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,109),size:r.size(75,32)},expTextUpper:{w:r.h(255,255,255,255),d:r.a(0,0),position:r.a(100,109),size:r.size(75,32)},healthLabel:{label:"Health Range: (% allowed)",
d:r.a(0,0),position:r.a(12,85)},healthDash:{label:"-",d:r.a(0,0),position:r.a(91,54)},healthTextLower:{w:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,49),size:r.size(75,32)},healthTextUpper:{w:r.h(255,255,255,255),d:r.a(0,0),position:r.a(100,49),size:r.size(75,32)}};break;case "Equip Item":a.panels.children={equipLabel:{label:"Equips To:",d:r.a(0,0),position:r.a(12,374)},headButton:{w:r.h(255,0,0,255),d:r.a(0,0),position:r.a(69,320),size:r.size(55,32),children:{content:{position:r.a(28,16),d:r.a(0.5,
0.5),label:"Head",color:r.l(0,0,0)}}},bodyButton:{w:r.h(255,0,0,255),d:r.a(0,0),position:r.a(69,280),size:r.size(55,32),children:{content:{position:r.a(28,16),d:r.a(0.5,0.5),label:"Body",color:r.l(0,0,0)}}},legButton:{w:r.h(255,0,0,255),d:r.a(0,0),position:r.a(69,240),size:r.size(55,32),children:{content:{position:r.a(28,16),d:r.a(0.5,0.5),label:"Legs",color:r.l(0,0,0)}}},feetButton:{w:r.h(255,0,0,255),d:r.a(0,0),position:r.a(69,200),size:r.size(55,32),children:{content:{position:r.a(28,16),d:r.a(0.5,
0.5),label:"Feet",color:r.l(0,0,0)}}},lArmButton:{w:r.h(255,0,0,255),d:r.a(0,0),position:r.a(10,280),size:r.size(55,32),children:{content:{position:r.a(28,16),d:r.a(0.5,0.5),label:"L Arm",color:r.l(0,0,0)}}},rArmButton:{w:r.h(255,0,0,255),d:r.a(0,0),position:r.a(128,280),size:r.size(55,32),children:{content:{position:r.a(28,16),d:r.a(0.5,0.5),label:"R Arm",color:r.l(0,0,0)}}},modButton:{w:r.h(255,0,0,255),d:r.a(0,0),position:r.a(10,160),size:r.size(55,32),children:{content:{position:r.a(28,16),d:r.a(0.5,
0.5),label:"Mod",color:r.l(0,0,0)}}}}}a.panels.children.okbtn={position:r.a(62,8),size:r.size(32,32),X:"GUI/tick_icon.png",d:r.a(0,0)};a.panels.children.cancelbtn={position:r.a(106,8),size:r.size(32,32),X:"GUI/cross_icon.png",d:r.a(0,0)};this.g=Ia(a,!0);this.b.f(this.g);switch(this.On){case "Warp Player":var d=a=1;c.index&&(a=c.index%U,d=Math.floor(c.index/U));this.AE=new $(this.g.mapNumberText,r.size(this.g.mapNumberText.c().width,this.g.mapNumberText.c().height),r.a(0,this.g.mapNumberText.c().height),
null!=c.mapnum&&"undefined"!==c.mapnum?c.mapnum:"0",r.h(255,255,255),r.l(0,0,0));this.AE.fb(!0);this.BE=new $(this.g.mapXText,r.size(this.g.mapXText.c().width,this.g.mapXText.c().height),r.a(0,this.g.mapXText.c().height),a,r.h(255,255,255),r.l(0,0,0));this.BE.fb(!0);this.CE=new $(this.g.mapYText,r.size(this.g.mapYText.c().width,this.g.mapYText.c().height),r.a(0,this.g.mapYText.c().height),d,r.h(255,255,255),r.l(0,0,0));this.CE.fb(!0);break;case "Read Item":this.Jd=new $(this.g.sayText,r.size(this.g.sayText.c().width,
this.g.sayText.c().height),r.a(0,this.g.sayText.c().height),c.say?c.say:"\x3cEnter text\x3e",r.h(255,255,255),r.l(0,0,0),!0);this.Jd.fb(!0);this.Jd.Sc(!1);break;case "Script Response":this.Jd=new $(this.g.sayText,r.size(this.g.sayText.c().width,this.g.sayText.c().height),r.a(0,this.g.sayText.c().height),c.functionContent?c.functionContent:"\x3cEnter text\x3e",r.h(255,255,255),r.l(0,0,0),!0);this.Jd.fb(!0);this.Jd.Sc(!1);break;case "Script Requirement":this.Jd=new $(this.g.sayText,r.size(this.g.sayText.c().width,
this.g.sayText.c().height),r.a(0,this.g.sayText.c().height),c.functionContent?c.functionContent:"\x3cEnter text\x3e",r.h(255,255,255),r.l(0,0,0),!0);this.Jd.fb(!0);this.Jd.Sc(!1);break;case "Talk":this.Jd=new $(this.g.sayText,r.size(this.g.sayText.c().width,this.g.sayText.c().height),r.a(0,this.g.sayText.c().height),c.say?c.say:"\x3cEnter text\x3e",r.h(255,255,255),r.l(0,0,0),!0);this.Jd.fb(!0);this.Jd.Sc(!1);var e=[],a=[],f=c.options?c.options:[];console.log(f);for(d=0;d<f.length;d++){e[d]=r.D.create();
var g=r.aa.create(r.h(0,0,0,127),154,1),h=r.P.create(f[d],"Arial",15);h.n(r.l(0,0,0));h.G(r.a(0,0));h.m(r.a(4,4));h.Ob(r.size(104,0));e[d].S(154,h.c().height+8);var k=r.A.bb(r.ea.e().pa("GUI/edit.png"));k.m(r.a(130,0));k.G(r.a(0,0));k.Xb="Edit";k.Bc((h.c().height+8)/2-10);var l=r.A.bb(r.ea.e().pa("GUI/trash.png"));l.m(r.a(108,0));l.G(r.a(0,0));l.Xb="Delete";l.Bc((h.c().height+8)/2-10);a.push([k,l]);var m=r.aa.create(r.h(255,255,255,255),154,h.c().height+8);e[d].f(m);e[d].tc=m;e[d].f(g);e[d].f(h);
e[d].f(k);e[d].f(l)}d=r.aa.create(r.h(70,200,70,255),90,26);g=r.P.create("+","Arial",20);g.m(45,13);g.G(r.a(0.5,0.5));d.m(r.a(34,0));d.Xb="Add";d.f(g);a.push([d]);e.push(d);var n=this;this.g.optionList.Zc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return r.size(154,a)};this.g.optionList.Qc=function(){return e.length};this.g.optionList.fd=function(a){return e[a].c()};this.g.optionList.ed=function(a){return e[a]};this.g.optionList.gi=function(a){return e[a].tc};this.g.optionList.bc=
function(a,d){if(!n.ig)switch(a){case "Add":c.options||(c.options=[]);c.options.push("\x3cEnter Text\x3e");c.say=n.Jd.R();n.g.optionList.ca.K();n.g.optionList.ca=null;n.qt();break;case "Delete":c.options.splice(d,1);c.say=n.Jd.R();n.g.K();n.g=null;n.qt();break;case "Edit":c.say=n.Jd.R(),n.LS(d,c.options[d]),n.g.optionList.ca.K(),n.g.optionList.ca=null}};this.g.optionList.ca=ListView.create(this.g.optionList);this.g.optionList.ca.hd(a);this.g.optionList.f(this.g.optionList.ca);break;case "Is Quest Point":case "Set Quest Point":e=
[];a=[];f=ObjectLists.Lp();for(d=0;d<f.length;d++)e[d]=r.D.create(),g=r.aa.create(r.h(0,0,0,127),154,1),h=r.P.create(f[d].name,"Arial",15),h.n(r.l(0,0,0)),h.G(r.a(0,0)),h.m(r.a(4,4)),h.Ob(r.size(126,0)),k=r.A.bb(r.ea.e().pa("GUI/use.png")),k.m(r.a(130,0)),k.G(r.a(0,0)),k.Xb="Use",e[d].S(154,h.c().height+8),k.Bc((h.c().height+8)/2-10),a.push([k]),m=r.aa.create(r.h(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].tc=m,e[d].f(g),e[d].f(h),e[d].f(k);n=this;this.g.questList.Zc=function(){for(var a=
0,c=0;c<e.length;c++)a+=e[c].c().height;return r.size(154,a)};this.g.questList.Qc=function(){return e.length};this.g.questList.fd=function(a){return e[a].c()};this.g.questList.ed=function(a){return e[a]};this.g.questList.gi=function(a){return e[a].tc};this.g.questList.bc=function(a,c){if("Use"==a){n.g.objectiveList.ca&&n.g.objectiveList.ca.K();this.ca.tc(c);n.lK=c;for(var d=[],e=[],f=r.ea.e(),g=ObjectLists.Lp()[c].objectiveList,h=0;h<g.length;h++){d[h]=r.D.create();var k=r.aa.create(r.h(0,0,0,127),
154,1);k.m(r.a(0,0));var l=r.P.create(g[h],"Arial",15);l.n(r.l(0,0,0));l.G(r.a(0,0));l.m(r.a(4,4));l.Ob(r.size(126,0));var m=r.A.bb(f.pa("GUI/use.png"));m.m(r.a(130,0));m.G(r.a(0,0));m.Xb="Use";e.push([m]);d[h].S(126,l.c().height+8);m.Bc((l.c().height+8)/2-10);var O=r.aa.create(r.h(255,255,255,255),154,l.c().height+8);d[h].f(O);d[h].tc=O;d[h].f(k);d[h].f(l);d[h].f(m)}n.g.objectiveList.Zc=function(){for(var a=0,c=0;c<d.length;c++)a+=d[c].c().height;return r.size(154,a)};n.g.objectiveList.Qc=function(){return d.length};
n.g.objectiveList.gi=function(a){return d[a].tc};n.g.objectiveList.fd=function(a){return d[a].c()};n.g.objectiveList.ed=function(a){return d[a]};n.g.objectiveList.bc=function(a,c){this.ca.tc(c);n.UJ=c};n.g.objectiveList.ca=ListView.create(n.g.objectiveList);n.g.objectiveList.ca.hd(e);n.g.objectiveList.f(n.g.objectiveList.ca)}};this.g.questList.ca=ListView.create(this.g.questList);this.g.questList.ca.hd(a);this.g.questList.f(this.g.questList.ca);null!=c.quest&&"undefined"!==c.quest&&(this.g.questList.bc("Use",
c.quest),null!=c.objective&&"undefined"!==c.objective&&this.g.objectiveList.bc("Use",c.objective));break;case "Give /Take Item":case "Has Player Item":this.g.amountNote.Ob(r.size(180,0));e=[];a=[];f=ObjectLists.Cf();for(d=0;d<f.length;d++)e[d]=r.D.create(),g=r.aa.create(r.h(0,0,0,127),154,1),h=r.P.create(f[d].name,"Arial",15),h.n(r.l(0,0,0)),h.G(r.a(0,0)),h.m(r.a(4,4)),h.Ob(r.size(126,0)),k=r.A.bb(r.ea.e().pa("GUI/use.png")),k.m(r.a(130,0)),k.G(r.a(0,0)),k.Xb="Use",e[d].S(154,h.c().height+8),k.Bc((h.c().height+
8)/2-10),a.push([k]),m=r.aa.create(r.h(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].tc=m,e[d].f(g),e[d].f(h),e[d].f(k);n=this;this.g.itemList.Zc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return r.size(154,a)};this.g.itemList.Qc=function(){return e.length};this.g.itemList.fd=function(a){return e[a].c()};this.g.itemList.ed=function(a){return e[a]};this.g.itemList.gi=function(a){return e[a].tc};this.g.itemList.bc=function(a,c){"Use"==a&&(this.ca.tc(c),n.gj=c)};this.g.itemList.ca=
ListView.create(this.g.itemList);this.g.itemList.ca.hd(a);this.g.itemList.f(this.g.itemList.ca);null!=c.item&&"undefined"!==c.item&&this.g.itemList.bc("Use",c.item);this.fj=new $(this.g.amountText,r.size(this.g.amountText.c().width,this.g.amountText.c().height),r.a(0,this.g.amountText.c().height),c.amount?c.amount:"0",r.h(255,255,255),r.l(0,0,0));this.fj.fb(!0);this.fj.Sc(!1);break;case "Modify Player Stats":case "Modify NPC Stats":e=[];a=[];f=ObjectLists.wh();for(d=0;d<f.length;d++)e[d]=r.D.create(),
g=r.aa.create(r.h(0,0,0,127),154,1),h=r.P.create(f[d].name,"Arial",15),h.n(r.l(0,0,0)),h.G(r.a(0,0)),h.m(r.a(4,4)),h.Ob(r.size(126,0)),k=r.A.bb(r.ea.e().pa("GUI/use.png")),k.m(r.a(130,0)),k.G(r.a(0,0)),k.Xb="Use",e[d].S(154,h.c().height+8),k.Bc((h.c().height+8)/2-10),a.push([k]),m=r.aa.create(r.h(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].tc=m,e[d].f(g),e[d].f(h),e[d].f(k);n=this;this.g.skillList.Zc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return r.size(154,a)};this.g.skillList.Qc=
function(){return e.length};this.g.skillList.fd=function(a){return e[a].c()};this.g.skillList.ed=function(a){return e[a]};this.g.skillList.gi=function(a){return e[a].tc};this.g.skillList.bc=function(a,c){"Use"==a&&(this.ca.tc(c),n.ay=c)};this.g.skillList.ca=ListView.create(this.g.skillList);this.g.skillList.ca.hd(a);this.g.skillList.f(this.g.skillList.ca);null!=c.skill&&"undefined"!==c.skill&&this.g.skillList.bc("Use",c.skill);this.Rl=new $(this.g.levelText,r.size(this.g.levelText.c().width,this.g.levelText.c().height),
r.a(0,this.g.levelText.c().height),c.level?c.level:"0",r.h(255,255,255),r.l(0,0,0));this.Rl.fb(!0);this.Rl.Sc(!1);this.Sl=new $(this.g.expText,r.size(this.g.expText.c().width,this.g.expText.c().height),r.a(0,this.g.expText.c().height),c.xp?c.xp:"0",r.h(255,255,255),r.l(0,0,0));this.Sl.fb(!0);this.Sl.Sc(!1);this.Ql=new $(this.g.healthText,r.size(this.g.healthText.c().width,this.g.healthText.c().height),r.a(0,this.g.healthText.c().height),c.health?c.health:"0",r.h(255,255,255),r.l(0,0,0));this.Ql.fb(!0);
this.Ql.Sc(!1);break;case "Is Panel Visibility":case "Open/Close Panel":e=[];a=[];f=["Inventory","Equipment","Skills","QuestLog"];for(d=0;d<f.length;d++)e[d]=r.D.create(),g=r.aa.create(r.h(0,0,0,127),154,1),h=r.P.create(f[d],"Arial",15),h.n(r.l(0,0,0)),h.G(r.a(0,0)),h.m(r.a(4,4)),h.Ob(r.size(126,0)),k=r.A.bb(r.ea.e().pa("GUI/use.png")),k.m(r.a(130,0)),k.G(r.a(0,0)),k.Xb="Use",e[d].S(154,h.c().height+8),k.Bc((h.c().height+8)/2-10),a.push([k]),m=r.aa.create(r.h(255,255,255,255),154,h.c().height+8),
e[d].f(m),e[d].tc=m,e[d].f(g),e[d].f(h),e[d].f(k);n=this;this.g.panelList.Zc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return r.size(154,a)};this.g.panelList.Qc=function(){return e.length};this.g.panelList.fd=function(a){return e[a].c()};this.g.panelList.ed=function(a){return e[a]};this.g.panelList.gi=function(a){return e[a].tc};this.g.panelList.bc=function(a,c){"Use"==a&&(this.ca.tc(c),n.bK=c)};this.g.panelList.ca=ListView.create(this.g.panelList);this.g.panelList.ca.hd(a);this.g.panelList.f(this.g.panelList.ca);
null!=c.panel&&"undefined"!==c.panel&&this.g.panelList.bc("Use",c.panel);this.Vn=1==c.visible?1:0;1==this.Vn&&(this.g.visibleButton.n(r.h(0,255,0,255)),this.g.visibleButton.content.ha("Visible"));break;case "Is Event Fired By":e=[];a=[];f=["Player","NPC"];for(d=0;d<f.length;d++)e[d]=r.D.create(),g=r.aa.create(r.h(0,0,0,127),154,1),h=r.P.create(f[d],"Arial",15),h.n(r.l(0,0,0)),h.G(r.a(0,0)),h.m(r.a(4,4)),h.Ob(r.size(126,0)),k=r.A.bb(r.ea.e().pa("GUI/use.png")),k.m(r.a(130,0)),k.G(r.a(0,0)),k.Xb="Use",
e[d].S(154,h.c().height+8),k.Bc((h.c().height+8)/2-10),a.push([k]),m=r.aa.create(r.h(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].tc=m,e[d].f(g),e[d].f(h),e[d].f(k);n=this;this.g.objectList.Zc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return r.size(154,a)};this.g.objectList.Qc=function(){return e.length};this.g.objectList.fd=function(a){return e[a].c()};this.g.objectList.ed=function(a){return e[a]};this.g.objectList.gi=function(a){return e[a].tc};this.g.objectList.bc=function(a,
c){"Use"==a&&(this.ca.tc(c),n.SJ=c)};this.g.objectList.ca=ListView.create(this.g.objectList);this.g.objectList.ca.hd(a);this.g.objectList.f(this.g.objectList.ca);null!=c.object&&"undefined"!==c.object&&this.g.objectList.bc("Use",c.object);break;case "Is NPC Actioning":e=[];a=[];f=["Attacking","Defending","Fleeing"];for(d=0;d<f.length;d++)e[d]=r.D.create(),g=r.aa.create(r.h(0,0,0,127),154,1),h=r.P.create(f[d],"Arial",15),h.n(r.l(0,0,0)),h.G(r.a(0,0)),h.m(r.a(4,4)),h.Ob(r.size(126,0)),k=r.A.bb(r.ea.e().pa("GUI/use.png")),
k.m(r.a(130,0)),k.G(r.a(0,0)),k.Xb="Use",e[d].S(154,h.c().height+8),k.Bc((h.c().height+8)/2-10),a.push([k]),m=r.aa.create(r.h(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].tc=m,e[d].f(g),e[d].f(h),e[d].f(k);n=this;this.g.actionList.Zc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return r.size(154,a)};this.g.actionList.Qc=function(){return e.length};this.g.actionList.fd=function(a){return e[a].c()};this.g.actionList.ed=function(a){return e[a]};this.g.actionList.gi=function(a){return e[a].tc};
this.g.actionList.bc=function(a,c){"Use"==a&&(this.ca.tc(c),n.HH=c)};this.g.actionList.ca=ListView.create(this.g.actionList);this.g.actionList.ca.hd(a);this.g.actionList.f(this.g.actionList.ca);null!=c.action&&"undefined"!==c.action&&this.g.actionList.bc("Use",c.action);break;case "Is Player Inventory Space":this.jx=new $(this.g.spaceText,r.size(this.g.spaceText.c().width,this.g.spaceText.c().height),r.a(0,this.g.spaceText.c().height),null!=c.space&&"undefined"!==c.space?c.space:"0",r.h(255,255,255),
r.l(0,0,0));this.jx.fb(!0);this.jx.Sc(!1);break;case "Wait":this.iy=new $(this.g.timeText,r.size(this.g.timeText.c().width,this.g.timeText.c().height),r.a(0,this.g.timeText.c().height),null!=c.time&&"undefined"!==c.time?c.time:"0",r.h(255,255,255),r.l(0,0,0));this.iy.fb(!0);this.iy.Sc(!1);break;case "Repeat Responses":this.g.amountNote.Ob(r.size(180,0));this.ID=new $(this.g.amountText,r.size(this.g.amountText.c().width,this.g.amountText.c().height),r.a(0,this.g.amountText.c().height),null!=c.amount&&
"undefined"!==c.amount?c.amount:"1",r.h(255,255,255),r.l(0,0,0));this.ID.fb(!0);this.ID.Sc(!1);break;case "Is Player Statistics":case "Is NPC Statistics":e=[];a=[];f=ObjectLists.wh();for(d=0;d<f.length;d++)e[d]=r.D.create(),g=r.aa.create(r.h(0,0,0,127),154,1),h=r.P.create(f[d].name,"Arial",15),h.n(r.l(0,0,0)),h.G(r.a(0,0)),h.m(r.a(4,4)),h.Ob(r.size(126,0)),k=r.A.bb(r.ea.e().pa("GUI/use.png")),k.m(r.a(130,0)),k.G(r.a(0,0)),k.Xb="Use",e[d].S(154,h.c().height+8),k.Bc((h.c().height+8)/2-10),a.push([k]),
m=r.aa.create(r.h(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].tc=m,e[d].f(g),e[d].f(h),e[d].f(k);n=this;this.g.skillList.Zc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return r.size(154,a)};this.g.skillList.Qc=function(){return e.length};this.g.skillList.fd=function(a){return e[a].c()};this.g.skillList.ed=function(a){return e[a]};this.g.skillList.gi=function(a){return e[a].tc};this.g.skillList.bc=function(a,c){"Use"==a&&(this.ca.tc(c),n.ay=c)};this.g.skillList.ca=ListView.create(this.g.skillList);
this.g.skillList.ca.hd(a);this.g.skillList.f(this.g.skillList.ca);null!=c.skill&&"undefined"!==c.skill&&this.g.skillList.bc("Use",c.skill);this.Rl=new $(this.g.levelTextLower,r.size(this.g.levelTextLower.c().width,this.g.levelTextLower.c().height),r.a(0,this.g.levelTextLower.c().height),null!=c.levelLower&&"undefined"!==c.levelLower&&""!=c.levelLower?c.levelLower:"0",r.h(255,255,255),r.l(0,0,0));this.Rl.fb(!0);this.Rl.Sc(!1);this.Sl=new $(this.g.expTextLower,r.size(this.g.expTextLower.c().width,this.g.expTextLower.c().height),
r.a(0,this.g.expTextLower.c().height),null!=c.xpLower&&"undefined"!==c.xpLower&&""!=c.xpLower?c.xpLower:"0",r.h(255,255,255),r.l(0,0,0));this.Sl.fb(!0);this.Sl.Sc(!1);this.Ql=new $(this.g.healthTextLower,r.size(this.g.healthTextLower.c().width,this.g.healthTextLower.c().height),r.a(0,this.g.healthTextLower.c().height),null!=c.healthLower&&"undefined"!==c.healthLower&&""!=c.healthLower?c.healthLower:"0",r.h(255,255,255),r.l(0,0,0));this.Ql.fb(!0);this.Ql.Sc(!1);this.cy=new $(this.g.levelTextUpper,
r.size(this.g.levelTextUpper.c().width,this.g.levelTextUpper.c().height),r.a(0,this.g.levelTextUpper.c().height),null!=c.levelUpper&&"undefined"!==c.levelUpper&&""!=c.levelUpper?c.levelUpper:"0",r.h(255,255,255),r.l(0,0,0));this.cy.fb(!0);this.cy.Sc(!1);this.dy=new $(this.g.expTextUpper,r.size(this.g.expTextUpper.c().width,this.g.expTextUpper.c().height),r.a(0,this.g.expTextUpper.c().height),null!=c.xpUpper&&"undefined"!==c.xpUpper&&""!=c.xpUpper?c.xpUpper:"0",r.h(255,255,255),r.l(0,0,0));this.dy.fb(!0);
this.dy.Sc(!1);this.by=new $(this.g.healthTextUpper,r.size(this.g.healthTextUpper.c().width,this.g.healthTextUpper.c().height),r.a(0,this.g.healthTextUpper.c().height),null!=c.healthUpper&&"undefined"!==c.healthUpper&&""!=c.healthUpper?c.healthUpper:"0",r.h(255,255,255),r.l(0,0,0));this.by.fb(!0);this.by.Sc(!1);break;case "Equip Item":null!=c.equip&&"undefined"!==c.equip?(this.Ec="head",this.qk(c.equip)):this.qk("head")}},bx:function(){this.b.subEditorOver.B(!1);this.b.mainEditorOver.B(!0);this.On=
null;this.g.K();this.g=null},NK:function(a){switch(a){case 0:this.Ln(1,!0);this.data.data=[{type:"Will Enter",responses:[{type:"Block Entry",data:{}}],requirements:[],data:{}}];break;case 1:this.Ln(1,!0);this.data.data=[{type:"On Enter",responses:[{type:"Warp Player",data:{}}],requirements:[],data:{}}];break;case 2:this.Ln(1,!0);this.data.data=[{type:"Default Event",responses:[{type:"Show Sign",data:{}}],requirements:[],data:{}}];break;case 3:this.Ln(1,!0);this.data.data=[{type:"Will Enter",responses:[{type:"Block Entry",
data:{}}],requirements:[{objectType:"NPC"}],data:{}}];break;case 4:this.Ln(1,!0),this.data.data=[{type:"On Enter",responses:[{type:"Allow PVP",data:{}}],requirements:[],data:{}}]}this.ib()},Ln:function(a,c){switch(a){case 0:this.data.specifier="Item";this.b.main_panel.specifier.contents.ha("Includes: Item");break;case 1:this.data.specifier="Tile";this.b.main_panel.specifier.contents.ha("Includes: Tile");break;case 2:this.data.specifier="NPC";this.b.main_panel.specifier.contents.ha("Includes: NPC");
break;case 3:this.data.specifier="None",this.b.main_panel.specifier.contents.ha("Includes: None")}this.data.data=[];c||this.ib()},xS:function(a){1==a&&this.k.Ln(this.k.BL)},wS:function(a){1==a&&this.k.NK(this.k.fI)},qk:function(a){this.g.headButton.n(r.h(255,255,255,255));this.g.bodyButton.n(r.h(255,255,255,255));this.g.legButton.n(r.h(255,255,255,255));this.g.feetButton.n(r.h(255,255,255,255));this.g.lArmButton.n(r.h(255,255,255,255));this.g.rArmButton.n(r.h(255,255,255,255));this.g.modButton.n(r.h(255,
255,255,255));switch(a){case "head":this.Ec=a;this.g.headButton.n(r.h(255,0,0,255));return;case "body":this.Ec=a;this.g.bodyButton.n(r.h(255,0,0,255));return;case "legs":this.Ec=a;this.g.legButton.n(r.h(255,0,0,255));return;case "feet":this.Ec=a;this.g.feetButton.n(r.h(255,0,0,255));return;case "mod":this.Ec=a;this.g.modButton.n(r.h(255,0,0,255));return;case "bothArms":this.Ec=a;this.g.lArmButton.n(r.h(255,0,0,255));this.g.rArmButton.n(r.h(255,0,0,255));return}"bothArms"!=this.Ec&&"lArm"!=this.Ec&&
"rArm"!=this.Ec&&"lArm"==a?(this.g.lArmButton.n(r.h(255,0,0,255)),this.Ec="lArm"):"bothArms"!=this.Ec&&"lArm"!=this.Ec&&"rArm"!=this.Ec&&"rArm"==a?(this.g.rArmButton.n(r.h(255,0,0,255)),this.Ec="rArm"):"rArm"==this.Ec&&"lArm"==a?(this.g.lArmButton.n(r.h(255,0,0,255)),this.g.rArmButton.n(r.h(255,0,0,255)),this.Ec="bothArms"):"lArm"==this.Ec&&"rArm"==a?(this.g.lArmButton.n(r.h(255,0,0,255)),this.g.rArmButton.n(r.h(255,0,0,255)),this.Ec="bothArms"):"bothArms"==this.Ec&&"rArm"==a?(this.g.lArmButton.n(r.h(255,
0,0,255)),this.Ec="lArm"):"bothArms"==this.Ec&&"lArm"==a&&(this.g.rArmButton.n(r.h(255,0,0,255)),this.Ec="rArm")},uY:function(a,c){if(0<this.k.data.data.length)return this.k.BL=a,this.V.f(DropDownList.ud(this.k,this.k.xS,["Cancel","Clear Script (Required)"],c.L)),!1;this.k.Ln(a)},lb:function(a){if(this._super(a))return!0;this.Vd=null;var c=a.L;if(this.ig){var d=this.ig.Ia(c);if(Q(this.ig.okbtn,d)){switch(this.On){case "Talk":this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data.options[this.oE]=
this.nE.R(),this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data.say=this.Jd.R()}this.ig.K();this.oE=this.ig=null;this.qt();return}if(Q(this.ig.cancelbtn,d)){this.ig.K();this.oE=this.ig=null;this.qt();return}}if(this.g){d=this.g.Ia(c);if(Q(this.g.okbtn,d)){switch(this.On){case "Warp Player":this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data={mapnum:parseInt(this.AE.R()),index:V(parseInt(this.BE.R()),Pa-parseInt(this.CE.R()))};break;case "Read Item":this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data=
{say:this.Jd.R()};break;case "Script Response":case "Script Requirement":this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data.functionContent=this.Jd.R();break;case "Talk":this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data.say=this.Jd.R();break;case "Is Quest Point":case "Set Quest Point":this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data={quest:this.lK,objective:this.UJ};break;case "Give /Take Item":case "Has Player Item":this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data=
{item:this.gj,amount:parseInt(this.fj.R())};break;case "Modify Player Stats":case "Modify NPC Stats":this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data={skill:this.ay,level:parseInt(this.Rl.R()),xp:parseInt(this.Sl.R()),health:parseInt(this.Ql.R())};break;case "Is Panel Visibility":case "Open/Close Panel":this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data={panel:this.bK,visible:this.Vn};break;case "Is Event Fired By":this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data=
{object:this.SJ};break;case "Is NPC Actioning":this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data={action:this.HH};break;case "Is Player Inventory Space":this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data={space:parseInt(this.jx.R())};break;case "Wait":this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data={time:parseInt(this.iy.R())};break;case "Repeat Responses":this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data={amount:parseInt(this.ID.R())};
break;case "Is Player Statistics":case "Is NPC Statistics":this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data={skill:this.ay,levelLower:parseInt(this.Rl.R()),xpLower:parseInt(this.Sl.R()),healthLower:parseInt(this.Ql.R()),levelUpper:parseInt(this.cy.R()),xpUpper:parseInt(this.dy.R()),healthUpper:parseInt(this.by.R())};break;case "Equip Item":this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data={equip:this.Ec}}this.bx();return!0}if(this.g.headButton&&Q(this.g.headButton,d))return this.qk("head"),
!0;if(this.g.bodyButton&&Q(this.g.bodyButton,d))return this.qk("body"),!0;if(this.g.legButton&&Q(this.g.legButton,d))return this.qk("legs"),!0;if(this.g.feetButton&&Q(this.g.feetButton,d))return this.qk("feet"),!0;if(this.g.lArmButton&&Q(this.g.lArmButton,d))return this.qk("lArm"),!0;if(this.g.rArmButton&&Q(this.g.rArmButton,d))return this.qk("rArm"),!0;if(this.g.modButton&&Q(this.g.modButton,d))return this.qk("mod"),!0;if(this.g.visibleButton&&Q(this.g.visibleButton,d))return this.Vn=0==this.Vn?
1:0,this.g.visibleButton.n(0==this.Vn?r.h(255,0,0,255):r.h(0,255,0,255)),this.g.visibleButton.content.ha(0==this.Vn?"Invisible":"Visible"),!0;if(Q(this.g.cancelbtn,d))return console.log(this.gK),this.data.data[this.ja.event][this.ja.listtype][this.ja.id].data=G(this.gK),this.bx(),!0}else{d=this.b.main_panel.Ia(c);if(Q(this.b.main_panel.defaultsbtn,d))return this.V.f(DropDownList.ud(this,this.defaultSelected,"Block Player;Warp Player;Show Sign;Spawn NPC;Spawn Item;Block NPC;PVP Area".split(";"),a.L)),
!0;if(Q(this.b.main_panel.specifier,d))return this.V.f(DropDownList.ud(this,this.uY,["Item","Tile","NPC","None"],a.L)),!0;if(Q(this.b.main_panel.okbtn,d)){if(null==this.Oa.R()||""==this.Oa.R())return!0;this.data.name=this.Oa.R();this.Ff=!0;this.k.dd(this.data);return!0}if(Q(this.b.main_panel.cancelbtn,d)){this.Ff=!0;var e=this.k;this.k.Fc(function(){e.dd(null)});return!0}return Q(this.b.main_panel,d)?!0:!1}}});Itemeditor=null;
ItemEditor=Popup.extend({Tb:K[0].name,W:0,pq:function(a,c){Scripteditor&&(Scripteditor.ta(),Scripteditor.K(),this.Yd=a,this.Yb(!0),this.b.main_panel.scriptbtn.text.ha(c.name),this.b.main_panel.scriptbtn.n(r.h(0,255,0,255)))},XD:function(){this.b.main_panel.scriptbtn.text.ha("None");this.b.main_panel.scriptbtn.n(r.h(255,0,0,255))},zc:function(){return{panels:{position:r.a(300,10),children:{background:{X:"GUI/itemeditor_bg.png",d:r.a(0,0)},main_panel:{d:r.a(0,0),position:r.a(0,0),size:r.size(500,330),
children:{namelbl:{label:"Name:",fontSize:20,d:r.a(0,0),position:r.a(4,292),color:r.l(0,0,0)},name_entry:{position:r.a(74,292),size:r.size(266,32),w:r.h(255,255,255,255)},tiles:{d:r.a(0,1),position:r.a(16,272),X:K[0].name},textureleftbtn:{position:r.a(362,292),size:r.size(16,32),X:"GUI/texture_change_left.png",d:r.a(0,0)},texturerightbtn:{position:r.a(471,292),size:r.size(16,32),X:"GUI/texture_change_right.png",d:r.a(0,0)},textureName:{position:r.a(375,292),size:r.size(96,32),X:"GUI/texture_change_middle.png",
d:r.a(0,0),children:{text:{label:K[0].name,fontSize:12,d:r.a(0.5,0.5),position:r.a(48,16),color:r.l(0,0,0)}}},leftbtn:{position:r.a(0,16),size:r.size(16,256),w:r.h(0,0,255,255),d:r.a(0,0),children:{text:{label:"\x3c",fontSize:12,d:r.a(0.5,0.5),position:r.a(8,160),color:r.l(255,255,255)}}},rightbtn:{position:r.a(336,16),size:r.size(16,256),w:r.h(0,0,255,255),d:r.a(0,0),children:{text:{label:"\x3e",fontSize:12,d:r.a(0.5,0.5),position:r.a(8,160),color:r.l(255,255,255)}}},upbtn:{position:r.a(16,272),
size:r.size(320,16),w:r.h(0,0,255,255),d:r.a(0,0),children:{text:{label:"^",fontSize:12,d:r.a(0.5,0.5),position:r.a(160,8),color:r.l(255,255,255)}}},downbtn:{position:r.a(16,0),size:r.size(320,16),w:r.h(0,0,255,255),d:r.a(0,0),children:{text:{label:"v",fontSize:12,d:r.a(0.5,0.5),position:r.a(160,8),color:r.l(255,255,255)}}},stacklbl:{label:"Stackable:",fontSize:12,d:r.a(0,0),position:r.a(360,206),color:r.l(0,0,0)},stackbtn:{position:r.a(360,176),size:r.size(128,26),w:Ha,d:r.a(0,0),children:{text:{label:"No",
fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.l(0,0,0)}}},scriptlbl:{label:"Script:",fontSize:12,d:r.a(0,0),position:r.a(360,262),color:r.l(0,0,0)},scriptbtn:{position:r.a(360,232),size:r.size(128,26),w:Ha,d:r.a(0,0),children:{text:{label:"None",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.l(0,0,0)}}},highlightnode:{d:r.a(0,0),position:r.a(0,0),size:r.size(32,32),w:r.h(255,100,100,255)},selectednode:{d:r.a(0,0),position:r.a(0,0),size:r.size(32,32),w:r.h(100,255,100,255)},okbtn:{position:r.a(434,
16),size:r.size(32,32),X:"GUI/tick_icon.png",d:r.a(0,0)},cancelbtn:{position:r.a(384,16),size:r.size(32,32),X:"GUI/cross_icon.png",d:r.a(0,0)}}},control_panel:{d:r.a(0,0),position:r.a(0,330),size:r.size(500,32),children:{header:{label:"Item Editor",fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(476,6),size:r.size(20,20),d:r.a(0,0),X:"GUI/close.png"}}}}}}},yc:function(){return"itemEditor"},Oa:null,k:null,data:null,Yd:null,r:function(a){this._super();this.data={sprite:{texture:K[0].name,
position:{x:0,y:0}},script:null,stackable:!1,name:""};this.Tb=K[0].name;this.W=0;this.Yd=this.k=this.Oa=null;this.Q=r.a(0,0);this.k=a.k;a&&a.data&&(this.data=a.data,this.data.script&&(this.Yd=this.data.script))},lj:function(a){I({saveitems:a+"",itemdata:this.data})},Yi:function(a,c){I({saveitemswhole:c})},ma:function(){this._super();this.b.main_panel.highlightnode.ra(0);this.b.main_panel.selectednode.ra(127);for(var a in K)K[a].name==this.data.sprite.texture&&(this.W=a,this.Tb=K[a].name);this.b.main_panel.textureName.text.ha(this.Tb);
this.b.main_panel.tiles.ga(K[this.W].texture);null!=this.data.script&&(this.b.main_panel.scriptbtn.n(r.h(0,255,0,255)),this.b.main_panel.scriptbtn.text.ha(ObjectLists.aj()[this.data.script].name),this.Yd=this.data.script);for(a=this.data.sprite.position.x;10<=a;)a--,this.Q.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.Q.y++;a=r.a(32*(this.data.sprite.position.x-this.Q.x),32*(this.data.sprite.position.y-this.Q.y));this.b.main_panel.selectednode.m(this.b.main_panel.tiles.q.x+a.x,this.b.main_panel.tiles.q.y-
(a.y+32));this.Oa=new $(this.b.main_panel.name_entry,r.size(this.b.main_panel.name_entry.c().width,this.b.main_panel.name_entry.c().height),r.a(0,this.b.main_panel.name_entry.c().height),this.data.name?this.data.name:"",r.h(255,255,255),r.l(0,0,0));this.Oa.fb(!0);this.b.main_panel.stackbtn.n(Ha);this.b.main_panel.stackbtn.text.ha("No");!0==this.data.stackable&&(this.b.main_panel.stackbtn.n(Ga),this.b.main_panel.stackbtn.text.ha("Yes"));this.ob()},ta:function(a){this._super();if(this.k){var c=this.k;
!0!=a&&this.k.Fc(function(){c.dd(null)})}},ij:function(a){a=a.L;this.b.main_panel.highlightnode.ra(0);a=this.b.main_panel.tiles.Ia(a);if(0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tiles.c().width&&a.y<=this.b.main_panel.tiles.c().height)return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+16,this.b.main_panel.highlightnode.ra(127),this.b.main_panel.highlightnode.m(a),!0},ob:function(){this.cc(this.ob);this.b.main_panel.tiles.da()&&!0==this.b.main_panel.tiles.da().vc&&(this.Uc(this.ob),this.b.main_panel.tiles.Ub(r.rect(Math.floor(32*
this.Q.x),Math.floor(32*this.Q.y),320>K[this.W].texture.c().width?K[this.W].texture.c().width:320,256>K[this.W].texture.c().height?K[this.W].texture.c().height:256)))},lb:function(a){if(this._super(a))return!0;this.Vd=null;a=a.L;var c=this.b.main_panel.Ia(r.a(a.x,a.y));if(Q(this.b.main_panel.okbtn,c)){if(null==this.Oa.R()||""==this.Oa.R())return!0;this.Ff=!0;this.data.name=this.Oa.R();this.data.script=this.Yd;this.k.dd(this.data);return!0}Q(this.b.main_panel.scriptbtn,c)&&(Scripteditor?(Scripteditor.ta(),
Scripteditor.K(),Scripteditor=null):(Scripteditor=new PopupList,Scripteditor.r({k:this,Hg:new ScriptEditor,list:ObjectLists.aj(),name:"Script List"}),Scripteditor.ma(),this.f(Scripteditor)));if(Q(this.b.main_panel.cancelbtn,c)){this.Ff=!0;var d=this.k;this.k.Fc(function(){d.dd(null)});return!0}if(Q(this.b.main_panel.leftbtn,c))return 264<K[this.W].texture.c().width&&0<this.Q.x&&(this.Q.x--,this.ob()),!0;if(Q(this.b.main_panel.rightbtn,c))return 320<K[this.W].texture.c().width&&this.Q.x<(K[this.W].texture.c().width-
320)/32&&(this.Q.x++,this.ob()),!0;if(Q(this.b.main_panel.upbtn,c))return 320<K[this.W].texture.c().height&&0<this.Q.y&&(this.Q.y--,this.ob()),!0;if(Q(this.b.main_panel.downbtn,c))return 320<K[this.W].texture.c().height&&this.Q.y<(K[this.W].texture.c().height-320)/32&&(this.Q.y++,this.ob()),!0;if(Q(this.b.main_panel.texturerightbtn,c))return this.Tn(),!0;if(Q(this.b.main_panel.textureleftbtn,c))return this.Un(),!0;if(Q(this.b.main_panel.stackbtn,c))return this.IL(),!0;if(Q(this.b.main_panel.scriptbtn,
c))return this.Daa(),!0;c=this.b.main_panel.tiles.Ia(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tiles.c().width&&c.y<=this.b.main_panel.tiles.c().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+16;this.b.main_panel.selectednode.ra(0);if(this.b.main_panel.selectednode.q.H!=c.x||this.b.main_panel.selectednode.q.M!=c.y)this.b.main_panel.selectednode.ra(127),this.b.main_panel.selectednode.m(c);a=r.a((this.b.main_panel.selectednode.q.H-16)/32+this.Q.x,8-(this.b.main_panel.selectednode.q.M-16)/32+this.Q.y-1);
this.data.sprite.position=a;return!0}return!1},IL:function(){this.data.stackable=!this.data.stackable;this.b.main_panel.stackbtn.n(Ha);this.b.main_panel.stackbtn.text.ha("No");!0==this.data.stackable&&(this.b.main_panel.stackbtn.n(Ga),this.b.main_panel.stackbtn.text.ha("Yes"))},Tn:function(){this.W>=K.length-1&&(this.W=-1);this.W++;this.b.main_panel.tiles.ga(K[this.W].texture);this.Tb=K[this.W].name;this.b.main_panel.textureName.text.ha(this.Tb);this.data.sprite.texture=this.Tb;this.Q=r.a(0,0);this.ob()},
Un:function(){0>=this.W&&(this.W=K.length);this.W--;this.b.main_panel.tiles.ga(K[this.W].texture);this.Tb=K[this.W].name;this.b.main_panel.textureName.text.ha(this.Tb);this.Q=r.a(0,0);this.ob()}});Settingseditor=null;
SettingsEditor=Popup.extend({data:null,F:null,kb:null,yc:function(){return"Settings Editor"},ta:function(){this._super()},r:function(){this._super();this.data=G(z)},lj:function(a){I({savequests:a+"",questdata:this.data})},Yi:function(a,c){I({savequestswhole:c})},ma:function(){this._super();this.ib()},ib:function(){this.F&&this.F.ac();var a=[],c=[],d=r.ea.e(),e=0,f;for(f in this.data){if("ISSECTION"!=this.data[f]){a[e]=r.D.create();a[e].S(324,32);var g=r.P.create(f,"Arial",18);g.G(r.a(0,0));g.m(r.a(4,
0));g.Ob(r.size(246,0));g.n(r.l(100,0,0));a[e].f(g);a[e].S(324,g.c().height+4);g=[];c.push(g);e++}a[e]=r.D.create();a[e].S(324,32);var h=r.aa.create(r.h(0,0,0,127),316,1);h.m(r.a(4,0));if("ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]){var k=r.A.bb(d.pa("GUI/edit.png"));k.m(r.a(300,0));k.G(r.a(0,0))}if("ISSECTION"==this.data[f]){var l=r.P.create(f,"Arial",22);l.n(r.l(255,0,0))}else l=r.P.create(this.data[f],"Arial",15),l.n(r.l(0,0,0));l.G(r.a(0,0));l.m(r.a(4,4));l.Ob(r.size(246,0));g=[];"ISSECTION"!=
this.data[f]&&"ISYESNO"!=this.data[f]&&(k.Xb="Edit",g=[],g.push(k));c.push(g);a[e].f(h);"ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]&&a[e].f(k);a[e].f(l);"ISSECTION"==this.data[f]?a[e].S(324,l.c().height+12):a[e].S(324,l.c().height+8);"ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]&&k.Bc((l.c().height+8)/2-10);e++}this.F=this.b.main_panel.list;var m=this;this.F.Zc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return r.size(324,c)};this.F.Qc=function(){return a.length};this.F.fd=
function(c){return a[c].c()};this.F.ed=function(c){return a[c]};this.F.bc=function(a,c,d){m.Ia(d.L);if(!0!=m.Mn)switch(a){case "Edit":a=0;d="";for(var e in m.data){if(a==c){d=e;break}a++;if("ISSECTION"!=m.data[e]){if(a==c){d=e;break}a++}}m.kb=d;m.wC(d)}};this.F.ca=ListView.create(this.F);this.F.ca.hd(c);this.F.f(this.F.ca)},zc:function(){return{panels:{position:r.a(300,200),children:{background_image:{X:"GUI/list_panel.png",d:r.a(0,0)},main_panel:{d:r.a(0,0),size:r.size(365,328),children:{savebtn:{size:r.size(64,
32),w:r.h(0,255,0,255),position:r.a(241,292),d:r.a(0,0),children:{content:{label:"Save",color:r.l(0,0,0),position:r.a(32,16),d:r.a(0.5,0.5)}}},list:{size:r.size(324,284),w:r.h(0,200,200,200),position:r.a(0,0),d:r.a(0,0)}}},control_panel:{d:r.a(0,0),position:r.a(0,328),size:r.size(365,32),children:{header:{label:"Settings Editor",fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(337,6),size:r.size(20,20),d:r.a(0,0),X:"GUI/close.png"}}}}}}},ff:null,Ba:null,wC:function(a){null!=this.Ba&&
(this.Ba.ac(),this.ff=null,this.Ba.K(),this.kb=this.Ba=null);this.Ba=r.aa.create(r.h(255,255,255,200),200,200);this.Ba.m(r.a((this.b.main_panel.c().width-200)/2,(this.b.main_panel.c().height-200)/2));this.ff=new $(this.Ba,r.size(190,150),r.a(0,this.Ba.c().height),this.data[a],r.h(100,100,100),r.l(255,255,255),!0);this.ff.fb(!0);this.ff.QK(!0);a=r.aa.create(r.h(0,200,255,255),64,32);a.m(r.a(14,9));var c=r.P.create("OK","Arial",16);c.n(r.l(0,0,0));c.m(32,16);c.G(r.a(0.5,0.5));a.f(c);c=r.aa.create(r.h(200,
0,0,255),64,32);c.m(r.a(120,9));var d=r.P.create("Cancel","Arial",16);d.n(r.l(0,0,0));d.m(32,16);d.G(r.a(0.5,0.5));c.f(d);this.b.main_panel.f(this.Ba);this.Ba.f(a);this.Ba.mD=a;this.Ba.f(c);this.Ba.cancel=c},lb:function(a){if(this._super(a))return!0;this.Vd=null;a=a.L;if(null!=this.Ba){a=this.Ba.Ia(a);if(Q(this.Ba.mD,a))return this.data[this.kb]=this.ff.R(),this.Ba.ac(),this.ff=null,this.Ba.K(),this.kb=this.Ba=null,this.ib(),!0;Q(this.Ba.cancel,a)&&(this.Ba.ac(),this.ff=null,this.Ba.K(),this.kb=this.Ba=
null);return!0}a=this.b.main_panel.Ia(a);return Q(this.b.main_panel.savebtn,a)?(z=G(this.data),console.log(z),console.log(this.data),I({savesettings:this.data}),v.uE(this.data,Date.now()),!0):Q(this.b.main_panel,a)?!0:!1}});Questeditor=null;
QuestEditor=Popup.extend({data:null,F:null,k:null,kb:null,yc:function(){return"Quest Editor"},ta:function(a){this._super();if(this.k){var c=this.k;!0!=a&&this.k.Fc(function(){c.dd(null)})}},r:function(a){this._super();this.data={name:"",objectiveList:["Unstarted","Initial Objective. Click edit to change this first objective. Click the '+' to add another object. You cannot delete every objective (you need at least one)","Finished"]};this.k=a.k;a&&a.data&&(this.data=a.data)},lj:function(a){I({savequests:a+"",
questdata:this.data})},Yi:function(a,c){I({savequestswhole:c})},ma:function(){this._super();this.ib();this.Oa=new $(this.b.main_panel.nameBox,r.size(this.b.main_panel.nameBox.c().width,this.b.main_panel.nameBox.c().height),r.a(0,this.b.main_panel.nameBox.c().height),this.data.name?this.data.name:"",r.h(255,255,255,255),r.l(0,0,0));this.Oa.fb(!0)},ib:function(){this.F&&this.F.ac();var a=[],c=[],d=r.ea.e();this.gI={};var e;console.log(this.data.objectiveList);for(e=0;e<this.data.objectiveList.length-
1;e++)if(a[e]=r.D.create(),a[e].S(324,32),null==this.data.objectiveList[e])this.data.objectiveList.splice(e,1);else{var f=r.aa.create(r.h(0,0,0,127),316,1);f.m(r.a(4,0));var g=r.A.bb(d.pa("GUI/edit.png"));g.m(r.a(272,0));g.G(r.a(0,0));var h=r.A.bb(d.pa("GUI/trash.png"));h.m(r.a(300,0));h.G(r.a(0,0));var k=r.P.create(this.data.objectiveList[e],"Arial",15);k.G(r.a(0,0));k.m(r.a(4,4));k.Ob(r.size(246,0));k.n(r.l(0,0,0));if(0<e){g.Xb="Edit";var l=[];l.push(g)}1<e&&(h.Xb="Delete",l.push(h));c.push(l);
a[e].f(f);0<e&&a[e].f(g);1<e&&a[e].f(h);a[e].f(k);a[e].S(324,k.c().height+8);g.Bc((k.c().height+8)/2-10);h.Bc((k.c().height+8)/2-10)}d=r.aa.create(r.h(70,200,70,255),90,26);f=r.P.create("+","Arial",20);f.m(45,13);f.G(r.a(0.5,0.5));d.m(r.a(120,0));d.Xb="Add";d.f(f);c.push([d]);a.push(d);a[e+1]=r.D.create();a[e+1].S(324,32);f=r.aa.create(r.h(0,0,0,127),316,1);f.m(r.a(4,0));console.log(this.data.objectiveList[e]);k=r.P.create(this.data.objectiveList[e],"Arial",15);k.G(r.a(0,0));k.m(r.a(4,4));k.Ob(r.size(246,
0));k.n(r.l(0,0,0));c.push([]);a[e+1].f(f);a[e+1].f(k);a[e+1].S(324,k.c().height+8);g.Bc((k.c().height+8)/2-10);h.Bc((k.c().height+8)/2-10);delete e;this.F=this.b.main_panel.list;var m=this;this.F.Zc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return r.size(324,c)};this.F.Qc=function(){return a.length};this.F.fd=function(c){return a[c].c()};this.F.ed=function(c){return a[c]};this.F.bc=function(a,c,d){m.Ia(d.L);if(!0!=m.Mn)switch(a){case "Delete":null!=m.Ba&&(m.Ba.ac(),m.ff=null,m.Ba.K(),
m.Ba=null,m.kb=null);m.V.f(DropDownList.ud(m,m.nC,["Cancel","Delete"],d.L));m.kb=c;break;case "Edit":m.kb=c;m.wC(c);break;case "Add":m.oR()}};this.F.ca=ListView.create(this.F);this.F.ca.hd(c);this.F.f(this.F.ca)},zc:function(){return{panels:{position:r.a(300,200),children:{background_image:{X:"GUI/list_panel.png",d:r.a(0,0)},main_panel:{d:r.a(0,0),size:r.size(365,328),children:{nameLabel:{label:"Quest Name",color:r.l(0,0,0),position:r.a(8,312),d:r.a(0,0)},nameBox:{size:r.size(150,32),w:r.h(255,255,
255,255),position:r.a(8,277),d:r.a(0,0)},savebtn:{size:r.size(64,32),w:r.h(0,255,0,255),position:r.a(175,277),d:r.a(0,0),children:{content:{label:"Save",color:r.l(0,0,0),position:r.a(32,16),d:r.a(0.5,0.5)}}},exitbtn:{size:r.size(64,32),w:r.h(255,0,0,255),position:r.a(253,277),d:r.a(0,0),children:{content:{label:"Exit",color:r.l(0,0,0),position:r.a(32,16),d:r.a(0.5,0.5)}}},objectivesLabel:{label:"Objectives",color:r.l(0,0,0),position:r.a(8,254),d:r.a(0,0)},list:{size:r.size(324,250),w:r.h(0,200,200,
200),position:r.a(0,0),d:r.a(0,0)}}},control_panel:{d:r.a(0,0),position:r.a(0,328),size:r.size(365,32),children:{header:{label:"Quest Editor",fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(337,6),size:r.size(20,20),d:r.a(0,0),X:"GUI/close.png"}}}}}}},nC:function(a){switch(a){case 1:this.k.kb&&(this.k.data.objectiveList.splice(this.k.kb,1),this.k.ib(),this.k.kb=null)}},oR:function(){this.data.objectiveList.splice(this.data.objectiveList.length-1,0,"Blank Objective");this.ib()},
ff:null,Ba:null,wC:function(a){null!=this.Ba&&(this.Ba.ac(),this.ff=null,this.Ba.K(),this.kb=this.Ba=null);this.Ba=r.aa.create(r.h(255,255,255,200),200,200);this.Ba.m(r.a((this.b.main_panel.c().width-200)/2,(this.b.main_panel.c().height-200)/2));this.ff=new $(this.Ba,r.size(190,150),r.a(0,this.Ba.c().height),this.data.objectiveList[a],r.h(100,100,100),r.l(255,255,255),!0);this.ff.fb(!0);this.ff.QK(!0);a=r.aa.create(r.h(0,200,255,255),64,32);a.m(r.a(14,9));var c=r.P.create("OK","Arial",16);c.n(r.l(0,
0,0));c.m(32,16);c.G(r.a(0.5,0.5));a.f(c);c=r.aa.create(r.h(200,0,0,255),64,32);c.m(r.a(120,9));var d=r.P.create("Cancel","Arial",16);d.n(r.l(0,0,0));d.m(32,16);d.G(r.a(0.5,0.5));c.f(d);this.b.main_panel.f(this.Ba);this.Ba.f(a);this.Ba.mD=a;this.Ba.f(c);this.Ba.cancel=c},lb:function(a){if(this._super(a))return!0;this.Vd=null;a=a.L;if(null!=this.Ba){a=this.Ba.Ia(a);if(Q(this.Ba.mD,a))return this.data.objectiveList[this.kb]=this.ff.R(),this.Ba.ac(),this.ff=null,this.Ba.K(),this.kb=this.Ba=null,this.ib(),
!0;Q(this.Ba.cancel,a)&&(this.Ba.ac(),this.ff=null,this.Ba.K(),this.kb=this.Ba=null);return!0}a=this.b.main_panel.Ia(a);if(Q(this.b.main_panel.savebtn,a)){if(null==this.Oa.R()||""==this.Oa.R())return!0;this.Ff=!0;this.data.name=this.Oa.R();this.k.dd(this.data);return!0}if(Q(this.b.main_panel.exitbtn,a)){this.Ff=!0;var c=this.k;this.k.Fc(function(){c.dd(null)});return!0}return Q(this.b.main_panel,a)?!0:!1}});Mapeditor=null;
MapEditor=Popup.extend({map:null,Q:r.a(0,0),Dc:"tiles",DJ:null,Nw:"ground1",Tb:K[0].name,W:0,zc:function(){return{panels:{position:r.a(300,10),children:{main_panel:{d:r.a(0,0),position:r.a(0,0),size:r.size(420,380),w:r.h(0,0,100,120),children:{tab1:{children:{tiles:{d:r.a(0,1),position:r.a(16,336),X:K[0].name},textureleftbtn:{position:r.a(360,344),size:r.size(16,32),w:P,d:r.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,d:r.a(0.5,0.5),position:r.a(8,16),color:r.l(0,0,0)}}},texturerightbtn:{position:r.a(472,344),
size:r.size(16,32),w:P,d:r.a(0,0),children:{text:{label:"\x3e\x3e",fontSize:12,d:r.a(0.5,0.5),position:r.a(8,16),color:r.l(0,0,0)}}},textureName:{position:r.a(376,344),size:r.size(96,32),w:r.h(255,255,255,170),d:r.a(0,0),children:{text:{label:K[0].name,fontSize:12,d:r.a(0.5,0.5),position:r.a(48,16),color:r.l(0,0,0)}}},deletebtn:{position:r.a(360,308),size:r.size(60,32),w:P,d:r.a(0,0),children:{text:{label:"Erase",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.l(0,0,0)}}},leftbtn:{position:r.a(0,
16),size:r.size(16,320),w:r.h(0,0,255,255),d:r.a(0,0),children:{text:{label:"\x3c",fontSize:12,d:r.a(0.5,0.5),position:r.a(8,160),color:r.l(255,255,255)}}},rightbtn:{position:r.a(336,16),size:r.size(16,320),w:r.h(0,0,255,255),d:r.a(0,0),children:{text:{label:"\x3e",fontSize:12,d:r.a(0.5,0.5),position:r.a(8,160),color:r.l(255,255,255)}}},upbtn:{position:r.a(16,336),size:r.size(320,16),w:r.h(0,0,255,255),d:r.a(0,0),children:{text:{label:"^",fontSize:12,d:r.a(0.5,0.5),position:r.a(160,8),color:r.l(255,
255,255)}}},downbtn:{position:r.a(16,0),size:r.size(320,16),w:r.h(0,0,255,255),d:r.a(0,0),children:{text:{label:"v",fontSize:12,d:r.a(0.5,0.5),position:r.a(160,8),color:r.l(255,255,255)}}},fillbtn:{position:r.a(428,308),size:r.size(60,32),w:P,d:r.a(0,0),children:{text:{label:"Fill",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.l(0,0,0)}}},ground1btn:{position:r.a(360,278),size:r.size(128,26),w:Ga,d:r.a(0,0),children:{text:{label:"Ground 1",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.l(0,
0,0)}}},ground2btn:{position:r.a(360,248),size:r.size(128,26),w:P,d:r.a(0,0),children:{text:{label:"Ground 2",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.l(0,0,0)}}},groundShadowbtn:{position:r.a(360,218),size:r.size(128,26),w:P,d:r.a(0,0),children:{text:{label:"Ground Shadow",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.l(0,0,0)}}},mask1btn:{position:r.a(360,188),size:r.size(128,26),w:P,d:r.a(0,0),children:{text:{label:"Mask 1",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),
color:r.l(0,0,0)}}},mask2btn:{position:r.a(360,158),size:r.size(128,26),w:P,d:r.a(0,0),children:{text:{label:"Mask 2",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.l(0,0,0)}}},mask3btn:{position:r.a(360,128),size:r.size(128,26),w:P,d:r.a(0,0),children:{text:{label:"Mask 3",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.l(0,0,0)}}},fringe1btn:{position:r.a(360,98),size:r.size(128,26),w:P,d:r.a(0,0),children:{text:{label:"Fringe 1",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.l(0,
0,0)}}},fringe2btn:{position:r.a(360,68),size:r.size(128,26),w:P,d:r.a(0,0),children:{text:{label:"Fringe 2",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.l(0,0,0)}}},fringeShadowbtn:{position:r.a(360,38),size:r.size(128,26),w:P,d:r.a(0,0),children:{text:{label:"Fringe Shadow",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.l(0,0,0)}}},fringe3btn:{position:r.a(360,8),size:r.size(128,26),w:P,d:r.a(0,0),children:{text:{label:"Fringe 3",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),
color:r.l(0,0,0)}}},highlightnode:{d:r.a(0,0),position:r.a(0,0),size:r.size(32,32),w:r.h(255,100,100,255)},selectednode:{d:r.a(0,0),position:r.a(0,0),size:r.size(32,32),w:r.h(100,255,100,255)}}},tab2:{children:{blockbtn:{position:r.a(8,320),size:r.size(60,32),w:P,d:r.a(0,0),children:{text:{label:"Block",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.l(0,0,0)}}},warpbtn:{position:r.a(8,280),size:r.size(60,32),w:P,d:r.a(0,0),children:{text:{label:"Warp",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,
16),color:r.l(0,0,0)}}},itembtn:{position:r.a(8,240),size:r.size(60,32),w:P,d:r.a(0,0),children:{text:{label:"Item",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.l(0,0,0)}}},signbtn:{position:r.a(8,200),size:r.size(60,32),w:P,d:r.a(0,0),children:{text:{label:"Sign",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.l(0,0,0)}}},npcbtn:{position:r.a(8,160),size:r.size(60,32),w:P,d:r.a(0,0),children:{text:{label:"NPC",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.l(0,0,0)}}},amountLabelHead:{visible:!1,
label:"Item Amount",fontSize:12,d:r.a(0,0),position:r.a(100,342)},amountLabel:{size:r.size(60,32),position:r.a(98,-1E6)}}},tab3:{children:{saveBack:{position:r.a(0,78),size:r.size(200,60),w:r.h(0,255,0,100),d:r.a(0,0)},deleteback:{position:r.a(0,138),size:r.size(200,60),w:r.h(255,0,0,100),d:r.a(0,0)},mapnumsback:{position:r.a(0,198),size:r.size(200,162),w:r.h(0,0,0,170),d:r.a(0,0)},mapUp_text:{label:"Map Up",fontSize:10,d:r.a(0.5,0),position:r.a(100,344)},mapUp_entry:{size:r.size(60,32),position:r.a(70,
312)},mapDown_text:{label:"Map Down",fontSize:10,d:r.a(0.5,0),position:r.a(100,232)},mapDown_entry:{size:r.size(60,32),position:r.a(70,200)},mapLeft_text:{label:"Map Left",fontSize:10,d:r.a(0.5,0),position:r.a(38,290)},mapLeft_entry:{size:r.size(60,32),position:r.a(8,258)},mapRight_text:{label:"Map Right",fontSize:10,d:r.a(0.5,0),position:r.a(162,290)},mapRight_entry:{size:r.size(60,32),position:r.a(132,258)},this_map:{position:r.a(70,248),size:r.size(60,60),w:P,d:r.a(0,0),children:{text:{label:"THIS MAP\n#"+
E.wd(),fontSize:12,d:r.a(0.5,0.5),position:r.a(30,30),color:r.l(0,0,0)}}},clearbtn:{position:r.a(70,150),size:r.size(60,32),w:P,d:r.a(0,0),children:{text:{label:"Clear",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.l(0,0,0)}}},clear_text:{label:"Clear Map: You sure?",fontSize:14,d:r.a(0.5,0),position:r.a(100,182)},clearbtnNo:{position:r.a(10,150),size:r.size(60,32),w:P,d:r.a(0,0),children:{text:{label:"NO",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.l(0,0,0)}}},clearbtnYes:{position:r.a(130,
150),size:r.size(60,32),w:P,d:r.a(0,0),children:{text:{label:"YES",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.l(0,0,0)}}},savebtn:{position:r.a(70,90),size:r.size(60,32),w:P,d:r.a(0,0),children:{text:{label:"Save",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.l(0,0,0)}}},save_text:{label:"Save Map: You sure?",fontSize:14,d:r.a(0.5,0),position:r.a(100,122)},savebtnNo:{position:r.a(10,90),size:r.size(60,32),w:P,d:r.a(0,0),children:{text:{label:"NO",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,
16),color:r.l(0,0,0)}}},savebtnYes:{position:r.a(130,90),size:r.size(60,32),w:P,d:r.a(0,0),children:{text:{label:"YES",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.l(0,0,0)}}},saveOnExit:{position:r.a(40,30),size:r.size(120,32),w:P,d:r.a(0.5,0),children:{content:{label:"",fontSize:14,d:r.a(0.5,0.5),position:r.a(60,15),color:r.l(0,0,0)}}}}},tab1Clickable:{position:r.a(0,360),size:r.size(60,20),w:P,d:r.a(0,0),children:{text:{label:"Editor",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,10),color:r.l(0,
0,0)}}},tab2Clickable:{position:r.a(64,360),size:r.size(60,20),w:P,d:r.a(0,0),children:{text:{label:"Scripts",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,10),color:r.l(0,0,0)}}},tab3Clickable:{position:r.a(128,360),size:r.size(60,20),w:P,d:r.a(0,0),children:{text:{label:"Settings",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,10),color:r.l(0,0,0)}}}}},control_panel:{d:r.a(0,0),position:r.a(0,380),size:r.size(420,32),w:r.h(255,0,0,200),children:{header:{label:"Map Editor - Map #"+E.wd(),fontSize:20,d:r.a(0,
0.5),position:r.a(8,16)},exitBtn:{position:r.a(391,3),size:r.size(26,26),d:r.a(0,0),w:r.h(255,255,255,200),children:{content:{label:"X",fontSize:20,color:r.l(0,0,0),d:r.a(0.5,0.5),position:r.a(13,13)}}}}}}}}},yc:function(){return"MapEditor"},Q:null,Ys:null,Vs:null,Ws:null,Xs:null,fj:null,oj:null,pe:0,Yd:null,r:function(a){this._super();this.map=a;this.Q=r.a(0,0);this.oj=[null,496,200,200]},ma:function(){this._super();this.b.main_panel.tab1.highlightnode.ra(0);this.b.main_panel.tab1.selectednode.ra(0);
this.Ys=new $(this.b.main_panel.tab3.mapUp_entry,r.size(this.b.main_panel.tab3.mapUp_entry.c().width,this.b.main_panel.tab3.mapUp_entry.c().height),r.a(0,this.b.main_panel.tab3.mapUp_entry.c().height),E.bJ()?E.NI():"",r.h(100,100,100),r.l(255,255,255));this.Ys.fb(!0);this.Ys.Sc(!0);this.Vs=new $(this.b.main_panel.tab3.mapDown_entry,r.size(this.b.main_panel.tab3.mapDown_entry.c().width,this.b.main_panel.tab3.mapDown_entry.c().height),r.a(0,this.b.main_panel.tab3.mapDown_entry.c().height),E.$I()?E.LI():
"",r.h(100,100,100),r.l(255,255,255));this.Vs.fb(!0);this.Vs.Sc(!0);this.Ws=new $(this.b.main_panel.tab3.mapLeft_entry,r.size(this.b.main_panel.tab3.mapLeft_entry.c().width,this.b.main_panel.tab3.mapLeft_entry.c().height),r.a(0,this.b.main_panel.tab3.mapLeft_entry.c().height),E.aJ()?E.MI():"",r.h(100,100,100),r.l(255,255,255));this.Ws.fb(!0);this.Ws.Sc(!0);this.Xs=new $(this.b.main_panel.tab3.mapRight_entry,r.size(this.b.main_panel.tab3.mapRight_entry.c().width,this.b.main_panel.tab3.mapRight_entry.c().height),
r.a(0,this.b.main_panel.tab3.mapRight_entry.c().height),E.PC()?E.DC():"",r.h(100,100,100),r.l(255,255,255));this.Xs.fb(!0);this.Xs.Sc(!0);this.fj=new $(this.b.main_panel.tab2.amountLabel,r.size(this.b.main_panel.tab2.amountLabel.c().width,this.b.main_panel.tab2.amountLabel.c().height),r.a(0,this.b.main_panel.tab2.amountLabel.c().height),E.PC()?E.DC():"1",r.h(100,100,100),r.l(255,255,255));this.fj.fb(!0);this.fj.Sc(!0);this.Zx(!1);this.$x(!1);this.Jx=v.jT();this.hL(this.Jx);this.Ml(1);this.ob();E.kL(!0)},
pq:function(a,c){Warpeditor&&(Warpeditor.ta(),this.Fc(function(){Warpeditor.K();Warpeditor=null}),this.Yd=a,this.Yb(!0));Signeditor&&(Signeditor.ta(),this.Fc(function(){Signeditor.K();Signeditor=null}),this.Yd=a,this.Yb(!0));Itemeditor&&(Itemeditor.ta(),this.Fc(function(){Itemeditor.K();Itemeditor=null}),this.Yd=a,this.Yb(!0),this.fj.Ac.Ke("1"),!0==c.stackable&&(this.b.main_panel.tab2.amountLabelHead.B(!0),this.b.main_panel.tab2.amountLabel.m(98,308)));NPCeditor&&(NPCeditor.ta(),this.Fc(function(){NPCeditor.K();
NPCeditor=null}),this.Yd=a,this.Yb(!0))},ta:function(){this._super();!0==this.Jx&&(E.ZK({up:this.Ys.R(),down:this.Vs.R(),left:this.Ws.R(),right:this.Xs.R()}),E.XL());E.kL(!1)},ij:function(a){a=a.L;if(1==this.pe&&(this.b.main_panel.tab1.highlightnode.ra(0),a=this.b.main_panel.tab1.tiles.Ia(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.c().width&&a.y<=this.b.main_panel.tab1.tiles.c().height))return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+16,this.b.main_panel.tab1.highlightnode.ra(127),this.b.main_panel.tab1.highlightnode.m(a),
!0},Ml:function(a){if(a!=this.pe){this.b.main_panel.S(this.oj[a],this.b.main_panel.c().height);this.b.control_panel.S(this.oj[a],this.b.control_panel.c().height);if(3==this.pe||0==this.pe)this.b.main_panel.tab3.mapUp_entry.yb(this.b.main_panel.tab3.mapUp_entry.q.H-1E3),this.b.main_panel.tab3.mapLeft_entry.yb(this.b.main_panel.tab3.mapLeft_entry.q.H-1E3),this.b.main_panel.tab3.mapDown_entry.yb(this.b.main_panel.tab3.mapDown_entry.q.H-1E3),this.b.main_panel.tab3.mapRight_entry.yb(this.b.main_panel.tab3.mapRight_entry.q.H-
1E3);1!=this.pe||"erasing"!=this.Dc&&"tiles"!=this.Dc||(this.Dc="blocking");2==this.pe&&"blocking"==this.Dc&&(this.Dc="tiles");this.pe=a;this.b.main_panel.tab1.B(!1);this.b.main_panel.tab2.B(!1);this.b.main_panel.tab3.B(!1);this.b.main_panel.tab1Clickable.n(P);this.b.main_panel.tab2Clickable.n(P);this.b.main_panel.tab3Clickable.n(P);this.b.main_panel["tab"+a].B(!0);this.b.main_panel["tab"+a+"Clickable"].n(r.h(255,255,0,255));3==a&&(this.b.main_panel.tab3.mapUp_entry.yb(this.b.main_panel.tab3.mapUp_entry.q.H+
1E3),this.b.main_panel.tab3.mapLeft_entry.yb(this.b.main_panel.tab3.mapLeft_entry.q.H+1E3),this.b.main_panel.tab3.mapDown_entry.yb(this.b.main_panel.tab3.mapDown_entry.q.H+1E3),this.b.main_panel.tab3.mapRight_entry.yb(this.b.main_panel.tab3.mapRight_entry.q.H+1E3));this.b.control_panel.exitBtn.yb(this.oj[a]-29)}},hL:function(a){v.uX(a);this.Jx=a;this.b.main_panel.tab3.saveOnExit.n(r.l(255,0,0));this.b.main_panel.tab3.saveOnExit.content.ha("Save on exit: NO");if("true"==a||!0==a)this.b.main_panel.tab3.saveOnExit.n(r.l(0,
255,0)),this.b.main_panel.tab3.saveOnExit.content.ha("Save on exit: YES")},ob:function(){this.cc(this.ob);this.b.main_panel.tab1.tiles.da()&&!0==this.b.main_panel.tab1.tiles.da().vc&&(this.Uc(this.ob),this.b.main_panel.tab1.tiles.Ub(r.rect(Math.floor(32*this.Q.x),Math.floor(32*this.Q.y),320>K[this.W].texture.c().width?K[this.W].texture.c().width:320,320>K[this.W].texture.c().height?K[this.W].texture.c().height:320)))},lb:function(a){if(this._super(a))return!0;this.Vd=null;a=a.L;var c=this.b.main_panel.Ia(a);
if(Q(this.b.main_panel.tab1Clickable,c))return this.Ml(1),!0;if(Q(this.b.main_panel.tab2Clickable,c))return this.Ml(2),!0;if(Q(this.b.main_panel.tab3Clickable,c))return this.Ml(3),!0;if(1==this.pe){if(Q(this.b.main_panel.tab1.leftbtn,c))return 320<K[this.W].texture.c().width&&0<this.Q.x&&(this.Q.x--,this.ob()),!0;if(Q(this.b.main_panel.tab1.rightbtn,c))return 320<K[this.W].texture.c().width&&this.Q.x<(K[this.W].texture.c().width-320)/32&&(this.Q.x++,this.ob()),!0;if(Q(this.b.main_panel.tab1.upbtn,
c))return 320<K[this.W].texture.c().height&&0<this.Q.y&&(this.Q.y--,this.ob()),!0;if(Q(this.b.main_panel.tab1.downbtn,c))return 320<K[this.W].texture.c().height&&this.Q.y<(K[this.W].texture.c().height-320)/32&&(this.Q.y++,this.ob()),!0;if(Q(this.b.main_panel.tab1.ground1btn,c))return this.pj("ground1"),!0;if(Q(this.b.main_panel.tab1.ground2btn,c))return this.pj("ground2"),!0;if(Q(this.b.main_panel.tab1.groundShadowbtn,c))return this.pj("groundShadow"),!0;if(Q(this.b.main_panel.tab1.mask1btn,c))return this.pj("mask1"),
!0;if(Q(this.b.main_panel.tab1.mask2btn,c))return this.pj("mask2"),!0;if(Q(this.b.main_panel.tab1.mask3btn,c))return this.pj("mask3"),!0;if(Q(this.b.main_panel.tab1.fringe1btn,c))return this.pj("fringe1"),!0;if(Q(this.b.main_panel.tab1.fringe2btn,c))return this.pj("fringe2"),!0;if(Q(this.b.main_panel.tab1.fringeShadowbtn,c))return this.pj("fringeShadow"),!0;if(Q(this.b.main_panel.tab1.fringe3btn,c))return this.pj("fringe3"),!0;if(Q(this.b.main_panel.tab1.texturerightbtn,c))return this.Tn(),!0;if(Q(this.b.main_panel.tab1.textureleftbtn,
c))return this.Un(),!0;if(Q(this.b.main_panel.tab1.deletebtn,c))return this.Dc="erasing"==this.Dc?"tiles":"erasing",this.b.main_panel.tab1.deletebtn.n(P),"erasing"==this.Dc&&this.b.main_panel.tab1.deletebtn.n(Ha),!0;if(Q(this.b.main_panel.tab1.fillbtn,c))return 0!=this.b.main_panel.tab1.selectednode.$i()&&(E.SS(K[this.W].name,r.a((this.b.main_panel.tab1.selectednode.q.H-16)/32+this.Q.x,9-(this.b.main_panel.tab1.selectednode.q.M-16)/32+this.Q.y),this.Nw),E.zt()),!0;c=this.b.main_panel.tab1.tiles.Ia(a);
if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.c().width&&c.y<=this.b.main_panel.tab1.tiles.c().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+16;this.b.main_panel.tab1.selectednode.ra(0);if(this.b.main_panel.tab1.selectednode.q.H!=c.x||this.b.main_panel.tab1.selectednode.q.M!=c.y)this.b.main_panel.tab1.selectednode.ra(127),this.b.main_panel.tab1.selectednode.m(c);return!0}}if(2==this.pe){if(Q(this.b.main_panel.tab2.blockbtn,c))return this.b.main_panel.tab2.warpbtn.n(P),this.b.main_panel.tab2.signbtn.n(P),
this.b.main_panel.tab2.npcbtn.n(P),this.b.main_panel.tab2.itembtn.n(P),this.b.main_panel.tab2.blockbtn.n(P),this.Dc="blocking"==this.Dc?"tiles":"blocking","blocking"==this.Dc&&(this.b.main_panel.tab2.blockbtn.n(Ha),this.b.main_panel.tab2.amountLabelHead.B(!1),this.b.main_panel.tab2.amountLabel.m(68,-1E5)),!0;if(Q(this.b.main_panel.tab2.warpbtn,c))return this.b.main_panel.tab2.warpbtn.n(P),this.b.main_panel.tab2.signbtn.n(P),this.b.main_panel.tab2.npcbtn.n(P),this.b.main_panel.tab2.itembtn.n(P),this.b.main_panel.tab2.blockbtn.n(P),
this.b.main_panel.tab2.amountLabelHead.B(!1),this.b.main_panel.tab2.amountLabel.m(68,-1E6),this.Dc="warping"==this.Dc?"tiles":"warping","warping"==this.Dc&&(null==Warpeditor||Warpeditor.V||(Warpeditor=null),Warpeditor&&(Warpeditor.ta(),Warpeditor.K(),Warpeditor=null),Warpeditor=new PopupList,Warpeditor.r({k:this,Hg:new WarpEditor,list:ObjectLists.hn(),name:"Warp List"}),Warpeditor.ma(),this.V.f(Warpeditor),this.Yb(!1),this.b.main_panel.tab2.warpbtn.n(Ha),this.b.main_panel.tab2.amountLabelHead.B(!1),
this.b.main_panel.tab2.amountLabel.m(68,-1E5)),!0;if(Q(this.b.main_panel.tab2.signbtn,c))return this.b.main_panel.tab2.signbtn.n(P),this.b.main_panel.tab2.warpbtn.n(P),this.b.main_panel.tab2.npcbtn.n(P),this.b.main_panel.tab2.itembtn.n(P),this.b.main_panel.tab2.blockbtn.n(P),this.b.main_panel.tab2.amountLabelHead.B(!1),this.b.main_panel.tab2.amountLabel.m(68,-1E6),this.Dc="signs"==this.Dc?"tiles":"signs","signs"==this.Dc&&(null==Signeditor||Signeditor.V||(Signeditor=null),Signeditor&&(Signeditor.ta(),
Signeditor.K(),Signeditor=null),Signeditor=new PopupList,Signeditor.r({k:this,Hg:new SignEditor,list:ObjectLists.Ks(),name:"Sign List"}),Signeditor.ma(),this.V.f(Signeditor),this.Yb(!1),this.b.main_panel.tab2.signbtn.n(Ha)),!0;if(Q(this.b.main_panel.tab2.npcbtn,c))return this.b.main_panel.tab2.signbtn.n(P),this.b.main_panel.tab2.warpbtn.n(P),this.b.main_panel.tab2.npcbtn.n(P),this.b.main_panel.tab2.itembtn.n(P),this.b.main_panel.tab2.blockbtn.n(P),this.b.main_panel.tab2.amountLabelHead.B(!1),this.b.main_panel.tab2.amountLabel.m(68,
-1E6),this.Dc="npcs"==this.Dc?"tiles":"npcs","npcs"==this.Dc&&(null==NPCeditor||NPCeditor.V||(NPCeditor=null),NPCeditor&&(NPCeditor.ta(),NPCeditor.K(),NPCeditor=null),NPCeditor=new PopupList,NPCeditor.r({k:this,Hg:new NPCEditor,list:ObjectLists.rl(),name:"NPC List"}),NPCeditor.ma(),this.V.f(NPCeditor),this.Yb(!1),this.b.main_panel.tab2.npcbtn.n(Ha)),!0;if(Q(this.b.main_panel.tab2.itembtn,c))return this.b.main_panel.tab2.warpbtn.n(P),this.b.main_panel.tab2.itembtn.n(P),this.b.main_panel.tab2.npcbtn.n(P),
this.b.main_panel.tab2.blockbtn.n(P),this.b.main_panel.tab2.amountLabelHead.B(!1),this.b.main_panel.tab2.amountLabel.m(68,-1E6),this.Dc="items"==this.Dc?"tiles":"items","items"==this.Dc&&(null==Itemeditor||Itemeditor.V||(Itemeditor=null),Itemeditor&&(Itemeditor.ta(),Itemeditor.K(),Itemeditor=null),Itemeditor=new PopupList,Itemeditor.r({k:this,Hg:new ItemEditor,list:ObjectLists.Cf(),name:"Item List"}),Itemeditor.ma(),this.V.f(Itemeditor),this.Yb(!1),this.b.main_panel.tab2.itembtn.n(Ha)),!0}if(3==this.pe){if(Q(this.b.main_panel.tab3.clearbtn,
c))return this.Zx(!0),!0;if(Q(this.b.main_panel.tab3.clearbtnNo,c))return this.Zx(!1),!0;if(Q(this.b.main_panel.tab3.clearbtnYes,c))return E.Fd(),this.Zx(!1),!0;if(Q(this.b.main_panel.tab3.savebtn,c))return this.$x(!0),!0;if(Q(this.b.main_panel.tab3.savebtnNo,c))return this.$x(!1),!0;if(Q(this.b.main_panel.tab3.savebtnYes,c))return E.ZK({up:this.Ys.R(),down:this.Vs.R(),left:this.Ws.R(),right:this.Xs.R()}),E.XL(),this.$x(!1),!0;if(Q(this.b.main_panel.tab3.saveOnExit,c))return this.hL(!this.Jx),!0}return!1},
pj:function(a){this.b.main_panel.tab1.ground1btn.n(P);this.b.main_panel.tab1.ground2btn.n(P);this.b.main_panel.tab1.groundShadowbtn.n(P);this.b.main_panel.tab1.mask1btn.n(P);this.b.main_panel.tab1.mask2btn.n(P);this.b.main_panel.tab1.mask3btn.n(P);this.b.main_panel.tab1.fringe1btn.n(P);this.b.main_panel.tab1.fringe2btn.n(P);this.b.main_panel.tab1.fringeShadowbtn.n(P);this.b.main_panel.tab1.fringe3btn.n(P);this.b.main_panel.tab1[a+"btn"].n(Ga);this.Nw=a},Tn:function(){this.W>=K.length-1&&(this.W=-1);
this.W++;this.b.main_panel.tab1.tiles.ga(K[this.W].texture);this.Tb=K[this.W].name;this.b.main_panel.tab1.textureName.text.ha(this.Tb);this.Q=r.a(0,0);this.ob()},Un:function(){0>=this.W&&(this.W=K.length);this.W--;this.b.main_panel.tab1.tiles.ga(K[this.W].texture);this.Tb=K[this.W].name;this.b.main_panel.tab1.textureName.text.ha(this.Tb);this.Q=r.a(0,0);this.ob()},Zx:function(a){this.b.main_panel.tab3.clearbtnYes.B(a);this.b.main_panel.tab3.clearbtnNo.B(a);this.b.main_panel.tab3.clear_text.B(a);this.b.main_panel.tab3.clearbtn.B(!a)},
$x:function(a){this.b.main_panel.tab3.savebtnYes.B(a);this.b.main_panel.tab3.savebtnNo.B(a);this.b.main_panel.tab3.save_text.B(a);this.b.main_panel.tab3.savebtn.B(!a)},ML:function(a,c,d){if(a[c]==this.DJ&&"moved"==d)return!1;this.DJ=a[c];switch(this.Dc){case "tiles":0!=this.b.main_panel.tab1.selectednode.$i()&&E.sk(c,K[this.W].name,r.a((this.b.main_panel.tab1.selectednode.q.H-16)/32+this.Q.x,9-(this.b.main_panel.tab1.selectednode.q.M-16)/32+this.Q.y),this.Nw);break;case "blocking":if(1!=a[c].sc()){E.mj(c,
1);break}E.mj(c,0);break;case "warping":if(null==Warpeditor||!Warpeditor.V){if(3!=a[c].sc()){E.mj(c,3,this.Yd);break}E.mj(c,0,null)}break;case "signs":if(null==Signeditor||!Signeditor.V){if(7!=a[c].sc()){E.mj(c,7,this.Yd);break}E.mj(c,0,null)}break;case "items":if(null==Itemeditor||!Itemeditor.V){if(4!=a[c].sc()){E.mj(c,4,this.Yd,{amount:this.fj.R()});break}E.mj(c,0,null)}break;case "npcs":if(null==NPCeditor||!NPCeditor.V){if(5!=a[c].sc()){E.mj(c,5,this.Yd);break}E.mj(c,0,null)}break;case "erasing":E.qC(c,
this.Nw)}}});NPCeditor=null;
NPCEditor=Popup.extend({Tb:M[0].name,W:0,pq:function(a,c){Scripteditor&&(Scripteditor.ta(),Scripteditor.K(),this.Yd=a,this.Yb(!0),this.b.main_panel.scriptbtn.text.ha(c.name),this.b.main_panel.scriptbtn.n(r.h(0,255,0,255)))},XD:function(){this.b.main_panel.scriptbtn.text.ha("None");this.b.main_panel.scriptbtn.n(r.h(255,0,0,255))},zc:function(){return{panels:{position:r.a(300,10),children:{background:{X:"GUI/itemeditor_bg.png",d:r.a(0,0)},main_panel:{d:r.a(0,0),position:r.a(0,0),size:r.size(500,330),
children:{namelbl:{label:"Name:",fontSize:20,d:r.a(0,0),position:r.a(4,292),color:r.l(0,0,0)},name_entry:{position:r.a(74,292),size:r.size(266,32),w:r.h(255,255,255,255)},tiles:{d:r.a(0,1),position:r.a(374,232),X:M[0].name},textureleftbtn:{position:r.a(362,292),size:r.size(16,32),X:"GUI/texture_change_left.png",d:r.a(0,0)},texturerightbtn:{position:r.a(471,292),size:r.size(16,32),X:"GUI/texture_change_right.png",d:r.a(0,0)},textureName:{position:r.a(375,292),size:r.size(96,32),X:"GUI/texture_change_middle.png",
d:r.a(0,0),children:{text:{label:K[0].name,fontSize:12,d:r.a(0.5,0.5),position:r.a(48,16),color:r.l(0,0,0)}}},upbtn:{position:r.a(374,236),size:r.size(96,16),w:r.h(0,0,255,255),d:r.a(0,0),children:{text:{label:"^",fontSize:12,d:r.a(0.5,0.5),position:r.a(48,8),color:r.l(255,255,255)}}},downbtn:{position:r.a(374,86),size:r.size(96,16),w:r.h(0,0,255,255),d:r.a(0,0),children:{text:{label:"v",fontSize:12,d:r.a(0.5,0.5),position:r.a(48,8),color:r.l(255,255,255)}}},scriptlbl:{label:"Script:",fontSize:12,
d:r.a(0,0),position:r.a(8,262),color:r.l(0,0,0)},scriptbtn:{position:r.a(8,232),size:r.size(128,26),w:Ha,d:r.a(0,0),children:{text:{label:"None",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.l(0,0,0)}}},okbtn:{position:r.a(434,16),size:r.size(32,32),X:"GUI/tick_icon.png",d:r.a(0,0)},cancelbtn:{position:r.a(384,16),size:r.size(32,32),X:"GUI/cross_icon.png",d:r.a(0,0)}}},control_panel:{d:r.a(0,0),position:r.a(0,330),size:r.size(500,32),children:{header:{label:"Item Editor",fontSize:20,d:r.a(0,
0.5),position:r.a(8,16)},exitBtn:{position:r.a(476,6),size:r.size(20,20),d:r.a(0,0),X:"GUI/close.png"}}}}}}},yc:function(){return"npcEditor"},Oa:null,k:null,data:null,r:function(a){this._super();this.data={name:"",sprite:{texture:null,number:null},script:null};this.Tb=M[0].name;this.W=0;this.k=this.Oa=null;this.Q=r.a(0,0);this.k=a.k;a&&a.data&&(this.data=a.data,this.data.sprite.number&&(this.Q.y=this.data.sprite.number),this.data.script&&(this.Yd=this.data.script))},lj:function(a){I({savenpcs:a+"",
npcsdata:this.data})},Yi:function(a,c){I({savenpcswhole:c})},ma:function(){this._super();for(var a in M)M[a].name==this.data.sprite.texture&&(this.W=a,this.Tb=M[a].name);this.b.main_panel.textureName.text.ha(this.Tb);this.b.main_panel.tiles.ga(M[this.W].texture);null!=this.data.script&&(this.b.main_panel.scriptbtn.n(r.h(0,255,0,255)),this.b.main_panel.scriptbtn.text.ha(ObjectLists.aj()[this.data.script].name),this.Yd=this.data.script);this.Oa=new $(this.b.main_panel.name_entry,r.size(this.b.main_panel.name_entry.c().width,
this.b.main_panel.name_entry.c().height),r.a(0,this.b.main_panel.name_entry.c().height),this.data.name?this.data.name:"",r.h(100,100,100),r.l(255,255,255));this.Oa.fb(!0);this.ob()},ta:function(a){this._super();if(this.k){var c=this.k;!0!=a&&this.k.Fc(function(){c.dd(null)})}},ob:function(){this.cc(this.ob);this.b.main_panel.tiles.da()&&!0==this.b.main_panel.tiles.da().vc&&(this.Uc(this.ob),this.b.main_panel.tiles.Ub(r.rect(Math.floor(96*this.Q.x),Math.floor(128*this.Q.y),96>M[this.W].texture.c().width?
M[this.W].texture.c().width:96,128>M[this.W].texture.c().height?M[this.W].texture.c().height:128)))},lb:function(a){if(this._super(a))return!0;this.Vd=null;a=this.b.main_panel.Ia(a.L);if(Q(this.b.main_panel.okbtn,a)){if(null==this.Oa.R()||""==this.Oa.R())return!0;this.Ff=!0;this.data.name=this.Oa.R();this.data.sprite.number=this.Q.y;this.data.script=this.Yd;this.k.dd(this.data);return!0}if(Q(this.b.main_panel.cancelbtn,a)){this.Ff=!0;var c=this.k;this.k.Fc(function(){c.dd(null)});return!0}Q(this.b.main_panel.scriptbtn,
a)&&(Scripteditor?(Scripteditor.ta(),Scripteditor.K(),Scripteditor=null):(Scripteditor=new PopupList,Scripteditor.r({k:this,Hg:new ScriptEditor,list:ObjectLists.aj(),name:"Script List"}),Scripteditor.ma(),this.f(Scripteditor)));return Q(this.b.main_panel.upbtn,a)?(320<M[this.W].texture.c().height&&0<this.Q.y&&(this.Q.y--,this.ob()),!0):Q(this.b.main_panel.downbtn,a)?(320<M[this.W].texture.c().height&&this.Q.y<(M[this.W].texture.c().height-320)/32&&(this.Q.y++,this.ob()),!0):Q(this.b.main_panel.texturerightbtn,
a)?(this.Tn(),!0):Q(this.b.main_panel.textureleftbtn,a)?(this.Un(),!0):!1},IL:function(){this.data.stackable=!this.data.stackable;this.b.main_panel.stackbtn.n(Ha);this.b.main_panel.stackbtn.text.ha("NOT STACKABLE");!0==this.data.stackable&&(this.b.main_panel.stackbtn.n(Ga),this.b.main_panel.stackbtn.text.ha("IS STACKABLE"))},Tn:function(){this.W>=M.length-1&&(this.W=-1);this.W++;this.b.main_panel.tiles.ga(M[this.W].texture);this.Tb=M[this.W].name;this.b.main_panel.textureName.text.ha(this.Tb);this.data.sprite.texture=
this.Tb;this.Q=r.a(0,0);this.ob()},Un:function(){0>=this.W&&(this.W=M.length);this.W--;this.b.main_panel.tiles.ga(M[this.W].texture);this.Tb=M[this.W].name;this.b.main_panel.textureName.text.ha(this.Tb);this.Q=r.a(0,0);this.ob()}});Skillseditor=null;
SkillsEditor=Popup.extend({Tb:K[0].name,W:0,zc:function(){return{panels:{position:r.a(300,10),children:{main_panel:{d:r.a(0,0),position:r.a(0,0),size:r.size(420,396),w:r.h(0,0,100,120),children:{tab1:{children:{tiles:{d:r.a(0,1),position:r.a(16,320),X:K[0].name},textureleftbtn:{position:r.a(208,340),size:r.size(16,32),w:P,d:r.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,d:r.a(0.5,0.5),position:r.a(8,16),color:r.l(0,0,0)}}},texturerightbtn:{position:r.a(320,340),size:r.size(16,32),w:P,d:r.a(0,
0),children:{text:{label:"\x3e\x3e",fontSize:12,d:r.a(0.5,0.5),position:r.a(8,16),color:r.l(0,0,0)}}},textureName:{position:r.a(224,340),size:r.size(96,32),w:r.h(255,255,255,170),d:r.a(0,0),children:{text:{label:K[0].name,fontSize:12,d:r.a(0.5,0.5),position:r.a(48,16),color:r.l(0,0,0)}}},leftbtn:{position:r.a(0,64),size:r.size(16,252),w:r.h(0,0,255,255),d:r.a(0,0),children:{text:{label:"\x3c",fontSize:12,d:r.a(0.5,0.5),position:r.a(8,160),color:r.l(255,255,255)}}},rightbtn:{position:r.a(336,64),size:r.size(16,
252),w:r.h(0,0,255,255),d:r.a(0,0),children:{text:{label:"\x3e",fontSize:12,d:r.a(0.5,0.5),position:r.a(8,160),color:r.l(255,255,255)}}},upbtn:{position:r.a(16,320),size:r.size(320,16),w:r.h(0,0,255,255),d:r.a(0,0),children:{text:{label:"^",fontSize:12,d:r.a(0.5,0.5),position:r.a(160,8),color:r.l(255,255,255)}}},downbtn:{position:r.a(16,48),size:r.size(320,16),w:r.h(0,0,255,255),d:r.a(0,0),children:{text:{label:"v",fontSize:12,d:r.a(0.5,0.5),position:r.a(160,8),color:r.l(255,255,255)}}},highlightnode:{d:r.a(0,
0),position:r.a(0,0),size:r.size(32,32),w:r.h(255,100,100,255)},selectednode:{d:r.a(0,0),position:r.a(0,0),size:r.size(32,32),w:r.h(100,255,100,255)}}},tab2:{children:{name_text:{label:"Skill Name",fontSize:10,d:r.a(0,0),position:r.a(8,344)},name_entry:{size:r.size(136,32),position:r.a(4,312)},healthcolor_text:{label:"Healthbar Color",fontSize:10,d:r.a(0,0),position:r.a(8,250)},healthcolor_entry:{size:r.size(136,32),position:r.a(4,210)},tile:{d:r.a(0,1),position:r.a(55,150),X:K[0].name},healthbtn:{position:r.a(8,
265),size:r.size(128,26),w:Ha,d:r.a(0,0),children:{text:{label:"NOT HEALTHBAR",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.l(0,0,0)}}}}},tab1Clickable:{position:r.a(0,376),size:r.size(60,20),w:P,d:r.a(0,0),children:{text:{label:"Icon",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,10),color:r.l(0,0,0)}}},tab2Clickable:{position:r.a(64,376),size:r.size(60,20),w:P,d:r.a(0,0),children:{text:{label:"Details",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,10),color:r.l(0,0,0)}}},okbtn:{position:r.a(76,
8),size:r.size(60,32),w:P,d:r.a(0,0),children:{text:{label:"OK",fontSize:12,d:r.a(0.5,0.5),position:r.a(30,16),color:r.l(0,0,0)}}},cancelbtn:{position:r.a(8,8),size:r.size(60,32),w:P,d:r.a(0,0),children:{text:{label:"Cancel",fontSize:12,d:r.a(0.5,0.5),position:r.a(30,16),color:r.l(0,0,0)}}}}},control_panel:{d:r.a(0,0),position:r.a(0,396),size:r.size(420,32),w:r.h(255,0,0,200),children:{header:{label:"Skill Editor",fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(391,3),size:r.size(26,
26),d:r.a(0,0),w:r.h(255,255,255,200),children:{content:{label:"X",fontSize:20,color:r.l(0,0,0),d:r.a(0.5,0.5),position:r.a(13,13)}}}}}}}}},yc:function(){return"SkillsEditor"},Oa:null,Sp:null,oj:null,pe:0,k:null,data:null,r:function(a){this._super();this.data={sprite:{texture:K[0].name,position:{x:0,y:0}},additionalData:{},healthbar:null,name:""};this.Tb=K[0].name;this.W=0;this.oj=this.Oa=null;this.pe=0;this.k=null;this.Q=r.a(0,0);this.oj=[null,352,142];this.k=a.k;a&&a.data&&(this.data=a.data)},lj:function(a){I({saveskills:a+
"",skillsdata:this.data})},Yi:function(a,c){I({saveskillswhole:c})},ma:function(){this._super();this.b.main_panel.tab1.highlightnode.ra(0);this.b.main_panel.tab1.selectednode.ra(127);for(var a in K)K[a].name==this.data.sprite.texture&&(this.W=a,this.Tb=K[a].name);this.b.main_panel.tab1.textureName.text.ha(this.Tb);this.b.main_panel.tab1.tiles.ga(K[this.W].texture);for(a=this.data.sprite.position.x;10<=a;)a--,this.Q.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.Q.y++;a=r.a(32*(this.data.sprite.position.x-
this.Q.x),32*(this.data.sprite.position.y-this.Q.y));this.b.main_panel.tab1.selectednode.m(this.b.main_panel.tab1.tiles.q.x+a.x,this.b.main_panel.tab1.tiles.q.y-(a.y+32));this.b.main_panel.tab2.tile.ga(K[this.W].texture);this.b.main_panel.tab2.tile.Ub(r.rect(Math.floor(32*this.data.sprite.position.x),Math.floor(32*this.data.sprite.position.y),32,32));this.Oa=new $(this.b.main_panel.tab2.name_entry,r.size(this.b.main_panel.tab2.name_entry.c().width,this.b.main_panel.tab2.name_entry.c().height),r.a(0,
this.b.main_panel.tab2.name_entry.c().height),this.data.name?this.data.name:"",r.h(100,100,100),r.l(255,255,255));this.Oa.fb(!0);this.Sp=new $(this.b.main_panel.tab2.healthcolor_entry,r.size(this.b.main_panel.tab2.healthcolor_entry.c().width,this.b.main_panel.tab2.healthcolor_entry.c().height),r.a(0,this.b.main_panel.tab2.healthcolor_entry.c().height),this.data.healthbar?this.data.healthbar:"",r.h(100,100,100),r.l(255,255,255));this.Sp.fb(!0);this.b.main_panel.tab2.healthbtn.n(Ha);this.b.main_panel.tab2.healthbtn.text.ha("NOT HEALTHBAR");
null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.n(Ga),this.b.main_panel.tab2.healthbtn.text.ha("IS HEALTHBAR"));this.Ml(1);this.ob()},wca:function(){},ta:function(a){this._super();if(this.k){var c=this.k;!0!=a&&this.k.Fc(function(){c.dd(null)})}},ij:function(a){a=a.L;if(1==this.pe&&(this.b.main_panel.tab1.highlightnode.ra(0),a=this.b.main_panel.tab1.tiles.Ia(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.c().width&&a.y<=this.b.main_panel.tab1.tiles.c().height))return a.x=
a.x-a.x%32+16,a.y=a.y-a.y%32+64,this.b.main_panel.tab1.highlightnode.ra(127),this.b.main_panel.tab1.highlightnode.m(a),!0},Ml:function(a){a!=this.pe&&(this.b.main_panel.S(this.oj[a],this.b.main_panel.c().height),this.b.control_panel.S(this.oj[a],this.b.control_panel.c().height),this.b.main_panel.tab2.name_entry.yb(this.b.main_panel.tab2.name_entry.q.H-1E3),this.b.main_panel.tab2.healthcolor_entry.yb(this.b.main_panel.tab2.healthcolor_entry.q.H-1E3),this.b.main_panel.tab2.healthcolor_text.B(!1),this.pe=
a,this.b.main_panel.tab1.B(!1),this.b.main_panel.tab2.B(!1),this.b.main_panel.tab1Clickable.n(P),this.b.main_panel.tab2Clickable.n(P),this.b.main_panel["tab"+a].B(!0),this.b.main_panel["tab"+a+"Clickable"].n(r.h(255,255,0,255)),this.b.control_panel.exitBtn.yb(this.oj[a]-29));2==a&&(this.b.main_panel.tab2.name_entry.yb(4),null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthcolor_entry.yb(4),this.b.main_panel.tab2.healthcolor_text.B(!0)))},ob:function(){this.cc(this.ob);
this.b.main_panel.tab1.tiles.da()&&!0==this.b.main_panel.tab1.tiles.da().vc&&(this.Uc(this.ob),this.b.main_panel.tab1.tiles.Ub(r.rect(Math.floor(32*this.Q.x),Math.floor(32*this.Q.y),320>K[this.W].texture.c().width?K[this.W].texture.c().width:320,256>K[this.W].texture.c().height?K[this.W].texture.c().height:256)))},lb:function(a){if(this._super(a))return!0;this.Vd=null;a=a.L;var c=this.b.main_panel.Ia(a);if(Q(this.b.main_panel.tab1Clickable,c))return this.Ml(1),!0;if(Q(this.b.main_panel.tab2Clickable,
c))return this.Ml(2),!0;if(Q(this.b.main_panel.okbtn,c)){if(null==this.Oa.R()||""==this.Oa.R())return!0;this.Ff=!0;this.data.name=this.Oa.R();if(null!=this.Sp.R()||""!=this.Sp.R())this.data.healthbar=this.Sp.R();this.k.dd(this.data);return!0}if(Q(this.b.main_panel.cancelbtn,c)){this.Ff=!0;var d=this.k;this.k.Fc(function(){d.dd(null)});return!0}if(1==this.pe){if(Q(this.b.main_panel.tab1.leftbtn,c))return 264<K[this.W].texture.c().width&&0<this.Q.x&&(this.Q.x--,this.ob()),!0;if(Q(this.b.main_panel.tab1.rightbtn,
c))return 320<K[this.W].texture.c().width&&this.Q.x<(K[this.W].texture.c().width-320)/32&&(this.Q.x++,this.ob()),!0;if(Q(this.b.main_panel.tab1.upbtn,c))return 320<K[this.W].texture.c().height&&0<this.Q.y&&(this.Q.y--,this.ob()),!0;if(Q(this.b.main_panel.tab1.downbtn,c))return 320<K[this.W].texture.c().height&&this.Q.y<(K[this.W].texture.c().height-320)/32&&(this.Q.y++,this.ob()),!0;if(Q(this.b.main_panel.tab1.texturerightbtn,c))return this.Tn(),!0;if(Q(this.b.main_panel.tab1.textureleftbtn,c))return this.Un(),
!0;c=this.b.main_panel.tab1.tiles.Ia(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.c().width&&c.y<=this.b.main_panel.tab1.tiles.c().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+64;this.b.main_panel.tab1.selectednode.ra(0);if(this.b.main_panel.tab1.selectednode.q.H!=c.x||this.b.main_panel.tab1.selectednode.q.M!=c.y)this.b.main_panel.tab1.selectednode.ra(127),this.b.main_panel.tab1.selectednode.m(c);a=r.a((this.b.main_panel.tab1.selectednode.q.H-16)/32+this.Q.x,8-(this.b.main_panel.tab1.selectednode.q.M-
64)/32+this.Q.y-1);this.b.main_panel.tab2.tile.Ub(r.rect(32*a.x,32*a.y,32,32));this.data.sprite.position=a;console.log("TOUCHED");return!0}}return 2==this.pe&&Q(this.b.main_panel.tab2.healthbtn,c)?(this.yY(),!0):!1},yY:function(){this.b.main_panel.tab2.healthcolor_entry.yb(this.b.main_panel.tab2.healthcolor_entry.q.H-1E3);this.b.main_panel.tab2.healthcolor_text.B(!1);null!=this.data.healthbar&&""!=this.data.healthbar?(this.data.healthbar="",this.Sp.Ke("")):(this.data.healthbar="FF0000",this.b.main_panel.tab2.healthcolor_entry.yb(4),
this.b.main_panel.tab2.healthcolor_text.B(!0));this.b.main_panel.tab2.healthbtn.n(Ha);this.b.main_panel.tab2.healthbtn.text.ha("NOT HEALTHBAR");null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.n(Ga),this.b.main_panel.tab2.healthbtn.text.ha("IS HEALTHBAR"))},Tn:function(){this.W>=K.length-1&&(this.W=-1);this.W++;this.b.main_panel.tab1.tiles.ga(K[this.W].texture);this.b.main_panel.tab2.tile.ga(K[this.W].texture);this.Tb=K[this.W].name;this.b.main_panel.tab1.textureName.text.ha(this.Tb);
this.data.sprite.texture=this.Tb;this.Q=r.a(0,0);this.ob()},Un:function(){0>=this.W&&(this.W=K.length);this.W--;this.b.main_panel.tab1.tiles.ga(K[this.W].texture);this.b.main_panel.tab2.tile.ga(K[this.W].texture);this.Tb=K[this.W].name;this.b.main_panel.tab1.textureName.text.ha(this.Tb);this.Q=r.a(0,0);this.ob()}});PopupList=Popup.extend({Zf:null,Pc:[],jD:null,Mn:!1,Ix:-1,T8:0,gI:null,F:null,ZI:!1,ta:function(){this._super();this.k&&(this.k.Yb(!0),!this.ZI&&this.k.XD&&this.k.XD(null,null))},r:function(a){this._super();this.Zf=null;this.Pc=[];this.jD=null;this.Mn=!1;this.Ix=-1;this.Zf=a.Hg;a.list&&(this.Pc=a.list);this.jD=a.name;this.k=a.k},ma:function(){this._super();this.ib()},F:null,ib:function(){this.F&&this.F.ca.K();var a=[],c=[],d=r.ea.e();this.gI={};for(var e in this.Pc)if(a[e]=r.D.create(),a[e].S(324,
32),null==this.Pc[e])this.Pc.splice(e,1);else{if(null!=this.k){var f=r.A.bb(d.pa("GUI/use.png"));f.m(r.a(244,6));f.G(r.a(0,0))}var g=r.aa.create(r.h(0,0,0,127),316,1);g.m(r.a(4,0));var h=r.P.create(this.Pc[e].name,"Arial",20);h.G(r.a(0,0.5));h.m(r.a(0,16));var k=r.A.bb(d.pa("GUI/edit.png"));k.m(r.a(272,6));k.G(r.a(0,0));var l=r.A.bb(d.pa("GUI/trash.png"));l.m(r.a(300,6));l.G(r.a(0,0));k.Xb="Edit";var m=[];m.push(k);l.Xb="Delete";m.push(l);null!=this.k&&(f.Xb="Use",m.push(f));c.push(m);a[e].f(g);a[e].f(h);
a[e].f(k);a[e].f(l);null!=this.k&&a[e].f(f)}d=r.aa.create(r.h(70,200,70,255),90,26);e=r.P.create("+","Arial",20);e.m(45,13);e.G(r.a(0.5,0.5));d.m(r.a(120,0));d.Xb="Add";d.f(e);c.push([d]);a.push(d);this.F=this.b.main_panel.list;var n=this;this.F.Zc=function(){return r.size(324,32*a.length)};this.F.Qc=function(){return a.length};this.F.fd=function(c){return a[c].c()};this.F.ed=function(c){return a[c]};this.F.bc=function(a,c,d){n.Ia(d.L);if(!0!=n.Mn)switch(a){case "Delete":n.V.f(DropDownList.ud(n,n.nC,
["Cancel","Delete"],d.L));n.kb=c;break;case "Edit":n.Zf.V&&n.Zf.K();n.Mn=!0;n.Zf.r({k:n,data:n.Pc[c]});n.V.f(n.Zf);n.Yb(!1);n.Zf.ma();n.Ix=c+"";break;case "Add":n.SH=!0;n.Mn=!0;n.Ix=n.Pc.length;n.Zf.r({k:n,data:null});n.Yb(!1);n.V.f(n.Zf);n.Zf.ma();break;case "Use":n.k.pq(c,n.Pc[c]),n.ZI=!0}};this.F.ca=ListView.create(this.F);this.F.ca.hd(c);this.F.f(this.F.ca)},zc:function(){return{panels:{position:r.a(300,200),children:{background_image:{X:"GUI/list_panel.png",d:r.a(0,0)},main_panel:{d:r.a(0,0),
size:r.size(365,328),children:{list:{size:r.size(324,328),position:r.a(0,0),d:r.a(0,0)}}},control_panel:{d:r.a(0,0),position:r.a(0,328),size:r.size(365,32),children:{header:{label:this.jD,fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(337,6),size:r.size(20,20),d:r.a(0,0),X:"GUI/close.png"}}}}}}},kb:null,nC:function(a){switch(a){case 1:null!=this.k.kb&&(this.k.rS(this.k.kb),this.k.kb=null)}},lb:function(a){if(this._super(a))return!0;this.Vd=null;a=this.b.main_panel.Ia(a.L);return Q(this.b.main_panel,
a)?!0:!1},dd:function(a){a&&(this.Zf.lj(this.Ix),this.SH&&(this.Pc.push(a),this.ib()));this.Yb(!0);this.Mn=this.SH=!1;var c=this;this.Fc(function(){c.Zf.ta(!0);c.Zf.K()})},rS:function(a){this.Pc.splice(a,1);this.Zf.Yi(a,this.Pc);this.ib()}});Warpeditor=null;
WarpEditor=Popup.extend({yc:function(){return"WarpEditor"},lj:function(a){I({savewarps:a+"",warpdata:this.data})},Yi:function(a,c){I({savewarpswhole:c})},zc:function(){return{panels:{position:r.a(300,200),children:{background:{X:"GUI/warpeditor_bg.png",d:r.a(0,0)},main_panel:{d:r.a(0,0),size:r.size(180,160),children:{okbtn:{position:r.a(114,16),size:r.size(32,32),X:"GUI/tick_icon.png",d:r.a(0,0)},cancelbtn:{position:r.a(34,16),size:r.size(32,32),X:"GUI/cross_icon.png",d:r.a(0,0)},namelbl:{label:"Name of warp.",
fontSize:12,d:r.a(0,0),position:r.a(20,140),color:r.l(0,0,0)},nameEntry:{position:r.a(16,110),size:r.size(120,30)},mapnumlbl:{label:"Map #",fontSize:12,d:r.a(0,0),position:r.a(20,90),color:r.l(0,0,0)},mapNumEntry:{position:r.a(16,60),size:r.size(40,30)},mapxlbl:{label:"x",fontSize:12,d:r.a(0,0),position:r.a(80,90),color:r.l(0,0,0)},mapXEntry:{position:r.a(76,60),size:r.size(36,30)},mapylbl:{label:"y",fontSize:12,d:r.a(0,0),position:r.a(130,90),color:r.l(0,0,0)},mapYEntry:{position:r.a(126,60),size:r.size(36,
30)}}},control_panel:{d:r.a(0,0),position:r.a(0,160),size:r.size(180,32),children:{header:{label:"Warp Editor",fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(156,6),size:r.size(20,20),d:r.a(0,0),X:"GUI/close.png"}}}}}}},Oa:null,aq:null,bq:null,cq:null,k:null,data:null,r:function(a){this._super();this.k=this.cq=this.bq=this.aq=this.Oa=null;this.data={mapTo:0,position:0,name:""};a.data&&(this.data=a.data);this.k=a.k},ma:function(){this._super();var a=this.data.position%U,c=Math.floor(this.data.position/
U);this.Oa=new $(this.b.main_panel.nameEntry,r.size(this.b.main_panel.nameEntry.c().width,this.b.main_panel.nameEntry.c().height),r.a(0,this.b.main_panel.nameEntry.c().height),this.data.name,r.h(100,100,100),r.l(255,255,255));this.Oa.fb(!0);this.aq=new $(this.b.main_panel.mapNumEntry,r.size(this.b.main_panel.mapNumEntry.c().width,this.b.main_panel.mapNumEntry.c().height),r.a(0,this.b.main_panel.mapNumEntry.c().height),""+this.data.mapTo,r.h(100,100,100),r.l(255,255,255));this.aq.fb(!0);this.bq=new $(this.b.main_panel.mapXEntry,
r.size(this.b.main_panel.mapXEntry.c().width,this.b.main_panel.mapXEntry.c().height),r.a(0,this.b.main_panel.mapXEntry.c().height),""+a,r.h(100,100,100),r.l(255,255,255));this.bq.fb(!0);this.cq=new $(this.b.main_panel.mapYEntry,r.size(this.b.main_panel.mapYEntry.c().width,this.b.main_panel.mapYEntry.c().height),r.a(0,this.b.main_panel.mapYEntry.c().height),""+c,r.h(100,100,100),r.l(255,255,255));this.cq.fb(!0)},lb:function(a){if(this._super(a))return!0;this.Vd=null;a=this.b.main_panel.Ia(a.L);if(Q(this.b.main_panel.okbtn,
a)){if(null==this.Oa.R()||""==this.Oa.R()||null==this.aq.R()||""==this.aq.R()||null==this.bq.R()||""==this.bq.R()||null==this.cq.R()||""==this.cq.R())return!0;this.Ff=!0;this.data.position=V(parseInt(this.bq.R()),Pa-parseInt(this.cq.R()));this.data.mapTo=parseInt(this.aq.R());this.data.name=this.Oa.R();this.k.dd(this.data);return!0}if(Q(this.b.main_panel.cancelbtn,a)){this.Ff=!0;var c=this.k;this.k.Fc(function(){c.dd(null)});return!0}},ta:function(a){this._super();var c=this.k;a||this.k.Fc(function(){c.dd(null)})}});Signeditor=null;
SignEditor=Popup.extend({yc:function(){return"SignEditor"},lj:function(a){I({savesigns:a+"",signsdata:this.data})},Yi:function(a,c){I({savesignswhole:c})},zc:function(){return{panels:{position:r.a(300,200),children:{background:{X:"GUI/signeditor_bg.png",d:r.a(0,0)},main_panel:{d:r.a(0,0),size:r.size(142,256),children:{okbtn:{position:r.a(88,16),size:r.size(32,32),X:"GUI/tick_icon.png",d:r.a(0,0)},cancelbtn:{position:r.a(22,16),size:r.size(32,32),X:"GUI/cross_icon.png",d:r.a(0,0)},namelbl:{label:"Name of sign.",
fontSize:12,d:r.a(0,0),position:r.a(6,238),color:r.l(0,0,0)},nameEntry:{position:r.a(4,206),size:r.size(120,30)},signlbl:{label:"Contents",fontSize:12,d:r.a(0,0),position:r.a(6,190),color:r.l(0,0,0)},signEntry:{position:r.a(4,60),size:r.size(120,128)}}},control_panel:{d:r.a(0,0),position:r.a(0,256),size:r.size(142,32),children:{header:{label:"Sign Editor",fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(118,6),size:r.size(20,20),d:r.a(0,0),X:"GUI/close.png"}}}}}}},Oa:null,qq:null,
k:null,data:null,r:function(a){this._super();this.k=this.qq=this.Oa=null;this.data={label:"",name:""};a.data&&(this.data=a.data);this.k=a.k},ma:function(){this._super();this.Oa=new $(this.b.main_panel.nameEntry,r.size(this.b.main_panel.nameEntry.c().width,this.b.main_panel.nameEntry.c().height),r.a(0,this.b.main_panel.nameEntry.c().height),this.data.name,r.h(100,100,100),r.l(255,255,255));this.Oa.fb(!0);this.qq=new $(this.b.main_panel.signEntry,r.size(this.b.main_panel.signEntry.c().width,this.b.main_panel.signEntry.c().height),
r.a(0,this.b.main_panel.signEntry.c().height),""+this.data.label,r.h(100,100,100),r.l(255,255,255),!0);this.qq.fb(!0)},lb:function(a){if(this._super(a))return!0;this.Vd=null;a=this.b.main_panel.Ia(a.L);if(Q(this.b.main_panel.okbtn,a)){if(null==this.Oa.R()||""==this.Oa.R()||null==this.qq.R()||""==this.qq.R())return!0;this.Ff=!0;this.data.label=this.qq.R();this.data.name=this.Oa.R();this.k.dd(this.data);return!0}if(Q(this.b.main_panel.cancelbtn,a)){this.Ff=!0;var c=this.k;this.k.Fc(function(){c.dd(null)});
return!0}},ta:function(a){this._super();var c=this.k;a||this.k.Fc(function(){c.dd(null)})}});var R=Sa.extend({ctor:function(){this._super()},aM:function(){this._super()},ma:function(){this._super()},ta:function(){this._super()},lb:function(a){r.cb(this.b.health_panel.Ya(),a.L)&&x.e().tl("Game")},r:function(){var a=r.P.create("ITS WOKKIN!","Arial",16);a.n(r.l(0,0,0));a.m(r.a(200,200));this.f(a);this._super()}});NewsPanel=null;
News=Popup.extend({data:null,F:null,kb:null,yc:function(){return"Credits"},ta:function(){this._super()},r:function(){this._super();this.data={"11th November 2014: (v0.74)":["Added quest log (hotkey Q).","Implemented quest response logic. Added 2 additional 'quest unstarted' and 'quest finished' parameters"],"10th November 2014: (v0.735)":["Added user extradata content for subscripting. Allows for developers to code in specific scripting logic if needed.","Extradata updates with user login data and is purposefully not localstorage based."],"9th November 2014: (v0.733)":["Added talking and talk with option callback to the npc scripts contexts."],
"8th November 2014: (v0.731)":["Fixed NPC editor.","Added talk graphic and basic logic for npc interaction","Abstracted Item script logic to a utils function...wiped a lot of duplicate code."],"25th October 2014: (v0.729)":["Added scripting response logic for giving/taking items.","Added scripting requirements logic for if a panel is visible and inventory has a certain amount of slots."],"25th October 2014: (v0.727)":["Fixed a bunch of persistant bugs. Game is now much much more stable than it was.",
"Added scripts for on pickup and on drop. Added some additional response logic for warping the player. Added requirement logic for check if player has items and if player stats are within certain ranges."],"24th October 2014: (v0.724)":["Added functionality to more scripts. Items can now use the destroy and open/close panel scripts.","Fixed equip script to use the equip position defined within the scripting system instead of previously defined sub-item types from previous versions."],"23rd October 2014: (v0.722)":["Added functionality to some item scripts. Game now modifies inventory drop down behaviour based on responses type (read/equip).",
"Items can now influence player stats on equip, dequip, swapped and on read."],"30th September 2014: (v0.72)":["Added user saving and loading for player position, items and equipment. Picked up and equipped items are now stored and saved regardless of session.","Edited the skills panel to utilise the list view logic. Skills menu now shows level and experience progression and uses data from the user account","Added health manipulation functionality utilising new skill logic as noted in the previous point."],
"27th September 2014: (v0.72)":["Added registration and logging in system. Users can now have automatic login setup for their accounts and player data is starting to be saved from an actual account.","Server now has a new folder where user data is stored.","Added the beginnings of a user ranking system, game editors can now only be accessed if the player rank is above 1. Rank 1 is now the default registration rank."],"25th August 2014: (v0.718)":["Added 90% of subeditors needed for the scripting system. Go into the script editor and press the pencil icon on the responses and requirements to edit their core data.",
"Updated script panel texture to utilize inpanel submenu editors.","Abstracted out the script editor so that its not dependant on certain types.","Added/removed requirements responses based on logical conclusions on what is actually needed. Consume as an item response, for example, is unecessary because it would work identically to destroy."],"17th August 2014: (v0.714)":["Added basic template logic of new scripting editor system. Scripts can be saved and loaded like other list systems. This editor currently does not allow you to apply scripts to anything (it is simply the GUI interface template logic that's in there). The item editor has been changed to utilize the new saved scripts list.",
"Fixed localstorage issue caused by settings implementation. Game now does not now load until the game is fully in sync. The issue was causing an error on some game-loads because the localstorage was not yet available (requiring a refresh)."],"11th August 2014: (v0.708)":["Added settings menu for various game controls. Settings menu only currently controls a load of in game string settings. Also added the additional required admin panel graphic for settings access. The new chatbox command is /editsettings.",
"Added scrolling credits button to login page and populated it.","Added this scrolling news feed to login page and obviously populated it as well."],"11th August 2014 (v0.7)":["Added some additional custom gui for some of the editors.","Fixed a lot of bugs (and I mean a lot).","Added 0.7 download to site."],"10th August 2014 (v0.695)":["Added quest objective editor. New button now made usable in menu.","Objective editor utilizes abstract scrolling list from 0.69."]}},lj:function(a){I({savequests:a+
"",questdata:this.data})},Yi:function(a,c){I({savequestswhole:c})},ma:function(){this._super();this.ib()},ib:function(){this.F&&this.F.ac();var a=[],c=[];r.ea.e();var d=0,e;for(e in this.data){a[d]=r.D.create();a[d].S(324,32);var f=r.P.create(e,"Arial",18);f.G(r.a(0,0));f.m(r.a(4,0));f.Ob(r.size(246,0));f.n(r.l(100,0,0));a[d].f(f);a[d].S(324,f.c().height+4);f=[];c.push(f);d++;for(var g in this.data[e]){a[d]=r.D.create();a[d].S(324,32);var h=r.aa.create(r.h(0,0,0,127),316,1);h.m(r.a(4,0));var k=r.P.create(this.data[e][g],
"Arial",15);k.n(r.l(0,0,0));k.G(r.a(0,0));k.m(r.a(4,4));k.Ob(r.size(246,0));f=[];c.push(f);a[d].f(h);a[d].f(k);a[d].S(324,k.c().height+8);d++}}this.F=this.b.main_panel.list;this.F.Zc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return r.size(324,c)};this.F.Qc=function(){return a.length};this.F.fd=function(c){return a[c].c()};this.F.ed=function(c){return a[c]};this.F.bc=function(){};this.F.ca=ListView.create(this.F);this.F.ca.hd(c);this.F.f(this.F.ca)},zc:function(){return{panels:{position:r.a(300,
200),children:{background_image:{X:"GUI/list_panel.png",d:r.a(0,0)},main_panel:{d:r.a(0,0),size:r.size(365,328),children:{list:{size:r.size(324,328),w:r.h(0,200,200,200),position:r.a(0,0),d:r.a(0,0)}}},control_panel:{d:r.a(0,0),position:r.a(0,328),size:r.size(365,32),children:{header:{label:"News",fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(337,6),size:r.size(20,20),d:r.a(0,0),X:"GUI/close.png"}}}}}}},lb:function(a){if(this._super(a))return!0;this.Vd=null;a=this.b.main_panel.Ia(a.L);
return Q(this.b.main_panel,a)?!0:!1}});CreditsPanel=null;
Credits=Popup.extend({data:null,F:null,kb:null,yc:function(){return"Credits"},ta:function(){this._super()},r:function(){this._super();this.data={"Programmed and designed by:":"Alan Tuckwood","Special thanks:":"Claire, for putting up with all the non-talking hours.","Special thanks 2:":"IndieRising dev community for all their wonderful support.","Special thanks 3:":"Finblade, for all the skills I was able to pass into this engine.","Special thanks 4:":"All of you players, who's positive response keep me motivated.","Powder Engine is Copywritten":"Contact the developer in-site regarding questions."}},
lj:function(a){I({savequests:a+"",questdata:this.data})},Yi:function(a,c){I({savequestswhole:c})},ma:function(){this._super();this.ib()},ib:function(){this.F&&this.F.ac();var a=[],c=[];r.ea.e();var d=0,e;for(e in this.data){if("ISSECTION"!=this.data[e]){a[d]=r.D.create();a[d].S(324,32);var f=r.P.create(e,"Arial",18);f.G(r.a(0,0));f.m(r.a(4,0));f.Ob(r.size(246,0));f.n(r.l(100,0,0));a[d].f(f);a[d].S(324,f.c().height+4);f=[];c.push(f);d++}a[d]=r.D.create();a[d].S(324,32);var g=r.aa.create(r.h(0,0,0,
127),316,1);g.m(r.a(4,0));if("ISSECTION"==this.data[e]){var h=r.P.create(e,"Arial",22);h.n(r.l(255,0,0))}else h=r.P.create(this.data[e],"Arial",15),h.n(r.l(0,0,0));h.G(r.a(0,0));h.m(r.a(4,4));h.Ob(r.size(246,0));f=[];c.push(f);a[d].f(g);a[d].f(h);"ISSECTION"==this.data[e]?a[d].S(324,h.c().height+12):a[d].S(324,h.c().height+8);d++}this.F=this.b.main_panel.list;this.F.Zc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return r.size(324,c)};this.F.Qc=function(){return a.length};this.F.fd=
function(c){return a[c].c()};this.F.ed=function(c){return a[c]};this.F.bc=function(){};this.F.ca=ListView.create(this.F);this.F.ca.hd(c);this.F.f(this.F.ca)},zc:function(){return{panels:{position:r.a(300,200),children:{background_image:{X:"GUI/list_panel.png",d:r.a(0,0)},main_panel:{d:r.a(0,0),size:r.size(365,328),children:{list:{size:r.size(324,328),w:r.h(0,200,200,200),position:r.a(0,0),d:r.a(0,0)}}},control_panel:{d:r.a(0,0),position:r.a(0,328),size:r.size(365,32),children:{header:{label:"Credits",
fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(337,6),size:r.size(20,20),d:r.a(0,0),X:"GUI/close.png"}}}}}}},lb:function(a){if(this._super(a))return!0;this.Vd=null;a=this.b.main_panel.Ia(a.L);return Q(this.b.main_panel,a)?!0:!1}});Login=Sa.extend({ht:!1,Wl:!1,r:function(a){z=ua(z,v.FC());this._super();x.In(this);this.Wp=this.eD=!1;this.nk=new $(this.b.name_entry,r.size(this.b.name_entry.c().width,this.b.name_entry.c().height),r.a(0,this.b.name_entry.c().height),"Username",r.h(100,100,100),r.l(255,255,255));this.El=new $(this.b.password_entry,r.size(this.b.password_entry.c().width,this.b.password_entry.c().height),r.a(0,this.b.password_entry.c().height),"Password",r.h(100,100,100),r.l(255,255,255));this.El.Mx(0);this.DD=new $(this.b.new_user_name,
r.size(this.b.new_user_name.c().width,this.b.new_user_name.c().height),r.a(0,this.b.new_user_name.c().height),"Username",r.h(100,100,100),r.l(255,255,255));this.Cx=new $(this.b.new_user_pass,r.size(this.b.new_user_pass.c().width,this.b.new_user_pass.c().height),r.a(0,this.b.new_user_pass.c().height),"Password",r.h(100,100,100),r.l(255,255,255));this.Cx.Mx(0);this.CD=new $(this.b.new_user_email,r.size(this.b.new_user_email.c().width,this.b.new_user_email.c().height),r.a(0,this.b.new_user_email.c().height),
"Email Address",r.h(100,100,100),r.l(255,255,255));this.UH=!1;a&&(a.IJ?(t=[],I({logout:!0})):this.UH=!0,this.Kn(a.RD));this.cc(this.iC);this.TH=!1;this.cc(this.lE);this.RC();this.b.rem_login_text.Ob(r.size(80,0));this.b.auto_login_text.Ob(r.size(80,0));this.b.server_message.Ob(r.size(300,0));this.b.server_message2.Ob(r.size(150,0))},Dl:function(a){switch(a){case "ENTER":if(this.eD){a=this.DD.R();var c=this.Cx.R(),d=this.CD.R();""!=a&&null!=a&&""!=c&&null!=c&&""!=d&&null!=d?!1==/\S+@\S+\.\S+/.test(d)?
this.hg("Please use a correct email address."):(this.Wp=!0,this.hg("Registering please wait..."),this.rK({name:a,password:c,email:d})):this.hg("Please fill all fields.")}else!1==this.Wl&&this.ht?(a=this.nk.R(),c=this.El.R(),""!=a&&null!=a&&""!=c&&null!=c?(this.Wl=!0,this.hg("Logging In"),I({login:!0,username:this.nk.R(),password:this.El.R()})):this.hg("Please enter a User and Password")):this.px("Server is offline!")}},Kn:function(a){this.ht=a;!0==a?(this.b.server_activity.ha("Server: Online"),this.b.server_activity.n(r.l(0,
255,0))):(this.b.server_activity.ha("Server: Offline"),this.b.server_activity.n(r.l(255,0,0)))},iC:function(){var a=v.IT();a&&!1==this.TH&&(this.nk.Ke(a.user),this.TH=!0,this.El.Ke(a.pass));!0==this.UH&&autoLoginNextTime&&!1==this.Wl&&this.ht&&(!1==this.Wl&&this.ht?(this.Wl=!0,this.hg("Logging In"),I({login:!0,username:this.nk.R(),password:this.El.R()})):this.px("Server is offline!"))},lE:function(){if(0<t.length)for(var a=t.length-1;0<=a;a--)reactToSocketMessage(t[a]),t.splice(a,1);autoLoginNextTime?
(v.GK(!0),this.b.auto_login.ga(r.ea.e().pa("GUI/checkbox_checked.png"))):(v.GK(!1),this.b.auto_login.ga(r.ea.e().pa("GUI/checkbox_uncheck.png")));rememberLoginNextTime?this.b.remember_login.ga(r.ea.e().pa("GUI/checkbox_checked.png")):this.b.remember_login.ga(r.ea.e().pa("GUI/checkbox_uncheck.png"))},zc:function(){return{panels:{children:{background:{X:"GUI/splash.png",size:r.size(960,640),d:r.a(0,0),position:r.a(0,0)},name_entry:{size:r.size(300,30),position:r.a(325,325)},password_entry:{size:r.size(300,
30),position:r.a(325,290)},new_user_name:{size:r.size(300,30),position:r.a(325,360)},new_user_pass:{size:r.size(300,30),position:r.a(325,325)},new_user_email:{size:r.size(300,30),position:r.a(325,290)},remember_login:{size:r.size(20,20),position:r.a(630,295),X:"GUI/checkbox_uncheck.png",d:r.a(0,0)},rem_login_text:{label:"Remember login.",fontSize:16,color:r.l(255,255,255),d:r.a(0,1),position:r.a(665,315)},auto_login:{size:r.size(20,20),position:r.a(630,330),X:"GUI/checkbox_uncheck.png",d:r.a(0,0)},
auto_login_text:{label:"Auto login next time.",fontSize:16,color:r.l(255,255,255),d:r.a(0,0),position:r.a(665,330)},go_button:{position:r.a(325,240),size:r.size(120,40),w:r.h(0,0,0,255),children:{label:{label:"Play",fontSize:20,color:r.l(255,255,255),d:r.a(0.5,0.5),position:r.a(60,20)}}},register_button:{position:r.a(505,240),size:r.size(120,40),w:r.h(0,0,0,255),d:r.a(0,1),children:{label:{label:"Register",fontSize:20,color:r.l(255,255,255),d:r.a(0.5,0.5),position:r.a(60,20)}}},new_user_back:{position:r.a(325,
240),size:r.size(120,40),w:r.h(0,0,0,255),children:{label:{label:"Go Back",fontSize:20,color:r.l(255,255,255),d:r.a(0.5,0.5),position:r.a(60,20)}}},new_user_confirm:{position:r.a(505,240),size:r.size(120,40),w:r.h(0,0,0,255),d:r.a(0,1),children:{label:{label:"Confirm",fontSize:20,color:r.l(255,255,255),d:r.a(0.5,0.5),position:r.a(60,20)}}},credits_button:{position:r.a(30,400),size:r.size(120,40),w:r.h(0,0,0,255),children:{label:{label:"Credits",fontSize:20,color:r.l(255,255,255),d:r.a(0.5,0.5),position:r.a(60,
20)}}},news_button:{position:r.a(30,340),size:r.size(120,40),w:r.h(0,0,0,255),d:r.a(0,1),children:{label:{label:"News",fontSize:20,color:r.l(255,255,255),d:r.a(0.5,0.5),position:r.a(60,20)}}},server_message:{label:"",fontSize:16,color:r.l(255,255,255),d:r.a(0,1),position:r.a(325,220)},server_message2:{label:"This game saves data automatically.",fontSize:16,color:r.l(255,255,255),d:r.a(0,1),position:r.a(175,355)},version_number:{label:z["Version Number"],fontSize:34,color:r.l(255,255,255),d:r.a(1,
1),position:r.a(710,55)},server_activity:{position:r.a(910,630),size:r.size(100,20),d:r.a(0.5,0.5),label:"Server: Offline",color:r.l(255,0,0)}}}}},AY:function(){autoLoginNextTime?(autoLoginNextTime=!1,this.b.auto_login.ga(r.ea.e().pa("GUI/checkbox_uncheck.png"))):(autoLoginNextTime=!0,this.b.auto_login.ga(r.ea.e().pa("GUI/checkbox_checked.png")),rememberLoginNextTime=!0,this.b.remember_login.ga(r.ea.e().pa("GUI/checkbox_checked.png")))},BY:function(){rememberLoginNextTime?(rememberLoginNextTime=!1,
this.b.remember_login.ga(r.ea.e().pa("GUI/checkbox_uncheck.png")),autoLoginNextTime=!1,this.b.auto_login.ga(r.ea.e().pa("GUI/checkbox_uncheck.png"))):(rememberLoginNextTime=!0,this.b.remember_login.ga(r.ea.e().pa("GUI/checkbox_checked.png")))},lb:function(a){if(null!=this.nk.R()&&this.b.go_button.la&&r.cb(r.rect(this.b.go_button.q.H,this.b.go_button.q.M,this.b.go_button.c().width,this.b.go_button.c().height),a.L)){if(!1==this.Wl&&this.ht){a=this.nk.R();var c=this.El.R();""!=a&&null!=a&&""!=c&&null!=
c?(this.Wl=!0,this.hg("Logging In"),I({login:!0,username:this.nk.R(),password:this.El.R()})):this.hg("Please enter a User and Password")}else this.px("Server is offline!");return!0}this.b.credits_button.la&&r.cb(r.rect(this.b.credits_button.q.H,this.b.credits_button.q.M,this.b.credits_button.c().width,this.b.credits_button.c().height),a.L)&&this.If("/openCredits");this.b.news_button.la&&r.cb(r.rect(this.b.news_button.q.H,this.b.news_button.q.M,this.b.news_button.c().width,this.b.news_button.c().height),
a.L)&&this.If("/openNews");if(this.b.register_button.la&&r.cb(r.rect(this.b.register_button.q.H,this.b.register_button.q.M,this.b.register_button.c().width,this.b.register_button.c().height),a.L))return this.mY(),!1;if(this.b.auto_login.la&&r.cb(r.rect(this.b.auto_login.q.H,this.b.auto_login.q.M,this.b.auto_login.c().width,this.b.auto_login.c().height),a.L))return this.AY(),!1;if(this.b.remember_login.la&&r.cb(r.rect(this.b.remember_login.q.H,this.b.remember_login.q.M,this.b.remember_login.c().width,
this.b.remember_login.c().height),a.L))return this.BY(),!1;if(this.b.new_user_back.la&&!1==this.Wp&&r.cb(r.rect(this.b.new_user_back.q.H,this.b.new_user_back.q.M,this.b.new_user_back.c().width,this.b.new_user_back.c().height),a.L))return this.RC(),this.hg(""),!1;if(this.b.new_user_confirm.la&&!1==this.Wp&&r.cb(r.rect(this.b.new_user_confirm.q.H,this.b.new_user_confirm.q.M,this.b.new_user_confirm.c().width,this.b.new_user_confirm.c().height),a.L)){a=this.DD.R();var c=this.Cx.R(),d=this.CD.R();""!=
a&&null!=a&&""!=c&&null!=c&&""!=d&&null!=d?!1==/\S+@\S+\.\S+/.test(d)?this.hg("Please use a correct email address."):(this.Wp=!0,this.hg("Registering please wait..."),this.rK({name:a,password:c,email:d})):this.hg("Please fill all fields.");return!1}},rK:function(a){a.newUser=1;I(a)},cS:function(){this.hg("Registration successful.");this.DD.Ke("Username");this.Cx.Ke("Password");this.CD.Ke("Email Address");this.Wp=!1;this.RC()},RS:function(a){this.Wp=!1;switch(a){case "UserTaken":this.hg("Registration failed, user already exists.")}},
mY:function(){this.b.new_user_name.B(!0);this.b.new_user_pass.B(!0);this.b.new_user_email.B(!0);this.b.new_user_confirm.B(!0);this.b.new_user_back.B(!0);this.b.register_button.B(!1);this.b.go_button.B(!1);this.b.name_entry.yb(-1E5);this.b.password_entry.yb(-1E5);this.b.new_user_name.yb(325);this.b.new_user_pass.yb(325);this.b.new_user_email.yb(325);this.b.rem_login_text.B(!1);this.b.auto_login_text.B(!1);this.b.auto_login.B(!1);this.b.remember_login.B(!1);this.eD=!0},RC:function(){this.b.new_user_name.B(!1);
this.b.new_user_pass.B(!1);this.b.new_user_email.B(!1);this.b.new_user_confirm.B(!1);this.b.new_user_back.B(!1);this.b.register_button.B(!0);this.b.go_button.B(!0);this.b.name_entry.yb(325);this.b.password_entry.yb(325);this.b.new_user_name.yb(-1E5);this.b.new_user_pass.yb(1E5);this.b.new_user_email.yb(1E5);this.b.rem_login_text.B(!0);this.b.auto_login_text.B(!0);this.b.auto_login.B(!0);this.b.remember_login.B(!0);this.eD=!1},If:function(a){switch(a){case "/openCredits":null==CreditsPanel||CreditsPanel.V||
(CreditsPanel=null);CreditsPanel?(CreditsPanel.ta(),CreditsPanel.K(),CreditsPanel=null):(CreditsPanel=new Credits,CreditsPanel.r(),CreditsPanel.ma(),this.f(CreditsPanel));break;case "/openNews":null==NewsPanel||NewsPanel.V||(NewsPanel=null),NewsPanel?(NewsPanel.ta(),NewsPanel.K(),NewsPanel=null):(NewsPanel=new News,NewsPanel.r(),NewsPanel.ma(),this.f(NewsPanel))}},cV:function(a){rememberLoginNextTime&&v.QX(this.nk.R(),this.El.R());this.Uc(this.iC);x.e().tl("Game",{kj:a,map:1})},px:function(a){this.Uc(this.iC);
this.b.server_message.ha(a);this.Wl=!1},hg:function(a){this.b.server_message.ha(a)},xd:function(){},Hf:function(){},t9:function(){x.e().tl("Game",{Xda:this.nk.R()})}});R=null;MapMaster=!1;
var Ta=Sa.extend({BJ:!1,ctor:function(){this._super()},zc:function(){return{panels:{children:{saving_icon:{visible:!1,position:r.a(Y.width-52,4),d:r.a(0,0),size:r.size(48,48),X:"GUI/save_icon.png"},logout_button:{position:r.a(Y.width-52,Y.height-52),d:r.a(0,0),size:r.size(48,48),X:"GUI/logout.png"},quicknav_button:{position:r.a(Y.width-30,Math.floor(Y.height/2)-24),d:r.a(0,0),size:r.size(48,48),X:"GUI/quickmenu_closed_icon.png"},inventory_button:{position:r.a(Y.width-52,Math.floor(Y.height/2)+60),
d:r.a(0,0),size:r.size(48,48),X:"GUI/inventory_icon.png"},equipment_button:{position:r.a(Y.width-82,Math.floor(Y.height/2)+4),d:r.a(0,0),size:r.size(48,48),X:"GUI/equipment_icon.png"},skill_button:{position:r.a(Y.width-82,Math.floor(Y.height/2)-52),d:r.a(0,0),size:r.size(48,48),X:"GUI/skills_icon.png"},chat_button:{position:r.a(Y.width-52,Math.floor(Y.height/2)-108),d:r.a(0,0),size:r.size(48,48),X:"GUI/chat_icon.png"},quickedit_button:{position:r.a(0,Math.floor(Y.height/2)-24),d:r.a(0,0),size:r.size(48,
48),X:"GUI/quickedit_closed_icon.png"},mapedit_button:{position:r.a(4,Math.floor(Y.height/2)+116),d:r.a(0,0),size:r.size(48,48),X:"GUI/mapeditor_icon.png"},npcedit_button:{position:r.a(34,Math.floor(Y.height/2)+60),d:r.a(0,0),size:r.size(48,48),X:"GUI/npceditor_icon.png"},itemedit_button:{position:r.a(64,Math.floor(Y.height/2)+4),d:r.a(0,0),size:r.size(48,48),X:"GUI/itemeditor_icon.png"},skilledit_button:{position:r.a(64,Math.floor(Y.height/2)-52),d:r.a(0,0),size:r.size(48,48),X:"GUI/skilleditor_icon.png"},
signedit_button:{position:r.a(34,Math.floor(Y.height/2)-108),d:r.a(0,0),size:r.size(48,48),X:"GUI/signeditor_icon.png"},warpedit_button:{position:r.a(4,Math.floor(Y.height/2)-164),d:r.a(0,0),size:r.size(48,48),X:"GUI/warpeditor_icon.png"},scriptedit_button:{position:r.a(90,Math.floor(Y.height/2)-108),d:r.a(0,0),size:r.size(48,48),X:"GUI/scripteditor_icon.png"},settings_button:{position:r.a(4,Math.floor(Y.height/2)-220),d:r.a(0,0),size:r.size(48,48),X:"GUI/settings_icon.png"},bankedit_button:{position:r.a(90,
Math.floor(Y.height/2)+60),d:r.a(0,0),size:r.size(48,48),X:"GUI/bankeditor_icon.png"},shopedit_button:{position:r.a(120,Math.floor(Y.height/2)+4),d:r.a(0,0),size:r.size(48,48),X:"GUI/shopeditor_icon.png"},questedit_button:{position:r.a(120,Math.floor(Y.height/2)-52),d:r.a(0,0),size:r.size(48,48),X:"GUI/questeditor_icon.png"}}}}},yJ:!1,wJ:!1,Kn:function(a){!1==a&&(this.pC(),x.e().tl("Login",{RD:!1}))},pC:function(){E.Fd();E.jt();null!=Equipment&&(Equipment.ta(),Equipment.K(),Equipment=null);null!=
Inventory&&(Inventory.ta(),Inventory.K(),Inventory=null);null!=Skills&&(Skills.ta(),Skills.K(),Skills=null);null!=Quests&&(Quests.ta(),Quests.K(),Quests=null);SkillBarsInstance.K();A.Fd();A.jt();C.Fd();C.jt()},lb:function(a){if(r.cb(r.rect(this.b.logout_button.q.H,this.b.logout_button.q.M,this.b.logout_button.c().width,this.b.logout_button.c().height),a.L))return this.pC(),x.e().tl("Login",{IJ:!0,RD:!0}),!0;x.In(this);if(r.cb(this.b.chat_button.Ya(),a.L)&&this.b.chat_button.la)return this.Dl("C"),
!0;if(r.cb(this.b.inventory_button.Ya(),a.L)&&this.b.inventory_button.la)return this.Dl("I"),!0;if(r.cb(this.b.equipment_button.Ya(),a.L)&&this.b.equipment_button.la)return this.Dl("E"),!0;if(r.cb(this.b.skill_button.Ya(),a.L)&&this.b.skill_button.la)return this.Dl("S"),!0;if(this.b.quickedit_button.la&&r.cb(this.b.quickedit_button.Ya(),a.L)&&this.b.quickedit_button.la)return this.yL(!this.wJ),!0;if(r.cb(this.b.quicknav_button.Ya(),a.L)&&this.b.quicknav_button.la)return this.zL(!this.yJ),!0;if(r.cb(this.b.mapedit_button.Ya(),
a.L)&&this.b.mapedit_button.la)return this.If("/editmap"),!0;if(r.cb(this.b.npcedit_button.Ya(),a.L)&&this.b.npcedit_button.la)return this.If("/editnpc"),!0;if(r.cb(this.b.itemedit_button.Ya(),a.L)&&this.b.itemedit_button.la)return this.If("/edititem"),!0;if(r.cb(this.b.skilledit_button.Ya(),a.L)&&this.b.skilledit_button.la)return this.If("/editskill"),!0;if(r.cb(this.b.signedit_button.Ya(),a.L)&&this.b.signedit_button.la)return this.If("/editsign"),!0;if(r.cb(this.b.scriptedit_button.Ya(),a.L)&&
this.b.scriptedit_button.la)return this.If("/editscript"),!0;if(r.cb(this.b.warpedit_button.Ya(),a.L)&&this.b.warpedit_button.la)return this.If("/editwarp"),!0;if(r.cb(this.b.settings_button.Ya(),a.L)&&this.b.settings_button.la)return this.If("/editsettings"),!0;if(r.cb(this.b.shopedit_button.Ya(),a.L)&&this.b.shopedit_button.la)return this.If("/editshop"),!0;if(r.cb(this.b.questedit_button.Ya(),a.L)&&this.b.questedit_button.la)return this.If("/editquest"),!0;if(r.cb(this.b.bankedit_button.Ya(),a.L)&&
this.b.bankedit_button.la)return this.If("/editbank"),!0},AL:function(a){null==Sign||Sign.V||(Sign=null);Sign?(Sign.ta(),Sign.K(),Sign=null):(Sign=new SignPanel,Sign.r(a),Sign.ma(),this.f(Sign))},jY:function(a,c){null==Book||Book.V||(Book=null);Book?(Book.ta(),Book.K(),Book=null):(Book=new BookPanel,Book.r(a,c),Book.ma(),this.f(Book))},lY:function(a,c,d,e,f,g){null==NpcChat||NpcChat.V||(NpcChat=null);NpcChat&&(NpcChat.ta(),NpcChat.K(),NpcChat=null);NpcChat=new NpcChatPanel;NpcChat.r(a,c,d,e,f,g);
NpcChat.ma();this.f(NpcChat)},iU:function(){null==NpcChat||NpcChat.V||(NpcChat=null);NpcChat&&(NpcChat.ta(),NpcChat.K(),NpcChat=null)},Hf:function(){},Dl:function(a){switch(a){case "C":C.GU()?C.eJ():C.show();break;case "ENTER":C.dD()||C.TD(!0);break;case "SPACE":A.s.Z.AU();Inventory&&Inventory.ub();break;case "CTRL":A.s.Z.zU();break;case "ESC":this.pC();x.e().tl("Login",{IJ:!0,RD:!0});break;case "I":null==Inventory||Inventory.V||(Inventory=null);Inventory?(Inventory.ta(),Inventory.K(),Inventory=null):
(Inventory=new InventoryPanel,Inventory.r(),Inventory.ma(),this.f(Inventory));break;case "E":null==Equipment||Equipment.V||(Equipment=null);Equipment?(Equipment.ta(),Equipment.K(),Equipment=null):(Equipment=new EquipmentPanel,Equipment.r(),Equipment.ma(),this.f(Equipment));break;case "S":null==Skills||Skills.V||(Skills=null);Skills?(Skills.ta(),Skills.K(),Skills=null):(Skills=new SkillsPanel,Skills.r(),Skills.ma(),this.f(Skills));break;case "Q":null==Quests||Quests.V||(Quests=null),Quests?(Quests.ta(),
Quests.K(),Quests=null):(Quests=new QuestsPanel,Quests.r(),Quests.ma(),this.f(Quests))}},oD:function(a){var c=A.s.Z.xe();A.s.Z.path=null;if(0==c.x%1&&0==c.y%1)switch(a){case "RIGHTARROW":A.s.Z.uq(c.x+1,c.y);break;case "LEFTARROW":A.s.Z.uq(c.x-1,c.y);break;case "UPARROW":A.s.Z.uq(c.x,c.y+1);break;case "DOWNARROW":A.s.Z.uq(c.x,c.y-1)}},zL:function(a){this.yJ=a;this.b.chat_button.B(a);this.b.inventory_button.B(a);this.b.equipment_button.B(a);this.b.skill_button.B(a);this.b.quicknav_button.ga(r.ea.e().pa(!0==
a?"GUI/quickmenu_opened_icon.png":"GUI/quickmenu_closed_icon.png"))},yL:function(a){this.wJ=a;this.b.mapedit_button.B(a);this.b.npcedit_button.B(a);this.b.itemedit_button.B(a);this.b.skilledit_button.B(a);this.b.signedit_button.B(a);this.b.scriptedit_button.B(a);this.b.warpedit_button.B(a);this.b.settings_button.B(a);this.b.shopedit_button.B(a);this.b.bankedit_button.B(a);this.b.questedit_button.B(a);this.b.quickedit_button.ga(r.ea.e().pa(!0==a?"GUI/quickedit_opened_icon.png":"GUI/quickedit_closed_icon.png"))},
If:function(a){if(a){if(1<A.s.Z.vp)switch(a){case "/editscript":null==Scripteditor||Scripteditor.V||(Scripteditor=null);Scripteditor?(Scripteditor.ta(),Scripteditor.K(),Scripteditor=null):(Scripteditor=new PopupList,Scripteditor.r({k:null,Hg:new ScriptEditor,list:ObjectLists.aj(),name:"Script List"}),Scripteditor.ma(),this.f(Scripteditor));break;case "/editmap":null==Mapeditor||Mapeditor.V||(Mapeditor=null);Mapeditor?(Mapeditor.ta(),Mapeditor.K(),Mapeditor=null,E.kt(null)):(Mapeditor=new MapEditor,
Mapeditor.r(),Mapeditor.ma(),this.f(Mapeditor),E.kt(Mapeditor));break;case "/editsettings":null==Settingseditor||Settingseditor.V||(Settingseditor=null);Settingseditor?(Settingseditor.ta(),Settingseditor.K(),Settingseditor=null):(Settingseditor=new SettingsEditor,Settingseditor.r(),Settingseditor.ma(),this.f(Settingseditor));break;case "/editwarp":null==Warpeditor||Warpeditor.V||(Warpeditor=null);Warpeditor?(Warpeditor.ta(),Warpeditor.K(),Warpeditor=null):(Warpeditor=new PopupList,Warpeditor.r({k:null,
Hg:new WarpEditor,list:ObjectLists.hn(),name:"Warp List"}),Warpeditor.ma(),this.f(Warpeditor));break;case "/editsign":null==Signeditor||Signeditor.V||(Signeditor=null);Signeditor?(Signeditor.ta(),Signeditor.K(),Signeditor=null):(Signeditor=new PopupList,Signeditor.r({k:null,Hg:new SignEditor,list:ObjectLists.Ks(),name:"Sign List"}),Signeditor.ma(),this.f(Signeditor));break;case "/editskill":null==Skillseditor||Skillseditor.V||(Skillseditor=null);Skillseditor?(Skillseditor.ta(),Skillseditor.K(),Skillseditor=
null):(Skillseditor=new PopupList,Skillseditor.r({k:null,Hg:new SkillsEditor,list:ObjectLists.wh(),name:"Skills List"}),Skillseditor.ma(),this.f(Skillseditor));break;case "/edititem":null==Itemeditor||Itemeditor.V||(Itemeditor=null);Itemeditor?(Itemeditor.ta(),Itemeditor.K(),Itemeditor=null,E.kt(null)):(Itemeditor=new PopupList,Itemeditor.r({k:null,Hg:new ItemEditor,list:ObjectLists.Cf(),name:"Item List"}),Itemeditor.ma(),this.f(Itemeditor));break;case "/editnpc":null==NPCeditor||NPCeditor.V||(NPCeditor=
null);NPCeditor?(NPCeditor.ta(),NPCeditor.K(),NPCeditor=null,E.kt(null)):(NPCeditor=new PopupList,NPCeditor.r({k:null,Hg:new NPCEditor,list:ObjectLists.rl(),name:"NPC List"}),NPCeditor.ma(),this.f(NPCeditor));break;case "/editquest":null==Questeditor||Questeditor.V||(Questeditor=null),Questeditor?(Questeditor.ta(),Questeditor.K(),Questeditor=null,E.kt(null)):(Questeditor=new PopupList,Questeditor.r({k:null,Hg:new QuestEditor,list:ObjectLists.Lp(),name:"Quest List"}),Questeditor.ma(),this.f(Questeditor))}switch(a){case "/help":C.showHelp();
break;case "/commands":C.kY();break;case "/diceroll":a=Math.floor(6*Math.random()+1);var c=z["/diceroll"],c=c.replace("\x3cPLAYER\x3e",A.s.Z.getName()),c=c.replace("\x3cVALUE\x3e",a);C.Ib(c);I({diceroll:c});break;case "/coinflip":a=1==Math.floor(3*Math.random()+1)?"Heads":"Tails";c=z["/coinflip"];c=c.replace("\x3cPLAYER\x3e",A.s.Z.getName());c=c.replace("\x3cVALUE\x3e",a);C.Ib(c);I({coinflip:c});break;case "/dance":a=z["/dance"];a=a.replace("\x3cPLAYER\x3e",A.s.Z.getName());C.Ib(a);I({dance:a});break;
case "/afk":A.s.Z.updateStatus("AFK"),I({afk:!0})}}},r:function(a){this._super();R=this;this.f(E.create());ObjectLists.e();A.create({name:a.kj.name,ej:!0,Nn:{health:{Rc:1,value:100,cg:200,bg:900},mana:{Rc:1,value:100,cg:200,bg:99}},map:a.kj.location.mapnumber,position:a.kj.location.position,tt:"sprites1.png",rt:1,vp:a.kj.rank,rJ:a.kj.inventory,tI:a.kj.equipment,Gl:a.kj.quests,ei:a.kj.extraData});E.qR();this.b.K();this.oq(-20);I({moveTo:A.s.Z.xe().x+A.s.Z.xe().y*U});this.f(C.create());console.log(a.kj);
this.f(H.create(a.kj.skills));this.zL(!1);this.yL(!1);this.eY();this.f(this.b);this.cc(this.lE);this.cc(this.NW);this.cc(this.GW,120)},GW:function(){var a={saveUser:!0,name:A.s.Z.getName(),location:{mapnumber:E.wd(),position:A.s.Z.xe().x+A.s.Z.xe().y*U},inventory:A.s.Z.ql(),equipment:A.s.Z.Hp(),skills:[],clan:"",guilds:[],quests:A.s.Z.Gl,friends:[],pets:[],pmessages:[],lastchats:[],health:100,extraData:A.s.Z.ei};this.b.saving_icon.B(!0);this.BJ=!0;I(a);console.log("SAVING NOW!")},WS:function(){this.b.saving_icon.B(!1);
this.BJ=!1},eY:function(){1==A.s.Z.vp&&this.b.quickedit_button.B(!1)},lE:function(){if(0<t.length)for(var a=0;a<t.length;a++){var c=JSON.parse(t[a]);c.moveTo&&(!A.ii(c.id)||A.ii(c.id)&&!1==A.ii(c.id).Og)?(reactToSocketMessage(JSON.stringify(c)),t.splice(a,1)):c.moveTo||(reactToSocketMessage(JSON.stringify(c)),t.splice(a,1))}},NW:function(){if(!0==MapMaster){var a=A.iN(),c;for(c in a)if(!1==a[c].vx){var d=10*Math.random()+1,e=a[c].xe();switch(Math.floor(4*Math.random())+1){case 1:e.x++;break;case 2:e.y++;
break;case 3:e.x--;break;case 4:e.y--}a[c].MX(e,d)}}}});var Ua=r.Ea.extend({Ac:null,a4:!1,TD:function(a){a?this.Ac.ab.focus():this.Ac.ab.blur()},dD:function(){return document.activeElement==this.Ac.ab},ha:function(a){this.Ac.Ke(a)},HC:function(){return this.Ac.R()},r:function(){r.log("Ovveride inputbox init call if necessary")},ctor:function(a,c,d,e,f,g,h){this.Ac=r.Bq.create(r.size(c.width,c.height),r.qf.create(),h);this.Ac.Ke(e);this.Ac.qS=e;this.Ac.mX(r.l(g.p,g.o,g.i));this.Ac.HK(r.l(f.p,f.o,f.i));this.Ac.m(r.a(d.x,d.y));this.Ac.G(0,1);this.Ac.Dh(this);
a.f(this.Ac);this.r()}});var Va=Ua.extend({Rw:function(a){a.Ke("")},Sw:function(a,c){c||("/"==a.R().substring(0,1)?this.DW(a.R()):0<a.R().length&&C.Ib(a.R(),!0));a.Ke(z["Default ChatBar Message"])},DW:function(a){x.e().vd.If(a)},Tw:function(a,c){a.Ke(c);r.log("chatBox "+this.rG(a)+", TextChanged, text: "+c)},rG:function(){return"chatbox"}}),Z=null,C=r.Vc.extend({fk:null,r:function(){this.fk=new Va(this.b.chat_panel,r.size(this.b.chat_panel.c().width-4,25),r.a(2,this.b.chat_panel.c().height-2),z["Default ChatBar Message"],
r.l(255,255,255),r.l(0,0,0));this.fk.Ac.V.Bc(this.fk.Ac.q.M+59)},KH:function(a){for(var c=[],d=0;7>d;d++)c.push(this.b.chat_panel["label"+d].HC());this.b.chat_panel.label0.ha(a);for(d=1;8>d;d++)this.b.chat_panel["label"+d].ha(c[d-1])},zc:function(){return{panels:{children:{chat_panel:{size:r.size(400,150),X:"GUI/chat.png",d:r.a(0,0),opacity:200,position:r.a(0,-200),children:{label7:{label:"",position:r.a(5,0),d:r.a(0,0),color:r.l(0,0,0)},label6:{label:"",position:r.a(5,15),d:r.a(0,0),color:r.l(0,
0,0)},label5:{label:"",position:r.a(5,30),d:r.a(0,0),color:r.l(0,0,0)},label4:{label:"",position:r.a(5,45),d:r.a(0,0),color:r.l(0,0,0)},label3:{label:"",position:r.a(5,60),d:r.a(0,0),color:r.l(0,0,0)},label2:{label:"",position:r.a(5,75),d:r.a(0,0),color:r.l(0,0,0)},label1:{label:"",position:r.a(5,90),d:r.a(0,0),color:r.l(0,0,0)},label0:{label:"",position:r.a(5,105),d:r.a(0,0),color:r.l(0,0,0)}}}}}}}});C.create=function(){Z||(Z=new C,Z.b=Ia(Z),Z.f(Z.b),Z.r(),C.eJ(),C.nY());return Z};C.e=function(){return Z};
C.Ib=function(a,c){50<a.length&&(a=a.substring(0,50)+"...");c?(I({chatMessage:a}),Z.KH(A.s.Z.getName()+": "+a)):Z.KH(a)};C.show=function(){Z.fk.Ac.V.Bc(0)};C.eJ=function(){Z.fk.Ac.V.Bc(-Z.fk.Ac.q.M+59)};C.GU=function(){return 0!=Z.fk.Ac.V.q.M?!1:!0};C.TD=function(a){Z.fk.TD(a)};C.dD=function(){return Z.fk.dD()};C.showHelp=function(){C.Ib(J.we.dU);C.Ib(J.we.eU);C.Ib(J.we.fU);C.Ib(J.we.gU);C.Ib(J.we.hU)};C.kY=function(){C.Ib(J.we.ZR);C.Ib(J.we.$R);C.Ib(J.we.aS);C.Ib(J.we.bS)};C.nY=function(){C.Ib(z["Welcome Message"])};
C.Fd=function(){Z.b.K();Z.b=null};C.jt=function(){Z.K();Z=null};var $=Ua.extend({Qp:!1,RJ:!1,kI:!1,cD:!1,Rw:function(a){!1==this.kI&&a.Ke("");this.cD=!0},Mx:function(a){this.Ac.Mx(a)},q8:function(){return this.cD},Sw:function(a){this.cD=!1;null==a.R()||""==a.R().length&&this.RJ?this.Qp=!0:0<!a.R().length?(a.Ke(this.Ac.qS),this.Qp=!1):this.Qp=!0},Tw:function(a,c){a.Ke(c);this.Qp=!0},rG:function(){return"name_entry"},R:function(){return!0==this.Qp||!0==this.pS?this.Ac.R():null},Ke:function(a){this.Ac.Ke(a);this.Qp=!0},fb:function(a){this.pS=a},Sc:function(a){this.RJ=
a},QK:function(a){this.kI=a},r:function(){}});var x=r.Vc.extend({s:null,cC:null,vd:null,IH:null,r:function(){var a=r.va.e().Xw();this.cC=r.aa.create(r.h(255,255,255,255),parseInt(4*a.width),parseInt(4*a.height));this.cC.G(r.a(0,0));this.f(this.cC);v.e()&&va?(z=ua(z,v.FC()),this.tl("Login",{}),this.cc(this.YH),autoLoginNextTime=v.uJ(),rememberLoginNextTime=v.AJ()):this.cc(this.fJ)},fJ:function(){v.e()&&va&&(this.Uc(this.fJ),z=ua(z,v.FC()),this.tl("Login",{}),this.cc(this.YH),autoLoginNextTime=v.uJ(),rememberLoginNextTime=v.AJ())},YH:function(){for(var a in Aa)if(!0==
Aa[a]&&null!=this.vd){var c=null;a=parseInt(a);switch(a){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;
case 46:c="DELETE"}null==c&&(47<a&&58>a||64<a&&91>a)&&(c=String.fromCharCode(a));null!=c&&this.vd.oD(c)}},tl:function(a,c){null!=this.vd&&(this.vd.ta(),this.vd.K(),this.vd=null);switch(a){case "Login":this.vd=new Login;break;case "Game":this.vd=new Ta}this.vd.aM();this.f(this.vd,1);this.vd.pX(a);this.vd.ma();this.vd.r(c)},M4:function(){return this.vd.yc()}});x.e=function(){null==this.s&&(this.s=new x);return this.s};x.In=function(a){null==this.s&&(this.s=new x);this.s.IH=a};
x.YS=function(){null==this.s&&(this.s=new x);return this.s.IH};var Y;
new (r.tj.extend({Kw:document.ccConfig,ctor:function(){this._super();r.Ht=this.Kw.COCOS2D_DEBUG;r.kU();r.Ol(this.Kw.tag);r.ty.iY().yS()},AR:function(){var a=this.Kw,c=r.$.e(),d=r.va.e();Y=d.Xw();r.size(Y.width,Y.height);var e=r.size(Y.width,Y.height),f=r.Md.e();r.tj.e();f.iL(["res/Graphics"]);r.Fh&&r.Fh.e().dca("res/Audio");c.bX(1);d.SD(e.width,e.height,r.eo.SHOW_ALL);c.it(1/a.frameRate);a.test?r.test(a.test):(r.log("++++++++++++++++entry for game++++++++++++"),r.RU(function(a){r.Ry.wD(a,function(){document.getElementById("gameCanvas").setAttribute("tabindex","0");
document.getElementById("gameCanvas").focus();var a=x.e();r.$.e().wK(a);a.r()})}));return!0}}));
//@ sourceMappingURL=sourcemap