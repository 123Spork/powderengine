var b,aa={q1:"GUI/bankeditor_icon.png",s1:"GUI/book.png",v1:"GUI/btnDown.png",w1:"GUI/btnLeft.png",x1:"GUI/btnRight.png",y1:"GUI/btnUp.png",Q1:"GUI/chat.png",P1:"GUI/chat_icon.png",R1:"GUI/close.png",c2:"GUI/cross_icon.png",h2:"GUI/defaultitem.png",x2:"GUI/edit.png",y2:"GUI/editor-tab.png",B2:"GUI/equipment.png",A2:"GUI/equipment_icon.png",C2:"GUI/event_panel.png",I6:"GUI/healthbar.png",b7:"GUI/inventory.png",a7:"GUI/inventory_icon.png",P7:"GUI/itemeditor_bg.png",Q7:"GUI/itemeditor_icon.png",R7:"GUI/itemeditor_tab1_bg.png",
S7:"GUI/itemeditor_tab2_bg.png",T7:"GUI/itemeditor_tab3_bg.png",h8:"GUI/list_panel.png",p8:"GUI/logout.png",t8:"GUI/mapeditor_icon.png",z8:"GUI/npceditor_icon.png",F9:"GUI/questeditor_icon.png",G9:"GUI/quickedit_closed_icon.png",H9:"GUI/quickedit_opened_icon.png",I9:"GUI/quickmenu_closed_icon.png",J9:"GUI/quickmenu_opened_icon.png",t$:"GUI/scripteditor_icon.png",Fba:"GUI/settings_icon.png",Gba:"GUI/shopeditor_icon.png",Jba:"GUI/signeditor_bg.png",Kba:"GUI/signeditor_icon.png",Lba:"GUI/signpost.png",
Mba:"GUI/skilleditor_icon.png",Oba:"GUI/skills.png",Nba:"GUI/skills_icon.png",Qba:"GUI/splash.png",qca:"GUI/texture_change_left.png",rca:"GUI/texture_change_middle.png",sca:"GUI/texture_change_right.png",tca:"GUI/tick_icon.png",Cca:"GUI/trash.png",Lca:"GUI/use.png",Tca:"GUI/warpeditor_bg.png",Uca:"GUI/warpeditor_icon.png",z1:"building1.png",O1:"character_graphics.txt",U7:"items1.png",Rba:"sprites1.png",uca:"tile_graphics.txt",vca:"tiles1.png"};var q=q||{},ba={};q.VT=function(a){var c=q.lD[ba.vJ.YE];if(c){for(var d=[],e=0;e<c.length;++e)d.push({src:c[e]});a(d)}else a([])};ba={vJ:{YE:"_0"}};q.lD={};q.lD[ba.vJ.YE]=[];q.lD.PQ=[];var io="undefined"===typeof module?{}:module.qc;
(function(){(function(a,d){a.version="0.9.16";a.protocol=1;a.transports=[];a.j=[];a.sockets={};a.connect=function(e,f){var g=a.util.parseUri(e),h,k;d&&d.location&&(g.protocol=g.protocol||d.location.protocol.slice(0,-1),g.host=g.host||(d.document?d.document.domain:d.location.hostname),g.port=g.port||d.location.port);h=a.util.uniqueUri(g);var l={host:g.host,vn:"https"==g.protocol,port:g.port||("https"==g.protocol?443:80),query:g.query||""};a.util.merge(l,f);if(l["force new connection"]||!a.sockets[h])k=
new a.Socket(l);!l["force new connection"]&&k&&(a.sockets[h]=k);k=k||a.sockets[h];return k.Lp(1<g.path.length?g.path:"")}})("object"===typeof module?module.qc:io,this);(function(a,d){var e=a.util={},f=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,g="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");
e.parseUri=function(a){a=f.exec(a||"");for(var c={},d=14;d--;)c[g[d]]=a[d]||"";return c};e.uniqueUri=function(a){var c=a.protocol,e=a.host;a=a.port;"document"in d?(e=e||document.domain,a=a||("https"==c&&"https:"!==document.location.protocol?443:document.location.port)):(e=e||"localhost",a||"https"!=c||(a=443));return(c||"http")+"://"+e+":"+(a||80)};e.query=function(a,c){var d=e.chunkQuery(a||""),f=[];e.merge(d,e.chunkQuery(c||""));for(var g in d)d.hasOwnProperty(g)&&f.push(g+"\x3d"+d[g]);return f.length?
"?"+f.join("\x26"):""};e.chunkQuery=function(a){var c={};a=a.split("\x26");for(var d=0,e=a.length,f;d<e;++d)f=a[d].split("\x3d"),f[0]&&(c[f[0]]=f[1]);return c};var h=!1;e.load=function(a){if("document"in d&&"complete"===document.readyState||h)return a();e.on(d,"load",a,!1)};e.on=function(a,c,d,e){a.attachEvent?a.attachEvent("on"+c,d):a.addEventListener&&a.addEventListener(c,d,e)};e.request=function(a){if(a&&"undefined"!=typeof XDomainRequest&&!e.ua.hasCORS)return new XDomainRequest;if("undefined"!=
typeof XMLHttpRequest&&(!a||e.ua.hasCORS))return new XMLHttpRequest;if(!a)try{return new (window[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(c){}return null};"undefined"!=typeof window&&e.load(function(){h=!0});e.defer=function(a){if(!e.ua.webkit||"undefined"!=typeof importScripts)return a();e.load(function(){setTimeout(a,100)})};e.merge=function(a,c,d,f){f=f||[];d="undefined"==typeof d?2:d;for(var g in c)c.hasOwnProperty(g)&&0>e.indexOf(f,g)&&("object"===typeof a[g]&&d?e.merge(a[g],
c[g],d-1,f):(a[g]=c[g],f.push(c[g])));return a};e.mixin=function(a,c){e.merge(a.prototype,c.prototype)};e.inherit=function(a,c){function d(){}d.prototype=c.prototype;a.prototype=new d};e.isArray=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};e.intersect=function(a,c){for(var d=[],f=a.length>c.length?a:c,g=a.length>c.length?c:a,h=0,t=g.length;h<t;h++)~e.indexOf(f,g[h])&&d.push(g[h]);return d};e.indexOf=function(a,c,d){var e=a.length;for(d=0>d?0>d+e?0:d+e:d||
0;d<e&&a[d]!==c;d++);return e<=d?-1:d};e.toArray=function(a){for(var c=[],d=0,e=a.length;d<e;d++)c.push(a[d]);return c};e.ua={};e.ua.hasCORS="undefined"!=typeof XMLHttpRequest&&function(){try{var a=new XMLHttpRequest}catch(c){return!1}return void 0!=a.withCredentials}();e.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent);e.ua.iDevice="undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)})("undefined"!=typeof io?io:module.qc,this);(function(a,d){function e(){}
a.EventEmitter=e;e.prototype.on=function(a,c){this.If||(this.If={});this.If[a]?d.util.isArray(this.If[a])?this.If[a].push(c):this.If[a]=[this.If[a],c]:this.If[a]=c;return this};e.prototype.tU=function(a){var c="connect";function d(){e.removeListener(c,d);a.apply(this,arguments)}var e=this;d.Yw=a;this.on(c,d)};e.prototype.removeListener=function(a,c){if(this.If&&this.If[a]){var e=this.If[a];if(d.util.isArray(e)){for(var k=-1,l=0,m=e.length;l<m;l++)if(e[l]===c||e[l].Yw&&e[l].Yw===c){k=l;break}if(0>
k)return this;e.splice(k,1);e.length||delete this.If[a]}else(e===c||e.Yw&&e.Yw===c)&&delete this.If[a]}return this};e.prototype.np=function(a){if(!this.If)return!1;var c=this.If[a];if(!c)return!1;var e=Array.prototype.slice.call(arguments,1);if("function"==typeof c)c.apply(this,e);else if(d.util.isArray(c))for(var c=c.slice(),k=0,l=c.length;k<l;k++)c[k].apply(this,e);else return!1;return!0}})("undefined"!=typeof io?io:module.qc,"undefined"!=typeof io?io:module.parent.qc);(function(a,d){function e(a){return 10>
a?"0"+a:a}function f(a){l.lastIndex=0;return l.test(a)?'"'+a.replace(l,function(a){var c=r[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function g(a,c){var d,h,k,l,r=m,Q,R=c[a];R instanceof Date&&(R=isFinite(a.valueOf())?a.getUTCFullYear()+"-"+e(a.getUTCMonth()+1)+"-"+e(a.getUTCDate())+"T"+e(a.getUTCHours())+":"+e(a.getUTCMinutes())+":"+e(a.getUTCSeconds())+"Z":null);"function"===typeof p&&(R=p.call(c,a,R));switch(typeof R){case "string":return f(R);
case "number":return isFinite(R)?String(R):"null";case "boolean":case "null":return String(R);case "object":if(!R)return"null";m+=n;Q=[];if("[object Array]"===Object.prototype.toString.apply(R)){l=R.length;for(d=0;d<l;d+=1)Q[d]=g(d,R)||"null";k=0===Q.length?"[]":m?"[\n"+m+Q.join(",\n"+m)+"\n"+r+"]":"["+Q.join(",")+"]";m=r;return k}if(p&&"object"===typeof p)for(l=p.length,d=0;d<l;d+=1)"string"===typeof p[d]&&(h=p[d],(k=g(h,R))&&Q.push(f(h)+(m?": ":":")+k));else for(h in R)Object.prototype.hasOwnProperty.call(R,
h)&&(k=g(h,R))&&Q.push(f(h)+(m?": ":":")+k);k=0===Q.length?"{}":m?"{\n"+m+Q.join(",\n"+m)+"\n"+r+"}":"{"+Q.join(",")+"}";m=r;return k}}if(d&&d.parse)return a.JSON={parse:d.parse,stringify:d.stringify};var h=a.JSON={},k=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,m,n,r={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f",
"\r":"\\r",'"':'\\"',"\\":"\\\\"},p;h.stringify=function(a,c,d){var e;n=m="";if("number"===typeof d)for(e=0;e<d;e+=1)n+=" ";else"string"===typeof d&&(n=d);if((p=c)&&"function"!==typeof c&&("object"!==typeof c||"number"!==typeof c.length))throw Error("JSON.stringify");return g("",{"":a})};h.parse=function(a,c){function d(a,e){var f,g,h=a[e];if(h&&"object"===typeof h)for(f in h)Object.prototype.hasOwnProperty.call(h,f)&&(g=d(h,f),void 0!==g?h[f]=g:delete h[f]);return c.call(a,e,h)}var e;a=String(a);
k.lastIndex=0;k.test(a)&&(a=a.replace(k,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"===typeof c?d({"":e},""):e;throw new SyntaxError("JSON.parse");}})("undefined"!=typeof io?io:module.qc,"undefined"!==typeof JSON?JSON:void 0);(function(a,d){var e=
a.parser={},f=e.packets="disconnect connect heartbeat message json event ack error noop".split(" "),g=e.reasons=["transport not supported","client not handshaken","unauthorized"],h=e.advice=["reconnect"],k=d.JSON,l=d.util.indexOf;e.encodePacket=function(a){var c=l(f,a.type),d=a.id||"",e=a.Cw||"",m=a.ip,A=null;switch(a.type){case "error":var D=a.reason?l(g,a.reason):"";a=a.advice?l(h,a.advice):"";if(""!==D||""!==a)A=D+(""!==a?"+"+a:"");break;case "message":""!==a.data&&(A=a.data);break;case "event":A=
{name:a.name};a.Ve&&a.Ve.length&&(A.Ve=a.Ve);A=k.stringify(A);break;case "json":A=k.stringify(a.data);break;case "connect":a.wJ&&(A=a.wJ);break;case "ack":A=a.jp+(a.Ve&&a.Ve.length?"+"+k.stringify(a.Ve):"")}c=[c,d+("data"==m?"+":""),e];null!==A&&void 0!==A&&c.push(A);return c.join(":")};e.encodePayload=function(a){var c="";if(1==a.length)return a[0];for(var d=0,e=a.length;d<e;d++)c+="\ufffd"+a[d].length+"\ufffd"+a[d];return c};var m=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;e.decodePacket=function(a){var c=
a.match(m);if(!c)return{};var d=c[2]||"";a=c[5]||"";var e={type:f[c[1]],Cw:c[4]||""};d&&(e.id=d,e.ip=c[3]?"data":!0);switch(e.type){case "error":c=a.split("+");e.reason=g[c[0]]||"";e.advice=h[c[1]]||"";break;case "message":e.data=a||"";break;case "event":try{var l=k.parse(a);e.name=l.name;e.Ve=l.Ve}catch(A){}e.Ve=e.Ve||[];break;case "json":try{e.data=k.parse(a)}catch(D){}break;case "connect":e.wJ=a||"";break;case "ack":if(c=a.match(/^([0-9]+)(\+)?(.*)/))if(e.jp=c[1],e.Ve=[],c[3])try{e.Ve=c[3]?k.parse(c[3]):
[]}catch(B){}}return e};e.decodePayload=function(a){if("\ufffd"==a.charAt(0)){for(var c=[],d=1,f="";d<a.length;d++)"\ufffd"==a.charAt(d)?(c.push(e.decodePacket(a.substr(d+1).substr(0,f))),d+=Number(f)+1,f=""):f+=a.charAt(d);return c}return[e.decodePacket(a)]}})("undefined"!=typeof io?io:module.qc,"undefined"!=typeof io?io:module.parent.qc);(function(a,d){function e(a,c){this.wb=a;this.QV=c}a.Transport=e;d.util.mixin(e,d.EventEmitter);e.prototype.wI=function(){return!0};e.prototype.Ms=function(a){this.RB();
(this.wb.oh||this.wb.Ag||this.wb.ln)&&this.WJ();if(""!==a&&(a=d.parser.decodePayload(a))&&a.length)for(var c=0,e=a.length;c<e;c++)this.Ns(a[c])};e.prototype.Ns=function(a){this.wb.fK();if("heartbeat"==a.type)return this.fU();"connect"==a.type&&""==a.Cw&&this.QC();"error"==a.type&&"reconnect"==a.advice&&(this.Cs=!1);this.wb.Ns(a);return this};e.prototype.WJ=function(){if(!this.lp){var a=this;this.lp=setTimeout(function(){a.en()},this.wb.lp)}};e.prototype.en=function(){this.Cs&&this.close();this.SB();
this.wb.en();return this};e.prototype.QC=function(){this.wb.QC();return this};e.prototype.RB=function(){this.lp&&(clearTimeout(this.lp),this.lp=null)};e.prototype.SB=function(){this.RB();this.vV&&clearTimeout(this.vV)};e.prototype.cg=function(a){this.send(d.parser.encodePacket(a))};e.prototype.fU=function(){this.cg({type:"heartbeat"})};e.prototype.$w=function(){this.Cs=!0;this.RB();this.wb.$w()};e.prototype.gi=function(){this.Cs=!1;this.wb.gi();this.en()};e.prototype.Ps=function(){var a=this.wb.options;
return this.scheme()+"://"+a.host+":"+a.port+"/"+a.lx+"/"+d.protocol+"/"+this.name+"/"+this.QV};e.prototype.fx=function(a,c){c.call(this)}})("undefined"!=typeof io?io:module.qc,"undefined"!=typeof io?io:module.parent.qc);(function(a,d,e){function f(a){this.options={port:80,vn:!1,document:"document"in e?document:!1,lx:"socket.io",transports:d.transports,"connect timeout":1E4,"try multiple transports":!0,reconnect:!0,"reconnection delay":500,"reconnection limit":Infinity,"reopen delay":3E3,"max reconnection attempts":10,
"sync disconnect on unload":!1,"auto connect":!0,"flash policy port":10843,manualFlush:!1};d.util.merge(this.options,a);this.ln=this.Ag=this.open=this.oh=!1;this.namespaces={};this.buffer=[];this.ZB=!1;if(this.options["sync disconnect on unload"]&&(!this.Dp()||d.util.ua.hasCORS)){var c=this;d.util.on(e,"beforeunload",function(){c.IR()},!1)}this.options["auto connect"]&&this.connect()}function g(){}a.Socket=f;d.util.mixin(f,d.EventEmitter);f.prototype.Lp=function(a){this.namespaces[a]||(this.namespaces[a]=
new d.SocketNamespace(this,a),""!==a&&this.namespaces[a].cg({type:"connect"}));return this.namespaces[a]};f.prototype.vl=function(){this.np.apply(this,arguments);var a,c;for(c in this.namespaces)this.namespaces.hasOwnProperty(c)&&(a=this.Lp(c),a.pk.apply(a,arguments))};f.prototype.cT=function(a){function c(d){d instanceof Error?(e.Ag=!1,e.fn(d.message)):a.apply(null,d.split(":"))}var e=this,f=this.options,f=["http"+(f.vn?"s":"")+":/",f.host+":"+f.port,f.lx,d.protocol,d.util.query(this.options.query,
"t\x3d"+ +new Date)].join("/");if(this.Dp()&&!d.util.ua.hasCORS){var n=document.getElementsByTagName("script")[0],r=document.createElement("script");r.src=f+"\x26jsonp\x3d"+d.j.length;n.parentNode.insertBefore(r,n);d.j.push(function(a){c(a);r.parentNode.removeChild(r)})}else{var p=d.util.request();p.open("GET",f,!0);this.Dp()&&(p.withCredentials=!0);p.onreadystatechange=function(){4==p.readyState&&(p.onreadystatechange=g,200==p.status?c(p.responseText):403==p.status?e.fn(p.responseText):(e.Ag=!1,
!e.ln&&e.fn(p.responseText)))};p.send(null)}};f.prototype.nI=function(a){a=a||this.transports;for(var c=0,e;e=a[c];c++)if(d.Transport[e]&&d.Transport[e].Rm(this)&&(!this.Dp()||d.Transport[e].lt(this)))return new d.Transport[e](this,this.OJ);return null};f.prototype.connect=function(a){if(this.Ag)return this;var c=this;c.Ag=!0;this.cT(function(e,f,g,r){function p(a){c.jf&&c.jf.SB();c.jf=c.nI(a);c.jf?c.jf.fx(c,function(){c.Ag=!0;c.vl("connecting",c.jf.name);c.jf.open();c.options["connect timeout"]&&
(c.lR=setTimeout(function(){if(!c.oh&&(c.Ag=!1,c.options["try multiple transports"])){for(var a=c.transports;0<a.length&&a.splice(0,1)[0]!=c.jf.name;);a.length?p(a):c.vl("connect_failed")}},c.options["connect timeout"]))}):c.vl("connect_failed")}c.OJ=e;c.lp=1E3*g;c.hT=1E3*f;c.transports||(c.transports=c.uU=r?d.util.intersect(r.split(","),c.options.transports):c.options.transports);c.fK();p(c.transports);c.tU(function(){clearTimeout(c.lR);a&&"function"==typeof a&&a()})});return this};f.prototype.fK=
function(){clearTimeout(this.vI);if(!this.jf||this.jf.wI()){var a=this;this.vI=setTimeout(function(){a.jf.gi()},this.hT)}};f.prototype.cg=function(a){this.oh&&!this.ZB?this.jf.cg(a):this.buffer.push(a);return this};f.prototype.hk=function(a){this.ZB=a;!a&&this.oh&&this.buffer.length&&(this.options.manualFlush||this.$R())};f.prototype.$R=function(){this.jf.oJ(this.buffer);this.buffer=[]};f.prototype.disconnect=function(){if(this.oh||this.Ag)this.open&&this.Lp("").cg({type:"disconnect"}),this.en("booted");
return this};f.prototype.IR=function(){var a=d.util.request();a.open("GET",["http"+(this.options.vn?"s":"")+":/",this.options.host+":"+this.options.port,this.options.lx,d.protocol,"",this.OJ].join("/")+"/?disconnect\x3d1",!1);a.send(null);this.en("booted")};f.prototype.Dp=function(){var a=e.location.port||("https:"==e.location.protocol?443:80);return this.options.host!==e.location.hostname||this.options.port!=a};f.prototype.QC=function(){this.oh||(this.oh=!0,this.Ag=!1,this.ZB||this.hk(!1),this.np("connect"))};
f.prototype.$w=function(){this.open=!0};f.prototype.gi=function(){this.open=!1;clearTimeout(this.vI)};f.prototype.Ns=function(a){this.Lp(a.Cw).Ns(a)};f.prototype.fn=function(a){a&&a.advice&&"reconnect"===a.advice&&(this.oh||this.Ag)&&(this.disconnect(),this.options.gx&&this.gx());this.vl("error",a&&a.reason?a.reason:a)};f.prototype.en=function(a){var c=this.oh,d=this.Ag;this.open=this.Ag=this.oh=!1;if(c||d)this.jf.close(),this.jf.SB(),c&&(this.vl("disconnect",a),"booted"!=a&&this.options.gx&&!this.ln&&
this.gx())};f.prototype.gx=function(){function a(){if(d.oh){for(var e in d.namespaces)d.namespaces.hasOwnProperty(e)&&""!==e&&d.namespaces[e].cg({type:"connect"});d.vl("reconnect",d.jf.name,d.hx)}clearTimeout(d.ix);d.removeListener("connect_failed",c);d.removeListener("connect",c);d.ln=!1;delete d.hx;delete d.mn;delete d.ix;delete d.BJ;d.options["try multiple transports"]=f}function c(){if(d.ln){if(d.oh)return a();if(d.Ag&&d.ln)return d.ix=setTimeout(c,1E3);d.hx++>=e?d.BJ?(d.vl("reconnect_failed"),
a()):(d.on("connect_failed",c),d.options["try multiple transports"]=!0,d.transports=d.uU,d.jf=d.nI(),d.BJ=!0,d.connect()):(d.mn<g&&(d.mn*=2),d.connect(),d.vl("reconnecting",d.mn,d.hx),d.ix=setTimeout(c,d.mn))}}this.ln=!0;this.hx=0;this.mn=this.options["reconnection delay"];var d=this,e=this.options["max reconnection attempts"],f=this.options["try multiple transports"],g=this.options["reconnection limit"];this.options["try multiple transports"]=!1;this.ix=setTimeout(c,this.mn);this.on("connect",c)}})("undefined"!=
typeof io?io:module.qc,"undefined"!=typeof io?io:module.parent.qc,this);(function(a,d){function e(a,c){this.wb=a;this.name=c||"";this.Ew={};this.MT=new f(this,"json");this.dH=0;this.es={}}function f(a,c){this.Kp=a;this.name=c}a.SocketNamespace=e;d.util.mixin(e,d.EventEmitter);e.prototype.pk=d.EventEmitter.prototype.np;e.prototype.Lp=function(){return this.wb.Lp.apply(this.wb,arguments)};e.prototype.cg=function(a){a.Cw=this.name;this.wb.cg(a);this.Ew={};return this};e.prototype.send=function(a,c){var d=
{type:this.Ew.MT?"json":"message",data:a};"function"==typeof c&&(d.id=++this.dH,d.ip=!0,this.es[d.id]=c);return this.cg(d)};e.prototype.np=function(a){var c=Array.prototype.slice.call(arguments,1),d=c[c.length-1],e={type:"event",name:a};"function"==typeof d&&(e.id=++this.dH,e.ip="data",this.es[e.id]=d,c=c.slice(0,c.length-1));e.Ve=c;return this.cg(e)};e.prototype.disconnect=function(){""===this.name?this.wb.disconnect():(this.cg({type:"disconnect"}),this.pk("disconnect"));return this};e.prototype.Ns=
function(a){function c(){e.cg({type:"ack",Ve:d.util.toArray(arguments),jp:a.id})}var e=this;switch(a.type){case "connect":this.pk("connect");break;case "disconnect":""===this.name?this.wb.en(a.reason||"booted"):this.pk("disconnect",a.reason);break;case "message":case "json":var f=["message",a.data];"data"==a.ip?f.push(c):a.ip&&this.cg({type:"ack",jp:a.id});this.pk.apply(this,f);break;case "event":f=[a.name].concat(a.Ve);"data"==a.ip&&f.push(c);this.pk.apply(this,f);break;case "ack":this.es[a.jp]&&
(this.es[a.jp].apply(this,a.Ve),delete this.es[a.jp]);break;case "error":a.advice?this.wb.fn(a):"unauthorized"==a.reason?this.pk("connect_failed",a.reason):this.pk("error",a.reason)}};f.prototype.send=function(){this.Kp.Ew[this.name]=!0;this.Kp.send.apply(this.Kp,arguments)};f.prototype.np=function(){this.Kp.Ew[this.name]=!0;this.Kp.np.apply(this.Kp,arguments)}})("undefined"!=typeof io?io:module.qc,"undefined"!=typeof io?io:module.parent.qc);(function(a,d,e){function f(a){d.Transport.apply(this,arguments)}
a.Qg=f;d.util.inherit(f,d.Transport);f.prototype.name="websocket";f.prototype.open=function(){var a=d.util.query(this.wb.options.query),c=this,f;f||(f=e.zZ||e.bN);this.Qg=new f(this.Ps()+a);this.Qg.onopen=function(){c.$w();c.wb.hk(!1)};this.Qg.onmessage=function(a){c.Ms(a.data)};this.Qg.onclose=function(){c.gi();c.wb.hk(!0)};this.Qg.onerror=function(a){c.fn(a)};return this};f.prototype.send=d.util.ua.iDevice?function(a){var c=this;setTimeout(function(){c.Qg.send(a)},0);return this}:function(a){this.Qg.send(a);
return this};f.prototype.oJ=function(a){for(var c=0,d=a.length;c<d;c++)this.cg(a[c]);return this};f.prototype.close=function(){this.Qg.close();return this};f.prototype.fn=function(a){this.wb.fn(a)};f.prototype.scheme=function(){return this.wb.options.vn?"wss":"ws"};f.Rm=function(){return"WebSocket"in e&&!("__addTask"in WebSocket)||"MozWebSocket"in e};f.lt=function(){return!0};d.transports.push("websocket")})("undefined"!=typeof io?io.Transport:module.qc,"undefined"!=typeof io?io:module.parent.qc,
this);(function(c,d){function e(){d.Transport.Qg.apply(this,arguments)}c.V2=e;d.util.inherit(e,d.Transport.Qg);e.prototype.name="flashsocket";e.prototype.open=function(){var a=this,c=arguments;WebSocket.yu(function(){d.Transport.Qg.prototype.open.apply(a,c)});return this};e.prototype.send=function(){var a=this,c=arguments;WebSocket.yu(function(){d.Transport.Qg.prototype.send.apply(a,c)});return this};e.prototype.close=function(){WebSocket.wq.length=0;d.Transport.Qg.prototype.close.call(this);return this};
e.prototype.fx=function(a,c){function h(){var d=a.options,h=d["flash policy port"],n=["http"+(d.vn?"s":"")+":/",d.host+":"+d.port,d.lx,"static/flashsocket","WebSocketMain"+(a.Dp()?"Insecure":"")+".swf"];e.loaded||("undefined"===typeof WEB_SOCKET_SWF_LOCATION&&(WEB_SOCKET_SWF_LOCATION=n.join("/")),843!==h&&WebSocket.UT("xmlsocket://"+d.host+":"+h),WebSocket.ez(),e.loaded=!0);c.call(k)}var k=this;if(document.body)return h();d.util.load(h)};e.Rm=function(){return"undefined"!=typeof WebSocket&&"__initialize"in
WebSocket&&a?10<=a.kS().ZT:!1};e.lt=function(){return!0};"undefined"!=typeof window&&(WEB_SOCKET_DISABLE_AUTO_INITIALIZATION=!0);d.transports.push("flashsocket")})("undefined"!=typeof io?io.Transport:module.qc,"undefined"!=typeof io?io:module.parent.qc);if("undefined"!=typeof window)var a=function(){function c(){if(!ia){try{var a=J.getElementsByTagName("body")[0].appendChild(J.createElement("span"));a.parentNode.removeChild(a)}catch(c){return}ia=!0;for(var a=va.length,d=0;d<a;d++)va[d]()}}function d(a){ia?
a():va[va.length]=a}function e(a){if(typeof Z.addEventListener!=L)Z.addEventListener("load",a,!1);else if(typeof J.addEventListener!=L)J.addEventListener("load",a,!1);else if(typeof Z.attachEvent!=L)w(Z,a);else if("function"==typeof Z.onload){var c=Z.onload;Z.onload=function(){c();a()}}else Z.onload=a}function f(){var a=J.getElementsByTagName("body")[0],c=J.createElement(Q);c.setAttribute("type",R);var d=a.appendChild(c);if(d){var e=0;(function(){if(typeof d.GetVariable!=L){var f=d.GetVariable("$version");
f&&(f=f.split(" ")[1].split(","),E.Op=[parseInt(f[0],10),parseInt(f[1],10),parseInt(f[2],10)])}else if(10>e){e++;setTimeout(arguments.callee,10);return}a.removeChild(c);d=null;g()})()}else g()}function g(){var a=ga.length;if(0<a)for(var c=0;c<a;c++){var d=ga[c].id,e=ga[c].SQ,f={Dn:!1,id:d};if(0<E.Op[0]){var g=t(d);if(g)if(!A(ga[c].AX)||E.ok&&312>E.ok)if(ga[c].QH&&k()){f={};f.data=ga[c].QH;f.width=g.getAttribute("width")||"0";f.height=g.getAttribute("height")||"0";g.getAttribute("class")&&(f.Xba=g.getAttribute("class"));
g.getAttribute("align")&&(f.align=g.getAttribute("align"));for(var n={},g=g.getElementsByTagName("param"),r=g.length,p=0;p<r;p++)"movie"!=g[p].getAttribute("name").toLowerCase()&&(n[g[p].getAttribute("name")]=g[p].getAttribute("value"));l(f,n,d,e)}else m(g),e&&e(f);else B(d,!0),e&&(f.Dn=!0,f.CJ=h(d),e(f))}else B(d,!0),e&&((d=h(d))&&typeof d.SetVariable!=L&&(f.Dn=!0,f.CJ=d),e(f))}}function h(a){var c=null;(a=t(a))&&"OBJECT"==a.nodeName&&(typeof a.SetVariable!=L?c=a:(a=a.getElementsByTagName(Q)[0])&&
(c=a));return c}function k(){return!wa&&A("6.0.65")&&(E.Ah||E.ZI)&&!(E.ok&&312>E.ok)}function l(a,c,d,e){wa=!0;Ca=e||null;Ja={Dn:!1,id:d};var f=t(d);if(f){"OBJECT"==f.nodeName?(ra=n(f),xa=null):(ra=f,xa=d);a.id=la;if(typeof a.width==L||!/%$/.test(a.width)&&310>parseInt(a.width,10))a.width="310";if(typeof a.height==L||!/%$/.test(a.height)&&137>parseInt(a.height,10))a.height="137";J.title=J.title.slice(0,47)+" - Flash Player Installation";e=E.th&&E.Ah?["Active"].concat("").join("X"):"PlugIn";e="MMredirectURL\x3d"+
Z.location.toString().replace(/&/g,"%26")+"\x26MMplayerType\x3d"+e+"\x26MMdoctitle\x3d"+J.title;c.is=typeof c.is!=L?c.is+("\x26"+e):e;E.th&&E.Ah&&4!=f.readyState&&(e=J.createElement("div"),d+="SWFObjectNew",e.setAttribute("id",d),f.parentNode.insertBefore(e,f),f.style.display="none",function(){4==f.readyState?f.parentNode.removeChild(f):setTimeout(arguments.callee,10)}());r(a,c,d)}}function m(a){if(E.th&&E.Ah&&4!=a.readyState){var c=J.createElement("div");a.parentNode.insertBefore(c,a);c.parentNode.replaceChild(n(a),
c);a.style.display="none";(function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)})()}else a.parentNode.replaceChild(n(a),a)}function n(a){var c=J.createElement("div");if(E.Ah&&E.th)c.innerHTML=a.innerHTML;else if(a=a.getElementsByTagName(Q)[0])if(a=a.childNodes)for(var d=a.length,e=0;e<d;e++)1==a[e].nodeType&&"PARAM"==a[e].nodeName||8==a[e].nodeType||c.appendChild(a[e].cloneNode(!0));return c}function r(a,c,d){var e,f=t(d);if(E.ok&&312>E.ok)return e;if(f)if(typeof a.id==
L&&(a.id=d),E.th&&E.Ah){var g="",h;for(h in a)a[h]!=Object.prototype[h]&&("data"==h.toLowerCase()?c.y8=a[h]:"styleclass"==h.toLowerCase()?g+=' class\x3d"'+a[h]+'"':"classid"!=h.toLowerCase()&&(g+=" "+h+'\x3d"'+a[h]+'"'));h="";for(var k in c)c[k]!=Object.prototype[k]&&(h+='\x3cparam name\x3d"'+k+'" value\x3d"'+c[k]+'" /\x3e');f.outerHTML='\x3cobject classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+g+"\x3e"+h+"\x3c/object\x3e";ya[ya.length]=a.id;e=t(a.id)}else{k=J.createElement(Q);k.setAttribute("type",
R);for(var l in a)a[l]!=Object.prototype[l]&&("styleclass"==l.toLowerCase()?k.setAttribute("class",a[l]):"classid"!=l.toLowerCase()&&k.setAttribute(l,a[l]));for(g in c)c[g]!=Object.prototype[g]&&"movie"!=g.toLowerCase()&&(a=k,h=g,l=c[g],d=J.createElement("param"),d.setAttribute("name",h),d.setAttribute("value",l),a.appendChild(d));f.parentNode.replaceChild(k,f);e=k}return e}function p(a){var c=t(a);c&&"OBJECT"==c.nodeName&&(E.th&&E.Ah?(c.style.display="none",function(){if(4==c.readyState){var d=t(a);
if(d){for(var e in d)"function"==typeof d[e]&&(d[e]=null);d.parentNode.removeChild(d)}}else setTimeout(arguments.callee,10)}()):c.parentNode.removeChild(c))}function t(a){var c=null;try{c=J.getElementById(a)}catch(d){}return c}function w(a,c){a.attachEvent("onload",c);ma[ma.length]=[a,"onload",c]}function A(a){var c=E.Op;a=a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return c[0]>a[0]||c[0]==a[0]&&c[1]>a[1]||c[0]==a[0]&&c[1]==a[1]&&c[2]>=a[2]?!0:!1}function D(a,
c,d,e){if(!E.th||!E.ZI){var f=J.getElementsByTagName("head")[0];f&&(d=d&&"string"==typeof d?d:"screen",e&&(Da=ea=null),ea&&Da==d||(e=J.createElement("style"),e.setAttribute("type","text/css"),e.setAttribute("media",d),ea=f.appendChild(e),E.th&&E.Ah&&typeof J.styleSheets!=L&&0<J.styleSheets.length&&(ea=J.styleSheets[J.styleSheets.length-1]),Da=d),E.th&&E.Ah?ea&&typeof ea.addRule==Q&&ea.addRule(a,c):ea&&typeof J.createTextNode!=L&&ea.appendChild(J.createTextNode(a+" {"+c+"}")))}}function B(a,c){if(Ka){var d=
c?"visible":"hidden";ia&&t(a)?t(a).style.visibility=d:D("#"+a,"visibility:"+d)}}function Y(a){return null!=/[\\\"<>\.;]/.exec(a)&&typeof encodeURIComponent!=L?encodeURIComponent(a):a}var L="undefined",Q="object",R="application/x-shockwave-flash",la="SWFObjectExprInst",Z=window,J=document,ha=navigator,La=!1,va=[function(){La?f():g()}],ga=[],ya=[],ma=[],ra,xa,Ca,Ja,ia=!1,wa=!1,ea,Da,Ka=!0,E=function(){var a=typeof J.getElementById!=L&&typeof J.getElementsByTagName!=L&&typeof J.createElement!=L,c=ha.userAgent.toLowerCase(),
d=ha.platform.toLowerCase(),e=d?/win/.test(d):/win/.test(c),d=d?/mac/.test(d):/mac/.test(c),c=/webkit/.test(c)?parseFloat(c.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,f=!+"\v1",g=[0,0,0],h=null;if(typeof ha.plugins!=L&&typeof ha.plugins["Shockwave Flash"]==Q)!(h=ha.plugins["Shockwave Flash"].description)||typeof ha.mimeTypes!=L&&ha.mimeTypes[R]&&!ha.mimeTypes[R].enabledPlugin||(La=!0,f=!1,h=h.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),g[0]=parseInt(h.replace(/^(.*)\..*$/,"$1"),10),g[1]=parseInt(h.replace(/^.*\.(.*)\s.*$/,
"$1"),10),g[2]=/[a-zA-Z]/.test(h)?parseInt(h.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof Z[["Active"].concat("Object").join("X")]!=L)try{var k=new (window[["Active"].concat("Object").join("X")])("ShockwaveFlash.ShockwaveFlash");k&&(h=k.GetVariable("$version"))&&(f=!0,h=h.split(" ")[1].split(","),g=[parseInt(h[0],10),parseInt(h[1],10),parseInt(h[2],10)])}catch(l){}return{Jl:a,Op:g,ok:c,th:f,Ah:e,ZI:d}}();(function(){E.Jl&&((typeof J.readyState!=L&&"complete"==J.readyState||typeof J.readyState==
L&&(J.getElementsByTagName("body")[0]||J.body))&&c(),ia||(typeof J.addEventListener!=L&&J.addEventListener("DOMContentLoaded",c,!1),E.th&&E.Ah&&(J.attachEvent("onreadystatechange",function(){"complete"==J.readyState&&(J.detachEvent("onreadystatechange",arguments.callee),c())}),Z==top&&function(){if(!ia){try{J.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}c()}}()),E.ok&&function(){ia||(/loaded|complete/.test(J.readyState)?c():setTimeout(arguments.callee,0))}(),e(c)))})();
(function(){E.th&&E.Ah&&window.attachEvent("onunload",function(){for(var c=ma.length,d=0;d<c;d++)ma[d][0].detachEvent(ma[d][1],ma[d][2]);c=ya.length;for(d=0;d<c;d++)p(ya[d]);for(var e in E)E[e]=null;E=null;for(var f in a)a[f]=null;a=null})})();return{P9:function(a,c,d,e){if(E.Jl&&a&&c){var f={};f.id=a;f.AX=c;f.QH=d;f.SQ=e;ga[ga.length]=f;B(a,!1)}else e&&e({Dn:!1,id:a})},O4:function(a){if(E.Jl)return h(a)},TR:function(a,c,e,f,g,h,m,n,p,t){var w={Dn:!1,id:c};E.Jl&&!(E.ok&&312>E.ok)&&a&&c&&e&&f&&g?(B(c,
!1),d(function(){e+="";f+="";var d={};if(p&&typeof p===Q)for(var D in p)d[D]=p[D];d.data=a;d.width=e;d.height=f;D={};if(n&&typeof n===Q)for(var Y in n)D[Y]=n[Y];if(m&&typeof m===Q)for(var E in m)D.is=typeof D.is!=L?D.is+("\x26"+E+"\x3d"+m[E]):E+"\x3d"+m[E];if(A(g))Y=r(d,D,c),d.id==c&&B(c,!0),w.Dn=!0,w.CJ=Y;else{if(h&&k()){d.data=h;l(d,D,c,t);return}B(c,!0)}t&&t(w)})):t&&t(w)},eca:function(){Ka=!1},ua:E,kS:function(){return{ZT:E.Op[0],u8:E.Op[1],fD:E.Op[2]}},eT:A,Z1:function(a,c,d){if(E.Jl)return r(a,
c,d)},Hba:function(a,c,d,e){E.Jl&&k()&&l(a,c,d,e)},d$:function(a){E.Jl&&p(a)},Y1:function(a,c,d,e){E.Jl&&D(a,c,d,e)},R0:d,V0:e,t5:function(a){var c=J.location.search||J.location.hash;if(c){/\?/.test(c)&&(c=c.split("?")[1]);if(null==a)return Y(c);for(var c=c.split("\x26"),d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("\x3d"))==a)return Y(c[d].substring(c[d].indexOf("\x3d")+1))}return""},F2:function(){if(wa){var a=t(la);a&&ra&&(a.parentNode.replaceChild(ra,a),xa&&(B(xa,!0),E.th&&E.Ah&&(ra.style.display=
"block")),Ca&&Ca(Ja));wa=!1}}}}();(function(){if("undefined"!=typeof window&&!window.bN){var c=window.console;c&&c.log&&c.error||(c={log:function(){},error:function(){}});a.eT("10.0.0")?("file:"==location.protocol&&c.error("WARNING: web-socket-js doesn't work in file:///... URL unless you set Flash Security Settings properly. Open the page via Web server i.e. http://..."),WebSocket=function(a,c,f,g,h){var k=this;k.Au=WebSocket.iN++;WebSocket.qF[k.Au]=k;k.readyState=WebSocket.CONNECTING;k.bufferedAmount=
0;k.Zn={};c?"string"==typeof c&&(c=[c]):c=[];setTimeout(function(){WebSocket.yu(function(){WebSocket.ti.create(k.Au,a,c,f||null,g||0,h||null)})},0)},WebSocket.prototype.send=function(a){if(this.readyState==WebSocket.CONNECTING)throw"INVALID_STATE_ERR: Web Socket connection has not been established";a=WebSocket.ti.send(this.Au,encodeURIComponent(a));if(0>a)return!0;this.bufferedAmount+=a;return!1},WebSocket.prototype.close=function(){this.readyState!=WebSocket.CLOSED&&this.readyState!=WebSocket.hE&&
(this.readyState=WebSocket.hE,WebSocket.ti.close(this.Au))},WebSocket.prototype.addEventListener=function(a,c){a in this.Zn||(this.Zn[a]=[]);this.Zn[a].push(c)},WebSocket.prototype.removeEventListener=function(a,c){if(a in this.Zn)for(var f=this.Zn[a],g=f.length-1;0<=g;--g)if(f[g]===c){f.splice(g,1);break}},WebSocket.prototype.dispatchEvent=function(a){for(var c=this.Zn[a.type]||[],f=0;f<c.length;++f)c[f](a);(c=this["on"+a.type])&&c(a)},WebSocket.prototype.fN=function(a){"readyState"in a&&(this.readyState=
a.readyState);"protocol"in a&&(this.protocol=a.protocol);if("open"==a.type||"error"==a.type)a=this.oF(a.type);else if("close"==a.type)a=this.oF("close");else if("message"==a.type)a=this.dN(decodeURIComponent(a.message));else throw"unknown event type: "+a.type;this.dispatchEvent(a)},WebSocket.prototype.oF=function(a){if(document.createEvent&&window.YY){var c=document.createEvent("Event");c.initEvent(a,!1,!1);return c}return{type:a,bubbles:!1,cancelable:!1}},WebSocket.prototype.dN=function(a){if(document.createEvent&&
window.xZ&&!window.opera){var c=document.createEvent("MessageEvent");c.initMessageEvent("message",!1,!1,a,null,null,window,null);return c}return{type:"message",data:a,bubbles:!1,cancelable:!1}},WebSocket.CONNECTING=0,WebSocket.OPEN=1,WebSocket.hE=2,WebSocket.CLOSED=3,WebSocket.ti=null,WebSocket.qF={},WebSocket.wq=[],WebSocket.iN=0,WebSocket.UT=function(a){WebSocket.yu(function(){WebSocket.ti.n8(a)})},WebSocket.ez=function(){if(!WebSocket.ti&&(WebSocket.kN&&(window.aN=WebSocket.kN),window.aN)){var d=
document.createElement("div");d.id="webSocketContainer";d.style.position="absolute";WebSocket.hN()?(d.style.left="0px",d.style.top="0px"):(d.style.left="-100px",d.style.top="-100px");var e=document.createElement("div");e.id="webSocketFlash";d.appendChild(e);document.body.appendChild(d);a.TR(WEB_SOCKET_SWF_LOCATION,"webSocketFlash","1","1","10.0.0",null,null,{H6:!0,hca:!0,h1:"always"},null,function(a){a.Dn||c.error("[WebSocket] swfobject.embedSWF failed")})}},WebSocket.Z_=function(){setTimeout(function(){WebSocket.ti=
document.getElementById("webSocketFlash");WebSocket.ti.G$(location.href);WebSocket.ti.O$(!!window.K_);for(var a=0;a<WebSocket.wq.length;++a)WebSocket.wq[a]();WebSocket.wq=[]},0)},WebSocket.Y_=function(){setTimeout(function(){try{for(var a=WebSocket.ti.K9(),e=0;e<a.length;++e)WebSocket.qF[a[e].Vca].fN(a[e])}catch(f){c.error(f)}},0);return!0},WebSocket.X_=function(a){c.log(decodeURIComponent(a))},WebSocket.W_=function(a){c.error(decodeURIComponent(a))},WebSocket.yu=function(a){WebSocket.ti?a():WebSocket.wq.push(a)},
WebSocket.hN=function(){if(!window.navigator||!window.navigator.mimeTypes)return!1;var a=window.navigator.mimeTypes["application/x-shockwave-flash"];return a&&a.enabledPlugin&&a.enabledPlugin.filename?a.enabledPlugin.filename.match(/flashlite/i)?!0:!1:!1},window.L_||(window.addEventListener?window.addEventListener("load",function(){WebSocket.ez()},!1):window.attachEvent("onload",function(){WebSocket.ez()}))):c.error("Flash Player \x3e\x3d 10.0.0 is required.")}})();(function(a,d,e){function f(a){a&&
d.Transport.apply(this,arguments)}function g(){}a.rj=f;d.util.inherit(f,d.Transport);f.prototype.open=function(){this.wb.hk(!1);this.$w();this.get();this.WJ();return this};f.prototype.oJ=function(a){for(var c=[],e=0,f=a.length;e<f;e++)c.push(d.parser.encodePacket(a[e]));this.send(d.parser.encodePayload(c))};f.prototype.send=function(a){this.sJ(a);return this};f.prototype.sJ=function(a){function c(){4==this.readyState&&(this.onreadystatechange=g,f.y9=!1,200==this.status?f.wb.hk(!1):f.gi())}function d(){this.onload=
g;f.wb.hk(!1)}var f=this;this.wb.hk(!0);this.Rs=this.request("POST");e.XDomainRequest&&this.Rs instanceof XDomainRequest?this.Rs.onload=this.Rs.onerror=d:this.Rs.onreadystatechange=c;this.Rs.send(a)};f.prototype.close=function(){this.gi();return this};f.prototype.request=function(a){var c=d.util.request(this.wb.Dp()),e=d.util.query(this.wb.options.query,"t\x3d"+ +new Date);c.open(a||"GET",this.Ps()+e,!0);if("POST"==a)try{c.setRequestHeader?c.setRequestHeader("Content-type","text/plain;charset\x3dUTF-8"):
c.contentType="text/plain"}catch(f){}return c};f.prototype.scheme=function(){return this.wb.options.vn?"https":"http"};f.Rm=function(a,c){try{var f=d.util.request(c),g=e.XDomainRequest&&f instanceof XDomainRequest,n=a&&a.options&&a.options.vn?"https:":"http:",r=e.location&&n!=e.location.protocol;if(f&&(!g||!r))return!0}catch(p){}return!1};f.lt=function(a){return f.Rm(a,!0)}})("undefined"!=typeof io?io.Transport:module.qc,"undefined"!=typeof io?io:module.parent.qc,this);(function(a,d){function e(a){d.Transport.rj.apply(this,
arguments)}a.K6=e;d.util.inherit(e,d.Transport.rj);e.prototype.name="htmlfile";e.prototype.get=function(){this.hl=new (window[["Active"].concat("Object").join("X")])("htmlfile");this.hl.open();this.hl.write("\x3chtml\x3e\x3c/html\x3e");this.hl.close();this.hl.parentWindow.li=this;var a=this.hl.createElement("div");a.className="socketio";this.hl.body.appendChild(a);this.Dg=this.hl.createElement("iframe");a.appendChild(this.Dg);var c=this,a=d.util.query(this.wb.options.query,"t\x3d"+ +new Date);this.Dg.src=
this.Ps()+a;d.util.on(window,"unload",function(){c.Jd()})};e.prototype.lF=function(a,c){a=a.replace(/\\\//g,"/");this.Ms(a);try{var d=c.getElementsByTagName("script")[0];d.parentNode.removeChild(d)}catch(e){}};e.prototype.Jd=function(){if(this.Dg){try{this.Dg.src="about:blank"}catch(a){}this.hl=null;this.Dg.parentNode.removeChild(this.Dg);this.Dg=null;CollectGarbage()}};e.prototype.close=function(){this.Jd();return d.Transport.rj.prototype.close.call(this)};e.Rm=function(a){if("undefined"!=typeof window&&
["Active"].concat("Object").join("X")in window)try{return new (window[["Active"].concat("Object").join("X")])("htmlfile")&&d.Transport.rj.Rm(a)}catch(c){}return!1};e.lt=function(){return!1};d.transports.push("htmlfile")})("undefined"!=typeof io?io.Transport:module.qc,"undefined"!=typeof io?io:module.parent.qc);(function(a,d,e){function f(){d.Transport.rj.apply(this,arguments)}function g(){}a["xhr-polling"]=f;d.util.inherit(f,d.Transport.rj);d.util.merge(f,d.Transport.rj);f.prototype.name="xhr-polling";
f.prototype.wI=function(){return!1};f.prototype.open=function(){d.Transport.rj.prototype.open.call(this);return!1};f.prototype.get=function(){function a(){4==this.readyState&&(this.onreadystatechange=g,200==this.status?(f.Ms(this.responseText),f.get()):f.gi())}function c(){this.onerror=this.onload=g;f.mD=1;f.Ms(this.responseText);f.get()}function d(){f.mD++;!f.mD||3<f.mD?f.gi():f.get()}if(this.Cs){var f=this;this.ni=this.request();e.XDomainRequest&&this.ni instanceof XDomainRequest?(this.ni.onload=
c,this.ni.onerror=d):this.ni.onreadystatechange=a;this.ni.send(null)}};f.prototype.gi=function(){d.Transport.rj.prototype.gi.call(this);if(this.ni){this.ni.onreadystatechange=this.ni.onload=this.ni.onerror=g;try{this.ni.abort()}catch(a){}this.ni=null}};f.prototype.fx=function(a,c){var e=this;d.util.defer(function(){c.call(e)})};d.transports.push("xhr-polling")})("undefined"!=typeof io?io.Transport:module.qc,"undefined"!=typeof io?io:module.parent.qc,this);(function(a,d,e){function f(a){d.Transport["xhr-polling"].apply(this,
arguments);this.index=d.j.length;var c=this;d.j.push(function(a){c.lF(a)})}var g=e.document&&"MozAppearance"in e.document.documentElement.style;a["jsonp-polling"]=f;d.util.inherit(f,d.Transport["xhr-polling"]);f.prototype.name="jsonp-polling";f.prototype.sJ=function(a){function c(){e();f.wb.hk(!1)}function e(){f.Dg&&f.form.removeChild(f.Dg);try{w=document.createElement('\x3ciframe name\x3d"'+f.yC+'"\x3e')}catch(a){w=document.createElement("iframe"),w.name=f.yC}w.id=f.yC;f.form.appendChild(w);f.Dg=
w}var f=this,g=d.util.query(this.wb.options.query,"t\x3d"+ +new Date+"\x26i\x3d"+this.index);if(!this.form){var r=document.createElement("form"),p=document.createElement("textarea"),t=this.yC="socketio_iframe_"+this.index,w;r.className="socketio";r.style.position="absolute";r.style.top="0px";r.style.left="0px";r.style.display="none";r.target=t;r.method="POST";r.setAttribute("accept-charset","utf-8");p.name="d";r.appendChild(p);document.body.appendChild(r);this.form=r;this.MQ=p}this.form.action=this.Ps()+
g;e();this.MQ.value=d.JSON.stringify(a);try{this.form.submit()}catch(A){}this.Dg.attachEvent?w.onreadystatechange=function(){"complete"==f.Dg.readyState&&c()}:this.Dg.onload=c;this.wb.hk(!0)};f.prototype.get=function(){var a=this,c=document.createElement("script"),e=d.util.query(this.wb.options.query,"t\x3d"+ +new Date+"\x26i\x3d"+this.index);this.kb&&(this.kb.parentNode.removeChild(this.kb),this.kb=null);c.async=!0;c.src=this.Ps()+e;c.onerror=function(){a.gi()};e=document.getElementsByTagName("script")[0];
e.parentNode.insertBefore(c,e);this.kb=c;g&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a);document.body.removeChild(a)},100)};f.prototype.lF=function(a){this.Ms(a);this.Cs&&this.get();return this};f.prototype.fx=function(a,c){var e=this;if(!g)return c.call(this);d.util.load(function(){c.call(e)})};f.Rm=function(){return"document"in e};f.lt=function(){return!0};d.transports.push("jsonp-polling")})("undefined"!=typeof io?io.Transport:module.qc,"undefined"!=
typeof io?io:module.parent.qc,this);"function"===typeof define&&define.i1&&define([],function(){return io})})();q=q||{};function ca(){return arguments.callee.name||arguments.callee.toString().match(/^function ([^(]+)/)[1]}ca.id=0|998*Math.random();ca.CT=0|998*Math.random();
ca.vH=function(a,c,d){for(var e=a.toString(),f=e.indexOf("("),g=e.indexOf(")"),f=e.substring(f+1,g),f=f.trim(),g=e.indexOf("{"),e=e.substring(g+1,e.lastIndexOf("}"));-1!=e.indexOf("this._super");)var g=e.indexOf("this._super"),h=e.indexOf("(",g),k=e.indexOf(")",h),k=e.substring(h+1,k),k=(k=k.trim())?",":"",l=arguments.callee.yL(),e=e.substring(0,g)+l+"["+d+"]."+c+".call(this"+k+e.substring(h+1);return Function(f,e)};ca.vH.yL=ca;ca.vS=function(){return this.id++};ca.wS=function(){return this.CT++};
(function(){var a=/\b_super\b/,c=document.ccConfig&&document.ccConfig.CLASS_RELEASE_MODE?document.ccConfig.CLASS_RELEASE_MODE:null;c&&console.log("release Mode");q.Ca=function(){};q.Ca.extend=function(d){function e(){this.ac=ca.wS();this.ctor&&this.ctor.apply(this,arguments)}var f=this.prototype,g=Object.create(f),h=ca.vS();ca[h]=f;var k={writable:!0,enumerable:!1,configurable:!0},l;for(l in d)c&&"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=ca.vH(d[l],l,h),Object.defineProperty(g,
l,k)):"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=function(a,c){return function(){var d=this._super;this._super=f[a];var e=c.apply(this,arguments);this._super=d;return e}}(l,d[l]),Object.defineProperty(g,l,k)):"function"==typeof d[l]?(k.value=d[l],Object.defineProperty(g,l,k)):g[l]=d[l];g.ac=null;e.id=h;k.value=h;Object.defineProperty(g,"__pid",k);e.prototype=g;k.value=e;Object.defineProperty(e.prototype,"constructor",k);e.extend=arguments.callee;e.M6=function(a){for(var c in a)g[c]=
a[c]};return e};Function.prototype.bind=Function.prototype.bind||function(a){var c=this;return function(){var f=Array.prototype.slice.call(arguments);return c.apply(a||null,f)}}})();q.O6=function(a,c){function d(){}d.prototype=c.prototype;a.Px=c.prototype;a.prototype=new d;a.prototype.constructor=a};
q.PQ=function(a,c,d){var e=arguments.callee.caller;if(e.Px)return ret=e.Px.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var f=Array.prototype.slice.call(arguments,2),g=!1,h=a.constructor;h;h=h.Px&&h.Px.constructor)if(h.prototype[c]===e)g=!0;else if(g)return h.prototype[c].apply(a,f);if(a[c]===e)return a.constructor.prototype[c].apply(a,f);throw Error("cc.base called from a method of one name to a method of a different name");};
q.U1=function(a,c){a||(a={});for(var d in c)a[d]=c[d];return a};q.Tg=function(a,c){this.x=a||0;this.y=c||0};q.mF=function(a,c){this.F=a||0;this.J=c||0;this.BK=function(a){this.F=a};this.CK=function(a){this.J=a}};q.sd=function(){return new q.mF(0,0)};
Object.defineProperties(q.mF.prototype,{x:{get:function(){return this.F},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0},y:{get:function(){return this.J},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0}});q.OZ=function(a,c){q.log("cc.PointMake will be deprecated sooner or later. Use cc.p instead.");return new q.Tg(a,c)};
q.a=function(a,c){return{x:a,y:c}};q.y0=q.a;q.nj=function(){return q.a(0,0)};q.pJ=function(a,c){return a&&c?a.x===c.x&&a.y===c.y:!1};q.wk=function(a,c){this.width=a||0;this.height=c||0};q.nF=function(a,c){this.Fa=a||0;this.pa=c||0;this.ID=function(a){this.Fa=a};this.wD=function(a){this.pa=a}};q.wm=function(){return new q.nF(0,0)};
Object.defineProperties(q.nF.prototype,{width:{get:function(){return this.Fa},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0},height:{get:function(){return this.pa},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0}});q.s_=function(a,c){q.log("cc.SizeMake will be deprecated sooner or later. Use cc.size instead.");return q.size(a,c)};
q.size=function(a,c){return{width:a,height:c}};q.ab=q.size;q.Tl=function(){return q.size(0,0)};q.cH={GU:q.sd(),rX:q.wm()};Object.defineProperties(q,{xM:{get:function(){return q.cH.GU}},HM:{get:function(){return q.cH.rX}},TZ:{get:function(){return q.rect(0,0,0,0)}}});q.qX=function(a,c){return a&&c?a.width==c.width&&a.height==c.height:!1};
q.jg=function(a,c,d,e){var f=arguments.length;if(4===f)this.fd=new q.Tg(a||0,c||0),this.ab=new q.wk(d||0,e||0);else if(1===f)this.fd=new q.Tg(a.fd.x,a.fd.y),this.ab=new q.wk(a.ab.width,a.ab.height);else if(0===f)this.fd=new q.Tg(0,0),this.ab=new q.wk(0,0);else if(2===f)this.fd=new q.Tg(a.x,a.y),this.ab=new q.wk(c.width,c.height);else throw"unknown argument type";};q.$Z=function(a,c,d,e){q.log("cc.RectMake will be deprecated sooner or later. Use cc.rect instead.");return q.rect(a,c,d,e)};
q.rect=function(a,c,d,e){var f=arguments.length;if(0===f)return new q.jg(0,0,0,0);if(1===f)return new q.jg(a.x,a.y,a.width,a.height);if(2===f)return new q.jg(a.x,a.y,c.width,c.height);if(4===f)return new q.jg(a,c,d,e);throw"unknown argument type";};q.wa=q.rect;q.cd=function(){return q.rect(0,0,0,0)};q.AJ=function(a,c){return a&&c?q.pJ(a.fd,c.fd)&&q.qX(a.ab,c.ab):!1};q.yr=function(a){return a?0===a.x&&0===a.y&&0===a.width&&0===a.height:!1};
q.L9=function(a,c){return a&&c?!(a.x>=c.x||a.y>=c.y||a.x+a.width<=c.x+c.width||a.y+a.height<=c.y+c.height):!1};q.nn=function(a){return a.x+a.width};q.M9=function(a){return a.x+a.width/2};q.wl=function(a){return a.x};q.pn=function(a){return a.y+a.height};q.N9=function(a){return a.y+a.height/2};q.xl=function(a){return a.y};q.rb=function(a,c){return c.x>=q.wl(a)&&c.x<=q.nn(a)&&c.y>=q.xl(a)&&c.y<=q.pn(a)};q.XU=function(a,c){return!(q.nn(a)<q.wl(c)||q.nn(c)<q.wl(a)||q.pn(a)<q.xl(c)||q.pn(c)<q.xl(a))};
q.O9=function(a,c){return!(a.x+a.width<c.x||c.x+c.width<a.x||a.y+a.height<c.y||c.y+c.height<a.y)};q.jx=function(a,c){var d=q.rect(0,0,0,0);d.x=Math.min(a.x,c.x);d.y=Math.min(a.y,c.y);d.width=Math.max(a.x+a.width,c.x+c.width)-d.x;d.height=Math.max(a.y+a.height,c.y+c.height)-d.y;return d};q.WU=function(a,c){var d=q.rect(Math.max(q.wl(a),q.wl(c)),Math.max(q.xl(a),q.xl(c)),0,0);d.width=Math.min(q.nn(a),q.nn(c))-q.wl(d);d.height=Math.min(q.pn(a),q.pn(c))-q.xl(d);return d};b=q.jg.prototype;
b.BK=function(a){this.fd.x=a};b.CK=function(a){this.fd.y=a};b.ws=function(){return this.ab.width};b.ID=function(a){this.ab.width=a};b.ps=function(){return this.ab.height};b.wD=function(a){this.ab.height=a};
Object.defineProperties(q.jg.prototype,{x:{get:function(){return this.fd.x},set:function(a){this.BK(a)},enumerable:!0,configurable:!0},y:{get:function(){return this.fd.y},set:function(a){this.CK(a)},enumerable:!0,configurable:!0},width:{get:function(){return this.ws()},set:function(a){this.ID(a)},enumerable:!0,configurable:!0},height:{get:function(){return this.ps()},set:function(a){this.wD(a)},enumerable:!0,configurable:!0}});var s=s||{};try{s.localStorage=window.localStorage,window.localStorage.setItem("storage",""),window.localStorage.removeItem("storage")}catch(da){"SECURITY_ERR"!==da.name&&"QuotaExceededError"!==da.name||console.log("Warning: localStorage isn't enabled. Please confirm browser cookie or privacy option"),s.localStorage=function(){}}
Object.defineProperties(s,{G1:{get:function(){var a={canvas:!0};q.Ea.Pc&&(a.opengl=!0);"ontouchstart"in document.documentElement||window.navigator.msPointerEnabled?a.touches=!0:"onmouseup"in document.documentElement&&(a.mouse=!0);"onkeyup"in document.documentElement&&(a.keyboard=!0);if(window.DeviceMotionEvent||window.DeviceOrientationEvent)a.accelerometer=!0;return a},enumerable:!0,configurable:!0},T8:{get:function(){var a=navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?!0:!1,c=navigator.userAgent.match(/android/i)||
navigator.platform.match(/android/i)?!0:!1,d=navigator.appVersion;-1!=navigator.appVersion.indexOf("Win")?d="Windows":-1!=navigator.appVersion.indexOf("Mac")?d="OS X":-1!=navigator.appVersion.indexOf("X11")?d="UNIX":-1!=navigator.appVersion.indexOf("Linux")?d="Linux":a?d="iOS":c&&(d="Android");return d},enumerable:!0,configurable:!0},platform:{get:function(){return"browser"},enumerable:!0,configurable:!0},version:{get:function(){return q.tt},enumerable:!0,configurable:!0}});s.a3=function(){};
s.u2=function(){};s.o$=function(){};q.tt="Cocos2d-html5-v2.2.2";q.Nt=0;q.vE=q.a(0,0);q.DL=0.5;q.tY=1;q.IM=1;q.uM=0;q.dF=0;q.u_=0;q.v_=0;q.WZ=1;q.VZ="-hd";q.XM=1;q.vk=0;q.p_=0;q.qZ=0;q.pZ=0;q.vy=1;q.DY=q.tt+"-canvas";q.sw={platform:s.platform};q.t2=function(){for(var a in s)q.log(a+" \x3d "+s[a])};q.st=1;q.xE=1;q.wH=function(a,c){for(var d=["webgl","experimental-webgl","webkit-3d","moz-webgl"],e=null,f=0;f<d.length;++f){try{e=a.getContext(d[f],c)}catch(g){}if(e)break}return e};q.Ea={};q.Ea.QX=["baidubrowser","opera","firefox","chrome","safari"];
(function(){q.Ea.ua=navigator.userAgent.toLowerCase();q.Ea.platform=navigator.platform.toLowerCase();q.Ea.dk=-1!=q.Ea.ua.indexOf("mobile")||-1!=q.Ea.ua.indexOf("android");q.Ea.type=function(){var a=q.Ea.ua.match(/micromessenger|qqbrowser|mqqbrowser|ucbrowser|360browser|baidubrowser|maxthon|ie|opera|firefox/)||q.Ea.ua.match(/chrome|safari/);return a&&0<a.length?(a=a[0],"micromessenger"==a?"wechat":a):"unknow"}();q.Ea.mode="ie"==q.Ea.type&&document.documentMode;document.ccConfig||(document.ccConfig=
{});q.zB=parseInt(document.ccConfig.renderMode)||0;var a=-1==q.Ea.QX.indexOf(q.Ea.type);1===q.zB||0===q.zB&&(q.Ea.dk||a)?q.Ea.Pc=!1:(q.Ea.Pc=null!=window.O_,a=document.createElement("Canvas"),a=q.wH(a,{stencil:!0,preserveDrawingBuffer:!0}),q.Ea.Pc=null!=a);2!==q.zB||q.Ea.Pc||(q.fz=!0);var a=q.Ea,c;try{c=new (window.AudioContext||window.webkitAudioContext||window.mozAudioContext)?!0:!1}catch(d){c=!1}a.Yba=c;q.Ea.Q8=function(a){if(this.dk){var c=q.V.e().Pb,d=c.width+"px",c=c.height+"px",h=q.qk("div");
h.style.backgroundColor="#ffffff";h.style.width=d;h.style.height=c;h.style.TX=1E3;h.style.position="absolute";h.style.top="0px";h.style.left="0px";h.id="cocos2d-browser";var k=q.qk("iframe");k.src=a;k.style.width=d;k.style.height=c;k.setAttribute("frameborder","no");k.setAttribute("scrolling","no");h.appendChild(k);k.onload=function(){var a=document.createElement("img");a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5OERBMEM3OUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5OERBMEM3QUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjk4REEwQzc3RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjk4REEwQzc4RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+NwBuoAAAA/tJREFUeNrEWF0sW3EUb6+28zFhbGadsBaNhazV+kpDYhFWKRGWbHvwFV5IvPiIFw9evElEPEiWSUgsIWoIglhmUomPxj6aKC0zKVJjtPU5o9j5J7dLdbf33jKc5Jfc3v+v5/+755x7/j1lMoiNBRDh4AO88HvO2m+ACbAC+AJQAyz2JCbBFyMBWQA/xv+3DUAXLuivudhcY4BMwCuAB+NqDPmNAnAAOsCZvQgk4BnjeiwEwAbM2YoQA14yrteQEANgDcML7gXjZgw9OAuJkADu3JAIb7Q/hr+GtCwuLs6LDq+iooLvhBAREhFEl11ZWRne0tIiIeNIpVKv4uJi4dTUVApNt0EY3ohILSIiwqO7u1sql8vD8vLyJJ2dnXH2HDabzczPz3/Y1taWzOfz78XExDxSq9Vyd3d3jMK9F2pWr6lEtLa2RmVnZ4tt7w0NDWlTU1OVtkK7urqSQ0NDzzW5hYWFjcTExAGDwXDkyD+VSkZ7e3tsWlpamP19mUwWplQqk9B1UlKST3NzczxE4K49D4mCiDwn24PyPMjIyHjs6urKIVpLSEgInp6eZsM6Kzw8nEvEMZvNBxC1BbI9KCMhkUgUy8vLRpL1QIFA4EcSyZmcnJzpS4mYnZ3dj46O7p2fn193xIGi/CeiFovlFIp5pqGhYZ5qD1qFiQxCjk1OTsqEQmEAFReloL+/X0sVAadFWE2n02VA+O+TcVZXV01QkO8ODw9P6fjEnO2zvb2936g4XC7XG4rWm65P2iL8/f05kN8nBQUFQkqnGMYcGBjIys3N5dLxjY7ydDrE6urqsNLSUqmbmxuH1tOBkMzMTIHRaNxSqVTmS4soKyvjFRUViTw9PV2dTR901WAOh7M/MjKyeeHCbGpqEhcWFkY5Wl9aWtpUKBRaONziSbsii/Xm5OTk7EIdU6/X7zpaW1xc/Al5HxkfH9/e2dk5rqmpeUrE6+vr06ADzpEIlI5kMjFwPhh5PB5DJBKdK7KDg4Oj2tpaVUdHxw/0eWxszIjyj8Jvy4N60FdVVX2Grnt4dkaowYJESAG3yaLR09Oz5uvrexwbGxuAR2erpKTkI6RqxW5DM6RnLT09PQQV5vDwsDYlJWUU+I4EIDMhEQLAA6q0DA4OrqMCg/c/qL6+XtXY2Kgn4sGJuavRaFbFYrFPeXn5FIj6ReFa64KnIpJOpaMK39vbM9XV1X13lF9kc3Nz+xMTEwZo89s03A4ycRE1N/RjF/WPKgyfDRU39Gu7w1qYyNYAtwDB1yhgGPDBfgzU4bMi7xoEjAI6iWZRdGMGH80Cr2goRlP5W8B7qwBHfw1YO6kEH4yC8EnJ5QKbnuDFh17nr4BPRP9P/BFgAHo7ZNgI9EbHAAAAAElFTkSuQmCC";
h.appendChild(a);a.style.TX=1E3;a.style.position="absolute";a.style.bottom="10px";a.style.right="10px";a.onclick=function(){h.remove()}};(a=document.getElementById(document.ccConfig.tag).parentNode)&&a.appendChild(h)}else window.open(a)}})();q.a_=function(){return"undefined"===q.fz?!1:q.fz};
q.Mb=function(a){var c=this==q?document:this;if(a=a instanceof HTMLElement?a:c.querySelector(a))a.find=a.find||q.Mb,a.uC=a.uC||function(a){return this.className.match(RegExp("(\\s|^)"+a+"(\\s|$)"))},a.iH=a.iH||function(a){this.uC(a)||(this.className&&(this.className+=" "),this.className+=a);return this},a.nV=a.nV||function(a){this.uC(a)&&(this.className=this.className.replace(a,""));return this},a.remove=a.remove||function(){this.parentNode&&this.parentNode.removeChild(this);return this},a.Pm=a.Pm||
function(a){a.appendChild(this);return this},a.QU=a.QU||function(a){a.childNodes[0]?a.insertBefore(this,a.childNodes[0]):a.appendChild(this);return this},a.Fn=a.Fn||function(){this.style[q.Mb.EX]=q.Mb.translate(this.position)+q.Mb.rotate(this.rotation)+q.Mb.scale(this.scale)+q.Mb.Dl(this.Dl);return this},a.position=a.position||{x:0,y:0},a.rotation=a.rotation||0,a.scale=a.scale||{x:1,y:1},a.Dl=a.Dl||{x:0,y:0},a.QD=function(a,c){this.position.x=a;this.position.y=c;this.Fn()},a.rotate=function(a){this.rotation=
a;this.Fn();return this},a.resize=function(a,c){this.scale.x=a;this.scale.y=c;this.Fn();return this},a.sK=function(a,c){this.Dl.x=a;this.Dl.y=c;this.Fn()};return a};switch(q.Ea.type){case "firefox":q.Mb.Np="Moz";q.Mb.yp=!0;break;case "chrome":case "safari":q.Mb.Np="webkit";q.Mb.yp=!0;break;case "opera":q.Mb.Np="O";q.Mb.yp=!1;break;case "ie":q.Mb.Np="ms";q.Mb.yp=!1;break;default:q.Mb.Np="webkit",q.Mb.yp=!0}q.Mb.EX=q.Mb.Np+"Transform";
q.Mb.translate=q.Mb.yp?function(a){return"translate3d("+a.x+"px, "+a.y+"px, 0) "}:function(a){return"translate("+a.x+"px, "+a.y+"px) "};q.Mb.rotate=q.Mb.yp?function(a){return"rotateZ("+a+"deg) "}:function(a){return"rotate("+a+"deg) "};q.Mb.scale=function(a){return"scale("+a.x+", "+a.y+") "};q.Mb.Dl=function(a){return"skewX("+-a.x+"deg) skewY("+a.y+"deg)"};q.qk=function(a){return q.Mb(document.createElement(a))};
q.Mb.T2=function(a){var c=0,d=0;do c+=a.offsetLeft,d+=a.offsetTop;while(a=a.offsetParent);return{x:c,y:d}};q.G=function(a){var c=a.constructor?new a.constructor:{},d;for(d in a){var e=a[d];c[d]="object"!=typeof e||!e||e instanceof q.C||e instanceof HTMLElement?e:q.G(e)}return c};q.n1=function(){};q.AE=q.AE||!1;
q.HO=function(a){var c=document.getElementById("logInfoList");if(!c){var d=document.createElement("Div");d.setAttribute("id","logInfoDiv");q.canvas.parentNode.appendChild(d);d.setAttribute("width","200");d.setAttribute("height",q.canvas.height);d.style.zIndex="99999";d.style.position="absolute";d.style.top="0";d.style.left="0";c=document.createElement("ul");d.appendChild(c);c.setAttribute("id","logInfoList");c.style.height=q.canvas.height+"px";c.style.color="#fff";c.style.textAlign="left";c.style.listStyle=
"disc outside";c.style.fontSize="12px";c.style.fontFamily="arial";c.style.padding="0 0 0 20px";c.style.margin="0";c.style.textShadow="0 0 3px #000";c.style.zIndex="99998";c.style.position="absolute";c.style.top="0";c.style.left="0";c.style.overflowY="hidden";var e=document.createElement("Div");d.appendChild(e);e.style.width="200px";e.style.height=q.canvas.height+"px";e.style.opacity="0.1";e.style.background="#fff";e.style.border="1px solid #dfdfdf";e.style.borderRadius="8px"}d=document.createElement("li");
d.innerHTML=a;0==c.childNodes.length?c.appendChild(d):c.insertBefore(d,c.childNodes[0])};q.log=function(a){q.AE?q.HO(a):console.log.apply(console,arguments)};q.wZ=function(a){console.log(a)};q.ot=function(a,c){console.assert?console.assert(a,c):a||c&&alert(c)};q.oT=function(){0==q.qt?(q.log=function(){},q.XI=function(){},q.WI=function(){},q.ot=function(){}):1==q.qt?(q.XI=q.log,q.WI=function(){}):1<q.qt&&(q.XI=q.log,q.WI=q.log)};q.aM=0;q.$L=1;q.bM=2;q.eM=3;q.cM=4;q.lM=5;q.kM=6;q.gM=7;q.fM=8;q.dM=9;
q.jM=10;q.ZL=11;q.hM=12;q.iM=13;
q.XL={p1:8,jca:9,WR:13,shift:16,d2:17,alt:18,pause:19,H1:20,escape:27,q9:33,p9:34,end:35,home:36,left:37,Fca:38,right:39,o2:40,T6:45,KY:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,H:65,g:66,Aa:67,Ka:68,v2:69,Dw:70,o:71,ue:72,L6:73,j:74,V7:75,e8:76,r8:77,aJ:78,M8:79,a:80,E9:81,p:82,li:83,ica:84,Oa:85,ja:86,jL:87,x:88,y:89,z:90,A8:96,B8:97,C8:98,D8:99,E8:100,F8:101,G8:102,H8:103,I8:104,J8:105,"*":106,"+":107,"-":109,numdel:110,"/":111,G2:112,K2:113,L2:114,M2:115,N2:116,O2:117,P2:118,Q2:119,
R2:120,H2:121,I2:122,J2:123,L8:144,u$:145,w$:186,",":186,z2:187,"\x3d":187,";":188,T1:188,f2:189,".":190,u9:190,Y2:191,E6:192,"[":219,R8:219,"]":221,S1:221,o1:220,quote:222,Pba:32};q.ri=-1;q.PI=Math.PI;q.OL=parseFloat("3.402823466e+38F");q.EM=q.PI/180;q.CL=180/q.PI;q.WM=4294967295;q.q_=function(a,c,d){if("object"==typeof d&&"undefined"!=typeof d.x&&"undefined"!=typeof d.y){var e=d[a];d[a]=d[c];d[c]=e}else q.log("cc.SWAP is being modified from original macro, please check usage")};q.g8=function(a,c,d){return a+(c-a)*d};q.SZ=function(){return 2*(Math.random()-0.5)};q.RZ=function(){return Math.random()};q.lj=function(a){return a*q.EM};q.Hy=function(a){return a*q.CL};
q.Sl=Number.MAX_VALUE-1;q.Ce=q.uM?1:770;q.Be=771;q.By=function(a){a.Gc&&(a.Gc.kf(),a.Gc.Ng())};q.WY=function(){};q.JY=function(){};q.Ch=function(){q.ai+=1};q.Ot=1.192092896E-7;q.Cd=q.vy?function(){return q.V.e().cm}:function(){return 1};q.wM=function(a){var c=q.Cd();return q.a(a.x*c,a.y*c)};q.S_=function(a,c){var d=q.Cd();c.F=a.x*d;c.J=a.y*d};q.My=function(a){var c=q.Cd();return q.size(a.width*c,a.height*c)};q.n_=function(a){var c=q.Cd();return q.size(a.width/c,a.height/c)};
q.cz=function(a,c){var d=q.Cd();c.Fa=a.width/d;c.pa=a.height/d};q.MZ=function(a){var c=q.Cd();return q.a(a.x/c,a.y/c)};q.xu=function(a,c){var d=q.Cd();c.F=a.x/d;c.J=a.y/d};q.iq=q.vy?function(a){var c=q.Cd();return q.rect(a.x/c,a.y/c,a.width/c,a.height/c)}:function(a){return a};q.Rn=q.vy?function(a){var c=q.Cd();return q.rect(a.x*c,a.y*c,a.width*c,a.height*c)}:function(a){return a};q.gE=function(){if(q.l$==q.xk){var a=q.U.getError();a&&q.log("WebGL error "+a)}};q.f_=0;q.e_=1;q.c_=2;q.d_=3;q.g_=4;q.h_=5;q.b_=6;var Uint8Array=Uint8Array||Array;
if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){var fa=document.createElement("script");fa.type="text/vbscript";fa.textContent='\x3c!-- IEBinaryToArray_ByteStr --\x3e\r\nFunction IEBinaryToArray_ByteStr(Binary)\r\n   IEBinaryToArray_ByteStr \x3d CStr(Binary)\r\nEnd Function\r\nFunction IEBinaryToArray_ByteStr_Last(Binary)\r\n   Dim lastIndex\r\n   lastIndex \x3d LenB(Binary)\r\n   if lastIndex mod 2 Then\r\n       IEBinaryToArray_ByteStr_Last \x3d Chr( AscB( MidB( Binary, lastIndex, 1 ) ) )\r\n   Else\r\n       IEBinaryToArray_ByteStr_Last \x3d ""\r\n   End If\r\nEnd Function\r\n';document.body.appendChild(fa);
q.FF=function(a){for(var c={},d=0;256>d;d++)for(var e=0;256>e;e++)c[String.fromCharCode(d+256*e)]=String.fromCharCode(d)+String.fromCharCode(e);d=IEBinaryToArray_ByteStr(a);a=IEBinaryToArray_ByteStr_Last(a);return d.replace(/[\s\S]/g,function(a){return c[a]})+a}}
q.Dd=q.Ca.extend({yj:null,$k:null,XN:null,Xz:null,Ro:null,Qh:null,Kq:"",ctor:function(){this.yj={};this.$k={};this.Qh=[];this.Qh.push(this.Kq);this.Ro=[];this.Ro.push("")},B9:function(){this.Qh=[]},r3:function(a){a=this.le(a);return this.yj.hasOwnProperty(a)?this.yj[a]:this.EO(a)},cv:function(){return window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP")},FX:function(a){this.yj.hasOwnProperty(a)&&delete this.yj[a]},MU:function(a){a=this.le(a);var c=this,d=this.cv();d.open("GET",
a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","x-user-defined"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=q.FF(d.responseBody);e&&(c.yj[a]=c.Qv(e))}else q.Wb.e().gn(a);q.Wb.e().ji()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dx-user-defined"),d.onload=function(){var e=d.responseText;e?c.yj[a]=c.Qv(e):q.Wb.e().gn(a);q.Wb.e().ji()});d.send(null)},EO:function(a){var c=this.cv();
c.open("GET",a,!1);var d=null;if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){c.setRequestHeader("Accept-Charset","x-user-defined");c.send(null);if(200!=c.status)return null;if(c=q.FF(c.responseBody))d=this.Qv(c),this.yj[a]=d}else{c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dx-user-defined");c.send(null);if(200!=c.status)return null;d=this.Qv(c.responseText);this.yj[a]=d}return d},Qv:function(a){if(!a)return null;for(var c=new Uint8Array(a.length),d=0;d<
a.length;d++)c[d]=a.charCodeAt(d)&255;return c},HX:function(a){a=this.le(a);this.$k.hasOwnProperty(a)&&delete this.$k[a]},OU:function(a){a=this.le(a);var c=this,d=this.cv();d.open("GET",a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","utf-8"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=d.responseText;e&&(c.$k[a]=e)}else q.Wb.e().gn(a);q.Wb.e().ji()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dutf-8"),
d.onload=function(){d.responseText?c.$k[a]=d.responseText:q.Wb.e().gn(a);q.Wb.e().ji()});d.send(null)},GO:function(a){var c=this.cv();c.open("GET",a,!1);var d=null;/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?c.setRequestHeader("Accept-Charset","utf-8"):c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dutf-8");c.send(null);if(200!=c.status)return null;(d=c.responseText)&&(this.$k[a]=d);return d},iI:function(a){a=this.le(a);return this.$k.hasOwnProperty(a)?this.$k[a]:
this.GO(a)},Y3:function(){},i$:function(){},qJ:!0,Z2:function(a){return a},le:function(a){var c=!1;a=this.hO(a);for(var d,e=0;e<this.Qh.length;e++){for(var f=this.Qh[e],g=0;g<this.Ro.length;g++)if(d=this.iO(a,this.Ro[g],f)){c=!0;break}if(c)break}return c?d:a},l8:function(a){var c=this.le(a);if(0<c.length){var c=q.uk.e().parse(c),d=parseInt(c.metadata.version);1!=d?q.log("cocos2d: ERROR: Invalid filenameLookup dictionary version: "+d+". Filename: "+a):this.lW(c.filenames)}},lW:function(a){this.Xz=
a},YH:function(a,c){var d;if(a)return d=c.substring(0,c.lastIndexOf("/")+1),d+a;d=c.substring(0,c.lastIndexOf("."));return d+".png"},dba:function(a){this.Ro=a},G5:function(){return this.Ro},cba:function(a){this.Qh=a},E5:function(){return this.Qh},x5:function(){return this.XN},Yaa:function(){},j2:function(a){q.log("dictionaryWithContentsOfFile is deprecated. Use createDictionaryWithContentsOfFile instead");return this.qR(a)},qR:function(a){return q.uk.e().parse(a)},V5:function(a){return this.iI(a)},
ww:function(a){return q.uk.e().parse(a)},y6:function(){return""},Oaa:function(a){q.qJ=a},z7:function(){return q.qJ},TA:"",y5:function(){return this.TA},Zaa:function(a){this.TA=a},hO:function(a){var c=null;(c=this.Xz?this.Xz[a]:null)&&0!==c.length?q.log("FOUND NEW FILE NAME: "+c):c=a;return c},iO:function(a,c,d){var e;e=this.TA;a&&0<a.length&&(0===a.indexOf("/")||0===a.indexOf("\\"))?e="":0<e.length&&"\\"!=e[e.length-1]&&"/"!=e[e.length-1]&&(e+="/");var f=a,g="",h=a.lastIndexOf("/");-1!=h&&(g=a.substr(0,
h+1),f=a.substr(h+1));a=d;0<a.length&&a.lastIndexOf("/")!==a.length-1&&(a+="/");a=a+g+c;0<a.length&&a.lastIndexOf("/")!==a.length-1&&(a+="/");a+=f;return e+=a},l0:function(){},rK:function(a){var c=!1;this.Qh=[];for(var d=0;d<a.length;d++){var e=a[d],f;this.LI(e)||(f=this.Kq);e=f+e;0<e.length&&"/"!=e[e.length-1]&&(e+="/");c||e!=this.Kq||(c=!0);this.Qh.push(e)}c||this.Qh.push(this.Kq)},Y0:function(a){var c;this.LI(a)||(c=this.Kq);a=c+a;0<a.length&&"/"!=a[a.length-1]&&(a+="/");this.Qh.push(a)},F5:function(){},
LI:function(a){return"/"==a[0]}});q.oD=null;q.Dd.e=function(){null==q.oD&&(q.oD=new q.Dd);return q.oD};q.Ac=function(a,c,d){switch(arguments.length){case 0:this.g=this.o=this.p=0;break;case 1:a&&a instanceof q.Ac?(this.p=0|a.p||0,this.o=0|a.o||0,this.g=0|a.g||0):this.g=this.o=this.p=0;break;case 3:this.p=0|a||0;this.o=0|c||0;this.g=0|d||0;break;default:throw"unknown argument type";}};q.k=function(a,c,d){return new q.Ac(a,c,d)};q.X6=function(a){a=a||0;var c=new q.Ac;c.p=a&255;c.o=a>>8&255;c.g=a>>16&255;return c};q.pw=q.k;q.A1=function(a,c){return a.p===c.p&&a.o===c.o&&a.g===c.g};
Object.defineProperties(q,{M_:{get:function(){return q.k(255,255,255)}},P_:{get:function(){return q.k(255,255,0)}},qY:{get:function(){return q.k(0,0,255)}},eZ:{get:function(){return q.k(0,255,0)}},UZ:{get:function(){return q.k(255,0,0)}},tZ:{get:function(){return q.k(255,0,255)}},oY:{get:function(){return q.k(0,0,0)}},DZ:{get:function(){return q.k(255,127,0)}},dZ:{get:function(){return q.k(166,166,166)}}});q.xb=function(){return new q.Ac(255,255,255)};q.Zca=function(){return new q.Ac(255,255,0)};
q.blue=function(){return new q.Ac(0,0,255)};q.green=function(){return new q.Ac(0,255,0)};q.red=function(){return new q.Ac(255,0,0)};q.s8=function(){return new q.Ac(255,0,255)};q.r1=function(){return new q.Ac(0,0,0)};q.S8=function(){return new q.Ac(255,127,0)};q.wp=function(){return new q.Ac(166,166,166)};q.Nb=function(a,c,d,e){this.p=0|a;this.o=0|c;this.g=0|d;this.H=0|e};q.i=function(a,c,d,e){return new q.Nb(a,c,d,e)};q.PB=q.i;q.Rd=function(a,c,d,e){this.p=a;this.o=c;this.g=d;this.H=e};
q.qw=function(a,c,d,e){return new q.Rd(a,c,d,e)};q.D1=function(a){return new q.Rd(a.p/255,a.o/255,a.g/255,1)};q.E1=function(a){return new q.Rd(a.p/255,a.o/255,a.g/255,a.H/255)};q.B1=function(a){return new q.Nb(0|255*a.p,0|255*a.o,0|255*a.g,0|255*a.H)};q.C1=function(a,c){return a.p==c.p&&a.o==c.o&&a.g==c.g&&a.H==c.H};q.Ab=function(a,c){this.x=a||0;this.y=c||0};q.wu=function(a,c){return new q.Ab(a,c)};q.Uc=function(a,c,d){this.x=a||0;this.y=c||0;this.z=d||0};
q.Qca=function(a,c,d){return new q.Uc(a,c,d)};q.tc=function(a,c){this.Oa=a||0;this.ja=c||0};q.pca=function(a,c){return new q.tc(a,c)};q.PZ=function(a,c,d){a||new q.Ab(0,0);this.color=c||new q.Nb(0,0,0,0);this.size=d||0};q.$t=function(a,c,d,e){this.Sa=a||new q.Ab(0,0);this.Ma=c||new q.Ab(0,0);this.Ja=d||new q.Ab(0,0);this.Ua=e||new q.Ab(0,0)};q.QZ=function(a,c,d,e){this.Ja=a||new q.Uc(0,0,0);this.Ua=c||new q.Uc(0,0,0);this.Sa=d||new q.Uc(0,0,0);this.Ma=e||new q.Uc(0,0,0)};
q.RL=function(a,c){this.x=a;this.y=c};q.o=function(a,c){return new q.RL(a,c)};q.Sb=function(a,c,d){this.r=a||new q.Ab(0,0);this.I=c||new q.Nb(0,0,0,0);this.A=d||new q.tc(0,0)};q.tu=function(){this.r=new q.Ab(0,0);this.I=new q.Rd(0,0,0,0);this.A=new q.tc(0,0)};q.mc=function(a,c,d){this.r=a||new q.Uc(0,0,0);this.I=c||new q.Nb(0,0,0,0);this.A=d||new q.tc(0,0)};q.Cc=function(a,c,d){this.H=a||new q.Sb;this.g=c||new q.Sb;this.Aa=d||new q.Sb};
q.YM=function(){var a=new q.Sb(new q.Ab(0,0),new q.Nb(0,0,0,255),new q.tc(0,0)),c=new q.Sb(new q.Ab(0,0),new q.Nb(0,0,0,255),new q.tc(0,0)),d=new q.Sb(new q.Ab(0,0),new q.Nb(0,0,0,255),new q.tc(0,0)),e=new q.Sb(new q.Ab(0,0),new q.Nb(0,0,0,255),new q.tc(0,0));this.Ja=a||new q.Sb;this.Ua=c||new q.Sb;this.Sa=d||new q.Sb;this.Ma=e||new q.Sb};q.H_=function(){return new q.YM};q.$b=function(a,c,d,e){this.Sa=a||new q.mc;this.Ja=c||new q.mc;this.Ma=d||new q.mc;this.Ua=e||new q.mc};
q.az=function(){return new q.$b(new q.mc(new q.Uc(0,0,0),new q.Nb(0,0,0,255),new q.tc(0,0)),new q.mc(new q.Uc(0,0,0),new q.Nb(0,0,0,255),new q.tc(0,0)),new q.mc(new q.Uc(0,0,0),new q.Nb(0,0,0,255),new q.tc(0,0)),new q.mc(new q.Uc(0,0,0),new q.Nb(0,0,0,255),new q.tc(0,0)))};
q.$y=function(a){return a?new q.$b(new q.mc(new q.Uc(a.Sa.r.x,a.Sa.r.y,a.Sa.r.z),new q.Nb(a.Sa.I.p,a.Sa.I.o,a.Sa.I.g,a.Sa.I.H),new q.tc(a.Sa.A.Oa,a.Sa.A.ja)),new q.mc(new q.Uc(a.Ja.r.x,a.Ja.r.y,a.Ja.r.z),new q.Nb(a.Ja.I.p,a.Ja.I.o,a.Ja.I.g,a.Ja.I.H),new q.tc(a.Ja.A.Oa,a.Ja.A.ja)),new q.mc(new q.Uc(a.Ma.r.x,a.Ma.r.y,a.Ma.r.z),new q.Nb(a.Ma.I.p,a.Ma.I.o,a.Ma.I.g,a.Ma.I.H),new q.tc(a.Ma.A.Oa,a.Ma.A.ja)),new q.mc(new q.Uc(a.Ua.r.x,a.Ua.r.y,a.Ua.r.z),new q.Nb(a.Ua.I.p,a.Ua.I.o,a.Ua.I.g,a.Ua.I.H),new q.tc(a.Ua.A.Oa,
a.Ua.A.ja))):q.az()};q.J_=function(a){if(!a)return[];for(var c=[],d=0;d<a.length;d++)c.push(q.$y(a[d]));return c};q.I_=function(a,c,d,e){this.Ja=a||new q.tu;this.Ua=c||new q.tu;this.Sa=d||new q.tu;this.Ma=e||new q.tu};q.Ol=function(a,c){this.src=a;this.Fb=c};q.rY=function(){return new q.Ol(1,0)};q.dl=function(a){var c=a.p.toString(16),d=a.o.toString(16),e=a.g.toString(16);return"#"+(16>a.p?"0"+c:c)+(16>a.o?"0"+d:d)+(16>a.g?"0"+e:e)};
q.Ea.Pc&&(q.Nb=function(a,c,d,e,f,g){this.Ob=f||new ArrayBuffer(q.Nb.BYTES_PER_ELEMENT);this.Hb=g||0;f=this.Ob;g=this.Hb;var h=Uint8Array.BYTES_PER_ELEMENT;this.KA=new Uint8Array(f,g,1);this.dA=new Uint8Array(f,g+h,1);this.pz=new Uint8Array(f,g+2*h,1);this.hz=new Uint8Array(f,g+3*h,1);this.KA[0]=a||0;this.dA[0]=c||0;this.pz[0]=d||0;this.hz[0]=e||0},q.Nb.BYTES_PER_ELEMENT=4,Object.defineProperties(q.Nb.prototype,{p:{get:function(){return this.KA[0]},set:function(a){this.KA[0]=a},enumerable:!0},o:{get:function(){return this.dA[0]},
set:function(a){this.dA[0]=a},enumerable:!0},g:{get:function(){return this.pz[0]},set:function(a){this.pz[0]=a},enumerable:!0},H:{get:function(){return this.hz[0]},set:function(a){this.hz[0]=a},enumerable:!0}}),q.Rd=function(a,c,d,e,f,g){this.Ob=f||new ArrayBuffer(q.Rd.BYTES_PER_ELEMENT);this.Hb=g||0;f=this.Ob;g=this.Hb;var h=Float32Array.BYTES_PER_ELEMENT;this.JA=new Float32Array(f,g,1);this.JA[0]=a||0;this.cA=new Float32Array(f,g+h,1);this.cA[0]=c||0;this.oz=new Float32Array(f,g+2*h,1);this.oz[0]=
d||0;this.gz=new Float32Array(f,g+3*h,1);this.gz[0]=e||0},q.Rd.BYTES_PER_ELEMENT=16,Object.defineProperties(q.Rd.prototype,{p:{get:function(){return this.JA[0]},set:function(a){this.JA[0]=a},enumerable:!0},o:{get:function(){return this.cA[0]},set:function(a){this.cA[0]=a},enumerable:!0},g:{get:function(){return this.oz[0]},set:function(a){this.oz[0]=a},enumerable:!0},H:{get:function(){return this.gz[0]},set:function(a){this.gz[0]=a},enumerable:!0}}),q.Ab=function(a,c,d,e){this.Ob=d||new ArrayBuffer(q.Ab.BYTES_PER_ELEMENT);
this.Hb=e||0;this.Lm=new Float32Array(this.Ob,this.Hb,1);this.Mm=new Float32Array(this.Ob,this.Hb+4,1);this.Lm[0]=a||0;this.Mm[0]=c||0},q.Ab.BYTES_PER_ELEMENT=8,Object.defineProperties(q.Ab.prototype,{x:{get:function(){return this.Lm[0]},set:function(a){this.Lm[0]=a},enumerable:!0},y:{get:function(){return this.Mm[0]},set:function(a){this.Mm[0]=a},enumerable:!0}}),q.Uc=function(a,c,d,e,f){this.Ob=e||new ArrayBuffer(q.Uc.BYTES_PER_ELEMENT);this.Hb=f||0;e=this.Ob;f=this.Hb;this.Lm=new Float32Array(e,
f,1);this.Lm[0]=a||0;this.Mm=new Float32Array(e,f+Float32Array.BYTES_PER_ELEMENT,1);this.Mm[0]=c||0;this.HB=new Float32Array(e,f+2*Float32Array.BYTES_PER_ELEMENT,1);this.HB[0]=d||0},q.Uc.BYTES_PER_ELEMENT=12,Object.defineProperties(q.Uc.prototype,{x:{get:function(){return this.Lm[0]},set:function(a){this.Lm[0]=a},enumerable:!0},y:{get:function(){return this.Mm[0]},set:function(a){this.Mm[0]=a},enumerable:!0},z:{get:function(){return this.HB[0]},set:function(a){this.HB[0]=a},enumerable:!0}}),q.tc=
function(a,c,d,e){this.Ob=d||new ArrayBuffer(q.tc.BYTES_PER_ELEMENT);this.Hb=e||0;this.sB=new Float32Array(this.Ob,this.Hb,1);this.AB=new Float32Array(this.Ob,this.Hb+4,1);this.sB[0]=a||0;this.AB[0]=c||0},q.tc.BYTES_PER_ELEMENT=8,Object.defineProperties(q.tc.prototype,{Oa:{get:function(){return this.sB[0]},set:function(a){this.sB[0]=a},enumerable:!0},ja:{get:function(){return this.AB[0]},set:function(a){this.AB[0]=a},enumerable:!0}}),q.$t=function(a,c,d,e,f,g){this.Ob=f||new ArrayBuffer(q.$t.BYTES_PER_ELEMENT);
this.Hb=g||0;f=this.Ob;g=q.Ab.BYTES_PER_ELEMENT;this.cp=a?new q.Ab(a.x,a.y,f,0):new q.Ab(0,0,f,0);this.ep=c?new q.Ab(c.x,c.y,f,g):new q.Ab(0,0,f,g);this.eo=d?new q.Ab(d.x,d.y,f,2*g):new q.Ab(0,0,f,2*g);this.ho=e?new q.Ab(e.x,e.y,f,3*g):new q.Ab(0,0,f,3*g)},q.$t.BYTES_PER_ELEMENT=32,Object.defineProperties(q.$t.prototype,{Sa:{get:function(){return this.cp},set:function(a){this.cp.x=a.x;this.cp.y=a.y},enumerable:!0},Ma:{get:function(){return this.ep},set:function(a){this.ep.x=a.x;this.ep.y=a.y},enumerable:!0},
Ja:{get:function(){return this.eo},set:function(a){this.eo.x=a.x;this.eo.y=a.y},enumerable:!0},Ua:{get:function(){return this.ho},set:function(a){this.ho.x=a.x;this.ho.y=a.y},enumerable:!0}}),q.mc=function(a,c,d,e,f){this.Ob=e||new ArrayBuffer(q.mc.BYTES_PER_ELEMENT);this.Hb=f||0;e=this.Ob;f=this.Hb;var g=q.Uc.BYTES_PER_ELEMENT;this.gp=a?new q.Uc(a.x,a.y,a.z,e,f):new q.Uc(0,0,0,e,f);this.Gq=c?new q.Nb(c.p,c.o,c.g,c.H,e,f+g):new q.Nb(0,0,0,0,e,f+g);this.Bm=d?new q.tc(d.Oa,d.ja,e,f+g+q.Nb.BYTES_PER_ELEMENT):
new q.tc(0,0,e,f+g+q.Nb.BYTES_PER_ELEMENT)},q.mc.BYTES_PER_ELEMENT=24,Object.defineProperties(q.mc.prototype,{r:{get:function(){return this.gp},set:function(a){var c=this.gp;c.x=a.x;c.y=a.y;c.z=a.z},enumerable:!0},I:{get:function(){return this.Gq},set:function(a){var c=this.Gq;c.p=a.p;c.o=a.o;c.g=a.g;c.H=a.H},enumerable:!0},A:{get:function(){return this.Bm},set:function(a){this.Bm.Oa=a.Oa;this.Bm.ja=a.ja},enumerable:!0}}),q.$b=function(a,c,d,e,f,g){this.Ob=f||new ArrayBuffer(q.$b.BYTES_PER_ELEMENT);
this.Hb=g||0;f=this.Ob;g=this.Hb;var h=q.mc.BYTES_PER_ELEMENT;this.cp=a?new q.mc(a.r,a.I,a.A,f,g):new q.mc(null,null,null,f,g);this.eo=c?new q.mc(c.r,c.I,c.A,f,g+h):new q.mc(null,null,null,f,g+h);this.ep=d?new q.mc(d.r,d.I,d.A,f,g+2*h):new q.mc(null,null,null,f,g+2*h);this.ho=e?new q.mc(e.r,e.I,e.A,f,g+3*h):new q.mc(null,null,null,f,g+3*h)},q.$b.BYTES_PER_ELEMENT=96,Object.defineProperties(q.$b.prototype,{Sa:{get:function(){return this.cp},set:function(a){var c=this.cp;c.r=a.r;c.I=a.I;c.A=a.A},enumerable:!0},
Ja:{get:function(){return this.eo},set:function(a){var c=this.eo;c.r=a.r;c.I=a.I;c.A=a.A},enumerable:!0},Ma:{get:function(){return this.ep},set:function(a){var c=this.ep;c.r=a.r;c.I=a.I;c.A=a.A},enumerable:!0},Ua:{get:function(){return this.ho},set:function(a){var c=this.ho;c.r=a.r;c.I=a.I;c.A=a.A},enumerable:!0},KB:{get:function(){return this.Ob},enumerable:!0}}),q.az=function(){return new q.$b},q.$y=function(a){if(!a)return q.az();var c=a.Sa,d=a.Ja,e=a.Ma;a=a.Ua;return{Sa:{r:{x:c.r.x,y:c.r.y,z:c.r.z},
I:{p:c.I.p,o:c.I.o,g:c.I.g,H:c.I.H},A:{Oa:c.A.Oa,ja:c.A.ja}},Ja:{r:{x:d.r.x,y:d.r.y,z:d.r.z},I:{p:d.I.p,o:d.I.o,g:d.I.g,H:d.I.H},A:{Oa:d.A.Oa,ja:d.A.ja}},Ma:{r:{x:e.r.x,y:e.r.y,z:e.r.z},I:{p:e.I.p,o:e.I.o,g:e.I.g,H:e.I.H},A:{Oa:e.A.Oa,ja:e.A.ja}},Ua:{r:{x:a.r.x,y:a.r.y,z:a.r.z},I:{p:a.I.p,o:a.I.o,g:a.I.g,H:a.I.H},A:{Oa:a.A.Oa,ja:a.A.ja}}}},q.Sb=function(a,c,d,e,f){this.Ob=e||new ArrayBuffer(q.Sb.BYTES_PER_ELEMENT);this.Hb=f||0;e=this.Ob;f=this.Hb;var g=q.Ab.BYTES_PER_ELEMENT;this.gp=a?new q.Ab(a.x,
a.y,e,f):new q.Ab(0,0,e,f);this.Gq=c?new q.Nb(c.p,c.o,c.g,c.H,e,f+g):new q.Nb(0,0,0,0,e,f+g);this.Bm=d?new q.tc(d.Oa,d.ja,e,f+g+q.Nb.BYTES_PER_ELEMENT):new q.tc(0,0,e,f+g+q.Nb.BYTES_PER_ELEMENT)},q.Sb.BYTES_PER_ELEMENT=20,Object.defineProperties(q.Sb.prototype,{r:{get:function(){return this.gp},set:function(a){this.gp.x=a.x;this.gp.y=a.y},enumerable:!0},I:{get:function(){return this.Gq},set:function(a){var c=this.Gq;c.p=a.p;c.o=a.o;c.g=a.g;c.H=a.H},enumerable:!0},A:{get:function(){return this.Bm},
set:function(a){this.Bm.Oa=a.Oa;this.Bm.ja=a.ja},enumerable:!0}}),q.Cc=function(a,c,d,e,f){this.Ob=e||new ArrayBuffer(q.Cc.BYTES_PER_ELEMENT);this.Hb=f||0;e=this.Ob;f=this.Hb;var g=q.Sb.BYTES_PER_ELEMENT;this.rF=a?new q.Sb(a.r,a.I,a.A,e,f):new q.Sb(null,null,null,e,f);this.wF=c?new q.Sb(c.r,c.I,c.A,e,f+g):new q.Sb(null,null,null,e,f+g);this.BF=d?new q.Sb(d.r,d.I,d.A,e,f+2*g):new q.Sb(null,null,null,e,f+2*g)},q.Cc.BYTES_PER_ELEMENT=60,Object.defineProperties(q.Cc.prototype,{H:{get:function(){return this.rF},
set:function(a){var c=this.rF;c.r=a.r;c.I=a.I;c.A=a.A},enumerable:!0},g:{get:function(){return this.wF},set:function(a){var c=this.wF;c.r=a.r;c.I=a.I;c.A=a.A},enumerable:!0},Aa:{get:function(){return this.BF},set:function(a){var c=this.BF;c.r=a.r;c.I=a.I;c.A=a.A},enumerable:!0}}));q.V1=function(a){a=a.substr(1).split("");return new q.Ac(parseInt("0x"+a[0]+a[1]),parseInt("0x"+a[2]+a[3]),parseInt("0x"+a[4]+a[5]))};q.pq=0;q.qj=1;q.PM=2;q.uq=0;q.vu=1;q.tq=2;
q.R_=q.Ca.extend({Io:null,bs:null,dz:0,ctor:function(){this.Io={};this.bs={};this.dz=2<<(0|10*Math.random())},eN:function(){this.dz++;return"key_"+this.dz},EW:function(a,c){if(null!=c){var d=this.eN();this.Io[d]=c;this.bs[d]=a}},eU:function(a){if(null==a)return null;var c=this.Io,d;for(d in c)if(c[d]===a)return this.bs[d];return null},Pca:function(a){return this.eU(a)},rV:function(a){if(null!=a){var c=this.Io,d;for(d in c)if(c[d]===a){delete this.bs[d];delete c[d];break}}},b$:function(a){if(null!=
a)for(var c=0;c<a.length;c++)this.rV(a[c])},HQ:function(){var a=[],c=this.Io,d;for(d in c)a.push(c[d]);return a},U9:function(){this.Io={};this.bs={}},count:function(){return this.HQ().length}});q.QL=function(){this.ks="Arial";this.fontSize=12;this.TH=q.qj;this.UH=q.uq;this.VH=q.xb();this.js=q.size(0,0);this.ND=!1;this.strokeColor=q.xb();this.QK=1;this.EK=!1;this.FK=q.size(0,0);this.shadowBlur=0;this.GK=1};q.Sn={py:0,Cy:1,SHOW_ALL:2,qy:3,ry:4,G_:5};q.su=[];q.qq={};
q.oa=q.Ca.extend({Ub:null,Je:null,vo:null,Rk:null,Ue:null,DB:null,CB:"",RA:null,ra:1,lG:1,za:1,mG:1,gr:0,hG:5,Nh:null,sG:null,wG:null,vG:null,tG:null,uG:null,jr:!1,c0:!1,M0:null,SF:null,TF:null,lN:null,E0:!1,Ez:null,w0:null,Bj:null,Zz:1,Bu:!1,XF:!1,ctor:function(){this.Bj=q.Yj.parentNode===document.body?document.documentElement:q.Yj.parentNode;this.Je=q.size(0,0);this.mA();var a=q.canvas.width,c=q.canvas.height;this.vo=q.size(a,c);this.Rk=q.size(a,c);this.Ue=q.rect(0,0,a,c);this.DB=q.rect(0,0,a,c);
this.Ub=q.V.e().Se;this.Ez={left:0,top:0};this.CB="Cocos2dHTML5";q.kF.s(this.vo);this.sG=new q.Tn(q.Rg.ut,q.Ee.py);this.wG=new q.Tn(q.Rg.AM,q.Ee.SHOW_ALL);this.vG=new q.Tn(q.Rg.ut,q.Ee.Cy);this.tG=new q.Tn(q.Rg.ut,q.Ee.qy);this.uG=new q.Tn(q.Rg.ut,q.Ee.ry);this.SF=q.canvas;this.TF=q.U},SA:function(){var a=this.Rk.width,c=this.Rk.height;this.RA&&(this.mA(),this.RA.call());0<a&&this.tD(a,c,this.Nh)},n$:function(a){a?this.Bu||(this.Bu=!0,a=this.SA.bind(this),window.addEventListener("resize",a,!1)):this.Bu&&
(this.Bu=!0,a=this.SA.bind(this),window.removeEventListener("resize",a,!1))},Xaa:function(a){if("function"==typeof a||null==a)this.RA=a},mA:function(){var a=this.Je;a.width=this.Bj.clientWidth;a.height=this.Bj.clientHeight},$_:function(){var a=this.Rk.width,c=this.Rk.height;0<a&&this.tD(a,c,this.Nh)},SP:function(){if(this.XF){var a={"user-scalable":"no","maximum-scale":"1.0","initial-scale":"1.0"},c=document.getElementsByName("viewport"),d;0==c.length?(c=document.createElement("meta"),c.name="viewport",
c.content="",document.head.appendChild(c)):c=c[0];d=c.content;for(var e in a)RegExp(e).test(d)||(d+=(""==d?"":",")+e+"\x3d"+a[e]);c.content=d}},LP:function(){var a=q.Cd();this.za=this.ra=a},nP:function(){this.ra=this.lG;this.za=this.mG},kO:function(){var a,c=this.gr;for(a=0;a<this.hG;a++){if(!(c&1))return this.gr|=1<<a,a;c>>=1}return-1},jP:function(a){0>a||a>=this.hG||(a=~(1<<a),this.gr&=a)},a0:function(){},zT:function(){this.jr=!0},c1:function(a){this.XF=a},end:function(){},x7:function(){return null!=
this.SF&&null!=this.TF},baa:function(a){this.Zz=a;q.V.e().yx(q.V.e().Vk)},dca:function(){},faa:function(){},N$:function(a,c){this.Ez={left:a,top:c}},F3:function(){return this.Ez},Fw:function(){return q.size(this.Je.width,this.Je.height)},aaa:function(a,c){this.Je.width=a;this.Je.height=c;this.Bj.style.width=a+"px";this.Bj.style.height=c+"px";this.SA();q.V.e().yx(q.V.e().Vk)},J1:function(){},z$:function(a){this.lN=a},vs:function(){return this.DB.ab},pI:function(){return this.DB.fd},F1:function(){return!0},
w5:function(){return this.Nh},SW:function(a){if(a instanceof q.Tn)this.Nh=a;else switch(a){case q.Sn.py:this.Nh=this.sG;break;case q.Sn.SHOW_ALL:this.Nh=this.wG;break;case q.Sn.Cy:this.Nh=this.vG;break;case q.Sn.qy:this.Nh=this.tG;break;case q.Sn.ry:this.Nh=this.uG}},tD:function(a,c,d){if(isNaN(a)||0==a||isNaN(c)||0==c)q.log("Resolution not valid");else if(this.SW(d),policy=this.Nh){policy.kn(this);var e=this.Je.width,f=this.Je.height;q.Ea.dk&&this.SP(this.Je.width,this.Je.height);this.mA();if(d!=
this.Nh||a!=this.Rk.width||c!=this.Rk.height||e!=this.Je.width||f!=this.Je.height)this.vo=q.size(a,c),this.Rk=q.size(a,c),a=policy.apply(this,this.vo),a.scale&&2==a.scale.length&&(this.ra=a.scale[0],this.za=a.scale[1]),a.viewport instanceof q.jg&&(this.Ue=a.viewport),a=q.V.e(),a.Pb=this.rp(),q.yd==q.xk&&(a.to(),a.eK()),this.lG=this.ra,this.mG=this.za,q.fc&&q.fc.lP(),q.kF.s(this.vs()),policy.jn(this)}else q.log("should set resolutionPolicy")},rp:function(){return q.size(this.vo.width,this.vo.height)},
tba:function(a){this.Ub=a},dX:function(a,c,d,e){var f=this.Zz,g=this.ra,h=this.za;q.U.viewport(a*g*f+this.Ue.x*f,c*h*f+this.Ue.y*f,d*g*f,e*h*f)},yD:function(a,c,d,e){var f=this.Zz,g=this.ra,h=this.za;q.U.scissor(a*g*f+this.Ue.x*f,c*h*f+this.Ue.y*f,d*g*f,e*h*f)},JT:function(){var a=q.U;return a.isEnabled(a.SCISSOR_TEST)},HS:function(){var a=q.U,c=this.ra,d=this.za,a=a.getParameter(a.SCISSOR_BOX);return q.rect((a[0]-this.Ue.x)/c,(a[1]-this.Ue.y)/d,a[2]/c,a[3]/d)},Cba:function(a){null!=a&&0<a.length&&
(this.CB=a)},t6:function(){return this.CB},u6:function(){return this.Ue},FS:function(){return this.ra},GS:function(){return this.za},Zj:function(a,c,d){return{x:a-d.left,y:d.top+d.height-c}},ZS:function(a,c,d,e){for(var f=[],g=this.Ue,h=this.ra,k=this.za,l=0;l<a;++l){var m=c[l],n=d[l],r=e[l],p=0;if(null==q.qq[m])if(p=this.kO(),-1==p)q.log("The touches is more than MAX_TOUCHES, nUnusedIndex \x3d "+p);else{var t=q.su[p]=new q.mf;t.DD(p,(n-g.x)/h,(r-g.y)/k);q.qq[m]=0|p;f.push(t)}}0!=f.length&&this.Ub.Sx(f,
null)},bT:function(a,c,d,e){for(var f=[],g=this.ra,h=this.za,k=this.Ue.x,l=this.Ue.y,m=0;m<a;++m){var n=d[m],r=e[m],p=q.qq[c[m]];if(null!=p){var t=q.su[p];if(t)t.DD(p,(n-k)/g,(r-l)/h),f.push(t);else return}}0!=f.length&&this.Ub.Tx(f,null)},aT:function(a,c,d,e){var f=[];this.hI(f,a,c,d,e);this.Ub.dt(f,null)},$S:function(a,c,d,e){var f=[];this.hI(f,a,c,d,e);this.Ub.PD(f,null)},hI:function(a,c,d,e,f){for(var g=this.ra,h=this.za,k=this.Ue,l=0;l<c;++l){var m=d[l],n=e[l],r=f[l],p=q.qq[m];if(null!=p){var t=
q.su[p];if(t)t.DD(p,(n-k.x)/g,(r-k.y)/h),a.push(t),q.su[p]=null,this.jP(p),delete q.qq[m];else break}}},Sx:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Lf||h,d[f]=g.K.x,e[f]=g.K.y,++f;this.ZS(f,c,d,e)},Tx:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Lf||h,d[f]=g.K.x,e[f]=g.K.y,++f;this.bT(f,c,d,e)},dt:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Lf||h,d[f]=g.K.x,e[f]=g.K.y,++f;this.aT(f,c,d,e)},PD:function(a){for(var c=
[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Lf||h,d[f]=g.K.x,e[f]=g.K.y,++f;this.$S(f,c,d,e)}});q.oa.e=function(){this.Gb||(this.Gb=new q.oa,this.Gb.zT());return this.Gb};
q.Rg=q.Ca.extend({kn:function(){},apply:function(){},jn:function(){},DG:function(a,c,d){q.Ea.dk&&a==document.documentElement&&q.Oy.e().OQ(q.canvas);a=q.canvas;var e=q.Yj;a.width=c;a.height=d;e.style.width=c+"px";e.style.height=d+"px";c=document.body;var f;c&&(f=c.style)&&(f.paddingTop=f.paddingTop||"0px",f.paddingRight=f.paddingRight||"0px",f.paddingBottom=f.paddingBottom||"0px",f.paddingLeft=f.paddingLeft||"0px",f.borderTop=f.borderTop||"0px",f.borderRight=f.borderRight||"0px",f.borderBottom=f.borderBottom||
"0px",f.borderLeft=f.borderLeft||"0px",f.marginTop=f.marginTop||"0px",f.marginRight=f.marginRight||"0px",f.marginBottom=f.marginBottom||"0px",f.marginLeft=f.marginLeft||"0px")},MF:function(){document.body.insertBefore(q.Yj,document.body.firstChild);var a=document.body.style;a.width=window.innerWidth+"px";a.height=window.innerHeight+"px";a.overflow="hidden";a=q.Yj.style;a.position="fixed";a.left=a.top="0px";document.body.scrollTop=0}});
q.Ee=q.Ca.extend({UA:{scale:[1,1],viewport:null},Dq:function(a,c,d,e,f,g){a=q.rect(Math.round((a-d)/2),Math.round((c-e)/2),d,e);q.yd==q.gg&&q.U.translate(a.x,a.y+e);this.UA.scale=[f,g];this.UA.viewport=a;return this.UA},kn:function(){},apply:function(){return{scale:[1,1]}},jn:function(){}});
(function(){var a=q.Rg.extend({apply:function(a){this.DG(a.Bj,a.Je.width,a.Je.height)}}),c=q.Rg.extend({apply:function(a,c){var d=a.Je.width,e=a.Je.height,f=q.Yj.style,n=c.width,r=c.height,p=d/n,t=e/r,w,A;p<t?(w=d,A=r*p):(w=n*t,A=e);n=Math.floor((d-w)/2);A=Math.floor((e-A)/2);this.DG(a.Bj,d-2*n,e-2*A);f.marginLeft=n+"px";f.marginRight=n+"px";f.marginTop=A+"px";f.marginBottom=A+"px"}});a.extend({kn:function(a){a.Bj=document.documentElement},apply:function(a){this._super(a);this.MF()}});c.extend({kn:function(a){a.Bj=
document.documentElement},apply:function(a,c){this._super(a,c);this.MF()}});var d=q.Rg.extend({});q.Rg.ut=new a;q.Rg.AM=new c;q.Rg.IZ=new d;var a=q.Ee.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height;return this.Dq(d,e,d,e,d/c.width,e/c.height)}}),c=q.Ee.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=c.width,n=c.height,r=d/f,p=e/n,t,w,A;r<p?(t=r,w=d,A=n*t):(t=p,w=f*t,A=e);return this.Dq(d,e,w,A,t,t)}}),d=q.Ee.extend({apply:function(a,c){var d=q.canvas.width,
e=q.canvas.height,f=c.width,n=c.height,r=d/f,p=e/n,t,w,A;r<p?(t=p,w=f*t,A=e):(t=r,w=d,A=n*t);return this.Dq(d,e,w,A,t,t)}}),e=q.Ee.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=e/c.height;return this.Dq(d,e,d,e,f,f)},jn:function(a){q.V.e().Pb=a.vs()}}),f=q.Ee.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=d/c.width;return this.Dq(d,e,d,e,f,f)},jn:function(a){q.V.e().Pb=a.vs()}});q.Ee.py=new a;q.Ee.SHOW_ALL=new c;q.Ee.Cy=new d;q.Ee.qy=new e;q.Ee.ry=new f})();
q.Tn=q.Ca.extend({Pu:null,Qu:null,ctor:function(a,c){this.bW(a);this.eW(c)},kn:function(a){this.Pu.kn(a);this.Qu.kn(a)},apply:function(a,c){this.Pu.apply(a,c);return this.Qu.apply(a,c)},jn:function(a){this.Pu.jn(a);this.Qu.jn(a)},bW:function(a){a instanceof q.Rg&&(this.Pu=a)},eW:function(a){a instanceof q.Ee&&(this.Qu=a)}});q.Oy=q.Ca.extend({Mr:!1,Ck:"",EA:null,FA:null,rB:"",s:function(){var a=["webkit","moz","o","ms","khtml"],c=document.body;if(c.requestFullScreen)this.Mr=!0;else for(var d=0,e=a.length,f;d<e;d++)if(f=a[d],c[f+"RequestFullScreen"]){this.Mr=!0;this.Ck=f;break}this.rB="ontouchstart"in window?"touchstart":"mousedown"},fullScreen:function(){var a=document;if(this.Mr)switch(this.Ck){case "":return a.fullScreen;case "webkit":return a.webkitIsFullScreen;default:return a[this.Ck+"FullScreen"]}return!1},IJ:function(a,
c){if(this.Mr&&!this.fullScreen()){if(c){var d=this.Ck+"fullscreenchange";this.EA&&this.FA&&this.EA.removeEventListener(d,this.FA);this.EA=a;this.FA=c;a.addEventListener(d,c,!1)}return""===this.Ck?a.requestFullScreen():a[this.Ck+"RequestFullScreen"]()}},E2:function(){if(this.Mr&&this.fullScreen())return""===this.Ck?document.body.cancelFullScreen():document.body[this.Ck+"CancelFullScreen"]()},OQ:function(a,c){function d(){e.IJ(a,c);a.removeEventListener(e.rB,d)}var e=this;this.IJ(a,c);a.addEventListener(this.rB,
d)}});q.Oy.e=function(){if(!this.Gb){var a=new q.Oy;a.s();this.Gb=a}return this.Gb};q.kF={Th:q.sd(),kh:q.sd(),Sh:q.sd(),xi:q.sd(),yi:q.sd(),wi:q.sd(),wz:q.sd(),Ii:q.sd(),Oh:q.sd(),Fa:0,pa:0,s:function(a){this.Fa=a.width;this.pa=a.height;a=this.Fa;var c=this.pa;this.Th.J=c;this.kh.F=a;this.kh.J=c;this.Sh.F=a/2;this.Sh.J=c;this.yi.F=a;this.wi.F=a/2;this.wz.F=a/2;this.wz.J=c/2;this.Ii.J=c/2;this.Oh.F=a;this.Oh.J=c/2},ws:function(){return this.Fa},ps:function(){return this.pa},yca:function(){return this.Th},zca:function(){return this.kh},top:function(){return this.Sh},t1:function(){return this.xi},
u1:function(){return this.yi},bottom:function(){return this.wi},I1:function(){return this.wz},left:function(){return this.Ii},right:function(){return this.Oh}};q.Nx=function(a){var c;if(a&&0!=a.length){var d=a.indexOf("{"),e=a.indexOf("}");-1==d||-1==e||d>e||(a=a.substr(d+1,e-d-1),0!=a.length&&(d=a.indexOf("{"),e=a.indexOf("}"),-1==d&&-1==e&&(c=a.split(","))))}return c};
q.UE=function(a){var c=q.cd();if(a){var d=a.indexOf("{")+1,e=a.lastIndexOf("}",a.length);-1!=d&&-1!=e&&(a=a.substring(d,e),d=a.indexOf("}"),-1!=d&&(d=a.indexOf(",",d),-1!=d&&(c=a.substr(d+1,a.length-d),a=q.Nx(a.substr(0,d)),c=q.Nx(c),c=q.rect(parseFloat(a[0]),parseFloat(a[1]),parseFloat(c[0]),parseFloat(c[1])))))}return c};q.TE=function(a){var c=q.nj();try{if(""==a)return c;var d=q.Nx(a),c=q.a(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};
q.Py=function(a){var c=q.Tl();try{if(""==a)return c;var d=q.Nx(a),c=q.size(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};q.eY=function(a,c,d,e,f,g){this.H=a;this.g=c;this.Aa=d;this.Ka=e;this.Ya=f;this.Za=g};q.T_=function(a,c,d,e,f,g){return{H:a,g:c,Aa:d,Ka:e,Ya:f,Za:g}};q.hY=function(a,c,d,e,f,g){return{H:a,g:c,Aa:d,Ka:e,Ya:f,Za:g}};q.U_=function(a,c){return{x:c.H*a.x+c.Aa*a.y+c.Ya,y:c.g*a.x+c.Ka*a.y+c.Za}};q.SE=function(a,c){return{x:c.H*a.x+c.Aa*a.y+c.Ya,y:c.g*a.x+c.Ka*a.y+c.Za}};q.zk=function(a,c,d){return{x:d.H*a+d.Aa*c+d.Ya,y:d.g*a+d.Ka*c+d.Za}};
q.V_=function(a,c){return{width:c.H*a.width+c.Aa*a.height,height:c.g*a.width+c.Ka*a.height}};q.r_=function(a,c){return{width:c.H*a.width+c.Aa*a.height,height:c.g*a.width+c.Ka*a.height}};q.iY=function(){return{H:1,g:0,Aa:0,Ka:1,Ya:0,Za:0}};q.gY=function(){return{H:1,g:0,Aa:0,Ka:1,Ya:0,Za:0}};
q.Ug=function(a,c){var d=q.xl(a),e=q.wl(a),f=q.nn(a),g=q.pn(a),h=q.zk(e,d,c),d=q.zk(f,d,c),e=q.zk(e,g,c),k=q.zk(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);return q.rect(f,l,g-f,h-l)};
q.si=function(a,c){var d=q.xl(a),e=q.wl(a),f=q.nn(a),g=q.pn(a),h=q.zk(e,d,c),d=q.zk(f,d,c),e=q.zk(e,g,c),k=q.zk(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);a.x=f;a.y=l;a.width=g-f;a.height=h-l;return a};q.ay=function(a,c,d){return{H:a.H,g:a.g,Aa:a.Aa,Ka:a.Ka,Ya:a.Ya+a.H*c+a.Aa*d,Za:a.Za+a.g*c+a.Ka*d}};q.jY=function(a,c,d){return{H:a.H*c,g:a.g*c,Aa:a.Aa*d,Ka:a.Ka*d,Ya:a.Ya,Za:a.Za}};
q.qL=function(a){var c=Math.sin(1.57079633),d=Math.cos(1.57079633);return{H:a.H*d+a.Aa*c,g:a.g*d+a.Ka*c,Aa:a.Aa*d-a.H*c,Ka:a.Ka*d-a.g*c,Ya:a.Ya,Za:a.Za}};q.Kl=function(a,c){return{H:a.H*c.H+a.g*c.Aa,g:a.H*c.g+a.g*c.Ka,Aa:a.Aa*c.H+a.Ka*c.Aa,Ka:a.Aa*c.g+a.Ka*c.Ka,Ya:a.Ya*c.H+a.Za*c.Aa+c.Ya,Za:a.Ya*c.g+a.Za*c.Ka+c.Za}};q.fY=function(a,c){return a.H===c.H&&a.g===c.g&&a.Aa===c.Aa&&a.Ka===c.Ka&&a.Ya===c.Ya&&a.Za===c.Za};
q.cE=function(a){var c=1/(a.H*a.Ka-a.g*a.Aa);return{H:c*a.Ka,g:-c*a.g,Aa:-c*a.Aa,Ka:c*a.H,Ya:c*(a.Aa*a.Za-a.Ka*a.Ya),Za:c*(a.g*a.Ya-a.H*a.Za)}};q.IE=parseFloat("1.192092896e-07F");q.XC=function(a){return q.a(-a.x,-a.y)};q.bg=function(a,c){return q.a(a.x+c.x,a.y+c.y)};q.wd=function(a,c){return q.a(a.x-c.x,a.y-c.y)};q.cj=function(a,c){return q.a(a.x*c,a.y*c)};q.WC=function(a,c){return q.cj(q.bg(a,c),0.5)};q.Mp=function(a,c){return a.x*c.x+a.y*c.y};q.Z8=function(a,c){return a.x*c.y-a.y*c.x};q.ax=function(a){return q.a(-a.y,a.x)};q.h9=function(a){return q.a(a.y,-a.x)};q.g9=function(a,c){return q.cj(c,q.Mp(a,c)/q.Mp(c,c))};
q.i9=function(a,c){return q.a(a.x*c.x-a.y*c.y,a.x*c.y+a.y*c.x)};q.n9=function(a,c){return q.a(a.x*c.x+a.y*c.y,a.y*c.x-a.x*c.y)};q.lJ=function(a){return q.Mp(a,a)};q.a9=function(a,c){return q.lJ(q.wd(a,c))};q.UC=function(a){return Math.sqrt(q.lJ(a))};q.TC=function(a,c){return q.UC(q.wd(a,c))};q.xh=function(a){return q.cj(a,1/q.UC(a))};q.b9=function(a){return q.a(Math.cos(a),Math.sin(a))};q.m9=function(a){return Math.atan2(a.y,a.x)};q.fs=function(a,c,d){if(c>d){var e=c;c=d;d=e}return a<c?c:a<d?a:d};
q.kJ=function(a){var c=q.a(0,0),d=q.a(1,1);return q.a(q.fs(a.x,c.x,d.x),q.fs(a.y,c.y,d.y))};q.wU=function(){var a=q.V.e().Pb;return q.a(a.width,a.height)};q.Y8=function(a,c){return q.a(c(a.x),c(a.y))};q.mJ=function(a,c,d){return q.bg(q.cj(a,1-d),q.cj(c,d))};q.c9=function(a,c,d){return a.x-d<=c.x&&c.x<=a.x+d&&a.y-d<=c.y&&c.y<=a.y+d?!0:!1};q.X8=function(a,c){return q.a(a.x*c.x,a.y*c.y)};q.W8=function(a,c){var d=q.xh(a),e=q.xh(c),d=Math.atan2(d.x*e.y-d.y*e.x,q.Mp(d,e));return Math.abs(d)<q.IE?0:d};
q.V8=function(a,c){var d=Math.acos(q.Mp(q.xh(a),q.xh(c)));return Math.abs(d)<q.IE?0:d};q.yU=function(a,c,d){a=q.wd(a,c);var e=Math.cos(d);d=Math.sin(d);var f=a.x;a.x=f*e-a.y*d+c.x;a.y=f*d+a.y*e+c.y;return a};q.VC=function(a,c,d,e,f){if(a.x==c.x&&a.y==c.y||d.x==e.x&&d.y==e.y)return!1;var g=c.x-a.x;c=c.y-a.y;var h=e.x-d.x;e=e.y-d.y;var k=a.x-d.x;a=a.y-d.y;d=e*g-h*c;f.x=h*a-e*k;f.y=g*a-c*k;if(0==d)return 0==f.x||0==f.y?!0:!1;f.x/=d;f.y/=d;return!0};
q.k9=function(a,c,d,e){var f=q.a(0,0);return q.VC(a,c,d,e,f)&&0<=f.x&&1>=f.x&&0<=f.y&&1>=f.y?!0:!1};q.e9=function(a,c,d,e){var f=q.a(0,0);return q.VC(a,c,d,e,f)?(d=q.a(0,0),d.x=a.x+f.x*(c.x-a.x),d.y=a.y+f.x*(c.y-a.y),d):q.nj()};q.j9=function(a,c){return null!=a&&null!=c?a.x==c.x&&a.y==c.y:!1};q.o9=function(a){a.x=0;a.y=0};q.d9=function(a,c){a.x=c.x;a.y=c.y};q.xU=function(a,c){a.x*=c;a.y*=c};q.l9=function(a,c){a.x-=c.x;a.y-=c.y};q.U8=function(a,c){a.x+=c.x;a.y+=c.y};
q.f9=function(a){q.xU(a,1/Math.sqrt(a.x*a.x+a.y*a.y))};q.Rca=function(a,c,d,e,f){f+=e;if(!(1>=f)){c*=0.5;for(var g,h=f-1,k=e;k<f;k++){g=2*k;var l=q.a(a[2*k],a[2*k+1]),m;if(0===k)m=q.ax(q.xh(q.wd(l,q.a(a[2*(k+1)],a[2*(k+1)+1]))));else if(k===h)m=q.ax(q.xh(q.wd(q.a(a[2*(k-1)],a[2*(k-1)+1]),l)));else{m=q.a(a[2*(k-1)],a[2*(k-1)+1]);var n=q.a(a[2*(k+1)],a[2*(k+1)+1]),r=q.xh(q.wd(n,l)),p=q.xh(q.wd(m,l)),t=Math.acos(q.Mp(r,p));m=t<q.lj(70)?q.ax(q.xh(q.WC(r,p))):t<q.lj(170)?q.xh(q.WC(r,p)):q.ax(q.xh(q.wd(n,m)))}m=q.cj(m,c);d[2*g]=l.x+m.x;d[2*g+1]=l.y+m.y;d[2*
(g+1)]=l.x-m.x;d[2*(g+1)+1]=l.y-m.y}for(k=0==e?0:e-1;k<h;k++)g=2*k,a=g+2,c=q.wu(d[2*g],d[2*g+1]),f=q.wu(d[2*(g+1)],d[2*(g+1)+1]),g=q.wu(d[2*a],d[2*a]),e=q.wu(d[2*(a+1)],d[2*(a+1)+1]),c=!q.OX(c.x,c.y,e.x,e.y,f.x,f.y,g.x,g.y),!c.Ds&&(0>c.value||1<c.value)&&(c.Ds=!0),c.Ds&&(d[2*a]=e.x,d[2*a+1]=e.y,d[2*(a+1)]=g.x,d[2*(a+1)+1]=g.y)}};
q.OX=function(a,c,d,e,f,g,h,k){if(a==d&&c==e||f==h&&g==k)return{Ds:!1,value:0};d-=a;e-=c;f-=a;g-=c;h-=a;k-=c;a=Math.sqrt(d*d+e*e);d/=a;e/=a;c=f*d+g*e;g=g*d-f*e;f=c;c=h*d+k*e;k=k*d-h*e;h=c;return g==k?{Ds:!1,value:0}:{Ds:!0,value:(h+(f-h)*k/(k-g))/a}};q.sY=function(a,c){c[2]=c[3]=c[6]=c[7]=c[8]=c[9]=c[11]=c[14]=0;c[10]=c[15]=1;c[0]=a.H;c[4]=a.Aa;c[12]=a.Ya;c[1]=a.g;c[5]=a.Ka;c[13]=a.Za};q.cZ=function(a,c){c.H=a[0];c.Aa=a[4];c.Ya=a[12];c.g=a[1];c.Ka=a[5];c.Za=a[13]};q.GE=-1;q.BZ=null;q.CZ=null;q.HV=1;
q.C=q.Ca.extend({cb:0,lw:0,vg:0,Ph:0,ra:1,za:1,q:null,de:0,ee:0,t:null,va:!0,Gh:null,Fd:null,qa:null,Ne:!1,X:null,Mk:!1,kd:q.GE,$G:null,yB:null,Tj:!0,iv:!0,CF:!0,I0:null,Sj:null,WF:null,ce:!1,Gc:null,Of:0,Xg:null,wg:null,VF:!1,xq:!1,Du:null,Bi:null,qA:!1,sm:0,zr:0,nA:function(){this.Gh=q.sd();this.Fd=q.sd();this.qa=q.wm();this.q=q.sd();this.t=[];this.Sj={H:1,g:0,Aa:0,Ka:1,Ya:0,Za:0};var a=q.V.e();this.Xg=a.Bg();this.wg=a.yf();this.VF=!0;this.Du={H:1,g:0,Aa:0,Ka:1,Ya:0,Za:0};q.zL&&(this.Bi=new q.zL(this))},
s:function(){!1===this.VF&&this.nA();return!0},mg:function(a,c){if(a&&0!==a.length){var d,e=a.length,f;d=q.C.Jf;switch(c){case d.Ig:for(d=0;d<e;d++)(f=a[d])&&f.Ig();break;case d.Md:for(d=0;d<e;d++)(f=a[d])&&f.Md();break;case d.hi:for(d=0;d<e;d++)(f=a[d])&&f.hi();break;case d.Wf:for(d=0;d<e;d++)(f=a[d])&&f.Wf();break;case d.eg:for(d=0;d<e;d++)(f=a[d])&&f.eg();break;case d.wh:for(d=0;d<e;d++)(f=a[d])&&f.wh();break;case d.Nd:for(d=0;d<e;d++)(f=a[d])&&f.Nd();break;default:throw"Unknown callback function";
}}},Wa:null,DP:function(){this.um();!1===this.Tj&&(this.Tj=this.iv=!0)},EP:function(){!1===this.Tj&&(this.Tj=this.iv=!0)},K5:function(){return this.de},Ex:function(a){this.de=a;this.Wa()},L5:function(){return this.ee},Fx:function(a){this.ee=a;this.Wa()},A6:function(){return this.cb},Ov:function(a){this.cb=a},Eba:function(a){this.Ov(a);this.X&&this.X.Qs(this,a)},q6:function(){return this.lw},xK:function(a){this.lw=a},ES:function(){this.vg!==this.Ph&&q.log("cc.Node.rotation(): RotationX !\x3d RotationY. Don't know which one to return");
return this.vg},Ax:function(a){this.vg=this.Ph=a;this.sm=0.017453292519943295*this.vg;this.zr=0.017453292519943295*this.Ph;this.Wa()},A5:function(){return this.vg},Bx:function(a){this.vg=a;this.sm=0.017453292519943295*this.vg;this.Wa()},B5:function(){return this.Ph},Cx:function(a){this.Ph=a;this.zr=0.017453292519943295*this.Ph;this.Wa()},jC:function(){this.ra!==this.za&&q.log("cc.Node.getScale(): ScaleX !\x3d ScaleY. Don't know which one to return");return this.ra},mk:function(a,c){this.ra=a;this.za=
c||0===c?c:a;this.Wa()},FS:function(){return this.ra},Sp:function(a){this.ra=a;this.Wa()},GS:function(){return this.za},xn:function(a){this.za=a;this.Wa()},n:function(a,c){var d=this.q;2==arguments.length?(d.F=a,d.J=c):1==arguments.length&&(d.F=a.x,d.J=a.y);this.Wa()},k5:function(){return this.q},l5:function(){return this.q.F},ec:function(a){this.q.F=a;this.Wa()},m5:function(){return this.q.J},nd:function(a){this.q.J=a;this.Wa()},x3:function(){return this.t.length},w3:function(){return this.t},SI:function(){return this.va},
D:function(a){this.va=a;this.Wa()},f3:function(){return this.Gh},L:function(a,c){var d=this.Gh;if(2===arguments.length){if(a===d.F&&c===d.J)return;d.F=a;d.J=c}else{if(a.x===d.F&&a.y===d.J)return;d.F=a.x;d.J=a.y}var e=this.Fd,f=this.qa;e.F=f.Fa*d.F;e.J=f.pa*d.J;this.Wa()},g3:function(){return this.Fd},d:function(){return this.qa},T:function(a,c){var d=this.qa;if(2===arguments.length){if(a===d.Fa&&c===d.pa)return;d.Fa=a;d.pa=c}else{if(a.width===d.Fa&&a.height===d.pa)return;d.Fa=a.width;d.pa=a.height}var e=
this.Fd,f=this.Gh;e.F=d.Fa*f.F;e.J=d.pa*f.J;this.Wa()},F7:function(){return this.Ne},getParent:function(){return this.X},Vs:function(a){this.X=a},q7:function(){return this.Mk},Yi:function(a){a!=this.Mk&&(this.Mk=a,this.Wa())},NS:function(){return this.kd},uK:function(a){this.kd=a},getUserData:function(){return this.$G},setUserData:function(a){this.$G=a},o6:function(){return this.yB},xba:function(a){this.yB!=a&&(this.yB=a)},a5:function(){return this.Of},Rp:function(a){this.Of=a},Bg:function(){this.Xg||
(this.Xg=q.V.e().Bg());return this.Xg},SV:function(a){this.Xg!=a&&(this.LD(),this.Xg=a)},yf:function(){this.wg||(this.wg=q.V.e().yf());return this.wg},TW:function(a){this.wg!=a&&(this.et(),this.wg=a)},Xa:function(){var a=q.rect(0,0,this.qa.Fa,this.qa.pa);return q.si(a,this.ag())},Wf:function(){this.LD();this.et();this.mg(this.t,q.C.Jf.Wf)},description:function(){return"\x3ccc.Node | Tag \x3d"+this.kd+"\x3e"},fS:function(a){var c=this.t;if(null!=c)for(var d=0;d<c.length;d++){var e=c[d];if(e&&e.kd==
a)return e}return null},f:function(a,c,d){if(!a)throw"cc.Node.addChild(): child must be non-null";a===this?q.log("cc.Node.addChild(): An Node can't be added as a child of itself."):null!==a.X?q.log("cc.Node.addChild(): child already added. It can't be added again"):(c=null!=c?c:a.cb,a.kd=null!=d?d:a.kd,this.xO(a,c),a.X=this,this.Ne&&(a.Ig(),this.qA&&a.hi()))},Q:function(a){this.X&&(null==a&&(a=!0),this.X.removeChild(this,a))},pV:function(a){q.log("removeFromParentAndCleanup is deprecated. Use removeFromParent instead");
this.Q(a)},removeChild:function(a,c){0!==this.t.length&&(null==c&&(c=!0),-1<this.t.indexOf(a)&&this.WN(a,c),this.Wa())},Z9:function(a,c){a===q.GE&&q.log("cc.Node.removeChildByTag(): argument tag is an invalid tag");var d=this.fS(a);null==d?q.log("cocos2d: removeChildByTag(tag \x3d "+a+"): child not found!"):this.removeChild(d,c)},R9:function(a){q.log("removeAllChildrenWithCleanup is deprecated. Use removeAllChildren instead");this.rc(a)},rc:function(a){var c=this.t;if(null!=c){null==a&&(a=!0);for(var d=
0;d<c.length;d++){var e=c[d];e&&(this.Ne&&(e.wh(),e.Md()),a&&e.Wf(),e.Vs(null))}this.t.length=0}},WN:function(a,c){this.Ne&&(a.wh(),a.Md());c&&a.Wf();a.Vs(null);q.Pd(this.t,a)},xO:function(a,c){this.ce=!0;this.t.push(a);a.Ov(c)},Qs:function(a,c){if(!a)throw"cc.Node.reorderChild(): child must be non-null";this.ce=!0;a.Rp(q.HV++);a.Ov(c);this.Wa()},Nd:function(){if(this.ce){var a=this.t,c,d,e=a.length,f;for(c=0;c<e;c++){var g=a[c];d=c-1;for(f=a[d];0<=d&&(g.cb<f.cb||g.cb==f.cb&&g.Of<f.Of);)a[d+1]=f,
d-=1,f=a[d];a[d+1]=g}this.ce=!1}},Va:function(){},Ux:function(){null!=this.X&&(this.X.Ux(),this.X.transform())},Ig:function(){this.qA=!1;this.Ne=!0;this.mg(this.t,q.C.Jf.Ig);this.mx()},hi:function(){this.qA=!0;this.mg(this.t,q.C.Jf.hi)},wh:function(){this.mg(this.t,q.C.Jf.wh)},Md:function(){this.Ne=!1;this.cx();this.mg(this.t,q.C.Jf.Md);this.Bi&&this.Bi.kV()},nx:function(a){if(!a)throw"cc.Node.runAction(): action must be non-null";this.Bg().vQ(a,this,!this.Ne);return a},LD:function(){this.Bg().EJ(this)},
xX:function(a){this.Bg().DJ(a)},Wba:function(a){a===q.Kn?q.log("cc.Node.stopActionBy(): argument tag an invalid tag"):this.Bg().jV(a,this)},fC:function(a){return a===q.Kn?(q.log("cc.Node.getActionByTag(): argument tag is an invalid tag"),null):this.Bg().fC(a,this)},M4:function(){return this.Bg().dU(this)},JV:function(){this.KV(0)},KV:function(a){this.yf().MJ(this,a,!this.Ne)},Eca:function(){this.yf().Zp(this)},sc:function(a,c,d,e){c=c||0;if(!a)throw"cc.Node.schedule(): callback function must be non-null";
if(0>c)throw"cc.Node.schedule(): interval must be positive";d=null==d?q.Sl:d;e=e||0;this.yf().IV(this,a,c,d,e,!this.Ne)},zc:function(a,c){this.sc(a,0,0,c)},Ad:function(a){a&&this.yf().YK(this,a)},et:function(){this.yf().XK(this)},mx:function(){this.yf().rn(this);this.Bg().rn(this)},cx:function(){this.yf().Os(this);this.Bg().Os(this)},A$:function(a){this.Du=a;this.xq=this.Tj=!0},r9:function(){this.iv&&(this.WF=q.cE(this.ag()),this.iv=!1);return this.WF},Ls:function(){for(var a=this.ag(),c=this.X;null!=
c;c=c.getParent())a=q.Kl(a,c.ag());return a},RX:function(){return q.cE(this.Ls())},Ba:function(a){return q.SE(a,this.RX())},el:function(a){return q.SE(a,this.Ls())},oR:function(a){return q.wd(this.Ba(a),this.Fd)},W1:function(a){a=q.bg(a,this.Fd);return this.el(a)},d0:function(a){a=this.el(a);return q.V.e().pR(a)},Yh:function(a){return this.Ba(a.K)},X1:function(a){a=a.K;a=q.V.e().nR(a);return this.oR(a)},update:function(a){this.Bi&&!this.Bi.m7()&&this.Bi.na(a)},eg:function(){this.mg(this.t,q.C.Jf.eg)},
KJ:function(){},fD:function(){},gS:function(a){return this.Bi.gS(a)},Q0:function(a){this.Bi.add(a)},a$:function(a){return this.Bi.remove(a)},S9:function(){this.Bi.kV()},NG:null,lB:null,iA:null,lo:null,Jk:null,ctor:null,Hh:function(){this.nA()},Ih:function(){this.nA();var a=new q.uh;a.vh[2]=a.vh[3]=a.vh[6]=a.vh[7]=a.vh[8]=a.vh[9]=a.vh[11]=a.vh[14]=0;a.vh[10]=a.vh[15]=1;this.NG=a;this.iA=0;this.lB=new q.uh},na:null,Im:function(a){if(this.va){a=a||q.U;var c,d=this.t,e;a.save();this.transform(a);var f=
d.length;if(0<f){this.Nd();for(c=0;c<f;c++)if(e=d[c],0>e.cb)e.na(a);else break;for(this.Va(a);c<f;c++)d[c].na(a)}else this.Va(a);this.Of=0;a.restore()}},Jm:function(){if(this.va){var a=q.U,c,d=q.tR;d.stack.push(d.top);q.a8(this.lB,d.top);d.top=this.lB;var e=this.Jk;e&&e.nN&&e.NB();this.transform();var f=this.t;if(f&&0<f.length){var g=f.length;this.Nd();for(c=0;c<g;c++)if(f[c]&&0>f[c].cb)f[c].na();else break;for(this.Va(a);c<g;c++)f[c]&&f[c].na()}else this.Va(a);this.Of=0;e&&e.nN&&e.JB(this);d.top=
d.stack.pop()}},transform:null,dQ:function(a){a=a||q.U;var c=q.oa.e(),d=this.ag();a.transform(d.H,d.Aa,d.g,d.Ka,d.Ya*c.ra,-d.Za*c.za)},eQ:function(){var a=this.NG,c=q.tR.top,d=this.ag(),e=a.vh;e[0]=d.H;e[4]=d.Aa;e[12]=d.Ya;e[1]=d.g;e[5]=d.Ka;e[13]=d.Za;e[14]=this.lw;q.RT(c,c,a);null==this.lo||null!=this.Jk&&this.Jk.Cp()||(a=this.Fd.F,c=this.Fd.J,0!==a||0!==c?(q.PT(q.ig(a),q.ig(c),0),this.lo.VI(),q.PT(q.ig(-a),q.ig(-c),0)):this.lo.VI())},ag:null,OO:function(){this.Sj||(this.Sj={H:1,g:0,Aa:0,Ka:1,Ya:0,
Za:0});if(this.Tj){var a=this.Sj;a.Ya=this.q.F;a.Za=this.q.J;var c=1,d=0;this.vg&&(c=Math.cos(this.sm),d=Math.sin(this.sm));a.H=a.Ka=c;a.g=-d;a.Aa=d;var e=this.ra,f=this.za,g=this.Fd.F,h=this.Fd.J,k=1E-6>e&&-1E-6<e?1E-6:e,l=1E-6>f&&-1E-6<f?1E-6:f;if(this.de||this.ee){var m=Math.tan(-this.de*Math.PI/180),n=Math.tan(-this.ee*Math.PI/180),r=h*m*k,p=g*n*l;a.H=c+-d*n;a.g=c*m+-d;a.Aa=d+c*n;a.Ka=d*m+c;a.Ya+=c*r+-d*p;a.Za+=d*r+c*p}if(1!==e||1!==f)a.H*=k,a.Aa*=k,a.g*=l,a.Ka*=l;a.Ya+=c*-g*k+-d*h*l;a.Za-=d*
-g*k+c*h*l;this.Mk&&(a.Ya+=g,a.Za+=h);this.xq&&(this.Sj=q.Kl(this.Sj,this.Du),this.xq=!1);this.Tj=!1}return this.Sj},PO:function(){if(this.Tj){var a=this.q.F,c=this.q.J,d=this.Fd.F,e=-d,f=this.Fd.J,g=-f,h=this.ra,k=this.za;this.Mk&&(a+=d,c+=f);var l=1,m=0,n=1,r=0;if(0!==this.vg||0!==this.Ph)l=Math.cos(-this.sm),m=Math.sin(-this.sm),n=Math.cos(-this.zr),r=Math.sin(-this.zr);var p=this.de||this.ee;p||0===d&&0===f||(a+=n*e*h+-m*g*k,c+=r*e*h+l*g*k);a={H:n*h,g:r*h,Aa:-m*k,Ka:l*k,Ya:a,Za:c};p&&(a=q.Kl({H:1,
g:Math.tan(q.lj(this.ee)),Aa:Math.tan(q.lj(this.de)),Ka:1,Ya:0,Za:0},a),0!==d||0!==f)&&(a=q.ay(a,e,g));this.xq&&(a=q.Kl(a,this.Du),this.xq=!1);this.Sj=a;this.Tj=!1}return this.Sj},um:function(){this.CF=!0;this.X&&this.X.um()},gC:function(){this.lo||(this.lo=new q.eq);return this.lo},g4:function(){return this.Jk},daa:function(a){this.Jk=a},lC:function(){return this.Gc},Lg:function(a){this.Gc=a},f4:function(){return this.iA},caa:function(a){this.iA=a},o3:function(){var a=q.rect(0,0,this.qa.Fa,this.qa.pa),
c=this.Ls(),a=q.Ug(a,this.Ls());if(!this.t)return a;for(var d=this.t,e=0;e<d.length;e++){var f=d[e];f&&f.va&&(f=f.OF(c))&&(a=q.jx(a,f))}return a},OF:function(a){var c=q.rect(0,0,this.qa.Fa,this.qa.pa);a=null==a?this.ag():q.Kl(this.ag(),a);c=q.Ug(c,a);if(!this.t)return c;for(var d=this.t,e=0;e<d.length;e++){var f=d[e];f&&f.va&&(f=f.OF(a))&&(c=q.jx(c,f))}return c}});
q.Ea.Pc?(b=q.C.prototype,b.ctor=q.C.prototype.Ih,b.Wa=q.C.prototype.EP,b.na=q.C.prototype.Jm,b.transform=q.C.prototype.eQ,b.ag=q.C.prototype.PO):(b=q.C.prototype,b.ctor=q.C.prototype.Hh,b.Wa=q.C.prototype.DP,b.na=q.C.prototype.Im,b.transform=q.C.prototype.dQ,b.ag=q.C.prototype.OO);q.C.create=function(){return new q.C};q.C.Jf={Ig:1,Md:2,Wf:3,hi:4,eg:5,wh:6,Nd:7};
q.yb=q.C.extend({hb:!0,Vb:255,ug:255,Ec:null,be:null,pd:!1,Wd:!1,ctor:function(){q.C.prototype.ctor.call(this);this.ug=this.Vb=255;this.Ec=q.xb();this.be=q.xb();this.Wd=this.pd=!1},Wi:function(){return this.ug},iS:function(){return this.Vb},fa:function(a){this.Vb=this.ug=a;a=255;var c=this.X;c&&c.hb&&c.Wd&&(a=c.Vb);this.ad(a)},ad:function(a){this.Vb=this.ug*a/255;if(this.Wd){a=this.t;for(var c=0;c<a.length;c++){var d=a[c];d&&d.hb&&d.ad(this.Vb)}}},HT:function(){return this.Wd},UJ:function(a){this.Wd!==
a&&((this.Wd=a)?this.Uq():this.Qz())},Uq:function(){var a=255,c=this.X;c&&c.hb&&c.Wd&&(a=c.Vb);this.ad(a)},Qz:function(){this.Vb=this.ug;for(var a=this.t,c=0;c<a.length;c++){var d=a[c];d&&d.hb&&d.ad(255)}},vd:function(){var a=this.be;return new q.Ac(a.p,a.o,a.g)},ns:function(){return this.Ec},l:function(a){var c=this.Ec,d=this.be;c.p=d.p=a.p;c.o=d.o=a.o;c.g=d.g=a.g;a=(a=this.X)&&a.hb&&a.pd?a.ns():q.xb();this.$c(a)},$c:function(a){var c=this.Ec,d=this.be;c.p=0|d.p*a.p/255;c.o=0|d.o*a.o/255;c.g=0|d.g*
a.g/255;if(this.pd)for(a=this.t,d=0;d<a.length;d++){var e=a[d];e&&e.hb&&e.$c(c)}},GT:function(){return this.pd},TJ:function(a){this.pd!==a&&((this.pd=a)?this.Tq():this.Pz())},Tq:function(){var a;a=(a=this.X)&&a.hb&&a.pd?a.ns():q.xb();this.$c(a)},Pz:function(){var a=this.Ec,c=this.be;a.p=c.p;a.o=c.o;a.g=c.g;for(var a=this.t,c=q.xb(),d=0;d<a.length;d++){var e=a[d];e&&e.hb&&e.$c(c)}},f:function(a,c,d){q.C.prototype.f.call(this,a,c,d);this.pd&&this.Tq();this.Wd&&this.Uq()},Ff:function(){},nl:function(){return!1}});
q.yb.create=function(){var a=new q.yb;a.s();return a};q.Qd=q.yb.extend({hb:!0,bG:0,aG:0,kv:0,jv:0,wj:null,Ra:null,jc:!1,ea:null,wr:0,jA:!1,ctor:function(){q.yb.prototype.ctor.call(this);this.wj=q.xb();this.ea={src:q.Ce,Fb:q.Be};this.jA=!1},Gca:function(){q.log("cc.AtlasNode.updateAtlasValues(): Shall be overridden in subclasses")},vd:function(){return this.jc?this.wj:q.yb.prototype.vd.call(this)},Ff:function(a){var c=this.vd();this.jc=a;this.l(c)},nl:function(){return this.jc},ms:function(){return this.ea},yl:function(a,c){this.ea=1==arguments.length?
a:{src:a,Fb:c}},Up:function(a){this.Ra=a},jI:function(){return this.Ra},s5:function(){return this.wr},Saa:function(a){this.wr=a},Cm:null,qg:null,QG:null,Mu:null,wT:function(a,c,d,e){if(!a)throw"cc.AtlasNode.initWithTileFile(): title should not be null";a=q.sa.e().Ia(a);return this.La(a,c,d,e)},La:null,hr:function(a,c,d,e){this.kv=c;this.jv=d;this.jc=!0;this.qg=a;if(!this.qg)return q.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.Cm=this.qg;this.Iu();this.wr=e;return!0},
ir:function(a,c,d,e){this.kv=c;this.jv=d;this.wj=q.xb();this.jc=!0;this.ea.src=q.Ce;this.ea.Fb=q.Be;c=this.be;this.Mu=new Float32Array([c.p/255,c.o/255,c.g/255,this.ug/255]);this.Ra=new q.Xn;this.Ra.La(a,e);if(!this.Ra)return q.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.Hm();this.XG();this.Iu();this.wr=e;this.Lg(q.Fh.e().ki(q.l_));this.QG=q.U.getUniformLocation(this.lC().Iw(),"u_color");return!0},Va:null,pg:function(a){a=a||q.U;q.By(this);q.bk(this.ea.src,this.ea.Fb);
a.uniform4fv(this.QG,this.Mu);this.Ra.KH(this.wr,0)},l:null,Br:function(a){var c=this.be;if(c.p!=a.p||c.o!=a.o||c.g!=a.g){c=new q.Ac(a.p,a.o,a.g);this.wj=a;if(this.jc){var d=this.Vb;c.p=c.p*d/255;c.o=c.o*d/255;c.g=c.g*d/255}q.yb.prototype.l.call(this,a);this.aa()&&(a=this.qg.Fc)&&(c=q.sa.e().kI(a))&&(d=q.rect(0,0,a.width,a.height),a=q.eC(a,c,this.be,d),c=new q.Xb,c.Af(a),c.ve(),this.ka(c))}},YA:function(a){var c=q.Ac(a.p,a.o,a.g);this.wj=a;var d=this.Vb;this.jc&&(c.p=c.p*d/255,c.o=c.o*d/255,c.g=c.g*
d/255);q.yb.prototype.l.call(this,a);a=this.Ec;this.Mu=new Float32Array([a.p/255,a.o/255,a.g/255,d/255])},fa:null,Dr:function(a){q.yb.prototype.fa.call(this,a);this.jc&&this.l(this.wj)},aB:function(a){q.yb.prototype.fa.call(this,a);this.jc?this.l(this.wj):(a=this.Ec,this.Mu=new Float32Array([a.p/255,a.o/255,a.g/255,this.Vb/255]))},aa:null,fA:function(){return this.Cm},gA:function(){return this.Ra.aa()},ka:null,Er:function(a){this.Cm=a},Fr:function(a){this.Ra.ka(a);this.Hm();this.XG()},Iu:null,EN:function(){var a=
this.aa().d();this.aG=0|a.height/this.jv;this.bG=0|a.width/this.kv},FN:function(){var a=this.aa(),c=a.d();this.jA&&(c=a.qa);this.aG=0|c.height/this.jv;this.bG=0|c.width/this.kv},Hm:function(){this.Ra.aa().zs()||(this.ea.src=770,this.ea.Fb=771)},XG:function(){this.jc=this.Ra.aa().zs()},$A:function(a){this.jA=a}});
q.Ea.Pc?(b=q.Qd.prototype,b.La=q.Qd.prototype.ir,b.Va=q.Qd.prototype.pg,b.l=q.Qd.prototype.YA,b.fa=q.Qd.prototype.aB,b.aa=q.Qd.prototype.gA,b.ka=q.Qd.prototype.Fr,b.Iu=q.Qd.prototype.FN):(b=q.Qd.prototype,b.La=q.Qd.prototype.hr,b.Va=q.C.prototype.Va,b.l=q.Qd.prototype.Br,b.fa=q.Qd.prototype.Dr,b.aa=q.Qd.prototype.fA,b.ka=q.Qd.prototype.Er,b.Iu=q.Qd.prototype.EN);q.Qd.create=function(a,c,d,e){var f=new q.Qd;return f.wT(a,c,d,e)?f:null};q.pj=0;q.oq=1;q.nq=2;q.mq=3;q.Sy=4;q.Ry=5;q.mu=6;q.lu=7;q.cF=8;q.bF=9;q.aF=q.pj;q.Iz=q.aF;q.BM=!1;q.F0=function(a,c,d,e){this.$T=a||0;this.XT=c||0;this.mL=d||0;this.nL=e||0};
q.RM=q.Ca.extend({SO:null,Pf:null,gh:null,fh:null,uA:null,qa:null,ah:null,bh:null,Bo:null,hm:!1,Gc:null,nc:!1,Fc:null,Xh:null,Gd:null,ctor:function(){this.fh=this.gh=0;this.uA="";this.bh=this.ah=0;this.Bo=!1;this.qa=q.wm();this.hm=!1;this.SO=!0;this.Pf=q.Xb.uR();this.Gc=null;this.nc=!1;this.Xh=this.Fc=null;this.Gd=[]},gD:function(){this.Xh&&q.U.deleteTexture(this.Xh)},f5:function(){return this.Pf},tp:function(){return this.gh},sp:function(){return this.fh},getName:function(){return this.Xh},d:function(){return q.size(this.qa.width/
q.Cd(),this.qa.height/q.Cd())},hS:function(){return this.qa},qS:function(){return this.ah},xW:function(a){this.ah=a},rS:function(){return this.bh},yW:function(a){this.bh=a},lC:function(){return this.Gc},Lg:function(a){this.Gc=a},zs:function(){return this.Bo},fT:function(){return this.hm},description:function(){return"\x3ccc.Texture2D | Name \x3d "+this.uA+" | Dimensions \x3d "+this.gh+" x "+this.fh+" | Coordinates \x3d ("+this.ah+", "+this.bh+")\x3e"},hV:function(){},NT:function(a){return a},Pw:function(a,
c,d,e,f){var g=q.U,h=0,h=c===q.pj?24:this.sH(c),h=d*h/8;0===h%8?g.pixelStorei(g.UNPACK_ALIGNMENT,8):0===h%4?g.pixelStorei(g.UNPACK_ALIGNMENT,4):0===h%2?g.pixelStorei(g.UNPACK_ALIGNMENT,2):g.pixelStorei(g.UNPACK_ALIGNMENT,1);this.Xh=g.createTexture();q.Cg(this);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE);
switch(c){case q.pj:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_BYTE,a);break;case q.oq:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_BYTE,a);break;case q.mu:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_4_4_4_4,a);break;case q.lu:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_5_5_5_1,a);break;case q.nq:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_SHORT_5_6_5,a);break;case q.Ry:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE_ALPHA,
d,e,0,g.LUMINANCE_ALPHA,g.UNSIGNED_BYTE,a);break;case q.mq:g.texImage2D(g.TEXTURE_2D,0,g.ALPHA,d,e,0,g.ALPHA,g.UNSIGNED_BYTE,a);break;case q.Sy:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE,d,e,0,g.LUMINANCE,g.UNSIGNED_BYTE,a);break;default:throw"NSInternalInconsistencyException";}this.qa.Fa=f.width;this.qa.pa=f.height;this.gh=d;this.fh=e;this.Pf=c;this.ah=f.width/d;this.bh=f.height/e;this.hm=this.Bo=!1;this.Lg(q.Fh.e().ki(q.GM));return this.nc=!0},LR:function(a){var c=[0,this.bh,this.ah,this.bh,0,0,this.ah,
0],d=this.gh*this.ah,e=this.fh*this.bh;a=[a.x,a.y,0,d+a.x,a.y,0,a.x,e+a.y,0,d+a.x,e+a.y,0];q.qe(q.Wg|q.$M);this.Gc.kf();this.Gc.wK();q.Cg(this);d=q.U;d.vertexAttribPointer(q.Fe,2,d.FLOAT,!1,0,a);d.vertexAttribPointer(q.sq,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},NR:function(a){var c=[0,this.bh,this.ah,this.bh,0,0,this.ah,0];a=[a.x,a.y,a.x+a.width,a.y,a.x,a.y+a.height,a.x+a.width,a.y+a.height];q.qe(q.Wg|q.$M);this.Gc.kf();this.Gc.wK();q.Cg(this);var d=q.U;d.vertexAttribPointer(q.Fe,2,
d.FLOAT,!1,0,a);d.vertexAttribPointer(q.sq,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},AC:function(a){if(null==a)return q.log("cocos2d: cc.Texture2D. Can't create Texture. UIImage is nil"),!1;var c=a.ws(),d=a.ps(),e=q.De.e().pr;if(c>e||d>e)return q.log("cocos2d: WARNING: Image ("+c+" x "+d+") is bigger than the supported "+e+" x "+e),!1;this.nc=!0;return this.oO(a,c,d)},Af:function(a){a&&(this.Xh=q.U.createTexture(),this.Fc=a)},lS:function(){return this.Fc},Fg:function(){return this.nc},
ve:function(){this.nc=!0;var a=q.U;q.Cg(this);a.pixelStorei(a.UNPACK_ALIGNMENT,4);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,this.Fc);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);this.Lg(q.Fh.e().ki(q.GM));q.Cg(null);a=this.Fc.height;this.gh=this.qa.Fa=this.Fc.width;this.fh=this.qa.pa=
a;this.Pf=q.pj;this.bh=this.ah=1;this.hm=this.Bo=!1;this.Vd()},ll:function(a,c,d,e,f,g){3==arguments.length&&(c=arguments[1],d=arguments[2],e=q.size(0,0),f=q.qj,g=q.uq);var h=new q.VL,k;if(q.uq===g)k=q.qj===f?q.$X:q.pq===f?q.aY:q.bY;else if(q.vu===g)k=q.qj===f?q.XX:q.pq===f?q.YX:q.ZX;else if(q.tq===g)k=q.qj===f?q.UX:q.pq===f?q.VX:q.WX;else return q.log("Not supported alignment format!"),!1;return h.ll(a,e.width,e.height,k,c,d)?this.AC(h):!1},pT:function(){return!1},DI:function(a){var c=!1,d=new q.B_;
(c=d.Q6(a))?(d.$aa(!0),this.uA=d.getName(),this.bh=this.ah=1,this.gh=d.ws(),this.fh=d.ps(),this.qa.Fa=this.gh,this.qa.pa=this.fh,this.Bo=q.BM,this.Pf=d.d4(),this.QJ()):q.log("cocos2d: Couldn't load PVR image "+a);return c},tT:function(){return q.De.e().Or?!0:(q.log("cocos2d: WARNING: PVRTC images is not supported."),!1)},YW:function(a){var c=q.U;q.ot(this.gh==q.Qn(this.gh)&&this.fh==q.Qn(this.fh)||a.mL==c.CLAMP_TO_EDGE&&a.nL==c.CLAMP_TO_EDGE,"WebGLRenderingContext.CLAMP_TO_EDGE should be used in NPOT textures");
q.Cg(this);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,a.$T);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,a.XT);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,a.mL);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,a.nL)},QJ:function(){var a=q.U;q.Cg(this);this.hm?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},PJ:function(){var a=q.U;q.Cg(this);
this.hm?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},generateMipmap:function(){q.ot(this.gh==q.Qn(this.gh)&&this.fh==q.Qn(this.fh),"Mimpap texture only works in POT textures");q.Cg(this);q.U.generateMipmap(q.U.TEXTURE_2D);this.hm=!0},yX:function(){switch(this.Pf){case q.pj:return"RGBA8888";case q.oq:return"RGB888";case q.nq:return"RGB565";case q.mu:return"RGBA4444";
case q.lu:return"RGB5A1";case q.Ry:return"AI88";case q.mq:return"A8";case q.Sy:return"I8";case q.cF:return"PVRTC4";case q.bF:return"PVRTC2";default:q.log("stringForFormat: "+this.Pf+", cannot give useful result, it's a unrecognized pixel format")}return""},sH:function(a){a=a||this.Pf;switch(a){case q.pj:return 32;case q.oq:return 32;case q.nq:return 16;case q.mq:return 8;case q.mu:return 16;case q.lu:return 16;case q.cF:return 4;case q.bF:return 2;case q.Sy:return 8;case q.Ry:return 16;default:return q.log("bitsPerPixelForFormat: "+
this.Pf+", cannot give useful result, it's a illegal pixel format"),-1}},oO:function(a,c,d){var e=a.getData(),f=null,f=null,g=a.F6(),h=q.size(a.ws(),a.ps()),k=q.aF,l=a.m3();g||(8<=l?k=q.oq:(q.log("cocos2d: cc.Texture2D: Using RGB565 texture since image has no alpha"),k=q.nq));var m=c*d;if(k==q.nq)if(g)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>2<<5|(f[l]>>16&255)>>3<<0;else for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]&255)>>3<<
11|(f[l]&255)>>2<<5|(f[l]&255)>>3<<0;else if(k==q.mu)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>4<<12|(f[l]>>8&255)>>4<<8|(f[l]>>16&255)>>4<<4|(f[l]>>24&255)>>4<<0;else if(k==q.lu)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>3<<6|(f[l]>>16&255)>>3<<1|(f[l]>>24&255)>>7<<0;else if(k==q.mq)for(e=new Uint8Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=f>>24&255;if(g&&k==q.oq)for(f=a.getData(),e=new Uint8Array(c*d*3),l=0;l<m;++l)e[3*
l]=f>>0&255,e[3*l+1]=f>>8&255,e[3*l+2]=f>>16&255;this.Pw(e,k,c,d,h);a.getData();this.Bo=a.A7();return!0},Uf:function(a,c){this.Gd.push({ak:a,$h:c})},qV:function(a){for(var c=this.Gd,d=0;d<c.length;d++)c[d].$h==a&&c.splice(d,1)},Vd:function(){for(var a=this.Gd,c=0,d=a.length;c<d;c++){var e=a[c];e.ak.call(e.$h,this)}a.length=0}});
q.QM=q.Ca.extend({qa:null,nc:!1,Fc:null,Gd:null,ctor:function(){this.qa=q.wm();this.nc=!1;this.Fc=null;this.Gd=[]},tp:function(){return this.qa.Fa},sp:function(){return this.qa.pa},d:function(){var a=q.Cd();return q.size(this.qa.Fa/a,this.qa.pa/a)},hS:function(){return this.qa},Af:function(a){a&&(this.Fc=a)},lS:function(){return this.Fc},Fg:function(){return this.nc},ve:function(){this.nc=!0;var a=this.Fc;this.qa.Fa=a.width;this.qa.pa=a.height;this.Vd()},description:function(){return"\x3ccc.Texture2D | width \x3d "+
this.qa.Fa+" height "+this.qa.pa+"\x3e"},Pw:function(){return!1},AC:function(){return!1},ll:function(){return!1},gD:function(){},getName:function(){return null},qS:function(){return 1},xW:function(){},rS:function(){return 1},yW:function(){},lC:function(){return null},Lg:function(){},zs:function(){return!1},fT:function(){return!1},hV:function(){},NT:function(a){return a},LR:function(){},NR:function(){},pT:function(){return!1},DI:function(){return!1},tT:function(){return!0},YW:function(){},QJ:function(){},
PJ:function(){},generateMipmap:function(){},yX:function(){return""},sH:function(){return-1},Uf:function(a,c){this.Gd.push({ak:a,$h:c})},qV:function(a){for(var c=this.Gd,d=0;d<c.length;d++)c[d].$h==a&&c.splice(d,1)},Vd:function(){for(var a=this.Gd,c=0,d=a.length;c<d;c++){var e=a[c];e.ak.call(e.$h,this)}a.length=0}});q.Xb=q.Ea.Pc?q.RM:q.QM;q.Xb.P$=function(a){q.Iz=a};q.Xb.uR=function(){return q.Iz};q.Xb.K3=function(){return q.Iz};q.ls=null;q.m8=function(a){if(q.kR(a)==q.PL)q.log("unsupported format:"+a);else{var c=new Image;c.src=a;c.addEventListener("load",function(){q.sa.e().QQ(a,c);this.removeEventListener("load",arguments.callee,!1)},!1)}};q.kR=function(a){return 0<a.toLowerCase().indexOf(".jpg")||0<a.toLowerCase().indexOf(".jpeg")?q.ZY:0<a.toLowerCase().indexOf(".png")?q.$Y:0<a.toLowerCase().indexOf(".webp")?q.bZ:q.PL};
q.sa=q.Ca.extend({pb:null,Pr:null,Zv:null,rG:!1,nv:null,ov:null,ctor:function(){if(q.ls)throw"Attempted to allocate a second instance of a singleton.";this.Zv+=0|1E3*Math.random();this.pb={};this.Pr={};q.yd===q.xk&&(this.nv={},this.ov={})},lz:function(a,c){if(a&&"string"===typeof c)a[c]();else a&&"function"===typeof c&&c.call(a)},wO:function(){this.rG=!0;var a,c=this.nv,d=this.pb;for(a in c){var e=c[a],f=new q.Xb;f.Af(e);f.ve();d[a]=f}this.nv={}},X0:function(){q.log("TextureCache:addPVRTCImage does not support on HTML5")},
S0:function(){q.log("TextureCache:addPVRTCImage does not support on HTML5")},description:function(){return"\x3cTextureCache | Number of textures \x3d "+this.pb.length+"\x3e"},Qx:function(a){a=q.Dd.e().le(a);return this.pb.hasOwnProperty(a)?this.pb[a]:null},nS:function(a){for(var c in this.pb)if(this.pb[c]==a)return c;return null},fO:function(){this.Zv++;return"_textureKey_"+this.Zv},kI:function(a){var c=this.nS(a);c||(c=a instanceof HTMLImageElement?a.src:this.fO());this.Pr.hasOwnProperty(c)||(this.Pr[c]=
q.pp(a));return this.Pr[c]},W0:function(a){if(!a)throw"cc.TextureCache.addPVRImage(): path should be non-null";a=q.Dd.e().le(a);if(null!=this.pb[a])return this.pb[a];var c=new q.Xb;c.DI(a)?this.pb[a]=c:q.log("cocos2d: Couldn't add PVRImage:"+a+" in TextureCache");return c},V9:function(){var a=this.pb,c;for(c in a)a[c]&&a[c].gD();this.pb={}},k$:function(a){if(a){var c=this.pb,d;for(d in c)c[d]==a&&(c[d].gD(),delete c[d])}},uV:function(a){null!=a&&(a=q.Dd.e().le(a),this.pb[a]&&delete this.pb[a])},T0:function(a,
c,d){if(!a)throw"cc.TextureCache.addImageAsync(): path should be non-null";a=q.Dd.e().le(a);var e=this.pb[a],f,g;if(e)e.Fg()?this.lz(c,d):(g=this,f=e.Fc,f.addEventListener("load",function(){e.ve();g.lz(c,d);this.removeEventListener("load",arguments.callee,!1)}));else{f=new Image;f.crossOrigin="Anonymous";g=this;f.addEventListener("load",function(){g.pb.hasOwnProperty(a)&&g.pb[a].ve();g.lz(c,d);this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});
f.addEventListener("error",function(){q.Wb.e().gn(a);g.pb.hasOwnProperty(a)&&delete g.pb[a];this.removeEventListener("error",arguments.callee,!1)});f.src=a;var h=new q.Xb;h.Af(f);this.pb[a]=h}return this.pb[a]},pN:function(a){var c=new Image;c.crossOrigin="Anonymous";var d=this;c.addEventListener("load",function(){q.Wb.e().ji();d.nv[a]=c;delete d.ov[a];this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});c.addEventListener("error",function(){q.Wb.e().gn(a);
delete d.ov[a];this.removeEventListener("error",arguments.callee,!1)});c.src=a;this.ov[a]=c},Ia:function(a){if(!a)throw"cc.Texture.addImage(): path should be non-null";if(q.yd===q.xk&&!this.rG)return this.pN(a);a=q.Dd.e().le(a);var c=this.pb[a],d;if(c)c.Fg()?q.Wb.e().ji():(d=c.Fc,d.addEventListener("load",function(){c.ve();q.Wb.e().ji();this.removeEventListener("load",arguments.callee,!1)}));else{d=new Image;d.crossOrigin="Anonymous";var e=this;d.addEventListener("load",function(){q.Wb.e().ji();e.pb.hasOwnProperty(a)&&
e.pb[a].ve();this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});d.addEventListener("error",function(){q.Wb.e().gn(a);e.pb.hasOwnProperty(a)&&delete e.pb[a];this.removeEventListener("error",arguments.callee,!1)});d.src=a;var f=new q.Xb;f.Af(d);this.pb[a]=f}return this.pb[a]},QQ:function(a,c){if(c instanceof q.Xb)this.pb[a]=c;else{var d=new q.Xb;d.Af(c);d.ve();this.pb[a]=d}},b1:function(a,c){if(!a)throw"cc.Texture.addUIImage(): image should be non-null";
if(c&&this.pb.hasOwnProperty(c)&&this.pb[c])return this.pb[c];var d=new q.Xb;d.AC(a);null!=c&&null!=d?this.pb[c]=d:q.log("cocos2d: Couldn't add UIImage in TextureCache");return d},s2:function(){var a=0,c=0,d=this.pb,e;for(e in d){var f=d[e];a++;f.Fc instanceof HTMLImageElement?q.log("cocos2d: '"+e+"' id\x3d"+f.Fc.src+" "+f.tp()+" x "+f.sp()):q.log("cocos2d: '"+e+"' id\x3d HTMLCanvasElement "+f.tp()+" x "+f.sp());c+=f.tp()*f.sp()*4}d=this.Pr;for(e in d){var f=d[e],g;for(g in f){var h=f[g];a++;q.log("cocos2d: '"+
e+"' id\x3d HTMLCanvasElement "+h.width+" x "+h.height);c+=h.width*h.height*4}}q.log("cocos2d: TextureCache dumpDebugInfo: "+a+" textures, HTMLCanvasElement for "+c/1024+" KB ("+(c/1048576).toFixed(2)+" MB)")}});q.sa.e=function(){q.ls||(q.ls=new q.sa);return q.ls};q.sa.UU=function(){q.ls=null};q.Xn=q.Ca.extend({rd:null,zi:null,Ha:!1,dd:0,Da:null,Ke:null,sg:null,xr:null,tg:null,ctor:function(){this.zi=[]},h6:function(){return this.Ta},u3:function(){return this.dd},aa:function(){return this.Da},ka:function(a){this.Da=a},Kg:function(a){this.Ha=a},MI:function(){return this.Ha},r5:function(){return this.Ke},Raa:function(a){this.Ke=a},e0:function(a,c){if(a)for(var d=0;d<a.length;d++)this.Nv(a[d],c+d)},Nv:function(a,c){var d=this.Ke;d[c]?(d[c].Ja=a.Ja,d[c].Ua=a.Ua,d[c].Sa=a.Sa,d[c].Ma=a.Ma):d[c]=
new q.$b(a.Sa,a.Ja,a.Ma,a.Ua,this.sg,c*q.$b.BYTES_PER_ELEMENT)},description:function(){return"\x3ccc.TextureAtlas | totalQuads \x3d"+this.Ta+"\x3e"},EG:function(){if(0!==this.dd)for(var a=this.rd,c=this.dd,d=0;d<c;d++)q.dF?(a[6*d+0]=4*d+0,a[6*d+1]=4*d+0,a[6*d+2]=4*d+2,a[6*d+3]=4*d+1,a[6*d+4]=4*d+3,a[6*d+5]=4*d+3):(a[6*d+0]=4*d+0,a[6*d+1]=4*d+1,a[6*d+2]=4*d+2,a[6*d+3]=4*d+3,a[6*d+4]=4*d+2,a[6*d+5]=4*d+1)},TP:function(){var a=q.U;this.zi[0]=a.createBuffer();this.zi[1]=a.createBuffer();this.xr=a.createBuffer();
this.dG()},dG:function(){var a=q.U;a.bindBuffer(a.ARRAY_BUFFER,this.xr);a.bufferData(a.ARRAY_BUFFER,this.sg,a.DYNAMIC_DRAW);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.zi[1]);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.rd,a.STATIC_DRAW)},Zi:function(a,c){var d=q.sa.e().Ia(a);if(d)return this.La(d,c);q.log("cocos2d: Could not open file: "+a);return!1},La:function(a,c){if(!a)throw"cc.TextureAtlas.initWithTexture():texture should be non-null";this.dd=c|=0;this.Ta=0;this.Da=a;this.Ke=[];this.rd=new Uint16Array(6*
c);var d=q.$b.BYTES_PER_ELEMENT;this.sg=new ArrayBuffer(d*c);this.tg=new Uint8Array(this.sg);if((!this.Ke||!this.rd)&&0<c)return!1;for(var e=this.Ke,f=0;f<c;f++)e[f]=new q.$b(null,null,null,null,this.sg,f*d);this.EG();this.TP();return this.Ha=!0},Wx:function(a,c){if(!a)throw"cc.TextureAtlas.updateQuad(): quad should be non-null";if(0>c||c>=this.dd)throw"cc.TextureAtlas.updateQuad(): Invalid index";this.Ta=Math.max(c+1,this.Ta);this.Nv(a,c);this.Ha=!0},GC:function(a,c){if(c>=this.dd)throw"cc.TextureAtlas.insertQuad(): Invalid index";
this.Ta++;if(this.Ta>this.dd)q.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");else{var d=q.$b.BYTES_PER_ELEMENT,e=c*d,f=(this.Ta-1-c)*d;this.Ke[this.Ta-1]=new q.$b(null,null,null,null,this.sg,(this.Ta-1)*d);this.tg.set(this.tg.subarray(e,e+f),e+d);this.Nv(a,c);this.Ha=!0}},W6:function(a,c,d){d=d||a.length;if(c+d>this.dd)throw"cc.TextureAtlas.insertQuad(): Invalid index + amount";var e=q.$b.BYTES_PER_ELEMENT;this.Ta+=d;if(this.Ta>this.dd)q.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");
else{var f=c*e,g=(this.Ta-1-c-d)*e,h=this.Ta-1-d,k;for(k=0;k<d;k++)this.Ke[h+k]=new q.$b(null,null,null,null,this.sg,(this.Ta-1)*e);this.tg.set(this.tg.subarray(f,f+g),f+e*d);for(k=0;k<d;k++)this.Nv(a[k],c+k);this.Ha=!0}},V6:function(a,c){if(a!==c){if(0>c&&c>=this.Ta)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid newIndex";if(0>a&&a>=this.Ta)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid fromIndex";var d=q.$b.BYTES_PER_ELEMENT,e=this.tg,f=e.subarray(a*d,d),g;a>c?(g=c*d,e.set(e.subarray(g,
g+(a-c)*d),g+d),e.set(f,g)):(g=(a+1)*d,e.set(e.subarray(g,g+(c-a)*d),g-d),e.set(f,c*d));this.Ha=!0}},sV:function(a){if(a>=this.Ta)throw"cc.TextureAtlas.removeQuadAtIndex(): Invalid index";var c=q.$b.BYTES_PER_ELEMENT;this.Ta--;this.Ke.length=this.Ta;if(a!==this.Ta){var d=(a+1)*c;this.tg.set(this.tg.subarray(d,d+(this.Ta-a)*c),d-c)}this.Ha=!0},c$:function(a,c){if(a+c>this.Ta)throw"cc.TextureAtlas.removeQuadsAtIndex(): index + amount out of bounds";this.Ta-=c;if(a!==this.Ta){var d=q.$b.BYTES_PER_ELEMENT,
e=(a+c)*d;this.tg.set(this.tg.subarray(e,e+(this.Ta-a)*d),a*d)}this.Ha=!0},mV:function(){this.Ta=this.Ke.length=0},C0:function(a){this.Ha=a},yV:function(a){if(a==this.dd)return!0;var c=q.$b.BYTES_PER_ELEMENT,d=this.dd;this.Ta=Math.min(this.Ta,a);var e=this.dd=0|a,f=this.Ta;if(null==this.Ke)for(this.Ke=[],this.sg=new ArrayBuffer(c*e),this.tg=new Uint8Array(this.sg),a=0;a<e;a++)this.Ke=new q.$b(null,null,null,null,this.sg,a*c);else{var g,h,k=this.Ke;if(e>d){g=[];h=new ArrayBuffer(c*e);for(a=0;a<f;a++)g[a]=
new q.$b(k[a].Sa,k[a].Ja,k[a].Ma,k[a].Ua,h,a*c);for(;a<e;a++)g[a]=new q.$b(null,null,null,null,h,a*c)}else for(f=Math.max(f,e),g=[],h=new ArrayBuffer(c*e),a=0;a<f;a++)g[a]=new q.$b(k[a].Sa,k[a].Ja,k[a].Ma,k[a].Ua,h,a*c);this.tg=new Uint8Array(h);this.Ke=g;this.sg=h}null==this.rd?this.rd=new Uint16Array(6*e):e>d?(c=new Uint16Array(6*e),c.set(this.rd,0),this.rd=c):this.rd=this.rd.subarray(0,6*e);this.EG();this.dG();return this.Ha=!0},N6:function(a){this.Ta+=a},x8:function(a,c,d){if(2==arguments.length){d=
c;c=this.Ta-a;if(d+(this.Ta-a)>this.dd)throw"cc.TextureAtlas.moveQuadsFromIndex(): move is out of bounds";if(0===c)return}else{if(d+c>this.Ta)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid newIndex";if(a>=this.Ta)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid oldIndex";if(a==d)return}var e=q.$b.BYTES_PER_ELEMENT,f=a*e,g=c*e,h=this.tg,k=h.subarray(f,f+g),l=d*e,m;d<a?(m=d*e,h.set(h.subarray(m,m+(a-d)*e),m+g)):(m=(a+c)*e,h.set(h.subarray(m,m+(d-a)*e),f));h.set(k,l);this.Ha=!0},S2:function(a,
c){for(var d=c*q.$b.BYTES_PER_ELEMENT,e=new Uint8Array(this.sg,a*q.$b.BYTES_PER_ELEMENT,d),f=0;f<d;f++)e[f]=0},KH:function(a,c){c=c||0;if(0!==a&&this.Da&&this.Da.Fg()){var d=q.U;q.Cg(this.Da);q.qe(q.uu);d.bindBuffer(d.ARRAY_BUFFER,this.xr);this.Ha&&d.bufferData(d.ARRAY_BUFFER,this.sg,d.DYNAMIC_DRAW);d.vertexAttribPointer(q.Fe,3,d.FLOAT,!1,24,0);d.vertexAttribPointer(q.rq,4,d.UNSIGNED_BYTE,!0,24,12);d.vertexAttribPointer(q.sq,2,d.FLOAT,!1,24,16);this.Ha&&(this.Ha=!1);d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,
this.zi[1]);q.dF?d.drawElements(d.TRIANGLE_STRIP,6*a,d.UNSIGNED_SHORT,6*c*this.rd.BYTES_PER_ELEMENT):d.drawElements(d.TRIANGLES,6*a,d.UNSIGNED_SHORT,6*c*this.rd.BYTES_PER_ELEMENT);q.ai++}},OR:function(){this.KH(this.Ta,0)},z0:function(){var a=q.U;this.zi&&(this.zi[0]&&a.deleteBuffer(this.zi[0]),this.zi[1]&&a.deleteBuffer(this.zi[1]));this.xr&&a.deleteBuffer(this.xr)}});q.Xn.create=function(a,c){var d=new q.Xn;return d&&d.Zi(a,c)?d:null};q.Xn.fb=function(a,c){var d=new q.Xn;return d&&d.La(a,c)?d:null};q.kq=q.C.extend({ctor:function(){q.C.prototype.ctor.call(this);this.Mk=!0;this.L(0.5,0.5);this.T(q.V.e().Pb)}});q.kq.create=function(){return new q.kq};q.Ty=0;q.w_=1;
q.Qc=q.C.extend({Ok:!1,Nk:!1,Do:!1,al:0,Xr:q.Ty,jm:!1,Mo:0,ctor:function(){q.C.prototype.ctor.call(this);this.Do=this.Nk=this.Ok=!1;this.al=0;this.Xr=q.Ty;this.jm=!1;this.Mo=0},nO:function(){this.L(0.5,0.5);this.Mk=!0;var a=q.V.e();this.T(a.Pb)},s:function(){q.C.prototype.s.call(this);this.nO();return!0},kx:function(){this.Xr===q.Ty?q.gV(this,this.al):q.eD(this.al,!0,this)},t7:function(){return this.jm},vx:function(a){if(!q.Td)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.jm!=
a&&(this.jm=a,this.Ne&&(a?q.V.e().xf().kH(this,this.Mo):q.V.e().xf().FJ(this)))},xaa:function(a){if(!q.Td)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.Mo!==a&&(this.Mo=a,this.jm&&(this.vx(!1),this.vx(!0)))},J4:function(){return this.Mo},M7:function(){return this.Ok},Tb:function(a){this.Ok!==a&&(this.Ok=a,this.Ne&&(a?this.kx():q.WK(this)))},l6:function(){return this.al},Vp:function(a){this.al!==a&&(this.al=a,this.Ok&&(this.Tb(!1),this.Tb(!0)))},k6:function(){return this.Xr},
ED:function(a){this.Xr!==a&&(this.Xr=a,this.Ok&&(this.Tb(!1),this.Tb(!0)))},c7:function(){return this.Nk},y$:function(a){if(!q.rk)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";if(a!==this.Nk&&(this.Nk=a,this.Ne)){var c=q.V.e();a?c.qp().yh(this):c.qp().yh(null)}},RV:function(a){this.Nk&&q.rk&&q.V.e().qp().RV(a)},O8:function(){q.log("onAccelerometer event should be handled.")},s7:function(){return this.Do},oaa:function(a){if(!q.Pn)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";
if(a!==this.Do&&(this.Do=a,this.Ne)){var c=q.V.e();a?c.Gw().wQ(this):c.Gw().oV(this)}},Ig:function(){var a=q.V.e();this.Ok&&this.kx();q.C.prototype.Ig.call(this);this.Nk&&q.rk&&a.qp().yh(this);this.Do&&q.Pn&&a.Gw().wQ(this);this.jm&&q.Td&&a.xf().kH(this,this.Mo)},Md:function(){var a=q.V.e();this.Ok&&q.WK(this);this.Nk&&q.rk&&a.qp().yh(null);this.Do&&q.Pn&&a.Gw().oV(this);this.jm&&q.Td&&a.xf().FJ(this);q.C.prototype.Md.call(this)},hi:function(){this.Nk&&q.rk&&q.V.e().qp().yh(this);q.C.prototype.hi.call(this)},
jb:function(){q.log("onTouchBegan event should be handled.");return!0},md:function(){},Cf:function(){},gk:function(){},gJ:function(){},jJ:function(){},iJ:function(){},hJ:function(){},hU:function(){return!1},iU:function(){return!1},ii:function(){return!1},lU:function(){return!1},pU:function(){return!1},qU:function(){return!1},rU:function(){return!1},mU:function(){return!1},nU:function(){return!1},oU:function(){return!1},sU:function(){return!1},jU:function(){return!1},kU:function(){return!1},RC:function(){},
ul:function(){}});q.Qc.create=function(){var a=new q.Qc;return a&&a.s()?a:null};
q.Dh=q.Qc.extend({hb:!0,Vb:0,ug:0,Ec:null,be:null,Wd:!1,pd:!1,ctor:function(){q.Qc.prototype.ctor.call(this);this.hb=!0;this.ug=this.Vb=255;this.Ec=q.xb();this.be=q.xb();this.pd=this.Wd=!1},s:function(){return q.Qc.prototype.s.call(this)?(this.UJ(!1),this.TJ(!1),!0):!1},Wi:function(){return this.ug},iS:function(){return this.Vb},fa:function(a){this.Vb=this.ug=a;a=255;var c=this.X;c&&c.hb&&c.Wd&&(a=c.Vb);this.ad(a)},ad:function(a){this.Vb=0|this.ug*a/255;if(this.Wd){a=this.t;for(var c=0;c<a.length;c++){var d=
a[c];d&&d.hb&&d.ad(this.Vb)}}},HT:function(){return this.Wd},UJ:function(a){this.Wd!==a&&((this.Wd=a)?this.Uq():this.Qz())},Uq:function(){var a=255,c=this.X;c&&c.hb&&c.Wd&&(a=c.Vb);this.ad(a)},Qz:function(){this.Vb=this.ug;for(var a=this.t,c=0;c<a.length;c++){var d=a[c];d&&d.hb&&d.ad(255)}},vd:function(){var a=this.be;return q.k(a.p,a.o,a.g)},ns:function(){var a=this.Ec;return q.k(a.p,a.o,a.g)},l:function(a){var c=this.Ec,d=this.be;c.p=d.p=a.p;c.o=d.o=a.o;c.g=d.g=a.g;a=(a=this.X)&&a.hb&&a.pd?a.ns():
q.xb();this.$c(a)},$c:function(a){var c=this.Ec,d=this.be;c.p=0|d.p*a.p/255;c.o=0|d.o*a.o/255;c.g=0|d.g*a.g/255;if(this.pd)for(a=this.t,d=0;d<a.length;d++){var e=a[d];e&&e.hb&&e.$c(c)}},GT:function(){return this.pd},TJ:function(a){this.pd!==a&&((this.pd=a)?this.Tq():this.Pz())},Tq:function(){var a;a=(a=this.X)&&a.hb&&a.pd?a.ns():q.xb();this.$c(a)},Pz:function(){var a=this.Ec,c=this.be;a.p=c.p;a.o=c.o;a.g=c.g;for(var a=this.t,c=q.xb(),d=0;d<a.length;d++){var e=a[d];e&&e.hb&&e.$c(c)}},f:function(a,
c,d){q.C.prototype.f.call(this,a,c,d);this.pd&&this.Tq();this.Wd&&this.Uq()},Ff:function(){},nl:function(){return!1}});
q.da=q.Dh.extend({ea:null,ms:function(){return this.ea},N1:function(a,c){this.T(a,c)},uH:function(a){this.T(a,this.qa.pa)},K1:function(a){this.T(this.qa.Fa,a)},Ff:function(){},nl:function(){return!1},l:function(a){q.Dh.prototype.l.call(this,a);this.td()},fa:function(a){q.Dh.prototype.fa.call(this,a);this.td()},Eo:!1,IG:null,iB:null,BB:null,Dz:null,kB:null,jB:null,Hh:function(){q.Dh.prototype.ctor.call(this);this.ea=new q.Ol(q.Ce,q.Be)},Ih:function(){q.Dh.prototype.ctor.call(this);this.ea=new q.Ol(q.Ce,
q.Be);this.kB=new ArrayBuffer(32);this.jB=new ArrayBuffer(64);var a=this.kB,c=this.jB,d=q.Ab.BYTES_PER_ELEMENT,e=q.Rd.BYTES_PER_ELEMENT;this.IG=[new q.Ab(0,0,a,0),new q.Ab(0,0,a,d),new q.Ab(0,0,a,2*d),new q.Ab(0,0,a,3*d)];this.iB=[new q.Rd(0,0,0,1,c,0),new q.Rd(0,0,0,1,c,e),new q.Rd(0,0,0,1,c,2*e),new q.Rd(0,0,0,1,c,3*e)];this.BB=q.U.createBuffer();this.Dz=q.U.createBuffer()},yl:function(a,c){this.ea=1==arguments.length?a:{src:a,Fb:c};q.yd===q.gg&&(this.Eo=this.ea&&1==this.ea.src&&771==this.ea.Fb)},
s:function(a,c,d){if(!q.Qc.prototype.s.call(this))return!1;q.yd!==q.gg&&this.Lg(q.Fh.e().ki(q.FM));var e=q.V.e().Pb;a=a||new q.Nb(0,0,0,255);c=c||e.width;d=d||e.height;e=this.Ec;e.p=a.p;e.o=a.o;e.g=a.g;e=this.be;e.p=a.p;e.o=a.o;e.g=a.g;this.ug=this.Vb=a.H;this.T(c,d);this.td();return!0},T:null,yP:function(a,c){var d=this.IG;2===arguments.length?(d[1].x=a,d[2].y=c,d[3].x=a,d[3].y=c,this.zF(),q.Qc.prototype.T.call(this,a,c)):(d[1].x=a.width,d[2].y=a.height,d[3].x=a.width,d[3].y=a.height,this.zF(),q.Qc.prototype.T.call(this,
a))},td:null,iQ:function(){},jQ:function(){for(var a=this.Ec,c=this.Vb,d=this.iB,e=0;4>e;e++)d[e].p=a.p/255,d[e].o=a.o/255,d[e].g=a.g/255,d[e].H=c/255;this.yF()},$c:function(a){q.Dh.prototype.$c.call(this,a);this.td()},ad:function(a){q.Dh.prototype.ad.call(this,a);this.td()},zF:function(){var a=q.U;a.bindBuffer(a.ARRAY_BUFFER,this.BB);a.bufferData(a.ARRAY_BUFFER,this.kB,a.STATIC_DRAW)},yF:function(){var a=q.U;a.bindBuffer(a.ARRAY_BUFFER,this.Dz);a.bufferData(a.ARRAY_BUFFER,this.jB,a.STATIC_DRAW)},
Va:null,dm:function(a){a=a||q.U;var c=this.d(),d=q.oa.e(),e=this.Ec;a.fillStyle="rgba("+(0|e.p)+","+(0|e.o)+","+(0|e.g)+","+this.Vb/255+")";a.fillRect(0,0,c.width*d.ra,-c.height*d.za);q.ai++},pg:function(a){a=a||q.U;q.By(this);q.qe(q.Wg|q.ZM);a.bindBuffer(a.ARRAY_BUFFER,this.BB);a.vertexAttribPointer(q.Fe,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Dz);a.vertexAttribPointer(q.rq,4,a.FLOAT,!1,0,0);q.bk(this.ea.src,this.ea.Fb);a.drawArrays(a.TRIANGLE_STRIP,0,4)}});
q.Ea.Pc?(q.da.prototype.ctor=q.da.prototype.Ih,q.da.prototype.T=q.da.prototype.yP,q.da.prototype.td=q.da.prototype.jQ,q.da.prototype.Va=q.da.prototype.pg):(q.da.prototype.ctor=q.da.prototype.Hh,q.da.prototype.T=q.Dh.prototype.T,q.da.prototype.td=q.da.prototype.iQ,q.da.prototype.Va=q.da.prototype.dm);q.da.create=function(a,c,d){var e=new q.da;switch(arguments.length){case 0:e.s();break;case 1:e.s(a);break;case 3:e.s(a,c,d);break;default:e.s()}return e};
q.BE=q.da.extend({JG:null,xo:null,Vo:null,yo:null,Wl:null,Ou:!1,er:null,dr:null,ctor:function(){q.da.prototype.ctor.call(this);this.JG=new q.Ac(0,0,0);this.xo=new q.Ac(0,0,0);this.Wl=q.a(0,-1);this.yo=this.Vo=255;this.er=q.a(0,0);this.dr=q.a(0,0)},T:function(a,c){2===arguments.length?q.da.prototype.T.call(this,a,c):q.da.prototype.T.call(this,a);this.td()},P5:function(){return this.be},gba:function(a){this.l(a)},W$:function(a){this.xo=a;this.td()},T3:function(){return this.xo},hba:function(a){this.Vo=
a;this.td()},Q5:function(){return this.Vo},X$:function(a){this.yo=a;this.td()},U3:function(){return this.yo},yba:function(a){this.Wl.x=a.x;this.Wl.y=a.y;this.td()},p6:function(){return q.a(this.Wl.x,this.Wl.y)},h7:function(){return this.Ou},M$:function(a){this.Ou=a;this.td()},s:function(a,c,d){a=a||q.PB(0,0,0,255);c=c||q.PB(0,0,0,255);d=d||q.a(0,-1);var e=this.JG,f=this.xo;e.p=a.p;e.o=a.o;e.g=a.g;this.Vo=a.H;f.p=c.p;f.o=c.o;f.g=c.g;this.yo=c.H;this.Wl=d;this.Ou=!0;q.da.prototype.s.call(this,q.i(a.p,
a.o,a.g,255));return!0},Va:function(a){if(q.yd===q.xk)q.da.prototype.Va.call(this,a);else{a=a||q.U;this.Eo&&(a.globalCompositeOperation="lighter");a.save();var c=q.oa.e(),d=this.Vb/255,e=this.d().width*c.ra,c=this.d().height*c.za,f=a.createLinearGradient(this.er.x,this.er.y,this.dr.x,this.dr.y),g=this.Ec,h=this.xo;f.addColorStop(0,"rgba("+Math.round(g.p)+","+Math.round(g.o)+","+Math.round(g.g)+","+(this.Vo/255*d).toFixed(4)+")");f.addColorStop(1,"rgba("+Math.round(h.p)+","+Math.round(h.o)+","+Math.round(h.g)+
","+(this.yo/255*d).toFixed(4)+")");a.fillStyle=f;a.fillRect(0,0,e,-c);0!=this.pP&&a.rotate(this.A0);a.restore()}},td:function(){var a=this.Wl;if(q.yd===q.gg){var c=0.5*this.d().width,d=0.5*this.d().height;this.er.x=c*-a.x+c;this.er.y=d*a.y-d;this.dr.x=c*a.x+c;this.dr.y=d*-a.y-d}else if(d=q.UC(a),0!==d){c=Math.sqrt(2);a=q.a(a.x/d,a.y/d);this.Ou&&(a=q.cj(a,1/(Math.abs(a.x)+Math.abs(a.y))*c));var e=this.Vb/255,f=this.Ec,g=this.xo,d=f.p/255,h=f.o/255,f=f.g/255,k=this.Vo*e/255,l=g.p/255,m=g.o/255,g=g.g/
255,e=this.yo*e/255,n=this.iB,r=n[0],p=n[1],t=n[2],n=n[3];r.p=l+(c+a.x+a.y)/(2*c)*(d-l);r.o=m+(c+a.x+a.y)/(2*c)*(h-m);r.g=g+(c+a.x+a.y)/(2*c)*(f-g);r.H=e+(c+a.x+a.y)/(2*c)*(k-e);p.p=l+(c-a.x+a.y)/(2*c)*(d-l);p.o=m+(c-a.x+a.y)/(2*c)*(h-m);p.g=g+(c-a.x+a.y)/(2*c)*(f-g);p.H=e+(c-a.x+a.y)/(2*c)*(k-e);t.p=l+(c+a.x-a.y)/(2*c)*(d-l);t.o=m+(c+a.x-a.y)/(2*c)*(h-m);t.g=g+(c+a.x-a.y)/(2*c)*(f-g);t.H=e+(c+a.x-a.y)/(2*c)*(k-e);n.p=l+(c-a.x-a.y)/(2*c)*(d-l);n.o=m+(c-a.x-a.y)/(2*c)*(h-m);n.g=g+(c-a.x-a.y)/(2*c)*
(f-g);n.H=e+(c-a.x-a.y)/(2*c)*(k-e);this.yF()}}});q.BE.create=function(a,c,d){var e=new q.BE;switch(arguments.length){case 2:if(e&&e.s(a,c))return e;break;case 3:if(e&&e.s(a,c,d))return e;break;case 0:if(e&&e.s())return e;break;default:throw"Arguments error ";}return null};
q.CE=q.Qc.extend({Hk:0,$g:null,S6:function(a){this.$g=[];this.$g.push(a);this.Hk=0;this.f(a);return!0},rT:function(a){this.$g=a;this.Hk=0;this.f(this.$g[this.Hk]);return!0},fca:function(a){a>=this.$g.length?q.log("cc.LayerMultiplex.switchTo():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.$g[this.Hk],!0),this.Hk=a,this.f(this.$g[a]))},gca:function(a){a>=this.$g.length?q.log("cc.LayerMultiplex.switchToAndReleaseMe():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.$g[this.Hk],
!0),this.$g[this.Hk]=null,this.Hk=a,this.f(this.$g[a]))},U0:function(a){a?this.$g.push(a):q.log("cc.Layer.addLayer(): layer should be non-null")}});q.CE.create=function(){0<arguments.length&&null==arguments[arguments.length-1]&&q.log("parameters should not be ending with null in Javascript");var a=new q.CE;return a.rT(arguments)?a:null};q.Ny=-1;
q.pp=function(a){function c(){var c=q.pp,e=a.width,h=a.height;d[0].width=e;d[0].height=h;d[1].width=e;d[1].height=h;d[2].width=e;d[2].height=h;d[3].width=e;d[3].height=h;c.canvas.width=e;c.canvas.height=h;var k=c.canvas.getContext("2d");k.drawImage(a,0,0);c.OD.width=e;c.OD.height=h;for(var k=k.getImageData(0,0,e,h).data,l=0;4>l;l++){var m=d[l].getContext("2d");m.getImageData(0,0,e,h).data;c.SK.drawImage(a,0,0);for(var n=c.SK.getImageData(0,0,e,h),r=n.data,p=0;p<k.length;p+=4)r[p]=0===l?k[p]:0,r[p+
1]=1===l?k[p+1]:0,r[p+2]=2===l?k[p+2]:0,r[p+3]=k[p+3];m.putImageData(n,0,0)}a.onload=null}if(a.hasOwnProperty("channelCache"))return a.eR;var d=[document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas")];try{c()}catch(e){a.onload=c}return a.eR=d};q.pp.canvas=document.createElement("canvas");q.pp.OD=document.createElement("canvas");q.pp.SK=q.pp.OD.getContext("2d");
q.b3=function(a,c,d){d||(d=q.rect(0,0,a.width,a.height),d=q.iq(d));c=c instanceof q.Rd?q.i(255*c.p,255*c.o,255*c.g,255*c.H):q.i(c.p,c.o,c.g,50);var e=document.createElement("canvas"),f=e.getContext("2d");e.width!=d.width&&(e.width=d.width);e.height!=d.height&&(e.height=d.height);f.save();f.drawImage(a,d.x,d.y,d.width,d.height,0,0,d.width,d.height);f.globalCompositeOperation="source-in";f.globalAlpha=c.H/255;f.fillStyle="rgb("+c.p+","+c.o+","+c.g+")";f.fillRect(0,0,d.width,d.height);f.restore();return e};
q.eC=function(a,c,d,e,f){e||(e=q.rect(0,0,a.width,a.height));a=null==d.H?q.qw(d.p/255,d.o/255,d.g/255,1):d;d=Math.min(e.width,c[0].width);var g=Math.min(e.height,c[0].height),h;f?(h=f.getContext("2d"),h.clearRect(0,0,d,g)):(f=document.createElement("canvas"),f.width=d,f.height=g,h=f.getContext("2d"));h.save();h.globalCompositeOperation="lighter";var k=h.globalAlpha;0<a.p&&(h.globalAlpha=a.p*k,h.drawImage(c[0],e.x,e.y,d,g,0,0,d,g));0<a.o&&(h.globalAlpha=a.o*k,h.drawImage(c[1],e.x,e.y,d,g,0,0,d,g));
0<a.g&&(h.globalAlpha=a.g*k,h.drawImage(c[2],e.x,e.y,d,g,0,0,d,g));1>a.p+a.o+a.g&&(h.globalAlpha=k,h.drawImage(c[3],e.x,e.y,d,g,0,0,d,g));h.restore();return f};q.AH=function(a,c){if(!a)return null;if(!c)return a;var d=document.createElement("canvas");d.width=c.width;d.height=c.height;var e=d.getContext("2d");e.translate(d.width/2,d.height/2);e.rotate(-1.5707963267948966);e.drawImage(a,c.x,c.y,c.height,c.width,-c.height/2,-c.width/2,c.height,c.width);return d};
q.E_=function(a,c,d,e,f,g){this.scale=c;this.rotation=d;this.Dl=e;this.visible=g};q.ig=function(a){return 0|a};q.IM&&(q.ig=function(a){return a});
q.w=q.yb.extend({hb:!0,Ra:null,Vc:0,ib:null,Ha:!1,Mh:null,Gi:null,Wk:!1,Gm:null,ea:null,Da:null,wa:null,Wc:!1,cc:null,Uh:null,jc:!1,hc:!1,ic:!1,ob:!1,Gd:null,kG:null,UK:function(){return this.ob},Uf:function(a,c){this.Gd.push({ak:a,$h:c})},Vd:function(){for(var a=this.Gd,c=0,d=a.length;c<d;c++){var e=a[c];e.ak.call(e.$h,this)}a.length=0},MI:function(){return this.Ha},Kg:function(a){this.Ha=a},K7:function(){return this.Wc},i3:function(){return this.Vc},ze:function(a){this.Vc=a},nC:function(){return q.rect(this.wa.x,
this.wa.y,this.wa.width,this.wa.height)},jI:function(){return this.Ra},Up:function(a){this.Ra=a},O5:function(){return this.ib},fba:function(a){this.ib=a},V4:function(){return this.cc},ms:function(){return this.ea},we:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrame(): spriteFrame should be non-null";a.ob||(this.ob=!1,a.Uf(this.gB,this));var c=this.La(a.aa(),a.pe());this.Pp(a);return c},gB:null,YP:function(a){this.Wa();this.Lb(a.pe(),a.hd,a.gd);this.Vd()},XP:function(a){this.Wa();this.Lb(a.pe(),
a.hd,a.gd);a=this.vd();255===a.p&&255===a.o&&255===a.g||this.Ku();this.Vd()},FI:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";a=q.kg.e().sh(a);return this.we(a)},Kca:function(a){this.Ra=a.Ra;this.ib=a},GD:function(a){this.wa.x=a.x;this.wa.y=a.y;this.wa.width=a.width;this.wa.height=a.height},Nd:function(){if(this.ce){for(var a,c,d=this.t,e,f=1;f<d.length;f++){c=d[f];a=f-1;for(e=d[a];0<=a&&(c.cb<e.cb||c.cb==e.cb&&c.Of<e.Of);)d[a+1]=e,a-=1,e=d[a];d[a+
1]=c}this.ib&&this.mg(d,q.C.Jf.Nd);this.ce=!1}},Qs:function(a,c){if(!a)throw"cc.Sprite.reorderChild(): child should be non-null";-1===this.t.indexOf(a)?q.log("cc.Sprite.reorderChild(): this child is not in children list"):c!==a.cb&&(this.ib&&!this.ce&&(this.bB(),this.ib.GJ(!0)),q.C.prototype.Qs.call(this,a,c))},removeChild:function(a,c){this.ib&&this.ib.qn(a);q.C.prototype.removeChild.call(this,a,c)},rc:function(a){var c=this.t,d=this.ib;if(d&&null!=c)for(var e=0,f=c.length;e<f;e++)d.qn(c[e]);q.C.prototype.rc.call(this,
a);this.Gi=!1},ZJ:function(a){this.Mh=a;this.Kg(a);a=this.t;if(null!=a)for(var c=0;c<a.length;c++)a[c]instanceof q.w&&a[c].ZJ(!0)},Vg:function(){this.ib&&!this.Mh&&(this.Ha=this.Mh=!0,this.Gi&&this.ZJ(!0))},n:function(a,c){2<=arguments.length?q.C.prototype.n.call(this,a,arguments[1]):q.C.prototype.n.call(this,a);this.Vg()},Ax:function(a){q.C.prototype.Ax.call(this,a);this.Vg()},Bx:function(a){q.C.prototype.Bx.call(this,a);this.Vg()},Cx:function(a){q.C.prototype.Cx.call(this,a);this.Vg()},Ex:function(a){q.C.prototype.Ex.call(this,
a);this.Vg()},Fx:function(a){q.C.prototype.Fx.call(this,a);this.Vg()},Sp:function(a){q.C.prototype.Sp.call(this,a);this.Vg()},xn:function(a){q.C.prototype.xn.call(this,a);this.Vg()},mk:function(a,c){q.C.prototype.mk.call(this,a,c);this.Vg()},xK:function(a){q.C.prototype.xK.call(this,a);this.Vg()},L:function(a,c){2===arguments.length?q.C.prototype.L.call(this,a,c):q.C.prototype.L.call(this,a);this.Vg()},D:function(a){q.C.prototype.D.call(this,a);this.Vg()},Yi:function(a){this.ib?q.log("cc.Sprite.ignoreAnchorPointForPosition(): it is invalid in cc.Sprite when using SpriteBatchNode"):
q.C.prototype.Yi.call(this,a)},mW:function(a){this.hc!=a&&(this.hc=a,this.Lb(this.wa,this.Wc,this.qa),this.Wa())},nW:function(a){this.ic!=a&&(this.ic=a,this.Lb(this.wa,this.Wc,this.qa),this.Wa())},n7:function(){return this.hc},o7:function(){return this.ic},Ff:null,GP:function(a){this.jc!==a&&(this.jc=a,this.ft())},FP:function(a){this.jc!==a&&(this.jc=a,this.Wa())},nl:function(){return this.jc},ad:null,mQ:function(a){q.yb.prototype.ad.call(this,a);this.ft()},VG:function(a){q.yb.prototype.ad.call(this,
a);this.um()},T$:function(a,c){if(!a)throw"cc.Sprite.setDisplayFrameWithAnimationName(): animationName must be non-null";var d=q.Ll.e().ZH(a);d?(d=d.Zd[c])?this.Pp(d.sh()):q.log("cc.Sprite.setDisplayFrameWithAnimationName(): Invalid frame index"):q.log("cc.Sprite.setDisplayFrameWithAnimationName(): Frame not found")},l3:function(){return this.ib},bB:function(){if(!this.ce){this.ce=!0;for(var a=this.X;a&&a!=this.ib;)a.bB(),a=a.getParent()}},aa:function(){return this.Da},Ib:null,Iv:null,sf:!1,Nu:!1,
Eo:!1,qg:null,ap:null,Sz:null,ctor:null,Ih:function(a){q.yb.prototype.ctor.call(this);this.Wk=!1;this.cc=q.sd();this.Uh=q.sd();this.ea={src:q.Ce,Fb:q.Be};this.wa=q.rect(0,0,0,0);this.Ib=new q.$b;this.Iv=q.U.createBuffer();this.ob=this.sf=!0;this.Gd=[];if(a)if("string"===typeof a)a=q.kg.e().sh(a),this.we(a);else if("object"===typeof a)if(a instanceof q.Ed)this.we(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new q.Xb;c.Af(a);c.ve();this.La(c)}else a instanceof q.Xb&&
this.La(a)},Hh:function(a){q.yb.prototype.ctor.call(this);this.Wk=!1;this.cc=q.sd();this.Uh=q.sd();this.ea={src:q.Ce,Fb:q.Be};this.wa=q.rect(0,0,0,0);this.kG=!1;this.ob=!0;this.Gd=[];this.ap={x:0,y:0,width:0,height:0,it:!1};this.Sz=q.size(0,0);if(a)if("string"===typeof a)a=q.kg.e().sh(a),this.we(a);else if("object"===typeof a)if(a instanceof q.Ed)this.we(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new q.Xb;c.Af(a);c.ve();this.La(c)}else a instanceof q.Xb&&this.La(a)},
q5:function(){return this.Ib},yl:null,uP:function(a,c){var d=this.ea;1===arguments.length?(d.src=a.src,d.Fb=a.Fb):(d.src=a,d.Fb=c)},tP:function(a,c){var d=this.ea;1===arguments.length?(d.src=a.src,d.Fb=a.Fb):(d.src=a,d.Fb=c);this.Eo=d&&(770==d.src&&1==d.Fb||1==d.src&&1==d.Fb)},s:null,lA:function(){if(0<arguments.length)return this.Zi(arguments[0],arguments[1]);q.yb.prototype.s.call(this);this.Ha=this.Mh=!1;this.jc=!0;this.ea.src=q.Ce;this.ea.Fb=q.Be;this.ka(null);this.ob=!0;this.hc=this.ic=!1;this.L(0.5,
0.5);this.cc.F=0;this.cc.J=0;this.Gi=!1;var a={p:255,o:255,g:255,H:255};this.Ib.Ja.I=a;this.Ib.Ua.I=a;this.Ib.Sa.I=a;this.Ib.Ma.I=a;this.sf=!0;this.Lb(q.cd(),!1,q.Tl());return!0},kA:function(){if(0<arguments.length)return this.Zi(arguments[0],arguments[1]);q.yb.prototype.s.call(this);this.Ha=this.Mh=!1;this.jc=!0;this.ea.src=q.Ce;this.ea.Fb=q.Be;this.ka(null);this.ob=!0;this.hc=this.ic=!1;this.L(0.5,0.5);this.cc.F=0;this.cc.J=0;this.Gi=!1;this.Lb(q.cd(),!1,q.Tl());return!0},Zi:function(a,c){if(!a)throw"cc.Sprite.initWithFile(): filename should be non-null";
var d=q.sa.e().Qx(a);if(!d)d=q.sa.e().Ia(a);else if(!c){var e=d.d();c=q.rect(0,0,e.width,e.height)}return this.La(d,c)},La:null,ir:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";d=d||!1;if(!q.yb.prototype.s.call(this))return!1;this.ib=null;this.Ha=this.Mh=!1;this.jc=!0;this.ea.src=q.Ce;this.ea.Fb=q.Be;this.hc=this.ic=!1;this.L(0.5,0.5);this.cc.F=0;this.cc.J=0;this.Gi=!1;var e=new q.Nb(255,255,255,255),f=this.Ib;f.Ja.I=e;f.Ua.I=e;f.Sa.I=e;f.Ma.I=e;
this.ob=e=a.Fg();if(!e)return this.Wc=d||!1,c&&(e=this.wa,e.x=c.x,e.y=c.y,e.width=c.width,e.height=c.height),a.Uf(this.$v,this),!0;c||(e=a.d(),c=q.rect(0,0,e.width,e.height));this.ka(a);this.Lb(c,d,c.ab);this.Ae(null);return this.sf=!0},hr:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";d=d||!1;if(!q.yb.prototype.s.call(this))return!1;this.ib=null;this.Ha=this.Mh=!1;this.jc=!0;this.ea.src=q.Ce;this.ea.Fb=q.Be;this.hc=this.ic=!1;this.L(0.5,0.5);this.cc.F=
0;this.cc.J=0;this.Gi=!1;var e=a.Fg();this.ob=e;if(!e)return this.Wc=d||!1,c&&(this.wa.x=c.x,this.wa.y=c.y,this.wa.width=c.width,this.wa.height=c.height),a.Uf(this.$v,this),!0;c||(e=a.d(),c=q.rect(0,0,e.width,e.height));this.qg=a;this.ka(a);this.Lb(c,d,c.ab);this.Ae(null);return!0},$v:null,cQ:function(a){if(!this.ob){this.ob=!0;var c=this.wa;if(!c)c=a.d(),c=q.rect(0,0,c.width,c.height);else if(q.yr(c)){var d=a.d();c.width=d.width;c.height=d.height}this.ka(a);this.Lb(c,this.Wc,c.ab);this.Ae(null);
this.sf=!0;this.Vd()}},bQ:function(a){if(!this.ob){this.ob=!0;var c=this.wa;if(!c)c=a.d(),c=q.rect(0,0,c.width,c.height);else if(q.yr(c)){var d=a.d();c.width=d.width;c.height=d.height}this.qg=a;this.ka(a);this.Lb(c,this.Wc,c.ab);this.Ae(null);this.Vd()}},Lb:null,CG:function(a,c,d){this.Wc=c||!1;d=d||a.ab;this.T(d);this.GD(a);this.BG(a);a=this.Uh;this.hc&&(a.F=-a.F);this.ic&&(a.J=-a.J);var e=this.wa;this.cc.F=a.F+(this.qa.Fa-e.width)/2;this.cc.J=a.J+(this.qa.pa-e.height)/2;if(this.ib)this.Ha=!0;else{a=
0+this.cc.F;c=0+this.cc.J;d=a+e.width;var e=c+e.height,f=this.Ib;f.Ja.r={x:a,y:c,z:0};f.Ua.r={x:d,y:c,z:0};f.Sa.r={x:a,y:e,z:0};f.Ma.r={x:d,y:e,z:0};this.sf=!0}},cB:function(a,c,d){this.Wc=c||!1;d=d||a.ab;this.T(d);this.GD(a);c=this.ap;d=q.Cd();c.x=0|a.x*d;c.y=0|a.y*d;c.width=0|a.width*d;c.height=0|a.height*d;c.it=!(0===c.width||0===c.height);a=this.Uh;this.hc&&(a.F=-a.F);this.ic&&(a.J=-a.J);this.cc.F=a.F+(this.qa.Fa-this.wa.width)/2;this.cc.J=a.J+(this.qa.pa-this.wa.height)/2;this.ib&&(this.Ha=!0)},
eg:null,uQ:function(){if(this.Ha){var a=this.Ib,c=this.X;if(!this.va||c&&c!=this.ib&&c.Wk)a.Ua.r={x:0,y:0,z:0},a.Sa.r={x:0,y:0,z:0},a.Ma.r={x:0,y:0,z:0},a.Ja.r={x:0,y:0,z:0},this.Wk=!0;else{this.Wk=!1;var d=this.Gm=c&&c!=this.ib?q.Kl(this.ag(),c.Gm):this.ag(),e=this.wa.ab,c=this.cc.F,f=this.cc.J,g=c+e.width,e=f+e.height,h=d.Ya,k=d.Za,l=d.H,m=d.g,n=d.Ka,d=-d.Aa,r=this.lw;a.Ja.r={x:q.ig(c*l-f*d+h),y:q.ig(c*m+f*n+k),z:r};a.Ua.r={x:q.ig(g*l-f*d+h),y:q.ig(g*m+f*n+k),z:r};a.Sa.r={x:q.ig(c*l-e*d+h),y:q.ig(c*
m+e*n+k),z:r};a.Ma.r={x:q.ig(g*l-e*d+h),y:q.ig(g*m+e*n+k),z:r}}this.Ra.Wx(a,this.Vc);this.Mh=!1;this.Kg(!1)}this.Gi&&this.mg(this.t,q.C.Jf.eg);q.vk&&(a=[q.a(this.Ib.Ja.r.x,this.Ib.Ja.r.y),q.a(this.Ib.Ua.r.x,this.Ib.Ua.r.y),q.a(this.Ib.Ma.r.x,this.Ib.Ma.r.y),q.a(this.Ib.Sa.r.x,this.Ib.Sa.r.y)],q.Xf.ge(a,4,!0))},tQ:function(){if(this.Ha){var a=this.X;!this.va||a&&a!=this.ib&&a.Wk?this.Wk=!0:(this.Wk=!1,this.Gm=a&&a!=this.ib?q.Kl(this.ag(),a.Gm):this.ag());this.Ha=this.Mh=!1}this.Gi&&this.mg(this.t,
q.C.Jf.eg)},f:null,kz:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.cb);null==d&&(d=a.kd);if(this.ib){if(!(a instanceof q.w)){q.log("cc.Sprite.addChild(): cc.Sprite only supports cc.Sprites as children when using cc.SpriteBatchNode");return}a.aa().Xh!==this.Ra.aa().Xh&&q.log("cc.Sprite.addChild(): cc.Sprite only supports a sprite using same texture as children when using cc.SpriteBatchNode");this.ib.appendChild(a);this.ce||this.bB()}q.C.prototype.f.call(this,
a,c,d);this.Gi=!0},jz:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.cb);null==d&&(d=a.kd);q.C.prototype.f.call(this,a,c,d);this.Gi=!0},ft:function(){var a=this.Ec,c=this.Vb,a={p:a.p,o:a.o,g:a.g,H:c};this.jc&&(a.p*=c/255,a.o*=c/255,a.g*=c/255);c=this.Ib;c.Ja.I=a;c.Ua.I=a;c.Sa.I=a;c.Ma.I=a;this.ib&&(this.Vc!=q.Ny?this.Ra.Wx(c,this.Vc):this.Ha=!0);this.sf=!0},fa:null,aB:function(a){q.yb.prototype.fa.call(this,a);this.ft()},Dr:function(a){q.yb.prototype.fa.call(this,
a);this.um()},l:null,YA:function(a){q.yb.prototype.l.call(this,a);this.ft()},Br:function(a){var c=this.vd();if(c.p!==a.p||c.o!==a.o||c.g!==a.g)q.yb.prototype.l.call(this,a),this.Ku(),this.um()},$c:null,lQ:function(a){q.yb.prototype.$c.call(this,a);this.ft()},uB:function(a){var c=this.vd();q.yb.prototype.$c.call(this,a);a=this.Ec;if(c.p!==a.p||c.o!==a.o||c.g!==a.g)this.Ku(),this.um()},Pp:null,AP:function(a){this.Wa();var c=a.Hb;this.Uh.F=c.x;this.Uh.J=c.y;c=a.aa();a.ob||(this.ob=!1,a.Uf(function(a){this.ob=
!0;var c=a.aa();c!=this.Da&&this.ka(c);this.Lb(a.pe(),a.hd,a.gd);this.Vd()},this));c!=this.Da&&this.ka(c);this.Wc=a.hd;this.Lb(a.pe(),this.Wc,a.gd)},zP:function(a){this.Wa();var c=a.Hb;this.Uh.F=c.x;this.Uh.J=c.y;this.Wc=a.hd;var c=a.aa(),d=a.ob;d||(this.ob=!1,a.Uf(function(a){this.ob=!0;var c=a.aa();c!=this.Da&&this.ka(c);this.Lb(a.pe(),a.hd,a.gd);this.Vd()},this));c!=this.Da&&this.ka(c);this.Wc&&(this.qg=c);this.Lb(a.pe(),this.Wc,a.gd);this.Nu=!1;d&&(a=this.vd(),255===a.p&&255===a.o&&255===a.g||
this.Ku())},OI:null,BO:function(a){return q.AJ(a.pe(),this.wa)&&a.aa().getName()==this.Da.getName()&&q.pJ(a.Hb,this.Uh)},AO:function(a){return a.aa()!=this.Da?!1:q.AJ(a.pe(),this.wa)},JR:function(){return q.Ed.fb(this.Da,q.Rn(this.wa),this.Wc,q.wM(this.Uh),q.My(this.qa))},Ae:null,sP:function(a){if(this.ib=a)this.Gm={H:1,g:0,Aa:0,Ka:1,Ya:0,Za:0},this.Up(this.ib.Ra);else{this.Vc=q.Ny;this.Up(null);this.Mh=!1;this.Kg(!1);a=this.cc.F;var c=this.cc.J,d=a+this.wa.width,e=c+this.wa.height,f=this.Ib;f.Ja.r=
{x:a,y:c,z:0};f.Ua.r={x:d,y:c,z:0};f.Sa.r={x:a,y:e,z:0};f.Ma.r={x:d,y:e,z:0};this.sf=!0}},rP:function(a){(this.ib=a)?(this.Gm={H:1,g:0,Aa:0,Ka:1,Ya:0,Za:0},this.Up(this.ib.Ra)):(this.Vc=q.Ny,this.Up(null),this.Mh=!1,this.Kg(!1))},ka:null,Fr:function(a){if(a&&!(a instanceof q.Xb))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.ib&&this.ib.aa()!=a?q.log("cc.Sprite.setTexture(): Batched sprites should use the same texture as the batchnode"):(a?this.Lg(q.Fh.e().ki(q.Ly)):
this.Lg(q.Fh.e().ki(q.FM)),this.ib||this.Da==a||(this.Da=a,this.Hm()))},Er:function(a){if(a&&!(a instanceof q.Xb))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.Da!=a&&(a&&a.Fc instanceof HTMLImageElement&&(this.qg=a),this.Da=a)},Hm:function(){this.ib?q.log("cc.Sprite._updateBlendFunc(): _updateBlendFunc doesn't work when the sprite is rendered using a cc.CCSpriteBatchNode"):this.Da&&this.Da.zs()?(this.ea.src=q.Ce,this.ea.Fb=q.Be,this.Ff(!0)):(this.ea.src=770,
this.ea.Fb=771,this.Ff(!1))},Ku:function(){var a,c=this.Da,d=this.ap;c&&d.it&&this.qg&&(a=c.Fc)&&(c=q.sa.e().kI(this.qg.Fc))&&(this.Nu=!0,a instanceof HTMLCanvasElement&&!this.Wc&&!this.kG?q.eC(a,c,this.Ec,d,a):(a=q.eC(a,c,this.Ec,d),c=new q.Xb,c.Af(a),c.ve(),this.ka(c)))},BG:function(a){a=q.Rn(a);var c=this.ib?this.Ra.aa():this.Da;if(c){var d=c.tp(),e=c.sp(),f,g=this.Ib;this.Wc?(q.Nt?(c=(2*a.x+1)/(2*d),d=c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/
d,f=a.y/e,a=(a.y+a.width)/e),this.hc&&(e=f,f=a,a=e),this.ic&&(e=c,c=d,d=e),g.Ja.A.Oa=c,g.Ja.A.ja=f,g.Ua.A.Oa=c,g.Ua.A.ja=a,g.Sa.A.Oa=d,g.Sa.A.ja=f,g.Ma.A.Oa=d,g.Ma.A.ja=a):(q.Nt?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+a.height)/e),this.hc&&(e=c,c=d,d=e),this.ic&&(e=f,f=a,a=e),g.Ja.A.Oa=c,g.Ja.A.ja=a,g.Ua.A.Oa=d,g.Ua.A.ja=a,g.Sa.A.Oa=c,g.Sa.A.ja=f,g.Ma.A.Oa=d,g.Ma.A.ja=f);this.sf=!0}},Va:null,pg:function(){if(this.ob){var a=
q.U,c=this.Da;c?c.nc&&(this.Gc.kf(),this.Gc.Ng(),q.bk(this.ea.src,this.ea.Fb),q.C6(0,c),q.qe(q.uu),a.bindBuffer(a.ARRAY_BUFFER,this.Iv),this.sf&&(a.bufferData(a.ARRAY_BUFFER,this.Ib.KB,a.DYNAMIC_DRAW),this.sf=!1),a.vertexAttribPointer(0,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(1,4,a.UNSIGNED_BYTE,!0,24,12),a.vertexAttribPointer(2,2,a.FLOAT,!1,24,16),a.drawArrays(a.TRIANGLE_STRIP,0,4)):(this.Gc.kf(),this.Gc.Ng(),q.bk(this.ea.src,this.ea.Fb),q.Cg(null),q.qe(q.Wg|q.ZM),a.bindBuffer(a.ARRAY_BUFFER,this.Iv),
this.sf&&(q.U.bufferData(q.U.ARRAY_BUFFER,this.Ib.KB,q.U.STATIC_DRAW),this.sf=!1),a.vertexAttribPointer(q.Fe,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(q.rq,4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));q.ai++;0!==q.vk&&(1===q.vk?(a=this.Ib,a=[q.a(a.Sa.r.x,a.Sa.r.y),q.a(a.Ja.r.x,a.Ja.r.y),q.a(a.Ua.r.x,a.Ua.r.y),q.a(a.Ma.r.x,a.Ma.r.y)],q.Xf.ge(a,4,!0)):2===q.vk&&(a=this.nC().ab,c=this.cc,a=[q.a(c.x,c.y),q.a(c.x+a.width,c.y),q.a(c.x+a.width,c.y+a.height),q.a(c.x,c.y+a.height)],q.Xf.ge(a,
4,!0)))}},dm:function(a){if(this.ob){a=a||q.U;this.Eo&&(a.globalCompositeOperation="lighter");var c=q.oa.e().ra,d=q.oa.e().za;a.globalAlpha=this.Vb/255;var e=this.wa,f=this.qa,g=this.cc,h=this.Sz,k=0|g.F,l=-g.J-e.height,m=this.ap;h.width=e.width*c;h.height=e.height*d;if(this.hc||this.ic)a.save(),this.hc&&(k=-g.F-e.width,a.scale(-1,1)),this.ic&&(l=g.J,a.scale(1,-1));k*=c;l*=d;this.Da&&m.it?(f=this.Da.Fc,this.Nu?a.drawImage(f,0,0,m.width,m.height,k,l,h.width,h.height):a.drawImage(f,m.x,m.y,m.width,
m.height,k,l,h.width,h.height)):0!==f.Fa&&(h=this.vd(),a.fillStyle="rgba("+h.p+","+h.o+","+h.g+",1)",a.fillRect(k,l,f.Fa*c,f.pa*d));1===q.vk?(a.strokeStyle="rgba(0,255,0,1)",k/=c,l=-(l/d),k=[q.a(k,l),q.a(k+e.width,l),q.a(k+e.width,l-e.height),q.a(k,l-e.height)],q.Xf.ge(k,4,!0)):2===q.vk&&(a.strokeStyle="rgba(0,255,0,1)",c=this.wa.ab,l=-l,k=[q.a(k,l),q.a(k+c.width,l),q.a(k+c.width,l-c.height),q.a(k,l-c.height)],q.Xf.ge(k,4,!0));(this.hc||this.ic)&&a.restore();q.ai++}}});
q.Ea.Pc?(b=q.w.prototype,b.gB=q.w.prototype.YP,b.Ff=q.w.prototype.GP,b.ad=q.w.prototype.mQ,b.ctor=q.w.prototype.Ih,b.yl=q.w.prototype.uP,b.s=q.w.prototype.lA,b.La=q.w.prototype.ir,b.$v=q.w.prototype.cQ,b.Lb=q.w.prototype.CG,b.eg=q.w.prototype.uQ,b.f=q.w.prototype.kz,b.fa=q.w.prototype.aB,b.l=q.w.prototype.YA,b.$c=q.w.prototype.lQ,b.Pp=q.w.prototype.AP,b.OI=q.w.prototype.BO,b.Ae=q.w.prototype.sP,b.ka=q.w.prototype.Fr,b.Va=q.w.prototype.pg):(b=q.w.prototype,b.gB=q.w.prototype.XP,b.Ff=q.w.prototype.FP,
b.ad=q.w.prototype.VG,b.ctor=q.w.prototype.Hh,b.yl=q.w.prototype.tP,b.s=q.w.prototype.kA,b.La=q.w.prototype.hr,b.$v=q.w.prototype.bQ,b.Lb=q.w.prototype.cB,b.eg=q.w.prototype.tQ,b.f=q.w.prototype.jz,b.fa=q.w.prototype.Dr,b.l=q.w.prototype.Br,b.$c=q.w.prototype.uB,b.Pp=q.w.prototype.zP,b.OI=q.w.prototype.AO,b.Ae=q.w.prototype.rP,b.ka=q.w.prototype.Er,b.Va=q.w.prototype.dm);
q.w.fb=function(a,c){var d=arguments.length,e=new q.w;switch(d){case 1:return e&&e.La(a)?e:null;case 2:return e&&e.La(a,c)?e:null;default:throw"Sprite.createWithTexture(): Argument must be non-nil ";}};q.w.create=function(a,c){var d=arguments.length,e=new q.w;if(0===d){if(e.s())return e}else if(e&&e.s(a,c))return e;return null};
q.w.zH=function(a){var c=null;if("string"==typeof a){if(c=q.kg.e().sh(a),!c)return q.log("Invalid spriteFrameName: "+a),null}else return q.log("Invalid argument. Expecting string."),null;return(a=new q.w)&&a.we(c)?a:null};q.w.yH=function(a){var c=new q.w;return c&&c.we(a)?c:null};q.jj=q.Ca.extend({Ir:null,Xd:0,as:null,ctor:function(){this.Xd=0},G:function(){var a=new q.jj;a.we(this.Ir.G(),this.Xd,this.as);return a},uw:function(){return q.G(this)},copy:function(){var a=new q.jj;a.we(this.Ir.G(),this.Xd,this.as);return a},we:function(a,c,d){this.Ir=a;this.Xd=c;this.as=d;return!0},sh:function(){return this.Ir},Gf:function(a){this.Ir=a},M3:function(){return this.Xd},S$:function(a){this.Xd=a},n6:function(){return this.as},wba:function(a){this.as=a}});
q.ij=q.Ca.extend({Zd:null,Jj:0,rm:!1,ta:0,Xd:0,Em:0,ctor:function(){this.Zd=[]},e4:function(){return this.Zd},dK:function(a){this.Zd=a},IB:function(a){var c=new q.jj;c.we(a,1,null);this.Zd.push(c);this.Em++},Z0:function(a){a=q.sa.e().Ia(a);var c=q.cd();c.ab=a.d();a=q.Ed.fb(a,c);this.IB(a)},$0:function(a,c){var d=q.Ed.fb(a,c);this.IB(d)},As:function(a,c,d){q.nt(a,q.jj);this.Xd=c;this.Jj=d;this.dK([]);for(c=0;c<a.length;c++)d=a[c],this.Zd.push(d),this.Em+=d.Xd;return!0},G:function(){var a=new q.ij;
a.As(this.GF(),this.Xd,this.Jj);a.zx(this.rm);return a},uw:function(){var a=new q.ij;a.As(this.GF(),this.Xd,this.Jj);a.zx(this.rm);return a},GF:function(){for(var a=[],c=0;c<this.Zd.length;c++)a.push(this.Zd[c].G());return a},copy:function(){return this.uw(null)},u4:function(){return this.Jj},paa:function(a){this.Jj=a},zx:function(a){this.rm=a},z5:function(){return this.rm},wf:function(){return this.Em*this.Xd},L3:function(){return this.Xd},R$:function(a){this.Xd=a},f6:function(){return this.Em},
GI:function(a,c){q.nt(a,q.Ed);this.Jj=1;this.Xd=c||0;this.dK([]);if(a)for(var d=0;d<a.length;d++){var e=a[d],f=new q.jj;f.we(e,1,null);this.Zd.push(f);this.Em++}return!0},KJ:function(){},fD:function(){}});q.ij.create=function(a,c,d){var e=arguments.length,f=new q.ij;0==e?f.GI(null,0):2==e?f.GI(a,c||0):3==e&&f.As(a,c,d);return f};q.ij.xH=function(a,c,d){var e=new q.ij;e.As(a,c,d);return e};q.Ll=q.Ca.extend({gH:function(a,c){this.Yl[c]=a},W9:function(a){a&&this.Yl.hasOwnProperty(a)&&delete this.Yl[a]},ZH:function(a){return this.Yl.hasOwnProperty(a)?this.Yl[a]:null},oN:function(a,c){var d=a.animations;if(d){var e=1,f=a.properties;if(f)for(var e=null!=f.format?parseInt(f.format):e,f=f.spritesheets,g=q.kg.e(),h=q.Dd.e(),k,l=0;l<f.length;l++)k=h.YH(f[l],c),g.nH(k);switch(e){case 1:this.VO(d);break;case 2:this.WO(d);break;default:q.log("cc.AnimationCache. Invalid animation format")}}else q.log("cocos2d: cc.AnimationCache: No animations were found in provided dictionary.")},
P0:function(a){if(!a)throw"cc.AnimationCache.addAnimations(): Invalid texture file name";var c=q.Dd.e(),d=c.le(a);(c=c.ww(d))?this.oN(c,a):q.log("cc.AnimationCache.addAnimations(): File could not be found")},VO:function(a){var c=q.kg.e(),d;for(d in a){var e=a[d],f=e.frames,e=parseFloat(e.delay)||0,g=null;if(f){for(var g=[],h=0;h<f.length;h++){var k=c.sh(f[h]);if(k){var l=new q.jj;l.we(k,1,null);g.push(l)}else q.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+f[h]+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}0===
g.length?q.log("cocos2d: cc.AnimationCache: None of the frames for animation '"+d+"' were found in the cc.SpriteFrameCache. Animation is not being added to the Animation Cache."):(g.length!=f.length&&q.log("cocos2d: cc.AnimationCache: An animation in your dictionary refers to a frame which is not in the cc.SpriteFrameCache. Some or all of the frames for the animation '"+d+"' may be missing."),g=q.ij.xH(g,e,1),q.Ll.e().gH(g,d))}else q.log("cocos2d: cc.AnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},
WO:function(a){var c=q.kg.e(),d;for(d in a){var e=a[d],f=parseInt(e.loops),f=e.loop?q.Sl:isNaN(f)?1:f,g=e.restoreOriginalFrame&&!0==e.restoreOriginalFrame?!0:!1,h=e.frames;if(h){for(var k=[],l=0;l<h.length;l++){var m=h[l],n=m.spriteframe,r=c.sh(n);if(r){var n=parseFloat(m.delayUnits)||0,m=m.notification,p=new q.jj;p.we(r,n,m);k.push(p)}else q.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+n+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}e=
parseFloat(e.delayPerUnit)||0;h=new q.ij;h.As(k,e,f);h.zx(g);q.Ll.e().gH(h,d)}else q.log("cocos2d: CCAnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},s:function(){this.Yl={};return!0},Yl:null});q.Ll.SU=function(){q.tn&&(q.tn.Yl=null,q.tn=null)};q.Ll.e=function(){null===q.tn&&(q.tn=new q.Ll,q.tn.s());return q.tn};q.tn=null;q.Ed=q.Ca.extend({Hb:null,gd:null,Me:null,hd:!1,wa:null,Nf:null,pf:null,Da:null,$o:"",ob:!1,Xu:null,ctor:function(){this.Hb=q.sd();this.Nf=q.sd();this.gd=q.wm();this.hd=!1;this.pf=q.wm();this.$o="";this.Da=null;this.ob=!1},UK:function(){return this.ob},Uf:function(a,c){null==this.Xu&&(this.Xu=[]);this.Xu.push({ak:a,$h:c})},Vd:function(){var a=this.Xu;if(a){for(var c=0,d=a.length;c<d;c++){var e=a[c];e.ak.call(e.$h,this)}a.length=0}},DS:function(){var a=this.Me;return q.rect(a.x,a.y,a.width,a.height)},
Uaa:function(a){this.Me||(this.Me=q.rect(0,0,0,0));this.Me.x=a.x;this.Me.y=a.y;this.Me.width=a.width;this.Me.height=a.height;this.wa=q.iq(a)},E7:function(){return this.hd},bba:function(a){this.hd=a},pe:function(){var a=this.wa;return q.rect(a.x,a.y,a.width,a.height)},nK:function(a){this.wa||(this.wa=q.rect(0,0,0,0));this.wa.x=a.x;this.wa.y=a.y;this.wa.width=a.width;this.wa.height=a.height;this.Me=q.Rn(this.wa)},U4:function(){return this.Nf},Daa:function(a){this.Nf.F=a.x;this.Nf.J=a.y;q.xu(this.Nf,
this.Hb)},b5:function(){return this.pf},Gaa:function(a){this.pf.Fa=a.width;this.pf.pa=a.height},xS:function(){return this.gd},Faa:function(a){this.gd.Fa=a.width;this.gd.pa=a.height},aa:function(){if(this.Da)return this.Da;if(""!==this.$o){var a=q.sa.e().Ia(this.$o);a&&(this.ob=a.Fg());return a}return null},ka:function(a){if(this.Da!=a){var c=a.Fg();this.ob=c;this.Da=a;c||a.Uf(function(a){this.ob=!0;if(this.hd&&q.yd===q.gg){var c=a.Fc,c=q.AH(c,this.pe()),f=new q.Xb;f.Af(c);f.ve();this.ka(f);c=this.pe();
this.nK(q.rect(0,0,c.width,c.height))}c=this.wa;0===c.width&&0===c.height&&(a=a.d(),this.wa.width=a.width,this.wa.height=a.height,this.Me=q.Rn(this.wa),this.pf.Fa=this.Me.width,this.pf.pa=this.Me.height,this.gd.Fa=a.width,this.gd.pa=a.height);this.Vd()},this)}},T4:function(){return this.Hb},Caa:function(a){this.Hb.F=a.x;this.Hb.J=a.y},G:function(){var a=new q.Ed;a.Sw(this.$o,this.Me,this.hd,this.Nf,this.pf);a.ka(this.Da);return a},uw:function(){var a=new q.Ed;a.Sw(this.$o,this.Me,this.hd,this.Nf,
this.pf);a.ka(this.Da);return a},copy:function(){return this.uw()},La:function(a,c,d,e,f){2===arguments.length&&(c=q.Rn(c));e=e||q.a(0,0);f=f||c.ab;this.ka(a);this.Me=c;this.wa=q.iq(c);this.Nf.F=e.x;this.Nf.J=e.y;q.xu(e,this.Hb);this.pf.Fa=f.width;this.pf.pa=f.height;q.cz(f,this.gd);this.hd=d||!1;return!0},Sw:function(a,c,d,e,f){2===arguments.length&&(c=q.Rn(c));e=e||q.a(0,0);f=f||c.ab;this.Da=null;this.$o=a;this.Me=c;this.wa=q.iq(c);this.hd=d||!1;this.Nf.F=e.x;this.Nf.J=e.y;q.xu(e,this.Hb);this.pf.Fa=
f.width;this.pf.pa=f.height;q.cz(f,this.gd);return!0}});q.Ed.create=function(a,c,d,e,f){var g=new q.Ed;switch(arguments.length){case 2:g.Sw(a,c);break;case 5:g.Sw(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};q.Ed.fb=function(a,c,d,e,f){var g=new q.Ed;switch(arguments.length){case 2:g.La(a,c);break;case 5:g.La(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};
q.Ed.i0=function(a,c,d,e,f){var g=new q.Ed;g.Da=a;g.Me=c;g.wa=q.iq(c);g.Nf.F=e.x;g.Nf.J=e.y;q.xu(g.Nf,g.Hb);g.pf.Fa=f.width;g.pf.pa=f.height;q.cz(g.pf,g.gd);g.hd=d;return g};q.kg=q.Ca.extend({Oe:null,Xk:null,nr:null,ctor:function(){this.Oe={};this.Xk={};this.nr=[]},mz:function(a,c){var d=a.metadata||a.meta,e=a.frames,f=0;d&&(f=d.format,f=1>=f.length?parseInt(f):f);if(0>f||3<f)q.log("format is not supported for cc.SpriteFrameCache.addSpriteFramesWithDictionary");else for(var g in e)if(d=e[g]){var h=this.Oe[g];if(!h){if(0==f){var h=parseFloat(d.x),k=parseFloat(d.y),l=parseFloat(d.width),m=parseFloat(d.height),n=parseFloat(d.offsetX),r=parseFloat(d.offsetY),p=parseInt(d.originalWidth),
d=parseInt(d.originalHeight);p&&d||q.log("cocos2d: WARNING: originalWidth/Height not found on the cc.SpriteFrame. AnchorPoint won't work as expected. Regenrate the .plist");p=Math.abs(p);d=Math.abs(d);h=q.Ed.fb(c,q.rect(h,k,l,m),!1,q.a(n,r),q.size(p,d))}else if(1==f||2==f)h=q.UE(d.frame),k=!1,2==f&&(k=d.rotated),l=q.TE(d.offset),d=q.Py(d.sourceSize),h=q.Ed.fb(c,h,k,l,d);else if(3==f){var h=q.Py(d.spriteSize),k=q.TE(d.spriteOffset),l=q.Py(d.spriteSourceSize),m=q.UE(d.textureRect),n=d.textureRotated,
r=d.aliases,p=g.toString(),t;for(t in r)this.Xk.hasOwnProperty(r[t])&&q.log("cocos2d: WARNING: an alias with name "+t+" already exists"),this.Xk[r[t]]=p;d.hasOwnProperty("spriteSize")&&(m=q.rect(m.x,m.y,h.width,h.height));h=q.Ed.fb(c,m,n,k,l)}else var w=d.filename,k=d.frame,h=d.sourceSize,k=q.rect(k.x,k.y,k.jL,k.ue),d=d.rotated,l=q.a(0,0),h=q.size(h.jL,h.ue),h=q.Ed.fb(c,k,d,l,h);q.yd===q.gg&&h.hd&&h.aa().Fg()&&(d=h.aa().Fc,d=q.AH(d,h.DS()),k=new q.Xb,k.Af(d),k.ve(),h.ka(k),d=h.wa,h.nK(q.rect(0,0,
d.width,d.height)));this.Oe[null!=w?w:g]=h}}},nH:function(a,c){if(!a)throw"cc.SpriteFrameCache.addSpriteFrames(): plist should be non-null";var d=q.Dd.e(),e;"plist"==a.substr(a.lastIndexOf(".",a.length)+1,a.length)?(e=d.le(a),e=d.ww(e)):e=JSON.parse(d.iI(a));switch(arguments.length){case 1:if(!q.cy(this.nr,a)){var f="",g=e.metadata||e.meta;g&&(f=g.textureFileName||g.image);""!=f?f=d.YH(f,a):(f=a,f=f.substr(0,f.lastIndexOf(".",f.length)),f+=".png");(d=q.sa.e().Ia(f))?this.mz(e,d):q.log("cocos2d: cc.SpriteFrameCache: Couldn't load texture")}break;
case 2:if(c instanceof q.Xb)this.mz(e,c);else{if(!c)throw"cc.SpriteFrameCache.addSpriteFrames(): texture name should not be null";(d=q.sa.e().Ia(c))?this.mz(e,d):q.log("cocos2d: cc.SpriteFrameCache: couldn't load texture file. File not found "+c)}break;default:throw"Argument must be non-nil ";}},IB:function(a,c){this.Oe[c]=a},f$:function(){this.Oe=[];this.Xk=[];this.nr={}},e$:function(a){a&&(this.Xk.hasOwnProperty(a)&&delete this.Xk[a],this.Oe.hasOwnProperty(a)&&delete this.Oe[a],this.nr={})},g$:function(a){var c=
q.Dd.e(),d=c.le(a),c=c.ww(d);this.fP(c);q.cy(this.nr,a)&&q.Pd(a)},fP:function(a){a=a.frames;for(var c in a)this.Oe.hasOwnProperty(c)&&delete this.Oe[c]},h$:function(a){for(var c in this.Oe){var d=this.Oe[c];d&&d.aa()==a&&delete this.Oe[c]}},sh:function(a){var c;this.Oe.hasOwnProperty(a)&&(c=this.Oe[a]);if(!c){var d;this.Xk.hasOwnProperty(a)&&(d=this.Xk[a]);d&&(this.Oe.hasOwnProperty(d.toString())&&(c=this.Oe[d.toString()]),c||q.log("cocos2d: cc.SpriteFrameCahce: Frame "+a+" not found"))}return c}});
q.px=null;q.kg.e=function(){q.px||(q.px=new q.kg);return q.px};q.kg.TU=function(){q.px=null};q.gq=29;
q.tb=q.C.extend({Ra:null,ea:null,qd:null,a1:function(a,c,d){if(!a)throw"cc.SpriteBatchNode.addQuadFromSprite(): child should be non-null";if(!(a instanceof q.w))return q.log("cc.SpriteBatchNode.addQuadFromSprite(): SpriteBatchNode only supports cc.Sprites as children"),null;a.ze(c);var e=0,f=this.qd;if(f&&0<f.length)for(var g=0;g<f.length;g++){var h=f[g];h&&h.Vc>=c&&++e}this.qd=q.Ml(f,a,e);q.C.prototype.f.call(this,a,c,d);this.GJ(!1);return this},jI:function(){return this.Ra},Up:function(a){a!=this.Ra&&
(this.Ra=a)},P3:function(){return this.qd},Zi:function(a,c){var d=q.sa.e().Qx(a);d||(d=q.sa.e().Ia(a));return this.La(d,c)},um:function(){this.CF=!0},s:function(a,c){var d=q.sa.e().Qx(a);d||(d=q.sa.e().Ia(a));return this.La(d,c)},Nw:function(){var a=this.Ra.dd,c=Math.floor(4*(a+1)/3);q.log("cocos2d: CCSpriteBatchNode: resizing TextureAtlas capacity from "+a+" to "+c+".");this.Ra.yV(c)||q.log("cocos2d: WARNING: Not enough memory to resize the atlas")},Y9:function(a,c){this.removeChild(this.t[a],c)},
zJ:function(a,c){var d=a.t;if(d&&0<d.length)for(var e=0;e<d.length;e++){var f=d[e];f&&0>f.cb&&(c=this.zJ(f,c))}!a==this&&(a.ze(c),c++);if(d&&0<d.length)for(e=0;e<d.length;e++)(f=d[e])&&0<=f.cb&&(c=this.zJ(f,c));return c},xC:function(a){var c=a.t;return c&&0!=c.length?this.xC(c[c.length-1]):a.Vc},WT:function(a){var c=a.t;return c&&0!=c.length?this.WT(c[c.length-1]):a.Vc},NQ:function(a,c){var d=a.getParent().t,e=q.ey(d,a),f=a.getParent()==this,g=null;0<e&&e<q.WM&&(g=d[e-1]);if(f)return 0==e?0:this.xC(g)+
1;if(0==e)return d=a.getParent(),0>c?d.Vc:d.Vc+1;if(0>g.cb&&0>c||0<=g.cb&&0<=c)return this.xC(g)+1;d=a.getParent();return d.Vc+1},GJ:function(a){this.ce=a},yl:function(a,c){this.ea=1==arguments.length?a:{src:a,Fb:c}},ms:function(){return this.ea},Qs:function(a,c){if(!a)throw"cc.SpriteBatchNode.addChild():child should be non-null";-1===this.t.indexOf(a)?q.log("cc.SpriteBatchNode.addChild(): Child doesn't belong to Sprite"):c!==a.cb&&(q.C.prototype.Qs.call(this,a,c),this.Wa())},removeChild:function(a,
c){null!=a&&(-1===this.t.indexOf(a)?q.log("cc.SpriteBatchNode.addChild(): sprite batch node should contain the child"):(this.qn(a),q.C.prototype.removeChild.call(this,a,c)))},LO:null,Cm:null,L0:!1,qg:null,ctor:null,Hh:function(a){q.C.prototype.ctor.call(this);a&&this.s(a,q.gq)},Ih:function(a){q.C.prototype.ctor.call(this);this.LO=new q.uh;a&&this.s(a,q.gq)},eL:null,qQ:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";a instanceof q.w?(a.Ae(this),a.ze(c),
a.Kg(!0),a.eg()):q.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},rQ:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";if(a instanceof q.w){for(var d=this.Ra.dd;c>=d||d==this.Ra.Ta;)this.Nw();a.Ae(this);a.ze(c);a.Kg(!0);a.eg()}else q.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},Wv:function(a,c){var d=this.qd,e=this.Ra,f=e.Ke,g=d[a],
h=q.$y(f[a]);d[c].ze(a);d[a]=d[c];e.Wx(f[c],a);d[c]=g;e.Wx(h,c)},HI:null,yO:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";a instanceof q.w?(a.Ae(this),a.ze(c),a.Kg(!0),a.eg(),this.t=q.Ml(this.t,a,c)):q.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},zO:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";if(a instanceof q.w){for(var d=this.Ra;c>=d.dd||
d.dd===d.Ta;)this.Nw();a.Ae(this);a.ze(c);d.GC(a.Ib,c);a.Kg(!0);a.eg()}else q.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},UG:function(a,c){var d=0,e=a.t;e&&(d=e.length);var f=0;if(0===d)f=a.Vc,a.ze(c),a.Rp(0),f!=c&&this.Wv(f,c),c++;else{f=!0;0<=e[0].cb&&(f=a.Vc,a.ze(c),a.Rp(0),f!=c&&this.Wv(f,c),c++,f=!1);for(d=0;d<e.length;d++){var g=e[d];f&&0<=g.cb&&(f=a.Vc,a.ze(c),a.Rp(0),f!=c&&this.Wv(f,c),c++,f=!1);c=this.UG(g,c)}f&&(f=a.Vc,a.ze(c),
a.Rp(0),f!=c&&this.Wv(f,c),c++)}return c},Hm:function(){this.Ra.aa().zs()||(this.ea.src=770,this.ea.Fb=771)},La:null,hr:function(a){this.t=[];this.qd=[];this.ea=new q.Ol(q.Ce,q.Be);this.Cm=this.qg=a;return!0},ir:function(a,c){this.t=[];this.qd=[];this.ea=new q.Ol(q.Ce,q.Be);c=c||q.gq;this.Ra=new q.Xn;this.Ra.La(a,c);this.Hm();this.Lg(q.Fh.e().ki(q.Ly));return!0},AT:function(a,c){a.Ae(this);a.ze(c);a.Kg(!0);var d=this.Ra;d.Ta>=d.dd&&this.Nw();d.GC(a.Ib,c);this.qd=q.Ml(this.qd,a,c);var d=c+1,e=this.qd;
if(e&&0<e.length)for(;d<e.length;d++)e[d].ze(e[d].Vc+1);if((e=a.t)&&0<e.length)for(d=0;d<e.length;d++)if(e[d]){var f=this.NQ(e[d],e[d].cb);this.AT(e[d],f)}},appendChild:null,vN:function(a){this.ce=!0;a.Ae(this);a.Kg(!0);this.qd.push(a);a.ze(this.qd.length-1);a=a.t;for(var c=0;c<a.length;c++)this.appendChild(a[c])},wN:function(a){this.ce=!0;a.Ae(this);a.Kg(!0);this.qd.push(a);var c=this.qd.length-1;a.ze(c);var d=this.Ra;d.Ta==d.dd&&this.Nw();d.GC(a.Ib,c);a=a.t;for(c=0;c<a.length;c++)this.appendChild(a[c])},
qn:null,gP:function(a){a.Ae(null);var c=this.qd,d=q.ey(c,a);if(-1!=d){q.bq(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.ze(f.Vc-1)}}if((a=a.t)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.qn(a[c])},hP:function(a){this.Ra.sV(a.Vc);a.Ae(null);var c=this.qd,d=q.ey(c,a);if(-1!=d){q.bq(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.ze(f.Vc-1)}}if((a=a.t)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.qn(a[c])},aa:null,fA:function(){return this.Cm},gA:function(){return this.Ra.aa()},ka:null,Er:function(a){this.Cm=
a;for(var c=this.t,d=0;d<c.length;d++)c[d].ka(a)},Fr:function(a){this.Ra.ka(a);this.Hm()},na:null,Im:function(a){var c=a||q.U;if(this.va){c.save();this.transform(a);var d=this.t;if(d)for(this.Nd(),a=0;a<d.length;a++)d[a]&&d[a].na(c);c.restore()}},Jm:function(a){a=a||q.U;if(this.va){q.Fp();var c=this.Jk;c&&c.Cp()&&(c.NB(),this.Ux());this.Nd();this.transform(a);this.Va(a);c&&c.Cp()&&c.JB(this);q.Ep();this.Rp(0)}},f:null,jz:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";
a instanceof q.w?(c=null==c?a.cb:c,d=null==d?a.kd:d,q.C.prototype.f.call(this,a,c,d),this.appendChild(a),this.Wa()):q.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},kz:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";a instanceof q.w?a.aa()!=this.Ra.aa()?q.log("cc.SpriteBatchNode.addChild(): cc.Sprite is not using the same texture"):(c=null==c?a.cb:c,d=null==d?a.kd:d,q.C.prototype.f.call(this,a,c,d),this.appendChild(a),
this.Wa()):q.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},rc:null,cP:function(a){var c=this.qd;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].Ae(null);q.C.prototype.rc.call(this,a);this.qd=[]},dP:function(a){var c=this.qd;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].Ae(null);q.C.prototype.rc.call(this,a);this.qd=[];this.Ra.mV()},Nd:null,VP:function(){if(this.ce){var a,c=0,d=this.t,e=d.length,f;for(a=1;a<e;a++){var g=d[a],
c=a-1;for(f=d[c];0<=c&&(g.cb<f.cb||g.cb==f.cb&&g.Of<f.Of);)d[c+1]=f,c-=1,f=d[c];d[c+1]=g}0<d.length&&this.mg(d,q.C.Jf.Nd);this.ce=!1}},WP:function(){if(this.ce){var a=this.t,c,d=0,e=a.length,f;for(c=1;c<e;c++){var g=a[c],d=c-1;for(f=a[d];0<=d&&(g.cb<f.cb||g.cb==f.cb&&g.Of<f.Of);)a[d+1]=f,d-=1,f=a[d];a[d+1]=g}if(0<a.length)for(this.mg(a,q.C.Jf.Nd),c=d=0;c<a.length;c++)d=this.UG(a[c],d);this.ce=!1}},Va:null,pg:function(){0!==this.Ra.Ta&&(this.Gc.kf(),this.Gc.Ng(),this.mg(this.t,q.C.Jf.eg),q.bk(this.ea.src,
this.ea.Fb),this.Ra.OR())}});
q.Ea.Pc?(b=q.tb.prototype,b.ctor=q.tb.prototype.Ih,b.eL=q.tb.prototype.rQ,b.HI=q.tb.prototype.zO,b.La=q.tb.prototype.ir,b.appendChild=q.tb.prototype.wN,b.qn=q.tb.prototype.hP,b.aa=q.tb.prototype.gA,b.ka=q.tb.prototype.Fr,b.na=q.tb.prototype.Jm,b.f=q.tb.prototype.kz,b.rc=q.tb.prototype.dP,b.Nd=q.tb.prototype.WP,b.Va=q.tb.prototype.pg):(b=q.tb.prototype,b.ctor=q.tb.prototype.Hh,b.eL=q.tb.prototype.qQ,b.HI=q.tb.prototype.yO,b.La=q.tb.prototype.hr,b.appendChild=q.tb.prototype.vN,b.qn=q.tb.prototype.gP,
b.aa=q.tb.prototype.fA,b.ka=q.tb.prototype.Er,b.na=q.tb.prototype.Im,b.rc=q.tb.prototype.cP,b.f=q.tb.prototype.jz,b.Nd=q.tb.prototype.VP,b.Va=q.C.prototype.Va);q.tb.create=function(a,c){c=c||q.gq;var d=new q.tb;d.s(a,c);return d};q.tb.fb=function(a,c){c=c||q.gq;var d=new q.tb;d.La(a,c);return d};q.CY={zY:0,BY:1,AY:2,yY:3,xY:4};
q.De=q.Ca.extend({pr:0,fG:0,Or:!1,Nr:!1,Sv:!1,Tv:!1,Uv:!1,IO:0,uv:0,vq:"",Vj:null,ctor:function(){this.fG=this.pr=0;this.Uv=this.Tv=this.Sv=this.Nr=this.Or=!1;this.uv=this.IO=0;this.vq="";this.Vj={}},A4:function(){return this.pr},z4:function(){return this.fG},B4:function(){return this.uv},aca:function(){return this.Nr},bca:function(){return this.Or},Zba:function(){return this.Sv},$ba:function(){return this.Tv},cca:function(){return this.Uv},kp:function(a){return-1<this.vq.indexOf(a)},s:function(){var a=
this.Vj;a["cocos2d.x.version"]=q.tt;a["cocos2d.x.compiled_with_profiler"]=!1;a["cocos2d.x.compiled_with_gl_state_cache"]=q.xE;return!0},s3:function(a,c){var d=this.Vj;return d.hasOwnProperty(a)?d[a]:c},n3:function(a,c){null==c&&(c=!1);var d=this.Vj;return d.hasOwnProperty(a)?d[a]:c},L4:function(a,c){null==c&&(c=0);var d=this.Vj;return d.hasOwnProperty(a)?d[a]:c},N4:function(a){var c=this.Vj;return c.hasOwnProperty(a)?c[a]:null},EW:function(a,c){this.Vj[a]=c},SR:function(){0===q.xE&&(q.log(""),q.log("cocos2d: **** WARNING **** CC_ENABLE_PROFILERS is defined. Disable it when you finish profiling (from ccConfig.js)"),
q.log(""))},cS:function(){if(q.yd!==q.gg){var a=q.U,c=this.Vj;c["gl.vendor"]=a.getParameter(a.VENDOR);c["gl.renderer"]=a.getParameter(a.RENDERER);c["gl.version"]=a.getParameter(a.VERSION);this.vq="";for(var d=a.getSupportedExtensions(),e=0;e<d.length;e++)this.vq+=d[e]+" ";this.pr=a.getParameter(a.MAX_TEXTURE_SIZE);c["gl.max_texture_size"]=this.pr;this.uv=a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS);c["gl.max_texture_units"]=this.uv;this.Or=this.kp("GL_IMG_texture_compression_pvrtc");c["gl.supports_PVRTC"]=
this.Or;this.Nr=!1;c["gl.supports_NPOT"]=this.Nr;this.Sv=this.kp("GL_IMG_texture_format_BGRA888");c["gl.supports_BGRA8888"]=this.Sv;this.Tv=this.kp("GL_EXT_discard_framebuffer");c["gl.supports_discard_framebuffer"]=this.Tv;this.Uv=this.kp("vertex_array_object");c["gl.supports_vertex_array_object"]=this.Uv;q.gE()}},k8:function(a){var c=q.Dd.e(),d=c.le(a),c=c.ww(d);if(null!=c)if(c=c.data)for(var e in c)this.Vj[e]=c[e];else q.log("Expected 'data' dict, but not found. Config file: "+a)}});q.De.Hr=null;
q.De.e=function(){q.De.Hr||(q.De.Hr=new q.De,q.De.Hr.s());return q.De.Hr};q.De.C9=function(){q.De.Hr=null};q.ai=0;q.EL=0;q.uE=1;q.FL=3;q.GL=q.uE;q.HY=0;q.FY=1;q.IY=2;q.GY=3;q.EY=2;q.LY=q.Ca.extend({Jca:function(){}});q.yE=function(a){var c=new q.uh;q.OT(q.Vt,c);var d=new q.uh;q.OT(q.Ut,d);q.RT(a,c,d)};
q.V=q.Ca.extend({u0:!1,tr:!1,pm:!1,Hv:!1,tm:!1,Yg:0,wA:0,Vk:0,$n:0,cm:1,Pq:!1,Fk:0,$u:0,yk:null,Ak:null,Gk:null,Pb:null,Ij:null,Ji:null,zv:null,eh:null,Qi:null,IA:null,jd:null,Zd:0,qB:0,XA:0,f0:null,wg:null,Xg:null,Se:null,rA:null,Cu:null,rr:null,t0:!1,ctor:function(){this.Ij=Date.now();if(!q.HC){var a=this;window.addEventListener("focus",function(){a.Ij=Date.now()},!1)}},mP:function(){this.Ij=Date.now()},s:function(){this.wA=this.Yg=1/q.vR;this.Qi=[];this.Vk=q.GL;this.IA=null;this.$u=this.$n=0;this.Pq=
!1;this.qB=this.Zd=0;this.Ij=Date.now();this.Hv=this.pm=!1;this.Pb=q.wm();this.eh=null;this.cm=1;this.wg=new q.JM;this.Xg=new q.pL;this.wg.MJ(this.Xg,q.Yt,!1);q.ga&&(this.Se=new q.ga,this.Se.s());q.Pn&&(this.rA=q.Pn.e());q.rk&&(this.Cu=new q.rk);q.Td&&(this.rr=new q.Td,this.rr.s());return!0},RQ:function(){var a=Date.now();this.tr?(this.Fk=0,this.tr=!1):this.Fk=(a-this.Ij)/1E3;0<q.qt&&0.2<this.Fk&&(this.Fk=1/60);this.Ij=a},nR:function(a){var c=new q.uh;q.yE(c);var d=new q.uh;q.c8(d,c);var c=c.vh[14]/
c.vh[15],e=this.eh.rp();a=new q.Gp(2*a.x/e.width-1,1-2*a.y/e.height,c);c=new q.Gp;q.TT(c,a,d);return q.a(c.x,c.y)},pR:function(a){var c=new q.uh;q.yE(c);var d=new q.Gp;a=new q.Gp(a.x,a.y,0);q.TT(d,a,c);c=this.eh.rp();return q.a(c.width*(0.5*d.x+0.5),c.height*(0.5*-d.y+0.5))},PR:function(){this.RQ();this.pm||this.wg.update(this.Fk);this.EF();this.Ji&&this.DW();this.rz&&this.rz();this.jd&&this.jd.na();this.zv&&this.zv.na();this.Pq&&this.UP();this.nz&&this.nz();this.qB++;this.Pq&&this.DN()},LN:function(){var a=
this.eh.Ue;q.U.clearRect(-a.x,a.y,a.width,-a.height)},SN:function(){var a=q.U;a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},rz:null,nz:null,yN:function(){q.Fp()},uN:function(){q.Ep()},end:function(){this.Hv=!0},E3:function(){return this.cm},K4:function(){return this.zv},x6:function(){return this.Pb},SS:function(){return q.size(this.Pb.width*this.cm,this.Pb.height*this.cm)},vs:function(){return this.eh?this.eh.vs():this.Pb},pI:function(){return this.eh?this.eh.pI():q.xM},xs:function(){return this.Pb.height/
1.1566},pause:function(){this.pm||(this.wA=this.Yg,this.Ss(0.25),this.pm=!0)},w9:function(){if(!this.jd)throw"running scene should not null";this.Qi.pop();var a=this.Qi.length;0==a?this.end():(this.tm=!0,this.Ji=this.Qi[a-1])},aD:function(){q.yy.aD()},RU:function(){this.yf().et();this.Se&&this.Se.lV();this.jd&&(this.jd.wh(),this.jd.Md(),this.jd.Wf());this.Ji=this.jd=null;this.Qi=[];this.NK();q.yy.aD();q.Ll.SU();q.kg.TU();q.sa.UU();q.gE()},VU:function(a){if(!a)throw"the scene should not null";this.tm=
!1;this.Qi.push(a);this.Ji=a},HJ:function(a){if(!this.jd)throw"Use runWithScene: instead to start the director";if(!a)throw"the scene should not be null";var c=this.Qi.length;0===c?(this.tm=!0,this.Qi[c]=a):(this.tm=!0,this.Qi[c-1]=a);this.Ji=a},JJ:function(){this.pm&&(this.Ss(this.wA),(this.Ij=Date.now())||q.log("cocos2d: Director: Error in gettimeofday"),this.pm=!1,this.Fk=0)},GV:function(a){if(!a)throw"This command can only be used to start the CCDirector. There is already a scene present.";if(this.jd)throw"_runningScene should be null";
this.VU(a);this.LK()},UV:function(a){a?q.bk(q.Ce,q.Be):q.bk(q.U.ONE,q.U.ZERO)},dW:function(a){a!=this.cm&&(this.cm=a,this.to())},hW:function(a){if(q.yd!==q.gg){var c=q.U;a?(c.clearDepth(1),c.enable(c.DEPTH_TEST),c.depthFunc(c.LEQUAL)):c.disable(c.DEPTH_TEST)}},Q$:function(){},eK:function(){this.UV(!0);this.hW(!1);this.yx(this.Vk);q.U.clearColor(0,0,0,1)},yaa:function(a){this.tr=a},DW:function(){var a=!1,c=!1;q.jF&&(a=this.jd?this.jd instanceof q.jF:!1,c=this.Ji?this.Ji instanceof q.jF:!1);if(!c){if(c=
this.jd)c.wh(),c.Md();this.tm&&c&&c.Wf()}this.jd=this.Ji;this.Ji=null;a||null==this.jd||(this.jd.Ig(),this.jd.hi())},zaa:function(a){this.zv=a},dc:function(){return this.IA},yh:function(a){this.IA=a},JW:function(a){this.Pb.ID(q.canvas.width);this.Pb.wD(q.canvas.height);this.eh=a||q.oa.e();q.yd!==q.gg&&(a=q.De.e(),a.cS(),a.SR(),this.to(),this.eK(),this.Se&&this.Se.iW(!0))},zK:function(){if(this.eh){var a=this.Pb;this.eh.dX(0,0,a.width,a.height)}},yx:function(a){var c=this.Pb;if(q.yd===q.xk){this.zK();
switch(a){case q.EL:q.Ym(q.Vt);q.KC();var d=new q.uh;q.ST(d,0,c.width,0,c.height,-1024,1024);q.Ww(d);q.Ym(q.Ut);q.KC();break;case q.uE:var e=this.xs(),f=new q.uh,d=new q.uh;q.Ym(q.Vt);q.KC();q.d8(f,60,c.width/c.height,0.1,2*e);q.Ww(f);q.Ym(q.Ut);q.KC();e=q.Es(null,c.width/2,c.height/2,e);c=q.Es(null,c.width/2,c.height/2,0);f=q.Es(null,0,1,0);q.QT(d,e,c,f);q.Ww(d);break;case q.FL:break;default:q.log("cocos2d: Director: unrecognized projection")}this.Vk=a;q.Qaa()}else this.Vk=a},UP:function(){this.Zd++;
this.$n+=this.Fk;this.yk&&this.Ak&&this.Gk?(this.$n>q.DL&&(this.Ak.ca(this.XA.toFixed(3)),this.$u=this.Zd/this.$n,this.$n=this.Zd=0,this.yk.ca(this.$u.toFixed(1)),this.Gk.ca((0|q.ai).toString())),this.yk.na(),this.Ak.na(),this.Gk.na()):this.to();q.ai=0},H7:function(){return this.tm},C5:function(){return this.jd},h3:function(){return this.Yg},k7:function(){return this.Pq},U$:function(a){this.Pq=a},H5:function(){return this.XA},Z4:function(){return this.eh},u7:function(){return this.tr},y7:function(){return this.pm},
g6:function(){return this.qB},p5:function(){return this.Vk},x9:function(){this.IU(1)},IU:function(a){if(!this.jd)throw"A running Scene is needed";var c=this.Qi,d=c.length;if(0==d)this.end();else if(!(a>d)){for(;d>a;){var e=c.pop();e.Ne&&(e.wh(),e.Md());e.Wf();d--}this.Ji=c[c.length-1];this.tm=!1}},yf:function(){return this.wg},TW:function(a){this.wg!=a&&(this.wg=a)},Bg:function(){return this.Xg},SV:function(a){this.Xg!=a&&(this.Xg=a)},i6:function(){return this.Se},uba:function(a){this.Se!=a&&(this.Se=
a)},Gw:function(){if(!q.Pn)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";return this.rA},naa:function(a){if(!q.Pn)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";this.rA=a},qp:function(){if(!q.rk)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";return this.Cu},x$:function(a){if(!q.rk)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";this.Cu!=
a&&(this.Cu=a)},O3:function(){return this.Fk},xf:function(){if(!q.Td)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";return this.rr},waa:function(a){if(!q.Td)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.rr!=a&&(this.rr=a)},to:null,VN:function(){if(!q.xy)return this.HF();if(null!=q.V.NF&&!1!=q.V.NF){var a=new q.Xb;a.Af(q.V.Yz);a.ve();var c=q.oa.e().rp().height/320;0===c&&(c=this.Pb.height/320);var d=new q.xy;d.$A(!0);
d.ll("00.0",a,12,32,".");d.mk(c);this.yk=d;d=new q.xy;d.$A(!0);d.ll("0.000",a,12,32,".");d.mk(c);this.Ak=d;d=new q.xy;d.$A(!0);d.ll("000",a,12,32,".");d.mk(c);this.Gk=d;a=q.vE;this.Gk.n(q.bg(q.a(0,34*c),a));this.Ak.n(q.bg(q.a(0,17*c),a));this.yk.n(a)}},HF:function(){var a=0,a=this.Pb.width>this.Pb.height?0|this.Pb.height/320*24:0|this.Pb.width/320*24;this.yk=q.R.create("000.0","Arial",a);this.Ak=q.R.create("0.000","Arial",a);this.Gk=q.R.create("0000","Arial",a);var a=q.vE,c=this.Gk.d();this.Gk.n(q.bg(q.a(c.width/
2,5*c.height/2),a));c=this.Ak.d();this.Ak.n(q.bg(q.a(c.width/2,3*c.height/2),a));c=this.yk.d();this.yk.n(q.bg(q.a(c.width/2,c.height/2),a))},DN:function(){this.XA=(Date.now()-this.Ij)/1E3}});q.Ea.Pc?(q.V.prototype.EF=q.V.prototype.SN,q.V.prototype.rz=q.V.prototype.yN,q.V.prototype.nz=q.V.prototype.uN,q.V.prototype.to=q.V.prototype.VN):(q.V.prototype.EF=q.V.prototype.LN,q.V.prototype.to=q.V.prototype.HF);
q.HL=q.V.extend({Tw:!1,LK:function(){this.tr=!0;this.Tw=!1;q.kj.e().Ss(this.Yg)},$I:function(){this.Hv?(this.Hv=!1,this.RU()):this.Tw||this.PR()},NK:function(){this.Tw=!0},Ss:function(a){this.Yg=a;this.Tw||(this.NK(),this.LK())}});q.ox=null;q.SH=!0;q.V.e=function(){q.SH&&(q.SH=!1,q.ox=new q.HL,q.ox.s(),q.ox.JW(q.oa.e()));return q.ox};Object.defineProperties(q,{Xca:{get:function(){return q.HR.Pb},enumerable:!0}});q.U2=!0;q.vR=60;q.V.Yz=new Image;
q.V.Yz.addEventListener("load",function(){q.V.NF=!0;this.removeEventListener("load",arguments.callee,!1)});q.V.Yz.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAAgCAYAAAD9qabkAAAKQ2lDQ1BJQ0MgcHJvZmlsZQAAeNqdU3dYk/cWPt/3ZQ9WQtjwsZdsgQAiI6wIyBBZohCSAGGEEBJAxYWIClYUFRGcSFXEgtUKSJ2I4qAouGdBiohai1VcOO4f3Ke1fXrv7e371/u855zn/M55zw+AERImkeaiagA5UoU8Otgfj09IxMm9gAIVSOAEIBDmy8JnBcUAAPADeXh+dLA//AGvbwACAHDVLiQSx+H/g7pQJlcAIJEA4CIS5wsBkFIAyC5UyBQAyBgAsFOzZAoAlAAAbHl8QiIAqg0A7PRJPgUA2KmT3BcA2KIcqQgAjQEAmShHJAJAuwBgVYFSLALAwgCgrEAiLgTArgGAWbYyRwKAvQUAdo5YkA9AYACAmUIszAAgOAIAQx4TzQMgTAOgMNK/4KlfcIW4SAEAwMuVzZdL0jMUuJXQGnfy8ODiIeLCbLFCYRcpEGYJ5CKcl5sjE0jnA0zODAAAGvnRwf44P5Dn5uTh5mbnbO/0xaL+a/BvIj4h8d/+vIwCBAAQTs/v2l/l5dYDcMcBsHW/a6lbANpWAGjf+V0z2wmgWgrQevmLeTj8QB6eoVDIPB0cCgsL7SViob0w44s+/zPhb+CLfvb8QB7+23rwAHGaQJmtwKOD/XFhbnauUo7nywRCMW735yP+x4V//Y4p0eI0sVwsFYrxWIm4UCJNx3m5UpFEIcmV4hLpfzLxH5b9CZN3DQCshk/ATrYHtctswH7uAQKLDljSdgBAfvMtjBoLkQAQZzQyefcAAJO/+Y9AKwEAzZek4wAAvOgYXKiUF0zGCAAARKCBKrBBBwzBFKzADpzBHbzAFwJhBkRADCTAPBBCBuSAHAqhGJZBGVTAOtgEtbADGqARmuEQtMExOA3n4BJcgetwFwZgGJ7CGLyGCQRByAgTYSE6iBFijtgizggXmY4EImFINJKApCDpiBRRIsXIcqQCqUJqkV1II/ItchQ5jVxA+pDbyCAyivyKvEcxlIGyUQPUAnVAuagfGorGoHPRdDQPXYCWomvRGrQePYC2oqfRS+h1dAB9io5jgNExDmaM2WFcjIdFYIlYGibHFmPlWDVWjzVjHVg3dhUbwJ5h7wgkAouAE+wIXoQQwmyCkJBHWExYQ6gl7CO0EroIVwmDhDHCJyKTqE+0JXoS+cR4YjqxkFhGrCbuIR4hniVeJw4TX5NIJA7JkuROCiElkDJJC0lrSNtILaRTpD7SEGmcTCbrkG3J3uQIsoCsIJeRt5APkE+S+8nD5LcUOsWI4kwJoiRSpJQSSjVlP+UEpZ8yQpmgqlHNqZ7UCKqIOp9aSW2gdlAvU4epEzR1miXNmxZDy6Qto9XQmmlnafdoL+l0ugndgx5Fl9CX0mvoB+nn6YP0dwwNhg2Dx0hiKBlrGXsZpxi3GS+ZTKYF05eZyFQw1zIbmWeYD5hvVVgq9ip8FZHKEpU6lVaVfpXnqlRVc1U/1XmqC1SrVQ+rXlZ9pkZVs1DjqQnUFqvVqR1Vu6k2rs5Sd1KPUM9RX6O+X/2C+mMNsoaFRqCGSKNUY7fGGY0hFsYyZfFYQtZyVgPrLGuYTWJbsvnsTHYF+xt2L3tMU0NzqmasZpFmneZxzQEOxrHg8DnZnErOIc4NznstAy0/LbHWaq1mrX6tN9p62r7aYu1y7Rbt69rvdXCdQJ0snfU6bTr3dQm6NrpRuoW623XP6j7TY+t56Qn1yvUO6d3RR/Vt9KP1F+rv1u/RHzcwNAg2kBlsMThj8MyQY+hrmGm40fCE4agRy2i6kcRoo9FJoye4Ju6HZ+M1eBc+ZqxvHGKsNN5l3Gs8YWJpMtukxKTF5L4pzZRrmma60bTTdMzMyCzcrNisyeyOOdWca55hvtm82/yNhaVFnMVKizaLx5balnzLBZZNlvesmFY+VnlW9VbXrEnWXOss623WV2xQG1ebDJs6m8u2qK2brcR2m23fFOIUjynSKfVTbtox7PzsCuya7AbtOfZh9iX2bfbPHcwcEh3WO3Q7fHJ0dcx2bHC866ThNMOpxKnD6VdnG2ehc53zNRemS5DLEpd2lxdTbaeKp26fesuV5RruutK10/Wjm7ub3K3ZbdTdzD3Ffav7TS6bG8ldwz3vQfTw91jicczjnaebp8LzkOcvXnZeWV77vR5Ps5wmntYwbcjbxFvgvct7YDo+PWX6zukDPsY+Ap96n4e+pr4i3z2+I37Wfpl+B/ye+zv6y/2P+L/hefIW8U4FYAHBAeUBvYEagbMDawMfBJkEpQc1BY0FuwYvDD4VQgwJDVkfcpNvwBfyG/ljM9xnLJrRFcoInRVaG/owzCZMHtYRjobPCN8Qfm+m+UzpzLYIiOBHbIi4H2kZmRf5fRQpKjKqLupRtFN0cXT3LNas5Fn7Z72O8Y+pjLk722q2cnZnrGpsUmxj7Ju4gLiquIF4h/hF8ZcSdBMkCe2J5MTYxD2J43MC52yaM5zkmlSWdGOu5dyiuRfm6c7Lnnc8WTVZkHw4hZgSl7I/5YMgQlAvGE/lp25NHRPyhJuFT0W+oo2iUbG3uEo8kuadVpX2ON07fUP6aIZPRnXGMwlPUit5kRmSuSPzTVZE1t6sz9lx2S05lJyUnKNSDWmWtCvXMLcot09mKyuTDeR55m3KG5OHyvfkI/lz89sVbIVM0aO0Uq5QDhZML6greFsYW3i4SL1IWtQz32b+6vkjC4IWfL2QsFC4sLPYuHhZ8eAiv0W7FiOLUxd3LjFdUrpkeGnw0n3LaMuylv1Q4lhSVfJqedzyjlKD0qWlQyuCVzSVqZTJy26u9Fq5YxVhlWRV72qX1VtWfyoXlV+scKyorviwRrjm4ldOX9V89Xlt2treSrfK7etI66Trbqz3Wb+vSr1qQdXQhvANrRvxjeUbX21K3nShemr1js20zcrNAzVhNe1bzLas2/KhNqP2ep1/XctW/a2rt77ZJtrWv913e/MOgx0VO97vlOy8tSt4V2u9RX31btLugt2PGmIbur/mft24R3dPxZ6Pe6V7B/ZF7+tqdG9s3K+/v7IJbVI2jR5IOnDlm4Bv2pvtmne1cFoqDsJB5cEn36Z8e+NQ6KHOw9zDzd+Zf7f1COtIeSvSOr91rC2jbaA9ob3v6IyjnR1eHUe+t/9+7zHjY3XHNY9XnqCdKD3x+eSCk+OnZKeenU4/PdSZ3Hn3TPyZa11RXb1nQ8+ePxd07ky3X/fJ897nj13wvHD0Ivdi2yW3S609rj1HfnD94UivW2/rZffL7Vc8rnT0Tes70e/Tf/pqwNVz1/jXLl2feb3vxuwbt24m3Ry4Jbr1+Hb27Rd3Cu5M3F16j3iv/L7a/eoH+g/qf7T+sWXAbeD4YMBgz8NZD+8OCYee/pT/04fh0kfMR9UjRiONj50fHxsNGr3yZM6T4aeypxPPyn5W/3nrc6vn3/3i+0vPWPzY8Av5i8+/rnmp83Lvq6mvOscjxx+8znk98ab8rc7bfe+477rfx70fmSj8QP5Q89H6Y8en0E/3Pud8/vwv94Tz+4A5JREAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfcAgcQLxxUBNp/AAAQZ0lEQVR42u2be3QVVZbGv1N17829eRLyIKAEOiISEtPhJTJAYuyBDmhWjAEx4iAGBhxA4wABbVAMWUAeykMCM+HRTcBRWkNH2l5moS0LCCrQTkYeQWBQSCAIgYRXEpKbW/XNH5zS4noR7faPEeu31l0h4dSpvc+t/Z199jkFWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhY/H9D/MR9qfKnLj/00U71aqfJn9+HCkCR/Wk36ddsgyJ/1wF4fkDfqqm9/gPsUeTnVr6a2xlQfnxdI7zs0W7irzD17Ytb2WT7EeNv/r4ox1O3Quf2QP2pgt9utwfout4FQE8AVBSlnaRmfvAURQkg2RlAbwB9AThlW5L0GaiKojhJhgOIBqDa7XaPrusdPtr5kQwF0BVAAoBIABRCKDd5aFUhRDAAw57eAOwAhKIoupft3zoqhB1AqLwuHIBut9uFt02qqvqRDJR2dAEQJj/BAOjn56dqmma+xiaECAEQAWAggLsB6A6HQ2iaZggBhBAqgEAAnQB0kzaEmT4hAITT6VQ8Ho/HJAKKECJQtr8LwD1y/A1/vcdfEUIEyfZ9AcQbYvZ942Px88L2UwlJR0dH0EMPPbRj5syZPUeNGrXR7Xb/641xIwJ1XY9NSUlZm52dfW+XLl1w8uRJzJ8//+OGhoYJqqqe1TSt1Wsm9NN1PSIqKmr12rVrR5WUlHy1bdu2AQCumWc3IYRD1/UwVVXnFRQUTIuNjUVzczN2797dWFJSkq8oymZd15sAGAEnFEUJ1nX9nzIzM1dnZmZGh4SE4OTJk5g5c+Zf29vbp9pstrMej6fVOyhIhgAYU1hY+B+hoaGoqKg4XVlZea+XTULTNFdCQsLGiRMnPuR2u3UhBOV9eeDAAWXTpk095DUe6WsoyRE5OTlr0tLSAux2O/bs2cO5c+e+pijKUpIXSHaQVAGkvPLKK++6XK4OksJLCFlXV2cvKSlJBFAjhU+x2WwhHo9nUHp6+urMzMy7wsLCUF9fjxdffPHjxsbGiTab7WuPx9NiEutOuq4PyMjI+M+srKyYqKgoHD58GDNmzNjq8XhyVFU9b/q+LH7hBAEYu3PnTlZVVRFAGgCX6f/tAHoOHDjwa0p27txp/JO9e/f+QM7cipw9nfL3kQBKt2zZQpJ87rnn6mQmoHilw2EACs+cOUOSrK+vZ1NTE0nyo48+IoBpxswoBcMJ4Ndjx471kOTFixe5d+9ekqTH42H//v13A4jyzpAURfEH0H/OnDnthu1z5sw558MmFUCPWbNmnaMP3nrrLZoyDmP8Hl68eDFJ8siRI9/Yc+zYMQKYKdtAztrTrl27xptRXV1NAKMAOAyBBBA/Y8aMdpLs6Ojgxx9//E37+++//29yvFXppwvAwMcee8xjtDHsuXLlCqOjo//ia3wsfpkoALqFhoZuIckJEyackimm3dQmEMDUmpoakmRISMhhAHOHDx/eQJIbN24kgKEyMAHAFRMTs2XXrl1saWkhSZ0kp0+ffhrAr3wEW/S8efOukORLL72kA1gKYMPWrVtJkk899dRJAHeYrgsEsIQkjx8/TgDvAPjd448/3kaSb7zxBmUa7vC6z53BwcFbSHL9+vU6Sc6aNes8gF5ewWAH0PfVV18lSQL4DMBGIcQ6AKtcLleBFC2jXtFt8ODBe0iyoqKCAJYByC8qKmJDQwOzsrK+MAmqo1OnTveHhoa+GRkZ+XZkZOSWiIiIvzgcjk9mzpypkWRmZuZpmbYbGV4AgPnNzc1sa2sjgN0A5iQmJtaSZHl5OQHcb/K3s81mW0uSTU1NBFAFYFbfvn1Pk+Tbb79NAA8IIVzW42/hByA+Pz/fLR/2ZXIda05NI/z9/TeR5J49ewhgqlxTrtI0jY2NjQQw3zTLuWJiYjaUlJToS5Ys6fjkk080kwDEeAmADcA9GzZsIElGRUW9CyAWwLApU6Y0kOSKFSsog9QICGdERMTGsrIyZmVlEcC9AB4IDw/fTpLbtm0jgN94CUAnAJmVlZVcs2aNZ/LkyRdJcvbs2b4EwAkgZfPmzTxw4AABFAN4BkC6vFeUSewcAO5duXIlSTIhIaEawGMAxgKYAmAGgCS73e5vrKVk/yGythANYEhCQsIhkly+fDkBpKqqGmL6DgIALDKN/3yZpVWQZGVlJQE8aPI3KiMjo5okV61aRQAjAPQBMPfIkSN0u90EUCBtsPiFEwpgbn19PdetW2fM5N4zQ9ekpKQqkty0aRMBpMjiWM6JEydIkoqirJUFJ6iq6pAPVy8A6cZMehMBUACEuVyuFwG8HBwcPEIWx367ZMkSjSQXLVrUJouTRorrkAHdA8BdQogsAOsKCwtJkmPGjDkvMw2bDDo/ADEjRoz4XylyFbm5uY0mAbjLyyZ/AOOrq6tZVlbWsWDBgo69e/eyoqKCgwcPPg4gSQaoIRbp27dvN7KF+tLSUr28vJwFBQXtMpvpYRIM7+wrAkDeqVOnePbsWQIoNKfzpiXPg8uXLydJJicnNwF4f+nSpW6STEtLq5fjYwhk1wkTJtSQ5Ouvv04AqTKj+N2xY8dIkgEBAW/Ie1v8wncRegwZMmQvSfbr12+3Ua33WqPfOWbMmP0kWVpaSgCDZAqcfejQIWNZsEGKgvnh9gfQb9myZd8nAEJVVZtMkUNk8CcNHTq0liR1XWdYWNhmH1mJIme80OnTp18x1rp5eXkEsNJms92Fb7e/IgEsvHz5Mp999tkmAI/l5uZeMC0B7vEqqAYAyL106RJJsra2lpWVld+sucePH38ZQG+5NncBeOrgwYMkqbe3t/Po0aOsra011wAWyl0H7x0JJ4DE+fPnu0kyPT29DsDdUrBuyNKEEAkAdpw/f/6GeoEM8GUmfwEgPCIiopwkGxsbabPZPgOw6L777vvm4p49e26VGYjFLxUhhD+ApLKyMp44ccIoVnXybgbgzkcfffRzklyzZg0BDJYCMMmoCwQFBXkLgLGWvvcWAgBToSsKwNPTp09vMR7UuLi4rwH0lgU8c/Db5ezbeeTIkRWzZ8++aMxu+fn5BPCADBwHgP4LFy701NXVEUAJgAnPP/98kyxMNgHo53A4zH77BQQETMvPz7+Um5vbBuAlAFMSExPPmdbVL0qh8Acw8fDhw5SCchVAEYAVb775JknyhRdeaJYztHfxMwLAaqNwCGC2FArv8x0hAHKNLGPKlCme5OTk/Zs3bzb7O0wKiiG8KXl5ed8IxenTp0mSR48e1UmyW7duWywBuD2xyQcgFECgoih+8H1gyJgZV5Lkyy+/3CbTRIePtl2HDBmyw1QBHyGDdXZdXR1JUghRKkXBjOMHCoBdpr0L3nvvPZLkF198wejo6O0A4lVVDTb74HQ6AwD8Wq7Jh8rgGgDgQ13XjVR8qaxJuADMbmlpYXl5uV5UVNRWUFDgfv/993Vj/ZydnU1c37eHXML4S3viAcQqitJD2l104cIFY8lTKsXSBWBMVVWVcd9yed2A1NTUQ6Zl00CvLMMOoHdubm6zFIlWOf5+PsY/Kj09vdrU11QAwwGsv3jxIk21m2DZr10I0RXAuAcffPBgaWkpV69eTYfDcdiwUxY0w6xw+flX8L1xApjevXv3lREREaW6rofB93aPDUDQpEmTMgHgtddeqwBwEd/utZvpqK6uPgEAcXFxkA94NwB9unfvjrNnz4LklwDcf08iIqv66Zs2bXrl4YcfxooVKxAbG7uqrq5uAYA2TdOEqqpGYIi2tjbl6aeffu/YsWPv5uTk7JaC1wHg4Pnz542MwoVvTx+21dbWYvjw4WLixIl+2dnZ9lGjRgmSTE1NRUpKCkwFTGiaxtTU1OXTpk3707Bhw/6g67pDipnT4biuj7qut+Lbk3Vf1tTUXI9qu91Pjq1QFEUBgJaWFgBo8yGOQ8eNGxcAAOvXr/8QwBUfYygAKL169eoCABcuXACAWtn2hOGv0+kMNO1KiPDw8F4A4rZv3/7R1KlTR0+bNu1ht9u9r1+/fqitrQXJgwDarRC6/QjPzs4+QJIffPCB9/aQmSAA43ft2mW0e1QGoi8CAPyLsZccExNTC2BlRkbGRdOyYJCP2csBIN6UAZzCd7cBbQCijYp/dXU1ExMTz6SmptaMHj36f9LS0vYlJCRsl6mxIWSdu3fv/g5J7t+/nwC2AShMTk6+SJKff/45AWRLYbD7+fndAeDf5BJnLoCCyZMnt5JkdnZ2C4B/F0KEm1Pu+Pj4rST55ZdfEsBWAK+mpaVdMo3raDn7KwDuSEpK+m+S3LBhAwG8DuCtHTt2UBbpjgC408vvcFVV15HkuXPnjMp+p5uMf0RcXNyHJNnQ0EBVVfcCWBQXF3fG+Jv0yxABPwB5LS0tRmFxN4BlTzzxxGWSXLx4sS5F3GGFy+1Hp5SUlJq6ujoWFxdTpsZ2H+0iIyMj/0iSWVlZX5mr5jfJFroPGzasxlhTnjp1iiTZ3NxMl8tlrCd9pfa9SkpKSJI5OTmnZOageLUZZqxvfVFWVkZcPwdgNwnSCKPqb17jkmR8fPzfZMDZ5CRsFBmNI7h95s2b1yhT7/MAYmStwCx4vy0uLqa3v5qmEcCfvSr1QQAeXb16NY3Cm3HQ55133iGAp+SxZTNhKSkpfzUddkrFjYevzAQCeGjp0qXfsYckY2NjTwD4leGDLCL2HTdunNtoY+zWSHFcIHdsFCtcfuZ1vO9Eqs3m7/F47sb1k2qX/f3997W2tl7BjWfpBYDOzzzzzIVJkyZh0KBBCwEsB3AJvl9AETabLcDj8dwRFRW1ctasWb8JCgpSzp07d62wsPC/Wltb8xRFadR1/ZqPXYbgAQMGbI2Pjw/+6quv9ldVVT0r01ezuPRJSUn5Y9euXXVd11WzDaqq6kePHm3+7LPPRgO4KlNuxWazhXo8nuTk5OSXMjIyEl0uFxoaGtqKior+dPXq1VdUVT0jj7r68ieoT58+vx8yZMjdx48fP1JVVTVF9m20VW02WyfZf97YsWPjXS4X6urqWvPy8jYCWCyEuEDS8FdVFKWzruv//OSTTy5OTk7uqWkaPv3007qysrJ8RVH+LI8ym8/rB3Tu3HnRI488knLo0KG2ffv2ZQI4C98vP6mqqoZqmpaclpa2cOTIkX39/f3R0NDQUVxc/G5TU9PLqqrWa5rWLH1QVFUN0TStX1JSUvH48eP7BwYG4uDBg1cKCgpeBbBe2u+2Qug2EwD5N5sMPuNtMe8XP4TT6Qxoa2sbIGeXvUKIK7d4IISiKC5d1wPljOfA9bPwzYqiXNV13dd6Uqiq6qdpml2mpe02m63d4/G4vcTF5fF47LJf71nJA6BZVVW3pmntuPHlmAD5wk6Q9NnbHp9vHaqq6tA0zU/64PZhk1FfCZB9G/23ALiqKEqzD39tpvbGUqoFwFUhRLP3yzpCCDtJpxyXDulfG27+pqRR3DXsUWVd4Yq0x/taVQjhIhksC8L+ABpM9ljBf5sKwI8pIBr75L5E4vvu+UNeG/a+hv+AL7yFH8qPtOfHjtOP6V/Bja8D6z/B2Nys/1u9Xv33tLf4GfF/LC4GCJwByWIAAAAASUVORK5CYII\x3d";q.eq=q.Ca.extend({Zq:null,$q:null,ar:null,oo:null,po:null,qo:null,Yr:null,Zr:null,$r:null,Ha:null,qv:null,ctor:function(){this.qv=new q.uh;this.restore()},description:function(){return"\x3cCCCamera | center \x3d("+this.oo+","+this.po+","+this.qo+")\x3e"},Kg:function(a){this.Ha=a},MI:function(){return this.Ha},restore:function(){this.Zq=this.$q=0;this.ar=q.eq.xs();this.Yr=this.oo=this.po=this.qo=0;this.Zr=1;this.$r=0;q.b8(this.qv);this.Ha=!1},VI:function(){if(this.Ha){var a=new q.Gp,c=new q.Gp,d=new q.Gp;
q.Es(a,this.Zq,this.$q,this.ar);q.Es(c,this.oo,this.po,this.qo);q.Es(d,this.Yr,this.Zr,this.$r);q.QT(this.qv,a,c,d);this.Ha=!1}q.Ww(this.qv)},Y$:function(a,c,d){this.bK(a,c,d)},bK:function(a,c,d){this.Zq=a;this.$q=c;this.ar=d;this.Ha=!0},H$:function(a,c,d){this.$V(a,c,d)},$V:function(a,c,d){this.oo=a;this.po=c;this.qo=d;this.Ha=!0},vba:function(a,c,d){this.cX(a,c,d)},cX:function(a,c,d){this.Yr=a;this.Zr=c;this.$r=d;this.Ha=!0},W3:function(){return{x:this.Zq,y:this.$q,z:this.ar}},cI:function(){return{x:this.Zq,
y:this.$q,z:this.ar}},v3:function(){return{x:this.oo,y:this.po,z:this.qo}},aI:function(){return{x:this.oo,y:this.po,z:this.qo}},m6:function(){return{x:this.Yr,y:this.Zr,z:this.$r}},QS:function(){return{x:this.Yr,y:this.Zr,z:this.$r}},Q_:function(){}});q.eq.xs=function(){return q.Ot};q.Yt=-2147483648;q.NZ=q.Yt+1;q.nt=function(a,c){if(a&&0<a.length)for(var d=0;d<a.length;d++)if(!(a[d]instanceof c)){q.log("element type is wrong!");break}};q.bq=function(a,c){a.splice(c,1)};q.Pd=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c){a.splice(d,1);break}};q.nY=function(a,c){for(var d=0,e=c.length;d<e;d++)q.Pd(a,c[d])};q.mY=function(a,c){return a.indexOf(c)};q.kY=function(a,c){a.push(c)};q.Ml=function(a,c,d){a.splice(d,0,c);return a};
q.lY=function(a,c,d){a.splice.apply(a,[d,0].concat(c));return a};q.ey=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c)return d;return-1};q.cy=function(a,c){return-1!=a.indexOf(c)};q.fZ=function(a,c){if(null==a)return null;for(var d=0;d<a.length;d++)if(a[d].target===c)return a[d];return null};q.DE=function(a,c,d){this.next=null;this.target=a;this.uJ=c;this.paused=d;this.tl=!1};q.zE=function(a,c,d){this.list=a;this.Tm=c;this.target=d;this.wC=null};
q.UL=function(a,c){this.dg=null;this.target=a;this.Yp=0;this.hs=this.gs=null;this.paused=c;this.wC=null};
q.ou=q.Ca.extend({Hj:0,Qf:null,P:null,bc:0,xG:!1,kw:!1,bp:0,QA:0,Tu:0,ctor:function(){},r4:function(){return this.Hj},setInterval:function(){},I5:function(){return this.Qf},Eg:function(a,c,d,e,f){this.P=a;this.Qf=c;this.bc=-1;this.Hj=d||0;this.Tu=f||0;this.kw=0<this.Tu;this.QA=null==e?q.Sl:e;this.xG=this.QA==q.Sl;return!0},uz:function(){if("string"==typeof this.Qf)this.P[this.Qf](this.bc);else this.Qf.call(this.P,this.bc)},update:function(a){if(-1==this.bc)this.bp=this.bc=0;else{var c=this.P,d=this.Qf;
this.xG&&!this.kw?(this.bc+=a,this.bc>=this.Hj&&(c&&d&&this.uz(),this.bc=0)):(this.bc+=a,this.kw?this.bc>=this.Tu&&(c&&d&&this.uz(),this.bc-=this.Tu,this.bp+=1,this.kw=!1):this.bc>=this.Hj&&(c&&d&&this.uz(),this.bc=0,this.bp+=1),this.bp>this.QA&&q.V.e().yf().YK(c,d))}}});q.ou.wca=function(a,c,d){if(2>arguments.length)throw Error("timerWithTarget'argument can't is null");var e=new q.ou;e.Eg(a,c,d||0,q.Sl,0);return e};q.D0=null;
q.JM=q.Ca.extend({Rr:1,nh:null,Vh:null,yg:null,Ej:null,Eu:null,Dj:null,b0:null,nf:null,Ci:!1,hw:!1,ctor:function(){this.Rr=1;this.nh=[];this.Vh=[];this.yg=[];this.Ej={};this.Eu=[];this.Dj={};this.Bk=[];this.nf=null;this.hw=this.Ci=!1},PA:function(a){delete this.Dj[a.target.ac];q.Pd(this.Bk,a);a.ou=null;a.target=null},h0:function(a,c){for(var d=0;d<a.length;d++)if(a[d].target==c)return a[d];return null},Jv:function(a){if(a=this.Ej[a.target.ac])q.Pd(a.list,a.Tm),delete this.Ej[a.target.ac],q.Pd(this.Eu,
a),a.Tm=null,a.target=null},qG:function(a,c,d,e){e=new q.DE(c,d,e);if(a){for(var f=!1,g=0;g<a.length;g++)if(d<a[g].uJ){a=q.Ml(a,e,g);f=!0;break}f||a.push(e)}else a=[],a.push(e);d=new q.zE(a,e,c);this.Eu.push(d);this.Ej[c.ac]=d;return a},xN:function(a,c,d){d=new q.DE(c,0,d);a.push(d);a=new q.zE(a,d,c);this.Eu.push(a);this.Ej[c.ac]=a},pba:function(a){this.Rr=a},b6:function(){return this.Rr},update:function(a){this.hw=!0;1!=this.Rr&&(a*=this.Rr);var c,d;for(d=0;d<this.nh.length;d++)c=this.nh[d],c.paused||
c.tl||c.target.update(a);for(d=0;d<this.Vh.length;d++)c=this.Vh[d],c.paused||c.tl||c.target.update(a);for(d=0;d<this.yg.length;d++)c=this.yg[d],c.paused||c.tl||c.target.update(a);for(d=0;d<this.Bk.length;d++){c=this.nf=this.Bk[d];this.Ci=!1;if(!this.nf.paused)for(c.Yp=0;c.Yp<c.dg.length;c.Yp++)c.gs=c.dg[c.Yp],c.hs=!1,c.gs.update(a),c.gs=null;this.Ci&&0==this.nf.dg.length&&this.PA(this.nf)}for(d=0;d<this.nh.length;d++)this.nh[d].tl&&this.Jv(this.nh[d]);for(d=0;d<this.Vh.length;d++)this.Vh[d].tl&&this.Jv(this.Vh[d]);
for(d=0;d<this.yg.length;d++)this.yg[d].tl&&this.Jv(this.yg[d]);this.hw=!1;this.nf=null},IV:function(a,c,d,e,f,g){if(!c)throw"cc.scheduler.scheduleCallbackForTarget(): callback_fn should be non-null.";if(!a)throw"cc.scheduler.scheduleCallbackForTarget(): target should be non-null.";d=d||0;e=null==e?q.Sl:e;f=f||0;g=g||!1;var h=this.Dj[a.ac];h||(h=new q.UL(a,g),this.Bk.push(h),this.Dj[a.ac]=h);if(null==h.dg)h.dg=[];else for(var k=0;k<h.dg.length;k++)if(g=h.dg[k],c==g.Qf){q.log("CCSheduler#scheduleCallback. Callback already scheduled. Updating interval from:"+
g.Hj.toFixed(4)+" to "+d.toFixed(4));g.Hj=d;return}g=new q.ou;g.Eg(a,c,d,e,f);h.dg.push(g)},MJ:function(a,c,d){var e=this.Ej[a.ac];e?e.Tm.tl=!1:0==c?this.xN(this.Vh,a,d):0>c?this.nh=this.qG(this.nh,a,c,d):this.yg=this.qG(this.yg,a,c,d)},YK:function(a,c){if(null!=a&&null!=c){var d=this.Dj[a.ac];if(null!=d)for(var e=0;e<d.dg.length;e++){var f=d.dg[e];if(c==f.Qf){f!=d.gs||d.hs||(d.hs=!0);q.bq(d.dg,e);d.Yp>=e&&d.Yp--;0==d.dg.length&&(this.nf==d?this.Ci=!0:this.PA(d));break}}}},Zp:function(a){null!=a&&
(a=this.Ej[a.ac],null!=a&&(this.hw?a.Tm.tl=!0:this.Jv(a.Tm)))},XK:function(a){if(null!=a){var c=this.Dj[a.ac];c&&(!c.hs&&q.cy(c.dg,c.gs)&&(c.hs=!0),c.dg.length=0,this.nf==c?this.Ci=!0:this.PA(c));this.Zp(a)}},et:function(){this.IX(q.Yt)},IX:function(a){var c;for(c=0;c<this.Bk.length;c++)this.XK(this.Bk[c].target);if(0>a)for(c=0;c<this.nh.length;c++)this.Zp(this.nh[c].target);if(0>=a)for(c=0;c<this.Vh.length;c++)this.Zp(this.Vh[c].target);for(c=0;c<this.yg.length;c++)this.yg[c].uJ>=a&&this.Zp(this.yg[c].target)},
t9:function(){return this.BU(q.Yt)},BU:function(a){var c=[],d,e;for(d=0;d<this.Bk.length;d++)if(e=this.Bk[d])e.paused=!0,c.push(e.target);if(0>a)for(d=0;d<this.nh.length;d++)if(e=this.nh[d])e.paused=!0,c.push(e.target);if(0>=a)for(d=0;d<this.Vh.length;d++)if(e=this.Vh[d])e.paused=!0,c.push(e.target);for(d=0;d<this.yg.length;d++)if(e=this.yg[d])e.paused=!0,c.push(e.target);return c},CV:function(a){if(a)for(var c=0;c<a.length;c++)this.rn(a[c])},Os:function(a){if(!a)throw"cc.Scheduler.pauseTarget():target should be non-null";
var c=this.Dj[a.ac];c&&(c.paused=!0);if(a=this.Ej[a.ac])a.Tm.paused=!0},rn:function(a){if(!a)throw"cc.Scheduler.resumeTarget():target should be non-null";var c=this.Dj[a.ac];c&&(c.paused=!1);if(a=this.Ej[a.ac])a.Tm.paused=!1},J7:function(a){if(!a)throw"cc.Scheduler.isTargetPaused():target should be non-null";return(a=this.Dj[a.ac])?a.paused:!1}});q.Iy={IMAGE:["png","jpg","bmp","jpeg","gif"],SOUND:["mp3","ogg","wav","mp4","m4a"],XML:["plist","xml","fnt","tmx","tsx"],BINARY:["ccbi"],FONT:"FONT",TEXT:["txt","vsh","fsh","json","ExportJson"],UNKNOW:[]};
q.Wb=q.Ca.extend({uo:0,Ur:0,or:0,qm:null,Yg:1/60,Hj:null,YF:!1,ctor:function(){this.qm=[]},Rw:function(a,c,d){if(a){c&&(this.Qf=c,this.P=d);if(a!=this.qm||0==this.uo){this.or=this.uo=0;if(a[0]instanceof Array)for(c=0;c<a.length;c++)this.qm=this.qm.concat(a[c]);else this.qm=a;this.Ur=this.qm.length}this.qP()}else console.log("resources should not null")},WV:function(a){this.YF=a},gn:function(a){this.or++;q.log("cocos2d:Failed loading resource: "+a)},ji:function(){this.or++},Hw:function(){var a=0;return a=
0==this.Ur?100:0|this.or/this.Ur*100},iV:function(a){if(a&&0<a.length)for(var c=q.sa.e(),d=q.Bh?q.Bh.e():null,e=q.uk.e(),f=q.Dd.e(),g,h=0;h<a.length;h++){g=a[h];var k=this.QF(g);switch(k){case "IMAGE":c.uV(g.src);break;case "SOUND":if(!d)throw"Can not find AudioEngine! Install it, please.";d.Dca(g.src);break;case "XML":e.GX(g.src);break;case "BINARY":f.FX(g.src);break;case "TEXT":f.HX(g.src);break;case "FONT":break;default:throw"cocos2d:unknown filename extension: "+k;}}},XO:function(){this.iw();
if(this.YF){var a=q.V.e().$u;if(null!=a&&20>a){q.log("cocos2d: frame rate less than 20 fps, skip frame.");return}}this.uo<this.Ur&&(this.FO(),this.uo++)},FO:function(){var a=q.sa.e(),c=q.Bh?q.Bh.e():null,d=q.uk.e(),e=q.Dd.e(),f=this.qm[this.uo],g=this.QF(f);switch(g){case "IMAGE":a.Ia(f.src);break;case "SOUND":if(!c)throw"Can not find AudioEngine! Install it, please.";c.A9(f.src);break;case "XML":d.NU(f.src);break;case "BINARY":e.MU(f.src);break;case "TEXT":e.OU(f.src);break;case "FONT":this.ZO(f);
break;default:throw"cocos2d:unknown filename extension: "+g;}},qP:function(){var a=this;this.Hj=setInterval(function(){a.XO()},1E3*this.Yg)},gQ:function(){clearInterval(this.Hj)},QF:function(a){if(null!=a.ks)return q.Iy.FONT;a=a.src;a=a.substring(a.lastIndexOf(".")+1,a.length);var c=a.indexOf("?");0<c&&(a=a.substring(0,c));for(var d in q.Iy)if(-1!=q.Iy[d].indexOf(a))return d;return a},iw:function(){100<=this.Hw()&&(this.gQ(),this.TN())},TN:function(){if(this.P&&"string"==typeof this.Qf)this.P[this.Qf](this);
else this.P&&"function"==typeof this.Qf?this.Qf.call(this.P,this):this.Qf(this);this.Ur=this.or=this.uo=0},ZO:function(a){var c=a.src,d=q.Dd.e();if(c&&0<c.length){var e=document.createElement("style");e.type="text/css";document.body.appendChild(e);for(var f="@font-face { font-family:"+a.ks+"; src:",g=0;g<c.length;g++)f+="url('"+d.le(encodeURI(c[g].src))+"') format('"+c[g].type+"')",f+=g==c.length-1?";":",";e.textContent+=f+"};";c=document.createElement("div");c.style.fontFamily=a.ks;c.innerHTML=".";
c.style.position="absolute";c.style.left="-100px";c.style.top="-100px";document.body.appendChild(c)}q.Wb.e().ji()},J0:function(){}});q.Wb.$C=function(a,c,d){this.Gb||(this.Gb=new q.Wb);this.Gb.Rw(a,c,d);return this.Gb};q.Wb.z9=function(a,c,d){this.Gb||(this.Gb=new q.Wb);this.Gb.WV(!0);this.Gb.Rw(a,c,d);return this.Gb};q.Wb.aD=function(a){this.Gb&&this.Gb.iV(a)};q.Wb.e=function(){this.Gb||(this.Gb=new q.Wb);return this.Gb};q.Wb.Gb=null;
q.zy=q.kq.extend({pv:null,Lo:null,Yv:null,Bq:null,Jo:null,FB:null,ctor:function(){q.kq.prototype.ctor.call(this);this.FB=q.V.e().Pb},s:function(){q.kq.prototype.s.call(this);var a=q.a(this.FB.width/2,this.FB.height/2);this.Lo=new Image;var c=this;this.Lo.addEventListener("load",function(){c.pO(a);this.removeEventListener("load",arguments.callee,!1)});this.Lo.src="";this.Lo.width=160;this.Lo.height=200;this.Bq=q.da.create(q.PB(32,32,32,255));this.Bq.n(0,0);this.f(this.Bq,0);this.Jo=q.R.create("Loading... 0%",
"Arial",14);this.Jo.l(q.pw(180,180,180));this.Jo.n(q.bg(a,q.a(0,-110)));this.Bq.f(this.Jo,10)},pO:function(a){this.Yv=new q.Xb;this.Yv.Af(this.Lo);this.Yv.ve();this.pv=q.w.fb(this.Yv);this.pv.mk(q.Cd());this.pv.n(a);this.Bq.f(this.pv,10)},Ig:function(){q.C.prototype.Ig.call(this);this.sc(this.KG,0.3)},Md:function(){q.C.prototype.Md.call(this);this.Jo.ca("Loading... 0%")},Rw:function(a,c,d){this.zV=a;this.OV=c;this.target=d},KG:function(){this.Ad(this.KG);q.Wb.$C(this.zV,this.OV,this.target);this.sc(this.iw)},
iw:function(){var a=q.Wb.e().Hw();this.Jo.ca("Loading... "+a+"%");100<=a&&this.Ad(this.iw)}});q.zy.$C=function(a,c,d){this.Gb||(this.Gb=new q.zy,this.Gb.s());this.Gb.Rw(a,c,d);a=q.V.e();a.jd?a.HJ(this.Gb):a.GV(this.Gb);return this.Gb};q.oy=q.Ca.extend({ub:null,Vaa:function(a){this.ub=a},v5:function(){return this.ub},ctor:function(a){this.ub=a},$B:function(){q.log("DrawingPrimitive.drawPoint() not implement!")},LH:function(){q.log("DrawingPrimitive.drawPoints() not implement!")},Zh:function(){q.log("DrawingPrimitive.drawLine() not implement!")},NH:function(){q.log("DrawingPrimitive.drawRect() not implement!")},aC:function(){q.log("DrawingPrimitive.drawSolidRect() not implement!")},ge:function(){q.log("DrawingPrimitive.drawPoly() not implement!")},
yw:function(){q.log("DrawingPrimitive.drawSolidPoly() not implement!")},IH:function(){q.log("DrawingPrimitive.drawCircle() not implement!")},MH:function(){q.log("DrawingPrimitive.drawQuadBezier() not implement!")},JH:function(){q.log("DrawingPrimitive.drawCubicBezier() not implement!")},HH:function(){q.log("DrawingPrimitive.drawCardinalSpline() not implement!")},xw:function(){q.log("DrawingPrimitive.drawCardinalSpline() not implement!")}});
q.wE=q.oy.extend({$B:function(a,c){c||(c=1);var d=q.oa.e().ra,e=q.oa.e().za,e=q.a(a.x*d,a.y*e);this.ub.beginPath();this.ub.arc(e.x,-e.y,c*d,0,2*Math.PI,!1);this.ub.closePath();this.ub.fill()},LH:function(a,c,d){if(null!=a){d||(d=1);c=this.ub;var e=q.oa.e().ra,f=q.oa.e().za;c.beginPath();for(var g=0,h=a.length;g<h;g++)c.arc(a[g].x*e,-a[g].y*f,d*e,0,2*Math.PI,!1);c.closePath();c.fill()}},Zh:function(a,c){var d=this.ub,e=q.oa.e().ra,f=q.oa.e().za;d.beginPath();d.moveTo(a.x*e,-a.y*f);d.lineTo(c.x*e,-c.y*
f);d.closePath();d.stroke()},NH:function(a,c){this.Zh(q.a(a.x,a.y),q.a(c.x,a.y));this.Zh(q.a(c.x,a.y),q.a(c.x,c.y));this.Zh(q.a(c.x,c.y),q.a(a.x,c.y));this.Zh(q.a(a.x,c.y),q.a(a.x,a.y))},aC:function(a,c,d){a=[a,q.a(c.x,a.y),c,q.a(a.x,c.y)];this.yw(a,4,d)},ge:function(a,c,d,e){e=e||!1;if(null!=a){if(3>a.length)throw Error("Polygon's point must greater than 2");var f=a[0];c=this.ub;var g=q.oa.e().ra,h=q.oa.e().za;c.beginPath();c.moveTo(f.x*g,-f.y*h);for(var f=1,k=a.length;f<k;f++)c.lineTo(a[f].x*g,
-a[f].y*h);d&&c.closePath();e?c.fill():c.stroke()}},yw:function(a,c,d){this.aK(d.p,d.o,d.g,d.H);this.ge(a,c,!0,!0)},IH:function(a,c,d,e,f){f=f||!1;e=this.ub;var g=q.oa.e().ra,h=q.oa.e().za;e.beginPath();e.arc(0|a.x*g,0|-(a.y*h),c*g,-d,-(d-2*Math.PI),!1);f&&e.lineTo(0|a.x*g,0|-(a.y*h));e.stroke()},MH:function(a,c,d,e){for(var f=[],g=0,h=0;h<e;h++)f.push(q.a(Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y)),g+=1/e;f.push(q.a(d.x,d.y));this.ge(f,e+1,!1,!1)},JH:function(a,
c,d,e,f){for(var g=[],h=0,k=0;k<f;k++)g.push(q.a(Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y)),h+=1/f;g.push(q.a(e.x,e.y));this.ge(g,f+1,!1,!1)},HH:function(a,c){this.xw(a,0.5,c)},xw:function(a,c,d){q.U.strokeStyle="rgba(255,255,255,1)";for(var e=[],f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=q.iy(q.rh(a,f-1),q.rh(a,f-0),q.rh(a,f+1),q.rh(a,f+2),c,g),e.push(f);this.ge(e,
d+1,!1,!1)},drawImage:function(a,c,d,e,f){switch(arguments.length){case 2:this.ub.drawImage(a,c.x,-(c.y+a.height));break;case 3:this.ub.drawImage(a,c.x,-(c.y+d.height),d.width,d.height);break;case 5:this.ub.drawImage(a,c.x,c.y,d.width,d.height,e.x,-(e.y+f.height),f.width,f.height);break;default:throw Error("Argument must be non-nil");}},r2:function(a,c,d){a=a||this.ub;c*=q.oa.e().ra;d instanceof q.Rd&&(d=new q.Ac(0|255*d.p,0|255*d.o,0|255*d.g));d="rgba("+d.p+","+d.o+","+d.g;a.fillStyle=d+",1)";var e=
c/10;a.beginPath();a.moveTo(-c,c);a.lineTo(0,e);a.lineTo(c,c);a.lineTo(e,0);a.lineTo(c,-c);a.lineTo(0,-e);a.lineTo(-c,-c);a.lineTo(-e,0);a.lineTo(-c,c);a.closePath();a.fill();var f=a.createRadialGradient(0,0,e,0,0,c);f.addColorStop(0,d+", 1)");f.addColorStop(0.3,d+", 0.8)");f.addColorStop(1,d+", 0.0)");a.fillStyle=f;a.beginPath();a.arc(0,0,c-e,0,q.HE,!1);a.closePath();a.fill()},p2:function(a,c,d){a=a||this.ub;c*=q.oa.e().ra;d instanceof q.Rd&&(d=new q.Ac(0|255*d.p,0|255*d.o,0|255*d.g));d="rgba("+
d.p+","+d.o+","+d.g;var e=a.createRadialGradient(0,0,c/10,0,0,c);e.addColorStop(0,d+", 1)");e.addColorStop(0.3,d+", 0.8)");e.addColorStop(0.6,d+", 0.4)");e.addColorStop(1,d+", 0.0)");a.fillStyle=e;a.beginPath();a.arc(0,0,c,0,q.HE,!1);a.closePath();a.fill()},fillText:function(a,c,d){this.ub.fillText(a,c,-d)},jW:function(a,c,d,e){this.ub.fillStyle="rgba("+a+","+c+","+d+","+e/255+")";this.ub.strokeStyle="rgba("+a+","+c+","+d+","+e/255+")"},aK:function(a,c,d,e){this.ub.fillStyle="rgba("+(0|255*a)+","+
(0|255*c)+","+(0|255*d)+","+e+")";this.ub.strokeStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+")"},NW:function(){},vW:function(a){this.ub.lineWidth=a*q.oa.e().ra}});
q.KL=q.oy.extend({jr:!1,Jb:null,Ai:-1,gc:null,DA:-1,CA:-1,ctor:function(a){null==a&&(a=q.U);if(!a instanceof WebGLRenderingContext)throw"Can't initialise DrawingPrimitiveWebGL. context need is WebGLRenderingContext";q.oy.prototype.ctor.call(this,a);this.gc=new q.Rd(1,1,1,1)},fk:function(){this.jr||(this.Jb=q.Fh.e().ki(q.m_),this.Ai=this.ub.getUniformLocation(this.Jb.Iw(),"u_color"),this.DA=this.ub.getUniformLocation(this.Jb.Iw(),"u_pointSize"),this.jr=!0)},q2:function(){this.jr=!1},$B:function(a){this.fk();
this.Jb.kf();this.Jb.Ng();q.qe(q.Wg);this.Jb.Bl(this.Ai,new Float32Array(this.gc.Ob,0,4),1);this.Jb.vK(this.DA,this.CA);var c=this.ub,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,new Float32Array([a.x,a.y]),c.STATIC_DRAW);c.vertexAttribPointer(q.Fe,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,1);c.deleteBuffer(d);q.Ch()},LH:function(a){if(a&&0!=a.length){this.fk();this.Jb.kf();this.Jb.Ng();q.qe(q.Wg);this.Jb.Bl(this.Ai,new Float32Array(this.gc.Ob,0,4),1);this.Jb.vK(this.DA,
this.CA);var c=this.ub,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.Ev(a),c.STATIC_DRAW);c.vertexAttribPointer(q.Fe,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,a.length);c.deleteBuffer(d);q.Ch()}},Ev:function(a){for(var c=new Float32Array(2*a.length),d=0;d<a.length;d++)c[2*d]=a[d].x,c[2*d+1]=a[d].y;return c},Zh:function(a,c){this.fk();this.Jb.kf();this.Jb.Ng();q.qe(q.Wg);this.Jb.Bl(this.Ai,new Float32Array(this.gc.Ob,0,4),1);var d=this.ub,e=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,
e);d.bufferData(d.ARRAY_BUFFER,this.Ev([a,c]),d.STATIC_DRAW);d.vertexAttribPointer(q.Fe,2,d.FLOAT,!1,0,0);d.drawArrays(d.LINES,0,2);d.deleteBuffer(e);q.Ch()},NH:function(a,c){this.Zh(q.a(a.x,a.y),q.a(c.x,a.y));this.Zh(q.a(c.x,a.y),q.a(c.x,c.y));this.Zh(q.a(c.x,c.y),q.a(a.x,c.y));this.Zh(q.a(a.x,c.y),q.a(a.x,a.y))},aC:function(a,c,d){a=[a,q.a(c.x,a.y),c,q.a(a.x,c.y)];this.yw(a,4,d)},ge:function(a,c,d){this.fk();this.Jb.kf();this.Jb.Ng();q.qe(q.Wg);this.Jb.Bl(this.Ai,new Float32Array(this.gc.Ob,0,4),
1);c=this.ub;var e=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,e);c.bufferData(c.ARRAY_BUFFER,this.Ev(a),c.STATIC_DRAW);c.vertexAttribPointer(q.Fe,2,c.FLOAT,!1,0,0);d?c.drawArrays(c.LINE_LOOP,0,a.length):c.drawArrays(c.LINE_STRIP,0,a.length);c.deleteBuffer(e);q.Ch()},yw:function(a,c,d){this.fk();d||(d=this.gc);this.Jb.kf();this.Jb.Ng();q.qe(q.Wg);this.Jb.Bl(this.Ai,new Float32Array(d.Ob,0,4),1);c=this.ub;d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.Ev(a),c.STATIC_DRAW);
c.vertexAttribPointer(q.Fe,2,c.FLOAT,!1,0,0);c.drawArrays(c.TRIANGLE_FAN,0,a.length);c.deleteBuffer(d);q.Ch()},IH:function(a,c,d,e,f){this.fk();var g=1;f&&g++;var h=2*Math.PI/e;if(f=new Float32Array(2*(e+2))){for(var k=0;k<=e;k++){var l=k*h,m=c*Math.sin(l+d)+a.y;f[2*k]=c*Math.cos(l+d)+a.x;f[2*k+1]=m}f[2*(e+1)]=a.x;f[2*(e+1)+1]=a.y;this.Jb.kf();this.Jb.Ng();q.qe(q.Wg);this.Jb.Bl(this.Ai,new Float32Array(this.gc.Ob,0,4),1);a=this.ub;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(q.Fe,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+g);a.deleteBuffer(c);q.Ch()}},MH:function(a,c,d,e){this.fk();for(var f=new Float32Array(2*(e+1)),g=0,h=0;h<e;h++)f[2*h]=Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,f[2*h+1]=Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y,g+=1/e;f[2*e]=d.x;f[2*e+1]=d.y;this.Jb.kf();this.Jb.Ng();q.qe(q.Wg);this.Jb.Bl(this.Ai,new Float32Array(this.gc.Ob,0,4),1);a=this.ub;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(q.Fe,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+1);a.deleteBuffer(c);q.Ch()},JH:function(a,c,d,e,f){this.fk();for(var g=new Float32Array(2*(f+1)),h=0,k=0;k<f;k++)g[2*k]=Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,g[2*k+1]=Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y,h+=1/f;g[2*f]=e.x;g[2*f+1]=e.y;this.Jb.kf();this.Jb.Ng();q.qe(q.Wg);this.Jb.Bl(this.Ai,new Float32Array(this.gc.Ob,0,4),1);a=this.ub;c=a.createBuffer();
a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,g,a.STATIC_DRAW);a.vertexAttribPointer(q.Fe,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,f+1);a.deleteBuffer(c);q.Ch()},HH:function(a,c){this.xw(a,0.5,c)},xw:function(a,c,d){this.fk();for(var e=new Float32Array(2*(d+1)),f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=q.iy(q.rh(a,f-1),q.rh(a,f),q.rh(a,f+1),q.rh(a,f+2),c,g),e[2*k]=f.x,e[2*k+1]=f.y;this.Jb.kf();this.Jb.Ng();q.qe(q.Wg);this.Jb.Bl(this.Ai,
new Float32Array(this.gc.Ob,0,4),1);a=this.ub;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,e,a.STATIC_DRAW);a.vertexAttribPointer(q.Fe,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,d+1);a.deleteBuffer(c);q.Ch()},jW:function(a,c,d,e){this.gc.p=a/255;this.gc.o=c/255;this.gc.g=d/255;this.gc.H=e/255},aK:function(a,c,d,e){this.gc.p=a;this.gc.o=c;this.gc.g=d;this.gc.H=e},NW:function(a){this.CA=a*q.Cd()},vW:function(a){this.ub.lineWidth&&this.ub.lineWidth(a)}});q.HE=2*Math.PI;q.$E={N_:0,rZ:1,sZ:2,cY:3,kZ:4,jZ:5,pY:6,AZ:7,VY:8,mM:100,vM:101};q.GZ=0;q.HZ=1;q.EZ=2;q.FZ=3;q.gg=0;q.xk=1;q.Xf=null;q.U=null;q.canvas=null;q.bS=null;q.yd=q.gg;q.vU=q.size(0,0);window.kD=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;window.console||(window.console={},window.console.log=function(){},window.console.assert=function(){});q.HC=!1;
q.Cl=function(a,c,d){function e(){if(q.Bh){var a=q.Bh.e();document[k]?(a.AU(),a.CU()):(q.V.e().mP(),a.AV(),a.BV())}}a=q.Mb(a)||q.Mb("#"+a);var f,g,h;"CANVAS"==a.tagName?(c=c||a.width,d=d||a.height,g=q.Yj=q.qk("DIV"),h=g.style,f=q.canvas=a,f.parentNode.insertBefore(g,f),f.Pm(g),h.width=(c||480)+"px",h.height=(d||320)+"px",g.setAttribute("id","Cocos2dGameContainer"),h.margin="0 auto",f.setAttribute("width",c||480),f.setAttribute("height",d||320)):("DIV"!=a.tagName&&q.log("Warning: target element is not a DIV or CANVAS"),
c=c||a.clientWidth,d=d||a.clientHeight,f=q.canvas=q.qk("CANVAS"),f.iH("gameCanvas"),f.setAttribute("width",c||480),f.setAttribute("height",d||320),g=q.Yj=a,h=g.style,a.appendChild(f),h.width=(c||480)+"px",h.height=(d||320)+"px",h.margin="0 auto");h.position="relative";h.overflow="hidden";g.top="100%";if(!q.fz){q.Ea.Pc&&(q.U=q.Wca=q.wH(f,{stencil:!0,preserveDrawingBuffer:!0,antialias:!q.Ea.dk,alpha:!1}));q.U?(q.yd=q.xk,window.gl=q.U,q.Xf=new q.KL(q.U),q.sa.e().wO()):(q.U=f.getContext("2d"),q.YT=q.U,
q.yd=q.gg,q.U.translate(0,f.height),q.Xf=q.wE?new q.wE(q.U):null);q.vU=q.size(f.width,f.height);q.bS=g;q.log(q.tt);q.De.e();q.fW();q.Ea.dk&&q.sN();var k,l;"undefined"!==typeof document.hidden?(k="hidden",l="visibilitychange"):"undefined"!==typeof document.mozHidden?(k="mozHidden",l="mozvisibilitychange"):"undefined"!==typeof document.msHidden?(k="msHidden",l="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(k="webkitHidden",l="webkitvisibilitychange");"undefined"===typeof document.addEventListener||
"undefined"===typeof k?(q.HC=!1,window.addEventListener("focus",function(){if(q.Bh){var a=q.Bh.e();a.AV();a.BV()}},!1),window.addEventListener("blur",function(){if(q.Bh){var a=q.Bh.e();a.AU();a.CU()}},!1)):(q.HC=!0,document.addEventListener(l,e,!1))}};q.sN=function(){var a=document.createElement("style");a.type="text/css";document.body.appendChild(a);a.textContent="body,canvas,div{ -moz-user-select: none;-webkit-user-select: none;-ms-user-select: none;-khtml-user-select: none;-webkit-tap-highlight-color:rgba(0,0,0,0);}"};
q.ZF=!1;q.fW=function(){q.ZF=!1;q.canvas.oncontextmenu=q.ZF?function(){}:function(){return!1}};q.kj=q.Ca.extend({Yg:null,ctor:function(){this.Yg=0;if(q.dB)throw"Application has been initialized";q.dB=this},Ss:function(a){this.Yg=a},Vba:function(a){a&&q.rect(0,0,0,0)},X5:function(){return q.Ea.dk?q.$E.mM:q.$E.vM},EV:function(){if(!this.KQ())return 0;var a,c=q.V.e(),d=window;q.HR=c;d.kD&&this.Yg==1/60?(a=function(){c.$I();d.kD(a)},d.kD(a)):(a=function(){c.$I()},setInterval(a,1E3*this.Yg));return 0}});
q.kj.e=function(){return q.dB};q.kj.H3=function(){var a=q.aM,c=navigator.language;c||(c=navigator.browserLanguage||navigator.Mca);if(!c)return a;c=c.toLowerCase();switch(c){case "zh-cn":a=q.$L;break;case "fr":a=q.bM;break;case "it":a=q.eM;break;case "de":a=q.cM;break;case "es":a=q.lM;break;case "ru":a=q.kM;break;case "ko":a=q.gM;break;case "ja":a=q.fM;break;case "hu":a=q.dM;break;case "pt":a=q.jM;break;case "ar":a=q.ZL;break;case "no":a=q.hM;break;case "pl":a=q.iM}return a};q.dB=null;q.uk=q.Ca.extend({Yca:null,oG:null,hp:null,pA:null,ctor:function(){this.hp={};window.DOMParser?(this.pA=!0,this.oG=new DOMParser):this.pA=!1},parse:function(a){var c=a;a=this.dI(a);a=this.pG(a,c).documentElement;if("plist"!=a.tagName)throw"cocos2d: "+c+" is not a plist file or you forgot to preload the plist file";for(var c=null,d=0,e=a.childNodes.length;d<e&&(c=a.childNodes[d],1!=c.nodeType);d++);return this.zA(c)},xca:function(a,c){if(null==c||!1===c)a=this.dI(a);return this.pG(a)},pG:function(a,
c){var d;this.pA?d=this.oG.parseFromString(a,"text/xml"):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(a));null==d&&q.log("cocos2d:xml "+c+" not found!");return d},zA:function(a){var c=null;switch(a.tagName){case "dict":c=this.UO(a);break;case "array":c=this.TO(a);break;case "string":if(1==a.childNodes.length)c=a.firstChild.nodeValue;else for(var c="",d=0;d<a.childNodes.length;d++)c+=a.childNodes[d].nodeValue;break;case "false":c=!1;break;case "true":c=!0;break;case "real":c=
parseFloat(a.firstChild.nodeValue);break;case "integer":c=parseInt(a.firstChild.nodeValue,10)}return c},TO:function(a){for(var c=[],d=0,e=a.childNodes.length;d<e;d++){var f=a.childNodes[d];1==f.nodeType&&c.push(this.zA(f))}return c},UO:function(a){for(var c={},d=null,e=0,f=a.childNodes.length;e<f;e++){var g=a.childNodes[e];1==g.nodeType&&("key"==g.tagName?d=g.firstChild.nodeValue:c[d]=this.zA(g))}return c},NU:function(a){a=q.Dd.e().le(a);if(window.XMLHttpRequest){var c=new XMLHttpRequest;c.overrideMimeType&&
c.overrideMimeType("text/xml")}if(null!=c){var d=this;c.onreadystatechange=function(){4==c.readyState&&(c.responseText?(q.Wb.e().ji(),d.hp[a]=c.responseText,c=null):(q.Wb.e().ji(),q.log("cocos2d:There was a problem retrieving the xml data:"+c.statusText)))};c.open("GET",a,!0);c.send(null)}else throw"cocos2d:Your browser does not support XMLHTTP.";},GX:function(a){this.hp.hasOwnProperty(a)&&delete this.hp[a]},getName:function(a){return a.substring(a.lastIndexOf("/",a.length)+1,a.lastIndexOf(".",a.length))},
V3:function(a){return a.substring(a.lastIndexOf(".",a.length)+1,a.length)},dI:function(a){return null!=this.hp?this.hp[a]:null}});q.uk.e=function(){this.Gb||(this.Gb=new q.uk);return this.Gb};q.uk.Gb=null;q.by=q.Ca.extend({GR:function(){q.kj.e().EV();return!0},l1:function(){q.V.e().pause()},k1:function(){q.V.e().JJ()},JQ:function(){q.kj.e().JQ()},LQ:function(){q.kj.e().LQ()},m1:function(){}});q.by.kX=function(){null==q.Gx&&(q.Gx=new q.by);if(!q.Gx)throw"Application initialize failure";return q.Gx};q.Gx=null;q.R=q.w.extend({Yd:null,Kk:q.qj,cl:q.tq,of:null,Ie:0,xg:"",yA:null,Fo:!1,Aj:null,Nj:!1,vm:null,To:0,Gr:0,Pv:null,Zk:!1,Lr:null,Yo:0,Rv:null,Zo:null,Zu:null,nB:0,oB:0,ed:!1,lv:null,mv:null,ctor:function(){q.w.prototype.ctor.call(this);this.Yd=q.Tl();this.Kk=q.pq;this.cl=q.tq;this.jc=!1;this.Aj="";this.of="Arial";this.Nj=this.Fo=!1;this.vm=q.Tl();this.Gr=this.To=0;this.Pv="rgba(128, 128, 128, 0.5)";this.Zk=!1;this.Lr=q.xb();this.Yo=0;this.Rv="";this.Zo=q.xb();this.Zu="rgba(255,255,255,1)";this.oB=this.nB=
0;this.ed=!1;this.Rh()},s:function(){return this.ll(" ",this.of,this.Ie)},JO:function(){this.eA().font=this.Aj},qr:function(a){return this.eA().measureText(a).width},HN:function(a,c){var d=this.qr(a),e=Math.floor(a.length*c/d),f=a.indexOf("\n");if(0.8*e>=f&&0<f)return f+1;if(d<c)return a.length;for(var d=!1,f=c+1,g=-1,h=e,k,l=q.R.IN,m=q.R.oP,n=q.R.GN,r=a.substr(e);k=l.exec(r);){h+=k[0].length;if("\n"==k[2]){d=!0;g=h;break}f=this.qr(a.substr(0,h));if(f>c){-1!=g&&(d=!0);break}g=h;r=a.substr(h)}if(d)return g;
r=a.substr(0,e);for(g=e;k=m.exec(r);)if(g=k[1].length,r=k[1],f=this.qr(r),f<c){n.test(k[2])&&g++;break}return g},description:function(){return"\x3ccc.LabelTTF | FontName \x3d"+this.of+" FontSize \x3d "+this.Ie.toFixed(1)+"\x3e"},l:null,Br:function(a){q.yb.prototype.l.call(this,a);this.yG()},Rh:null,yG:function(){this.ed=!0;var a=this.Ec,c=this.Vb,d=this.Lr,e=this.Zo;this.Pv="rgba("+(0|0.5*a.p)+","+(0|0.5*a.o)+","+(0|0.5*a.g)+","+this.To+")";this.Zu="rgba("+(0|a.p/255*e.p)+","+(0|a.o/255*e.o)+","+
(0|a.g/255*e.g)+", "+c/255+")";this.Rv="rgba("+(0|a.p/255*d.p)+","+(0|a.o/255*d.o)+","+(0|a.g/255*d.g)+", "+c/255+")"},xP:function(){this.ed=!0;var a=this.Lr,c=this.Zo;this.Pv="rgba(128,128,128,"+this.To+")";this.Zu="rgba("+(0|c.p)+","+(0|c.o)+","+(0|c.g)+", 1)";this.Rv="rgba("+(0|a.p)+","+(0|a.o)+","+(0|a.g)+", 1)"},$c:null,uB:function(a){q.yb.prototype.$c.call(this,a);this.Rh()},fa:null,Dr:function(a){this.Li!==a&&(q.w.prototype.fa.call(this,a),this.Rh(),this.ed=!0)},ad:null,Ica:function(a){q.yb.prototype.ad.call(this,
a);this.Rh()},mC:function(){return this.xg},h4:function(){return this.Kk},r6:function(){return this.cl},Q3:function(){return q.size(this.Yd.width,this.Yd.height)},b4:function(){return this.Ie},a4:function(){return this.of},ll:function(a,c,d,e,f,g){a=a?a+"":"";d=d||16;e=e||q.size(0,d);f=f||q.pq;g=g||q.uq;return q.w.prototype.s.call(this)?(this.jc=!1,this.Yd=q.size(e.width,e.height),this.of=c||"Arial",this.Kk=f,this.cl=g,this.Ie=d,this.Aj=this.Ie+"px '"+c+"'",this.zj=q.R.zu(c,this.Ie),this.ca(a),this.Rh(),
this.wB(),this.ed=!1,!0):!1},DC:null,sO:function(a,c){if(!q.w.prototype.s.call(this))return!1;this.xB(c,!1);this.ca(a);return!0},tO:function(a,c){if(!q.w.prototype.s.call(this))return!1;this.Lg(q.Fh.e().ki(q.R.cN));this.xB(c,!1);this.ca(a);return!0},nba:function(a){a&&this.xB(a,!0)},Y5:function(){return this.YO(!1)},UR:function(a,c,d){c=c||0.5;!1===this.Nj&&(this.Nj=!0);var e=this.vm;if(e&&e.width!=a.width||e.height!=a.height)e.width=a.width,e.height=a.height;this.To!=c&&(this.To=c);this.Rh();this.Gr!=
d&&(this.Gr=d);this.ed=!0},k2:function(){this.Nj&&(this.Nj=!1,this.ed=!0)},VR:function(a,c){!1===this.Zk&&(this.Zk=!0);var d=this.Lr;if(d.p!==a.p||d.o!==a.o||d.g!==a.g)d.p=a.p,d.o=a.o,d.g=a.g,this.Rh();this.Yo!==c&&(this.Yo=c||0);this.ed=!0},l2:function(){this.Zk&&(this.Zk=!1,this.ed=!0)},vD:null,BP:function(a){var c=this.Zo;if(c.p!=a.p||c.o!=a.o||c.g!=a.g)c.p=a.p,c.o=a.o,c.g=a.g,this.Rh(),this.ed=!0},CP:function(a){var c=this.Zo;if(c.p!=a.p||c.o!=a.o||c.g!=a.g)c.p=a.p,c.o=a.o,c.g=a.g,this.Rh(),this.ed=
!0},xB:function(a,c){a.js?(this.Yd.width=a.js.width,this.Yd.height=a.js.height):(this.Yd.width=0,this.Yd.height=0);this.Kk=a.TH;this.cl=a.UH;this.of=a.ks;this.Ie=a.fontSize||12;this.Aj=this.Ie+"px '"+this.of+"'";this.zj=q.R.zu(this.of,this.Ie);a.EK&&this.UR(a.FK,a.GK,a.shadowBlur,!1);a.ND&&this.VR(a.strokeColor,a.QK,!1);this.vD(a.VH,!1);c&&this.wB()},YO:function(a){var c=new q.QL;a?(c.fontSize=this.Ie,c.js=q.My(this.Yd)):(c.fontSize=this.Ie,c.js=q.size(this.Yd.width,this.Yd.height));c.ks=this.of;
c.TH=this.Kk;c.UH=this.cl;if(this.Zk){c.ND=!0;var d=this.Lr;c.strokeColor=new q.Ac(d.p,d.o,d.g);c.QK=this.Yo}else c.ND=!1;this.Nj?(c.EK=!0,c.shadowBlur=this.Gr,c.GK=this.To,c.FK=a?q.My(this.vm):q.size(this.vm.width,this.vm.height)):c.Nj=!1;a=this.Zo;c.VH=new q.Ac(a.p,a.o,a.g);return c},zj:18,ca:function(a){a=String(a);this.yA!=a&&(this.yA=a+"",this.YG(),this.ed=!0)},YG:function(){this.xg=this.yA},eaa:function(a){a!==this.Kk&&(this.Kk=a,this.ed=!0)},zba:function(a){a!=this.cl&&(this.cl=a,this.ed=!0)},
Oc:function(a){if(a.width!=this.Yd.width||a.height!=this.Yd.height)this.Yd=a,this.YG(),this.ed=!0},cK:function(a){this.Ie!==a&&(this.Ie=a,this.Aj=a+"px '"+this.of+"'",this.zj=q.R.zu(this.of,a),this.ed=!0)},pW:function(a){this.of&&this.of!=a&&(this.of=a,this.Aj=this.Ie+"px '"+a+"'",this.zj=q.R.zu(a,this.Ie),this.ed=!0)},YN:function(a){if(a){var c=this.nB,d=this.oB,e=this.qa.pa-d,f=this.cl,g=this.Kk,h=this.zj,k=this.Yo;a.setTransform(1,0,0,1,0+0.5*c,e+0.5*d);a.font!=this.Aj&&(a.font=this.Aj);a.fillStyle=
this.Zu;var l=d=0,m=this.Zk;m&&(a.lineWidth=2*k,a.strokeStyle=this.Rv);this.Nj&&(k=this.vm,a.shadowColor=this.Pv,a.shadowOffsetX=k.width,a.shadowOffsetY=-k.height,a.shadowBlur=this.Gr);a.textBaseline=q.R.aQ[f];a.textAlign=q.R.$P[g];c=this.qa.Fa-c;d=g===q.PM?d+c:g===q.qj?d+c/2:d+0;if(this.Fo)for(g=this.Pj.length,f===q.tq?l=h+e-h*g:f===q.vu&&(l=h/2+(e-h*g)/2),f=0;f<g;f++)c=this.Pj[f],k=-e+h*f+l,m&&a.strokeText(c,d,k),a.fillText(c,d,k);else f!==q.tq&&(l=f===q.uq?l-e:l-0.5*e),m&&a.strokeText(this.xg,
d,l),a.fillText(this.xg,d,l)}},eA:function(){if(this.mv)return this.mv;if(!this.lv){var a=document.createElement("canvas"),c=new q.Xb;c.Af(a);this.ka(c);this.lv=a}return this.mv=this.lv.getContext("2d")},ZG:function(){var a=this.Yd.width,c,d;this.cG=[];this.Fo=!1;this.JO();if(0!==a){var e=this.xg;this.Pj=[];c=0;for(d=this.xg.length;c<d;){var f=this.HN(e.substr(c),a);this.Pj.push(e.substr(c,f));c+=f}}else for(this.Pj=this.xg.split("\n"),c=0,d=this.Pj.length;c<d;c++)this.cG.push(this.qr(this.Pj[c]));
0<this.Pj.length&&(this.Fo=!0);d=c=0;this.Zk&&(c=d=2*this.Yo);this.Nj&&(e=this.vm,c+=2*Math.abs(e.width),d+=2*Math.abs(e.height));a=0===a?this.Fo?q.size(0|Math.max.apply(Math,this.cG)+c,0|this.zj*this.Pj.length+d):q.size(0|this.qr(this.xg)+c,0|this.zj+d):0===this.Yd.height?this.Fo?q.size(0|a+c,0|this.zj*this.Pj.length+d):q.size(0|a+c,0|this.zj+d):q.size(0|a+c,0|this.Yd.height+d);this.T(a);this.nB=c;this.oB=d;e=this.Gh;this.Fd.F=0.5*c+(a.width-c)*e.F;this.Fd.J=0.5*d+(a.height-d)*e.J},d:function(){this.ed&&
this.ZG();return q.w.prototype.d.call(this)},wB:function(){var a=this.eA(),c=this.lv,d=this.qa;if(0===this.xg.length)return c.width=1,c.height=d.pa,this.Lb(q.rect(0,0,1,d.pa)),!0;a.font=this.Aj;this.ZG();var e=d.Fa,d=d.pa,f=c.width==e&&c.height==d;c.width=e;c.height=d;f&&a.clearRect(0,0,e,d);this.YN(a);this.Da.ve();this.Lb(q.rect(0,0,e,d));return!0},na:function(a){this.xg&&""!=this.xg&&(this.ed&&(this.ed=!1,this.wB()),q.w.prototype.na.call(this,a||q.U))},Va:null,pg:function(a){if(this.xg&&""!=this.xg){a=
a||q.U;var c=this.Da;c&&c.nc&&(this.Gc.kf(),this.Gc.Ng(),q.bk(this.ea.src,this.ea.Fb),q.Cg(c),q.qe(q.uu),a.bindBuffer(a.ARRAY_BUFFER,this.Iv),this.sf&&(a.bufferData(a.ARRAY_BUFFER,this.Ib.KB,a.STATIC_DRAW),this.sf=!1),a.vertexAttribPointer(q.Fe,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(q.sq,2,a.FLOAT,!1,24,16),a.vertexAttribPointer(q.rq,4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));1===q.vk?(a=this.Ib,a=[q.a(a.Sa.r.x,a.Sa.r.y),q.a(a.Ja.r.x,a.Ja.r.y),q.a(a.Ua.r.x,a.Ua.r.y),q.a(a.Ma.r.x,
a.Ma.r.y)],q.Xf.ge(a,4,!0)):2===q.vk&&(a=this.nC().ab,c=this.cc,a=[q.a(c.x,c.y),q.a(c.x+a.width,c.y),q.a(c.x+a.width,c.y+a.height),q.a(c.x,c.y+a.height)],q.Xf.ge(a,4,!0));q.ai++}},cB:function(a,c,d){this.Wc=c||!1;d=d||a.ab;this.T(d);this.GD(a);c=this.ap;c.x=a.x;c.y=a.y;c.width=a.width;c.height=a.height;c.it=!(0===c.width||0===c.height);a=this.Uh;this.hc&&(a.F=-a.F);this.ic&&(a.J=-a.J);this.cc.F=a.x+(this.qa.Fa-this.wa.width)/2;this.cc.J=a.y+(this.qa.pa-this.wa.height)/2;this.ib&&(this.Ha=!0)},BG:function(a){var c=
this.ib?this.Ra.aa():this.Da;if(c){var d=c.tp(),e=c.sp(),f,g=this.Ib;this.Wc?(q.Nt?(c=(2*a.x+1)/(2*d),d=c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/d,f=a.y/e,a=(a.y+a.width)/e),this.hc&&(e=f,f=a,a=e),this.ic&&(e=c,c=d,d=e),g.Ja.A.Oa=c,g.Ja.A.ja=f,g.Ua.A.Oa=c,g.Ua.A.ja=a,g.Sa.A.Oa=d,g.Sa.A.ja=f,g.Ma.A.Oa=d,g.Ma.A.ja=a):(q.Nt?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+
a.height)/e),this.hc&&(e=c,c=d,d=e),this.ic&&(e=f,f=a,a=e),g.Ja.A.Oa=c,g.Ja.A.ja=a,g.Ua.A.Oa=d,g.Ua.A.ja=a,g.Sa.A.Oa=c,g.Sa.A.ja=f,g.Ma.A.Oa=d,g.Ma.A.ja=f);this.sf=!0}}});
q.Ea.Pc?(b=q.R.prototype,b.l=q.w.prototype.l,b.Rh=q.R.prototype.xP,b.$c=q.w.prototype.$c,b.fa=q.w.prototype.fa,b.ad=q.w.prototype.ad,b.DC=q.R.prototype.tO,b.vD=q.R.prototype.CP,b.Va=q.R.prototype.pg,b.Lb=q.w.prototype.CG):(b=q.R.prototype,b.l=q.R.prototype.Br,b.Rh=q.R.prototype.yG,b.$c=q.R.prototype.uB,b.fa=q.R.prototype.Dr,b.ad=q.R.prototype.VG,b.DC=q.R.prototype.sO,b.vD=q.R.prototype.BP,b.Va=q.w.prototype.Va,b.Lb=q.R.prototype.cB);q.R.$P=["left","center","right"];q.R.aQ=["top","middle","bottom"];
q.R.IN=/(.+?)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;q.R.oP=/(.*)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;q.R.GN=/[\s\-\/\\\:]/;q.R.create=function(a,c,d,e,f,g){var h=new q.R;return h.ll(a,c,d,e,f,g)?h:null};q.R.a2=function(a,c){var d=new q.R;return d&&d.DC(a,c)?d:null};q.R.cN=q.XM?q.Ly:q.j_;q.R.Ul=document.createElement("div");q.R.Ul.style.fontFamily="Arial";q.R.Ul.style.position="absolute";q.R.Ul.style.left="-100px";q.R.Ul.style.top="-100px";q.R.Ul.style.lineHeight="normal";
document.body.appendChild(q.R.Ul);q.R.zu=function(a,c){var d=q.R.pF[a+"."+c];if(0<d)return d;var e=q.R.Ul;e.innerHTML="ajghl~!";e.style.fontFamily=a;e.style.fontSize=c+"px";d=e.clientHeight;q.R.pF[a+"."+c]=d;e.innerHTML="";return d};q.R.pF={};q.TL=q.Ca.extend({Ic:null,target:null,Nm:0,ph:null,Sm:!1,paused:!1,wC:null,ctor:function(){this.Ic=[];this.P=null;this.Nm=0;this.ph=null;this.paused=this.Sm=!1;this.wC=null}});
q.pL=q.Ca.extend({Jh:null,bo:null,nf:null,Ci:!1,B0:function(a,c){for(var d=0;d<a.length;d++)if(c==a[d].target)return a[d];return null},ctor:function(){this.Jh={};this.bo=[];this.nf=null;this.Ci=!1},vQ:function(a,c,d){if(!a)throw"cc.ActionManager.addAction(): action must be non-null";if(!c)throw"cc.ActionManager.addAction(): action must be non-null";var e=this.Jh[c.ac];e||(e=new q.TL,e.paused=d,e.target=c,this.Jh[c.ac]=e,this.bo.push(e));this.mN(e);e.Ic.push(a);a.Z(c)},Q9:function(){for(var a=this.bo,
c=0;c<a.length;c++){var d=a[c];d&&this.EJ(d.target,!0)}},EJ:function(a,c){if(null!=a){var d=this.Jh[a.ac];d&&(-1===d.Ic.indexOf(d.ph)||d.Sm||(d.Sm=!0),d.Ic=[],this.nf!=d||c?this.Jz(d):this.Ci=!0)}},DJ:function(a){if(null!=a){var c=this.Jh[a.om.ac];if(c)for(var d=0;d<c.Ic.length;d++){if(c.Ic[d]==a){c.Ic.splice(d,1);break}}else q.log("cocos2d: removeAction: Target not found")}},jV:function(a,c){a==q.Kn&&q.log("cc.ActionManager.removeActionByTag(): an invalid tag");if(!c)throw"cc.ActionManager.removeActionByTag(): target must be non-null";
var d=this.Jh[c.ac];if(d)for(var e=d.Ic.length,f=0;f<e;++f){var g=d.Ic[f];if(g&&g.kd===a&&g.om==c){this.bP(f,d);break}}},fC:function(a,c){a==q.Kn&&q.log("cc.ActionManager.getActionByTag(): an invalid tag");var d=this.Jh[c.ac];if(d){if(null!=d.Ic)for(var e=0;e<d.Ic.length;++e){var f=d.Ic[e];if(f&&f.kd===a)return f}q.log("cocos2d : getActionByTag(tag \x3d"+a+"): Action not found")}return null},dU:function(a){return(a=this.Jh[a.ac])?a.Ic?a.Ic.length:0:0},Os:function(a){if(a=this.Jh[a.ac])a.paused=!0},
rn:function(a){if(a=this.Jh[a.ac])a.paused=!1},s9:function(){for(var a=[],c=this.bo,d=0;d<c.length;d++){var e=c[d];e&&!e.paused&&(e.paused=!0,a.push(e.target))}return a},CV:function(a){if(a)for(var c=0;c<a.length;c++)a[c]&&this.rn(a[c])},D9:function(){q.V.e().yf().Zp(this)},bP:function(a,c){c.Ic[a]!=c.ph||c.Sm||(c.Sm=!0);q.bq(c.Ic,a);c.Nm>=a&&c.Nm--;0==c.Ic.length&&(this.nf==c?this.Ci=!0:this.Jz(c))},Jz:function(a){a&&(delete this.Jh[a.target.ac],q.Pd(this.bo,a),a.Ic=null,a.target=null)},mN:function(a){null==
a.Ic&&(a.Ic=[])},update:function(a){for(var c=this.bo,d,e=0;e<c.length;e++){d=this.nf=c[e];if(!d.paused)for(d.Nm=0;d.Nm<d.Ic.length;d.Nm++)if(d.ph=d.Ic[d.Nm],d.ph){d.Sm=!1;d.ph.step(a);if(d.Sm)d.ph=null;else if(d.ph.ei()){d.ph.stop();var f=d.ph;d.ph=null;this.DJ(f)}d.ph=null}this.Ci&&0===d.Ic.length&&this.Jz(d)}}});q.mf=q.Ca.extend({K:null,Gv:q.nj(),Lf:0,ctor:function(a,c,d){this.K=q.a(a||0,c||0);this.Lf=d||0},t4:function(){return this.K},AS:function(){return this.Gv},N3:function(){return q.wd(this.K,this.Gv)},k4:function(){return this.Lf},l4:function(){return this.Lf},DD:function(a,c,d){this.Gv=this.K;this.K=q.a(c||0,d||0);this.Lf=a},Rf:function(a,c){this.Gv=q.a(a||0,c||0)}});
q.iF=q.Ca.extend({g0:null,jb:function(){return!1},md:function(){},Cf:function(){},gk:function(){},gJ:function(){},jJ:function(){},iJ:function(){},hJ:function(){},Bca:function(){},Aca:function(){}});q.A_=q.iF.extend({jb:function(){return!1},md:function(){},Cf:function(){},gk:function(){}});q.t_=q.iF.extend({gJ:function(){},jJ:function(){},iJ:function(){},hJ:function(){}});q.Yn=q.Ca.extend({Ub:null,rf:0,wo:0,dc:function(){return this.Ub},yh:function(a){this.Ub=a},BS:function(){return this.rf},Xs:function(a){this.rf=a},jS:function(){return this.wo},kW:function(a){this.wo=a},ck:function(a,c){if(!a)throw"cc.TouchHandler.initWithDelegate(): touch delegate should not be null";this.Ub=a;this.rf=c;this.wo=0;return!0}});q.Yn.create=function(a,c){var d=new q.Yn;d&&d.ck(a,c);return d};q.Qy=q.Yn.extend({ck:function(a,c){return q.Yn.prototype.ck.call(this,a,c)}});
q.Qy.create=function(a,c){var d=new q.Qy;d&&d.ck(a,c);return d};q.nu=q.Yn.extend({Vv:!1,ro:null,I7:function(){return this.Vv},kba:function(a){this.Vv=a},y3:function(){return this.ro},ck:function(a,c,d){return q.Yn.prototype.ck.call(this,a,c)?(this.ro=[],this.Vv=d,!0):!1}});q.nu.create=function(a,c,d){var e=new q.nu;e&&e.ck(a,c,d);return e};q.SM=1;q.VM=2;q.UM=4;q.TM=8;q.D_=q.SM|q.VM|q.UM|q.TM;q.Uy=0;q.Xy=1;q.Wy=2;q.Vy=3;q.C_=4;q.UI=function(a,c){return a.rf>c.rf};q.ru=function(a){this.type=a};
q.ga=q.Ca.extend({Kj:!1,Qe:null,Pe:null,km:!1,Tr:!1,fw:!1,Lk:null,Cj:null,ew:!1,xj:!1,lO:[new q.ru(q.Uy),new q.ru(q.Xy),new q.ru(q.Wy),new q.ru(q.Vy)],s:function(){this.xj=!0;this.Qe=[];this.Pe=[];this.Lk=[];this.Cj=[];this.Kj=this.km=this.ew=this.Tr=this.fw=!1;q.ga.fV();return!0},Cr:function(a){this.Kj=a},gO:function(){return this.Kj},j7:function(){return this.xj},iW:function(a){this.xj=a},qN:function(a,c){var d=q.Qy.create(a,c||0);this.km?-1!=this.Cj.indexOf(a)?q.Pd(this.Cj,a):(this.Lk.push(d),
this.Tr=!0):this.Pe=this.op(d,this.Pe)},rN:function(a,c,d){c=q.nu.create(a,c,d);this.km?-1!=this.Cj.indexOf(a)?q.Pd(this.Cj,a):(this.Lk.push(c),this.Tr=!0):this.Qe=this.op(c,this.Qe)},op:function(a,c){for(var d=0,e,f=0;f<c.length;f++)if(e=c[f])if(e.rf<a.rf&&++d,e.dc()==a.dc())return q.log("cc.TouchDispatcher.forceAddHandler(): The handler has been added."),c;return q.Ml(c,a,d)},WH:function(){this.Pe.length=0;this.Qe.length=0},eP:function(a){if(null!=a)if(this.km){var c=this.RH(this.Lk,a);c?q.Pd(this.Lk,
c):(this.Cj.push(a),this.fw=!0)}else this.XH(a)},lV:function(){this.km?this.ew=!0:this.WH()},Xs:function(a,c){if(!c)throw"cc.TouchDispatcher.setPriority(): delegate should be non-null.";var d=this.RH(c);d?d.rf!=a&&(d.Xs(a),this.yJ(this.Qe),this.yJ(this.Pe)):q.log("cc.TouchDispatcher.setPriority(): Can't find TouchHandler.")},touches:function(a,c,d){if(0>d||4<=d)throw"cc.TouchDispatcher.touches(): invalid index";this.km=!0;var e=this.Qe.length,f=this.Pe.length,g=e&&f,h=g?a.slice():a,k=this.lO[d];if(0<
e)for(var l,m,n=0;n<a.length;n++)for(var e=a[n],r=0;r<this.Qe.length;r++){l=this.Qe[r];if(!l)break;m=!1;if(d==q.Uy)l.dc().jb&&(m=l.dc().jb(e,c))&&l.ro.push(e);else if(0<l.ro.length)switch(m=!0,k.type){case q.Xy:q.Ea.dk?l.dc().md&&l.dc().md(e,c):this.Kj&&l.dc().md&&l.dc().md(e,c);break;case q.Wy:l.dc().Cf&&l.dc().Cf(e,c);l.ro.length=0;break;case q.Vy:l.dc().gk&&l.dc().gk(e,c),l.ro.length=0}if(m&&l.Vv){g&&q.Pd(h,e);break}}if(0<f)for(n=0;n<this.Pe.length&&(l=this.Pe[n],l);n++);this.km=!1;if(this.fw){this.fw=
!1;for(n=0;n<this.Cj.length;n++)this.XH(this.Cj[n]);this.Cj.length=0}if(this.Tr){this.Tr=!1;for(n=0;n<this.Lk.length;n++){l=this.Lk[n];if(!l)break;l instanceof q.nu?this.Qe=this.op(l,this.Qe):this.Pe=this.op(l,this.Pe)}this.Lk.length=0}this.ew&&(this.ew=!1,this.WH())},Sx:function(a,c){this.xj&&this.touches(a,c,q.Uy)},Tx:function(a,c){this.xj&&this.touches(a,c,q.Xy)},dt:function(a,c){this.xj&&this.touches(a,c,q.Wy)},PD:function(a,c){this.xj&&this.touches(a,c,q.Vy)},RH:function(a,c){switch(arguments.length){case 1:c=
arguments[0];if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(var d=0;d<this.Qe.length;d++)if(this.Qe[d].dc()==c)return this.Qe[d];for(d=0;d<this.Pe.length;d++)if(this.Pe[d].dc()==c)return this.Pe[d];return null;case 2:if(!a)throw"cc.TouchDispatcher.findHandler(): array should be non-null.";if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(d=0;d<a.length;d++)if(a[d].dc()==c)return a[d];return null;default:throw"Argument must be non-nil ";
}},XH:function(a){for(var c,d=0;d<this.Pe.length;d++)if((c=this.Pe[d])&&c.dc()==a){q.Pd(this.Pe,c);break}for(d=0;d<this.Qe.length;d++)if((c=this.Qe[d])&&c.dc()==a){q.Pd(this.Qe,c);break}},yJ:function(a){a.sort(q.UI)}});q.ga.qb=q.a(0,0);q.ga.RI=!1;
q.Ui=function(a){var c=document.documentElement,d=window,e=null,e="function"===typeof a.getBoundingClientRect?a.getBoundingClientRect():a instanceof HTMLCanvasElement?{left:0,top:0,width:a.width,height:a.height}:{left:0,top:0,width:parseInt(a.style.width),height:parseInt(a.style.height)};return{left:e.left+d.pageXOffset-c.clientLeft,top:e.top+d.pageYOffset-c.clientTop,width:e.width,height:e.height}};
q.DM=function(a,c){var d=q.Ui(a),e,f;null!=c.pageX?(e=c.pageX,f=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,e=c.clientX,f=c.clientY);e=q.oa.e().Zj(e,f,d);d=new q.mf(e.x,e.y);d.Rf(q.ga.qb.x,q.ga.qb.y);q.ga.qb.x=e.x;q.ga.qb.y=e.y;e=[];e.push(d);q.oa.e().dt(e,null)};
q.ga.fV=function(){var a=q.canvas;if(!q.ga.RI){if(q.Ea.dk)if(window.navigator.msPointerEnabled){var c={MSPointerDown:"touchesBegan",MSPointerMove:"touchesMoved",MSPointerUp:"touchesEnded",MSPointerCancel:"touchesCancelled"},d;for(d in c)(function(c,d){a.addEventListener(c,function(c){var e=q.Ui(a);e.left-=document.body.scrollLeft;e.top-=document.body.scrollTop;var k,l;k=c.clientX;l=c.clientY;k=q.oa.e().Zj(k,l,e);e=new q.mf(k.x,k.y);e.Rf(q.ga.qb.x,q.ga.qb.y);q.ga.qb.x=k.x;q.ga.qb.y=k.y;q.V.e().Se[d]([e],
null);c.stopPropagation();c.preventDefault()},!1)})(d,c[d])}else a.addEventListener("touchstart",function(c){if(c.changedTouches){var d=[],g=q.Ui(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=q.oa.e().Zj(k,l,g),h.hasOwnProperty("identifier")?(h=new q.mf(k.x,k.y,h.identifier),l=q.ga.bv(h).K,h.Rf(l.x,l.y),q.ga.zG(h)):(h=new q.mf(k.x,k.y),h.Rf(q.ga.qb.x,q.ga.qb.y)),q.ga.qb.x=k.x,
q.ga.qb.y=k.y,d.push(h);q.oa.e().Sx(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchmove",function(c){if(c.changedTouches){var d=[],g=q.Ui(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=q.oa.e().Zj(k,l,g),h.hasOwnProperty("identifier")?(h=new q.mf(k.x,k.y,h.identifier),l=q.ga.bv(h).K,h.Rf(l.x,l.y),q.ga.zG(h)):(h=new q.mf(k.x,k.y),h.Rf(q.ga.qb.x,q.ga.qb.y)),
q.ga.qb.x=k.x,q.ga.qb.y=k.y,d.push(h);q.oa.e().Tx(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchend",function(c){if(c.changedTouches){var d=[],g=q.Ui(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=q.oa.e().Zj(k,l,g),h.hasOwnProperty("identifier")?(h=new q.mf(k.x,k.y,h.identifier),l=q.ga.bv(h).K,h.Rf(l.x,l.y),q.ga.IF(h)):(h=new q.mf(k.x,k.y),h.Rf(q.ga.qb.x,
q.ga.qb.y)),q.ga.qb.x=k.x,q.ga.qb.y=k.y,d.push(h);q.oa.e().dt(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchcancel",function(c){if(c.changedTouches){var d=[],g=q.Ui(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=q.oa.e().Zj(k,l,g),h.hasOwnProperty("identifier")?(h=new q.mf(k.x,k.y,h.identifier),l=q.ga.bv(h).K,h.Rf(l.x,l.y),q.ga.IF(h)):(h=new q.mf(k.x,
k.y),h.Rf(q.ga.qb.x,q.ga.qb.y)),q.ga.qb.x=k.x,q.ga.qb.y=k.y,d.push(h);q.oa.e().PD(d,null);c.stopPropagation();c.preventDefault()}},!1);else window.addEventListener("mousedown",function(){q.V.e().Se.Cr(!0)}),window.addEventListener("mouseup",function(c){q.V.e().Se.Cr(!1);var d=q.Ui(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);q.rb(new q.jg(d.left,d.top,d.width,d.height),q.a(g,c))||(g=q.oa.e().Zj(g,c,d),d=new q.mf(g.x,
g.y),d.Rf(q.ga.qb.x,q.ga.qb.y),q.ga.qb.x=g.x,q.ga.qb.y=g.y,g=[],g.push(d),q.oa.e().dt(g,null))}),a.addEventListener("mousedown",function(c){var d=q.Ui(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=q.oa.e().Zj(g,c,d);d=new q.mf(g.x,g.y);d.Rf(q.ga.qb.x,q.ga.qb.y);q.ga.qb.x=g.x;q.ga.qb.y=g.y;g=[];g.push(d);q.oa.e().Sx(g,null)}),a.addEventListener("mouseup",function(c){q.DM(a,c)}),a.addEventListener("mousemove",function(c){var d=
q.Ui(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=q.oa.e().Zj(g,c,d);d=new q.mf(g.x,g.y);d.Rf(q.ga.qb.x,q.ga.qb.y);q.ga.qb.x=g.x;q.ga.qb.y=g.y;g=[];g.push(d);q.oa.e().Tx(g,null)});q.ga.RI=!0}};q.ga.bv=function(a){for(var c=null,d=q.ga.GA,e=a.Lf,f=d.length-1;0<=f;f--)if(d[f].Lf==e){c=d[f];break}c||(c=a);return c};
q.ga.zG=function(a){for(var c=!1,d=q.ga.GA,e=a.Lf,f=d.length-1;0<=f;f--)if(d[f].Lf==e){d[f]=a;c=!0;break}c||(50>=d.length?d.push(a):(d[q.ga.HA]=a,q.ga.HA=(q.ga.HA+1)%50))};q.ga.IF=function(a){var c,d=q.ga.GA;c=a.Lf;for(a=d.length-1;0<=a;a--)if(d[a].Lf==c){c=d.pop();a!=d.length&&(d[a]=c);break}};q.ga.GA=[];q.ga.HA=0;q.eD=function(a,c,d){q.V.e().Se.rN(d,a,c)};q.gV=function(a,c){q.V.e().Se.qN(a,c)};q.WK=function(a){q.V.e().Se.eP(a)};q.nM=1;q.EE=2;q.uZ=4;q.rM=8;q.XZ=16;q.YZ=32;q.ZZ=64;q.JZ=128;q.KZ=256;q.LZ=512;q.WE=1024;q.oM=2048;q.pM=4096;q.qM=0;q.vZ=1;q.FE=2;q.yZ=q.Ca.extend({hU:function(){return!1},iU:function(){return!1},ii:function(){return!1},lU:function(){return!1},pU:function(){return!1},qU:function(){return!1},rU:function(){return!1},mU:function(){return!1},nU:function(){return!1},oU:function(){return!1},sU:function(){return!1},jU:function(){return!1},kU:function(){return!1}});
q.sM=q.mf.extend({bH:0,AF:q.qM,w6:function(){return this.bH},AK:function(a){this.bH=a},q3:function(){return this.AF},YV:function(a){this.AF=a}});q.Ay=q.Ca.extend({Ub:null,rf:0,wo:0,dc:function(){return this.Ub},yh:function(a){this.Ub=a},BS:function(){return this.rf},Xs:function(a){this.rf=a},jS:function(){return this.wo},kW:function(a){this.wo=a},ck:function(a,c){this.Ub=a;this.rf=c}});q.Ay.create=function(a,c){var d=new q.Ay;d.ck(a,c);return d};
q.Td=q.Ca.extend({Kj:!1,Kv:!1,Mf:null,xj:!1,s:function(){this.xj=!0;this.Mf=[];this.Kv=this.Kj=!1;q.Td.$O();return!0},Cr:function(a){this.Kj=a},gO:function(){return this.Kj},AG:function(a){this.Kv=a},n0:function(){return this.Kv},kH:function(a,c){var d=q.Ay.create(a,c);this.Mf=this.op(d,this.Mf)},op:function(a,c){for(var d=0,e=0;e<c.length;e++){var f=c[e];if(f&&(f.rf<a.rf&&++d,f.dc()==a.dc()))return q.log("cc.MouseDispatcher.forceAddHandler(): handler has been added."),c}return q.Ml(c,a,d)},FJ:function(a){if(null!=
a)for(var c=0;c<this.Mf.length;c++){var d=this.Mf[c];if(d&&d.dc()==a){q.Pd(this.Mf,d);break}}},eO:function(a){for(var c=0;c<this.Mf.length;c++)if(this.Mf[c]&&this.Mf[c].dc()==a)return this.Mf[c];return null},Xs:function(a,c){if(!c)throw"cc.MouseDispatcher.setPriority(): delegate should be non-null";var d=this.eO(c);d?d.rf!=a&&(d.Xs(a),this.Mf.sort(q.UI)):q.log("cc.MouseDispatcher.setPriority(): Can't find MouseHandler in array")},T9:function(){this.Mf.length=0},bn:function(a,c,d){for(c=0;c<this.Mf.length;c++){var e=
this.Mf[c];switch(d){case q.EE:this.Kj||this.Kv||!e.dc().ii||e.dc().ii(a)}}}});q.Td.Fv=q.a(0,0);q.Td.CO=!1;
q.Td.$O=function(){var a=q.canvas;function c(c){var e=q.Ui(a),f=c.pageX,g=c.pageY,h=q.oa.e(),f=(f-e.left)/h.ra,e=(e.height-(g-e.top))/h.za,g=new q.sM(f,e);g.Rf(q.Td.Fv.x,q.Td.Fv.y);g.YV(c.button);q.Td.Fv.x=f;q.Td.Fv.y=e;return g}q.Td.CO||(window.addEventListener("mousedown",function(a){a.button==q.FE?q.V.e().xf().AG(!0):q.V.e().xf().Cr(!0)}),window.addEventListener("mouseup",function(a){a.button==q.FE?q.V.e().xf().AG(!1):q.V.e().xf().Cr(!1)}),a.addEventListener("mousedown",function(a){q.V.e().xf().bn(c(a),
a,q.nM)}),a.addEventListener("mouseup",function(a){q.V.e().xf().bn(c(a),a,q.rM)}),a.addEventListener("mousemove",function(a){q.V.e().xf().bn(c(a),a,q.EE)}),a.addEventListener("mousewheel",function(a){var e=c(a);e.AK(a.wheelDelta);q.V.e().xf().bn(e,a,q.WE)},!1),a.addEventListener("DOMMouseScroll",function(a){var e=c(a);e.AK(-120*a.detail);q.V.e().xf().bn(e,a,q.WE)}),a.addEventListener("mouseout",function(a){q.V.e().xf().bn(c(a),a,q.pM)},!1),a.addEventListener("mouseover",function(a){q.V.e().xf().bn(c(a),
a,q.oM)},!1))};q.Oca=function(){return{x:0,y:0}};q.Il=function(a,c){return{x:a,y:c}};q.Pg=function(a,c){return q.Il(a.x+c.x,a.y+c.y)};q.od=function(a,c){return q.Il(a.x-c.x,a.y-c.y)};q.fg=function(a,c){return q.Il(a.x*c,a.y*c)};q.Zx=function(a){return q.Il(-a.y,a.x)};q.hj=function(a){return q.Il(-a.x,-a.y)};q.MX=function(a,c){return a.x*c.x+a.y*c.y};q.Nca=function(a){return q.Il(Math.cos(a),Math.sin(a))};q.VD=function(a){a=q.xh(q.a(a.x,a.y));return q.Il(a.x,a.y)};q.ui=function(a){return q.Il(a.x,a.y)};
q.Bb=function(a){return{Oa:a.x,ja:a.y}};
q.IL=q.C.extend({bb:null,ea:null,ms:function(){return this.ea},yl:function(a){this.ea=a},ctor:function(){q.C.prototype.ctor.call(this);this.bb=[];this.ea=new q.Ol(q.Ce,q.Be)},Va:function(a){a=a||q.U;var c=q.oa.e().ra;this.ea&&770==this.ea.src&&1==this.ea.Fb&&(a.globalCompositeOperation="lighter");for(var d=0;d<this.bb.length;d++){var e=this.bb[d];e.type===q.Sg.eF&&(a.fillStyle="rgba("+(0|255*e.color.p)+","+(0|255*e.color.o)+","+(0|255*e.color.g)+","+e.color.H+")",q.Xf.$B(e.position,e.cD));e.type===
q.Sg.gF&&(a.strokeStyle="rgba("+(0|255*e.color.p)+","+(0|255*e.color.o)+","+(0|255*e.color.g)+","+e.color.H+")",a.lineWidth=2*e.cD*c,a.lineCap="round",q.Xf.Zh(e.Um,e.Hl));e.type===q.Sg.fF&&(a.fillStyle="rgba("+(0|255*e.fillColor.p)+","+(0|255*e.fillColor.o)+","+(0|255*e.fillColor.g)+","+e.fillColor.H+")",q.Xf.ge(e.XD,e.count,!1,!0),a.lineWidth=2*e.borderWidth*c,a.lineCap="round",a.strokeStyle="rgba("+(0|255*e.borderColor.p)+","+(0|255*e.borderColor.o)+","+(0|255*e.borderColor.g)+","+e.borderColor.H+
")",q.Xf.ge(e.XD,e.count,!0,!1))}},MR:function(a,c,d){var e=new q.bz(q.Sg.eF);e.position=a;e.cD=c;e.color=d;this.bb.push(e)},QR:function(a,c,d,e){var f=new q.bz(q.Sg.gF);f.Um=a;f.Hl=c;f.cD=d;f.color=e;this.bb.push(f)},ge:function(a,c,d,e){var f=new q.bz(q.Sg.fF);f.XD=a;f.count=a.length;f.fillColor=c;f.borderWidth=d;f.borderColor=e;this.bb.push(f)},clear:function(){this.bb.length=0}});
q.JL=q.C.extend({io:0,bb:null,bl:null,PG:null,OG:null,ea:null,Ha:!1,ms:function(){return this.ea},yl:function(a){this.ea=a},ctor:function(){q.C.prototype.ctor.call(this);this.bb=[];this.ea=new q.Ol(q.Ce,q.Be)},s:function(){return q.C.prototype.s.call(this)?(this.Lg(q.Fh.e().ki(q.i_)),this.Wz(512),this.PG=q.U.createBuffer(),this.Ha=!0):!1},kP:function(){var a=q.U;q.qe(q.uu);a.bindBuffer(a.ARRAY_BUFFER,this.PG);this.Ha&&(a.bufferData(a.ARRAY_BUFFER,this.bl,a.STREAM_DRAW),this.Ha=!1);var c=q.Sb.BYTES_PER_ELEMENT;
a.vertexAttribPointer(q.Fe,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(q.rq,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(q.sq,2,a.FLOAT,!1,c,12);a.drawArrays(a.TRIANGLES,0,3*this.bb.length);q.Ch()},Wz:function(a){if(this.bb.length+a>this.io){var c=q.Cc.BYTES_PER_ELEMENT;this.io+=Math.max(this.io,a);if(null==this.bb||0===this.bb.length)this.bb=[],this.bl=new ArrayBuffer(c*this.io),this.OG=new Uint8Array(this.bl);else{a=[];for(var d=new ArrayBuffer(c*this.io),e=0;e<this.bb.length;e++)a[e]=new q.Cc(this.bb[e].H,
this.bb[e].g,this.bb[e].Aa,d,e*c);this.OG=new Uint8Array(d);this.bb=a;this.bl=d}}},Va:function(){q.bk(this.ea.src,this.ea.Fb);this.Gc.kf();this.Gc.wK();this.kP()},MR:function(a,c,d){d={p:0|255*d.p,o:0|255*d.o,g:0|255*d.g,H:0|255*d.H};var e={r:{x:a.x-c,y:a.y-c},I:d,A:{Oa:-1,ja:-1}},f={r:{x:a.x+c,y:a.y+c},I:d,A:{Oa:1,ja:1}},g={r:{x:a.x+c,y:a.y-c},I:d,A:{Oa:1,ja:-1}};this.bb.push(new q.Cc(e,{r:{x:a.x-c,y:a.y+c},I:d,A:{Oa:-1,ja:1}},f,this.bl,this.bb.length*q.Cc.BYTES_PER_ELEMENT));this.bb.push(new q.Cc(e,
f,g,this.bl,this.bb.length*q.Cc.BYTES_PER_ELEMENT));this.Ha=!0},QR:function(a,c,d,e){this.Wz(18);e={p:0|255*e.p,o:0|255*e.o,g:0|255*e.g,H:0|255*e.H};var f=q.ui(a);c=q.ui(c);a=q.VD(q.Zx(q.od(c,f)));var g=q.Zx(a),h=q.fg(a,d);d=q.fg(g,d);var k=q.Pg(c,q.od(h,d)),l=q.od(c,h),m=q.Pg(c,h),n=q.od(f,h),r=q.Pg(f,h),p=q.od(f,q.od(h,d)),f=q.Pg(f,q.Pg(h,d)),t=q.Cc.BYTES_PER_ELEMENT,w=this.bl;this.bb.push(new q.Cc({r:q.od(c,q.Pg(h,d)),I:e,A:q.Bb(q.hj(q.Pg(a,g)))},{r:k,I:e,A:q.Bb(q.od(a,g))},{r:l,I:e,A:q.Bb(q.hj(a))},
w,this.bb.length*t));this.bb.push(new q.Cc({r:m,I:e,A:q.Bb(a)},{r:k,I:e,A:q.Bb(q.od(a,g))},{r:l,I:e,A:q.Bb(q.hj(a))},w,this.bb.length*t));this.bb.push(new q.Cc({r:m,I:e,A:q.Bb(a)},{r:n,I:e,A:q.Bb(q.hj(a))},{r:l,I:e,A:q.Bb(q.hj(a))},w,this.bb.length*t));this.bb.push(new q.Cc({r:m,I:e,A:q.Bb(a)},{r:n,I:e,A:q.Bb(q.hj(a))},{r:r,I:e,A:q.Bb(a)},w,this.bb.length*t));this.bb.push(new q.Cc({r:p,I:e,A:q.Bb(q.od(g,a))},{r:n,I:e,A:q.Bb(q.hj(a))},{r:r,I:e,A:q.Bb(a)},w,this.bb.length*t));this.bb.push(new q.Cc({r:p,
I:e,A:q.Bb(q.od(g,a))},{r:f,I:e,A:q.Bb(q.Pg(a,g))},{r:r,I:e,A:q.Bb(a)},w,this.bb.length*t));this.Ha=!0},ge:function(a,c,d,e){c={p:0|255*c.p,o:0|255*c.o,g:0|255*c.g,H:0|255*c.H};e={p:0|255*e.p,o:0|255*e.o,g:0|255*e.g,H:0|255*e.H};var f=[],g,h,k,l,m=a.length;for(g=0;g<m;g++){h=q.ui(a[(g-1+m)%m]);k=q.ui(a[g]);l=q.ui(a[(g+1)%m]);var n=q.VD(q.Zx(q.od(k,h)));k=q.VD(q.Zx(q.od(l,k)));f[g]={offset:q.fg(q.Pg(n,k),1/(q.MX(n,k)+1)),aJ:k}}n=0<d;this.Wz(3*(3*m-2));var r=q.Cc.BYTES_PER_ELEMENT,p=this.bl,t=this.bb,
w=!1==n?0.5:0;for(g=0;g<m-2;g++)h=q.od(q.ui(a[0]),q.fg(f[0].offset,w)),k=q.od(q.ui(a[g+1]),q.fg(f[g+1].offset,w)),l=q.od(q.ui(a[g+2]),q.fg(f[g+2].offset,w)),t.push(new q.Cc({r:h,I:c,A:q.Bb({x:0,y:0})},{r:k,I:c,A:q.Bb({x:0,y:0})},{r:l,I:c,A:q.Bb({x:0,y:0})},p,t.length*r));for(g=0;g<m;g++){w=(g+1)%m;h=q.ui(a[g]);k=q.ui(a[w]);l=f[g].aJ;var A=f[g].offset,D=f[w].offset,w=n?q.od(h,q.fg(A,d)):q.od(h,q.fg(A,0.5)),B=n?q.od(k,q.fg(D,d)):q.od(k,q.fg(D,0.5));h=n?q.Pg(h,q.fg(A,d)):q.Pg(h,q.fg(A,0.5));k=n?q.Pg(k,
q.fg(D,d)):q.Pg(k,q.fg(D,0.5));n?(t.push(new q.Cc({r:w,I:e,A:q.Bb(q.hj(l))},{r:B,I:e,A:q.Bb(q.hj(l))},{r:k,I:e,A:q.Bb(l)},p,t.length*r)),t.push(new q.Cc({r:w,I:e,A:q.Bb(q.hj(l))},{r:h,I:e,A:q.Bb(l)},{r:k,I:e,A:q.Bb(l)},p,t.length*r))):(t.push(new q.Cc({r:w,I:c,A:q.Bb({x:0,y:0})},{r:B,I:c,A:q.Bb({x:0,y:0})},{r:k,I:c,A:q.Bb(l)},p,t.length*r)),t.push(new q.Cc({r:w,I:c,A:q.Bb({x:0,y:0})},{r:h,I:c,A:q.Bb(l)},{r:k,I:c,A:q.Bb(l)},p,t.length*r)))}this.Ha=!0},clear:function(){this.bb.length=0;this.Ha=!0}});
q.Sg=q.Ea.Pc?q.JL:q.IL;q.Sg.create=function(){var a=new q.Sg;return a&&a.s()?a:null};q.bz=function(a){this.type=a};q.Sg.eF=0;q.Sg.gF=1;q.Sg.fF=2;q.bt=-1;q.mK=function(a,c){a.Lg(c);var d=a.t;if(d)for(var e=0;e<d.length;e++)q.mK(d[e],c)};
q.mb=q.C.extend({kc:null,Xl:0,Hi:!1,RF:!1,ctor:function(){q.C.prototype.ctor.call(this);this.kc=null;this.Xl=0;this.Hi=!1},s:null,lA:function(a){this.kc=a;this.Xl=1;this.Hi=!1;q.mb.oA=!0;q.mb.oA&&(q.bt=q.U.getParameter(q.U.STENCIL_BITS),0>=q.bt&&q.log("Stencil buffer is not enabled."),q.mb.oA=!1);return!0},kA:function(a){this.kc=a;this.Xl=1;this.Hi=!1},Ig:function(){q.C.prototype.Ig.call(this);this.kc.Ig()},hi:function(){q.C.prototype.hi.call(this);this.kc.hi()},wh:function(){this.kc.wh();q.C.prototype.wh.call(this)},
Md:function(){this.kc.Md();q.C.prototype.Md.call(this)},na:null,Jm:function(a){var c=a||q.U;if(1>q.bt)q.C.prototype.na.call(this,a);else if(this.kc&&this.kc.va)if(q.mb.mr=-1,q.mb.mr+1==q.bt)q.mb.EB=!0,q.mb.EB&&(q.log("Nesting more than "+q.bt+"stencils is not supported. Everything will be drawn without stencil for this node and its childs."),q.mb.EB=!1),q.C.prototype.na.call(this,a);else{q.mb.mr++;var d=1<<q.mb.mr,e=d|d-1,f=c.isEnabled(c.STENCIL_TEST),g=c.getParameter(c.STENCIL_WRITEMASK),h=c.getParameter(c.STENCIL_FUNC),
k=c.getParameter(c.STENCIL_REF),l=c.getParameter(c.STENCIL_VALUE_MASK),m=c.getParameter(c.STENCIL_FAIL),n=c.getParameter(c.STENCIL_PASS_DEPTH_FAIL),r=c.getParameter(c.STENCIL_PASS_DEPTH_PASS);c.enable(c.STENCIL_TEST);c.stencilMask(d);var p=c.getParameter(c.DEPTH_WRITEMASK);c.depthMask(!1);c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.Hi?c.REPLACE:c.ZERO,c.KEEP,c.KEEP);q.Xf.aC(q.nj(),q.wU(),q.qw(1,1,1,1));c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.Hi?c.ZERO:c.REPLACE,c.KEEP,c.KEEP);if(1>this.Xl){var d=
q.Fh.e().ki(q.k_),t=c.getUniformLocation(d.Iw(),q.F_);q.D6(d.Iw());d.vK(t,this.Xl);q.mK(this.kc,d)}q.Fp();this.transform();this.kc.na();q.Ep();c.depthMask(p);c.stencilFunc(c.EQUAL,e,e);c.stencilOp(c.KEEP,c.KEEP,c.KEEP);q.C.prototype.na.call(this,a);c.stencilFunc(h,k,l);c.stencilOp(m,n,r);c.stencilMask(g);f||c.disable(c.STENCIL_TEST);q.mb.mr--}else this.Hi&&q.C.prototype.na.call(this,a)},Im:function(a){if(this.kc&&this.kc.va){if(this.vz()||this.kc instanceof q.w){a=a||q.U;var c=a.canvas,d=q.mb.jO();
d.width=c.width;d.height=c.height;d.getContext("2d").drawImage(c,0,0);a.save();this._super(a);a.globalCompositeOperation=this.Hi?"destination-out":"destination-in";this.transform(a);this.kc.na();a.restore();a.save();a.setTransform(1,0,0,1,0,0);a.globalCompositeOperation="destination-over";a.drawImage(d,0,0)}else{a=a||q.U;var d=this.t,e;a.save();this.transform(a);this.kc.na(a);a.clip();this.vz(!0);var f=d.length;if(0<f){this.Nd();for(c=0;c<f;c++)if(e=d[c],0>e.cb)e.na(a);else break;for(this.Va(a);c<
f;c++)d[c].na(a)}else this.Va(a);this.vz(!1)}a.restore()}else this.Hi&&q.C.prototype.na.call(this,a)},U5:function(){return this.kc},AD:null,PP:function(a){this.kc=a},OP:function(a){this.kc=a;var c=q.oa.e().ra,d=q.oa.e().za,e=q.U;!(a instanceof q.w)&&a instanceof q.Sg&&(a.Va=function(){for(var f=0;f<a.bb.length;f++){var g=a.bb[f].XD,h=g[0];e.beginPath();e.moveTo(h.x*c,-h.y*d);for(var h=1,k=g.length;h<k;h++)e.lineTo(g[h].x*c,-g[h].y*d)}})},d3:function(){return this.Xl},B$:function(a){this.Xl=a},r7:function(){return this.Hi},
maa:function(a){this.Hi=a},vz:function(a){if(!0===a||!1===a)q.mb.prototype.RF=a;return q.mb.prototype.RF}});q.Ea.Pc?(q.mb.prototype.s=q.mb.prototype.lA,q.mb.prototype.na=q.mb.prototype.Jm,q.mb.prototype.AD=q.mb.prototype.PP):(q.mb.prototype.s=q.mb.prototype.kA,q.mb.prototype.na=q.mb.prototype.Im,q.mb.prototype.AD=q.mb.prototype.OP);q.mb.oA=null;q.mb.EB=null;q.mb.mr=null;q.mb.GG=null;q.mb.jO=function(){return q.mb.GG||(q.mb.GG=document.createElement("canvas"))};
q.mb.create=function(a){var c=new q.mb;c.s(a);return c};q.gZ=0;q.hZ=1;q.iZ=2;q.Qn=function(a){a-=1;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;return(a|a>>16)+1};
q.zb=q.C.extend({jo:null,ko:null,Yu:0,Oq:0,Bv:0,Da:null,Qr:null,fQ:null,Pf:q.pj,nb:null,Lu:0,vj:null,Bz:0,Cz:0,zq:!1,Az:null,ctor:null,Hh:function(){q.C.prototype.ctor.call(this);this.vj=q.qw(1,1,1,1);this.Az="rgba(255,255,255,1)";this.jo=document.createElement("canvas");this.ko=this.jo.getContext("2d");this.L(0,0)},Ih:function(){q.C.prototype.ctor.call(this);this.vj=q.qw(0,0,0,0)},Wf:null,JN:function(){q.C.prototype.Md.call(this);this.jo=this.ko=null},KN:function(){q.C.prototype.Md.call(this);this.Qr=
null;var a=q.U;a.deleteFramebuffer(this.Yu);this.Oq&&a.deleteRenderbuffer(this.Oq);this.fQ=null},LS:function(){return this.nb},Ys:function(a){this.nb=a},FC:null,uO:function(a,c){var d=this.jo,e=q.Cd();d.width=0|a*e;d.height=0|c*e;this.ko.translate(0,d.height);e=new q.Xb;e.Af(d);e.ve();this.nb=q.w.fb(e);return!0},vO:function(a,c,d,e){d==q.mq&&q.log("cc.RenderTexture._initWithWidthAndHeightForWebGL() : only RGB and RGBA formats are valid for a render texture;");var f=q.U,g=q.Cd();a=0|a*g;c=0|c*g;this.Bv=
f.getParameter(f.FRAMEBUFFER_BINDING);var h;q.De.e().Nr?(g=a,h=c):(g=q.Qn(a),h=q.Qn(c));for(var k=new Uint8Array(g*h*4),l=0;l<g*h*4;l++)k[l]=0;this.Pf=d;this.Da=new q.Xb;if(!this.Da)return!1;l=this.Da;l.Pw(k,this.Pf,g,h,q.size(a,c));d=f.getParameter(f.RENDERBUFFER_BINDING);if(q.De.e().kp("GL_QCOM")){this.Qr=new q.Xb;if(!this.Qr)return!1;this.Qr.Pw(k,this.Pf,g,h,q.size(a,c))}this.Yu=f.createFramebuffer();f.bindFramebuffer(f.FRAMEBUFFER,this.Yu);f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,
f.TEXTURE_2D,l.Xh,0);0!=e&&(this.Oq=f.createRenderbuffer(),f.bindRenderbuffer(f.RENDERBUFFER,this.Oq),f.renderbufferStorage(f.RENDERBUFFER,e,g,h),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,this.Oq));f.checkFramebufferStatus(f.FRAMEBUFFER)!==f.FRAMEBUFFER_COMPLETE&&q.log("Could not attach texture to the framebuffer");l.PJ();a=this.nb=q.w.fb(l);a.xn(-1);a.yl(f.ONE,f.ONE_MINUS_SRC_ALPHA);f.bindRenderbuffer(f.RENDERBUFFER,d);f.bindFramebuffer(f.FRAMEBUFFER,this.Bv);this.zq=
!1;this.f(a);return!0},Wj:null,zN:function(){q.U=this.ko;q.oa.e().LP()},AN:function(){q.Ym(q.Vt);q.Fp();q.Ym(q.Ut);q.Fp();var a=q.V.e();a.yx(a.Vk);var c=this.Da.qa,d=q.V.e().SS(),a=d.width/c.width,d=d.height/c.height,e=q.U;e.viewport(0,0,c.width,c.height);c=new q.uh;q.ST(c,-1/a,1/a,-1/d,1/d,-1,1);q.Ww(c);this.Bv=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,this.Yu);q.De.e().kp("GL_QCOM")&&(e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.Qr.Xh,0),
e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.Da.Xh,0))},OB:function(a,c,d,e,f,g){var h=q.U;f=f||h.COLOR_BUFFER_BIT;g=g||h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT;this.sz(a,c,d,e,f,g,h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT|h.STENCIL_BUFFER_BIT)},sz:null,BN:function(a,c,d,e){this.Wj();a=a||0;c=c||0;d=d||0;e=isNaN(e)?1:e;var f=this.ko,g=this.jo;f.save();f.fillStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+")";f.clearRect(0,
0,g.width,-g.height);f.fillRect(0,0,g.width,-g.height);f.restore()},CN:function(a,c,d,e,f,g,h){this.Wj();var k=q.U,l=[0,0,0,0],m=0,n=0;h&k.COLOR_BUFFER_BIT&&(l=k.getParameter(k.COLOR_CLEAR_VALUE),k.clearColor(a,c,d,e));h&k.DEPTH_BUFFER_BIT&&(m=k.getParameter(k.DEPTH_CLEAR_VALUE),k.clearDepth(f));h&k.STENCIL_BUFFER_BIT&&(n=k.getParameter(k.STENCIL_CLEAR_VALUE),k.clearStencil(g));k.clear(h);h&k.COLOR_BUFFER_BIT&&k.clearColor(l[0],l[1],l[2],l[3]);h&k.DEPTH_BUFFER_BIT&&k.clearDepth(m);h&k.STENCIL_BUFFER_BIT&&
k.clearStencil(n)},end:null,cO:function(){q.U=q.YT;q.oa.e().nP()},dO:function(){var a=q.U,c=q.V.e();a.bindFramebuffer(a.FRAMEBUFFER,this.Bv);c.zK();q.Ym(q.Vt);q.Ep();q.Ym(q.Ut);q.Ep()},clear:function(a,c,d,e){this.OB(a,c,d,e);this.end()},clearRect:null,ON:function(a,c,d,e){this.ko.clearRect(a,c,d,-e)},PN:function(){},clearDepth:null,MN:function(){q.log("clearDepth isn't supported on Cocos2d-Html5")},NN:function(a){this.Wj();var c=q.U,d=c.getParameter(c.DEPTH_CLEAR_VALUE);c.clearDepth(a);c.clear(c.DEPTH_BUFFER_BIT);
c.clearDepth(d);this.end()},clearStencil:null,QN:function(){q.log("clearDepth isn't supported on Cocos2d-Html5")},RN:function(a){var c=q.U,d=c.getParameter(c.STENCIL_CLEAR_VALUE);c.clearStencil(a);c.clear(c.STENCIL_BUFFER_BIT);c.clearStencil(d)},na:null,Im:function(a){this.va&&(a=a||q.U,a.save(),this.Va(a),this.transform(a),this.nb.na(),a.restore(),this.Of=0)},Jm:function(a){if(this.va){q.Fp();var c=this.Jk;c&&c.Cp()&&(c.NB(),this.Ux());this.transform(a);this.nb.na();this.Va(a);c&&c.Cp()&&c.JB(this);
q.Ep();this.Of=0}},Va:null,dm:function(a){a=a||q.U;if(this.zq){this.Wj();if(this.Lu){var c=this.jo;a.save();a.fillStyle=this.Az;a.clearRect(0,0,c.width,-c.height);a.fillRect(0,0,c.width,-c.height);a.restore()}this.Nd();a=this.t;for(var c=a.length,d=this.nb,e=0;e<c;e++){var f=a[e];f!=d&&f.na()}this.end()}},pg:function(){var a=q.U;if(this.zq){this.Wj();var c=this.Lu;if(c){var d=[0,0,0,0],e=0,f=0;c&a.COLOR_BUFFER_BIT&&(d=a.getParameter(a.COLOR_CLEAR_VALUE),a.clearColor(this.vj.p,this.vj.o,this.vj.g,
this.vj.H));c&a.DEPTH_BUFFER_BIT&&(e=a.getParameter(a.DEPTH_CLEAR_VALUE),a.clearDepth(this.Bz));c&a.STENCIL_BUFFER_BIT&&(f=a.getParameter(a.STENCIL_CLEAR_VALUE),a.clearStencil(this.Cz));a.clear(c);c&a.COLOR_BUFFER_BIT&&a.clearColor(d[0],d[1],d[2],d[3]);c&a.DEPTH_BUFFER_BIT&&a.clearDepth(e);c&a.STENCIL_BUFFER_BIT&&a.clearStencil(f)}this.Nd();a=this.t;for(c=0;c<a.length;c++)d=a[c],d!=this.nb&&d.na();this.end()}},bJ:null,MO:function(){q.log("saveToFile isn't supported on Cocos2d-Html5");return null},
NO:function(){q.log("saveToFile isn't supported on Cocos2d-Html5");q.ot(this.Pf==q.pj,"only RGBA8888 can be saved as image");if(!this.Da)return null;var a=this.Da.qa,c=a.width,a=a.height,d=new q.VL,e=q.U,f=new Uint8Array(c*a*4);if(!f)return d;var g=new Uint8Array(c*a*4);if(!g)return null;this.Wj();e.pixelStorei(e.PACK_ALIGNMENT,1);e.readPixels(0,0,c,a,e.RGBA,e.UNSIGNED_BYTE,g);this.end();for(e=0;e<a;++e)this.KO(f,e*c*4,g,(a-e-1)*c*4,4*c);d.R6(f,c*a*4,q.aZ,c,a,8);return d},KO:function(a,c,d,e,f){for(var g=
0;g<f;g++)a[c+g]=d[e+g]},s$:function(){q.log("saveToFile isn't supported on Cocos2d-Html5")},i8:function(){q.log("listenToBackground isn't supported on Cocos2d-Html5")},j8:function(){q.log("listenToForeground isn't supported on Cocos2d-Html5")},B3:function(){return this.Lu},J$:function(a){this.Lu=a},z3:function(){return this.vj},VJ:null,vP:function(a){var c=this.vj;c.p=a.p;c.o=a.o;c.g=a.g;c.H=a.H;this.Az="rgba("+(0|255*a.p)+","+(0|255*a.o)+","+(0|255*a.g)+","+a.H+")"},wP:function(a){var c=this.vj;
c.p=a.p;c.o=a.o;c.g=a.g;c.H=a.H},A3:function(){return this.Bz},I$:function(a){this.Bz=a},C3:function(){return this.Cz},K$:function(a){this.Cz=a},d7:function(){return this.zq},D$:function(a){this.zq=a}});
q.Ea.Pc?(b=q.zb.prototype,b.ctor=q.zb.prototype.Ih,b.Wf=q.zb.prototype.KN,b.FC=q.zb.prototype.vO,b.Wj=q.zb.prototype.AN,b.sz=q.zb.prototype.CN,b.end=q.zb.prototype.dO,b.clearRect=q.zb.prototype.PN,b.clearDepth=q.zb.prototype.NN,b.clearStencil=q.zb.prototype.RN,b.na=q.zb.prototype.Jm,b.Va=q.zb.prototype.pg,b.bJ=q.zb.prototype.NO,b.VJ=q.zb.prototype.wP):(b=q.zb.prototype,b.ctor=q.zb.prototype.Hh,b.Wf=q.zb.prototype.JN,b.FC=q.zb.prototype.uO,b.Wj=q.zb.prototype.zN,b.sz=q.zb.prototype.BN,b.end=q.zb.prototype.cO,
b.clearRect=q.zb.prototype.ON,b.clearDepth=q.zb.prototype.MN,b.clearStencil=q.zb.prototype.QN,b.na=q.zb.prototype.Im,b.Va=q.zb.prototype.dm,b.bJ=q.zb.prototype.MO,b.VJ=q.zb.prototype.vP);q.zb.create=function(a,c,d,e){d=d||q.pj;e=e||0;var f=new q.zb;return f&&f.FC(a,c,d,e)?f:null};q.Kn=-1;
q.Bd=q.Ca.extend({om:null,P:null,kd:q.Kn,ctor:function(){this.P=this.om=null;this.kd=q.Kn},description:function(){return"\x3ccc.Action | Tag \x3d "+this.kd+"\x3e"},copy:function(){return q.G(this)},G:function(){var a=new q.Bd;a.om=null;a.P=null;a.kd=this.kd;return a},ei:function(){return!0},Z:function(a){this.P=this.om=a},stop:function(){this.P=null},step:function(){q.log("[Action step]. override me")},update:function(){q.log("[Action update]. override me")},OS:function(){return this.P},lba:function(a){this.P=a},
c5:function(){return this.om},Haa:function(a){this.om=a},NS:function(){return this.kd},uK:function(a){this.kd=a},KJ:function(){},fD:function(){}});q.Bd.create=function(){return new q.Bd};q.mj=q.Bd.extend({ta:0,ctor:function(){q.Bd.prototype.ctor.call(this);this.ta=0},wf:function(){return this.ta},V$:function(a){this.ta=a},reverse:function(){q.log("cocos2d: FiniteTimeAction#reverse: Implement me");return null},G:function(){return new q.mj}});
q.ku=q.Bd.extend({xm:0,Cb:null,ctor:function(){q.Bd.prototype.ctor.call(this);this.xm=0;this.Cb=null},N5:function(){return this.xm},eba:function(a){this.xm=a},la:function(a,c){if(!a)throw"cc.Speed.initWithAction(): action must be non nil";this.Cb=a;this.xm=c;return!0},G:function(){var a=new q.ku;a.la(this.Cb.G(),this.xm);return a},Z:function(a){q.Bd.prototype.Z.call(this,a);this.Cb.Z(a)},stop:function(){this.Cb.stop();q.Bd.prototype.stop.call(this)},step:function(a){this.Cb.step(a*this.xm)},ei:function(){return this.Cb.ei()},
reverse:function(){return q.ku.create(this.Cb.reverse(),this.xm)},gK:function(a){this.Cb!=a&&(this.Cb=a)},hC:function(){return this.Cb}});q.ku.create=function(a,c){var d=new q.ku;return d&&d.la(a,c)?d:null};
q.ty=q.Bd.extend({Ao:null,fo:!1,Gu:!1,dv:null,cr:null,Zm:0,sn:0,En:0,Qm:0,GB:null,ctor:function(){q.Bd.prototype.ctor.call(this);this.Ao=null;this.Gu=this.fo=!1;this.cr=this.dv=null;this.Qm=this.En=this.sn=this.Zm=0;this.GB=q.cd()},G:function(){var a=new q.ty,c=this.GB,c=new q.jg(c.x,c.y,c.width,c.height);a.Eg(this.Ao,c);return a},f7:function(){return this.fo},F$:function(a){this.fo=a},Eg:function(a,c){if(!a)throw"cc.Follow.initWithAction(): followedNode must be non nil";c=c||q.cd();this.Ao=a;this.GB=
c;this.fo=!q.yr(c);this.Gu=!1;var d=q.V.e().Pb;this.cr=q.a(d.width,d.height);this.dv=q.cj(this.cr,0.5);this.fo&&(this.Zm=-(c.x+c.width-this.cr.x),this.sn=-c.x,this.En=-c.y,this.Qm=-(c.y+c.height-this.cr.y),this.sn<this.Zm&&(this.sn=this.Zm=(this.Zm+this.sn)/2),this.En<this.Qm&&(this.En=this.Qm=(this.En+this.Qm)/2),this.En==this.Qm&&this.Zm==this.sn&&(this.Gu=!0));return!0},step:function(){var a=this.Ao.q.F,c=this.Ao.q.J,a=this.dv.x-a,c=this.dv.y-c;this.fo?this.Gu||this.P.n(q.fs(a,this.Zm,this.sn),
q.fs(c,this.Qm,this.En)):this.P.n(a,c)},ei:function(){return!this.Ao.Ne},stop:function(){this.P=null;q.Bd.prototype.stop.call(this)}});q.ty.create=function(a,c){c=c||new q.cd;var d=new q.ty;return null!=c&&d&&d.Eg(a,c)||d&&d.Eg(a)?d:null};q.O=q.mj.extend({bc:0,br:!1,ctor:function(){q.mj.prototype.ctor.call(this);this.bc=0;this.br=!1},S3:function(){return this.bc},M:function(a){this.ta=0===a?q.Ot:a;this.bc=0;return this.br=!0},ei:function(){return this.bc>=this.ta},G:function(){var a=new q.O;a.M(this.ta);return a},step:function(a){this.br?(this.br=!1,this.bc=0):this.bc+=a;a=this.bc/(1.192092896E-7<this.ta?this.ta:1.192092896E-7);a=1>a?a:1;this.update(0<a?a:0)},Z:function(a){q.Bd.prototype.Z.call(this,a);this.bc=0;this.br=!0},reverse:function(){q.log("cc.IntervalAction: reverse not implemented.");
return null},C$:function(){q.log("cc.ActionInterval.setAmplitudeRate(): it should be overridden in subclass.")},e3:function(){q.log("cc.ActionInterval.getAmplitudeRate(): it should be overridden in subclass.")}});q.O.create=function(a){var c=new q.O;c.M(a);return c};
q.oj=q.O.extend({vi:null,eB:null,Ko:0,ctor:function(){q.O.prototype.ctor.call(this);this.vi=[];this.eB=null;this.Ko=0},Bs:function(a,c){if(!a||!c)throw"cc.Sequence.initWithTwoActions(): arguments must all be non nil";this.M(a.wf()+c.wf());this.vi[0]=a;this.vi[1]=c;return!0},G:function(){var a=new q.oj;a.Bs(this.vi[0].G(),this.vi[1].G());return a},Z:function(a){q.O.prototype.Z.call(this,a);this.eB=this.vi[0].wf()/this.ta;this.Ko=-1},stop:function(){-1!==this.Ko&&this.vi[this.Ko].stop();q.Bd.prototype.stop.call(this)},
update:function(a){var c=0,d=this.eB,e=this.vi,f=this.Ko;a<d?(a=0!==d?a/d:1,0===c&&1===f&&(e[1].update(0),e[1].stop())):(c=1,a=1===d?1:(a-d)/(1-d),-1===f&&(e[0].Z(this.P),e[0].update(1),e[0].stop()),f||(e[0].update(1),e[0].stop()));f===c&&e[c].ei()||(f!==c&&e[c].Z(this.P),e[c].update(a),this.Ko=c)},reverse:function(){return q.oj.Vl(this.vi[1].reverse(),this.vi[0].reverse())},copy:function(){return this.G()}});
q.oj.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&q.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)c[e]&&(d=q.oj.Vl(d,c[e]));return d};q.oj.Vl=function(a,c){var d=new q.oj;d.Bs(a,c);return d};
q.bu=q.O.extend({Sf:0,Qj:0,yv:0,sF:!1,Cb:null,ctor:function(){q.O.prototype.ctor.call(this);this.yv=this.Qj=this.Sf=0;this.sF=!1;this.Cb=null},la:function(a,c){return this.M(a.wf()*c)?(this.Sf=c,this.Cb=a,a instanceof q.oi&&(this.Sf-=1),this.Qj=0,!0):!1},G:function(){var a=new q.bu;a.la(this.Cb.G(),this.Sf);return a},Z:function(a){this.Qj=0;this.yv=this.Cb.wf()/this.ta;q.O.prototype.Z.call(this,a);this.Cb.Z(a)},stop:function(){this.Cb.stop();q.Bd.prototype.stop.call(this)},update:function(a){var c=
this.Cb,d=this.ta,e=this.Sf,f=this.yv;if(a>=f){for(;a>f&&this.Qj<e;)c.update(1),this.Qj++,c.stop(),c.Z(this.P),this.yv=f+=c.wf()/d;1<=a&&this.Qj<e&&this.Qj++;this.sF&&(this.Qj==e?(c.update(1),c.stop()):c.update(a-(f-c.wf()/d)))}else c.update(a*e%1)},ei:function(){return this.Qj==this.Sf},reverse:function(){return q.bu.create(this.Cb.reverse(),this.Sf)},gK:function(a){this.Cb!=a&&(this.Cb=a)},hC:function(){return this.Cb}});q.bu.create=function(a,c){var d=new q.bu;d.la(a,c);return d};
q.cu=q.O.extend({Cb:null,ctor:function(){q.O.prototype.ctor.call(this);this.Cb=null},la:function(a){if(!a)throw"cc.RepeatForever.initWithAction(): action must be non null";this.Cb=a;return!0},G:function(){var a=new q.cu;a.la(this.Cb.G());return a},Z:function(a){q.O.prototype.Z.call(this,a);this.Cb.Z(a)},step:function(a){var c=this.Cb;c.step(a);c.ei()&&(c.Z(this.P),c.step(c.bc-c.wf()))},ei:function(){return!1},reverse:function(){return q.cu.create(this.Cb.reverse())},gK:function(a){this.Cb!=a&&(this.Cb=
a)},hC:function(){return this.Cb}});q.cu.create=function(a){var c=new q.cu;return c&&c.la(a)?c:null};
q.lq=q.O.extend({Lj:null,Uj:null,ctor:function(){q.O.prototype.ctor.call(this);this.Uj=this.Lj=null},Bs:function(a,c){if(!a||!c)throw"cc.Spawn.initWithTwoActions(): arguments must all be non null";var d=!1,e=a.wf(),f=c.wf();this.M(Math.max(e,f))&&(this.Lj=a,this.Uj=c,e>f?this.Uj=q.oj.Vl(c,q.Mn.create(e-f)):e<f&&(this.Lj=q.oj.Vl(a,q.Mn.create(f-e))),d=!0);return d},G:function(){var a=new q.lq;a.Bs(this.Lj.G(),this.Uj.G());return a},Z:function(a){q.O.prototype.Z.call(this,a);this.Lj.Z(a);this.Uj.Z(a)},
stop:function(){this.Lj.stop();this.Uj.stop();q.Bd.prototype.stop.call(this)},update:function(a){this.Lj&&this.Lj.update(a);this.Uj&&this.Uj.update(a)},reverse:function(){return q.lq.Vl(this.Lj.reverse(),this.Uj.reverse())}});q.lq.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&q.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)null!=c[e]&&(d=this.Vl(d,c[e]));return d};
q.lq.Vl=function(a,c){var d=new q.lq;d.Bs(a,c);return d};
q.Ky=q.O.extend({Rq:0,ym:0,Nz:0,Wu:0,Yk:0,Oz:0,ctor:function(){q.O.prototype.ctor.call(this);this.Oz=this.Yk=this.Wu=this.Nz=this.ym=this.Rq=0},M:function(a,c,d){return q.O.prototype.M.call(this,a)?(this.Rq=c||0,this.Wu=d||this.Rq,!0):!1},G:function(){var a=new q.Ky;a.M(this.ta,this.Rq,this.Wu);return a},Z:function(a){q.O.prototype.Z.call(this,a);var c=a.vg%360,d=this.Rq-c;180<d&&(d-=360);-180>d&&(d+=360);this.ym=c;this.Nz=d;this.Yk=a.Ph%360;a=this.Wu-this.Yk;180<a&&(a-=360);-180>a&&(a+=360);this.Oz=
a},reverse:function(){q.log("cc.RotateTo.reverse(): it should be overridden in subclass.")},update:function(a){this.P&&(this.P.Bx(this.ym+this.Nz*a),this.P.Cx(this.Yk+this.Oz*a))}});q.Ky.create=function(a,c,d){var e=new q.Ky;e.M(a,c,d);return e};
q.eu=q.O.extend({lg:0,ym:0,yq:0,Yk:0,ctor:function(){q.O.prototype.ctor.call(this);this.Yk=this.yq=this.ym=this.lg=0},M:function(a,c,d){return q.O.prototype.M.call(this,a)?(this.lg=c||0,this.yq=d||this.lg,!0):!1},G:function(){var a=new q.eu;a.M(this.ta,this.lg,this.yq);return a},Z:function(a){q.O.prototype.Z.call(this,a);this.ym=a.vg;this.Yk=a.Ph},update:function(a){this.P&&(this.P.Bx(this.ym+this.lg*a),this.P.Cx(this.Yk+this.yq*a))},reverse:function(){return q.eu.create(this.ta,-this.lg,-this.yq)}});
q.eu.create=function(a,c,d){var e=new q.eu;e.M(a,c,d);return e};
q.sk=q.O.extend({Oi:null,Sc:null,Rc:null,ctor:function(){q.O.prototype.ctor.call(this);this.Oi=q.a(0,0);this.Sc=q.a(0,0);this.Rc=q.a(0,0)},M:function(a,c){return q.O.prototype.M.call(this,a)?(this.Oi.x=c.x,this.Oi.y=c.y,!0):!1},G:function(){var a=new q.sk;a.M(this.ta,this.Oi);return a},Z:function(a){q.O.prototype.Z.call(this,a);var c=a.q.F;a=a.q.J;this.Rc.x=c;this.Rc.y=a;this.Sc.x=c;this.Sc.y=a},update:function(a){if(this.P){var c=this.Oi.x*a;a*=this.Oi.y;var d=this.Sc;if(q.st){var e=this.P.q.J,f=
this.Rc;d.x=d.x+this.P.q.F-f.x;d.y=d.y+e-f.y;c+=d.x;a+=d.y;this.P.n(c,a);f.x=c;f.y=a}else this.P.n(d.x+c,d.y+a)}},reverse:function(){return q.sk.create(this.ta,q.a(-this.Oi.x,-this.Oi.y))}});q.sk.create=function(a,c){var d=new q.sk;d.M(a,c);return d};
q.Xt=q.sk.extend({zo:null,ctor:function(){q.sk.prototype.ctor.call(this);this.zo=q.a(0,0)},M:function(a,c){return q.sk.prototype.M.call(this,a,c)?(this.zo.x=c.x,this.zo.y=c.y,!0):!1},G:function(){var a=new q.Xt;a.M(this.ta,this.zo);return a},Z:function(a){q.sk.prototype.Z.call(this,a);this.Oi.x=this.zo.x-a.q.F;this.Oi.y=this.zo.y-a.q.J}});q.Xt.create=function(a,c){var d=new q.Xt;d.M(a,c);return d};
q.Wn=q.O.extend({de:0,ee:0,Jr:0,Kr:0,Wq:0,Xq:0,Ge:0,He:0,ctor:function(){q.O.prototype.ctor.call(this);this.He=this.Ge=this.Xq=this.Wq=this.Kr=this.Jr=this.ee=this.de=0},M:function(a,c,d){var e=!1;q.O.prototype.M.call(this,a)&&(this.Wq=c,this.Xq=d,e=!0);return e},G:function(){var a=new q.Wn;a.M(this.ta,this.Wq,this.Xq);return a},Z:function(a){q.O.prototype.Z.call(this,a);this.Jr=a.de%180;this.Ge=this.Wq-this.Jr;180<this.Ge&&(this.Ge-=360);-180>this.Ge&&(this.Ge+=360);this.Kr=a.ee%360;this.He=this.Xq-
this.Kr;180<this.He&&(this.He-=360);-180>this.He&&(this.He+=360)},update:function(a){this.P.Ex(this.Jr+this.Ge*a);this.P.Fx(this.Kr+this.He*a)}});q.Wn.create=function(a,c,d){var e=new q.Wn;e&&e.M(a,c,d);return e};
q.iu=q.Wn.extend({M:function(a,c,d){var e=!1;q.Wn.prototype.M.call(this,a,c,d)&&(this.de=c,this.ee=d,e=!0);return e},G:function(){var a=new q.iu;a.M(this.ta,this.de,this.ee);return a},Z:function(a){q.Wn.prototype.Z.call(this,a);this.Ge=this.de;this.He=this.ee;this.Wq=this.Jr+this.Ge;this.Xq=this.Kr+this.He},reverse:function(){return q.iu.create(this.ta,-this.de,-this.ee)}});q.iu.create=function(a,c,d){var e=new q.iu;e&&e.M(a,c,d);return e};
q.On=q.O.extend({Sc:null,og:null,pa:0,Ho:0,Rc:null,ctor:function(){q.O.prototype.ctor.call(this);this.Sc=q.a(0,0);this.Rc=q.a(0,0);this.og=q.a(0,0);this.Ho=this.pa=0},M:function(a,c,d,e){return q.O.prototype.M.call(this,a)?(this.og.x=c.x,this.og.y=c.y,this.pa=d,this.Ho=e,!0):!1},G:function(){var a=new q.On;a.M(this.ta,this.og,this.pa,this.Ho);return a},Z:function(a){q.O.prototype.Z.call(this,a);var c=a.q.F;a=a.q.J;this.Rc.x=c;this.Rc.y=a;this.Sc.x=c;this.Sc.y=a},update:function(a){if(this.P){var c=
a*this.Ho%1,c=4*this.pa*c*(1-c),c=c+this.og.y*a;a*=this.og.x;var d=this.Sc;if(q.st){var e=this.P.q.J,f=this.Rc;d.x=d.x+this.P.q.F-f.x;d.y=d.y+e-f.y;a+=d.x;c+=d.y;this.P.n(a,c);f.x=a;f.y=c}else this.P.n(d.x+a,d.y+c)}},reverse:function(){return q.On.create(this.ta,q.a(-this.og.x,-this.og.y),this.pa,this.Ho)}});q.On.create=function(a,c,d,e){var f=new q.On;f.M(a,c,d,e);return f};
q.wy=q.On.extend({Z:function(a){q.On.prototype.Z.call(this,a);this.og.x-=this.Sc.x;this.og.y-=this.Sc.y},G:function(){var a=new q.wy;a.M(this.ta,this.og,this.pa,this.Ho);return a}});q.wy.create=function(a,c,d,e){var f=new q.wy;f.M(a,c,d,e);return f};q.rH=function(a,c,d,e){return 0*Math.pow(1-e,3)+3*e*Math.pow(1-e,2)*a+3*Math.pow(e,2)*(1-e)*c+Math.pow(e,3)*d};
q.Nl=q.O.extend({bm:null,Sc:null,Rc:null,ctor:function(){q.O.prototype.ctor.call(this);this.bm=[];this.Sc=q.a(0,0);this.Rc=q.a(0,0)},M:function(a,c){return q.O.prototype.M.call(this,a)?(this.bm=c,!0):!1},G:function(){for(var a=new q.Nl,c=[],d=0;d<this.bm.length;d++){var e=this.bm[d];c.push(q.a(e.x,e.y))}a.M(this.ta,c);return a},Z:function(a){q.O.prototype.Z.call(this,a);var c=a.q.F;a=a.q.J;this.Rc.x=c;this.Rc.y=a;this.Sc.x=c;this.Sc.y=a},update:function(a){if(this.P){var c=this.bm,d=q.rH(c[0].x,c[1].x,
c[2].x,a);a=q.rH(c[0].y,c[1].y,c[2].y,a);c=this.Sc;if(q.st){var e=this.P.q.J,f=this.Rc;c.x=c.x+this.P.q.F-f.x;c.y=c.y+e-f.y;d+=c.x;a+=c.y;this.P.n(d,a);f.x=d;f.y=a}else this.P.n(c.x+d,c.y+a)}},reverse:function(){var a=this.bm,a=[q.bg(a[1],q.XC(a[2])),q.bg(a[0],q.XC(a[2])),q.XC(a[2])];return q.Nl.create(this.ta,a)}});q.Nl.create=function(a,c){var d=new q.Nl;d.M(a,c);return d};
q.fy=q.Nl.extend({cw:null,ctor:function(){q.Nl.prototype.ctor.call(this);this.cw=[]},M:function(a,c){return q.O.prototype.M.call(this,a)?(this.cw=c,!0):!1},G:function(){var a=new q.fy;a.M(this.ta,this.cw);return a},Z:function(a){q.Nl.prototype.Z.call(this,a);a=this.Sc;var c=this.cw,d=this.bm;d[0]=q.wd(c[0],a);d[1]=q.wd(c[1],a);d[2]=q.wd(c[2],a)}});q.fy.create=function(a,c){var d=new q.fy;d.M(a,c);return d};
q.Vn=q.O.extend({ra:1,za:1,Wo:1,Xo:1,em:0,fm:0,Ge:0,He:0,ctor:function(){q.O.prototype.ctor.call(this);this.Xo=this.Wo=this.za=this.ra=1;this.He=this.Ge=this.fm=this.em=0},M:function(a,c,d){return q.O.prototype.M.call(this,a)?(this.em=c,this.fm=null!=d?d:c,!0):!1},G:function(){var a=new q.Vn;a.M(this.ta,this.em,this.fm);return a},Z:function(a){q.O.prototype.Z.call(this,a);this.Wo=a.ra;this.Xo=a.za;this.Ge=this.em-this.Wo;this.He=this.fm-this.Xo},update:function(a){this.P&&this.P.mk(this.Wo+this.Ge*
a,this.Xo+this.He*a)}});q.Vn.create=function(a,c,d){var e=new q.Vn;e.M(a,c,d);return e};q.gu=q.Vn.extend({Z:function(a){q.Vn.prototype.Z.call(this,a);this.Ge=this.Wo*this.em-this.Wo;this.He=this.Xo*this.fm-this.Xo},reverse:function(){return q.gu.create(this.ta,1/this.em,1/this.fm)},G:function(){var a=new q.gu;a.M(this.ta,this.em,this.fm);return a}});q.gu.create=function(a,c,d){var e=new q.gu;e.M(a,c,d);return e};
q.pt=q.O.extend({Sf:0,xA:!1,ctor:function(){q.O.prototype.ctor.call(this);this.Sf=0;this.xA=!1},M:function(a,c){return q.O.prototype.M.call(this,a)?(this.Sf=c,!0):!1},G:function(){var a=new q.pt;a.M(this.ta,this.Sf);return a},update:function(a){if(this.P&&!this.ei()){var c=1/this.Sf;this.P.D(a%c>c/2)}},Z:function(a){q.O.prototype.Z.call(this,a);this.xA=a.va},stop:function(){this.P.D(this.xA);q.O.prototype.stop.call(this)},reverse:function(){return q.pt.create(this.ta,this.Sf)}});
q.pt.create=function(a,c){var d=new q.pt;d.M(a,c);return d};q.Pt=q.O.extend({update:function(a){this.P.hb&&this.P.fa(255*a)},reverse:function(){return q.Qt.create(this.ta)},G:function(){var a=new q.Pt;a.M(this.ta);return a}});q.Pt.create=function(a){var c=new q.Pt;c.M(a);return c};q.Qt=q.O.extend({update:function(a){this.P.hb&&this.P.fa(255*(1-a))},reverse:function(){return q.Pt.create(this.ta)},G:function(){var a=new q.Qt;a.M(this.ta);return a}});q.Qt.create=function(a){var c=new q.Qt;c.M(a);return c};
q.sy=q.O.extend({dw:null,av:null,ctor:function(){q.O.prototype.ctor.call(this);this.av=this.dw=0},M:function(a,c){return q.O.prototype.M.call(this,a)?(this.dw=c,!0):!1},G:function(){var a=new q.sy;a.M(this.ta,this.dw);return a},update:function(a){this.P.hb&&this.P.fa(this.av+(this.dw-this.av)*a)},Z:function(a){q.O.prototype.Z.call(this,a);this.P.hb&&(this.av=a.Wi())}});q.sy.create=function(a,c){var d=new q.sy;d.M(a,c);return d};
q.Zy=q.O.extend({uf:null,$d:null,ctor:function(){q.O.prototype.ctor.call(this);this.uf=q.k(0,0,0);this.$d=q.k(0,0,0)},M:function(a,c,d,e){return q.O.prototype.M.call(this,a)?(this.uf=q.k(c,d,e),!0):!1},G:function(){var a=new q.Zy,c=this.uf;a.M(this.ta,c.p,c.o,c.g);return a},Z:function(a){q.O.prototype.Z.call(this,a);this.P.hb&&(this.$d=this.P.vd())},update:function(a){var c=this.$d,d=this.uf;this.P.hb&&this.P.l(q.k(c.p+(d.p-c.p)*a,c.o+(d.o-c.o)*a,c.g+(d.g-c.g)*a))}});
q.Zy.create=function(a,c,d,e){var f=new q.Zy;f.M(a,c,d,e);return f};
q.pu=q.O.extend({Nq:0,Mq:0,Lq:0,bA:0,aA:0,$z:0,ctor:function(){q.O.prototype.ctor.call(this);this.$z=this.aA=this.bA=this.Lq=this.Mq=this.Nq=0},M:function(a,c,d,e){return q.O.prototype.M.call(this,a)?(this.Nq=c,this.Mq=d,this.Lq=e,!0):!1},G:function(){var a=new q.pu;a.M(this.ta,this.Nq,this.Mq,this.Lq);return a},Z:function(a){q.O.prototype.Z.call(this,a);a.hb&&(a=a.vd(),this.bA=a.p,this.aA=a.o,this.$z=a.g)},update:function(a){this.P.hb&&this.P.l(q.k(this.bA+this.Nq*a,this.aA+this.Mq*a,this.$z+this.Lq*
a))},reverse:function(){return q.pu.create(this.ta,-this.Nq,-this.Mq,-this.Lq)}});q.pu.create=function(a,c,d,e){var f=new q.pu;f.M(a,c,d,e);return f};q.Mn=q.O.extend({update:function(){},reverse:function(){return q.Mn.create(this.ta)},G:function(){var a=new q.Mn;a.M(this.ta);return a}});q.Mn.create=function(a){var c=new q.Mn;c.M(a);return c};
q.du=q.O.extend({Mj:null,ctor:function(){q.O.prototype.ctor.call(this);this.Mj=null},la:function(a){if(!a)throw"cc.ReverseTime.initWithAction(): action must be non null";if(a==this.Mj)throw"cc.ReverseTime.initWithAction(): the action was already passed in.";return q.O.prototype.M.call(this,a.wf())?(this.Mj=a,!0):!1},G:function(){var a=new q.du;a.la(this.Mj.G());return a},Z:function(a){q.O.prototype.Z.call(this,a);this.Mj.Z(a)},update:function(a){this.Mj&&this.Mj.update(1-a)},reverse:function(){return this.Mj.G()},
stop:function(){this.Mj.stop();q.Bd.prototype.stop.call(this)}});q.du.create=function(a){var c=new q.du;c.la(a);return c};
q.mt=q.O.extend({sj:null,No:0,Cv:null,Yq:0,fB:null,ctor:function(){q.O.prototype.ctor.call(this);this.sj=null;this.No=0;this.Cv=null;this.Yq=0;this.fB=null},ZH:function(){return this.sj},VV:function(a){this.sj=a},zI:function(a){if(!a)throw"cc.Animate.initWithAnimation(): animation must be non-NULL";var c=a.wf();if(this.M(c*a.Jj)){this.No=0;this.VV(a);this.Cv=null;this.Yq=0;var d=[],e=0,f=c/a.Em;a=a.Zd;q.nt(a,q.jj);for(var g=0;g<a.length;g++){var h=e*f/c,e=e+a[g].Xd;d.push(h)}this.fB=d;return!0}return!1},
G:function(){var a=new q.mt;a.zI(this.sj.G());return a},Z:function(a){q.O.prototype.Z.call(this,a);this.sj.rm&&(this.Cv=a.JR());this.Yq=this.No=0},update:function(a){1>a&&(a*=this.sj.Jj,(0|a)>this.Yq&&(this.No=0,this.Yq++),a%=1);for(var c=this.sj.Zd,d=c.length,e=this.fB,f=this.No;f<d;f++)if(e[f]<=a)this.P.Pp(c[f].sh()),this.No=f+1;else break},reverse:function(){var a=this.sj,c=a.Zd,d=[];q.nt(c,q.jj);if(0<c.length)for(var e=c.length-1;0<=e;e--){var f=c[e];if(!f)break;d.push(f.G())}c=q.ij.xH(d,a.Xd,
a.Jj);c.zx(a.rm);return q.mt.create(c)},stop:function(){this.sj.rm&&this.P&&this.P.Pp(this.Cv);q.Bd.prototype.stop.call(this)}});q.mt.create=function(a){var c=new q.mt;c.zI(a);return c};
q.Yy=q.O.extend({Kf:null,gm:null,ctor:function(){q.O.prototype.ctor.call(this);this.gm=this.Kf=null},Eg:function(a,c){return this.M(c.wf())?(this.gm=a,this.Kf=c,!0):!1},G:function(){var a=new q.Yy;a.Eg(this.gm,this.Kf.G());return a},Z:function(a){q.O.prototype.Z.call(this,a);this.Kf.Z(this.gm)},stop:function(){this.Kf.stop()},update:function(a){this.Kf.update(a)},c4:function(){return this.gm},$$:function(a){this.gm!=a&&(this.gm=a)}});q.Yy.create=function(a,c){var d=new q.Yy;d.Eg(a,c);return d};q.oi=q.mj.extend({ei:function(){return!0},step:function(){this.update(1)},update:function(){},reverse:function(){return this.G()},G:function(){return new q.oi}});q.hu=q.oi.extend({update:function(){this.P.D(!0)},reverse:function(){return q.Tt.create()},G:function(){return new q.hu}});q.hu.create=function(){return new q.hu};q.Tt=q.oi.extend({update:function(){this.P.D(!1)},reverse:function(){return q.hu.create()},G:function(){return new q.Tt}});q.Tt.create=function(){return new q.Tt};
q.qu=q.oi.extend({update:function(){this.P.D(!this.P.va)},reverse:function(){return new q.qu},G:function(){return new q.qu}});q.qu.create=function(){return new q.qu};q.au=q.oi.extend({kr:!0,ctor:function(){q.mj.prototype.ctor.call(this);this.kr=!0},update:function(){this.P.Q(this.kr)},s:function(a){this.kr=a;return!0},reverse:function(){return new q.au(this.kr)},G:function(){return new q.au(this.kr)}});q.au.create=function(a){null==a&&(a=!0);var c=new q.au;c&&c.s(a);return c};
q.Rt=q.oi.extend({hc:!1,ctor:function(){q.mj.prototype.ctor.call(this);this.hc=!1},BI:function(a){this.hc=a;return!0},update:function(){this.P.mW(this.hc)},reverse:function(){return q.Rt.create(!this.hc)},G:function(){var a=new q.Rt;a.BI(this.hc);return a}});q.Rt.create=function(a){var c=new q.Rt;return c.BI(a)?c:null};
q.St=q.oi.extend({ic:!1,ctor:function(){q.mj.prototype.ctor.call(this);this.ic=!1},CI:function(a){this.ic=a;return!0},update:function(){this.P.nW(this.ic)},reverse:function(){return q.St.create(!this.ic)},G:function(){var a=new q.St;a.CI(this.ic);return a}});q.St.create=function(a){var c=new q.St;return c.CI(a)?c:null};
q.Fy=q.oi.extend({q:null,ctor:function(){q.mj.prototype.ctor.call(this);this.q=q.a(0,0)},EI:function(a){this.q.x=a.x;this.q.y=a.y;return!0},update:function(){this.P.n(this.q)},G:function(){var a=new q.Fy;a.EI(this.q);return a}});q.Fy.create=function(a){var c=new q.Fy;c.EI(a);return c};
q.dq=q.oi.extend({ih:null,am:null,Ik:null,Jq:null,ctor:function(){q.mj.prototype.ctor.call(this);this.Jq=this.Ik=this.am=this.ih=null},Eg:function(a,c,d){this.Jq=d;this.am=a;this.ih=c;return!0},zC:function(a){this.Ik=a;return!0},execute:function(){null!=this.am?this.am.call(this.ih,this.P,this.Jq):this.Ik&&this.Ik.call(null,this.P)},update:function(){this.execute()},W5:function(){return this.ih},mba:function(a){a!=this.ih&&(this.ih&&(this.ih=null),this.ih=a)},copy:function(){var a=new q.dq;this.ih?
a.Eg(this.am,this.ih,this.Jq):this.Ik&&a.zC(this.Ik);return a},G:function(){var a=new q.dq;this.ih?a.Eg(this.am,this.ih,this.Jq):this.Ik&&a.zC(this.Ik);return a}});q.dq.create=function(a,c,d){var e=new q.dq;if(1==arguments.length){if(e&&e.zC(a))return e}else if(e&&e.Eg(a,c,d))return e.am=a,e;return null};q.$x=q.O.extend({xz:0,yz:0,zz:0,JF:0,KF:0,LF:0,RG:0,SG:0,TG:0,ctor:function(){q.O.prototype.ctor.call(this);this.TG=this.SG=this.RG=this.LF=this.KF=this.JF=this.zz=this.yz=this.xz=0},Z:function(a){q.O.prototype.Z.call(this,a);a=a.gC();var c=a.aI();this.xz=c.x;this.yz=c.y;this.zz=c.z;c=a.cI();this.JF=c.x;this.KF=c.y;this.LF=c.z;a=a.QS();this.RG=a.x;this.SG=a.y;this.TG=a.z},G:function(){return new q.$x},reverse:function(){return q.du.create(this)}});
q.Dy=q.$x.extend({Pi:0,Uu:0,ao:0,Lz:0,lg:0,Kz:0,OA:0,MA:0,NA:0,LA:0,ctor:function(){q.$x.prototype.ctor.call(this);this.LA=this.NA=this.MA=this.OA=this.Kz=this.lg=this.Lz=this.ao=this.Uu=this.Pi=0},M:function(a,c,d,e,f,g,h){return q.O.prototype.M.call(this,a)?(this.Pi=c,this.Uu=d,this.ao=e,this.Lz=f,this.lg=g,this.Kz=h,this.MA=q.lj(f),this.LA=q.lj(h),!0):!1},wX:function(){var a=this.P.gC(),c=a.cI(),d=a.aI(),a=c.x-d.x,e=c.y-d.y,c=c.z-d.z,d=Math.sqrt(Math.pow(a,2)+Math.pow(e,2)+Math.pow(c,2)),f=Math.sqrt(Math.pow(a,
2)+Math.pow(e,2));0===f&&(f=q.Ot);0===d&&(d=q.Ot);return{cU:d/q.eq.xs(),SX:Math.acos(c/d),azimuth:0>a?Math.PI-Math.asin(e/f):Math.asin(e/f)}},Z:function(a){q.O.prototype.Z.call(this,a);a=this.wX();isNaN(this.Pi)&&(this.Pi=a.cU);isNaN(this.ao)&&(this.ao=q.Hy(a.SX));isNaN(this.lg)&&(this.lg=q.Hy(a.azimuth));this.OA=q.lj(this.ao);this.NA=q.lj(this.lg)},G:function(){var a=new q.Dy;a.M(this.ta,this.Pi,this.Uu,this.ao,this.Lz,this.lg,this.Kz);return a},update:function(a){var c=(this.Pi+this.Uu*a)*q.eq.xs(),
d=this.OA+this.MA*a,e=this.NA+this.LA*a;a=Math.sin(d)*Math.cos(e)*c+this.xz;e=Math.sin(d)*Math.sin(e)*c+this.yz;c=Math.cos(d)*c+this.zz;this.P.gC().bK(a,e,c)}});q.Dy.create=function(a,c,d,e,f,g,h){var k=new q.Dy;return k.M(a,c,d,e,f,g,h)?k:null};q.bd=q.O.extend({ba:null,ctor:function(){q.O.prototype.ctor.call(this);this.ba=null},la:function(a){if(!a)throw"cc.ActionEase.initWithAction(): action must be non nil";return this.M(a.wf())?(this.ba=a,!0):!1},G:function(){var a=new q.bd;a.la(this.ba.G());return a},Z:function(a){q.O.prototype.Z.call(this,a);this.ba.Z(this.P)},stop:function(){this.ba.stop();q.O.prototype.stop.call(this)},update:function(a){this.ba.update(a)},reverse:function(){return q.bd.create(this.ba.reverse())},hC:function(){return this.ba}});
q.bd.create=function(a){var c=new q.bd;c&&c.la(a);return c};q.Rl=q.bd.extend({Le:0,ctor:function(){q.bd.prototype.ctor.call(this);this.Le=0},Taa:function(a){this.Le=a},u5:function(){return this.Le},la:function(a,c){return q.bd.prototype.la.call(this,a)?(this.Le=c,!0):!1},G:function(){var a=new q.Rl;a.la(this.ba.G(),this.Le);return a},reverse:function(){return q.Rl.create(this.ba.reverse(),1/this.Le)}});q.Rl.create=function(a,c){var d=new q.Rl;d&&d.la(a,c);return d};
q.Ht=q.Rl.extend({update:function(a){this.ba.update(Math.pow(a,this.Le))},reverse:function(){return q.Ht.create(this.ba.reverse(),1/this.Le)},G:function(){var a=new q.Ht;a.la(this.ba.G(),this.Le);return a}});q.Ht.create=function(a,c){var d=new q.Ht;d&&d.la(a,c);return d};q.Jt=q.Rl.extend({update:function(a){this.ba.update(Math.pow(a,1/this.Le))},reverse:function(){return q.Jt.create(this.ba.reverse(),1/this.Le)},G:function(){var a=new q.Jt;a.la(this.ba.G(),this.Le);return a}});
q.Jt.create=function(a,c){var d=new q.Jt;d&&d.la(a,c);return d};q.It=q.Rl.extend({update:function(a){a*=2;1>a?this.ba.update(0.5*Math.pow(a,this.Le)):this.ba.update(1-0.5*Math.pow(2-a,this.Le))},G:function(){var a=new q.It;a.la(this.ba.G(),this.Le);return a},reverse:function(){return q.It.create(this.ba.reverse(),this.Le)}});q.It.create=function(a,c){var d=new q.It;d&&d.la(a,c);return d};
q.Et=q.bd.extend({update:function(a){this.ba.update(0===a?0:Math.pow(2,10*(a-1)))},reverse:function(){return q.Gt.create(this.ba.reverse())},G:function(){var a=new q.Et;a.la(this.ba.G());return a}});q.Et.create=function(a){var c=new q.Et;c&&c.la(a);return c};q.Gt=q.bd.extend({update:function(a){this.ba.update(1==a?1:-Math.pow(2,-10*a)+1)},reverse:function(){return q.Et.create(this.ba.reverse())},G:function(){var a=new q.Gt;a.la(this.ba.G());return a}});
q.Gt.create=function(a){var c=new q.Gt;c&&c.la(a);return c};q.Ft=q.bd.extend({update:function(a){1!=a&&0!==a&&(a*=2,a=1>a?0.5*Math.pow(2,10*(a-1)):0.5*(-Math.pow(2,-10*(a-1))+2));this.ba.update(a)},reverse:function(){return q.Ft.create(this.ba.reverse())},G:function(){var a=new q.Ft;a.la(this.ba.G());return a}});q.Ft.create=function(a){var c=new q.Ft;c&&c.la(a);return c};
q.Kt=q.bd.extend({update:function(a){a=0===a||1==a?a:-1*Math.cos(a*Math.PI/2)+1;this.ba.update(a)},reverse:function(){return q.Mt.create(this.ba.reverse())},G:function(){var a=new q.Kt;a.la(this.ba.G());return a}});q.Kt.create=function(a){var c=new q.Kt;c&&c.la(a);return c};q.Mt=q.bd.extend({update:function(a){a=0===a||1==a?a:Math.sin(a*Math.PI/2);this.ba.update(a)},reverse:function(){return q.Kt.create(this.ba.reverse())},G:function(){var a=new q.Mt;a.la(this.ba.G());return a}});
q.Mt.create=function(a){var c=new q.Mt;c&&c.la(a);return c};q.Lt=q.bd.extend({update:function(a){a=0===a||1==a?a:-0.5*(Math.cos(Math.PI*a)-1);this.ba.update(a)},G:function(){var a=new q.Lt;a.la(this.ba.G());return a},reverse:function(){return q.Lt.create(this.ba.reverse())}});q.Lt.create=function(a){var c=new q.Lt;c&&c.la(a);return c};
q.Nn=q.bd.extend({ae:null,ctor:function(){q.bd.prototype.ctor.call(this);this.ae=0.3},e5:function(){return this.ae},Iaa:function(a){this.ae=a},la:function(a,c){q.bd.prototype.la.call(this,a);this.ae=null==c?0.3:c;return!0},reverse:function(){q.log("cc.EaseElastic.reverse(): it should be overridden in subclass.")},G:function(){var a=new q.Nn;a.la(this.ba.G(),this.ae);return a}});q.Nn.create=function(a,c){var d=new q.Nn;return d&&d.la(a,c)?d:null};
q.Bt=q.Nn.extend({update:function(a){var c=0;0===a||1===a?c=a:(c=this.ae/4,a-=1,c=-Math.pow(2,10*a)*Math.sin((a-c)*Math.PI*2/this.ae));this.ba.update(c)},reverse:function(){return q.Dt.create(this.ba.reverse(),this.ae)},G:function(){var a=new q.Bt;a.la(this.ba.G(),this.ae);return a}});q.Bt.create=function(a,c){var d=new q.Bt;return d&&d.la(a,c)?d:null};
q.Dt=q.Nn.extend({update:function(a){var c=0,c=0===a||1==a?a:Math.pow(2,-10*a)*Math.sin((a-this.ae/4)*Math.PI*2/this.ae)+1;this.ba.update(c)},reverse:function(){return q.Bt.create(this.ba.reverse(),this.ae)},G:function(){var a=new q.Dt;a.la(this.ba.G(),this.ae);return a}});q.Dt.create=function(a,c){var d=new q.Dt;d&&d.la(a,c);return d};
q.Ct=q.Nn.extend({update:function(a){var c=0,c=this.ae;if(0===a||1==a)c=a;else{c||(c=this.ae=0.3*1.5);var d=c/4;a=2*a-1;c=0>a?-0.5*Math.pow(2,10*a)*Math.sin((a-d)*Math.PI*2/c):Math.pow(2,-10*a)*Math.sin((a-d)*Math.PI*2/c)*0.5+1}this.ba.update(c)},reverse:function(){return q.Ct.create(this.ba.reverse(),this.ae)},G:function(){var a=new q.Ct;a.la(this.ba.G(),this.ae);return a}});q.Ct.create=function(a,c){var d=new q.Ct;d&&d.la(a,c);return d};
q.Ql=q.bd.extend({ow:function(a){if(a<1/2.75)return 7.5625*a*a;if(a<2/2.75)return a-=1.5/2.75,7.5625*a*a+0.75;if(a<2.5/2.75)return a-=2.25/2.75,7.5625*a*a+0.9375;a-=2.625/2.75;return 7.5625*a*a+0.984375},G:function(){var a=new q.Ql;a.la(this.ba.G());return a},reverse:function(){return q.Ql.create(this.ba.reverse())}});q.Ql.create=function(a){var c=new q.Ql;c&&c.la(a);return c};
q.yt=q.Ql.extend({update:function(a){this.ba.update(1-this.ow(1-a))},reverse:function(){return q.At.create(this.ba.reverse())},G:function(){var a=new q.yt;a.la(this.ba.G());return a}});q.yt.create=function(a){var c=new q.yt;c&&c.la(a);return c};q.At=q.Ql.extend({update:function(a){this.ba.update(this.ow(a))},reverse:function(){return q.yt.create(this.ba.reverse())},G:function(){var a=new q.At;a.la(this.ba.G());return a}});q.At.create=function(a){var c=new q.At;c&&c.la(a);return c};
q.zt=q.Ql.extend({update:function(a){var c=0,c=0.5>a?0.5*(1-this.ow(1-2*a)):0.5*this.ow(2*a-1)+0.5;this.ba.update(c)},G:function(){var a=new q.zt;a.la(this.ba.G());return a},reverse:function(){return q.zt.create(this.ba.reverse())}});q.zt.create=function(a){var c=new q.zt;c&&c.la(a);return c};q.vt=q.bd.extend({update:function(a){this.ba.update(0===a||1==a?a:a*a*(2.70158*a-1.70158))},reverse:function(){return q.xt.create(this.ba.reverse())},G:function(){var a=new q.vt;a.la(this.ba.G());return a}});
q.vt.create=function(a){var c=new q.vt;c&&c.la(a);return c};q.xt=q.bd.extend({update:function(a){a-=1;this.ba.update(a*a*(2.70158*a+1.70158)+1)},reverse:function(){return q.vt.create(this.ba.reverse())},G:function(){var a=new q.xt;a.la(this.ba.G());return a}});q.xt.create=function(a){var c=new q.xt;c&&c.la(a);return c};
q.wt=q.bd.extend({update:function(a){a*=2;1>a?this.ba.update(a*a*(3.5949095*a-2.5949095)/2):(a-=2,this.ba.update(a*a*(3.5949095*a+2.5949095)/2+1))},G:function(){var a=new q.wt;a.la(this.ba.G());return a},reverse:function(){return q.wt.create(this.ba.reverse())}});q.wt.create=function(a){var c=new q.wt;c&&c.la(a);return c};q.iy=function(a,c,d,e,f,g){var h=g*g,k=h*g,l=(1-f)/2;f=l*(-k+2*h-g);var m=l*(-k+h)+(2*k-3*h+1);g=l*(k-2*h+g)+(-2*k+3*h);h=l*(k-h);return q.a(a.x*f+c.x*m+d.x*g+e.x*h,a.y*f+c.y*m+d.y*g+e.y*h)};q.LJ=function(a){for(var c=[],d=a.length-1;0<=d;d--)c.push(q.a(a[d].x,a[d].y));return c};q.tw=function(a){for(var c=[],d=0;d<a.length;d++)c.push(q.a(a[d].x,a[d].y));return c};q.rh=function(a,c){var d=Math.min(a.length-1,Math.max(c,0));return a[d]};
q.r$=function(a){for(var c=a.length,d=0|c/2,e=0;e<d;++e){var f=a[e];a[e]=a[c-e-1];a[c-e-1]=f}};
q.qi=q.O.extend({Lh:null,Mz:0,Am:0,Rc:null,iz:null,ctor:function(){q.O.prototype.ctor.call(this);this.Lh=[];this.Am=this.Mz=0;this.iz=this.Rc=null},M:function(a,c,d){if(!c||0==c.length)throw"Invalid configuration. It must at least have one control point";return q.O.prototype.M.call(this,a)?(this.OW(c),this.Am=d,!0):!1},G:function(){var a=new q.qi;a.M(this.ta,q.tw(this.Lh),this.Am);return a},Z:function(a){q.O.prototype.Z.call(this,a);this.Mz=1/(this.Lh.length-1);a=this.P.q;this.Rc=q.a(a.x,a.y);this.iz=
q.a(0,0)},update:function(a){var c,d=this.Lh;if(1==a)c=d.length-1,a=1;else{var e=this.Mz;c=0|a/e;a=(a-e*c)/e}c=q.iy(q.rh(d,c-1),q.rh(d,c-0),q.rh(d,c+1),q.rh(d,c+2),this.Am,a);q.st&&(d=this.P.q.F-this.Rc.x,a=this.P.q.J-this.Rc.y,0!=d||0!=a)&&(e=this.iz,d=e.x+d,a=e.y+a,e.x=d,e.y=a,c.x+=d,c.y+=a);this.dL(c)},reverse:function(){var a=q.LJ(this.Lh);return q.qi.create(this.ta,a,this.Am)},dL:function(a){this.P.n(a);this.Rc=a},j5:function(){return this.Lh},OW:function(a){this.Lh=a}});
q.qi.create=function(a,c,d){var e=new q.qi;return e.M(a,c,d)?e:null};
q.fq=q.qi.extend({Sc:null,ctor:function(){q.qi.prototype.ctor.call(this);this.Sc=q.a(0,0)},Z:function(a){q.qi.prototype.Z.call(this,a);a=a.q;this.Sc.x=a.x;this.Sc.y=a.y},reverse:function(){for(var a=this.Lh.slice(),c,d=a[0],e=1;e<a.length;++e)c=a[e],a[e]=q.wd(c,d),d=c;a=q.LJ(a);d=a[a.length-1];a.pop();d.x=-d.x;d.y=-d.y;a.unshift(d);for(e=1;e<a.length;++e)c=a[e],c.x=-c.x,c.y=-c.y,c.x+=d.x,c.y+=d.y,d=a[e]=c;return q.fq.create(this.ta,a,this.Am)},dL:function(a){var c=this.Sc,d=a.x+c.x;a=a.y+c.y;this.P.n(d,
a);this.Rc.x=d;this.Rc.y=a},G:function(){var a=new q.fq;a.M(this.ta,q.tw(this.Lh),this.Am);return a}});q.fq.create=function(a,c,d){var e=new q.fq;return e.M(a,c,d)?e:null};q.ky=q.qi.extend({M:function(a,c){return q.qi.prototype.M.call(this,a,c,0.5)},G:function(){var a=new q.ky;a.M(this.ta,q.tw(this.Lh));return a}});q.ky.create=function(a,c){var d=new q.ky;return d.M(a,c)?d:null};
q.jy=q.fq.extend({M:function(a,c){return q.qi.prototype.M.call(this,a,c,0.5)},G:function(){var a=new q.jy;a.M(this.ta,q.tw(this.Lh));return a}});q.jy.create=function(a,c){var d=new q.jy;return d.M(a,c)?d:null};q.dY=q.Ca.extend({UD:function(){}});
q.Ln=q.O.extend({key:"",Um:0,Hl:0,WB:0,ctor:function(){q.O.prototype.ctor.call(this);this.key="";this.WB=this.Hl=this.Um=0},M:function(a,c,d,e){return q.O.prototype.M.call(this,a)?(this.key=c,this.Hl=e,this.Um=d,!0):!1},Z:function(a){if(!a||!a.UD)throw"cc.ActionTween.startWithTarget(): target must be non-null, and target must implement updateTweenAction function";q.O.prototype.Z.call(this,a);this.WB=this.Hl-this.Um},update:function(a){this.P.UD(this.Hl-this.WB*(1-a),this.key)},reverse:function(){return q.Ln.create(this.duration,
this.key,this.Hl,this.Um)},G:function(){var a=new q.Ln;a.M(this.ta,this.key,this.Um,this.Hl);return a}});q.Ln.create=function(a,c,d,e){var f=new q.Ln;return f.M(a,c,d,e)?f:null};q.tk=0;q.Ey=1;q.RE=4;q.zM=75;
q.Bc=q.yb.extend({vf:null,Mi:0,nb:null,Kh:null,$l:null,Id:!1,E4:function(){return q.a(this.Kh.x,this.Kh)},jK:function(a){this.Kh=q.kJ(a)},k3:function(){return q.a(this.$l.x,this.$l.y)},SJ:function(a){this.$l=q.kJ(a)},lc:function(){return this.vf},Hw:function(){return this.Mi},LS:function(){return this.nb},Ws:function(a){this.Mi!=a&&(this.Mi=q.fs(a,0,100),this.vB())},Ff:function(){},nl:function(){return!1},D7:function(){return this.Id},tz:function(a){if(a<q.RE){var c=q.zM;return this.Id?q.a(c>>7-(a<<
1)&1,c>>7-((a<<1)+1)&1):q.a(c>>(a<<1)+1&1,c>>(a<<1)&1)}return q.nj()},fd:null,mB:270,Vz:270,Pi:0,Fz:!1,qz:null,ud:0,Hc:null,Tf:null,aH:null,cs:!1,ctor:null,Hh:function(){q.yb.prototype.ctor.call(this);this.vf=q.tk;this.Mi=0;this.Kh=q.a(0,0);this.$l=q.a(0,0);this.Id=!1;this.nb=null;this.fd=q.nj();this.Vz=this.mB=270;this.Pi=0;this.Fz=!1;this.qz=q.cd()},Ih:function(){q.yb.prototype.ctor.call(this);this.vf=q.tk;this.Mi=0;this.Kh=q.a(0,0);this.$l=q.a(0,0);this.Id=!1;this.nb=null;this.aH=q.U.createBuffer();
this.ud=0;this.Tf=this.Hc=null;this.cs=!1},l:function(a){this.nb.l(a);this.td()},fa:function(a){this.nb.fa(a);this.td()},vd:function(){return this.nb.vd()},Wi:function(){return this.nb.Wi()},pK:null,JP:function(a){this.Id!==a&&(this.Id=a)},KP:function(a){this.Id!==a&&(this.Id=a,this.Tf=this.Hc=null,this.ud=0)},Ys:null,MP:function(a){this.nb!=a&&(this.nb=a,this.T(this.nb.d()))},NP:function(a){a&&this.nb!=a&&(this.nb=a,this.T(a.d()),this.Hc&&(this.Tf=this.Hc=null,this.ud=0))},fj:null,QP:function(a){a!==
this.vf&&(this.vf=a)},RP:function(a){a!==this.vf&&(this.Hc&&(this.Tf=this.Hc=null,this.ud=0),this.vf=a)},oK:null,HP:function(a){this.Id!==a&&(this.Id=a)},IP:function(a){this.Id!==a&&(this.Id=a,this.Tf=this.Hc=null,this.ud=0)},Re:function(a){var c=this.nb;if(!c)return{Oa:0,ja:0};var d=c.Ib,e=q.a(d.Ja.A.Oa,d.Ja.A.ja),d=q.a(d.Ma.A.Oa,d.Ma.A.ja);c.Wc&&(c=a.x,a.x=a.y,a.y=c);return{Oa:e.x*(1-a.x)+d.x*a.x,ja:e.y*(1-a.y)+d.y*a.y}},Te:function(a){if(!this.nb)return{x:0,y:0};var c=this.nb.Ib,d=q.a(c.Ja.r.x,
c.Ja.r.y),c=q.a(c.Ma.r.x,c.Ma.r.y);return{x:d.x*(1-a.x)+c.x*a.x,y:d.y*(1-a.y)+c.y*a.y}},CC:null,qO:function(a){this.Ws(0);this.L(0.5,0.5);this.vf=q.tk;this.Id=!1;this.jK(q.a(0.5,0.5));this.SJ(q.a(1,1));this.Ys(a);return!0},rO:function(a){this.Ws(0);this.Tf=this.Hc=null;this.ud=0;this.L(0.5,0.5);this.vf=q.tk;this.Id=!1;this.jK(q.a(0.5,0.5));this.SJ(q.a(1,1));this.Ys(a);this.Lg(q.Fh.e().ki(q.Ly));return!0},Va:null,dm:function(a){a=a||q.U;var c=this.nb;c.Eo&&(a.globalCompositeOperation="lighter");var d=
q.oa.e().ra,e=q.oa.e().za;a.globalAlpha=c.Vb/255;var f=c.wa,g=c.qa,h=c.cc,k=c.Sz,l=0|h.x,m=-h.y-f.height,n=c.ap;k.width=f.width*d;k.height=f.height*e;a.save();c.hc&&(l=-h.x-f.width,a.scale(-1,1));c.ic&&(m=h.y,a.scale(1,-1));l*=d;m*=e;this.vf==q.Ey?(f=this.qz,a.beginPath(),a.rect(f.x*d,f.y*e,f.width*d,f.height*e),a.clip(),a.closePath()):this.vf==q.tk&&(f=this.fd.x*d,h=this.fd.y*e,a.beginPath(),a.arc(f,h,this.Pi*e,Math.PI/180*this.mB,Math.PI/180*this.Vz,this.Fz),a.lineTo(f,h),a.clip(),a.closePath());
c.Da&&n.it?(d=c.Da.Fc,this.Nu?a.drawImage(d,0,0,n.width,n.height,l,m,k.width,k.height):a.drawImage(d,n.x,n.y,n.width,n.height,l,m,k.width,k.height)):0!==g.width&&(k=this.vd(),a.fillStyle="rgba("+k.p+","+k.o+","+k.g+",1)",a.fillRect(l,m,g.width*d,g.height*e));a.restore();q.Ch()},pg:function(a){a=a||q.U;if(this.Hc&&this.nb){q.By(this);var c=this.nb.ea;q.bk(c.src,c.Fb);q.qe(q.uu);this.nb.aa()?q.Cg(this.nb.aa()):q.Cg(null);a.bindBuffer(a.ARRAY_BUFFER,this.aH);this.cs&&(a.bufferData(a.ARRAY_BUFFER,this.Tf,
a.DYNAMIC_DRAW),this.cs=!1);c=q.Sb.BYTES_PER_ELEMENT;a.vertexAttribPointer(q.Fe,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(q.rq,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(q.sq,2,a.FLOAT,!1,c,12);this.vf===q.tk?a.drawArrays(a.TRIANGLE_FAN,0,this.ud):this.vf==q.Ey&&(this.Id?(a.drawArrays(a.TRIANGLE_STRIP,0,this.ud/2),a.drawArrays(a.TRIANGLE_STRIP,4,this.ud/2),q.ai++):a.drawArrays(a.TRIANGLE_STRIP,0,this.ud));q.ai++}},sQ:function(){if(this.nb){var a,c=this.Kh;a=this.Mi/100;var d=2*q.PI*(this.Id?a:
1-a),e=q.a(c.x,1),f=q.yU(e,c,d),d=0;if(0==a)f=e,d=0;else if(1==a)f=e,d=4;else{var g=q.OL,h=q.RE;for(a=0;a<=h;++a){var k=(a+(h-1))%h,l=this.tz(a%h),k=this.tz(k);0==a?k=q.mJ(l,k,1-c.x):4==a&&(l=q.mJ(l,k,1-c.x));var m=q.a(0,0);q.VC(l,k,c,f,m)&&(0!=a&&4!=a||0<=m.x&&1>=m.x)&&0<=m.y&&m.y<g&&(g=m.y,d=a)}f=q.bg(c,q.cj(q.wd(f,c),g))}g=!0;this.ud!=d+3&&(g=!1,this.Tf=this.Hc=null,this.ud=0);if(!this.Hc){h=this.ud=d+3;l=q.Sb.BYTES_PER_ELEMENT;this.Tf=new ArrayBuffer(h*l);k=[];for(a=0;a<h;a++)k[a]=new q.Sb(null,
null,null,this.Tf,a*l);this.Hc=k;if(!this.Hc){q.log("cc.ProgressTimer._updateRadial() : Not enough memory");return}}this.td();h=this.Hc;if(!g)for(h[0].A=this.Re(c),h[0].r=this.Te(c),h[1].A=this.Re(e),h[1].r=this.Te(e),a=0;a<d;a++)c=this.tz(a),h[a+2].A=this.Re(c),h[a+2].r=this.Te(c);h[this.ud-1].A=this.Re(f);h[this.ud-1].r=this.Te(f)}},hQ:function(){if(this.nb){var a,c=this.Mi/100,d=this.$l,d=q.cj(q.a(1-d.x+c*d.x,1-d.y+c*d.y),0.5),c=q.wd(this.Kh,d),d=q.bg(this.Kh,d);0>c.x&&(d.x+=-c.x,c.x=0);1<d.x&&
(c.x-=d.x-1,d.x=1);0>c.y&&(d.y+=-c.y,c.y=0);1<d.y&&(c.y-=d.y-1,d.y=1);if(this.Id){if(!this.Hc){this.ud=8;var e=q.Sb.BYTES_PER_ELEMENT;this.Tf=new ArrayBuffer(8*e);var f=[];for(a=0;8>a;a++)f[a]=new q.Sb(null,null,null,this.Tf,a*e);f[0].A=this.Re(q.a(0,1));f[0].r=this.Te(q.a(0,1));f[1].A=this.Re(q.a(0,0));f[1].r=this.Te(q.a(0,0));f[6].A=this.Re(q.a(1,1));f[6].r=this.Te(q.a(1,1));f[7].A=this.Re(q.a(1,0));f[7].r=this.Te(q.a(1,0));this.Hc=f}a=this.Hc;a[2].A=this.Re(q.a(c.x,d.y));a[2].r=this.Te(q.a(c.x,
d.y));a[3].A=this.Re(q.a(c.x,c.y));a[3].r=this.Te(q.a(c.x,c.y));a[4].A=this.Re(q.a(d.x,d.y));a[4].r=this.Te(q.a(d.x,d.y));a[5].A=this.Re(q.a(d.x,c.y));a[5].r=this.Te(q.a(d.x,c.y))}else{if(!this.Hc)for(this.ud=4,e=q.Sb.BYTES_PER_ELEMENT,this.Tf=new ArrayBuffer(4*e),this.Hc=[],a=0;4>a;a++)this.Hc[a]=new q.Sb(null,null,null,this.Tf,a*e);a=this.Hc;a[0].A=this.Re(q.a(c.x,d.y));a[0].r=this.Te(q.a(c.x,d.y));a[1].A=this.Re(q.a(c.x,c.y));a[1].r=this.Te(q.a(c.x,c.y));a[2].A=this.Re(q.a(d.x,d.y));a[2].r=this.Te(q.a(d.x,
d.y));a[3].A=this.Re(q.a(d.x,c.y));a[3].r=this.Te(q.a(d.x,c.y))}this.td()}},td:function(){if(this.nb&&this.Hc){for(var a=this.nb.Ib.Sa.I,c=this.Hc,d=0,e=this.ud;d<e;++d)c[d].I=a;this.cs=!0}},vB:null,oQ:function(){var a=this.nb,c=a.d(),d=this.Kh;if(this.vf==q.tk){this.Pi=Math.round(Math.sqrt(c.width*c.width+c.height*c.height));var e,f=!1,g=this.fd;g.x=c.width*d.x;g.y=-c.height*d.y;this.Id?(e=270,d=270-3.6*this.Mi):(d=-90,e=-90+3.6*this.Mi);a.hc&&(g.x-=2*c.width*this.Kh.x,d=-d-180,e=-e-180,f=!f);a.ic&&
(g.y+=2*c.height*this.Kh.y,f=!f,d=-d,e=-e);this.mB=d;this.Vz=e;this.Fz=f}else{e=this.$l;g=this.Mi/100;f=this.qz;e=q.size(c.width*(1-e.x),c.height*(1-e.y));var g=q.size((c.width-e.width)*g,(c.height-e.height)*g),g=q.size(e.width+g.width,e.height+g.height),h=q.a(c.width*d.x,c.height*d.y),k=h.x-g.width/2;0.5<d.x&&g.width/2>=c.width-h.x&&(k=c.width-g.width);e=h.y-g.height/2;0.5<d.y&&g.height/2>=c.height-h.y&&(e=c.height-g.height);f.x=0;c=1;a.hc&&(f.x-=g.width,c=-1);0<k&&(f.x+=k*c);f.y=0;c=1;a.ic&&(f.y+=
g.height,c=-1);0<e&&(f.y-=e*c);f.width=g.width;f.height=-g.height}},pQ:function(){var a=this.vf;a===q.tk?this.sQ():a===q.Ey&&this.hQ();this.cs=!0}});
q.Ea.Pc?(b=q.Bc.prototype,b.ctor=q.Bc.prototype.Ih,b.pK=q.Bc.prototype.KP,b.Ys=q.Bc.prototype.NP,b.fj=q.Bc.prototype.RP,b.oK=q.Bc.prototype.IP,b.CC=q.Bc.prototype.rO,b.Va=q.Bc.prototype.pg,b.vB=q.Bc.prototype.pQ):(b=q.Bc.prototype,b.ctor=q.Bc.prototype.Hh,b.pK=q.Bc.prototype.JP,b.Ys=q.Bc.prototype.MP,b.fj=q.Bc.prototype.QP,b.oK=q.Bc.prototype.HP,b.CC=q.Bc.prototype.qO,b.Va=q.Bc.prototype.dm,b.vB=q.Bc.prototype.oQ);q.Bc.create=function(a){var c=new q.Bc;return c.CC(a)?c:null};q.Gy=q.O.extend({uf:0,$d:0,ctor:function(){q.O.prototype.ctor.call(this);this.$d=this.uf=0},M:function(a,c){return q.O.prototype.M.call(this,a)?(this.uf=c,!0):!1},G:function(){var a=new q.Gy;a.M(this.ta,this.uf);return a},reverse:function(){q.log("cc.ProgressTo.reverse(): reverse hasn't been supported.");return null},Z:function(a){q.O.prototype.Z.call(this,a);this.$d=a.Hw();100==this.$d&&(this.$d=0)},update:function(a){this.P instanceof q.Bc&&this.P.Ws(this.$d+(this.uf-this.$d)*a)}});
q.Gy.create=function(a,c){var d=new q.Gy;d.M(a,c);return d};q.Zt=q.O.extend({uf:0,$d:0,ctor:function(){q.O.prototype.ctor.call(this);this.$d=this.uf=0},M:function(a,c,d){return q.O.prototype.M.call(this,a)?(this.uf=d,this.$d=c,!0):!1},G:function(){var a=new q.Zt;a.M(this.ta,this.$d,this.uf);return a},reverse:function(){return q.Zt.create(this.ta,this.uf,this.$d)},Z:function(a){q.O.prototype.Z.call(this,a)},update:function(a){this.P instanceof q.Bc&&this.P.Ws(this.$d+(this.uf-this.$d)*a)}});
q.Zt.create=function(a,c,d){var e=new q.Zt;e.M(a,c,d);return e};q.gy=9;q.sL=1;q.vL=2;q.wL=4;q.tL=8;q.uL=16;q.iE=32;q.xL=64;q.rL=128;q.pi=256;q.hg=1;q.kE=2;q.jE=4;q.vY=8;q.uY=8;
q.Rb=q.Dh.extend({$F:!1,q0:!1,nl:function(){return this.$F},Ff:function(a){this.$F=a;for(var c=this.t,d=0,e=c.length;d<e;d++){var f=c[d];f&&f.hb&&f.Ff(a)}},Ri:q.hg,T5:function(){return this.Ri},Vq:!1,So:!1,Fj:!1,Vu:null,Ef:function(a){this.Ri=(this.Vq=a)?q.hg:q.jE;this.Zc()},isEnabled:function(){return this.Vq},Tp:function(a){this.So=a;this.Zc()},G7:function(){return this.So},Al:function(a){this.Fj=a;this.Zc()},p7:function(){return this.Fj},gT:function(){for(var a=this.getParent();null!=a;a=a.getParent())if(!a.va)return!1;
return!0},ctor:function(){q.Dh.prototype.ctor.call(this);this.Vu={};this.gc=q.xb()},s:function(){return q.Dh.prototype.s.call(this)?(this.Ri=q.hg,this.Vq=!0,this.Fj=this.So=!1,this.Vp(1),!0):!1},kx:function(){q.eD(this.al,!0,this)},cf:function(a){for(var c=0,d=q.gy;c<d;c++)if(a&1<<c)for(var e=this.Rz(1<<c),f=0,g=e.length;f<g;f++)e[f].FT(this)},oH:function(a,c,d){for(var e=0,f=q.gy;e<f;e++)d&1<<e&&this.uF(a,c,1<<e)},j$:function(a,c,d){for(var e=0,f=q.gy;e<f;e++)d&1<<e&&this.iP(a,c,1<<e)},Xi:function(a){return this.Ba(a.K)},
fi:function(a){a=a.K;a=this.getParent().Ba(a);return q.rb(this.Xa(),a)},s0:function(){return null},Rz:function(a){a=a.toString();this.Vu.hasOwnProperty(a)||(this.Vu[a]=[]);return this.Vu[a]},uF:function(a,c,d){a=new q.WL(a,c,d);this.Rz(d).push(a)},iP:function(a,c,d){d=this.Rz(d);if(a||c)for(var e=0;e<d.length;){var f=d[e],g=!0;a&&(g=a==f.P);c&&(g=g&&c==f.Kf);g?q.Pd(d,f):e++}else d.length=0},Zc:function(){}});q.Rb.create=function(){var a=new q.Rb;return a&&a.s()?a:null};q.oE=3435855873;
q.Pl=q.Rb.extend({Qq:!1,ds:!1,rg:null,lr:null,Iq:null,Su:null,Dm:null,Ud:null,Li:0,Go:!1,aw:null,Sr:null,bw:null,Zl:null,nG:!1,sv:0,rv:0,ctor:function(){q.Rb.prototype.ctor.call(this);this.rg=new q.wk(0,0);this.lr=new q.Tg(0,0);this.Iq="";this.Su=q.xb();this.aw={};this.Sr={};this.bw={};this.Zl={}},s:function(){return this.Qw(q.R.create("","Arial",12),q.lf.create())},Zc:function(){if(this.nG){this.Dm&&this.Dm.D(!1);this.Ud&&this.Ud.D(!1);this.uW(this.lr);var a=this.Ri;this.Iq=this.oC(a);this.Su=this.PS(a);
var c=this.Dm=this.us(a);c&&c.ca&&c.ca(this.Iq);c&&c.hb&&c.l(this.Su);var d=this.d();c&&c.n(d.width/2,d.height/2);(a=this.Ud=this.eS(a))&&a.n(d.width/2,d.height/2);d=c?c.Xa().ab:q.size(0,0);if(this.Qq)a&&a.T(d.width+2*this.rv,d.height+2*this.sv);else if(a){var e=a.rg,e=q.size(e.width,e.height);0>=e.width&&(e.width=d.width);0>=e.height&&(e.height=d.height);a.T(e)}d=c?c.Xa():q.rect(0,0,0,0);e=a?a.Xa():q.rect(0,0,0,0);d=q.jx(d,e);this.T(d.width,d.height);d=this.d();c&&(c.n(d.width/2,d.height/2),c.D(!0));
a&&(a.n(d.width/2,d.height/2),a.D(!0))}},Qw:function(a,c){if(!a||!a.hb)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): label should be non-null";if(!c)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): backgroundSprite should be non-null";return q.Rb.prototype.s.call(this,!0)?(this.nG=!0,this.aw={},this.Sr={},this.bw={},this.Zl={},this.Tb(!0),this.Go=!1,this.ds=!0,this.Iq=null,this.TV(!0),this.lk(q.size(0,0)),this.ds=!0,this.Yi(!1),this.L(0.5,0.5),this.Dm=a,this.Ud=c,this.fa(255),
this.Ff(!0),this.bX(a.mC(),q.hg),this.aX(a.vd(),q.hg),this.CD(a,q.hg),this.ux(c,q.hg),this.Ri=q.hg,this.rv=24,this.sv=12,this.lr=new q.Tg(0.5,0.5),this.lk(q.Tl()),this.Zc(),!0):!1},xT:function(a,c,d){a=q.R.create(a,c,d);return this.Qw(a,q.lf.create())},AI:function(a){var c=q.R.create("","Arial",30);return this.Qw(c,a)},n2:function(){return this.Qq},TV:function(a){this.Qq=a;this.Zc()},B6:function(){return this.ds},fX:function(a){return this.ds=a},zS:function(){return this.rg},lk:function(a){if(0===
a.width&&0===a.height)this.Qq=!0;else{this.Qq=!1;var c=this.Zl,d;for(d in c)c[d].lk(a)}this.rg=a;this.Zc()},s4:function(){return this.lr},uW:function(a){this.lr=a;this.Dm&&this.Dm.L(a)},j0:function(){return this.Iq},k0:function(){return this.Su},Wi:function(){return this.Li},fa:function(a){q.Rb.prototype.fa.call(this,a);var c=this.Zl,d;for(d in c)c[d].fa(a)},l:function(a){q.Rb.prototype.l.call(this,a);var c=this.Zl,d;for(d in c)c[d].l(a)},vd:function(){return this.be},C7:function(){return this.Go},
o0:function(){return this.sv},m0:function(){return this.rv},qaa:function(a,c){this.sv=c;this.rv=a;this.Zc()},Ef:function(a){q.Rb.prototype.Ef.call(this,a);this.Zc()},Tp:function(a){q.Rb.prototype.Tp.call(this,a);this.Zc()},Al:function(a){this.Ri=a?q.kE:q.hg;q.Rb.prototype.Al.call(this,a);(a=this.fC(q.oE))&&this.xX(a);this.Zc();this.ds&&(a=q.Vn.create(0.05,this.Fj&&this.isEnabled()&&!this.So?1.1:1),a.uK(q.oE),this.nx(a))},jb:function(a){if(!(this.fi(a)&&this.isEnabled()&&this.va&&this.gT()))return!1;
this.Go=!0;this.Al(!0);this.cf(q.sL);return!0},md:function(a){this.Vq&&this.Go&&!this.So?(a=this.fi(a))&&!this.Fj?(this.Al(!0),this.cf(q.tL)):a&&this.Fj?this.cf(q.vL):!a&&this.Fj?(this.Al(!1),this.cf(q.uL)):a||this.Fj||this.cf(q.wL):this.Fj&&this.Al(!1)},Cf:function(a){this.Go=!1;this.Al(!1);this.fi(a)?this.cf(q.iE):this.cf(q.xL)},gk:function(){this.Go=!1;this.Al(!1);this.cf(q.rL)},oC:function(a){var c=this.aw;return c?c[a]?c[a]:c[q.hg]:""},bX:function(a,c){this.aw[c]=a||"";this.Ri==c&&this.Zc()},
PS:function(a){return(a=this.Sr[a])?a:(a=this.Sr[q.hg])?a:q.xb()},aX:function(a,c){this.Sr[c]=a;this.Ri==c&&this.Zc()},us:function(a){var c=this.bw;return c.hasOwnProperty(a)&&c[a]?c[a]:c[q.hg]},CD:function(a,c){var d=this.bw;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.D(!1);a.L(0.5,0.5);this.f(a,1);this.Ri==c&&this.Zc()},rba:function(a,c){var d=this.oC(c);d||(d="");this.CD(q.R.create(d,a,12),c)},d6:function(a){a=this.us(a);return null!=a&&a instanceof q.R?a.of:""},sba:function(a,
c){var d=this.us(c);null!=d&&d instanceof q.R&&d.cK(a)},e6:function(a){a=this.us(a);return null!=a&&a instanceof q.R?a.Ie:0},qba:function(a,c){var d=this.oC(c);d||(d="");this.CD(q.yy.create(d,a),c)},c6:function(a){a=this.us(a);return null!=a&&a instanceof q.yy?a.Z3():""},eS:function(a){var c=this.Zl;return c.hasOwnProperty(a)&&c[a]?c[a]:c[q.hg]},ux:function(a,c){var d=this.Zl;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.D(!1);a.L(0.5,0.5);this.f(a);d=this.rg;0===d.width&&
0===d.height||a.lk(d);this.Ri===c&&this.Zc()},E$:function(a,c){var d=q.lf.yH(a);this.ux(d,c)}});q.Pl.create=function(a,c){var d;if(0==arguments.length)return(d=new q.Pl)&&d.s()?d:null;1==arguments.length?(d=new q.Pl,d.AI(arguments[0])):2==arguments.length?(d=new q.Pl,d.Qw(a,c)):3==arguments.length&&(d=new q.Pl,d.xT(arguments[0],arguments[1],arguments[2]));return d};q.RGBA=function(a,c,d,e){this.p=a;this.o=c;this.g=d;this.H=e};q.uy=function(a,c,d){this.ue=a;this.li=c;this.ja=d};q.Sd={};q.Sd.Om=function(a,c,d,e){a=q.w.zH(a);if(!a)return null;a.n(d);a.L(e);c.f(a);return a};q.Sd.SL=function(a){var c=new q.uy,d,e;d=a.p<a.o?a.p:a.o;d=d<a.g?d:a.g;e=a.p>a.o?a.p:a.o;e=e>a.g?e:a.g;c.ja=e;d=e-d;if(0<e)c.li=d/e;else return c.li=0,c.ue=-1,c;c.ue=a.p>=e?(a.o-a.g)/d:a.o>=e?2+(a.g-a.p)/d:4+(a.p-a.o)/d;c.ue*=60;0>c.ue&&(c.ue+=360);return c};
q.Sd.Jy=function(a){var c,d,e,f,g=new q.RGBA;g.H=1;if(0>=a.li){if(!a.ue)return g.p=a.ja,g.o=a.ja,g.g=a.ja,g;g.p=0;g.o=0;g.g=0;return g}c=a.ue;360<=c&&(c=0);c/=60;f=0|c;e=c-f;c=a.ja*(1-a.li);d=a.ja*(1-a.li*e);e=a.ja*(1-a.li*(1-e));switch(f){case 0:g.p=a.ja;g.o=e;g.g=c;break;case 1:g.p=d;g.o=a.ja;g.g=c;break;case 2:g.p=c;g.o=a.ja;g.g=e;break;case 3:g.p=c;g.o=d;g.g=a.ja;break;case 4:g.p=e;g.o=c;g.g=a.ja;break;default:g.p=a.ja,g.o=c,g.g=d}return g};q.Sd.fE=function(a,c){return q.jx(a,c)};q.WL=q.Ca.extend({Kf:null,P:null,Ru:null,ctor:function(a,c,d){this.P=a;this.Kf=c;this.Ru=d},c3:function(){return this.Kf},OS:function(){return this.P},G3:function(){return this.Ru},FT:function(a){if(this.P&&this.Kf)if("string"==typeof this.Kf)this.P[this.Kf](a,this.Ru);else this.Kf.call(this.P,a,this.Ru)}});q.LE=0;q.OE=1;q.ME=2;q.NE=3;q.JE=4;q.QE=5;q.PE=6;q.yM=7;q.KE=8;
q.lf=q.yb.extend({hb:!0,Uo:null,DF:null,Tk:!1,tf:null,Th:null,Sh:null,kh:null,Ii:null,uj:null,Oh:null,xi:null,wi:null,yi:null,wj:null,jc:!1,gd:null,rg:null,Li:0,gc:null,mo:null,fv:0,hv:0,gv:0,ev:0,HG:!1,hB:!1,ob:!1,Gd:null,UK:function(){return this.ob},Uf:function(a,c){this.Gd.push({ak:a,$h:c})},Vd:function(){this.ob=!0;for(var a=this.Gd,c=0,d=a.length;c<d;c++){var e=a[c];e.ak.call(e.$h,this)}a.length=0},gw:function(){var a;a=this.fv;var c=this.hv,d=this.gv,e=this.Uo,f=this.ev;a=0===a&&0===c&&0===
d&&0===f?q.cd():this.hB?q.rect(f,a,e.width-d-a,e.height-c-f):q.rect(a,c,e.width-a-d,e.height-c-f);this.ZV(a)},nQ:function(){if(this.Th&&this.kh&&this.yi&&this.xi&&this.uj){var a=this.qa,c=this.Th,d=this.kh,e=this.yi,f=this.xi,g=this.uj,h=this.uj.d(),k=c.d(),l=f.d(),m=a.Fa-k.width-d.d().width,a=a.pa-k.height-e.d().height,m=m/h.width,a=a/h.height,k=h.width*m,n=h.height*a,r=l.width,l=l.height;if(!q.Ea.Pc){var p=Math.round(k);k!=p&&(k=p,m=k/h.width);p=Math.round(n);n!=p&&(n=p,a=n/h.height)}g.Sp(m);g.xn(a);
var h=this.Ii,p=this.Oh,t=this.Sh,w=this.wi,A=q.a(0,0);f.L(A);e.L(A);c.L(A);d.L(A);h.L(A);p.L(A);t.L(A);w.L(A);g.L(A);f.n(0,0);e.n(r+k,0);c.n(0,l+n);d.n(r+k,l+n);h.n(0,l);h.xn(a);p.n(r+k,l);p.xn(a);w.n(r,0);w.Sp(m);t.n(r,l+n);t.Sp(m);g.n(r,l)}},ctor:function(){q.yb.prototype.ctor.call(this);this.Uo=q.cd();this.DF=q.cd();this.wj=q.xb();this.gd=new q.wk(0,0);this.rg=new q.wk(0,0);this.gc=q.xb();this.Li=255;this.mo=q.cd();this.Gd=[]},xS:function(){return this.gd},zS:function(){return this.rg},lk:function(a){this.T(a);
this.rg=a},Wi:function(){return this.Li},fa:function(a){if(this.tf){this.Li=a;for(var c=this.tf.t,d=0;d<c.length;d++){var e=c[d];e&&e.hb&&e.fa(a)}}},vd:function(){return this.gc},l:function(a){if(this.tf){this.gc=a;for(var c=this.tf.t,d=0;d<c.length;d++){var e=c[d];e&&e.hb&&e.l(a)}}},t3:function(){return this.mo},ZV:function(a){if(this.tf){var c=this.qa,d=c.Fa,c=c.pa;this.$p(this.tf,this.Uo,this.hB,a);this.T(d,c)}},o4:function(){return this.fv},jaa:function(a){this.fv=a;this.gw()},q4:function(){return this.hv},
laa:function(a){this.hv=a;this.gw()},p4:function(){return this.gv},kaa:function(a){this.gv=a;this.gw()},n4:function(){return this.ev},iaa:function(a){this.ev=a;this.gw()},T:function(a,c){2===arguments.length?q.C.prototype.T.call(this,a,c):q.C.prototype.T.call(this,a);this.Tk=!0},na:function(a){this.Tk&&(this.nQ(),this.Tk=!1);q.yb.prototype.na.call(this,a)},s:function(){return this.Ow(null,q.cd(),!1,q.cd())},Ow:function(a,c,d,e){3===arguments.length&&(e=d,d=!1);a&&this.$p(a,c,d,e);this.L(0.5,0.5);
return this.Tk=!0},Zi:function(a,c,d){a instanceof q.jg?(d=a=c,c=q.cd()):(c=c||q.cd(),d=d||q.cd());if(!a)throw"cc.Scale9Sprite.initWithFile(): file should be non-null";var e=q.sa.e().Qx(a);if(!e){var e=q.sa.e().Ia(a),f=e.Fg();(this.ob=f)||e.Uf(function(a){var c=this.rg,c=q.size(c.width,c.height);a=a.d();this.$p(this.tf,q.rect(0,0,a.width,a.height),!1,this.mo);this.lk(c);this.Tk=!0;this.Vd()},this)}a=q.tb.create(a,9);return this.Ow(a,c,!1,d)},we:function(a,c){if(!a||!a.aa())throw"cc.Scale9Sprite.initWithSpriteFrame(): spriteFrame should be non-null and its texture should be non-null";
c=c||q.cd();var d=a.ob;(this.ob=d)||a.Uf(function(a){var c=this.rg,c=q.size(c.width,c.height);this.$p(this.tf,a.pe(),q.Ea.Pc?a.hd:!1,this.mo);this.lk(c);this.Tk=!0;this.Vd()},this);d=q.tb.fb(a.aa(),9);return this.Ow(d,a.pe(),q.Ea.Pc?a.hd:!1,c)},FI:function(a,c){if(!a)throw"cc.Scale9Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";c=c||q.cd();var d=q.kg.e().sh(a);return null==d?(q.log("cc.Scale9Sprite.initWithSpriteFrameName(): can't find the sprite frame by spriteFrameName"),
!1):this.we(d,c)},m$:function(a){var c=new q.lf;return c&&c.Ow(this.tf,this.Uo,!1,a)?c:null},Ff:function(a){if(this.tf){this.jc=a;var c=this.tf.t;if(c)for(var d=0,e=c.length;d<e;d++)c[d].Ff(a)}},nl:function(){return this.jc},$p:function(a,c,d,e){var f=this.Wi(),g=this.vd();c=q.rect(c.x,c.y,c.width,c.height);this.rc(!0);this.tf!=a&&(this.tf=a);a=a.aa();var h=a.Fg();if(this.ob=h){a=this.tf;a.rc(!0);h=this.mo;h.x=e.x;h.y=e.y;h.width=e.width;h.height=e.height;this.hB=d;h=a.aa();q.yr(c)&&(c=h.d(),c=q.rect(0,
0,c.width,c.height));var k=this.Uo=c;k.x=c.x;k.y=c.y;k.width=c.width;k.height=c.height;var l=c.ab;this.gd.width=l.width;this.gd.height=l.height;k=this.rg;0===k.width&&0===k.height&&(k.width=l.width,k.height=l.height);k=this.DF;e&&(k.x=e.x,k.y=e.y,k.width=e.width,k.height=e.height);var m=l.width;e=l.height;q.yr(k)&&(k.x=m/3,k.y=e/3,k.width=m/3,k.height=e/3);var n=k.x,r=k.width,p=m-(n+r),t=k.y,w=k.height,A=e-(t+w),D=0,B=0;e=q.rect(D,B,n,t);var D=D+n,k=q.rect(D,B,r,t),m=q.rect(D+r,B,p,t),D=0,B=0+t,l=
q.rect(D,B,n,w),D=D+n,Y=q.rect(D,B,r,w),D=D+r,L=q.rect(D,B,p,w),D=0,B=0+t+w,t=q.rect(D,B,n,A),D=D+n,n=q.rect(D,B,r,A),D=D+r,r=q.rect(D,B,p,A),p={H:1,g:0,Aa:0,Ka:1,Ya:0,Za:0};if(d){d=Y;var A=r,D=t,B=m,w=e,Q=L,R=l,la=n,Z=k,p=q.ay(p,c.height+c.x,c.y),p=q.qL(p),Y=q.Ug(Y,p),r=q.Ug(r,p),t=q.Ug(t,p),m=q.Ug(m,p);e=q.Ug(e,p);L=q.Ug(L,p);l=q.Ug(l,p);n=q.Ug(n,p);k=q.Ug(k,p);d.x=Y.x;d.y=Y.y;A.x=r.x;A.y=r.y;D.x=t.x;D.y=t.y;B.x=m.x;B.y=m.y;w.x=e.x;w.y=e.y;Q.x=L.x;Q.y=L.y;R.x=l.x;R.y=l.y;la.x=n.x;la.y=n.y;Z.x=k.x;
Z.y=k.y;this.uj=new q.w;this.uj.La(h,d,!0);a.f(this.uj,0,q.LE);this.Sh=new q.w;this.Sh.La(h,Z,!0);a.f(this.Sh,1,q.OE);this.wi=new q.w;this.wi.La(h,la,!0);a.f(this.wi,1,q.JE);this.Ii=new q.w;this.Ii.La(h,R,!0);a.f(this.Ii,1,q.ME);this.Oh=new q.w;this.Oh.La(h,Q,!0);a.f(this.Oh,1,q.NE);this.Th=new q.w;this.Th.La(h,w,!0);a.f(this.Th,2,q.PE);this.kh=new q.w;this.kh.La(h,B,!0);a.f(this.kh,2,q.QE);this.xi=new q.w;this.xi.La(h,D,!0);a.f(this.xi,2,q.KE);this.yi=new q.w;this.yi.La(h,A,!0)}else p=q.ay(p,c.x,
c.y),q.si(Y,p),q.si(r,p),q.si(t,p),q.si(m,p),q.si(e,p),q.si(L,p),q.si(l,p),q.si(n,p),q.si(k,p),this.uj=new q.w,this.uj.La(h,Y),a.f(this.uj,0,q.LE),this.Sh=new q.w,this.Sh.La(h,k),a.f(this.Sh,1,q.OE),this.wi=new q.w,this.wi.La(h,n),a.f(this.wi,1,q.JE),this.Ii=new q.w,this.Ii.La(h,l),a.f(this.Ii,1,q.ME),this.Oh=new q.w,this.Oh.La(h,L),a.f(this.Oh,1,q.NE),this.Th=new q.w,this.Th.La(h,e),a.f(this.Th,2,q.PE),this.kh=new q.w,this.kh.La(h,m),a.f(this.kh,2,q.QE),this.xi=new q.w,this.xi.La(h,t),a.f(this.xi,
2,q.KE),this.yi=new q.w,this.yi.La(h,r);a.f(this.yi,2,q.yM);this.T(c.ab);this.f(a);this.HG&&(this.fa(f),255===g.p&&255===g.o&&255===g.g||this.l(g));return this.HG=!0}a.Uf(function(){this.Tk=!0;this.Vd()},this)},Gf:function(a){var c=q.tb.fb(a.aa(),9),d=a.ob;(this.ob=d)||a.Uf(function(a){var c=this.rg,c=q.size(c.width,c.height);this.$p(this.tf,a.pe(),q.Ea.Pc?a.hd:!1,this.mo);this.lk(c);this.Tk=!0;this.Vd()},this);this.$p(c,a.pe(),q.Ea.Pc?a.hd:!1,q.cd());this.ev=this.gv=this.hv=this.fv=0}});
q.lf.create=function(a,c,d){var e;if(2===arguments.length)if("string"==typeof a){if((e=new q.lf)&&e.Zi(a,c))return e}else{if(a instanceof q.jg&&(e=new q.lf)&&e.Zi(a,d))return e}else if(3===arguments.length){if((e=new q.lf)&&e.Zi(a,c,d))return e}else if(1===arguments.length){if((e=new q.lf)&&e.Zi(a))return e}else if(0===arguments.length&&(e=new q.lf)&&e.s())return e;return null};q.lf.yH=function(a,c){var d=new q.lf;return d&&d.we(a,c)?d:null};
q.lf.zH=function(a,c){if(!a)throw"cc.Scale9Sprite.createWithSpriteFrameName(): spriteFrameName should be non-null";var d=new q.lf;return d&&d.FI(a,c)?d:null};q.ju=q.Qc.extend({});q.ju.Sca=function(a){var c=new q.ju;c.s();c.T(0,a);return c};q.ju.J6=function(a){var c=new q.ju;c.s();c.T(a,0);return c};
q.Wt=q.Qc.extend({hb:!0,gc:null,Li:0,ctor:function(){},vd:function(){return this.gc},l:function(a){this.gc=a;if(this.t&&0<this.t.length)for(var c=0;c<this.t.length;c++)this.t[c]&&this.t[c].hb&&this.t[c].l(a)},Wi:function(){return this.Li},fa:function(a){this.Li=a;if(this.t&&0<this.t.length)for(var c=0;c<this.t.length;c++)this.t[c]&&this.t[c].hb&&this.t[c].fa(a)},qT:function(a,c){if(this.s()){var d=q.V.e().Pb;this.Yi(!0);this.L(0.5,0.5);this.T(d);this.n(d.width/2,d.height/2);d=0;if(a){this.f(a,d);
for(var e=0;e<c.length;e++)c[e]&&(d++,this.f(c[e],d))}return!0}return!1},g1:function(){this.GQ(q.BL)},GQ:function(a){var c=-a,d;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&(c+=this.t[d].d().height*this.t[d].za+a);var e=0,f=c/2;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&(e=Math.max(e,this.t[d].d().width),this.t[d].n(0,f-this.t[d].d().height*this.t[d].za/2),f-=this.t[d].d().height*this.t[d].za+a);this.T(e,c)},d1:function(){this.FQ(q.BL)},FQ:function(a){var c=
-a,d;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&(c+=this.t[d].d().width*this.t[d].ra+a);var e=0,f=-c/2;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&(e=Math.max(e,this.t[d].d().height),this.t[d].n(f+this.t[d].d().width*this.t[d].ra/2,0),f+=this.t[d].d().width*this.t[d].ra+a);this.T(c,e)},e1:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=-5,f=0,g=0,h=0,k,l;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&
(f>=c.length?q.log("cc.MenuPassive.alignItemsInColumns(): invalid row index"):(k=c[f])?(l=this.t[d].d().height,g=0|(g>=l||null==l?g:l),++h,h>=k&&(e+=g+5,g=h=0,++f)):q.log("cc.MenuPassive.alignItemsInColumns(): can not have zero columns on a row"));var m=q.V.e().Pb,n=k=g=f=0,r=0,e=e/2;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&(0==k&&(k=c[f],r=n=m.width/(1+k)),l=this.t[d].d().height,g=0|(g>=l||null==l?g:l),this.t[d].n(r-m.width/2,e-this.t[d].d().height/2),r+=n,++h,h>=k&&(e-=
g+5,g=k=h=0,++f))},f1:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=[],f=[],g=-10,h=-5,k=0,l=0,m=0,n,r;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&(k>=c.length?q.log("cc.MenuPassive.alignItemsInRows(): invalid row index"):(n=c[k])?(r=this.t[d].d().width,l=0|(l>=r||null==r?l:r),h+=0|this.t[d].d().height+5,++m,m>=n&&(e.push(l),f.push(h),g+=l+10,l=m=0,h=-5,++k)):q.log("cc.MenuPassive.alignItemsInColumns(): can't have zero rows on a column"));h=
q.V.e().Pb;l=k=0;n=null;var g=-g/2,p=0;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&(null==n&&(n=c[k],p=f[k]),r=this.t[d].d().width,l=0|(l>=r||null==r?l:r),this.t[d].n(g+e[k]/2,p-h.height/2),p-=this.t[d].d().height+10,++m,m>=n&&(g+=l+5,l=n=m=0,++k))},Ff:function(){},nl:function(){return!1}});q.Wt.create=function(a){0==arguments.length&&(a=null);for(var c=[],d=1;d<arguments.length;d++)c.push(arguments[d]);return(d=new q.Wt)&&d.qT(a,c)?d:null};
q.Wt.b2=function(a){return q.Wt.create(a,null)};q.my=q.Rb.extend({VA:0,Hu:0,Dc:null,RO:null,FG:null,jh:null,oc:null,ng:0,tj:0,D5:function(){return this.VA},p3:function(){return this.Hu},$H:function(){return this.Dc},d5:function(){return this.Hu},J5:function(){return this.FG},KS:function(){return this.jh},MS:function(){return this.oc},EC:function(a,c){return q.Rb.prototype.s.call(this)?(this.Tb(!0),this.Dc=q.Sd.Om("colourPickerBackground.png",a,c,q.a(0,0)),this.RO=q.Sd.Om("colourPickerOverlay.png",a,c,q.a(0,0)),this.FG=q.Sd.Om("colourPickerShadow.png",
a,c,q.a(0,0)),this.jh=q.Sd.Om("colourPicker.png",a,c,q.a(0.5,0.5)),this.oc=c,this.ng=35,this.tj=this.Dc.d().width/2,!0):!1},Ef:function(a){q.Rb.prototype.Ef.call(this,a);this.jh&&this.jh.fa(a?255:128)},hL:function(a){var c=new q.uy;c.li=1;c.ue=a.ue;c.ja=1;a=q.Sd.Jy(c);this.Dc.l(q.pw(0|255*a.p,0|255*a.o,0|255*a.g))},JX:function(a){a=q.a(this.oc.x+this.ng+this.tj*(1-a.li),this.oc.y+this.ng+this.tj*a.ja);this.jw(a)},jw:function(a){var c=this.oc.x+0.5*this.Dc.Xa().width,d=this.oc.y+0.5*this.Dc.Xa().height,
e=a.x-c,f=a.y-d,g=Math.sqrt(e*e+f*f),e=Math.atan2(f,e),f=0.5*this.Dc.Xa().width;g>f&&(a.x=c+f*Math.cos(e),a.y=d+f*Math.sin(e));this.jh.n(a);a.x<this.oc.x+this.ng?a.x=this.oc.x+this.ng:a.x>this.oc.x+this.ng+this.tj-1&&(a.x=this.oc.x+this.ng+this.tj-1);a.y<this.oc.y+this.ng?a.y=this.oc.y+this.ng:a.y>this.oc.y+this.ng+this.tj&&(a.y=this.oc.y+this.ng+this.tj);this.VA=1-Math.abs((this.oc.x+this.ng-a.x)/this.tj);this.Hu=Math.abs((this.oc.y+this.ng-a.y)/this.tj)},Eq:function(a){var c=this.oc.x+0.5*this.Dc.Xa().width,
d=this.oc.y+0.5*this.Dc.Xa().height,c=a.x-c,d=a.y-d;return Math.sqrt(c*c+d*d)<=0.5*this.Dc.Xa().width?(this.jw(a),this.cf(q.pi),!0):!1},jb:function(a){if(!this.isEnabled()||!this.va)return!1;a=this.Xi(a);return this.Eq(a)},md:function(a){a=this.Xi(a);this.Eq(a)}});q.my.create=function(a,c){var d=new q.my;d.EC(a,c);return d};q.ly=q.Rb.extend({Co:0,fr:0,Dc:null,jh:null,oc:null,i4:function(){return this.Co},xD:function(a){this.Co=a;this.qW(this.Co/360)},j4:function(){return this.fr},qW:function(a){this.fr=a;this.Co=360*this.fr;a=this.Dc.Xa();var c=0.5*a.width-15,d=q.lj(360*this.fr-180);this.jh.n(this.oc.x+0.5*a.width+c*Math.cos(d),this.oc.y+0.5*a.height+c*Math.sin(d))},Ef:function(a){q.Rb.prototype.Ef.call(this,a);this.jh&&this.jh.fa(a?255:128)},$H:function(){return this.Dc},KS:function(){return this.jh},MS:function(){return this.oc},
EC:function(a,c){return q.Rb.prototype.s.call(this)?(this.Tb(!0),this.Dc=q.Sd.Om("huePickerBackground.png",a,c,q.a(0,0)),this.jh=q.Sd.Om("colourPicker.png",a,c,q.a(0.5,0.5)),this.jh.n(c.x,c.y+0.5*this.Dc.Xa().height),this.oc=c,this.fr=this.Co=0,!0):!1},jw:function(a){var c=this.Dc.Xa();this.xD(q.Hy(Math.atan2(a.y-(this.oc.y+0.5*c.height),a.x-(this.oc.x+0.5*c.width)))+180);this.cf(q.pi)},Eq:function(a){var c=Math.sqrt(Math.pow(a.x+10,2)+Math.pow(a.y,2));return 80>c&&59<c?(this.jw(a),!0):!1},jb:function(a){if(!this.isEnabled()||
!this.va)return!1;a=this.Xi(a);return this.Eq(a)},md:function(a){a=this.Xi(a);this.Eq(a)}});q.ly.create=function(a,c){var d=new q.ly;d.EC(a,c);return d};q.pE=q.Rb.extend({Zg:null,Ek:null,im:null,Dc:null,nT:function(a){this.Zg.ue=a.Co;a=q.Sd.Jy(this.Zg);q.Rb.prototype.l.call(this,q.pw(0|255*a.p,0|255*a.o,0|255*a.g));this.cf(q.pi);this.kQ()},fR:function(a){this.Zg.li=a.VA;this.Zg.ja=a.Hu;a=q.Sd.Jy(this.Zg);q.Rb.prototype.l.call(this,q.pw(0|255*a.p,0|255*a.o,0|255*a.g));this.cf(q.pi)},l:function(a){q.Rb.prototype.l.call(this,a);var c=new q.RGBA;c.p=a.p/255;c.o=a.o/255;c.g=a.g/255;c.H=1;this.Zg=q.Sd.SL(c);this.WG()},$H:function(){return this.Dc},s:function(){if(q.Rb.prototype.s.call(this)){this.Tb(!0);
q.kg.e().nH(aa.dE);var a=q.tb.create(aa.eE);this.f(a);this.Zg=new q.uy(0,0,0);this.Dc=q.Sd.Om("menuColourPanelBackground.png",a,q.nj(),q.a(0.5,0.5));var c=q.wd(this.Dc.q,q.a(this.Dc.d().width/2,this.Dc.d().height/2));this.im=q.ly.create(a,q.a(c.x+8,c.y+8));this.Ek=q.my.create(a,q.a(c.x+28,c.y+28));this.im.oH(this,this.nT,q.pi);this.Ek.oH(this,this.fR,q.pi);this.WG();this.f(this.im);this.f(this.Ek);this.T(this.Dc.d());return!0}return!1},kQ:function(){this.im.xD(this.Zg.ue);this.Ek.hL(this.Zg)},WG:function(){this.im.xD(this.Zg.ue);
this.Ek.hL(this.Zg);this.Ek.JX(this.Zg)},Ef:function(a){q.Rb.prototype.Ef.call(this,a);null!=this.im&&this.im.Ef(a);this.Ek&&this.Ek.Ef(a)},jb:function(){return!1}});q.pE.create=function(){var a=new q.pE;a.s();return a};aa=aa||{};aa.dE=aa.dE||"res/extensions/CCControlColourPickerSpriteSheet.plist";aa.eE=aa.eE||"res/extensions/CCControlColourPickerSpriteSheet.png";q.XE=24;q.o_=8;
q.rE=q.Rb.extend({Tc:0,eb:0,Db:0,xv:0,vv:0,Eb:null,Uk:null,Ud:null,oI:function(){return this.Tc},ef:function(a){a=Math.max(a,this.eb);this.Tc=a=Math.min(a,this.Db);this.Zc();this.cf(q.pi)},tS:function(){return this.eb},kK:function(a){this.xv=this.eb=a;this.eb>=this.Db&&(this.Db=this.eb+1);this.ef(this.Tc)},sS:function(){return this.Db},iK:function(a){this.vv=this.Db=a;this.Db<=this.eb&&(this.eb=this.Db-1);this.ef(this.Tc)},fi:function(a){a=a.K;a=this.getParent().Ba(a);var c=this.Xa();c.ab.width+=
this.Eb.d().width;c.fd.x-=this.Eb.d().width/2;return q.rb(c,a)},$m:function(a){a=a.K;a=this.Ba(a);0>a.x?a.x=0:a.x>this.Ud.d().width&&(a.x=this.Ud.d().width);return a},G4:function(){return this.xv},vaa:function(a){this.xv=a},D4:function(){return this.vv},uaa:function(a){this.vv=a},lI:function(){return this.Eb},n5:function(){return this.Uk},j3:function(){return this.Ud},vT:function(a,c,d){return q.Rb.prototype.s.call(this)?(this.Yi(!1),this.Tb(!0),this.Ud=a,this.Uk=c,this.Eb=d,a=q.Sd.fE(a.Xa(),d.Xa()),
this.T(a.width,a.height),this.Ud.L(0.5,0.5),this.Ud.n(a.width/2,a.height/2),this.f(this.Ud),this.Uk.L(0,0.5),this.Uk.n(0,a.height/2),this.f(this.Uk),this.Eb.n(0,a.height/2),this.f(this.Eb),this.eb=0,this.Db=1,this.ef(this.eb),!0):!1},Ef:function(a){q.Rb.prototype.Ef.call(this,a);this.Eb&&this.Eb.fa(a?255:128)},sX:function(a){this.Tp(!0);this.Eb.l(q.wp());this.ef(this.WD(a))},uX:function(a){this.ef(this.WD(a))},tX:function(){this.So&&this.ef(this.WD(this.Eb.q));this.Eb.l(q.xb());this.Tp(!1)},j6:function(a){a=
a.K;a=this.Ba(a);0>a.x?a.x=0:a.x>this.Ud.d().width+q.XE&&(a.x=this.Ud.d().width+q.XE);return a},jb:function(a){if(!this.fi(a)||!this.isEnabled()||!this.va)return!1;a=this.$m(a);this.sX(a);return!0},md:function(a){a=this.$m(a);this.uX(a)},Cf:function(){this.tX(q.nj())},Zc:function(){this.Eb.ec((this.Tc-this.eb)/(this.Db-this.eb)*this.Ud.d().width);var a=this.Uk.nC(),a=q.rect(a.x,a.y,this.Eb.q.F,a.height);this.Uk.Lb(a,this.Uk.Wc,a.ab)},WD:function(a){a=a.x/this.Ud.d().width;return Math.max(Math.min(this.eb+
a*(this.Db-this.eb),this.vv),this.xv)}});q.rE.create=function(a,c,d){"string"==typeof a&&(a=q.w.create(a),c=q.w.create(c),d=q.w.create(d));var e=new q.rE;e.vT(a,c,d);return e};q.tE=q.Rb.extend({Xc:null,UF:0,sr:!1,Oo:!1,ctor:function(){q.Rb.prototype.ctor.call(this)},BC:function(a,c,d,e,f,g){if(!a)throw"cc.ControlSwitch.initWithMaskSprite(): maskSprite should be non-null.";if(!c)throw"cc.ControlSwitch.initWithMaskSprite(): onSprite should be non-null.";if(!d)throw"cc.ControlSwitch.initWithMaskSprite(): offSprite should be non-null.";if(!e)throw"cc.ControlSwitch.initWithMaskSprite(): thumbSprite should be non-null.";return this.s()?(this.Tb(!0),this.Oo=!0,this.Xc=new q.AL,
this.Xc.BC(a,c,d,e,f,g),this.Xc.n(this.Xc.d().width/2,this.Xc.d().height/2),this.f(this.Xc),this.Yi(!1),this.L(0.5,0.5),this.T(this.Xc.d()),!0):!1},xx:function(a,c){var d=(this.Oo=a)?this.Xc.Qk:this.Xc.mm;c?this.Xc.nx(q.Ln.create(0.2,"sliderXPosition",this.Xc.Oj,d)):this.Xc.zD(d);this.cf(q.pi)},w7:function(){return this.Oo},G6:function(){return this.sr},Ef:function(a){this.Vq=a;this.Xc.fa(a?255:128)},$m:function(a){a=a.K;return a=this.Ba(a)},jb:function(a){if(!this.fi(a)||!this.isEnabled()||!this.va)return!1;
this.sr=!1;this.UF=this.$m(a).x-this.Xc.Oj;this.Xc.Eb.l(q.wp());this.Xc.Zc();return!0},md:function(a){a=this.$m(a);a=q.a(a.x-this.UF,0);this.sr=!0;this.Xc.zD(a.x)},Cf:function(a){a=this.$m(a);this.Xc.Eb.l(q.xb());this.sr?this.xx(!(a.x<this.Xc.d().width/2),!0):this.xx(!this.Oo,!0)},gk:function(a){a=this.$m(a);this.Xc.Eb.l(q.xb());this.sr?this.xx(!(a.x<this.Xc.d().width/2),!0):this.xx(!this.Oo,!0)}});q.tE.create=function(a,c,d,e,f,g){var h=new q.tE;return h&&h.BC(a,c,d,e,f,g)?h:null};
q.AL=q.w.extend({Oj:0,Qk:0,mm:0,LG:0,sA:0,tA:null,dh:null,Ki:null,Eb:null,nm:null,lm:null,so:null,kc:null,Fu:null,ctor:function(){q.w.prototype.ctor.call(this);this.sA=this.mm=this.Qk=this.Oj=0;this.tA=q.size(0,0);this.lm=this.nm=this.Eb=this.Ki=this.dh=null},BC:function(a,c,d,e,f,g){return q.w.prototype.La.call(this,a.aa())?(this.Qk=0,this.mm=-c.d().width+e.d().width/2,this.Oj=this.Qk,this.IW(c),this.GW(d),this.BD(e),this.HW(f),this.FW(g),this.kc=a,a=this.tA=this.kc.d(),this.kc.n(0,0),this.so=q.mb.create(),
this.so.L(0.5,0.5),this.so.n(a.width/2,a.height/2),this.so.AD(this.kc),this.Fu=q.zb.create(a.width,a.height),this.so.f(this.Fu.nb),this.f(this.so),this.f(this.Eb),this.Zc(),!0):!1},Zc:function(){this.dh.n(this.dh.d().width/2+this.Oj,this.dh.d().height/2);this.Ki.n(this.dh.d().width+this.Ki.d().width/2+this.Oj,this.Ki.d().height/2);this.nm&&this.nm.n(this.dh.q.x-this.Eb.d().width/6,this.dh.d().height/2);this.lm&&this.lm.n(this.Ki.q.x+this.Eb.d().width/6,this.Ki.d().height/2);this.Eb.n(this.dh.d().width+
this.Oj,this.tA.height/2);this.Fu.Wj();this.dh.na();this.Ki.na();this.nm&&this.nm.na();this.lm&&this.lm.na();this.Fu.end()},zD:function(a){a<=this.mm?a=this.mm:a>=this.Qk&&(a=this.Qk);this.Oj=a;this.Zc()},M5:function(){return this.Oj},P8:function(){return this.dh.d().width},N8:function(){return this.Ki.d().height},UD:function(a,c){q.log("key \x3d "+c+", value \x3d "+a);this.zD(a)},Eaa:function(a){this.Qk=a},X4:function(){return this.Qk},Baa:function(a){this.mm=a},R4:function(){return this.mm},saa:function(a){this.kc.ka(a)},
x4:function(){return this.kc.aa()},oba:function(a){this.LG=a},Z5:function(){return this.LG},raa:function(a){this.sA=a},w4:function(){return this.sA},IW:function(a){this.dh=a},Y4:function(){return this.dh},GW:function(a){this.Ki=a},S4:function(){return this.Ki},BD:function(a){this.Eb=a},lI:function(){return this.Eb},HW:function(a){this.nm=a},W4:function(){return this.nm},FW:function(a){this.lm=a},Q4:function(){return this.lm}});q.mE=0;q.nE=1;q.rt=2;q.cq=q.k(55,55,55);q.hy=q.k(147,147,147);q.lE="CourierNewPSMT";q.bE=0.15;q.oL=12;
q.sE=q.Rb.extend({Hd:null,qf:null,Pk:null,Sk:null,Tc:0,Hq:!1,co:!1,Km:!1,eb:0,Db:0,zm:0,Vr:!1,Fm:q.rt,Aq:0,ctor:function(){q.Rb.prototype.ctor.call(this);this.Sk=this.Pk=this.qf=this.Hd=null;this.Tc=0;this.Km=this.co=this.Hq=!1;this.zm=this.Db=this.eb=0;this.Vr=!1;this.Fm=q.rt;this.Aq=0},sT:function(a,c){if(!a)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Minus sprite should be non-null.";if(!c)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Plus sprite should be non-null.";
if(this.s()){this.Tb(!0);this.Hq=this.co=!0;this.eb=0;this.Db=100;this.Tc=0;this.zm=1;this.Km=!1;this.Yi(!1);this.AW(a);this.Hd.n(a.d().width/2,a.d().height/2);this.f(this.Hd);this.zW(q.R.create("-",q.lE,40,q.size(40,40),q.qj,q.vu));this.Pk.l(q.hy);this.Pk.n(this.Hd.d().width/2,this.Hd.d().height/2);this.Hd.f(this.Pk);this.MW(c);this.qf.n(a.d().width+c.d().width/2,a.d().height/2);this.f(this.qf);this.LW(q.R.create("+",q.lE,40,q.size(40,40),q.qj,q.vu));this.Sk.l(q.cq);this.Sk.n(this.qf.d().width/2,
this.qf.d().height/2);this.qf.f(this.Sk);var d=q.Sd.fE(this.Hd.Xa(),this.qf.Xa());this.T(this.Hd.d().width+this.qf.d().height,d.ab.height);return!0}return!1},Dba:function(a){if(this.Km=a)this.Pk.l(q.cq),this.Sk.l(q.cq);this.ef(this.Tc)},kK:function(a){if(a>=this.Db)throw"cc.ControlStepper.setMinimumValue(): minimumValue should be numerically less than maximumValue.";this.eb=a;this.ef(this.Tc)},iK:function(a){if(a<=this.eb)throw"cc.ControlStepper.setMaximumValue(): maximumValue should be numerically less than maximumValue.";
this.Db=a;this.ef(this.Tc)},ef:function(a){this.FD(a,!0)},oI:function(){return this.Tc},iba:function(a){if(0>=a)throw"cc.ControlStepper.setMaximumValue(): stepValue should be numerically greater than 0.";this.zm=a},i7:function(){return this.Hq},FD:function(a,c){a<this.eb?a=this.Km?this.Db:this.eb:a>this.Db&&(a=this.Km?this.eb:this.Db);this.Tc=a;this.Km||(this.Pk.l(a==this.eb?q.hy:q.cq),this.Sk.l(a==this.Db?q.hy:q.cq));c&&this.cf(q.pi)},MK:function(){this.Aq=-1;this.sc(this.update,q.bE,q.Sl,3*q.bE)},
OK:function(){this.Ad(this.update)},update:function(){this.Aq++;this.Aq<q.oL&&0!=this.Aq%3||(this.Fm==q.mE?this.FD(this.Tc-this.zm,this.Hq):this.Fm==q.nE&&this.FD(this.Tc+this.zm,this.Hq))},$K:function(a){a.x<this.Hd.d().width&&this.Tc>this.eb?(this.Fm=q.mE,this.Hd.l(q.wp()),this.qf.l(q.xb())):a.x>=this.Hd.d().width&&this.Tc<this.Db?(this.Fm=q.nE,this.Hd.l(q.xb()),this.qf.l(q.wp())):(this.Fm=q.rt,this.Hd.l(q.xb()),this.qf.l(q.xb()))},jb:function(a){if(!this.fi(a)||!this.isEnabled()||!this.va)return!1;
a=this.Xi(a);this.$K(a);this.Vr=!0;this.co&&this.MK();return!0},md:function(a){this.fi(a)?(a=this.Xi(a),this.$K(a),this.Vr||(this.Vr=!0,this.co&&this.MK())):(this.Vr=!1,this.Fm=q.rt,this.Hd.l(q.xb()),this.qf.l(q.xb()),this.co&&this.OK())},Cf:function(a){this.Hd.l(q.xb());this.qf.l(q.xb());this.co&&this.OK();this.fi(a)&&(a=this.Xi(a),this.ef(this.Tc+(a.x<this.Hd.d().width?0-this.zm:this.zm)))},AW:function(a){this.Hd=a},I4:function(){return this.Hd},MW:function(a){this.qf=a},i5:function(){return this.qf},
zW:function(a){this.Pk=a},H4:function(){return this.Pk},LW:function(a){this.Sk=a},h5:function(){return this.Sk}});q.sE.create=function(a,c){var d=new q.sE;return d&&d.sT(a,c)?d:null};q.qE=q.Rb.extend({Eb:null,Qo:null,Po:null,Tc:0,eb:0,Db:1,yT:function(a,c,d){return this.s()?(this.Tb(!0),this.QW(c),this.BD(d),this.Eb.n(c.q),this.f(d,2),this.f(c,1),this.f(a),this.T(a.d()),this.eb=0,this.Db=1,this.ef(this.eb),!0):!1},Ef:function(a){this.Ef(a);this.Eb!=NULL&&this.Eb.fa(a?255:128)},ef:function(a){a<this.eb&&(a=this.eb);a>this.Db&&(a=this.Db);this.Tc=a;a=(a-this.eb)/(this.Db-this.eb);this.Qo.Ws(100*a);this.Eb.Ax(360*a);this.cf(q.pi)},oI:function(){return this.Tc},kK:function(a){this.eb=
a;this.eb>=this.Db&&(this.Db=this.eb+1);this.ef(this.Db)},tS:function(){return this.eb},iK:function(a){this.Db=a;this.Db<=this.eb&&(this.eb=this.Db-1);this.ef(this.eb)},sS:function(){return this.Db},fi:function(a){a=this.Xi(a);return this.KR(this.Qo.q,a)<Math.min(this.d().width/2,this.d().height/2)},jb:function(a){if(!this.fi(a)||!this.isEnabled()||!this.va)return!1;this.Po=this.Xi(a);this.JU(this.Po);return!0},md:function(a){a=this.Xi(a);this.LU(a)},Cf:function(){this.KU(q.a(0,0))},KR:function(a,
c){var d=a.x-c.x,e=a.y-c.y;return Math.sqrt(d*d+e*e)},IQ:function(a,c,d,e){return 180*(Math.atan2(c.x-a.x,c.y-a.y)-Math.atan2(e.x-d.x,e.y-d.y))/Math.PI},JU:function(){this.Tp(!0);this.Eb.l(q.wp())},LU:function(a){var c=this.IQ(this.Qo.q,a,this.Qo.q,this.Po);180<c?c-=360:-180>c&&(c+=360);this.ef(this.Tc+c/360*(this.Db-this.eb));this.Po=a},KU:function(){this.Eb.l(q.xb());this.Tp(!1)},BD:function(a){this.Eb=a},lI:function(){return this.Eb},QW:function(a){this.Qo=a},o5:function(){return this.Qo},Paa:function(a){this.Po=
a},AS:function(){return this.Po}});q.qE.create=function(a,c,d){var e=new q.qE;return e&&(a=q.w.create(a),d=q.w.create(d),c=q.Bc.create(q.w.create(c)),e.yT(a,c,d))?e:null};q.VE=-1;q.Un=0;q.jq=1;q.fu=2;q.mR=function(a){var c=q.oa.e();return(c.ra+c.za)/2*a/160};q.KM=q.Ca.extend({LV:function(){},MV:function(){}});
q.Eh=q.Qc.extend({N0:0,x0:0,v0:0,Ub:null,Di:q.fu,Fi:!1,UN:null,Qa:null,lh:!1,tv:null,wv:null,Cq:!1,Fq:!1,Ar:null,dp:null,Wr:0,mh:null,Wh:null,iG:0,gG:0,ur:null,WA:!1,MG:null,ctor:function(){q.Qc.prototype.ctor.call(this);this.UN=new q.Tg(0,0);this.tv=new q.Tg(0,0);this.wv=new q.Tg(0,0);this.Ar=new q.Tg(0,0);this.dp=new q.Tg(0,0);this.mh=[];this.Wh=new q.wk(0,0);this.ur=new q.jg(0,0,0,0);this.MG=new q.jg(0,0,0,0)},s:function(){return this.Bp(q.size(200,200),null)},kx:function(){q.eD(this.al,!1,this)},
Bp:function(a,c){var d=q.a(0,0);return q.Qc.prototype.s.call(this)?(this.Qa=c,this.Qa||(this.Qa=q.Qc.create(),this.Qa.Yi(!1),this.Qa.L(d)),this.yK(a),this.Tb(!0),this.mh.length=0,this.Ub=null,this.Fq=this.Cq=!0,this.Di=q.fu,this.Qa.n(d),this.Wr=0,this.f(this.Qa),this.iG=this.gG=1,!0):!1},zl:function(a,c){if(c)this.cW(a,0.15);else{if(!this.Cq){var d=this.an(),e=this.Js();a.x=Math.max(d.x,Math.min(e.x,a.x));a.y=Math.max(d.y,Math.min(e.y,a.y))}this.Qa.n(a)}},bI:function(){var a=this.Qa.q;return q.a(a.x,
a.y)},cW:function(a,c){var d=q.Xt.create(c,a),e=q.dq.create(this.ZP,this);this.Qa.nx(q.oj.create(d,e));this.sc(this.AA)},DK:function(a,c){if(c)this.gX(a,0.15);else{var d=this.Qa;if(d.jC()!=a){var e,f;0==this.Wr?(f=this.Wh,f=q.a(0.5*f.width,0.5*f.height),f=this.el(f)):f=this.dp;e=d.Ba(f);d.mk(Math.max(this.iG,Math.min(this.gG,a)));e=d.el(e);f=q.wd(f,e);this.zl(q.bg(d.q,f))}}},qI:function(){return this.Qa.jC()},gX:function(a,c){if(0<c){var d=this.Qa.jC();d!=a&&(d=q.Ln.create(c,"zoomScale",d,a),this.nx(d))}else this.DK(a)},
an:function(){var a=this.Qa,c=a.d(),d=this.Wh;return q.a(d.width-c.width*a.ra,d.height-c.height*a.za)},Js:function(){return q.a(0,0)},v7:function(a){var c=this.bI(),d=this.Wh,e=this.qI(),c=q.rect(-c.x/e,-c.y/e,d.width/e,d.height/e);return q.XU(c,a.Xa())},pause:function(){this.Qa.cx();for(var a=this.Qa.t,c=0;c<a.length;c++)a[c].cx()},JJ:function(){for(var a=this.Qa.t,c=0,d=a.length;c<d;c++)a[c].mx();this.Qa.mx()},l7:function(){return this.Fi},N7:function(){return this.lh},e7:function(){return this.Cq},
XV:function(a){this.Cq=a},v6:function(){return this.Wh},yK:function(a){this.Wh=a;q.C.prototype.T.call(this,a)},D3:function(){return this.Qa},aW:function(a){a&&(this.rc(!0),this.Qa=a,a.Yi(!1),a.L(0,0),this.f(a),this.yK(this.Wh))},R3:function(){return this.Di},YJ:function(a){this.Di=a},dc:function(){return this.Ub},yh:function(a){this.Ub=a},jb:function(a){if(!this.va)return!1;var c=this.hA(),d=this.Qa,e=d.el(d.Yh(a)),f=this.mh;if(2<f.length||this.lh||!q.rb(c,e))return!1;f.push(a);1===f.length?(this.dp=
this.Yh(a),this.lh=!1,this.Fi=!0,this.Ar.x=0,this.Wr=this.Ar.y=0):2==f.length&&(this.dp=q.WC(this.Yh(f[0]),this.Yh(f[1])),this.Wr=q.TC(d.Yh(f[0]),d.Yh(f[1])),this.Fi=!1);return!0},md:function(a){if(this.va)if(1===this.mh.length&&this.Fi){this.lh=!0;var c=this.hA(),d=this.Yh(a);a=q.wd(d,this.dp);var e=0,f=this.Di,e=f===q.jq?a.y:f===q.Un?a.x:Math.sqrt(a.x*a.x+a.y*a.y);if(this.lh||!(0.04375>Math.abs(q.mR(e))))if(this.lh||(a.x=0,a.y=0),this.dp=d,this.lh=!0,q.rb(c,this.el(d))){switch(f){case q.jq:a.x=
0;break;case q.Un:a.y=0}d=this.Qa.q;c=d.x+a.x;d=d.y+a.y;this.Ar=a;this.zl(q.a(c,d))}}else 2!==this.mh.length||this.Fi||(a=q.TC(this.Qa.Yh(this.mh[0]),this.Qa.Yh(this.mh[1])),this.DK(this.qI()*a/this.Wr))},Cf:function(){this.va&&(1==this.mh.length&&this.lh&&this.sc(this.Hz),this.mh.length=0,this.lh=this.Fi=!1)},gk:function(){this.va&&(this.mh.length=0,this.lh=this.Fi=!1)},T:function(a,c){null!=this.Qa&&(2===arguments.length?this.Qa.T(a,c):this.Qa.T(a),this.KX())},d:function(){return this.Qa.d()},KX:function(){if(null!=
this.Qa){var a=this.Wh,c=this.Js();this.tv.x=c.x+0.2*a.width;this.tv.y=c.y+0.2*a.height;c=this.an();this.wv.x=c.x-0.2*a.width;this.wv.y=c.y-0.2*a.height}},g7:function(){return this.Fq},L$:function(a){this.Fq=a},na:function(a){if(this.va){a=a||q.U;var c,d=this.t,e,f;if(q.yd===q.gg){a.save();this.transform(a);this.xF(a);if(d&&0<d.length){f=d.length;this.Nd();for(c=0;c<f;c++)if((e=d[c])&&0>e.cb)e.na(a);else break;for(this.Va(a);c<f;c++)d[c].na(a)}else this.Va(a);this.vF();a.restore()}else{q.Fp();var g=
this.Jk;g&&g.Cp()&&(g.NB(),this.Ux());this.transform(a);this.xF(a);if(d&&0<d.length){f=d.length;for(c=0;c<f;c++)if((e=d[c])&&0>e.cb)e.na();else break;for(this.Va(a);c<f;c++)d[c].na()}else this.Va(a);this.vF(a);g&&g.Cp()&&g.JB(this);q.Ep()}}},f:function(a,c,d){if(!a)throw Error("child must not nil!");c=c||a.cb;d=d||a.kd;a.Yi(!1);a.L(0,0);this.Qa!=a?this.Qa.f(a,c,d):q.Qc.prototype.f.call(this,a,c,d)},Tb:function(a){this._super(a);a||(this.lh=this.Fi=!1,this.mh.length=0)},r0:function(){return null},
aP:function(a){var c=this.an(),d=this.Js(),e=this.Di,f=this.Qa.q,g=f.x,h=f.y;if(e===q.fu||e===q.Un)g=Math.max(g,c.x),g=Math.min(g,d.x);if(e==q.fu||e==q.jq)h=Math.min(h,d.y),h=Math.max(h,c.y);h==f.y&&g==f.x||this.zl(q.a(g,h),a)},Hz:function(){if(this.Fi)this.Ad(this.Hz);else{var a,c;a=this.Qa.q;var d=this.Ar;this.Qa.n(a.x+d.x,a.y+d.y);this.Cq?(a=this.tv,c=this.wv):(a=this.Js(),c=this.an());var e=this.Qa.q.F,f=this.Qa.q.J;d.x*=0.95;d.y*=0.95;this.zl(q.a(e,f));if(1>=Math.abs(d.x)&&1>=Math.abs(d.y)||
f>a.y||f<c.y||e>a.x||e<c.x||e==a.x||e==c.x||f==a.y||f==c.y)this.Ad(this.Hz),this.aP(!0)}},AA:function(){this.Fi&&this.Ad(this.AA)},ZP:function(){this.Ad(this.AA)},xF:function(a){if(this.Fq){this.WA=!1;var c=this.hA(),d=q.oa.e(),e=this.ra,f=this.za;a=a||q.U;if(q.yd===q.gg)c=this.Wh.width*e*d.ra,d=this.Wh.height*f*d.za,a.beginPath(),a.rect(0,0,c,-d),a.clip(),a.closePath();else if(d=q.oa.e(),d.JT()){if(this.WA=!0,this.ur=d.HS(),q.WU(c,this.ur)){var g=this.ur;a=Math.max(c.x,g.x);f=Math.max(c.y,g.y);e=
Math.min(c.x+c.width,g.x+g.width);c=Math.min(c.y+c.height,g.y+g.height);d.yD(a,f,e-a,c-f)}}else a.enable(a.SCISSOR_TEST),d.yD(c.x,c.y,c.width,c.height)}},vF:function(a){this.Fq&&q.yd===q.xk&&(this.WA?(a=this.ur,q.oa.e().yD(a.x,a.y,a.width,a.height)):(a=a||q.U,a.disable(a.SCISSOR_TEST)))},p0:function(){},hA:function(){for(var a=this.el(q.nj()),c=this.Wh,d=this.ra,e=this.za,f=this.X;null!=f;f=f.getParent())d*=f.ra,e*=f.za;0>d&&(a.x+=c.width*d,d=-d);0>e&&(a.y+=c.height*e,e=-e);f=this.MG;f.x=a.x;f.y=
a.y;f.width=c.width*d;f.height=c.height*e;return f}});q.Eh.create=function(a,c){var d=new q.Eh;if(2==arguments.length){if(d&&d.Bp(a,c))return d}else if(d&&d.s())return d;return null};q.LM=q.Ca.extend({wx:function(){},ci:function(){return 0}});q.MM=q.LM.extend({vA:0,ctor:function(){this.vA=0},wx:function(a){this.vA=a},ci:function(){return this.vA}});function ja(a,c){return a.ci()-c.ci()}
q.dy=q.Ca.extend({hh:null,ctor:function(){this.hh=[]},II:function(a){if(!a)throw"cc.ArrayForObjectSorting.insertSortedObject(): addObject should be non-null.";this.BT(a,this.Ap(a))},tV:function(a){if(0!=this.count()){var c=this.Ap(a);c<this.count()&&c!=q.ri&&this.dn(c).ci()==a.ci()&&this.iD(c)}},Aaa:function(a,c){var d=this.Ap(c);if(d<this.count()&&d!=q.ri){var e=this.dn(d);e.ci()==c.ci()&&(this.iD(d),e.wx(a),this.II(e))}},eJ:function(a){if(0==this.count())return null;var c=new q.MM;c.wx(a);var d=
this.Ap(c);d<this.count()&&d!=q.ri&&(c=this.dn(d),c.ci()!=a&&(c=null));return c},P4:function(){return null},Ap:function(a){var c=0;if(a){var d=0;a=a.ci();for(var e=this.hh,f=0;f<e.length;f++){var g=e[f].ci();if(a==g||a>=d&&a<g)break;d=g;c++}}else c=q.ri;return c},count:function(){return this.hh.length},f8:function(){var a=this.hh;return 0==a.length?null:a[a.length-1]},dn:function(a){return this.hh[a]},mH:function(a){this.hh.push(a);this.hh.sort(ja)},iD:function(a){q.bq(this.hh,a);this.hh.sort(ja)},
BT:function(a,c){this.hh=q.Ml(this.hh,a,c);this.hh.sort(ja)}});q.ZE=0;q.OM=1;q.x_=q.C.extend({Gj:0,m4:function(){return this.Gj},sW:function(a){this.Gj=a},reset:function(){this.Gj=q.ri},wx:function(a){this.Gj=a},ci:function(){return this.Gj}});q.z_=q.KM.extend({mca:function(){},lca:function(){},nca:function(){},oca:function(){}});q.y_=q.Ca.extend({BX:function(a){return this.TQ(a)},TQ:function(){return q.HM},kca:function(){return null},K8:function(){return 0}});
q.hF=q.Eh.extend({fp:null,rd:null,no:null,Gz:null,pB:null,Av:null,Ju:null,Rj:null,ctor:function(){q.Eh.prototype.ctor.call(this);this.Av=q.VE;this.Ju=[]},gN:function(a){var c=0,d=-1;switch(this.Di){case q.Un:a=a.x;break;default:a=a.y}for(var e=this.Ju;d>=c;){var f=0|c+(d-c)/2,g=e[f],h=e[f+1];if(a>=g&&a<=h)return f;a<g?d=f-1:c=f+1}return 0>=c?0:-1},mO:function(a){a={x:a.x,y:a.y};this.fp===q.ZE&&(a.y=this.Qa.d().height-a.y);a=this.gN(a);-1!=a&&(a=Math.max(0,a),-1<a&&(a=q.ri));return a},jN:function(a){switch(this.Di){case q.Un:a=
q.a(this.Ju[a],0);break;default:a=q.a(0,this.Ju[a])}return a},QO:function(a){var c=this.jN(a);a=this.Gz.BX(this,a);this.fp===q.ZE&&(c.y=this.Qa.d().height-c.y-a.height);return c},K0:function(){},tB:function(){var a=q.Tl();this.T(a);this.Av!=this.Di&&(this.Di==q.Un?this.zl(q.a(0,0)):this.zl(q.a(0,this.an().y)),this.Av=this.Di)},jG:function(a){this.no.mH(a);this.Dk.tV(a);q.Pd(this.rd,a.Gj);a.reset();a.getParent()==this.Qa&&this.Qa.removeChild(a,!0)},Lv:function(a,c){c.L(0,0);c.n(this.QO(a));c.sW(a)},
tF:function(a){a.getParent()!=this.Qa&&this.Qa.f(a);this.Dk.II(a);var c=this.rd;a=a.Gj;-1==c.indexOf(a)&&(c.push(a),c.sort(function(a,c){return a-c}))},J3:function(){return this.Gz},gW:function(a){this.Gz=a},dc:function(){return this.pB},yh:function(a){this.pB=a},Aba:function(a){this.fp!=a&&(this.fp=a,0<this.Dk.count()&&this.hD())},s6:function(){return this.fp},Bp:function(a,c){return q.Eh.prototype.Bp.call(this,a,c)?(this.Dk=new q.dy,this.no=new q.dy,this.rd=[],this.pB=null,this.fp=q.OM,this.YJ(q.jq),
q.Eh.prototype.yh.call(this,this),!0):!1},Hca:function(a){if(!(a==q.ri||-1<a)){var c=this.QB(a);c&&this.jG(c);c=null;this.Lv(a,c);this.tF(c)}},U6:function(a){if(!(a==q.ri||-1<a)){var c,d=this.Dk;if(c=d.eJ(a))for(var e=c=d.Ap(c);e<d.count();e++)c=d.dn(e),this.Lv(c.Gj+1,c);c=null;this.Lv(a,c);this.tF(c);this.tB()}},X9:function(a){if(!(a==q.ri||-1<a)){var c=this.QB(a);if(c){var d=this.Dk,e=d.Ap(c);this.jG(c);q.Pd(this.rd,a);for(a=d.count()-1;a>e;a--)c=d.dn(a),this.Lv(c.Gj-1,c)}}},hD:function(){this.Av=
q.VE;for(var a=this.Dk,c=this.no,d=this.Qa,e=0,f=a.count();e<f;e++){var g=a.dn(e);c.mH(g);g.reset();g.getParent()==d&&d.removeChild(g,!0)}this.rd=[];this.Dk=new q.dy;this.tB()},i2:function(){if(0===this.no.count())return null;var a=this.no.dn(0);this.no.iD(0);return a},QB:function(a){return-1==this.rd.indexOf(a)?null:this.Dk.eJ(a)},LV:function(){},MV:function(){},Cf:function(a,c){if(this.va){if(this.Rj){var d=this.Xa();d.fd=this.X.el(d.origin);this.Rj=null}q.Eh.prototype.Cf.call(this,a,c)}},jb:function(a,
c){if(!this.va)return!1;var d=q.Eh.prototype.jb.call(this,a,c);if(1===this.mh.length){var e;e=this.Qa.Yh(a);e=this.mO(e);this.Rj=e===q.ri?null:this.QB(e)}else this.Rj&&(this.Rj=null);return d},md:function(a,c){q.Eh.prototype.md.call(this,a,c);this.Rj&&this.lh&&(this.Rj=null)},gk:function(a,c){q.Eh.prototype.gk.call(this,a,c);this.Rj&&(this.Rj=null)}});q.hF.create=function(a,c,d){var e=new q.hF;e.Bp(c,d);e.gW(a);e.tB();return e};q.fc={};q.fc.jH=function(a){for(var c in q.fc.NC)a[c]=q.fc.NC[c]};
q.fc.NC={n:function(a,c){2==arguments.length?(this.q.F=a,this.q.J=c):(this.q.F=a.x,this.q.J=a.y);this.Wa();this.ia.QD(this.q.F,-this.q.J)},nd:function(a){this.q.J=a;this.Wa();this.ia.QD(this.q.F,-this.q.J)},ec:function(a){this.q.F=a;this.Wa();this.ia.QD(this.q.F,-this.q.J)},mk:function(a,c){this.ra=a;this.za=c||a;this.Wa();this.ia.resize(this.ra,this.za)},Sp:function(a){this.ra=a;this.Wa();this.ia.resize(this.ra,this.za)},xn:function(a){this.za=a;this.Wa();this.ia.resize(this.ra,this.za)},L:function(a,
c){var d=this.Gh;if(2===arguments.length){if(a===d.F&&c===d.J)return;d.F=a;d.J=c}else{if(a.x===d.F&&a.y===d.J)return;d.F=a.x;d.J=a.y}var e=this.Fd,f=this.qa;e.F=f.Fa*d.F;e.J=f.pa*d.J;this.ia.style[q.Mb.Np+"TransformOrigin"]=""+e.F+"px "+-e.J+"px";this.Mk?(this.ia.style.marginLeft=0,this.ia.style.marginBottom=0):(this.ia.style.marginLeft=this.L7?0:-e.F+"px",this.ia.style.marginBottom=-e.J+"px");this.Wa()},T:function(a,c){var d=this.qa;if(2===arguments.length){if(a===d.Fa&&c===d.pa)return;d.Fa=a;d.pa=
c}else{if(a.width===d.Fa&&a.height===d.pa)return;d.Fa=a.width;d.pa=a.height}var e=this.Fd,f=this.Gh;e.F=d.Fa*f.F;e.J=d.pa*f.J;this.ia.width=d.Fa;this.ia.height=d.pa;this.L(this.Gh);this.canvas&&(this.canvas.width=d.Fa,this.canvas.height=d.pa);this.Wa();this.YU()},Ax:function(a){this.pP!=a&&(this.vg=this.Ph=a,this.sm=Math.PI/180*this.vg,this.zr=Math.PI/180*this.Ph,this.Wa(),this.ia.rotate(a))},Ex:function(a){this.de=a;this.Wa();this.ia.sK(this.de,this.ee)},Fx:function(a){this.ee=a;this.Wa();this.ia.sK(this.de,
this.ee)},D:function(a){this.va=a;this.Wa();this.ia&&(this.ia.style.display=a?"block":"none")},Ov:function(a){this.cb=a;this.Wa();this.ia&&(this.ia.zIndex=a)},Vs:function(a){this.X=a;null!==a&&(a.L(a.Gh),this.Wa(),q.fc.bx(this))},mx:function(){this.yf().rn(this);this.Bg().rn(this);this.ia&&!this.ia.parentNode&&(this.getParent()?q.fc.bx(this):this.ia.Pm(q.Yj));this.ia&&(this.ia.style.visibility="visible")},cx:function(){this.yf().Os(this);this.Bg().Os(this);this.ia&&(this.ia.style.visibility="hidden")},
Wf:function(){this.LD();this.et();this.mg(this.t,q.C.Jf.Wf);this.ia&&this.ia.remove()},pV:function(){this.ia.remove()},fa:function(a){this.Li=a;this.ia.style.opacity=a/255},YU:function(){if(this.Vw){var a=this.t;this.t=[];q.w.prototype.na.call(this,this.mp);this.t=a}else q.w.prototype.na.call(this,this.mp)}};
q.fc.lP=function(){var a=q.Mb("#EGLViewDiv");if(a){var c=q.oa.e(),d=c.rp(),e=c.Ue,f=c.Fw(),g=d.width,h=d.height;0===d.width&&0===d.height&&(g=f.width,h=f.height);d=e.ab.width;0===e.ab.width&&0===e.ab.height&&(d=f.width);a.style.position="absolute";a.style.width=g+"px";a.style.maxHeight=h+"px";a.style.margin=0;a.resize(c.ra,c.za);a.style.left=(d-g)/2+"px";a.style.bottom="0px"}};
q.fc.bx=function(a){var c=a.getParent();if(c&&a.ia)if(c.ia||(q.fc.EU(c),c.Vs=q.fc.NC.Vs),a.ia.Pm(c.ia),c.L(c.Gh),c.getParent())q.fc.bx(c);else if(c.Ne)if(a=q.Mb("#EGLViewDiv"))c.ia.Pm(a);else{a=q.qk("div");a.id="EGLViewDiv";var d=q.oa.e(),e=d.rp(),f=d.Ue,g=d.Fw(),h=e.width,k=e.height;0===e.width&&0===e.height&&(h=g.width,k=g.height);e=f.ab.width;0===f.ab.width&&0===f.ab.height&&(e=g.width);a.style.position="absolute";a.style.width=h+"px";a.style.maxHeight=k+"px";a.style.margin=0;a.resize(d.ra,d.za);
a.style.left=(e-h)/2+"px";a.style.bottom="0px";c.ia.Pm(a);a.Pm(q.Yj)}};q.fc.setTransform=function(a){if(a.mp)if(a.mp.translate(a.Fd.x,a.Fd.y),a.Vw){var c=a.t;a.t=[];q.w.prototype.na.call(a,a.mp);a.t=c}else q.w.prototype.na.call(a,a.mp);a.ia&&(a.ia.position.x=a.q.x,a.ia.position.y=-a.q.y,a.ia.rotation=a.ES(),a.ia.scale={x:a.ra,y:a.za},a.ia.Dl={x:a.de,y:a.ee},a.L&&a.L(a.Gh),a.ia.Fn())};
q.fc.aS=function(a){a.ia=q.qk("div");a.canvas=q.qk("canvas");var c=a.d();a.canvas.width=c.width;a.canvas.height=c.height;a.ia.style.position="absolute";a.ia.style.bottom=0;a.mp=a.canvas.getContext("2d");a.ia.appendChild(a.canvas);a.getParent()&&q.fc.bx(a);a.Vw=!0};
q.fc.EU=function(a){a.ia=q.qk("div");a.placeholder=!0;a.ia.style.position="absolute";a.ia.style.bottom=0;a.ia.style.width=(a.d().width||q.V.e().Pb.width)+"px";a.ia.style.maxHeight=(a.d().height||q.V.e().Pb.height)+"px";a.ia.style.margin=0;q.fc.setTransform(a);a.ia.Fn();q.fc.jH(a)};
q.fc.UB=function(a){if(1<arguments.length)q.fc.UB(arguments);else if(1!=arguments.length||arguments[0].length)for(var c=arguments[0],d=0;d<c.length;d++)c[d]instanceof q.w?c[d].ia||q.fc.aS(c[d]):q.log("DOM converter only supports sprite and menuitems yet"),q.fc.jH(c[d]),c[d].na=function(){},c[d].transform=function(){},q.fc.setTransform(c[d]),c[d].D(c[d].va);else q.fc.UB([arguments[0]])};q.YL=0;q.lZ=1;q.oZ=2;q.nZ=3;q.mZ=4;q.NL=0;q.QY=1;q.RY=2;q.SY=3;q.UY=4;q.PY=5;q.TY=6;q.LL=0;q.ML=1;q.OY=2;q.NY=3;q.MY=4;q.XY=q.Ca.extend({zw:function(){},Aw:function(){},Bw:function(){},w2:function(){}});
q.hq=q.Pl.extend({Ei:null,Ub:null,bO:q.NL,aO:q.ML,DO:q.YL,G0:"",Ni:"",Xv:null,vr:null,eG:50,tN:18,$a:null,Sq:14,Tz:"Arial",Uz:!1,BA:"",Dv:14,H0:!1,ctor:function(a,c){q.Pl.prototype.ctor.call(this);this.Uz=!1;this.Xv=q.xb();this.vr=q.wp();this.T(a);this.Ei=new q.w;this.Ei.Va=function(){};this.f(this.Ei);var d=this;c?(this.$a=document.createElement("textarea"),this.$a.style.resize="none",this.Uz=!0):this.$a=document.createElement("input");this.$a.type="text";this.$a.style.fontSize=this.Sq+"px";this.$a.style.color=
"#000000";this.$a.style.border=0;this.$a.style.background="transparent";this.$a.style.width="100%";this.$a.style.height="100%";this.$a.style.O0=0;this.$a.style.outline="medium";this.$a.addEventListener("input",function(){d.Ub&&d.Ub.Bw&&d.Ub.Bw(d,this.value)});this.$a.addEventListener("keyup",function(a){a.keyCode===q.XL.WR&&!1==d.Uz&&(a.stopPropagation(),a.preventDefault(),q.canvas.focus())});this.$a.addEventListener("focus",function(){this.value==d.Ni&&(this.value="",this.style.fontSize=d.Sq+"px",
this.style.color=q.dl(d.Xv));d.Ub&&d.Ub.zw&&d.Ub.zw(d)});this.$a.addEventListener("blur",function(){""==this.value&&(this.value=d.Ni,this.style.fontSize=d.Dv+"px",this.style.color=q.dl(d.vr));d.Ub&&d.Ub.Aw&&d.Ub.Aw(d)});q.fc.UB(this.Ei);this.Ei.ia.appendChild(this.$a);this.Ei.ia.Iba=!1;this.Ei.ia.style.width=a.width-6+"px";this.Ei.ia.style.height=a.height-6+"px";this.Ei.canvas.remove()},Z$:function(a,c){this.Sq=c;this.Tz=a;this.ZA()},Bba:function(){},pW:function(a){this.Tz=a;this.ZA()},cK:function(a){this.Sq=
a;this.ZA()},ZA:function(){this.$a.value!=this.Ni&&(this.$a.style.fontFamily=this.Tz,this.$a.style.fontSize=this.Sq+"px")},zh:function(a){null!=a&&(""==a?(this.$a.value=this.Ni,this.$a.style.color=q.dl(this.vr)):(this.$a.value=a,this.$a.style.color=q.dl(this.Xv)))},oW:function(a){this.Xv=a;this.$a.value!=this.Ni&&(this.$a.style.color=q.dl(a))},taa:function(a){!isNaN(a)&&0<a&&(this.eG=a,this.$a.maxLength=a)},y4:function(){return this.eG},Jaa:function(a){if(null!=a){var c=this.Ni;this.Ni=a;this.$a.value==
c&&(this.$a.value=a,this.$a.style.color=q.dl(this.vr),this.Mv())}},Kaa:function(a,c){this.BA=a;this.Dv=c;this.Mv()},Maa:function(a){this.BA=a;this.Mv()},Naa:function(a){this.Dv=a;this.Mv()},Mv:function(){this.$a.value==this.Ni&&(this.$a.style.fontFamily=this.BA,this.$a.style.fontSize=this.Dv+"px")},Laa:function(a){this.vr=a;this.$a.value==this.Ni&&(this.$a.style.color=q.dl(a))},gaa:function(a){this.aO=a;this.$a.type=a==q.LL?"password":"text"},Y:function(){return this.$a.value},uT:function(a,c){return this.AI(c)?
(this.Ei.n(3,3),this.fX(!1),this.lk(a),this.n(0,0),this.uF(this,this.DX,q.iE),!0):!1},yh:function(a){this.Ub=a},g5:function(){return this.Ni},haa:function(a){this.bO=a},aba:function(a){this.DO=a},Z7:function(a){var c=q.hq.pe(this);c.y-=4;c.Y6(a.end)?this.tN=a.end.C4()-c.F4():q.log("needn't to adjust view layout.")},X7:function(){},Y7:function(){},W7:function(){},DX:function(){},TB:function(a){a=a.toString(16);return 1==a.length?"0"+a:a},DV:function(a,c,d){return"#"+this.TB(a)+this.TB(c)+this.TB(d)},
RJ:function(a){this.$a.style.background=this.DV(a.p,a.o,a.g)},P6:function(a,c){this.$N=a.width;this.ia.style.width=this.$N.toString()+"px";this.ZN=a.height;this.ia.style.height=this.ZN.toString()+"px";this.ia.style.backgroundColor=q.dl(c)}});q.hq.pe=function(a){var c=a.d(),c=q.rect(0,0,c.width,c.height);return q.Ug(c,a.Ls())};q.hq.create=function(a,c,d,e,f){d=new q.hq(a,d);c instanceof q.Ac?d.RJ(c):d.uT(a,c)&&(e&&d.ux(e,q.kE),f&&d.ux(f,q.jE));return d};var u=[],ka=new XMLHttpRequest;ka.open("GET","config.txt",!1);ka.send(null);var na=ka.responseText,oa=na.split("\n")[0],pa=na.split("\n")[1];pa&&(oa+=":"+pa);var qa=io.connect(oa,{"sync disconnect on unload":!0,"connect timeout":5E3,"reconnection delay ":100});qa.on("connect",function(){v.ny();v.NM();console.log("Client has connected to the server!");if(x){var a=x.e().ld;a?a.yn(!0):u.push(JSON.stringify({connect:!0}))}else u.push(JSON.stringify({connect:!0}))});qa.on("message",function(a){reactToSocketMessage(a)});
reactToSocketMessage=function(a){a=JSON.parse(a);var c=!1,d;for(d in a){c=!0;break}if(!1!=c)if(console.log("Received a message from the server!",a),a.sync)a.mapdata&&v.aL(a.mapdata,a.maptime),a.warpdata&&v.Yx(a.warpdata,a.warptime),a.itemdata&&v.gt(a.itemdata,a.itemtime),a.skillsdata&&v.TD(a.skillsdata,a.skillstime),a.signsdata&&v.Xx(a.signsdata,a.signstime),a.npcsdata&&v.bL(a.npcsdata,a.npcstime),a.questdata&&v.RD(a.questdata,a.queststime),a.settingsdata&&(v.SD(a.settingsdata,a.settingstime),y=sa(y,
a.settingsdata)),a.scriptsdata&&v.fL(a.scriptsdata,a.scriptstime),ta=!0;else if(c=x.e().ld)if(a.connect?c.yn(!0):a.disconnect&&c.yn(!1),"Game"==c.Lc())if(a.newPlayer)z.BQ(a.newPlayer);else if(a.playerLeft)z.di(a.playerLeft).Jg==z.B.ha.Jg&&(MapMaster=!1),z.FH(a.playerLeft);else if(a.changemap){for(c=0;c<u.length;c++)d=JSON.parse(u[c]),d.moveTo&&d.id==a.id&&(console.log("REMOVIN"),u.splice(c,1),c--);z.di(a.id).Jg==z.B.ha.Jg&&(MapMaster=!1);z.XQ(a.id,a.changemap);z.rJ(a.id,a.setTo)}else a.setTo?!z.di(a.id)||
z.di(a.id)&&!1==z.di(a.id).Hg?z.rJ(a.id,a.setTo):u.push(JSON.stringify(a)):a.moveTo?!z.di(a.id)||z.di(a.id)&&!1==z.di(a.id).Hg?z.bU(a.id,a.moveTo):u.push(JSON.stringify(a)):a.chatMessage?C.Kb(a.chatMessage):a.coinflip?C.Kb(a.coinflip):a.diceroll?C.Kb(a.diceroll):a.dance?C.Kb(a.dance):a.afk?z.YQ(a.afk):a.savemap?(v.VQ(a.savemap,a.mapdata,a.updatetime),F.iX(a.mapdata)):a.mapmaster?MapMaster=!0:a.savewarps?(v.dR(parseInt(a.savewarps),a.warpdata,a.updatetime),ObjectLists.Wm()[parseInt(a.savewarps)]=a.warpdata,
Warpeditor&&(Warpeditor.Kc=ObjectLists.Wm(),Warpeditor.xa())):a.savewarpswhole?(v.eV(a.savewarpswhole,a.updatetime),ObjectLists.eX(a.savewarpswhole)):a.savescripts?(v.$Q(parseInt(a.savescripts),a.scriptsdata,a.updatetime),ObjectLists.ss()[parseInt(a.savescripts)]=a.scriptsdata,Eventsystem&&(Eventsystem.Kc=ObjectLists.ss(),Eventsystem.xa())):a.savescriptswhole?(v.bV(a.savescriptswhole,a.updatetime),ObjectLists.UW(a.savescriptswhole)):a.savesettings?(v.SD(a.savesettings,a.updatetime),y=sa(y,a.savesettings),
Settingseditor&&(Settingseditor.data=ua(y),Settingseditor.Zb())):a.savequests?(v.ZQ(parseInt(a.savequests),a.questdata,a.updatetime),ObjectLists.rs()[parseInt(a.savequests)]=a.questdata,Questeditor&&(Questeditor.Kc=ObjectLists.rs(),Questeditor.xa())):a.savequestswhole?(v.aV(a.savequestswhole,a.updatetime),ObjectLists.RW(a.savequestswhole)):a.saveskills?(v.bR(parseInt(a.saveskills),a.skillsdata,a.updatetime),ObjectLists.jl()[parseInt(a.saveskills)]=a.skillsdata,Skillseditor&&(Skillseditor.Kc=ObjectLists.jl(),
Skillseditor.xa()),za.update(),Skills&&Skills.Hf()):a.saveskillswhole?(v.dV(a.saveskillswhole,a.updatetime),ObjectLists.WW(a.saveskillswhole),za.update(),Skills&&Skills.Hf()):a.savesigns?(v.aR(parseInt(a.savesigns),a.signsdata,a.updatetime),ObjectLists.ts()[parseInt(a.savesigns)]=a.signsdata,Signeditor&&(Signeditor.Kc=ObjectLists.ts(),Signeditor.xa())):a.moveNPC?(a.npcID=parseInt(a.npcID),!z.qs(a.npcID)||z.qs(a.npcID)&&!1==z.qs(a.npcID).Hg?z.aU(a.npcID,a.moveNPC,a.mapnumber):u.push(JSON.stringify(a))):
a.changeNPCPosition?(a.npcID=parseInt(a.npcID),z.qs(a.npcID)&&!1==z.qs(a.npcID).Hg?z.wV(a.npcID,a.changeNPCPosition):u.push(JSON.stringify(a))):a.savesignswhole?(v.cV(a.savesignswhole,a.updatetime),ObjectLists.VW(a.savesignswhole)):a.savenpcs?(v.WQ(parseInt(a.savenpcs),a.npcsdata,a.updatetime),ObjectLists.il()[parseInt(a.savenpcs)]=a.npcsdata,F.Lw(F.oe(),!0),NPCeditor&&(NPCeditor.Kc=ObjectLists.il(),NPCeditor.xa())):a.savenpcswhole?(v.$U(a.savenpcswhole,a.updatetime),ObjectLists.BW(a.savenpcswhole),
F.Lw(F.oe(),!0),NPCeditor&&(NPCeditor.Kc=ObjectLists.il(),NPCeditor.xa())):a.saveitems?(v.UQ(parseInt(a.saveitems),a.itemdata,a.updatetime),c=ObjectLists.bi()[parseInt(a.saveitems)].name,ObjectLists.bi()[parseInt(a.saveitems)]=a.itemdata,F.Lw(F.oe()),Itemeditor&&(Itemeditor.Kc=ObjectLists.bi(),Itemeditor.xa()),Inventory&&Inventory.Hf(),z.B.ha.gt(c,a.itemdata)):a.droppeditem?a.mapnumber==F.oe()&&!1==F.e().Gg?(c=F.mI(a.index),c.xQ(a.droppeditem),F.ht()):u.push(JSON.stringify(a)):a.pickupitem?a.mapnumber==
F.oe()&&(c=F.mI(a.pickupitem),c.YC(),F.ht()):a.saveitemswhole&&(v.ZU(a.saveitemswhole,a.updatetime),ObjectLists.tW(a.saveitemswhole));else"Login"==c.Lc()&&(a.login_success?c.gU():a.login_fail&&c.SC(a.login_fail));else u.push(JSON.stringify(a))};qa.on("disconnect",function(){console.log("The client has disconnected!");var a=x.e().ld;a?a.yn(!1):u.push(JSON.stringify({disconnect:!0}))});function G(a){qa.send(JSON.stringify(a))};var H=Object.freeze({me:{g2:"C to popup/dismiss, enter for chat. Say /help for help.",Z6:"Welcome to the Powder Engine! Enter /help for some help.",mT:"-------HELP------",lT:" - Press C to expand the chat, I for Inventory",kT:" - Space to grab Items and E for Equipment.",jT:" - Enter /commands for command list",iT:"-------------------",jR:"Commands:  /editskill, /editsign, /editnpc,",iR:" - /editmap, /editwarp, /edititem,",hR:" - /dance, /coinflip, /diceroll, /afk",gR:"--------------------",FU:" has joined the game!",
v9:" has left the game!",dx:"Picked up ",RR:"Dropped ",KI:"Your inventory is full"}});var Aa={},Ba=q.Dd.e();q.kj.e();Ba.rK(["res/Graphics"]);ka=new XMLHttpRequest;ka.open("GET","res/Graphics/tile_graphics.txt",!1);ka.send(null);var na=ka.responseText,Ea=na.split(","),I=[],Fa;for(Fa in Ea)I.push({name:Ea[Fa],texture:q.sa.e().Ia(Ea[Fa])});var ta=!1,ka=new XMLHttpRequest;ka.open("GET","res/Graphics/character_graphics.txt",!1);ka.send(null);var na=ka.responseText,Ea=na.split(","),K=[];for(Fa in Ea)K.push({name:Ea[Fa],texture:q.sa.e().Ia(Ea[Fa])});
document.getElementById("gameCanvas").onkeydown=function(a){a.preventDefault();Aa[a.keyCode]=!0};window.onbeforeunload=function(){G({disconnect:!0})};window.onfocus=function(){for(var a=[],c=u.length-1;0<=c;c--){var d=JSON.parse(u[c]);d.moveTo&&!a[d.id]?(a[d.id]=!0,d.setTo=d.moveTo,d.moveTo=null,u[c]=JSON.stringify(d)):d.moveTo&&a[d.id]&&u.splice(c,1)}};var M=q.i(255,255,255,255),Ga=q.i(0,255,0,255),N=q.i(255,0,0,255);
document.getElementById("gameCanvas").onkeyup=function(a){Aa[a.keyCode]=!1;if(null!=x.e().ld){a.stopPropagation();var c=null;switch(a.keyCode){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";
break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a.keyCode&&58>a.keyCode||64<a.keyCode&&91>a.keyCode)&&(c=String.fromCharCode(a.keyCode));null!=c&&x.e().ld.ul(c)}};
var y={GENERAL:"ISSECTION","Project Name":"Powder Engine Testbed","Version Number":"0.705",CHATBAR:"ISSECTION","Welcome Message":"Welcome to the Powder Engine! Enter /help for some help.","Join Message":"\x3cPLAYER\x3e has joined the game!","Leave Message":"\x3cPLAYER\x3e has left the game!","Default ChatBar Message":"C to popup/dismiss, enter for chat. Say /help for help.",ITEMS:"ISSECTION","Item Dropdown Pick Up":"Pick up \x3cITEM\x3e","Item Dropdown Walk To":"Walk to \x3cITEM\x3e","Item Pick Up":"Picked up \x3cITEM\x3e.",
"Item Dropped":"Dropped \x3cITEM\x3e.","Item Out-of-range":"\x3cITEM\x3e is too far away to pick up!","Item Dropdown Examine":"Examine \x3cITEM\x3e","Item Dropdown Equip":"Equip \x3cITEM\x3e","Item Dropdown Read":"Read \x3cITEM\x3e","Item Dropdown Eat":"Eat \x3cITEM\x3e","Item Dropdown Use":"Use \x3cITEM\x3e","Item Dropdown Unequip":"Unequip \x3cITEM\x3e","Item Dropdown Drop":"Drop \x3cITEM\x3e",NPCS:"ISSECTION","NPC Dropdown Examine":"Examine","NPC Dropdown Attack":"Attack","NPC Dropdown Talk":"Talk To",
"NPC Dropdown Follow":"Follow","NPC Dropdown Trade":"Trade","NPC Dropdown Bank":"Open Bank",SIGNS:"ISSECTION","Sign Dropdown list Read":"Read sign \x3cSIGN\x3e","Sign Out-of-range":"\x3cSIGN\x3e is too far away to read!",PANELS:"ISSECTION","Equipment Header":"Equipment","Inventory Header":"Inventory","Skills Header":"Skills List","Quest Header":"Quest Log",COMMANDS:"ISSECTION","/dance":"\x3cPLAYER\x3e danced the dance of his people.","/diceroll":"\x3cPLAYER\x3e threw a dice and got \x3cVALUE\x3e",
"/coinflip":"\x3cPLAYER\x3e flipped a coin and got \x3cVALUE\x3e"};function O(a,c){return(a.SI&&a.va||!a.SI)&&q.rb(q.rect(a.q.F,a.q.J,a.d().width,a.d().height),c)}function ua(a){var c={},d;for(d in a)c[d]=a[d]&&"object"==typeof a[d]?ua(a[d]):a[d];return c}
isMobile=function(){var a=!1,c=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(c)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(c.substr(0,
4)))a=!0;return a};function Ha(a,c){var d=c?a:a.Mc();return Ia(d,"panels")}function Ma(){Na.zc(function(){})}
function Ia(a,c,d){c=d?d[c]:a[c];"undefined"!=typeof c.IT?d=Oa.ny(c.CX):"undefined"!=typeof c.u?(d=c.size?c.size:q.size(100,100),d=q.da.create(c.u,d.width,d.height)):d="undefined"!=typeof c.Vw?q.w.create():"undefined"!=typeof c.$?q.w.fb(q.sa.e().Ia(c.$)):"undefined"!=typeof c.label?q.R.create(c.label,c.font?c.X2:"Arial",c.fontSize?c.fontSize:14):q.C.create();"undefined"!=typeof c.size&&d.T(Math.floor(c.size.width),Math.floor(c.size.height));"undefined"!=typeof c.position&&d.n(q.a(Math.floor(c.position.x),
Math.floor(c.position.y)));"undefined"!=typeof c.visible&&d.D(c.visible);"undefined"!=typeof c.c&&d.L(c.c);"undefined"!=typeof c.opacity&&d.fa(c.opacity);"undefined"!=typeof c.color&&d.l(c.color);if("undefined"!=typeof c.children)for(var e in c.children)d[e]=Ia(a,e,c.children),d.f(d[e]);return d}q.size(960,640);var P=q.size(1600,1600),Pa=Math.floor(P.height/32),S=Math.floor(P.width/32);function T(a,c){return parseInt(S*(Pa-c))+parseInt(a)}
function sa(a,c){var d={},e;for(e in a)d[e]=a[e]+"";for(e in c)d[e]&&(d[e]=c[e]+"");return d};var v=q.Ca.extend({B:null,vb:function(a){return(a=s.localStorage.getItem("last_"+a))?a:null},jk:function(a,c){return(c=s.localStorage.setItem("last_"+a,c))?c:null}}),U=null;v.ny=function(){U||(U=new v);return U};v.e=function(){return U};v.KW=function(a,c){var d=s.localStorage.getItem("panelStore");"null"==d||null==d?(console.log("NEW PANEL STORE"),d={}):d=JSON.parse(d);d[a]={x:c.x,y:c.y};s.localStorage.setItem("panelStore",JSON.stringify(d))};v.yS=function(){return s.localStorage.getItem("panelStore")};
v.oS=function(a){if(U.vb("maps")){if(a){var c=JSON.parse(s.localStorage.getItem("map_data"));return c[a]?c[a]:null}}else return[]};v.aL=function(a,c){U.jk("maps",c);s.localStorage.setItem("map_data",JSON.stringify(a))};v.VQ=function(a,c,d){var e=U.vb("maps")?JSON.parse(s.localStorage.getItem("map_data")):[];e[a]=c;v.aL(e,d)};v.Ye=function(){if(U.vb("scripts")){if(""!=s.localStorage.getItem("scripts_data"))var a=JSON.parse(s.localStorage.getItem("scripts_data"));return a?a:[]}return[]};
v.fL=function(a,c){U.jk("scripts",c);s.localStorage.setItem("scripts_data",JSON.stringify(a))};v.$Q=function(a,c,d){var e=U.vb("scripts")?""!=s.localStorage.getItem("scripts_data")?JSON.parse(s.localStorage.getItem("scripts_data")):[]:[];e[a]=c;v.fL(e,d)};v.bV=function(a,c){scriptarray=a;v.Yx(scriptarray,c)};v.RS=function(){if(U.vb("warps")){if(""!=s.localStorage.getItem("warps_data"))var a=JSON.parse(s.localStorage.getItem("warps_data"));return a?a:[]}return[]};
v.Yx=function(a,c){U.jk("warps",c);s.localStorage.setItem("warps_data",JSON.stringify(a))};v.dR=function(a,c,d){var e=U.vb("warps")?""!=s.localStorage.getItem("warps_data")?JSON.parse(s.localStorage.getItem("warps_data")):[]:[];e[a]=c;v.Yx(e,d)};v.eV=function(a,c){warparray=a;v.Yx(warparray,c)};v.mS=function(){if(U.vb("items")){if(""!=s.localStorage.getItem("items_data"))var a=JSON.parse(s.localStorage.getItem("items_data"));return a?a:[]}return[]};
v.gt=function(a,c){U.jk("items",c);s.localStorage.setItem("items_data",JSON.stringify(a))};v.UQ=function(a,c,d){var e=U.vb("items")?""!=s.localStorage.getItem("items_data")?JSON.parse(s.localStorage.getItem("items_data")):[]:[];e[a]=c;v.gt(e,d)};v.ZU=function(a,c){itemsarray=a;v.gt(itemsarray,c)};v.JS=function(){if(U.vb("skills")){if(""!=s.localStorage.getItem("skills_data"))var a=JSON.parse(s.localStorage.getItem("skills_data"));return a?a:[]}return[]};
v.TD=function(a,c){U.jk("skills",c);s.localStorage.setItem("skills_data",JSON.stringify(a))};v.bR=function(a,c,d){var e=U.vb("skills")?""!=s.localStorage.getItem("skills_data")?JSON.parse(s.localStorage.getItem("skills_data")):[]:[];e[a]=c;v.TD(e,d)};v.dV=function(a,c){skillarray=a;v.TD(skillarray,c)};v.IS=function(){if(U.vb("signs")){if(""!=s.localStorage.getItem("signs_data"))var a=JSON.parse(s.localStorage.getItem("signs_data"));return a?a:[]}return[]};
v.Xx=function(a,c){U.jk("signs",c);s.localStorage.setItem("signs_data",JSON.stringify(a))};v.aR=function(a,c,d){var e=U.vb("signs")?""!=s.localStorage.getItem("signs_data")?JSON.parse(s.localStorage.getItem("signs_data")):[]:[];e[a]=c;v.Xx(e,d)};v.cV=function(a,c){signarray=a;v.Xx(signarray,c)};v.uS=function(){if(U.vb("npcs")){if(""!=s.localStorage.getItem("npcs_data"))var a=JSON.parse(s.localStorage.getItem("npcs_data"));return a?a:[]}return[]};
v.bL=function(a,c){U.jk("npcs",c);s.localStorage.setItem("npcs_data",JSON.stringify(a))};v.WQ=function(a,c,d){var e=U.vb("npcs")?""!=s.localStorage.getItem("npcs_data")?JSON.parse(s.localStorage.getItem("npcs_data")):[]:[];e[a]=c;v.bL(e,d)};v.$U=function(a,c){npcsarray=a;v.Xx(npcsarray,c)};v.CS=function(){if(U.vb("quests")){if(""!=s.localStorage.getItem("quests_data"))var a=JSON.parse(s.localStorage.getItem("quests_data"));return a?a:[]}return[]};
v.RD=function(a,c){U.jk("quests",c);s.localStorage.setItem("quests_data",JSON.stringify(a))};v.ZQ=function(a,c,d){var e=U.vb("quests")?""!=s.localStorage.getItem("quests_data")?JSON.parse(s.localStorage.getItem("quests_data")):[]:[];e[a]=c;v.RD(e,d)};v.aV=function(a,c){questsarray=a;v.RD(questsarray,c)};v.kC=function(){if(U.vb("settings")){if(""!=s.localStorage.getItem("settings_data"))var a=JSON.parse(s.localStorage.getItem("settings_data"));return a?a:[]}return[]};
v.SD=function(a,c){U.jk("settings",c);s.localStorage.setItem("settings_data",JSON.stringify(a))};
v.wY=function(){s.localStorage.setItem("map_data",[]);s.localStorage.setItem("last_maps",0);s.localStorage.setItem("warps_data",[]);s.localStorage.setItem("last_warps",0);s.localStorage.setItem("items_data",[]);s.localStorage.setItem("last_items",0);s.localStorage.setItem("skills_data",[]);s.localStorage.setItem("last_skills",0);s.localStorage.setItem("signs_data",[]);s.localStorage.setItem("last_signs",0);s.localStorage.setItem("npcs_data",[]);s.localStorage.setItem("last_npcs",0);s.localStorage.setItem("quests_data",
[]);s.localStorage.setItem("last_quests",0);s.localStorage.setItem("settings_data",[]);s.localStorage.setItem("last_settings",0);s.localStorage.setItem("scripts_data",[]);s.localStorage.setItem("last_scripts",0);s.localStorage.setItem("panelStore",null)};
v.NM=function(){G({sync:!0,mapupdate:null!=U.vb("maps")?U.vb("maps"):2,warpupdate:null!=U.vb("warps")?U.vb("warps"):2,itemupdate:null!=U.vb("items")?U.vb("items"):2,skillsupdate:null!=U.vb("skills")?U.vb("skills"):2,signsupdate:null!=U.vb("signs")?U.vb("signs"):2,npcsupdate:null!=U.vb("npcs")?U.vb("npcs"):2,questsupdate:null!=U.vb("quests")?U.vb("quests"):2,settingsupdate:null!=U.vb("settings")?U.vb("settings"):2,scriptsupdate:null!=U.vb("scripts")?U.vb("scripts"):2})};
v.wW=function(a){!0!=a&&!1!=a||s.localStorage.setItem("mapedit_saveonexit",a)};v.pS=function(){return null==s.localStorage.getItem("mapedit_saveonexit")?!1:s.localStorage.getItem("mapedit_saveonexit")};ListView=q.Eh.extend({ol:null,m:null,rw:null,Zw:!1,mi:null,un:null,PK:null,hD:function(){if(this.m){this.un&&(this.un.Q(),this.mi.Q());var a=this.m.ne();a.height<this.m.d().height&&(a=this.m.d(),this.Zw=!0);this.ol=[];for(var c=0,d=0;d<this.m.Kd();d++){var e=this.m.Ze(d),c=c+e.height;this.ol[d]=q.C.create();this.ol[d].T(e);this.ol[d].n(q.a(0,a.height-c));this.ol[d].L(q.a(0,1));this.f(this.ol[d]);this.ol[d].f(this.m.Xe(d))}this.Vp(-300);this.ED(0);!1==this.Zw&&(this.un=q.da.create(q.i(0,0,0,255),1,
this.m.d().height),this.un.n(q.a(this.m.d().width+20,0)),this.mi=q.da.create(q.i(90,90,255,255),20,this.m.d().height/5),this.mi.n(q.a(this.m.d().width+10,0)),this.m.f(this.un),this.m.f(this.mi),this.zl(q.a(0,this.Js().y),!1));this.m.n(this.PK)}},s:function(a){this.m=a;this.L(q.a(0,0));this.PK=q.a(a.q.F,a.q.J);this.Bp(this.m.d(),this.m);this.YJ(q.jq);this.XV(!1);a=this.m.ne();var c=q.C.create();c.T(a);this.aW(c)},df:function(a){this.rw=a},nD:!1,tx:null,wc:function(a){if(!this.m.Vi)return!1;for(var c=
0;c<this.m.Kd();c++)this.m.Vi(c).l(q.i(255,255,255,255));this.m.Vi(a).l(q.i(255,0,0,255))},jb:function(a){for(var c=a.K,d=0;d<this.m.Kd();d++)for(var e in this.rw[d]){var f=this.ol[d].Ba(c),g=this.m.Ba(c);g.x+=this.m.q.F;O(this.m,g);if(O(this.rw[d][e],f))return this.m.yc(this.rw[d][e].pc,d,a),this.nD=!0}if(!1==this.Zw){a=this.m.Ba(c);if(O(this.mi,a))return this.tx=a.y-this.mi.q.J,!0;console.log("TURNING OFF SCROLOL");this.tx=null}},md:function(a){if(!0==this.nD)return this.nD=!1;if(!1==this.Zw){var c=
a.K;if(null!=this.tx&&(c=this.m.Ba(c),c.y-=this.tx,0<=c.y&&c.y+this.mi.d().height<=this.m.d().height))return a=c.y/(this.un.d().height-this.mi.d().height),this.zl(q.a(0,this.an().y*a),!1),this.mi.nd(c.y),!0;c=this._super(a);a=this.bI().y/this.an().y;this.mi.nd((this.un.d().height-this.mi.d().height)*a);return c}}});ListView.create=function(a){var c=new ListView;c.s(a);c.hD();return c};var Oa=q.C.extend({re:null,se:null,te:null,xe:null,ye:null,Ld:null,item:null,he:null,ie:null,ke:null,je:null,position:null,ff:null,type:null,kb:null,ctor:function(){this._super()},s:function(){this._super();this.ff=q.R.create("","Arial",16);this.ff.L(0.5,0.5);this.ff.n(16,-16);this.ff.fa(0);this.ff.l(q.k(0,0,0));this.f(this.ff,900);this.item=[];this.kb=[];this.fj(0)},xQ:function(a){this.kk(a.sprite.texture,a.sprite.position,"item");for(var c=0;c<ObjectLists.bi().length;c++)if(a.name==ObjectLists.bi()[c].name){this.Dx({id:c,
data:{amount:a.amount}},!0);break}this.fj(4)},YC:function(){this.kb[this.kb.length-1].temp&&(this.item[this.item.length-1].Q(),this.item.splice(this.item.length-1,1),this.HU())},kk:function(a,c,d){a=q.w.fb(q.sa.e().Ia(a));a.Lb(q.rect(Math.floor(32*c.x),Math.floor(32*c.y),32,32));a.l(q.i(255,255,255,255));a.L(0,1);switch(d){case "ground1":null!=this.re&&this.re.Q();this.re=a;this.f(this.re);break;case "ground2":null!=this.se&&this.se.Q();this.se=a;this.f(this.se,1);break;case "groundShadow":null!=
this.te&&this.te.Q();this.te=a;this.f(this.te,2);break;case "mask1":null!=this.xe&&this.xe.Q();this.xe=a;this.f(this.xe,3);break;case "mask2":null!=this.ye&&this.ye.Q();this.ye=a;this.f(this.ye,4);break;case "mask3":null!=this.Ld&&this.Ld.Q();this.Ld=a;this.f(this.Ld,5);break;case "item":this.item.push(a);this.f(this.item[this.item.length-1],6);break;case "fringe1":null!=this.he&&this.he.Q();this.he=a;this.f(this.he,7);break;case "fringe2":null!=this.ie&&this.ie.Q();this.ie=a;this.f(this.ie,8);break;
case "fringeShadow":null!=this.ke&&this.ke.Q();this.ke=a;this.f(this.ke,9);break;case "fringe3":null!=this.je&&this.je.Q(),this.je=a,this.f(this.je,10)}},Fg:function(){var a=!0;if(null!=this.re&&this.re.aa()&&!1==this.re.aa().nc)a=!1;else if(null!=this.se&&this.se.aa()&&!1==this.se.aa().nc)a=!1;else if(null!=this.te&&this.te.aa()&&!1==this.te.a6)a=!1;else if(null!=this.xe&&this.xe.aa()&&!1==this.xe.aa().nc)a=!1;else if(null!=this.ye&&this.ye.aa()&&!1==this.ye.aa().nc)a=!1;else if(null!=this.Ld&&this.Ld.aa()&&
!1==this.Ld.aa().nc)a=!1;else if(0<this.item.length)for(var c in this.item)this.item[c].aa()&&!1==this.item[c].aa().nc&&(a=!1);else null!=this.he&&this.he.aa()&&!1==this.he.aa().nc?a=!1:null!=this.ie&&this.ie.aa()&&!1==this.ie.aa().nc?a=!1:null!=this.ke&&this.ke.aa()&&!1==this.ke.aa().nc?a=!1:null!=this.je&&this.je.aa()&&!1==this.je.aa().nc&&(a=!1);return a},Jd:function(){null!=this.re&&this.re.Q();this.re=null;null!=this.se&&this.se.Q();this.se=null;null!=this.te&&this.te.Q();this.te=null;null!=
this.xe&&this.xe.Q();this.xe=null;null!=this.ye&&this.ye.Q();this.ye=null;null!=this.Ld&&this.Ld.Q();this.Ld=null;for(var a=0;a<this.item.length;a++)this.item[a].Q();this.item=[];this.Ld=null;null!=this.he&&this.he.Q();this.he=null;null!=this.ie&&this.ie.Q();this.ie=null;null!=this.ke&&this.ke.Q();this.ke=null;null!=this.je&&this.je.Q();this.je=null;this.fj(0);this.kb=[];this.item=[]},YB:function(a){switch(a){case "ground1":null!=this.re&&this.re.Q();this.re=null;break;case "ground2":null!=this.se&&
this.se.Q();this.se=null;break;case "groundShadow":null!=this.te&&this.te.Q();this.te=null;break;case "mask1":null!=this.xe&&this.xe.Q();this.xe=null;break;case "mask2":null!=this.ye&&this.ye.Q();this.ye=null;break;case "mask3":null!=this.Ld&&this.Ld.Q();this.Ld=null;break;case "item":for(a=0;a<this.item.length;a++)this.item[a].Q(),this.item[a].splice(a,1),a--;this.item=[];break;case "fringe1":null!=this.he&&this.he.Q();this.he=null;break;case "fringe2":null!=this.ie&&this.ie.Q();this.ie=null;break;
case "fringeShadow":null!=this.ke&&this.ke.Q();this.ke=null;break;case "fringe3":null!=this.je&&this.je.Q(),this.je=null}},fj:function(a){this.type=a;switch(this.type){case 0:this.ff.ca("");break;case 1:this.ff.ca("BLK");break;case 2:this.ff.ca("SPW");break;case 3:this.ff.ca("WRP");break;case 4:this.ff.ca("ITM");break;case 5:this.ff.ca("NPC");break;case 6:this.ff.ca("SKL");break;case 7:this.ff.ca("SGN")}},Dx:function(a,c){c||(c=!1);this.kb.push({num:parseInt(a.id),data:a.data,temp:c})},HU:function(){this.kb.splice(this.kb.length-
1,1);0==this.kb.length&&this.fj(0)},Jw:function(){return this.kb[this.kb.length-1]},vp:function(){switch(this.type){case 3:return ObjectLists.Wm()[this.kb[this.kb.length-1].num];case 4:var a=ObjectLists.bi()[this.kb[this.kb.length-1].num];a.amount=parseInt(this.kb[this.kb.length-1].data.amount);return a;case 7:return ObjectLists.ts()[this.kb[this.kb.length-1].num];case 5:return ObjectLists.il()[this.kb[this.kb.length-1].num]}},Ye:function(){switch(this.type){case 3:return ObjectLists.Wm()[this.kb[this.kb.length-
1].num]?ObjectLists.Wm()[this.kb[this.kb.length-1].num]:null;case 4:return ObjectLists.bi()[this.kb[this.kb.length-1].num]?ObjectLists.bi()[this.kb[this.kb.length-1].num]:null;case 5:return ObjectLists.il()[this.kb[this.kb.length-1].num]?ObjectLists.il()[this.kb[this.kb.length-1].num]:null}},XW:function(a){this.ff.fa(!0==a?255:0)},lc:function(){return this.type}});Oa.ny=function(a,c){var d=new Oa;d.s();d.position=q.a(a,c);return d};StatsController=q.w.extend({data:null,Xw:null,m:null,s:function(a,c){this.data=a;this.m=c;this.JV()},update:function(){for(var a in this.data)this.Xw&&(0==this.data[a].value&&0<this.Xw[a]&&this.m.Sba(a),this.data[a].Nc>this.Xw[a].Nc&&this.m.Uba(a)),this.Xw[a]=this.data[a]},S5:function(a){return this.data[a].value},R5:function(a){return this.data[a].Nc},w8:function(a,c){this.data[a].value+=c;this.data[a].value>this.data[a].$f&&(this.data[a].value=this.data[a].$f);0>this.data[a].value&&(this.data[a].value=
0)},cR:function(a,c){this.data[a].value=c;this.data[a].value>this.data[a].$f&&(this.data[a].value=this.data[a].$f);0>this.data[a].value&&(this.data[a].value=0)},v8:function(a,c){this.data[a].Nc+=c;this.data[a].Nc>this.data[a].Zf&&(this.data[a].Nc=this.data[a].Zf);0>this.data[a].Nc&&(this.data[a].Nc=0)},cR:function(a,c){this.data[a].Nc=c;this.data[a].Nc>this.data[a].Zf&&(this.data[a].Nc=this.data[a].Zf);0>this.data[a].Nc&&(this.data[a].Nc=0)},L1:function(a,c){this.data[a].Zf=c},M1:function(a,c){this.data[a].$f=
c}});ObjectLists=q.Ca.extend({aE:null,JC:null,KD:null,JD:null,OC:null,bD:null,qD:null});var V;ObjectLists.e=function(){V||(V=new ObjectLists,V.aE=v.RS(),V.JC=v.mS(),V.KD=v.JS(),V.JD=v.IS(),V.OC=v.uS(),V.bD=v.CS(),V.qD=v.Ye());return V};ObjectLists.Wm=function(){return V.aE};ObjectLists.eX=function(a){V.aE=a};ObjectLists.bi=function(){return V.JC};ObjectLists.tW=function(a){V.JC=a};ObjectLists.jl=function(){return V.KD};ObjectLists.WW=function(a){V.KD=a};ObjectLists.ts=function(){return V.JD};
ObjectLists.VW=function(a){V.JD=a};ObjectLists.il=function(){return V.OC};ObjectLists.BW=function(a){V.OC=a};ObjectLists.rs=function(){return V.bD};ObjectLists.RW=function(a){V.bD=a};ObjectLists.ss=function(){return V.qD};ObjectLists.UW=function(a){V.qD=a};gameMapInstance=null;
var F=q.Qc.extend({Od:null,v:null,Gg:!1,Gn:null,hn:null,ZC:null,Xm:null,sl:null,pl:null,ql:null,rl:null,N:q.a(0,0),$j:1,dC:function(a,c){function d(a,c){return{CM:a,value:c.x+c.y*S,x:c.x,y:c.y,Dw:0,o:0}}function e(a,c){var d=c-1,e=c+1,g=a+1,h=a-1,k=-1<d&&f.v["tile"+T(a,d)]&&1!=f.v["tile"+T(a,d)].lc()&&7!=f.v["tile"+T(a,d)].lc();myS=e<S&&f.v["tile"+T(a,e)]&&1!=f.v["tile"+T(a,e)].lc()&&7!=f.v["tile"+T(a,e)].lc();myE=g<S&&f.v["tile"+T(g,c)]&&1!=f.v["tile"+T(g,c)].lc()&&7!=f.v["tile"+T(g,c)].lc();myW=
-1<h&&f.v["tile"+T(h,c)]&&1!=f.v["tile"+T(h,c)].lc()&&7!=f.v["tile"+T(h,c)].lc();result=[];k&&result.push({x:a,y:d});myE&&result.push({x:g,y:c});myS&&result.push({x:a,y:e});myW&&result.push({x:h,y:c});return result}for(var f=this,g=d(null,c),h,k,l,m,n,r=[],p=[],t=[d(null,a)],w=Array(Pa*S);h=t.length;){k=Pa*S;l=-1;for(m=0;m<h;m++)t[m].Dw<k&&(k=t[m].Dw,l=m);k=t.splice(l,1)[0];if(k.value===g.value){l=p[p.push(k)-1];do r.push(q.a(l.x,l.y));while(l=l.CM);w=p=t=[];r.reverse()}else{h=e(k.x,k.y);m=0;for(n=
h.length;m<n;m++)l=d(k,h[m]),w[l.value]||(l.o=k.o+(Math.abs(h[m].x-k.x)+Math.abs(h[m].y-k.y)),l.Dw=l.o+(Math.abs(h[m].x-g.x)+Math.abs(h[m].y-g.y)),t.push(l),w[l.value]=!0);p.push(k)}}return r},hX:function(a){this.Od={};this.Od.mapdata={};for(var c in this.v)"tile"==c.substring(0,4)&&(this.v[c].Jd(),this.Od[c]={});if(a)for(c in this.Od=a,a)if("tile"==c.substring(0,4))for(var d in a[c])"info"!=d?null!=a[c][d]&&this.v[c].kk(a[c][d].texture,a[c][d].frame,d):(this.v[c].fj(a[c][d].type),a[c][d].script&&
this.v[c].Dx(a[c][d].script),4==a[c][d].type&&this.v[c].Ye()&&this.v[c].kk(this.v[c].Ye().sprite.texture,this.v[c].Ye().sprite.position,"item"),5==a[c][d].type&&this.v[c].Ye()&&z.lH(this.v[c].Ye(),q.a(this.v[c].q.x/32,this.v[c].q.y/32),this.$j));else"mapdata"==c&&(this.sl=""!=a[c].mapConnectors.up&&null!=a[c].mapConnectors.up?a[c].mapConnectors.up:null,this.pl=""!=a[c].mapConnectors.down&&null!=a[c].mapConnectors.down?a[c].mapConnectors.down:null,this.ql=""!=a[c].mapConnectors.left&&null!=a[c].mapConnectors.left?
a[c].mapConnectors.left:null,this.rl=""!=a[c].mapConnectors.right&&null!=a[c].mapConnectors.right?a[c].mapConnectors.right:null);this.sc(this.dD)},Cl:function(a){z.e().D(!1);a=v.oS(a);this.Od={};this.Od.mapdata={};for(var c in this.v)"tile"==c.substring(0,4)&&(this.v[c].Jd(),this.Od[c]={});if(a)for(c in this.Od=a,a)if("tile"==c.substring(0,4))for(var d in a[c])"info"!=d?null!=a[c][d]&&this.v[c].kk(a[c][d].texture,a[c][d].frame,d):(this.v[c].fj(a[c][d].type),a[c][d].script&&this.v[c].Dx(a[c][d].script),
4==a[c][d].type&&this.v[c].Ye()&&this.v[c].kk(this.v[c].Ye().sprite.texture,this.v[c].Ye().sprite.position,"item"),5==a[c][d].type&&this.v[c].Ye()&&z.lH(this.v[c].Ye(),q.a(this.v[c].q.x/32,this.v[c].q.y/32),this.$j));else"mapdata"==c&&(this.sl=""!=a[c].mapConnectors.up&&null!=a[c].mapConnectors.up?a[c].mapConnectors.up:null,this.pl=""!=a[c].mapConnectors.down&&null!=a[c].mapConnectors.down?a[c].mapConnectors.down:null,this.ql=""!=a[c].mapConnectors.left&&null!=a[c].mapConnectors.left?a[c].mapConnectors.left:
null,this.rl=""!=a[c].mapConnectors.right&&null!=a[c].mapConnectors.right?a[c].mapConnectors.right:null);this.sc(this.dD)},dD:function(){for(var a in this.v)if("tile"==a.substring(0,4)&&!1==this.v[a].Fg())return;z.e().D(!0);z.nk();this.Ad(this.dD);this.hn.D(!0);this.Gn.D(!0);this.Gg=!0},Mc:function(){for(var a={},c=0;c<S;c++)for(var d=0;d<Pa;d++)a["tile"+(c+d*S)]={size:q.size(32,32),c:q.a(0,0),position:q.a(32*c,32*(Pa-d)),IT:!0,CX:q.a(d,c),visible:!1};return{panels:{children:a}}},s:function(){this.Tb(!0);
this.ED(1)},jb:function(a){!this.Xm||Mapeditor&&Mapeditor.X||(this.Xm=Mapeditor=null);if(this.Xm)for(var c in this.v)"tile"==c.substring(0,4)&&q.rb(this.v[c].Xa(),q.a(a.K.x-this.N.x,a.K.y+32-this.N.y))&&(this.Xm.VK(this.v,c),F.ht());else for(c in this.v)if("tile"==c.substring(0,4)&&q.rb(this.v[c].Xa(),q.a(a.K.x-this.N.x,a.K.y+32-this.N.y)))if(4==this.v[c].lc()){var d=y["Item Dropdown Pick Up"]+"",e=y["Item Dropdown Walk To"]+"",d=d.replace("\x3cITEM\x3e",this.v[c].Ye().name),e=e.replace("\x3cITEM\x3e",
this.v[c].Ye().name);this.X.f(DropDownList.fe(this,this.LT,[d,e],a.K));this.zg=c}else 7==this.v[c].lc()?(d=y["Sign Dropdown list Read"]+"",d=d.replace("\x3cSIGN\x3e",this.v[c].vp().name),this.X.f(DropDownList.fe(this,this.pX,[d],a.K)),this.zg=c):1!=this.v[c].lc()&&7!=this.v[c].lc()&&4!=this.v[c].lc()&&(d=z.B.ha.Yf(),z.B.ha.HD(this.dC(q.a(Math.floor(d.x),Math.ceil(d.y)),q.a(this.v[c].q.x/32,this.v[c].q.y/32))));return!0},zg:null,LT:function(a){if(null!=this.m.zg){var c=z.B.ha.Yf(),d=q.a(gameMapInstance.v[gameMapInstance.zg].q.x/
32,gameMapInstance.v[gameMapInstance.zg].q.y/32);switch(a){case 0:a=c.x>d.x?c.x-d.x:d.x-c.x;c=c.y>d.y?c.y-d.y:d.y-c.y;5>Math.sqrt(a*a+c*c)?z.B.ha.JI(gameMapInstance.v[gameMapInstance.zg]):(c=y["Item Out-of-range"]+"",c=c.replace("\x3cITEM\x3e",this.m.v[gameMapInstance.zg].Ye().name),C.Kb(c));break;case 1:z.B.ha.HD(gameMapInstance.dC(q.a(Math.floor(c.x),Math.ceil(c.y)),d)),this.m.zg=null}}},pX:function(a){if(null!=this.m.zg){var c=z.B.ha.Yf(),d=q.a(gameMapInstance.v[gameMapInstance.zg].q.x/32,gameMapInstance.v[gameMapInstance.zg].q.y/
32);switch(a){case 0:a=c.x>d.x?c.x-d.x:d.x-c.x,c=c.y>d.y?c.y-d.y:d.y-c.y,5>Math.sqrt(a*a+c*c)?z.B.ha.JI(gameMapInstance.v[gameMapInstance.zg]):(c=y["Sign Out-of-range"]+"",c=c.replace("\x3cSIGN\x3e",this.m.v[gameMapInstance.zg].vp().name),C.Kb(c))}}},md:function(a){if(this.Xm){for(var c in this.v)"tile"==c.substring(0,4)&&q.rb(this.v[c].Xa(),q.a(a.K.x-this.N.x,a.K.y+32-this.N.y))&&(this.Xm.VK(this.v,c,"moved"),F.ht());return!0}for(c in this.v)if("tile"==c.substring(0,4)&&1!=this.v[c].lc()&&7!=this.v[c].lc()&&
4!=this.v[c].lc()&&q.rb(this.v[c].Xa(),q.a(a.K.x-this.N.x,a.K.y+32-this.N.y))){var d=z.B.ha.Yf();z.B.ha.HD(this.dC(q.a(Math.floor(d.x),Math.ceil(d.y)),q.a(this.v[c].q.x/32,this.v[c].q.y/32)))}},na:function(){this._super();if(!0==this.Gg){this.Gn.OB(0,0,0,0);for(var a in this.v)"tile"==a.substring(0,4)&&(this.v[a].D(!0),null!=this.v[a].he&&this.v[a].he.D(!1),null!=this.v[a].ie&&this.v[a].ie.D(!1),null!=this.v[a].ke&&this.v[a].ke.D(!1),null!=this.v[a].je&&this.v[a].je.D(!1),this.v[a].na(),null!=this.v[a].he&&
this.v[a].he.D(!0),null!=this.v[a].ie&&this.v[a].ie.D(!0),null!=this.v[a].ke&&this.v[a].ke.D(!0),null!=this.v[a].je&&this.v[a].je.D(!0),this.v[a].D(!1));this.Gn.end();this.hn.OB(0,0,0,0);for(a in this.v)if("tile"==a.substring(0,4)){this.v[a].D(!0);null!=this.v[a].re&&this.v[a].re.D(!1);null!=this.v[a].se&&this.v[a].se.D(!1);null!=this.v[a].te&&this.v[a].te.D(!1);null!=this.v[a].xe&&this.v[a].xe.D(!1);null!=this.v[a].ye&&this.v[a].ye.D(!1);null!=this.v[a].Ld&&this.v[a].Ld.D(!1);for(var c=0;c<this.v[a].item.length;c++)this.v[a].item[c].D(!1);
this.v[a].na();null!=this.v[a].re&&this.v[a].re.D(!0);null!=this.v[a].se&&this.v[a].se.D(!0);null!=this.v[a].te&&this.v[a].te.D(!0);null!=this.v[a].xe&&this.v[a].xe.D(!0);null!=this.v[a].ye&&this.v[a].ye.D(!0);null!=this.v[a].Ld&&this.v[a].Ld.D(!0);for(c=0;c<this.v[a].item.length;c++)this.v[a].item[c].D(!0);this.v[a].D(!1)}this.hn.end();this.Gg=!1}}});
F.Vx=function(a,c){0<=gameMapInstance.N.x+(P.width-W.width/2)+a&&z.B.ha.q.x<P.width-W.width/2&&0>=gameMapInstance.N.x+a&&z.B.ha.q.x>W.width/2&&(gameMapInstance.N.x+=a);0<=gameMapInstance.N.y+(P.height-W.height/2)+c&&z.B.ha.q.y<P.height-W.height/2&&0>=gameMapInstance.N.y+c&&z.B.ha.q.y>W.height/2&&(gameMapInstance.N.y+=c);gameMapInstance.n(gameMapInstance.N.x,gameMapInstance.N.y)};
F.qC=function(a,c){a=parseInt(a);c=parseInt(c);!0==gameMapInstance.Gg?0==offsetFromPositionScheduledX&&0==offsetFromPositionScheduledY&&(offsetFromPositionScheduledX=a,offsetFromPositionScheduledY=c,gameMapInstance.sc(F.NJ)):(gameMapInstance.N.x=a>P.width-W.width/2?-(P.width-W.width):a<W.width/2?0:-(a-W.width/2),gameMapInstance.N.y=c>P.height-W.height/2?-(P.height-W.height):c<W.height/2?0:-(c-W.height/2),offsetFromPositionScheduledY=offsetFromPositionScheduledX=0,gameMapInstance.Ad(F.NJ),gameMapInstance.n(gameMapInstance.N.x,
gameMapInstance.N.y))};offsetFromPositionScheduledY=offsetFromPositionScheduledX=0;F.NJ=function(){F.qC(offsetFromPositionScheduledX,offsetFromPositionScheduledY)};F.sC=function(){!0==gameMapInstance.Gg?gameMapInstance.sc(F.sC):(gameMapInstance.Ad(F.sC),gameMapInstance.N.x=-(P.width-W.width),gameMapInstance.n(gameMapInstance.N.x,gameMapInstance.N.y))};
F.rC=function(){!0==gameMapInstance.Gg?gameMapInstance.sc(F.rC):(gameMapInstance.Ad(F.rC),gameMapInstance.N.x=0,gameMapInstance.n(gameMapInstance.N.x,gameMapInstance.N.y))};F.pC=function(){!0==gameMapInstance.Gg?gameMapInstance.sc(F.pC):(gameMapInstance.Ad(F.pC),gameMapInstance.N.y=-(P.height-W.height),gameMapInstance.n(gameMapInstance.N.x,gameMapInstance.N.y))};
F.tC=function(){!0==gameMapInstance.Gg?gameMapInstance.sc(F.tC):(gameMapInstance.Ad(F.tC),gameMapInstance.N.y=0,gameMapInstance.n(gameMapInstance.N.x,gameMapInstance.N.y))};
F.create=function(){gameMapInstance||(gameMapInstance=new F,gameMapInstance.v=Ha(gameMapInstance),gameMapInstance.f(gameMapInstance.v),gameMapInstance.Gn=q.zb.create(P.width,P.height),gameMapInstance.Gn.n(q.a(Math.floor(P.width/2),Math.floor(P.height/2))),gameMapInstance.f(gameMapInstance.Gn),gameMapInstance.Gn.D(!1),gameMapInstance.ZC=q.C.create(),gameMapInstance.f(gameMapInstance.ZC),gameMapInstance.hn=q.zb.create(P.width,P.height),gameMapInstance.hn.n(q.a(Math.floor(P.width/2),Math.floor(P.height/
2))),gameMapInstance.f(gameMapInstance.hn),gameMapInstance.hn.D(!1),gameMapInstance.Vp(-15),gameMapInstance.s());return gameMapInstance};F.e=function(){return gameMapInstance};F.Ts=function(){gameMapInstance.Q();gameMapInstance=null};F.ht=function(){gameMapInstance||(gameMapInstance=F.create());gameMapInstance.Gg=!0};F.iX=function(a){gameMapInstance.hX(a)};F.e=function(){return gameMapInstance};F.kk=function(a,c,d,e){gameMapInstance.v[a].kk(c,d,e);gameMapInstance.Od[a][e]={texture:c,frame:d}};
F.gL=function(){G({savemap:gameMapInstance.$j,mapdata:gameMapInstance.Od})};F.YB=function(a,c){gameMapInstance.Od[a][c]=null;gameMapInstance.v[a].YB(c)};F.ej=function(a,c,d,e){gameMapInstance.v[a].fj(c);null!=d&&"undefined"!==d?(gameMapInstance.v[a].Dx(d,e),gameMapInstance.Od[a].info={type:c,script:{id:d+"",data:null!=e&&"undefined"!==e?e:null}}):gameMapInstance.Od[a].info={type:c}};
F.hK=function(a){gameMapInstance.Od.mapdata.mapConnectors=a;gameMapInstance.sl=a.up;gameMapInstance.pl=a.down;gameMapInstance.ql=a.left;gameMapInstance.rl=a.right};F.ZR=function(a,c,d){for(var e in gameMapInstance.v)"tile"==e.substring(0,4)&&(gameMapInstance.v[e].kk(a,c,d),gameMapInstance.Od[e][d]={texture:a,frame:c})};F.tK=function(a){for(var c in gameMapInstance.v)"tile"==c.substring(0,4)&&gameMapInstance.v[c].XW(a);SkillBarsInstance.D(!a);X.D(!a);gameMapInstance.Gg=!0};
F.jba=function(){for(var a in gameMapInstance.v)"tile"==a.substring(0,4)&&gameMapInstance.v[a].ff.ca(a.substring(4));gameMapInstance.Gg=!0};F.uI=function(){return null!=gameMapInstance.sl};F.sI=function(){return null!=gameMapInstance.pl};F.tI=function(){return null!=gameMapInstance.ql};F.vC=function(){return null!=gameMapInstance.rl};F.oe=function(){return gameMapInstance.$j};F.gI=function(){return gameMapInstance.sl};F.eI=function(){return gameMapInstance.pl};F.fI=function(){return gameMapInstance.ql};
F.iC=function(){return gameMapInstance.rl};F.Lw=function(a,c){c||(MapMaster=!1);z.e().D(!1);z.FR();F.Jd();gameMapInstance.$j=a;z.B.ha.Qp(a);z.nk();gameMapInstance.Cl(a)};F.WS=function(){z.e().D(!1);F.Jd();gameMapInstance.$j=gameMapInstance.sl;z.B.ha.Qp(gameMapInstance.sl);z.nk();gameMapInstance.Cl(gameMapInstance.sl)};F.TS=function(){z.e().D(!1);F.Jd();gameMapInstance.$j=gameMapInstance.pl;z.B.ha.Qp(gameMapInstance.pl);z.nk();gameMapInstance.Cl(gameMapInstance.pl)};
F.US=function(){z.e().D(!1);F.Jd();gameMapInstance.$j=gameMapInstance.ql;z.B.ha.Qp(gameMapInstance.ql);z.nk();gameMapInstance.Cl(gameMapInstance.ql)};F.VS=function(){z.e().D(!1);F.Jd();gameMapInstance.$j=gameMapInstance.rl;z.B.ha.Qp(gameMapInstance.rl);z.nk();gameMapInstance.Cl(gameMapInstance.rl)};F.Us=function(a){gameMapInstance.Xm=a};F.Kw=function(a,c){return a>S-1||0>a?void 0:gameMapInstance.v["tile"+(a+(Pa-c)*S)]};F.mI=function(a){return gameMapInstance.v["tile"+a]};
F.CQ=function(){var a=z.e();gameMapInstance.ZC.f(a);F.qC(z.B.ha.q.F,z.B.ha.q.J)};F.Jd=function(){gameMapInstance.Od={};for(var a in gameMapInstance.v)"tile"==a.substring(0,4)&&(gameMapInstance.v[a].Jd(),gameMapInstance.Od[a]={});gameMapInstance.Od.mapdata={};gameMapInstance.Gg=!0};var z=q.Qc.extend({B:null,Yb:[],Bf:[],ha:null});z.e=function(){return this.B};z.Ts=function(){this.B.Q();this.B=null};z.create=function(a){this.B||(this.B=new z,this.B.ha=PlayerCharacter.create(a),this.B.ha.n(960,320),this.B.f(this.B.ha));return this.B};z.tM=function(){var a=F.oe(),c=[],d;for(d in this.B.Bf)this.B.Bf[d].Jg==a&&c.push(this.B.Bf[d]);return c};z.qs=function(a){return this.B.Bf[a]};z.aU=function(a,c,d){this.B.Bf[a]&&"default"!=c&&this.B.ha.Jg==d&&this.B.Bf[a].kL(c)};
z.wV=function(a,c){this.B.Bf[a]&&"default"!=c&&this.B.Bf[a].n(q.a(c%S*32,32*Math.floor(c/S)))};z.FR=function(){for(var a in this.B.Bf)this.B.Bf[a].Q();this.B.Bf=[]};z.lH=function(a,c,d){var e=parseInt(this.B.Bf.length);this.B.Bf.push(NonPlayerCharacter.create({name:a.name,Cn:{health:{Nc:1,value:100,$f:200,Zf:900},mana:{Nc:1,value:100,$f:200,Zf:99}},map:d,ct:"sprites1.png",at:2,ml:e}));this.B.Bf[e].n(32*c.x,32*c.y);this.B.f(this.B.Bf[e])};z.z6=function(){return this.B.ha};z.di=function(a){return this.B.Yb[a]};
z.BQ=function(a){this.B.Yb[a]=PlayerCharacter.create({name:a,Cn:{health:{Nc:1,value:100,$f:200,Zf:900},mana:{Nc:1,value:100,$f:200,Zf:99}},map:1,ct:"sprites1.png",at:1});this.B.Yb[a].n(960,320);z.nk();this.B.f(this.B.Yb[a]);var c=y["Join Message"]+"",c=c.replace("\x3cPLAYER\x3e",a);C.Kb(c)};
z.FH=function(a){if(this.B.Yb[a]){this.B.Yb[a].Q();this.B.Yb[a]=null;var c=y["Leave Message"]+"",c=playerJoinString.replace("\x3cPLAYER\x3e",a);C.Kb(c);for(c=0;c<u.length;c++){var d=JSON.parse(u[c]);d.id&&d.id==a&&(u.splice(c,1),c--)}}};
z.bU=function(a,c){if(this.B.Yb[a]&&"default"!=c)this.B.Yb[a].kL(c);else{this.B.Yb[a]=PlayerCharacter.create({name:a,Cn:{health:{Nc:1,value:100,$f:200,Zf:900},mana:{Nc:1,value:100,$f:200,Zf:99}},map:1,ct:"sprites1.png",at:1});this.B.Yb[a].n(960,320);this.B.Yb[a].n(q.a(c%S*32,32*Math.floor(c/S)));z.nk();this.B.f(this.B.Yb[a]);var d=y["Join Message"]+"",d=d.replace("\x3cPLAYER\x3e",a);C.Kb(d)}};
z.rJ=function(a,c){this.B.Yb[a]&&"default"!=c?this.B.Yb[a].n(q.a(c%S*32,32*Math.floor(c/S))):(this.B.Yb[a]=PlayerCharacter.create({name:a,Cn:{health:{Nc:1,value:100,$f:200,Zf:900},mana:{Nc:1,value:100,$f:200,Zf:99}},map:1,ct:"sprites1.png",at:1}),this.B.Yb[a].n(q.a(c%S*32,32*Math.floor(c/S))),z.nk(),this.B.f(this.B.Yb[a]),C.Kb(a+H.me.FU))};z.YQ=function(a){this.B.Yb[a]&&this.B.Yb[a].updateStatus("AFK")};
z.nk=function(){var a=this.B.ha.Jg,c;for(c in this.B.Yb)null!=this.B.Yb[c]&&this.B.Yb[c].D(this.B.Yb[c].Jg==a)};z.Jd=function(){for(var a in this.B.Yb)null!=this.B.Yb[a]&&z.FH(a);this.B.ha.Q();this.B.ha=null};z.XQ=function(a,c){this.B.Yb[a].Qp(c);this.B.Yb[a].D(this.B.ha.Jg==c)};Character=q.w.extend({name:null,Cn:null,TK:null,j1:null,hf:null,Hg:!1,cn:null,Ox:null,$i:!1,ml:-1,status:null,Jg:null,path:null,cC:"DOWN",s:function(a){this.ZW(a.ct,a.at);this.Cn=new StatsController(a.Tba,this);this.f(this.Cn);this.name=a.name;a.$i&&(this.$i=a.$i);a.map&&(this.Jg=a.map);null!=a.ml&&"undefined"!==a.ml&&(console.log(this.ml),this.ml=a.ml);this.L(0,1);this.cn=q.R.create("","Arial",12);this.cn.L(0.5,0);this.cn.l(255,0,0);this.cn.n(Math.floor(this.d().width/2),this.d().width+3);this.f(this.cn);
this.cL()},X3:function(){return this.cC},Qp:function(a){this.Jg=a},v4:function(){return this.Jg},updateStatus:function(a){this.status=a&&a!=this.status?a:null;this.cL()},cL:function(){null!=this.status?this.cn.ca(this.name+"-"+this.status):this.cn.ca(this.name)},getName:function(){return this.name},Gf:function(a,c,d){this.Lb(q.rect(32*a,128*this.TK.id+32*c,32,32));this.Ox=q.a(a,c);this.cC=d},sh:function(){return this.Ox},ZW:function(a,c){this.TK={name:a,id:c};this.ka(q.sa.e().Ia(a));this.Gf(1,0)},
Yf:function(){return q.a(this.q.x/32,this.q.y/32)},mw:0.24,NX:0.24,fl:2,PX:function(a){var c=a.position%S,d=Math.floor(a.position/S);this.n(32*c,32*d);G({changemap:a.mapTo,setTo:a.position});F.Lw(a.mapTo);F.qC(32*c,32*d)},ET:function(){if(!this.Hg){var a=this.Yf(),a=F.Kw(a.x,a.y);switch(a.lc()){case 4:this.YC(a.vp())}}},JI:function(a){if(a&&!this.Hg)switch(a.lc()){case 4:this.DU(a.vp(),a);break;case 7:Na.JK(a.vp())}},DT:function(){if(!this.Hg){var a=this.Yf();switch(this.cC){case "RIGHT":a.x+=1;break;
case "LEFT":a.x-=1;break;case "UP":a.y+=1;break;case "DOWN":a.y-=1}if(a=F.Kw(a.x,a.y))switch(a.lc()){case 7:Na.JK(a.vp())}}},kt:function(a){this.mw+=a;a=this.q;var c=this.sh();this.mw>this.NX&&(this.mw=0,this.hf.x<a.x?this.Gf((c.x+1)%3,1,"LEFT"):this.hf.x>a.x?this.Gf((c.x+1)%3,2,"RIGHT"):this.hf.y<a.y?this.Gf((c.x+1)%3,0,"DOWN"):this.hf.y>a.y&&this.Gf((c.x+1)%3,3,"UP"));this.hf.x<a.x?(this.ec(a.x-this.fl),this.$i&&F.Vx(+this.fl,0)):this.hf.x>a.x?(this.ec(a.x+this.fl),this.$i&&F.Vx(-this.fl,0)):this.hf.y<
a.y?(this.nd(a.y-this.fl),this.$i&&F.Vx(0,this.fl)):this.hf.y>a.y&&(this.nd(a.y+this.fl),this.$i&&F.Vx(0,-this.fl));a.y==this.hf.y&&a.x==this.hf.x&&(this.Hg=!1,this.Ad(this.kt),null!=this.path&&this.qH())},aq:function(a,c){if(!1!=this.va){var d=F.Kw(a,c),e=this.Ox,f=this.Yf();f.x>a?this.Gf(e.x,1,"LEFT"):f.x<a&&this.Gf(e.x,2,"RIGHT");f.y>c?this.Gf(e.x,0,"DOWN"):f.y<c&&this.Gf(e.x,3,"UP");if(!d)this.$i&&null==Mapeditor&&(f.x<a&&F.vC()?(this.n(0,32*c),G({changemap:parseInt(F.iC()),setTo:0+c*S}),F.VS(),
F.rC()):f.x>a&&F.tI()&&(this.n(32*(S-1),32*c),G({changemap:parseInt(F.fI()),setTo:S-1+c*S}),F.US(),F.sC()),f.y<c&&F.uI()?(this.n(32*a,32),G({changemap:parseInt(F.gI()),setTo:a+1*S}),F.WS(),F.tC()):f.y>c&&F.sI()&&(G({changemap:parseInt(F.eI()),setTo:a+Pa*S}),F.TS(),this.n(32*a,32*Pa),F.pC()));else if(!1==this.Hg&&d){switch(d.lc()){case 1:case 7:return;case 3:this.PX(d.Ye());return}this.hf=q.a(32*a,32*c);this.Hg=!0;this.sc(this.kt);this.kt(0);this.$i?G({moveTo:this.hf.x/32+this.hf.y/32*S}):-1<this.ml&&
G({npcID:this.ml+"",mapnumber:this.Jg,moveNPC:this.hf.x/32+this.hf.y/32*S})}}},qH:function(){0==this.path.length?this.path=null:(this.path.splice(0,1),0==this.path.length?this.path=null:this.aq(this.path[0].x,this.path[0].y))},HD:function(a){if(null==this.path||0!=a.length)this.path=a,this.qH()},kL:function(a){if(!1!=this.va){var c=a%S;a=Math.floor(a/S);if(!1==this.Hg){var d=this.Ox,e=this.Yf();4<Math.abs(q.TC(q.a(c,a),e))?this.n(q.a(32*c,32*a)):(e.x>c?this.Gf(d.x,1,"LEFT"):e.x<c?this.Gf(d.x,2,"RIGHT"):
e.y>a?this.Gf(d.x,0,"DOWN"):e.y<a&&this.Gf(d.x,3,"UP"),this.hf=q.a(32*c,32*a),this.Hg=!0,this.sc(this.kt),this.kt(0))}}}});
PlayerCharacter=Character.extend({items:null,s:function(a){this._super(a);this.items={stored:[],equipped:{}}},gt:function(a,c){for(var d=0;d<this.items.stored.length;d++)this.items.stored[d].name==a&&(this.items.stored[d]=c)},YC:function(a){var c=this.Yf(),d=F.Kw(c.x,c.y);if(!0==a.stackable)for(var e=0;40>e;e++)if(this.items.stored[e]&&this.items.stored[e].name==a.name){Inventory&&(this.items.stored[e].amount+=a.amount,Inventory.An(e,this.items.stored[e].amount));C.Kb(H.me.dx+a.name);d.Jw().temp?
G({pickupitem:T(c.x,c.y),mapnumber:F.oe(),temp:!0}):G({pickupitem:T(c.x,c.y),mapnumber:F.oe()});return}for(var f=!1,e=0;40>e;e++)if(null==this.items.stored[e]){this.items.stored[e]=ua(a);Inventory&&Inventory.An(e,this.items.stored[e].amount);C.Kb(H.me.dx+a.name);d.Jw().temp?G({pickupitem:T(c.x,c.y),mapnumber:F.oe(),temp:!0}):G({pickupitem:T(c.x,c.y),mapnumber:F.oe()});f=!0;break}!1==f&&C.Kb(H.me.KI)},DU:function(a,c){var d=q.a(c.q.F/32,c.q.J/32);if(!0==a.stackable)for(var e=0;40>e;e++)if(this.items.stored[e]&&
this.items.stored[e].name==a.name){Inventory&&(this.items.stored[e].amount+=a.amount,Inventory.An(e,this.items.stored[e].amount));C.Kb(H.me.dx+a.name);c.Jw().temp?G({pickupitem:T(d.x,d.y),mapnumber:F.oe(),temp:!0}):G({pickupitem:T(d.x,d.y),mapnumber:F.oe()});return}for(var f=!1,e=0;40>e;e++)if(null==this.items.stored[e]){this.items.stored[e]=ua(a);Inventory&&Inventory.An(e,this.items.stored[e].amount);C.Kb(H.me.dx+a.name);c.Jw().temp?G({pickupitem:T(d.x,d.y),mapnumber:F.oe(),temp:!0}):G({pickupitem:T(d.x,
d.y),mapnumber:F.oe()});f=!0;break}!1==f&&C.Kb(H.me.KI)},OH:function(a,c){var d=this.Yf();C.Kb(H.me.RR+this.items[c][a].name);G({droppeditem:this.items[c][a],mapnumber:F.oe(),index:T(d.x,d.y)});!0==this.items[c][a].stackable&&1<this.items[c][a].amount&&Inventory.An(a,0);this.items[c][a]=null;Inventory&&Inventory.Hf();Equipment&&Equipment.Hf()},LX:function(a){switch(this.items.stored[a].itemType){case "book":Na.lX(this.items.stored[a]);break;case "wearable":this.XR(a)}},XR:function(a){var c=null;this.items.equipped[this.items.stored[a].subType]&&
(c=ua(this.items.equipped[this.items.stored[a].subType]));this.items.equipped[this.items.stored[a].subType]=ua(this.items.stored[a]);this.items.stored[a]=c;Inventory&&Inventory.Hf();Equipment&&Equipment.Hf()},CR:function(a){for(var c=0;40>c;c++)if(null==this.items.stored[c]){this.items.stored[c]=ua(this.items.equipped[a]);this.items.equipped[a]=null;Inventory&&Inventory.Hf();Equipment&&Equipment.Hf();return}C.Kb("No space in inventory to dequip this item.")},Vm:function(){return this.items.stored},
os:function(){return this.items.equipped}});PlayerCharacter.create=function(a){var c=new PlayerCharacter;c.s(a);return c};NonPlayerCharacter=Character.extend({q8:null,ex:!1,PW:function(a,c){this.ex=!0;this.zc(function(){this.aq(a.x,a.y);this.ex=!1},c)},B7:function(){return this.ex}});NonPlayerCharacter.create=function(a){var c=new NonPlayerCharacter;c.s(a);return c};var Qa=q.Qc.extend({pD:null,b:null,ctor:function(){this._super()},lL:function(){},yn:function(){},ii:function(){},xa:function(){this.b&&this.b.Q();this.b=Ha(this);this.f(this.b)},Pa:function(){},s:function(){this.ED(1);this.vx(!0);this.Tb(!0);x.wn(this);this._super()},RC:function(){q.log("Override onKeyDown in scene extended class to use keyboard")},ul:function(){q.log("Override onKeyUp in scene extended class to use keyboard")},rW:function(a){this.pD=a},Lc:function(){return this.pD}});DropDownList=Qa.extend({list:null,sR:null,selected:null,b:null,m:null,DH:null,tJ:null,$s:null,ctor:function(){this._super();this.list=[];this.sR=0},s:function(a,c,d,e){this._super();a&&(this.m=a,this.DH=c,d&&(this.list=d),e&&this.n(e),this.tJ=x.dS(),x.wn(this),this.Vp(-1001),this.vx(!0))},jb:function(a){for(var c=this.b.control_menu.Ba(a.K),d=0;d<this.list.length;d++)this.$s&&!0!=this.$s[d].enabled||q.rb(q.rect(this.b.control_menu[d+""].q.F,this.b.control_menu[d+""].q.J,this.b.control_menu[d+""].d().width,
this.b.control_menu[d+""].d().height),c)&&this.DH(d,a);this.PU();return!0},PU:function(){x.wn(this.tJ);this.Q();Ma()},xV:function(){this.nd(this.q.J-24*this.list.length);for(var a=0,c=0;c<this.list.length;c++)this.b.control_menu[c+""].content.d().width>a&&(a=this.b.control_menu[c+""].content.d().width);for(c=0;c<this.list.length;c++)this.b.control_menu[c+""].uH(a+8);this.b.control_menu.uH(a+8)},Mc:function(){for(var a={},c=0;c<this.list.length;c++)a[c+""]={position:q.a(0,24*(this.list.length-1)-24*
c),size:q.size(96,24),c:q.a(0,0),u:q.i(200,200,200,200),children:{content:{label:this.list[c],fontSize:20,color:q.k(0,0,0),c:q.a(0,0.5),position:q.a(4,12)}}};return{panels:{children:{control_menu:{position:q.a(0,0),u:q.i(200,200,200,0),size:q.size(96,48),children:a}}}}},ii:function(a){a=this.b.control_menu.Ba(a.K);for(var c=0;c<this.list.length;c++)this.b.control_menu[c+""].l(q.i(200,200,200,200)),this.$s&&!0!=this.$s[c].enabled||q.rb(q.rect(this.b.control_menu[c+""].q.F,this.b.control_menu[c+""].q.J,
this.b.control_menu[c+""].d().width,this.b.control_menu[c+""].d().height),a)&&this.b.control_menu[c+""].l(q.i(255,0,0,255))}});DropDownList.fe=function(a,c,d,e,f){var g=new DropDownList;g.s(a,c,d,e);g.b=Ha(g.Mc(),!0);if(f){for(a=0;a<g.list.length;a++)!1==f[a].enabled&&g.b.control_menu[a+""].content.l(q.i(127,127,127,200));g.$s=f}g.f(g.b);g.xV();return g};Popup=Qa.extend({xd:null,zf:!1,s:function(){this.pD=this.Lc();this._super();x.wn(this);this.jX();this.Vp(-50)},D2:function(){this.Q()},jb:function(a){var c=a.K;x.wn(this);c=this.b.control_panel.Ba(c);if(q.rb(q.rect(this.b.control_panel.exitBtn.q.F,this.b.control_panel.exitBtn.q.J,this.b.control_panel.exitBtn.d().width,this.b.control_panel.exitBtn.d().height),c)){var d=this;this.X.zc(function(){!1==d.zf&&d.Pa();d.Q();d=null});return!0}return q.rb(q.rect(this.b.q.x,this.b.q.y+this.b.control_panel.q.y,
this.b.control_panel.d().width,this.b.control_panel.d().height),a.K)?(this.xd=this.b.Yh(a),!0):!1},md:function(a){return this.xd?(a=a.K,this.b.n(q.a(a.x-this.xd.x,a.y-this.xd.y)),!0):!1},Q:function(){v.KW(this.Lc(),this.b.q);this._super()},jX:function(){q.log("Ovveride setupPopup")},Lc:function(){q.log("No id given... using default 'Popup'");return"Popup"},Cf:function(){},xa:function(){this._super();var a=v.yS();if("null"!=a&&null!=a&&(a=JSON.parse(a)[this.Lc()])){a=q.a(a.x,a.y);if(a.x>W.width-10||
a.y>W.height)a=q.a(8,100);this.b.n(a)}}});Book=null;
BookPanel=Popup.extend({data:null,$e:null,Lc:function(){return"Book"},Mc:function(){return{panels:{position:q.a(100,20),children:{main_panel:{c:q.a(0,0),position:q.a(0,0),size:q.size(514,313),$:"GUI/book.png",children:{pageBackbtn:{position:q.a(2,1),size:q.size(36,36),$:"GUI/btnLeft.png",c:q.a(0,0)},pageForwardbtn:{position:q.a(475,1),size:q.size(36,36),$:"GUI/btnRight.png",c:q.a(0,0)},leftPage:{label:0<this.$e.length?this.$e[0]:this.$e,c:q.a(0,1),position:q.a(4,308),color:q.k(0,0,0)},rightPage:{label:0<this.$e.length?
this.$e[1]:"",c:q.a(0,1),position:q.a(260,308),color:q.k(0,0,0)}}},control_panel:{c:q.a(0,0),position:q.a(0,313),size:q.size(514,32),children:{header:{label:this.data.name,fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(490,6),size:q.size(20,20),c:q.a(0,0),$:"GUI/close.png"}}}}}}},s:function(a){this._super();this.data=a;this.$e=[];for(a=a.additionalData.Contents;a;)if(470>a.length){this.$e.push(a);break}else this.$e.push(a.substr(0,470)+"..."),a=a.substr(470);this.zU=Math.floor(this.$e.length/
2)-1;this.Si=0},xa:function(){this._super();this.b.main_panel.leftPage.Oc(q.size(248,0));this.b.main_panel.rightPage.Oc(q.size(248,0));this.b.main_panel.pageBackbtn.D(!1);2>this.$e.length&&this.b.main_panel.pageForwardbtn.D(!1)},XS:function(){this.Si++;this.b.main_panel.pageBackbtn.D(!0);this.Si==this.zU&&this.b.main_panel.pageForwardbtn.D(!1);this.b.main_panel.leftPage.ca(this.$e[2*this.Si]);this.$e[2*this.Si+1]?this.b.main_panel.rightPage.ca(this.$e[2*this.Si+1]):this.b.main_panel.rightPage.ca("")},
YS:function(){this.Si--;this.b.main_panel.pageForwardbtn.D(!0);0==this.Si&&this.b.main_panel.pageBackbtn.D(!1);this.b.main_panel.leftPage.ca(this.$e[2*this.Si]);this.$e[2*this.Si+1]&&this.b.main_panel.rightPage.ca(this.$e[2*this.Si+1])},jb:function(a){if(this._super(a))return!0;this.xd=null;a=this.b.main_panel.Ba(a.K);if(O(this.b.main_panel.pageForwardbtn,a))return this.XS(),!0;if(O(this.b.main_panel.pageBackbtn,a))return this.YS(),!0}});Equipment=null;
EquipmentPanel=Popup.extend({Lc:function(){return"Equipment"},Mc:function(){var a={};a.head={$:"GUI/defaultitem.png",position:q.a(88,162),size:q.size(32,32),c:q.a(0,1)};a.legs={$:"GUI/defaultitem.png",position:q.a(88,82),size:q.size(32,32),c:q.a(0,1)};a.feet={$:"GUI/defaultitem.png",position:q.a(88,40),size:q.size(32,32),c:q.a(0,1)};a.body={$:"GUI/defaultitem.png",position:q.a(88,122),size:q.size(32,32),c:q.a(0,1)};a.larm={$:"GUI/defaultitem.png",position:q.a(48,122),size:q.size(32,32),c:q.a(0,1)};
a.rarm={$:"GUI/defaultitem.png",position:q.a(128,122),size:q.size(32,32),c:q.a(0,1)};a.mod={$:"GUI/defaultitem.png",position:q.a(8,162),size:q.size(32,32),c:q.a(0,1)};return{panels:{position:q.a(100,300),children:{main_panel:{c:q.a(0,0),size:q.size(168,168),$:"GUI/equipment.png",children:a},control_panel:{c:q.a(0,0),position:q.a(0,168),size:q.size(168,32),children:{header:{label:y["Equipment Header"],fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(144,6),size:q.size(20,20),c:q.a(0,
0),$:"GUI/close.png"}}},item_name:{position:q.a(0,0),u:q.i(200,200,200,200),size:q.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:q.k(0,0,0),c:q.a(0.5,0.5),position:q.a(32,8)}}}}}}},Hf:function(){var a=z.B.ha.os();this.b.main_panel.head.ka(q.sa.e().Ia("GUI/defaultitem.png"));this.b.main_panel.body.ka(q.sa.e().Ia("GUI/defaultitem.png"));this.b.main_panel.legs.ka(q.sa.e().Ia("GUI/defaultitem.png"));this.b.main_panel.feet.ka(q.sa.e().Ia("GUI/defaultitem.png"));this.b.main_panel.larm.ka(q.sa.e().Ia("GUI/defaultitem.png"));
this.b.main_panel.rarm.ka(q.sa.e().Ia("GUI/defaultitem.png"));this.b.main_panel.mod.ka(q.sa.e().Ia("GUI/defaultitem.png"));for(var c in a)if(a[c]){for(var d in I)if(I[d].name==a[c].sprite.texture)var e=I[d].texture;this.b.main_panel[a[c].subType].L(0,1);this.b.main_panel[a[c].subType].ka(e);this.b.main_panel[a[c].subType].Lb(q.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,32,32))}},LC:function(a){switch(a){case 0:z.B.ha.CR(this.m.ek);break;case 1:z.B.ha.OH(this.m.ek,"equipped")}},jb:function(a){if(this._super(a))return!0;
this.xd=null;var c=this.b.main_panel.Ba(a.K),d=z.B.ha.os(),e;for(e in d)if(d[e]&&O(this.b.main_panel[d[e].subType],q.a(c.x,c.y+32)))return this.ek=e,this.b.item_name.D(!1),c=y["Item Dropdown Unequip"]+"",c=c.replace("\x3cITEM\x3e",z.B.ha.os()[e].name),d=y["Item Dropdown Drop"]+"",d=d.replace("\x3cITEM\x3e",z.B.ha.os()[e].name),this.f(DropDownList.fe(this,this.LC,[c,d],a.K)),!0},ii:function(a){a=this.b.main_panel.Ba(a.K);this.b.item_name.D(!1);var c=z.B.ha.os(),d;for(d in c)if(c[d]&&O(this.b.main_panel[c[d].subType],
q.a(a.x,a.y+32)))return this.b.item_name.content.ca(c[d].name),this.b.item_name.D(!0),this.b.item_name.T(this.b.item_name.content.d()),this.b.item_name.content.ec(this.b.item_name.content.d().width/2),this.b.item_name.n(q.a(this.b.main_panel[c[d].subType].q.F-this.b.item_name.content.d().width/2+16,this.b.main_panel[c[d].subType].q.J)),!0},xa:function(){this._super();this.Hf()}});Inventory=null;
InventoryPanel=Popup.extend({ek:null,Lc:function(){return"Inventory"},Mc:function(){for(var a={},c=0;5>c;c++)for(var d=0;8>d;d++)a[5*d+c+""]={size:q.size(32,32),position:q.a(40*c+8,40*(7-d)+40),$:"GUI/defaultitem.png",c:q.a(0,1),children:{stacklabelbg:{position:q.a(1,1),size:q.size(10,6),c:q.a(0,0),u:q.i(255,255,255,200),children:{stacklabel:{label:"",fontSize:10,color:q.k(0,0,0),c:q.a(0,0),position:q.a(0,0)}}}}};return{panels:{position:q.a(300,200),children:{main_panel:{c:q.a(0,0),$:"GUI/inventory.png",
size:q.size(208,328),children:a},control_panel:{c:q.a(0,0),position:q.a(0,328),size:q.size(208,32),children:{header:{label:y["Inventory Header"],fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(184,6),size:q.size(20,20),c:q.a(0,0),$:"GUI/close.png"}}},item_name:{position:q.a(0,0),u:q.i(200,200,200,200),size:q.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:q.k(0,0,0),c:q.a(0.5,0.5),position:q.a(32,8)}}}}}}},An:function(a,c){this.b.main_panel[a+""].stacklabelbg.D(!1);
1<c&&(this.b.main_panel[a+""].stacklabelbg.D(!0),this.b.main_panel[a+""].stacklabelbg.stacklabel.ca(c),this.b.main_panel[a+""].stacklabelbg.T(this.b.main_panel[a+""].stacklabelbg.stacklabel.d()))},Hf:function(){for(var a=z.B.ha.Vm(),c=0;40>c;c++)if(a[c]){for(var d in I)if(I[d].name==a[c].sprite.texture)var e=I[d].texture;this.b.main_panel[c+""].L(0,1);this.b.main_panel[c+""].ka(e);this.b.main_panel[c+""].Lb(q.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,32,32));this.An(c,a[c].amount)}else this.b.main_panel[c+
""].ka(q.sa.e().Ia("GUI/defaultitem.png")),this.An(c,0)},xa:function(){this._super();this.Hf()},LC:function(a){switch(a){case 0:z.B.ha.LX(this.m.ek);break;case 1:z.B.ha.OH(this.m.ek,"stored")}},jb:function(a){if(this._super(a))return!0;this.xd=null;for(var c=this.b.main_panel.Ba(a.K),d=0;40>d;d++)if(z.B.ha.Vm()[d]&&O(this.b.main_panel[d+""],q.a(c.x,c.y+32))){c=c=y["Item Dropdown Use"]+"";switch(z.B.ha.Vm()[d].itemType){case "wearable":c=y["Item Dropdown Equip"]+"";break;case "consumable":c=y["Item Dropdown Eat"]+
"";break;case "book":c=y["Item Dropdown Read"]+""}var c=c.replace("\x3cITEM\x3e",z.B.ha.Vm()[d].name),e=y["Item Dropdown Drop"]+"",e=e.replace("\x3cITEM\x3e",z.B.ha.Vm()[d].name);this.ek=d;this.b.item_name.D(!1);this.f(DropDownList.fe(this,this.LC,[c,e],a.K));return!0}},ii:function(a){a=this.b.main_panel.Ba(a.K);for(var c=0;40>c;c++)if(z.B.ha.Vm()[c]&&O(this.b.main_panel[c+""],q.a(a.x,a.y+32)))return this.b.item_name.content.ca(z.B.ha.Vm()[c].name),this.b.item_name.D(!0),this.b.item_name.T(this.b.item_name.content.d()),
this.b.item_name.content.ec(this.b.item_name.content.d().width/2),this.b.item_name.n(q.a(this.b.main_panel[c+""].q.F-this.b.item_name.content.d().width/2+16,this.b.main_panel[c+""].q.J)),!0}});Sign=null;
SignPanel=Popup.extend({data:null,Lc:function(){return"Sign"},Mc:function(){return{panels:{position:q.a(100,300),children:{control_panel:{c:q.a(0,0),size:q.size(128,96),$:"GUI/signpost.png",children:{content:{label:this.data.label,fontSize:12,color:q.k(255,255,255),c:q.a(0,1),position:q.a(4,94)},exitBtn:{position:q.a(100,6),size:q.size(20,20),c:q.a(0,0),$:"GUI/close.png"}}}}}}},s:function(a){this._super();this.data=a},xa:function(){this._super();this.b.control_panel.content.Oc(q.size(120,0))}});Skills=null;
SkillsPanel=Popup.extend({Lc:function(){return"Skills"},Mc:function(){for(var a={},c=ObjectLists.jl(),d=0;d<c.length;d++)a[d+""]={c:q.a(0,0),position:q.a(0,40*c.length-40*(d+1)+2),children:{icon:{position:q.a(4,2),Vw:!0,c:q.a(0,0)},name:{position:q.a(46,18),size:q.size(120,32),label:c[d].name,fontSize:16,color:q.k(255,255,255),c:q.a(0,0.5)},level:{position:q.a(210,18),size:q.size(86,32),c:q.a(0.5,0.5),label:"Level",fontSize:16,color:q.k(255,255,255)}}};return{panels:{position:q.a(100,300),children:{main_panel:{c:q.a(0,
0),size:q.size(256,40*c.length),$:"GUI/skills.png",children:a},control_panel:{c:q.a(0,0),position:q.a(0,40*c.length),size:q.size(256,32),children:{header:{label:y["Skills Header"],fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(232,6),size:q.size(20,20),c:q.a(0,0),$:"GUI/close.png"}}},item_name:{position:q.a(0,0),u:q.i(200,200,200,200),size:q.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:q.k(0,0,0),c:q.a(0.5,0.5),position:q.a(32,8)}}},control_menu:{position:q.a(0,
0),u:q.i(200,200,200,200),size:q.size(96,48),visible:!1,children:{dropbtn:{position:q.a(0,0),size:q.size(96,24),c:q.a(0,0),u:q.i(200,200,200,200),children:{content:{label:"Drop",fontSize:20,color:q.k(0,0,0),c:q.a(0,0.5),position:q.a(4,12)}}},unequipbtn:{position:q.a(0,24),size:q.size(96,24),c:q.a(0,0),u:q.i(200,200,200,200),children:{content:{label:"Unequip",fontSize:20,color:q.k(0,0,0),c:q.a(0,0.5),position:q.a(4,12)}}}}}}}}},Hf:function(){console.log("Updating tile grid");for(var a=ObjectLists.jl(),
c=0;c<a.length;c++)this.b.main_panel[c+""].icon.ka(null);for(c=0;c<a.length;c++)if(a[c]){for(var d in I)if(I[d].name==a[c].sprite.texture)var e=I[d].texture;this.b.main_panel[c+""].icon.ka(e);this.b.main_panel[c+""].icon.Lb(q.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,32,32))}},xa:function(){this._super();this.Hf()}});
var za=q.Qc.extend({nw:[],ZK:function(){var a=ObjectLists.jl(),c;for(c in this.nw)this.nw[c].Q();this.nw=[];var d=0;for(c=a.length-1;0<=c;c--)if(null!=a[c].healthbar&&""!=a[c].healthbar){var e=this.rR(a[c].name,a[c].healthbar,d);this.f(e);this.nw.push(e);d++}this.n(q.a(0,W.height-32*d))},rR:function(a,c,d){var e=255;c=c.replace("#","");8==c.length&&(e=c.substr(6,8));e=q.da.create(q.i(parseInt(c.substring(0,2),16),parseInt(c.substring(2,4),16),parseInt(c.substring(4,6),16),parseInt(e,16)),300,23);
e.MB=q.w.fb(q.sa.e().Ia("GUI/healthbar.png"));e.n(10,32*d- -5*d-10);e.L(q.a(0,0));e.MB.n(-5,-4);e.MB.L(q.a(0,0));e.f(e.MB);a=q.R.create(a,"Arial",16);a.n(10,11.5);a.L(q.a(0,0.5));e.f(a);return e}});SkillBarsInstance=null;za.create=function(){null==SkillBarsInstance&&(SkillBarsInstance=new za,SkillBarsInstance.ZK());return SkillBarsInstance};za.update=function(){SkillBarsInstance.ZK()};Scripteditor=null;
ScriptEditor=Popup.extend({data:null,W:null,gb:null,bj:null,af:null,bf:null,e2:null,m:null,Na:null,KK:null,BH:null,Ga:null,h:null,Xp:null,dj:function(a){G({savescripts:a+"",scriptsdata:this.data})},Ti:function(a,c){G({savescriptswhole:c})},Lc:function(){return"Scripts"},Pa:function(a){this._super();if(this.m){var c=this.m;!0!=a&&this.m.zc(function(){c.Yc(null)})}},s:function(a){this._super();this.data={data:[],name:null};this.Na=null;a.data&&(this.data=a.data);this.m=a.m},xa:function(){this._super();this.Na=
new $(this.b.main_panel.nameEntry,q.size(this.b.main_panel.nameEntry.d().width,this.b.main_panel.nameEntry.d().height),q.a(0,this.b.main_panel.nameEntry.d().height),this.data.name,q.i(255,255,255),q.k(0,0,0));this.Na.sb(!0);this.Zb()},Zb:function(){this.W&&this.W.rc();for(var a in this.af)this.af[a].rc(),this.af[a].Q();for(a in this.bf)this.bf[a].rc(),this.bf[a].Q();var c=[],d=[],e=[],f=[],g=[],h=[],k=q.sa.e();this.af=[];this.bf=[];for(a=0;a<this.data.data.length;a++){g[a]=[];h[a]=[];d[a]=[];e[a]=
[];c[a]=q.C.create();c[a].T(758,100);var l=q.da.create(q.i(0,0,0,127),750,1);l.n(q.a(4,0));var m=q.da.create(q.i(0,0,0,127),1,92);m.n(q.a(152,4));var n=q.da.create(q.i(0,0,0,127),1,92);n.n(q.a(451,4));var r=this.data.data[a].type;"On Event End"==r&&(r+=" ("+this.data.data[a].data.attachedEvent+":"+this.data.data[this.data.data[a].data.attachedEvent].type+")");r=q.R.create(a+": "+r,"Arial",15);r.l(q.k(0,0,0));r.L(q.a(0,1));r.n(q.a(4,96));r.Oc(q.size(100,0));var p=q.da.create(q.i(0,255,0,60),259,100);
p.T(q.size(259,100));p.ec(451);p.L(q.a(0,0));c[a].f(p);var t=q.da.create(q.i(0,255,0,60),259,100);t.T(q.size(259,100));t.ec(152);t.L(q.a(0,0));c[a].f(t);var w=q.w.fb(k.Ia("GUI/trash.png"));w.n(q.a(120,4));w.L(q.a(0,0));w.pc="Delete";c[a].f(w);var A=q.w.fb(k.Ia("GUI/edit.png"));A.n(q.a(96,4));A.L(q.a(0,0));A.pc="Edit";c[a].f(A);f.push([w,A]);for(w=0;w<this.data.data[a].responses.length;w++){d[a].push(q.C.create());d[a][w].T(259,32);var A=!0,D=q.R.create(w+1+": "+this.data.data[a].responses[w].type,
"Arial",15);D.l(q.k(0,0,0));D.L(q.a(0,0));D.n(q.a(4,4));D.Oc(q.size(180,0));d[a][w].T(259,D.d().height+8);d[a][w].f(D);D=q.w.fb(k.Ia("GUI/trash.png"));D.n(q.a(229,0));D.L(q.a(0,0));D.pc="Delete";d[a][w].f(D);switch(this.data.data[a].responses[w].type){case "Destroy":case "Attack":case "Run Away":A=!1}A?(A=q.w.fb(k.Ia("GUI/edit.png")),A.n(q.a(205,0)),A.L(q.a(0,0)),A.pc="Edit",d[a][w].f(A),g[a].push([D,A])):g[a].push([D])}w=q.da.create(q.i(70,200,70,255),90,26);A=q.R.create("+","Arial",20);A.n(45,13);
A.L(q.a(0.5,0.5));w.n(q.a(84.5,0));w.pc="Add";w.f(A);g[a].push([w]);d[a].push(w);this.bf[a]=t;this.bf[a].identifier=a;var B=this;this.bf[a].ne=function(){for(var a=0,c=0;c<d[this.identifier].length;c++)a+=d[this.identifier][c].d().height;return q.size(259,a)};this.bf[a].Kd=function(){return d[this.identifier].length};this.bf[a].Ze=function(a){return d[this.identifier][a].d()};this.bf[a].Xe=function(a){return d[this.identifier][a]};this.bf[a].yc=function(a,c,d){B.Ba(d.K);if(null==B.h)switch(a){case "Delete":B.X.f(DropDownList.fe(B,
B.BR,["Cancel","Delete"],d.K));B.gb=c;B.bj=this.identifier;break;case "Edit":B.PH(this.identifier,"responses",c);break;case "Add":a="Talk;Give Talk Options;Destroy;Give/ Take Item;Set Quest Point;Warp Player;Wait;Repeat Responses;Open/Close Panel;Modify Player Stats".split(";");c=[{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0}];for(var e=0;e<B.data.data[this.identifier].responses.length;e++)"Repeat Responses"==B.data.data[this.identifier].responses[e].type&&
(c[7].enabled=!1);switch(B.data.specifier){case "NPC":a.push("Attack","Run Away","Defend","Modify NPC Stats");c.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0});break;case "Item":a.push("Equip Item","Read Item");c.push({enabled:!0},{enabled:!0});break;case "Tile":a.push("Block Entry","Add Layer Graphic"),c.push({enabled:!0},{enabled:!0})}B.X.f(DropDownList.fe(B,B.EQ,a,d.K,c));B.bj=this.identifier;break;case "Use":B.m.Zs(c,B.Kc[c])}};this.bf[a].ma=ListView.create(this.bf[a]);this.bf[a].ma.df(g[a]);
this.bf[a].f(this.bf[a].ma);for(w=0;w<this.data.data[a].requirements.length;w++)e[a].push(q.C.create()),e[a][w].T(259,32),t=q.R.create(w+1+": "+this.data.data[a].requirements[w].type,"Arial",15),t.l(q.k(0,0,0)),t.L(q.a(0,0)),t.n(q.a(4,4)),t.Oc(q.size(180,0)),e[a][w].T(259,t.d().height+8),e[a][w].f(t),D=q.w.fb(k.Ia("GUI/trash.png")),D.n(q.a(229,0)),D.L(q.a(0,0)),D.pc="Delete",e[a][w].f(D),A=q.w.fb(k.Ia("GUI/edit.png")),A.n(q.a(205,0)),A.L(q.a(0,0)),A.pc="Edit",e[a][w].f(A),h[a].push([D,A]);t=q.da.create(q.i(70,
200,70,255),90,26);w=q.R.create("+","Arial",20);w.n(45,13);w.L(q.a(0.5,0.5));t.n(q.a(84.5,0));t.pc="Add";t.f(w);h[a].push([t]);e[a].push(t);this.af[a]=p;this.af[a].identifier=a;B=this;this.af[a].ne=function(){for(var a=0,c=0;c<e[this.identifier].length;c++)a+=e[this.identifier][c].d().height;return q.size(259,a)};this.af[a].Kd=function(){return e[this.identifier].length};this.af[a].Ze=function(a){return e[this.identifier][a].d()};this.af[a].Xe=function(a){return e[this.identifier][a]};this.af[a].yc=
function(a,c,d){B.Ba(d.K);if(null==B.h)switch(a){case "Delete":B.X.f(DropDownList.fe(B,B.AR,["Cancel","Delete"],d.K));B.gb=c;B.bj=this.identifier;break;case "Edit":B.PH(this.identifier,"requirements",c);break;case "Add":a=["Has Player Item","Is Player Statistics","Is Quest Point","Is Panel Visibility","Is Player Inventory Space"];switch(B.data.specifier){case "Tile":a.push("Is Event Fired By");break;case "NPC":a.push("Is NPC Statistics","Is NPC Actioning")}B.X.f(DropDownList.fe(B,B.DQ,a,d.K));B.bj=
this.identifier;break;case "Use":B.m.Zs(c,B.Kc[c])}};this.af[a].ma=ListView.create(this.af[a]);this.af[a].ma.df(h[a]);this.af[a].f(this.af[a].ma);c[a].f(r);c[a].f(l);c[a].f(m);c[a].f(n)}a=q.da.create(q.i(70,200,70,255),90,26);g=q.R.create("+","Arial",20);g.n(45,13);g.L(q.a(0.5,0.5));a.n(q.a(334,0));a.pc="Add";a.f(g);f.push([a]);c.push(a);this.W=this.b.main_panel.list;B=this;this.W.ne=function(){for(var a=0,d=0;d<c.length;d++)a+=c[d].d().height;return q.size(758,a)};this.W.Kd=function(){return c.length};
this.W.Ze=function(a){return c[a].d()};this.W.Xe=function(a){return c[a]};this.W.yc=function(a,c,d){B.Ba(d.K);if(null==B.h)switch(a){case "Delete":a="Delete";B.dT(c)&&(a="Delete (Will destroy all child events)");B.X.f(DropDownList.fe(B,B.zR,["Cancel",a],d.K));B.gb=c;break;case "Add":a=["Default Interaction","On Event End","On Examine","On Talk Option Selected"];var e=[{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!1}];0==B.data.data.length&&(e[1].enabled=!1);B.YR()&&(e[3].enabled=!0);switch(B.data.specifier){case "Item":a.push("On Pickup",
"On Drop","On Dequip","On Trade");e.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0});break;case "Tile":a.push("Interact On","Interact Facing","Will Enter","On Enter","Will Leave","On Leave","On Come Near"),e.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0}),e[0].enabled=!1}B.X.f(DropDownList.fe(B,B.zQ,a,d.K,e));B.gb=c;break;case "Use":B.m.Zs(c,B.Kc[c])}};this.W.ma=ListView.create(this.W);this.W.ma.df(f);this.W.f(this.W.ma)},EH:function(a){for(var c=
0;c<this.data.data.length;c++)"On Event End"==this.data.data[c].type&&this.data.data[c].data.attachedEvent==a&&(this.EH(c),this.data.data.splice(c,1))},dT:function(a){for(var c=0;c<this.data.data.length;c++)if("On Event End"==this.data.data[c].type&&this.data.data[c].data.attachedEvent==a)return!0;return!1},YR:function(){for(var a=0;a<this.data.data.length;a++)for(var c=0;c<this.data.data[a].responses.length;c++)if("Give Talk Options"==this.data.data[a].responses[c].type)return!0;return!1},zR:function(a){switch(a){case 1:null!=
this.m.gb&&(this.m.EH(this.m.gb),this.m.data.data.splice(this.m.gb,1),this.m.Zb(),this.m.gb=null)}},BR:function(a){switch(a){case 1:null!=this.m.gb&&(this.m.data.data[this.m.bj].responses.splice(this.m.gb,1),this.m.Zb(),this.m.gb=null,this.m.bj=null)}},AR:function(a){switch(a){case 1:null!=this.m.gb&&(this.m.data.data[this.m.bj].requirements.splice(this.m.gb,1),this.m.Zb(),this.m.gb=null,this.m.bj=null)}},yQ:function(a){this.m.data.data.push({type:"On Event End",responses:[],requirements:[],data:{attachedEvent:a}});
this.m.Zb()},zQ:function(a,c){var d="";switch(a){case 0:d="Default Event";break;case 1:for(var d=[],e=0;e<this.m.data.data.length;e++)d.push(e+": "+this.m.data.data[e].type);this.X.f(DropDownList.fe(this.m,this.m.yQ,d,c.K));return;case 2:d="On Examine";break;case 3:d="On Talk Option Selected"}if(""==d)switch(this.m.data.specifier){case "Item":switch(a){case 4:d="On Pickup";break;case 5:d="On Drop";break;case 6:d="On Dequip";break;case 7:d="On Trade"}break;case "Tile":switch(a){case 4:d="Interact On";
break;case 5:d="Interact Facing";break;case 6:d="Will Enter";break;case 7:d="On Enter";break;case 8:d="Will Leave";break;case 9:d="On Leave";break;case 10:d="On Come Near"}}this.m.data.data.push({type:d,responses:[],requirements:[],data:{}});this.m.Zb()},EQ:function(a){var c="";switch(a){case 0:c="Talk";break;case 1:c="Give Talk Options";break;case 2:c="Destroy";break;case 3:c="Give /Take Item";break;case 4:c="Set Quest Point";break;case 5:c="Warp Player";break;case 6:c="Wait";break;case 7:c="Repeat Responses";
break;case 8:c="Open/Close Panel";break;case 9:c="Modify Player Stats"}if(""==c)switch(this.m.data.specifier){case "NPC":switch(a){case 10:c="Attack";break;case 11:c="Run Away";break;case 12:c="Defend";break;case 13:c="Modify NPC Stats"}break;case "Item":switch(a){case 10:c="Equip Item";break;case 11:c="Read Item"}break;case "Tile":switch(a){case 10:c="Block Entry";break;case 11:c="Add Layer Graphic"}}this.m.data.data[this.m.bj].responses.push({type:c,data:{}});this.m.Zb()},DQ:function(a){var c="";
switch(a){case 0:c="Has Player Item";break;case 1:c="Is Player Statistics";break;case 2:c="Is Quest Point";break;case 3:c="Is Panel Visbility";break;case 4:c="Is Player Inventory Space"}if(""==c)switch(this.m.data.specifier){case "Tile":switch(a){case 5:c="Is Event Fired By"}break;case "NPC":switch(a){case 5:c="Is NPC Statistics";break;case 6:c="Is NPC Actioning"}}this.m.data.data[this.m.bj].requirements.push({type:c,data:{}});this.m.Zb()},Mc:function(){return{panels:{position:q.a(0,60),children:{background_image:{$:"GUI/event_panel.png",
c:q.a(0,0)},main_panel:{c:q.a(0,0),size:q.size(1E3,400),children:{list:{size:q.size(758,360),u:q.i(0,200,200,200),position:q.a(0,0),c:q.a(0,0)},okbtn:{position:q.a(4,364),size:q.size(32,32),$:"GUI/tick_icon.png",c:q.a(0,0)},cancelbtn:{position:q.a(46,364),size:q.size(32,32),$:"GUI/cross_icon.png",c:q.a(0,0)},defaultsbtn:{position:q.a(542,364),size:q.size(64,32),u:q.i(0,255,0,255),c:q.a(0,0),children:{contents:{label:"Defaults",position:q.a(32,16),c:q.a(0.5,0.5),color:q.k(0,0,0)}}},specifier:{position:q.a(620,
364),size:q.size(128,32),u:q.i(0,255,0,255),c:q.a(0,0),children:{contents:{label:"Includes: None",position:q.a(64,16),c:q.a(0.5,0.5),color:q.k(0,0,0)}}},namelbl:{label:"Name:",fontSize:20,c:q.a(0,0),position:q.a(110,368),color:q.k(0,0,0)},nameEntry:{position:q.a(180,364),size:q.size(340,32),u:q.i(255,255,255,255)}}},control_panel:{c:q.a(0,0),position:q.a(0,400),size:q.size(1E3,32),children:{header:{label:"Script Editor",fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(976,6),size:q.size(20,
20),c:q.a(0,0),$:"GUI/close.png"}}},subEditorOver:{visible:!1,u:q.i(0,0,0,127),position:q.a(0,0),size:q.size(800,400)},mainEditorOver:{u:q.i(0,0,0,127),position:q.a(800,0),size:q.size(200,400)}}}}},PH:function(a,c,d){this.Ga={event:a,listtype:c,id:d};this.Xp=this.data.data[a][c][d].type;this.nX()},q$:function(a){this.data.data[this.Ga.event][this.Ga.listtype][this.Ga.id].data=ua(a);this.Mw();this.Ga=null;this.Zb()},p$:function(){this.Mw();this.Ga=null},defaultSelected:function(a,c){0<this.m.data.data.length?
(this.m.BH=a,this.X.f(DropDownList.fe(this.m,this.m.DR,["Cancel","Clear Script (Required)"],c.K))):this.m.XJ(a)},m2:function(){},YD:null,ZD:null,$D:null,sx:null,xJ:null,fJ:null,aj:null,ek:null,Jx:null,Fl:null,Gl:null,El:null,Lx:null,Mx:null,Kx:null,nJ:null,Jn:0,dJ:null,eH:null,Uw:null,vc:null,Rx:null,nX:function(){this.b.subEditorOver.D(!0);this.b.mainEditorOver.D(!1);var a={panels:{position:q.a(802,0),children:{}}},c=this.data.data[this.Ga.event][this.Ga.listtype][this.Ga.id].data;switch(this.Xp){case "Warp Player":a.panels.children=
{mapNumberLabel:{label:"Map ID",c:q.a(0,0),position:q.a(12,374)},mapNumberText:{u:q.i(255,255,255,255),c:q.a(0,0),position:q.a(12,340),size:q.size(100,32)},mapXLabel:{label:"Map X",c:q.a(0,0),position:q.a(12,310)},mapXText:{u:q.i(255,255,255,255),c:q.a(0,0),position:q.a(12,276),size:q.size(80,32)},mapYLabel:{label:"Map Y",c:q.a(0,0),position:q.a(100,310)},mapYText:{u:q.i(255,255,255,255),c:q.a(0,0),position:q.a(100,276),size:q.size(80,32)}};break;case "Talk":case "Read Item":a.panels.children={sayLabel:{label:"Say:",
c:q.a(0,0),position:q.a(12,374)},sayText:{u:q.i(255,255,255,255),c:q.a(0,0),position:q.a(12,50),size:q.size(174,322)}};break;case "Is Quest Point":case "Set Quest Point":a.panels.children={questLabel:{label:"Quest:",c:q.a(0,0),position:q.a(12,374)},questList:{u:q.i(255,255,255,255),c:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},objectiveLabel:{label:"Objective:",c:q.a(0,0),position:q.a(12,189)},objectiveList:{u:q.i(255,255,255,255),c:q.a(0,0),position:q.a(12,50),size:q.size(154,135)}};break;
case "Give /Take Item":case "Has Player Item":a.panels.children={itemsLabel:{label:"Item:",c:q.a(0,0),position:q.a(12,374)},itemList:{u:q.i(255,255,255,255),c:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},amountLabel:{label:"Amount:",c:q.a(0,0),position:q.a(12,189)},amountText:{u:q.i(255,255,255,255),c:q.a(0,0),position:q.a(12,153),size:q.size(154,32)},amountNote:{label:"Has Player Item"==this.Xp?"":"Use negative item amounts to take away. Use positive amounts to give.",c:q.a(0,1),position:q.a(12,
145)}};break;case "Modify Player Stats":case "Modify NPC Stats":a.panels.children={skillsLabel:{label:"Skill:",c:q.a(0,0),position:q.a(12,374)},skillList:{u:q.i(255,255,255,255),c:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},levelLabel:{label:"Level Modify",c:q.a(0,0),position:q.a(12,205)},levelText:{u:q.i(255,255,255,255),c:q.a(0,0),position:q.a(12,169),size:q.size(154,32)},expLabel:{label:"XP Modify: (% allowed)",c:q.a(0,0),position:q.a(12,145)},expText:{u:q.i(255,255,255,255),c:q.a(0,0),
position:q.a(12,109),size:q.size(154,32)},healthLabel:{label:"Health Modify: (% allowed)",c:q.a(0,0),position:q.a(12,85)},healthText:{u:q.i(255,255,255,255),c:q.a(0,0),position:q.a(12,49),size:q.size(154,32)}};break;case "Is Panel Visbility":case "Open/Close Panel":a.panels.children={panelsLabel:{label:"Panel:",c:q.a(0,0),position:q.a(12,374)},panelList:{u:q.i(255,255,255,255),c:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},visibleLabel:{label:"Visibility:",c:q.a(0,0),position:q.a(12,205)},
visibleButton:{u:q.i(255,0,0,255),c:q.a(0,0),position:q.a(12,169),size:q.size(154,32),children:{content:{position:q.a(77,16),c:q.a(0.5,0.5),label:"Invisible",color:q.k(0,0,0)}}}};break;case "Is Event Fired By":a.panels.children={objectLabel:{label:"Possible Types:",c:q.a(0,0),position:q.a(12,374)},objectList:{u:q.i(255,255,255,255),c:q.a(0,0),position:q.a(12,230),size:q.size(154,135)}};break;case "Is NPC Actioning":a.panels.children={actionLabel:{label:"Actions:",c:q.a(0,0),position:q.a(12,374)},
actionList:{u:q.i(255,255,255,255),c:q.a(0,0),position:q.a(12,230),size:q.size(154,135)}};break;case "Is Player Inventory Space":a.panels.children={spaceLabel:{label:"Inventory Space",c:q.a(0,0),position:q.a(12,374)},spaceText:{u:q.i(255,255,255,255),c:q.a(0,0),position:q.a(12,340),size:q.size(100,32)}};break;case "Wait":a.panels.children={timeLabel:{label:"Time (Seconds)",c:q.a(0,0),position:q.a(12,374)},timeText:{u:q.i(255,255,255,255),c:q.a(0,0),position:q.a(12,340),size:q.size(100,32)}};break;
case "Repeat Responses":a.panels.children={amountLabel:{label:"Repeat Amount",c:q.a(0,0),position:q.a(12,374)},amountText:{u:q.i(255,255,255,255),c:q.a(0,0),position:q.a(12,340),size:q.size(100,32)},amountNote:{label:"Use 0 for infinite amount of repeats.",c:q.a(0,1),position:q.a(12,300)}};break;case "Is Player Statistics":case "Is NPC Statistics":a.panels.children={skillsLabel:{label:"Skill:",c:q.a(0,0),position:q.a(12,374)},skillList:{u:q.i(255,255,255,255),c:q.a(0,0),position:q.a(12,230),size:q.size(154,
135)},levelLabel:{label:"Level Range",c:q.a(0,0),position:q.a(12,205)},levelDash:{label:"-",c:q.a(0,0),position:q.a(91,174)},levelTextLower:{u:q.i(255,255,255,255),c:q.a(0,0),position:q.a(12,169),size:q.size(75,32)},levelTextUpper:{u:q.i(255,255,255,255),c:q.a(0,0),position:q.a(100,169),size:q.size(75,32)},expLabel:{label:"XP Range: (% allowed)",c:q.a(0,0),position:q.a(12,145)},expDash:{label:"-",c:q.a(0,0),position:q.a(91,114)},expTextLower:{u:q.i(255,255,255,255),c:q.a(0,0),position:q.a(100,109),
size:q.size(75,32)},expTextUpper:{u:q.i(255,255,255,255),c:q.a(0,0),position:q.a(12,109),size:q.size(75,32)},healthLabel:{label:"Health Range: (% allowed)",c:q.a(0,0),position:q.a(12,85)},healthDash:{label:"-",c:q.a(0,0),position:q.a(91,54)},healthTextLower:{u:q.i(255,255,255,255),c:q.a(0,0),position:q.a(12,49),size:q.size(75,32)},healthTextUpper:{u:q.i(255,255,255,255),c:q.a(0,0),position:q.a(100,49),size:q.size(75,32)}};break;case "Equip Item":a.panels.children={equipLabel:{label:"Equips To:",c:q.a(0,
0),position:q.a(12,374)},headButton:{u:q.i(255,0,0,255),c:q.a(0,0),position:q.a(69,320),size:q.size(55,32),children:{content:{position:q.a(28,16),c:q.a(0.5,0.5),label:"Head",color:q.k(0,0,0)}}},bodyButton:{u:q.i(255,0,0,255),c:q.a(0,0),position:q.a(69,280),size:q.size(55,32),children:{content:{position:q.a(28,16),c:q.a(0.5,0.5),label:"Body",color:q.k(0,0,0)}}},legButton:{u:q.i(255,0,0,255),c:q.a(0,0),position:q.a(69,240),size:q.size(55,32),children:{content:{position:q.a(28,16),c:q.a(0.5,0.5),label:"Legs",
color:q.k(0,0,0)}}},feetButton:{u:q.i(255,0,0,255),c:q.a(0,0),position:q.a(69,200),size:q.size(55,32),children:{content:{position:q.a(28,16),c:q.a(0.5,0.5),label:"Feet",color:q.k(0,0,0)}}},lArmButton:{u:q.i(255,0,0,255),c:q.a(0,0),position:q.a(10,280),size:q.size(55,32),children:{content:{position:q.a(28,16),c:q.a(0.5,0.5),label:"L Arm",color:q.k(0,0,0)}}},rArmButton:{u:q.i(255,0,0,255),c:q.a(0,0),position:q.a(128,280),size:q.size(55,32),children:{content:{position:q.a(28,16),c:q.a(0.5,0.5),label:"R Arm",
color:q.k(0,0,0)}}},modButton:{u:q.i(255,0,0,255),c:q.a(0,0),position:q.a(10,160),size:q.size(55,32),children:{content:{position:q.a(28,16),c:q.a(0.5,0.5),label:"Mod",color:q.k(0,0,0)}}}}}a.panels.children.okbtn={position:q.a(62,8),size:q.size(32,32),$:"GUI/tick_icon.png",c:q.a(0,0)};a.panels.children.cancelbtn={position:q.a(106,8),size:q.size(32,32),$:"GUI/cross_icon.png",c:q.a(0,0)};this.h=Ha(a,!0);this.b.f(this.h);switch(this.Xp){case "Warp Player":var d=a=1;c.index&&(a=c.index%S,d=Math.floor(c.index/
S));this.YD=new $(this.h.mapNumberText,q.size(this.h.mapNumberText.d().width,this.h.mapNumberText.d().height),q.a(0,this.h.mapNumberText.d().height),null!=c.mapnum&&"undefined"!==c.mapnum?c.mapnum:"0",q.i(255,255,255),q.k(0,0,0));this.YD.sb(!0);this.ZD=new $(this.h.mapXText,q.size(this.h.mapXText.d().width,this.h.mapXText.d().height),q.a(0,this.h.mapXText.d().height),a,q.i(255,255,255),q.k(0,0,0));this.ZD.sb(!0);this.$D=new $(this.h.mapYText,q.size(this.h.mapYText.d().width,this.h.mapYText.d().height),
q.a(0,this.h.mapYText.d().height),d,q.i(255,255,255),q.k(0,0,0));this.$D.sb(!0);break;case "Talk":case "Read Item":this.sx=new $(this.h.sayText,q.size(this.h.sayText.d().width,this.h.sayText.d().height),q.a(0,this.h.sayText.d().height),c.say?c.say:"\x3cEnter text\x3e",q.i(255,255,255),q.k(0,0,0),!0);this.sx.sb(!0);this.sx.zd(!1);break;case "Is Quest Point":case "Set Quest Point":for(var e=[],a=[],f=ObjectLists.rs(),d=0;d<f.length;d++){e[d]=q.C.create();var g=q.da.create(q.i(0,0,0,127),154,1),h=q.R.create(f[d].name,
"Arial",15);h.l(q.k(0,0,0));h.L(q.a(0,0));h.n(q.a(4,4));h.Oc(q.size(126,0));var k=q.w.fb(q.sa.e().Ia("GUI/use.png"));k.n(q.a(130,0));k.L(q.a(0,0));k.pc="Use";e[d].T(154,h.d().height+8);k.nd((h.d().height+8)/2-10);a.push([k]);var l=q.da.create(q.i(255,255,255,255),154,h.d().height+8);e[d].f(l);e[d].wc=l;e[d].f(g);e[d].f(h);e[d].f(k)}var m=this;this.h.questList.ne=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].d().height;return q.size(154,a)};this.h.questList.Kd=function(){return e.length};this.h.questList.Ze=
function(a){return e[a].d()};this.h.questList.Xe=function(a){return e[a]};this.h.questList.Vi=function(a){return e[a].wc};this.h.questList.yc=function(a,c){if("Use"==a){m.h.objectiveList.ma&&m.h.objectiveList.ma.Q();this.ma.wc(c);m.xJ=c;for(var d=[],e=[],f=q.sa.e(),g=ObjectLists.rs()[c].objectiveList,h=0;h<g.length;h++){d[h]=q.C.create();var k=q.da.create(q.i(0,0,0,127),154,1);k.n(q.a(0,0));var l=q.R.create(g[h],"Arial",15);l.l(q.k(0,0,0));l.L(q.a(0,0));l.n(q.a(4,4));l.Oc(q.size(126,0));var L=q.w.fb(f.Ia("GUI/use.png"));
L.n(q.a(130,0));L.L(q.a(0,0));L.pc="Use";e.push([L]);d[h].T(126,l.d().height+8);L.nd((l.d().height+8)/2-10);var Q=q.da.create(q.i(255,255,255,255),154,l.d().height+8);d[h].f(Q);d[h].wc=Q;d[h].f(k);d[h].f(l);d[h].f(L)}m.h.objectiveList.ne=function(){for(var a=0,c=0;c<d.length;c++)a+=d[c].d().height;return q.size(154,a)};m.h.objectiveList.Kd=function(){return d.length};m.h.objectiveList.Vi=function(a){return d[a].wc};m.h.objectiveList.Ze=function(a){return d[a].d()};m.h.objectiveList.Xe=function(a){return d[a]};
m.h.objectiveList.yc=function(a,c){this.ma.wc(c);m.fJ=c};m.h.objectiveList.ma=ListView.create(m.h.objectiveList);m.h.objectiveList.ma.df(e);m.h.objectiveList.f(m.h.objectiveList.ma)}};this.h.questList.ma=ListView.create(this.h.questList);this.h.questList.ma.df(a);this.h.questList.f(this.h.questList.ma);null!=c.quest&&"undefined"!==c.quest&&(this.h.questList.yc("Use",c.quest),null!=c.objective&&"undefined"!==c.objective&&this.h.objectiveList.yc("Use",c.objective));break;case "Give /Take Item":case "Has Player Item":this.h.amountNote.Oc(q.size(180,
0));e=[];a=[];f=ObjectLists.bi();for(d=0;d<f.length;d++)e[d]=q.C.create(),g=q.da.create(q.i(0,0,0,127),154,1),h=q.R.create(f[d].name,"Arial",15),h.l(q.k(0,0,0)),h.L(q.a(0,0)),h.n(q.a(4,4)),h.Oc(q.size(126,0)),k=q.w.fb(q.sa.e().Ia("GUI/use.png")),k.n(q.a(130,0)),k.L(q.a(0,0)),k.pc="Use",e[d].T(154,h.d().height+8),k.nd((h.d().height+8)/2-10),a.push([k]),l=q.da.create(q.i(255,255,255,255),154,h.d().height+8),e[d].f(l),e[d].wc=l,e[d].f(g),e[d].f(h),e[d].f(k);m=this;this.h.itemList.ne=function(){for(var a=
0,c=0;c<e.length;c++)a+=e[c].d().height;return q.size(154,a)};this.h.itemList.Kd=function(){return e.length};this.h.itemList.Ze=function(a){return e[a].d()};this.h.itemList.Xe=function(a){return e[a]};this.h.itemList.Vi=function(a){return e[a].wc};this.h.itemList.yc=function(a,c){"Use"==a&&(this.ma.wc(c),m.ek=c)};this.h.itemList.ma=ListView.create(this.h.itemList);this.h.itemList.ma.df(a);this.h.itemList.f(this.h.itemList.ma);null!=c.item&&"undefined"!==c.item&&this.h.itemList.yc("Use",c.item);this.aj=
new $(this.h.amountText,q.size(this.h.amountText.d().width,this.h.amountText.d().height),q.a(0,this.h.amountText.d().height),c.amount?c.amount:"0",q.i(255,255,255),q.k(0,0,0));this.aj.sb(!0);this.aj.zd(!1);break;case "Modify Player Stats":case "Modify NPC Stats":e=[];a=[];f=ObjectLists.jl();for(d=0;d<f.length;d++)e[d]=q.C.create(),g=q.da.create(q.i(0,0,0,127),154,1),h=q.R.create(f[d].name,"Arial",15),h.l(q.k(0,0,0)),h.L(q.a(0,0)),h.n(q.a(4,4)),h.Oc(q.size(126,0)),k=q.w.fb(q.sa.e().Ia("GUI/use.png")),
k.n(q.a(130,0)),k.L(q.a(0,0)),k.pc="Use",e[d].T(154,h.d().height+8),k.nd((h.d().height+8)/2-10),a.push([k]),l=q.da.create(q.i(255,255,255,255),154,h.d().height+8),e[d].f(l),e[d].wc=l,e[d].f(g),e[d].f(h),e[d].f(k);m=this;this.h.skillList.ne=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].d().height;return q.size(154,a)};this.h.skillList.Kd=function(){return e.length};this.h.skillList.Ze=function(a){return e[a].d()};this.h.skillList.Xe=function(a){return e[a]};this.h.skillList.Vi=function(a){return e[a].wc};
this.h.skillList.yc=function(a,c){"Use"==a&&(this.ma.wc(c),m.Jx=c)};this.h.skillList.ma=ListView.create(this.h.skillList);this.h.skillList.ma.df(a);this.h.skillList.f(this.h.skillList.ma);null!=c.skill&&"undefined"!==c.skill&&this.h.skillList.yc("Use",c.skill);this.Fl=new $(this.h.levelText,q.size(this.h.levelText.d().width,this.h.levelText.d().height),q.a(0,this.h.levelText.d().height),c.level?c.level:"0",q.i(255,255,255),q.k(0,0,0));this.Fl.sb(!0);this.Fl.zd(!1);this.Gl=new $(this.h.expText,q.size(this.h.expText.d().width,
this.h.expText.d().height),q.a(0,this.h.expText.d().height),c.xp?c.xp:"0",q.i(255,255,255),q.k(0,0,0));this.Gl.sb(!0);this.Gl.zd(!1);this.El=new $(this.h.healthText,q.size(this.h.healthText.d().width,this.h.healthText.d().height),q.a(0,this.h.healthText.d().height),c.health?c.health:"0",q.i(255,255,255),q.k(0,0,0));this.El.sb(!0);this.El.zd(!1);break;case "Is Panel Visbility":case "Open/Close Panel":e=[];a=[];f=["Inventory","Equipment","Skills","QuestLog"];for(d=0;d<f.length;d++)e[d]=q.C.create(),
g=q.da.create(q.i(0,0,0,127),154,1),h=q.R.create(f[d],"Arial",15),h.l(q.k(0,0,0)),h.L(q.a(0,0)),h.n(q.a(4,4)),h.Oc(q.size(126,0)),k=q.w.fb(q.sa.e().Ia("GUI/use.png")),k.n(q.a(130,0)),k.L(q.a(0,0)),k.pc="Use",e[d].T(154,h.d().height+8),k.nd((h.d().height+8)/2-10),a.push([k]),l=q.da.create(q.i(255,255,255,255),154,h.d().height+8),e[d].f(l),e[d].wc=l,e[d].f(g),e[d].f(h),e[d].f(k);m=this;this.h.panelList.ne=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].d().height;return q.size(154,a)};this.h.panelList.Kd=
function(){return e.length};this.h.panelList.Ze=function(a){return e[a].d()};this.h.panelList.Xe=function(a){return e[a]};this.h.panelList.Vi=function(a){return e[a].wc};this.h.panelList.yc=function(a,c){"Use"==a&&(this.ma.wc(c),m.nJ=c)};this.h.panelList.ma=ListView.create(this.h.panelList);this.h.panelList.ma.df(a);this.h.panelList.f(this.h.panelList.ma);null!=c.panel&&"undefined"!==c.panel&&this.h.panelList.yc("Use",c.panel);this.Jn=1==c.visible?1:0;1==this.Jn&&(this.h.visibleButton.l(q.i(0,255,
0,255)),this.h.visibleButton.content.ca("Visible"));break;case "Is Event Fired By":e=[];a=[];f=["Player","NPC"];for(d=0;d<f.length;d++)e[d]=q.C.create(),g=q.da.create(q.i(0,0,0,127),154,1),h=q.R.create(f[d],"Arial",15),h.l(q.k(0,0,0)),h.L(q.a(0,0)),h.n(q.a(4,4)),h.Oc(q.size(126,0)),k=q.w.fb(q.sa.e().Ia("GUI/use.png")),k.n(q.a(130,0)),k.L(q.a(0,0)),k.pc="Use",e[d].T(154,h.d().height+8),k.nd((h.d().height+8)/2-10),a.push([k]),l=q.da.create(q.i(255,255,255,255),154,h.d().height+8),e[d].f(l),e[d].wc=
l,e[d].f(g),e[d].f(h),e[d].f(k);m=this;this.h.objectList.ne=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].d().height;return q.size(154,a)};this.h.objectList.Kd=function(){return e.length};this.h.objectList.Ze=function(a){return e[a].d()};this.h.objectList.Xe=function(a){return e[a]};this.h.objectList.Vi=function(a){return e[a].wc};this.h.objectList.yc=function(a,c){"Use"==a&&(this.ma.wc(c),m.dJ=c)};this.h.objectList.ma=ListView.create(this.h.objectList);this.h.objectList.ma.df(a);this.h.objectList.f(this.h.objectList.ma);
null!=c.object&&"undefined"!==c.object&&this.h.objectList.yc("Use",c.object);break;case "Is NPC Actioning":e=[];a=[];f=["Attacking","Defending","Fleeing"];for(d=0;d<f.length;d++)e[d]=q.C.create(),g=q.da.create(q.i(0,0,0,127),154,1),h=q.R.create(f[d],"Arial",15),h.l(q.k(0,0,0)),h.L(q.a(0,0)),h.n(q.a(4,4)),h.Oc(q.size(126,0)),k=q.w.fb(q.sa.e().Ia("GUI/use.png")),k.n(q.a(130,0)),k.L(q.a(0,0)),k.pc="Use",e[d].T(154,h.d().height+8),k.nd((h.d().height+8)/2-10),a.push([k]),l=q.da.create(q.i(255,255,255,
255),154,h.d().height+8),e[d].f(l),e[d].wc=l,e[d].f(g),e[d].f(h),e[d].f(k);m=this;this.h.actionList.ne=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].d().height;return q.size(154,a)};this.h.actionList.Kd=function(){return e.length};this.h.actionList.Ze=function(a){return e[a].d()};this.h.actionList.Xe=function(a){return e[a]};this.h.actionList.Vi=function(a){return e[a].wc};this.h.actionList.yc=function(a,c){"Use"==a&&(this.ma.wc(c),m.eH=c)};this.h.actionList.ma=ListView.create(this.h.actionList);
this.h.actionList.ma.df(a);this.h.actionList.f(this.h.actionList.ma);null!=c.action&&"undefined"!==c.action&&this.h.actionList.yc("Use",c.action);break;case "Is Player Inventory Space":this.Uw=new $(this.h.spaceText,q.size(this.h.spaceText.d().width,this.h.spaceText.d().height),q.a(0,this.h.spaceText.d().height),null!=c.space&&"undefined"!==c.space?c.space:"0",q.i(255,255,255),q.k(0,0,0));this.Uw.sb(!0);this.Uw.zd(!1);break;case "Wait":this.Rx=new $(this.h.timeText,q.size(this.h.timeText.d().width,
this.h.timeText.d().height),q.a(0,this.h.timeText.d().height),null!=c.time&&"undefined"!==c.time?c.time:"0",q.i(255,255,255),q.k(0,0,0));this.Rx.sb(!0);this.Rx.zd(!1);break;case "Repeat Responses":this.h.amountNote.Oc(q.size(180,0));this.jD=new $(this.h.amountText,q.size(this.h.amountText.d().width,this.h.amountText.d().height),q.a(0,this.h.amountText.d().height),null!=c.amount&&"undefined"!==c.amount?c.amount:"1",q.i(255,255,255),q.k(0,0,0));this.jD.sb(!0);this.jD.zd(!1);break;case "Is Player Statistics":case "Is NPC Statistics":e=
[];a=[];f=ObjectLists.jl();for(d=0;d<f.length;d++)e[d]=q.C.create(),g=q.da.create(q.i(0,0,0,127),154,1),h=q.R.create(f[d].name,"Arial",15),h.l(q.k(0,0,0)),h.L(q.a(0,0)),h.n(q.a(4,4)),h.Oc(q.size(126,0)),k=q.w.fb(q.sa.e().Ia("GUI/use.png")),k.n(q.a(130,0)),k.L(q.a(0,0)),k.pc="Use",e[d].T(154,h.d().height+8),k.nd((h.d().height+8)/2-10),a.push([k]),l=q.da.create(q.i(255,255,255,255),154,h.d().height+8),e[d].f(l),e[d].wc=l,e[d].f(g),e[d].f(h),e[d].f(k);m=this;this.h.skillList.ne=function(){for(var a=
0,c=0;c<e.length;c++)a+=e[c].d().height;return q.size(154,a)};this.h.skillList.Kd=function(){return e.length};this.h.skillList.Ze=function(a){return e[a].d()};this.h.skillList.Xe=function(a){return e[a]};this.h.skillList.Vi=function(a){return e[a].wc};this.h.skillList.yc=function(a,c){"Use"==a&&(this.ma.wc(c),m.Jx=c)};this.h.skillList.ma=ListView.create(this.h.skillList);this.h.skillList.ma.df(a);this.h.skillList.f(this.h.skillList.ma);null!=c.skill&&"undefined"!==c.skill&&this.h.skillList.yc("Use",
c.skill);this.Fl=new $(this.h.levelTextLower,q.size(this.h.levelTextLower.d().width,this.h.levelTextLower.d().height),q.a(0,this.h.levelTextLower.d().height),null!=c.levelLower&&"undefined"!==c.levelLower?c.levelLower:"0",q.i(255,255,255),q.k(0,0,0));this.Fl.sb(!0);this.Fl.zd(!1);this.Gl=new $(this.h.expTextLower,q.size(this.h.expTextLower.d().width,this.h.expTextLower.d().height),q.a(0,this.h.expTextLower.d().height),null!=c.xpLower&&"undefined"!==c.xpLower?c.xpLower:"0",q.i(255,255,255),q.k(0,0,
0));this.Gl.sb(!0);this.Gl.zd(!1);this.El=new $(this.h.healthTextLower,q.size(this.h.healthTextLower.d().width,this.h.healthTextLower.d().height),q.a(0,this.h.healthTextLower.d().height),null!=c.healthLower&&"undefined"!==c.healthLower?c.healthLower:"0",q.i(255,255,255),q.k(0,0,0));this.El.sb(!0);this.El.zd(!1);this.Lx=new $(this.h.levelTextUpper,q.size(this.h.levelTextUpper.d().width,this.h.levelTextUpper.d().height),q.a(0,this.h.levelTextUpper.d().height),null!=c.levelUpper&&"undefined"!==c.levelUpper?
c.levelUpper:"0",q.i(255,255,255),q.k(0,0,0));this.Lx.sb(!0);this.Lx.zd(!1);this.Mx=new $(this.h.expTextUpper,q.size(this.h.expTextUpper.d().width,this.h.expTextUpper.d().height),q.a(0,this.h.expTextUpper.d().height),null!=c.xpUpper&&"undefined"!==c.xpUpper?c.xpUpper:"0",q.i(255,255,255),q.k(0,0,0));this.Mx.sb(!0);this.Mx.zd(!1);this.Kx=new $(this.h.healthTextUpper,q.size(this.h.healthTextUpper.d().width,this.h.healthTextUpper.d().height),q.a(0,this.h.healthTextUpper.d().height),null!=c.healthUpper&&
"undefined"!==c.healthUpper?c.healthUpper:"0",q.i(255,255,255),q.k(0,0,0));this.Kx.sb(!0);this.Kx.zd(!1);break;case "Equip Item":null!=c.equip&&"undefined"!==c.equip?(this.vc="head",this.ik(c.equip)):this.ik("head")}},Mw:function(){this.b.subEditorOver.D(!1);this.b.mainEditorOver.D(!0);this.Xp=null;this.h.Q();this.h=null},XJ:function(a){switch(a){case 0:this.zn(1,!0);this.data.data=[{type:"Will Enter",responses:[{type:"Block Entry",data:{}}],requirements:[],data:{}}];break;case 1:this.zn(1,!0);this.data.data=
[{type:"On Enter",responses:[{type:"Warp Player",data:{}}],requirements:[],data:{}}];break;case 2:this.zn(1,!0);this.data.data=[{type:"Default Event",responses:[{type:"Show Sign",data:{}}],requirements:[],data:{}}];break;case 3:this.zn(1,!0);this.data.data=[{type:"Will Enter",responses:[{type:"Block Entry",data:{}}],requirements:[{objectType:"NPC"}],data:{}}];break;case 4:this.zn(1,!0),this.data.data=[{type:"On Enter",responses:[{type:"Allow PVP",data:{}}],requirements:[],data:{}}]}this.Zb()},zn:function(a,
c){switch(a){case 0:this.data.specifier="Item";this.b.main_panel.specifier.contents.ca("Includes: Item");break;case 1:this.data.specifier="Tile";this.b.main_panel.specifier.contents.ca("Includes: Tile");break;case 2:this.data.specifier="NPC";this.b.main_panel.specifier.contents.ca("Includes: NPC");break;case 3:this.data.specifier="None",this.b.main_panel.specifier.contents.ca("Includes: None")}this.data.data=[];c||this.Zb()},ER:function(a){1==a&&this.m.zn(this.m.KK)},DR:function(a){1==a&&this.m.XJ(this.m.BH)},
ik:function(a){this.h.headButton.l(q.i(255,255,255,255));this.h.bodyButton.l(q.i(255,255,255,255));this.h.legButton.l(q.i(255,255,255,255));this.h.feetButton.l(q.i(255,255,255,255));this.h.lArmButton.l(q.i(255,255,255,255));this.h.rArmButton.l(q.i(255,255,255,255));this.h.modButton.l(q.i(255,255,255,255));switch(a){case "head":this.vc=a;this.h.headButton.l(q.i(255,0,0,255));return;case "body":this.vc=a;this.h.bodyButton.l(q.i(255,0,0,255));return;case "legs":this.vc=a;this.h.legButton.l(q.i(255,0,
0,255));return;case "feet":this.vc=a;this.h.feetButton.l(q.i(255,0,0,255));return;case "mod":this.vc=a;this.h.modButton.l(q.i(255,0,0,255));return;case "bothArms":this.vc=a;this.h.lArmButton.l(q.i(255,0,0,255));this.h.rArmButton.l(q.i(255,0,0,255));return}"bothArms"!=this.vc&&"lArm"!=this.vc&&"rArm"!=this.vc&&"lArm"==a?(this.h.lArmButton.l(q.i(255,0,0,255)),this.vc="lArm"):"bothArms"!=this.vc&&"lArm"!=this.vc&&"rArm"!=this.vc&&"rArm"==a?(this.h.rArmButton.l(q.i(255,0,0,255)),this.vc="rArm"):"rArm"==
this.vc&&"lArm"==a?(this.h.lArmButton.l(q.i(255,0,0,255)),this.h.rArmButton.l(q.i(255,0,0,255)),this.vc="bothArms"):"lArm"==this.vc&&"rArm"==a?(this.h.lArmButton.l(q.i(255,0,0,255)),this.h.rArmButton.l(q.i(255,0,0,255)),this.vc="bothArms"):"bothArms"==this.vc&&"rArm"==a?(this.h.lArmButton.l(q.i(255,0,0,255)),this.vc="lArm"):"bothArms"==this.vc&&"lArm"==a&&(this.h.rArmButton.l(q.i(255,0,0,255)),this.vc="rArm")},vX:function(a,c){if(0<this.m.data.data.length)return this.m.KK=a,this.X.f(DropDownList.fe(this.m,
this.m.ER,["Cancel","Clear Script (Required)"],c.K)),!1;this.m.zn(a)},jb:function(a){if(this._super(a))return!0;this.xd=null;var c=a.K;if(this.h){c=this.h.Ba(c);if(O(this.h.okbtn,c)){switch(this.Xp){case "Warp Player":this.data.data[this.Ga.event][this.Ga.listtype][this.Ga.id].data={mapnum:parseInt(this.YD.Y()),index:T(parseInt(this.ZD.Y()),Pa-parseInt(this.$D.Y()))};break;case "Talk":case "Read Item":this.data.data[this.Ga.event][this.Ga.listtype][this.Ga.id].data={say:this.sx.Y()};break;case "Is Quest Point":case "Set Quest Point":this.data.data[this.Ga.event][this.Ga.listtype][this.Ga.id].data=
{quest:this.xJ,objective:this.fJ};break;case "Give /Take Item":case "Has Player Item":this.data.data[this.Ga.event][this.Ga.listtype][this.Ga.id].data={item:this.ek,amount:parseInt(this.aj.Y())};break;case "Modify Player Stats":case "Modify NPC Stats":this.data.data[this.Ga.event][this.Ga.listtype][this.Ga.id].data={skill:this.Jx,level:parseInt(this.Fl.Y()),xp:parseInt(this.Gl.Y()),health:parseInt(this.El.Y())};break;case "Is Panel Visbility":case "Open/Close Panel":this.data.data[this.Ga.event][this.Ga.listtype][this.Ga.id].data=
{panel:this.nJ,visible:this.Jn};break;case "Is Event Fired By":this.data.data[this.Ga.event][this.Ga.listtype][this.Ga.id].data={object:this.dJ};break;case "Is NPC Actioning":this.data.data[this.Ga.event][this.Ga.listtype][this.Ga.id].data={action:this.eH};break;case "Is Player Inventory Space":this.data.data[this.Ga.event][this.Ga.listtype][this.Ga.id].data={space:parseInt(this.Uw.Y())};break;case "Wait":this.data.data[this.Ga.event][this.Ga.listtype][this.Ga.id].data={time:parseInt(this.Rx.Y())};
break;case "Repeat Responses":this.data.data[this.Ga.event][this.Ga.listtype][this.Ga.id].data={amount:parseInt(this.jD.Y())};break;case "Is Player Statistics":case "Is NPC Statistics":this.data.data[this.Ga.event][this.Ga.listtype][this.Ga.id].data={skill:this.Jx,levelLower:parseInt(this.Fl.Y()),xpLower:parseInt(this.Gl.Y()),healthLower:parseInt(this.El.Y()),levelUpper:parseInt(this.Lx.Y()),xpUpper:parseInt(this.Mx.Y()),healthUpper:parseInt(this.Kx.Y())};break;case "Equip Item":this.data.data[this.Ga.event][this.Ga.listtype][this.Ga.id].data=
{equip:this.vc}}this.Mw();return!0}if(this.h.headButton&&O(this.h.headButton,c))return this.ik("head"),!0;if(this.h.bodyButton&&O(this.h.bodyButton,c))return this.ik("body"),!0;if(this.h.legButton&&O(this.h.legButton,c))return this.ik("legs"),!0;if(this.h.feetButton&&O(this.h.feetButton,c))return this.ik("feet"),!0;if(this.h.lArmButton&&O(this.h.lArmButton,c))return this.ik("lArm"),!0;if(this.h.rArmButton&&O(this.h.rArmButton,c))return this.ik("rArm"),!0;if(this.h.modButton&&O(this.h.modButton,c))return this.ik("mod"),
!0;if(this.h.visibleButton&&O(this.h.visibleButton,c))return this.Jn=0==this.Jn?1:0,this.h.visibleButton.l(0==this.Jn?q.i(255,0,0,255):q.i(0,255,0,255)),this.h.visibleButton.content.ca(0==this.Jn?"Invisible":"Visible"),!0;if(O(this.h.cancelbtn,c))return this.Mw(),!0}else{c=this.b.main_panel.Ba(c);if(O(this.b.main_panel.defaultsbtn,c))return this.X.f(DropDownList.fe(this,this.defaultSelected,"Block Player;Warp Player;Show Sign;Spawn NPC;Spawn Item;Block NPC;PVP Area".split(";"),a.K)),!0;if(O(this.b.main_panel.specifier,
c))return this.X.f(DropDownList.fe(this,this.vX,["Item","Tile","NPC","None"],a.K)),!0;if(O(this.b.main_panel.okbtn,c)){if(null==this.Na.Y()||""==this.Na.Y())return!0;this.data.name=this.Na.Y();this.zf=!0;this.m.Yc(this.data);return!0}if(O(this.b.main_panel.cancelbtn,c)){this.zf=!0;var d=this.m;this.m.zc(function(){d.Yc(null)});return!0}return O(this.b.main_panel,c)?!0:!1}}});Itemeditor=null;
ItemEditor=Popup.extend({Qb:I[0].name,S:0,Zs:function(a,c){Eventsystem&&(Eventsystem.Pa(),this.zc(function(){Eventsystem.Q();Eventsystem=null}),this.Og=a,this.Tb(!0),this.b.main_panel.scriptbtn.text.ca(c.name),this.b.main_panel.scriptbtn.l(q.i(0,255,0,255)))},lK:function(){this.b.main_panel.scriptbtn.text.ca("None");this.b.main_panel.scriptbtn.l(q.i(255,0,0,255))},Mc:function(){return{panels:{position:q.a(300,10),children:{background:{$:"GUI/itemeditor_bg.png",c:q.a(0,0)},main_panel:{c:q.a(0,0),position:q.a(0,
0),size:q.size(500,330),children:{namelbl:{label:"Name:",fontSize:20,c:q.a(0,0),position:q.a(4,292),color:q.k(0,0,0)},name_entry:{position:q.a(74,292),size:q.size(266,32),u:q.i(255,255,255,255)},tiles:{c:q.a(0,1),position:q.a(16,272),$:I[0].name},textureleftbtn:{position:q.a(362,292),size:q.size(16,32),$:"GUI/texture_change_left.png",c:q.a(0,0)},texturerightbtn:{position:q.a(471,292),size:q.size(16,32),$:"GUI/texture_change_right.png",c:q.a(0,0)},textureName:{position:q.a(375,292),size:q.size(96,
32),$:"GUI/texture_change_middle.png",c:q.a(0,0),children:{text:{label:I[0].name,fontSize:12,c:q.a(0.5,0.5),position:q.a(48,16),color:q.k(0,0,0)}}},leftbtn:{position:q.a(0,16),size:q.size(16,256),u:q.i(0,0,255,255),c:q.a(0,0),children:{text:{label:"\x3c",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,160),color:q.k(255,255,255)}}},rightbtn:{position:q.a(336,16),size:q.size(16,256),u:q.i(0,0,255,255),c:q.a(0,0),children:{text:{label:"\x3e",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,160),color:q.k(255,255,
255)}}},upbtn:{position:q.a(16,272),size:q.size(320,16),u:q.i(0,0,255,255),c:q.a(0,0),children:{text:{label:"^",fontSize:12,c:q.a(0.5,0.5),position:q.a(160,8),color:q.k(255,255,255)}}},downbtn:{position:q.a(16,0),size:q.size(320,16),u:q.i(0,0,255,255),c:q.a(0,0),children:{text:{label:"v",fontSize:12,c:q.a(0.5,0.5),position:q.a(160,8),color:q.k(255,255,255)}}},stacklbl:{label:"Stackable:",fontSize:12,c:q.a(0,0),position:q.a(360,206),color:q.k(0,0,0)},stackbtn:{position:q.a(360,176),size:q.size(128,
26),u:N,c:q.a(0,0),children:{text:{label:"No",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,0,0)}}},scriptlbl:{label:"Script:",fontSize:12,c:q.a(0,0),position:q.a(360,262),color:q.k(0,0,0)},scriptbtn:{position:q.a(360,232),size:q.size(128,26),u:N,c:q.a(0,0),children:{text:{label:"None",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,0,0)}}},highlightnode:{c:q.a(0,0),position:q.a(0,0),size:q.size(32,32),u:q.i(255,100,100,255)},selectednode:{c:q.a(0,0),position:q.a(0,0),size:q.size(32,
32),u:q.i(100,255,100,255)},okbtn:{position:q.a(434,16),size:q.size(32,32),$:"GUI/tick_icon.png",c:q.a(0,0)},cancelbtn:{position:q.a(384,16),size:q.size(32,32),$:"GUI/cross_icon.png",c:q.a(0,0)}}},control_panel:{c:q.a(0,0),position:q.a(0,330),size:q.size(500,32),children:{header:{label:"Item Editor",fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(476,6),size:q.size(20,20),c:q.a(0,0),$:"GUI/close.png"}}}}}}},Lc:function(){return"itemEditor"},Na:null,m:null,data:null,Og:null,s:function(a){this._super();
this.data={sprite:{texture:I[0].name,position:{x:0,y:0}},script:null,stackable:!1,name:""};this.Qb=I[0].name;this.S=0;this.Og=this.m=this.Na=null;this.N=q.a(0,0);this.m=a.m;a&&a.data&&(this.data=a.data)},dj:function(a){G({saveitems:a+"",itemdata:this.data})},Ti:function(a,c){G({saveitemswhole:c})},xa:function(){this._super();this.b.main_panel.highlightnode.fa(0);this.b.main_panel.selectednode.fa(127);for(var a in I)I[a].name==this.data.sprite.texture&&(this.S=a,this.Qb=I[a].name);this.b.main_panel.textureName.text.ca(this.Qb);
this.b.main_panel.tiles.ka(I[this.S].texture);null!=this.data.script&&(this.b.main_panel.scriptbtn.l(q.i(0,255,0,255)),this.b.main_panel.scriptbtn.text.ca(ObjectLists.ss()[this.data.script].name),this.Og=this.data.script);for(a=this.data.sprite.position.x;10<=a;)a--,this.N.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.N.y++;a=q.a(32*(this.data.sprite.position.x-this.N.x),32*(this.data.sprite.position.y-this.N.y));this.b.main_panel.selectednode.n(this.b.main_panel.tiles.q.x+a.x,this.b.main_panel.tiles.q.y-
(a.y+32));this.Na=new $(this.b.main_panel.name_entry,q.size(this.b.main_panel.name_entry.d().width,this.b.main_panel.name_entry.d().height),q.a(0,this.b.main_panel.name_entry.d().height),this.data.name?this.data.name:"",q.i(255,255,255),q.k(0,0,0));this.Na.sb(!0);this.b.main_panel.stackbtn.l(N);this.b.main_panel.stackbtn.text.ca("No");!0==this.data.stackable&&(this.b.main_panel.stackbtn.l(Ga),this.b.main_panel.stackbtn.text.ca("Yes"));this.lb()},Pa:function(a){this._super();if(this.m){var c=this.m;
!0!=a&&this.m.zc(function(){c.Yc(null)})}},ii:function(a){a=a.K;this.b.main_panel.highlightnode.fa(0);a=this.b.main_panel.tiles.Ba(a);if(0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tiles.d().width&&a.y<=this.b.main_panel.tiles.d().height)return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+16,this.b.main_panel.highlightnode.fa(127),this.b.main_panel.highlightnode.n(a),!0},NV:function(){null==Eventsystem||Eventsystem.X||(Eventsystem=null);Eventsystem&&(Eventsystem.Pa(),Eventsystem.Q(),Eventsystem=null);Eventsystem=
new PopupList;Eventsystem.s({m:this,qh:new EventSystem,list:ObjectLists.ss(),name:"Script List"});Eventsystem.xa();this.X.f(Eventsystem);this.Tb(!1)},lb:function(){this.sc(this.lb);this.b.main_panel.tiles.aa()&&!0==this.b.main_panel.tiles.aa().nc&&(this.Ad(this.lb),this.b.main_panel.tiles.Lb(q.rect(Math.floor(32*this.N.x),Math.floor(32*this.N.y),320>I[this.S].texture.d().width?I[this.S].texture.d().width:320,256>I[this.S].texture.d().height?I[this.S].texture.d().height:256)))},jb:function(a){if(this._super(a))return!0;
this.xd=null;a=a.K;var c=this.b.main_panel.Ba(q.a(a.x,a.y));if(O(this.b.main_panel.okbtn,c)){if(null==this.Na.Y()||""==this.Na.Y())return!0;this.zf=!0;this.data.name=this.Na.Y();this.data.script=this.Og;this.m.Yc(this.data);return!0}if(O(this.b.main_panel.cancelbtn,c)){this.zf=!0;var d=this.m;this.m.zc(function(){d.Yc(null)});return!0}if(O(this.b.main_panel.leftbtn,c))return 264<I[this.S].texture.d().width&&0<this.N.x&&(this.N.x--,this.lb()),!0;if(O(this.b.main_panel.rightbtn,c))return 320<I[this.S].texture.d().width&&
this.N.x<(I[this.S].texture.d().width-320)/32&&(this.N.x++,this.lb()),!0;if(O(this.b.main_panel.upbtn,c))return 320<I[this.S].texture.d().height&&0<this.N.y&&(this.N.y--,this.lb()),!0;if(O(this.b.main_panel.downbtn,c))return 320<I[this.S].texture.d().height&&this.N.y<(I[this.S].texture.d().height-320)/32&&(this.N.y++,this.lb()),!0;if(O(this.b.main_panel.texturerightbtn,c))return this.Hn(),!0;if(O(this.b.main_panel.textureleftbtn,c))return this.In(),!0;if(O(this.b.main_panel.stackbtn,c))return this.RK(),
!0;if(O(this.b.main_panel.scriptbtn,c))return this.NV(),!0;c=this.b.main_panel.tiles.Ba(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tiles.d().width&&c.y<=this.b.main_panel.tiles.d().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+16;this.b.main_panel.selectednode.fa(0);if(this.b.main_panel.selectednode.q.F!=c.x||this.b.main_panel.selectednode.q.J!=c.y)this.b.main_panel.selectednode.fa(127),this.b.main_panel.selectednode.n(c);a=q.a((this.b.main_panel.selectednode.q.F-16)/32+this.N.x,8-(this.b.main_panel.selectednode.q.J-
16)/32+this.N.y-1);this.data.sprite.position=a;return!0}return!1},RK:function(){this.data.stackable=!this.data.stackable;this.b.main_panel.stackbtn.l(N);this.b.main_panel.stackbtn.text.ca("No");!0==this.data.stackable&&(this.b.main_panel.stackbtn.l(Ga),this.b.main_panel.stackbtn.text.ca("Yes"))},Hn:function(){this.S>=I.length-1&&(this.S=-1);this.S++;this.b.main_panel.tiles.ka(I[this.S].texture);this.Qb=I[this.S].name;this.b.main_panel.textureName.text.ca(this.Qb);this.data.sprite.texture=this.Qb;
this.N=q.a(0,0);this.lb()},In:function(){0>=this.S&&(this.S=I.length);this.S--;this.b.main_panel.tiles.ka(I[this.S].texture);this.Qb=I[this.S].name;this.b.main_panel.textureName.text.ca(this.Qb);this.N=q.a(0,0);this.lb()}});Settingseditor=null;
SettingsEditor=Popup.extend({data:null,W:null,gb:null,Lc:function(){return"Settings Editor"},Pa:function(){this._super()},s:function(){this._super();this.data=ua(y)},dj:function(a){G({savequests:a+"",questdata:this.data})},Ti:function(a,c){G({savequestswhole:c})},xa:function(){this._super();this.Zb()},Zb:function(){this.W&&this.W.rc();var a=[],c=[],d=q.sa.e(),e=0,f;for(f in this.data){if("ISSECTION"!=this.data[f]){a[e]=q.C.create();a[e].T(324,32);var g=q.R.create(f,"Arial",18);g.L(q.a(0,0));g.n(q.a(4,
0));g.Oc(q.size(246,0));g.l(q.k(100,0,0));a[e].f(g);a[e].T(324,g.d().height+4);g=[];c.push(g);e++}a[e]=q.C.create();a[e].T(324,32);var h=q.da.create(q.i(0,0,0,127),316,1);h.n(q.a(4,0));if("ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]){var k=q.w.fb(d.Ia("GUI/edit.png"));k.n(q.a(300,0));k.L(q.a(0,0))}if("ISSECTION"==this.data[f]){var l=q.R.create(f,"Arial",22);l.l(q.k(255,0,0))}else l=q.R.create(this.data[f],"Arial",15),l.l(q.k(0,0,0));l.L(q.a(0,0));l.n(q.a(4,4));l.Oc(q.size(246,0));g=[];"ISSECTION"!=
this.data[f]&&"ISYESNO"!=this.data[f]&&(k.pc="Edit",g=[],g.push(k));c.push(g);a[e].f(h);"ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]&&a[e].f(k);a[e].f(l);"ISSECTION"==this.data[f]?a[e].T(324,l.d().height+12):a[e].T(324,l.d().height+8);"ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]&&k.nd((l.d().height+8)/2-10);e++}this.W=this.b.main_panel.list;var m=this;this.W.ne=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].d().height;return q.size(324,c)};this.W.Kd=function(){return a.length};this.W.Ze=
function(c){return a[c].d()};this.W.Xe=function(c){return a[c]};this.W.yc=function(a,c,d){m.Ba(d.K);if(!0!=m.Bn)switch(a){case "Edit":a=0;d="";for(var e in m.data){if(a==c){d=e;break}a++;if("ISSECTION"!=m.data[e]){if(a==c){d=e;break}a++}}m.gb=d;m.bC(d)}};this.W.ma=ListView.create(this.W);this.W.ma.df(c);this.W.f(this.W.ma)},Mc:function(){return{panels:{position:q.a(300,200),children:{background_image:{$:"GUI/list_panel.png",c:q.a(0,0)},main_panel:{c:q.a(0,0),size:q.size(365,328),children:{savebtn:{size:q.size(64,
32),u:q.i(0,255,0,255),position:q.a(241,292),c:q.a(0,0),children:{content:{label:"Save",color:q.k(0,0,0),position:q.a(32,16),c:q.a(0.5,0.5)}}},list:{size:q.size(324,284),u:q.i(0,200,200,200),position:q.a(0,0),c:q.a(0,0)}}},control_panel:{c:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Settings Editor",fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),c:q.a(0,0),$:"GUI/close.png"}}}}}}},We:null,ya:null,bC:function(a){null!=this.ya&&
(this.ya.rc(),this.We=null,this.ya.Q(),this.gb=this.ya=null);this.ya=q.da.create(q.i(255,255,255,200),200,200);this.ya.n(q.a((this.b.main_panel.d().width-200)/2,(this.b.main_panel.d().height-200)/2));this.We=new $(this.ya,q.size(190,150),q.a(0,this.ya.d().height),this.data[a],q.i(100,100,100),q.k(255,255,255),!0);this.We.sb(!0);this.We.$J(!0);a=q.da.create(q.i(0,200,255,255),64,32);a.n(q.a(14,9));var c=q.R.create("OK","Arial",16);c.l(q.k(0,0,0));c.n(32,16);c.L(q.a(0.5,0.5));a.f(c);c=q.da.create(q.i(200,
0,0,255),64,32);c.n(q.a(120,9));var d=q.R.create("Cancel","Arial",16);d.l(q.k(0,0,0));d.n(32,16);d.L(q.a(0.5,0.5));c.f(d);this.b.main_panel.f(this.ya);this.ya.f(a);this.ya.PC=a;this.ya.f(c);this.ya.cancel=c},jb:function(a){if(this._super(a))return!0;this.xd=null;a=a.K;if(null!=this.ya){a=this.ya.Ba(a);if(O(this.ya.PC,a))return this.data[this.gb]=this.We.Y(),this.ya.rc(),this.We=null,this.ya.Q(),this.gb=this.ya=null,this.Zb(),!0;O(this.ya.cancel,a)&&(this.ya.rc(),this.We=null,this.ya.Q(),this.gb=this.ya=
null);return!0}a=this.b.main_panel.Ba(a);return O(this.b.main_panel.savebtn,a)?(y=ua(this.data),console.log(y),console.log(this.data),G({savesettings:this.data}),v.SD(this.data,Date.now()),!0):O(this.b.main_panel,a)?!0:!1}});Questeditor=null;
QuestEditor=Popup.extend({data:null,W:null,m:null,gb:null,Lc:function(){return"Quest Editor"},Pa:function(a){this._super();if(this.m){var c=this.m;!0!=a&&this.m.zc(function(){c.Yc(null)})}},s:function(a){this._super();this.data={name:"",objectiveList:["Initial Objective. Click edit to change this first objective. Click the '+' to add another object. You cannot delete every objective (you need at least one)"]};this.m=a.m;a&&a.data&&(this.data=a.data)},dj:function(a){G({savequests:a+"",questdata:this.data})},
Ti:function(a,c){G({savequestswhole:c})},xa:function(){this._super();this.Zb();this.Na=new $(this.b.main_panel.nameBox,q.size(this.b.main_panel.nameBox.d().width,this.b.main_panel.nameBox.d().height),q.a(0,this.b.main_panel.nameBox.d().height),this.data.name?this.data.name:"",q.i(255,255,255,255),q.k(0,0,0));this.Na.sb(!0)},Zb:function(){this.W&&this.W.rc();var a=[],c=[],d=q.sa.e();this.CH={};for(var e in this.data.objectiveList)if(a[e]=q.C.create(),a[e].T(324,32),null==this.data.objectiveList[e])this.data.objectiveList.splice(e,
1);else{var f=q.da.create(q.i(0,0,0,127),316,1);f.n(q.a(4,0));var g=q.w.fb(d.Ia("GUI/edit.png"));g.n(q.a(272,0));g.L(q.a(0,0));var h=q.w.fb(d.Ia("GUI/trash.png"));h.n(q.a(300,0));h.L(q.a(0,0));var k=q.R.create(this.data.objectiveList[e],"Arial",15);k.L(q.a(0,0));k.n(q.a(4,4));k.Oc(q.size(246,0));k.l(q.k(0,0,0));g.pc="Edit";var l=[];l.push(g);0!=e&&(h.pc="Delete",l.push(h));c.push(l);a[e].f(f);a[e].f(g);0!=e&&a[e].f(h);a[e].f(k);a[e].T(324,k.d().height+8);g.nd((k.d().height+8)/2-10);h.nd((k.d().height+
8)/2-10)}d=q.da.create(q.i(70,200,70,255),90,26);e=q.R.create("+","Arial",20);e.n(45,13);e.L(q.a(0.5,0.5));d.n(q.a(120,0));d.pc="Add";d.f(e);c.push([d]);a.push(d);this.W=this.b.main_panel.list;var m=this;this.W.ne=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].d().height;return q.size(324,c)};this.W.Kd=function(){return a.length};this.W.Ze=function(c){return a[c].d()};this.W.Xe=function(c){return a[c]};this.W.yc=function(a,c,d){m.Ba(d.K);if(!0!=m.Bn)switch(a){case "Delete":null!=m.ya&&(m.ya.rc(),
m.We=null,m.ya.Q(),m.ya=null,m.gb=null);m.X.f(DropDownList.fe(m,m.VB,["Cancel","Delete"],d.K));m.gb=c;break;case "Edit":m.gb=c;m.bC(c);break;case "Add":m.AQ()}};this.W.ma=ListView.create(this.W);this.W.ma.df(c);this.W.f(this.W.ma)},Mc:function(){return{panels:{position:q.a(300,200),children:{background_image:{$:"GUI/list_panel.png",c:q.a(0,0)},main_panel:{c:q.a(0,0),size:q.size(365,328),children:{nameLabel:{label:"Quest Name",color:q.k(0,0,0),position:q.a(8,312),c:q.a(0,0)},nameBox:{size:q.size(150,
32),u:q.i(255,255,255,255),position:q.a(8,277),c:q.a(0,0)},savebtn:{size:q.size(64,32),u:q.i(0,255,0,255),position:q.a(175,277),c:q.a(0,0),children:{content:{label:"Save",color:q.k(0,0,0),position:q.a(32,16),c:q.a(0.5,0.5)}}},exitbtn:{size:q.size(64,32),u:q.i(255,0,0,255),position:q.a(253,277),c:q.a(0,0),children:{content:{label:"Exit",color:q.k(0,0,0),position:q.a(32,16),c:q.a(0.5,0.5)}}},objectivesLabel:{label:"Objectives",color:q.k(0,0,0),position:q.a(8,254),c:q.a(0,0)},list:{size:q.size(324,250),
u:q.i(0,200,200,200),position:q.a(0,0),c:q.a(0,0)}}},control_panel:{c:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Quest Editor",fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),c:q.a(0,0),$:"GUI/close.png"}}}}}}},VB:function(a){switch(a){case 1:this.m.gb&&(this.m.data.objectiveList.splice(this.m.gb,1),this.m.Zb(),this.m.gb=null)}},AQ:function(){this.data.objectiveList.push("Blank Objective");this.Zb()},We:null,ya:null,bC:function(a){null!=
this.ya&&(this.ya.rc(),this.We=null,this.ya.Q(),this.gb=this.ya=null);this.ya=q.da.create(q.i(255,255,255,200),200,200);this.ya.n(q.a((this.b.main_panel.d().width-200)/2,(this.b.main_panel.d().height-200)/2));this.We=new $(this.ya,q.size(190,150),q.a(0,this.ya.d().height),this.data.objectiveList[a],q.i(100,100,100),q.k(255,255,255),!0);this.We.sb(!0);this.We.$J(!0);a=q.da.create(q.i(0,200,255,255),64,32);a.n(q.a(14,9));var c=q.R.create("OK","Arial",16);c.l(q.k(0,0,0));c.n(32,16);c.L(q.a(0.5,0.5));
a.f(c);c=q.da.create(q.i(200,0,0,255),64,32);c.n(q.a(120,9));var d=q.R.create("Cancel","Arial",16);d.l(q.k(0,0,0));d.n(32,16);d.L(q.a(0.5,0.5));c.f(d);this.b.main_panel.f(this.ya);this.ya.f(a);this.ya.PC=a;this.ya.f(c);this.ya.cancel=c},jb:function(a){if(this._super(a))return!0;this.xd=null;a=a.K;if(null!=this.ya){a=this.ya.Ba(a);if(O(this.ya.PC,a))return this.data.objectiveList[this.gb]=this.We.Y(),this.ya.rc(),this.We=null,this.ya.Q(),this.gb=this.ya=null,this.Zb(),!0;O(this.ya.cancel,a)&&(this.ya.rc(),
this.We=null,this.ya.Q(),this.gb=this.ya=null);return!0}a=this.b.main_panel.Ba(a);if(O(this.b.main_panel.savebtn,a)){if(null==this.Na.Y()||""==this.Na.Y())return!0;this.zf=!0;this.data.name=this.Na.Y();this.m.Yc(this.data);return!0}if(O(this.b.main_panel.exitbtn,a)){this.zf=!0;var c=this.m;this.m.zc(function(){c.Yc(null)});return!0}return O(this.b.main_panel,a)?!0:!1}});Mapeditor=null;
MapEditor=Popup.extend({map:null,N:q.a(0,0),uc:"tiles",TI:null,vw:"ground1",Qb:I[0].name,S:0,Mc:function(){return{panels:{position:q.a(300,10),children:{main_panel:{c:q.a(0,0),position:q.a(0,0),size:q.size(420,380),u:q.i(0,0,100,120),children:{tab1:{children:{tiles:{c:q.a(0,1),position:q.a(16,336),$:I[0].name},textureleftbtn:{position:q.a(360,344),size:q.size(16,32),u:M,c:q.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,16),color:q.k(0,0,0)}}},texturerightbtn:{position:q.a(472,344),
size:q.size(16,32),u:M,c:q.a(0,0),children:{text:{label:"\x3e\x3e",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,16),color:q.k(0,0,0)}}},textureName:{position:q.a(376,344),size:q.size(96,32),u:q.i(255,255,255,170),c:q.a(0,0),children:{text:{label:I[0].name,fontSize:12,c:q.a(0.5,0.5),position:q.a(48,16),color:q.k(0,0,0)}}},deletebtn:{position:q.a(360,308),size:q.size(60,32),u:M,c:q.a(0,0),children:{text:{label:"Erase",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},leftbtn:{position:q.a(0,
16),size:q.size(16,320),u:q.i(0,0,255,255),c:q.a(0,0),children:{text:{label:"\x3c",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,160),color:q.k(255,255,255)}}},rightbtn:{position:q.a(336,16),size:q.size(16,320),u:q.i(0,0,255,255),c:q.a(0,0),children:{text:{label:"\x3e",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,160),color:q.k(255,255,255)}}},upbtn:{position:q.a(16,336),size:q.size(320,16),u:q.i(0,0,255,255),c:q.a(0,0),children:{text:{label:"^",fontSize:12,c:q.a(0.5,0.5),position:q.a(160,8),color:q.k(255,
255,255)}}},downbtn:{position:q.a(16,0),size:q.size(320,16),u:q.i(0,0,255,255),c:q.a(0,0),children:{text:{label:"v",fontSize:12,c:q.a(0.5,0.5),position:q.a(160,8),color:q.k(255,255,255)}}},fillbtn:{position:q.a(428,308),size:q.size(60,32),u:M,c:q.a(0,0),children:{text:{label:"Fill",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},ground1btn:{position:q.a(360,278),size:q.size(128,26),u:Ga,c:q.a(0,0),children:{text:{label:"Ground 1",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,
0,0)}}},ground2btn:{position:q.a(360,248),size:q.size(128,26),u:M,c:q.a(0,0),children:{text:{label:"Ground 2",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,0,0)}}},groundShadowbtn:{position:q.a(360,218),size:q.size(128,26),u:M,c:q.a(0,0),children:{text:{label:"Ground Shadow",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,0,0)}}},mask1btn:{position:q.a(360,188),size:q.size(128,26),u:M,c:q.a(0,0),children:{text:{label:"Mask 1",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),
color:q.k(0,0,0)}}},mask2btn:{position:q.a(360,158),size:q.size(128,26),u:M,c:q.a(0,0),children:{text:{label:"Mask 2",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,0,0)}}},mask3btn:{position:q.a(360,128),size:q.size(128,26),u:M,c:q.a(0,0),children:{text:{label:"Mask 3",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,0,0)}}},fringe1btn:{position:q.a(360,98),size:q.size(128,26),u:M,c:q.a(0,0),children:{text:{label:"Fringe 1",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,
0,0)}}},fringe2btn:{position:q.a(360,68),size:q.size(128,26),u:M,c:q.a(0,0),children:{text:{label:"Fringe 2",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,0,0)}}},fringeShadowbtn:{position:q.a(360,38),size:q.size(128,26),u:M,c:q.a(0,0),children:{text:{label:"Fringe Shadow",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,0,0)}}},fringe3btn:{position:q.a(360,8),size:q.size(128,26),u:M,c:q.a(0,0),children:{text:{label:"Fringe 3",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),
color:q.k(0,0,0)}}},highlightnode:{c:q.a(0,0),position:q.a(0,0),size:q.size(32,32),u:q.i(255,100,100,255)},selectednode:{c:q.a(0,0),position:q.a(0,0),size:q.size(32,32),u:q.i(100,255,100,255)}}},tab2:{children:{blockbtn:{position:q.a(8,320),size:q.size(60,32),u:M,c:q.a(0,0),children:{text:{label:"Block",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},warpbtn:{position:q.a(8,280),size:q.size(60,32),u:M,c:q.a(0,0),children:{text:{label:"Warp",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,
16),color:q.k(0,0,0)}}},itembtn:{position:q.a(8,240),size:q.size(60,32),u:M,c:q.a(0,0),children:{text:{label:"Item",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},signbtn:{position:q.a(8,200),size:q.size(60,32),u:M,c:q.a(0,0),children:{text:{label:"Sign",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},npcbtn:{position:q.a(8,160),size:q.size(60,32),u:M,c:q.a(0,0),children:{text:{label:"NPC",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},amountLabelHead:{visible:!1,
label:"Item Amount",fontSize:12,c:q.a(0,0),position:q.a(100,342)},amountLabel:{size:q.size(60,32),position:q.a(98,-1E6)}}},tab3:{children:{saveBack:{position:q.a(0,78),size:q.size(200,60),u:q.i(0,255,0,100),c:q.a(0,0)},deleteback:{position:q.a(0,138),size:q.size(200,60),u:q.i(255,0,0,100),c:q.a(0,0)},mapnumsback:{position:q.a(0,198),size:q.size(200,162),u:q.i(0,0,0,170),c:q.a(0,0)},mapUp_text:{label:"Map Up",fontSize:10,c:q.a(0.5,0),position:q.a(100,344)},mapUp_entry:{size:q.size(60,32),position:q.a(70,
312)},mapDown_text:{label:"Map Down",fontSize:10,c:q.a(0.5,0),position:q.a(100,232)},mapDown_entry:{size:q.size(60,32),position:q.a(70,200)},mapLeft_text:{label:"Map Left",fontSize:10,c:q.a(0.5,0),position:q.a(38,290)},mapLeft_entry:{size:q.size(60,32),position:q.a(8,258)},mapRight_text:{label:"Map Right",fontSize:10,c:q.a(0.5,0),position:q.a(162,290)},mapRight_entry:{size:q.size(60,32),position:q.a(132,258)},this_map:{position:q.a(70,248),size:q.size(60,60),u:M,c:q.a(0,0),children:{text:{label:"THIS MAP\n#"+
F.oe(),fontSize:12,c:q.a(0.5,0.5),position:q.a(30,30),color:q.k(0,0,0)}}},clearbtn:{position:q.a(70,150),size:q.size(60,32),u:M,c:q.a(0,0),children:{text:{label:"Clear",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},clear_text:{label:"Clear Map: You sure?",fontSize:14,c:q.a(0.5,0),position:q.a(100,182)},clearbtnNo:{position:q.a(10,150),size:q.size(60,32),u:M,c:q.a(0,0),children:{text:{label:"NO",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},clearbtnYes:{position:q.a(130,
150),size:q.size(60,32),u:M,c:q.a(0,0),children:{text:{label:"YES",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},savebtn:{position:q.a(70,90),size:q.size(60,32),u:M,c:q.a(0,0),children:{text:{label:"Save",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},save_text:{label:"Save Map: You sure?",fontSize:14,c:q.a(0.5,0),position:q.a(100,122)},savebtnNo:{position:q.a(10,90),size:q.size(60,32),u:M,c:q.a(0,0),children:{text:{label:"NO",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,
16),color:q.k(0,0,0)}}},savebtnYes:{position:q.a(130,90),size:q.size(60,32),u:M,c:q.a(0,0),children:{text:{label:"YES",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},saveOnExit:{position:q.a(40,30),size:q.size(120,32),u:M,c:q.a(0.5,0),children:{content:{label:"",fontSize:14,c:q.a(0.5,0.5),position:q.a(60,15),color:q.k(0,0,0)}}}}},tab1Clickable:{position:q.a(0,360),size:q.size(60,20),u:M,c:q.a(0,0),children:{text:{label:"Editor",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,10),color:q.k(0,
0,0)}}},tab2Clickable:{position:q.a(64,360),size:q.size(60,20),u:M,c:q.a(0,0),children:{text:{label:"Scripts",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,10),color:q.k(0,0,0)}}},tab3Clickable:{position:q.a(128,360),size:q.size(60,20),u:M,c:q.a(0,0),children:{text:{label:"Settings",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,10),color:q.k(0,0,0)}}}}},control_panel:{c:q.a(0,0),position:q.a(0,380),size:q.size(420,32),u:q.i(255,0,0,200),children:{header:{label:"Map Editor - Map #"+F.oe(),fontSize:20,c:q.a(0,
0.5),position:q.a(8,16)},exitBtn:{position:q.a(391,3),size:q.size(26,26),c:q.a(0,0),u:q.i(255,255,255,200),children:{content:{label:"X",fontSize:20,color:q.k(0,0,0),c:q.a(0.5,0.5),position:q.a(13,13)}}}}}}}}},Lc:function(){return"MapEditor"},N:null,Is:null,Fs:null,Gs:null,Hs:null,aj:null,gf:null,Jc:0,Og:null,s:function(a){this._super();this.map=a;this.N=q.a(0,0);this.gf=[null,496,200,200]},xa:function(){this._super();this.b.main_panel.tab1.highlightnode.fa(0);this.b.main_panel.tab1.selectednode.fa(0);
this.Is=new $(this.b.main_panel.tab3.mapUp_entry,q.size(this.b.main_panel.tab3.mapUp_entry.d().width,this.b.main_panel.tab3.mapUp_entry.d().height),q.a(0,this.b.main_panel.tab3.mapUp_entry.d().height),F.uI()?F.gI():"",q.i(100,100,100),q.k(255,255,255));this.Is.sb(!0);this.Is.zd(!0);this.Fs=new $(this.b.main_panel.tab3.mapDown_entry,q.size(this.b.main_panel.tab3.mapDown_entry.d().width,this.b.main_panel.tab3.mapDown_entry.d().height),q.a(0,this.b.main_panel.tab3.mapDown_entry.d().height),F.sI()?F.eI():
"",q.i(100,100,100),q.k(255,255,255));this.Fs.sb(!0);this.Fs.zd(!0);this.Gs=new $(this.b.main_panel.tab3.mapLeft_entry,q.size(this.b.main_panel.tab3.mapLeft_entry.d().width,this.b.main_panel.tab3.mapLeft_entry.d().height),q.a(0,this.b.main_panel.tab3.mapLeft_entry.d().height),F.tI()?F.fI():"",q.i(100,100,100),q.k(255,255,255));this.Gs.sb(!0);this.Gs.zd(!0);this.Hs=new $(this.b.main_panel.tab3.mapRight_entry,q.size(this.b.main_panel.tab3.mapRight_entry.d().width,this.b.main_panel.tab3.mapRight_entry.d().height),
q.a(0,this.b.main_panel.tab3.mapRight_entry.d().height),F.vC()?F.iC():"",q.i(100,100,100),q.k(255,255,255));this.Hs.sb(!0);this.Hs.zd(!0);this.aj=new $(this.b.main_panel.tab2.amountLabel,q.size(this.b.main_panel.tab2.amountLabel.d().width,this.b.main_panel.tab2.amountLabel.d().height),q.a(0,this.b.main_panel.tab2.amountLabel.d().height),F.vC()?F.iC():"1",q.i(100,100,100),q.k(255,255,255));this.aj.sb(!0);this.aj.zd(!0);this.Hx(!1);this.Ix(!1);this.rx=v.pS();this.qK(this.rx);this.Mg(1);this.lb();F.tK(!0)},
Zs:function(a,c){Warpeditor&&(Warpeditor.Pa(),this.zc(function(){Warpeditor.Q();Warpeditor=null}),this.Og=a,this.Tb(!0));Signeditor&&(Signeditor.Pa(),this.zc(function(){Signeditor.Q();Signeditor=null}),this.Og=a,this.Tb(!0));Itemeditor&&(Itemeditor.Pa(),this.zc(function(){Itemeditor.Q();Itemeditor=null}),this.Og=a,this.Tb(!0),this.aj.xc.zh("1"),!0==c.stackable&&(this.b.main_panel.tab2.amountLabelHead.D(!0),this.b.main_panel.tab2.amountLabel.n(98,308)));NPCeditor&&(NPCeditor.Pa(),this.zc(function(){NPCeditor.Q();
NPCeditor=null}),this.Og=a,this.Tb(!0))},Pa:function(){this._super();!0==this.rx&&(F.hK({up:this.Is.Y(),down:this.Fs.Y(),left:this.Gs.Y(),right:this.Hs.Y()}),F.gL());F.tK(!1)},ii:function(a){a=a.K;if(1==this.Jc&&(this.b.main_panel.tab1.highlightnode.fa(0),a=this.b.main_panel.tab1.tiles.Ba(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.d().width&&a.y<=this.b.main_panel.tab1.tiles.d().height))return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+16,this.b.main_panel.tab1.highlightnode.fa(127),this.b.main_panel.tab1.highlightnode.n(a),
!0},Mg:function(a){if(a!=this.Jc){this.b.main_panel.T(this.gf[a],this.b.main_panel.d().height);this.b.control_panel.T(this.gf[a],this.b.control_panel.d().height);if(3==this.Jc||0==this.Jc)this.b.main_panel.tab3.mapUp_entry.ec(this.b.main_panel.tab3.mapUp_entry.q.F-1E3),this.b.main_panel.tab3.mapLeft_entry.ec(this.b.main_panel.tab3.mapLeft_entry.q.F-1E3),this.b.main_panel.tab3.mapDown_entry.ec(this.b.main_panel.tab3.mapDown_entry.q.F-1E3),this.b.main_panel.tab3.mapRight_entry.ec(this.b.main_panel.tab3.mapRight_entry.q.F-
1E3);1!=this.Jc||"erasing"!=this.uc&&"tiles"!=this.uc||(this.uc="blocking");2==this.Jc&&"blocking"==this.uc&&(this.uc="tiles");this.Jc=a;this.b.main_panel.tab1.D(!1);this.b.main_panel.tab2.D(!1);this.b.main_panel.tab3.D(!1);this.b.main_panel.tab1Clickable.l(M);this.b.main_panel.tab2Clickable.l(M);this.b.main_panel.tab3Clickable.l(M);this.b.main_panel["tab"+a].D(!0);this.b.main_panel["tab"+a+"Clickable"].l(q.i(255,255,0,255));3==a&&(this.b.main_panel.tab3.mapUp_entry.ec(this.b.main_panel.tab3.mapUp_entry.q.F+
1E3),this.b.main_panel.tab3.mapLeft_entry.ec(this.b.main_panel.tab3.mapLeft_entry.q.F+1E3),this.b.main_panel.tab3.mapDown_entry.ec(this.b.main_panel.tab3.mapDown_entry.q.F+1E3),this.b.main_panel.tab3.mapRight_entry.ec(this.b.main_panel.tab3.mapRight_entry.q.F+1E3));this.b.control_panel.exitBtn.ec(this.gf[a]-29)}},qK:function(a){v.wW(a);this.rx=a;this.b.main_panel.tab3.saveOnExit.l(q.k(255,0,0));this.b.main_panel.tab3.saveOnExit.content.ca("Save on exit: NO");if("true"==a||!0==a)this.b.main_panel.tab3.saveOnExit.l(q.k(0,
255,0)),this.b.main_panel.tab3.saveOnExit.content.ca("Save on exit: YES")},lb:function(){this.sc(this.lb);this.b.main_panel.tab1.tiles.aa()&&!0==this.b.main_panel.tab1.tiles.aa().nc&&(this.Ad(this.lb),this.b.main_panel.tab1.tiles.Lb(q.rect(Math.floor(32*this.N.x),Math.floor(32*this.N.y),320>I[this.S].texture.d().width?I[this.S].texture.d().width:320,320>I[this.S].texture.d().height?I[this.S].texture.d().height:320)))},jb:function(a){if(this._super(a))return!0;this.xd=null;a=a.K;var c=this.b.main_panel.Ba(a);
if(O(this.b.main_panel.tab1Clickable,c))return this.Mg(1),!0;if(O(this.b.main_panel.tab2Clickable,c))return this.Mg(2),!0;if(O(this.b.main_panel.tab3Clickable,c))return this.Mg(3),!0;if(1==this.Jc){if(O(this.b.main_panel.tab1.leftbtn,c))return 320<I[this.S].texture.d().width&&0<this.N.x&&(this.N.x--,this.lb()),!0;if(O(this.b.main_panel.tab1.rightbtn,c))return 320<I[this.S].texture.d().width&&this.N.x<(I[this.S].texture.d().width-320)/32&&(this.N.x++,this.lb()),!0;if(O(this.b.main_panel.tab1.upbtn,
c))return 320<I[this.S].texture.d().height&&0<this.N.y&&(this.N.y--,this.lb()),!0;if(O(this.b.main_panel.tab1.downbtn,c))return 320<I[this.S].texture.d().height&&this.N.y<(I[this.S].texture.d().height-320)/32&&(this.N.y++,this.lb()),!0;if(O(this.b.main_panel.tab1.ground1btn,c))return this.gj("ground1"),!0;if(O(this.b.main_panel.tab1.ground2btn,c))return this.gj("ground2"),!0;if(O(this.b.main_panel.tab1.groundShadowbtn,c))return this.gj("groundShadow"),!0;if(O(this.b.main_panel.tab1.mask1btn,c))return this.gj("mask1"),
!0;if(O(this.b.main_panel.tab1.mask2btn,c))return this.gj("mask2"),!0;if(O(this.b.main_panel.tab1.mask3btn,c))return this.gj("mask3"),!0;if(O(this.b.main_panel.tab1.fringe1btn,c))return this.gj("fringe1"),!0;if(O(this.b.main_panel.tab1.fringe2btn,c))return this.gj("fringe2"),!0;if(O(this.b.main_panel.tab1.fringeShadowbtn,c))return this.gj("fringeShadow"),!0;if(O(this.b.main_panel.tab1.fringe3btn,c))return this.gj("fringe3"),!0;if(O(this.b.main_panel.tab1.texturerightbtn,c))return this.Hn(),!0;if(O(this.b.main_panel.tab1.textureleftbtn,
c))return this.In(),!0;if(O(this.b.main_panel.tab1.deletebtn,c))return this.uc="erasing"==this.uc?"tiles":"erasing",this.b.main_panel.tab1.deletebtn.l(M),"erasing"==this.uc&&this.b.main_panel.tab1.deletebtn.l(N),!0;if(O(this.b.main_panel.tab1.fillbtn,c))return 0!=this.b.main_panel.tab1.selectednode.Wi()&&(F.ZR(I[this.S].name,q.a((this.b.main_panel.tab1.selectednode.q.F-16)/32+this.N.x,9-(this.b.main_panel.tab1.selectednode.q.J-16)/32+this.N.y),this.vw),F.ht()),!0;c=this.b.main_panel.tab1.tiles.Ba(a);
if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.d().width&&c.y<=this.b.main_panel.tab1.tiles.d().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+16;this.b.main_panel.tab1.selectednode.fa(0);if(this.b.main_panel.tab1.selectednode.q.F!=c.x||this.b.main_panel.tab1.selectednode.q.J!=c.y)this.b.main_panel.tab1.selectednode.fa(127),this.b.main_panel.tab1.selectednode.n(c);return!0}}if(2==this.Jc){if(O(this.b.main_panel.tab2.blockbtn,c))return this.b.main_panel.tab2.warpbtn.l(M),this.b.main_panel.tab2.signbtn.l(M),
this.b.main_panel.tab2.npcbtn.l(M),this.b.main_panel.tab2.itembtn.l(M),this.b.main_panel.tab2.blockbtn.l(M),this.uc="blocking"==this.uc?"tiles":"blocking","blocking"==this.uc&&(this.b.main_panel.tab2.blockbtn.l(N),this.b.main_panel.tab2.amountLabelHead.D(!1),this.b.main_panel.tab2.amountLabel.n(68,-1E5)),!0;if(O(this.b.main_panel.tab2.warpbtn,c))return this.b.main_panel.tab2.warpbtn.l(M),this.b.main_panel.tab2.signbtn.l(M),this.b.main_panel.tab2.npcbtn.l(M),this.b.main_panel.tab2.itembtn.l(M),this.b.main_panel.tab2.blockbtn.l(M),
this.b.main_panel.tab2.amountLabelHead.D(!1),this.b.main_panel.tab2.amountLabel.n(68,-1E6),this.uc="warping"==this.uc?"tiles":"warping","warping"==this.uc&&(null==Warpeditor||Warpeditor.X||(Warpeditor=null),Warpeditor&&(Warpeditor.Pa(),Warpeditor.Q(),Warpeditor=null),Warpeditor=new PopupList,Warpeditor.s({m:this,qh:new WarpEditor,list:ObjectLists.Wm(),name:"Warp List"}),Warpeditor.xa(),this.X.f(Warpeditor),this.Tb(!1),this.b.main_panel.tab2.warpbtn.l(N),this.b.main_panel.tab2.amountLabelHead.D(!1),
this.b.main_panel.tab2.amountLabel.n(68,-1E5)),!0;if(O(this.b.main_panel.tab2.signbtn,c))return this.b.main_panel.tab2.signbtn.l(M),this.b.main_panel.tab2.warpbtn.l(M),this.b.main_panel.tab2.npcbtn.l(M),this.b.main_panel.tab2.itembtn.l(M),this.b.main_panel.tab2.blockbtn.l(M),this.b.main_panel.tab2.amountLabelHead.D(!1),this.b.main_panel.tab2.amountLabel.n(68,-1E6),this.uc="signs"==this.uc?"tiles":"signs","signs"==this.uc&&(null==Signeditor||Signeditor.X||(Signeditor=null),Signeditor&&(Signeditor.Pa(),
Signeditor.Q(),Signeditor=null),Signeditor=new PopupList,Signeditor.s({m:this,qh:new SignEditor,list:ObjectLists.ts(),name:"Sign List"}),Signeditor.xa(),this.X.f(Signeditor),this.Tb(!1),this.b.main_panel.tab2.signbtn.l(N)),!0;if(O(this.b.main_panel.tab2.npcbtn,c))return this.b.main_panel.tab2.signbtn.l(M),this.b.main_panel.tab2.warpbtn.l(M),this.b.main_panel.tab2.npcbtn.l(M),this.b.main_panel.tab2.itembtn.l(M),this.b.main_panel.tab2.blockbtn.l(M),this.b.main_panel.tab2.amountLabelHead.D(!1),this.b.main_panel.tab2.amountLabel.n(68,
-1E6),this.uc="npcs"==this.uc?"tiles":"npcs","npcs"==this.uc&&(null==NPCeditor||NPCeditor.X||(NPCeditor=null),NPCeditor&&(NPCeditor.Pa(),NPCeditor.Q(),NPCeditor=null),NPCeditor=new PopupList,NPCeditor.s({m:this,qh:new NPCEditor,list:ObjectLists.il(),name:"NPC List"}),NPCeditor.xa(),this.X.f(NPCeditor),this.Tb(!1),this.b.main_panel.tab2.npcbtn.l(N)),!0;if(O(this.b.main_panel.tab2.itembtn,c))return this.b.main_panel.tab2.warpbtn.l(M),this.b.main_panel.tab2.itembtn.l(M),this.b.main_panel.tab2.npcbtn.l(M),
this.b.main_panel.tab2.blockbtn.l(M),this.b.main_panel.tab2.amountLabelHead.D(!1),this.b.main_panel.tab2.amountLabel.n(68,-1E6),this.uc="items"==this.uc?"tiles":"items","items"==this.uc&&(null==Itemeditor||Itemeditor.X||(Itemeditor=null),Itemeditor&&(Itemeditor.Pa(),Itemeditor.Q(),Itemeditor=null),Itemeditor=new PopupList,Itemeditor.s({m:this,qh:new ItemEditor,list:ObjectLists.bi(),name:"Item List"}),Itemeditor.xa(),this.X.f(Itemeditor),this.Tb(!1),this.b.main_panel.tab2.itembtn.l(N)),!0}if(3==this.Jc){if(O(this.b.main_panel.tab3.clearbtn,
c))return this.Hx(!0),!0;if(O(this.b.main_panel.tab3.clearbtnNo,c))return this.Hx(!1),!0;if(O(this.b.main_panel.tab3.clearbtnYes,c))return F.Jd(),this.Hx(!1),!0;if(O(this.b.main_panel.tab3.savebtn,c))return this.Ix(!0),!0;if(O(this.b.main_panel.tab3.savebtnNo,c))return this.Ix(!1),!0;if(O(this.b.main_panel.tab3.savebtnYes,c))return F.hK({up:this.Is.Y(),down:this.Fs.Y(),left:this.Gs.Y(),right:this.Hs.Y()}),F.gL(),this.Ix(!1),!0;if(O(this.b.main_panel.tab3.saveOnExit,c))return this.qK(!this.rx),!0}return!1},
gj:function(a){this.b.main_panel.tab1.ground1btn.l(M);this.b.main_panel.tab1.ground2btn.l(M);this.b.main_panel.tab1.groundShadowbtn.l(M);this.b.main_panel.tab1.mask1btn.l(M);this.b.main_panel.tab1.mask2btn.l(M);this.b.main_panel.tab1.mask3btn.l(M);this.b.main_panel.tab1.fringe1btn.l(M);this.b.main_panel.tab1.fringe2btn.l(M);this.b.main_panel.tab1.fringeShadowbtn.l(M);this.b.main_panel.tab1.fringe3btn.l(M);this.b.main_panel.tab1[a+"btn"].l(Ga);this.vw=a},Hn:function(){this.S>=I.length-1&&(this.S=-1);
this.S++;this.b.main_panel.tab1.tiles.ka(I[this.S].texture);this.Qb=I[this.S].name;this.b.main_panel.tab1.textureName.text.ca(this.Qb);this.N=q.a(0,0);this.lb()},In:function(){0>=this.S&&(this.S=I.length);this.S--;this.b.main_panel.tab1.tiles.ka(I[this.S].texture);this.Qb=I[this.S].name;this.b.main_panel.tab1.textureName.text.ca(this.Qb);this.N=q.a(0,0);this.lb()},Hx:function(a){this.b.main_panel.tab3.clearbtnYes.D(a);this.b.main_panel.tab3.clearbtnNo.D(a);this.b.main_panel.tab3.clear_text.D(a);this.b.main_panel.tab3.clearbtn.D(!a)},
Ix:function(a){this.b.main_panel.tab3.savebtnYes.D(a);this.b.main_panel.tab3.savebtnNo.D(a);this.b.main_panel.tab3.save_text.D(a);this.b.main_panel.tab3.savebtn.D(!a)},VK:function(a,c,d){if(a[c]==this.TI&&"moved"==d)return!1;this.TI=a[c];switch(this.uc){case "tiles":0!=this.b.main_panel.tab1.selectednode.Wi()&&F.kk(c,I[this.S].name,q.a((this.b.main_panel.tab1.selectednode.q.F-16)/32+this.N.x,9-(this.b.main_panel.tab1.selectednode.q.J-16)/32+this.N.y),this.vw);break;case "blocking":if(1!=a[c].lc()){F.ej(c,
1);break}F.ej(c,0);break;case "warping":if(null==Warpeditor||!Warpeditor.X){if(3!=a[c].lc()){F.ej(c,3,this.Og);break}F.ej(c,0,null)}break;case "signs":if(null==Signeditor||!Signeditor.X){if(7!=a[c].lc()){F.ej(c,7,this.Og);break}F.ej(c,0,null)}break;case "items":if(null==Itemeditor||!Itemeditor.X){if(4!=a[c].lc()){F.ej(c,4,this.Og,{amount:this.aj.Y()});break}F.ej(c,0,null)}break;case "npcs":if(null==NPCeditor||!NPCeditor.X){if(5!=a[c].lc()){F.ej(c,5,this.Og);break}F.ej(c,0,null)}break;case "erasing":F.YB(c,
this.vw)}}});NPCeditor=null;
NPCEditor=Popup.extend({Qb:K[0].name,S:0,Mc:function(){return{panels:{position:q.a(300,10),children:{main_panel:{c:q.a(0,0),position:q.a(0,0),size:q.size(420,396),u:q.i(0,0,100,120),children:{tab1:{children:{tiles:{c:q.a(0,1),position:q.a(48,320),$:K[0].name},textureleftbtn:{position:q.a(32,340),size:q.size(16,32),u:M,c:q.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,16),color:q.k(0,0,0)}}},texturerightbtn:{position:q.a(144,340),size:q.size(16,32),u:M,c:q.a(0,0),
children:{text:{label:"\x3e\x3e",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,16),color:q.k(0,0,0)}}},textureName:{position:q.a(48,340),size:q.size(96,32),u:q.i(255,255,255,170),c:q.a(0,0),children:{text:{label:K[0].name,fontSize:12,c:q.a(0.5,0.5),position:q.a(48,16),color:q.k(0,0,0)}}},upbtn:{position:q.a(48,320),size:q.size(96,16),u:q.i(0,0,255,255),c:q.a(0,0),children:{text:{label:"^",fontSize:12,c:q.a(0.5,0.5),position:q.a(48,8),color:q.k(255,255,255)}}},downbtn:{position:q.a(48,48),size:q.size(96,
16),u:q.i(0,0,255,255),c:q.a(0,0),children:{text:{label:"v",fontSize:12,c:q.a(0.5,0.5),position:q.a(48,8),color:q.k(255,255,255)}}},highlightnode:{c:q.a(0,0),position:q.a(0,0),size:q.size(96,128),u:q.i(255,100,100,255)},selectednode:{c:q.a(0,0),position:q.a(0,0),size:q.size(96,128),u:q.i(100,255,100,255)}}},tab2:{children:{itemdetailsback:{position:q.a(144,0),size:q.size(250,366),u:q.i(0,0,255,100),c:q.a(0,0)},name_text:{label:"Item Name",fontSize:10,c:q.a(0,0),position:q.a(8,344)},name_entry:{size:q.size(136,
32),position:q.a(4,312)}}},tab3:{},tab1Clickable:{position:q.a(0,376),size:q.size(60,20),u:M,c:q.a(0,0),children:{text:{label:"Sprite",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,10),color:q.k(0,0,0)}}},tab2Clickable:{position:q.a(64,376),size:q.size(60,20),u:M,c:q.a(0,0),children:{text:{label:"Details",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,10),color:q.k(0,0,0)}}},tab3Clickable:{position:q.a(128,376),size:q.size(60,20),u:M,c:q.a(0,0),children:{text:{label:"Modifier",fontSize:12,c:q.a(0.5,0.5),
position:q.a(32,10),color:q.k(0,0,0)}}},okbtn:{position:q.a(104,8),size:q.size(60,32),u:M,c:q.a(0,0),children:{text:{label:"OK",fontSize:12,c:q.a(0.5,0.5),position:q.a(30,16),color:q.k(0,0,0)}}},cancelbtn:{position:q.a(32,8),size:q.size(60,32),u:M,c:q.a(0,0),children:{text:{label:"Cancel",fontSize:12,c:q.a(0.5,0.5),position:q.a(30,16),color:q.k(0,0,0)}}}}},control_panel:{c:q.a(0,0),position:q.a(0,396),size:q.size(420,32),u:q.i(255,0,0,200),children:{header:{label:"Item Editor",fontSize:20,c:q.a(0,
0.5),position:q.a(8,16)},exitBtn:{position:q.a(391,3),size:q.size(26,26),c:q.a(0,0),u:q.i(255,255,255,200),children:{content:{label:"X",fontSize:20,color:q.k(0,0,0),c:q.a(0.5,0.5),position:q.a(13,13)}}}}}}}}},Lc:function(){return"npcEditor"},Na:null,gf:null,Jc:0,m:null,data:null,s:function(a){this._super();this.data={name:"",sprite:{texture:null,position:null}};this.Qb=K[0].name;this.S=0;this.gf=this.Na=null;this.Jc=0;this.m=null;this.N=q.a(0,0);this.gf=[null,190,400,200];this.m=a.m;a&&a.data&&(this.data=
a.data)},dj:function(a){G({savenpcs:a+"",npcsdata:this.data})},Ti:function(a,c){G({savenpcswhole:c})},xa:function(){this._super();this.b.main_panel.tab1.highlightnode.fa(0);this.b.main_panel.tab1.selectednode.fa(127);for(var a in K)K[a].name==this.data.sprite.texture&&(this.S=a,this.Qb=K[a].name);this.b.main_panel.tab1.textureName.text.ca(this.Qb);this.b.main_panel.tab1.tiles.ka(K[this.S].texture);this.Na=new $(this.b.main_panel.tab2.name_entry,q.size(this.b.main_panel.tab2.name_entry.d().width,this.b.main_panel.tab2.name_entry.d().height),
q.a(0,this.b.main_panel.tab2.name_entry.d().height),this.data.name?this.data.name:"",q.i(100,100,100),q.k(255,255,255));this.Na.sb(!0);this.Mg(1);this.lb()},$W:function(){},Pa:function(a){this._super();if(this.m){var c=this.m;!0!=a&&this.m.zc(function(){c.Yc(null)})}},ii:function(a){a=a.K;if(1==this.Jc&&(this.b.main_panel.tab1.highlightnode.fa(0),a=this.b.main_panel.tab1.tiles.Ba(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.d().width&&a.y<=this.b.main_panel.tab1.tiles.d().height))return a.x=
a.x-a.x%96+48,a.y=a.y-a.y%128+64,this.b.main_panel.tab1.highlightnode.fa(127),this.b.main_panel.tab1.highlightnode.n(a),!0},Mg:function(a){a!=this.Jc&&(this.b.main_panel.T(this.gf[a],this.b.main_panel.d().height),this.b.control_panel.T(this.gf[a],this.b.control_panel.d().height),this.b.main_panel.tab2.name_entry.ec(this.b.main_panel.tab2.name_entry.q.F-1E3),this.Jc=a,this.b.main_panel.tab1.D(!1),this.b.main_panel.tab2.D(!1),this.b.main_panel.tab3.D(!1),this.b.main_panel.tab1Clickable.l(M),this.b.main_panel.tab2Clickable.l(M),
this.b.main_panel.tab3Clickable.l(M),this.b.main_panel["tab"+a].D(!0),this.b.main_panel["tab"+a+"Clickable"].l(q.i(255,255,0,255)),2==a&&this.b.main_panel.tab2.name_entry.ec(4),this.b.control_panel.exitBtn.ec(this.gf[a]-29))},lb:function(){this.sc(this.lb);this.b.main_panel.tab1.tiles.aa()&&!0==this.b.main_panel.tab1.tiles.aa().nc&&(this.Ad(this.lb),this.b.main_panel.tab1.tiles.Lb(q.rect(Math.floor(96*this.N.x),Math.floor(128*this.N.y),96>K[this.S].texture.d().width?K[this.S].texture.d().width:96,
256>K[this.S].texture.d().height?K[this.S].texture.d().height:256)))},jb:function(a){if(this._super(a))return!0;this.xd=null;a=a.K;var c=this.b.main_panel.Ba(a);if(O(this.b.main_panel.tab1Clickable,c))return this.Mg(1),!0;if(O(this.b.main_panel.tab2Clickable,c))return this.Mg(2),!0;if(O(this.b.main_panel.tab3Clickable,c))return this.Mg(3),!0;if(O(this.b.main_panel.okbtn,c)){if(null==this.Na.Y()||""==this.Na.Y())return!0;this.zf=!0;this.data.name=this.Na.Y();this.m.Yc(this.data);return!0}if(O(this.b.main_panel.cancelbtn,
c)){this.zf=!0;var d=this.m;this.m.zc(function(){d.Yc(null)});return!0}if(1==this.Jc){if(O(this.b.main_panel.tab1.upbtn,c))return 320<K[this.S].texture.d().height&&0<this.N.y&&(this.N.y--,this.lb()),!0;if(O(this.b.main_panel.tab1.downbtn,c))return 320<K[this.S].texture.d().height&&this.N.y<(K[this.S].texture.d().height-320)/32&&(this.N.y++,this.lb()),!0;if(O(this.b.main_panel.tab1.texturerightbtn,c))return this.Hn(),!0;if(O(this.b.main_panel.tab1.textureleftbtn,c))return this.In(),!0;c=this.b.main_panel.tab1.tiles.Ba(a);
if(O(this.b.main_panel.tab1.tiles,c)){c.x=c.x-c.x%96+48;c.y=c.y-c.y%128+64;this.b.main_panel.tab1.selectednode.fa(0);if(this.b.main_panel.tab1.selectednode.q.F!=c.x||this.b.main_panel.tab1.selectednode.q.J!=c.y)this.b.main_panel.tab1.selectednode.fa(127),this.b.main_panel.tab1.selectednode.n(c);a=q.a((this.b.main_panel.tab1.selectednode.q.F-16)/96+this.N.x,8-(this.b.main_panel.tab1.selectednode.q.J-64)/128+this.N.y-1);this.data.sprite.position=a;return!0}}return!1},RK:function(){this.data.stackable=
!this.data.stackable;this.b.main_panel.tab2.stackbtn.l(N);this.b.main_panel.tab2.stackbtn.text.ca("NOT STACKABLE");!0==this.data.stackable&&(this.b.main_panel.tab2.stackbtn.l(Ga),this.b.main_panel.tab2.stackbtn.text.ca("IS STACKABLE"))},v$:function(a){this.b.main_panel.tab2.wearabletab.head.l(M);this.b.main_panel.tab2.wearabletab.body.l(M);this.b.main_panel.tab2.wearabletab.legs.l(M);this.b.main_panel.tab2.wearabletab.feet.l(M);this.b.main_panel.tab2.wearabletab.rarm.l(M);this.b.main_panel.tab2.wearabletab.larm.l(M);
this.b.main_panel.tab2.wearabletab.mod.l(M);"wearable"==this.data.itemType&&this.b.main_panel.tab2.wearabletab[a]&&this.b.main_panel.tab2.wearabletab[a].l(N);this.data.subType=a},Hn:function(){this.S>=K.length-1&&(this.S=-1);this.S++;this.b.main_panel.tab1.tiles.ka(K[this.S].texture);this.Qb=K[this.S].name;this.b.main_panel.tab1.textureName.text.ca(this.Qb);this.data.sprite.texture=this.Qb;this.N=q.a(0,0);this.lb()},In:function(){0>=this.S&&(this.S=K.length);this.S--;this.b.main_panel.tab1.tiles.ka(K[this.S].texture);
this.Qb=K[this.S].name;this.b.main_panel.tab1.textureName.text.ca(this.Qb);this.N=q.a(0,0);this.lb()}});Skillseditor=null;
SkillsEditor=Popup.extend({Qb:I[0].name,S:0,Mc:function(){return{panels:{position:q.a(300,10),children:{main_panel:{c:q.a(0,0),position:q.a(0,0),size:q.size(420,396),u:q.i(0,0,100,120),children:{tab1:{children:{tiles:{c:q.a(0,1),position:q.a(16,320),$:I[0].name},textureleftbtn:{position:q.a(208,340),size:q.size(16,32),u:M,c:q.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,16),color:q.k(0,0,0)}}},texturerightbtn:{position:q.a(320,340),size:q.size(16,32),u:M,c:q.a(0,
0),children:{text:{label:"\x3e\x3e",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,16),color:q.k(0,0,0)}}},textureName:{position:q.a(224,340),size:q.size(96,32),u:q.i(255,255,255,170),c:q.a(0,0),children:{text:{label:I[0].name,fontSize:12,c:q.a(0.5,0.5),position:q.a(48,16),color:q.k(0,0,0)}}},leftbtn:{position:q.a(0,64),size:q.size(16,252),u:q.i(0,0,255,255),c:q.a(0,0),children:{text:{label:"\x3c",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,160),color:q.k(255,255,255)}}},rightbtn:{position:q.a(336,64),size:q.size(16,
252),u:q.i(0,0,255,255),c:q.a(0,0),children:{text:{label:"\x3e",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,160),color:q.k(255,255,255)}}},upbtn:{position:q.a(16,320),size:q.size(320,16),u:q.i(0,0,255,255),c:q.a(0,0),children:{text:{label:"^",fontSize:12,c:q.a(0.5,0.5),position:q.a(160,8),color:q.k(255,255,255)}}},downbtn:{position:q.a(16,48),size:q.size(320,16),u:q.i(0,0,255,255),c:q.a(0,0),children:{text:{label:"v",fontSize:12,c:q.a(0.5,0.5),position:q.a(160,8),color:q.k(255,255,255)}}},highlightnode:{c:q.a(0,
0),position:q.a(0,0),size:q.size(32,32),u:q.i(255,100,100,255)},selectednode:{c:q.a(0,0),position:q.a(0,0),size:q.size(32,32),u:q.i(100,255,100,255)}}},tab2:{children:{name_text:{label:"Skill Name",fontSize:10,c:q.a(0,0),position:q.a(8,344)},name_entry:{size:q.size(136,32),position:q.a(4,312)},healthcolor_text:{label:"Healthbar Color",fontSize:10,c:q.a(0,0),position:q.a(8,250)},healthcolor_entry:{size:q.size(136,32),position:q.a(4,210)},tile:{c:q.a(0,1),position:q.a(55,150),$:I[0].name},healthbtn:{position:q.a(8,
265),size:q.size(128,26),u:N,c:q.a(0,0),children:{text:{label:"NOT HEALTHBAR",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,0,0)}}}}},tab1Clickable:{position:q.a(0,376),size:q.size(60,20),u:M,c:q.a(0,0),children:{text:{label:"Icon",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,10),color:q.k(0,0,0)}}},tab2Clickable:{position:q.a(64,376),size:q.size(60,20),u:M,c:q.a(0,0),children:{text:{label:"Details",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,10),color:q.k(0,0,0)}}},okbtn:{position:q.a(76,
8),size:q.size(60,32),u:M,c:q.a(0,0),children:{text:{label:"OK",fontSize:12,c:q.a(0.5,0.5),position:q.a(30,16),color:q.k(0,0,0)}}},cancelbtn:{position:q.a(8,8),size:q.size(60,32),u:M,c:q.a(0,0),children:{text:{label:"Cancel",fontSize:12,c:q.a(0.5,0.5),position:q.a(30,16),color:q.k(0,0,0)}}}}},control_panel:{c:q.a(0,0),position:q.a(0,396),size:q.size(420,32),u:q.i(255,0,0,200),children:{header:{label:"Skill Editor",fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(391,3),size:q.size(26,
26),c:q.a(0,0),u:q.i(255,255,255,200),children:{content:{label:"X",fontSize:20,color:q.k(0,0,0),c:q.a(0.5,0.5),position:q.a(13,13)}}}}}}}}},Lc:function(){return"SkillsEditor"},Na:null,zp:null,gf:null,Jc:0,m:null,data:null,s:function(a){this._super();this.data={sprite:{texture:I[0].name,position:{x:0,y:0}},additionalData:{},healthbar:null,name:""};this.Qb=I[0].name;this.S=0;this.gf=this.Na=null;this.Jc=0;this.m=null;this.N=q.a(0,0);this.gf=[null,352,142];this.m=a.m;a&&a.data&&(this.data=a.data)},dj:function(a){G({saveskills:a+
"",skillsdata:this.data})},Ti:function(a,c){G({saveskillswhole:c})},xa:function(){this._super();this.b.main_panel.tab1.highlightnode.fa(0);this.b.main_panel.tab1.selectednode.fa(127);for(var a in I)I[a].name==this.data.sprite.texture&&(this.S=a,this.Qb=I[a].name);this.b.main_panel.tab1.textureName.text.ca(this.Qb);this.b.main_panel.tab1.tiles.ka(I[this.S].texture);for(a=this.data.sprite.position.x;10<=a;)a--,this.N.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.N.y++;a=q.a(32*(this.data.sprite.position.x-
this.N.x),32*(this.data.sprite.position.y-this.N.y));this.b.main_panel.tab1.selectednode.n(this.b.main_panel.tab1.tiles.q.x+a.x,this.b.main_panel.tab1.tiles.q.y-(a.y+32));this.b.main_panel.tab2.tile.ka(I[this.S].texture);this.b.main_panel.tab2.tile.Lb(q.rect(Math.floor(32*this.data.sprite.position.x),Math.floor(32*this.data.sprite.position.y),32,32));this.Na=new $(this.b.main_panel.tab2.name_entry,q.size(this.b.main_panel.tab2.name_entry.d().width,this.b.main_panel.tab2.name_entry.d().height),q.a(0,
this.b.main_panel.tab2.name_entry.d().height),this.data.name?this.data.name:"",q.i(100,100,100),q.k(255,255,255));this.Na.sb(!0);this.zp=new $(this.b.main_panel.tab2.healthcolor_entry,q.size(this.b.main_panel.tab2.healthcolor_entry.d().width,this.b.main_panel.tab2.healthcolor_entry.d().height),q.a(0,this.b.main_panel.tab2.healthcolor_entry.d().height),this.data.healthbar?this.data.healthbar:"",q.i(100,100,100),q.k(255,255,255));this.zp.sb(!0);this.b.main_panel.tab2.healthbtn.l(N);this.b.main_panel.tab2.healthbtn.text.ca("NOT HEALTHBAR");
null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.l(Ga),this.b.main_panel.tab2.healthbtn.text.ca("IS HEALTHBAR"));this.Mg(1);this.lb()},$W:function(){},Pa:function(a){this._super();if(this.m){var c=this.m;!0!=a&&this.m.zc(function(){c.Yc(null)})}},ii:function(a){a=a.K;if(1==this.Jc&&(this.b.main_panel.tab1.highlightnode.fa(0),a=this.b.main_panel.tab1.tiles.Ba(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.d().width&&a.y<=this.b.main_panel.tab1.tiles.d().height))return a.x=
a.x-a.x%32+16,a.y=a.y-a.y%32+64,this.b.main_panel.tab1.highlightnode.fa(127),this.b.main_panel.tab1.highlightnode.n(a),!0},Mg:function(a){a!=this.Jc&&(this.b.main_panel.T(this.gf[a],this.b.main_panel.d().height),this.b.control_panel.T(this.gf[a],this.b.control_panel.d().height),this.b.main_panel.tab2.name_entry.ec(this.b.main_panel.tab2.name_entry.q.F-1E3),this.b.main_panel.tab2.healthcolor_entry.ec(this.b.main_panel.tab2.healthcolor_entry.q.F-1E3),this.b.main_panel.tab2.healthcolor_text.D(!1),this.Jc=
a,this.b.main_panel.tab1.D(!1),this.b.main_panel.tab2.D(!1),this.b.main_panel.tab1Clickable.l(M),this.b.main_panel.tab2Clickable.l(M),this.b.main_panel["tab"+a].D(!0),this.b.main_panel["tab"+a+"Clickable"].l(q.i(255,255,0,255)),this.b.control_panel.exitBtn.ec(this.gf[a]-29));2==a&&(this.b.main_panel.tab2.name_entry.ec(4),null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthcolor_entry.ec(4),this.b.main_panel.tab2.healthcolor_text.D(!0)))},lb:function(){this.sc(this.lb);
this.b.main_panel.tab1.tiles.aa()&&!0==this.b.main_panel.tab1.tiles.aa().nc&&(this.Ad(this.lb),this.b.main_panel.tab1.tiles.Lb(q.rect(Math.floor(32*this.N.x),Math.floor(32*this.N.y),320>I[this.S].texture.d().width?I[this.S].texture.d().width:320,256>I[this.S].texture.d().height?I[this.S].texture.d().height:256)))},jb:function(a){if(this._super(a))return!0;this.xd=null;a=a.K;var c=this.b.main_panel.Ba(a);if(O(this.b.main_panel.tab1Clickable,c))return this.Mg(1),!0;if(O(this.b.main_panel.tab2Clickable,
c))return this.Mg(2),!0;if(O(this.b.main_panel.okbtn,c)){if(null==this.Na.Y()||""==this.Na.Y())return!0;this.zf=!0;this.data.name=this.Na.Y();if(null!=this.zp.Y()||""!=this.zp.Y())this.data.healthbar=this.zp.Y();this.m.Yc(this.data);return!0}if(O(this.b.main_panel.cancelbtn,c)){this.zf=!0;var d=this.m;this.m.zc(function(){d.Yc(null)});return!0}if(1==this.Jc){if(O(this.b.main_panel.tab1.leftbtn,c))return 264<I[this.S].texture.d().width&&0<this.N.x&&(this.N.x--,this.lb()),!0;if(O(this.b.main_panel.tab1.rightbtn,
c))return 320<I[this.S].texture.d().width&&this.N.x<(I[this.S].texture.d().width-320)/32&&(this.N.x++,this.lb()),!0;if(O(this.b.main_panel.tab1.upbtn,c))return 320<I[this.S].texture.d().height&&0<this.N.y&&(this.N.y--,this.lb()),!0;if(O(this.b.main_panel.tab1.downbtn,c))return 320<I[this.S].texture.d().height&&this.N.y<(I[this.S].texture.d().height-320)/32&&(this.N.y++,this.lb()),!0;if(O(this.b.main_panel.tab1.texturerightbtn,c))return this.Hn(),!0;if(O(this.b.main_panel.tab1.textureleftbtn,c))return this.In(),
!0;c=this.b.main_panel.tab1.tiles.Ba(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.d().width&&c.y<=this.b.main_panel.tab1.tiles.d().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+64;this.b.main_panel.tab1.selectednode.fa(0);if(this.b.main_panel.tab1.selectednode.q.F!=c.x||this.b.main_panel.tab1.selectednode.q.J!=c.y)this.b.main_panel.tab1.selectednode.fa(127),this.b.main_panel.tab1.selectednode.n(c);a=q.a((this.b.main_panel.tab1.selectednode.q.F-16)/32+this.N.x,8-(this.b.main_panel.tab1.selectednode.q.J-
64)/32+this.N.y-1);this.b.main_panel.tab2.tile.Lb(q.rect(32*a.x,32*a.y,32,32));this.data.sprite.position=a;console.log("TOUCHED");return!0}}return 2==this.Jc&&O(this.b.main_panel.tab2.healthbtn,c)?(this.zX(),!0):!1},zX:function(){this.b.main_panel.tab2.healthcolor_entry.ec(this.b.main_panel.tab2.healthcolor_entry.q.F-1E3);this.b.main_panel.tab2.healthcolor_text.D(!1);null!=this.data.healthbar&&""!=this.data.healthbar?(this.data.healthbar="",this.zp.zh("")):(this.data.healthbar="FF0000",this.b.main_panel.tab2.healthcolor_entry.ec(4),
this.b.main_panel.tab2.healthcolor_text.D(!0));this.b.main_panel.tab2.healthbtn.l(N);this.b.main_panel.tab2.healthbtn.text.ca("NOT HEALTHBAR");null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.l(Ga),this.b.main_panel.tab2.healthbtn.text.ca("IS HEALTHBAR"))},Hn:function(){this.S>=I.length-1&&(this.S=-1);this.S++;this.b.main_panel.tab1.tiles.ka(I[this.S].texture);this.b.main_panel.tab2.tile.ka(I[this.S].texture);this.Qb=I[this.S].name;this.b.main_panel.tab1.textureName.text.ca(this.Qb);
this.data.sprite.texture=this.Qb;this.N=q.a(0,0);this.lb()},In:function(){0>=this.S&&(this.S=I.length);this.S--;this.b.main_panel.tab1.tiles.ka(I[this.S].texture);this.b.main_panel.tab2.tile.ka(I[this.S].texture);this.Qb=I[this.S].name;this.b.main_panel.tab1.textureName.text.ca(this.Qb);this.N=q.a(0,0);this.lb()}});PopupList=Popup.extend({Vf:null,Kc:[],MC:null,Bn:!1,qx:-1,O7:0,CH:null,W:null,rI:!1,Pa:function(){this._super();this.m&&(this.m.Tb(!0),!this.rI&&this.m.lK&&this.m.lK(null,null))},s:function(a){this._super();this.Vf=null;this.Kc=[];this.MC=null;this.Bn=!1;this.qx=-1;this.Vf=a.qh;a.list&&(this.Kc=a.list);this.MC=a.name;this.m=a.m},xa:function(){this._super();this.Zb()},W:null,Zb:function(){this.W&&this.W.ma.Q();var a=[],c=[],d=q.sa.e();this.CH={};for(var e in this.Kc)if(a[e]=q.C.create(),a[e].T(324,
32),null==this.Kc[e])this.Kc.splice(e,1);else{if(null!=this.m){var f=q.w.fb(d.Ia("GUI/use.png"));f.n(q.a(244,6));f.L(q.a(0,0))}var g=q.da.create(q.i(0,0,0,127),316,1);g.n(q.a(4,0));var h=q.R.create(this.Kc[e].name,"Arial",20);h.L(q.a(0,0.5));h.n(q.a(0,16));var k=q.w.fb(d.Ia("GUI/edit.png"));k.n(q.a(272,6));k.L(q.a(0,0));var l=q.w.fb(d.Ia("GUI/trash.png"));l.n(q.a(300,6));l.L(q.a(0,0));k.pc="Edit";var m=[];m.push(k);l.pc="Delete";m.push(l);null!=this.m&&(f.pc="Use",m.push(f));c.push(m);a[e].f(g);a[e].f(h);
a[e].f(k);a[e].f(l);null!=this.m&&a[e].f(f)}d=q.da.create(q.i(70,200,70,255),90,26);e=q.R.create("+","Arial",20);e.n(45,13);e.L(q.a(0.5,0.5));d.n(q.a(120,0));d.pc="Add";d.f(e);c.push([d]);a.push(d);this.W=this.b.main_panel.list;var n=this;this.W.ne=function(){return q.size(324,32*a.length)};this.W.Kd=function(){return a.length};this.W.Ze=function(c){return a[c].d()};this.W.Xe=function(c){return a[c]};this.W.yc=function(a,c,d){n.Ba(d.K);if(!0!=n.Bn)switch(a){case "Delete":n.X.f(DropDownList.fe(n,n.VB,
["Cancel","Delete"],d.K));n.gb=c;break;case "Edit":n.Vf.X&&n.Vf.Q();n.Bn=!0;n.Vf.s({m:n,data:n.Kc[c]});n.X.f(n.Vf);n.Tb(!1);n.Vf.xa();n.qx=c+"";break;case "Add":n.pH=!0;n.Bn=!0;n.qx=n.Kc.length;n.Vf.s({m:n,data:null});n.Tb(!1);n.X.f(n.Vf);n.Vf.xa();break;case "Use":n.m.Zs(c,n.Kc[c]),n.rI=!0}};this.W.ma=ListView.create(this.W);this.W.ma.df(c);this.W.f(this.W.ma)},Mc:function(){return{panels:{position:q.a(300,200),children:{background_image:{$:"GUI/list_panel.png",c:q.a(0,0)},main_panel:{c:q.a(0,0),
size:q.size(365,328),children:{list:{size:q.size(324,328),position:q.a(0,0),c:q.a(0,0)}}},control_panel:{c:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:this.MC,fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),c:q.a(0,0),$:"GUI/close.png"}}}}}}},gb:null,VB:function(a){switch(a){case 1:null!=this.m.gb&&(this.m.yR(this.m.gb),this.m.gb=null)}},jb:function(a){if(this._super(a))return!0;this.xd=null;a=this.b.main_panel.Ba(a.K);return O(this.b.main_panel,
a)?!0:!1},Yc:function(a){a&&(this.Vf.dj(this.qx),this.pH&&(this.Kc.push(a),this.Zb()));this.Tb(!0);this.Bn=this.pH=!1;var c=this;this.zc(function(){c.Vf.Pa(!0);c.Vf.Q()})},yR:function(a){this.Kc.splice(a,1);this.Vf.Ti(a,this.Kc);this.Zb()}});Warpeditor=null;
WarpEditor=Popup.extend({Lc:function(){return"WarpEditor"},dj:function(a){G({savewarps:a+"",warpdata:this.data})},Ti:function(a,c){G({savewarpswhole:c})},Mc:function(){return{panels:{position:q.a(300,200),children:{background:{$:"GUI/warpeditor_bg.png",c:q.a(0,0)},main_panel:{c:q.a(0,0),size:q.size(180,160),children:{okbtn:{position:q.a(114,16),size:q.size(32,32),$:"GUI/tick_icon.png",c:q.a(0,0)},cancelbtn:{position:q.a(34,16),size:q.size(32,32),$:"GUI/cross_icon.png",c:q.a(0,0)},namelbl:{label:"Name of warp.",
fontSize:12,c:q.a(0,0),position:q.a(20,140),color:q.k(0,0,0)},nameEntry:{position:q.a(16,110),size:q.size(120,30)},mapnumlbl:{label:"Map #",fontSize:12,c:q.a(0,0),position:q.a(20,90),color:q.k(0,0,0)},mapNumEntry:{position:q.a(16,60),size:q.size(40,30)},mapxlbl:{label:"x",fontSize:12,c:q.a(0,0),position:q.a(80,90),color:q.k(0,0,0)},mapXEntry:{position:q.a(76,60),size:q.size(36,30)},mapylbl:{label:"y",fontSize:12,c:q.a(0,0),position:q.a(130,90),color:q.k(0,0,0)},mapYEntry:{position:q.a(126,60),size:q.size(36,
30)}}},control_panel:{c:q.a(0,0),position:q.a(0,160),size:q.size(180,32),children:{header:{label:"Warp Editor",fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(156,6),size:q.size(20,20),c:q.a(0,0),$:"GUI/close.png"}}}}}}},Na:null,Hp:null,Ip:null,Jp:null,m:null,data:null,s:function(a){this._super();this.m=this.Jp=this.Ip=this.Hp=this.Na=null;this.data={mapTo:0,position:0,name:""};a.data&&(this.data=a.data);this.m=a.m},xa:function(){this._super();var a=this.data.position%S,c=Math.floor(this.data.position/
S);this.Na=new $(this.b.main_panel.nameEntry,q.size(this.b.main_panel.nameEntry.d().width,this.b.main_panel.nameEntry.d().height),q.a(0,this.b.main_panel.nameEntry.d().height),this.data.name,q.i(100,100,100),q.k(255,255,255));this.Na.sb(!0);this.Hp=new $(this.b.main_panel.mapNumEntry,q.size(this.b.main_panel.mapNumEntry.d().width,this.b.main_panel.mapNumEntry.d().height),q.a(0,this.b.main_panel.mapNumEntry.d().height),""+this.data.mapTo,q.i(100,100,100),q.k(255,255,255));this.Hp.sb(!0);this.Ip=new $(this.b.main_panel.mapXEntry,
q.size(this.b.main_panel.mapXEntry.d().width,this.b.main_panel.mapXEntry.d().height),q.a(0,this.b.main_panel.mapXEntry.d().height),""+a,q.i(100,100,100),q.k(255,255,255));this.Ip.sb(!0);this.Jp=new $(this.b.main_panel.mapYEntry,q.size(this.b.main_panel.mapYEntry.d().width,this.b.main_panel.mapYEntry.d().height),q.a(0,this.b.main_panel.mapYEntry.d().height),""+c,q.i(100,100,100),q.k(255,255,255));this.Jp.sb(!0)},jb:function(a){if(this._super(a))return!0;this.xd=null;a=this.b.main_panel.Ba(a.K);if(O(this.b.main_panel.okbtn,
a)){if(null==this.Na.Y()||""==this.Na.Y()||null==this.Hp.Y()||""==this.Hp.Y()||null==this.Ip.Y()||""==this.Ip.Y()||null==this.Jp.Y()||""==this.Jp.Y())return!0;this.zf=!0;this.data.position=T(parseInt(this.Ip.Y()),Pa-parseInt(this.Jp.Y()));this.data.mapTo=parseInt(this.Hp.Y());this.data.name=this.Na.Y();this.m.Yc(this.data);return!0}if(O(this.b.main_panel.cancelbtn,a)){this.zf=!0;var c=this.m;this.m.zc(function(){c.Yc(null)});return!0}},Pa:function(a){this._super();var c=this.m;a||this.m.zc(function(){c.Yc(null)})}});Signeditor=null;
SignEditor=Popup.extend({Lc:function(){return"SignEditor"},dj:function(a){G({savesigns:a+"",signsdata:this.data})},Ti:function(a,c){G({savesignswhole:c})},Mc:function(){return{panels:{position:q.a(300,200),children:{background:{$:"GUI/signeditor_bg.png",c:q.a(0,0)},main_panel:{c:q.a(0,0),size:q.size(142,256),children:{okbtn:{position:q.a(88,16),size:q.size(32,32),$:"GUI/tick_icon.png",c:q.a(0,0)},cancelbtn:{position:q.a(22,16),size:q.size(32,32),$:"GUI/cross_icon.png",c:q.a(0,0)},namelbl:{label:"Name of sign.",
fontSize:12,c:q.a(0,0),position:q.a(6,238),color:q.k(0,0,0)},nameEntry:{position:q.a(4,206),size:q.size(120,30)},signlbl:{label:"Contents",fontSize:12,c:q.a(0,0),position:q.a(6,190),color:q.k(0,0,0)},signEntry:{position:q.a(4,60),size:q.size(120,128)}}},control_panel:{c:q.a(0,0),position:q.a(0,256),size:q.size(142,32),children:{header:{label:"Sign Editor",fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(118,6),size:q.size(20,20),c:q.a(0,0),$:"GUI/close.png"}}}}}}},Na:null,Wp:null,
m:null,data:null,s:function(a){this._super();this.m=this.Wp=this.Na=null;this.data={label:"",name:""};a.data&&(this.data=a.data);this.m=a.m},xa:function(){this._super();this.Na=new $(this.b.main_panel.nameEntry,q.size(this.b.main_panel.nameEntry.d().width,this.b.main_panel.nameEntry.d().height),q.a(0,this.b.main_panel.nameEntry.d().height),this.data.name,q.i(100,100,100),q.k(255,255,255));this.Na.sb(!0);this.Wp=new $(this.b.main_panel.signEntry,q.size(this.b.main_panel.signEntry.d().width,this.b.main_panel.signEntry.d().height),
q.a(0,this.b.main_panel.signEntry.d().height),""+this.data.label,q.i(100,100,100),q.k(255,255,255),!0);this.Wp.sb(!0)},jb:function(a){if(this._super(a))return!0;this.xd=null;a=this.b.main_panel.Ba(a.K);if(O(this.b.main_panel.okbtn,a)){if(null==this.Na.Y()||""==this.Na.Y()||null==this.Wp.Y()||""==this.Wp.Y())return!0;this.zf=!0;this.data.label=this.Wp.Y();this.data.name=this.Na.Y();this.m.Yc(this.data);return!0}if(O(this.b.main_panel.cancelbtn,a)){this.zf=!0;var c=this.m;this.m.zc(function(){c.Yc(null)});
return!0}},Pa:function(a){this._super();var c=this.m;a||this.m.zc(function(){c.Yc(null)})}});var Na=Qa.extend({ctor:function(){this._super()},lL:function(){this._super()},xa:function(){this._super()},Pa:function(){this._super()},jb:function(a){q.rb(this.b.health_panel.Xa(),a.K)&&x.e().kl("Game")},s:function(){var a=q.R.create("ITS WOKKIN!","Arial",16);a.l(q.k(0,0,0));a.n(q.a(200,200));this.f(a);this._super()}});NewsPanel=null;
News=Popup.extend({data:null,W:null,gb:null,Lc:function(){return"Credits"},Pa:function(){this._super()},s:function(){this._super();this.data={"25th August 2014: (v0.718)":["Added 90% of subeditors needed for the scripting system. Go into the script editor and press the pencil icon on the responses and requirements to edit their core data.","Updated script panel texture to utilize inpanel submenu editors.","Abstracted out the script editor so that its not dependant on certain types.","Added/removed requirements responses based on logical conclusions on what is actually needed. Consume as an item response, for example, is unecessary because it would work identically to destroy."],
"17th August 2014: (v0.714)":["Added basic template logic of new scripting editor system. Scripts can be saved and loaded like other list systems. This editor currently does not allow you to apply scripts to anything (it is simply the GUI interface template logic that's in there). The item editor has been changed to utilize the new saved scripts list.","Fixed localstorage issue caused by settings implementation. Game now does not now load until the game is fully in sync. The issue was causing an error on some game-loads because the localstorage was not yet available (requiring a refresh)."],
"11th August 2014: (v0.708)":["Added settings menu for various game controls. Settings menu only currently controls a load of in game string settings. Also added the additional required admin panel graphic for settings access. The new chatbox command is /editsettings.","Added scrolling credits button to login page and populated it.","Added this scrolling news feed to login page and obviously populated it as well."],"11th August 2014 (v0.7)":["Added some additional custom gui for some of the editors.",
"Fixed a lot of bugs (and I mean a lot).","Added 0.7 download to site."],"10th August 2014 (v0.695)":["Added quest objective editor. New button now made usable in menu.","Objective editor utilizes abstract scrolling list from 0.69."]}},dj:function(a){G({savequests:a+"",questdata:this.data})},Ti:function(a,c){G({savequestswhole:c})},xa:function(){this._super();this.Zb()},Zb:function(){this.W&&this.W.rc();var a=[],c=[];q.sa.e();var d=0,e;for(e in this.data){a[d]=q.C.create();a[d].T(324,32);var f=q.R.create(e,
"Arial",18);f.L(q.a(0,0));f.n(q.a(4,0));f.Oc(q.size(246,0));f.l(q.k(100,0,0));a[d].f(f);a[d].T(324,f.d().height+4);f=[];c.push(f);d++;for(var g in this.data[e]){a[d]=q.C.create();a[d].T(324,32);var h=q.da.create(q.i(0,0,0,127),316,1);h.n(q.a(4,0));var k=q.R.create(this.data[e][g],"Arial",15);k.l(q.k(0,0,0));k.L(q.a(0,0));k.n(q.a(4,4));k.Oc(q.size(246,0));f=[];c.push(f);a[d].f(h);a[d].f(k);a[d].T(324,k.d().height+8);d++}}this.W=this.b.main_panel.list;this.W.ne=function(){for(var c=0,d=0;d<a.length;d++)c+=
a[d].d().height;return q.size(324,c)};this.W.Kd=function(){return a.length};this.W.Ze=function(c){return a[c].d()};this.W.Xe=function(c){return a[c]};this.W.yc=function(){};this.W.ma=ListView.create(this.W);this.W.ma.df(c);this.W.f(this.W.ma)},Mc:function(){return{panels:{position:q.a(300,200),children:{background_image:{$:"GUI/list_panel.png",c:q.a(0,0)},main_panel:{c:q.a(0,0),size:q.size(365,328),children:{list:{size:q.size(324,328),u:q.i(0,200,200,200),position:q.a(0,0),c:q.a(0,0)}}},control_panel:{c:q.a(0,
0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"News",fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),c:q.a(0,0),$:"GUI/close.png"}}}}}}},jb:function(a){if(this._super(a))return!0;this.xd=null;a=this.b.main_panel.Ba(a.K);return O(this.b.main_panel,a)?!0:!1}});CreditsPanel=null;
Credits=Popup.extend({data:null,W:null,gb:null,Lc:function(){return"Credits"},Pa:function(){this._super()},s:function(){this._super();this.data={"Programmed and designed by:":"Alan Tuckwood","Special thanks:":"Claire, for putting up with all the non-talking hours.","Special thanks 2:":"IndieRising dev community for all their wonderful support.","Special thanks 3:":"Finblade, for all the skills I was able to pass into this engine.","Special thanks 4:":"All of you players, who's positive response keep me motivated.","Powder Engine is Copywritten":"Contact the developer in-site regarding questions."}},
dj:function(a){G({savequests:a+"",questdata:this.data})},Ti:function(a,c){G({savequestswhole:c})},xa:function(){this._super();this.Zb()},Zb:function(){this.W&&this.W.rc();var a=[],c=[];q.sa.e();var d=0,e;for(e in this.data){if("ISSECTION"!=this.data[e]){a[d]=q.C.create();a[d].T(324,32);var f=q.R.create(e,"Arial",18);f.L(q.a(0,0));f.n(q.a(4,0));f.Oc(q.size(246,0));f.l(q.k(100,0,0));a[d].f(f);a[d].T(324,f.d().height+4);f=[];c.push(f);d++}a[d]=q.C.create();a[d].T(324,32);var g=q.da.create(q.i(0,0,0,
127),316,1);g.n(q.a(4,0));if("ISSECTION"==this.data[e]){var h=q.R.create(e,"Arial",22);h.l(q.k(255,0,0))}else h=q.R.create(this.data[e],"Arial",15),h.l(q.k(0,0,0));h.L(q.a(0,0));h.n(q.a(4,4));h.Oc(q.size(246,0));f=[];c.push(f);a[d].f(g);a[d].f(h);"ISSECTION"==this.data[e]?a[d].T(324,h.d().height+12):a[d].T(324,h.d().height+8);d++}this.W=this.b.main_panel.list;this.W.ne=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].d().height;return q.size(324,c)};this.W.Kd=function(){return a.length};this.W.Ze=
function(c){return a[c].d()};this.W.Xe=function(c){return a[c]};this.W.yc=function(){};this.W.ma=ListView.create(this.W);this.W.ma.df(c);this.W.f(this.W.ma)},Mc:function(){return{panels:{position:q.a(300,200),children:{background_image:{$:"GUI/list_panel.png",c:q.a(0,0)},main_panel:{c:q.a(0,0),size:q.size(365,328),children:{list:{size:q.size(324,328),u:q.i(0,200,200,200),position:q.a(0,0),c:q.a(0,0)}}},control_panel:{c:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Credits",
fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),c:q.a(0,0),$:"GUI/close.png"}}}}}}},jb:function(a){if(this._super(a))return!0;this.xd=null;a=this.b.main_panel.Ba(a.K);return O(this.b.main_panel,a)?!0:!1}});Login=Qa.extend({rD:!1,jt:!1,s:function(a){y=sa(y,v.kC());this._super();x.wn(this);this.Ks=new $(this.b.name_entry,q.size(this.b.name_entry.d().width,this.b.name_entry.d().height),q.a(0,this.b.name_entry.d().height),"Enter Name",q.i(100,100,100),q.k(255,255,255));a&&(a.YI&&(u=[],G({logout:!0})),this.yn(a.sD));this.sc(this.MD)},ul:function(a){switch(a){case "ENTER":!1==this.jt&&this.rD?(this.jt=!0,G({login:!0,username:this.Ks.Y()})):this.SC("Server is offline!")}},yn:function(a){this.rD=a;!0==a?(this.b.server_activity.ca("Server: Online"),
this.b.server_activity.l(q.k(0,255,0))):(this.b.server_activity.ca("Server: Offline"),this.b.server_activity.l(q.k(255,0,0)))},MD:function(){if(0<u.length)for(var a=u.length-1;0<=a;a--)reactToSocketMessage(u[a]),u.splice(a,1)},Mc:function(){return{panels:{children:{background:{$:"GUI/splash.png",size:q.size(960,640),c:q.a(0,0),position:q.a(0,0)},name_entry:{size:q.size(300,30),position:q.a(325,300)},go_button:{position:q.a(325,220),size:q.size(120,40),u:q.i(0,0,0,255),children:{label:{label:"Play",
fontSize:20,color:q.k(255,255,255),c:q.a(0.5,0.5),position:q.a(60,20)}}},credits_button:{position:q.a(30,400),size:q.size(120,40),u:q.i(0,0,0,255),children:{label:{label:"Credits",fontSize:20,color:q.k(255,255,255),c:q.a(0.5,0.5),position:q.a(60,20)}}},news_button:{position:q.a(505,220),size:q.size(120,40),u:q.i(0,0,0,255),c:q.a(0,1),children:{label:{label:"News",fontSize:20,color:q.k(255,255,255),c:q.a(0.5,0.5),position:q.a(60,20)}}},server_message:{label:"",fontSize:16,color:q.k(127,0,0),c:q.a(0,
0),position:q.a(327,325)},version_number:{label:y["Version Number"],fontSize:34,color:q.k(255,255,255),c:q.a(1,1),position:q.a(710,55)},server_activity:{position:q.a(910,630),size:q.size(100,20),c:q.a(0.5,0.5),label:"Server: Offline",color:q.k(255,0,0)}}}}},jb:function(a){if(null!=this.Ks.Y()&&q.rb(q.rect(this.b.go_button.q.F,this.b.go_button.q.J,this.b.go_button.d().width,this.b.go_button.d().height),a.K))return!1==this.jt&&this.rD?(this.jt=!0,G({login:!0,username:this.Ks.Y()})):this.SC("Server is offline!"),
!0;q.rb(q.rect(this.b.credits_button.q.F,this.b.credits_button.q.J,this.b.credits_button.d().width,this.b.credits_button.d().height),a.K)&&this.Df("/openCredits");q.rb(q.rect(this.b.news_button.q.F,this.b.news_button.q.J,this.b.news_button.d().width,this.b.news_button.d().height),a.K)&&this.Df("/openNews")},Df:function(a){switch(a){case "/openCredits":null==CreditsPanel||CreditsPanel.X||(CreditsPanel=null);CreditsPanel?(CreditsPanel.Pa(),CreditsPanel.Q(),CreditsPanel=null):(CreditsPanel=new Credits,
CreditsPanel.s(),CreditsPanel.xa(),this.f(CreditsPanel));break;case "/openNews":null==NewsPanel||NewsPanel.X||(NewsPanel=null),NewsPanel?(NewsPanel.Pa(),NewsPanel.Q(),NewsPanel=null):(NewsPanel=new News,NewsPanel.s(),NewsPanel.xa(),this.f(NewsPanel))}},gU:function(){x.e().kl("Game",{iL:this.Ks.Y(),map:1})},SC:function(a){this.b.server_message.ca(a);this.jt=!1},md:function(){},Cf:function(){},o8:function(){x.e().kl("Game",{iL:this.Ks.Y()})}});Na=null;MapMaster=!1;
var Ra=Qa.extend({ctor:function(){this._super()},Mc:function(){return{panels:{children:{logout_button:{position:q.a(W.width-52,W.height-52),c:q.a(0,0),size:q.size(48,48),$:"GUI/logout.png"},quicknav_button:{position:q.a(W.width-30,Math.floor(W.height/2)-24),c:q.a(0,0),size:q.size(48,48),$:"GUI/quickmenu_closed_icon.png"},inventory_button:{position:q.a(W.width-52,Math.floor(W.height/2)+60),c:q.a(0,0),size:q.size(48,48),$:"GUI/inventory_icon.png"},equipment_button:{position:q.a(W.width-82,Math.floor(W.height/
2)+4),c:q.a(0,0),size:q.size(48,48),$:"GUI/equipment_icon.png"},skill_button:{position:q.a(W.width-82,Math.floor(W.height/2)-52),c:q.a(0,0),size:q.size(48,48),$:"GUI/skills_icon.png"},chat_button:{position:q.a(W.width-52,Math.floor(W.height/2)-108),c:q.a(0,0),size:q.size(48,48),$:"GUI/chat_icon.png"},quickedit_button:{position:q.a(0,Math.floor(W.height/2)-24),c:q.a(0,0),size:q.size(48,48),$:"GUI/quickedit_closed_icon.png"},mapedit_button:{position:q.a(4,Math.floor(W.height/2)+116),c:q.a(0,0),size:q.size(48,
48),$:"GUI/mapeditor_icon.png"},npcedit_button:{position:q.a(34,Math.floor(W.height/2)+60),c:q.a(0,0),size:q.size(48,48),$:"GUI/npceditor_icon.png"},itemedit_button:{position:q.a(64,Math.floor(W.height/2)+4),c:q.a(0,0),size:q.size(48,48),$:"GUI/itemeditor_icon.png"},skilledit_button:{position:q.a(64,Math.floor(W.height/2)-52),c:q.a(0,0),size:q.size(48,48),$:"GUI/skilleditor_icon.png"},signedit_button:{position:q.a(34,Math.floor(W.height/2)-108),c:q.a(0,0),size:q.size(48,48),$:"GUI/signeditor_icon.png"},
warpedit_button:{position:q.a(4,Math.floor(W.height/2)-164),c:q.a(0,0),size:q.size(48,48),$:"GUI/warpeditor_icon.png"},scriptedit_button:{position:q.a(90,Math.floor(W.height/2)-108),c:q.a(0,0),size:q.size(48,48),$:"GUI/scripteditor_icon.png"},settings_button:{position:q.a(4,Math.floor(W.height/2)-220),c:q.a(0,0),size:q.size(48,48),$:"GUI/settings_icon.png"},bankedit_button:{position:q.a(90,Math.floor(W.height/2)+60),c:q.a(0,0),size:q.size(48,48),$:"GUI/bankeditor_icon.png"},shopedit_button:{position:q.a(120,
Math.floor(W.height/2)+4),c:q.a(0,0),size:q.size(48,48),$:"GUI/shopeditor_icon.png"},questedit_button:{position:q.a(120,Math.floor(W.height/2)-52),c:q.a(0,0),size:q.size(48,48),$:"GUI/questeditor_icon.png"}}}}},QI:!1,NI:!1,yn:function(a){!1==a&&(this.XB(),x.e().kl("Login",{sD:!1}))},XB:function(){F.Jd();F.Ts();null!=Equipment&&(Equipment.Pa(),Equipment.Q(),Equipment=null);null!=Inventory&&(Inventory.Pa(),Inventory.Q(),Inventory=null);null!=Skills&&(Skills.Pa(),Skills.Q(),Skills=null);SkillBarsInstance.Q();
z.Jd();z.Ts();C.Jd();C.Ts()},jb:function(a){if(q.rb(q.rect(this.b.logout_button.q.F,this.b.logout_button.q.J,this.b.logout_button.d().width,this.b.logout_button.d().height),a.K))return this.XB(),x.e().kl("Login",{YI:!0,sD:!0}),!0;x.wn(this);if(q.rb(this.b.chat_button.Xa(),a.K)&&this.b.chat_button.va)return this.ul("C"),!0;if(q.rb(this.b.inventory_button.Xa(),a.K)&&this.b.inventory_button.va)return this.ul("I"),!0;if(q.rb(this.b.equipment_button.Xa(),a.K)&&this.b.equipment_button.va)return this.ul("E"),
!0;if(q.rb(this.b.skill_button.Xa(),a.K)&&this.b.skill_button.va)return this.ul("S"),!0;if(q.rb(this.b.quickedit_button.Xa(),a.K)&&this.b.quickedit_button.va)return this.HK(!this.NI),!0;if(q.rb(this.b.quicknav_button.Xa(),a.K)&&this.b.quicknav_button.va)return this.IK(!this.QI),!0;if(q.rb(this.b.mapedit_button.Xa(),a.K)&&this.b.mapedit_button.va)return this.Df("/editmap"),!0;if(q.rb(this.b.npcedit_button.Xa(),a.K)&&this.b.npcedit_button.va)return this.Df("/editnpc"),!0;if(q.rb(this.b.itemedit_button.Xa(),
a.K)&&this.b.itemedit_button.va)return this.Df("/edititem"),!0;if(q.rb(this.b.skilledit_button.Xa(),a.K)&&this.b.skilledit_button.va)return this.Df("/editskill"),!0;if(q.rb(this.b.signedit_button.Xa(),a.K)&&this.b.signedit_button.va)return this.Df("/editsign"),!0;if(q.rb(this.b.scriptedit_button.Xa(),a.K)&&this.b.scriptedit_button.va)return this.Df("/editscript"),!0;if(q.rb(this.b.warpedit_button.Xa(),a.K)&&this.b.warpedit_button.va)return this.Df("/editwarp"),!0;if(q.rb(this.b.settings_button.Xa(),
a.K)&&this.b.settings_button.va)return this.Df("/editsettings"),!0;if(q.rb(this.b.shopedit_button.Xa(),a.K)&&this.b.shopedit_button.va)return this.Df("/editshop"),!0;if(q.rb(this.b.questedit_button.Xa(),a.K)&&this.b.questedit_button.va)return this.Df("/editquest"),!0;if(q.rb(this.b.bankedit_button.Xa(),a.K)&&this.b.bankedit_button.va)return this.Df("/editbank"),!0},JK:function(a){null==Sign||Sign.X||(Sign=null);Sign?(Sign.Pa(),Sign.Q(),Sign=null):(Sign=new SignPanel,Sign.s(a),Sign.xa(),this.f(Sign))},
lX:function(a){null==Book||Book.X||(Book=null);Book?(Book.Pa(),Book.Q(),Book=null):(Book=new BookPanel,Book.s(a),Book.xa(),this.f(Book))},Cf:function(){},ul:function(a){switch(a){case "C":C.KT()?C.xI():C.show();break;case "ENTER":C.IC()||C.uD(!0);break;case "SPACE":z.B.ha.ET();Inventory&&Inventory.Hf();break;case "CTRL":z.B.ha.DT();break;case "ESC":this.XB();x.e().kl("Login",{YI:!0,sD:!0});break;case "I":null==Inventory||Inventory.X||(Inventory=null);Inventory?(Inventory.Pa(),Inventory.Q(),Inventory=
null):(Inventory=new InventoryPanel,Inventory.s(),Inventory.xa(),this.f(Inventory));break;case "E":null==Equipment||Equipment.X||(Equipment=null);Equipment?(Equipment.Pa(),Equipment.Q(),Equipment=null):(Equipment=new EquipmentPanel,Equipment.s(),Equipment.xa(),this.f(Equipment));break;case "S":null==Skills||Skills.X||(Skills=null),Skills?(Skills.Pa(),Skills.Q(),Skills=null):(Skills=new SkillsPanel,Skills.s(),Skills.xa(),this.f(Skills))}},RC:function(a){var c=z.B.ha.Yf();z.B.ha.path=null;if(0==c.x%
1&&0==c.y%1)switch(a){case "RIGHTARROW":z.B.ha.aq(c.x+1,c.y);break;case "LEFTARROW":z.B.ha.aq(c.x-1,c.y);break;case "UPARROW":z.B.ha.aq(c.x,c.y+1);break;case "DOWNARROW":z.B.ha.aq(c.x,c.y-1)}},IK:function(a){this.QI=a;this.b.chat_button.D(a);this.b.inventory_button.D(a);this.b.equipment_button.D(a);this.b.skill_button.D(a);this.b.quicknav_button.ka(q.sa.e().Ia(!0==a?"GUI/quickmenu_opened_icon.png":"GUI/quickmenu_closed_icon.png"))},HK:function(a){this.NI=a;this.b.mapedit_button.D(a);this.b.npcedit_button.D(a);
this.b.itemedit_button.D(a);this.b.skilledit_button.D(a);this.b.signedit_button.D(a);this.b.scriptedit_button.D(a);this.b.warpedit_button.D(a);this.b.settings_button.D(a);this.b.shopedit_button.D(a);this.b.bankedit_button.D(a);this.b.questedit_button.D(a);this.b.quickedit_button.ka(q.sa.e().Ia(!0==a?"GUI/quickedit_opened_icon.png":"GUI/quickedit_closed_icon.png"))},Df:function(a){if(a)switch(q.log(a),a){case "/editscript":null==Scripteditor||Scripteditor.X||(Scripteditor=null);Scripteditor?(Scripteditor.Pa(),
Scripteditor.Q(),Scripteditor=null):(Scripteditor=new PopupList,Scripteditor.s({m:null,qh:new ScriptEditor,list:ObjectLists.ss(),name:"Script List"}),Scripteditor.xa(),this.f(Scripteditor));break;case "/editmap":null==Mapeditor||Mapeditor.X||(Mapeditor=null);Mapeditor?(Mapeditor.Pa(),Mapeditor.Q(),Mapeditor=null,F.Us(null)):(Mapeditor=new MapEditor,Mapeditor.s(),Mapeditor.xa(),this.f(Mapeditor),F.Us(Mapeditor));break;case "/editsettings":null==Settingseditor||Settingseditor.X||(Settingseditor=null);
Settingseditor?(Settingseditor.Pa(),Settingseditor.Q(),Settingseditor=null):(Settingseditor=new SettingsEditor,Settingseditor.s(),Settingseditor.xa(),this.f(Settingseditor));break;case "/editwarp":null==Warpeditor||Warpeditor.X||(Warpeditor=null);Warpeditor?(Warpeditor.Pa(),Warpeditor.Q(),Warpeditor=null):(Warpeditor=new PopupList,Warpeditor.s({m:null,qh:new WarpEditor,list:ObjectLists.Wm(),name:"Warp List"}),Warpeditor.xa(),this.f(Warpeditor));break;case "/editsign":null==Signeditor||Signeditor.X||
(Signeditor=null);Signeditor?(Signeditor.Pa(),Signeditor.Q(),Signeditor=null):(Signeditor=new PopupList,Signeditor.s({m:null,qh:new SignEditor,list:ObjectLists.ts(),name:"Sign List"}),Signeditor.xa(),this.f(Signeditor));break;case "/editskill":null==Skillseditor||Skillseditor.X||(Skillseditor=null);Skillseditor?(Skillseditor.Pa(),Skillseditor.Q(),Skillseditor=null):(Skillseditor=new PopupList,Skillseditor.s({m:null,qh:new SkillsEditor,list:ObjectLists.jl(),name:"Skills List"}),Skillseditor.xa(),this.f(Skillseditor));
break;case "/edititem":null==Itemeditor||Itemeditor.X||(Itemeditor=null);Itemeditor?(Itemeditor.Pa(),Itemeditor.Q(),Itemeditor=null,F.Us(null)):(Itemeditor=new PopupList,Itemeditor.s({m:null,qh:new ItemEditor,list:ObjectLists.bi(),name:"Item List"}),Itemeditor.xa(),this.f(Itemeditor));break;case "/editnpc":null==NPCeditor||NPCeditor.X||(NPCeditor=null);NPCeditor?(NPCeditor.Pa(),NPCeditor.Q(),NPCeditor=null,F.Us(null)):(NPCeditor=new PopupList,NPCeditor.s({m:null,qh:new NPCEditor,list:ObjectLists.il(),
name:"NPC List"}),NPCeditor.xa(),this.f(NPCeditor));break;case "/editquest":null==Questeditor||Questeditor.X||(Questeditor=null);Questeditor?(Questeditor.Pa(),Questeditor.Q(),Questeditor=null,F.Us(null)):(Questeditor=new PopupList,Questeditor.s({m:null,qh:new QuestEditor,list:ObjectLists.rs(),name:"Quest List"}),Questeditor.xa(),this.f(Questeditor));break;case "/help":C.showHelp();break;case "/commands":C.mX();break;case "/diceroll":a=Math.floor(6*Math.random()+1);var c=y["/diceroll"],c=c.replace("\x3cPLAYER\x3e",
z.B.ha.getName()),c=c.replace("\x3cVALUE\x3e",a);C.Kb(c);G({diceroll:c});break;case "/coinflip":a=1==Math.floor(3*Math.random()+1)?"Heads":"Tails";c=y["/coinflip"];c=c.replace("\x3cPLAYER\x3e",z.B.ha.getName());c=c.replace("\x3cVALUE\x3e",a);C.Kb(c);G({coinflip:c});break;case "/dance":a=y["/dance"];a=a.replace("\x3cPLAYER\x3e",z.B.ha.getName());C.Kb(a);G({dance:a});break;case "/afk":z.B.ha.updateStatus("AFK"),G({afk:!0})}},s:function(a){this._super();this.f(F.create());ObjectLists.e();a={name:a.iL,
$i:!0,Cn:{health:{Nc:1,value:100,$f:200,Zf:900},mana:{Nc:1,value:100,$f:200,Zf:99}},map:1,ct:"sprites1.png",at:1};z.create(a);F.CQ();this.b.Q();this.Vp(-20);this.zc(function(){F.e().Cl(a.map)});G({moveTo:z.B.ha.Yf().x+z.B.ha.Yf().y*S});this.f(C.create());this.f(za.create());this.IK(!1);this.HK(!1);this.f(this.b);this.sc(this.MD);this.sc(this.PV);Na=this},MD:function(){if(0<u.length)for(var a=0;a<u.length;a++){var c=JSON.parse(u[a]);c.moveTo&&(!z.di(c.id)||z.di(c.id)&&!1==z.di(c.id).Hg)?(reactToSocketMessage(JSON.stringify(c)),
u.splice(a,1)):c.moveTo||(reactToSocketMessage(JSON.stringify(c)),u.splice(a,1))}},PV:function(){if(!0==MapMaster){var a=z.tM(),c;for(c in a)if(!1==a[c].ex){var d=10*Math.random()+1,e=a[c].Yf();switch(Math.floor(4*Math.random())+1){case 1:e.x++;break;case 2:e.y++;break;case 3:e.x--;break;case 4:e.y--}a[c].PW(e,d)}}}});var Sa=q.Ca.extend({xc:null,W2:!1,uD:function(a){a?this.xc.$a.focus():this.xc.$a.blur()},IC:function(){return document.activeElement==this.xc.$a},ca:function(a){this.xc.zh(a)},mC:function(){return this.xc.Y()},s:function(){q.log("Ovveride inputbox init call if necessary")},ctor:function(a,c,d,e,f,g,h){this.xc=q.hq.create(q.size(c.width,c.height),q.lf.create(),h);this.xc.zh(e);this.xc.xR=e;this.xc.oW(q.k(g.p,g.o,g.g));this.xc.RJ(q.k(f.p,f.o,f.g));this.xc.n(q.a(d.x,d.y));this.xc.L(0,1);this.xc.yh(this);
a.f(this.xc);this.s()}});var Ta=Sa.extend({zw:function(a){a.zh("")},Aw:function(a,c){c||("/"==a.Y().substring(0,1)?this.FV(a.Y()):0<a.Y().length&&C.Kb(a.Y(),!0));a.zh(y["Default ChatBar Message"])},FV:function(a){x.e().ld.Df(a)},Bw:function(a,c){a.zh(c);q.log("chatBox "+this.PF(a)+", TextChanged, text: "+c)},PF:function(){return"chatbox"}}),X=null,C=q.Qc.extend({Xj:null,s:function(){this.Xj=new Ta(this.b.chat_panel,q.size(this.b.chat_panel.d().width-4,25),q.a(2,this.b.chat_panel.d().height-2),y["Default ChatBar Message"],
q.k(255,255,255),q.k(0,0,0));this.Xj.xc.X.nd(this.Xj.xc.q.J+59)},hH:function(a){for(var c=[],d=0;7>d;d++)c.push(this.b.chat_panel["label"+d].mC());this.b.chat_panel.label0.ca(a);for(d=1;8>d;d++)this.b.chat_panel["label"+d].ca(c[d-1])},Mc:function(){return{panels:{children:{chat_panel:{size:q.size(400,150),$:"GUI/chat.png",c:q.a(0,0),opacity:200,position:q.a(0,-200),children:{label7:{label:"",position:q.a(5,0),c:q.a(0,0),color:q.k(0,0,0)},label6:{label:"",position:q.a(5,15),c:q.a(0,0),color:q.k(0,
0,0)},label5:{label:"",position:q.a(5,30),c:q.a(0,0),color:q.k(0,0,0)},label4:{label:"",position:q.a(5,45),c:q.a(0,0),color:q.k(0,0,0)},label3:{label:"",position:q.a(5,60),c:q.a(0,0),color:q.k(0,0,0)},label2:{label:"",position:q.a(5,75),c:q.a(0,0),color:q.k(0,0,0)},label1:{label:"",position:q.a(5,90),c:q.a(0,0),color:q.k(0,0,0)},label0:{label:"",position:q.a(5,105),c:q.a(0,0),color:q.k(0,0,0)}}}}}}}});C.create=function(){X||(X=new C,X.b=Ha(X),X.f(X.b),X.s(),C.xI(),C.oX());return X};C.e=function(){return X};
C.Kb=function(a,c){50<a.length&&(a=a.substring(0,50)+"...");c?(G({chatMessage:a}),X.hH(z.B.ha.getName()+": "+a)):X.hH(a)};C.show=function(){X.Xj.xc.X.nd(0)};C.xI=function(){X.Xj.xc.X.nd(-X.Xj.xc.q.J+59)};C.KT=function(){return 0!=X.Xj.xc.X.q.J?!1:!0};C.uD=function(a){X.Xj.uD(a)};C.IC=function(){return X.Xj.IC()};C.showHelp=function(){C.Kb(H.me.iT);C.Kb(H.me.jT);C.Kb(H.me.kT);C.Kb(H.me.lT);C.Kb(H.me.mT)};C.mX=function(){C.Kb(H.me.gR);C.Kb(H.me.hR);C.Kb(H.me.iR);C.Kb(H.me.jR)};C.oX=function(){C.Kb(y["Welcome Message"])};
C.Jd=function(){X.b.Q();X.b=null};C.Ts=function(){X.Q();X=null};var $=Sa.extend({ys:!1,cJ:!1,GH:!1,zw:function(a){!1==this.GH&&a.zh("")},Aw:function(a){null==a.Y()||""==a.Y().length&&this.cJ?this.ys=!0:0<!a.Y().length?(a.zh(this.xc.xR),this.ys=!1):this.ys=!0},Bw:function(a,c){a.zh(c);this.ys=!0},PF:function(){return"name_entry"},Y:function(){return!0==this.ys||!0==this.wR?this.xc.Y():null},zh:function(a){this.xc.zh(a)},sb:function(a){this.wR=a},zd:function(a){this.cJ=a},$J:function(a){this.GH=a},s:function(){}});var x=q.Qc.extend({B:null,LB:null,ld:null,fH:null,s:function(){var a=q.oa.e().Fw();this.LB=q.da.create(q.i(255,255,255,255),parseInt(4*a.width),parseInt(4*a.height));this.LB.L(q.a(0,0));this.f(this.LB);v.e()&&ta?(y=sa(y,v.kC()),this.kl("Login",{}),this.sc(this.tH)):this.sc(this.yI)},yI:function(){v.e()&&ta&&(this.Ad(this.yI),y=sa(y,v.kC()),this.kl("Login",{}),this.sc(this.tH))},tH:function(){for(var a in Aa)if(!0==Aa[a]&&null!=this.ld){var c=null;a=parseInt(a);switch(a){case 8:c="BACKSPACE";break;
case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a&&58>a||64<a&&91>a)&&(c=String.fromCharCode(a));
null!=c&&this.ld.RC(c)}},kl:function(a,c){null!=this.ld&&(this.ld.Pa(),this.ld.Q(),this.ld=null);switch(a){case "Login":this.ld=new Login;break;case "Game":this.ld=new Ra}this.ld.lL();this.f(this.ld,1);this.ld.rW(a);this.ld.xa();this.ld.s(c)},I3:function(){return this.ld.Lc()}});x.e=function(){null==this.B&&(this.B=new x);return this.B};x.wn=function(a){null==this.B&&(this.B=new x);this.B.fH=a};x.dS=function(){null==this.B&&(this.B=new x);return this.B.fH};var W;
new (q.kj.extend({sw:document.ccConfig,ctor:function(){this._super();q.qt=this.sw.COCOS2D_DEBUG;q.oT();q.Cl(this.sw.tag);q.by.kX().GR()},KQ:function(){var a=this.sw,c=q.V.e(),d=q.oa.e();W=d.Fw();q.size(W.width,W.height);var e=q.size(W.width,W.height),f=q.Dd.e();q.kj.e();f.rK(["res/Graphics"]);q.Bh&&q.Bh.e().Waa("res/Audio");c.dW(1);d.tD(e.width,e.height,q.Sn.SHOW_ALL);c.Ss(1/a.frameRate);a.test?q.test(a.test):(q.log("++++++++++++++++entry for game++++++++++++"),q.VT(function(a){q.zy.$C(a,function(){document.getElementById("gameCanvas").setAttribute("tabindex","0");
document.getElementById("gameCanvas").focus();var a=x.e();q.V.e().HJ(a);a.s()})}));return!0}}));
//@ sourceMappingURL=sourcemap