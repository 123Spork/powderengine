var b,ca={i2:"GUI/bankeditor_icon.png",k2:"GUI/book.png",n2:"GUI/btnDown.png",o2:"GUI/btnLeft.png",p2:"GUI/btnRight.png",q2:"GUI/btnUp.png",I2:"GUI/chat.png",H2:"GUI/chat_icon.png",J2:"GUI/checkbox_checked.png",K2:"GUI/checkbox_uncheck.png",L2:"GUI/close.png",W2:"GUI/cross_icon.png",b3:"GUI/defaultitem.png",r3:"GUI/edit.png",s3:"GUI/editor-tab.png",v3:"GUI/equipment.png",u3:"GUI/equipment_icon.png",w3:"GUI/event_panel.png",C7:"GUI/healthbar.png",V7:"GUI/inventory.png",U7:"GUI/inventory_icon.png",
K8:"GUI/itemeditor_bg.png",L8:"GUI/itemeditor_icon.png",M8:"GUI/itemeditor_tab1_bg.png",N8:"GUI/itemeditor_tab2_bg.png",O8:"GUI/itemeditor_tab3_bg.png",c9:"GUI/list_panel.png",k9:"GUI/logout.png",o9:"GUI/mapeditor_icon.png",u9:"GUI/npceditor_icon.png",v9:"GUI/npctalk.png",C$:"GUI/questeditor_icon.png",D$:"GUI/quickedit_closed_icon.png",E$:"GUI/quickedit_opened_icon.png",F$:"GUI/quickmenu_closed_icon.png",G$:"GUI/quickmenu_opened_icon.png",paa:"GUI/save_icon.png",qaa:"GUI/scripteditor_icon.png",Cca:"GUI/settings_icon.png",
Dca:"GUI/shopeditor_icon.png",Gca:"GUI/signeditor_bg.png",Hca:"GUI/signeditor_icon.png",Ica:"GUI/signpost.png",Jca:"GUI/skilleditor_icon.png",Lca:"GUI/skills.png",Kca:"GUI/skills_icon.png",Nca:"GUI/splash.png",nda:"GUI/texture_change_left.png",oda:"GUI/texture_change_middle.png",pda:"GUI/texture_change_right.png",qda:"GUI/tick_icon.png",Ada:"GUI/trash.png",Jda:"GUI/use.png",Sda:"GUI/warpeditor_bg.png",Tda:"GUI/warpeditor_icon.png",r2:"building1.png",G2:"character_graphics.txt",P8:"items1.png",Oca:"sprites1.png",
rda:"tile_graphics.txt",sda:"tiles0.png",tda:"tiles1.png"};var r=r||{},da={};r.JU=function(a){var c=r.HD[da.dK.wF];if(c){for(var d=[],e=0;e<c.length;++e)d.push({src:c[e]});a(d)}else a([])};da={dK:{wF:"_0"}};r.HD={};r.HD[da.dK.wF]=[];r.HD.yR=[];var io="undefined"===typeof module?{}:module.wc;
(function(){(function(a,d){a.version="0.9.16";a.protocol=1;a.transports=[];a.j=[];a.sockets={};a.connect=function(e,f){var g=a.util.parseUri(e),h,k;d&&d.location&&(g.protocol=g.protocol||d.location.protocol.slice(0,-1),g.host=g.host||(d.document?d.document.domain:d.location.hostname),g.port=g.port||d.location.port);h=a.util.uniqueUri(g);var l={host:g.host,Dn:"https"==g.protocol,port:g.port||("https"==g.protocol?443:80),query:g.query||""};a.util.merge(l,f);if(l["force new connection"]||!a.sockets[h])k=
new a.Socket(l);!l["force new connection"]&&k&&(a.sockets[h]=k);k=k||a.sockets[h];return k.$p(1<g.path.length?g.path:"")}})("object"===typeof module?module.wc:io,this);(function(a,d){var e=a.util={},f=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,g="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");
e.parseUri=function(a){a=f.exec(a||"");for(var c={},d=14;d--;)c[g[d]]=a[d]||"";return c};e.uniqueUri=function(a){var c=a.protocol,e=a.host;a=a.port;"document"in d?(e=e||document.domain,a=a||("https"==c&&"https:"!==document.location.protocol?443:document.location.port)):(e=e||"localhost",a||"https"!=c||(a=443));return(c||"http")+"://"+e+":"+(a||80)};e.query=function(a,c){var d=e.chunkQuery(a||""),f=[];e.merge(d,e.chunkQuery(c||""));for(var g in d)d.hasOwnProperty(g)&&f.push(g+"\x3d"+d[g]);return f.length?
"?"+f.join("\x26"):""};e.chunkQuery=function(a){var c={};a=a.split("\x26");for(var d=0,e=a.length,f;d<e;++d)f=a[d].split("\x3d"),f[0]&&(c[f[0]]=f[1]);return c};var h=!1;e.load=function(a){if("document"in d&&"complete"===document.readyState||h)return a();e.on(d,"load",a,!1)};e.on=function(a,c,d,e){a.attachEvent?a.attachEvent("on"+c,d):a.addEventListener&&a.addEventListener(c,d,e)};e.request=function(a){if(a&&"undefined"!=typeof XDomainRequest&&!e.ua.hasCORS)return new XDomainRequest;if("undefined"!=
typeof XMLHttpRequest&&(!a||e.ua.hasCORS))return new XMLHttpRequest;if(!a)try{return new (window[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(c){}return null};"undefined"!=typeof window&&e.load(function(){h=!0});e.defer=function(a){if(!e.ua.webkit||"undefined"!=typeof importScripts)return a();e.load(function(){setTimeout(a,100)})};e.merge=function(a,c,d,f){f=f||[];d="undefined"==typeof d?2:d;for(var g in c)c.hasOwnProperty(g)&&0>e.indexOf(f,g)&&("object"===typeof a[g]&&d?e.merge(a[g],
c[g],d-1,f):(a[g]=c[g],f.push(c[g])));return a};e.mixin=function(a,c){e.merge(a.prototype,c.prototype)};e.inherit=function(a,c){function d(){}d.prototype=c.prototype;a.prototype=new d};e.isArray=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};e.intersect=function(a,c){for(var d=[],f=a.length>c.length?a:c,g=a.length>c.length?c:a,h=0,u=g.length;h<u;h++)~e.indexOf(f,g[h])&&d.push(g[h]);return d};e.indexOf=function(a,c,d){var e=a.length;for(d=0>d?0>d+e?0:d+e:d||
0;d<e&&a[d]!==c;d++);return e<=d?-1:d};e.toArray=function(a){for(var c=[],d=0,e=a.length;d<e;d++)c.push(a[d]);return c};e.ua={};e.ua.hasCORS="undefined"!=typeof XMLHttpRequest&&function(){try{var a=new XMLHttpRequest}catch(c){return!1}return void 0!=a.withCredentials}();e.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent);e.ua.iDevice="undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)})("undefined"!=typeof io?io:module.wc,this);(function(a,d){function e(){}
a.EventEmitter=e;e.prototype.on=function(a,c){this.Lf||(this.Lf={});this.Lf[a]?d.util.isArray(this.Lf[a])?this.Lf[a].push(c):this.Lf[a]=[this.Lf[a],c]:this.Lf[a]=c;return this};e.prototype.hV=function(a){var c="connect";function d(){e.removeListener(c,d);a.apply(this,arguments)}var e=this;d.jx=a;this.on(c,d)};e.prototype.removeListener=function(a,c){if(this.Lf&&this.Lf[a]){var e=this.Lf[a];if(d.util.isArray(e)){for(var k=-1,l=0,m=e.length;l<m;l++)if(e[l]===c||e[l].jx&&e[l].jx===c){k=l;break}if(0>
k)return this;e.splice(k,1);e.length||delete this.Lf[a]}else(e===c||e.jx&&e.jx===c)&&delete this.Lf[a]}return this};e.prototype.yp=function(a){if(!this.Lf)return!1;var c=this.Lf[a];if(!c)return!1;var e=Array.prototype.slice.call(arguments,1);if("function"==typeof c)c.apply(this,e);else if(d.util.isArray(c))for(var c=c.slice(),k=0,l=c.length;k<l;k++)c[k].apply(this,e);else return!1;return!0}})("undefined"!=typeof io?io:module.wc,"undefined"!=typeof io?io:module.parent.wc);(function(a,d){function e(a){return 10>
a?"0"+a:a}function f(a){l.lastIndex=0;return l.test(a)?'"'+a.replace(l,function(a){var c=p[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function g(a,c){var d,h,k,l,p=m,S,O=c[a];O instanceof Date&&(O=isFinite(a.valueOf())?a.getUTCFullYear()+"-"+e(a.getUTCMonth()+1)+"-"+e(a.getUTCDate())+"T"+e(a.getUTCHours())+":"+e(a.getUTCMinutes())+":"+e(a.getUTCSeconds())+"Z":null);"function"===typeof q&&(O=q.call(c,a,O));switch(typeof O){case "string":return f(O);
case "number":return isFinite(O)?String(O):"null";case "boolean":case "null":return String(O);case "object":if(!O)return"null";m+=n;S=[];if("[object Array]"===Object.prototype.toString.apply(O)){l=O.length;for(d=0;d<l;d+=1)S[d]=g(d,O)||"null";k=0===S.length?"[]":m?"[\n"+m+S.join(",\n"+m)+"\n"+p+"]":"["+S.join(",")+"]";m=p;return k}if(q&&"object"===typeof q)for(l=q.length,d=0;d<l;d+=1)"string"===typeof q[d]&&(h=q[d],(k=g(h,O))&&S.push(f(h)+(m?": ":":")+k));else for(h in O)Object.prototype.hasOwnProperty.call(O,
h)&&(k=g(h,O))&&S.push(f(h)+(m?": ":":")+k);k=0===S.length?"{}":m?"{\n"+m+S.join(",\n"+m)+"\n"+p+"}":"{"+S.join(",")+"}";m=p;return k}}if(d&&d.parse)return a.JSON={parse:d.parse,stringify:d.stringify};var h=a.JSON={},k=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,m,n,p={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f",
"\r":"\\r",'"':'\\"',"\\":"\\\\"},q;h.stringify=function(a,c,d){var e;n=m="";if("number"===typeof d)for(e=0;e<d;e+=1)n+=" ";else"string"===typeof d&&(n=d);if((q=c)&&"function"!==typeof c&&("object"!==typeof c||"number"!==typeof c.length))throw Error("JSON.stringify");return g("",{"":a})};h.parse=function(a,c){function d(a,e){var f,g,h=a[e];if(h&&"object"===typeof h)for(f in h)Object.prototype.hasOwnProperty.call(h,f)&&(g=d(h,f),void 0!==g?h[f]=g:delete h[f]);return c.call(a,e,h)}var e;a=String(a);
k.lastIndex=0;k.test(a)&&(a=a.replace(k,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"===typeof c?d({"":e},""):e;throw new SyntaxError("JSON.parse");}})("undefined"!=typeof io?io:module.wc,"undefined"!==typeof JSON?JSON:void 0);(function(a,d){var e=
a.parser={},f=e.packets="disconnect connect heartbeat message json event ack error noop".split(" "),g=e.reasons=["transport not supported","client not handshaken","unauthorized"],h=e.advice=["reconnect"],k=d.JSON,l=d.util.indexOf;e.encodePacket=function(a){var c=l(f,a.type),d=a.id||"",e=a.Qw||"",m=a.rp,y=null;switch(a.type){case "error":var D=a.reason?l(g,a.reason):"";a=a.advice?l(h,a.advice):"";if(""!==D||""!==a)y=D+(""!==a?"+"+a:"");break;case "message":""!==a.data&&(y=a.data);break;case "event":y=
{name:a.name};a.df&&a.df.length&&(y.df=a.df);y=k.stringify(y);break;case "json":y=k.stringify(a.data);break;case "connect":a.eK&&(y=a.eK);break;case "ack":y=a.sp+(a.df&&a.df.length?"+"+k.stringify(a.df):"")}c=[c,d+("data"==m?"+":""),e];null!==y&&void 0!==y&&c.push(y);return c.join(":")};e.encodePayload=function(a){var c="";if(1==a.length)return a[0];for(var d=0,e=a.length;d<e;d++)c+="\ufffd"+a[d].length+"\ufffd"+a[d];return c};var m=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;e.decodePacket=function(a){var c=
a.match(m);if(!c)return{};var d=c[2]||"";a=c[5]||"";var e={type:f[c[1]],Qw:c[4]||""};d&&(e.id=d,e.rp=c[3]?"data":!0);switch(e.type){case "error":c=a.split("+");e.reason=g[c[0]]||"";e.advice=h[c[1]]||"";break;case "message":e.data=a||"";break;case "event":try{var l=k.parse(a);e.name=l.name;e.df=l.df}catch(y){}e.df=e.df||[];break;case "json":try{e.data=k.parse(a)}catch(D){}break;case "connect":e.eK=a||"";break;case "ack":if(c=a.match(/^([0-9]+)(\+)?(.*)/))if(e.sp=c[1],e.df=[],c[3])try{e.df=c[3]?k.parse(c[3]):
[]}catch(B){}}return e};e.decodePayload=function(a){if("\ufffd"==a.charAt(0)){for(var c=[],d=1,f="";d<a.length;d++)"\ufffd"==a.charAt(d)?(c.push(e.decodePacket(a.substr(d+1).substr(0,f))),d+=Number(f)+1,f=""):f+=a.charAt(d);return c}return[e.decodePacket(a)]}})("undefined"!=typeof io?io:module.wc,"undefined"!=typeof io?io:module.parent.wc);(function(a,d){function e(a,c){this.yb=a;this.FW=c}a.Transport=e;d.util.mixin(e,d.EventEmitter);e.prototype.YI=function(){return!0};e.prototype.Xs=function(a){this.fC();
(this.yb.rh||this.yb.Fg||this.yb.un)&&this.GK();if(""!==a&&(a=d.parser.decodePayload(a))&&a.length)for(var c=0,e=a.length;c<e;c++)this.Ys(a[c])};e.prototype.Ys=function(a){this.yb.QK();if("heartbeat"==a.type)return this.UU();"connect"==a.type&&""==a.Qw&&this.kD();"error"==a.type&&"reconnect"==a.advice&&(this.Os=!1);this.yb.Ys(a);return this};e.prototype.GK=function(){if(!this.vp){var a=this;this.vp=setTimeout(function(){a.nn()},this.yb.vp)}};e.prototype.nn=function(){this.Os&&this.close();this.gC();
this.yb.nn();return this};e.prototype.kD=function(){this.yb.kD();return this};e.prototype.fC=function(){this.vp&&(clearTimeout(this.vp),this.vp=null)};e.prototype.gC=function(){this.fC();this.jW&&clearTimeout(this.jW)};e.prototype.fg=function(a){this.send(d.parser.encodePacket(a))};e.prototype.UU=function(){this.fg({type:"heartbeat"})};e.prototype.mx=function(){this.Os=!0;this.fC();this.yb.mx()};e.prototype.ii=function(){this.Os=!1;this.yb.ii();this.nn()};e.prototype.$s=function(){var a=this.yb.options;
return this.scheme()+"://"+a.host+":"+a.port+"/"+a.zx+"/"+d.protocol+"/"+this.name+"/"+this.FW};e.prototype.sx=function(a,c){c.call(this)}})("undefined"!=typeof io?io:module.wc,"undefined"!=typeof io?io:module.parent.wc);(function(a,d,e){function f(a){this.options={port:80,Dn:!1,document:"document"in e?document:!1,zx:"socket.io",transports:d.transports,"connect timeout":1E4,"try multiple transports":!0,reconnect:!0,"reconnection delay":500,"reconnection limit":Infinity,"reopen delay":3E3,"max reconnection attempts":10,
"sync disconnect on unload":!1,"auto connect":!0,"flash policy port":10843,manualFlush:!1};d.util.merge(this.options,a);this.un=this.Fg=this.open=this.rh=!1;this.namespaces={};this.buffer=[];this.oC=!1;if(this.options["sync disconnect on unload"]&&(!this.Sp()||d.util.ua.hasCORS)){var c=this;d.util.on(e,"beforeunload",function(){c.sS()},!1)}this.options["auto connect"]&&this.connect()}function g(){}a.Socket=f;d.util.mixin(f,d.EventEmitter);f.prototype.$p=function(a){this.namespaces[a]||(this.namespaces[a]=
new d.SocketNamespace(this,a),""!==a&&this.namespaces[a].fg({type:"connect"}));return this.namespaces[a]};f.prototype.Cl=function(){this.yp.apply(this,arguments);var a,c;for(c in this.namespaces)this.namespaces.hasOwnProperty(c)&&(a=this.$p(c),a.uk.apply(a,arguments))};f.prototype.RT=function(a){function c(d){d instanceof Error?(e.Fg=!1,e.pn(d.message)):a.apply(null,d.split(":"))}var e=this,f=this.options,f=["http"+(f.Dn?"s":"")+":/",f.host+":"+f.port,f.zx,d.protocol,d.util.query(this.options.query,
"t\x3d"+ +new Date)].join("/");if(this.Sp()&&!d.util.ua.hasCORS){var n=document.getElementsByTagName("script")[0],p=document.createElement("script");p.src=f+"\x26jsonp\x3d"+d.j.length;n.parentNode.insertBefore(p,n);d.j.push(function(a){c(a);p.parentNode.removeChild(p)})}else{var q=d.util.request();q.open("GET",f,!0);this.Sp()&&(q.withCredentials=!0);q.onreadystatechange=function(){4==q.readyState&&(q.onreadystatechange=g,200==q.status?c(q.responseText):403==q.status?e.pn(q.responseText):(e.Fg=!1,
!e.un&&e.pn(q.responseText)))};q.send(null)}};f.prototype.OI=function(a){a=a||this.transports;for(var c=0,e;e=a[c];c++)if(d.Transport[e]&&d.Transport[e].$m(this)&&(!this.Sp()||d.Transport[e].yt(this)))return new d.Transport[e](this,this.xK);return null};f.prototype.connect=function(a){if(this.Fg)return this;var c=this;c.Fg=!0;this.RT(function(e,f,g,p){function q(a){c.nf&&c.nf.gC();c.nf=c.OI(a);c.nf?c.nf.sx(c,function(){c.Fg=!0;c.Cl("connecting",c.nf.name);c.nf.open();c.options["connect timeout"]&&
(c.XR=setTimeout(function(){if(!c.rh&&(c.Fg=!1,c.options["try multiple transports"])){for(var a=c.transports;0<a.length&&a.splice(0,1)[0]!=c.nf.name;);a.length?q(a):c.Cl("connect_failed")}},c.options["connect timeout"]))}):c.Cl("connect_failed")}c.xK=e;c.vp=1E3*g;c.WT=1E3*f;c.transports||(c.transports=c.iV=p?d.util.intersect(p.split(","),c.options.transports):c.options.transports);c.QK();q(c.transports);c.hV(function(){clearTimeout(c.XR);a&&"function"==typeof a&&a()})});return this};f.prototype.QK=
function(){clearTimeout(this.XI);if(!this.nf||this.nf.YI()){var a=this;this.XI=setTimeout(function(){a.nf.ii()},this.WT)}};f.prototype.fg=function(a){this.rh&&!this.oC?this.nf.fg(a):this.buffer.push(a);return this};f.prototype.mk=function(a){this.oC=a;!a&&this.rh&&this.buffer.length&&(this.options.manualFlush||this.LS())};f.prototype.LS=function(){this.nf.XJ(this.buffer);this.buffer=[]};f.prototype.disconnect=function(){if(this.rh||this.Fg)this.open&&this.$p("").fg({type:"disconnect"}),this.nn("booted");
return this};f.prototype.sS=function(){var a=d.util.request();a.open("GET",["http"+(this.options.Dn?"s":"")+":/",this.options.host+":"+this.options.port,this.options.zx,d.protocol,"",this.xK].join("/")+"/?disconnect\x3d1",!1);a.send(null);this.nn("booted")};f.prototype.Sp=function(){var a=e.location.port||("https:"==e.location.protocol?443:80);return this.options.host!==e.location.hostname||this.options.port!=a};f.prototype.kD=function(){this.rh||(this.rh=!0,this.Fg=!1,this.oC||this.mk(!1),this.yp("connect"))};
f.prototype.mx=function(){this.open=!0};f.prototype.ii=function(){this.open=!1;clearTimeout(this.XI)};f.prototype.Ys=function(a){this.$p(a.Qw).Ys(a)};f.prototype.pn=function(a){a&&a.advice&&"reconnect"===a.advice&&(this.rh||this.Fg)&&(this.disconnect(),this.options.tx&&this.tx());this.Cl("error",a&&a.reason?a.reason:a)};f.prototype.nn=function(a){var c=this.rh,d=this.Fg;this.open=this.Fg=this.rh=!1;if(c||d)this.nf.close(),this.nf.gC(),c&&(this.Cl("disconnect",a),"booted"!=a&&this.options.tx&&!this.un&&
this.tx())};f.prototype.tx=function(){function a(){if(d.rh){for(var e in d.namespaces)d.namespaces.hasOwnProperty(e)&&""!==e&&d.namespaces[e].fg({type:"connect"});d.Cl("reconnect",d.nf.name,d.ux)}clearTimeout(d.vx);d.removeListener("connect_failed",c);d.removeListener("connect",c);d.un=!1;delete d.ux;delete d.vn;delete d.vx;delete d.jK;d.options["try multiple transports"]=f}function c(){if(d.un){if(d.rh)return a();if(d.Fg&&d.un)return d.vx=setTimeout(c,1E3);d.ux++>=e?d.jK?(d.Cl("reconnect_failed"),
a()):(d.on("connect_failed",c),d.options["try multiple transports"]=!0,d.transports=d.iV,d.nf=d.OI(),d.jK=!0,d.connect()):(d.vn<g&&(d.vn*=2),d.connect(),d.Cl("reconnecting",d.vn,d.ux),d.vx=setTimeout(c,d.vn))}}this.un=!0;this.ux=0;this.vn=this.options["reconnection delay"];var d=this,e=this.options["max reconnection attempts"],f=this.options["try multiple transports"],g=this.options["reconnection limit"];this.options["try multiple transports"]=!1;this.vx=setTimeout(c,this.vn);this.on("connect",c)}})("undefined"!=
typeof io?io:module.wc,"undefined"!=typeof io?io:module.parent.wc,this);(function(a,d){function e(a,c){this.yb=a;this.name=c||"";this.Sw={};this.AU=new f(this,"json");this.CH=0;this.ts={}}function f(a,c){this.Zp=a;this.name=c}a.SocketNamespace=e;d.util.mixin(e,d.EventEmitter);e.prototype.uk=d.EventEmitter.prototype.yp;e.prototype.$p=function(){return this.yb.$p.apply(this.yb,arguments)};e.prototype.fg=function(a){a.Qw=this.name;this.yb.fg(a);this.Sw={};return this};e.prototype.send=function(a,c){var d=
{type:this.Sw.AU?"json":"message",data:a};"function"==typeof c&&(d.id=++this.CH,d.rp=!0,this.ts[d.id]=c);return this.fg(d)};e.prototype.yp=function(a){var c=Array.prototype.slice.call(arguments,1),d=c[c.length-1],e={type:"event",name:a};"function"==typeof d&&(e.id=++this.CH,e.rp="data",this.ts[e.id]=d,c=c.slice(0,c.length-1));e.df=c;return this.fg(e)};e.prototype.disconnect=function(){""===this.name?this.yb.disconnect():(this.fg({type:"disconnect"}),this.uk("disconnect"));return this};e.prototype.Ys=
function(a){function c(){e.fg({type:"ack",df:d.util.toArray(arguments),sp:a.id})}var e=this;switch(a.type){case "connect":this.uk("connect");break;case "disconnect":""===this.name?this.yb.nn(a.reason||"booted"):this.uk("disconnect",a.reason);break;case "message":case "json":var f=["message",a.data];"data"==a.rp?f.push(c):a.rp&&this.fg({type:"ack",sp:a.id});this.uk.apply(this,f);break;case "event":f=[a.name].concat(a.df);"data"==a.rp&&f.push(c);this.uk.apply(this,f);break;case "ack":this.ts[a.sp]&&
(this.ts[a.sp].apply(this,a.df),delete this.ts[a.sp]);break;case "error":a.advice?this.yb.pn(a):"unauthorized"==a.reason?this.uk("connect_failed",a.reason):this.uk("error",a.reason)}};f.prototype.send=function(){this.Zp.Sw[this.name]=!0;this.Zp.send.apply(this.Zp,arguments)};f.prototype.yp=function(){this.Zp.Sw[this.name]=!0;this.Zp.yp.apply(this.Zp,arguments)}})("undefined"!=typeof io?io:module.wc,"undefined"!=typeof io?io:module.parent.wc);(function(a,d,e){function f(a){d.Transport.apply(this,arguments)}
a.Tg=f;d.util.inherit(f,d.Transport);f.prototype.name="websocket";f.prototype.open=function(){var a=d.util.query(this.yb.options.query),c=this,f;f||(f=e.q_||e.KN);this.Tg=new f(this.$s()+a);this.Tg.onopen=function(){c.mx();c.yb.mk(!1)};this.Tg.onmessage=function(a){c.Xs(a.data)};this.Tg.onclose=function(){c.ii();c.yb.mk(!0)};this.Tg.onerror=function(a){c.pn(a)};return this};f.prototype.send=d.util.ua.iDevice?function(a){var c=this;setTimeout(function(){c.Tg.send(a)},0);return this}:function(a){this.Tg.send(a);
return this};f.prototype.XJ=function(a){for(var c=0,d=a.length;c<d;c++)this.fg(a[c]);return this};f.prototype.close=function(){this.Tg.close();return this};f.prototype.pn=function(a){this.yb.pn(a)};f.prototype.scheme=function(){return this.yb.options.Dn?"wss":"ws"};f.$m=function(){return"WebSocket"in e&&!("__addTask"in WebSocket)||"MozWebSocket"in e};f.yt=function(){return!0};d.transports.push("websocket")})("undefined"!=typeof io?io.Transport:module.wc,"undefined"!=typeof io?io:module.parent.wc,
this);(function(c,d){function e(){d.Transport.Tg.apply(this,arguments)}c.P3=e;d.util.inherit(e,d.Transport.Tg);e.prototype.name="flashsocket";e.prototype.open=function(){var a=this,c=arguments;WebSocket.Lu(function(){d.Transport.Tg.prototype.open.apply(a,c)});return this};e.prototype.send=function(){var a=this,c=arguments;WebSocket.Lu(function(){d.Transport.Tg.prototype.send.apply(a,c)});return this};e.prototype.close=function(){WebSocket.Lq.length=0;d.Transport.Tg.prototype.close.call(this);return this};
e.prototype.sx=function(a,c){function h(){var d=a.options,h=d["flash policy port"],n=["http"+(d.Dn?"s":"")+":/",d.host+":"+d.port,d.zx,"static/flashsocket","WebSocketMain"+(a.Sp()?"Insecure":"")+".swf"];e.loaded||("undefined"===typeof WEB_SOCKET_SWF_LOCATION&&(WEB_SOCKET_SWF_LOCATION=n.join("/")),843!==h&&WebSocket.IU("xmlsocket://"+d.host+":"+h),WebSocket.sz(),e.loaded=!0);c.call(k)}var k=this;if(document.body)return h();d.util.load(h)};e.$m=function(){return"undefined"!=typeof WebSocket&&"__initialize"in
WebSocket&&a?10<=a.XS().NU:!1};e.yt=function(){return!0};"undefined"!=typeof window&&(WEB_SOCKET_DISABLE_AUTO_INITIALIZATION=!0);d.transports.push("flashsocket")})("undefined"!=typeof io?io.Transport:module.wc,"undefined"!=typeof io?io:module.parent.wc);if("undefined"!=typeof window)var a=function(){function c(){if(!la){try{var a=L.getElementsByTagName("body")[0].appendChild(L.createElement("span"));a.parentNode.removeChild(a)}catch(c){return}la=!0;for(var a=wa.length,d=0;d<a;d++)wa[d]()}}function d(a){la?
a():wa[wa.length]=a}function e(a){if(typeof ba.addEventListener!=N)ba.addEventListener("load",a,!1);else if(typeof L.addEventListener!=N)L.addEventListener("load",a,!1);else if(typeof ba.attachEvent!=N)w(ba,a);else if("function"==typeof ba.onload){var c=ba.onload;ba.onload=function(){c();a()}}else ba.onload=a}function f(){var a=L.getElementsByTagName("body")[0],c=L.createElement(S);c.setAttribute("type",O);var d=a.appendChild(c);if(d){var e=0;(function(){if(typeof d.GetVariable!=N){var f=d.GetVariable("$version");
f&&(f=f.split(" ")[1].split(","),E.cq=[parseInt(f[0],10),parseInt(f[1],10),parseInt(f[2],10)])}else if(10>e){e++;setTimeout(arguments.callee,10);return}a.removeChild(c);d=null;g()})()}else g()}function g(){var a=ia.length;if(0<a)for(var c=0;c<a;c++){var d=ia[c].id,e=ia[c].BR,f={Ln:!1,id:d};if(0<E.cq[0]){var g=u(d);if(g)if(!y(ia[c].pY)||E.tk&&312>E.tk)if(ia[c].qI&&k()){f={};f.data=ia[c].qI;f.width=g.getAttribute("width")||"0";f.height=g.getAttribute("height")||"0";g.getAttribute("class")&&(f.Uca=g.getAttribute("class"));
g.getAttribute("align")&&(f.align=g.getAttribute("align"));for(var n={},g=g.getElementsByTagName("param"),p=g.length,q=0;q<p;q++)"movie"!=g[q].getAttribute("name").toLowerCase()&&(n[g[q].getAttribute("name")]=g[q].getAttribute("value"));l(f,n,d,e)}else m(g),e&&e(f);else B(d,!0),e&&(f.Ln=!0,f.kK=h(d),e(f))}else B(d,!0),e&&((d=h(d))&&typeof d.SetVariable!=N&&(f.Ln=!0,f.kK=d),e(f))}}function h(a){var c=null;(a=u(a))&&"OBJECT"==a.nodeName&&(typeof a.SetVariable!=N?c=a:(a=a.getElementsByTagName(S)[0])&&
(c=a));return c}function k(){return!xa&&y("6.0.65")&&(E.Ch||E.DJ)&&!(E.tk&&312>E.tk)}function l(a,c,d,e){xa=!0;Da=e||null;Ka={Ln:!1,id:d};var f=u(d);if(f){"OBJECT"==f.nodeName?(ta=n(f),ya=null):(ta=f,ya=d);a.id=pa;if(typeof a.width==N||!/%$/.test(a.width)&&310>parseInt(a.width,10))a.width="310";if(typeof a.height==N||!/%$/.test(a.height)&&137>parseInt(a.height,10))a.height="137";L.title=L.title.slice(0,47)+" - Flash Player Installation";e=E.vh&&E.Ch?["Active"].concat("").join("X"):"PlugIn";e="MMredirectURL\x3d"+
ba.location.toString().replace(/&/g,"%26")+"\x26MMplayerType\x3d"+e+"\x26MMdoctitle\x3d"+L.title;c.xs=typeof c.xs!=N?c.xs+("\x26"+e):e;E.vh&&E.Ch&&4!=f.readyState&&(e=L.createElement("div"),d+="SWFObjectNew",e.setAttribute("id",d),f.parentNode.insertBefore(e,f),f.style.display="none",function(){4==f.readyState?f.parentNode.removeChild(f):setTimeout(arguments.callee,10)}());p(a,c,d)}}function m(a){if(E.vh&&E.Ch&&4!=a.readyState){var c=L.createElement("div");a.parentNode.insertBefore(c,a);c.parentNode.replaceChild(n(a),
c);a.style.display="none";(function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)})()}else a.parentNode.replaceChild(n(a),a)}function n(a){var c=L.createElement("div");if(E.Ch&&E.vh)c.innerHTML=a.innerHTML;else if(a=a.getElementsByTagName(S)[0])if(a=a.childNodes)for(var d=a.length,e=0;e<d;e++)1==a[e].nodeType&&"PARAM"==a[e].nodeName||8==a[e].nodeType||c.appendChild(a[e].cloneNode(!0));return c}function p(a,c,d){var e,f=u(d);if(E.tk&&312>E.tk)return e;if(f)if(typeof a.id==
N&&(a.id=d),E.vh&&E.Ch){var g="",h;for(h in a)a[h]!=Object.prototype[h]&&("data"==h.toLowerCase()?c.t9=a[h]:"styleclass"==h.toLowerCase()?g+=' class\x3d"'+a[h]+'"':"classid"!=h.toLowerCase()&&(g+=" "+h+'\x3d"'+a[h]+'"'));h="";for(var k in c)c[k]!=Object.prototype[k]&&(h+='\x3cparam name\x3d"'+k+'" value\x3d"'+c[k]+'" /\x3e');f.outerHTML='\x3cobject classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+g+"\x3e"+h+"\x3c/object\x3e";za[za.length]=a.id;e=u(a.id)}else{k=L.createElement(S);k.setAttribute("type",
O);for(var l in a)a[l]!=Object.prototype[l]&&("styleclass"==l.toLowerCase()?k.setAttribute("class",a[l]):"classid"!=l.toLowerCase()&&k.setAttribute(l,a[l]));for(g in c)c[g]!=Object.prototype[g]&&"movie"!=g.toLowerCase()&&(a=k,h=g,l=c[g],d=L.createElement("param"),d.setAttribute("name",h),d.setAttribute("value",l),a.appendChild(d));f.parentNode.replaceChild(k,f);e=k}return e}function q(a){var c=u(a);c&&"OBJECT"==c.nodeName&&(E.vh&&E.Ch?(c.style.display="none",function(){if(4==c.readyState){var d=u(a);
if(d){for(var e in d)"function"==typeof d[e]&&(d[e]=null);d.parentNode.removeChild(d)}}else setTimeout(arguments.callee,10)}()):c.parentNode.removeChild(c))}function u(a){var c=null;try{c=L.getElementById(a)}catch(d){}return c}function w(a,c){a.attachEvent("onload",c);qa[qa.length]=[a,"onload",c]}function y(a){var c=E.cq;a=a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return c[0]>a[0]||c[0]==a[0]&&c[1]>a[1]||c[0]==a[0]&&c[1]==a[1]&&c[2]>=a[2]?!0:!1}function D(a,
c,d,e){if(!E.vh||!E.DJ){var f=L.getElementsByTagName("head")[0];f&&(d=d&&"string"==typeof d?d:"screen",e&&(Ea=ga=null),ga&&Ea==d||(e=L.createElement("style"),e.setAttribute("type","text/css"),e.setAttribute("media",d),ga=f.appendChild(e),E.vh&&E.Ch&&typeof L.styleSheets!=N&&0<L.styleSheets.length&&(ga=L.styleSheets[L.styleSheets.length-1]),Ea=d),E.vh&&E.Ch?ga&&typeof ga.addRule==S&&ga.addRule(a,c):ga&&typeof L.createTextNode!=N&&ga.appendChild(L.createTextNode(a+" {"+c+"}")))}}function B(a,c){if(La){var d=
c?"visible":"hidden";la&&u(a)?u(a).style.visibility=d:D("#"+a,"visibility:"+d)}}function aa(a){return null!=/[\\\"<>\.;]/.exec(a)&&typeof encodeURIComponent!=N?encodeURIComponent(a):a}var N="undefined",S="object",O="application/x-shockwave-flash",pa="SWFObjectExprInst",ba=window,L=document,ja=navigator,Ma=!1,wa=[function(){Ma?f():g()}],ia=[],za=[],qa=[],ta,ya,Da,Ka,la=!1,xa=!1,ga,Ea,La=!0,E=function(){var a=typeof L.getElementById!=N&&typeof L.getElementsByTagName!=N&&typeof L.createElement!=N,c=
ja.userAgent.toLowerCase(),d=ja.platform.toLowerCase(),e=d?/win/.test(d):/win/.test(c),d=d?/mac/.test(d):/mac/.test(c),c=/webkit/.test(c)?parseFloat(c.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,f=!+"\v1",g=[0,0,0],h=null;if(typeof ja.plugins!=N&&typeof ja.plugins["Shockwave Flash"]==S)!(h=ja.plugins["Shockwave Flash"].description)||typeof ja.mimeTypes!=N&&ja.mimeTypes[O]&&!ja.mimeTypes[O].enabledPlugin||(Ma=!0,f=!1,h=h.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),g[0]=parseInt(h.replace(/^(.*)\..*$/,"$1"),
10),g[1]=parseInt(h.replace(/^.*\.(.*)\s.*$/,"$1"),10),g[2]=/[a-zA-Z]/.test(h)?parseInt(h.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof ba[["Active"].concat("Object").join("X")]!=N)try{var k=new (window[["Active"].concat("Object").join("X")])("ShockwaveFlash.ShockwaveFlash");k&&(h=k.GetVariable("$version"))&&(f=!0,h=h.split(" ")[1].split(","),g=[parseInt(h[0],10),parseInt(h[1],10),parseInt(h[2],10)])}catch(l){}return{Rl:a,cq:g,tk:c,vh:f,Ch:e,DJ:d}}();(function(){E.Rl&&((typeof L.readyState!=
N&&"complete"==L.readyState||typeof L.readyState==N&&(L.getElementsByTagName("body")[0]||L.body))&&c(),la||(typeof L.addEventListener!=N&&L.addEventListener("DOMContentLoaded",c,!1),E.vh&&E.Ch&&(L.attachEvent("onreadystatechange",function(){"complete"==L.readyState&&(L.detachEvent("onreadystatechange",arguments.callee),c())}),ba==top&&function(){if(!la){try{L.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}c()}}()),E.tk&&function(){la||(/loaded|complete/.test(L.readyState)?
c():setTimeout(arguments.callee,0))}(),e(c)))})();(function(){E.vh&&E.Ch&&window.attachEvent("onunload",function(){for(var c=qa.length,d=0;d<c;d++)qa[d][0].detachEvent(qa[d][1],qa[d][2]);c=za.length;for(d=0;d<c;d++)q(za[d]);for(var e in E)E[e]=null;E=null;for(var f in a)a[f]=null;a=null})})();return{M$:function(a,c,d,e){if(E.Rl&&a&&c){var f={};f.id=a;f.pY=c;f.qI=d;f.BR=e;ia[ia.length]=f;B(a,!1)}else e&&e({Ln:!1,id:a})},I5:function(a){if(E.Rl)return h(a)},ES:function(a,c,e,f,g,h,m,n,q,u){var w={Ln:!1,
id:c};E.Rl&&!(E.tk&&312>E.tk)&&a&&c&&e&&f&&g?(B(c,!1),d(function(){e+="";f+="";var d={};if(q&&typeof q===S)for(var D in q)d[D]=q[D];d.data=a;d.width=e;d.height=f;D={};if(n&&typeof n===S)for(var aa in n)D[aa]=n[aa];if(m&&typeof m===S)for(var E in m)D.xs=typeof D.xs!=N?D.xs+("\x26"+E+"\x3d"+m[E]):E+"\x3d"+m[E];if(y(g))aa=p(d,D,c),d.id==c&&B(c,!0),w.Ln=!0,w.kK=aa;else{if(h&&k()){d.data=h;l(d,D,c,u);return}B(c,!0)}u&&u(w)})):u&&u(w)},bda:function(){La=!1},ua:E,XS:function(){return{NU:E.cq[0],p9:E.cq[1],
BD:E.cq[2]}},TT:y,T2:function(a,c,d){if(E.Rl)return p(a,c,d)},Eca:function(a,c,d,e){E.Rl&&k()&&l(a,c,d,e)},$$:function(a){E.Rl&&q(a)},S2:function(a,c,d,e){E.Rl&&D(a,c,d,e)},I1:d,M1:e,n6:function(a){var c=L.location.search||L.location.hash;if(c){/\?/.test(c)&&(c=c.split("?")[1]);if(null==a)return aa(c);for(var c=c.split("\x26"),d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("\x3d"))==a)return aa(c[d].substring(c[d].indexOf("\x3d")+1))}return""},z3:function(){if(xa){var a=u(pa);a&&ta&&(a.parentNode.replaceChild(ta,
a),ya&&(B(ya,!0),E.vh&&E.Ch&&(ta.style.display="block")),Da&&Da(Ka));xa=!1}}}}();(function(){if("undefined"!=typeof window&&!window.KN){var c=window.console;c&&c.log&&c.error||(c={log:function(){},error:function(){}});a.TT("10.0.0")?("file:"==location.protocol&&c.error("WARNING: web-socket-js doesn't work in file:///... URL unless you set Flash Security Settings properly. Open the page via Web server i.e. http://..."),WebSocket=function(a,c,f,g,h){var k=this;k.Nu=WebSocket.RN++;WebSocket.PF[k.Nu]=
k;k.readyState=WebSocket.CONNECTING;k.bufferedAmount=0;k.io={};c?"string"==typeof c&&(c=[c]):c=[];setTimeout(function(){WebSocket.Lu(function(){WebSocket.vi.create(k.Nu,a,c,f||null,g||0,h||null)})},0)},WebSocket.prototype.send=function(a){if(this.readyState==WebSocket.CONNECTING)throw"INVALID_STATE_ERR: Web Socket connection has not been established";a=WebSocket.vi.send(this.Nu,encodeURIComponent(a));if(0>a)return!0;this.bufferedAmount+=a;return!1},WebSocket.prototype.close=function(){this.readyState!=
WebSocket.CLOSED&&this.readyState!=WebSocket.GE&&(this.readyState=WebSocket.GE,WebSocket.vi.close(this.Nu))},WebSocket.prototype.addEventListener=function(a,c){a in this.io||(this.io[a]=[]);this.io[a].push(c)},WebSocket.prototype.removeEventListener=function(a,c){if(a in this.io)for(var f=this.io[a],g=f.length-1;0<=g;--g)if(f[g]===c){f.splice(g,1);break}},WebSocket.prototype.dispatchEvent=function(a){for(var c=this.io[a.type]||[],f=0;f<c.length;++f)c[f](a);(c=this["on"+a.type])&&c(a)},WebSocket.prototype.ON=
function(a){"readyState"in a&&(this.readyState=a.readyState);"protocol"in a&&(this.protocol=a.protocol);if("open"==a.type||"error"==a.type)a=this.NF(a.type);else if("close"==a.type)a=this.NF("close");else if("message"==a.type)a=this.MN(decodeURIComponent(a.message));else throw"unknown event type: "+a.type;this.dispatchEvent(a)},WebSocket.prototype.NF=function(a){if(document.createEvent&&window.PZ){var c=document.createEvent("Event");c.initEvent(a,!1,!1);return c}return{type:a,bubbles:!1,cancelable:!1}},
WebSocket.prototype.MN=function(a){if(document.createEvent&&window.o_&&!window.opera){var c=document.createEvent("MessageEvent");c.initMessageEvent("message",!1,!1,a,null,null,window,null);return c}return{type:"message",data:a,bubbles:!1,cancelable:!1}},WebSocket.CONNECTING=0,WebSocket.OPEN=1,WebSocket.GE=2,WebSocket.CLOSED=3,WebSocket.vi=null,WebSocket.PF={},WebSocket.Lq=[],WebSocket.RN=0,WebSocket.IU=function(a){WebSocket.Lu(function(){WebSocket.vi.i9(a)})},WebSocket.sz=function(){if(!WebSocket.vi&&
(WebSocket.TN&&(window.JN=WebSocket.TN),window.JN)){var d=document.createElement("div");d.id="webSocketContainer";d.style.position="absolute";WebSocket.QN()?(d.style.left="0px",d.style.top="0px"):(d.style.left="-100px",d.style.top="-100px");var e=document.createElement("div");e.id="webSocketFlash";d.appendChild(e);document.body.appendChild(d);a.ES(WEB_SOCKET_SWF_LOCATION,"webSocketFlash","1","1","10.0.0",null,null,{B7:!0,eda:!0,Z1:"always"},null,function(a){a.Ln||c.error("[WebSocket] swfobject.embedSWF failed")})}},
WebSocket.Q0=function(){setTimeout(function(){WebSocket.vi=document.getElementById("webSocketFlash");WebSocket.vi.Daa(location.href);WebSocket.vi.Laa(!!window.B0);for(var a=0;a<WebSocket.Lq.length;++a)WebSocket.Lq[a]();WebSocket.Lq=[]},0)},WebSocket.P0=function(){setTimeout(function(){try{for(var a=WebSocket.vi.H$(),e=0;e<a.length;++e)WebSocket.PF[a[e].Uda].ON(a[e])}catch(f){c.error(f)}},0);return!0},WebSocket.O0=function(a){c.log(decodeURIComponent(a))},WebSocket.N0=function(a){c.error(decodeURIComponent(a))},
WebSocket.Lu=function(a){WebSocket.vi?a():WebSocket.Lq.push(a)},WebSocket.QN=function(){if(!window.navigator||!window.navigator.mimeTypes)return!1;var a=window.navigator.mimeTypes["application/x-shockwave-flash"];return a&&a.enabledPlugin&&a.enabledPlugin.filename?a.enabledPlugin.filename.match(/flashlite/i)?!0:!1:!1},window.C0||(window.addEventListener?window.addEventListener("load",function(){WebSocket.sz()},!1):window.attachEvent("onload",function(){WebSocket.sz()}))):c.error("Flash Player \x3e\x3d 10.0.0 is required.")}})();
(function(a,d,e){function f(a){a&&d.Transport.apply(this,arguments)}function g(){}a.xj=f;d.util.inherit(f,d.Transport);f.prototype.open=function(){this.yb.mk(!1);this.mx();this.get();this.GK();return this};f.prototype.XJ=function(a){for(var c=[],e=0,f=a.length;e<f;e++)c.push(d.parser.encodePacket(a[e]));this.send(d.parser.encodePayload(c))};f.prototype.send=function(a){this.$J(a);return this};f.prototype.$J=function(a){function c(){4==this.readyState&&(this.onreadystatechange=g,f.v$=!1,200==this.status?
f.yb.mk(!1):f.ii())}function d(){this.onload=g;f.yb.mk(!1)}var f=this;this.yb.mk(!0);this.ct=this.request("POST");e.XDomainRequest&&this.ct instanceof XDomainRequest?this.ct.onload=this.ct.onerror=d:this.ct.onreadystatechange=c;this.ct.send(a)};f.prototype.close=function(){this.ii();return this};f.prototype.request=function(a){var c=d.util.request(this.yb.Sp()),e=d.util.query(this.yb.options.query,"t\x3d"+ +new Date);c.open(a||"GET",this.$s()+e,!0);if("POST"==a)try{c.setRequestHeader?c.setRequestHeader("Content-type",
"text/plain;charset\x3dUTF-8"):c.contentType="text/plain"}catch(f){}return c};f.prototype.scheme=function(){return this.yb.options.Dn?"https":"http"};f.$m=function(a,c){try{var f=d.util.request(c),g=e.XDomainRequest&&f instanceof XDomainRequest,n=a&&a.options&&a.options.Dn?"https:":"http:",p=e.location&&n!=e.location.protocol;if(f&&(!g||!p))return!0}catch(q){}return!1};f.yt=function(a){return f.$m(a,!0)}})("undefined"!=typeof io?io.Transport:module.wc,"undefined"!=typeof io?io:module.parent.wc,this);
(function(a,d){function e(a){d.Transport.xj.apply(this,arguments)}a.E7=e;d.util.inherit(e,d.Transport.xj);e.prototype.name="htmlfile";e.prototype.get=function(){this.ml=new (window[["Active"].concat("Object").join("X")])("htmlfile");this.ml.open();this.ml.write("\x3chtml\x3e\x3c/html\x3e");this.ml.close();this.ml.parentWindow.mi=this;var a=this.ml.createElement("div");a.className="socketio";this.ml.body.appendChild(a);this.Jg=this.ml.createElement("iframe");a.appendChild(this.Jg);var c=this,a=d.util.query(this.yb.options.query,
"t\x3d"+ +new Date);this.Jg.src=this.$s()+a;d.util.on(window,"unload",function(){c.Cd()})};e.prototype.KF=function(a,c){a=a.replace(/\\\//g,"/");this.Xs(a);try{var d=c.getElementsByTagName("script")[0];d.parentNode.removeChild(d)}catch(e){}};e.prototype.Cd=function(){if(this.Jg){try{this.Jg.src="about:blank"}catch(a){}this.ml=null;this.Jg.parentNode.removeChild(this.Jg);this.Jg=null;CollectGarbage()}};e.prototype.close=function(){this.Cd();return d.Transport.xj.prototype.close.call(this)};e.$m=function(a){if("undefined"!=
typeof window&&["Active"].concat("Object").join("X")in window)try{return new (window[["Active"].concat("Object").join("X")])("htmlfile")&&d.Transport.xj.$m(a)}catch(c){}return!1};e.yt=function(){return!1};d.transports.push("htmlfile")})("undefined"!=typeof io?io.Transport:module.wc,"undefined"!=typeof io?io:module.parent.wc);(function(a,d,e){function f(){d.Transport.xj.apply(this,arguments)}function g(){}a["xhr-polling"]=f;d.util.inherit(f,d.Transport.xj);d.util.merge(f,d.Transport.xj);f.prototype.name=
"xhr-polling";f.prototype.YI=function(){return!1};f.prototype.open=function(){d.Transport.xj.prototype.open.call(this);return!1};f.prototype.get=function(){function a(){4==this.readyState&&(this.onreadystatechange=g,200==this.status?(f.Xs(this.responseText),f.get()):f.ii())}function c(){this.onerror=this.onload=g;f.ID=1;f.Xs(this.responseText);f.get()}function d(){f.ID++;!f.ID||3<f.ID?f.ii():f.get()}if(this.Os){var f=this;this.pi=this.request();e.XDomainRequest&&this.pi instanceof XDomainRequest?
(this.pi.onload=c,this.pi.onerror=d):this.pi.onreadystatechange=a;this.pi.send(null)}};f.prototype.ii=function(){d.Transport.xj.prototype.ii.call(this);if(this.pi){this.pi.onreadystatechange=this.pi.onload=this.pi.onerror=g;try{this.pi.abort()}catch(a){}this.pi=null}};f.prototype.sx=function(a,c){var e=this;d.util.defer(function(){c.call(e)})};d.transports.push("xhr-polling")})("undefined"!=typeof io?io.Transport:module.wc,"undefined"!=typeof io?io:module.parent.wc,this);(function(a,d,e){function f(a){d.Transport["xhr-polling"].apply(this,
arguments);this.index=d.j.length;var c=this;d.j.push(function(a){c.KF(a)})}var g=e.document&&"MozAppearance"in e.document.documentElement.style;a["jsonp-polling"]=f;d.util.inherit(f,d.Transport["xhr-polling"]);f.prototype.name="jsonp-polling";f.prototype.$J=function(a){function c(){e();f.yb.mk(!1)}function e(){f.Jg&&f.form.removeChild(f.Jg);try{w=document.createElement('\x3ciframe name\x3d"'+f.QC+'"\x3e')}catch(a){w=document.createElement("iframe"),w.name=f.QC}w.id=f.QC;f.form.appendChild(w);f.Jg=
w}var f=this,g=d.util.query(this.yb.options.query,"t\x3d"+ +new Date+"\x26i\x3d"+this.index);if(!this.form){var p=document.createElement("form"),q=document.createElement("textarea"),u=this.QC="socketio_iframe_"+this.index,w;p.className="socketio";p.style.position="absolute";p.style.top="0px";p.style.left="0px";p.style.display="none";p.target=u;p.method="POST";p.setAttribute("accept-charset","utf-8");q.name="d";p.appendChild(q);document.body.appendChild(p);this.form=p;this.vR=q}this.form.action=this.$s()+
g;e();this.vR.value=d.JSON.stringify(a);try{this.form.submit()}catch(y){}this.Jg.attachEvent?w.onreadystatechange=function(){"complete"==f.Jg.readyState&&c()}:this.Jg.onload=c;this.yb.mk(!0)};f.prototype.get=function(){var a=this,c=document.createElement("script"),e=d.util.query(this.yb.options.query,"t\x3d"+ +new Date+"\x26i\x3d"+this.index);this.Na&&(this.Na.parentNode.removeChild(this.Na),this.Na=null);c.async=!0;c.src=this.$s()+e;c.onerror=function(){a.ii()};e=document.getElementsByTagName("script")[0];
e.parentNode.insertBefore(c,e);this.Na=c;g&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a);document.body.removeChild(a)},100)};f.prototype.KF=function(a){this.Xs(a);this.Os&&this.get();return this};f.prototype.sx=function(a,c){var e=this;if(!g)return c.call(this);d.util.load(function(){c.call(e)})};f.$m=function(){return"document"in e};f.yt=function(){return!0};d.transports.push("jsonp-polling")})("undefined"!=typeof io?io.Transport:module.wc,"undefined"!=
typeof io?io:module.parent.wc,this);"function"===typeof define&&define.a2&&define([],function(){return io})})();r=r||{};function ea(){return arguments.callee.name||arguments.callee.toString().match(/^function ([^(]+)/)[1]}ea.id=0|998*Math.random();ea.qU=0|998*Math.random();
ea.WH=function(a,c,d){for(var e=a.toString(),f=e.indexOf("("),g=e.indexOf(")"),f=e.substring(f+1,g),f=f.trim(),g=e.indexOf("{"),e=e.substring(g+1,e.lastIndexOf("}"));-1!=e.indexOf("this._super");)var g=e.indexOf("this._super"),h=e.indexOf("(",g),k=e.indexOf(")",h),k=e.substring(h+1,k),k=(k=k.trim())?",":"",l=arguments.callee.gM(),e=e.substring(0,g)+l+"["+d+"]."+c+".call(this"+k+e.substring(h+1);return Function(f,e)};ea.WH.gM=ea;ea.iT=function(){return this.id++};ea.jT=function(){return this.qU++};
(function(){var a=/\b_super\b/,c=document.ccConfig&&document.ccConfig.CLASS_RELEASE_MODE?document.ccConfig.CLASS_RELEASE_MODE:null;c&&console.log("release Mode");r.Ea=function(){};r.Ea.extend=function(d){function e(){this.ec=ea.jT();this.ctor&&this.ctor.apply(this,arguments)}var f=this.prototype,g=Object.create(f),h=ea.iT();ea[h]=f;var k={writable:!0,enumerable:!1,configurable:!0},l;for(l in d)c&&"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=ea.WH(d[l],l,h),Object.defineProperty(g,
l,k)):"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=function(a,c){return function(){var d=this._super;this._super=f[a];var e=c.apply(this,arguments);this._super=d;return e}}(l,d[l]),Object.defineProperty(g,l,k)):"function"==typeof d[l]?(k.value=d[l],Object.defineProperty(g,l,k)):g[l]=d[l];g.ec=null;e.id=h;k.value=h;Object.defineProperty(g,"__pid",k);e.prototype=g;k.value=e;Object.defineProperty(e.prototype,"constructor",k);e.extend=arguments.callee;e.G7=function(a){for(var c in a)g[c]=
a[c]};return e};Function.prototype.bind=Function.prototype.bind||function(a){var c=this;return function(){var f=Array.prototype.slice.call(arguments);return c.apply(a||null,f)}}})();r.I7=function(a,c){function d(){}d.prototype=c.prototype;a.cy=c.prototype;a.prototype=new d;a.prototype.constructor=a};
r.yR=function(a,c,d){var e=arguments.callee.caller;if(e.cy)return ret=e.cy.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var f=Array.prototype.slice.call(arguments,2),g=!1,h=a.constructor;h;h=h.cy&&h.cy.constructor)if(h.prototype[c]===e)g=!0;else if(g)return h.prototype[c].apply(a,f);if(a[c]===e)return a.constructor.prototype[c].apply(a,f);throw Error("cc.base called from a method of one name to a method of a different name");};
r.O2=function(a,c){a||(a={});for(var d in c)a[d]=c[d];return a};r.Wg=function(a,c){this.x=a||0;this.y=c||0};r.LF=function(a,c){this.F=a||0;this.K=c||0;this.kL=function(a){this.F=a};this.lL=function(a){this.K=a}};r.zd=function(){return new r.LF(0,0)};
Object.defineProperties(r.LF.prototype,{x:{get:function(){return this.F},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0},y:{get:function(){return this.K},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0}});r.F_=function(a,c){r.log("cc.PointMake will be deprecated sooner or later. Use cc.p instead.");return new r.Wg(a,c)};
r.a=function(a,c){return{x:a,y:c}};r.p1=r.a;r.tj=function(){return r.a(0,0)};r.YJ=function(a,c){return a&&c?a.x===c.x&&a.y===c.y:!1};r.Bk=function(a,c){this.width=a||0;this.height=c||0};r.MF=function(a,c){this.Ha=a||0;this.va=c||0;this.dE=function(a){this.Ha=a};this.RD=function(a){this.va=a}};r.Fm=function(){return new r.MF(0,0)};
Object.defineProperties(r.MF.prototype,{width:{get:function(){return this.Ha},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0},height:{get:function(){return this.va},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0}});r.j0=function(a,c){r.log("cc.SizeMake will be deprecated sooner or later. Use cc.size instead.");return r.size(a,c)};
r.size=function(a,c){return{width:a,height:c}};r.cb=r.size;r.bm=function(){return r.size(0,0)};r.BH={tV:r.zd(),gY:r.Fm()};Object.defineProperties(r,{fN:{get:function(){return r.BH.tV}},pN:{get:function(){return r.BH.gY}},K_:{get:function(){return r.rect(0,0,0,0)}}});r.fY=function(a,c){return a&&c?a.width==c.width&&a.height==c.height:!1};
r.og=function(a,c,d,e){var f=arguments.length;if(4===f)this.ld=new r.Wg(a||0,c||0),this.cb=new r.Bk(d||0,e||0);else if(1===f)this.ld=new r.Wg(a.ld.x,a.ld.y),this.cb=new r.Bk(a.cb.width,a.cb.height);else if(0===f)this.ld=new r.Wg(0,0),this.cb=new r.Bk(0,0);else if(2===f)this.ld=new r.Wg(a.x,a.y),this.cb=new r.Bk(c.width,c.height);else throw"unknown argument type";};r.R_=function(a,c,d,e){r.log("cc.RectMake will be deprecated sooner or later. Use cc.rect instead.");return r.rect(a,c,d,e)};
r.rect=function(a,c,d,e){var f=arguments.length;if(0===f)return new r.og(0,0,0,0);if(1===f)return new r.og(a.x,a.y,a.width,a.height);if(2===f)return new r.og(a.x,a.y,c.width,c.height);if(4===f)return new r.og(a,c,d,e);throw"unknown argument type";};r.Aa=r.rect;r.hd=function(){return r.rect(0,0,0,0)};r.iK=function(a,c){return a&&c?r.YJ(a.ld,c.ld)&&r.fY(a.cb,c.cb):!1};r.Nr=function(a){return a?0===a.x&&0===a.y&&0===a.width&&0===a.height:!1};
r.I$=function(a,c){return a&&c?!(a.x>=c.x||a.y>=c.y||a.x+a.width<=c.x+c.width||a.y+a.height<=c.y+c.height):!1};r.wn=function(a){return a.x+a.width};r.J$=function(a){return a.x+a.width/2};r.Dl=function(a){return a.x};r.xn=function(a){return a.y+a.height};r.K$=function(a){return a.y+a.height/2};r.El=function(a){return a.y};r.bb=function(a,c){return c.x>=r.Dl(a)&&c.x<=r.wn(a)&&c.y>=r.El(a)&&c.y<=r.xn(a)};r.LV=function(a,c){return!(r.wn(a)<r.Dl(c)||r.wn(c)<r.Dl(a)||r.xn(a)<r.El(c)||r.xn(c)<r.El(a))};
r.L$=function(a,c){return!(a.x+a.width<c.x||c.x+c.width<a.x||a.y+a.height<c.y||c.y+c.height<a.y)};r.wx=function(a,c){var d=r.rect(0,0,0,0);d.x=Math.min(a.x,c.x);d.y=Math.min(a.y,c.y);d.width=Math.max(a.x+a.width,c.x+c.width)-d.x;d.height=Math.max(a.y+a.height,c.y+c.height)-d.y;return d};r.KV=function(a,c){var d=r.rect(Math.max(r.Dl(a),r.Dl(c)),Math.max(r.El(a),r.El(c)),0,0);d.width=Math.min(r.wn(a),r.wn(c))-r.Dl(d);d.height=Math.min(r.xn(a),r.xn(c))-r.El(d);return d};b=r.og.prototype;
b.kL=function(a){this.ld.x=a};b.lL=function(a){this.ld.y=a};b.Js=function(){return this.cb.width};b.dE=function(a){this.cb.width=a};b.Ds=function(){return this.cb.height};b.RD=function(a){this.cb.height=a};
Object.defineProperties(r.og.prototype,{x:{get:function(){return this.ld.x},set:function(a){this.kL(a)},enumerable:!0,configurable:!0},y:{get:function(){return this.ld.y},set:function(a){this.lL(a)},enumerable:!0,configurable:!0},width:{get:function(){return this.Js()},set:function(a){this.dE(a)},enumerable:!0,configurable:!0},height:{get:function(){return this.Ds()},set:function(a){this.RD(a)},enumerable:!0,configurable:!0}});var s=s||{};try{s.localStorage=window.localStorage,window.localStorage.setItem("storage",""),window.localStorage.removeItem("storage")}catch(fa){"SECURITY_ERR"!==fa.name&&"QuotaExceededError"!==fa.name||console.log("Warning: localStorage isn't enabled. Please confirm browser cookie or privacy option"),s.localStorage=function(){}}
Object.defineProperties(s,{y2:{get:function(){var a={canvas:!0};r.Ga.Qc&&(a.opengl=!0);"ontouchstart"in document.documentElement||window.navigator.msPointerEnabled?a.touches=!0:"onmouseup"in document.documentElement&&(a.mouse=!0);"onkeyup"in document.documentElement&&(a.keyboard=!0);if(window.DeviceMotionEvent||window.DeviceOrientationEvent)a.accelerometer=!0;return a},enumerable:!0,configurable:!0},P9:{get:function(){var a=navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?!0:!1,c=navigator.userAgent.match(/android/i)||
navigator.platform.match(/android/i)?!0:!1,d=navigator.appVersion;-1!=navigator.appVersion.indexOf("Win")?d="Windows":-1!=navigator.appVersion.indexOf("Mac")?d="OS X":-1!=navigator.appVersion.indexOf("X11")?d="UNIX":-1!=navigator.appVersion.indexOf("Linux")?d="Linux":a?d="iOS":c&&(d="Android");return d},enumerable:!0,configurable:!0},platform:{get:function(){return"browser"},enumerable:!0,configurable:!0},version:{get:function(){return r.Gt},enumerable:!0,configurable:!0}});s.U3=function(){};
s.o3=function(){};s.kaa=function(){};r.Gt="Cocos2d-html5-v2.2.2";r.$t=0;r.UE=r.a(0,0);r.lM=0.5;r.kZ=1;r.qN=1;r.cN=0;r.CF=0;r.l0=0;r.m0=0;r.N_=1;r.M_="-hd";r.FN=1;r.Ak=0;r.g0=0;r.h_=0;r.g_=0;r.Jy=1;r.uZ=r.Gt+"-canvas";r.Gw={platform:s.platform};r.n3=function(){for(var a in s)r.log(a+" \x3d "+s[a])};r.Ft=1;r.WE=1;r.XH=function(a,c){for(var d=["webgl","experimental-webgl","webkit-3d","moz-webgl"],e=null,f=0;f<d.length;++f){try{e=a.getContext(d[f],c)}catch(g){}if(e)break}return e};r.Ga={};r.Ga.HY=["baidubrowser","opera","firefox","chrome","safari"];
(function(){r.Ga.ua=navigator.userAgent.toLowerCase();r.Ga.platform=navigator.platform.toLowerCase();r.Ga.ik=-1!=r.Ga.ua.indexOf("mobile")||-1!=r.Ga.ua.indexOf("android");r.Ga.type=function(){var a=r.Ga.ua.match(/micromessenger|qqbrowser|mqqbrowser|ucbrowser|360browser|baidubrowser|maxthon|ie|opera|firefox/)||r.Ga.ua.match(/chrome|safari/);return a&&0<a.length?(a=a[0],"micromessenger"==a?"wechat":a):"unknow"}();r.Ga.mode="ie"==r.Ga.type&&document.documentMode;document.ccConfig||(document.ccConfig=
{});r.NB=parseInt(document.ccConfig.renderMode)||0;var a=-1==r.Ga.HY.indexOf(r.Ga.type);1===r.NB||0===r.NB&&(r.Ga.ik||a)?r.Ga.Qc=!1:(r.Ga.Qc=null!=window.F0,a=document.createElement("Canvas"),a=r.XH(a,{stencil:!0,preserveDrawingBuffer:!0}),r.Ga.Qc=null!=a);2!==r.NB||r.Ga.Qc||(r.tz=!0);var a=r.Ga,c;try{c=new (window.AudioContext||window.webkitAudioContext||window.mozAudioContext)?!0:!1}catch(d){c=!1}a.Vca=c;r.Ga.M9=function(a){if(this.ik){var c=r.Z.e().Rb,d=c.width+"px",c=c.height+"px",h=r.vk("div");
h.style.backgroundColor="#ffffff";h.style.width=d;h.style.height=c;h.style.KY=1E3;h.style.position="absolute";h.style.top="0px";h.style.left="0px";h.id="cocos2d-browser";var k=r.vk("iframe");k.src=a;k.style.width=d;k.style.height=c;k.setAttribute("frameborder","no");k.setAttribute("scrolling","no");h.appendChild(k);k.onload=function(){var a=document.createElement("img");a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5OERBMEM3OUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5OERBMEM3QUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjk4REEwQzc3RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjk4REEwQzc4RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+NwBuoAAAA/tJREFUeNrEWF0sW3EUb6+28zFhbGadsBaNhazV+kpDYhFWKRGWbHvwFV5IvPiIFw9evElEPEiWSUgsIWoIglhmUomPxj6aKC0zKVJjtPU5o9j5J7dLdbf33jKc5Jfc3v+v5/+755x7/j1lMoiNBRDh4AO88HvO2m+ACbAC+AJQAyz2JCbBFyMBWQA/xv+3DUAXLuivudhcY4BMwCuAB+NqDPmNAnAAOsCZvQgk4BnjeiwEwAbM2YoQA14yrteQEANgDcML7gXjZgw9OAuJkADu3JAIb7Q/hr+GtCwuLs6LDq+iooLvhBAREhFEl11ZWRne0tIiIeNIpVKv4uJi4dTUVApNt0EY3ohILSIiwqO7u1sql8vD8vLyJJ2dnXH2HDabzczPz3/Y1taWzOfz78XExDxSq9Vyd3d3jMK9F2pWr6lEtLa2RmVnZ4tt7w0NDWlTU1OVtkK7urqSQ0NDzzW5hYWFjcTExAGDwXDkyD+VSkZ7e3tsWlpamP19mUwWplQqk9B1UlKST3NzczxE4K49D4mCiDwn24PyPMjIyHjs6urKIVpLSEgInp6eZsM6Kzw8nEvEMZvNBxC1BbI9KCMhkUgUy8vLRpL1QIFA4EcSyZmcnJzpS4mYnZ3dj46O7p2fn193xIGi/CeiFovlFIp5pqGhYZ5qD1qFiQxCjk1OTsqEQmEAFReloL+/X0sVAadFWE2n02VA+O+TcVZXV01QkO8ODw9P6fjEnO2zvb2936g4XC7XG4rWm65P2iL8/f05kN8nBQUFQkqnGMYcGBjIys3N5dLxjY7ydDrE6urqsNLSUqmbmxuH1tOBkMzMTIHRaNxSqVTmS4soKyvjFRUViTw9PV2dTR901WAOh7M/MjKyeeHCbGpqEhcWFkY5Wl9aWtpUKBRaONziSbsii/Xm5OTk7EIdU6/X7zpaW1xc/Al5HxkfH9/e2dk5rqmpeUrE6+vr06ADzpEIlI5kMjFwPhh5PB5DJBKdK7KDg4Oj2tpaVUdHxw/0eWxszIjyj8Jvy4N60FdVVX2Grnt4dkaowYJESAG3yaLR09Oz5uvrexwbGxuAR2erpKTkI6RqxW5DM6RnLT09PQQV5vDwsDYlJWUU+I4EIDMhEQLAA6q0DA4OrqMCg/c/qL6+XtXY2Kgn4sGJuavRaFbFYrFPeXn5FIj6ReFa64KnIpJOpaMK39vbM9XV1X13lF9kc3Nz+xMTEwZo89s03A4ycRE1N/RjF/WPKgyfDRU39Gu7w1qYyNYAtwDB1yhgGPDBfgzU4bMi7xoEjAI6iWZRdGMGH80Cr2goRlP5W8B7qwBHfw1YO6kEH4yC8EnJ5QKbnuDFh17nr4BPRP9P/BFgAHo7ZNgI9EbHAAAAAElFTkSuQmCC";
h.appendChild(a);a.style.KY=1E3;a.style.position="absolute";a.style.bottom="10px";a.style.right="10px";a.onclick=function(){h.remove()}};(a=document.getElementById(document.ccConfig.tag).parentNode)&&a.appendChild(h)}else window.open(a)}})();r.S_=function(){return"undefined"===r.tz?!1:r.tz};
r.Ob=function(a){var c=this==r?document:this;if(a=a instanceof HTMLElement?a:c.querySelector(a))a.find=a.find||r.Ob,a.LC=a.LC||function(a){return this.className.match(RegExp("(\\s|^)"+a+"(\\s|$)"))},a.HH=a.HH||function(a){this.LC(a)||(this.className&&(this.className+=" "),this.className+=a);return this},a.bW=a.bW||function(a){this.LC(a)&&(this.className=this.className.replace(a,""));return this},a.remove=a.remove||function(){this.parentNode&&this.parentNode.removeChild(this);return this},a.Ym=a.Ym||
function(a){a.appendChild(this);return this},a.EV=a.EV||function(a){a.childNodes[0]?a.insertBefore(this,a.childNodes[0]):a.appendChild(this);return this},a.Nn=a.Nn||function(){this.style[r.Ob.vY]=r.Ob.translate(this.position)+r.Ob.rotate(this.rotation)+r.Ob.scale(this.scale)+r.Ob.Ll(this.Ll);return this},a.position=a.position||{x:0,y:0},a.rotation=a.rotation||0,a.scale=a.scale||{x:1,y:1},a.Ll=a.Ll||{x:0,y:0},a.oE=function(a,c){this.position.x=a;this.position.y=c;this.Nn()},a.rotate=function(a){this.rotation=
a;this.Nn();return this},a.resize=function(a,c){this.scale.x=a;this.scale.y=c;this.Nn();return this},a.bL=function(a,c){this.Ll.x=a;this.Ll.y=c;this.Nn()};return a};switch(r.Ga.type){case "firefox":r.Ob.bq="Moz";r.Ob.Mp=!0;break;case "chrome":case "safari":r.Ob.bq="webkit";r.Ob.Mp=!0;break;case "opera":r.Ob.bq="O";r.Ob.Mp=!1;break;case "ie":r.Ob.bq="ms";r.Ob.Mp=!1;break;default:r.Ob.bq="webkit",r.Ob.Mp=!0}r.Ob.vY=r.Ob.bq+"Transform";
r.Ob.translate=r.Ob.Mp?function(a){return"translate3d("+a.x+"px, "+a.y+"px, 0) "}:function(a){return"translate("+a.x+"px, "+a.y+"px) "};r.Ob.rotate=r.Ob.Mp?function(a){return"rotateZ("+a+"deg) "}:function(a){return"rotate("+a+"deg) "};r.Ob.scale=function(a){return"scale("+a.x+", "+a.y+") "};r.Ob.Ll=function(a){return"skewX("+-a.x+"deg) skewY("+a.y+"deg)"};r.vk=function(a){return r.Ob(document.createElement(a))};
r.Ob.N3=function(a){var c=0,d=0;do c+=a.offsetLeft,d+=a.offsetTop;while(a=a.offsetParent);return{x:c,y:d}};r.H=function(a){var c=a.constructor?new a.constructor:{},d;for(d in a){var e=a[d];c[d]="object"!=typeof e||!e||e instanceof r.D||e instanceof HTMLElement?e:r.H(e)}return c};r.f2=function(){};r.ZE=r.ZE||!1;
r.pP=function(a){var c=document.getElementById("logInfoList");if(!c){var d=document.createElement("Div");d.setAttribute("id","logInfoDiv");r.canvas.parentNode.appendChild(d);d.setAttribute("width","200");d.setAttribute("height",r.canvas.height);d.style.zIndex="99999";d.style.position="absolute";d.style.top="0";d.style.left="0";c=document.createElement("ul");d.appendChild(c);c.setAttribute("id","logInfoList");c.style.height=r.canvas.height+"px";c.style.color="#fff";c.style.textAlign="left";c.style.listStyle=
"disc outside";c.style.fontSize="12px";c.style.fontFamily="arial";c.style.padding="0 0 0 20px";c.style.margin="0";c.style.textShadow="0 0 3px #000";c.style.zIndex="99998";c.style.position="absolute";c.style.top="0";c.style.left="0";c.style.overflowY="hidden";var e=document.createElement("Div");d.appendChild(e);e.style.width="200px";e.style.height=r.canvas.height+"px";e.style.opacity="0.1";e.style.background="#fff";e.style.border="1px solid #dfdfdf";e.style.borderRadius="8px"}d=document.createElement("li");
d.innerHTML=a;0==c.childNodes.length?c.appendChild(d):c.insertBefore(d,c.childNodes[0])};r.log=function(a){r.ZE?r.pP(a):console.log.apply(console,arguments)};r.n_=function(a){console.log(a)};r.Bt=function(a,c){console.assert?console.assert(a,c):a||c&&alert(c)};r.cU=function(){0==r.Dt?(r.log=function(){},r.BJ=function(){},r.AJ=function(){},r.Bt=function(){}):1==r.Dt?(r.BJ=r.log,r.AJ=function(){}):1<r.Dt&&(r.BJ=r.log,r.AJ=r.log)};r.JM=0;r.IM=1;r.KM=2;r.NM=3;r.LM=4;r.UM=5;r.TM=6;r.PM=7;r.OM=8;r.MM=9;
r.SM=10;r.HM=11;r.QM=12;r.RM=13;
r.FM={h2:8,gda:9,HS:13,shift:16,X2:17,alt:18,pause:19,z2:20,escape:27,n$:33,l$:34,end:35,home:36,left:37,Dda:38,right:39,i3:40,N7:45,BZ:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,I:65,h:66,Da:67,La:68,p3:69,Rw:70,o:71,Ce:72,F7:73,j:74,Q8:75,Z8:76,m9:77,IJ:78,I9:79,a:80,B$:81,p:82,mi:83,fda:84,Qa:85,na:86,SL:87,x:88,y:89,z:90,w9:96,x9:97,y9:98,z9:99,A9:100,B9:101,C9:102,D9:103,E9:104,F9:105,"*":106,"+":107,"-":109,numdel:110,"/":111,A3:112,E3:113,F3:114,G3:115,H3:116,I3:117,J3:118,K3:119,
L3:120,B3:121,C3:122,D3:123,H9:144,raa:145,taa:186,",":186,t3:187,"\x3d":187,";":188,N2:188,Z2:189,".":190,r$:190,S3:191,y7:192,"[":219,N9:219,"]":221,M2:221,g2:220,quote:222,Mca:32};r.ti=-1;r.PI=Math.PI;r.wM=parseFloat("3.402823466e+38F");r.mN=r.PI/180;r.kM=180/r.PI;r.EN=4294967295;r.h0=function(a,c,d){if("object"==typeof d&&"undefined"!=typeof d.x&&"undefined"!=typeof d.y){var e=d[a];d[a]=d[c];d[c]=e}else r.log("cc.SWAP is being modified from original macro, please check usage")};r.b9=function(a,c,d){return a+(c-a)*d};r.J_=function(){return 2*(Math.random()-0.5)};r.I_=function(){return Math.random()};r.rj=function(a){return a*r.mN};r.Vy=function(a){return a*r.kM};
r.am=Number.MAX_VALUE-1;r.Le=r.cN?1:770;r.Ke=771;r.Py=function(a){a.Kc&&(a.Kc.of(),a.Kc.Rg())};r.NZ=function(){};r.AZ=function(){};r.Eh=function(){r.ci+=1};r.au=1.192092896E-7;r.Kd=r.Jy?function(){return r.Z.e().lm}:function(){return 1};r.eN=function(a){var c=r.Kd();return r.a(a.x*c,a.y*c)};r.J0=function(a,c){var d=r.Kd();c.F=a.x*d;c.K=a.y*d};r.$y=function(a){var c=r.Kd();return r.size(a.width*c,a.height*c)};r.e0=function(a){var c=r.Kd();return r.size(a.width/c,a.height/c)};
r.qz=function(a,c){var d=r.Kd();c.Ha=a.width/d;c.va=a.height/d};r.D_=function(a){var c=r.Kd();return r.a(a.x/c,a.y/c)};r.Ku=function(a,c){var d=r.Kd();c.F=a.x/d;c.K=a.y/d};r.xq=r.Jy?function(a){var c=r.Kd();return r.rect(a.x/c,a.y/c,a.width/c,a.height/c)}:function(a){return a};r.Zn=r.Jy?function(a){var c=r.Kd();return r.rect(a.x*c,a.y*c,a.width*c,a.height*c)}:function(a){return a};r.FE=function(){if(r.haa==r.Ck){var a=r.X.getError();a&&r.log("WebGL error "+a)}};r.X_=0;r.W_=1;r.U_=2;r.V_=3;r.Y_=4;r.Z_=5;r.T_=6;var Uint8Array=Uint8Array||Array;
if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){var ha=document.createElement("script");ha.type="text/vbscript";ha.textContent='\x3c!-- IEBinaryToArray_ByteStr --\x3e\r\nFunction IEBinaryToArray_ByteStr(Binary)\r\n   IEBinaryToArray_ByteStr \x3d CStr(Binary)\r\nEnd Function\r\nFunction IEBinaryToArray_ByteStr_Last(Binary)\r\n   Dim lastIndex\r\n   lastIndex \x3d LenB(Binary)\r\n   if lastIndex mod 2 Then\r\n       IEBinaryToArray_ByteStr_Last \x3d Chr( AscB( MidB( Binary, lastIndex, 1 ) ) )\r\n   Else\r\n       IEBinaryToArray_ByteStr_Last \x3d ""\r\n   End If\r\nEnd Function\r\n';document.body.appendChild(ha);
r.dG=function(a){for(var c={},d=0;256>d;d++)for(var e=0;256>e;e++)c[String.fromCharCode(d+256*e)]=String.fromCharCode(d)+String.fromCharCode(e);d=IEBinaryToArray_ByteStr(a);a=IEBinaryToArray_ByteStr_Last(a);return d.replace(/[\s\S]/g,function(a){return c[a]})+a}}
r.Ld=r.Ea.extend({Ej:null,el:null,FO:null,kA:null,Zo:null,Sh:null,Zq:"",ctor:function(){this.Ej={};this.el={};this.Sh=[];this.Sh.push(this.Zq);this.Zo=[];this.Zo.push("")},y$:function(){this.Sh=[]},l4:function(a){a=this.ue(a);return this.Ej.hasOwnProperty(a)?this.Ej[a]:this.mP(a)},pv:function(){return window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP")},wY:function(a){this.Ej.hasOwnProperty(a)&&delete this.Ej[a]},AV:function(a){a=this.ue(a);var c=this,d=this.pv();d.open("GET",
a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","x-user-defined"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=r.dG(d.responseBody);e&&(c.Ej[a]=c.cw(e))}else r.ac.e().qn(a);r.ac.e().ki()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dx-user-defined"),d.onload=function(){var e=d.responseText;e?c.Ej[a]=c.cw(e):r.ac.e().qn(a);r.ac.e().ki()});d.send(null)},mP:function(a){var c=this.pv();
c.open("GET",a,!1);var d=null;if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){c.setRequestHeader("Accept-Charset","x-user-defined");c.send(null);if(200!=c.status)return null;if(c=r.dG(c.responseBody))d=this.cw(c),this.Ej[a]=d}else{c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dx-user-defined");c.send(null);if(200!=c.status)return null;d=this.cw(c.responseText);this.Ej[a]=d}return d},cw:function(a){if(!a)return null;for(var c=new Uint8Array(a.length),d=0;d<
a.length;d++)c[d]=a.charCodeAt(d)&255;return c},yY:function(a){a=this.ue(a);this.el.hasOwnProperty(a)&&delete this.el[a]},CV:function(a){a=this.ue(a);var c=this,d=this.pv();d.open("GET",a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","utf-8"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=d.responseText;e&&(c.el[a]=e)}else r.ac.e().qn(a);r.ac.e().ki()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dutf-8"),
d.onload=function(){d.responseText?c.el[a]=d.responseText:r.ac.e().qn(a);r.ac.e().ki()});d.send(null)},oP:function(a){var c=this.pv();c.open("GET",a,!1);var d=null;/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?c.setRequestHeader("Accept-Charset","utf-8"):c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dutf-8");c.send(null);if(200!=c.status)return null;(d=c.responseText)&&(this.el[a]=d);return d},JI:function(a){a=this.ue(a);return this.el.hasOwnProperty(a)?this.el[a]:
this.oP(a)},S4:function(){},eaa:function(){},ZJ:!0,T3:function(a){return a},ue:function(a){var c=!1;a=this.QO(a);for(var d,e=0;e<this.Sh.length;e++){for(var f=this.Sh[e],g=0;g<this.Zo.length;g++)if(d=this.RO(a,this.Zo[g],f)){c=!0;break}if(c)break}return c?d:a},g9:function(a){var c=this.ue(a);if(0<c.length){var c=r.zk.e().parse(c),d=parseInt(c.metadata.version);1!=d?r.log("cocos2d: ERROR: Invalid filenameLookup dictionary version: "+d+". Filename: "+a):this.aX(c.filenames)}},aX:function(a){this.kA=
a},yI:function(a,c){var d;if(a)return d=c.substring(0,c.lastIndexOf("/")+1),d+a;d=c.substring(0,c.lastIndexOf("."));return d+".png"},$ba:function(a){this.Zo=a},A6:function(){return this.Zo},Zba:function(a){this.Sh=a},y6:function(){return this.Sh},r6:function(){return this.FO},Uba:function(){},d3:function(a){r.log("dictionaryWithContentsOfFile is deprecated. Use createDictionaryWithContentsOfFile instead");return this.bS(a)},bS:function(a){return r.zk.e().parse(a)},P6:function(a){return this.JI(a)},
Kw:function(a){return r.zk.e().parse(a)},s7:function(){return""},Kba:function(a){r.ZJ=a},u8:function(){return r.ZJ},gB:"",s6:function(){return this.gB},Vba:function(a){this.gB=a},QO:function(a){var c=null;(c=this.kA?this.kA[a]:null)&&0!==c.length?r.log("FOUND NEW FILE NAME: "+c):c=a;return c},RO:function(a,c,d){var e;e=this.gB;a&&0<a.length&&(0===a.indexOf("/")||0===a.indexOf("\\"))?e="":0<e.length&&"\\"!=e[e.length-1]&&"/"!=e[e.length-1]&&(e+="/");var f=a,g="",h=a.lastIndexOf("/");-1!=h&&(g=a.substr(0,
h+1),f=a.substr(h+1));a=d;0<a.length&&a.lastIndexOf("/")!==a.length-1&&(a+="/");a=a+g+c;0<a.length&&a.lastIndexOf("/")!==a.length-1&&(a+="/");a+=f;return e+=a},c1:function(){},aL:function(a){var c=!1;this.Sh=[];for(var d=0;d<a.length;d++){var e=a[d],f;this.nJ(e)||(f=this.Zq);e=f+e;0<e.length&&"/"!=e[e.length-1]&&(e+="/");c||e!=this.Zq||(c=!0);this.Sh.push(e)}c||this.Sh.push(this.Zq)},P1:function(a){var c;this.nJ(a)||(c=this.Zq);a=c+a;0<a.length&&"/"!=a[a.length-1]&&(a+="/");this.Sh.push(a)},z6:function(){},
nJ:function(a){return"/"==a[0]}});r.KD=null;r.Ld.e=function(){null==r.KD&&(r.KD=new r.Ld);return r.KD};r.Ec=function(a,c,d){switch(arguments.length){case 0:this.h=this.o=this.p=0;break;case 1:a&&a instanceof r.Ec?(this.p=0|a.p||0,this.o=0|a.o||0,this.h=0|a.h||0):this.h=this.o=this.p=0;break;case 3:this.p=0|a||0;this.o=0|c||0;this.h=0|d||0;break;default:throw"unknown argument type";}};r.l=function(a,c,d){return new r.Ec(a,c,d)};r.R7=function(a){a=a||0;var c=new r.Ec;c.p=a&255;c.o=a>>8&255;c.h=a>>16&255;return c};r.Cw=r.l;r.s2=function(a,c){return a.p===c.p&&a.o===c.o&&a.h===c.h};
Object.defineProperties(r,{D0:{get:function(){return r.l(255,255,255)}},G0:{get:function(){return r.l(255,255,0)}},hZ:{get:function(){return r.l(0,0,255)}},WZ:{get:function(){return r.l(0,255,0)}},L_:{get:function(){return r.l(255,0,0)}},k_:{get:function(){return r.l(255,0,255)}},fZ:{get:function(){return r.l(0,0,0)}},u_:{get:function(){return r.l(255,127,0)}},VZ:{get:function(){return r.l(166,166,166)}}});r.Ab=function(){return new r.Ec(255,255,255)};r.Yda=function(){return new r.Ec(255,255,0)};
r.blue=function(){return new r.Ec(0,0,255)};r.green=function(){return new r.Ec(0,255,0)};r.red=function(){return new r.Ec(255,0,0)};r.n9=function(){return new r.Ec(255,0,255)};r.j2=function(){return new r.Ec(0,0,0)};r.O9=function(){return new r.Ec(255,127,0)};r.Kp=function(){return new r.Ec(166,166,166)};r.Pb=function(a,c,d,e){this.p=0|a;this.o=0|c;this.h=0|d;this.I=0|e};r.i=function(a,c,d,e){return new r.Pb(a,c,d,e)};r.cC=r.i;r.$d=function(a,c,d,e){this.p=a;this.o=c;this.h=d;this.I=e};
r.Dw=function(a,c,d,e){return new r.$d(a,c,d,e)};r.v2=function(a){return new r.$d(a.p/255,a.o/255,a.h/255,1)};r.w2=function(a){return new r.$d(a.p/255,a.o/255,a.h/255,a.I/255)};r.t2=function(a){return new r.Pb(0|255*a.p,0|255*a.o,0|255*a.h,0|255*a.I)};r.u2=function(a,c){return a.p==c.p&&a.o==c.o&&a.h==c.h&&a.I==c.I};r.Db=function(a,c){this.x=a||0;this.y=c||0};r.Ju=function(a,c){return new r.Db(a,c)};r.Wc=function(a,c,d){this.x=a||0;this.y=c||0;this.z=d||0};
r.Pda=function(a,c,d){return new r.Wc(a,c,d)};r.yc=function(a,c){this.Qa=a||0;this.na=c||0};r.mda=function(a,c){return new r.yc(a,c)};r.G_=function(a,c,d){a||new r.Db(0,0);this.color=c||new r.Pb(0,0,0,0);this.size=d||0};r.mu=function(a,c,d,e){this.Ta=a||new r.Db(0,0);this.Oa=c||new r.Db(0,0);this.Ka=d||new r.Db(0,0);this.Va=e||new r.Db(0,0)};r.H_=function(a,c,d,e){this.Ka=a||new r.Wc(0,0,0);this.Va=c||new r.Wc(0,0,0);this.Ta=d||new r.Wc(0,0,0);this.Oa=e||new r.Wc(0,0,0)};
r.zM=function(a,c){this.x=a;this.y=c};r.o=function(a,c){return new r.zM(a,c)};r.Vb=function(a,c,d){this.s=a||new r.Db(0,0);this.L=c||new r.Pb(0,0,0,0);this.C=d||new r.yc(0,0)};r.Gu=function(){this.s=new r.Db(0,0);this.L=new r.$d(0,0,0,0);this.C=new r.yc(0,0)};r.tc=function(a,c,d){this.s=a||new r.Wc(0,0,0);this.L=c||new r.Pb(0,0,0,0);this.C=d||new r.yc(0,0)};r.Gc=function(a,c,d){this.I=a||new r.Vb;this.h=c||new r.Vb;this.Da=d||new r.Vb};
r.GN=function(){var a=new r.Vb(new r.Db(0,0),new r.Pb(0,0,0,255),new r.yc(0,0)),c=new r.Vb(new r.Db(0,0),new r.Pb(0,0,0,255),new r.yc(0,0)),d=new r.Vb(new r.Db(0,0),new r.Pb(0,0,0,255),new r.yc(0,0)),e=new r.Vb(new r.Db(0,0),new r.Pb(0,0,0,255),new r.yc(0,0));this.Ka=a||new r.Vb;this.Va=c||new r.Vb;this.Ta=d||new r.Vb;this.Oa=e||new r.Vb};r.y0=function(){return new r.GN};r.dc=function(a,c,d,e){this.Ta=a||new r.tc;this.Ka=c||new r.tc;this.Oa=d||new r.tc;this.Va=e||new r.tc};
r.oz=function(){return new r.dc(new r.tc(new r.Wc(0,0,0),new r.Pb(0,0,0,255),new r.yc(0,0)),new r.tc(new r.Wc(0,0,0),new r.Pb(0,0,0,255),new r.yc(0,0)),new r.tc(new r.Wc(0,0,0),new r.Pb(0,0,0,255),new r.yc(0,0)),new r.tc(new r.Wc(0,0,0),new r.Pb(0,0,0,255),new r.yc(0,0)))};
r.nz=function(a){return a?new r.dc(new r.tc(new r.Wc(a.Ta.s.x,a.Ta.s.y,a.Ta.s.z),new r.Pb(a.Ta.L.p,a.Ta.L.o,a.Ta.L.h,a.Ta.L.I),new r.yc(a.Ta.C.Qa,a.Ta.C.na)),new r.tc(new r.Wc(a.Ka.s.x,a.Ka.s.y,a.Ka.s.z),new r.Pb(a.Ka.L.p,a.Ka.L.o,a.Ka.L.h,a.Ka.L.I),new r.yc(a.Ka.C.Qa,a.Ka.C.na)),new r.tc(new r.Wc(a.Oa.s.x,a.Oa.s.y,a.Oa.s.z),new r.Pb(a.Oa.L.p,a.Oa.L.o,a.Oa.L.h,a.Oa.L.I),new r.yc(a.Oa.C.Qa,a.Oa.C.na)),new r.tc(new r.Wc(a.Va.s.x,a.Va.s.y,a.Va.s.z),new r.Pb(a.Va.L.p,a.Va.L.o,a.Va.L.h,a.Va.L.I),new r.yc(a.Va.C.Qa,
a.Va.C.na))):r.oz()};r.A0=function(a){if(!a)return[];for(var c=[],d=0;d<a.length;d++)c.push(r.nz(a[d]));return c};r.z0=function(a,c,d,e){this.Ka=a||new r.Gu;this.Va=c||new r.Gu;this.Ta=d||new r.Gu;this.Oa=e||new r.Gu};r.Xl=function(a,c){this.src=a;this.Ib=c};r.iZ=function(){return new r.Xl(1,0)};r.jl=function(a){var c=a.p.toString(16),d=a.o.toString(16),e=a.h.toString(16);return"#"+(16>a.p?"0"+c:c)+(16>a.o?"0"+d:d)+(16>a.h?"0"+e:e)};
r.Ga.Qc&&(r.Pb=function(a,c,d,e,f,g){this.Qb=f||new ArrayBuffer(r.Pb.BYTES_PER_ELEMENT);this.Kb=g||0;f=this.Qb;g=this.Kb;var h=Uint8Array.BYTES_PER_ELEMENT;this.YA=new Uint8Array(f,g,1);this.rA=new Uint8Array(f,g+h,1);this.Dz=new Uint8Array(f,g+2*h,1);this.vz=new Uint8Array(f,g+3*h,1);this.YA[0]=a||0;this.rA[0]=c||0;this.Dz[0]=d||0;this.vz[0]=e||0},r.Pb.BYTES_PER_ELEMENT=4,Object.defineProperties(r.Pb.prototype,{p:{get:function(){return this.YA[0]},set:function(a){this.YA[0]=a},enumerable:!0},o:{get:function(){return this.rA[0]},
set:function(a){this.rA[0]=a},enumerable:!0},h:{get:function(){return this.Dz[0]},set:function(a){this.Dz[0]=a},enumerable:!0},I:{get:function(){return this.vz[0]},set:function(a){this.vz[0]=a},enumerable:!0}}),r.$d=function(a,c,d,e,f,g){this.Qb=f||new ArrayBuffer(r.$d.BYTES_PER_ELEMENT);this.Kb=g||0;f=this.Qb;g=this.Kb;var h=Float32Array.BYTES_PER_ELEMENT;this.XA=new Float32Array(f,g,1);this.XA[0]=a||0;this.qA=new Float32Array(f,g+h,1);this.qA[0]=c||0;this.Cz=new Float32Array(f,g+2*h,1);this.Cz[0]=
d||0;this.uz=new Float32Array(f,g+3*h,1);this.uz[0]=e||0},r.$d.BYTES_PER_ELEMENT=16,Object.defineProperties(r.$d.prototype,{p:{get:function(){return this.XA[0]},set:function(a){this.XA[0]=a},enumerable:!0},o:{get:function(){return this.qA[0]},set:function(a){this.qA[0]=a},enumerable:!0},h:{get:function(){return this.Cz[0]},set:function(a){this.Cz[0]=a},enumerable:!0},I:{get:function(){return this.uz[0]},set:function(a){this.uz[0]=a},enumerable:!0}}),r.Db=function(a,c,d,e){this.Qb=d||new ArrayBuffer(r.Db.BYTES_PER_ELEMENT);
this.Kb=e||0;this.Um=new Float32Array(this.Qb,this.Kb,1);this.Vm=new Float32Array(this.Qb,this.Kb+4,1);this.Um[0]=a||0;this.Vm[0]=c||0},r.Db.BYTES_PER_ELEMENT=8,Object.defineProperties(r.Db.prototype,{x:{get:function(){return this.Um[0]},set:function(a){this.Um[0]=a},enumerable:!0},y:{get:function(){return this.Vm[0]},set:function(a){this.Vm[0]=a},enumerable:!0}}),r.Wc=function(a,c,d,e,f){this.Qb=e||new ArrayBuffer(r.Wc.BYTES_PER_ELEMENT);this.Kb=f||0;e=this.Qb;f=this.Kb;this.Um=new Float32Array(e,
f,1);this.Um[0]=a||0;this.Vm=new Float32Array(e,f+Float32Array.BYTES_PER_ELEMENT,1);this.Vm[0]=c||0;this.VB=new Float32Array(e,f+2*Float32Array.BYTES_PER_ELEMENT,1);this.VB[0]=d||0},r.Wc.BYTES_PER_ELEMENT=12,Object.defineProperties(r.Wc.prototype,{x:{get:function(){return this.Um[0]},set:function(a){this.Um[0]=a},enumerable:!0},y:{get:function(){return this.Vm[0]},set:function(a){this.Vm[0]=a},enumerable:!0},z:{get:function(){return this.VB[0]},set:function(a){this.VB[0]=a},enumerable:!0}}),r.yc=
function(a,c,d,e){this.Qb=d||new ArrayBuffer(r.yc.BYTES_PER_ELEMENT);this.Kb=e||0;this.GB=new Float32Array(this.Qb,this.Kb,1);this.OB=new Float32Array(this.Qb,this.Kb+4,1);this.GB[0]=a||0;this.OB[0]=c||0},r.yc.BYTES_PER_ELEMENT=8,Object.defineProperties(r.yc.prototype,{Qa:{get:function(){return this.GB[0]},set:function(a){this.GB[0]=a},enumerable:!0},na:{get:function(){return this.OB[0]},set:function(a){this.OB[0]=a},enumerable:!0}}),r.mu=function(a,c,d,e,f,g){this.Qb=f||new ArrayBuffer(r.mu.BYTES_PER_ELEMENT);
this.Kb=g||0;f=this.Qb;g=r.Db.BYTES_PER_ELEMENT;this.kp=a?new r.Db(a.x,a.y,f,0):new r.Db(0,0,f,0);this.mp=c?new r.Db(c.x,c.y,f,g):new r.Db(0,0,f,g);this.no=d?new r.Db(d.x,d.y,f,2*g):new r.Db(0,0,f,2*g);this.po=e?new r.Db(e.x,e.y,f,3*g):new r.Db(0,0,f,3*g)},r.mu.BYTES_PER_ELEMENT=32,Object.defineProperties(r.mu.prototype,{Ta:{get:function(){return this.kp},set:function(a){this.kp.x=a.x;this.kp.y=a.y},enumerable:!0},Oa:{get:function(){return this.mp},set:function(a){this.mp.x=a.x;this.mp.y=a.y},enumerable:!0},
Ka:{get:function(){return this.no},set:function(a){this.no.x=a.x;this.no.y=a.y},enumerable:!0},Va:{get:function(){return this.po},set:function(a){this.po.x=a.x;this.po.y=a.y},enumerable:!0}}),r.tc=function(a,c,d,e,f){this.Qb=e||new ArrayBuffer(r.tc.BYTES_PER_ELEMENT);this.Kb=f||0;e=this.Qb;f=this.Kb;var g=r.Wc.BYTES_PER_ELEMENT;this.op=a?new r.Wc(a.x,a.y,a.z,e,f):new r.Wc(0,0,0,e,f);this.Vq=c?new r.Pb(c.p,c.o,c.h,c.I,e,f+g):new r.Pb(0,0,0,0,e,f+g);this.Km=d?new r.yc(d.Qa,d.na,e,f+g+r.Pb.BYTES_PER_ELEMENT):
new r.yc(0,0,e,f+g+r.Pb.BYTES_PER_ELEMENT)},r.tc.BYTES_PER_ELEMENT=24,Object.defineProperties(r.tc.prototype,{s:{get:function(){return this.op},set:function(a){var c=this.op;c.x=a.x;c.y=a.y;c.z=a.z},enumerable:!0},L:{get:function(){return this.Vq},set:function(a){var c=this.Vq;c.p=a.p;c.o=a.o;c.h=a.h;c.I=a.I},enumerable:!0},C:{get:function(){return this.Km},set:function(a){this.Km.Qa=a.Qa;this.Km.na=a.na},enumerable:!0}}),r.dc=function(a,c,d,e,f,g){this.Qb=f||new ArrayBuffer(r.dc.BYTES_PER_ELEMENT);
this.Kb=g||0;f=this.Qb;g=this.Kb;var h=r.tc.BYTES_PER_ELEMENT;this.kp=a?new r.tc(a.s,a.L,a.C,f,g):new r.tc(null,null,null,f,g);this.no=c?new r.tc(c.s,c.L,c.C,f,g+h):new r.tc(null,null,null,f,g+h);this.mp=d?new r.tc(d.s,d.L,d.C,f,g+2*h):new r.tc(null,null,null,f,g+2*h);this.po=e?new r.tc(e.s,e.L,e.C,f,g+3*h):new r.tc(null,null,null,f,g+3*h)},r.dc.BYTES_PER_ELEMENT=96,Object.defineProperties(r.dc.prototype,{Ta:{get:function(){return this.kp},set:function(a){var c=this.kp;c.s=a.s;c.L=a.L;c.C=a.C},enumerable:!0},
Ka:{get:function(){return this.no},set:function(a){var c=this.no;c.s=a.s;c.L=a.L;c.C=a.C},enumerable:!0},Oa:{get:function(){return this.mp},set:function(a){var c=this.mp;c.s=a.s;c.L=a.L;c.C=a.C},enumerable:!0},Va:{get:function(){return this.po},set:function(a){var c=this.po;c.s=a.s;c.L=a.L;c.C=a.C},enumerable:!0},YB:{get:function(){return this.Qb},enumerable:!0}}),r.oz=function(){return new r.dc},r.nz=function(a){if(!a)return r.oz();var c=a.Ta,d=a.Ka,e=a.Oa;a=a.Va;return{Ta:{s:{x:c.s.x,y:c.s.y,z:c.s.z},
L:{p:c.L.p,o:c.L.o,h:c.L.h,I:c.L.I},C:{Qa:c.C.Qa,na:c.C.na}},Ka:{s:{x:d.s.x,y:d.s.y,z:d.s.z},L:{p:d.L.p,o:d.L.o,h:d.L.h,I:d.L.I},C:{Qa:d.C.Qa,na:d.C.na}},Oa:{s:{x:e.s.x,y:e.s.y,z:e.s.z},L:{p:e.L.p,o:e.L.o,h:e.L.h,I:e.L.I},C:{Qa:e.C.Qa,na:e.C.na}},Va:{s:{x:a.s.x,y:a.s.y,z:a.s.z},L:{p:a.L.p,o:a.L.o,h:a.L.h,I:a.L.I},C:{Qa:a.C.Qa,na:a.C.na}}}},r.Vb=function(a,c,d,e,f){this.Qb=e||new ArrayBuffer(r.Vb.BYTES_PER_ELEMENT);this.Kb=f||0;e=this.Qb;f=this.Kb;var g=r.Db.BYTES_PER_ELEMENT;this.op=a?new r.Db(a.x,
a.y,e,f):new r.Db(0,0,e,f);this.Vq=c?new r.Pb(c.p,c.o,c.h,c.I,e,f+g):new r.Pb(0,0,0,0,e,f+g);this.Km=d?new r.yc(d.Qa,d.na,e,f+g+r.Pb.BYTES_PER_ELEMENT):new r.yc(0,0,e,f+g+r.Pb.BYTES_PER_ELEMENT)},r.Vb.BYTES_PER_ELEMENT=20,Object.defineProperties(r.Vb.prototype,{s:{get:function(){return this.op},set:function(a){this.op.x=a.x;this.op.y=a.y},enumerable:!0},L:{get:function(){return this.Vq},set:function(a){var c=this.Vq;c.p=a.p;c.o=a.o;c.h=a.h;c.I=a.I},enumerable:!0},C:{get:function(){return this.Km},
set:function(a){this.Km.Qa=a.Qa;this.Km.na=a.na},enumerable:!0}}),r.Gc=function(a,c,d,e,f){this.Qb=e||new ArrayBuffer(r.Gc.BYTES_PER_ELEMENT);this.Kb=f||0;e=this.Qb;f=this.Kb;var g=r.Vb.BYTES_PER_ELEMENT;this.QF=a?new r.Vb(a.s,a.L,a.C,e,f):new r.Vb(null,null,null,e,f);this.VF=c?new r.Vb(c.s,c.L,c.C,e,f+g):new r.Vb(null,null,null,e,f+g);this.$F=d?new r.Vb(d.s,d.L,d.C,e,f+2*g):new r.Vb(null,null,null,e,f+2*g)},r.Gc.BYTES_PER_ELEMENT=60,Object.defineProperties(r.Gc.prototype,{I:{get:function(){return this.QF},
set:function(a){var c=this.QF;c.s=a.s;c.L=a.L;c.C=a.C},enumerable:!0},h:{get:function(){return this.VF},set:function(a){var c=this.VF;c.s=a.s;c.L=a.L;c.C=a.C},enumerable:!0},Da:{get:function(){return this.$F},set:function(a){var c=this.$F;c.s=a.s;c.L=a.L;c.C=a.C},enumerable:!0}}));r.P2=function(a){a=a.substr(1).split("");return new r.Ec(parseInt("0x"+a[0]+a[1]),parseInt("0x"+a[2]+a[3]),parseInt("0x"+a[4]+a[5]))};r.Eq=0;r.wj=1;r.xN=2;r.Jq=0;r.Iu=1;r.Iq=2;
r.I0=r.Ea.extend({Qo:null,qs:null,rz:0,ctor:function(){this.Qo={};this.qs={};this.rz=2<<(0|10*Math.random())},NN:function(){this.rz++;return"key_"+this.rz},sX:function(a,c){if(null!=c){var d=this.NN();this.Qo[d]=c;this.qs[d]=a}},TU:function(a){if(null==a)return null;var c=this.Qo,d;for(d in c)if(c[d]===a)return this.qs[d];return null},Oda:function(a){return this.TU(a)},fW:function(a){if(null!=a){var c=this.Qo,d;for(d in c)if(c[d]===a){delete this.qs[d];delete c[d];break}}},Y$:function(a){if(null!=
a)for(var c=0;c<a.length;c++)this.fW(a[c])},qR:function(){var a=[],c=this.Qo,d;for(d in c)a.push(c[d]);return a},R$:function(){this.Qo={};this.qs={}},count:function(){return this.qR().length}});r.yM=function(){this.zs="Arial";this.fontSize=12;this.tI=r.wj;this.uI=r.Jq;this.vI=r.Ab();this.ys=r.size(0,0);this.iE=!1;this.strokeColor=r.Ab();this.AL=1;this.nL=!1;this.oL=r.size(0,0);this.shadowBlur=0;this.pL=1};r.$n={Dy:0,Qy:1,SHOW_ALL:2,Ey:3,Fy:4,x0:5};r.Fu=[];r.Fq={};
r.ta=r.Ea.extend({Xb:null,Se:null,Do:null,Wk:null,cf:null,RB:null,QB:"",eB:null,xa:1,KG:1,Ca:1,LG:1,vr:0,GG:5,Ph:null,RG:null,VG:null,UG:null,SG:null,TG:null,yr:!1,U0:!1,D1:null,qG:null,rG:null,UN:null,v1:!1,Sz:null,n1:null,Hj:null,mA:1,Ou:!1,vG:!1,ctor:function(){this.Hj=r.dk.parentNode===document.body?document.documentElement:r.dk.parentNode;this.Se=r.size(0,0);this.AA();var a=r.canvas.width,c=r.canvas.height;this.Do=r.size(a,c);this.Wk=r.size(a,c);this.cf=r.rect(0,0,a,c);this.RB=r.rect(0,0,a,c);
this.Xb=r.Z.e().af;this.Sz={left:0,top:0};this.QB="Cocos2dHTML5";r.JF.r(this.Do);this.RG=new r.ao(r.Ug.Ht,r.Ne.Dy);this.VG=new r.ao(r.Ug.iN,r.Ne.SHOW_ALL);this.UG=new r.ao(r.Ug.Ht,r.Ne.Qy);this.SG=new r.ao(r.Ug.Ht,r.Ne.Ey);this.TG=new r.ao(r.Ug.Ht,r.Ne.Fy);this.qG=r.canvas;this.rG=r.X},fB:function(){var a=this.Wk.width,c=this.Wk.height;this.eB&&(this.AA(),this.eB.call());0<a&&this.OD(a,c,this.Ph)},jaa:function(a){a?this.Ou||(this.Ou=!0,a=this.fB.bind(this),window.addEventListener("resize",a,!1)):
this.Ou&&(this.Ou=!0,a=this.fB.bind(this),window.removeEventListener("resize",a,!1))},Tba:function(a){if("function"==typeof a||null==a)this.eB=a},AA:function(){var a=this.Se;a.width=this.Hj.clientWidth;a.height=this.Hj.clientHeight},R0:function(){var a=this.Wk.width,c=this.Wk.height;0<a&&this.OD(a,c,this.Ph)},AQ:function(){if(this.vG){var a={"user-scalable":"no","maximum-scale":"1.0","initial-scale":"1.0"},c=document.getElementsByName("viewport"),d;0==c.length?(c=document.createElement("meta"),c.name=
"viewport",c.content="",document.head.appendChild(c)):c=c[0];d=c.content;for(var e in a)RegExp(e).test(d)||(d+=(""==d?"":",")+e+"\x3d"+a[e]);c.content=d}},tQ:function(){var a=r.Kd();this.Ca=this.xa=a},WP:function(){this.xa=this.KG;this.Ca=this.LG},TO:function(){var a,c=this.vr;for(a=0;a<this.GG;a++){if(!(c&1))return this.vr|=1<<a,a;c>>=1}return-1},SP:function(a){0>a||a>=this.GG||(a=~(1<<a),this.vr&=a)},S0:function(){},nU:function(){this.yr=!0},U1:function(a){this.vG=a},end:function(){},s8:function(){return null!=
this.qG&&null!=this.rG},Zaa:function(a){this.mA=a;r.Z.e().Mx(r.Z.e().$k)},ada:function(){},cba:function(){},Kaa:function(a,c){this.Sz={left:a,top:c}},z4:function(){return this.Sz},Tw:function(){return r.size(this.Se.width,this.Se.height)},Yaa:function(a,c){this.Se.width=a;this.Se.height=c;this.Hj.style.width=a+"px";this.Hj.style.height=c+"px";this.fB();r.Z.e().Mx(r.Z.e().$k)},B2:function(){},waa:function(a){this.UN=a},Is:function(){return this.RB.cb},RI:function(){return this.RB.ld},x2:function(){return!0},
q6:function(){return this.Ph},GX:function(a){if(a instanceof r.ao)this.Ph=a;else switch(a){case r.$n.Dy:this.Ph=this.RG;break;case r.$n.SHOW_ALL:this.Ph=this.VG;break;case r.$n.Qy:this.Ph=this.UG;break;case r.$n.Ey:this.Ph=this.SG;break;case r.$n.Fy:this.Ph=this.TG}},OD:function(a,c,d){if(isNaN(a)||0==a||isNaN(c)||0==c)r.log("Resolution not valid");else if(this.GX(d),policy=this.Ph){policy.tn(this);var e=this.Se.width,f=this.Se.height;r.Ga.ik&&this.AQ(this.Se.width,this.Se.height);this.AA();if(d!=
this.Ph||a!=this.Wk.width||c!=this.Wk.height||e!=this.Se.width||f!=this.Se.height)this.Do=r.size(a,c),this.Wk=r.size(a,c),a=policy.apply(this,this.Do),a.scale&&2==a.scale.length&&(this.xa=a.scale[0],this.Ca=a.scale[1]),a.viewport instanceof r.og&&(this.cf=a.viewport),a=r.Z.e(),a.Rb=this.Cp(),r.Hd==r.Ck&&(a.Bo(),a.PK()),this.KG=this.xa,this.LG=this.Ca,r.lc&&r.lc.UP(),r.JF.r(this.Is()),policy.sn(this)}else r.log("should set resolutionPolicy")},Cp:function(){return r.size(this.Do.width,this.Do.height)},
qca:function(a){this.Xb=a},SX:function(a,c,d,e){var f=this.mA,g=this.xa,h=this.Ca;r.X.viewport(a*g*f+this.cf.x*f,c*h*f+this.cf.y*f,d*g*f,e*h*f)},UD:function(a,c,d,e){var f=this.mA,g=this.xa,h=this.Ca;r.X.scissor(a*g*f+this.cf.x*f,c*h*f+this.cf.y*f,d*g*f,e*h*f)},xU:function(){var a=r.X;return a.isEnabled(a.SCISSOR_TEST)},uT:function(){var a=r.X,c=this.xa,d=this.Ca,a=a.getParameter(a.SCISSOR_BOX);return r.rect((a[0]-this.cf.x)/c,(a[1]-this.cf.y)/d,a[2]/c,a[3]/d)},zca:function(a){null!=a&&0<a.length&&
(this.QB=a)},n7:function(){return this.QB},o7:function(){return this.cf},sT:function(){return this.xa},tT:function(){return this.Ca},ek:function(a,c,d){return{x:a-d.left,y:d.top+d.height-c}},NT:function(a,c,d,e){for(var f=[],g=this.cf,h=this.xa,k=this.Ca,l=0;l<a;++l){var m=c[l],n=d[l],p=e[l],q=0;if(null==r.Fq[m])if(q=this.TO(),-1==q)r.log("The touches is more than MAX_TOUCHES, nUnusedIndex \x3d "+q);else{var u=r.Fu[q]=new r.qf;u.ZD(q,(n-g.x)/h,(p-g.y)/k);r.Fq[m]=0|q;f.push(u)}}0!=f.length&&this.Xb.fy(f,
null)},QT:function(a,c,d,e){for(var f=[],g=this.xa,h=this.Ca,k=this.cf.x,l=this.cf.y,m=0;m<a;++m){var n=d[m],p=e[m],q=r.Fq[c[m]];if(null!=q){var u=r.Fu[q];if(u)u.ZD(q,(n-k)/g,(p-l)/h),f.push(u);else return}}0!=f.length&&this.Xb.gy(f,null)},PT:function(a,c,d,e){var f=[];this.II(f,a,c,d,e);this.Xb.qt(f,null)},OT:function(a,c,d,e){var f=[];this.II(f,a,c,d,e);this.Xb.nE(f,null)},II:function(a,c,d,e,f){for(var g=this.xa,h=this.Ca,k=this.cf,l=0;l<c;++l){var m=d[l],n=e[l],p=f[l],q=r.Fq[m];if(null!=q){var u=
r.Fu[q];if(u)u.ZD(q,(n-k.x)/g,(p-k.y)/h),a.push(u),r.Fu[q]=null,this.SP(q),delete r.Fq[m];else break}}},fy:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Of||h,d[f]=g.J.x,e[f]=g.J.y,++f;this.NT(f,c,d,e)},gy:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Of||h,d[f]=g.J.x,e[f]=g.J.y,++f;this.QT(f,c,d,e)},qt:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Of||h,d[f]=g.J.x,e[f]=g.J.y,++f;this.PT(f,c,d,e)},nE:function(a){for(var c=
[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Of||h,d[f]=g.J.x,e[f]=g.J.y,++f;this.OT(f,c,d,e)}});r.ta.e=function(){this.Jb||(this.Jb=new r.ta,this.Jb.nU());return this.Jb};
r.Ug=r.Ea.extend({tn:function(){},apply:function(){},sn:function(){},bH:function(a,c,d){r.Ga.ik&&a==document.documentElement&&r.bz.e().xR(r.canvas);a=r.canvas;var e=r.dk;a.width=c;a.height=d;e.style.width=c+"px";e.style.height=d+"px";c=document.body;var f;c&&(f=c.style)&&(f.paddingTop=f.paddingTop||"0px",f.paddingRight=f.paddingRight||"0px",f.paddingBottom=f.paddingBottom||"0px",f.paddingLeft=f.paddingLeft||"0px",f.borderTop=f.borderTop||"0px",f.borderRight=f.borderRight||"0px",f.borderBottom=f.borderBottom||
"0px",f.borderLeft=f.borderLeft||"0px",f.marginTop=f.marginTop||"0px",f.marginRight=f.marginRight||"0px",f.marginBottom=f.marginBottom||"0px",f.marginLeft=f.marginLeft||"0px")},kG:function(){document.body.insertBefore(r.dk,document.body.firstChild);var a=document.body.style;a.width=window.innerWidth+"px";a.height=window.innerHeight+"px";a.overflow="hidden";a=r.dk.style;a.position="fixed";a.left=a.top="0px";document.body.scrollTop=0}});
r.Ne=r.Ea.extend({hB:{scale:[1,1],viewport:null},Sq:function(a,c,d,e,f,g){a=r.rect(Math.round((a-d)/2),Math.round((c-e)/2),d,e);r.Hd==r.lg&&r.X.translate(a.x,a.y+e);this.hB.scale=[f,g];this.hB.viewport=a;return this.hB},tn:function(){},apply:function(){return{scale:[1,1]}},sn:function(){}});
(function(){var a=r.Ug.extend({apply:function(a){this.bH(a.Hj,a.Se.width,a.Se.height)}}),c=r.Ug.extend({apply:function(a,c){var d=a.Se.width,e=a.Se.height,f=r.dk.style,n=c.width,p=c.height,q=d/n,u=e/p,w,y;q<u?(w=d,y=p*q):(w=n*u,y=e);n=Math.floor((d-w)/2);y=Math.floor((e-y)/2);this.bH(a.Hj,d-2*n,e-2*y);f.marginLeft=n+"px";f.marginRight=n+"px";f.marginTop=y+"px";f.marginBottom=y+"px"}});a.extend({tn:function(a){a.Hj=document.documentElement},apply:function(a){this._super(a);this.kG()}});c.extend({tn:function(a){a.Hj=
document.documentElement},apply:function(a,c){this._super(a,c);this.kG()}});var d=r.Ug.extend({});r.Ug.Ht=new a;r.Ug.iN=new c;r.Ug.z_=new d;var a=r.Ne.extend({apply:function(a,c){var d=r.canvas.width,e=r.canvas.height;return this.Sq(d,e,d,e,d/c.width,e/c.height)}}),c=r.Ne.extend({apply:function(a,c){var d=r.canvas.width,e=r.canvas.height,f=c.width,n=c.height,p=d/f,q=e/n,u,w,y;p<q?(u=p,w=d,y=n*u):(u=q,w=f*u,y=e);return this.Sq(d,e,w,y,u,u)}}),d=r.Ne.extend({apply:function(a,c){var d=r.canvas.width,
e=r.canvas.height,f=c.width,n=c.height,p=d/f,q=e/n,u,w,y;p<q?(u=q,w=f*u,y=e):(u=p,w=d,y=n*u);return this.Sq(d,e,w,y,u,u)}}),e=r.Ne.extend({apply:function(a,c){var d=r.canvas.width,e=r.canvas.height,f=e/c.height;return this.Sq(d,e,d,e,f,f)},sn:function(a){r.Z.e().Rb=a.Is()}}),f=r.Ne.extend({apply:function(a,c){var d=r.canvas.width,e=r.canvas.height,f=d/c.width;return this.Sq(d,e,d,e,f,f)},sn:function(a){r.Z.e().Rb=a.Is()}});r.Ne.Dy=new a;r.Ne.SHOW_ALL=new c;r.Ne.Qy=new d;r.Ne.Ey=new e;r.Ne.Fy=new f})();
r.ao=r.Ea.extend({bv:null,cv:null,ctor:function(a,c){this.RW(a);this.UW(c)},tn:function(a){this.bv.tn(a);this.cv.tn(a)},apply:function(a,c){this.bv.apply(a,c);return this.cv.apply(a,c)},sn:function(a){this.bv.sn(a);this.cv.sn(a)},RW:function(a){a instanceof r.Ug&&(this.bv=a)},UW:function(a){a instanceof r.Ne&&(this.cv=a)}});r.bz=r.Ea.extend({as:!1,Hk:"",SA:null,TA:null,FB:"",r:function(){var a=["webkit","moz","o","ms","khtml"],c=document.body;if(c.requestFullScreen)this.as=!0;else for(var d=0,e=a.length,f;d<e;d++)if(f=a[d],c[f+"RequestFullScreen"]){this.as=!0;this.Hk=f;break}this.FB="ontouchstart"in window?"touchstart":"mousedown"},fullScreen:function(){var a=document;if(this.as)switch(this.Hk){case "":return a.fullScreen;case "webkit":return a.webkitIsFullScreen;default:return a[this.Hk+"FullScreen"]}return!1},rK:function(a,
c){if(this.as&&!this.fullScreen()){if(c){var d=this.Hk+"fullscreenchange";this.SA&&this.TA&&this.SA.removeEventListener(d,this.TA);this.SA=a;this.TA=c;a.addEventListener(d,c,!1)}return""===this.Hk?a.requestFullScreen():a[this.Hk+"RequestFullScreen"]()}},y3:function(){if(this.as&&this.fullScreen())return""===this.Hk?document.body.cancelFullScreen():document.body[this.Hk+"CancelFullScreen"]()},xR:function(a,c){function d(){e.rK(a,c);a.removeEventListener(e.FB,d)}var e=this;this.rK(a,c);a.addEventListener(this.FB,
d)}});r.bz.e=function(){if(!this.Jb){var a=new r.bz;a.r();this.Jb=a}return this.Jb};r.JF={Vh:r.zd(),nh:r.zd(),Uh:r.zd(),zi:r.zd(),Ai:r.zd(),yi:r.zd(),Kz:r.zd(),Ki:r.zd(),Qh:r.zd(),Ha:0,va:0,r:function(a){this.Ha=a.width;this.va=a.height;a=this.Ha;var c=this.va;this.Vh.K=c;this.nh.F=a;this.nh.K=c;this.Uh.F=a/2;this.Uh.K=c;this.Ai.F=a;this.yi.F=a/2;this.Kz.F=a/2;this.Kz.K=c/2;this.Ki.K=c/2;this.Qh.F=a;this.Qh.K=c/2},Js:function(){return this.Ha},Ds:function(){return this.va},wda:function(){return this.Vh},xda:function(){return this.nh},top:function(){return this.Uh},l2:function(){return this.zi},
m2:function(){return this.Ai},bottom:function(){return this.yi},A2:function(){return this.Kz},left:function(){return this.Ki},right:function(){return this.Qh}};r.ay=function(a){var c;if(a&&0!=a.length){var d=a.indexOf("{"),e=a.indexOf("}");-1==d||-1==e||d>e||(a=a.substr(d+1,e-d-1),0!=a.length&&(d=a.indexOf("{"),e=a.indexOf("}"),-1==d&&-1==e&&(c=a.split(","))))}return c};
r.sF=function(a){var c=r.hd();if(a){var d=a.indexOf("{")+1,e=a.lastIndexOf("}",a.length);-1!=d&&-1!=e&&(a=a.substring(d,e),d=a.indexOf("}"),-1!=d&&(d=a.indexOf(",",d),-1!=d&&(c=a.substr(d+1,a.length-d),a=r.ay(a.substr(0,d)),c=r.ay(c),c=r.rect(parseFloat(a[0]),parseFloat(a[1]),parseFloat(c[0]),parseFloat(c[1])))))}return c};r.rF=function(a){var c=r.tj();try{if(""==a)return c;var d=r.ay(a),c=r.a(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};
r.cz=function(a){var c=r.bm();try{if(""==a)return c;var d=r.ay(a),c=r.size(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};r.WY=function(a,c,d,e,f,g){this.I=a;this.h=c;this.Da=d;this.La=e;this.Za=f;this.$a=g};r.K0=function(a,c,d,e,f,g){return{I:a,h:c,Da:d,La:e,Za:f,$a:g}};r.ZY=function(a,c,d,e,f,g){return{I:a,h:c,Da:d,La:e,Za:f,$a:g}};r.L0=function(a,c){return{x:c.I*a.x+c.Da*a.y+c.Za,y:c.h*a.x+c.La*a.y+c.$a}};r.qF=function(a,c){return{x:c.I*a.x+c.Da*a.y+c.Za,y:c.h*a.x+c.La*a.y+c.$a}};r.Ek=function(a,c,d){return{x:d.I*a+d.Da*c+d.Za,y:d.h*a+d.La*c+d.$a}};
r.M0=function(a,c){return{width:c.I*a.width+c.Da*a.height,height:c.h*a.width+c.La*a.height}};r.i0=function(a,c){return{width:c.I*a.width+c.Da*a.height,height:c.h*a.width+c.La*a.height}};r.$Y=function(){return{I:1,h:0,Da:0,La:1,Za:0,$a:0}};r.YY=function(){return{I:1,h:0,Da:0,La:1,Za:0,$a:0}};
r.Xg=function(a,c){var d=r.El(a),e=r.Dl(a),f=r.wn(a),g=r.xn(a),h=r.Ek(e,d,c),d=r.Ek(f,d,c),e=r.Ek(e,g,c),k=r.Ek(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);return r.rect(f,l,g-f,h-l)};
r.ui=function(a,c){var d=r.El(a),e=r.Dl(a),f=r.wn(a),g=r.xn(a),h=r.Ek(e,d,c),d=r.Ek(f,d,c),e=r.Ek(e,g,c),k=r.Ek(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);a.x=f;a.y=l;a.width=g-f;a.height=h-l;return a};r.oy=function(a,c,d){return{I:a.I,h:a.h,Da:a.Da,La:a.La,Za:a.Za+a.I*c+a.Da*d,$a:a.$a+a.h*c+a.La*d}};r.aZ=function(a,c,d){return{I:a.I*c,h:a.h*c,Da:a.Da*d,La:a.La*d,Za:a.Za,$a:a.$a}};
r.ZL=function(a){var c=Math.sin(1.57079633),d=Math.cos(1.57079633);return{I:a.I*d+a.Da*c,h:a.h*d+a.La*c,Da:a.Da*d-a.I*c,La:a.La*d-a.h*c,Za:a.Za,$a:a.$a}};r.Tl=function(a,c){return{I:a.I*c.I+a.h*c.Da,h:a.I*c.h+a.h*c.La,Da:a.Da*c.I+a.La*c.Da,La:a.Da*c.h+a.La*c.La,Za:a.Za*c.I+a.$a*c.Da+c.Za,$a:a.Za*c.h+a.$a*c.La+c.$a}};r.XY=function(a,c){return a.I===c.I&&a.h===c.h&&a.Da===c.Da&&a.La===c.La&&a.Za===c.Za&&a.$a===c.$a};
r.BE=function(a){var c=1/(a.I*a.La-a.h*a.Da);return{I:c*a.La,h:-c*a.h,Da:-c*a.Da,La:c*a.I,Za:c*(a.Da*a.$a-a.La*a.Za),$a:c*(a.h*a.Za-a.I*a.$a)}};r.gF=parseFloat("1.192092896e-07F");r.qD=function(a){return r.a(-a.x,-a.y)};r.eg=function(a,c){return r.a(a.x+c.x,a.y+c.y)};r.Gd=function(a,c){return r.a(a.x-c.x,a.y-c.y)};r.hj=function(a,c){return r.a(a.x*c,a.y*c)};r.pD=function(a,c){return r.hj(r.eg(a,c),0.5)};r.aq=function(a,c){return a.x*c.x+a.y*c.y};r.V9=function(a,c){return a.x*c.y-a.y*c.x};r.nx=function(a){return r.a(-a.y,a.x)};r.d$=function(a){return r.a(a.y,-a.x)};r.c$=function(a,c){return r.hj(c,r.aq(a,c)/r.aq(c,c))};
r.e$=function(a,c){return r.a(a.x*c.x-a.y*c.y,a.x*c.y+a.y*c.x)};r.j$=function(a,c){return r.a(a.x*c.x+a.y*c.y,a.y*c.x-a.x*c.y)};r.UJ=function(a){return r.aq(a,a)};r.W9=function(a,c){return r.UJ(r.Gd(a,c))};r.nD=function(a){return Math.sqrt(r.UJ(a))};r.mD=function(a,c){return r.nD(r.Gd(a,c))};r.zh=function(a){return r.hj(a,1/r.nD(a))};r.X9=function(a){return r.a(Math.cos(a),Math.sin(a))};r.i$=function(a){return Math.atan2(a.y,a.x)};r.us=function(a,c,d){if(c>d){var e=c;c=d;d=e}return a<c?c:a<d?a:d};
r.TJ=function(a){var c=r.a(0,0),d=r.a(1,1);return r.a(r.us(a.x,c.x,d.x),r.us(a.y,c.y,d.y))};r.kV=function(){var a=r.Z.e().Rb;return r.a(a.width,a.height)};r.U9=function(a,c){return r.a(c(a.x),c(a.y))};r.VJ=function(a,c,d){return r.eg(r.hj(a,1-d),r.hj(c,d))};r.Y9=function(a,c,d){return a.x-d<=c.x&&c.x<=a.x+d&&a.y-d<=c.y&&c.y<=a.y+d?!0:!1};r.T9=function(a,c){return r.a(a.x*c.x,a.y*c.y)};r.S9=function(a,c){var d=r.zh(a),e=r.zh(c),d=Math.atan2(d.x*e.y-d.y*e.x,r.aq(d,e));return Math.abs(d)<r.gF?0:d};
r.R9=function(a,c){var d=Math.acos(r.aq(r.zh(a),r.zh(c)));return Math.abs(d)<r.gF?0:d};r.mV=function(a,c,d){a=r.Gd(a,c);var e=Math.cos(d);d=Math.sin(d);var f=a.x;a.x=f*e-a.y*d+c.x;a.y=f*d+a.y*e+c.y;return a};r.oD=function(a,c,d,e,f){if(a.x==c.x&&a.y==c.y||d.x==e.x&&d.y==e.y)return!1;var g=c.x-a.x;c=c.y-a.y;var h=e.x-d.x;e=e.y-d.y;var k=a.x-d.x;a=a.y-d.y;d=e*g-h*c;f.x=h*a-e*k;f.y=g*a-c*k;if(0==d)return 0==f.x||0==f.y?!0:!1;f.x/=d;f.y/=d;return!0};
r.g$=function(a,c,d,e){var f=r.a(0,0);return r.oD(a,c,d,e,f)&&0<=f.x&&1>=f.x&&0<=f.y&&1>=f.y?!0:!1};r.a$=function(a,c,d,e){var f=r.a(0,0);return r.oD(a,c,d,e,f)?(d=r.a(0,0),d.x=a.x+f.x*(c.x-a.x),d.y=a.y+f.x*(c.y-a.y),d):r.tj()};r.f$=function(a,c){return null!=a&&null!=c?a.x==c.x&&a.y==c.y:!1};r.k$=function(a){a.x=0;a.y=0};r.Z9=function(a,c){a.x=c.x;a.y=c.y};r.lV=function(a,c){a.x*=c;a.y*=c};r.h$=function(a,c){a.x-=c.x;a.y-=c.y};r.Q9=function(a,c){a.x+=c.x;a.y+=c.y};
r.b$=function(a){r.lV(a,1/Math.sqrt(a.x*a.x+a.y*a.y))};r.Qda=function(a,c,d,e,f){f+=e;if(!(1>=f)){c*=0.5;for(var g,h=f-1,k=e;k<f;k++){g=2*k;var l=r.a(a[2*k],a[2*k+1]),m;if(0===k)m=r.nx(r.zh(r.Gd(l,r.a(a[2*(k+1)],a[2*(k+1)+1]))));else if(k===h)m=r.nx(r.zh(r.Gd(r.a(a[2*(k-1)],a[2*(k-1)+1]),l)));else{m=r.a(a[2*(k-1)],a[2*(k-1)+1]);var n=r.a(a[2*(k+1)],a[2*(k+1)+1]),p=r.zh(r.Gd(n,l)),q=r.zh(r.Gd(m,l)),u=Math.acos(r.aq(p,q));m=u<r.rj(70)?r.nx(r.zh(r.pD(p,q))):u<r.rj(170)?r.zh(r.pD(p,q)):r.nx(r.zh(r.Gd(n,m)))}m=r.hj(m,c);d[2*g]=l.x+m.x;d[2*g+1]=l.y+m.y;d[2*
(g+1)]=l.x-m.x;d[2*(g+1)+1]=l.y-m.y}for(k=0==e?0:e-1;k<h;k++)g=2*k,a=g+2,c=r.Ju(d[2*g],d[2*g+1]),f=r.Ju(d[2*(g+1)],d[2*(g+1)+1]),g=r.Ju(d[2*a],d[2*a]),e=r.Ju(d[2*(a+1)],d[2*(a+1)+1]),c=!r.FY(c.x,c.y,e.x,e.y,f.x,f.y,g.x,g.y),!c.Ps&&(0>c.value||1<c.value)&&(c.Ps=!0),c.Ps&&(d[2*a]=e.x,d[2*a+1]=e.y,d[2*(a+1)]=g.x,d[2*(a+1)+1]=g.y)}};
r.FY=function(a,c,d,e,f,g,h,k){if(a==d&&c==e||f==h&&g==k)return{Ps:!1,value:0};d-=a;e-=c;f-=a;g-=c;h-=a;k-=c;a=Math.sqrt(d*d+e*e);d/=a;e/=a;c=f*d+g*e;g=g*d-f*e;f=c;c=h*d+k*e;k=k*d-h*e;h=c;return g==k?{Ps:!1,value:0}:{Ps:!0,value:(h+(f-h)*k/(k-g))/a}};r.jZ=function(a,c){c[2]=c[3]=c[6]=c[7]=c[8]=c[9]=c[11]=c[14]=0;c[10]=c[15]=1;c[0]=a.I;c[4]=a.Da;c[12]=a.Za;c[1]=a.h;c[5]=a.La;c[13]=a.$a};r.UZ=function(a,c){c.I=a[0];c.Da=a[4];c.Za=a[12];c.h=a[1];c.La=a[5];c.$a=a[13]};r.eF=-1;r.s_=null;r.t_=null;r.vW=1;
r.D=r.Ea.extend({gb:0,yw:0,Ag:0,Rh:0,xa:1,Ca:1,q:null,me:0,ne:0,t:null,la:!0,Ih:null,Nd:null,wa:null,We:!1,U:null,Rk:!1,pd:r.eF,yH:null,MB:null,Zj:!0,vv:!0,aG:!0,z1:null,Yj:null,uG:null,le:!1,Kc:null,Rf:0,$g:null,Bg:null,tG:!1,Mq:!1,Qu:null,Di:null,EA:!1,Bm:0,Or:0,BA:function(){this.Ih=r.zd();this.Nd=r.zd();this.wa=r.Fm();this.q=r.zd();this.t=[];this.Yj={I:1,h:0,Da:0,La:1,Za:0,$a:0};var a=r.Z.e();this.$g=a.Hg();this.Bg=a.Df();this.tG=!0;this.Qu={I:1,h:0,Da:0,La:1,Za:0,$a:0};r.hM&&(this.Di=new r.hM(this))},
r:function(){!1===this.tG&&this.BA();return!0},rg:function(a,c){if(a&&0!==a.length){var d,e=a.length,f;d=r.D.Mf;switch(c){case d.Og:for(d=0;d<e;d++)(f=a[d])&&f.Og();break;case d.Td:for(d=0;d<e;d++)(f=a[d])&&f.Td();break;case d.ji:for(d=0;d<e;d++)(f=a[d])&&f.ji();break;case d.Zf:for(d=0;d<e;d++)(f=a[d])&&f.Zf();break;case d.jg:for(d=0;d<e;d++)(f=a[d])&&f.jg();break;case d.yh:for(d=0;d<e;d++)(f=a[d])&&f.yh();break;case d.Vd:for(d=0;d<e;d++)(f=a[d])&&f.Vd();break;default:throw"Unknown callback function";
}}},Xa:null,lQ:function(){this.Dm();!1===this.Zj&&(this.Zj=this.vv=!0)},mQ:function(){!1===this.Zj&&(this.Zj=this.vv=!0)},E6:function(){return this.me},Sx:function(a){this.me=a;this.Xa()},F6:function(){return this.ne},Tx:function(a){this.ne=a;this.Xa()},u7:function(){return this.gb},aw:function(a){this.gb=a},Bca:function(a){this.aw(a);this.U&&this.U.at(this,a)},k7:function(){return this.yw},gL:function(a){this.yw=a},rT:function(){this.Ag!==this.Rh&&r.log("cc.Node.rotation(): RotationX !\x3d RotationY. Don't know which one to return");
return this.Ag},Ox:function(a){this.Ag=this.Rh=a;this.Bm=0.017453292519943295*this.Ag;this.Or=0.017453292519943295*this.Rh;this.Xa()},u6:function(){return this.Ag},Px:function(a){this.Ag=a;this.Bm=0.017453292519943295*this.Ag;this.Xa()},v6:function(){return this.Rh},Qx:function(a){this.Rh=a;this.Or=0.017453292519943295*this.Rh;this.Xa()},BC:function(){this.xa!==this.Ca&&r.log("cc.Node.getScale(): ScaleX !\x3d ScaleY. Don't know which one to return");return this.xa},rk:function(a,c){this.xa=a;this.Ca=
c||0===c?c:a;this.Xa()},sT:function(){return this.xa},gq:function(a){this.xa=a;this.Xa()},tT:function(){return this.Ca},Fn:function(a){this.Ca=a;this.Xa()},m:function(a,c){var d=this.q;2==arguments.length?(d.F=a,d.K=c):1==arguments.length&&(d.F=a.x,d.K=a.y);this.Xa()},e6:function(){return this.q},f6:function(){return this.q.F},xb:function(a){this.q.F=a;this.Xa()},g6:function(){return this.q.K},Pc:function(a){this.q.K=a;this.Xa()},r4:function(){return this.t.length},q4:function(){return this.t},wJ:function(){return this.la},
B:function(a){this.la=a;this.Xa()},Z3:function(){return this.Ih},G:function(a,c){var d=this.Ih;if(2===arguments.length){if(a===d.F&&c===d.K)return;d.F=a;d.K=c}else{if(a.x===d.F&&a.y===d.K)return;d.F=a.x;d.K=a.y}var e=this.Nd,f=this.wa;e.F=f.Ha*d.F;e.K=f.va*d.K;this.Xa()},a4:function(){return this.Nd},c:function(){return this.wa},V:function(a,c){var d=this.wa;if(2===arguments.length){if(a===d.Ha&&c===d.va)return;d.Ha=a;d.va=c}else{if(a.width===d.Ha&&a.height===d.va)return;d.Ha=a.width;d.va=a.height}var e=
this.Nd,f=this.Ih;e.F=d.Ha*f.F;e.K=d.va*f.K;this.Xa()},A8:function(){return this.We},getParent:function(){return this.U},ht:function(a){this.U=a},l8:function(){return this.Rk},aj:function(a){a!=this.Rk&&(this.Rk=a,this.Xa())},CT:function(){return this.pd},dL:function(a){this.pd=a},getUserData:function(){return this.yH},setUserData:function(a){this.yH=a},i7:function(){return this.MB},uca:function(a){this.MB!=a&&(this.MB=a)},U5:function(){return this.Rf},fq:function(a){this.Rf=a},Hg:function(){this.$g||
(this.$g=r.Z.e().Hg());return this.$g},HW:function(a){this.$g!=a&&(this.gE(),this.$g=a)},Df:function(){this.Bg||(this.Bg=r.Z.e().Df());return this.Bg},IX:function(a){this.Bg!=a&&(this.rt(),this.Bg=a)},Ya:function(){var a=r.rect(0,0,this.wa.Ha,this.wa.va);return r.ui(a,this.cg())},Zf:function(){this.gE();this.rt();this.rg(this.t,r.D.Mf.Zf)},description:function(){return"\x3ccc.Node | Tag \x3d"+this.pd+"\x3e"},SS:function(a){var c=this.t;if(null!=c)for(var d=0;d<c.length;d++){var e=c[d];if(e&&e.pd==
a)return e}return null},f:function(a,c,d){if(!a)throw"cc.Node.addChild(): child must be non-null";a===this?r.log("cc.Node.addChild(): An Node can't be added as a child of itself."):null!==a.U?r.log("cc.Node.addChild(): child already added. It can't be added again"):(c=null!=c?c:a.gb,a.pd=null!=d?d:a.pd,this.fP(a,c),a.U=this,this.We&&(a.Og(),this.EA&&a.ji()))},N:function(a){this.U&&(null==a&&(a=!0),this.U.removeChild(this,a))},dW:function(a){r.log("removeFromParentAndCleanup is deprecated. Use removeFromParent instead");
this.N(a)},removeChild:function(a,c){0!==this.t.length&&(null==c&&(c=!0),-1<this.t.indexOf(a)&&this.EO(a,c),this.Xa())},W$:function(a,c){a===r.eF&&r.log("cc.Node.removeChildByTag(): argument tag is an invalid tag");var d=this.SS(a);null==d?r.log("cocos2d: removeChildByTag(tag \x3d "+a+"): child not found!"):this.removeChild(d,c)},O$:function(a){r.log("removeAllChildrenWithCleanup is deprecated. Use removeAllChildren instead");this.jc(a)},jc:function(a){var c=this.t;if(null!=c){null==a&&(a=!0);for(var d=
0;d<c.length;d++){var e=c[d];e&&(this.We&&(e.yh(),e.Td()),a&&e.Zf(),e.ht(null))}this.t.length=0}},EO:function(a,c){this.We&&(a.yh(),a.Td());c&&a.Zf();a.ht(null);r.Yd(this.t,a)},fP:function(a,c){this.le=!0;this.t.push(a);a.aw(c)},at:function(a,c){if(!a)throw"cc.Node.reorderChild(): child must be non-null";this.le=!0;a.fq(r.vW++);a.aw(c);this.Xa()},Vd:function(){if(this.le){var a=this.t,c,d,e=a.length,f;for(c=0;c<e;c++){var g=a[c];d=c-1;for(f=a[d];0<=d&&(g.gb<f.gb||g.gb==f.gb&&g.Rf<f.Rf);)a[d+1]=f,
d-=1,f=a[d];a[d+1]=g}this.le=!1}},Wa:function(){},hy:function(){null!=this.U&&(this.U.hy(),this.U.transform())},Og:function(){this.EA=!1;this.We=!0;this.rg(this.t,r.D.Mf.Og);this.Ax()},ji:function(){this.EA=!0;this.rg(this.t,r.D.Mf.ji)},yh:function(){this.rg(this.t,r.D.Mf.yh)},Td:function(){this.We=!1;this.px();this.rg(this.t,r.D.Mf.Td);this.Di&&this.Di.ZV()},Bx:function(a){if(!a)throw"cc.Node.runAction(): action must be non-null";this.Hg().dR(a,this,!this.We);return a},gE:function(){this.Hg().nK(this)},
mY:function(a){this.Hg().mK(a)},Tca:function(a){a===r.Sn?r.log("cc.Node.stopActionBy(): argument tag an invalid tag"):this.Hg().YV(a,this)},xC:function(a){return a===r.Sn?(r.log("cc.Node.getActionByTag(): argument tag is an invalid tag"),null):this.Hg().xC(a,this)},G5:function(){return this.Hg().SU(this)},yW:function(){this.zW(0)},zW:function(a){this.Df().vK(this,a,!this.We)},Cda:function(){this.Df().nq(this)},$b:function(a,c,d,e){c=c||0;if(!a)throw"cc.Node.schedule(): callback function must be non-null";
if(0>c)throw"cc.Node.schedule(): interval must be positive";d=null==d?r.am:d;e=e||0;this.Df().xW(this,a,c,d,e,!this.We)},Dc:function(a,c){this.$b(a,0,0,c)},Rc:function(a){a&&this.Df().IL(this,a)},rt:function(){this.Df().HL(this)},Ax:function(){this.Df().zn(this);this.Hg().zn(this)},px:function(){this.Df().Zs(this);this.Hg().Zs(this)},xaa:function(a){this.Qu=a;this.Mq=this.Zj=!0},o$:function(){this.vv&&(this.uG=r.BE(this.cg()),this.vv=!1);return this.uG},Ws:function(){for(var a=this.cg(),c=this.U;null!=
c;c=c.getParent())a=r.Tl(a,c.cg());return a},IY:function(){return r.BE(this.Ws())},Ia:function(a){return r.qF(a,this.IY())},kl:function(a){return r.qF(a,this.Ws())},$R:function(a){return r.Gd(this.Ia(a),this.Nd)},Q2:function(a){a=r.eg(a,this.Nd);return this.kl(a)},V0:function(a){a=this.kl(a);return r.Z.e().aS(a)},$h:function(a){return this.Ia(a.J)},R2:function(a){a=a.J;a=r.Z.e().ZR(a);return this.$R(a)},update:function(a){this.Di&&!this.Di.h8()&&this.Di.sa(a)},jg:function(){this.rg(this.t,r.D.Mf.jg)},
tK:function(){},BD:function(){},TS:function(a){return this.Di.TS(a)},H1:function(a){this.Di.add(a)},X$:function(a){return this.Di.remove(a)},P$:function(){this.Di.ZV()},lH:null,zB:null,wA:null,to:null,Ok:null,ctor:null,Jh:function(){this.BA()},Kh:function(){this.BA();var a=new r.wh;a.xh[2]=a.xh[3]=a.xh[6]=a.xh[7]=a.xh[8]=a.xh[9]=a.xh[11]=a.xh[14]=0;a.xh[10]=a.xh[15]=1;this.lH=a;this.wA=0;this.zB=new r.wh},sa:null,Rm:function(a){if(this.la){a=a||r.X;var c,d=this.t,e;a.save();this.transform(a);var f=
d.length;if(0<f){this.Vd();for(c=0;c<f;c++)if(e=d[c],0>e.gb)e.sa(a);else break;for(this.Wa(a);c<f;c++)d[c].sa(a)}else this.Wa(a);this.Rf=0;a.restore()}},Sm:function(){if(this.la){var a=r.X,c,d=r.eS;d.stack.push(d.top);r.V8(this.zB,d.top);d.top=this.zB;var e=this.Ok;e&&e.WN&&e.aC();this.transform();var f=this.t;if(f&&0<f.length){var g=f.length;this.Vd();for(c=0;c<g;c++)if(f[c]&&0>f[c].gb)f[c].sa();else break;for(this.Wa(a);c<g;c++)f[c]&&f[c].sa()}else this.Wa(a);this.Rf=0;e&&e.WN&&e.XB(this);d.top=
d.stack.pop()}},transform:null,MQ:function(a){a=a||r.X;var c=r.ta.e(),d=this.cg();a.transform(d.I,d.Da,d.h,d.La,d.Za*c.xa,-d.$a*c.Ca)},NQ:function(){var a=this.lH,c=r.eS.top,d=this.cg(),e=a.xh;e[0]=d.I;e[4]=d.Da;e[12]=d.Za;e[1]=d.h;e[5]=d.La;e[13]=d.$a;e[14]=this.yw;r.FU(c,c,a);null==this.to||null!=this.Ok&&this.Ok.Qp()||(a=this.Nd.F,c=this.Nd.K,0!==a||0!==c?(r.DU(r.ng(a),r.ng(c),0),this.to.zJ(),r.DU(r.ng(-a),r.ng(-c),0)):this.to.zJ())},cg:null,wP:function(){this.Yj||(this.Yj={I:1,h:0,Da:0,La:1,Za:0,
$a:0});if(this.Zj){var a=this.Yj;a.Za=this.q.F;a.$a=this.q.K;var c=1,d=0;this.Ag&&(c=Math.cos(this.Bm),d=Math.sin(this.Bm));a.I=a.La=c;a.h=-d;a.Da=d;var e=this.xa,f=this.Ca,g=this.Nd.F,h=this.Nd.K,k=1E-6>e&&-1E-6<e?1E-6:e,l=1E-6>f&&-1E-6<f?1E-6:f;if(this.me||this.ne){var m=Math.tan(-this.me*Math.PI/180),n=Math.tan(-this.ne*Math.PI/180),p=h*m*k,q=g*n*l;a.I=c+-d*n;a.h=c*m+-d;a.Da=d+c*n;a.La=d*m+c;a.Za+=c*p+-d*q;a.$a+=d*p+c*q}if(1!==e||1!==f)a.I*=k,a.Da*=k,a.h*=l,a.La*=l;a.Za+=c*-g*k+-d*h*l;a.$a-=d*
-g*k+c*h*l;this.Rk&&(a.Za+=g,a.$a+=h);this.Mq&&(this.Yj=r.Tl(this.Yj,this.Qu),this.Mq=!1);this.Zj=!1}return this.Yj},xP:function(){if(this.Zj){var a=this.q.F,c=this.q.K,d=this.Nd.F,e=-d,f=this.Nd.K,g=-f,h=this.xa,k=this.Ca;this.Rk&&(a+=d,c+=f);var l=1,m=0,n=1,p=0;if(0!==this.Ag||0!==this.Rh)l=Math.cos(-this.Bm),m=Math.sin(-this.Bm),n=Math.cos(-this.Or),p=Math.sin(-this.Or);var q=this.me||this.ne;q||0===d&&0===f||(a+=n*e*h+-m*g*k,c+=p*e*h+l*g*k);a={I:n*h,h:p*h,Da:-m*k,La:l*k,Za:a,$a:c};q&&(a=r.Tl({I:1,
h:Math.tan(r.rj(this.ne)),Da:Math.tan(r.rj(this.me)),La:1,Za:0,$a:0},a),0!==d||0!==f)&&(a=r.oy(a,e,g));this.Mq&&(a=r.Tl(a,this.Qu),this.Mq=!1);this.Yj=a;this.Zj=!1}return this.Yj},Dm:function(){this.aG=!0;this.U&&this.U.Dm()},yC:function(){this.to||(this.to=new r.tq);return this.to},a5:function(){return this.Ok},aba:function(a){this.Ok=a},DC:function(){return this.Kc},Qg:function(a){this.Kc=a},Z4:function(){return this.wA},$aa:function(a){this.wA=a},i4:function(){var a=r.rect(0,0,this.wa.Ha,this.wa.va),
c=this.Ws(),a=r.Xg(a,this.Ws());if(!this.t)return a;for(var d=this.t,e=0;e<d.length;e++){var f=d[e];f&&f.la&&(f=f.mG(c))&&(a=r.wx(a,f))}return a},mG:function(a){var c=r.rect(0,0,this.wa.Ha,this.wa.va);a=null==a?this.cg():r.Tl(this.cg(),a);c=r.Xg(c,a);if(!this.t)return c;for(var d=this.t,e=0;e<d.length;e++){var f=d[e];f&&f.la&&(f=f.mG(a))&&(c=r.wx(c,f))}return c}});
r.Ga.Qc?(b=r.D.prototype,b.ctor=r.D.prototype.Kh,b.Xa=r.D.prototype.mQ,b.sa=r.D.prototype.Sm,b.transform=r.D.prototype.NQ,b.cg=r.D.prototype.xP):(b=r.D.prototype,b.ctor=r.D.prototype.Jh,b.Xa=r.D.prototype.lQ,b.sa=r.D.prototype.Rm,b.transform=r.D.prototype.MQ,b.cg=r.D.prototype.wP);r.D.create=function(){return new r.D};r.D.Mf={Og:1,Td:2,Zf:3,ji:4,jg:5,yh:6,Vd:7};
r.Bb=r.D.extend({lb:!0,Yb:255,zg:255,Ic:null,ke:null,wd:!1,ee:!1,ctor:function(){r.D.prototype.ctor.call(this);this.zg=this.Yb=255;this.Ic=r.Ab();this.ke=r.Ab();this.ee=this.wd=!1},Xi:function(){return this.zg},VS:function(){return this.Yb},ra:function(a){this.Yb=this.zg=a;a=255;var c=this.U;c&&c.lb&&c.ee&&(a=c.Yb);this.fd(a)},fd:function(a){this.Yb=this.zg*a/255;if(this.ee){a=this.t;for(var c=0;c<a.length;c++){var d=a[c];d&&d.lb&&d.fd(this.Yb)}}},vU:function(){return this.ee},EK:function(a){this.ee!==
a&&((this.ee=a)?this.ir():this.dA())},ir:function(){var a=255,c=this.U;c&&c.lb&&c.ee&&(a=c.Yb);this.fd(a)},dA:function(){this.Yb=this.zg;for(var a=this.t,c=0;c<a.length;c++){var d=a[c];d&&d.lb&&d.fd(255)}},Dd:function(){var a=this.ke;return new r.Ec(a.p,a.o,a.h)},Cs:function(){return this.Ic},n:function(a){var c=this.Ic,d=this.ke;c.p=d.p=a.p;c.o=d.o=a.o;c.h=d.h=a.h;a=(a=this.U)&&a.lb&&a.wd?a.Cs():r.Ab();this.ed(a)},ed:function(a){var c=this.Ic,d=this.ke;c.p=0|d.p*a.p/255;c.o=0|d.o*a.o/255;c.h=0|d.h*
a.h/255;if(this.wd)for(a=this.t,d=0;d<a.length;d++){var e=a[d];e&&e.lb&&e.ed(c)}},uU:function(){return this.wd},DK:function(a){this.wd!==a&&((this.wd=a)?this.hr():this.cA())},hr:function(){var a;a=(a=this.U)&&a.lb&&a.wd?a.Cs():r.Ab();this.ed(a)},cA:function(){var a=this.Ic,c=this.ke;a.p=c.p;a.o=c.o;a.h=c.h;for(var a=this.t,c=r.Ab(),d=0;d<a.length;d++){var e=a[d];e&&e.lb&&e.ed(c)}},f:function(a,c,d){r.D.prototype.f.call(this,a,c,d);this.wd&&this.hr();this.ee&&this.ir()},Jf:function(){},sl:function(){return!1}});
r.Bb.create=function(){var a=new r.Bb;a.r();return a};r.Zd=r.Bb.extend({lb:!0,AG:0,zG:0,xv:0,wv:0,Cj:null,Sa:null,pc:!1,ia:null,Lr:0,xA:!1,ctor:function(){r.Bb.prototype.ctor.call(this);this.Cj=r.Ab();this.ia={src:r.Le,Ib:r.Ke};this.xA=!1},Eda:function(){r.log("cc.AtlasNode.updateAtlasValues(): Shall be overridden in subclasses")},Dd:function(){return this.pc?this.Cj:r.Bb.prototype.Dd.call(this)},Jf:function(a){var c=this.Dd();this.pc=a;this.n(c)},sl:function(){return this.pc},Bs:function(){return this.ia},Fl:function(a,c){this.ia=1==arguments.length?
a:{src:a,Ib:c}},iq:function(a){this.Sa=a},KI:function(){return this.Sa},m6:function(){return this.Lr},Oba:function(a){this.Lr=a},Lm:null,vg:null,oH:null,Zu:null,kU:function(a,c,d,e){if(!a)throw"cc.AtlasNode.initWithTileFile(): title should not be null";a=r.ga.e().qa(a);return this.Ma(a,c,d,e)},Ma:null,wr:function(a,c,d,e){this.xv=c;this.wv=d;this.pc=!0;this.vg=a;if(!this.vg)return r.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.Lm=this.vg;this.Vu();this.Lr=e;return!0},
xr:function(a,c,d,e){this.xv=c;this.wv=d;this.Cj=r.Ab();this.pc=!0;this.ia.src=r.Le;this.ia.Ib=r.Ke;c=this.ke;this.Zu=new Float32Array([c.p/255,c.o/255,c.h/255,this.zg/255]);this.Sa=new r.fo;this.Sa.Ma(a,e);if(!this.Sa)return r.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.Qm();this.vH();this.Vu();this.Lr=e;this.Qg(r.Hh.e().li(r.c0));this.oH=r.X.getUniformLocation(this.DC().Ww(),"u_color");return!0},Wa:null,ug:function(a){a=a||r.X;r.Py(this);r.gk(this.ia.src,this.ia.Ib);
a.uniform4fv(this.oH,this.Zu);this.Sa.kI(this.Lr,0)},n:null,Qr:function(a){var c=this.ke;if(c.p!=a.p||c.o!=a.o||c.h!=a.h){c=new r.Ec(a.p,a.o,a.h);this.Cj=a;if(this.pc){var d=this.Yb;c.p=c.p*d/255;c.o=c.o*d/255;c.h=c.h*d/255}r.Bb.prototype.n.call(this,a);this.aa()&&(a=this.vg.Jc)&&(c=r.ga.e().LI(a))&&(d=r.rect(0,0,a.width,a.height),a=r.wC(a,c,this.ke,d),c=new r.bc,c.Ff(a),c.De(),this.fa(c))}},lB:function(a){var c=r.Ec(a.p,a.o,a.h);this.Cj=a;var d=this.Yb;this.pc&&(c.p=c.p*d/255,c.o=c.o*d/255,c.h=c.h*
d/255);r.Bb.prototype.n.call(this,a);a=this.Ic;this.Zu=new Float32Array([a.p/255,a.o/255,a.h/255,d/255])},ra:null,Sr:function(a){r.Bb.prototype.ra.call(this,a);this.pc&&this.n(this.Cj)},oB:function(a){r.Bb.prototype.ra.call(this,a);this.pc?this.n(this.Cj):(a=this.Ic,this.Zu=new Float32Array([a.p/255,a.o/255,a.h/255,this.Yb/255]))},aa:null,tA:function(){return this.Lm},uA:function(){return this.Sa.aa()},fa:null,Tr:function(a){this.Lm=a},Ur:function(a){this.Sa.fa(a);this.Qm();this.vH()},Vu:null,mO:function(){var a=
this.aa().c();this.zG=0|a.height/this.wv;this.AG=0|a.width/this.xv},nO:function(){var a=this.aa(),c=a.c();this.xA&&(c=a.wa);this.zG=0|c.height/this.wv;this.AG=0|c.width/this.xv},Qm:function(){this.Sa.aa().Ls()||(this.ia.src=770,this.ia.Ib=771)},vH:function(){this.pc=this.Sa.aa().Ls()},nB:function(a){this.xA=a}});
r.Ga.Qc?(b=r.Zd.prototype,b.Ma=r.Zd.prototype.xr,b.Wa=r.Zd.prototype.ug,b.n=r.Zd.prototype.lB,b.ra=r.Zd.prototype.oB,b.aa=r.Zd.prototype.uA,b.fa=r.Zd.prototype.Ur,b.Vu=r.Zd.prototype.nO):(b=r.Zd.prototype,b.Ma=r.Zd.prototype.wr,b.Wa=r.D.prototype.Wa,b.n=r.Zd.prototype.Qr,b.ra=r.Zd.prototype.Sr,b.aa=r.Zd.prototype.tA,b.fa=r.Zd.prototype.Tr,b.Vu=r.Zd.prototype.mO);r.Zd.create=function(a,c,d,e){var f=new r.Zd;return f.kU(a,c,d,e)?f:null};r.vj=0;r.Dq=1;r.Cq=2;r.Bq=3;r.fz=4;r.ez=5;r.zu=6;r.yu=7;r.BF=8;r.AF=9;r.zF=r.vj;r.Wz=r.zF;r.jN=!1;r.w1=function(a,c,d,e){this.OU=a||0;this.LU=c||0;this.VL=d||0;this.WL=e||0};
r.zN=r.Ea.extend({AP:null,Sf:null,jh:null,ih:null,IA:null,wa:null,eh:null,fh:null,Jo:null,qm:!1,Kc:null,uc:!1,Jc:null,Zh:null,Od:null,ctor:function(){this.ih=this.jh=0;this.IA="";this.fh=this.eh=0;this.Jo=!1;this.wa=r.Fm();this.qm=!1;this.AP=!0;this.Sf=r.bc.fS();this.Kc=null;this.uc=!1;this.Zh=this.Jc=null;this.Od=[]},CD:function(){this.Zh&&r.X.deleteTexture(this.Zh)},Z5:function(){return this.Sf},Gp:function(){return this.jh},Fp:function(){return this.ih},getName:function(){return this.Zh},c:function(){return r.size(this.wa.width/
r.Kd(),this.wa.height/r.Kd())},US:function(){return this.wa},cT:function(){return this.eh},mX:function(a){this.eh=a},dT:function(){return this.fh},nX:function(a){this.fh=a},DC:function(){return this.Kc},Qg:function(a){this.Kc=a},Ls:function(){return this.Jo},UT:function(){return this.qm},description:function(){return"\x3ccc.Texture2D | Name \x3d "+this.IA+" | Dimensions \x3d "+this.jh+" x "+this.ih+" | Coordinates \x3d ("+this.eh+", "+this.fh+")\x3e"},WV:function(){},BU:function(a){return a},ax:function(a,
c,d,e,f){var g=r.X,h=0,h=c===r.vj?24:this.TH(c),h=d*h/8;0===h%8?g.pixelStorei(g.UNPACK_ALIGNMENT,8):0===h%4?g.pixelStorei(g.UNPACK_ALIGNMENT,4):0===h%2?g.pixelStorei(g.UNPACK_ALIGNMENT,2):g.pixelStorei(g.UNPACK_ALIGNMENT,1);this.Zh=g.createTexture();r.Ig(this);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE);
switch(c){case r.vj:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_BYTE,a);break;case r.Dq:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_BYTE,a);break;case r.zu:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_4_4_4_4,a);break;case r.yu:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_5_5_5_1,a);break;case r.Cq:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_SHORT_5_6_5,a);break;case r.ez:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE_ALPHA,
d,e,0,g.LUMINANCE_ALPHA,g.UNSIGNED_BYTE,a);break;case r.Bq:g.texImage2D(g.TEXTURE_2D,0,g.ALPHA,d,e,0,g.ALPHA,g.UNSIGNED_BYTE,a);break;case r.fz:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE,d,e,0,g.LUMINANCE,g.UNSIGNED_BYTE,a);break;default:throw"NSInternalInconsistencyException";}this.wa.Ha=f.width;this.wa.va=f.height;this.jh=d;this.ih=e;this.Sf=c;this.eh=f.width/d;this.fh=f.height/e;this.qm=this.Jo=!1;this.Qg(r.Hh.e().li(r.oN));return this.uc=!0},vS:function(a){var c=[0,this.fh,this.eh,this.fh,0,0,this.eh,
0],d=this.jh*this.eh,e=this.ih*this.fh;a=[a.x,a.y,0,d+a.x,a.y,0,a.x,e+a.y,0,d+a.x,e+a.y,0];r.ye(r.Zg|r.IN);this.Kc.of();this.Kc.fL();r.Ig(this);d=r.X;d.vertexAttribPointer(r.Oe,2,d.FLOAT,!1,0,a);d.vertexAttribPointer(r.Hq,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},xS:function(a){var c=[0,this.fh,this.eh,this.fh,0,0,this.eh,0];a=[a.x,a.y,a.x+a.width,a.y,a.x,a.y+a.height,a.x+a.width,a.y+a.height];r.ye(r.Zg|r.IN);this.Kc.of();this.Kc.fL();r.Ig(this);var d=r.X;d.vertexAttribPointer(r.Oe,2,
d.FLOAT,!1,0,a);d.vertexAttribPointer(r.Hq,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},SC:function(a){if(null==a)return r.log("cocos2d: cc.Texture2D. Can't create Texture. UIImage is nil"),!1;var c=a.Js(),d=a.Ds(),e=r.Me.e().Er;if(c>e||d>e)return r.log("cocos2d: WARNING: Image ("+c+" x "+d+") is bigger than the supported "+e+" x "+e),!1;this.uc=!0;return this.XO(a,c,d)},Ff:function(a){a&&(this.Zh=r.X.createTexture(),this.Jc=a)},YS:function(){return this.Jc},Lg:function(){return this.uc},
De:function(){this.uc=!0;var a=r.X;r.Ig(this);a.pixelStorei(a.UNPACK_ALIGNMENT,4);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,this.Jc);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);this.Qg(r.Hh.e().li(r.oN));r.Ig(null);a=this.Jc.height;this.jh=this.wa.Ha=this.Jc.width;this.ih=this.wa.va=
a;this.Sf=r.vj;this.fh=this.eh=1;this.qm=this.Jo=!1;this.de()},ql:function(a,c,d,e,f,g){3==arguments.length&&(c=arguments[1],d=arguments[2],e=r.size(0,0),f=r.wj,g=r.Jq);var h=new r.DM,k;if(r.Jq===g)k=r.wj===f?r.RY:r.Eq===f?r.SY:r.TY;else if(r.Iu===g)k=r.wj===f?r.OY:r.Eq===f?r.PY:r.QY;else if(r.Iq===g)k=r.wj===f?r.LY:r.Eq===f?r.MY:r.NY;else return r.log("Not supported alignment format!"),!1;return h.ql(a,e.width,e.height,k,c,d)?this.SC(h):!1},dU:function(){return!1},eJ:function(a){var c=!1,d=new r.s0;
(c=d.K7(a))?(d.Wba(!0),this.IA=d.getName(),this.fh=this.eh=1,this.jh=d.Js(),this.ih=d.Ds(),this.wa.Ha=this.jh,this.wa.va=this.ih,this.Jo=r.jN,this.Sf=d.X4(),this.zK()):r.log("cocos2d: Couldn't load PVR image "+a);return c},hU:function(){return r.Me.e().cs?!0:(r.log("cocos2d: WARNING: PVRTC images is not supported."),!1)},NX:function(a){var c=r.X;r.Bt(this.jh==r.Yn(this.jh)&&this.ih==r.Yn(this.ih)||a.VL==c.CLAMP_TO_EDGE&&a.WL==c.CLAMP_TO_EDGE,"WebGLRenderingContext.CLAMP_TO_EDGE should be used in NPOT textures");
r.Ig(this);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,a.OU);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,a.LU);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,a.VL);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,a.WL)},zK:function(){var a=r.X;r.Ig(this);this.qm?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},yK:function(){var a=r.X;r.Ig(this);
this.qm?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},generateMipmap:function(){r.Bt(this.jh==r.Yn(this.jh)&&this.ih==r.Yn(this.ih),"Mimpap texture only works in POT textures");r.Ig(this);r.X.generateMipmap(r.X.TEXTURE_2D);this.qm=!0},nY:function(){switch(this.Sf){case r.vj:return"RGBA8888";case r.Dq:return"RGB888";case r.Cq:return"RGB565";case r.zu:return"RGBA4444";
case r.yu:return"RGB5A1";case r.ez:return"AI88";case r.Bq:return"A8";case r.fz:return"I8";case r.BF:return"PVRTC4";case r.AF:return"PVRTC2";default:r.log("stringForFormat: "+this.Sf+", cannot give useful result, it's a unrecognized pixel format")}return""},TH:function(a){a=a||this.Sf;switch(a){case r.vj:return 32;case r.Dq:return 32;case r.Cq:return 16;case r.Bq:return 8;case r.zu:return 16;case r.yu:return 16;case r.BF:return 4;case r.AF:return 2;case r.fz:return 8;case r.ez:return 16;default:return r.log("bitsPerPixelForFormat: "+
this.Sf+", cannot give useful result, it's a illegal pixel format"),-1}},XO:function(a,c,d){var e=a.getData(),f=null,f=null,g=a.z7(),h=r.size(a.Js(),a.Ds()),k=r.zF,l=a.g4();g||(8<=l?k=r.Dq:(r.log("cocos2d: cc.Texture2D: Using RGB565 texture since image has no alpha"),k=r.Cq));var m=c*d;if(k==r.Cq)if(g)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>2<<5|(f[l]>>16&255)>>3<<0;else for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]&255)>>3<<
11|(f[l]&255)>>2<<5|(f[l]&255)>>3<<0;else if(k==r.zu)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>4<<12|(f[l]>>8&255)>>4<<8|(f[l]>>16&255)>>4<<4|(f[l]>>24&255)>>4<<0;else if(k==r.yu)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>3<<6|(f[l]>>16&255)>>3<<1|(f[l]>>24&255)>>7<<0;else if(k==r.Bq)for(e=new Uint8Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=f>>24&255;if(g&&k==r.Dq)for(f=a.getData(),e=new Uint8Array(c*d*3),l=0;l<m;++l)e[3*
l]=f>>0&255,e[3*l+1]=f>>8&255,e[3*l+2]=f>>16&255;this.ax(e,k,c,d,h);a.getData();this.Jo=a.v8();return!0},Xf:function(a,c){this.Od.push({fk:a,bi:c})},eW:function(a){for(var c=this.Od,d=0;d<c.length;d++)c[d].bi==a&&c.splice(d,1)},de:function(){for(var a=this.Od,c=0,d=a.length;c<d;c++){var e=a[c];e.fk.call(e.bi,this)}a.length=0}});
r.yN=r.Ea.extend({wa:null,uc:!1,Jc:null,Od:null,ctor:function(){this.wa=r.Fm();this.uc=!1;this.Jc=null;this.Od=[]},Gp:function(){return this.wa.Ha},Fp:function(){return this.wa.va},c:function(){var a=r.Kd();return r.size(this.wa.Ha/a,this.wa.va/a)},US:function(){return this.wa},Ff:function(a){a&&(this.Jc=a)},YS:function(){return this.Jc},Lg:function(){return this.uc},De:function(){this.uc=!0;var a=this.Jc;this.wa.Ha=a.width;this.wa.va=a.height;this.de()},description:function(){return"\x3ccc.Texture2D | width \x3d "+
this.wa.Ha+" height "+this.wa.va+"\x3e"},ax:function(){return!1},SC:function(){return!1},ql:function(){return!1},CD:function(){},getName:function(){return null},cT:function(){return 1},mX:function(){},dT:function(){return 1},nX:function(){},DC:function(){return null},Qg:function(){},Ls:function(){return!1},UT:function(){return!1},WV:function(){},BU:function(a){return a},vS:function(){},xS:function(){},dU:function(){return!1},eJ:function(){return!1},hU:function(){return!0},NX:function(){},zK:function(){},
yK:function(){},generateMipmap:function(){},nY:function(){return""},TH:function(){return-1},Xf:function(a,c){this.Od.push({fk:a,bi:c})},eW:function(a){for(var c=this.Od,d=0;d<c.length;d++)c[d].bi==a&&c.splice(d,1)},de:function(){for(var a=this.Od,c=0,d=a.length;c<d;c++){var e=a[c];e.fk.call(e.bi,this)}a.length=0}});r.bc=r.Ga.Qc?r.zN:r.yN;r.bc.Maa=function(a){r.Wz=a};r.bc.fS=function(){return r.Wz};r.bc.E4=function(){return r.Wz};r.As=null;r.h9=function(a){if(r.WR(a)==r.xM)r.log("unsupported format:"+a);else{var c=new Image;c.src=a;c.addEventListener("load",function(){r.ga.e().zR(a,c);this.removeEventListener("load",arguments.callee,!1)},!1)}};r.WR=function(a){return 0<a.toLowerCase().indexOf(".jpg")||0<a.toLowerCase().indexOf(".jpeg")?r.QZ:0<a.toLowerCase().indexOf(".png")?r.RZ:0<a.toLowerCase().indexOf(".webp")?r.TZ:r.xM};
r.ga=r.Ea.extend({rb:null,ds:null,lw:null,QG:!1,Av:null,Bv:null,ctor:function(){if(r.As)throw"Attempted to allocate a second instance of a singleton.";this.lw+=0|1E3*Math.random();this.rb={};this.ds={};r.Hd===r.Ck&&(this.Av={},this.Bv={})},zz:function(a,c){if(a&&"string"===typeof c)a[c]();else a&&"function"===typeof c&&c.call(a)},eP:function(){this.QG=!0;var a,c=this.Av,d=this.rb;for(a in c){var e=c[a],f=new r.bc;f.Ff(e);f.De();d[a]=f}this.Av={}},O1:function(){r.log("TextureCache:addPVRTCImage does not support on HTML5")},
J1:function(){r.log("TextureCache:addPVRTCImage does not support on HTML5")},description:function(){return"\x3cTextureCache | Number of textures \x3d "+this.rb.length+"\x3e"},dy:function(a){a=r.Ld.e().ue(a);return this.rb.hasOwnProperty(a)?this.rb[a]:null},$S:function(a){for(var c in this.rb)if(this.rb[c]==a)return c;return null},OO:function(){this.lw++;return"_textureKey_"+this.lw},LI:function(a){var c=this.$S(a);c||(c=a instanceof HTMLImageElement?a.src:this.OO());this.ds.hasOwnProperty(c)||(this.ds[c]=
r.Ap(a));return this.ds[c]},N1:function(a){if(!a)throw"cc.TextureCache.addPVRImage(): path should be non-null";a=r.Ld.e().ue(a);if(null!=this.rb[a])return this.rb[a];var c=new r.bc;c.eJ(a)?this.rb[a]=c:r.log("cocos2d: Couldn't add PVRImage:"+a+" in TextureCache");return c},S$:function(){var a=this.rb,c;for(c in a)a[c]&&a[c].CD();this.rb={}},gaa:function(a){if(a){var c=this.rb,d;for(d in c)c[d]==a&&(c[d].CD(),delete c[d])}},iW:function(a){null!=a&&(a=r.Ld.e().ue(a),this.rb[a]&&delete this.rb[a])},
K1:function(a,c,d){if(!a)throw"cc.TextureCache.addImageAsync(): path should be non-null";a=r.Ld.e().ue(a);var e=this.rb[a],f,g;if(e)e.Lg()?this.zz(c,d):(g=this,f=e.Jc,f.addEventListener("load",function(){e.De();g.zz(c,d);this.removeEventListener("load",arguments.callee,!1)}));else{f=new Image;f.crossOrigin="Anonymous";g=this;f.addEventListener("load",function(){g.rb.hasOwnProperty(a)&&g.rb[a].De();g.zz(c,d);this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,
!1)});f.addEventListener("error",function(){r.ac.e().qn(a);g.rb.hasOwnProperty(a)&&delete g.rb[a];this.removeEventListener("error",arguments.callee,!1)});f.src=a;var h=new r.bc;h.Ff(f);this.rb[a]=h}return this.rb[a]},YN:function(a){var c=new Image;c.crossOrigin="Anonymous";var d=this;c.addEventListener("load",function(){r.ac.e().ki();d.Av[a]=c;delete d.Bv[a];this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});c.addEventListener("error",function(){r.ac.e().qn(a);
delete d.Bv[a];this.removeEventListener("error",arguments.callee,!1)});c.src=a;this.Bv[a]=c},qa:function(a){if(!a)throw"cc.Texture.addImage(): path should be non-null";if(r.Hd===r.Ck&&!this.QG)return this.YN(a);a=r.Ld.e().ue(a);var c=this.rb[a],d;if(c)c.Lg()?r.ac.e().ki():(d=c.Jc,d.addEventListener("load",function(){c.De();r.ac.e().ki();this.removeEventListener("load",arguments.callee,!1)}));else{d=new Image;d.crossOrigin="Anonymous";var e=this;d.addEventListener("load",function(){r.ac.e().ki();e.rb.hasOwnProperty(a)&&
e.rb[a].De();this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});d.addEventListener("error",function(){r.ac.e().qn(a);e.rb.hasOwnProperty(a)&&delete e.rb[a];this.removeEventListener("error",arguments.callee,!1)});d.src=a;var f=new r.bc;f.Ff(d);this.rb[a]=f}return this.rb[a]},zR:function(a,c){if(c instanceof r.bc)this.rb[a]=c;else{var d=new r.bc;d.Ff(c);d.De();this.rb[a]=d}},T1:function(a,c){if(!a)throw"cc.Texture.addUIImage(): image should be non-null";
if(c&&this.rb.hasOwnProperty(c)&&this.rb[c])return this.rb[c];var d=new r.bc;d.SC(a);null!=c&&null!=d?this.rb[c]=d:r.log("cocos2d: Couldn't add UIImage in TextureCache");return d},m3:function(){var a=0,c=0,d=this.rb,e;for(e in d){var f=d[e];a++;f.Jc instanceof HTMLImageElement?r.log("cocos2d: '"+e+"' id\x3d"+f.Jc.src+" "+f.Gp()+" x "+f.Fp()):r.log("cocos2d: '"+e+"' id\x3d HTMLCanvasElement "+f.Gp()+" x "+f.Fp());c+=f.Gp()*f.Fp()*4}d=this.ds;for(e in d){var f=d[e],g;for(g in f){var h=f[g];a++;r.log("cocos2d: '"+
e+"' id\x3d HTMLCanvasElement "+h.width+" x "+h.height);c+=h.width*h.height*4}}r.log("cocos2d: TextureCache dumpDebugInfo: "+a+" textures, HTMLCanvasElement for "+c/1024+" KB ("+(c/1048576).toFixed(2)+" MB)")}});r.ga.e=function(){r.As||(r.As=new r.ga);return r.As};r.ga.IV=function(){r.As=null};r.fo=r.Ea.extend({yd:null,Bi:null,Ja:!1,jd:0,Fa:null,Te:null,xg:null,Mr:null,yg:null,ctor:function(){this.Bi=[]},b7:function(){return this.Ua},o4:function(){return this.jd},aa:function(){return this.Fa},fa:function(a){this.Fa=a},Pg:function(a){this.Ja=a},pJ:function(){return this.Ja},l6:function(){return this.Te},Nba:function(a){this.Te=a},W0:function(a,c){if(a)for(var d=0;d<a.length;d++)this.$v(a[d],c+d)},$v:function(a,c){var d=this.Te;d[c]?(d[c].Ka=a.Ka,d[c].Va=a.Va,d[c].Ta=a.Ta,d[c].Oa=a.Oa):d[c]=
new r.dc(a.Ta,a.Ka,a.Oa,a.Va,this.xg,c*r.dc.BYTES_PER_ELEMENT)},description:function(){return"\x3ccc.TextureAtlas | totalQuads \x3d"+this.Ua+"\x3e"},cH:function(){if(0!==this.jd)for(var a=this.yd,c=this.jd,d=0;d<c;d++)r.CF?(a[6*d+0]=4*d+0,a[6*d+1]=4*d+0,a[6*d+2]=4*d+2,a[6*d+3]=4*d+1,a[6*d+4]=4*d+3,a[6*d+5]=4*d+3):(a[6*d+0]=4*d+0,a[6*d+1]=4*d+1,a[6*d+2]=4*d+2,a[6*d+3]=4*d+3,a[6*d+4]=4*d+2,a[6*d+5]=4*d+1)},BQ:function(){var a=r.X;this.Bi[0]=a.createBuffer();this.Bi[1]=a.createBuffer();this.Mr=a.createBuffer();
this.CG()},CG:function(){var a=r.X;a.bindBuffer(a.ARRAY_BUFFER,this.Mr);a.bufferData(a.ARRAY_BUFFER,this.xg,a.DYNAMIC_DRAW);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Bi[1]);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.yd,a.STATIC_DRAW)},bj:function(a,c){var d=r.ga.e().qa(a);if(d)return this.Ma(d,c);r.log("cocos2d: Could not open file: "+a);return!1},Ma:function(a,c){if(!a)throw"cc.TextureAtlas.initWithTexture():texture should be non-null";this.jd=c|=0;this.Ua=0;this.Fa=a;this.Te=[];this.yd=new Uint16Array(6*
c);var d=r.dc.BYTES_PER_ELEMENT;this.xg=new ArrayBuffer(d*c);this.yg=new Uint8Array(this.xg);if((!this.Te||!this.yd)&&0<c)return!1;for(var e=this.Te,f=0;f<c;f++)e[f]=new r.dc(null,null,null,null,this.xg,f*d);this.cH();this.BQ();return this.Ja=!0},jy:function(a,c){if(!a)throw"cc.TextureAtlas.updateQuad(): quad should be non-null";if(0>c||c>=this.jd)throw"cc.TextureAtlas.updateQuad(): Invalid index";this.Ua=Math.max(c+1,this.Ua);this.$v(a,c);this.Ja=!0},YC:function(a,c){if(c>=this.jd)throw"cc.TextureAtlas.insertQuad(): Invalid index";
this.Ua++;if(this.Ua>this.jd)r.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");else{var d=r.dc.BYTES_PER_ELEMENT,e=c*d,f=(this.Ua-1-c)*d;this.Te[this.Ua-1]=new r.dc(null,null,null,null,this.xg,(this.Ua-1)*d);this.yg.set(this.yg.subarray(e,e+f),e+d);this.$v(a,c);this.Ja=!0}},Q7:function(a,c,d){d=d||a.length;if(c+d>this.jd)throw"cc.TextureAtlas.insertQuad(): Invalid index + amount";var e=r.dc.BYTES_PER_ELEMENT;this.Ua+=d;if(this.Ua>this.jd)r.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");
else{var f=c*e,g=(this.Ua-1-c-d)*e,h=this.Ua-1-d,k;for(k=0;k<d;k++)this.Te[h+k]=new r.dc(null,null,null,null,this.xg,(this.Ua-1)*e);this.yg.set(this.yg.subarray(f,f+g),f+e*d);for(k=0;k<d;k++)this.$v(a[k],c+k);this.Ja=!0}},P7:function(a,c){if(a!==c){if(0>c&&c>=this.Ua)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid newIndex";if(0>a&&a>=this.Ua)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid fromIndex";var d=r.dc.BYTES_PER_ELEMENT,e=this.yg,f=e.subarray(a*d,d),g;a>c?(g=c*d,e.set(e.subarray(g,
g+(a-c)*d),g+d),e.set(f,g)):(g=(a+1)*d,e.set(e.subarray(g,g+(c-a)*d),g-d),e.set(f,c*d));this.Ja=!0}},gW:function(a){if(a>=this.Ua)throw"cc.TextureAtlas.removeQuadAtIndex(): Invalid index";var c=r.dc.BYTES_PER_ELEMENT;this.Ua--;this.Te.length=this.Ua;if(a!==this.Ua){var d=(a+1)*c;this.yg.set(this.yg.subarray(d,d+(this.Ua-a)*c),d-c)}this.Ja=!0},Z$:function(a,c){if(a+c>this.Ua)throw"cc.TextureAtlas.removeQuadsAtIndex(): index + amount out of bounds";this.Ua-=c;if(a!==this.Ua){var d=r.dc.BYTES_PER_ELEMENT,
e=(a+c)*d;this.yg.set(this.yg.subarray(e,e+(this.Ua-a)*d),a*d)}this.Ja=!0},aW:function(){this.Ua=this.Te.length=0},t1:function(a){this.Ja=a},mW:function(a){if(a==this.jd)return!0;var c=r.dc.BYTES_PER_ELEMENT,d=this.jd;this.Ua=Math.min(this.Ua,a);var e=this.jd=0|a,f=this.Ua;if(null==this.Te)for(this.Te=[],this.xg=new ArrayBuffer(c*e),this.yg=new Uint8Array(this.xg),a=0;a<e;a++)this.Te=new r.dc(null,null,null,null,this.xg,a*c);else{var g,h,k=this.Te;if(e>d){g=[];h=new ArrayBuffer(c*e);for(a=0;a<f;a++)g[a]=
new r.dc(k[a].Ta,k[a].Ka,k[a].Oa,k[a].Va,h,a*c);for(;a<e;a++)g[a]=new r.dc(null,null,null,null,h,a*c)}else for(f=Math.max(f,e),g=[],h=new ArrayBuffer(c*e),a=0;a<f;a++)g[a]=new r.dc(k[a].Ta,k[a].Ka,k[a].Oa,k[a].Va,h,a*c);this.yg=new Uint8Array(h);this.Te=g;this.xg=h}null==this.yd?this.yd=new Uint16Array(6*e):e>d?(c=new Uint16Array(6*e),c.set(this.yd,0),this.yd=c):this.yd=this.yd.subarray(0,6*e);this.cH();this.CG();return this.Ja=!0},H7:function(a){this.Ua+=a},s9:function(a,c,d){if(2==arguments.length){d=
c;c=this.Ua-a;if(d+(this.Ua-a)>this.jd)throw"cc.TextureAtlas.moveQuadsFromIndex(): move is out of bounds";if(0===c)return}else{if(d+c>this.Ua)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid newIndex";if(a>=this.Ua)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid oldIndex";if(a==d)return}var e=r.dc.BYTES_PER_ELEMENT,f=a*e,g=c*e,h=this.yg,k=h.subarray(f,f+g),l=d*e,m;d<a?(m=d*e,h.set(h.subarray(m,m+(a-d)*e),m+g)):(m=(a+c)*e,h.set(h.subarray(m,m+(d-a)*e),f));h.set(k,l);this.Ja=!0},M3:function(a,
c){for(var d=c*r.dc.BYTES_PER_ELEMENT,e=new Uint8Array(this.xg,a*r.dc.BYTES_PER_ELEMENT,d),f=0;f<d;f++)e[f]=0},kI:function(a,c){c=c||0;if(0!==a&&this.Fa&&this.Fa.Lg()){var d=r.X;r.Ig(this.Fa);r.ye(r.Hu);d.bindBuffer(d.ARRAY_BUFFER,this.Mr);this.Ja&&d.bufferData(d.ARRAY_BUFFER,this.xg,d.DYNAMIC_DRAW);d.vertexAttribPointer(r.Oe,3,d.FLOAT,!1,24,0);d.vertexAttribPointer(r.Gq,4,d.UNSIGNED_BYTE,!0,24,12);d.vertexAttribPointer(r.Hq,2,d.FLOAT,!1,24,16);this.Ja&&(this.Ja=!1);d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,
this.Bi[1]);r.CF?d.drawElements(d.TRIANGLE_STRIP,6*a,d.UNSIGNED_SHORT,6*c*this.yd.BYTES_PER_ELEMENT):d.drawElements(d.TRIANGLES,6*a,d.UNSIGNED_SHORT,6*c*this.yd.BYTES_PER_ELEMENT);r.ci++}},yS:function(){this.kI(this.Ua,0)},q1:function(){var a=r.X;this.Bi&&(this.Bi[0]&&a.deleteBuffer(this.Bi[0]),this.Bi[1]&&a.deleteBuffer(this.Bi[1]));this.Mr&&a.deleteBuffer(this.Mr)}});r.fo.create=function(a,c){var d=new r.fo;return d&&d.bj(a,c)?d:null};r.fo.eb=function(a,c){var d=new r.fo;return d&&d.Ma(a,c)?d:null};r.zq=r.D.extend({ctor:function(){r.D.prototype.ctor.call(this);this.Rk=!0;this.G(0.5,0.5);this.V(r.Z.e().Rb)}});r.zq.create=function(){return new r.zq};r.gz=0;r.n0=1;
r.Sc=r.D.extend({Tk:!1,Sk:!1,Lo:!1,fl:0,ls:r.gz,sm:!1,Uo:0,ctor:function(){r.D.prototype.ctor.call(this);this.Lo=this.Sk=this.Tk=!1;this.fl=0;this.ls=r.gz;this.sm=!1;this.Uo=0},WO:function(){this.G(0.5,0.5);this.Rk=!0;var a=r.Z.e();this.V(a.Rb)},r:function(){r.D.prototype.r.call(this);this.WO();return!0},xx:function(){this.ls===r.gz?r.VV(this,this.fl):r.yD(this.fl,!0,this)},o8:function(){return this.sm},Jx:function(a){if(!r.be)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.sm!=
a&&(this.sm=a,this.We&&(a?r.Z.e().Cf().JH(this,this.Uo):r.Z.e().Cf().oK(this)))},tba:function(a){if(!r.be)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.Uo!==a&&(this.Uo=a,this.sm&&(this.Jx(!1),this.Jx(!0)))},D5:function(){return this.Uo},H8:function(){return this.Tk},Wb:function(a){this.Tk!==a&&(this.Tk=a,this.We&&(a?this.xx():r.GL(this)))},f7:function(){return this.fl},jq:function(a){this.fl!==a&&(this.fl=a,this.Tk&&(this.Wb(!1),this.Wb(!0)))},e7:function(){return this.ls},
$D:function(a){this.ls!==a&&(this.ls=a,this.Tk&&(this.Wb(!1),this.Wb(!0)))},W7:function(){return this.Sk},vaa:function(a){if(!r.wk)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";if(a!==this.Sk&&(this.Sk=a,this.We)){var c=r.Z.e();a?c.Bp().Bh(this):c.Bp().Bh(null)}},GW:function(a){this.Sk&&r.wk&&r.Z.e().Bp().GW(a)},K9:function(){r.log("onAccelerometer event should be handled.")},n8:function(){return this.Lo},kba:function(a){if(!r.Xn)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";
if(a!==this.Lo&&(this.Lo=a,this.We)){var c=r.Z.e();a?c.Uw().eR(this):c.Uw().cW(this)}},Og:function(){var a=r.Z.e();this.Tk&&this.xx();r.D.prototype.Og.call(this);this.Sk&&r.wk&&a.Bp().Bh(this);this.Lo&&r.Xn&&a.Uw().eR(this);this.sm&&r.be&&a.Cf().JH(this,this.Uo)},Td:function(){var a=r.Z.e();this.Tk&&r.GL(this);this.Sk&&r.wk&&a.Bp().Bh(null);this.Lo&&r.Xn&&a.Uw().cW(this);this.sm&&r.be&&a.Cf().oK(this);r.D.prototype.Td.call(this)},ji:function(){this.Sk&&r.wk&&r.Z.e().Bp().Bh(this);r.D.prototype.ji.call(this)},
jb:function(){r.log("onTouchBegan event should be handled.");return!0},ud:function(){},Gf:function(){},lk:function(){},PJ:function(){},SJ:function(){},RJ:function(){},QJ:function(){},WU:function(){return!1},XU:function(){return!1},gj:function(){return!1},$U:function(){return!1},dV:function(){return!1},eV:function(){return!1},fV:function(){return!1},aV:function(){return!1},bV:function(){return!1},cV:function(){return!1},gV:function(){return!1},YU:function(){return!1},ZU:function(){return!1},lD:function(){},
zl:function(){}});r.Sc.create=function(){var a=new r.Sc;return a&&a.r()?a:null};
r.Fh=r.Sc.extend({lb:!0,Yb:0,zg:0,Ic:null,ke:null,ee:!1,wd:!1,ctor:function(){r.Sc.prototype.ctor.call(this);this.lb=!0;this.zg=this.Yb=255;this.Ic=r.Ab();this.ke=r.Ab();this.wd=this.ee=!1},r:function(){return r.Sc.prototype.r.call(this)?(this.EK(!1),this.DK(!1),!0):!1},Xi:function(){return this.zg},VS:function(){return this.Yb},ra:function(a){this.Yb=this.zg=a;a=255;var c=this.U;c&&c.lb&&c.ee&&(a=c.Yb);this.fd(a)},fd:function(a){this.Yb=0|this.zg*a/255;if(this.ee){a=this.t;for(var c=0;c<a.length;c++){var d=
a[c];d&&d.lb&&d.fd(this.Yb)}}},vU:function(){return this.ee},EK:function(a){this.ee!==a&&((this.ee=a)?this.ir():this.dA())},ir:function(){var a=255,c=this.U;c&&c.lb&&c.ee&&(a=c.Yb);this.fd(a)},dA:function(){this.Yb=this.zg;for(var a=this.t,c=0;c<a.length;c++){var d=a[c];d&&d.lb&&d.fd(255)}},Dd:function(){var a=this.ke;return r.l(a.p,a.o,a.h)},Cs:function(){var a=this.Ic;return r.l(a.p,a.o,a.h)},n:function(a){var c=this.Ic,d=this.ke;c.p=d.p=a.p;c.o=d.o=a.o;c.h=d.h=a.h;a=(a=this.U)&&a.lb&&a.wd?a.Cs():
r.Ab();this.ed(a)},ed:function(a){var c=this.Ic,d=this.ke;c.p=0|d.p*a.p/255;c.o=0|d.o*a.o/255;c.h=0|d.h*a.h/255;if(this.wd)for(a=this.t,d=0;d<a.length;d++){var e=a[d];e&&e.lb&&e.ed(c)}},uU:function(){return this.wd},DK:function(a){this.wd!==a&&((this.wd=a)?this.hr():this.cA())},hr:function(){var a;a=(a=this.U)&&a.lb&&a.wd?a.Cs():r.Ab();this.ed(a)},cA:function(){var a=this.Ic,c=this.ke;a.p=c.p;a.o=c.o;a.h=c.h;for(var a=this.t,c=r.Ab(),d=0;d<a.length;d++){var e=a[d];e&&e.lb&&e.ed(c)}},f:function(a,
c,d){r.D.prototype.f.call(this,a,c,d);this.wd&&this.hr();this.ee&&this.ir()},Jf:function(){},sl:function(){return!1}});
r.ca=r.Fh.extend({ia:null,Bs:function(){return this.ia},F2:function(a,c){this.V(a,c)},VH:function(a){this.V(a,this.wa.va)},C2:function(a){this.V(this.wa.Ha,a)},Jf:function(){},sl:function(){return!1},n:function(a){r.Fh.prototype.n.call(this,a);this.Ad()},ra:function(a){r.Fh.prototype.ra.call(this,a);this.Ad()},Mo:!1,gH:null,wB:null,PB:null,Rz:null,yB:null,xB:null,Jh:function(){r.Fh.prototype.ctor.call(this);this.ia=new r.Xl(r.Le,r.Ke)},Kh:function(){r.Fh.prototype.ctor.call(this);this.ia=new r.Xl(r.Le,
r.Ke);this.yB=new ArrayBuffer(32);this.xB=new ArrayBuffer(64);var a=this.yB,c=this.xB,d=r.Db.BYTES_PER_ELEMENT,e=r.$d.BYTES_PER_ELEMENT;this.gH=[new r.Db(0,0,a,0),new r.Db(0,0,a,d),new r.Db(0,0,a,2*d),new r.Db(0,0,a,3*d)];this.wB=[new r.$d(0,0,0,1,c,0),new r.$d(0,0,0,1,c,e),new r.$d(0,0,0,1,c,2*e),new r.$d(0,0,0,1,c,3*e)];this.PB=r.X.createBuffer();this.Rz=r.X.createBuffer()},Fl:function(a,c){this.ia=1==arguments.length?a:{src:a,Ib:c};r.Hd===r.lg&&(this.Mo=this.ia&&1==this.ia.src&&771==this.ia.Ib)},
r:function(a,c,d){if(!r.Sc.prototype.r.call(this))return!1;r.Hd!==r.lg&&this.Qg(r.Hh.e().li(r.nN));var e=r.Z.e().Rb;a=a||new r.Pb(0,0,0,255);c=c||e.width;d=d||e.height;e=this.Ic;e.p=a.p;e.o=a.o;e.h=a.h;e=this.ke;e.p=a.p;e.o=a.o;e.h=a.h;this.zg=this.Yb=a.I;this.V(c,d);this.Ad();return!0},V:null,gQ:function(a,c){var d=this.gH;2===arguments.length?(d[1].x=a,d[2].y=c,d[3].x=a,d[3].y=c,this.YF(),r.Sc.prototype.V.call(this,a,c)):(d[1].x=a.width,d[2].y=a.height,d[3].x=a.width,d[3].y=a.height,this.YF(),r.Sc.prototype.V.call(this,
a))},Ad:null,RQ:function(){},SQ:function(){for(var a=this.Ic,c=this.Yb,d=this.wB,e=0;4>e;e++)d[e].p=a.p/255,d[e].o=a.o/255,d[e].h=a.h/255,d[e].I=c/255;this.XF()},ed:function(a){r.Fh.prototype.ed.call(this,a);this.Ad()},fd:function(a){r.Fh.prototype.fd.call(this,a);this.Ad()},YF:function(){var a=r.X;a.bindBuffer(a.ARRAY_BUFFER,this.PB);a.bufferData(a.ARRAY_BUFFER,this.yB,a.STATIC_DRAW)},XF:function(){var a=r.X;a.bindBuffer(a.ARRAY_BUFFER,this.Rz);a.bufferData(a.ARRAY_BUFFER,this.xB,a.STATIC_DRAW)},
Wa:null,mm:function(a){a=a||r.X;var c=this.c(),d=r.ta.e(),e=this.Ic;a.fillStyle="rgba("+(0|e.p)+","+(0|e.o)+","+(0|e.h)+","+this.Yb/255+")";a.fillRect(0,0,c.width*d.xa,-c.height*d.Ca);r.ci++},ug:function(a){a=a||r.X;r.Py(this);r.ye(r.Zg|r.HN);a.bindBuffer(a.ARRAY_BUFFER,this.PB);a.vertexAttribPointer(r.Oe,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Rz);a.vertexAttribPointer(r.Gq,4,a.FLOAT,!1,0,0);r.gk(this.ia.src,this.ia.Ib);a.drawArrays(a.TRIANGLE_STRIP,0,4)}});
r.Ga.Qc?(r.ca.prototype.ctor=r.ca.prototype.Kh,r.ca.prototype.V=r.ca.prototype.gQ,r.ca.prototype.Ad=r.ca.prototype.SQ,r.ca.prototype.Wa=r.ca.prototype.ug):(r.ca.prototype.ctor=r.ca.prototype.Jh,r.ca.prototype.V=r.Fh.prototype.V,r.ca.prototype.Ad=r.ca.prototype.RQ,r.ca.prototype.Wa=r.ca.prototype.mm);r.ca.create=function(a,c,d){var e=new r.ca;switch(arguments.length){case 0:e.r();break;case 1:e.r(a);break;case 3:e.r(a,c,d);break;default:e.r()}return e};
r.$E=r.ca.extend({hH:null,Fo:null,cp:null,Go:null,em:null,av:!1,tr:null,sr:null,ctor:function(){r.ca.prototype.ctor.call(this);this.hH=new r.Ec(0,0,0);this.Fo=new r.Ec(0,0,0);this.em=r.a(0,-1);this.Go=this.cp=255;this.tr=r.a(0,0);this.sr=r.a(0,0)},V:function(a,c){2===arguments.length?r.ca.prototype.V.call(this,a,c):r.ca.prototype.V.call(this,a);this.Ad()},J6:function(){return this.ke},cca:function(a){this.n(a)},Taa:function(a){this.Fo=a;this.Ad()},N4:function(){return this.Fo},dca:function(a){this.cp=
a;this.Ad()},K6:function(){return this.cp},Uaa:function(a){this.Go=a;this.Ad()},O4:function(){return this.Go},vca:function(a){this.em.x=a.x;this.em.y=a.y;this.Ad()},j7:function(){return r.a(this.em.x,this.em.y)},b8:function(){return this.av},Jaa:function(a){this.av=a;this.Ad()},r:function(a,c,d){a=a||r.cC(0,0,0,255);c=c||r.cC(0,0,0,255);d=d||r.a(0,-1);var e=this.hH,f=this.Fo;e.p=a.p;e.o=a.o;e.h=a.h;this.cp=a.I;f.p=c.p;f.o=c.o;f.h=c.h;this.Go=c.I;this.em=d;this.av=!0;r.ca.prototype.r.call(this,r.i(a.p,
a.o,a.h,255));return!0},Wa:function(a){if(r.Hd===r.Ck)r.ca.prototype.Wa.call(this,a);else{a=a||r.X;this.Mo&&(a.globalCompositeOperation="lighter");a.save();var c=r.ta.e(),d=this.Yb/255,e=this.c().width*c.xa,c=this.c().height*c.Ca,f=a.createLinearGradient(this.tr.x,this.tr.y,this.sr.x,this.sr.y),g=this.Ic,h=this.Fo;f.addColorStop(0,"rgba("+Math.round(g.p)+","+Math.round(g.o)+","+Math.round(g.h)+","+(this.cp/255*d).toFixed(4)+")");f.addColorStop(1,"rgba("+Math.round(h.p)+","+Math.round(h.o)+","+Math.round(h.h)+
","+(this.Go/255*d).toFixed(4)+")");a.fillStyle=f;a.fillRect(0,0,e,-c);0!=this.YP&&a.rotate(this.r1);a.restore()}},Ad:function(){var a=this.em;if(r.Hd===r.lg){var c=0.5*this.c().width,d=0.5*this.c().height;this.tr.x=c*-a.x+c;this.tr.y=d*a.y-d;this.sr.x=c*a.x+c;this.sr.y=d*-a.y-d}else if(d=r.nD(a),0!==d){c=Math.sqrt(2);a=r.a(a.x/d,a.y/d);this.av&&(a=r.hj(a,1/(Math.abs(a.x)+Math.abs(a.y))*c));var e=this.Yb/255,f=this.Ic,g=this.Fo,d=f.p/255,h=f.o/255,f=f.h/255,k=this.cp*e/255,l=g.p/255,m=g.o/255,g=g.h/
255,e=this.Go*e/255,n=this.wB,p=n[0],q=n[1],u=n[2],n=n[3];p.p=l+(c+a.x+a.y)/(2*c)*(d-l);p.o=m+(c+a.x+a.y)/(2*c)*(h-m);p.h=g+(c+a.x+a.y)/(2*c)*(f-g);p.I=e+(c+a.x+a.y)/(2*c)*(k-e);q.p=l+(c-a.x+a.y)/(2*c)*(d-l);q.o=m+(c-a.x+a.y)/(2*c)*(h-m);q.h=g+(c-a.x+a.y)/(2*c)*(f-g);q.I=e+(c-a.x+a.y)/(2*c)*(k-e);u.p=l+(c+a.x-a.y)/(2*c)*(d-l);u.o=m+(c+a.x-a.y)/(2*c)*(h-m);u.h=g+(c+a.x-a.y)/(2*c)*(f-g);u.I=e+(c+a.x-a.y)/(2*c)*(k-e);n.p=l+(c-a.x-a.y)/(2*c)*(d-l);n.o=m+(c-a.x-a.y)/(2*c)*(h-m);n.h=g+(c-a.x-a.y)/(2*c)*
(f-g);n.I=e+(c-a.x-a.y)/(2*c)*(k-e);this.XF()}}});r.$E.create=function(a,c,d){var e=new r.$E;switch(arguments.length){case 2:if(e&&e.r(a,c))return e;break;case 3:if(e&&e.r(a,c,d))return e;break;case 0:if(e&&e.r())return e;break;default:throw"Arguments error ";}return null};
r.aF=r.Sc.extend({Mk:0,dh:null,M7:function(a){this.dh=[];this.dh.push(a);this.Mk=0;this.f(a);return!0},fU:function(a){this.dh=a;this.Mk=0;this.f(this.dh[this.Mk]);return!0},cda:function(a){a>=this.dh.length?r.log("cc.LayerMultiplex.switchTo():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.dh[this.Mk],!0),this.Mk=a,this.f(this.dh[a]))},dda:function(a){a>=this.dh.length?r.log("cc.LayerMultiplex.switchToAndReleaseMe():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.dh[this.Mk],
!0),this.dh[this.Mk]=null,this.Mk=a,this.f(this.dh[a]))},L1:function(a){a?this.dh.push(a):r.log("cc.Layer.addLayer(): layer should be non-null")}});r.aF.create=function(){0<arguments.length&&null==arguments[arguments.length-1]&&r.log("parameters should not be ending with null in Javascript");var a=new r.aF;return a.fU(arguments)?a:null};r.az=-1;
r.Ap=function(a){function c(){var c=r.Ap,e=a.width,h=a.height;d[0].width=e;d[0].height=h;d[1].width=e;d[1].height=h;d[2].width=e;d[2].height=h;d[3].width=e;d[3].height=h;c.canvas.width=e;c.canvas.height=h;var k=c.canvas.getContext("2d");k.drawImage(a,0,0);c.mE.width=e;c.mE.height=h;for(var k=k.getImageData(0,0,e,h).data,l=0;4>l;l++){var m=d[l].getContext("2d");m.getImageData(0,0,e,h).data;c.CL.drawImage(a,0,0);for(var n=c.CL.getImageData(0,0,e,h),p=n.data,q=0;q<k.length;q+=4)p[q]=0===l?k[q]:0,p[q+
1]=1===l?k[q+1]:0,p[q+2]=2===l?k[q+2]:0,p[q+3]=k[q+3];m.putImageData(n,0,0)}a.onload=null}if(a.hasOwnProperty("channelCache"))return a.OR;var d=[document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas")];try{c()}catch(e){a.onload=c}return a.OR=d};r.Ap.canvas=document.createElement("canvas");r.Ap.mE=document.createElement("canvas");r.Ap.CL=r.Ap.mE.getContext("2d");
r.V3=function(a,c,d){d||(d=r.rect(0,0,a.width,a.height),d=r.xq(d));c=c instanceof r.$d?r.i(255*c.p,255*c.o,255*c.h,255*c.I):r.i(c.p,c.o,c.h,50);var e=document.createElement("canvas"),f=e.getContext("2d");e.width!=d.width&&(e.width=d.width);e.height!=d.height&&(e.height=d.height);f.save();f.drawImage(a,d.x,d.y,d.width,d.height,0,0,d.width,d.height);f.globalCompositeOperation="source-in";f.globalAlpha=c.I/255;f.fillStyle="rgb("+c.p+","+c.o+","+c.h+")";f.fillRect(0,0,d.width,d.height);f.restore();return e};
r.wC=function(a,c,d,e,f){e||(e=r.rect(0,0,a.width,a.height));a=null==d.I?r.Dw(d.p/255,d.o/255,d.h/255,1):d;d=Math.min(e.width,c[0].width);var g=Math.min(e.height,c[0].height),h;f?(h=f.getContext("2d"),h.clearRect(0,0,d,g)):(f=document.createElement("canvas"),f.width=d,f.height=g,h=f.getContext("2d"));h.save();h.globalCompositeOperation="lighter";var k=h.globalAlpha;0<a.p&&(h.globalAlpha=a.p*k,h.drawImage(c[0],e.x,e.y,d,g,0,0,d,g));0<a.o&&(h.globalAlpha=a.o*k,h.drawImage(c[1],e.x,e.y,d,g,0,0,d,g));
0<a.h&&(h.globalAlpha=a.h*k,h.drawImage(c[2],e.x,e.y,d,g,0,0,d,g));1>a.p+a.o+a.h&&(h.globalAlpha=k,h.drawImage(c[3],e.x,e.y,d,g,0,0,d,g));h.restore();return f};r.aI=function(a,c){if(!a)return null;if(!c)return a;var d=document.createElement("canvas");d.width=c.width;d.height=c.height;var e=d.getContext("2d");e.translate(d.width/2,d.height/2);e.rotate(-1.5707963267948966);e.drawImage(a,c.x,c.y,c.height,c.width,-c.height/2,-c.width/2,c.height,c.width);return d};
r.v0=function(a,c,d,e,f,g){this.scale=c;this.rotation=d;this.Ll=e;this.visible=g};r.ng=function(a){return 0|a};r.qN&&(r.ng=function(a){return a});
r.v=r.Bb.extend({lb:!0,Sa:null,Xc:0,mb:null,Ja:!1,Oh:null,Ii:null,al:!1,Pm:null,ia:null,Fa:null,Aa:null,Yc:!1,gc:null,Wh:null,pc:!1,nc:!1,oc:!1,qb:!1,Od:null,JG:null,EL:function(){return this.qb},Xf:function(a,c){this.Od.push({fk:a,bi:c})},de:function(){for(var a=this.Od,c=0,d=a.length;c<d;c++){var e=a[c];e.fk.call(e.bi,this)}a.length=0},pJ:function(){return this.Ja},Pg:function(a){this.Ja=a},F8:function(){return this.Yc},c4:function(){return this.Xc},He:function(a){this.Xc=a},FC:function(){return r.rect(this.Aa.x,
this.Aa.y,this.Aa.width,this.Aa.height)},KI:function(){return this.Sa},iq:function(a){this.Sa=a},I6:function(){return this.mb},bca:function(a){this.mb=a},P5:function(){return this.gc},Bs:function(){return this.ia},Ee:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrame(): spriteFrame should be non-null";a.qb||(this.qb=!1,a.Xf(this.uB,this));var c=this.Ma(a.aa(),a.xe());this.dq(a);return c},uB:null,GQ:function(a){this.Xa();this.Tb(a.xe(),a.nd,a.md);this.de()},FQ:function(a){this.Xa();this.Tb(a.xe(),
a.nd,a.md);a=this.Dd();255===a.p&&255===a.o&&255===a.h||this.Xu();this.de()},gJ:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";a=r.pg.e().uh(a);return this.Ee(a)},Ida:function(a){this.Sa=a.Sa;this.mb=a},bE:function(a){this.Aa.x=a.x;this.Aa.y=a.y;this.Aa.width=a.width;this.Aa.height=a.height},Vd:function(){if(this.le){for(var a,c,d=this.t,e,f=1;f<d.length;f++){c=d[f];a=f-1;for(e=d[a];0<=a&&(c.gb<e.gb||c.gb==e.gb&&c.Rf<e.Rf);)d[a+1]=e,a-=1,e=d[a];d[a+
1]=c}this.mb&&this.rg(d,r.D.Mf.Vd);this.le=!1}},at:function(a,c){if(!a)throw"cc.Sprite.reorderChild(): child should be non-null";-1===this.t.indexOf(a)?r.log("cc.Sprite.reorderChild(): this child is not in children list"):c!==a.gb&&(this.mb&&!this.le&&(this.pB(),this.mb.pK(!0)),r.D.prototype.at.call(this,a,c))},removeChild:function(a,c){this.mb&&this.mb.yn(a);r.D.prototype.removeChild.call(this,a,c)},jc:function(a){var c=this.t,d=this.mb;if(d&&null!=c)for(var e=0,f=c.length;e<f;e++)d.yn(c[e]);r.D.prototype.jc.call(this,
a);this.Ii=!1},JK:function(a){this.Oh=a;this.Pg(a);a=this.t;if(null!=a)for(var c=0;c<a.length;c++)a[c]instanceof r.v&&a[c].JK(!0)},Yg:function(){this.mb&&!this.Oh&&(this.Ja=this.Oh=!0,this.Ii&&this.JK(!0))},m:function(a,c){2<=arguments.length?r.D.prototype.m.call(this,a,arguments[1]):r.D.prototype.m.call(this,a);this.Yg()},Ox:function(a){r.D.prototype.Ox.call(this,a);this.Yg()},Px:function(a){r.D.prototype.Px.call(this,a);this.Yg()},Qx:function(a){r.D.prototype.Qx.call(this,a);this.Yg()},Sx:function(a){r.D.prototype.Sx.call(this,
a);this.Yg()},Tx:function(a){r.D.prototype.Tx.call(this,a);this.Yg()},gq:function(a){r.D.prototype.gq.call(this,a);this.Yg()},Fn:function(a){r.D.prototype.Fn.call(this,a);this.Yg()},rk:function(a,c){r.D.prototype.rk.call(this,a,c);this.Yg()},gL:function(a){r.D.prototype.gL.call(this,a);this.Yg()},G:function(a,c){2===arguments.length?r.D.prototype.G.call(this,a,c):r.D.prototype.G.call(this,a);this.Yg()},B:function(a){r.D.prototype.B.call(this,a);this.Yg()},aj:function(a){this.mb?r.log("cc.Sprite.ignoreAnchorPointForPosition(): it is invalid in cc.Sprite when using SpriteBatchNode"):
r.D.prototype.aj.call(this,a)},bX:function(a){this.nc!=a&&(this.nc=a,this.Tb(this.Aa,this.Yc,this.wa),this.Xa())},cX:function(a){this.oc!=a&&(this.oc=a,this.Tb(this.Aa,this.Yc,this.wa),this.Xa())},i8:function(){return this.nc},j8:function(){return this.oc},Jf:null,oQ:function(a){this.pc!==a&&(this.pc=a,this.st())},nQ:function(a){this.pc!==a&&(this.pc=a,this.Xa())},sl:function(){return this.pc},fd:null,VQ:function(a){r.Bb.prototype.fd.call(this,a);this.st()},tH:function(a){r.Bb.prototype.fd.call(this,
a);this.Dm()},Qaa:function(a,c){if(!a)throw"cc.Sprite.setDisplayFrameWithAnimationName(): animationName must be non-null";var d=r.Ul.e().zI(a);d?(d=d.he[c])?this.dq(d.uh()):r.log("cc.Sprite.setDisplayFrameWithAnimationName(): Invalid frame index"):r.log("cc.Sprite.setDisplayFrameWithAnimationName(): Frame not found")},f4:function(){return this.mb},pB:function(){if(!this.le){this.le=!0;for(var a=this.U;a&&a!=this.mb;)a.pB(),a=a.getParent()}},aa:function(){return this.Fa},Lb:null,Vv:null,wf:!1,$u:!1,
Mo:!1,vg:null,ip:null,fA:null,ctor:null,Kh:function(a){r.Bb.prototype.ctor.call(this);this.al=!1;this.gc=r.zd();this.Wh=r.zd();this.ia={src:r.Le,Ib:r.Ke};this.Aa=r.rect(0,0,0,0);this.Lb=new r.dc;this.Vv=r.X.createBuffer();this.qb=this.wf=!0;this.Od=[];if(a)if("string"===typeof a)a=r.pg.e().uh(a),this.Ee(a);else if("object"===typeof a)if(a instanceof r.Md)this.Ee(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new r.bc;c.Ff(a);c.De();this.Ma(c)}else a instanceof r.bc&&
this.Ma(a)},Jh:function(a){r.Bb.prototype.ctor.call(this);this.al=!1;this.gc=r.zd();this.Wh=r.zd();this.ia={src:r.Le,Ib:r.Ke};this.Aa=r.rect(0,0,0,0);this.JG=!1;this.qb=!0;this.Od=[];this.ip={x:0,y:0,width:0,height:0,wt:!1};this.fA=r.size(0,0);if(a)if("string"===typeof a)a=r.pg.e().uh(a),this.Ee(a);else if("object"===typeof a)if(a instanceof r.Md)this.Ee(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new r.bc;c.Ff(a);c.De();this.Ma(c)}else a instanceof r.bc&&this.Ma(a)},
k6:function(){return this.Lb},Fl:null,cQ:function(a,c){var d=this.ia;1===arguments.length?(d.src=a.src,d.Ib=a.Ib):(d.src=a,d.Ib=c)},bQ:function(a,c){var d=this.ia;1===arguments.length?(d.src=a.src,d.Ib=a.Ib):(d.src=a,d.Ib=c);this.Mo=d&&(770==d.src&&1==d.Ib||1==d.src&&1==d.Ib)},r:null,zA:function(){if(0<arguments.length)return this.bj(arguments[0],arguments[1]);r.Bb.prototype.r.call(this);this.Ja=this.Oh=!1;this.pc=!0;this.ia.src=r.Le;this.ia.Ib=r.Ke;this.fa(null);this.qb=!0;this.nc=this.oc=!1;this.G(0.5,
0.5);this.gc.F=0;this.gc.K=0;this.Ii=!1;var a={p:255,o:255,h:255,I:255};this.Lb.Ka.L=a;this.Lb.Va.L=a;this.Lb.Ta.L=a;this.Lb.Oa.L=a;this.wf=!0;this.Tb(r.hd(),!1,r.bm());return!0},yA:function(){if(0<arguments.length)return this.bj(arguments[0],arguments[1]);r.Bb.prototype.r.call(this);this.Ja=this.Oh=!1;this.pc=!0;this.ia.src=r.Le;this.ia.Ib=r.Ke;this.fa(null);this.qb=!0;this.nc=this.oc=!1;this.G(0.5,0.5);this.gc.F=0;this.gc.K=0;this.Ii=!1;this.Tb(r.hd(),!1,r.bm());return!0},bj:function(a,c){if(!a)throw"cc.Sprite.initWithFile(): filename should be non-null";
var d=r.ga.e().dy(a);if(!d)d=r.ga.e().qa(a);else if(!c){var e=d.c();c=r.rect(0,0,e.width,e.height)}return this.Ma(d,c)},Ma:null,xr:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";d=d||!1;if(!r.Bb.prototype.r.call(this))return!1;this.mb=null;this.Ja=this.Oh=!1;this.pc=!0;this.ia.src=r.Le;this.ia.Ib=r.Ke;this.nc=this.oc=!1;this.G(0.5,0.5);this.gc.F=0;this.gc.K=0;this.Ii=!1;var e=new r.Pb(255,255,255,255),f=this.Lb;f.Ka.L=e;f.Va.L=e;f.Ta.L=e;f.Oa.L=e;
this.qb=e=a.Lg();if(!e)return this.Yc=d||!1,c&&(e=this.Aa,e.x=c.x,e.y=c.y,e.width=c.width,e.height=c.height),a.Xf(this.mw,this),!0;c||(e=a.c(),c=r.rect(0,0,e.width,e.height));this.fa(a);this.Tb(c,d,c.cb);this.Ie(null);return this.wf=!0},wr:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";d=d||!1;if(!r.Bb.prototype.r.call(this))return!1;this.mb=null;this.Ja=this.Oh=!1;this.pc=!0;this.ia.src=r.Le;this.ia.Ib=r.Ke;this.nc=this.oc=!1;this.G(0.5,0.5);this.gc.F=
0;this.gc.K=0;this.Ii=!1;var e=a.Lg();this.qb=e;if(!e)return this.Yc=d||!1,c&&(this.Aa.x=c.x,this.Aa.y=c.y,this.Aa.width=c.width,this.Aa.height=c.height),a.Xf(this.mw,this),!0;c||(e=a.c(),c=r.rect(0,0,e.width,e.height));this.vg=a;this.fa(a);this.Tb(c,d,c.cb);this.Ie(null);return!0},mw:null,LQ:function(a){if(!this.qb){this.qb=!0;var c=this.Aa;if(!c)c=a.c(),c=r.rect(0,0,c.width,c.height);else if(r.Nr(c)){var d=a.c();c.width=d.width;c.height=d.height}this.fa(a);this.Tb(c,this.Yc,c.cb);this.Ie(null);
this.wf=!0;this.de()}},KQ:function(a){if(!this.qb){this.qb=!0;var c=this.Aa;if(!c)c=a.c(),c=r.rect(0,0,c.width,c.height);else if(r.Nr(c)){var d=a.c();c.width=d.width;c.height=d.height}this.vg=a;this.fa(a);this.Tb(c,this.Yc,c.cb);this.Ie(null);this.de()}},Tb:null,aH:function(a,c,d){this.Yc=c||!1;d=d||a.cb;this.V(d);this.bE(a);this.$G(a);a=this.Wh;this.nc&&(a.F=-a.F);this.oc&&(a.K=-a.K);var e=this.Aa;this.gc.F=a.F+(this.wa.Ha-e.width)/2;this.gc.K=a.K+(this.wa.va-e.height)/2;if(this.mb)this.Ja=!0;else{a=
0+this.gc.F;c=0+this.gc.K;d=a+e.width;var e=c+e.height,f=this.Lb;f.Ka.s={x:a,y:c,z:0};f.Va.s={x:d,y:c,z:0};f.Ta.s={x:a,y:e,z:0};f.Oa.s={x:d,y:e,z:0};this.wf=!0}},qB:function(a,c,d){this.Yc=c||!1;d=d||a.cb;this.V(d);this.bE(a);c=this.ip;d=r.Kd();c.x=0|a.x*d;c.y=0|a.y*d;c.width=0|a.width*d;c.height=0|a.height*d;c.wt=!(0===c.width||0===c.height);a=this.Wh;this.nc&&(a.F=-a.F);this.oc&&(a.K=-a.K);this.gc.F=a.F+(this.wa.Ha-this.Aa.width)/2;this.gc.K=a.K+(this.wa.va-this.Aa.height)/2;this.mb&&(this.Ja=!0)},
jg:null,cR:function(){if(this.Ja){var a=this.Lb,c=this.U;if(!this.la||c&&c!=this.mb&&c.al)a.Va.s={x:0,y:0,z:0},a.Ta.s={x:0,y:0,z:0},a.Oa.s={x:0,y:0,z:0},a.Ka.s={x:0,y:0,z:0},this.al=!0;else{this.al=!1;var d=this.Pm=c&&c!=this.mb?r.Tl(this.cg(),c.Pm):this.cg(),e=this.Aa.cb,c=this.gc.F,f=this.gc.K,g=c+e.width,e=f+e.height,h=d.Za,k=d.$a,l=d.I,m=d.h,n=d.La,d=-d.Da,p=this.yw;a.Ka.s={x:r.ng(c*l-f*d+h),y:r.ng(c*m+f*n+k),z:p};a.Va.s={x:r.ng(g*l-f*d+h),y:r.ng(g*m+f*n+k),z:p};a.Ta.s={x:r.ng(c*l-e*d+h),y:r.ng(c*
m+e*n+k),z:p};a.Oa.s={x:r.ng(g*l-e*d+h),y:r.ng(g*m+e*n+k),z:p}}this.Sa.jy(a,this.Xc);this.Oh=!1;this.Pg(!1)}this.Ii&&this.rg(this.t,r.D.Mf.jg);r.Ak&&(a=[r.a(this.Lb.Ka.s.x,this.Lb.Ka.s.y),r.a(this.Lb.Va.s.x,this.Lb.Va.s.y),r.a(this.Lb.Oa.s.x,this.Lb.Oa.s.y),r.a(this.Lb.Ta.s.x,this.Lb.Ta.s.y)],r.$f.pe(a,4,!0))},bR:function(){if(this.Ja){var a=this.U;!this.la||a&&a!=this.mb&&a.al?this.al=!0:(this.al=!1,this.Pm=a&&a!=this.mb?r.Tl(this.cg(),a.Pm):this.cg());this.Ja=this.Oh=!1}this.Ii&&this.rg(this.t,
r.D.Mf.jg)},f:null,yz:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.gb);null==d&&(d=a.pd);if(this.mb){if(!(a instanceof r.v)){r.log("cc.Sprite.addChild(): cc.Sprite only supports cc.Sprites as children when using cc.SpriteBatchNode");return}a.aa().Zh!==this.Sa.aa().Zh&&r.log("cc.Sprite.addChild(): cc.Sprite only supports a sprite using same texture as children when using cc.SpriteBatchNode");this.mb.appendChild(a);this.le||this.pB()}r.D.prototype.f.call(this,
a,c,d);this.Ii=!0},xz:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.gb);null==d&&(d=a.pd);r.D.prototype.f.call(this,a,c,d);this.Ii=!0},st:function(){var a=this.Ic,c=this.Yb,a={p:a.p,o:a.o,h:a.h,I:c};this.pc&&(a.p*=c/255,a.o*=c/255,a.h*=c/255);c=this.Lb;c.Ka.L=a;c.Va.L=a;c.Ta.L=a;c.Oa.L=a;this.mb&&(this.Xc!=r.az?this.Sa.jy(c,this.Xc):this.Ja=!0);this.wf=!0},ra:null,oB:function(a){r.Bb.prototype.ra.call(this,a);this.st()},Sr:function(a){r.Bb.prototype.ra.call(this,
a);this.Dm()},n:null,lB:function(a){r.Bb.prototype.n.call(this,a);this.st()},Qr:function(a){var c=this.Dd();if(c.p!==a.p||c.o!==a.o||c.h!==a.h)r.Bb.prototype.n.call(this,a),this.Xu(),this.Dm()},ed:null,UQ:function(a){r.Bb.prototype.ed.call(this,a);this.st()},IB:function(a){var c=this.Dd();r.Bb.prototype.ed.call(this,a);a=this.Ic;if(c.p!==a.p||c.o!==a.o||c.h!==a.h)this.Xu(),this.Dm()},dq:null,iQ:function(a){this.Xa();var c=a.Kb;this.Wh.F=c.x;this.Wh.K=c.y;c=a.aa();a.qb||(this.qb=!1,a.Xf(function(a){this.qb=
!0;var c=a.aa();c!=this.Fa&&this.fa(c);this.Tb(a.xe(),a.nd,a.md);this.de()},this));c!=this.Fa&&this.fa(c);this.Yc=a.nd;this.Tb(a.xe(),this.Yc,a.md)},hQ:function(a){this.Xa();var c=a.Kb;this.Wh.F=c.x;this.Wh.K=c.y;this.Yc=a.nd;var c=a.aa(),d=a.qb;d||(this.qb=!1,a.Xf(function(a){this.qb=!0;var c=a.aa();c!=this.Fa&&this.fa(c);this.Tb(a.xe(),a.nd,a.md);this.de()},this));c!=this.Fa&&this.fa(c);this.Yc&&(this.vg=c);this.Tb(a.xe(),this.Yc,a.md);this.$u=!1;d&&(a=this.Dd(),255===a.p&&255===a.o&&255===a.h||
this.Xu())},rJ:null,jP:function(a){return r.iK(a.xe(),this.Aa)&&a.aa().getName()==this.Fa.getName()&&r.YJ(a.Kb,this.Wh)},iP:function(a){return a.aa()!=this.Fa?!1:r.iK(a.xe(),this.Aa)},tS:function(){return r.Md.eb(this.Fa,r.Zn(this.Aa),this.Yc,r.eN(this.Wh),r.$y(this.wa))},Ie:null,aQ:function(a){if(this.mb=a)this.Pm={I:1,h:0,Da:0,La:1,Za:0,$a:0},this.iq(this.mb.Sa);else{this.Xc=r.az;this.iq(null);this.Oh=!1;this.Pg(!1);a=this.gc.F;var c=this.gc.K,d=a+this.Aa.width,e=c+this.Aa.height,f=this.Lb;f.Ka.s=
{x:a,y:c,z:0};f.Va.s={x:d,y:c,z:0};f.Ta.s={x:a,y:e,z:0};f.Oa.s={x:d,y:e,z:0};this.wf=!0}},$P:function(a){(this.mb=a)?(this.Pm={I:1,h:0,Da:0,La:1,Za:0,$a:0},this.iq(this.mb.Sa)):(this.Xc=r.az,this.iq(null),this.Oh=!1,this.Pg(!1))},fa:null,Ur:function(a){if(a&&!(a instanceof r.bc))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.mb&&this.mb.aa()!=a?r.log("cc.Sprite.setTexture(): Batched sprites should use the same texture as the batchnode"):(a?this.Qg(r.Hh.e().li(r.Zy)):
this.Qg(r.Hh.e().li(r.nN)),this.mb||this.Fa==a||(this.Fa=a,this.Qm()))},Tr:function(a){if(a&&!(a instanceof r.bc))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.Fa!=a&&(a&&a.Jc instanceof HTMLImageElement&&(this.vg=a),this.Fa=a)},Qm:function(){this.mb?r.log("cc.Sprite._updateBlendFunc(): _updateBlendFunc doesn't work when the sprite is rendered using a cc.CCSpriteBatchNode"):this.Fa&&this.Fa.Ls()?(this.ia.src=r.Le,this.ia.Ib=r.Ke,this.Jf(!0)):(this.ia.src=770,
this.ia.Ib=771,this.Jf(!1))},Xu:function(){var a,c=this.Fa,d=this.ip;c&&d.wt&&this.vg&&(a=c.Jc)&&(c=r.ga.e().LI(this.vg.Jc))&&(this.$u=!0,a instanceof HTMLCanvasElement&&!this.Yc&&!this.JG?r.wC(a,c,this.Ic,d,a):(a=r.wC(a,c,this.Ic,d),c=new r.bc,c.Ff(a),c.De(),this.fa(c)))},$G:function(a){a=r.Zn(a);var c=this.mb?this.Sa.aa():this.Fa;if(c){var d=c.Gp(),e=c.Fp(),f,g=this.Lb;this.Yc?(r.$t?(c=(2*a.x+1)/(2*d),d=c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/
d,f=a.y/e,a=(a.y+a.width)/e),this.nc&&(e=f,f=a,a=e),this.oc&&(e=c,c=d,d=e),g.Ka.C.Qa=c,g.Ka.C.na=f,g.Va.C.Qa=c,g.Va.C.na=a,g.Ta.C.Qa=d,g.Ta.C.na=f,g.Oa.C.Qa=d,g.Oa.C.na=a):(r.$t?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+a.height)/e),this.nc&&(e=c,c=d,d=e),this.oc&&(e=f,f=a,a=e),g.Ka.C.Qa=c,g.Ka.C.na=a,g.Va.C.Qa=d,g.Va.C.na=a,g.Ta.C.Qa=c,g.Ta.C.na=f,g.Oa.C.Qa=d,g.Oa.C.na=f);this.wf=!0}},Wa:null,ug:function(){if(this.qb){var a=
r.X,c=this.Fa;c?c.uc&&(this.Kc.of(),this.Kc.Rg(),r.gk(this.ia.src,this.ia.Ib),r.w7(0,c),r.ye(r.Hu),a.bindBuffer(a.ARRAY_BUFFER,this.Vv),this.wf&&(a.bufferData(a.ARRAY_BUFFER,this.Lb.YB,a.DYNAMIC_DRAW),this.wf=!1),a.vertexAttribPointer(0,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(1,4,a.UNSIGNED_BYTE,!0,24,12),a.vertexAttribPointer(2,2,a.FLOAT,!1,24,16),a.drawArrays(a.TRIANGLE_STRIP,0,4)):(this.Kc.of(),this.Kc.Rg(),r.gk(this.ia.src,this.ia.Ib),r.Ig(null),r.ye(r.Zg|r.HN),a.bindBuffer(a.ARRAY_BUFFER,this.Vv),
this.wf&&(r.X.bufferData(r.X.ARRAY_BUFFER,this.Lb.YB,r.X.STATIC_DRAW),this.wf=!1),a.vertexAttribPointer(r.Oe,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(r.Gq,4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));r.ci++;0!==r.Ak&&(1===r.Ak?(a=this.Lb,a=[r.a(a.Ta.s.x,a.Ta.s.y),r.a(a.Ka.s.x,a.Ka.s.y),r.a(a.Va.s.x,a.Va.s.y),r.a(a.Oa.s.x,a.Oa.s.y)],r.$f.pe(a,4,!0)):2===r.Ak&&(a=this.FC().cb,c=this.gc,a=[r.a(c.x,c.y),r.a(c.x+a.width,c.y),r.a(c.x+a.width,c.y+a.height),r.a(c.x,c.y+a.height)],r.$f.pe(a,
4,!0)))}},mm:function(a){if(this.qb){a=a||r.X;this.Mo&&(a.globalCompositeOperation="lighter");var c=r.ta.e().xa,d=r.ta.e().Ca;a.globalAlpha=this.Yb/255;var e=this.Aa,f=this.wa,g=this.gc,h=this.fA,k=0|g.F,l=-g.K-e.height,m=this.ip;h.width=e.width*c;h.height=e.height*d;if(this.nc||this.oc)a.save(),this.nc&&(k=-g.F-e.width,a.scale(-1,1)),this.oc&&(l=g.K,a.scale(1,-1));k*=c;l*=d;this.Fa&&m.wt?(f=this.Fa.Jc,this.$u?a.drawImage(f,0,0,m.width,m.height,k,l,h.width,h.height):a.drawImage(f,m.x,m.y,m.width,
m.height,k,l,h.width,h.height)):0!==f.Ha&&(h=this.Dd(),a.fillStyle="rgba("+h.p+","+h.o+","+h.h+",1)",a.fillRect(k,l,f.Ha*c,f.va*d));1===r.Ak?(a.strokeStyle="rgba(0,255,0,1)",k/=c,l=-(l/d),k=[r.a(k,l),r.a(k+e.width,l),r.a(k+e.width,l-e.height),r.a(k,l-e.height)],r.$f.pe(k,4,!0)):2===r.Ak&&(a.strokeStyle="rgba(0,255,0,1)",c=this.Aa.cb,l=-l,k=[r.a(k,l),r.a(k+c.width,l),r.a(k+c.width,l-c.height),r.a(k,l-c.height)],r.$f.pe(k,4,!0));(this.nc||this.oc)&&a.restore();r.ci++}}});
r.Ga.Qc?(b=r.v.prototype,b.uB=r.v.prototype.GQ,b.Jf=r.v.prototype.oQ,b.fd=r.v.prototype.VQ,b.ctor=r.v.prototype.Kh,b.Fl=r.v.prototype.cQ,b.r=r.v.prototype.zA,b.Ma=r.v.prototype.xr,b.mw=r.v.prototype.LQ,b.Tb=r.v.prototype.aH,b.jg=r.v.prototype.cR,b.f=r.v.prototype.yz,b.ra=r.v.prototype.oB,b.n=r.v.prototype.lB,b.ed=r.v.prototype.UQ,b.dq=r.v.prototype.iQ,b.rJ=r.v.prototype.jP,b.Ie=r.v.prototype.aQ,b.fa=r.v.prototype.Ur,b.Wa=r.v.prototype.ug):(b=r.v.prototype,b.uB=r.v.prototype.FQ,b.Jf=r.v.prototype.nQ,
b.fd=r.v.prototype.tH,b.ctor=r.v.prototype.Jh,b.Fl=r.v.prototype.bQ,b.r=r.v.prototype.yA,b.Ma=r.v.prototype.wr,b.mw=r.v.prototype.KQ,b.Tb=r.v.prototype.qB,b.jg=r.v.prototype.bR,b.f=r.v.prototype.xz,b.ra=r.v.prototype.Sr,b.n=r.v.prototype.Qr,b.ed=r.v.prototype.IB,b.dq=r.v.prototype.hQ,b.rJ=r.v.prototype.iP,b.Ie=r.v.prototype.$P,b.fa=r.v.prototype.Tr,b.Wa=r.v.prototype.mm);
r.v.eb=function(a,c){var d=arguments.length,e=new r.v;switch(d){case 1:return e&&e.Ma(a)?e:null;case 2:return e&&e.Ma(a,c)?e:null;default:throw"Sprite.createWithTexture(): Argument must be non-nil ";}};r.v.create=function(a,c){var d=arguments.length,e=new r.v;if(0===d){if(e.r())return e}else if(e&&e.r(a,c))return e;return null};
r.v.$H=function(a){var c=null;if("string"==typeof a){if(c=r.pg.e().uh(a),!c)return r.log("Invalid spriteFrameName: "+a),null}else return r.log("Invalid argument. Expecting string."),null;return(a=new r.v)&&a.Ee(c)?a:null};r.v.ZH=function(a){var c=new r.v;return c&&c.Ee(a)?c:null};r.pj=r.Ea.extend({Xr:null,fe:0,ps:null,ctor:function(){this.fe=0},H:function(){var a=new r.pj;a.Ee(this.Xr.H(),this.fe,this.ps);return a},Iw:function(){return r.H(this)},copy:function(){var a=new r.pj;a.Ee(this.Xr.H(),this.fe,this.ps);return a},Ee:function(a,c,d){this.Xr=a;this.fe=c;this.ps=d;return!0},uh:function(){return this.Xr},Kf:function(a){this.Xr=a},G4:function(){return this.fe},Paa:function(a){this.fe=a},h7:function(){return this.ps},tca:function(a){this.ps=a}});
r.oj=r.Ea.extend({he:null,Pj:0,Am:!1,za:0,fe:0,Nm:0,ctor:function(){this.he=[]},Y4:function(){return this.he},OK:function(a){this.he=a},WB:function(a){var c=new r.pj;c.Ee(a,1,null);this.he.push(c);this.Nm++},Q1:function(a){a=r.ga.e().qa(a);var c=r.hd();c.cb=a.c();a=r.Md.eb(a,c);this.WB(a)},R1:function(a,c){var d=r.Md.eb(a,c);this.WB(d)},Ms:function(a,c,d){r.At(a,r.pj);this.fe=c;this.Pj=d;this.OK([]);for(c=0;c<a.length;c++)d=a[c],this.he.push(d),this.Nm+=d.fe;return!0},H:function(){var a=new r.oj;
a.Ms(this.eG(),this.fe,this.Pj);a.Nx(this.Am);return a},Iw:function(){var a=new r.oj;a.Ms(this.eG(),this.fe,this.Pj);a.Nx(this.Am);return a},eG:function(){for(var a=[],c=0;c<this.he.length;c++)a.push(this.he[c].H());return a},copy:function(){return this.Iw(null)},o5:function(){return this.Pj},lba:function(a){this.Pj=a},Nx:function(a){this.Am=a},t6:function(){return this.Am},Af:function(){return this.Nm*this.fe},F4:function(){return this.fe},Oaa:function(a){this.fe=a},Z6:function(){return this.Nm},
hJ:function(a,c){r.At(a,r.Md);this.Pj=1;this.fe=c||0;this.OK([]);if(a)for(var d=0;d<a.length;d++){var e=a[d],f=new r.pj;f.Ee(e,1,null);this.he.push(f);this.Nm++}return!0},tK:function(){},BD:function(){}});r.oj.create=function(a,c,d){var e=arguments.length,f=new r.oj;0==e?f.hJ(null,0):2==e?f.hJ(a,c||0):3==e&&f.Ms(a,c,d);return f};r.oj.YH=function(a,c,d){var e=new r.oj;e.Ms(a,c,d);return e};r.Ul=r.Ea.extend({FH:function(a,c){this.gm[c]=a},T$:function(a){a&&this.gm.hasOwnProperty(a)&&delete this.gm[a]},zI:function(a){return this.gm.hasOwnProperty(a)?this.gm[a]:null},XN:function(a,c){var d=a.animations;if(d){var e=1,f=a.properties;if(f)for(var e=null!=f.format?parseInt(f.format):e,f=f.spritesheets,g=r.pg.e(),h=r.Ld.e(),k,l=0;l<f.length;l++)k=h.yI(f[l],c),g.MH(k);switch(e){case 1:this.DP(d);break;case 2:this.EP(d);break;default:r.log("cc.AnimationCache. Invalid animation format")}}else r.log("cocos2d: cc.AnimationCache: No animations were found in provided dictionary.")},
G1:function(a){if(!a)throw"cc.AnimationCache.addAnimations(): Invalid texture file name";var c=r.Ld.e(),d=c.ue(a);(c=c.Kw(d))?this.XN(c,a):r.log("cc.AnimationCache.addAnimations(): File could not be found")},DP:function(a){var c=r.pg.e(),d;for(d in a){var e=a[d],f=e.frames,e=parseFloat(e.delay)||0,g=null;if(f){for(var g=[],h=0;h<f.length;h++){var k=c.uh(f[h]);if(k){var l=new r.pj;l.Ee(k,1,null);g.push(l)}else r.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+f[h]+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}0===
g.length?r.log("cocos2d: cc.AnimationCache: None of the frames for animation '"+d+"' were found in the cc.SpriteFrameCache. Animation is not being added to the Animation Cache."):(g.length!=f.length&&r.log("cocos2d: cc.AnimationCache: An animation in your dictionary refers to a frame which is not in the cc.SpriteFrameCache. Some or all of the frames for the animation '"+d+"' may be missing."),g=r.oj.YH(g,e,1),r.Ul.e().FH(g,d))}else r.log("cocos2d: cc.AnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},
EP:function(a){var c=r.pg.e(),d;for(d in a){var e=a[d],f=parseInt(e.loops),f=e.loop?r.am:isNaN(f)?1:f,g=e.restoreOriginalFrame&&!0==e.restoreOriginalFrame?!0:!1,h=e.frames;if(h){for(var k=[],l=0;l<h.length;l++){var m=h[l],n=m.spriteframe,p=c.uh(n);if(p){var n=parseFloat(m.delayUnits)||0,m=m.notification,q=new r.pj;q.Ee(p,n,m);k.push(q)}else r.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+n+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}e=
parseFloat(e.delayPerUnit)||0;h=new r.oj;h.Ms(k,e,f);h.Nx(g);r.Ul.e().FH(h,d)}else r.log("cocos2d: CCAnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},r:function(){this.gm={};return!0},gm:null});r.Ul.GV=function(){r.Bn&&(r.Bn.gm=null,r.Bn=null)};r.Ul.e=function(){null===r.Bn&&(r.Bn=new r.Ul,r.Bn.r());return r.Bn};r.Bn=null;r.Md=r.Ea.extend({Kb:null,md:null,Ve:null,nd:!1,Aa:null,Qf:null,tf:null,Fa:null,hp:"",qb:!1,jv:null,ctor:function(){this.Kb=r.zd();this.Qf=r.zd();this.md=r.Fm();this.nd=!1;this.tf=r.Fm();this.hp="";this.Fa=null;this.qb=!1},EL:function(){return this.qb},Xf:function(a,c){null==this.jv&&(this.jv=[]);this.jv.push({fk:a,bi:c})},de:function(){var a=this.jv;if(a){for(var c=0,d=a.length;c<d;c++){var e=a[c];e.fk.call(e.bi,this)}a.length=0}},qT:function(){var a=this.Ve;return r.rect(a.x,a.y,a.width,a.height)},
Qba:function(a){this.Ve||(this.Ve=r.rect(0,0,0,0));this.Ve.x=a.x;this.Ve.y=a.y;this.Ve.width=a.width;this.Ve.height=a.height;this.Aa=r.xq(a)},z8:function(){return this.nd},Yba:function(a){this.nd=a},xe:function(){var a=this.Aa;return r.rect(a.x,a.y,a.width,a.height)},XK:function(a){this.Aa||(this.Aa=r.rect(0,0,0,0));this.Aa.x=a.x;this.Aa.y=a.y;this.Aa.width=a.width;this.Aa.height=a.height;this.Ve=r.Zn(this.Aa)},O5:function(){return this.Qf},zba:function(a){this.Qf.F=a.x;this.Qf.K=a.y;r.Ku(this.Qf,
this.Kb)},V5:function(){return this.tf},Cba:function(a){this.tf.Ha=a.width;this.tf.va=a.height},kT:function(){return this.md},Bba:function(a){this.md.Ha=a.width;this.md.va=a.height},aa:function(){if(this.Fa)return this.Fa;if(""!==this.hp){var a=r.ga.e().qa(this.hp);a&&(this.qb=a.Lg());return a}return null},fa:function(a){if(this.Fa!=a){var c=a.Lg();this.qb=c;this.Fa=a;c||a.Xf(function(a){this.qb=!0;if(this.nd&&r.Hd===r.lg){var c=a.Jc,c=r.aI(c,this.xe()),f=new r.bc;f.Ff(c);f.De();this.fa(f);c=this.xe();
this.XK(r.rect(0,0,c.width,c.height))}c=this.Aa;0===c.width&&0===c.height&&(a=a.c(),this.Aa.width=a.width,this.Aa.height=a.height,this.Ve=r.Zn(this.Aa),this.tf.Ha=this.Ve.width,this.tf.va=this.Ve.height,this.md.Ha=a.width,this.md.va=a.height);this.de()},this)}},N5:function(){return this.Kb},yba:function(a){this.Kb.F=a.x;this.Kb.K=a.y},H:function(){var a=new r.Md;a.dx(this.hp,this.Ve,this.nd,this.Qf,this.tf);a.fa(this.Fa);return a},Iw:function(){var a=new r.Md;a.dx(this.hp,this.Ve,this.nd,this.Qf,
this.tf);a.fa(this.Fa);return a},copy:function(){return this.Iw()},Ma:function(a,c,d,e,f){2===arguments.length&&(c=r.Zn(c));e=e||r.a(0,0);f=f||c.cb;this.fa(a);this.Ve=c;this.Aa=r.xq(c);this.Qf.F=e.x;this.Qf.K=e.y;r.Ku(e,this.Kb);this.tf.Ha=f.width;this.tf.va=f.height;r.qz(f,this.md);this.nd=d||!1;return!0},dx:function(a,c,d,e,f){2===arguments.length&&(c=r.Zn(c));e=e||r.a(0,0);f=f||c.cb;this.Fa=null;this.hp=a;this.Ve=c;this.Aa=r.xq(c);this.nd=d||!1;this.Qf.F=e.x;this.Qf.K=e.y;r.Ku(e,this.Kb);this.tf.Ha=
f.width;this.tf.va=f.height;r.qz(f,this.md);return!0}});r.Md.create=function(a,c,d,e,f){var g=new r.Md;switch(arguments.length){case 2:g.dx(a,c);break;case 5:g.dx(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};r.Md.eb=function(a,c,d,e,f){var g=new r.Md;switch(arguments.length){case 2:g.Ma(a,c);break;case 5:g.Ma(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};
r.Md.$0=function(a,c,d,e,f){var g=new r.Md;g.Fa=a;g.Ve=c;g.Aa=r.xq(c);g.Qf.F=e.x;g.Qf.K=e.y;r.Ku(g.Qf,g.Kb);g.tf.Ha=f.width;g.tf.va=f.height;r.qz(g.tf,g.md);g.nd=d;return g};r.pg=r.Ea.extend({Xe:null,bl:null,Cr:null,ctor:function(){this.Xe={};this.bl={};this.Cr=[]},Az:function(a,c){var d=a.metadata||a.meta,e=a.frames,f=0;d&&(f=d.format,f=1>=f.length?parseInt(f):f);if(0>f||3<f)r.log("format is not supported for cc.SpriteFrameCache.addSpriteFramesWithDictionary");else for(var g in e)if(d=e[g]){var h=this.Xe[g];if(!h){if(0==f){var h=parseFloat(d.x),k=parseFloat(d.y),l=parseFloat(d.width),m=parseFloat(d.height),n=parseFloat(d.offsetX),p=parseFloat(d.offsetY),q=parseInt(d.originalWidth),
d=parseInt(d.originalHeight);q&&d||r.log("cocos2d: WARNING: originalWidth/Height not found on the cc.SpriteFrame. AnchorPoint won't work as expected. Regenrate the .plist");q=Math.abs(q);d=Math.abs(d);h=r.Md.eb(c,r.rect(h,k,l,m),!1,r.a(n,p),r.size(q,d))}else if(1==f||2==f)h=r.sF(d.frame),k=!1,2==f&&(k=d.rotated),l=r.rF(d.offset),d=r.cz(d.sourceSize),h=r.Md.eb(c,h,k,l,d);else if(3==f){var h=r.cz(d.spriteSize),k=r.rF(d.spriteOffset),l=r.cz(d.spriteSourceSize),m=r.sF(d.textureRect),n=d.textureRotated,
p=d.aliases,q=g.toString(),u;for(u in p)this.bl.hasOwnProperty(p[u])&&r.log("cocos2d: WARNING: an alias with name "+u+" already exists"),this.bl[p[u]]=q;d.hasOwnProperty("spriteSize")&&(m=r.rect(m.x,m.y,h.width,h.height));h=r.Md.eb(c,m,n,k,l)}else var w=d.filename,k=d.frame,h=d.sourceSize,k=r.rect(k.x,k.y,k.SL,k.Ce),d=d.rotated,l=r.a(0,0),h=r.size(h.SL,h.Ce),h=r.Md.eb(c,k,d,l,h);r.Hd===r.lg&&h.nd&&h.aa().Lg()&&(d=h.aa().Jc,d=r.aI(d,h.qT()),k=new r.bc,k.Ff(d),k.De(),h.fa(k),d=h.Aa,h.XK(r.rect(0,0,
d.width,d.height)));this.Xe[null!=w?w:g]=h}}},MH:function(a,c){if(!a)throw"cc.SpriteFrameCache.addSpriteFrames(): plist should be non-null";var d=r.Ld.e(),e;"plist"==a.substr(a.lastIndexOf(".",a.length)+1,a.length)?(e=d.ue(a),e=d.Kw(e)):e=JSON.parse(d.JI(a));switch(arguments.length){case 1:if(!r.qy(this.Cr,a)){var f="",g=e.metadata||e.meta;g&&(f=g.textureFileName||g.image);""!=f?f=d.yI(f,a):(f=a,f=f.substr(0,f.lastIndexOf(".",f.length)),f+=".png");(d=r.ga.e().qa(f))?this.Az(e,d):r.log("cocos2d: cc.SpriteFrameCache: Couldn't load texture")}break;
case 2:if(c instanceof r.bc)this.Az(e,c);else{if(!c)throw"cc.SpriteFrameCache.addSpriteFrames(): texture name should not be null";(d=r.ga.e().qa(c))?this.Az(e,d):r.log("cocos2d: cc.SpriteFrameCache: couldn't load texture file. File not found "+c)}break;default:throw"Argument must be non-nil ";}},WB:function(a,c){this.Xe[c]=a},baa:function(){this.Xe=[];this.bl=[];this.Cr={}},aaa:function(a){a&&(this.bl.hasOwnProperty(a)&&delete this.bl[a],this.Xe.hasOwnProperty(a)&&delete this.Xe[a],this.Cr={})},caa:function(a){var c=
r.Ld.e(),d=c.ue(a),c=c.Kw(d);this.OP(c);r.qy(this.Cr,a)&&r.Yd(a)},OP:function(a){a=a.frames;for(var c in a)this.Xe.hasOwnProperty(c)&&delete this.Xe[c]},daa:function(a){for(var c in this.Xe){var d=this.Xe[c];d&&d.aa()==a&&delete this.Xe[c]}},uh:function(a){var c;this.Xe.hasOwnProperty(a)&&(c=this.Xe[a]);if(!c){var d;this.bl.hasOwnProperty(a)&&(d=this.bl[a]);d&&(this.Xe.hasOwnProperty(d.toString())&&(c=this.Xe[d.toString()]),c||r.log("cocos2d: cc.SpriteFrameCahce: Frame "+a+" not found"))}return c}});
r.Dx=null;r.pg.e=function(){r.Dx||(r.Dx=new r.pg);return r.Dx};r.pg.HV=function(){r.Dx=null};r.vq=29;
r.ub=r.D.extend({Sa:null,ia:null,xd:null,S1:function(a,c,d){if(!a)throw"cc.SpriteBatchNode.addQuadFromSprite(): child should be non-null";if(!(a instanceof r.v))return r.log("cc.SpriteBatchNode.addQuadFromSprite(): SpriteBatchNode only supports cc.Sprites as children"),null;a.He(c);var e=0,f=this.xd;if(f&&0<f.length)for(var g=0;g<f.length;g++){var h=f[g];h&&h.Xc>=c&&++e}this.xd=r.Vl(f,a,e);r.D.prototype.f.call(this,a,c,d);this.pK(!1);return this},KI:function(){return this.Sa},iq:function(a){a!=this.Sa&&
(this.Sa=a)},J4:function(){return this.xd},bj:function(a,c){var d=r.ga.e().dy(a);d||(d=r.ga.e().qa(a));return this.Ma(d,c)},Dm:function(){this.aG=!0},r:function(a,c){var d=r.ga.e().dy(a);d||(d=r.ga.e().qa(a));return this.Ma(d,c)},Zw:function(){var a=this.Sa.jd,c=Math.floor(4*(a+1)/3);r.log("cocos2d: CCSpriteBatchNode: resizing TextureAtlas capacity from "+a+" to "+c+".");this.Sa.mW(c)||r.log("cocos2d: WARNING: Not enough memory to resize the atlas")},V$:function(a,c){this.removeChild(this.t[a],c)},
hK:function(a,c){var d=a.t;if(d&&0<d.length)for(var e=0;e<d.length;e++){var f=d[e];f&&0>f.gb&&(c=this.hK(f,c))}!a==this&&(a.He(c),c++);if(d&&0<d.length)for(e=0;e<d.length;e++)(f=d[e])&&0<=f.gb&&(c=this.hK(f,c));return c},PC:function(a){var c=a.t;return c&&0!=c.length?this.PC(c[c.length-1]):a.Xc},KU:function(a){var c=a.t;return c&&0!=c.length?this.KU(c[c.length-1]):a.Xc},wR:function(a,c){var d=a.getParent().t,e=r.sy(d,a),f=a.getParent()==this,g=null;0<e&&e<r.EN&&(g=d[e-1]);if(f)return 0==e?0:this.PC(g)+
1;if(0==e)return d=a.getParent(),0>c?d.Xc:d.Xc+1;if(0>g.gb&&0>c||0<=g.gb&&0<=c)return this.PC(g)+1;d=a.getParent();return d.Xc+1},pK:function(a){this.le=a},Fl:function(a,c){this.ia=1==arguments.length?a:{src:a,Ib:c}},Bs:function(){return this.ia},at:function(a,c){if(!a)throw"cc.SpriteBatchNode.addChild():child should be non-null";-1===this.t.indexOf(a)?r.log("cc.SpriteBatchNode.addChild(): Child doesn't belong to Sprite"):c!==a.gb&&(r.D.prototype.at.call(this,a,c),this.Xa())},removeChild:function(a,
c){null!=a&&(-1===this.t.indexOf(a)?r.log("cc.SpriteBatchNode.addChild(): sprite batch node should contain the child"):(this.yn(a),r.D.prototype.removeChild.call(this,a,c)))},tP:null,Lm:null,C1:!1,vg:null,ctor:null,Jh:function(a){r.D.prototype.ctor.call(this);a&&this.r(a,r.vq)},Kh:function(a){r.D.prototype.ctor.call(this);this.tP=new r.wh;a&&this.r(a,r.vq)},OL:null,ZQ:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";a instanceof r.v?(a.Ie(this),a.He(c),
a.Pg(!0),a.jg()):r.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},$Q:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";if(a instanceof r.v){for(var d=this.Sa.jd;c>=d||d==this.Sa.Ua;)this.Zw();a.Ie(this);a.He(c);a.Pg(!0);a.jg()}else r.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},iw:function(a,c){var d=this.xd,e=this.Sa,f=e.Te,g=d[a],
h=r.nz(f[a]);d[c].He(a);d[a]=d[c];e.jy(f[c],a);d[c]=g;e.jy(h,c)},iJ:null,gP:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";a instanceof r.v?(a.Ie(this),a.He(c),a.Pg(!0),a.jg(),this.t=r.Vl(this.t,a,c)):r.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},hP:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";if(a instanceof r.v){for(var d=this.Sa;c>=d.jd||
d.jd===d.Ua;)this.Zw();a.Ie(this);a.He(c);d.YC(a.Lb,c);a.Pg(!0);a.jg()}else r.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},sH:function(a,c){var d=0,e=a.t;e&&(d=e.length);var f=0;if(0===d)f=a.Xc,a.He(c),a.fq(0),f!=c&&this.iw(f,c),c++;else{f=!0;0<=e[0].gb&&(f=a.Xc,a.He(c),a.fq(0),f!=c&&this.iw(f,c),c++,f=!1);for(d=0;d<e.length;d++){var g=e[d];f&&0<=g.gb&&(f=a.Xc,a.He(c),a.fq(0),f!=c&&this.iw(f,c),c++,f=!1);c=this.sH(g,c)}f&&(f=a.Xc,a.He(c),
a.fq(0),f!=c&&this.iw(f,c),c++)}return c},Qm:function(){this.Sa.aa().Ls()||(this.ia.src=770,this.ia.Ib=771)},Ma:null,wr:function(a){this.t=[];this.xd=[];this.ia=new r.Xl(r.Le,r.Ke);this.Lm=this.vg=a;return!0},xr:function(a,c){this.t=[];this.xd=[];this.ia=new r.Xl(r.Le,r.Ke);c=c||r.vq;this.Sa=new r.fo;this.Sa.Ma(a,c);this.Qm();this.Qg(r.Hh.e().li(r.Zy));return!0},oU:function(a,c){a.Ie(this);a.He(c);a.Pg(!0);var d=this.Sa;d.Ua>=d.jd&&this.Zw();d.YC(a.Lb,c);this.xd=r.Vl(this.xd,a,c);var d=c+1,e=this.xd;
if(e&&0<e.length)for(;d<e.length;d++)e[d].He(e[d].Xc+1);if((e=a.t)&&0<e.length)for(d=0;d<e.length;d++)if(e[d]){var f=this.wR(e[d],e[d].gb);this.oU(e[d],f)}},appendChild:null,dO:function(a){this.le=!0;a.Ie(this);a.Pg(!0);this.xd.push(a);a.He(this.xd.length-1);a=a.t;for(var c=0;c<a.length;c++)this.appendChild(a[c])},eO:function(a){this.le=!0;a.Ie(this);a.Pg(!0);this.xd.push(a);var c=this.xd.length-1;a.He(c);var d=this.Sa;d.Ua==d.jd&&this.Zw();d.YC(a.Lb,c);a=a.t;for(c=0;c<a.length;c++)this.appendChild(a[c])},
yn:null,PP:function(a){a.Ie(null);var c=this.xd,d=r.sy(c,a);if(-1!=d){r.qq(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.He(f.Xc-1)}}if((a=a.t)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.yn(a[c])},QP:function(a){this.Sa.gW(a.Xc);a.Ie(null);var c=this.xd,d=r.sy(c,a);if(-1!=d){r.qq(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.He(f.Xc-1)}}if((a=a.t)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.yn(a[c])},aa:null,tA:function(){return this.Lm},uA:function(){return this.Sa.aa()},fa:null,Tr:function(a){this.Lm=
a;for(var c=this.t,d=0;d<c.length;d++)c[d].fa(a)},Ur:function(a){this.Sa.fa(a);this.Qm()},sa:null,Rm:function(a){var c=a||r.X;if(this.la){c.save();this.transform(a);var d=this.t;if(d)for(this.Vd(),a=0;a<d.length;a++)d[a]&&d[a].sa(c);c.restore()}},Sm:function(a){a=a||r.X;if(this.la){r.Up();var c=this.Ok;c&&c.Qp()&&(c.aC(),this.hy());this.Vd();this.transform(a);this.Wa(a);c&&c.Qp()&&c.XB(this);r.Tp();this.fq(0)}},f:null,xz:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";
a instanceof r.v?(c=null==c?a.gb:c,d=null==d?a.pd:d,r.D.prototype.f.call(this,a,c,d),this.appendChild(a),this.Xa()):r.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},yz:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";a instanceof r.v?a.aa()!=this.Sa.aa()?r.log("cc.SpriteBatchNode.addChild(): cc.Sprite is not using the same texture"):(c=null==c?a.gb:c,d=null==d?a.pd:d,r.D.prototype.f.call(this,a,c,d),this.appendChild(a),
this.Xa()):r.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},jc:null,LP:function(a){var c=this.xd;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].Ie(null);r.D.prototype.jc.call(this,a);this.xd=[]},MP:function(a){var c=this.xd;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].Ie(null);r.D.prototype.jc.call(this,a);this.xd=[];this.Sa.aW()},Vd:null,DQ:function(){if(this.le){var a,c=0,d=this.t,e=d.length,f;for(a=1;a<e;a++){var g=d[a],
c=a-1;for(f=d[c];0<=c&&(g.gb<f.gb||g.gb==f.gb&&g.Rf<f.Rf);)d[c+1]=f,c-=1,f=d[c];d[c+1]=g}0<d.length&&this.rg(d,r.D.Mf.Vd);this.le=!1}},EQ:function(){if(this.le){var a=this.t,c,d=0,e=a.length,f;for(c=1;c<e;c++){var g=a[c],d=c-1;for(f=a[d];0<=d&&(g.gb<f.gb||g.gb==f.gb&&g.Rf<f.Rf);)a[d+1]=f,d-=1,f=a[d];a[d+1]=g}if(0<a.length)for(this.rg(a,r.D.Mf.Vd),c=d=0;c<a.length;c++)d=this.sH(a[c],d);this.le=!1}},Wa:null,ug:function(){0!==this.Sa.Ua&&(this.Kc.of(),this.Kc.Rg(),this.rg(this.t,r.D.Mf.jg),r.gk(this.ia.src,
this.ia.Ib),this.Sa.yS())}});
r.Ga.Qc?(b=r.ub.prototype,b.ctor=r.ub.prototype.Kh,b.OL=r.ub.prototype.$Q,b.iJ=r.ub.prototype.hP,b.Ma=r.ub.prototype.xr,b.appendChild=r.ub.prototype.eO,b.yn=r.ub.prototype.QP,b.aa=r.ub.prototype.uA,b.fa=r.ub.prototype.Ur,b.sa=r.ub.prototype.Sm,b.f=r.ub.prototype.yz,b.jc=r.ub.prototype.MP,b.Vd=r.ub.prototype.EQ,b.Wa=r.ub.prototype.ug):(b=r.ub.prototype,b.ctor=r.ub.prototype.Jh,b.OL=r.ub.prototype.ZQ,b.iJ=r.ub.prototype.gP,b.Ma=r.ub.prototype.wr,b.appendChild=r.ub.prototype.dO,b.yn=r.ub.prototype.PP,
b.aa=r.ub.prototype.tA,b.fa=r.ub.prototype.Tr,b.sa=r.ub.prototype.Rm,b.jc=r.ub.prototype.LP,b.f=r.ub.prototype.xz,b.Vd=r.ub.prototype.DQ,b.Wa=r.D.prototype.Wa);r.ub.create=function(a,c){c=c||r.vq;var d=new r.ub;d.r(a,c);return d};r.ub.eb=function(a,c){c=c||r.vq;var d=new r.ub;d.Ma(a,c);return d};r.tZ={qZ:0,sZ:1,rZ:2,pZ:3,oZ:4};
r.Me=r.Ea.extend({Er:0,EG:0,cs:!1,bs:!1,ew:!1,fw:!1,gw:!1,qP:0,Hv:0,Kq:"",ak:null,ctor:function(){this.EG=this.Er=0;this.gw=this.fw=this.ew=this.bs=this.cs=!1;this.Hv=this.qP=0;this.Kq="";this.ak={}},u5:function(){return this.Er},t5:function(){return this.EG},v5:function(){return this.Hv},Yca:function(){return this.bs},Zca:function(){return this.cs},Wca:function(){return this.ew},Xca:function(){return this.fw},$ca:function(){return this.gw},tp:function(a){return-1<this.Kq.indexOf(a)},r:function(){var a=
this.ak;a["cocos2d.x.version"]=r.Gt;a["cocos2d.x.compiled_with_profiler"]=!1;a["cocos2d.x.compiled_with_gl_state_cache"]=r.WE;return!0},m4:function(a,c){var d=this.ak;return d.hasOwnProperty(a)?d[a]:c},h4:function(a,c){null==c&&(c=!1);var d=this.ak;return d.hasOwnProperty(a)?d[a]:c},F5:function(a,c){null==c&&(c=0);var d=this.ak;return d.hasOwnProperty(a)?d[a]:c},H5:function(a){var c=this.ak;return c.hasOwnProperty(a)?c[a]:null},sX:function(a,c){this.ak[a]=c},CS:function(){0===r.WE&&(r.log(""),r.log("cocos2d: **** WARNING **** CC_ENABLE_PROFILERS is defined. Disable it when you finish profiling (from ccConfig.js)"),
r.log(""))},PS:function(){if(r.Hd!==r.lg){var a=r.X,c=this.ak;c["gl.vendor"]=a.getParameter(a.VENDOR);c["gl.renderer"]=a.getParameter(a.RENDERER);c["gl.version"]=a.getParameter(a.VERSION);this.Kq="";for(var d=a.getSupportedExtensions(),e=0;e<d.length;e++)this.Kq+=d[e]+" ";this.Er=a.getParameter(a.MAX_TEXTURE_SIZE);c["gl.max_texture_size"]=this.Er;this.Hv=a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS);c["gl.max_texture_units"]=this.Hv;this.cs=this.tp("GL_IMG_texture_compression_pvrtc");c["gl.supports_PVRTC"]=
this.cs;this.bs=!1;c["gl.supports_NPOT"]=this.bs;this.ew=this.tp("GL_IMG_texture_format_BGRA888");c["gl.supports_BGRA8888"]=this.ew;this.fw=this.tp("GL_EXT_discard_framebuffer");c["gl.supports_discard_framebuffer"]=this.fw;this.gw=this.tp("vertex_array_object");c["gl.supports_vertex_array_object"]=this.gw;r.FE()}},f9:function(a){var c=r.Ld.e(),d=c.ue(a),c=c.Kw(d);if(null!=c)if(c=c.data)for(var e in c)this.ak[e]=c[e];else r.log("Expected 'data' dict, but not found. Config file: "+a)}});r.Me.Wr=null;
r.Me.e=function(){r.Me.Wr||(r.Me.Wr=new r.Me,r.Me.Wr.r());return r.Me.Wr};r.Me.z$=function(){r.Me.Wr=null};r.ci=0;r.mM=0;r.TE=1;r.nM=3;r.oM=r.TE;r.yZ=0;r.wZ=1;r.zZ=2;r.xZ=3;r.vZ=2;r.CZ=r.Ea.extend({Hda:function(){}});r.XE=function(a){var c=new r.wh;r.CU(r.hu,c);var d=new r.wh;r.CU(r.gu,d);r.FU(a,c,d)};
r.Z=r.Ea.extend({l1:!1,Ir:!1,ym:!1,Uv:!1,Cm:!1,ah:0,KA:0,$k:0,jo:0,lm:1,dr:!1,Kk:0,mv:0,Dk:null,Fk:null,Lk:null,Rb:null,Oj:null,Li:null,Mv:null,hh:null,Si:null,WA:null,od:null,he:0,EB:0,kB:0,X0:null,Bg:null,$g:null,af:null,FA:null,Pu:null,Gr:null,k1:!1,ctor:function(){this.Oj=Date.now();if(!r.ZC){var a=this;window.addEventListener("focus",function(){a.Oj=Date.now()},!1)}},VP:function(){this.Oj=Date.now()},r:function(){this.KA=this.ah=1/r.gS;this.Si=[];this.$k=r.oM;this.WA=null;this.mv=this.jo=0;this.dr=
!1;this.EB=this.he=0;this.Oj=Date.now();this.Uv=this.ym=!1;this.Rb=r.Fm();this.hh=null;this.lm=1;this.Bg=new r.rN;this.$g=new r.YL;this.Bg.vK(this.$g,r.ku,!1);r.ja&&(this.af=new r.ja,this.af.r());r.Xn&&(this.FA=r.Xn.e());r.wk&&(this.Pu=new r.wk);r.be&&(this.Gr=new r.be,this.Gr.r());return!0},AR:function(){var a=Date.now();this.Ir?(this.Kk=0,this.Ir=!1):this.Kk=(a-this.Oj)/1E3;0<r.Dt&&0.2<this.Kk&&(this.Kk=1/60);this.Oj=a},ZR:function(a){var c=new r.wh;r.XE(c);var d=new r.wh;r.X8(d,c);var c=c.xh[14]/
c.xh[15],e=this.hh.Cp();a=new r.Vp(2*a.x/e.width-1,1-2*a.y/e.height,c);c=new r.Vp;r.HU(c,a,d);return r.a(c.x,c.y)},aS:function(a){var c=new r.wh;r.XE(c);var d=new r.Vp;a=new r.Vp(a.x,a.y,0);r.HU(d,a,c);c=this.hh.Cp();return r.a(c.width*(0.5*d.x+0.5),c.height*(0.5*-d.y+0.5))},zS:function(){this.AR();this.ym||this.Bg.update(this.Kk);this.cG();this.Li&&this.rX();this.Fz&&this.Fz();this.od&&this.od.sa();this.Mv&&this.Mv.sa();this.dr&&this.CQ();this.Bz&&this.Bz();this.EB++;this.dr&&this.lO()},tO:function(){var a=
this.hh.cf;r.X.clearRect(-a.x,a.y,a.width,-a.height)},AO:function(){var a=r.X;a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},Fz:null,Bz:null,gO:function(){r.Up()},cO:function(){r.Tp()},end:function(){this.Uv=!0},y4:function(){return this.lm},E5:function(){return this.Mv},r7:function(){return this.Rb},HT:function(){return r.size(this.Rb.width*this.lm,this.Rb.height*this.lm)},Is:function(){return this.hh?this.hh.Is():this.Rb},RI:function(){return this.hh?this.hh.RI():r.fN},Ks:function(){return this.Rb.height/
1.1566},pause:function(){this.ym||(this.KA=this.ah,this.et(0.25),this.ym=!0)},t$:function(){if(!this.od)throw"running scene should not null";this.Si.pop();var a=this.Si.length;0==a?this.end():(this.Cm=!0,this.Li=this.Si[a-1])},uD:function(){r.My.uD()},FV:function(){this.Df().rt();this.af&&this.af.$V();this.od&&(this.od.yh(),this.od.Td(),this.od.Zf());this.Li=this.od=null;this.Si=[];this.xL();r.My.uD();r.Ul.GV();r.pg.HV();r.ga.IV();r.FE()},JV:function(a){if(!a)throw"the scene should not null";this.Cm=
!1;this.Si.push(a);this.Li=a},qK:function(a){if(!this.od)throw"Use runWithScene: instead to start the director";if(!a)throw"the scene should not be null";var c=this.Si.length;0===c?(this.Cm=!0,this.Si[c]=a):(this.Cm=!0,this.Si[c-1]=a);this.Li=a},sK:function(){this.ym&&(this.et(this.KA),(this.Oj=Date.now())||r.log("cocos2d: Director: Error in gettimeofday"),this.ym=!1,this.Kk=0)},uW:function(a){if(!a)throw"This command can only be used to start the CCDirector. There is already a scene present.";if(this.od)throw"_runningScene should be null";
this.JV(a);this.vL()},JW:function(a){a?r.gk(r.Le,r.Ke):r.gk(r.X.ONE,r.X.ZERO)},TW:function(a){a!=this.lm&&(this.lm=a,this.Bo())},XW:function(a){if(r.Hd!==r.lg){var c=r.X;a?(c.clearDepth(1),c.enable(c.DEPTH_TEST),c.depthFunc(c.LEQUAL)):c.disable(c.DEPTH_TEST)}},Naa:function(){},PK:function(){this.JW(!0);this.XW(!1);this.Mx(this.$k);r.X.clearColor(0,0,0,1)},uba:function(a){this.Ir=a},rX:function(){var a=!1,c=!1;r.IF&&(a=this.od?this.od instanceof r.IF:!1,c=this.Li?this.Li instanceof r.IF:!1);if(!c){if(c=
this.od)c.yh(),c.Td();this.Cm&&c&&c.Zf()}this.od=this.Li;this.Li=null;a||null==this.od||(this.od.Og(),this.od.ji())},vba:function(a){this.Mv=a},hc:function(){return this.WA},Bh:function(a){this.WA=a},xX:function(a){this.Rb.dE(r.canvas.width);this.Rb.RD(r.canvas.height);this.hh=a||r.ta.e();r.Hd!==r.lg&&(a=r.Me.e(),a.PS(),a.CS(),this.Bo(),this.PK(),this.af&&this.af.YW(!0))},iL:function(){if(this.hh){var a=this.Rb;this.hh.SX(0,0,a.width,a.height)}},Mx:function(a){var c=this.Rb;if(r.Hd===r.Ck){this.iL();
switch(a){case r.mM:r.fn(r.hu);r.fD();var d=new r.wh;r.GU(d,0,c.width,0,c.height,-1024,1024);r.gx(d);r.fn(r.gu);r.fD();break;case r.TE:var e=this.Ks(),f=new r.wh,d=new r.wh;r.fn(r.hu);r.fD();r.Y8(f,60,c.width/c.height,0.1,2*e);r.gx(f);r.fn(r.gu);r.fD();e=r.Qs(null,c.width/2,c.height/2,e);c=r.Qs(null,c.width/2,c.height/2,0);f=r.Qs(null,0,1,0);r.EU(d,e,c,f);r.gx(d);break;case r.nM:break;default:r.log("cocos2d: Director: unrecognized projection")}this.$k=a;r.Mba()}else this.$k=a},CQ:function(){this.he++;
this.jo+=this.Kk;this.Dk&&this.Fk&&this.Lk?(this.jo>r.lM&&(this.Fk.ha(this.kB.toFixed(3)),this.mv=this.he/this.jo,this.jo=this.he=0,this.Dk.ha(this.mv.toFixed(1)),this.Lk.ha((0|r.ci).toString())),this.Dk.sa(),this.Fk.sa(),this.Lk.sa()):this.Bo();r.ci=0},C8:function(){return this.Cm},w6:function(){return this.od},b4:function(){return this.ah},e8:function(){return this.dr},Raa:function(a){this.dr=a},B6:function(){return this.kB},T5:function(){return this.hh},p8:function(){return this.Ir},t8:function(){return this.ym},
a7:function(){return this.EB},j6:function(){return this.$k},u$:function(){this.vV(1)},vV:function(a){if(!this.od)throw"A running Scene is needed";var c=this.Si,d=c.length;if(0==d)this.end();else if(!(a>d)){for(;d>a;){var e=c.pop();e.We&&(e.yh(),e.Td());e.Zf();d--}this.Li=c[c.length-1];this.Cm=!1}},Df:function(){return this.Bg},IX:function(a){this.Bg!=a&&(this.Bg=a)},Hg:function(){return this.$g},HW:function(a){this.$g!=a&&(this.$g=a)},c7:function(){return this.af},rca:function(a){this.af!=a&&(this.af=
a)},Uw:function(){if(!r.Xn)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";return this.FA},jba:function(a){if(!r.Xn)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";this.FA=a},Bp:function(){if(!r.wk)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";return this.Pu},uaa:function(a){if(!r.wk)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";this.Pu!=
a&&(this.Pu=a)},I4:function(){return this.Kk},Cf:function(){if(!r.be)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";return this.Gr},sba:function(a){if(!r.be)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.Gr!=a&&(this.Gr=a)},Bo:null,DO:function(){if(!r.Ly)return this.fG();if(null!=r.Z.lG&&!1!=r.Z.lG){var a=new r.bc;a.Ff(r.Z.lA);a.De();var c=r.ta.e().Cp().height/320;0===c&&(c=this.Rb.height/320);var d=new r.Ly;d.nB(!0);
d.ql("00.0",a,12,32,".");d.rk(c);this.Dk=d;d=new r.Ly;d.nB(!0);d.ql("0.000",a,12,32,".");d.rk(c);this.Fk=d;d=new r.Ly;d.nB(!0);d.ql("000",a,12,32,".");d.rk(c);this.Lk=d;a=r.UE;this.Lk.m(r.eg(r.a(0,34*c),a));this.Fk.m(r.eg(r.a(0,17*c),a));this.Dk.m(a)}},fG:function(){var a=0,a=this.Rb.width>this.Rb.height?0|this.Rb.height/320*24:0|this.Rb.width/320*24;this.Dk=r.Q.create("000.0","Arial",a);this.Fk=r.Q.create("0.000","Arial",a);this.Lk=r.Q.create("0000","Arial",a);var a=r.UE,c=this.Lk.c();this.Lk.m(r.eg(r.a(c.width/
2,5*c.height/2),a));c=this.Fk.c();this.Fk.m(r.eg(r.a(c.width/2,3*c.height/2),a));c=this.Dk.c();this.Dk.m(r.eg(r.a(c.width/2,c.height/2),a))},lO:function(){this.kB=(Date.now()-this.Oj)/1E3}});r.Ga.Qc?(r.Z.prototype.cG=r.Z.prototype.AO,r.Z.prototype.Fz=r.Z.prototype.gO,r.Z.prototype.Bz=r.Z.prototype.cO,r.Z.prototype.Bo=r.Z.prototype.DO):(r.Z.prototype.cG=r.Z.prototype.tO,r.Z.prototype.Bo=r.Z.prototype.fG);
r.pM=r.Z.extend({ex:!1,vL:function(){this.Ir=!0;this.ex=!1;r.qj.e().et(this.ah)},EJ:function(){this.Uv?(this.Uv=!1,this.FV()):this.ex||this.zS()},xL:function(){this.ex=!0},et:function(a){this.ah=a;this.ex||(this.xL(),this.vL())}});r.Cx=null;r.sI=!0;r.Z.e=function(){r.sI&&(r.sI=!1,r.Cx=new r.pM,r.Cx.r(),r.Cx.xX(r.ta.e()));return r.Cx};Object.defineProperties(r,{Wda:{get:function(){return r.rS.Rb},enumerable:!0}});r.O3=!0;r.gS=60;r.Z.lA=new Image;
r.Z.lA.addEventListener("load",function(){r.Z.lG=!0;this.removeEventListener("load",arguments.callee,!1)});r.Z.lA.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAAgCAYAAAD9qabkAAAKQ2lDQ1BJQ0MgcHJvZmlsZQAAeNqdU3dYk/cWPt/3ZQ9WQtjwsZdsgQAiI6wIyBBZohCSAGGEEBJAxYWIClYUFRGcSFXEgtUKSJ2I4qAouGdBiohai1VcOO4f3Ke1fXrv7e371/u855zn/M55zw+AERImkeaiagA5UoU8Otgfj09IxMm9gAIVSOAEIBDmy8JnBcUAAPADeXh+dLA//AGvbwACAHDVLiQSx+H/g7pQJlcAIJEA4CIS5wsBkFIAyC5UyBQAyBgAsFOzZAoAlAAAbHl8QiIAqg0A7PRJPgUA2KmT3BcA2KIcqQgAjQEAmShHJAJAuwBgVYFSLALAwgCgrEAiLgTArgGAWbYyRwKAvQUAdo5YkA9AYACAmUIszAAgOAIAQx4TzQMgTAOgMNK/4KlfcIW4SAEAwMuVzZdL0jMUuJXQGnfy8ODiIeLCbLFCYRcpEGYJ5CKcl5sjE0jnA0zODAAAGvnRwf44P5Dn5uTh5mbnbO/0xaL+a/BvIj4h8d/+vIwCBAAQTs/v2l/l5dYDcMcBsHW/a6lbANpWAGjf+V0z2wmgWgrQevmLeTj8QB6eoVDIPB0cCgsL7SViob0w44s+/zPhb+CLfvb8QB7+23rwAHGaQJmtwKOD/XFhbnauUo7nywRCMW735yP+x4V//Y4p0eI0sVwsFYrxWIm4UCJNx3m5UpFEIcmV4hLpfzLxH5b9CZN3DQCshk/ATrYHtctswH7uAQKLDljSdgBAfvMtjBoLkQAQZzQyefcAAJO/+Y9AKwEAzZek4wAAvOgYXKiUF0zGCAAARKCBKrBBBwzBFKzADpzBHbzAFwJhBkRADCTAPBBCBuSAHAqhGJZBGVTAOtgEtbADGqARmuEQtMExOA3n4BJcgetwFwZgGJ7CGLyGCQRByAgTYSE6iBFijtgizggXmY4EImFINJKApCDpiBRRIsXIcqQCqUJqkV1II/ItchQ5jVxA+pDbyCAyivyKvEcxlIGyUQPUAnVAuagfGorGoHPRdDQPXYCWomvRGrQePYC2oqfRS+h1dAB9io5jgNExDmaM2WFcjIdFYIlYGibHFmPlWDVWjzVjHVg3dhUbwJ5h7wgkAouAE+wIXoQQwmyCkJBHWExYQ6gl7CO0EroIVwmDhDHCJyKTqE+0JXoS+cR4YjqxkFhGrCbuIR4hniVeJw4TX5NIJA7JkuROCiElkDJJC0lrSNtILaRTpD7SEGmcTCbrkG3J3uQIsoCsIJeRt5APkE+S+8nD5LcUOsWI4kwJoiRSpJQSSjVlP+UEpZ8yQpmgqlHNqZ7UCKqIOp9aSW2gdlAvU4epEzR1miXNmxZDy6Qto9XQmmlnafdoL+l0ugndgx5Fl9CX0mvoB+nn6YP0dwwNhg2Dx0hiKBlrGXsZpxi3GS+ZTKYF05eZyFQw1zIbmWeYD5hvVVgq9ip8FZHKEpU6lVaVfpXnqlRVc1U/1XmqC1SrVQ+rXlZ9pkZVs1DjqQnUFqvVqR1Vu6k2rs5Sd1KPUM9RX6O+X/2C+mMNsoaFRqCGSKNUY7fGGY0hFsYyZfFYQtZyVgPrLGuYTWJbsvnsTHYF+xt2L3tMU0NzqmasZpFmneZxzQEOxrHg8DnZnErOIc4NznstAy0/LbHWaq1mrX6tN9p62r7aYu1y7Rbt69rvdXCdQJ0snfU6bTr3dQm6NrpRuoW623XP6j7TY+t56Qn1yvUO6d3RR/Vt9KP1F+rv1u/RHzcwNAg2kBlsMThj8MyQY+hrmGm40fCE4agRy2i6kcRoo9FJoye4Ju6HZ+M1eBc+ZqxvHGKsNN5l3Gs8YWJpMtukxKTF5L4pzZRrmma60bTTdMzMyCzcrNisyeyOOdWca55hvtm82/yNhaVFnMVKizaLx5balnzLBZZNlvesmFY+VnlW9VbXrEnWXOss623WV2xQG1ebDJs6m8u2qK2brcR2m23fFOIUjynSKfVTbtox7PzsCuya7AbtOfZh9iX2bfbPHcwcEh3WO3Q7fHJ0dcx2bHC866ThNMOpxKnD6VdnG2ehc53zNRemS5DLEpd2lxdTbaeKp26fesuV5RruutK10/Wjm7ub3K3ZbdTdzD3Ffav7TS6bG8ldwz3vQfTw91jicczjnaebp8LzkOcvXnZeWV77vR5Ps5wmntYwbcjbxFvgvct7YDo+PWX6zukDPsY+Ap96n4e+pr4i3z2+I37Wfpl+B/ye+zv6y/2P+L/hefIW8U4FYAHBAeUBvYEagbMDawMfBJkEpQc1BY0FuwYvDD4VQgwJDVkfcpNvwBfyG/ljM9xnLJrRFcoInRVaG/owzCZMHtYRjobPCN8Qfm+m+UzpzLYIiOBHbIi4H2kZmRf5fRQpKjKqLupRtFN0cXT3LNas5Fn7Z72O8Y+pjLk722q2cnZnrGpsUmxj7Ju4gLiquIF4h/hF8ZcSdBMkCe2J5MTYxD2J43MC52yaM5zkmlSWdGOu5dyiuRfm6c7Lnnc8WTVZkHw4hZgSl7I/5YMgQlAvGE/lp25NHRPyhJuFT0W+oo2iUbG3uEo8kuadVpX2ON07fUP6aIZPRnXGMwlPUit5kRmSuSPzTVZE1t6sz9lx2S05lJyUnKNSDWmWtCvXMLcot09mKyuTDeR55m3KG5OHyvfkI/lz89sVbIVM0aO0Uq5QDhZML6greFsYW3i4SL1IWtQz32b+6vkjC4IWfL2QsFC4sLPYuHhZ8eAiv0W7FiOLUxd3LjFdUrpkeGnw0n3LaMuylv1Q4lhSVfJqedzyjlKD0qWlQyuCVzSVqZTJy26u9Fq5YxVhlWRV72qX1VtWfyoXlV+scKyorviwRrjm4ldOX9V89Xlt2treSrfK7etI66Trbqz3Wb+vSr1qQdXQhvANrRvxjeUbX21K3nShemr1js20zcrNAzVhNe1bzLas2/KhNqP2ep1/XctW/a2rt77ZJtrWv913e/MOgx0VO97vlOy8tSt4V2u9RX31btLugt2PGmIbur/mft24R3dPxZ6Pe6V7B/ZF7+tqdG9s3K+/v7IJbVI2jR5IOnDlm4Bv2pvtmne1cFoqDsJB5cEn36Z8e+NQ6KHOw9zDzd+Zf7f1COtIeSvSOr91rC2jbaA9ob3v6IyjnR1eHUe+t/9+7zHjY3XHNY9XnqCdKD3x+eSCk+OnZKeenU4/PdSZ3Hn3TPyZa11RXb1nQ8+ePxd07ky3X/fJ897nj13wvHD0Ivdi2yW3S609rj1HfnD94UivW2/rZffL7Vc8rnT0Tes70e/Tf/pqwNVz1/jXLl2feb3vxuwbt24m3Ry4Jbr1+Hb27Rd3Cu5M3F16j3iv/L7a/eoH+g/qf7T+sWXAbeD4YMBgz8NZD+8OCYee/pT/04fh0kfMR9UjRiONj50fHxsNGr3yZM6T4aeypxPPyn5W/3nrc6vn3/3i+0vPWPzY8Av5i8+/rnmp83Lvq6mvOscjxx+8znk98ab8rc7bfe+477rfx70fmSj8QP5Q89H6Y8en0E/3Pud8/vwv94Tz+4A5JREAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfcAgcQLxxUBNp/AAAQZ0lEQVR42u2be3QVVZbGv1N17829eRLyIKAEOiISEtPhJTJAYuyBDmhWjAEx4iAGBhxA4wABbVAMWUAeykMCM+HRTcBRWkNH2l5moS0LCCrQTkYeQWBQSCAIgYRXEpKbW/XNH5zS4noR7faPEeu31l0h4dSpvc+t/Z199jkFWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhY/H9D/MR9qfKnLj/00U71aqfJn9+HCkCR/Wk36ddsgyJ/1wF4fkDfqqm9/gPsUeTnVr6a2xlQfnxdI7zs0W7irzD17Ytb2WT7EeNv/r4ox1O3Quf2QP2pgt9utwfout4FQE8AVBSlnaRmfvAURQkg2RlAbwB9AThlW5L0GaiKojhJhgOIBqDa7XaPrusdPtr5kQwF0BVAAoBIABRCKDd5aFUhRDAAw57eAOwAhKIoupft3zoqhB1AqLwuHIBut9uFt02qqvqRDJR2dAEQJj/BAOjn56dqmma+xiaECAEQAWAggLsB6A6HQ2iaZggBhBAqgEAAnQB0kzaEmT4hAITT6VQ8Ho/HJAKKECJQtr8LwD1y/A1/vcdfEUIEyfZ9AcQbYvZ942Px88L2UwlJR0dH0EMPPbRj5syZPUeNGrXR7Xb/641xIwJ1XY9NSUlZm52dfW+XLl1w8uRJzJ8//+OGhoYJqqqe1TSt1Wsm9NN1PSIqKmr12rVrR5WUlHy1bdu2AQCumWc3IYRD1/UwVVXnFRQUTIuNjUVzczN2797dWFJSkq8oymZd15sAGAEnFEUJ1nX9nzIzM1dnZmZGh4SE4OTJk5g5c+Zf29vbp9pstrMej6fVOyhIhgAYU1hY+B+hoaGoqKg4XVlZea+XTULTNFdCQsLGiRMnPuR2u3UhBOV9eeDAAWXTpk095DUe6WsoyRE5OTlr0tLSAux2O/bs2cO5c+e+pijKUpIXSHaQVAGkvPLKK++6XK4OksJLCFlXV2cvKSlJBFAjhU+x2WwhHo9nUHp6+urMzMy7wsLCUF9fjxdffPHjxsbGiTab7WuPx9NiEutOuq4PyMjI+M+srKyYqKgoHD58GDNmzNjq8XhyVFU9b/q+LH7hBAEYu3PnTlZVVRFAGgCX6f/tAHoOHDjwa0p27txp/JO9e/f+QM7cipw9nfL3kQBKt2zZQpJ87rnn6mQmoHilw2EACs+cOUOSrK+vZ1NTE0nyo48+IoBpxswoBcMJ4Ndjx471kOTFixe5d+9ekqTH42H//v13A4jyzpAURfEH0H/OnDnthu1z5sw558MmFUCPWbNmnaMP3nrrLZoyDmP8Hl68eDFJ8siRI9/Yc+zYMQKYKdtAztrTrl27xptRXV1NAKMAOAyBBBA/Y8aMdpLs6Ojgxx9//E37+++//29yvFXppwvAwMcee8xjtDHsuXLlCqOjo//ia3wsfpkoALqFhoZuIckJEyackimm3dQmEMDUmpoakmRISMhhAHOHDx/eQJIbN24kgKEyMAHAFRMTs2XXrl1saWkhSZ0kp0+ffhrAr3wEW/S8efOukORLL72kA1gKYMPWrVtJkk899dRJAHeYrgsEsIQkjx8/TgDvAPjd448/3kaSb7zxBmUa7vC6z53BwcFbSHL9+vU6Sc6aNes8gF5ewWAH0PfVV18lSQL4DMBGIcQ6AKtcLleBFC2jXtFt8ODBe0iyoqKCAJYByC8qKmJDQwOzsrK+MAmqo1OnTveHhoa+GRkZ+XZkZOSWiIiIvzgcjk9mzpypkWRmZuZpmbYbGV4AgPnNzc1sa2sjgN0A5iQmJtaSZHl5OQHcb/K3s81mW0uSTU1NBFAFYFbfvn1Pk+Tbb79NAA8IIVzW42/hByA+Pz/fLR/2ZXIda05NI/z9/TeR5J49ewhgqlxTrtI0jY2NjQQw3zTLuWJiYjaUlJToS5Ys6fjkk080kwDEeAmADcA9GzZsIElGRUW9CyAWwLApU6Y0kOSKFSsog9QICGdERMTGsrIyZmVlEcC9AB4IDw/fTpLbtm0jgN94CUAnAJmVlZVcs2aNZ/LkyRdJcvbs2b4EwAkgZfPmzTxw4AABFAN4BkC6vFeUSewcAO5duXIlSTIhIaEawGMAxgKYAmAGgCS73e5vrKVk/yGythANYEhCQsIhkly+fDkBpKqqGmL6DgIALDKN/3yZpVWQZGVlJQE8aPI3KiMjo5okV61aRQAjAPQBMPfIkSN0u90EUCBtsPiFEwpgbn19PdetW2fM5N4zQ9ekpKQqkty0aRMBpMjiWM6JEydIkoqirJUFJ6iq6pAPVy8A6cZMehMBUACEuVyuFwG8HBwcPEIWx367ZMkSjSQXLVrUJouTRorrkAHdA8BdQogsAOsKCwtJkmPGjDkvMw2bDDo/ADEjRoz4XylyFbm5uY0mAbjLyyZ/AOOrq6tZVlbWsWDBgo69e/eyoqKCgwcPPg4gSQaoIRbp27dvN7KF+tLSUr28vJwFBQXtMpvpYRIM7+wrAkDeqVOnePbsWQIoNKfzpiXPg8uXLydJJicnNwF4f+nSpW6STEtLq5fjYwhk1wkTJtSQ5Ouvv04AqTKj+N2xY8dIkgEBAW/Ie1v8wncRegwZMmQvSfbr12+3Ua33WqPfOWbMmP0kWVpaSgCDZAqcfejQIWNZsEGKgvnh9gfQb9myZd8nAEJVVZtMkUNk8CcNHTq0liR1XWdYWNhmH1mJIme80OnTp18x1rp5eXkEsNJms92Fb7e/IgEsvHz5Mp999tkmAI/l5uZeMC0B7vEqqAYAyL106RJJsra2lpWVld+sucePH38ZQG+5NncBeOrgwYMkqbe3t/Po0aOsra011wAWyl0H7x0JJ4DE+fPnu0kyPT29DsDdUrBuyNKEEAkAdpw/f/6GeoEM8GUmfwEgPCIiopwkGxsbabPZPgOw6L777vvm4p49e26VGYjFLxUhhD+ApLKyMp44ccIoVnXybgbgzkcfffRzklyzZg0BDJYCMMmoCwQFBXkLgLGWvvcWAgBToSsKwNPTp09vMR7UuLi4rwH0lgU8c/Db5ezbeeTIkRWzZ8++aMxu+fn5BPCADBwHgP4LFy701NXVEUAJgAnPP/98kyxMNgHo53A4zH77BQQETMvPz7+Um5vbBuAlAFMSExPPmdbVL0qh8Acw8fDhw5SCchVAEYAVb775JknyhRdeaJYztHfxMwLAaqNwCGC2FArv8x0hAHKNLGPKlCme5OTk/Zs3bzb7O0wKiiG8KXl5ed8IxenTp0mSR48e1UmyW7duWywBuD2xyQcgFECgoih+8H1gyJgZV5Lkyy+/3CbTRIePtl2HDBmyw1QBHyGDdXZdXR1JUghRKkXBjOMHCoBdpr0L3nvvPZLkF198wejo6O0A4lVVDTb74HQ6AwD8Wq7Jh8rgGgDgQ13XjVR8qaxJuADMbmlpYXl5uV5UVNRWUFDgfv/993Vj/ZydnU1c37eHXML4S3viAcQqitJD2l104cIFY8lTKsXSBWBMVVWVcd9yed2A1NTUQ6Zl00CvLMMOoHdubm6zFIlWOf5+PsY/Kj09vdrU11QAwwGsv3jxIk21m2DZr10I0RXAuAcffPBgaWkpV69eTYfDcdiwUxY0w6xw+flX8L1xApjevXv3lREREaW6rofB93aPDUDQpEmTMgHgtddeqwBwEd/utZvpqK6uPgEAcXFxkA94NwB9unfvjrNnz4LklwDcf08iIqv66Zs2bXrl4YcfxooVKxAbG7uqrq5uAYA2TdOEqqpGYIi2tjbl6aeffu/YsWPv5uTk7JaC1wHg4Pnz542MwoVvTx+21dbWYvjw4WLixIl+2dnZ9lGjRgmSTE1NRUpKCkwFTGiaxtTU1OXTpk3707Bhw/6g67pDipnT4biuj7qut+Lbk3Vf1tTUXI9qu91Pjq1QFEUBgJaWFgBo8yGOQ8eNGxcAAOvXr/8QwBUfYygAKL169eoCABcuXACAWtn2hOGv0+kMNO1KiPDw8F4A4rZv3/7R1KlTR0+bNu1ht9u9r1+/fqitrQXJgwDarRC6/QjPzs4+QJIffPCB9/aQmSAA43ft2mW0e1QGoi8CAPyLsZccExNTC2BlRkbGRdOyYJCP2csBIN6UAZzCd7cBbQCijYp/dXU1ExMTz6SmptaMHj36f9LS0vYlJCRsl6mxIWSdu3fv/g5J7t+/nwC2AShMTk6+SJKff/45AWRLYbD7+fndAeDf5BJnLoCCyZMnt5JkdnZ2C4B/F0KEm1Pu+Pj4rST55ZdfEsBWAK+mpaVdMo3raDn7KwDuSEpK+m+S3LBhAwG8DuCtHTt2UBbpjgC408vvcFVV15HkuXPnjMp+p5uMf0RcXNyHJNnQ0EBVVfcCWBQXF3fG+Jv0yxABPwB5LS0tRmFxN4BlTzzxxGWSXLx4sS5F3GGFy+1Hp5SUlJq6ujoWFxdTpsZ2H+0iIyMj/0iSWVlZX5mr5jfJFroPGzasxlhTnjp1iiTZ3NxMl8tlrCd9pfa9SkpKSJI5OTmnZOageLUZZqxvfVFWVkZcPwdgNwnSCKPqb17jkmR8fPzfZMDZ5CRsFBmNI7h95s2b1yhT7/MAYmStwCx4vy0uLqa3v5qmEcCfvSr1QQAeXb16NY3Cm3HQ55133iGAp+SxZTNhKSkpfzUddkrFjYevzAQCeGjp0qXfsYckY2NjTwD4leGDLCL2HTdunNtoY+zWSHFcIHdsFCtcfuZ1vO9Eqs3m7/F47sb1k2qX/f3997W2tl7BjWfpBYDOzzzzzIVJkyZh0KBBCwEsB3AJvl9AETabLcDj8dwRFRW1ctasWb8JCgpSzp07d62wsPC/Wltb8xRFadR1/ZqPXYbgAQMGbI2Pjw/+6quv9ldVVT0r01ezuPRJSUn5Y9euXXVd11WzDaqq6kePHm3+7LPPRgO4KlNuxWazhXo8nuTk5OSXMjIyEl0uFxoaGtqKior+dPXq1VdUVT0jj7r68ieoT58+vx8yZMjdx48fP1JVVTVF9m20VW02WyfZf97YsWPjXS4X6urqWvPy8jYCWCyEuEDS8FdVFKWzruv//OSTTy5OTk7uqWkaPv3007qysrJ8RVH+LI8ym8/rB3Tu3HnRI488knLo0KG2ffv2ZQI4C98vP6mqqoZqmpaclpa2cOTIkX39/f3R0NDQUVxc/G5TU9PLqqrWa5rWLH1QVFUN0TStX1JSUvH48eP7BwYG4uDBg1cKCgpeBbBe2u+2Qug2EwD5N5sMPuNtMe8XP4TT6Qxoa2sbIGeXvUKIK7d4IISiKC5d1wPljOfA9bPwzYqiXNV13dd6Uqiq6qdpml2mpe02m63d4/G4vcTF5fF47LJf71nJA6BZVVW3pmntuPHlmAD5wk6Q9NnbHp9vHaqq6tA0zU/64PZhk1FfCZB9G/23ALiqKEqzD39tpvbGUqoFwFUhRLP3yzpCCDtJpxyXDulfG27+pqRR3DXsUWVd4Yq0x/taVQjhIhksC8L+ABpM9ljBf5sKwI8pIBr75L5E4vvu+UNeG/a+hv+AL7yFH8qPtOfHjtOP6V/Bja8D6z/B2Nys/1u9Xv33tLf4GfF/LC4GCJwByWIAAAAASUVORK5CYII\x3d";r.tq=r.Ea.extend({nr:null,or:null,pr:null,wo:null,xo:null,yo:null,ms:null,ns:null,os:null,Ja:null,Dv:null,ctor:function(){this.Dv=new r.wh;this.restore()},description:function(){return"\x3cCCCamera | center \x3d("+this.wo+","+this.xo+","+this.yo+")\x3e"},Pg:function(a){this.Ja=a},pJ:function(){return this.Ja},restore:function(){this.nr=this.or=0;this.pr=r.tq.Ks();this.ms=this.wo=this.xo=this.yo=0;this.ns=1;this.os=0;r.W8(this.Dv);this.Ja=!1},zJ:function(){if(this.Ja){var a=new r.Vp,c=new r.Vp,d=new r.Vp;
r.Qs(a,this.nr,this.or,this.pr);r.Qs(c,this.wo,this.xo,this.yo);r.Qs(d,this.ms,this.ns,this.os);r.EU(this.Dv,a,c,d);this.Ja=!1}r.gx(this.Dv)},Vaa:function(a,c,d){this.MK(a,c,d)},MK:function(a,c,d){this.nr=a;this.or=c;this.pr=d;this.Ja=!0},Eaa:function(a,c,d){this.PW(a,c,d)},PW:function(a,c,d){this.wo=a;this.xo=c;this.yo=d;this.Ja=!0},sca:function(a,c,d){this.RX(a,c,d)},RX:function(a,c,d){this.ms=a;this.ns=c;this.os=d;this.Ja=!0},Q4:function(){return{x:this.nr,y:this.or,z:this.pr}},DI:function(){return{x:this.nr,
y:this.or,z:this.pr}},p4:function(){return{x:this.wo,y:this.xo,z:this.yo}},BI:function(){return{x:this.wo,y:this.xo,z:this.yo}},g7:function(){return{x:this.ms,y:this.ns,z:this.os}},FT:function(){return{x:this.ms,y:this.ns,z:this.os}},H0:function(){}});r.tq.Ks=function(){return r.au};r.ku=-2147483648;r.E_=r.ku+1;r.At=function(a,c){if(a&&0<a.length)for(var d=0;d<a.length;d++)if(!(a[d]instanceof c)){r.log("element type is wrong!");break}};r.qq=function(a,c){a.splice(c,1)};r.Yd=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c){a.splice(d,1);break}};r.eZ=function(a,c){for(var d=0,e=c.length;d<e;d++)r.Yd(a,c[d])};r.dZ=function(a,c){return a.indexOf(c)};r.bZ=function(a,c){a.push(c)};r.Vl=function(a,c,d){a.splice(d,0,c);return a};
r.cZ=function(a,c,d){a.splice.apply(a,[d,0].concat(c));return a};r.sy=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c)return d;return-1};r.qy=function(a,c){return-1!=a.indexOf(c)};r.XZ=function(a,c){if(null==a)return null;for(var d=0;d<a.length;d++)if(a[d].target===c)return a[d];return null};r.bF=function(a,c,d){this.next=null;this.target=a;this.cK=c;this.paused=d;this.yl=!1};r.YE=function(a,c,d){this.list=a;this.bn=c;this.target=d;this.NC=null};
r.CM=function(a,c){this.ig=null;this.target=a;this.mq=0;this.ws=this.vs=null;this.paused=c;this.NC=null};
r.Bu=r.Ea.extend({Nj:0,Tf:null,T:null,fc:0,WG:!1,xw:!1,jp:0,dB:0,fv:0,ctor:function(){},l5:function(){return this.Nj},setInterval:function(){},C6:function(){return this.Tf},Kg:function(a,c,d,e,f){this.T=a;this.Tf=c;this.fc=-1;this.Nj=d||0;this.fv=f||0;this.xw=0<this.fv;this.dB=null==e?r.am:e;this.WG=this.dB==r.am;return!0},Iz:function(){if("string"==typeof this.Tf)this.T[this.Tf](this.fc);else this.Tf.call(this.T,this.fc)},update:function(a){if(-1==this.fc)this.jp=this.fc=0;else{var c=this.T,d=this.Tf;
this.WG&&!this.xw?(this.fc+=a,this.fc>=this.Nj&&(c&&d&&this.Iz(),this.fc=0)):(this.fc+=a,this.xw?this.fc>=this.fv&&(c&&d&&this.Iz(),this.fc-=this.fv,this.jp+=1,this.xw=!1):this.fc>=this.Nj&&(c&&d&&this.Iz(),this.fc=0,this.jp+=1),this.jp>this.dB&&r.Z.e().Df().IL(c,d))}}});r.Bu.uda=function(a,c,d){if(2>arguments.length)throw Error("timerWithTarget'argument can't is null");var e=new r.Bu;e.Kg(a,c,d||0,r.am,0);return e};r.u1=null;
r.rN=r.Ea.extend({fs:1,qh:null,Xh:null,Dg:null,Kj:null,Ru:null,Jj:null,T0:null,rf:null,Ei:!1,uw:!1,ctor:function(){this.fs=1;this.qh=[];this.Xh=[];this.Dg=[];this.Kj={};this.Ru=[];this.Jj={};this.Gk=[];this.rf=null;this.uw=this.Ei=!1},cB:function(a){delete this.Jj[a.target.ec];r.Yd(this.Gk,a);a.Bu=null;a.target=null},Z0:function(a,c){for(var d=0;d<a.length;d++)if(a[d].target==c)return a[d];return null},Wv:function(a){if(a=this.Kj[a.target.ec])r.Yd(a.list,a.bn),delete this.Kj[a.target.ec],r.Yd(this.Ru,
a),a.bn=null,a.target=null},PG:function(a,c,d,e){e=new r.bF(c,d,e);if(a){for(var f=!1,g=0;g<a.length;g++)if(d<a[g].cK){a=r.Vl(a,e,g);f=!0;break}f||a.push(e)}else a=[],a.push(e);d=new r.YE(a,e,c);this.Ru.push(d);this.Kj[c.ec]=d;return a},fO:function(a,c,d){d=new r.bF(c,0,d);a.push(d);a=new r.YE(a,d,c);this.Ru.push(a);this.Kj[c.ec]=a},mca:function(a){this.fs=a},V6:function(){return this.fs},update:function(a){this.uw=!0;1!=this.fs&&(a*=this.fs);var c,d;for(d=0;d<this.qh.length;d++)c=this.qh[d],c.paused||
c.yl||c.target.update(a);for(d=0;d<this.Xh.length;d++)c=this.Xh[d],c.paused||c.yl||c.target.update(a);for(d=0;d<this.Dg.length;d++)c=this.Dg[d],c.paused||c.yl||c.target.update(a);for(d=0;d<this.Gk.length;d++){c=this.rf=this.Gk[d];this.Ei=!1;if(!this.rf.paused)for(c.mq=0;c.mq<c.ig.length;c.mq++)c.vs=c.ig[c.mq],c.ws=!1,c.vs.update(a),c.vs=null;this.Ei&&0==this.rf.ig.length&&this.cB(this.rf)}for(d=0;d<this.qh.length;d++)this.qh[d].yl&&this.Wv(this.qh[d]);for(d=0;d<this.Xh.length;d++)this.Xh[d].yl&&this.Wv(this.Xh[d]);
for(d=0;d<this.Dg.length;d++)this.Dg[d].yl&&this.Wv(this.Dg[d]);this.uw=!1;this.rf=null},xW:function(a,c,d,e,f,g){if(!c)throw"cc.scheduler.scheduleCallbackForTarget(): callback_fn should be non-null.";if(!a)throw"cc.scheduler.scheduleCallbackForTarget(): target should be non-null.";d=d||0;e=null==e?r.am:e;f=f||0;g=g||!1;var h=this.Jj[a.ec];h||(h=new r.CM(a,g),this.Gk.push(h),this.Jj[a.ec]=h);if(null==h.ig)h.ig=[];else for(var k=0;k<h.ig.length;k++)if(g=h.ig[k],c==g.Tf){r.log("CCSheduler#scheduleCallback. Callback already scheduled. Updating interval from:"+
g.Nj.toFixed(4)+" to "+d.toFixed(4));g.Nj=d;return}g=new r.Bu;g.Kg(a,c,d,e,f);h.ig.push(g)},vK:function(a,c,d){var e=this.Kj[a.ec];e?e.bn.yl=!1:0==c?this.fO(this.Xh,a,d):0>c?this.qh=this.PG(this.qh,a,c,d):this.Dg=this.PG(this.Dg,a,c,d)},IL:function(a,c){if(null!=a&&null!=c){var d=this.Jj[a.ec];if(null!=d)for(var e=0;e<d.ig.length;e++){var f=d.ig[e];if(c==f.Tf){f!=d.vs||d.ws||(d.ws=!0);r.qq(d.ig,e);d.mq>=e&&d.mq--;0==d.ig.length&&(this.rf==d?this.Ei=!0:this.cB(d));break}}}},nq:function(a){null!=a&&
(a=this.Kj[a.ec],null!=a&&(this.uw?a.bn.yl=!0:this.Wv(a.bn)))},HL:function(a){if(null!=a){var c=this.Jj[a.ec];c&&(!c.ws&&r.qy(c.ig,c.vs)&&(c.ws=!0),c.ig.length=0,this.rf==c?this.Ei=!0:this.cB(c));this.nq(a)}},rt:function(){this.zY(r.ku)},zY:function(a){var c;for(c=0;c<this.Gk.length;c++)this.HL(this.Gk[c].target);if(0>a)for(c=0;c<this.qh.length;c++)this.nq(this.qh[c].target);if(0>=a)for(c=0;c<this.Xh.length;c++)this.nq(this.Xh[c].target);for(c=0;c<this.Dg.length;c++)this.Dg[c].cK>=a&&this.nq(this.Dg[c].target)},
q$:function(){return this.oV(r.ku)},oV:function(a){var c=[],d,e;for(d=0;d<this.Gk.length;d++)if(e=this.Gk[d])e.paused=!0,c.push(e.target);if(0>a)for(d=0;d<this.qh.length;d++)if(e=this.qh[d])e.paused=!0,c.push(e.target);if(0>=a)for(d=0;d<this.Xh.length;d++)if(e=this.Xh[d])e.paused=!0,c.push(e.target);for(d=0;d<this.Dg.length;d++)if(e=this.Dg[d])e.paused=!0,c.push(e.target);return c},qW:function(a){if(a)for(var c=0;c<a.length;c++)this.zn(a[c])},Zs:function(a){if(!a)throw"cc.Scheduler.pauseTarget():target should be non-null";
var c=this.Jj[a.ec];c&&(c.paused=!0);if(a=this.Kj[a.ec])a.bn.paused=!0},zn:function(a){if(!a)throw"cc.Scheduler.resumeTarget():target should be non-null";var c=this.Jj[a.ec];c&&(c.paused=!1);if(a=this.Kj[a.ec])a.bn.paused=!1},E8:function(a){if(!a)throw"cc.Scheduler.isTargetPaused():target should be non-null";return(a=this.Jj[a.ec])?a.paused:!1}});r.Wy={IMAGE:["png","jpg","bmp","jpeg","gif"],SOUND:["mp3","ogg","wav","mp4","m4a"],XML:["plist","xml","fnt","tmx","tsx"],BINARY:["ccbi"],FONT:"FONT",TEXT:["txt","vsh","fsh","json","ExportJson"],UNKNOW:[]};
r.ac=r.Ea.extend({Co:0,is:0,Dr:0,zm:null,ah:1/60,Nj:null,wG:!1,ctor:function(){this.zm=[]},cx:function(a,c,d){if(a){c&&(this.Tf=c,this.T=d);if(a!=this.zm||0==this.Co){this.Dr=this.Co=0;if(a[0]instanceof Array)for(c=0;c<a.length;c++)this.zm=this.zm.concat(a[c]);else this.zm=a;this.is=this.zm.length}this.ZP()}else console.log("resources should not null")},LW:function(a){this.wG=a},qn:function(a){this.Dr++;r.log("cocos2d:Failed loading resource: "+a)},ki:function(){this.Dr++},Vw:function(){var a=0;return a=
0==this.is?100:0|this.Dr/this.is*100},XV:function(a){if(a&&0<a.length)for(var c=r.ga.e(),d=r.Dh?r.Dh.e():null,e=r.zk.e(),f=r.Ld.e(),g,h=0;h<a.length;h++){g=a[h];var k=this.oG(g);switch(k){case "IMAGE":c.iW(g.src);break;case "SOUND":if(!d)throw"Can not find AudioEngine! Install it, please.";d.Bda(g.src);break;case "XML":e.xY(g.src);break;case "BINARY":f.wY(g.src);break;case "TEXT":f.yY(g.src);break;case "FONT":break;default:throw"cocos2d:unknown filename extension: "+k;}}},FP:function(){this.vw();
if(this.wG){var a=r.Z.e().mv;if(null!=a&&20>a){r.log("cocos2d: frame rate less than 20 fps, skip frame.");return}}this.Co<this.is&&(this.nP(),this.Co++)},nP:function(){var a=r.ga.e(),c=r.Dh?r.Dh.e():null,d=r.zk.e(),e=r.Ld.e(),f=this.zm[this.Co],g=this.oG(f);switch(g){case "IMAGE":a.qa(f.src);break;case "SOUND":if(!c)throw"Can not find AudioEngine! Install it, please.";c.x$(f.src);break;case "XML":d.BV(f.src);break;case "BINARY":e.AV(f.src);break;case "TEXT":e.CV(f.src);break;case "FONT":this.HP(f);
break;default:throw"cocos2d:unknown filename extension: "+g;}},ZP:function(){var a=this;this.Nj=setInterval(function(){a.FP()},1E3*this.ah)},PQ:function(){clearInterval(this.Nj)},oG:function(a){if(null!=a.zs)return r.Wy.FONT;a=a.src;a=a.substring(a.lastIndexOf(".")+1,a.length);var c=a.indexOf("?");0<c&&(a=a.substring(0,c));for(var d in r.Wy)if(-1!=r.Wy[d].indexOf(a))return d;return a},vw:function(){100<=this.Vw()&&(this.PQ(),this.BO())},BO:function(){if(this.T&&"string"==typeof this.Tf)this.T[this.Tf](this);
else this.T&&"function"==typeof this.Tf?this.Tf.call(this.T,this):this.Tf(this);this.is=this.Dr=this.Co=0},HP:function(a){var c=a.src,d=r.Ld.e();if(c&&0<c.length){var e=document.createElement("style");e.type="text/css";document.body.appendChild(e);for(var f="@font-face { font-family:"+a.zs+"; src:",g=0;g<c.length;g++)f+="url('"+d.ue(encodeURI(c[g].src))+"') format('"+c[g].type+"')",f+=g==c.length-1?";":",";e.textContent+=f+"};";c=document.createElement("div");c.style.fontFamily=a.zs;c.innerHTML=".";
c.style.position="absolute";c.style.left="-100px";c.style.top="-100px";document.body.appendChild(c)}r.ac.e().ki()},A1:function(){}});r.ac.tD=function(a,c,d){this.Jb||(this.Jb=new r.ac);this.Jb.cx(a,c,d);return this.Jb};r.ac.w$=function(a,c,d){this.Jb||(this.Jb=new r.ac);this.Jb.LW(!0);this.Jb.cx(a,c,d);return this.Jb};r.ac.uD=function(a){this.Jb&&this.Jb.XV(a)};r.ac.e=function(){this.Jb||(this.Jb=new r.ac);return this.Jb};r.ac.Jb=null;
r.Ny=r.zq.extend({Cv:null,To:null,kw:null,Qq:null,Ro:null,TB:null,ctor:function(){r.zq.prototype.ctor.call(this);this.TB=r.Z.e().Rb},r:function(){r.zq.prototype.r.call(this);var a=r.a(this.TB.width/2,this.TB.height/2);this.To=new Image;var c=this;this.To.addEventListener("load",function(){c.YO(a);this.removeEventListener("load",arguments.callee,!1)});this.To.src="";this.To.width=160;this.To.height=200;this.Qq=r.ca.create(r.cC(32,32,32,255));this.Qq.m(0,0);this.f(this.Qq,0);this.Ro=r.Q.create("Loading... 0%",
"Arial",14);this.Ro.n(r.Cw(180,180,180));this.Ro.m(r.eg(a,r.a(0,-110)));this.Qq.f(this.Ro,10)},YO:function(a){this.kw=new r.bc;this.kw.Ff(this.To);this.kw.De();this.Cv=r.v.eb(this.kw);this.Cv.rk(r.Kd());this.Cv.m(a);this.Qq.f(this.Cv,10)},Og:function(){r.D.prototype.Og.call(this);this.$b(this.iH,0.3)},Td:function(){r.D.prototype.Td.call(this);this.Ro.ha("Loading... 0%")},cx:function(a,c,d){this.nW=a;this.DW=c;this.target=d},iH:function(){this.Rc(this.iH);r.ac.tD(this.nW,this.DW,this.target);this.$b(this.vw)},
vw:function(){var a=r.ac.e().Vw();this.Ro.ha("Loading... "+a+"%");100<=a&&this.Rc(this.vw)}});r.Ny.tD=function(a,c,d){this.Jb||(this.Jb=new r.Ny,this.Jb.r());this.Jb.cx(a,c,d);a=r.Z.e();a.od?a.qK(this.Jb):a.uW(this.Jb);return this.Jb};r.Cy=r.Ea.extend({vb:null,Rba:function(a){this.vb=a},p6:function(){return this.vb},ctor:function(a){this.vb=a},pC:function(){r.log("DrawingPrimitive.drawPoint() not implement!")},lI:function(){r.log("DrawingPrimitive.drawPoints() not implement!")},ai:function(){r.log("DrawingPrimitive.drawLine() not implement!")},nI:function(){r.log("DrawingPrimitive.drawRect() not implement!")},qC:function(){r.log("DrawingPrimitive.drawSolidRect() not implement!")},pe:function(){r.log("DrawingPrimitive.drawPoly() not implement!")},
Mw:function(){r.log("DrawingPrimitive.drawSolidPoly() not implement!")},iI:function(){r.log("DrawingPrimitive.drawCircle() not implement!")},mI:function(){r.log("DrawingPrimitive.drawQuadBezier() not implement!")},jI:function(){r.log("DrawingPrimitive.drawCubicBezier() not implement!")},hI:function(){r.log("DrawingPrimitive.drawCardinalSpline() not implement!")},Lw:function(){r.log("DrawingPrimitive.drawCardinalSpline() not implement!")}});
r.VE=r.Cy.extend({pC:function(a,c){c||(c=1);var d=r.ta.e().xa,e=r.ta.e().Ca,e=r.a(a.x*d,a.y*e);this.vb.beginPath();this.vb.arc(e.x,-e.y,c*d,0,2*Math.PI,!1);this.vb.closePath();this.vb.fill()},lI:function(a,c,d){if(null!=a){d||(d=1);c=this.vb;var e=r.ta.e().xa,f=r.ta.e().Ca;c.beginPath();for(var g=0,h=a.length;g<h;g++)c.arc(a[g].x*e,-a[g].y*f,d*e,0,2*Math.PI,!1);c.closePath();c.fill()}},ai:function(a,c){var d=this.vb,e=r.ta.e().xa,f=r.ta.e().Ca;d.beginPath();d.moveTo(a.x*e,-a.y*f);d.lineTo(c.x*e,-c.y*
f);d.closePath();d.stroke()},nI:function(a,c){this.ai(r.a(a.x,a.y),r.a(c.x,a.y));this.ai(r.a(c.x,a.y),r.a(c.x,c.y));this.ai(r.a(c.x,c.y),r.a(a.x,c.y));this.ai(r.a(a.x,c.y),r.a(a.x,a.y))},qC:function(a,c,d){a=[a,r.a(c.x,a.y),c,r.a(a.x,c.y)];this.Mw(a,4,d)},pe:function(a,c,d,e){e=e||!1;if(null!=a){if(3>a.length)throw Error("Polygon's point must greater than 2");var f=a[0];c=this.vb;var g=r.ta.e().xa,h=r.ta.e().Ca;c.beginPath();c.moveTo(f.x*g,-f.y*h);for(var f=1,k=a.length;f<k;f++)c.lineTo(a[f].x*g,
-a[f].y*h);d&&c.closePath();e?c.fill():c.stroke()}},Mw:function(a,c,d){this.LK(d.p,d.o,d.h,d.I);this.pe(a,c,!0,!0)},iI:function(a,c,d,e,f){f=f||!1;e=this.vb;var g=r.ta.e().xa,h=r.ta.e().Ca;e.beginPath();e.arc(0|a.x*g,0|-(a.y*h),c*g,-d,-(d-2*Math.PI),!1);f&&e.lineTo(0|a.x*g,0|-(a.y*h));e.stroke()},mI:function(a,c,d,e){for(var f=[],g=0,h=0;h<e;h++)f.push(r.a(Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y)),g+=1/e;f.push(r.a(d.x,d.y));this.pe(f,e+1,!1,!1)},jI:function(a,
c,d,e,f){for(var g=[],h=0,k=0;k<f;k++)g.push(r.a(Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y)),h+=1/f;g.push(r.a(e.x,e.y));this.pe(g,f+1,!1,!1)},hI:function(a,c){this.Lw(a,0.5,c)},Lw:function(a,c,d){r.X.strokeStyle="rgba(255,255,255,1)";for(var e=[],f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=r.wy(r.th(a,f-1),r.th(a,f-0),r.th(a,f+1),r.th(a,f+2),c,g),e.push(f);this.pe(e,
d+1,!1,!1)},drawImage:function(a,c,d,e,f){switch(arguments.length){case 2:this.vb.drawImage(a,c.x,-(c.y+a.height));break;case 3:this.vb.drawImage(a,c.x,-(c.y+d.height),d.width,d.height);break;case 5:this.vb.drawImage(a,c.x,c.y,d.width,d.height,e.x,-(e.y+f.height),f.width,f.height);break;default:throw Error("Argument must be non-nil");}},l3:function(a,c,d){a=a||this.vb;c*=r.ta.e().xa;d instanceof r.$d&&(d=new r.Ec(0|255*d.p,0|255*d.o,0|255*d.h));d="rgba("+d.p+","+d.o+","+d.h;a.fillStyle=d+",1)";var e=
c/10;a.beginPath();a.moveTo(-c,c);a.lineTo(0,e);a.lineTo(c,c);a.lineTo(e,0);a.lineTo(c,-c);a.lineTo(0,-e);a.lineTo(-c,-c);a.lineTo(-e,0);a.lineTo(-c,c);a.closePath();a.fill();var f=a.createRadialGradient(0,0,e,0,0,c);f.addColorStop(0,d+", 1)");f.addColorStop(0.3,d+", 0.8)");f.addColorStop(1,d+", 0.0)");a.fillStyle=f;a.beginPath();a.arc(0,0,c-e,0,r.fF,!1);a.closePath();a.fill()},j3:function(a,c,d){a=a||this.vb;c*=r.ta.e().xa;d instanceof r.$d&&(d=new r.Ec(0|255*d.p,0|255*d.o,0|255*d.h));d="rgba("+
d.p+","+d.o+","+d.h;var e=a.createRadialGradient(0,0,c/10,0,0,c);e.addColorStop(0,d+", 1)");e.addColorStop(0.3,d+", 0.8)");e.addColorStop(0.6,d+", 0.4)");e.addColorStop(1,d+", 0.0)");a.fillStyle=e;a.beginPath();a.arc(0,0,c,0,r.fF,!1);a.closePath();a.fill()},fillText:function(a,c,d){this.vb.fillText(a,c,-d)},ZW:function(a,c,d,e){this.vb.fillStyle="rgba("+a+","+c+","+d+","+e/255+")";this.vb.strokeStyle="rgba("+a+","+c+","+d+","+e/255+")"},LK:function(a,c,d,e){this.vb.fillStyle="rgba("+(0|255*a)+","+
(0|255*c)+","+(0|255*d)+","+e+")";this.vb.strokeStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+")"},BX:function(){},kX:function(a){this.vb.lineWidth=a*r.ta.e().xa}});
r.sM=r.Cy.extend({yr:!1,Mb:null,Ci:-1,mc:null,RA:-1,QA:-1,ctor:function(a){null==a&&(a=r.X);if(!a instanceof WebGLRenderingContext)throw"Can't initialise DrawingPrimitiveWebGL. context need is WebGLRenderingContext";r.Cy.prototype.ctor.call(this,a);this.mc=new r.$d(1,1,1,1)},jk:function(){this.yr||(this.Mb=r.Hh.e().li(r.d0),this.Ci=this.vb.getUniformLocation(this.Mb.Ww(),"u_color"),this.RA=this.vb.getUniformLocation(this.Mb.Ww(),"u_pointSize"),this.yr=!0)},k3:function(){this.yr=!1},pC:function(a){this.jk();
this.Mb.of();this.Mb.Rg();r.ye(r.Zg);this.Mb.Jl(this.Ci,new Float32Array(this.mc.Qb,0,4),1);this.Mb.eL(this.RA,this.QA);var c=this.vb,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,new Float32Array([a.x,a.y]),c.STATIC_DRAW);c.vertexAttribPointer(r.Oe,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,1);c.deleteBuffer(d);r.Eh()},lI:function(a){if(a&&0!=a.length){this.jk();this.Mb.of();this.Mb.Rg();r.ye(r.Zg);this.Mb.Jl(this.Ci,new Float32Array(this.mc.Qb,0,4),1);this.Mb.eL(this.RA,
this.QA);var c=this.vb,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.Rv(a),c.STATIC_DRAW);c.vertexAttribPointer(r.Oe,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,a.length);c.deleteBuffer(d);r.Eh()}},Rv:function(a){for(var c=new Float32Array(2*a.length),d=0;d<a.length;d++)c[2*d]=a[d].x,c[2*d+1]=a[d].y;return c},ai:function(a,c){this.jk();this.Mb.of();this.Mb.Rg();r.ye(r.Zg);this.Mb.Jl(this.Ci,new Float32Array(this.mc.Qb,0,4),1);var d=this.vb,e=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,
e);d.bufferData(d.ARRAY_BUFFER,this.Rv([a,c]),d.STATIC_DRAW);d.vertexAttribPointer(r.Oe,2,d.FLOAT,!1,0,0);d.drawArrays(d.LINES,0,2);d.deleteBuffer(e);r.Eh()},nI:function(a,c){this.ai(r.a(a.x,a.y),r.a(c.x,a.y));this.ai(r.a(c.x,a.y),r.a(c.x,c.y));this.ai(r.a(c.x,c.y),r.a(a.x,c.y));this.ai(r.a(a.x,c.y),r.a(a.x,a.y))},qC:function(a,c,d){a=[a,r.a(c.x,a.y),c,r.a(a.x,c.y)];this.Mw(a,4,d)},pe:function(a,c,d){this.jk();this.Mb.of();this.Mb.Rg();r.ye(r.Zg);this.Mb.Jl(this.Ci,new Float32Array(this.mc.Qb,0,4),
1);c=this.vb;var e=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,e);c.bufferData(c.ARRAY_BUFFER,this.Rv(a),c.STATIC_DRAW);c.vertexAttribPointer(r.Oe,2,c.FLOAT,!1,0,0);d?c.drawArrays(c.LINE_LOOP,0,a.length):c.drawArrays(c.LINE_STRIP,0,a.length);c.deleteBuffer(e);r.Eh()},Mw:function(a,c,d){this.jk();d||(d=this.mc);this.Mb.of();this.Mb.Rg();r.ye(r.Zg);this.Mb.Jl(this.Ci,new Float32Array(d.Qb,0,4),1);c=this.vb;d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.Rv(a),c.STATIC_DRAW);
c.vertexAttribPointer(r.Oe,2,c.FLOAT,!1,0,0);c.drawArrays(c.TRIANGLE_FAN,0,a.length);c.deleteBuffer(d);r.Eh()},iI:function(a,c,d,e,f){this.jk();var g=1;f&&g++;var h=2*Math.PI/e;if(f=new Float32Array(2*(e+2))){for(var k=0;k<=e;k++){var l=k*h,m=c*Math.sin(l+d)+a.y;f[2*k]=c*Math.cos(l+d)+a.x;f[2*k+1]=m}f[2*(e+1)]=a.x;f[2*(e+1)+1]=a.y;this.Mb.of();this.Mb.Rg();r.ye(r.Zg);this.Mb.Jl(this.Ci,new Float32Array(this.mc.Qb,0,4),1);a=this.vb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(r.Oe,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+g);a.deleteBuffer(c);r.Eh()}},mI:function(a,c,d,e){this.jk();for(var f=new Float32Array(2*(e+1)),g=0,h=0;h<e;h++)f[2*h]=Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,f[2*h+1]=Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y,g+=1/e;f[2*e]=d.x;f[2*e+1]=d.y;this.Mb.of();this.Mb.Rg();r.ye(r.Zg);this.Mb.Jl(this.Ci,new Float32Array(this.mc.Qb,0,4),1);a=this.vb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(r.Oe,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+1);a.deleteBuffer(c);r.Eh()},jI:function(a,c,d,e,f){this.jk();for(var g=new Float32Array(2*(f+1)),h=0,k=0;k<f;k++)g[2*k]=Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,g[2*k+1]=Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y,h+=1/f;g[2*f]=e.x;g[2*f+1]=e.y;this.Mb.of();this.Mb.Rg();r.ye(r.Zg);this.Mb.Jl(this.Ci,new Float32Array(this.mc.Qb,0,4),1);a=this.vb;c=a.createBuffer();
a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,g,a.STATIC_DRAW);a.vertexAttribPointer(r.Oe,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,f+1);a.deleteBuffer(c);r.Eh()},hI:function(a,c){this.Lw(a,0.5,c)},Lw:function(a,c,d){this.jk();for(var e=new Float32Array(2*(d+1)),f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=r.wy(r.th(a,f-1),r.th(a,f),r.th(a,f+1),r.th(a,f+2),c,g),e[2*k]=f.x,e[2*k+1]=f.y;this.Mb.of();this.Mb.Rg();r.ye(r.Zg);this.Mb.Jl(this.Ci,
new Float32Array(this.mc.Qb,0,4),1);a=this.vb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,e,a.STATIC_DRAW);a.vertexAttribPointer(r.Oe,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,d+1);a.deleteBuffer(c);r.Eh()},ZW:function(a,c,d,e){this.mc.p=a/255;this.mc.o=c/255;this.mc.h=d/255;this.mc.I=e/255},LK:function(a,c,d,e){this.mc.p=a;this.mc.o=c;this.mc.h=d;this.mc.I=e},BX:function(a){this.QA=a*r.Kd()},kX:function(a){this.vb.lineWidth&&this.vb.lineWidth(a)}});r.fF=2*Math.PI;r.yF={E0:0,i_:1,j_:2,UY:3,b_:4,a_:5,gZ:6,r_:7,MZ:8,VM:100,dN:101};r.x_=0;r.y_=1;r.v_=2;r.w_=3;r.lg=0;r.Ck=1;r.$f=null;r.X=null;r.canvas=null;r.NS=null;r.Hd=r.lg;r.jV=r.size(0,0);window.GD=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;window.console||(window.console={},window.console.log=function(){},window.console.assert=function(){});r.ZC=!1;
r.Kl=function(a,c,d){function e(){if(r.Dh){var a=r.Dh.e();document[k]?(a.nV(),a.pV()):(r.Z.e().VP(),a.oW(),a.pW())}}a=r.Ob(a)||r.Ob("#"+a);var f,g,h;"CANVAS"==a.tagName?(c=c||a.width,d=d||a.height,g=r.dk=r.vk("DIV"),h=g.style,f=r.canvas=a,f.parentNode.insertBefore(g,f),f.Ym(g),h.width=(c||480)+"px",h.height=(d||320)+"px",g.setAttribute("id","Cocos2dGameContainer"),h.margin="0 auto",f.setAttribute("width",c||480),f.setAttribute("height",d||320)):("DIV"!=a.tagName&&r.log("Warning: target element is not a DIV or CANVAS"),
c=c||a.clientWidth,d=d||a.clientHeight,f=r.canvas=r.vk("CANVAS"),f.HH("gameCanvas"),f.setAttribute("width",c||480),f.setAttribute("height",d||320),g=r.dk=a,h=g.style,a.appendChild(f),h.width=(c||480)+"px",h.height=(d||320)+"px",h.margin="0 auto");h.position="relative";h.overflow="hidden";g.top="100%";if(!r.tz){r.Ga.Qc&&(r.X=r.Vda=r.XH(f,{stencil:!0,preserveDrawingBuffer:!0,antialias:!r.Ga.ik,alpha:!1}));r.X?(r.Hd=r.Ck,window.gl=r.X,r.$f=new r.sM(r.X),r.ga.e().eP()):(r.X=f.getContext("2d"),r.MU=r.X,
r.Hd=r.lg,r.X.translate(0,f.height),r.$f=r.VE?new r.VE(r.X):null);r.jV=r.size(f.width,f.height);r.NS=g;r.log(r.Gt);r.Me.e();r.VW();r.Ga.ik&&r.aO();var k,l;"undefined"!==typeof document.hidden?(k="hidden",l="visibilitychange"):"undefined"!==typeof document.mozHidden?(k="mozHidden",l="mozvisibilitychange"):"undefined"!==typeof document.msHidden?(k="msHidden",l="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(k="webkitHidden",l="webkitvisibilitychange");"undefined"===typeof document.addEventListener||
"undefined"===typeof k?(r.ZC=!1,window.addEventListener("focus",function(){if(r.Dh){var a=r.Dh.e();a.oW();a.pW()}},!1),window.addEventListener("blur",function(){if(r.Dh){var a=r.Dh.e();a.nV();a.pV()}},!1)):(r.ZC=!0,document.addEventListener(l,e,!1))}};r.aO=function(){var a=document.createElement("style");a.type="text/css";document.body.appendChild(a);a.textContent="body,canvas,div{ -moz-user-select: none;-webkit-user-select: none;-ms-user-select: none;-khtml-user-select: none;-webkit-tap-highlight-color:rgba(0,0,0,0);}"};
r.xG=!1;r.VW=function(){r.xG=!1;r.canvas.oncontextmenu=r.xG?function(){}:function(){return!1}};r.qj=r.Ea.extend({ah:null,ctor:function(){this.ah=0;if(r.rB)throw"Application has been initialized";r.rB=this},et:function(a){this.ah=a},Sca:function(a){a&&r.rect(0,0,0,0)},R6:function(){return r.Ga.ik?r.yF.VM:r.yF.dN},sW:function(){if(!this.tR())return 0;var a,c=r.Z.e(),d=window;r.rS=c;d.GD&&this.ah==1/60?(a=function(){c.EJ();d.GD(a)},d.GD(a)):(a=function(){c.EJ()},setInterval(a,1E3*this.ah));return 0}});
r.qj.e=function(){return r.rB};r.qj.B4=function(){var a=r.JM,c=navigator.language;c||(c=navigator.browserLanguage||navigator.Kda);if(!c)return a;c=c.toLowerCase();switch(c){case "zh-cn":a=r.IM;break;case "fr":a=r.KM;break;case "it":a=r.NM;break;case "de":a=r.LM;break;case "es":a=r.UM;break;case "ru":a=r.TM;break;case "ko":a=r.PM;break;case "ja":a=r.OM;break;case "hu":a=r.MM;break;case "pt":a=r.SM;break;case "ar":a=r.HM;break;case "no":a=r.QM;break;case "pl":a=r.RM}return a};r.rB=null;r.zk=r.Ea.extend({Xda:null,NG:null,pp:null,DA:null,ctor:function(){this.pp={};window.DOMParser?(this.DA=!0,this.NG=new DOMParser):this.DA=!1},parse:function(a){var c=a;a=this.EI(a);a=this.OG(a,c).documentElement;if("plist"!=a.tagName)throw"cocos2d: "+c+" is not a plist file or you forgot to preload the plist file";for(var c=null,d=0,e=a.childNodes.length;d<e&&(c=a.childNodes[d],1!=c.nodeType);d++);return this.NA(c)},vda:function(a,c){if(null==c||!1===c)a=this.EI(a);return this.OG(a)},OG:function(a,
c){var d;this.DA?d=this.NG.parseFromString(a,"text/xml"):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(a));null==d&&r.log("cocos2d:xml "+c+" not found!");return d},NA:function(a){var c=null;switch(a.tagName){case "dict":c=this.CP(a);break;case "array":c=this.BP(a);break;case "string":if(1==a.childNodes.length)c=a.firstChild.nodeValue;else for(var c="",d=0;d<a.childNodes.length;d++)c+=a.childNodes[d].nodeValue;break;case "false":c=!1;break;case "true":c=!0;break;case "real":c=
parseFloat(a.firstChild.nodeValue);break;case "integer":c=parseInt(a.firstChild.nodeValue,10)}return c},BP:function(a){for(var c=[],d=0,e=a.childNodes.length;d<e;d++){var f=a.childNodes[d];1==f.nodeType&&c.push(this.NA(f))}return c},CP:function(a){for(var c={},d=null,e=0,f=a.childNodes.length;e<f;e++){var g=a.childNodes[e];1==g.nodeType&&("key"==g.tagName?d=g.firstChild.nodeValue:c[d]=this.NA(g))}return c},BV:function(a){a=r.Ld.e().ue(a);if(window.XMLHttpRequest){var c=new XMLHttpRequest;c.overrideMimeType&&
c.overrideMimeType("text/xml")}if(null!=c){var d=this;c.onreadystatechange=function(){4==c.readyState&&(c.responseText?(r.ac.e().ki(),d.pp[a]=c.responseText,c=null):(r.ac.e().ki(),r.log("cocos2d:There was a problem retrieving the xml data:"+c.statusText)))};c.open("GET",a,!0);c.send(null)}else throw"cocos2d:Your browser does not support XMLHTTP.";},xY:function(a){this.pp.hasOwnProperty(a)&&delete this.pp[a]},getName:function(a){return a.substring(a.lastIndexOf("/",a.length)+1,a.lastIndexOf(".",a.length))},
P4:function(a){return a.substring(a.lastIndexOf(".",a.length)+1,a.length)},EI:function(a){return null!=this.pp?this.pp[a]:null}});r.zk.e=function(){this.Jb||(this.Jb=new r.zk);return this.Jb};r.zk.Jb=null;r.py=r.Ea.extend({qS:function(){r.qj.e().sW();return!0},d2:function(){r.Z.e().pause()},c2:function(){r.Z.e().sK()},sR:function(){r.qj.e().sR()},uR:function(){r.qj.e().uR()},e2:function(){}});r.py.$X=function(){null==r.Ux&&(r.Ux=new r.py);if(!r.Ux)throw"Application initialize failure";return r.Ux};r.Ux=null;r.Q=r.v.extend({ge:null,Pk:r.wj,il:r.Iq,sf:null,Re:0,Cg:"",MA:null,No:!1,Gj:null,Tj:!1,Em:null,ap:0,Vr:0,bw:null,dl:!1,$r:null,fp:0,dw:null,gp:null,lv:null,BB:0,CB:0,kd:!1,yv:null,zv:null,ctor:function(){r.v.prototype.ctor.call(this);this.ge=r.bm();this.Pk=r.Eq;this.il=r.Iq;this.pc=!1;this.Gj="";this.sf="Arial";this.Tj=this.No=!1;this.Em=r.bm();this.Vr=this.ap=0;this.bw="rgba(128, 128, 128, 0.5)";this.dl=!1;this.$r=r.Ab();this.fp=0;this.dw="";this.gp=r.Ab();this.lv="rgba(255,255,255,1)";this.CB=this.BB=
0;this.kd=!1;this.Th()},r:function(){return this.ql(" ",this.sf,this.Re)},rP:function(){this.sA().font=this.Gj},Fr:function(a){return this.sA().measureText(a).width},pO:function(a,c){var d=this.Fr(a),e=Math.floor(a.length*c/d),f=a.indexOf("\n");if(0.8*e>=f&&0<f)return f+1;if(d<c)return a.length;for(var d=!1,f=c+1,g=-1,h=e,k,l=r.Q.qO,m=r.Q.XP,n=r.Q.oO,p=a.substr(e);k=l.exec(p);){h+=k[0].length;if("\n"==k[2]){d=!0;g=h;break}f=this.Fr(a.substr(0,h));if(f>c){-1!=g&&(d=!0);break}g=h;p=a.substr(h)}if(d)return g;
p=a.substr(0,e);for(g=e;k=m.exec(p);)if(g=k[1].length,p=k[1],f=this.Fr(p),f<c){n.test(k[2])&&g++;break}return g},description:function(){return"\x3ccc.LabelTTF | FontName \x3d"+this.sf+" FontSize \x3d "+this.Re.toFixed(1)+"\x3e"},n:null,Qr:function(a){r.Bb.prototype.n.call(this,a);this.XG()},Th:null,XG:function(){this.kd=!0;var a=this.Ic,c=this.Yb,d=this.$r,e=this.gp;this.bw="rgba("+(0|0.5*a.p)+","+(0|0.5*a.o)+","+(0|0.5*a.h)+","+this.ap+")";this.lv="rgba("+(0|a.p/255*e.p)+","+(0|a.o/255*e.o)+","+
(0|a.h/255*e.h)+", "+c/255+")";this.dw="rgba("+(0|a.p/255*d.p)+","+(0|a.o/255*d.o)+","+(0|a.h/255*d.h)+", "+c/255+")"},fQ:function(){this.kd=!0;var a=this.$r,c=this.gp;this.bw="rgba(128,128,128,"+this.ap+")";this.lv="rgba("+(0|c.p)+","+(0|c.o)+","+(0|c.h)+", 1)";this.dw="rgba("+(0|a.p)+","+(0|a.o)+","+(0|a.h)+", 1)"},ed:null,IB:function(a){r.Bb.prototype.ed.call(this,a);this.Th()},ra:null,Sr:function(a){this.Ni!==a&&(r.v.prototype.ra.call(this,a),this.Th(),this.kd=!0)},fd:null,Gda:function(a){r.Bb.prototype.fd.call(this,
a);this.Th()},EC:function(){return this.Cg},b5:function(){return this.Pk},l7:function(){return this.il},K4:function(){return r.size(this.ge.width,this.ge.height)},V4:function(){return this.Re},U4:function(){return this.sf},ql:function(a,c,d,e,f,g){a=a?a+"":"";d=d||16;e=e||r.size(0,d);f=f||r.Eq;g=g||r.Jq;return r.v.prototype.r.call(this)?(this.pc=!1,this.ge=r.size(e.width,e.height),this.sf=c||"Arial",this.Pk=f,this.il=g,this.Re=d,this.Gj=this.Re+"px '"+c+"'",this.Fj=r.Q.Mu(c,this.Re),this.ha(a),this.Th(),
this.KB(),this.kd=!1,!0):!1},VC:null,aP:function(a,c){if(!r.v.prototype.r.call(this))return!1;this.LB(c,!1);this.ha(a);return!0},bP:function(a,c){if(!r.v.prototype.r.call(this))return!1;this.Qg(r.Hh.e().li(r.Q.LN));this.LB(c,!1);this.ha(a);return!0},jca:function(a){a&&this.LB(a,!0)},S6:function(){return this.GP(!1)},FS:function(a,c,d){c=c||0.5;!1===this.Tj&&(this.Tj=!0);var e=this.Em;if(e&&e.width!=a.width||e.height!=a.height)e.width=a.width,e.height=a.height;this.ap!=c&&(this.ap=c);this.Th();this.Vr!=
d&&(this.Vr=d);this.kd=!0},e3:function(){this.Tj&&(this.Tj=!1,this.kd=!0)},GS:function(a,c){!1===this.dl&&(this.dl=!0);var d=this.$r;if(d.p!==a.p||d.o!==a.o||d.h!==a.h)d.p=a.p,d.o=a.o,d.h=a.h,this.Th();this.fp!==c&&(this.fp=c||0);this.kd=!0},f3:function(){this.dl&&(this.dl=!1,this.kd=!0)},QD:null,jQ:function(a){var c=this.gp;if(c.p!=a.p||c.o!=a.o||c.h!=a.h)c.p=a.p,c.o=a.o,c.h=a.h,this.Th(),this.kd=!0},kQ:function(a){var c=this.gp;if(c.p!=a.p||c.o!=a.o||c.h!=a.h)c.p=a.p,c.o=a.o,c.h=a.h,this.Th(),this.kd=
!0},LB:function(a,c){a.ys?(this.ge.width=a.ys.width,this.ge.height=a.ys.height):(this.ge.width=0,this.ge.height=0);this.Pk=a.tI;this.il=a.uI;this.sf=a.zs;this.Re=a.fontSize||12;this.Gj=this.Re+"px '"+this.sf+"'";this.Fj=r.Q.Mu(this.sf,this.Re);a.nL&&this.FS(a.oL,a.pL,a.shadowBlur,!1);a.iE&&this.GS(a.strokeColor,a.AL,!1);this.QD(a.vI,!1);c&&this.KB()},GP:function(a){var c=new r.yM;a?(c.fontSize=this.Re,c.ys=r.$y(this.ge)):(c.fontSize=this.Re,c.ys=r.size(this.ge.width,this.ge.height));c.zs=this.sf;
c.tI=this.Pk;c.uI=this.il;if(this.dl){c.iE=!0;var d=this.$r;c.strokeColor=new r.Ec(d.p,d.o,d.h);c.AL=this.fp}else c.iE=!1;this.Tj?(c.nL=!0,c.shadowBlur=this.Vr,c.pL=this.ap,c.oL=a?r.$y(this.Em):r.size(this.Em.width,this.Em.height)):c.Tj=!1;a=this.gp;c.vI=new r.Ec(a.p,a.o,a.h);return c},Fj:18,ha:function(a){a=String(a);this.MA!=a&&(this.MA=a+"",this.wH(),this.kd=!0)},wH:function(){this.Cg=this.MA},bba:function(a){a!==this.Pk&&(this.Pk=a,this.kd=!0)},wca:function(a){a!=this.il&&(this.il=a,this.kd=!0)},
cc:function(a){if(a.width!=this.ge.width||a.height!=this.ge.height)this.ge=a,this.wH(),this.kd=!0},NK:function(a){this.Re!==a&&(this.Re=a,this.Gj=a+"px '"+this.sf+"'",this.Fj=r.Q.Mu(this.sf,a),this.kd=!0)},eX:function(a){this.sf&&this.sf!=a&&(this.sf=a,this.Gj=this.Re+"px '"+a+"'",this.Fj=r.Q.Mu(a,this.Re),this.kd=!0)},GO:function(a){if(a){var c=this.BB,d=this.CB,e=this.wa.va-d,f=this.il,g=this.Pk,h=this.Fj,k=this.fp;a.setTransform(1,0,0,1,0+0.5*c,e+0.5*d);a.font!=this.Gj&&(a.font=this.Gj);a.fillStyle=
this.lv;var l=d=0,m=this.dl;m&&(a.lineWidth=2*k,a.strokeStyle=this.dw);this.Tj&&(k=this.Em,a.shadowColor=this.bw,a.shadowOffsetX=k.width,a.shadowOffsetY=-k.height,a.shadowBlur=this.Vr);a.textBaseline=r.Q.JQ[f];a.textAlign=r.Q.IQ[g];c=this.wa.Ha-c;d=g===r.xN?d+c:g===r.wj?d+c/2:d+0;if(this.No)for(g=this.Vj.length,f===r.Iq?l=h+e-h*g:f===r.Iu&&(l=h/2+(e-h*g)/2),f=0;f<g;f++)c=this.Vj[f],k=-e+h*f+l,m&&a.strokeText(c,d,k),a.fillText(c,d,k);else f!==r.Iq&&(l=f===r.Jq?l-e:l-0.5*e),m&&a.strokeText(this.Cg,
d,l),a.fillText(this.Cg,d,l)}},sA:function(){if(this.zv)return this.zv;if(!this.yv){var a=document.createElement("canvas"),c=new r.bc;c.Ff(a);this.fa(c);this.yv=a}return this.zv=this.yv.getContext("2d")},xH:function(){var a=this.ge.width,c,d;this.BG=[];this.No=!1;this.rP();if(0!==a){var e=this.Cg;this.Vj=[];c=0;for(d=this.Cg.length;c<d;){var f=this.pO(e.substr(c),a);this.Vj.push(e.substr(c,f));c+=f}}else for(this.Vj=this.Cg.split("\n"),c=0,d=this.Vj.length;c<d;c++)this.BG.push(this.Fr(this.Vj[c]));
0<this.Vj.length&&(this.No=!0);d=c=0;this.dl&&(c=d=2*this.fp);this.Tj&&(e=this.Em,c+=2*Math.abs(e.width),d+=2*Math.abs(e.height));a=0===a?this.No?r.size(0|Math.max.apply(Math,this.BG)+c,0|this.Fj*this.Vj.length+d):r.size(0|this.Fr(this.Cg)+c,0|this.Fj+d):0===this.ge.height?this.No?r.size(0|a+c,0|this.Fj*this.Vj.length+d):r.size(0|a+c,0|this.Fj+d):r.size(0|a+c,0|this.ge.height+d);this.V(a);this.BB=c;this.CB=d;e=this.Ih;this.Nd.F=0.5*c+(a.width-c)*e.F;this.Nd.K=0.5*d+(a.height-d)*e.K},c:function(){this.kd&&
this.xH();return r.v.prototype.c.call(this)},KB:function(){var a=this.sA(),c=this.yv,d=this.wa;if(0===this.Cg.length)return c.width=1,c.height=d.va,this.Tb(r.rect(0,0,1,d.va)),!0;a.font=this.Gj;this.xH();var e=d.Ha,d=d.va,f=c.width==e&&c.height==d;c.width=e;c.height=d;f&&a.clearRect(0,0,e,d);this.GO(a);this.Fa.De();this.Tb(r.rect(0,0,e,d));return!0},sa:function(a){this.Cg&&""!=this.Cg&&(this.kd&&(this.kd=!1,this.KB()),r.v.prototype.sa.call(this,a||r.X))},Wa:null,ug:function(a){if(this.Cg&&""!=this.Cg){a=
a||r.X;var c=this.Fa;c&&c.uc&&(this.Kc.of(),this.Kc.Rg(),r.gk(this.ia.src,this.ia.Ib),r.Ig(c),r.ye(r.Hu),a.bindBuffer(a.ARRAY_BUFFER,this.Vv),this.wf&&(a.bufferData(a.ARRAY_BUFFER,this.Lb.YB,a.STATIC_DRAW),this.wf=!1),a.vertexAttribPointer(r.Oe,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(r.Hq,2,a.FLOAT,!1,24,16),a.vertexAttribPointer(r.Gq,4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));1===r.Ak?(a=this.Lb,a=[r.a(a.Ta.s.x,a.Ta.s.y),r.a(a.Ka.s.x,a.Ka.s.y),r.a(a.Va.s.x,a.Va.s.y),r.a(a.Oa.s.x,
a.Oa.s.y)],r.$f.pe(a,4,!0)):2===r.Ak&&(a=this.FC().cb,c=this.gc,a=[r.a(c.x,c.y),r.a(c.x+a.width,c.y),r.a(c.x+a.width,c.y+a.height),r.a(c.x,c.y+a.height)],r.$f.pe(a,4,!0));r.ci++}},qB:function(a,c,d){this.Yc=c||!1;d=d||a.cb;this.V(d);this.bE(a);c=this.ip;c.x=a.x;c.y=a.y;c.width=a.width;c.height=a.height;c.wt=!(0===c.width||0===c.height);a=this.Wh;this.nc&&(a.F=-a.F);this.oc&&(a.K=-a.K);this.gc.F=a.x+(this.wa.Ha-this.Aa.width)/2;this.gc.K=a.y+(this.wa.va-this.Aa.height)/2;this.mb&&(this.Ja=!0)},$G:function(a){var c=
this.mb?this.Sa.aa():this.Fa;if(c){var d=c.Gp(),e=c.Fp(),f,g=this.Lb;this.Yc?(r.$t?(c=(2*a.x+1)/(2*d),d=c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/d,f=a.y/e,a=(a.y+a.width)/e),this.nc&&(e=f,f=a,a=e),this.oc&&(e=c,c=d,d=e),g.Ka.C.Qa=c,g.Ka.C.na=f,g.Va.C.Qa=c,g.Va.C.na=a,g.Ta.C.Qa=d,g.Ta.C.na=f,g.Oa.C.Qa=d,g.Oa.C.na=a):(r.$t?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+
a.height)/e),this.nc&&(e=c,c=d,d=e),this.oc&&(e=f,f=a,a=e),g.Ka.C.Qa=c,g.Ka.C.na=a,g.Va.C.Qa=d,g.Va.C.na=a,g.Ta.C.Qa=c,g.Ta.C.na=f,g.Oa.C.Qa=d,g.Oa.C.na=f);this.wf=!0}}});
r.Ga.Qc?(b=r.Q.prototype,b.n=r.v.prototype.n,b.Th=r.Q.prototype.fQ,b.ed=r.v.prototype.ed,b.ra=r.v.prototype.ra,b.fd=r.v.prototype.fd,b.VC=r.Q.prototype.bP,b.QD=r.Q.prototype.kQ,b.Wa=r.Q.prototype.ug,b.Tb=r.v.prototype.aH):(b=r.Q.prototype,b.n=r.Q.prototype.Qr,b.Th=r.Q.prototype.XG,b.ed=r.Q.prototype.IB,b.ra=r.Q.prototype.Sr,b.fd=r.Q.prototype.tH,b.VC=r.Q.prototype.aP,b.QD=r.Q.prototype.jQ,b.Wa=r.v.prototype.Wa,b.Tb=r.Q.prototype.qB);r.Q.IQ=["left","center","right"];r.Q.JQ=["top","middle","bottom"];
r.Q.qO=/(.+?)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;r.Q.XP=/(.*)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;r.Q.oO=/[\s\-\/\\\:]/;r.Q.create=function(a,c,d,e,f,g){var h=new r.Q;return h.ql(a,c,d,e,f,g)?h:null};r.Q.U2=function(a,c){var d=new r.Q;return d&&d.VC(a,c)?d:null};r.Q.LN=r.FN?r.Zy:r.a0;r.Q.cm=document.createElement("div");r.Q.cm.style.fontFamily="Arial";r.Q.cm.style.position="absolute";r.Q.cm.style.left="-100px";r.Q.cm.style.top="-100px";r.Q.cm.style.lineHeight="normal";
document.body.appendChild(r.Q.cm);r.Q.Mu=function(a,c){var d=r.Q.OF[a+"."+c];if(0<d)return d;var e=r.Q.cm;e.innerHTML="ajghl~!";e.style.fontFamily=a;e.style.fontSize=c+"px";d=e.clientHeight;r.Q.OF[a+"."+c]=d;e.innerHTML="";return d};r.Q.OF={};r.BM=r.Ea.extend({Mc:null,target:null,Wm:0,sh:null,an:!1,paused:!1,NC:null,ctor:function(){this.Mc=[];this.T=null;this.Wm=0;this.sh=null;this.paused=this.an=!1;this.NC=null}});
r.YL=r.Ea.extend({Lh:null,lo:null,rf:null,Ei:!1,s1:function(a,c){for(var d=0;d<a.length;d++)if(c==a[d].target)return a[d];return null},ctor:function(){this.Lh={};this.lo=[];this.rf=null;this.Ei=!1},dR:function(a,c,d){if(!a)throw"cc.ActionManager.addAction(): action must be non-null";if(!c)throw"cc.ActionManager.addAction(): action must be non-null";var e=this.Lh[c.ec];e||(e=new r.BM,e.paused=d,e.target=c,this.Lh[c.ec]=e,this.lo.push(e));this.VN(e);e.Mc.push(a);a.$(c)},N$:function(){for(var a=this.lo,
c=0;c<a.length;c++){var d=a[c];d&&this.nK(d.target,!0)}},nK:function(a,c){if(null!=a){var d=this.Lh[a.ec];d&&(-1===d.Mc.indexOf(d.sh)||d.an||(d.an=!0),d.Mc=[],this.rf!=d||c?this.Xz(d):this.Ei=!0)}},mK:function(a){if(null!=a){var c=this.Lh[a.xm.ec];if(c)for(var d=0;d<c.Mc.length;d++){if(c.Mc[d]==a){c.Mc.splice(d,1);break}}else r.log("cocos2d: removeAction: Target not found")}},YV:function(a,c){a==r.Sn&&r.log("cc.ActionManager.removeActionByTag(): an invalid tag");if(!c)throw"cc.ActionManager.removeActionByTag(): target must be non-null";
var d=this.Lh[c.ec];if(d)for(var e=d.Mc.length,f=0;f<e;++f){var g=d.Mc[f];if(g&&g.pd===a&&g.xm==c){this.KP(f,d);break}}},xC:function(a,c){a==r.Sn&&r.log("cc.ActionManager.getActionByTag(): an invalid tag");var d=this.Lh[c.ec];if(d){if(null!=d.Mc)for(var e=0;e<d.Mc.length;++e){var f=d.Mc[e];if(f&&f.pd===a)return f}r.log("cocos2d : getActionByTag(tag \x3d"+a+"): Action not found")}return null},SU:function(a){return(a=this.Lh[a.ec])?a.Mc?a.Mc.length:0:0},Zs:function(a){if(a=this.Lh[a.ec])a.paused=!0},
zn:function(a){if(a=this.Lh[a.ec])a.paused=!1},p$:function(){for(var a=[],c=this.lo,d=0;d<c.length;d++){var e=c[d];e&&!e.paused&&(e.paused=!0,a.push(e.target))}return a},qW:function(a){if(a)for(var c=0;c<a.length;c++)a[c]&&this.zn(a[c])},A$:function(){r.Z.e().Df().nq(this)},KP:function(a,c){c.Mc[a]!=c.sh||c.an||(c.an=!0);r.qq(c.Mc,a);c.Wm>=a&&c.Wm--;0==c.Mc.length&&(this.rf==c?this.Ei=!0:this.Xz(c))},Xz:function(a){a&&(delete this.Lh[a.target.ec],r.Yd(this.lo,a),a.Mc=null,a.target=null)},VN:function(a){null==
a.Mc&&(a.Mc=[])},update:function(a){for(var c=this.lo,d,e=0;e<c.length;e++){d=this.rf=c[e];if(!d.paused)for(d.Wm=0;d.Wm<d.Mc.length;d.Wm++)if(d.sh=d.Mc[d.Wm],d.sh){d.an=!1;d.sh.step(a);if(d.an)d.sh=null;else if(d.sh.gi()){d.sh.stop();var f=d.sh;d.sh=null;this.mK(f)}d.sh=null}this.Ei&&0===d.Mc.length&&this.Xz(d)}}});r.qf=r.Ea.extend({J:null,Tv:r.tj(),Of:0,ctor:function(a,c,d){this.J=r.a(a||0,c||0);this.Of=d||0},n5:function(){return this.J},nT:function(){return this.Tv},H4:function(){return r.Gd(this.J,this.Tv)},e5:function(){return this.Of},f5:function(){return this.Of},ZD:function(a,c,d){this.Tv=this.J;this.J=r.a(c||0,d||0);this.Of=a},Uf:function(a,c){this.Tv=r.a(a||0,c||0)}});
r.HF=r.Ea.extend({Y0:null,jb:function(){return!1},ud:function(){},Gf:function(){},lk:function(){},PJ:function(){},SJ:function(){},RJ:function(){},QJ:function(){},zda:function(){},yda:function(){}});r.r0=r.HF.extend({jb:function(){return!1},ud:function(){},Gf:function(){},lk:function(){}});r.k0=r.HF.extend({PJ:function(){},SJ:function(){},RJ:function(){},QJ:function(){}});r.ho=r.Ea.extend({Xb:null,vf:0,Eo:0,hc:function(){return this.Xb},Bh:function(a){this.Xb=a},oT:function(){return this.vf},jt:function(a){this.vf=a},WS:function(){return this.Eo},$W:function(a){this.Eo=a},hk:function(a,c){if(!a)throw"cc.TouchHandler.initWithDelegate(): touch delegate should not be null";this.Xb=a;this.vf=c;this.Eo=0;return!0}});r.ho.create=function(a,c){var d=new r.ho;d&&d.hk(a,c);return d};r.dz=r.ho.extend({hk:function(a,c){return r.ho.prototype.hk.call(this,a,c)}});
r.dz.create=function(a,c){var d=new r.dz;d&&d.hk(a,c);return d};r.Au=r.ho.extend({hw:!1,zo:null,D8:function(){return this.hw},gca:function(a){this.hw=a},s4:function(){return this.zo},hk:function(a,c,d){return r.ho.prototype.hk.call(this,a,c)?(this.zo=[],this.hw=d,!0):!1}});r.Au.create=function(a,c,d){var e=new r.Au;e&&e.hk(a,c,d);return e};r.AN=1;r.DN=2;r.CN=4;r.BN=8;r.u0=r.AN|r.DN|r.CN|r.BN;r.hz=0;r.kz=1;r.jz=2;r.iz=3;r.t0=4;r.yJ=function(a,c){return a.vf>c.vf};r.Eu=function(a){this.type=a};
r.ja=r.Ea.extend({Qj:!1,Ze:null,Ye:null,tm:!1,hs:!1,sw:!1,Qk:null,Ij:null,rw:!1,Dj:!1,UO:[new r.Eu(r.hz),new r.Eu(r.kz),new r.Eu(r.jz),new r.Eu(r.iz)],r:function(){this.Dj=!0;this.Ze=[];this.Ye=[];this.Qk=[];this.Ij=[];this.Qj=this.tm=this.rw=this.hs=this.sw=!1;r.ja.UV();return!0},Rr:function(a){this.Qj=a},PO:function(){return this.Qj},d8:function(){return this.Dj},YW:function(a){this.Dj=a},ZN:function(a,c){var d=r.dz.create(a,c||0);this.tm?-1!=this.Ij.indexOf(a)?r.Yd(this.Ij,a):(this.Qk.push(d),
this.hs=!0):this.Ye=this.zp(d,this.Ye)},$N:function(a,c,d){c=r.Au.create(a,c,d);this.tm?-1!=this.Ij.indexOf(a)?r.Yd(this.Ij,a):(this.Qk.push(c),this.hs=!0):this.Ze=this.zp(c,this.Ze)},zp:function(a,c){for(var d=0,e,f=0;f<c.length;f++)if(e=c[f])if(e.vf<a.vf&&++d,e.hc()==a.hc())return r.log("cc.TouchDispatcher.forceAddHandler(): The handler has been added."),c;return r.Vl(c,a,d)},wI:function(){this.Ye.length=0;this.Ze.length=0},NP:function(a){if(null!=a)if(this.tm){var c=this.rI(this.Qk,a);c?r.Yd(this.Qk,
c):(this.Ij.push(a),this.sw=!0)}else this.xI(a)},$V:function(){this.tm?this.rw=!0:this.wI()},jt:function(a,c){if(!c)throw"cc.TouchDispatcher.setPriority(): delegate should be non-null.";var d=this.rI(c);d?d.vf!=a&&(d.jt(a),this.gK(this.Ze),this.gK(this.Ye)):r.log("cc.TouchDispatcher.setPriority(): Can't find TouchHandler.")},touches:function(a,c,d){if(0>d||4<=d)throw"cc.TouchDispatcher.touches(): invalid index";this.tm=!0;var e=this.Ze.length,f=this.Ye.length,g=e&&f,h=g?a.slice():a,k=this.UO[d];if(0<
e)for(var l,m,n=0;n<a.length;n++)for(var e=a[n],p=0;p<this.Ze.length;p++){l=this.Ze[p];if(!l)break;m=!1;if(d==r.hz)l.hc().jb&&(m=l.hc().jb(e,c))&&l.zo.push(e);else if(0<l.zo.length)switch(m=!0,k.type){case r.kz:r.Ga.ik?l.hc().ud&&l.hc().ud(e,c):this.Qj&&l.hc().ud&&l.hc().ud(e,c);break;case r.jz:l.hc().Gf&&l.hc().Gf(e,c);l.zo.length=0;break;case r.iz:l.hc().lk&&l.hc().lk(e,c),l.zo.length=0}if(m&&l.hw){g&&r.Yd(h,e);break}}if(0<f)for(n=0;n<this.Ye.length&&(l=this.Ye[n],l);n++);this.tm=!1;if(this.sw){this.sw=
!1;for(n=0;n<this.Ij.length;n++)this.xI(this.Ij[n]);this.Ij.length=0}if(this.hs){this.hs=!1;for(n=0;n<this.Qk.length;n++){l=this.Qk[n];if(!l)break;l instanceof r.Au?this.Ze=this.zp(l,this.Ze):this.Ye=this.zp(l,this.Ye)}this.Qk.length=0}this.rw&&(this.rw=!1,this.wI())},fy:function(a,c){this.Dj&&this.touches(a,c,r.hz)},gy:function(a,c){this.Dj&&this.touches(a,c,r.kz)},qt:function(a,c){this.Dj&&this.touches(a,c,r.jz)},nE:function(a,c){this.Dj&&this.touches(a,c,r.iz)},rI:function(a,c){switch(arguments.length){case 1:c=
arguments[0];if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(var d=0;d<this.Ze.length;d++)if(this.Ze[d].hc()==c)return this.Ze[d];for(d=0;d<this.Ye.length;d++)if(this.Ye[d].hc()==c)return this.Ye[d];return null;case 2:if(!a)throw"cc.TouchDispatcher.findHandler(): array should be non-null.";if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(d=0;d<a.length;d++)if(a[d].hc()==c)return a[d];return null;default:throw"Argument must be non-nil ";
}},xI:function(a){for(var c,d=0;d<this.Ye.length;d++)if((c=this.Ye[d])&&c.hc()==a){r.Yd(this.Ye,c);break}for(d=0;d<this.Ze.length;d++)if((c=this.Ze[d])&&c.hc()==a){r.Yd(this.Ze,c);break}},gK:function(a){a.sort(r.yJ)}});r.ja.sb=r.a(0,0);r.ja.tJ=!1;
r.Wi=function(a){var c=document.documentElement,d=window,e=null,e="function"===typeof a.getBoundingClientRect?a.getBoundingClientRect():a instanceof HTMLCanvasElement?{left:0,top:0,width:a.width,height:a.height}:{left:0,top:0,width:parseInt(a.style.width),height:parseInt(a.style.height)};return{left:e.left+d.pageXOffset-c.clientLeft,top:e.top+d.pageYOffset-c.clientTop,width:e.width,height:e.height}};
r.lN=function(a,c){var d=r.Wi(a),e,f;null!=c.pageX?(e=c.pageX,f=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,e=c.clientX,f=c.clientY);e=r.ta.e().ek(e,f,d);d=new r.qf(e.x,e.y);d.Uf(r.ja.sb.x,r.ja.sb.y);r.ja.sb.x=e.x;r.ja.sb.y=e.y;e=[];e.push(d);r.ta.e().qt(e,null)};
r.ja.UV=function(){var a=r.canvas;if(!r.ja.tJ){if(r.Ga.ik)if(window.navigator.msPointerEnabled){var c={MSPointerDown:"touchesBegan",MSPointerMove:"touchesMoved",MSPointerUp:"touchesEnded",MSPointerCancel:"touchesCancelled"},d;for(d in c)(function(c,d){a.addEventListener(c,function(c){var e=r.Wi(a);e.left-=document.body.scrollLeft;e.top-=document.body.scrollTop;var k,l;k=c.clientX;l=c.clientY;k=r.ta.e().ek(k,l,e);e=new r.qf(k.x,k.y);e.Uf(r.ja.sb.x,r.ja.sb.y);r.ja.sb.x=k.x;r.ja.sb.y=k.y;r.Z.e().af[d]([e],
null);c.stopPropagation();c.preventDefault()},!1)})(d,c[d])}else a.addEventListener("touchstart",function(c){if(c.changedTouches){var d=[],g=r.Wi(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=r.ta.e().ek(k,l,g),h.hasOwnProperty("identifier")?(h=new r.qf(k.x,k.y,h.identifier),l=r.ja.ov(h).J,h.Uf(l.x,l.y),r.ja.YG(h)):(h=new r.qf(k.x,k.y),h.Uf(r.ja.sb.x,r.ja.sb.y)),r.ja.sb.x=k.x,
r.ja.sb.y=k.y,d.push(h);r.ta.e().fy(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchmove",function(c){if(c.changedTouches){var d=[],g=r.Wi(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=r.ta.e().ek(k,l,g),h.hasOwnProperty("identifier")?(h=new r.qf(k.x,k.y,h.identifier),l=r.ja.ov(h).J,h.Uf(l.x,l.y),r.ja.YG(h)):(h=new r.qf(k.x,k.y),h.Uf(r.ja.sb.x,r.ja.sb.y)),
r.ja.sb.x=k.x,r.ja.sb.y=k.y,d.push(h);r.ta.e().gy(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchend",function(c){if(c.changedTouches){var d=[],g=r.Wi(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=r.ta.e().ek(k,l,g),h.hasOwnProperty("identifier")?(h=new r.qf(k.x,k.y,h.identifier),l=r.ja.ov(h).J,h.Uf(l.x,l.y),r.ja.gG(h)):(h=new r.qf(k.x,k.y),h.Uf(r.ja.sb.x,
r.ja.sb.y)),r.ja.sb.x=k.x,r.ja.sb.y=k.y,d.push(h);r.ta.e().qt(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchcancel",function(c){if(c.changedTouches){var d=[],g=r.Wi(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=r.ta.e().ek(k,l,g),h.hasOwnProperty("identifier")?(h=new r.qf(k.x,k.y,h.identifier),l=r.ja.ov(h).J,h.Uf(l.x,l.y),r.ja.gG(h)):(h=new r.qf(k.x,
k.y),h.Uf(r.ja.sb.x,r.ja.sb.y)),r.ja.sb.x=k.x,r.ja.sb.y=k.y,d.push(h);r.ta.e().nE(d,null);c.stopPropagation();c.preventDefault()}},!1);else window.addEventListener("mousedown",function(){r.Z.e().af.Rr(!0)}),window.addEventListener("mouseup",function(c){r.Z.e().af.Rr(!1);var d=r.Wi(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);r.bb(new r.og(d.left,d.top,d.width,d.height),r.a(g,c))||(g=r.ta.e().ek(g,c,d),d=new r.qf(g.x,
g.y),d.Uf(r.ja.sb.x,r.ja.sb.y),r.ja.sb.x=g.x,r.ja.sb.y=g.y,g=[],g.push(d),r.ta.e().qt(g,null))}),a.addEventListener("mousedown",function(c){var d=r.Wi(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=r.ta.e().ek(g,c,d);d=new r.qf(g.x,g.y);d.Uf(r.ja.sb.x,r.ja.sb.y);r.ja.sb.x=g.x;r.ja.sb.y=g.y;g=[];g.push(d);r.ta.e().fy(g,null)}),a.addEventListener("mouseup",function(c){r.lN(a,c)}),a.addEventListener("mousemove",function(c){var d=
r.Wi(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=r.ta.e().ek(g,c,d);d=new r.qf(g.x,g.y);d.Uf(r.ja.sb.x,r.ja.sb.y);r.ja.sb.x=g.x;r.ja.sb.y=g.y;g=[];g.push(d);r.ta.e().gy(g,null)});r.ja.tJ=!0}};r.ja.ov=function(a){for(var c=null,d=r.ja.UA,e=a.Of,f=d.length-1;0<=f;f--)if(d[f].Of==e){c=d[f];break}c||(c=a);return c};
r.ja.YG=function(a){for(var c=!1,d=r.ja.UA,e=a.Of,f=d.length-1;0<=f;f--)if(d[f].Of==e){d[f]=a;c=!0;break}c||(50>=d.length?d.push(a):(d[r.ja.VA]=a,r.ja.VA=(r.ja.VA+1)%50))};r.ja.gG=function(a){var c,d=r.ja.UA;c=a.Of;for(a=d.length-1;0<=a;a--)if(d[a].Of==c){c=d.pop();a!=d.length&&(d[a]=c);break}};r.ja.UA=[];r.ja.VA=0;r.yD=function(a,c,d){r.Z.e().af.$N(d,a,c)};r.VV=function(a,c){r.Z.e().af.ZN(a,c)};r.GL=function(a){r.Z.e().af.NP(a)};r.WM=1;r.cF=2;r.l_=4;r.$M=8;r.O_=16;r.P_=32;r.Q_=64;r.A_=128;r.B_=256;r.C_=512;r.uF=1024;r.XM=2048;r.YM=4096;r.ZM=0;r.m_=1;r.dF=2;r.p_=r.Ea.extend({WU:function(){return!1},XU:function(){return!1},gj:function(){return!1},$U:function(){return!1},dV:function(){return!1},eV:function(){return!1},fV:function(){return!1},aV:function(){return!1},bV:function(){return!1},cV:function(){return!1},gV:function(){return!1},YU:function(){return!1},ZU:function(){return!1}});
r.aN=r.qf.extend({AH:0,ZF:r.ZM,q7:function(){return this.AH},jL:function(a){this.AH=a},k4:function(){return this.ZF},NW:function(a){this.ZF=a}});r.Oy=r.Ea.extend({Xb:null,vf:0,Eo:0,hc:function(){return this.Xb},Bh:function(a){this.Xb=a},oT:function(){return this.vf},jt:function(a){this.vf=a},WS:function(){return this.Eo},$W:function(a){this.Eo=a},hk:function(a,c){this.Xb=a;this.vf=c}});r.Oy.create=function(a,c){var d=new r.Oy;d.hk(a,c);return d};
r.be=r.Ea.extend({Qj:!1,Xv:!1,Pf:null,Dj:!1,r:function(){this.Dj=!0;this.Pf=[];this.Xv=this.Qj=!1;r.be.IP();return!0},Rr:function(a){this.Qj=a},PO:function(){return this.Qj},ZG:function(a){this.Xv=a},e1:function(){return this.Xv},JH:function(a,c){var d=r.Oy.create(a,c);this.Pf=this.zp(d,this.Pf)},zp:function(a,c){for(var d=0,e=0;e<c.length;e++){var f=c[e];if(f&&(f.vf<a.vf&&++d,f.hc()==a.hc()))return r.log("cc.MouseDispatcher.forceAddHandler(): handler has been added."),c}return r.Vl(c,a,d)},oK:function(a){if(null!=
a)for(var c=0;c<this.Pf.length;c++){var d=this.Pf[c];if(d&&d.hc()==a){r.Yd(this.Pf,d);break}}},NO:function(a){for(var c=0;c<this.Pf.length;c++)if(this.Pf[c]&&this.Pf[c].hc()==a)return this.Pf[c];return null},jt:function(a,c){if(!c)throw"cc.MouseDispatcher.setPriority(): delegate should be non-null";var d=this.NO(c);d?d.vf!=a&&(d.jt(a),this.Pf.sort(r.yJ)):r.log("cc.MouseDispatcher.setPriority(): Can't find MouseHandler in array")},Q$:function(){this.Pf.length=0},kn:function(a,c,d){for(c=0;c<this.Pf.length;c++){var e=
this.Pf[c];switch(d){case r.cF:this.Qj||this.Xv||!e.hc().gj||e.hc().gj(a)}}}});r.be.Sv=r.a(0,0);r.be.kP=!1;
r.be.IP=function(){var a=r.canvas;function c(c){var e=r.Wi(a),f=c.pageX,g=c.pageY,h=r.ta.e(),f=(f-e.left)/h.xa,e=(e.height-(g-e.top))/h.Ca,g=new r.aN(f,e);g.Uf(r.be.Sv.x,r.be.Sv.y);g.NW(c.button);r.be.Sv.x=f;r.be.Sv.y=e;return g}r.be.kP||(window.addEventListener("mousedown",function(a){a.button==r.dF?r.Z.e().Cf().ZG(!0):r.Z.e().Cf().Rr(!0)}),window.addEventListener("mouseup",function(a){a.button==r.dF?r.Z.e().Cf().ZG(!1):r.Z.e().Cf().Rr(!1)}),a.addEventListener("mousedown",function(a){r.Z.e().Cf().kn(c(a),
a,r.WM)}),a.addEventListener("mouseup",function(a){r.Z.e().Cf().kn(c(a),a,r.$M)}),a.addEventListener("mousemove",function(a){r.Z.e().Cf().kn(c(a),a,r.cF)}),a.addEventListener("mousewheel",function(a){var e=c(a);e.jL(a.wheelDelta);r.Z.e().Cf().kn(e,a,r.uF)},!1),a.addEventListener("DOMMouseScroll",function(a){var e=c(a);e.jL(-120*a.detail);r.Z.e().Cf().kn(e,a,r.uF)}),a.addEventListener("mouseout",function(a){r.Z.e().Cf().kn(c(a),a,r.YM)},!1),a.addEventListener("mouseover",function(a){r.Z.e().Cf().kn(c(a),
a,r.XM)},!1))};r.Nda=function(){return{x:0,y:0}};r.Ql=function(a,c){return{x:a,y:c}};r.Sg=function(a,c){return r.Ql(a.x+c.x,a.y+c.y)};r.vd=function(a,c){return r.Ql(a.x-c.x,a.y-c.y)};r.kg=function(a,c){return r.Ql(a.x*c,a.y*c)};r.my=function(a){return r.Ql(-a.y,a.x)};r.nj=function(a){return r.Ql(-a.x,-a.y)};r.DY=function(a,c){return a.x*c.x+a.y*c.y};r.Mda=function(a){return r.Ql(Math.cos(a),Math.sin(a))};r.tE=function(a){a=r.zh(r.a(a.x,a.y));return r.Ql(a.x,a.y)};r.wi=function(a){return r.Ql(a.x,a.y)};
r.Eb=function(a){return{Qa:a.x,na:a.y}};
r.qM=r.D.extend({fb:null,ia:null,Bs:function(){return this.ia},Fl:function(a){this.ia=a},ctor:function(){r.D.prototype.ctor.call(this);this.fb=[];this.ia=new r.Xl(r.Le,r.Ke)},Wa:function(a){a=a||r.X;var c=r.ta.e().xa;this.ia&&770==this.ia.src&&1==this.ia.Ib&&(a.globalCompositeOperation="lighter");for(var d=0;d<this.fb.length;d++){var e=this.fb[d];e.type===r.Vg.DF&&(a.fillStyle="rgba("+(0|255*e.color.p)+","+(0|255*e.color.o)+","+(0|255*e.color.h)+","+e.color.I+")",r.$f.pC(e.position,e.wD));e.type===
r.Vg.FF&&(a.strokeStyle="rgba("+(0|255*e.color.p)+","+(0|255*e.color.o)+","+(0|255*e.color.h)+","+e.color.I+")",a.lineWidth=2*e.wD*c,a.lineCap="round",r.$f.ai(e.cn,e.Pl));e.type===r.Vg.EF&&(a.fillStyle="rgba("+(0|255*e.fillColor.p)+","+(0|255*e.fillColor.o)+","+(0|255*e.fillColor.h)+","+e.fillColor.I+")",r.$f.pe(e.vE,e.count,!1,!0),a.lineWidth=2*e.borderWidth*c,a.lineCap="round",a.strokeStyle="rgba("+(0|255*e.borderColor.p)+","+(0|255*e.borderColor.o)+","+(0|255*e.borderColor.h)+","+e.borderColor.I+
")",r.$f.pe(e.vE,e.count,!0,!1))}},wS:function(a,c,d){var e=new r.pz(r.Vg.DF);e.position=a;e.wD=c;e.color=d;this.fb.push(e)},AS:function(a,c,d,e){var f=new r.pz(r.Vg.FF);f.cn=a;f.Pl=c;f.wD=d;f.color=e;this.fb.push(f)},pe:function(a,c,d,e){var f=new r.pz(r.Vg.EF);f.vE=a;f.count=a.length;f.fillColor=c;f.borderWidth=d;f.borderColor=e;this.fb.push(f)},clear:function(){this.fb.length=0}});
r.rM=r.D.extend({qo:0,fb:null,hl:null,nH:null,mH:null,ia:null,Ja:!1,Bs:function(){return this.ia},Fl:function(a){this.ia=a},ctor:function(){r.D.prototype.ctor.call(this);this.fb=[];this.ia=new r.Xl(r.Le,r.Ke)},r:function(){return r.D.prototype.r.call(this)?(this.Qg(r.Hh.e().li(r.$_)),this.jA(512),this.nH=r.X.createBuffer(),this.Ja=!0):!1},TP:function(){var a=r.X;r.ye(r.Hu);a.bindBuffer(a.ARRAY_BUFFER,this.nH);this.Ja&&(a.bufferData(a.ARRAY_BUFFER,this.hl,a.STREAM_DRAW),this.Ja=!1);var c=r.Vb.BYTES_PER_ELEMENT;
a.vertexAttribPointer(r.Oe,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(r.Gq,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(r.Hq,2,a.FLOAT,!1,c,12);a.drawArrays(a.TRIANGLES,0,3*this.fb.length);r.Eh()},jA:function(a){if(this.fb.length+a>this.qo){var c=r.Gc.BYTES_PER_ELEMENT;this.qo+=Math.max(this.qo,a);if(null==this.fb||0===this.fb.length)this.fb=[],this.hl=new ArrayBuffer(c*this.qo),this.mH=new Uint8Array(this.hl);else{a=[];for(var d=new ArrayBuffer(c*this.qo),e=0;e<this.fb.length;e++)a[e]=new r.Gc(this.fb[e].I,
this.fb[e].h,this.fb[e].Da,d,e*c);this.mH=new Uint8Array(d);this.fb=a;this.hl=d}}},Wa:function(){r.gk(this.ia.src,this.ia.Ib);this.Kc.of();this.Kc.fL();this.TP()},wS:function(a,c,d){d={p:0|255*d.p,o:0|255*d.o,h:0|255*d.h,I:0|255*d.I};var e={s:{x:a.x-c,y:a.y-c},L:d,C:{Qa:-1,na:-1}},f={s:{x:a.x+c,y:a.y+c},L:d,C:{Qa:1,na:1}},g={s:{x:a.x+c,y:a.y-c},L:d,C:{Qa:1,na:-1}};this.fb.push(new r.Gc(e,{s:{x:a.x-c,y:a.y+c},L:d,C:{Qa:-1,na:1}},f,this.hl,this.fb.length*r.Gc.BYTES_PER_ELEMENT));this.fb.push(new r.Gc(e,
f,g,this.hl,this.fb.length*r.Gc.BYTES_PER_ELEMENT));this.Ja=!0},AS:function(a,c,d,e){this.jA(18);e={p:0|255*e.p,o:0|255*e.o,h:0|255*e.h,I:0|255*e.I};var f=r.wi(a);c=r.wi(c);a=r.tE(r.my(r.vd(c,f)));var g=r.my(a),h=r.kg(a,d);d=r.kg(g,d);var k=r.Sg(c,r.vd(h,d)),l=r.vd(c,h),m=r.Sg(c,h),n=r.vd(f,h),p=r.Sg(f,h),q=r.vd(f,r.vd(h,d)),f=r.Sg(f,r.Sg(h,d)),u=r.Gc.BYTES_PER_ELEMENT,w=this.hl;this.fb.push(new r.Gc({s:r.vd(c,r.Sg(h,d)),L:e,C:r.Eb(r.nj(r.Sg(a,g)))},{s:k,L:e,C:r.Eb(r.vd(a,g))},{s:l,L:e,C:r.Eb(r.nj(a))},
w,this.fb.length*u));this.fb.push(new r.Gc({s:m,L:e,C:r.Eb(a)},{s:k,L:e,C:r.Eb(r.vd(a,g))},{s:l,L:e,C:r.Eb(r.nj(a))},w,this.fb.length*u));this.fb.push(new r.Gc({s:m,L:e,C:r.Eb(a)},{s:n,L:e,C:r.Eb(r.nj(a))},{s:l,L:e,C:r.Eb(r.nj(a))},w,this.fb.length*u));this.fb.push(new r.Gc({s:m,L:e,C:r.Eb(a)},{s:n,L:e,C:r.Eb(r.nj(a))},{s:p,L:e,C:r.Eb(a)},w,this.fb.length*u));this.fb.push(new r.Gc({s:q,L:e,C:r.Eb(r.vd(g,a))},{s:n,L:e,C:r.Eb(r.nj(a))},{s:p,L:e,C:r.Eb(a)},w,this.fb.length*u));this.fb.push(new r.Gc({s:q,
L:e,C:r.Eb(r.vd(g,a))},{s:f,L:e,C:r.Eb(r.Sg(a,g))},{s:p,L:e,C:r.Eb(a)},w,this.fb.length*u));this.Ja=!0},pe:function(a,c,d,e){c={p:0|255*c.p,o:0|255*c.o,h:0|255*c.h,I:0|255*c.I};e={p:0|255*e.p,o:0|255*e.o,h:0|255*e.h,I:0|255*e.I};var f=[],g,h,k,l,m=a.length;for(g=0;g<m;g++){h=r.wi(a[(g-1+m)%m]);k=r.wi(a[g]);l=r.wi(a[(g+1)%m]);var n=r.tE(r.my(r.vd(k,h)));k=r.tE(r.my(r.vd(l,k)));f[g]={offset:r.kg(r.Sg(n,k),1/(r.DY(n,k)+1)),IJ:k}}n=0<d;this.jA(3*(3*m-2));var p=r.Gc.BYTES_PER_ELEMENT,q=this.hl,u=this.fb,
w=!1==n?0.5:0;for(g=0;g<m-2;g++)h=r.vd(r.wi(a[0]),r.kg(f[0].offset,w)),k=r.vd(r.wi(a[g+1]),r.kg(f[g+1].offset,w)),l=r.vd(r.wi(a[g+2]),r.kg(f[g+2].offset,w)),u.push(new r.Gc({s:h,L:c,C:r.Eb({x:0,y:0})},{s:k,L:c,C:r.Eb({x:0,y:0})},{s:l,L:c,C:r.Eb({x:0,y:0})},q,u.length*p));for(g=0;g<m;g++){w=(g+1)%m;h=r.wi(a[g]);k=r.wi(a[w]);l=f[g].IJ;var y=f[g].offset,D=f[w].offset,w=n?r.vd(h,r.kg(y,d)):r.vd(h,r.kg(y,0.5)),B=n?r.vd(k,r.kg(D,d)):r.vd(k,r.kg(D,0.5));h=n?r.Sg(h,r.kg(y,d)):r.Sg(h,r.kg(y,0.5));k=n?r.Sg(k,
r.kg(D,d)):r.Sg(k,r.kg(D,0.5));n?(u.push(new r.Gc({s:w,L:e,C:r.Eb(r.nj(l))},{s:B,L:e,C:r.Eb(r.nj(l))},{s:k,L:e,C:r.Eb(l)},q,u.length*p)),u.push(new r.Gc({s:w,L:e,C:r.Eb(r.nj(l))},{s:h,L:e,C:r.Eb(l)},{s:k,L:e,C:r.Eb(l)},q,u.length*p))):(u.push(new r.Gc({s:w,L:c,C:r.Eb({x:0,y:0})},{s:B,L:c,C:r.Eb({x:0,y:0})},{s:k,L:c,C:r.Eb(l)},q,u.length*p)),u.push(new r.Gc({s:w,L:c,C:r.Eb({x:0,y:0})},{s:h,L:c,C:r.Eb(l)},{s:k,L:c,C:r.Eb(l)},q,u.length*p)))}this.Ja=!0},clear:function(){this.fb.length=0;this.Ja=!0}});
r.Vg=r.Ga.Qc?r.rM:r.qM;r.Vg.create=function(){var a=new r.Vg;return a&&a.r()?a:null};r.pz=function(a){this.type=a};r.Vg.DF=0;r.Vg.FF=1;r.Vg.EF=2;r.ot=-1;r.WK=function(a,c){a.Qg(c);var d=a.t;if(d)for(var e=0;e<d.length;e++)r.WK(d[e],c)};
r.ob=r.D.extend({qc:null,fm:0,Ji:!1,pG:!1,ctor:function(){r.D.prototype.ctor.call(this);this.qc=null;this.fm=0;this.Ji=!1},r:null,zA:function(a){this.qc=a;this.fm=1;this.Ji=!1;r.ob.CA=!0;r.ob.CA&&(r.ot=r.X.getParameter(r.X.STENCIL_BITS),0>=r.ot&&r.log("Stencil buffer is not enabled."),r.ob.CA=!1);return!0},yA:function(a){this.qc=a;this.fm=1;this.Ji=!1},Og:function(){r.D.prototype.Og.call(this);this.qc.Og()},ji:function(){r.D.prototype.ji.call(this);this.qc.ji()},yh:function(){this.qc.yh();r.D.prototype.yh.call(this)},
Td:function(){this.qc.Td();r.D.prototype.Td.call(this)},sa:null,Sm:function(a){var c=a||r.X;if(1>r.ot)r.D.prototype.sa.call(this,a);else if(this.qc&&this.qc.la)if(r.ob.Br=-1,r.ob.Br+1==r.ot)r.ob.SB=!0,r.ob.SB&&(r.log("Nesting more than "+r.ot+"stencils is not supported. Everything will be drawn without stencil for this node and its childs."),r.ob.SB=!1),r.D.prototype.sa.call(this,a);else{r.ob.Br++;var d=1<<r.ob.Br,e=d|d-1,f=c.isEnabled(c.STENCIL_TEST),g=c.getParameter(c.STENCIL_WRITEMASK),h=c.getParameter(c.STENCIL_FUNC),
k=c.getParameter(c.STENCIL_REF),l=c.getParameter(c.STENCIL_VALUE_MASK),m=c.getParameter(c.STENCIL_FAIL),n=c.getParameter(c.STENCIL_PASS_DEPTH_FAIL),p=c.getParameter(c.STENCIL_PASS_DEPTH_PASS);c.enable(c.STENCIL_TEST);c.stencilMask(d);var q=c.getParameter(c.DEPTH_WRITEMASK);c.depthMask(!1);c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.Ji?c.REPLACE:c.ZERO,c.KEEP,c.KEEP);r.$f.qC(r.tj(),r.kV(),r.Dw(1,1,1,1));c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.Ji?c.ZERO:c.REPLACE,c.KEEP,c.KEEP);if(1>this.fm){var d=
r.Hh.e().li(r.b0),u=c.getUniformLocation(d.Ww(),r.w0);r.x7(d.Ww());d.eL(u,this.fm);r.WK(this.qc,d)}r.Up();this.transform();this.qc.sa();r.Tp();c.depthMask(q);c.stencilFunc(c.EQUAL,e,e);c.stencilOp(c.KEEP,c.KEEP,c.KEEP);r.D.prototype.sa.call(this,a);c.stencilFunc(h,k,l);c.stencilOp(m,n,p);c.stencilMask(g);f||c.disable(c.STENCIL_TEST);r.ob.Br--}else this.Ji&&r.D.prototype.sa.call(this,a)},Rm:function(a){if(this.qc&&this.qc.la){if(this.Jz()||this.qc instanceof r.v){a=a||r.X;var c=a.canvas,d=r.ob.SO();
d.width=c.width;d.height=c.height;d.getContext("2d").drawImage(c,0,0);a.save();this._super(a);a.globalCompositeOperation=this.Ji?"destination-out":"destination-in";this.transform(a);this.qc.sa();a.restore();a.save();a.setTransform(1,0,0,1,0,0);a.globalCompositeOperation="destination-over";a.drawImage(d,0,0)}else{a=a||r.X;var d=this.t,e;a.save();this.transform(a);this.qc.sa(a);a.clip();this.Jz(!0);var f=d.length;if(0<f){this.Vd();for(c=0;c<f;c++)if(e=d[c],0>e.gb)e.sa(a);else break;for(this.Wa(a);c<
f;c++)d[c].sa(a)}else this.Wa(a);this.Jz(!1)}a.restore()}else this.Ji&&r.D.prototype.sa.call(this,a)},O6:function(){return this.qc},WD:null,xQ:function(a){this.qc=a},wQ:function(a){this.qc=a;var c=r.ta.e().xa,d=r.ta.e().Ca,e=r.X;!(a instanceof r.v)&&a instanceof r.Vg&&(a.Wa=function(){for(var f=0;f<a.fb.length;f++){var g=a.fb[f].vE,h=g[0];e.beginPath();e.moveTo(h.x*c,-h.y*d);for(var h=1,k=g.length;h<k;h++)e.lineTo(g[h].x*c,-g[h].y*d)}})},X3:function(){return this.fm},yaa:function(a){this.fm=a},m8:function(){return this.Ji},
iba:function(a){this.Ji=a},Jz:function(a){if(!0===a||!1===a)r.ob.prototype.pG=a;return r.ob.prototype.pG}});r.Ga.Qc?(r.ob.prototype.r=r.ob.prototype.zA,r.ob.prototype.sa=r.ob.prototype.Sm,r.ob.prototype.WD=r.ob.prototype.xQ):(r.ob.prototype.r=r.ob.prototype.yA,r.ob.prototype.sa=r.ob.prototype.Rm,r.ob.prototype.WD=r.ob.prototype.wQ);r.ob.CA=null;r.ob.SB=null;r.ob.Br=null;r.ob.eH=null;r.ob.SO=function(){return r.ob.eH||(r.ob.eH=document.createElement("canvas"))};
r.ob.create=function(a){var c=new r.ob;c.r(a);return c};r.YZ=0;r.ZZ=1;r.$Z=2;r.Yn=function(a){a-=1;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;return(a|a>>16)+1};
r.Cb=r.D.extend({ro:null,so:null,kv:0,cr:0,Ov:0,Fa:null,es:null,OQ:null,Sf:r.vj,pb:null,Yu:0,Bj:null,Pz:0,Qz:0,Oq:!1,Oz:null,ctor:null,Jh:function(){r.D.prototype.ctor.call(this);this.Bj=r.Dw(1,1,1,1);this.Oz="rgba(255,255,255,1)";this.ro=document.createElement("canvas");this.so=this.ro.getContext("2d");this.G(0,0)},Kh:function(){r.D.prototype.ctor.call(this);this.Bj=r.Dw(0,0,0,0)},Zf:null,rO:function(){r.D.prototype.Td.call(this);this.ro=this.so=null},sO:function(){r.D.prototype.Td.call(this);this.es=
null;var a=r.X;a.deleteFramebuffer(this.kv);this.cr&&a.deleteRenderbuffer(this.cr);this.OQ=null},zT:function(){return this.pb},kt:function(a){this.pb=a},XC:null,cP:function(a,c){var d=this.ro,e=r.Kd();d.width=0|a*e;d.height=0|c*e;this.so.translate(0,d.height);e=new r.bc;e.Ff(d);e.De();this.pb=r.v.eb(e);return!0},dP:function(a,c,d,e){d==r.Bq&&r.log("cc.RenderTexture._initWithWidthAndHeightForWebGL() : only RGB and RGBA formats are valid for a render texture;");var f=r.X,g=r.Kd();a=0|a*g;c=0|c*g;this.Ov=
f.getParameter(f.FRAMEBUFFER_BINDING);var h;r.Me.e().bs?(g=a,h=c):(g=r.Yn(a),h=r.Yn(c));for(var k=new Uint8Array(g*h*4),l=0;l<g*h*4;l++)k[l]=0;this.Sf=d;this.Fa=new r.bc;if(!this.Fa)return!1;l=this.Fa;l.ax(k,this.Sf,g,h,r.size(a,c));d=f.getParameter(f.RENDERBUFFER_BINDING);if(r.Me.e().tp("GL_QCOM")){this.es=new r.bc;if(!this.es)return!1;this.es.ax(k,this.Sf,g,h,r.size(a,c))}this.kv=f.createFramebuffer();f.bindFramebuffer(f.FRAMEBUFFER,this.kv);f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,
f.TEXTURE_2D,l.Zh,0);0!=e&&(this.cr=f.createRenderbuffer(),f.bindRenderbuffer(f.RENDERBUFFER,this.cr),f.renderbufferStorage(f.RENDERBUFFER,e,g,h),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,this.cr));f.checkFramebufferStatus(f.FRAMEBUFFER)!==f.FRAMEBUFFER_COMPLETE&&r.log("Could not attach texture to the framebuffer");l.yK();a=this.pb=r.v.eb(l);a.Fn(-1);a.Fl(f.ONE,f.ONE_MINUS_SRC_ALPHA);f.bindRenderbuffer(f.RENDERBUFFER,d);f.bindFramebuffer(f.FRAMEBUFFER,this.Ov);this.Oq=
!1;this.f(a);return!0},bk:null,hO:function(){r.X=this.so;r.ta.e().tQ()},iO:function(){r.fn(r.hu);r.Up();r.fn(r.gu);r.Up();var a=r.Z.e();a.Mx(a.$k);var c=this.Fa.wa,d=r.Z.e().HT(),a=d.width/c.width,d=d.height/c.height,e=r.X;e.viewport(0,0,c.width,c.height);c=new r.wh;r.GU(c,-1/a,1/a,-1/d,1/d,-1,1);r.gx(c);this.Ov=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,this.kv);r.Me.e().tp("GL_QCOM")&&(e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.es.Zh,0),
e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.Fa.Zh,0))},bC:function(a,c,d,e,f,g){var h=r.X;f=f||h.COLOR_BUFFER_BIT;g=g||h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT;this.Gz(a,c,d,e,f,g,h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT|h.STENCIL_BUFFER_BIT)},Gz:null,jO:function(a,c,d,e){this.bk();a=a||0;c=c||0;d=d||0;e=isNaN(e)?1:e;var f=this.so,g=this.ro;f.save();f.fillStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+")";f.clearRect(0,
0,g.width,-g.height);f.fillRect(0,0,g.width,-g.height);f.restore()},kO:function(a,c,d,e,f,g,h){this.bk();var k=r.X,l=[0,0,0,0],m=0,n=0;h&k.COLOR_BUFFER_BIT&&(l=k.getParameter(k.COLOR_CLEAR_VALUE),k.clearColor(a,c,d,e));h&k.DEPTH_BUFFER_BIT&&(m=k.getParameter(k.DEPTH_CLEAR_VALUE),k.clearDepth(f));h&k.STENCIL_BUFFER_BIT&&(n=k.getParameter(k.STENCIL_CLEAR_VALUE),k.clearStencil(g));k.clear(h);h&k.COLOR_BUFFER_BIT&&k.clearColor(l[0],l[1],l[2],l[3]);h&k.DEPTH_BUFFER_BIT&&k.clearDepth(m);h&k.STENCIL_BUFFER_BIT&&
k.clearStencil(n)},end:null,LO:function(){r.X=r.MU;r.ta.e().WP()},MO:function(){var a=r.X,c=r.Z.e();a.bindFramebuffer(a.FRAMEBUFFER,this.Ov);c.iL();r.fn(r.hu);r.Tp();r.fn(r.gu);r.Tp()},clear:function(a,c,d,e){this.bC(a,c,d,e);this.end()},clearRect:null,wO:function(a,c,d,e){this.so.clearRect(a,c,d,-e)},xO:function(){},clearDepth:null,uO:function(){r.log("clearDepth isn't supported on Cocos2d-Html5")},vO:function(a){this.bk();var c=r.X,d=c.getParameter(c.DEPTH_CLEAR_VALUE);c.clearDepth(a);c.clear(c.DEPTH_BUFFER_BIT);
c.clearDepth(d);this.end()},clearStencil:null,yO:function(){r.log("clearDepth isn't supported on Cocos2d-Html5")},zO:function(a){var c=r.X,d=c.getParameter(c.STENCIL_CLEAR_VALUE);c.clearStencil(a);c.clear(c.STENCIL_BUFFER_BIT);c.clearStencil(d)},sa:null,Rm:function(a){this.la&&(a=a||r.X,a.save(),this.Wa(a),this.transform(a),this.pb.sa(),a.restore(),this.Rf=0)},Sm:function(a){if(this.la){r.Up();var c=this.Ok;c&&c.Qp()&&(c.aC(),this.hy());this.transform(a);this.pb.sa();this.Wa(a);c&&c.Qp()&&c.XB(this);
r.Tp();this.Rf=0}},Wa:null,mm:function(a){a=a||r.X;if(this.Oq){this.bk();if(this.Yu){var c=this.ro;a.save();a.fillStyle=this.Oz;a.clearRect(0,0,c.width,-c.height);a.fillRect(0,0,c.width,-c.height);a.restore()}this.Vd();a=this.t;for(var c=a.length,d=this.pb,e=0;e<c;e++){var f=a[e];f!=d&&f.sa()}this.end()}},ug:function(){var a=r.X;if(this.Oq){this.bk();var c=this.Yu;if(c){var d=[0,0,0,0],e=0,f=0;c&a.COLOR_BUFFER_BIT&&(d=a.getParameter(a.COLOR_CLEAR_VALUE),a.clearColor(this.Bj.p,this.Bj.o,this.Bj.h,
this.Bj.I));c&a.DEPTH_BUFFER_BIT&&(e=a.getParameter(a.DEPTH_CLEAR_VALUE),a.clearDepth(this.Pz));c&a.STENCIL_BUFFER_BIT&&(f=a.getParameter(a.STENCIL_CLEAR_VALUE),a.clearStencil(this.Qz));a.clear(c);c&a.COLOR_BUFFER_BIT&&a.clearColor(d[0],d[1],d[2],d[3]);c&a.DEPTH_BUFFER_BIT&&a.clearDepth(e);c&a.STENCIL_BUFFER_BIT&&a.clearStencil(f)}this.Vd();a=this.t;for(c=0;c<a.length;c++)d=a[c],d!=this.pb&&d.sa();this.end()}},JJ:null,uP:function(){r.log("saveToFile isn't supported on Cocos2d-Html5");return null},
vP:function(){r.log("saveToFile isn't supported on Cocos2d-Html5");r.Bt(this.Sf==r.vj,"only RGBA8888 can be saved as image");if(!this.Fa)return null;var a=this.Fa.wa,c=a.width,a=a.height,d=new r.DM,e=r.X,f=new Uint8Array(c*a*4);if(!f)return d;var g=new Uint8Array(c*a*4);if(!g)return null;this.bk();e.pixelStorei(e.PACK_ALIGNMENT,1);e.readPixels(0,0,c,a,e.RGBA,e.UNSIGNED_BYTE,g);this.end();for(e=0;e<a;++e)this.sP(f,e*c*4,g,(a-e-1)*c*4,4*c);d.L7(f,c*a*4,r.SZ,c,a,8);return d},sP:function(a,c,d,e,f){for(var g=
0;g<f;g++)a[c+g]=d[e+g]},oaa:function(){r.log("saveToFile isn't supported on Cocos2d-Html5")},d9:function(){r.log("listenToBackground isn't supported on Cocos2d-Html5")},e9:function(){r.log("listenToForeground isn't supported on Cocos2d-Html5")},v4:function(){return this.Yu},Gaa:function(a){this.Yu=a},t4:function(){return this.Bj},FK:null,dQ:function(a){var c=this.Bj;c.p=a.p;c.o=a.o;c.h=a.h;c.I=a.I;this.Oz="rgba("+(0|255*a.p)+","+(0|255*a.o)+","+(0|255*a.h)+","+a.I+")"},eQ:function(a){var c=this.Bj;
c.p=a.p;c.o=a.o;c.h=a.h;c.I=a.I},u4:function(){return this.Pz},Faa:function(a){this.Pz=a},w4:function(){return this.Qz},Haa:function(a){this.Qz=a},X7:function(){return this.Oq},Aaa:function(a){this.Oq=a}});
r.Ga.Qc?(b=r.Cb.prototype,b.ctor=r.Cb.prototype.Kh,b.Zf=r.Cb.prototype.sO,b.XC=r.Cb.prototype.dP,b.bk=r.Cb.prototype.iO,b.Gz=r.Cb.prototype.kO,b.end=r.Cb.prototype.MO,b.clearRect=r.Cb.prototype.xO,b.clearDepth=r.Cb.prototype.vO,b.clearStencil=r.Cb.prototype.zO,b.sa=r.Cb.prototype.Sm,b.Wa=r.Cb.prototype.ug,b.JJ=r.Cb.prototype.vP,b.FK=r.Cb.prototype.eQ):(b=r.Cb.prototype,b.ctor=r.Cb.prototype.Jh,b.Zf=r.Cb.prototype.rO,b.XC=r.Cb.prototype.cP,b.bk=r.Cb.prototype.hO,b.Gz=r.Cb.prototype.jO,b.end=r.Cb.prototype.LO,
b.clearRect=r.Cb.prototype.wO,b.clearDepth=r.Cb.prototype.uO,b.clearStencil=r.Cb.prototype.yO,b.sa=r.Cb.prototype.Rm,b.Wa=r.Cb.prototype.mm,b.JJ=r.Cb.prototype.uP,b.FK=r.Cb.prototype.dQ);r.Cb.create=function(a,c,d,e){d=d||r.vj;e=e||0;var f=new r.Cb;return f&&f.XC(a,c,d,e)?f:null};r.Sn=-1;
r.Jd=r.Ea.extend({xm:null,T:null,pd:r.Sn,ctor:function(){this.T=this.xm=null;this.pd=r.Sn},description:function(){return"\x3ccc.Action | Tag \x3d "+this.pd+"\x3e"},copy:function(){return r.H(this)},H:function(){var a=new r.Jd;a.xm=null;a.T=null;a.pd=this.pd;return a},gi:function(){return!0},$:function(a){this.T=this.xm=a},stop:function(){this.T=null},step:function(){r.log("[Action step]. override me")},update:function(){r.log("[Action update]. override me")},DT:function(){return this.T},hca:function(a){this.T=a},
W5:function(){return this.xm},Dba:function(a){this.xm=a},CT:function(){return this.pd},dL:function(a){this.pd=a},tK:function(){},BD:function(){}});r.Jd.create=function(){return new r.Jd};r.sj=r.Jd.extend({za:0,ctor:function(){r.Jd.prototype.ctor.call(this);this.za=0},Af:function(){return this.za},Saa:function(a){this.za=a},reverse:function(){r.log("cocos2d: FiniteTimeAction#reverse: Implement me");return null},H:function(){return new r.sj}});
r.xu=r.Jd.extend({Gm:0,Fb:null,ctor:function(){r.Jd.prototype.ctor.call(this);this.Gm=0;this.Fb=null},H6:function(){return this.Gm},aca:function(a){this.Gm=a},pa:function(a,c){if(!a)throw"cc.Speed.initWithAction(): action must be non nil";this.Fb=a;this.Gm=c;return!0},H:function(){var a=new r.xu;a.pa(this.Fb.H(),this.Gm);return a},$:function(a){r.Jd.prototype.$.call(this,a);this.Fb.$(a)},stop:function(){this.Fb.stop();r.Jd.prototype.stop.call(this)},step:function(a){this.Fb.step(a*this.Gm)},gi:function(){return this.Fb.gi()},
reverse:function(){return r.xu.create(this.Fb.reverse(),this.Gm)},RK:function(a){this.Fb!=a&&(this.Fb=a)},zC:function(){return this.Fb}});r.xu.create=function(a,c){var d=new r.xu;return d&&d.pa(a,c)?d:null};
r.Hy=r.Jd.extend({Io:null,oo:!1,Tu:!1,qv:null,rr:null,gn:0,An:0,Mn:0,Zm:0,UB:null,ctor:function(){r.Jd.prototype.ctor.call(this);this.Io=null;this.Tu=this.oo=!1;this.rr=this.qv=null;this.Zm=this.Mn=this.An=this.gn=0;this.UB=r.hd()},H:function(){var a=new r.Hy,c=this.UB,c=new r.og(c.x,c.y,c.width,c.height);a.Kg(this.Io,c);return a},Z7:function(){return this.oo},Caa:function(a){this.oo=a},Kg:function(a,c){if(!a)throw"cc.Follow.initWithAction(): followedNode must be non nil";c=c||r.hd();this.Io=a;this.UB=
c;this.oo=!r.Nr(c);this.Tu=!1;var d=r.Z.e().Rb;this.rr=r.a(d.width,d.height);this.qv=r.hj(this.rr,0.5);this.oo&&(this.gn=-(c.x+c.width-this.rr.x),this.An=-c.x,this.Mn=-c.y,this.Zm=-(c.y+c.height-this.rr.y),this.An<this.gn&&(this.An=this.gn=(this.gn+this.An)/2),this.Mn<this.Zm&&(this.Mn=this.Zm=(this.Mn+this.Zm)/2),this.Mn==this.Zm&&this.gn==this.An&&(this.Tu=!0));return!0},step:function(){var a=this.Io.q.F,c=this.Io.q.K,a=this.qv.x-a,c=this.qv.y-c;this.oo?this.Tu||this.T.m(r.us(a,this.gn,this.An),
r.us(c,this.Zm,this.Mn)):this.T.m(a,c)},gi:function(){return!this.Io.We},stop:function(){this.T=null;r.Jd.prototype.stop.call(this)}});r.Hy.create=function(a,c){c=c||new r.hd;var d=new r.Hy;return null!=c&&d&&d.Kg(a,c)||d&&d.Kg(a)?d:null};r.S=r.sj.extend({fc:0,qr:!1,ctor:function(){r.sj.prototype.ctor.call(this);this.fc=0;this.qr=!1},M4:function(){return this.fc},O:function(a){this.za=0===a?r.au:a;this.fc=0;return this.qr=!0},gi:function(){return this.fc>=this.za},H:function(){var a=new r.S;a.O(this.za);return a},step:function(a){this.qr?(this.qr=!1,this.fc=0):this.fc+=a;a=this.fc/(1.192092896E-7<this.za?this.za:1.192092896E-7);a=1>a?a:1;this.update(0<a?a:0)},$:function(a){r.Jd.prototype.$.call(this,a);this.fc=0;this.qr=!0},reverse:function(){r.log("cc.IntervalAction: reverse not implemented.");
return null},zaa:function(){r.log("cc.ActionInterval.setAmplitudeRate(): it should be overridden in subclass.")},Y3:function(){r.log("cc.ActionInterval.getAmplitudeRate(): it should be overridden in subclass.")}});r.S.create=function(a){var c=new r.S;c.O(a);return c};
r.uj=r.S.extend({xi:null,sB:null,So:0,ctor:function(){r.S.prototype.ctor.call(this);this.xi=[];this.sB=null;this.So=0},Ns:function(a,c){if(!a||!c)throw"cc.Sequence.initWithTwoActions(): arguments must all be non nil";this.O(a.Af()+c.Af());this.xi[0]=a;this.xi[1]=c;return!0},H:function(){var a=new r.uj;a.Ns(this.xi[0].H(),this.xi[1].H());return a},$:function(a){r.S.prototype.$.call(this,a);this.sB=this.xi[0].Af()/this.za;this.So=-1},stop:function(){-1!==this.So&&this.xi[this.So].stop();r.Jd.prototype.stop.call(this)},
update:function(a){var c=0,d=this.sB,e=this.xi,f=this.So;a<d?(a=0!==d?a/d:1,0===c&&1===f&&(e[1].update(0),e[1].stop())):(c=1,a=1===d?1:(a-d)/(1-d),-1===f&&(e[0].$(this.T),e[0].update(1),e[0].stop()),f||(e[0].update(1),e[0].stop()));f===c&&e[c].gi()||(f!==c&&e[c].$(this.T),e[c].update(a),this.So=c)},reverse:function(){return r.uj.dm(this.xi[1].reverse(),this.xi[0].reverse())},copy:function(){return this.H()}});
r.uj.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&r.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)c[e]&&(d=r.uj.dm(d,c[e]));return d};r.uj.dm=function(a,c){var d=new r.uj;d.Ns(a,c);return d};
r.ou=r.S.extend({Vf:0,Wj:0,Lv:0,RF:!1,Fb:null,ctor:function(){r.S.prototype.ctor.call(this);this.Lv=this.Wj=this.Vf=0;this.RF=!1;this.Fb=null},pa:function(a,c){return this.O(a.Af()*c)?(this.Vf=c,this.Fb=a,a instanceof r.qi&&(this.Vf-=1),this.Wj=0,!0):!1},H:function(){var a=new r.ou;a.pa(this.Fb.H(),this.Vf);return a},$:function(a){this.Wj=0;this.Lv=this.Fb.Af()/this.za;r.S.prototype.$.call(this,a);this.Fb.$(a)},stop:function(){this.Fb.stop();r.Jd.prototype.stop.call(this)},update:function(a){var c=
this.Fb,d=this.za,e=this.Vf,f=this.Lv;if(a>=f){for(;a>f&&this.Wj<e;)c.update(1),this.Wj++,c.stop(),c.$(this.T),this.Lv=f+=c.Af()/d;1<=a&&this.Wj<e&&this.Wj++;this.RF&&(this.Wj==e?(c.update(1),c.stop()):c.update(a-(f-c.Af()/d)))}else c.update(a*e%1)},gi:function(){return this.Wj==this.Vf},reverse:function(){return r.ou.create(this.Fb.reverse(),this.Vf)},RK:function(a){this.Fb!=a&&(this.Fb=a)},zC:function(){return this.Fb}});r.ou.create=function(a,c){var d=new r.ou;d.pa(a,c);return d};
r.pu=r.S.extend({Fb:null,ctor:function(){r.S.prototype.ctor.call(this);this.Fb=null},pa:function(a){if(!a)throw"cc.RepeatForever.initWithAction(): action must be non null";this.Fb=a;return!0},H:function(){var a=new r.pu;a.pa(this.Fb.H());return a},$:function(a){r.S.prototype.$.call(this,a);this.Fb.$(a)},step:function(a){var c=this.Fb;c.step(a);c.gi()&&(c.$(this.T),c.step(c.fc-c.Af()))},gi:function(){return!1},reverse:function(){return r.pu.create(this.Fb.reverse())},RK:function(a){this.Fb!=a&&(this.Fb=
a)},zC:function(){return this.Fb}});r.pu.create=function(a){var c=new r.pu;return c&&c.pa(a)?c:null};
r.Aq=r.S.extend({Rj:null,$j:null,ctor:function(){r.S.prototype.ctor.call(this);this.$j=this.Rj=null},Ns:function(a,c){if(!a||!c)throw"cc.Spawn.initWithTwoActions(): arguments must all be non null";var d=!1,e=a.Af(),f=c.Af();this.O(Math.max(e,f))&&(this.Rj=a,this.$j=c,e>f?this.$j=r.uj.dm(c,r.Un.create(e-f)):e<f&&(this.Rj=r.uj.dm(a,r.Un.create(f-e))),d=!0);return d},H:function(){var a=new r.Aq;a.Ns(this.Rj.H(),this.$j.H());return a},$:function(a){r.S.prototype.$.call(this,a);this.Rj.$(a);this.$j.$(a)},
stop:function(){this.Rj.stop();this.$j.stop();r.Jd.prototype.stop.call(this)},update:function(a){this.Rj&&this.Rj.update(a);this.$j&&this.$j.update(a)},reverse:function(){return r.Aq.dm(this.Rj.reverse(),this.$j.reverse())}});r.Aq.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&r.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)null!=c[e]&&(d=this.dm(d,c[e]));return d};
r.Aq.dm=function(a,c){var d=new r.Aq;d.Ns(a,c);return d};
r.Yy=r.S.extend({fr:0,Hm:0,aA:0,iv:0,cl:0,bA:0,ctor:function(){r.S.prototype.ctor.call(this);this.bA=this.cl=this.iv=this.aA=this.Hm=this.fr=0},O:function(a,c,d){return r.S.prototype.O.call(this,a)?(this.fr=c||0,this.iv=d||this.fr,!0):!1},H:function(){var a=new r.Yy;a.O(this.za,this.fr,this.iv);return a},$:function(a){r.S.prototype.$.call(this,a);var c=a.Ag%360,d=this.fr-c;180<d&&(d-=360);-180>d&&(d+=360);this.Hm=c;this.aA=d;this.cl=a.Rh%360;a=this.iv-this.cl;180<a&&(a-=360);-180>a&&(a+=360);this.bA=
a},reverse:function(){r.log("cc.RotateTo.reverse(): it should be overridden in subclass.")},update:function(a){this.T&&(this.T.Px(this.Hm+this.aA*a),this.T.Qx(this.cl+this.bA*a))}});r.Yy.create=function(a,c,d){var e=new r.Yy;e.O(a,c,d);return e};
r.ru=r.S.extend({qg:0,Hm:0,Nq:0,cl:0,ctor:function(){r.S.prototype.ctor.call(this);this.cl=this.Nq=this.Hm=this.qg=0},O:function(a,c,d){return r.S.prototype.O.call(this,a)?(this.qg=c||0,this.Nq=d||this.qg,!0):!1},H:function(){var a=new r.ru;a.O(this.za,this.qg,this.Nq);return a},$:function(a){r.S.prototype.$.call(this,a);this.Hm=a.Ag;this.cl=a.Rh},update:function(a){this.T&&(this.T.Px(this.Hm+this.qg*a),this.T.Qx(this.cl+this.Nq*a))},reverse:function(){return r.ru.create(this.za,-this.qg,-this.Nq)}});
r.ru.create=function(a,c,d){var e=new r.ru;e.O(a,c,d);return e};
r.xk=r.S.extend({Qi:null,Uc:null,Tc:null,ctor:function(){r.S.prototype.ctor.call(this);this.Qi=r.a(0,0);this.Uc=r.a(0,0);this.Tc=r.a(0,0)},O:function(a,c){return r.S.prototype.O.call(this,a)?(this.Qi.x=c.x,this.Qi.y=c.y,!0):!1},H:function(){var a=new r.xk;a.O(this.za,this.Qi);return a},$:function(a){r.S.prototype.$.call(this,a);var c=a.q.F;a=a.q.K;this.Tc.x=c;this.Tc.y=a;this.Uc.x=c;this.Uc.y=a},update:function(a){if(this.T){var c=this.Qi.x*a;a*=this.Qi.y;var d=this.Uc;if(r.Ft){var e=this.T.q.K,f=
this.Tc;d.x=d.x+this.T.q.F-f.x;d.y=d.y+e-f.y;c+=d.x;a+=d.y;this.T.m(c,a);f.x=c;f.y=a}else this.T.m(d.x+c,d.y+a)}},reverse:function(){return r.xk.create(this.za,r.a(-this.Qi.x,-this.Qi.y))}});r.xk.create=function(a,c){var d=new r.xk;d.O(a,c);return d};
r.ju=r.xk.extend({Ho:null,ctor:function(){r.xk.prototype.ctor.call(this);this.Ho=r.a(0,0)},O:function(a,c){return r.xk.prototype.O.call(this,a,c)?(this.Ho.x=c.x,this.Ho.y=c.y,!0):!1},H:function(){var a=new r.ju;a.O(this.za,this.Ho);return a},$:function(a){r.xk.prototype.$.call(this,a);this.Qi.x=this.Ho.x-a.q.F;this.Qi.y=this.Ho.y-a.q.K}});r.ju.create=function(a,c){var d=new r.ju;d.O(a,c);return d};
r.eo=r.S.extend({me:0,ne:0,Yr:0,Zr:0,kr:0,lr:0,Pe:0,Qe:0,ctor:function(){r.S.prototype.ctor.call(this);this.Qe=this.Pe=this.lr=this.kr=this.Zr=this.Yr=this.ne=this.me=0},O:function(a,c,d){var e=!1;r.S.prototype.O.call(this,a)&&(this.kr=c,this.lr=d,e=!0);return e},H:function(){var a=new r.eo;a.O(this.za,this.kr,this.lr);return a},$:function(a){r.S.prototype.$.call(this,a);this.Yr=a.me%180;this.Pe=this.kr-this.Yr;180<this.Pe&&(this.Pe-=360);-180>this.Pe&&(this.Pe+=360);this.Zr=a.ne%360;this.Qe=this.lr-
this.Zr;180<this.Qe&&(this.Qe-=360);-180>this.Qe&&(this.Qe+=360)},update:function(a){this.T.Sx(this.Yr+this.Pe*a);this.T.Tx(this.Zr+this.Qe*a)}});r.eo.create=function(a,c,d){var e=new r.eo;e&&e.O(a,c,d);return e};
r.vu=r.eo.extend({O:function(a,c,d){var e=!1;r.eo.prototype.O.call(this,a,c,d)&&(this.me=c,this.ne=d,e=!0);return e},H:function(){var a=new r.vu;a.O(this.za,this.me,this.ne);return a},$:function(a){r.eo.prototype.$.call(this,a);this.Pe=this.me;this.Qe=this.ne;this.kr=this.Yr+this.Pe;this.lr=this.Zr+this.Qe},reverse:function(){return r.vu.create(this.za,-this.me,-this.ne)}});r.vu.create=function(a,c,d){var e=new r.vu;e&&e.O(a,c,d);return e};
r.Wn=r.S.extend({Uc:null,tg:null,va:0,Po:0,Tc:null,ctor:function(){r.S.prototype.ctor.call(this);this.Uc=r.a(0,0);this.Tc=r.a(0,0);this.tg=r.a(0,0);this.Po=this.va=0},O:function(a,c,d,e){return r.S.prototype.O.call(this,a)?(this.tg.x=c.x,this.tg.y=c.y,this.va=d,this.Po=e,!0):!1},H:function(){var a=new r.Wn;a.O(this.za,this.tg,this.va,this.Po);return a},$:function(a){r.S.prototype.$.call(this,a);var c=a.q.F;a=a.q.K;this.Tc.x=c;this.Tc.y=a;this.Uc.x=c;this.Uc.y=a},update:function(a){if(this.T){var c=
a*this.Po%1,c=4*this.va*c*(1-c),c=c+this.tg.y*a;a*=this.tg.x;var d=this.Uc;if(r.Ft){var e=this.T.q.K,f=this.Tc;d.x=d.x+this.T.q.F-f.x;d.y=d.y+e-f.y;a+=d.x;c+=d.y;this.T.m(a,c);f.x=a;f.y=c}else this.T.m(d.x+a,d.y+c)}},reverse:function(){return r.Wn.create(this.za,r.a(-this.tg.x,-this.tg.y),this.va,this.Po)}});r.Wn.create=function(a,c,d,e){var f=new r.Wn;f.O(a,c,d,e);return f};
r.Ky=r.Wn.extend({$:function(a){r.Wn.prototype.$.call(this,a);this.tg.x-=this.Uc.x;this.tg.y-=this.Uc.y},H:function(){var a=new r.Ky;a.O(this.za,this.tg,this.va,this.Po);return a}});r.Ky.create=function(a,c,d,e){var f=new r.Ky;f.O(a,c,d,e);return f};r.SH=function(a,c,d,e){return 0*Math.pow(1-e,3)+3*e*Math.pow(1-e,2)*a+3*Math.pow(e,2)*(1-e)*c+Math.pow(e,3)*d};
r.Wl=r.S.extend({km:null,Uc:null,Tc:null,ctor:function(){r.S.prototype.ctor.call(this);this.km=[];this.Uc=r.a(0,0);this.Tc=r.a(0,0)},O:function(a,c){return r.S.prototype.O.call(this,a)?(this.km=c,!0):!1},H:function(){for(var a=new r.Wl,c=[],d=0;d<this.km.length;d++){var e=this.km[d];c.push(r.a(e.x,e.y))}a.O(this.za,c);return a},$:function(a){r.S.prototype.$.call(this,a);var c=a.q.F;a=a.q.K;this.Tc.x=c;this.Tc.y=a;this.Uc.x=c;this.Uc.y=a},update:function(a){if(this.T){var c=this.km,d=r.SH(c[0].x,c[1].x,
c[2].x,a);a=r.SH(c[0].y,c[1].y,c[2].y,a);c=this.Uc;if(r.Ft){var e=this.T.q.K,f=this.Tc;c.x=c.x+this.T.q.F-f.x;c.y=c.y+e-f.y;d+=c.x;a+=c.y;this.T.m(d,a);f.x=d;f.y=a}else this.T.m(c.x+d,c.y+a)}},reverse:function(){var a=this.km,a=[r.eg(a[1],r.qD(a[2])),r.eg(a[0],r.qD(a[2])),r.qD(a[2])];return r.Wl.create(this.za,a)}});r.Wl.create=function(a,c){var d=new r.Wl;d.O(a,c);return d};
r.ty=r.Wl.extend({pw:null,ctor:function(){r.Wl.prototype.ctor.call(this);this.pw=[]},O:function(a,c){return r.S.prototype.O.call(this,a)?(this.pw=c,!0):!1},H:function(){var a=new r.ty;a.O(this.za,this.pw);return a},$:function(a){r.Wl.prototype.$.call(this,a);a=this.Uc;var c=this.pw,d=this.km;d[0]=r.Gd(c[0],a);d[1]=r.Gd(c[1],a);d[2]=r.Gd(c[2],a)}});r.ty.create=function(a,c){var d=new r.ty;d.O(a,c);return d};
r.co=r.S.extend({xa:1,Ca:1,dp:1,ep:1,nm:0,om:0,Pe:0,Qe:0,ctor:function(){r.S.prototype.ctor.call(this);this.ep=this.dp=this.Ca=this.xa=1;this.Qe=this.Pe=this.om=this.nm=0},O:function(a,c,d){return r.S.prototype.O.call(this,a)?(this.nm=c,this.om=null!=d?d:c,!0):!1},H:function(){var a=new r.co;a.O(this.za,this.nm,this.om);return a},$:function(a){r.S.prototype.$.call(this,a);this.dp=a.xa;this.ep=a.Ca;this.Pe=this.nm-this.dp;this.Qe=this.om-this.ep},update:function(a){this.T&&this.T.rk(this.dp+this.Pe*
a,this.ep+this.Qe*a)}});r.co.create=function(a,c,d){var e=new r.co;e.O(a,c,d);return e};r.tu=r.co.extend({$:function(a){r.co.prototype.$.call(this,a);this.Pe=this.dp*this.nm-this.dp;this.Qe=this.ep*this.om-this.ep},reverse:function(){return r.tu.create(this.za,1/this.nm,1/this.om)},H:function(){var a=new r.tu;a.O(this.za,this.nm,this.om);return a}});r.tu.create=function(a,c,d){var e=new r.tu;e.O(a,c,d);return e};
r.Ct=r.S.extend({Vf:0,LA:!1,ctor:function(){r.S.prototype.ctor.call(this);this.Vf=0;this.LA=!1},O:function(a,c){return r.S.prototype.O.call(this,a)?(this.Vf=c,!0):!1},H:function(){var a=new r.Ct;a.O(this.za,this.Vf);return a},update:function(a){if(this.T&&!this.gi()){var c=1/this.Vf;this.T.B(a%c>c/2)}},$:function(a){r.S.prototype.$.call(this,a);this.LA=a.la},stop:function(){this.T.B(this.LA);r.S.prototype.stop.call(this)},reverse:function(){return r.Ct.create(this.za,this.Vf)}});
r.Ct.create=function(a,c){var d=new r.Ct;d.O(a,c);return d};r.bu=r.S.extend({update:function(a){this.T.lb&&this.T.ra(255*a)},reverse:function(){return r.cu.create(this.za)},H:function(){var a=new r.bu;a.O(this.za);return a}});r.bu.create=function(a){var c=new r.bu;c.O(a);return c};r.cu=r.S.extend({update:function(a){this.T.lb&&this.T.ra(255*(1-a))},reverse:function(){return r.bu.create(this.za)},H:function(){var a=new r.cu;a.O(this.za);return a}});r.cu.create=function(a){var c=new r.cu;c.O(a);return c};
r.Gy=r.S.extend({qw:null,nv:null,ctor:function(){r.S.prototype.ctor.call(this);this.nv=this.qw=0},O:function(a,c){return r.S.prototype.O.call(this,a)?(this.qw=c,!0):!1},H:function(){var a=new r.Gy;a.O(this.za,this.qw);return a},update:function(a){this.T.lb&&this.T.ra(this.nv+(this.qw-this.nv)*a)},$:function(a){r.S.prototype.$.call(this,a);this.T.lb&&(this.nv=a.Xi())}});r.Gy.create=function(a,c){var d=new r.Gy;d.O(a,c);return d};
r.mz=r.S.extend({yf:null,ie:null,ctor:function(){r.S.prototype.ctor.call(this);this.yf=r.l(0,0,0);this.ie=r.l(0,0,0)},O:function(a,c,d,e){return r.S.prototype.O.call(this,a)?(this.yf=r.l(c,d,e),!0):!1},H:function(){var a=new r.mz,c=this.yf;a.O(this.za,c.p,c.o,c.h);return a},$:function(a){r.S.prototype.$.call(this,a);this.T.lb&&(this.ie=this.T.Dd())},update:function(a){var c=this.ie,d=this.yf;this.T.lb&&this.T.n(r.l(c.p+(d.p-c.p)*a,c.o+(d.o-c.o)*a,c.h+(d.h-c.h)*a))}});
r.mz.create=function(a,c,d,e){var f=new r.mz;f.O(a,c,d,e);return f};
r.Cu=r.S.extend({br:0,ar:0,$q:0,pA:0,oA:0,nA:0,ctor:function(){r.S.prototype.ctor.call(this);this.nA=this.oA=this.pA=this.$q=this.ar=this.br=0},O:function(a,c,d,e){return r.S.prototype.O.call(this,a)?(this.br=c,this.ar=d,this.$q=e,!0):!1},H:function(){var a=new r.Cu;a.O(this.za,this.br,this.ar,this.$q);return a},$:function(a){r.S.prototype.$.call(this,a);a.lb&&(a=a.Dd(),this.pA=a.p,this.oA=a.o,this.nA=a.h)},update:function(a){this.T.lb&&this.T.n(r.l(this.pA+this.br*a,this.oA+this.ar*a,this.nA+this.$q*
a))},reverse:function(){return r.Cu.create(this.za,-this.br,-this.ar,-this.$q)}});r.Cu.create=function(a,c,d,e){var f=new r.Cu;f.O(a,c,d,e);return f};r.Un=r.S.extend({update:function(){},reverse:function(){return r.Un.create(this.za)},H:function(){var a=new r.Un;a.O(this.za);return a}});r.Un.create=function(a){var c=new r.Un;c.O(a);return c};
r.qu=r.S.extend({Sj:null,ctor:function(){r.S.prototype.ctor.call(this);this.Sj=null},pa:function(a){if(!a)throw"cc.ReverseTime.initWithAction(): action must be non null";if(a==this.Sj)throw"cc.ReverseTime.initWithAction(): the action was already passed in.";return r.S.prototype.O.call(this,a.Af())?(this.Sj=a,!0):!1},H:function(){var a=new r.qu;a.pa(this.Sj.H());return a},$:function(a){r.S.prototype.$.call(this,a);this.Sj.$(a)},update:function(a){this.Sj&&this.Sj.update(1-a)},reverse:function(){return this.Sj.H()},
stop:function(){this.Sj.stop();r.Jd.prototype.stop.call(this)}});r.qu.create=function(a){var c=new r.qu;c.pa(a);return c};
r.zt=r.S.extend({yj:null,Vo:0,Pv:null,mr:0,tB:null,ctor:function(){r.S.prototype.ctor.call(this);this.yj=null;this.Vo=0;this.Pv=null;this.mr=0;this.tB=null},zI:function(){return this.yj},KW:function(a){this.yj=a},aJ:function(a){if(!a)throw"cc.Animate.initWithAnimation(): animation must be non-NULL";var c=a.Af();if(this.O(c*a.Pj)){this.Vo=0;this.KW(a);this.Pv=null;this.mr=0;var d=[],e=0,f=c/a.Nm;a=a.he;r.At(a,r.pj);for(var g=0;g<a.length;g++){var h=e*f/c,e=e+a[g].fe;d.push(h)}this.tB=d;return!0}return!1},
H:function(){var a=new r.zt;a.aJ(this.yj.H());return a},$:function(a){r.S.prototype.$.call(this,a);this.yj.Am&&(this.Pv=a.tS());this.mr=this.Vo=0},update:function(a){1>a&&(a*=this.yj.Pj,(0|a)>this.mr&&(this.Vo=0,this.mr++),a%=1);for(var c=this.yj.he,d=c.length,e=this.tB,f=this.Vo;f<d;f++)if(e[f]<=a)this.T.dq(c[f].uh()),this.Vo=f+1;else break},reverse:function(){var a=this.yj,c=a.he,d=[];r.At(c,r.pj);if(0<c.length)for(var e=c.length-1;0<=e;e--){var f=c[e];if(!f)break;d.push(f.H())}c=r.oj.YH(d,a.fe,
a.Pj);c.Nx(a.Am);return r.zt.create(c)},stop:function(){this.yj.Am&&this.T&&this.T.dq(this.Pv);r.Jd.prototype.stop.call(this)}});r.zt.create=function(a){var c=new r.zt;c.aJ(a);return c};
r.lz=r.S.extend({Nf:null,pm:null,ctor:function(){r.S.prototype.ctor.call(this);this.pm=this.Nf=null},Kg:function(a,c){return this.O(c.Af())?(this.pm=a,this.Nf=c,!0):!1},H:function(){var a=new r.lz;a.Kg(this.pm,this.Nf.H());return a},$:function(a){r.S.prototype.$.call(this,a);this.Nf.$(this.pm)},stop:function(){this.Nf.stop()},update:function(a){this.Nf.update(a)},W4:function(){return this.pm},Xaa:function(a){this.pm!=a&&(this.pm=a)}});r.lz.create=function(a,c){var d=new r.lz;d.Kg(a,c);return d};r.qi=r.sj.extend({gi:function(){return!0},step:function(){this.update(1)},update:function(){},reverse:function(){return this.H()},H:function(){return new r.qi}});r.uu=r.qi.extend({update:function(){this.T.B(!0)},reverse:function(){return r.fu.create()},H:function(){return new r.uu}});r.uu.create=function(){return new r.uu};r.fu=r.qi.extend({update:function(){this.T.B(!1)},reverse:function(){return r.uu.create()},H:function(){return new r.fu}});r.fu.create=function(){return new r.fu};
r.Du=r.qi.extend({update:function(){this.T.B(!this.T.la)},reverse:function(){return new r.Du},H:function(){return new r.Du}});r.Du.create=function(){return new r.Du};r.nu=r.qi.extend({zr:!0,ctor:function(){r.sj.prototype.ctor.call(this);this.zr=!0},update:function(){this.T.N(this.zr)},r:function(a){this.zr=a;return!0},reverse:function(){return new r.nu(this.zr)},H:function(){return new r.nu(this.zr)}});r.nu.create=function(a){null==a&&(a=!0);var c=new r.nu;c&&c.r(a);return c};
r.du=r.qi.extend({nc:!1,ctor:function(){r.sj.prototype.ctor.call(this);this.nc=!1},cJ:function(a){this.nc=a;return!0},update:function(){this.T.bX(this.nc)},reverse:function(){return r.du.create(!this.nc)},H:function(){var a=new r.du;a.cJ(this.nc);return a}});r.du.create=function(a){var c=new r.du;return c.cJ(a)?c:null};
r.eu=r.qi.extend({oc:!1,ctor:function(){r.sj.prototype.ctor.call(this);this.oc=!1},dJ:function(a){this.oc=a;return!0},update:function(){this.T.cX(this.oc)},reverse:function(){return r.eu.create(!this.oc)},H:function(){var a=new r.eu;a.dJ(this.oc);return a}});r.eu.create=function(a){var c=new r.eu;return c.dJ(a)?c:null};
r.Ty=r.qi.extend({q:null,ctor:function(){r.sj.prototype.ctor.call(this);this.q=r.a(0,0)},fJ:function(a){this.q.x=a.x;this.q.y=a.y;return!0},update:function(){this.T.m(this.q)},H:function(){var a=new r.Ty;a.fJ(this.q);return a}});r.Ty.create=function(a){var c=new r.Ty;c.fJ(a);return c};
r.sq=r.qi.extend({lh:null,jm:null,Nk:null,Yq:null,ctor:function(){r.sj.prototype.ctor.call(this);this.Yq=this.Nk=this.jm=this.lh=null},Kg:function(a,c,d){this.Yq=d;this.jm=a;this.lh=c;return!0},RC:function(a){this.Nk=a;return!0},execute:function(){null!=this.jm?this.jm.call(this.lh,this.T,this.Yq):this.Nk&&this.Nk.call(null,this.T)},update:function(){this.execute()},Q6:function(){return this.lh},ica:function(a){a!=this.lh&&(this.lh&&(this.lh=null),this.lh=a)},copy:function(){var a=new r.sq;this.lh?
a.Kg(this.jm,this.lh,this.Yq):this.Nk&&a.RC(this.Nk);return a},H:function(){var a=new r.sq;this.lh?a.Kg(this.jm,this.lh,this.Yq):this.Nk&&a.RC(this.Nk);return a}});r.sq.create=function(a,c,d){var e=new r.sq;if(1==arguments.length){if(e&&e.RC(a))return e}else if(e&&e.Kg(a,c,d))return e.jm=a,e;return null};r.ny=r.S.extend({Lz:0,Mz:0,Nz:0,hG:0,iG:0,jG:0,pH:0,qH:0,rH:0,ctor:function(){r.S.prototype.ctor.call(this);this.rH=this.qH=this.pH=this.jG=this.iG=this.hG=this.Nz=this.Mz=this.Lz=0},$:function(a){r.S.prototype.$.call(this,a);a=a.yC();var c=a.BI();this.Lz=c.x;this.Mz=c.y;this.Nz=c.z;c=a.DI();this.hG=c.x;this.iG=c.y;this.jG=c.z;a=a.FT();this.pH=a.x;this.qH=a.y;this.rH=a.z},H:function(){return new r.ny},reverse:function(){return r.qu.create(this)}});
r.Ry=r.ny.extend({Ri:0,gv:0,ko:0,Zz:0,qg:0,Yz:0,bB:0,$A:0,aB:0,ZA:0,ctor:function(){r.ny.prototype.ctor.call(this);this.ZA=this.aB=this.$A=this.bB=this.Yz=this.qg=this.Zz=this.ko=this.gv=this.Ri=0},O:function(a,c,d,e,f,g,h){return r.S.prototype.O.call(this,a)?(this.Ri=c,this.gv=d,this.ko=e,this.Zz=f,this.qg=g,this.Yz=h,this.$A=r.rj(f),this.ZA=r.rj(h),!0):!1},lY:function(){var a=this.T.yC(),c=a.DI(),d=a.BI(),a=c.x-d.x,e=c.y-d.y,c=c.z-d.z,d=Math.sqrt(Math.pow(a,2)+Math.pow(e,2)+Math.pow(c,2)),f=Math.sqrt(Math.pow(a,
2)+Math.pow(e,2));0===f&&(f=r.au);0===d&&(d=r.au);return{RU:d/r.tq.Ks(),JY:Math.acos(c/d),azimuth:0>a?Math.PI-Math.asin(e/f):Math.asin(e/f)}},$:function(a){r.S.prototype.$.call(this,a);a=this.lY();isNaN(this.Ri)&&(this.Ri=a.RU);isNaN(this.ko)&&(this.ko=r.Vy(a.JY));isNaN(this.qg)&&(this.qg=r.Vy(a.azimuth));this.bB=r.rj(this.ko);this.aB=r.rj(this.qg)},H:function(){var a=new r.Ry;a.O(this.za,this.Ri,this.gv,this.ko,this.Zz,this.qg,this.Yz);return a},update:function(a){var c=(this.Ri+this.gv*a)*r.tq.Ks(),
d=this.bB+this.$A*a,e=this.aB+this.ZA*a;a=Math.sin(d)*Math.cos(e)*c+this.Lz;e=Math.sin(d)*Math.sin(e)*c+this.Mz;c=Math.cos(d)*c+this.Nz;this.T.yC().MK(a,e,c)}});r.Ry.create=function(a,c,d,e,f,g,h){var k=new r.Ry;return k.O(a,c,d,e,f,g,h)?k:null};r.gd=r.S.extend({ea:null,ctor:function(){r.S.prototype.ctor.call(this);this.ea=null},pa:function(a){if(!a)throw"cc.ActionEase.initWithAction(): action must be non nil";return this.O(a.Af())?(this.ea=a,!0):!1},H:function(){var a=new r.gd;a.pa(this.ea.H());return a},$:function(a){r.S.prototype.$.call(this,a);this.ea.$(this.T)},stop:function(){this.ea.stop();r.S.prototype.stop.call(this)},update:function(a){this.ea.update(a)},reverse:function(){return r.gd.create(this.ea.reverse())},zC:function(){return this.ea}});
r.gd.create=function(a){var c=new r.gd;c&&c.pa(a);return c};r.$l=r.gd.extend({Ue:0,ctor:function(){r.gd.prototype.ctor.call(this);this.Ue=0},Pba:function(a){this.Ue=a},o6:function(){return this.Ue},pa:function(a,c){return r.gd.prototype.pa.call(this,a)?(this.Ue=c,!0):!1},H:function(){var a=new r.$l;a.pa(this.ea.H(),this.Ue);return a},reverse:function(){return r.$l.create(this.ea.reverse(),1/this.Ue)}});r.$l.create=function(a,c){var d=new r.$l;d&&d.pa(a,c);return d};
r.Ut=r.$l.extend({update:function(a){this.ea.update(Math.pow(a,this.Ue))},reverse:function(){return r.Ut.create(this.ea.reverse(),1/this.Ue)},H:function(){var a=new r.Ut;a.pa(this.ea.H(),this.Ue);return a}});r.Ut.create=function(a,c){var d=new r.Ut;d&&d.pa(a,c);return d};r.Wt=r.$l.extend({update:function(a){this.ea.update(Math.pow(a,1/this.Ue))},reverse:function(){return r.Wt.create(this.ea.reverse(),1/this.Ue)},H:function(){var a=new r.Wt;a.pa(this.ea.H(),this.Ue);return a}});
r.Wt.create=function(a,c){var d=new r.Wt;d&&d.pa(a,c);return d};r.Vt=r.$l.extend({update:function(a){a*=2;1>a?this.ea.update(0.5*Math.pow(a,this.Ue)):this.ea.update(1-0.5*Math.pow(2-a,this.Ue))},H:function(){var a=new r.Vt;a.pa(this.ea.H(),this.Ue);return a},reverse:function(){return r.Vt.create(this.ea.reverse(),this.Ue)}});r.Vt.create=function(a,c){var d=new r.Vt;d&&d.pa(a,c);return d};
r.Rt=r.gd.extend({update:function(a){this.ea.update(0===a?0:Math.pow(2,10*(a-1)))},reverse:function(){return r.Tt.create(this.ea.reverse())},H:function(){var a=new r.Rt;a.pa(this.ea.H());return a}});r.Rt.create=function(a){var c=new r.Rt;c&&c.pa(a);return c};r.Tt=r.gd.extend({update:function(a){this.ea.update(1==a?1:-Math.pow(2,-10*a)+1)},reverse:function(){return r.Rt.create(this.ea.reverse())},H:function(){var a=new r.Tt;a.pa(this.ea.H());return a}});
r.Tt.create=function(a){var c=new r.Tt;c&&c.pa(a);return c};r.St=r.gd.extend({update:function(a){1!=a&&0!==a&&(a*=2,a=1>a?0.5*Math.pow(2,10*(a-1)):0.5*(-Math.pow(2,-10*(a-1))+2));this.ea.update(a)},reverse:function(){return r.St.create(this.ea.reverse())},H:function(){var a=new r.St;a.pa(this.ea.H());return a}});r.St.create=function(a){var c=new r.St;c&&c.pa(a);return c};
r.Xt=r.gd.extend({update:function(a){a=0===a||1==a?a:-1*Math.cos(a*Math.PI/2)+1;this.ea.update(a)},reverse:function(){return r.Zt.create(this.ea.reverse())},H:function(){var a=new r.Xt;a.pa(this.ea.H());return a}});r.Xt.create=function(a){var c=new r.Xt;c&&c.pa(a);return c};r.Zt=r.gd.extend({update:function(a){a=0===a||1==a?a:Math.sin(a*Math.PI/2);this.ea.update(a)},reverse:function(){return r.Xt.create(this.ea.reverse())},H:function(){var a=new r.Zt;a.pa(this.ea.H());return a}});
r.Zt.create=function(a){var c=new r.Zt;c&&c.pa(a);return c};r.Yt=r.gd.extend({update:function(a){a=0===a||1==a?a:-0.5*(Math.cos(Math.PI*a)-1);this.ea.update(a)},H:function(){var a=new r.Yt;a.pa(this.ea.H());return a},reverse:function(){return r.Yt.create(this.ea.reverse())}});r.Yt.create=function(a){var c=new r.Yt;c&&c.pa(a);return c};
r.Vn=r.gd.extend({je:null,ctor:function(){r.gd.prototype.ctor.call(this);this.je=0.3},Y5:function(){return this.je},Eba:function(a){this.je=a},pa:function(a,c){r.gd.prototype.pa.call(this,a);this.je=null==c?0.3:c;return!0},reverse:function(){r.log("cc.EaseElastic.reverse(): it should be overridden in subclass.")},H:function(){var a=new r.Vn;a.pa(this.ea.H(),this.je);return a}});r.Vn.create=function(a,c){var d=new r.Vn;return d&&d.pa(a,c)?d:null};
r.Ot=r.Vn.extend({update:function(a){var c=0;0===a||1===a?c=a:(c=this.je/4,a-=1,c=-Math.pow(2,10*a)*Math.sin((a-c)*Math.PI*2/this.je));this.ea.update(c)},reverse:function(){return r.Qt.create(this.ea.reverse(),this.je)},H:function(){var a=new r.Ot;a.pa(this.ea.H(),this.je);return a}});r.Ot.create=function(a,c){var d=new r.Ot;return d&&d.pa(a,c)?d:null};
r.Qt=r.Vn.extend({update:function(a){var c=0,c=0===a||1==a?a:Math.pow(2,-10*a)*Math.sin((a-this.je/4)*Math.PI*2/this.je)+1;this.ea.update(c)},reverse:function(){return r.Ot.create(this.ea.reverse(),this.je)},H:function(){var a=new r.Qt;a.pa(this.ea.H(),this.je);return a}});r.Qt.create=function(a,c){var d=new r.Qt;d&&d.pa(a,c);return d};
r.Pt=r.Vn.extend({update:function(a){var c=0,c=this.je;if(0===a||1==a)c=a;else{c||(c=this.je=0.3*1.5);var d=c/4;a=2*a-1;c=0>a?-0.5*Math.pow(2,10*a)*Math.sin((a-d)*Math.PI*2/c):Math.pow(2,-10*a)*Math.sin((a-d)*Math.PI*2/c)*0.5+1}this.ea.update(c)},reverse:function(){return r.Pt.create(this.ea.reverse(),this.je)},H:function(){var a=new r.Pt;a.pa(this.ea.H(),this.je);return a}});r.Pt.create=function(a,c){var d=new r.Pt;d&&d.pa(a,c);return d};
r.Zl=r.gd.extend({Bw:function(a){if(a<1/2.75)return 7.5625*a*a;if(a<2/2.75)return a-=1.5/2.75,7.5625*a*a+0.75;if(a<2.5/2.75)return a-=2.25/2.75,7.5625*a*a+0.9375;a-=2.625/2.75;return 7.5625*a*a+0.984375},H:function(){var a=new r.Zl;a.pa(this.ea.H());return a},reverse:function(){return r.Zl.create(this.ea.reverse())}});r.Zl.create=function(a){var c=new r.Zl;c&&c.pa(a);return c};
r.Lt=r.Zl.extend({update:function(a){this.ea.update(1-this.Bw(1-a))},reverse:function(){return r.Nt.create(this.ea.reverse())},H:function(){var a=new r.Lt;a.pa(this.ea.H());return a}});r.Lt.create=function(a){var c=new r.Lt;c&&c.pa(a);return c};r.Nt=r.Zl.extend({update:function(a){this.ea.update(this.Bw(a))},reverse:function(){return r.Lt.create(this.ea.reverse())},H:function(){var a=new r.Nt;a.pa(this.ea.H());return a}});r.Nt.create=function(a){var c=new r.Nt;c&&c.pa(a);return c};
r.Mt=r.Zl.extend({update:function(a){var c=0,c=0.5>a?0.5*(1-this.Bw(1-2*a)):0.5*this.Bw(2*a-1)+0.5;this.ea.update(c)},H:function(){var a=new r.Mt;a.pa(this.ea.H());return a},reverse:function(){return r.Mt.create(this.ea.reverse())}});r.Mt.create=function(a){var c=new r.Mt;c&&c.pa(a);return c};r.It=r.gd.extend({update:function(a){this.ea.update(0===a||1==a?a:a*a*(2.70158*a-1.70158))},reverse:function(){return r.Kt.create(this.ea.reverse())},H:function(){var a=new r.It;a.pa(this.ea.H());return a}});
r.It.create=function(a){var c=new r.It;c&&c.pa(a);return c};r.Kt=r.gd.extend({update:function(a){a-=1;this.ea.update(a*a*(2.70158*a+1.70158)+1)},reverse:function(){return r.It.create(this.ea.reverse())},H:function(){var a=new r.Kt;a.pa(this.ea.H());return a}});r.Kt.create=function(a){var c=new r.Kt;c&&c.pa(a);return c};
r.Jt=r.gd.extend({update:function(a){a*=2;1>a?this.ea.update(a*a*(3.5949095*a-2.5949095)/2):(a-=2,this.ea.update(a*a*(3.5949095*a+2.5949095)/2+1))},H:function(){var a=new r.Jt;a.pa(this.ea.H());return a},reverse:function(){return r.Jt.create(this.ea.reverse())}});r.Jt.create=function(a){var c=new r.Jt;c&&c.pa(a);return c};r.wy=function(a,c,d,e,f,g){var h=g*g,k=h*g,l=(1-f)/2;f=l*(-k+2*h-g);var m=l*(-k+h)+(2*k-3*h+1);g=l*(k-2*h+g)+(-2*k+3*h);h=l*(k-h);return r.a(a.x*f+c.x*m+d.x*g+e.x*h,a.y*f+c.y*m+d.y*g+e.y*h)};r.uK=function(a){for(var c=[],d=a.length-1;0<=d;d--)c.push(r.a(a[d].x,a[d].y));return c};r.Hw=function(a){for(var c=[],d=0;d<a.length;d++)c.push(r.a(a[d].x,a[d].y));return c};r.th=function(a,c){var d=Math.min(a.length-1,Math.max(c,0));return a[d]};
r.naa=function(a){for(var c=a.length,d=0|c/2,e=0;e<d;++e){var f=a[e];a[e]=a[c-e-1];a[c-e-1]=f}};
r.si=r.S.extend({Nh:null,$z:0,Jm:0,Tc:null,wz:null,ctor:function(){r.S.prototype.ctor.call(this);this.Nh=[];this.Jm=this.$z=0;this.wz=this.Tc=null},O:function(a,c,d){if(!c||0==c.length)throw"Invalid configuration. It must at least have one control point";return r.S.prototype.O.call(this,a)?(this.CX(c),this.Jm=d,!0):!1},H:function(){var a=new r.si;a.O(this.za,r.Hw(this.Nh),this.Jm);return a},$:function(a){r.S.prototype.$.call(this,a);this.$z=1/(this.Nh.length-1);a=this.T.q;this.Tc=r.a(a.x,a.y);this.wz=
r.a(0,0)},update:function(a){var c,d=this.Nh;if(1==a)c=d.length-1,a=1;else{var e=this.$z;c=0|a/e;a=(a-e*c)/e}c=r.wy(r.th(d,c-1),r.th(d,c-0),r.th(d,c+1),r.th(d,c+2),this.Jm,a);r.Ft&&(d=this.T.q.F-this.Tc.x,a=this.T.q.K-this.Tc.y,0!=d||0!=a)&&(e=this.wz,d=e.x+d,a=e.y+a,e.x=d,e.y=a,c.x+=d,c.y+=a);this.NL(c)},reverse:function(){var a=r.uK(this.Nh);return r.si.create(this.za,a,this.Jm)},NL:function(a){this.T.m(a);this.Tc=a},d6:function(){return this.Nh},CX:function(a){this.Nh=a}});
r.si.create=function(a,c,d){var e=new r.si;return e.O(a,c,d)?e:null};
r.uq=r.si.extend({Uc:null,ctor:function(){r.si.prototype.ctor.call(this);this.Uc=r.a(0,0)},$:function(a){r.si.prototype.$.call(this,a);a=a.q;this.Uc.x=a.x;this.Uc.y=a.y},reverse:function(){for(var a=this.Nh.slice(),c,d=a[0],e=1;e<a.length;++e)c=a[e],a[e]=r.Gd(c,d),d=c;a=r.uK(a);d=a[a.length-1];a.pop();d.x=-d.x;d.y=-d.y;a.unshift(d);for(e=1;e<a.length;++e)c=a[e],c.x=-c.x,c.y=-c.y,c.x+=d.x,c.y+=d.y,d=a[e]=c;return r.uq.create(this.za,a,this.Jm)},NL:function(a){var c=this.Uc,d=a.x+c.x;a=a.y+c.y;this.T.m(d,
a);this.Tc.x=d;this.Tc.y=a},H:function(){var a=new r.uq;a.O(this.za,r.Hw(this.Nh),this.Jm);return a}});r.uq.create=function(a,c,d){var e=new r.uq;return e.O(a,c,d)?e:null};r.yy=r.si.extend({O:function(a,c){return r.si.prototype.O.call(this,a,c,0.5)},H:function(){var a=new r.yy;a.O(this.za,r.Hw(this.Nh));return a}});r.yy.create=function(a,c){var d=new r.yy;return d.O(a,c)?d:null};
r.xy=r.uq.extend({O:function(a,c){return r.si.prototype.O.call(this,a,c,0.5)},H:function(){var a=new r.xy;a.O(this.za,r.Hw(this.Nh));return a}});r.xy.create=function(a,c){var d=new r.xy;return d.O(a,c)?d:null};r.VY=r.Ea.extend({sE:function(){}});
r.Tn=r.S.extend({key:"",cn:0,Pl:0,kC:0,ctor:function(){r.S.prototype.ctor.call(this);this.key="";this.kC=this.Pl=this.cn=0},O:function(a,c,d,e){return r.S.prototype.O.call(this,a)?(this.key=c,this.Pl=e,this.cn=d,!0):!1},$:function(a){if(!a||!a.sE)throw"cc.ActionTween.startWithTarget(): target must be non-null, and target must implement updateTweenAction function";r.S.prototype.$.call(this,a);this.kC=this.Pl-this.cn},update:function(a){this.T.sE(this.Pl-this.kC*(1-a),this.key)},reverse:function(){return r.Tn.create(this.duration,
this.key,this.Pl,this.cn)},H:function(){var a=new r.Tn;a.O(this.za,this.key,this.cn,this.Pl);return a}});r.Tn.create=function(a,c,d,e){var f=new r.Tn;return f.O(a,c,d,e)?f:null};r.yk=0;r.Sy=1;r.pF=4;r.hN=75;
r.Fc=r.Bb.extend({zf:null,Oi:0,pb:null,Mh:null,im:null,Qd:!1,y5:function(){return r.a(this.Mh.x,this.Mh)},UK:function(a){this.Mh=r.TJ(a)},e4:function(){return r.a(this.im.x,this.im.y)},CK:function(a){this.im=r.TJ(a)},rc:function(){return this.zf},Vw:function(){return this.Oi},zT:function(){return this.pb},it:function(a){this.Oi!=a&&(this.Oi=r.us(a,0,100),this.JB())},Jf:function(){},sl:function(){return!1},y8:function(){return this.Qd},Hz:function(a){if(a<r.pF){var c=r.hN;return this.Qd?r.a(c>>7-(a<<
1)&1,c>>7-((a<<1)+1)&1):r.a(c>>(a<<1)+1&1,c>>(a<<1)&1)}return r.tj()},ld:null,AB:270,iA:270,Ri:0,Tz:!1,Ez:null,Bd:0,Lc:null,Wf:null,zH:null,rs:!1,ctor:null,Jh:function(){r.Bb.prototype.ctor.call(this);this.zf=r.yk;this.Oi=0;this.Mh=r.a(0,0);this.im=r.a(0,0);this.Qd=!1;this.pb=null;this.ld=r.tj();this.iA=this.AB=270;this.Ri=0;this.Tz=!1;this.Ez=r.hd()},Kh:function(){r.Bb.prototype.ctor.call(this);this.zf=r.yk;this.Oi=0;this.Mh=r.a(0,0);this.im=r.a(0,0);this.Qd=!1;this.pb=null;this.zH=r.X.createBuffer();
this.Bd=0;this.Wf=this.Lc=null;this.rs=!1},n:function(a){this.pb.n(a);this.Ad()},ra:function(a){this.pb.ra(a);this.Ad()},Dd:function(){return this.pb.Dd()},Xi:function(){return this.pb.Xi()},ZK:null,rQ:function(a){this.Qd!==a&&(this.Qd=a)},sQ:function(a){this.Qd!==a&&(this.Qd=a,this.Wf=this.Lc=null,this.Bd=0)},kt:null,uQ:function(a){this.pb!=a&&(this.pb=a,this.V(this.pb.c()))},vQ:function(a){a&&this.pb!=a&&(this.pb=a,this.V(a.c()),this.Lc&&(this.Wf=this.Lc=null,this.Bd=0))},kj:null,yQ:function(a){a!==
this.zf&&(this.zf=a)},zQ:function(a){a!==this.zf&&(this.Lc&&(this.Wf=this.Lc=null,this.Bd=0),this.zf=a)},YK:null,pQ:function(a){this.Qd!==a&&(this.Qd=a)},qQ:function(a){this.Qd!==a&&(this.Qd=a,this.Wf=this.Lc=null,this.Bd=0)},$e:function(a){var c=this.pb;if(!c)return{Qa:0,na:0};var d=c.Lb,e=r.a(d.Ka.C.Qa,d.Ka.C.na),d=r.a(d.Oa.C.Qa,d.Oa.C.na);c.Yc&&(c=a.x,a.x=a.y,a.y=c);return{Qa:e.x*(1-a.x)+d.x*a.x,na:e.y*(1-a.y)+d.y*a.y}},bf:function(a){if(!this.pb)return{x:0,y:0};var c=this.pb.Lb,d=r.a(c.Ka.s.x,
c.Ka.s.y),c=r.a(c.Oa.s.x,c.Oa.s.y);return{x:d.x*(1-a.x)+c.x*a.x,y:d.y*(1-a.y)+c.y*a.y}},UC:null,ZO:function(a){this.it(0);this.G(0.5,0.5);this.zf=r.yk;this.Qd=!1;this.UK(r.a(0.5,0.5));this.CK(r.a(1,1));this.kt(a);return!0},$O:function(a){this.it(0);this.Wf=this.Lc=null;this.Bd=0;this.G(0.5,0.5);this.zf=r.yk;this.Qd=!1;this.UK(r.a(0.5,0.5));this.CK(r.a(1,1));this.kt(a);this.Qg(r.Hh.e().li(r.Zy));return!0},Wa:null,mm:function(a){a=a||r.X;var c=this.pb;c.Mo&&(a.globalCompositeOperation="lighter");var d=
r.ta.e().xa,e=r.ta.e().Ca;a.globalAlpha=c.Yb/255;var f=c.Aa,g=c.wa,h=c.gc,k=c.fA,l=0|h.x,m=-h.y-f.height,n=c.ip;k.width=f.width*d;k.height=f.height*e;a.save();c.nc&&(l=-h.x-f.width,a.scale(-1,1));c.oc&&(m=h.y,a.scale(1,-1));l*=d;m*=e;this.zf==r.Sy?(f=this.Ez,a.beginPath(),a.rect(f.x*d,f.y*e,f.width*d,f.height*e),a.clip(),a.closePath()):this.zf==r.yk&&(f=this.ld.x*d,h=this.ld.y*e,a.beginPath(),a.arc(f,h,this.Ri*e,Math.PI/180*this.AB,Math.PI/180*this.iA,this.Tz),a.lineTo(f,h),a.clip(),a.closePath());
c.Fa&&n.wt?(d=c.Fa.Jc,this.$u?a.drawImage(d,0,0,n.width,n.height,l,m,k.width,k.height):a.drawImage(d,n.x,n.y,n.width,n.height,l,m,k.width,k.height)):0!==g.width&&(k=this.Dd(),a.fillStyle="rgba("+k.p+","+k.o+","+k.h+",1)",a.fillRect(l,m,g.width*d,g.height*e));a.restore();r.Eh()},ug:function(a){a=a||r.X;if(this.Lc&&this.pb){r.Py(this);var c=this.pb.ia;r.gk(c.src,c.Ib);r.ye(r.Hu);this.pb.aa()?r.Ig(this.pb.aa()):r.Ig(null);a.bindBuffer(a.ARRAY_BUFFER,this.zH);this.rs&&(a.bufferData(a.ARRAY_BUFFER,this.Wf,
a.DYNAMIC_DRAW),this.rs=!1);c=r.Vb.BYTES_PER_ELEMENT;a.vertexAttribPointer(r.Oe,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(r.Gq,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(r.Hq,2,a.FLOAT,!1,c,12);this.zf===r.yk?a.drawArrays(a.TRIANGLE_FAN,0,this.Bd):this.zf==r.Sy&&(this.Qd?(a.drawArrays(a.TRIANGLE_STRIP,0,this.Bd/2),a.drawArrays(a.TRIANGLE_STRIP,4,this.Bd/2),r.ci++):a.drawArrays(a.TRIANGLE_STRIP,0,this.Bd));r.ci++}},aR:function(){if(this.pb){var a,c=this.Mh;a=this.Oi/100;var d=2*r.PI*(this.Qd?a:
1-a),e=r.a(c.x,1),f=r.mV(e,c,d),d=0;if(0==a)f=e,d=0;else if(1==a)f=e,d=4;else{var g=r.wM,h=r.pF;for(a=0;a<=h;++a){var k=(a+(h-1))%h,l=this.Hz(a%h),k=this.Hz(k);0==a?k=r.VJ(l,k,1-c.x):4==a&&(l=r.VJ(l,k,1-c.x));var m=r.a(0,0);r.oD(l,k,c,f,m)&&(0!=a&&4!=a||0<=m.x&&1>=m.x)&&0<=m.y&&m.y<g&&(g=m.y,d=a)}f=r.eg(c,r.hj(r.Gd(f,c),g))}g=!0;this.Bd!=d+3&&(g=!1,this.Wf=this.Lc=null,this.Bd=0);if(!this.Lc){h=this.Bd=d+3;l=r.Vb.BYTES_PER_ELEMENT;this.Wf=new ArrayBuffer(h*l);k=[];for(a=0;a<h;a++)k[a]=new r.Vb(null,
null,null,this.Wf,a*l);this.Lc=k;if(!this.Lc){r.log("cc.ProgressTimer._updateRadial() : Not enough memory");return}}this.Ad();h=this.Lc;if(!g)for(h[0].C=this.$e(c),h[0].s=this.bf(c),h[1].C=this.$e(e),h[1].s=this.bf(e),a=0;a<d;a++)c=this.Hz(a),h[a+2].C=this.$e(c),h[a+2].s=this.bf(c);h[this.Bd-1].C=this.$e(f);h[this.Bd-1].s=this.bf(f)}},QQ:function(){if(this.pb){var a,c=this.Oi/100,d=this.im,d=r.hj(r.a(1-d.x+c*d.x,1-d.y+c*d.y),0.5),c=r.Gd(this.Mh,d),d=r.eg(this.Mh,d);0>c.x&&(d.x+=-c.x,c.x=0);1<d.x&&
(c.x-=d.x-1,d.x=1);0>c.y&&(d.y+=-c.y,c.y=0);1<d.y&&(c.y-=d.y-1,d.y=1);if(this.Qd){if(!this.Lc){this.Bd=8;var e=r.Vb.BYTES_PER_ELEMENT;this.Wf=new ArrayBuffer(8*e);var f=[];for(a=0;8>a;a++)f[a]=new r.Vb(null,null,null,this.Wf,a*e);f[0].C=this.$e(r.a(0,1));f[0].s=this.bf(r.a(0,1));f[1].C=this.$e(r.a(0,0));f[1].s=this.bf(r.a(0,0));f[6].C=this.$e(r.a(1,1));f[6].s=this.bf(r.a(1,1));f[7].C=this.$e(r.a(1,0));f[7].s=this.bf(r.a(1,0));this.Lc=f}a=this.Lc;a[2].C=this.$e(r.a(c.x,d.y));a[2].s=this.bf(r.a(c.x,
d.y));a[3].C=this.$e(r.a(c.x,c.y));a[3].s=this.bf(r.a(c.x,c.y));a[4].C=this.$e(r.a(d.x,d.y));a[4].s=this.bf(r.a(d.x,d.y));a[5].C=this.$e(r.a(d.x,c.y));a[5].s=this.bf(r.a(d.x,c.y))}else{if(!this.Lc)for(this.Bd=4,e=r.Vb.BYTES_PER_ELEMENT,this.Wf=new ArrayBuffer(4*e),this.Lc=[],a=0;4>a;a++)this.Lc[a]=new r.Vb(null,null,null,this.Wf,a*e);a=this.Lc;a[0].C=this.$e(r.a(c.x,d.y));a[0].s=this.bf(r.a(c.x,d.y));a[1].C=this.$e(r.a(c.x,c.y));a[1].s=this.bf(r.a(c.x,c.y));a[2].C=this.$e(r.a(d.x,d.y));a[2].s=this.bf(r.a(d.x,
d.y));a[3].C=this.$e(r.a(d.x,c.y));a[3].s=this.bf(r.a(d.x,c.y))}this.Ad()}},Ad:function(){if(this.pb&&this.Lc){for(var a=this.pb.Lb.Ta.L,c=this.Lc,d=0,e=this.Bd;d<e;++d)c[d].L=a;this.rs=!0}},JB:null,XQ:function(){var a=this.pb,c=a.c(),d=this.Mh;if(this.zf==r.yk){this.Ri=Math.round(Math.sqrt(c.width*c.width+c.height*c.height));var e,f=!1,g=this.ld;g.x=c.width*d.x;g.y=-c.height*d.y;this.Qd?(e=270,d=270-3.6*this.Oi):(d=-90,e=-90+3.6*this.Oi);a.nc&&(g.x-=2*c.width*this.Mh.x,d=-d-180,e=-e-180,f=!f);a.oc&&
(g.y+=2*c.height*this.Mh.y,f=!f,d=-d,e=-e);this.AB=d;this.iA=e;this.Tz=f}else{e=this.im;g=this.Oi/100;f=this.Ez;e=r.size(c.width*(1-e.x),c.height*(1-e.y));var g=r.size((c.width-e.width)*g,(c.height-e.height)*g),g=r.size(e.width+g.width,e.height+g.height),h=r.a(c.width*d.x,c.height*d.y),k=h.x-g.width/2;0.5<d.x&&g.width/2>=c.width-h.x&&(k=c.width-g.width);e=h.y-g.height/2;0.5<d.y&&g.height/2>=c.height-h.y&&(e=c.height-g.height);f.x=0;c=1;a.nc&&(f.x-=g.width,c=-1);0<k&&(f.x+=k*c);f.y=0;c=1;a.oc&&(f.y+=
g.height,c=-1);0<e&&(f.y-=e*c);f.width=g.width;f.height=-g.height}},YQ:function(){var a=this.zf;a===r.yk?this.aR():a===r.Sy&&this.QQ();this.rs=!0}});
r.Ga.Qc?(b=r.Fc.prototype,b.ctor=r.Fc.prototype.Kh,b.ZK=r.Fc.prototype.sQ,b.kt=r.Fc.prototype.vQ,b.kj=r.Fc.prototype.zQ,b.YK=r.Fc.prototype.qQ,b.UC=r.Fc.prototype.$O,b.Wa=r.Fc.prototype.ug,b.JB=r.Fc.prototype.YQ):(b=r.Fc.prototype,b.ctor=r.Fc.prototype.Jh,b.ZK=r.Fc.prototype.rQ,b.kt=r.Fc.prototype.uQ,b.kj=r.Fc.prototype.yQ,b.YK=r.Fc.prototype.pQ,b.UC=r.Fc.prototype.ZO,b.Wa=r.Fc.prototype.mm,b.JB=r.Fc.prototype.XQ);r.Fc.create=function(a){var c=new r.Fc;return c.UC(a)?c:null};r.Uy=r.S.extend({yf:0,ie:0,ctor:function(){r.S.prototype.ctor.call(this);this.ie=this.yf=0},O:function(a,c){return r.S.prototype.O.call(this,a)?(this.yf=c,!0):!1},H:function(){var a=new r.Uy;a.O(this.za,this.yf);return a},reverse:function(){r.log("cc.ProgressTo.reverse(): reverse hasn't been supported.");return null},$:function(a){r.S.prototype.$.call(this,a);this.ie=a.Vw();100==this.ie&&(this.ie=0)},update:function(a){this.T instanceof r.Fc&&this.T.it(this.ie+(this.yf-this.ie)*a)}});
r.Uy.create=function(a,c){var d=new r.Uy;d.O(a,c);return d};r.lu=r.S.extend({yf:0,ie:0,ctor:function(){r.S.prototype.ctor.call(this);this.ie=this.yf=0},O:function(a,c,d){return r.S.prototype.O.call(this,a)?(this.yf=d,this.ie=c,!0):!1},H:function(){var a=new r.lu;a.O(this.za,this.ie,this.yf);return a},reverse:function(){return r.lu.create(this.za,this.yf,this.ie)},$:function(a){r.S.prototype.$.call(this,a)},update:function(a){this.T instanceof r.Fc&&this.T.it(this.ie+(this.yf-this.ie)*a)}});
r.lu.create=function(a,c,d){var e=new r.lu;e.O(a,c,d);return e};r.uy=9;r.aM=1;r.dM=2;r.eM=4;r.bM=8;r.cM=16;r.HE=32;r.fM=64;r.$L=128;r.ri=256;r.mg=1;r.JE=2;r.IE=4;r.mZ=8;r.lZ=8;
r.Ub=r.Fh.extend({yG:!1,h1:!1,sl:function(){return this.yG},Jf:function(a){this.yG=a;for(var c=this.t,d=0,e=c.length;d<e;d++){var f=c[d];f&&f.lb&&f.Jf(a)}},Ti:r.mg,N6:function(){return this.Ti},jr:!1,$o:!1,Lj:!1,hv:null,If:function(a){this.Ti=(this.jr=a)?r.mg:r.IE;this.bd()},isEnabled:function(){return this.jr},hq:function(a){this.$o=a;this.bd()},B8:function(){return this.$o},Hl:function(a){this.Lj=a;this.bd()},k8:function(){return this.Lj},VT:function(){for(var a=this.getParent();null!=a;a=a.getParent())if(!a.la)return!1;
return!0},ctor:function(){r.Fh.prototype.ctor.call(this);this.hv={};this.mc=r.Ab()},r:function(){return r.Fh.prototype.r.call(this)?(this.Ti=r.mg,this.jr=!0,this.Lj=this.$o=!1,this.jq(1),!0):!1},xx:function(){r.yD(this.fl,!0,this)},jf:function(a){for(var c=0,d=r.uy;c<d;c++)if(a&1<<c)for(var e=this.eA(1<<c),f=0,g=e.length;f<g;f++)e[f].tU(this)},NH:function(a,c,d){for(var e=0,f=r.uy;e<f;e++)d&1<<e&&this.TF(a,c,1<<e)},faa:function(a,c,d){for(var e=0,f=r.uy;e<f;e++)d&1<<e&&this.RP(a,c,1<<e)},$i:function(a){return this.Ia(a.J)},
hi:function(a){a=a.J;a=this.getParent().Ia(a);return r.bb(this.Ya(),a)},j1:function(){return null},eA:function(a){a=a.toString();this.hv.hasOwnProperty(a)||(this.hv[a]=[]);return this.hv[a]},TF:function(a,c,d){a=new r.EM(a,c,d);this.eA(d).push(a)},RP:function(a,c,d){d=this.eA(d);if(a||c)for(var e=0;e<d.length;){var f=d[e],g=!0;a&&(g=a==f.T);c&&(g=g&&c==f.Nf);g?r.Yd(d,f):e++}else d.length=0},bd:function(){}});r.Ub.create=function(){var a=new r.Ub;return a&&a.r()?a:null};r.NE=3435855873;
r.Yl=r.Ub.extend({er:!1,ss:!1,wg:null,Ar:null,Xq:null,ev:null,Mm:null,ce:null,Ni:0,Oo:!1,nw:null,gs:null,ow:null,hm:null,MG:!1,Fv:0,Ev:0,ctor:function(){r.Ub.prototype.ctor.call(this);this.wg=new r.Bk(0,0);this.Ar=new r.Wg(0,0);this.Xq="";this.ev=r.Ab();this.nw={};this.gs={};this.ow={};this.hm={}},r:function(){return this.bx(r.Q.create("","Arial",12),r.pf.create())},bd:function(){if(this.MG){this.Mm&&this.Mm.B(!1);this.ce&&this.ce.B(!1);this.jX(this.Ar);var a=this.Ti;this.Xq=this.GC(a);this.ev=this.ET(a);
var c=this.Mm=this.Hs(a);c&&c.ha&&c.ha(this.Xq);c&&c.lb&&c.n(this.ev);var d=this.c();c&&c.m(d.width/2,d.height/2);(a=this.ce=this.RS(a))&&a.m(d.width/2,d.height/2);d=c?c.Ya().cb:r.size(0,0);if(this.er)a&&a.V(d.width+2*this.Ev,d.height+2*this.Fv);else if(a){var e=a.wg,e=r.size(e.width,e.height);0>=e.width&&(e.width=d.width);0>=e.height&&(e.height=d.height);a.V(e)}d=c?c.Ya():r.rect(0,0,0,0);e=a?a.Ya():r.rect(0,0,0,0);d=r.wx(d,e);this.V(d.width,d.height);d=this.c();c&&(c.m(d.width/2,d.height/2),c.B(!0));
a&&(a.m(d.width/2,d.height/2),a.B(!0))}},bx:function(a,c){if(!a||!a.lb)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): label should be non-null";if(!c)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): backgroundSprite should be non-null";return r.Ub.prototype.r.call(this,!0)?(this.MG=!0,this.nw={},this.gs={},this.ow={},this.hm={},this.Wb(!0),this.Oo=!1,this.ss=!0,this.Xq=null,this.IW(!0),this.qk(r.size(0,0)),this.ss=!0,this.aj(!1),this.G(0.5,0.5),this.Mm=a,this.ce=c,this.ra(255),
this.Jf(!0),this.QX(a.EC(),r.mg),this.PX(a.Dd(),r.mg),this.YD(a,r.mg),this.Hx(c,r.mg),this.Ti=r.mg,this.Ev=24,this.Fv=12,this.Ar=new r.Wg(0.5,0.5),this.qk(r.bm()),this.bd(),!0):!1},lU:function(a,c,d){a=r.Q.create(a,c,d);return this.bx(a,r.pf.create())},bJ:function(a){var c=r.Q.create("","Arial",30);return this.bx(c,a)},h3:function(){return this.er},IW:function(a){this.er=a;this.bd()},v7:function(){return this.ss},UX:function(a){return this.ss=a},mT:function(){return this.wg},qk:function(a){if(0===
a.width&&0===a.height)this.er=!0;else{this.er=!1;var c=this.hm,d;for(d in c)c[d].qk(a)}this.wg=a;this.bd()},m5:function(){return this.Ar},jX:function(a){this.Ar=a;this.Mm&&this.Mm.G(a)},a1:function(){return this.Xq},b1:function(){return this.ev},Xi:function(){return this.Ni},ra:function(a){r.Ub.prototype.ra.call(this,a);var c=this.hm,d;for(d in c)c[d].ra(a)},n:function(a){r.Ub.prototype.n.call(this,a);var c=this.hm,d;for(d in c)c[d].n(a)},Dd:function(){return this.ke},x8:function(){return this.Oo},
f1:function(){return this.Fv},d1:function(){return this.Ev},mba:function(a,c){this.Fv=c;this.Ev=a;this.bd()},If:function(a){r.Ub.prototype.If.call(this,a);this.bd()},hq:function(a){r.Ub.prototype.hq.call(this,a);this.bd()},Hl:function(a){this.Ti=a?r.JE:r.mg;r.Ub.prototype.Hl.call(this,a);(a=this.xC(r.NE))&&this.mY(a);this.bd();this.ss&&(a=r.co.create(0.05,this.Lj&&this.isEnabled()&&!this.$o?1.1:1),a.dL(r.NE),this.Bx(a))},jb:function(a){if(!(this.hi(a)&&this.isEnabled()&&this.la&&this.VT()))return!1;
this.Oo=!0;this.Hl(!0);this.jf(r.aM);return!0},ud:function(a){this.jr&&this.Oo&&!this.$o?(a=this.hi(a))&&!this.Lj?(this.Hl(!0),this.jf(r.bM)):a&&this.Lj?this.jf(r.dM):!a&&this.Lj?(this.Hl(!1),this.jf(r.cM)):a||this.Lj||this.jf(r.eM):this.Lj&&this.Hl(!1)},Gf:function(a){this.Oo=!1;this.Hl(!1);this.hi(a)?this.jf(r.HE):this.jf(r.fM)},lk:function(){this.Oo=!1;this.Hl(!1);this.jf(r.$L)},GC:function(a){var c=this.nw;return c?c[a]?c[a]:c[r.mg]:""},QX:function(a,c){this.nw[c]=a||"";this.Ti==c&&this.bd()},
ET:function(a){return(a=this.gs[a])?a:(a=this.gs[r.mg])?a:r.Ab()},PX:function(a,c){this.gs[c]=a;this.Ti==c&&this.bd()},Hs:function(a){var c=this.ow;return c.hasOwnProperty(a)&&c[a]?c[a]:c[r.mg]},YD:function(a,c){var d=this.ow;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.B(!1);a.G(0.5,0.5);this.f(a,1);this.Ti==c&&this.bd()},oca:function(a,c){var d=this.GC(c);d||(d="");this.YD(r.Q.create(d,a,12),c)},X6:function(a){a=this.Hs(a);return null!=a&&a instanceof r.Q?a.sf:""},pca:function(a,
c){var d=this.Hs(c);null!=d&&d instanceof r.Q&&d.NK(a)},Y6:function(a){a=this.Hs(a);return null!=a&&a instanceof r.Q?a.Re:0},nca:function(a,c){var d=this.GC(c);d||(d="");this.YD(r.My.create(d,a),c)},W6:function(a){a=this.Hs(a);return null!=a&&a instanceof r.My?a.T4():""},RS:function(a){var c=this.hm;return c.hasOwnProperty(a)&&c[a]?c[a]:c[r.mg]},Hx:function(a,c){var d=this.hm;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.B(!1);a.G(0.5,0.5);this.f(a);d=this.wg;0===d.width&&
0===d.height||a.qk(d);this.Ti===c&&this.bd()},Baa:function(a,c){var d=r.pf.ZH(a);this.Hx(d,c)}});r.Yl.create=function(a,c){var d;if(0==arguments.length)return(d=new r.Yl)&&d.r()?d:null;1==arguments.length?(d=new r.Yl,d.bJ(arguments[0])):2==arguments.length?(d=new r.Yl,d.bx(a,c)):3==arguments.length&&(d=new r.Yl,d.lU(arguments[0],arguments[1],arguments[2]));return d};r.RGBA=function(a,c,d,e){this.p=a;this.o=c;this.h=d;this.I=e};r.Iy=function(a,c,d){this.Ce=a;this.mi=c;this.na=d};r.ae={};r.ae.Xm=function(a,c,d,e){a=r.v.$H(a);if(!a)return null;a.m(d);a.G(e);c.f(a);return a};r.ae.AM=function(a){var c=new r.Iy,d,e;d=a.p<a.o?a.p:a.o;d=d<a.h?d:a.h;e=a.p>a.o?a.p:a.o;e=e>a.h?e:a.h;c.na=e;d=e-d;if(0<e)c.mi=d/e;else return c.mi=0,c.Ce=-1,c;c.Ce=a.p>=e?(a.o-a.h)/d:a.o>=e?2+(a.h-a.p)/d:4+(a.p-a.o)/d;c.Ce*=60;0>c.Ce&&(c.Ce+=360);return c};
r.ae.Xy=function(a){var c,d,e,f,g=new r.RGBA;g.I=1;if(0>=a.mi){if(!a.Ce)return g.p=a.na,g.o=a.na,g.h=a.na,g;g.p=0;g.o=0;g.h=0;return g}c=a.Ce;360<=c&&(c=0);c/=60;f=0|c;e=c-f;c=a.na*(1-a.mi);d=a.na*(1-a.mi*e);e=a.na*(1-a.mi*(1-e));switch(f){case 0:g.p=a.na;g.o=e;g.h=c;break;case 1:g.p=d;g.o=a.na;g.h=c;break;case 2:g.p=c;g.o=a.na;g.h=e;break;case 3:g.p=c;g.o=d;g.h=a.na;break;case 4:g.p=e;g.o=c;g.h=a.na;break;default:g.p=a.na,g.o=c,g.h=d}return g};r.ae.EE=function(a,c){return r.wx(a,c)};r.EM=r.Ea.extend({Nf:null,T:null,dv:null,ctor:function(a,c,d){this.T=a;this.Nf=c;this.dv=d},W3:function(){return this.Nf},DT:function(){return this.T},A4:function(){return this.dv},tU:function(a){if(this.T&&this.Nf)if("string"==typeof this.Nf)this.T[this.Nf](a,this.dv);else this.Nf.call(this.T,a,this.dv)}});r.jF=0;r.mF=1;r.kF=2;r.lF=3;r.hF=4;r.oF=5;r.nF=6;r.gN=7;r.iF=8;
r.pf=r.Bb.extend({lb:!0,bp:null,bG:null,Yk:!1,xf:null,Vh:null,Uh:null,nh:null,Ki:null,Aj:null,Qh:null,zi:null,yi:null,Ai:null,Cj:null,pc:!1,md:null,wg:null,Ni:0,mc:null,uo:null,sv:0,uv:0,tv:0,rv:0,fH:!1,vB:!1,qb:!1,Od:null,EL:function(){return this.qb},Xf:function(a,c){this.Od.push({fk:a,bi:c})},de:function(){this.qb=!0;for(var a=this.Od,c=0,d=a.length;c<d;c++){var e=a[c];e.fk.call(e.bi,this)}a.length=0},tw:function(){var a;a=this.sv;var c=this.uv,d=this.tv,e=this.bp,f=this.rv;a=0===a&&0===c&&0===
d&&0===f?r.hd():this.vB?r.rect(f,a,e.width-d-a,e.height-c-f):r.rect(a,c,e.width-a-d,e.height-c-f);this.OW(a)},WQ:function(){if(this.Vh&&this.nh&&this.Ai&&this.zi&&this.Aj){var a=this.wa,c=this.Vh,d=this.nh,e=this.Ai,f=this.zi,g=this.Aj,h=this.Aj.c(),k=c.c(),l=f.c(),m=a.Ha-k.width-d.c().width,a=a.va-k.height-e.c().height,m=m/h.width,a=a/h.height,k=h.width*m,n=h.height*a,p=l.width,l=l.height;if(!r.Ga.Qc){var q=Math.round(k);k!=q&&(k=q,m=k/h.width);q=Math.round(n);n!=q&&(n=q,a=n/h.height)}g.gq(m);g.Fn(a);
var h=this.Ki,q=this.Qh,u=this.Uh,w=this.yi,y=r.a(0,0);f.G(y);e.G(y);c.G(y);d.G(y);h.G(y);q.G(y);u.G(y);w.G(y);g.G(y);f.m(0,0);e.m(p+k,0);c.m(0,l+n);d.m(p+k,l+n);h.m(0,l);h.Fn(a);q.m(p+k,l);q.Fn(a);w.m(p,0);w.gq(m);u.m(p,l+n);u.gq(m);g.m(p,l)}},ctor:function(){r.Bb.prototype.ctor.call(this);this.bp=r.hd();this.bG=r.hd();this.Cj=r.Ab();this.md=new r.Bk(0,0);this.wg=new r.Bk(0,0);this.mc=r.Ab();this.Ni=255;this.uo=r.hd();this.Od=[]},kT:function(){return this.md},mT:function(){return this.wg},qk:function(a){this.V(a);
this.wg=a},Xi:function(){return this.Ni},ra:function(a){if(this.xf){this.Ni=a;for(var c=this.xf.t,d=0;d<c.length;d++){var e=c[d];e&&e.lb&&e.ra(a)}}},Dd:function(){return this.mc},n:function(a){if(this.xf){this.mc=a;for(var c=this.xf.t,d=0;d<c.length;d++){var e=c[d];e&&e.lb&&e.n(a)}}},n4:function(){return this.uo},OW:function(a){if(this.xf){var c=this.wa,d=c.Ha,c=c.va;this.oq(this.xf,this.bp,this.vB,a);this.V(d,c)}},i5:function(){return this.sv},fba:function(a){this.sv=a;this.tw()},k5:function(){return this.uv},
hba:function(a){this.uv=a;this.tw()},j5:function(){return this.tv},gba:function(a){this.tv=a;this.tw()},h5:function(){return this.rv},eba:function(a){this.rv=a;this.tw()},V:function(a,c){2===arguments.length?r.D.prototype.V.call(this,a,c):r.D.prototype.V.call(this,a);this.Yk=!0},sa:function(a){this.Yk&&(this.WQ(),this.Yk=!1);r.Bb.prototype.sa.call(this,a)},r:function(){return this.$w(null,r.hd(),!1,r.hd())},$w:function(a,c,d,e){3===arguments.length&&(e=d,d=!1);a&&this.oq(a,c,d,e);this.G(0.5,0.5);
return this.Yk=!0},bj:function(a,c,d){a instanceof r.og?(d=a=c,c=r.hd()):(c=c||r.hd(),d=d||r.hd());if(!a)throw"cc.Scale9Sprite.initWithFile(): file should be non-null";var e=r.ga.e().dy(a);if(!e){var e=r.ga.e().qa(a),f=e.Lg();(this.qb=f)||e.Xf(function(a){var c=this.wg,c=r.size(c.width,c.height);a=a.c();this.oq(this.xf,r.rect(0,0,a.width,a.height),!1,this.uo);this.qk(c);this.Yk=!0;this.de()},this)}a=r.ub.create(a,9);return this.$w(a,c,!1,d)},Ee:function(a,c){if(!a||!a.aa())throw"cc.Scale9Sprite.initWithSpriteFrame(): spriteFrame should be non-null and its texture should be non-null";
c=c||r.hd();var d=a.qb;(this.qb=d)||a.Xf(function(a){var c=this.wg,c=r.size(c.width,c.height);this.oq(this.xf,a.xe(),r.Ga.Qc?a.nd:!1,this.uo);this.qk(c);this.Yk=!0;this.de()},this);d=r.ub.eb(a.aa(),9);return this.$w(d,a.xe(),r.Ga.Qc?a.nd:!1,c)},gJ:function(a,c){if(!a)throw"cc.Scale9Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";c=c||r.hd();var d=r.pg.e().uh(a);return null==d?(r.log("cc.Scale9Sprite.initWithSpriteFrameName(): can't find the sprite frame by spriteFrameName"),
!1):this.Ee(d,c)},iaa:function(a){var c=new r.pf;return c&&c.$w(this.xf,this.bp,!1,a)?c:null},Jf:function(a){if(this.xf){this.pc=a;var c=this.xf.t;if(c)for(var d=0,e=c.length;d<e;d++)c[d].Jf(a)}},sl:function(){return this.pc},oq:function(a,c,d,e){var f=this.Xi(),g=this.Dd();c=r.rect(c.x,c.y,c.width,c.height);this.jc(!0);this.xf!=a&&(this.xf=a);a=a.aa();var h=a.Lg();if(this.qb=h){a=this.xf;a.jc(!0);h=this.uo;h.x=e.x;h.y=e.y;h.width=e.width;h.height=e.height;this.vB=d;h=a.aa();r.Nr(c)&&(c=h.c(),c=r.rect(0,
0,c.width,c.height));var k=this.bp=c;k.x=c.x;k.y=c.y;k.width=c.width;k.height=c.height;var l=c.cb;this.md.width=l.width;this.md.height=l.height;k=this.wg;0===k.width&&0===k.height&&(k.width=l.width,k.height=l.height);k=this.bG;e&&(k.x=e.x,k.y=e.y,k.width=e.width,k.height=e.height);var m=l.width;e=l.height;r.Nr(k)&&(k.x=m/3,k.y=e/3,k.width=m/3,k.height=e/3);var n=k.x,p=k.width,q=m-(n+p),u=k.y,w=k.height,y=e-(u+w),D=0,B=0;e=r.rect(D,B,n,u);var D=D+n,k=r.rect(D,B,p,u),m=r.rect(D+p,B,q,u),D=0,B=0+u,l=
r.rect(D,B,n,w),D=D+n,aa=r.rect(D,B,p,w),D=D+p,N=r.rect(D,B,q,w),D=0,B=0+u+w,u=r.rect(D,B,n,y),D=D+n,n=r.rect(D,B,p,y),D=D+p,p=r.rect(D,B,q,y),q={I:1,h:0,Da:0,La:1,Za:0,$a:0};if(d){d=aa;var y=p,D=u,B=m,w=e,S=N,O=l,pa=n,ba=k,q=r.oy(q,c.height+c.x,c.y),q=r.ZL(q),aa=r.Xg(aa,q),p=r.Xg(p,q),u=r.Xg(u,q),m=r.Xg(m,q);e=r.Xg(e,q);N=r.Xg(N,q);l=r.Xg(l,q);n=r.Xg(n,q);k=r.Xg(k,q);d.x=aa.x;d.y=aa.y;y.x=p.x;y.y=p.y;D.x=u.x;D.y=u.y;B.x=m.x;B.y=m.y;w.x=e.x;w.y=e.y;S.x=N.x;S.y=N.y;O.x=l.x;O.y=l.y;pa.x=n.x;pa.y=n.y;
ba.x=k.x;ba.y=k.y;this.Aj=new r.v;this.Aj.Ma(h,d,!0);a.f(this.Aj,0,r.jF);this.Uh=new r.v;this.Uh.Ma(h,ba,!0);a.f(this.Uh,1,r.mF);this.yi=new r.v;this.yi.Ma(h,pa,!0);a.f(this.yi,1,r.hF);this.Ki=new r.v;this.Ki.Ma(h,O,!0);a.f(this.Ki,1,r.kF);this.Qh=new r.v;this.Qh.Ma(h,S,!0);a.f(this.Qh,1,r.lF);this.Vh=new r.v;this.Vh.Ma(h,w,!0);a.f(this.Vh,2,r.nF);this.nh=new r.v;this.nh.Ma(h,B,!0);a.f(this.nh,2,r.oF);this.zi=new r.v;this.zi.Ma(h,D,!0);a.f(this.zi,2,r.iF);this.Ai=new r.v;this.Ai.Ma(h,y,!0)}else q=
r.oy(q,c.x,c.y),r.ui(aa,q),r.ui(p,q),r.ui(u,q),r.ui(m,q),r.ui(e,q),r.ui(N,q),r.ui(l,q),r.ui(n,q),r.ui(k,q),this.Aj=new r.v,this.Aj.Ma(h,aa),a.f(this.Aj,0,r.jF),this.Uh=new r.v,this.Uh.Ma(h,k),a.f(this.Uh,1,r.mF),this.yi=new r.v,this.yi.Ma(h,n),a.f(this.yi,1,r.hF),this.Ki=new r.v,this.Ki.Ma(h,l),a.f(this.Ki,1,r.kF),this.Qh=new r.v,this.Qh.Ma(h,N),a.f(this.Qh,1,r.lF),this.Vh=new r.v,this.Vh.Ma(h,e),a.f(this.Vh,2,r.nF),this.nh=new r.v,this.nh.Ma(h,m),a.f(this.nh,2,r.oF),this.zi=new r.v,this.zi.Ma(h,
u),a.f(this.zi,2,r.iF),this.Ai=new r.v,this.Ai.Ma(h,p);a.f(this.Ai,2,r.gN);this.V(c.cb);this.f(a);this.fH&&(this.ra(f),255===g.p&&255===g.o&&255===g.h||this.n(g));return this.fH=!0}a.Xf(function(){this.Yk=!0;this.de()},this)},Kf:function(a){var c=r.ub.eb(a.aa(),9),d=a.qb;(this.qb=d)||a.Xf(function(a){var c=this.wg,c=r.size(c.width,c.height);this.oq(this.xf,a.xe(),r.Ga.Qc?a.nd:!1,this.uo);this.qk(c);this.Yk=!0;this.de()},this);this.oq(c,a.xe(),r.Ga.Qc?a.nd:!1,r.hd());this.rv=this.tv=this.uv=this.sv=
0}});r.pf.create=function(a,c,d){var e;if(2===arguments.length)if("string"==typeof a){if((e=new r.pf)&&e.bj(a,c))return e}else{if(a instanceof r.og&&(e=new r.pf)&&e.bj(a,d))return e}else if(3===arguments.length){if((e=new r.pf)&&e.bj(a,c,d))return e}else if(1===arguments.length){if((e=new r.pf)&&e.bj(a))return e}else if(0===arguments.length&&(e=new r.pf)&&e.r())return e;return null};r.pf.ZH=function(a,c){var d=new r.pf;return d&&d.Ee(a,c)?d:null};
r.pf.$H=function(a,c){if(!a)throw"cc.Scale9Sprite.createWithSpriteFrameName(): spriteFrameName should be non-null";var d=new r.pf;return d&&d.gJ(a,c)?d:null};r.wu=r.Sc.extend({});r.wu.Rda=function(a){var c=new r.wu;c.r();c.V(0,a);return c};r.wu.D7=function(a){var c=new r.wu;c.r();c.V(a,0);return c};
r.iu=r.Sc.extend({lb:!0,mc:null,Ni:0,ctor:function(){},Dd:function(){return this.mc},n:function(a){this.mc=a;if(this.t&&0<this.t.length)for(var c=0;c<this.t.length;c++)this.t[c]&&this.t[c].lb&&this.t[c].n(a)},Xi:function(){return this.Ni},ra:function(a){this.Ni=a;if(this.t&&0<this.t.length)for(var c=0;c<this.t.length;c++)this.t[c]&&this.t[c].lb&&this.t[c].ra(a)},eU:function(a,c){if(this.r()){var d=r.Z.e().Rb;this.aj(!0);this.G(0.5,0.5);this.V(d);this.m(d.width/2,d.height/2);d=0;if(a){this.f(a,d);
for(var e=0;e<c.length;e++)c[e]&&(d++,this.f(c[e],d))}return!0}return!1},Y1:function(){this.pR(r.jM)},pR:function(a){var c=-a,d;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&(c+=this.t[d].c().height*this.t[d].Ca+a);var e=0,f=c/2;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&(e=Math.max(e,this.t[d].c().width),this.t[d].m(0,f-this.t[d].c().height*this.t[d].Ca/2),f-=this.t[d].c().height*this.t[d].Ca+a);this.V(e,c)},V1:function(){this.oR(r.jM)},oR:function(a){var c=
-a,d;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&(c+=this.t[d].c().width*this.t[d].xa+a);var e=0,f=-c/2;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&(e=Math.max(e,this.t[d].c().height),this.t[d].m(f+this.t[d].c().width*this.t[d].xa/2,0),f+=this.t[d].c().width*this.t[d].xa+a);this.V(c,e)},W1:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=-5,f=0,g=0,h=0,k,l;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&
(f>=c.length?r.log("cc.MenuPassive.alignItemsInColumns(): invalid row index"):(k=c[f])?(l=this.t[d].c().height,g=0|(g>=l||null==l?g:l),++h,h>=k&&(e+=g+5,g=h=0,++f)):r.log("cc.MenuPassive.alignItemsInColumns(): can not have zero columns on a row"));var m=r.Z.e().Rb,n=k=g=f=0,p=0,e=e/2;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&(0==k&&(k=c[f],p=n=m.width/(1+k)),l=this.t[d].c().height,g=0|(g>=l||null==l?g:l),this.t[d].m(p-m.width/2,e-this.t[d].c().height/2),p+=n,++h,h>=k&&(e-=
g+5,g=k=h=0,++f))},X1:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=[],f=[],g=-10,h=-5,k=0,l=0,m=0,n,p;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&(k>=c.length?r.log("cc.MenuPassive.alignItemsInRows(): invalid row index"):(n=c[k])?(p=this.t[d].c().width,l=0|(l>=p||null==p?l:p),h+=0|this.t[d].c().height+5,++m,m>=n&&(e.push(l),f.push(h),g+=l+10,l=m=0,h=-5,++k)):r.log("cc.MenuPassive.alignItemsInColumns(): can't have zero rows on a column"));h=
r.Z.e().Rb;l=k=0;n=null;var g=-g/2,q=0;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&(null==n&&(n=c[k],q=f[k]),p=this.t[d].c().width,l=0|(l>=p||null==p?l:p),this.t[d].m(g+e[k]/2,q-h.height/2),q-=this.t[d].c().height+10,++m,m>=n&&(g+=l+5,l=n=m=0,++k))},Jf:function(){},sl:function(){return!1}});r.iu.create=function(a){0==arguments.length&&(a=null);for(var c=[],d=1;d<arguments.length;d++)c.push(arguments[d]);return(d=new r.iu)&&d.eU(a,c)?d:null};
r.iu.V2=function(a){return r.iu.create(a,null)};r.Ay=r.Ub.extend({iB:0,Uu:0,Hc:null,zP:null,dH:null,mh:null,vc:null,sg:0,zj:0,x6:function(){return this.iB},j4:function(){return this.Uu},AI:function(){return this.Hc},X5:function(){return this.Uu},D6:function(){return this.dH},yT:function(){return this.mh},AT:function(){return this.vc},WC:function(a,c){return r.Ub.prototype.r.call(this)?(this.Wb(!0),this.Hc=r.ae.Xm("colourPickerBackground.png",a,c,r.a(0,0)),this.zP=r.ae.Xm("colourPickerOverlay.png",a,c,r.a(0,0)),this.dH=r.ae.Xm("colourPickerShadow.png",
a,c,r.a(0,0)),this.mh=r.ae.Xm("colourPicker.png",a,c,r.a(0.5,0.5)),this.vc=c,this.sg=35,this.zj=this.Hc.c().width/2,!0):!1},If:function(a){r.Ub.prototype.If.call(this,a);this.mh&&this.mh.ra(a?255:128)},RL:function(a){var c=new r.Iy;c.mi=1;c.Ce=a.Ce;c.na=1;a=r.ae.Xy(c);this.Hc.n(r.Cw(0|255*a.p,0|255*a.o,0|255*a.h))},AY:function(a){a=r.a(this.vc.x+this.sg+this.zj*(1-a.mi),this.vc.y+this.sg+this.zj*a.na);this.ww(a)},ww:function(a){var c=this.vc.x+0.5*this.Hc.Ya().width,d=this.vc.y+0.5*this.Hc.Ya().height,
e=a.x-c,f=a.y-d,g=Math.sqrt(e*e+f*f),e=Math.atan2(f,e),f=0.5*this.Hc.Ya().width;g>f&&(a.x=c+f*Math.cos(e),a.y=d+f*Math.sin(e));this.mh.m(a);a.x<this.vc.x+this.sg?a.x=this.vc.x+this.sg:a.x>this.vc.x+this.sg+this.zj-1&&(a.x=this.vc.x+this.sg+this.zj-1);a.y<this.vc.y+this.sg?a.y=this.vc.y+this.sg:a.y>this.vc.y+this.sg+this.zj&&(a.y=this.vc.y+this.sg+this.zj);this.iB=1-Math.abs((this.vc.x+this.sg-a.x)/this.zj);this.Uu=Math.abs((this.vc.y+this.sg-a.y)/this.zj)},Tq:function(a){var c=this.vc.x+0.5*this.Hc.Ya().width,
d=this.vc.y+0.5*this.Hc.Ya().height,c=a.x-c,d=a.y-d;return Math.sqrt(c*c+d*d)<=0.5*this.Hc.Ya().width?(this.ww(a),this.jf(r.ri),!0):!1},jb:function(a){if(!this.isEnabled()||!this.la)return!1;a=this.$i(a);return this.Tq(a)},ud:function(a){a=this.$i(a);this.Tq(a)}});r.Ay.create=function(a,c){var d=new r.Ay;d.WC(a,c);return d};r.zy=r.Ub.extend({Ko:0,ur:0,Hc:null,mh:null,vc:null,c5:function(){return this.Ko},SD:function(a){this.Ko=a;this.fX(this.Ko/360)},d5:function(){return this.ur},fX:function(a){this.ur=a;this.Ko=360*this.ur;a=this.Hc.Ya();var c=0.5*a.width-15,d=r.rj(360*this.ur-180);this.mh.m(this.vc.x+0.5*a.width+c*Math.cos(d),this.vc.y+0.5*a.height+c*Math.sin(d))},If:function(a){r.Ub.prototype.If.call(this,a);this.mh&&this.mh.ra(a?255:128)},AI:function(){return this.Hc},yT:function(){return this.mh},AT:function(){return this.vc},
WC:function(a,c){return r.Ub.prototype.r.call(this)?(this.Wb(!0),this.Hc=r.ae.Xm("huePickerBackground.png",a,c,r.a(0,0)),this.mh=r.ae.Xm("colourPicker.png",a,c,r.a(0.5,0.5)),this.mh.m(c.x,c.y+0.5*this.Hc.Ya().height),this.vc=c,this.ur=this.Ko=0,!0):!1},ww:function(a){var c=this.Hc.Ya();this.SD(r.Vy(Math.atan2(a.y-(this.vc.y+0.5*c.height),a.x-(this.vc.x+0.5*c.width)))+180);this.jf(r.ri)},Tq:function(a){var c=Math.sqrt(Math.pow(a.x+10,2)+Math.pow(a.y,2));return 80>c&&59<c?(this.ww(a),!0):!1},jb:function(a){if(!this.isEnabled()||
!this.la)return!1;a=this.$i(a);return this.Tq(a)},ud:function(a){a=this.$i(a);this.Tq(a)}});r.zy.create=function(a,c){var d=new r.zy;d.WC(a,c);return d};r.OE=r.Ub.extend({bh:null,Jk:null,rm:null,Hc:null,bU:function(a){this.bh.Ce=a.Ko;a=r.ae.Xy(this.bh);r.Ub.prototype.n.call(this,r.Cw(0|255*a.p,0|255*a.o,0|255*a.h));this.jf(r.ri);this.TQ()},QR:function(a){this.bh.mi=a.iB;this.bh.na=a.Uu;a=r.ae.Xy(this.bh);r.Ub.prototype.n.call(this,r.Cw(0|255*a.p,0|255*a.o,0|255*a.h));this.jf(r.ri)},n:function(a){r.Ub.prototype.n.call(this,a);var c=new r.RGBA;c.p=a.p/255;c.o=a.o/255;c.h=a.h/255;c.I=1;this.bh=r.ae.AM(c);this.uH()},AI:function(){return this.Hc},r:function(){if(r.Ub.prototype.r.call(this)){this.Wb(!0);
r.pg.e().MH(ca.CE);var a=r.ub.create(ca.DE);this.f(a);this.bh=new r.Iy(0,0,0);this.Hc=r.ae.Xm("menuColourPanelBackground.png",a,r.tj(),r.a(0.5,0.5));var c=r.Gd(this.Hc.q,r.a(this.Hc.c().width/2,this.Hc.c().height/2));this.rm=r.zy.create(a,r.a(c.x+8,c.y+8));this.Jk=r.Ay.create(a,r.a(c.x+28,c.y+28));this.rm.NH(this,this.bU,r.ri);this.Jk.NH(this,this.QR,r.ri);this.uH();this.f(this.rm);this.f(this.Jk);this.V(this.Hc.c());return!0}return!1},TQ:function(){this.rm.SD(this.bh.Ce);this.Jk.RL(this.bh)},uH:function(){this.rm.SD(this.bh.Ce);
this.Jk.RL(this.bh);this.Jk.AY(this.bh)},If:function(a){r.Ub.prototype.If.call(this,a);null!=this.rm&&this.rm.If(a);this.Jk&&this.Jk.If(a)},jb:function(){return!1}});r.OE.create=function(){var a=new r.OE;a.r();return a};ca=ca||{};ca.CE=ca.CE||"res/extensions/CCControlColourPickerSpriteSheet.plist";ca.DE=ca.DE||"res/extensions/CCControlColourPickerSpriteSheet.png";r.vF=24;r.f0=8;
r.QE=r.Ub.extend({Vc:0,hb:0,Gb:0,Kv:0,Iv:0,Hb:null,Zk:null,ce:null,QI:function(){return this.Vc},kf:function(a){a=Math.max(a,this.hb);this.Vc=a=Math.min(a,this.Gb);this.bd();this.jf(r.ri)},fT:function(){return this.hb},VK:function(a){this.Kv=this.hb=a;this.hb>=this.Gb&&(this.Gb=this.hb+1);this.kf(this.Vc)},eT:function(){return this.Gb},TK:function(a){this.Iv=this.Gb=a;this.Gb<=this.hb&&(this.hb=this.Gb-1);this.kf(this.Vc)},hi:function(a){a=a.J;a=this.getParent().Ia(a);var c=this.Ya();c.cb.width+=
this.Hb.c().width;c.ld.x-=this.Hb.c().width/2;return r.bb(c,a)},hn:function(a){a=a.J;a=this.Ia(a);0>a.x?a.x=0:a.x>this.ce.c().width&&(a.x=this.ce.c().width);return a},A5:function(){return this.Kv},rba:function(a){this.Kv=a},x5:function(){return this.Iv},qba:function(a){this.Iv=a},MI:function(){return this.Hb},h6:function(){return this.Zk},d4:function(){return this.ce},jU:function(a,c,d){return r.Ub.prototype.r.call(this)?(this.aj(!1),this.Wb(!0),this.ce=a,this.Zk=c,this.Hb=d,a=r.ae.EE(a.Ya(),d.Ya()),
this.V(a.width,a.height),this.ce.G(0.5,0.5),this.ce.m(a.width/2,a.height/2),this.f(this.ce),this.Zk.G(0,0.5),this.Zk.m(0,a.height/2),this.f(this.Zk),this.Hb.m(0,a.height/2),this.f(this.Hb),this.hb=0,this.Gb=1,this.kf(this.hb),!0):!1},If:function(a){r.Ub.prototype.If.call(this,a);this.Hb&&this.Hb.ra(a?255:128)},hY:function(a){this.hq(!0);this.Hb.n(r.Kp());this.kf(this.uE(a))},jY:function(a){this.kf(this.uE(a))},iY:function(){this.$o&&this.kf(this.uE(this.Hb.q));this.Hb.n(r.Ab());this.hq(!1)},d7:function(a){a=
a.J;a=this.Ia(a);0>a.x?a.x=0:a.x>this.ce.c().width+r.vF&&(a.x=this.ce.c().width+r.vF);return a},jb:function(a){if(!this.hi(a)||!this.isEnabled()||!this.la)return!1;a=this.hn(a);this.hY(a);return!0},ud:function(a){a=this.hn(a);this.jY(a)},Gf:function(){this.iY(r.tj())},bd:function(){this.Hb.xb((this.Vc-this.hb)/(this.Gb-this.hb)*this.ce.c().width);var a=this.Zk.FC(),a=r.rect(a.x,a.y,this.Hb.q.F,a.height);this.Zk.Tb(a,this.Zk.Yc,a.cb)},uE:function(a){a=a.x/this.ce.c().width;return Math.max(Math.min(this.hb+
a*(this.Gb-this.hb),this.Iv),this.Kv)}});r.QE.create=function(a,c,d){"string"==typeof a&&(a=r.v.create(a),c=r.v.create(c),d=r.v.create(d));var e=new r.QE;e.jU(a,c,d);return e};r.SE=r.Ub.extend({Zc:null,sG:0,Hr:!1,Wo:!1,ctor:function(){r.Ub.prototype.ctor.call(this)},TC:function(a,c,d,e,f,g){if(!a)throw"cc.ControlSwitch.initWithMaskSprite(): maskSprite should be non-null.";if(!c)throw"cc.ControlSwitch.initWithMaskSprite(): onSprite should be non-null.";if(!d)throw"cc.ControlSwitch.initWithMaskSprite(): offSprite should be non-null.";if(!e)throw"cc.ControlSwitch.initWithMaskSprite(): thumbSprite should be non-null.";return this.r()?(this.Wb(!0),this.Wo=!0,this.Zc=new r.iM,
this.Zc.TC(a,c,d,e,f,g),this.Zc.m(this.Zc.c().width/2,this.Zc.c().height/2),this.f(this.Zc),this.aj(!1),this.G(0.5,0.5),this.V(this.Zc.c()),!0):!1},Lx:function(a,c){var d=(this.Wo=a)?this.Zc.Vk:this.Zc.vm;c?this.Zc.Bx(r.Tn.create(0.2,"sliderXPosition",this.Zc.Uj,d)):this.Zc.VD(d);this.jf(r.ri)},r8:function(){return this.Wo},A7:function(){return this.Hr},If:function(a){this.jr=a;this.Zc.ra(a?255:128)},hn:function(a){a=a.J;return a=this.Ia(a)},jb:function(a){if(!this.hi(a)||!this.isEnabled()||!this.la)return!1;
this.Hr=!1;this.sG=this.hn(a).x-this.Zc.Uj;this.Zc.Hb.n(r.Kp());this.Zc.bd();return!0},ud:function(a){a=this.hn(a);a=r.a(a.x-this.sG,0);this.Hr=!0;this.Zc.VD(a.x)},Gf:function(a){a=this.hn(a);this.Zc.Hb.n(r.Ab());this.Hr?this.Lx(!(a.x<this.Zc.c().width/2),!0):this.Lx(!this.Wo,!0)},lk:function(a){a=this.hn(a);this.Zc.Hb.n(r.Ab());this.Hr?this.Lx(!(a.x<this.Zc.c().width/2),!0):this.Lx(!this.Wo,!0)}});r.SE.create=function(a,c,d,e,f,g){var h=new r.SE;return h&&h.TC(a,c,d,e,f,g)?h:null};
r.iM=r.v.extend({Uj:0,Vk:0,vm:0,jH:0,GA:0,HA:null,gh:null,Mi:null,Hb:null,wm:null,um:null,Ao:null,qc:null,Su:null,ctor:function(){r.v.prototype.ctor.call(this);this.GA=this.vm=this.Vk=this.Uj=0;this.HA=r.size(0,0);this.um=this.wm=this.Hb=this.Mi=this.gh=null},TC:function(a,c,d,e,f,g){return r.v.prototype.Ma.call(this,a.aa())?(this.Vk=0,this.vm=-c.c().width+e.c().width/2,this.Uj=this.Vk,this.wX(c),this.uX(d),this.XD(e),this.vX(f),this.tX(g),this.qc=a,a=this.HA=this.qc.c(),this.qc.m(0,0),this.Ao=r.ob.create(),
this.Ao.G(0.5,0.5),this.Ao.m(a.width/2,a.height/2),this.Ao.WD(this.qc),this.Su=r.Cb.create(a.width,a.height),this.Ao.f(this.Su.pb),this.f(this.Ao),this.f(this.Hb),this.bd(),!0):!1},bd:function(){this.gh.m(this.gh.c().width/2+this.Uj,this.gh.c().height/2);this.Mi.m(this.gh.c().width+this.Mi.c().width/2+this.Uj,this.Mi.c().height/2);this.wm&&this.wm.m(this.gh.q.x-this.Hb.c().width/6,this.gh.c().height/2);this.um&&this.um.m(this.Mi.q.x+this.Hb.c().width/6,this.Mi.c().height/2);this.Hb.m(this.gh.c().width+
this.Uj,this.HA.height/2);this.Su.bk();this.gh.sa();this.Mi.sa();this.wm&&this.wm.sa();this.um&&this.um.sa();this.Su.end()},VD:function(a){a<=this.vm?a=this.vm:a>=this.Vk&&(a=this.Vk);this.Uj=a;this.bd()},G6:function(){return this.Uj},L9:function(){return this.gh.c().width},J9:function(){return this.Mi.c().height},sE:function(a,c){r.log("key \x3d "+c+", value \x3d "+a);this.VD(a)},Aba:function(a){this.Vk=a},R5:function(){return this.Vk},xba:function(a){this.vm=a},L5:function(){return this.vm},oba:function(a){this.qc.fa(a)},
r5:function(){return this.qc.aa()},lca:function(a){this.jH=a},T6:function(){return this.jH},nba:function(a){this.GA=a},q5:function(){return this.GA},wX:function(a){this.gh=a},S5:function(){return this.gh},uX:function(a){this.Mi=a},M5:function(){return this.Mi},XD:function(a){this.Hb=a},MI:function(){return this.Hb},vX:function(a){this.wm=a},Q5:function(){return this.wm},tX:function(a){this.um=a},K5:function(){return this.um}});r.LE=0;r.ME=1;r.Et=2;r.rq=r.l(55,55,55);r.vy=r.l(147,147,147);r.KE="CourierNewPSMT";r.AE=0.15;r.XL=12;
r.RE=r.Ub.extend({Pd:null,uf:null,Uk:null,Xk:null,Vc:0,Wq:!1,mo:!1,Tm:!1,hb:0,Gb:0,Im:0,js:!1,Om:r.Et,Pq:0,ctor:function(){r.Ub.prototype.ctor.call(this);this.Xk=this.Uk=this.uf=this.Pd=null;this.Vc=0;this.Tm=this.mo=this.Wq=!1;this.Im=this.Gb=this.hb=0;this.js=!1;this.Om=r.Et;this.Pq=0},gU:function(a,c){if(!a)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Minus sprite should be non-null.";if(!c)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Plus sprite should be non-null.";
if(this.r()){this.Wb(!0);this.Wq=this.mo=!0;this.hb=0;this.Gb=100;this.Vc=0;this.Im=1;this.Tm=!1;this.aj(!1);this.pX(a);this.Pd.m(a.c().width/2,a.c().height/2);this.f(this.Pd);this.oX(r.Q.create("-",r.KE,40,r.size(40,40),r.wj,r.Iu));this.Uk.n(r.vy);this.Uk.m(this.Pd.c().width/2,this.Pd.c().height/2);this.Pd.f(this.Uk);this.AX(c);this.uf.m(a.c().width+c.c().width/2,a.c().height/2);this.f(this.uf);this.zX(r.Q.create("+",r.KE,40,r.size(40,40),r.wj,r.Iu));this.Xk.n(r.rq);this.Xk.m(this.uf.c().width/2,
this.uf.c().height/2);this.uf.f(this.Xk);var d=r.ae.EE(this.Pd.Ya(),this.uf.Ya());this.V(this.Pd.c().width+this.uf.c().height,d.cb.height);return!0}return!1},Aca:function(a){if(this.Tm=a)this.Uk.n(r.rq),this.Xk.n(r.rq);this.kf(this.Vc)},VK:function(a){if(a>=this.Gb)throw"cc.ControlStepper.setMinimumValue(): minimumValue should be numerically less than maximumValue.";this.hb=a;this.kf(this.Vc)},TK:function(a){if(a<=this.hb)throw"cc.ControlStepper.setMaximumValue(): maximumValue should be numerically less than maximumValue.";
this.Gb=a;this.kf(this.Vc)},kf:function(a){this.aE(a,!0)},QI:function(){return this.Vc},eca:function(a){if(0>=a)throw"cc.ControlStepper.setMaximumValue(): stepValue should be numerically greater than 0.";this.Im=a},c8:function(){return this.Wq},aE:function(a,c){a<this.hb?a=this.Tm?this.Gb:this.hb:a>this.Gb&&(a=this.Tm?this.hb:this.Gb);this.Vc=a;this.Tm||(this.Uk.n(a==this.hb?r.vy:r.rq),this.Xk.n(a==this.Gb?r.vy:r.rq));c&&this.jf(r.ri)},wL:function(){this.Pq=-1;this.$b(this.update,r.AE,r.am,3*r.AE)},
yL:function(){this.Rc(this.update)},update:function(){this.Pq++;this.Pq<r.XL&&0!=this.Pq%3||(this.Om==r.LE?this.aE(this.Vc-this.Im,this.Wq):this.Om==r.ME&&this.aE(this.Vc+this.Im,this.Wq))},JL:function(a){a.x<this.Pd.c().width&&this.Vc>this.hb?(this.Om=r.LE,this.Pd.n(r.Kp()),this.uf.n(r.Ab())):a.x>=this.Pd.c().width&&this.Vc<this.Gb?(this.Om=r.ME,this.Pd.n(r.Ab()),this.uf.n(r.Kp())):(this.Om=r.Et,this.Pd.n(r.Ab()),this.uf.n(r.Ab()))},jb:function(a){if(!this.hi(a)||!this.isEnabled()||!this.la)return!1;
a=this.$i(a);this.JL(a);this.js=!0;this.mo&&this.wL();return!0},ud:function(a){this.hi(a)?(a=this.$i(a),this.JL(a),this.js||(this.js=!0,this.mo&&this.wL())):(this.js=!1,this.Om=r.Et,this.Pd.n(r.Ab()),this.uf.n(r.Ab()),this.mo&&this.yL())},Gf:function(a){this.Pd.n(r.Ab());this.uf.n(r.Ab());this.mo&&this.yL();this.hi(a)&&(a=this.$i(a),this.kf(this.Vc+(a.x<this.Pd.c().width?0-this.Im:this.Im)))},pX:function(a){this.Pd=a},C5:function(){return this.Pd},AX:function(a){this.uf=a},c6:function(){return this.uf},
oX:function(a){this.Uk=a},B5:function(){return this.Uk},zX:function(a){this.Xk=a},b6:function(){return this.Xk}});r.RE.create=function(a,c){var d=new r.RE;return d&&d.gU(a,c)?d:null};r.PE=r.Ub.extend({Hb:null,Yo:null,Xo:null,Vc:0,hb:0,Gb:1,mU:function(a,c,d){return this.r()?(this.Wb(!0),this.EX(c),this.XD(d),this.Hb.m(c.q),this.f(d,2),this.f(c,1),this.f(a),this.V(a.c()),this.hb=0,this.Gb=1,this.kf(this.hb),!0):!1},If:function(a){this.If(a);this.Hb!=NULL&&this.Hb.ra(a?255:128)},kf:function(a){a<this.hb&&(a=this.hb);a>this.Gb&&(a=this.Gb);this.Vc=a;a=(a-this.hb)/(this.Gb-this.hb);this.Yo.it(100*a);this.Hb.Ox(360*a);this.jf(r.ri)},QI:function(){return this.Vc},VK:function(a){this.hb=
a;this.hb>=this.Gb&&(this.Gb=this.hb+1);this.kf(this.Gb)},fT:function(){return this.hb},TK:function(a){this.Gb=a;this.Gb<=this.hb&&(this.hb=this.Gb-1);this.kf(this.hb)},eT:function(){return this.Gb},hi:function(a){a=this.$i(a);return this.uS(this.Yo.q,a)<Math.min(this.c().width/2,this.c().height/2)},jb:function(a){if(!this.hi(a)||!this.isEnabled()||!this.la)return!1;this.Xo=this.$i(a);this.xV(this.Xo);return!0},ud:function(a){a=this.$i(a);this.zV(a)},Gf:function(){this.yV(r.a(0,0))},uS:function(a,
c){var d=a.x-c.x,e=a.y-c.y;return Math.sqrt(d*d+e*e)},rR:function(a,c,d,e){return 180*(Math.atan2(c.x-a.x,c.y-a.y)-Math.atan2(e.x-d.x,e.y-d.y))/Math.PI},xV:function(){this.hq(!0);this.Hb.n(r.Kp())},zV:function(a){var c=this.rR(this.Yo.q,a,this.Yo.q,this.Xo);180<c?c-=360:-180>c&&(c+=360);this.kf(this.Vc+c/360*(this.Gb-this.hb));this.Xo=a},yV:function(){this.Hb.n(r.Ab());this.hq(!1)},XD:function(a){this.Hb=a},MI:function(){return this.Hb},EX:function(a){this.Yo=a},i6:function(){return this.Yo},Lba:function(a){this.Xo=
a},nT:function(){return this.Xo}});r.PE.create=function(a,c,d){var e=new r.PE;return e&&(a=r.v.create(a),d=r.v.create(d),c=r.Fc.create(r.v.create(c)),e.mU(a,c,d))?e:null};r.tF=-1;r.bo=0;r.yq=1;r.su=2;r.YR=function(a){var c=r.ta.e();return(c.xa+c.Ca)/2*a/160};r.sN=r.Ea.extend({AW:function(){},BW:function(){}});
r.Gh=r.Sc.extend({E1:0,o1:0,m1:0,Xb:null,Fi:r.su,Hi:!1,CO:null,Ra:null,oh:!1,Gv:null,Jv:null,Rq:!1,Uq:!1,Pr:null,lp:null,ks:0,ph:null,Yh:null,HG:0,FG:0,Jr:null,jB:!1,kH:null,ctor:function(){r.Sc.prototype.ctor.call(this);this.CO=new r.Wg(0,0);this.Gv=new r.Wg(0,0);this.Jv=new r.Wg(0,0);this.Pr=new r.Wg(0,0);this.lp=new r.Wg(0,0);this.ph=[];this.Yh=new r.Bk(0,0);this.Jr=new r.og(0,0,0,0);this.kH=new r.og(0,0,0,0)},r:function(){return this.Pp(r.size(200,200),null)},xx:function(){r.yD(this.fl,!1,this)},
Pp:function(a,c){var d=r.a(0,0);return r.Sc.prototype.r.call(this)?(this.Ra=c,this.Ra||(this.Ra=r.Sc.create(),this.Ra.aj(!1),this.Ra.G(d)),this.hL(a),this.Wb(!0),this.ph.length=0,this.Xb=null,this.Uq=this.Rq=!0,this.Fi=r.su,this.Ra.m(d),this.ks=0,this.f(this.Ra),this.HG=this.FG=1,!0):!1},Gl:function(a,c){if(c)this.SW(a,0.15);else{if(!this.Rq){var d=this.jn(),e=this.Vs();a.x=Math.max(d.x,Math.min(e.x,a.x));a.y=Math.max(d.y,Math.min(e.y,a.y))}this.Ra.m(a)}},CI:function(){var a=this.Ra.q;return r.a(a.x,
a.y)},SW:function(a,c){var d=r.ju.create(c,a),e=r.sq.create(this.HQ,this);this.Ra.Bx(r.uj.create(d,e));this.$b(this.OA)},mL:function(a,c){if(c)this.VX(a,0.15);else{var d=this.Ra;if(d.BC()!=a){var e,f;0==this.ks?(f=this.Yh,f=r.a(0.5*f.width,0.5*f.height),f=this.kl(f)):f=this.lp;e=d.Ia(f);d.rk(Math.max(this.HG,Math.min(this.FG,a)));e=d.kl(e);f=r.Gd(f,e);this.Gl(r.eg(d.q,f))}}},SI:function(){return this.Ra.BC()},VX:function(a,c){if(0<c){var d=this.Ra.BC();d!=a&&(d=r.Tn.create(c,"zoomScale",d,a),this.Bx(d))}else this.mL(a)},
jn:function(){var a=this.Ra,c=a.c(),d=this.Yh;return r.a(d.width-c.width*a.xa,d.height-c.height*a.Ca)},Vs:function(){return r.a(0,0)},q8:function(a){var c=this.CI(),d=this.Yh,e=this.SI(),c=r.rect(-c.x/e,-c.y/e,d.width/e,d.height/e);return r.LV(c,a.Ya())},pause:function(){this.Ra.px();for(var a=this.Ra.t,c=0;c<a.length;c++)a[c].px()},sK:function(){for(var a=this.Ra.t,c=0,d=a.length;c<d;c++)a[c].Ax();this.Ra.Ax()},f8:function(){return this.Hi},I8:function(){return this.oh},Y7:function(){return this.Rq},
MW:function(a){this.Rq=a},p7:function(){return this.Yh},hL:function(a){this.Yh=a;r.D.prototype.V.call(this,a)},x4:function(){return this.Ra},QW:function(a){a&&(this.jc(!0),this.Ra=a,a.aj(!1),a.G(0,0),this.f(a),this.hL(this.Yh))},L4:function(){return this.Fi},IK:function(a){this.Fi=a},hc:function(){return this.Xb},Bh:function(a){this.Xb=a},jb:function(a){if(!this.la)return!1;var c=this.vA(),d=this.Ra,e=d.kl(d.$h(a)),f=this.ph;if(2<f.length||this.oh||!r.bb(c,e))return!1;f.push(a);1===f.length?(this.lp=
this.$h(a),this.oh=!1,this.Hi=!0,this.Pr.x=0,this.ks=this.Pr.y=0):2==f.length&&(this.lp=r.pD(this.$h(f[0]),this.$h(f[1])),this.ks=r.mD(d.$h(f[0]),d.$h(f[1])),this.Hi=!1);return!0},ud:function(a){if(this.la)if(1===this.ph.length&&this.Hi){this.oh=!0;var c=this.vA(),d=this.$h(a);a=r.Gd(d,this.lp);var e=0,f=this.Fi,e=f===r.yq?a.y:f===r.bo?a.x:Math.sqrt(a.x*a.x+a.y*a.y);if(this.oh||!(0.04375>Math.abs(r.YR(e))))if(this.oh||(a.x=0,a.y=0),this.lp=d,this.oh=!0,r.bb(c,this.kl(d))){switch(f){case r.yq:a.x=
0;break;case r.bo:a.y=0}d=this.Ra.q;c=d.x+a.x;d=d.y+a.y;this.Pr=a;this.Gl(r.a(c,d))}}else 2!==this.ph.length||this.Hi||(a=r.mD(this.Ra.$h(this.ph[0]),this.Ra.$h(this.ph[1])),this.mL(this.SI()*a/this.ks))},Gf:function(){this.la&&(1==this.ph.length&&this.oh&&this.$b(this.Vz),this.ph.length=0,this.oh=this.Hi=!1)},lk:function(){this.la&&(this.ph.length=0,this.oh=this.Hi=!1)},V:function(a,c){null!=this.Ra&&(2===arguments.length?this.Ra.V(a,c):this.Ra.V(a),this.BY())},c:function(){return this.Ra.c()},BY:function(){if(null!=
this.Ra){var a=this.Yh,c=this.Vs();this.Gv.x=c.x+0.2*a.width;this.Gv.y=c.y+0.2*a.height;c=this.jn();this.Jv.x=c.x-0.2*a.width;this.Jv.y=c.y-0.2*a.height}},a8:function(){return this.Uq},Iaa:function(a){this.Uq=a},sa:function(a){if(this.la){a=a||r.X;var c,d=this.t,e,f;if(r.Hd===r.lg){a.save();this.transform(a);this.WF(a);if(d&&0<d.length){f=d.length;this.Vd();for(c=0;c<f;c++)if((e=d[c])&&0>e.gb)e.sa(a);else break;for(this.Wa(a);c<f;c++)d[c].sa(a)}else this.Wa(a);this.UF();a.restore()}else{r.Up();var g=
this.Ok;g&&g.Qp()&&(g.aC(),this.hy());this.transform(a);this.WF(a);if(d&&0<d.length){f=d.length;for(c=0;c<f;c++)if((e=d[c])&&0>e.gb)e.sa();else break;for(this.Wa(a);c<f;c++)d[c].sa()}else this.Wa(a);this.UF(a);g&&g.Qp()&&g.XB(this);r.Tp()}}},f:function(a,c,d){if(!a)throw Error("child must not nil!");c=c||a.gb;d=d||a.pd;a.aj(!1);a.G(0,0);this.Ra!=a?this.Ra.f(a,c,d):r.Sc.prototype.f.call(this,a,c,d)},Wb:function(a){this._super(a);a||(this.oh=this.Hi=!1,this.ph.length=0)},i1:function(){return null},
JP:function(a){var c=this.jn(),d=this.Vs(),e=this.Fi,f=this.Ra.q,g=f.x,h=f.y;if(e===r.su||e===r.bo)g=Math.max(g,c.x),g=Math.min(g,d.x);if(e==r.su||e==r.yq)h=Math.min(h,d.y),h=Math.max(h,c.y);h==f.y&&g==f.x||this.Gl(r.a(g,h),a)},Vz:function(){if(this.Hi)this.Rc(this.Vz);else{var a,c;a=this.Ra.q;var d=this.Pr;this.Ra.m(a.x+d.x,a.y+d.y);this.Rq?(a=this.Gv,c=this.Jv):(a=this.Vs(),c=this.jn());var e=this.Ra.q.F,f=this.Ra.q.K;d.x*=0.95;d.y*=0.95;this.Gl(r.a(e,f));if(1>=Math.abs(d.x)&&1>=Math.abs(d.y)||
f>a.y||f<c.y||e>a.x||e<c.x||e==a.x||e==c.x||f==a.y||f==c.y)this.Rc(this.Vz),this.JP(!0)}},OA:function(){this.Hi&&this.Rc(this.OA)},HQ:function(){this.Rc(this.OA)},WF:function(a){if(this.Uq){this.jB=!1;var c=this.vA(),d=r.ta.e(),e=this.xa,f=this.Ca;a=a||r.X;if(r.Hd===r.lg)c=this.Yh.width*e*d.xa,d=this.Yh.height*f*d.Ca,a.beginPath(),a.rect(0,0,c,-d),a.clip(),a.closePath();else if(d=r.ta.e(),d.xU()){if(this.jB=!0,this.Jr=d.uT(),r.KV(c,this.Jr)){var g=this.Jr;a=Math.max(c.x,g.x);f=Math.max(c.y,g.y);e=
Math.min(c.x+c.width,g.x+g.width);c=Math.min(c.y+c.height,g.y+g.height);d.UD(a,f,e-a,c-f)}}else a.enable(a.SCISSOR_TEST),d.UD(c.x,c.y,c.width,c.height)}},UF:function(a){this.Uq&&r.Hd===r.Ck&&(this.jB?(a=this.Jr,r.ta.e().UD(a.x,a.y,a.width,a.height)):(a=a||r.X,a.disable(a.SCISSOR_TEST)))},g1:function(){},vA:function(){for(var a=this.kl(r.tj()),c=this.Yh,d=this.xa,e=this.Ca,f=this.U;null!=f;f=f.getParent())d*=f.xa,e*=f.Ca;0>d&&(a.x+=c.width*d,d=-d);0>e&&(a.y+=c.height*e,e=-e);f=this.kH;f.x=a.x;f.y=
a.y;f.width=c.width*d;f.height=c.height*e;return f}});r.Gh.create=function(a,c){var d=new r.Gh;if(2==arguments.length){if(d&&d.Pp(a,c))return d}else if(d&&d.r())return d;return null};r.tN=r.Ea.extend({Kx:function(){},ei:function(){return 0}});r.uN=r.tN.extend({JA:0,ctor:function(){this.JA=0},Kx:function(a){this.JA=a},ei:function(){return this.JA}});function ka(a,c){return a.ei()-c.ei()}
r.ry=r.Ea.extend({kh:null,ctor:function(){this.kh=[]},jJ:function(a){if(!a)throw"cc.ArrayForObjectSorting.insertSortedObject(): addObject should be non-null.";this.pU(a,this.Op(a))},hW:function(a){if(0!=this.count()){var c=this.Op(a);c<this.count()&&c!=r.ti&&this.mn(c).ei()==a.ei()&&this.ED(c)}},wba:function(a,c){var d=this.Op(c);if(d<this.count()&&d!=r.ti){var e=this.mn(d);e.ei()==c.ei()&&(this.ED(d),e.Kx(a),this.jJ(e))}},NJ:function(a){if(0==this.count())return null;var c=new r.uN;c.Kx(a);var d=
this.Op(c);d<this.count()&&d!=r.ti&&(c=this.mn(d),c.ei()!=a&&(c=null));return c},J5:function(){return null},Op:function(a){var c=0;if(a){var d=0;a=a.ei();for(var e=this.kh,f=0;f<e.length;f++){var g=e[f].ei();if(a==g||a>=d&&a<g)break;d=g;c++}}else c=r.ti;return c},count:function(){return this.kh.length},a9:function(){var a=this.kh;return 0==a.length?null:a[a.length-1]},mn:function(a){return this.kh[a]},LH:function(a){this.kh.push(a);this.kh.sort(ka)},ED:function(a){r.qq(this.kh,a);this.kh.sort(ka)},
pU:function(a,c){this.kh=r.Vl(this.kh,a,c);this.kh.sort(ka)}});r.xF=0;r.wN=1;r.o0=r.D.extend({Mj:0,g5:function(){return this.Mj},hX:function(a){this.Mj=a},reset:function(){this.Mj=r.ti},Kx:function(a){this.Mj=a},ei:function(){return this.Mj}});r.q0=r.sN.extend({jda:function(){},ida:function(){},kda:function(){},lda:function(){}});r.p0=r.Ea.extend({sY:function(a){return this.CR(a)},CR:function(){return r.pN},hda:function(){return null},G9:function(){return 0}});
r.GF=r.Gh.extend({np:null,yd:null,vo:null,Uz:null,DB:null,Nv:null,Wu:null,Xj:null,ctor:function(){r.Gh.prototype.ctor.call(this);this.Nv=r.tF;this.Wu=[]},PN:function(a){var c=0,d=-1;switch(this.Fi){case r.bo:a=a.x;break;default:a=a.y}for(var e=this.Wu;d>=c;){var f=0|c+(d-c)/2,g=e[f],h=e[f+1];if(a>=g&&a<=h)return f;a<g?d=f-1:c=f+1}return 0>=c?0:-1},VO:function(a){a={x:a.x,y:a.y};this.np===r.xF&&(a.y=this.Ra.c().height-a.y);a=this.PN(a);-1!=a&&(a=Math.max(0,a),-1<a&&(a=r.ti));return a},SN:function(a){switch(this.Fi){case r.bo:a=
r.a(this.Wu[a],0);break;default:a=r.a(0,this.Wu[a])}return a},yP:function(a){var c=this.SN(a);a=this.Uz.sY(this,a);this.np===r.xF&&(c.y=this.Ra.c().height-c.y-a.height);return c},B1:function(){},HB:function(){var a=r.bm();this.V(a);this.Nv!=this.Fi&&(this.Fi==r.bo?this.Gl(r.a(0,0)):this.Gl(r.a(0,this.jn().y)),this.Nv=this.Fi)},IG:function(a){this.vo.LH(a);this.Ik.hW(a);r.Yd(this.yd,a.Mj);a.reset();a.getParent()==this.Ra&&this.Ra.removeChild(a,!0)},Yv:function(a,c){c.G(0,0);c.m(this.yP(a));c.hX(a)},
SF:function(a){a.getParent()!=this.Ra&&this.Ra.f(a);this.Ik.jJ(a);var c=this.yd;a=a.Mj;-1==c.indexOf(a)&&(c.push(a),c.sort(function(a,c){return a-c}))},D4:function(){return this.Uz},WW:function(a){this.Uz=a},hc:function(){return this.DB},Bh:function(a){this.DB=a},xca:function(a){this.np!=a&&(this.np=a,0<this.Ik.count()&&this.DD())},m7:function(){return this.np},Pp:function(a,c){return r.Gh.prototype.Pp.call(this,a,c)?(this.Ik=new r.ry,this.vo=new r.ry,this.yd=[],this.DB=null,this.np=r.wN,this.IK(r.yq),
r.Gh.prototype.Bh.call(this,this),!0):!1},Fda:function(a){if(!(a==r.ti||-1<a)){var c=this.dC(a);c&&this.IG(c);c=null;this.Yv(a,c);this.SF(c)}},O7:function(a){if(!(a==r.ti||-1<a)){var c,d=this.Ik;if(c=d.NJ(a))for(var e=c=d.Op(c);e<d.count();e++)c=d.mn(e),this.Yv(c.Mj+1,c);c=null;this.Yv(a,c);this.SF(c);this.HB()}},U$:function(a){if(!(a==r.ti||-1<a)){var c=this.dC(a);if(c){var d=this.Ik,e=d.Op(c);this.IG(c);r.Yd(this.yd,a);for(a=d.count()-1;a>e;a--)c=d.mn(a),this.Yv(c.Mj-1,c)}}},DD:function(){this.Nv=
r.tF;for(var a=this.Ik,c=this.vo,d=this.Ra,e=0,f=a.count();e<f;e++){var g=a.mn(e);c.LH(g);g.reset();g.getParent()==d&&d.removeChild(g,!0)}this.yd=[];this.Ik=new r.ry;this.HB()},c3:function(){if(0===this.vo.count())return null;var a=this.vo.mn(0);this.vo.ED(0);return a},dC:function(a){return-1==this.yd.indexOf(a)?null:this.Ik.NJ(a)},AW:function(){},BW:function(){},Gf:function(a,c){if(this.la){if(this.Xj){var d=this.Ya();d.ld=this.U.kl(d.origin);this.Xj=null}r.Gh.prototype.Gf.call(this,a,c)}},jb:function(a,
c){if(!this.la)return!1;var d=r.Gh.prototype.jb.call(this,a,c);if(1===this.ph.length){var e;e=this.Ra.$h(a);e=this.VO(e);this.Xj=e===r.ti?null:this.dC(e)}else this.Xj&&(this.Xj=null);return d},ud:function(a,c){r.Gh.prototype.ud.call(this,a,c);this.Xj&&this.oh&&(this.Xj=null)},lk:function(a,c){r.Gh.prototype.lk.call(this,a,c);this.Xj&&(this.Xj=null)}});r.GF.create=function(a,c,d){var e=new r.GF;e.Pp(c,d);e.WW(a);e.HB();return e};r.lc={};r.lc.IH=function(a){for(var c in r.lc.hD)a[c]=r.lc.hD[c]};
r.lc.hD={m:function(a,c){2==arguments.length?(this.q.F=a,this.q.K=c):(this.q.F=a.x,this.q.K=a.y);this.Xa();this.ma.oE(this.q.F,-this.q.K)},Pc:function(a){this.q.K=a;this.Xa();this.ma.oE(this.q.F,-this.q.K)},xb:function(a){this.q.F=a;this.Xa();this.ma.oE(this.q.F,-this.q.K)},rk:function(a,c){this.xa=a;this.Ca=c||a;this.Xa();this.ma.resize(this.xa,this.Ca)},gq:function(a){this.xa=a;this.Xa();this.ma.resize(this.xa,this.Ca)},Fn:function(a){this.Ca=a;this.Xa();this.ma.resize(this.xa,this.Ca)},G:function(a,
c){var d=this.Ih;if(2===arguments.length){if(a===d.F&&c===d.K)return;d.F=a;d.K=c}else{if(a.x===d.F&&a.y===d.K)return;d.F=a.x;d.K=a.y}var e=this.Nd,f=this.wa;e.F=f.Ha*d.F;e.K=f.va*d.K;this.ma.style[r.Ob.bq+"TransformOrigin"]=""+e.F+"px "+-e.K+"px";this.Rk?(this.ma.style.marginLeft=0,this.ma.style.marginBottom=0):(this.ma.style.marginLeft=this.G8?0:-e.F+"px",this.ma.style.marginBottom=-e.K+"px");this.Xa()},V:function(a,c){var d=this.wa;if(2===arguments.length){if(a===d.Ha&&c===d.va)return;d.Ha=a;d.va=
c}else{if(a.width===d.Ha&&a.height===d.va)return;d.Ha=a.width;d.va=a.height}var e=this.Nd,f=this.Ih;e.F=d.Ha*f.F;e.K=d.va*f.K;this.ma.width=d.Ha;this.ma.height=d.va;this.G(this.Ih);this.canvas&&(this.canvas.width=d.Ha,this.canvas.height=d.va);this.Xa();this.MV()},Ox:function(a){this.YP!=a&&(this.Ag=this.Rh=a,this.Bm=Math.PI/180*this.Ag,this.Or=Math.PI/180*this.Rh,this.Xa(),this.ma.rotate(a))},Sx:function(a){this.me=a;this.Xa();this.ma.bL(this.me,this.ne)},Tx:function(a){this.ne=a;this.Xa();this.ma.bL(this.me,
this.ne)},B:function(a){this.la=a;this.Xa();this.ma&&(this.ma.style.display=a?"block":"none")},aw:function(a){this.gb=a;this.Xa();this.ma&&(this.ma.zIndex=a)},ht:function(a){this.U=a;null!==a&&(a.G(a.Ih),this.Xa(),r.lc.ox(this))},Ax:function(){this.Df().zn(this);this.Hg().zn(this);this.ma&&!this.ma.parentNode&&(this.getParent()?r.lc.ox(this):this.ma.Ym(r.dk));this.ma&&(this.ma.style.visibility="visible")},px:function(){this.Df().Zs(this);this.Hg().Zs(this);this.ma&&(this.ma.style.visibility="hidden")},
Zf:function(){this.gE();this.rt();this.rg(this.t,r.D.Mf.Zf);this.ma&&this.ma.remove()},dW:function(){this.ma.remove()},ra:function(a){this.Ni=a;this.ma.style.opacity=a/255},MV:function(){if(this.cD){var a=this.t;this.t=[];r.v.prototype.sa.call(this,this.wp);this.t=a}else r.v.prototype.sa.call(this,this.wp)}};
r.lc.UP=function(){var a=r.Ob("#EGLViewDiv");if(a){var c=r.ta.e(),d=c.Cp(),e=c.cf,f=c.Tw(),g=d.width,h=d.height;0===d.width&&0===d.height&&(g=f.width,h=f.height);d=e.cb.width;0===e.cb.width&&0===e.cb.height&&(d=f.width);a.style.position="absolute";a.style.width=g+"px";a.style.maxHeight=h+"px";a.style.margin=0;a.resize(c.xa,c.Ca);a.style.left=(d-g)/2+"px";a.style.bottom="0px"}};
r.lc.ox=function(a){var c=a.getParent();if(c&&a.ma)if(c.ma||(r.lc.rV(c),c.ht=r.lc.hD.ht),a.ma.Ym(c.ma),c.G(c.Ih),c.getParent())r.lc.ox(c);else if(c.We)if(a=r.Ob("#EGLViewDiv"))c.ma.Ym(a);else{a=r.vk("div");a.id="EGLViewDiv";var d=r.ta.e(),e=d.Cp(),f=d.cf,g=d.Tw(),h=e.width,k=e.height;0===e.width&&0===e.height&&(h=g.width,k=g.height);e=f.cb.width;0===f.cb.width&&0===f.cb.height&&(e=g.width);a.style.position="absolute";a.style.width=h+"px";a.style.maxHeight=k+"px";a.style.margin=0;a.resize(d.xa,d.Ca);
a.style.left=(e-h)/2+"px";a.style.bottom="0px";c.ma.Ym(a);a.Ym(r.dk)}};r.lc.setTransform=function(a){if(a.wp)if(a.wp.translate(a.Nd.x,a.Nd.y),a.cD){var c=a.t;a.t=[];r.v.prototype.sa.call(a,a.wp);a.t=c}else r.v.prototype.sa.call(a,a.wp);a.ma&&(a.ma.position.x=a.q.x,a.ma.position.y=-a.q.y,a.ma.rotation=a.rT(),a.ma.scale={x:a.xa,y:a.Ca},a.ma.Ll={x:a.me,y:a.ne},a.G&&a.G(a.Ih),a.ma.Nn())};
r.lc.MS=function(a){a.ma=r.vk("div");a.canvas=r.vk("canvas");var c=a.c();a.canvas.width=c.width;a.canvas.height=c.height;a.ma.style.position="absolute";a.ma.style.bottom=0;a.wp=a.canvas.getContext("2d");a.ma.appendChild(a.canvas);a.getParent()&&r.lc.ox(a);a.cD=!0};
r.lc.rV=function(a){a.ma=r.vk("div");a.placeholder=!0;a.ma.style.position="absolute";a.ma.style.bottom=0;a.ma.style.width=(a.c().width||r.Z.e().Rb.width)+"px";a.ma.style.maxHeight=(a.c().height||r.Z.e().Rb.height)+"px";a.ma.style.margin=0;r.lc.setTransform(a);a.ma.Nn();r.lc.IH(a)};
r.lc.iC=function(a){if(1<arguments.length)r.lc.iC(arguments);else if(1!=arguments.length||arguments[0].length)for(var c=arguments[0],d=0;d<c.length;d++)c[d]instanceof r.v?c[d].ma||r.lc.MS(c[d]):r.log("DOM converter only supports sprite and menuitems yet"),r.lc.IH(c[d]),c[d].sa=function(){},c[d].transform=function(){},r.lc.setTransform(c[d]),c[d].B(c[d].la);else r.lc.iC([arguments[0]])};r.GM=0;r.c_=1;r.f_=2;r.e_=3;r.d_=4;r.vM=0;r.HZ=1;r.IZ=2;r.JZ=3;r.LZ=4;r.GZ=5;r.KZ=6;r.tM=0;r.uM=1;r.FZ=2;r.EZ=3;r.DZ=4;r.OZ=r.Ea.extend({Nw:function(){},Ow:function(){},Pw:function(){},q3:function(){}});
r.wq=r.Yl.extend({Gi:null,Xb:null,KO:r.vM,JO:r.uM,lP:r.GM,x1:"",Pi:"",jw:null,Kr:null,DG:50,bO:18,ab:null,gr:14,gA:"Arial",hA:!1,PA:"",Qv:14,y1:!1,ctor:function(a,c){r.Yl.prototype.ctor.call(this);this.hA=!1;this.jw=r.Ab();this.Kr=r.Kp();this.V(a);this.Gi=new r.v;this.Gi.Wa=function(){};this.f(this.Gi);var d=this;c?(this.ab=document.createElement("textarea"),this.ab.style.resize="none",this.hA=!0):this.ab=document.createElement("input");this.ab.type="text";this.ab.style.fontSize=this.gr+"px";this.ab.style.color=
"#000000";this.ab.style.border=0;this.ab.style.background="transparent";this.ab.style.width="100%";this.ab.style.height="100%";this.ab.style.F1=0;this.ab.style.outline="medium";this.ab.addEventListener("input",function(){d.Xb&&d.Xb.Pw&&d.Xb.Pw(d,this.value)});this.ab.addEventListener("keyup",function(a){a.keyCode===r.FM.HS&&!1==d.hA&&(a.stopPropagation(),a.preventDefault(),r.canvas.focus())});this.ab.addEventListener("focus",function(){this.value==d.Pi&&(this.value="",this.style.fontSize=d.gr+"px",
this.style.color=r.jl(d.jw));d.Xb&&d.Xb.Nw&&d.Xb.Nw(d)});this.ab.addEventListener("blur",function(){""==this.value&&(this.value=d.Pi,this.style.fontSize=d.Qv+"px",this.style.color=r.jl(d.Kr));d.Xb&&d.Xb.Ow&&d.Xb.Ow(d)});r.lc.iC(this.Gi);this.Gi.ma.appendChild(this.ab);this.Gi.ma.Fca=!1;this.Gi.ma.style.width=a.width-6+"px";this.Gi.ma.style.height=a.height-6+"px";this.Gi.canvas.remove()},Waa:function(a,c){this.gr=c;this.gA=a;this.mB()},yca:function(){},eX:function(a){this.gA=a;this.mB()},NK:function(a){this.gr=
a;this.mB()},mB:function(){this.ab.value!=this.Pi&&(this.ab.style.fontFamily=this.gA,this.ab.style.fontSize=this.gr+"px")},Je:function(a){null!=a&&(""==a?(this.ab.value=this.Pi,this.ab.style.color=r.jl(this.Kr)):(this.ab.value=a,this.ab.style.color=r.jl(this.jw)))},dX:function(a){this.jw=a;this.ab.value!=this.Pi&&(this.ab.style.color=r.jl(a))},pba:function(a){!isNaN(a)&&0<a&&(this.DG=a,this.ab.maxLength=a)},s5:function(){return this.DG},Fba:function(a){if(null!=a){var c=this.Pi;this.Pi=a;this.ab.value==
c&&(this.ab.value=a,this.ab.style.color=r.jl(this.Kr),this.Zv())}},Gba:function(a,c){this.PA=a;this.Qv=c;this.Zv()},Iba:function(a){this.PA=a;this.Zv()},Jba:function(a){this.Qv=a;this.Zv()},Zv:function(){this.ab.value==this.Pi&&(this.ab.style.fontFamily=this.PA,this.ab.style.fontSize=this.Qv+"px")},Hba:function(a){this.Kr=a;this.ab.value==this.Pi&&(this.ab.style.color=r.jl(a))},Ix:function(a){this.JO=a;this.ab.type=a==r.tM?"password":"text"},R:function(){return this.ab.value},iU:function(a,c){return this.bJ(c)?
(this.Gi.m(3,3),this.UX(!1),this.qk(a),this.m(0,0),this.TF(this,this.uY,r.HE),!0):!1},Bh:function(a){this.Xb=a},a6:function(){return this.Pi},dba:function(a){this.KO=a},Xba:function(a){this.lP=a},U8:function(a){var c=r.wq.xe(this);c.y-=4;c.S7(a.end)?this.bO=a.end.w5()-c.z5():r.log("needn't to adjust view layout.")},S8:function(){},T8:function(){},R8:function(){},uY:function(){},hC:function(a){a=a.toString(16);return 1==a.length?"0"+a:a},rW:function(a,c,d){return"#"+this.hC(a)+this.hC(c)+this.hC(d)},
BK:function(a){this.ab.style.background=this.rW(a.p,a.o,a.h)},J7:function(a,c){this.IO=a.width;this.ma.style.width=this.IO.toString()+"px";this.HO=a.height;this.ma.style.height=this.HO.toString()+"px";this.ma.style.backgroundColor=r.jl(c)}});r.wq.xe=function(a){var c=a.c(),c=r.rect(0,0,c.width,c.height);return r.Xg(c,a.Ws())};r.wq.create=function(a,c,d,e,f){d=new r.wq(a,d);c instanceof r.Ec?d.BK(c):d.iU(a,c)&&(e&&d.Hx(e,r.JE),f&&d.Hx(f,r.IE));return d};var t=[],ma=new XMLHttpRequest;ma.open("GET","config.txt",!1);ma.send(null);var na=ma.responseText,oa=na.split("\n")[0],ra=na.split("\n")[1];ra&&(oa+=":"+ra);var sa=io.connect(oa,{"sync disconnect on unload":!0,"connect timeout":5E3,"reconnection delay ":100});sa.on("connect",function(){v.By();v.vN();console.log("Client has connected to the server!");if(x){var a=x.e().rd;a?a.Gn(!0):t.push(JSON.stringify({connect:!0}))}else t.push(JSON.stringify({connect:!0}))});sa.on("message",function(a){reactToSocketMessage(a)});
reactToSocketMessage=function(a){a=JSON.parse(a);var c=!1,d;for(d in a){c=!0;break}if(!1!=c)if(console.log("Received a message from the server!",a),a.sync)a.mapdata&&v.KL(a.mapdata,a.maptime),a.warpdata&&v.ly(a.warpdata,a.warptime),a.itemdata&&v.tt(a.itemdata,a.itemtime),a.skillsdata&&v.rE(a.skillsdata,a.skillstime),a.signsdata&&v.ky(a.signsdata,a.signstime),a.npcsdata&&v.LL(a.npcsdata,a.npcstime),a.questdata&&v.pE(a.questdata,a.queststime),a.settingsdata&&(v.qE(a.settingsdata,a.settingstime),z=ua(z,
a.settingsdata)),a.scriptsdata&&v.PL(a.scriptsdata,a.scriptstime),va=!0;else if(c=x.e().rd)if(a.connect?c.Gn(!0):a.disconnect&&c.Gn(!1),"Game"==c.Bc())if(a.newPlayer)A.iR({id:a.id,location:{position:a.position,mapnumber:a.mapnumber}});else if(a.playerLeft)A.fi(a.playerLeft).dg==A.w.ba.dg&&(MapMaster=!1),A.fI(a.playerLeft);else if(a.setTo)if(!A.fi(a.id)||A.fi(a.id)&&!1==A.fi(a.id).Ng){for(c=0;c<t.length;c++)d=JSON.parse(t[c]),d.moveTo&&null!=d.moveTo&&d.id==a.id&&(t.splice(c,1),c--);A.wV({id:a.id,
location:{position:a.position,mapnumber:a.mapnumber}});A.fi(a.id).dg==A.w.ba.dg&&(MapMaster=!1);A.GR(a.id,a.mapnumber)}else t.push(JSON.stringify(a));else a.moveTo?!A.fi(a.id)||A.fi(a.id)&&!1==A.fi(a.id).Ng?A.QU({id:a.id,location:{position:a.position,mapnumber:a.mapnumber}}):t.push(JSON.stringify(a)):a.chatMessage?C.Nb(a.chatMessage):a.coinflip?C.Nb(a.coinflip):a.diceroll?C.Nb(a.diceroll):a.dance?C.Nb(a.dance):a.afk?A.HR(a.afk):a.savemap?(v.ER(a.savemap,a.mapdata,a.updatetime),F.YX(a.mapdata)):a.mapmaster?
MapMaster=!0:a.savewarps?(v.NR(parseInt(a.savewarps),a.warpdata,a.updatetime),ObjectLists.dn()[parseInt(a.savewarps)]=a.warpdata,Warpeditor&&(Warpeditor.Nc=ObjectLists.dn(),Warpeditor.oa())):a.savewarpswhole?(v.TV(a.savewarpswhole,a.updatetime),ObjectLists.TX(a.savewarpswhole)):a.savescripts?(v.JR(parseInt(a.savescripts),a.scriptsdata,a.updatetime),ObjectLists.Yi()[parseInt(a.savescripts)]=a.scriptsdata,Scripteditor&&(Scripteditor.Nc=ObjectLists.Yi(),Scripteditor.oa())):a.savescriptswhole?(v.QV(a.savescriptswhole,
a.updatetime),ObjectLists.JX(a.savescriptswhole)):a.savesettings?(v.qE(a.savesettings,a.updatetime),z=ua(z,a.savesettings),Settingseditor&&(Settingseditor.data=G(z),Settingseditor.tb())):a.savequests?(v.IR(parseInt(a.savequests),a.questdata,a.updatetime),ObjectLists.Es()[parseInt(a.savequests)]=a.questdata,Questeditor&&(Questeditor.Nc=ObjectLists.Es(),Questeditor.oa())):a.savequestswhole?(v.PV(a.savequestswhole,a.updatetime),ObjectLists.FX(a.savequestswhole)):a.saveskills?(v.LR(parseInt(a.saveskills),
a.skillsdata,a.updatetime),ObjectLists.Zi()[parseInt(a.saveskills)]=a.skillsdata,Skillseditor&&(Skillseditor.Nc=ObjectLists.Zi(),Skillseditor.oa()),H.update(),Skills&&Skills.zb()):a.saveskillswhole?(v.SV(a.saveskillswhole,a.updatetime),ObjectLists.LX(a.saveskillswhole),H.update(),Skills&&Skills.zb()):a.savesigns?(v.KR(parseInt(a.savesigns),a.signsdata,a.updatetime),ObjectLists.Gs()[parseInt(a.savesigns)]=a.signsdata,Signeditor&&(Signeditor.Nc=ObjectLists.Gs(),Signeditor.oa())):a.moveNPC?(a.npcID=
parseInt(a.npcID),!A.Ep(a.npcID)||A.Ep(a.npcID)&&!1==A.Ep(a.npcID).Ng?A.PU(a.npcID,a.moveNPC,a.mapnumber):t.push(JSON.stringify(a))):a.changeNPCPosition?A.Ep(a.npcID)&&(a.npcID=parseInt(a.npcID),A.Ep(a.npcID)&&!1==A.Ep(a.npcID).Ng?A.kW(a.npcID,a.changeNPCPosition):t.push(JSON.stringify(a))):a.savesignswhole?(v.RV(a.savesignswhole,a.updatetime),ObjectLists.KX(a.savesignswhole)):a.savenpcs?(v.FR(parseInt(a.savenpcs),a.npcsdata,a.updatetime),ObjectLists.ol()[parseInt(a.savenpcs)]=a.npcsdata,F.Ip(F.td(),
!0),NPCeditor&&(NPCeditor.Nc=ObjectLists.ol(),NPCeditor.oa())):a.savenpcswhole?(v.OV(a.savenpcswhole,a.updatetime),ObjectLists.qX(a.savenpcswhole),F.Ip(F.td(),!0),NPCeditor&&(NPCeditor.Nc=ObjectLists.ol(),NPCeditor.oa())):a.saveitems?(v.DR(parseInt(a.saveitems),a.itemdata,a.updatetime),c=ObjectLists.Bf()[parseInt(a.saveitems)].name,ObjectLists.Bf()[parseInt(a.saveitems)]=a.itemdata,F.Ip(F.td()),Itemeditor&&(Itemeditor.Nc=ObjectLists.Bf(),Itemeditor.oa()),Inventory&&Inventory.zb(),A.w.ba.tt(c,a.itemdata)):
a.droppeditem?a.mapnumber==F.td()&&!1==F.e().Mg?(c=F.NI(a.index),c.fR(a.droppeditem),F.vt()):t.push(JSON.stringify(a)):a.pickupitem?a.mapnumber==F.td()&&(c=F.NI(a.pickupitem),c.rD(),F.vt()):a.saveitemswhole?(v.NV(a.saveitemswhole,a.updatetime),ObjectLists.iX(a.saveitemswhole)):a.savesuccess&&c.OS();else"Login"==c.Bc()&&(a.login_success?c.VU(a.login_success):a.login_fail?c.lx(a.login_fail):a.registrationsuccess?c.VR():a.registrationfailed&&c.JS(a.registrationfailed));else t.push(JSON.stringify(a))};
sa.on("disconnect",function(){console.log("The client has disconnected!");var a=x.e().rd;a?a.Gn(!1):t.push(JSON.stringify({disconnect:!0}))});function I(a){sa.send(JSON.stringify(a))};var J=Object.freeze({ve:{a3:"C to popup/dismiss, enter for chat. Say /help for help.",T7:"Welcome to the Powder Engine! Enter /help for some help.",aU:"-------HELP------",$T:" - Press C to expand the chat, I for Inventory",ZT:" - Space to grab Items and E for Equipment.",YT:" - Enter /commands for command list",XT:"-------------------",UR:"Commands:  /editskill, /editsign, /editnpc,",TR:" - /editmap, /editwarp, /edititem,",SR:" - /dance, /coinflip, /diceroll, /afk",RR:"--------------------",sV:" has joined the game!",
s$:" has left the game!",qx:"Picked up ",BS:"Dropped ",mJ:"Your inventory is full"}});var Aa={},Ba=r.Ld.e();r.qj.e();Ba.aL(["res/Graphics"]);ma=new XMLHttpRequest;ma.open("GET","res/Graphics/tile_graphics.txt",!1);ma.send(null);var na=ma.responseText,Ca=na.split(","),K=[],Fa;for(Fa in Ca)K.push({name:Ca[Fa],texture:r.ga.e().qa(Ca[Fa])});var va=!1,ma=new XMLHttpRequest;ma.open("GET","res/Graphics/character_graphics.txt",!1);ma.send(null);var na=ma.responseText,Ca=na.split(","),M=[];for(Fa in Ca)M.push({name:Ca[Fa],texture:r.ga.e().qa(Ca[Fa])});
document.getElementById("gameCanvas").onkeydown=function(a){a.preventDefault();Aa[a.keyCode]=!0};window.onbeforeunload=function(){I({disconnect:!0})};window.onfocus=function(){for(var a=[],c=t.length-1;0<=c;c--){var d=JSON.parse(t[c]);d.moveTo&&!a[d.id]?(a[d.id]=!0,d.setTo=1,d.moveTo=null,t[c]=JSON.stringify(d)):d.moveTo&&a[d.id]&&t.splice(c,1)}};var P=r.i(255,255,255,255),Ga=r.i(0,255,0,255),Ha=r.i(255,0,0,255);
document.getElementById("gameCanvas").onkeyup=function(a){Aa[a.keyCode]=!1;if(null!=x.e().rd){a.stopPropagation();var c=null;switch(a.keyCode){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";
break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a.keyCode&&58>a.keyCode||64<a.keyCode&&91>a.keyCode)&&(c=String.fromCharCode(a.keyCode));null!=c&&x.e().rd.zl(c)}};rememberLoginNextTime=autoLoginNextTime=!1;
var z={GENERAL:"ISSECTION","Project Name":"Powder Engine Testbed","Version Number":"0.705",CHATBAR:"ISSECTION","Welcome Message":"Welcome to the Powder Engine! Enter /help for some help.","Join Message":"\x3cPLAYER\x3e has joined the game!","Leave Message":"\x3cPLAYER\x3e has left the game!","Default ChatBar Message":"C to popup/dismiss, enter for chat. Say /help for help.",ITEMS:"ISSECTION","Item Dropdown Pick Up":"Pick up \x3cITEM\x3e","Item Dropdown Walk To":"Walk to \x3cITEM\x3e","Item Pick Up":"Picked up \x3cITEM\x3e.",
"Item Dropped":"Dropped \x3cITEM\x3e.","Item Out-of-range":"\x3cITEM\x3e is too far away to pick up!","Item Dropdown Examine":"Examine \x3cITEM\x3e","Item Dropdown Equip":"Equip \x3cITEM\x3e","Item Dropdown Read":"Read \x3cITEM\x3e","Item Dropdown Eat":"Eat \x3cITEM\x3e","Item Dropdown Use":"Use \x3cITEM\x3e","Item Dropdown Unequip":"Unequip \x3cITEM\x3e","Item Dropdown Drop":"Drop \x3cITEM\x3e",NPCS:"ISSECTION","NPC Dropdown Examine":"Examine","NPC Dropdown Attack":"Attack","NPC Dropdown Talk":"Talk To",
"NPC Dropdown Follow":"Follow","NPC Dropdown Trade":"Trade","NPC Dropdown Bank":"Open Bank",SIGNS:"ISSECTION","Sign Dropdown list Read":"Read sign \x3cSIGN\x3e","Sign Out-of-range":"\x3cSIGN\x3e is too far away to read!",PANELS:"ISSECTION","Equipment Header":"Equipment","Inventory Header":"Inventory","Skills Header":"Skills List","Quest Header":"Quest Log",COMMANDS:"ISSECTION","/dance":"\x3cPLAYER\x3e danced the dance of his people.","/diceroll":"\x3cPLAYER\x3e threw a dice and got \x3cVALUE\x3e",
"/coinflip":"\x3cPLAYER\x3e flipped a coin and got \x3cVALUE\x3e"};function Q(a,c){return(a.wJ&&a.la||!a.wJ)&&r.bb(r.rect(a.q.F,a.q.K,a.c().width,a.c().height),c)}function G(a){if(!a)return null;var c=null;"object"==typeof a&&(c={});a instanceof Array&&(c=[]);for(var d in a)c[d]=a[d]&&("object"==typeof a[d]||a[d]instanceof Array)?G(a[d]):a[d];return c}
isMobile=function(){var a=!1,c=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(c)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(c.substr(0,
4)))a=!0;return a};function Ia(a,c){var d=c?a:a.Cc();return Ja(d,"panels")}function Na(){R.Dc(function(){})}
function Ja(a,c,d){c=d?d[c]:a[c];"undefined"!=typeof c.wU?d=Oa.By(c.tY):"undefined"!=typeof c.A?(d=c.size?c.size:r.size(100,100),d=r.ca.create(c.A,d.width,d.height)):d="undefined"!=typeof c.cD?r.v.create():"undefined"!=typeof c.Y?r.v.eb(r.ga.e().qa(c.Y)):"undefined"!=typeof c.label?r.Q.create(c.label,c.font?c.R3:"Arial",c.fontSize?c.fontSize:14):r.D.create();"undefined"!=typeof c.size&&d.V(Math.floor(c.size.width),Math.floor(c.size.height));"undefined"!=typeof c.position&&d.m(r.a(Math.floor(c.position.x),
Math.floor(c.position.y)));"undefined"!=typeof c.visible&&d.B(c.visible);"undefined"!=typeof c.d&&d.G(c.d);"undefined"!=typeof c.opacity&&d.ra(c.opacity);"undefined"!=typeof c.color&&(d.n||console.log(c),d.n(c.color));if("undefined"!=typeof c.children)for(var e in c.children)d[e]=Ja(a,e,c.children),d.f(d[e]);return d}r.size(960,640);var T=r.size(1600,1600),Pa=Math.floor(T.height/32),U=Math.floor(T.width/32);function V(a,c){return parseInt(U*(Pa-c))+parseInt(a)}
function ua(a,c){var d={},e;for(e in a)d[e]=a[e]+"";for(e in c)d[e]&&(d[e]=c[e]+"");return d}
function Qa(a,c,d){R.Dc(function(){var e=[],f=A.w.ba.items;c&&c.script&&(e=ObjectLists.Yi()[c.script].data);for(var g=0;g<e.length;g++)if(e[g].type==a)for(var h=e[g].responses,k=0;k<h.length;k++){switch(h[k].type){case "Is Panel Visibility":if(d&&d["Is Panel Visibility"])break;var l=1==h[k].data.visible?!0:!1;switch(h[k].data.panel){case 0:null==Inventory||Inventory.U||(Inventory=null);if(Inventory&&!l)break;if(!Inventory&&l)break;break;case 1:null==Equipment||Equipment.U||(Equipment=null);if(Equipment&&
!l)break;if(!Equipment&&l)break;break;case 2:null==Skills||Skills.U||(Skills=null)}break;case "Is Player Inventory Space":if(d&&d["Is Player Inventory Space"])break;for(var m=h[k].data.space?h[k].data.space:0,n=0,p=0;40>p;p++)f.stored[p]||n++;if(n<m)break;break;case "Has Player Item":if(d&&d["Has Player Item"])break;if(h[k].data.item){var m=h[k].data.amount?h[k].data.amount:0,n=0,l=ObjectLists.Bf()[h[k].data.item].name,q;for(q in f.stored)f.stored[q]&&f.stored[q].name==l&&n++;if(n<m)break}break;case "Is Player Statistics":if(d&&
d["Is Player Statistics"])break;h[k].data.levelUpper||(h[k].data.levelUpper=0);h[k].data.levelLower||(h[k].data.levelLower=0);h[k].data.healthUpper||(h[k].data.healthUpper=0);h[k].data.healthLowe||(h[k].data.healthLower=0);h[k].data.xpUpper||(h[k].data.xpUpper=0);h[k].data.xpLower||(h[k].data.xpLower=0)}h=e[g].responses;for(k=0;k<h.length;k++)switch(h[k].type){case "Equip Item":if(d&&d["Equip Item"])break;l=h[k].data.equip;"bothArms"==l&&(l="lArm",f.equipped.rArm||(l="rArm"));m=null;f.equipped[l]&&
(m=G(f.equipped[l]),Qa("On Dequip",m));f.equipped[l]=G(c);c=m;Inventory&&Inventory.zb();Equipment&&Equipment.zb();break;case "Give /Take Item":if(d&&d["Give /Take Item"])break;if(!h[k].data.amount||null==h[k].data.item||"undefined"==h[k].data.item)break;l=ObjectLists.Bf()[h[k].data.item];if(0<h[k].data.amount){m=h[k].data.amount;if(!0==l.stackable){for(p=0;40>p;p++)f.stored[p]&&f.stored[p].name==l.name&&(m=0);0!=n&&(m=1)}else for(p=n=0;40>p;p++)f.stored[p]||n++;if(n<m)break;else if(!0==l.stackable){m=
!1;for(p=0;40>p;p++)if(f.stored[p]&&f.stored[p].name==l.name){f.stored[p].amount+=h[k].data.amount;Inventory&&Inventory.oi(p,f.stored[p].amount);m=!0;break}if(!1==m)for(p=0;40>p;p++)if(!f.stored[p]){f.stored[p]=G(l);f.stored[p].amount=h[k].data.amount;Inventory&&Inventory.oi(p,f.stored[p].amount);break}}else for(m=0;m<h[k].data.amount;m++)for(p=0;40>p;p++)if(!f.stored[p]){f.stored[p]=G(l);break}}else if(0>h[k].data.amount){m=Math.abs(h[k].data.amount);n=0;l=l.name;for(p in f.stored)f.stored[p]&&f.stored[p].name==
l&&n++;if(n<m)break;else for(m=0;m<Math.abs(h[k].data.amount);m++)for(p in f.stored)if(f.stored[p]&&f.stored[p].name==l){console.log("gettin rid"+m);user.stored[p]=null;break}}Inventory&&Inventory.zb();Equipment&&Equipment.zb();break;case "Modify Player Stats":if(d&&d["Modify Player Stats"])break;ObjectLists.Zi()[h[k].data.skill]&&(l=ObjectLists.Zi()[h[k].data.skill].name,H.GJ(l,h[k].data.level),H.FJ(l,h[k].data.health),H.HJ(l,h[k].data.xp));break;case "Warp Player":if(d&&d["Warp Player"])break;l=
h[k].data.index%U;m=Math.floor(h[k].data.index/U);A.w.ba.m(32*l,32*m);I({changemap:h[k].data.mapnum,setTo:h[k].data.index});F.Ip(h[k].data.mapnum);F.Jp(32*l,32*m);break;case "Read Item":if(d&&d["Read Item"])break;R.aY(c.name,h[k].data.say);break;case "Open/Close Panel":if(d&&d["Open/Close Panel"])break;l=1==h[k].data.visible?!0:!1;switch(h[k].data.panel){case 0:null==Inventory||Inventory.U||(Inventory=null);!0==l?Inventory?Inventory.zb():(Inventory=new InventoryPanel,Inventory.r(),Inventory.oa(),
R.f(Inventory)):Inventory&&(Inventory.ya(),Inventory.N(),Inventory=null);break;case 1:null==Equipment||Equipment.U||(Equipment=null);!0==l?Equipment?Equipment.zb():(Equipment=new EquipmentPanel,Equipment.r(),Equipment.oa(),R.f(Equipment)):Equipment&&(Equipment.ya(),Equipment.N(),Equipment=null);break;case 2:null==Skills||Skills.U||(Skills=null),!0==l?Skills?Skills.zb():(Skills=new SkillsPanel,Skills.r(),Skills.oa(),R.f(Skills)):Skills&&(Skills.ya(),Skills.N(),Skills=null)}break;case "Destroy":if(d&&
d.Destroy)break;c=null;tile.Fs().temp?I({pickupitem:V(gp.x,gp.y),mapnumber:F.td(),temp:!0}):I({pickupitem:V(gp.x,gp.y),mapnumber:F.td()});Inventory&&Inventory.zb();k=h.length}}})}
function Ra(a,c){R.Dc(function(){var d=[],e=A.w.ba.items;c&&c.Na&&(d=ObjectLists.Yi()[c.Na].data);for(var f=0;f<d.length;f++)if(d[f].type==a)for(var g=d[f].responses,h=0;h<g.length;h++){switch(g[h].type){case "Is Panel Visibility":var k=1==g[h].data.visible?!0:!1;switch(g[h].data.panel){case 0:null==Inventory||Inventory.U||(Inventory=null);if(Inventory&&!k)break;if(!Inventory&&k)break;break;case 1:null==Equipment||Equipment.U||(Equipment=null);if(Equipment&&!k)break;if(!Equipment&&k)break;break;case 2:null==
Skills||Skills.U||(Skills=null)}break;case "Is Player Inventory Space":for(var l=g[h].data.space?g[h].data.space:0,m=0,n=0;40>n;n++)e.stored[n]||m++;if(m<l)break;break;case "Has Player Item":if(g[h].data.item){var l=g[h].data.amount?g[h].data.amount:0,m=0,k=ObjectLists.Bf()[g[h].data.item].name,p;for(p in e.stored)e.stored[p]&&e.stored[p].name==k&&m++;if(m<l)break}break;case "Is Player Statistics":g[h].data.levelUpper||(g[h].data.levelUpper=0),g[h].data.levelLower||(g[h].data.levelLower=0),g[h].data.healthUpper||
(g[h].data.healthUpper=0),g[h].data.healthLowe||(g[h].data.healthLower=0),g[h].data.xpUpper||(g[h].data.xpUpper=0),g[h].data.xpLower||(g[h].data.xpLower=0)}g=d[f].responses;for(h=0;h<g.length;h++)switch(g[h].type){case "Talk":R.rL(c,d,parseInt(f),c.name,g[h].data.say,g[h].data.options);break;case "Give /Take Item":if(!g[h].data.amount||null==g[h].data.item||"undefined"==g[h].data.item)break;k=ObjectLists.Bf()[g[h].data.item];if(0<g[h].data.amount){l=g[h].data.amount;if(!0==k.stackable){for(n=0;40>
n;n++)e.stored[n]&&e.stored[n].name==k.name&&(l=0);0!=m&&(l=1)}else for(n=m=0;40>n;n++)e.stored[n]||m++;if(m<l)break;else if(!0==k.stackable){l=!1;for(n=0;40>n;n++)if(e.stored[n]&&e.stored[n].name==k.name){e.stored[n].amount+=g[h].data.amount;Inventory&&Inventory.oi(n,e.stored[n].amount);l=!0;break}if(!1==l)for(n=0;40>n;n++)if(!e.stored[n]){e.stored[n]=G(k);e.stored[n].amount=g[h].data.amount;Inventory&&Inventory.oi(n,e.stored[n].amount);break}}else for(l=0;l<g[h].data.amount;l++)for(n=0;40>n;n++)if(!e.stored[n]){e.stored[n]=
G(k);break}}else if(0>g[h].data.amount){l=Math.abs(g[h].data.amount);m=0;k=k.name;for(n in e.stored)e.stored[n]&&e.stored[n].name==k&&m++;if(m<l)break;else for(l=0;l<Math.abs(g[h].data.amount);l++)for(n in e.stored)if(e.stored[n]&&e.stored[n].name==k){console.log("gettin rid"+l);user.stored[n]=null;break}}Inventory&&Inventory.zb();Equipment&&Equipment.zb();break;case "Modify Player Stats":ObjectLists.Zi()[g[h].data.skill]&&(k=ObjectLists.Zi()[g[h].data.skill].name,H.GJ(k,g[h].data.level),H.FJ(k,g[h].data.health),
H.HJ(k,g[h].data.xp));break;case "Warp Player":k=g[h].data.index%U;l=Math.floor(g[h].data.index/U);A.w.ba.m(32*k,32*l);I({changemap:g[h].data.mapnum,setTo:g[h].data.index});F.Ip(g[h].data.mapnum);F.Jp(32*k,32*l);break;case "Open/Close Panel":switch(k=1==g[h].data.visible?!0:!1,g[h].data.panel){case 0:null==Inventory||Inventory.U||(Inventory=null);!0==k?Inventory?Inventory.zb():(Inventory=new InventoryPanel,Inventory.r(),Inventory.oa(),R.f(Inventory)):Inventory&&(Inventory.ya(),Inventory.N(),Inventory=
null);break;case 1:null==Equipment||Equipment.U||(Equipment=null);!0==k?Equipment?Equipment.zb():(Equipment=new EquipmentPanel,Equipment.r(),Equipment.oa(),R.f(Equipment)):Equipment&&(Equipment.ya(),Equipment.N(),Equipment=null);break;case 2:null==Skills||Skills.U||(Skills=null),!0==k?Skills?Skills.zb():(Skills=new SkillsPanel,Skills.r(),Skills.oa(),R.f(Skills)):Skills&&(Skills.ya(),Skills.N(),Skills=null)}}}})};var v=r.Ea.extend({w:null,wb:function(a){return(a=s.localStorage.getItem("last_"+a))?a:null},ok:function(a,c){return(c=s.localStorage.setItem("last_"+a,c))?c:null}}),W=null;v.By=function(){W||(W=new v);return W};v.e=function(){return W};v.yX=function(a,c){var d=s.localStorage.getItem("panelStore");"null"==d||null==d?(console.log("NEW PANEL STORE"),d={}):d=JSON.parse(d);d[a]={x:c.x,y:c.y};s.localStorage.setItem("panelStore",JSON.stringify(d))};v.lT=function(){return s.localStorage.getItem("panelStore")};
v.aT=function(a){if(W.wb("maps")){if(a){var c=JSON.parse(s.localStorage.getItem("map_data"));return c[a]?c[a]:null}}else return[]};v.KL=function(a,c){W.ok("maps",c);s.localStorage.setItem("map_data",JSON.stringify(a))};v.ER=function(a,c,d){var e=W.wb("maps")?JSON.parse(s.localStorage.getItem("map_data")):[];e[a]=c;v.KL(e,d)};v.ff=function(){if(W.wb("scripts")){if(""!=s.localStorage.getItem("scripts_data"))var a=JSON.parse(s.localStorage.getItem("scripts_data"));return a?a:[]}return[]};
v.PL=function(a,c){W.ok("scripts",c);s.localStorage.setItem("scripts_data",JSON.stringify(a))};v.JR=function(a,c,d){var e=W.wb("scripts")?""!=s.localStorage.getItem("scripts_data")?JSON.parse(s.localStorage.getItem("scripts_data")):[]:[];e[a]=c;v.PL(e,d)};v.QV=function(a,c){scriptarray=a;v.ly(scriptarray,c)};v.GT=function(){if(W.wb("warps")){if(""!=s.localStorage.getItem("warps_data"))var a=JSON.parse(s.localStorage.getItem("warps_data"));return a?a:[]}return[]};
v.ly=function(a,c){W.ok("warps",c);s.localStorage.setItem("warps_data",JSON.stringify(a))};v.NR=function(a,c,d){var e=W.wb("warps")?""!=s.localStorage.getItem("warps_data")?JSON.parse(s.localStorage.getItem("warps_data")):[]:[];e[a]=c;v.ly(e,d)};v.TV=function(a,c){warparray=a;v.ly(warparray,c)};v.ZS=function(){if(W.wb("items")){if(""!=s.localStorage.getItem("items_data"))var a=JSON.parse(s.localStorage.getItem("items_data"));return a?a:[]}return[]};
v.tt=function(a,c){W.ok("items",c);s.localStorage.setItem("items_data",JSON.stringify(a))};v.DR=function(a,c,d){var e=W.wb("items")?""!=s.localStorage.getItem("items_data")?JSON.parse(s.localStorage.getItem("items_data")):[]:[];e[a]=c;v.tt(e,d)};v.NV=function(a,c){itemsarray=a;v.tt(itemsarray,c)};v.xT=function(){if(W.wb("skills")){if(""!=s.localStorage.getItem("skills_data"))var a=JSON.parse(s.localStorage.getItem("skills_data"));return a?a:[]}return[]};
v.rE=function(a,c){W.ok("skills",c);s.localStorage.setItem("skills_data",JSON.stringify(a))};v.LR=function(a,c,d){var e=W.wb("skills")?""!=s.localStorage.getItem("skills_data")?JSON.parse(s.localStorage.getItem("skills_data")):[]:[];e[a]=c;v.rE(e,d)};v.SV=function(a,c){skillarray=a;v.rE(skillarray,c)};v.vT=function(){if(W.wb("signs")){if(""!=s.localStorage.getItem("signs_data"))var a=JSON.parse(s.localStorage.getItem("signs_data"));return a?a:[]}return[]};
v.ky=function(a,c){W.ok("signs",c);s.localStorage.setItem("signs_data",JSON.stringify(a))};v.KR=function(a,c,d){var e=W.wb("signs")?""!=s.localStorage.getItem("signs_data")?JSON.parse(s.localStorage.getItem("signs_data")):[]:[];e[a]=c;v.ky(e,d)};v.RV=function(a,c){signarray=a;v.ky(signarray,c)};v.gT=function(){if(W.wb("npcs")){if(""!=s.localStorage.getItem("npcs_data"))var a=JSON.parse(s.localStorage.getItem("npcs_data"));return a?a:[]}return[]};
v.LL=function(a,c){W.ok("npcs",c);s.localStorage.setItem("npcs_data",JSON.stringify(a))};v.FR=function(a,c,d){var e=W.wb("npcs")?""!=s.localStorage.getItem("npcs_data")?JSON.parse(s.localStorage.getItem("npcs_data")):[]:[];e[a]=c;v.LL(e,d)};v.OV=function(a,c){npcsarray=a;v.ky(npcsarray,c)};v.pT=function(){if(W.wb("quests")){if(""!=s.localStorage.getItem("quests_data"))var a=JSON.parse(s.localStorage.getItem("quests_data"));return a?a:[]}return[]};
v.pE=function(a,c){W.ok("quests",c);s.localStorage.setItem("quests_data",JSON.stringify(a))};v.IR=function(a,c,d){var e=W.wb("quests")?""!=s.localStorage.getItem("quests_data")?JSON.parse(s.localStorage.getItem("quests_data")):[]:[];e[a]=c;v.pE(e,d)};v.PV=function(a,c){questsarray=a;v.pE(questsarray,c)};v.CC=function(){if(W.wb("settings")){if(""!=s.localStorage.getItem("settings_data"))var a=JSON.parse(s.localStorage.getItem("settings_data"));return a?a:[]}return[]};
v.qE=function(a,c){W.ok("settings",c);s.localStorage.setItem("settings_data",JSON.stringify(a))};
v.nZ=function(){s.localStorage.setItem("map_data",[]);s.localStorage.setItem("last_maps",0);s.localStorage.setItem("warps_data",[]);s.localStorage.setItem("last_warps",0);s.localStorage.setItem("items_data",[]);s.localStorage.setItem("last_items",0);s.localStorage.setItem("skills_data",[]);s.localStorage.setItem("last_skills",0);s.localStorage.setItem("signs_data",[]);s.localStorage.setItem("last_signs",0);s.localStorage.setItem("npcs_data",[]);s.localStorage.setItem("last_npcs",0);s.localStorage.setItem("quests_data",
[]);s.localStorage.setItem("last_quests",0);s.localStorage.setItem("settings_data",[]);s.localStorage.setItem("last_settings",0);s.localStorage.setItem("scripts_data",[]);s.localStorage.setItem("last_scripts",0);s.localStorage.setItem("panelStore",null)};
v.vN=function(){I({sync:!0,mapupdate:null!=W.wb("maps")?W.wb("maps"):2,warpupdate:null!=W.wb("warps")?W.wb("warps"):2,itemupdate:null!=W.wb("items")?W.wb("items"):2,skillsupdate:null!=W.wb("skills")?W.wb("skills"):2,signsupdate:null!=W.wb("signs")?W.wb("signs"):2,npcsupdate:null!=W.wb("npcs")?W.wb("npcs"):2,questsupdate:null!=W.wb("quests")?W.wb("quests"):2,settingsupdate:null!=W.wb("settings")?W.wb("settings"):2,scriptsupdate:null!=W.wb("scripts")?W.wb("scripts"):2})};
v.lX=function(a){!0!=a&&!1!=a||s.localStorage.setItem("mapedit_saveonexit",a)};v.bT=function(){return null==s.localStorage.getItem("mapedit_saveonexit")?!1:s.localStorage.getItem("mapedit_saveonexit")};v.HX=function(a,c){s.localStorage.setItem("savedcredentials",JSON.stringify({user:a,pass:c}))};v.AK=function(a){s.localStorage.setItem("autologin",JSON.stringify(a))};v.oJ=function(){var a=s.localStorage.getItem("autologin");return null!=a?JSON.parse(a):!1};
v.uJ=function(){return s.localStorage.getItem("savedcredentials")?!0:!1};v.BT=function(){var a=s.localStorage.getItem("savedcredentials");return a?JSON.parse(a):!1};ListView=r.Gh.extend({tl:null,k:null,Ew:null,kx:!1,ni:null,Cn:null,zL:null,DD:function(){if(this.k){this.Cn&&(this.Cn.N(),this.ni.N());var a=this.k.sd();a.height<this.k.c().height&&(a=this.k.c(),this.kx=!0);this.tl=[];for(var c=0,d=0;d<this.k.ad();d++){var e=this.k.Fd(d),c=c+e.height;this.tl[d]=r.D.create();this.tl[d].V(e);this.tl[d].m(r.a(0,a.height-c));this.tl[d].G(r.a(0,1));this.f(this.tl[d]);this.tl[d].f(this.k.Ed(d))}this.jq(-300);this.$D(0);!1==this.kx&&(this.Cn=r.ca.create(r.i(0,0,0,255),1,
this.k.c().height),this.Cn.m(r.a(this.k.c().width+20,0)),this.ni=r.ca.create(r.i(90,90,255,255),20,this.k.c().height/5),this.ni.m(r.a(this.k.c().width+10,0)),this.k.f(this.Cn),this.k.f(this.ni),this.Gl(r.a(0,this.Vs().y),!1));this.k.m(this.zL)}},r:function(a){this.k=a;this.G(r.a(0,0));this.zL=r.a(a.q.F,a.q.K);this.Pp(this.k.c(),this.k);this.IK(r.yq);this.MW(!1);a=this.k.sd();var c=r.D.create();c.V(a);this.QW(c)},Id:function(a){this.Ew=a},JD:!1,Gx:null,sc:function(a){if(!this.k.di)return!1;for(var c=
0;c<this.k.ad();c++)this.k.di(c).n(r.i(255,255,255,255));this.k.di(a).n(r.i(255,0,0,255))},jb:function(a){for(var c=a.J,d=0;d<this.k.ad();d++)for(var e in this.Ew[d]){var f=this.tl[d].Ia(c),g=this.k.Ia(c);g.x+=this.k.q.F;Q(this.k,g);if(Q(this.Ew[d][e],f))return this.k.kc(this.Ew[d][e].Zb,d,a),this.JD=!0}if(!1==this.kx){a=this.k.Ia(c);if(Q(this.ni,a))return this.Gx=a.y-this.ni.q.K,!0;console.log("TURNING OFF SCROLOL");this.Gx=null}},ud:function(a){if(!0==this.JD)return this.JD=!1;if(!1==this.kx){var c=
a.J;if(null!=this.Gx&&(c=this.k.Ia(c),c.y-=this.Gx,0<=c.y&&c.y+this.ni.c().height<=this.k.c().height))return a=c.y/(this.Cn.c().height-this.ni.c().height),this.Gl(r.a(0,this.jn().y*a),!1),this.ni.Pc(c.y),!0;c=this._super(a);a=this.CI().y/this.jn().y;this.ni.Pc((this.Cn.c().height-this.ni.c().height)*a);return c}}});ListView.create=function(a){var c=new ListView;c.r(a);c.DD();return c};var Oa=r.D.extend({ze:null,Ae:null,Be:null,Fe:null,Ge:null,Rd:null,item:null,qe:null,re:null,te:null,se:null,position:null,lf:null,type:null,Na:null,ctor:function(){this._super()},r:function(){this._super();this.lf=r.Q.create("","Arial",16);this.lf.G(0.5,0.5);this.lf.m(16,-16);this.lf.ra(0);this.lf.n(r.l(0,0,0));this.f(this.lf,900);this.item=[];this.Na=[];this.kj(0)},fR:function(a){this.pk(a.sprite.texture,a.sprite.position,"item");for(var c=0;c<ObjectLists.Bf().length;c++)if(a.name==ObjectLists.Bf()[c].name){this.Rx({id:c,
data:{amount:a.amount}},!0);break}this.kj(4)},rD:function(){this.Na[this.Na.length-1].temp&&(this.item[this.item.length-1].N(),this.item.splice(this.item.length-1,1),this.uV())},pk:function(a,c,d){a=r.v.eb(r.ga.e().qa(a));a.Tb(r.rect(Math.floor(32*c.x),Math.floor(32*c.y),32,32));a.n(r.i(255,255,255,255));a.G(0,1);switch(d){case "ground1":null!=this.ze&&this.ze.N();this.ze=a;this.f(this.ze);break;case "ground2":null!=this.Ae&&this.Ae.N();this.Ae=a;this.f(this.Ae,1);break;case "groundShadow":null!=
this.Be&&this.Be.N();this.Be=a;this.f(this.Be,2);break;case "mask1":null!=this.Fe&&this.Fe.N();this.Fe=a;this.f(this.Fe,3);break;case "mask2":null!=this.Ge&&this.Ge.N();this.Ge=a;this.f(this.Ge,4);break;case "mask3":null!=this.Rd&&this.Rd.N();this.Rd=a;this.f(this.Rd,5);break;case "item":this.item.push(a);this.f(this.item[this.item.length-1],6);break;case "fringe1":null!=this.qe&&this.qe.N();this.qe=a;this.f(this.qe,7);break;case "fringe2":null!=this.re&&this.re.N();this.re=a;this.f(this.re,8);break;
case "fringeShadow":null!=this.te&&this.te.N();this.te=a;this.f(this.te,9);break;case "fringe3":null!=this.se&&this.se.N(),this.se=a,this.f(this.se,10)}},Lg:function(){var a=!0;if(null!=this.ze&&this.ze.aa()&&!1==this.ze.aa().uc)a=!1;else if(null!=this.Ae&&this.Ae.aa()&&!1==this.Ae.aa().uc)a=!1;else if(null!=this.Be&&this.Be.aa()&&!1==this.Be.U6)a=!1;else if(null!=this.Fe&&this.Fe.aa()&&!1==this.Fe.aa().uc)a=!1;else if(null!=this.Ge&&this.Ge.aa()&&!1==this.Ge.aa().uc)a=!1;else if(null!=this.Rd&&this.Rd.aa()&&
!1==this.Rd.aa().uc)a=!1;else if(0<this.item.length)for(var c in this.item)this.item[c].aa()&&!1==this.item[c].aa().uc&&(a=!1);else null!=this.qe&&this.qe.aa()&&!1==this.qe.aa().uc?a=!1:null!=this.re&&this.re.aa()&&!1==this.re.aa().uc?a=!1:null!=this.te&&this.te.aa()&&!1==this.te.aa().uc?a=!1:null!=this.se&&this.se.aa()&&!1==this.se.aa().uc&&(a=!1);return a},Cd:function(){null!=this.ze&&this.ze.N();this.ze=null;null!=this.Ae&&this.Ae.N();this.Ae=null;null!=this.Be&&this.Be.N();this.Be=null;null!=
this.Fe&&this.Fe.N();this.Fe=null;null!=this.Ge&&this.Ge.N();this.Ge=null;null!=this.Rd&&this.Rd.N();this.Rd=null;for(var a=0;a<this.item.length;a++)this.item[a].N();this.item=[];this.Rd=null;null!=this.qe&&this.qe.N();this.qe=null;null!=this.re&&this.re.N();this.re=null;null!=this.te&&this.te.N();this.te=null;null!=this.se&&this.se.N();this.se=null;this.kj(0);this.Na=[];this.item=[]},mC:function(a){switch(a){case "ground1":null!=this.ze&&this.ze.N();this.ze=null;break;case "ground2":null!=this.Ae&&
this.Ae.N();this.Ae=null;break;case "groundShadow":null!=this.Be&&this.Be.N();this.Be=null;break;case "mask1":null!=this.Fe&&this.Fe.N();this.Fe=null;break;case "mask2":null!=this.Ge&&this.Ge.N();this.Ge=null;break;case "mask3":null!=this.Rd&&this.Rd.N();this.Rd=null;break;case "item":for(a=0;a<this.item.length;a++)this.item[a].N(),this.item[a].splice(a,1),a--;this.item=[];break;case "fringe1":null!=this.qe&&this.qe.N();this.qe=null;break;case "fringe2":null!=this.re&&this.re.N();this.re=null;break;
case "fringeShadow":null!=this.te&&this.te.N();this.te=null;break;case "fringe3":null!=this.se&&this.se.N(),this.se=null}},kj:function(a){this.type=a;switch(this.type){case 0:this.lf.ha("");break;case 1:this.lf.ha("BLK");break;case 2:this.lf.ha("SPW");break;case 3:this.lf.ha("WRP");break;case 4:this.lf.ha("ITM");break;case 5:this.lf.ha("NPC");break;case 6:this.lf.ha("SKL");break;case 7:this.lf.ha("SGN")}},Rx:function(a,c){c||(c=!1);this.Na.push({num:parseInt(a.id),data:a.data,temp:c})},uV:function(){this.Na.splice(this.Na.length-
1,1);0==this.Na.length&&this.kj(0)},Fs:function(){return this.Na[this.Na.length-1]},Hp:function(){switch(this.type){case 3:return ObjectLists.dn()[this.Na[this.Na.length-1].num];case 4:var a=ObjectLists.Bf()[this.Na[this.Na.length-1].num];a.amount=parseInt(this.Na[this.Na.length-1].data.amount);return a;case 7:return ObjectLists.Gs()[this.Na[this.Na.length-1].num];case 5:return ObjectLists.ol()[this.Na[this.Na.length-1].num]}},ff:function(){switch(this.type){case 3:return ObjectLists.dn()[this.Na[this.Na.length-
1].num]?ObjectLists.dn()[this.Na[this.Na.length-1].num]:null;case 4:return ObjectLists.Bf()[this.Na[this.Na.length-1].num]?ObjectLists.Bf()[this.Na[this.Na.length-1].num]:null;case 5:return ObjectLists.ol()[this.Na[this.Na.length-1].num]?ObjectLists.ol()[this.Na[this.Na.length-1].num]:null}},MX:function(a){this.lf.ra(!0==a?255:0)},rc:function(){return this.type}});Oa.By=function(a,c){var d=new Oa;d.r();d.position=r.a(a,c);return d};StatsController=r.v.extend({data:null,hx:null,k:null,r:function(a,c){this.data=a;this.k=c;this.yW()},update:function(){for(var a in this.data)this.hx&&(0==this.data[a].value&&0<this.hx[a]&&this.k.Pca(a),this.data[a].Oc>this.hx[a].Oc&&this.k.Rca(a)),this.hx[a]=this.data[a]},M6:function(a){return this.data[a].value},L6:function(a){return this.data[a].Oc},r9:function(a,c){this.data[a].value+=c;this.data[a].value>this.data[a].bg&&(this.data[a].value=this.data[a].bg);0>this.data[a].value&&(this.data[a].value=
0)},MR:function(a,c){this.data[a].value=c;this.data[a].value>this.data[a].bg&&(this.data[a].value=this.data[a].bg);0>this.data[a].value&&(this.data[a].value=0)},q9:function(a,c){this.data[a].Oc+=c;this.data[a].Oc>this.data[a].ag&&(this.data[a].Oc=this.data[a].ag);0>this.data[a].Oc&&(this.data[a].Oc=0)},MR:function(a,c){this.data[a].Oc=c;this.data[a].Oc>this.data[a].ag&&(this.data[a].Oc=this.data[a].ag);0>this.data[a].Oc&&(this.data[a].Oc=0)},D2:function(a,c){this.data[a].ag=c},E2:function(a,c){this.data[a].bg=
c}});ObjectLists=r.Ea.extend({zE:null,eD:null,fE:null,eE:null,iD:null,vD:null,MD:null});var X;ObjectLists.e=function(){X||(X=new ObjectLists,X.zE=v.GT(),X.eD=v.ZS(),X.fE=v.xT(),X.eE=v.vT(),X.iD=v.gT(),X.vD=v.pT(),X.MD=v.ff());return X};ObjectLists.dn=function(){return X.zE};ObjectLists.TX=function(a){X.zE=a};ObjectLists.Bf=function(){return X.eD};ObjectLists.iX=function(a){X.eD=a};ObjectLists.Zi=function(){return X.fE};ObjectLists.LX=function(a){X.fE=a};ObjectLists.Gs=function(){return X.eE};
ObjectLists.KX=function(a){X.eE=a};ObjectLists.ol=function(){return X.iD};ObjectLists.qX=function(a){X.iD=a};ObjectLists.Es=function(){return X.vD};ObjectLists.FX=function(a){X.vD=a};ObjectLists.Yi=function(){return X.MD};ObjectLists.JX=function(a){X.MD=a};gameMapInstance=null;
var F=r.Sc.extend({Wd:null,u:null,Mg:!1,On:null,rn:null,sD:null,en:null,xl:null,ul:null,vl:null,wl:null,P:r.a(0,0),Ui:1,vC:function(a,c){function d(a,c){return{kN:a,value:c.x+c.y*U,x:c.x,y:c.y,Rw:0,o:0}}function e(a,c){var d=c-1,e=c+1,g=a+1,h=a-1,k=-1<d&&f.u["tile"+V(a,d)]&&1!=f.u["tile"+V(a,d)].rc()&&7!=f.u["tile"+V(a,d)].rc();myS=e<U&&f.u["tile"+V(a,e)]&&1!=f.u["tile"+V(a,e)].rc()&&7!=f.u["tile"+V(a,e)].rc();myE=g<U&&f.u["tile"+V(g,c)]&&1!=f.u["tile"+V(g,c)].rc()&&7!=f.u["tile"+V(g,c)].rc();myW=
-1<h&&f.u["tile"+V(h,c)]&&1!=f.u["tile"+V(h,c)].rc()&&7!=f.u["tile"+V(h,c)].rc();result=[];k&&result.push({x:a,y:d});myE&&result.push({x:g,y:c});myS&&result.push({x:a,y:e});myW&&result.push({x:h,y:c});return result}for(var f=this,g=d(null,c),h,k,l,m,n,p=[],q=[],u=[d(null,a)],w=Array(Pa*U);h=u.length;){k=Pa*U;l=-1;for(m=0;m<h;m++)u[m].Rw<k&&(k=u[m].Rw,l=m);k=u.splice(l,1)[0];if(k.value===g.value){l=q[q.push(k)-1];do p.push(r.a(l.x,l.y));while(l=l.kN);w=q=u=[];p.reverse()}else{h=e(k.x,k.y);m=0;for(n=
h.length;m<n;m++)l=d(k,h[m]),w[l.value]||(l.o=k.o+(Math.abs(h[m].x-k.x)+Math.abs(h[m].y-k.y)),l.Rw=l.o+(Math.abs(h[m].x-g.x)+Math.abs(h[m].y-g.y)),u.push(l),w[l.value]=!0);q.push(k)}}return p},XX:function(a){this.Wd={};this.Wd.mapdata={};for(var c in this.u)"tile"==c.substring(0,4)&&(this.u[c].Cd(),this.Wd[c]={});if(a)for(c in this.Wd=a,a)if("tile"==c.substring(0,4))for(var d in a[c])"info"!=d?null!=a[c][d]&&this.u[c].pk(a[c][d].texture,a[c][d].frame,d):(this.u[c].kj(a[c][d].type),a[c][d].script&&
this.u[c].Rx(a[c][d].script),4==a[c][d].type&&this.u[c].ff()&&this.u[c].pk(this.u[c].ff().sprite.texture,this.u[c].ff().sprite.position,"item"),5==a[c][d].type&&this.u[c].ff()&&A.KH(this.u[c].ff(),r.a(this.u[c].q.x/32,this.u[c].q.y/32),this.Ui));else"mapdata"==c&&(this.xl=""!=a[c].mapConnectors.up&&null!=a[c].mapConnectors.up?a[c].mapConnectors.up:null,this.ul=""!=a[c].mapConnectors.down&&null!=a[c].mapConnectors.down?a[c].mapConnectors.down:null,this.vl=""!=a[c].mapConnectors.left&&null!=a[c].mapConnectors.left?
a[c].mapConnectors.left:null,this.wl=""!=a[c].mapConnectors.right&&null!=a[c].mapConnectors.right?a[c].mapConnectors.right:null);this.$b(this.xD)},Kl:function(a){console.log("SETTING UP "+a);A.e().B(!1);a=v.aT(a);this.Wd={};this.Wd.mapdata={};for(var c in this.u)"tile"==c.substring(0,4)&&(this.u[c].Cd(),this.Wd[c]={});if(a)for(c in this.Wd=a,a)if("tile"==c.substring(0,4))for(var d in a[c])"info"!=d?null!=a[c][d]&&this.u[c].pk(a[c][d].texture,a[c][d].frame,d):(this.u[c].kj(a[c][d].type),a[c][d].script&&
this.u[c].Rx(a[c][d].script),4==a[c][d].type&&this.u[c].ff()&&this.u[c].pk(this.u[c].ff().sprite.texture,this.u[c].ff().sprite.position,"item"),5==a[c][d].type&&this.u[c].ff()&&A.KH(this.u[c].ff(),r.a(this.u[c].q.x/32,this.u[c].q.y/32),this.Ui));else"mapdata"==c&&(this.xl=""!=a[c].mapConnectors.up&&null!=a[c].mapConnectors.up?a[c].mapConnectors.up:null,this.ul=""!=a[c].mapConnectors.down&&null!=a[c].mapConnectors.down?a[c].mapConnectors.down:null,this.vl=""!=a[c].mapConnectors.left&&null!=a[c].mapConnectors.left?
a[c].mapConnectors.left:null,this.wl=""!=a[c].mapConnectors.right&&null!=a[c].mapConnectors.right?a[c].mapConnectors.right:null);this.$b(this.xD)},xD:function(){for(var a in this.u)if("tile"==a.substring(0,4)&&!1==this.u[a].Lg())return;A.e().B(!0);A.sk();this.Rc(this.xD);this.rn.B(!0);this.On.B(!0);this.Mg=!0},Cc:function(){for(var a={},c=0;c<U;c++)for(var d=0;d<Pa;d++)a["tile"+(c+d*U)]={size:r.size(32,32),d:r.a(0,0),position:r.a(32*c,32*(Pa-d)),wU:!0,tY:r.a(d,c),visible:!1};return{panels:{children:a}}},
r:function(){this.Wb(!0);this.$D(1)},jb:function(a){!this.en||Mapeditor&&Mapeditor.U||(this.en=Mapeditor=null);if(this.en)for(var c in this.u)"tile"==c.substring(0,4)&&r.bb(this.u[c].Ya(),r.a(a.J.x-this.P.x,a.J.y+32-this.P.y))&&(this.en.FL(this.u,c),F.vt());else for(c in this.u)if("tile"==c.substring(0,4)&&r.bb(this.u[c].Ya(),r.a(a.J.x-this.P.x,a.J.y+32-this.P.y)))if(4==this.u[c].rc()){var d=z["Item Dropdown Pick Up"]+"",e=z["Item Dropdown Walk To"]+"",d=d.replace("\x3cITEM\x3e",this.u[c].ff().name),
e=e.replace("\x3cITEM\x3e",this.u[c].ff().name);this.U.f(DropDownList.qd(this,this.zU,[d,e],a.J));this.Eg=c}else 7==this.u[c].rc()?(d=z["Sign Dropdown list Read"]+"",d=d.replace("\x3cSIGN\x3e",this.u[c].Hp().name),this.U.f(DropDownList.qd(this,this.eY,[d],a.J)),this.Eg=c):1!=this.u[c].rc()&&7!=this.u[c].rc()&&4!=this.u[c].rc()&&(d=A.w.ba.we(),A.w.ba.cE(this.vC(r.a(Math.floor(d.x),Math.ceil(d.y)),r.a(this.u[c].q.x/32,this.u[c].q.y/32))));return!0},Eg:null,zU:function(a){if(null!=this.k.Eg){var c=A.w.ba.we(),
d=r.a(gameMapInstance.u[gameMapInstance.Eg].q.x/32,gameMapInstance.u[gameMapInstance.Eg].q.y/32);switch(a){case 0:a=c.x>d.x?c.x-d.x:d.x-c.x;c=c.y>d.y?c.y-d.y:d.y-c.y;5>Math.sqrt(a*a+c*c)?A.w.ba.kJ(gameMapInstance.u[gameMapInstance.Eg]):(c=z["Item Out-of-range"]+"",c=c.replace("\x3cITEM\x3e",this.k.u[gameMapInstance.Eg].ff().name),C.Nb(c));break;case 1:A.w.ba.cE(gameMapInstance.vC(r.a(Math.floor(c.x),Math.ceil(c.y)),d)),this.k.Eg=null}}},eY:function(a){if(null!=this.k.Eg){var c=A.w.ba.we(),d=r.a(gameMapInstance.u[gameMapInstance.Eg].q.x/
32,gameMapInstance.u[gameMapInstance.Eg].q.y/32);switch(a){case 0:a=c.x>d.x?c.x-d.x:d.x-c.x,c=c.y>d.y?c.y-d.y:d.y-c.y,5>Math.sqrt(a*a+c*c)?A.w.ba.kJ(gameMapInstance.u[gameMapInstance.Eg]):(c=z["Sign Out-of-range"]+"",c=c.replace("\x3cSIGN\x3e",this.k.u[gameMapInstance.Eg].Hp().name),C.Nb(c))}}},ud:function(a){if(this.en){for(var c in this.u)"tile"==c.substring(0,4)&&r.bb(this.u[c].Ya(),r.a(a.J.x-this.P.x,a.J.y+32-this.P.y))&&(this.en.FL(this.u,c,"moved"),F.vt());return!0}for(c in this.u)if("tile"==
c.substring(0,4)&&1!=this.u[c].rc()&&7!=this.u[c].rc()&&4!=this.u[c].rc()&&r.bb(this.u[c].Ya(),r.a(a.J.x-this.P.x,a.J.y+32-this.P.y))){var d=A.w.ba.we();A.w.ba.cE(this.vC(r.a(Math.floor(d.x),Math.ceil(d.y)),r.a(this.u[c].q.x/32,this.u[c].q.y/32)))}},sa:function(){this._super();if(!0==this.Mg){this.On.bC(0,0,0,0);for(var a in this.u)"tile"==a.substring(0,4)&&(this.u[a].B(!0),null!=this.u[a].qe&&this.u[a].qe.B(!1),null!=this.u[a].re&&this.u[a].re.B(!1),null!=this.u[a].te&&this.u[a].te.B(!1),null!=this.u[a].se&&
this.u[a].se.B(!1),this.u[a].sa(),null!=this.u[a].qe&&this.u[a].qe.B(!0),null!=this.u[a].re&&this.u[a].re.B(!0),null!=this.u[a].te&&this.u[a].te.B(!0),null!=this.u[a].se&&this.u[a].se.B(!0),this.u[a].B(!1));this.On.end();this.rn.bC(0,0,0,0);for(a in this.u)if("tile"==a.substring(0,4)){this.u[a].B(!0);null!=this.u[a].ze&&this.u[a].ze.B(!1);null!=this.u[a].Ae&&this.u[a].Ae.B(!1);null!=this.u[a].Be&&this.u[a].Be.B(!1);null!=this.u[a].Fe&&this.u[a].Fe.B(!1);null!=this.u[a].Ge&&this.u[a].Ge.B(!1);null!=
this.u[a].Rd&&this.u[a].Rd.B(!1);for(var c=0;c<this.u[a].item.length;c++)this.u[a].item[c].B(!1);this.u[a].sa();null!=this.u[a].ze&&this.u[a].ze.B(!0);null!=this.u[a].Ae&&this.u[a].Ae.B(!0);null!=this.u[a].Be&&this.u[a].Be.B(!0);null!=this.u[a].Fe&&this.u[a].Fe.B(!0);null!=this.u[a].Ge&&this.u[a].Ge.B(!0);null!=this.u[a].Rd&&this.u[a].Rd.B(!0);for(c=0;c<this.u[a].item.length;c++)this.u[a].item[c].B(!0);this.u[a].B(!1)}this.rn.end();this.Mg=!1}}});
F.iy=function(a,c){0<=gameMapInstance.P.x+(T.width-Y.width/2)+a&&A.w.ba.q.x<T.width-Y.width/2&&0>=gameMapInstance.P.x+a&&A.w.ba.q.x>Y.width/2&&(gameMapInstance.P.x+=a);0<=gameMapInstance.P.y+(T.height-Y.height/2)+c&&A.w.ba.q.y<T.height-Y.height/2&&0>=gameMapInstance.P.y+c&&A.w.ba.q.y>Y.height/2&&(gameMapInstance.P.y+=c);gameMapInstance.m(gameMapInstance.P.x,gameMapInstance.P.y)};
F.Jp=function(a,c){a=parseInt(a);c=parseInt(c);!0==gameMapInstance.Mg?0==offsetFromPositionScheduledX&&0==offsetFromPositionScheduledY&&(offsetFromPositionScheduledX=a,offsetFromPositionScheduledY=c,gameMapInstance.$b(F.wK)):(gameMapInstance.P.x=a>T.width-Y.width/2?-(T.width-Y.width):a<Y.width/2?0:-(a-Y.width/2),gameMapInstance.P.y=c>T.height-Y.height/2?-(T.height-Y.height):c<Y.height/2?0:-(c-Y.height/2),offsetFromPositionScheduledY=offsetFromPositionScheduledX=0,gameMapInstance.Rc(F.wK),gameMapInstance.m(gameMapInstance.P.x,
gameMapInstance.P.y))};offsetFromPositionScheduledY=offsetFromPositionScheduledX=0;F.wK=function(){F.Jp(offsetFromPositionScheduledX,offsetFromPositionScheduledY)};F.JC=function(){!0==gameMapInstance.Mg?gameMapInstance.$b(F.JC):(gameMapInstance.Rc(F.JC),gameMapInstance.P.x=-(T.width-Y.width),gameMapInstance.m(gameMapInstance.P.x,gameMapInstance.P.y))};
F.IC=function(){!0==gameMapInstance.Mg?gameMapInstance.$b(F.IC):(gameMapInstance.Rc(F.IC),gameMapInstance.P.x=0,gameMapInstance.m(gameMapInstance.P.x,gameMapInstance.P.y))};F.HC=function(){!0==gameMapInstance.Mg?gameMapInstance.$b(F.HC):(gameMapInstance.Rc(F.HC),gameMapInstance.P.y=-(T.height-Y.height),gameMapInstance.m(gameMapInstance.P.x,gameMapInstance.P.y))};
F.KC=function(){!0==gameMapInstance.Mg?gameMapInstance.$b(F.KC):(gameMapInstance.Rc(F.KC),gameMapInstance.P.y=0,gameMapInstance.m(gameMapInstance.P.x,gameMapInstance.P.y))};
F.create=function(){gameMapInstance||(gameMapInstance=new F,gameMapInstance.u=Ia(gameMapInstance),gameMapInstance.f(gameMapInstance.u),gameMapInstance.On=r.Cb.create(T.width,T.height),gameMapInstance.On.m(r.a(Math.floor(T.width/2),Math.floor(T.height/2))),gameMapInstance.f(gameMapInstance.On),gameMapInstance.On.B(!1),gameMapInstance.sD=r.D.create(),gameMapInstance.f(gameMapInstance.sD),gameMapInstance.rn=r.Cb.create(T.width,T.height),gameMapInstance.rn.m(r.a(Math.floor(T.width/2),Math.floor(T.height/
2))),gameMapInstance.f(gameMapInstance.rn),gameMapInstance.rn.B(!1),gameMapInstance.jq(-15),gameMapInstance.r());return gameMapInstance};F.e=function(){return gameMapInstance};F.ft=function(){gameMapInstance.N();gameMapInstance=null};F.vt=function(){gameMapInstance||(gameMapInstance=F.create());gameMapInstance.Mg=!0};F.YX=function(a){gameMapInstance.XX(a)};F.e=function(){return gameMapInstance};F.pk=function(a,c,d,e){gameMapInstance.u[a].pk(c,d,e);gameMapInstance.Wd[a][e]={texture:c,frame:d}};
F.QL=function(){A.nC();I({savemap:gameMapInstance.Ui,mapdata:gameMapInstance.Wd})};F.mC=function(a,c){gameMapInstance.Wd[a][c]=null;gameMapInstance.u[a].mC(c)};F.jj=function(a,c,d,e){gameMapInstance.u[a].kj(c);null!=d&&"undefined"!==d?(gameMapInstance.u[a].Rx(d,e),gameMapInstance.Wd[a].info={type:c,script:{id:d+"",data:null!=e&&"undefined"!==e?e:null}}):gameMapInstance.Wd[a].info={type:c}};
F.SK=function(a){gameMapInstance.Wd.mapdata.mapConnectors=a;gameMapInstance.xl=a.up;gameMapInstance.ul=a.down;gameMapInstance.vl=a.left;gameMapInstance.wl=a.right};F.KS=function(a,c,d){for(var e in gameMapInstance.u)"tile"==e.substring(0,4)&&(gameMapInstance.u[e].pk(a,c,d),gameMapInstance.Wd[e][d]={texture:a,frame:c})};F.cL=function(a){for(var c in gameMapInstance.u)"tile"==c.substring(0,4)&&gameMapInstance.u[c].MX(a);SkillBarsInstance.B(!a);Z.B(!a);gameMapInstance.Mg=!0};
F.fca=function(){for(var a in gameMapInstance.u)"tile"==a.substring(0,4)&&gameMapInstance.u[a].lf.ha(a.substring(4));gameMapInstance.Mg=!0};F.WI=function(){return null!=gameMapInstance.xl};F.UI=function(){return null!=gameMapInstance.ul};F.VI=function(){return null!=gameMapInstance.vl};F.MC=function(){return null!=gameMapInstance.wl};F.td=function(){return gameMapInstance.Ui};F.HI=function(){return gameMapInstance.xl};F.FI=function(){return gameMapInstance.ul};F.GI=function(){return gameMapInstance.vl};
F.AC=function(){return gameMapInstance.wl};F.Ip=function(a,c){c||(MapMaster=!1);A.e().B(!1);A.nC();F.Cd();gameMapInstance.Ui=a;A.w.ba.eq(a);A.sk();gameMapInstance.Kl(a)};F.MT=function(a){A.nC();F.Cd();gameMapInstance.Ui=a;gameMapInstance.Kl(a)};F.LT=function(){A.e().B(!1);F.Cd();gameMapInstance.Ui=gameMapInstance.xl;A.w.ba.eq(gameMapInstance.xl);A.sk();gameMapInstance.Kl(gameMapInstance.xl)};
F.IT=function(){A.e().B(!1);F.Cd();gameMapInstance.Ui=gameMapInstance.ul;A.w.ba.eq(gameMapInstance.ul);A.sk();gameMapInstance.Kl(gameMapInstance.ul)};F.JT=function(){A.e().B(!1);F.Cd();gameMapInstance.Ui=gameMapInstance.vl;A.w.ba.eq(gameMapInstance.vl);A.sk();gameMapInstance.Kl(gameMapInstance.vl)};F.KT=function(){A.e().B(!1);F.Cd();gameMapInstance.Ui=gameMapInstance.wl;A.w.ba.eq(gameMapInstance.wl);A.sk();gameMapInstance.Kl(gameMapInstance.wl)};F.gt=function(a){gameMapInstance.en=a};
F.Xw=function(a,c){return a>U-1||0>a?void 0:gameMapInstance.u["tile"+(a+(Pa-c)*U)]};F.hT=function(a,c){for(var d in A.e().Sd){var e=A.e().Sd[d].we();if(e.x==a&&e.y==c)return A.e().Sd[d]}return null};F.NI=function(a){return gameMapInstance.u["tile"+a]};F.jR=function(){var a=A.e();gameMapInstance.sD.f(a);F.Jp(A.w.ba.q.F,A.w.ba.q.K)};
F.Cd=function(){gameMapInstance.Wd={};for(var a in gameMapInstance.u)"tile"==a.substring(0,4)&&(gameMapInstance.u[a].Cd(),gameMapInstance.Wd[a]={});gameMapInstance.Wd.mapdata={};gameMapInstance.Mg=!0};var A=r.Sc.extend({w:null,ic:[],Sd:[],ba:null});A.e=function(){return this.w};A.ft=function(){this.w.N();this.w=null};A.create=function(a){this.w||(this.w=new A,this.w.ba=PlayerCharacter.create(a),this.w.f(this.w.ba));return this.w};A.bN=function(){var a=F.td(),c=[],d;for(d in this.w.Sd)this.w.Sd[d].dg==a&&c.push(this.w.Sd[d]);return c};A.Ep=function(a){return this.w.Sd[a]};A.PU=function(a,c,d){this.w.Sd[a]&&"default"!=c&&this.w.ba.dg==d&&this.w.Sd[a].TL(c)};
A.kW=function(a,c){this.w.Sd[a]&&"default"!=c&&this.w.Sd[a].m(r.a(c%U*32,32*Math.floor(c/U)))};A.nC=function(){for(var a in this.w.Sd)this.w.Sd[a].N();this.w.Sd=[]};A.KH=function(a,c,d){var e=parseInt(this.w.Sd.length);this.w.Sd.push(NonPlayerCharacter.create({name:a.name,Jn:{health:{Oc:1,value:100,bg:200,ag:900},mana:{Oc:1,value:100,bg:200,ag:99}},map:d,pt:"sprites1.png",nt:a.sprite.number,rl:e,Na:a.script}));this.w.Sd[e].m(32*c.x,32*c.y);this.w.f(this.w.Sd[e])};A.t7=function(){return this.w.ba};
A.fi=function(a){return this.w.ic[a]};A.iR=function(a){this.w.ic[a.id]=PlayerCharacter.create({name:a.id,Jn:{health:{Oc:1,value:100,bg:200,ag:900},mana:{Oc:1,value:100,bg:200,ag:99}},map:a.location.mapnumber,pt:"sprites1.png",nt:1});var c=a.location.position;this.w.ic[a.id].m(c%U*32,32*Math.floor(c/U));A.sk();this.w.f(this.w.ic[a.id]);c=z["Join Message"]+"";c=c.replace("\x3cPLAYER\x3e",a.id);C.Nb(c)};
A.fI=function(a){if(this.w.ic[a]){this.w.ic[a].N();this.w.ic[a]=null;var c=z["Leave Message"]+"",c=c.replace("\x3cPLAYER\x3e",a);C.Nb(c);for(c=0;c<t.length;c++){var d=JSON.parse(t[c]);d.id&&d.id==a&&(t.splice(c,1),c--)}}};
A.QU=function(a){console.log(a.location.position);if(this.w.ic[a.id])this.w.ic[a.id].TL(a.location.position);else{this.w.ic[id]=PlayerCharacter.create({name:a.id,Jn:{health:{Oc:1,value:100,bg:200,ag:900},mana:{Oc:1,value:100,bg:200,ag:99}},map:a.location.mapnumber,pt:"sprites1.png",nt:1});var c=a.location.position;this.w.ic[id].m(r.a(c%U*32,32*Math.floor(c/U)));A.sk();this.w.f(this.w.ic[a.id]);c=z["Join Message"]+"";c=c.replace("\x3cPLAYER\x3e",a.id);C.Nb(c)}};
A.wV=function(a){if(this.w.ic[a.id])this.w.ic[a.id].m(r.a(a.location.position%U*32,32*Math.floor(a.location.position/U)));else{this.w.ic[a.id]=PlayerCharacter.create({name:a.id,Jn:{health:{Oc:1,value:100,bg:200,ag:900},mana:{Oc:1,value:100,bg:200,ag:99}},map:a.location.mapnumber,pt:"sprites1.png",nt:1});var c=a.location.position;this.w.ic[a.id].m(r.a(c%U*32,32*Math.floor(c/U)));A.sk();this.w.f(this.w.ic[a.id]);C.Nb(a.id+J.ve.sV)}};A.HR=function(a){this.w.ic[a]&&this.w.ic[a].updateStatus("AFK")};
A.sk=function(){var a=this.w.ba.dg,c;for(c in this.w.ic)null!=this.w.ic[c]&&this.w.ic[c].B(this.w.ic[c].dg==a)};A.Cd=function(){for(var a in this.w.ic)null!=this.w.ic[a]&&A.fI(a);this.w.ba.N();this.w.ba=null};A.GR=function(a,c){this.w.ic[a].eq(c);this.w.ic[a].B(this.w.ba.dg==c)};Character=r.v.extend({name:null,Jn:null,DL:null,b2:null,mf:null,Ng:!1,ln:null,by:null,cj:!1,rl:-1,status:null,dg:null,path:null,uC:"DOWN",r:function(a){this.OX(a.pt,a.nt);this.Jn=new StatsController(a.Qca,this);this.f(this.Jn);this.name=a.name;a.Na&&(this.Na=a.Na);a.cj&&(this.cj=a.cj);a.map&&(this.dg=a.map);null!=a.rl&&"undefined"!==a.rl&&(console.log(this.rl),this.rl=a.rl);this.G(0,1);this.ln=r.Q.create("","Arial",12);this.ln.G(0.5,0);this.ln.n(255,0,0);this.ln.m(Math.floor(this.c().width/2),this.c().width+
3);this.f(this.ln);this.ML()},R4:function(){return this.uC},eq:function(a){this.dg=a},p5:function(){return this.dg},updateStatus:function(a){this.status=a&&a!=this.status?a:null;this.ML()},ML:function(){null!=this.status?this.ln.ha(this.name+"-"+this.status):this.ln.ha(this.name)},getName:function(){return this.name},Kf:function(a,c,d){this.Tb(r.rect(32*a,128*this.DL.id+32*c,32,32));this.by=r.a(a,c);this.uC=d},uh:function(){return this.by},OX:function(a,c){this.DL={name:a,id:c};this.fa(r.ga.e().qa(a));
this.Kf(1,0)},we:function(){return r.a(this.q.x/32,this.q.y/32)},zw:0.24,EY:0.24,ll:2,GY:function(a){var c=a.position%U,d=Math.floor(a.position/U);this.m(32*c,32*d);I({changemap:a.mapTo,setTo:a.position});F.Ip(a.mapTo);F.Jp(32*c,32*d)},sU:function(){if(!this.Ng){var a=this.we(),a=F.Xw(a.x,a.y);switch(a.rc()){case 4:this.rD(a.Hp())}}},kJ:function(a){if(a&&!this.Ng)switch(a.rc()){case 4:this.qV(a.Hp(),a);break;case 7:R.tL(a.Hp())}},rU:function(){if(!this.Ng){var a=this.we();switch(this.uC){case "RIGHT":a.x+=
1;break;case "LEFT":a.x-=1;break;case "UP":a.y+=1;break;case "DOWN":a.y-=1}var c=F.hT(a.x,a.y);if(c)Ra("Default Event",c);else if(a=F.Xw(a.x,a.y))switch(a.rc()){case 7:R.tL(a.Hp())}}},xt:function(a){this.zw+=a;a=this.q;var c=this.uh();this.zw>this.EY&&(this.zw=0,this.mf.x<a.x?this.Kf((c.x+1)%3,1,"LEFT"):this.mf.x>a.x?this.Kf((c.x+1)%3,2,"RIGHT"):this.mf.y<a.y?this.Kf((c.x+1)%3,0,"DOWN"):this.mf.y>a.y&&this.Kf((c.x+1)%3,3,"UP"));this.mf.x<a.x?(this.xb(a.x-this.ll),this.cj&&F.iy(+this.ll,0)):this.mf.x>
a.x?(this.xb(a.x+this.ll),this.cj&&F.iy(-this.ll,0)):this.mf.y<a.y?(this.Pc(a.y-this.ll),this.cj&&F.iy(0,this.ll)):this.mf.y>a.y&&(this.Pc(a.y+this.ll),this.cj&&F.iy(0,-this.ll));a.y==this.mf.y&&a.x==this.mf.x&&(this.Ng=!1,this.Rc(this.xt),null!=this.path&&this.RH())},pq:function(a,c){if(!1!=this.la){var d=F.Xw(a,c),e=this.by,f=this.we();f.x>a?this.Kf(e.x,1,"LEFT"):f.x<a&&this.Kf(e.x,2,"RIGHT");f.y>c?this.Kf(e.x,0,"DOWN"):f.y<c&&this.Kf(e.x,3,"UP");if(!d)this.cj&&null==Mapeditor&&(f.x<a&&F.MC()?(this.m(0,
32*c),I({changemap:parseInt(F.AC()),setTo:0+c*U}),F.KT(),F.IC()):f.x>a&&F.VI()&&(this.m(32*(U-1),32*c),I({changemap:parseInt(F.GI()),setTo:U-1+c*U}),F.JT(),F.JC()),f.y<c&&F.WI()?(this.m(32*a,32),I({changemap:parseInt(F.HI()),setTo:a+1*U}),F.LT(),F.KC()):f.y>c&&F.UI()&&(I({changemap:parseInt(F.FI()),setTo:a+Pa*U}),F.IT(),this.m(32*a,32*Pa),F.HC()));else if(!1==this.Ng&&d){switch(d.rc()){case 1:case 7:return;case 3:this.GY(d.ff());return}this.mf=r.a(32*a,32*c);this.Ng=!0;this.$b(this.xt);this.xt(0);
this.cj?I({moveTo:this.mf.x/32+this.mf.y/32*U}):-1<this.rl&&I({npcID:this.rl+"",mapnumber:this.dg,moveNPC:this.mf.x/32+this.mf.y/32*U})}}},RH:function(){0==this.path.length?this.path=null:(this.path.splice(0,1),0==this.path.length?this.path=null:this.pq(this.path[0].x,this.path[0].y))},cE:function(a){if(null==this.path||0!=a.length)this.path=a,this.RH()},TL:function(a){if(!1!=this.la){var c=a%U;a=Math.floor(a/U);if(!1==this.Ng){var d=this.by,e=this.we();4<Math.abs(r.mD(r.a(c,a),e))?this.m(r.a(32*
c,32*a)):(e.x>c?this.Kf(d.x,1,"LEFT"):e.x<c?this.Kf(d.x,2,"RIGHT"):e.y>a?this.Kf(d.x,0,"DOWN"):e.y<a&&this.Kf(d.x,3,"UP"),this.mf=r.a(32*c,32*a),this.Ng=!0,this.$b(this.xt),this.xt(0))}}}});
PlayerCharacter=Character.extend({items:null,qp:3,r:function(a){this._super(a);a.qp&&(this.qp=a.qp);this.items={stored:[],equipped:{}};if(a.position){var c=a.position%U,d=Math.floor(a.position/U);this.m(32*c,32*d);F.MT(a.map);F.Jp(32*c,32*d);this.dg=a.map}a.lJ&&(this.items.stored=a.lJ);if(a.pI){this.items.equipped=a.pI;for(var e in this.items.equipped)Qa("Default Event",this.items.equipped[e],{"Equip Item":!0,"Give /Take Item":!0,"Warp Player":!0,"Read Item":!0,"Open/Close Panel":!0,Destroy:!0})}},
tt:function(a,c){for(var d=0;d<this.items.stored.length;d++)this.items.stored[d]&&this.items.stored[d].name==a&&(this.items.stored[d]=c);console.log(this.items)},rD:function(a){var c=this.we(),d=F.Xw(c.x,c.y);Qa("On Pickup",a);if(a){if(!0==a.stackable)for(var e=0;40>e;e++)if(this.items.stored[e]&&this.items.stored[e].name==a.name){Inventory&&(this.items.stored[e].amount+=a.amount,Inventory.oi(e,this.items.stored[e].amount));C.Nb(J.ve.qx+a.name);d.Fs().temp?I({pickupitem:V(c.x,c.y),mapnumber:F.td(),
temp:!0}):I({pickupitem:V(c.x,c.y),mapnumber:F.td()});console.log(this.items);return}for(var f=!1,e=0;40>e;e++)if(null==this.items.stored[e]){this.items.stored[e]=G(a);Inventory&&Inventory.oi(e,this.items.stored[e].amount);C.Nb(J.ve.qx+a.name);d.Fs().temp?I({pickupitem:V(c.x,c.y),mapnumber:F.td(),temp:!0}):I({pickupitem:V(c.x,c.y),mapnumber:F.td()});f=!0;break}!1==f&&C.Nb(J.ve.mJ)}Inventory&&Inventory.zb();Equipment&&Equipment.zb()},qV:function(a,c){var d=r.a(c.q.F/32,c.q.K/32);Qa("On Pickup",c);
if(a){if(!0==a.stackable)for(var e=0;40>e;e++)if(this.items.stored[e]&&this.items.stored[e].name==a.name){Inventory&&(this.items.stored[e].amount+=a.amount,Inventory.oi(e,this.items.stored[e].amount));C.Nb(J.ve.qx+a.name);c.Fs().temp?I({pickupitem:V(d.x,d.y),mapnumber:F.td(),temp:!0}):I({pickupitem:V(d.x,d.y),mapnumber:F.td()});return}for(var f=!1,e=0;40>e;e++)if(null==this.items.stored[e]){this.items.stored[e]=G(a);Inventory&&Inventory.oi(e,this.items.stored[e].amount);C.Nb(J.ve.qx+a.name);c.Fs().temp?
I({pickupitem:V(d.x,d.y),mapnumber:F.td(),temp:!0}):I({pickupitem:V(d.x,d.y),mapnumber:F.td()});f=!0;break}!1==f&&C.Nb(J.ve.mJ)}Inventory&&Inventory.zb();Equipment&&Equipment.zb()},rC:function(a,c){var d=this.we();Qa("On Drop",this.items[c][a]);this.items[c][a]&&(C.Nb(J.ve.BS+this.items[c][a].name),I({droppeditem:this.items[c][a],mapnumber:F.td(),index:V(d.x,d.y)}),!0==this.items[c][a].stackable&&1<this.items[c][a].amount&&Inventory.oi(a,0),this.items[c][a]=null);Inventory&&Inventory.zb();Equipment&&
Equipment.zb()},CY:function(a){Qa("Default Event",this.items.stored[a]);Inventory&&Inventory.zb();Equipment&&Equipment.zb()},nS:function(a){for(var c=0;40>c;c++)if(null==this.items.stored[c]){this.items.stored[c]=G(this.items.equipped[a]);this.items.equipped[a]=null;Inventory&&Inventory.zb();Equipment&&Equipment.zb();Qa("On Dequip",this.items.stored[c]);return}C.Nb("No space in inventory to dequip this item.")},nl:function(){return this.items.stored},Dp:function(){return this.items.equipped}});
PlayerCharacter.create=function(a){var c=new PlayerCharacter;c.r(a);return c};NonPlayerCharacter=Character.extend({l9:null,rx:!1,DX:function(a,c){this.rx=!0;this.Dc(function(){this.pq(a.x,a.y);this.rx=!1},c)},w8:function(){return this.rx}});NonPlayerCharacter.create=function(a){var c=new NonPlayerCharacter;c.r(a);return c};var Sa=r.Sc.extend({LD:null,b:null,ctor:function(){this._super()},UL:function(){},Gn:function(){},gj:function(){},oa:function(){this.b&&this.b.N();this.b=Ia(this);this.f(this.b)},ya:function(){},r:function(){this.$D(1);this.Jx(!0);this.Wb(!0);x.En(this);this._super()},lD:function(){r.log("Override onKeyDown in scene extended class to use keyboard")},zl:function(){r.log("Override onKeyUp in scene extended class to use keyboard")},gX:function(a){this.LD=a},Bc:function(){return this.LD}});DropDownList=Sa.extend({list:null,dS:null,selected:null,b:null,k:null,dI:null,bK:null,lt:null,ctor:function(){this._super();this.list=[];this.dS=0},r:function(a,c,d,e){this._super();a&&(this.k=a,this.dI=c,d&&(this.list=d),e&&this.m(e),this.bK=x.QS(),x.En(this),this.jq(-1001),this.Jx(!0))},jb:function(a){for(var c=this.b.control_menu.Ia(a.J),d=0;d<this.list.length;d++)this.lt&&!0!=this.lt[d].enabled||r.bb(r.rect(this.b.control_menu[d+""].q.F,this.b.control_menu[d+""].q.K,this.b.control_menu[d+""].c().width,
this.b.control_menu[d+""].c().height),c)&&this.dI(d,a);this.DV();return!0},DV:function(){x.En(this.bK);this.N();Na()},lW:function(){this.Pc(this.q.K-24*this.list.length);for(var a=0,c=0;c<this.list.length;c++)this.b.control_menu[c+""].content.c().width>a&&(a=this.b.control_menu[c+""].content.c().width);for(c=0;c<this.list.length;c++)this.b.control_menu[c+""].VH(a+8);this.b.control_menu.VH(a+8)},Cc:function(){for(var a={},c=0;c<this.list.length;c++)a[c+""]={position:r.a(0,24*(this.list.length-1)-24*
c),size:r.size(96,24),d:r.a(0,0),A:r.i(200,200,200,200),children:{content:{label:this.list[c],fontSize:20,color:r.l(0,0,0),d:r.a(0,0.5),position:r.a(4,12)}}};return{panels:{children:{control_menu:{position:r.a(0,0),A:r.i(200,200,200,0),size:r.size(96,48),children:a}}}}},gj:function(a){a=this.b.control_menu.Ia(a.J);for(var c=0;c<this.list.length;c++)this.b.control_menu[c+""].n(r.i(200,200,200,200)),this.lt&&!0!=this.lt[c].enabled||r.bb(r.rect(this.b.control_menu[c+""].q.F,this.b.control_menu[c+""].q.K,
this.b.control_menu[c+""].c().width,this.b.control_menu[c+""].c().height),a)&&this.b.control_menu[c+""].n(r.i(255,0,0,255))}});DropDownList.qd=function(a,c,d,e,f){var g=new DropDownList;g.r(a,c,d,e);g.b=Ia(g.Cc(),!0);if(f){for(a=0;a<g.list.length;a++)!1==f[a].enabled&&g.b.control_menu[a+""].content.n(r.i(127,127,127,200));g.lt=f}g.f(g.b);g.lW();return g};Popup=Sa.extend({Ud:null,Ef:!1,r:function(){this.LD=this.Bc();this._super();x.En(this);this.ZX();this.jq(-50)},x3:function(){this.N()},jb:function(a){var c=a.J;x.En(this);c=this.b.control_panel.Ia(c);if(r.bb(r.rect(this.b.control_panel.exitBtn.q.F,this.b.control_panel.exitBtn.q.K,this.b.control_panel.exitBtn.c().width,this.b.control_panel.exitBtn.c().height),c)){var d=this;this.U.Dc(function(){!1==d.Ef&&d.ya();d.N();d=null});return!0}return r.bb(r.rect(this.b.q.x,this.b.q.y+this.b.control_panel.q.y,
this.b.control_panel.c().width,this.b.control_panel.c().height),a.J)?(this.Ud=this.b.$h(a),!0):!1},ud:function(a){return this.Ud?(a=a.J,this.b.m(r.a(a.x-this.Ud.x,a.y-this.Ud.y)),!0):!1},N:function(){v.yX(this.Bc(),this.b.q);this._super()},ZX:function(){r.log("Ovveride setupPopup")},Bc:function(){r.log("No id given... using default 'Popup'");return"Popup"},Gf:function(){},oa:function(){this._super();var a=v.lT();if("null"!=a&&null!=a&&(a=JSON.parse(a)[this.Bc()])){a=r.a(a.x,a.y);if(a.x>Y.width-10||
a.y>Y.height)a=r.a(8,100);this.b.m(a)}}});Book=null;
BookPanel=Popup.extend({name:null,content:null,m$:null,Bc:function(){return"Book"},Cc:function(){return{panels:{position:r.a(100,20),children:{main_panel:{d:r.a(0,0),position:r.a(0,0),size:r.size(512,138),Y:"GUI/npctalk.png"},control_panel:{d:r.a(0,0),position:r.a(0,138),size:r.size(512,32),children:{header:{label:"NPC TALKIN",fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(488,6),size:r.size(20,20),d:r.a(0,0),Y:"GUI/close.png"}}}}}}},r:function(){this._super()},oa:function(){this._super()},jb:function(a){if(this._super(a))return!0}});NpcChat=null;
NpcChatPanel=Popup.extend({name:null,content:null,Fw:null,Na:null,tC:null,KJ:null,M:null,Bc:function(){return"Book"},Cc:function(){return{panels:{position:r.a(100,20),children:{main_panel:{d:r.a(0,0),position:r.a(0,0),size:r.size(512,138),Y:"GUI/npctalk.png",children:{chatText:{label:this.content,d:r.a(0,1),position:r.a(138,134),color:r.l(0,0,0)},list:{size:r.size(320,80),position:r.a(154,4),d:r.a(0,0)}}},control_panel:{d:r.a(0,0),position:r.a(0,138),size:r.size(512,32),children:{header:{label:this.name,fontSize:20,
d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(488,6),size:r.size(20,20),d:r.a(0,0),Y:"GUI/close.png"}}}}}}},tb:function(){this.M&&this.M.jc();var a=[],c=[];r.ga.e();for(var d in this.Fw){a[d]=r.D.create();a[d].V(324,32);var e=r.ca.create(r.i(200,200,200,200),300,10);e.m(r.a(12,1));var f=r.Q.create("\x3e"+this.Fw[d],"Arial",14);f.G(r.a(0,0));f.m(r.a(4,2));f.cc(r.size(300,0));f.n(r.l(100,0,0));a[d].f(e);e.f(f);a[d].V(324,f.c().height+8);e.V(300,f.c().height+4);e.Zb="Use";c.push([e])}this.M=
this.b.main_panel.list;var g=this;this.M.sd=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return r.size(324,c)};this.M.ad=function(){return a.length};this.M.Fd=function(c){return a[c].c()};this.M.Ed=function(c){return a[c]};this.M.kc=function(a,c){switch(a){case "Use":for(var d in g.Na)g.Na[d].type=="On Talk Option Selected for event:"+g.tC+", option:"+c&&Ra("On Talk Option Selected for event:"+g.tC+", option:"+c,g.KJ);R.rL()}};this.M.da=ListView.create(this.M);this.M.da.Id(c);this.M.f(this.M.da)},
r:function(a,c,d,e,f,g){this._super();this.name=e;this.content=f;this.Na=c;this.tC=d;this.KJ=a;g&&(this.Fw=g)},oa:function(){this._super();this.b.main_panel.chatText.cc(r.size(350,0));this.Fw&&this.tb()},jb:function(a){if(this._super(a))return!0}});Equipment=null;
EquipmentPanel=Popup.extend({Bc:function(){return"Equipment"},Cc:function(){var a={};a.head={Y:"GUI/defaultitem.png",position:r.a(88,162),size:r.size(32,32),d:r.a(0,1)};a.legs={Y:"GUI/defaultitem.png",position:r.a(88,82),size:r.size(32,32),d:r.a(0,1)};a.feet={Y:"GUI/defaultitem.png",position:r.a(88,40),size:r.size(32,32),d:r.a(0,1)};a.body={Y:"GUI/defaultitem.png",position:r.a(88,122),size:r.size(32,32),d:r.a(0,1)};a.lArm={Y:"GUI/defaultitem.png",position:r.a(48,122),size:r.size(32,32),d:r.a(0,1)};
a.rArm={Y:"GUI/defaultitem.png",position:r.a(128,122),size:r.size(32,32),d:r.a(0,1)};a.mod={Y:"GUI/defaultitem.png",position:r.a(8,162),size:r.size(32,32),d:r.a(0,1)};return{panels:{position:r.a(100,300),children:{main_panel:{d:r.a(0,0),size:r.size(168,168),Y:"GUI/equipment.png",children:a},control_panel:{d:r.a(0,0),position:r.a(0,168),size:r.size(168,32),children:{header:{label:z["Equipment Header"],fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(144,6),size:r.size(20,20),d:r.a(0,
0),Y:"GUI/close.png"}}},item_name:{position:r.a(0,0),A:r.i(200,200,200,200),size:r.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:r.l(0,0,0),d:r.a(0.5,0.5),position:r.a(32,8)}}}}}}},zb:function(){var a=A.w.ba.Dp();this.b.main_panel.head.fa(r.ga.e().qa("GUI/defaultitem.png"));this.b.main_panel.body.fa(r.ga.e().qa("GUI/defaultitem.png"));this.b.main_panel.legs.fa(r.ga.e().qa("GUI/defaultitem.png"));this.b.main_panel.feet.fa(r.ga.e().qa("GUI/defaultitem.png"));this.b.main_panel.lArm.fa(r.ga.e().qa("GUI/defaultitem.png"));
this.b.main_panel.rArm.fa(r.ga.e().qa("GUI/defaultitem.png"));this.b.main_panel.mod.fa(r.ga.e().qa("GUI/defaultitem.png"));for(var c in a)if(a[c]){for(var d in K)if(K[d].name==a[c].sprite.texture)var e=K[d].texture;this.b.main_panel[c].G(0,1);this.b.main_panel[c].fa(e);this.b.main_panel[c].Tb(r.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,32,32))}},ix:function(a){switch(a){case 0:A.w.ba.nS(this.k.ej);break;case 1:A.w.ba.rC(this.k.ej,"equipped")}},jb:function(a){if(this._super(a))return!0;
this.Ud=null;var c=this.b.main_panel.Ia(a.J),d=A.w.ba.Dp(),e;for(e in d)if(d[e]&&Q(this.b.main_panel[e],r.a(c.x,c.y+32)))return this.ej=e,this.b.item_name.B(!1),c=z["Item Dropdown Unequip"]+"",c=c.replace("\x3cITEM\x3e",A.w.ba.Dp()[e].name),d=z["Item Dropdown Drop"]+"",d=d.replace("\x3cITEM\x3e",A.w.ba.Dp()[e].name),this.f(DropDownList.qd(this,this.ix,[c,d],a.J)),!0},gj:function(a){a=this.b.main_panel.Ia(a.J);this.b.item_name.B(!1);var c=A.w.ba.Dp(),d;for(d in c)if(c[d]&&Q(this.b.main_panel[d],r.a(a.x,
a.y+32)))return this.b.item_name.content.ha(c[d].name),this.b.item_name.B(!0),this.b.item_name.V(this.b.item_name.content.c()),this.b.item_name.content.xb(this.b.item_name.content.c().width/2),this.b.item_name.m(r.a(this.b.main_panel[d].q.F-this.b.item_name.content.c().width/2+16,this.b.main_panel[d].q.K)),!0},bt:function(){this.b.main_panel.head.aa()&&(this.Rc(this.bt),this.zb())},oa:function(){this._super();this.b.main_panel.head.aa()?this.zb():this.$b(this.bt)}});Inventory=null;
InventoryPanel=Popup.extend({ej:null,dD:!1,Bc:function(){return"Inventory"},Cc:function(){for(var a={},c=0;5>c;c++)for(var d=0;8>d;d++)a[5*d+c+""]={size:r.size(32,32),position:r.a(40*c+8,40*(7-d)+40),Y:"GUI/defaultitem.png",d:r.a(0,1),children:{stacklabelbg:{position:r.a(1,1),size:r.size(10,6),d:r.a(0,0),A:r.i(255,255,255,200),children:{stacklabel:{label:"",fontSize:10,color:r.l(0,0,0),d:r.a(0,0),position:r.a(0,0)}}}}};return{panels:{position:r.a(300,200),children:{main_panel:{d:r.a(0,0),Y:"GUI/inventory.png",
size:r.size(208,328),children:a},control_panel:{d:r.a(0,0),position:r.a(0,328),size:r.size(208,32),children:{header:{label:z["Inventory Header"],fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(184,6),size:r.size(20,20),d:r.a(0,0),Y:"GUI/close.png"}}},item_name:{position:r.a(0,0),A:r.i(200,200,200,200),size:r.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:r.l(0,0,0),d:r.a(0.5,0.5),position:r.a(32,8)}}}}}}},oi:function(a,c){this.b.main_panel[a+""].stacklabelbg.B(!1);
1<c&&(this.b.main_panel[a+""].stacklabelbg.B(!0),this.b.main_panel[a+""].stacklabelbg.stacklabel.ha(c),this.b.main_panel[a+""].stacklabelbg.V(this.b.main_panel[a+""].stacklabelbg.stacklabel.c()))},zb:function(){for(var a=A.w.ba.nl(),c=0;40>c;c++)if(a[c]){for(var d in K)if(K[d].name==a[c].sprite.texture)var e=K[d].texture;this.b.main_panel[c+""].G(0,1);this.b.main_panel[c+""].fa(e);this.b.main_panel[c+""].Tb(r.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,32,32));this.oi(c,a[c].amount)}else this.b.main_panel[c+
""].fa(r.ga.e().qa("GUI/defaultitem.png")),this.oi(c,0)},bt:function(){this.b.main_panel[Fa+""].aa()&&(this.Rc(this.bt),this.zb())},oa:function(){this._super();this.b.main_panel[Fa+""].aa()?this.zb():this.$b(this.bt)},ix:function(a){switch(a){case 0:!0==this.k.dD?A.w.ba.CY(this.k.ej):A.w.ba.rC(this.k.ej,"stored");break;case 1:A.w.ba.rC(this.k.ej,"stored")}this.k.dD=!1},jb:function(a){if(this._super(a))return!0;this.Ud=null;for(var c=this.b.main_panel.Ia(a.J),d=0;40>d;d++)if(A.w.ba.nl()[d]&&Q(this.b.main_panel[d+
""],r.a(c.x,c.y+32))){var e=A.w.ba.nl()[d],c=[];e.script&&(c=ObjectLists.Yi()[e.script].data);for(var e=null,f=0;f<c.length;f++)if("Default Event"==c[f].type)for(var e="Use Item",g=c[f].responses,h=0;h<g.length;h++)switch(console.log(g[h].type),g[h].type){case "Equip Item":e=z["Item Dropdown Equip"]+"";break;case "Read Item":e=z["Item Dropdown Read"]+""}c=z["Item Dropdown Drop"]+"";c=c.replace("\x3cITEM\x3e",A.w.ba.nl()[d].name);e?(this.dD=!0,e=e.replace("\x3cITEM\x3e",A.w.ba.nl()[d].name),this.f(DropDownList.qd(this,
this.ix,[e,c],a.J))):this.f(DropDownList.qd(this,this.ix,[c],a.J));this.ej=d;this.b.item_name.B(!1);return!0}},gj:function(a){a=this.b.main_panel.Ia(a.J);for(var c=0;40>c;c++)if(A.w.ba.nl()[c]&&Q(this.b.main_panel[c+""],r.a(a.x,a.y+32)))return this.b.item_name.content.ha(A.w.ba.nl()[c].name),this.b.item_name.B(!0),this.b.item_name.V(this.b.item_name.content.c()),this.b.item_name.content.xb(this.b.item_name.content.c().width/2),this.b.item_name.m(r.a(this.b.main_panel[c+""].q.F-this.b.item_name.content.c().width/
2+16,this.b.main_panel[c+""].q.K)),!0}});Sign=null;
SignPanel=Popup.extend({data:null,Bc:function(){return"Sign"},Cc:function(){return{panels:{position:r.a(100,300),children:{control_panel:{d:r.a(0,0),size:r.size(128,96),Y:"GUI/signpost.png",children:{content:{label:this.data.label,fontSize:12,color:r.l(255,255,255),d:r.a(0,1),position:r.a(4,94)},exitBtn:{position:r.a(100,6),size:r.size(20,20),d:r.a(0,0),Y:"GUI/close.png"}}}}}}},r:function(a){this._super();this.data=a},oa:function(){this._super();this.b.control_panel.content.cc(r.size(120,0))}});Skills=null;
SkillsPanel=Popup.extend({M:null,Bc:function(){return"Skills"},tb:function(){this.M&&this.M.jc();var a=[],c=[];r.ga.e();var d=0,e=0,f;for(f in this.data){e+=this.data[f].level+1;a[d]=r.D.create();a[d].V(420,32);var g=r.ca.create(r.i(0,0,0,127),316,1);g.m(r.a(4,0));var h=r.Q.create("Lvl "+(this.data[f].level+1+this.data[f].modifier)+"/"+(this.data[f].level+1),"Arial",15);h.n(r.l(0,0,0));h.G(r.a(0,0));h.m(r.a(4,4));var k=r.Q.create(f,"Arial",15);k.n(r.l(0,0,0));k.G(r.a(0.5,0));k.m(r.a(h.c().width+65,
4));var l=r.ca.create(r.i(255,255,255,255),144,k.c().height),m=r.ca.create(r.i(100,120,200,255),this.data[f].experience/this.data[f].requirement*144,k.c().height);l.f(m);m.G(r.a(0,0));m=r.Q.create(this.data[f].experience+"/"+this.data[f].requirement,"Arial",14);m.G(r.a(0,0));m.n(r.l(0,0,0));l.f(m);m.Pc(1);l.G(r.a(0,0));l.m(r.a(172,4));c.push([]);a[d].f(g);a[d].f(k);a[d].f(h);a[d].f(l);a[d].V(324,k.c().height+8);d++}this.M=this.b.main_panel.list;this.M.sd=function(){for(var c=0,d=0;d<a.length;d++)c+=
a[d].c().height;return r.size(324,c)};this.M.ad=function(){return a.length};this.M.Fd=function(c){return a[c].c()};this.M.Ed=function(c){return a[c]};this.M.kc=function(){};this.M.da=ListView.create(this.M);this.M.da.Id(c);this.M.f(this.M.da);this.b.main_panel.character_level.ha("LEVEL: "+e);this.b.main_panel.character_level.xb(306);this.b.main_panel.character_level.G(r.a(1,0))},Cc:function(){return{panels:{position:r.a(300,200),children:{background_image:{Y:"GUI/list_panel.png",d:r.a(0,0)},main_panel:{d:r.a(0,
0),size:r.size(365,328),children:{character_level:{label:"",position:r.a(2,310),d:r.a(0,0),color:r.l(0,0,0)},list:{size:r.size(324,308),A:r.i(0,200,200,200),position:r.a(0,0),d:r.a(0,0)}}},control_panel:{d:r.a(0,0),position:r.a(0,328),size:r.size(365,32),children:{header:{label:"Skills",fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(337,6),size:r.size(20,20),d:r.a(0,0),Y:"GUI/close.png"}}}}}}},zb:function(){},oa:function(){this._super();this.zb();this.data=H.wT();this.tb()}});
var H=r.Sc.extend({Aw:[],dd:null,ut:function(){var a=ObjectLists.Zi(),c;for(c in this.Aw)this.Aw[c].N();this.Aw=[];var d=0;for(c=a.length-1;0<=c;c--)if(null!=a[c].healthbar&&""!=a[c].healthbar){var e=this.cS(a[c].name,a[c].healthbar,d);this.f(e);this.Aw.push(e);d++}this.m(r.a(0,Y.height-32*d))},cS:function(a,c,d){var e=255;c=c.replace("#","");8==c.length&&(e=c.substr(6,8));e=r.ca.create(r.i(parseInt(c.substring(0,2),16),parseInt(c.substring(2,4),16),parseInt(c.substring(4,6),16),parseInt(e,16)),0<
this.dd[a].currenthealth?this.dd[a].currenthealth/this.dd[a].maxhealth*300:1,23);e.$B=r.v.eb(r.ga.e().qa("GUI/healthbar.png"));e.m(10,32*d- -5*d-10);e.G(r.a(0,0));e.$B.m(-5,-4);e.$B.G(r.a(0,0));e.f(e.$B);a=r.Q.create(a,"Arial",16);a.m(10,11.5);a.G(r.a(0,0.5));e.f(a);return e}});SkillBarsInstance=null;H.create=function(a){null==SkillBarsInstance&&(SkillBarsInstance=new H,SkillBarsInstance.dd=a,SkillBarsInstance.ut());return SkillBarsInstance};
H.FJ=function(a,c){SkillBarsInstance.dd[a].currenthealth+=c;0>SkillBarsInstance.dd[a].currenthealth&&(SkillBarsInstance.dd[a].currenthealth=0);SkillBarsInstance.dd[a].currenthealth>SkillBarsInstance.dd[a].maxhealth&&(SkillBarsInstance.dd[a].currenthealth=SkillBarsInstance.dd[a].maxhealth);SkillBarsInstance.ut();Skills&&Skills.tb()};H.HJ=function(a,c){SkillBarsInstance.dd[a].experience+=c;0>SkillBarsInstance.dd[a].experience&&(SkillBarsInstance.dd[a].experience=0);SkillBarsInstance.ut();Skills&&Skills.tb()};
H.GJ=function(a,c){SkillBarsInstance.dd[a].modifier+=c;0>SkillBarsInstance.dd[a].modifier&&(SkillBarsInstance.dd[a].modifier=0);SkillBarsInstance.ut();Skills&&Skills.tb()};H.wT=function(){return SkillBarsInstance.dd};H.update=function(){SkillBarsInstance.ut()};Scripteditor=null;
ScriptEditor=Popup.extend({data:null,M:null,ib:null,fj:null,gf:null,hf:null,Y2:null,k:null,Pa:null,uL:null,bI:null,ka:null,g:null,Kn:null,ij:function(a){I({savescripts:a+"",scriptsdata:this.data})},Vi:function(a,c){I({savescriptswhole:c})},Bc:function(){return"Scripts"},ya:function(a){this._super();if(this.k){var c=this.k;!0!=a&&this.k.Dc(function(){c.$c(null)})}},r:function(a){this._super();this.data={data:[],name:null};this.Pa=null;a.data&&(this.data=a.data);this.k=a.k},oa:function(){this._super();this.Pa=
new $(this.b.main_panel.nameEntry,r.size(this.b.main_panel.nameEntry.c().width,this.b.main_panel.nameEntry.c().height),r.a(0,this.b.main_panel.nameEntry.c().height),this.data.name,r.i(255,255,255),r.l(0,0,0));this.Pa.kb(!0);this.tb()},tb:function(){this.M&&this.M.jc();for(var a in this.gf)this.gf[a].jc(),this.gf[a].N();for(a in this.hf)this.hf[a].jc(),this.hf[a].N();var c=[],d=[],e=[],f=[],g=[],h=[],k=r.ga.e();this.gf=[];this.hf=[];for(a=0;a<this.data.data.length;a++){g[a]=[];h[a]=[];d[a]=[];e[a]=
[];c[a]=r.D.create();c[a].V(758,100);var l=r.ca.create(r.i(0,0,0,127),750,1);l.m(r.a(4,0));var m=r.ca.create(r.i(0,0,0,127),1,92);m.m(r.a(152,4));var n=r.ca.create(r.i(0,0,0,127),1,92);n.m(r.a(451,4));var p=this.data.data[a].type;"On Talk Close"==p&&(p+=" ("+this.data.data[a].data.attachedEvent+":"+this.data.data[this.data.data[a].data.attachedEvent].type+")");p=r.Q.create(a+": "+p,"Arial",15);p.n(r.l(0,0,0));p.G(r.a(0,1));p.m(r.a(4,96));p.cc(r.size(100,0));var q=r.ca.create(r.i(0,255,0,60),259,100);
q.V(r.size(259,100));q.xb(451);q.G(r.a(0,0));c[a].f(q);var u=r.ca.create(r.i(0,255,0,60),259,100);u.V(r.size(259,100));u.xb(152);u.G(r.a(0,0));c[a].f(u);var w=r.v.eb(k.qa("GUI/trash.png"));w.m(r.a(120,4));w.G(r.a(0,0));w.Zb="Delete";c[a].f(w);var y=r.v.eb(k.qa("GUI/edit.png"));y.m(r.a(96,4));y.G(r.a(0,0));y.Zb="Edit";c[a].f(y);f.push([w,y]);for(w=0;w<this.data.data[a].responses.length;w++){d[a].push(r.D.create());d[a][w].V(259,32);var y=!0,D=r.Q.create(w+1+": "+this.data.data[a].responses[w].type,
"Arial",15);D.n(r.l(0,0,0));D.G(r.a(0,0));D.m(r.a(4,4));D.cc(r.size(180,0));d[a][w].V(259,D.c().height+8);d[a][w].f(D);D=r.v.eb(k.qa("GUI/trash.png"));D.m(r.a(229,0));D.G(r.a(0,0));D.Zb="Delete";d[a][w].f(D);switch(this.data.data[a].responses[w].type){case "Destroy":case "Attack":case "Run Away":y=!1}y?(y=r.v.eb(k.qa("GUI/edit.png")),y.m(r.a(205,0)),y.G(r.a(0,0)),y.Zb="Edit",d[a][w].f(y),g[a].push([D,y])):g[a].push([D])}w=r.ca.create(r.i(70,200,70,255),90,26);y=r.Q.create("+","Arial",20);y.m(45,13);
y.G(r.a(0.5,0.5));w.m(r.a(84.5,0));w.Zb="Add";w.f(y);g[a].push([w]);d[a].push(w);this.hf[a]=u;this.hf[a].identifier=a;var B=this;this.hf[a].sd=function(){for(var a=0,c=0;c<d[this.identifier].length;c++)a+=d[this.identifier][c].c().height;return r.size(259,a)};this.hf[a].ad=function(){return d[this.identifier].length};this.hf[a].Fd=function(a){return d[this.identifier][a].c()};this.hf[a].Ed=function(a){return d[this.identifier][a]};this.hf[a].kc=function(a,c,d){B.Ia(d.J);if(null==B.g)switch(a){case "Delete":B.U.f(DropDownList.qd(B,
B.mS,["Cancel","Delete"],d.J));B.ib=c;B.fj=this.identifier;break;case "Edit":B.oI(this.identifier,"responses",c);break;case "Add":a="Talk;Destroy;Give/ Take Item;Set Quest Point;Warp Player;Wait;Repeat Responses;Open/Close Panel;Modify Player Stats".split(";");c=[{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0}];for(var e=0;e<B.data.data[this.identifier].responses.length;e++)"Repeat Responses"==B.data.data[this.identifier].responses[e].type&&
(c[7].enabled=!1);switch(B.data.specifier){case "NPC":a.push("Attack","Run Away","Defend","Modify NPC Stats");c.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0});break;case "Item":a.push("Equip Item","Read Item");c.push({enabled:!0},{enabled:!0});break;case "Tile":a.push("Block Entry","Add Layer Graphic"),c.push({enabled:!0},{enabled:!0})}B.U.f(DropDownList.qd(B,B.lR,a,d.J,c));B.fj=this.identifier;break;case "Use":B.k.kq(c,B.Nc[c])}};this.hf[a].da=ListView.create(this.hf[a]);this.hf[a].da.Id(g[a]);
this.hf[a].f(this.hf[a].da);for(w=0;w<this.data.data[a].requirements.length;w++)e[a].push(r.D.create()),e[a][w].V(259,32),u=r.Q.create(w+1+": "+this.data.data[a].requirements[w].type,"Arial",15),u.n(r.l(0,0,0)),u.G(r.a(0,0)),u.m(r.a(4,4)),u.cc(r.size(180,0)),e[a][w].V(259,u.c().height+8),e[a][w].f(u),D=r.v.eb(k.qa("GUI/trash.png")),D.m(r.a(229,0)),D.G(r.a(0,0)),D.Zb="Delete",e[a][w].f(D),y=r.v.eb(k.qa("GUI/edit.png")),y.m(r.a(205,0)),y.G(r.a(0,0)),y.Zb="Edit",e[a][w].f(y),h[a].push([D,y]);u=r.ca.create(r.i(70,
200,70,255),90,26);w=r.Q.create("+","Arial",20);w.m(45,13);w.G(r.a(0.5,0.5));u.m(r.a(84.5,0));u.Zb="Add";u.f(w);h[a].push([u]);e[a].push(u);this.gf[a]=q;this.gf[a].identifier=a;B=this;this.gf[a].sd=function(){for(var a=0,c=0;c<e[this.identifier].length;c++)a+=e[this.identifier][c].c().height;return r.size(259,a)};this.gf[a].ad=function(){return e[this.identifier].length};this.gf[a].Fd=function(a){return e[this.identifier][a].c()};this.gf[a].Ed=function(a){return e[this.identifier][a]};this.gf[a].kc=
function(a,c,d){B.Ia(d.J);if(null==B.g)switch(a){case "Delete":B.U.f(DropDownList.qd(B,B.lS,["Cancel","Delete"],d.J));B.ib=c;B.fj=this.identifier;break;case "Edit":B.oI(this.identifier,"requirements",c);break;case "Add":a=["Has Player Item","Is Player Statistics","Is Quest Point","Is Panel Visibility","Is Player Inventory Space"];switch(B.data.specifier){case "Tile":a.push("Is Event Fired By");break;case "NPC":a.push("Is NPC Statistics","Is NPC Actioning")}B.U.f(DropDownList.qd(B,B.kR,a,d.J));B.fj=
this.identifier;break;case "Use":B.k.kq(c,B.Nc[c])}};this.gf[a].da=ListView.create(this.gf[a]);this.gf[a].da.Id(h[a]);this.gf[a].f(this.gf[a].da);c[a].f(p);c[a].f(l);c[a].f(m);c[a].f(n)}a=r.ca.create(r.i(70,200,70,255),90,26);g=r.Q.create("+","Arial",20);g.m(45,13);g.G(r.a(0.5,0.5));a.m(r.a(334,0));a.Zb="Add";a.f(g);f.push([a]);c.push(a);this.M=this.b.main_panel.list;B=this;this.M.sd=function(){for(var a=0,d=0;d<c.length;d++)a+=c[d].c().height;return r.size(758,a)};this.M.ad=function(){return c.length};
this.M.Fd=function(a){return c[a].c()};this.M.Ed=function(a){return c[a]};this.M.kc=function(a,c,d){B.Ia(d.J);if(null==B.g)switch(a){case "Delete":var e="Delete";B.ST(c)&&(e="Delete (Will destroy all child events)");B.U.f(DropDownList.qd(B,B.kS,["Cancel",e],d.J));B.ib=c;break;case "Add":a=["Default Interaction","On Examine","On Talk Close","On Talk Option Selected"];var f=[{enabled:!0},{enabled:!0},{enabled:!1},{enabled:!1},{enabled:!1}];for(e in B.data.data)if(B.data.data[e])for(var g=0;g<B.data.data[e].responses.length;g++)if("Talk"==
B.data.data[e].responses[g].type){f[2].enabled=!0;break}0==B.data.data.length&&(f[1].enabled=!1);B.IS()&&(f[3].enabled=!0);switch(B.data.specifier){case "Item":a.push("On Pickup","On Drop","On Dequip","On Trade");f.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0});break;case "Tile":a.push("Interact On","Interact Facing","Will Enter","On Enter","Will Leave","On Leave","On Come Near"),f.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0}),f[0].enabled=
!1}B.U.f(DropDownList.qd(B,B.gR,a,d.J,f));B.ib=c;break;case "Use":B.k.kq(c,B.Nc[c])}};this.M.da=ListView.create(this.M);this.M.da.Id(f);this.M.f(this.M.da)},eI:function(a){for(var c=0;c<this.data.data.length;c++)"On Talk Close"==this.data.data[c].type&&this.data.data[c].data.attachedEvent==a&&(this.eI(c),this.data.data.splice(c,1))},ST:function(a){for(var c=0;c<this.data.data.length;c++)if("On Talk Close"==this.data.data[c].type&&this.data.data[c].data.attachedEvent==a)return!0;return!1},IS:function(){for(var a=
0;a<this.data.data.length;a++)for(var c=0;c<this.data.data[a].responses.length;c++)if("Talk"==this.data.data[a].responses[c].type)return!0;return!1},kS:function(a){switch(a){case 1:null!=this.k.ib&&(this.k.eI(this.k.ib),this.k.data.data.splice(this.k.ib,1),this.k.tb(),this.k.ib=null)}},mS:function(a){switch(a){case 1:null!=this.k.ib&&(this.k.data.data[this.k.fj].responses.splice(this.k.ib,1),this.k.tb(),this.k.ib=null,this.k.fj=null)}},lS:function(a){switch(a){case 1:null!=this.k.ib&&(this.k.data.data[this.k.fj].requirements.splice(this.k.ib,
1),this.k.tb(),this.k.ib=null,this.k.fj=null)}},mR:function(a){this.k.data.data.push({type:"On Talk Close",responses:[],requirements:[],data:{attachedEvent:a}});this.k.tb()},nR:function(a,c){this.k.lE=a;for(var d=[],e=0;e<this.k.data.data[a].responses.length;e++)if("Talk"==this.k.data.data[a].responses[e].type)for(var f in this.k.data.data[a].responses[e].data.options)d.push(f+": "+this.k.data.data[a].responses[e].data.options[f]);this.U.f(DropDownList.qd(this.k,this.k.PR,d,c.J))},PR:function(a){this.k.data.data.push({type:"On Talk Option Selected for event:"+
this.k.lE+", option:"+a,responses:[],requirements:[],data:{attachedEvent:this.k.lE,attachedOption:a}});this.k.tb();this.k.lE=null},gR:function(a,c){var d="";switch(a){case 0:d="Default Event";break;case 1:d="On Examine";break;case 2:var d=[],e;for(e in this.k.data.data)if(this.k.data.data[e])for(var f=0;f<this.k.data.data[e].responses.length;f++)"Talk"==this.k.data.data[e].responses[f].type&&d.push(e+": "+this.k.data.data[e].type);this.U.f(DropDownList.qd(this.k,this.k.mR,d,c.J));return;case 3:d=
[];for(e in this.k.data.data)if(this.k.data.data[e])for(f=0;f<this.k.data.data[e].responses.length;f++)"Talk"==this.k.data.data[e].responses[f].type&&0<this.k.data.data[e].responses[f].data.options.length&&d.push(e+": "+this.k.data.data[e].type);this.U.f(DropDownList.qd(this.k,this.k.nR,d,c.J));return}if(""==d)switch(this.k.data.specifier){case "Item":switch(a){case 4:d="On Pickup";break;case 5:d="On Drop";break;case 6:d="On Dequip";break;case 7:d="On Trade"}break;case "Tile":switch(a){case 4:d="Interact On";
break;case 5:d="Interact Facing";break;case 6:d="Will Enter";break;case 7:d="On Enter";break;case 8:d="Will Leave";break;case 9:d="On Leave";break;case 10:d="On Come Near"}}this.k.data.data.push({type:d,responses:[],requirements:[],data:{}});this.k.tb()},lR:function(a){var c="";switch(a){case 0:c="Talk";break;case 1:c="Destroy";break;case 2:c="Give /Take Item";break;case 3:c="Set Quest Point";break;case 4:c="Warp Player";break;case 5:c="Wait";break;case 6:c="Repeat Responses";break;case 7:c="Open/Close Panel";
break;case 8:c="Modify Player Stats"}if(""==c)switch(this.k.data.specifier){case "NPC":switch(a){case 9:c="Attack";break;case 10:c="Run Away";break;case 11:c="Defend";break;case 12:c="Modify NPC Stats"}break;case "Item":switch(a){case 9:c="Equip Item";break;case 10:c="Read Item"}break;case "Tile":switch(a){case 9:c="Block Entry";break;case 10:c="Add Layer Graphic"}}this.k.data.data[this.k.fj].responses.push({type:c,data:{}});this.k.tb()},kR:function(a){var c="";switch(a){case 0:c="Has Player Item";
break;case 1:c="Is Player Statistics";break;case 2:c="Is Quest Point";break;case 3:c="Is Panel Visibility";break;case 4:c="Is Player Inventory Space"}if(""==c)switch(this.k.data.specifier){case "Tile":switch(a){case 5:c="Is Event Fired By"}break;case "NPC":switch(a){case 5:c="Is NPC Statistics";break;case 6:c="Is NPC Actioning"}}this.k.data.data[this.k.fj].requirements.push({type:c,data:{}});this.k.tb()},Cc:function(){return{panels:{position:r.a(0,60),children:{background_image:{Y:"GUI/event_panel.png",
d:r.a(0,0)},main_panel:{d:r.a(0,0),size:r.size(1E3,400),children:{list:{size:r.size(758,360),A:r.i(0,200,200,200),position:r.a(0,0),d:r.a(0,0)},okbtn:{position:r.a(4,364),size:r.size(32,32),Y:"GUI/tick_icon.png",d:r.a(0,0)},cancelbtn:{position:r.a(46,364),size:r.size(32,32),Y:"GUI/cross_icon.png",d:r.a(0,0)},defaultsbtn:{position:r.a(542,364),size:r.size(64,32),A:r.i(0,255,0,255),d:r.a(0,0),children:{contents:{label:"Defaults",position:r.a(32,16),d:r.a(0.5,0.5),color:r.l(0,0,0)}}},specifier:{position:r.a(620,
364),size:r.size(128,32),A:r.i(0,255,0,255),d:r.a(0,0),children:{contents:{label:"Includes: None",position:r.a(64,16),d:r.a(0.5,0.5),color:r.l(0,0,0)}}},namelbl:{label:"Name:",fontSize:20,d:r.a(0,0),position:r.a(110,368),color:r.l(0,0,0)},nameEntry:{position:r.a(180,364),size:r.size(340,32),A:r.i(255,255,255,255)}}},control_panel:{d:r.a(0,0),position:r.a(0,400),size:r.size(1E3,32),children:{header:{label:"Script Editor",fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(976,6),size:r.size(20,
20),d:r.a(0,0),Y:"GUI/close.png"}}},subEditorOver:{visible:!1,A:r.i(0,0,0,127),position:r.a(0,0),size:r.size(800,400)},mainEditorOver:{A:r.i(0,0,0,127),position:r.a(800,0),size:r.size(200,400)}}}}},oI:function(a,c,d){this.ka={event:a,listtype:c,id:d};this.Kn=this.data.data[a][c][d].type;this.aK=G(this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data);this.mt()},maa:function(a){this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data=G(a);this.Yw();this.ka=null;this.tb()},laa:function(){this.Yw();
this.ka=null},defaultSelected:function(a,c){0<this.k.data.data.length?(this.k.bI=a,this.U.f(DropDownList.qd(this.k,this.k.oS,["Cancel","Clear Script (Required)"],c.J))):this.k.HK(a)},g3:function(){},wE:null,xE:null,yE:null,Ah:null,fK:null,OJ:null,dj:null,ej:null,Xx:null,Nl:null,Ol:null,Ml:null,Zx:null,$x:null,Yx:null,WJ:null,Rn:0,MJ:null,DH:null,fx:null,Ac:null,ey:null,DS:function(a,c){var d={panels:{children:{editArea:{A:r.i(127,127,127,255),d:r.a(0,0),position:r.a(0,0),size:r.size(200,250)},editBox:{size:r.size(178,
196),d:r.a(0,0),position:r.a(8,12)},okbtn:{position:r.a(62,210),size:r.size(32,32),Y:"GUI/tick_icon.png",d:r.a(0,0)},cancelbtn:{position:r.a(106,210),size:r.size(32,32),Y:"GUI/cross_icon.png",d:r.a(0,0)}}}};this.hg=Ia(d,!0);this.g.f(this.hg);this.jE=new $(this.hg.editBox,r.size(this.hg.editBox.c().width,this.hg.editBox.c().height),r.a(0,this.hg.editBox.c().height),c?c:"\x3cEnter text\x3e",r.i(255,255,255),r.l(0,0,0),!0);this.jE.kb(!0);this.jE.cd(!1);this.kE=a},mt:function(){this.g&&(this.g.N(),this.g=
null);this.b.subEditorOver.B(!0);this.b.mainEditorOver.B(!1);var a={panels:{position:r.a(802,0),children:{}}},c=this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data;switch(this.Kn){case "Warp Player":a.panels.children={mapNumberLabel:{label:"Map ID",d:r.a(0,0),position:r.a(12,374)},mapNumberText:{A:r.i(255,255,255,255),d:r.a(0,0),position:r.a(12,340),size:r.size(100,32)},mapXLabel:{label:"Map X",d:r.a(0,0),position:r.a(12,310)},mapXText:{A:r.i(255,255,255,255),d:r.a(0,0),position:r.a(12,
276),size:r.size(80,32)},mapYLabel:{label:"Map Y",d:r.a(0,0),position:r.a(100,310)},mapYText:{A:r.i(255,255,255,255),d:r.a(0,0),position:r.a(100,276),size:r.size(80,32)}};break;case "Read Item":a.panels.children={sayLabel:{label:"Say:",d:r.a(0,0),position:r.a(12,374)},sayText:{A:r.i(255,255,255,255),d:r.a(0,0),position:r.a(12,50),size:r.size(174,322)}};break;case "Talk":a.panels.children={sayLabel:{label:"Say:",d:r.a(0,0),position:r.a(12,374)},sayText:{A:r.i(255,255,255,255),d:r.a(0,0),position:r.a(12,
274),size:r.size(174,100)},optionLabel:{label:"Options:",d:r.a(0,0),position:r.a(12,235)},optionList:{A:r.i(255,255,255,255),d:r.a(0,0),position:r.a(12,50),size:r.size(154,185)}};break;case "Is Quest Point":case "Set Quest Point":a.panels.children={questLabel:{label:"Quest:",d:r.a(0,0),position:r.a(12,374)},questList:{A:r.i(255,255,255,255),d:r.a(0,0),position:r.a(12,230),size:r.size(154,135)},objectiveLabel:{label:"Objective:",d:r.a(0,0),position:r.a(12,189)},objectiveList:{A:r.i(255,255,255,255),
d:r.a(0,0),position:r.a(12,50),size:r.size(154,135)}};break;case "Give /Take Item":case "Has Player Item":a.panels.children={itemsLabel:{label:"Item:",d:r.a(0,0),position:r.a(12,374)},itemList:{A:r.i(255,255,255,255),d:r.a(0,0),position:r.a(12,230),size:r.size(154,135)},amountLabel:{label:"Amount:",d:r.a(0,0),position:r.a(12,189)},amountText:{A:r.i(255,255,255,255),d:r.a(0,0),position:r.a(12,153),size:r.size(154,32)},amountNote:{label:"Has Player Item"==this.Kn?"":"Use negative item amounts to take away. Use positive amounts to give.",
d:r.a(0,1),position:r.a(12,145)}};break;case "Modify Player Stats":case "Modify NPC Stats":a.panels.children={skillsLabel:{label:"Skill:",d:r.a(0,0),position:r.a(12,374)},skillList:{A:r.i(255,255,255,255),d:r.a(0,0),position:r.a(12,230),size:r.size(154,135)},levelLabel:{label:"Level Modify",d:r.a(0,0),position:r.a(12,205)},levelText:{A:r.i(255,255,255,255),d:r.a(0,0),position:r.a(12,169),size:r.size(154,32)},expLabel:{label:"XP Modify: (% allowed)",d:r.a(0,0),position:r.a(12,145)},expText:{A:r.i(255,
255,255,255),d:r.a(0,0),position:r.a(12,109),size:r.size(154,32)},healthLabel:{label:"Health Modify: (% allowed)",d:r.a(0,0),position:r.a(12,85)},healthText:{A:r.i(255,255,255,255),d:r.a(0,0),position:r.a(12,49),size:r.size(154,32)}};break;case "Is Panel Visibility":case "Open/Close Panel":a.panels.children={panelsLabel:{label:"Panel:",d:r.a(0,0),position:r.a(12,374)},panelList:{A:r.i(255,255,255,255),d:r.a(0,0),position:r.a(12,230),size:r.size(154,135)},visibleLabel:{label:"Visibility:",d:r.a(0,
0),position:r.a(12,205)},visibleButton:{A:r.i(255,0,0,255),d:r.a(0,0),position:r.a(12,169),size:r.size(154,32),children:{content:{position:r.a(77,16),d:r.a(0.5,0.5),label:"Invisible",color:r.l(0,0,0)}}}};break;case "Is Event Fired By":a.panels.children={objectLabel:{label:"Possible Types:",d:r.a(0,0),position:r.a(12,374)},objectList:{A:r.i(255,255,255,255),d:r.a(0,0),position:r.a(12,230),size:r.size(154,135)}};break;case "Is NPC Actioning":a.panels.children={actionLabel:{label:"Actions:",d:r.a(0,
0),position:r.a(12,374)},actionList:{A:r.i(255,255,255,255),d:r.a(0,0),position:r.a(12,230),size:r.size(154,135)}};break;case "Is Player Inventory Space":a.panels.children={spaceLabel:{label:"Inventory Space",d:r.a(0,0),position:r.a(12,374)},spaceText:{A:r.i(255,255,255,255),d:r.a(0,0),position:r.a(12,340),size:r.size(100,32)}};break;case "Wait":a.panels.children={timeLabel:{label:"Time (Seconds)",d:r.a(0,0),position:r.a(12,374)},timeText:{A:r.i(255,255,255,255),d:r.a(0,0),position:r.a(12,340),size:r.size(100,
32)}};break;case "Repeat Responses":a.panels.children={amountLabel:{label:"Repeat Amount",d:r.a(0,0),position:r.a(12,374)},amountText:{A:r.i(255,255,255,255),d:r.a(0,0),position:r.a(12,340),size:r.size(100,32)},amountNote:{label:"Use 0 for infinite amount of repeats.",d:r.a(0,1),position:r.a(12,300)}};break;case "Is Player Statistics":case "Is NPC Statistics":a.panels.children={skillsLabel:{label:"Skill:",d:r.a(0,0),position:r.a(12,374)},skillList:{A:r.i(255,255,255,255),d:r.a(0,0),position:r.a(12,
230),size:r.size(154,135)},levelLabel:{label:"Level Range",d:r.a(0,0),position:r.a(12,205)},levelDash:{label:"-",d:r.a(0,0),position:r.a(91,174)},levelTextLower:{A:r.i(255,255,255,255),d:r.a(0,0),position:r.a(12,169),size:r.size(75,32)},levelTextUpper:{A:r.i(255,255,255,255),d:r.a(0,0),position:r.a(100,169),size:r.size(75,32)},expLabel:{label:"XP Range: (% allowed)",d:r.a(0,0),position:r.a(12,145)},expDash:{label:"-",d:r.a(0,0),position:r.a(91,114)},expTextLower:{A:r.i(255,255,255,255),d:r.a(0,0),
position:r.a(12,109),size:r.size(75,32)},expTextUpper:{A:r.i(255,255,255,255),d:r.a(0,0),position:r.a(100,109),size:r.size(75,32)},healthLabel:{label:"Health Range: (% allowed)",d:r.a(0,0),position:r.a(12,85)},healthDash:{label:"-",d:r.a(0,0),position:r.a(91,54)},healthTextLower:{A:r.i(255,255,255,255),d:r.a(0,0),position:r.a(12,49),size:r.size(75,32)},healthTextUpper:{A:r.i(255,255,255,255),d:r.a(0,0),position:r.a(100,49),size:r.size(75,32)}};break;case "Equip Item":a.panels.children={equipLabel:{label:"Equips To:",
d:r.a(0,0),position:r.a(12,374)},headButton:{A:r.i(255,0,0,255),d:r.a(0,0),position:r.a(69,320),size:r.size(55,32),children:{content:{position:r.a(28,16),d:r.a(0.5,0.5),label:"Head",color:r.l(0,0,0)}}},bodyButton:{A:r.i(255,0,0,255),d:r.a(0,0),position:r.a(69,280),size:r.size(55,32),children:{content:{position:r.a(28,16),d:r.a(0.5,0.5),label:"Body",color:r.l(0,0,0)}}},legButton:{A:r.i(255,0,0,255),d:r.a(0,0),position:r.a(69,240),size:r.size(55,32),children:{content:{position:r.a(28,16),d:r.a(0.5,
0.5),label:"Legs",color:r.l(0,0,0)}}},feetButton:{A:r.i(255,0,0,255),d:r.a(0,0),position:r.a(69,200),size:r.size(55,32),children:{content:{position:r.a(28,16),d:r.a(0.5,0.5),label:"Feet",color:r.l(0,0,0)}}},lArmButton:{A:r.i(255,0,0,255),d:r.a(0,0),position:r.a(10,280),size:r.size(55,32),children:{content:{position:r.a(28,16),d:r.a(0.5,0.5),label:"L Arm",color:r.l(0,0,0)}}},rArmButton:{A:r.i(255,0,0,255),d:r.a(0,0),position:r.a(128,280),size:r.size(55,32),children:{content:{position:r.a(28,16),d:r.a(0.5,
0.5),label:"R Arm",color:r.l(0,0,0)}}},modButton:{A:r.i(255,0,0,255),d:r.a(0,0),position:r.a(10,160),size:r.size(55,32),children:{content:{position:r.a(28,16),d:r.a(0.5,0.5),label:"Mod",color:r.l(0,0,0)}}}}}a.panels.children.okbtn={position:r.a(62,8),size:r.size(32,32),Y:"GUI/tick_icon.png",d:r.a(0,0)};a.panels.children.cancelbtn={position:r.a(106,8),size:r.size(32,32),Y:"GUI/cross_icon.png",d:r.a(0,0)};this.g=Ia(a,!0);this.b.f(this.g);switch(this.Kn){case "Warp Player":var d=a=1;c.index&&(a=c.index%
U,d=Math.floor(c.index/U));this.wE=new $(this.g.mapNumberText,r.size(this.g.mapNumberText.c().width,this.g.mapNumberText.c().height),r.a(0,this.g.mapNumberText.c().height),null!=c.mapnum&&"undefined"!==c.mapnum?c.mapnum:"0",r.i(255,255,255),r.l(0,0,0));this.wE.kb(!0);this.xE=new $(this.g.mapXText,r.size(this.g.mapXText.c().width,this.g.mapXText.c().height),r.a(0,this.g.mapXText.c().height),a,r.i(255,255,255),r.l(0,0,0));this.xE.kb(!0);this.yE=new $(this.g.mapYText,r.size(this.g.mapYText.c().width,
this.g.mapYText.c().height),r.a(0,this.g.mapYText.c().height),d,r.i(255,255,255),r.l(0,0,0));this.yE.kb(!0);break;case "Read Item":this.Ah=new $(this.g.sayText,r.size(this.g.sayText.c().width,this.g.sayText.c().height),r.a(0,this.g.sayText.c().height),c.say?c.say:"\x3cEnter text\x3e",r.i(255,255,255),r.l(0,0,0),!0);this.Ah.kb(!0);this.Ah.cd(!1);break;case "Talk":this.Ah=new $(this.g.sayText,r.size(this.g.sayText.c().width,this.g.sayText.c().height),r.a(0,this.g.sayText.c().height),c.say?c.say:"\x3cEnter text\x3e",
r.i(255,255,255),r.l(0,0,0),!0);this.Ah.kb(!0);this.Ah.cd(!1);var e=[],a=[],f=c.options?c.options:[];console.log(f);for(d=0;d<f.length;d++){e[d]=r.D.create();var g=r.ca.create(r.i(0,0,0,127),154,1),h=r.Q.create(f[d],"Arial",15);h.n(r.l(0,0,0));h.G(r.a(0,0));h.m(r.a(4,4));h.cc(r.size(104,0));e[d].V(154,h.c().height+8);var k=r.v.eb(r.ga.e().qa("GUI/edit.png"));k.m(r.a(130,0));k.G(r.a(0,0));k.Zb="Edit";k.Pc((h.c().height+8)/2-10);var l=r.v.eb(r.ga.e().qa("GUI/trash.png"));l.m(r.a(108,0));l.G(r.a(0,0));
l.Zb="Delete";l.Pc((h.c().height+8)/2-10);a.push([k,l]);var m=r.ca.create(r.i(255,255,255,255),154,h.c().height+8);e[d].f(m);e[d].sc=m;e[d].f(g);e[d].f(h);e[d].f(k);e[d].f(l)}d=r.ca.create(r.i(70,200,70,255),90,26);g=r.Q.create("+","Arial",20);g.m(45,13);g.G(r.a(0.5,0.5));d.m(r.a(34,0));d.Zb="Add";d.f(g);a.push([d]);e.push(d);var n=this;this.g.optionList.sd=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return r.size(154,a)};this.g.optionList.ad=function(){return e.length};this.g.optionList.Fd=
function(a){return e[a].c()};this.g.optionList.Ed=function(a){return e[a]};this.g.optionList.di=function(a){return e[a].sc};this.g.optionList.kc=function(a,d){if(!n.hg)switch(a){case "Add":c.options||(c.options=[]);c.options.push("\x3cEnter Text\x3e");c.say=n.Ah.R();n.g.optionList.da.N();n.g.optionList.da=null;n.mt();break;case "Delete":c.options.splice(d,1);c.say=n.Ah.R();n.g.N();n.g=null;n.mt();break;case "Edit":c.say=n.Ah.R(),n.DS(d,c.options[d]),n.g.optionList.da.N(),n.g.optionList.da=null}};
this.g.optionList.da=ListView.create(this.g.optionList);this.g.optionList.da.Id(a);this.g.optionList.f(this.g.optionList.da);break;case "Is Quest Point":case "Set Quest Point":e=[];a=[];f=ObjectLists.Es();for(d=0;d<f.length;d++)e[d]=r.D.create(),g=r.ca.create(r.i(0,0,0,127),154,1),h=r.Q.create(f[d].name,"Arial",15),h.n(r.l(0,0,0)),h.G(r.a(0,0)),h.m(r.a(4,4)),h.cc(r.size(126,0)),k=r.v.eb(r.ga.e().qa("GUI/use.png")),k.m(r.a(130,0)),k.G(r.a(0,0)),k.Zb="Use",e[d].V(154,h.c().height+8),k.Pc((h.c().height+
8)/2-10),a.push([k]),m=r.ca.create(r.i(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].sc=m,e[d].f(g),e[d].f(h),e[d].f(k);n=this;this.g.questList.sd=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return r.size(154,a)};this.g.questList.ad=function(){return e.length};this.g.questList.Fd=function(a){return e[a].c()};this.g.questList.Ed=function(a){return e[a]};this.g.questList.di=function(a){return e[a].sc};this.g.questList.kc=function(a,c){if("Use"==a){n.g.objectiveList.da&&n.g.objectiveList.da.N();
this.da.sc(c);n.fK=c;for(var d=[],e=[],f=r.ga.e(),g=ObjectLists.Es()[c].objectiveList,h=0;h<g.length;h++){d[h]=r.D.create();var k=r.ca.create(r.i(0,0,0,127),154,1);k.m(r.a(0,0));var l=r.Q.create(g[h],"Arial",15);l.n(r.l(0,0,0));l.G(r.a(0,0));l.m(r.a(4,4));l.cc(r.size(126,0));var m=r.v.eb(f.qa("GUI/use.png"));m.m(r.a(130,0));m.G(r.a(0,0));m.Zb="Use";e.push([m]);d[h].V(126,l.c().height+8);m.Pc((l.c().height+8)/2-10);var O=r.ca.create(r.i(255,255,255,255),154,l.c().height+8);d[h].f(O);d[h].sc=O;d[h].f(k);
d[h].f(l);d[h].f(m)}n.g.objectiveList.sd=function(){for(var a=0,c=0;c<d.length;c++)a+=d[c].c().height;return r.size(154,a)};n.g.objectiveList.ad=function(){return d.length};n.g.objectiveList.di=function(a){return d[a].sc};n.g.objectiveList.Fd=function(a){return d[a].c()};n.g.objectiveList.Ed=function(a){return d[a]};n.g.objectiveList.kc=function(a,c){this.da.sc(c);n.OJ=c};n.g.objectiveList.da=ListView.create(n.g.objectiveList);n.g.objectiveList.da.Id(e);n.g.objectiveList.f(n.g.objectiveList.da)}};
this.g.questList.da=ListView.create(this.g.questList);this.g.questList.da.Id(a);this.g.questList.f(this.g.questList.da);null!=c.quest&&"undefined"!==c.quest&&(this.g.questList.kc("Use",c.quest),null!=c.objective&&"undefined"!==c.objective&&this.g.objectiveList.kc("Use",c.objective));break;case "Give /Take Item":case "Has Player Item":this.g.amountNote.cc(r.size(180,0));e=[];a=[];f=ObjectLists.Bf();for(d=0;d<f.length;d++)e[d]=r.D.create(),g=r.ca.create(r.i(0,0,0,127),154,1),h=r.Q.create(f[d].name,
"Arial",15),h.n(r.l(0,0,0)),h.G(r.a(0,0)),h.m(r.a(4,4)),h.cc(r.size(126,0)),k=r.v.eb(r.ga.e().qa("GUI/use.png")),k.m(r.a(130,0)),k.G(r.a(0,0)),k.Zb="Use",e[d].V(154,h.c().height+8),k.Pc((h.c().height+8)/2-10),a.push([k]),m=r.ca.create(r.i(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].sc=m,e[d].f(g),e[d].f(h),e[d].f(k);n=this;this.g.itemList.sd=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return r.size(154,a)};this.g.itemList.ad=function(){return e.length};this.g.itemList.Fd=
function(a){return e[a].c()};this.g.itemList.Ed=function(a){return e[a]};this.g.itemList.di=function(a){return e[a].sc};this.g.itemList.kc=function(a,c){"Use"==a&&(this.da.sc(c),n.ej=c)};this.g.itemList.da=ListView.create(this.g.itemList);this.g.itemList.da.Id(a);this.g.itemList.f(this.g.itemList.da);null!=c.item&&"undefined"!==c.item&&this.g.itemList.kc("Use",c.item);this.dj=new $(this.g.amountText,r.size(this.g.amountText.c().width,this.g.amountText.c().height),r.a(0,this.g.amountText.c().height),
c.amount?c.amount:"0",r.i(255,255,255),r.l(0,0,0));this.dj.kb(!0);this.dj.cd(!1);break;case "Modify Player Stats":case "Modify NPC Stats":e=[];a=[];f=ObjectLists.Zi();for(d=0;d<f.length;d++)e[d]=r.D.create(),g=r.ca.create(r.i(0,0,0,127),154,1),h=r.Q.create(f[d].name,"Arial",15),h.n(r.l(0,0,0)),h.G(r.a(0,0)),h.m(r.a(4,4)),h.cc(r.size(126,0)),k=r.v.eb(r.ga.e().qa("GUI/use.png")),k.m(r.a(130,0)),k.G(r.a(0,0)),k.Zb="Use",e[d].V(154,h.c().height+8),k.Pc((h.c().height+8)/2-10),a.push([k]),m=r.ca.create(r.i(255,
255,255,255),154,h.c().height+8),e[d].f(m),e[d].sc=m,e[d].f(g),e[d].f(h),e[d].f(k);n=this;this.g.skillList.sd=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return r.size(154,a)};this.g.skillList.ad=function(){return e.length};this.g.skillList.Fd=function(a){return e[a].c()};this.g.skillList.Ed=function(a){return e[a]};this.g.skillList.di=function(a){return e[a].sc};this.g.skillList.kc=function(a,c){"Use"==a&&(this.da.sc(c),n.Xx=c)};this.g.skillList.da=ListView.create(this.g.skillList);
this.g.skillList.da.Id(a);this.g.skillList.f(this.g.skillList.da);null!=c.skill&&"undefined"!==c.skill&&this.g.skillList.kc("Use",c.skill);this.Nl=new $(this.g.levelText,r.size(this.g.levelText.c().width,this.g.levelText.c().height),r.a(0,this.g.levelText.c().height),c.level?c.level:"0",r.i(255,255,255),r.l(0,0,0));this.Nl.kb(!0);this.Nl.cd(!1);this.Ol=new $(this.g.expText,r.size(this.g.expText.c().width,this.g.expText.c().height),r.a(0,this.g.expText.c().height),c.xp?c.xp:"0",r.i(255,255,255),r.l(0,
0,0));this.Ol.kb(!0);this.Ol.cd(!1);this.Ml=new $(this.g.healthText,r.size(this.g.healthText.c().width,this.g.healthText.c().height),r.a(0,this.g.healthText.c().height),c.health?c.health:"0",r.i(255,255,255),r.l(0,0,0));this.Ml.kb(!0);this.Ml.cd(!1);break;case "Is Panel Visibility":case "Open/Close Panel":e=[];a=[];f=["Inventory","Equipment","Skills","QuestLog"];for(d=0;d<f.length;d++)e[d]=r.D.create(),g=r.ca.create(r.i(0,0,0,127),154,1),h=r.Q.create(f[d],"Arial",15),h.n(r.l(0,0,0)),h.G(r.a(0,0)),
h.m(r.a(4,4)),h.cc(r.size(126,0)),k=r.v.eb(r.ga.e().qa("GUI/use.png")),k.m(r.a(130,0)),k.G(r.a(0,0)),k.Zb="Use",e[d].V(154,h.c().height+8),k.Pc((h.c().height+8)/2-10),a.push([k]),m=r.ca.create(r.i(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].sc=m,e[d].f(g),e[d].f(h),e[d].f(k);n=this;this.g.panelList.sd=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return r.size(154,a)};this.g.panelList.ad=function(){return e.length};this.g.panelList.Fd=function(a){return e[a].c()};this.g.panelList.Ed=
function(a){return e[a]};this.g.panelList.di=function(a){return e[a].sc};this.g.panelList.kc=function(a,c){"Use"==a&&(this.da.sc(c),n.WJ=c)};this.g.panelList.da=ListView.create(this.g.panelList);this.g.panelList.da.Id(a);this.g.panelList.f(this.g.panelList.da);null!=c.panel&&"undefined"!==c.panel&&this.g.panelList.kc("Use",c.panel);this.Rn=1==c.visible?1:0;1==this.Rn&&(this.g.visibleButton.n(r.i(0,255,0,255)),this.g.visibleButton.content.ha("Visible"));break;case "Is Event Fired By":e=[];a=[];f=["Player",
"NPC"];for(d=0;d<f.length;d++)e[d]=r.D.create(),g=r.ca.create(r.i(0,0,0,127),154,1),h=r.Q.create(f[d],"Arial",15),h.n(r.l(0,0,0)),h.G(r.a(0,0)),h.m(r.a(4,4)),h.cc(r.size(126,0)),k=r.v.eb(r.ga.e().qa("GUI/use.png")),k.m(r.a(130,0)),k.G(r.a(0,0)),k.Zb="Use",e[d].V(154,h.c().height+8),k.Pc((h.c().height+8)/2-10),a.push([k]),m=r.ca.create(r.i(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].sc=m,e[d].f(g),e[d].f(h),e[d].f(k);n=this;this.g.objectList.sd=function(){for(var a=0,c=0;c<e.length;c++)a+=
e[c].c().height;return r.size(154,a)};this.g.objectList.ad=function(){return e.length};this.g.objectList.Fd=function(a){return e[a].c()};this.g.objectList.Ed=function(a){return e[a]};this.g.objectList.di=function(a){return e[a].sc};this.g.objectList.kc=function(a,c){"Use"==a&&(this.da.sc(c),n.MJ=c)};this.g.objectList.da=ListView.create(this.g.objectList);this.g.objectList.da.Id(a);this.g.objectList.f(this.g.objectList.da);null!=c.object&&"undefined"!==c.object&&this.g.objectList.kc("Use",c.object);
break;case "Is NPC Actioning":e=[];a=[];f=["Attacking","Defending","Fleeing"];for(d=0;d<f.length;d++)e[d]=r.D.create(),g=r.ca.create(r.i(0,0,0,127),154,1),h=r.Q.create(f[d],"Arial",15),h.n(r.l(0,0,0)),h.G(r.a(0,0)),h.m(r.a(4,4)),h.cc(r.size(126,0)),k=r.v.eb(r.ga.e().qa("GUI/use.png")),k.m(r.a(130,0)),k.G(r.a(0,0)),k.Zb="Use",e[d].V(154,h.c().height+8),k.Pc((h.c().height+8)/2-10),a.push([k]),m=r.ca.create(r.i(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].sc=m,e[d].f(g),e[d].f(h),e[d].f(k);n=
this;this.g.actionList.sd=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return r.size(154,a)};this.g.actionList.ad=function(){return e.length};this.g.actionList.Fd=function(a){return e[a].c()};this.g.actionList.Ed=function(a){return e[a]};this.g.actionList.di=function(a){return e[a].sc};this.g.actionList.kc=function(a,c){"Use"==a&&(this.da.sc(c),n.DH=c)};this.g.actionList.da=ListView.create(this.g.actionList);this.g.actionList.da.Id(a);this.g.actionList.f(this.g.actionList.da);null!=
c.action&&"undefined"!==c.action&&this.g.actionList.kc("Use",c.action);break;case "Is Player Inventory Space":this.fx=new $(this.g.spaceText,r.size(this.g.spaceText.c().width,this.g.spaceText.c().height),r.a(0,this.g.spaceText.c().height),null!=c.space&&"undefined"!==c.space?c.space:"0",r.i(255,255,255),r.l(0,0,0));this.fx.kb(!0);this.fx.cd(!1);break;case "Wait":this.ey=new $(this.g.timeText,r.size(this.g.timeText.c().width,this.g.timeText.c().height),r.a(0,this.g.timeText.c().height),null!=c.time&&
"undefined"!==c.time?c.time:"0",r.i(255,255,255),r.l(0,0,0));this.ey.kb(!0);this.ey.cd(!1);break;case "Repeat Responses":this.g.amountNote.cc(r.size(180,0));this.FD=new $(this.g.amountText,r.size(this.g.amountText.c().width,this.g.amountText.c().height),r.a(0,this.g.amountText.c().height),null!=c.amount&&"undefined"!==c.amount?c.amount:"1",r.i(255,255,255),r.l(0,0,0));this.FD.kb(!0);this.FD.cd(!1);break;case "Is Player Statistics":case "Is NPC Statistics":e=[];a=[];f=ObjectLists.Zi();for(d=0;d<f.length;d++)e[d]=
r.D.create(),g=r.ca.create(r.i(0,0,0,127),154,1),h=r.Q.create(f[d].name,"Arial",15),h.n(r.l(0,0,0)),h.G(r.a(0,0)),h.m(r.a(4,4)),h.cc(r.size(126,0)),k=r.v.eb(r.ga.e().qa("GUI/use.png")),k.m(r.a(130,0)),k.G(r.a(0,0)),k.Zb="Use",e[d].V(154,h.c().height+8),k.Pc((h.c().height+8)/2-10),a.push([k]),m=r.ca.create(r.i(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].sc=m,e[d].f(g),e[d].f(h),e[d].f(k);n=this;this.g.skillList.sd=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return r.size(154,
a)};this.g.skillList.ad=function(){return e.length};this.g.skillList.Fd=function(a){return e[a].c()};this.g.skillList.Ed=function(a){return e[a]};this.g.skillList.di=function(a){return e[a].sc};this.g.skillList.kc=function(a,c){"Use"==a&&(this.da.sc(c),n.Xx=c)};this.g.skillList.da=ListView.create(this.g.skillList);this.g.skillList.da.Id(a);this.g.skillList.f(this.g.skillList.da);null!=c.skill&&"undefined"!==c.skill&&this.g.skillList.kc("Use",c.skill);this.Nl=new $(this.g.levelTextLower,r.size(this.g.levelTextLower.c().width,
this.g.levelTextLower.c().height),r.a(0,this.g.levelTextLower.c().height),null!=c.levelLower&&"undefined"!==c.levelLower&&""!=c.levelLower?c.levelLower:"0",r.i(255,255,255),r.l(0,0,0));this.Nl.kb(!0);this.Nl.cd(!1);this.Ol=new $(this.g.expTextLower,r.size(this.g.expTextLower.c().width,this.g.expTextLower.c().height),r.a(0,this.g.expTextLower.c().height),null!=c.xpLower&&"undefined"!==c.xpLower&&""!=c.xpLower?c.xpLower:"0",r.i(255,255,255),r.l(0,0,0));this.Ol.kb(!0);this.Ol.cd(!1);this.Ml=new $(this.g.healthTextLower,
r.size(this.g.healthTextLower.c().width,this.g.healthTextLower.c().height),r.a(0,this.g.healthTextLower.c().height),null!=c.healthLower&&"undefined"!==c.healthLower&&""!=c.healthLower?c.healthLower:"0",r.i(255,255,255),r.l(0,0,0));this.Ml.kb(!0);this.Ml.cd(!1);this.Zx=new $(this.g.levelTextUpper,r.size(this.g.levelTextUpper.c().width,this.g.levelTextUpper.c().height),r.a(0,this.g.levelTextUpper.c().height),null!=c.levelUpper&&"undefined"!==c.levelUpper&&""!=c.levelUpper?c.levelUpper:"0",r.i(255,255,
255),r.l(0,0,0));this.Zx.kb(!0);this.Zx.cd(!1);this.$x=new $(this.g.expTextUpper,r.size(this.g.expTextUpper.c().width,this.g.expTextUpper.c().height),r.a(0,this.g.expTextUpper.c().height),null!=c.xpUpper&&"undefined"!==c.xpUpper&&""!=c.xpUpper?c.xpUpper:"0",r.i(255,255,255),r.l(0,0,0));this.$x.kb(!0);this.$x.cd(!1);this.Yx=new $(this.g.healthTextUpper,r.size(this.g.healthTextUpper.c().width,this.g.healthTextUpper.c().height),r.a(0,this.g.healthTextUpper.c().height),null!=c.healthUpper&&"undefined"!==
c.healthUpper&&""!=c.healthUpper?c.healthUpper:"0",r.i(255,255,255),r.l(0,0,0));this.Yx.kb(!0);this.Yx.cd(!1);break;case "Equip Item":null!=c.equip&&"undefined"!==c.equip?(this.Ac="head",this.nk(c.equip)):this.nk("head")}},Yw:function(){this.b.subEditorOver.B(!1);this.b.mainEditorOver.B(!0);this.Kn=null;this.g.N();this.g=null},HK:function(a){switch(a){case 0:this.Hn(1,!0);this.data.data=[{type:"Will Enter",responses:[{type:"Block Entry",data:{}}],requirements:[],data:{}}];break;case 1:this.Hn(1,!0);
this.data.data=[{type:"On Enter",responses:[{type:"Warp Player",data:{}}],requirements:[],data:{}}];break;case 2:this.Hn(1,!0);this.data.data=[{type:"Default Event",responses:[{type:"Show Sign",data:{}}],requirements:[],data:{}}];break;case 3:this.Hn(1,!0);this.data.data=[{type:"Will Enter",responses:[{type:"Block Entry",data:{}}],requirements:[{objectType:"NPC"}],data:{}}];break;case 4:this.Hn(1,!0),this.data.data=[{type:"On Enter",responses:[{type:"Allow PVP",data:{}}],requirements:[],data:{}}]}this.tb()},
Hn:function(a,c){switch(a){case 0:this.data.specifier="Item";this.b.main_panel.specifier.contents.ha("Includes: Item");break;case 1:this.data.specifier="Tile";this.b.main_panel.specifier.contents.ha("Includes: Tile");break;case 2:this.data.specifier="NPC";this.b.main_panel.specifier.contents.ha("Includes: NPC");break;case 3:this.data.specifier="None",this.b.main_panel.specifier.contents.ha("Includes: None")}this.data.data=[];c||this.tb()},pS:function(a){1==a&&this.k.Hn(this.k.uL)},oS:function(a){1==
a&&this.k.HK(this.k.bI)},nk:function(a){this.g.headButton.n(r.i(255,255,255,255));this.g.bodyButton.n(r.i(255,255,255,255));this.g.legButton.n(r.i(255,255,255,255));this.g.feetButton.n(r.i(255,255,255,255));this.g.lArmButton.n(r.i(255,255,255,255));this.g.rArmButton.n(r.i(255,255,255,255));this.g.modButton.n(r.i(255,255,255,255));switch(a){case "head":this.Ac=a;this.g.headButton.n(r.i(255,0,0,255));return;case "body":this.Ac=a;this.g.bodyButton.n(r.i(255,0,0,255));return;case "legs":this.Ac=a;this.g.legButton.n(r.i(255,
0,0,255));return;case "feet":this.Ac=a;this.g.feetButton.n(r.i(255,0,0,255));return;case "mod":this.Ac=a;this.g.modButton.n(r.i(255,0,0,255));return;case "bothArms":this.Ac=a;this.g.lArmButton.n(r.i(255,0,0,255));this.g.rArmButton.n(r.i(255,0,0,255));return}"bothArms"!=this.Ac&&"lArm"!=this.Ac&&"rArm"!=this.Ac&&"lArm"==a?(this.g.lArmButton.n(r.i(255,0,0,255)),this.Ac="lArm"):"bothArms"!=this.Ac&&"lArm"!=this.Ac&&"rArm"!=this.Ac&&"rArm"==a?(this.g.rArmButton.n(r.i(255,0,0,255)),this.Ac="rArm"):"rArm"==
this.Ac&&"lArm"==a?(this.g.lArmButton.n(r.i(255,0,0,255)),this.g.rArmButton.n(r.i(255,0,0,255)),this.Ac="bothArms"):"lArm"==this.Ac&&"rArm"==a?(this.g.lArmButton.n(r.i(255,0,0,255)),this.g.rArmButton.n(r.i(255,0,0,255)),this.Ac="bothArms"):"bothArms"==this.Ac&&"rArm"==a?(this.g.lArmButton.n(r.i(255,0,0,255)),this.Ac="lArm"):"bothArms"==this.Ac&&"lArm"==a&&(this.g.rArmButton.n(r.i(255,0,0,255)),this.Ac="rArm")},kY:function(a,c){if(0<this.k.data.data.length)return this.k.uL=a,this.U.f(DropDownList.qd(this.k,
this.k.pS,["Cancel","Clear Script (Required)"],c.J)),!1;this.k.Hn(a)},jb:function(a){if(this._super(a))return!0;this.Ud=null;var c=a.J;if(this.hg){var d=this.hg.Ia(c);if(Q(this.hg.okbtn,d)){switch(this.Kn){case "Talk":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data.options[this.kE]=this.jE.R(),this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data.say=this.Ah.R()}this.hg.N();this.kE=this.hg=null;this.mt();return}if(Q(this.hg.cancelbtn,d)){this.hg.N();this.kE=this.hg=null;
this.mt();return}}if(this.g){d=this.g.Ia(c);if(Q(this.g.okbtn,d)){switch(this.Kn){case "Warp Player":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data={mapnum:parseInt(this.wE.R()),index:V(parseInt(this.xE.R()),Pa-parseInt(this.yE.R()))};break;case "Read Item":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data={say:this.Ah.R()};break;case "Talk":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data.say=this.Ah.R();break;case "Is Quest Point":case "Set Quest Point":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data=
{quest:this.fK,objective:this.OJ};break;case "Give /Take Item":case "Has Player Item":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data={item:this.ej,amount:parseInt(this.dj.R())};break;case "Modify Player Stats":case "Modify NPC Stats":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data={skill:this.Xx,level:parseInt(this.Nl.R()),xp:parseInt(this.Ol.R()),health:parseInt(this.Ml.R())};break;case "Is Panel Visibility":case "Open/Close Panel":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data=
{panel:this.WJ,visible:this.Rn};break;case "Is Event Fired By":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data={object:this.MJ};break;case "Is NPC Actioning":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data={action:this.DH};break;case "Is Player Inventory Space":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data={space:parseInt(this.fx.R())};break;case "Wait":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data={time:parseInt(this.ey.R())};
break;case "Repeat Responses":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data={amount:parseInt(this.FD.R())};break;case "Is Player Statistics":case "Is NPC Statistics":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data={skill:this.Xx,levelLower:parseInt(this.Nl.R()),xpLower:parseInt(this.Ol.R()),healthLower:parseInt(this.Ml.R()),levelUpper:parseInt(this.Zx.R()),xpUpper:parseInt(this.$x.R()),healthUpper:parseInt(this.Yx.R())};break;case "Equip Item":this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data=
{equip:this.Ac}}this.Yw();return!0}if(this.g.headButton&&Q(this.g.headButton,d))return this.nk("head"),!0;if(this.g.bodyButton&&Q(this.g.bodyButton,d))return this.nk("body"),!0;if(this.g.legButton&&Q(this.g.legButton,d))return this.nk("legs"),!0;if(this.g.feetButton&&Q(this.g.feetButton,d))return this.nk("feet"),!0;if(this.g.lArmButton&&Q(this.g.lArmButton,d))return this.nk("lArm"),!0;if(this.g.rArmButton&&Q(this.g.rArmButton,d))return this.nk("rArm"),!0;if(this.g.modButton&&Q(this.g.modButton,d))return this.nk("mod"),
!0;if(this.g.visibleButton&&Q(this.g.visibleButton,d))return this.Rn=0==this.Rn?1:0,this.g.visibleButton.n(0==this.Rn?r.i(255,0,0,255):r.i(0,255,0,255)),this.g.visibleButton.content.ha(0==this.Rn?"Invisible":"Visible"),!0;if(Q(this.g.cancelbtn,d))return console.log(this.aK),this.data.data[this.ka.event][this.ka.listtype][this.ka.id].data=G(this.aK),this.Yw(),!0}else{d=this.b.main_panel.Ia(c);if(Q(this.b.main_panel.defaultsbtn,d))return this.U.f(DropDownList.qd(this,this.defaultSelected,"Block Player;Warp Player;Show Sign;Spawn NPC;Spawn Item;Block NPC;PVP Area".split(";"),
a.J)),!0;if(Q(this.b.main_panel.specifier,d))return this.U.f(DropDownList.qd(this,this.kY,["Item","Tile","NPC","None"],a.J)),!0;if(Q(this.b.main_panel.okbtn,d)){if(null==this.Pa.R()||""==this.Pa.R())return!0;this.data.name=this.Pa.R();this.Ef=!0;this.k.$c(this.data);return!0}if(Q(this.b.main_panel.cancelbtn,d)){this.Ef=!0;var e=this.k;this.k.Dc(function(){e.$c(null)});return!0}return Q(this.b.main_panel,d)?!0:!1}}});Itemeditor=null;
ItemEditor=Popup.extend({Sb:K[0].name,W:0,kq:function(a,c){Scripteditor&&(Scripteditor.ya(),Scripteditor.N(),this.Xd=a,this.Wb(!0),this.b.main_panel.scriptbtn.text.ha(c.name),this.b.main_panel.scriptbtn.n(r.i(0,255,0,255)))},TD:function(){this.b.main_panel.scriptbtn.text.ha("None");this.b.main_panel.scriptbtn.n(r.i(255,0,0,255))},Cc:function(){return{panels:{position:r.a(300,10),children:{background:{Y:"GUI/itemeditor_bg.png",d:r.a(0,0)},main_panel:{d:r.a(0,0),position:r.a(0,0),size:r.size(500,330),
children:{namelbl:{label:"Name:",fontSize:20,d:r.a(0,0),position:r.a(4,292),color:r.l(0,0,0)},name_entry:{position:r.a(74,292),size:r.size(266,32),A:r.i(255,255,255,255)},tiles:{d:r.a(0,1),position:r.a(16,272),Y:K[0].name},textureleftbtn:{position:r.a(362,292),size:r.size(16,32),Y:"GUI/texture_change_left.png",d:r.a(0,0)},texturerightbtn:{position:r.a(471,292),size:r.size(16,32),Y:"GUI/texture_change_right.png",d:r.a(0,0)},textureName:{position:r.a(375,292),size:r.size(96,32),Y:"GUI/texture_change_middle.png",
d:r.a(0,0),children:{text:{label:K[0].name,fontSize:12,d:r.a(0.5,0.5),position:r.a(48,16),color:r.l(0,0,0)}}},leftbtn:{position:r.a(0,16),size:r.size(16,256),A:r.i(0,0,255,255),d:r.a(0,0),children:{text:{label:"\x3c",fontSize:12,d:r.a(0.5,0.5),position:r.a(8,160),color:r.l(255,255,255)}}},rightbtn:{position:r.a(336,16),size:r.size(16,256),A:r.i(0,0,255,255),d:r.a(0,0),children:{text:{label:"\x3e",fontSize:12,d:r.a(0.5,0.5),position:r.a(8,160),color:r.l(255,255,255)}}},upbtn:{position:r.a(16,272),
size:r.size(320,16),A:r.i(0,0,255,255),d:r.a(0,0),children:{text:{label:"^",fontSize:12,d:r.a(0.5,0.5),position:r.a(160,8),color:r.l(255,255,255)}}},downbtn:{position:r.a(16,0),size:r.size(320,16),A:r.i(0,0,255,255),d:r.a(0,0),children:{text:{label:"v",fontSize:12,d:r.a(0.5,0.5),position:r.a(160,8),color:r.l(255,255,255)}}},stacklbl:{label:"Stackable:",fontSize:12,d:r.a(0,0),position:r.a(360,206),color:r.l(0,0,0)},stackbtn:{position:r.a(360,176),size:r.size(128,26),A:Ha,d:r.a(0,0),children:{text:{label:"No",
fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.l(0,0,0)}}},scriptlbl:{label:"Script:",fontSize:12,d:r.a(0,0),position:r.a(360,262),color:r.l(0,0,0)},scriptbtn:{position:r.a(360,232),size:r.size(128,26),A:Ha,d:r.a(0,0),children:{text:{label:"None",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.l(0,0,0)}}},highlightnode:{d:r.a(0,0),position:r.a(0,0),size:r.size(32,32),A:r.i(255,100,100,255)},selectednode:{d:r.a(0,0),position:r.a(0,0),size:r.size(32,32),A:r.i(100,255,100,255)},okbtn:{position:r.a(434,
16),size:r.size(32,32),Y:"GUI/tick_icon.png",d:r.a(0,0)},cancelbtn:{position:r.a(384,16),size:r.size(32,32),Y:"GUI/cross_icon.png",d:r.a(0,0)}}},control_panel:{d:r.a(0,0),position:r.a(0,330),size:r.size(500,32),children:{header:{label:"Item Editor",fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(476,6),size:r.size(20,20),d:r.a(0,0),Y:"GUI/close.png"}}}}}}},Bc:function(){return"itemEditor"},Pa:null,k:null,data:null,Xd:null,r:function(a){this._super();this.data={sprite:{texture:K[0].name,
position:{x:0,y:0}},script:null,stackable:!1,name:""};this.Sb=K[0].name;this.W=0;this.Xd=this.k=this.Pa=null;this.P=r.a(0,0);this.k=a.k;a&&a.data&&(this.data=a.data,this.data.script&&(this.Xd=this.data.script))},ij:function(a){I({saveitems:a+"",itemdata:this.data})},Vi:function(a,c){I({saveitemswhole:c})},oa:function(){this._super();this.b.main_panel.highlightnode.ra(0);this.b.main_panel.selectednode.ra(127);for(var a in K)K[a].name==this.data.sprite.texture&&(this.W=a,this.Sb=K[a].name);this.b.main_panel.textureName.text.ha(this.Sb);
this.b.main_panel.tiles.fa(K[this.W].texture);null!=this.data.script&&(this.b.main_panel.scriptbtn.n(r.i(0,255,0,255)),this.b.main_panel.scriptbtn.text.ha(ObjectLists.Yi()[this.data.script].name),this.Xd=this.data.script);for(a=this.data.sprite.position.x;10<=a;)a--,this.P.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.P.y++;a=r.a(32*(this.data.sprite.position.x-this.P.x),32*(this.data.sprite.position.y-this.P.y));this.b.main_panel.selectednode.m(this.b.main_panel.tiles.q.x+a.x,this.b.main_panel.tiles.q.y-
(a.y+32));this.Pa=new $(this.b.main_panel.name_entry,r.size(this.b.main_panel.name_entry.c().width,this.b.main_panel.name_entry.c().height),r.a(0,this.b.main_panel.name_entry.c().height),this.data.name?this.data.name:"",r.i(255,255,255),r.l(0,0,0));this.Pa.kb(!0);this.b.main_panel.stackbtn.n(Ha);this.b.main_panel.stackbtn.text.ha("No");!0==this.data.stackable&&(this.b.main_panel.stackbtn.n(Ga),this.b.main_panel.stackbtn.text.ha("Yes"));this.nb()},ya:function(a){this._super();if(this.k){var c=this.k;
!0!=a&&this.k.Dc(function(){c.$c(null)})}},gj:function(a){a=a.J;this.b.main_panel.highlightnode.ra(0);a=this.b.main_panel.tiles.Ia(a);if(0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tiles.c().width&&a.y<=this.b.main_panel.tiles.c().height)return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+16,this.b.main_panel.highlightnode.ra(127),this.b.main_panel.highlightnode.m(a),!0},nb:function(){this.$b(this.nb);this.b.main_panel.tiles.aa()&&!0==this.b.main_panel.tiles.aa().uc&&(this.Rc(this.nb),this.b.main_panel.tiles.Tb(r.rect(Math.floor(32*
this.P.x),Math.floor(32*this.P.y),320>K[this.W].texture.c().width?K[this.W].texture.c().width:320,256>K[this.W].texture.c().height?K[this.W].texture.c().height:256)))},jb:function(a){if(this._super(a))return!0;this.Ud=null;a=a.J;var c=this.b.main_panel.Ia(r.a(a.x,a.y));if(Q(this.b.main_panel.okbtn,c)){if(null==this.Pa.R()||""==this.Pa.R())return!0;this.Ef=!0;this.data.name=this.Pa.R();this.data.script=this.Xd;this.k.$c(this.data);return!0}Q(this.b.main_panel.scriptbtn,c)&&(Scripteditor?(Scripteditor.ya(),
Scripteditor.N(),Scripteditor=null):(Scripteditor=new PopupList,Scripteditor.r({k:this,Gg:new ScriptEditor,list:ObjectLists.Yi(),name:"Script List"}),Scripteditor.oa(),this.f(Scripteditor)));if(Q(this.b.main_panel.cancelbtn,c)){this.Ef=!0;var d=this.k;this.k.Dc(function(){d.$c(null)});return!0}if(Q(this.b.main_panel.leftbtn,c))return 264<K[this.W].texture.c().width&&0<this.P.x&&(this.P.x--,this.nb()),!0;if(Q(this.b.main_panel.rightbtn,c))return 320<K[this.W].texture.c().width&&this.P.x<(K[this.W].texture.c().width-
320)/32&&(this.P.x++,this.nb()),!0;if(Q(this.b.main_panel.upbtn,c))return 320<K[this.W].texture.c().height&&0<this.P.y&&(this.P.y--,this.nb()),!0;if(Q(this.b.main_panel.downbtn,c))return 320<K[this.W].texture.c().height&&this.P.y<(K[this.W].texture.c().height-320)/32&&(this.P.y++,this.nb()),!0;if(Q(this.b.main_panel.texturerightbtn,c))return this.Pn(),!0;if(Q(this.b.main_panel.textureleftbtn,c))return this.Qn(),!0;if(Q(this.b.main_panel.stackbtn,c))return this.BL(),!0;if(Q(this.b.main_panel.scriptbtn,
c))return this.saa(),!0;c=this.b.main_panel.tiles.Ia(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tiles.c().width&&c.y<=this.b.main_panel.tiles.c().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+16;this.b.main_panel.selectednode.ra(0);if(this.b.main_panel.selectednode.q.F!=c.x||this.b.main_panel.selectednode.q.K!=c.y)this.b.main_panel.selectednode.ra(127),this.b.main_panel.selectednode.m(c);a=r.a((this.b.main_panel.selectednode.q.F-16)/32+this.P.x,8-(this.b.main_panel.selectednode.q.K-16)/32+this.P.y-1);
this.data.sprite.position=a;return!0}return!1},BL:function(){this.data.stackable=!this.data.stackable;this.b.main_panel.stackbtn.n(Ha);this.b.main_panel.stackbtn.text.ha("No");!0==this.data.stackable&&(this.b.main_panel.stackbtn.n(Ga),this.b.main_panel.stackbtn.text.ha("Yes"))},Pn:function(){this.W>=K.length-1&&(this.W=-1);this.W++;this.b.main_panel.tiles.fa(K[this.W].texture);this.Sb=K[this.W].name;this.b.main_panel.textureName.text.ha(this.Sb);this.data.sprite.texture=this.Sb;this.P=r.a(0,0);this.nb()},
Qn:function(){0>=this.W&&(this.W=K.length);this.W--;this.b.main_panel.tiles.fa(K[this.W].texture);this.Sb=K[this.W].name;this.b.main_panel.textureName.text.ha(this.Sb);this.P=r.a(0,0);this.nb()}});Settingseditor=null;
SettingsEditor=Popup.extend({data:null,M:null,ib:null,Bc:function(){return"Settings Editor"},ya:function(){this._super()},r:function(){this._super();this.data=G(z)},ij:function(a){I({savequests:a+"",questdata:this.data})},Vi:function(a,c){I({savequestswhole:c})},oa:function(){this._super();this.tb()},tb:function(){this.M&&this.M.jc();var a=[],c=[],d=r.ga.e(),e=0,f;for(f in this.data){if("ISSECTION"!=this.data[f]){a[e]=r.D.create();a[e].V(324,32);var g=r.Q.create(f,"Arial",18);g.G(r.a(0,0));g.m(r.a(4,
0));g.cc(r.size(246,0));g.n(r.l(100,0,0));a[e].f(g);a[e].V(324,g.c().height+4);g=[];c.push(g);e++}a[e]=r.D.create();a[e].V(324,32);var h=r.ca.create(r.i(0,0,0,127),316,1);h.m(r.a(4,0));if("ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]){var k=r.v.eb(d.qa("GUI/edit.png"));k.m(r.a(300,0));k.G(r.a(0,0))}if("ISSECTION"==this.data[f]){var l=r.Q.create(f,"Arial",22);l.n(r.l(255,0,0))}else l=r.Q.create(this.data[f],"Arial",15),l.n(r.l(0,0,0));l.G(r.a(0,0));l.m(r.a(4,4));l.cc(r.size(246,0));g=[];"ISSECTION"!=
this.data[f]&&"ISYESNO"!=this.data[f]&&(k.Zb="Edit",g=[],g.push(k));c.push(g);a[e].f(h);"ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]&&a[e].f(k);a[e].f(l);"ISSECTION"==this.data[f]?a[e].V(324,l.c().height+12):a[e].V(324,l.c().height+8);"ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]&&k.Pc((l.c().height+8)/2-10);e++}this.M=this.b.main_panel.list;var m=this;this.M.sd=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return r.size(324,c)};this.M.ad=function(){return a.length};this.M.Fd=
function(c){return a[c].c()};this.M.Ed=function(c){return a[c]};this.M.kc=function(a,c,d){m.Ia(d.J);if(!0!=m.In)switch(a){case "Edit":a=0;d="";for(var e in m.data){if(a==c){d=e;break}a++;if("ISSECTION"!=m.data[e]){if(a==c){d=e;break}a++}}m.ib=d;m.sC(d)}};this.M.da=ListView.create(this.M);this.M.da.Id(c);this.M.f(this.M.da)},Cc:function(){return{panels:{position:r.a(300,200),children:{background_image:{Y:"GUI/list_panel.png",d:r.a(0,0)},main_panel:{d:r.a(0,0),size:r.size(365,328),children:{savebtn:{size:r.size(64,
32),A:r.i(0,255,0,255),position:r.a(241,292),d:r.a(0,0),children:{content:{label:"Save",color:r.l(0,0,0),position:r.a(32,16),d:r.a(0.5,0.5)}}},list:{size:r.size(324,284),A:r.i(0,200,200,200),position:r.a(0,0),d:r.a(0,0)}}},control_panel:{d:r.a(0,0),position:r.a(0,328),size:r.size(365,32),children:{header:{label:"Settings Editor",fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(337,6),size:r.size(20,20),d:r.a(0,0),Y:"GUI/close.png"}}}}}}},ef:null,Ba:null,sC:function(a){null!=this.Ba&&
(this.Ba.jc(),this.ef=null,this.Ba.N(),this.ib=this.Ba=null);this.Ba=r.ca.create(r.i(255,255,255,200),200,200);this.Ba.m(r.a((this.b.main_panel.c().width-200)/2,(this.b.main_panel.c().height-200)/2));this.ef=new $(this.Ba,r.size(190,150),r.a(0,this.Ba.c().height),this.data[a],r.i(100,100,100),r.l(255,255,255),!0);this.ef.kb(!0);this.ef.KK(!0);a=r.ca.create(r.i(0,200,255,255),64,32);a.m(r.a(14,9));var c=r.Q.create("OK","Arial",16);c.n(r.l(0,0,0));c.m(32,16);c.G(r.a(0.5,0.5));a.f(c);c=r.ca.create(r.i(200,
0,0,255),64,32);c.m(r.a(120,9));var d=r.Q.create("Cancel","Arial",16);d.n(r.l(0,0,0));d.m(32,16);d.G(r.a(0.5,0.5));c.f(d);this.b.main_panel.f(this.Ba);this.Ba.f(a);this.Ba.jD=a;this.Ba.f(c);this.Ba.cancel=c},jb:function(a){if(this._super(a))return!0;this.Ud=null;a=a.J;if(null!=this.Ba){a=this.Ba.Ia(a);if(Q(this.Ba.jD,a))return this.data[this.ib]=this.ef.R(),this.Ba.jc(),this.ef=null,this.Ba.N(),this.ib=this.Ba=null,this.tb(),!0;Q(this.Ba.cancel,a)&&(this.Ba.jc(),this.ef=null,this.Ba.N(),this.ib=this.Ba=
null);return!0}a=this.b.main_panel.Ia(a);return Q(this.b.main_panel.savebtn,a)?(z=G(this.data),console.log(z),console.log(this.data),I({savesettings:this.data}),v.qE(this.data,Date.now()),!0):Q(this.b.main_panel,a)?!0:!1}});Questeditor=null;
QuestEditor=Popup.extend({data:null,M:null,k:null,ib:null,Bc:function(){return"Quest Editor"},ya:function(a){this._super();if(this.k){var c=this.k;!0!=a&&this.k.Dc(function(){c.$c(null)})}},r:function(a){this._super();this.data={name:"",objectiveList:["Initial Objective. Click edit to change this first objective. Click the '+' to add another object. You cannot delete every objective (you need at least one)"]};this.k=a.k;a&&a.data&&(this.data=a.data)},ij:function(a){I({savequests:a+"",questdata:this.data})},
Vi:function(a,c){I({savequestswhole:c})},oa:function(){this._super();this.tb();this.Pa=new $(this.b.main_panel.nameBox,r.size(this.b.main_panel.nameBox.c().width,this.b.main_panel.nameBox.c().height),r.a(0,this.b.main_panel.nameBox.c().height),this.data.name?this.data.name:"",r.i(255,255,255,255),r.l(0,0,0));this.Pa.kb(!0)},tb:function(){this.M&&this.M.jc();var a=[],c=[],d=r.ga.e();this.cI={};for(var e in this.data.objectiveList)if(a[e]=r.D.create(),a[e].V(324,32),null==this.data.objectiveList[e])this.data.objectiveList.splice(e,
1);else{var f=r.ca.create(r.i(0,0,0,127),316,1);f.m(r.a(4,0));var g=r.v.eb(d.qa("GUI/edit.png"));g.m(r.a(272,0));g.G(r.a(0,0));var h=r.v.eb(d.qa("GUI/trash.png"));h.m(r.a(300,0));h.G(r.a(0,0));var k=r.Q.create(this.data.objectiveList[e],"Arial",15);k.G(r.a(0,0));k.m(r.a(4,4));k.cc(r.size(246,0));k.n(r.l(0,0,0));g.Zb="Edit";var l=[];l.push(g);0!=e&&(h.Zb="Delete",l.push(h));c.push(l);a[e].f(f);a[e].f(g);0!=e&&a[e].f(h);a[e].f(k);a[e].V(324,k.c().height+8);g.Pc((k.c().height+8)/2-10);h.Pc((k.c().height+
8)/2-10)}d=r.ca.create(r.i(70,200,70,255),90,26);e=r.Q.create("+","Arial",20);e.m(45,13);e.G(r.a(0.5,0.5));d.m(r.a(120,0));d.Zb="Add";d.f(e);c.push([d]);a.push(d);this.M=this.b.main_panel.list;var m=this;this.M.sd=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return r.size(324,c)};this.M.ad=function(){return a.length};this.M.Fd=function(c){return a[c].c()};this.M.Ed=function(c){return a[c]};this.M.kc=function(a,c,d){m.Ia(d.J);if(!0!=m.In)switch(a){case "Delete":null!=m.Ba&&(m.Ba.jc(),
m.ef=null,m.Ba.N(),m.Ba=null,m.ib=null);m.U.f(DropDownList.qd(m,m.jC,["Cancel","Delete"],d.J));m.ib=c;break;case "Edit":m.ib=c;m.sC(c);break;case "Add":m.hR()}};this.M.da=ListView.create(this.M);this.M.da.Id(c);this.M.f(this.M.da)},Cc:function(){return{panels:{position:r.a(300,200),children:{background_image:{Y:"GUI/list_panel.png",d:r.a(0,0)},main_panel:{d:r.a(0,0),size:r.size(365,328),children:{nameLabel:{label:"Quest Name",color:r.l(0,0,0),position:r.a(8,312),d:r.a(0,0)},nameBox:{size:r.size(150,
32),A:r.i(255,255,255,255),position:r.a(8,277),d:r.a(0,0)},savebtn:{size:r.size(64,32),A:r.i(0,255,0,255),position:r.a(175,277),d:r.a(0,0),children:{content:{label:"Save",color:r.l(0,0,0),position:r.a(32,16),d:r.a(0.5,0.5)}}},exitbtn:{size:r.size(64,32),A:r.i(255,0,0,255),position:r.a(253,277),d:r.a(0,0),children:{content:{label:"Exit",color:r.l(0,0,0),position:r.a(32,16),d:r.a(0.5,0.5)}}},objectivesLabel:{label:"Objectives",color:r.l(0,0,0),position:r.a(8,254),d:r.a(0,0)},list:{size:r.size(324,250),
A:r.i(0,200,200,200),position:r.a(0,0),d:r.a(0,0)}}},control_panel:{d:r.a(0,0),position:r.a(0,328),size:r.size(365,32),children:{header:{label:"Quest Editor",fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(337,6),size:r.size(20,20),d:r.a(0,0),Y:"GUI/close.png"}}}}}}},jC:function(a){switch(a){case 1:this.k.ib&&(this.k.data.objectiveList.splice(this.k.ib,1),this.k.tb(),this.k.ib=null)}},hR:function(){this.data.objectiveList.push("Blank Objective");this.tb()},ef:null,Ba:null,sC:function(a){null!=
this.Ba&&(this.Ba.jc(),this.ef=null,this.Ba.N(),this.ib=this.Ba=null);this.Ba=r.ca.create(r.i(255,255,255,200),200,200);this.Ba.m(r.a((this.b.main_panel.c().width-200)/2,(this.b.main_panel.c().height-200)/2));this.ef=new $(this.Ba,r.size(190,150),r.a(0,this.Ba.c().height),this.data.objectiveList[a],r.i(100,100,100),r.l(255,255,255),!0);this.ef.kb(!0);this.ef.KK(!0);a=r.ca.create(r.i(0,200,255,255),64,32);a.m(r.a(14,9));var c=r.Q.create("OK","Arial",16);c.n(r.l(0,0,0));c.m(32,16);c.G(r.a(0.5,0.5));
a.f(c);c=r.ca.create(r.i(200,0,0,255),64,32);c.m(r.a(120,9));var d=r.Q.create("Cancel","Arial",16);d.n(r.l(0,0,0));d.m(32,16);d.G(r.a(0.5,0.5));c.f(d);this.b.main_panel.f(this.Ba);this.Ba.f(a);this.Ba.jD=a;this.Ba.f(c);this.Ba.cancel=c},jb:function(a){if(this._super(a))return!0;this.Ud=null;a=a.J;if(null!=this.Ba){a=this.Ba.Ia(a);if(Q(this.Ba.jD,a))return this.data.objectiveList[this.ib]=this.ef.R(),this.Ba.jc(),this.ef=null,this.Ba.N(),this.ib=this.Ba=null,this.tb(),!0;Q(this.Ba.cancel,a)&&(this.Ba.jc(),
this.ef=null,this.Ba.N(),this.ib=this.Ba=null);return!0}a=this.b.main_panel.Ia(a);if(Q(this.b.main_panel.savebtn,a)){if(null==this.Pa.R()||""==this.Pa.R())return!0;this.Ef=!0;this.data.name=this.Pa.R();this.k.$c(this.data);return!0}if(Q(this.b.main_panel.exitbtn,a)){this.Ef=!0;var c=this.k;this.k.Dc(function(){c.$c(null)});return!0}return Q(this.b.main_panel,a)?!0:!1}});Mapeditor=null;
MapEditor=Popup.extend({map:null,P:r.a(0,0),zc:"tiles",xJ:null,Jw:"ground1",Sb:K[0].name,W:0,Cc:function(){return{panels:{position:r.a(300,10),children:{main_panel:{d:r.a(0,0),position:r.a(0,0),size:r.size(420,380),A:r.i(0,0,100,120),children:{tab1:{children:{tiles:{d:r.a(0,1),position:r.a(16,336),Y:K[0].name},textureleftbtn:{position:r.a(360,344),size:r.size(16,32),A:P,d:r.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,d:r.a(0.5,0.5),position:r.a(8,16),color:r.l(0,0,0)}}},texturerightbtn:{position:r.a(472,344),
size:r.size(16,32),A:P,d:r.a(0,0),children:{text:{label:"\x3e\x3e",fontSize:12,d:r.a(0.5,0.5),position:r.a(8,16),color:r.l(0,0,0)}}},textureName:{position:r.a(376,344),size:r.size(96,32),A:r.i(255,255,255,170),d:r.a(0,0),children:{text:{label:K[0].name,fontSize:12,d:r.a(0.5,0.5),position:r.a(48,16),color:r.l(0,0,0)}}},deletebtn:{position:r.a(360,308),size:r.size(60,32),A:P,d:r.a(0,0),children:{text:{label:"Erase",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.l(0,0,0)}}},leftbtn:{position:r.a(0,
16),size:r.size(16,320),A:r.i(0,0,255,255),d:r.a(0,0),children:{text:{label:"\x3c",fontSize:12,d:r.a(0.5,0.5),position:r.a(8,160),color:r.l(255,255,255)}}},rightbtn:{position:r.a(336,16),size:r.size(16,320),A:r.i(0,0,255,255),d:r.a(0,0),children:{text:{label:"\x3e",fontSize:12,d:r.a(0.5,0.5),position:r.a(8,160),color:r.l(255,255,255)}}},upbtn:{position:r.a(16,336),size:r.size(320,16),A:r.i(0,0,255,255),d:r.a(0,0),children:{text:{label:"^",fontSize:12,d:r.a(0.5,0.5),position:r.a(160,8),color:r.l(255,
255,255)}}},downbtn:{position:r.a(16,0),size:r.size(320,16),A:r.i(0,0,255,255),d:r.a(0,0),children:{text:{label:"v",fontSize:12,d:r.a(0.5,0.5),position:r.a(160,8),color:r.l(255,255,255)}}},fillbtn:{position:r.a(428,308),size:r.size(60,32),A:P,d:r.a(0,0),children:{text:{label:"Fill",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.l(0,0,0)}}},ground1btn:{position:r.a(360,278),size:r.size(128,26),A:Ga,d:r.a(0,0),children:{text:{label:"Ground 1",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.l(0,
0,0)}}},ground2btn:{position:r.a(360,248),size:r.size(128,26),A:P,d:r.a(0,0),children:{text:{label:"Ground 2",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.l(0,0,0)}}},groundShadowbtn:{position:r.a(360,218),size:r.size(128,26),A:P,d:r.a(0,0),children:{text:{label:"Ground Shadow",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.l(0,0,0)}}},mask1btn:{position:r.a(360,188),size:r.size(128,26),A:P,d:r.a(0,0),children:{text:{label:"Mask 1",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),
color:r.l(0,0,0)}}},mask2btn:{position:r.a(360,158),size:r.size(128,26),A:P,d:r.a(0,0),children:{text:{label:"Mask 2",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.l(0,0,0)}}},mask3btn:{position:r.a(360,128),size:r.size(128,26),A:P,d:r.a(0,0),children:{text:{label:"Mask 3",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.l(0,0,0)}}},fringe1btn:{position:r.a(360,98),size:r.size(128,26),A:P,d:r.a(0,0),children:{text:{label:"Fringe 1",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.l(0,
0,0)}}},fringe2btn:{position:r.a(360,68),size:r.size(128,26),A:P,d:r.a(0,0),children:{text:{label:"Fringe 2",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.l(0,0,0)}}},fringeShadowbtn:{position:r.a(360,38),size:r.size(128,26),A:P,d:r.a(0,0),children:{text:{label:"Fringe Shadow",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.l(0,0,0)}}},fringe3btn:{position:r.a(360,8),size:r.size(128,26),A:P,d:r.a(0,0),children:{text:{label:"Fringe 3",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),
color:r.l(0,0,0)}}},highlightnode:{d:r.a(0,0),position:r.a(0,0),size:r.size(32,32),A:r.i(255,100,100,255)},selectednode:{d:r.a(0,0),position:r.a(0,0),size:r.size(32,32),A:r.i(100,255,100,255)}}},tab2:{children:{blockbtn:{position:r.a(8,320),size:r.size(60,32),A:P,d:r.a(0,0),children:{text:{label:"Block",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.l(0,0,0)}}},warpbtn:{position:r.a(8,280),size:r.size(60,32),A:P,d:r.a(0,0),children:{text:{label:"Warp",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,
16),color:r.l(0,0,0)}}},itembtn:{position:r.a(8,240),size:r.size(60,32),A:P,d:r.a(0,0),children:{text:{label:"Item",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.l(0,0,0)}}},signbtn:{position:r.a(8,200),size:r.size(60,32),A:P,d:r.a(0,0),children:{text:{label:"Sign",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.l(0,0,0)}}},npcbtn:{position:r.a(8,160),size:r.size(60,32),A:P,d:r.a(0,0),children:{text:{label:"NPC",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.l(0,0,0)}}},amountLabelHead:{visible:!1,
label:"Item Amount",fontSize:12,d:r.a(0,0),position:r.a(100,342)},amountLabel:{size:r.size(60,32),position:r.a(98,-1E6)}}},tab3:{children:{saveBack:{position:r.a(0,78),size:r.size(200,60),A:r.i(0,255,0,100),d:r.a(0,0)},deleteback:{position:r.a(0,138),size:r.size(200,60),A:r.i(255,0,0,100),d:r.a(0,0)},mapnumsback:{position:r.a(0,198),size:r.size(200,162),A:r.i(0,0,0,170),d:r.a(0,0)},mapUp_text:{label:"Map Up",fontSize:10,d:r.a(0.5,0),position:r.a(100,344)},mapUp_entry:{size:r.size(60,32),position:r.a(70,
312)},mapDown_text:{label:"Map Down",fontSize:10,d:r.a(0.5,0),position:r.a(100,232)},mapDown_entry:{size:r.size(60,32),position:r.a(70,200)},mapLeft_text:{label:"Map Left",fontSize:10,d:r.a(0.5,0),position:r.a(38,290)},mapLeft_entry:{size:r.size(60,32),position:r.a(8,258)},mapRight_text:{label:"Map Right",fontSize:10,d:r.a(0.5,0),position:r.a(162,290)},mapRight_entry:{size:r.size(60,32),position:r.a(132,258)},this_map:{position:r.a(70,248),size:r.size(60,60),A:P,d:r.a(0,0),children:{text:{label:"THIS MAP\n#"+
F.td(),fontSize:12,d:r.a(0.5,0.5),position:r.a(30,30),color:r.l(0,0,0)}}},clearbtn:{position:r.a(70,150),size:r.size(60,32),A:P,d:r.a(0,0),children:{text:{label:"Clear",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.l(0,0,0)}}},clear_text:{label:"Clear Map: You sure?",fontSize:14,d:r.a(0.5,0),position:r.a(100,182)},clearbtnNo:{position:r.a(10,150),size:r.size(60,32),A:P,d:r.a(0,0),children:{text:{label:"NO",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.l(0,0,0)}}},clearbtnYes:{position:r.a(130,
150),size:r.size(60,32),A:P,d:r.a(0,0),children:{text:{label:"YES",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.l(0,0,0)}}},savebtn:{position:r.a(70,90),size:r.size(60,32),A:P,d:r.a(0,0),children:{text:{label:"Save",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.l(0,0,0)}}},save_text:{label:"Save Map: You sure?",fontSize:14,d:r.a(0.5,0),position:r.a(100,122)},savebtnNo:{position:r.a(10,90),size:r.size(60,32),A:P,d:r.a(0,0),children:{text:{label:"NO",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,
16),color:r.l(0,0,0)}}},savebtnYes:{position:r.a(130,90),size:r.size(60,32),A:P,d:r.a(0,0),children:{text:{label:"YES",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.l(0,0,0)}}},saveOnExit:{position:r.a(40,30),size:r.size(120,32),A:P,d:r.a(0.5,0),children:{content:{label:"",fontSize:14,d:r.a(0.5,0.5),position:r.a(60,15),color:r.l(0,0,0)}}}}},tab1Clickable:{position:r.a(0,360),size:r.size(60,20),A:P,d:r.a(0,0),children:{text:{label:"Editor",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,10),color:r.l(0,
0,0)}}},tab2Clickable:{position:r.a(64,360),size:r.size(60,20),A:P,d:r.a(0,0),children:{text:{label:"Scripts",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,10),color:r.l(0,0,0)}}},tab3Clickable:{position:r.a(128,360),size:r.size(60,20),A:P,d:r.a(0,0),children:{text:{label:"Settings",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,10),color:r.l(0,0,0)}}}}},control_panel:{d:r.a(0,0),position:r.a(0,380),size:r.size(420,32),A:r.i(255,0,0,200),children:{header:{label:"Map Editor - Map #"+F.td(),fontSize:20,d:r.a(0,
0.5),position:r.a(8,16)},exitBtn:{position:r.a(391,3),size:r.size(26,26),d:r.a(0,0),A:r.i(255,255,255,200),children:{content:{label:"X",fontSize:20,color:r.l(0,0,0),d:r.a(0.5,0.5),position:r.a(13,13)}}}}}}}}},Bc:function(){return"MapEditor"},P:null,Us:null,Rs:null,Ss:null,Ts:null,dj:null,lj:null,oe:0,Xd:null,r:function(a){this._super();this.map=a;this.P=r.a(0,0);this.lj=[null,496,200,200]},oa:function(){this._super();this.b.main_panel.tab1.highlightnode.ra(0);this.b.main_panel.tab1.selectednode.ra(0);
this.Us=new $(this.b.main_panel.tab3.mapUp_entry,r.size(this.b.main_panel.tab3.mapUp_entry.c().width,this.b.main_panel.tab3.mapUp_entry.c().height),r.a(0,this.b.main_panel.tab3.mapUp_entry.c().height),F.WI()?F.HI():"",r.i(100,100,100),r.l(255,255,255));this.Us.kb(!0);this.Us.cd(!0);this.Rs=new $(this.b.main_panel.tab3.mapDown_entry,r.size(this.b.main_panel.tab3.mapDown_entry.c().width,this.b.main_panel.tab3.mapDown_entry.c().height),r.a(0,this.b.main_panel.tab3.mapDown_entry.c().height),F.UI()?F.FI():
"",r.i(100,100,100),r.l(255,255,255));this.Rs.kb(!0);this.Rs.cd(!0);this.Ss=new $(this.b.main_panel.tab3.mapLeft_entry,r.size(this.b.main_panel.tab3.mapLeft_entry.c().width,this.b.main_panel.tab3.mapLeft_entry.c().height),r.a(0,this.b.main_panel.tab3.mapLeft_entry.c().height),F.VI()?F.GI():"",r.i(100,100,100),r.l(255,255,255));this.Ss.kb(!0);this.Ss.cd(!0);this.Ts=new $(this.b.main_panel.tab3.mapRight_entry,r.size(this.b.main_panel.tab3.mapRight_entry.c().width,this.b.main_panel.tab3.mapRight_entry.c().height),
r.a(0,this.b.main_panel.tab3.mapRight_entry.c().height),F.MC()?F.AC():"",r.i(100,100,100),r.l(255,255,255));this.Ts.kb(!0);this.Ts.cd(!0);this.dj=new $(this.b.main_panel.tab2.amountLabel,r.size(this.b.main_panel.tab2.amountLabel.c().width,this.b.main_panel.tab2.amountLabel.c().height),r.a(0,this.b.main_panel.tab2.amountLabel.c().height),F.MC()?F.AC():"1",r.i(100,100,100),r.l(255,255,255));this.dj.kb(!0);this.dj.cd(!0);this.Vx(!1);this.Wx(!1);this.Fx=v.bT();this.$K(this.Fx);this.Il(1);this.nb();F.cL(!0)},
kq:function(a,c){Warpeditor&&(Warpeditor.ya(),this.Dc(function(){Warpeditor.N();Warpeditor=null}),this.Xd=a,this.Wb(!0));Signeditor&&(Signeditor.ya(),this.Dc(function(){Signeditor.N();Signeditor=null}),this.Xd=a,this.Wb(!0));Itemeditor&&(Itemeditor.ya(),this.Dc(function(){Itemeditor.N();Itemeditor=null}),this.Xd=a,this.Wb(!0),this.dj.xc.Je("1"),!0==c.stackable&&(this.b.main_panel.tab2.amountLabelHead.B(!0),this.b.main_panel.tab2.amountLabel.m(98,308)));NPCeditor&&(NPCeditor.ya(),this.Dc(function(){NPCeditor.N();
NPCeditor=null}),this.Xd=a,this.Wb(!0))},ya:function(){this._super();!0==this.Fx&&(F.SK({up:this.Us.R(),down:this.Rs.R(),left:this.Ss.R(),right:this.Ts.R()}),F.QL());F.cL(!1)},gj:function(a){a=a.J;if(1==this.oe&&(this.b.main_panel.tab1.highlightnode.ra(0),a=this.b.main_panel.tab1.tiles.Ia(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.c().width&&a.y<=this.b.main_panel.tab1.tiles.c().height))return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+16,this.b.main_panel.tab1.highlightnode.ra(127),this.b.main_panel.tab1.highlightnode.m(a),
!0},Il:function(a){if(a!=this.oe){this.b.main_panel.V(this.lj[a],this.b.main_panel.c().height);this.b.control_panel.V(this.lj[a],this.b.control_panel.c().height);if(3==this.oe||0==this.oe)this.b.main_panel.tab3.mapUp_entry.xb(this.b.main_panel.tab3.mapUp_entry.q.F-1E3),this.b.main_panel.tab3.mapLeft_entry.xb(this.b.main_panel.tab3.mapLeft_entry.q.F-1E3),this.b.main_panel.tab3.mapDown_entry.xb(this.b.main_panel.tab3.mapDown_entry.q.F-1E3),this.b.main_panel.tab3.mapRight_entry.xb(this.b.main_panel.tab3.mapRight_entry.q.F-
1E3);1!=this.oe||"erasing"!=this.zc&&"tiles"!=this.zc||(this.zc="blocking");2==this.oe&&"blocking"==this.zc&&(this.zc="tiles");this.oe=a;this.b.main_panel.tab1.B(!1);this.b.main_panel.tab2.B(!1);this.b.main_panel.tab3.B(!1);this.b.main_panel.tab1Clickable.n(P);this.b.main_panel.tab2Clickable.n(P);this.b.main_panel.tab3Clickable.n(P);this.b.main_panel["tab"+a].B(!0);this.b.main_panel["tab"+a+"Clickable"].n(r.i(255,255,0,255));3==a&&(this.b.main_panel.tab3.mapUp_entry.xb(this.b.main_panel.tab3.mapUp_entry.q.F+
1E3),this.b.main_panel.tab3.mapLeft_entry.xb(this.b.main_panel.tab3.mapLeft_entry.q.F+1E3),this.b.main_panel.tab3.mapDown_entry.xb(this.b.main_panel.tab3.mapDown_entry.q.F+1E3),this.b.main_panel.tab3.mapRight_entry.xb(this.b.main_panel.tab3.mapRight_entry.q.F+1E3));this.b.control_panel.exitBtn.xb(this.lj[a]-29)}},$K:function(a){v.lX(a);this.Fx=a;this.b.main_panel.tab3.saveOnExit.n(r.l(255,0,0));this.b.main_panel.tab3.saveOnExit.content.ha("Save on exit: NO");if("true"==a||!0==a)this.b.main_panel.tab3.saveOnExit.n(r.l(0,
255,0)),this.b.main_panel.tab3.saveOnExit.content.ha("Save on exit: YES")},nb:function(){this.$b(this.nb);this.b.main_panel.tab1.tiles.aa()&&!0==this.b.main_panel.tab1.tiles.aa().uc&&(this.Rc(this.nb),this.b.main_panel.tab1.tiles.Tb(r.rect(Math.floor(32*this.P.x),Math.floor(32*this.P.y),320>K[this.W].texture.c().width?K[this.W].texture.c().width:320,320>K[this.W].texture.c().height?K[this.W].texture.c().height:320)))},jb:function(a){if(this._super(a))return!0;this.Ud=null;a=a.J;var c=this.b.main_panel.Ia(a);
if(Q(this.b.main_panel.tab1Clickable,c))return this.Il(1),!0;if(Q(this.b.main_panel.tab2Clickable,c))return this.Il(2),!0;if(Q(this.b.main_panel.tab3Clickable,c))return this.Il(3),!0;if(1==this.oe){if(Q(this.b.main_panel.tab1.leftbtn,c))return 320<K[this.W].texture.c().width&&0<this.P.x&&(this.P.x--,this.nb()),!0;if(Q(this.b.main_panel.tab1.rightbtn,c))return 320<K[this.W].texture.c().width&&this.P.x<(K[this.W].texture.c().width-320)/32&&(this.P.x++,this.nb()),!0;if(Q(this.b.main_panel.tab1.upbtn,
c))return 320<K[this.W].texture.c().height&&0<this.P.y&&(this.P.y--,this.nb()),!0;if(Q(this.b.main_panel.tab1.downbtn,c))return 320<K[this.W].texture.c().height&&this.P.y<(K[this.W].texture.c().height-320)/32&&(this.P.y++,this.nb()),!0;if(Q(this.b.main_panel.tab1.ground1btn,c))return this.mj("ground1"),!0;if(Q(this.b.main_panel.tab1.ground2btn,c))return this.mj("ground2"),!0;if(Q(this.b.main_panel.tab1.groundShadowbtn,c))return this.mj("groundShadow"),!0;if(Q(this.b.main_panel.tab1.mask1btn,c))return this.mj("mask1"),
!0;if(Q(this.b.main_panel.tab1.mask2btn,c))return this.mj("mask2"),!0;if(Q(this.b.main_panel.tab1.mask3btn,c))return this.mj("mask3"),!0;if(Q(this.b.main_panel.tab1.fringe1btn,c))return this.mj("fringe1"),!0;if(Q(this.b.main_panel.tab1.fringe2btn,c))return this.mj("fringe2"),!0;if(Q(this.b.main_panel.tab1.fringeShadowbtn,c))return this.mj("fringeShadow"),!0;if(Q(this.b.main_panel.tab1.fringe3btn,c))return this.mj("fringe3"),!0;if(Q(this.b.main_panel.tab1.texturerightbtn,c))return this.Pn(),!0;if(Q(this.b.main_panel.tab1.textureleftbtn,
c))return this.Qn(),!0;if(Q(this.b.main_panel.tab1.deletebtn,c))return this.zc="erasing"==this.zc?"tiles":"erasing",this.b.main_panel.tab1.deletebtn.n(P),"erasing"==this.zc&&this.b.main_panel.tab1.deletebtn.n(Ha),!0;if(Q(this.b.main_panel.tab1.fillbtn,c))return 0!=this.b.main_panel.tab1.selectednode.Xi()&&(F.KS(K[this.W].name,r.a((this.b.main_panel.tab1.selectednode.q.F-16)/32+this.P.x,9-(this.b.main_panel.tab1.selectednode.q.K-16)/32+this.P.y),this.Jw),F.vt()),!0;c=this.b.main_panel.tab1.tiles.Ia(a);
if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.c().width&&c.y<=this.b.main_panel.tab1.tiles.c().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+16;this.b.main_panel.tab1.selectednode.ra(0);if(this.b.main_panel.tab1.selectednode.q.F!=c.x||this.b.main_panel.tab1.selectednode.q.K!=c.y)this.b.main_panel.tab1.selectednode.ra(127),this.b.main_panel.tab1.selectednode.m(c);return!0}}if(2==this.oe){if(Q(this.b.main_panel.tab2.blockbtn,c))return this.b.main_panel.tab2.warpbtn.n(P),this.b.main_panel.tab2.signbtn.n(P),
this.b.main_panel.tab2.npcbtn.n(P),this.b.main_panel.tab2.itembtn.n(P),this.b.main_panel.tab2.blockbtn.n(P),this.zc="blocking"==this.zc?"tiles":"blocking","blocking"==this.zc&&(this.b.main_panel.tab2.blockbtn.n(Ha),this.b.main_panel.tab2.amountLabelHead.B(!1),this.b.main_panel.tab2.amountLabel.m(68,-1E5)),!0;if(Q(this.b.main_panel.tab2.warpbtn,c))return this.b.main_panel.tab2.warpbtn.n(P),this.b.main_panel.tab2.signbtn.n(P),this.b.main_panel.tab2.npcbtn.n(P),this.b.main_panel.tab2.itembtn.n(P),this.b.main_panel.tab2.blockbtn.n(P),
this.b.main_panel.tab2.amountLabelHead.B(!1),this.b.main_panel.tab2.amountLabel.m(68,-1E6),this.zc="warping"==this.zc?"tiles":"warping","warping"==this.zc&&(null==Warpeditor||Warpeditor.U||(Warpeditor=null),Warpeditor&&(Warpeditor.ya(),Warpeditor.N(),Warpeditor=null),Warpeditor=new PopupList,Warpeditor.r({k:this,Gg:new WarpEditor,list:ObjectLists.dn(),name:"Warp List"}),Warpeditor.oa(),this.U.f(Warpeditor),this.Wb(!1),this.b.main_panel.tab2.warpbtn.n(Ha),this.b.main_panel.tab2.amountLabelHead.B(!1),
this.b.main_panel.tab2.amountLabel.m(68,-1E5)),!0;if(Q(this.b.main_panel.tab2.signbtn,c))return this.b.main_panel.tab2.signbtn.n(P),this.b.main_panel.tab2.warpbtn.n(P),this.b.main_panel.tab2.npcbtn.n(P),this.b.main_panel.tab2.itembtn.n(P),this.b.main_panel.tab2.blockbtn.n(P),this.b.main_panel.tab2.amountLabelHead.B(!1),this.b.main_panel.tab2.amountLabel.m(68,-1E6),this.zc="signs"==this.zc?"tiles":"signs","signs"==this.zc&&(null==Signeditor||Signeditor.U||(Signeditor=null),Signeditor&&(Signeditor.ya(),
Signeditor.N(),Signeditor=null),Signeditor=new PopupList,Signeditor.r({k:this,Gg:new SignEditor,list:ObjectLists.Gs(),name:"Sign List"}),Signeditor.oa(),this.U.f(Signeditor),this.Wb(!1),this.b.main_panel.tab2.signbtn.n(Ha)),!0;if(Q(this.b.main_panel.tab2.npcbtn,c))return this.b.main_panel.tab2.signbtn.n(P),this.b.main_panel.tab2.warpbtn.n(P),this.b.main_panel.tab2.npcbtn.n(P),this.b.main_panel.tab2.itembtn.n(P),this.b.main_panel.tab2.blockbtn.n(P),this.b.main_panel.tab2.amountLabelHead.B(!1),this.b.main_panel.tab2.amountLabel.m(68,
-1E6),this.zc="npcs"==this.zc?"tiles":"npcs","npcs"==this.zc&&(null==NPCeditor||NPCeditor.U||(NPCeditor=null),NPCeditor&&(NPCeditor.ya(),NPCeditor.N(),NPCeditor=null),NPCeditor=new PopupList,NPCeditor.r({k:this,Gg:new NPCEditor,list:ObjectLists.ol(),name:"NPC List"}),NPCeditor.oa(),this.U.f(NPCeditor),this.Wb(!1),this.b.main_panel.tab2.npcbtn.n(Ha)),!0;if(Q(this.b.main_panel.tab2.itembtn,c))return this.b.main_panel.tab2.warpbtn.n(P),this.b.main_panel.tab2.itembtn.n(P),this.b.main_panel.tab2.npcbtn.n(P),
this.b.main_panel.tab2.blockbtn.n(P),this.b.main_panel.tab2.amountLabelHead.B(!1),this.b.main_panel.tab2.amountLabel.m(68,-1E6),this.zc="items"==this.zc?"tiles":"items","items"==this.zc&&(null==Itemeditor||Itemeditor.U||(Itemeditor=null),Itemeditor&&(Itemeditor.ya(),Itemeditor.N(),Itemeditor=null),Itemeditor=new PopupList,Itemeditor.r({k:this,Gg:new ItemEditor,list:ObjectLists.Bf(),name:"Item List"}),Itemeditor.oa(),this.U.f(Itemeditor),this.Wb(!1),this.b.main_panel.tab2.itembtn.n(Ha)),!0}if(3==this.oe){if(Q(this.b.main_panel.tab3.clearbtn,
c))return this.Vx(!0),!0;if(Q(this.b.main_panel.tab3.clearbtnNo,c))return this.Vx(!1),!0;if(Q(this.b.main_panel.tab3.clearbtnYes,c))return F.Cd(),this.Vx(!1),!0;if(Q(this.b.main_panel.tab3.savebtn,c))return this.Wx(!0),!0;if(Q(this.b.main_panel.tab3.savebtnNo,c))return this.Wx(!1),!0;if(Q(this.b.main_panel.tab3.savebtnYes,c))return F.SK({up:this.Us.R(),down:this.Rs.R(),left:this.Ss.R(),right:this.Ts.R()}),F.QL(),this.Wx(!1),!0;if(Q(this.b.main_panel.tab3.saveOnExit,c))return this.$K(!this.Fx),!0}return!1},
mj:function(a){this.b.main_panel.tab1.ground1btn.n(P);this.b.main_panel.tab1.ground2btn.n(P);this.b.main_panel.tab1.groundShadowbtn.n(P);this.b.main_panel.tab1.mask1btn.n(P);this.b.main_panel.tab1.mask2btn.n(P);this.b.main_panel.tab1.mask3btn.n(P);this.b.main_panel.tab1.fringe1btn.n(P);this.b.main_panel.tab1.fringe2btn.n(P);this.b.main_panel.tab1.fringeShadowbtn.n(P);this.b.main_panel.tab1.fringe3btn.n(P);this.b.main_panel.tab1[a+"btn"].n(Ga);this.Jw=a},Pn:function(){this.W>=K.length-1&&(this.W=-1);
this.W++;this.b.main_panel.tab1.tiles.fa(K[this.W].texture);this.Sb=K[this.W].name;this.b.main_panel.tab1.textureName.text.ha(this.Sb);this.P=r.a(0,0);this.nb()},Qn:function(){0>=this.W&&(this.W=K.length);this.W--;this.b.main_panel.tab1.tiles.fa(K[this.W].texture);this.Sb=K[this.W].name;this.b.main_panel.tab1.textureName.text.ha(this.Sb);this.P=r.a(0,0);this.nb()},Vx:function(a){this.b.main_panel.tab3.clearbtnYes.B(a);this.b.main_panel.tab3.clearbtnNo.B(a);this.b.main_panel.tab3.clear_text.B(a);this.b.main_panel.tab3.clearbtn.B(!a)},
Wx:function(a){this.b.main_panel.tab3.savebtnYes.B(a);this.b.main_panel.tab3.savebtnNo.B(a);this.b.main_panel.tab3.save_text.B(a);this.b.main_panel.tab3.savebtn.B(!a)},FL:function(a,c,d){if(a[c]==this.xJ&&"moved"==d)return!1;this.xJ=a[c];switch(this.zc){case "tiles":0!=this.b.main_panel.tab1.selectednode.Xi()&&F.pk(c,K[this.W].name,r.a((this.b.main_panel.tab1.selectednode.q.F-16)/32+this.P.x,9-(this.b.main_panel.tab1.selectednode.q.K-16)/32+this.P.y),this.Jw);break;case "blocking":if(1!=a[c].rc()){F.jj(c,
1);break}F.jj(c,0);break;case "warping":if(null==Warpeditor||!Warpeditor.U){if(3!=a[c].rc()){F.jj(c,3,this.Xd);break}F.jj(c,0,null)}break;case "signs":if(null==Signeditor||!Signeditor.U){if(7!=a[c].rc()){F.jj(c,7,this.Xd);break}F.jj(c,0,null)}break;case "items":if(null==Itemeditor||!Itemeditor.U){if(4!=a[c].rc()){F.jj(c,4,this.Xd,{amount:this.dj.R()});break}F.jj(c,0,null)}break;case "npcs":if(null==NPCeditor||!NPCeditor.U){if(5!=a[c].rc()){F.jj(c,5,this.Xd);break}F.jj(c,0,null)}break;case "erasing":F.mC(c,
this.Jw)}}});NPCeditor=null;
NPCEditor=Popup.extend({Sb:M[0].name,W:0,kq:function(a,c){Scripteditor&&(Scripteditor.ya(),Scripteditor.N(),this.Xd=a,this.Wb(!0),this.b.main_panel.scriptbtn.text.ha(c.name),this.b.main_panel.scriptbtn.n(r.i(0,255,0,255)))},TD:function(){this.b.main_panel.scriptbtn.text.ha("None");this.b.main_panel.scriptbtn.n(r.i(255,0,0,255))},Cc:function(){return{panels:{position:r.a(300,10),children:{background:{Y:"GUI/itemeditor_bg.png",d:r.a(0,0)},main_panel:{d:r.a(0,0),position:r.a(0,0),size:r.size(500,330),
children:{namelbl:{label:"Name:",fontSize:20,d:r.a(0,0),position:r.a(4,292),color:r.l(0,0,0)},name_entry:{position:r.a(74,292),size:r.size(266,32),A:r.i(255,255,255,255)},tiles:{d:r.a(0,1),position:r.a(374,232),Y:M[0].name},textureleftbtn:{position:r.a(362,292),size:r.size(16,32),Y:"GUI/texture_change_left.png",d:r.a(0,0)},texturerightbtn:{position:r.a(471,292),size:r.size(16,32),Y:"GUI/texture_change_right.png",d:r.a(0,0)},textureName:{position:r.a(375,292),size:r.size(96,32),Y:"GUI/texture_change_middle.png",
d:r.a(0,0),children:{text:{label:K[0].name,fontSize:12,d:r.a(0.5,0.5),position:r.a(48,16),color:r.l(0,0,0)}}},upbtn:{position:r.a(374,236),size:r.size(96,16),A:r.i(0,0,255,255),d:r.a(0,0),children:{text:{label:"^",fontSize:12,d:r.a(0.5,0.5),position:r.a(48,8),color:r.l(255,255,255)}}},downbtn:{position:r.a(374,86),size:r.size(96,16),A:r.i(0,0,255,255),d:r.a(0,0),children:{text:{label:"v",fontSize:12,d:r.a(0.5,0.5),position:r.a(48,8),color:r.l(255,255,255)}}},scriptlbl:{label:"Script:",fontSize:12,
d:r.a(0,0),position:r.a(8,262),color:r.l(0,0,0)},scriptbtn:{position:r.a(8,232),size:r.size(128,26),A:Ha,d:r.a(0,0),children:{text:{label:"None",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.l(0,0,0)}}},okbtn:{position:r.a(434,16),size:r.size(32,32),Y:"GUI/tick_icon.png",d:r.a(0,0)},cancelbtn:{position:r.a(384,16),size:r.size(32,32),Y:"GUI/cross_icon.png",d:r.a(0,0)}}},control_panel:{d:r.a(0,0),position:r.a(0,330),size:r.size(500,32),children:{header:{label:"Item Editor",fontSize:20,d:r.a(0,
0.5),position:r.a(8,16)},exitBtn:{position:r.a(476,6),size:r.size(20,20),d:r.a(0,0),Y:"GUI/close.png"}}}}}}},Bc:function(){return"npcEditor"},Pa:null,k:null,data:null,r:function(a){this._super();this.data={name:"",sprite:{texture:null,number:null},script:null};this.Sb=M[0].name;this.W=0;this.k=this.Pa=null;this.P=r.a(0,0);this.k=a.k;a&&a.data&&(this.data=a.data,this.data.sprite.number&&(this.P.y=this.data.sprite.number),this.data.script&&(this.Xd=this.data.script))},ij:function(a){I({savenpcs:a+"",
npcsdata:this.data})},Vi:function(a,c){I({savenpcswhole:c})},oa:function(){this._super();for(var a in M)M[a].name==this.data.sprite.texture&&(this.W=a,this.Sb=M[a].name);this.b.main_panel.textureName.text.ha(this.Sb);this.b.main_panel.tiles.fa(M[this.W].texture);null!=this.data.script&&(this.b.main_panel.scriptbtn.n(r.i(0,255,0,255)),this.b.main_panel.scriptbtn.text.ha(ObjectLists.Yi()[this.data.script].name),this.Xd=this.data.script);this.Pa=new $(this.b.main_panel.name_entry,r.size(this.b.main_panel.name_entry.c().width,
this.b.main_panel.name_entry.c().height),r.a(0,this.b.main_panel.name_entry.c().height),this.data.name?this.data.name:"",r.i(100,100,100),r.l(255,255,255));this.Pa.kb(!0);this.nb()},ya:function(a){this._super();if(this.k){var c=this.k;!0!=a&&this.k.Dc(function(){c.$c(null)})}},nb:function(){this.$b(this.nb);this.b.main_panel.tiles.aa()&&!0==this.b.main_panel.tiles.aa().uc&&(this.Rc(this.nb),this.b.main_panel.tiles.Tb(r.rect(Math.floor(96*this.P.x),Math.floor(128*this.P.y),96>M[this.W].texture.c().width?
M[this.W].texture.c().width:96,128>M[this.W].texture.c().height?M[this.W].texture.c().height:128)))},jb:function(a){if(this._super(a))return!0;this.Ud=null;a=this.b.main_panel.Ia(a.J);if(Q(this.b.main_panel.okbtn,a)){if(null==this.Pa.R()||""==this.Pa.R())return!0;this.Ef=!0;this.data.name=this.Pa.R();this.data.sprite.number=this.P.y;this.data.script=this.Xd;this.k.$c(this.data);return!0}if(Q(this.b.main_panel.cancelbtn,a)){this.Ef=!0;var c=this.k;this.k.Dc(function(){c.$c(null)});return!0}Q(this.b.main_panel.scriptbtn,
a)&&(Scripteditor?(Scripteditor.ya(),Scripteditor.N(),Scripteditor=null):(Scripteditor=new PopupList,Scripteditor.r({k:this,Gg:new ScriptEditor,list:ObjectLists.Yi(),name:"Script List"}),Scripteditor.oa(),this.f(Scripteditor)));return Q(this.b.main_panel.upbtn,a)?(320<M[this.W].texture.c().height&&0<this.P.y&&(this.P.y--,this.nb()),!0):Q(this.b.main_panel.downbtn,a)?(320<M[this.W].texture.c().height&&this.P.y<(M[this.W].texture.c().height-320)/32&&(this.P.y++,this.nb()),!0):Q(this.b.main_panel.texturerightbtn,
a)?(this.Pn(),!0):Q(this.b.main_panel.textureleftbtn,a)?(this.Qn(),!0):!1},BL:function(){this.data.stackable=!this.data.stackable;this.b.main_panel.stackbtn.n(Ha);this.b.main_panel.stackbtn.text.ha("NOT STACKABLE");!0==this.data.stackable&&(this.b.main_panel.stackbtn.n(Ga),this.b.main_panel.stackbtn.text.ha("IS STACKABLE"))},Pn:function(){this.W>=M.length-1&&(this.W=-1);this.W++;this.b.main_panel.tiles.fa(M[this.W].texture);this.Sb=M[this.W].name;this.b.main_panel.textureName.text.ha(this.Sb);this.data.sprite.texture=
this.Sb;this.P=r.a(0,0);this.nb()},Qn:function(){0>=this.W&&(this.W=M.length);this.W--;this.b.main_panel.tiles.fa(M[this.W].texture);this.Sb=M[this.W].name;this.b.main_panel.textureName.text.ha(this.Sb);this.P=r.a(0,0);this.nb()}});Skillseditor=null;
SkillsEditor=Popup.extend({Sb:K[0].name,W:0,Cc:function(){return{panels:{position:r.a(300,10),children:{main_panel:{d:r.a(0,0),position:r.a(0,0),size:r.size(420,396),A:r.i(0,0,100,120),children:{tab1:{children:{tiles:{d:r.a(0,1),position:r.a(16,320),Y:K[0].name},textureleftbtn:{position:r.a(208,340),size:r.size(16,32),A:P,d:r.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,d:r.a(0.5,0.5),position:r.a(8,16),color:r.l(0,0,0)}}},texturerightbtn:{position:r.a(320,340),size:r.size(16,32),A:P,d:r.a(0,
0),children:{text:{label:"\x3e\x3e",fontSize:12,d:r.a(0.5,0.5),position:r.a(8,16),color:r.l(0,0,0)}}},textureName:{position:r.a(224,340),size:r.size(96,32),A:r.i(255,255,255,170),d:r.a(0,0),children:{text:{label:K[0].name,fontSize:12,d:r.a(0.5,0.5),position:r.a(48,16),color:r.l(0,0,0)}}},leftbtn:{position:r.a(0,64),size:r.size(16,252),A:r.i(0,0,255,255),d:r.a(0,0),children:{text:{label:"\x3c",fontSize:12,d:r.a(0.5,0.5),position:r.a(8,160),color:r.l(255,255,255)}}},rightbtn:{position:r.a(336,64),size:r.size(16,
252),A:r.i(0,0,255,255),d:r.a(0,0),children:{text:{label:"\x3e",fontSize:12,d:r.a(0.5,0.5),position:r.a(8,160),color:r.l(255,255,255)}}},upbtn:{position:r.a(16,320),size:r.size(320,16),A:r.i(0,0,255,255),d:r.a(0,0),children:{text:{label:"^",fontSize:12,d:r.a(0.5,0.5),position:r.a(160,8),color:r.l(255,255,255)}}},downbtn:{position:r.a(16,48),size:r.size(320,16),A:r.i(0,0,255,255),d:r.a(0,0),children:{text:{label:"v",fontSize:12,d:r.a(0.5,0.5),position:r.a(160,8),color:r.l(255,255,255)}}},highlightnode:{d:r.a(0,
0),position:r.a(0,0),size:r.size(32,32),A:r.i(255,100,100,255)},selectednode:{d:r.a(0,0),position:r.a(0,0),size:r.size(32,32),A:r.i(100,255,100,255)}}},tab2:{children:{name_text:{label:"Skill Name",fontSize:10,d:r.a(0,0),position:r.a(8,344)},name_entry:{size:r.size(136,32),position:r.a(4,312)},healthcolor_text:{label:"Healthbar Color",fontSize:10,d:r.a(0,0),position:r.a(8,250)},healthcolor_entry:{size:r.size(136,32),position:r.a(4,210)},tile:{d:r.a(0,1),position:r.a(55,150),Y:K[0].name},healthbtn:{position:r.a(8,
265),size:r.size(128,26),A:Ha,d:r.a(0,0),children:{text:{label:"NOT HEALTHBAR",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.l(0,0,0)}}}}},tab1Clickable:{position:r.a(0,376),size:r.size(60,20),A:P,d:r.a(0,0),children:{text:{label:"Icon",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,10),color:r.l(0,0,0)}}},tab2Clickable:{position:r.a(64,376),size:r.size(60,20),A:P,d:r.a(0,0),children:{text:{label:"Details",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,10),color:r.l(0,0,0)}}},okbtn:{position:r.a(76,
8),size:r.size(60,32),A:P,d:r.a(0,0),children:{text:{label:"OK",fontSize:12,d:r.a(0.5,0.5),position:r.a(30,16),color:r.l(0,0,0)}}},cancelbtn:{position:r.a(8,8),size:r.size(60,32),A:P,d:r.a(0,0),children:{text:{label:"Cancel",fontSize:12,d:r.a(0.5,0.5),position:r.a(30,16),color:r.l(0,0,0)}}}}},control_panel:{d:r.a(0,0),position:r.a(0,396),size:r.size(420,32),A:r.i(255,0,0,200),children:{header:{label:"Skill Editor",fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(391,3),size:r.size(26,
26),d:r.a(0,0),A:r.i(255,255,255,200),children:{content:{label:"X",fontSize:20,color:r.l(0,0,0),d:r.a(0.5,0.5),position:r.a(13,13)}}}}}}}}},Bc:function(){return"SkillsEditor"},Pa:null,Np:null,lj:null,oe:0,k:null,data:null,r:function(a){this._super();this.data={sprite:{texture:K[0].name,position:{x:0,y:0}},additionalData:{},healthbar:null,name:""};this.Sb=K[0].name;this.W=0;this.lj=this.Pa=null;this.oe=0;this.k=null;this.P=r.a(0,0);this.lj=[null,352,142];this.k=a.k;a&&a.data&&(this.data=a.data)},ij:function(a){I({saveskills:a+
"",skillsdata:this.data})},Vi:function(a,c){I({saveskillswhole:c})},oa:function(){this._super();this.b.main_panel.tab1.highlightnode.ra(0);this.b.main_panel.tab1.selectednode.ra(127);for(var a in K)K[a].name==this.data.sprite.texture&&(this.W=a,this.Sb=K[a].name);this.b.main_panel.tab1.textureName.text.ha(this.Sb);this.b.main_panel.tab1.tiles.fa(K[this.W].texture);for(a=this.data.sprite.position.x;10<=a;)a--,this.P.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.P.y++;a=r.a(32*(this.data.sprite.position.x-
this.P.x),32*(this.data.sprite.position.y-this.P.y));this.b.main_panel.tab1.selectednode.m(this.b.main_panel.tab1.tiles.q.x+a.x,this.b.main_panel.tab1.tiles.q.y-(a.y+32));this.b.main_panel.tab2.tile.fa(K[this.W].texture);this.b.main_panel.tab2.tile.Tb(r.rect(Math.floor(32*this.data.sprite.position.x),Math.floor(32*this.data.sprite.position.y),32,32));this.Pa=new $(this.b.main_panel.tab2.name_entry,r.size(this.b.main_panel.tab2.name_entry.c().width,this.b.main_panel.tab2.name_entry.c().height),r.a(0,
this.b.main_panel.tab2.name_entry.c().height),this.data.name?this.data.name:"",r.i(100,100,100),r.l(255,255,255));this.Pa.kb(!0);this.Np=new $(this.b.main_panel.tab2.healthcolor_entry,r.size(this.b.main_panel.tab2.healthcolor_entry.c().width,this.b.main_panel.tab2.healthcolor_entry.c().height),r.a(0,this.b.main_panel.tab2.healthcolor_entry.c().height),this.data.healthbar?this.data.healthbar:"",r.i(100,100,100),r.l(255,255,255));this.Np.kb(!0);this.b.main_panel.tab2.healthbtn.n(Ha);this.b.main_panel.tab2.healthbtn.text.ha("NOT HEALTHBAR");
null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.n(Ga),this.b.main_panel.tab2.healthbtn.text.ha("IS HEALTHBAR"));this.Il(1);this.nb()},kca:function(){},ya:function(a){this._super();if(this.k){var c=this.k;!0!=a&&this.k.Dc(function(){c.$c(null)})}},gj:function(a){a=a.J;if(1==this.oe&&(this.b.main_panel.tab1.highlightnode.ra(0),a=this.b.main_panel.tab1.tiles.Ia(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.c().width&&a.y<=this.b.main_panel.tab1.tiles.c().height))return a.x=
a.x-a.x%32+16,a.y=a.y-a.y%32+64,this.b.main_panel.tab1.highlightnode.ra(127),this.b.main_panel.tab1.highlightnode.m(a),!0},Il:function(a){a!=this.oe&&(this.b.main_panel.V(this.lj[a],this.b.main_panel.c().height),this.b.control_panel.V(this.lj[a],this.b.control_panel.c().height),this.b.main_panel.tab2.name_entry.xb(this.b.main_panel.tab2.name_entry.q.F-1E3),this.b.main_panel.tab2.healthcolor_entry.xb(this.b.main_panel.tab2.healthcolor_entry.q.F-1E3),this.b.main_panel.tab2.healthcolor_text.B(!1),this.oe=
a,this.b.main_panel.tab1.B(!1),this.b.main_panel.tab2.B(!1),this.b.main_panel.tab1Clickable.n(P),this.b.main_panel.tab2Clickable.n(P),this.b.main_panel["tab"+a].B(!0),this.b.main_panel["tab"+a+"Clickable"].n(r.i(255,255,0,255)),this.b.control_panel.exitBtn.xb(this.lj[a]-29));2==a&&(this.b.main_panel.tab2.name_entry.xb(4),null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthcolor_entry.xb(4),this.b.main_panel.tab2.healthcolor_text.B(!0)))},nb:function(){this.$b(this.nb);
this.b.main_panel.tab1.tiles.aa()&&!0==this.b.main_panel.tab1.tiles.aa().uc&&(this.Rc(this.nb),this.b.main_panel.tab1.tiles.Tb(r.rect(Math.floor(32*this.P.x),Math.floor(32*this.P.y),320>K[this.W].texture.c().width?K[this.W].texture.c().width:320,256>K[this.W].texture.c().height?K[this.W].texture.c().height:256)))},jb:function(a){if(this._super(a))return!0;this.Ud=null;a=a.J;var c=this.b.main_panel.Ia(a);if(Q(this.b.main_panel.tab1Clickable,c))return this.Il(1),!0;if(Q(this.b.main_panel.tab2Clickable,
c))return this.Il(2),!0;if(Q(this.b.main_panel.okbtn,c)){if(null==this.Pa.R()||""==this.Pa.R())return!0;this.Ef=!0;this.data.name=this.Pa.R();if(null!=this.Np.R()||""!=this.Np.R())this.data.healthbar=this.Np.R();this.k.$c(this.data);return!0}if(Q(this.b.main_panel.cancelbtn,c)){this.Ef=!0;var d=this.k;this.k.Dc(function(){d.$c(null)});return!0}if(1==this.oe){if(Q(this.b.main_panel.tab1.leftbtn,c))return 264<K[this.W].texture.c().width&&0<this.P.x&&(this.P.x--,this.nb()),!0;if(Q(this.b.main_panel.tab1.rightbtn,
c))return 320<K[this.W].texture.c().width&&this.P.x<(K[this.W].texture.c().width-320)/32&&(this.P.x++,this.nb()),!0;if(Q(this.b.main_panel.tab1.upbtn,c))return 320<K[this.W].texture.c().height&&0<this.P.y&&(this.P.y--,this.nb()),!0;if(Q(this.b.main_panel.tab1.downbtn,c))return 320<K[this.W].texture.c().height&&this.P.y<(K[this.W].texture.c().height-320)/32&&(this.P.y++,this.nb()),!0;if(Q(this.b.main_panel.tab1.texturerightbtn,c))return this.Pn(),!0;if(Q(this.b.main_panel.tab1.textureleftbtn,c))return this.Qn(),
!0;c=this.b.main_panel.tab1.tiles.Ia(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.c().width&&c.y<=this.b.main_panel.tab1.tiles.c().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+64;this.b.main_panel.tab1.selectednode.ra(0);if(this.b.main_panel.tab1.selectednode.q.F!=c.x||this.b.main_panel.tab1.selectednode.q.K!=c.y)this.b.main_panel.tab1.selectednode.ra(127),this.b.main_panel.tab1.selectednode.m(c);a=r.a((this.b.main_panel.tab1.selectednode.q.F-16)/32+this.P.x,8-(this.b.main_panel.tab1.selectednode.q.K-
64)/32+this.P.y-1);this.b.main_panel.tab2.tile.Tb(r.rect(32*a.x,32*a.y,32,32));this.data.sprite.position=a;console.log("TOUCHED");return!0}}return 2==this.oe&&Q(this.b.main_panel.tab2.healthbtn,c)?(this.oY(),!0):!1},oY:function(){this.b.main_panel.tab2.healthcolor_entry.xb(this.b.main_panel.tab2.healthcolor_entry.q.F-1E3);this.b.main_panel.tab2.healthcolor_text.B(!1);null!=this.data.healthbar&&""!=this.data.healthbar?(this.data.healthbar="",this.Np.Je("")):(this.data.healthbar="FF0000",this.b.main_panel.tab2.healthcolor_entry.xb(4),
this.b.main_panel.tab2.healthcolor_text.B(!0));this.b.main_panel.tab2.healthbtn.n(Ha);this.b.main_panel.tab2.healthbtn.text.ha("NOT HEALTHBAR");null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.n(Ga),this.b.main_panel.tab2.healthbtn.text.ha("IS HEALTHBAR"))},Pn:function(){this.W>=K.length-1&&(this.W=-1);this.W++;this.b.main_panel.tab1.tiles.fa(K[this.W].texture);this.b.main_panel.tab2.tile.fa(K[this.W].texture);this.Sb=K[this.W].name;this.b.main_panel.tab1.textureName.text.ha(this.Sb);
this.data.sprite.texture=this.Sb;this.P=r.a(0,0);this.nb()},Qn:function(){0>=this.W&&(this.W=K.length);this.W--;this.b.main_panel.tab1.tiles.fa(K[this.W].texture);this.b.main_panel.tab2.tile.fa(K[this.W].texture);this.Sb=K[this.W].name;this.b.main_panel.tab1.textureName.text.ha(this.Sb);this.P=r.a(0,0);this.nb()}});PopupList=Popup.extend({Yf:null,Nc:[],gD:null,In:!1,Ex:-1,J8:0,cI:null,M:null,TI:!1,ya:function(){this._super();this.k&&(this.k.Wb(!0),!this.TI&&this.k.TD&&this.k.TD(null,null))},r:function(a){this._super();this.Yf=null;this.Nc=[];this.gD=null;this.In=!1;this.Ex=-1;this.Yf=a.Gg;a.list&&(this.Nc=a.list);this.gD=a.name;this.k=a.k},oa:function(){this._super();this.tb()},M:null,tb:function(){this.M&&this.M.da.N();var a=[],c=[],d=r.ga.e();this.cI={};for(var e in this.Nc)if(a[e]=r.D.create(),a[e].V(324,
32),null==this.Nc[e])this.Nc.splice(e,1);else{if(null!=this.k){var f=r.v.eb(d.qa("GUI/use.png"));f.m(r.a(244,6));f.G(r.a(0,0))}var g=r.ca.create(r.i(0,0,0,127),316,1);g.m(r.a(4,0));var h=r.Q.create(this.Nc[e].name,"Arial",20);h.G(r.a(0,0.5));h.m(r.a(0,16));var k=r.v.eb(d.qa("GUI/edit.png"));k.m(r.a(272,6));k.G(r.a(0,0));var l=r.v.eb(d.qa("GUI/trash.png"));l.m(r.a(300,6));l.G(r.a(0,0));k.Zb="Edit";var m=[];m.push(k);l.Zb="Delete";m.push(l);null!=this.k&&(f.Zb="Use",m.push(f));c.push(m);a[e].f(g);a[e].f(h);
a[e].f(k);a[e].f(l);null!=this.k&&a[e].f(f)}d=r.ca.create(r.i(70,200,70,255),90,26);e=r.Q.create("+","Arial",20);e.m(45,13);e.G(r.a(0.5,0.5));d.m(r.a(120,0));d.Zb="Add";d.f(e);c.push([d]);a.push(d);this.M=this.b.main_panel.list;var n=this;this.M.sd=function(){return r.size(324,32*a.length)};this.M.ad=function(){return a.length};this.M.Fd=function(c){return a[c].c()};this.M.Ed=function(c){return a[c]};this.M.kc=function(a,c,d){n.Ia(d.J);if(!0!=n.In)switch(a){case "Delete":n.U.f(DropDownList.qd(n,n.jC,
["Cancel","Delete"],d.J));n.ib=c;break;case "Edit":n.Yf.U&&n.Yf.N();n.In=!0;n.Yf.r({k:n,data:n.Nc[c]});n.U.f(n.Yf);n.Wb(!1);n.Yf.oa();n.Ex=c+"";break;case "Add":n.OH=!0;n.In=!0;n.Ex=n.Nc.length;n.Yf.r({k:n,data:null});n.Wb(!1);n.U.f(n.Yf);n.Yf.oa();break;case "Use":n.k.kq(c,n.Nc[c]),n.TI=!0}};this.M.da=ListView.create(this.M);this.M.da.Id(c);this.M.f(this.M.da)},Cc:function(){return{panels:{position:r.a(300,200),children:{background_image:{Y:"GUI/list_panel.png",d:r.a(0,0)},main_panel:{d:r.a(0,0),
size:r.size(365,328),children:{list:{size:r.size(324,328),position:r.a(0,0),d:r.a(0,0)}}},control_panel:{d:r.a(0,0),position:r.a(0,328),size:r.size(365,32),children:{header:{label:this.gD,fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(337,6),size:r.size(20,20),d:r.a(0,0),Y:"GUI/close.png"}}}}}}},ib:null,jC:function(a){switch(a){case 1:null!=this.k.ib&&(this.k.jS(this.k.ib),this.k.ib=null)}},jb:function(a){if(this._super(a))return!0;this.Ud=null;a=this.b.main_panel.Ia(a.J);return Q(this.b.main_panel,
a)?!0:!1},$c:function(a){a&&(this.Yf.ij(this.Ex),this.OH&&(this.Nc.push(a),this.tb()));this.Wb(!0);this.In=this.OH=!1;var c=this;this.Dc(function(){c.Yf.ya(!0);c.Yf.N()})},jS:function(a){this.Nc.splice(a,1);this.Yf.Vi(a,this.Nc);this.tb()}});Warpeditor=null;
WarpEditor=Popup.extend({Bc:function(){return"WarpEditor"},ij:function(a){I({savewarps:a+"",warpdata:this.data})},Vi:function(a,c){I({savewarpswhole:c})},Cc:function(){return{panels:{position:r.a(300,200),children:{background:{Y:"GUI/warpeditor_bg.png",d:r.a(0,0)},main_panel:{d:r.a(0,0),size:r.size(180,160),children:{okbtn:{position:r.a(114,16),size:r.size(32,32),Y:"GUI/tick_icon.png",d:r.a(0,0)},cancelbtn:{position:r.a(34,16),size:r.size(32,32),Y:"GUI/cross_icon.png",d:r.a(0,0)},namelbl:{label:"Name of warp.",
fontSize:12,d:r.a(0,0),position:r.a(20,140),color:r.l(0,0,0)},nameEntry:{position:r.a(16,110),size:r.size(120,30)},mapnumlbl:{label:"Map #",fontSize:12,d:r.a(0,0),position:r.a(20,90),color:r.l(0,0,0)},mapNumEntry:{position:r.a(16,60),size:r.size(40,30)},mapxlbl:{label:"x",fontSize:12,d:r.a(0,0),position:r.a(80,90),color:r.l(0,0,0)},mapXEntry:{position:r.a(76,60),size:r.size(36,30)},mapylbl:{label:"y",fontSize:12,d:r.a(0,0),position:r.a(130,90),color:r.l(0,0,0)},mapYEntry:{position:r.a(126,60),size:r.size(36,
30)}}},control_panel:{d:r.a(0,0),position:r.a(0,160),size:r.size(180,32),children:{header:{label:"Warp Editor",fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(156,6),size:r.size(20,20),d:r.a(0,0),Y:"GUI/close.png"}}}}}}},Pa:null,Wp:null,Xp:null,Yp:null,k:null,data:null,r:function(a){this._super();this.k=this.Yp=this.Xp=this.Wp=this.Pa=null;this.data={mapTo:0,position:0,name:""};a.data&&(this.data=a.data);this.k=a.k},oa:function(){this._super();var a=this.data.position%U,c=Math.floor(this.data.position/
U);this.Pa=new $(this.b.main_panel.nameEntry,r.size(this.b.main_panel.nameEntry.c().width,this.b.main_panel.nameEntry.c().height),r.a(0,this.b.main_panel.nameEntry.c().height),this.data.name,r.i(100,100,100),r.l(255,255,255));this.Pa.kb(!0);this.Wp=new $(this.b.main_panel.mapNumEntry,r.size(this.b.main_panel.mapNumEntry.c().width,this.b.main_panel.mapNumEntry.c().height),r.a(0,this.b.main_panel.mapNumEntry.c().height),""+this.data.mapTo,r.i(100,100,100),r.l(255,255,255));this.Wp.kb(!0);this.Xp=new $(this.b.main_panel.mapXEntry,
r.size(this.b.main_panel.mapXEntry.c().width,this.b.main_panel.mapXEntry.c().height),r.a(0,this.b.main_panel.mapXEntry.c().height),""+a,r.i(100,100,100),r.l(255,255,255));this.Xp.kb(!0);this.Yp=new $(this.b.main_panel.mapYEntry,r.size(this.b.main_panel.mapYEntry.c().width,this.b.main_panel.mapYEntry.c().height),r.a(0,this.b.main_panel.mapYEntry.c().height),""+c,r.i(100,100,100),r.l(255,255,255));this.Yp.kb(!0)},jb:function(a){if(this._super(a))return!0;this.Ud=null;a=this.b.main_panel.Ia(a.J);if(Q(this.b.main_panel.okbtn,
a)){if(null==this.Pa.R()||""==this.Pa.R()||null==this.Wp.R()||""==this.Wp.R()||null==this.Xp.R()||""==this.Xp.R()||null==this.Yp.R()||""==this.Yp.R())return!0;this.Ef=!0;this.data.position=V(parseInt(this.Xp.R()),Pa-parseInt(this.Yp.R()));this.data.mapTo=parseInt(this.Wp.R());this.data.name=this.Pa.R();this.k.$c(this.data);return!0}if(Q(this.b.main_panel.cancelbtn,a)){this.Ef=!0;var c=this.k;this.k.Dc(function(){c.$c(null)});return!0}},ya:function(a){this._super();var c=this.k;a||this.k.Dc(function(){c.$c(null)})}});Signeditor=null;
SignEditor=Popup.extend({Bc:function(){return"SignEditor"},ij:function(a){I({savesigns:a+"",signsdata:this.data})},Vi:function(a,c){I({savesignswhole:c})},Cc:function(){return{panels:{position:r.a(300,200),children:{background:{Y:"GUI/signeditor_bg.png",d:r.a(0,0)},main_panel:{d:r.a(0,0),size:r.size(142,256),children:{okbtn:{position:r.a(88,16),size:r.size(32,32),Y:"GUI/tick_icon.png",d:r.a(0,0)},cancelbtn:{position:r.a(22,16),size:r.size(32,32),Y:"GUI/cross_icon.png",d:r.a(0,0)},namelbl:{label:"Name of sign.",
fontSize:12,d:r.a(0,0),position:r.a(6,238),color:r.l(0,0,0)},nameEntry:{position:r.a(4,206),size:r.size(120,30)},signlbl:{label:"Contents",fontSize:12,d:r.a(0,0),position:r.a(6,190),color:r.l(0,0,0)},signEntry:{position:r.a(4,60),size:r.size(120,128)}}},control_panel:{d:r.a(0,0),position:r.a(0,256),size:r.size(142,32),children:{header:{label:"Sign Editor",fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(118,6),size:r.size(20,20),d:r.a(0,0),Y:"GUI/close.png"}}}}}}},Pa:null,lq:null,
k:null,data:null,r:function(a){this._super();this.k=this.lq=this.Pa=null;this.data={label:"",name:""};a.data&&(this.data=a.data);this.k=a.k},oa:function(){this._super();this.Pa=new $(this.b.main_panel.nameEntry,r.size(this.b.main_panel.nameEntry.c().width,this.b.main_panel.nameEntry.c().height),r.a(0,this.b.main_panel.nameEntry.c().height),this.data.name,r.i(100,100,100),r.l(255,255,255));this.Pa.kb(!0);this.lq=new $(this.b.main_panel.signEntry,r.size(this.b.main_panel.signEntry.c().width,this.b.main_panel.signEntry.c().height),
r.a(0,this.b.main_panel.signEntry.c().height),""+this.data.label,r.i(100,100,100),r.l(255,255,255),!0);this.lq.kb(!0)},jb:function(a){if(this._super(a))return!0;this.Ud=null;a=this.b.main_panel.Ia(a.J);if(Q(this.b.main_panel.okbtn,a)){if(null==this.Pa.R()||""==this.Pa.R()||null==this.lq.R()||""==this.lq.R())return!0;this.Ef=!0;this.data.label=this.lq.R();this.data.name=this.Pa.R();this.k.$c(this.data);return!0}if(Q(this.b.main_panel.cancelbtn,a)){this.Ef=!0;var c=this.k;this.k.Dc(function(){c.$c(null)});
return!0}},ya:function(a){this._super();var c=this.k;a||this.k.Dc(function(){c.$c(null)})}});var R=Sa.extend({ctor:function(){this._super()},UL:function(){this._super()},oa:function(){this._super()},ya:function(){this._super()},jb:function(a){r.bb(this.b.health_panel.Ya(),a.J)&&x.e().pl("Game")},r:function(){var a=r.Q.create("ITS WOKKIN!","Arial",16);a.n(r.l(0,0,0));a.m(r.a(200,200));this.f(a);this._super()}});NewsPanel=null;
News=Popup.extend({data:null,M:null,ib:null,Bc:function(){return"Credits"},ya:function(){this._super()},r:function(){this._super();this.data={"9th November 2014: (v0.731)":["Added talking and talk with option callback to the npc scripts contexts."],"8th November 2014: (v0.731)":["Fixed NPC editor.","Added talk graphic and basic logic for npc interaction","Abstracted Item script logic to a utils function...wiped a lot of duplicate code."],"25th October 2014: (v0.729)":["Added scripting response logic for giving/taking items.","Added scripting requirements logic for if a panel is visible and inventory has a certain amount of slots."],
"25th October 2014: (v0.727)":["Fixed a bunch of persistant bugs. Game is now much much more stable than it was.","Added scripts for on pickup and on drop. Added some additional response logic for warping the player. Added requirement logic for check if player has items and if player stats are within certain ranges."],"24th October 2014: (v0.724)":["Added functionality to more scripts. Items can now use the destroy and open/close panel scripts.","Fixed equip script to use the equip position defined within the scripting system instead of previously defined sub-item types from previous versions."],
"23rd October 2014: (v0.722)":["Added functionality to some item scripts. Game now modifies inventory drop down behaviour based on responses type (read/equip).","Items can now influence player stats on equip, dequip, swapped and on read."],"30th September 2014: (v0.72)":["Added user saving and loading for player position, items and equipment. Picked up and equipped items are now stored and saved regardless of session.","Edited the skills panel to utilise the list view logic. Skills menu now shows level and experience progression and uses data from the user account",
"Added health manipulation functionality utilising new skill logic as noted in the previous point."],"27th September 2014: (v0.72)":["Added registration and logging in system. Users can now have automatic login setup for their accounts and player data is starting to be saved from an actual account.","Server now has a new folder where user data is stored.","Added the beginnings of a user ranking system, game editors can now only be accessed if the player rank is above 1. Rank 1 is now the default registration rank."],
"25th August 2014: (v0.718)":["Added 90% of subeditors needed for the scripting system. Go into the script editor and press the pencil icon on the responses and requirements to edit their core data.","Updated script panel texture to utilize inpanel submenu editors.","Abstracted out the script editor so that its not dependant on certain types.","Added/removed requirements responses based on logical conclusions on what is actually needed. Consume as an item response, for example, is unecessary because it would work identically to destroy."],
"17th August 2014: (v0.714)":["Added basic template logic of new scripting editor system. Scripts can be saved and loaded like other list systems. This editor currently does not allow you to apply scripts to anything (it is simply the GUI interface template logic that's in there). The item editor has been changed to utilize the new saved scripts list.","Fixed localstorage issue caused by settings implementation. Game now does not now load until the game is fully in sync. The issue was causing an error on some game-loads because the localstorage was not yet available (requiring a refresh)."],
"11th August 2014: (v0.708)":["Added settings menu for various game controls. Settings menu only currently controls a load of in game string settings. Also added the additional required admin panel graphic for settings access. The new chatbox command is /editsettings.","Added scrolling credits button to login page and populated it.","Added this scrolling news feed to login page and obviously populated it as well."],"11th August 2014 (v0.7)":["Added some additional custom gui for some of the editors.",
"Fixed a lot of bugs (and I mean a lot).","Added 0.7 download to site."],"10th August 2014 (v0.695)":["Added quest objective editor. New button now made usable in menu.","Objective editor utilizes abstract scrolling list from 0.69."]}},ij:function(a){I({savequests:a+"",questdata:this.data})},Vi:function(a,c){I({savequestswhole:c})},oa:function(){this._super();this.tb()},tb:function(){this.M&&this.M.jc();var a=[],c=[];r.ga.e();var d=0,e;for(e in this.data){a[d]=r.D.create();a[d].V(324,32);var f=r.Q.create(e,
"Arial",18);f.G(r.a(0,0));f.m(r.a(4,0));f.cc(r.size(246,0));f.n(r.l(100,0,0));a[d].f(f);a[d].V(324,f.c().height+4);f=[];c.push(f);d++;for(var g in this.data[e]){a[d]=r.D.create();a[d].V(324,32);var h=r.ca.create(r.i(0,0,0,127),316,1);h.m(r.a(4,0));var k=r.Q.create(this.data[e][g],"Arial",15);k.n(r.l(0,0,0));k.G(r.a(0,0));k.m(r.a(4,4));k.cc(r.size(246,0));f=[];c.push(f);a[d].f(h);a[d].f(k);a[d].V(324,k.c().height+8);d++}}this.M=this.b.main_panel.list;this.M.sd=function(){for(var c=0,d=0;d<a.length;d++)c+=
a[d].c().height;return r.size(324,c)};this.M.ad=function(){return a.length};this.M.Fd=function(c){return a[c].c()};this.M.Ed=function(c){return a[c]};this.M.kc=function(){};this.M.da=ListView.create(this.M);this.M.da.Id(c);this.M.f(this.M.da)},Cc:function(){return{panels:{position:r.a(300,200),children:{background_image:{Y:"GUI/list_panel.png",d:r.a(0,0)},main_panel:{d:r.a(0,0),size:r.size(365,328),children:{list:{size:r.size(324,328),A:r.i(0,200,200,200),position:r.a(0,0),d:r.a(0,0)}}},control_panel:{d:r.a(0,
0),position:r.a(0,328),size:r.size(365,32),children:{header:{label:"News",fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(337,6),size:r.size(20,20),d:r.a(0,0),Y:"GUI/close.png"}}}}}}},jb:function(a){if(this._super(a))return!0;this.Ud=null;a=this.b.main_panel.Ia(a.J);return Q(this.b.main_panel,a)?!0:!1}});CreditsPanel=null;
Credits=Popup.extend({data:null,M:null,ib:null,Bc:function(){return"Credits"},ya:function(){this._super()},r:function(){this._super();this.data={"Programmed and designed by:":"Alan Tuckwood","Special thanks:":"Claire, for putting up with all the non-talking hours.","Special thanks 2:":"IndieRising dev community for all their wonderful support.","Special thanks 3:":"Finblade, for all the skills I was able to pass into this engine.","Special thanks 4:":"All of you players, who's positive response keep me motivated.","Powder Engine is Copywritten":"Contact the developer in-site regarding questions."}},
ij:function(a){I({savequests:a+"",questdata:this.data})},Vi:function(a,c){I({savequestswhole:c})},oa:function(){this._super();this.tb()},tb:function(){this.M&&this.M.jc();var a=[],c=[];r.ga.e();var d=0,e;for(e in this.data){if("ISSECTION"!=this.data[e]){a[d]=r.D.create();a[d].V(324,32);var f=r.Q.create(e,"Arial",18);f.G(r.a(0,0));f.m(r.a(4,0));f.cc(r.size(246,0));f.n(r.l(100,0,0));a[d].f(f);a[d].V(324,f.c().height+4);f=[];c.push(f);d++}a[d]=r.D.create();a[d].V(324,32);var g=r.ca.create(r.i(0,0,0,
127),316,1);g.m(r.a(4,0));if("ISSECTION"==this.data[e]){var h=r.Q.create(e,"Arial",22);h.n(r.l(255,0,0))}else h=r.Q.create(this.data[e],"Arial",15),h.n(r.l(0,0,0));h.G(r.a(0,0));h.m(r.a(4,4));h.cc(r.size(246,0));f=[];c.push(f);a[d].f(g);a[d].f(h);"ISSECTION"==this.data[e]?a[d].V(324,h.c().height+12):a[d].V(324,h.c().height+8);d++}this.M=this.b.main_panel.list;this.M.sd=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return r.size(324,c)};this.M.ad=function(){return a.length};this.M.Fd=
function(c){return a[c].c()};this.M.Ed=function(c){return a[c]};this.M.kc=function(){};this.M.da=ListView.create(this.M);this.M.da.Id(c);this.M.f(this.M.da)},Cc:function(){return{panels:{position:r.a(300,200),children:{background_image:{Y:"GUI/list_panel.png",d:r.a(0,0)},main_panel:{d:r.a(0,0),size:r.size(365,328),children:{list:{size:r.size(324,328),A:r.i(0,200,200,200),position:r.a(0,0),d:r.a(0,0)}}},control_panel:{d:r.a(0,0),position:r.a(0,328),size:r.size(365,32),children:{header:{label:"Credits",
fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(337,6),size:r.size(20,20),d:r.a(0,0),Y:"GUI/close.png"}}}}}}},jb:function(a){if(this._super(a))return!0;this.Ud=null;a=this.b.main_panel.Ia(a.J);return Q(this.b.main_panel,a)?!0:!1}});Login=Sa.extend({dt:!1,Sl:!1,r:function(a){z=ua(z,v.CC());this._super();x.En(this);this.Rp=this.bD=!1;this.kk=new $(this.b.name_entry,r.size(this.b.name_entry.c().width,this.b.name_entry.c().height),r.a(0,this.b.name_entry.c().height),"Username",r.i(100,100,100),r.l(255,255,255));this.Al=new $(this.b.password_entry,r.size(this.b.password_entry.c().width,this.b.password_entry.c().height),r.a(0,this.b.password_entry.c().height),"Password",r.i(100,100,100),r.l(255,255,255));this.Al.Ix(0);this.AD=new $(this.b.new_user_name,
r.size(this.b.new_user_name.c().width,this.b.new_user_name.c().height),r.a(0,this.b.new_user_name.c().height),"Username",r.i(100,100,100),r.l(255,255,255));this.yx=new $(this.b.new_user_pass,r.size(this.b.new_user_pass.c().width,this.b.new_user_pass.c().height),r.a(0,this.b.new_user_pass.c().height),"Password",r.i(100,100,100),r.l(255,255,255));this.yx.Ix(0);this.zD=new $(this.b.new_user_email,r.size(this.b.new_user_email.c().width,this.b.new_user_email.c().height),r.a(0,this.b.new_user_email.c().height),
"Email Address",r.i(100,100,100),r.l(255,255,255));this.QH=!1;a&&(a.CJ?(t=[],I({logout:!0})):this.QH=!0,this.Gn(a.ND));this.$b(this.eC);this.PH=!1;this.$b(this.hE);this.OC();this.b.rem_login_text.cc(r.size(80,0));this.b.auto_login_text.cc(r.size(80,0));this.b.server_message.cc(r.size(300,0));this.b.server_message2.cc(r.size(150,0))},zl:function(a){switch(a){case "ENTER":if(this.bD){a=this.AD.R();var c=this.yx.R(),d=this.zD.R();""!=a&&null!=a&&""!=c&&null!=c&&""!=d&&null!=d?!1==/\S+@\S+\.\S+/.test(d)?
this.gg("Please use a correct email address."):(this.Rp=!0,this.gg("Registering please wait..."),this.lK({name:a,password:c,email:d})):this.gg("Please fill all fields.")}else!1==this.Sl&&this.dt?(a=this.kk.R(),c=this.Al.R(),""!=a&&null!=a&&""!=c&&null!=c?(this.Sl=!0,this.gg("Logging In"),I({login:!0,username:this.kk.R(),password:this.Al.R()})):this.gg("Please enter a User and Password")):this.lx("Server is offline!")}},Gn:function(a){this.dt=a;!0==a?(this.b.server_activity.ha("Server: Online"),this.b.server_activity.n(r.l(0,
255,0))):(this.b.server_activity.ha("Server: Offline"),this.b.server_activity.n(r.l(255,0,0)))},eC:function(){var a=v.BT();a&&!1==this.PH&&(this.kk.Je(a.user),this.PH=!0,this.Al.Je(a.pass));!0==this.QH&&autoLoginNextTime&&!1==this.Sl&&this.dt&&(!1==this.Sl&&this.dt?(this.Sl=!0,this.gg("Logging In"),I({login:!0,username:this.kk.R(),password:this.Al.R()})):this.lx("Server is offline!"))},hE:function(){if(0<t.length)for(var a=t.length-1;0<=a;a--)reactToSocketMessage(t[a]),t.splice(a,1);autoLoginNextTime?
(v.AK(!0),this.b.auto_login.fa(r.ga.e().qa("GUI/checkbox_checked.png"))):(v.AK(!1),this.b.auto_login.fa(r.ga.e().qa("GUI/checkbox_uncheck.png")));rememberLoginNextTime?this.b.remember_login.fa(r.ga.e().qa("GUI/checkbox_checked.png")):this.b.remember_login.fa(r.ga.e().qa("GUI/checkbox_uncheck.png"))},Cc:function(){return{panels:{children:{background:{Y:"GUI/splash.png",size:r.size(960,640),d:r.a(0,0),position:r.a(0,0)},name_entry:{size:r.size(300,30),position:r.a(325,325)},password_entry:{size:r.size(300,
30),position:r.a(325,290)},new_user_name:{size:r.size(300,30),position:r.a(325,360)},new_user_pass:{size:r.size(300,30),position:r.a(325,325)},new_user_email:{size:r.size(300,30),position:r.a(325,290)},remember_login:{size:r.size(20,20),position:r.a(630,295),Y:"GUI/checkbox_uncheck.png",d:r.a(0,0)},rem_login_text:{label:"Remember login.",fontSize:16,color:r.l(255,255,255),d:r.a(0,1),position:r.a(665,315)},auto_login:{size:r.size(20,20),position:r.a(630,330),Y:"GUI/checkbox_uncheck.png",d:r.a(0,0)},
auto_login_text:{label:"Auto login next time.",fontSize:16,color:r.l(255,255,255),d:r.a(0,0),position:r.a(665,330)},go_button:{position:r.a(325,240),size:r.size(120,40),A:r.i(0,0,0,255),children:{label:{label:"Play",fontSize:20,color:r.l(255,255,255),d:r.a(0.5,0.5),position:r.a(60,20)}}},register_button:{position:r.a(505,240),size:r.size(120,40),A:r.i(0,0,0,255),d:r.a(0,1),children:{label:{label:"Register",fontSize:20,color:r.l(255,255,255),d:r.a(0.5,0.5),position:r.a(60,20)}}},new_user_back:{position:r.a(325,
240),size:r.size(120,40),A:r.i(0,0,0,255),children:{label:{label:"Go Back",fontSize:20,color:r.l(255,255,255),d:r.a(0.5,0.5),position:r.a(60,20)}}},new_user_confirm:{position:r.a(505,240),size:r.size(120,40),A:r.i(0,0,0,255),d:r.a(0,1),children:{label:{label:"Confirm",fontSize:20,color:r.l(255,255,255),d:r.a(0.5,0.5),position:r.a(60,20)}}},credits_button:{position:r.a(30,400),size:r.size(120,40),A:r.i(0,0,0,255),children:{label:{label:"Credits",fontSize:20,color:r.l(255,255,255),d:r.a(0.5,0.5),position:r.a(60,
20)}}},news_button:{position:r.a(30,340),size:r.size(120,40),A:r.i(0,0,0,255),d:r.a(0,1),children:{label:{label:"News",fontSize:20,color:r.l(255,255,255),d:r.a(0.5,0.5),position:r.a(60,20)}}},server_message:{label:"",fontSize:16,color:r.l(255,255,255),d:r.a(0,1),position:r.a(325,220)},server_message2:{label:"This game saves data automatically.",fontSize:16,color:r.l(255,255,255),d:r.a(0,1),position:r.a(175,355)},version_number:{label:z["Version Number"],fontSize:34,color:r.l(255,255,255),d:r.a(1,
1),position:r.a(710,55)},server_activity:{position:r.a(910,630),size:r.size(100,20),d:r.a(0.5,0.5),label:"Server: Offline",color:r.l(255,0,0)}}}}},qY:function(){autoLoginNextTime?(autoLoginNextTime=!1,this.b.auto_login.fa(r.ga.e().qa("GUI/checkbox_uncheck.png"))):(autoLoginNextTime=!0,this.b.auto_login.fa(r.ga.e().qa("GUI/checkbox_checked.png")),rememberLoginNextTime=!0,this.b.remember_login.fa(r.ga.e().qa("GUI/checkbox_checked.png")))},rY:function(){rememberLoginNextTime?(rememberLoginNextTime=!1,
this.b.remember_login.fa(r.ga.e().qa("GUI/checkbox_uncheck.png")),autoLoginNextTime=!1,this.b.auto_login.fa(r.ga.e().qa("GUI/checkbox_uncheck.png"))):(rememberLoginNextTime=!0,this.b.remember_login.fa(r.ga.e().qa("GUI/checkbox_checked.png")))},jb:function(a){if(null!=this.kk.R()&&this.b.go_button.la&&r.bb(r.rect(this.b.go_button.q.F,this.b.go_button.q.K,this.b.go_button.c().width,this.b.go_button.c().height),a.J)){if(!1==this.Sl&&this.dt){a=this.kk.R();var c=this.Al.R();""!=a&&null!=a&&""!=c&&null!=
c?(this.Sl=!0,this.gg("Logging In"),I({login:!0,username:this.kk.R(),password:this.Al.R()})):this.gg("Please enter a User and Password")}else this.lx("Server is offline!");return!0}this.b.credits_button.la&&r.bb(r.rect(this.b.credits_button.q.F,this.b.credits_button.q.K,this.b.credits_button.c().width,this.b.credits_button.c().height),a.J)&&this.Hf("/openCredits");this.b.news_button.la&&r.bb(r.rect(this.b.news_button.q.F,this.b.news_button.q.K,this.b.news_button.c().width,this.b.news_button.c().height),
a.J)&&this.Hf("/openNews");if(this.b.register_button.la&&r.bb(r.rect(this.b.register_button.q.F,this.b.register_button.q.K,this.b.register_button.c().width,this.b.register_button.c().height),a.J))return this.cY(),!1;if(this.b.auto_login.la&&r.bb(r.rect(this.b.auto_login.q.F,this.b.auto_login.q.K,this.b.auto_login.c().width,this.b.auto_login.c().height),a.J))return this.qY(),!1;if(this.b.remember_login.la&&r.bb(r.rect(this.b.remember_login.q.F,this.b.remember_login.q.K,this.b.remember_login.c().width,
this.b.remember_login.c().height),a.J))return this.rY(),!1;if(this.b.new_user_back.la&&!1==this.Rp&&r.bb(r.rect(this.b.new_user_back.q.F,this.b.new_user_back.q.K,this.b.new_user_back.c().width,this.b.new_user_back.c().height),a.J))return this.OC(),this.gg(""),!1;if(this.b.new_user_confirm.la&&!1==this.Rp&&r.bb(r.rect(this.b.new_user_confirm.q.F,this.b.new_user_confirm.q.K,this.b.new_user_confirm.c().width,this.b.new_user_confirm.c().height),a.J)){a=this.AD.R();var c=this.yx.R(),d=this.zD.R();""!=
a&&null!=a&&""!=c&&null!=c&&""!=d&&null!=d?!1==/\S+@\S+\.\S+/.test(d)?this.gg("Please use a correct email address."):(this.Rp=!0,this.gg("Registering please wait..."),this.lK({name:a,password:c,email:d})):this.gg("Please fill all fields.");return!1}},lK:function(a){a.newUser=1;I(a)},VR:function(){this.gg("Registration successful.");this.AD.Je("Username");this.yx.Je("Password");this.zD.Je("Email Address");this.Rp=!1;this.OC()},JS:function(a){this.Rp=!1;switch(a){case "UserTaken":this.gg("Registration failed, user already exists.")}},
cY:function(){this.b.new_user_name.B(!0);this.b.new_user_pass.B(!0);this.b.new_user_email.B(!0);this.b.new_user_confirm.B(!0);this.b.new_user_back.B(!0);this.b.register_button.B(!1);this.b.go_button.B(!1);this.b.name_entry.xb(-1E5);this.b.password_entry.xb(-1E5);this.b.new_user_name.xb(325);this.b.new_user_pass.xb(325);this.b.new_user_email.xb(325);this.b.rem_login_text.B(!1);this.b.auto_login_text.B(!1);this.b.auto_login.B(!1);this.b.remember_login.B(!1);this.bD=!0},OC:function(){this.b.new_user_name.B(!1);
this.b.new_user_pass.B(!1);this.b.new_user_email.B(!1);this.b.new_user_confirm.B(!1);this.b.new_user_back.B(!1);this.b.register_button.B(!0);this.b.go_button.B(!0);this.b.name_entry.xb(325);this.b.password_entry.xb(325);this.b.new_user_name.xb(-1E5);this.b.new_user_pass.xb(1E5);this.b.new_user_email.xb(1E5);this.b.rem_login_text.B(!0);this.b.auto_login_text.B(!0);this.b.auto_login.B(!0);this.b.remember_login.B(!0);this.bD=!1},Hf:function(a){switch(a){case "/openCredits":null==CreditsPanel||CreditsPanel.U||
(CreditsPanel=null);CreditsPanel?(CreditsPanel.ya(),CreditsPanel.N(),CreditsPanel=null):(CreditsPanel=new Credits,CreditsPanel.r(),CreditsPanel.oa(),this.f(CreditsPanel));break;case "/openNews":null==NewsPanel||NewsPanel.U||(NewsPanel=null),NewsPanel?(NewsPanel.ya(),NewsPanel.N(),NewsPanel=null):(NewsPanel=new News,NewsPanel.r(),NewsPanel.oa(),this.f(NewsPanel))}},VU:function(a){rememberLoginNextTime&&v.HX(this.kk.R(),this.Al.R());this.Rc(this.eC);x.e().pl("Game",{Bl:a,map:1})},lx:function(a){this.Rc(this.eC);
this.b.server_message.ha(a);this.Sl=!1},gg:function(a){this.b.server_message.ha(a)},ud:function(){},Gf:function(){},j9:function(){x.e().pl("Game",{Lda:this.kk.R()})}});R=null;MapMaster=!1;
var Ta=Sa.extend({vJ:!1,ctor:function(){this._super()},Cc:function(){return{panels:{children:{saving_icon:{visible:!1,position:r.a(Y.width-52,4),d:r.a(0,0),size:r.size(48,48),Y:"GUI/save_icon.png"},logout_button:{position:r.a(Y.width-52,Y.height-52),d:r.a(0,0),size:r.size(48,48),Y:"GUI/logout.png"},quicknav_button:{position:r.a(Y.width-30,Math.floor(Y.height/2)-24),d:r.a(0,0),size:r.size(48,48),Y:"GUI/quickmenu_closed_icon.png"},inventory_button:{position:r.a(Y.width-52,Math.floor(Y.height/2)+60),
d:r.a(0,0),size:r.size(48,48),Y:"GUI/inventory_icon.png"},equipment_button:{position:r.a(Y.width-82,Math.floor(Y.height/2)+4),d:r.a(0,0),size:r.size(48,48),Y:"GUI/equipment_icon.png"},skill_button:{position:r.a(Y.width-82,Math.floor(Y.height/2)-52),d:r.a(0,0),size:r.size(48,48),Y:"GUI/skills_icon.png"},chat_button:{position:r.a(Y.width-52,Math.floor(Y.height/2)-108),d:r.a(0,0),size:r.size(48,48),Y:"GUI/chat_icon.png"},quickedit_button:{position:r.a(0,Math.floor(Y.height/2)-24),d:r.a(0,0),size:r.size(48,
48),Y:"GUI/quickedit_closed_icon.png"},mapedit_button:{position:r.a(4,Math.floor(Y.height/2)+116),d:r.a(0,0),size:r.size(48,48),Y:"GUI/mapeditor_icon.png"},npcedit_button:{position:r.a(34,Math.floor(Y.height/2)+60),d:r.a(0,0),size:r.size(48,48),Y:"GUI/npceditor_icon.png"},itemedit_button:{position:r.a(64,Math.floor(Y.height/2)+4),d:r.a(0,0),size:r.size(48,48),Y:"GUI/itemeditor_icon.png"},skilledit_button:{position:r.a(64,Math.floor(Y.height/2)-52),d:r.a(0,0),size:r.size(48,48),Y:"GUI/skilleditor_icon.png"},
signedit_button:{position:r.a(34,Math.floor(Y.height/2)-108),d:r.a(0,0),size:r.size(48,48),Y:"GUI/signeditor_icon.png"},warpedit_button:{position:r.a(4,Math.floor(Y.height/2)-164),d:r.a(0,0),size:r.size(48,48),Y:"GUI/warpeditor_icon.png"},scriptedit_button:{position:r.a(90,Math.floor(Y.height/2)-108),d:r.a(0,0),size:r.size(48,48),Y:"GUI/scripteditor_icon.png"},settings_button:{position:r.a(4,Math.floor(Y.height/2)-220),d:r.a(0,0),size:r.size(48,48),Y:"GUI/settings_icon.png"},bankedit_button:{position:r.a(90,
Math.floor(Y.height/2)+60),d:r.a(0,0),size:r.size(48,48),Y:"GUI/bankeditor_icon.png"},shopedit_button:{position:r.a(120,Math.floor(Y.height/2)+4),d:r.a(0,0),size:r.size(48,48),Y:"GUI/shopeditor_icon.png"},questedit_button:{position:r.a(120,Math.floor(Y.height/2)-52),d:r.a(0,0),size:r.size(48,48),Y:"GUI/questeditor_icon.png"}}}}},sJ:!1,qJ:!1,Gn:function(a){!1==a&&(this.lC(),x.e().pl("Login",{ND:!1}))},lC:function(){F.Cd();F.ft();null!=Equipment&&(Equipment.ya(),Equipment.N(),Equipment=null);null!=
Inventory&&(Inventory.ya(),Inventory.N(),Inventory=null);null!=Skills&&(Skills.ya(),Skills.N(),Skills=null);SkillBarsInstance.N();A.Cd();A.ft();C.Cd();C.ft()},jb:function(a){if(r.bb(r.rect(this.b.logout_button.q.F,this.b.logout_button.q.K,this.b.logout_button.c().width,this.b.logout_button.c().height),a.J))return this.lC(),x.e().pl("Login",{CJ:!0,ND:!0}),!0;x.En(this);if(r.bb(this.b.chat_button.Ya(),a.J)&&this.b.chat_button.la)return this.zl("C"),!0;if(r.bb(this.b.inventory_button.Ya(),a.J)&&this.b.inventory_button.la)return this.zl("I"),
!0;if(r.bb(this.b.equipment_button.Ya(),a.J)&&this.b.equipment_button.la)return this.zl("E"),!0;if(r.bb(this.b.skill_button.Ya(),a.J)&&this.b.skill_button.la)return this.zl("S"),!0;if(this.b.quickedit_button.la&&r.bb(this.b.quickedit_button.Ya(),a.J)&&this.b.quickedit_button.la)return this.qL(!this.qJ),!0;if(r.bb(this.b.quicknav_button.Ya(),a.J)&&this.b.quicknav_button.la)return this.sL(!this.sJ),!0;if(r.bb(this.b.mapedit_button.Ya(),a.J)&&this.b.mapedit_button.la)return this.Hf("/editmap"),!0;if(r.bb(this.b.npcedit_button.Ya(),
a.J)&&this.b.npcedit_button.la)return this.Hf("/editnpc"),!0;if(r.bb(this.b.itemedit_button.Ya(),a.J)&&this.b.itemedit_button.la)return this.Hf("/edititem"),!0;if(r.bb(this.b.skilledit_button.Ya(),a.J)&&this.b.skilledit_button.la)return this.Hf("/editskill"),!0;if(r.bb(this.b.signedit_button.Ya(),a.J)&&this.b.signedit_button.la)return this.Hf("/editsign"),!0;if(r.bb(this.b.scriptedit_button.Ya(),a.J)&&this.b.scriptedit_button.la)return this.Hf("/editscript"),!0;if(r.bb(this.b.warpedit_button.Ya(),
a.J)&&this.b.warpedit_button.la)return this.Hf("/editwarp"),!0;if(r.bb(this.b.settings_button.Ya(),a.J)&&this.b.settings_button.la)return this.Hf("/editsettings"),!0;if(r.bb(this.b.shopedit_button.Ya(),a.J)&&this.b.shopedit_button.la)return this.Hf("/editshop"),!0;if(r.bb(this.b.questedit_button.Ya(),a.J)&&this.b.questedit_button.la)return this.Hf("/editquest"),!0;if(r.bb(this.b.bankedit_button.Ya(),a.J)&&this.b.bankedit_button.la)return this.Hf("/editbank"),!0},tL:function(a){null==Sign||Sign.U||
(Sign=null);Sign?(Sign.ya(),Sign.N(),Sign=null):(Sign=new SignPanel,Sign.r(a),Sign.oa(),this.f(Sign))},aY:function(a,c){null==Book||Book.U||(Book=null);Book?(Book.ya(),Book.N(),Book=null):(Book=new BookPanel,Book.r(a,c),Book.oa(),this.f(Book))},rL:function(a,c,d,e,f,g){null==NpcChat||NpcChat.U||(NpcChat=null);NpcChat&&(NpcChat.ya(),NpcChat.N(),NpcChat=null);NpcChat=new NpcChatPanel;NpcChat.r(a,c,d,e,f,g);NpcChat.oa();this.f(NpcChat)},Gf:function(){},zl:function(a){switch(a){case "C":C.yU()?C.ZI():
C.show();break;case "ENTER":C.aD()||C.PD(!0);break;case "SPACE":A.w.ba.sU();Inventory&&Inventory.zb();break;case "CTRL":A.w.ba.rU();break;case "ESC":this.lC();x.e().pl("Login",{CJ:!0,ND:!0});break;case "I":null==Inventory||Inventory.U||(Inventory=null);Inventory?(Inventory.ya(),Inventory.N(),Inventory=null):(Inventory=new InventoryPanel,Inventory.r(),Inventory.oa(),this.f(Inventory));break;case "E":null==Equipment||Equipment.U||(Equipment=null);Equipment?(Equipment.ya(),Equipment.N(),Equipment=null):
(Equipment=new EquipmentPanel,Equipment.r(),Equipment.oa(),this.f(Equipment));break;case "S":null==Skills||Skills.U||(Skills=null),Skills?(Skills.ya(),Skills.N(),Skills=null):(Skills=new SkillsPanel,Skills.r(),Skills.oa(),this.f(Skills))}},lD:function(a){var c=A.w.ba.we();A.w.ba.path=null;if(0==c.x%1&&0==c.y%1)switch(a){case "RIGHTARROW":A.w.ba.pq(c.x+1,c.y);break;case "LEFTARROW":A.w.ba.pq(c.x-1,c.y);break;case "UPARROW":A.w.ba.pq(c.x,c.y+1);break;case "DOWNARROW":A.w.ba.pq(c.x,c.y-1)}},sL:function(a){this.sJ=
a;this.b.chat_button.B(a);this.b.inventory_button.B(a);this.b.equipment_button.B(a);this.b.skill_button.B(a);this.b.quicknav_button.fa(r.ga.e().qa(!0==a?"GUI/quickmenu_opened_icon.png":"GUI/quickmenu_closed_icon.png"))},qL:function(a){this.qJ=a;this.b.mapedit_button.B(a);this.b.npcedit_button.B(a);this.b.itemedit_button.B(a);this.b.skilledit_button.B(a);this.b.signedit_button.B(a);this.b.scriptedit_button.B(a);this.b.warpedit_button.B(a);this.b.settings_button.B(a);this.b.shopedit_button.B(a);this.b.bankedit_button.B(a);
this.b.questedit_button.B(a);this.b.quickedit_button.fa(r.ga.e().qa(!0==a?"GUI/quickedit_opened_icon.png":"GUI/quickedit_closed_icon.png"))},Hf:function(a){if(a){if(1<A.w.ba.qp)switch(a){case "/editscript":null==Scripteditor||Scripteditor.U||(Scripteditor=null);Scripteditor?(Scripteditor.ya(),Scripteditor.N(),Scripteditor=null):(Scripteditor=new PopupList,Scripteditor.r({k:null,Gg:new ScriptEditor,list:ObjectLists.Yi(),name:"Script List"}),Scripteditor.oa(),this.f(Scripteditor));break;case "/editmap":null==
Mapeditor||Mapeditor.U||(Mapeditor=null);Mapeditor?(Mapeditor.ya(),Mapeditor.N(),Mapeditor=null,F.gt(null)):(Mapeditor=new MapEditor,Mapeditor.r(),Mapeditor.oa(),this.f(Mapeditor),F.gt(Mapeditor));break;case "/editsettings":null==Settingseditor||Settingseditor.U||(Settingseditor=null);Settingseditor?(Settingseditor.ya(),Settingseditor.N(),Settingseditor=null):(Settingseditor=new SettingsEditor,Settingseditor.r(),Settingseditor.oa(),this.f(Settingseditor));break;case "/editwarp":null==Warpeditor||
Warpeditor.U||(Warpeditor=null);Warpeditor?(Warpeditor.ya(),Warpeditor.N(),Warpeditor=null):(Warpeditor=new PopupList,Warpeditor.r({k:null,Gg:new WarpEditor,list:ObjectLists.dn(),name:"Warp List"}),Warpeditor.oa(),this.f(Warpeditor));break;case "/editsign":null==Signeditor||Signeditor.U||(Signeditor=null);Signeditor?(Signeditor.ya(),Signeditor.N(),Signeditor=null):(Signeditor=new PopupList,Signeditor.r({k:null,Gg:new SignEditor,list:ObjectLists.Gs(),name:"Sign List"}),Signeditor.oa(),this.f(Signeditor));
break;case "/editskill":null==Skillseditor||Skillseditor.U||(Skillseditor=null);Skillseditor?(Skillseditor.ya(),Skillseditor.N(),Skillseditor=null):(Skillseditor=new PopupList,Skillseditor.r({k:null,Gg:new SkillsEditor,list:ObjectLists.Zi(),name:"Skills List"}),Skillseditor.oa(),this.f(Skillseditor));break;case "/edititem":null==Itemeditor||Itemeditor.U||(Itemeditor=null);Itemeditor?(Itemeditor.ya(),Itemeditor.N(),Itemeditor=null,F.gt(null)):(Itemeditor=new PopupList,Itemeditor.r({k:null,Gg:new ItemEditor,
list:ObjectLists.Bf(),name:"Item List"}),Itemeditor.oa(),this.f(Itemeditor));break;case "/editnpc":null==NPCeditor||NPCeditor.U||(NPCeditor=null);NPCeditor?(NPCeditor.ya(),NPCeditor.N(),NPCeditor=null,F.gt(null)):(NPCeditor=new PopupList,NPCeditor.r({k:null,Gg:new NPCEditor,list:ObjectLists.ol(),name:"NPC List"}),NPCeditor.oa(),this.f(NPCeditor));break;case "/editquest":null==Questeditor||Questeditor.U||(Questeditor=null),Questeditor?(Questeditor.ya(),Questeditor.N(),Questeditor=null,F.gt(null)):
(Questeditor=new PopupList,Questeditor.r({k:null,Gg:new QuestEditor,list:ObjectLists.Es(),name:"Quest List"}),Questeditor.oa(),this.f(Questeditor))}switch(a){case "/help":C.showHelp();break;case "/commands":C.bY();break;case "/diceroll":a=Math.floor(6*Math.random()+1);var c=z["/diceroll"],c=c.replace("\x3cPLAYER\x3e",A.w.ba.getName()),c=c.replace("\x3cVALUE\x3e",a);C.Nb(c);I({diceroll:c});break;case "/coinflip":a=1==Math.floor(3*Math.random()+1)?"Heads":"Tails";c=z["/coinflip"];c=c.replace("\x3cPLAYER\x3e",
A.w.ba.getName());c=c.replace("\x3cVALUE\x3e",a);C.Nb(c);I({coinflip:c});break;case "/dance":a=z["/dance"];a=a.replace("\x3cPLAYER\x3e",A.w.ba.getName());C.Nb(a);I({dance:a});break;case "/afk":A.w.ba.updateStatus("AFK"),I({afk:!0})}}},r:function(a){this._super();R=this;this.f(F.create());ObjectLists.e();A.create({name:a.Bl.name,cj:!0,Jn:{health:{Oc:1,value:100,bg:200,ag:900},mana:{Oc:1,value:100,bg:200,ag:99}},map:a.Bl.location.mapnumber,position:a.Bl.location.position,pt:"sprites1.png",nt:1,qp:a.Bl.rank,
lJ:a.Bl.inventory,pI:a.Bl.equipment});F.jR();this.b.N();this.jq(-20);I({moveTo:A.w.ba.we().x+A.w.ba.we().y*U});this.f(C.create());console.log(a.Bl);this.f(H.create(a.Bl.skills));this.sL(!1);this.qL(!1);this.WX();this.f(this.b);this.$b(this.hE);this.$b(this.EW);this.$b(this.wW,120)},wW:function(){var a={saveUser:!0,name:A.w.ba.getName(),location:{mapnumber:F.td(),position:A.w.ba.we().x+A.w.ba.we().y*U},inventory:A.w.ba.nl(),equipment:A.w.ba.Dp(),skills:[],clan:"",guilds:[],quests:[],friends:[],pets:[],
pmessages:[],lastchats:[],health:100};this.b.saving_icon.B(!0);this.vJ=!0;I(a);console.log("SAVING NOW!")},OS:function(){this.b.saving_icon.B(!1);this.vJ=!1},WX:function(){1==A.w.ba.qp&&this.b.quickedit_button.B(!1)},hE:function(){if(0<t.length)for(var a=0;a<t.length;a++){var c=JSON.parse(t[a]);c.moveTo&&(!A.fi(c.id)||A.fi(c.id)&&!1==A.fi(c.id).Ng)?(reactToSocketMessage(JSON.stringify(c)),t.splice(a,1)):c.moveTo||(reactToSocketMessage(JSON.stringify(c)),t.splice(a,1))}},EW:function(){if(!0==MapMaster){var a=
A.bN(),c;for(c in a)if(!1==a[c].rx){var d=10*Math.random()+1,e=a[c].we();switch(Math.floor(4*Math.random())+1){case 1:e.x++;break;case 2:e.y++;break;case 3:e.x--;break;case 4:e.y--}a[c].DX(e,d)}}}});var Ua=r.Ea.extend({xc:null,Q3:!1,PD:function(a){a?this.xc.ab.focus():this.xc.ab.blur()},aD:function(){return document.activeElement==this.xc.ab},ha:function(a){this.xc.Je(a)},EC:function(){return this.xc.R()},r:function(){r.log("Ovveride inputbox init call if necessary")},ctor:function(a,c,d,e,f,g,h){this.xc=r.wq.create(r.size(c.width,c.height),r.pf.create(),h);this.xc.Je(e);this.xc.iS=e;this.xc.dX(r.l(g.p,g.o,g.h));this.xc.BK(r.l(f.p,f.o,f.h));this.xc.m(r.a(d.x,d.y));this.xc.G(0,1);this.xc.Bh(this);
a.f(this.xc);this.r()}});var Va=Ua.extend({Nw:function(a){a.Je("")},Ow:function(a,c){c||("/"==a.R().substring(0,1)?this.tW(a.R()):0<a.R().length&&C.Nb(a.R(),!0));a.Je(z["Default ChatBar Message"])},tW:function(a){x.e().rd.Hf(a)},Pw:function(a,c){a.Je(c);r.log("chatBox "+this.nG(a)+", TextChanged, text: "+c)},nG:function(){return"chatbox"}}),Z=null,C=r.Sc.extend({ck:null,r:function(){this.ck=new Va(this.b.chat_panel,r.size(this.b.chat_panel.c().width-4,25),r.a(2,this.b.chat_panel.c().height-2),z["Default ChatBar Message"],
r.l(255,255,255),r.l(0,0,0));this.ck.xc.U.Pc(this.ck.xc.q.K+59)},GH:function(a){for(var c=[],d=0;7>d;d++)c.push(this.b.chat_panel["label"+d].EC());this.b.chat_panel.label0.ha(a);for(d=1;8>d;d++)this.b.chat_panel["label"+d].ha(c[d-1])},Cc:function(){return{panels:{children:{chat_panel:{size:r.size(400,150),Y:"GUI/chat.png",d:r.a(0,0),opacity:200,position:r.a(0,-200),children:{label7:{label:"",position:r.a(5,0),d:r.a(0,0),color:r.l(0,0,0)},label6:{label:"",position:r.a(5,15),d:r.a(0,0),color:r.l(0,
0,0)},label5:{label:"",position:r.a(5,30),d:r.a(0,0),color:r.l(0,0,0)},label4:{label:"",position:r.a(5,45),d:r.a(0,0),color:r.l(0,0,0)},label3:{label:"",position:r.a(5,60),d:r.a(0,0),color:r.l(0,0,0)},label2:{label:"",position:r.a(5,75),d:r.a(0,0),color:r.l(0,0,0)},label1:{label:"",position:r.a(5,90),d:r.a(0,0),color:r.l(0,0,0)},label0:{label:"",position:r.a(5,105),d:r.a(0,0),color:r.l(0,0,0)}}}}}}}});C.create=function(){Z||(Z=new C,Z.b=Ia(Z),Z.f(Z.b),Z.r(),C.ZI(),C.dY());return Z};C.e=function(){return Z};
C.Nb=function(a,c){50<a.length&&(a=a.substring(0,50)+"...");c?(I({chatMessage:a}),Z.GH(A.w.ba.getName()+": "+a)):Z.GH(a)};C.show=function(){Z.ck.xc.U.Pc(0)};C.ZI=function(){Z.ck.xc.U.Pc(-Z.ck.xc.q.K+59)};C.yU=function(){return 0!=Z.ck.xc.U.q.K?!1:!0};C.PD=function(a){Z.ck.PD(a)};C.aD=function(){return Z.ck.aD()};C.showHelp=function(){C.Nb(J.ve.XT);C.Nb(J.ve.YT);C.Nb(J.ve.ZT);C.Nb(J.ve.$T);C.Nb(J.ve.aU)};C.bY=function(){C.Nb(J.ve.RR);C.Nb(J.ve.SR);C.Nb(J.ve.TR);C.Nb(J.ve.UR)};C.dY=function(){C.Nb(z["Welcome Message"])};
C.Cd=function(){Z.b.N();Z.b=null};C.ft=function(){Z.N();Z=null};var $=Ua.extend({Lp:!1,LJ:!1,gI:!1,$C:!1,Nw:function(a){!1==this.gI&&a.Je("");this.$C=!0},Ix:function(a){this.xc.Ix(a)},g8:function(){return this.$C},Ow:function(a){this.$C=!1;null==a.R()||""==a.R().length&&this.LJ?this.Lp=!0:0<!a.R().length?(a.Je(this.xc.iS),this.Lp=!1):this.Lp=!0},Pw:function(a,c){a.Je(c);this.Lp=!0},nG:function(){return"name_entry"},R:function(){return!0==this.Lp||!0==this.hS?this.xc.R():null},Je:function(a){this.xc.Je(a);this.Lp=!0},kb:function(a){this.hS=a},cd:function(a){this.LJ=
a},KK:function(a){this.gI=a},r:function(){}});var x=r.Sc.extend({w:null,ZB:null,rd:null,EH:null,r:function(){var a=r.ta.e().Tw();this.ZB=r.ca.create(r.i(255,255,255,255),parseInt(4*a.width),parseInt(4*a.height));this.ZB.G(r.a(0,0));this.f(this.ZB);v.e()&&va?(z=ua(z,v.CC()),this.pl("Login",{}),this.$b(this.UH),autoLoginNextTime=v.oJ(),rememberLoginNextTime=v.uJ()):this.$b(this.$I)},$I:function(){v.e()&&va&&(this.Rc(this.$I),z=ua(z,v.CC()),this.pl("Login",{}),this.$b(this.UH),autoLoginNextTime=v.oJ(),rememberLoginNextTime=v.uJ())},UH:function(){for(var a in Aa)if(!0==
Aa[a]&&null!=this.rd){var c=null;a=parseInt(a);switch(a){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;
case 46:c="DELETE"}null==c&&(47<a&&58>a||64<a&&91>a)&&(c=String.fromCharCode(a));null!=c&&this.rd.lD(c)}},pl:function(a,c){null!=this.rd&&(this.rd.ya(),this.rd.N(),this.rd=null);switch(a){case "Login":this.rd=new Login;break;case "Game":this.rd=new Ta}this.rd.UL();this.f(this.rd,1);this.rd.gX(a);this.rd.oa();this.rd.r(c)},C4:function(){return this.rd.Bc()}});x.e=function(){null==this.w&&(this.w=new x);return this.w};x.En=function(a){null==this.w&&(this.w=new x);this.w.EH=a};
x.QS=function(){null==this.w&&(this.w=new x);return this.w.EH};var Y;
new (r.qj.extend({Gw:document.ccConfig,ctor:function(){this._super();r.Dt=this.Gw.COCOS2D_DEBUG;r.cU();r.Kl(this.Gw.tag);r.py.$X().qS()},tR:function(){var a=this.Gw,c=r.Z.e(),d=r.ta.e();Y=d.Tw();r.size(Y.width,Y.height);var e=r.size(Y.width,Y.height),f=r.Ld.e();r.qj.e();f.aL(["res/Graphics"]);r.Dh&&r.Dh.e().Sba("res/Audio");c.TW(1);d.OD(e.width,e.height,r.$n.SHOW_ALL);c.et(1/a.frameRate);a.test?r.test(a.test):(r.log("++++++++++++++++entry for game++++++++++++"),r.JU(function(a){r.Ny.tD(a,function(){document.getElementById("gameCanvas").setAttribute("tabindex","0");
document.getElementById("gameCanvas").focus();var a=x.e();r.Z.e().qK(a);a.r()})}));return!0}}));
//@ sourceMappingURL=sourcemap