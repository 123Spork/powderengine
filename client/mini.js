var b,aa={p_:"2D Circle Graphic/TOWNBOT2.bmp",q_:"2D Circle Graphic/TOWNBOT2.png",r_:"2D Circle Graphic/TOWNJNT2.bmp",K_:"2D Circle Graphic/_BACKUP_.bmp",J_:"40x40Tiles.png",g1:"GUI/bankeditor_icon.png",i1:"GUI/book.png",l1:"GUI/btnDown.png",m1:"GUI/btnLeft.png",n1:"GUI/btnRight.png",o1:"GUI/btnUp.png",H1:"GUI/chat.png",G1:"GUI/chat_icon.png",I1:"GUI/checkbox_checked.png",J1:"GUI/checkbox_uncheck.png",K1:"GUI/close.png",R1:"GUI/copy.png",U1:"GUI/cross_icon.png",a2:"GUI/defaultitem.png",r2:"GUI/edit.png",
s2:"GUI/editor-tab.png",v2:"GUI/equipment.png",u2:"GUI/equipment_icon.png",w2:"GUI/event_panel.png",v6:"GUI/healthbar.png",M6:"GUI/inventory.png",L6:"GUI/inventory_icon.png",C7:"GUI/itemeditor_bg.png",D7:"GUI/itemeditor_icon.png",E7:"GUI/itemeditor_tab1_bg.png",F7:"GUI/itemeditor_tab2_bg.png",G7:"GUI/itemeditor_tab3_bg.png",R7:"GUI/list_panel.png",Y7:"GUI/logout.png",b8:"GUI/mapeditor_icon.png",g8:"GUI/npceditor_icon.png",h8:"GUI/npctalk.png",p9:"GUI/quest_panel.png",q9:"GUI/questeditor_icon.png",
r9:"GUI/quickedit_closed_icon.png",s9:"GUI/quickedit_opened_icon.png",t9:"GUI/quickmenu_closed_icon.png",u9:"GUI/quickmenu_opened_icon.png",a$:"GUI/save_icon.png",b$:"GUI/scripteditor_icon.png",c$:"GUI/scripting_list.png",f$:"GUI/selected.png",eba:"GUI/settings_icon.png",fba:"GUI/shopeditor_icon.png",hba:"GUI/signeditor_bg.png",iba:"GUI/signeditor_icon.png",jba:"GUI/signpost.png",kba:"GUI/skilleditor_icon.png",mba:"GUI/skills.png",lba:"GUI/skills_icon.png",qba:"GUI/splash.png",Oba:"GUI/texture_change_left.png",
Pba:"GUI/texture_change_middle.png",Qba:"GUI/texture_change_right.png",Rba:"GUI/tick_icon.png",aca:"GUI/trash.png",jca:"GUI/use.png",tca:"GUI/warpeditor_bg.png",uca:"GUI/warpeditor_icon.png",p1:"building1.png",F1:"character_graphics.txt",H7:"items1.png",rba:"sprites1.png",Sba:"tile_graphics.txt",Tba:"tiles0.png",Uba:"tiles1.png"};var q=q||{},ba={};q.XT=function(a){var c=q.kD[ba.xH.bF];if(c){for(var d=[],e=0;e<c.length;++e)d.push({src:c[e]});a(d)}else a([])};ba={xH:{bF:"_0"}};q.kD={};q.kD[ba.xH.bF]=[];q.kD.UQ=[];q=q||{};function r(){return arguments.callee.name||arguments.callee.toString().match(/^function ([^(]+)/)[1]}r.id=0|998*Math.random();r.FT=0|998*Math.random();
r.yH=function(a,c,d){for(var e=a.toString(),f=e.substring(e.indexOf("(")+1,e.indexOf(")")),f=f.trim(),e=e.substring(e.indexOf("{")+1,e.lastIndexOf("}"));-1!=e.indexOf("this._super");)var g=e.indexOf("this._super"),k=e.indexOf("(",g),h=e.substring(k+1,e.indexOf(")",k)),h=(h=h.trim())?",":"",l=arguments.callee.TL(),e=e.substring(0,g)+l+"["+d+"]."+c+".call(this"+h+e.substring(k+1);return Function(f,e)};r.yH.TL=r;r.yS=function(){return this.id++};r.zS=function(){return this.FT++};
(function(){var a=/\b_super\b/,c=document.ccConfig&&document.ccConfig.CLASS_RELEASE_MODE?document.ccConfig.CLASS_RELEASE_MODE:null;c&&console.log("release Mode");q.La=function(){};q.La.extend=function(d){function e(){this.nc=r.zS();this.ctor&&this.ctor.apply(this,arguments)}var f=this.prototype,g=Object.create(f),k=r.yS();r[k]=f;var h={writable:!0,enumerable:!1,configurable:!0},l;for(l in d)c&&"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(h.value=r.yH(d[l],l,k),Object.defineProperty(g,
l,h)):"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(h.value=function(a,c){return function(){var d=this._super;this._super=f[a];var e=c.apply(this,arguments);this._super=d;return e}}(l,d[l]),Object.defineProperty(g,l,h)):"function"==typeof d[l]?(h.value=d[l],Object.defineProperty(g,l,h)):g[l]=d[l];g.nc=null;e.id=k;h.value=k;Object.defineProperty(g,"__pid",h);e.prototype=g;h.value=e;Object.defineProperty(e.prototype,"constructor",h);e.extend=arguments.callee;e.y6=function(a){for(var c in a)g[c]=
a[c]};return e};Function.prototype.bind=Function.prototype.bind||function(a){var c=this;return function(){var f=Array.prototype.slice.call(arguments);return c.apply(a||null,f)}}})();q.A6=function(a,c){function d(){}d.prototype=c.prototype;a.Ix=c.prototype;a.prototype=new d;a.prototype.constructor=a};
q.UQ=function(a,c,d){var e=arguments.callee.caller;if(e.Ix)return ret=e.Ix.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var f=Array.prototype.slice.call(arguments,2),g=!1,k=a.constructor;k;k=k.Ix&&k.Ix.constructor)if(k.prototype[c]===e)g=!0;else if(g)return k.prototype[c].apply(a,f);if(a[c]===e)return a.constructor.prototype[c].apply(a,f);throw Error("cc.base called from a method of one name to a method of a different name");};
q.N1=function(a,c){a||(a={});for(var d in c)a[d]=c[d];return a};q.ah=function(a,c){this.x=a||0;this.y=c||0};q.oF=function(a,c){this.I=a||0;this.N=c||0;this.XK=function(a){this.I=a};this.YK=function(a){this.N=a}};q.Fd=function(){return new q.oF(0,0)};
Object.defineProperties(q.oF.prototype,{x:{get:function(){return this.I},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0},y:{get:function(){return this.N},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0}});q.GZ=function(a,c){q.log("cc.PointMake will be deprecated sooner or later. Use cc.p instead.");return new q.ah(a,c)};
q.a=function(a,c){return{x:a,y:c}};q.q0=q.a;q.tj=function(){return q.a(0,0)};q.KJ=function(a,c){return a&&c?a.x===c.x&&a.y===c.y:!1};q.yk=function(a,c){this.width=a||0;this.height=c||0};q.pF=function(a,c){this.Ha=a||0;this.ya=c||0;this.MD=function(a){this.Ha=a};this.yD=function(a){this.ya=a}};q.Em=function(){return new q.pF(0,0)};
Object.defineProperties(q.pF.prototype,{width:{get:function(){return this.Ha},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0},height:{get:function(){return this.ya},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0}});q.k_=function(a,c){q.log("cc.SizeMake will be deprecated sooner or later. Use cc.size instead.");return q.size(a,c)};
q.size=function(a,c){return{width:a,height:c}};q.Va=q.size;q.$l=function(){return q.size(0,0)};q.eH={DU:q.Fd(),pX:q.Em()};Object.defineProperties(q,{PM:{get:function(){return q.eH.DU},configurable:!0},ZM:{get:function(){return q.eH.pX},configurable:!0},LZ:{get:function(){return q.rect(0,0,0,0)},configurable:!0}});q.oX=function(a,c){return a&&c?a.width==c.width&&a.height==c.height:!1};
q.rg=function(a,c,d,e){var f=arguments.length;if(4===f)this.$c=new q.ah(a||0,c||0),this.Va=new q.yk(d||0,e||0);else if(1===f)this.$c=new q.ah(a.$c.x,a.$c.y),this.Va=new q.yk(a.Va.width,a.Va.height);else if(0===f)this.$c=new q.ah(0,0),this.Va=new q.yk(0,0);else if(2===f)this.$c=new q.ah(a.x,a.y),this.Va=new q.yk(c.width,c.height);else throw"unknown argument type";};q.SZ=function(a,c,d,e){q.log("cc.RectMake will be deprecated sooner or later. Use cc.rect instead.");return q.rect(a,c,d,e)};
q.rect=function(a,c,d,e){var f=arguments.length;if(0===f)return new q.rg(0,0,0,0);if(1===f)return new q.rg(a.x,a.y,a.width,a.height);if(2===f)return new q.rg(a.x,a.y,c.width,c.height);if(4===f)return new q.rg(a,c,d,e);throw"unknown argument type";};q.za=q.rect;q.rd=function(){return q.rect(0,0,0,0)};q.RJ=function(a,c){return a&&c?q.KJ(a.$c,c.$c)&&q.oX(a.Va,c.Va):!1};q.Er=function(a){return a?0===a.x&&0===a.y&&0===a.width&&0===a.height:!1};
q.v9=function(a,c){return a&&c?!(a.x>=c.x||a.y>=c.y||a.x+a.width<=c.x+c.width||a.y+a.height<=c.y+c.height):!1};q.un=function(a){return a.x+a.width};q.w9=function(a){return a.x+a.width/2};q.Cl=function(a){return a.x};q.vn=function(a){return a.y+a.height};q.x9=function(a){return a.y+a.height/2};q.Dl=function(a){return a.y};q.lb=function(a,c){return c.x>=q.Cl(a)&&c.x<=q.un(a)&&c.y>=q.Dl(a)&&c.y<=q.vn(a)};q.WU=function(a,c){return!(q.un(a)<q.Cl(c)||q.un(c)<q.Cl(a)||q.vn(a)<q.Dl(c)||q.vn(c)<q.Dl(a))};
q.y9=function(a,c){return!(a.x+a.width<c.x||c.x+c.width<a.x||a.y+a.height<c.y||c.y+c.height<a.y)};q.fx=function(a,c){var d=q.rect(0,0,0,0);d.x=Math.min(a.x,c.x);d.y=Math.min(a.y,c.y);d.width=Math.max(a.x+a.width,c.x+c.width)-d.x;d.height=Math.max(a.y+a.height,c.y+c.height)-d.y;return d};q.VU=function(a,c){var d=q.rect(Math.max(q.Cl(a),q.Cl(c)),Math.max(q.Dl(a),q.Dl(c)),0,0);d.width=Math.min(q.un(a),q.un(c))-q.Cl(d);d.height=Math.min(q.vn(a),q.vn(c))-q.Dl(d);return d};b=q.rg.prototype;
b.XK=function(a){this.$c.x=a};b.YK=function(a){this.$c.y=a};b.ys=function(){return this.Va.width};b.MD=function(a){this.Va.width=a};b.vs=function(){return this.Va.height};b.yD=function(a){this.Va.height=a};
Object.defineProperties(q.rg.prototype,{x:{get:function(){return this.$c.x},set:function(a){this.XK(a)},enumerable:!0,configurable:!0},y:{get:function(){return this.$c.y},set:function(a){this.YK(a)},enumerable:!0,configurable:!0},width:{get:function(){return this.ys()},set:function(a){this.MD(a)},enumerable:!0,configurable:!0},height:{get:function(){return this.vs()},set:function(a){this.yD(a)},enumerable:!0,configurable:!0}});var s=s||{};try{s.localStorage=window.localStorage,window.localStorage.setItem("storage",""),window.localStorage.removeItem("storage")}catch(ea){"SECURITY_ERR"!==ea.name&&"QuotaExceededError"!==ea.name||console.log("Warning: localStorage isn't enabled. Please confirm browser cookie or privacy option"),s.localStorage=function(){}}
Object.defineProperties(s,{w1:{get:function(){var a={canvas:!0};q.Ja.Xc&&(a.opengl=!0);"ontouchstart"in document.documentElement||window.navigator.msPointerEnabled?a.touches=!0:"onmouseup"in document.documentElement&&(a.mouse=!0);"onkeyup"in document.documentElement&&(a.keyboard=!0);if(window.DeviceMotionEvent||window.DeviceOrientationEvent)a.accelerometer=!0;return a},enumerable:!0,configurable:!0},EJ:{get:function(){var a=navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?!0:!1,c=navigator.userAgent.match(/android/i)||
navigator.platform.match(/android/i)?!0:!1,d=navigator.appVersion;-1!=navigator.appVersion.indexOf("Win")?d="Windows":a?d="iOS":-1!=navigator.appVersion.indexOf("Mac")?d="OS X":-1!=navigator.appVersion.indexOf("X11")?d="UNIX":-1!=navigator.appVersion.indexOf("Linux")?d="Linux":c&&(d="Android");return d},enumerable:!0,configurable:!0},platform:{get:function(){return"browser"},enumerable:!0,configurable:!0},version:{get:function(){return q.wt},enumerable:!0,configurable:!0}});s.S2=function(){};
s.o2=function(){};s.V9=function(){};q.wt="Cocos2d-html5-v2.2.2";q.Qt=0;q.zE=q.a(0,0);q.ZL=0.5;q.pY=1;q.$M=1;q.LM=0;q.hF=0;q.m_=0;q.n_=0;q.OZ=1;q.NZ="-hd";q.oN=1;q.uj=0;q.h_=0;q.kZ=0;q.jZ=0;q.sy=1;q.yY=q.wt+"-canvas";q.yw={platform:s.platform};q.n2=function(){for(var a in s)q.log(a+" \x3d "+s[a])};q.vt=1;q.BE=1;q.zH=function(a,c){for(var d=["webgl","experimental-webgl","webkit-3d","moz-webgl"],e=null,f=0;f<d.length;++f){try{e=a.getContext(d[f],c)}catch(g){}if(e)break}return e};q.Ja={};q.Ja.MX=["baidubrowser","opera","firefox","chrome","safari"];q.Ja.f8="baidubrowser opera firefox chrome safari ucbrowser qqbrowser mqqbrowser ie".split(" ");
(function(){q.Ja.Ox=navigator.userAgent.toLowerCase();q.Ja.platform=navigator.platform.toLowerCase();q.Ja.ej=-1!=q.Ja.Ox.indexOf("mobile")||-1!=q.Ja.Ox.indexOf("android");q.Ja.type=function(){var a=q.Ja.Ox.match(/micromessenger|qqbrowser|mqqbrowser|ucbrowser|360browser|baidubrowser|maxthon|ie|opera|firefox/)||q.Ja.Ox.match(/chrome|safari/);return a&&0<a.length?(a=a[0],"micromessenger"==a?"wechat":a):"unknow"}();q.Ja.mode="ie"==q.Ja.type&&document.documentMode;document.ccConfig||(document.ccConfig=
{});q.vB=parseInt(document.ccConfig.renderMode)||0;var a=-1==q.Ja.MX.indexOf(q.Ja.type);1===q.vB||0===q.vB&&(q.Ja.ej||a)?q.Ja.Xc=!1:(q.Ja.Xc=null!=window.H_,a=document.createElement("Canvas"),a=q.zH(a,{stencil:!0,preserveDrawingBuffer:!0}),q.Ja.Xc=null!=a);2!==q.vB||q.Ja.Xc||(q.dz=!0);var a=q.Ja,c;try{c=new (window.AudioContext||window.webkitAudioContext||window.mozAudioContext)?!0:!1}catch(d){c=!1}a.xba=c;q.Ja.z8=function(a){if(this.ej){var c=q.ca.f().Yb,d=c.width+"px",c=c.height+"px",k=q.tk("div");
k.style.backgroundColor="#ffffff";k.style.width=d;k.style.height=c;k.style.PX=1E3;k.style.position="absolute";k.style.top="0px";k.style.left="0px";k.id="cocos2d-browser";var h=q.tk("iframe");h.src=a;h.style.width=d;h.style.height=c;h.setAttribute("frameborder","no");h.setAttribute("scrolling","no");k.appendChild(h);h.onload=function(){var a=document.createElement("img");a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5OERBMEM3OUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5OERBMEM3QUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjk4REEwQzc3RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjk4REEwQzc4RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+NwBuoAAAA/tJREFUeNrEWF0sW3EUb6+28zFhbGadsBaNhazV+kpDYhFWKRGWbHvwFV5IvPiIFw9evElEPEiWSUgsIWoIglhmUomPxj6aKC0zKVJjtPU5o9j5J7dLdbf33jKc5Jfc3v+v5/+755x7/j1lMoiNBRDh4AO88HvO2m+ACbAC+AJQAyz2JCbBFyMBWQA/xv+3DUAXLuivudhcY4BMwCuAB+NqDPmNAnAAOsCZvQgk4BnjeiwEwAbM2YoQA14yrteQEANgDcML7gXjZgw9OAuJkADu3JAIb7Q/hr+GtCwuLs6LDq+iooLvhBAREhFEl11ZWRne0tIiIeNIpVKv4uJi4dTUVApNt0EY3ohILSIiwqO7u1sql8vD8vLyJJ2dnXH2HDabzczPz3/Y1taWzOfz78XExDxSq9Vyd3d3jMK9F2pWr6lEtLa2RmVnZ4tt7w0NDWlTU1OVtkK7urqSQ0NDzzW5hYWFjcTExAGDwXDkyD+VSkZ7e3tsWlpamP19mUwWplQqk9B1UlKST3NzczxE4K49D4mCiDwn24PyPMjIyHjs6urKIVpLSEgInp6eZsM6Kzw8nEvEMZvNBxC1BbI9KCMhkUgUy8vLRpL1QIFA4EcSyZmcnJzpS4mYnZ3dj46O7p2fn193xIGi/CeiFovlFIp5pqGhYZ5qD1qFiQxCjk1OTsqEQmEAFReloL+/X0sVAadFWE2n02VA+O+TcVZXV01QkO8ODw9P6fjEnO2zvb2936g4XC7XG4rWm65P2iL8/f05kN8nBQUFQkqnGMYcGBjIys3N5dLxjY7ydDrE6urqsNLSUqmbmxuH1tOBkMzMTIHRaNxSqVTmS4soKyvjFRUViTw9PV2dTR901WAOh7M/MjKyeeHCbGpqEhcWFkY5Wl9aWtpUKBRaONziSbsii/Xm5OTk7EIdU6/X7zpaW1xc/Al5HxkfH9/e2dk5rqmpeUrE6+vr06ADzpEIlI5kMjFwPhh5PB5DJBKdK7KDg4Oj2tpaVUdHxw/0eWxszIjyj8Jvy4N60FdVVX2Grnt4dkaowYJESAG3yaLR09Oz5uvrexwbGxuAR2erpKTkI6RqxW5DM6RnLT09PQQV5vDwsDYlJWUU+I4EIDMhEQLAA6q0DA4OrqMCg/c/qL6+XtXY2Kgn4sGJuavRaFbFYrFPeXn5FIj6ReFa64KnIpJOpaMK39vbM9XV1X13lF9kc3Nz+xMTEwZo89s03A4ycRE1N/RjF/WPKgyfDRU39Gu7w1qYyNYAtwDB1yhgGPDBfgzU4bMi7xoEjAI6iWZRdGMGH80Cr2goRlP5W8B7qwBHfw1YO6kEH4yC8EnJ5QKbnuDFh17nr4BPRP9P/BFgAHo7ZNgI9EbHAAAAAElFTkSuQmCC";
k.appendChild(a);a.style.PX=1E3;a.style.position="absolute";a.style.bottom="10px";a.style.right="10px";a.onclick=function(){k.remove()}};(a=document.getElementById(document.ccConfig.tag).parentNode)&&a.appendChild(k)}else window.open(a)}})();q.TZ=function(){return"undefined"===q.dz?!1:q.dz};
q.Pb=function(a){var c=this==q?document:this;if(a=a instanceof HTMLElement?a:c.querySelector(a))a.find=a.find||q.Pb,a.rC=a.rC||function(a){return this.className.match(RegExp("(\\s|^)"+a+"(\\s|$)"))},a.kH=a.kH||function(a){this.rC(a)||(this.className&&(this.className+=" "),this.className+=a);return this},a.mV=a.mV||function(a){this.rC(a)&&(this.className=this.className.replace(a,""));return this},a.remove=a.remove||function(){this.parentNode&&this.parentNode.removeChild(this);return this},a.Ym=a.Ym||
function(a){a.appendChild(this);return this},a.PU=a.PU||function(a){a.childNodes[0]?a.insertBefore(this,a.childNodes[0]):a.appendChild(this);return this},a.Kn=a.Kn||function(){this.style[q.Pb.BX]=q.Pb.translate(this.position)+q.Pb.rotate(this.rotation)+q.Pb.scale(this.scale)+q.Pb.Kl(this.Kl);return this},a.position=a.position||{x:0,y:0},a.rotation=a.rotation||0,a.scale=a.scale||{x:1,y:1},a.Kl=a.Kl||{x:0,y:0},a.ZD=function(a,c){this.position.x=a;this.position.y=c;this.Kn()},a.rotate=function(a){this.rotation=
a;this.Kn();return this},a.resize=function(a,c){this.scale.x=a;this.scale.y=c;this.Kn();return this},a.NK=function(a,c){this.Kl.x=a;this.Kl.y=c;this.Kn()};return a};switch(q.Ja.type){case "firefox":q.Pb.rn="Moz";q.Pb.Ip=!0;break;case "chrome":case "safari":q.Pb.rn="webkit";q.Pb.Ip=!0;break;case "opera":q.Pb.rn="O";q.Pb.Ip=!1;break;case "ie":q.Pb.rn="ms";q.Pb.Ip=!1;break;default:q.Pb.rn="webkit",q.Pb.Ip=!0}q.Pb.BX=q.Pb.rn+"Transform";
q.Pb.translate=q.Pb.Ip?function(a){return"translate3d("+a.x+"px, "+a.y+"px, 0) "}:function(a){return"translate("+a.x+"px, "+a.y+"px) "};q.Pb.rotate=q.Pb.Ip?function(a){return"rotateZ("+a+"deg) "}:function(a){return"rotate("+a+"deg) "};q.Pb.scale=function(a){return"scale("+a.x+", "+a.y+") "};q.Pb.Kl=function(a){return"skewX("+-a.x+"deg) skewY("+a.y+"deg)"};q.tk=function(a){return q.Pb(document.createElement(a))};
q.Pb.M2=function(a){var c=0,d=0;do c+=a.offsetLeft,d+=a.offsetTop;while(a=a.offsetParent);return{x:c,y:d}};q.clone=function(a){var c=a.constructor?new a.constructor:{},d;for(d in a){var e=a[d];c[d]="object"!=typeof e||!e||e instanceof q.F||e instanceof HTMLElement?e:q.clone(e)}return c};q.e1=function(){};q.EE=q.EE||!1;
q.MO=function(a){var c=document.getElementById("logInfoList");if(!c){var d=document.createElement("Div");d.setAttribute("id","logInfoDiv");q.canvas.parentNode.appendChild(d);d.setAttribute("width","200");d.setAttribute("height",q.canvas.height);d.style.zIndex="99999";d.style.position="absolute";d.style.top="0";d.style.left="0";c=document.createElement("ul");d.appendChild(c);c.setAttribute("id","logInfoList");c.style.height=q.canvas.height+"px";c.style.color="#fff";c.style.textAlign="left";c.style.listStyle=
"disc outside";c.style.fontSize="12px";c.style.fontFamily="arial";c.style.padding="0 0 0 20px";c.style.margin="0";c.style.textShadow="0 0 3px #000";c.style.zIndex="99998";c.style.position="absolute";c.style.top="0";c.style.left="0";c.style.overflowY="hidden";var e=document.createElement("Div");d.appendChild(e);e.style.width="200px";e.style.height=q.canvas.height+"px";e.style.opacity="0.1";e.style.background="#fff";e.style.border="1px solid #dfdfdf";e.style.borderRadius="8px"}d=document.createElement("li");
d.innerHTML=a;0==c.childNodes.length?c.appendChild(d):c.insertBefore(d,c.childNodes[0])};q.log=function(a){document.ccConfig.dev&&!0==document.ccConfig.dev&&(q.EE?q.MO(a):console.log.apply(console,arguments))};q.qZ=function(a){console.log(a)};q.ot=function(a,c){console.assert?console.assert(a,c):a||c&&alert(c)};q.B6=function(){0==q.qt?(q.log=function(){},q.pJ=function(){},q.oJ=function(){},q.ot=function(){}):1==q.qt?(q.pJ=q.log,q.oJ=function(){}):1<q.qt&&(q.pJ=q.log,q.oJ=q.log)};q.rM=0;q.qM=1;
q.sM=2;q.vM=3;q.tM=4;q.CM=5;q.BM=6;q.xM=7;q.wM=8;q.uM=9;q.AM=10;q.pM=11;q.yM=12;q.zM=13;
q.kq={sH:8,Hba:9,YB:13,shift:16,V1:17,alt:18,pause:19,x1:20,escape:27,Y8:33,X8:34,end:35,home:36,left:37,dca:38,right:39,i2:40,F6:45,FY:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,K:65,k:66,Ka:67,d:68,p2:69,Fw:70,p:71,h:72,x6:73,I7:74,J7:75,O7:76,m:77,sJ:78,v8:79,a:80,o9:81,q:82,s:83,Gba:84,Ta:85,ua:86,DL:87,x:88,y:89,z:90,i8:96,j8:97,k8:98,l8:99,m8:100,n8:101,o8:102,p8:103,q8:104,r8:105,"*":106,"+":107,"-":109,numdel:110,"/":111,z2:112,D2:113,E2:114,F2:115,G2:116,H2:117,I2:118,J2:119,K2:120,
A2:121,B2:122,C2:123,u8:144,d$:145,h$:186,",":186,t2:187,"\x3d":187,";":188,M1:188,X1:189,".":190,c9:190,Q2:191,s6:192,"[":219,A8:219,"]":221,L1:221,f1:220,quote:222,oba:32};q.g2=function(a,c,d){if(a)if(c&&"string"==typeof a)c[a](d);else c&&"function"==typeof a?a.call(c,d):a(d)};q.zi=-1;q.PI=Math.PI;q.gM=parseFloat("3.402823466e+38F");q.WM=q.PI/180;q.YL=180/q.PI;q.nN=4294967295;q.i_=function(a,c,d){if("object"==typeof d&&"undefined"!=typeof d.x&&"undefined"!=typeof d.y){var e=d[a];d[a]=d[c];d[c]=e}else q.log("cc.SWAP is being modified from original macro, please check usage")};q.Q7=function(a,c,d){return a+(c-a)*d};q.KZ=function(){return 2*(Math.random()-0.5)};q.JZ=function(){return Math.random()};q.rj=function(a){return a*q.WM};q.Gy=function(a){return a*q.YL};
q.Zl=Number.MAX_VALUE-1;q.Le=q.LM?1:770;q.Ke=771;q.Ay=function(a){a.Oc&&(a.Oc.nf(),a.Oc.Xg())};q.RY=function(){};q.EY=function(){};q.Jh=function(){q.zh+=1};q.Rt=1.192092896E-7;q.Zc=q.sy?function(){return q.ca.f().km}:function(){return 1};q.OM=function(a){var c=q.Zc();return q.a(a.x*c,a.y*c)};q.N_=function(a,c){var d=q.Zc();c.I=a.x*d;c.N=a.y*d};q.Ly=function(a){var c=q.Zc();return q.size(a.width*c,a.height*c)};q.f_=function(a){var c=q.Zc();return q.size(a.width/c,a.height/c)};
q.bz=function(a,c){var d=q.Zc();c.Ha=a.width/d;c.ya=a.height/d};q.EZ=function(a){var c=q.Zc();return q.a(a.x/c,a.y/c)};q.Eu=function(a,c){var d=q.Zc();c.I=a.x/d;c.N=a.y/d};q.lq=q.sy?function(a){var c=q.Zc();return q.rect(a.x/c,a.y/c,a.width/c,a.height/c)}:function(a){return a};q.Xn=q.sy?function(a){var c=q.Zc();return q.rect(a.x*c,a.y*c,a.width*c,a.height*c)}:function(a){return a};q.oE=function(){if(q.T9==q.zk){var a=q.$.getError();a&&q.log("WebGL error "+a)}};q.YZ=0;q.XZ=1;q.VZ=2;q.WZ=3;q.ZZ=4;q.$Z=5;q.UZ=6;var Uint8Array=Uint8Array||Array;
if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){var fa=document.createElement("script");fa.type="text/vbscript";fa.textContent='\x3c!-- IEBinaryToArray_ByteStr --\x3e\r\nFunction IEBinaryToArray_ByteStr(Binary)\r\n   IEBinaryToArray_ByteStr \x3d CStr(Binary)\r\nEnd Function\r\nFunction IEBinaryToArray_ByteStr_Last(Binary)\r\n   Dim lastIndex\r\n   lastIndex \x3d LenB(Binary)\r\n   if lastIndex mod 2 Then\r\n       IEBinaryToArray_ByteStr_Last \x3d Chr( AscB( MidB( Binary, lastIndex, 1 ) ) )\r\n   Else\r\n       IEBinaryToArray_ByteStr_Last \x3d ""\r\n   End If\r\nEnd Function\r\n';document.body.appendChild(fa);
q.FF=function(a){for(var c={},d=0;256>d;d++)for(var e=0;256>e;e++)c[String.fromCharCode(d+256*e)]=String.fromCharCode(d)+String.fromCharCode(e);d=IEBinaryToArray_ByteStr(a);a=IEBinaryToArray_ByteStr_Last(a);return d.replace(/[\s\S]/g,function(a){return c[a]})+a}}
q.Nd=q.La.extend({Mi:null,bl:null,gO:null,Sz:null,Zo:null,Yh:null,Lq:"",ctor:function(){this.Mi={};this.bl={};this.Yh=[];this.Yh.push(this.Lq);this.Zo=[];this.Zo.push("")},l9:function(){this.Yh=[]},i3:function(a){a=this.ze(a);return this.Mi.hasOwnProperty(a)?this.Mi[a]:this.JO(a)},iv:function(){return window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP")},CX:function(a){this.Mi.hasOwnProperty(a)&&delete this.Mi[a]},KU:function(a){a=this.ze(a);var c=this,d=this.iv();d.open("GET",
a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","x-user-defined"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=q.FF(d.responseBody);e&&(c.Mi[a]=c.Vv(e))}else q.Qb.f().zl(a);q.Qb.f().eg()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dx-user-defined"),d.onload=function(){var e=d.responseText;e?c.Mi[a]=c.Vv(e):q.Qb.f().zl(a);q.Qb.f().eg()});d.send(null)},j9:function(a,c){this.Mi[c]=a;
q.Qb.f().eg()},JO:function(a){var c=this.iv();c.open("GET",a,!1);var d=null;if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){c.setRequestHeader("Accept-Charset","x-user-defined");c.send(null);if(200!=c.status)return null;if(c=q.FF(c.responseBody))d=this.Vv(c),this.Mi[a]=d}else{c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dx-user-defined");c.send(null);if(!c.responseText||200!=c.status&&0!=c.status)return null;d="undefined"!==typeof VBArray?(new VBArray(c.responseBody)).toArray():
this.Vv(c.responseText);this.Mi[a]=d}return d},Vv:function(a){if(!a)return null;for(var c=new Uint8Array(a.length),d=0;d<a.length;d++)c[d]=a.charCodeAt(d)&255;return c},EX:function(a){a=this.ze(a);this.bl.hasOwnProperty(a)&&delete this.bl[a]},MU:function(a){a=this.ze(a);var c=this,d=this.iv();d.open("GET",a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","utf-8"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=
d.responseText;e&&(c.bl[a]=e)}else q.Qb.f().zl(a);q.Qb.f().eg()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dutf-8"),d.onload=function(){d.responseText?c.bl[a]=d.responseText:q.Qb.f().zl(a);q.Qb.f().eg()});d.send(null)},LO:function(a){var c=this.iv();c.open("GET",a,!1);var d=null;/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?c.setRequestHeader("Accept-Charset","utf-8"):c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dutf-8");c.send(null);
if(200!=c.status)return null;(d=c.responseText)&&(this.bl[a]=d);return d},sI:function(a){a=this.ze(a);return this.bl.hasOwnProperty(a)?this.bl[a]:this.LO(a)},Q3:function(){},Q9:function(){},LJ:!0,R2:function(a){return a},ze:function(a){var c=!1;a=this.nO(a);for(var d,e=0;e<this.Yh.length;e++){for(var f=this.Yh[e],g=0;g<this.Zo.length;g++)if(d=this.oO(a,this.Zo[g],f)){c=!0;break}if(c)break}return c?d:a},V7:function(a){var c=this.ze(a);if(0<c.length){var c=q.xk.f().parse(c),d=parseInt(c.metadata.version);
1!=d?q.log("cocos2d: ERROR: Invalid filenameLookup dictionary version: "+d+". Filename: "+a):this.iW(c.filenames)}},iW:function(a){this.Sz=a},ZH:function(a,c){var d;if(a)return d=c.substring(0,c.lastIndexOf("/")+1),d+a;d=c.substring(0,c.lastIndexOf("."));return d+".png"},Daa:function(a){this.Zo=a},t5:function(){return this.Zo},Caa:function(a){this.Yh=a},r5:function(){return this.Yh},j5:function(){return this.gO},yaa:function(){},c2:function(a){q.log("dictionaryWithContentsOfFile is deprecated. Use createDictionaryWithContentsOfFile instead");
return this.xR(a)},xR:function(a){return q.xk.f().parse(a)},I5:function(a){return this.sI(a)},Cw:function(a){return q.xk.f().parse(a)},m6:function(){return""},qaa:function(a){q.LJ=a},l7:function(){return q.LJ},MA:"",k5:function(){return this.MA},zaa:function(a){this.MA=a},nO:function(a){var c=null;(c=this.Sz?this.Sz[a]:null)&&0!==c.length?q.log("FOUND NEW FILE NAME: "+c):c=a;return c},oO:function(a,c,d){var e;e=this.MA;a&&0<a.length&&(0===a.indexOf("/")||0===a.indexOf("\\"))?e="":0<e.length&&"\\"!=
e[e.length-1]&&"/"!=e[e.length-1]&&(e+="/");var f=a,g="",k=a.lastIndexOf("/");-1!=k&&(g=a.substr(0,k+1),f=a.substr(k+1));a=d;0<a.length&&a.lastIndexOf("/")!==a.length-1&&(a+="/");a=a+g+c;0<a.length&&a.lastIndexOf("/")!==a.length-1&&(a+="/");a+=f;return e+=a},c0:function(){},MK:function(a){var c=!1;this.Yh=[];for(var d=0;d<a.length;d++){var e=a[d],f;this.WI(e)||(f=this.Lq);e=f+e;0<e.length&&"/"!=e[e.length-1]&&(e+="/");c||e!=this.Lq||(c=!0);this.Yh.push(e)}c||this.Yh.push(this.Lq)},Q0:function(a){var c;
this.WI(a)||(c=this.Lq);a=c+a;0<a.length&&"/"!=a[a.length-1]&&(a+="/");this.Yh.push(a)},s5:function(){},WI:function(a){return"/"==a[0]}});q.mD=null;q.Nd.f=function(){null==q.mD&&(q.mD=new q.Nd);return q.mD};q.xc=function(a,c,d){switch(arguments.length){case 0:this.k=this.p=this.q=0;break;case 1:a&&a instanceof q.xc?(this.q=0|a.q||0,this.p=0|a.p||0,this.k=0|a.k||0):this.k=this.p=this.q=0;break;case 3:this.q=0|a||0;this.p=0|c||0;this.k=0|d||0;break;default:throw"unknown argument type";}};q.n=function(a,c,d){return new q.xc(a,c,d)};q.J6=function(a){a=a||0;var c=new q.xc;c.q=a&255;c.p=a>>8&255;c.k=a>>16&255;return c};q.JB=q.n;q.q1=function(a,c){return a.q===c.q&&a.p===c.p&&a.k===c.k};
Object.defineProperties(q,{F_:{get:function(){return q.n(255,255,255)},configurable:!0},I_:{get:function(){return q.n(255,255,0)},configurable:!0},mY:{get:function(){return q.n(0,0,255)},configurable:!0},ZY:{get:function(){return q.n(0,255,0)},configurable:!0},MZ:{get:function(){return q.n(255,0,0)},configurable:!0},nZ:{get:function(){return q.n(255,0,255)},configurable:!0},kY:{get:function(){return q.n(0,0,0)},configurable:!0},vZ:{get:function(){return q.n(255,127,0)},configurable:!0},YY:{get:function(){return q.n(166,
166,166)},configurable:!0}});q.zb=function(){return new q.xc(255,255,255)};q.yca=function(){return new q.xc(255,255,0)};q.blue=function(){return new q.xc(0,0,255)};q.green=function(){return new q.xc(0,255,0)};q.red=function(){return new q.xc(255,0,0)};q.a8=function(){return new q.xc(255,0,255)};q.h1=function(){return new q.xc(0,0,0)};q.B8=function(){return new q.xc(255,127,0)};q.ol=function(){return new q.xc(166,166,166)};q.Wb=function(a,c,d,e){this.q=0|a;this.p=0|c;this.k=0|d;this.K=0|e};
q.j=function(a,c,d,e){return new q.Wb(a,c,d,e)};q.KB=q.j;q.fe=function(a,c,d,e){this.q=a;this.p=c;this.k=d;this.K=e};q.vw=function(a,c,d,e){return new q.fe(a,c,d,e)};q.t1=function(a){return new q.fe(a.q/255,a.p/255,a.k/255,1)};q.u1=function(a){return new q.fe(a.q/255,a.p/255,a.k/255,a.K/255)};q.r1=function(a){return new q.Wb(0|255*a.q,0|255*a.p,0|255*a.k,0|255*a.K)};q.s1=function(a,c){return a.q==c.q&&a.p==c.p&&a.k==c.k&&a.K==c.K};q.Ib=function(a,c){this.x=a||0;this.y=c||0};
q.Cu=function(a,c){return new q.Ib(a,c)};q.fd=function(a,c,d){this.x=a||0;this.y=c||0;this.z=d||0};q.pca=function(a,c,d){return new q.fd(a,c,d)};q.Cc=function(a,c){this.Ta=a||0;this.ua=c||0};q.Nba=function(a,c){return new q.Cc(a,c)};q.HZ=function(a,c,d){a||new q.Ib(0,0);this.color=c||new q.Wb(0,0,0,0);this.size=d||0};q.cu=function(a,c,d,e){this.Xa=a||new q.Ib(0,0);this.Qa=c||new q.Ib(0,0);this.Oa=d||new q.Ib(0,0);this.$a=e||new q.Ib(0,0)};
q.IZ=function(a,c,d,e){this.Oa=a||new q.fd(0,0,0);this.$a=c||new q.fd(0,0,0);this.Xa=d||new q.fd(0,0,0);this.Qa=e||new q.fd(0,0,0)};q.jM=function(a,c){this.x=a;this.y=c};q.p=function(a,c){return new q.jM(a,c)};q.bc=function(a,c,d){this.A=a||new q.Ib(0,0);this.P=c||new q.Wb(0,0,0,0);this.C=d||new q.Cc(0,0)};q.wu=function(){this.A=new q.Ib(0,0);this.P=new q.fe(0,0,0,0);this.C=new q.Cc(0,0)};q.yc=function(a,c,d){this.A=a||new q.fd(0,0,0);this.P=c||new q.Wb(0,0,0,0);this.C=d||new q.Cc(0,0)};
q.Mc=function(a,c,d){this.K=a||new q.bc;this.k=c||new q.bc;this.Ka=d||new q.bc};q.pN=function(){var a=new q.bc(new q.Ib(0,0),new q.Wb(0,0,0,255),new q.Cc(0,0)),c=new q.bc(new q.Ib(0,0),new q.Wb(0,0,0,255),new q.Cc(0,0)),d=new q.bc(new q.Ib(0,0),new q.Wb(0,0,0,255),new q.Cc(0,0)),e=new q.bc(new q.Ib(0,0),new q.Wb(0,0,0,255),new q.Cc(0,0));this.Oa=a||new q.bc;this.$a=c||new q.bc;this.Xa=d||new q.bc;this.Qa=e||new q.bc};q.C_=function(){return new q.pN};
q.mc=function(a,c,d,e){this.Xa=a||new q.yc;this.Oa=c||new q.yc;this.Qa=d||new q.yc;this.$a=e||new q.yc};q.az=function(){return new q.mc(new q.yc(new q.fd(0,0,0),new q.Wb(0,0,0,255),new q.Cc(0,0)),new q.yc(new q.fd(0,0,0),new q.Wb(0,0,0,255),new q.Cc(0,0)),new q.yc(new q.fd(0,0,0),new q.Wb(0,0,0,255),new q.Cc(0,0)),new q.yc(new q.fd(0,0,0),new q.Wb(0,0,0,255),new q.Cc(0,0)))};
q.$y=function(a){return a?new q.mc(new q.yc(new q.fd(a.Xa.A.x,a.Xa.A.y,a.Xa.A.z),new q.Wb(a.Xa.P.q,a.Xa.P.p,a.Xa.P.k,a.Xa.P.K),new q.Cc(a.Xa.C.Ta,a.Xa.C.ua)),new q.yc(new q.fd(a.Oa.A.x,a.Oa.A.y,a.Oa.A.z),new q.Wb(a.Oa.P.q,a.Oa.P.p,a.Oa.P.k,a.Oa.P.K),new q.Cc(a.Oa.C.Ta,a.Oa.C.ua)),new q.yc(new q.fd(a.Qa.A.x,a.Qa.A.y,a.Qa.A.z),new q.Wb(a.Qa.P.q,a.Qa.P.p,a.Qa.P.k,a.Qa.P.K),new q.Cc(a.Qa.C.Ta,a.Qa.C.ua)),new q.yc(new q.fd(a.$a.A.x,a.$a.A.y,a.$a.A.z),new q.Wb(a.$a.P.q,a.$a.P.p,a.$a.P.k,a.$a.P.K),new q.Cc(a.$a.C.Ta,
a.$a.C.ua))):q.az()};q.E_=function(a){if(!a)return[];for(var c=[],d=0;d<a.length;d++)c.push(q.$y(a[d]));return c};q.D_=function(a,c,d,e){this.Oa=a||new q.wu;this.$a=c||new q.wu;this.Xa=d||new q.wu;this.Qa=e||new q.wu};q.Wl=function(a,c){this.src=a;this.Ob=c};q.nY=function(){return new q.Wl(1,0)};q.Ec=function(a){var c=a.q.toString(16),d=a.p.toString(16),e=a.k.toString(16);return"#"+(16>a.q?"0"+c:c)+(16>a.p?"0"+d:d)+(16>a.k?"0"+e:e)};
q.Ja.Xc&&(q.Wb=function(a,c,d,e,f,g){this.Xb=f||new ArrayBuffer(q.Wb.BYTES_PER_ELEMENT);this._offset=g||0;f=this.Xb;g=this._offset;var k=Uint8Array.BYTES_PER_ELEMENT;this.DA=new Uint8Array(f,g,1);this.Zz=new Uint8Array(f,g+k,1);this.nz=new Uint8Array(f,g+2*k,1);this.fz=new Uint8Array(f,g+3*k,1);this.DA[0]=a||0;this.Zz[0]=c||0;this.nz[0]=d||0;this.fz[0]=e||0},q.Wb.BYTES_PER_ELEMENT=4,Object.defineProperties(q.Wb.prototype,{q:{get:function(){return this.DA[0]},set:function(a){this.DA[0]=a},enumerable:!0},
p:{get:function(){return this.Zz[0]},set:function(a){this.Zz[0]=a},enumerable:!0},k:{get:function(){return this.nz[0]},set:function(a){this.nz[0]=a},enumerable:!0},K:{get:function(){return this.fz[0]},set:function(a){this.fz[0]=a},enumerable:!0}}),q.fe=function(a,c,d,e,f,g){this.Xb=f||new ArrayBuffer(q.fe.BYTES_PER_ELEMENT);this._offset=g||0;f=this.Xb;g=this._offset;var k=Float32Array.BYTES_PER_ELEMENT;this.CA=new Float32Array(f,g,1);this.CA[0]=a||0;this.Yz=new Float32Array(f,g+k,1);this.Yz[0]=c||
0;this.mz=new Float32Array(f,g+2*k,1);this.mz[0]=d||0;this.ez=new Float32Array(f,g+3*k,1);this.ez[0]=e||0},q.fe.BYTES_PER_ELEMENT=16,Object.defineProperties(q.fe.prototype,{q:{get:function(){return this.CA[0]},set:function(a){this.CA[0]=a},enumerable:!0},p:{get:function(){return this.Yz[0]},set:function(a){this.Yz[0]=a},enumerable:!0},k:{get:function(){return this.mz[0]},set:function(a){this.mz[0]=a},enumerable:!0},K:{get:function(){return this.ez[0]},set:function(a){this.ez[0]=a},enumerable:!0}}),
q.Ib=function(a,c,d,e){this.Xb=d||new ArrayBuffer(q.Ib.BYTES_PER_ELEMENT);this._offset=e||0;this.Um=new Float32Array(this.Xb,this._offset,1);this.Vm=new Float32Array(this.Xb,this._offset+4,1);this.Um[0]=a||0;this.Vm[0]=c||0},q.Ib.BYTES_PER_ELEMENT=8,Object.defineProperties(q.Ib.prototype,{x:{get:function(){return this.Um[0]},set:function(a){this.Um[0]=a},enumerable:!0},y:{get:function(){return this.Vm[0]},set:function(a){this.Vm[0]=a},enumerable:!0}}),q.fd=function(a,c,d,e,f){this.Xb=e||new ArrayBuffer(q.fd.BYTES_PER_ELEMENT);
this._offset=f||0;e=this.Xb;f=this._offset;this.Um=new Float32Array(e,f,1);this.Um[0]=a||0;this.Vm=new Float32Array(e,f+Float32Array.BYTES_PER_ELEMENT,1);this.Vm[0]=c||0;this.CB=new Float32Array(e,f+2*Float32Array.BYTES_PER_ELEMENT,1);this.CB[0]=d||0},q.fd.BYTES_PER_ELEMENT=12,Object.defineProperties(q.fd.prototype,{x:{get:function(){return this.Um[0]},set:function(a){this.Um[0]=a},enumerable:!0},y:{get:function(){return this.Vm[0]},set:function(a){this.Vm[0]=a},enumerable:!0},z:{get:function(){return this.CB[0]},
set:function(a){this.CB[0]=a},enumerable:!0}}),q.Cc=function(a,c,d,e){this.Xb=d||new ArrayBuffer(q.Cc.BYTES_PER_ELEMENT);this._offset=e||0;this.oB=new Float32Array(this.Xb,this._offset,1);this.wB=new Float32Array(this.Xb,this._offset+4,1);this.oB[0]=a||0;this.wB[0]=c||0},q.Cc.BYTES_PER_ELEMENT=8,Object.defineProperties(q.Cc.prototype,{Ta:{get:function(){return this.oB[0]},set:function(a){this.oB[0]=a},enumerable:!0},ua:{get:function(){return this.wB[0]},set:function(a){this.wB[0]=a},enumerable:!0}}),
q.cu=function(a,c,d,e,f,g){this.Xb=f||new ArrayBuffer(q.cu.BYTES_PER_ELEMENT);this._offset=g||0;f=this.Xb;g=q.Ib.BYTES_PER_ELEMENT;this.kp=a?new q.Ib(a.x,a.y,f,0):new q.Ib(0,0,f,0);this.mp=c?new q.Ib(c.x,c.y,f,g):new q.Ib(0,0,f,g);this.lo=d?new q.Ib(d.x,d.y,f,2*g):new q.Ib(0,0,f,2*g);this.no=e?new q.Ib(e.x,e.y,f,3*g):new q.Ib(0,0,f,3*g)},q.cu.BYTES_PER_ELEMENT=32,Object.defineProperties(q.cu.prototype,{Xa:{get:function(){return this.kp},set:function(a){this.kp.x=a.x;this.kp.y=a.y},enumerable:!0},
Qa:{get:function(){return this.mp},set:function(a){this.mp.x=a.x;this.mp.y=a.y},enumerable:!0},Oa:{get:function(){return this.lo},set:function(a){this.lo.x=a.x;this.lo.y=a.y},enumerable:!0},$a:{get:function(){return this.no},set:function(a){this.no.x=a.x;this.no.y=a.y},enumerable:!0}}),q.yc=function(a,c,d,e,f){this.Xb=e||new ArrayBuffer(q.yc.BYTES_PER_ELEMENT);this._offset=f||0;e=this.Xb;f=this._offset;var g=q.fd.BYTES_PER_ELEMENT;this.op=a?new q.fd(a.x,a.y,a.z,e,f):new q.fd(0,0,0,e,f);this.Hq=c?
new q.Wb(c.q,c.p,c.k,c.K,e,f+g):new q.Wb(0,0,0,0,e,f+g);this.Jm=d?new q.Cc(d.Ta,d.ua,e,f+g+q.Wb.BYTES_PER_ELEMENT):new q.Cc(0,0,e,f+g+q.Wb.BYTES_PER_ELEMENT)},q.yc.BYTES_PER_ELEMENT=24,Object.defineProperties(q.yc.prototype,{A:{get:function(){return this.op},set:function(a){var c=this.op;c.x=a.x;c.y=a.y;c.z=a.z},enumerable:!0},P:{get:function(){return this.Hq},set:function(a){var c=this.Hq;c.q=a.q;c.p=a.p;c.k=a.k;c.K=a.K},enumerable:!0},C:{get:function(){return this.Jm},set:function(a){this.Jm.Ta=
a.Ta;this.Jm.ua=a.ua},enumerable:!0}}),q.mc=function(a,c,d,e,f,g){this.Xb=f||new ArrayBuffer(q.mc.BYTES_PER_ELEMENT);this._offset=g||0;f=this.Xb;g=this._offset;var k=q.yc.BYTES_PER_ELEMENT;this.kp=a?new q.yc(a.A,a.P,a.C,f,g):new q.yc(null,null,null,f,g);this.lo=c?new q.yc(c.A,c.P,c.C,f,g+k):new q.yc(null,null,null,f,g+k);this.mp=d?new q.yc(d.A,d.P,d.C,f,g+2*k):new q.yc(null,null,null,f,g+2*k);this.no=e?new q.yc(e.A,e.P,e.C,f,g+3*k):new q.yc(null,null,null,f,g+3*k)},q.mc.BYTES_PER_ELEMENT=96,Object.defineProperties(q.mc.prototype,
{Xa:{get:function(){return this.kp},set:function(a){var c=this.kp;c.A=a.A;c.P=a.P;c.C=a.C},enumerable:!0},Oa:{get:function(){return this.lo},set:function(a){var c=this.lo;c.A=a.A;c.P=a.P;c.C=a.C},enumerable:!0},Qa:{get:function(){return this.mp},set:function(a){var c=this.mp;c.A=a.A;c.P=a.P;c.C=a.C},enumerable:!0},$a:{get:function(){return this.no},set:function(a){var c=this.no;c.A=a.A;c.P=a.P;c.C=a.C},enumerable:!0},FB:{get:function(){return this.Xb},enumerable:!0}}),q.az=function(){return new q.mc},
q.$y=function(a){if(!a)return q.az();var c=a.Xa,d=a.Oa,e=a.Qa;a=a.$a;return{Xa:{A:{x:c.A.x,y:c.A.y,z:c.A.z},P:{q:c.P.q,p:c.P.p,k:c.P.k,K:c.P.K},C:{Ta:c.C.Ta,ua:c.C.ua}},Oa:{A:{x:d.A.x,y:d.A.y,z:d.A.z},P:{q:d.P.q,p:d.P.p,k:d.P.k,K:d.P.K},C:{Ta:d.C.Ta,ua:d.C.ua}},Qa:{A:{x:e.A.x,y:e.A.y,z:e.A.z},P:{q:e.P.q,p:e.P.p,k:e.P.k,K:e.P.K},C:{Ta:e.C.Ta,ua:e.C.ua}},$a:{A:{x:a.A.x,y:a.A.y,z:a.A.z},P:{q:a.P.q,p:a.P.p,k:a.P.k,K:a.P.K},C:{Ta:a.C.Ta,ua:a.C.ua}}}},q.bc=function(a,c,d,e,f){this.Xb=e||new ArrayBuffer(q.bc.BYTES_PER_ELEMENT);
this._offset=f||0;e=this.Xb;f=this._offset;var g=q.Ib.BYTES_PER_ELEMENT;this.op=a?new q.Ib(a.x,a.y,e,f):new q.Ib(0,0,e,f);this.Hq=c?new q.Wb(c.q,c.p,c.k,c.K,e,f+g):new q.Wb(0,0,0,0,e,f+g);this.Jm=d?new q.Cc(d.Ta,d.ua,e,f+g+q.Wb.BYTES_PER_ELEMENT):new q.Cc(0,0,e,f+g+q.Wb.BYTES_PER_ELEMENT)},q.bc.BYTES_PER_ELEMENT=20,Object.defineProperties(q.bc.prototype,{A:{get:function(){return this.op},set:function(a){this.op.x=a.x;this.op.y=a.y},enumerable:!0},P:{get:function(){return this.Hq},set:function(a){var c=
this.Hq;c.q=a.q;c.p=a.p;c.k=a.k;c.K=a.K},enumerable:!0},C:{get:function(){return this.Jm},set:function(a){this.Jm.Ta=a.Ta;this.Jm.ua=a.ua},enumerable:!0}}),q.Mc=function(a,c,d,e,f){this.Xb=e||new ArrayBuffer(q.Mc.BYTES_PER_ELEMENT);this._offset=f||0;e=this.Xb;f=this._offset;var g=q.bc.BYTES_PER_ELEMENT;this.rF=a?new q.bc(a.A,a.P,a.C,e,f):new q.bc(null,null,null,e,f);this.wF=c?new q.bc(c.A,c.P,c.C,e,f+g):new q.bc(null,null,null,e,f+g);this.BF=d?new q.bc(d.A,d.P,d.C,e,f+2*g):new q.bc(null,null,null,
e,f+2*g)},q.Mc.BYTES_PER_ELEMENT=60,Object.defineProperties(q.Mc.prototype,{K:{get:function(){return this.rF},set:function(a){var c=this.rF;c.A=a.A;c.P=a.P;c.C=a.C},enumerable:!0},k:{get:function(){return this.wF},set:function(a){var c=this.wF;c.A=a.A;c.P=a.P;c.C=a.C},enumerable:!0},Ka:{get:function(){return this.BF},set:function(a){var c=this.BF;c.A=a.A;c.P=a.P;c.C=a.C},enumerable:!0}}));
q.O1=function(a){a=a.substr(1).split("");return new q.xc(parseInt("0x"+a[0]+a[1]),parseInt("0x"+a[2]+a[3]),parseInt("0x"+a[4]+a[5]))};q.sq=0;q.xj=1;q.gN=2;q.Bu=0;q.Au=1;q.zu=2;q.yu=3;
q.M_=q.La.extend({Po:null,is:null,cz:0,ctor:function(){this.Po={};this.is={};this.cz=2<<(0|10*Math.random())},tN:function(){this.cz++;return"key_"+this.cz},yW:function(a,c){if(null!=c){var d=this.tN();this.Po[d]=c;this.is[d]=a}},eU:function(a){if(null==a)return null;var c=this.Po,d;for(d in c)if(c[d]===a)return this.is[d];return null},oca:function(a){return this.eU(a)},qV:function(a){if(null!=a){var c=this.Po,d;for(d in c)if(c[d]===a){delete this.is[d];delete c[d];break}}},K9:function(a){if(null!=
a)for(var c=0;c<a.length;c++)this.qV(a[c])},NQ:function(){var a=[],c=this.Po,d;for(d in c)a.push(c[d]);return a},D9:function(){this.Po={};this.is={}},count:function(){return this.NQ().length}});q.iM=function(){this.rs="Arial";this.fontSize=12;this.UH=q.xj;this.VH=q.Bu;this.WH=q.zb();this.qs=q.size(0,0);this.TD=!1;this.strokeColor=q.zb();this.lL=1;this.$K=!1;this.aL=q.size(0,0);this.shadowBlur=0;this.bL=1};q.Yn={my:0,By:1,SHOW_ALL:2,ny:3,oy:4,B_:5};q.vu=[];q.tq={};
q.oa=q.La.extend({Da:null,Dd:null,Bo:null,Wo:null,af:null,qw:null,Qq:1,yB:"",KA:null,va:1,lG:1,Ca:1,mG:1,mr:0,hG:5,Vh:null,sG:null,wG:null,vG:null,tG:null,uG:null,pr:!1,U_:!1,F0:null,SF:null,TF:null,wN:null,z0:!1,Cz:null,o0:null,Kk:null,Uz:1,Gu:!1,YF:!0,ctor:function(){this.Kk=q.bk.parentNode===document.body?document.documentElement:q.bk.parentNode;this.Dd=q.size(0,0);this.UF();var a=q.canvas.width,c=q.canvas.height;this.Bo=q.size(a,c);this.Wo=q.size(a,c);this.af=q.rect(0,0,a,c);this.qw=q.rect(0,
0,a,c);this.Da=q.ca.f().Ze;this.Cz={left:0,top:0};this.yB="Cocos2dHTML5";q.nF.v(this.Bo);this.sG=new q.Zn(q.$g.xt,q.Ne.my);this.wG=new q.Zn(q.$g.SM,q.Ne.SHOW_ALL);this.vG=new q.Zn(q.$g.xt,q.Ne.By);this.tG=new q.Zn(q.$g.xt,q.Ne.ny);this.uG=new q.Zn(q.$g.xt,q.Ne.oy);this.SF=q.canvas;this.TF=q.$},LA:function(){this.ctor();this.KA&&this.KA.call();var a=this.Dd.width,c=this.Dd.height;0<a&&this.sD(a,c,this.Vh)},xV:function(a){a?this.Gu||(this.Gu=!0,a=this.LA.bind(this),window.addEventListener("resize",
a,!1)):this.Gu&&(this.Gu=!0,a=this.LA.bind(this),window.removeEventListener("resize",a,!1))},NW:function(a){if("function"==typeof a||null==a)this.KA=a},UF:function(){var a=this.Dd;a.width=this.Kk.clientWidth;a.height=this.Kk.clientHeight;this.Dd=a},R_:function(){var a=this.Wo.width,c=this.Wo.height;0<a&&this.sD(a,c,this.Vh)},XP:function(){if(this.YF){var a={"user-scalable":"no","maximum-scale":"1.0","initial-scale":"1.0"},c=document.getElementsByName("viewport"),d;0==c.length?(c=document.createElement("meta"),
c.name="viewport",c.content="",document.head.appendChild(c)):c=c[0];if(q.Ja.ej&&"firefox"==q.Ja.type)c.content="initial-scale:1";else{d=c.content;for(var e in a)RegExp(e).test(d)||(d+=(""==d?"":",")+e+"\x3d"+a[e]);c.content=d}}},QP:function(){var a=q.Zc();this.Ca=this.va=a},sP:function(){this.va=this.lG;this.Ca=this.mG},qO:function(){var a,c=this.mr;for(a=0;a<this.hG;a++){if(!(c&1))return this.mr|=1<<a,a;c>>=1}return-1},oP:function(a){0>a||a>=this.hG||(a=~(1<<a),this.mr&=a)},S_:function(){},CT:function(){this.pr=
!0},V0:function(a){this.YF=a},end:function(){},j7:function(){return null!=this.SF&&null!=this.TF},L$:function(a){this.Uz=a;q.ca.f().sx(q.ca.f().Xk)},Dba:function(){},P$:function(){},x$:function(a,c){this.Cz={left:a,top:c}},w3:function(){return this.Cz},bn:function(){return q.size(this.Dd.width,this.Dd.height)},K$:function(a,c){this.Dd.width=a;this.Dd.height=c;this.Kk.style.width=a+"px";this.Kk.style.height=c+"px";this.LA();q.ca.f().sx(q.ca.f().Xk)},z1:function(){},k$:function(a){this.wN=a},xs:function(){return this.qw.Va},
yI:function(){return this.qw.$c},v1:function(){return!0},i5:function(){return this.Vh},OW:function(a){if(a instanceof q.Zn)this.Vh=a;else switch(a){case q.Yn.my:this.Vh=this.sG;break;case q.Yn.SHOW_ALL:this.Vh=this.wG;break;case q.Yn.By:this.Vh=this.vG;break;case q.Yn.ny:this.Vh=this.tG;break;case q.Yn.oy:this.Vh=this.uG}},sD:function(a,c,d){if(isNaN(a)||0==a||isNaN(c)||0==c)q.log("Resolution not valid");else{this.OW(d);var e=this.Vh;if(e){e.tn(this);var f=this.Dd.width,g=this.Dd.height;q.Ja.ej&&
this.XP(this.Dd.width,this.Dd.height);this.UF();if(d!=this.Vh||a!=this.Wo.width||c!=this.Wo.height||f!=this.Dd.width||g!=this.Dd.height)this.Bo=q.size(a,c),this.Wo=q.size(a,c),a=e.apply(this,this.Bo),a.scale&&2==a.scale.length&&(this.va=a.scale[0],this.Ca=a.scale[1]),a.viewport instanceof q.rg&&(a=this.af=a.viewport,c=this.qw,c.Va.width=q.canvas.width/this.va,c.Va.height=q.canvas.height/this.Ca,c.$c.x=-a.x/this.va,c.$c.y=-a.y/this.Ca),a=q.ca.f(),a.Yb=this.Ap(),e.sn(this),q.Kd==q.zk&&(a.zo(),a.sK()),
this.lG=this.va,this.mG=this.Ca,q.kc&&q.kc.qP(),q.nF.v(this.xs())}else q.log("should set resolutionPolicy")}},Ap:function(){return q.size(this.Bo.width,this.Bo.height)},Uaa:function(a){this.Da=a},bX:function(a,c,d,e){var f=this.Uz,g=this.va,k=this.Ca;q.$.viewport(a*g*f+this.af.x*f,c*k*f+this.af.y*f,d*g*f,e*k*f)},BD:function(a,c,d,e){var f=this.Uz,g=this.va,k=this.Ca;q.$.scissor(a*g*f+this.af.x*f,c*k*f+this.af.y*f,d*g*f,e*k*f)},NT:function(){var a=q.$;return a.isEnabled(a.SCISSOR_TEST)},JS:function(){var a=
q.$,c=this.va,d=this.Ca,a=a.getParameter(a.SCISSOR_BOX);return q.rect((a[0]-this.af.x)/c,(a[1]-this.af.y)/d,a[2]/c,a[3]/d)},bba:function(a){null!=a&&0<a.length&&(this.yB=a)},h6:function(){return this.yB},i6:function(){return this.af},HS:function(){return this.va},IS:function(){return this.Ca},H3:function(){return this.Qq},ck:function(a,c,d){return{x:this.Qq*(a-d.left),y:this.Qq*(d.top+d.height-c)}},eT:function(a,c,d,e){for(var f=[],g=this.af,k=this.va,h=this.Ca,l=0;l<a;++l){var m=c[l],n=d[l],p=e[l],
t=0;if(null==q.tq[m])if(t=this.qO(),-1==t)q.log("The touches is more than MAX_TOUCHES, nUnusedIndex \x3d "+t);else{var u=q.vu[t]=new q.of;u.HD(t,(n-g.x)/k,(p-g.y)/h);q.tq[m]=0|t;f.push(u)}}0!==f.length&&this.Da.Lx(f,null)},hT:function(a,c,d,e){for(var f=[],g=this.va,k=this.Ca,h=this.af.x,l=this.af.y,m=0;m<a;++m){var n=d[m],p=e[m],t=q.tq[c[m]];if(null!=t){var u=q.vu[t];if(u)u.HD(t,(n-h)/g,(p-l)/k),f.push(u);else return}}0!=f.length&&this.Da.Mx(f,null)},gT:function(a,c,d,e){var f=[];this.qI(f,a,c,d,
e);this.Da.ft(f,null)},fT:function(a,c,d,e){var f=[];this.qI(f,a,c,d,e);this.Da.YD(f,null)},qI:function(a,c,d,e,f){for(var g=this.va,k=this.Ca,h=this.af,l=0;l<c;++l){var m=d[l],n=e[l],p=f[l],t=q.tq[m];if(null!=t){var u=q.vu[t];if(u)u.HD(t,(n-h.x)/g,(p-h.y)/k),a.push(u),q.vu[t]=null,this.oP(t),delete q.tq[m];else break}}},Lx:function(a){for(var c=[],d=[],e=[],f=0,g,k=0;k<a.length;k++)g=a[k],c[f]=g.Mf||k,d[f]=g.S.x,e[f]=g.S.y,++f;this.eT(f,c,d,e)},Mx:function(a){for(var c=[],d=[],e=[],f=0,g,k=0;k<a.length;k++)g=
a[k],c[f]=g.Mf||k,d[f]=g.S.x,e[f]=g.S.y,++f;this.hT(f,c,d,e)},ft:function(a){for(var c=[],d=[],e=[],f=0,g,k=0;k<a.length;k++)g=a[k],c[f]=g.Mf||k,d[f]=g.S.x,e[f]=g.S.y,++f;this.gT(f,c,d,e)},YD:function(a){for(var c=[],d=[],e=[],f=0,g,k=0;k<a.length;k++)g=a[k],c[f]=g.Mf||k,d[f]=g.S.x,e[f]=g.S.y,++f;this.fT(f,c,d,e)}});q.oa.f=function(){this.Lb||(q.ca.f(),this.Lb=this.Lb||new q.oa,this.Lb.CT());return this.Lb};
q.$g=q.La.extend({uF:!1,tn:function(){if("iOS"==s.EJ||"OS X"==s.EJ)this.uF=!0},apply:function(){},sn:function(){},WA:function(a,c,d){var e=a.Kk;q.Ja.ej&&e==document.documentElement&&q.Ny.f().TQ(e);var e=q.canvas,f=q.bk;f.style.width=e.style.width=c+"px";f.style.height=e.style.height=d+"px";f=a.Qq=1;this.uF&&(f=a.Qq=window.devicePixelRatio||1);e.width=c*f;e.height=d*f;a=document.body;var g;a&&(g=a.style)&&(g.paddingTop=g.paddingTop||"0px",g.paddingRight=g.paddingRight||"0px",g.paddingBottom=g.paddingBottom||
"0px",g.paddingLeft=g.paddingLeft||"0px",g.borderTop=g.borderTop||"0px",g.borderRight=g.borderRight||"0px",g.borderBottom=g.borderBottom||"0px",g.borderLeft=g.borderLeft||"0px",g.marginTop=g.marginTop||"0px",g.marginRight=g.marginRight||"0px",g.marginBottom=g.marginBottom||"0px",g.marginLeft=g.marginLeft||"0px")},MF:function(){document.body.insertBefore(q.bk,document.body.firstChild);var a=document.body.style;a.width=window.innerWidth+"px";a.height=window.innerHeight+"px";a.overflow="hidden";a=q.bk.style;
a.position="fixed";a.left=a.top="0px";document.body.scrollTop=0}});q.Ne=q.La.extend({NA:{scale:[1,1],viewport:null},Dq:function(a,c,d,e,f,g){2>Math.abs(a-d)&&(d=a);2>Math.abs(c-e)&&(e=c);a=q.rect(Math.round((a-d)/2),Math.round((c-e)/2),d,e);q.Kd==q.ng&&q.$.translate(a.x,a.y+e);this.NA.scale=[f,g];this.NA.viewport=a;return this.NA},tn:function(){},apply:function(){return{scale:[1,1]}},sn:function(){}});
(function(){var a=q.$g.extend({apply:function(a){this.WA(a,a.Dd.width,a.Dd.height)}}),c=q.$g.extend({apply:function(a,c){var d=a.Dd.width,e=a.Dd.height,f=q.bk.style,n=c.width,p=c.height,t=d/n,u=e/p,w,D;t<u?(w=d,D=p*t):(w=n*u,D=e);n=Math.round((d-w)/2);D=Math.round((e-D)/2);this.WA(a,d-2*n,e-2*D);f.marginLeft=n+"px";f.marginRight=n+"px";f.marginTop=D+"px";f.marginBottom=D+"px"}});a.extend({tn:function(a){this._super(a);a.Kk=document.documentElement},apply:function(a){this._super(a);this.MF()}});c.extend({tn:function(a){this._super(a);
a.Kk=document.documentElement},apply:function(a,c){this._super(a,c);this.MF()}});var d=q.$g.extend({apply:function(a){this.WA(a,q.canvas.width,q.canvas.height)}});q.$g.xt=new a;q.$g.SM=new c;q.$g.AZ=new d;var a=q.Ne.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height;return this.Dq(d,e,d,e,d/c.width,e/c.height)}}),c=q.Ne.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=c.width,n=c.height,p=d/f,t=e/n,u=0,w,D;p<t?(u=p,w=d,D=n*u):(u=t,w=f*u,D=e);return this.Dq(d,e,
w,D,u,u)}}),d=q.Ne.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=c.width,n=c.height,p=d/f,t=e/n,u,w,D;p<t?(u=t,w=f*u,D=e):(u=p,w=d,D=n*u);return this.Dq(d,e,w,D,u,u)}}),e=q.Ne.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=e/c.height;return this.Dq(d,e,d,e,f,f)},sn:function(a){q.ca.f().Yb=a.xs()}}),f=q.Ne.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=d/c.width;return this.Dq(d,e,d,e,f,f)},sn:function(a){q.ca.f().Yb=a.xs()}});q.Ne.my=
new a;q.Ne.SHOW_ALL=new c;q.Ne.By=new d;q.Ne.ny=new e;q.Ne.oy=new f})();q.Zn=q.La.extend({Vu:null,Wu:null,ctor:function(a,c){this.ZV(a);this.bW(c)},tn:function(a){this.Vu.tn(a);this.Wu.tn(a)},apply:function(a,c){this.Vu.apply(a,c);return this.Wu.apply(a,c)},sn:function(a){this.Vu.sn(a);this.Wu.sn(a)},ZV:function(a){a instanceof q.$g&&(this.Vu=a)},bW:function(a){a instanceof q.Ne&&(this.Wu=a)}});q.Ny=q.La.extend({Tr:!1,Ek:"",xA:null,yA:null,nB:"",v:function(){var a=["webkit","moz","o","ms","khtml"],c=document.body;if(c.requestFullScreen)this.Tr=!0;else for(var d=0,e=a.length,f;d<e;d++)if(f=a[d],c[f+"RequestFullScreen"]){this.Tr=!0;this.Ek=f;break}this.nB="ontouchstart"in window?"touchstart":"mousedown"},fullScreen:function(){var a=document;if(this.Tr)switch(this.Ek){case "":return a.fullScreen;case "webkit":return a.webkitIsFullScreen;default:return a[this.Ek+"FullScreen"]}return!1},ZJ:function(a,
c){if(this.Tr&&!this.fullScreen()){if(c){var d=this.Ek+"fullscreenchange";this.xA&&this.yA&&this.xA.removeEventListener(d,this.yA);this.xA=a;this.yA=c;a.addEventListener(d,c,!1)}return""===this.Ek?a.requestFullScreen():a[this.Ek+"RequestFullScreen"]()}},y2:function(){if(this.Tr&&this.fullScreen())return""===this.Ek?document.body.cancelFullScreen():document.body[this.Ek+"CancelFullScreen"]()},TQ:function(a,c){function d(){e.ZJ(a,c);a.removeEventListener(e.nB,d)}var e=this;this.ZJ(a,c);a.addEventListener(this.nB,
d)}});q.Ny.f=function(){if(!this.Lb){var a=new q.Ny;a.v();this.Lb=a}return this.Lb};q.nF={bi:q.Fd(),sh:q.Fd(),ai:q.Fd(),Ei:q.Fd(),Fi:q.Fd(),Di:q.Fd(),uz:q.Fd(),Pi:q.Fd(),Wh:q.Fd(),Ha:0,ya:0,v:function(a){this.Ha=a.width;this.ya=a.height;a=this.Ha;var c=this.ya;this.bi.N=c;this.sh.I=a;this.sh.N=c;this.ai.I=a/2;this.ai.N=c;this.Fi.I=a;this.Di.I=a/2;this.uz.I=a/2;this.uz.N=c/2;this.Pi.N=c/2;this.Wh.I=a;this.Wh.N=c/2},ys:function(){return this.Ha},vs:function(){return this.ya},Xba:function(){return this.bi},Yba:function(){return this.sh},top:function(){return this.ai},j1:function(){return this.Ei},
k1:function(){return this.Fi},bottom:function(){return this.Di},y1:function(){return this.uz},left:function(){return this.Pi},right:function(){return this.Wh}};q.Gx=function(a){var c;if(a&&0!=a.length){var d=a.indexOf("{"),e=a.indexOf("}");-1==d||-1==e||d>e||(a=a.substr(d+1,e-d-1),0!=a.length&&(d=a.indexOf("}"),-1==a.indexOf("{")&&-1==d&&(c=a.split(","))))}return c};q.YE=function(a){var c=q.rd();if(a){var d=a.indexOf("{")+1,e=a.lastIndexOf("}",a.length);-1!=d&&-1!=e&&(a=a.substring(d,e),d=a.indexOf("}"),-1!=d&&(d=a.indexOf(",",d),-1!=d&&(c=q.Gx(a.substr(0,d)),a=q.Gx(a.substr(d+1,a.length-d)),c=q.rect(parseFloat(c[0]),parseFloat(c[1]),parseFloat(a[0]),parseFloat(a[1])))))}return c};
q.XE=function(a){var c=q.tj();try{if(""==a)return c;var d=q.Gx(a),c=q.a(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};q.Oy=function(a){var c=q.$l();try{if(""==a)return c;var d=q.Gx(a),c=q.size(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};q.aY=function(a,c,d,e,f,g){this.K=a;this.k=c;this.Ka=d;this.d=e;this.eb=f;this.fb=g};q.O_=function(a,c,d,e,f,g){return{K:a,k:c,Ka:d,d:e,eb:f,fb:g}};q.dY=function(a,c,d,e,f,g){return{K:a,k:c,Ka:d,d:e,eb:f,fb:g}};q.P_=function(a,c){return{x:c.K*a.x+c.Ka*a.y+c.eb,y:c.k*a.x+c.d*a.y+c.fb}};q.WE=function(a,c){return{x:c.K*a.x+c.Ka*a.y+c.eb,y:c.k*a.x+c.d*a.y+c.fb}};q.Bk=function(a,c,d){return{x:d.K*a+d.Ka*c+d.eb,y:d.k*a+d.d*c+d.fb}};
q.Q_=function(a,c){return{width:c.K*a.width+c.Ka*a.height,height:c.k*a.width+c.d*a.height}};q.j_=function(a,c){return{width:c.K*a.width+c.Ka*a.height,height:c.k*a.width+c.d*a.height}};q.eY=function(){return{K:1,k:0,Ka:0,d:1,eb:0,fb:0}};q.cY=function(){return{K:1,k:0,Ka:0,d:1,eb:0,fb:0}};
q.Jf=function(a,c){var d=q.Dl(a),e=q.Cl(a),f=q.un(a),g=q.vn(a),k=q.Bk(e,d,c),d=q.Bk(f,d,c),e=q.Bk(e,g,c),h=q.Bk(f,g,c),f=Math.min(k.x,d.x,e.x,h.x),g=Math.max(k.x,d.x,e.x,h.x),l=Math.min(k.y,d.y,e.y,h.y),k=Math.max(k.y,d.y,e.y,h.y);return q.rect(f,l,g-f,k-l)};
q.Ai=function(a,c){var d=q.Dl(a),e=q.Cl(a),f=q.un(a),g=q.vn(a),k=q.Bk(e,d,c),d=q.Bk(f,d,c),e=q.Bk(e,g,c),h=q.Bk(f,g,c),f=Math.min(k.x,d.x,e.x,h.x),g=Math.max(k.x,d.x,e.x,h.x),l=Math.min(k.y,d.y,e.y,h.y),k=Math.max(k.y,d.y,e.y,h.y);a.x=f;a.y=l;a.width=g-f;a.height=k-l;return a};q.Vx=function(a,c,d){return{K:a.K,k:a.k,Ka:a.Ka,d:a.d,eb:a.eb+a.K*c+a.Ka*d,fb:a.fb+a.k*c+a.d*d}};q.fY=function(a,c,d){return{K:a.K*c,k:a.k*c,Ka:a.Ka*d,d:a.d*d,eb:a.eb,fb:a.fb}};
q.KL=function(a){var c=Math.sin(1.57079633),d=Math.cos(1.57079633);return{K:a.K*d+a.Ka*c,k:a.k*d+a.d*c,Ka:a.Ka*d-a.K*c,d:a.d*d-a.k*c,eb:a.eb,fb:a.fb}};q.Sl=function(a,c){return{K:a.K*c.K+a.k*c.Ka,k:a.K*c.k+a.k*c.d,Ka:a.Ka*c.K+a.d*c.Ka,d:a.Ka*c.k+a.d*c.d,eb:a.eb*c.K+a.fb*c.Ka+c.eb,fb:a.eb*c.k+a.fb*c.d+c.fb}};q.bY=function(a,c){return a.K===c.K&&a.k===c.k&&a.Ka===c.Ka&&a.d===c.d&&a.eb===c.eb&&a.fb===c.fb};
q.kE=function(a){var c=1/(a.K*a.d-a.k*a.Ka);return{K:c*a.d,k:-c*a.k,Ka:-c*a.Ka,d:c*a.K,eb:c*(a.Ka*a.fb-a.d*a.eb),fb:c*(a.k*a.eb-a.K*a.fb)}};q.ME=parseFloat("1.192092896e-07F");q.VC=function(a){return q.a(-a.x,-a.y)};q.Rg=function(a,c){return q.a(a.x+c.x,a.y+c.y)};q.Jd=function(a,c){return q.a(a.x-c.x,a.y-c.y)};q.jj=function(a,c){return q.a(a.x*c,a.y*c)};q.UC=function(a,c){return q.jj(q.Rg(a,c),0.5)};q.Rp=function(a,c){return a.x*c.x+a.y*c.y};q.H8=function(a,c){return a.x*c.y-a.y*c.x};q.$w=function(a){return q.a(-a.y,a.x)};q.P8=function(a){return q.a(a.y,-a.x)};q.O8=function(a,c){return q.jj(c,q.Rp(a,c)/q.Rp(c,c))};
q.Q8=function(a,c){return q.a(a.x*c.x-a.y*c.y,a.x*c.y+a.y*c.x)};q.V8=function(a,c){return q.a(a.x*c.x+a.y*c.y,a.y*c.x-a.x*c.y)};q.GJ=function(a){return q.Rp(a,a)};q.I8=function(a,c){return q.GJ(q.Jd(a,c))};q.SC=function(a){return Math.sqrt(q.GJ(a))};q.RC=function(a,c){return q.SC(q.Jd(a,c))};q.Fh=function(a){return q.jj(a,1/q.SC(a))};q.J8=function(a){return q.a(Math.cos(a),Math.sin(a))};q.U8=function(a){return Math.atan2(a.y,a.x)};q.ls=function(a,c,d){if(c>d){var e=c;c=d;d=e}return a<c?c:a<d?a:d};
q.FJ=function(a){var c=q.a(0,0),d=q.a(1,1);return q.a(q.ls(a.x,c.x,d.x),q.ls(a.y,c.y,d.y))};q.uU=function(){var a=q.ca.f().Yb;return q.a(a.width,a.height)};q.G8=function(a,c){return q.a(c(a.x),c(a.y))};q.HJ=function(a,c,d){return q.Rg(q.jj(a,1-d),q.jj(c,d))};q.K8=function(a,c,d){return a.x-d<=c.x&&c.x<=a.x+d&&a.y-d<=c.y&&c.y<=a.y+d?!0:!1};q.F8=function(a,c){return q.a(a.x*c.x,a.y*c.y)};q.E8=function(a,c){var d=q.Fh(a),e=q.Fh(c),d=Math.atan2(d.x*e.y-d.y*e.x,q.Rp(d,e));return Math.abs(d)<q.ME?0:d};
q.D8=function(a,c){var d=Math.acos(q.Rp(q.Fh(a),q.Fh(c)));return Math.abs(d)<q.ME?0:d};q.wU=function(a,c,d){a=q.Jd(a,c);var e=Math.cos(d);d=Math.sin(d);var f=a.x;a.x=f*e-a.y*d+c.x;a.y=f*d+a.y*e+c.y;return a};q.TC=function(a,c,d,e,f){if(a.x==c.x&&a.y==c.y||d.x==e.x&&d.y==e.y)return!1;var g=c.x-a.x;c=c.y-a.y;var k=e.x-d.x;e=e.y-d.y;var h=a.x-d.x;a=a.y-d.y;d=e*g-k*c;f.x=k*a-e*h;f.y=g*a-c*h;if(0==d)return 0==f.x||0==f.y?!0:!1;f.x/=d;f.y/=d;return!0};
q.S8=function(a,c,d,e){var f=q.a(0,0);return q.TC(a,c,d,e,f)&&0<=f.x&&1>=f.x&&0<=f.y&&1>=f.y?!0:!1};q.M8=function(a,c,d,e){var f=q.a(0,0);return q.TC(a,c,d,e,f)?(d=q.a(0,0),d.x=a.x+f.x*(c.x-a.x),d.y=a.y+f.x*(c.y-a.y),d):q.tj()};q.R8=function(a,c){return null!=a&&null!=c?a.x==c.x&&a.y==c.y:!1};q.W8=function(a){a.x=0;a.y=0};q.L8=function(a,c){a.x=c.x;a.y=c.y};q.vU=function(a,c){a.x*=c;a.y*=c};q.T8=function(a,c){a.x-=c.x;a.y-=c.y};q.C8=function(a,c){a.x+=c.x;a.y+=c.y};
q.N8=function(a){q.vU(a,1/Math.sqrt(a.x*a.x+a.y*a.y))};q.qca=function(a,c,d,e,f){f+=e;if(!(1>=f)){c*=0.5;for(var g,k=f-1,h=e;h<f;h++){g=2*h;var l=q.a(a[2*h],a[2*h+1]),m;if(0===h)m=q.$w(q.Fh(q.Jd(l,q.a(a[2*(h+1)],a[2*(h+1)+1]))));else if(h===k)m=q.$w(q.Fh(q.Jd(q.a(a[2*(h-1)],a[2*(h-1)+1]),l)));else{m=q.a(a[2*(h-1)],a[2*(h-1)+1]);var n=q.a(a[2*(h+1)],a[2*(h+1)+1]),p=q.Fh(q.Jd(n,l)),t=q.Fh(q.Jd(m,l)),u=Math.acos(q.Rp(p,t));m=u<q.rj(70)?q.$w(q.Fh(q.UC(p,t))):u<q.rj(170)?q.Fh(q.UC(p,t)):q.$w(q.Fh(q.Jd(n,m)))}m=q.jj(m,c);d[2*g]=l.x+m.x;d[2*g+1]=l.y+m.y;d[2*
(g+1)]=l.x-m.x;d[2*(g+1)+1]=l.y-m.y}for(h=0==e?0:e-1;h<k;h++)g=2*h,a=g+2,c=q.Cu(d[2*g],d[2*g+1]),f=q.Cu(d[2*(g+1)],d[2*(g+1)+1]),g=q.Cu(d[2*a],d[2*a]),e=q.Cu(d[2*(a+1)],d[2*(a+1)+1]),c=!q.LX(c.x,c.y,e.x,e.y,f.x,f.y,g.x,g.y),!c.Fs&&(0>c.value||1<c.value)&&(c.Fs=!0),c.Fs&&(d[2*a]=e.x,d[2*a+1]=e.y,d[2*(a+1)]=g.x,d[2*(a+1)+1]=g.y)}};
q.LX=function(a,c,d,e,f,g,k,h){if(a==d&&c==e||f==k&&g==h)return{Fs:!1,value:0};d-=a;e-=c;f-=a;g-=c;k-=a;h-=c;a=Math.sqrt(d*d+e*e);d/=a;e/=a;c=f*d+g*e;g=g*d-f*e;f=c;c=k*d+h*e;h=h*d-k*e;k=c;return g==h?{Fs:!1,value:0}:{Fs:!0,value:(k+(f-k)*h/(h-g))/a}};q.oY=function(a,c){c[2]=c[3]=c[6]=c[7]=c[8]=c[9]=c[11]=c[14]=0;c[10]=c[15]=1;c[0]=a.K;c[4]=a.Ka;c[12]=a.eb;c[1]=a.k;c[5]=a.d;c[13]=a.fb};q.XY=function(a,c){c.K=a[0];c.Ka=a[4];c.eb=a[12];c.k=a[1];c.d=a[5];c.fb=a[13]};q.KE=-1;q.tZ=null;q.uZ=null;q.FV=1;
q.F=q.La.extend({kb:0,pw:0,Dg:0,Xh:0,va:1,Ca:1,u:null,te:0,ue:0,B:null,wa:!0,em:null,Ad:null,Ba:null,Ue:!1,da:null,Mj:!1,xd:q.KE,bH:null,uB:null,Yj:!0,ov:!0,CF:!0,B0:null,Xj:null,XF:null,se:!1,Oc:null,Pf:0,eh:null,Eg:null,WF:!1,xq:!1,Ju:null,Ii:null,kA:!1,Bm:0,Fr:0,hA:function(){this.em=q.Fd();this.Ad=q.Fd();this.Ba=q.Em();this.u=q.Fd();this.B=[];this.Xj={K:1,k:0,Ka:0,d:1,eb:0,fb:0};var a=q.ca.f();this.eh=a.$f();this.Eg=a.Cf();this.WF=!0;this.Ju={K:1,k:0,Ka:0,d:1,eb:0,fb:0};q.VL&&(this.Ii=new q.VL(this))},
v:function(){!1===this.WF&&this.hA();return!0},ug:function(a,c){if(a&&0!==a.length){var d,e=a.length,f;d=q.F.Kf;switch(c){case d.Pg:for(d=0;d<e;d++)(f=a[d])&&f.Pg();break;case d.ae:for(d=0;d<e;d++)(f=a[d])&&f.ae();break;case d.ti:for(d=0;d<e;d++)(f=a[d])&&f.ti();break;case d.Zf:for(d=0;d<e;d++)(f=a[d])&&f.Zf();break;case d.lg:for(d=0;d<e;d++)(f=a[d])&&f.lg();break;case d.Eh:for(d=0;d<e;d++)(f=a[d])&&f.Eh();break;case d.ce:for(d=0;d<e;d++)(f=a[d])&&f.ce();break;default:throw"Unknown callback function";
}}},bb:null,IP:function(){this.Dm();!1===this.Yj&&(this.Yj=this.ov=!0)},JP:function(){!1===this.Yj&&(this.Yj=this.ov=!0)},x5:function(){return this.te},xx:function(a){this.te=a;this.bb()},y5:function(){return this.ue},yx:function(a){this.ue=a;this.bb()},o6:function(){return this.kb},Tv:function(a){this.kb=a},dba:function(a){this.Tv(a);this.da&&this.da.Os(this,a)},e6:function(){return this.pw},TK:function(a){this.pw=a},GS:function(){this.Dg!==this.Xh&&q.log("cc.Node.rotation(): RotationX !\x3d RotationY. Don't know which one to return");
return this.Dg},ux:function(a){this.Dg=this.Xh=a;this.Bm=0.017453292519943295*this.Dg;this.Fr=0.017453292519943295*this.Xh;this.bb()},m5:function(){return this.Dg},vx:function(a){this.Dg=a;this.Bm=0.017453292519943295*this.Dg;this.bb()},n5:function(){return this.Xh},wx:function(a){this.Xh=a;this.Fr=0.017453292519943295*this.Xh;this.bb()},fC:function(){this.va!==this.Ca&&q.log("cc.Node.getScale(): ScaleX !\x3d ScaleY. Don't know which one to return");return this.va},qk:function(a,c){this.va=a;this.Ca=
c||0===c?c:a;this.bb()},HS:function(){return this.va},Wp:function(a){this.va=a;this.bb()},IS:function(){return this.Ca},Dn:function(a){this.Ca=a;this.bb()},l:function(a,c){var d=this.u;2==arguments.length?(d.I=a,d.N=c):1==arguments.length&&(d.I=a.x,d.N=a.y);this.bb()},X4:function(){return this.u},Y4:function(){return this.u.I},Fb:function(a){this.u.I=a;this.bb()},Z4:function(){return this.u.N},Jc:function(a){this.u.N=a;this.bb()},o3:function(){return this.B.length},n3:function(){return this.B},fJ:function(){return this.wa},
G:function(a){this.wa=a;this.bb()},W2:function(){return this.em},D:function(a,c){var d=this.em;if(2===arguments.length){if(a===d.I&&c===d.N)return;d.I=a;d.N=c}else{if(a.x===d.I&&a.y===d.N)return;d.I=a.x;d.N=a.y}var e=this.Ad,f=this.Ba;e.I=f.Ha*d.I;e.N=f.ya*d.N;this.bb()},X2:function(){return this.Ad},c:function(){return this.Ba},Q:function(a,c){var d=this.Ba;if(2===arguments.length){if(a===d.Ha&&c===d.ya)return;d.Ha=a;d.ya=c}else{if(a.width===d.Ha&&a.height===d.ya)return;d.Ha=a.width;d.ya=a.height}var e=
this.Ad,f=this.em;e.I=d.Ha*f.I;e.N=d.ya*f.N;this.bb()},r7:function(){return this.Ue},getParent:function(){return this.da},Ws:function(a){this.da=a},c7:function(){return this.Mj},cj:function(a){a!=this.Mj&&(this.Mj=a,this.bb())},RS:function(){return this.xd},PK:function(a){this.xd=a},getUserData:function(){return this.bH},setUserData:function(a){this.bH=a},c6:function(){return this.uB},Yaa:function(a){this.uB!=a&&(this.uB=a)},O4:function(){return this.Pf},Vp:function(a){this.Pf=a},$f:function(){this.eh||
(this.eh=q.ca.f().$f());return this.eh},PV:function(a){this.eh!=a&&(this.RD(),this.eh=a)},Cf:function(){this.Eg||(this.Eg=q.ca.f().Cf());return this.Eg},QW:function(a){this.Eg!=a&&(this.gt(),this.Eg=a)},ib:function(){var a=q.rect(0,0,this.Ba.Ha,this.Ba.ya);return q.Ai(a,this.cg())},Zf:function(){this.RD();this.gt();this.ug(this.B,q.F.Kf.Zf)},description:function(){return"\x3ccc.Node | Tag \x3d"+this.xd+"\x3e"},iS:function(a){var c=this.B;if(null!=c)for(var d=0;d<c.length;d++){var e=c[d];if(e&&e.xd==
a)return e}return null},g:function(a,c,d){if(!a)throw"cc.Node.addChild(): child must be non-null";a===this?q.log("cc.Node.addChild(): An Node can't be added as a child of itself."):null!==a.da?q.log("cc.Node.addChild(): child already added. It can't be added again"):(c=null!=c?c:a.kb,a.xd=null!=d?d:a.xd,this.DO(a,c),a.da=this,this.Ue&&(a.Pg(),this.kA&&a.ti()))},R:function(a){this.da&&(null==a&&(a=!0),this.da.removeChild(this,a))},oV:function(a){q.log("removeFromParentAndCleanup is deprecated. Use removeFromParent instead");
this.R(a)},removeChild:function(a,c){0!==this.B.length&&(null==c&&(c=!0),-1<this.B.indexOf(a)&&this.fO(a,c),this.bb())},I9:function(a,c){a===q.KE&&q.log("cc.Node.removeChildByTag(): argument tag is an invalid tag");var d=this.iS(a);null==d?q.log("cocos2d: removeChildByTag(tag \x3d "+a+"): child not found!"):this.removeChild(d,c)},A9:function(a){q.log("removeAllChildrenWithCleanup is deprecated. Use removeAllChildren instead");this.ic(a)},ic:function(a){var c=this.B;if(null!=c){null==a&&(a=!0);for(var d=
0;d<c.length;d++){var e=c[d];e&&(this.Ue&&(e.Eh(),e.ae()),a&&e.Zf(),e.Ws(null))}this.B.length=0}},fO:function(a,c){this.Ue&&(a.Eh(),a.ae());c&&a.Zf();a.Ws(null);q.de(this.B,a)},DO:function(a,c){this.se=!0;this.B.push(a);a.Tv(c)},Os:function(a,c){if(!a)throw"cc.Node.reorderChild(): child must be non-null";this.se=!0;a.Vp(q.FV++);a.Tv(c);this.bb()},ce:function(){if(this.se){var a=this.B,c,d,e=a.length,f;for(c=0;c<e;c++){var g=a[c];d=c-1;for(f=a[d];0<=d&&(g.kb<f.kb||g.kb==f.kb&&g.Pf<f.Pf);)a[d+1]=f,
d-=1,f=a[d];a[d+1]=g}this.se=!1}},Wa:function(){},Nx:function(){null!=this.da&&(this.da.Nx(),this.da.transform())},Pg:function(){this.kA=!1;this.Ue=!0;this.ug(this.B,q.F.Kf.Pg);this.ix()},ti:function(){this.kA=!0;this.ug(this.B,q.F.Kf.ti)},Eh:function(){this.ug(this.B,q.F.Kf.Eh)},ae:function(){this.Ue=!1;this.bx();this.ug(this.B,q.F.Kf.ae);this.Ii&&this.Ii.jV()},jx:function(a){if(!a)throw"cc.Node.runAction(): action must be non-null";this.$f().AQ(a,this,!this.Ue);return a},RD:function(){this.$f().VJ(this)},
uX:function(a){this.$f().UJ(a)},wba:function(a){a===q.Pn?q.log("cc.Node.stopActionBy(): argument tag an invalid tag"):this.$f().iV(a,this)},cC:function(a){return a===q.Pn?(q.log("cc.Node.getActionByTag(): argument tag is an invalid tag"),null):this.$f().cC(a,this)},B4:function(){return this.$f().wJ(this)},t8:function(){return this.$f().wJ(this)},IV:function(){this.JV(0)},JV:function(a){this.Cf().cK(this,a,!this.Ue)},cca:function(){this.Cf().aq(this)},jc:function(a,c,d,e){c=c||0;if(!a)throw"cc.Node.schedule(): callback function must be non-null";
if(0>c)throw"cc.Node.schedule(): interval must be positive";d=null==d?q.Zl:d;e=e||0;this.Cf().HV(this,a,c,d,e,!this.Ue)},Ld:function(a,c){this.jc(a,0,0,c)},Yc:function(a){a&&this.Cf().tL(this,a)},gt:function(){this.Cf().sL(this)},ix:function(){this.Cf().xn(this);this.$f().xn(this)},bx:function(){this.Cf().Ns(this);this.$f().Ns(this)},l$:function(a){this.Ju=a;this.xq=this.Yj=!0},Z8:function(){this.ov&&(this.XF=q.kE(this.cg()),this.ov=!1);return this.XF},nn:function(){for(var a=this.cg(),c=this.da;null!=
c;c=c.getParent())a=q.Sl(a,c.cg());return a},NX:function(){return q.kE(this.nn())},Ma:function(a){return q.WE(a,this.NX())},fl:function(a){return q.WE(a,this.nn())},uR:function(a){return q.Jd(this.Ma(a),this.Ad)},P1:function(a){a=q.Rg(a,this.Ad);return this.fl(a)},V_:function(a){a=this.fl(a);return q.ca.f().vR(a)},hi:function(a){return this.Ma(a.S)},Q1:function(a){a=a.S;a=q.ca.f().tR(a);return this.uR(a)},update:function(a){this.Ii&&!this.Ii.Y6()&&this.Ii.Aa(a)},lg:function(){this.ug(this.B,q.F.Kf.lg)},
aK:function(){},TJ:function(){},jS:function(a){return this.Ii.jS(a)},I0:function(a){this.Ii.add(a)},J9:function(a){return this.Ii.remove(a)},B9:function(){this.Ii.jV()},PG:null,hB:null,dA:null,ro:null,Mk:null,ctor:null,Nh:function(){this.hA()},Oh:function(){this.hA();var a=new q.Ch;a.Dh[2]=a.Dh[3]=a.Dh[6]=a.Dh[7]=a.Dh[8]=a.Dh[9]=a.Dh[11]=a.Dh[14]=0;a.Dh[10]=a.Dh[15]=1;this.PG=a;this.dA=0;this.hB=new q.Ch},Aa:null,Rm:function(a){if(this.wa){a=a||q.$;var c,d=this.B,e;a.save();this.transform(a);var f=
d.length;if(0<f){this.ce();for(c=0;c<f;c++)if(e=d[c],0>e.kb)e.Aa(a);else break;for(this.Wa(a);c<f;c++)d[c].Aa(a)}else this.Wa(a);this.Pf=0;a.restore()}},Sm:function(){if(this.wa){var a=q.$,c,d=q.AR;d.stack.push(d.top);q.K7(this.hB,d.top);d.top=this.hB;var e=this.Mk;e&&e.yN&&e.HB();this.transform();var f=this.B;if(f&&0<f.length){var g=f.length;this.ce();for(c=0;c<g;c++)if(f[c]&&0>f[c].kb)f[c].Aa();else break;for(this.Wa(a);c<g;c++)f[c]&&f[c].Aa()}else this.Wa(a);this.Pf=0;e&&e.yN&&e.EB(this);d.top=
d.stack.pop()}},transform:null,iQ:function(a){a=a||q.$;var c=q.oa.f(),d=this.cg();a.transform(d.K,d.Ka,d.k,d.d,d.eb*c.va,-d.fb*c.Ca)},jQ:function(){var a=this.PG,c=q.AR.top,d=this.cg(),e=a.Dh;e[0]=d.K;e[4]=d.Ka;e[12]=d.eb;e[1]=d.k;e[5]=d.d;e[13]=d.fb;e[14]=this.pw;q.UT(c,c,a);null==this.ro||null!=this.Mk&&this.Mk.Mp()||(a=this.Ad.I,c=this.Ad.N,0!==a||0!==c?(q.ST(q.qg(a),q.qg(c),0),this.ro.nJ(),q.ST(q.qg(-a),q.qg(-c),0)):this.ro.nJ())},cg:null,TO:function(){this.Xj||(this.Xj={K:1,k:0,Ka:0,d:1,eb:0,
fb:0});if(this.Yj){var a=this.Xj;a.eb=this.u.I;a.fb=this.u.N;var c=1,d=0;this.Dg&&(c=Math.cos(this.Bm),d=Math.sin(this.Bm));a.K=a.d=c;a.k=-d;a.Ka=d;var e=this.va,f=this.Ca,g=this.Ad.I,k=this.Ad.N,h=1E-6>e&&-1E-6<e?1E-6:e,l=1E-6>f&&-1E-6<f?1E-6:f;if(this.te||this.ue){var m=Math.tan(-this.te*Math.PI/180),n=Math.tan(-this.ue*Math.PI/180),p=k*m*h,t=g*n*l;a.K=c+-d*n;a.k=c*m+-d;a.Ka=d+c*n;a.d=d*m+c;a.eb+=c*p+-d*t;a.fb+=d*p+c*t}if(1!==e||1!==f)a.K*=h,a.Ka*=h,a.k*=l,a.d*=l;a.eb+=c*-g*h+-d*k*l;a.fb-=d*-g*
h+c*k*l;this.Mj&&(a.eb+=g,a.fb+=k);this.xq&&(this.Xj=q.Sl(this.Xj,this.Ju),this.xq=!1);this.Yj=!1}return this.Xj},UO:function(){if(this.Yj){var a=this.u.I,c=this.u.N,d=this.Ad.I,e=-d,f=this.Ad.N,g=-f,k=this.va,h=this.Ca;this.Mj&&(a+=d,c+=f);var l=1,m=0,n=1,p=0;if(0!==this.Dg||0!==this.Xh)l=Math.cos(-this.Bm),m=Math.sin(-this.Bm),n=Math.cos(-this.Fr),p=Math.sin(-this.Fr);var t=this.te||this.ue;t||0===d&&0===f||(a+=n*e*k+-m*g*h,c+=p*e*k+l*g*h);a={K:n*k,k:p*k,Ka:-m*h,d:l*h,eb:a,fb:c};t&&(a=q.Sl({K:1,
k:Math.tan(q.rj(this.ue)),Ka:Math.tan(q.rj(this.te)),d:1,eb:0,fb:0},a),0!==d||0!==f)&&(a=q.Vx(a,e,g));this.xq&&(a=q.Sl(a,this.Ju),this.xq=!1);this.Xj=a;this.Yj=!1}return this.Xj},Dm:function(){this.CF=!0;this.da&&this.da.Dm()},dC:function(){this.ro||(this.ro=new q.hq);return this.ro},Y3:function(){return this.Mk},N$:function(a){this.Mk=a},iC:function(){return this.Oc},Vg:function(a){this.Oc=a},X3:function(){return this.dA},M$:function(a){this.dA=a},f3:function(){var a=q.rect(0,0,this.Ba.Ha,this.Ba.ya),
c=this.nn(),a=q.Jf(a,this.nn());if(!this.B)return a;for(var d=this.B,e=0;e<d.length;e++){var f=d[e];f&&f.wa&&(f=f.OF(c))&&(a=q.fx(a,f))}return a},OF:function(a){var c=q.rect(0,0,this.Ba.Ha,this.Ba.ya);a=null==a?this.cg():q.Sl(this.cg(),a);c=q.Jf(c,a);if(!this.B)return c;for(var d=this.B,e=0;e<d.length;e++){var f=d[e];f&&f.wa&&(f=f.OF(a))&&(c=q.fx(c,f))}return c}});
q.Ja.Xc?(b=q.F.prototype,b.ctor=q.F.prototype.Oh,b.bb=q.F.prototype.JP,b.Aa=q.F.prototype.Sm,b.transform=q.F.prototype.jQ,b.cg=q.F.prototype.UO):(b=q.F.prototype,b.ctor=q.F.prototype.Nh,b.bb=q.F.prototype.IP,b.Aa=q.F.prototype.Rm,b.transform=q.F.prototype.iQ,b.cg=q.F.prototype.TO);q.F.create=function(){return new q.F};q.F.Kf={Pg:1,ae:2,Zf:3,ti:4,lg:5,Eh:6,ce:7};
q.Gb=q.F.extend({pb:!0,cc:255,Cg:255,zc:null,re:null,Bd:!1,ke:!1,ctor:function(){q.F.prototype.ctor.call(this);this.Cg=this.cc=255;this.zc=q.zb();this.re=q.zb();this.ke=this.Bd=!1},aj:function(){return this.Cg},lS:function(){return this.cc},ta:function(a){this.cc=this.Cg=a;a=255;var c=this.da;c&&c.pb&&c.ke&&(a=c.cc);this.pd(a)},pd:function(a){this.cc=this.Cg*a/255;if(this.ke){a=this.B;for(var c=0;c<a.length;c++){var d=a[c];d&&d.pb&&d.pd(this.cc)}}},KT:function(){return this.ke},jK:function(a){this.ke!==
a&&((this.ke=a)?this.$q():this.Oz())},$q:function(){var a=255,c=this.da;c&&c.pb&&c.ke&&(a=c.cc);this.pd(a)},Oz:function(){this.cc=this.Cg;for(var a=this.B,c=0;c<a.length;c++){var d=a[c];d&&d.pb&&d.pd(255)}},yd:function(){var a=this.re;return new q.xc(a.q,a.p,a.k)},us:function(){return this.zc},r:function(a){var c=this.zc,d=this.re;c.q=d.q=a.q;c.p=d.p=a.p;c.k=d.k=a.k;a=(a=this.da)&&a.pb&&a.Bd?a.us():q.zb();this.od(a)},od:function(a){var c=this.zc,d=this.re;c.q=0|d.q*a.q/255;c.p=0|d.p*a.p/255;c.k=0|
d.k*a.k/255;if(this.Bd)for(a=this.B,d=0;d<a.length;d++){var e=a[d];e&&e.pb&&e.od(c)}},JT:function(){return this.Bd},iK:function(a){this.Bd!==a&&((this.Bd=a)?this.Zq():this.Nz())},Zq:function(){var a;a=(a=this.da)&&a.pb&&a.Bd?a.us():q.zb();this.od(a)},Nz:function(){var a=this.zc,c=this.re;a.q=c.q;a.p=c.p;a.k=c.k;for(var a=this.B,c=q.zb(),d=0;d<a.length;d++){var e=a[d];e&&e.pb&&e.od(c)}},g:function(a,c,d){q.F.prototype.g.call(this,a,c,d);this.Bd&&this.Zq();this.ke&&this.$q()},Gf:function(){},rl:function(){return!1}});
q.Gb.create=function(){var a=new q.Gb;a.v();return a};q.ee=q.Gb.extend({pb:!0,cG:0,bG:0,qv:0,pv:0,Cj:null,Ra:null,tc:!1,na:null,Cr:0,eA:!1,ctor:function(){q.Gb.prototype.ctor.call(this);this.Cj=q.zb();this.na={src:q.Le,Ob:q.Ke};this.eA=!1},eca:function(){q.log("cc.AtlasNode.updateAtlasValues(): Shall be overridden in subclasses")},yd:function(){return this.tc?this.Cj:q.Gb.prototype.yd.call(this)},Gf:function(a){var c=this.yd();this.tc=a;this.r(c)},rl:function(){return this.tc},ts:function(){return this.na},Fl:function(a,c){this.na=1==arguments.length?
a:{src:a,Ob:c}},Yp:function(a){this.Ra=a},tI:function(){return this.Ra},f5:function(){return this.Cr},uaa:function(a){this.Cr=a},Km:null,Qf:null,SG:null,Tu:null,zT:function(a,c,d,e){if(!a)throw"cc.AtlasNode.initWithTileFile(): title should not be null";a=q.ja.f().pa(a);return this.Pa(a,c,d,e)},Pa:null,nr:function(a,c,d,e){this.qv=c;this.pv=d;this.tc=!0;this.Qf=a;if(!this.Qf)return q.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.Km=this.Qf;this.Pu();this.Cr=e;return!0},
or:function(a,c,d,e){this.qv=c;this.pv=d;this.Cj=q.zb();this.tc=!0;this.na.src=q.Le;this.na.Ob=q.Ke;c=this.re;this.Tu=new Float32Array([c.q/255,c.p/255,c.k/255,this.Cg/255]);this.Ra=new q.co;this.Ra.Pa(a,e);if(!this.Ra)return q.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.Qm();this.ZG();this.Pu();this.Cr=e;this.Vg(q.Mh.f().ui(q.d_));this.SG=q.$.getUniformLocation(this.iC().Kw(),"u_color");return!0},Wa:null,xg:function(a){a=a||q.$;q.Ay(this);q.hk(this.na.src,this.na.Ob);
a.uniform4fv(this.SG,this.Tu);this.Ra.MH(this.Cr,0)},r:null,Hr:function(a){var c=this.re;if(c.q!=a.q||c.p!=a.p||c.k!=a.k){c=new q.xc(a.q,a.p,a.k);this.Cj=a;if(this.tc){var d=this.cc;c.q=c.q*d/255;c.p=c.p*d/255;c.k=c.k*d/255}q.Gb.prototype.r.call(this,a);this.ia()&&(a=this.Qf.sc)&&(c=q.ja.f().uI(a))&&(d=q.rect(0,0,a.width,a.height),a=q.bC(a,c,this.re,d),c=new q.fc,c.ff(a),c.Yd(),this.ma(c))}},RA:function(a){var c=q.xc(a.q,a.p,a.k);this.Cj=a;var d=this.cc;this.tc&&(c.q=c.q*d/255,c.p=c.p*d/255,c.k=c.k*
d/255);q.Gb.prototype.r.call(this,a);a=this.zc;this.Tu=new Float32Array([a.q/255,a.p/255,a.k/255,d/255])},ta:null,Jr:function(a){q.Gb.prototype.ta.call(this,a);this.tc&&this.r(this.Cj)},TA:function(a){q.Gb.prototype.ta.call(this,a);this.tc?this.r(this.Cj):(a=this.zc,this.Tu=new Float32Array([a.q/255,a.p/255,a.k/255,this.cc/255]))},ia:null,aA:function(){return this.Km},bA:function(){return this.Ra.ia()},ma:null,Kr:function(a){this.Km=a},Lr:function(a){this.Ra.ma(a);this.Qm();this.ZG()},Pu:null,ON:function(){var a=
this.ia().c();this.bG=0|a.height/this.pv;this.cG=0|a.width/this.qv},PN:function(){var a=this.ia(),c=a.c();this.eA&&(c=a.Ba);this.bG=0|c.height/this.pv;this.cG=0|c.width/this.qv},Qm:function(){this.Ra.ia().Bs()||(this.na.src=770,this.na.Ob=771)},ZG:function(){this.tc=this.Ra.ia().Bs()},SA:function(a){this.eA=a}});
q.Ja.Xc?(b=q.ee.prototype,b.Pa=q.ee.prototype.or,b.Wa=q.ee.prototype.xg,b.r=q.ee.prototype.RA,b.ta=q.ee.prototype.TA,b.ia=q.ee.prototype.bA,b.ma=q.ee.prototype.Lr,b.Pu=q.ee.prototype.PN):(b=q.ee.prototype,b.Pa=q.ee.prototype.nr,b.Wa=q.F.prototype.Wa,b.r=q.ee.prototype.Hr,b.ta=q.ee.prototype.Jr,b.ia=q.ee.prototype.aA,b.ma=q.ee.prototype.Kr,b.Pu=q.ee.prototype.ON);q.ee.create=function(a,c,d,e){var f=new q.ee;return f.zT(a,c,d,e)?f:null};q.wj=0;q.rq=1;q.qq=2;q.pq=3;q.Ry=4;q.Qy=5;q.pu=6;q.ou=7;q.gF=8;q.fF=9;q.eF=q.wj;q.Gz=q.eF;q.TM=!1;q.A0=function(a,c,d,e){this.aU=a||0;this.ZT=c||0;this.GL=d||0;this.HL=e||0};
q.iN=q.La.extend({XO:null,Rf:null,oh:null,nh:null,oA:null,Ba:null,jh:null,kh:null,Jo:null,pm:!1,Oc:null,Dc:!1,sc:null,fi:null,Td:null,ctor:function(){this.nh=this.oh=0;this.oA="";this.kh=this.jh=0;this.Jo=!1;this.Ba=q.Em();this.pm=!1;this.XO=!0;this.Rf=q.fc.BR();this.Oc=null;this.Dc=!1;this.fi=this.sc=null;this.Td=[]},fD:function(){this.fi&&q.$.deleteTexture(this.fi)},T4:function(){return this.Rf},Fp:function(){return this.oh},Ep:function(){return this.nh},getName:function(){return this.fi},c:function(){return q.size(this.Ba.width/
q.Zc(),this.Ba.height/q.Zc())},kS:function(){return this.Ba},sS:function(){return this.jh},sW:function(a){this.jh=a},tS:function(){return this.kh},tW:function(a){this.kh=a},iC:function(){return this.Oc},Vg:function(a){this.Oc=a},Bs:function(){return this.Jo},jT:function(){return this.pm},description:function(){return"\x3ccc.Texture2D | Name \x3d "+this.oA+" | Dimensions \x3d "+this.oh+" x "+this.nh+" | Coordinates \x3d ("+this.jh+", "+this.kh+")\x3e"},gV:function(){},QT:function(a){return a},Pw:function(a,
c,d,e,f){var g=q.$,k=0,k=c===q.wj?24:this.vH(c),k=d*k/8;0===k%8?g.pixelStorei(g.UNPACK_ALIGNMENT,8):0===k%4?g.pixelStorei(g.UNPACK_ALIGNMENT,4):0===k%2?g.pixelStorei(g.UNPACK_ALIGNMENT,2):g.pixelStorei(g.UNPACK_ALIGNMENT,1);this.fi=g.createTexture();q.Jg(this);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE);
switch(c){case q.wj:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_BYTE,a);break;case q.rq:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_BYTE,a);break;case q.pu:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_4_4_4_4,a);break;case q.ou:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_5_5_5_1,a);break;case q.qq:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_SHORT_5_6_5,a);break;case q.Qy:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE_ALPHA,
d,e,0,g.LUMINANCE_ALPHA,g.UNSIGNED_BYTE,a);break;case q.pq:g.texImage2D(g.TEXTURE_2D,0,g.ALPHA,d,e,0,g.ALPHA,g.UNSIGNED_BYTE,a);break;case q.Ry:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE,d,e,0,g.LUMINANCE,g.UNSIGNED_BYTE,a);break;default:throw"NSInternalInconsistencyException";}this.Ba.Ha=f.width;this.Ba.ya=f.height;this.oh=d;this.nh=e;this.Rf=c;this.jh=f.width/d;this.kh=f.height/e;this.pm=this.Jo=!1;this.Vg(q.Mh.f().ui(q.YM));return this.Dc=!0},PR:function(a){var c=[0,this.kh,this.jh,this.kh,0,0,this.jh,
0],d=this.oh*this.jh,e=this.nh*this.kh;a=[a.x,a.y,0,d+a.x,a.y,0,a.x,e+a.y,0,d+a.x,e+a.y,0];q.Be(q.dh|q.rN);this.Oc.nf();this.Oc.SK();q.Jg(this);d=q.$;d.vertexAttribPointer(q.Oe,2,d.FLOAT,!1,0,a);d.vertexAttribPointer(q.vq,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},RR:function(a){var c=[0,this.kh,this.jh,this.kh,0,0,this.jh,0];a=[a.x,a.y,a.x+a.width,a.y,a.x,a.y+a.height,a.x+a.width,a.y+a.height];q.Be(q.dh|q.rN);this.Oc.nf();this.Oc.SK();q.Jg(this);var d=q.$;d.vertexAttribPointer(q.Oe,2,
d.FLOAT,!1,0,a);d.vertexAttribPointer(q.vq,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},vC:function(a){if(null==a)return q.log("cocos2d: cc.Texture2D. Can't create Texture. UIImage is nil"),!1;var c=a.ys(),d=a.vs(),e=q.Me.f().wr;if(c>e||d>e)return q.log("cocos2d: WARNING: Image ("+c+" x "+d+") is bigger than the supported "+e+" x "+e),!1;this.Dc=!0;return this.uO(a,c,d)},ff:function(a){a&&(this.fi=q.$.createTexture(),this.sc=a)},nS:function(){return this.sc},Mg:function(){return this.Dc},
Yd:function(){this.Dc=!0;var a=q.$;q.Jg(this);a.pixelStorei(a.UNPACK_ALIGNMENT,4);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,this.sc);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);this.Vg(q.Mh.f().ui(q.YM));q.Jg(null);a=this.sc.height;this.oh=this.Ba.Ha=this.sc.width;this.nh=this.Ba.ya=
a;this.Rf=q.wj;this.kh=this.jh=1;this.pm=this.Jo=!1;this.je()},pl:function(a,c,d,e,f,g){3==arguments.length&&(c=arguments[1],d=arguments[2],e=q.size(0,0),f=q.xj,g=q.Bu);var k=new q.nM,h;if(q.Bu===g)h=q.xj===f?q.WX:q.sq===f?q.XX:q.YX;else if(q.Au===g)h=q.xj===f?q.TX:q.sq===f?q.UX:q.VX;else if(q.zu===g)h=q.xj===f?q.QX:q.sq===f?q.RX:q.SX;else return q.log("Not supported alignment format!"),!1;return k.pl(a,e.width,e.height,h,c,d)?this.vC(k):!1},tT:function(){return!1},LI:function(a){var c=!1,d=new q.w_;
(c=d.C6(a))?(d.Aaa(!0),this.oA=d.getName(),this.kh=this.jh=1,this.oh=d.ys(),this.nh=d.vs(),this.Ba.Ha=this.oh,this.Ba.ya=this.nh,this.Jo=q.TM,this.Rf=d.V3(),this.fK()):q.log("cocos2d: Couldn't load PVR image "+a);return c},xT:function(){return q.Me.f().Vr?!0:(q.log("cocos2d: WARNING: PVRTC images is not supported."),!1)},VW:function(a){var c=q.$;q.ot(this.oh==q.Wn(this.oh)&&this.nh==q.Wn(this.nh)||a.GL==c.CLAMP_TO_EDGE&&a.HL==c.CLAMP_TO_EDGE,"WebGLRenderingContext.CLAMP_TO_EDGE should be used in NPOT textures");
q.Jg(this);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,a.aU);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,a.ZT);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,a.GL);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,a.HL)},fK:function(){var a=q.$;q.Jg(this);this.pm?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},eK:function(){var a=q.$;q.Jg(this);
this.pm?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},generateMipmap:function(){q.ot(this.oh==q.Wn(this.oh)&&this.nh==q.Wn(this.nh),"Mimpap texture only works in POT textures");q.Jg(this);q.$.generateMipmap(q.$.TEXTURE_2D);this.pm=!0},vX:function(){switch(this.Rf){case q.wj:return"RGBA8888";case q.rq:return"RGB888";case q.qq:return"RGB565";case q.pu:return"RGBA4444";
case q.ou:return"RGB5A1";case q.Qy:return"AI88";case q.pq:return"A8";case q.Ry:return"I8";case q.gF:return"PVRTC4";case q.fF:return"PVRTC2";default:q.log("stringForFormat: "+this.Rf+", cannot give useful result, it's a unrecognized pixel format")}return""},vH:function(a){a=a||this.Rf;switch(a){case q.wj:return 32;case q.rq:return 32;case q.qq:return 16;case q.pq:return 8;case q.pu:return 16;case q.ou:return 16;case q.gF:return 4;case q.fF:return 2;case q.Ry:return 8;case q.Qy:return 16;default:return q.log("bitsPerPixelForFormat: "+
this.Rf+", cannot give useful result, it's a illegal pixel format"),-1}},uO:function(a,c,d){var e=a.getData(),f=null,f=null,g=a.t6(),k=q.size(a.ys(),a.vs()),h=q.eF,l=a.d3();g||(8<=l?h=q.rq:(q.log("cocos2d: cc.Texture2D: Using RGB565 texture since image has no alpha"),h=q.qq));var m=c*d;if(h==q.qq)if(g)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>2<<5|(f[l]>>16&255)>>3<<0;else for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]&255)>>3<<
11|(f[l]&255)>>2<<5|(f[l]&255)>>3<<0;else if(h==q.pu)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>4<<12|(f[l]>>8&255)>>4<<8|(f[l]>>16&255)>>4<<4|(f[l]>>24&255)>>4<<0;else if(h==q.ou)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>3<<6|(f[l]>>16&255)>>3<<1|(f[l]>>24&255)>>7<<0;else if(h==q.pq)for(e=new Uint8Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=f>>24&255;if(g&&h==q.rq)for(f=a.getData(),e=new Uint8Array(c*d*3),l=0;l<m;++l)e[3*
l]=f>>0&255,e[3*l+1]=f>>8&255,e[3*l+2]=f>>16&255;this.Pw(e,h,c,d,k);a.getData();this.Jo=a.m7();return!0},Yf:function(a,c){this.Td.push({eventCallback:a,ki:c})},pV:function(a){for(var c=this.Td,d=0;d<c.length;d++)c[d].ki==a&&c.splice(d,1)},je:function(){for(var a=this.Td,c=0,d=a.length;c<d;c++){var e=a[c];e.eventCallback.call(e.ki,this)}a.length=0}});
q.hN=q.La.extend({Ba:null,Dc:!1,sc:null,Td:null,ctor:function(){this.Ba=q.Em();this.Dc=!1;this.sc=null;this.Td=[]},Fp:function(){return this.Ba.Ha},Ep:function(){return this.Ba.ya},c:function(){var a=q.Zc();return q.size(this.Ba.Ha/a,this.Ba.ya/a)},kS:function(){return this.Ba},ff:function(a){a&&(this.sc=a)},nS:function(){return this.sc},Mg:function(){return this.Dc},Yd:function(){this.Dc=!0;var a=this.sc;this.Ba.Ha=a.width;this.Ba.ya=a.height;this.je()},description:function(){return"\x3ccc.Texture2D | width \x3d "+
this.Ba.Ha+" height "+this.Ba.ya+"\x3e"},Pw:function(){return!1},vC:function(){return!1},pl:function(){return!1},fD:function(){},getName:function(){return null},sS:function(){return 1},sW:function(){},tS:function(){return 1},tW:function(){},iC:function(){return null},Vg:function(){},Bs:function(){return!1},jT:function(){return!1},gV:function(){},QT:function(a){return a},PR:function(){},RR:function(){},tT:function(){return!1},LI:function(){return!1},xT:function(){return!0},VW:function(){},fK:function(){},
eK:function(){},generateMipmap:function(){},vX:function(){return""},vH:function(){return-1},Yf:function(a,c){this.Td.push({eventCallback:a,ki:c})},pV:function(a){for(var c=this.Td,d=0;d<c.length;d++)c[d].ki==a&&c.splice(d,1)},je:function(){for(var a=this.Td,c=0,d=a.length;c<d;c++){var e=a[c];e.eventCallback.call(e.ki,this)}a.length=0}});q.fc=q.Ja.Xc?q.iN:q.hN;q.fc.y$=function(a){q.Gz=a};q.fc.BR=function(){return q.Gz};q.fc.B3=function(){return q.Gz};q.ss=null;q.W7=function(a){if(q.rR(a)==q.hM)q.log("unsupported format:"+a);else{var c=new Image;c.src=a;c.addEventListener("load",function(){q.ja.f().VQ(a,c);this.removeEventListener("load",arguments.callee,!1)},!1)}};q.rR=function(a){return 0<a.toLowerCase().indexOf(".jpg")||0<a.toLowerCase().indexOf(".jpeg")?q.TY:0<a.toLowerCase().indexOf(".png")?q.UY:0<a.toLowerCase().indexOf(".webp")?q.WY:q.hM};
q.ja=q.La.extend({Ya:null,Wr:null,cw:null,rG:!1,uv:null,vv:null,ctor:function(){if(q.ss)throw"Attempted to allocate a second instance of a singleton.";this.cw+=0|1E3*Math.random();this.Ya={};this.Wr={};q.Kd===q.zk&&(this.uv={},this.vv={})},jz:function(a,c){if(a&&"string"===typeof c)a[c]();else a&&"function"===typeof c&&c.call(a)},CO:function(){this.rG=!0;var a,c=this.uv,d=this.Ya;for(a in c){var e=c[a],f=new q.fc;f.ff(e);f.Yd();d[a]=f}this.uv={}},P0:function(){q.log("TextureCache:addPVRTCImage does not support on HTML5")},
J0:function(){q.log("TextureCache:addPVRTCImage does not support on HTML5")},description:function(){return"\x3cTextureCache | Number of textures \x3d "+this.Ya.length+"\x3e"},Jx:function(a,c){var d=c?a:q.Nd.f().ze(a);return this.Ya.hasOwnProperty(d)?this.Ya[d]:null},pS:function(a){for(var c in this.Ya)if(this.Ya[c]==a)return c;return null},lO:function(){this.cw++;return"_textureKey_"+this.cw},uI:function(a){var c=this.pS(a);c||(c=a instanceof HTMLImageElement?a.src:this.lO());this.Wr.hasOwnProperty(c)||
(this.Wr[c]=q.yp(a));return this.Wr[c]},O0:function(a){if(!a)throw"cc.TextureCache.addPVRImage(): path should be non-null";a=q.Nd.f().ze(a);if(null!=this.Ya[a])return this.Ya[a];var c=new q.fc;c.LI(a)?this.Ya[a]=c:q.log("cocos2d: Couldn't add PVRImage:"+a+" in TextureCache");return c},E9:function(){var a=this.Ya,c;for(c in a)a[c]&&a[c].fD();this.Ya={}},S9:function(a){if(a){var c=this.Ya,d;for(d in c)c[d]==a&&(c[d].fD(),delete c[d])}},tV:function(a){null!=a&&(a=q.Nd.f().ze(a),this.Ya[a]&&delete this.Ya[a])},
K0:function(a,c,d){if(!a)throw"cc.TextureCache.addImageAsync(): path should be non-null";a=q.Nd.f().ze(a);var e=this.Ya[a],f,g;if(e)e.Mg()?this.jz(c,d):(g=this,f=e.sc,f.addEventListener("load",function(){e.Yd();g.jz(c,d);this.removeEventListener("load",arguments.callee,!1)}));else{f=new Image;f.crossOrigin="Anonymous";g=this;f.addEventListener("load",function(){g.Ya.hasOwnProperty(a)&&g.Ya[a].Yd();g.jz(c,d);this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,
!1)});f.addEventListener("error",function(){q.Qb.f().zl(a);g.Ya.hasOwnProperty(a)&&delete g.Ya[a];this.removeEventListener("error",arguments.callee,!1)});f.src=a;var k=new q.fc;k.ff(f);this.Ya[a]=k}return this.Ya[a]},AN:function(a){var c=new Image;c.crossOrigin="Anonymous";var d=this;c.addEventListener("load",function(){q.Qb.f().eg();d.uv[a]=c;delete d.vv[a];this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});c.addEventListener("error",function(){q.Qb.f().zl(a);
delete d.vv[a];this.removeEventListener("error",arguments.callee,!1)});c.src=a;this.vv[a]=c},pa:function(a,c){if(!a)throw"cc.Texture.addImage(): path should be non-null";if(q.Kd===q.zk&&!this.rG)return this.AN(a);c||(a=q.Nd.f().ze(a));var d=this.Ya[a],e;if(d)d.Mg()?q.Qb.f().eg():(e=d.sc,e.addEventListener("load",function(){d.Yd();q.Qb.f().eg();this.removeEventListener("load",arguments.callee,!1)}));else{e=new Image;e.crossOrigin="Anonymous";var f=this;e.addEventListener("load",function(){q.Qb.f().eg();
f.Ya.hasOwnProperty(a)&&f.Ya[a].Yd();this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});e.addEventListener("error",function(){q.Qb.f().zl(a);f.Ya.hasOwnProperty(a)&&delete f.Ya[a];this.removeEventListener("error",arguments.callee,!1)});e.src=a;var g=new q.fc;g.ff(e);this.Ya[a]=g}return this.Ya[a]},L0:function(a,c,d){if(!a)throw"cc.Texture.addImageFromBase64(): data should be non-null";var e=this,f=new Image;f.src="data:image/"+d+";base64,"+
a;f.addEventListener("load",function(){q.Qb.f().eg();e.Ya.hasOwnProperty(c)&&e.Ya[c].Yd();this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});f.addEventListener("error",function(){q.Qb.f().zl(c);e.Ya.hasOwnProperty(c)&&delete e.Ya[c];this.removeEventListener("error",arguments.callee,!1)});a=new q.fc;a.ff(f);this.Ya[c]=a;return this.Ya[c]},VQ:function(a,c){if(c instanceof q.fc)this.Ya[a]=c;else{var d=new q.fc;d.ff(c);d.Yd();this.Ya[a]=d;q.log(a);
q.log(this.Ya[a])}},U0:function(a,c){if(!a)throw"cc.Texture.addUIImage(): image should be non-null";if(c&&this.Ya.hasOwnProperty(c)&&this.Ya[c])return this.Ya[c];var d=new q.fc;d.vC(a);null!=c&&null!=d?this.Ya[c]=d:q.log("cocos2d: Couldn't add UIImage in TextureCache");return d},m2:function(){var a=0,c=0,d=this.Ya,e;for(e in d){var f=d[e];a++;f.sc instanceof HTMLImageElement?q.log("cocos2d: '"+e+"' id\x3d"+f.sc.src+" "+f.Fp()+" x "+f.Ep()):q.log("cocos2d: '"+e+"' id\x3d HTMLCanvasElement "+f.Fp()+
" x "+f.Ep());c+=f.Fp()*f.Ep()*4}d=this.Wr;for(e in d){var f=d[e],g;for(g in f){var k=f[g];a++;q.log("cocos2d: '"+e+"' id\x3d HTMLCanvasElement "+k.width+" x "+k.height);c+=k.width*k.height*4}}q.log("cocos2d: TextureCache dumpDebugInfo: "+a+" textures, HTMLCanvasElement for "+c/1024+" KB ("+(c/1048576).toFixed(2)+" MB)")}});q.ja.f=function(){q.ss||(q.ss=new q.ja);return q.ss};q.ja.TU=function(){q.ss=null};q.co=q.La.extend({Ed:null,Gi:null,Na:!1,sd:0,Ga:null,Re:null,Ag:null,Dr:null,Bg:null,ctor:function(){this.Gi=[]},U5:function(){return this.Za},l3:function(){return this.sd},ia:function(){return this.Ga},ma:function(a){this.Ga=a},Ug:function(a){this.Na=a},YI:function(){return this.Na},e5:function(){return this.Re},taa:function(a){this.Re=a},W_:function(a,c){if(a)for(var d=0;d<a.length;d++)this.Sv(a[d],c+d)},Sv:function(a,c){var d=this.Re;d[c]?(d[c].Oa=a.Oa,d[c].$a=a.$a,d[c].Xa=a.Xa,d[c].Qa=a.Qa):d[c]=
new q.mc(a.Xa,a.Oa,a.Qa,a.$a,this.Ag,c*q.mc.BYTES_PER_ELEMENT)},description:function(){return"\x3ccc.TextureAtlas | totalQuads \x3d"+this.Za+"\x3e"},EG:function(){if(0!==this.sd)for(var a=this.Ed,c=this.sd,d=0;d<c;d++)q.hF?(a[6*d+0]=4*d+0,a[6*d+1]=4*d+0,a[6*d+2]=4*d+2,a[6*d+3]=4*d+1,a[6*d+4]=4*d+3,a[6*d+5]=4*d+3):(a[6*d+0]=4*d+0,a[6*d+1]=4*d+1,a[6*d+2]=4*d+2,a[6*d+3]=4*d+3,a[6*d+4]=4*d+2,a[6*d+5]=4*d+1)},YP:function(){var a=q.$;this.Gi[0]=a.createBuffer();this.Gi[1]=a.createBuffer();this.Dr=a.createBuffer();
this.eG()},eG:function(){var a=q.$;a.bindBuffer(a.ARRAY_BUFFER,this.Dr);a.bufferData(a.ARRAY_BUFFER,this.Ag,a.DYNAMIC_DRAW);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Gi[1]);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.Ed,a.STATIC_DRAW)},dj:function(a,c){var d=q.ja.f().pa(a);if(d)return this.Pa(d,c);q.log("cocos2d: Could not open file: "+a);return!1},Pa:function(a,c){if(!a)throw"cc.TextureAtlas.initWithTexture():texture should be non-null";this.sd=c|=0;this.Za=0;this.Ga=a;this.Re=[];this.Ed=new Uint16Array(6*
c);var d=q.mc.BYTES_PER_ELEMENT;this.Ag=new ArrayBuffer(d*c);this.Bg=new Uint8Array(this.Ag);if((!this.Re||!this.Ed)&&0<c)return!1;for(var e=this.Re,f=0;f<c;f++)e[f]=new q.mc(null,null,null,null,this.Ag,f*d);this.EG();this.YP();return this.Na=!0},Px:function(a,c){if(!a)throw"cc.TextureAtlas.updateQuad(): quad should be non-null";if(0>c||c>=this.sd)throw"cc.TextureAtlas.updateQuad(): Invalid index";this.Za=Math.max(c+1,this.Za);this.Sv(a,c);this.Na=!0},BC:function(a,c){if(c>=this.sd)throw"cc.TextureAtlas.insertQuad(): Invalid index";
this.Za++;if(this.Za>this.sd)q.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");else{var d=q.mc.BYTES_PER_ELEMENT,e=c*d,f=(this.Za-1-c)*d;this.Re[this.Za-1]=new q.mc(null,null,null,null,this.Ag,(this.Za-1)*d);this.Bg.set(this.Bg.subarray(e,e+f),e+d);this.Sv(a,c);this.Na=!0}},I6:function(a,c,d){d=d||a.length;if(c+d>this.sd)throw"cc.TextureAtlas.insertQuad(): Invalid index + amount";var e=q.mc.BYTES_PER_ELEMENT;this.Za+=d;if(this.Za>this.sd)q.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");
else{var f=c*e,g=(this.Za-1-c-d)*e,k=this.Za-1-d,h;for(h=0;h<d;h++)this.Re[k+h]=new q.mc(null,null,null,null,this.Ag,(this.Za-1)*e);this.Bg.set(this.Bg.subarray(f,f+g),f+e*d);for(h=0;h<d;h++)this.Sv(a[h],c+h);this.Na=!0}},H6:function(a,c){if(a!==c){if(0>c&&c>=this.Za)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid newIndex";if(0>a&&a>=this.Za)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid fromIndex";var d=q.mc.BYTES_PER_ELEMENT,e=this.Bg,f=e.subarray(a*d,d),g;a>c?(g=c*d,e.set(e.subarray(g,
g+(a-c)*d),g+d),e.set(f,g)):(g=(a+1)*d,e.set(e.subarray(g,g+(c-a)*d),g-d),e.set(f,c*d));this.Na=!0}},rV:function(a){if(a>=this.Za)throw"cc.TextureAtlas.removeQuadAtIndex(): Invalid index";var c=q.mc.BYTES_PER_ELEMENT;this.Za--;this.Re.length=this.Za;if(a!==this.Za){var d=(a+1)*c;this.Bg.set(this.Bg.subarray(d,d+(this.Za-a)*c),d-c)}this.Na=!0},L9:function(a,c){if(a+c>this.Za)throw"cc.TextureAtlas.removeQuadsAtIndex(): index + amount out of bounds";this.Za-=c;if(a!==this.Za){var d=q.mc.BYTES_PER_ELEMENT,
e=(a+c)*d;this.Bg.set(this.Bg.subarray(e,e+(this.Za-a)*d),a*d)}this.Na=!0},lV:function(){this.Za=this.Re.length=0},v0:function(a){this.Na=a},wV:function(a){if(a==this.sd)return!0;var c=q.mc.BYTES_PER_ELEMENT,d=this.sd;this.Za=Math.min(this.Za,a);var e=this.sd=0|a,f=this.Za;if(null==this.Re)for(this.Re=[],this.Ag=new ArrayBuffer(c*e),this.Bg=new Uint8Array(this.Ag),a=0;a<e;a++)this.Re=new q.mc(null,null,null,null,this.Ag,a*c);else{var g,k,h=this.Re;if(e>d){g=[];k=new ArrayBuffer(c*e);for(a=0;a<f;a++)g[a]=
new q.mc(h[a].Xa,h[a].Oa,h[a].Qa,h[a].$a,k,a*c);for(;a<e;a++)g[a]=new q.mc(null,null,null,null,k,a*c)}else for(f=Math.max(f,e),g=[],k=new ArrayBuffer(c*e),a=0;a<f;a++)g[a]=new q.mc(h[a].Xa,h[a].Oa,h[a].Qa,h[a].$a,k,a*c);this.Bg=new Uint8Array(k);this.Re=g;this.Ag=k}null==this.Ed?this.Ed=new Uint16Array(6*e):e>d?(c=new Uint16Array(6*e),c.set(this.Ed,0),this.Ed=c):this.Ed=this.Ed.subarray(0,6*e);this.EG();this.eG();return this.Na=!0},z6:function(a){this.Za+=a},e8:function(a,c,d){if(2==arguments.length){d=
c;c=this.Za-a;if(d+(this.Za-a)>this.sd)throw"cc.TextureAtlas.moveQuadsFromIndex(): move is out of bounds";if(0===c)return}else{if(d+c>this.Za)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid newIndex";if(a>=this.Za)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid oldIndex";if(a==d)return}var e=q.mc.BYTES_PER_ELEMENT,f=a*e,g=c*e,k=this.Bg,h=k.subarray(f,f+g),l=d*e,m;d<a?(m=d*e,k.set(k.subarray(m,m+(a-d)*e),m+g)):(m=(a+c)*e,k.set(k.subarray(m,m+(d-a)*e),f));k.set(h,l);this.Na=!0},L2:function(a,
c){for(var d=c*q.mc.BYTES_PER_ELEMENT,e=new Uint8Array(this.Ag,a*q.mc.BYTES_PER_ELEMENT,d),f=0;f<d;f++)e[f]=0},MH:function(a,c){c=c||0;if(0!==a&&this.Ga&&this.Ga.Mg()){var d=q.$;q.Jg(this.Ga);q.Be(q.xu);d.bindBuffer(d.ARRAY_BUFFER,this.Dr);this.Na&&d.bufferData(d.ARRAY_BUFFER,this.Ag,d.DYNAMIC_DRAW);d.vertexAttribPointer(q.Oe,3,d.FLOAT,!1,24,0);d.vertexAttribPointer(q.uq,4,d.UNSIGNED_BYTE,!0,24,12);d.vertexAttribPointer(q.vq,2,d.FLOAT,!1,24,16);this.Na&&(this.Na=!1);d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,
this.Gi[1]);q.hF?d.drawElements(d.TRIANGLE_STRIP,6*a,d.UNSIGNED_SHORT,6*c*this.Ed.BYTES_PER_ELEMENT):d.drawElements(d.TRIANGLES,6*a,d.UNSIGNED_SHORT,6*c*this.Ed.BYTES_PER_ELEMENT);q.zh++}},SR:function(){this.MH(this.Za,0)},s0:function(){var a=q.$;this.Gi&&(this.Gi[0]&&a.deleteBuffer(this.Gi[0]),this.Gi[1]&&a.deleteBuffer(this.Gi[1]));this.Dr&&a.deleteBuffer(this.Dr)}});q.co.create=function(a,c){var d=new q.co;return d&&d.dj(a,c)?d:null};q.co.Sa=function(a,c){var d=new q.co;return d&&d.Pa(a,c)?d:null};q.nq=q.F.extend({ctor:function(){q.F.prototype.ctor.call(this);this.Mj=!0;this.D(0.5,0.5);this.Q(q.ca.f().Yb)}});q.nq.create=function(){return new q.nq};q.Sy=0;q.o_=1;
q.Kc=q.F.extend({Qk:!1,Pk:!1,Lo:!1,cl:0,ds:q.Sy,sm:!1,To:0,ctor:function(){q.F.prototype.ctor.call(this);this.Lo=this.Pk=this.Qk=!1;this.cl=0;this.ds=q.Sy;this.sm=!1;this.To=0},tO:function(){this.D(0.5,0.5);this.Mj=!0;var a=q.ca.f();this.Q(a.Yb)},v:function(){q.F.prototype.v.call(this);this.tO();return!0},gx:function(){this.ds===q.Sy?q.fV(this,this.cl):q.cD(this.cl,!0,this)},f7:function(){return this.sm},px:function(a){if(!q.he)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.sm!=
a&&(this.sm=a,this.Ue&&(a?q.ca.f().Bf().mH(this,this.To):q.ca.f().Bf().WJ(this)))},eaa:function(a){if(!q.he)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.To!==a&&(this.To=a,this.sm&&(this.px(!1),this.px(!0)))},y4:function(){return this.To},y7:function(){return this.Qk},dc:function(a){this.Qk!==a&&(this.Qk=a,this.Ue&&(a?this.gx():q.rL(this)))},Y5:function(){return this.cl},Zp:function(a){this.cl!==a&&(this.cl=a,this.Qk&&(this.dc(!1),this.dc(!0)))},X5:function(){return this.ds},
ID:function(a){this.ds!==a&&(this.ds=a,this.Qk&&(this.dc(!1),this.dc(!0)))},N6:function(){return this.Pk},j$:function(a){if(!q.uk)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";if(a!==this.Pk&&(this.Pk=a,this.Ue)){var c=q.ca.f();a?c.zp().hg(this):c.zp().hg(null)}},OV:function(a){this.Pk&&q.uk&&q.ca.f().zp().OV(a)},x8:function(){q.log("onAccelerometer event should be handled.")},e7:function(){return this.Lo},W$:function(a){if(!q.Vn)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";
if(a!==this.Lo&&(this.Lo=a,this.Ue)){var c=q.ca.f();a?c.Hw().BQ(this):c.Hw().nV(this)}},Pg:function(){var a=q.ca.f();this.Qk&&this.gx();q.F.prototype.Pg.call(this);this.Pk&&q.uk&&a.zp().hg(this);this.Lo&&q.Vn&&a.Hw().BQ(this);this.sm&&q.he&&a.Bf().mH(this,this.To)},ae:function(){var a=q.ca.f();this.Qk&&q.rL(this);this.Pk&&q.uk&&a.zp().hg(null);this.Lo&&q.Vn&&a.Hw().nV(this);this.sm&&q.he&&a.Bf().WJ(this);q.F.prototype.ae.call(this)},ti:function(){this.Pk&&q.uk&&q.ca.f().zp().hg(this);q.F.prototype.ti.call(this)},
Eb:function(){q.log("onTouchBegan event should be handled.");return!0},Id:function(){},Qg:function(){},lk:function(){},AJ:function(){},DJ:function(){},CJ:function(){},BJ:function(){},gU:function(){return!1},hU:function(){return!1},ij:function(){return!1},kU:function(){return!1},oU:function(){return!1},pU:function(){return!1},qU:function(){return!1},lU:function(){return!1},mU:function(){return!1},nU:function(){return!1},rU:function(){return!1},iU:function(){return!1},jU:function(){return!1},PC:function(){},
yl:function(){}});q.Kc.create=function(){var a=new q.Kc;return a&&a.v()?a:null};
q.Kh=q.Kc.extend({pb:!0,cc:0,Cg:0,zc:null,re:null,ke:!1,Bd:!1,ctor:function(){q.Kc.prototype.ctor.call(this);this.pb=!0;this.Cg=this.cc=255;this.zc=q.zb();this.re=q.zb();this.Bd=this.ke=!1},v:function(){return q.Kc.prototype.v.call(this)?(this.jK(!1),this.iK(!1),!0):!1},aj:function(){return this.Cg},lS:function(){return this.cc},ta:function(a){this.cc=this.Cg=a;a=255;var c=this.da;c&&c.pb&&c.ke&&(a=c.cc);this.pd(a)},pd:function(a){this.cc=0|this.Cg*a/255;if(this.ke){a=this.B;for(var c=0;c<a.length;c++){var d=
a[c];d&&d.pb&&d.pd(this.cc)}}},KT:function(){return this.ke},jK:function(a){this.ke!==a&&((this.ke=a)?this.$q():this.Oz())},$q:function(){var a=255,c=this.da;c&&c.pb&&c.ke&&(a=c.cc);this.pd(a)},Oz:function(){this.cc=this.Cg;for(var a=this.B,c=0;c<a.length;c++){var d=a[c];d&&d.pb&&d.pd(255)}},yd:function(){var a=this.re;return q.n(a.q,a.p,a.k)},us:function(){var a=this.zc;return q.n(a.q,a.p,a.k)},r:function(a){var c=this.zc,d=this.re;c.q=d.q=a.q;c.p=d.p=a.p;c.k=d.k=a.k;a=(a=this.da)&&a.pb&&a.Bd?a.us():
q.zb();this.od(a)},od:function(a){var c=this.zc,d=this.re;c.q=0|d.q*a.q/255;c.p=0|d.p*a.p/255;c.k=0|d.k*a.k/255;if(this.Bd)for(a=this.B,d=0;d<a.length;d++){var e=a[d];e&&e.pb&&e.od(c)}},JT:function(){return this.Bd},iK:function(a){this.Bd!==a&&((this.Bd=a)?this.Zq():this.Nz())},Zq:function(){var a;a=(a=this.da)&&a.pb&&a.Bd?a.us():q.zb();this.od(a)},Nz:function(){var a=this.zc,c=this.re;a.q=c.q;a.p=c.p;a.k=c.k;for(var a=this.B,c=q.zb(),d=0;d<a.length;d++){var e=a[d];e&&e.pb&&e.od(c)}},g:function(a,
c,d){q.F.prototype.g.call(this,a,c,d);this.Bd&&this.Zq();this.ke&&this.$q()},Gf:function(){},rl:function(){return!1}});
q.ga=q.Kh.extend({na:null,ts:function(){return this.na},E1:function(a,c){this.Q(a,c)},D1:function(a){this.Q(a,this.Ba.ya)},A1:function(a){this.Q(this.Ba.Ha,a)},Gf:function(){},rl:function(){return!1},r:function(a){q.Kh.prototype.r.call(this,a);this.Gd()},ta:function(a){q.Kh.prototype.ta.call(this,a);this.Gd()},rm:!1,IG:null,eB:null,xB:null,Bz:null,gB:null,fB:null,Nh:function(){q.Kh.prototype.ctor.call(this);this.na=new q.Wl(q.Le,q.Ke)},Oh:function(){q.Kh.prototype.ctor.call(this);this.na=new q.Wl(q.Le,
q.Ke);this.gB=new ArrayBuffer(32);this.fB=new ArrayBuffer(64);var a=this.gB,c=this.fB,d=q.Ib.BYTES_PER_ELEMENT,e=q.fe.BYTES_PER_ELEMENT;this.IG=[new q.Ib(0,0,a,0),new q.Ib(0,0,a,d),new q.Ib(0,0,a,2*d),new q.Ib(0,0,a,3*d)];this.eB=[new q.fe(0,0,0,1,c,0),new q.fe(0,0,0,1,c,e),new q.fe(0,0,0,1,c,2*e),new q.fe(0,0,0,1,c,3*e)];this.xB=q.$.createBuffer();this.Bz=q.$.createBuffer()},Fl:function(a,c){this.na=1==arguments.length?a:{src:a,Ob:c};q.Kd===q.ng&&(this.rm=this.na&&1==this.na.src&&771==this.na.Ob)},
v:function(a,c,d){if(!q.Kc.prototype.v.call(this))return!1;q.Kd!==q.ng&&this.Vg(q.Mh.f().ui(q.XM));var e=q.ca.f().Yb;a=a||new q.Wb(0,0,0,255);c=c||e.width;d=d||e.height;e=this.zc;e.q=a.q;e.p=a.p;e.k=a.k;e=this.re;e.q=a.q;e.p=a.p;e.k=a.k;this.Cg=this.cc=a.K;this.Q(c,d);this.Gd();return!0},Q:null,DP:function(a,c){var d=this.IG;2===arguments.length?(d[1].x=a,d[2].y=c,d[3].x=a,d[3].y=c,this.zF(),q.Kc.prototype.Q.call(this,a,c)):(d[1].x=a.width,d[2].y=a.height,d[3].x=a.width,d[3].y=a.height,this.zF(),
q.Kc.prototype.Q.call(this,a))},Gd:null,nQ:function(){},oQ:function(){for(var a=this.zc,c=this.cc,d=this.eB,e=0;4>e;e++)d[e].q=a.q/255,d[e].p=a.p/255,d[e].k=a.k/255,d[e].K=c/255;this.yF()},od:function(a){q.Kh.prototype.od.call(this,a);this.Gd()},pd:function(a){q.Kh.prototype.pd.call(this,a);this.Gd()},zF:function(){var a=q.$;a.bindBuffer(a.ARRAY_BUFFER,this.xB);a.bufferData(a.ARRAY_BUFFER,this.gB,a.STATIC_DRAW)},yF:function(){var a=q.$;a.bindBuffer(a.ARRAY_BUFFER,this.Bz);a.bufferData(a.ARRAY_BUFFER,
this.fB,a.STATIC_DRAW)},Wa:null,Ej:function(a){a=a||q.$;var c=this.c(),d=q.oa.f(),e=this.zc;a.fillStyle="rgba("+(0|e.q)+","+(0|e.p)+","+(0|e.k)+","+this.cc/255+")";a.fillRect(0,0,c.width*d.va,-c.height*d.Ca);q.zh++},xg:function(a){a=a||q.$;q.Ay(this);q.Be(q.dh|q.qN);a.bindBuffer(a.ARRAY_BUFFER,this.xB);a.vertexAttribPointer(q.Oe,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Bz);a.vertexAttribPointer(q.uq,4,a.FLOAT,!1,0,0);q.hk(this.na.src,this.na.Ob);a.drawArrays(a.TRIANGLE_STRIP,0,4)}});
q.Ja.Xc?(q.ga.prototype.ctor=q.ga.prototype.Oh,q.ga.prototype.Q=q.ga.prototype.DP,q.ga.prototype.Gd=q.ga.prototype.oQ,q.ga.prototype.Wa=q.ga.prototype.xg):(q.ga.prototype.ctor=q.ga.prototype.Nh,q.ga.prototype.Q=q.Kh.prototype.Q,q.ga.prototype.Gd=q.ga.prototype.nQ,q.ga.prototype.Wa=q.ga.prototype.Ej);q.ga.create=function(a,c,d){var e=new q.ga;switch(arguments.length){case 0:e.v();break;case 1:e.v(a);break;case 3:e.v(a,c,d);break;default:e.v()}return e};
q.FE=q.ga.extend({JG:null,Fo:null,dp:null,Go:null,cm:null,Uu:!1,kr:null,jr:null,ctor:function(){q.ga.prototype.ctor.call(this);this.JG=new q.xc(0,0,0);this.Fo=new q.xc(0,0,0);this.cm=q.a(0,-1);this.Go=this.dp=255;this.kr=q.a(0,0);this.jr=q.a(0,0)},Q:function(a,c){2===arguments.length?q.ga.prototype.Q.call(this,a,c):q.ga.prototype.Q.call(this,a);this.Gd()},C5:function(){return this.re},Gaa:function(a){this.r(a)},G$:function(a){this.Fo=a;this.Gd()},L3:function(){return this.Fo},Haa:function(a){this.dp=
a;this.Gd()},D5:function(){return this.dp},H$:function(a){this.Go=a;this.Gd()},M3:function(){return this.Go},Zaa:function(a){this.cm.x=a.x;this.cm.y=a.y;this.Gd()},d6:function(){return q.a(this.cm.x,this.cm.y)},S6:function(){return this.Uu},w$:function(a){this.Uu=a;this.Gd()},v:function(a,c,d){a=a||q.KB(0,0,0,255);c=c||q.KB(0,0,0,255);d=d||q.a(0,-1);var e=this.JG,f=this.Fo;e.q=a.q;e.p=a.p;e.k=a.k;this.dp=a.K;f.q=c.q;f.p=c.p;f.k=c.k;this.Go=c.K;this.cm=d;this.Uu=!0;q.ga.prototype.v.call(this,q.j(a.q,
a.p,a.k,255));return!0},Wa:function(a){if(q.Kd===q.zk)q.ga.prototype.Wa.call(this,a);else{a=a||q.$;this.rm&&(a.globalCompositeOperation="lighter");a.save();var c=q.oa.f(),d=this.cc/255,e=this.c().width*c.va,c=this.c().height*c.Ca,f=a.createLinearGradient(this.kr.x,this.kr.y,this.jr.x,this.jr.y),g=this.zc,k=this.Fo;f.addColorStop(0,"rgba("+Math.round(g.q)+","+Math.round(g.p)+","+Math.round(g.k)+","+(this.dp/255*d).toFixed(4)+")");f.addColorStop(1,"rgba("+Math.round(k.q)+","+Math.round(k.p)+","+Math.round(k.k)+
","+(this.Go/255*d).toFixed(4)+")");a.fillStyle=f;a.fillRect(0,0,e,-c);0!=this.uP&&a.rotate(this.t0);a.restore()}},Gd:function(){var a=this.cm;if(q.Kd===q.ng){var c=0.5*this.c().width,d=0.5*this.c().height;this.kr.x=c*-a.x+c;this.kr.y=d*a.y-d;this.jr.x=c*a.x+c;this.jr.y=d*-a.y-d}else if(d=q.SC(a),0!==d){c=Math.sqrt(2);a=q.a(a.x/d,a.y/d);this.Uu&&(a=q.jj(a,1/(Math.abs(a.x)+Math.abs(a.y))*c));var e=this.cc/255,f=this.zc,g=this.Fo,d=f.q/255,k=f.p/255,f=f.k/255,h=this.dp*e/255,l=g.q/255,m=g.p/255,g=g.k/
255,e=this.Go*e/255,n=this.eB,p=n[0],t=n[1],u=n[2],n=n[3];p.q=l+(c+a.x+a.y)/(2*c)*(d-l);p.p=m+(c+a.x+a.y)/(2*c)*(k-m);p.k=g+(c+a.x+a.y)/(2*c)*(f-g);p.K=e+(c+a.x+a.y)/(2*c)*(h-e);t.q=l+(c-a.x+a.y)/(2*c)*(d-l);t.p=m+(c-a.x+a.y)/(2*c)*(k-m);t.k=g+(c-a.x+a.y)/(2*c)*(f-g);t.K=e+(c-a.x+a.y)/(2*c)*(h-e);u.q=l+(c+a.x-a.y)/(2*c)*(d-l);u.p=m+(c+a.x-a.y)/(2*c)*(k-m);u.k=g+(c+a.x-a.y)/(2*c)*(f-g);u.K=e+(c+a.x-a.y)/(2*c)*(h-e);n.q=l+(c-a.x-a.y)/(2*c)*(d-l);n.p=m+(c-a.x-a.y)/(2*c)*(k-m);n.k=g+(c-a.x-a.y)/(2*c)*
(f-g);n.K=e+(c-a.x-a.y)/(2*c)*(h-e);this.yF()}}});q.FE.create=function(a,c,d){var e=new q.FE;switch(arguments.length){case 2:if(e&&e.v(a,c))return e;break;case 3:if(e&&e.v(a,c,d))return e;break;case 0:if(e&&e.v())return e;break;default:throw"Arguments error ";}return null};
q.GE=q.Kc.extend({Jk:0,ih:null,E6:function(a){this.ih=[];this.ih.push(a);this.Jk=0;this.g(a);return!0},vT:function(a){this.ih=a;this.Jk=0;this.g(this.ih[this.Jk]);return!0},Eba:function(a){a>=this.ih.length?q.log("cc.LayerMultiplex.switchTo():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.ih[this.Jk],!0),this.Jk=a,this.g(this.ih[a]))},Fba:function(a){a>=this.ih.length?q.log("cc.LayerMultiplex.switchToAndReleaseMe():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.ih[this.Jk],
!0),this.ih[this.Jk]=null,this.Jk=a,this.g(this.ih[a]))},M0:function(a){a?this.ih.push(a):q.log("cc.Layer.addLayer(): layer should be non-null")}});q.GE.create=function(){0<arguments.length&&null==arguments[arguments.length-1]&&q.log("parameters should not be ending with null in Javascript");var a=new q.GE;return a.vT(arguments)?a:null};function ga(a,c,d,e,f){var g=10;e<2*g&&(g=e/2);f<2*g&&(g=f/2);a.beginPath();a.moveTo(c+g,d);a.arcTo(c+e,d,c+e,d+f,g);a.arcTo(c+e,d+f,c,d+f,g);a.arcTo(c,d+f,c,d,g);a.arcTo(c,d,c+e,d,g);a.closePath()}q.My=-1;
q.yp=function(a){function c(){var c=q.yp,e=a.width,k=a.height;d[0].width=e;d[0].height=k;d[1].width=e;d[1].height=k;d[2].width=e;d[2].height=k;d[3].width=e;d[3].height=k;c.canvas.width=e;c.canvas.height=k;var h=c.canvas.getContext("2d");h.drawImage(a,0,0);c.XD.width=e;c.XD.height=k;for(var h=h.getImageData(0,0,e,k).data,l=0;4>l;l++){var m=d[l].getContext("2d");m.getImageData(0,0,e,k).data;c.nL.drawImage(a,0,0);for(var n=c.nL.getImageData(0,0,e,k),p=n.data,t=0;t<h.length;t+=4)p[t]=0===l?h[t]:0,p[t+
1]=1===l?h[t+1]:0,p[t+2]=2===l?h[t+2]:0,p[t+3]=h[t+3];m.putImageData(n,0,0)}a.onload=null}if(a.hasOwnProperty("channelCache"))return a.iR;var d=[document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas")];try{c()}catch(e){a.onload=c}return a.iR=d};q.yp.canvas=document.createElement("canvas");q.yp.XD=document.createElement("canvas");q.yp.nL=q.yp.XD.getContext("2d");
q.$H=function(a,c,d,e){d||(d=q.rect(0,0,a.width,a.height),d=q.lq(d));c=c instanceof q.fe?q.j(255*c.q,255*c.p,255*c.k,255*c.K):q.j(c.q,c.p,c.k,255);e=e||document.createElement("canvas");var f=e.getContext("2d");e.width!=d.width&&(e.width=d.width);e.height!=d.height&&(e.height=d.height);f.clearRect(0,0,d.width,d.height);f.save();f.globalCompositeOperation="destination-atop";f.globalAlpha=c.K/255;if(254>c.q||254>c.p||254>c.k)f.fillStyle="rgb("+c.q+","+c.p+","+c.k+")",f.fillRect(0,0,d.width,d.height);
f.drawImage(a,d.x,d.y,d.width,d.height,0,0,d.width,d.height);f.restore();return e};
q.bC=function(a,c,d,e,f){e||(e=q.rect(0,0,a.width,a.height));a=null==d.K?q.vw(d.q/255,d.p/255,d.k/255,1):d;d=Math.min(e.width,c[0].width);var g=Math.min(e.height,c[0].height),k;f?(k=f.getContext("2d"),k.clearRect(0,0,d,g)):(f=document.createElement("canvas"),f.width=d,f.height=g,k=f.getContext("2d"));k.save();k.globalCompositeOperation="lighter";var h=k.globalAlpha;0<a.q&&(k.globalAlpha=a.q*h,k.drawImage(c[0],e.x,e.y,d,g,0,0,d,g));0<a.p&&(k.globalAlpha=a.p*h,k.drawImage(c[1],e.x,e.y,d,g,0,0,d,g));
0<a.k&&(k.globalAlpha=a.k*h,k.drawImage(c[2],e.x,e.y,d,g,0,0,d,g));1>a.q+a.p+a.k&&(k.globalAlpha=h,k.drawImage(c[3],e.x,e.y,d,g,0,0,d,g));k.restore();return f};q.DH=function(a,c){if(!a)return null;if(!c)return a;var d=document.createElement("canvas");d.width=c.width;d.height=c.height;var e=d.getContext("2d");e.translate(d.width/2,d.height/2);e.rotate(-1.5707963267948966);e.drawImage(a,c.x,c.y,c.height,c.width,-c.height/2,-c.width/2,c.height,c.width);return d};
q.z_=function(a,c,d,e,f,g){this.scale=c;this.rotation=d;this.Kl=e;this.visible=g};q.qg=function(a){return 0|a};q.$M&&(q.qg=function(a){return a});
q.w=q.Gb.extend({pb:!0,Ra:null,gd:0,mb:null,Na:!1,Uh:null,Ni:null,Yk:!1,Pm:null,na:null,Ga:null,za:null,hd:!1,lc:null,ci:null,tc:!1,gc:!1,hc:!1,qb:!1,Td:null,kG:null,bp:null,ho:null,Or:!1,Fg:null,YA:null,XA:null,$A:!1,pL:function(){return this.qb},Yf:function(a,c){this.Td.push({eventCallback:a,ki:c})},je:function(){for(var a=this.Td,c=0,d=a.length;c<d;c++){var e=a[c];e.eventCallback.call(e.ki,this)}a.length=0},YI:function(){return this.Na},Ug:function(a){this.Na=a},x7:function(){return this.hd},Z2:function(){return this.gd},
He:function(a){this.gd=a},kC:function(){return q.rect(this.za.x,this.za.y,this.za.width,this.za.height)},tI:function(){return this.Ra},Yp:function(a){this.Ra=a},B5:function(){return this.mb},Faa:function(a){this.mb=a},J4:function(){return this.lc},ts:function(){return this.na},Ee:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrame(): spriteFrame should be non-null";a.qb||(this.qb=!1,a.Yf(this.cB,this));var c=this.Pa(a.ia(),a.ld());this.Sp(a);return c},cB:null,cQ:function(a){this.bb();this.jb(a.ld(),
a.vd,a.ud);this.je()},bQ:function(a){this.bb();this.jb(a.ld(),a.vd,a.ud);a=this.yd();255===a.q&&255===a.p&&255===a.k||this.Ru();this.je()},NI:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";a=q.sg.f().Bh(a);return this.Ee(a)},ica:function(a){this.Ra=a.Ra;this.mb=a},KD:function(a){this.za.x=a.x;this.za.y=a.y;this.za.width=a.width;this.za.height=a.height},ce:function(){if(this.se){for(var a,c,d=this.B,e,f=1;f<d.length;f++){c=d[f];a=f-1;for(e=d[a];0<=
a&&(c.kb<e.kb||c.kb==e.kb&&c.Pf<e.Pf);)d[a+1]=e,a-=1,e=d[a];d[a+1]=c}this.mb&&this.ug(d,q.F.Kf.ce);this.se=!1}},Os:function(a,c){if(!a)throw"cc.Sprite.reorderChild(): child should be non-null";-1===this.B.indexOf(a)?q.log("cc.Sprite.reorderChild(): this child is not in children list"):c!==a.kb&&(this.mb&&!this.se&&(this.UA(),this.mb.XJ(!0)),q.F.prototype.Os.call(this,a,c))},removeChild:function(a,c){this.mb&&this.mb.wn(a);q.F.prototype.removeChild.call(this,a,c)},ic:function(a){var c=this.B,d=this.mb;
if(d&&null!=c)for(var e=0,f=c.length;e<f;e++)d.wn(c[e]);q.F.prototype.ic.call(this,a);this.Ni=!1},mK:function(a){this.Uh=a;this.Ug(a);a=this.B;if(null!=a)for(var c=0;c<a.length;c++)a[c]instanceof q.w&&a[c].mK(!0)},bh:function(){this.mb&&!this.Uh&&(this.Na=this.Uh=!0,this.Ni&&this.mK(!0))},l:function(a,c){2<=arguments.length?q.F.prototype.l.call(this,a,arguments[1]):q.F.prototype.l.call(this,a);this.bh()},ux:function(a){q.F.prototype.ux.call(this,a);this.bh()},vx:function(a){q.F.prototype.vx.call(this,
a);this.bh()},wx:function(a){q.F.prototype.wx.call(this,a);this.bh()},xx:function(a){q.F.prototype.xx.call(this,a);this.bh()},yx:function(a){q.F.prototype.yx.call(this,a);this.bh()},Wp:function(a){q.F.prototype.Wp.call(this,a);this.bh()},Dn:function(a){q.F.prototype.Dn.call(this,a);this.bh()},qk:function(a,c){q.F.prototype.qk.call(this,a,c);this.bh()},TK:function(a){q.F.prototype.TK.call(this,a);this.bh()},D:function(a,c){2===arguments.length?q.F.prototype.D.call(this,a,c):q.F.prototype.D.call(this,
a);this.bh()},G:function(a){q.F.prototype.G.call(this,a);this.bh()},cj:function(a){this.mb?q.log("cc.Sprite.ignoreAnchorPointForPosition(): it is invalid in cc.Sprite when using SpriteBatchNode"):q.F.prototype.cj.call(this,a)},jW:function(a){this.gc!=a&&(this.gc=a,this.jb(this.za,this.hd,this.Ba),this.bb())},kW:function(a){this.hc!=a&&(this.hc=a,this.jb(this.za,this.hd,this.Ba),this.bb())},Z6:function(){return this.gc},a7:function(){return this.hc},Gf:null,LP:function(a){this.tc!==a&&(this.tc=a,this.ht())},
KP:function(a){this.tc!==a&&(this.tc=a,this.bb())},rl:function(){return this.tc},pd:null,rQ:function(a){q.Gb.prototype.pd.call(this,a);this.ht()},XG:function(a){q.Gb.prototype.pd.call(this,a);this.Dm()},C$:function(a,c){if(!a)throw"cc.Sprite.setDisplayFrameWithAnimationName(): animationName must be non-null";var d=q.Tl.f().aI(a);d?(d=d.ne[c])?this.Sp(d.Bh()):q.log("cc.Sprite.setDisplayFrameWithAnimationName(): Invalid frame index"):q.log("cc.Sprite.setDisplayFrameWithAnimationName(): Frame not found")},
c3:function(){return this.mb},UA:function(){if(!this.se){this.se=!0;for(var a=this.da;a&&a!=this.mb;)a.UA(),a=a.getParent()}},ia:function(){return this.Ga},Sb:null,Ov:null,uf:!1,Gq:!1,rm:!1,Qf:null,Lm:null,Do:null,ctor:null,Oh:function(a){q.Gb.prototype.ctor.call(this);this.Yk=!1;this.lc=q.Fd();this.ci=q.Fd();this.na={src:q.Le,Ob:q.Ke};this.za=q.rect(0,0,0,0);this.Sb=new q.mc;this.Ov=q.$.createBuffer();this.qb=this.uf=!0;this.Td=[];this.bp=!0;this.ho=!1;if(a)if("string"===typeof a)a=q.sg.f().Bh(a),
this.Ee(a);else if("object"===typeof a)if(a instanceof q.Pd)this.Ee(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new q.fc;c.ff(a);c.Yd();this.Pa(c)}else a instanceof q.fc&&this.Pa(a)},Nh:function(a){q.Gb.prototype.ctor.call(this);this.Yk=!1;this.lc=q.Fd();this.ci=q.Fd();this.na={src:q.Le,Ob:q.Ke};this.za=q.rect(0,0,0,0);this.kG=!1;this.qb=!0;this.Td=[];this.Lm={x:0,y:0,width:0,height:0,Ql:!1};this.Do=q.size(0,0);this.bp=!0;this.ho=!1;if(a)if("string"===typeof a)a=
q.sg.f().Bh(a),this.Ee(a);else if("object"===typeof a)if(a instanceof q.Pd)this.Ee(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new q.fc;c.ff(a);c.Yd();this.Pa(c)}else a instanceof q.fc&&this.Pa(a)},d5:function(){return this.Sb},Fl:null,zP:function(a,c){var d=this.na;1===arguments.length?(d.src=a.src,d.Ob=a.Ob):(d.src=a,d.Ob=c)},yP:function(a,c){var d=this.na;1===arguments.length?(d.src=a.src,d.Ob=a.Ob):(d.src=a,d.Ob=c);this.rm=d&&(770==d.src&&1==d.Ob||1==d.src&&
1==d.Ob)},v:null,gA:function(){if(0<arguments.length)return this.dj(arguments[0],arguments[1]);q.Gb.prototype.v.call(this);this.Na=this.Uh=!1;this.tc=!0;this.na.src=q.Le;this.na.Ob=q.Ke;this.ma(null);this.qb=!0;this.gc=this.hc=!1;this.D(0.5,0.5);this.lc.I=0;this.lc.N=0;this.Ni=!1;var a={q:255,p:255,k:255,K:255};this.Sb.Oa.P=a;this.Sb.$a.P=a;this.Sb.Xa.P=a;this.Sb.Qa.P=a;this.uf=!0;this.jb(q.rd(),!1,q.$l());return!0},fA:function(){if(0<arguments.length)return this.dj(arguments[0],arguments[1]);q.Gb.prototype.v.call(this);
this.Na=this.Uh=!1;this.tc=!0;this.na.src=q.Le;this.na.Ob=q.Ke;this.ma(null);this.qb=!0;this.gc=this.hc=!1;this.D(0.5,0.5);this.lc.I=0;this.lc.N=0;this.Ni=!1;this.jb(q.rd(),!1,q.$l());return!0},dj:function(a,c){if(!a)throw"cc.Sprite.initWithFile(): filename should be non-null";var d=q.ja.f().Jx(a);if(!d)d=q.ja.f().pa(a);else if(!c){var e=d.c();c=q.rect(0,0,e.width,e.height)}return this.Pa(d,c)},Pa:null,or:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";
d=d||!1;if(!q.Gb.prototype.v.call(this))return!1;this.mb=null;this.Na=this.Uh=!1;this.tc=!0;this.na.src=q.Le;this.na.Ob=q.Ke;this.gc=this.hc=!1;this.D(0.5,0.5);this.lc.I=0;this.lc.N=0;this.Ni=!1;var e=new q.Wb(255,255,255,255),f=this.Sb;f.Oa.P=e;f.$a.P=e;f.Xa.P=e;f.Qa.P=e;this.qb=e=a.Mg();if(!e)return this.hd=d||!1,c&&(e=this.za,e.x=c.x,e.y=c.y,e.width=c.width,e.height=c.height),a.Yf(this.dw,this),!0;c||(e=a.c(),c=q.rect(0,0,e.width,e.height));this.ma(a);this.jb(c,d,c.Va);this.Ie(null);return this.uf=
!0},nr:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";d=d||!1;if(!q.Gb.prototype.v.call(this))return!1;this.mb=null;this.Na=this.Uh=!1;this.tc=!0;this.na.src=q.Le;this.na.Ob=q.Ke;this.gc=this.hc=!1;this.D(0.5,0.5);this.lc.I=0;this.lc.N=0;this.Ni=!1;var e=a.Mg();this.qb=e;if(!e)return this.hd=d||!1,c&&(this.za.x=c.x,this.za.y=c.y,this.za.width=c.width,this.za.height=c.height),a.Yf(this.dw,this),!0;c||(e=a.c(),c=q.rect(0,0,e.width,e.height));this.Qf=
a;this.ma(a);this.jb(c,d,c.Va);this.Ie(null);return!0},dw:null,hQ:function(a){if(!this.qb){this.qb=!0;var c=this.za;if(!c)c=a.c(),c=q.rect(0,0,c.width,c.height);else if(q.Er(c)){var d=a.c();c.width=d.width;c.height=d.height}this.ma(a);this.jb(c,this.hd,c.Va);this.Ie(null);this.uf=!0;this.je()}},gQ:function(a){if(!this.qb){this.qb=!0;var c=this.za;if(!c)c=a.c(),c=q.rect(0,0,c.width,c.height);else if(q.Er(c)){var d=a.c();c.width=d.width;c.height=d.height}this.Qf=a;this.ma(a);this.jb(c,this.hd,c.Va);
this.Ie(null);this.je()}},jb:null,DG:function(a,c,d){this.hd=c||!1;d=d||a.Va;this.Q(d);this.KD(a);this.CG(a);c=this.ci;this.gc&&(c.I=-c.I);this.hc&&(c.N=-c.N);a=this.za;if(this.fL){d=q.oa.f().va;var e=q.oa.f().Ca;a.width/=d;a.height/=e}this.lc.I=c.I+(this.Ba.Ha-a.width)/2;this.lc.N=c.N+(this.Ba.ya-a.height)/2;if(this.mb)this.Na=!0;else{c=0+this.lc.I;d=0+this.lc.N;e=c+a.width;a=d+a.height;var f=this.Sb;f.Oa.A={x:c,y:d,z:0};f.$a.A={x:e,y:d,z:0};f.Xa.A={x:c,y:a,z:0};f.Qa.A={x:e,y:a,z:0};this.uf=!0}},
VA:function(a,c,d){this.hd=c||!1;d=d||a.Va;this.Q(d);this.KD(a);c=this.Lm;var e=q.Zc();c.x=0|a.x*e;c.y=0|a.y*e;var f=this.Do,g=(this.mb&&this.Ra?this.Ra.ia():this.Ga)?this.ia().c():q.size(d.width,d.height);a.width>g.width||a.height>g.height?(c.width=0|g.width*e,c.height=0|g.height*e,f.width=0|d.width*e,f.height=0|d.height*e):(c.width=0|a.width*e,c.height=0|a.height*e,f.width=c.width,f.height=c.height);c.Ql=!(0===c.width||0===c.height);f.Ql=!(0===f.width||0===f.height);a=this.ci;this.gc&&(a.I=-a.I);
this.hc&&(a.N=-a.N);this.lc.I=a.I+(this.Ba.Ha-this.za.width)/2;this.lc.N=a.N+(this.Ba.ya-this.za.height)/2;this.mb&&(this.Na=!0)},lg:null,zQ:function(){if(this.Na){var a=this.Sb,c=this.da;if(!this.wa||c&&c!=this.mb&&c.Yk)a.$a.A={x:0,y:0,z:0},a.Xa.A={x:0,y:0,z:0},a.Qa.A={x:0,y:0,z:0},a.Oa.A={x:0,y:0,z:0},this.Yk=!0;else{this.Yk=!1;var d=this.Pm=c&&c!=this.mb?q.Sl(this.cg(),c.Pm):this.cg(),e=this.za.Va,c=this.lc.I,f=this.lc.N,g=c+e.width,e=f+e.height,k=d.eb,h=d.fb,l=d.K,m=d.k,n=d.d,d=-d.Ka,p=this.pw;
a.Oa.A={x:q.qg(c*l-f*d+k),y:q.qg(c*m+f*n+h),z:p};a.$a.A={x:q.qg(g*l-f*d+k),y:q.qg(g*m+f*n+h),z:p};a.Xa.A={x:q.qg(c*l-e*d+k),y:q.qg(c*m+e*n+h),z:p};a.Qa.A={x:q.qg(g*l-e*d+k),y:q.qg(g*m+e*n+h),z:p}}this.Ra.Px(a,this.gd);this.Uh=!1;this.Ug(!1)}this.Ni&&this.ug(this.B,q.F.Kf.lg);q.uj&&(a=[q.a(this.Sb.Oa.A.x,this.Sb.Oa.A.y),q.a(this.Sb.$a.A.x,this.Sb.$a.A.y),q.a(this.Sb.Qa.A.x,this.Sb.Qa.A.y),q.a(this.Sb.Xa.A.x,this.Sb.Xa.A.y)],q.ve.Wd(a,4,!0))},yQ:function(){if(this.Na){var a=this.da;!this.wa||a&&a!=
this.mb&&a.Yk?this.Yk=!0:(this.Yk=!1,this.Pm=a&&a!=this.mb?q.Sl(this.cg(),a.Pm):this.cg());this.Na=this.Uh=!1}this.Ni&&this.ug(this.B,q.F.Kf.lg)},g:null,iz:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.kb);null==d&&(d=a.xd);if(this.mb){if(!(a instanceof q.w)){q.log("cc.Sprite.addChild(): cc.Sprite only supports cc.Sprites as children when using cc.SpriteBatchNode");return}a.ia().fi!==this.Ra.ia().fi&&q.log("cc.Sprite.addChild(): cc.Sprite only supports a sprite using same texture as children when using cc.SpriteBatchNode");
this.mb.appendChild(a);this.se||this.UA()}q.F.prototype.g.call(this,a,c,d);this.Ni=!0},hz:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.kb);null==d&&(d=a.xd);q.F.prototype.g.call(this,a,c,d);this.Ni=!0},ht:function(){var a=this.zc,c=this.cc,a={q:a.q,p:a.p,k:a.k,K:c};this.tc&&(a.q*=c/255,a.p*=c/255,a.k*=c/255);c=this.Sb;c.Oa.P=a;c.$a.P=a;c.Xa.P=a;c.Qa.P=a;this.mb&&(this.gd!=q.My?this.Ra.Px(c,this.gd):this.Na=!0);this.uf=!0},ta:null,TA:function(a){q.Gb.prototype.ta.call(this,
a);this.ht()},Jr:function(a){q.Gb.prototype.ta.call(this,a);this.Dm()},r:null,RA:function(a){q.Gb.prototype.r.call(this,a);this.ht()},Hr:function(a){var c=this.yd();if(c.q!==a.q||c.p!==a.p||c.k!==a.k)q.Gb.prototype.r.call(this,a),this.Ru(),this.Dm()},od:null,qQ:function(a){q.Gb.prototype.od.call(this,a);this.ht()},qB:function(a){var c=this.yd();q.Gb.prototype.od.call(this,a);a=this.zc;if(c.q!==a.q||c.p!==a.p||c.k!==a.k)this.Ru(),this.Dm()},Sp:null,FP:function(a){this.bb();var c=a._offset;this.ci.I=
c.x;this.ci.N=c.y;c=a.ia();a.qb||(this.qb=!1,a.Yf(function(a){this.qb=!0;var c=a.ia();c!=this.Ga&&this.ma(c);this.jb(a.ld(),a.vd,a.ud);this.je()},this));c!=this.Ga&&this.ma(c);this.hd=a.vd;this.jb(a.ld(),this.hd,a.ud)},EP:function(a){this.bb();var c=a._offset;this.ci.I=c.x;this.ci.N=c.y;this.hd=a.vd;var c=a.ia(),d=a.qb;d||(this.qb=!1,a.Yf(function(a){this.qb=!0;var c=a.ia();c!=this.Ga&&this.ma(c);this.jb(a.ld(),a.vd,a.ud);this.je()},this));c!=this.Ga&&this.ma(c);this.hd&&(this.Qf=c);this.jb(a.ld(),
this.hd,a.ud);this.Gq=!1;d&&(a=this.yd(),255===a.q&&255===a.p&&255===a.k||this.Ru())},$I:null,HO:function(a){return q.RJ(a.ld(),this.za)&&a.ia().getName()==this.Ga.getName()&&q.KJ(a._offset,this.ci)},GO:function(a){return a.ia()!=this.Ga?!1:q.RJ(a.ld(),this.za)},NR:function(){return q.Pd.Sa(this.Ga,q.Xn(this.za),this.hd,q.OM(this.ci),q.Ly(this.Ba))},Ie:null,xP:function(a){if(this.mb=a)this.Pm={K:1,k:0,Ka:0,d:1,eb:0,fb:0},this.Yp(this.mb.Ra);else{this.gd=q.My;this.Yp(null);this.Uh=!1;this.Ug(!1);a=
this.lc.I;var c=this.lc.N,d=a+this.za.width,e=c+this.za.height,f=this.Sb;f.Oa.A={x:a,y:c,z:0};f.$a.A={x:d,y:c,z:0};f.Xa.A={x:a,y:e,z:0};f.Qa.A={x:d,y:e,z:0};this.uf=!0}},wP:function(a){(this.mb=a)?(this.Pm={K:1,k:0,Ka:0,d:1,eb:0,fb:0},this.Yp(this.mb.Ra)):(this.gd=q.My,this.Yp(null),this.Uh=!1,this.Ug(!1))},ma:null,Lr:function(a){if(a&&!(a instanceof q.fc))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.mb&&this.mb.ia()!=a?q.log("cc.Sprite.setTexture(): Batched sprites should use the same texture as the batchnode"):
(a?this.Vg(q.Mh.f().ui(q.Ky)):this.Vg(q.Mh.f().ui(q.XM)),this.mb||this.Ga==a||(this.Ga=a,this.Qm()))},Kr:function(a){if(a&&!(a instanceof q.fc))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.Ga!=a&&(a&&a.sc instanceof HTMLImageElement&&(this.Qf=a),this.Ga=a)},Qm:function(){this.mb?q.log("cc.Sprite._updateBlendFunc(): _updateBlendFunc doesn't work when the sprite is rendered using a cc.CCSpriteBatchNode"):this.Ga&&this.Ga.Bs()?(this.na.src=q.Le,this.na.Ob=q.Ke,
this.Gf(!0)):(this.na.src=770,this.na.Ob=771,this.Gf(!1))},Ru:function(){var a,c=this.Ga,d=this.Lm;if(c&&d.Ql&&this.Qf&&(a=c.sc)){var e=q.ja.f().uI(this.Qf.sc);e&&(this.Gq=!0,a instanceof HTMLCanvasElement&&!this.hd&&!this.kG?this.ho?q.$H(this.Qf.sc,this.zc,d,c.sc):q.bC(a,e,this.zc,d,a):(a=this.ho?q.$H(a,this.zc,d):q.bC(a,e,this.zc,d),c=new q.fc,c.ff(a),c.Yd(),this.ma(c)))}},CG:function(a){a=q.Xn(a);var c=this.mb?this.Ra.ia():this.Ga;if(c){var d=c.Fp(),e=c.Ep(),f,g=this.Sb;this.hd?(q.Qt?(c=(2*a.x+
1)/(2*d),d=c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/d,f=a.y/e,a=(a.y+a.width)/e),this.gc&&(e=f,f=a,a=e),this.hc&&(e=c,c=d,d=e),g.Oa.C.Ta=c,g.Oa.C.ua=f,g.$a.C.Ta=c,g.$a.C.ua=a,g.Xa.C.Ta=d,g.Xa.C.ua=f,g.Qa.C.Ta=d,g.Qa.C.ua=a):(q.Qt?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+a.height)/e),this.gc&&(e=c,c=d,d=e),this.hc&&(e=f,f=a,a=e),g.Oa.C.Ta=c,g.Oa.C.ua=a,g.$a.C.Ta=
d,g.$a.C.ua=a,g.Xa.C.Ta=c,g.Xa.C.ua=f,g.Qa.C.Ta=d,g.Qa.C.ua=f);this.uf=!0}},Wa:null,xg:function(){if(this.qb){var a=q.$,c=this.Ga;c?c.Dc&&(this.Oc.nf(),this.Oc.Xg(),q.hk(this.na.src,this.na.Ob),q.q6(0,c),q.Be(q.xu),a.bindBuffer(a.ARRAY_BUFFER,this.Ov),this.uf&&(a.bufferData(a.ARRAY_BUFFER,this.Sb.FB,a.DYNAMIC_DRAW),this.uf=!1),a.vertexAttribPointer(0,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(1,4,a.UNSIGNED_BYTE,!0,24,12),a.vertexAttribPointer(2,2,a.FLOAT,!1,24,16),a.drawArrays(a.TRIANGLE_STRIP,0,4)):
(this.Oc.nf(),this.Oc.Xg(),q.hk(this.na.src,this.na.Ob),q.Jg(null),q.Be(q.dh|q.qN),a.bindBuffer(a.ARRAY_BUFFER,this.Ov),this.uf&&(q.$.bufferData(q.$.ARRAY_BUFFER,this.Sb.FB,q.$.STATIC_DRAW),this.uf=!1),a.vertexAttribPointer(q.Oe,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(q.uq,4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));q.zh++;0!==q.uj&&(1===q.uj?(a=this.Sb,a=[q.a(a.Xa.A.x,a.Xa.A.y),q.a(a.Oa.A.x,a.Oa.A.y),q.a(a.$a.A.x,a.$a.A.y),q.a(a.Qa.A.x,a.Qa.A.y)],q.ve.Wd(a,4,!0)):2===q.uj&&(a=
this.kC().Va,c=this.lc,a=[q.a(c.x,c.y),q.a(c.x+a.width,c.y),q.a(c.x+a.width,c.y+a.height),q.a(c.x,c.y+a.height)],q.ve.Wd(a,4,!0)))}},x0:function(a,c,d,e){this.YA=c;this.Fg=d;this.XA=e;this.Or=a},w0:function(a){this.$A=a},Ej:function(a){if(this.qb){a=a||q.$;this.rm&&(a.globalCompositeOperation="lighter");a.sT=this.bp;var c=q.oa.f().va,d=q.oa.f().Ca;a.globalAlpha=this.cc/255;var e=this.za,f=this.Ba,g=this.lc,k=this.Do,h=0|g.I,l=-g.N-e.height,m=this.Lm;!0==this.Or&&(a.shadowBlur=this.YA?this.YA:30,a.shadowColor=
this.XA?this.XA:"black",a.shadowOffsetX=this.Fg?this.Fg.x:5,a.shadowOffsetY=this.Fg?this.Fg.y:5);if(this.gc||this.hc)a.save(),this.gc&&(h=-g.I-e.width,a.scale(-1,1)),this.hc&&(l=g.N,a.scale(1,-1));h*=c;l*=d;if(this.Ga&&m.Ql)g=this.Ga.sc,this.Gq?a.drawImage(g,0,0,m.width,m.height,h,l,k.width,k.height):a.drawImage(g,m.x,m.y,m.width,m.height,h,l,k.width,k.height);else if(0!==f.Ha){var n=this.yd();a.fillStyle="rgba("+n.q+","+n.p+","+n.k+",1)";a.fillRect(h,l,f.Ha*c,f.ya*d)}!0==this.Or&&(a.shadowBlur=0,
a.shadowOffsetX=0,a.shadowOffsetY=0);!0==this.$A&&(a.globalAlpha=1,a.beginPath(),a.strokeStyle="rgba("+n.q+","+n.p+","+n.k+",1)",a.lineWidth="1",ga(a,h,l,f.Ha*c,f.ya*d),a.stroke());1===q.uj?(a.strokeStyle="rgba(0,255,0,1)",h/=c,l=-(l/d),h=[q.a(h,l),q.a(h+e.width,l),q.a(h+e.width,l-e.height),q.a(h,l-e.height)],q.ve.Wd(h,4,!0)):2===q.uj&&(a.strokeStyle="rgba(0,255,0,1)",n=this.za.Va,l=-l,h=[q.a(h,l),q.a(h+n.width,l),q.a(h+n.width,l-n.height),q.a(h,l-n.height)],q.ve.Wd(h,4,!0));(this.gc||this.hc)&&a.restore();
q.zh++}}});
q.Ja.Xc?(b=q.w.prototype,b.cB=q.w.prototype.cQ,b.Gf=q.w.prototype.LP,b.pd=q.w.prototype.rQ,b.ctor=q.w.prototype.Oh,b.Fl=q.w.prototype.zP,b.v=q.w.prototype.gA,b.Pa=q.w.prototype.or,b.dw=q.w.prototype.hQ,b.jb=q.w.prototype.DG,b.lg=q.w.prototype.zQ,b.g=q.w.prototype.iz,b.ta=q.w.prototype.TA,b.r=q.w.prototype.RA,b.od=q.w.prototype.qQ,b.Sp=q.w.prototype.FP,b.$I=q.w.prototype.HO,b.Ie=q.w.prototype.xP,b.ma=q.w.prototype.Lr,b.Wa=q.w.prototype.xg):(b=q.w.prototype,b.cB=q.w.prototype.bQ,b.Gf=q.w.prototype.KP,b.pd=
q.w.prototype.XG,b.ctor=q.w.prototype.Nh,b.Fl=q.w.prototype.yP,b.v=q.w.prototype.fA,b.Pa=q.w.prototype.nr,b.dw=q.w.prototype.gQ,b.jb=q.w.prototype.VA,b.lg=q.w.prototype.yQ,b.g=q.w.prototype.hz,b.ta=q.w.prototype.Jr,b.r=q.w.prototype.Hr,b.od=q.w.prototype.qB,b.Sp=q.w.prototype.EP,b.$I=q.w.prototype.GO,b.Ie=q.w.prototype.wP,b.ma=q.w.prototype.Kr,b.Wa=q.w.prototype.Ej);
q.w.Sa=function(a,c){var d=arguments.length,e=new q.w;switch(d){case 1:return e&&e.Pa(a)?e:null;case 2:return e&&e.Pa(a,c)?e:null;default:throw"Sprite.createWithTexture(): Argument must be non-nil ";}};q.w.create=function(a,c){var d=arguments.length,e=new q.w;if(0===d){if(e.v())return e}else if(e&&e.v(a,c))return e;return null};
q.w.CH=function(a){var c=null;if("string"==typeof a){if(c=q.sg.f().Bh(a),!c)return q.log("Invalid spriteFrameName: "+a),null}else return q.log("Invalid argument. Expecting string."),null;return(a=new q.w)&&a.Ee(c)?a:null};q.w.BH=function(a){var c=new q.w;return c&&c.Ee(a)?c:null};Object.defineProperties(q.w.prototype,{nba:{get:function(){return this.bp},set:function(a){this.bp=a},enumerable:!0},$0:{get:function(){return this.ho},set:function(a){this.ho=a},enumerable:!0}});q.pj=q.La.extend({Pr:null,le:0,hs:null,ctor:function(){this.le=0},clone:function(){var a=new q.pj;a.Ee(this.Pr.clone(),this.le,this.hs);return a},Aw:function(){return q.clone(this)},copy:function(){var a=new q.pj;a.Ee(this.Pr.clone(),this.le,this.hs);return a},Ee:function(a,c,d){this.Pr=a;this.le=c;this.hs=d;return!0},Bh:function(){return this.Pr},Hf:function(a){this.Pr=a},D3:function(){return this.le},B$:function(a){this.le=a},b6:function(){return this.hs},Xaa:function(a){this.hs=a}});
q.oj=q.La.extend({ne:null,Pj:0,Am:!1,Fa:0,le:0,Nm:0,ctor:function(){this.ne=[]},W3:function(){return this.ne},rK:function(a){this.ne=a},DB:function(a){var c=new q.pj;c.Ee(a,1,null);this.ne.push(c);this.Nm++},R0:function(a){a=q.ja.f().pa(a);var c=q.rd();c.Va=a.c();a=q.Pd.Sa(a,c);this.DB(a)},S0:function(a,c){var d=q.Pd.Sa(a,c);this.DB(d)},Cs:function(a,c,d){q.nt(a,q.pj);this.le=c;this.Pj=d;this.rK([]);for(c=0;c<a.length;c++)d=a[c],this.ne.push(d),this.Nm+=d.le;return!0},clone:function(){var a=new q.oj;
a.Cs(this.GF(),this.le,this.Pj);a.tx(this.Am);return a},Aw:function(){var a=new q.oj;a.Cs(this.GF(),this.le,this.Pj);a.tx(this.Am);return a},GF:function(){for(var a=[],c=0;c<this.ne.length;c++)a.push(this.ne[c].clone());return a},copy:function(){return this.Aw(null)},m4:function(){return this.Pj},Y$:function(a){this.Pj=a},tx:function(a){this.Am=a},l5:function(){return this.Am},Af:function(){return this.Nm*this.le},C3:function(){return this.le},A$:function(a){this.le=a},S5:function(){return this.Nm},
OI:function(a,c){q.nt(a,q.Pd);this.Pj=1;this.le=c||0;this.rK([]);if(a)for(var d=0;d<a.length;d++){var e=a[d],f=new q.pj;f.Ee(e,1,null);this.ne.push(f);this.Nm++}return!0},aK:function(){},TJ:function(){}});q.oj.create=function(a,c,d){var e=arguments.length,f=new q.oj;0==e?f.OI(null,0):2==e?f.OI(a,c||0):3==e&&f.Cs(a,c,d);return f};q.oj.AH=function(a,c,d){var e=new q.oj;e.Cs(a,c,d);return e};q.Tl=q.La.extend({iH:function(a,c){this.fm[c]=a},F9:function(a){a&&this.fm.hasOwnProperty(a)&&delete this.fm[a]},aI:function(a){return this.fm.hasOwnProperty(a)?this.fm[a]:null},zN:function(a,c){var d=a.animations;if(d){var e=1,f=a.properties;if(f)for(var e=null!=f.format?parseInt(f.format):e,f=f.spritesheets,g=q.sg.f(),k=q.Nd.f(),h,l=0;l<f.length;l++)h=k.ZH(f[l],c),g.oH(h);switch(e){case 1:this.$O(d);break;case 2:this.aP(d);break;default:q.log("cc.AnimationCache. Invalid animation format")}}else q.log("cocos2d: cc.AnimationCache: No animations were found in provided dictionary.")},
H0:function(a){if(!a)throw"cc.AnimationCache.addAnimations(): Invalid texture file name";var c=q.Nd.f(),d=c.ze(a);(c=c.Cw(d))?this.zN(c,a):q.log("cc.AnimationCache.addAnimations(): File could not be found")},$O:function(a){var c=q.sg.f(),d;for(d in a){var e=a[d],f=e.frames,e=parseFloat(e.delay)||0,g=null;if(f){for(var g=[],k=0;k<f.length;k++){var h=c.Bh(f[k]);if(h){var l=new q.pj;l.Ee(h,1,null);g.push(l)}else q.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+f[k]+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}0===
g.length?q.log("cocos2d: cc.AnimationCache: None of the frames for animation '"+d+"' were found in the cc.SpriteFrameCache. Animation is not being added to the Animation Cache."):(g.length!=f.length&&q.log("cocos2d: cc.AnimationCache: An animation in your dictionary refers to a frame which is not in the cc.SpriteFrameCache. Some or all of the frames for the animation '"+d+"' may be missing."),g=q.oj.AH(g,e,1),q.Tl.f().iH(g,d))}else q.log("cocos2d: cc.AnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},
aP:function(a){var c=q.sg.f(),d;for(d in a){var e=a[d],f=parseInt(e.loops),f=e.loop?q.Zl:isNaN(f)?1:f,g=e.restoreOriginalFrame&&!0==e.restoreOriginalFrame?!0:!1,k=e.frames;if(k){for(var h=[],l=0;l<k.length;l++){var m=k[l],n=m.spriteframe,p=c.Bh(n);if(p){var n=parseFloat(m.delayUnits)||0,m=m.notification,t=new q.pj;t.Ee(p,n,m);h.push(t)}else q.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+n+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}e=
parseFloat(e.delayPerUnit)||0;k=new q.oj;k.Cs(h,e,f);k.tx(g);q.Tl.f().iH(k,d)}else q.log("cocos2d: CCAnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},v:function(){this.fm={};return!0},fm:null});q.Tl.RU=function(){q.zn&&(q.zn.fm=null,q.zn=null)};q.Tl.f=function(){null===q.zn&&(q.zn=new q.Tl,q.zn.v());return q.zn};q.zn=null;q.Pd=q.La.extend({_offset:null,ud:null,Te:null,vd:!1,za:null,Of:null,rf:null,Ga:null,ip:"",qb:!1,cv:null,ctor:function(){this._offset=q.Fd();this.Of=q.Fd();this.ud=q.Em();this.vd=!1;this.rf=q.Em();this.ip="";this.Ga=null;this.qb=!1},pL:function(){return this.qb},Yf:function(a,c){null==this.cv&&(this.cv=[]);this.cv.push({eventCallback:a,ki:c})},je:function(){var a=this.cv;if(a){for(var c=0,d=a.length;c<d;c++){var e=a[c];e.eventCallback.call(e.ki,this)}a.length=0}},FS:function(){var a=this.Te;return q.rect(a.x,
a.y,a.width,a.height)},waa:function(a){this.Te||(this.Te=q.rect(0,0,0,0));this.Te.x=a.x;this.Te.y=a.y;this.Te.width=a.width;this.Te.height=a.height;this.za=q.lq(a)},q7:function(){return this.vd},Baa:function(a){this.vd=a},ld:function(){var a=this.za;return q.rect(a.x,a.y,a.width,a.height)},GK:function(a){this.za||(this.za=q.rect(0,0,0,0));this.za.x=a.x;this.za.y=a.y;this.za.width=a.width;this.za.height=a.height;this.Te=q.Xn(this.za)},I4:function(){return this.Of},kaa:function(a){this.Of.I=a.x;this.Of.N=
a.y;q.Eu(this.Of,this._offset)},P4:function(){return this.rf},naa:function(a){this.rf.Ha=a.width;this.rf.ya=a.height},AS:function(){return this.ud},maa:function(a){this.ud.Ha=a.width;this.ud.ya=a.height},ia:function(){if(this.Ga)return this.Ga;if(""!==this.ip){var a=q.ja.f().pa(this.ip);a&&(this.qb=a.Mg());return a}return null},ma:function(a){if(this.Ga!=a){var c=a.Mg();this.qb=c;this.Ga=a;c||a.Yf(function(a){this.qb=!0;if(this.vd&&q.Kd===q.ng){var c=a.sc,c=q.DH(c,this.ld()),f=new q.fc;f.ff(c);f.Yd();
this.ma(f);c=this.ld();this.GK(q.rect(0,0,c.width,c.height))}c=this.za;0===c.width&&0===c.height&&(a=a.c(),this.za.width=a.width,this.za.height=a.height,this.Te=q.Xn(this.za),this.rf.Ha=this.Te.width,this.rf.ya=this.Te.height,this.ud.Ha=a.width,this.ud.ya=a.height);this.je()},this)}},H4:function(){return this._offset},jaa:function(a){this._offset.I=a.x;this._offset.N=a.y},clone:function(){var a=new q.Pd;a.Sw(this.ip,this.Te,this.vd,this.Of,this.rf);a.ma(this.Ga);return a},Aw:function(){var a=new q.Pd;
a.Sw(this.ip,this.Te,this.vd,this.Of,this.rf);a.ma(this.Ga);return a},copy:function(){return this.Aw()},Pa:function(a,c,d,e,f){2===arguments.length&&(c=q.Xn(c));e=e||q.a(0,0);f=f||c.Va;this.ma(a);this.Te=c;this.za=q.lq(c);this.Of.I=e.x;this.Of.N=e.y;q.Eu(e,this._offset);this.rf.Ha=f.width;this.rf.ya=f.height;q.bz(f,this.ud);this.vd=d||!1;return!0},Sw:function(a,c,d,e,f){2===arguments.length&&(c=q.Xn(c));e=e||q.a(0,0);f=f||c.Va;this.Ga=null;this.ip=a;this.Te=c;this.za=q.lq(c);this.vd=d||!1;this.Of.I=
e.x;this.Of.N=e.y;q.Eu(e,this._offset);this.rf.Ha=f.width;this.rf.ya=f.height;q.bz(f,this.ud);return!0}});q.Pd.create=function(a,c,d,e,f){var g=new q.Pd;switch(arguments.length){case 2:g.Sw(a,c);break;case 5:g.Sw(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};q.Pd.Sa=function(a,c,d,e,f){var g=new q.Pd;switch(arguments.length){case 2:g.Pa(a,c);break;case 5:g.Pa(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};
q.Pd.$_=function(a,c,d,e,f){var g=new q.Pd;g.Ga=a;g.Te=c;g.za=q.lq(c);g.Of.I=e.x;g.Of.N=e.y;q.Eu(g.Of,g._offset);g.rf.Ha=f.width;g.rf.ya=f.height;q.bz(g.rf,g.ud);g.vd=d;return g};q.sg=q.La.extend({Ve:null,Zk:null,ur:null,ctor:function(){this.Ve={};this.Zk={};this.ur=[]},kz:function(a,c){var d=a.metadata||a.meta,e=a.frames,f=0;d&&(f=d.format,f=1>=f.length?parseInt(f):f);if(0>f||3<f)q.log("format is not supported for cc.SpriteFrameCache.addSpriteFramesWithDictionary");else for(var g in e)if(d=e[g]){var k=this.Ve[g];if(!k){if(0==f){var k=parseFloat(d.x),h=parseFloat(d.y),l=parseFloat(d.width),m=parseFloat(d.height),n=parseFloat(d.offsetX),p=parseFloat(d.offsetY),t=parseInt(d.originalWidth),
d=parseInt(d.originalHeight);t&&d||q.log("cocos2d: WARNING: originalWidth/Height not found on the cc.SpriteFrame. AnchorPoint won't work as expected. Regenrate the .plist");t=Math.abs(t);d=Math.abs(d);k=q.Pd.Sa(c,q.rect(k,h,l,m),!1,q.a(n,p),q.size(t,d))}else if(1==f||2==f)k=q.YE(d.frame),h=!1,2==f&&(h=d.rotated),l=q.XE(d.offset),d=q.Oy(d.sourceSize),k=q.Pd.Sa(c,k,h,l,d);else if(3==f){var k=q.Oy(d.spriteSize),h=q.XE(d.spriteOffset),l=q.Oy(d.spriteSourceSize),m=q.YE(d.textureRect),n=d.textureRotated,
p=d.aliases,t=g.toString(),u;for(u in p)this.Zk.hasOwnProperty(p[u])&&q.log("cocos2d: WARNING: an alias with name "+u+" already exists"),this.Zk[p[u]]=t;d.hasOwnProperty("spriteSize")&&(m=q.rect(m.x,m.y,k.width,k.height));k=q.Pd.Sa(c,m,n,h,l)}else var w=d.filename,h=d.frame,k=d.sourceSize,h=q.rect(h.x,h.y,h.DL,h.h),d=d.rotated,l=q.a(0,0),k=q.size(k.DL,k.h),k=q.Pd.Sa(c,h,d,l,k);q.Kd===q.ng&&k.vd&&k.ia().Mg()&&(d=k.ia().sc,d=q.DH(d,k.FS()),h=new q.fc,h.ff(d),h.Yd(),k.ma(h),d=k.za,k.GK(q.rect(0,0,d.width,
d.height)));this.Ve[null!=w?w:g]=k}}},oH:function(a,c){if(!a)throw"cc.SpriteFrameCache.addSpriteFrames(): plist should be non-null";var d=q.Nd.f(),e;"plist"==a.substr(a.lastIndexOf(".",a.length)+1,a.length)?(e=d.ze(a),e=d.Cw(e)):e=JSON.parse(d.sI(a));switch(arguments.length){case 1:if(!q.Xx(this.ur,a)){var f="",g=e.metadata||e.meta;g&&(f=g.textureFileName||g.image);""!=f?f=d.ZH(f,a):(f=a,f=f.substr(0,f.lastIndexOf(".",f.length)),f+=".png");(d=q.ja.f().pa(f))?this.kz(e,d):q.log("cocos2d: cc.SpriteFrameCache: Couldn't load texture")}break;
case 2:if(c instanceof q.fc)this.kz(e,c);else{if(!c)throw"cc.SpriteFrameCache.addSpriteFrames(): texture name should not be null";(d=q.ja.f().pa(c))?this.kz(e,d):q.log("cocos2d: cc.SpriteFrameCache: couldn't load texture file. File not found "+c)}break;default:throw"Argument must be non-nil ";}},DB:function(a,c){this.Ve[c]=a},N9:function(){this.Ve=[];this.Zk=[];this.ur={}},M9:function(a){a&&(this.Zk.hasOwnProperty(a)&&delete this.Zk[a],this.Ve.hasOwnProperty(a)&&delete this.Ve[a],this.ur={})},O9:function(a){var c=
q.Nd.f(),d=c.ze(a),c=c.Cw(d);this.kP(c);q.Xx(this.ur,a)&&q.de(a)},kP:function(a){a=a.frames;for(var c in a)this.Ve.hasOwnProperty(c)&&delete this.Ve[c]},P9:function(a){for(var c in this.Ve){var d=this.Ve[c];d&&d.ia()==a&&delete this.Ve[c]}},Bh:function(a){var c;this.Ve.hasOwnProperty(a)&&(c=this.Ve[a]);if(!c){var d;this.Zk.hasOwnProperty(a)&&(d=this.Zk[a]);d&&(this.Ve.hasOwnProperty(d.toString())&&(c=this.Ve[d.toString()]),c||q.log("cocos2d: cc.SpriteFrameCahce: Frame "+a+" not found"))}return c}});
q.lx=null;q.sg.f=function(){q.lx||(q.lx=new q.sg);return q.lx};q.sg.SU=function(){q.lx=null};q.jq=29;
q.Ab=q.F.extend({Ra:null,na:null,Cd:null,T0:function(a,c,d){if(!a)throw"cc.SpriteBatchNode.addQuadFromSprite(): child should be non-null";if(!(a instanceof q.w))return q.log("cc.SpriteBatchNode.addQuadFromSprite(): SpriteBatchNode only supports cc.Sprites as children"),null;a.He(c);var e=0,f=this.Cd;if(f&&0<f.length)for(var g=0;g<f.length;g++){var k=f[g];k&&k.gd>=c&&++e}this.Cd=q.Ul(f,a,e);q.F.prototype.g.call(this,a,c,d);this.XJ(!1);return this},tI:function(){return this.Ra},Yp:function(a){a!=this.Ra&&
(this.Ra=a)},G3:function(){return this.Cd},dj:function(a,c){var d=q.ja.f().Jx(a);d||(d=q.ja.f().pa(a));return this.Pa(d,c)},Dm:function(){this.CF=!0},v:function(a,c){var d=q.ja.f().Jx(a);d||(d=q.ja.f().pa(a));return this.Pa(d,c)},Mw:function(){var a=this.Ra.sd,c=Math.floor(4*(a+1)/3);q.log("cocos2d: CCSpriteBatchNode: resizing TextureAtlas capacity from "+a+" to "+c+".");this.Ra.wV(c)||q.log("cocos2d: WARNING: Not enough memory to resize the atlas")},H9:function(a,c){this.removeChild(this.B[a],c)},
QJ:function(a,c){var d=a.B;if(d&&0<d.length)for(var e=0;e<d.length;e++){var f=d[e];f&&0>f.kb&&(c=this.QJ(f,c))}!a==this&&(a.He(c),c++);if(d&&0<d.length)for(e=0;e<d.length;e++)(f=d[e])&&0<=f.kb&&(c=this.QJ(f,c));return c},tC:function(a){var c=a.B;return c&&0!=c.length?this.tC(c[c.length-1]):a.gd},YT:function(a){var c=a.B;return c&&0!=c.length?this.YT(c[c.length-1]):a.gd},SQ:function(a,c){var d=a.getParent().B,e=q.Zx(d,a),f=a.getParent()==this,g=null;0<e&&e<q.nN&&(g=d[e-1]);if(f)return 0==e?0:this.tC(g)+
1;if(0==e)return d=a.getParent(),0>c?d.gd:d.gd+1;if(0>g.kb&&0>c||0<=g.kb&&0<=c)return this.tC(g)+1;d=a.getParent();return d.gd+1},XJ:function(a){this.se=a},Fl:function(a,c){this.na=1==arguments.length?a:{src:a,Ob:c}},ts:function(){return this.na},Os:function(a,c){if(!a)throw"cc.SpriteBatchNode.addChild():child should be non-null";-1===this.B.indexOf(a)?q.log("cc.SpriteBatchNode.addChild(): Child doesn't belong to Sprite"):c!==a.kb&&(q.F.prototype.Os.call(this,a,c),this.bb())},removeChild:function(a,
c){null!=a&&(-1===this.B.indexOf(a)?q.log("cc.SpriteBatchNode.addChild(): sprite batch node should contain the child"):(this.wn(a),q.F.prototype.removeChild.call(this,a,c)))},QO:null,Km:null,E0:!1,Qf:null,ctor:null,Nh:function(a){q.F.prototype.ctor.call(this);a&&this.v(a,q.jq)},Oh:function(a){q.F.prototype.ctor.call(this);this.QO=new q.Ch;a&&this.v(a,q.jq)},zL:null,vQ:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";a instanceof q.w?(a.Ie(this),a.He(c),
a.Ug(!0),a.lg()):q.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},wQ:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";if(a instanceof q.w){for(var d=this.Ra.sd;c>=d||d==this.Ra.Za;)this.Mw();a.Ie(this);a.He(c);a.Ug(!0);a.lg()}else q.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},aw:function(a,c){var d=this.Cd,e=this.Ra,f=e.Re,g=d[a],
k=q.$y(f[a]);d[c].He(a);d[a]=d[c];e.Px(f[c],a);d[c]=g;e.Px(k,c)},QI:null,EO:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";a instanceof q.w?(a.Ie(this),a.He(c),a.Ug(!0),a.lg(),this.B=q.Ul(this.B,a,c)):q.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},FO:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";if(a instanceof q.w){for(var d=this.Ra;c>=d.sd||
d.sd===d.Za;)this.Mw();a.Ie(this);a.He(c);d.BC(a.Sb,c);a.Ug(!0);a.lg()}else q.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},WG:function(a,c){var d=0,e=a.B;e&&(d=e.length);var f=0;if(0===d)f=a.gd,a.He(c),a.Vp(0),f!=c&&this.aw(f,c),c++;else{f=!0;0<=e[0].kb&&(f=a.gd,a.He(c),a.Vp(0),f!=c&&this.aw(f,c),c++,f=!1);for(d=0;d<e.length;d++){var g=e[d];f&&0<=g.kb&&(f=a.gd,a.He(c),a.Vp(0),f!=c&&this.aw(f,c),c++,f=!1);c=this.WG(g,c)}f&&(f=a.gd,a.He(c),
a.Vp(0),f!=c&&this.aw(f,c),c++)}return c},Qm:function(){this.Ra.ia().Bs()||(this.na.src=770,this.na.Ob=771)},Pa:null,nr:function(a){this.B=[];this.Cd=[];this.na=new q.Wl(q.Le,q.Ke);this.Km=this.Qf=a;return!0},or:function(a,c){this.B=[];this.Cd=[];this.na=new q.Wl(q.Le,q.Ke);c=c||q.jq;this.Ra=new q.co;this.Ra.Pa(a,c);this.Qm();this.Vg(q.Mh.f().ui(q.Ky));return!0},DT:function(a,c){a.Ie(this);a.He(c);a.Ug(!0);var d=this.Ra;d.Za>=d.sd&&this.Mw();d.BC(a.Sb,c);this.Cd=q.Ul(this.Cd,a,c);var d=c+1,e=this.Cd;
if(e&&0<e.length)for(;d<e.length;d++)e[d].He(e[d].gd+1);if((e=a.B)&&0<e.length)for(d=0;d<e.length;d++)if(e[d]){var f=this.SQ(e[d],e[d].kb);this.DT(e[d],f)}},appendChild:null,FN:function(a){this.se=!0;a.Ie(this);a.Ug(!0);this.Cd.push(a);a.He(this.Cd.length-1);a=a.B;for(var c=0;c<a.length;c++)this.appendChild(a[c])},GN:function(a){this.se=!0;a.Ie(this);a.Ug(!0);this.Cd.push(a);var c=this.Cd.length-1;a.He(c);var d=this.Ra;d.Za==d.sd&&this.Mw();d.BC(a.Sb,c);a=a.B;for(c=0;c<a.length;c++)this.appendChild(a[c])},
wn:null,lP:function(a){a.Ie(null);var c=this.Cd,d=q.Zx(c,a);if(-1!=d){q.eq(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.He(f.gd-1)}}if((a=a.B)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.wn(a[c])},mP:function(a){this.Ra.rV(a.gd);a.Ie(null);var c=this.Cd,d=q.Zx(c,a);if(-1!=d){q.eq(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.He(f.gd-1)}}if((a=a.B)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.wn(a[c])},ia:null,aA:function(){return this.Km},bA:function(){return this.Ra.ia()},ma:null,Kr:function(a){this.Km=
a;for(var c=this.B,d=0;d<c.length;d++)c[d].ma(a)},Lr:function(a){this.Ra.ma(a);this.Qm()},Aa:null,Rm:function(a){var c=a||q.$;if(this.wa){c.save();this.transform(a);var d=this.B;if(d)for(this.ce(),a=0;a<d.length;a++)d[a]&&d[a].Aa(c);c.restore()}},Sm:function(a){a=a||q.$;if(this.wa){q.Pp();var c=this.Mk;c&&c.Mp()&&(c.HB(),this.Nx());this.ce();this.transform(a);this.Wa(a);c&&c.Mp()&&c.EB(this);q.Op();this.Vp(0)}},g:null,hz:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";
a instanceof q.w?(c=null==c?a.kb:c,d=null==d?a.xd:d,q.F.prototype.g.call(this,a,c,d),this.appendChild(a),this.bb()):q.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},iz:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";a instanceof q.w?a.ia()!=this.Ra.ia()?q.log("cc.SpriteBatchNode.addChild(): cc.Sprite is not using the same texture"):(c=null==c?a.kb:c,d=null==d?a.xd:d,q.F.prototype.g.call(this,a,c,d),this.appendChild(a),
this.bb()):q.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},ic:null,hP:function(a){var c=this.Cd;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].Ie(null);q.F.prototype.ic.call(this,a);this.Cd=[]},iP:function(a){var c=this.Cd;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].Ie(null);q.F.prototype.ic.call(this,a);this.Cd=[];this.Ra.lV()},ce:null,$P:function(){if(this.se){var a,c=0,d=this.B,e=d.length,f;for(a=1;a<e;a++){var g=d[a],
c=a-1;for(f=d[c];0<=c&&(g.kb<f.kb||g.kb==f.kb&&g.Pf<f.Pf);)d[c+1]=f,c-=1,f=d[c];d[c+1]=g}0<d.length&&this.ug(d,q.F.Kf.ce);this.se=!1}},aQ:function(){if(this.se){var a=this.B,c,d=0,e=a.length,f;for(c=1;c<e;c++){var g=a[c],d=c-1;for(f=a[d];0<=d&&(g.kb<f.kb||g.kb==f.kb&&g.Pf<f.Pf);)a[d+1]=f,d-=1,f=a[d];a[d+1]=g}if(0<a.length)for(this.ug(a,q.F.Kf.ce),c=d=0;c<a.length;c++)d=this.WG(a[c],d);this.se=!1}},Wa:null,xg:function(){0!==this.Ra.Za&&(this.Oc.nf(),this.Oc.Xg(),this.ug(this.B,q.F.Kf.lg),q.hk(this.na.src,
this.na.Ob),this.Ra.SR())}});
q.Ja.Xc?(b=q.Ab.prototype,b.ctor=q.Ab.prototype.Oh,b.zL=q.Ab.prototype.wQ,b.QI=q.Ab.prototype.FO,b.Pa=q.Ab.prototype.or,b.appendChild=q.Ab.prototype.GN,b.wn=q.Ab.prototype.mP,b.ia=q.Ab.prototype.bA,b.ma=q.Ab.prototype.Lr,b.Aa=q.Ab.prototype.Sm,b.g=q.Ab.prototype.iz,b.ic=q.Ab.prototype.iP,b.ce=q.Ab.prototype.aQ,b.Wa=q.Ab.prototype.xg):(b=q.Ab.prototype,b.ctor=q.Ab.prototype.Nh,b.zL=q.Ab.prototype.vQ,b.QI=q.Ab.prototype.EO,b.Pa=q.Ab.prototype.nr,b.appendChild=q.Ab.prototype.FN,b.wn=q.Ab.prototype.lP,
b.ia=q.Ab.prototype.aA,b.ma=q.Ab.prototype.Kr,b.Aa=q.Ab.prototype.Rm,b.ic=q.Ab.prototype.hP,b.g=q.Ab.prototype.hz,b.ce=q.Ab.prototype.$P,b.Wa=q.F.prototype.Wa);q.Ab.create=function(a,c){c=c||q.jq;var d=new q.Ab;d.v(a,c);return d};q.Ab.Sa=function(a,c){c=c||q.jq;var d=new q.Ab;d.Pa(a,c);return d};q.xY={uY:0,wY:1,vY:2,tY:3,sY:4};
q.Me=q.La.extend({wr:0,fG:0,Vr:!1,Ur:!1,Xv:!1,Yv:!1,Zv:!1,NO:0,Bv:0,wq:"",$j:null,ctor:function(){this.fG=this.wr=0;this.Zv=this.Yv=this.Xv=this.Ur=this.Vr=!1;this.Bv=this.NO=0;this.wq="";this.$j={}},r4:function(){return this.wr},q4:function(){return this.fG},s4:function(){return this.Bv},Aba:function(){return this.Ur},Bba:function(){return this.Vr},yba:function(){return this.Xv},zba:function(){return this.Yv},Cba:function(){return this.Zv},tp:function(a){return-1<this.wq.indexOf(a)},v:function(){var a=
this.$j;a["cocos2d.x.version"]=q.wt;a["cocos2d.x.compiled_with_profiler"]=!1;a["cocos2d.x.compiled_with_gl_state_cache"]=q.BE;return!0},j3:function(a,c){var d=this.$j;return d.hasOwnProperty(a)?d[a]:c},e3:function(a,c){null==c&&(c=!1);var d=this.$j;return d.hasOwnProperty(a)?d[a]:c},A4:function(a,c){null==c&&(c=0);var d=this.$j;return d.hasOwnProperty(a)?d[a]:c},C4:function(a){var c=this.$j;return c.hasOwnProperty(a)?c[a]:null},yW:function(a,c){this.$j[a]=c},WR:function(){0===q.BE&&(q.log(""),q.log("cocos2d: **** WARNING **** CC_ENABLE_PROFILERS is defined. Disable it when you finish profiling (from ccConfig.js)"),
q.log(""))},fS:function(){if(q.Kd!==q.ng){var a=q.$,c=this.$j;c["gl.vendor"]=a.getParameter(a.VENDOR);c["gl.renderer"]=a.getParameter(a.RENDERER);c["gl.version"]=a.getParameter(a.VERSION);this.wq="";for(var d=a.getSupportedExtensions(),e=0;e<d.length;e++)this.wq+=d[e]+" ";this.wr=a.getParameter(a.MAX_TEXTURE_SIZE);c["gl.max_texture_size"]=this.wr;this.Bv=a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS);c["gl.max_texture_units"]=this.Bv;this.Vr=this.tp("GL_IMG_texture_compression_pvrtc");c["gl.supports_PVRTC"]=
this.Vr;this.Ur=!1;c["gl.supports_NPOT"]=this.Ur;this.Xv=this.tp("GL_IMG_texture_format_BGRA888");c["gl.supports_BGRA8888"]=this.Xv;this.Yv=this.tp("GL_EXT_discard_framebuffer");c["gl.supports_discard_framebuffer"]=this.Yv;this.Zv=this.tp("vertex_array_object");c["gl.supports_vertex_array_object"]=this.Zv;q.oE()}},U7:function(a){var c=q.Nd.f(),d=c.ze(a),c=c.Cw(d);if(null!=c)if(c=c.data)for(var e in c)this.$j[e]=c[e];else q.log("Expected 'data' dict, but not found. Config file: "+a)}});q.Me.Nr=null;
q.Me.f=function(){q.Me.Nr||(q.Me.Nr=new q.Me,q.Me.Nr.v());return q.Me.Nr};q.Me.m9=function(){q.Me.Nr=null};q.zh=0;q.$L=0;q.yE=1;q.aM=3;q.bM=q.yE;q.CY=0;q.AY=1;q.DY=2;q.BY=3;q.zY=2;q.GY=q.La.extend({hca:function(){}});q.CE=function(a){var c=new q.Ch;q.RT(q.Yt,c);var d=new q.Ch;q.RT(q.Xt,d);q.UT(a,c,d)};
q.ca=q.La.extend({l0:!1,Ar:!1,ym:!1,Nv:!1,Cm:!1,fh:0,qA:0,Xk:0,fo:0,km:1,Rq:!1,Hk:0,fv:0,Ak:null,Ck:null,Ik:null,Yb:null,Oj:null,Qi:null,Gv:null,mh:null,Wi:null,BA:null,wd:null,ne:0,mB:0,QA:0,X_:null,Eg:null,eh:null,Ze:null,lA:null,Hu:null,yr:null,k0:!1,ctor:function(){this.Oj=Date.now();if(!q.CC){var a=this;window.addEventListener("focus",function(){a.Oj=Date.now()},!1)}},rP:function(){this.Oj=Date.now()},v:function(){this.qA=this.fh=1/q.CR;this.Wi=[];this.Xk=q.bM;this.BA=null;this.fv=this.fo=0;
this.Rq=!1;this.mB=this.ne=0;this.Oj=Date.now();this.Nv=this.ym=!1;this.Yb=q.Em();this.mh=null;this.km=1;this.Eg=new q.aN;this.eh=new q.JL;this.Eg.cK(this.eh,q.au,!1);q.qa&&(this.Ze=new q.qa,this.Ze.v());q.Vn&&(this.lA=q.Vn.f());q.uk&&(this.Hu=new q.uk);q.he&&(this.yr=new q.he,this.yr.v());return!0},WQ:function(){var a=Date.now();this.Ar?(this.Hk=0,this.Ar=!1):this.Hk=(a-this.Oj)/1E3;0<q.qt&&0.2<this.Hk&&(this.Hk=1/60);this.Oj=a},tR:function(a){var c=new q.Ch;q.CE(c);var d=new q.Ch;q.M7(d,c);var c=
c.Dh[14]/c.Dh[15],e=this.mh.Ap();a=new q.Qp(2*a.x/e.width-1,1-2*a.y/e.height,c);c=new q.Qp;q.WT(c,a,d);return q.a(c.x,c.y)},vR:function(a){var c=new q.Ch;q.CE(c);var d=new q.Qp;a=new q.Qp(a.x,a.y,0);q.WT(d,a,c);c=this.mh.Ap();return q.a(c.width*(0.5*d.x+0.5),c.height*(0.5*-d.y+0.5))},TR:function(){this.WQ();this.ym||this.Eg.update(this.Hk);this.EF();this.Qi&&this.xW();this.pz&&this.pz();this.wd&&this.wd.Aa();this.Gv&&this.Gv.Aa();this.Rq&&this.ZP();this.lz&&this.lz();this.mB++;this.Rq&&this.NN()},
VN:function(){var a=this.mh.af;q.$.clearRect(-a.x,a.y,a.width,-a.height)},bO:function(){var a=q.$;a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},pz:null,lz:null,IN:function(){q.Pp()},EN:function(){q.Op()},end:function(){this.Nv=!0},v3:function(){return this.km},z4:function(){return this.Gv},l6:function(){return this.Yb},XS:function(){return q.size(this.Yb.width*this.km,this.Yb.height*this.km)},xs:function(){return this.mh?this.mh.xs():this.Yb},yI:function(){return this.mh?this.mh.yI():q.PM},zs:function(){return this.Yb.height/
1.1566},pause:function(){this.ym||(this.qA=this.fh,this.Rs(0.25),this.ym=!0)},f9:function(){if(!this.wd)throw"running scene should not null";this.Wi.pop();var a=this.Wi.length;0==a?this.end():(this.Cm=!0,this.Qi=this.Wi[a-1])},ZC:function(){q.wy.ZC()},QU:function(){this.Cf().gt();this.Ze&&this.Ze.kV();this.wd&&(this.wd.Eh(),this.wd.ae(),this.wd.Zf());this.Qi=this.wd=null;this.Wi=[];this.iL();q.wy.ZC();q.Tl.RU();q.sg.SU();q.ja.TU();q.oE()},UU:function(a){if(!a)throw"the scene should not null";this.Cm=
!1;this.Wi.push(a);this.Qi=a},YJ:function(a){if(!this.wd)throw"Use runWithScene: instead to start the director";if(!a)throw"the scene should not be null";var c=this.Wi.length;0===c?(this.Cm=!0,this.Wi[c]=a):(this.Cm=!0,this.Wi[c-1]=a);this.Qi=a},$J:function(){this.ym&&(this.Rs(this.qA),(this.Oj=Date.now())||q.log("cocos2d: Director: Error in gettimeofday"),this.ym=!1,this.Hk=0)},EV:function(a){if(!a)throw"This command can only be used to start the CCDirector. There is already a scene present.";if(this.wd)throw"_runningScene should be null";
this.UU(a);this.gL()},RV:function(a){a?q.hk(q.Le,q.Ke):q.hk(q.$.ONE,q.$.ZERO)},aW:function(a){a!=this.km&&(this.km=a,this.zo())},eW:function(a){if(q.Kd!==q.ng){var c=q.$;a?(c.clearDepth(1),c.enable(c.DEPTH_TEST),c.depthFunc(c.LEQUAL)):c.disable(c.DEPTH_TEST)}},z$:function(){},sK:function(){this.RV(!0);this.eW(!1);this.sx(this.Xk);q.$.clearColor(0,0,0,1)},faa:function(a){this.Ar=a},xW:function(){var a=!1,c=!1;q.mF&&(a=this.wd?this.wd instanceof q.mF:!1,c=this.Qi?this.Qi instanceof q.mF:!1);if(!c){if(c=
this.wd)c.Eh(),c.ae();this.Cm&&c&&c.Zf()}this.wd=this.Qi;this.Qi=null;a||null==this.wd||(this.wd.Pg(),this.wd.ti())},gaa:function(a){this.Gv=a},pc:function(){return this.BA},hg:function(a){this.BA=a},EW:function(a){this.Yb.MD(q.canvas.width);this.Yb.yD(q.canvas.height);this.mh=a||q.oa.f();q.Kd!==q.ng&&(a=q.Me.f(),a.fS(),a.WR(),this.zo(),this.sK(),this.Ze&&this.Ze.fW(!0))},VK:function(){if(this.mh){var a=this.Yb;this.mh.bX(0,0,a.width,a.height)}},sx:function(a){var c=this.Yb;if(q.Kd===q.zk){this.VK();
switch(a){case q.$L:q.en(q.Yt);q.IC();var d=new q.Ch;q.VT(d,0,c.width,0,c.height,-1024,1024);q.Vw(d);q.en(q.Xt);q.IC();break;case q.yE:var e=this.zs(),f=new q.Ch,d=new q.Ch;q.en(q.Yt);q.IC();q.N7(f,60,c.width/c.height,0.1,2*e);q.Vw(f);q.en(q.Xt);q.IC();e=q.Hs(null,c.width/2,c.height/2,e);c=q.Hs(null,c.width/2,c.height/2,0);f=q.Hs(null,0,1,0);q.TT(d,e,c,f);q.Vw(d);break;case q.aM:break;default:q.log("cocos2d: Director: unrecognized projection")}this.Xk=a;q.saa()}else this.Xk=a},ZP:function(){this.ne++;
this.fo+=this.Hk;this.Ak&&this.Ck&&this.Ik?(this.fo>q.ZL&&(this.Ck.ra(this.QA.toFixed(3)),this.fv=this.ne/this.fo,this.fo=this.ne=0,this.Ak.ra(this.fv.toFixed(1)),this.Ik.ra((0|q.zh).toString())),this.Ak.Aa(),this.Ck.Aa(),this.Ik.Aa()):this.zo();q.zh=0},t7:function(){return this.Cm},o5:function(){return this.wd},Y2:function(){return this.fh},V6:function(){return this.Rq},D$:function(a){this.Rq=a},u5:function(){return this.QA},N4:function(){return this.mh},g7:function(){return this.Ar},k7:function(){return this.ym},
T5:function(){return this.mB},c5:function(){return this.Xk},h9:function(){this.EU(1)},EU:function(a){if(!this.wd)throw"A running Scene is needed";var c=this.Wi,d=c.length;if(0==d)this.end();else if(!(a>d)){for(;d>a;){var e=c.pop();e.Ue&&(e.Eh(),e.ae());e.Zf();d--}this.Qi=c[c.length-1];this.Cm=!1}},Cf:function(){return this.Eg},QW:function(a){this.Eg!=a&&(this.Eg=a)},$f:function(){return this.eh},PV:function(a){this.eh!=a&&(this.eh=a)},V5:function(){return this.Ze},Vaa:function(a){this.Ze!=a&&(this.Ze=
a)},Hw:function(){if(!q.Vn)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";return this.lA},V$:function(a){if(!q.Vn)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";this.lA=a},zp:function(){if(!q.uk)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";return this.Hu},i$:function(a){if(!q.uk)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";this.Hu!=
a&&(this.Hu=a)},F3:function(){return this.Hk},Bf:function(){if(!q.he)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";return this.yr},daa:function(a){if(!q.he)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.yr!=a&&(this.yr=a)},zo:null,eO:function(){if(!q.vy)return this.HF();if(null!=q.ca.NF&&!1!=q.ca.NF){var a=new q.fc;a.ff(q.ca.Tz);a.Yd();var c=q.oa.f().Ap().height/320;0===c&&(c=this.Yb.height/320);var d=new q.vy;
d.SA(!0);d.pl("00.0",a,12,32,".");d.qk(c);this.Ak=d;d=new q.vy;d.SA(!0);d.pl("0.000",a,12,32,".");d.qk(c);this.Ck=d;d=new q.vy;d.SA(!0);d.pl("000",a,12,32,".");d.qk(c);this.Ik=d;a=q.zE;this.Ik.l(q.Rg(q.a(0,34*c),a));this.Ck.l(q.Rg(q.a(0,17*c),a));this.Ak.l(a)}},HF:function(){var a=0,a=this.Yb.width>this.Yb.height?0|this.Yb.height/320*24:0|this.Yb.width/320*24;this.Ak=q.U.create("000.0","Arial",a);this.Ck=q.U.create("0.000","Arial",a);this.Ik=q.U.create("0000","Arial",a);var a=q.zE,c=this.Ik.c();this.Ik.l(q.Rg(q.a(c.width/
2,5*c.height/2),a));c=this.Ck.c();this.Ck.l(q.Rg(q.a(c.width/2,3*c.height/2),a));c=this.Ak.c();this.Ak.l(q.Rg(q.a(c.width/2,c.height/2),a))},NN:function(){this.QA=(Date.now()-this.Oj)/1E3}});q.Ja.Xc?(q.ca.prototype.EF=q.ca.prototype.bO,q.ca.prototype.pz=q.ca.prototype.IN,q.ca.prototype.lz=q.ca.prototype.EN,q.ca.prototype.zo=q.ca.prototype.eO):(q.ca.prototype.EF=q.ca.prototype.VN,q.ca.prototype.zo=q.ca.prototype.HF);
q.cM=q.ca.extend({invalid:!1,gL:function(){this.Ar=!0;this.invalid=!1;q.qj.f().Rs(this.fh)},rJ:function(){this.Nv?(this.Nv=!1,this.QU()):this.invalid||this.TR()},iL:function(){this.invalid=!0},Rs:function(a){this.fh=a;this.invalid||(this.iL(),this.gL())}});q.kx=null;q.TH=!0;q.ca.f=function(){q.TH&&(q.TH=!1,q.kx=new q.cM,q.kx.v(),q.kx.EW(q.oa.f()));return q.kx};Object.defineProperties(q,{wca:{get:function(){return q.MR.Yb},enumerable:!0,configurable:!0}});q.N2=!0;q.CR=60;q.ca.Tz=new Image;
q.ca.Tz.addEventListener("load",function(){q.ca.NF=!0;this.removeEventListener("load",arguments.callee,!1)});q.ca.Tz.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAAgCAYAAAD9qabkAAAKQ2lDQ1BJQ0MgcHJvZmlsZQAAeNqdU3dYk/cWPt/3ZQ9WQtjwsZdsgQAiI6wIyBBZohCSAGGEEBJAxYWIClYUFRGcSFXEgtUKSJ2I4qAouGdBiohai1VcOO4f3Ke1fXrv7e371/u855zn/M55zw+AERImkeaiagA5UoU8Otgfj09IxMm9gAIVSOAEIBDmy8JnBcUAAPADeXh+dLA//AGvbwACAHDVLiQSx+H/g7pQJlcAIJEA4CIS5wsBkFIAyC5UyBQAyBgAsFOzZAoAlAAAbHl8QiIAqg0A7PRJPgUA2KmT3BcA2KIcqQgAjQEAmShHJAJAuwBgVYFSLALAwgCgrEAiLgTArgGAWbYyRwKAvQUAdo5YkA9AYACAmUIszAAgOAIAQx4TzQMgTAOgMNK/4KlfcIW4SAEAwMuVzZdL0jMUuJXQGnfy8ODiIeLCbLFCYRcpEGYJ5CKcl5sjE0jnA0zODAAAGvnRwf44P5Dn5uTh5mbnbO/0xaL+a/BvIj4h8d/+vIwCBAAQTs/v2l/l5dYDcMcBsHW/a6lbANpWAGjf+V0z2wmgWgrQevmLeTj8QB6eoVDIPB0cCgsL7SViob0w44s+/zPhb+CLfvb8QB7+23rwAHGaQJmtwKOD/XFhbnauUo7nywRCMW735yP+x4V//Y4p0eI0sVwsFYrxWIm4UCJNx3m5UpFEIcmV4hLpfzLxH5b9CZN3DQCshk/ATrYHtctswH7uAQKLDljSdgBAfvMtjBoLkQAQZzQyefcAAJO/+Y9AKwEAzZek4wAAvOgYXKiUF0zGCAAARKCBKrBBBwzBFKzADpzBHbzAFwJhBkRADCTAPBBCBuSAHAqhGJZBGVTAOtgEtbADGqARmuEQtMExOA3n4BJcgetwFwZgGJ7CGLyGCQRByAgTYSE6iBFijtgizggXmY4EImFINJKApCDpiBRRIsXIcqQCqUJqkV1II/ItchQ5jVxA+pDbyCAyivyKvEcxlIGyUQPUAnVAuagfGorGoHPRdDQPXYCWomvRGrQePYC2oqfRS+h1dAB9io5jgNExDmaM2WFcjIdFYIlYGibHFmPlWDVWjzVjHVg3dhUbwJ5h7wgkAouAE+wIXoQQwmyCkJBHWExYQ6gl7CO0EroIVwmDhDHCJyKTqE+0JXoS+cR4YjqxkFhGrCbuIR4hniVeJw4TX5NIJA7JkuROCiElkDJJC0lrSNtILaRTpD7SEGmcTCbrkG3J3uQIsoCsIJeRt5APkE+S+8nD5LcUOsWI4kwJoiRSpJQSSjVlP+UEpZ8yQpmgqlHNqZ7UCKqIOp9aSW2gdlAvU4epEzR1miXNmxZDy6Qto9XQmmlnafdoL+l0ugndgx5Fl9CX0mvoB+nn6YP0dwwNhg2Dx0hiKBlrGXsZpxi3GS+ZTKYF05eZyFQw1zIbmWeYD5hvVVgq9ip8FZHKEpU6lVaVfpXnqlRVc1U/1XmqC1SrVQ+rXlZ9pkZVs1DjqQnUFqvVqR1Vu6k2rs5Sd1KPUM9RX6O+X/2C+mMNsoaFRqCGSKNUY7fGGY0hFsYyZfFYQtZyVgPrLGuYTWJbsvnsTHYF+xt2L3tMU0NzqmasZpFmneZxzQEOxrHg8DnZnErOIc4NznstAy0/LbHWaq1mrX6tN9p62r7aYu1y7Rbt69rvdXCdQJ0snfU6bTr3dQm6NrpRuoW623XP6j7TY+t56Qn1yvUO6d3RR/Vt9KP1F+rv1u/RHzcwNAg2kBlsMThj8MyQY+hrmGm40fCE4agRy2i6kcRoo9FJoye4Ju6HZ+M1eBc+ZqxvHGKsNN5l3Gs8YWJpMtukxKTF5L4pzZRrmma60bTTdMzMyCzcrNisyeyOOdWca55hvtm82/yNhaVFnMVKizaLx5balnzLBZZNlvesmFY+VnlW9VbXrEnWXOss623WV2xQG1ebDJs6m8u2qK2brcR2m23fFOIUjynSKfVTbtox7PzsCuya7AbtOfZh9iX2bfbPHcwcEh3WO3Q7fHJ0dcx2bHC866ThNMOpxKnD6VdnG2ehc53zNRemS5DLEpd2lxdTbaeKp26fesuV5RruutK10/Wjm7ub3K3ZbdTdzD3Ffav7TS6bG8ldwz3vQfTw91jicczjnaebp8LzkOcvXnZeWV77vR5Ps5wmntYwbcjbxFvgvct7YDo+PWX6zukDPsY+Ap96n4e+pr4i3z2+I37Wfpl+B/ye+zv6y/2P+L/hefIW8U4FYAHBAeUBvYEagbMDawMfBJkEpQc1BY0FuwYvDD4VQgwJDVkfcpNvwBfyG/ljM9xnLJrRFcoInRVaG/owzCZMHtYRjobPCN8Qfm+m+UzpzLYIiOBHbIi4H2kZmRf5fRQpKjKqLupRtFN0cXT3LNas5Fn7Z72O8Y+pjLk722q2cnZnrGpsUmxj7Ju4gLiquIF4h/hF8ZcSdBMkCe2J5MTYxD2J43MC52yaM5zkmlSWdGOu5dyiuRfm6c7Lnnc8WTVZkHw4hZgSl7I/5YMgQlAvGE/lp25NHRPyhJuFT0W+oo2iUbG3uEo8kuadVpX2ON07fUP6aIZPRnXGMwlPUit5kRmSuSPzTVZE1t6sz9lx2S05lJyUnKNSDWmWtCvXMLcot09mKyuTDeR55m3KG5OHyvfkI/lz89sVbIVM0aO0Uq5QDhZML6greFsYW3i4SL1IWtQz32b+6vkjC4IWfL2QsFC4sLPYuHhZ8eAiv0W7FiOLUxd3LjFdUrpkeGnw0n3LaMuylv1Q4lhSVfJqedzyjlKD0qWlQyuCVzSVqZTJy26u9Fq5YxVhlWRV72qX1VtWfyoXlV+scKyorviwRrjm4ldOX9V89Xlt2treSrfK7etI66Trbqz3Wb+vSr1qQdXQhvANrRvxjeUbX21K3nShemr1js20zcrNAzVhNe1bzLas2/KhNqP2ep1/XctW/a2rt77ZJtrWv913e/MOgx0VO97vlOy8tSt4V2u9RX31btLugt2PGmIbur/mft24R3dPxZ6Pe6V7B/ZF7+tqdG9s3K+/v7IJbVI2jR5IOnDlm4Bv2pvtmne1cFoqDsJB5cEn36Z8e+NQ6KHOw9zDzd+Zf7f1COtIeSvSOr91rC2jbaA9ob3v6IyjnR1eHUe+t/9+7zHjY3XHNY9XnqCdKD3x+eSCk+OnZKeenU4/PdSZ3Hn3TPyZa11RXb1nQ8+ePxd07ky3X/fJ897nj13wvHD0Ivdi2yW3S609rj1HfnD94UivW2/rZffL7Vc8rnT0Tes70e/Tf/pqwNVz1/jXLl2feb3vxuwbt24m3Ry4Jbr1+Hb27Rd3Cu5M3F16j3iv/L7a/eoH+g/qf7T+sWXAbeD4YMBgz8NZD+8OCYee/pT/04fh0kfMR9UjRiONj50fHxsNGr3yZM6T4aeypxPPyn5W/3nrc6vn3/3i+0vPWPzY8Av5i8+/rnmp83Lvq6mvOscjxx+8znk98ab8rc7bfe+477rfx70fmSj8QP5Q89H6Y8en0E/3Pud8/vwv94Tz+4A5JREAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfcAgcQLxxUBNp/AAAQZ0lEQVR42u2be3QVVZbGv1N17829eRLyIKAEOiISEtPhJTJAYuyBDmhWjAEx4iAGBhxA4wABbVAMWUAeykMCM+HRTcBRWkNH2l5moS0LCCrQTkYeQWBQSCAIgYRXEpKbW/XNH5zS4noR7faPEeu31l0h4dSpvc+t/Z199jkFWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhY/H9D/MR9qfKnLj/00U71aqfJn9+HCkCR/Wk36ddsgyJ/1wF4fkDfqqm9/gPsUeTnVr6a2xlQfnxdI7zs0W7irzD17Ytb2WT7EeNv/r4ox1O3Quf2QP2pgt9utwfout4FQE8AVBSlnaRmfvAURQkg2RlAbwB9AThlW5L0GaiKojhJhgOIBqDa7XaPrusdPtr5kQwF0BVAAoBIABRCKDd5aFUhRDAAw57eAOwAhKIoupft3zoqhB1AqLwuHIBut9uFt02qqvqRDJR2dAEQJj/BAOjn56dqmma+xiaECAEQAWAggLsB6A6HQ2iaZggBhBAqgEAAnQB0kzaEmT4hAITT6VQ8Ho/HJAKKECJQtr8LwD1y/A1/vcdfEUIEyfZ9AcQbYvZ942Px88L2UwlJR0dH0EMPPbRj5syZPUeNGrXR7Xb/641xIwJ1XY9NSUlZm52dfW+XLl1w8uRJzJ8//+OGhoYJqqqe1TSt1Wsm9NN1PSIqKmr12rVrR5WUlHy1bdu2AQCumWc3IYRD1/UwVVXnFRQUTIuNjUVzczN2797dWFJSkq8oymZd15sAGAEnFEUJ1nX9nzIzM1dnZmZGh4SE4OTJk5g5c+Zf29vbp9pstrMej6fVOyhIhgAYU1hY+B+hoaGoqKg4XVlZea+XTULTNFdCQsLGiRMnPuR2u3UhBOV9eeDAAWXTpk095DUe6WsoyRE5OTlr0tLSAux2O/bs2cO5c+e+pijKUpIXSHaQVAGkvPLKK++6XK4OksJLCFlXV2cvKSlJBFAjhU+x2WwhHo9nUHp6+urMzMy7wsLCUF9fjxdffPHjxsbGiTab7WuPx9NiEutOuq4PyMjI+M+srKyYqKgoHD58GDNmzNjq8XhyVFU9b/q+LH7hBAEYu3PnTlZVVRFAGgCX6f/tAHoOHDjwa0p27txp/JO9e/f+QM7cipw9nfL3kQBKt2zZQpJ87rnn6mQmoHilw2EACs+cOUOSrK+vZ1NTE0nyo48+IoBpxswoBcMJ4Ndjx471kOTFixe5d+9ekqTH42H//v13A4jyzpAURfEH0H/OnDnthu1z5sw558MmFUCPWbNmnaMP3nrrLZoyDmP8Hl68eDFJ8siRI9/Yc+zYMQKYKdtAztrTrl27xptRXV1NAKMAOAyBBBA/Y8aMdpLs6Ojgxx9//E37+++//29yvFXppwvAwMcee8xjtDHsuXLlCqOjo//ia3wsfpkoALqFhoZuIckJEyackimm3dQmEMDUmpoakmRISMhhAHOHDx/eQJIbN24kgKEyMAHAFRMTs2XXrl1saWkhSZ0kp0+ffhrAr3wEW/S8efOukORLL72kA1gKYMPWrVtJkk899dRJAHeYrgsEsIQkjx8/TgDvAPjd448/3kaSb7zxBmUa7vC6z53BwcFbSHL9+vU6Sc6aNes8gF5ewWAH0PfVV18lSQL4DMBGIcQ6AKtcLleBFC2jXtFt8ODBe0iyoqKCAJYByC8qKmJDQwOzsrK+MAmqo1OnTveHhoa+GRkZ+XZkZOSWiIiIvzgcjk9mzpypkWRmZuZpmbYbGV4AgPnNzc1sa2sjgN0A5iQmJtaSZHl5OQHcb/K3s81mW0uSTU1NBFAFYFbfvn1Pk+Tbb79NAA8IIVzW42/hByA+Pz/fLR/2ZXIda05NI/z9/TeR5J49ewhgqlxTrtI0jY2NjQQw3zTLuWJiYjaUlJToS5Ys6fjkk080kwDEeAmADcA9GzZsIElGRUW9CyAWwLApU6Y0kOSKFSsog9QICGdERMTGsrIyZmVlEcC9AB4IDw/fTpLbtm0jgN94CUAnAJmVlZVcs2aNZ/LkyRdJcvbs2b4EwAkgZfPmzTxw4AABFAN4BkC6vFeUSewcAO5duXIlSTIhIaEawGMAxgKYAmAGgCS73e5vrKVk/yGythANYEhCQsIhkly+fDkBpKqqGmL6DgIALDKN/3yZpVWQZGVlJQE8aPI3KiMjo5okV61aRQAjAPQBMPfIkSN0u90EUCBtsPiFEwpgbn19PdetW2fM5N4zQ9ekpKQqkty0aRMBpMjiWM6JEydIkoqirJUFJ6iq6pAPVy8A6cZMehMBUACEuVyuFwG8HBwcPEIWx367ZMkSjSQXLVrUJouTRorrkAHdA8BdQogsAOsKCwtJkmPGjDkvMw2bDDo/ADEjRoz4XylyFbm5uY0mAbjLyyZ/AOOrq6tZVlbWsWDBgo69e/eyoqKCgwcPPg4gSQaoIRbp27dvN7KF+tLSUr28vJwFBQXtMpvpYRIM7+wrAkDeqVOnePbsWQIoNKfzpiXPg8uXLydJJicnNwF4f+nSpW6STEtLq5fjYwhk1wkTJtSQ5Ouvv04AqTKj+N2xY8dIkgEBAW/Ie1v8wncRegwZMmQvSfbr12+3Ua33WqPfOWbMmP0kWVpaSgCDZAqcfejQIWNZsEGKgvnh9gfQb9myZd8nAEJVVZtMkUNk8CcNHTq0liR1XWdYWNhmH1mJIme80OnTp18x1rp5eXkEsNJms92Fb7e/IgEsvHz5Mp999tkmAI/l5uZeMC0B7vEqqAYAyL106RJJsra2lpWVld+sucePH38ZQG+5NncBeOrgwYMkqbe3t/Po0aOsra011wAWyl0H7x0JJ4DE+fPnu0kyPT29DsDdUrBuyNKEEAkAdpw/f/6GeoEM8GUmfwEgPCIiopwkGxsbabPZPgOw6L777vvm4p49e26VGYjFLxUhhD+ApLKyMp44ccIoVnXybgbgzkcfffRzklyzZg0BDJYCMMmoCwQFBXkLgLGWvvcWAgBToSsKwNPTp09vMR7UuLi4rwH0lgU8c/Db5ezbeeTIkRWzZ8++aMxu+fn5BPCADBwHgP4LFy701NXVEUAJgAnPP/98kyxMNgHo53A4zH77BQQETMvPz7+Um5vbBuAlAFMSExPPmdbVL0qh8Acw8fDhw5SCchVAEYAVb775JknyhRdeaJYztHfxMwLAaqNwCGC2FArv8x0hAHKNLGPKlCme5OTk/Zs3bzb7O0wKiiG8KXl5ed8IxenTp0mSR48e1UmyW7duWywBuD2xyQcgFECgoih+8H1gyJgZV5Lkyy+/3CbTRIePtl2HDBmyw1QBHyGDdXZdXR1JUghRKkXBjOMHCoBdpr0L3nvvPZLkF198wejo6O0A4lVVDTb74HQ6AwD8Wq7Jh8rgGgDgQ13XjVR8qaxJuADMbmlpYXl5uV5UVNRWUFDgfv/993Vj/ZydnU1c37eHXML4S3viAcQqitJD2l104cIFY8lTKsXSBWBMVVWVcd9yed2A1NTUQ6Zl00CvLMMOoHdubm6zFIlWOf5+PsY/Kj09vdrU11QAwwGsv3jxIk21m2DZr10I0RXAuAcffPBgaWkpV69eTYfDcdiwUxY0w6xw+flX8L1xApjevXv3lREREaW6rofB93aPDUDQpEmTMgHgtddeqwBwEd/utZvpqK6uPgEAcXFxkA94NwB9unfvjrNnz4LklwDcf08iIqv66Zs2bXrl4YcfxooVKxAbG7uqrq5uAYA2TdOEqqpGYIi2tjbl6aeffu/YsWPv5uTk7JaC1wHg4Pnz542MwoVvTx+21dbWYvjw4WLixIl+2dnZ9lGjRgmSTE1NRUpKCkwFTGiaxtTU1OXTpk3707Bhw/6g67pDipnT4biuj7qut+Lbk3Vf1tTUXI9qu91Pjq1QFEUBgJaWFgBo8yGOQ8eNGxcAAOvXr/8QwBUfYygAKL169eoCABcuXACAWtn2hOGv0+kMNO1KiPDw8F4A4rZv3/7R1KlTR0+bNu1ht9u9r1+/fqitrQXJgwDarRC6/QjPzs4+QJIffPCB9/aQmSAA43ft2mW0e1QGoi8CAPyLsZccExNTC2BlRkbGRdOyYJCP2csBIN6UAZzCd7cBbQCijYp/dXU1ExMTz6SmptaMHj36f9LS0vYlJCRsl6mxIWSdu3fv/g5J7t+/nwC2AShMTk6+SJKff/45AWRLYbD7+fndAeDf5BJnLoCCyZMnt5JkdnZ2C4B/F0KEm1Pu+Pj4rST55ZdfEsBWAK+mpaVdMo3raDn7KwDuSEpK+m+S3LBhAwG8DuCtHTt2UBbpjgC408vvcFVV15HkuXPnjMp+p5uMf0RcXNyHJNnQ0EBVVfcCWBQXF3fG+Jv0yxABPwB5LS0tRmFxN4BlTzzxxGWSXLx4sS5F3GGFy+1Hp5SUlJq6ujoWFxdTpsZ2H+0iIyMj/0iSWVlZX5mr5jfJFroPGzasxlhTnjp1iiTZ3NxMl8tlrCd9pfa9SkpKSJI5OTmnZOageLUZZqxvfVFWVkZcPwdgNwnSCKPqb17jkmR8fPzfZMDZ5CRsFBmNI7h95s2b1yhT7/MAYmStwCx4vy0uLqa3v5qmEcCfvSr1QQAeXb16NY3Cm3HQ55133iGAp+SxZTNhKSkpfzUddkrFjYevzAQCeGjp0qXfsYckY2NjTwD4leGDLCL2HTdunNtoY+zWSHFcIHdsFCtcfuZ1vO9Eqs3m7/F47sb1k2qX/f3997W2tl7BjWfpBYDOzzzzzIVJkyZh0KBBCwEsB3AJvl9AETabLcDj8dwRFRW1ctasWb8JCgpSzp07d62wsPC/Wltb8xRFadR1/ZqPXYbgAQMGbI2Pjw/+6quv9ldVVT0r01ezuPRJSUn5Y9euXXVd11WzDaqq6kePHm3+7LPPRgO4KlNuxWazhXo8nuTk5OSXMjIyEl0uFxoaGtqKior+dPXq1VdUVT0jj7r68ieoT58+vx8yZMjdx48fP1JVVTVF9m20VW02WyfZf97YsWPjXS4X6urqWvPy8jYCWCyEuEDS8FdVFKWzruv//OSTTy5OTk7uqWkaPv3007qysrJ8RVH+LI8ym8/rB3Tu3HnRI488knLo0KG2ffv2ZQI4C98vP6mqqoZqmpaclpa2cOTIkX39/f3R0NDQUVxc/G5TU9PLqqrWa5rWLH1QVFUN0TStX1JSUvH48eP7BwYG4uDBg1cKCgpeBbBe2u+2Qug2EwD5N5sMPuNtMe8XP4TT6Qxoa2sbIGeXvUKIK7d4IISiKC5d1wPljOfA9bPwzYqiXNV13dd6Uqiq6qdpml2mpe02m63d4/G4vcTF5fF47LJf71nJA6BZVVW3pmntuPHlmAD5wk6Q9NnbHp9vHaqq6tA0zU/64PZhk1FfCZB9G/23ALiqKEqzD39tpvbGUqoFwFUhRLP3yzpCCDtJpxyXDulfG27+pqRR3DXsUWVd4Yq0x/taVQjhIhksC8L+ABpM9ljBf5sKwI8pIBr75L5E4vvu+UNeG/a+hv+AL7yFH8qPtOfHjtOP6V/Bja8D6z/B2Nys/1u9Xv33tLf4GfF/LC4GCJwByWIAAAAASUVORK5CYII\x3d";q.hq=q.La.extend({er:null,fr:null,gr:null,uo:null,vo:null,wo:null,es:null,fs:null,gs:null,Na:null,xv:null,ctor:function(){this.xv=new q.Ch;this.restore()},description:function(){return"\x3cCCCamera | center \x3d("+this.uo+","+this.vo+","+this.wo+")\x3e"},Ug:function(a){this.Na=a},YI:function(){return this.Na},restore:function(){this.er=this.fr=0;this.gr=q.hq.zs();this.es=this.uo=this.vo=this.wo=0;this.fs=1;this.gs=0;q.L7(this.xv);this.Na=!1},nJ:function(){if(this.Na){var a=new q.Qp,c=new q.Qp,d=new q.Qp;
q.Hs(a,this.er,this.fr,this.gr);q.Hs(c,this.uo,this.vo,this.wo);q.Hs(d,this.es,this.fs,this.gs);q.TT(this.xv,a,c,d);this.Na=!1}q.Vw(this.xv)},I$:function(a,c,d){this.pK(a,c,d)},pK:function(a,c,d){this.er=a;this.fr=c;this.gr=d;this.Na=!0},r$:function(a,c,d){this.XV(a,c,d)},XV:function(a,c,d){this.uo=a;this.vo=c;this.wo=d;this.Na=!0},Waa:function(a,c,d){this.$W(a,c,d)},$W:function(a,c,d){this.es=a;this.fs=c;this.gs=d;this.Na=!0},O3:function(){return{x:this.er,y:this.fr,z:this.gr}},eI:function(){return{x:this.er,
y:this.fr,z:this.gr}},m3:function(){return{x:this.uo,y:this.vo,z:this.wo}},cI:function(){return{x:this.uo,y:this.vo,z:this.wo}},a6:function(){return{x:this.es,y:this.fs,z:this.gs}},VS:function(){return{x:this.es,y:this.fs,z:this.gs}},L_:function(){}});q.hq.zs=function(){return q.Rt};q.au=-2147483648;q.FZ=q.au+1;q.nt=function(a,c){if(a&&0<a.length)for(var d=0;d<a.length;d++)if(!(a[d]instanceof c)){q.log("element type is wrong!");break}};q.eq=function(a,c){a.splice(c,1)};q.de=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c){a.splice(d,1);break}};q.jY=function(a,c){for(var d=0,e=c.length;d<e;d++)q.de(a,c[d])};q.iY=function(a,c){return a.indexOf(c)};q.gY=function(a,c){a.push(c)};q.Ul=function(a,c,d){a.splice(d,0,c);return a};
q.hY=function(a,c,d){a.splice.apply(a,[d,0].concat(c));return a};q.Zx=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c)return d;return-1};q.Xx=function(a,c){return-1!=a.indexOf(c)};q.$Y=function(a,c){if(null==a)return null;for(var d=0;d<a.length;d++)if(a[d].target===c)return a[d];return null};q.HE=function(a,c,d){this.next=null;this.target=a;this.NJ=c;this.paused=d;this.xl=!1};q.DE=function(a,c,d){this.list=a;this.an=c;this.target=d;this.hh=null};
q.mM=function(a,c){this.kg=null;this.target=a;this.$p=0;this.os=this.ns=null;this.paused=c;this.hh=null};
q.ru=q.La.extend({Nj:0,Tf:null,Y:null,oc:0,xG:!1,ow:!1,jp:0,JA:0,Zu:0,ctor:function(){},j4:function(){return this.Nj},setInterval:function(){},v5:function(){return this.Tf},Lg:function(a,c,d,e,f){this.Y=a;this.Tf=c;this.oc=-1;this.Nj=d||0;this.Zu=f||0;this.ow=0<this.Zu;this.JA=null==e?q.Zl:e;this.xG=this.JA==q.Zl;return!0},sz:function(){if("string"==typeof this.Tf)this.Y[this.Tf](this.oc);else this.Tf.call(this.Y,this.oc)},update:function(a){if(-1==this.oc)this.jp=this.oc=0;else{var c=this.Y,d=this.Tf;
this.xG&&!this.ow?(this.oc+=a,this.oc>=this.Nj&&(c&&d&&this.sz(),this.oc=0)):(this.oc+=a,this.ow?this.oc>=this.Zu&&(c&&d&&this.sz(),this.oc-=this.Zu,this.jp+=1,this.ow=!1):this.oc>=this.Nj&&(c&&d&&this.sz(),this.oc=0,this.jp+=1),this.jp>this.JA&&q.ca.f().Cf().tL(c,d))}}});q.ru.Vba=function(a,c,d){if(2>arguments.length)throw Error("timerWithTarget'argument can't is null");var e=new q.ru;e.Lg(a,c,d||0,q.Zl,0);return e};q.y0=null;
q.aN=q.La.extend({Yr:1,vh:null,di:null,Hg:null,Jj:null,Ku:null,Ij:null,T_:null,pf:null,Ji:!1,lw:!1,ctor:function(){this.Yr=1;this.vh=[];this.di=[];this.Hg=[];this.Jj={};this.Ku=[];this.Ij={};this.Dk=[];this.pf=null;this.lw=this.Ji=!1},IA:function(a){delete this.Ij[a.target.nc];q.de(this.Dk,a);a.ru=null;a.target=null},Z_:function(a,c){for(var d=0;d<a.length;d++)if(a[d].target==c)return a[d];return null},Pv:function(a){if(a=this.Jj[a.target.nc])q.de(a.list,a.an),delete this.Jj[a.target.nc],q.de(this.Ku,
a),a.an=null,a.target=null},qG:function(a,c,d,e){e=new q.HE(c,d,e);if(a){for(var f=!1,g=0;g<a.length;g++)if(d<a[g].NJ){a=q.Ul(a,e,g);f=!0;break}f||a.push(e)}else a=[],a.push(e);d=new q.DE(a,e,c);this.Ku.push(d);this.Jj[c.nc]=d;return a},HN:function(a,c,d){d=new q.HE(c,0,d);a.push(d);a=new q.DE(a,d,c);this.Ku.push(a);this.Jj[c.nc]=a},Qaa:function(a){this.Yr=a},O5:function(){return this.Yr},update:function(a){this.lw=!0;1!=this.Yr&&(a*=this.Yr);var c,d;for(d=0;d<this.vh.length;d++)c=this.vh[d],c.paused||
c.xl||c.target.update(a);for(d=0;d<this.di.length;d++)c=this.di[d],c.paused||c.xl||c.target.update(a);for(d=0;d<this.Hg.length;d++)c=this.Hg[d],c.paused||c.xl||c.target.update(a);for(d=0;d<this.Dk.length;d++){c=this.pf=this.Dk[d];this.Ji=!1;if(!this.pf.paused)for(c.$p=0;c.$p<c.kg.length;c.$p++)c.ns=c.kg[c.$p],c.os=!1,c.ns.update(a),c.ns=null;this.Ji&&0==this.pf.kg.length&&this.IA(this.pf)}for(d=0;d<this.vh.length;d++)this.vh[d].xl&&this.Pv(this.vh[d]);for(d=0;d<this.di.length;d++)this.di[d].xl&&this.Pv(this.di[d]);
for(d=0;d<this.Hg.length;d++)this.Hg[d].xl&&this.Pv(this.Hg[d]);this.lw=!1;this.pf=null},HV:function(a,c,d,e,f,g){if(!c)throw"cc.scheduler.scheduleCallbackForTarget(): callback_fn should be non-null.";if(!a)throw"cc.scheduler.scheduleCallbackForTarget(): target should be non-null.";d=d||0;e=null==e?q.Zl:e;f=f||0;g=g||!1;var k=this.Ij[a.nc];k||(k=new q.mM(a,g),this.Dk.push(k),this.Ij[a.nc]=k);if(null==k.kg)k.kg=[];else for(var h=0;h<k.kg.length;h++)if(g=k.kg[h],c==g.Tf){q.log("CCSheduler#scheduleCallback. Callback already scheduled. Updating interval from:"+
g.Nj.toFixed(4)+" to "+d.toFixed(4));g.Nj=d;return}g=new q.ru;g.Lg(a,c,d,e,f);k.kg.push(g)},cK:function(a,c,d){var e=this.Jj[a.nc];e?e.an.xl=!1:0==c?this.HN(this.di,a,d):0>c?this.vh=this.qG(this.vh,a,c,d):this.Hg=this.qG(this.Hg,a,c,d)},tL:function(a,c){if(null!=a&&null!=c){var d=this.Ij[a.nc];if(null!=d)for(var e=0;e<d.kg.length;e++){var f=d.kg[e];if(c==f.Tf){f!=d.ns||d.os||(d.os=!0);q.eq(d.kg,e);d.$p>=e&&d.$p--;0==d.kg.length&&(this.pf==d?this.Ji=!0:this.IA(d));break}}}},aq:function(a){null!=a&&
(a=this.Jj[a.nc],null!=a&&(this.lw?a.an.xl=!0:this.Pv(a.an)))},sL:function(a){if(null!=a){var c=this.Ij[a.nc];c&&(!c.os&&q.Xx(c.kg,c.ns)&&(c.os=!0),c.kg.length=0,this.pf==c?this.Ji=!0:this.IA(c));this.aq(a)}},gt:function(){this.FX(q.au)},FX:function(a){var c;for(c=0;c<this.Dk.length;c++)this.sL(this.Dk[c].target);if(0>a)for(c=0;c<this.vh.length;c++)this.aq(this.vh[c].target);if(0>=a)for(c=0;c<this.di.length;c++)this.aq(this.di[c].target);for(c=0;c<this.Hg.length;c++)this.Hg[c].NJ>=a&&this.aq(this.Hg[c].target)},
b9:function(){return this.zU(q.au)},zU:function(a){var c=[],d,e;for(d=0;d<this.Dk.length;d++)if(e=this.Dk[d])e.paused=!0,c.push(e.target);if(0>a)for(d=0;d<this.vh.length;d++)if(e=this.vh[d])e.paused=!0,c.push(e.target);if(0>=a)for(d=0;d<this.di.length;d++)if(e=this.di[d])e.paused=!0,c.push(e.target);for(d=0;d<this.Hg.length;d++)if(e=this.Hg[d])e.paused=!0,c.push(e.target);return c},BV:function(a){if(a)for(var c=0;c<a.length;c++)this.xn(a[c])},Ns:function(a){if(!a)throw"cc.Scheduler.pauseTarget():target should be non-null";
var c=this.Ij[a.nc];c&&(c.paused=!0);if(a=this.Jj[a.nc])a.an.paused=!0},xn:function(a){if(!a)throw"cc.Scheduler.resumeTarget():target should be non-null";var c=this.Ij[a.nc];c&&(c.paused=!1);if(a=this.Jj[a.nc])a.an.paused=!1},w7:function(a){if(!a)throw"cc.Scheduler.isTargetPaused():target should be non-null";return(a=this.Ij[a.nc])?a.paused:!1}});q.Hy={IMAGE:["png","jpg","bmp","jpeg","gif"],SOUND:["mp3","ogg","wav","mp4","m4a"],XML:["plist","xml","fnt","tmx","tsx"],BINARY:["ccbi"],FONT:"FONT",TEXT:["txt","vsh","fsh","json","ExportJson"],UNKNOW:[]};
q.Qb=q.La.extend({Ao:0,as:0,vr:0,zm:null,fh:1/60,Nj:null,ZF:!1,ctor:function(){this.zm=[]},Rw:function(a,c,d){if(a){c&&(this.Tf=c,this.Y=d);if(a!=this.zm||0==this.Ao){this.vr=this.Ao=0;if(a[0]instanceof Array)for(c=0;c<a.length;c++)this.zm=this.zm.concat(a[c]);else this.zm=a;this.as=this.zm.length}this.vP()}else console.log("resources should not null")},TV:function(a){this.ZF=a},zl:function(a){this.vr++;q.log("cocos2d:Failed loading resource: "+a)},eg:function(){this.vr++},Jw:function(){var a=0;return a=
0==this.as?100:0|this.vr/this.as*100},hV:function(a){if(a&&0<a.length)for(var c=q.ja.f(),d=q.Hh?q.Hh.f():null,e=q.xk.f(),f=q.Nd.f(),g,k=0;k<a.length;k++){g=a[k];var h=this.QF(g);switch(h){case "IMAGE":c.tV(g.src);break;case "SOUND":if(!d)throw"Can not find AudioEngine! Install it, please.";d.bca(g.src);break;case "XML":e.DX(g.src);break;case "BINARY":f.CX(g.src);break;case "TEXT":f.EX(g.src);break;case "FONT":break;default:throw"cocos2d:unknown filename extension: "+h;}}},bP:function(){this.mw();
if(this.ZF){var a=q.ca.f().fv;if(null!=a&&20>a){q.log("cocos2d: frame rate less than 20 fps, skip frame.");return}}this.Ao<this.as&&(this.KO(),this.Ao++)},KO:function(){var a=q.ja.f(),c=q.Hh?q.Hh.f():null,d=q.xk.f(),e=q.Nd.f(),f=this.zm[this.Ao],g=this.QF(f);switch(g){case "IMAGE":a.pa(f.src);break;case "SOUND":if(!c)throw"Can not find AudioEngine! Install it, please.";c.k9(f.src);break;case "XML":d.LU(f.src);break;case "BINARY":e.KU(f.src);break;case "TEXT":e.MU(f.src);break;case "FONT":this.dP(f);
break;default:throw"cocos2d:unknown filename extension: "+g;}},vP:function(){var a=this;this.Nj=setInterval(function(){a.bP()},1E3*this.fh)},lQ:function(){clearInterval(this.Nj)},QF:function(a){if(null!=a.rs)return q.Hy.FONT;a=a.src;a=a.substring(a.lastIndexOf(".")+1,a.length);var c=a.indexOf("?");0<c&&(a=a.substring(0,c));for(var d in q.Hy)if(-1!=q.Hy[d].indexOf(a))return d;return a},mw:function(){100<=this.Jw()&&(this.lQ(),this.cO())},cO:function(){if(this.Y&&"string"==typeof this.Tf)this.Y[this.Tf](this);
else this.Y&&"function"==typeof this.Tf?this.Tf.call(this.Y,this):this.Tf(this);this.as=this.vr=this.Ao=0},dP:function(a){var c=a.src,d=q.Nd.f();if(c&&0<c.length){var e=document.createElement("style");e.type="text/css";document.body.appendChild(e);for(var f="@font-face { font-family:"+a.rs+"; src:",g=0;g<c.length;g++)f+="url('"+d.ze(encodeURI(c[g].src))+"') format('"+c[g].type+"')",f+=g==c.length-1?";":",";e.textContent+=f+"};";c=document.createElement("div");c.style.fontFamily=a.rs;c.innerHTML=".";
c.style.position="absolute";c.style.left="-100px";c.style.top="-100px";document.body.appendChild(c)}q.Qb.f().eg()},r0:function(a,c){var d=document.createElement("style");d.type="text/css";document.body.appendChild(d);d.textContent+="@font-face {font-family:"+a+";src: url(data:font/ttf;base64,"+c+") format('truetype');};";d=document.createElement("div");d.style.fontFamily=a;d.innerHTML="ajghl~!";d.style.position="absolute";d.style.left="-100px";d.style.top="-100px";document.body.appendChild(d);q.Qb.f().eg()},
C0:function(){}});q.Qb.XC=function(a,c,d){this.Lb||(this.Lb=new q.Qb);this.Lb.Rw(a,c,d);return this.Lb};q.Qb.i9=function(a,c,d){this.Lb||(this.Lb=new q.Qb);this.Lb.TV(!0);this.Lb.Rw(a,c,d);return this.Lb};q.Qb.ZC=function(a){this.Lb&&this.Lb.hV(a)};q.Qb.f=function(){this.Lb||(this.Lb=new q.Qb);return this.Lb};q.Qb.Lb=null;
q.xy=q.nq.extend({wv:null,So:null,bw:null,Mu:null,rv:null,AB:null,ctor:function(){q.nq.prototype.ctor.call(this);this.AB=q.ca.f().Yb},v:function(){q.nq.prototype.v.call(this);var a=q.a(this.AB.width/2,this.AB.height/2);this.So=new Image;var c=this;this.So.addEventListener("load",function(){c.vO(a);this.removeEventListener("load",arguments.callee,!1)});this.So.src="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAAlAAD/4QMpaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjAtYzA2MCA2MS4xMzQ3NzcsIDIwMTAvMDIvMTItMTc6MzI6MDAgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjM4MDBEMDY2QTU1MjExRTFBQTAzQjEzMUNFNzMxRkQwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjM4MDBEMDY1QTU1MjExRTFBQTAzQjEzMUNFNzMxRkQwIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzUgV2luZG93cyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU2RTk0OEM4OERCNDExRTE5NEUyRkE3M0M3QkE1NTlEIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU2RTk0OEM5OERCNDExRTE5NEUyRkE3M0M3QkE1NTlEIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+/+4ADkFkb2JlAGTAAAAAAf/bAIQADQkJCQoJDQoKDRMMCwwTFhENDREWGhUVFhUVGhkUFhUVFhQZGR0fIB8dGScnKionJzk4ODg5QEBAQEBAQEBAQAEODAwOEA4RDw8RFA4RDhQVERISERUfFRUXFRUfKB0ZGRkZHSgjJiAgICYjLCwoKCwsNzc1NzdAQEBAQEBAQEBA/8AAEQgAyACgAwEiAAIRAQMRAf/EALAAAAEFAQEAAAAAAAAAAAAAAAQAAgMFBgcBAQEAAwEBAAAAAAAAAAAAAAAAAQMEAgUQAAIBAgIEBwoLBgQGAwAAAAECAwAEEQUhMRIGQVFxsTITFGGBwdEiQlKSMzWRoeFicqKyI1NzFYJjJDQWB9KjVCbxwkNkJWXik3QRAAIBAgMFBQcDBQEAAAAAAAABAhEDIRIEMUFRcTJhwVIUBZGhsSJyEzOB0ULhYpIjUxX/2gAMAwEAAhEDEQA/AMJSpUqAVKlXuFAeUq9wpUB5XuFe4V6ooDzZHDox0CnGMinzwl7Z8NajaHeoO3vmTBZBtp9YUIqTEV5ROxHKnWRnaU8VRMhFBUjpV7hSoSeUq9pUB5Sr2lhQHlKvcK8oBV7hSFSRrtaKAZs07YNPM1pG2xJIAw1jSeandry/8X4m8VCKkWwaWwam7Xl/4v1W8VLtmX/i/VbxUoKkWwakSM407tmX/i/VbxUmzGwjQsjdY41IARie/U0IbZO0kNtCXnOCkEBeFu4KI3Bs7DNb27ya+jDx3kJeEnpJJEcQVbWDsk17u5urd591ucZkWhym2Vnd9RkCDEpFxDRpbw0bunu5mlp2De2FMLYXOD2wB2xbOeraUcYGJ72mlSUiqzzdzMd3Z3mixltA2yzcK/NlHM1DQyRXce1HocdNOEfJXZ88y9ZojOqhiBszIRiHQ8Y4cK5TvHuzLljHNMqxNoDjLFraHHnjPxcNCGVbxEUzYNTx5jZSxhpW6qTzlwJ+DCvO2Zf+L9VvFSgqyHYNLYNTdssPxfibxUu15f8Ai/VPiqCakOwa82DU/a8v/F+JvFTDdWPBL8R8VKCvYRYV5UzoMAy6QdIIqI0B4KJtxiRQwou16QoGUkntH5Tz0RbZbmF2hktraSVBo2lUkY8tDye0flPPXTslVUyiyVRsjqUOA4yMT8dW2ram2m6UVTNq9S7EIyUVJydMTn/6DnP+im9Wl+g5z/opvVrpteEhQWY4AaSTwAVf5WPiZh/9S5/zj7zltzlmYWkfWXNvJDGTgGcYDHirR7i7mSbwXParsFMrgb7w6jKw/wCmnc9I14kF3vpvCljbMyWMOJL4aEiB8qU/ObUK7HYWVrl1pFZWiCOCBQqKOLjPGTrNZZqKbUXVHq2nNwTuJRk1VpbgXN8s7Rk5ym0UQQzhIG2NAjhxHWbI+gCBVjBBFbwxwQqEiiUJGg1BVGAFe7dV28WYLYZFmF2Th1UD7JGjymGyn1iK5OyzIBGB1HgrLZhamzumQAGJwSqnSCh1q3GOCodxt4cxurdcpzuN4cyhiWaF5Bg09udUmnWw1H/jV9nFuJ7Quo+8h8peThFA+047vduyMtk7fYqTl07YFdfUufMPzT5p71UdtlmYXaGS2t3mQHAsgxANdadYJopLe4QS2867EsZ4QfCNYrCFbjdDPmgkYyWFxgVf04ifJf6ScNdRUW1XBb6FU5TjF5EpSSrGu/s5lN+g5z/opvVpfoOc/wCim9WtdHnatvObJXDW7xLGhB8nrPaY9/HCr+tEdPCVaSeDoYLnqF63lzW4/PFSW3ecxbI84VSzWUwUaSdg0DXXK5nvAipnd6qgKvWnQO7pri9ZUEmm3Vl2j1kr8pRlFRyquBNZjGxQ/S56Y1S2fu9OVueon11Szahoou06QoQUXadIVCD2FJJ7R+U89dMydv8Axdn+TH9muZye0flPPXQstlK5Tbka1gUjlC1q0vVLkeb6r+O3Tx9xcY1nt8c0NrZCyiOE1108NYjGv1joo7Js1jzKyScYLIvkzL6LDwHXVJksH9Sb49dKNq0tj1jA6uriOCL+02FWX7iVtZX1/AzaHTyeoauKn2MX9W79zebiZCuR5MjSrhfXuEtwTrUeZH+yNfdrRNcxI6IzhXlJEak6WIGJ2Rw4ChWnChndtlVBLMdQA0k1gbXNMzzDfDLs6mjaPKppJbWwJ1bOwwxw43OnHh71YT3DpfWUJmFlb5jHHDdeXBHIsrRea5TSqvxqG04cNN62vetoCS4tre5mgnkGE9q+3DKOkuI2WX6LDQRRHWDh1UCtwj7QRg2wdl8Djgw1qe7XvW0BQ3kfZ7mSLgU+T9E6RVbnuVrnWVSWqj+Lt8ZbRuHEdKPkYVcZ2MJY5fSGyeVar45+rkWQHAqccalPE5km1htWK5nK4Wnt5FuUBUwOMG4nGkA/BXUrW4S6torlOjMgcd/xVn7rLo7zKs0uEjCNeSvdwoBhgsZxX1l2j36k3Lu+uyprdj5Vs5A+i/lD48a0aaVJOPi7jB6lbzWozpjB48pf1NDXNN4vfl7+Z4BXS65pvF78vfzPAK71XTHmZ/S/yT+jvJ7L3fHytz1E+upbL+Qj5W56jfXWRnsIYKLtekKEFGWvSFQgyjk9o/Keet3YthlMP/5x9msJJ7R+U89biyb/AMXEv7gD6tadL1T+kwepRrC39ZkLDMbiwMvUHRPG0bjlGg8ore/23sxBldxfMPLupNhT8yL/AORNZbdzJ484scytxgLqJY5LZj6Q2sV5G1Vud1mjjyG0ij0NEGSZToKyhjtqw4waztuiXA3qKTbSxltfGhbZlE95ZtZqxVbgiOZhrER9ph3Svk9+pJILZ4Y4DGBFCUMKjRsGPobPFhUfW0NJmljE2xJcIrcI2vFUEln1lRXd6lrazXT9GCNpD+yNqoI7mOVduNw6nzlOIoPOUa6yye1XXcbMR5GdQ3xY0BSbj31/FcTQZirJ+q431q7anbHCTZ72Bw7lbPrKBMcBWNNgbMBBh+bsjBdni0VJ1lARZs6yWiupxCuMDy6KpS2IwOo6DTr3Mre3e5tZZVUM4ZBjqOOJoWO4jkXajcOOMHGgDISvWIrdAkKR80+TzVl908bPPL3LzxOuHdifxVfiTAg92qI/w+/8gGgSyN/mR7XPVlp0lF/3L3mbVKtu5Hjbk/8AHE2Fc03i9+Xv5ngFdKNc13i9+Xv5ngFaNV0x5nn+l/kn9HeEWXu+PlbnqJ9dS2Xu9OVueon11kZ7CGCjLXpCgxRlr0hUIPYUcntH5Tz1s8vb+Bt1/dqPirGSe0flPPWusG/g4Py15q06XqlyMWvVYQ+ruI9xJOqzO9hOto/sP8tbGOFIrmWeM7IuMDMnAXXQJOUjQeOsJk0nY96ip0CYunrjaHx1t+srPJUbXBm2LrFPikwTOb+T+VhbZxGMrDXp83x1QSy2tucJpUjPETp+Cn5/ftaRvKvtp3Kx48HG3erHMzOxZiWZtLMdJNQSbbL71Vk6yynViOkqnEEfOWtPbXi3EQkGg6mXiNckjeSJxJGxR10qw0GtxuxmvbImD4CZMFlA4fRfv0BqesqqzTMZNMEDbIHtHH2QeCiZJSqMQdOGiue53mz3czQwsRbIcNHnkec3c4qAMuriz68gTIToxwOOnlp0MjxMJYW741Gs3RVldtbygE/dMcHX/moDaxTiWNZB53B3arb8/wC+4SOF4sf/AKxU9kcBsfOGHfoUHtG/RbzY5Die5HHhXdvavqiZ9Q8Jdlq4/gbKua7xe/L38zwCuhpf2Uk/Zo50kmwJKIdogDjw1VzzeL35e/meAVp1LTgqY4nn+mRauzqmqwrjzCLL3fHytz1E+upLL+Qj5W56jfXWRnroYKLtekKEFF2vSFQg9hSSe0flPPWosm/hIfoLzVl5PaPynnrRWb/w0X0F5q06XqlyM2sVYx5gmbFre/t71NY2T+0h8VbSO5SWNJUOKSAMp7jDGspmMPaLRlXS6eWve1/FRO7WYdbZm1Y/eW/R7qHxHRXGojlm3ulid6aVbaW+OALvgCLq2Hm9WxHKWqjhj6xsK1e8dm15l4niG1LZkswGsxtrPeOmsvayBJA1VItlWjptLuTdPMo7LtjRDq9naK4+WF9IrUW7BaHOljGqVHB7w2hzVoZt87d8vaNYSLl02CcRsDEbJbj71Uu7UBkvJ7/D7q2QoDxySaAO8MTXdxRVMpRp5XZOWdF/ms7R5XdyKfKWJsO/5PhrG5XlNxmEywW6bTnTxAAcJNbGSMXkM1pjgbiNo1PziPJ+Os7u7m/6ReM00ZOgxSpqYYHT3wRXMKN4ll9zUG4bQfNshu8sZVuEA2hirA4qe/VOwwrVbzbww5mI44UKRRYkbWG0S3JWctbd7u5WFfOOLHiUdJqmaipfLsIsObhWe001lMkMVvJNjhghIALMcBxCs7fxXQmkupx1bXDswGPlaTidVaEyKNXkoo4eBV+Sq7L7Vs9zcBgeyQ4GQ/MB1crmoim2orezqcowTuSeEY48jQ7oZX2PLzdyLhNd6RjrEY6I7+uspvH78vfzPAK6UAAAFGAGgAcArmu8Xvy9/M8ArTfio24RW5nnaG67uou3H/KPuqT2X8hHytz1G+upLL3enK3PUb66ys9RDBRdr0hQgou06QqEGUkntH5Tz1e238vF9BeaqKT2j8p56vbb+Xi+gvNWjTdUuRn1XTHmTh8KrJTJlt8t1CPIY44cGnpJVjTJYkmjaN9Ib4u7V923njTethRauZJV3PaW1rfLIiXEDYg6R4VYc9CXW7thfOZbKdbGZtLW8uPVY/u3GrkNUkM9zlcxUjbhfWOA90cRq4gv4LhdqN+VToNYWmnRm9NNVWNTyHc6VWBv8wt4YeHqm6xyPmroq1Z7WGFLSxTq7WLSuPSdjrkfumq5yHXDUeA92oO2SKpVumNAaoJLMXH3myp0rpJ4uKhc3tbDM5BMri1zAj79j7KTiY8TcdBpcsith0286o+sPCagEX9Pzg4zXUCp6QYse8oouCG3tk6m1BYv05W6T+IdyolxbHDAAa2OgDlNCz3ryN2WxBd5PJMg1t81eId2ukqnLlTBbfcuY+9uJLiRcvtPvHdsHK+cfRHcHDWsyawjyy0WBcDI3lTP6TeIcFV+S5OmXx9bJg1048o8Cj0V8Jq2DVu09nL80up7OxHi+oal3P8AXB/IsZS8T/YOV65zvCcc7vfzPAK3ivWCz445zeH954BXOr6I8yfSfyz+jvCLP3fHytz1G+upLP3fHytz1E+usbPaQ0UXadIUIKLtekKhB7Ckk9o/Keer22/l4/oLzVRSe0flPPV7b/y8X0F5q0abqlyM+q6Y8yQsBTDMor1o8aiaE1pbluMqS3sbLLHIhSRQyngqukhaJ9uBjo+H5aOa3ao2t34qouRlLajTalGP8v0IY8ylXQ+PKPFU/bYXOLPge6CKia0LaxTOxHu1Q7cuBd9yPEJ7TbjXKO8CajbMIF6CNIeNvJHjqIWJ7tSpYkalqVblwIdyG+RGXur0hXYJFxal+Dhq5y3slkv3Y2pD0pTr+QUClpJRUdo9XW4OLrTHtM16cZLLWkeC7y4jvlNEpcRtw1Ux27Ci448NZrTFy3nn3IQWxlgGrDZ3pza7/M8ArZo+ArF5171uvp+CqdV0R5l/psUrs2vB3hdl7vTlbnqJ9dS2Xu+PlbnqJ9dY2eshooq16QoQUXa9IVCD2FLJ7RuU89WNtmUSQqkgYMgw0accKrpPaPynnrZWG4Vi+VWmY5tnMWXG+XrIYnA0rhj0mdcTgdNdwnKDqjmduM1SRR/qlr8/4KX6pa8T/BVzDuLZXudRZblmbxXcPUNPc3KqCIwrbOzgrHEnHjoyD+3eSXkht7DeKG4umDGOJVUklfouThXfmbnZ7Cvy1vt9pmv1W1+d8FL9VteJvgq5yrcOGfLmzHN80iyyETPbptAEFo2ZG8pmUa1OFNn3Ky6W/sbDKM5hv5bx2WTZA+7RF2y52WOPJTzE+z2Dy1vt9pT/AKpacTerS/U7Tib1a04/t7kDXPY03jhN0W6sQ7K7W3q2dnrMccaDy/8At80kuZfqWYxWNtlcvUPPhiGYhWDeUy7IwYU8xPs9g8tb7faUn6pacTerTxm9oOBvVq3v9z927aynuId44LiWKNnjhAXF2UYhRg516qpsryjLr21665zFLSTaK9U2GOA87SwqY37knRU+BzOzags0s1Oyr+BKM6sxwP6tSDPLMen6vy0rvdm3Sxlu7K/S7WDDrFUDUTxgnTU826eXW7KlxmqQuwDBXUKcD+1Xee/wXuKX5XDGWLapSVcOyhEM/seJ/V+WnjeGx4pPV+Wkm6kKZlFay3Jlt7iFpYZY8ASVK6DjtDDA0f8A0Tl340/1f8Ndx8xJVWXB0KbktFFpNzdVXAC/qOwA0CQni2flrO3Vwbm5lnI2TKxbDirX/wBE5d+NcfV/wVR7xZPa5U9utvI8nWhmbbw0YEAYYAVxfhfy5rlKR4Fulu6X7mW1mzT8S4Yis/5CPlbnqJ9dSWfu9OVueon11mZvQ2i7XpChKKtekKhBlNJ7R+U89bDfGTb3a3ZX0Lcj6kdY+T2j8p560288m1kWQr6MJ+ylSAr+2cnV5renjs3H1loX+3j9XvbbtxLN9lqW4UnV5jdnjtXHxihtyZNjeSBu5J9k1BJe7xy7W5CJ/wCzuD/mTVTf2+fq97LJuLrPsNRueS7W6aJ/38x+vLVXuY+xvHaNxbf2GoCezf8A36j/APsSf8w1sLnqczTefJluYoLm5uo5F61sBshItP1cNFYe1f8A3ir/APfE/wCZUe9bB94r5jwuPsrQFhmG4l/Z2M17HdW90tuu3IkTHaCjWdIw0VVZdks9/C06yJFEp2dp+E1bbqybGTZ8vpQD7L1XRv8A7blT96Oda7tpNuuNE37Cq9KSisjyuUoxrStKllHbLlWTXsMs8chuSuwEPDqwoLe5y+YRE/gLzmqRekvKKtd4327yM/ulHxmrHJStySWVRyrjxKI2XC/CTlnlPPKTpTdFbP0L1bgrf5Lp0G3dPhQHwV0S1lzBsns3sESR8Crh9WAJGjSOKuU3E+zdZQ3oJh8IArdZXFDmOTpHa3i2+YrI2KtKy4ricBsBuHHgFXSo440+Wa2qqxjvM9uMoy+WvzWpLCWWWE28HxL6e43ojgkeSCBY1Ri5BGIUDT51cl3vm276BBqSEH4WbxV0tlkyXJcxTMb+OW6uY9mGHrCzDQwwAbTp2uKuTZ9N1uYsfRRR8WPhrm419mSSjRyiqxVK7y23B/ftuTm2oSdJyzNVw3BFn7vTlbnqF9dS2fu9OVueon11lZuQ2iLdsGFD05H2dNQGV0ntG5Tz1dWm9N1b2kVq8EVwsI2UaQaQOKhmitZGLOmk68DhSFvY+gfWNSAg7z3Qvo7yKCKIohiaNR5LKxx8qpxvjcqS0VpbxvwOAcRQPZ7D0G9Y0uz2HoH1jUCpLY7zXlpbm3eKO5QuzjrBqZji3x17PvNcyT288VvDBJbMWUovS2hslW7mFQ9nsPQPrGl2ew9A+saCod/WNxtbYsrfb17WBxx5ddD2281xC88klvDcSXEnWuzrqOGGC9zRUPZ7D0G9Y0uzWHoH1jQVCLreq6ntZbaO3it1mGy7RjTs1X2mYy20ZiCq8ZOODcdEdmsPQb1jS7PYegfWNdJuLqnQiSUlRqpFLmryxtH1Ma7Qw2gNNPOdSt0oI27p007s9h6B9Y0uz2HoH1jXX3Z+I4+1b8IJdX89xLHKQFMXQUahpxoiPN5P+onfU+A0/s9h6DesaXZ7D0D6xpG7OLbUtu0StW5JJx2bBsmbtiSiEk+cxoCWWSaVpZOk2vDVo0VYdnsPQb1jSNvZcCH1jSd2c+p1XAmFqEOmOPEfaH+BQd1ueo211IzrgFUYKNAAqI1WztCpUqVCRUqVKgFSpUqAVKlSoBUqVKgFSpUqAVKlSoBUqVKgFSpUqAVKlSoD/9k\x3d";
this.So.width=160;this.So.height=200;this.Mu=q.ga.create(q.KB(32,32,32,255));this.Mu.l(0,0);this.g(this.Mu,0)},vO:function(a){this.bw=new q.fc;this.bw.ff(this.So);this.bw.Yd();this.wv=q.w.Sa(this.bw);this.wv.qk(q.Zc());this.wv.l(a);this.Mu.g(this.wv,10)},Pg:function(){q.F.prototype.Pg.call(this);this.jc(this.KG,0.3)},ae:function(){q.F.prototype.ae.call(this);this.rv&&this.rv.ra("Loading... 0%")},Rw:function(a,c,d){this.yV=a;this.MV=c;this.target=d},KG:function(){this.Yc(this.KG);q.Qb.XC(this.yV,this.MV,
this.target);this.jc(this.mw)},mw:function(){if(this.rv){var a=q.Qb.f().Jw();this.rv.ra("Loading... "+a+"%")}100<=a&&this.Yc(this.mw)}});q.xy.XC=function(a,c,d){this.Lb||(this.Lb=new q.xy,this.Lb.v());this.Lb.Rw(a,c,d);a=q.ca.f();a.wd?a.YJ(this.Lb):a.EV(this.Lb);return this.Lb};q.iy=q.La.extend({Cb:null,HK:function(a){this.Cb=a},h5:function(){return this.Cb},ctor:function(a){this.Cb=a},TB:function(){q.log("DrawingPrimitive.drawPoint() not implement!")},NH:function(){q.log("DrawingPrimitive.drawPoints() not implement!")},ii:function(){q.log("DrawingPrimitive.drawLine() not implement!")},OH:function(){q.log("DrawingPrimitive.drawRect() not implement!")},VB:function(){q.log("DrawingPrimitive.drawSolidRect() not implement!")},Wd:function(){q.log("DrawingPrimitive.drawPoly() not implement!")},
Ew:function(){q.log("DrawingPrimitive.drawSolidPoly() not implement!")},KH:function(){q.log("DrawingPrimitive.drawCircle() not implement!")},UB:function(){q.log("DrawingPrimitive.drawQuadBezier() not implement!")},LH:function(){q.log("DrawingPrimitive.drawCubicBezier() not implement!")},JH:function(){q.log("DrawingPrimitive.drawCardinalSpline() not implement!")},Dw:function(){q.log("DrawingPrimitive.drawCardinalSpline() not implement!")}});
q.AE=q.iy.extend({TB:function(a,c){c||(c=1);var d=q.oa.f().va,e=q.oa.f().Ca,e=q.a(a.x*d,a.y*e);this.Cb.beginPath();this.Cb.arc(e.x,-e.y,c*d,0,2*Math.PI,!1);this.Cb.closePath();this.Cb.fill()},NH:function(a,c,d){if(null!=a){d||(d=1);c=this.Cb;var e=q.oa.f().va,f=q.oa.f().Ca;c.beginPath();for(var g=0,k=a.length;g<k;g++)c.arc(a[g].x*e,-a[g].y*f,d*e,0,2*Math.PI,!1);c.closePath();c.fill()}},ii:function(a,c){var d=this.Cb,e=q.oa.f().va,f=q.oa.f().Ca;d.beginPath();d.moveTo(a.x*e,-a.y*f);d.lineTo(c.x*e,-c.y*
f);d.closePath();d.stroke()},OH:function(a,c){this.ii(q.a(a.x,a.y),q.a(c.x,a.y));this.ii(q.a(c.x,a.y),q.a(c.x,c.y));this.ii(q.a(c.x,c.y),q.a(a.x,c.y));this.ii(q.a(a.x,c.y),q.a(a.x,a.y))},VB:function(a,c,d){a=[a,q.a(c.x,a.y),c,q.a(a.x,c.y)];this.Ew(a,4,d)},Wd:function(a,c,d,e){e=e||!1;if(null!=a){if(3>a.length)throw Error("Polygon's point must greater than 2");var f=a[0];c=this.Cb;var g=q.oa.f().va,k=q.oa.f().Ca;c.beginPath();c.moveTo(f.x*g,-f.y*k);for(var f=1,h=a.length;f<h;f++)c.lineTo(a[f].x*g,
-a[f].y*k);d&&c.closePath();e?c.fill():c.stroke()}},Ew:function(a,c,d){this.oK(d.q,d.p,d.k,d.K);this.Wd(a,c,!0,!0)},KH:function(a,c,d,e,f){f=f||!1;e=this.Cb;var g=q.oa.f().va,k=q.oa.f().Ca;e.beginPath();e.arc(0|a.x*g,0|-(a.y*k),c*g,-d,-(d-2*Math.PI),!1);f&&e.lineTo(0|a.x*g,0|-(a.y*k));e.stroke()},UB:function(a,c,d,e){for(var f=[],g=0,k=0;k<e;k++)f.push(q.a(Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y)),g+=1/e;f.push(q.a(d.x,d.y));this.Wd(f,e+1,!1,!1)},LH:function(a,
c,d,e,f){for(var g=[],k=0,h=0;h<f;h++)g.push(q.a(Math.pow(1-k,3)*a.x+3*Math.pow(1-k,2)*k*c.x+3*(1-k)*k*k*d.x+k*k*k*e.x,Math.pow(1-k,3)*a.y+3*Math.pow(1-k,2)*k*c.y+3*(1-k)*k*k*d.y+k*k*k*e.y)),k+=1/f;g.push(q.a(e.x,e.y));this.Wd(g,f+1,!1,!1)},JH:function(a,c){this.Dw(a,0.5,c)},Dw:function(a,c,d){q.$.strokeStyle="rgba(255,255,255,1)";for(var e=[],f,g,k=1/a.length,h=0;h<d+1;h++)g=h/d,1==g?(f=a.length-1,g=1):(f=0|g/k,g=(g-k*f)/k),f=q.cy(q.Ah(a,f-1),q.Ah(a,f-0),q.Ah(a,f+1),q.Ah(a,f+2),c,g),e.push(f);this.Wd(e,
d+1,!1,!1)},drawImage:function(a,c,d,e,f){switch(arguments.length){case 2:this.Cb.drawImage(a,c.x,-(c.y+a.height));break;case 3:this.Cb.drawImage(a,c.x,-(c.y+d.height),d.width,d.height);break;case 5:this.Cb.drawImage(a,c.x,c.y,d.width,d.height,e.x,-(e.y+f.height),f.width,f.height);break;default:throw Error("Argument must be non-nil");}},l2:function(a,c,d){a=a||this.Cb;c*=q.oa.f().va;d instanceof q.fe&&(d=new q.xc(0|255*d.q,0|255*d.p,0|255*d.k));d="rgba("+d.q+","+d.p+","+d.k;a.fillStyle=d+",1)";var e=
c/10;a.beginPath();a.moveTo(-c,c);a.lineTo(0,e);a.lineTo(c,c);a.lineTo(e,0);a.lineTo(c,-c);a.lineTo(0,-e);a.lineTo(-c,-c);a.lineTo(-e,0);a.lineTo(-c,c);a.closePath();a.fill();var f=a.createRadialGradient(0,0,e,0,0,c);f.addColorStop(0,d+", 1)");f.addColorStop(0.3,d+", 0.8)");f.addColorStop(1,d+", 0.0)");a.fillStyle=f;a.beginPath();a.arc(0,0,c-e,0,q.LE,!1);a.closePath();a.fill()},j2:function(a,c,d){a=a||this.Cb;c*=q.oa.f().va;d instanceof q.fe&&(d=new q.xc(0|255*d.q,0|255*d.p,0|255*d.k));d="rgba("+
d.q+","+d.p+","+d.k;var e=a.createRadialGradient(0,0,c/10,0,0,c);e.addColorStop(0,d+", 1)");e.addColorStop(0.3,d+", 0.8)");e.addColorStop(0.6,d+", 0.4)");e.addColorStop(1,d+", 0.0)");a.fillStyle=e;a.beginPath();a.arc(0,0,c,0,q.LE,!1);a.closePath();a.fill()},fillText:function(a,c,d){this.Cb.fillText(a,c,-d)},gW:function(a,c,d,e){this.Cb.fillStyle="rgba("+a+","+c+","+d+","+e/255+")";this.Cb.strokeStyle="rgba("+a+","+c+","+d+","+e/255+")"},oK:function(a,c,d,e){this.Cb.fillStyle="rgba("+(0|255*a)+","+
(0|255*c)+","+(0|255*d)+","+e+")";this.Cb.strokeStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+")"},IW:function(){},qW:function(a){this.Cb.lineWidth=a*q.oa.f().va}});
q.fM=q.iy.extend({pr:!1,Tb:null,Hi:-1,rc:null,wA:-1,vA:-1,ctor:function(a){null==a&&(a=q.$);if(!a instanceof WebGLRenderingContext)throw"Can't initialise DrawingPrimitiveWebGL. context need is WebGLRenderingContext";q.iy.prototype.ctor.call(this,a);this.rc=new q.fe(1,1,1,1)},jk:function(){this.pr||(this.Tb=q.Mh.f().ui(q.e_),this.Hi=this.Cb.getUniformLocation(this.Tb.Kw(),"u_color"),this.wA=this.Cb.getUniformLocation(this.Tb.Kw(),"u_pointSize"),this.pr=!0)},k2:function(){this.pr=!1},TB:function(a){this.jk();
this.Tb.nf();this.Tb.Xg();q.Be(q.dh);this.Tb.Il(this.Hi,new Float32Array(this.rc.Xb,0,4),1);this.Tb.RK(this.wA,this.vA);var c=this.Cb,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,new Float32Array([a.x,a.y]),c.STATIC_DRAW);c.vertexAttribPointer(q.Oe,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,1);c.deleteBuffer(d);q.Jh()},NH:function(a){if(a&&0!=a.length){this.jk();this.Tb.nf();this.Tb.Xg();q.Be(q.dh);this.Tb.Il(this.Hi,new Float32Array(this.rc.Xb,0,4),1);this.Tb.RK(this.wA,
this.vA);var c=this.Cb,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.Kv(a),c.STATIC_DRAW);c.vertexAttribPointer(q.Oe,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,a.length);c.deleteBuffer(d);q.Jh()}},Kv:function(a){for(var c=new Float32Array(2*a.length),d=0;d<a.length;d++)c[2*d]=a[d].x,c[2*d+1]=a[d].y;return c},ii:function(a,c){this.jk();this.Tb.nf();this.Tb.Xg();q.Be(q.dh);this.Tb.Il(this.Hi,new Float32Array(this.rc.Xb,0,4),1);var d=this.Cb,e=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,
e);d.bufferData(d.ARRAY_BUFFER,this.Kv([a,c]),d.STATIC_DRAW);d.vertexAttribPointer(q.Oe,2,d.FLOAT,!1,0,0);d.drawArrays(d.LINES,0,2);d.deleteBuffer(e);q.Jh()},OH:function(a,c){this.ii(q.a(a.x,a.y),q.a(c.x,a.y));this.ii(q.a(c.x,a.y),q.a(c.x,c.y));this.ii(q.a(c.x,c.y),q.a(a.x,c.y));this.ii(q.a(a.x,c.y),q.a(a.x,a.y))},VB:function(a,c,d){a=[a,q.a(c.x,a.y),c,q.a(a.x,c.y)];this.Ew(a,4,d)},Wd:function(a,c,d){this.jk();this.Tb.nf();this.Tb.Xg();q.Be(q.dh);this.Tb.Il(this.Hi,new Float32Array(this.rc.Xb,0,4),
1);c=this.Cb;var e=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,e);c.bufferData(c.ARRAY_BUFFER,this.Kv(a),c.STATIC_DRAW);c.vertexAttribPointer(q.Oe,2,c.FLOAT,!1,0,0);d?c.drawArrays(c.LINE_LOOP,0,a.length):c.drawArrays(c.LINE_STRIP,0,a.length);c.deleteBuffer(e);q.Jh()},Ew:function(a,c,d){this.jk();d||(d=this.rc);this.Tb.nf();this.Tb.Xg();q.Be(q.dh);this.Tb.Il(this.Hi,new Float32Array(d.Xb,0,4),1);c=this.Cb;d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.Kv(a),c.STATIC_DRAW);
c.vertexAttribPointer(q.Oe,2,c.FLOAT,!1,0,0);c.drawArrays(c.TRIANGLE_FAN,0,a.length);c.deleteBuffer(d);q.Jh()},KH:function(a,c,d,e,f){this.jk();var g=1;f&&g++;var k=2*Math.PI/e;if(f=new Float32Array(2*(e+2))){for(var h=0;h<=e;h++){var l=h*k,m=c*Math.sin(l+d)+a.y;f[2*h]=c*Math.cos(l+d)+a.x;f[2*h+1]=m}f[2*(e+1)]=a.x;f[2*(e+1)+1]=a.y;this.Tb.nf();this.Tb.Xg();q.Be(q.dh);this.Tb.Il(this.Hi,new Float32Array(this.rc.Xb,0,4),1);a=this.Cb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(q.Oe,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+g);a.deleteBuffer(c);q.Jh()}},UB:function(a,c,d,e){this.jk();for(var f=new Float32Array(2*(e+1)),g=0,k=0;k<e;k++)f[2*k]=Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,f[2*k+1]=Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y,g+=1/e;f[2*e]=d.x;f[2*e+1]=d.y;this.Tb.nf();this.Tb.Xg();q.Be(q.dh);this.Tb.Il(this.Hi,new Float32Array(this.rc.Xb,0,4),1);a=this.Cb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(q.Oe,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+1);a.deleteBuffer(c);q.Jh()},LH:function(a,c,d,e,f){this.jk();for(var g=new Float32Array(2*(f+1)),k=0,h=0;h<f;h++)g[2*h]=Math.pow(1-k,3)*a.x+3*Math.pow(1-k,2)*k*c.x+3*(1-k)*k*k*d.x+k*k*k*e.x,g[2*h+1]=Math.pow(1-k,3)*a.y+3*Math.pow(1-k,2)*k*c.y+3*(1-k)*k*k*d.y+k*k*k*e.y,k+=1/f;g[2*f]=e.x;g[2*f+1]=e.y;this.Tb.nf();this.Tb.Xg();q.Be(q.dh);this.Tb.Il(this.Hi,new Float32Array(this.rc.Xb,0,4),1);a=this.Cb;c=a.createBuffer();
a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,g,a.STATIC_DRAW);a.vertexAttribPointer(q.Oe,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,f+1);a.deleteBuffer(c);q.Jh()},JH:function(a,c){this.Dw(a,0.5,c)},Dw:function(a,c,d){this.jk();for(var e=new Float32Array(2*(d+1)),f,g,k=1/a.length,h=0;h<d+1;h++)g=h/d,1==g?(f=a.length-1,g=1):(f=0|g/k,g=(g-k*f)/k),f=q.cy(q.Ah(a,f-1),q.Ah(a,f),q.Ah(a,f+1),q.Ah(a,f+2),c,g),e[2*h]=f.x,e[2*h+1]=f.y;this.Tb.nf();this.Tb.Xg();q.Be(q.dh);this.Tb.Il(this.Hi,
new Float32Array(this.rc.Xb,0,4),1);a=this.Cb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,e,a.STATIC_DRAW);a.vertexAttribPointer(q.Oe,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,d+1);a.deleteBuffer(c);q.Jh()},gW:function(a,c,d,e){this.rc.q=a/255;this.rc.p=c/255;this.rc.k=d/255;this.rc.K=e/255},oK:function(a,c,d,e){this.rc.q=a;this.rc.p=c;this.rc.k=d;this.rc.K=e},IW:function(a){this.vA=a*q.Zc()},qW:function(a){this.Cb.lineWidth&&this.Cb.lineWidth(a)}});q.LE=2*Math.PI;q.dF={G_:0,lZ:1,mZ:2,ZX:3,eZ:4,dZ:5,lY:6,sZ:7,QY:8,DM:100,NM:101};q.yZ=0;q.zZ=1;q.wZ=2;q.xZ=3;q.ng=0;q.zk=1;q.ve=null;q.$=null;q.canvas=null;q.dS=null;q.Kd=q.ng;q.tU=q.size(0,0);window.jD=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;window.console||(window.console={},window.console.log=function(){},window.console.assert=function(){});q.CC=!1;
q.Jl=function(a,c,d){function e(){if(q.Hh){var a=q.Hh.f();document[h]?(a.yU(),a.AU()):(q.ca.f().rP(),a.zV(),a.AV())}}a=q.Pb(a)||q.Pb("#"+a);var f,g,k;"CANVAS"==a.tagName?(c=c||a.width,d=d||a.height,g=q.bk=q.tk("DIV"),k=g.style,f=q.canvas=a,f.parentNode.insertBefore(g,f),f.Ym(g),k.width=(c||480)+"px",k.height=(d||320)+"px",g.setAttribute("id","Cocos2dGameContainer")):("DIV"!=a.tagName&&q.log("Warning: target element is not a DIV or CANVAS"),c=c||a.clientWidth,d=d||a.clientHeight,f=q.canvas=q.tk("CANVAS"),
f.kH("gameCanvas"),f.setAttribute("width",c||480),f.setAttribute("height",d||320),g=q.bk=a,k=g.style,a.appendChild(f),k.width=(c||480)+"px",k.height=(d||320)+"px");k.margin="0 auto";k.position="relative";k.overflow="hidden";g.top="100%";if(!q.dz){q.Ja.Xc&&(q.$=q.vca=q.zH(f,{stencil:!0,preserveDrawingBuffer:!0,antialias:!q.Ja.ej,alpha:!1}));q.$?(q.Kd=q.zk,window.gl=q.$,q.ve=new q.fM(q.$),q.ja.f().CO()):(q.$=f.getContext("2d"),q.$T=q.$,q.Kd=q.ng,q.$.translate(0,f.height),q.ve=q.AE?new q.AE(q.$):null);
q.tU=q.size(f.width,f.height);q.dS=g;q.log(q.wt);q.Me.f();q.cW();q.Ja.ej&&q.DN();var h,l;"undefined"!==typeof document.hidden?(h="hidden",l="visibilitychange"):"undefined"!==typeof document.mozHidden?(h="mozHidden",l="mozvisibilitychange"):"undefined"!==typeof document.msHidden?(h="msHidden",l="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(h="webkitHidden",l="webkitvisibilitychange");"undefined"===typeof document.addEventListener||"undefined"===typeof h?(q.CC=!1,window.addEventListener("focus",
function(){if(q.Hh){var a=q.Hh.f();a.zV();a.AV()}},!1),window.addEventListener("blur",function(){if(q.Hh){var a=q.Hh.f();a.yU();a.AU()}},!1)):(q.CC=!0,document.addEventListener(l,e,!1))}};q.DN=function(){var a=document.createElement("style");a.type="text/css";document.body.appendChild(a);a.textContent="body,canvas,div{ -moz-user-select: none;-webkit-user-select: none;-ms-user-select: none;-khtml-user-select: none;-webkit-tap-highlight-color:rgba(0,0,0,0);}"};q.$F=!1;
q.cW=function(){q.$F=!1;q.canvas.oncontextmenu=q.$F?function(){}:function(){return!1}};q.qj=q.La.extend({fh:null,ctor:function(){this.fh=0;if(q.ZA)throw"Application has been initialized";q.ZA=this},Rs:function(a){this.fh=a},vba:function(a){a&&q.rect(0,0,0,0)},K5:function(){return q.Ja.ej?q.dF.DM:q.dF.NM},CV:function(){if(!this.QQ())return 0;var a,c=q.ca.f(),d=window;q.MR=c;d.jD&&this.fh==1/60?(a=function(){c.rJ();d.jD(a)},d.jD(a)):(a=function(){c.rJ()},setInterval(a,1E3*this.fh));return 0}});
q.qj.f=function(){return q.ZA};q.qj.y3=function(){var a=q.rM,c=navigator.language;c||(c=navigator.browserLanguage||navigator.kca);if(!c)return a;c=c.toLowerCase();switch(c){case "zh-cn":a=q.qM;break;case "fr":a=q.sM;break;case "it":a=q.vM;break;case "de":a=q.tM;break;case "es":a=q.CM;break;case "ru":a=q.BM;break;case "ko":a=q.xM;break;case "ja":a=q.wM;break;case "hu":a=q.uM;break;case "pt":a=q.AM;break;case "ar":a=q.pM;break;case "no":a=q.yM;break;case "pl":a=q.zM}return a};q.ZA=null;q.xk=q.La.extend({xca:null,oG:null,pp:null,jA:null,ctor:function(){this.pp={};window.DOMParser?(this.jA=!0,this.oG=new DOMParser):this.jA=!1},parse:function(a){var c=a;a=this.gI(a);a=this.pG(a,c).documentElement;if("plist"!=a.tagName)throw"cocos2d: "+c+" is not a plist file or you forgot to preload the plist file";for(var c=null,d=0,e=a.childNodes.length;d<e&&(c=a.childNodes[d],1!=c.nodeType);d++);return this.tA(c)},Wba:function(a,c){if(null==c||!1===c)a=this.gI(a);return this.pG(a)},pG:function(a,
c){var d;this.jA?d=this.oG.parseFromString(a,"text/xml"):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(a));null==d&&q.log("cocos2d:xml "+c+" not found!");return d},tA:function(a){var c=null;switch(a.tagName){case "dict":c=this.ZO(a);break;case "array":c=this.YO(a);break;case "string":if(1==a.childNodes.length)c=a.firstChild.nodeValue;else for(var c="",d=0;d<a.childNodes.length;d++)c+=a.childNodes[d].nodeValue;break;case "false":c=!1;break;case "true":c=!0;break;case "real":c=
parseFloat(a.firstChild.nodeValue);break;case "integer":c=parseInt(a.firstChild.nodeValue,10)}return c},YO:function(a){for(var c=[],d=0,e=a.childNodes.length;d<e;d++){var f=a.childNodes[d];1==f.nodeType&&c.push(this.tA(f))}return c},ZO:function(a){for(var c={},d=null,e=0,f=a.childNodes.length;e<f;e++){var g=a.childNodes[e];1==g.nodeType&&("key"==g.tagName?d=g.firstChild.nodeValue:c[d]=this.tA(g))}return c},LU:function(a){a=q.Nd.f().ze(a);if(window.XMLHttpRequest){var c=new XMLHttpRequest;c.overrideMimeType&&
c.overrideMimeType("text/xml")}if(null!=c){var d=this;c.onreadystatechange=function(){4==c.readyState&&(c.responseText?(q.Qb.f().eg(),d.pp[a]=c.responseText,c=null):(q.Qb.f().eg(),q.log("cocos2d:There was a problem retrieving the xml data:"+c.statusText)))};c.open("GET",a,!0);c.send(null)}else throw"cocos2d:Your browser does not support XMLHTTP.";},DX:function(a){this.pp.hasOwnProperty(a)&&delete this.pp[a]},getName:function(a){return a.substring(a.lastIndexOf("/",a.length)+1,a.lastIndexOf(".",a.length))},
N3:function(a){return a.substring(a.lastIndexOf(".",a.length)+1,a.length)},gI:function(a){return null!=this.pp?this.pp[a]:null}});q.xk.f=function(){this.Lb||(this.Lb=new q.xk);return this.Lb};q.xk.Lb=null;q.Wx=q.La.extend({LR:function(){q.qj.f().CV();return!0},c1:function(){q.ca.f().pause()},b1:function(){q.ca.f().$J()},PQ:function(){q.qj.f().PQ()},RQ:function(){q.qj.f().RQ()},d1:function(){}});q.Wx.hX=function(){null==q.zx&&(q.zx=new q.Wx);if(!q.zx)throw"Application initialize failure";return q.zx};q.zx=null;q.U=q.w.extend({Qd:null,Nk:q.xj,el:q.yu,qf:null,Rd:0,Gg:"",sA:null,Mo:!1,Gj:null,Tj:!1,Fg:null,ap:0,Mr:0,Uv:null,al:!1,Sr:null,gp:0,Wv:null,hp:null,ev:null,jB:0,kB:0,td:!1,sv:null,tv:null,ctor:function(){q.w.prototype.ctor.call(this);this.Qd=q.$l();this.Nk=q.sq;this.el=q.yu;this.tc=!1;this.Gj="";this.qf="Arial";this.Tj=this.Mo=!1;this.Fg=q.$l();this.Mr=this.ap=0;this.Uv="rgba(128, 128, 128, 0.5)";this.al=!1;this.Sr=q.zb();this.gp=0;this.Wv="";this.hp=q.zb();this.ev="rgba(255,255,255,1)";this.kB=this.jB=
0;this.td=!1;this.Zh()},v:function(){return this.pl(" ",this.qf,this.Rd)},OO:function(){this.$z().font=this.Gj},xr:function(a){return this.$z().measureText(a).width},RN:function(a,c){var d=this.xr(a),e=Math.floor(a.length*c/d),f=a.indexOf("\n");if(0.8*e>=f&&0<f)return f+1;if(d<c)return a.length;for(var d=!1,f=c+1,g=-1,k=e,h,l=q.U.SN,m=q.U.tP,n=q.U.QN,p=a.substr(e);h=l.exec(p);){k+=h[0].length;if("\n"==h[2]){d=!0;g=k;break}f=this.xr(a.substr(0,k));if(f>c){-1!=g&&(d=!0);break}g=k;p=a.substr(k)}if(d)return g;
p=a.substr(0,e);for(g=e;h=m.exec(p);)if(g=h[1].length,p=h[1],f=this.xr(p),f<c){n.test(h[2])&&g++;break}return g},description:function(){return"\x3ccc.LabelTTF | FontName \x3d"+this.qf+" FontSize \x3d "+this.Rd.toFixed(1)+"\x3e"},r:null,Hr:function(a){q.Gb.prototype.r.call(this,a);this.zG()},Zh:null,zG:function(){this.td=!0;var a=this.zc,c=this.cc,d=this.Sr,e=this.hp;this.Uv="rgba("+(0|0.5*a.q)+","+(0|0.5*a.p)+","+(0|0.5*a.k)+","+this.ap+")";this.ev="rgba("+(0|a.q/255*e.q)+","+(0|a.p/255*e.p)+","+
(0|a.k/255*e.k)+", "+c/255+")";this.Wv="rgba("+(0|a.q/255*d.q)+","+(0|a.p/255*d.p)+","+(0|a.k/255*d.k)+", "+c/255+")"},CP:function(){this.td=!0;var a=this.Sr,c=this.hp;this.Uv="rgba(128,128,128,"+this.ap+")";this.ev="rgba("+(0|c.q)+","+(0|c.p)+","+(0|c.k)+", 1)";this.Wv="rgba("+(0|a.q)+","+(0|a.p)+","+(0|a.k)+", 1)"},od:null,qB:function(a){q.Gb.prototype.od.call(this,a);this.Zh()},ta:null,Jr:function(a){this.Si!==a&&(q.w.prototype.ta.call(this,a),this.Zh(),this.td=!0)},pd:null,gca:function(a){q.Gb.prototype.pd.call(this,
a);this.Zh()},jC:function(){return this.Gg},Z3:function(){return this.Nk},f6:function(){return this.el},I3:function(){return q.size(this.Qd.width,this.Qd.height)},T3:function(){return this.Rd},S3:function(){return this.qf},pl:function(a,c,d,e,f,g){a=a?a+"":"";d=d||16;e=e||q.size(0,d);f=f||q.sq;g=g||q.zu;return q.w.prototype.v.call(this)?(this.tc=!1,this.Qd=q.size(e.width,e.height),this.qf=c||"Arial",this.Nk=f,this.el=g,this.Rd=d*q.Zc(),this.Gj=this.Rd+"px '"+c+"'",this.Fj=q.U.Fu(c,this.Rd),this.ra(a),
this.Zh(),this.sB(),this.td=!1,!0):!1},yC:null,yO:function(a,c){if(!q.w.prototype.v.call(this))return!1;this.tB(c,!1);this.ra(a);return!0},zO:function(a,c){if(!q.w.prototype.v.call(this))return!1;this.Vg(q.Mh.f().ui(q.U.sN));this.tB(c,!1);this.ra(a);return!0},Naa:function(a){a&&this.tB(a,!0)},L5:function(){return this.cP(!1)},YR:function(a,c,d){c=c||0.5;!1===this.Tj&&(this.Tj=!0);var e=this.Fg;if(e&&e.width!=a.width||e.height!=a.height)e.width=a.width,e.height=a.height;this.ap!=c&&(this.ap=c);this.Zh();
this.Mr!=d&&(this.Mr=d);this.td=!0},d2:function(){this.Tj&&(this.Tj=!1,this.td=!0)},ZR:function(a,c){!1===this.al&&(this.al=!0);var d=this.Sr;if(d.q!==a.q||d.p!==a.p||d.k!==a.k)d.q=a.q,d.p=a.p,d.k=a.k,this.Zh();this.gp!==c&&(this.gp=c||0);this.td=!0},e2:function(){this.al&&(this.al=!1,this.td=!0)},wD:null,GP:function(a){var c=this.hp;if(c.q!=a.q||c.p!=a.p||c.k!=a.k)c.q=a.q,c.p=a.p,c.k=a.k,this.Zh(),this.td=!0},HP:function(a){var c=this.hp;if(c.q!=a.q||c.p!=a.p||c.k!=a.k)c.q=a.q,c.p=a.p,c.k=a.k,this.Zh(),
this.td=!0},tB:function(a,c){a.qs?(this.Qd.width=a.qs.width,this.Qd.height=a.qs.height):(this.Qd.width=0,this.Qd.height=0);this.Nk=a.UH;this.el=a.VH;this.qf=a.rs;this.Rd=a.fontSize||12;this.Gj=this.Rd+"px '"+this.qf+"'";this.Fj=q.U.Fu(this.qf,this.Rd);a.$K&&this.YR(a.aL,a.bL,a.shadowBlur,!1);a.TD&&this.ZR(a.strokeColor,a.lL,!1);this.wD(a.WH,!1);c&&this.sB()},cP:function(a){var c=new q.iM;a?(c.fontSize=this.Rd,c.qs=q.Ly(this.Qd)):(c.fontSize=this.Rd,c.qs=q.size(this.Qd.width,this.Qd.height));c.rs=
this.qf;c.UH=this.Nk;c.VH=this.el;if(this.al){c.TD=!0;var d=this.Sr;c.strokeColor=new q.xc(d.q,d.p,d.k);c.lL=this.gp}else c.TD=!1;this.Tj?(c.$K=!0,c.shadowBlur=this.Mr,c.bL=this.ap,c.aL=a?q.Ly(this.Fg):q.size(this.Fg.width,this.Fg.height)):c.Tj=!1;a=this.hp;c.WH=new q.xc(a.q,a.p,a.k);return c},Fj:18,ra:function(a){a&&(a=String(a),a=a.replace("\x3cCOPYRIGHT\x3e","\u00a9"));this.sA!=a&&(this.sA=a+"",this.$G(),this.td=!0)},$G:function(){this.Gg=this.sA},O$:function(a){a!==this.Nk&&(this.Nk=a,this.td=
!0)},$aa:function(a){a!=this.el&&(this.el=a,this.td=!0)},yb:function(a){if(a.width!=this.Qd.width||a.height!=this.Qd.height)this.Qd=a,this.$G(),this.td=!0},ox:function(a){this.Rd!==a&&(this.Rd=a*q.Zc(),this.Gj=this.Rd+"px '"+this.qf+"'",this.Fj=q.U.Fu(this.qf,this.Rd),this.td=!0)},xD:function(a){this.qf&&this.qf!=a&&(this.qf=a,this.Gj=this.Rd+"px '"+a+"'",this.Fj=q.U.Fu(a,this.Rd),this.td=!0)},hO:function(a){if(a){var c=this.jB,d=this.kB,e=this.Ba.ya-d,f=this.el,g=this.Nk,k=this.Fj,h=this.gp;a.setTransform(1,
0,0,1,0+0.5*c,e+0.5*d);a.font!=this.Gj&&(a.font=this.Gj);a.fillStyle=this.ev;var l=d=0,m=this.al;m&&(a.lineWidth=2*h,a.strokeStyle=this.Wv);this.Tj&&(h=this.Fg,a.shadowColor=this.Uv,a.shadowOffsetX=h.width,a.shadowOffsetY=-h.height,a.shadowBlur=this.Mr);a.textBaseline=q.U.fQ[f];a.textAlign=q.U.eQ[g];c=this.Ba.Ha-c;d=g===q.gN?d+c:g===q.xj?d+Math.floor(c/2):d+0;a.lineHeight=this.Qd.height/this.Yi.length;if(this.Mo)for(g=this.Yi.length,f===q.zu||f===q.yu?l=k+e-k*g:f===q.Au&&(l=k/2+(e-k*g)/2),f=0;f<g;f++)c=
this.Yi[f],h=-e+k*f+l,m&&a.strokeText(c,d,h),a.fillText(c,d,h);else f!==q.zu&&(l=f===q.Bu?l-e:f===q.yu?l+e:l-0.5*e),m&&a.strokeText(this.Gg,d,l),a.fillText(this.Gg,d,l)}},$z:function(){if(this.tv)return this.tv;if(!this.sv){var a=document.createElement("canvas"),c=new q.fc;c.ff(a);this.ma(c);this.sv=a}return this.tv=this.sv.getContext("2d")},aH:function(){var a=this.Qd.width,c,d;this.dG=[];this.Mo=!1;this.OO();if(0!==a){var e=this.Gg;this.Yi=[];c=0;for(d=this.Gg.length;c<d;){var f=this.RN(e.substr(c),
a);this.Yi.push(e.substr(c,f));c+=f}}else for(this.Yi=this.Gg.split("\n"),c=0,d=this.Yi.length;c<d;c++)this.dG.push(this.xr(this.Yi[c]));0<this.Yi.length&&(this.Mo=!0);d=c=0;this.al&&(c=d=2*this.gp);this.Tj&&(e=this.Fg,c+=2*Math.abs(e.width),d+=2*Math.abs(e.height));a=0===a?this.Mo?q.size(0|Math.max.apply(Math,this.dG)+c,0|this.Fj*this.Yi.length+d):q.size(0|this.xr(this.Gg)+c,0|this.Fj+d):0===this.Qd.height?this.Mo?q.size(0|a+c,0|this.Fj*this.Yi.length+d):q.size(0|a+c,0|this.Fj+d):q.size(0|a+c,0|
this.Qd.height+d);this.Q(a);this.jB=c;this.kB=d;e=this.em;this.Ad.I=0.5*c+Math.round((a.width-c)*e.I);this.Ad.N=0.5*d+Math.round((a.height-d)*e.N)},c:function(){this.td&&this.aH();return q.w.prototype.c.call(this)},sB:function(){var a=this.$z(),c=this.sv,d=this.Ba;if(0===this.Gg.length)return c.width=1,c.height=d.ya,this.jb(q.rect(0,0,1,d.ya)),!0;a.font=this.Gj;this.aH();var e=d.Ha,d=d.ya,f=c.width==e&&c.height==d;c.width=e;c.height=d;f&&a.clearRect(0,0,e,d);this.hO(a);this.Ga.Yd();this.fL=!0;this.jb(q.rect(0,
0,e,d));return!0},Aa:function(a){this.Gg&&""!=this.Gg&&(this.td&&(this.td=!1,this.sB()),q.w.prototype.Aa.call(this,a||q.$))},Wa:null,xg:function(a){if(this.Gg&&""!=this.Gg){a=a||q.$;var c=this.Ga;c&&c.Dc&&(this.Oc.nf(),this.Oc.Xg(),q.hk(this.na.src,this.na.Ob),q.Jg(c),q.Be(q.xu),a.bindBuffer(a.ARRAY_BUFFER,this.Ov),this.uf&&(a.bufferData(a.ARRAY_BUFFER,this.Sb.FB,a.STATIC_DRAW),this.uf=!1),a.vertexAttribPointer(q.Oe,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(q.vq,2,a.FLOAT,!1,24,16),a.vertexAttribPointer(q.uq,
4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));1===q.uj?(a=this.Sb,a=[q.a(a.Xa.A.x,a.Xa.A.y),q.a(a.Oa.A.x,a.Oa.A.y),q.a(a.$a.A.x,a.$a.A.y),q.a(a.Qa.A.x,a.Qa.A.y)],q.ve.Wd(a,4,!0)):2===q.uj&&(a=this.kC().Va,c=this.lc,a=[q.a(c.x,c.y),q.a(c.x+a.width,c.y),q.a(c.x+a.width,c.y+a.height),q.a(c.x,c.y+a.height)],q.ve.Wd(a,4,!0));q.zh++}},VA:function(a,c,d){this.hd=c||!1;d=d||q.size(a.width/q.Zc(),a.height/q.Zc());this.Q(d);this.KD(a);this.fL&&(c=q.oa.f().va,d=q.oa.f().Ca,this.za.width/=c,
this.za.height/=d);c=this.Lm;d=this.Do;c.x=a.x;c.y=a.y;c.width=a.width;c.height=a.height;c.Ql=!(0===c.width||0===c.height);d.width=c.width;d.height=c.height;d.Ql=!(0===d.width||0===d.height);a=this.ci;this.gc&&(a.I=-a.I);this.hc&&(a.N=-a.N);this.lc.I=a.x+(this.Ba.Ha-this.za.width)/2;this.lc.N=a.y+(this.Ba.ya-this.za.height)/2;this.mb&&(this.Na=!0)},Ej:function(a){if(this.qb){a=a||q.$;this.rm&&(a.globalCompositeOperation="lighter");a.sT=this.bp;var c=q.oa.f().va,d=q.oa.f().Ca;a.globalAlpha=this.cc/
255;var e=this.za,f=this.Ba,g=this.lc,k=this.Do,h=0|g.I,l=-g.N-e.height,m=this.Lm;!0==this.Or&&(a.shadowBlur=30,a.shadowColor="black");if(this.gc||this.hc)a.save(),this.gc&&(h=-g.I-e.width,a.scale(-1,1)),this.hc&&(l=g.N,a.scale(1,-1));h*=c;l*=d;if(this.Ga&&m.Ql)e=this.Ga.sc,this.Gq?a.drawImage(e,0,0,m.width,m.height,h,l,k.width,k.height):a.drawImage(e,m.x,m.y,m.width,m.height,h,l,k.width,k.height);else if(0!==f.Ha){var n=this.yd();a.fillStyle="rgba("+n.q+","+n.p+","+n.k+",1)";a.fillRect(h,l,f.Ha*
c,f.ya*d)}!0==this.Or&&(a.shadowBlur=0);!0==this.$A&&(a.globalAlpha=1,a.beginPath(),a.strokeStyle="rgba("+n.q+","+n.p+","+n.k+",1)",a.lineWidth="1",ga(a,h,l,f.Ha*c,f.ya*d),a.stroke());2===q.uj&&(a.strokeStyle="rgba(0,255,0,1)",n=this.za.Va,l=-l,h=[q.a(h,l),q.a(h+n.width,l),q.a(h+n.width,l-n.height),q.a(h,l-n.height)],q.ve.Wd(h,4,!0));(this.gc||this.hc)&&a.restore();q.zh++}},CG:function(a){var c=this.mb?this.Ra.ia():this.Ga;if(c){var d=c.Fp(),e=c.Ep(),f,g=this.Sb;this.hd?(q.Qt?(c=(2*a.x+1)/(2*d),d=
c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/d,f=a.y/e,a=(a.y+a.width)/e),this.gc&&(e=f,f=a,a=e),this.hc&&(e=c,c=d,d=e),g.Oa.C.Ta=c,g.Oa.C.ua=f,g.$a.C.Ta=c,g.$a.C.ua=a,g.Xa.C.Ta=d,g.Xa.C.ua=f,g.Qa.C.Ta=d,g.Qa.C.ua=a):(q.Qt?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+a.height)/e),this.gc&&(e=c,c=d,d=e),this.hc&&(e=f,f=a,a=e),g.Oa.C.Ta=c,g.Oa.C.ua=a,g.$a.C.Ta=d,g.$a.C.ua=
a,g.Xa.C.Ta=c,g.Xa.C.ua=f,g.Qa.C.Ta=d,g.Qa.C.ua=f);this.uf=!0}}});q.Ja.Xc?(b=q.U.prototype,b.r=q.w.prototype.r,b.Zh=q.U.prototype.CP,b.od=q.w.prototype.od,b.ta=q.w.prototype.ta,b.pd=q.w.prototype.pd,b.yC=q.U.prototype.zO,b.wD=q.U.prototype.HP,b.Wa=q.U.prototype.xg,b.jb=q.w.prototype.DG):(b=q.U.prototype,b.r=q.U.prototype.Hr,b.Zh=q.U.prototype.zG,b.od=q.U.prototype.qB,b.ta=q.U.prototype.Jr,b.pd=q.U.prototype.XG,b.yC=q.U.prototype.yO,b.wD=q.U.prototype.GP,b.Wa=q.U.prototype.Ej,b.jb=q.U.prototype.VA);
q.U.eQ=["left","center","right"];q.U.fQ=["top","middle","bottom","alphabetic"];q.U.SN=/(.+?)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;q.U.tP=/(.*)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;q.U.QN=/[\s\-\/\\\:]/;q.U.create=function(a,c,d,e,f,g){var k=new q.U;return k.pl(a,c,d,e,f,g)?k:null};q.U.S1=function(a,c){var d=new q.U;return d&&d.yC(a,c)?d:null};q.U.sN=q.oN?q.Ky:q.b_;q.U.am=document.createElement("div");q.U.am.style.fontFamily="Arial";q.U.am.style.position="absolute";
q.U.am.style.left="-100px";q.U.am.style.top="-100px";q.U.am.style.lineHeight="normal";document.body.appendChild(q.U.am);q.U.Fu=function(a,c){var d=q.U.qF[a+"."+c];if(0<d)return d;var e=q.U.am;e.innerHTML="ajghl~!";e.style.fontFamily=a;e.style.fontSize=c+"px";d=e.clientHeight;q.U.qF[a+"."+c]=d;e.innerHTML="";return d};q.U.qF={};q.lM=q.La.extend({Qc:null,target:null,Wm:0,wh:null,$m:!1,paused:!1,hh:null,ctor:function(){this.Qc=[];this.Y=null;this.Wm=0;this.wh=null;this.paused=this.$m=!1;this.hh=null}});
q.JL=q.La.extend({Qh:null,jo:null,pf:null,Ji:!1,u0:function(a,c){for(var d=0;d<a.length;d++)if(c==a[d].target)return a[d];return null},ctor:function(){this.Qh={};this.jo=[];this.pf=null;this.Ji=!1},AQ:function(a,c,d){if(!a)throw"cc.ActionManager.addAction(): action must be non-null";if(!c)throw"cc.ActionManager.addAction(): action must be non-null";var e=this.Qh[c.nc];e||(e=new q.lM,e.paused=d,e.target=c,this.Qh[c.nc]=e,this.jo.push(e));this.xN(e);e.Qc.push(a);a.ha(c)},z9:function(){for(var a=this.jo,
c=0;c<a.length;c++){var d=a[c];d&&this.VJ(d.target,!0)}},VJ:function(a,c){if(null!=a){var d=this.Qh[a.nc];d&&(-1===d.Qc.indexOf(d.wh)||d.$m||(d.$m=!0),d.Qc=[],this.pf!=d||c?this.Hz(d):this.Ji=!0)}},UJ:function(a){if(null!=a){var c=this.Qh[a.xm.nc];if(c)for(var d=0;d<c.Qc.length;d++){if(c.Qc[d]==a){c.Qc.splice(d,1);break}}else q.log("cocos2d: removeAction: Target not found")}},iV:function(a,c){a==q.Pn&&q.log("cc.ActionManager.removeActionByTag(): an invalid tag");if(!c)throw"cc.ActionManager.removeActionByTag(): target must be non-null";
var d=this.Qh[c.nc];if(d)for(var e=d.Qc.length,f=0;f<e;++f){var g=d.Qc[f];if(g&&g.xd===a&&g.xm==c){this.gP(f,d);break}}},cC:function(a,c){a==q.Pn&&q.log("cc.ActionManager.getActionByTag(): an invalid tag");var d=this.Qh[c.nc];if(d){if(null!=d.Qc)for(var e=0;e<d.Qc.length;++e){var f=d.Qc[e];if(f&&f.xd===a)return f}q.log("cocos2d : getActionByTag(tag \x3d"+a+"): Action not found")}return null},wJ:function(a){return(a=this.Qh[a.nc])?a.Qc?a.Qc.length:0:0},Ns:function(a){if(a=this.Qh[a.nc])a.paused=!0},
xn:function(a){if(a=this.Qh[a.nc])a.paused=!1},a9:function(){for(var a=[],c=this.jo,d=0;d<c.length;d++){var e=c[d];e&&!e.paused&&(e.paused=!0,a.push(e.target))}return a},BV:function(a){if(a)for(var c=0;c<a.length;c++)a[c]&&this.xn(a[c])},n9:function(){q.ca.f().Cf().aq(this)},gP:function(a,c){c.Qc[a]!=c.wh||c.$m||(c.$m=!0);q.eq(c.Qc,a);c.Wm>=a&&c.Wm--;0==c.Qc.length&&(this.pf==c?this.Ji=!0:this.Hz(c))},Hz:function(a){a&&(delete this.Qh[a.target.nc],q.de(this.jo,a),a.Qc=null,a.target=null)},xN:function(a){null==
a.Qc&&(a.Qc=[])},update:function(a){for(var c=this.jo,d,e=0;e<c.length;e++){d=this.pf=c[e];if(!d.paused)for(d.Wm=0;d.Wm<d.Qc.length;d.Wm++)if(d.wh=d.Qc[d.Wm],d.wh){d.$m=!1;d.wh.step(a);if(d.$m)d.wh=null;else if(d.wh.ri()){d.wh.stop();var f=d.wh;d.wh=null;this.UJ(f)}d.wh=null}this.Ji&&0===d.Qc.length&&this.Hz(d)}}});q.of=q.La.extend({S:null,Mv:q.tj(),Mf:0,ctor:function(a,c,d){this.S=q.a(a||0,c||0);this.Mf=d||0},l4:function(){return this.S},DS:function(){return this.Mv},E3:function(){return q.Jd(this.S,this.Mv)},c4:function(){return this.Mf},d4:function(){return this.Mf},HD:function(a,c,d){this.Mv=this.S;this.S=q.a(c||0,d||0);this.Mf=a},Uf:function(a,c){this.Mv=q.a(a||0,c||0)}});
q.lF=q.La.extend({Y_:null,Eb:function(){return!1},Id:function(){},Qg:function(){},lk:function(){},AJ:function(){},DJ:function(){},CJ:function(){},BJ:function(){},$ba:function(){},Zba:function(){}});q.v_=q.lF.extend({Eb:function(){return!1},Id:function(){},Qg:function(){},lk:function(){}});q.l_=q.lF.extend({AJ:function(){},DJ:function(){},CJ:function(){},BJ:function(){}});q.eo=q.La.extend({Da:null,tf:0,Eo:0,pc:function(){return this.Da},hg:function(a){this.Da=a},ES:function(){return this.tf},Ys:function(a){this.tf=a},mS:function(){return this.Eo},hW:function(a){this.Eo=a},ik:function(a,c){if(!a)throw"cc.TouchHandler.initWithDelegate(): touch delegate should not be null";this.Da=a;this.tf=c;this.Eo=0;return!0}});q.eo.create=function(a,c){var d=new q.eo;d&&d.ik(a,c);return d};q.Py=q.eo.extend({ik:function(a,c){return q.eo.prototype.ik.call(this,a,c)}});
q.Py.create=function(a,c){var d=new q.Py;d&&d.ik(a,c);return d};q.qu=q.eo.extend({$v:!1,xo:null,v7:function(){return this.$v},Kaa:function(a){this.$v=a},p3:function(){return this.xo},ik:function(a,c,d){return q.eo.prototype.ik.call(this,a,c)?(this.xo=[],this.$v=d,!0):!1}});q.qu.create=function(a,c,d){var e=new q.qu;e&&e.ik(a,c,d);return e};q.jN=1;q.mN=2;q.lN=4;q.kN=8;q.y_=q.jN|q.mN|q.lN|q.kN;q.Ty=0;q.Wy=1;q.Vy=2;q.Uy=3;q.x_=4;q.mJ=function(a,c){return a.tf>c.tf};q.uu=function(a){this.type=a};
q.qa=q.La.extend({Qj:!1,Xe:null,We:null,tm:!1,$r:!1,jw:!1,Ok:null,Hj:null,iw:!1,Dj:!1,rO:[new q.uu(q.Ty),new q.uu(q.Wy),new q.uu(q.Vy),new q.uu(q.Uy)],v:function(){this.Dj=!0;this.Xe=[];this.We=[];this.Ok=[];this.Hj=[];this.Qj=this.tm=this.iw=this.$r=this.jw=!1;q.qa.eV();return!0},Ir:function(a){this.Qj=a},mO:function(){return this.Qj},U6:function(){return this.Dj},fW:function(a){this.Dj=a},BN:function(a,c){var d=q.Py.create(a,c||0);this.tm?-1!=this.Hj.indexOf(a)?q.de(this.Hj,a):(this.Ok.push(d),
this.$r=!0):this.We=this.wp(d,this.We)},CN:function(a,c,d){c=q.qu.create(a,c,d);this.tm?-1!=this.Hj.indexOf(a)?q.de(this.Hj,a):(this.Ok.push(c),this.$r=!0):this.Xe=this.wp(c,this.Xe)},wp:function(a,c){for(var d=0,e,f=0;f<c.length;f++)if(e=c[f])if(e.tf<a.tf&&++d,e.pc()==a.pc())return q.log("cc.TouchDispatcher.forceAddHandler(): The handler has been added."),c;return q.Ul(c,a,d)},XH:function(){this.We.length=0;this.Xe.length=0},jP:function(a){if(null!=a)if(this.tm){var c=this.SH(this.Ok,a);c?q.de(this.Ok,
c):(this.Hj.push(a),this.jw=!0)}else this.YH(a)},kV:function(){this.tm?this.iw=!0:this.XH()},Ys:function(a,c){if(!c)throw"cc.TouchDispatcher.setPriority(): delegate should be non-null.";var d=this.SH(c);d?d.tf!=a&&(d.Ys(a),this.PJ(this.Xe),this.PJ(this.We)):q.log("cc.TouchDispatcher.setPriority(): Can't find TouchHandler.")},touches:function(a,c,d){if(0>d||4<=d)throw"cc.TouchDispatcher.touches(): invalid index";this.tm=!0;var e=this.Xe.length,f=this.We.length,g=e&&f,k=g?a.slice():a,h=this.rO[d];if(0<
e)for(var l,m,n=0;n<a.length;n++)for(var e=a[n],p=0;p<this.Xe.length;p++){l=this.Xe[p];if(!l)break;m=!1;if(d==q.Ty)l.pc().Eb&&(m=l.pc().Eb(e,c))&&l.xo.push(e);else if(0<l.xo.length)switch(m=!0,h.type){case q.Wy:q.Ja.ej?l.pc().Id&&l.pc().Id(e,c):this.Qj&&l.pc().Id&&l.pc().Id(e,c);break;case q.Vy:l.pc().Qg&&l.pc().Qg(e,c);l.xo.length=0;break;case q.Uy:l.pc().lk&&l.pc().lk(e,c),l.xo.length=0}if(m&&l.$v){g&&q.de(k,e);break}}if(0<f)for(n=0;n<this.We.length&&(l=this.We[n],l);n++);this.tm=!1;if(this.jw){this.jw=
!1;for(n=0;n<this.Hj.length;n++)this.YH(this.Hj[n]);this.Hj.length=0}if(this.$r){this.$r=!1;for(n=0;n<this.Ok.length;n++){l=this.Ok[n];if(!l)break;l instanceof q.qu?this.Xe=this.wp(l,this.Xe):this.We=this.wp(l,this.We)}this.Ok.length=0}this.iw&&(this.iw=!1,this.XH())},Lx:function(a,c){this.Dj&&this.touches(a,c,q.Ty)},Mx:function(a,c){this.Dj&&this.touches(a,c,q.Wy)},ft:function(a,c){this.Dj&&this.touches(a,c,q.Vy)},YD:function(a,c){this.Dj&&this.touches(a,c,q.Uy)},SH:function(a,c){switch(arguments.length){case 1:c=
arguments[0];if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(var d=0;d<this.Xe.length;d++)if(this.Xe[d].pc()==c)return this.Xe[d];for(d=0;d<this.We.length;d++)if(this.We[d].pc()==c)return this.We[d];return null;case 2:if(!a)throw"cc.TouchDispatcher.findHandler(): array should be non-null.";if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(d=0;d<a.length;d++)if(a[d].pc()==c)return a[d];return null;default:throw"Argument must be non-nil ";
}},YH:function(a){for(var c,d=0;d<this.We.length;d++)if((c=this.We[d])&&c.pc()==a){q.de(this.We,c);break}for(d=0;d<this.Xe.length;d++)if((c=this.Xe[d])&&c.pc()==a){q.de(this.Xe,c);break}},PJ:function(a){a.sort(q.mJ)}});q.qa.wb=q.a(0,0);q.qa.bJ=!1;
q.$i=function(a){var c=document.documentElement,d=window,e=null,e="function"===typeof a.getBoundingClientRect?a.getBoundingClientRect():a instanceof HTMLCanvasElement?{left:0,top:0,width:a.width,height:a.height}:{left:0,top:0,width:parseInt(a.style.width),height:parseInt(a.style.height)};return{left:e.left+d.pageXOffset-c.clientLeft,top:e.top+d.pageYOffset-c.clientTop,width:e.width,height:e.height}};
q.VM=function(a,c){var d=q.$i(a),e,f;null!=c.pageX?(e=c.pageX,f=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,e=c.clientX,f=c.clientY);e=q.oa.f().ck(e,f,d);d=new q.of(e.x,e.y);d.Uf(q.qa.wb.x,q.qa.wb.y);q.qa.wb.x=e.x;q.qa.wb.y=e.y;e=[];e.push(d);q.oa.f().ft(e,null)};
q.qa.eV=function(){var a=q.canvas;if(!q.qa.bJ){if(q.Ja.ej)if(window.navigator.msPointerEnabled){var c={MSPointerDown:"touchesBegan",MSPointerMove:"touchesMoved",MSPointerUp:"touchesEnded",MSPointerCancel:"touchesCancelled"},d;for(d in c)(function(c,d){a.addEventListener(c,function(c){var e=q.$i(a);e.left-=document.body.scrollLeft;e.top-=document.body.scrollTop;var h,l;h=c.clientX;l=c.clientY;h=q.oa.f().ck(h,l,e);e=new q.of(h.x,h.y);e.Uf(q.qa.wb.x,q.qa.wb.y);q.qa.wb.x=h.x;q.qa.wb.y=h.y;q.ca.f().Ze[d]([e],
null);c.stopPropagation();c.preventDefault()},!1)})(d,c[d])}else a.addEventListener("touchstart",function(c){if(c.changedTouches){var d=[],g=q.$i(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var k,h,l,m=c.changedTouches.length,n=0;n<m;n++)if(k=c.changedTouches[n])h=k.clientX,l=k.clientY,h=q.oa.f().ck(h,l,g),k.hasOwnProperty("identifier")?(k=new q.of(h.x,h.y,k.identifier),l=q.qa.hv(k).S,k.Uf(l.x,l.y),q.qa.AG(k)):(k=new q.of(h.x,h.y),k.Uf(q.qa.wb.x,q.qa.wb.y)),q.qa.wb.x=h.x,
q.qa.wb.y=h.y,d.push(k);q.oa.f().Lx(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchmove",function(c){if(c.changedTouches){var d=[],g=q.$i(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var k,h,l,m=c.changedTouches.length,n=0;n<m;n++)if(k=c.changedTouches[n])h=k.clientX,l=k.clientY,h=q.oa.f().ck(h,l,g),k.hasOwnProperty("identifier")?(k=new q.of(h.x,h.y,k.identifier),l=q.qa.hv(k).S,k.Uf(l.x,l.y),q.qa.AG(k)):(k=new q.of(h.x,h.y),k.Uf(q.qa.wb.x,q.qa.wb.y)),
q.qa.wb.x=h.x,q.qa.wb.y=h.y,d.push(k);q.oa.f().Mx(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchend",function(c){if(c.changedTouches){var d=[],g=q.$i(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var k,h,l,m=c.changedTouches.length,n=0;n<m;n++)if(k=c.changedTouches[n])h=k.clientX,l=k.clientY,h=q.oa.f().ck(h,l,g),k.hasOwnProperty("identifier")?(k=new q.of(h.x,h.y,k.identifier),l=q.qa.hv(k).S,k.Uf(l.x,l.y),q.qa.IF(k)):(k=new q.of(h.x,h.y),k.Uf(q.qa.wb.x,
q.qa.wb.y)),q.qa.wb.x=h.x,q.qa.wb.y=h.y,d.push(k);q.oa.f().ft(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchcancel",function(c){if(c.changedTouches){var d=[],g=q.$i(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var k,h,l,m=c.changedTouches.length,n=0;n<m;n++)if(k=c.changedTouches[n])h=k.clientX,l=k.clientY,h=q.oa.f().ck(h,l,g),k.hasOwnProperty("identifier")?(k=new q.of(h.x,h.y,k.identifier),l=q.qa.hv(k).S,k.Uf(l.x,l.y),q.qa.IF(k)):(k=new q.of(h.x,
h.y),k.Uf(q.qa.wb.x,q.qa.wb.y)),q.qa.wb.x=h.x,q.qa.wb.y=h.y,d.push(k);q.oa.f().YD(d,null);c.stopPropagation();c.preventDefault()}},!1);else window.addEventListener("mousedown",function(){q.ca.f().Ze.Ir(!0)}),window.addEventListener("mouseup",function(c){q.ca.f().Ze.Ir(!1);var d=q.$i(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);q.lb(new q.rg(d.left,d.top,d.width,d.height),q.a(g,c))||(g=q.oa.f().ck(g,c,d),d=new q.of(g.x,
g.y),d.Uf(q.qa.wb.x,q.qa.wb.y),q.qa.wb.x=g.x,q.qa.wb.y=g.y,g=[],g.push(d),q.oa.f().ft(g,null))}),a.addEventListener("mousedown",function(c){var d=q.$i(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=q.oa.f().ck(g,c,d);d=new q.of(g.x,g.y);d.Uf(q.qa.wb.x,q.qa.wb.y);q.qa.wb.x=g.x;q.qa.wb.y=g.y;g=[];g.push(d);q.oa.f().Lx(g,null)}),a.addEventListener("mouseup",function(c){q.VM(a,c)}),a.addEventListener("mousemove",function(c){var d=
q.$i(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=q.oa.f().ck(g,c,d);d=new q.of(g.x,g.y);d.Uf(q.qa.wb.x,q.qa.wb.y);q.qa.wb.x=g.x;q.qa.wb.y=g.y;g=[];g.push(d);q.oa.f().Mx(g,null)});q.qa.bJ=!0}};q.qa.hv=function(a){for(var c=null,d=q.qa.zA,e=a.Mf,f=d.length-1;0<=f;f--)if(d[f].Mf==e){c=d[f];break}c||(c=a);return c};
q.qa.AG=function(a){for(var c=!1,d=q.qa.zA,e=a.Mf,f=d.length-1;0<=f;f--)if(d[f].Mf==e){d[f]=a;c=!0;break}c||(50>=d.length?d.push(a):(d[q.qa.AA]=a,q.qa.AA=(q.qa.AA+1)%50))};q.qa.IF=function(a){var c,d=q.qa.zA;c=a.Mf;for(a=d.length-1;0<=a;a--)if(d[a].Mf==c){c=d.pop();a!=d.length&&(d[a]=c);break}};q.qa.zA=[];q.qa.AA=0;q.cD=function(a,c,d){q.ca.f().Ze.CN(d,a,c)};q.fV=function(a,c){q.ca.f().Ze.BN(a,c)};q.rL=function(a){q.ca.f().Ze.jP(a)};q.EM=1;q.IE=2;q.oZ=4;q.IM=8;q.PZ=16;q.QZ=32;q.RZ=64;q.BZ=128;q.CZ=256;q.DZ=512;q.$E=1024;q.FM=2048;q.GM=4096;q.HM=0;q.pZ=1;q.JE=2;q.rZ=q.La.extend({gU:function(){return!1},hU:function(){return!1},ij:function(){return!1},kU:function(){return!1},oU:function(){return!1},pU:function(){return!1},qU:function(){return!1},lU:function(){return!1},mU:function(){return!1},nU:function(){return!1},rU:function(){return!1},iU:function(){return!1},jU:function(){return!1}});
q.JM=q.of.extend({dH:0,AF:q.HM,k6:function(){return this.dH},WK:function(a){this.dH=a},h3:function(){return this.AF},VV:function(a){this.AF=a}});q.zy=q.La.extend({Da:null,tf:0,Eo:0,pc:function(){return this.Da},hg:function(a){this.Da=a},ES:function(){return this.tf},Ys:function(a){this.tf=a},mS:function(){return this.Eo},hW:function(a){this.Eo=a},ik:function(a,c){this.Da=a;this.tf=c}});q.zy.create=function(a,c){var d=new q.zy;d.ik(a,c);return d};
q.he=q.La.extend({Qj:!1,Qv:!1,Nf:null,Dj:!1,v:function(){this.Dj=!0;this.Nf=[];this.Qv=this.Qj=!1;q.he.eP();return!0},Ir:function(a){this.Qj=a},mO:function(){return this.Qj},BG:function(a){this.Qv=a},e0:function(){return this.Qv},mH:function(a,c){var d=q.zy.create(a,c);this.Nf=this.wp(d,this.Nf)},wp:function(a,c){for(var d=0,e=0;e<c.length;e++){var f=c[e];if(f&&(f.tf<a.tf&&++d,f.pc()==a.pc()))return q.log("cc.MouseDispatcher.forceAddHandler(): handler has been added."),c}return q.Ul(c,a,d)},WJ:function(a){if(null!=
a)for(var c=0;c<this.Nf.length;c++){var d=this.Nf[c];if(d&&d.pc()==a){q.de(this.Nf,d);break}}},kO:function(a){for(var c=0;c<this.Nf.length;c++)if(this.Nf[c]&&this.Nf[c].pc()==a)return this.Nf[c];return null},Ys:function(a,c){if(!c)throw"cc.MouseDispatcher.setPriority(): delegate should be non-null";var d=this.kO(c);d?d.tf!=a&&(d.Ys(a),this.Nf.sort(q.mJ)):q.log("cc.MouseDispatcher.setPriority(): Can't find MouseHandler in array")},C9:function(){this.Nf.length=0},ln:function(a,c,d){for(c=0;c<this.Nf.length;c++){var e=
this.Nf[c];switch(d){case q.IE:this.Qj||this.Qv||!e.pc().ij||e.pc().ij(a)}}}});q.he.Lv=q.a(0,0);q.he.IO=!1;
q.he.eP=function(){var a=q.canvas;function c(c){var e=q.$i(a),f=c.pageX,g=c.pageY,k=q.oa.f(),f=(f-e.left)/k.va,e=(e.height-(g-e.top))/k.Ca,g=new q.JM(f,e);g.Uf(q.he.Lv.x,q.he.Lv.y);g.VV(c.button);q.he.Lv.x=f;q.he.Lv.y=e;return g}q.he.IO||(window.addEventListener("mousedown",function(a){a.button==q.JE?q.ca.f().Bf().BG(!0):q.ca.f().Bf().Ir(!0)}),window.addEventListener("mouseup",function(a){a.button==q.JE?q.ca.f().Bf().BG(!1):q.ca.f().Bf().Ir(!1)}),a.addEventListener("mousedown",function(a){q.ca.f().Bf().ln(c(a),
a,q.EM)}),a.addEventListener("mouseup",function(a){q.ca.f().Bf().ln(c(a),a,q.IM)}),a.addEventListener("mousemove",function(a){q.ca.f().Bf().ln(c(a),a,q.IE)}),a.addEventListener("mousewheel",function(a){var e=c(a);e.WK(a.wheelDelta);q.ca.f().Bf().ln(e,a,q.$E)},!1),a.addEventListener("DOMMouseScroll",function(a){var e=c(a);e.WK(-120*a.detail);q.ca.f().Bf().ln(e,a,q.$E)}),a.addEventListener("mouseout",function(a){q.ca.f().Bf().ln(c(a),a,q.GM)},!1),a.addEventListener("mouseover",function(a){q.ca.f().Bf().ln(c(a),
a,q.FM)},!1))};q.nca=function(){return{x:0,y:0}};q.Pl=function(a,c){return{x:a,y:c}};q.Zg=function(a,c){return q.Pl(a.x+c.x,a.y+c.y)};q.zd=function(a,c){return q.Pl(a.x-c.x,a.y-c.y)};q.mg=function(a,c){return q.Pl(a.x*c,a.y*c)};q.Sx=function(a){return q.Pl(-a.y,a.x)};q.nj=function(a){return q.Pl(-a.x,-a.y)};q.JX=function(a,c){return a.x*c.x+a.y*c.y};q.mca=function(a){return q.Pl(Math.cos(a),Math.sin(a))};q.dE=function(a){a=q.Fh(q.a(a.x,a.y));return q.Pl(a.x,a.y)};q.Bi=function(a){return q.Pl(a.x,a.y)};
q.Jb=function(a){return{Ta:a.x,ua:a.y}};
q.dM=q.F.extend({hb:null,na:null,Co:null,Ro:null,ts:function(){return this.na},Fl:function(a){this.na=a},E$:function(a){this.Co=q.j(a.q,a.p,a.k,a.K)},X$:function(a){this.Ro=null==a?null:q.j(a.q,a.p,a.k,a.K)},Gw:function(){return q.j(this.Co.q,this.Co.p,this.Co.k,this.Co.K)},fI:function(){return this.Ro?q.j(this.Ro.q,this.Ro.p,this.Ro.k,this.Ro.K):null},ctor:function(){q.F.prototype.ctor.call(this);this.hb=[];this.Co=q.j(0,0,0,255);this.na=new q.Wl(q.Le,q.Ke)},Wa:function(a){a=a||q.$;var c=q.oa.f().va;
this.na&&770==this.na.src&&1==this.na.Ob&&(a.globalCompositeOperation="lighter");for(var d=0;d<this.hb.length;d++){var e=this.hb[d];e.type===q.pg.iF&&(a.fillStyle="rgba("+(0|e.color.q)+","+(0|e.color.p)+","+(0|e.color.k)+","+e.color.K/255+")",q.ve.TB(e.position,e.aD));e.type===q.pg.jF&&(a.strokeStyle="rgba("+(0|e.color.q)+","+(0|e.color.p)+","+(0|e.color.k)+","+e.color.K/255+")",a.lineWidth=2*e.aD*c,a.lineCap="round",q.ve.ii(e.from,e.Ol));e.type===q.pg.Xy&&(a.fillStyle="rgba("+(0|e.fillColor.q)+","+
(0|e.fillColor.p)+","+(0|e.fillColor.k)+","+e.fillColor.K/255+")",q.ve.Wd(e.Tx,e.count,!1,!0),a.lineWidth=2*e.borderWidth*c,a.lineCap="round",a.strokeStyle="rgba("+(0|e.borderColor.q)+","+(0|e.borderColor.p)+","+(0|e.borderColor.k)+","+e.borderColor.K/255+")",q.ve.Wd(e.Tx,e.count,!0,!1))}},UB:function(a,c,d,e,f,g){f=f||this.m0;g=g||this.Gw();null==g.K&&(g.K=255);for(var k=[],h=0,l=0;l<e;l++)k.push(q.a(Math.pow(1-h,2)*a.x+2*(1-h)*h*c.x+h*h*d.x,Math.pow(1-h,2)*a.y+2*(1-h)*h*c.y+h*h*d.y)),h+=1/e;k.push(q.a(d.x,
d.y));a=new q.Du(q.pg.Xy);a.Tx=k;a.lineWidth=f;a.fillColor=g;a.borderColor=g;a.u7=!0;a.lineCap="round";this.hb.push(a)},QR:function(a,c,d){var e=new q.Du(q.pg.iF);e.position=q.a(a.x,a.y);e.aD=c;e.color=d;this.hb.push(e)},UR:function(a,c,d,e){var f=new q.Du(q.pg.jF);f.from=q.a(a.x,a.y);f.Ol=q.a(c.x,c.y);f.aD=d?d:1;f.color=e?e:this.Gw();this.hb.push(f)},Wd:function(a,c,d,e){var f=new q.Du(q.pg.Xy);f.Tx=a;f.count=a.length;f.fillColor=c?c:this.Gw();f.borderWidth=d?d:1;f.borderColor=e?e:this.fI()?this.fI():
this.Gw();this.hb.push(f)},clear:function(){this.hb.length=0}});
q.eM=q.F.extend({oo:0,hb:null,dl:null,RG:null,QG:null,na:null,Na:!1,ts:function(){return this.na},Fl:function(a){this.na=a},ctor:function(){q.F.prototype.ctor.call(this);this.hb=[];this.na=new q.Wl(q.Le,q.Ke)},v:function(){return q.F.prototype.v.call(this)?(this.Vg(q.Mh.f().ui(q.a_)),this.Rz(512),this.RG=q.$.createBuffer(),this.Na=!0):!1},pP:function(){var a=q.$;q.Be(q.xu);a.bindBuffer(a.ARRAY_BUFFER,this.RG);this.Na&&(a.bufferData(a.ARRAY_BUFFER,this.dl,a.STREAM_DRAW),this.Na=!1);var c=q.bc.BYTES_PER_ELEMENT;
a.vertexAttribPointer(q.Oe,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(q.uq,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(q.vq,2,a.FLOAT,!1,c,12);a.drawArrays(a.TRIANGLES,0,3*this.hb.length);q.Jh()},Rz:function(a){if(this.hb.length+a>this.oo){var c=q.Mc.BYTES_PER_ELEMENT;this.oo+=Math.max(this.oo,a);if(null==this.hb||0===this.hb.length)this.hb=[],this.dl=new ArrayBuffer(c*this.oo),this.QG=new Uint8Array(this.dl);else{a=[];for(var d=new ArrayBuffer(c*this.oo),e=0;e<this.hb.length;e++)a[e]=new q.Mc(this.hb[e].K,
this.hb[e].k,this.hb[e].Ka,d,e*c);this.QG=new Uint8Array(d);this.hb=a;this.dl=d}}},Wa:function(){q.hk(this.na.src,this.na.Ob);this.Oc.nf();this.Oc.SK();this.pP()},QR:function(a,c,d){d={q:0|255*d.q,p:0|255*d.p,k:0|255*d.k,K:0|255*d.K};var e={A:{x:a.x-c,y:a.y-c},P:d,C:{Ta:-1,ua:-1}},f={A:{x:a.x+c,y:a.y+c},P:d,C:{Ta:1,ua:1}},g={A:{x:a.x+c,y:a.y-c},P:d,C:{Ta:1,ua:-1}};this.hb.push(new q.Mc(e,{A:{x:a.x-c,y:a.y+c},P:d,C:{Ta:-1,ua:1}},f,this.dl,this.hb.length*q.Mc.BYTES_PER_ELEMENT));this.hb.push(new q.Mc(e,
f,g,this.dl,this.hb.length*q.Mc.BYTES_PER_ELEMENT));this.Na=!0},UR:function(a,c,d,e){this.Rz(18);e={q:0|255*e.q,p:0|255*e.p,k:0|255*e.k,K:0|255*e.K};var f=q.Bi(a);c=q.Bi(c);a=q.dE(q.Sx(q.zd(c,f)));var g=q.Sx(a),k=q.mg(a,d);d=q.mg(g,d);var h=q.Zg(c,q.zd(k,d)),l=q.zd(c,k),m=q.Zg(c,k),n=q.zd(f,k),p=q.Zg(f,k),t=q.zd(f,q.zd(k,d)),f=q.Zg(f,q.Zg(k,d)),u=q.Mc.BYTES_PER_ELEMENT,w=this.dl;this.hb.push(new q.Mc({A:q.zd(c,q.Zg(k,d)),P:e,C:q.Jb(q.nj(q.Zg(a,g)))},{A:h,P:e,C:q.Jb(q.zd(a,g))},{A:l,P:e,C:q.Jb(q.nj(a))},
w,this.hb.length*u));this.hb.push(new q.Mc({A:m,P:e,C:q.Jb(a)},{A:h,P:e,C:q.Jb(q.zd(a,g))},{A:l,P:e,C:q.Jb(q.nj(a))},w,this.hb.length*u));this.hb.push(new q.Mc({A:m,P:e,C:q.Jb(a)},{A:n,P:e,C:q.Jb(q.nj(a))},{A:l,P:e,C:q.Jb(q.nj(a))},w,this.hb.length*u));this.hb.push(new q.Mc({A:m,P:e,C:q.Jb(a)},{A:n,P:e,C:q.Jb(q.nj(a))},{A:p,P:e,C:q.Jb(a)},w,this.hb.length*u));this.hb.push(new q.Mc({A:t,P:e,C:q.Jb(q.zd(g,a))},{A:n,P:e,C:q.Jb(q.nj(a))},{A:p,P:e,C:q.Jb(a)},w,this.hb.length*u));this.hb.push(new q.Mc({A:t,
P:e,C:q.Jb(q.zd(g,a))},{A:f,P:e,C:q.Jb(q.Zg(a,g))},{A:p,P:e,C:q.Jb(a)},w,this.hb.length*u));this.Na=!0},Wd:function(a,c,d,e){c={q:0|255*c.q,p:0|255*c.p,k:0|255*c.k,K:0|255*c.K};e={q:0|255*e.q,p:0|255*e.p,k:0|255*e.k,K:0|255*e.K};var f=[],g,k,h,l,m=a.length;for(g=0;g<m;g++){k=q.Bi(a[(g-1+m)%m]);h=q.Bi(a[g]);l=q.Bi(a[(g+1)%m]);var n=q.dE(q.Sx(q.zd(h,k)));h=q.dE(q.Sx(q.zd(l,h)));f[g]={offset:q.mg(q.Zg(n,h),1/(q.JX(n,h)+1)),sJ:h}}n=0<d;this.Rz(3*(3*m-2));var p=q.Mc.BYTES_PER_ELEMENT,t=this.dl,u=this.hb,
w=!1==n?0.5:0;for(g=0;g<m-2;g++)k=q.zd(q.Bi(a[0]),q.mg(f[0].offset,w)),h=q.zd(q.Bi(a[g+1]),q.mg(f[g+1].offset,w)),l=q.zd(q.Bi(a[g+2]),q.mg(f[g+2].offset,w)),u.push(new q.Mc({A:k,P:c,C:q.Jb({x:0,y:0})},{A:h,P:c,C:q.Jb({x:0,y:0})},{A:l,P:c,C:q.Jb({x:0,y:0})},t,u.length*p));for(g=0;g<m;g++){w=(g+1)%m;k=q.Bi(a[g]);h=q.Bi(a[w]);l=f[g].sJ;var D=f[g].offset,G=f[w].offset,w=n?q.zd(k,q.mg(D,d)):q.zd(k,q.mg(D,0.5)),B=n?q.zd(h,q.mg(G,d)):q.zd(h,q.mg(G,0.5));k=n?q.Zg(k,q.mg(D,d)):q.Zg(k,q.mg(D,0.5));h=n?q.Zg(h,
q.mg(G,d)):q.Zg(h,q.mg(G,0.5));n?(u.push(new q.Mc({A:w,P:e,C:q.Jb(q.nj(l))},{A:B,P:e,C:q.Jb(q.nj(l))},{A:h,P:e,C:q.Jb(l)},t,u.length*p)),u.push(new q.Mc({A:w,P:e,C:q.Jb(q.nj(l))},{A:k,P:e,C:q.Jb(l)},{A:h,P:e,C:q.Jb(l)},t,u.length*p))):(u.push(new q.Mc({A:w,P:c,C:q.Jb({x:0,y:0})},{A:B,P:c,C:q.Jb({x:0,y:0})},{A:h,P:c,C:q.Jb(l)},t,u.length*p)),u.push(new q.Mc({A:w,P:c,C:q.Jb({x:0,y:0})},{A:k,P:c,C:q.Jb(l)},{A:h,P:c,C:q.Jb(l)},t,u.length*p)))}this.Na=!0},clear:function(){this.hb.length=0;this.Na=!0}});
q.pg=q.Ja.Xc?q.eM:q.dM;q.pg.create=function(){var a=new q.pg;return a&&a.v()?a:null};q.Du=function(a){this.type=a};q.pg.iF=0;q.pg.jF=1;q.pg.Xy=2;q.ct=-1;q.FK=function(a,c){a.Vg(c);var d=a.B;if(d)for(var e=0;e<d.length;e++)q.FK(d[e],c)};
q.tb=q.F.extend({uc:null,dm:0,Oi:!1,RF:!1,ctor:function(){q.F.prototype.ctor.call(this);this.uc=null;this.dm=0;this.Oi=!1},v:null,gA:function(a){this.uc=a;this.dm=1;this.Oi=!1;q.tb.iA=!0;q.tb.iA&&(q.ct=q.$.getParameter(q.$.STENCIL_BITS),0>=q.ct&&q.log("Stencil buffer is not enabled."),q.tb.iA=!1);return!0},fA:function(a){this.uc=a;this.dm=1;this.Oi=!1},Pg:function(){q.F.prototype.Pg.call(this);this.uc.Pg()},ti:function(){q.F.prototype.ti.call(this);this.uc.ti()},Eh:function(){this.uc.Eh();q.F.prototype.Eh.call(this)},
ae:function(){this.uc.ae();q.F.prototype.ae.call(this)},Aa:null,Sm:function(a){var c=a||q.$;if(1>q.ct)q.F.prototype.Aa.call(this,a);else if(this.uc&&this.uc.wa)if(q.tb.tr=-1,q.tb.tr+1==q.ct)q.tb.zB=!0,q.tb.zB&&(q.log("Nesting more than "+q.ct+"stencils is not supported. Everything will be drawn without stencil for this node and its childs."),q.tb.zB=!1),q.F.prototype.Aa.call(this,a);else{q.tb.tr++;var d=1<<q.tb.tr,e=d|d-1,f=c.isEnabled(c.STENCIL_TEST),g=c.getParameter(c.STENCIL_WRITEMASK),k=c.getParameter(c.STENCIL_FUNC),
h=c.getParameter(c.STENCIL_REF),l=c.getParameter(c.STENCIL_VALUE_MASK),m=c.getParameter(c.STENCIL_FAIL),n=c.getParameter(c.STENCIL_PASS_DEPTH_FAIL),p=c.getParameter(c.STENCIL_PASS_DEPTH_PASS);c.enable(c.STENCIL_TEST);c.stencilMask(d);var t=c.getParameter(c.DEPTH_WRITEMASK);c.depthMask(!1);c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.Oi?c.REPLACE:c.ZERO,c.KEEP,c.KEEP);q.ve.VB(q.tj(),q.uU(),q.vw(1,1,1,1));c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.Oi?c.ZERO:c.REPLACE,c.KEEP,c.KEEP);if(1>this.dm){var d=
q.Mh.f().ui(q.c_),u=c.getUniformLocation(d.Kw(),q.A_);q.r6(d.Kw());d.RK(u,this.dm);q.FK(this.uc,d)}q.Pp();this.transform();this.uc.Aa();q.Op();c.depthMask(t);c.stencilFunc(c.EQUAL,e,e);c.stencilOp(c.KEEP,c.KEEP,c.KEEP);q.F.prototype.Aa.call(this,a);c.stencilFunc(k,h,l);c.stencilOp(m,n,p);c.stencilMask(g);f||c.disable(c.STENCIL_TEST);q.tb.tr--}else this.Oi&&q.F.prototype.Aa.call(this,a)},Rm:function(a){if(this.uc&&this.uc.wa){if(this.tz()||this.uc instanceof q.w){a=a||q.$;var c=a.canvas,d=q.tb.pO();
d.width=c.width;d.height=c.height;d.getContext("2d").drawImage(c,0,0);a.save();this._super(a);a.globalCompositeOperation=this.Oi?"destination-out":"destination-in";this.transform(a);this.uc.Aa();a.restore();a.save();a.setTransform(1,0,0,1,0,0);a.globalCompositeOperation="destination-over";a.drawImage(d,0,0)}else{a=a||q.$;var d=this.B,e;a.save();this.transform(a);this.uc.Aa(a);a.clip();this.tz(!0);var f=d.length;if(0<f){this.ce();for(c=0;c<f;c++)if(e=d[c],0>e.kb)e.Aa(a);else break;for(this.Wa(a);c<
f;c++)d[c].Aa(a)}else this.Wa(a);this.tz(!1)}a.restore()}else this.Oi&&q.F.prototype.Aa.call(this,a)},H5:function(){return this.uc},ED:null,UP:function(a){this.uc=a},TP:function(a){this.uc=a;var c=q.oa.f().va,d=q.oa.f().Ca,e=q.$;!(a instanceof q.w)&&a instanceof q.pg&&(a.Wa=function(){for(var f=0;f<a.hb.length;f++){var g=a.hb[f].Tx,k=g[0];e.beginPath();e.moveTo(k.x*c,-k.y*d);for(var k=1,h=g.length;k<h;k++)e.lineTo(g[k].x*c,-g[k].y*d)}})},U2:function(){return this.dm},m$:function(a){this.dm=a},d7:function(){return this.Oi},
U$:function(a){this.Oi=a},tz:function(a){if(!0===a||!1===a)q.tb.prototype.RF=a;return q.tb.prototype.RF}});q.Ja.Xc?(q.tb.prototype.v=q.tb.prototype.gA,q.tb.prototype.Aa=q.tb.prototype.Sm,q.tb.prototype.ED=q.tb.prototype.UP):(q.tb.prototype.v=q.tb.prototype.fA,q.tb.prototype.Aa=q.tb.prototype.Rm,q.tb.prototype.ED=q.tb.prototype.TP);q.tb.iA=null;q.tb.zB=null;q.tb.tr=null;q.tb.GG=null;q.tb.pO=function(){return q.tb.GG||(q.tb.GG=document.createElement("canvas"))};
q.tb.create=function(a){var c=new q.tb;c.v(a);return c};q.aZ=0;q.bZ=1;q.cZ=2;q.Wn=function(a){a-=1;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;return(a|a>>16)+1};
q.Hb=q.F.extend({po:null,qo:null,dv:0,Pq:0,Iv:0,Ga:null,Xr:null,kQ:null,Rf:q.wj,ub:null,Su:0,Bj:null,zz:0,Az:0,Aq:!1,yz:null,ctor:null,Nh:function(){q.F.prototype.ctor.call(this);this.Bj=q.vw(1,1,1,1);this.yz="rgba(255,255,255,1)";this.po=document.createElement("canvas");this.qo=this.po.getContext("2d");this.D(0,0)},Oh:function(){q.F.prototype.ctor.call(this);this.Bj=q.vw(0,0,0,0)},Zf:null,TN:function(){q.F.prototype.ae.call(this);this.po=this.qo=null},UN:function(){q.F.prototype.ae.call(this);this.Xr=
null;var a=q.$;a.deleteFramebuffer(this.dv);this.Pq&&a.deleteRenderbuffer(this.Pq);this.kQ=null},OS:function(){return this.ub},Zs:function(a){this.ub=a},AC:null,AO:function(a,c){var d=this.po,e=q.Zc();d.width=0|a*e;d.height=0|c*e;this.qo.translate(0,d.height);e=new q.fc;e.ff(d);e.Yd();this.ub=q.w.Sa(e);return!0},BO:function(a,c,d,e){d==q.pq&&q.log("cc.RenderTexture._initWithWidthAndHeightForWebGL() : only RGB and RGBA formats are valid for a render texture;");var f=q.$,g=q.Zc();a=0|a*g;c=0|c*g;this.Iv=
f.getParameter(f.FRAMEBUFFER_BINDING);var k;q.Me.f().Ur?(g=a,k=c):(g=q.Wn(a),k=q.Wn(c));for(var h=new Uint8Array(g*k*4),l=0;l<g*k*4;l++)h[l]=0;this.Rf=d;this.Ga=new q.fc;if(!this.Ga)return!1;l=this.Ga;l.Pw(h,this.Rf,g,k,q.size(a,c));d=f.getParameter(f.RENDERBUFFER_BINDING);if(q.Me.f().tp("GL_QCOM")){this.Xr=new q.fc;if(!this.Xr)return!1;this.Xr.Pw(h,this.Rf,g,k,q.size(a,c))}this.dv=f.createFramebuffer();f.bindFramebuffer(f.FRAMEBUFFER,this.dv);f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,
f.TEXTURE_2D,l.fi,0);0!=e&&(this.Pq=f.createRenderbuffer(),f.bindRenderbuffer(f.RENDERBUFFER,this.Pq),f.renderbufferStorage(f.RENDERBUFFER,e,g,k),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,this.Pq));f.checkFramebufferStatus(f.FRAMEBUFFER)!==f.FRAMEBUFFER_COMPLETE&&q.log("Could not attach texture to the framebuffer");l.eK();a=this.ub=q.w.Sa(l);a.Dn(-1);a.Fl(f.ONE,f.ONE_MINUS_SRC_ALPHA);f.bindRenderbuffer(f.RENDERBUFFER,d);f.bindFramebuffer(f.FRAMEBUFFER,this.Iv);this.Aq=
!1;this.g(a);return!0},ak:null,JN:function(){q.$=this.qo;q.ve.HK(q.$);q.oa.f().QP()},KN:function(){q.en(q.Yt);q.Pp();q.en(q.Xt);q.Pp();var a=q.ca.f();a.sx(a.Xk);var c=this.Ga.Ba,d=q.ca.f().XS(),a=d.width/c.width,d=d.height/c.height,e=q.$;e.viewport(0,0,c.width,c.height);c=new q.Ch;q.VT(c,-1/a,1/a,-1/d,1/d,-1,1);q.Vw(c);this.Iv=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,this.dv);q.Me.f().tp("GL_QCOM")&&(e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,
this.Xr.fi,0),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.Ga.fi,0))},IB:function(a,c,d,e,f,g){var k=q.$;f=f||k.COLOR_BUFFER_BIT;g=g||k.COLOR_BUFFER_BIT|k.DEPTH_BUFFER_BIT;this.qz(a,c,d,e,f,g,k.COLOR_BUFFER_BIT|k.DEPTH_BUFFER_BIT|k.STENCIL_BUFFER_BIT)},qz:null,LN:function(a,c,d,e){this.ak();a=a||0;c=c||0;d=d||0;e=isNaN(e)?1:e;var f=this.qo,g=this.po;f.save();f.fillStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+
")";f.clearRect(0,0,g.width,-g.height);f.fillRect(0,0,g.width,-g.height);f.restore()},MN:function(a,c,d,e,f,g,k){this.ak();var h=q.$,l=[0,0,0,0],m=0,n=0;k&h.COLOR_BUFFER_BIT&&(l=h.getParameter(h.COLOR_CLEAR_VALUE),h.clearColor(a,c,d,e));k&h.DEPTH_BUFFER_BIT&&(m=h.getParameter(h.DEPTH_CLEAR_VALUE),h.clearDepth(f));k&h.STENCIL_BUFFER_BIT&&(n=h.getParameter(h.STENCIL_CLEAR_VALUE),h.clearStencil(g));h.clear(k);k&h.COLOR_BUFFER_BIT&&h.clearColor(l[0],l[1],l[2],l[3]);k&h.DEPTH_BUFFER_BIT&&h.clearDepth(m);
k&h.STENCIL_BUFFER_BIT&&h.clearStencil(n)},end:null,iO:function(){q.$=q.$T;q.ve.HK(q.$);q.oa.f().sP()},jO:function(){var a=q.$,c=q.ca.f();a.bindFramebuffer(a.FRAMEBUFFER,this.Iv);c.VK();q.en(q.Yt);q.Op();q.en(q.Xt);q.Op()},clear:function(a,c,d,e){this.IB(a,c,d,e);this.end()},clearRect:null,YN:function(a,c,d,e){this.qo.clearRect(a,c,d,-e)},ZN:function(){},clearDepth:null,WN:function(){q.log("clearDepth isn't supported on Cocos2d-Html5")},XN:function(a){this.ak();var c=q.$,d=c.getParameter(c.DEPTH_CLEAR_VALUE);
c.clearDepth(a);c.clear(c.DEPTH_BUFFER_BIT);c.clearDepth(d);this.end()},clearStencil:null,$N:function(){q.log("clearDepth isn't supported on Cocos2d-Html5")},aO:function(a){var c=q.$,d=c.getParameter(c.STENCIL_CLEAR_VALUE);c.clearStencil(a);c.clear(c.STENCIL_BUFFER_BIT);c.clearStencil(d)},Aa:null,Rm:function(a){this.wa&&(a=a||q.$,a.save(),this.Wa(a),this.transform(a),this.ub.Aa(),a.restore(),this.Pf=0)},Sm:function(a){if(this.wa){q.Pp();var c=this.Mk;c&&c.Mp()&&(c.HB(),this.Nx());this.transform(a);
this.ub.Aa();this.Wa(a);c&&c.Mp()&&c.EB(this);q.Op();this.Pf=0}},Wa:null,Ej:function(a){a=a||q.$;if(this.Aq){this.ak();if(this.Su){var c=this.po;a.save();a.fillStyle=this.yz;a.clearRect(0,0,c.width,-c.height);a.fillRect(0,0,c.width,-c.height);a.restore()}this.ce();a=this.B;for(var c=a.length,d=this.ub,e=0;e<c;e++){var f=a[e];f!=d&&f.Aa()}this.end()}},xg:function(){var a=q.$;if(this.Aq){this.ak();var c=this.Su;if(c){var d=[0,0,0,0],e=0,f=0;c&a.COLOR_BUFFER_BIT&&(d=a.getParameter(a.COLOR_CLEAR_VALUE),
a.clearColor(this.Bj.q,this.Bj.p,this.Bj.k,this.Bj.K));c&a.DEPTH_BUFFER_BIT&&(e=a.getParameter(a.DEPTH_CLEAR_VALUE),a.clearDepth(this.zz));c&a.STENCIL_BUFFER_BIT&&(f=a.getParameter(a.STENCIL_CLEAR_VALUE),a.clearStencil(this.Az));a.clear(c);c&a.COLOR_BUFFER_BIT&&a.clearColor(d[0],d[1],d[2],d[3]);c&a.DEPTH_BUFFER_BIT&&a.clearDepth(e);c&a.STENCIL_BUFFER_BIT&&a.clearStencil(f)}this.ce();a=this.B;for(c=0;c<a.length;c++)d=a[c],d!=this.ub&&d.Aa();this.end()}},tJ:null,RO:function(){q.log("saveToFile isn't supported on Cocos2d-Html5");
return null},SO:function(){q.log("saveToFile isn't supported on Cocos2d-Html5");q.ot(this.Rf==q.wj,"only RGBA8888 can be saved as image");if(!this.Ga)return null;var a=this.Ga.Ba,c=a.width,a=a.height,d=new q.nM,e=q.$,f=new Uint8Array(c*a*4);if(!f)return d;var g=new Uint8Array(c*a*4);if(!g)return null;this.ak();e.pixelStorei(e.PACK_ALIGNMENT,1);e.readPixels(0,0,c,a,e.RGBA,e.UNSIGNED_BYTE,g);this.end();for(e=0;e<a;++e)this.PO(f,e*c*4,g,(a-e-1)*c*4,4*c);d.D6(f,c*a*4,q.VY,c,a,8);return d},PO:function(a,
c,d,e,f){for(var g=0;g<f;g++)a[c+g]=d[e+g]},Z9:function(){q.log("saveToFile isn't supported on Cocos2d-Html5")},S7:function(){q.log("listenToBackground isn't supported on Cocos2d-Html5")},T7:function(){q.log("listenToForeground isn't supported on Cocos2d-Html5")},s3:function(){return this.Su},t$:function(a){this.Su=a},q3:function(){return this.Bj},kK:null,AP:function(a){var c=this.Bj;c.q=a.q;c.p=a.p;c.k=a.k;c.K=a.K;this.yz="rgba("+(0|255*a.q)+","+(0|255*a.p)+","+(0|255*a.k)+","+a.K+")"},BP:function(a){var c=
this.Bj;c.q=a.q;c.p=a.p;c.k=a.k;c.K=a.K},r3:function(){return this.zz},s$:function(a){this.zz=a},t3:function(){return this.Az},u$:function(a){this.Az=a},O6:function(){return this.Aq},o$:function(a){this.Aq=a}});
q.Ja.Xc?(b=q.Hb.prototype,b.ctor=q.Hb.prototype.Oh,b.Zf=q.Hb.prototype.UN,b.AC=q.Hb.prototype.BO,b.ak=q.Hb.prototype.KN,b.qz=q.Hb.prototype.MN,b.end=q.Hb.prototype.jO,b.clearRect=q.Hb.prototype.ZN,b.clearDepth=q.Hb.prototype.XN,b.clearStencil=q.Hb.prototype.aO,b.Aa=q.Hb.prototype.Sm,b.Wa=q.Hb.prototype.xg,b.tJ=q.Hb.prototype.SO,b.kK=q.Hb.prototype.BP):(b=q.Hb.prototype,b.ctor=q.Hb.prototype.Nh,b.Zf=q.Hb.prototype.TN,b.AC=q.Hb.prototype.AO,b.ak=q.Hb.prototype.JN,b.qz=q.Hb.prototype.LN,b.end=q.Hb.prototype.iO,
b.clearRect=q.Hb.prototype.YN,b.clearDepth=q.Hb.prototype.WN,b.clearStencil=q.Hb.prototype.$N,b.Aa=q.Hb.prototype.Rm,b.Wa=q.Hb.prototype.Ej,b.tJ=q.Hb.prototype.RO,b.kK=q.Hb.prototype.AP);q.Hb.create=function(a,c,d,e){d=d||q.wj;e=e||0;var f=new q.Hb;return f&&f.AC(a,c,d,e)?f:null};q.Pn=-1;
q.Md=q.La.extend({xm:null,Y:null,xd:q.Pn,ctor:function(){this.Y=this.xm=null;this.xd=q.Pn},description:function(){return"\x3ccc.Action | Tag \x3d "+this.xd+"\x3e"},copy:function(){return q.clone(this)},clone:function(){var a=new q.Md;a.xm=null;a.Y=null;a.xd=this.xd;return a},ri:function(){return!0},ha:function(a){this.Y=this.xm=a},stop:function(){this.Y=null},step:function(){q.log("[Action step]. override me")},update:function(){q.log("[Action update]. override me")},SS:function(){return this.Y},Laa:function(a){this.Y=
a},Q4:function(){return this.xm},oaa:function(a){this.xm=a},RS:function(){return this.xd},PK:function(a){this.xd=a},aK:function(){},TJ:function(){}});q.Md.create=function(){return new q.Md};q.sj=q.Md.extend({Fa:0,ctor:function(){q.Md.prototype.ctor.call(this);this.Fa=0},Af:function(){return this.Fa},F$:function(a){this.Fa=a},reverse:function(){q.log("cocos2d: FiniteTimeAction#reverse: Implement me");return null},clone:function(){return new q.sj}});
q.nu=q.Md.extend({Fm:0,Kb:null,ctor:function(){q.Md.prototype.ctor.call(this);this.Fm=0;this.Kb=null},A5:function(){return this.Fm},Eaa:function(a){this.Fm=a},xa:function(a,c){if(!a)throw"cc.Speed.initWithAction(): action must be non nil";this.Kb=a;this.Fm=c;return!0},clone:function(){var a=new q.nu;a.xa(this.Kb.clone(),this.Fm);return a},ha:function(a){q.Md.prototype.ha.call(this,a);this.Kb.ha(a)},stop:function(){this.Kb.stop();q.Md.prototype.stop.call(this)},step:function(a){this.Kb.step(a*this.Fm)},
ri:function(){return this.Kb.ri()},reverse:function(){return q.nu.create(this.Kb.reverse(),this.Fm)},tK:function(a){this.Kb!=a&&(this.Kb=a)},eC:function(){return this.Kb}});q.nu.create=function(a,c){var d=new q.nu;return d&&d.xa(a,c)?d:null};
q.qy=q.Md.extend({Io:null,mo:!1,Nu:!1,jv:null,ir:null,gn:0,yn:0,Jn:0,Zm:0,BB:null,ctor:function(){q.Md.prototype.ctor.call(this);this.Io=null;this.Nu=this.mo=!1;this.ir=this.jv=null;this.Zm=this.Jn=this.yn=this.gn=0;this.BB=q.rd()},clone:function(){var a=new q.qy,c=this.BB,c=new q.rg(c.x,c.y,c.width,c.height);a.Lg(this.Io,c);return a},Q6:function(){return this.mo},q$:function(a){this.mo=a},Lg:function(a,c){if(!a)throw"cc.Follow.initWithAction(): followedNode must be non nil";c=c||q.rd();this.Io=a;
this.BB=c;this.mo=!q.Er(c);this.Nu=!1;var d=q.ca.f().Yb;this.ir=q.a(d.width,d.height);this.jv=q.jj(this.ir,0.5);this.mo&&(this.gn=-(c.x+c.width-this.ir.x),this.yn=-c.x,this.Jn=-c.y,this.Zm=-(c.y+c.height-this.ir.y),this.yn<this.gn&&(this.yn=this.gn=(this.gn+this.yn)/2),this.Jn<this.Zm&&(this.Jn=this.Zm=(this.Jn+this.Zm)/2),this.Jn==this.Zm&&this.gn==this.yn&&(this.Nu=!0));return!0},step:function(){var a=this.Io.u.I,c=this.Io.u.N,a=this.jv.x-a,c=this.jv.y-c;this.mo?this.Nu||this.Y.l(q.ls(a,this.gn,
this.yn),q.ls(c,this.Zm,this.Jn)):this.Y.l(a,c)},ri:function(){return!this.Io.Ue},stop:function(){this.Y=null;q.Md.prototype.stop.call(this)}});q.qy.create=function(a,c){c=c||new q.rd;var d=new q.qy;return null!=c&&d&&d.Lg(a,c)||d&&d.Lg(a)?d:null};q.X=q.sj.extend({oc:0,hr:!1,ctor:function(){q.sj.prototype.ctor.call(this);this.oc=0;this.hr=!1},K3:function(){return this.oc},V:function(a){this.Fa=0===a?q.Rt:a;this.oc=0;return this.hr=!0},ri:function(){return this.oc>=this.Fa},clone:function(){var a=new q.X;a.V(this.Fa);return a},step:function(a){this.hr?(this.hr=!1,this.oc=0):this.oc+=a;a=this.oc/(1.192092896E-7<this.Fa?this.Fa:1.192092896E-7);a=1>a?a:1;this.update(0<a?a:0)},ha:function(a){q.Md.prototype.ha.call(this,a);this.oc=0;this.hr=!0},
reverse:function(){q.log("cc.IntervalAction: reverse not implemented.");return null},n$:function(){q.log("cc.ActionInterval.setAmplitudeRate(): it should be overridden in subclass.")},V2:function(){q.log("cc.ActionInterval.getAmplitudeRate(): it should be overridden in subclass.")}});q.X.create=function(a){var c=new q.X;c.V(a);return c};
q.vj=q.X.extend({Ci:null,aB:null,Qo:0,ctor:function(){q.X.prototype.ctor.call(this);this.Ci=[];this.aB=null;this.Qo=0},Es:function(a,c){if(!a||!c)throw"cc.Sequence.initWithTwoActions(): arguments must all be non nil";this.V(a.Af()+c.Af());this.Ci[0]=a;this.Ci[1]=c;return!0},clone:function(){var a=new q.vj;a.Es(this.Ci[0].clone(),this.Ci[1].clone());return a},ha:function(a){q.X.prototype.ha.call(this,a);this.aB=this.Ci[0].Af()/this.Fa;this.Qo=-1},stop:function(){-1!==this.Qo&&this.Ci[this.Qo].stop();
q.Md.prototype.stop.call(this)},update:function(a){var c=0,d=this.aB,e=this.Ci,f=this.Qo;a<d?(a=0!==d?a/d:1,0===c&&1===f&&(e[1].update(0),e[1].stop())):(c=1,a=1===d?1:(a-d)/(1-d),-1===f&&(e[0].ha(this.Y),e[0].update(1),e[0].stop()),f||(e[0].update(1),e[0].stop()));f===c&&e[c].ri()||(f!==c&&e[c].ha(this.Y),e[c].update(a),this.Qo=c)},reverse:function(){return q.vj.bm(this.Ci[1].reverse(),this.Ci[0].reverse())},copy:function(){return this.clone()}});
q.vj.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&q.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)c[e]&&(d=q.vj.bm(d,c[e]));return d};q.vj.bm=function(a,c){var d=new q.vj;d.Es(a,c);return d};
q.eu=q.X.extend({Wf:0,Vj:0,Fv:0,sF:!1,Kb:null,ctor:function(){q.X.prototype.ctor.call(this);this.Fv=this.Vj=this.Wf=0;this.sF=!1;this.Kb=null},xa:function(a,c){return this.V(a.Af()*c)?(this.Wf=c,this.Kb=a,a instanceof q.wi&&(this.Wf-=1),this.Vj=0,!0):!1},clone:function(){var a=new q.eu;a.xa(this.Kb.clone(),this.Wf);return a},ha:function(a){this.Vj=0;this.Fv=this.Kb.Af()/this.Fa;q.X.prototype.ha.call(this,a);this.Kb.ha(a)},stop:function(){this.Kb.stop();q.Md.prototype.stop.call(this)},update:function(a){var c=
this.Kb,d=this.Fa,e=this.Wf,f=this.Fv;if(a>=f){for(;a>f&&this.Vj<e;)c.update(1),this.Vj++,c.stop(),c.ha(this.Y),this.Fv=f+=c.Af()/d;1<=a&&this.Vj<e&&this.Vj++;this.sF&&(this.Vj==e?(c.update(1),c.stop()):c.update(a-(f-c.Af()/d)))}else c.update(a*e%1)},ri:function(){return this.Vj==this.Wf},reverse:function(){return q.eu.create(this.Kb.reverse(),this.Wf)},tK:function(a){this.Kb!=a&&(this.Kb=a)},eC:function(){return this.Kb}});q.eu.create=function(a,c){var d=new q.eu;d.xa(a,c);return d};
q.fu=q.X.extend({Kb:null,ctor:function(){q.X.prototype.ctor.call(this);this.Kb=null},xa:function(a){if(!a)throw"cc.RepeatForever.initWithAction(): action must be non null";this.Kb=a;return!0},clone:function(){var a=new q.fu;a.xa(this.Kb.clone());return a},ha:function(a){q.X.prototype.ha.call(this,a);this.Kb.ha(a)},step:function(a){var c=this.Kb;c.step(a);c.ri()&&(c.ha(this.Y),c.step(c.oc-c.Af()))},ri:function(){return!1},reverse:function(){return q.fu.create(this.Kb.reverse())},tK:function(a){this.Kb!=
a&&(this.Kb=a)},eC:function(){return this.Kb}});q.fu.create=function(a){var c=new q.fu;return c&&c.xa(a)?c:null};
q.oq=q.X.extend({Rj:null,Zj:null,ctor:function(){q.X.prototype.ctor.call(this);this.Zj=this.Rj=null},Es:function(a,c){if(!a||!c)throw"cc.Spawn.initWithTwoActions(): arguments must all be non null";var d=!1,e=a.Af(),f=c.Af();this.V(Math.max(e,f))&&(this.Rj=a,this.Zj=c,e>f?this.Zj=q.vj.bm(c,q.Rn.create(e-f)):e<f&&(this.Rj=q.vj.bm(a,q.Rn.create(f-e))),d=!0);return d},clone:function(){var a=new q.oq;a.Es(this.Rj.clone(),this.Zj.clone());return a},ha:function(a){q.X.prototype.ha.call(this,a);this.Rj.ha(a);
this.Zj.ha(a)},stop:function(){this.Rj.stop();this.Zj.stop();q.Md.prototype.stop.call(this)},update:function(a){this.Rj&&this.Rj.update(a);this.Zj&&this.Zj.update(a)},reverse:function(){return q.oq.bm(this.Rj.reverse(),this.Zj.reverse())}});q.oq.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&q.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)null!=c[e]&&(d=this.bm(d,c[e]));return d};
q.oq.bm=function(a,c){var d=new q.oq;d.Es(a,c);return d};
q.Jy=q.X.extend({Tq:0,Gm:0,Lz:0,bv:0,$k:0,Mz:0,ctor:function(){q.X.prototype.ctor.call(this);this.Mz=this.$k=this.bv=this.Lz=this.Gm=this.Tq=0},V:function(a,c,d){return q.X.prototype.V.call(this,a)?(this.Tq=c||0,this.bv=d||this.Tq,!0):!1},clone:function(){var a=new q.Jy;a.V(this.Fa,this.Tq,this.bv);return a},ha:function(a){q.X.prototype.ha.call(this,a);var c=a.Dg%360,d=this.Tq-c;180<d&&(d-=360);-180>d&&(d+=360);this.Gm=c;this.Lz=d;this.$k=a.Xh%360;a=this.bv-this.$k;180<a&&(a-=360);-180>a&&(a+=360);
this.Mz=a},reverse:function(){q.log("cc.RotateTo.reverse(): it should be overridden in subclass.")},update:function(a){this.Y&&(this.Y.vx(this.Gm+this.Lz*a),this.Y.wx(this.$k+this.Mz*a))}});q.Jy.create=function(a,c,d){var e=new q.Jy;e.V(a,c,d);return e};
q.hu=q.X.extend({tg:0,Gm:0,zq:0,$k:0,ctor:function(){q.X.prototype.ctor.call(this);this.$k=this.zq=this.Gm=this.tg=0},V:function(a,c,d){return q.X.prototype.V.call(this,a)?(this.tg=c||0,this.zq=d||this.tg,!0):!1},clone:function(){var a=new q.hu;a.V(this.Fa,this.tg,this.zq);return a},ha:function(a){q.X.prototype.ha.call(this,a);this.Gm=a.Dg;this.$k=a.Xh},update:function(a){this.Y&&(this.Y.vx(this.Gm+this.tg*a),this.Y.wx(this.$k+this.zq*a))},reverse:function(){return q.hu.create(this.Fa,-this.tg,-this.zq)}});
q.hu.create=function(a,c,d){var e=new q.hu;e.V(a,c,d);return e};
q.vk=q.X.extend({Ui:null,bd:null,ad:null,ctor:function(){q.X.prototype.ctor.call(this);this.Ui=q.a(0,0);this.bd=q.a(0,0);this.ad=q.a(0,0)},V:function(a,c){return q.X.prototype.V.call(this,a)?(this.Ui.x=c.x,this.Ui.y=c.y,!0):!1},clone:function(){var a=new q.vk;a.V(this.Fa,this.Ui);return a},ha:function(a){q.X.prototype.ha.call(this,a);var c=a.u.I;a=a.u.N;this.ad.x=c;this.ad.y=a;this.bd.x=c;this.bd.y=a},update:function(a){if(this.Y){var c=this.Ui.x*a;a*=this.Ui.y;var d=this.bd;if(q.vt){var e=this.Y.u.N,
f=this.ad;d.x=d.x+this.Y.u.I-f.x;d.y=d.y+e-f.y;c+=d.x;a+=d.y;this.Y.l(c,a);f.x=c;f.y=a}else this.Y.l(d.x+c,d.y+a)}},reverse:function(){return q.vk.create(this.Fa,q.a(-this.Ui.x,-this.Ui.y))}});q.vk.create=function(a,c){var d=new q.vk;d.V(a,c);return d};
q.$t=q.vk.extend({Ho:null,ctor:function(){q.vk.prototype.ctor.call(this);this.Ho=q.a(0,0)},V:function(a,c){return q.vk.prototype.V.call(this,a,c)?(this.Ho.x=c.x,this.Ho.y=c.y,!0):!1},clone:function(){var a=new q.$t;a.V(this.Fa,this.Ho);return a},ha:function(a){q.vk.prototype.ha.call(this,a);this.Ui.x=this.Ho.x-a.u.I;this.Ui.y=this.Ho.y-a.u.N}});q.$t.create=function(a,c){var d=new q.$t;d.V(a,c);return d};
q.bo=q.X.extend({te:0,ue:0,Qr:0,Rr:0,br:0,cr:0,Pe:0,Qe:0,ctor:function(){q.X.prototype.ctor.call(this);this.Qe=this.Pe=this.cr=this.br=this.Rr=this.Qr=this.ue=this.te=0},V:function(a,c,d){var e=!1;q.X.prototype.V.call(this,a)&&(this.br=c,this.cr=d,e=!0);return e},clone:function(){var a=new q.bo;a.V(this.Fa,this.br,this.cr);return a},ha:function(a){q.X.prototype.ha.call(this,a);this.Qr=a.te%180;this.Pe=this.br-this.Qr;180<this.Pe&&(this.Pe-=360);-180>this.Pe&&(this.Pe+=360);this.Rr=a.ue%360;this.Qe=
this.cr-this.Rr;180<this.Qe&&(this.Qe-=360);-180>this.Qe&&(this.Qe+=360)},update:function(a){this.Y.xx(this.Qr+this.Pe*a);this.Y.yx(this.Rr+this.Qe*a)}});q.bo.create=function(a,c,d){var e=new q.bo;e&&e.V(a,c,d);return e};
q.lu=q.bo.extend({V:function(a,c,d){var e=!1;q.bo.prototype.V.call(this,a,c,d)&&(this.te=c,this.ue=d,e=!0);return e},clone:function(){var a=new q.lu;a.V(this.Fa,this.te,this.ue);return a},ha:function(a){q.bo.prototype.ha.call(this,a);this.Pe=this.te;this.Qe=this.ue;this.br=this.Qr+this.Pe;this.cr=this.Rr+this.Qe},reverse:function(){return q.lu.create(this.Fa,-this.te,-this.ue)}});q.lu.create=function(a,c,d){var e=new q.lu;e&&e.V(a,c,d);return e};
q.Un=q.X.extend({bd:null,wg:null,ya:0,Oo:0,ad:null,ctor:function(){q.X.prototype.ctor.call(this);this.bd=q.a(0,0);this.ad=q.a(0,0);this.wg=q.a(0,0);this.Oo=this.ya=0},V:function(a,c,d,e){return q.X.prototype.V.call(this,a)?(this.wg.x=c.x,this.wg.y=c.y,this.ya=d,this.Oo=e,!0):!1},clone:function(){var a=new q.Un;a.V(this.Fa,this.wg,this.ya,this.Oo);return a},ha:function(a){q.X.prototype.ha.call(this,a);var c=a.u.I;a=a.u.N;this.ad.x=c;this.ad.y=a;this.bd.x=c;this.bd.y=a},update:function(a){if(this.Y){var c=
a*this.Oo%1,c=4*this.ya*c*(1-c),c=c+this.wg.y*a;a*=this.wg.x;var d=this.bd;if(q.vt){var e=this.Y.u.N,f=this.ad;d.x=d.x+this.Y.u.I-f.x;d.y=d.y+e-f.y;a+=d.x;c+=d.y;this.Y.l(a,c);f.x=a;f.y=c}else this.Y.l(d.x+a,d.y+c)}},reverse:function(){return q.Un.create(this.Fa,q.a(-this.wg.x,-this.wg.y),this.ya,this.Oo)}});q.Un.create=function(a,c,d,e){var f=new q.Un;f.V(a,c,d,e);return f};
q.ty=q.Un.extend({ha:function(a){q.Un.prototype.ha.call(this,a);this.wg.x-=this.bd.x;this.wg.y-=this.bd.y},clone:function(){var a=new q.ty;a.V(this.Fa,this.wg,this.ya,this.Oo);return a}});q.ty.create=function(a,c,d,e){var f=new q.ty;f.V(a,c,d,e);return f};q.uH=function(a,c,d,e){return 0*Math.pow(1-e,3)+3*e*Math.pow(1-e,2)*a+3*Math.pow(e,2)*(1-e)*c+Math.pow(e,3)*d};
q.Vl=q.X.extend({jm:null,bd:null,ad:null,ctor:function(){q.X.prototype.ctor.call(this);this.jm=[];this.bd=q.a(0,0);this.ad=q.a(0,0)},V:function(a,c){return q.X.prototype.V.call(this,a)?(this.jm=c,!0):!1},clone:function(){for(var a=new q.Vl,c=[],d=0;d<this.jm.length;d++){var e=this.jm[d];c.push(q.a(e.x,e.y))}a.V(this.Fa,c);return a},ha:function(a){q.X.prototype.ha.call(this,a);var c=a.u.I;a=a.u.N;this.ad.x=c;this.ad.y=a;this.bd.x=c;this.bd.y=a},update:function(a){if(this.Y){var c=this.jm,d=q.uH(c[0].x,
c[1].x,c[2].x,a);a=q.uH(c[0].y,c[1].y,c[2].y,a);c=this.bd;if(q.vt){var e=this.Y.u.N,f=this.ad;c.x=c.x+this.Y.u.I-f.x;c.y=c.y+e-f.y;d+=c.x;a+=c.y;this.Y.l(d,a);f.x=d;f.y=a}else this.Y.l(c.x+d,c.y+a)}},reverse:function(){var a=this.jm,a=[q.Rg(a[1],q.VC(a[2])),q.Rg(a[0],q.VC(a[2])),q.VC(a[2])];return q.Vl.create(this.Fa,a)}});q.Vl.create=function(a,c){var d=new q.Vl;d.V(a,c);return d};
q.$x=q.Vl.extend({gw:null,ctor:function(){q.Vl.prototype.ctor.call(this);this.gw=[]},V:function(a,c){return q.X.prototype.V.call(this,a)?(this.gw=c,!0):!1},clone:function(){var a=new q.$x;a.V(this.Fa,this.gw);return a},ha:function(a){q.Vl.prototype.ha.call(this,a);a=this.bd;var c=this.gw,d=this.jm;d[0]=q.Jd(c[0],a);d[1]=q.Jd(c[1],a);d[2]=q.Jd(c[2],a)}});q.$x.create=function(a,c){var d=new q.$x;d.V(a,c);return d};
q.ao=q.X.extend({va:1,Ca:1,ep:1,fp:1,lm:0,nm:0,Pe:0,Qe:0,ctor:function(){q.X.prototype.ctor.call(this);this.fp=this.ep=this.Ca=this.va=1;this.Qe=this.Pe=this.nm=this.lm=0},V:function(a,c,d){return q.X.prototype.V.call(this,a)?(this.lm=c,this.nm=null!=d?d:c,!0):!1},clone:function(){var a=new q.ao;a.V(this.Fa,this.lm,this.nm);return a},ha:function(a){q.X.prototype.ha.call(this,a);this.ep=a.va;this.fp=a.Ca;this.Pe=this.lm-this.ep;this.Qe=this.nm-this.fp},update:function(a){this.Y&&this.Y.qk(this.ep+
this.Pe*a,this.fp+this.Qe*a)}});q.ao.create=function(a,c,d){var e=new q.ao;e.V(a,c,d);return e};q.ju=q.ao.extend({ha:function(a){q.ao.prototype.ha.call(this,a);this.Pe=this.ep*this.lm-this.ep;this.Qe=this.fp*this.nm-this.fp},reverse:function(){return q.ju.create(this.Fa,1/this.lm,1/this.nm)},clone:function(){var a=new q.ju;a.V(this.Fa,this.lm,this.nm);return a}});q.ju.create=function(a,c,d){var e=new q.ju;e.V(a,c,d);return e};
q.pt=q.X.extend({Wf:0,rA:!1,ctor:function(){q.X.prototype.ctor.call(this);this.Wf=0;this.rA=!1},V:function(a,c){return q.X.prototype.V.call(this,a)?(this.Wf=c,!0):!1},clone:function(){var a=new q.pt;a.V(this.Fa,this.Wf);return a},update:function(a){if(this.Y&&!this.ri()){var c=1/this.Wf;this.Y.G(a%c>c/2)}},ha:function(a){q.X.prototype.ha.call(this,a);this.rA=a.wa},stop:function(){this.Y.G(this.rA);q.X.prototype.stop.call(this)},reverse:function(){return q.pt.create(this.Fa,this.Wf)}});
q.pt.create=function(a,c){var d=new q.pt;d.V(a,c);return d};q.St=q.X.extend({update:function(a){this.Y.pb&&this.Y.ta(255*a)},reverse:function(){return q.Tt.create(this.Fa)},clone:function(){var a=new q.St;a.V(this.Fa);return a}});q.St.create=function(a){var c=new q.St;c.V(a);return c};q.Tt=q.X.extend({update:function(a){this.Y.pb&&this.Y.ta(255*(1-a))},reverse:function(){return q.St.create(this.Fa)},clone:function(){var a=new q.Tt;a.V(this.Fa);return a}});
q.Tt.create=function(a){var c=new q.Tt;c.V(a);return c};q.py=q.X.extend({hw:null,gv:null,ctor:function(){q.X.prototype.ctor.call(this);this.gv=this.hw=0},V:function(a,c){return q.X.prototype.V.call(this,a)?(this.hw=c,!0):!1},clone:function(){var a=new q.py;a.V(this.Fa,this.hw);return a},update:function(a){this.Y.pb&&this.Y.ta(this.gv+(this.hw-this.gv)*a)},ha:function(a){q.X.prototype.ha.call(this,a);this.Y.pb&&(this.gv=a.aj())}});q.py.create=function(a,c){var d=new q.py;d.V(a,c);return d};
q.Zy=q.X.extend({xf:null,oe:null,ctor:function(){q.X.prototype.ctor.call(this);this.xf=q.n(0,0,0);this.oe=q.n(0,0,0)},V:function(a,c,d,e){return q.X.prototype.V.call(this,a)?(this.xf=q.n(c,d,e),!0):!1},clone:function(){var a=new q.Zy,c=this.xf;a.V(this.Fa,c.q,c.p,c.k);return a},ha:function(a){q.X.prototype.ha.call(this,a);this.Y.pb&&(this.oe=this.Y.yd())},update:function(a){var c=this.oe,d=this.xf;this.Y.pb&&this.Y.r(q.n(c.q+(d.q-c.q)*a,c.p+(d.p-c.p)*a,c.k+(d.k-c.k)*a))}});
q.Zy.create=function(a,c,d,e){var f=new q.Zy;f.V(a,c,d,e);return f};
q.su=q.X.extend({Oq:0,Nq:0,Mq:0,Xz:0,Wz:0,Vz:0,ctor:function(){q.X.prototype.ctor.call(this);this.Vz=this.Wz=this.Xz=this.Mq=this.Nq=this.Oq=0},V:function(a,c,d,e){return q.X.prototype.V.call(this,a)?(this.Oq=c,this.Nq=d,this.Mq=e,!0):!1},clone:function(){var a=new q.su;a.V(this.Fa,this.Oq,this.Nq,this.Mq);return a},ha:function(a){q.X.prototype.ha.call(this,a);a.pb&&(a=a.yd(),this.Xz=a.q,this.Wz=a.p,this.Vz=a.k)},update:function(a){this.Y.pb&&this.Y.r(q.n(this.Xz+this.Oq*a,this.Wz+this.Nq*a,this.Vz+
this.Mq*a))},reverse:function(){return q.su.create(this.Fa,-this.Oq,-this.Nq,-this.Mq)}});q.su.create=function(a,c,d,e){var f=new q.su;f.V(a,c,d,e);return f};q.Rn=q.X.extend({update:function(){},reverse:function(){return q.Rn.create(this.Fa)},clone:function(){var a=new q.Rn;a.V(this.Fa);return a}});q.Rn.create=function(a){var c=new q.Rn;c.V(a);return c};
q.gu=q.X.extend({Sj:null,ctor:function(){q.X.prototype.ctor.call(this);this.Sj=null},xa:function(a){if(!a)throw"cc.ReverseTime.initWithAction(): action must be non null";if(a==this.Sj)throw"cc.ReverseTime.initWithAction(): the action was already passed in.";return q.X.prototype.V.call(this,a.Af())?(this.Sj=a,!0):!1},clone:function(){var a=new q.gu;a.xa(this.Sj.clone());return a},ha:function(a){q.X.prototype.ha.call(this,a);this.Sj.ha(a)},update:function(a){this.Sj&&this.Sj.update(1-a)},reverse:function(){return this.Sj.clone()},
stop:function(){this.Sj.stop();q.Md.prototype.stop.call(this)}});q.gu.create=function(a){var c=new q.gu;c.xa(a);return c};
q.mt=q.X.extend({yj:null,Uo:0,Jv:null,dr:0,bB:null,ctor:function(){q.X.prototype.ctor.call(this);this.yj=null;this.Uo=0;this.Jv=null;this.dr=0;this.bB=null},aI:function(){return this.yj},SV:function(a){this.yj=a},HI:function(a){if(!a)throw"cc.Animate.initWithAnimation(): animation must be non-NULL";var c=a.Af();if(this.V(c*a.Pj)){this.Uo=0;this.SV(a);this.Jv=null;this.dr=0;var d=[],e=0,f=c/a.Nm;a=a.ne;q.nt(a,q.pj);for(var g=0;g<a.length;g++){var k=e*f/c,e=e+a[g].le;d.push(k)}this.bB=d;return!0}return!1},
clone:function(){var a=new q.mt;a.HI(this.yj.clone());return a},ha:function(a){q.X.prototype.ha.call(this,a);this.yj.Am&&(this.Jv=a.NR());this.dr=this.Uo=0},update:function(a){1>a&&(a*=this.yj.Pj,(0|a)>this.dr&&(this.Uo=0,this.dr++),a%=1);for(var c=this.yj.ne,d=c.length,e=this.bB,f=this.Uo;f<d;f++)if(e[f]<=a)this.Y.Sp(c[f].Bh()),this.Uo=f+1;else break},reverse:function(){var a=this.yj,c=a.ne,d=[];q.nt(c,q.pj);if(0<c.length)for(var e=c.length-1;0<=e;e--){var f=c[e];if(!f)break;d.push(f.clone())}c=
q.oj.AH(d,a.le,a.Pj);c.tx(a.Am);return q.mt.create(c)},stop:function(){this.yj.Am&&this.Y&&this.Y.Sp(this.Jv);q.Md.prototype.stop.call(this)}});q.mt.create=function(a){var c=new q.mt;c.HI(a);return c};
q.Yy=q.X.extend({Lf:null,om:null,ctor:function(){q.X.prototype.ctor.call(this);this.om=this.Lf=null},Lg:function(a,c){return this.V(c.Af())?(this.om=a,this.Lf=c,!0):!1},clone:function(){var a=new q.Yy;a.Lg(this.om,this.Lf.clone());return a},ha:function(a){q.X.prototype.ha.call(this,a);this.Lf.ha(this.om)},stop:function(){this.Lf.stop()},update:function(a){this.Lf.update(a)},U3:function(){return this.om},J$:function(a){this.om!=a&&(this.om=a)}});q.Yy.create=function(a,c){var d=new q.Yy;d.Lg(a,c);return d};q.wi=q.sj.extend({ri:function(){return!0},step:function(){this.update(1)},update:function(){},reverse:function(){return this.clone()},clone:function(){return new q.wi}});q.ku=q.wi.extend({update:function(){this.Y.G(!0)},reverse:function(){return q.Wt.create()},clone:function(){return new q.ku}});q.ku.create=function(){return new q.ku};q.Wt=q.wi.extend({update:function(){this.Y.G(!1)},reverse:function(){return q.ku.create()},clone:function(){return new q.Wt}});q.Wt.create=function(){return new q.Wt};
q.tu=q.wi.extend({update:function(){this.Y.G(!this.Y.wa)},reverse:function(){return new q.tu},clone:function(){return new q.tu}});q.tu.create=function(){return new q.tu};q.du=q.wi.extend({qr:!0,ctor:function(){q.sj.prototype.ctor.call(this);this.qr=!0},update:function(){this.Y.R(this.qr)},v:function(a){this.qr=a;return!0},reverse:function(){return new q.du(this.qr)},clone:function(){return new q.du(this.qr)}});q.du.create=function(a){null==a&&(a=!0);var c=new q.du;c&&c.v(a);return c};
q.Ut=q.wi.extend({gc:!1,ctor:function(){q.sj.prototype.ctor.call(this);this.gc=!1},JI:function(a){this.gc=a;return!0},update:function(){this.Y.jW(this.gc)},reverse:function(){return q.Ut.create(!this.gc)},clone:function(){var a=new q.Ut;a.JI(this.gc);return a}});q.Ut.create=function(a){var c=new q.Ut;return c.JI(a)?c:null};
q.Vt=q.wi.extend({hc:!1,ctor:function(){q.sj.prototype.ctor.call(this);this.hc=!1},KI:function(a){this.hc=a;return!0},update:function(){this.Y.kW(this.hc)},reverse:function(){return q.Vt.create(!this.hc)},clone:function(){var a=new q.Vt;a.KI(this.hc);return a}});q.Vt.create=function(a){var c=new q.Vt;return c.KI(a)?c:null};
q.Ey=q.wi.extend({u:null,ctor:function(){q.sj.prototype.ctor.call(this);this.u=q.a(0,0)},MI:function(a){this.u.x=a.x;this.u.y=a.y;return!0},update:function(){this.Y.l(this.u)},clone:function(){var a=new q.Ey;a.MI(this.u);return a}});q.Ey.create=function(a){var c=new q.Ey;c.MI(a);return c};
q.gq=q.wi.extend({qh:null,im:null,Lk:null,Kq:null,ctor:function(){q.sj.prototype.ctor.call(this);this.Kq=this.Lk=this.im=this.qh=null},Lg:function(a,c,d){this.Kq=d;this.im=a;this.qh=c;return!0},uC:function(a){this.Lk=a;return!0},execute:function(){null!=this.im?this.im.call(this.qh,this.Y,this.Kq):this.Lk&&this.Lk.call(null,this.Y)},update:function(){this.execute()},J5:function(){return this.qh},Maa:function(a){a!=this.qh&&(this.qh&&(this.qh=null),this.qh=a)},copy:function(){var a=new q.gq;this.qh?
a.Lg(this.im,this.qh,this.Kq):this.Lk&&a.uC(this.Lk);return a},clone:function(){var a=new q.gq;this.qh?a.Lg(this.im,this.qh,this.Kq):this.Lk&&a.uC(this.Lk);return a}});q.gq.create=function(a,c,d){var e=new q.gq;if(1==arguments.length){if(e&&e.uC(a))return e}else if(e&&e.Lg(a,c,d))return e.im=a,e;return null};q.Ux=q.X.extend({vz:0,wz:0,xz:0,JF:0,KF:0,LF:0,TG:0,UG:0,VG:0,ctor:function(){q.X.prototype.ctor.call(this);this.VG=this.UG=this.TG=this.LF=this.KF=this.JF=this.xz=this.wz=this.vz=0},ha:function(a){q.X.prototype.ha.call(this,a);a=a.dC();var c=a.cI();this.vz=c.x;this.wz=c.y;this.xz=c.z;c=a.eI();this.JF=c.x;this.KF=c.y;this.LF=c.z;a=a.VS();this.TG=a.x;this.UG=a.y;this.VG=a.z},clone:function(){return new q.Ux},reverse:function(){return q.gu.create(this)}});
q.Cy=q.Ux.extend({Vi:0,$u:0,io:0,Jz:0,tg:0,Iz:0,HA:0,FA:0,GA:0,EA:0,ctor:function(){q.Ux.prototype.ctor.call(this);this.EA=this.GA=this.FA=this.HA=this.Iz=this.tg=this.Jz=this.io=this.$u=this.Vi=0},V:function(a,c,d,e,f,g,k){return q.X.prototype.V.call(this,a)?(this.Vi=c,this.$u=d,this.io=e,this.Jz=f,this.tg=g,this.Iz=k,this.FA=q.rj(f),this.EA=q.rj(k),!0):!1},tX:function(){var a=this.Y.dC(),c=a.eI(),d=a.cI(),a=c.x-d.x,e=c.y-d.y,c=c.z-d.z,d=Math.sqrt(Math.pow(a,2)+Math.pow(e,2)+Math.pow(c,2)),f=Math.sqrt(Math.pow(a,
2)+Math.pow(e,2));0===f&&(f=q.Rt);0===d&&(d=q.Rt);return{dU:d/q.hq.zs(),OX:Math.acos(c/d),azimuth:0>a?Math.PI-Math.asin(e/f):Math.asin(e/f)}},ha:function(a){q.X.prototype.ha.call(this,a);a=this.tX();isNaN(this.Vi)&&(this.Vi=a.dU);isNaN(this.io)&&(this.io=q.Gy(a.OX));isNaN(this.tg)&&(this.tg=q.Gy(a.azimuth));this.HA=q.rj(this.io);this.GA=q.rj(this.tg)},clone:function(){var a=new q.Cy;a.V(this.Fa,this.Vi,this.$u,this.io,this.Jz,this.tg,this.Iz);return a},update:function(a){var c=(this.Vi+this.$u*a)*
q.hq.zs(),d=this.HA+this.FA*a,e=this.GA+this.EA*a;a=Math.sin(d)*Math.cos(e)*c+this.vz;e=Math.sin(d)*Math.sin(e)*c+this.wz;c=Math.cos(d)*c+this.xz;this.Y.dC().pK(a,e,c)}});q.Cy.create=function(a,c,d,e,f,g,k){var h=new q.Cy;return h.V(a,c,d,e,f,g,k)?h:null};q.qd=q.X.extend({ka:null,ctor:function(){q.X.prototype.ctor.call(this);this.ka=null},xa:function(a){if(!a)throw"cc.ActionEase.initWithAction(): action must be non nil";return this.V(a.Af())?(this.ka=a,!0):!1},clone:function(){var a=new q.qd;a.xa(this.ka.clone());return a},ha:function(a){q.X.prototype.ha.call(this,a);this.ka.ha(this.Y)},stop:function(){this.ka.stop();q.X.prototype.stop.call(this)},update:function(a){this.ka.update(a)},reverse:function(){return q.qd.create(this.ka.reverse())},eC:function(){return this.ka}});
q.qd.create=function(a){var c=new q.qd;c&&c.xa(a);return c};q.Yl=q.qd.extend({Se:0,ctor:function(){q.qd.prototype.ctor.call(this);this.Se=0},vaa:function(a){this.Se=a},g5:function(){return this.Se},xa:function(a,c){return q.qd.prototype.xa.call(this,a)?(this.Se=c,!0):!1},clone:function(){var a=new q.Yl;a.xa(this.ka.clone(),this.Se);return a},reverse:function(){return q.Yl.create(this.ka.reverse(),1/this.Se)}});q.Yl.create=function(a,c){var d=new q.Yl;d&&d.xa(a,c);return d};
q.Kt=q.Yl.extend({update:function(a){this.ka.update(Math.pow(a,this.Se))},reverse:function(){return q.Kt.create(this.ka.reverse(),1/this.Se)},clone:function(){var a=new q.Kt;a.xa(this.ka.clone(),this.Se);return a}});q.Kt.create=function(a,c){var d=new q.Kt;d&&d.xa(a,c);return d};q.Mt=q.Yl.extend({update:function(a){this.ka.update(Math.pow(a,1/this.Se))},reverse:function(){return q.Mt.create(this.ka.reverse(),1/this.Se)},clone:function(){var a=new q.Mt;a.xa(this.ka.clone(),this.Se);return a}});
q.Mt.create=function(a,c){var d=new q.Mt;d&&d.xa(a,c);return d};q.Lt=q.Yl.extend({update:function(a){a*=2;1>a?this.ka.update(0.5*Math.pow(a,this.Se)):this.ka.update(1-0.5*Math.pow(2-a,this.Se))},clone:function(){var a=new q.Lt;a.xa(this.ka.clone(),this.Se);return a},reverse:function(){return q.Lt.create(this.ka.reverse(),this.Se)}});q.Lt.create=function(a,c){var d=new q.Lt;d&&d.xa(a,c);return d};
q.Ht=q.qd.extend({update:function(a){this.ka.update(0===a?0:Math.pow(2,10*(a-1)))},reverse:function(){return q.Jt.create(this.ka.reverse())},clone:function(){var a=new q.Ht;a.xa(this.ka.clone());return a}});q.Ht.create=function(a){var c=new q.Ht;c&&c.xa(a);return c};q.Jt=q.qd.extend({update:function(a){this.ka.update(1==a?1:-Math.pow(2,-10*a)+1)},reverse:function(){return q.Ht.create(this.ka.reverse())},clone:function(){var a=new q.Jt;a.xa(this.ka.clone());return a}});
q.Jt.create=function(a){var c=new q.Jt;c&&c.xa(a);return c};q.It=q.qd.extend({update:function(a){1!=a&&0!==a&&(a*=2,a=1>a?0.5*Math.pow(2,10*(a-1)):0.5*(-Math.pow(2,-10*(a-1))+2));this.ka.update(a)},reverse:function(){return q.It.create(this.ka.reverse())},clone:function(){var a=new q.It;a.xa(this.ka.clone());return a}});q.It.create=function(a){var c=new q.It;c&&c.xa(a);return c};
q.Nt=q.qd.extend({update:function(a){a=0===a||1==a?a:-1*Math.cos(a*Math.PI/2)+1;this.ka.update(a)},reverse:function(){return q.Pt.create(this.ka.reverse())},clone:function(){var a=new q.Nt;a.xa(this.ka.clone());return a}});q.Nt.create=function(a){var c=new q.Nt;c&&c.xa(a);return c};q.Pt=q.qd.extend({update:function(a){a=0===a||1==a?a:Math.sin(a*Math.PI/2);this.ka.update(a)},reverse:function(){return q.Nt.create(this.ka.reverse())},clone:function(){var a=new q.Pt;a.xa(this.ka.clone());return a}});
q.Pt.create=function(a){var c=new q.Pt;c&&c.xa(a);return c};q.Ot=q.qd.extend({update:function(a){a=0===a||1==a?a:-0.5*(Math.cos(Math.PI*a)-1);this.ka.update(a)},clone:function(){var a=new q.Ot;a.xa(this.ka.clone());return a},reverse:function(){return q.Ot.create(this.ka.reverse())}});q.Ot.create=function(a){var c=new q.Ot;c&&c.xa(a);return c};
q.Sn=q.qd.extend({pe:null,ctor:function(){q.qd.prototype.ctor.call(this);this.pe=0.3},S4:function(){return this.pe},paa:function(a){this.pe=a},xa:function(a,c){q.qd.prototype.xa.call(this,a);this.pe=null==c?0.3:c;return!0},reverse:function(){q.log("cc.EaseElastic.reverse(): it should be overridden in subclass.")},clone:function(){var a=new q.Sn;a.xa(this.ka.clone(),this.pe);return a}});q.Sn.create=function(a,c){var d=new q.Sn;return d&&d.xa(a,c)?d:null};
q.Et=q.Sn.extend({update:function(a){var c=0;0===a||1===a?c=a:(c=this.pe/4,a-=1,c=-Math.pow(2,10*a)*Math.sin((a-c)*Math.PI*2/this.pe));this.ka.update(c)},reverse:function(){return q.Gt.create(this.ka.reverse(),this.pe)},clone:function(){var a=new q.Et;a.xa(this.ka.clone(),this.pe);return a}});q.Et.create=function(a,c){var d=new q.Et;return d&&d.xa(a,c)?d:null};
q.Gt=q.Sn.extend({update:function(a){var c=0,c=0===a||1==a?a:Math.pow(2,-10*a)*Math.sin((a-this.pe/4)*Math.PI*2/this.pe)+1;this.ka.update(c)},reverse:function(){return q.Et.create(this.ka.reverse(),this.pe)},clone:function(){var a=new q.Gt;a.xa(this.ka.clone(),this.pe);return a}});q.Gt.create=function(a,c){var d=new q.Gt;d&&d.xa(a,c);return d};
q.Ft=q.Sn.extend({update:function(a){var c=0,c=this.pe;if(0===a||1==a)c=a;else{c||(c=this.pe=0.3*1.5);var d=c/4;a=2*a-1;c=0>a?-0.5*Math.pow(2,10*a)*Math.sin((a-d)*Math.PI*2/c):Math.pow(2,-10*a)*Math.sin((a-d)*Math.PI*2/c)*0.5+1}this.ka.update(c)},reverse:function(){return q.Ft.create(this.ka.reverse(),this.pe)},clone:function(){var a=new q.Ft;a.xa(this.ka.clone(),this.pe);return a}});q.Ft.create=function(a,c){var d=new q.Ft;d&&d.xa(a,c);return d};
q.Xl=q.qd.extend({uw:function(a){if(a<1/2.75)return 7.5625*a*a;if(a<2/2.75)return a-=1.5/2.75,7.5625*a*a+0.75;if(a<2.5/2.75)return a-=2.25/2.75,7.5625*a*a+0.9375;a-=2.625/2.75;return 7.5625*a*a+0.984375},clone:function(){var a=new q.Xl;a.xa(this.ka.clone());return a},reverse:function(){return q.Xl.create(this.ka.reverse())}});q.Xl.create=function(a){var c=new q.Xl;c&&c.xa(a);return c};
q.Bt=q.Xl.extend({update:function(a){this.ka.update(1-this.uw(1-a))},reverse:function(){return q.Dt.create(this.ka.reverse())},clone:function(){var a=new q.Bt;a.xa(this.ka.clone());return a}});q.Bt.create=function(a){var c=new q.Bt;c&&c.xa(a);return c};q.Dt=q.Xl.extend({update:function(a){this.ka.update(this.uw(a))},reverse:function(){return q.Bt.create(this.ka.reverse())},clone:function(){var a=new q.Dt;a.xa(this.ka.clone());return a}});q.Dt.create=function(a){var c=new q.Dt;c&&c.xa(a);return c};
q.Ct=q.Xl.extend({update:function(a){var c=0,c=0.5>a?0.5*(1-this.uw(1-2*a)):0.5*this.uw(2*a-1)+0.5;this.ka.update(c)},clone:function(){var a=new q.Ct;a.xa(this.ka.clone());return a},reverse:function(){return q.Ct.create(this.ka.reverse())}});q.Ct.create=function(a){var c=new q.Ct;c&&c.xa(a);return c};
q.yt=q.qd.extend({update:function(a){this.ka.update(0===a||1==a?a:a*a*(2.70158*a-1.70158))},reverse:function(){return q.At.create(this.ka.reverse())},clone:function(){var a=new q.yt;a.xa(this.ka.clone());return a}});q.yt.create=function(a){var c=new q.yt;c&&c.xa(a);return c};q.At=q.qd.extend({update:function(a){a-=1;this.ka.update(a*a*(2.70158*a+1.70158)+1)},reverse:function(){return q.yt.create(this.ka.reverse())},clone:function(){var a=new q.At;a.xa(this.ka.clone());return a}});
q.At.create=function(a){var c=new q.At;c&&c.xa(a);return c};q.zt=q.qd.extend({update:function(a){a*=2;1>a?this.ka.update(a*a*(3.5949095*a-2.5949095)/2):(a-=2,this.ka.update(a*a*(3.5949095*a+2.5949095)/2+1))},clone:function(){var a=new q.zt;a.xa(this.ka.clone());return a},reverse:function(){return q.zt.create(this.ka.reverse())}});q.zt.create=function(a){var c=new q.zt;c&&c.xa(a);return c};q.cy=function(a,c,d,e,f,g){var k=g*g,h=k*g,l=(1-f)/2;f=l*(-h+2*k-g);var m=l*(-h+k)+(2*h-3*k+1);g=l*(h-2*k+g)+(-2*h+3*k);k=l*(h-k);return q.a(a.x*f+c.x*m+d.x*g+e.x*k,a.y*f+c.y*m+d.y*g+e.y*k)};q.bK=function(a){for(var c=[],d=a.length-1;0<=d;d--)c.push(q.a(a[d].x,a[d].y));return c};q.zw=function(a){for(var c=[],d=0;d<a.length;d++)c.push(q.a(a[d].x,a[d].y));return c};q.Ah=function(a,c){var d=Math.min(a.length-1,Math.max(c,0));return a[d]};
q.Y9=function(a){for(var c=a.length,d=0|c/2,e=0;e<d;++e){var f=a[e];a[e]=a[c-e-1];a[c-e-1]=f}};
q.yi=q.X.extend({Th:null,Kz:0,Im:0,ad:null,gz:null,ctor:function(){q.X.prototype.ctor.call(this);this.Th=[];this.Im=this.Kz=0;this.gz=this.ad=null},V:function(a,c,d){if(!c||0==c.length)throw"Invalid configuration. It must at least have one control point";return q.X.prototype.V.call(this,a)?(this.JW(c),this.Im=d,!0):!1},clone:function(){var a=new q.yi;a.V(this.Fa,q.zw(this.Th),this.Im);return a},ha:function(a){q.X.prototype.ha.call(this,a);this.Kz=1/(this.Th.length-1);a=this.Y.u;this.ad=q.a(a.x,a.y);
this.gz=q.a(0,0)},update:function(a){var c,d=this.Th;if(1==a)c=d.length-1,a=1;else{var e=this.Kz;c=0|a/e;a=(a-e*c)/e}c=q.cy(q.Ah(d,c-1),q.Ah(d,c-0),q.Ah(d,c+1),q.Ah(d,c+2),this.Im,a);q.vt&&(d=this.Y.u.I-this.ad.x,a=this.Y.u.N-this.ad.y,0!=d||0!=a)&&(e=this.gz,d=e.x+d,a=e.y+a,e.x=d,e.y=a,c.x+=d,c.y+=a);this.yL(c)},reverse:function(){var a=q.bK(this.Th);return q.yi.create(this.Fa,a,this.Im)},yL:function(a){this.Y.l(a);this.ad=a},W4:function(){return this.Th},JW:function(a){this.Th=a}});
q.yi.create=function(a,c,d){var e=new q.yi;return e.V(a,c,d)?e:null};
q.iq=q.yi.extend({bd:null,ctor:function(){q.yi.prototype.ctor.call(this);this.bd=q.a(0,0)},ha:function(a){q.yi.prototype.ha.call(this,a);a=a.u;this.bd.x=a.x;this.bd.y=a.y},reverse:function(){for(var a=this.Th.slice(),c,d=a[0],e=1;e<a.length;++e)c=a[e],a[e]=q.Jd(c,d),d=c;a=q.bK(a);d=a[a.length-1];a.pop();d.x=-d.x;d.y=-d.y;a.unshift(d);for(e=1;e<a.length;++e)c=a[e],c.x=-c.x,c.y=-c.y,c.x+=d.x,c.y+=d.y,d=a[e]=c;return q.iq.create(this.Fa,a,this.Im)},yL:function(a){var c=this.bd,d=a.x+c.x;a=a.y+c.y;this.Y.l(d,
a);this.ad.x=d;this.ad.y=a},clone:function(){var a=new q.iq;a.V(this.Fa,q.zw(this.Th),this.Im);return a}});q.iq.create=function(a,c,d){var e=new q.iq;return e.V(a,c,d)?e:null};q.ey=q.yi.extend({V:function(a,c){return q.yi.prototype.V.call(this,a,c,0.5)},clone:function(){var a=new q.ey;a.V(this.Fa,q.zw(this.Th));return a}});q.ey.create=function(a,c){var d=new q.ey;return d.V(a,c)?d:null};
q.dy=q.iq.extend({V:function(a,c){return q.yi.prototype.V.call(this,a,c,0.5)},clone:function(){var a=new q.dy;a.V(this.Fa,q.zw(this.Th));return a}});q.dy.create=function(a,c){var d=new q.dy;return d.V(a,c)?d:null};q.$X=q.La.extend({cE:function(){}});
q.Qn=q.X.extend({key:"",from:0,Ol:0,PB:0,ctor:function(){q.X.prototype.ctor.call(this);this.key="";this.PB=this.Ol=this.from=0},V:function(a,c,d,e){return q.X.prototype.V.call(this,a)?(this.key=c,this.Ol=e,this.from=d,!0):!1},ha:function(a){if(!a||!a.cE)throw"cc.ActionTween.startWithTarget(): target must be non-null, and target must implement updateTweenAction function";q.X.prototype.ha.call(this,a);this.PB=this.Ol-this.from},update:function(a){this.Y.cE(this.Ol-this.PB*(1-a),this.key)},reverse:function(){return q.Qn.create(this.duration,
this.key,this.Ol,this.from)},clone:function(){var a=new q.Qn;a.V(this.Fa,this.key,this.from,this.Ol);return a}});q.Qn.create=function(a,c,d,e){var f=new q.Qn;return f.V(a,c,d,e)?f:null};q.wk=0;q.Dy=1;q.VE=4;q.RM=75;
q.Lc=q.Gb.extend({yf:null,Ti:0,ub:null,Rh:null,hm:null,Vd:!1,u4:function(){return q.a(this.Rh.x,this.Rh)},yK:function(a){this.Rh=q.FJ(a)},b3:function(){return q.a(this.hm.x,this.hm.y)},hK:function(a){this.hm=q.FJ(a)},Z5:function(){return this.yf},Jw:function(){return this.Ti},OS:function(){return this.ub},Xs:function(a){this.Ti!=a&&(this.Ti=q.ls(a,0,100),this.rB())},Gf:function(){},rl:function(){return!1},p7:function(){return this.Vd},rz:function(a){if(a<q.VE){var c=q.RM;return this.Vd?q.a(c>>7-(a<<
1)&1,c>>7-((a<<1)+1)&1):q.a(c>>(a<<1)+1&1,c>>(a<<1)&1)}return q.tj()},$c:null,iB:270,Qz:270,Vi:0,Dz:!1,oz:null,Hd:0,Pc:null,Xf:null,cH:null,js:!1,ctor:null,Nh:function(){q.Gb.prototype.ctor.call(this);this.yf=q.wk;this.Ti=0;this.Rh=q.a(0,0);this.hm=q.a(0,0);this.Vd=!1;this.ub=null;this.$c=q.tj();this.Qz=this.iB=270;this.Vi=0;this.Dz=!1;this.oz=q.rd()},Oh:function(){q.Gb.prototype.ctor.call(this);this.yf=q.wk;this.Ti=0;this.Rh=q.a(0,0);this.hm=q.a(0,0);this.Vd=!1;this.ub=null;this.cH=q.$.createBuffer();
this.Hd=0;this.Xf=this.Pc=null;this.js=!1},r:function(a){this.ub.r(a);this.Gd()},ta:function(a){this.ub.ta(a);this.Gd()},yd:function(){return this.ub.yd()},aj:function(){return this.ub.aj()},KK:null,OP:function(a){this.Vd!==a&&(this.Vd=a)},PP:function(a){this.Vd!==a&&(this.Vd=a,this.Xf=this.Pc=null,this.Hd=0)},Zs:null,RP:function(a){this.ub!=a&&(this.ub=a,this.Q(this.ub.c()))},SP:function(a){a&&this.ub!=a&&(this.ub=a,this.Q(a.c()),this.Pc&&(this.Xf=this.Pc=null,this.Hd=0))},QK:null,VP:function(a){a!==
this.yf&&(this.yf=a)},WP:function(a){a!==this.yf&&(this.Pc&&(this.Xf=this.Pc=null,this.Hd=0),this.yf=a)},JK:null,MP:function(a){this.Vd!==a&&(this.Vd=a)},NP:function(a){this.Vd!==a&&(this.Vd=a,this.Xf=this.Pc=null,this.Hd=0)},Ye:function(a){var c=this.ub;if(!c)return{Ta:0,ua:0};var d=c.Sb,e=q.a(d.Oa.C.Ta,d.Oa.C.ua),d=q.a(d.Qa.C.Ta,d.Qa.C.ua);c.hd&&(c=a.x,a.x=a.y,a.y=c);return{Ta:e.x*(1-a.x)+d.x*a.x,ua:e.y*(1-a.y)+d.y*a.y}},$e:function(a){if(!this.ub)return{x:0,y:0};var c=this.ub.Sb,d=q.a(c.Oa.A.x,
c.Oa.A.y),c=q.a(c.Qa.A.x,c.Qa.A.y);return{x:d.x*(1-a.x)+c.x*a.x,y:d.y*(1-a.y)+c.y*a.y}},xC:null,wO:function(a){this.Xs(0);this.D(0.5,0.5);this.yf=q.wk;this.Vd=!1;this.yK(q.a(0.5,0.5));this.hK(q.a(1,1));this.Zs(a);return!0},xO:function(a){this.Xs(0);this.Xf=this.Pc=null;this.Hd=0;this.D(0.5,0.5);this.yf=q.wk;this.Vd=!1;this.yK(q.a(0.5,0.5));this.hK(q.a(1,1));this.Zs(a);this.Vg(q.Mh.f().ui(q.Ky));return!0},Wa:null,Ej:function(a){a=a||q.$;var c=this.ub;c.rm&&(a.globalCompositeOperation="lighter");var d=
q.oa.f().va,e=q.oa.f().Ca;a.globalAlpha=c.cc/255;var f=c.za,g=c.Ba,k=c.lc,h=c.Do,l=0|k.x,m=-k.y-f.height,n=c.Lm;h.width=f.width*d;h.height=f.height*e;a.save();c.gc&&(l=-k.x-f.width,a.scale(-1,1));c.hc&&(m=k.y,a.scale(1,-1));l*=d;m*=e;this.yf==q.Dy?(f=this.oz,a.beginPath(),a.rect(f.x*d,f.y*e,f.width*d,f.height*e),a.clip(),a.closePath()):this.yf==q.wk&&(f=this.$c.x*d,k=this.$c.y*e,a.beginPath(),a.arc(f,k,this.Vi*e,Math.PI/180*this.iB,Math.PI/180*this.Qz,this.Dz),a.lineTo(f,k),a.clip(),a.closePath());
c.Ga&&n.Ql?(d=c.Ga.sc,this.Gq?a.drawImage(d,0,0,n.width,n.height,l,m,h.width,h.height):a.drawImage(d,n.x,n.y,n.width,n.height,l,m,h.width,h.height)):0!==g.width&&(h=this.yd(),a.fillStyle="rgba("+h.q+","+h.p+","+h.k+",1)",a.fillRect(l,m,g.width*d,g.height*e));a.restore();q.Jh()},xg:function(a){a=a||q.$;if(this.Pc&&this.ub){q.Ay(this);var c=this.ub.na;q.hk(c.src,c.Ob);q.Be(q.xu);this.ub.ia()?q.Jg(this.ub.ia()):q.Jg(null);a.bindBuffer(a.ARRAY_BUFFER,this.cH);this.js&&(a.bufferData(a.ARRAY_BUFFER,this.Xf,
a.DYNAMIC_DRAW),this.js=!1);c=q.bc.BYTES_PER_ELEMENT;a.vertexAttribPointer(q.Oe,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(q.uq,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(q.vq,2,a.FLOAT,!1,c,12);this.yf===q.wk?a.drawArrays(a.TRIANGLE_FAN,0,this.Hd):this.yf==q.Dy&&(this.Vd?(a.drawArrays(a.TRIANGLE_STRIP,0,this.Hd/2),a.drawArrays(a.TRIANGLE_STRIP,4,this.Hd/2),q.zh++):a.drawArrays(a.TRIANGLE_STRIP,0,this.Hd));q.zh++}},xQ:function(){if(this.ub){var a,c=this.Rh;a=this.Ti/100;var d=2*q.PI*(this.Vd?a:
1-a),e=q.a(c.x,1),f=q.wU(e,c,d),d=0;if(0==a)f=e,d=0;else if(1==a)f=e,d=4;else{var g=q.gM,k=q.VE;for(a=0;a<=k;++a){var h=(a+(k-1))%k,l=this.rz(a%k),h=this.rz(h);0==a?h=q.HJ(l,h,1-c.x):4==a&&(l=q.HJ(l,h,1-c.x));var m=q.a(0,0);q.TC(l,h,c,f,m)&&(0!=a&&4!=a||0<=m.x&&1>=m.x)&&0<=m.y&&m.y<g&&(g=m.y,d=a)}f=q.Rg(c,q.jj(q.Jd(f,c),g))}g=!0;this.Hd!=d+3&&(g=!1,this.Xf=this.Pc=null,this.Hd=0);if(!this.Pc){k=this.Hd=d+3;l=q.bc.BYTES_PER_ELEMENT;this.Xf=new ArrayBuffer(k*l);h=[];for(a=0;a<k;a++)h[a]=new q.bc(null,
null,null,this.Xf,a*l);this.Pc=h;if(!this.Pc){q.log("cc.ProgressTimer._updateRadial() : Not enough memory");return}}this.Gd();k=this.Pc;if(!g)for(k[0].C=this.Ye(c),k[0].A=this.$e(c),k[1].C=this.Ye(e),k[1].A=this.$e(e),a=0;a<d;a++)c=this.rz(a),k[a+2].C=this.Ye(c),k[a+2].A=this.$e(c);k[this.Hd-1].C=this.Ye(f);k[this.Hd-1].A=this.$e(f)}},mQ:function(){if(this.ub){var a,c=this.Ti/100,d=this.hm,d=q.jj(q.a(1-d.x+c*d.x,1-d.y+c*d.y),0.5),c=q.Jd(this.Rh,d),d=q.Rg(this.Rh,d);0>c.x&&(d.x+=-c.x,c.x=0);1<d.x&&
(c.x-=d.x-1,d.x=1);0>c.y&&(d.y+=-c.y,c.y=0);1<d.y&&(c.y-=d.y-1,d.y=1);if(this.Vd){if(!this.Pc){this.Hd=8;var e=q.bc.BYTES_PER_ELEMENT;this.Xf=new ArrayBuffer(8*e);var f=[];for(a=0;8>a;a++)f[a]=new q.bc(null,null,null,this.Xf,a*e);f[0].C=this.Ye(q.a(0,1));f[0].A=this.$e(q.a(0,1));f[1].C=this.Ye(q.a(0,0));f[1].A=this.$e(q.a(0,0));f[6].C=this.Ye(q.a(1,1));f[6].A=this.$e(q.a(1,1));f[7].C=this.Ye(q.a(1,0));f[7].A=this.$e(q.a(1,0));this.Pc=f}a=this.Pc;a[2].C=this.Ye(q.a(c.x,d.y));a[2].A=this.$e(q.a(c.x,
d.y));a[3].C=this.Ye(q.a(c.x,c.y));a[3].A=this.$e(q.a(c.x,c.y));a[4].C=this.Ye(q.a(d.x,d.y));a[4].A=this.$e(q.a(d.x,d.y));a[5].C=this.Ye(q.a(d.x,c.y));a[5].A=this.$e(q.a(d.x,c.y))}else{if(!this.Pc)for(this.Hd=4,e=q.bc.BYTES_PER_ELEMENT,this.Xf=new ArrayBuffer(4*e),this.Pc=[],a=0;4>a;a++)this.Pc[a]=new q.bc(null,null,null,this.Xf,a*e);a=this.Pc;a[0].C=this.Ye(q.a(c.x,d.y));a[0].A=this.$e(q.a(c.x,d.y));a[1].C=this.Ye(q.a(c.x,c.y));a[1].A=this.$e(q.a(c.x,c.y));a[2].C=this.Ye(q.a(d.x,d.y));a[2].A=this.$e(q.a(d.x,
d.y));a[3].C=this.Ye(q.a(d.x,c.y));a[3].A=this.$e(q.a(d.x,c.y))}this.Gd()}},Gd:function(){if(this.ub&&this.Pc){for(var a=this.ub.Sb.Xa.P,c=this.Pc,d=0,e=this.Hd;d<e;++d)c[d].P=a;this.js=!0}},rB:null,tQ:function(){var a=this.ub,c=a.c(),d=this.Rh;if(this.yf==q.wk){this.Vi=Math.round(Math.sqrt(c.width*c.width+c.height*c.height));var e,f=!1,g=this.$c;g.x=c.width*d.x;g.y=-c.height*d.y;this.Vd?(e=270,d=270-3.6*this.Ti):(d=-90,e=-90+3.6*this.Ti);a.gc&&(g.x-=2*c.width*this.Rh.x,d=-d-180,e=-e-180,f=!f);a.hc&&
(g.y+=2*c.height*this.Rh.y,f=!f,d=-d,e=-e);this.iB=d;this.Qz=e;this.Dz=f}else{e=this.hm;g=this.Ti/100;f=this.oz;e=q.size(c.width*(1-e.x),c.height*(1-e.y));var g=q.size((c.width-e.width)*g,(c.height-e.height)*g),g=q.size(e.width+g.width,e.height+g.height),k=q.a(c.width*d.x,c.height*d.y),h=k.x-g.width/2;0.5<d.x&&g.width/2>=c.width-k.x&&(h=c.width-g.width);e=k.y-g.height/2;0.5<d.y&&g.height/2>=c.height-k.y&&(e=c.height-g.height);f.x=0;c=1;a.gc&&(f.x-=g.width,c=-1);0<h&&(f.x+=h*c);f.y=0;c=1;a.hc&&(f.y+=
g.height,c=-1);0<e&&(f.y-=e*c);f.width=g.width;f.height=-g.height}},uQ:function(){var a=this.yf;a===q.wk?this.xQ():a===q.Dy&&this.mQ();this.js=!0}});
q.Ja.Xc?(b=q.Lc.prototype,b.ctor=q.Lc.prototype.Oh,b.KK=q.Lc.prototype.PP,b.Zs=q.Lc.prototype.SP,b.QK=q.Lc.prototype.WP,b.JK=q.Lc.prototype.NP,b.xC=q.Lc.prototype.xO,b.Wa=q.Lc.prototype.xg,b.rB=q.Lc.prototype.uQ):(b=q.Lc.prototype,b.ctor=q.Lc.prototype.Nh,b.KK=q.Lc.prototype.OP,b.Zs=q.Lc.prototype.RP,b.QK=q.Lc.prototype.VP,b.JK=q.Lc.prototype.MP,b.xC=q.Lc.prototype.wO,b.Wa=q.Lc.prototype.Ej,b.rB=q.Lc.prototype.tQ);q.Lc.create=function(a){var c=new q.Lc;return c.xC(a)?c:null};q.Fy=q.X.extend({xf:0,oe:0,ctor:function(){q.X.prototype.ctor.call(this);this.oe=this.xf=0},V:function(a,c){return q.X.prototype.V.call(this,a)?(this.xf=c,!0):!1},clone:function(){var a=new q.Fy;a.V(this.Fa,this.xf);return a},reverse:function(){q.log("cc.ProgressTo.reverse(): reverse hasn't been supported.");return null},ha:function(a){q.X.prototype.ha.call(this,a);this.oe=a.Jw();100==this.oe&&(this.oe=0)},update:function(a){this.Y instanceof q.Lc&&this.Y.Xs(this.oe+(this.xf-this.oe)*a)}});
q.Fy.create=function(a,c){var d=new q.Fy;d.V(a,c);return d};q.bu=q.X.extend({xf:0,oe:0,ctor:function(){q.X.prototype.ctor.call(this);this.oe=this.xf=0},V:function(a,c,d){return q.X.prototype.V.call(this,a)?(this.xf=d,this.oe=c,!0):!1},clone:function(){var a=new q.bu;a.V(this.Fa,this.oe,this.xf);return a},reverse:function(){return q.bu.create(this.Fa,this.xf,this.oe)},ha:function(a){q.X.prototype.ha.call(this,a)},update:function(a){this.Y instanceof q.Lc&&this.Y.Xs(this.oe+(this.xf-this.oe)*a)}});
q.bu.create=function(a,c,d){var e=new q.bu;e.V(a,c,d);return e};q.ay=9;q.NL=1;q.QL=2;q.RL=4;q.OL=8;q.PL=16;q.rt=32;q.SL=64;q.ML=128;q.xi=256;q.og=1;q.tt=2;q.st=4;q.rY=8;q.qY=8;
q.ac=q.Kh.extend({aG:!1,h0:!1,rl:function(){return this.aG},Gf:function(a){this.aG=a;for(var c=this.B,d=0,e=c.length;d<e;d++){var f=c[d];f&&f.pb&&f.Gf(a)}},Xi:q.og,G5:function(){return this.Xi},ar:!1,$o:!1,Kj:!1,av:null,Ff:function(a){this.Xi=(this.ar=a)?q.og:q.st;this.nd()},isEnabled:function(){return this.ar},Xp:function(a){this.$o=a;this.nd()},s7:function(){return this.$o},Hl:function(a){this.Kj=a;this.nd()},b7:function(){return this.Kj},kT:function(){for(var a=this.getParent();null!=a;a=a.getParent())if(!a.wa)return!1;
return!0},ctor:function(){q.Kh.prototype.ctor.call(this);this.av={};this.rc=q.zb()},v:function(){return q.Kh.prototype.v.call(this)?(this.Xi=q.og,this.ar=!0,this.Kj=this.$o=!1,this.Zp(1),!0):!1},gx:function(){q.cD(this.cl,!0,this)},kf:function(a){for(var c=0,d=q.ay;c<d;c++)if(a&1<<c)for(var e=this.Pz(1<<c),f=0,g=e.length;f<g;f++)e[f].IT(this)},pH:function(a,c,d){for(var e=0,f=q.ay;e<f;e++)d&1<<e&&this.Iu(a,c,1<<e)},R9:function(a,c,d){for(var e=0,f=q.ay;e<f;e++)d&1<<e&&this.nP(a,c,1<<e)},bj:function(a){return this.Ma(a.S)},
si:function(a){a=a.S;a=this.getParent().Ma(a);return q.lb(this.ib(),a)},j0:function(){return null},Pz:function(a){a=a.toString();this.av.hasOwnProperty(a)||(this.av[a]=[]);return this.av[a]},Iu:function(a,c,d){a=new q.oM(a,c,d);this.Pz(d).push(a)},nP:function(a,c,d){d=this.Pz(d);if(a||c)for(var e=0;e<d.length;){var f=d[e],g=!0;a&&(g=a==f.Y);c&&(g=g&&c==f.Lf);g?q.de(d,f):e++}else d.length=0},nd:function(){}});q.ac.create=function(){var a=new q.ac;return a&&a.v()?a:null};q.sE=3435855873;
q.Ih=q.ac.extend({Sq:!1,ks:!1,zg:null,sr:null,Jq:null,Yu:null,Mm:null,ie:null,Si:0,No:!1,ew:null,Zr:null,fw:null,gm:null,nG:!1,zv:0,yv:0,ctor:function(){q.ac.prototype.ctor.call(this);this.zg=new q.yk(0,0);this.sr=new q.ah(0,0);this.Jq="";this.Yu=q.zb();this.ew={};this.Zr={};this.fw={};this.gm={}},v:function(){return this.Qw(q.U.create("","Arial",12),q.Od.create())},nd:function(){if(this.nG){this.Mm&&this.Mm.G(!1);this.ie&&this.ie.G(!1);this.pW(this.sr);var a=this.Xi;this.Jq=this.lC(a);this.Yu=this.US(a);
var c=this.Mm=this.ws(a);c&&c.ra&&c.ra(this.Jq);c&&c.pb&&c.r(this.Yu);var d=this.c();c&&c.l(d.width/2,d.height/2);(a=this.ie=this.hS(a))&&a.l(d.width/2,d.height/2);d=c?c.ib().Va:q.size(0,0);if(this.Sq)a&&a.Q(d.width+2*this.yv,d.height+2*this.zv);else if(a){var e=a.zg,e=q.size(e.width,e.height);0>=e.width&&(e.width=d.width);0>=e.height&&(e.height=d.height);a.Q(e)}d=c?c.ib():q.rect(0,0,0,0);e=a?a.ib():q.rect(0,0,0,0);d=q.fx(d,e);this.Q(d.width,d.height);d=this.c();c&&(c.l(d.width/2,d.height/2),c.G(!0));
a&&(a.l(d.width/2,d.height/2),a.G(!0))}},Qw:function(a,c){if(!a||!a.pb)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): label should be non-null";if(!c)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): backgroundSprite should be non-null";return q.ac.prototype.v.call(this,!0)?(this.nG=!0,this.ew={},this.Zr={},this.fw={},this.gm={},this.dc(!0),this.No=!1,this.ks=!0,this.Jq=null,this.QV(!0),this.vi(q.size(0,0)),this.ks=!0,this.cj(!1),this.D(0.5,0.5),this.Mm=a,this.ie=c,this.ta(255),
this.Gf(!0),this.ZW(a.jC(),q.og),this.YW(a.yd(),q.og),this.GD(a,q.og),this.El(c,q.og),this.Xi=q.og,this.yv=24,this.zv=12,this.sr=new q.ah(0.5,0.5),this.vi(q.$l()),this.nd(),!0):!1},AT:function(a,c,d){a=q.U.create(a,c,d);return this.Qw(a,q.Od.create())},Nw:function(a){var c=q.U.create("","Arial",30);return this.Qw(c,a)},h2:function(){return this.Sq},QV:function(a){this.Sq=a;this.nd()},p6:function(){return this.ks},ND:function(a){return this.ks=a},CS:function(){return this.zg},vi:function(a){if(0===
a.width&&0===a.height)this.Sq=!0;else{this.Sq=!1;var c=this.gm,d;for(d in c)c[d].vi(a)}this.zg=a;this.nd()},k4:function(){return this.sr},pW:function(a){this.sr=a;this.Mm&&this.Mm.D(a)},a0:function(){return this.Jq},b0:function(){return this.Yu},aj:function(){return this.Si},ta:function(a){q.ac.prototype.ta.call(this,a);var c=this.gm,d;for(d in c)c[d].ta(a)},r:function(a){q.ac.prototype.r.call(this,a);var c=this.gm,d;for(d in c)c[d].r(a)},yd:function(){return this.re},o7:function(){return this.No},
f0:function(){return this.zv},d0:function(){return this.yv},Z$:function(a,c){this.zv=c;this.yv=a;this.nd()},Ff:function(a){q.ac.prototype.Ff.call(this,a);this.nd()},Xp:function(a){q.ac.prototype.Xp.call(this,a);this.nd()},Hl:function(a){this.Xi=a?q.tt:q.og;q.ac.prototype.Hl.call(this,a);(a=this.cC(q.sE))&&this.uX(a);this.nd();this.ks&&(a=q.ao.create(0.05,this.Kj&&this.isEnabled()&&!this.$o?1.1:1),a.PK(q.sE),this.jx(a))},Eb:function(a){if(!(this.si(a)&&this.isEnabled()&&this.wa&&this.kT()))return!1;
this.No=!0;this.Hl(!0);this.kf(q.NL);return!0},Id:function(a){this.ar&&this.No&&!this.$o?(a=this.si(a))&&!this.Kj?(this.Hl(!0),this.kf(q.OL)):a&&this.Kj?this.kf(q.QL):!a&&this.Kj?(this.Hl(!1),this.kf(q.PL)):a||this.Kj||this.kf(q.RL):this.Kj&&this.Hl(!1)},Qg:function(a){this.No=!1;this.Hl(!1);this.si(a)?this.kf(q.rt):this.kf(q.SL)},lk:function(){this.No=!1;this.Hl(!1);this.kf(q.ML)},lC:function(a){var c=this.ew;return c?c[a]?c[a]:c[q.og]:""},ZW:function(a,c){this.ew[c]=a||"";this.Xi==c&&this.nd()},
US:function(a){return(a=this.Zr[a])?a:(a=this.Zr[q.og])?a:q.zb()},YW:function(a,c){this.Zr[c]=a;this.Xi==c&&this.nd()},ws:function(a){var c=this.fw;return c.hasOwnProperty(a)&&c[a]?c[a]:c[q.og]},GD:function(a,c){var d=this.fw;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.G(!1);a.D(0.5,0.5);this.g(a,1);this.Xi==c&&this.nd()},Saa:function(a,c){var d=this.lC(c);d||(d="");this.GD(q.U.create(d,a,12),c)},Q5:function(a){a=this.ws(a);return null!=a&&a instanceof q.U?a.qf:""},Taa:function(a,
c){var d=this.ws(c);null!=d&&d instanceof q.U&&d.ox(a)},R5:function(a){a=this.ws(a);return null!=a&&a instanceof q.U?a.Rd:0},Raa:function(a,c){var d=this.lC(c);d||(d="");this.GD(q.wy.create(d,a),c)},P5:function(a){a=this.ws(a);return null!=a&&a instanceof q.wy?a.R3():""},hS:function(a){var c=this.gm;return c.hasOwnProperty(a)&&c[a]?c[a]:c[q.og]},El:function(a,c){var d=this.gm;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.G(!1);a.D(0.5,0.5);this.g(a);d=this.zg;0===d.width&&
0===d.height||a.vi(d);this.Xi===c&&this.nd()},p$:function(a,c){var d=q.Od.BH(a);this.El(d,c)}});q.Ih.create=function(a,c){var d;if(0==arguments.length)return(d=new q.Ih)&&d.v()?d:null;1==arguments.length?(d=new q.Ih,d.Nw(arguments[0])):2==arguments.length?(d=new q.Ih,d.Qw(a,c)):3==arguments.length&&(d=new q.Ih,d.AT(arguments[0],arguments[1],arguments[2]));return d};q.RGBA=function(a,c,d,e){this.q=a;this.p=c;this.k=d;this.K=e};q.ry=function(a,c,d){this.h=a;this.s=c;this.ua=d};q.ge={};q.ge.Xm=function(a,c,d,e){a=q.w.CH(a);if(!a)return null;a.l(d);a.D(e);c.g(a);return a};q.ge.kM=function(a){var c=new q.ry,d,e;d=a.q<a.p?a.q:a.p;d=d<a.k?d:a.k;e=a.q>a.p?a.q:a.p;e=e>a.k?e:a.k;c.ua=e;d=e-d;if(0<e)c.s=d/e;else return c.s=0,c.h=-1,c;c.h=a.q>=e?(a.p-a.k)/d:a.p>=e?2+(a.k-a.q)/d:4+(a.q-a.p)/d;c.h*=60;0>c.h&&(c.h+=360);return c};
q.ge.Iy=function(a){var c,d,e,f,g=new q.RGBA;g.K=1;if(0>=a.s){if(!a.h)return g.q=a.ua,g.p=a.ua,g.k=a.ua,g;g.q=0;g.p=0;g.k=0;return g}c=a.h;360<=c&&(c=0);c/=60;f=0|c;e=c-f;c=a.ua*(1-a.s);d=a.ua*(1-a.s*e);e=a.ua*(1-a.s*(1-e));switch(f){case 0:g.q=a.ua;g.p=e;g.k=c;break;case 1:g.q=d;g.p=a.ua;g.k=c;break;case 2:g.q=c;g.p=a.ua;g.k=e;break;case 3:g.q=c;g.p=d;g.k=a.ua;break;case 4:g.q=e;g.p=c;g.k=a.ua;break;default:g.q=a.ua,g.p=c,g.k=d}return g};q.ge.nE=function(a,c){return q.fx(a,c)};q.oM=q.La.extend({Lf:null,Y:null,Xu:null,ctor:function(a,c,d){this.Y=a;this.Lf=c;this.Xu=d},T2:function(){return this.Lf},SS:function(){return this.Y},x3:function(){return this.Xu},IT:function(a){if(this.Y&&this.Lf)if("string"==typeof this.Lf)this.Y[this.Lf](a,this.Xu);else this.Lf.call(this.Y,a,this.Xu)}});q.PE=0;q.SE=1;q.QE=2;q.RE=3;q.NE=4;q.UE=5;q.TE=6;q.QM=7;q.OE=8;
q.Od=q.Gb.extend({pb:!0,cp:null,DF:null,Vk:!1,vf:null,bi:null,ai:null,sh:null,Pi:null,Aj:null,Wh:null,Ei:null,Di:null,Fi:null,Cj:null,tc:!1,ud:null,zg:null,Si:0,rc:null,so:null,lv:0,nv:0,mv:0,kv:0,HG:!1,dB:!1,qb:!1,Td:null,pL:function(){return this.qb},Yf:function(a,c){this.Td.push({eventCallback:a,ki:c})},je:function(){this.qb=!0;for(var a=this.Td,c=0,d=a.length;c<d;c++){var e=a[c];e.eventCallback.call(e.ki,this)}a.length=0},kw:function(){var a;a=this.lv;var c=this.nv,d=this.mv,e=this.cp,f=this.kv;
a=0===a&&0===c&&0===d&&0===f?q.rd():this.dB?q.rect(f,a,e.width-d-a,e.height-c-f):q.rect(a,c,e.width-a-d,e.height-c-f);this.WV(a)},sQ:function(){if(this.bi&&this.sh&&this.Fi&&this.Ei&&this.Aj){var a=this.Ba,c=this.bi,d=this.sh,e=this.Fi,f=this.Ei,g=this.Aj,k=this.Aj.c(),h=c.c(),l=f.c(),m=a.Ha-h.width-d.c().width,a=a.ya-h.height-e.c().height,m=m/k.width,a=a/k.height,h=k.width*m,n=k.height*a,p=l.width,l=l.height;if(!q.Ja.Xc){var t=Math.round(h);h!=t&&(h=t,m=h/k.width);t=Math.round(n);n!=t&&(n=t,a=n/
k.height)}g.Wp(m);g.Dn(a);var k=this.Pi,t=this.Wh,u=this.ai,w=this.Di,D=q.a(0,0);f.D(D);e.D(D);c.D(D);d.D(D);k.D(D);t.D(D);u.D(D);w.D(D);g.D(D);f.l(0,0);e.l(p+h,0);c.l(0,l+n);d.l(p+h,l+n);k.l(0,l);k.Dn(a);t.l(p+h,l);t.Dn(a);w.l(p,0);w.Wp(m);u.l(p,l+n);u.Wp(m);g.l(p,l)}},ctor:function(){q.Gb.prototype.ctor.call(this);this.cp=q.rd();this.DF=q.rd();this.Cj=q.zb();this.ud=new q.yk(0,0);this.zg=new q.yk(0,0);this.rc=q.zb();this.Si=255;this.so=q.rd();this.Td=[]},AS:function(){return this.ud},CS:function(){return this.zg},
vi:function(a){this.Q(a);this.zg=a},aj:function(){return this.Si},ta:function(a){if(this.vf){this.Si=a;for(var c=this.vf.B,d=0;d<c.length;d++){var e=c[d];e&&e.pb&&e.ta(a)}}},yd:function(){return this.rc},r:function(a){if(this.vf){this.rc=a;for(var c=this.vf.B,d=0;d<c.length;d++){var e=c[d];e&&e.pb&&e.r(a)}}},k3:function(){return this.so},WV:function(a){if(this.vf){var c=this.Ba,d=c.Ha,c=c.ya;this.cq(this.vf,this.cp,this.dB,a);this.Q(d,c)}},g4:function(){return this.lv},R$:function(a){this.lv=a;this.kw()},
i4:function(){return this.nv},T$:function(a){this.nv=a;this.kw()},h4:function(){return this.mv},S$:function(a){this.mv=a;this.kw()},f4:function(){return this.kv},Q$:function(a){this.kv=a;this.kw()},Q:function(a,c){2===arguments.length?q.F.prototype.Q.call(this,a,c):q.F.prototype.Q.call(this,a);this.Vk=!0},Aa:function(a){this.Vk&&(this.sQ(),this.Vk=!1);q.Gb.prototype.Aa.call(this,a)},v:function(){return this.Ow(null,q.rd(),!1,q.rd())},Ow:function(a,c,d,e){3===arguments.length&&(e=d,d=!1);a&&this.cq(a,
c,d,e);this.D(0.5,0.5);return this.Vk=!0},dj:function(a,c,d){a instanceof q.rg?(d=a=c,c=q.rd()):(c=c||q.rd(),d=d||q.rd());if(!a)throw"cc.Scale9Sprite.initWithFile(): file should be non-null";var e=q.ja.f().Jx(a);if(!e){var e=q.ja.f().pa(a),f=e.Mg();(this.qb=f)||e.Yf(function(a){var c=this.zg,c=q.size(c.width,c.height);a=a.c();this.cq(this.vf,q.rect(0,0,a.width,a.height),!1,this.so);this.vi(c);this.Vk=!0;this.je()},this)}a=q.Ab.create(a,9);return this.Ow(a,c,!1,d)},Ee:function(a,c){if(!a||!a.ia())throw"cc.Scale9Sprite.initWithSpriteFrame(): spriteFrame should be non-null and its texture should be non-null";
c=c||q.rd();var d=a.qb;(this.qb=d)||a.Yf(function(a){var c=this.zg,c=q.size(c.width,c.height);this.cq(this.vf,a.ld(),q.Ja.Xc?a.vd:!1,this.so);this.vi(c);this.Vk=!0;this.je()},this);d=q.Ab.Sa(a.ia(),9);return this.Ow(d,a.ld(),q.Ja.Xc?a.vd:!1,c)},NI:function(a,c){if(!a)throw"cc.Scale9Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";c=c||q.rd();var d=q.sg.f().Bh(a);return null==d?(q.log("cc.Scale9Sprite.initWithSpriteFrameName(): can't find the sprite frame by spriteFrameName"),
!1):this.Ee(d,c)},U9:function(a){var c=new q.Od;return c&&c.Ow(this.vf,this.cp,!1,a)?c:null},Gf:function(a){if(this.vf){this.tc=a;var c=this.vf.B;if(c)for(var d=0,e=c.length;d<e;d++)c[d].Gf(a)}},rl:function(){return this.tc},cq:function(a,c,d,e){var f=this.aj(),g=this.yd();c=q.rect(c.x,c.y,c.width,c.height);this.ic(!0);this.vf!=a&&(this.vf=a);a=a.ia();var k=a.Mg();if(this.qb=k){a=this.vf;a.ic(!0);k=this.so;k.x=e.x;k.y=e.y;k.width=e.width;k.height=e.height;this.dB=d;k=a.ia();q.Er(c)&&(c=k.c(),c=q.rect(0,
0,c.width,c.height));var h=this.cp=c;h.x=c.x;h.y=c.y;h.width=c.width;h.height=c.height;var l=c.Va;this.ud.width=l.width;this.ud.height=l.height;h=this.zg;0===h.width&&0===h.height&&(h.width=l.width,h.height=l.height);h=this.DF;e&&(h.x=e.x,h.y=e.y,h.width=e.width,h.height=e.height);var m=l.width;e=l.height;q.Er(h)&&(h.x=m/3,h.y=e/3,h.width=m/3,h.height=e/3);var n=h.x,p=h.width,t=m-(n+p),u=h.y,w=h.height,D=e-(u+w),G=0,B=0;e=q.rect(G,B,n,u);var G=G+n,h=q.rect(G,B,p,u),m=q.rect(G+p,B,t,u),G=0,B=0+u,l=
q.rect(G,B,n,w),G=G+n,ca=q.rect(G,B,p,w),G=G+p,da=q.rect(G,B,t,w),G=0,B=0+u+w,u=q.rect(G,B,n,D),G=G+n,n=q.rect(G,B,p,D),G=G+p,p=q.rect(G,B,t,D),t={K:1,k:0,Ka:0,d:1,eb:0,fb:0};if(d){d=ca;var D=p,G=u,B=m,w=e,ra=da,ia=l,sa=n,ta=h,t=q.Vx(t,c.height+c.x,c.y),t=q.KL(t),ca=q.Jf(ca,t),p=q.Jf(p,t),u=q.Jf(u,t),m=q.Jf(m,t);e=q.Jf(e,t);da=q.Jf(da,t);l=q.Jf(l,t);n=q.Jf(n,t);h=q.Jf(h,t);d.x=ca.x;d.y=ca.y;D.x=p.x;D.y=p.y;G.x=u.x;G.y=u.y;B.x=m.x;B.y=m.y;w.x=e.x;w.y=e.y;ra.x=da.x;ra.y=da.y;ia.x=l.x;ia.y=l.y;sa.x=
n.x;sa.y=n.y;ta.x=h.x;ta.y=h.y;this.Aj=new q.w;this.Aj.Pa(k,d,!0);a.g(this.Aj,0,q.PE);this.ai=new q.w;this.ai.Pa(k,ta,!0);a.g(this.ai,1,q.SE);this.Di=new q.w;this.Di.Pa(k,sa,!0);a.g(this.Di,1,q.NE);this.Pi=new q.w;this.Pi.Pa(k,ia,!0);a.g(this.Pi,1,q.QE);this.Wh=new q.w;this.Wh.Pa(k,ra,!0);a.g(this.Wh,1,q.RE);this.bi=new q.w;this.bi.Pa(k,w,!0);a.g(this.bi,2,q.TE);this.sh=new q.w;this.sh.Pa(k,B,!0);a.g(this.sh,2,q.UE);this.Ei=new q.w;this.Ei.Pa(k,G,!0);a.g(this.Ei,2,q.OE);this.Fi=new q.w;this.Fi.Pa(k,
D,!0)}else t=q.Vx(t,c.x,c.y),q.Ai(ca,t),q.Ai(p,t),q.Ai(u,t),q.Ai(m,t),q.Ai(e,t),q.Ai(da,t),q.Ai(l,t),q.Ai(n,t),q.Ai(h,t),this.Aj=new q.w,this.Aj.Pa(k,ca),a.g(this.Aj,0,q.PE),this.ai=new q.w,this.ai.Pa(k,h),a.g(this.ai,1,q.SE),this.Di=new q.w,this.Di.Pa(k,n),a.g(this.Di,1,q.NE),this.Pi=new q.w,this.Pi.Pa(k,l),a.g(this.Pi,1,q.QE),this.Wh=new q.w,this.Wh.Pa(k,da),a.g(this.Wh,1,q.RE),this.bi=new q.w,this.bi.Pa(k,e),a.g(this.bi,2,q.TE),this.sh=new q.w,this.sh.Pa(k,m),a.g(this.sh,2,q.UE),this.Ei=new q.w,
this.Ei.Pa(k,u),a.g(this.Ei,2,q.OE),this.Fi=new q.w,this.Fi.Pa(k,p);a.g(this.Fi,2,q.QM);this.Q(c.Va);this.g(a);this.HG&&(this.ta(f),255===g.q&&255===g.p&&255===g.k||this.r(g));return this.HG=!0}a.Yf(function(){this.Vk=!0;this.je()},this)},Hf:function(a){var c=q.Ab.Sa(a.ia(),9),d=a.qb;(this.qb=d)||a.Yf(function(a){var c=this.zg,c=q.size(c.width,c.height);this.cq(this.vf,a.ld(),q.Ja.Xc?a.vd:!1,this.so);this.vi(c);this.Vk=!0;this.je()},this);this.cq(c,a.ld(),q.Ja.Xc?a.vd:!1,q.rd());this.kv=this.mv=this.nv=
this.lv=0}});q.Od.create=function(a,c,d){var e;if(2===arguments.length)if("string"==typeof a){if((e=new q.Od)&&e.dj(a,c))return e}else{if(a instanceof q.rg&&(e=new q.Od)&&e.dj(a,d))return e}else if(3===arguments.length){if((e=new q.Od)&&e.dj(a,c,d))return e}else if(1===arguments.length){if((e=new q.Od)&&e.dj(a))return e}else if(0===arguments.length&&(e=new q.Od)&&e.v())return e;return null};q.Od.BH=function(a,c){var d=new q.Od;return d&&d.Ee(a,c)?d:null};
q.Od.CH=function(a,c){if(!a)throw"cc.Scale9Sprite.createWithSpriteFrameName(): spriteFrameName should be non-null";var d=new q.Od;return d&&d.NI(a,c)?d:null};q.mu=q.Kc.extend({});q.mu.rca=function(a){var c=new q.mu;c.v();c.Q(0,a);return c};q.mu.w6=function(a){var c=new q.mu;c.v();c.Q(a,0);return c};
q.Zt=q.Kc.extend({pb:!0,rc:null,Si:0,ctor:function(){},yd:function(){return this.rc},r:function(a){this.rc=a;if(this.B&&0<this.B.length)for(var c=0;c<this.B.length;c++)this.B[c]&&this.B[c].pb&&this.B[c].r(a)},aj:function(){return this.Si},ta:function(a){this.Si=a;if(this.B&&0<this.B.length)for(var c=0;c<this.B.length;c++)this.B[c]&&this.B[c].pb&&this.B[c].ta(a)},uT:function(a,c){if(this.v()){var d=q.ca.f().Yb;this.cj(!0);this.D(0.5,0.5);this.Q(d);this.l(d.width/2,d.height/2);d=0;if(a){this.g(a,d);
for(var e=0;e<c.length;e++)c[e]&&(d++,this.g(c[e],d))}return!0}return!1},Z0:function(){this.MQ(q.XL)},MQ:function(a){var c=-a,d;if(this.B&&0<this.B.length)for(d=0;d<this.B.length;d++)this.B[d]&&(c+=this.B[d].c().height*this.B[d].Ca+a);var e=0,f=c/2;if(this.B&&0<this.B.length)for(d=0;d<this.B.length;d++)this.B[d]&&(e=Math.max(e,this.B[d].c().width),this.B[d].l(0,f-this.B[d].c().height*this.B[d].Ca/2),f-=this.B[d].c().height*this.B[d].Ca+a);this.Q(e,c)},W0:function(){this.LQ(q.XL)},LQ:function(a){var c=
-a,d;if(this.B&&0<this.B.length)for(d=0;d<this.B.length;d++)this.B[d]&&(c+=this.B[d].c().width*this.B[d].va+a);var e=0,f=-c/2;if(this.B&&0<this.B.length)for(d=0;d<this.B.length;d++)this.B[d]&&(e=Math.max(e,this.B[d].c().height),this.B[d].l(f+this.B[d].c().width*this.B[d].va/2,0),f+=this.B[d].c().width*this.B[d].va+a);this.Q(c,e)},X0:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=-5,f=0,g=0,k=0,h,l;if(this.B&&0<this.B.length)for(d=0;d<this.B.length;d++)this.B[d]&&
(f>=c.length?q.log("cc.MenuPassive.alignItemsInColumns(): invalid row index"):(h=c[f])?(l=this.B[d].c().height,g=0|(g>=l||null==l?g:l),++k,k>=h&&(e+=g+5,g=k=0,++f)):q.log("cc.MenuPassive.alignItemsInColumns(): can not have zero columns on a row"));var m=q.ca.f().Yb,n=h=g=f=0,p=0,e=e/2;if(this.B&&0<this.B.length)for(d=0;d<this.B.length;d++)this.B[d]&&(0==h&&(h=c[f],p=n=m.width/(1+h)),l=this.B[d].c().height,g=0|(g>=l||null==l?g:l),this.B[d].l(p-m.width/2,e-this.B[d].c().height/2),p+=n,++k,k>=h&&(e-=
g+5,g=h=k=0,++f))},Y0:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=[],f=[],g=-10,k=-5,h=0,l=0,m=0,n,p;if(this.B&&0<this.B.length)for(d=0;d<this.B.length;d++)this.B[d]&&(h>=c.length?q.log("cc.MenuPassive.alignItemsInRows(): invalid row index"):(n=c[h])?(p=this.B[d].c().width,l=0|(l>=p||null==p?l:p),k+=0|this.B[d].c().height+5,++m,m>=n&&(e.push(l),f.push(k),g+=l+10,l=m=0,k=-5,++h)):q.log("cc.MenuPassive.alignItemsInColumns(): can't have zero rows on a column"));k=
q.ca.f().Yb;l=h=0;n=null;var g=-g/2,t=0;if(this.B&&0<this.B.length)for(d=0;d<this.B.length;d++)this.B[d]&&(null==n&&(n=c[h],t=f[h]),p=this.B[d].c().width,l=0|(l>=p||null==p?l:p),this.B[d].l(g+e[h]/2,t-k.height/2),t-=this.B[d].c().height+10,++m,m>=n&&(g+=l+5,l=n=m=0,++h))},Gf:function(){},rl:function(){return!1}});q.Zt.create=function(a){0==arguments.length&&(a=null);for(var c=[],d=1;d<arguments.length;d++)c.push(arguments[d]);return(d=new q.Zt)&&d.uT(a,c)?d:null};
q.Zt.T1=function(a){return q.Zt.create(a,null)};q.gy=q.ac.extend({OA:0,Ou:0,Nc:null,WO:null,FG:null,rh:null,Ac:null,vg:0,zj:0,p5:function(){return this.OA},g3:function(){return this.Ou},bI:function(){return this.Nc},R4:function(){return this.Ou},w5:function(){return this.FG},NS:function(){return this.rh},PS:function(){return this.Ac},zC:function(a,c){return q.ac.prototype.v.call(this)?(this.dc(!0),this.Nc=q.ge.Xm("colourPickerBackground.png",a,c,q.a(0,0)),this.WO=q.ge.Xm("colourPickerOverlay.png",a,c,q.a(0,0)),this.FG=q.ge.Xm("colourPickerShadow.png",
a,c,q.a(0,0)),this.rh=q.ge.Xm("colourPicker.png",a,c,q.a(0.5,0.5)),this.Ac=c,this.vg=35,this.zj=this.Nc.c().width/2,!0):!1},Ff:function(a){q.ac.prototype.Ff.call(this,a);this.rh&&this.rh.ta(a?255:128)},CL:function(a){var c=new q.ry;c.s=1;c.h=a.h;c.ua=1;a=q.ge.Iy(c);this.Nc.r(q.JB(0|255*a.q,0|255*a.p,0|255*a.k))},GX:function(a){a=q.a(this.Ac.x+this.vg+this.zj*(1-a.s),this.Ac.y+this.vg+this.zj*a.ua);this.nw(a)},nw:function(a){var c=this.Ac.x+0.5*this.Nc.ib().width,d=this.Ac.y+0.5*this.Nc.ib().height,
e=a.x-c,f=a.y-d,g=Math.sqrt(e*e+f*f),e=Math.atan2(f,e),f=0.5*this.Nc.ib().width;g>f&&(a.x=c+f*Math.cos(e),a.y=d+f*Math.sin(e));this.rh.l(a);a.x<this.Ac.x+this.vg?a.x=this.Ac.x+this.vg:a.x>this.Ac.x+this.vg+this.zj-1&&(a.x=this.Ac.x+this.vg+this.zj-1);a.y<this.Ac.y+this.vg?a.y=this.Ac.y+this.vg:a.y>this.Ac.y+this.vg+this.zj&&(a.y=this.Ac.y+this.vg+this.zj);this.OA=1-Math.abs((this.Ac.x+this.vg-a.x)/this.zj);this.Ou=Math.abs((this.Ac.y+this.vg-a.y)/this.zj)},Eq:function(a){var c=this.Ac.x+0.5*this.Nc.ib().width,
d=this.Ac.y+0.5*this.Nc.ib().height,c=a.x-c,d=a.y-d;return Math.sqrt(c*c+d*d)<=0.5*this.Nc.ib().width?(this.nw(a),this.kf(q.xi),!0):!1},Eb:function(a){if(!this.isEnabled()||!this.wa)return!1;a=this.bj(a);return this.Eq(a)},Id:function(a){a=this.bj(a);this.Eq(a)}});q.gy.create=function(a,c){var d=new q.gy;d.zC(a,c);return d};q.fy=q.ac.extend({Ko:0,lr:0,Nc:null,rh:null,Ac:null,a4:function(){return this.Ko},zD:function(a){this.Ko=a;this.lW(this.Ko/360)},b4:function(){return this.lr},lW:function(a){this.lr=a;this.Ko=360*this.lr;a=this.Nc.ib();var c=0.5*a.width-15,d=q.rj(360*this.lr-180);this.rh.l(this.Ac.x+0.5*a.width+c*Math.cos(d),this.Ac.y+0.5*a.height+c*Math.sin(d))},Ff:function(a){q.ac.prototype.Ff.call(this,a);this.rh&&this.rh.ta(a?255:128)},bI:function(){return this.Nc},NS:function(){return this.rh},PS:function(){return this.Ac},
zC:function(a,c){return q.ac.prototype.v.call(this)?(this.dc(!0),this.Nc=q.ge.Xm("huePickerBackground.png",a,c,q.a(0,0)),this.rh=q.ge.Xm("colourPicker.png",a,c,q.a(0.5,0.5)),this.rh.l(c.x,c.y+0.5*this.Nc.ib().height),this.Ac=c,this.lr=this.Ko=0,!0):!1},nw:function(a){var c=this.Nc.ib();this.zD(q.Gy(Math.atan2(a.y-(this.Ac.y+0.5*c.height),a.x-(this.Ac.x+0.5*c.width)))+180);this.kf(q.xi)},Eq:function(a){var c=Math.sqrt(Math.pow(a.x+10,2)+Math.pow(a.y,2));return 80>c&&59<c?(this.nw(a),!0):!1},Eb:function(a){if(!this.isEnabled()||
!this.wa)return!1;a=this.bj(a);return this.Eq(a)},Id:function(a){a=this.bj(a);this.Eq(a)}});q.fy.create=function(a,c){var d=new q.fy;d.zC(a,c);return d};q.tE=q.ac.extend({gh:null,Gk:null,qm:null,Nc:null,rT:function(a){this.gh.h=a.Ko;a=q.ge.Iy(this.gh);q.ac.prototype.r.call(this,q.JB(0|255*a.q,0|255*a.p,0|255*a.k));this.kf(q.xi);this.pQ()},lR:function(a){this.gh.s=a.OA;this.gh.ua=a.Ou;a=q.ge.Iy(this.gh);q.ac.prototype.r.call(this,q.JB(0|255*a.q,0|255*a.p,0|255*a.k));this.kf(q.xi)},r:function(a){q.ac.prototype.r.call(this,a);var c=new q.RGBA;c.q=a.q/255;c.p=a.p/255;c.k=a.k/255;c.K=1;this.gh=q.ge.kM(c);this.YG()},bI:function(){return this.Nc},v:function(){if(q.ac.prototype.v.call(this)){this.dc(!0);
q.sg.f().oH(aa.lE);var a=q.Ab.create(aa.mE);this.g(a);this.gh=new q.ry(0,0,0);this.Nc=q.ge.Xm("menuColourPanelBackground.png",a,q.tj(),q.a(0.5,0.5));var c=q.Jd(this.Nc.u,q.a(this.Nc.c().width/2,this.Nc.c().height/2));this.qm=q.fy.create(a,q.a(c.x+8,c.y+8));this.Gk=q.gy.create(a,q.a(c.x+28,c.y+28));this.qm.pH(this,this.rT,q.xi);this.Gk.pH(this,this.lR,q.xi);this.YG();this.g(this.qm);this.g(this.Gk);this.Q(this.Nc.c());return!0}return!1},pQ:function(){this.qm.zD(this.gh.h);this.Gk.CL(this.gh)},YG:function(){this.qm.zD(this.gh.h);
this.Gk.CL(this.gh);this.Gk.GX(this.gh)},Ff:function(a){q.ac.prototype.Ff.call(this,a);null!=this.qm&&this.qm.Ff(a);this.Gk&&this.Gk.Ff(a)},Eb:function(){return!1}});q.tE.create=function(){var a=new q.tE;a.v();return a};aa=aa||{};aa.lE=aa.lE||"res/extensions/CCControlColourPickerSpriteSheet.plist";aa.mE=aa.mE||"res/extensions/CCControlColourPickerSpriteSheet.png";q.aF=24;q.g_=8;
q.vE=q.ac.extend({cd:0,nb:0,Mb:0,Ev:0,Cv:0,Nb:null,Wk:null,ie:null,xI:function(){return this.cd},lf:function(a){a=Math.max(a,this.nb);this.cd=a=Math.min(a,this.Mb);this.nd();this.kf(q.xi)},vS:function(){return this.nb},zK:function(a){this.Ev=this.nb=a;this.nb>=this.Mb&&(this.Mb=this.nb+1);this.lf(this.cd)},uS:function(){return this.Mb},xK:function(a){this.Cv=this.Mb=a;this.Mb<=this.nb&&(this.nb=this.Mb-1);this.lf(this.cd)},si:function(a){a=a.S;a=this.getParent().Ma(a);var c=this.ib();c.Va.width+=
this.Nb.c().width;c.$c.x-=this.Nb.c().width/2;return q.lb(c,a)},jn:function(a){a=a.S;a=this.Ma(a);0>a.x?a.x=0:a.x>this.ie.c().width&&(a.x=this.ie.c().width);return a},v4:function(){return this.Ev},caa:function(a){this.Ev=a},t4:function(){return this.Cv},baa:function(a){this.Cv=a},vI:function(){return this.Nb},a5:function(){return this.Wk},a3:function(){return this.ie},yT:function(a,c,d){return q.ac.prototype.v.call(this)?(this.cj(!1),this.dc(!0),this.ie=a,this.Wk=c,this.Nb=d,a=q.ge.nE(a.ib(),d.ib()),
this.Q(a.width,a.height),this.ie.D(0.5,0.5),this.ie.l(a.width/2,a.height/2),this.g(this.ie),this.Wk.D(0,0.5),this.Wk.l(0,a.height/2),this.g(this.Wk),this.Nb.l(0,a.height/2),this.g(this.Nb),this.nb=0,this.Mb=1,this.lf(this.nb),!0):!1},Ff:function(a){q.ac.prototype.Ff.call(this,a);this.Nb&&this.Nb.ta(a?255:128)},qX:function(a){this.Xp(!0);this.Nb.r(q.ol());this.lf(this.eE(a))},sX:function(a){this.lf(this.eE(a))},rX:function(){this.$o&&this.lf(this.eE(this.Nb.u));this.Nb.r(q.zb());this.Xp(!1)},W5:function(a){a=
a.S;a=this.Ma(a);0>a.x?a.x=0:a.x>this.ie.c().width+q.aF&&(a.x=this.ie.c().width+q.aF);return a},Eb:function(a){if(!this.si(a)||!this.isEnabled()||!this.wa)return!1;a=this.jn(a);this.qX(a);return!0},Id:function(a){a=this.jn(a);this.sX(a)},Qg:function(){this.rX(q.tj())},nd:function(){this.Nb.Fb((this.cd-this.nb)/(this.Mb-this.nb)*this.ie.c().width);var a=this.Wk.kC(),a=q.rect(a.x,a.y,this.Nb.u.I,a.height);this.Wk.jb(a,this.Wk.hd,a.Va)},eE:function(a){a=a.x/this.ie.c().width;return Math.max(Math.min(this.nb+
a*(this.Mb-this.nb),this.Cv),this.Ev)}});q.vE.create=function(a,c,d){"string"==typeof a&&(a=q.w.create(a),c=q.w.create(c),d=q.w.create(d));var e=new q.vE;e.yT(a,c,d);return e};q.xE=q.ac.extend({jd:null,VF:0,zr:!1,Vo:!1,ctor:function(){q.ac.prototype.ctor.call(this)},wC:function(a,c,d,e,f,g){if(!a)throw"cc.ControlSwitch.initWithMaskSprite(): maskSprite should be non-null.";if(!c)throw"cc.ControlSwitch.initWithMaskSprite(): onSprite should be non-null.";if(!d)throw"cc.ControlSwitch.initWithMaskSprite(): offSprite should be non-null.";if(!e)throw"cc.ControlSwitch.initWithMaskSprite(): thumbSprite should be non-null.";return this.v()?(this.dc(!0),this.Vo=!0,this.jd=new q.WL,
this.jd.wC(a,c,d,e,f,g),this.jd.l(this.jd.c().width/2,this.jd.c().height/2),this.g(this.jd),this.cj(!1),this.D(0.5,0.5),this.Q(this.jd.c()),!0):!1},rx:function(a,c){var d=(this.Vo=a)?this.jd.Tk:this.jd.vm;c?this.jd.jx(q.Qn.create(0.2,"sliderXPosition",this.jd.Uj,d)):this.jd.DD(d);this.kf(q.xi)},i7:function(){return this.Vo},u6:function(){return this.zr},Ff:function(a){this.ar=a;this.jd.ta(a?255:128)},jn:function(a){a=a.S;return a=this.Ma(a)},Eb:function(a){if(!this.si(a)||!this.isEnabled()||!this.wa)return!1;
this.zr=!1;this.VF=this.jn(a).x-this.jd.Uj;this.jd.Nb.r(q.ol());this.jd.nd();return!0},Id:function(a){a=this.jn(a);a=q.a(a.x-this.VF,0);this.zr=!0;this.jd.DD(a.x)},Qg:function(a){a=this.jn(a);this.jd.Nb.r(q.zb());this.zr?this.rx(!(a.x<this.jd.c().width/2),!0):this.rx(!this.Vo,!0)},lk:function(a){a=this.jn(a);this.jd.Nb.r(q.zb());this.zr?this.rx(!(a.x<this.jd.c().width/2),!0):this.rx(!this.Vo,!0)}});q.xE.create=function(a,c,d,e,f,g){var k=new q.xE;return k&&k.wC(a,c,d,e,f,g)?k:null};
q.WL=q.w.extend({Uj:0,Tk:0,vm:0,MG:0,mA:0,nA:null,lh:null,Ri:null,Nb:null,wm:null,um:null,yo:null,uc:null,Lu:null,ctor:function(){q.w.prototype.ctor.call(this);this.mA=this.vm=this.Tk=this.Uj=0;this.nA=q.size(0,0);this.um=this.wm=this.Nb=this.Ri=this.lh=null},wC:function(a,c,d,e,f,g){return q.w.prototype.Pa.call(this,a.ia())?(this.Tk=0,this.vm=-c.c().width+e.c().width/2,this.Uj=this.Tk,this.DW(c),this.AW(d),this.FD(e),this.BW(f),this.zW(g),this.uc=a,a=this.nA=this.uc.c(),this.uc.l(0,0),this.yo=q.tb.create(),
this.yo.D(0.5,0.5),this.yo.l(a.width/2,a.height/2),this.yo.ED(this.uc),this.Lu=q.Hb.create(a.width,a.height),this.yo.g(this.Lu.ub),this.g(this.yo),this.g(this.Nb),this.nd(),!0):!1},nd:function(){this.lh.l(this.lh.c().width/2+this.Uj,this.lh.c().height/2);this.Ri.l(this.lh.c().width+this.Ri.c().width/2+this.Uj,this.Ri.c().height/2);this.wm&&this.wm.l(this.lh.u.x-this.Nb.c().width/6,this.lh.c().height/2);this.um&&this.um.l(this.Ri.u.x+this.Nb.c().width/6,this.Ri.c().height/2);this.Nb.l(this.lh.c().width+
this.Uj,this.nA.height/2);this.Lu.ak();this.lh.Aa();this.Ri.Aa();this.wm&&this.wm.Aa();this.um&&this.um.Aa();this.Lu.end()},DD:function(a){a<=this.vm?a=this.vm:a>=this.Tk&&(a=this.Tk);this.Uj=a;this.nd()},z5:function(){return this.Uj},y8:function(){return this.lh.c().width},w8:function(){return this.Ri.c().height},cE:function(a,c){q.log("key \x3d "+c+", value \x3d "+a);this.DD(a)},laa:function(a){this.Tk=a},L4:function(){return this.Tk},iaa:function(a){this.vm=a},F4:function(){return this.vm},aaa:function(a){this.uc.ma(a)},
p4:function(){return this.uc.ia()},Paa:function(a){this.MG=a},M5:function(){return this.MG},$$:function(a){this.mA=a},o4:function(){return this.mA},DW:function(a){this.lh=a},M4:function(){return this.lh},AW:function(a){this.Ri=a},G4:function(){return this.Ri},FD:function(a){this.Nb=a},vI:function(){return this.Nb},BW:function(a){this.wm=a},K4:function(){return this.wm},zW:function(a){this.um=a},E4:function(){return this.um}});q.qE=0;q.rE=1;q.ut=2;q.fq=q.n(55,55,55);q.by=q.n(147,147,147);q.pE="CourierNewPSMT";q.jE=0.15;q.IL=12;
q.wE=q.ac.extend({Ud:null,sf:null,Sk:null,Uk:null,cd:0,Iq:!1,ko:!1,Tm:!1,nb:0,Mb:0,Hm:0,bs:!1,Om:q.ut,Bq:0,ctor:function(){q.ac.prototype.ctor.call(this);this.Uk=this.Sk=this.sf=this.Ud=null;this.cd=0;this.Tm=this.ko=this.Iq=!1;this.Hm=this.Mb=this.nb=0;this.bs=!1;this.Om=q.ut;this.Bq=0},wT:function(a,c){if(!a)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Minus sprite should be non-null.";if(!c)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Plus sprite should be non-null.";
if(this.v()){this.dc(!0);this.Iq=this.ko=!0;this.nb=0;this.Mb=100;this.cd=0;this.Hm=1;this.Tm=!1;this.cj(!1);this.vW(a);this.Ud.l(a.c().width/2,a.c().height/2);this.g(this.Ud);this.uW(q.U.create("-",q.pE,40,q.size(40,40),q.xj,q.Au));this.Sk.r(q.by);this.Sk.l(this.Ud.c().width/2,this.Ud.c().height/2);this.Ud.g(this.Sk);this.HW(c);this.sf.l(a.c().width+c.c().width/2,a.c().height/2);this.g(this.sf);this.GW(q.U.create("+",q.pE,40,q.size(40,40),q.xj,q.Au));this.Uk.r(q.fq);this.Uk.l(this.sf.c().width/2,
this.sf.c().height/2);this.sf.g(this.Uk);var d=q.ge.nE(this.Ud.ib(),this.sf.ib());this.Q(this.Ud.c().width+this.sf.c().height,d.Va.height);return!0}return!1},cba:function(a){if(this.Tm=a)this.Sk.r(q.fq),this.Uk.r(q.fq);this.lf(this.cd)},zK:function(a){if(a>=this.Mb)throw"cc.ControlStepper.setMinimumValue(): minimumValue should be numerically less than maximumValue.";this.nb=a;this.lf(this.cd)},xK:function(a){if(a<=this.nb)throw"cc.ControlStepper.setMaximumValue(): maximumValue should be numerically less than maximumValue.";
this.Mb=a;this.lf(this.cd)},lf:function(a){this.JD(a,!0)},xI:function(){return this.cd},Iaa:function(a){if(0>=a)throw"cc.ControlStepper.setMaximumValue(): stepValue should be numerically greater than 0.";this.Hm=a},T6:function(){return this.Iq},JD:function(a,c){a<this.nb?a=this.Tm?this.Mb:this.nb:a>this.Mb&&(a=this.Tm?this.nb:this.Mb);this.cd=a;this.Tm||(this.Sk.r(a==this.nb?q.by:q.fq),this.Uk.r(a==this.Mb?q.by:q.fq));c&&this.kf(q.xi)},hL:function(){this.Bq=-1;this.jc(this.update,q.jE,q.Zl,3*q.jE)},
jL:function(){this.Yc(this.update)},update:function(){this.Bq++;this.Bq<q.IL&&0!=this.Bq%3||(this.Om==q.qE?this.JD(this.cd-this.Hm,this.Iq):this.Om==q.rE&&this.JD(this.cd+this.Hm,this.Iq))},uL:function(a){a.x<this.Ud.c().width&&this.cd>this.nb?(this.Om=q.qE,this.Ud.r(q.ol()),this.sf.r(q.zb())):a.x>=this.Ud.c().width&&this.cd<this.Mb?(this.Om=q.rE,this.Ud.r(q.zb()),this.sf.r(q.ol())):(this.Om=q.ut,this.Ud.r(q.zb()),this.sf.r(q.zb()))},Eb:function(a){if(!this.si(a)||!this.isEnabled()||!this.wa)return!1;
a=this.bj(a);this.uL(a);this.bs=!0;this.ko&&this.hL();return!0},Id:function(a){this.si(a)?(a=this.bj(a),this.uL(a),this.bs||(this.bs=!0,this.ko&&this.hL())):(this.bs=!1,this.Om=q.ut,this.Ud.r(q.zb()),this.sf.r(q.zb()),this.ko&&this.jL())},Qg:function(a){this.Ud.r(q.zb());this.sf.r(q.zb());this.ko&&this.jL();this.si(a)&&(a=this.bj(a),this.lf(this.cd+(a.x<this.Ud.c().width?0-this.Hm:this.Hm)))},vW:function(a){this.Ud=a},x4:function(){return this.Ud},HW:function(a){this.sf=a},V4:function(){return this.sf},
uW:function(a){this.Sk=a},w4:function(){return this.Sk},GW:function(a){this.Uk=a},U4:function(){return this.Uk}});q.wE.create=function(a,c){var d=new q.wE;return d&&d.wT(a,c)?d:null};q.uE=q.ac.extend({Nb:null,Yo:null,Xo:null,cd:0,nb:0,Mb:1,BT:function(a,c,d){return this.v()?(this.dc(!0),this.LW(c),this.FD(d),this.Nb.l(c.u),this.g(d,2),this.g(c,1),this.g(a),this.Q(a.c()),this.nb=0,this.Mb=1,this.lf(this.nb),!0):!1},Ff:function(a){this.Ff(a);this.Nb!=NULL&&this.Nb.ta(a?255:128)},lf:function(a){a<this.nb&&(a=this.nb);a>this.Mb&&(a=this.Mb);this.cd=a;a=(a-this.nb)/(this.Mb-this.nb);this.Yo.Xs(100*a);this.Nb.ux(360*a);this.kf(q.xi)},xI:function(){return this.cd},zK:function(a){this.nb=
a;this.nb>=this.Mb&&(this.Mb=this.nb+1);this.lf(this.Mb)},vS:function(){return this.nb},xK:function(a){this.Mb=a;this.Mb<=this.nb&&(this.nb=this.Mb-1);this.lf(this.nb)},uS:function(){return this.Mb},si:function(a){a=this.bj(a);return this.OR(this.Yo.u,a)<Math.min(this.c().width/2,this.c().height/2)},Eb:function(a){if(!this.si(a)||!this.isEnabled()||!this.wa)return!1;this.Xo=this.bj(a);this.GU(this.Xo);return!0},Id:function(a){a=this.bj(a);this.IU(a)},Qg:function(){this.HU(q.a(0,0))},OR:function(a,
c){var d=a.x-c.x,e=a.y-c.y;return Math.sqrt(d*d+e*e)},OQ:function(a,c,d,e){return 180*(Math.atan2(c.x-a.x,c.y-a.y)-Math.atan2(e.x-d.x,e.y-d.y))/Math.PI},GU:function(){this.Xp(!0);this.Nb.r(q.ol())},IU:function(a){var c=this.OQ(this.Yo.u,a,this.Yo.u,this.Xo);180<c?c-=360:-180>c&&(c+=360);this.lf(this.cd+c/360*(this.Mb-this.nb));this.Xo=a},HU:function(){this.Nb.r(q.zb());this.Xp(!1)},FD:function(a){this.Nb=a},vI:function(){return this.Nb},LW:function(a){this.Yo=a},b5:function(){return this.Yo},raa:function(a){this.Xo=
a},DS:function(){return this.Xo}});q.uE.create=function(a,c,d){var e=new q.uE;return e&&(a=q.w.create(a),d=q.w.create(d),c=q.Lc.create(q.w.create(c)),e.BT(a,c,d))?e:null};q.ZE=-1;q.$n=0;q.mq=1;q.iu=2;q.sR=function(a){var c=q.oa.f();return(c.va+c.Ca)/2*a/160};q.bN=q.La.extend({KV:function(){},LV:function(){}});
q.Lh=q.Kc.extend({G0:0,p0:0,n0:0,Da:null,Ki:q.iu,Li:!1,dO:null,Ua:null,th:!1,Av:null,Dv:null,Cq:!1,Fq:!1,Gr:null,lp:null,cs:0,uh:null,ei:null,iG:0,gG:0,Br:null,PA:!1,NG:null,ctor:function(){q.Kc.prototype.ctor.call(this);this.dO=new q.ah(0,0);this.Av=new q.ah(0,0);this.Dv=new q.ah(0,0);this.Gr=new q.ah(0,0);this.lp=new q.ah(0,0);this.uh=[];this.ei=new q.yk(0,0);this.Br=new q.rg(0,0,0,0);this.NG=new q.rg(0,0,0,0)},v:function(){return this.Lp(q.size(200,200),null)},gx:function(){q.cD(this.cl,!1,this)},
Lp:function(a,c){var d=q.a(0,0);return q.Kc.prototype.v.call(this)?(this.Ua=c,this.Ua||(this.Ua=q.Kc.create(),this.Ua.cj(!1),this.Ua.D(d)),this.UK(a),this.dc(!0),this.uh.length=0,this.Da=null,this.Fq=this.Cq=!0,this.Ki=q.iu,this.Ua.l(d),this.cs=0,this.g(this.Ua),this.iG=this.gG=1,!0):!1},Gl:function(a,c){if(c)this.$V(a,0.15);else{if(!this.Cq){var d=this.kn(),e=this.Ms();a.x=Math.max(d.x,Math.min(e.x,a.x));a.y=Math.max(d.y,Math.min(e.y,a.y))}this.Ua.l(a)}},dI:function(){var a=this.Ua.u;return q.a(a.x,
a.y)},$V:function(a,c){var d=q.$t.create(c,a),e=q.gq.create(this.dQ,this);this.Ua.jx(q.vj.create(d,e));this.jc(this.uA)},ZK:function(a,c){if(c)this.dX(a,0.15);else{var d=this.Ua;if(d.fC()!=a){var e,f;0==this.cs?(f=this.ei,f=q.a(0.5*f.width,0.5*f.height),f=this.fl(f)):f=this.lp;e=d.Ma(f);d.qk(Math.max(this.iG,Math.min(this.gG,a)));e=d.fl(e);f=q.Jd(f,e);this.Gl(q.Rg(d.u,f))}}},AI:function(){return this.Ua.fC()},dX:function(a,c){if(0<c){var d=this.Ua.fC();d!=a&&(d=q.Qn.create(c,"zoomScale",d,a),this.jx(d))}else this.ZK(a)},
kn:function(){var a=this.Ua,c=a.c(),d=this.ei;return q.a(d.width-c.width*a.va,d.height-c.height*a.Ca)},Ms:function(){return q.a(0,0)},h7:function(a){var c=this.dI(),d=this.ei,e=this.AI(),c=q.rect(-c.x/e,-c.y/e,d.width/e,d.height/e);return q.WU(c,a.ib())},pause:function(){this.Ua.bx();for(var a=this.Ua.B,c=0;c<a.length;c++)a[c].bx()},$J:function(){for(var a=this.Ua.B,c=0,d=a.length;c<d;c++)a[c].ix();this.Ua.ix()},W6:function(){return this.Li},z7:function(){return this.th},P6:function(){return this.Cq},
UV:function(a){this.Cq=a},j6:function(){return this.ei},UK:function(a){this.ei=a;q.F.prototype.Q.call(this,a)},u3:function(){return this.Ua},YV:function(a){a&&(this.ic(!0),this.Ua=a,a.cj(!1),a.D(0,0),this.g(a),this.UK(this.ei))},J3:function(){return this.Ki},lK:function(a){this.Ki=a},pc:function(){return this.Da},hg:function(a){this.Da=a},Eb:function(a){if(!this.wa)return!1;var c=this.cA(),d=this.Ua,e=d.fl(d.hi(a)),f=this.uh;if(2<f.length||this.th||!q.lb(c,e))return!1;f.push(a);1===f.length?(this.lp=
this.hi(a),this.th=!1,this.Li=!0,this.Gr.x=0,this.cs=this.Gr.y=0):2==f.length&&(this.lp=q.UC(this.hi(f[0]),this.hi(f[1])),this.cs=q.RC(d.hi(f[0]),d.hi(f[1])),this.Li=!1);return!0},Id:function(a){if(this.wa)if(1===this.uh.length&&this.Li){this.th=!0;var c=this.cA(),d=this.hi(a);a=q.Jd(d,this.lp);var e=0,f=this.Ki,e=f===q.mq?a.y:f===q.$n?a.x:Math.sqrt(a.x*a.x+a.y*a.y);if(this.th||!(0.04375>Math.abs(q.sR(e))))if(this.th||(a.x=0,a.y=0),this.lp=d,this.th=!0,q.lb(c,this.fl(d))){switch(f){case q.mq:a.x=
0;break;case q.$n:a.y=0}d=this.Ua.u;c=d.x+a.x;d=d.y+a.y;this.Gr=a;this.Gl(q.a(c,d))}}else 2!==this.uh.length||this.Li||(a=q.RC(this.Ua.hi(this.uh[0]),this.Ua.hi(this.uh[1])),this.ZK(this.AI()*a/this.cs))},Qg:function(){this.wa&&(1==this.uh.length&&this.th&&this.jc(this.Fz),this.uh.length=0,this.th=this.Li=!1)},lk:function(){this.wa&&(this.uh.length=0,this.th=this.Li=!1)},Q:function(a,c){null!=this.Ua&&(2===arguments.length?this.Ua.Q(a,c):this.Ua.Q(a),this.HX())},c:function(){return this.Ua.c()},HX:function(){if(null!=
this.Ua){var a=this.ei,c=this.Ms();this.Av.x=c.x+0.2*a.width;this.Av.y=c.y+0.2*a.height;c=this.kn();this.Dv.x=c.x-0.2*a.width;this.Dv.y=c.y-0.2*a.height}},R6:function(){return this.Fq},v$:function(a){this.Fq=a},Aa:function(a){if(this.wa){a=a||q.$;var c,d=this.B,e,f;if(q.Kd===q.ng){a.save();this.transform(a);this.xF(a);if(d&&0<d.length){f=d.length;this.ce();for(c=0;c<f;c++)if((e=d[c])&&0>e.kb)e.Aa(a);else break;for(this.Wa(a);c<f;c++)d[c].Aa(a)}else this.Wa(a);this.vF();a.restore()}else{q.Pp();var g=
this.Mk;g&&g.Mp()&&(g.HB(),this.Nx());this.transform(a);this.xF(a);if(d&&0<d.length){f=d.length;for(c=0;c<f;c++)if((e=d[c])&&0>e.kb)e.Aa();else break;for(this.Wa(a);c<f;c++)d[c].Aa()}else this.Wa(a);this.vF(a);g&&g.Mp()&&g.EB(this);q.Op()}}},g:function(a,c,d){if(!a)throw Error("child must not nil!");c=c||a.kb;d=d||a.xd;a.cj(!1);a.D(0,0);this.Ua!=a?this.Ua.g(a,c,d):q.Kc.prototype.g.call(this,a,c,d)},dc:function(a){q.Kc.prototype.dc.call(this,a);a||(this.th=this.Li=!1,this.uh.length=0)},i0:function(){return null},
fP:function(a){var c=this.kn(),d=this.Ms(),e=this.Ki,f=this.Ua.u,g=f.x,k=f.y;if(e===q.iu||e===q.$n)g=Math.max(g,c.x),g=Math.min(g,d.x);if(e==q.iu||e==q.mq)k=Math.min(k,d.y),k=Math.max(k,c.y);k==f.y&&g==f.x||this.Gl(q.a(g,k),a)},Fz:function(){if(this.Li)this.Yc(this.Fz);else{var a,c;a=this.Ua.u;var d=this.Gr;this.Ua.l(a.x+d.x,a.y+d.y);this.Cq?(a=this.Av,c=this.Dv):(a=this.Ms(),c=this.kn());var e=this.Ua.u.I,f=this.Ua.u.N;d.x*=0.95;d.y*=0.95;this.Gl(q.a(e,f));if(1>=Math.abs(d.x)&&1>=Math.abs(d.y)||
f>a.y||f<c.y||e>a.x||e<c.x||e==a.x||e==c.x||f==a.y||f==c.y)this.Yc(this.Fz),this.fP(!0)}},uA:function(){this.Li&&this.Yc(this.uA)},dQ:function(){this.Yc(this.uA)},xF:function(a){if(this.Fq){this.PA=!1;var c=this.cA(),d=q.oa.f(),e=this.va,f=this.Ca;a=a||q.$;if(q.Kd===q.ng)c=this.ei.width*e*d.va,d=this.ei.height*f*d.Ca,a.beginPath(),a.rect(0,0,c,-d),a.clip(),a.closePath();else if(d=q.oa.f(),d.NT()){if(this.PA=!0,this.Br=d.JS(),q.VU(c,this.Br)){var g=this.Br;a=Math.max(c.x,g.x);f=Math.max(c.y,g.y);e=
Math.min(c.x+c.width,g.x+g.width);c=Math.min(c.y+c.height,g.y+g.height);d.BD(a,f,e-a,c-f)}}else a.enable(a.SCISSOR_TEST),d.BD(c.x,c.y,c.width,c.height)}},vF:function(a){this.Fq&&q.Kd===q.zk&&(this.PA?(a=this.Br,q.oa.f().BD(a.x,a.y,a.width,a.height)):(a=a||q.$,a.disable(a.SCISSOR_TEST)))},g0:function(){},cA:function(){for(var a=this.fl(q.tj()),c=this.ei,d=this.va,e=this.Ca,f=this.da;null!=f;f=f.getParent())d*=f.va,e*=f.Ca;0>d&&(a.x+=c.width*d,d=-d);0>e&&(a.y+=c.height*e,e=-e);f=this.NG;f.x=a.x;f.y=
a.y;f.width=c.width*d;f.height=c.height*e;return f}});q.Lh.create=function(a,c){var d=new q.Lh;if(2==arguments.length){if(d&&d.Lp(a,c))return d}else if(d&&d.v())return d;return null};q.cN=q.La.extend({qx:function(){},ni:function(){return 0}});q.dN=q.cN.extend({pA:0,ctor:function(){this.pA=0},qx:function(a){this.pA=a},ni:function(){return this.pA}});function ha(a,c){return a.ni()-c.ni()}
q.Yx=q.La.extend({ph:null,ctor:function(){this.ph=[]},RI:function(a){if(!a)throw"cc.ArrayForObjectSorting.insertSortedObject(): addObject should be non-null.";this.ET(a,this.Kp(a))},sV:function(a){if(0!=this.count()){var c=this.Kp(a);c<this.count()&&c!=q.zi&&this.pn(c).ni()==a.ni()&&this.hD(c)}},haa:function(a,c){var d=this.Kp(c);if(d<this.count()&&d!=q.zi){var e=this.pn(d);e.ni()==c.ni()&&(this.hD(d),e.qx(a),this.RI(e))}},yJ:function(a){if(0==this.count())return null;var c=new q.dN;c.qx(a);var d=
this.Kp(c);d<this.count()&&d!=q.zi&&(c=this.pn(d),c.ni()!=a&&(c=null));return c},D4:function(){return null},Kp:function(a){var c=0;if(a){var d=0;a=a.ni();for(var e=this.ph,f=0;f<e.length;f++){var g=e[f].ni();if(a==g||a>=d&&a<g)break;d=g;c++}}else c=q.zi;return c},count:function(){return this.ph.length},P7:function(){var a=this.ph;return 0==a.length?null:a[a.length-1]},pn:function(a){return this.ph[a]},nH:function(a){this.ph.push(a);this.ph.sort(ha)},hD:function(a){q.eq(this.ph,a);this.ph.sort(ha)},
ET:function(a,c){this.ph=q.Ul(this.ph,a,c);this.ph.sort(ha)}});q.cF=0;q.fN=1;q.s_=q.F.extend({Lj:0,e4:function(){return this.Lj},nW:function(a){this.Lj=a},reset:function(){this.Lj=q.zi},qx:function(a){this.Lj=a},ni:function(){return this.Lj}});q.u_=q.bN.extend({Kba:function(){},Jba:function(){},Lba:function(){},Mba:function(){}});q.t_=q.La.extend({zX:function(a){return this.XQ(a)},XQ:function(){return q.ZM},Iba:function(){return null},s8:function(){return 0}});
q.kF=q.Lh.extend({np:null,Ed:null,to:null,Ez:null,lB:null,Hv:null,Qu:null,Wj:null,ctor:function(){q.Lh.prototype.ctor.call(this);this.Hv=q.ZE;this.Qu=[]},uN:function(a){var c=0,d=-1;switch(this.Ki){case q.$n:a=a.x;break;default:a=a.y}for(var e=this.Qu;d>=c;){var f=0|c+(d-c)/2,g=e[f],k=e[f+1];if(a>=g&&a<=k)return f;a<g?d=f-1:c=f+1}return 0>=c?0:-1},sO:function(a){a={x:a.x,y:a.y};this.np===q.cF&&(a.y=this.Ua.c().height-a.y);a=this.uN(a);-1!=a&&(a=Math.max(0,a),-1<a&&(a=q.zi));return a},vN:function(a){switch(this.Ki){case q.$n:a=
q.a(this.Qu[a],0);break;default:a=q.a(0,this.Qu[a])}return a},VO:function(a){var c=this.vN(a);a=this.Ez.zX(this,a);this.np===q.cF&&(c.y=this.Ua.c().height-c.y-a.height);return c},D0:function(){},pB:function(){var a=q.$l();this.Q(a);this.Hv!=this.Ki&&(this.Ki==q.$n?this.Gl(q.a(0,0)):this.Gl(q.a(0,this.kn().y)),this.Hv=this.Ki)},jG:function(a){this.to.nH(a);this.Fk.sV(a);q.de(this.Ed,a.Lj);a.reset();a.getParent()==this.Ua&&this.Ua.removeChild(a,!0)},Rv:function(a,c){c.D(0,0);c.l(this.VO(a));c.nW(a)},
tF:function(a){a.getParent()!=this.Ua&&this.Ua.g(a);this.Fk.RI(a);var c=this.Ed;a=a.Lj;-1==c.indexOf(a)&&(c.push(a),c.sort(function(a,c){return a-c}))},A3:function(){return this.Ez},dW:function(a){this.Ez=a},pc:function(){return this.lB},hg:function(a){this.lB=a},aba:function(a){this.np!=a&&(this.np=a,0<this.Fk.count()&&this.gD())},g6:function(){return this.np},Lp:function(a,c){return q.Lh.prototype.Lp.call(this,a,c)?(this.Fk=new q.Yx,this.to=new q.Yx,this.Ed=[],this.lB=null,this.np=q.fN,this.lK(q.mq),
q.Lh.prototype.hg.call(this,this),!0):!1},fca:function(a){if(!(a==q.zi||-1<a)){var c=this.LB(a);c&&this.jG(c);c=null;this.Rv(a,c);this.tF(c)}},G6:function(a){if(!(a==q.zi||-1<a)){var c,d=this.Fk;if(c=d.yJ(a))for(var e=c=d.Kp(c);e<d.count();e++)c=d.pn(e),this.Rv(c.Lj+1,c);c=null;this.Rv(a,c);this.tF(c);this.pB()}},G9:function(a){if(!(a==q.zi||-1<a)){var c=this.LB(a);if(c){var d=this.Fk,e=d.Kp(c);this.jG(c);q.de(this.Ed,a);for(a=d.count()-1;a>e;a--)c=d.pn(a),this.Rv(c.Lj-1,c)}}},gD:function(){this.Hv=
q.ZE;for(var a=this.Fk,c=this.to,d=this.Ua,e=0,f=a.count();e<f;e++){var g=a.pn(e);c.nH(g);g.reset();g.getParent()==d&&d.removeChild(g,!0)}this.Ed=[];this.Fk=new q.Yx;this.pB()},b2:function(){if(0===this.to.count())return null;var a=this.to.pn(0);this.to.hD(0);return a},LB:function(a){return-1==this.Ed.indexOf(a)?null:this.Fk.yJ(a)},KV:function(){},LV:function(){},Qg:function(a,c){if(this.wa){if(this.Wj){var d=this.ib();d.$c=this.da.fl(d.origin);this.Wj=null}q.Lh.prototype.Qg.call(this,a,c)}},Eb:function(a,
c){if(!this.wa)return!1;var d=q.Lh.prototype.Eb.call(this,a,c);if(1===this.uh.length){var e;e=this.Ua.hi(a);e=this.sO(e);this.Wj=e===q.zi?null:this.LB(e)}else this.Wj&&(this.Wj=null);return d},Id:function(a,c){q.Lh.prototype.Id.call(this,a,c);this.Wj&&this.th&&(this.Wj=null)},lk:function(a,c){q.Lh.prototype.lk.call(this,a,c);this.Wj&&(this.Wj=null)}});q.kF.create=function(a,c,d){var e=new q.kF;e.Lp(c,d);e.dW(a);e.pB();return e};q.kc={};q.kc.lH=function(a){for(var c in q.kc.JC)a[c]=q.kc.JC[c]};
q.kc.JC={l:function(a,c){2==arguments.length?(this.u.I=a,this.u.N=c):(this.u.I=a.x,this.u.N=a.y);this.bb();this.fa.ZD(this.u.I,-this.u.N)},Jc:function(a){this.u.N=a;this.bb();this.fa.ZD(this.u.I,-this.u.N)},Fb:function(a){this.u.I=a;this.bb();this.fa.ZD(this.u.I,-this.u.N)},qk:function(a,c){this.va=a;this.Ca=c||a;this.bb();this.fa.resize(this.va,this.Ca)},Wp:function(a){this.va=a;this.bb();this.fa.resize(this.va,this.Ca)},Dn:function(a){this.Ca=a;this.bb();this.fa.resize(this.va,this.Ca)},D:function(a,
c){var d=this.em;if(2===arguments.length){if(a===d.I&&c===d.N)return;d.I=a;d.N=c}else{if(a.x===d.I&&a.y===d.N)return;d.I=a.x;d.N=a.y}var e=this.Ad,f=this.Ba;e.I=f.Ha*d.I;e.N=f.ya*d.N;this.fa.style[q.Pb.rn+"TransformOrigin"]=""+e.I+"px "+-e.N+"px";this.Mj?(this.fa.style.marginLeft=0,this.fa.style.marginBottom=0):(this.fa.style.marginLeft=this.PT?0:-e.I+"px",this.fa.style.marginBottom=-e.N+"px");this.bb()},kt:function(){var a=this.Ad;this.fa.style[q.Pb.rn+"TransformOrigin"]=""+a.I+"px "+-a.N+"px";this.Mj?
(this.fa.style.marginLeft=0,this.fa.style.marginBottom=0):(this.fa.style.marginLeft=this.PT?0:-a.I+"px",this.fa.style.marginBottom=-a.N+"px")},Q:function(a,c){var d=this.Ba;if(2===arguments.length){if(a===d.Ha&&c===d.ya)return;d.Ha=a;d.ya=c}else{if(a.width===d.Ha&&a.height===d.ya)return;d.Ha=a.width;d.ya=a.height}var e=this.Ad,f=this.em;e.I=d.Ha*f.I;e.N=d.ya*f.N;this.fa.width=d.Ha;this.fa.height=d.ya;this.kt();this.canvas&&(this.canvas.width=d.Ha,this.canvas.height=d.ya);this.bb();this.XU()},ux:function(a){this.uP!=
a&&(this.Dg=this.Xh=a,this.Bm=Math.PI/180*this.Dg,this.Fr=Math.PI/180*this.Xh,this.bb(),this.fa.rotate(a))},xx:function(a){this.te=a;this.bb();this.fa.NK(this.te,this.ue)},yx:function(a){this.ue=a;this.bb();this.fa.NK(this.te,this.ue)},G:function(a){this.wa=a;this.bb();this.fa&&(this.fa.style.display=a?"block":"none")},Tv:function(a){this.kb=a;this.bb();this.fa&&(this.fa.zIndex=a)},Ws:function(a){this.da=a;null!==a&&(a.kt(),this.bb(),q.kc.ax(this))},ix:function(){this.Cf().xn(this);this.$f().xn(this);
this.fa&&!this.fa.parentNode&&(this.getParent()?q.kc.ax(this):this.fa.Ym(q.bk));this.fa&&(this.fa.style.visibility="visible")},bx:function(){this.Cf().Ns(this);this.$f().Ns(this);this.fa&&(this.fa.style.visibility="hidden")},Zf:function(){this.RD();this.gt();this.ug(this.B,q.F.Kf.Zf);this.fa&&this.fa.remove()},oV:function(){this.fa.remove()},ta:function(a){this.Si=a;this.fa.style.opacity=a/255},XU:function(){if(this.eJ){var a=this.B;this.B=[];q.w.prototype.Aa.call(this,this.vp);this.B=a}else q.w.prototype.Aa.call(this,
this.vp)}};q.kc.qP=function(){var a=q.Pb("#EGLViewDiv");if(a){var c=q.oa.f(),d=c.Ap(),e=c.af,f=c.bn(),g=d.width,k=d.height;0===d.width&&0===d.height&&(g=f.width,k=f.height);var d=e.Va.width,h=e.Va.height;0===e.Va.width&&0===e.Va.height&&(d=f.width,h=f.height);a.style.position="absolute";a.style.width=g+"px";a.style.maxHeight=k+"px";a.style.margin=0;a.resize(c.va,c.Ca);a.style.left=d<f.width?(d-g)/2+(f.width-d)/2+"px":(d-g)/2+"px";a.style.bottom=h<f.height?(f.height-h)/2+"px":"0px"}};
q.kc.ax=function(a){var c=a.getParent();if(c&&a.fa)if(c.fa||(q.kc.BU(c),c.Ws=q.kc.JC.Ws),a.fa.Ym(c.fa),c.kt(),c.getParent())q.kc.ax(c);else if(c.Ue)if(a=q.Pb("#EGLViewDiv"))c.fa.Ym(a);else{a=q.tk("div");a.id="EGLViewDiv";var d=q.oa.f(),e=d.Ap(),f=d.af,g=d.bn(),k=e.width,h=e.height;0===e.width&&0===e.height&&(k=g.width,h=g.height);var e=f.Va.width,l=f.Va.height;0===f.Va.width&&0===f.Va.height&&(e=g.width,l=g.height);a.style.position="absolute";a.style.width=k+"px";a.style.maxHeight=h+"px";a.style.margin=
0;a.resize(d.va,d.Ca);a.style.left=e<g.width?(e-k)/2+(g.width-e)/2+"px":(e-k)/2+"px";a.style.bottom=l<g.height?(g.height-l)/2+"px":"0px";c.fa.Ym(a);a.Ym(q.bk)}};q.kc.setTransform=function(a){if(a.vp)if(a.vp.translate(a.Ad.x,a.Ad.y),a.eJ){var c=a.B;a.B=[];q.w.prototype.Aa.call(a,a.vp);a.B=c}else q.w.prototype.Aa.call(a,a.vp);a.fa&&(a.fa.position.x=a.u.x,a.fa.position.y=-a.u.y,a.fa.rotation=a.GS(),a.fa.scale={x:a.va,y:a.Ca},a.fa.Kl={x:a.te,y:a.ue},a.kt&&a.kt(),a.fa.Kn())};
q.kc.cS=function(a){a.fa=q.tk("div");a.canvas=q.tk("canvas");var c=a.c();a.canvas.width=c.width;a.canvas.height=c.height;a.fa.style.position="absolute";a.fa.style.bottom=0;a.vp=a.canvas.getContext("2d");a.fa.appendChild(a.canvas);a.getParent()&&q.kc.ax(a);a.eJ=!0};
q.kc.BU=function(a){a.fa=q.tk("div");a.placeholder=!0;a.fa.style.position="absolute";a.fa.style.bottom=0;a.fa.style.width=(a.c().width||q.ca.f().Yb.width)+"px";a.fa.style.maxHeight=(a.c().height||q.ca.f().Yb.height)+"px";a.fa.style.margin=0;q.kc.setTransform(a);a.fa.Kn();q.kc.lH(a)};
q.kc.ms=function(a){if(1<arguments.length)q.kc.ms(arguments);else if(1!=arguments.length||arguments[0].length)for(var c=arguments[0],d=0;d<c.length;d++)c[d]instanceof q.w?c[d].fa||q.kc.cS(c[d]):q.log("DOM converter only supports sprite and menuitems yet"),q.kc.lH(c[d]),c[d].Aa=function(){},c[d].transform=function(){},q.kc.setTransform(c[d]),c[d].G(c[d].wa);else q.kc.ms([arguments[0]])};q.uy=0;q.fZ=1;q.iZ=2;q.hZ=3;q.gZ=4;q.ly=0;q.LY=1;q.MY=2;q.NY=3;q.PY=4;q.KY=5;q.OY=6;q.jy=0;q.ky=1;q.JY=2;q.IY=3;q.HY=4;q.SY=q.La.extend({jl:function(){},kl:function(){},ji:function(){},q2:function(){}});
q.Tn=q.Ih.extend({Rb:null,Da:null,Xq:q.ly,Wq:q.ky,rr:q.uy,LG:"",Bb:"",Vf:null,qe:null,Rk:50,yq:18,J:null,me:14,Ph:"Arial",Sh:"",Sf:14,Sd:"",yg:!0,OG:!1,yG:0,ctor:function(a){function c(){this.focus()}function d(){e.Da&&e.Da.ji&&(e.yg?e.Da.ji(e,this.value):(e.Da.ji(e,e.Sd),this.value=" "))}q.Ih.prototype.ctor.call(this);this.Vf=q.zb();this.qe=q.ol();this.Q(a);this.Rb=new q.w;this.Rb.Wa=function(){};this.g(this.Rb);var e=this;this.J=document.createElement("input");this.J.type="text";this.J.style.fontSize=
this.me+"px";this.J.style.color="#000000";this.J.style.border=0;this.J["vertical-align"]="middle";this.J.style.background="transparent";this.J.style.width="100%";this.J.style.height="100%";this.J.style.gH=0;this.J.style.outline="medium";this.J.attachEvent?(this.J.attachEvent("oninput",d),this.J.attachEvent("onclick",c)):(this.J.addEventListener("input",d),this.J.addEventListener("click",c,!1));this.J.addEventListener("keypress",function(a){var c="number"==typeof a.which?a.which:a.keyCode;a.stopPropagation();
c===q.kq.YB?(a.preventDefault(),q.canvas.focus()):e.yg||c===q.kq.sH||(e.Sd+=String.fromCharCode(c),e.Da.ji(e,e.Sd))});this.J.addEventListener("keydown",function(a){a.stopPropagation();!e.yg&&("number"==typeof a.which?a.which:a.keyCode)===q.kq.sH&&0<e.Sd.length&&(e.Sd=e.Sd.substring(0,e.Sd.length-1),e.Da.ji(e,e.Sd))});this.J.addEventListener("focus",function(){e.yg?this.value==e.Bb&&(this.value="",this.style.fontSize=e.me+"px",this.style.color=q.Ec(e.Vf)):(this.style.position="absolute",this.yG=this.style.top,
this.style.top="-1000000px",e.Sd==e.Bb&&(e.Sd="",this.value="                                                 "));e.Da&&e.Da.jl&&e.Da.jl(e)});this.J.addEventListener("blur",function(){e.yg?""==this.value&&(this.value=e.Bb,this.style.fontSize=e.Sf+"px",this.style.color=q.Ec(e.qe)):(this.style.position="relative",this.style.top=this.yG,""==e.Sd&&(this.value=" ",e.Sd=e.Bb));e.Da&&e.Da.kl&&e.Da.kl(e)});q.kc.ms(this.Rb);this.Rb.fa.appendChild(this.J);this.Rb.fa.eL=!1;this.Rb.fa.style.width=a.width-6+"px";
this.Rb.fa.style.height=a.height-6+"px";this.Rb.canvas.remove()},qK:function(a,c){this.me=c;this.Ph=a;this.$h()},xD:function(a){this.Ph=a;this.$h()},ox:function(a){this.me=a;this.$h()},$h:function(){this.yg&&this.J.value!=this.Bb&&(this.J.style.fontFamily=this.Ph,this.J.style.fontSize=this.me+"px")},be:function(a){null!=a&&(""==a?this.yg?(this.J.value=this.Bb,this.J.style.color=q.Ec(this.qe)):(this.J.value=" ",this.Sd=this.Bb):this.yg?(this.J.value=a,this.J.style.color=q.Ec(this.Vf)):this.Sd=a)},
vD:function(a){this.yg&&(this.Vf=a,this.J.value!=this.Bb&&(this.J.style.color=q.Ec(a)))},wK:function(a){!isNaN(a)&&0<a&&(this.Rk=a,this.J.maxLength=a)},lI:function(){return this.Rk},AK:function(a){if(null!=a){var c=this.Bb;this.Bb=a;this.yg?this.J.value==c&&(this.J.value=a,this.J.style.color=q.Ec(this.qe),this.wf()):this.Sd==c&&(this.Sd=a,this.J.value=" ",this.wf())}},BK:function(a,c){this.Sh=a;this.Sf=c;this.wf()},DK:function(a){this.Sh=a;this.wf()},EK:function(a){this.Sf=a;this.wf()},wf:function(){this.yg&&
this.J.value==this.Bb&&(this.J.style.fontFamily=this.Sh,this.J.style.fontSize=this.Sf+"px")},CK:function(a){this.yg&&(this.qe=a,this.J.value==this.Bb&&(this.J.style.color=q.Ec(a)))},Tp:function(a){this.Wq=a;this.J.type=a==q.jy?"password":"text"},aa:function(){return this.yg?this.J.value:this.Sd},Ds:function(a,c){return this.Nw(c)?(this.Rb.l(3,3),this.ND(!1),this.vi(a),this.l(0,0),this.Iu(this,this.et,q.rt),!0):!1},hg:function(a){this.Da=a},oI:function(){return this.Bb},uK:function(a){this.Xq=a},IK:function(a){this.rr=
a},jJ:function(a){var c=q.Tn.ld(this);c.y-=4;c.TI(a.end)?this.yq=a.end.mI()-c.nI():q.log("needn't to adjust view layout.")},hJ:function(){},iJ:function(){},gJ:function(){},et:function(){},II:function(a,c){this.Vq=a.width;this.fa.style.width=this.Vq.toString()+"px";this.Uq=a.height;this.fa.style.height=this.Uq.toString()+"px";this.fa.style.backgroundColor=q.Ec(c)}});q.Tn.ld=function(a){var c=a.c(),c=q.rect(0,0,c.width,c.height);return q.Jf(c,a.nn())};
q.Tn.create=function(a,c,d,e){var f=new q.Tn(a);c instanceof q.xc?f.Ss(c):f.Ds(a,c)&&(d&&f.El(d,q.tt),e&&f.El(e,q.st));return f};SingleLineBox=q.Ih.extend({Rb:null,Da:null,Xq:q.ly,Wq:q.ky,rr:q.uy,LG:"",Bb:"",Vf:null,qe:null,Rk:50,yq:18,J:null,me:14,Ph:"Arial",Yq:!1,Sh:"",Sf:14,OG:!1,ctor:function(a){q.Ih.prototype.ctor.call(this);this.Yq=!1;this.Vf=q.zb();this.qe=q.ol();this.Q(a);this.Rb=new q.w;this.Rb.Wa=function(){};this.g(this.Rb);var c=this;this.J=document.createElement("input");this.J.type="text";this.J.style.fontSize=this.me+"px";this.J.style.color="#000000";this.J.style.border=0;this.J.style.background="transparent";
this.J.style.width="100%";this.J.style.height="100%";this.J.style.gH=0;this.J.style.outline="medium";this.J.addEventListener("input",function(){c.Da&&c.Da.ji&&c.Da.ji(c,this.value)});this.J.addEventListener("keyup",function(a){a.keyCode===q.kq.YB&&!1==c.Yq&&(a.stopPropagation(),a.preventDefault(),q.canvas.focus())});this.J.addEventListener("focus",function(){this.value==c.Bb&&(this.value="",this.style.fontSize=c.me+"px",this.style.color=q.Ec(c.Vf));c.Da&&c.Da.jl&&c.Da.jl(c)});this.J.addEventListener("blur",
function(){""==this.value&&(this.value=c.Bb,this.style.fontSize=c.Sf+"px",this.style.color=q.Ec(c.qe));c.Da&&c.Da.kl&&c.Da.kl(c)});q.kc.ms(this.Rb);this.Rb.fa.appendChild(this.J);this.Rb.fa.eL=!1;this.Rb.fa.style.width=a.width-6+"px";this.Rb.fa.style.height=a.height-6+"px";this.Rb.canvas.remove()},qK:function(a,c){this.me=c;this.Ph=a;this.$h()},aX:function(){},xD:function(a){this.Ph=a;this.$h()},ox:function(a){this.me=a;this.$h()},$h:function(){this.J.value!=this.Bb&&(this.J.style.fontFamily=this.Ph,
this.J.style.fontSize=this.me+"px")},be:function(a){null!=a&&(""==a?(this.J.value=this.Bb,this.J.style.color=q.Ec(this.qe)):(this.J.value=a,this.J.style.color=q.Ec(this.Vf)))},vD:function(a){this.Vf=a;this.J.value!=this.Bb&&(this.J.style.color=q.Ec(a))},wK:function(a){!isNaN(a)&&0<a&&(this.Rk=a,this.J.maxLength=a)},lI:function(){return this.Rk},AK:function(a){if(null!=a){var c=this.Bb;this.Bb=a;this.J.value==c&&(this.J.value=a,this.J.style.color=q.Ec(this.qe),this.wf())}},BK:function(a,c){this.Sh=
a;this.Sf=c;this.wf()},DK:function(a){this.Sh=a;this.wf()},EK:function(a){this.Sf=a;this.wf()},wf:function(){this.J.value==this.Bb&&(this.J.style.fontFamily=this.Sh,this.J.style.fontSize=this.Sf+"px")},CK:function(a){this.qe=a;this.J.value==this.Bb&&(this.J.style.color=q.Ec(a))},Tp:function(a){this.Wq=a;this.J.type=a==q.jy?"password":"text"},aa:function(){return this.J.value},Ds:function(a,c){return this.Nw(c)?(this.Rb.l(3,3),this.ND(!1),this.vi(a),this.l(0,0),this.Iu(this,this.et,q.rt),!0):!1},hg:function(a){this.Da=
a},oI:function(){return this.Bb},uK:function(a){this.Xq=a},IK:function(a){this.rr=a},jJ:function(a){var c=q.Tn.ld(this);c.y-=4;c.TI(a.end)?this.yq=a.end.mI()-c.nI():q.log("needn't to adjust view layout.")},hJ:function(){},iJ:function(){},gJ:function(){},et:function(){},Ss:function(a){a=ja(a.q,a.p,a.k);this.J.style.background=a},II:function(a,c){this.Vq=a.width;this.fa.style.width=this.Vq.toString()+"px";this.Uq=a.height;this.fa.style.height=this.Uq.toString()+"px";this.fa.style.backgroundColor=q.Ec(c)}});
SingleLineBox.ld=function(a){var c=a.c(),c=q.rect(0,0,c.width,c.height);return q.Jf(c,a.nn())};SingleLineBox.create=function(a,c,d,e){var f=new SingleLineBox(a);c instanceof q.xc?f.Ss(c):f.Ds(a,c)&&(d&&f.El(d,q.tt),e&&f.El(e,q.st));return f};MultiLineBox=q.Ih.extend({Rb:null,Da:null,Xq:q.ly,Wq:q.ky,rr:q.uy,LG:"",Bb:"",Vf:null,qe:null,Rk:50,yq:18,J:null,me:14,Ph:"Arial",Yq:!1,Sh:"",Sf:14,OG:!1,ctor:function(a){q.Ih.prototype.ctor.call(this);this.Yq=!1;this.Vf=q.zb();this.qe=q.ol();this.Q(a);this.Rb=new q.w;this.Rb.Wa=function(){};this.g(this.Rb);var c=this;this.J=document.createElement("TEXTAREA");this.J.type="text";this.J.style.fontSize=this.me+"px";this.J.style.color="#000000";this.J.style.border=0;this.J.style.background="transparent";
this.J.style.width="100%";this.J.style.height="100%";this.J.style.gH=0;this.J.style.outline="medium";this.J.addEventListener("input",function(){c.Da&&c.Da.ji&&c.Da.ji(c,this.value)});this.J.addEventListener("keyup",function(a){a.keyCode===q.kq.YB&&!1==c.Yq&&(a.stopPropagation(),a.preventDefault(),q.canvas.focus())});this.J.addEventListener("focus",function(){this.value==c.Bb&&(this.value="",this.style.fontSize=c.me+"px",this.style.color=q.Ec(c.Vf));c.Da&&c.Da.jl&&c.Da.jl(c)});this.J.addEventListener("blur",
function(){""==this.value&&(this.value=c.Bb,this.style.fontSize=c.Sf+"px",this.style.color=q.Ec(c.qe));c.Da&&c.Da.kl&&c.Da.kl(c)});q.kc.ms(this.Rb);this.Rb.fa.appendChild(this.J);this.Rb.fa.eL=!1;this.Rb.fa.style.width=a.width-6+"px";this.Rb.fa.style.height=a.height-6+"px";this.Rb.canvas.remove()},qK:function(a,c){this.me=c;this.Ph=a;this.$h()},aX:function(){},xD:function(a){this.Ph=a;this.$h()},ox:function(a){this.me=a;this.$h()},$h:function(){this.J.value!=this.Bb&&(this.J.style.fontFamily=this.Ph,
this.J.style.fontSize=this.me+"px")},be:function(a){null!=a&&(""==a?(this.J.value=this.Bb,this.J.style.color=q.Ec(this.qe)):(this.J.value=a,this.J.style.color=q.Ec(this.Vf)))},vD:function(a){this.Vf=a;this.J.value!=this.Bb&&(this.J.style.color=q.Ec(a))},wK:function(a){!isNaN(a)&&0<a&&(this.Rk=a,this.J.maxLength=a)},lI:function(){return this.Rk},AK:function(a){if(null!=a){var c=this.Bb;this.Bb=a;this.J.value==c&&(this.J.value=a,this.J.style.color=q.Ec(this.qe),this.wf())}},BK:function(a,c){this.Sh=
a;this.Sf=c;this.wf()},DK:function(a){this.Sh=a;this.wf()},EK:function(a){this.Sf=a;this.wf()},wf:function(){this.J.value==this.Bb&&(this.J.style.fontFamily=this.Sh,this.J.style.fontSize=this.Sf+"px")},CK:function(a){this.qe=a;this.J.value==this.Bb&&(this.J.style.color=q.Ec(a))},Tp:function(a){this.Wq=a;this.J.type=a==q.jy?"password":"text"},aa:function(){return this.J.value},Ds:function(a,c){return this.Nw(c)?(this.Rb.l(3,3),this.ND(!1),this.vi(a),this.l(0,0),this.Iu(this,this.et,q.rt),!0):!1},hg:function(a){this.Da=
a},oI:function(){return this.Bb},uK:function(a){this.Xq=a},IK:function(a){this.rr=a},jJ:function(a){var c=q.Tn.ld(this);c.y-=4;c.TI(a.end)?this.yq=a.end.mI()-c.nI():q.log("needn't to adjust view layout.")},hJ:function(){},iJ:function(){},gJ:function(){},et:function(){},Ss:function(a){a=ja(a.q,a.p,a.k);this.J.style.background=a},II:function(a,c){this.Vq=a.width;this.fa.style.width=this.Vq.toString()+"px";this.Uq=a.height;this.fa.style.height=this.Uq.toString()+"px";this.fa.style.backgroundColor=q.Ec(c)}});
MultiLineBox.ld=function(a){var c=a.c(),c=q.rect(0,0,c.width,c.height);return q.Jf(c,a.nn())};MultiLineBox.create=function(a,c,d,e){var f=new MultiLineBox(a);c instanceof q.xc?f.Ss(c):f.Ds(a,c)&&(d&&f.El(d,q.tt),e&&f.El(e,q.st));return f};var v=Object.freeze({Ae:{Y1:"C to popup/dismiss, enter for chat. Say /help for help.",K6:"Welcome to the Powder Engine! Enter /help for some help.",pT:"-------HELP------",oT:" - Press C to expand the chat, I for Inventory",nT:" - Space to grab Items and E for Equipment.",mT:" - Enter /commands for command list",lT:"-------------------",pR:"Commands:  /editskill, /editsign, /editnpc,",oR:" - /editmap, /editwarp, /edititem,",nR:" - /dance, /coinflip, /diceroll, /afk",mR:"--------------------",CU:" has joined the game!",
e9:" has left the game!",cx:"Picked up ",VR:"Dropped ",VI:"Your inventory is full"}});var ka=eval("gameConfig();"),la={},ma=q.Nd.f();q.qj.f();ma.MK(["res/Graphics"]);var na=new XMLHttpRequest;na.open("GET","res/Graphics/tile_graphics.txt",!1);na.send(null);var oa=na.responseText,pa=oa.split(","),x=[],qa;for(qa in pa)x.push({name:pa[qa],texture:q.ja.f().pa(pa[qa])});var ua=!1,na=new XMLHttpRequest;na.open("GET","res/Graphics/character_graphics.txt",!1);na.send(null);var oa=na.responseText,pa=oa.split(","),y=[];for(qa in pa)y.push({name:pa[qa],texture:q.ja.f().pa(pa[qa])});
document.getElementById("gameCanvas").onkeydown=function(a){a.preventDefault();la[a.keyCode]=!0};window.onbeforeunload=function(){z({disconnect:!0})};window.onfocus=function(){for(var a=[],c=A.length-1;0<=c;c--){var d=JSON.parse(A[c]);d.moveTo&&!a[d.id]?(a[d.id]=!0,d.setTo=1,d.moveTo=null,A[c]=JSON.stringify(d)):d.moveTo&&a[d.id]&&A.splice(c,1)}};var C=q.j(255,255,255,255),va=q.j(0,255,0,255),E=q.j(255,0,0,255);
document.getElementById("gameCanvas").onkeyup=function(a){la[a.keyCode]=!1;if(null!=F.f().kd){a.stopPropagation();var c=null;switch(a.keyCode){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";
break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a.keyCode&&58>a.keyCode||64<a.keyCode&&91>a.keyCode)&&(c=String.fromCharCode(a.keyCode));null!=c&&F.f().kd.yl(c)}};rememberLoginNextTime=autoLoginNextTime=!1;
var H={GENERAL:"ISSECTION","Project Name":"Powder Engine Testbed","Version Number":"0.705",CHATBAR:"ISSECTION","Welcome Message":"Welcome to the Powder Engine! Enter /help for some help.","Join Message":"\x3cPLAYER\x3e has joined the game!","Leave Message":"\x3cPLAYER\x3e has left the game!","Default ChatBar Message":"C to popup/dismiss, enter for chat. Say /help for help.",ITEMS:"ISSECTION","Item Dropdown Pick Up":"Pick up \x3cITEM\x3e","Item Dropdown Walk To":"Walk to \x3cITEM\x3e","Item Pick Up":"Picked up \x3cITEM\x3e.",
"Item Dropped":"Dropped \x3cITEM\x3e.","Item Out-of-range":"\x3cITEM\x3e is too far away to pick up!","Item Dropdown Examine":"Examine \x3cITEM\x3e","Item Dropdown Equip":"Equip \x3cITEM\x3e","Item Dropdown Read":"Read \x3cITEM\x3e","Item Dropdown Eat":"Eat \x3cITEM\x3e","Item Dropdown Use":"Use \x3cITEM\x3e","Item Dropdown Unequip":"Unequip \x3cITEM\x3e","Item Dropdown Drop":"Drop \x3cITEM\x3e",NPCS:"ISSECTION","NPC Dropdown Examine":"Examine","NPC Dropdown Attack":"Attack","NPC Dropdown Talk":"Talk To",
"NPC Dropdown Follow":"Follow","NPC Dropdown Trade":"Trade","NPC Dropdown Bank":"Open Bank",SIGNS:"ISSECTION","Sign Dropdown list Read":"Read sign \x3cSIGN\x3e","Sign Out-of-range":"\x3cSIGN\x3e is too far away to read!",PANELS:"ISSECTION","Equipment Header":"Equipment","Inventory Header":"Inventory","Skills Header":"Skills List","Quest Header":"Quest Log",COMMANDS:"ISSECTION","/dance":"\x3cPLAYER\x3e danced the dance of his people.","/diceroll":"\x3cPLAYER\x3e threw a dice and got \x3cVALUE\x3e",
"/coinflip":"\x3cPLAYER\x3e flipped a coin and got \x3cVALUE\x3e"};function I(a,c){return(a.fJ&&a.wa||!a.fJ)&&q.lb(q.rect(a.u.I,a.u.N,a.c().width,a.c().height),c)}function J(a){if(!a)return null;var c=null;"object"==typeof a&&(c={});a instanceof Array&&(c=[]);for(var d in a)c[d]=a[d]&&("object"==typeof a[d]||a[d]instanceof Array)?J(a[d]):a[d];return c}
isMobile=function(){var a=!1,c=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(c)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(c.substr(0,
4)))a=!0;return a};function wa(){K.Ld(function(){})}function xa(a,c){var d=c?a:a.vc();return ya(d,"panels")}
function ya(a,c,d){if(c=d?d[c]:a[c]){"undefined"!=typeof c.MT?d=za.hy(c.AX):"undefined"!=typeof c.ba?d=q.w.Sa(q.ja.f().pa(c.ba)):"undefined"!=typeof c.label?d=q.U.create(c.label,c.font?c.P2:"Arial",c.fontSize?c.fontSize:14):"undefined"!=typeof c.color&&"undefined"!=typeof c.size?(d=q.w.create(),d.jb(q.rect(0,0,c.size.width,c.size.height)),d.D(q.a(0,0))):d=q.F.create();"undefined"!=typeof c.size&&d.Q(Math.floor(c.size.width),Math.floor(c.size.height));"undefined"!=typeof c.position&&d.l(q.a(Math.floor(c.position.x),
Math.floor(c.position.y)));"undefined"!=typeof c.visible&&d.G(c.visible);"undefined"!=typeof c.e&&d.D(c.e);"undefined"!=typeof c.color&&d.r&&(d.r(c.color),c.color.K&&d.ta(c.color.K));"undefined"!=typeof c.opacity&&d.ta(c.opacity);if("undefined"!=typeof c.children)for(var e in c.children)d[e]=ya(a,e,c.children),d[e]&&d.g(d[e]);return d}}
function Aa(a,c,d){a=a[c];"undefined"!=typeof a.size&&d.Q(Math.floor(a.size.width),Math.floor(a.size.height));"undefined"!=typeof a.position&&d.l(q.a(Math.floor(a.position.x),Math.floor(a.position.y)));"undefined"!=typeof a.visible&&d.G(a.visible);"undefined"!=typeof a.e&&d.D(a.e);"undefined"!=typeof a.opacity&&d.ta(a.opacity);"undefined"!=typeof a.color&&d.r(a.color);if("undefined"!=typeof a.children)for(var e in a.children)Aa(a.children,e,d[e])}
function Ba(a){a=a.toString(16);return 1==a.length?"0"+a:a}function ja(a,c,d){return"#"+Ba(a)+Ba(c)+Ba(d)}var L=null,M=ka.tileSize,Ca=ka.characterSize,N=Math.floor(36),O=Math.floor(36);function P(a,c){return parseInt(O*(N-c))+parseInt(a)}function Da(a,c){var d={},e;for(e in a)d[e]=a[e];for(e in c)d[e]=c[e];return d}function Ea(a,c){var d={},e;for(e in a)d[e]=a[e]+"";for(e in c)d[e]&&(d[e]=c[e]+"");return d}
function Fa(a,c){if(0!=a.length)for(var d=0;d<a.length;d++)switch(a[d].type){case "Is Quest Point":var e=Q.t.W.pi(a[d].data.quest);e||(e=0);if(e!=a[d].data.objective)return!1;break;case "Script Requirement":var e=J(Q.t.W.Cp(item.script)),f=!0;e||(e={});try{var g=a[d].data.functionContent.replace(/,/g,"").split(":"),k="{",h;for(h in g)k=0==h%2?k+('"'+g[h]+'":'):h!=g.length-1?k+('"'+g[h]+'",'):k+('"'+g[h]+'"');var k=k+"}",l=JSON.parse(k);for(h in l)e[h]||(e[h]="null"),e[h]!=l[h]&&(f=!1);if(!1==f)return!1}catch(m){R.ob("your custom require script failed");
break}break;case "Is Panel Visibility":if(c&&c["Is Panel Visibility"])break;e=1==a[d].data.visible?!0:!1;switch(a[d].data.panel){case 0:null==Inventory||Inventory.da||(Inventory=null);if(Inventory&&!e||!Inventory&&e)return!1;break;case 1:null==Equipment||Equipment.da||(Equipment=null);if(Equipment&&!e||!Equipment&&e)return!1;break;case 2:if(null==Skills||Skills.da||(Skills=null),Skills&&!e||!Skills&&e)return!1}break;case "Is Player Inventory Space":if(c&&c["Is Player Inventory Space"])break;f=a[d].data.space?
a[d].data.space:0;for(k=e=0;40>k;k++)userItems.stored[k]||e++;if(e<f)return!1;break;case "Has Player Item":if(c&&c["Has Player Item"])break;if(a[d].data.item){f=a[d].data.amount?a[d].data.amount:0;e=0;k=ObjectLists.Ig()[a[d].data.item].name;for(h in userItems.stored)userItems.stored[h]&&userItems.stored[h].name==k&&e++;if(e<f)return!1}break;case "Is Player Statistics":if(c&&c["Is Player Statistics"])break;e=ObjectLists.Ef()[a[d].data.skill].name;a[d].data.levelUpper||(a[d].data.levelUpper=0);a[d].data.levelLower||
(a[d].data.levelLower=0);a[d].data.healthUpper||(a[d].data.healthUpper=0);a[d].data.healthLowe||(a[d].data.healthLower=0);a[d].data.xpUpper||(a[d].data.xpUpper=0);a[d].data.xpLower||(a[d].data.xpLower=0);if(0!=a[d].data.levelUpper||0!=a[d].data.levelLower)if(f=SkillBarsInstance.ec[e].level+1,f>a[d].data.levelUpper||f<a[d].data.levelLower)return!1;if(0!=a[d].data.healthUpper||0!=a[d].data.healthLower)if(f=SkillBarsInstance.ec[e].currenthealth,f>a[d].data.healthUpper||f<a[d].data.healthLower)break;
if(0!=a[d].data.xpUpper||0!=a[d].data.xpLower)if(f=SkillBarsInstance.ec[e].experience,f>a[d].data.xpUpper||f<a[d].data.xpLower)return!1}return!0}
function S(a,c){var d=[];K.Ld(function(){var e=[],f=Q.t.W.items;c&&c.fk()&&(e=c.fk().data);for(var g=0;g<e.length;g++)if(e[g].type==a&&Fa(e[g].requirements,void 0))for(var k=e[g].responses,h=0;h<k.length;h++)switch(k[h].type){case "Script Response":var l=g,m=h;d.push([function(a,d){var f=J(Q.t.W.Cp(c.ed));f||(f={});try{var g=e[a].responses[d].data.functionContent.replace(/,/g,"").split(":"),k="{",h;for(h in g)k=0==h%2?k+('"'+g[h]+'":'):h!=g.length-1?k+('"'+g[h]+'",'):k+('"'+g[h]+'"');var l=JSON.parse(k+
"}"),f=Da(f,l);Q.t.W.tD(c.ed,J(f))}catch(m){R.ob("Your custom response script failed")}},l,m]);case "Give /Take Item":if(!k[h].data.amount||null==k[h].data.item||"undefined"==k[h].data.item)break;l=g;m=h;d.push([function(a,c){var d=e[a].responses[c],g=ObjectLists.Ig()[d.data.item];if(0<d.data.amount){var k=d.data.amount;if(!0==g.stackable){for(var h=0;40>h;h++)f.stored[h]&&f.stored[h].name==g.name&&(k=0);0!=l&&(k=1)}else for(var l=0,h=0;40>h;h++)f.stored[h]||l++;if(l<k)return;if(!0==g.stackable){l=
!1;for(h=0;40>h;h++)if(f.stored[h]&&f.stored[h].name==g.name){f.stored[h].amount+=d.data.amount;Inventory&&Inventory.Wg(h,f.stored[h].amount);l=!0;break}if(!1==l)for(h=0;40>h;h++)if(!f.stored[h]){f.stored[h]=J(g);f.stored[h].amount=d.data.amount;Inventory&&Inventory.Wg(h,f.stored[h].amount);break}}else for(l=0;l<d.data.amount;l++)for(h=0;40>h;h++)if(!f.stored[h]){f.stored[h]=J(g);break}}else if(0>d.data.amount){k=Math.abs(d.data.amount);l=0;g=g.name;for(h in f.stored)f.stored[h]&&f.stored[h].name==
g&&l++;if(l<k)return;for(l=0;l<Math.abs(d.data.amount);l++)for(h in f.stored)if(f.stored[h]&&f.stored[h].name==g){console.log("gettin rid"+l);user.stored[h]=null;break}}Inventory&&Inventory.gb();Equipment&&Equipment.gb()},l,m]);break;case "Modify Player Stats":l=g;m=h;d.push([function(a,c){var d=e[a].responses[c];if(ObjectLists.Ef()[d.data.skill]){var f=ObjectLists.Ef()[d.data.skill].name;T.LC(f,d.data.level);T.KC(f,d.data.health);T.MC(f,d.data.xp)}},l,m]);break;case "Show Sign":l=g;m=h;d.push([function(a,
c){var d=e[a].responses[c];K.mX(d.data.title,d.data.content)},l,m]);break;case "Set Quest Point":l=g;m=h;d.push([function(a,c){var d=e[a].responses[c];Q.t.W.AD(d.data.quest,d.data.objective)},l,m]);break;case "Warp Player":l=g;m=h;d.push([function(a,c){var d=e[a].responses[c],f=d.data.index%O,g=Math.floor(d.data.index/O);Q.t.W.l(32*f,32*g);z({changemap:d.data.mapnum,setTo:d.data.index});U.cn(d.data.mapnum);U.ml(32*f,32*g)},l,m]);break;case "Open/Close Panel":l=g;m=h;d.push([function(a,c){var d=e[a].responses[c],
f=1==d.data.visible?!0:!1;switch(d.data.panel){case 0:null==Inventory||Inventory.da||(Inventory=null);!0==f?Inventory?Inventory.gb():(Inventory=new InventoryPanel,Inventory.v(),Inventory.sa(),K.g(Inventory)):Inventory&&(Inventory.Ia(),Inventory.R(),Inventory=null);break;case 1:null==Equipment||Equipment.da||(Equipment=null);!0==f?Equipment?Equipment.gb():(Equipment=new EquipmentPanel,Equipment.v(),Equipment.sa(),K.g(Equipment)):Equipment&&(Equipment.Ia(),Equipment.R(),Equipment=null);break;case 2:null==
Skills||Skills.da||(Skills=null),!0==f?Skills?Skills.gb():(Skills=new SkillsPanel,Skills.v(),Skills.sa(),K.g(Skills)):Skills&&(Skills.Ia(),Skills.R(),Skills=null)}},l,m]);break;case "Destroy":l=g,m=h,item=null,Inventory&&Inventory.gb(),h=k.length}for(g=0;g<d.length;g++)d[g][0](d[g][1],d[g][2]),d.splice(g,1),g--})}
function Ga(a,c,d){var e=[];K.Ld(function(){var f=[],g=Q.t.W.items;c&&(c.script&&ObjectLists.Df()[c.script]&&(f=ObjectLists.Df()[c.script].data),c.storedobj&&(storedobj=c.storedobj));for(var k=0;k<f.length;k++)if(f[k].type==a){for(var h=f[k].requirements,l=!0,m=0;m<h.length;m++)switch(h[m].type){case "Is Quest Point":var n=Q.t.W.pi(h[m].data.quest);n||(n=0);if(n!=h[m].data.objective){l=!1;break}break;case "Script Requirement":var n=J(Q.t.W.Cp(c.script)),p=!0;n||(n={});try{var t=h[m].data.functionContent.replace(/,/g,
"").split(":"),u="{",w;for(w in t)u=0==w%2?u+('"'+t[w]+'":'):w!=t.length-1?u+('"'+t[w]+'",'):u+('"'+t[w]+'"');var u=u+"}",D=JSON.parse(u);for(w in D)n[w]||(n[w]="null"),n[w]!=D[w]&&(p=!1);if(!1==p){l=!1;break}}catch(G){R.ob("your custom require script failed");l=!1;break}break;case "Is Panel Visibility":if(d&&d["Is Panel Visibility"])break;n=1==h[m].data.visible?!0:!1;switch(h[m].data.panel){case 0:null==Inventory||Inventory.da||(Inventory=null);if(Inventory&&!n){l=!1;break}if(!Inventory&&n){l=!1;
break}break;case 1:null==Equipment||Equipment.da||(Equipment=null);if(Equipment&&!n){l=!1;break}if(!Equipment&&n){l=!1;break}break;case 2:null==Skills||Skills.da||(Skills=null);if(Skills&&!n){l=!1;break}!Skills&&n&&(l=!1)}break;case "Is Player Inventory Space":if(d&&d["Is Player Inventory Space"])break;p=h[m].data.space?h[m].data.space:0;for(u=n=0;40>u;u++)g.stored[u]||n++;if(n<p){l=!1;break}break;case "Has Player Item":if(d&&d["Has Player Item"])break;if(h[m].data.item){p=h[m].data.amount?h[m].data.amount:
0;n=0;u=ObjectLists.Ig()[h[m].data.item].name;for(w in g.stored)g.stored[w]&&g.stored[w].name==u&&n++;if(n<p){l=!1;break}}break;case "Is Player Statistics":if(d&&d["Is Player Statistics"])break;n=ObjectLists.Ef()[h[m].data.skill].name;h[m].data.levelUpper||(h[m].data.levelUpper=0);h[m].data.levelLower||(h[m].data.levelLower=0);h[m].data.healthUpper||(h[m].data.healthUpper=0);h[m].data.healthLowe||(h[m].data.healthLower=0);h[m].data.xpUpper||(h[m].data.xpUpper=0);h[m].data.xpLower||(h[m].data.xpLower=
0);if(0!=h[m].data.levelUpper||0!=h[m].data.levelLower)if(p=SkillBarsInstance.ec[n].level+1,p>h[m].data.levelUpper||p<h[m].data.levelLower){l=!1;break}if(0!=h[m].data.healthUpper||0!=h[m].data.healthLower)if(p=SkillBarsInstance.ec[n].currenthealth,p>h[m].data.healthUpper||p<h[m].data.healthLower){l=!1;break}if(0!=h[m].data.xpUpper||0!=h[m].data.xpLower)if(p=SkillBarsInstance.ec[n].experience,p>h[m].data.xpUpper||p<h[m].data.xpLower)l=!1}if(l)for(h=f[k].responses,m=0;m<h.length;m++)switch(h[m].type){case "Script Response":l=
k,n=m,e.push([function(a,d){var e=J(Q.t.W.Cp(c.script));e||(e={});try{var g=f[a].responses[d].data.functionContent.replace(/,/g,"").split(":"),k="{",h;for(h in g)k=0==h%2?k+('"'+g[h]+'":'):h!=g.length-1?k+('"'+g[h]+'",'):k+('"'+g[h]+'"');var l=JSON.parse(k+"}"),e=Da(e,l);Q.t.W.tD(c.script,J(e))}catch(m){R.ob("Your custom response script failed")}},l,n]);case "Equip Item":if(d&&d["Equip Item"])break;l=k;n=m;e.push([function(a,d){var e=f[a].responses[d].data.equip;"bothArms"==e&&(e="lArm",g.equipped.rArm||
(e="rArm"));var k=null;g.equipped[e]&&(k=J(g.equipped[e]),Ga("On Dequip",k));g.equipped[e]=J(c);c=k;Inventory&&Inventory.gb();Equipment&&Equipment.gb()},l,n]);break;case "Give /Take Item":if(d&&d["Give /Take Item"])break;if(!h[m].data.amount||null==h[m].data.item||"undefined"==h[m].data.item)break;l=k;n=m;e.push([function(a,c){var d=f[a].responses[c],e=ObjectLists.Ig()[d.data.item];if(0<d.data.amount){var k=d.data.amount;if(!0==e.stackable){for(var h=0;40>h;h++)g.stored[h]&&g.stored[h].name==e.name&&
(k=0);0!=l&&(k=1)}else for(var l=0,h=0;40>h;h++)g.stored[h]||l++;if(l<k)return;if(!0==e.stackable){l=!1;for(h=0;40>h;h++)if(g.stored[h]&&g.stored[h].name==e.name){g.stored[h].amount+=d.data.amount;Inventory&&Inventory.Wg(h,g.stored[h].amount);l=!0;break}if(!1==l)for(h=0;40>h;h++)if(!g.stored[h]){g.stored[h]=J(e);g.stored[h].amount=d.data.amount;Inventory&&Inventory.Wg(h,g.stored[h].amount);break}}else for(l=0;l<d.data.amount;l++)for(h=0;40>h;h++)if(!g.stored[h]){g.stored[h]=J(e);break}}else if(0>
d.data.amount){k=Math.abs(d.data.amount);l=0;e=e.name;for(h in g.stored)g.stored[h]&&g.stored[h].name==e&&l++;if(l<k)return;for(l=0;l<Math.abs(d.data.amount);l++)for(h in g.stored)if(g.stored[h]&&g.stored[h].name==e){console.log("gettin rid"+l);user.stored[h]=null;break}}Inventory&&Inventory.gb();Equipment&&Equipment.gb()},l,n]);break;case "Modify Player Stats":if(d&&d["Modify Player Stats"])break;l=k;n=m;e.push([function(a,c){var d=f[a].responses[c];if(ObjectLists.Ef()[d.data.skill]){var e=ObjectLists.Ef()[d.data.skill].name;
T.LC(e,d.data.level);T.KC(e,d.data.health);T.MC(e,d.data.xp)}},l,n]);break;case "Set Quest Point":if(d&&d["Set Quest Point"])break;l=k;n=m;e.push([function(a,c){var d=f[a].responses[c];Q.t.W.AD(d.data.quest,d.data.objective)},l,n]);break;case "Warp Player":if(d&&d["Warp Player"])break;l=k;n=m;e.push([function(a,c){var d=f[a].responses[c],e=d.data.index%O,g=Math.floor(d.data.index/O);Q.t.W.l(32*e,32*g);z({changemap:d.data.mapnum,setTo:d.data.index});U.cn(d.data.mapnum);U.ml(32*e,32*g)},l,n]);break;
case "Read Item":if(d&&d["Read Item"])break;l=k;n=m;e.push([function(a,d){K.iX(c.name,f[a].responses[d].data.say)},l,n]);break;case "Open/Close Panel":if(d&&d["Open/Close Panel"])break;l=k;n=m;e.push([function(a,c){var d=f[a].responses[c],e=1==d.data.visible?!0:!1;switch(d.data.panel){case 0:null==Inventory||Inventory.da||(Inventory=null);!0==e?Inventory?Inventory.gb():(Inventory=new InventoryPanel,Inventory.v(),Inventory.sa(),K.g(Inventory)):Inventory&&(Inventory.Ia(),Inventory.R(),Inventory=null);
break;case 1:null==Equipment||Equipment.da||(Equipment=null);!0==e?Equipment?Equipment.gb():(Equipment=new EquipmentPanel,Equipment.v(),Equipment.sa(),K.g(Equipment)):Equipment&&(Equipment.Ia(),Equipment.R(),Equipment=null);break;case 2:null==Skills||Skills.da||(Skills=null),!0==e?Skills?Skills.gb():(Skills=new SkillsPanel,Skills.v(),Skills.sa(),K.g(Skills)):Skills&&(Skills.Ia(),Skills.R(),Skills=null)}},l,n]);break;case "Destroy":if(d&&d.Destroy)break;l=k;n=m;c=null;Inventory&&Inventory.gb();m=h.length}}for(w=
0;w<e.length;w++)e[w][0](e[w][1],e[w][2]),e.splice(w,1),w--})}
function Ha(a,c){var d=[];K.Ld(function(){var e=[],f=Q.t.W.items;c&&c.ed&&(e=ObjectLists.Df()[c.ed].data);console.log(a);for(var g=0;g<e.length;g++)if(e[g].type==a){for(var k=e[g].requirements,h=!0,l=0;l<k.length;l++)switch(k[l].type){case "Is Quest Point":console.log("Is Quest Point");var m=Q.t.W.pi(k[l].data.quest);m||(m=0);if(m!=k[l].data.objective){h=!1;break}break;case "Script Requirement":console.log("SCRIPT REQUIRE);");var m=J(Q.t.W.Cp(c.ed)),n=!0;m||(m={});try{var p=k[l].data.functionContent.replace(/,/g,
"").split(":"),t="{",u;for(u in p)t=0==u%2?t+('"'+p[u]+'":'):u!=p.length-1?t+('"'+p[u]+'",'):t+('"'+p[u]+'"');var t=t+"}",w=JSON.parse(t);for(u in w)m[u]||(m[u]="null"),m[u]!=w[u]&&(n=!1);if(!1==n){h=!1;break}}catch(D){R.ob("your custom require script failed");h=!1;break}break;case "Is Panel Visibility":m=1==k[l].data.visible?!0:!1;switch(k[l].data.panel){case 0:null==Inventory||Inventory.da||(Inventory=null);if(Inventory&&!m){h=!1;break}if(!Inventory&&m){h=!1;break}break;case 1:null==Equipment||
Equipment.da||(Equipment=null);if(Equipment&&!m){h=!1;break}if(!Equipment&&m){h=!1;break}break;case 2:null==Skills||Skills.da||(Skills=null);if(Skills&&!m){h=!1;break}!Skills&&m&&(h=!1)}break;case "Is Player Inventory Space":n=k[l].data.space?k[l].data.space:0;for(t=m=0;40>t;t++)f.stored[t]||m++;if(m<n){h=!1;break}break;case "Has Player Item":if(k[l].data.item){n=k[l].data.amount?k[l].data.amount:0;m=0;t=ObjectLists.Ig()[k[l].data.item].name;for(u in f.stored)f.stored[u]&&f.stored[u].name==t&&m++;
if(m<n){h=!1;break}}break;case "Is Player Statistics":m=ObjectLists.Ef()[k[l].data.skill].name;k[l].data.levelUpper||(k[l].data.levelUpper=0);k[l].data.levelLower||(k[l].data.levelLower=0);k[l].data.healthUpper||(k[l].data.healthUpper=0);k[l].data.healthLowe||(k[l].data.healthLower=0);k[l].data.xpUpper||(k[l].data.xpUpper=0);k[l].data.xpLower||(k[l].data.xpLower=0);if(0!=k[l].data.levelUpper||0!=k[l].data.levelLower)if(n=SkillBarsInstance.ec[m].level+1,n>k[l].data.levelUpper||n<k[l].data.levelLower){h=
!1;break}if(0!=k[l].data.healthUpper||0!=k[l].data.healthLower)if(n=SkillBarsInstance.ec[m].currenthealth,n>k[l].data.healthUpper||n<k[l].data.healthLower){h=!1;break}if(0!=k[l].data.xpUpper||0!=k[l].data.xpLower)if(n=SkillBarsInstance.ec[m].experience,n>k[l].data.xpUpper||n<k[l].data.xpLower)h=!1}if(!0==h)for(k=e[g].responses,l=0;l<k.length;l++)switch(k[l].type){case "Script Response":h=g;m=l;d.push([function(a,d){var f=J(Q.t.W.Cp(c.ed));f||(f={});try{var g=e[d].responses[a].data.functionContent.replace(/,/g,
"").split(":"),k="{",h;for(h in g)k=0==h%2?k+('"'+g[h]+'":'):h!=g.length-1?k+('"'+g[h]+'",'):k+('"'+g[h]+'"');var l=JSON.parse(k+"}"),f=Da(f,l);Q.t.W.tD(c.ed,J(f))}catch(m){R.ob("Your custom response script failed")}},h,m]);break;case "Talk":h=g;m=l;d.push([function(a,d){var f=e[a].responses[d];K.kX(c,e,a,c.name,f.data.say,f.data.options)},h,m]);break;case "Give /Take Item":if(!k[l].data.amount||null==k[l].data.item||"undefined"==k[l].data.item)break;h=g;m=l;d.push([function(a,c){var d=e[a].responses[c],
g=ObjectLists.Ig()[d.data.item];if(0<d.data.amount){var k=d.data.amount;if(!0==g.stackable){for(var h=0;40>h;h++)f.stored[h]&&f.stored[h].name==g.name&&(k=0);0!=l&&(k=1)}else for(var l=0,h=0;40>h;h++)f.stored[h]||l++;if(l<k)return;if(!0==g.stackable){l=!1;for(h=0;40>h;h++)if(f.stored[h]&&f.stored[h].name==g.name){f.stored[h].amount+=d.data.amount;Inventory&&Inventory.Wg(h,f.stored[h].amount);l=!0;break}if(!1==l)for(h=0;40>h;h++)if(!f.stored[h]){f.stored[h]=J(g);f.stored[h].amount=d.data.amount;Inventory&&
Inventory.Wg(h,f.stored[h].amount);break}}else for(l=0;l<d.data.amount;l++)for(h=0;40>h;h++)if(!f.stored[h]){f.stored[h]=J(g);break}}else if(0>d.data.amount){k=Math.abs(d.data.amount);l=0;g=g.name;for(h in f.stored)f.stored[h]&&f.stored[h].name==g&&l++;if(l<k)return;for(l=0;l<Math.abs(d.data.amount);l++)for(h in f.stored)if(f.stored[h]&&f.stored[h].name==g){console.log("gettin rid"+l);user.stored[h]=null;break}}Inventory&&Inventory.gb();Equipment&&Equipment.gb()},h,m]);break;case "Modify Player Stats":h=
g;m=l;d.push([function(a,c){var d=e[a].responses[c];if(ObjectLists.Ef()[d.data.skill]){var f=ObjectLists.Ef()[d.data.skill].name;T.LC(f,d.data.level);T.KC(f,d.data.health);T.MC(f,d.data.xp)}},h,m]);break;case "Set Quest Point":h=g;m=l;d.push([function(a,c){var d=e[a].responses[c];Q.t.W.AD(d.data.quest,d.data.objective)},h,m]);break;case "Warp Player":h=g;m=l;d.push([function(a,c){var d=e[a].responses[c],f=d.data.index%O,g=Math.floor(d.data.index/O);Q.t.W.l(32*f,32*g);z({changemap:d.data.mapnum,setTo:d.data.index});
U.cn(d.data.mapnum);U.ml(32*f,32*g)},h,m]);break;case "Open/Close Panel":h=g,m=l,d.push([function(a,c){var d=e[a].responses[c],f=1==d.data.visible?!0:!1;switch(d.data.panel){case 0:null==Inventory||Inventory.da||(Inventory=null);!0==f?Inventory?Inventory.gb():(Inventory=new InventoryPanel,Inventory.v(),Inventory.sa(),K.g(Inventory)):Inventory&&(Inventory.Ia(),Inventory.R(),Inventory=null);break;case 1:null==Equipment||Equipment.da||(Equipment=null);!0==f?Equipment?Equipment.gb():(Equipment=new EquipmentPanel,
Equipment.v(),Equipment.sa(),K.g(Equipment)):Equipment&&(Equipment.Ia(),Equipment.R(),Equipment=null);break;case 2:null==Skills||Skills.da||(Skills=null),!0==f?Skills?Skills.gb():(Skills=new SkillsPanel,Skills.v(),Skills.sa(),K.g(Skills)):Skills&&(Skills.Ia(),Skills.R(),Skills=null)}},h,m])}}for(u=0;u<d.length;u++)d[u][0](d[u][1],d[u][2]),d.splice(u,1),u--})};var V=q.La.extend({t:null,Db:function(a){return(a=s.localStorage.getItem("last_"+a))?a:null},pk:function(a,c){return(c=s.localStorage.setItem("last_"+a,c))?c:null}}),W=null;V.hy=function(){W||(W=new V);return W};V.f=function(){return W};V.FW=function(a,c){var d=s.localStorage.getItem("panelStore");"null"==d||null==d?(console.log("NEW PANEL STORE"),d={}):d=JSON.parse(d);d[a]={x:c.x,y:c.y};s.localStorage.setItem("panelStore",JSON.stringify(d))};V.BS=function(){return s.localStorage.getItem("panelStore")};
V.qS=function(a){if(W.Db("maps")){if(a){var c=JSON.parse(s.localStorage.getItem("map_data"));return c[a]?c[a]:null}}else return[]};V.vL=function(a,c){W.pk("maps",c);s.localStorage.setItem("map_data",JSON.stringify(a))};V.ZQ=function(a,c,d){var e=W.Db("maps")?JSON.parse(s.localStorage.getItem("map_data")):[];e[a]=c;V.vL(e,d)};V.pI=function(){if(W.Db("scripts")){if(""!=s.localStorage.getItem("scripts_data"))var a=JSON.parse(s.localStorage.getItem("scripts_data"));return a?a:[]}return[]};
V.AL=function(a,c){W.pk("scripts",c);s.localStorage.setItem("scripts_data",JSON.stringify(a))};V.dR=function(a,c,d){var e=W.Db("scripts")?""!=s.localStorage.getItem("scripts_data")?JSON.parse(s.localStorage.getItem("scripts_data")):[]:[];e[a]=c;V.AL(e,d)};V.aV=function(a,c){scriptarray=a;V.Rx(scriptarray,c)};V.WS=function(){if(W.Db("warps")){if(""!=s.localStorage.getItem("warps_data"))var a=JSON.parse(s.localStorage.getItem("warps_data"));return a?a:[]}return[]};
V.Rx=function(a,c){W.pk("warps",c);s.localStorage.setItem("warps_data",JSON.stringify(a))};V.hR=function(a,c,d){var e=W.Db("warps")?""!=s.localStorage.getItem("warps_data")?JSON.parse(s.localStorage.getItem("warps_data")):[]:[];e[a]=c;V.Rx(e,d)};V.dV=function(a,c){warparray=a;V.Rx(warparray,c)};V.oS=function(){if(W.Db("items")){if(""!=s.localStorage.getItem("items_data"))var a=JSON.parse(s.localStorage.getItem("items_data"));return a?a:[]}return[]};
V.it=function(a,c){W.pk("items",c);s.localStorage.setItem("items_data",JSON.stringify(a))};V.YQ=function(a,c,d){var e=W.Db("items")?""!=s.localStorage.getItem("items_data")?JSON.parse(s.localStorage.getItem("items_data")):[]:[];e[a]=c;V.it(e,d)};V.YU=function(a,c){itemsarray=a;V.it(itemsarray,c)};V.MS=function(){if(W.Db("skills")){if(""!=s.localStorage.getItem("skills_data"))var a=JSON.parse(s.localStorage.getItem("skills_data"));return a?a:[]}return[]};
V.bE=function(a,c){W.pk("skills",c);s.localStorage.setItem("skills_data",JSON.stringify(a))};V.fR=function(a,c,d){var e=W.Db("skills")?""!=s.localStorage.getItem("skills_data")?JSON.parse(s.localStorage.getItem("skills_data")):[]:[];e[a]=c;V.bE(e,d)};V.cV=function(a,c){skillarray=a;V.bE(skillarray,c)};V.KS=function(){if(W.Db("signs")){if(""!=s.localStorage.getItem("signs_data"))var a=JSON.parse(s.localStorage.getItem("signs_data"));return a?a:[]}return[]};
V.Qx=function(a,c){W.pk("signs",c);s.localStorage.setItem("signs_data",JSON.stringify(a))};V.eR=function(a,c,d){var e=W.Db("signs")?""!=s.localStorage.getItem("signs_data")?JSON.parse(s.localStorage.getItem("signs_data")):[]:[];e[a]=c;V.Qx(e,d)};V.bV=function(a,c){signarray=a;V.Qx(signarray,c)};V.wS=function(){if(W.Db("npcs")){if(""!=s.localStorage.getItem("npcs_data"))var a=JSON.parse(s.localStorage.getItem("npcs_data"));return a?a:[]}return[]};
V.wL=function(a,c){W.pk("npcs",c);s.localStorage.setItem("npcs_data",JSON.stringify(a))};V.$Q=function(a,c,d){var e=W.Db("npcs")?""!=s.localStorage.getItem("npcs_data")?JSON.parse(s.localStorage.getItem("npcs_data")):[]:[];e[a]=c;V.wL(e,d)};V.ZU=function(a,c){npcsarray=a;V.Qx(npcsarray,c)};V.pi=function(){if(W.Db("quests")){if(""!=s.localStorage.getItem("quests_data"))var a=JSON.parse(s.localStorage.getItem("quests_data"));return a?a:[]}return[]};
V.$D=function(a,c){W.pk("quests",c);s.localStorage.setItem("quests_data",JSON.stringify(a))};V.cR=function(a,c,d){var e=W.Db("quests")?""!=s.localStorage.getItem("quests_data")?JSON.parse(s.localStorage.getItem("quests_data")):[]:[];e[a]=c;V.$D(e,d)};V.$U=function(a,c){questsarray=a;V.$D(questsarray,c)};V.hC=function(){if(W.Db("settings")){if(""!=s.localStorage.getItem("settings_data"))var a=JSON.parse(s.localStorage.getItem("settings_data"));return a?a:[]}return[]};
V.aE=function(a,c){W.pk("settings",c);s.localStorage.setItem("settings_data",JSON.stringify(a))};
V.UL=function(){s.localStorage.setItem("map_data",[]);s.localStorage.setItem("last_maps",0);s.localStorage.setItem("warps_data",[]);s.localStorage.setItem("last_warps",0);s.localStorage.setItem("items_data",[]);s.localStorage.setItem("last_items",0);s.localStorage.setItem("skills_data",[]);s.localStorage.setItem("last_skills",0);s.localStorage.setItem("signs_data",[]);s.localStorage.setItem("last_signs",0);s.localStorage.setItem("npcs_data",[]);s.localStorage.setItem("last_npcs",0);s.localStorage.setItem("quests_data",
[]);s.localStorage.setItem("last_quests",0);s.localStorage.setItem("settings_data",[]);s.localStorage.setItem("last_settings",0);s.localStorage.setItem("scripts_data",[]);s.localStorage.setItem("last_scripts",0);s.localStorage.setItem("panelStore",null)};
V.eN=function(){z({sync:!0,mapupdate:null!=W.Db("maps")?W.Db("maps"):2,warpupdate:null!=W.Db("warps")?W.Db("warps"):2,itemupdate:null!=W.Db("items")?W.Db("items"):2,skillsupdate:null!=W.Db("skills")?W.Db("skills"):2,signsupdate:null!=W.Db("signs")?W.Db("signs"):2,npcsupdate:null!=W.Db("npcs")?W.Db("npcs"):2,questsupdate:null!=W.Db("quests")?W.Db("quests"):2,settingsupdate:null!=W.Db("settings")?W.Db("settings"):2,scriptsupdate:null!=W.Db("scripts")?W.Db("scripts"):2})};
V.rW=function(a){!0!=a&&!1!=a||s.localStorage.setItem("mapedit_saveonexit",a)};V.rS=function(){return null==s.localStorage.getItem("mapedit_saveonexit")?!1:s.localStorage.getItem("mapedit_saveonexit")};V.PW=function(a,c){s.localStorage.setItem("savedcredentials",JSON.stringify({user:a,pass:c}))};V.gK=function(a){s.localStorage.setItem("autologin",JSON.stringify(a))};V.XI=function(){var a=s.localStorage.getItem("autologin");return null!=a?JSON.parse(a):!1};
V.cJ=function(){return s.localStorage.getItem("savedcredentials")?!0:!1};V.QS=function(){var a=s.localStorage.getItem("savedcredentials");return a?JSON.parse(a):!1};ListView=q.Lh.extend({sl:null,o:null,ww:null,Yw:!1,gg:null,lj:null,kL:null,gD:function(){if(this.o){this.lj&&(this.lj.R(),this.gg.R());var a=this.o.Hc();a.height<this.o.c().height&&(a=this.o.c(),this.Yw=!0);this.sl=[];for(var c=0,d=0;d<this.o.Bc();d++){var e=this.o.Tc(d),c=c+e.height;this.sl[d]=q.F.create();this.sl[d].Q(e);this.sl[d].l(q.a(0,a.height-c));this.sl[d].D(q.a(0,1));this.g(this.sl[d]);this.sl[d].g(this.o.Sc(d))}this.Zp(-300);this.ID(0);!1==this.Yw&&(this.lj=q.w.create(),this.lj.jb(q.rect(0,
0,1,this.o.c().height)),this.lj.r(q.j(0,0,0,255)),this.lj.D(q.a(0,0)),this.lj.l(q.a(this.o.c().width+20,0)),this.gg=q.w.create(),this.gg.D(q.a(0,0)),this.gg.jb(q.rect(0,0,20,this.o.c().height/5)),this.gg.r(q.j(90,90,255,255)),this.gg.l(q.a(this.o.c().width+10,0)),this.o.g(this.lj),this.o.g(this.gg),this.Gl(q.a(0,this.Ms().y),!1));this.o.l(this.kL)}},v:function(a){this.o=a;this.D(q.a(0,0));this.kL=q.a(a.u.I,a.u.N);this.Lp(this.o.c(),this.o);this.lK(q.mq);this.UV(!1);a=this.o.Hc();var c=q.F.create();
c.Q(a);this.YV(c)},Wc:function(a){this.ww=a},lD:!1,nx:null,wc:function(a){if(!this.o.mi)return!1;for(var c=0;c<this.o.Bc();c++)this.o.mi(c).r(q.j(255,255,255,255));this.o.mi(a).r(q.j(255,0,0,255))},Eb:function(a){for(var c=a.S,d=0;d<this.o.Bc();d++)for(var e in this.ww[d]){var f=this.sl[d].Ma(c),g=this.o.Ma(c);g.x+=this.o.u.I;I(this.o,g);if(I(this.ww[d][e],f))return this.o.$b(this.ww[d][e].vb,d,a),this.lD=!0}if(!1==this.Yw){a=this.o.Ma(c);if(I(this.gg,a))return this.nx=a.y-this.gg.u.N,!0;console.log("TURNING OFF SCROLOL");
this.nx=null}},Id:function(a){if(!0==this.lD)return this.lD=!1;if(!1==this.Yw){var c=a.S;if(null!=this.nx&&(c=this.o.Ma(c),c.y-=this.nx,0<=c.y&&c.y+this.gg.c().height<=this.o.c().height))return a=c.y/(this.lj.c().height-this.gg.c().height),this.Gl(q.a(0,this.kn().y*a),!1),this.gg.Jc(c.y),!0;c=this._super(a);a=this.dI().y/this.kn().y;this.gg.Jc((this.lj.c().height-this.gg.c().height)*a);return c}}});ListView.create=function(a){var c=new ListView;c.v(a);c.gD();return c};var za=q.F.extend({Ce:null,De:null,Kg:null,Fe:null,Ge:null,Zd:null,item:null,we:null,xe:null,ye:null,position:null,string:null,type:null,ed:null,ctor:function(){this._super()},v:function(){this._super();this.string=q.U.create("","Arial",16);this.string.D(0.5,0.5);this.string.l(16,-16);this.string.ta(0);this.string.r(q.n(0,0,0));this.g(this.string,900);this.item=[]},CQ:function(a){this.Cn(a.sprite.texture,a.sprite.position,"item");for(var c=0;c<ObjectLists.Ig().length&&a.name!=ObjectLists.Ig()[c].name;c++);
},JJ:function(){this.ed[this.ed.length-1].temp&&(this.item[this.item.length-1].R(),this.item.splice(this.item.length-1,1),this.g9())},Cn:function(a,c,d){a=q.w.Sa(q.ja.f().pa(a));a.jb(q.rect(Math.floor(M*c.x),Math.floor(M*c.y),M,M));a.r(q.j(255,255,255,255));a.D(0,1);switch(d){case "ground1":null!=this.Ce&&this.Ce.R();this.Ce=a;this.g(this.Ce);break;case "ground2":null!=this.De&&this.De.R();this.De=a;this.g(this.De,1);break;case "ground3":null!=this.Kg&&this.Kg.R();this.Kg=a;this.g(this.Kg,2);break;
case "mask1":null!=this.Fe&&this.Fe.R();this.Fe=a;this.g(this.Fe,3);break;case "mask2":null!=this.Ge&&this.Ge.R();this.Ge=a;this.g(this.Ge,4);break;case "mask3":null!=this.Zd&&this.Zd.R();this.Zd=a;this.g(this.Zd,5);break;case "item":this.item.push(a);this.g(this.item[this.item.length-1],6);break;case "fringe1":null!=this.we&&this.we.R();this.we=a;this.g(this.we,7);break;case "fringe2":null!=this.xe&&this.xe.R();this.xe=a;this.g(this.xe,8);break;case "fringe3":null!=this.ye&&this.ye.R(),this.ye=a,
this.g(this.ye,10)}},Mg:function(){var a=!0;if(null!=this.Ce&&this.Ce.ia()&&!1==this.Ce.ia().Dc)a=!1;else if(null!=this.De&&this.De.ia()&&!1==this.De.ia().Dc)a=!1;else if(null!=this.Kg&&this.Kg.ia()&&!1==this.Kg.N5)a=!1;else if(null!=this.Fe&&this.Fe.ia()&&!1==this.Fe.ia().Dc)a=!1;else if(null!=this.Ge&&this.Ge.ia()&&!1==this.Ge.ia().Dc)a=!1;else if(null!=this.Zd&&this.Zd.ia()&&!1==this.Zd.ia().Dc)a=!1;else if(0<this.item.length)for(var c in this.item)this.item[c].ia()&&!1==this.item[c].ia().Dc&&
(a=!1);else null!=this.we&&this.we.ia()&&!1==this.we.ia().Dc?a=!1:null!=this.xe&&this.xe.ia()&&!1==this.xe.ia().Dc?a=!1:null!=this.ye&&this.ye.ia()&&!1==this.ye.ia().Dc&&(a=!1);return a},cf:function(){null!=this.Ce&&this.Ce.R();this.Ce=null;null!=this.De&&this.De.R();this.De=null;null!=this.Kg&&this.Kg.R();this.Kg=null;null!=this.Fe&&this.Fe.R();this.Fe=null;null!=this.Ge&&this.Ge.R();this.Ge=null;null!=this.Zd&&this.Zd.R();this.Zd=null;for(var a=0;a<this.item.length;a++)this.item[a].R();this.item=
[];this.Zd=null;null!=this.we&&this.we.R();this.we=null;null!=this.xe&&this.xe.R();this.xe=null;null!=this.ye&&this.ye.R();this.ed=this.ye=null;this.item=[]},RB:function(a){switch(a){case "ground1":null!=this.Ce&&this.Ce.R();this.Ce=null;break;case "ground2":null!=this.De&&this.De.R();this.De=null;break;case "ground3":null!=this.Kg&&this.Kg.R();this.Kg=null;break;case "mask1":null!=this.Fe&&this.Fe.R();this.Fe=null;break;case "mask2":null!=this.Ge&&this.Ge.R();this.Ge=null;break;case "mask3":null!=
this.Zd&&this.Zd.R();this.Zd=null;break;case "item":for(a=0;a<this.item.length;a++)this.item[a].R(),this.item[a].splice(a,1),a--;this.item=[];break;case "fringe1":null!=this.we&&this.we.R();this.we=null;break;case "fringe2":null!=this.xe&&this.xe.R();this.xe=null;break;case "fringe3":null!=this.ye&&this.ye.R(),this.ye=null}},CD:function(a){if(!c)var c=!1;this.ed=a;ObjectLists.Df()[a]?this.string.ra(ObjectLists.Df()[a].abbr):this.string.ra("_")},JR:function(){this.ed=null;this.string.ra("")},fk:function(){return ObjectLists.Df()[this.ed]},
q5:function(){return this.ed},UW:function(a){this.string.ta(!0==a?255:0)}});za.hy=function(a,c){var d=new za;d.v();d.position=q.a(a,c);return d};StatsController=q.w.extend({data:null,Ww:null,o:null,v:function(a,c){this.data=a;this.o=c;this.IV()},update:function(){for(var a in this.data)this.Ww&&(0==this.data[a].value&&0<this.Ww[a]&&this.o.sba(a),this.data[a].Uc>this.Ww[a].Uc&&this.o.uba(a)),this.Ww[a]=this.data[a]},F5:function(a){return this.data[a].value},E5:function(a){return this.data[a].Uc},d8:function(a,c){this.data[a].value+=c;this.data[a].value>this.data[a].bg&&(this.data[a].value=this.data[a].bg);0>this.data[a].value&&(this.data[a].value=
0)},gR:function(a,c){this.data[a].value=c;this.data[a].value>this.data[a].bg&&(this.data[a].value=this.data[a].bg);0>this.data[a].value&&(this.data[a].value=0)},c8:function(a,c){this.data[a].Uc+=c;this.data[a].Uc>this.data[a].ag&&(this.data[a].Uc=this.data[a].ag);0>this.data[a].Uc&&(this.data[a].Uc=0)},gR:function(a,c){this.data[a].Uc=c;this.data[a].Uc>this.data[a].ag&&(this.data[a].Uc=this.data[a].ag);0>this.data[a].Uc&&(this.data[a].Uc=0)},B1:function(a,c){this.data[a].ag=c},C1:function(a,c){this.data[a].bg=
c}});ObjectLists=q.La.extend({iE:null,HC:null,QD:null,PD:null,NC:null,$C:null,pD:null});var X;ObjectLists.f=function(){X||(X=new ObjectLists,X.iE=V.WS(),X.HC=V.oS(),X.QD=V.MS(),X.PD=V.KS(),X.NC=V.wS(),X.$C=V.pi(),X.pD=V.pI());return X};ObjectLists.zI=function(){return X.iE};ObjectLists.cX=function(a){X.iE=a};ObjectLists.Ig=function(){return X.HC};ObjectLists.oW=function(a){X.HC=a};ObjectLists.Ef=function(){return X.QD};ObjectLists.TW=function(a){X.QD=a};ObjectLists.rI=function(){return X.PD};
ObjectLists.SW=function(a){X.PD=a};ObjectLists.Iw=function(){return X.NC};ObjectLists.wW=function(a){X.NC=a};ObjectLists.Gp=function(){return X.$C};ObjectLists.MW=function(a){X.$C=a};ObjectLists.Df=function(){return X.pD};ObjectLists.RW=function(a){X.pD=a};gameMapInstance=null;
var U=q.Kc.extend({Je:null,T:null,Ng:!1,Ln:null,qn:null,WC:null,dn:null,wl:null,tl:null,ul:null,vl:null,O:q.a(0,0),hl:1,Gs:function(a){if("string"===typeof a){if(0==this.T[a].ed)return!0;a=this.T[a].fk()}else{if(0==a.ed)return!0;a=a.fk()}if(a)for(var c=["Will Enter","On Enter"],d=0;d<a.data.length;d++)if(-1<c.indexOf(a.data[d].type)&&Fa(a.data[d].requirements))for(var e=a.data[d].responses,f=0;f<e.length;f++)if("Block Entry"==e[f].type)return!0;return!1},$B:function(a,c){function d(a,c){return{UM:a,
value:c.x+c.y*O,x:c.x,y:c.y,Fw:0,p:0}}function e(a,c){var d=c-1,e=c+1,g=a+1,h=a-1,k=-1<d&&f.T["tile"+P(a,d)]&&!f.Gs("tile"+P(a,d));myS=e<O&&f.T["tile"+P(a,e)]&&!f.Gs("tile"+P(a,e));myE=g<O&&f.T["tile"+P(g,c)]&&!f.Gs("tile"+P(g,c));myW=-1<h&&f.T["tile"+P(h,c)]&&!f.Gs("tile"+P(h,c));result=[];k&&result.push({x:a,y:d});myE&&result.push({x:g,y:c});myS&&result.push({x:a,y:e});myW&&result.push({x:h,y:c});return result}for(var f=this,g=d(null,c),k,h,l,m,n,p=[],t=[],u=[d(null,a)],w=Array(N*O);k=u.length;){h=
N*O;l=-1;for(m=0;m<k;m++)u[m].Fw<h&&(h=u[m].Fw,l=m);h=u.splice(l,1)[0];if(h.value===g.value){l=t[t.push(h)-1];do p.push(q.a(l.x,l.y));while(l=l.UM);w=t=u=[];p.reverse()}else{k=e(h.x,h.y);m=0;for(n=k.length;m<n;m++)l=d(h,k[m]),w[l.value]||(l.p=h.p+(Math.abs(k[m].x-h.x)+Math.abs(k[m].y-h.y)),l.Fw=l.p+(Math.abs(k[m].x-g.x)+Math.abs(k[m].y-g.y)),u.push(l),w[l.value]=!0);t.push(h)}}return p},fX:function(a){this.Je={};this.Je.mapdata={};for(var c in this.T)"tile"==c.substring(0,4)&&(this.T[c].cf(),this.Je[c]=
{});if(a)for(c in this.Je=a,a)if("tile"==c.substring(0,4))for(var d in a[c])"info"!=d?null!=a[c][d]&&this.T[c].Cn(a[c][d].texture,a[c][d].frame,d):null!=a[c][d].script&&"undefined"!==a[c][d].script&&(this.T[c].CD(a[c][d].script),S("On Game Load",tileNodes[c]));else"mapdata"==c&&(this.wl=""!=a[c].mapConnectors.up&&null!=a[c].mapConnectors.up?a[c].mapConnectors.up:null,this.tl=""!=a[c].mapConnectors.down&&null!=a[c].mapConnectors.down?a[c].mapConnectors.down:null,this.ul=""!=a[c].mapConnectors.left&&
null!=a[c].mapConnectors.left?a[c].mapConnectors.left:null,this.vl=""!=a[c].mapConnectors.right&&null!=a[c].mapConnectors.right?a[c].mapConnectors.right:null);this.jc(this.bD)},Jl:function(a){Q.f().G(!1);a=V.qS(a);this.Je={};this.Je.mapdata={};for(var c in this.T)"tile"==c.substring(0,4)&&(this.T[c].cf(),this.Je[c]={});if(a)for(c in this.Je=a,a)if("tile"==c.substring(0,4))for(var d in a[c])"info"!=d?null!=a[c][d]&&this.T[c].Cn(a[c][d].texture,a[c][d].frame,d):null!=a[c][d].script&&"undefined"!==a[c][d].script&&
(this.T[c].CD(a[c][d].script),S("On Game Load",tileNodes[c]));else"mapdata"==c&&(this.wl=""!=a[c].mapConnectors.up&&null!=a[c].mapConnectors.up?a[c].mapConnectors.up:null,this.tl=""!=a[c].mapConnectors.down&&null!=a[c].mapConnectors.down?a[c].mapConnectors.down:null,this.ul=""!=a[c].mapConnectors.left&&null!=a[c].mapConnectors.left?a[c].mapConnectors.left:null,this.vl=""!=a[c].mapConnectors.right&&null!=a[c].mapConnectors.right?a[c].mapConnectors.right:null);this.jc(this.bD)},bD:function(){for(var a in this.T)if("tile"==
a.substring(0,4)&&!1==this.T[a].Mg())return;Q.f().G(!0);Q.rk();this.Yc(this.bD);this.qn.G(!0);this.Ln.G(!0);this.Ng=!0},vc:function(){for(var a={},c=0;c<O;c++)for(var d=0;d<N;d++)a["tile"+(c+d*O)]={size:q.size(M,M),e:q.a(0,0),position:q.a(c*M,(N-d)*M),MT:!0,AX:q.a(d,c),visible:!1};return{panels:{children:a}}},v:function(){this.dc(!0);this.ID(1)},Eb:function(a){!this.dn||Mapeditor&&Mapeditor.da||(this.dn=Mapeditor=null);if(this.dn)for(var c in this.T)"tile"==c.substring(0,4)&&q.lb(this.T[c].ib(),q.a(a.S.x-
this.O.x,a.S.y+M-this.O.y))&&(this.dn.qL(this.T,c),U.jt());else for(c in this.T)if("tile"==c.substring(0,4)&&q.lb(this.T[c].ib(),q.a(a.S.x-this.O.x,a.S.y+M-this.O.y))){var d=Q.t.W.Gc();Q.t.W.LD(this.$B(q.a(Math.floor(d.x),Math.ceil(d.y)),q.a(this.T[c].u.x/M,this.T[c].u.y/M)))}return!0},gi:null,A7:function(a){if(null!=this.o.gi){var c=Q.t.W.Gc(),d=q.a(gameMapInstance.T[gameMapInstance.gi].u.x/M,gameMapInstance.T[gameMapInstance.gi].u.y/M);switch(a){case 0:a=c.x>d.x?c.x-d.x:d.x-c.x;c=c.y>d.y?c.y-d.y:
d.y-c.y;5>Math.sqrt(a*a+c*c)?Q.t.W.SI(gameMapInstance.T[gameMapInstance.gi]):(c=H["Item Out-of-range"]+"",c=c.replace("\x3cITEM\x3e",this.o.T[gameMapInstance.gi].pI().name),R.ob(c));break;case 1:Q.t.W.LD(gameMapInstance.$B(q.a(Math.floor(c.x),Math.ceil(c.y)),d)),this.o.gi=null}}},gba:function(a){if(null!=this.o.gi){var c=Q.t.W.Gc(),d=q.a(gameMapInstance.T[gameMapInstance.gi].u.x/M,gameMapInstance.T[gameMapInstance.gi].u.y/M);switch(a){case 0:a=c.x>d.x?c.x-d.x:d.x-c.x,c=c.y>d.y?c.y-d.y:d.y-c.y,5>Math.sqrt(a*
a+c*c)?Q.t.W.SI(gameMapInstance.T[gameMapInstance.gi]):(c=H["Sign Out-of-range"]+"",c=c.replace("\x3cSIGN\x3e",this.o.T[gameMapInstance.gi].fk().name),R.ob(c))}}},Id:function(a){if(this.dn){for(var c in this.T)"tile"==c.substring(0,4)&&q.lb(this.T[c].ib(),q.a(a.S.x-this.O.x,a.S.y+M-this.O.y))&&(this.dn.qL(this.T,c,"moved"),U.jt());return!0}for(c in this.T)if("tile"==c.substring(0,4)&&q.lb(this.T[c].ib(),q.a(a.S.x-this.O.x,a.S.y+M-this.O.y))){var d=Q.t.W.Gc();Q.t.W.LD(this.$B(q.a(Math.floor(d.x),Math.ceil(d.y)),
q.a(this.T[c].u.x/M,this.T[c].u.y/M)))}},Aa:function(){this._super();if(!0==this.Ng){this.Ln.IB(0,0,0,0);for(var a in this.T)"tile"==a.substring(0,4)&&(this.T[a].G(!0),null!=this.T[a].we&&this.T[a].we.G(!1),null!=this.T[a].xe&&this.T[a].xe.G(!1),null!=this.T[a].aC&&this.T[a].aC.G(!1),null!=this.T[a].ye&&this.T[a].ye.G(!1),this.T[a].Aa(),null!=this.T[a].we&&this.T[a].we.G(!0),null!=this.T[a].xe&&this.T[a].xe.G(!0),null!=this.T[a].aC&&this.T[a].aC.G(!0),null!=this.T[a].ye&&this.T[a].ye.G(!0),this.T[a].G(!1));
this.Ln.end();this.qn.IB(0,0,0,0);for(a in this.T)if("tile"==a.substring(0,4)){this.T[a].G(!0);null!=this.T[a].Ce&&this.T[a].Ce.G(!1);null!=this.T[a].De&&this.T[a].De.G(!1);null!=this.T[a].qC&&this.T[a].qC.G(!1);null!=this.T[a].Fe&&this.T[a].Fe.G(!1);null!=this.T[a].Ge&&this.T[a].Ge.G(!1);null!=this.T[a].Zd&&this.T[a].Zd.G(!1);for(var c=0;c<this.T[a].item.length;c++)this.T[a].item[c].G(!1);this.T[a].Aa();null!=this.T[a].Ce&&this.T[a].Ce.G(!0);null!=this.T[a].De&&this.T[a].De.G(!0);null!=this.T[a].qC&&
this.T[a].qC.G(!0);null!=this.T[a].Fe&&this.T[a].Fe.G(!0);null!=this.T[a].Ge&&this.T[a].Ge.G(!0);null!=this.T[a].Zd&&this.T[a].Zd.G(!0);for(c=0;c<this.T[a].item.length;c++)this.T[a].item[c].G(!0);this.T[a].G(!1)}this.qn.end();this.Ng=!1}}});
U.updateOffset=function(a,c){0<=gameMapInstance.O.x+(L.width-Y.width/2)+a&&Q.t.W.u.x<L.width-Y.width/2&&0>=gameMapInstance.O.x+a&&Q.t.W.u.x>Y.width/2&&(gameMapInstance.O.x+=a);0<=gameMapInstance.O.y+(L.height-Y.height/2)+c&&Q.t.W.u.y<L.height-Y.height/2&&0>=gameMapInstance.O.y+c&&Q.t.W.u.y>Y.height/2&&(gameMapInstance.O.y+=c);L.height<Y.height&&(gameMapInstance.O.y=(Y.height-L.height)/2);L.width<Y.width&&(gameMapInstance.O.x=(Y.width-L.width)/2);gameMapInstance.l(gameMapInstance.O.x,gameMapInstance.O.y)};
U.ml=function(a,c){a=parseInt(a);c=parseInt(c);!0==gameMapInstance.Ng?0==offsetFromPositionScheduledX&&0==offsetFromPositionScheduledY&&(offsetFromPositionScheduledX=a,offsetFromPositionScheduledY=c,gameMapInstance.jc(U.dK)):(gameMapInstance.O.x=a>L.width-Y.width/2?-(L.width-Y.width):a<Y.width/2?0:-(a-Y.width/2),gameMapInstance.O.y=c>L.height-Y.height/2?-(L.height-Y.height):c<Y.height/2?0:-(c-Y.height/2),offsetFromPositionScheduledY=offsetFromPositionScheduledX=0,gameMapInstance.Yc(U.dK),L.height<
Y.height&&(gameMapInstance.O.y=(Y.height-L.height)/2),L.width<Y.width&&(gameMapInstance.O.x=(Y.width-L.width)/2),gameMapInstance.l(gameMapInstance.O.x,gameMapInstance.O.y))};offsetFromPositionScheduledY=offsetFromPositionScheduledX=0;U.dK=function(){U.ml(offsetFromPositionScheduledX,offsetFromPositionScheduledY)};
U.oC=function(){!0==gameMapInstance.Ng?gameMapInstance.jc(U.oC):(gameMapInstance.Yc(U.oC),gameMapInstance.O.x=-(L.width-Y.width),L.height<Y.height&&(gameMapInstance.O.y=(Y.height-L.height)/2),L.width<Y.width&&(gameMapInstance.O.x=(Y.width-L.width)/2),gameMapInstance.l(gameMapInstance.O.x,gameMapInstance.O.y))};
U.nC=function(){!0==gameMapInstance.Ng?gameMapInstance.jc(U.nC):(gameMapInstance.Yc(U.nC),gameMapInstance.O.x=0,L.height<Y.height&&(gameMapInstance.O.y=(Y.height-L.height)/2),L.width<Y.width&&(gameMapInstance.O.x=(Y.width-L.width)/2),gameMapInstance.l(gameMapInstance.O.x,gameMapInstance.O.y))};
U.mC=function(){!0==gameMapInstance.Ng?gameMapInstance.jc(U.mC):(gameMapInstance.Yc(U.mC),gameMapInstance.O.y=-(L.height-Y.height),L.height<Y.height&&(gameMapInstance.O.y=(Y.height-L.height)/2),L.width<Y.width&&(gameMapInstance.O.x=(Y.width-L.width)/2),gameMapInstance.l(gameMapInstance.O.x,gameMapInstance.O.y))};
U.pC=function(){!0==gameMapInstance.Ng?gameMapInstance.jc(U.pC):(gameMapInstance.Yc(U.pC),gameMapInstance.O.y=0,L.height<Y.height&&(gameMapInstance.O.y=(Y.height-L.height)/2),L.width<Y.width&&(gameMapInstance.O.x=(Y.width-L.width)/2),gameMapInstance.l(gameMapInstance.O.x,gameMapInstance.O.y))};
U.create=function(){gameMapInstance||(gameMapInstance=new U,gameMapInstance.T=xa(gameMapInstance),gameMapInstance.g(gameMapInstance.T),gameMapInstance.Ln=q.Hb.create(L.width,L.height),gameMapInstance.Ln.l(q.a(Math.floor(L.width/2),Math.floor(L.height/2))),gameMapInstance.g(gameMapInstance.Ln),gameMapInstance.Ln.G(!1),gameMapInstance.WC=q.F.create(),gameMapInstance.g(gameMapInstance.WC),gameMapInstance.qn=q.Hb.create(L.width,L.height),gameMapInstance.qn.l(q.a(Math.floor(L.width/2),Math.floor(L.height/
2))),gameMapInstance.g(gameMapInstance.qn),gameMapInstance.qn.G(!1),gameMapInstance.Zp(-15),gameMapInstance.v());return gameMapInstance};U.f=function(){return gameMapInstance};U.Ts=function(){gameMapInstance.R();gameMapInstance=null};U.jt=function(){gameMapInstance||(gameMapInstance=U.create());gameMapInstance.Ng=!0};U.gX=function(a){gameMapInstance.fX(a)};U.f=function(){return gameMapInstance};U.Cn=function(a,c,d,e){gameMapInstance.T[a].Cn(c,d,e);gameMapInstance.Je[a][e]={texture:c,frame:d}};
U.BL=function(){Q.SB();z({savemap:gameMapInstance.hl,mapdata:gameMapInstance.Je})};U.RB=function(a,c){gameMapInstance.Je[a][c]=null;gameMapInstance.T[a].RB(c)};U.XW=function(a,c){null!=c&&"undefined"!==c&&(gameMapInstance.T[a].CD(c),gameMapInstance.Je[a].info={script:c})};U.TS=function(a){return gameMapInstance.T[a].fk()};U.KR=function(a){gameMapInstance.T[a].JR()};
U.vK=function(a){gameMapInstance.Je.mapdata.mapConnectors=a;gameMapInstance.wl=a.up;gameMapInstance.tl=a.down;gameMapInstance.ul=a.left;gameMapInstance.vl=a.right};U.bS=function(a,c,d){for(var e in gameMapInstance.T)"tile"==e.substring(0,4)&&(gameMapInstance.T[e].Cn(a,c,d),gameMapInstance.Je[e][d]={texture:a,frame:c})};U.OK=function(a){for(var c in gameMapInstance.T)"tile"==c.substring(0,4)&&gameMapInstance.T[c].UW(a);SkillBarsInstance.G(!a);Z.G(!a);gameMapInstance.Ng=!0};
U.Jaa=function(){for(var a in gameMapInstance.T)"tile"==a.substring(0,4)&&gameMapInstance.T[a].string.ra(a.substring(4));gameMapInstance.Ng=!0};U.EI=function(){return null!=gameMapInstance.wl};U.BI=function(){return null!=gameMapInstance.tl};U.CI=function(){return null!=gameMapInstance.ul};U.DI=function(){return null!=gameMapInstance.vl};U.Xd=function(){return gameMapInstance.hl};U.kI=function(){return gameMapInstance.wl};U.hI=function(){return gameMapInstance.tl};U.iI=function(){return gameMapInstance.ul};
U.jI=function(){return gameMapInstance.vl};U.cn=function(a,c){c||(MapMaster=!1);Q.f().G(!1);Q.SB();U.cf();gameMapInstance.hl=a;Q.t.W.Up(a);Q.rk();gameMapInstance.Jl(a)};U.bT=function(a){Q.SB();U.cf();gameMapInstance.hl=a;gameMapInstance.Jl(a)};U.aT=function(){Q.f().G(!1);U.cf();gameMapInstance.hl=gameMapInstance.wl;Q.t.W.Up(gameMapInstance.wl);Q.rk();gameMapInstance.Jl(gameMapInstance.wl)};
U.YS=function(){Q.f().G(!1);U.cf();gameMapInstance.hl=gameMapInstance.tl;Q.t.W.Up(gameMapInstance.tl);Q.rk();gameMapInstance.Jl(gameMapInstance.tl)};U.ZS=function(){Q.f().G(!1);U.cf();gameMapInstance.hl=gameMapInstance.ul;Q.t.W.Up(gameMapInstance.ul);Q.rk();gameMapInstance.Jl(gameMapInstance.ul)};U.$S=function(){Q.f().G(!1);U.cf();gameMapInstance.hl=gameMapInstance.vl;Q.t.W.Up(gameMapInstance.vl);Q.rk();gameMapInstance.Jl(gameMapInstance.vl)};U.Us=function(a){gameMapInstance.dn=a};
U.gk=function(a,c){return a>O-1||0>a?void 0:gameMapInstance.T["tile"+(a+(N-c)*O)]};U.xS=function(a,c){for(var d in Q.f().$d){var e=Q.f().$d[d].Gc();if(e.x==a&&e.y==c)return Q.f().$d[d]}return null};U.wI=function(a){return gameMapInstance.T["tile"+a]};U.GQ=function(){var a=Q.f();gameMapInstance.WC.g(a);U.ml(Q.t.W.u.I,Q.t.W.u.N)};
U.cf=function(){gameMapInstance.Je={};for(var a in gameMapInstance.T)"tile"==a.substring(0,4)&&(gameMapInstance.T[a].cf(),gameMapInstance.Je[a]={});gameMapInstance.Je.mapdata={};gameMapInstance.Ng=!0};var Q=q.Kc.extend({t:null,qc:[],$d:[],W:null});Q.f=function(){return this.t};Q.Ts=function(){this.t.R();this.t=null};Q.create=function(a){this.t||(this.t=new Q,this.t.W=PlayerCharacter.create(a),this.t.g(this.t.W));return this.t};Q.KM=function(){var a=U.Xd(),c=[],d;for(d in this.t.$d)this.t.$d[d].dg==a&&c.push(this.t.$d[d]);return c};Q.Dp=function(a){return this.t.$d[a]};Q.bU=function(a,c,d){this.t.$d[a]&&"default"!=c&&this.t.W.dg==d&&this.t.$d[a].EL(c)};
Q.uV=function(a,c){this.t.$d[a]&&"default"!=c&&this.t.$d[a].l(q.a(c%O*32,32*Math.floor(c/O)))};Q.SB=function(){for(var a in this.t.$d)this.t.$d[a].R();this.t.$d=[]};Q.N0=function(a,c,d){var e=parseInt(this.t.$d.length);this.t.$d.push(NonPlayerCharacter.create({name:a.name,Hn:{health:{Uc:1,value:100,bg:200,ag:900},mana:{Uc:1,value:100,bg:200,ag:99}},map:d,dt:"sprites1.png",bt:a.sprite.number,ql:e,ed:a.script}));this.t.$d[e].l(32*c.x,32*c.y);this.t.g(this.t.$d[e])};Q.n6=function(){return this.t.W};
Q.oi=function(a){return this.t.qc[a]};Q.FQ=function(a){this.t.qc[a.id]=PlayerCharacter.create({name:a.id,Hn:{health:{Uc:1,value:100,bg:200,ag:900},mana:{Uc:1,value:100,bg:200,ag:99}},map:a.location.mapnumber,dt:"sprites1.png",bt:1});var c=a.location.position;this.t.qc[a.id].l(c%O*32,32*Math.floor(c/O));Q.rk();this.t.g(this.t.qc[a.id]);c=H["Join Message"]+"";c=c.replace("\x3cPLAYER\x3e",a.id);R.ob(c)};
Q.HH=function(a){if(this.t.qc[a]){this.t.qc[a].R();this.t.qc[a]=null;var c=H["Leave Message"]+"",c=c.replace("\x3cPLAYER\x3e",a);R.ob(c);for(c=0;c<A.length;c++){var d=JSON.parse(A[c]);d.id&&d.id==a&&(A.splice(c,1),c--)}}};
Q.cU=function(a){console.log(a.location.position);if(this.t.qc[a.id])this.t.qc[a.id].EL(a.location.position);else{this.t.qc[id]=PlayerCharacter.create({name:a.id,Hn:{health:{Uc:1,value:100,bg:200,ag:900},mana:{Uc:1,value:100,bg:200,ag:99}},map:a.location.mapnumber,dt:"sprites1.png",bt:1});var c=a.location.position;this.t.qc[id].l(q.a(c%O*32,32*Math.floor(c/O)));Q.rk();this.t.g(this.t.qc[a.id]);c=H["Join Message"]+"";c=c.replace("\x3cPLAYER\x3e",a.id);R.ob(c)}};
Q.FU=function(a){if(this.t.qc[a.id])this.t.qc[a.id].l(q.a(a.location.position%O*32,32*Math.floor(a.location.position/O)));else{this.t.qc[a.id]=PlayerCharacter.create({name:a.id,Hn:{health:{Uc:1,value:100,bg:200,ag:900},mana:{Uc:1,value:100,bg:200,ag:99}},map:a.location.mapnumber,dt:"sprites1.png",bt:1});var c=a.location.position;this.t.qc[a.id].l(q.a(c%O*32,32*Math.floor(c/O)));Q.rk();this.t.g(this.t.qc[a.id]);R.ob(a.id+v.Ae.CU)}};Q.bR=function(a){this.t.qc[a]&&this.t.qc[a].updateStatus("AFK")};
Q.rk=function(){var a=this.t.W.dg,c;for(c in this.t.qc)null!=this.t.qc[c]&&this.t.qc[c].G(this.t.qc[c].dg==a)};Q.cf=function(){for(var a in this.t.qc)null!=this.t.qc[a]&&Q.HH(a);this.t.W.R();this.t.W=null};Q.aR=function(a,c){this.t.qc[a].Up(c);this.t.qc[a].G(this.t.W.dg==c)};Character=q.w.extend({name:null,Hn:null,oL:null,a1:null,mf:null,Og:!1,mn:null,Hx:null,fj:!1,ql:-1,status:null,dg:null,path:null,ZB:"DOWN",v:function(a){this.WW(a.dt,a.bt);this.Hn=new StatsController(a.tba,this);this.g(this.Hn);this.name=a.name;a.ed&&(this.ed=a.ed);a.fj&&(this.fj=a.fj);a.map&&(this.dg=a.map);null!=a.ql&&"undefined"!==a.ql&&(console.log(this.ql),this.ql=a.ql);this.D(0,1);this.mn=q.U.create("","Arial",12);this.mn.D(0.5,0);this.mn.r(255,0,0);this.mn.l(Math.floor(this.c().width/2),this.c().width+
3);this.g(this.mn);this.xL()},P3:function(){return this.ZB},Up:function(a){this.dg=a},n4:function(){return this.dg},updateStatus:function(a){this.status=a&&a!=this.status?a:null;this.xL()},xL:function(){null!=this.status?this.mn.ra(this.name+"-"+this.status):this.mn.ra(this.name)},getName:function(){return this.name},Hf:function(a,c,d){this.jb(q.rect(a*Ca,4*this.oL.id*Ca+c*Ca,Ca,Ca));this.Hx=q.a(a,c);this.ZB=d},Bh:function(){return this.Hx},WW:function(a,c){this.oL={name:a,id:c};this.ma(q.ja.f().pa(a));
this.Hf(1,0)},Gc:function(){return q.a(this.u.x/M,this.u.y/M)},sw:0.24,KX:0.24,il:2,sca:function(a){var c=a.position%O,d=Math.floor(a.position/O);this.l(c*M,d*M);z({changemap:a.mapTo,setTo:a.position});U.cn(a.mapTo);U.ml(c*M,d*M)},HT:function(){if(!this.Og){var a=this.Gc();(a=U.gk(a.x,a.y))&&a.fk()&&S("Interact On",a)}},SI:function(a){a&&!this.Og&&(a=U.gk(gp.x,gp.y))&&a.fk()&&S("Interact On")},GT:function(){if(!this.Og){var a=this.Gc();switch(this.ZB){case "RIGHT":a.x+=1;break;case "LEFT":a.x-=1;
break;case "UP":a.y+=1;break;case "DOWN":a.y-=1}var c=U.xS(a.x,a.y);c?Ha("Default Event",c):(a=U.gk(a.x,a.y))&&a.fk()&&S("Interact Facing",a)}},lt:function(a){this.sw+=a;a=this.u;var c=this.Bh();this.sw>this.KX&&(this.sw=0,this.mf.x<a.x?this.Hf((c.x+1)%3,1,"LEFT"):this.mf.x>a.x?this.Hf((c.x+1)%3,2,"RIGHT"):this.mf.y<a.y?this.Hf((c.x+1)%3,0,"DOWN"):this.mf.y>a.y&&this.Hf((c.x+1)%3,3,"UP"));this.mf.x<a.x?(this.Fb(a.x-this.il),this.fj&&U.updateOffset(+this.il,0)):this.mf.x>a.x?(this.Fb(a.x+this.il),
this.fj&&U.updateOffset(-this.il,0)):this.mf.y<a.y?(this.Jc(a.y-this.il),this.fj&&U.updateOffset(0,this.il)):this.mf.y>a.y&&(this.Jc(a.y+this.il),this.fj&&U.updateOffset(0,-this.il));a.y==this.mf.y&&a.x==this.mf.x&&(this.Og=!1,S("On Leave",U.gk(this.lJ.x,leavePosition.y)),this.lJ=null,S("On Enter",U.gk(this.Gc().x,this.Gc().y)),this.Yc(this.lt),null!=this.path&&this.tH())},dq:function(a,c){if(!1!=this.wa){var d=U.gk(a,c),e=this.Hx,f=this.Gc();f.x>a?this.Hf(e.x,1,"LEFT"):f.x<a&&this.Hf(e.x,2,"RIGHT");
f.y>c?this.Hf(e.x,0,"DOWN"):f.y<c&&this.Hf(e.x,3,"UP");d?!1==this.Og&&d&&!gameMapInstance.Gs(d)&&(S("Will Leave",U.gk(this.Gc().x,this.Gc().y)),this.lJ=q.a(this.Gc().x,this.Gc().y),this.mf=q.a(M*a,M*c),this.Og=!0,S("Will Enter",U.gk(a,c)),this.jc(this.lt),this.lt(0),this.fj?z({moveTo:this.mf.x/M+this.mf.y/M*O}):-1<this.ql&&z({npcID:this.ql+"",mapnumber:this.dg,moveNPC:this.mf.x/M+this.mf.y/M*O})):this.fj&&null==Mapeditor&&(f.x<a&&U.DI()?(this.l(0,M*c),z({changemap:parseInt(U.jI()),setTo:0+c*O}),U.$S(),
U.nC()):f.x>a&&U.CI()&&(this.l(M*(O-1),M*c),z({changemap:parseInt(U.iI()),setTo:O-1+c*O}),U.ZS(),U.oC()),f.y<c&&U.EI()?(this.l(M*a,M),z({changemap:parseInt(U.kI()),setTo:a+1*O}),U.aT(),U.pC()):f.y>c&&U.BI()&&(z({changemap:parseInt(U.hI()),setTo:a+N*O}),U.YS(),this.l(M*a,M*N),U.mC()))}},tH:function(){0==this.path.length?this.path=null:(this.path.splice(0,1),0==this.path.length?this.path=null:this.dq(this.path[0].x,this.path[0].y))},LD:function(a){if(null==this.path||0!=a.length)this.path=a,this.tH()},
EL:function(a){if(!1!=this.wa){var c=a%O;a=Math.floor(a/O);if(!1==this.Og){var d=this.Hx,e=this.Gc();4<Math.abs(q.RC(q.a(c,a),e))?this.l(q.a(M*c,M*a)):(e.x>c?this.Hf(d.x,1,"LEFT"):e.x<c?this.Hf(d.x,2,"RIGHT"):e.y>a?this.Hf(d.x,0,"DOWN"):e.y<a&&this.Hf(d.x,3,"UP"),this.mf=q.a(M*c,M*a),this.Og=!0,this.jc(this.lt),this.lt(0))}}}});
PlayerCharacter=Character.extend({items:null,qp:3,li:null,Bl:null,v:function(a){this._super(a);this.li=[];this.Bl=[];a.qp&&(this.qp=a.qp);this.items={stored:[],equipped:{}};if(a.position){var c=a.position%O,d=Math.floor(a.position/O);this.l(c*M,d*M);U.bT(a.map);U.ml(c*M,d*M);this.dg=a.map}a.UI&&(this.items.stored=a.UI);a.li&&(this.li=a.li);a.Bl&&(this.Bl=a.Bl);if(a.QH){this.items.equipped=a.QH;for(var e in this.items.equipped)Ga("Default Event",this.items.equipped[e],{"Equip Item":!0,"Give /Take Item":!0,
"Warp Player":!0,"Read Item":!0,"Open/Close Panel":!0,Destroy:!0})}this.kR()},kR:function(){this.li=[];z({saveUserExtra:[],name:this.getName()})},tD:function(a,c){this.li[a]=c;z({saveUserExtra:this.li,name:this.getName()})},Cp:function(a){return this.li[a]?this.li[a]:null},AD:function(a,c){this.Bl[a]=c},pi:function(a){return this.Bl[a]},it:function(a,c){for(var d=0;d<this.items.stored.length;d++)this.items.stored[d]&&this.items.stored[d].name==a&&(this.items.stored[d]=c);console.log(this.items)},
JJ:function(a){var c=this.Gc(),d=U.gk(c.x,c.y);Ga("On Pickup",a);if(a){if(!0==a.stackable)for(var e=0;40>e;e++)if(this.items.stored[e]&&this.items.stored[e].name==a.name){Inventory&&(this.items.stored[e].amount+=a.amount,Inventory.Wg(e,this.items.stored[e].amount));R.ob(v.Ae.cx+a.name);d.gC().temp?z({pickupitem:P(c.x,c.y),mapnumber:U.Xd(),temp:!0}):z({pickupitem:P(c.x,c.y),mapnumber:U.Xd()});console.log(this.items);return}for(var f=!1,e=0;40>e;e++)if(null==this.items.stored[e]){this.items.stored[e]=
J(a);Inventory&&Inventory.Wg(e,this.items.stored[e].amount);R.ob(v.Ae.cx+a.name);d.gC().temp?z({pickupitem:P(c.x,c.y),mapnumber:U.Xd(),temp:!0}):z({pickupitem:P(c.x,c.y),mapnumber:U.Xd()});f=!0;break}!1==f&&R.ob(v.Ae.VI)}Inventory&&Inventory.gb();Equipment&&Equipment.gb()},d9:function(a,c){var d=q.a(c.u.I/M,c.u.N/M);Ga("On Pickup",c);if(a){if(!0==a.stackable)for(var e=0;40>e;e++)if(this.items.stored[e]&&this.items.stored[e].name==a.name){Inventory&&(this.items.stored[e].amount+=a.amount,Inventory.Wg(e,
this.items.stored[e].amount));R.ob(v.Ae.cx+a.name);c.gC().temp?z({pickupitem:P(d.x,d.y),mapnumber:U.Xd(),temp:!0}):z({pickupitem:P(d.x,d.y),mapnumber:U.Xd()});return}for(var f=!1,e=0;40>e;e++)if(null==this.items.stored[e]){this.items.stored[e]=J(a);Inventory&&Inventory.Wg(e,this.items.stored[e].amount);R.ob(v.Ae.cx+a.name);c.gC().temp?z({pickupitem:P(d.x,d.y),mapnumber:U.Xd(),temp:!0}):z({pickupitem:P(d.x,d.y),mapnumber:U.Xd()});f=!0;break}!1==f&&R.ob(v.Ae.VI)}Inventory&&Inventory.gb();Equipment&&
Equipment.gb()},WB:function(a,c){var d=this.Gc();Ga("On Drop",this.items[c][a]);this.items[c][a]&&(R.ob(v.Ae.VR+this.items[c][a].name),z({droppeditem:this.items[c][a],mapnumber:U.Xd(),index:P(d.x,d.y)}),!0==this.items[c][a].stackable&&1<this.items[c][a].amount&&Inventory.Wg(a,0),this.items[c][a]=null);Inventory&&Inventory.gb();Equipment&&Equipment.gb()},IX:function(a){Ga("Default Event",this.items.stored[a]);Inventory&&Inventory.gb();Equipment&&Equipment.gb()},IR:function(a){for(var c=0;40>c;c++)if(null==
this.items.stored[c]){this.items.stored[c]=J(this.items.equipped[a]);this.items.equipped[a]=null;Inventory&&Inventory.gb();Equipment&&Equipment.gb();Ga("On Dequip",this.items.stored[c]);return}R.ob("No space in inventory to dequip this item.")},ll:function(){return this.items.stored},Bp:function(){return this.items.equipped}});PlayerCharacter.create=function(a){var c=new PlayerCharacter;c.v(a);return c};
NonPlayerCharacter=Character.extend({Z7:null,ex:!1,KW:function(a,c){this.ex=!0;this.Ld(function(){this.dq(a.x,a.y);this.ex=!1},c)},n7:function(){return this.ex}});NonPlayerCharacter.create=function(a){var c=new NonPlayerCharacter;c.v(a);return c};var Ia=q.Kc.extend({nD:null,b:null,QC:function(){},ctor:function(){this._super()},FL:function(){},En:function(){},ij:function(){},sa:function(){this.b&&this.b.R();this.b=xa(this);this.g(this.b)},Ia:function(){},v:function(){this.ID(1);this.px(!0);this.dc(!0);F.Bn(this);this._super()},PC:function(){q.log("Override onKeyDown in scene extended class to use keyboard")},yl:function(){q.log("Override onKeyUp in scene extended class to use keyboard")},mW:function(a){this.nD=a},Rc:function(){return this.nD}});DropDownList=Ia.extend({list:null,zR:null,selected:null,b:null,o:null,FH:null,MJ:null,$s:null,ctor:function(){this._super();this.list=[];this.zR=0},v:function(a,c,d,e){this._super();a&&(this.o=a,this.FH=c,d&&(this.list=d),e&&this.l(e),this.MJ=F.gS(),F.Bn(this),this.Zp(-1001),this.px(!0))},Eb:function(a){for(var c=this.b.control_menu.Ma(a.S),d=0;d<this.list.length;d++)this.$s&&!0!=this.$s[d].enabled||q.lb(q.rect(this.b.control_menu[d+""].u.I,this.b.control_menu[d+""].u.N,this.b.control_menu[d+""].c().width,
this.b.control_menu[d+""].c().height),c)&&this.FH(d,a);this.NU();return!0},NU:function(){F.Bn(this.MJ);this.R();wa()},vV:function(){this.Jc(this.u.N-24*this.list.length);for(var a=0,c=0;c<this.list.length;c++)this.b.control_menu[c+""].content.c().width>a&&(a=this.b.control_menu[c+""].content.c().width);for(c=0;c<this.list.length;c++)this.b.control_menu[c+""].Q(a+8,this.b.control_menu[c+""].c().height);this.b.control_menu.Q(a+8,this.b.control_menu.c().height)},vc:function(){for(var a={},c=0;c<this.list.length;c++)a[c+
""]={position:q.a(0,24*(this.list.length-1)-24*c),size:q.size(96,24),e:q.a(0,0),color:q.j(200,200,200,200),children:{content:{label:this.list[c],fontSize:20,color:q.n(0,0,0),e:q.a(0,0.5),position:q.a(4,12)}}};return{panels:{children:{control_menu:{position:q.a(0,0),color:q.j(200,200,200,0),size:q.size(96,48),children:a}}}}},ij:function(a){a=this.b.control_menu.Ma(a.S);for(var c=0;c<this.list.length;c++)this.b.control_menu[c+""].r(q.j(200,200,200,200)),this.$s&&!0!=this.$s[c].enabled||q.lb(q.rect(this.b.control_menu[c+
""].u.I,this.b.control_menu[c+""].u.N,this.b.control_menu[c+""].c().width,this.b.control_menu[c+""].c().height),a)&&this.b.control_menu[c+""].r(q.j(255,0,0,255))}});DropDownList.zf=function(a,c,d,e,f){var g=new DropDownList;g.v(a,c,d,e);g.b=xa(g.vc(),!0);if(f){for(a=0;a<g.list.length;a++)!1==f[a].enabled&&g.b.control_menu[a+""].content.r(q.j(127,127,127,200));g.$s=f}g.g(g.b);g.vV();return g};Popup=Ia.extend({gf:null,qi:!1,v:function(){this.nD=this.Rc();this._super();F.Bn(this);this.Zp(-300)},x2:function(){this.R()},Eb:function(a){var c=a.S;F.Bn(this);c=this.b.control_panel.Ma(c);if(q.lb(q.rect(this.b.control_panel.exitBtn.u.I,this.b.control_panel.exitBtn.u.N,this.b.control_panel.exitBtn.c().width,this.b.control_panel.exitBtn.c().height),c)){var d=this;this.da.Ld(function(){!1==d.qi&&d.Ia();d.R();d=null});return!0}return q.lb(q.rect(this.b.u.x,this.b.u.y+this.b.control_panel.u.y,this.b.control_panel.c().width,
this.b.control_panel.c().height),a.S)?(this.gf=this.b.hi(a),!0):!1},Id:function(a){return this.gf?(a=a.S,this.b.l(a.x-this.gf.x,a.y-this.gf.y),!0):!1},Qg:function(){this.gf&&(this.gf=null);V.FW(this.Rc(),this.b.u)},Rc:function(){q.log("No id given... using default 'Popup'");return"Popup"},sa:function(){this._super();var a=V.BS();if("null"!=a&&null!=a&&(a=JSON.parse(a)[this.Rc()])){a=q.a(a.x,a.y);if(a.x>Y.width-10||a.y>Y.height)a=q.a(8,100);this.b.l(a)}}});Book=null;
BookPanel=Popup.extend({name:null,content:null,fg:null,Rc:function(){return"Book"},vc:function(){return{panels:{position:q.a(100,20),children:{main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(514,313),ba:"GUI/book.png",children:{pageBackbtn:{position:q.a(2,1),size:q.size(36,36),ba:"GUI/btnLeft.png",e:q.a(0,0)},pageForwardbtn:{position:q.a(475,1),size:q.size(36,36),ba:"GUI/btnRight.png",e:q.a(0,0)},leftPage:{label:this.fg[0],e:q.a(0,1),position:q.a(4,308),color:q.n(0,0,0)},rightPage:{label:1<this.fg.length?
this.fg[1]:"",e:q.a(0,1),position:q.a(260,308),color:q.n(0,0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,313),size:q.size(514,32),children:{header:{label:this.name,fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(490,6),size:q.size(20,20),e:q.a(0,0),ba:"GUI/close.png"}}}}}}},v:function(a,c){this._super();this.name=a;this.content=c;this.fg=[];for(var d=c;d;)if(470>d.length){this.fg.push(d);break}else this.fg.push(d.substr(0,470)+"..."),d=d.substr(470);this.xU=Math.floor(this.fg.length/
2)-1;this.Zi=0},sa:function(){this._super();this.b.main_panel.leftPage.yb(q.size(248,0));this.b.main_panel.rightPage.yb(q.size(248,0));this.b.main_panel.pageBackbtn.G(!1);2>this.fg.length&&this.b.main_panel.pageForwardbtn.G(!1)},cT:function(){this.Zi++;this.b.main_panel.pageBackbtn.G(!0);this.Zi==this.xU&&this.b.main_panel.pageForwardbtn.G(!1);this.b.main_panel.leftPage.ra(this.fg[2*this.Zi]);this.fg[2*this.Zi+1]?this.b.main_panel.rightPage.ra(this.fg[2*this.Zi+1]):this.b.main_panel.rightPage.ra("")},
dT:function(){this.Zi--;this.b.main_panel.pageForwardbtn.G(!0);0==this.Zi&&this.b.main_panel.pageBackbtn.G(!1);this.b.main_panel.leftPage.ra(this.fg[2*this.Zi]);this.fg[2*this.Zi+1]&&this.b.main_panel.rightPage.ra(this.fg[2*this.Zi+1])},Eb:function(a){if(this._super(a))return!0;this.gf=null;a=this.b.main_panel.Ma(a.S);if(I(this.b.main_panel.pageForwardbtn,a))return this.cT(),!0;if(I(this.b.main_panel.pageBackbtn,a))return this.dT(),!0}});NpcChat=null;
NpcChatPanel=Popup.extend({name:null,content:null,xw:null,ed:null,RH:null,uJ:null,H:null,Rc:function(){return"Book"},vc:function(){return{panels:{position:q.a(100,20),children:{main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(512,138),ba:"GUI/npctalk.png",children:{chatText:{label:this.content?this.content:"",e:q.a(0,1),position:q.a(138,134),color:q.n(0,0,0)},list:{size:q.size(320,80),position:q.a(154,4),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,138),size:q.size(512,32),children:{header:{label:this.name?
this.name:"",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(488,6),size:q.size(20,20),e:q.a(0,0),ba:"GUI/close.png"}}}}}}},rb:function(){this.H&&this.H.ic();var a=[],c=[];q.ja.f();for(var d in this.xw){a[d]=q.F.create();a[d].Q(324,32);var e=q.ga.create(q.j(200,200,200,200),300,10);e.l(q.a(12,1));var f=q.U.create("\x3e"+this.xw[d],"Arial",14);f.D(q.a(0,0));f.l(q.a(4,2));f.yb(q.size(300,0));f.r(q.n(100,0,0));a[d].g(e);e.g(f);a[d].Q(324,f.c().height+8);e.Q(300,f.c().height+4);e.vb=
"Use";c.push([e])}this.H=this.b.main_panel.list;var g=this;this.H.Hc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(324,c)};this.H.Bc=function(){return a.length};this.H.Tc=function(c){return a[c].c()};this.H.Sc=function(c){return a[c]};this.H.$b=function(a,c){switch(a){case "Use":K.qT(),Ha("On Talk Option Selected for event:"+g.RH+", option:"+c,g.uJ)}};this.H.ea=ListView.create(this.H);this.H.ea.Wc(c);this.H.g(this.H.ea)},v:function(a,c,d,e,f,g){this._super();this.name=
e;this.content=f;this.ed=c;this.RH=d;this.uJ=a;g&&(this.xw=g)},sa:function(){this._super();this.b.main_panel.chatText.yb(q.size(350,0));this.xw&&this.rb()},Eb:function(a){if(this._super(a))return!0}});Equipment=null;
EquipmentPanel=Popup.extend({Rc:function(){return"Equipment"},vc:function(){var a={};a.head={ba:"GUI/defaultitem.png",position:q.a(88,162),size:q.size(32,32),e:q.a(0,1)};a.legs={ba:"GUI/defaultitem.png",position:q.a(88,82),size:q.size(32,32),e:q.a(0,1)};a.feet={ba:"GUI/defaultitem.png",position:q.a(88,40),size:q.size(32,32),e:q.a(0,1)};a.body={ba:"GUI/defaultitem.png",position:q.a(88,122),size:q.size(32,32),e:q.a(0,1)};a.lArm={ba:"GUI/defaultitem.png",position:q.a(48,122),size:q.size(32,32),e:q.a(0,
1)};a.rArm={ba:"GUI/defaultitem.png",position:q.a(128,122),size:q.size(32,32),e:q.a(0,1)};a.mod={ba:"GUI/defaultitem.png",position:q.a(8,162),size:q.size(32,32),e:q.a(0,1)};return{panels:{position:q.a(100,300),children:{main_panel:{e:q.a(0,0),size:q.size(168,168),ba:"GUI/equipment.png",children:a},control_panel:{e:q.a(0,0),position:q.a(0,168),size:q.size(168,32),children:{header:{label:H["Equipment Header"],fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(144,6),size:q.size(20,20),
e:q.a(0,0),ba:"GUI/close.png"}}},item_name:{position:q.a(0,0),color:q.j(200,200,200,200),size:q.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:q.n(0,0,0),e:q.a(0.5,0.5),position:q.a(32,8)}}}}}}},gb:function(){var a=Q.t.W.Bp();this.b.main_panel.head.ma(q.ja.f().pa("GUI/defaultitem.png"));this.b.main_panel.body.ma(q.ja.f().pa("GUI/defaultitem.png"));this.b.main_panel.legs.ma(q.ja.f().pa("GUI/defaultitem.png"));this.b.main_panel.feet.ma(q.ja.f().pa("GUI/defaultitem.png"));this.b.main_panel.lArm.ma(q.ja.f().pa("GUI/defaultitem.png"));
this.b.main_panel.rArm.ma(q.ja.f().pa("GUI/defaultitem.png"));this.b.main_panel.mod.ma(q.ja.f().pa("GUI/defaultitem.png"));for(var c in a)if(a[c]){for(var d in x)if(x[d].name==a[c].sprite.texture)var e=x[d].texture;this.b.main_panel[c].D(0,1);this.b.main_panel[c].ma(e);this.b.main_panel[c].jb(q.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,32,32))}},Xw:function(a){switch(a){case 0:Q.t.W.IR(this.o.gj);break;case 1:Q.t.W.WB(this.o.gj,"equipped")}},Eb:function(a){if(this._super(a))return!0;
this.gf=null;var c=this.b.main_panel.Ma(a.S),d=Q.t.W.Bp(),e;for(e in d)if(d[e]&&I(this.b.main_panel[e],q.a(c.x,c.y+32)))return this.gj=e,this.b.item_name.G(!1),c=H["Item Dropdown Unequip"]+"",c=c.replace("\x3cITEM\x3e",Q.t.W.Bp()[e].name),d=H["Item Dropdown Drop"]+"",d=d.replace("\x3cITEM\x3e",Q.t.W.Bp()[e].name),this.g(DropDownList.zf(this,this.Xw,[c,d],a.S)),!0},ij:function(a){a=this.b.main_panel.Ma(a.S);this.b.item_name.G(!1);var c=Q.t.W.Bp(),d;for(d in c)if(c[d]&&I(this.b.main_panel[d],q.a(a.x,
a.y+32)))return this.b.item_name.content.ra(c[d].name),this.b.item_name.G(!0),this.b.item_name.Q(this.b.item_name.content.c()),this.b.item_name.content.Fb(this.b.item_name.content.c().width/2),this.b.item_name.l(q.a(this.b.main_panel[d].u.I-this.b.item_name.content.c().width/2+16,this.b.main_panel[d].u.N)),!0},Ps:function(){this.b.main_panel.head.ia()&&(this.Yc(this.Ps),this.gb())},sa:function(){this._super();this.b.main_panel.head.ia()?this.gb():this.jc(this.Ps)}});Inventory=null;
InventoryPanel=Popup.extend({gj:null,GC:!1,Rc:function(){return"Inventory"},vc:function(){for(var a={},c=0;5>c;c++)for(var d=0;8>d;d++)a[5*d+c+""]={size:q.size(32,32),position:q.a(40*c+8,40*(7-d)+40),ba:"GUI/defaultitem.png",e:q.a(0,1),children:{stacklabelbg:{position:q.a(1,1),size:q.size(10,6),e:q.a(0,0),color:q.j(255,255,255,200),children:{stacklabel:{label:"",fontSize:10,color:q.n(0,0,0),e:q.a(0,0),position:q.a(0,0)}}}}};return{panels:{position:q.a(300,200),children:{main_panel:{e:q.a(0,0),ba:"GUI/inventory.png",
size:q.size(208,328),children:a},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(208,32),children:{header:{label:H["Inventory Header"],fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(184,6),size:q.size(20,20),e:q.a(0,0),ba:"GUI/close.png"}}},item_name:{position:q.a(0,0),color:q.j(200,200,200,200),size:q.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:q.n(0,0,0),e:q.a(0.5,0.5),position:q.a(32,8)}}}}}}},Wg:function(a,c){this.b.main_panel[a+""].stacklabelbg.G(!1);
1<c&&(this.b.main_panel[a+""].stacklabelbg.G(!0),this.b.main_panel[a+""].stacklabelbg.stacklabel.ra(c),this.b.main_panel[a+""].stacklabelbg.Q(this.b.main_panel[a+""].stacklabelbg.stacklabel.c()))},gb:function(){for(var a=Q.t.W.ll(),c=0;40>c;c++)if(a[c]){for(var d in x)if(x[d].name==a[c].sprite.texture)var e=x[d].texture;this.b.main_panel[c+""].D(0,1);this.b.main_panel[c+""].ma(e);this.b.main_panel[c+""].jb(q.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,32,32));this.Wg(c,a[c].amount)}else this.b.main_panel[c+
""].ma(q.ja.f().pa("GUI/defaultitem.png")),this.Wg(c,0)},Ps:function(){this.b.main_panel[qa+""].ia()&&(this.Yc(this.Ps),this.gb())},sa:function(){this._super();this.b.main_panel[qa+""].ia()?this.gb():this.jc(this.Ps)},Xw:function(a){switch(a){case 0:!0==this.o.GC?Q.t.W.IX(this.o.gj):Q.t.W.WB(this.o.gj,"stored");break;case 1:Q.t.W.WB(this.o.gj,"stored")}this.o.GC=!1},Eb:function(a){if(this._super(a))return!0;this.gf=null;for(var c=this.b.main_panel.Ma(a.S),d=0;40>d;d++)if(Q.t.W.ll()[d]&&I(this.b.main_panel[d+
""],q.a(c.x,c.y+32))){var e=Q.t.W.ll()[d],c=[];e.script&&(c=ObjectLists.Df()[e.script].data);for(var e=null,f=0;f<c.length;f++)if("Default Event"==c[f].type)for(var e="Use Item",g=c[f].responses,k=0;k<g.length;k++)switch(console.log(g[k].type),g[k].type){case "Equip Item":e=H["Item Dropdown Equip"]+"";break;case "Read Item":e=H["Item Dropdown Read"]+""}c=H["Item Dropdown Drop"]+"";c=c.replace("\x3cITEM\x3e",Q.t.W.ll()[d].name);e?(this.GC=!0,e=e.replace("\x3cITEM\x3e",Q.t.W.ll()[d].name),this.g(DropDownList.zf(this,
this.Xw,[e,c],a.S))):this.g(DropDownList.zf(this,this.Xw,[c],a.S));this.gj=d;this.b.item_name.G(!1);return!0}},ij:function(a){a=this.b.main_panel.Ma(a.S);for(var c=0;40>c;c++)if(Q.t.W.ll()[c]&&I(this.b.main_panel[c+""],q.a(a.x,a.y+32)))return this.b.item_name.content.ra(Q.t.W.ll()[c].name),this.b.item_name.G(!0),this.b.item_name.Q(this.b.item_name.content.c()),this.b.item_name.content.Fb(this.b.item_name.content.c().width/2),this.b.item_name.l(q.a(this.b.main_panel[c+""].u.I-this.b.item_name.content.c().width/
2+16,this.b.main_panel[c+""].u.N)),!0}});Sign=null;
SignPanel=Popup.extend({title:null,content:null,Rc:function(){return"Sign"},vc:function(){return{panels:{position:q.a(100,300),children:{control_panel:{e:q.a(0,0),size:q.size(128,96),ba:"GUI/signpost.png",children:{content:{label:this.content,fontSize:12,color:q.n(255,255,255),e:q.a(0,1),position:q.a(4,94)},exitBtn:{position:q.a(100,6),size:q.size(20,20),e:q.a(0,0),ba:"GUI/close.png"}}}}}}},v:function(a,c){this._super();this.content=c},sa:function(){this._super();this.b.control_panel.content.yb(q.size(120,0))}});Quests=null;
QuestsPanel=Popup.extend({H:null,Yg:null,qD:null,Rc:function(){return"Quests"},rb:function(){this.H&&this.H.ic();for(var a=[],c=[],d=q.ja.f(),e=0;e<this.data.length;e++)if(!(null==Q.t.W.pi(e)||"undefined"===Q.t.W.pi(e)&&1>Q.t.W.pi(e))){a[e]=q.ga.create(q.j(0,0,0,0),420,32);var f=q.ga.create(q.j(0,0,0,127),212,1);f.l(q.a(4,0));var g=q.U.create(this.data[e].name,"Arial",15);g.r(q.n(0,0,0));g.D(q.a(0,0));g.l(q.a(4,4));g.yb(q.size(216,0));a[e].Q(216,g.c().height+8);if(null!=this.qD&&this.qD==e){a[e]=
q.ga.create(q.j(100,0,0,255),216,g.c().height+8);var k=q.w.Sa(d.pa("GUI/selected.png"));k.l(q.a(192,(g.c().height+8-20)/2));k.D(q.a(0,0));a[e].g(k);g.r(q.n(255,255,255))}a[e].g(f);a[e].g(g);a[e].vb="Use";c.push([a[e]])}1>a.length&&(a[0]=q.ga.create(q.j(0,0,0,0),420,32),f=q.ga.create(q.j(0,0,0,127),212,1),f.l(q.a(4,0)),g=q.U.create("THERES NO QUESTS!","Arial",15),g.r(q.n(0,0,0)),g.D(q.a(0,0)),g.l(q.a(4,4)),g.yb(q.size(216,0)),a[0].Q(216,g.c().height+8),a[0].g(g),c.push([]));this.H=this.b.main_panel.list;
var h=this;this.H.Hc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(216,c)};this.H.Bc=function(){return a.length};this.H.Tc=function(c){return a[c].c()};this.H.Sc=function(c){return a[c]};this.H.$b=function(a,c){"Use"==a&&(h.qD=c,h.OU(c),h.rb())};this.H.ea=ListView.create(this.H);this.H.ea.Wc(c);this.H.g(this.H.ea)},OU:function(a){this.Yg&&this.Yg.ic();var c=this.data[a].objectiveList,d=[],e=[];q.ja.f();if(0<Q.t.W.pi(a))for(var f=0;f<c.length;f++)if(!(Q.t.W.pi(a)<f)){if(0==
f)d[f]=q.ga.create(q.j(0,0,0,0),1,1);else if(f==c.length)d[f]=q.ga.create(q.j(0,0,0,0),1,1);else{d[f]=q.ga.create(q.j(0,0,0,0),208,32);var g=q.ga.create(q.j(0,0,0,127),208,1);g.l(q.a(4,0));var k=q.U.create(c[f],"Arial",15);k.r(q.n(0,0,0));k.D(q.a(0,0));k.l(q.a(4,4));k.yb(q.size(208,0));d[f].Q(208,k.c().height+8);Q.t.W.pi(a)>f&&k.ta(200);d[f].g(g);d[f].g(k)}e.push([])}this.Yg=this.b.main_panel.sublist;this.Yg.Hc=function(){for(var a=0,c=0;c<d.length;c++)a+=d[c].c().height;return q.size(212,a)};this.Yg.Bc=
function(){return d.length};this.Yg.Tc=function(a){return d[a].c()};this.Yg.Sc=function(a){return d[a]};this.Yg.$b=function(){};this.Yg.ea=ListView.create(this.Yg);this.Yg.ea.Wc(e);this.Yg.g(this.Yg.ea)},vc:function(){return{panels:{position:q.a(300,200),children:{background_image:{ba:"GUI/quest_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(512,328),children:{list:{size:q.size(216,328),color:q.j(0,200,200,0),position:q.a(0,0),e:q.a(0,0)},sublist:{size:q.size(212,328),color:q.j(0,200,200,
0),position:q.a(258,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Quest Log",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(484,6),size:q.size(20,20),e:q.a(0,0),ba:"GUI/close.png"}}}}}}},gb:function(){},sa:function(){this._super();this.gb();this.data=ObjectLists.Gp();this.rb()}});Skills=null;
SkillsPanel=Popup.extend({H:null,Rc:function(){return"Skills"},rb:function(){this.H&&this.H.ic();var a=[],c=[];q.ja.f();var d=0,e=0,f;for(f in this.data){e+=this.data[f].level+1;a[d]=q.F.create();a[d].Q(420,32);var g=q.ga.create(q.j(0,0,0,127),316,1);g.l(q.a(4,0));var k=q.U.create("Lvl "+(this.data[f].level+1+this.data[f].modifier)+"/"+(this.data[f].level+1),"Arial",15);k.r(q.n(0,0,0));k.D(q.a(0,0));k.l(q.a(4,4));var h=q.U.create(f,"Arial",15);h.r(q.n(0,0,0));h.D(q.a(0.5,0));h.l(q.a(k.c().width+65,
4));var l=q.ga.create(q.j(255,255,255,255),144,h.c().height),m=q.ga.create(q.j(100,120,200,255),this.data[f].experience/this.data[f].requirement*144,h.c().height);l.g(m);m.D(q.a(0,0));m=q.U.create(this.data[f].experience+"/"+this.data[f].requirement,"Arial",14);m.D(q.a(0,0));m.r(q.n(0,0,0));l.g(m);m.Jc(1);l.D(q.a(0,0));l.l(q.a(172,4));c.push([]);a[d].g(g);a[d].g(h);a[d].g(k);a[d].g(l);a[d].Q(324,h.c().height+8);d++}this.H=this.b.main_panel.list;this.H.Hc=function(){for(var c=0,d=0;d<a.length;d++)c+=
a[d].c().height;return q.size(324,c)};this.H.Bc=function(){return a.length};this.H.Tc=function(c){return a[c].c()};this.H.Sc=function(c){return a[c]};this.H.$b=function(){};this.H.ea=ListView.create(this.H);this.H.ea.Wc(c);this.H.g(this.H.ea);this.b.main_panel.character_level.ra("LEVEL: "+e);this.b.main_panel.character_level.Fb(306);this.b.main_panel.character_level.D(q.a(1,0))},vc:function(){return{panels:{position:q.a(300,200),children:{background_image:{ba:"GUI/list_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,
0),size:q.size(365,328),children:{character_level:{label:"",position:q.a(2,310),e:q.a(0,0),color:q.n(0,0,0)},list:{size:q.size(324,308),color:q.j(0,200,200,200),position:q.a(0,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Skills",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),e:q.a(0,0),ba:"GUI/close.png"}}}}}}},gb:function(){},sa:function(){this._super();this.gb();this.data=T.LS();this.rb()}});
var T=q.Kc.extend({tw:[],ec:null,bq:function(){var a=ObjectLists.Ef(),c;for(c in this.tw)this.tw[c].R();this.tw=[];var d=0;for(c=a.length-1;0<=c;c--)if(null!=a[c].healthbar&&""!=a[c].healthbar){var e=this.yR(a[c].name,a[c].healthbar,d);this.g(e);this.tw.push(e);d++}this.l(q.a(0,Y.height-32*d))},yR:function(a,c,d){var e=255;c=c.replace("#","");8==c.length&&(e=c.substr(6,8));e=q.ga.create(q.j(parseInt(c.substring(0,2),16),parseInt(c.substring(2,4),16),parseInt(c.substring(4,6),16),parseInt(e,16)),0<
this.ec[a].currenthealth?this.ec[a].currenthealth/this.ec[a].maxhealth*300:1,23);e.GB=q.w.Sa(q.ja.f().pa("GUI/healthbar.png"));e.l(10,32*d- -5*d-10);e.D(q.a(0,0));e.GB.l(-5,-4);e.GB.D(q.a(0,0));e.g(e.GB);a=q.U.create(a,"Arial",16);a.l(10,11.5);a.D(q.a(0,0.5));e.g(a);return e}});SkillBarsInstance=null;T.create=function(a){null==SkillBarsInstance&&(SkillBarsInstance=new T,SkillBarsInstance.ec=a,SkillBarsInstance.bq());return SkillBarsInstance};
T.KC=function(a,c){SkillBarsInstance.ec[a].currenthealth+=c;0>SkillBarsInstance.ec[a].currenthealth&&(SkillBarsInstance.ec[a].currenthealth=0);SkillBarsInstance.ec[a].currenthealth>SkillBarsInstance.ec[a].maxhealth&&(SkillBarsInstance.ec[a].currenthealth=SkillBarsInstance.ec[a].maxhealth);SkillBarsInstance.bq();Skills&&Skills.rb()};T.MC=function(a,c){SkillBarsInstance.ec[a].experience+=c;0>SkillBarsInstance.ec[a].experience&&(SkillBarsInstance.ec[a].experience=0);SkillBarsInstance.bq();Skills&&Skills.rb()};
T.LC=function(a,c){SkillBarsInstance.ec[a].modifier+=c;0>SkillBarsInstance.ec[a].modifier&&(SkillBarsInstance.ec[a].modifier=0);SkillBarsInstance.bq();Skills&&Skills.rb()};T.LS=function(){return SkillBarsInstance.ec};T.update=function(){SkillBarsInstance.bq()};Scripteditor=null;
ScriptEditor=Popup.extend({data:null,H:null,ab:null,hj:null,hf:null,jf:null,W1:null,o:null,Vb:null,pba:null,Z1:null,la:null,i:null,In:null,nk:function(a){z({savescripts:a+"",scriptsdata:this.data})},dk:function(a,c){z({savescriptswhole:c})},Rc:function(){return"Scripts"},Ia:function(a){this._super();if(this.o){var c=this.o;!0!=a&&this.o.Ld(function(){c.df(null)})}},v:function(a){this._super();this.data={data:[],name:null};this.Vb=null;a.data&&(this.data=a.data);a.oD&&(this.data.specifier=a.oD);this.o=
a.o},sa:function(){this._super();this.Vb=new $(this.b.main_panel.nameEntry,q.size(this.b.main_panel.nameEntry.c().width,this.b.main_panel.nameEntry.c().height),q.a(0,this.b.main_panel.nameEntry.c().height),this.data.name,q.j(255,255,255),q.n(0,0,0));this.Vb.xb(!0);this.b.main_panel.abbrEntry&&(this.rw=new $(this.b.main_panel.abbrEntry,q.size(this.b.main_panel.abbrEntry.c().width,this.b.main_panel.abbrEntry.c().height),q.a(0,this.b.main_panel.abbrEntry.c().height),this.data.abbr,q.j(255,255,255),q.n(0,
0,0)),this.rw.xb(!0));this.rb()},rb:function(){this.H&&this.H.ic();for(var a in this.hf)this.hf[a].ic(),this.hf[a].R();for(a in this.jf)this.jf[a].ic(),this.jf[a].R();var c=[],d=[],e=[],f=[],g=[],k=[],h=q.ja.f();this.hf=[];this.jf=[];for(a=0;a<this.data.data.length;a++){g[a]=[];k[a]=[];d[a]=[];e[a]=[];c[a]=q.F.create();c[a].Q(758,100);var l=q.ga.create(q.j(0,0,0,127),750,1);l.l(q.a(4,0));var m=q.ga.create(q.j(0,0,0,127),1,92);m.l(q.a(152,4));var n=q.ga.create(q.j(0,0,0,127),1,92);n.l(q.a(451,4));
var p=this.data.data[a].type;"On Talk Close"==p&&(p+=" ("+this.data.data[a].data.attachedEvent+":"+this.data.data[this.data.data[a].data.attachedEvent].type+")");p=q.U.create(a+": "+p,"Arial",15);p.r(q.n(0,0,0));p.D(q.a(0,1));p.l(q.a(4,96));p.yb(q.size(100,0));var t=q.ga.create(q.j(0,255,0,60),259,100);t.Q(q.size(259,100));t.Fb(451);t.D(q.a(0,0));c[a].g(t);var u=q.ga.create(q.j(0,255,0,60),259,100);u.Q(q.size(259,100));u.Fb(152);u.D(q.a(0,0));c[a].g(u);var w=q.w.Sa(h.pa("GUI/trash.png"));w.l(q.a(120,
4));w.D(q.a(0,0));w.vb="Delete";c[a].g(w);var D=q.w.Sa(h.pa("GUI/edit.png"));D.l(q.a(96,4));D.D(q.a(0,0));D.vb="Edit";c[a].g(D);f.push([w,D]);for(w=0;w<this.data.data[a].responses.length;w++){d[a].push(q.F.create());d[a][w].Q(259,32);var D=!0,G=q.U.create(w+1+": "+this.data.data[a].responses[w].type,"Arial",15);G.r(q.n(0,0,0));G.D(q.a(0,0));G.l(q.a(4,4));G.yb(q.size(180,0));d[a][w].Q(259,G.c().height+8);d[a][w].g(G);G=q.w.Sa(h.pa("GUI/trash.png"));G.l(q.a(229,0));G.D(q.a(0,0));G.vb="Delete";d[a][w].g(G);
switch(this.data.data[a].responses[w].type){case "Destroy":case "Attack":case "Run Away":D=!1}D?(D=q.w.Sa(h.pa("GUI/edit.png")),D.l(q.a(205,0)),D.D(q.a(0,0)),D.vb="Edit",d[a][w].g(D),g[a].push([G,D])):g[a].push([G])}w=q.ga.create(q.j(70,200,70,255),90,26);D=q.U.create("+","Arial",20);D.l(45,13);D.D(q.a(0.5,0.5));w.l(q.a(84.5,0));w.vb="Add";w.g(D);g[a].push([w]);d[a].push(w);this.jf[a]=u;this.jf[a].identifier=a;var B=this;this.jf[a].Hc=function(){for(var a=0,c=0;c<d[this.identifier].length;c++)a+=
d[this.identifier][c].c().height;return q.size(259,a)};this.jf[a].Bc=function(){return d[this.identifier].length};this.jf[a].Tc=function(a){return d[this.identifier][a].c()};this.jf[a].Sc=function(a){return d[this.identifier][a]};this.jf[a].$b=function(a,c,d){B.Ma(d.S);if(null==B.i)switch(a){case "Delete":B.da.g(DropDownList.zf(B,B.HR,["Cancel","Delete"],d.S));B.ab=c;B.hj=this.identifier;break;case "Edit":B.PH(this.identifier,"responses",c);break;case "Add":a="Talk;Destroy;Give/ Take Item;Set Quest Point;Warp Player;Wait;Repeat Responses;Open/Close Panel;Modify Player Stats;Script Response".split(";");
c=[{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0}];for(var e=0;e<B.data.data[this.identifier].responses.length;e++)"Repeat Responses"==B.data.data[this.identifier].responses[e].type&&(c[7].enabled=!1);switch(B.data.specifier){case "NPC":a.push("Attack","Run Away","Defend","Modify NPC Stats");c.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0});break;case "Item":a.push("Equip Item","Read Item");c.push({enabled:!0},
{enabled:!0});break;case "Tile":a.push("Block Entry","Add Layer Graphic","Show Sign","Spawn NPC","Spawn Item"),c.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0})}B.da.g(DropDownList.zf(B,B.IQ,a,d.S,c));B.hj=this.identifier;break;case "Use":B.o.Gn(c,B.cb[c])}};this.jf[a].ea=ListView.create(this.jf[a]);this.jf[a].ea.Wc(g[a]);this.jf[a].g(this.jf[a].ea);for(w=0;w<this.data.data[a].requirements.length;w++)e[a].push(q.F.create()),e[a][w].Q(259,32),u=q.U.create(w+1+": "+this.data.data[a].requirements[w].type,
"Arial",15),u.r(q.n(0,0,0)),u.D(q.a(0,0)),u.l(q.a(4,4)),u.yb(q.size(180,0)),e[a][w].Q(259,u.c().height+8),e[a][w].g(u),G=q.w.Sa(h.pa("GUI/trash.png")),G.l(q.a(229,0)),G.D(q.a(0,0)),G.vb="Delete",e[a][w].g(G),D=q.w.Sa(h.pa("GUI/edit.png")),D.l(q.a(205,0)),D.D(q.a(0,0)),D.vb="Edit",e[a][w].g(D),k[a].push([G,D]);u=q.ga.create(q.j(70,200,70,255),90,26);w=q.U.create("+","Arial",20);w.l(45,13);w.D(q.a(0.5,0.5));u.l(q.a(84.5,0));u.vb="Add";u.g(w);k[a].push([u]);e[a].push(u);this.hf[a]=t;this.hf[a].identifier=
a;B=this;this.hf[a].Hc=function(){for(var a=0,c=0;c<e[this.identifier].length;c++)a+=e[this.identifier][c].c().height;return q.size(259,a)};this.hf[a].Bc=function(){return e[this.identifier].length};this.hf[a].Tc=function(a){return e[this.identifier][a].c()};this.hf[a].Sc=function(a){return e[this.identifier][a]};this.hf[a].$b=function(a,c,d){B.Ma(d.S);if(null==B.i)switch(a){case "Delete":B.da.g(DropDownList.zf(B,B.GR,["Cancel","Delete"],d.S));B.ab=c;B.hj=this.identifier;break;case "Edit":B.PH(this.identifier,
"requirements",c);break;case "Add":a="Has Player Item;Is Player Statistics;Is Quest Point;Is Panel Visibility;Is Player Inventory Space;Script Requirement".split(";");switch(B.data.specifier){case "Tile":a.push("Is Event Fired By");break;case "NPC":a.push("Is NPC Statistics","Is NPC Actioning")}B.da.g(DropDownList.zf(B,B.HQ,a,d.S));B.hj=this.identifier;break;case "Use":B.o.Gn(c,B.cb[c])}};this.hf[a].ea=ListView.create(this.hf[a]);this.hf[a].ea.Wc(k[a]);this.hf[a].g(this.hf[a].ea);c[a].g(p);c[a].g(l);
c[a].g(m);c[a].g(n)}a=q.ga.create(q.j(70,200,70,255),90,26);g=q.U.create("+","Arial",20);g.l(45,13);g.D(q.a(0.5,0.5));a.l(q.a(334,0));a.vb="Add";a.g(g);f.push([a]);c.push(a);this.H=this.b.main_panel.list;B=this;this.H.Hc=function(){for(var a=0,d=0;d<c.length;d++)a+=c[d].c().height;return q.size(758,a)};this.H.Bc=function(){return c.length};this.H.Tc=function(a){return c[a].c()};this.H.Sc=function(a){return c[a]};this.H.$b=function(a,c,d){B.Ma(d.S);if(null==B.i)switch(a){case "Delete":var e="Delete";
B.iT(c)&&(e="Delete (Will destroy all child events)");B.da.g(DropDownList.zf(B,B.FR,["Cancel",e],d.S));B.ab=c;break;case "Add":a=["Default Interaction","On Examine","On Talk Close","On Talk Option Selected","On Game Load"];var f=[{enabled:!0},{enabled:!1},{enabled:!1},{enabled:!1},{enabled:!0}];for(e in B.data.data)if(B.data.data[e])for(var g=0;g<B.data.data[e].responses.length;g++)if("Talk"==B.data.data[e].responses[g].type){f[2].enabled=!0;break}0==B.data.data.length&&(f[1].enabled=!1);B.$R()&&
(f[3].enabled=!0);switch(B.data.specifier){case "Item":a.push("On Pickup","On Drop","On Dequip","On Trade");f.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0});break;case "Tile":a.push("Interact On","Interact Facing","Will Enter","On Enter","Will Leave","On Leave","On Come Near"),f.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0}),f[0].enabled=!1}B.da.g(DropDownList.zf(B,B.DQ,a,d.S,f));B.ab=c;break;case "Use":B.o.Gn(c,B.cb[c])}};this.H.ea=ListView.create(this.H);
this.H.ea.Wc(f);this.H.g(this.H.ea)},GH:function(a){for(var c=0;c<this.data.data.length;c++)"On Talk Close"==this.data.data[c].type&&this.data.data[c].data.attachedEvent==a&&(this.GH(c),this.data.data.splice(c,1))},iT:function(a){for(var c=0;c<this.data.data.length;c++)if("On Talk Close"==this.data.data[c].type&&this.data.data[c].data.attachedEvent==a)return!0;return!1},$R:function(){for(var a=0;a<this.data.data.length;a++)for(var c=0;c<this.data.data[a].responses.length;c++)if("Talk"==this.data.data[a].responses[c].type)return!0;
return!1},FR:function(a){switch(a){case 1:null!=this.o.ab&&(this.o.GH(this.o.ab),this.o.data.data.splice(this.o.ab,1),this.o.rb(),this.o.ab=null)}},HR:function(a){switch(a){case 1:null!=this.o.ab&&(this.o.data.data[this.o.hj].responses.splice(this.o.ab,1),this.o.rb(),this.o.ab=null,this.o.hj=null)}},GR:function(a){switch(a){case 1:null!=this.o.ab&&(this.o.data.data[this.o.hj].requirements.splice(this.o.ab,1),this.o.rb(),this.o.ab=null,this.o.hj=null)}},JQ:function(a){this.o.data.data.push({type:"On Talk Close",
responses:[],requirements:[],data:{attachedEvent:a}});this.o.rb()},KQ:function(a,c){this.o.WD=a;for(var d=[],e=0;e<this.o.data.data[a].responses.length;e++)if("Talk"==this.o.data.data[a].responses[e].type)for(var f in this.o.data.data[a].responses[e].data.options)d.push(f+": "+this.o.data.data[a].responses[e].data.options[f]);this.da.g(DropDownList.zf(this.o,this.o.jR,d,c.S))},jR:function(a){this.o.data.data.push({type:"On Talk Option Selected for event:"+this.o.WD+", option:"+a,responses:[],requirements:[],
data:{attachedEvent:this.o.WD,attachedOption:a}});this.o.rb();this.o.WD=null},DQ:function(a,c){var d="";switch(a){case 0:d="Default Event";break;case 1:d="On Examine";break;case 2:var d=[],e;for(e in this.o.data.data)if(this.o.data.data[e])for(var f=0;f<this.o.data.data[e].responses.length;f++)"Talk"==this.o.data.data[e].responses[f].type&&d.push(e+": "+this.o.data.data[e].type);this.da.g(DropDownList.zf(this.o,this.o.JQ,d,c.S));return;case 3:d=[];for(e in this.o.data.data)if(this.o.data.data[e])for(f=
0;f<this.o.data.data[e].responses.length;f++)"Talk"==this.o.data.data[e].responses[f].type&&this.o.data.data[e].responses[f].data.options&&0<this.o.data.data[e].responses[f].data.options.length&&d.push(e+": "+this.o.data.data[e].type);this.da.g(DropDownList.zf(this.o,this.o.KQ,d,c.S));return;case 4:d="On Game load"}if(""==d)switch(this.o.data.specifier){case "Item":switch(a){case 5:d="On Pickup";break;case 6:d="On Drop";break;case 7:d="On Dequip";break;case 8:d="On Trade"}break;case "Tile":switch(a){case 5:d=
"Interact On";break;case 6:d="Interact Facing";break;case 7:d="Will Enter";break;case 8:d="On Enter";break;case 9:d="Will Leave";break;case 10:d="On Leave";break;case 11:d="On Come Near"}}this.o.data.data.push({type:d,responses:[],requirements:[],data:{}});this.o.rb()},IQ:function(a){var c="";switch(a){case 0:c="Talk";break;case 1:c="Destroy";break;case 2:c="Give /Take Item";break;case 3:c="Set Quest Point";break;case 4:c="Warp Player";break;case 5:c="Wait";break;case 6:c="Repeat Responses";break;
case 7:c="Open/Close Panel";break;case 8:c="Modify Player Stats";break;case 9:c="Script Response"}if(""==c)switch(this.o.data.specifier){case "NPC":switch(a){case 10:c="Attack";break;case 11:c="Run Away";break;case 12:c="Defend";break;case 13:c="Modify NPC Stats"}break;case "Item":switch(a){case 10:c="Equip Item";break;case 11:c="Read Item"}break;case "Tile":switch(a){case 10:c="Block Entry";break;case 11:c="Add Layer Graphic";break;case 12:c="Show Sign";break;case 13:c="Spawn NPC";break;case 14:c=
"Spawn Item"}}this.o.data.data[this.o.hj].responses.push({type:c,data:{}});this.o.rb()},HQ:function(a){var c="";switch(a){case 0:c="Has Player Item";break;case 1:c="Is Player Statistics";break;case 2:c="Is Quest Point";break;case 3:c="Is Panel Visibility";break;case 4:c="Is Player Inventory Space";break;case 5:c="Script Requirement"}if(""==c)switch(this.o.data.specifier){case "Tile":switch(a){case 6:c="Is Event Fired By"}break;case "NPC":switch(a){case 6:c="Is NPC Statistics";break;case 7:c="Is NPC Actioning"}}this.o.data.data[this.o.hj].requirements.push({type:c,
data:{}});this.o.rb()},vc:function(){return{panels:{children:{background_image:{ba:"GUI/event_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(1E3,400),children:{list:{size:q.size(758,360),color:q.j(0,200,200,200),position:q.a(0,0),e:q.a(0,0)},okbtn:{position:q.a(4,364),size:q.size(32,32),ba:"GUI/tick_icon.png",e:q.a(0,0)},cancelbtn:{position:q.a(46,364),size:q.size(32,32),ba:"GUI/cross_icon.png",e:q.a(0,0)},abbrlbl:"Tile"==this.data.specifier?{label:"Abbr",fontSize:20,e:q.a(0,0),position:q.a(550,
368),size:q.size(36,32),color:q.n(0,0,0)}:null,abbrEntry:"Tile"==this.data.specifier?{position:q.a(595,364),size:q.size(36,32),color:q.n(255,255,255)}:null,namelbl:{label:"Name:",fontSize:20,e:q.a(0,0),position:q.a(110,368),color:q.n(0,0,0)},nameEntry:{position:q.a(180,364),size:q.size(340,32),color:q.j(255,255,255,255)}}},control_panel:{e:q.a(0,0),position:q.a(0,400),size:q.size(1E3,32),children:{header:{label:"Script Editor",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(976,
6),size:q.size(20,20),e:q.a(0,0),ba:"GUI/close.png"}}},subEditorOver:{visible:!1,color:q.j(0,0,0,127),position:q.a(0,0),size:q.size(800,400)},mainEditorOver:{color:q.j(0,0,0,127),position:q.a(800,0),size:q.size(200,400)}}}}},PH:function(a,c,d){this.la={event:a,listtype:c,id:d};this.In=this.data.data[a][c][d].type;this.JU=J(this.data.data[this.la.event][this.la.listtype][this.la.id].data);this.at()},X9:function(a){this.data.data[this.la.event][this.la.listtype][this.la.id].data=J(a);this.Lw();this.la=
null;this.rb()},W9:function(){this.Lw();this.la=null},f2:function(){},fE:null,gE:null,hE:null,Vc:null,OJ:null,zJ:null,Uw:null,gj:null,Cx:null,Ml:null,Nl:null,Ll:null,Ex:null,Fx:null,Dx:null,IJ:null,On:0,xJ:null,fH:null,Tw:null,Fc:null,Kx:null,XR:function(a,c){var d={panels:{children:{editArea:{color:q.j(127,127,127,255),e:q.a(0,0),position:q.a(0,0),size:q.size(200,250)},editBox:{size:q.size(178,196),e:q.a(0,0),position:q.a(8,12)},okbtn:{position:q.a(62,210),size:q.size(32,32),ba:"GUI/tick_icon.png",
e:q.a(0,0)},cancelbtn:{position:q.a(106,210),size:q.size(32,32),ba:"GUI/cross_icon.png",e:q.a(0,0)}}}};this.jg=xa(d,!0);this.i.g(this.jg);this.UD=new $(this.jg.editBox,q.size(this.jg.editBox.c().width,this.jg.editBox.c().height),q.a(0,this.jg.editBox.c().height),c?c:"\x3cEnter text\x3e",q.j(255,255,255),q.n(0,0,0),!0);this.UD.xb(!0);this.UD.Ic(!1);this.VD=a},at:function(){this.i&&(this.i.R(),this.i=null);this.b.subEditorOver.G(!0);this.b.mainEditorOver.G(!1);var a={panels:{position:q.a(802,0),children:{}}},
c=this.data.data[this.la.event][this.la.listtype][this.la.id].data;switch(this.In){case "Warp Player":a.panels.children={mapNumberLabel:{label:"Map ID",e:q.a(0,0),position:q.a(12,374)},mapNumberText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,340),size:q.size(100,32)},mapXLabel:{label:"Map X",e:q.a(0,0),position:q.a(12,310)},mapXText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,276),size:q.size(80,32)},mapYLabel:{label:"Map Y",e:q.a(0,0),position:q.a(100,310)},mapYText:{color:q.j(255,
255,255,255),e:q.a(0,0),position:q.a(100,276),size:q.size(80,32)}};break;case "Script Response":a.panels.children={sayLabelPre:{label:"Script:\n\nfunction resp(data){\n//data is { }",e:q.a(0,1),position:q.a(12,374),color:q.n(255,0,0)},sayLabelPost:{label:"};",e:q.a(0,1),position:q.a(12,95),color:q.n(255,0,0)},sayText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,100),size:q.size(174,200)}};break;case "Script Requirement":a.panels.children={sayLabelPre:{label:"Script:\n\nfunction req(data,isAllow){\n//data is { }\n//isAllow defaults false",
e:q.a(0,1),position:q.a(12,374),color:q.n(255,0,0)},sayLabelPost:{label:"return isAllow;\n};",e:q.a(0,1),position:q.a(12,95),color:q.n(255,0,0)},sayText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,100),size:q.size(174,190)}};break;case "Read Item":a.panels.children={sayLabel:{label:"Say:",e:q.a(0,0),position:q.a(12,374)},sayText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,50),size:q.size(174,322)}};break;case "Show Sign":a.panels.children={signLabel:{label:"Sign Title:",e:q.a(0,
0),position:q.a(12,376)},signText:{color:q.n(255,255,255),e:q.a(0,0),position:q.a(12,340),size:q.size(174,32)},sayLabel:{label:"Sign Content:",e:q.a(0,0),position:q.a(12,318)},sayText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,50),size:q.size(174,258)}};break;case "Talk":a.panels.children={sayLabel:{label:"Say:",e:q.a(0,0),position:q.a(12,374)},sayText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,274),size:q.size(174,100)},optionLabel:{label:"Options:",e:q.a(0,0),position:q.a(12,
235)},optionList:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,50),size:q.size(154,185)}};break;case "Is Quest Point":case "Set Quest Point":a.panels.children={questLabel:{label:"Quest:",e:q.a(0,0),position:q.a(12,374)},questList:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},objectiveLabel:{label:"Objective:",e:q.a(0,0),position:q.a(12,189)},objectiveList:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,50),size:q.size(154,135)}};break;case "Give /Take Item":case "Has Player Item":a.panels.children=
{itemsLabel:{label:"Item:",e:q.a(0,0),position:q.a(12,374)},itemList:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},amountLabel:{label:"Amount:",e:q.a(0,0),position:q.a(12,189)},amountText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,153),size:q.size(154,32)},amountNote:{label:"Has Player Item"==this.In?"":"Use negative item amounts to take away. Use positive amounts to give.",e:q.a(0,1),position:q.a(12,145)}};break;case "Modify Player Stats":case "Modify NPC Stats":a.panels.children=
{skillsLabel:{label:"Skill:",e:q.a(0,0),position:q.a(12,374)},skillList:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},levelLabel:{label:"Level Modify",e:q.a(0,0),position:q.a(12,205)},levelText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,169),size:q.size(154,32)},expLabel:{label:"XP Modify: (% allowed)",e:q.a(0,0),position:q.a(12,145)},expText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,109),size:q.size(154,32)},healthLabel:{label:"Health Modify: (% allowed)",
e:q.a(0,0),position:q.a(12,85)},healthText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,49),size:q.size(154,32)}};break;case "Is Panel Visibility":case "Open/Close Panel":a.panels.children={panelsLabel:{label:"Panel:",e:q.a(0,0),position:q.a(12,374)},panelList:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},visibleLabel:{label:"Visibility:",e:q.a(0,0),position:q.a(12,205)},visibleButton:{color:q.j(255,0,0,255),e:q.a(0,0),position:q.a(12,169),size:q.size(154,
32),children:{content:{position:q.a(77,16),e:q.a(0.5,0.5),label:"Invisible",color:q.n(0,0,0)}}}};break;case "Is Event Fired By":a.panels.children={objectLabel:{label:"Possible Types:",e:q.a(0,0),position:q.a(12,374)},objectList:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)}};break;case "Is NPC Actioning":a.panels.children={actionLabel:{label:"Actions:",e:q.a(0,0),position:q.a(12,374)},actionList:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,
135)}};break;case "Is Player Inventory Space":a.panels.children={spaceLabel:{label:"Inventory Space",e:q.a(0,0),position:q.a(12,374)},spaceText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,340),size:q.size(100,32)}};break;case "Wait":a.panels.children={timeLabel:{label:"Time (Seconds)",e:q.a(0,0),position:q.a(12,374)},timeText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,340),size:q.size(100,32)}};break;case "Repeat Responses":a.panels.children={amountLabel:{label:"Repeat Amount",
e:q.a(0,0),position:q.a(12,374)},amountText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,340),size:q.size(100,32)},amountNote:{label:"Use 0 for infinite amount of repeats.",e:q.a(0,1),position:q.a(12,300)}};break;case "Is Player Statistics":case "Is NPC Statistics":a.panels.children={skillsLabel:{label:"Skill:",e:q.a(0,0),position:q.a(12,374)},skillList:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},levelLabel:{label:"Level Range",e:q.a(0,0),position:q.a(12,
205)},levelDash:{label:"-",e:q.a(0,0),position:q.a(91,174)},levelTextLower:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,169),size:q.size(75,32)},levelTextUpper:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(100,169),size:q.size(75,32)},expLabel:{label:"XP Range: (% allowed)",e:q.a(0,0),position:q.a(12,145)},expDash:{label:"-",e:q.a(0,0),position:q.a(91,114)},expTextLower:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,109),size:q.size(75,32)},expTextUpper:{color:q.j(255,255,
255,255),e:q.a(0,0),position:q.a(100,109),size:q.size(75,32)},healthLabel:{label:"Health Range: (% allowed)",e:q.a(0,0),position:q.a(12,85)},healthDash:{label:"-",e:q.a(0,0),position:q.a(91,54)},healthTextLower:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,49),size:q.size(75,32)},healthTextUpper:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(100,49),size:q.size(75,32)}};break;case "Equip Item":a.panels.children={equipLabel:{label:"Equips To:",e:q.a(0,0),position:q.a(12,374)},headButton:{color:q.j(255,
0,0,255),e:q.a(0,0),position:q.a(69,320),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(0.5,0.5),label:"Head",color:q.n(0,0,0)}}},bodyButton:{color:q.j(255,0,0,255),e:q.a(0,0),position:q.a(69,280),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(0.5,0.5),label:"Body",color:q.n(0,0,0)}}},legButton:{color:q.j(255,0,0,255),e:q.a(0,0),position:q.a(69,240),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(0.5,0.5),label:"Legs",color:q.n(0,0,0)}}},feetButton:{color:q.j(255,
0,0,255),e:q.a(0,0),position:q.a(69,200),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(0.5,0.5),label:"Feet",color:q.n(0,0,0)}}},lArmButton:{color:q.j(255,0,0,255),e:q.a(0,0),position:q.a(10,280),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(0.5,0.5),label:"L Arm",color:q.n(0,0,0)}}},rArmButton:{color:q.j(255,0,0,255),e:q.a(0,0),position:q.a(128,280),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(0.5,0.5),label:"R Arm",color:q.n(0,0,0)}}},modButton:{color:q.j(255,
0,0,255),e:q.a(0,0),position:q.a(10,160),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(0.5,0.5),label:"Mod",color:q.n(0,0,0)}}}}}a.panels.children.okbtn={position:q.a(62,8),size:q.size(32,32),ba:"GUI/tick_icon.png",e:q.a(0,0)};a.panels.children.cancelbtn={position:q.a(106,8),size:q.size(32,32),ba:"GUI/cross_icon.png",e:q.a(0,0)};this.i=xa(a,!0);this.b.g(this.i);switch(this.In){case "Warp Player":var d=a=1;c.index&&(a=c.index%O,d=Math.floor(c.index/O));this.fE=new $(this.i.mapNumberText,
q.size(this.i.mapNumberText.c().width,this.i.mapNumberText.c().height),q.a(0,this.i.mapNumberText.c().height),null!=c.mapnum&&"undefined"!==c.mapnum?c.mapnum:"0",q.j(255,255,255),q.n(0,0,0));this.fE.xb(!0);this.gE=new $(this.i.mapXText,q.size(this.i.mapXText.c().width,this.i.mapXText.c().height),q.a(0,this.i.mapXText.c().height),a,q.j(255,255,255),q.n(0,0,0));this.gE.xb(!0);this.hE=new $(this.i.mapYText,q.size(this.i.mapYText.c().width,this.i.mapYText.c().height),q.a(0,this.i.mapYText.c().height),
d,q.j(255,255,255),q.n(0,0,0));this.hE.xb(!0);break;case "Show Sign":this.Vc=new $(this.i.sayText,q.size(this.i.sayText.c().width,this.i.sayText.c().height),q.a(0,this.i.sayText.c().height),c.content?c.content:"\x3cEnter text\x3e",q.j(255,255,255),q.n(0,0,0),!0);this.Vc.xb(!0);this.Vc.Ic(!1);this.OD=new $(this.i.signText,q.size(this.i.signText.c().width,this.i.signText.c().height),q.a(0,this.i.signText.c().height),c.title?c.title:"\x3cEnter text\x3e",q.j(255,255,255),q.n(0,0,0),!0);this.OD.xb(!0);
this.OD.Ic(!1);break;case "Read Item":this.Vc=new $(this.i.sayText,q.size(this.i.sayText.c().width,this.i.sayText.c().height),q.a(0,this.i.sayText.c().height),c.say?c.say:"\x3cEnter text\x3e",q.j(255,255,255),q.n(0,0,0),!0);this.Vc.xb(!0);this.Vc.Ic(!1);break;case "Script Response":this.Vc=new $(this.i.sayText,q.size(this.i.sayText.c().width,this.i.sayText.c().height),q.a(0,this.i.sayText.c().height),c.functionContent?c.functionContent:"\x3cEnter text\x3e",q.j(255,255,255),q.n(0,0,0),!0);this.Vc.xb(!0);
this.Vc.Ic(!1);break;case "Script Requirement":this.Vc=new $(this.i.sayText,q.size(this.i.sayText.c().width,this.i.sayText.c().height),q.a(0,this.i.sayText.c().height),c.functionContent?c.functionContent:"\x3cEnter text\x3e",q.j(255,255,255),q.n(0,0,0),!0);this.Vc.xb(!0);this.Vc.Ic(!1);break;case "Talk":this.Vc=new $(this.i.sayText,q.size(this.i.sayText.c().width,this.i.sayText.c().height),q.a(0,this.i.sayText.c().height),c.say?c.say:"\x3cEnter text\x3e",q.j(255,255,255),q.n(0,0,0),!0);this.Vc.xb(!0);
this.Vc.Ic(!1);var e=[],a=[],f=c.options?c.options:[];console.log(f);for(d=0;d<f.length;d++){e[d]=q.F.create();var g=q.ga.create(q.j(0,0,0,127),154,1),k=q.U.create(f[d],"Arial",15);k.r(q.n(0,0,0));k.D(q.a(0,0));k.l(q.a(4,4));k.yb(q.size(104,0));e[d].Q(154,k.c().height+8);var h=q.w.Sa(q.ja.f().pa("GUI/edit.png"));h.l(q.a(130,0));h.D(q.a(0,0));h.vb="Edit";h.Jc((k.c().height+8)/2-10);var l=q.w.Sa(q.ja.f().pa("GUI/trash.png"));l.l(q.a(108,0));l.D(q.a(0,0));l.vb="Delete";l.Jc((k.c().height+8)/2-10);a.push([h,
l]);var m=q.ga.create(q.j(255,255,255,255),154,k.c().height+8);e[d].g(m);e[d].wc=m;e[d].g(g);e[d].g(k);e[d].g(h);e[d].g(l)}d=q.ga.create(q.j(70,200,70,255),90,26);g=q.U.create("+","Arial",20);g.l(45,13);g.D(q.a(0.5,0.5));d.l(q.a(34,0));d.vb="Add";d.g(g);a.push([d]);e.push(d);var n=this;this.i.optionList.Hc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.i.optionList.Bc=function(){return e.length};this.i.optionList.Tc=function(a){return e[a].c()};this.i.optionList.Sc=
function(a){return e[a]};this.i.optionList.mi=function(a){return e[a].wc};this.i.optionList.$b=function(a,d){if(!n.jg)switch(a){case "Add":c.options||(c.options=[]);c.options.push("\x3cEnter Text\x3e");c.say=n.Vc.aa();n.i.optionList.ea.R();n.i.optionList.ea=null;n.at();break;case "Delete":c.options.splice(d,1);c.say=n.Vc.aa();n.i.R();n.i=null;n.at();break;case "Edit":c.say=n.Vc.aa(),n.XR(d,c.options[d]),n.i.optionList.ea.R(),n.i.optionList.ea=null}};this.i.optionList.ea=ListView.create(this.i.optionList);
this.i.optionList.ea.Wc(a);this.i.optionList.g(this.i.optionList.ea);break;case "Is Quest Point":case "Set Quest Point":e=[];a=[];f=ObjectLists.Gp();for(d=0;d<f.length;d++)e[d]=q.F.create(),g=q.ga.create(q.j(0,0,0,127),154,1),k=q.U.create(f[d].name,"Arial",15),k.r(q.n(0,0,0)),k.D(q.a(0,0)),k.l(q.a(4,4)),k.yb(q.size(126,0)),h=q.w.Sa(q.ja.f().pa("GUI/use.png")),h.l(q.a(130,0)),h.D(q.a(0,0)),h.vb="Use",e[d].Q(154,k.c().height+8),h.Jc((k.c().height+8)/2-10),a.push([h]),m=q.ga.create(q.j(255,255,255,255),
154,k.c().height+8),e[d].g(m),e[d].wc=m,e[d].g(g),e[d].g(k),e[d].g(h);n=this;this.i.questList.Hc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.i.questList.Bc=function(){return e.length};this.i.questList.Tc=function(a){return e[a].c()};this.i.questList.Sc=function(a){return e[a]};this.i.questList.mi=function(a){return e[a].wc};this.i.questList.$b=function(a,c){if("Use"==a){n.i.objectiveList.ea&&n.i.objectiveList.ea.R();this.ea.wc(c);n.OJ=c;for(var d=[],e=[],
f=q.ja.f(),g=ObjectLists.Gp()[c].objectiveList,h=0;h<g.length;h++){d[h]=q.F.create();var k=q.ga.create(q.j(0,0,0,127),154,1);k.l(q.a(0,0));var l=q.U.create(g[h],"Arial",15);l.r(q.n(0,0,0));l.D(q.a(0,0));l.l(q.a(4,4));l.yb(q.size(126,0));var m=q.w.Sa(f.pa("GUI/use.png"));m.l(q.a(130,0));m.D(q.a(0,0));m.vb="Use";e.push([m]);d[h].Q(126,l.c().height+8);m.Jc((l.c().height+8)/2-10);var ia=q.ga.create(q.j(255,255,255,255),154,l.c().height+8);d[h].g(ia);d[h].wc=ia;d[h].g(k);d[h].g(l);d[h].g(m)}n.i.objectiveList.Hc=
function(){for(var a=0,c=0;c<d.length;c++)a+=d[c].c().height;return q.size(154,a)};n.i.objectiveList.Bc=function(){return d.length};n.i.objectiveList.mi=function(a){return d[a].wc};n.i.objectiveList.Tc=function(a){return d[a].c()};n.i.objectiveList.Sc=function(a){return d[a]};n.i.objectiveList.$b=function(a,c){this.ea.wc(c);n.zJ=c};n.i.objectiveList.ea=ListView.create(n.i.objectiveList);n.i.objectiveList.ea.Wc(e);n.i.objectiveList.g(n.i.objectiveList.ea)}};this.i.questList.ea=ListView.create(this.i.questList);
this.i.questList.ea.Wc(a);this.i.questList.g(this.i.questList.ea);null!=c.quest&&"undefined"!==c.quest&&(this.i.questList.$b("Use",c.quest),null!=c.objective&&"undefined"!==c.objective&&this.i.objectiveList.$b("Use",c.objective));break;case "Give /Take Item":case "Has Player Item":this.i.amountNote.yb(q.size(180,0));e=[];a=[];f=ObjectLists.Ig();for(d=0;d<f.length;d++)e[d]=q.F.create(),g=q.ga.create(q.j(0,0,0,127),154,1),k=q.U.create(f[d].name,"Arial",15),k.r(q.n(0,0,0)),k.D(q.a(0,0)),k.l(q.a(4,4)),
k.yb(q.size(126,0)),h=q.w.Sa(q.ja.f().pa("GUI/use.png")),h.l(q.a(130,0)),h.D(q.a(0,0)),h.vb="Use",e[d].Q(154,k.c().height+8),h.Jc((k.c().height+8)/2-10),a.push([h]),m=q.ga.create(q.j(255,255,255,255),154,k.c().height+8),e[d].g(m),e[d].wc=m,e[d].g(g),e[d].g(k),e[d].g(h);n=this;this.i.itemList.Hc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.i.itemList.Bc=function(){return e.length};this.i.itemList.Tc=function(a){return e[a].c()};this.i.itemList.Sc=function(a){return e[a]};
this.i.itemList.mi=function(a){return e[a].wc};this.i.itemList.$b=function(a,c){"Use"==a&&(this.ea.wc(c),n.gj=c)};this.i.itemList.ea=ListView.create(this.i.itemList);this.i.itemList.ea.Wc(a);this.i.itemList.g(this.i.itemList.ea);null!=c.item&&"undefined"!==c.item&&this.i.itemList.$b("Use",c.item);this.Uw=new $(this.i.amountText,q.size(this.i.amountText.c().width,this.i.amountText.c().height),q.a(0,this.i.amountText.c().height),c.amount?c.amount:"0",q.j(255,255,255),q.n(0,0,0));this.Uw.xb(!0);this.Uw.Ic(!1);
break;case "Modify Player Stats":case "Modify NPC Stats":e=[];a=[];f=ObjectLists.Ef();for(d=0;d<f.length;d++)e[d]=q.F.create(),g=q.ga.create(q.j(0,0,0,127),154,1),k=q.U.create(f[d].name,"Arial",15),k.r(q.n(0,0,0)),k.D(q.a(0,0)),k.l(q.a(4,4)),k.yb(q.size(126,0)),h=q.w.Sa(q.ja.f().pa("GUI/use.png")),h.l(q.a(130,0)),h.D(q.a(0,0)),h.vb="Use",e[d].Q(154,k.c().height+8),h.Jc((k.c().height+8)/2-10),a.push([h]),m=q.ga.create(q.j(255,255,255,255),154,k.c().height+8),e[d].g(m),e[d].wc=m,e[d].g(g),e[d].g(k),
e[d].g(h);n=this;this.i.skillList.Hc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.i.skillList.Bc=function(){return e.length};this.i.skillList.Tc=function(a){return e[a].c()};this.i.skillList.Sc=function(a){return e[a]};this.i.skillList.mi=function(a){return e[a].wc};this.i.skillList.$b=function(a,c){"Use"==a&&(this.ea.wc(c),n.Cx=c)};this.i.skillList.ea=ListView.create(this.i.skillList);this.i.skillList.ea.Wc(a);this.i.skillList.g(this.i.skillList.ea);null!=
c.skill&&"undefined"!==c.skill&&this.i.skillList.$b("Use",c.skill);this.Ml=new $(this.i.levelText,q.size(this.i.levelText.c().width,this.i.levelText.c().height),q.a(0,this.i.levelText.c().height),c.level?c.level:"0",q.j(255,255,255),q.n(0,0,0));this.Ml.xb(!0);this.Ml.Ic(!1);this.Nl=new $(this.i.expText,q.size(this.i.expText.c().width,this.i.expText.c().height),q.a(0,this.i.expText.c().height),c.xp?c.xp:"0",q.j(255,255,255),q.n(0,0,0));this.Nl.xb(!0);this.Nl.Ic(!1);this.Ll=new $(this.i.healthText,
q.size(this.i.healthText.c().width,this.i.healthText.c().height),q.a(0,this.i.healthText.c().height),c.health?c.health:"0",q.j(255,255,255),q.n(0,0,0));this.Ll.xb(!0);this.Ll.Ic(!1);break;case "Is Panel Visibility":case "Open/Close Panel":e=[];a=[];f=["Inventory","Equipment","Skills","QuestLog"];for(d=0;d<f.length;d++)e[d]=q.F.create(),g=q.ga.create(q.j(0,0,0,127),154,1),k=q.U.create(f[d],"Arial",15),k.r(q.n(0,0,0)),k.D(q.a(0,0)),k.l(q.a(4,4)),k.yb(q.size(126,0)),h=q.w.Sa(q.ja.f().pa("GUI/use.png")),
h.l(q.a(130,0)),h.D(q.a(0,0)),h.vb="Use",e[d].Q(154,k.c().height+8),h.Jc((k.c().height+8)/2-10),a.push([h]),m=q.ga.create(q.j(255,255,255,255),154,k.c().height+8),e[d].g(m),e[d].wc=m,e[d].g(g),e[d].g(k),e[d].g(h);n=this;this.i.panelList.Hc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.i.panelList.Bc=function(){return e.length};this.i.panelList.Tc=function(a){return e[a].c()};this.i.panelList.Sc=function(a){return e[a]};this.i.panelList.mi=function(a){return e[a].wc};
this.i.panelList.$b=function(a,c){"Use"==a&&(this.ea.wc(c),n.IJ=c)};this.i.panelList.ea=ListView.create(this.i.panelList);this.i.panelList.ea.Wc(a);this.i.panelList.g(this.i.panelList.ea);null!=c.panel&&"undefined"!==c.panel&&this.i.panelList.$b("Use",c.panel);this.On=1==c.visible?1:0;1==this.On&&(this.i.visibleButton.r(q.j(0,255,0,255)),this.i.visibleButton.content.ra("Visible"));break;case "Is Event Fired By":e=[];a=[];f=["Player","NPC"];for(d=0;d<f.length;d++)e[d]=q.F.create(),g=q.ga.create(q.j(0,
0,0,127),154,1),k=q.U.create(f[d],"Arial",15),k.r(q.n(0,0,0)),k.D(q.a(0,0)),k.l(q.a(4,4)),k.yb(q.size(126,0)),h=q.w.Sa(q.ja.f().pa("GUI/use.png")),h.l(q.a(130,0)),h.D(q.a(0,0)),h.vb="Use",e[d].Q(154,k.c().height+8),h.Jc((k.c().height+8)/2-10),a.push([h]),m=q.ga.create(q.j(255,255,255,255),154,k.c().height+8),e[d].g(m),e[d].wc=m,e[d].g(g),e[d].g(k),e[d].g(h);n=this;this.i.objectList.Hc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.i.objectList.Bc=function(){return e.length};
this.i.objectList.Tc=function(a){return e[a].c()};this.i.objectList.Sc=function(a){return e[a]};this.i.objectList.mi=function(a){return e[a].wc};this.i.objectList.$b=function(a,c){"Use"==a&&(this.ea.wc(c),n.xJ=c)};this.i.objectList.ea=ListView.create(this.i.objectList);this.i.objectList.ea.Wc(a);this.i.objectList.g(this.i.objectList.ea);null!=c.object&&"undefined"!==c.object&&this.i.objectList.$b("Use",c.object);break;case "Is NPC Actioning":e=[];a=[];f=["Attacking","Defending","Fleeing"];for(d=0;d<
f.length;d++)e[d]=q.F.create(),g=q.ga.create(q.j(0,0,0,127),154,1),k=q.U.create(f[d],"Arial",15),k.r(q.n(0,0,0)),k.D(q.a(0,0)),k.l(q.a(4,4)),k.yb(q.size(126,0)),h=q.w.Sa(q.ja.f().pa("GUI/use.png")),h.l(q.a(130,0)),h.D(q.a(0,0)),h.vb="Use",e[d].Q(154,k.c().height+8),h.Jc((k.c().height+8)/2-10),a.push([h]),m=q.ga.create(q.j(255,255,255,255),154,k.c().height+8),e[d].g(m),e[d].wc=m,e[d].g(g),e[d].g(k),e[d].g(h);n=this;this.i.actionList.Hc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,
a)};this.i.actionList.Bc=function(){return e.length};this.i.actionList.Tc=function(a){return e[a].c()};this.i.actionList.Sc=function(a){return e[a]};this.i.actionList.mi=function(a){return e[a].wc};this.i.actionList.$b=function(a,c){"Use"==a&&(this.ea.wc(c),n.fH=c)};this.i.actionList.ea=ListView.create(this.i.actionList);this.i.actionList.ea.Wc(a);this.i.actionList.g(this.i.actionList.ea);null!=c.action&&"undefined"!==c.action&&this.i.actionList.$b("Use",c.action);break;case "Is Player Inventory Space":this.Tw=
new $(this.i.spaceText,q.size(this.i.spaceText.c().width,this.i.spaceText.c().height),q.a(0,this.i.spaceText.c().height),null!=c.space&&"undefined"!==c.space?c.space:"0",q.j(255,255,255),q.n(0,0,0));this.Tw.xb(!0);this.Tw.Ic(!1);break;case "Wait":this.Kx=new $(this.i.timeText,q.size(this.i.timeText.c().width,this.i.timeText.c().height),q.a(0,this.i.timeText.c().height),null!=c.time&&"undefined"!==c.time?c.time:"0",q.j(255,255,255),q.n(0,0,0));this.Kx.xb(!0);this.Kx.Ic(!1);break;case "Repeat Responses":this.i.amountNote.yb(q.size(180,
0));this.iD=new $(this.i.amountText,q.size(this.i.amountText.c().width,this.i.amountText.c().height),q.a(0,this.i.amountText.c().height),null!=c.amount&&"undefined"!==c.amount?c.amount:"1",q.j(255,255,255),q.n(0,0,0));this.iD.xb(!0);this.iD.Ic(!1);break;case "Is Player Statistics":case "Is NPC Statistics":e=[];a=[];f=ObjectLists.Ef();for(d=0;d<f.length;d++)e[d]=q.F.create(),g=q.ga.create(q.j(0,0,0,127),154,1),k=q.U.create(f[d].name,"Arial",15),k.r(q.n(0,0,0)),k.D(q.a(0,0)),k.l(q.a(4,4)),k.yb(q.size(126,
0)),h=q.w.Sa(q.ja.f().pa("GUI/use.png")),h.l(q.a(130,0)),h.D(q.a(0,0)),h.vb="Use",e[d].Q(154,k.c().height+8),h.Jc((k.c().height+8)/2-10),a.push([h]),m=q.ga.create(q.j(255,255,255,255),154,k.c().height+8),e[d].g(m),e[d].wc=m,e[d].g(g),e[d].g(k),e[d].g(h);n=this;this.i.skillList.Hc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.i.skillList.Bc=function(){return e.length};this.i.skillList.Tc=function(a){return e[a].c()};this.i.skillList.Sc=function(a){return e[a]};
this.i.skillList.mi=function(a){return e[a].wc};this.i.skillList.$b=function(a,c){"Use"==a&&(this.ea.wc(c),n.Cx=c)};this.i.skillList.ea=ListView.create(this.i.skillList);this.i.skillList.ea.Wc(a);this.i.skillList.g(this.i.skillList.ea);null!=c.skill&&"undefined"!==c.skill&&this.i.skillList.$b("Use",c.skill);this.Ml=new $(this.i.levelTextLower,q.size(this.i.levelTextLower.c().width,this.i.levelTextLower.c().height),q.a(0,this.i.levelTextLower.c().height),null!=c.levelLower&&"undefined"!==c.levelLower&&
""!=c.levelLower?c.levelLower:"0",q.j(255,255,255),q.n(0,0,0));this.Ml.xb(!0);this.Ml.Ic(!1);this.Nl=new $(this.i.expTextLower,q.size(this.i.expTextLower.c().width,this.i.expTextLower.c().height),q.a(0,this.i.expTextLower.c().height),null!=c.xpLower&&"undefined"!==c.xpLower&&""!=c.xpLower?c.xpLower:"0",q.j(255,255,255),q.n(0,0,0));this.Nl.xb(!0);this.Nl.Ic(!1);this.Ll=new $(this.i.healthTextLower,q.size(this.i.healthTextLower.c().width,this.i.healthTextLower.c().height),q.a(0,this.i.healthTextLower.c().height),
null!=c.healthLower&&"undefined"!==c.healthLower&&""!=c.healthLower?c.healthLower:"0",q.j(255,255,255),q.n(0,0,0));this.Ll.xb(!0);this.Ll.Ic(!1);this.Ex=new $(this.i.levelTextUpper,q.size(this.i.levelTextUpper.c().width,this.i.levelTextUpper.c().height),q.a(0,this.i.levelTextUpper.c().height),null!=c.levelUpper&&"undefined"!==c.levelUpper&&""!=c.levelUpper?c.levelUpper:"0",q.j(255,255,255),q.n(0,0,0));this.Ex.xb(!0);this.Ex.Ic(!1);this.Fx=new $(this.i.expTextUpper,q.size(this.i.expTextUpper.c().width,
this.i.expTextUpper.c().height),q.a(0,this.i.expTextUpper.c().height),null!=c.xpUpper&&"undefined"!==c.xpUpper&&""!=c.xpUpper?c.xpUpper:"0",q.j(255,255,255),q.n(0,0,0));this.Fx.xb(!0);this.Fx.Ic(!1);this.Dx=new $(this.i.healthTextUpper,q.size(this.i.healthTextUpper.c().width,this.i.healthTextUpper.c().height),q.a(0,this.i.healthTextUpper.c().height),null!=c.healthUpper&&"undefined"!==c.healthUpper&&""!=c.healthUpper?c.healthUpper:"0",q.j(255,255,255),q.n(0,0,0));this.Dx.xb(!0);this.Dx.Ic(!1);break;
case "Equip Item":null!=c.equip&&"undefined"!==c.equip?(this.Fc="head",this.ok(c.equip)):this.ok("head")}},Lw:function(){this.b.subEditorOver.G(!1);this.b.mainEditorOver.G(!0);this.In=null;this.i.R();this.i=null},ok:function(a){this.i.headButton.r(q.j(255,255,255,255));this.i.bodyButton.r(q.j(255,255,255,255));this.i.legButton.r(q.j(255,255,255,255));this.i.feetButton.r(q.j(255,255,255,255));this.i.lArmButton.r(q.j(255,255,255,255));this.i.rArmButton.r(q.j(255,255,255,255));this.i.modButton.r(q.j(255,
255,255,255));switch(a){case "head":this.Fc=a;this.i.headButton.r(q.j(255,0,0,255));return;case "body":this.Fc=a;this.i.bodyButton.r(q.j(255,0,0,255));return;case "legs":this.Fc=a;this.i.legButton.r(q.j(255,0,0,255));return;case "feet":this.Fc=a;this.i.feetButton.r(q.j(255,0,0,255));return;case "mod":this.Fc=a;this.i.modButton.r(q.j(255,0,0,255));return;case "bothArms":this.Fc=a;this.i.lArmButton.r(q.j(255,0,0,255));this.i.rArmButton.r(q.j(255,0,0,255));return}"bothArms"!=this.Fc&&"lArm"!=this.Fc&&
"rArm"!=this.Fc&&"lArm"==a?(this.i.lArmButton.r(q.j(255,0,0,255)),this.Fc="lArm"):"bothArms"!=this.Fc&&"lArm"!=this.Fc&&"rArm"!=this.Fc&&"rArm"==a?(this.i.rArmButton.r(q.j(255,0,0,255)),this.Fc="rArm"):"rArm"==this.Fc&&"lArm"==a?(this.i.lArmButton.r(q.j(255,0,0,255)),this.i.rArmButton.r(q.j(255,0,0,255)),this.Fc="bothArms"):"lArm"==this.Fc&&"rArm"==a?(this.i.lArmButton.r(q.j(255,0,0,255)),this.i.rArmButton.r(q.j(255,0,0,255)),this.Fc="bothArms"):"bothArms"==this.Fc&&"rArm"==a?(this.i.lArmButton.r(q.j(255,
0,0,255)),this.Fc="lArm"):"bothArms"==this.Fc&&"lArm"==a&&(this.i.rArmButton.r(q.j(255,0,0,255)),this.Fc="rArm")},Eb:function(a){if(this._super(a))return!0;a=q.a(a.S.x,a.S.y);if(this.jg){var c=this.jg.Ma(a);if(I(this.jg.okbtn,c)){switch(this.In){case "Talk":this.data.data[this.la.event][this.la.listtype][this.la.id].data.options[this.VD]=this.UD.aa(),this.data.data[this.la.event][this.la.listtype][this.la.id].data.say=this.Vc.aa()}this.jg.R();this.VD=this.jg=null;this.at();return}if(I(this.jg.cancelbtn,
c)){this.jg.R();this.VD=this.jg=null;this.at();return}}if(this.i)if(c=this.i.Ma(a),I(this.i.okbtn,c)){switch(this.In){case "Warp Player":this.data.data[this.la.event][this.la.listtype][this.la.id].data={mapnum:parseInt(this.fE.aa()),index:P(parseInt(this.gE.aa()),N-parseInt(this.hE.aa()))};break;case "Show Sign":this.data.data[this.la.event][this.la.listtype][this.la.id].data={content:this.Vc.aa(),title:this.OD.aa()};break;case "Read Item":this.data.data[this.la.event][this.la.listtype][this.la.id].data=
{say:this.Vc.aa()};break;case "Script Response":case "Script Requirement":this.data.data[this.la.event][this.la.listtype][this.la.id].data.functionContent=this.Vc.aa();break;case "Talk":this.data.data[this.la.event][this.la.listtype][this.la.id].data.say=this.Vc.aa();break;case "Is Quest Point":case "Set Quest Point":this.data.data[this.la.event][this.la.listtype][this.la.id].data={quest:this.OJ,objective:this.zJ};break;case "Give /Take Item":case "Has Player Item":this.data.data[this.la.event][this.la.listtype][this.la.id].data=
{item:this.gj,amount:parseInt(this.Uw.aa())};break;case "Modify Player Stats":case "Modify NPC Stats":this.data.data[this.la.event][this.la.listtype][this.la.id].data={skill:this.Cx,level:parseInt(this.Ml.aa()),xp:parseInt(this.Nl.aa()),health:parseInt(this.Ll.aa())};break;case "Is Panel Visibility":case "Open/Close Panel":this.data.data[this.la.event][this.la.listtype][this.la.id].data={panel:this.IJ,visible:this.On};break;case "Is Event Fired By":this.data.data[this.la.event][this.la.listtype][this.la.id].data=
{object:this.xJ};break;case "Is NPC Actioning":this.data.data[this.la.event][this.la.listtype][this.la.id].data={action:this.fH};break;case "Is Player Inventory Space":this.data.data[this.la.event][this.la.listtype][this.la.id].data={space:parseInt(this.Tw.aa())};break;case "Wait":this.data.data[this.la.event][this.la.listtype][this.la.id].data={time:parseInt(this.Kx.aa())};break;case "Repeat Responses":this.data.data[this.la.event][this.la.listtype][this.la.id].data={amount:parseInt(this.iD.aa())};
break;case "Is Player Statistics":case "Is NPC Statistics":this.data.data[this.la.event][this.la.listtype][this.la.id].data={skill:this.Cx,levelLower:parseInt(this.Ml.aa()),xpLower:parseInt(this.Nl.aa()),healthLower:parseInt(this.Ll.aa()),levelUpper:parseInt(this.Ex.aa()),xpUpper:parseInt(this.Fx.aa()),healthUpper:parseInt(this.Dx.aa())};break;case "Equip Item":this.data.data[this.la.event][this.la.listtype][this.la.id].data={equip:this.Fc}}this.Lw()}else this.i.headButton&&I(this.i.headButton,c)?
this.ok("head"):this.i.bodyButton&&I(this.i.bodyButton,c)?this.ok("body"):this.i.legButton&&I(this.i.legButton,c)?this.ok("legs"):this.i.feetButton&&I(this.i.feetButton,c)?this.ok("feet"):this.i.lArmButton&&I(this.i.lArmButton,c)?this.ok("lArm"):this.i.rArmButton&&I(this.i.rArmButton,c)?this.ok("rArm"):this.i.modButton&&I(this.i.modButton,c)?this.ok("mod"):this.i.visibleButton&&I(this.i.visibleButton,c)?(this.On=0==this.On?1:0,this.i.visibleButton.r(0==this.On?q.j(255,0,0,255):q.j(0,255,0,255)),this.i.visibleButton.content.ra(0==
this.On?"Invisible":"Visible")):I(this.i.cancelbtn,c)&&(this.data.data[this.la.event][this.la.listtype][this.la.id].data=J(this.JU),this.Lw());else if(c=this.b.main_panel.Ma(a),I(this.b.main_panel.okbtn,c))this.b.main_panel.abbrEntry&&(null==this.rw.aa()||""==this.rw.aa())||null==this.Vb.aa()||""==this.Vb.aa()||(this.data.name=this.Vb.aa(),this.b.main_panel.abbrEntry&&(this.data.abbr=this.rw.aa()),this.qi=!0,this.o.df(this.data));else if(I(this.b.main_panel.cancelbtn,c)){this.qi=!0;var d=this.o;this.o.Ld(function(){d.df(null)})}else I(this.b.main_panel,
c)}});Itemeditor=null;
ItemEditor=Popup.extend({Zb:x[0].name,Z:0,Gn:function(a,c){Scripteditor&&(Scripteditor.Ia(),Scripteditor.R(),this.Gh=a,this.dc(!0),this.b.main_panel.scriptbtn.text.ra(c.name),this.b.main_panel.scriptbtn.r(q.j(0,255,0,255)))},Vs:function(){this.b.main_panel.scriptbtn.text.ra("None");this.b.main_panel.scriptbtn.r(q.j(255,0,0,255))},vc:function(){return{panels:{position:q.a(300,10),children:{background:{ba:"GUI/itemeditor_bg.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(500,330),
children:{namelbl:{label:"Name:",fontSize:20,e:q.a(0,0),position:q.a(4,292),color:q.n(0,0,0)},name_entry:{position:q.a(74,292),size:q.size(266,32),color:q.j(255,255,255,255)},tiles:{e:q.a(0,1),position:q.a(16,272),ba:x[0].name},textureleftbtn:{position:q.a(362,292),size:q.size(16,32),ba:"GUI/texture_change_left.png",e:q.a(0,0)},texturerightbtn:{position:q.a(471,292),size:q.size(16,32),ba:"GUI/texture_change_right.png",e:q.a(0,0)},textureName:{position:q.a(375,292),size:q.size(96,32),ba:"GUI/texture_change_middle.png",
e:q.a(0,0),children:{text:{label:x[0].name,fontSize:12,e:q.a(0.5,0.5),position:q.a(48,16),color:q.n(0,0,0)}}},leftbtn:{position:q.a(0,16),size:q.size(16,256),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"\x3c",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,160),color:q.n(255,255,255)}}},rightbtn:{position:q.a(336,16),size:q.size(16,256),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"\x3e",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,160),color:q.n(255,255,255)}}},upbtn:{position:q.a(16,
272),size:q.size(320,16),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"^",fontSize:12,e:q.a(0.5,0.5),position:q.a(160,8),color:q.n(255,255,255)}}},downbtn:{position:q.a(16,0),size:q.size(320,16),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"v",fontSize:12,e:q.a(0.5,0.5),position:q.a(160,8),color:q.n(255,255,255)}}},stacklbl:{label:"Stackable:",fontSize:12,e:q.a(0,0),position:q.a(360,206),color:q.n(0,0,0)},stackbtn:{position:q.a(360,176),size:q.size(128,26),color:E,e:q.a(0,0),
children:{text:{label:"No",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.n(0,0,0)}}},scriptlbl:{label:"Script:",fontSize:12,e:q.a(0,0),position:q.a(360,262),color:q.n(0,0,0)},scriptbtn:{position:q.a(360,232),size:q.size(128,26),color:E,e:q.a(0,0),children:{text:{label:"None",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.n(0,0,0)}}},highlightnode:{e:q.a(0,0),position:q.a(0,0),size:q.size(32,32),color:q.j(255,100,100,255)},selectednode:{e:q.a(0,0),position:q.a(0,0),size:q.size(32,
32),color:q.j(100,255,100,255)},okbtn:{position:q.a(434,16),size:q.size(32,32),ba:"GUI/tick_icon.png",e:q.a(0,0)},cancelbtn:{position:q.a(384,16),size:q.size(32,32),ba:"GUI/cross_icon.png",e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,330),size:q.size(500,32),children:{header:{label:"Item Editor",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(476,6),size:q.size(20,20),e:q.a(0,0),ba:"GUI/close.png"}}}}}}},Rc:function(){return"itemEditor"},Vb:null,o:null,data:null,Gh:null,
v:function(a){this._super();this.data={sprite:{texture:x[0].name,position:{x:0,y:0}},script:null,stackable:!1,name:""};this.Zb=x[0].name;this.Z=0;this.Gh=this.o=this.Vb=null;this.O=q.a(0,0);this.o=a.o;a&&a.data&&(this.data=a.data,this.data.script&&(this.Gh=this.data.script))},nk:function(a){z({saveitems:a+"",itemdata:this.data})},dk:function(a,c){z({saveitemswhole:c})},sa:function(){this._super();this.b.main_panel.highlightnode.ta(0);this.b.main_panel.selectednode.ta(127);for(var a in x)x[a].name==
this.data.sprite.texture&&(this.Z=a,this.Zb=x[a].name);this.b.main_panel.textureName.text.ra(this.Zb);this.b.main_panel.tiles.ma(x[this.Z].texture);null!=this.data.script&&(this.b.main_panel.scriptbtn.r(q.j(0,255,0,255)),this.b.main_panel.scriptbtn.text.ra(ObjectLists.Df()[this.data.script].name),this.Gh=this.data.script);for(a=this.data.sprite.position.x;10<=a;)a--,this.O.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.O.y++;a=q.a(32*(this.data.sprite.position.x-this.O.x),32*(this.data.sprite.position.y-
this.O.y));this.b.main_panel.selectednode.l(this.b.main_panel.tiles.u.x+a.x,this.b.main_panel.tiles.u.y-(a.y+32));this.Vb=new $(this.b.main_panel.name_entry,q.size(this.b.main_panel.name_entry.c().width,this.b.main_panel.name_entry.c().height),q.a(0,this.b.main_panel.name_entry.c().height),this.data.name?this.data.name:"",q.j(255,255,255),q.n(0,0,0));this.Vb.xb(!0);this.b.main_panel.stackbtn.r(E);this.b.main_panel.stackbtn.text.ra("No");!0==this.data.stackable&&(this.b.main_panel.stackbtn.r(va),this.b.main_panel.stackbtn.text.ra("Yes"));
this.sb()},Ia:function(a){this._super();if(this.o){var c=this.o;!0!=a&&this.o.Ld(function(){c.df(null)})}},ij:function(a){a=a.S;this.b.main_panel.highlightnode.ta(0);a=this.b.main_panel.tiles.Ma(a);if(0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tiles.c().width&&a.y<=this.b.main_panel.tiles.c().height)return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+16,this.b.main_panel.highlightnode.ta(127),this.b.main_panel.highlightnode.l(a),!0},sb:function(){this.jc(this.sb);this.b.main_panel.tiles.ia()&&!0==this.b.main_panel.tiles.ia().Dc&&
(this.Yc(this.sb),this.b.main_panel.tiles.jb(q.rect(Math.floor(32*this.O.x),Math.floor(32*this.O.y),320>x[this.Z].texture.c().width?x[this.Z].texture.c().width:320,256>x[this.Z].texture.c().height?x[this.Z].texture.c().height:256)))},Eb:function(a){if(this._super(a))return!0;this.gf=null;a=a.S;var c=this.b.main_panel.Ma(q.a(a.x,a.y));if(I(this.b.main_panel.okbtn,c)){if(null==this.Vb.aa()||""==this.Vb.aa())return!0;this.qi=!0;this.data.name=this.Vb.aa();this.data.script=this.Gh;this.o.df(this.data);
return!0}I(this.b.main_panel.scriptbtn,c)&&(Scripteditor?(Scripteditor.Ia(),Scripteditor.R(),Scripteditor=null):(Scripteditor=new PopupList,Scripteditor.v({o:this,ek:new ScriptEditor,list:ObjectLists.Df(),name:"Script List"}),Scripteditor.sa(),this.g(Scripteditor)));if(I(this.b.main_panel.cancelbtn,c)){this.qi=!0;var d=this.o;this.o.Ld(function(){d.df(null)});return!0}if(I(this.b.main_panel.leftbtn,c))return 264<x[this.Z].texture.c().width&&0<this.O.x&&(this.O.x--,this.sb()),!0;if(I(this.b.main_panel.rightbtn,
c))return 320<x[this.Z].texture.c().width&&this.O.x<(x[this.Z].texture.c().width-320)/32&&(this.O.x++,this.sb()),!0;if(I(this.b.main_panel.upbtn,c))return 320<x[this.Z].texture.c().height&&0<this.O.y&&(this.O.y--,this.sb()),!0;if(I(this.b.main_panel.downbtn,c))return 320<x[this.Z].texture.c().height&&this.O.y<(x[this.Z].texture.c().height-320)/32&&(this.O.y++,this.sb()),!0;if(I(this.b.main_panel.texturerightbtn,c))return this.Mn(),!0;if(I(this.b.main_panel.textureleftbtn,c))return this.Nn(),!0;if(I(this.b.main_panel.stackbtn,
c))return this.mL(),!0;if(I(this.b.main_panel.scriptbtn,c))return this.e$(),!0;c=this.b.main_panel.tiles.Ma(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tiles.c().width&&c.y<=this.b.main_panel.tiles.c().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+16;this.b.main_panel.selectednode.ta(0);if(this.b.main_panel.selectednode.u.I!=c.x||this.b.main_panel.selectednode.u.N!=c.y)this.b.main_panel.selectednode.ta(127),this.b.main_panel.selectednode.l(c);a=q.a((this.b.main_panel.selectednode.u.I-16)/32+this.O.x,
8-(this.b.main_panel.selectednode.u.N-16)/32+this.O.y-1);this.data.sprite.position=a;return!0}return!1},mL:function(){this.data.stackable=!this.data.stackable;this.b.main_panel.stackbtn.r(E);this.b.main_panel.stackbtn.text.ra("No");!0==this.data.stackable&&(this.b.main_panel.stackbtn.r(va),this.b.main_panel.stackbtn.text.ra("Yes"))},Mn:function(){this.Z>=x.length-1&&(this.Z=-1);this.Z++;this.b.main_panel.tiles.ma(x[this.Z].texture);this.Zb=x[this.Z].name;this.b.main_panel.textureName.text.ra(this.Zb);
this.data.sprite.texture=this.Zb;this.O=q.a(0,0);this.sb()},Nn:function(){0>=this.Z&&(this.Z=x.length);this.Z--;this.b.main_panel.tiles.ma(x[this.Z].texture);this.Zb=x[this.Z].name;this.b.main_panel.textureName.text.ra(this.Zb);this.O=q.a(0,0);this.sb()}});Settingseditor=null;
SettingsEditor=Popup.extend({data:null,H:null,ab:null,Rc:function(){return"Settings Editor"},Ia:function(){this._super()},v:function(){this._super();this.data=J(H)},nk:function(a){z({savequests:a+"",questdata:this.data})},dk:function(a,c){z({savequestswhole:c})},sa:function(){this._super();this.rb()},rb:function(){this.H&&this.H.ic();var a=[],c=[],d=q.ja.f(),e=0,f;for(f in this.data){if("ISSECTION"!=this.data[f]){a[e]=q.F.create();a[e].Q(324,32);var g=q.U.create(f,"Arial",18);g.D(q.a(0,0));g.l(q.a(4,
0));g.yb(q.size(246,0));g.r(q.n(100,0,0));a[e].g(g);a[e].Q(324,g.c().height+4);g=[];c.push(g);e++}a[e]=q.F.create();a[e].Q(324,32);var k=q.ga.create(q.j(0,0,0,127),316,1);k.l(q.a(4,0));if("ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]){var h=q.w.Sa(d.pa("GUI/edit.png"));h.l(q.a(300,0));h.D(q.a(0,0))}if("ISSECTION"==this.data[f]){var l=q.U.create(f,"Arial",22);l.r(q.n(255,0,0))}else l=q.U.create(this.data[f],"Arial",15),l.r(q.n(0,0,0));l.D(q.a(0,0));l.l(q.a(4,4));l.yb(q.size(246,0));g=[];"ISSECTION"!=
this.data[f]&&"ISYESNO"!=this.data[f]&&(h.vb="Edit",g=[],g.push(h));c.push(g);a[e].g(k);"ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]&&a[e].g(h);a[e].g(l);"ISSECTION"==this.data[f]?a[e].Q(324,l.c().height+12):a[e].Q(324,l.c().height+8);"ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]&&h.Jc((l.c().height+8)/2-10);e++}this.H=this.b.main_panel.list;var m=this;this.H.Hc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(324,c)};this.H.Bc=function(){return a.length};this.H.Tc=
function(c){return a[c].c()};this.H.Sc=function(c){return a[c]};this.H.$b=function(a,c,d){m.Ma(d.S);if(!0!=m.If)switch(a){case "Edit":a=0;d="";for(var e in m.data){if(a==c){d=e;break}a++;if("ISSECTION"!=m.data[e]){if(a==c){d=e;break}a++}}m.ab=d;m.XB(d)}};this.H.ea=ListView.create(this.H);this.H.ea.Wc(c);this.H.g(this.H.ea)},vc:function(){return{panels:{position:q.a(300,200),children:{background_image:{ba:"GUI/list_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(365,328),children:{savebtn:{size:q.size(64,
32),color:q.j(0,255,0,255),position:q.a(241,292),e:q.a(0,0),children:{content:{label:"Save",color:q.n(0,0,0),position:q.a(32,16),e:q.a(0.5,0.5)}}},list:{size:q.size(324,284),color:q.j(0,200,200,200),position:q.a(0,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Settings Editor",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),e:q.a(0,0),ba:"GUI/close.png"}}}}}}},ef:null,Ea:null,XB:function(a){null!=
this.Ea&&(this.Ea.ic(),this.ef=null,this.Ea.R(),this.ab=this.Ea=null);this.Ea=q.ga.create(q.j(255,255,255,200),200,200);this.Ea.l(q.a((this.b.main_panel.c().width-200)/2,(this.b.main_panel.c().height-200)/2));this.ef=new $(this.Ea,q.size(190,150),q.a(0,this.Ea.c().height),this.data[a],q.j(100,100,100),q.n(255,255,255),!0);this.ef.xb(!0);this.ef.nK(!0);a=q.ga.create(q.j(0,200,255,255),64,32);a.l(q.a(14,9));var c=q.U.create("OK","Arial",16);c.r(q.n(0,0,0));c.l(32,16);c.D(q.a(0.5,0.5));a.g(c);c=q.ga.create(q.j(200,
0,0,255),64,32);c.l(q.a(120,9));var d=q.U.create("Cancel","Arial",16);d.r(q.n(0,0,0));d.l(32,16);d.D(q.a(0.5,0.5));c.g(d);this.b.main_panel.g(this.Ea);this.Ea.g(a);this.Ea.OC=a;this.Ea.g(c);this.Ea.cancel=c},Eb:function(a){if(this._super(a))return!0;this.gf=null;a=a.S;if(null!=this.Ea){a=this.Ea.Ma(a);if(I(this.Ea.OC,a))return this.data[this.ab]=this.ef.aa(),this.Ea.ic(),this.ef=null,this.Ea.R(),this.ab=this.Ea=null,this.rb(),!0;I(this.Ea.cancel,a)&&(this.Ea.ic(),this.ef=null,this.Ea.R(),this.ab=
this.Ea=null);return!0}a=this.b.main_panel.Ma(a);return I(this.b.main_panel.savebtn,a)?(H=J(this.data),console.log(H),console.log(this.data),z({savesettings:this.data}),V.aE(this.data,Date.now()),!0):I(this.b.main_panel,a)?!0:!1}});Questeditor=null;
QuestEditor=Popup.extend({data:null,H:null,o:null,ab:null,Rc:function(){return"Quest Editor"},Ia:function(a){this._super();if(this.o){var c=this.o;!0!=a&&this.o.Ld(function(){c.df(null)})}},v:function(a){this._super();this.data={name:"",objectiveList:["Unstarted","Initial Objective. Click edit to change this first objective. Click the '+' to add another object. You cannot delete every objective (you need at least one)","Finished"]};this.o=a.o;a&&a.data&&(this.data=a.data)},nk:function(a){z({savequests:a+"",
questdata:this.data})},dk:function(a,c){z({savequestswhole:c})},sa:function(){this._super();this.rb();this.Vb=new $(this.b.main_panel.nameBox,q.size(this.b.main_panel.nameBox.c().width,this.b.main_panel.nameBox.c().height),q.a(0,this.b.main_panel.nameBox.c().height),this.data.name?this.data.name:"",q.j(255,255,255,255),q.n(0,0,0));this.Vb.xb(!0)},rb:function(){this.H&&this.H.ic();var a=[],c=[],d=q.ja.f();this.EH={};var e;console.log(this.data.objectiveList);for(e=0;e<this.data.objectiveList.length-
1;e++)if(a[e]=q.F.create(),a[e].Q(324,32),null==this.data.objectiveList[e])this.data.objectiveList.splice(e,1);else{var f=q.w.create();f.jb(q.rect(0,0,316,1));f.r(q.j(0,0,0,127));f.D(q.a(0,0));f.l(q.a(4,0));var g=q.w.Sa(d.pa("GUI/edit.png"));g.l(q.a(272,0));g.D(q.a(0,0));var k=q.w.Sa(d.pa("GUI/trash.png"));k.l(q.a(300,0));k.D(q.a(0,0));var h=q.U.create(this.data.objectiveList[e],"Arial",15);h.D(q.a(0,0));h.l(q.a(4,4));h.yb(q.size(246,0));h.r(q.n(0,0,0));if(0<e){g.vb="Edit";var l=[];l.push(g)}1<e&&
(k.vb="Delete",l.push(k));c.push(l);a[e].g(f);0<e&&a[e].g(g);1<e&&a[e].g(k);a[e].g(h);a[e].Q(324,h.c().height+8);g.Jc((h.c().height+8)/2-10);k.Jc((h.c().height+8)/2-10)}d=q.w.create();d.jb(q.rect(0,0,90,26));d.r(q.j(70,200,70,255));d.D(q.a(0,0));f=q.U.create("+","Arial",20);f.l(45,13);f.D(q.a(0.5,0.5));d.l(q.a(120,0));d.vb="Add";d.g(f);c.push([d]);a.push(d);a[e+1]=q.F.create();a[e+1].Q(324,32);f=q.w.create();f.jb(q.rect(0,0,316,1));f.r(q.j(0,0,0,127));f.D(q.a(0,0));f.l(q.a(4,0));h=q.U.create(this.data.objectiveList[e],
"Arial",15);h.D(q.a(0,0));h.l(q.a(4,4));h.yb(q.size(246,0));h.r(q.n(0,0,0));c.push([]);a[e+1].g(f);a[e+1].g(h);a[e+1].Q(324,h.c().height+8);g.Jc((h.c().height+8)/2-10);k.Jc((h.c().height+8)/2-10);delete e;this.H=this.b.main_panel.list;var m=this;this.H.Hc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(324,c)};this.H.Bc=function(){return a.length};this.H.Tc=function(c){return a[c].c()};this.H.Sc=function(c){return a[c]};this.H.$b=function(a,c,d){m.Ma(d.S);if(!0!=m.If)switch(a){case "Delete":null!=
m.Ea&&(m.Ea.ic(),m.ef=null,m.Ea.R(),m.Ea=null,m.ab=null);m.da.g(DropDownList.zf(m,m.ps,["Cancel","Delete"],d.S));m.ab=c;break;case "Edit":m.ab=c;m.XB(c);break;case "Add":m.EQ()}};this.H.ea=ListView.create(this.H);this.H.ea.Wc(c);this.H.g(this.H.ea)},vc:function(){return{panels:{position:q.a(300,200),children:{background_image:{ba:"GUI/list_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(365,328),children:{nameLabel:{label:"Quest Name",color:q.n(0,0,0),position:q.a(8,312),e:q.a(0,0)},nameBox:{size:q.size(150,
32),color:q.j(255,255,255,255),position:q.a(8,277),e:q.a(0,0)},savebtn:{size:q.size(64,32),color:q.j(0,255,0,255),position:q.a(175,277),e:q.a(0,0),children:{content:{label:"Save",color:q.n(0,0,0),position:q.a(32,16),e:q.a(0.5,0.5)}}},exitbtn:{size:q.size(64,32),color:q.j(255,0,0,255),position:q.a(253,277),e:q.a(0,0),children:{content:{label:"Exit",color:q.n(0,0,0),position:q.a(32,16),e:q.a(0.5,0.5)}}},objectivesLabel:{label:"Objectives",color:q.n(0,0,0),position:q.a(8,254),e:q.a(0,0)},list:{size:q.size(324,
250),color:q.j(0,200,200,200),position:q.a(0,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Quest Editor",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),e:q.a(0,0),ba:"GUI/close.png"}}}}}}},ps:function(a){switch(a){case 1:this.o.ab&&(this.o.data.objectiveList.splice(this.o.ab,1),this.o.rb(),this.o.ab=null)}},EQ:function(){this.data.objectiveList.splice(this.data.objectiveList.length-1,0,"Blank Objective");
this.rb()},ef:null,Ea:null,XB:function(a){null!=this.Ea&&(this.Ea.ic(),this.ef=null,this.Ea.R(),this.ab=this.Ea=null);this.Ea=q.w.create();this.Ea.jb(q.rect(0,0,200,200));this.Ea.r(q.j(255,255,255,200));this.Ea.D(q.a(0,0));this.Ea.l(q.a((this.b.main_panel.c().width-200)/2,(this.b.main_panel.c().height-200)/2));this.ef=new $(this.Ea,q.size(190,150),q.a(0,this.Ea.c().height),this.data.objectiveList[a],q.j(100,100,100),q.n(255,255,255),!0);this.ef.xb(!0);this.ef.nK(!0);a=q.ga.create(q.j(0,200,255,255),
64,32);a.l(q.a(14,9));var c=q.U.create("OK","Arial",16);c.r(q.n(0,0,0));c.l(32,16);c.D(q.a(0.5,0.5));a.g(c);c=q.ga.create(q.j(200,0,0,255),64,32);c.l(q.a(120,9));var d=q.U.create("Cancel","Arial",16);d.r(q.n(0,0,0));d.l(32,16);d.D(q.a(0.5,0.5));c.g(d);this.b.main_panel.g(this.Ea);this.Ea.g(a);this.Ea.OC=a;this.Ea.g(c);this.Ea.cancel=c},Eb:function(a){if(this._super(a))return!0;a=q.a(a.S.x,a.S.y);if(null!=this.Ea){a=this.Ea.Ma(a);if(I(this.Ea.OC,a))return this.data.objectiveList[this.ab]=this.ef.aa(),
this.Ea.ic(),this.ef=null,this.Ea.R(),this.ab=this.Ea=null,this.rb(),!0;I(this.Ea.cancel,a)&&(this.Ea.ic(),this.ef=null,this.Ea.R(),this.ab=this.Ea=null);return!0}a=this.b.main_panel.Ma(a);if(I(this.b.main_panel.savebtn,a)){if(null==this.Vb.aa()||""==this.Vb.aa())return!0;this.qi=!0;this.data.name=this.Vb.aa();this.o.df(this.data);return!0}if(I(this.b.main_panel.exitbtn,a)){this.qi=!0;var c=this.o;this.o.Ld(function(){c.df(null)});return!0}return I(this.b.main_panel,a)?!0:!1}});Mapeditor=null;
MapEditor=Popup.extend({map:null,O:q.a(0,0),yh:"tiles",kJ:null,Bw:"ground1",Zb:x[0].name,Z:0,vc:function(){return{panels:{position:q.a(300,10),children:{main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(420,400),color:q.j(0,0,100,120),children:{tab1:{children:{tiles:{e:q.a(0,1),position:q.a(16,336),ba:x[0].name},scriptbtn:{position:q.a(360,360),size:q.size(128,26),color:C,e:q.a(0,0),children:{text:{label:"Script",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.n(0,0,0)}}},textureleftbtn:{position:q.a(200,
360),size:q.size(16,32),ba:"GUI/texture_change_left.png",e:q.a(0,0)},texturerightbtn:{position:q.a(310,360),size:q.size(16,32),ba:"GUI/texture_change_right.png",e:q.a(0,0)},textureName:{position:q.a(214,360),size:q.size(96,32),ba:"GUI/texture_change_middle.png",e:q.a(0,0),children:{text:{label:x[0].name,fontSize:12,e:q.a(0.5,0.5),position:q.a(48,16),color:q.n(0,0,0)}}},deletebtn:{position:q.a(360,308),size:q.size(60,32),color:C,e:q.a(0,0),children:{text:{label:"Erase",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,
16),color:q.n(0,0,0)}}},leftbtn:{position:q.a(0,16),size:q.size(16,320),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"\x3c",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,160),color:q.n(255,255,255)}}},rightbtn:{position:q.a(336,16),size:q.size(16,320),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"\x3e",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,160),color:q.n(255,255,255)}}},upbtn:{position:q.a(16,336),size:q.size(320,16),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"^",
fontSize:12,e:q.a(0.5,0.5),position:q.a(160,8),color:q.n(255,255,255)}}},downbtn:{position:q.a(16,0),size:q.size(320,16),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"v",fontSize:12,e:q.a(0.5,0.5),position:q.a(160,8),color:q.n(255,255,255)}}},fillbtn:{position:q.a(428,308),size:q.size(60,32),color:C,e:q.a(0,0),children:{text:{label:"Fill",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,16),color:q.n(0,0,0)}}},ground1btn:{position:q.a(360,278),size:q.size(128,26),color:va,e:q.a(0,0),children:{text:{label:"Ground 1",
fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.n(0,0,0)}}},ground2btn:{position:q.a(360,248),size:q.size(128,26),color:C,e:q.a(0,0),children:{text:{label:"Ground 2",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.n(0,0,0)}}},ground3btn:{position:q.a(360,218),size:q.size(128,26),color:C,e:q.a(0,0),children:{text:{label:"Ground 3",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.n(0,0,0)}}},mask1btn:{position:q.a(360,188),size:q.size(128,26),color:C,e:q.a(0,0),children:{text:{label:"Mask 1",
fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.n(0,0,0)}}},mask2btn:{position:q.a(360,158),size:q.size(128,26),color:C,e:q.a(0,0),children:{text:{label:"Mask 2",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.n(0,0,0)}}},mask3btn:{position:q.a(360,128),size:q.size(128,26),color:C,e:q.a(0,0),children:{text:{label:"Mask 3",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.n(0,0,0)}}},fringe1btn:{position:q.a(360,98),size:q.size(128,26),color:C,e:q.a(0,0),children:{text:{label:"Fringe 1",
fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.n(0,0,0)}}},fringe2btn:{position:q.a(360,68),size:q.size(128,26),color:C,e:q.a(0,0),children:{text:{label:"Fringe 2",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.n(0,0,0)}}},fringe3btn:{position:q.a(360,8),size:q.size(128,26),color:C,e:q.a(0,0),children:{text:{label:"Fringe 3",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.n(0,0,0)}}},highlightnode:{e:q.a(0,0),position:q.a(0,0),size:q.size(M,M),color:q.j(255,100,100,255)},selectednode:{e:q.a(0,
0),position:q.a(0,0),size:q.size(M,M),color:q.j(100,255,100,255)}}},tab2:{children:{saveBack:{position:q.a(0,78),size:q.size(200,60),color:q.j(0,255,0,100),e:q.a(0,0)},deleteback:{position:q.a(0,138),size:q.size(200,60),color:q.j(255,0,0,100),e:q.a(0,0)},mapnumsback:{position:q.a(0,198),size:q.size(200,162),color:q.j(0,0,0,170),e:q.a(0,0)},mapUp_text:{label:"Map Up",fontSize:10,e:q.a(0.5,0),position:q.a(100,344)},mapUp_entry:{size:q.size(60,32),position:q.a(70,312)},mapDown_text:{label:"Map Down",
fontSize:10,e:q.a(0.5,0),position:q.a(100,232)},mapDown_entry:{size:q.size(60,32),position:q.a(70,200)},mapLeft_text:{label:"Map Left",fontSize:10,e:q.a(0.5,0),position:q.a(38,290)},mapLeft_entry:{size:q.size(60,32),position:q.a(8,258)},mapRight_text:{label:"Map Right",fontSize:10,e:q.a(0.5,0),position:q.a(162,290)},mapRight_entry:{size:q.size(60,32),position:q.a(132,258)},this_map:{position:q.a(70,248),size:q.size(60,60),color:C,e:q.a(0,0),children:{text:{label:"THIS MAP\n#"+U.Xd(),fontSize:12,e:q.a(0.5,
0.5),position:q.a(30,30),color:q.n(0,0,0)}}},clearbtn:{position:q.a(70,150),size:q.size(60,32),color:C,e:q.a(0,0),children:{text:{label:"Clear",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,16),color:q.n(0,0,0)}}},clear_text:{label:"Clear Map: You sure?",fontSize:14,e:q.a(0.5,0),position:q.a(100,182)},clearbtnNo:{position:q.a(10,150),size:q.size(60,32),color:C,e:q.a(0,0),children:{text:{label:"NO",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,16),color:q.n(0,0,0)}}},clearbtnYes:{position:q.a(130,150),size:q.size(60,
32),color:C,e:q.a(0,0),children:{text:{label:"YES",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,16),color:q.n(0,0,0)}}},savebtn:{position:q.a(70,90),size:q.size(60,32),color:C,e:q.a(0,0),children:{text:{label:"Save",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,16),color:q.n(0,0,0)}}},save_text:{label:"Save Map: You sure?",fontSize:14,e:q.a(0.5,0),position:q.a(100,122)},savebtnNo:{position:q.a(10,90),size:q.size(60,32),color:C,e:q.a(0,0),children:{text:{label:"NO",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,
16),color:q.n(0,0,0)}}},savebtnYes:{position:q.a(130,90),size:q.size(60,32),color:C,e:q.a(0,0),children:{text:{label:"YES",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,16),color:q.n(0,0,0)}}},saveOnExit:{position:q.a(40,30),size:q.size(120,32),color:C,e:q.a(0.5,0),children:{content:{label:"",fontSize:14,e:q.a(0.5,0.5),position:q.a(60,15),color:q.n(0,0,0)}}}}},tab1Clickable:{position:q.a(0,380),size:q.size(60,20),color:C,e:q.a(0,0),children:{text:{label:"Editor",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,
10),color:q.n(0,0,0)}}},tab2Clickable:{position:q.a(62,380),size:q.size(60,20),color:C,e:q.a(0,0),children:{text:{label:"Settings",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,10),color:q.n(0,0,0)}}}}},control_panel:{e:q.a(0,0),position:q.a(0,400),size:q.size(420,32),color:q.j(255,0,0,200),children:{header:{label:"Map Editor - Map #"+U.Xd(),fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(391,3),size:q.size(26,26),e:q.a(0,0),color:q.j(255,255,255,200),children:{content:{label:"X",
fontSize:20,color:q.n(0,0,0),e:q.a(0.5,0.5),position:q.a(13,13)}}}}}}}}},Rc:function(){return"MapEditor"},O:null,Ls:null,Is:null,Js:null,Ks:null,mj:null,bf:0,Gh:null,v:function(a){this._super();this.map=a;this.O=q.a(0,0);this.mj=[null,496,200]},sa:function(){this._super();this.b.main_panel.tab1.highlightnode.ta(0);this.b.main_panel.tab1.selectednode.ta(0);this.Ls=new $(this.b.main_panel.tab2.mapUp_entry,q.size(this.b.main_panel.tab2.mapUp_entry.c().width,this.b.main_panel.tab2.mapUp_entry.c().height),
q.a(0,this.b.main_panel.tab2.mapUp_entry.c().height),U.EI()?U.kI():"",q.j(100,100,100),q.n(255,255,255));this.Ls.xb(!0);this.Ls.Ic(!0);this.Is=new $(this.b.main_panel.tab2.mapDown_entry,q.size(this.b.main_panel.tab2.mapDown_entry.c().width,this.b.main_panel.tab2.mapDown_entry.c().height),q.a(0,this.b.main_panel.tab2.mapDown_entry.c().height),U.BI()?U.hI():"",q.j(100,100,100),q.n(255,255,255));this.Is.xb(!0);this.Is.Ic(!0);this.Js=new $(this.b.main_panel.tab2.mapLeft_entry,q.size(this.b.main_panel.tab2.mapLeft_entry.c().width,
this.b.main_panel.tab2.mapLeft_entry.c().height),q.a(0,this.b.main_panel.tab2.mapLeft_entry.c().height),U.CI()?U.iI():"",q.j(100,100,100),q.n(255,255,255));this.Js.xb(!0);this.Js.Ic(!0);this.Ks=new $(this.b.main_panel.tab2.mapRight_entry,q.size(this.b.main_panel.tab2.mapRight_entry.c().width,this.b.main_panel.tab2.mapRight_entry.c().height),q.a(0,this.b.main_panel.tab2.mapRight_entry.c().height),U.DI()?U.jI():"",q.j(100,100,100),q.n(255,255,255));this.Ks.xb(!0);this.Ks.Ic(!0);this.Ax(!1);this.Bx(!1);
this.mx=V.rS();this.LK(this.mx);this.Fn(1);this.sb();U.OK(!0)},Gn:function(a){Scripteditor&&(Scripteditor.Ia(),this.Ld(function(){Scripteditor.R();Scripteditor=null}),this.Gh=a,this.dc(!0))},Ia:function(){this._super();!0==this.mx&&(U.vK({up:this.Ls.aa(),down:this.Is.aa(),left:this.Js.aa(),right:this.Ks.aa()}),U.BL());U.OK(!1)},ij:function(a){a=a.S;if(1==this.bf&&(this.b.main_panel.tab1.highlightnode.ta(0),a=this.b.main_panel.tab1.tiles.Ma(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.c().width&&
a.y<=this.b.main_panel.tab1.tiles.c().height))return a.x=a.x-a.x%M+16,a.y=a.y-a.y%M+16,this.b.main_panel.tab1.highlightnode.ta(127),this.b.main_panel.tab1.highlightnode.l(a),!0},Fn:function(a){if(a!=this.bf){this.b.main_panel.Q(this.mj[a],this.b.main_panel.c().height);this.b.control_panel.Q(this.mj[a],this.b.control_panel.c().height);if(3==this.bf||0==this.bf)this.b.main_panel.tab2.mapUp_entry.Fb(this.b.main_panel.tab2.mapUp_entry.u.I-1E3),this.b.main_panel.tab2.mapLeft_entry.Fb(this.b.main_panel.tab2.mapLeft_entry.u.I-
1E3),this.b.main_panel.tab2.mapDown_entry.Fb(this.b.main_panel.tab2.mapDown_entry.u.I-1E3),this.b.main_panel.tab2.mapRight_entry.Fb(this.b.main_panel.tab2.mapRight_entry.u.I-1E3);1!=this.bf||"erasing"!=this.yh&&"tiles"!=this.yh||(this.yh="blocking");2==this.bf&&"blocking"==this.yh&&(this.yh="tiles");this.bf=a;this.b.main_panel.tab1.G(!1);this.b.main_panel.tab2.G(!1);this.b.main_panel.tab1Clickable.r(C);this.b.main_panel.tab2Clickable.r(C);this.b.main_panel["tab"+a].G(!0);this.b.main_panel["tab"+a+
"Clickable"].r(q.j(255,255,0,255));3==a&&(this.b.main_panel.tab2.mapUp_entry.Fb(this.b.main_panel.tab2.mapUp_entry.u.I+1E3),this.b.main_panel.tab2.mapLeft_entry.Fb(this.b.main_panel.tab2.mapLeft_entry.u.I+1E3),this.b.main_panel.tab2.mapDown_entry.Fb(this.b.main_panel.tab2.mapDown_entry.u.I+1E3),this.b.main_panel.tab2.mapRight_entry.Fb(this.b.main_panel.tab2.mapRight_entry.u.I+1E3));this.b.control_panel.exitBtn.Fb(this.mj[a]-29)}},LK:function(a){V.rW(a);this.mx=a;this.b.main_panel.tab2.saveOnExit.r(q.n(255,
0,0));this.b.main_panel.tab2.saveOnExit.content.ra("Save on exit: NO");if("true"==a||!0==a)this.b.main_panel.tab2.saveOnExit.r(q.n(0,255,0)),this.b.main_panel.tab2.saveOnExit.content.ra("Save on exit: YES")},sb:function(){this.jc(this.sb);this.b.main_panel.tab1.tiles.ia()&&!0==this.b.main_panel.tab1.tiles.ia().Dc&&(this.Yc(this.sb),this.b.main_panel.tab1.tiles.jb(q.rect(Math.floor(M*this.O.x),Math.floor(M*this.O.y),320>x[this.Z].texture.c().width?x[this.Z].texture.c().width:320,320>x[this.Z].texture.c().height?
x[this.Z].texture.c().height:320)))},Eb:function(a){if(this._super(a))return!0;this.gf=null;a=a.S;var c=this.b.main_panel.Ma(a);if(I(this.b.main_panel.tab1Clickable,c))return this.Fn(1),!0;if(I(this.b.main_panel.tab2Clickable,c))return this.Fn(2),!0;if(1==this.bf){if(I(this.b.main_panel.tab1.scriptbtn,c))return this.yh="script"==this.yh?"tiles":"script","script"==this.yh&&(null==Scripteditor||Scripteditor.da||(Scripteditor=null),Scripteditor&&(Scripteditor.Ia(),Scripteditor.R(),Scripteditor=null),
Scripteditor=new ScriptingList,Scripteditor.v({o:this,ek:new ScriptEditor,list:ObjectLists.Df(),name:"Script List"}),Scripteditor.sa(),this.da.g(Scripteditor),this.dc(!1),this.b.main_panel.tab1.scriptbtn.r(E)),!0;if(I(this.b.main_panel.tab1.leftbtn,c))return 320<x[this.Z].texture.c().width&&0<this.O.x&&(this.O.x--,this.sb()),!0;if(I(this.b.main_panel.tab1.rightbtn,c))return 320<x[this.Z].texture.c().width&&this.O.x<(x[this.Z].texture.c().width-320)/M&&(this.O.x++,this.sb()),!0;if(I(this.b.main_panel.tab1.upbtn,
c))return 320<x[this.Z].texture.c().height&&0<this.O.y&&(this.O.y--,this.sb()),!0;if(I(this.b.main_panel.tab1.downbtn,c))return 320<x[this.Z].texture.c().height&&this.O.y<(x[this.Z].texture.c().height-320)/M&&(this.O.y++,this.sb()),!0;if(I(this.b.main_panel.tab1.ground1btn,c))return this.sk("ground1"),!0;if(I(this.b.main_panel.tab1.ground2btn,c))return this.sk("ground2"),!0;if(I(this.b.main_panel.tab1.ground3btn,c))return this.sk("ground3"),!0;if(I(this.b.main_panel.tab1.mask1btn,c))return this.sk("mask1"),
!0;if(I(this.b.main_panel.tab1.mask2btn,c))return this.sk("mask2"),!0;if(I(this.b.main_panel.tab1.mask3btn,c))return this.sk("mask3"),!0;if(I(this.b.main_panel.tab1.fringe1btn,c))return this.sk("fringe1"),!0;if(I(this.b.main_panel.tab1.fringe2btn,c))return this.sk("fringe2"),!0;if(I(this.b.main_panel.tab1.fringe3btn,c))return this.sk("fringe3"),!0;if(I(this.b.main_panel.tab1.texturerightbtn,c))return this.Mn(),!0;if(I(this.b.main_panel.tab1.textureleftbtn,c))return this.Nn(),!0;if(I(this.b.main_panel.tab1.deletebtn,
c))return this.yh="erasing"==this.yh?"tiles":"erasing",this.b.main_panel.tab1.deletebtn.r(C),"erasing"==this.yh&&this.b.main_panel.tab1.deletebtn.r(E),!0;if(I(this.b.main_panel.tab1.fillbtn,c))return 0!=this.b.main_panel.tab1.selectednode.aj()&&(U.bS(x[this.Z].name,q.a((this.b.main_panel.tab1.selectednode.u.I-16)/M+this.O.x,Math.floor(320/M)-1-(this.b.main_panel.tab1.selectednode.u.N-16)/M+this.O.y),this.Bw),U.jt()),!0;c=this.b.main_panel.tab1.tiles.Ma(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.c().width&&
c.y<=this.b.main_panel.tab1.tiles.c().height){c.x=c.x-c.x%M+16;c.y=c.y-c.y%M+16;this.b.main_panel.tab1.selectednode.ta(0);if(this.b.main_panel.tab1.selectednode.u.I!=c.x||this.b.main_panel.tab1.selectednode.u.N!=c.y)this.b.main_panel.tab1.selectednode.ta(127),this.b.main_panel.tab1.selectednode.l(c);return!0}}if(2==this.bf){if(I(this.b.main_panel.tab2.clearbtn,c))return this.Ax(!0),!0;if(I(this.b.main_panel.tab2.clearbtnNo,c))return this.Ax(!1),!0;if(I(this.b.main_panel.tab2.clearbtnYes,c))return U.cf(),
this.Ax(!1),!0;if(I(this.b.main_panel.tab2.savebtn,c))return this.Bx(!0),!0;if(I(this.b.main_panel.tab2.savebtnNo,c))return this.Bx(!1),!0;if(I(this.b.main_panel.tab2.savebtnYes,c))return U.vK({up:this.Ls.aa(),down:this.Is.aa(),left:this.Js.aa(),right:this.Ks.aa()}),U.BL(),this.Bx(!1),!0;if(I(this.b.main_panel.tab2.saveOnExit,c))return this.LK(!this.mx),!0}return!1},sk:function(a){this.b.main_panel.tab1.ground1btn.r(C);this.b.main_panel.tab1.ground2btn.r(C);this.b.main_panel.tab1.ground3btn.r(C);
this.b.main_panel.tab1.mask1btn.r(C);this.b.main_panel.tab1.mask2btn.r(C);this.b.main_panel.tab1.mask3btn.r(C);this.b.main_panel.tab1.fringe1btn.r(C);this.b.main_panel.tab1.fringe2btn.r(C);this.b.main_panel.tab1.fringe3btn.r(C);this.b.main_panel.tab1[a+"btn"].r(va);this.Bw=a},Mn:function(){this.Z>=x.length-1&&(this.Z=-1);this.Z++;this.b.main_panel.tab1.tiles.ma(x[this.Z].texture);this.Zb=x[this.Z].name;this.b.main_panel.tab1.textureName.text.ra(this.Zb);this.O=q.a(0,0);this.sb()},Nn:function(){0>=
this.Z&&(this.Z=x.length);this.Z--;this.b.main_panel.tab1.tiles.ma(x[this.Z].texture);this.Zb=x[this.Z].name;this.b.main_panel.tab1.textureName.text.ra(this.Zb);this.O=q.a(0,0);this.sb()},Ax:function(a){this.b.main_panel.tab2.clearbtnYes.G(a);this.b.main_panel.tab2.clearbtnNo.G(a);this.b.main_panel.tab2.clear_text.G(a);this.b.main_panel.tab2.clearbtn.G(!a)},Bx:function(a){this.b.main_panel.tab2.savebtnYes.G(a);this.b.main_panel.tab2.savebtnNo.G(a);this.b.main_panel.tab2.save_text.G(a);this.b.main_panel.tab2.savebtn.G(!a)},
qL:function(a,c,d){if(a[c]==this.kJ&&"moved"==d)return!1;this.kJ=a[c];switch(this.yh){case "tiles":0!=this.b.main_panel.tab1.selectednode.aj()&&U.Cn(c,x[this.Z].name,q.a((this.b.main_panel.tab1.selectednode.u.I-16)/M+this.O.x,Math.floor(320/M)-1-(this.b.main_panel.tab1.selectednode.u.N-16)/M+this.O.y),this.Bw);break;case "script":U.TS(c)?U.KR(c):U.XW(c,this.Gh);break;case "erasing":U.RB(c,this.Bw)}}});NPCeditor=null;
NPCEditor=Popup.extend({Zb:y[0].name,Z:0,Gn:function(a,c){Scripteditor&&(Scripteditor.Ia(),Scripteditor.R(),this.Gh=a,this.dc(!0),this.b.main_panel.scriptbtn.text.ra(c.name),this.b.main_panel.scriptbtn.r(q.j(0,255,0,255)))},Vs:function(){this.b.main_panel.scriptbtn.text.ra("None");this.b.main_panel.scriptbtn.r(q.j(255,0,0,255))},vc:function(){return{panels:{position:q.a(300,10),children:{background:{ba:"GUI/itemeditor_bg.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(500,330),
children:{namelbl:{label:"Name:",fontSize:20,e:q.a(0,0),position:q.a(4,292),color:q.n(0,0,0)},name_entry:{position:q.a(74,292),size:q.size(266,32),color:q.j(255,255,255,255)},tiles:{e:q.a(0,1),position:q.a(374,232),ba:y[0].name},textureleftbtn:{position:q.a(362,292),size:q.size(16,32),ba:"GUI/texture_change_left.png",e:q.a(0,0)},texturerightbtn:{position:q.a(471,292),size:q.size(16,32),ba:"GUI/texture_change_right.png",e:q.a(0,0)},textureName:{position:q.a(375,292),size:q.size(96,32),ba:"GUI/texture_change_middle.png",
e:q.a(0,0),children:{text:{label:x[0].name,fontSize:12,e:q.a(0.5,0.5),position:q.a(48,16),color:q.n(0,0,0)}}},upbtn:{position:q.a(374,236),size:q.size(96,16),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"^",fontSize:12,e:q.a(0.5,0.5),position:q.a(48,8),color:q.n(255,255,255)}}},downbtn:{position:q.a(374,86),size:q.size(96,16),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"v",fontSize:12,e:q.a(0.5,0.5),position:q.a(48,8),color:q.n(255,255,255)}}},scriptlbl:{label:"Script:",fontSize:12,
e:q.a(0,0),position:q.a(8,262),color:q.n(0,0,0)},scriptbtn:{position:q.a(8,232),size:q.size(128,26),color:E,e:q.a(0,0),children:{text:{label:"None",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.n(0,0,0)}}},okbtn:{position:q.a(434,16),size:q.size(32,32),ba:"GUI/tick_icon.png",e:q.a(0,0)},cancelbtn:{position:q.a(384,16),size:q.size(32,32),ba:"GUI/cross_icon.png",e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,330),size:q.size(500,32),children:{header:{label:"Item Editor",fontSize:20,
e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(476,6),size:q.size(20,20),e:q.a(0,0),ba:"GUI/close.png"}}}}}}},Rc:function(){return"npcEditor"},Vb:null,o:null,data:null,v:function(a){this._super();this.data={name:"",sprite:{texture:null,number:null},script:null};this.Zb=y[0].name;this.Z=0;this.o=this.Vb=null;this.O=q.a(0,0);this.o=a.o;a&&a.data&&(this.data=a.data,this.data.sprite.number&&(this.O.y=this.data.sprite.number),this.data.script&&(this.Gh=this.data.script))},nk:function(a){z({savenpcs:a+
"",npcsdata:this.data})},dk:function(a,c){z({savenpcswhole:c})},sa:function(){this._super();for(var a in y)y[a].name==this.data.sprite.texture&&(this.Z=a,this.Zb=y[a].name);this.b.main_panel.textureName.text.ra(this.Zb);this.b.main_panel.tiles.ma(y[this.Z].texture);null!=this.data.script&&(this.b.main_panel.scriptbtn.r(q.j(0,255,0,255)),this.b.main_panel.scriptbtn.text.ra(ObjectLists.Df()[this.data.script].name),this.Gh=this.data.script);this.Vb=new $(this.b.main_panel.name_entry,q.size(this.b.main_panel.name_entry.c().width,
this.b.main_panel.name_entry.c().height),q.a(0,this.b.main_panel.name_entry.c().height),this.data.name?this.data.name:"",q.j(100,100,100),q.n(255,255,255));this.Vb.xb(!0);this.sb()},Ia:function(a){this._super();if(this.o){var c=this.o;!0!=a&&this.o.Ld(function(){c.df(null)})}},sb:function(){this.jc(this.sb);this.b.main_panel.tiles.ia()&&!0==this.b.main_panel.tiles.ia().Dc&&(this.Yc(this.sb),this.b.main_panel.tiles.jb(q.rect(Math.floor(96*this.O.x),Math.floor(128*this.O.y),96>y[this.Z].texture.c().width?
y[this.Z].texture.c().width:96,128>y[this.Z].texture.c().height?y[this.Z].texture.c().height:128)))},Eb:function(a){if(this._super(a))return!0;this.gf=null;a=this.b.main_panel.Ma(a.S);if(I(this.b.main_panel.okbtn,a)){if(null==this.Vb.aa()||""==this.Vb.aa())return!0;this.qi=!0;this.data.name=this.Vb.aa();this.data.sprite.number=this.O.y;this.data.script=this.Gh;this.o.df(this.data);return!0}if(I(this.b.main_panel.cancelbtn,a)){this.qi=!0;var c=this.o;this.o.Ld(function(){c.df(null)});return!0}I(this.b.main_panel.scriptbtn,
a)&&(Scripteditor?(Scripteditor.Ia(),Scripteditor.R(),Scripteditor=null):(Scripteditor=new PopupList,Scripteditor.v({o:this,ek:new ScriptEditor,list:ObjectLists.Df(),name:"Script List"}),Scripteditor.sa(),this.g(Scripteditor)));return I(this.b.main_panel.upbtn,a)?(320<y[this.Z].texture.c().height&&0<this.O.y&&(this.O.y--,this.sb()),!0):I(this.b.main_panel.downbtn,a)?(320<y[this.Z].texture.c().height&&this.O.y<(y[this.Z].texture.c().height-320)/32&&(this.O.y++,this.sb()),!0):I(this.b.main_panel.texturerightbtn,
a)?(this.Mn(),!0):I(this.b.main_panel.textureleftbtn,a)?(this.Nn(),!0):!1},mL:function(){this.data.stackable=!this.data.stackable;this.b.main_panel.stackbtn.r(E);this.b.main_panel.stackbtn.text.ra("NOT STACKABLE");!0==this.data.stackable&&(this.b.main_panel.stackbtn.r(va),this.b.main_panel.stackbtn.text.ra("IS STACKABLE"))},Mn:function(){this.Z>=y.length-1&&(this.Z=-1);this.Z++;this.b.main_panel.tiles.ma(y[this.Z].texture);this.Zb=y[this.Z].name;this.b.main_panel.textureName.text.ra(this.Zb);this.data.sprite.texture=
this.Zb;this.O=q.a(0,0);this.sb()},Nn:function(){0>=this.Z&&(this.Z=y.length);this.Z--;this.b.main_panel.tiles.ma(y[this.Z].texture);this.Zb=y[this.Z].name;this.b.main_panel.textureName.text.ra(this.Zb);this.O=q.a(0,0);this.sb()}});Skillseditor=null;
SkillsEditor=Popup.extend({Zb:x[0].name,Z:0,vc:function(){return{panels:{position:q.a(300,10),children:{main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(420,396),color:q.j(0,0,100,120),children:{tab1:{children:{tiles:{e:q.a(0,1),position:q.a(16,320),ba:x[0].name},textureleftbtn:{position:q.a(208,340),size:q.size(16,32),color:C,e:q.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,16),color:q.n(0,0,0)}}},texturerightbtn:{position:q.a(320,340),size:q.size(16,32),
color:C,e:q.a(0,0),children:{text:{label:"\x3e\x3e",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,16),color:q.n(0,0,0)}}},textureName:{position:q.a(224,340),size:q.size(96,32),color:q.j(255,255,255,170),e:q.a(0,0),children:{text:{label:x[0].name,fontSize:12,e:q.a(0.5,0.5),position:q.a(48,16),color:q.n(0,0,0)}}},leftbtn:{position:q.a(0,64),size:q.size(16,252),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"\x3c",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,160),color:q.n(255,255,255)}}},rightbtn:{position:q.a(336,
64),size:q.size(16,252),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"\x3e",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,160),color:q.n(255,255,255)}}},upbtn:{position:q.a(16,320),size:q.size(320,16),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"^",fontSize:12,e:q.a(0.5,0.5),position:q.a(160,8),color:q.n(255,255,255)}}},downbtn:{position:q.a(16,48),size:q.size(320,16),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"v",fontSize:12,e:q.a(0.5,0.5),position:q.a(160,8),color:q.n(255,
255,255)}}},highlightnode:{e:q.a(0,0),position:q.a(0,0),size:q.size(32,32),color:q.j(255,100,100,255)},selectednode:{e:q.a(0,0),position:q.a(0,0),size:q.size(32,32),color:q.j(100,255,100,255)}}},tab2:{children:{name_text:{label:"Skill Name",fontSize:10,e:q.a(0,0),position:q.a(8,344)},name_entry:{size:q.size(136,32),position:q.a(4,312)},healthcolor_text:{label:"Healthbar Color",fontSize:10,e:q.a(0,0),position:q.a(8,250)},healthcolor_entry:{size:q.size(136,32),position:q.a(4,210)},tile:{e:q.a(0,1),
position:q.a(55,150),ba:x[0].name},healthbtn:{position:q.a(8,265),size:q.size(128,26),color:E,e:q.a(0,0),children:{text:{label:"NOT HEALTHBAR",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.n(0,0,0)}}}}},tab1Clickable:{position:q.a(0,376),size:q.size(60,20),color:C,e:q.a(0,0),children:{text:{label:"Icon",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,10),color:q.n(0,0,0)}}},tab2Clickable:{position:q.a(64,376),size:q.size(60,20),color:C,e:q.a(0,0),children:{text:{label:"Details",fontSize:12,e:q.a(0.5,
0.5),position:q.a(32,10),color:q.n(0,0,0)}}},okbtn:{position:q.a(76,8),size:q.size(60,32),color:C,e:q.a(0,0),children:{text:{label:"OK",fontSize:12,e:q.a(0.5,0.5),position:q.a(30,16),color:q.n(0,0,0)}}},cancelbtn:{position:q.a(8,8),size:q.size(60,32),color:C,e:q.a(0,0),children:{text:{label:"Cancel",fontSize:12,e:q.a(0.5,0.5),position:q.a(30,16),color:q.n(0,0,0)}}}}},control_panel:{e:q.a(0,0),position:q.a(0,396),size:q.size(420,32),color:q.j(255,0,0,200),children:{header:{label:"Skill Editor",fontSize:20,
e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(391,3),size:q.size(26,26),e:q.a(0,0),color:q.j(255,255,255,200),children:{content:{label:"X",fontSize:20,color:q.n(0,0,0),e:q.a(0.5,0.5),position:q.a(13,13)}}}}}}}}},Rc:function(){return"SkillsEditor"},Vb:null,Jp:null,mj:null,bf:0,o:null,data:null,v:function(a){this._super();this.data={sprite:{texture:x[0].name,position:{x:0,y:0}},additionalData:{},healthbar:null,name:""};this.Zb=x[0].name;this.Z=0;this.mj=this.Vb=null;this.bf=0;this.o=null;this.O=
q.a(0,0);this.mj=[null,352,142];this.o=a.o;a&&a.data&&(this.data=a.data)},nk:function(a){z({saveskills:a+"",skillsdata:this.data})},dk:function(a,c){z({saveskillswhole:c})},sa:function(){this._super();this.b.main_panel.tab1.highlightnode.ta(0);this.b.main_panel.tab1.selectednode.ta(127);for(var a in x)x[a].name==this.data.sprite.texture&&(this.Z=a,this.Zb=x[a].name);this.b.main_panel.tab1.textureName.text.ra(this.Zb);this.b.main_panel.tab1.tiles.ma(x[this.Z].texture);for(a=this.data.sprite.position.x;10<=
a;)a--,this.O.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.O.y++;a=q.a(32*(this.data.sprite.position.x-this.O.x),32*(this.data.sprite.position.y-this.O.y));this.b.main_panel.tab1.selectednode.l(this.b.main_panel.tab1.tiles.u.x+a.x,this.b.main_panel.tab1.tiles.u.y-(a.y+32));this.b.main_panel.tab2.tile.ma(x[this.Z].texture);this.b.main_panel.tab2.tile.jb(q.rect(Math.floor(32*this.data.sprite.position.x),Math.floor(32*this.data.sprite.position.y),32,32));this.Vb=new $(this.b.main_panel.tab2.name_entry,
q.size(this.b.main_panel.tab2.name_entry.c().width,this.b.main_panel.tab2.name_entry.c().height),q.a(0,this.b.main_panel.tab2.name_entry.c().height),this.data.name?this.data.name:"",q.j(100,100,100),q.n(255,255,255));this.Vb.xb(!0);this.Jp=new $(this.b.main_panel.tab2.healthcolor_entry,q.size(this.b.main_panel.tab2.healthcolor_entry.c().width,this.b.main_panel.tab2.healthcolor_entry.c().height),q.a(0,this.b.main_panel.tab2.healthcolor_entry.c().height),this.data.healthbar?this.data.healthbar:"",q.j(100,
100,100),q.n(255,255,255));this.Jp.xb(!0);this.b.main_panel.tab2.healthbtn.r(E);this.b.main_panel.tab2.healthbtn.text.ra("NOT HEALTHBAR");null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.r(va),this.b.main_panel.tab2.healthbtn.text.ra("IS HEALTHBAR"));this.Fn(1);this.sb()},Oaa:function(){},Ia:function(a){this._super();if(this.o){var c=this.o;!0!=a&&this.o.Ld(function(){c.df(null)})}},ij:function(a){a=a.S;if(1==this.bf&&(this.b.main_panel.tab1.highlightnode.ta(0),
a=this.b.main_panel.tab1.tiles.Ma(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.c().width&&a.y<=this.b.main_panel.tab1.tiles.c().height))return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+64,this.b.main_panel.tab1.highlightnode.ta(127),this.b.main_panel.tab1.highlightnode.l(a),!0},Fn:function(a){a!=this.bf&&(this.b.main_panel.Q(this.mj[a],this.b.main_panel.c().height),this.b.control_panel.Q(this.mj[a],this.b.control_panel.c().height),this.b.main_panel.tab2.name_entry.Fb(this.b.main_panel.tab2.name_entry.u.I-
1E3),this.b.main_panel.tab2.healthcolor_entry.Fb(this.b.main_panel.tab2.healthcolor_entry.u.I-1E3),this.b.main_panel.tab2.healthcolor_text.G(!1),this.bf=a,this.b.main_panel.tab1.G(!1),this.b.main_panel.tab2.G(!1),this.b.main_panel.tab1Clickable.r(C),this.b.main_panel.tab2Clickable.r(C),this.b.main_panel["tab"+a].G(!0),this.b.main_panel["tab"+a+"Clickable"].r(q.j(255,255,0,255)),this.b.control_panel.exitBtn.Fb(this.mj[a]-29));2==a&&(this.b.main_panel.tab2.name_entry.Fb(4),null!=this.data.healthbar&&
""!=this.data.healthbar&&(this.b.main_panel.tab2.healthcolor_entry.Fb(4),this.b.main_panel.tab2.healthcolor_text.G(!0)))},sb:function(){this.jc(this.sb);this.b.main_panel.tab1.tiles.ia()&&!0==this.b.main_panel.tab1.tiles.ia().Dc&&(this.Yc(this.sb),this.b.main_panel.tab1.tiles.jb(q.rect(Math.floor(32*this.O.x),Math.floor(32*this.O.y),320>x[this.Z].texture.c().width?x[this.Z].texture.c().width:320,256>x[this.Z].texture.c().height?x[this.Z].texture.c().height:256)))},Eb:function(a){if(this._super(a))return!0;
this.gf=null;a=a.S;var c=this.b.main_panel.Ma(a);if(I(this.b.main_panel.tab1Clickable,c))return this.Fn(1),!0;if(I(this.b.main_panel.tab2Clickable,c))return this.Fn(2),!0;if(I(this.b.main_panel.okbtn,c)){if(null==this.Vb.aa()||""==this.Vb.aa())return!0;this.qi=!0;this.data.name=this.Vb.aa();if(null!=this.Jp.aa()||""!=this.Jp.aa())this.data.healthbar=this.Jp.aa();this.o.df(this.data);return!0}if(I(this.b.main_panel.cancelbtn,c)){this.qi=!0;var d=this.o;this.o.Ld(function(){d.df(null)});return!0}if(1==
this.bf){if(I(this.b.main_panel.tab1.leftbtn,c))return 264<x[this.Z].texture.c().width&&0<this.O.x&&(this.O.x--,this.sb()),!0;if(I(this.b.main_panel.tab1.rightbtn,c))return 320<x[this.Z].texture.c().width&&this.O.x<(x[this.Z].texture.c().width-320)/32&&(this.O.x++,this.sb()),!0;if(I(this.b.main_panel.tab1.upbtn,c))return 320<x[this.Z].texture.c().height&&0<this.O.y&&(this.O.y--,this.sb()),!0;if(I(this.b.main_panel.tab1.downbtn,c))return 320<x[this.Z].texture.c().height&&this.O.y<(x[this.Z].texture.c().height-
320)/32&&(this.O.y++,this.sb()),!0;if(I(this.b.main_panel.tab1.texturerightbtn,c))return this.Mn(),!0;if(I(this.b.main_panel.tab1.textureleftbtn,c))return this.Nn(),!0;c=this.b.main_panel.tab1.tiles.Ma(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.c().width&&c.y<=this.b.main_panel.tab1.tiles.c().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+64;this.b.main_panel.tab1.selectednode.ta(0);if(this.b.main_panel.tab1.selectednode.u.I!=c.x||this.b.main_panel.tab1.selectednode.u.N!=c.y)this.b.main_panel.tab1.selectednode.ta(127),
this.b.main_panel.tab1.selectednode.l(c);a=q.a((this.b.main_panel.tab1.selectednode.u.I-16)/32+this.O.x,8-(this.b.main_panel.tab1.selectednode.u.N-64)/32+this.O.y-1);this.b.main_panel.tab2.tile.jb(q.rect(32*a.x,32*a.y,32,32));this.data.sprite.position=a;console.log("TOUCHED");return!0}}return 2==this.bf&&I(this.b.main_panel.tab2.healthbtn,c)?(this.wX(),!0):!1},wX:function(){this.b.main_panel.tab2.healthcolor_entry.Fb(this.b.main_panel.tab2.healthcolor_entry.u.I-1E3);this.b.main_panel.tab2.healthcolor_text.G(!1);
null!=this.data.healthbar&&""!=this.data.healthbar?(this.data.healthbar="",this.Jp.be("")):(this.data.healthbar="FF0000",this.b.main_panel.tab2.healthcolor_entry.Fb(4),this.b.main_panel.tab2.healthcolor_text.G(!0));this.b.main_panel.tab2.healthbtn.r(E);this.b.main_panel.tab2.healthbtn.text.ra("NOT HEALTHBAR");null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.r(va),this.b.main_panel.tab2.healthbtn.text.ra("IS HEALTHBAR"))},Mn:function(){this.Z>=x.length-1&&(this.Z=
-1);this.Z++;this.b.main_panel.tab1.tiles.ma(x[this.Z].texture);this.b.main_panel.tab2.tile.ma(x[this.Z].texture);this.Zb=x[this.Z].name;this.b.main_panel.tab1.textureName.text.ra(this.Zb);this.data.sprite.texture=this.Zb;this.O=q.a(0,0);this.sb()},Nn:function(){0>=this.Z&&(this.Z=x.length);this.Z--;this.b.main_panel.tab1.tiles.ma(x[this.Z].texture);this.b.main_panel.tab2.tile.ma(x[this.Z].texture);this.Zb=x[this.Z].name;this.b.main_panel.tab1.textureName.text.ra(this.Zb);this.O=q.a(0,0);this.sb()}});PopupList=Popup.extend({Ub:null,cb:[],hn:null,If:!1,kj:-1,B7:0,EH:null,H:null,As:!1,Ia:function(){this._super();this.o&&(this.o.dc(!0),!this.As&&this.o.Vs&&this.o.Vs(null,null))},v:function(a){this._super();this.Ub=null;this.cb=[];this.hn=null;this.If=!1;this.kj=-1;this.Ub=a.ek;a.list&&(this.cb=a.list);this.hn=a.name;this.o=a.o},sa:function(){this._super();this.rb()},H:null,rb:function(){this.H&&this.H.ea.R();var a=[],c=[],d=q.ja.f();this.EH={};for(var e in this.cb)if(a[e]=q.F.create(),a[e].Q(324,
32),null==this.cb[e])this.cb.splice(e,1);else{if(null!=this.o){var f=q.w.Sa(d.pa("GUI/use.png"));f.l(q.a(244,6));f.D(q.a(0,0))}var g=q.ga.create(q.j(0,0,0,127),316,1);g.l(q.a(4,0));var k=q.U.create(this.cb[e].name,"Arial",20);k.D(q.a(0,0.5));k.l(q.a(0,16));var h=q.w.Sa(d.pa("GUI/edit.png"));h.l(q.a(272,6));h.D(q.a(0,0));var l=q.w.Sa(d.pa("GUI/trash.png"));l.l(q.a(300,6));l.D(q.a(0,0));h.vb="Edit";var m=[];m.push(h);l.vb="Delete";m.push(l);null!=this.o&&(f.vb="Use",m.push(f));c.push(m);a[e].g(g);a[e].g(k);
a[e].g(h);a[e].g(l);null!=this.o&&a[e].g(f)}d=q.ga.create(q.j(70,200,70,255),90,26);e=q.U.create("+","Arial",20);e.l(45,13);e.D(q.a(0.5,0.5));d.l(q.a(120,0));d.vb="Add";d.g(e);c.push([d]);a.push(d);this.H=this.b.main_panel.list;var n=this;this.H.Hc=function(){return q.size(324,32*a.length)};this.H.Bc=function(){return a.length};this.H.Tc=function(c){return a[c].c()};this.H.Sc=function(c){return a[c]};this.H.$b=function(a,c,d){n.Ma(d.S);if(!0!=n.If)switch(a){case "Delete":n.da.g(DropDownList.zf(n,
n.ps,["Cancel","Delete"],d.S));n.ab=c;break;case "Edit":n.Ub.da&&n.Ub.R();n.If=!0;n.Ub.v({o:n,data:n.cb[c]});n.da.g(n.Ub);n.dc(!1);n.Ub.sa();n.kj=c+"";break;case "Add":n.rp=!0;n.If=!0;n.kj=n.cb.length;n.Ub.v({o:n,data:null});n.dc(!1);n.da.g(n.Ub);n.Ub.sa();break;case "Use":n.o.Gn(c,n.cb[c]),n.As=!0}};this.H.ea=ListView.create(this.H);this.H.ea.Wc(c);this.H.g(this.H.ea)},vc:function(){return{panels:{position:q.a(300,200),children:{background_image:{ba:"GUI/list_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,
0),size:q.size(365,328),children:{list:{size:q.size(324,328),position:q.a(0,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:this.hn,fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),e:q.a(0,0),ba:"GUI/close.png"}}}}}}},ab:null,ps:function(a){switch(a){case 1:null!=this.o.ab&&(this.o.OB(this.o.ab),this.o.ab=null)}},df:function(a){a&&(this.Ub.nk(this.kj),this.rp&&(this.cb.push(a),this.rb()));this.dc(!0);
this.If=this.rp=!1;var c=this;this.Ld(function(){c.Ub.Ia(!0);c.Ub.R()})},OB:function(a){this.cb.splice(a,1);this.Ub.dk(a,this.cb);this.rb()}});ScriptingList=Popup.extend({Ub:null,cb:[],hn:null,If:!1,kj:-1,g$:null,Tg:null,As:!1,An:null,Ia:function(){this._super();this.o&&(this.o.dc(!0),!this.As&&this.o.Vs&&this.o.Vs(null,null))},v:function(a){this._super();this.Ub=null;this.cb=[];this.hn=null;this.If=!1;this.kj=-1;this.Ub=a.ek;a.list&&(this.cb=a.list);this.hn=a.name;this.o=a.o},sa:function(){this._super();this.dx()},dx:function(){this.xh&&this.xh.ea.R();var a=[],c=[],d=q.ja.f(),e=["Default Scripts","NPC Scripts","Item Scripts","Tile Scripts"],
f;for(f in e){a[f]=q.F.create();a[f].Q(220,32);var g=q.ga.create(q.j(0,0,0,127),220,1);g.l(q.a(0,0));var k=q.U.create(e[f],"Arial",20);k.D(q.a(0,0));k.l(q.a(4,4));k.yb(q.size(192,0));a[f].Q(220,k.c().height+8);if(null!=this.An&&this.An==f){a[f]=q.ga.create(q.j(100,0,0,255),220,k.c().height+8);var h=q.w.Sa(d.pa("GUI/selected.png"));h.l(q.a(196,(k.c().height+8-20)/2));h.D(q.a(0,0));a[f].g(h);k.r(q.n(255,255,255))}a[f].vb="Use";c.push([a[f]]);a[f].g(g);a[f].g(k)}this.xh=this.b.main_panel.mainlist;var l=
this;this.xh.Hc=function(){return q.size(324,32*a.length)};this.xh.Bc=function(){return a.length};this.xh.Tc=function(c){return a[c].c()};this.xh.Sc=function(c){return a[c]};this.xh.$b=function(a,c,d){l.Ma(d.S);if(!0!=l.If)switch(a){case "Use":l.An=c,l.YC(c),l.dx()}};this.xh.ea=ListView.create(this.xh);this.xh.ea.Wc(c);this.xh.g(this.xh.ea)},YC:function(a){var c="";switch(a){case 0:c="Default";break;case 1:c="NPC";break;case 2:c="Item";break;case 3:c="Tile"}this.Tg&&this.Tg.ea.R();var d=[];a=[];for(var e=
q.ja.f(),f=0;f<this.cb.length;f++)if(d[f]=q.F.create(),this.cb[f].specifier==c)if(d[f].Q(286,32),console.log(this.cb[f]),null==this.cb[f])this.cb.splice(f,1);else{var g=q.ga.create(q.j(0,0,0,127),286,1);g.l(q.a(0,0));var k=q.U.create(this.cb[f].name,"Arial",20);k.D(q.a(0,0));k.l(q.a(2,4));k.yb(q.size(208,0));d[f].Q(286,k.c().height+8);if(null!=this.o&&!this.cb[f].isTemplate){var h=q.w.Sa(e.pa("GUI/use.png"));h.l(q.a(212,(d[f].c().height-20)/2));h.D(q.a(0,0))}var l=[];if("Default"!=c){var m=q.w.Sa(e.pa("GUI/edit.png"));
m.l(q.a(236,(d[f].c().height-20)/2));m.D(q.a(0,0));var n=q.w.Sa(e.pa("GUI/trash.png"));n.l(q.a(260,(d[f].c().height-20)/2));n.D(q.a(0,0));l.push(m);n.vb="Delete";m.vb="Edit";l.push(n);d[f].g(m);d[f].g(n)}null==this.o||this.cb[f].isTemplate||(h.vb="Use",l.push(h));m=q.w.Sa(e.pa("GUI/copy.png"));m.l(q.a(188,(d[f].c().height-20)/2));m.D(q.a(0,0));m.vb="Copy";l.push(m);d[f].g(m);a.push(l);d[f].g(g);d[f].g(k);null!=this.o&&d[f].g(h)}else d[f].Q(q.size(0,0)),a.push([]);"Default"!=c&&(h=q.ga.create(q.j(70,
200,70,255),90,26),e=q.U.create("+","Arial",20),e.l(45,13),e.D(q.a(0.5,0.5)),h.l(q.a(100,0)),h.vb="Add",h.g(e),a.push([h]),d.push(h));this.Tg=this.b.main_panel.sublist;var p=this;this.Tg.Hc=function(){return q.size(324,32*d.length)};this.Tg.Bc=function(){return d.length};this.Tg.Tc=function(a){return d[a].c()};this.Tg.Sc=function(a){return d[a]};this.Tg.$b=function(a,d,e){p.Ma(e.S);if(!0!=p.If)switch(a){case "Delete":p.da.g(DropDownList.zf(p,p.ps,["Cancel","Delete"],e.S));p.ab=d;break;case "Edit":p.Ub.da&&
p.Ub.R();p.If=!0;p.Ub.v({o:p,data:p.cb[d]});p.da.g(p.Ub);p.dc(!1);p.Ub.sa();p.kj=d+"";break;case "Add":p.rp=!0;p.If=!0;p.kj=p.cb.length;p.Ub.v({o:p,data:null,oD:c});p.dc(!1);p.da.g(p.Ub);p.Ub.sa();break;case "Use":p.o.Gn(d,p.cb[d]);p.As=!0;break;case "Copy":p.wR(d)}};this.Tg.ea=ListView.create(this.Tg);this.Tg.ea.Wc(a);this.Tg.g(this.Tg.ea)},vc:function(){return{panels:{position:q.a(20,20),children:{background_image:{ba:"GUI/scripting_list.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(584,408),
children:{mainlist:{size:q.size(220,408),position:q.a(0,0),e:q.a(0,0)},sublist:{size:q.size(280,408),position:q.a(261,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,408),size:q.size(584,32),children:{header:{label:this.hn,fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(560,6),size:q.size(20,20),e:q.a(0,0),ba:"GUI/close.png"}}}}}}},ab:null,ps:function(a){switch(a){case 1:null!=this.o.ab&&(this.o.OB(this.o.ab),this.o.ab=null)}},df:function(a){a&&(this.Ub.nk(this.kj),this.rp&&
(this.cb.push(a),this.dx(),this.An&&this.YC(this.An)));this.dc(!0);this.If=this.rp=!1;var c=this;this.Ld(function(){c.Ub.Ia(!0);c.Ub.R()})},OB:function(a){this.cb.splice(a,1);this.Ub.dk(a,this.cb);this.dx();this.An&&this.YC(this.An)},wR:function(a){this.If=this.rp=!0;this.kj=this.cb.length;a=J(this.cb[a]);a.implementsAs&&(a.specifier=a.implementsAs,a.implementsAs=null);a.isTemplate&&(a.isTemplate=null);this.Ub.v({o:this,data:a,oD:a.specifier});this.dc(!1);this.da.g(this.Ub);this.Ub.sa()}});var K=Ia.extend({ctor:function(){this._super()},FL:function(){this._super()},sa:function(){this._super()},Ia:function(){this._super()},Eb:function(a){q.lb(this.b.health_panel.ib(),a.S)&&F.f().nl("Game")}});NewsPanel=null;
News=Popup.extend({data:null,H:null,ab:null,Rc:function(){return"Credits"},Ia:function(){this._super()},v:function(){this._super();this.data={"24th November 2014: (v0.75)":["Re-introduced dependancies so that I can added orientation change logic to the project. Clicking and dragging a client window now correctly resizes the game."],"16th November 2014: (v0.75)":["Cleaned up project dependancies, removed dependancy on socket.io and cocos-utils changes."],"11th November 2014: (v0.74)":["Added quest log (hotkey Q).","Implemented quest response logic. Added 2 additional 'quest unstarted' and 'quest finished' parameters"],
"10th November 2014: (v0.735)":["Added user extradata content for subscripting. Allows for developers to code in specific scripting logic if needed.","Extradata updates with user login data and is purposefully not localstorage based."],"9th November 2014: (v0.733)":["Added talking and talk with option callback to the npc scripts contexts."],"8th November 2014: (v0.731)":["Fixed NPC editor.","Added talk graphic and basic logic for npc interaction","Abstracted Item script logic to a utils function...wiped a lot of duplicate code."],
"25th October 2014: (v0.729)":["Added scripting response logic for giving/taking items.","Added scripting requirements logic for if a panel is visible and inventory has a certain amount of slots."],"25th October 2014: (v0.727)":["Fixed a bunch of persistant bugs. Game is now much much more stable than it was.","Added scripts for on pickup and on drop. Added some additional response logic for warping the player. Added requirement logic for check if player has items and if player stats are within certain ranges."],
"24th October 2014: (v0.724)":["Added functionality to more scripts. Items can now use the destroy and open/close panel scripts.","Fixed equip script to use the equip position defined within the scripting system instead of previously defined sub-item types from previous versions."],"23rd October 2014: (v0.722)":["Added functionality to some item scripts. Game now modifies inventory drop down behaviour based on responses type (read/equip).","Items can now influence player stats on equip, dequip, swapped and on read."],
"30th September 2014: (v0.72)":["Added user saving and loading for player position, items and equipment. Picked up and equipped items are now stored and saved regardless of session.","Edited the skills panel to utilise the list view logic. Skills menu now shows level and experience progression and uses data from the user account","Added health manipulation functionality utilising new skill logic as noted in the previous point."],"27th September 2014: (v0.72)":["Added registration and logging in system. Users can now have automatic login setup for their accounts and player data is starting to be saved from an actual account.",
"Server now has a new folder where user data is stored.","Added the beginnings of a user ranking system, game editors can now only be accessed if the player rank is above 1. Rank 1 is now the default registration rank."],"25th August 2014: (v0.718)":["Added 90% of subeditors needed for the scripting system. Go into the script editor and press the pencil icon on the responses and requirements to edit their core data.","Updated script panel texture to utilize inpanel submenu editors.","Abstracted out the script editor so that its not dependant on certain types.",
"Added/removed requirements responses based on logical conclusions on what is actually needed. Consume as an item response, for example, is unecessary because it would work identically to destroy."],"17th August 2014: (v0.714)":["Added basic template logic of new scripting editor system. Scripts can be saved and loaded like other list systems. This editor currently does not allow you to apply scripts to anything (it is simply the GUI interface template logic that's in there). The item editor has been changed to utilize the new saved scripts list.",
"Fixed localstorage issue caused by settings implementation. Game now does not now load until the game is fully in sync. The issue was causing an error on some game-loads because the localstorage was not yet available (requiring a refresh)."],"11th August 2014: (v0.708)":["Added settings menu for various game controls. Settings menu only currently controls a load of in game string settings. Also added the additional required admin panel graphic for settings access. The new chatbox command is /editsettings.",
"Added scrolling credits button to login page and populated it.","Added this scrolling news feed to login page and obviously populated it as well."],"11th August 2014 (v0.7)":["Added some additional custom gui for some of the editors.","Fixed a lot of bugs (and I mean a lot).","Added 0.7 download to site."],"10th August 2014 (v0.695)":["Added quest objective editor. New button now made usable in menu.","Objective editor utilizes abstract scrolling list from 0.69."]}},nk:function(a){z({savequests:a+
"",questdata:this.data})},dk:function(a,c){z({savequestswhole:c})},sa:function(){this._super();this.rb()},rb:function(){this.H&&this.H.ic();var a=[],c=[];q.ja.f();var d=0,e;for(e in this.data){a[d]=q.F.create();a[d].Q(324,32);var f=q.U.create(e,"Arial",18);f.D(q.a(0,0));f.l(q.a(4,0));f.yb(q.size(246,0));f.r(q.n(100,0,0));a[d].g(f);a[d].Q(324,f.c().height+4);f=[];c.push(f);d++;for(var g in this.data[e]){a[d]=q.F.create();a[d].Q(324,32);var k=q.ga.create(q.j(0,0,0,127),316,1);k.l(q.a(4,0));var h=q.U.create(this.data[e][g],
"Arial",15);h.r(q.n(0,0,0));h.D(q.a(0,0));h.l(q.a(4,4));h.yb(q.size(246,0));f=[];c.push(f);a[d].g(k);a[d].g(h);a[d].Q(324,h.c().height+8);d++}}this.H=this.b.main_panel.list;this.H.Hc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(324,c)};this.H.Bc=function(){return a.length};this.H.Tc=function(c){return a[c].c()};this.H.Sc=function(c){return a[c]};this.H.$b=function(){};this.H.ea=ListView.create(this.H);this.H.ea.Wc(c);this.H.g(this.H.ea)},vc:function(){return{panels:{position:q.a(300,
200),children:{background_image:{ba:"GUI/list_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(365,328),children:{list:{size:q.size(324,328),color:q.j(0,200,200,200),position:q.a(0,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"News",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),e:q.a(0,0),ba:"GUI/close.png"}}}}}}},Eb:function(a){if(this._super(a))return!0;this.gf=null;a=this.b.main_panel.Ma(a.S);
return I(this.b.main_panel,a)?!0:!1}});CreditsPanel=null;
Credits=Popup.extend({data:null,H:null,ab:null,Rc:function(){return"Credits"},Ia:function(){this._super()},v:function(){this._super();this.data={"Programmed and designed by:":"Alan Tuckwood","Special thanks:":"Claire, for putting up with all the non-talking hours.","Special thanks 2:":"IndieRising dev community for all their wonderful support.","Special thanks 3:":"Finblade, for all the skills I was able to pass into this engine.","Special thanks 4:":"All of you players, who's positive response keep me motivated.","Powder Engine is Copywritten":"Contact the developer in-site regarding questions."}},
nk:function(a){z({savequests:a+"",questdata:this.data})},dk:function(a,c){z({savequestswhole:c})},sa:function(){this._super();this.rb()},rb:function(){this.H&&this.H.ic();var a=[],c=[];q.ja.f();var d=0,e;for(e in this.data){if("ISSECTION"!=this.data[e]){a[d]=q.F.create();a[d].Q(324,32);var f=q.U.create(e,"Arial",18);f.D(q.a(0,0));f.l(q.a(4,0));f.yb(q.size(246,0));f.r(q.n(100,0,0));a[d].g(f);a[d].Q(324,f.c().height+4);f=[];c.push(f);d++}a[d]=q.F.create();a[d].Q(324,32);var g=q.ga.create(q.j(0,0,0,
127),316,1);g.l(q.a(4,0));if("ISSECTION"==this.data[e]){var k=q.U.create(e,"Arial",22);k.r(q.n(255,0,0))}else k=q.U.create(this.data[e],"Arial",15),k.r(q.n(0,0,0));k.D(q.a(0,0));k.l(q.a(4,4));k.yb(q.size(246,0));f=[];c.push(f);a[d].g(g);a[d].g(k);"ISSECTION"==this.data[e]?a[d].Q(324,k.c().height+12):a[d].Q(324,k.c().height+8);d++}this.H=this.b.main_panel.list;this.H.Hc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(324,c)};this.H.Bc=function(){return a.length};this.H.Tc=
function(c){return a[c].c()};this.H.Sc=function(c){return a[c]};this.H.$b=function(){};this.H.ea=ListView.create(this.H);this.H.ea.Wc(c);this.H.g(this.H.ea)},vc:function(){return{panels:{position:q.a(300,200),children:{background_image:{ba:"GUI/list_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(365,328),children:{list:{size:q.size(324,328),color:q.j(0,200,200,200),position:q.a(0,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Credits",
fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),e:q.a(0,0),ba:"GUI/close.png"}}}}}}},Eb:function(a){if(this._super(a))return!0;this.gf=null;a=this.b.main_panel.Ma(a.S);return I(this.b.main_panel,a)?!0:!1}});Login=Ia.extend({Qs:!1,Rl:!1,QC:function(){var a=this.vc();Aa(a,"panels",this.b)},v:function(a){H=Ea(H,V.hC());this._super();F.Bn(this);this.Np=this.FC=!1;this.kk=new $(this.b.name_entry,q.size(this.b.name_entry.c().width,this.b.name_entry.c().height),q.a(0,this.b.name_entry.c().height),"Username",q.j(100,100,100),q.n(255,255,255));this.Al=new $(this.b.password_entry,q.size(this.b.password_entry.c().width,this.b.password_entry.c().height),q.a(0,this.b.password_entry.c().height),"Password",q.j(100,
100,100),q.n(255,255,255));this.Al.Tp(0);this.eD=new $(this.b.new_user_name,q.size(this.b.new_user_name.c().width,this.b.new_user_name.c().height),q.a(0,this.b.new_user_name.c().height),"Username",q.j(100,100,100),q.n(255,255,255));this.hx=new $(this.b.new_user_pass,q.size(this.b.new_user_pass.c().width,this.b.new_user_pass.c().height),q.a(0,this.b.new_user_pass.c().height),"Password",q.j(100,100,100),q.n(255,255,255));this.hx.Tp(0);this.dD=new $(this.b.new_user_email,q.size(this.b.new_user_email.c().width,
this.b.new_user_email.c().height),q.a(0,this.b.new_user_email.c().height),"Email Address",q.j(100,100,100),q.n(255,255,255));this.rH=!1;a&&(a.qJ?(A=[],z({logout:!0})):this.rH=!0,this.En(a.rD));this.jc(this.NB);this.qH=!1;this.jc(this.SD);this.sC();this.b.rem_login_text.yb(q.size(80,0));this.b.auto_login_text.yb(q.size(80,0));this.b.server_message.yb(q.size(300,0));this.b.server_message2.yb(q.size(150,0))},yl:function(a){switch(a){case "ENTER":if(this.FC){a=this.eD.aa();var c=this.hx.aa(),d=this.dD.aa();
""!=a&&null!=a&&""!=c&&null!=c&&""!=d&&null!=d?!1==/\S+@\S+\.\S+/.test(d)?this.ig("Please use a correct email address."):(this.Np=!0,this.ig("Registering please wait..."),this.SJ({name:a,password:c,email:d})):this.ig("Please fill all fields.")}else!1==this.Rl&&this.Qs?(a=this.kk.aa(),c=this.Al.aa(),""!=a&&null!=a&&""!=c&&null!=c?(this.Rl=!0,this.ig("Logging In"),z({login:!0,username:this.kk.aa(),password:this.Al.aa()})):this.ig("Please enter a User and Password")):this.Zw("Server is offline!")}},
En:function(a){this.Qs=a;!0==a?(this.b.server_activity.ra("Server: Online"),this.b.server_activity.r(q.n(0,255,0))):(this.b.server_activity.ra("Server: Offline"),this.b.server_activity.r(q.n(255,0,0)))},NB:function(){var a=V.QS();a&&!1==this.qH&&(this.kk.be(a.user),this.qH=!0,this.Al.be(a.pass));!0==this.rH&&autoLoginNextTime&&!1==this.Rl&&this.Qs&&(!1==this.Rl&&this.Qs?(this.Rl=!0,this.ig("Logging In"),z({login:!0,username:this.kk.aa(),password:this.Al.aa()})):this.Zw("Server is offline!"))},SD:function(){if(0<
A.length)for(var a=A.length-1;0<=a;a--)reactToSocketMessage(A[a]),A.splice(a,1);autoLoginNextTime?(V.gK(!0),this.b.auto_login.ma(q.ja.f().pa("GUI/checkbox_checked.png"))):(V.gK(!1),this.b.auto_login.ma(q.ja.f().pa("GUI/checkbox_uncheck.png")));rememberLoginNextTime?this.b.remember_login.ma(q.ja.f().pa("GUI/checkbox_checked.png")):this.b.remember_login.ma(q.ja.f().pa("GUI/checkbox_uncheck.png"))},vc:function(){return{panels:{children:{background:{ba:"GUI/splash.png",size:q.size(960,640),e:q.a(0,0),
position:q.a(0,0)},name_entry:{size:q.size(300,30),position:q.a(325,325)},password_entry:{size:q.size(300,30),position:q.a(325,290)},new_user_name:{size:q.size(300,30),position:q.a(325,360)},new_user_pass:{size:q.size(300,30),position:q.a(325,325)},new_user_email:{size:q.size(300,30),position:q.a(325,290)},remember_login:{size:q.size(20,20),position:q.a(630,295),ba:"GUI/checkbox_uncheck.png",e:q.a(0,0)},rem_login_text:{label:"Remember login.",fontSize:16,color:q.n(255,255,255),e:q.a(0,1),position:q.a(665,
315)},auto_login:{size:q.size(20,20),position:q.a(630,330),ba:"GUI/checkbox_uncheck.png",e:q.a(0,0)},auto_login_text:{label:"Auto login next time.",fontSize:16,color:q.n(255,255,255),e:q.a(0,0),position:q.a(665,330)},go_button:{position:q.a(325,240),size:q.size(120,40),color:q.j(0,0,0,255),children:{label:{label:"Play",fontSize:20,color:q.n(255,255,255),e:q.a(0.5,0.5),position:q.a(60,20)}}},register_button:{position:q.a(505,240),size:q.size(120,40),color:q.j(0,0,0,255),children:{label:{label:"Register",
fontSize:20,color:q.n(255,255,255),e:q.a(0.5,0.5),position:q.a(60,20)}}},new_user_back:{position:q.a(325,240),size:q.size(120,40),color:q.j(0,0,0,255),children:{label:{label:"Go Back",fontSize:20,color:q.n(255,255,255),e:q.a(0.5,0.5),position:q.a(60,20)}}},new_user_confirm:{position:q.a(505,240),size:q.size(120,40),color:q.j(0,0,0,255),e:q.a(0,1),children:{label:{label:"Confirm",fontSize:20,color:q.n(255,255,255),e:q.a(0.5,0.5),position:q.a(60,20)}}},credits_button:{position:q.a(30,400),size:q.size(120,
40),color:q.j(0,0,0,255),children:{label:{label:"Credits",fontSize:20,color:q.n(255,255,255),e:q.a(0.5,0.5),position:q.a(60,20)}}},news_button:{position:q.a(30,340),size:q.size(120,40),color:q.j(0,0,0,255),e:q.a(0,1),children:{label:{label:"News",fontSize:20,color:q.n(255,255,255),e:q.a(0.5,0.5),position:q.a(60,20)}}},server_message:{label:"",fontSize:16,color:q.n(255,255,255),e:q.a(0,1),position:q.a(325,220)},server_message2:{label:"This game saves data automatically.",fontSize:16,color:q.n(255,
255,255),e:q.a(0,1),position:q.a(175,355)},version_number:{label:H["Version Number"],fontSize:34,color:q.n(255,255,255),e:q.a(1,1),position:q.a(710,55)},server_activity:{position:q.a(910,630),size:q.size(100,20),e:q.a(0.5,0.5),label:"Server: Offline",color:q.n(255,0,0)}}}}},xX:function(){autoLoginNextTime?(autoLoginNextTime=!1,this.b.auto_login.ma(q.ja.f().pa("GUI/checkbox_uncheck.png"))):(autoLoginNextTime=!0,this.b.auto_login.ma(q.ja.f().pa("GUI/checkbox_checked.png")),rememberLoginNextTime=!0,
this.b.remember_login.ma(q.ja.f().pa("GUI/checkbox_checked.png")))},yX:function(){rememberLoginNextTime?(rememberLoginNextTime=!1,this.b.remember_login.ma(q.ja.f().pa("GUI/checkbox_uncheck.png")),autoLoginNextTime=!1,this.b.auto_login.ma(q.ja.f().pa("GUI/checkbox_uncheck.png"))):(rememberLoginNextTime=!0,this.b.remember_login.ma(q.ja.f().pa("GUI/checkbox_checked.png")))},Eb:function(a){if(null!=this.kk.aa()&&this.b.go_button.wa&&q.lb(q.rect(this.b.go_button.u.I,this.b.go_button.u.N,this.b.go_button.c().width,
this.b.go_button.c().height),a.S)){if(!1==this.Rl&&this.Qs){a=this.kk.aa();var c=this.Al.aa();""!=a&&null!=a&&""!=c&&null!=c?(this.Rl=!0,this.ig("Logging In"),z({login:!0,username:this.kk.aa(),password:this.Al.aa()})):this.ig("Please enter a User and Password")}else this.Zw("Server is offline!");return!0}this.b.credits_button.wa&&q.lb(q.rect(this.b.credits_button.u.I,this.b.credits_button.u.N,this.b.credits_button.c().width,this.b.credits_button.c().height),a.S)&&this.Sg("/openCredits");this.b.news_button.wa&&
q.lb(q.rect(this.b.news_button.u.I,this.b.news_button.u.N,this.b.news_button.c().width,this.b.news_button.c().height),a.S)&&this.Sg("/openNews");if(this.b.register_button.wa&&q.lb(q.rect(this.b.register_button.u.I,this.b.register_button.u.N,this.b.register_button.c().width,this.b.register_button.c().height),a.S))return this.lX(),!1;if(this.b.auto_login.wa&&q.lb(q.rect(this.b.auto_login.u.I,this.b.auto_login.u.N,this.b.auto_login.c().width,this.b.auto_login.c().height),a.S))return this.xX(),!1;if(this.b.remember_login.wa&&
q.lb(q.rect(this.b.remember_login.u.I,this.b.remember_login.u.N,this.b.remember_login.c().width,this.b.remember_login.c().height),a.S))return this.yX(),!1;if(this.b.new_user_back.wa&&!1==this.Np&&q.lb(q.rect(this.b.new_user_back.u.I,this.b.new_user_back.u.N,this.b.new_user_back.c().width,this.b.new_user_back.c().height),a.S))return this.sC(),this.ig(""),!1;if(this.b.new_user_confirm.wa&&!1==this.Np&&q.lb(q.rect(this.b.new_user_confirm.u.I,this.b.new_user_confirm.u.N,this.b.new_user_confirm.c().width,
this.b.new_user_confirm.c().height),a.S)){a=this.eD.aa();var c=this.hx.aa(),d=this.dD.aa();""!=a&&null!=a&&""!=c&&null!=c&&""!=d&&null!=d?!1==/\S+@\S+\.\S+/.test(d)?this.ig("Please use a correct email address."):(this.Np=!0,this.ig("Registering please wait..."),this.SJ({name:a,password:c,email:d})):this.ig("Please fill all fields.");return!1}},SJ:function(a){a.newUser=1;z(a)},qR:function(){this.ig("Registration successful.");this.eD.be("Username");this.hx.be("Password");this.dD.be("Email Address");
this.Np=!1;this.sC()},aS:function(a){this.Np=!1;switch(a){case "UserTaken":this.ig("Registration failed, user already exists.")}},lX:function(){this.b.new_user_name.G(!0);this.b.new_user_pass.G(!0);this.b.new_user_email.G(!0);this.b.new_user_confirm.G(!0);this.b.new_user_back.G(!0);this.b.register_button.G(!1);this.b.go_button.G(!1);this.b.name_entry.Fb(-1E5);this.b.password_entry.Fb(-1E5);this.b.new_user_name.Fb(325);this.b.new_user_pass.Fb(325);this.b.new_user_email.Fb(325);this.b.rem_login_text.G(!1);
this.b.auto_login_text.G(!1);this.b.auto_login.G(!1);this.b.remember_login.G(!1);this.FC=!0},sC:function(){this.b.new_user_name.G(!1);this.b.new_user_pass.G(!1);this.b.new_user_email.G(!1);this.b.new_user_confirm.G(!1);this.b.new_user_back.G(!1);this.b.register_button.G(!0);this.b.go_button.G(!0);this.b.name_entry.Fb(325);this.b.password_entry.Fb(325);this.b.new_user_name.Fb(-1E5);this.b.new_user_pass.Fb(1E5);this.b.new_user_email.Fb(1E5);this.b.rem_login_text.G(!0);this.b.auto_login_text.G(!0);this.b.auto_login.G(!0);
this.b.remember_login.G(!0);this.FC=!1},Sg:function(a){switch(a){case "/openCredits":null==CreditsPanel||CreditsPanel.da||(CreditsPanel=null);CreditsPanel?(CreditsPanel.Ia(),CreditsPanel.R(),CreditsPanel=null):(CreditsPanel=new Credits,CreditsPanel.v(),CreditsPanel.sa(),this.g(CreditsPanel));break;case "/openNews":null==NewsPanel||NewsPanel.da||(NewsPanel=null),NewsPanel?(NewsPanel.Ia(),NewsPanel.R(),NewsPanel=null):(NewsPanel=new News,NewsPanel.v(),NewsPanel.sa(),this.g(NewsPanel))}},fU:function(a){rememberLoginNextTime&&
V.PW(this.kk.aa(),this.Al.aa());this.Yc(this.NB);F.f().nl("Game",{mk:a,map:1})},Zw:function(a){this.Yc(this.NB);this.b.server_message.ra(a);this.Rl=!1},ig:function(a){this.b.server_message.ra(a)},X7:function(){F.f().nl("Game",{lca:this.kk.aa()})}});K=null;MapMaster=!1;
var Ja=Ia.extend({dJ:!1,ctor:function(){this._super()},QC:function(){var a=Q.t.W.Gc();U.ml(32*a.x,32*a.y);a=this.vc();Aa(a,"panels",this.b);SkillBarsInstance.bq()},vc:function(){return{panels:{children:{saving_icon:{visible:!1,position:q.a(Y.width-52,4),e:q.a(0,0),size:q.size(48,48),ba:"GUI/save_icon.png"},logout_button:{position:q.a(Y.width-52,Y.height-52),e:q.a(0,0),size:q.size(48,48),ba:"GUI/logout.png"},quicknav_button:{position:q.a(Y.width-30,Math.floor(Y.height/2)-24),e:q.a(0,0),size:q.size(48,
48),ba:"GUI/quickmenu_closed_icon.png"},inventory_button:{position:q.a(Y.width-52,Math.floor(Y.height/2)+60),e:q.a(0,0),size:q.size(48,48),ba:"GUI/inventory_icon.png"},equipment_button:{position:q.a(Y.width-82,Math.floor(Y.height/2)+4),e:q.a(0,0),size:q.size(48,48),ba:"GUI/equipment_icon.png"},skill_button:{position:q.a(Y.width-82,Math.floor(Y.height/2)-52),e:q.a(0,0),size:q.size(48,48),ba:"GUI/skills_icon.png"},chat_button:{position:q.a(Y.width-52,Math.floor(Y.height/2)-108),e:q.a(0,0),size:q.size(48,
48),ba:"GUI/chat_icon.png"},quickedit_button:{position:q.a(0,Math.floor(Y.height/2)-24),e:q.a(0,0),size:q.size(48,48),ba:"GUI/quickedit_closed_icon.png"},mapedit_button:{position:q.a(4,Math.floor(Y.height/2)+116),e:q.a(0,0),size:q.size(48,48),ba:"GUI/mapeditor_icon.png"},npcedit_button:{position:q.a(34,Math.floor(Y.height/2)+60),e:q.a(0,0),size:q.size(48,48),ba:"GUI/npceditor_icon.png"},itemedit_button:{position:q.a(64,Math.floor(Y.height/2)+4),e:q.a(0,0),size:q.size(48,48),ba:"GUI/itemeditor_icon.png"},
skilledit_button:{position:q.a(64,Math.floor(Y.height/2)-52),e:q.a(0,0),size:q.size(48,48),ba:"GUI/skilleditor_icon.png"},scriptedit_button:{position:q.a(90,Math.floor(Y.height/2)-108),e:q.a(0,0),size:q.size(48,48),ba:"GUI/scripteditor_icon.png"},settings_button:{position:q.a(4,Math.floor(Y.height/2)-220),e:q.a(0,0),size:q.size(48,48),ba:"GUI/settings_icon.png"},bankedit_button:{position:q.a(90,Math.floor(Y.height/2)+60),e:q.a(0,0),size:q.size(48,48),ba:"GUI/bankeditor_icon.png"},shopedit_button:{position:q.a(120,
Math.floor(Y.height/2)+4),e:q.a(0,0),size:q.size(48,48),ba:"GUI/shopeditor_icon.png"},questedit_button:{position:q.a(120,Math.floor(Y.height/2)-52),e:q.a(0,0),size:q.size(48,48),ba:"GUI/questeditor_icon.png"}}}}},aJ:!1,ZI:!1,En:function(a){!1==a&&(this.QB(),F.f().nl("Login",{rD:!1}))},QB:function(){U.cf();U.Ts();null!=Equipment&&(Equipment.Ia(),Equipment.R(),Equipment=null);null!=Inventory&&(Inventory.Ia(),Inventory.R(),Inventory=null);null!=Skills&&(Skills.Ia(),Skills.R(),Skills=null);null!=Quests&&
(Quests.Ia(),Quests.R(),Quests=null);SkillBarsInstance.R();Q.cf();Q.Ts();R.cf();R.Ts()},Eb:function(a){if(q.lb(q.rect(this.b.logout_button.u.I,this.b.logout_button.u.N,this.b.logout_button.c().width,this.b.logout_button.c().height),a.S))return this.QB(),F.f().nl("Login",{qJ:!0,rD:!0}),!0;F.Bn(this);if(q.lb(this.b.chat_button.ib(),a.S)&&this.b.chat_button.wa)return this.yl("C"),!0;if(q.lb(this.b.inventory_button.ib(),a.S)&&this.b.inventory_button.wa)return this.yl("I"),!0;if(q.lb(this.b.equipment_button.ib(),
a.S)&&this.b.equipment_button.wa)return this.yl("E"),!0;if(q.lb(this.b.skill_button.ib(),a.S)&&this.b.skill_button.wa)return this.yl("S"),!0;if(this.b.quickedit_button.wa&&q.lb(this.b.quickedit_button.ib(),a.S)&&this.b.quickedit_button.wa)return this.cL(!this.ZI),!0;if(q.lb(this.b.quicknav_button.ib(),a.S)&&this.b.quicknav_button.wa)return this.dL(!this.aJ),!0;if(q.lb(this.b.mapedit_button.ib(),a.S)&&this.b.mapedit_button.wa)return this.Sg("/editmap"),!0;if(q.lb(this.b.npcedit_button.ib(),a.S)&&this.b.npcedit_button.wa)return this.Sg("/editnpc"),
!0;if(q.lb(this.b.itemedit_button.ib(),a.S)&&this.b.itemedit_button.wa)return this.Sg("/edititem"),!0;if(q.lb(this.b.skilledit_button.ib(),a.S)&&this.b.skilledit_button.wa)return this.Sg("/editskill"),!0;if(q.lb(this.b.scriptedit_button.ib(),a.S)&&this.b.scriptedit_button.wa)return this.Sg("/editscript"),!0;if(q.lb(this.b.settings_button.ib(),a.S)&&this.b.settings_button.wa)return this.Sg("/editsettings"),!0;if(q.lb(this.b.shopedit_button.ib(),a.S)&&this.b.shopedit_button.wa)return this.Sg("/editshop"),
!0;if(q.lb(this.b.questedit_button.ib(),a.S)&&this.b.questedit_button.wa)return this.Sg("/editquest"),!0;if(q.lb(this.b.bankedit_button.ib(),a.S)&&this.b.bankedit_button.wa)return this.Sg("/editbank"),!0},mX:function(a,c){null==Sign||Sign.da||(Sign=null);Sign?(Sign.Ia(),Sign.R(),Sign=null):(Sign=new SignPanel,Sign.v(a,c),Sign.sa(),this.g(Sign))},iX:function(a,c){null==Book||Book.da||(Book=null);Book?(Book.Ia(),Book.R(),Book=null):(Book=new BookPanel,Book.v(a,c),Book.sa(),this.g(Book))},kX:function(a,
c,d,e,f,g){null==NpcChat||NpcChat.da||(NpcChat=null);NpcChat&&(NpcChat.Ia(),NpcChat.R(),NpcChat=null);NpcChat=new NpcChatPanel;NpcChat.v(a,c,d,e,f,g);NpcChat.sa();this.g(NpcChat)},qT:function(){null==NpcChat||NpcChat.da||(NpcChat=null);NpcChat&&(NpcChat.Ia(),NpcChat.R(),NpcChat=null)},yl:function(a){switch(a){case "C":R.OT()?R.FI():R.show();break;case "ENTER":R.uD(!R.EC());break;case "SPACE":Q.t.W.HT();Inventory&&Inventory.gb();break;case "CTRL":Q.t.W.GT();break;case "ESC":this.QB();F.f().nl("Login",
{qJ:!0,rD:!0});break;case "I":null==Inventory||Inventory.da||(Inventory=null);Inventory?(Inventory.Ia(),Inventory.R(),Inventory=null):(Inventory=new InventoryPanel,Inventory.v(),Inventory.sa(),this.g(Inventory));break;case "E":null==Equipment||Equipment.da||(Equipment=null);Equipment?(Equipment.Ia(),Equipment.R(),Equipment=null):(Equipment=new EquipmentPanel,Equipment.v(),Equipment.sa(),this.g(Equipment));break;case "S":null==Skills||Skills.da||(Skills=null);Skills?(Skills.Ia(),Skills.R(),Skills=
null):(Skills=new SkillsPanel,Skills.v(),Skills.sa(),this.g(Skills));break;case "Q":null==Quests||Quests.da||(Quests=null),Quests?(Quests.Ia(),Quests.R(),Quests=null):(Quests=new QuestsPanel,Quests.v(),Quests.sa(),this.g(Quests))}},PC:function(a){var c=Q.t.W.Gc();Q.t.W.path=null;if(0==c.x%1&&0==c.y%1)switch(a){case "RIGHTARROW":Q.t.W.dq(c.x+1,c.y);break;case "LEFTARROW":Q.t.W.dq(c.x-1,c.y);break;case "UPARROW":Q.t.W.dq(c.x,c.y+1);break;case "DOWNARROW":Q.t.W.dq(c.x,c.y-1)}},dL:function(a){this.aJ=
a;this.b.chat_button.G(a);this.b.inventory_button.G(a);this.b.equipment_button.G(a);this.b.skill_button.G(a);this.b.quicknav_button.ma(q.ja.f().pa(!0==a?"GUI/quickmenu_opened_icon.png":"GUI/quickmenu_closed_icon.png"))},cL:function(a){this.ZI=a;this.b.mapedit_button.G(a);this.b.npcedit_button.G(a);this.b.itemedit_button.G(a);this.b.skilledit_button.G(a);this.b.scriptedit_button.G(a);this.b.settings_button.G(a);this.b.shopedit_button.G(a);this.b.bankedit_button.G(a);this.b.questedit_button.G(a);this.b.quickedit_button.ma(q.ja.f().pa(!0==
a?"GUI/quickedit_opened_icon.png":"GUI/quickedit_closed_icon.png"))},Sg:function(a){if(a){if(1<Q.t.W.qp)switch(a){case "/editscript":null==Scripteditor||Scripteditor.da||(Scripteditor=null);Scripteditor?(Scripteditor.Ia(),Scripteditor.R(),Scripteditor=null):(Scripteditor=new ScriptingList,Scripteditor.v({o:null,ek:new ScriptEditor,list:ObjectLists.Df(),name:"Script List"}),Scripteditor.sa(),this.g(Scripteditor));break;case "/editmap":null==Mapeditor||Mapeditor.da||(Mapeditor=null);Mapeditor?(Mapeditor.Ia(),
Mapeditor.R(),Mapeditor=null,U.Us(null)):(Mapeditor=new MapEditor,Mapeditor.v(),Mapeditor.sa(),this.g(Mapeditor),U.Us(Mapeditor));break;case "/editsettings":null==Settingseditor||Settingseditor.da||(Settingseditor=null);Settingseditor?(Settingseditor.Ia(),Settingseditor.R(),Settingseditor=null):(Settingseditor=new SettingsEditor,Settingseditor.v(),Settingseditor.sa(),this.g(Settingseditor));break;case "/editskill":null==Skillseditor||Skillseditor.da||(Skillseditor=null);Skillseditor?(Skillseditor.Ia(),
Skillseditor.R(),Skillseditor=null):(Skillseditor=new PopupList,Skillseditor.v({o:null,ek:new SkillsEditor,list:ObjectLists.Ef(),name:"Skills List"}),Skillseditor.sa(),this.g(Skillseditor));break;case "/edititem":null==Itemeditor||Itemeditor.da||(Itemeditor=null);Itemeditor?(Itemeditor.Ia(),Itemeditor.R(),Itemeditor=null,U.Us(null)):(Itemeditor=new PopupList,Itemeditor.v({o:null,ek:new ItemEditor,list:ObjectLists.Ig(),name:"Item List"}),Itemeditor.sa(),this.g(Itemeditor));break;case "/editnpc":null==
NPCeditor||NPCeditor.da||(NPCeditor=null);NPCeditor?(NPCeditor.Ia(),NPCeditor.R(),NPCeditor=null,U.Us(null)):(NPCeditor=new PopupList,NPCeditor.v({o:null,ek:new NPCEditor,list:ObjectLists.Iw(),name:"NPC List"}),NPCeditor.sa(),this.g(NPCeditor));break;case "/editquest":null==Questeditor||Questeditor.da||(Questeditor=null),Questeditor?(Questeditor.Ia(),Questeditor.R(),Questeditor=null,U.Us(null)):(Questeditor=new PopupList,Questeditor.v({o:null,ek:new QuestEditor,list:ObjectLists.Gp(),name:"Quest List"}),
Questeditor.sa(),this.g(Questeditor))}switch(a){case "/help":R.showHelp();break;case "/commands":R.jX();break;case "/diceroll":a=Math.floor(6*Math.random()+1);var c=H["/diceroll"],c=c.replace("\x3cPLAYER\x3e",Q.t.W.getName()),c=c.replace("\x3cVALUE\x3e",a);R.ob(c);z({diceroll:c});break;case "/coinflip":a=1==Math.floor(3*Math.random()+1)?"Heads":"Tails";c=H["/coinflip"];c=c.replace("\x3cPLAYER\x3e",Q.t.W.getName());c=c.replace("\x3cVALUE\x3e",a);R.ob(c);z({coinflip:c});break;case "/dance":a=H["/dance"];
a=a.replace("\x3cPLAYER\x3e",Q.t.W.getName());R.ob(a);z({dance:a});break;case "/afk":Q.t.W.updateStatus("AFK"),z({afk:!0})}}},v:function(a){this._super();K=this;this.g(U.create());ObjectLists.f();Q.create({name:a.mk.name,fj:!0,Hn:{health:{Uc:1,value:100,bg:200,ag:900},mana:{Uc:1,value:100,bg:200,ag:99}},map:a.mk.location.mapnumber,position:a.mk.location.position,dt:"sprites1.png",bt:1,qp:a.mk.rank,UI:a.mk.inventory,QH:a.mk.equipment,Bl:a.mk.quests,li:a.mk.extraData});U.GQ();this.b.R();this.Zp(-20);
z({moveTo:Q.t.W.Gc().x+Q.t.W.Gc().y*O});this.g(R.create());this.g(T.create(a.mk.skills));this.dL(!1);this.cL(!1);this.eX();this.g(this.b);this.jc(this.SD);this.jc(this.NV);this.jc(this.GV,120)},GV:function(){var a={saveUser:!0,name:Q.t.W.getName(),location:{mapnumber:U.Xd(),position:Q.t.W.Gc().x+Q.t.W.Gc().y*O},inventory:Q.t.W.ll(),equipment:Q.t.W.Bp(),skills:[],clan:"",guilds:[],quests:Q.t.W.Bl,friends:[],pets:[],pmessages:[],lastchats:[],health:100,extraData:Q.t.W.li};this.b.saving_icon.G(!0);this.dJ=
!0;z(a);console.log("SAVING NOW!")},eS:function(){this.b.saving_icon.G(!1);this.dJ=!1},eX:function(){1==Q.t.W.qp&&this.b.quickedit_button.G(!1)},SD:function(){if(0<A.length)for(var a=0;a<A.length;a++){var c=JSON.parse(A[a]);c.moveTo&&(!Q.oi(c.id)||Q.oi(c.id)&&!1==Q.oi(c.id).Og)?(reactToSocketMessage(JSON.stringify(c)),A.splice(a,1)):c.moveTo||(reactToSocketMessage(JSON.stringify(c)),A.splice(a,1))}},NV:function(){if(!0==MapMaster){var a=Q.KM(),c;for(c in a)if(!1==a[c].ex){var d=10*Math.random()+1,
e=a[c].Gc();switch(Math.floor(4*Math.random())+1){case 1:e.x++;break;case 2:e.y++;break;case 3:e.x--;break;case 4:e.y--}a[c].KW(e,d)}}}});var Ka=q.La.extend({md:null,O2:!1,uD:function(a){console.log("setting focused: "+a);a&&!0==a?this.md.J.focus():(console.log("blurrin"),this.md.J.blur())},EC:function(){console.log("isfocused\x3d"+document.activeElement==this.md.J);return document.activeElement==this.md.J},ra:function(a){this.md.be(a)},jC:function(){return this.md.aa()},v:function(){q.log("Ovveride inputbox init call if necessary")},ctor:function(a,c,d,e,f,g,k,h){k&&!1!=k?(this.md=MultiLineBox.create(q.size(c.width,c.height),h?q.Od.create(h):
q.Od.create()),this.md.Ss(q.n(f.q,f.p,f.k))):(this.md=SingleLineBox.create(q.size(c.width,c.height),h?q.Od.create(h):q.Od.create()),c=ja(f.q,f.p,f.k),this.md.J.style.background=c);this.md.be(e);this.md.ER=e;this.md.vD(q.n(g.q,g.p,g.k));this.md.l(d.x,d.y);this.md.D(q.a(0,1));this.md.hg(this);a.g(this.md);this.v()}});var La=Ka.extend({jl:function(a){a.be("")},kl:function(a,c){c||("/"==a.aa().substring(0,1)?this.DV(a.aa()):0<a.aa().length&&R.ob(a.aa(),!0));a.be(H["Default ChatBar Message"])},DV:function(a){F.f().kd.Sg(a)},ji:function(a,c){a.be(c);q.log("chatBox "+this.PF(a)+", TextChanged, text: "+c)},PF:function(){return"chatbox"}}),Z=null,R=q.Kc.extend({MB:null,jH:function(a){for(var c=[],d=0;7>d;d++)c.push(this.b.chat_panel["label"+d].jC());this.b.chat_panel.label0.ra(a);for(d=1;8>d;d++)this.b.chat_panel["label"+
d].ra(c[d-1])},vc:function(){return{panels:{children:{chat_panel:{size:q.size(400,150),ba:"GUI/chat.png",e:q.a(0,0),opacity:200,position:q.a(0,0),children:{chatbar:{size:q.size(390,22),position:q.a(5,124),color:q.j(255,255,255,255)},label7:{label:"",position:q.a(5,0),e:q.a(0,0),color:q.n(0,0,0)},label6:{label:"",position:q.a(5,15),e:q.a(0,0),color:q.n(0,0,0)},label5:{label:"",position:q.a(5,30),e:q.a(0,0),color:q.n(0,0,0)},label4:{label:"",position:q.a(5,45),e:q.a(0,0),color:q.n(0,0,0)},label3:{label:"",
position:q.a(5,60),e:q.a(0,0),color:q.n(0,0,0)},label2:{label:"",position:q.a(5,75),e:q.a(0,0),color:q.n(0,0,0)},label1:{label:"",position:q.a(5,90),e:q.a(0,0),color:q.n(0,0,0)},label0:{label:"",position:q.a(5,105),e:q.a(0,0),color:q.n(0,0,0)}}}}}}}});
R.create=function(){Z||(Z=new R,Z.b=xa(Z),Z.g(Z.b),Z.MB=new La(Z.b.chat_panel.chatbar,q.size(Z.b.chat_panel.chatbar.c().width-4,Z.b.chat_panel.chatbar.c().height),q.a(2,Z.b.chat_panel.chatbar.c().height),H["Default ChatBar Message"],q.n(255,255,255),q.n(0,0,0)),R.FI(),R.nX());return Z};R.f=function(){return Z};R.ob=function(a,c){50<a.length&&(a=a.substring(0,50)+"...");c?(z({chatMessage:a}),Z.jH(Q.t.W.getName()+": "+a)):Z.jH(a)};R.show=function(){Z.b.Jc(0)};R.FI=function(){Z.b.Jc(-76)};
R.OT=function(){return 0!=Z.b.u.N?!1:!0};R.uD=function(a){Z.MB.uD(a)};R.EC=function(){return Z.MB.EC()};R.showHelp=function(){R.ob(v.Ae.lT);R.ob(v.Ae.mT);R.ob(v.Ae.nT);R.ob(v.Ae.oT);R.ob(v.Ae.pT)};R.jX=function(){R.ob(v.Ae.mR);R.ob(v.Ae.nR);R.ob(v.Ae.oR);R.ob(v.Ae.pR)};R.nX=function(){R.ob(H["Welcome Message"])};R.cf=function(){Z.b.R();Z.b=null};R.Ts=function(){Z.R();Z=null};var $=Ka.extend({Hp:!1,vJ:!1,IH:!1,DC:!1,jl:function(a){!1==this.IH&&a.be("");this.DC=!0},Tp:function(a){this.md.Tp(a)},X6:function(){return this.DC},kl:function(a){this.DC=!1;null==a.aa()||""==a.aa().length&&this.vJ?this.Hp=!0:0<!a.aa().length?(a.be(this.md.ER),this.Hp=!1):this.Hp=!0},ji:function(a,c){a.be(c);this.Hp=!0},PF:function(){return"name_entry"},aa:function(){return!0==this.Hp||!0==this.DR?this.md.aa():null},be:function(a){this.md.be(a);this.Hp=!0},xb:function(a){this.DR=a},Ic:function(a){this.vJ=
a},nK:function(a){this.IH=a},v:function(){}});var A=[],Ma=io.connect(ka["SERVER:PORT"],{"sync disconnect on unload":!0,"connect timeout":5E3,"reconnection delay ":100});Ma.on("connect",function(){V.hy();V.UL();V.eN();console.log("Client has connected to the server!");if(F){var a=F.f().kd;a?a.En(!0):A.push(JSON.stringify({connect:!0}))}else A.push(JSON.stringify({connect:!0}))});Ma.on("message",function(a){reactToSocketMessage(a)});
reactToSocketMessage=function(a){a=JSON.parse(a);var c=!1,d;for(d in a){c=!0;break}if(!1!=c)if(console.log("Received a message from the server!",a),a.sync)a.mapdata&&V.vL(a.mapdata,a.maptime),a.warpdata&&V.Rx(a.warpdata,a.warptime),a.itemdata&&V.it(a.itemdata,a.itemtime),a.skillsdata&&V.bE(a.skillsdata,a.skillstime),a.signsdata&&V.Qx(a.signsdata,a.signstime),a.npcsdata&&V.wL(a.npcsdata,a.npcstime),a.questdata&&V.$D(a.questdata,a.queststime),a.settingsdata&&(V.aE(a.settingsdata,a.settingstime),H=Ea(H,
a.settingsdata)),a.scriptsdata&&V.AL(a.scriptsdata,a.scriptstime),ua=!0;else if(c=F.f().kd)if(a.connect?c.En(!0):a.disconnect&&c.En(!1),"Game"==c.Rc())if(a.newPlayer)Q.FQ({id:a.id,location:{position:a.position,mapnumber:a.mapnumber}});else if(a.playerLeft)Q.oi(a.playerLeft).dg==Q.t.W.dg&&(MapMaster=!1),Q.HH(a.playerLeft);else if(a.setTo)if(!Q.oi(a.id)||Q.oi(a.id)&&!1==Q.oi(a.id).Og){for(c=0;c<A.length;c++)d=JSON.parse(A[c]),d.moveTo&&null!=d.moveTo&&d.id==a.id&&(A.splice(c,1),c--);Q.FU({id:a.id,location:{position:a.position,
mapnumber:a.mapnumber}});Q.oi(a.id).dg==Q.t.W.dg&&(MapMaster=!1);Q.aR(a.id,a.mapnumber)}else A.push(JSON.stringify(a));else a.moveTo?!Q.oi(a.id)||Q.oi(a.id)&&!1==Q.oi(a.id).Og?Q.cU({id:a.id,location:{position:a.position,mapnumber:a.mapnumber}}):A.push(JSON.stringify(a)):a.chatMessage?R.ob(a.chatMessage):a.coinflip?R.ob(a.coinflip):a.diceroll?R.ob(a.diceroll):a.dance?R.ob(a.dance):a.afk?Q.bR(a.afk):a.savemap?(V.ZQ(a.savemap,a.mapdata,a.updatetime),U.gX(a.mapdata)):a.mapmaster?MapMaster=!0:a.savewarps?
(V.hR(parseInt(a.savewarps),a.warpdata,a.updatetime),ObjectLists.zI()[parseInt(a.savewarps)]=a.warpdata,Warpeditor&&(Warpeditor.cb=ObjectLists.zI(),Warpeditor.sa())):a.savewarpswhole?(V.dV(a.savewarpswhole,a.updatetime),ObjectLists.cX(a.savewarpswhole)):a.savescripts?(V.dR(parseInt(a.savescripts),a.scriptsdata,a.updatetime),ObjectLists.Df()[parseInt(a.savescripts)]=a.scriptsdata,Scripteditor&&(Scripteditor.cb=ObjectLists.Df(),Scripteditor.sa())):a.savescriptswhole?(V.aV(a.savescriptswhole,a.updatetime),
ObjectLists.RW(a.savescriptswhole)):a.savesettings?(V.aE(a.savesettings,a.updatetime),H=Ea(H,a.savesettings),Settingseditor&&(Settingseditor.data=J(H),Settingseditor.rb())):a.savequests?(V.cR(parseInt(a.savequests),a.questdata,a.updatetime),ObjectLists.Gp()[parseInt(a.savequests)]=a.questdata,Questeditor&&(Questeditor.cb=ObjectLists.Gp(),Questeditor.sa())):a.savequestswhole?(V.$U(a.savequestswhole,a.updatetime),ObjectLists.MW(a.savequestswhole)):a.saveskills?(V.fR(parseInt(a.saveskills),a.skillsdata,
a.updatetime),ObjectLists.Ef()[parseInt(a.saveskills)]=a.skillsdata,Skillseditor&&(Skillseditor.cb=ObjectLists.Ef(),Skillseditor.sa()),T.update(),Skills&&Skills.gb()):a.saveskillswhole?(V.cV(a.saveskillswhole,a.updatetime),ObjectLists.TW(a.saveskillswhole),T.update(),Skills&&Skills.gb()):a.savesigns?(V.eR(parseInt(a.savesigns),a.signsdata,a.updatetime),ObjectLists.rI()[parseInt(a.savesigns)]=a.signsdata,Signeditor&&(Signeditor.cb=ObjectLists.rI(),Signeditor.sa())):a.moveNPC?(a.npcID=parseInt(a.npcID),
!Q.Dp(a.npcID)||Q.Dp(a.npcID)&&!1==Q.Dp(a.npcID).Og?Q.bU(a.npcID,a.moveNPC,a.mapnumber):A.push(JSON.stringify(a))):a.changeNPCPosition?Q.Dp(a.npcID)&&(a.npcID=parseInt(a.npcID),Q.Dp(a.npcID)&&!1==Q.Dp(a.npcID).Og?Q.uV(a.npcID,a.changeNPCPosition):A.push(JSON.stringify(a))):a.savesignswhole?(V.bV(a.savesignswhole,a.updatetime),ObjectLists.SW(a.savesignswhole)):a.savenpcs?(V.$Q(parseInt(a.savenpcs),a.npcsdata,a.updatetime),ObjectLists.Iw()[parseInt(a.savenpcs)]=a.npcsdata,U.cn(U.Xd(),!0),NPCeditor&&
(NPCeditor.cb=ObjectLists.Iw(),NPCeditor.sa())):a.savenpcswhole?(V.ZU(a.savenpcswhole,a.updatetime),ObjectLists.wW(a.savenpcswhole),U.cn(U.Xd(),!0),NPCeditor&&(NPCeditor.cb=ObjectLists.Iw(),NPCeditor.sa())):a.saveitems?(V.YQ(parseInt(a.saveitems),a.itemdata,a.updatetime),c=ObjectLists.Ig()[parseInt(a.saveitems)].name,ObjectLists.Ig()[parseInt(a.saveitems)]=a.itemdata,U.cn(U.Xd()),Itemeditor&&(Itemeditor.cb=ObjectLists.Ig(),Itemeditor.sa()),Inventory&&Inventory.gb(),Q.t.W.it(c,a.itemdata)):a.droppeditem?
a.mapnumber==U.Xd()&&!1==U.f().Ng?(c=U.wI(a.index),c.CQ(a.droppeditem),U.jt()):A.push(JSON.stringify(a)):a.pickupitem?a.mapnumber==U.Xd()&&(c=U.wI(a.pickupitem),c.JJ(),U.jt()):a.saveitemswhole?(V.YU(a.saveitemswhole,a.updatetime),ObjectLists.oW(a.saveitemswhole)):a.savesuccess&&c.eS();else"Login"==c.Rc()&&(a.login_success?c.fU(a.login_success):a.login_fail?c.Zw(a.login_fail):a.registrationsuccess?c.qR():a.registrationfailed&&c.aS(a.registrationfailed));else A.push(JSON.stringify(a))};
Ma.on("disconnect",function(){console.log("The client has disconnected!");var a=F.f().kd;a?a.En(!1):A.push(JSON.stringify({disconnect:!0}))});function z(a){Ma.send(JSON.stringify(a))};var F=q.Kc.extend({t:null,sp:null,kd:null,hH:null,v:function(){Y=q.oa.f().bn();q.size(Y.width,Y.height);L=q.size(O*M,N*M);q.oa.f().NW(this.sU);var a=q.oa.f().bn();this.sp=q.w.create();this.sp.r(q.n(0,0,0));this.sp.jb(q.rect(0,0,a.width,a.height));this.sp.D(q.a(0,0));this.g(this.sp);V.f()&&ua?(H=Ea(H,V.hC()),this.nl("Login",{}),this.jc(this.wH),autoLoginNextTime=V.XI(),rememberLoginNextTime=V.cJ()):this.jc(this.GI)},sU:function(){var a=q.oa.f();Y=q.size(a.bn().width,a.bn().height);F.f().sp.jb(q.rect(0,
0,Y.width,Y.height));F.f().kd.QC()},GI:function(){V.f()&&ua&&(this.Yc(this.GI),H=Ea(H,V.hC()),this.nl("Login",{}),this.jc(this.wH),autoLoginNextTime=V.XI(),rememberLoginNextTime=V.cJ())},wH:function(){for(var a in la)if(!0==la[a]&&null!=this.kd){var c=null;a=parseInt(a);switch(a){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c=
"SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a&&58>a||64<a&&91>a)&&(c=String.fromCharCode(a));null!=c&&this.kd.PC(c)}},nl:function(a,c){null!=this.kd&&(this.kd.Ia(),this.kd.R(),this.kd=null);switch(a){case "Login":this.kd=new Login;break;case "Game":this.kd=new Ja}this.kd.FL();this.g(this.kd,
1);this.kd.mW(a);this.kd.sa();this.kd.v(c)},z3:function(){return this.kd.Rc()}});F.f=function(){null==this.t&&(this.t=new F);return this.t};F.Bn=function(a){null==this.t&&(this.t=new F);this.t.hH=a};F.gS=function(){null==this.t&&(this.t=new F);return this.t.hH};var Y;
new (q.qj.extend({yw:document.ccConfig,ctor:function(){this._super();q.qt=this.yw.COCOS2D_DEBUG;q.Jl(this.yw.tag);q.Wx.hX().LR()},QQ:function(){var a=this.yw,c=q.ca.f(),d=q.oa.f();d.xV(!0);Y=d.bn();q.size(Y.width,Y.height);var e=q.size(Y.width,Y.height),f=q.Nd.f();q.qj.f();f.MK(["res/Graphics"]);q.Hh&&q.Hh.f().xaa("res/Audio");c.aW(1);d.sD(e.width,e.height,q.Yn.SHOW_ALL);c.Rs(1/a.frameRate);a.test?q.test(a.test):q.XT(function(a){q.xy.XC(a,function(){document.getElementById("gameCanvas").setAttribute("tabindex","0");
document.getElementById("gameCanvas").focus();var a=F.f();q.ca.f().YJ(a);a.v()})});return!0}}));
//@ sourceMappingURL=sourcemap