var b,ca={i0:"GUI/bankeditor_icon.png",k0:"GUI/book.png",n0:"GUI/btnDown.png",o0:"GUI/btnLeft.png",p0:"GUI/btnRight.png",q0:"GUI/btnUp.png",I0:"GUI/chat.png",H0:"GUI/chat_icon.png",J0:"GUI/close.png",W0:"GUI/defaultitem.png",k1:"GUI/edit.png",n1:"GUI/equipment.png",m1:"GUI/equipment_icon.png",t5:"GUI/healthbar.png",L5:"GUI/inventory.png",K5:"GUI/inventory_icon.png",z6:"GUI/itemeditor_icon.png",N6:"GUI/list_panel.png",V6:"GUI/logout.png",Z6:"GUI/mapeditor_icon.png",f7:"GUI/npceditor_icon.png",k8:"GUI/questeditor_icon.png",
l8:"GUI/quickedit_closed_icon.png",m8:"GUI/quickedit_opened_icon.png",n8:"GUI/quickmenu_closed_icon.png",o8:"GUI/quickmenu_opened_icon.png",iaa:"GUI/shopeditor_icon.png",laa:"GUI/signeditor_icon.png",maa:"GUI/signpost.png",naa:"GUI/skilleditor_icon.png",paa:"GUI/skills.png",oaa:"GUI/skills_icon.png",raa:"GUI/splash.png",$aa:"GUI/trash.png",iba:"GUI/use.png",qba:"GUI/warpeditor_icon.png",r0:"building1.png",G0:"character_graphics.txt",A6:"items1.png",saa:"sprites1.png",Saa:"tile_graphics.txt",Taa:"tiles1.png"};var p=p||{},da={};p.SS=function(a){var c=p.FC[da.DI.nE];if(c){for(var d=[],e=0;e<c.length;++e)d.push({src:c[e]});a(d)}else a([])};da={DI:{nE:"_0"}};p.FC={};p.FC[da.DI.nE]=[];p.FC.RP=[];var io="undefined"===typeof module?{}:module.jc;
(function(){(function(a,d){a.version="0.9.16";a.protocol=1;a.transports=[];a.j=[];a.sockets={};a.connect=function(e,f){var g=a.util.parseUri(e),h,k;d&&d.location&&(g.protocol=g.protocol||d.location.protocol.slice(0,-1),g.host=g.host||(d.document?d.document.domain:d.location.hostname),g.port=g.port||d.location.port);h=a.util.uniqueUri(g);var l={host:g.host,Sm:"https"==g.protocol,port:g.port||("https"==g.protocol?443:80),query:g.query||""};a.util.merge(l,f);if(l["force new connection"]||!a.sockets[h])k=
new a.Socket(l);!l["force new connection"]&&k&&(a.sockets[h]=k);k=k||a.sockets[h];return k.jp(1<g.path.length?g.path:"")}})("object"===typeof module?module.jc:io,this);(function(a,d){var e=a.util={},f=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,g="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");
e.parseUri=function(a){a=f.exec(a||"");for(var c={},d=14;d--;)c[g[d]]=a[d]||"";return c};e.uniqueUri=function(a){var c=a.protocol,e=a.host;a=a.port;"document"in d?(e=e||document.domain,a=a||("https"==c&&"https:"!==document.location.protocol?443:document.location.port)):(e=e||"localhost",a||"https"!=c||(a=443));return(c||"http")+"://"+e+":"+(a||80)};e.query=function(a,c){var d=e.chunkQuery(a||""),f=[];e.merge(d,e.chunkQuery(c||""));for(var g in d)d.hasOwnProperty(g)&&f.push(g+"\x3d"+d[g]);return f.length?
"?"+f.join("\x26"):""};e.chunkQuery=function(a){var c={};a=a.split("\x26");for(var d=0,e=a.length,f;d<e;++d)f=a[d].split("\x3d"),f[0]&&(c[f[0]]=f[1]);return c};var h=!1;e.load=function(a){if("document"in d&&"complete"===document.readyState||h)return a();e.on(d,"load",a,!1)};e.on=function(a,c,d,e){a.attachEvent?a.attachEvent("on"+c,d):a.addEventListener&&a.addEventListener(c,d,e)};e.request=function(a){if(a&&"undefined"!=typeof XDomainRequest&&!e.ua.hasCORS)return new XDomainRequest;if("undefined"!=
typeof XMLHttpRequest&&(!a||e.ua.hasCORS))return new XMLHttpRequest;if(!a)try{return new (window[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(c){}return null};"undefined"!=typeof window&&e.load(function(){h=!0});e.defer=function(a){if(!e.ua.webkit||"undefined"!=typeof importScripts)return a();e.load(function(){setTimeout(a,100)})};e.merge=function(a,c,d,f){f=f||[];d="undefined"==typeof d?2:d;for(var g in c)c.hasOwnProperty(g)&&0>e.indexOf(f,g)&&("object"===typeof a[g]&&d?e.merge(a[g],
c[g],d-1,f):(a[g]=c[g],f.push(c[g])));return a};e.mixin=function(a,c){e.merge(a.prototype,c.prototype)};e.inherit=function(a,c){function d(){}d.prototype=c.prototype;a.prototype=new d};e.isArray=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};e.intersect=function(a,c){for(var d=[],f=a.length>c.length?a:c,g=a.length>c.length?c:a,h=0,v=g.length;h<v;h++)~e.indexOf(f,g[h])&&d.push(g[h]);return d};e.indexOf=function(a,c,d){var e=a.length;for(d=0>d?0>d+e?0:d+e:d||
0;d<e&&a[d]!==c;d++);return e<=d?-1:d};e.toArray=function(a){for(var c=[],d=0,e=a.length;d<e;d++)c.push(a[d]);return c};e.ua={};e.ua.hasCORS="undefined"!=typeof XMLHttpRequest&&function(){try{var a=new XMLHttpRequest}catch(c){return!1}return void 0!=a.withCredentials}();e.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent);e.ua.iDevice="undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)})("undefined"!=typeof io?io:module.jc,this);(function(a,d){function e(){}
a.EventEmitter=e;e.prototype.on=function(a,c){this.nf||(this.nf={});this.nf[a]?d.util.isArray(this.nf[a])?this.nf[a].push(c):this.nf[a]=[this.nf[a],c]:this.nf[a]=c;return this};e.prototype.rT=function(a){var c="connect";function d(){e.removeListener(c,d);a.apply(this,arguments)}var e=this;d.uw=a;this.on(c,d)};e.prototype.removeListener=function(a,c){if(this.nf&&this.nf[a]){var e=this.nf[a];if(d.util.isArray(e)){for(var k=-1,l=0,m=e.length;l<m;l++)if(e[l]===c||e[l].uw&&e[l].uw===c){k=l;break}if(0>
k)return this;e.splice(k,1);e.length||delete this.nf[a]}else(e===c||e.uw&&e.uw===c)&&delete this.nf[a]}return this};e.prototype.Mo=function(a){if(!this.nf)return!1;var c=this.nf[a];if(!c)return!1;var e=Array.prototype.slice.call(arguments,1);if("function"==typeof c)c.apply(this,e);else if(d.util.isArray(c))for(var c=c.slice(),k=0,l=c.length;k<l;k++)c[k].apply(this,e);else return!1;return!0}})("undefined"!=typeof io?io:module.jc,"undefined"!=typeof io?io:module.parent.jc);(function(a,d){function e(a){return 10>
a?"0"+a:a}function f(a){l.lastIndex=0;return l.test(a)?'"'+a.replace(l,function(a){var c=s[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function g(a,c){var d,h,k,l,s=m,O,N=c[a];N instanceof Date&&(N=isFinite(a.valueOf())?a.getUTCFullYear()+"-"+e(a.getUTCMonth()+1)+"-"+e(a.getUTCDate())+"T"+e(a.getUTCHours())+":"+e(a.getUTCMinutes())+":"+e(a.getUTCSeconds())+"Z":null);"function"===typeof q&&(N=q.call(c,a,N));switch(typeof N){case "string":return f(N);
case "number":return isFinite(N)?String(N):"null";case "boolean":case "null":return String(N);case "object":if(!N)return"null";m+=n;O=[];if("[object Array]"===Object.prototype.toString.apply(N)){l=N.length;for(d=0;d<l;d+=1)O[d]=g(d,N)||"null";k=0===O.length?"[]":m?"[\n"+m+O.join(",\n"+m)+"\n"+s+"]":"["+O.join(",")+"]";m=s;return k}if(q&&"object"===typeof q)for(l=q.length,d=0;d<l;d+=1)"string"===typeof q[d]&&(h=q[d],(k=g(h,N))&&O.push(f(h)+(m?": ":":")+k));else for(h in N)Object.prototype.hasOwnProperty.call(N,
h)&&(k=g(h,N))&&O.push(f(h)+(m?": ":":")+k);k=0===O.length?"{}":m?"{\n"+m+O.join(",\n"+m)+"\n"+s+"}":"{"+O.join(",")+"}";m=s;return k}}if(d&&d.parse)return a.JSON={parse:d.parse,stringify:d.stringify};var h=a.JSON={},k=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,m,n,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f",
"\r":"\\r",'"':'\\"',"\\":"\\\\"},q;h.stringify=function(a,c,d){var e;n=m="";if("number"===typeof d)for(e=0;e<d;e+=1)n+=" ";else"string"===typeof d&&(n=d);if((q=c)&&"function"!==typeof c&&("object"!==typeof c||"number"!==typeof c.length))throw Error("JSON.stringify");return g("",{"":a})};h.parse=function(a,c){function d(a,e){var f,g,h=a[e];if(h&&"object"===typeof h)for(f in h)Object.prototype.hasOwnProperty.call(h,f)&&(g=d(h,f),void 0!==g?h[f]=g:delete h[f]);return c.call(a,e,h)}var e;a=String(a);
k.lastIndex=0;k.test(a)&&(a=a.replace(k,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"===typeof c?d({"":e},""):e;throw new SyntaxError("JSON.parse");}})("undefined"!=typeof io?io:module.jc,"undefined"!==typeof JSON?JSON:void 0);(function(a,d){var e=
a.parser={},f=e.packets="disconnect connect heartbeat message json event ack error noop".split(" "),g=e.reasons=["transport not supported","client not handshaken","unauthorized"],h=e.advice=["reconnect"],k=d.JSON,l=d.util.indexOf;e.encodePacket=function(a){var c=l(f,a.type),d=a.id||"",e=a.$v||"",m=a.Fo,B=null;switch(a.type){case "error":var E=a.reason?l(g,a.reason):"";a=a.advice?l(h,a.advice):"";if(""!==E||""!==a)B=E+(""!==a?"+"+a:"");break;case "message":""!==a.data&&(B=a.data);break;case "event":B=
{name:a.name};a.Ge&&a.Ge.length&&(B.Ge=a.Ge);B=k.stringify(B);break;case "json":B=k.stringify(a.data);break;case "connect":a.EI&&(B=a.EI);break;case "ack":B=a.Go+(a.Ge&&a.Ge.length?"+"+k.stringify(a.Ge):"")}c=[c,d+("data"==m?"+":""),e];null!==B&&void 0!==B&&c.push(B);return c.join(":")};e.encodePayload=function(a){var c="";if(1==a.length)return a[0];for(var d=0,e=a.length;d<e;d++)c+="\ufffd"+a[d].length+"\ufffd"+a[d];return c};var m=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;e.decodePacket=function(a){var c=
a.match(m);if(!c)return{};var d=c[2]||"";a=c[5]||"";var e={type:f[c[1]],$v:c[4]||""};d&&(e.id=d,e.Fo=c[3]?"data":!0);switch(e.type){case "error":c=a.split("+");e.reason=g[c[0]]||"";e.advice=h[c[1]]||"";break;case "message":e.data=a||"";break;case "event":try{var l=k.parse(a);e.name=l.name;e.Ge=l.Ge}catch(B){}e.Ge=e.Ge||[];break;case "json":try{e.data=k.parse(a)}catch(E){}break;case "connect":e.EI=a||"";break;case "ack":if(c=a.match(/^([0-9]+)(\+)?(.*)/))if(e.Go=c[1],e.Ge=[],c[3])try{e.Ge=c[3]?k.parse(c[3]):
[]}catch(M){}}return e};e.decodePayload=function(a){if("\ufffd"==a.charAt(0)){for(var c=[],d=1,f="";d<a.length;d++)"\ufffd"==a.charAt(d)?(c.push(e.decodePacket(a.substr(d+1).substr(0,f))),d+=Number(f)+1,f=""):f+=a.charAt(d);return c}return[e.decodePacket(a)]}})("undefined"!=typeof io?io:module.jc,"undefined"!=typeof io?io:module.parent.jc);(function(a,d){function e(a,c){this.jb=a;this.MU=c}a.Transport=e;d.util.mixin(e,d.EventEmitter);e.prototype.JH=function(){return!0};e.prototype.ks=function(a){this.jB();
(this.jb.Rg||this.jb.eg||this.jb.Jm)&&this.fJ();if(""!==a&&(a=d.parser.decodePayload(a))&&a.length)for(var c=0,e=a.length;c<e;c++)this.ls(a[c])};e.prototype.ls=function(a){this.jb.oJ();if("heartbeat"==a.type)return this.dT();"connect"==a.type&&""==a.$v&&this.jC();"error"==a.type&&"reconnect"==a.advice&&(this.as=!1);this.jb.ls(a);return this};e.prototype.fJ=function(){if(!this.Io){var a=this;this.Io=setTimeout(function(){a.Dm()},this.jb.Io)}};e.prototype.Dm=function(){this.as&&this.close();this.kB();
this.jb.Dm();return this};e.prototype.jC=function(){this.jb.jC();return this};e.prototype.jB=function(){this.Io&&(clearTimeout(this.Io),this.Io=null)};e.prototype.kB=function(){this.jB();this.sU&&clearTimeout(this.sU)};e.prototype.If=function(a){this.send(d.parser.encodePacket(a))};e.prototype.dT=function(){this.If({type:"heartbeat"})};e.prototype.xw=function(){this.as=!0;this.jB();this.jb.xw()};e.prototype.Kh=function(){this.as=!1;this.jb.Kh();this.Dm()};e.prototype.ns=function(){var a=this.jb.options;
return this.scheme()+"://"+a.host+":"+a.port+"/"+a.Jw+"/"+d.protocol+"/"+this.name+"/"+this.MU};e.prototype.Dw=function(a,c){c.call(this)}})("undefined"!=typeof io?io:module.jc,"undefined"!=typeof io?io:module.parent.jc);(function(a,d,e){function f(a){this.options={port:80,Sm:!1,document:"document"in e?document:!1,Jw:"socket.io",transports:d.transports,"connect timeout":1E4,"try multiple transports":!0,reconnect:!0,"reconnection delay":500,"reconnection limit":Infinity,"reopen delay":3E3,"max reconnection attempts":10,
"sync disconnect on unload":!1,"auto connect":!0,"flash policy port":10843,manualFlush:!1};d.util.merge(this.options,a);this.Jm=this.eg=this.open=this.Rg=!1;this.namespaces={};this.buffer=[];this.rB=!1;if(this.options["sync disconnect on unload"]&&(!this.$o()||d.util.ua.hasCORS)){var c=this;d.util.on(e,"beforeunload",function(){c.FQ()},!1)}this.options["auto connect"]&&this.connect()}function g(){}a.Socket=f;d.util.mixin(f,d.EventEmitter);f.prototype.jp=function(a){this.namespaces[a]||(this.namespaces[a]=
new d.SocketNamespace(this,a),""!==a&&this.namespaces[a].If({type:"connect"}));return this.namespaces[a]};f.prototype.Vk=function(){this.Mo.apply(this,arguments);var a,c;for(c in this.namespaces)this.namespaces.hasOwnProperty(c)&&(a=this.jp(c),a.Pj.apply(a,arguments))};f.prototype.$R=function(a){function c(d){d instanceof Error?(e.eg=!1,e.Em(d.message)):a.apply(null,d.split(":"))}var e=this,f=this.options,f=["http"+(f.Sm?"s":"")+":/",f.host+":"+f.port,f.Jw,d.protocol,d.util.query(this.options.query,
"t\x3d"+ +new Date)].join("/");if(this.$o()&&!d.util.ua.hasCORS){var n=document.getElementsByTagName("script")[0],s=document.createElement("script");s.src=f+"\x26jsonp\x3d"+d.j.length;n.parentNode.insertBefore(s,n);d.j.push(function(a){c(a);s.parentNode.removeChild(s)})}else{var q=d.util.request();q.open("GET",f,!0);this.$o()&&(q.withCredentials=!0);q.onreadystatechange=function(){4==q.readyState&&(q.onreadystatechange=g,200==q.status?c(q.responseText):403==q.status?e.Em(q.responseText):(e.eg=!1,
!e.Jm&&e.Em(q.responseText)))};q.send(null)}};f.prototype.BH=function(a){a=a||this.transports;for(var c=0,e;e=a[c];c++)if(d.Transport[e]&&d.Transport[e].qm(this)&&(!this.$o()||d.Transport[e].Js(this)))return new d.Transport[e](this,this.XI);return null};f.prototype.connect=function(a){if(this.eg)return this;var c=this;c.eg=!0;this.$R(function(e,f,g,s){function q(a){c.Ne&&c.Ne.kB();c.Ne=c.BH(a);c.Ne?c.Ne.Dw(c,function(){c.eg=!0;c.Vk("connecting",c.Ne.name);c.Ne.open();c.options["connect timeout"]&&
(c.nQ=setTimeout(function(){if(!c.Rg&&(c.eg=!1,c.options["try multiple transports"])){for(var a=c.transports;0<a.length&&a.splice(0,1)[0]!=c.Ne.name;);a.length?q(a):c.Vk("connect_failed")}},c.options["connect timeout"]))}):c.Vk("connect_failed")}c.XI=e;c.Io=1E3*g;c.dS=1E3*f;c.transports||(c.transports=c.sT=s?d.util.intersect(s.split(","),c.options.transports):c.options.transports);c.oJ();q(c.transports);c.rT(function(){clearTimeout(c.nQ);a&&"function"==typeof a&&a()})});return this};f.prototype.oJ=
function(){clearTimeout(this.IH);if(!this.Ne||this.Ne.JH()){var a=this;this.IH=setTimeout(function(){a.Ne.Kh()},this.dS)}};f.prototype.If=function(a){this.Rg&&!this.rB?this.Ne.If(a):this.buffer.push(a);return this};f.prototype.Jj=function(a){this.rB=a;!a&&this.Rg&&this.buffer.length&&(this.options.manualFlush||this.XQ())};f.prototype.XQ=function(){this.Ne.wI(this.buffer);this.buffer=[]};f.prototype.disconnect=function(){if(this.Rg||this.eg)this.open&&this.jp("").If({type:"disconnect"}),this.Dm("booted");
return this};f.prototype.FQ=function(){var a=d.util.request();a.open("GET",["http"+(this.options.Sm?"s":"")+":/",this.options.host+":"+this.options.port,this.options.Jw,d.protocol,"",this.XI].join("/")+"/?disconnect\x3d1",!1);a.send(null);this.Dm("booted")};f.prototype.$o=function(){var a=e.location.port||("https:"==e.location.protocol?443:80);return this.options.host!==e.location.hostname||this.options.port!=a};f.prototype.jC=function(){this.Rg||(this.Rg=!0,this.eg=!1,this.rB||this.Jj(!1),this.Mo("connect"))};
f.prototype.xw=function(){this.open=!0};f.prototype.Kh=function(){this.open=!1;clearTimeout(this.IH)};f.prototype.ls=function(a){this.jp(a.$v).ls(a)};f.prototype.Em=function(a){a&&a.advice&&"reconnect"===a.advice&&(this.Rg||this.eg)&&(this.disconnect(),this.options.Ew&&this.Ew());this.Vk("error",a&&a.reason?a.reason:a)};f.prototype.Dm=function(a){var c=this.Rg,d=this.eg;this.open=this.eg=this.Rg=!1;if(c||d)this.Ne.close(),this.Ne.kB(),c&&(this.Vk("disconnect",a),"booted"!=a&&this.options.Ew&&!this.Jm&&
this.Ew())};f.prototype.Ew=function(){function a(){if(d.Rg){for(var e in d.namespaces)d.namespaces.hasOwnProperty(e)&&""!==e&&d.namespaces[e].If({type:"connect"});d.Vk("reconnect",d.Ne.name,d.Fw)}clearTimeout(d.Gw);d.removeListener("connect_failed",c);d.removeListener("connect",c);d.Jm=!1;delete d.Fw;delete d.Km;delete d.Gw;delete d.II;d.options["try multiple transports"]=f}function c(){if(d.Jm){if(d.Rg)return a();if(d.eg&&d.Jm)return d.Gw=setTimeout(c,1E3);d.Fw++>=e?d.II?(d.Vk("reconnect_failed"),
a()):(d.on("connect_failed",c),d.options["try multiple transports"]=!0,d.transports=d.sT,d.Ne=d.BH(),d.II=!0,d.connect()):(d.Km<g&&(d.Km*=2),d.connect(),d.Vk("reconnecting",d.Km,d.Fw),d.Gw=setTimeout(c,d.Km))}}this.Jm=!0;this.Fw=0;this.Km=this.options["reconnection delay"];var d=this,e=this.options["max reconnection attempts"],f=this.options["try multiple transports"],g=this.options["reconnection limit"];this.options["try multiple transports"]=!1;this.Gw=setTimeout(c,this.Km);this.on("connect",c)}})("undefined"!=
typeof io?io:module.jc,"undefined"!=typeof io?io:module.parent.jc,this);(function(a,d){function e(a,c){this.jb=a;this.name=c||"";this.bw={};this.JS=new f(this,"json");this.tG=0;this.Fr={}}function f(a,c){this.ip=a;this.name=c}a.SocketNamespace=e;d.util.mixin(e,d.EventEmitter);e.prototype.Pj=d.EventEmitter.prototype.Mo;e.prototype.jp=function(){return this.jb.jp.apply(this.jb,arguments)};e.prototype.If=function(a){a.$v=this.name;this.jb.If(a);this.bw={};return this};e.prototype.send=function(a,c){var d=
{type:this.bw.JS?"json":"message",data:a};"function"==typeof c&&(d.id=++this.tG,d.Fo=!0,this.Fr[d.id]=c);return this.If(d)};e.prototype.Mo=function(a){var c=Array.prototype.slice.call(arguments,1),d=c[c.length-1],e={type:"event",name:a};"function"==typeof d&&(e.id=++this.tG,e.Fo="data",this.Fr[e.id]=d,c=c.slice(0,c.length-1));e.Ge=c;return this.If(e)};e.prototype.disconnect=function(){""===this.name?this.jb.disconnect():(this.If({type:"disconnect"}),this.Pj("disconnect"));return this};e.prototype.ls=
function(a){function c(){e.If({type:"ack",Ge:d.util.toArray(arguments),Go:a.id})}var e=this;switch(a.type){case "connect":this.Pj("connect");break;case "disconnect":""===this.name?this.jb.Dm(a.reason||"booted"):this.Pj("disconnect",a.reason);break;case "message":case "json":var f=["message",a.data];"data"==a.Fo?f.push(c):a.Fo&&this.If({type:"ack",Go:a.id});this.Pj.apply(this,f);break;case "event":f=[a.name].concat(a.Ge);"data"==a.Fo&&f.push(c);this.Pj.apply(this,f);break;case "ack":this.Fr[a.Go]&&
(this.Fr[a.Go].apply(this,a.Ge),delete this.Fr[a.Go]);break;case "error":a.advice?this.jb.Em(a):"unauthorized"==a.reason?this.Pj("connect_failed",a.reason):this.Pj("error",a.reason)}};f.prototype.send=function(){this.ip.bw[this.name]=!0;this.ip.send.apply(this.ip,arguments)};f.prototype.Mo=function(){this.ip.bw[this.name]=!0;this.ip.Mo.apply(this.ip,arguments)}})("undefined"!=typeof io?io:module.jc,"undefined"!=typeof io?io:module.parent.jc);(function(a,d,e){function f(a){d.Transport.apply(this,arguments)}
a.tg=f;d.util.inherit(f,d.Transport);f.prototype.name="websocket";f.prototype.open=function(){var a=d.util.query(this.jb.options.query),c=this,f;f||(f=e.rY||e.hM);this.tg=new f(this.ns()+a);this.tg.onopen=function(){c.xw();c.jb.Jj(!1)};this.tg.onmessage=function(a){c.ks(a.data)};this.tg.onclose=function(){c.Kh();c.jb.Jj(!0)};this.tg.onerror=function(a){c.Em(a)};return this};f.prototype.send=d.util.ua.iDevice?function(a){var c=this;setTimeout(function(){c.tg.send(a)},0);return this}:function(a){this.tg.send(a);
return this};f.prototype.wI=function(a){for(var c=0,d=a.length;c<d;c++)this.If(a[c]);return this};f.prototype.close=function(){this.tg.close();return this};f.prototype.Em=function(a){this.jb.Em(a)};f.prototype.scheme=function(){return this.jb.options.Sm?"wss":"ws"};f.qm=function(){return"WebSocket"in e&&!("__addTask"in WebSocket)||"MozWebSocket"in e};f.Js=function(){return!0};d.transports.push("websocket")})("undefined"!=typeof io?io.Transport:module.jc,"undefined"!=typeof io?io:module.parent.jc,
this);(function(c,d){function e(){d.Transport.tg.apply(this,arguments)}c.G1=e;d.util.inherit(e,d.Transport.tg);e.prototype.name="flashsocket";e.prototype.open=function(){var a=this,c=arguments;WebSocket.Wt(function(){d.Transport.tg.prototype.open.apply(a,c)});return this};e.prototype.send=function(){var a=this,c=arguments;WebSocket.Wt(function(){d.Transport.tg.prototype.send.apply(a,c)});return this};e.prototype.close=function(){WebSocket.Xp.length=0;d.Transport.tg.prototype.close.call(this);return this};
e.prototype.Dw=function(a,c){function h(){var d=a.options,h=d["flash policy port"],n=["http"+(d.Sm?"s":"")+":/",d.host+":"+d.port,d.Jw,"static/flashsocket","WebSocketMain"+(a.$o()?"Insecure":"")+".swf"];e.loaded||("undefined"===typeof WEB_SOCKET_SWF_LOCATION&&(WEB_SOCKET_SWF_LOCATION=n.join("/")),843!==h&&WebSocket.RS("xmlsocket://"+d.host+":"+h),WebSocket.wy(),e.loaded=!0);c.call(k)}var k=this;if(document.body)return h();d.util.load(h)};e.qm=function(){return"undefined"!=typeof WebSocket&&"__initialize"in
WebSocket&&a?10<=a.hR().WS:!1};e.Js=function(){return!0};"undefined"!=typeof window&&(WEB_SOCKET_DISABLE_AUTO_INITIALIZATION=!0);d.transports.push("flashsocket")})("undefined"!=typeof io?io.Transport:module.jc,"undefined"!=typeof io?io:module.parent.jc);if("undefined"!=typeof window)var a=function(){function c(){if(!ga){try{var a=G.getElementsByTagName("body")[0].appendChild(G.createElement("span"));a.parentNode.removeChild(a)}catch(c){return}ga=!0;for(var a=ra.length,d=0;d<a;d++)ra[d]()}}function d(a){ga?
a():ra[ra.length]=a}function e(a){if(typeof W.addEventListener!=J)W.addEventListener("load",a,!1);else if(typeof G.addEventListener!=J)G.addEventListener("load",a,!1);else if(typeof W.attachEvent!=J)z(W,a);else if("function"==typeof W.onload){var c=W.onload;W.onload=function(){c();a()}}else W.onload=a}function f(){var a=G.getElementsByTagName("body")[0],c=G.createElement(O);c.setAttribute("type",N);var d=a.appendChild(c);if(d){var e=0;(function(){if(typeof d.GetVariable!=J){var f=d.GetVariable("$version");
f&&(f=f.split(" ")[1].split(","),C.mp=[parseInt(f[0],10),parseInt(f[1],10),parseInt(f[2],10)])}else if(10>e){e++;setTimeout(arguments.callee,10);return}a.removeChild(c);d=null;g()})()}else g()}function g(){var a=ea.length;if(0<a)for(var c=0;c<a;c++){var d=ea[c].id,e=ea[c].VP,f={Zm:!1,id:d};if(0<C.mp[0]){var g=v(d);if(g)if(!B(ea[c].rW)||C.Oj&&312>C.Oj)if(ea[c].bH&&k()){f={};f.data=ea[c].bH;f.width=g.getAttribute("width")||"0";f.height=g.getAttribute("height")||"0";g.getAttribute("class")&&(f.yaa=g.getAttribute("class"));
g.getAttribute("align")&&(f.align=g.getAttribute("align"));for(var n={},g=g.getElementsByTagName("param"),q=g.length,s=0;s<q;s++)"movie"!=g[s].getAttribute("name").toLowerCase()&&(n[g[s].getAttribute("name")]=g[s].getAttribute("value"));l(f,n,d,e)}else m(g),e&&e(f);else M(d,!0),e&&(f.Zm=!0,f.JI=h(d),e(f))}else M(d,!0),e&&((d=h(d))&&typeof d.SetVariable!=J&&(f.Zm=!0,f.JI=d),e(f))}}function h(a){var c=null;(a=v(a))&&"OBJECT"==a.nodeName&&(typeof a.SetVariable!=J?c=a:(a=a.getElementsByTagName(O)[0])&&
(c=a));return c}function k(){return!sa&&B("6.0.65")&&(C.dh||C.jI)&&!(C.Oj&&312>C.Oj)}function l(a,c,d,e){sa=!0;za=e||null;Ga={Zm:!1,id:d};var f=v(d);if(f){"OBJECT"==f.nodeName?(pa=n(f),ta=null):(pa=f,ta=d);a.id=ia;if(typeof a.width==J||!/%$/.test(a.width)&&310>parseInt(a.width,10))a.width="310";if(typeof a.height==J||!/%$/.test(a.height)&&137>parseInt(a.height,10))a.height="137";G.title=G.title.slice(0,47)+" - Flash Player Installation";e=C.Wg&&C.dh?["Active"].concat("").join("X"):"PlugIn";e="MMredirectURL\x3d"+
W.location.toString().replace(/&/g,"%26")+"\x26MMplayerType\x3d"+e+"\x26MMdoctitle\x3d"+G.title;c.Jr=typeof c.Jr!=J?c.Jr+("\x26"+e):e;C.Wg&&C.dh&&4!=f.readyState&&(e=G.createElement("div"),d+="SWFObjectNew",e.setAttribute("id",d),f.parentNode.insertBefore(e,f),f.style.display="none",function(){4==f.readyState?f.parentNode.removeChild(f):setTimeout(arguments.callee,10)}());s(a,c,d)}}function m(a){if(C.Wg&&C.dh&&4!=a.readyState){var c=G.createElement("div");a.parentNode.insertBefore(c,a);c.parentNode.replaceChild(n(a),
c);a.style.display="none";(function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)})()}else a.parentNode.replaceChild(n(a),a)}function n(a){var c=G.createElement("div");if(C.dh&&C.Wg)c.innerHTML=a.innerHTML;else if(a=a.getElementsByTagName(O)[0])if(a=a.childNodes)for(var d=a.length,e=0;e<d;e++)1==a[e].nodeType&&"PARAM"==a[e].nodeName||8==a[e].nodeType||c.appendChild(a[e].cloneNode(!0));return c}function s(a,c,d){var e,f=v(d);if(C.Oj&&312>C.Oj)return e;if(f)if(typeof a.id==
J&&(a.id=d),C.Wg&&C.dh){var g="",h;for(h in a)a[h]!=Object.prototype[h]&&("data"==h.toLowerCase()?c.e7=a[h]:"styleclass"==h.toLowerCase()?g+=' class\x3d"'+a[h]+'"':"classid"!=h.toLowerCase()&&(g+=" "+h+'\x3d"'+a[h]+'"'));h="";for(var k in c)c[k]!=Object.prototype[k]&&(h+='\x3cparam name\x3d"'+k+'" value\x3d"'+c[k]+'" /\x3e');f.outerHTML='\x3cobject classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+g+"\x3e"+h+"\x3c/object\x3e";ua[ua.length]=a.id;e=v(a.id)}else{k=G.createElement(O);k.setAttribute("type",
N);for(var l in a)a[l]!=Object.prototype[l]&&("styleclass"==l.toLowerCase()?k.setAttribute("class",a[l]):"classid"!=l.toLowerCase()&&k.setAttribute(l,a[l]));for(g in c)c[g]!=Object.prototype[g]&&"movie"!=g.toLowerCase()&&(a=k,h=g,l=c[g],d=G.createElement("param"),d.setAttribute("name",h),d.setAttribute("value",l),a.appendChild(d));f.parentNode.replaceChild(k,f);e=k}return e}function q(a){var c=v(a);c&&"OBJECT"==c.nodeName&&(C.Wg&&C.dh?(c.style.display="none",function(){if(4==c.readyState){var d=v(a);
if(d){for(var e in d)"function"==typeof d[e]&&(d[e]=null);d.parentNode.removeChild(d)}}else setTimeout(arguments.callee,10)}()):c.parentNode.removeChild(c))}function v(a){var c=null;try{c=G.getElementById(a)}catch(d){}return c}function z(a,c){a.attachEvent("onload",c);ja[ja.length]=[a,"onload",c]}function B(a){var c=C.mp;a=a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return c[0]>a[0]||c[0]==a[0]&&c[1]>a[1]||c[0]==a[0]&&c[1]==a[1]&&c[2]>=a[2]?!0:!1}function E(a,
c,d,e){if(!C.Wg||!C.jI){var f=G.getElementsByTagName("head")[0];f&&(d=d&&"string"==typeof d?d:"screen",e&&(Aa=ba=null),ba&&Aa==d||(e=G.createElement("style"),e.setAttribute("type","text/css"),e.setAttribute("media",d),ba=f.appendChild(e),C.Wg&&C.dh&&typeof G.styleSheets!=J&&0<G.styleSheets.length&&(ba=G.styleSheets[G.styleSheets.length-1]),Aa=d),C.Wg&&C.dh?ba&&typeof ba.addRule==O&&ba.addRule(a,c):ba&&typeof G.createTextNode!=J&&ba.appendChild(G.createTextNode(a+" {"+c+"}")))}}function M(a,c){if(Ha){var d=
c?"visible":"hidden";ga&&v(a)?v(a).style.visibility=d:E("#"+a,"visibility:"+d)}}function aa(a){return null!=/[\\\"<>\.;]/.exec(a)&&typeof encodeURIComponent!=J?encodeURIComponent(a):a}var J="undefined",O="object",N="application/x-shockwave-flash",ia="SWFObjectExprInst",W=window,G=document,fa=navigator,Ia=!1,ra=[function(){Ia?f():g()}],ea=[],ua=[],ja=[],pa,ta,za,Ga,ga=!1,sa=!1,ba,Aa,Ha=!0,C=function(){var a=typeof G.getElementById!=J&&typeof G.getElementsByTagName!=J&&typeof G.createElement!=J,c=fa.userAgent.toLowerCase(),
d=fa.platform.toLowerCase(),e=d?/win/.test(d):/win/.test(c),d=d?/mac/.test(d):/mac/.test(c),c=/webkit/.test(c)?parseFloat(c.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,f=!+"\v1",g=[0,0,0],h=null;if(typeof fa.plugins!=J&&typeof fa.plugins["Shockwave Flash"]==O)!(h=fa.plugins["Shockwave Flash"].description)||typeof fa.mimeTypes!=J&&fa.mimeTypes[N]&&!fa.mimeTypes[N].enabledPlugin||(Ia=!0,f=!1,h=h.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),g[0]=parseInt(h.replace(/^(.*)\..*$/,"$1"),10),g[1]=parseInt(h.replace(/^.*\.(.*)\s.*$/,
"$1"),10),g[2]=/[a-zA-Z]/.test(h)?parseInt(h.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof W[["Active"].concat("Object").join("X")]!=J)try{var k=new (window[["Active"].concat("Object").join("X")])("ShockwaveFlash.ShockwaveFlash");k&&(h=k.GetVariable("$version"))&&(f=!0,h=h.split(" ")[1].split(","),g=[parseInt(h[0],10),parseInt(h[1],10),parseInt(h[2],10)])}catch(l){}return{hl:a,mp:g,Oj:c,Wg:f,dh:e,jI:d}}();(function(){C.hl&&((typeof G.readyState!=J&&"complete"==G.readyState||typeof G.readyState==
J&&(G.getElementsByTagName("body")[0]||G.body))&&c(),ga||(typeof G.addEventListener!=J&&G.addEventListener("DOMContentLoaded",c,!1),C.Wg&&C.dh&&(G.attachEvent("onreadystatechange",function(){"complete"==G.readyState&&(G.detachEvent("onreadystatechange",arguments.callee),c())}),W==top&&function(){if(!ga){try{G.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}c()}}()),C.Oj&&function(){ga||(/loaded|complete/.test(G.readyState)?c():setTimeout(arguments.callee,0))}(),e(c)))})();
(function(){C.Wg&&C.dh&&window.attachEvent("onunload",function(){for(var c=ja.length,d=0;d<c;d++)ja[d][0].detachEvent(ja[d][1],ja[d][2]);c=ua.length;for(d=0;d<c;d++)q(ua[d]);for(var e in C)C[e]=null;C=null;for(var f in a)a[f]=null;a=null})})();return{u8:function(a,c,d,e){if(C.hl&&a&&c){var f={};f.id=a;f.rW=c;f.bH=d;f.VP=e;ea[ea.length]=f;M(a,!1)}else e&&e({Zm:!1,id:a})},z3:function(a){if(C.hl)return h(a)},RQ:function(a,c,e,f,g,h,m,n,q,v){var z={Zm:!1,id:c};C.hl&&!(C.Oj&&312>C.Oj)&&a&&c&&e&&f&&g?(M(c,
!1),d(function(){e+="";f+="";var d={};if(q&&typeof q===O)for(var E in q)d[E]=q[E];d.data=a;d.width=e;d.height=f;E={};if(n&&typeof n===O)for(var C in n)E[C]=n[C];if(m&&typeof m===O)for(var G in m)E.Jr=typeof E.Jr!=J?E.Jr+("\x26"+G+"\x3d"+m[G]):G+"\x3d"+m[G];if(B(g))C=s(d,E,c),d.id==c&&M(c,!0),z.Zm=!0,z.JI=C;else{if(h&&k()){d.data=h;l(d,E,c,v);return}M(c,!0)}v&&v(z)})):v&&v(z)},Gaa:function(){Ha=!1},ua:C,hR:function(){return{WS:C.mp[0],a7:C.mp[1],AC:C.mp[2]}},aS:B,R0:function(a,c,d){if(C.hl)return s(a,
c,d)},jaa:function(a,c,d,e){C.hl&&k()&&l(a,c,d,e)},I8:function(a){C.hl&&q(a)},Q0:function(a,c,d,e){C.hl&&E(a,c,d,e)},J_:d,N_:e,e4:function(a){var c=G.location.search||G.location.hash;if(c){/\?/.test(c)&&(c=c.split("?")[1]);if(null==a)return aa(c);for(var c=c.split("\x26"),d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("\x3d"))==a)return aa(c[d].substring(c[d].indexOf("\x3d")+1))}return""},q1:function(){if(sa){var a=v(ia);a&&pa&&(a.parentNode.replaceChild(pa,a),ta&&(M(ta,!0),C.Wg&&C.dh&&(pa.style.display=
"block")),za&&za(Ga));sa=!1}}}}();(function(){if("undefined"!=typeof window&&!window.hM){var c=window.console;c&&c.log&&c.error||(c={log:function(){},error:function(){}});a.aS("10.0.0")?("file:"==location.protocol&&c.error("WARNING: web-socket-js doesn't work in file:///... URL unless you set Flash Security Settings properly. Open the page via Web server i.e. http://..."),WebSocket=function(a,c,f,g,h){var k=this;k.Yt=WebSocket.oM++;WebSocket.GE[k.Yt]=k;k.readyState=WebSocket.CONNECTING;k.bufferedAmount=
0;k.vn={};c?"string"==typeof c&&(c=[c]):c=[];setTimeout(function(){WebSocket.Wt(function(){WebSocket.Yh.create(k.Yt,a,c,f||null,g||0,h||null)})},0)},WebSocket.prototype.send=function(a){if(this.readyState==WebSocket.CONNECTING)throw"INVALID_STATE_ERR: Web Socket connection has not been established";a=WebSocket.Yh.send(this.Yt,encodeURIComponent(a));if(0>a)return!0;this.bufferedAmount+=a;return!1},WebSocket.prototype.close=function(){this.readyState!=WebSocket.CLOSED&&this.readyState!=WebSocket.xD&&
(this.readyState=WebSocket.xD,WebSocket.Yh.close(this.Yt))},WebSocket.prototype.addEventListener=function(a,c){a in this.vn||(this.vn[a]=[]);this.vn[a].push(c)},WebSocket.prototype.removeEventListener=function(a,c){if(a in this.vn)for(var f=this.vn[a],g=f.length-1;0<=g;--g)if(f[g]===c){f.splice(g,1);break}},WebSocket.prototype.dispatchEvent=function(a){for(var c=this.vn[a.type]||[],f=0;f<c.length;++f)c[f](a);(c=this["on"+a.type])&&c(a)},WebSocket.prototype.lM=function(a){"readyState"in a&&(this.readyState=
a.readyState);"protocol"in a&&(this.protocol=a.protocol);if("open"==a.type||"error"==a.type)a=this.EE(a.type);else if("close"==a.type)a=this.EE("close");else if("message"==a.type)a=this.jM(decodeURIComponent(a.message));else throw"unknown event type: "+a.type;this.dispatchEvent(a)},WebSocket.prototype.EE=function(a){if(document.createEvent&&window.QX){var c=document.createEvent("Event");c.initEvent(a,!1,!1);return c}return{type:a,bubbles:!1,cancelable:!1}},WebSocket.prototype.jM=function(a){if(document.createEvent&&
window.pY&&!window.opera){var c=document.createEvent("MessageEvent");c.initMessageEvent("message",!1,!1,a,null,null,window,null);return c}return{type:"message",data:a,bubbles:!1,cancelable:!1}},WebSocket.CONNECTING=0,WebSocket.OPEN=1,WebSocket.xD=2,WebSocket.CLOSED=3,WebSocket.Yh=null,WebSocket.GE={},WebSocket.Xp=[],WebSocket.oM=0,WebSocket.RS=function(a){WebSocket.Wt(function(){WebSocket.Yh.T6(a)})},WebSocket.wy=function(){if(!WebSocket.Yh&&(WebSocket.qM&&(window.gM=WebSocket.qM),window.gM)){var d=
document.createElement("div");d.id="webSocketContainer";d.style.position="absolute";WebSocket.nM()?(d.style.left="0px",d.style.top="0px"):(d.style.left="-100px",d.style.top="-100px");var e=document.createElement("div");e.id="webSocketFlash";d.appendChild(e);document.body.appendChild(d);a.RQ(WEB_SOCKET_SWF_LOCATION,"webSocketFlash","1","1","10.0.0",null,null,{s5:!0,Jaa:!0,$_:"always"},null,function(a){a.Zm||c.error("[WebSocket] swfobject.embedSWF failed")})}},WebSocket.RZ=function(){setTimeout(function(){WebSocket.Yh=
document.getElementById("webSocketFlash");WebSocket.Yh.h9(location.href);WebSocket.Yh.p9(!!window.CZ);for(var a=0;a<WebSocket.Xp.length;++a)WebSocket.Xp[a]();WebSocket.Xp=[]},0)},WebSocket.QZ=function(){setTimeout(function(){try{for(var a=WebSocket.Yh.p8(),e=0;e<a.length;++e)WebSocket.GE[a[e].rba].lM(a[e])}catch(f){c.error(f)}},0);return!0},WebSocket.PZ=function(a){c.log(decodeURIComponent(a))},WebSocket.OZ=function(a){c.error(decodeURIComponent(a))},WebSocket.Wt=function(a){WebSocket.Yh?a():WebSocket.Xp.push(a)},
WebSocket.nM=function(){if(!window.navigator||!window.navigator.mimeTypes)return!1;var a=window.navigator.mimeTypes["application/x-shockwave-flash"];return a&&a.enabledPlugin&&a.enabledPlugin.filename?a.enabledPlugin.filename.match(/flashlite/i)?!0:!1:!1},window.DZ||(window.addEventListener?window.addEventListener("load",function(){WebSocket.wy()},!1):window.attachEvent("onload",function(){WebSocket.wy()}))):c.error("Flash Player \x3e\x3d 10.0.0 is required.")}})();(function(a,d,e){function f(a){a&&
d.Transport.apply(this,arguments)}function g(){}a.Ui=f;d.util.inherit(f,d.Transport);f.prototype.open=function(){this.jb.Jj(!1);this.xw();this.get();this.fJ();return this};f.prototype.wI=function(a){for(var c=[],e=0,f=a.length;e<f;e++)c.push(d.parser.encodePacket(a[e]));this.send(d.parser.encodePayload(c))};f.prototype.send=function(a){this.AI(a);return this};f.prototype.AI=function(a){function c(){4==this.readyState&&(this.onreadystatechange=g,f.d8=!1,200==this.status?f.jb.Jj(!1):f.Kh())}function d(){this.onload=
g;f.jb.Jj(!1)}var f=this;this.jb.Jj(!0);this.ps=this.request("POST");e.XDomainRequest&&this.ps instanceof XDomainRequest?this.ps.onload=this.ps.onerror=d:this.ps.onreadystatechange=c;this.ps.send(a)};f.prototype.close=function(){this.Kh();return this};f.prototype.request=function(a){var c=d.util.request(this.jb.$o()),e=d.util.query(this.jb.options.query,"t\x3d"+ +new Date);c.open(a||"GET",this.ns()+e,!0);if("POST"==a)try{c.setRequestHeader?c.setRequestHeader("Content-type","text/plain;charset\x3dUTF-8"):
c.contentType="text/plain"}catch(f){}return c};f.prototype.scheme=function(){return this.jb.options.Sm?"https":"http"};f.qm=function(a,c){try{var f=d.util.request(c),g=e.XDomainRequest&&f instanceof XDomainRequest,n=a&&a.options&&a.options.Sm?"https:":"http:",s=e.location&&n!=e.location.protocol;if(f&&(!g||!s))return!0}catch(q){}return!1};f.Js=function(a){return f.qm(a,!0)}})("undefined"!=typeof io?io.Transport:module.jc,"undefined"!=typeof io?io:module.parent.jc,this);(function(a,d){function e(a){d.Transport.Ui.apply(this,
arguments)}a.v5=e;d.util.inherit(e,d.Transport.Ui);e.prototype.name="htmlfile";e.prototype.get=function(){this.Gk=new (window[["Active"].concat("Object").join("X")])("htmlfile");this.Gk.open();this.Gk.write("\x3chtml\x3e\x3c/html\x3e");this.Gk.close();this.Gk.parentWindow.Ph=this;var a=this.Gk.createElement("div");a.className="socketio";this.Gk.body.appendChild(a);this.hg=this.Gk.createElement("iframe");a.appendChild(this.hg);var c=this,a=d.util.query(this.jb.options.query,"t\x3d"+ +new Date);this.hg.src=
this.ns()+a;d.util.on(window,"unload",function(){c.td()})};e.prototype.BE=function(a,c){a=a.replace(/\\\//g,"/");this.ks(a);try{var d=c.getElementsByTagName("script")[0];d.parentNode.removeChild(d)}catch(e){}};e.prototype.td=function(){if(this.hg){try{this.hg.src="about:blank"}catch(a){}this.Gk=null;this.hg.parentNode.removeChild(this.hg);this.hg=null;CollectGarbage()}};e.prototype.close=function(){this.td();return d.Transport.Ui.prototype.close.call(this)};e.qm=function(a){if("undefined"!=typeof window&&
["Active"].concat("Object").join("X")in window)try{return new (window[["Active"].concat("Object").join("X")])("htmlfile")&&d.Transport.Ui.qm(a)}catch(c){}return!1};e.Js=function(){return!1};d.transports.push("htmlfile")})("undefined"!=typeof io?io.Transport:module.jc,"undefined"!=typeof io?io:module.parent.jc);(function(a,d,e){function f(){d.Transport.Ui.apply(this,arguments)}function g(){}a["xhr-polling"]=f;d.util.inherit(f,d.Transport.Ui);d.util.merge(f,d.Transport.Ui);f.prototype.name="xhr-polling";
f.prototype.JH=function(){return!1};f.prototype.open=function(){d.Transport.Ui.prototype.open.call(this);return!1};f.prototype.get=function(){function a(){4==this.readyState&&(this.onreadystatechange=g,200==this.status?(f.ks(this.responseText),f.get()):f.Kh())}function c(){this.onerror=this.onload=g;f.GC=1;f.ks(this.responseText);f.get()}function d(){f.GC++;!f.GC||3<f.GC?f.Kh():f.get()}if(this.as){var f=this;this.Sh=this.request();e.XDomainRequest&&this.Sh instanceof XDomainRequest?(this.Sh.onload=
c,this.Sh.onerror=d):this.Sh.onreadystatechange=a;this.Sh.send(null)}};f.prototype.Kh=function(){d.Transport.Ui.prototype.Kh.call(this);if(this.Sh){this.Sh.onreadystatechange=this.Sh.onload=this.Sh.onerror=g;try{this.Sh.abort()}catch(a){}this.Sh=null}};f.prototype.Dw=function(a,c){var e=this;d.util.defer(function(){c.call(e)})};d.transports.push("xhr-polling")})("undefined"!=typeof io?io.Transport:module.jc,"undefined"!=typeof io?io:module.parent.jc,this);(function(a,d,e){function f(a){d.Transport["xhr-polling"].apply(this,
arguments);this.index=d.j.length;var c=this;d.j.push(function(a){c.BE(a)})}var g=e.document&&"MozAppearance"in e.document.documentElement.style;a["jsonp-polling"]=f;d.util.inherit(f,d.Transport["xhr-polling"]);f.prototype.name="jsonp-polling";f.prototype.AI=function(a){function c(){e();f.jb.Jj(!1)}function e(){f.hg&&f.form.removeChild(f.hg);try{z=document.createElement('\x3ciframe name\x3d"'+f.TB+'"\x3e')}catch(a){z=document.createElement("iframe"),z.name=f.TB}z.id=f.TB;f.form.appendChild(z);f.hg=
z}var f=this,g=d.util.query(this.jb.options.query,"t\x3d"+ +new Date+"\x26i\x3d"+this.index);if(!this.form){var s=document.createElement("form"),q=document.createElement("textarea"),v=this.TB="socketio_iframe_"+this.index,z;s.className="socketio";s.style.position="absolute";s.style.top="0px";s.style.left="0px";s.style.display="none";s.target=v;s.method="POST";s.setAttribute("accept-charset","utf-8");q.name="d";s.appendChild(q);document.body.appendChild(s);this.form=s;this.OP=q}this.form.action=this.ns()+
g;e();this.OP.value=d.JSON.stringify(a);try{this.form.submit()}catch(B){}this.hg.attachEvent?z.onreadystatechange=function(){"complete"==f.hg.readyState&&c()}:this.hg.onload=c;this.jb.Jj(!0)};f.prototype.get=function(){var a=this,c=document.createElement("script"),e=d.util.query(this.jb.options.query,"t\x3d"+ +new Date+"\x26i\x3d"+this.index);this.Za&&(this.Za.parentNode.removeChild(this.Za),this.Za=null);c.async=!0;c.src=this.ns()+e;c.onerror=function(){a.Kh()};e=document.getElementsByTagName("script")[0];
e.parentNode.insertBefore(c,e);this.Za=c;g&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a);document.body.removeChild(a)},100)};f.prototype.BE=function(a){this.ks(a);this.as&&this.get();return this};f.prototype.Dw=function(a,c){var e=this;if(!g)return c.call(this);d.util.load(function(){c.call(e)})};f.qm=function(){return"document"in e};f.Js=function(){return!0};d.transports.push("jsonp-polling")})("undefined"!=typeof io?io.Transport:module.jc,"undefined"!=
typeof io?io:module.parent.jc,this);"function"===typeof define&&define.a0&&define([],function(){return io})})();p=p||{};function r(){return arguments.callee.name||arguments.callee.toString().match(/^function ([^(]+)/)[1]}r.id=0|998*Math.random();r.yS=0|998*Math.random();
r.JG=function(a,c,d){for(var e=a.toString(),f=e.indexOf("("),g=e.indexOf(")"),f=e.substring(f+1,g),f=f.trim(),g=e.indexOf("{"),e=e.substring(g+1,e.lastIndexOf("}"));-1!=e.indexOf("this._super");)var g=e.indexOf("this._super"),h=e.indexOf("(",g),k=e.indexOf(")",h),k=e.substring(h+1,k),k=(k=k.trim())?",":"",l=arguments.callee.EK(),e=e.substring(0,g)+l+"["+d+"]."+c+".call(this"+k+e.substring(h+1);return Function(f,e)};r.JG.EK=r;r.sR=function(){return this.id++};r.tR=function(){return this.yS++};
(function(){var a=/\b_super\b/,c=document.ccConfig&&document.ccConfig.CLASS_RELEASE_MODE?document.ccConfig.CLASS_RELEASE_MODE:null;c&&console.log("release Mode");p.sa=function(){};p.sa.extend=function(d){function e(){this.Vb=r.tR();this.ctor&&this.ctor.apply(this,arguments)}var f=this.prototype,g=Object.create(f),h=r.sR();r[h]=f;var k={writable:!0,enumerable:!1,configurable:!0},l;for(l in d)c&&"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=r.JG(d[l],l,h),Object.defineProperty(g,
l,k)):"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=function(a,c){return function(){var d=this._super;this._super=f[a];var e=c.apply(this,arguments);this._super=d;return e}}(l,d[l]),Object.defineProperty(g,l,k)):"function"==typeof d[l]?(k.value=d[l],Object.defineProperty(g,l,k)):g[l]=d[l];g.Vb=null;e.id=h;k.value=h;Object.defineProperty(g,"__pid",k);e.prototype=g;k.value=e;Object.defineProperty(e.prototype,"constructor",k);e.extend=arguments.callee;e.x5=function(a){for(var c in a)g[c]=
a[c]};return e};Function.prototype.bind=Function.prototype.bind||function(a){var c=this;return function(){var f=Array.prototype.slice.call(arguments);return c.apply(a||null,f)}}})();p.z5=function(a,c){function d(){}d.prototype=c.prototype;a.ix=c.prototype;a.prototype=new d;a.prototype.constructor=a};
p.RP=function(a,c,d){var e=arguments.callee.caller;if(e.ix)return ret=e.ix.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var f=Array.prototype.slice.call(arguments,2),g=!1,h=a.constructor;h;h=h.ix&&h.ix.constructor)if(h.prototype[c]===e)g=!0;else if(g)return h.prototype[c].apply(a,f);if(a[c]===e)return a.constructor.prototype[c].apply(a,f);throw Error("cc.base called from a method of one name to a method of a different name");};
p.M0=function(a,c){a||(a={});for(var d in c)a[d]=c[d];return a};p.wg=function(a,c){this.x=a||0;this.y=c||0};p.CE=function(a,c){this.C=a||0;this.I=c||0;this.KJ=function(a){this.C=a};this.LJ=function(a){this.I=a}};p.cd=function(){return new p.CE(0,0)};
Object.defineProperties(p.CE.prototype,{x:{get:function(){return this.C},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0},y:{get:function(){return this.I},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0}});p.GY=function(a,c){p.log("cc.PointMake will be deprecated sooner or later. Use cc.p instead.");return new p.wg(a,c)};
p.a=function(a,c){return{x:a,y:c}};p.q_=p.a;p.Qi=function(){return p.a(0,0)};p.xI=function(a,c){return a&&c?a.x===c.x&&a.y===c.y:!1};p.Wj=function(a,c){this.width=a||0;this.height=c||0};p.DE=function(a,c){this.xa=a||0;this.ka=c||0;this.aD=function(a){this.xa=a};this.PC=function(a){this.ka=a}};p.Vl=function(){return new p.DE(0,0)};
Object.defineProperties(p.DE.prototype,{width:{get:function(){return this.xa},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0},height:{get:function(){return this.ka},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0}});p.kZ=function(a,c){p.log("cc.SizeMake will be deprecated sooner or later. Use cc.size instead.");return p.size(a,c)};
p.size=function(a,c){return{width:a,height:c}};p.Qa=p.size;p.rl=function(){return p.size(0,0)};p.sG={ET:p.cd(),jW:p.Vl()};Object.defineProperties(p,{DL:{get:function(){return p.sG.ET}},NL:{get:function(){return p.sG.jW}},LY:{get:function(){return p.rect(0,0,0,0)}}});p.iW=function(a,c){return a&&c?a.width==c.width&&a.height==c.height:!1};
p.Pf=function(a,c,d,e){var f=arguments.length;if(4===f)this.Sc=new p.wg(a||0,c||0),this.Qa=new p.Wj(d||0,e||0);else if(1===f)this.Sc=new p.wg(a.Sc.x,a.Sc.y),this.Qa=new p.Wj(a.Qa.width,a.Qa.height);else if(0===f)this.Sc=new p.wg(0,0),this.Qa=new p.Wj(0,0);else if(2===f)this.Sc=new p.wg(a.x,a.y),this.Qa=new p.Wj(c.width,c.height);else throw"unknown argument type";};p.SY=function(a,c,d,e){p.log("cc.RectMake will be deprecated sooner or later. Use cc.rect instead.");return p.rect(a,c,d,e)};
p.rect=function(a,c,d,e){var f=arguments.length;if(0===f)return new p.Pf(0,0,0,0);if(1===f)return new p.Pf(a.x,a.y,a.width,a.height);if(2===f)return new p.Pf(a.x,a.y,c.width,c.height);if(4===f)return new p.Pf(a,c,d,e);throw"unknown argument type";};p.oa=p.rect;p.Pc=function(){return p.rect(0,0,0,0)};p.HI=function(a,c){return a&&c?p.xI(a.Sc,c.Sc)&&p.iW(a.Qa,c.Qa):!1};p.Zq=function(a){return a?0===a.x&&0===a.y&&0===a.width&&0===a.height:!1};
p.q8=function(a,c){return a&&c?!(a.x>=c.x||a.y>=c.y||a.x+a.width<=c.x+c.width||a.y+a.height<=c.y+c.height):!1};p.Lm=function(a){return a.x+a.width};p.r8=function(a){return a.x+a.width/2};p.Wk=function(a){return a.x};p.Mm=function(a){return a.y+a.height};p.s8=function(a){return a.y+a.height/2};p.Xk=function(a){return a.y};p.Cb=function(a,c){return c.x>=p.Wk(a)&&c.x<=p.Lm(a)&&c.y>=p.Xk(a)&&c.y<=p.Mm(a)};p.VT=function(a,c){return!(p.Lm(a)<p.Wk(c)||p.Lm(c)<p.Wk(a)||p.Mm(a)<p.Xk(c)||p.Mm(c)<p.Xk(a))};
p.t8=function(a,c){return!(a.x+a.width<c.x||c.x+c.width<a.x||a.y+a.height<c.y||c.y+c.height<a.y)};p.Hw=function(a,c){var d=p.rect(0,0,0,0);d.x=Math.min(a.x,c.x);d.y=Math.min(a.y,c.y);d.width=Math.max(a.x+a.width,c.x+c.width)-d.x;d.height=Math.max(a.y+a.height,c.y+c.height)-d.y;return d};p.UT=function(a,c){var d=p.rect(Math.max(p.Wk(a),p.Wk(c)),Math.max(p.Xk(a),p.Xk(c)),0,0);d.width=Math.min(p.Lm(a),p.Lm(c))-p.Wk(d);d.height=Math.min(p.Mm(a),p.Mm(c))-p.Xk(d);return d};b=p.Pf.prototype;
b.KJ=function(a){this.Sc.x=a};b.LJ=function(a){this.Sc.y=a};b.Vr=function(){return this.Qa.width};b.aD=function(a){this.Qa.width=a};b.Pr=function(){return this.Qa.height};b.PC=function(a){this.Qa.height=a};
Object.defineProperties(p.Pf.prototype,{x:{get:function(){return this.Sc.x},set:function(a){this.KJ(a)},enumerable:!0,configurable:!0},y:{get:function(){return this.Sc.y},set:function(a){this.LJ(a)},enumerable:!0,configurable:!0},width:{get:function(){return this.Vr()},set:function(a){this.aD(a)},enumerable:!0,configurable:!0},height:{get:function(){return this.Pr()},set:function(a){this.PC(a)},enumerable:!0,configurable:!0}});var t=t||{};try{t.localStorage=window.localStorage,window.localStorage.setItem("storage",""),window.localStorage.removeItem("storage")}catch(ha){"SECURITY_ERR"!==ha.name&&"QuotaExceededError"!==ha.name||console.log("Warning: localStorage isn't enabled. Please confirm browser cookie or privacy option"),t.localStorage=function(){}}
Object.defineProperties(t,{y0:{get:function(){var a={canvas:!0};p.wa.Ac&&(a.opengl=!0);"ontouchstart"in document.documentElement||window.navigator.msPointerEnabled?a.touches=!0:"onmouseup"in document.documentElement&&(a.mouse=!0);"onkeyup"in document.documentElement&&(a.keyboard=!0);if(window.DeviceMotionEvent||window.DeviceOrientationEvent)a.accelerometer=!0;return a},enumerable:!0,configurable:!0},z7:{get:function(){var a=navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?!0:!1,c=navigator.userAgent.match(/android/i)||
navigator.platform.match(/android/i)?!0:!1,d=navigator.appVersion;-1!=navigator.appVersion.indexOf("Win")?d="Windows":-1!=navigator.appVersion.indexOf("Mac")?d="OS X":-1!=navigator.appVersion.indexOf("X11")?d="UNIX":-1!=navigator.appVersion.indexOf("Linux")?d="Linux":a?d="iOS":c&&(d="Android");return d},enumerable:!0,configurable:!0},platform:{get:function(){return"browser"},enumerable:!0,configurable:!0},version:{get:function(){return p.Rs},enumerable:!0,configurable:!0}});t.L1=function(){};
t.h1=function(){};t.T8=function(){};p.Rs="Cocos2d-html5-v2.2.2";p.kt=0;p.LD=p.a(0,0);p.JK=0.5;p.lX=1;p.OL=1;p.AL=0;p.tE=0;p.mZ=0;p.nZ=0;p.OY=1;p.NY="-hd";p.cM=1;p.Vj=0;p.hZ=0;p.iY=0;p.hY=0;p.Nx=1;p.vX=p.Rs+"-canvas";p.Qv={platform:t.platform};p.g1=function(){for(var a in t)p.log(a+" \x3d "+t[a])};p.Qs=1;p.ND=1;p.KG=function(a,c){for(var d=["webgl","experimental-webgl","webkit-3d","moz-webgl"],e=null,f=0;f<d.length;++f){try{e=a.getContext(d[f],c)}catch(g){}if(e)break}return e};p.wa={};p.wa.IW=["baidubrowser","opera","firefox","chrome","safari"];
(function(){p.wa.ua=navigator.userAgent.toLowerCase();p.wa.platform=navigator.platform.toLowerCase();p.wa.Gj=-1!=p.wa.ua.indexOf("mobile")||-1!=p.wa.ua.indexOf("android");p.wa.type=function(){var a=p.wa.ua.match(/micromessenger|qqbrowser|mqqbrowser|ucbrowser|360browser|baidubrowser|maxthon|ie|opera|firefox/)||p.wa.ua.match(/chrome|safari/);return a&&0<a.length?(a=a[0],"micromessenger"==a?"wechat":a):"unknow"}();p.wa.mode="ie"==p.wa.type&&document.documentMode;document.ccConfig||(document.ccConfig=
{});p.RA=parseInt(document.ccConfig.renderMode)||0;var a=-1==p.wa.IW.indexOf(p.wa.type);1===p.RA||0===p.RA&&(p.wa.Gj||a)?p.wa.Ac=!1:(p.wa.Ac=null!=window.GZ,a=document.createElement("Canvas"),a=p.KG(a,{stencil:!0,preserveDrawingBuffer:!0}),p.wa.Ac=null!=a);2!==p.RA||p.wa.Ac||(p.xy=!0);var a=p.wa,c;try{c=new (window.AudioContext||window.webkitAudioContext||window.mozAudioContext)?!0:!1}catch(d){c=!1}a.zaa=c;p.wa.w7=function(a){if(this.Gj){var c=p.P.d().Hb,d=c.width+"px",c=c.height+"px",h=p.Qj("div");
h.style.backgroundColor="#ffffff";h.style.width=d;h.style.height=c;h.style.LW=1E3;h.style.position="absolute";h.style.top="0px";h.style.left="0px";h.id="cocos2d-browser";var k=p.Qj("iframe");k.src=a;k.style.width=d;k.style.height=c;k.setAttribute("frameborder","no");k.setAttribute("scrolling","no");h.appendChild(k);k.onload=function(){var a=document.createElement("img");a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5OERBMEM3OUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5OERBMEM3QUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjk4REEwQzc3RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjk4REEwQzc4RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+NwBuoAAAA/tJREFUeNrEWF0sW3EUb6+28zFhbGadsBaNhazV+kpDYhFWKRGWbHvwFV5IvPiIFw9evElEPEiWSUgsIWoIglhmUomPxj6aKC0zKVJjtPU5o9j5J7dLdbf33jKc5Jfc3v+v5/+755x7/j1lMoiNBRDh4AO88HvO2m+ACbAC+AJQAyz2JCbBFyMBWQA/xv+3DUAXLuivudhcY4BMwCuAB+NqDPmNAnAAOsCZvQgk4BnjeiwEwAbM2YoQA14yrteQEANgDcML7gXjZgw9OAuJkADu3JAIb7Q/hr+GtCwuLs6LDq+iooLvhBAREhFEl11ZWRne0tIiIeNIpVKv4uJi4dTUVApNt0EY3ohILSIiwqO7u1sql8vD8vLyJJ2dnXH2HDabzczPz3/Y1taWzOfz78XExDxSq9Vyd3d3jMK9F2pWr6lEtLa2RmVnZ4tt7w0NDWlTU1OVtkK7urqSQ0NDzzW5hYWFjcTExAGDwXDkyD+VSkZ7e3tsWlpamP19mUwWplQqk9B1UlKST3NzczxE4K49D4mCiDwn24PyPMjIyHjs6urKIVpLSEgInp6eZsM6Kzw8nEvEMZvNBxC1BbI9KCMhkUgUy8vLRpL1QIFA4EcSyZmcnJzpS4mYnZ3dj46O7p2fn193xIGi/CeiFovlFIp5pqGhYZ5qD1qFiQxCjk1OTsqEQmEAFReloL+/X0sVAadFWE2n02VA+O+TcVZXV01QkO8ODw9P6fjEnO2zvb2936g4XC7XG4rWm65P2iL8/f05kN8nBQUFQkqnGMYcGBjIys3N5dLxjY7ydDrE6urqsNLSUqmbmxuH1tOBkMzMTIHRaNxSqVTmS4soKyvjFRUViTw9PV2dTR901WAOh7M/MjKyeeHCbGpqEhcWFkY5Wl9aWtpUKBRaONziSbsii/Xm5OTk7EIdU6/X7zpaW1xc/Al5HxkfH9/e2dk5rqmpeUrE6+vr06ADzpEIlI5kMjFwPhh5PB5DJBKdK7KDg4Oj2tpaVUdHxw/0eWxszIjyj8Jvy4N60FdVVX2Grnt4dkaowYJESAG3yaLR09Oz5uvrexwbGxuAR2erpKTkI6RqxW5DM6RnLT09PQQV5vDwsDYlJWUU+I4EIDMhEQLAA6q0DA4OrqMCg/c/qL6+XtXY2Kgn4sGJuavRaFbFYrFPeXn5FIj6ReFa64KnIpJOpaMK39vbM9XV1X13lF9kc3Nz+xMTEwZo89s03A4ycRE1N/RjF/WPKgyfDRU39Gu7w1qYyNYAtwDB1yhgGPDBfgzU4bMi7xoEjAI6iWZRdGMGH80Cr2goRlP5W8B7qwBHfw1YO6kEH4yC8EnJ5QKbnuDFh17nr4BPRP9P/BFgAHo7ZNgI9EbHAAAAAElFTkSuQmCC";
h.appendChild(a);a.style.LW=1E3;a.style.position="absolute";a.style.bottom="10px";a.style.right="10px";a.onclick=function(){h.remove()}};(a=document.getElementById(document.ccConfig.tag).parentNode)&&a.appendChild(h)}else window.open(a)}})();p.TY=function(){return"undefined"===p.xy?!1:p.xy};
p.Eb=function(a){var c=this==p?document:this;if(a=a instanceof HTMLElement?a:c.querySelector(a))a.find=a.find||p.Eb,a.PB=a.PB||function(a){return this.className.match(RegExp("(\\s|^)"+a+"(\\s|$)"))},a.xG=a.xG||function(a){this.PB(a)||(this.className&&(this.className+=" "),this.className+=a);return this},a.kU=a.kU||function(a){this.PB(a)&&(this.className=this.className.replace(a,""));return this},a.remove=a.remove||function(){this.parentNode&&this.parentNode.removeChild(this);return this},a.nm=a.nm||
function(a){a.appendChild(this);return this},a.OT=a.OT||function(a){a.childNodes[0]?a.insertBefore(this,a.childNodes[0]):a.appendChild(this);return this},a.an=a.an||function(){this.style[p.Eb.vW]=p.Eb.translate(this.position)+p.Eb.rotate(this.rotation)+p.Eb.scale(this.scale)+p.Eb.cl(this.cl);return this},a.position=a.position||{x:0,y:0},a.rotation=a.rotation||0,a.scale=a.scale||{x:1,y:1},a.cl=a.cl||{x:0,y:0},a.iD=function(a,c){this.position.x=a;this.position.y=c;this.an()},a.rotate=function(a){this.rotation=
a;this.an();return this},a.resize=function(a,c){this.scale.x=a;this.scale.y=c;this.an();return this},a.AJ=function(a,c){this.cl.x=a;this.cl.y=c;this.an()};return a};switch(p.wa.type){case "firefox":p.Eb.lp="Moz";p.Eb.Vo=!0;break;case "chrome":case "safari":p.Eb.lp="webkit";p.Eb.Vo=!0;break;case "opera":p.Eb.lp="O";p.Eb.Vo=!1;break;case "ie":p.Eb.lp="ms";p.Eb.Vo=!1;break;default:p.Eb.lp="webkit",p.Eb.Vo=!0}p.Eb.vW=p.Eb.lp+"Transform";
p.Eb.translate=p.Eb.Vo?function(a){return"translate3d("+a.x+"px, "+a.y+"px, 0) "}:function(a){return"translate("+a.x+"px, "+a.y+"px) "};p.Eb.rotate=p.Eb.Vo?function(a){return"rotateZ("+a+"deg) "}:function(a){return"rotate("+a+"deg) "};p.Eb.scale=function(a){return"scale("+a.x+", "+a.y+") "};p.Eb.cl=function(a){return"skewX("+-a.x+"deg) skewY("+a.y+"deg)"};p.Qj=function(a){return p.Eb(document.createElement(a))};
p.Eb.E1=function(a){var c=0,d=0;do c+=a.offsetLeft,d+=a.offsetTop;while(a=a.offsetParent);return{x:c,y:d}};p.B=function(a){var c=a.constructor?new a.constructor:{},d;for(d in a){var e=a[d];c[d]="object"!=typeof e||!e||e instanceof p.H||e instanceof HTMLElement?e:p.B(e)}return c};p.f0=function(){};p.QD=p.QD||!1;
p.NN=function(a){var c=document.getElementById("logInfoList");if(!c){var d=document.createElement("Div");d.setAttribute("id","logInfoDiv");p.canvas.parentNode.appendChild(d);d.setAttribute("width","200");d.setAttribute("height",p.canvas.height);d.style.zIndex="99999";d.style.position="absolute";d.style.top="0";d.style.left="0";c=document.createElement("ul");d.appendChild(c);c.setAttribute("id","logInfoList");c.style.height=p.canvas.height+"px";c.style.color="#fff";c.style.textAlign="left";c.style.listStyle=
"disc outside";c.style.fontSize="12px";c.style.fontFamily="arial";c.style.padding="0 0 0 20px";c.style.margin="0";c.style.textShadow="0 0 3px #000";c.style.zIndex="99998";c.style.position="absolute";c.style.top="0";c.style.left="0";c.style.overflowY="hidden";var e=document.createElement("Div");d.appendChild(e);e.style.width="200px";e.style.height=p.canvas.height+"px";e.style.opacity="0.1";e.style.background="#fff";e.style.border="1px solid #dfdfdf";e.style.borderRadius="8px"}d=document.createElement("li");
d.innerHTML=a;0==c.childNodes.length?c.appendChild(d):c.insertBefore(d,c.childNodes[0])};p.log=function(a){p.QD?p.NN(a):console.log.apply(console,arguments)};p.oY=function(a){console.log(a)};p.Ms=function(a,c){console.assert?console.assert(a,c):a||c&&alert(c)};p.kS=function(){0==p.Os?(p.log=function(){},p.hI=function(){},p.gI=function(){},p.Ms=function(){}):1==p.Os?(p.hI=p.log,p.gI=function(){}):1<p.Os&&(p.hI=p.log,p.gI=p.log)};p.gL=0;p.fL=1;p.hL=2;p.kL=3;p.iL=4;p.rL=5;p.qL=6;p.mL=7;p.lL=8;p.jL=9;
p.pL=10;p.eL=11;p.nL=12;p.oL=13;
p.cL={h0:8,Laa:9,UQ:13,shift:16,U0:17,alt:18,pause:19,z0:20,escape:27,W7:33,V7:34,end:35,home:36,left:37,cba:38,right:39,b1:40,E5:45,CX:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,D:65,f:66,ra:67,Aa:68,i1:69,aw:70,g:71,fe:72,w5:73,j:74,B6:75,K6:76,X6:77,lI:78,s7:79,a:80,j8:81,h:82,Ph:83,Kaa:84,Da:85,da:86,pK:87,x:88,y:89,z:90,g7:96,h7:97,i7:98,j7:99,k7:100,l7:101,m7:102,n7:103,o7:104,p7:105,"*":106,"+":107,"-":109,numdel:110,"/":111,r1:112,v1:113,w1:114,x1:115,y1:116,z1:117,A1:118,B1:119,
C1:120,s1:121,t1:122,u1:123,r7:144,W8:145,X8:186,",":186,l1:187,"\x3d":187,";":188,L0:188,V0:189,".":190,a8:190,J1:191,p5:192,"[":219,x7:219,"]":221,K0:221,g0:220,quote:222,qaa:32};p.Wh=-1;p.PI=Math.PI;p.UK=parseFloat("3.402823466e+38F");p.KL=p.PI/180;p.IK=180/p.PI;p.bM=4294967295;p.iZ=function(a,c,d){if("object"==typeof d&&"undefined"!=typeof d.x&&"undefined"!=typeof d.y){var e=d[a];d[a]=d[c];d[c]=e}else p.log("cc.SWAP is being modified from original macro, please check usage")};p.M6=function(a,c,d){return a+(c-a)*d};p.KY=function(){return 2*(Math.random()-0.5)};p.JY=function(){return Math.random()};p.Oi=function(a){return a*p.KL};p.Zx=function(a){return a*p.IK};
p.ql=Number.MAX_VALUE-1;p.ne=p.AL?1:770;p.me=771;p.Tx=function(a){a.tc&&(a.tc.Pe(),a.tc.rg())};p.OX=function(){};p.BX=function(){};p.fh=function(){p.Fh+=1};p.lt=1.192092896E-7;p.md=p.Nx?function(){return p.P.d().Bl}:function(){return 1};p.CL=function(a){var c=p.md();return p.a(a.x*c,a.y*c)};p.KZ=function(a,c){var d=p.md();c.C=a.x*d;c.I=a.y*d};p.dy=function(a){var c=p.md();return p.size(a.width*c,a.height*c)};p.fZ=function(a){var c=p.md();return p.size(a.width/c,a.height/c)};
p.uy=function(a,c){var d=p.md();c.xa=a.width/d;c.ka=a.height/d};p.EY=function(a){var c=p.md();return p.a(a.x/c,a.y/c)};p.Vt=function(a,c){var d=p.md();c.C=a.x/d;c.I=a.y/d};p.Jp=p.Nx?function(a){var c=p.md();return p.rect(a.x/c,a.y/c,a.width/c,a.height/c)}:function(a){return a};p.mn=p.Nx?function(a){var c=p.md();return p.rect(a.x*c,a.y*c,a.width*c,a.height*c)}:function(a){return a};p.wD=function(){if(p.Q8==p.Xj){var a=p.O.getError();a&&p.log("WebGL error "+a)}};p.YY=0;p.XY=1;p.VY=2;p.WY=3;p.ZY=4;p.$Y=5;p.UY=6;var Uint8Array=Uint8Array||Array;
if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){var ka=document.createElement("script");ka.type="text/vbscript";ka.textContent='\x3c!-- IEBinaryToArray_ByteStr --\x3e\r\nFunction IEBinaryToArray_ByteStr(Binary)\r\n   IEBinaryToArray_ByteStr \x3d CStr(Binary)\r\nEnd Function\r\nFunction IEBinaryToArray_ByteStr_Last(Binary)\r\n   Dim lastIndex\r\n   lastIndex \x3d LenB(Binary)\r\n   if lastIndex mod 2 Then\r\n       IEBinaryToArray_ByteStr_Last \x3d Chr( AscB( MidB( Binary, lastIndex, 1 ) ) )\r\n   Else\r\n       IEBinaryToArray_ByteStr_Last \x3d ""\r\n   End If\r\nEnd Function\r\n';document.body.appendChild(ka);
p.VE=function(a){for(var c={},d=0;256>d;d++)for(var e=0;256>e;e++)c[String.fromCharCode(d+256*e)]=String.fromCharCode(d)+String.fromCharCode(e);d=IEBinaryToArray_ByteStr(a);a=IEBinaryToArray_ByteStr_Last(a);return d.replace(/[\s\S]/g,function(a){return c[a]})+a}}
p.nd=p.sa.extend({aj:null,zk:null,cN:null,oz:null,no:null,th:null,kq:"",ctor:function(){this.aj={};this.zk={};this.th=[];this.th.push(this.kq);this.no=[];this.no.push("")},g8:function(){this.th=[]},c2:function(a){a=this.Zd(a);return this.aj.hasOwnProperty(a)?this.aj[a]:this.KN(a)},Au:function(){return window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP")},wW:function(a){this.aj.hasOwnProperty(a)&&delete this.aj[a]},KT:function(a){a=this.Zd(a);var c=this,d=this.Au();d.open("GET",
a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","x-user-defined"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=p.VE(d.responseBody);e&&(c.aj[a]=c.nv(e))}else p.Ob.d().Fm(a);p.Ob.d().Nh()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dx-user-defined"),d.onload=function(){var e=d.responseText;e?c.aj[a]=c.nv(e):p.Ob.d().Fm(a);p.Ob.d().Nh()});d.send(null)},KN:function(a){var c=this.Au();
c.open("GET",a,!1);var d=null;if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){c.setRequestHeader("Accept-Charset","x-user-defined");c.send(null);if(200!=c.status)return null;if(c=p.VE(c.responseBody))d=this.nv(c),this.aj[a]=d}else{c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dx-user-defined");c.send(null);if(200!=c.status)return null;d=this.nv(c.responseText);this.aj[a]=d}return d},nv:function(a){if(!a)return null;for(var c=new Uint8Array(a.length),d=0;d<
a.length;d++)c[d]=a.charCodeAt(d)&255;return c},yW:function(a){a=this.Zd(a);this.zk.hasOwnProperty(a)&&delete this.zk[a]},MT:function(a){a=this.Zd(a);var c=this,d=this.Au();d.open("GET",a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","utf-8"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=d.responseText;e&&(c.zk[a]=e)}else p.Ob.d().Fm(a);p.Ob.d().Nh()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dutf-8"),
d.onload=function(){d.responseText?c.zk[a]=d.responseText:p.Ob.d().Fm(a);p.Ob.d().Nh()});d.send(null)},MN:function(a){var c=this.Au();c.open("GET",a,!1);var d=null;/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?c.setRequestHeader("Accept-Charset","utf-8"):c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dutf-8");c.send(null);if(200!=c.status)return null;(d=c.responseText)&&(this.zk[a]=d);return d},wH:function(a){a=this.Zd(a);return this.zk.hasOwnProperty(a)?this.zk[a]:
this.MN(a)},J2:function(){},N8:function(){},yI:!0,K1:function(a){return a},Zd:function(a){var c=!1;a=this.nN(a);for(var d,e=0;e<this.th.length;e++){for(var f=this.th[e],g=0;g<this.no.length;g++)if(d=this.oN(a,this.no[g],f)){c=!0;break}if(c)break}return c?d:a},R6:function(a){var c=this.Zd(a);if(0<c.length){var c=p.Uj.d().parse(c),d=parseInt(c.metadata.version);1!=d?p.log("cocos2d: ERROR: Invalid filenameLookup dictionary version: "+d+". Filename: "+a):this.hV(c.filenames)}},hV:function(a){this.oz=
a},jH:function(a,c){var d;if(a)return d=c.substring(0,c.lastIndexOf("/")+1),d+a;d=c.substring(0,c.lastIndexOf("."));return d+".png"},G$:function(a){this.no=a},r4:function(){return this.no},F$:function(a){this.th=a},p4:function(){return this.th},i4:function(){return this.cN},A$:function(){},Y0:function(a){p.log("dictionaryWithContentsOfFile is deprecated. Use createDictionaryWithContentsOfFile instead");return this.sQ(a)},sQ:function(a){return p.Uj.d().parse(a)},G4:function(a){return this.wH(a)},Uv:function(a){return p.Uj.d().parse(a)},
j5:function(){return""},q$:function(a){p.yI=a},j6:function(){return p.yI},kA:"",j4:function(){return this.kA},B$:function(a){this.kA=a},nN:function(a){var c=null;(c=this.oz?this.oz[a]:null)&&0!==c.length?p.log("FOUND NEW FILE NAME: "+c):c=a;return c},oN:function(a,c,d){var e;e=this.kA;a&&0<a.length&&(0===a.indexOf("/")||0===a.indexOf("\\"))?e="":0<e.length&&"\\"!=e[e.length-1]&&"/"!=e[e.length-1]&&(e+="/");var f=a,g="",h=a.lastIndexOf("/");-1!=h&&(g=a.substr(0,h+1),f=a.substr(h+1));a=d;0<a.length&&
a.lastIndexOf("/")!==a.length-1&&(a+="/");a=a+g+c;0<a.length&&a.lastIndexOf("/")!==a.length-1&&(a+="/");a+=f;return e+=a},d_:function(){},zJ:function(a){var c=!1;this.th=[];for(var d=0;d<a.length;d++){var e=a[d],f;this.XH(e)||(f=this.kq);e=f+e;0<e.length&&"/"!=e[e.length-1]&&(e+="/");c||e!=this.kq||(c=!0);this.th.push(e)}c||this.th.push(this.kq)},Q_:function(a){var c;this.XH(a)||(c=this.kq);a=c+a;0<a.length&&"/"!=a[a.length-1]&&(a+="/");this.th.push(a)},q4:function(){},XH:function(a){return"/"==a[0]}});
p.IC=null;p.nd.d=function(){null==p.IC&&(p.IC=new p.nd);return p.IC};p.nc=function(a,c,d){switch(arguments.length){case 0:this.f=this.g=this.h=0;break;case 1:a&&a instanceof p.nc?(this.h=0|a.h||0,this.g=0|a.g||0,this.f=0|a.f||0):this.f=this.g=this.h=0;break;case 3:this.h=0|a||0;this.g=0|c||0;this.f=0|d||0;break;default:throw"unknown argument type";}};p.i=function(a,c,d){return new p.nc(a,c,d)};p.I5=function(a){a=a||0;var c=new p.nc;c.h=a&255;c.g=a>>8&255;c.f=a>>16&255;return c};p.Nv=p.i;p.s0=function(a,c){return a.h===c.h&&a.g===c.g&&a.f===c.f};
Object.defineProperties(p,{EZ:{get:function(){return p.i(255,255,255)}},HZ:{get:function(){return p.i(255,255,0)}},iX:{get:function(){return p.i(0,0,255)}},XX:{get:function(){return p.i(0,255,0)}},MY:{get:function(){return p.i(255,0,0)}},lY:{get:function(){return p.i(255,0,255)}},gX:{get:function(){return p.i(0,0,0)}},vY:{get:function(){return p.i(255,127,0)}},WX:{get:function(){return p.i(166,166,166)}}});p.mb=function(){return new p.nc(255,255,255)};p.vba=function(){return new p.nc(255,255,0)};
p.blue=function(){return new p.nc(0,0,255)};p.green=function(){return new p.nc(0,255,0)};p.red=function(){return new p.nc(255,0,0)};p.Y6=function(){return new p.nc(255,0,255)};p.j0=function(){return new p.nc(0,0,0)};p.y7=function(){return new p.nc(255,127,0)};p.Uo=function(){return new p.nc(166,166,166)};p.Fb=function(a,c,d,e){this.h=0|a;this.g=0|c;this.f=0|d;this.D=0|e};p.F=function(a,c,d,e){return new p.Fb(a,c,d,e)};p.hB=p.F;p.Fd=function(a,c,d,e){this.h=a;this.g=c;this.f=d;this.D=e};
p.Ov=function(a,c,d,e){return new p.Fd(a,c,d,e)};p.v0=function(a){return new p.Fd(a.h/255,a.g/255,a.f/255,1)};p.w0=function(a){return new p.Fd(a.h/255,a.g/255,a.f/255,a.D/255)};p.t0=function(a){return new p.Fb(0|255*a.h,0|255*a.g,0|255*a.f,0|255*a.D)};p.u0=function(a,c){return a.h==c.h&&a.g==c.g&&a.f==c.f&&a.D==c.D};p.pb=function(a,c){this.x=a||0;this.y=c||0};p.Ut=function(a,c){return new p.pb(a,c)};p.Gc=function(a,c,d){this.x=a||0;this.y=c||0;this.z=d||0};
p.nba=function(a,c,d){return new p.Gc(a,c,d)};p.kc=function(a,c){this.Da=a||0;this.da=c||0};p.Raa=function(a,c){return new p.kc(a,c)};p.HY=function(a,c,d){a||new p.pb(0,0);this.color=c||new p.Fb(0,0,0,0);this.size=d||0};p.xt=function(a,c,d,e){this.Ga=a||new p.pb(0,0);this.Ca=c||new p.pb(0,0);this.za=d||new p.pb(0,0);this.Ia=e||new p.pb(0,0)};p.IY=function(a,c,d,e){this.za=a||new p.Gc(0,0,0);this.Ia=c||new p.Gc(0,0,0);this.Ga=d||new p.Gc(0,0,0);this.Ca=e||new p.Gc(0,0,0)};
p.XK=function(a,c){this.x=a;this.y=c};p.g=function(a,c){return new p.XK(a,c)};p.Kb=function(a,c,d){this.o=a||new p.pb(0,0);this.G=c||new p.Fb(0,0,0,0);this.u=d||new p.kc(0,0)};p.Rt=function(){this.o=new p.pb(0,0);this.G=new p.Fd(0,0,0,0);this.u=new p.kc(0,0)};p.gc=function(a,c,d){this.o=a||new p.Gc(0,0,0);this.G=c||new p.Fb(0,0,0,0);this.u=d||new p.kc(0,0)};p.pc=function(a,c,d){this.D=a||new p.Kb;this.f=c||new p.Kb;this.ra=d||new p.Kb};
p.dM=function(){var a=new p.Kb(new p.pb(0,0),new p.Fb(0,0,0,255),new p.kc(0,0)),c=new p.Kb(new p.pb(0,0),new p.Fb(0,0,0,255),new p.kc(0,0)),d=new p.Kb(new p.pb(0,0),new p.Fb(0,0,0,255),new p.kc(0,0)),e=new p.Kb(new p.pb(0,0),new p.Fb(0,0,0,255),new p.kc(0,0));this.za=a||new p.Kb;this.Ia=c||new p.Kb;this.Ga=d||new p.Kb;this.Ca=e||new p.Kb};p.zZ=function(){return new p.dM};p.Ub=function(a,c,d,e){this.Ga=a||new p.gc;this.za=c||new p.gc;this.Ca=d||new p.gc;this.Ia=e||new p.gc};
p.sy=function(){return new p.Ub(new p.gc(new p.Gc(0,0,0),new p.Fb(0,0,0,255),new p.kc(0,0)),new p.gc(new p.Gc(0,0,0),new p.Fb(0,0,0,255),new p.kc(0,0)),new p.gc(new p.Gc(0,0,0),new p.Fb(0,0,0,255),new p.kc(0,0)),new p.gc(new p.Gc(0,0,0),new p.Fb(0,0,0,255),new p.kc(0,0)))};
p.ry=function(a){return a?new p.Ub(new p.gc(new p.Gc(a.Ga.o.x,a.Ga.o.y,a.Ga.o.z),new p.Fb(a.Ga.G.h,a.Ga.G.g,a.Ga.G.f,a.Ga.G.D),new p.kc(a.Ga.u.Da,a.Ga.u.da)),new p.gc(new p.Gc(a.za.o.x,a.za.o.y,a.za.o.z),new p.Fb(a.za.G.h,a.za.G.g,a.za.G.f,a.za.G.D),new p.kc(a.za.u.Da,a.za.u.da)),new p.gc(new p.Gc(a.Ca.o.x,a.Ca.o.y,a.Ca.o.z),new p.Fb(a.Ca.G.h,a.Ca.G.g,a.Ca.G.f,a.Ca.G.D),new p.kc(a.Ca.u.Da,a.Ca.u.da)),new p.gc(new p.Gc(a.Ia.o.x,a.Ia.o.y,a.Ia.o.z),new p.Fb(a.Ia.G.h,a.Ia.G.g,a.Ia.G.f,a.Ia.G.D),new p.kc(a.Ia.u.Da,
a.Ia.u.da))):p.sy()};p.BZ=function(a){if(!a)return[];for(var c=[],d=0;d<a.length;d++)c.push(p.ry(a[d]));return c};p.AZ=function(a,c,d,e){this.za=a||new p.Rt;this.Ia=c||new p.Rt;this.Ga=d||new p.Rt;this.Ca=e||new p.Rt};p.ml=function(a,c){this.src=a;this.ub=c};p.jX=function(){return new p.ml(1,0)};p.Dk=function(a){var c=a.h.toString(16),d=a.g.toString(16),e=a.f.toString(16);return"#"+(16>a.h?"0"+c:c)+(16>a.g?"0"+d:d)+(16>a.f?"0"+e:e)};
p.wa.Ac&&(p.Fb=function(a,c,d,e,f,g){this.Gb=f||new ArrayBuffer(p.Fb.BYTES_PER_ELEMENT);this.xb=g||0;f=this.Gb;g=this.xb;var h=Uint8Array.BYTES_PER_ELEMENT;this.bA=new Uint8Array(f,g,1);this.vz=new Uint8Array(f,g+h,1);this.Hy=new Uint8Array(f,g+2*h,1);this.zy=new Uint8Array(f,g+3*h,1);this.bA[0]=a||0;this.vz[0]=c||0;this.Hy[0]=d||0;this.zy[0]=e||0},p.Fb.BYTES_PER_ELEMENT=4,Object.defineProperties(p.Fb.prototype,{h:{get:function(){return this.bA[0]},set:function(a){this.bA[0]=a},enumerable:!0},g:{get:function(){return this.vz[0]},
set:function(a){this.vz[0]=a},enumerable:!0},f:{get:function(){return this.Hy[0]},set:function(a){this.Hy[0]=a},enumerable:!0},D:{get:function(){return this.zy[0]},set:function(a){this.zy[0]=a},enumerable:!0}}),p.Fd=function(a,c,d,e,f,g){this.Gb=f||new ArrayBuffer(p.Fd.BYTES_PER_ELEMENT);this.xb=g||0;f=this.Gb;g=this.xb;var h=Float32Array.BYTES_PER_ELEMENT;this.aA=new Float32Array(f,g,1);this.aA[0]=a||0;this.uz=new Float32Array(f,g+h,1);this.uz[0]=c||0;this.Gy=new Float32Array(f,g+2*h,1);this.Gy[0]=
d||0;this.yy=new Float32Array(f,g+3*h,1);this.yy[0]=e||0},p.Fd.BYTES_PER_ELEMENT=16,Object.defineProperties(p.Fd.prototype,{h:{get:function(){return this.aA[0]},set:function(a){this.aA[0]=a},enumerable:!0},g:{get:function(){return this.uz[0]},set:function(a){this.uz[0]=a},enumerable:!0},f:{get:function(){return this.Gy[0]},set:function(a){this.Gy[0]=a},enumerable:!0},D:{get:function(){return this.yy[0]},set:function(a){this.yy[0]=a},enumerable:!0}}),p.pb=function(a,c,d,e){this.Gb=d||new ArrayBuffer(p.pb.BYTES_PER_ELEMENT);
this.xb=e||0;this.jm=new Float32Array(this.Gb,this.xb,1);this.km=new Float32Array(this.Gb,this.xb+4,1);this.jm[0]=a||0;this.km[0]=c||0},p.pb.BYTES_PER_ELEMENT=8,Object.defineProperties(p.pb.prototype,{x:{get:function(){return this.jm[0]},set:function(a){this.jm[0]=a},enumerable:!0},y:{get:function(){return this.km[0]},set:function(a){this.km[0]=a},enumerable:!0}}),p.Gc=function(a,c,d,e,f){this.Gb=e||new ArrayBuffer(p.Gc.BYTES_PER_ELEMENT);this.xb=f||0;e=this.Gb;f=this.xb;this.jm=new Float32Array(e,
f,1);this.jm[0]=a||0;this.km=new Float32Array(e,f+Float32Array.BYTES_PER_ELEMENT,1);this.km[0]=c||0;this.ZA=new Float32Array(e,f+2*Float32Array.BYTES_PER_ELEMENT,1);this.ZA[0]=d||0},p.Gc.BYTES_PER_ELEMENT=12,Object.defineProperties(p.Gc.prototype,{x:{get:function(){return this.jm[0]},set:function(a){this.jm[0]=a},enumerable:!0},y:{get:function(){return this.km[0]},set:function(a){this.km[0]=a},enumerable:!0},z:{get:function(){return this.ZA[0]},set:function(a){this.ZA[0]=a},enumerable:!0}}),p.kc=
function(a,c,d,e){this.Gb=d||new ArrayBuffer(p.kc.BYTES_PER_ELEMENT);this.xb=e||0;this.KA=new Float32Array(this.Gb,this.xb,1);this.SA=new Float32Array(this.Gb,this.xb+4,1);this.KA[0]=a||0;this.SA[0]=c||0},p.kc.BYTES_PER_ELEMENT=8,Object.defineProperties(p.kc.prototype,{Da:{get:function(){return this.KA[0]},set:function(a){this.KA[0]=a},enumerable:!0},da:{get:function(){return this.SA[0]},set:function(a){this.SA[0]=a},enumerable:!0}}),p.xt=function(a,c,d,e,f,g){this.Gb=f||new ArrayBuffer(p.xt.BYTES_PER_ELEMENT);
this.xb=g||0;f=this.Gb;g=p.pb.BYTES_PER_ELEMENT;this.zo=a?new p.pb(a.x,a.y,f,0):new p.pb(0,0,f,0);this.Bo=c?new p.pb(c.x,c.y,f,g):new p.pb(0,0,f,g);this.An=d?new p.pb(d.x,d.y,f,2*g):new p.pb(0,0,f,2*g);this.Cn=e?new p.pb(e.x,e.y,f,3*g):new p.pb(0,0,f,3*g)},p.xt.BYTES_PER_ELEMENT=32,Object.defineProperties(p.xt.prototype,{Ga:{get:function(){return this.zo},set:function(a){this.zo.x=a.x;this.zo.y=a.y},enumerable:!0},Ca:{get:function(){return this.Bo},set:function(a){this.Bo.x=a.x;this.Bo.y=a.y},enumerable:!0},
za:{get:function(){return this.An},set:function(a){this.An.x=a.x;this.An.y=a.y},enumerable:!0},Ia:{get:function(){return this.Cn},set:function(a){this.Cn.x=a.x;this.Cn.y=a.y},enumerable:!0}}),p.gc=function(a,c,d,e,f){this.Gb=e||new ArrayBuffer(p.gc.BYTES_PER_ELEMENT);this.xb=f||0;e=this.Gb;f=this.xb;var g=p.Gc.BYTES_PER_ELEMENT;this.Do=a?new p.Gc(a.x,a.y,a.z,e,f):new p.Gc(0,0,0,e,f);this.gq=c?new p.Fb(c.h,c.g,c.f,c.D,e,f+g):new p.Fb(0,0,0,0,e,f+g);this.$l=d?new p.kc(d.Da,d.da,e,f+g+p.Fb.BYTES_PER_ELEMENT):
new p.kc(0,0,e,f+g+p.Fb.BYTES_PER_ELEMENT)},p.gc.BYTES_PER_ELEMENT=24,Object.defineProperties(p.gc.prototype,{o:{get:function(){return this.Do},set:function(a){var c=this.Do;c.x=a.x;c.y=a.y;c.z=a.z},enumerable:!0},G:{get:function(){return this.gq},set:function(a){var c=this.gq;c.h=a.h;c.g=a.g;c.f=a.f;c.D=a.D},enumerable:!0},u:{get:function(){return this.$l},set:function(a){this.$l.Da=a.Da;this.$l.da=a.da},enumerable:!0}}),p.Ub=function(a,c,d,e,f,g){this.Gb=f||new ArrayBuffer(p.Ub.BYTES_PER_ELEMENT);
this.xb=g||0;f=this.Gb;g=this.xb;var h=p.gc.BYTES_PER_ELEMENT;this.zo=a?new p.gc(a.o,a.G,a.u,f,g):new p.gc(null,null,null,f,g);this.An=c?new p.gc(c.o,c.G,c.u,f,g+h):new p.gc(null,null,null,f,g+h);this.Bo=d?new p.gc(d.o,d.G,d.u,f,g+2*h):new p.gc(null,null,null,f,g+2*h);this.Cn=e?new p.gc(e.o,e.G,e.u,f,g+3*h):new p.gc(null,null,null,f,g+3*h)},p.Ub.BYTES_PER_ELEMENT=96,Object.defineProperties(p.Ub.prototype,{Ga:{get:function(){return this.zo},set:function(a){var c=this.zo;c.o=a.o;c.G=a.G;c.u=a.u},enumerable:!0},
za:{get:function(){return this.An},set:function(a){var c=this.An;c.o=a.o;c.G=a.G;c.u=a.u},enumerable:!0},Ca:{get:function(){return this.Bo},set:function(a){var c=this.Bo;c.o=a.o;c.G=a.G;c.u=a.u},enumerable:!0},Ia:{get:function(){return this.Cn},set:function(a){var c=this.Cn;c.o=a.o;c.G=a.G;c.u=a.u},enumerable:!0},bB:{get:function(){return this.Gb},enumerable:!0}}),p.sy=function(){return new p.Ub},p.ry=function(a){if(!a)return p.sy();var c=a.Ga,d=a.za,e=a.Ca;a=a.Ia;return{Ga:{o:{x:c.o.x,y:c.o.y,z:c.o.z},
G:{h:c.G.h,g:c.G.g,f:c.G.f,D:c.G.D},u:{Da:c.u.Da,da:c.u.da}},za:{o:{x:d.o.x,y:d.o.y,z:d.o.z},G:{h:d.G.h,g:d.G.g,f:d.G.f,D:d.G.D},u:{Da:d.u.Da,da:d.u.da}},Ca:{o:{x:e.o.x,y:e.o.y,z:e.o.z},G:{h:e.G.h,g:e.G.g,f:e.G.f,D:e.G.D},u:{Da:e.u.Da,da:e.u.da}},Ia:{o:{x:a.o.x,y:a.o.y,z:a.o.z},G:{h:a.G.h,g:a.G.g,f:a.G.f,D:a.G.D},u:{Da:a.u.Da,da:a.u.da}}}},p.Kb=function(a,c,d,e,f){this.Gb=e||new ArrayBuffer(p.Kb.BYTES_PER_ELEMENT);this.xb=f||0;e=this.Gb;f=this.xb;var g=p.pb.BYTES_PER_ELEMENT;this.Do=a?new p.pb(a.x,
a.y,e,f):new p.pb(0,0,e,f);this.gq=c?new p.Fb(c.h,c.g,c.f,c.D,e,f+g):new p.Fb(0,0,0,0,e,f+g);this.$l=d?new p.kc(d.Da,d.da,e,f+g+p.Fb.BYTES_PER_ELEMENT):new p.kc(0,0,e,f+g+p.Fb.BYTES_PER_ELEMENT)},p.Kb.BYTES_PER_ELEMENT=20,Object.defineProperties(p.Kb.prototype,{o:{get:function(){return this.Do},set:function(a){this.Do.x=a.x;this.Do.y=a.y},enumerable:!0},G:{get:function(){return this.gq},set:function(a){var c=this.gq;c.h=a.h;c.g=a.g;c.f=a.f;c.D=a.D},enumerable:!0},u:{get:function(){return this.$l},
set:function(a){this.$l.Da=a.Da;this.$l.da=a.da},enumerable:!0}}),p.pc=function(a,c,d,e,f){this.Gb=e||new ArrayBuffer(p.pc.BYTES_PER_ELEMENT);this.xb=f||0;e=this.Gb;f=this.xb;var g=p.Kb.BYTES_PER_ELEMENT;this.HE=a?new p.Kb(a.o,a.G,a.u,e,f):new p.Kb(null,null,null,e,f);this.ME=c?new p.Kb(c.o,c.G,c.u,e,f+g):new p.Kb(null,null,null,e,f+g);this.RE=d?new p.Kb(d.o,d.G,d.u,e,f+2*g):new p.Kb(null,null,null,e,f+2*g)},p.pc.BYTES_PER_ELEMENT=60,Object.defineProperties(p.pc.prototype,{D:{get:function(){return this.HE},
set:function(a){var c=this.HE;c.o=a.o;c.G=a.G;c.u=a.u},enumerable:!0},f:{get:function(){return this.ME},set:function(a){var c=this.ME;c.o=a.o;c.G=a.G;c.u=a.u},enumerable:!0},ra:{get:function(){return this.RE},set:function(a){var c=this.RE;c.o=a.o;c.G=a.G;c.u=a.u},enumerable:!0}}));p.N0=function(a){a=a.substr(1).split("");return new p.nc(parseInt("0x"+a[0]+a[1]),parseInt("0x"+a[2]+a[3]),parseInt("0x"+a[4]+a[5]))};p.Qp=0;p.Ti=1;p.VL=2;p.Vp=0;p.Tt=1;p.Up=2;
p.JZ=p.sa.extend({co:null,Cr:null,vy:0,ctor:function(){this.co={};this.Cr={};this.vy=2<<(0|10*Math.random())},kM:function(){this.vy++;return"key_"+this.vy},zV:function(a,c){if(null!=c){var d=this.kM();this.co[d]=c;this.Cr[d]=a}},bT:function(a){if(null==a)return null;var c=this.co,d;for(d in c)if(c[d]===a)return this.Cr[d];return null},mba:function(a){return this.bT(a)},oU:function(a){if(null!=a){var c=this.co,d;for(d in c)if(c[d]===a){delete this.Cr[d];delete c[d];break}}},G8:function(a){if(null!=
a)for(var c=0;c<a.length;c++)this.oU(a[c])},JP:function(){var a=[],c=this.co,d;for(d in c)a.push(c[d]);return a},z8:function(){this.co={};this.Cr={}},count:function(){return this.JP().length}});p.WK=function(){this.Lr="Arial";this.fontSize=12;this.eH=p.Ti;this.fH=p.Vp;this.gH=p.mb();this.Kr=p.size(0,0);this.fD=!1;this.strokeColor=p.mb();this.XJ=1;this.NJ=!1;this.OJ=p.size(0,0);this.shadowBlur=0;this.PJ=1};p.nn={Hx:0,Ux:1,SHOW_ALL:2,Ix:3,Jx:4,yZ:5};p.Qt=[];p.Rp={};
p.ja=p.sa.extend({Mb:null,ue:null,Qn:null,qk:null,Fe:null,VA:null,UA:"",iA:null,ma:1,BF:1,qa:1,CF:1,Hq:0,xF:5,qh:null,IF:null,MF:null,LF:null,JF:null,KF:null,Kq:!1,VZ:!1,E_:null,hF:null,iF:null,rM:null,w_:!1,Wy:null,o_:null,dj:null,qz:1,Zt:!1,mF:!1,ctor:function(){this.dj=p.Aj.parentNode===document.body?document.documentElement:p.Aj.parentNode;this.ue=p.size(0,0);this.Ez();var a=p.canvas.width,c=p.canvas.height;this.Qn=p.size(a,c);this.qk=p.size(a,c);this.Fe=p.rect(0,0,a,c);this.VA=p.rect(0,0,a,c);
this.Mb=p.P.d().De;this.Wy={left:0,top:0};this.UA="Cocos2dHTML5";p.AE.r(this.Qn);this.IF=new p.pn(p.ug.Ss,p.pe.Hx);this.MF=new p.pn(p.ug.GL,p.pe.SHOW_ALL);this.LF=new p.pn(p.ug.Ss,p.pe.Ux);this.JF=new p.pn(p.ug.Ss,p.pe.Ix);this.KF=new p.pn(p.ug.Ss,p.pe.Jx);this.hF=p.canvas;this.iF=p.O},jA:function(){var a=this.qk.width,c=this.qk.height;this.iA&&(this.Ez(),this.iA.call());0<a&&this.MC(a,c,this.qh)},S8:function(a){a?this.Zt||(this.Zt=!0,a=this.jA.bind(this),window.addEventListener("resize",a,!1)):this.Zt&&
(this.Zt=!0,a=this.jA.bind(this),window.removeEventListener("resize",a,!1))},z$:function(a){if("function"==typeof a||null==a)this.iA=a},Ez:function(){var a=this.ue;a.width=this.dj.clientWidth;a.height=this.dj.clientHeight},SZ:function(){var a=this.qk.width,c=this.qk.height;0<a&&this.MC(a,c,this.qh)},YO:function(){if(this.mF){var a={"user-scalable":"no","maximum-scale":"1.0","initial-scale":"1.0"},c=document.getElementsByName("viewport"),d;0==c.length?(c=document.createElement("meta"),c.name="viewport",
c.content="",document.head.appendChild(c)):c=c[0];d=c.content;for(var e in a)RegExp(e).test(d)||(d+=(""==d?"":",")+e+"\x3d"+a[e]);c.content=d}},RO:function(){var a=p.md();this.qa=this.ma=a},tO:function(){this.ma=this.BF;this.qa=this.CF},qN:function(){var a,c=this.Hq;for(a=0;a<this.xF;a++){if(!(c&1))return this.Hq|=1<<a,a;c>>=1}return-1},pO:function(a){0>a||a>=this.xF||(a=~(1<<a),this.Hq&=a)},TZ:function(){},vS:function(){this.Kq=!0},V_:function(a){this.mF=a},end:function(){},h6:function(){return null!=
this.hF&&null!=this.iF},D9:function(a){this.qz=a;p.P.d().Ww(p.P.d().uk)},Faa:function(){},H9:function(){},o9:function(a,c){this.Wy={left:a,top:c}},q2:function(){return this.Wy},cw:function(){return p.size(this.ue.width,this.ue.height)},C9:function(a,c){this.ue.width=a;this.ue.height=c;this.dj.style.width=a+"px";this.dj.style.height=c+"px";this.jA();p.P.d().Ww(p.P.d().uk)},B0:function(){},a9:function(a){this.rM=a},Ur:function(){return this.VA.Qa},DH:function(){return this.VA.Sc},x0:function(){return!0},
h4:function(){return this.qh},NV:function(a){if(a instanceof p.pn)this.qh=a;else switch(a){case p.nn.Hx:this.qh=this.IF;break;case p.nn.SHOW_ALL:this.qh=this.MF;break;case p.nn.Ux:this.qh=this.LF;break;case p.nn.Ix:this.qh=this.JF;break;case p.nn.Jx:this.qh=this.KF}},MC:function(a,c,d){if(isNaN(a)||0==a||isNaN(c)||0==c)p.log("Resolution not valid");else if(this.NV(d),policy=this.qh){policy.Im(this);var e=this.ue.width,f=this.ue.height;p.wa.Gj&&this.YO(this.ue.width,this.ue.height);this.Ez();if(d!=
this.qh||a!=this.qk.width||c!=this.qk.height||e!=this.ue.width||f!=this.ue.height)this.Qn=p.size(a,c),this.qk=p.size(a,c),a=policy.apply(this,this.Qn),a.scale&&2==a.scale.length&&(this.ma=a.scale[0],this.qa=a.scale[1]),a.viewport instanceof p.Pf&&(this.Fe=a.viewport),a=p.P.d(),a.Hb=this.Qo(),p.kd==p.Xj&&(a.On(),a.nJ()),this.BF=this.ma,this.CF=this.qa,p.$b&&p.$b.rO(),p.AE.r(this.Ur()),policy.Hm(this)}else p.log("should set resolutionPolicy")},Qo:function(){return p.size(this.Qn.width,this.Qn.height)},
W$:function(a){this.Mb=a},XV:function(a,c,d,e){var f=this.qz,g=this.ma,h=this.qa;p.O.viewport(a*g*f+this.Fe.x*f,c*h*f+this.Fe.y*f,d*g*f,e*h*f)},RC:function(a,c,d,e){var f=this.qz,g=this.ma,h=this.qa;p.O.scissor(a*g*f+this.Fe.x*f,c*h*f+this.Fe.y*f,d*g*f,e*h*f)},GS:function(){var a=p.O;return a.isEnabled(a.SCISSOR_TEST)},ER:function(){var a=p.O,c=this.ma,d=this.qa,a=a.getParameter(a.SCISSOR_BOX);return p.rect((a[0]-this.Fe.x)/c,(a[1]-this.Fe.y)/d,a[2]/c,a[3]/d)},faa:function(a){null!=a&&0<a.length&&
(this.UA=a)},e5:function(){return this.UA},f5:function(){return this.Fe},CR:function(){return this.ma},DR:function(){return this.qa},Bj:function(a,c,d){return{x:a-d.left,y:d.top+d.height-c}},WR:function(a,c,d,e){for(var f=[],g=this.Fe,h=this.ma,k=this.qa,l=0;l<a;++l){var m=c[l],n=d[l],s=e[l],q=0;if(null==p.Rp[m])if(q=this.qN(),-1==q)p.log("The touches is more than MAX_TOUCHES, nUnusedIndex \x3d "+q);else{var v=p.Qt[q]=new p.Re;v.WC(q,(n-g.x)/h,(s-g.y)/k);p.Rp[m]=0|q;f.push(v)}}0!=f.length&&this.Mb.kx(f,
null)},ZR:function(a,c,d,e){for(var f=[],g=this.ma,h=this.qa,k=this.Fe.x,l=this.Fe.y,m=0;m<a;++m){var n=d[m],s=e[m],q=p.Rp[c[m]];if(null!=q){var v=p.Qt[q];if(v)v.WC(q,(n-k)/g,(s-l)/h),f.push(v);else return}}0!=f.length&&this.Mb.lx(f,null)},YR:function(a,c,d,e){var f=[];this.uH(f,a,c,d,e);this.Mb.Bs(f,null)},XR:function(a,c,d,e){var f=[];this.uH(f,a,c,d,e);this.Mb.hD(f,null)},uH:function(a,c,d,e,f){for(var g=this.ma,h=this.qa,k=this.Fe,l=0;l<c;++l){var m=d[l],n=e[l],s=f[l],q=p.Rp[m];if(null!=q){var v=
p.Qt[q];if(v)v.WC(q,(n-k.x)/g,(s-k.y)/h),a.push(v),p.Qt[q]=null,this.pO(q),delete p.Rp[m];else break}}},kx:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.qf||h,d[f]=g.Q.x,e[f]=g.Q.y,++f;this.WR(f,c,d,e)},lx:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.qf||h,d[f]=g.Q.x,e[f]=g.Q.y,++f;this.ZR(f,c,d,e)},Bs:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.qf||h,d[f]=g.Q.x,e[f]=g.Q.y,++f;this.YR(f,c,d,e)},hD:function(a){for(var c=
[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.qf||h,d[f]=g.Q.x,e[f]=g.Q.y,++f;this.XR(f,c,d,e)}});p.ja.d=function(){this.wb||(this.wb=new p.ja,this.wb.vS());return this.wb};
p.ug=p.sa.extend({Im:function(){},apply:function(){},Hm:function(){},TF:function(a,c,d){p.wa.Gj&&a==document.documentElement&&p.fy.d().QP(p.canvas);a=p.canvas;var e=p.Aj;a.width=c;a.height=d;e.style.width=c+"px";e.style.height=d+"px";c=document.body;var f;c&&(f=c.style)&&(f.paddingTop=f.paddingTop||"0px",f.paddingRight=f.paddingRight||"0px",f.paddingBottom=f.paddingBottom||"0px",f.paddingLeft=f.paddingLeft||"0px",f.borderTop=f.borderTop||"0px",f.borderRight=f.borderRight||"0px",f.borderBottom=f.borderBottom||
"0px",f.borderLeft=f.borderLeft||"0px",f.marginTop=f.marginTop||"0px",f.marginRight=f.marginRight||"0px",f.marginBottom=f.marginBottom||"0px",f.marginLeft=f.marginLeft||"0px")},bF:function(){document.body.insertBefore(p.Aj,document.body.firstChild);var a=document.body.style;a.width=window.innerWidth+"px";a.height=window.innerHeight+"px";a.overflow="hidden";a=p.Aj.style;a.position="fixed";a.left=a.top="0px";document.body.scrollTop=0}});
p.pe=p.sa.extend({lA:{scale:[1,1],viewport:null},dq:function(a,c,d,e,f,g){a=p.rect(Math.round((a-d)/2),Math.round((c-e)/2),d,e);p.kd==p.Mf&&p.O.translate(a.x,a.y+e);this.lA.scale=[f,g];this.lA.viewport=a;return this.lA},Im:function(){},apply:function(){return{scale:[1,1]}},Hm:function(){}});
(function(){var a=p.ug.extend({apply:function(a){this.TF(a.dj,a.ue.width,a.ue.height)}}),c=p.ug.extend({apply:function(a,c){var d=a.ue.width,e=a.ue.height,f=p.Aj.style,n=c.width,s=c.height,q=d/n,v=e/s,z,B;q<v?(z=d,B=s*q):(z=n*v,B=e);n=Math.floor((d-z)/2);B=Math.floor((e-B)/2);this.TF(a.dj,d-2*n,e-2*B);f.marginLeft=n+"px";f.marginRight=n+"px";f.marginTop=B+"px";f.marginBottom=B+"px"}});a.extend({Im:function(a){a.dj=document.documentElement},apply:function(a){this._super(a);this.bF()}});c.extend({Im:function(a){a.dj=
document.documentElement},apply:function(a,c){this._super(a,c);this.bF()}});var d=p.ug.extend({});p.ug.Ss=new a;p.ug.GL=new c;p.ug.AY=new d;var a=p.pe.extend({apply:function(a,c){var d=p.canvas.width,e=p.canvas.height;return this.dq(d,e,d,e,d/c.width,e/c.height)}}),c=p.pe.extend({apply:function(a,c){var d=p.canvas.width,e=p.canvas.height,f=c.width,n=c.height,s=d/f,q=e/n,v,z,B;s<q?(v=s,z=d,B=n*v):(v=q,z=f*v,B=e);return this.dq(d,e,z,B,v,v)}}),d=p.pe.extend({apply:function(a,c){var d=p.canvas.width,
e=p.canvas.height,f=c.width,n=c.height,s=d/f,q=e/n,v,z,B;s<q?(v=q,z=f*v,B=e):(v=s,z=d,B=n*v);return this.dq(d,e,z,B,v,v)}}),e=p.pe.extend({apply:function(a,c){var d=p.canvas.width,e=p.canvas.height,f=e/c.height;return this.dq(d,e,d,e,f,f)},Hm:function(a){p.P.d().Hb=a.Ur()}}),f=p.pe.extend({apply:function(a,c){var d=p.canvas.width,e=p.canvas.height,f=d/c.width;return this.dq(d,e,d,e,f,f)},Hm:function(a){p.P.d().Hb=a.Ur()}});p.pe.Hx=new a;p.pe.SHOW_ALL=new c;p.pe.Ux=new d;p.pe.Ix=new e;p.pe.Jx=new f})();
p.pn=p.sa.extend({mu:null,nu:null,ctor:function(a,c){this.YU(a);this.aV(c)},Im:function(a){this.mu.Im(a);this.nu.Im(a)},apply:function(a,c){this.mu.apply(a,c);return this.nu.apply(a,c)},Hm:function(a){this.mu.Hm(a);this.nu.Hm(a)},YU:function(a){a instanceof p.ug&&(this.mu=a)},aV:function(a){a instanceof p.pe&&(this.nu=a)}});p.fy=p.sa.extend({mr:!1,bk:"",Wz:null,Xz:null,JA:"",r:function(){var a=["webkit","moz","o","ms","khtml"],c=document.body;if(c.requestFullScreen)this.mr=!0;else for(var d=0,e=a.length,f;d<e;d++)if(f=a[d],c[f+"RequestFullScreen"]){this.mr=!0;this.bk=f;break}this.JA="ontouchstart"in window?"touchstart":"mousedown"},fullScreen:function(){var a=document;if(this.mr)switch(this.bk){case "":return a.fullScreen;case "webkit":return a.webkitIsFullScreen;default:return a[this.bk+"FullScreen"]}return!1},QI:function(a,
c){if(this.mr&&!this.fullScreen()){if(c){var d=this.bk+"fullscreenchange";this.Wz&&this.Xz&&this.Wz.removeEventListener(d,this.Xz);this.Wz=a;this.Xz=c;a.addEventListener(d,c,!1)}return""===this.bk?a.requestFullScreen():a[this.bk+"RequestFullScreen"]()}},p1:function(){if(this.mr&&this.fullScreen())return""===this.bk?document.body.cancelFullScreen():document.body[this.bk+"CancelFullScreen"]()},QP:function(a,c){function d(){e.QI(a,c);a.removeEventListener(e.JA,d)}var e=this;this.QI(a,c);a.addEventListener(this.JA,
d)}});p.fy.d=function(){if(!this.wb){var a=new p.fy;a.r();this.wb=a}return this.wb};p.AE={wh:p.cd(),Ng:p.cd(),vh:p.cd(),bi:p.cd(),ci:p.cd(),ai:p.cd(),Oy:p.cd(),mi:p.cd(),rh:p.cd(),xa:0,ka:0,r:function(a){this.xa=a.width;this.ka=a.height;a=this.xa;var c=this.ka;this.wh.I=c;this.Ng.C=a;this.Ng.I=c;this.vh.C=a/2;this.vh.I=c;this.ci.C=a;this.ai.C=a/2;this.Oy.C=a/2;this.Oy.I=c/2;this.mi.I=c/2;this.rh.C=a;this.rh.I=c/2},Vr:function(){return this.xa},Pr:function(){return this.ka},Waa:function(){return this.wh},Xaa:function(){return this.Ng},top:function(){return this.vh},l0:function(){return this.bi},
m0:function(){return this.ci},bottom:function(){return this.ai},A0:function(){return this.Oy},left:function(){return this.mi},right:function(){return this.rh}};p.gx=function(a){var c;if(a&&0!=a.length){var d=a.indexOf("{"),e=a.indexOf("}");-1==d||-1==e||d>e||(a=a.substr(d+1,e-d-1),0!=a.length&&(d=a.indexOf("{"),e=a.indexOf("}"),-1==d&&-1==e&&(c=a.split(","))))}return c};
p.jE=function(a){var c=p.Pc();if(a){var d=a.indexOf("{")+1,e=a.lastIndexOf("}",a.length);-1!=d&&-1!=e&&(a=a.substring(d,e),d=a.indexOf("}"),-1!=d&&(d=a.indexOf(",",d),-1!=d&&(c=a.substr(d+1,a.length-d),a=p.gx(a.substr(0,d)),c=p.gx(c),c=p.rect(parseFloat(a[0]),parseFloat(a[1]),parseFloat(c[0]),parseFloat(c[1])))))}return c};p.iE=function(a){var c=p.Qi();try{if(""==a)return c;var d=p.gx(a),c=p.a(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};
p.gy=function(a){var c=p.rl();try{if(""==a)return c;var d=p.gx(a),c=p.size(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};p.XW=function(a,c,d,e,f,g){this.D=a;this.f=c;this.ra=d;this.Aa=e;this.Ma=f;this.Na=g};p.LZ=function(a,c,d,e,f,g){return{D:a,f:c,ra:d,Aa:e,Ma:f,Na:g}};p.$W=function(a,c,d,e,f,g){return{D:a,f:c,ra:d,Aa:e,Ma:f,Na:g}};p.MZ=function(a,c){return{x:c.D*a.x+c.ra*a.y+c.Ma,y:c.f*a.x+c.Aa*a.y+c.Na}};p.hE=function(a,c){return{x:c.D*a.x+c.ra*a.y+c.Ma,y:c.f*a.x+c.Aa*a.y+c.Na}};p.Zj=function(a,c,d){return{x:d.D*a+d.ra*c+d.Ma,y:d.f*a+d.Aa*c+d.Na}};
p.NZ=function(a,c){return{width:c.D*a.width+c.ra*a.height,height:c.f*a.width+c.Aa*a.height}};p.jZ=function(a,c){return{width:c.D*a.width+c.ra*a.height,height:c.f*a.width+c.Aa*a.height}};p.aX=function(){return{D:1,f:0,ra:0,Aa:1,Ma:0,Na:0}};p.ZW=function(){return{D:1,f:0,ra:0,Aa:1,Ma:0,Na:0}};
p.xg=function(a,c){var d=p.Xk(a),e=p.Wk(a),f=p.Lm(a),g=p.Mm(a),h=p.Zj(e,d,c),d=p.Zj(f,d,c),e=p.Zj(e,g,c),k=p.Zj(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);return p.rect(f,l,g-f,h-l)};
p.Xh=function(a,c){var d=p.Xk(a),e=p.Wk(a),f=p.Lm(a),g=p.Mm(a),h=p.Zj(e,d,c),d=p.Zj(f,d,c),e=p.Zj(e,g,c),k=p.Zj(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);a.x=f;a.y=l;a.width=g-f;a.height=h-l;return a};p.sx=function(a,c,d){return{D:a.D,f:a.f,ra:a.ra,Aa:a.Aa,Ma:a.Ma+a.D*c+a.ra*d,Na:a.Na+a.f*c+a.Aa*d}};p.bX=function(a,c,d){return{D:a.D*c,f:a.f*c,ra:a.ra*d,Aa:a.Aa*d,Ma:a.Ma,Na:a.Na}};
p.wK=function(a){var c=Math.sin(1.57079633),d=Math.cos(1.57079633);return{D:a.D*d+a.ra*c,f:a.f*d+a.Aa*c,ra:a.ra*d-a.D*c,Aa:a.Aa*d-a.f*c,Ma:a.Ma,Na:a.Na}};p.il=function(a,c){return{D:a.D*c.D+a.f*c.ra,f:a.D*c.f+a.f*c.Aa,ra:a.ra*c.D+a.Aa*c.ra,Aa:a.ra*c.f+a.Aa*c.Aa,Ma:a.Ma*c.D+a.Na*c.ra+c.Ma,Na:a.Ma*c.f+a.Na*c.Aa+c.Na}};p.YW=function(a,c){return a.D===c.D&&a.f===c.f&&a.ra===c.ra&&a.Aa===c.Aa&&a.Ma===c.Ma&&a.Na===c.Na};
p.sD=function(a){var c=1/(a.D*a.Aa-a.f*a.ra);return{D:c*a.Aa,f:-c*a.f,ra:-c*a.ra,Aa:c*a.D,Ma:c*(a.ra*a.Na-a.Aa*a.Ma),Na:c*(a.f*a.Ma-a.D*a.Na)}};p.YD=parseFloat("1.192092896e-07F");p.qC=function(a){return p.a(-a.x,-a.y)};p.Hf=function(a,c){return p.a(a.x+c.x,a.y+c.y)};p.jd=function(a,c){return p.a(a.x-c.x,a.y-c.y)};p.Fi=function(a,c){return p.a(a.x*c,a.y*c)};p.pC=function(a,c){return p.Fi(p.Hf(a,c),0.5)};p.kp=function(a,c){return a.x*c.x+a.y*c.y};p.F7=function(a,c){return a.x*c.y-a.y*c.x};p.yw=function(a){return p.a(-a.y,a.x)};p.N7=function(a){return p.a(a.y,-a.x)};p.M7=function(a,c){return p.Fi(c,p.kp(a,c)/p.kp(c,c))};
p.O7=function(a,c){return p.a(a.x*c.x-a.y*c.y,a.x*c.y+a.y*c.x)};p.T7=function(a,c){return p.a(a.x*c.x+a.y*c.y,a.y*c.x-a.x*c.y)};p.uI=function(a){return p.kp(a,a)};p.G7=function(a,c){return p.uI(p.jd(a,c))};p.nC=function(a){return Math.sqrt(p.uI(a))};p.mC=function(a,c){return p.nC(p.jd(a,c))};p.$g=function(a){return p.Fi(a,1/p.nC(a))};p.H7=function(a){return p.a(Math.cos(a),Math.sin(a))};p.S7=function(a){return Math.atan2(a.y,a.x)};p.Gr=function(a,c,d){if(c>d){var e=c;c=d;d=e}return a<c?c:a<d?a:d};
p.tI=function(a){var c=p.a(0,0),d=p.a(1,1);return p.a(p.Gr(a.x,c.x,d.x),p.Gr(a.y,c.y,d.y))};p.uT=function(){var a=p.P.d().Hb;return p.a(a.width,a.height)};p.E7=function(a,c){return p.a(c(a.x),c(a.y))};p.vI=function(a,c,d){return p.Hf(p.Fi(a,1-d),p.Fi(c,d))};p.I7=function(a,c,d){return a.x-d<=c.x&&c.x<=a.x+d&&a.y-d<=c.y&&c.y<=a.y+d?!0:!1};p.D7=function(a,c){return p.a(a.x*c.x,a.y*c.y)};p.C7=function(a,c){var d=p.$g(a),e=p.$g(c),d=Math.atan2(d.x*e.y-d.y*e.x,p.kp(d,e));return Math.abs(d)<p.YD?0:d};
p.B7=function(a,c){var d=Math.acos(p.kp(p.$g(a),p.$g(c)));return Math.abs(d)<p.YD?0:d};p.wT=function(a,c,d){a=p.jd(a,c);var e=Math.cos(d);d=Math.sin(d);var f=a.x;a.x=f*e-a.y*d+c.x;a.y=f*d+a.y*e+c.y;return a};p.oC=function(a,c,d,e,f){if(a.x==c.x&&a.y==c.y||d.x==e.x&&d.y==e.y)return!1;var g=c.x-a.x;c=c.y-a.y;var h=e.x-d.x;e=e.y-d.y;var k=a.x-d.x;a=a.y-d.y;d=e*g-h*c;f.x=h*a-e*k;f.y=g*a-c*k;if(0==d)return 0==f.x||0==f.y?!0:!1;f.x/=d;f.y/=d;return!0};
p.Q7=function(a,c,d,e){var f=p.a(0,0);return p.oC(a,c,d,e,f)&&0<=f.x&&1>=f.x&&0<=f.y&&1>=f.y?!0:!1};p.K7=function(a,c,d,e){var f=p.a(0,0);return p.oC(a,c,d,e,f)?(d=p.a(0,0),d.x=a.x+f.x*(c.x-a.x),d.y=a.y+f.x*(c.y-a.y),d):p.Qi()};p.P7=function(a,c){return null!=a&&null!=c?a.x==c.x&&a.y==c.y:!1};p.U7=function(a){a.x=0;a.y=0};p.J7=function(a,c){a.x=c.x;a.y=c.y};p.vT=function(a,c){a.x*=c;a.y*=c};p.R7=function(a,c){a.x-=c.x;a.y-=c.y};p.A7=function(a,c){a.x+=c.x;a.y+=c.y};
p.L7=function(a){p.vT(a,1/Math.sqrt(a.x*a.x+a.y*a.y))};p.oba=function(a,c,d,e,f){f+=e;if(!(1>=f)){c*=0.5;for(var g,h=f-1,k=e;k<f;k++){g=2*k;var l=p.a(a[2*k],a[2*k+1]),m;if(0===k)m=p.yw(p.$g(p.jd(l,p.a(a[2*(k+1)],a[2*(k+1)+1]))));else if(k===h)m=p.yw(p.$g(p.jd(p.a(a[2*(k-1)],a[2*(k-1)+1]),l)));else{m=p.a(a[2*(k-1)],a[2*(k-1)+1]);var n=p.a(a[2*(k+1)],a[2*(k+1)+1]),s=p.$g(p.jd(n,l)),q=p.$g(p.jd(m,l)),v=Math.acos(p.kp(s,q));m=v<p.Oi(70)?p.yw(p.$g(p.pC(s,q))):v<p.Oi(170)?p.$g(p.pC(s,q)):p.yw(p.$g(p.jd(n,m)))}m=p.Fi(m,c);d[2*g]=l.x+m.x;d[2*g+1]=l.y+m.y;d[2*
(g+1)]=l.x-m.x;d[2*(g+1)+1]=l.y-m.y}for(k=0==e?0:e-1;k<h;k++)g=2*k,a=g+2,c=p.Ut(d[2*g],d[2*g+1]),f=p.Ut(d[2*(g+1)],d[2*(g+1)+1]),g=p.Ut(d[2*a],d[2*a]),e=p.Ut(d[2*(a+1)],d[2*(a+1)+1]),c=!p.GW(c.x,c.y,e.x,e.y,f.x,f.y,g.x,g.y),!c.bs&&(0>c.value||1<c.value)&&(c.bs=!0),c.bs&&(d[2*a]=e.x,d[2*a+1]=e.y,d[2*(a+1)]=g.x,d[2*(a+1)+1]=g.y)}};
p.GW=function(a,c,d,e,f,g,h,k){if(a==d&&c==e||f==h&&g==k)return{bs:!1,value:0};d-=a;e-=c;f-=a;g-=c;h-=a;k-=c;a=Math.sqrt(d*d+e*e);d/=a;e/=a;c=f*d+g*e;g=g*d-f*e;f=c;c=h*d+k*e;k=k*d-h*e;h=c;return g==k?{bs:!1,value:0}:{bs:!0,value:(h+(f-h)*k/(k-g))/a}};p.kX=function(a,c){c[2]=c[3]=c[6]=c[7]=c[8]=c[9]=c[11]=c[14]=0;c[10]=c[15]=1;c[0]=a.D;c[4]=a.ra;c[12]=a.Ma;c[1]=a.f;c[5]=a.Aa;c[13]=a.Na};p.VX=function(a,c){c.D=a[0];c.ra=a[4];c.Ma=a[12];c.f=a[1];c.Aa=a[5];c.Na=a[13]};p.WD=-1;p.tY=null;p.uY=null;p.EU=1;
p.H=p.sa.extend({Ua:0,Jv:0,ag:0,sh:0,ma:1,qa:1,n:null,Sd:0,Td:0,p:null,pa:!0,jh:null,pd:null,la:null,ye:!1,Y:null,lk:!1,Wc:p.WD,pG:null,QA:null,vj:!0,Gu:!0,SE:!0,A_:null,uj:null,lF:null,Rd:!1,tc:null,tf:0,Ag:null,bg:null,kF:!1,Yp:!1,au:null,fi:null,Iz:!1,Rl:0,$q:0,Fz:function(){this.jh=p.cd();this.pd=p.cd();this.la=p.Vl();this.n=p.cd();this.p=[];this.uj={D:1,f:0,ra:0,Aa:1,Ma:0,Na:0};var a=p.P.d();this.Ag=a.fg();this.bg=a.df();this.kF=!0;this.au={D:1,f:0,ra:0,Aa:1,Ma:0,Na:0};p.FK&&(this.fi=new p.FK(this))},
r:function(){!1===this.kF&&this.Fz();return!0},Sf:function(a,c){if(a&&0!==a.length){var d,e=a.length,f;d=p.H.of;switch(c){case d.ng:for(d=0;d<e;d++)(f=a[d])&&f.ng();break;case d.xd:for(d=0;d<e;d++)(f=a[d])&&f.xd();break;case d.Lh:for(d=0;d<e;d++)(f=a[d])&&f.Lh();break;case d.Bf:for(d=0;d<e;d++)(f=a[d])&&f.Bf();break;case d.Kf:for(d=0;d<e;d++)(f=a[d])&&f.Kf();break;case d.Zg:for(d=0;d<e;d++)(f=a[d])&&f.Zg();break;case d.Ad:for(d=0;d<e;d++)(f=a[d])&&f.Ad();break;default:throw"Unknown callback function";
}}},Ka:null,JO:function(){this.Tl();!1===this.vj&&(this.vj=this.Gu=!0)},KO:function(){!1===this.vj&&(this.vj=this.Gu=!0)},v4:function(){return this.Sd},bx:function(a){this.Sd=a;this.Ka()},w4:function(){return this.Td},cx:function(a){this.Td=a;this.Ka()},l5:function(){return this.Ua},lv:function(a){this.Ua=a},haa:function(a){this.lv(a);this.Y&&this.Y.os(this,a)},b5:function(){return this.Jv},GJ:function(a){this.Jv=a},BR:function(){this.ag!==this.sh&&p.log("cc.Node.rotation(): RotationX !\x3d RotationY. Don't know which one to return");
return this.ag},Yw:function(a){this.ag=this.sh=a;this.Rl=0.017453292519943295*this.ag;this.$q=0.017453292519943295*this.sh;this.Ka()},l4:function(){return this.ag},Zw:function(a){this.ag=a;this.Rl=0.017453292519943295*this.ag;this.Ka()},m4:function(){return this.sh},$w:function(a){this.sh=a;this.$q=0.017453292519943295*this.sh;this.Ka()},FB:function(){this.ma!==this.qa&&p.log("cc.Node.getScale(): ScaleX !\x3d ScaleY. Don't know which one to return");return this.ma},Mj:function(a,c){this.ma=a;this.qa=
c||0===c?c:a;this.Ka()},CR:function(){return this.ma},rp:function(a){this.ma=a;this.Ka()},DR:function(){return this.qa},Vm:function(a){this.qa=a;this.Ka()},q:function(a,c){var d=this.n;2==arguments.length?(d.C=a,d.I=c):1==arguments.length&&(d.C=a.x,d.I=a.y);this.Ka()},V3:function(){return this.n},W3:function(){return this.n.C},Db:function(a){this.n.C=a;this.Ka()},X3:function(){return this.n.I},Rh:function(a){this.n.I=a;this.Ka()},i2:function(){return this.p.length},h2:function(){return this.p},cI:function(){return this.pa},
v:function(a){this.pa=a;this.Ka()},Q1:function(){return this.jh},X:function(a,c){var d=this.jh;if(2===arguments.length){if(a===d.C&&c===d.I)return;d.C=a;d.I=c}else{if(a.x===d.C&&a.y===d.I)return;d.C=a.x;d.I=a.y}var e=this.pd,f=this.la;e.C=f.xa*d.C;e.I=f.ka*d.I;this.Ka()},R1:function(){return this.pd},e:function(){return this.la},$:function(a,c){var d=this.la;if(2===arguments.length){if(a===d.xa&&c===d.ka)return;d.xa=a;d.ka=c}else{if(a.width===d.xa&&a.height===d.ka)return;d.xa=a.width;d.ka=a.height}var e=
this.pd,f=this.jh;e.C=d.xa*f.C;e.I=d.ka*f.I;this.Ka()},p6:function(){return this.ye},getParent:function(){return this.Y},us:function(a){this.Y=a},a6:function(){return this.lk},Ci:function(a){a!=this.lk&&(this.lk=a,this.Ka())},KR:function(){return this.Wc},CJ:function(a){this.Wc=a},getUserData:function(){return this.pG},setUserData:function(a){this.pG=a},Z4:function(){return this.QA},aaa:function(a){this.QA!=a&&(this.QA=a)},L3:function(){return this.tf},qp:function(a){this.tf=a},fg:function(){this.Ag||
(this.Ag=p.P.d().fg());return this.Ag},OU:function(a){this.Ag!=a&&(this.dD(),this.Ag=a)},df:function(){this.bg||(this.bg=p.P.d().df());return this.bg},OV:function(a){this.bg!=a&&(this.Cs(),this.bg=a)},Sa:function(){var a=p.rect(0,0,this.la.xa,this.la.ka);return p.Xh(a,this.Gf())},Bf:function(){this.dD();this.Cs();this.Sf(this.p,p.H.of.Bf)},description:function(){return"\x3ccc.Node | Tag \x3d"+this.Wc+"\x3e"},cR:function(a){var c=this.p;if(null!=c)for(var d=0;d<c.length;d++){var e=c[d];if(e&&e.Wc==
a)return e}return null},m:function(a,c,d){if(!a)throw"cc.Node.addChild(): child must be non-null";a===this?p.log("cc.Node.addChild(): An Node can't be added as a child of itself."):null!==a.Y?p.log("cc.Node.addChild(): child already added. It can't be added again"):(c=null!=c?c:a.Ua,a.Wc=null!=d?d:a.Wc,this.DN(a,c),a.Y=this,this.ye&&(a.ng(),this.Iz&&a.Lh()))},R:function(a){this.Y&&(null==a&&(a=!0),this.Y.removeChild(this,a))},mU:function(a){p.log("removeFromParentAndCleanup is deprecated. Use removeFromParent instead");
this.R(a)},removeChild:function(a,c){0!==this.p.length&&(null==c&&(c=!0),-1<this.p.indexOf(a)&&this.bN(a,c),this.Ka())},E8:function(a,c){a===p.WD&&p.log("cc.Node.removeChildByTag(): argument tag is an invalid tag");var d=this.cR(a);null==d?p.log("cocos2d: removeChildByTag(tag \x3d "+a+"): child not found!"):this.removeChild(d,c)},w8:function(a){p.log("removeAllChildrenWithCleanup is deprecated. Use removeAllChildren instead");this.Ie(a)},Ie:function(a){var c=this.p;if(null!=c){null==a&&(a=!0);for(var d=
0;d<c.length;d++){var e=c[d];e&&(this.ye&&(e.Zg(),e.xd()),a&&e.Bf(),e.us(null))}this.p.length=0}},bN:function(a,c){this.ye&&(a.Zg(),a.xd());c&&a.Bf();a.us(null);p.Dd(this.p,a)},DN:function(a,c){this.Rd=!0;this.p.push(a);a.lv(c)},os:function(a,c){if(!a)throw"cc.Node.reorderChild(): child must be non-null";this.Rd=!0;a.qp(p.EU++);a.lv(c);this.Ka()},Ad:function(){if(this.Rd){var a=this.p,c,d,e=a.length,f;for(c=0;c<e;c++){var g=a[c];d=c-1;for(f=a[d];0<=d&&(g.Ua<f.Ua||g.Ua==f.Ua&&g.tf<f.tf);)a[d+1]=f,
d-=1,f=a[d];a[d+1]=g}this.Rd=!1}},Ja:function(){},mx:function(){null!=this.Y&&(this.Y.mx(),this.Y.transform())},ng:function(){this.Iz=!1;this.ye=!0;this.Sf(this.p,p.H.of.ng);this.Kw()},Lh:function(){this.Iz=!0;this.Sf(this.p,p.H.of.Lh)},Zg:function(){this.Sf(this.p,p.H.of.Zg)},xd:function(){this.ye=!1;this.Aw();this.Sf(this.p,p.H.of.xd);this.fi&&this.fi.hU()},Lw:function(a){if(!a)throw"cc.Node.runAction(): action must be non-null";this.fg().BP(a,this,!this.ye);return a},dD:function(){this.fg().LI(this)},
oW:function(a){this.fg().KI(a)},xaa:function(a){a===p.en?p.log("cc.Node.stopActionBy(): argument tag an invalid tag"):this.fg().gU(a,this)},xB:function(a){return a===p.en?(p.log("cc.Node.getActionByTag(): argument tag is an invalid tag"),null):this.fg().xB(a,this)},x3:function(){return this.fg().aT(this)},GU:function(){this.HU(0)},HU:function(a){this.df().VI(this,a,!this.ye)},bba:function(){this.df().zp(this)},zc:function(a,c,d,e){c=c||0;if(!a)throw"cc.Node.schedule(): callback function must be non-null";
if(0>c)throw"cc.Node.schedule(): interval must be positive";d=null==d?p.ql:d;e=e||0;this.df().FU(this,a,c,d,e,!this.ye)},Lc:function(a,c){this.zc(a,0,0,c)},Cd:function(a){a&&this.df().eK(this,a)},Cs:function(){this.df().dK(this)},Kw:function(){this.df().Om(this);this.fg().Om(this)},Aw:function(){this.df().ms(this);this.fg().ms(this)},b9:function(a){this.au=a;this.Yp=this.vj=!0},X7:function(){this.Gu&&(this.lF=p.sD(this.Gf()),this.Gu=!1);return this.lF},js:function(){for(var a=this.Gf(),c=this.Y;null!=
c;c=c.getParent())a=p.il(a,c.Gf());return a},JW:function(){return p.sD(this.js())},Ra:function(a){return p.hE(a,this.JW())},Ek:function(a){return p.hE(a,this.js())},qQ:function(a){return p.jd(this.Ra(a),this.pd)},O0:function(a){a=p.Hf(a,this.pd);return this.Ek(a)},WZ:function(a){a=this.Ek(a);return p.P.d().rQ(a)},Ch:function(a){return this.Ra(a.Q)},P0:function(a){a=a.Q;a=p.P.d().pQ(a);return this.qQ(a)},update:function(a){this.fi&&!this.fi.W5()&&this.fi.ia(a)},Kf:function(){this.Sf(this.p,p.H.of.Kf)},
SI:function(){},AC:function(){},dR:function(a){return this.fi.dR(a)},I_:function(a){this.fi.add(a)},F8:function(a){return this.fi.remove(a)},x8:function(){this.fi.hU()},cG:null,DA:null,Az:null,Gn:null,ik:null,ctor:null,kh:function(){this.Fz()},lh:function(){this.Fz();var a=new p.Xg;a.Yg[2]=a.Yg[3]=a.Yg[6]=a.Yg[7]=a.Yg[8]=a.Yg[9]=a.Yg[11]=a.Yg[14]=0;a.Yg[10]=a.Yg[15]=1;this.cG=a;this.Az=0;this.DA=new p.Xg},ia:null,gm:function(a){if(this.pa){a=a||p.O;var c,d=this.p,e;a.save();this.transform(a);var f=
d.length;if(0<f){this.Ad();for(c=0;c<f;c++)if(e=d[c],0>e.Ua)e.ia(a);else break;for(this.Ja(a);c<f;c++)d[c].ia(a)}else this.Ja(a);this.tf=0;a.restore()}},hm:function(){if(this.pa){var a=p.O,c,d=p.vQ;d.stack.push(d.top);p.G6(this.DA,d.top);d.top=this.DA;var e=this.ik;e&&e.tM&&e.eB();this.transform();var f=this.p;if(f&&0<f.length){var g=f.length;this.Ad();for(c=0;c<g;c++)if(f[c]&&0>f[c].Ua)f[c].ia();else break;for(this.Ja(a);c<g;c++)f[c]&&f[c].ia()}else this.Ja(a);this.tf=0;e&&e.tM&&e.aB(this);d.top=
d.stack.pop()}},transform:null,jP:function(a){a=a||p.O;var c=p.ja.d(),d=this.Gf();a.transform(d.D,d.ra,d.f,d.Aa,d.Ma*c.ma,-d.Na*c.qa)},kP:function(){var a=this.cG,c=p.vQ.top,d=this.Gf(),e=a.Yg;e[0]=d.D;e[4]=d.ra;e[12]=d.Ma;e[1]=d.f;e[5]=d.Aa;e[13]=d.Na;e[14]=this.Jv;p.OS(c,c,a);null==this.Gn||null!=this.ik&&this.ik.Zo()||(a=this.pd.C,c=this.pd.I,0!==a||0!==c?(p.MS(p.Of(a),p.Of(c),0),this.Gn.fI(),p.MS(p.Of(-a),p.Of(-c),0)):this.Gn.fI())},Gf:null,UN:function(){this.uj||(this.uj={D:1,f:0,ra:0,Aa:1,Ma:0,
Na:0});if(this.vj){var a=this.uj;a.Ma=this.n.C;a.Na=this.n.I;var c=1,d=0;this.ag&&(c=Math.cos(this.Rl),d=Math.sin(this.Rl));a.D=a.Aa=c;a.f=-d;a.ra=d;var e=this.ma,f=this.qa,g=this.pd.C,h=this.pd.I,k=1E-6>e&&-1E-6<e?1E-6:e,l=1E-6>f&&-1E-6<f?1E-6:f;if(this.Sd||this.Td){var m=Math.tan(-this.Sd*Math.PI/180),n=Math.tan(-this.Td*Math.PI/180),s=h*m*k,q=g*n*l;a.D=c+-d*n;a.f=c*m+-d;a.ra=d+c*n;a.Aa=d*m+c;a.Ma+=c*s+-d*q;a.Na+=d*s+c*q}if(1!==e||1!==f)a.D*=k,a.ra*=k,a.f*=l,a.Aa*=l;a.Ma+=c*-g*k+-d*h*l;a.Na-=d*
-g*k+c*h*l;this.lk&&(a.Ma+=g,a.Na+=h);this.Yp&&(this.uj=p.il(this.uj,this.au),this.Yp=!1);this.vj=!1}return this.uj},VN:function(){if(this.vj){var a=this.n.C,c=this.n.I,d=this.pd.C,e=-d,f=this.pd.I,g=-f,h=this.ma,k=this.qa;this.lk&&(a+=d,c+=f);var l=1,m=0,n=1,s=0;if(0!==this.ag||0!==this.sh)l=Math.cos(-this.Rl),m=Math.sin(-this.Rl),n=Math.cos(-this.$q),s=Math.sin(-this.$q);var q=this.Sd||this.Td;q||0===d&&0===f||(a+=n*e*h+-m*g*k,c+=s*e*h+l*g*k);a={D:n*h,f:s*h,ra:-m*k,Aa:l*k,Ma:a,Na:c};q&&(a=p.il({D:1,
f:Math.tan(p.Oi(this.Td)),ra:Math.tan(p.Oi(this.Sd)),Aa:1,Ma:0,Na:0},a),0!==d||0!==f)&&(a=p.sx(a,e,g));this.Yp&&(a=p.il(a,this.au),this.Yp=!1);this.uj=a;this.vj=!1}return this.uj},Tl:function(){this.SE=!0;this.Y&&this.Y.Tl()},yB:function(){this.Gn||(this.Gn=new p.Fp);return this.Gn},R2:function(){return this.ik},F9:function(a){this.ik=a},GB:function(){return this.tc},qg:function(a){this.tc=a},Q2:function(){return this.Az},E9:function(a){this.Az=a},Z1:function(){var a=p.rect(0,0,this.la.xa,this.la.ka),
c=this.js(),a=p.xg(a,this.js());if(!this.p)return a;for(var d=this.p,e=0;e<d.length;e++){var f=d[e];f&&f.pa&&(f=f.dF(c))&&(a=p.Hw(a,f))}return a},dF:function(a){var c=p.rect(0,0,this.la.xa,this.la.ka);a=null==a?this.Gf():p.il(this.Gf(),a);c=p.xg(c,a);if(!this.p)return c;for(var d=this.p,e=0;e<d.length;e++){var f=d[e];f&&f.pa&&(f=f.dF(a))&&(c=p.Hw(c,f))}return c}});
p.wa.Ac?(b=p.H.prototype,b.ctor=p.H.prototype.lh,b.Ka=p.H.prototype.KO,b.ia=p.H.prototype.hm,b.transform=p.H.prototype.kP,b.Gf=p.H.prototype.VN):(b=p.H.prototype,b.ctor=p.H.prototype.kh,b.Ka=p.H.prototype.JO,b.ia=p.H.prototype.gm,b.transform=p.H.prototype.jP,b.Gf=p.H.prototype.UN);p.H.create=function(){return new p.H};p.H.of={ng:1,xd:2,Bf:3,Lh:4,Kf:5,Zg:6,Ad:7};
p.nb=p.H.extend({Xa:!0,Nb:255,$f:255,rc:null,Qd:null,$c:!1,Kd:!1,ctor:function(){p.H.prototype.ctor.call(this);this.$f=this.Nb=255;this.rc=p.mb();this.Qd=p.mb();this.Kd=this.$c=!1},Ai:function(){return this.$f},fR:function(){return this.Nb},Z:function(a){this.Nb=this.$f=a;a=255;var c=this.Y;c&&c.Xa&&c.Kd&&(a=c.Nb);this.Nc(a)},Nc:function(a){this.Nb=this.$f*a/255;if(this.Kd){a=this.p;for(var c=0;c<a.length;c++){var d=a[c];d&&d.Xa&&d.Nc(this.Nb)}}},ES:function(){return this.Kd},dJ:function(a){this.Kd!==
a&&((this.Kd=a)?this.uq():this.hz())},uq:function(){var a=255,c=this.Y;c&&c.Xa&&c.Kd&&(a=c.Nb);this.Nc(a)},hz:function(){this.Nb=this.$f;for(var a=this.p,c=0;c<a.length;c++){var d=a[c];d&&d.Xa&&d.Nc(255)}},fd:function(){var a=this.Qd;return new p.nc(a.h,a.g,a.f)},Or:function(){return this.rc},k:function(a){var c=this.rc,d=this.Qd;c.h=d.h=a.h;c.g=d.g=a.g;c.f=d.f=a.f;a=(a=this.Y)&&a.Xa&&a.$c?a.Or():p.mb();this.Mc(a)},Mc:function(a){var c=this.rc,d=this.Qd;c.h=0|d.h*a.h/255;c.g=0|d.g*a.g/255;c.f=0|d.f*
a.f/255;if(this.$c)for(a=this.p,d=0;d<a.length;d++){var e=a[d];e&&e.Xa&&e.Mc(c)}},DS:function(){return this.$c},cJ:function(a){this.$c!==a&&((this.$c=a)?this.tq():this.gz())},tq:function(){var a;a=(a=this.Y)&&a.Xa&&a.$c?a.Or():p.mb();this.Mc(a)},gz:function(){var a=this.rc,c=this.Qd;a.h=c.h;a.g=c.g;a.f=c.f;for(var a=this.p,c=p.mb(),d=0;d<a.length;d++){var e=a[d];e&&e.Xa&&e.Mc(c)}},m:function(a,c,d){p.H.prototype.m.call(this,a,c,d);this.$c&&this.tq();this.Kd&&this.uq()},kf:function(){},Lk:function(){return!1}});
p.nb.create=function(){var a=new p.nb;a.r();return a};p.Ed=p.nb.extend({Xa:!0,rF:0,qF:0,Iu:0,Hu:0,Zi:null,Fa:null,dc:!1,W:null,Xq:0,Bz:!1,ctor:function(){p.nb.prototype.ctor.call(this);this.Zi=p.mb();this.W={src:p.ne,ub:p.me};this.Bz=!1},dba:function(){p.log("cc.AtlasNode.updateAtlasValues(): Shall be overridden in subclasses")},fd:function(){return this.dc?this.Zi:p.nb.prototype.fd.call(this)},kf:function(a){var c=this.fd();this.dc=a;this.k(c)},Lk:function(){return this.dc},Nr:function(){return this.W},Yk:function(a,c){this.W=1==arguments.length?a:
{src:a,ub:c}},tp:function(a){this.Fa=a},xH:function(){return this.Fa},d4:function(){return this.Xq},u$:function(a){this.Xq=a},am:null,Wf:null,fG:null,ju:null,sS:function(a,c,d,e){if(!a)throw"cc.AtlasNode.initWithTileFile(): title should not be null";a=p.La.d().Ab(a);return this.Ba(a,c,d,e)},Ba:null,Iq:function(a,c,d,e){this.Iu=c;this.Hu=d;this.dc=!0;this.Wf=a;if(!this.Wf)return p.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.am=this.Wf;this.fu();this.Xq=e;return!0},Jq:function(a,
c,d,e){this.Iu=c;this.Hu=d;this.Zi=p.mb();this.dc=!0;this.W.src=p.ne;this.W.ub=p.me;c=this.Qd;this.ju=new Float32Array([c.h/255,c.g/255,c.f/255,this.$f/255]);this.Fa=new p.tn;this.Fa.Ba(a,e);if(!this.Fa)return p.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.fm();this.mG();this.fu();this.Xq=e;this.qg(p.ih.d().Oh(p.dZ));this.fG=p.O.getUniformLocation(this.GB().fw(),"u_color");return!0},Ja:null,Vf:function(a){a=a||p.O;p.Tx(this);p.Ej(this.W.src,this.W.ub);a.uniform4fv(this.fG,
this.ju);this.Fa.XG(this.Xq,0)},k:null,br:function(a){var c=this.Qd;if(c.h!=a.h||c.g!=a.g||c.f!=a.f){c=new p.nc(a.h,a.g,a.f);this.Zi=a;if(this.dc){var d=this.Nb;c.h=c.h*d/255;c.g=c.g*d/255;c.f=c.f*d/255}p.nb.prototype.k.call(this,a);this.T()&&(a=this.Wf.sc)&&(c=p.La.d().yH(a))&&(d=p.rect(0,0,a.width,a.height),a=p.wB(a,c,this.Qd,d),c=new p.Pb,c.ef(a),c.ge(),this.aa(c))}},pA:function(a){var c=p.nc(a.h,a.g,a.f);this.Zi=a;var d=this.Nb;this.dc&&(c.h=c.h*d/255,c.g=c.g*d/255,c.f=c.f*d/255);p.nb.prototype.k.call(this,
a);a=this.rc;this.ju=new Float32Array([a.h/255,a.g/255,a.f/255,d/255])},Z:null,dr:function(a){p.nb.prototype.Z.call(this,a);this.dc&&this.k(this.Zi)},sA:function(a){p.nb.prototype.Z.call(this,a);this.dc?this.k(this.Zi):(a=this.rc,this.ju=new Float32Array([a.h/255,a.g/255,a.f/255,this.Nb/255]))},T:null,xz:function(){return this.am},yz:function(){return this.Fa.T()},aa:null,er:function(a){this.am=a},fr:function(a){this.Fa.aa(a);this.fm();this.mG()},fu:null,KM:function(){var a=this.T().e();this.qF=0|
a.height/this.Hu;this.rF=0|a.width/this.Iu},LM:function(){var a=this.T(),c=a.e();this.Bz&&(c=a.la);this.qF=0|c.height/this.Hu;this.rF=0|c.width/this.Iu},fm:function(){this.Fa.T().Yr()||(this.W.src=770,this.W.ub=771)},mG:function(){this.dc=this.Fa.T().Yr()},rA:function(a){this.Bz=a}});
p.wa.Ac?(b=p.Ed.prototype,b.Ba=p.Ed.prototype.Jq,b.Ja=p.Ed.prototype.Vf,b.k=p.Ed.prototype.pA,b.Z=p.Ed.prototype.sA,b.T=p.Ed.prototype.yz,b.aa=p.Ed.prototype.fr,b.fu=p.Ed.prototype.LM):(b=p.Ed.prototype,b.Ba=p.Ed.prototype.Iq,b.Ja=p.H.prototype.Ja,b.k=p.Ed.prototype.br,b.Z=p.Ed.prototype.dr,b.T=p.Ed.prototype.xz,b.aa=p.Ed.prototype.er,b.fu=p.Ed.prototype.KM);p.Ed.create=function(a,c,d,e){var f=new p.Ed;return f.sS(a,c,d,e)?f:null};p.Si=0;p.Pp=1;p.Op=2;p.Np=3;p.jy=4;p.iy=5;p.Kt=6;p.Jt=7;p.sE=8;p.rE=9;p.qE=p.Si;p.$y=p.qE;p.HL=!1;p.x_=function(a,c,d,e){this.XS=a||0;this.US=c||0;this.sK=d||0;this.tK=e||0};
p.XL=p.sa.extend({YN:null,uf:null,Jg:null,Ig:null,Mz:null,la:null,Eg:null,Fg:null,Wn:null,Gl:!1,tc:null,hc:!1,sc:null,Ah:null,qd:null,ctor:function(){this.Ig=this.Jg=0;this.Mz="";this.Fg=this.Eg=0;this.Wn=!1;this.la=p.Vl();this.Gl=!1;this.YN=!0;this.uf=p.Pb.wQ();this.tc=null;this.hc=!1;this.Ah=this.sc=null;this.qd=[]},BC:function(){this.Ah&&p.O.deleteTexture(this.Ah)},Q3:function(){return this.uf},So:function(){return this.Jg},Ro:function(){return this.Ig},getName:function(){return this.Ah},e:function(){return p.size(this.la.width/
p.md(),this.la.height/p.md())},eR:function(){return this.la},nR:function(){return this.Eg},tV:function(a){this.Eg=a},oR:function(){return this.Fg},uV:function(a){this.Fg=a},GB:function(){return this.tc},qg:function(a){this.tc=a},Yr:function(){return this.Wn},bS:function(){return this.Gl},description:function(){return"\x3ccc.Texture2D | Name \x3d "+this.Mz+" | Dimensions \x3d "+this.Jg+" x "+this.Ig+" | Coordinates \x3d ("+this.Eg+", "+this.Fg+")\x3e"},eU:function(){},KS:function(a){return a},mw:function(a,
c,d,e,f){var g=p.O,h=0,h=c===p.Si?24:this.HG(c),h=d*h/8;0===h%8?g.pixelStorei(g.UNPACK_ALIGNMENT,8):0===h%4?g.pixelStorei(g.UNPACK_ALIGNMENT,4):0===h%2?g.pixelStorei(g.UNPACK_ALIGNMENT,2):g.pixelStorei(g.UNPACK_ALIGNMENT,1);this.Ah=g.createTexture();p.gg(this);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE);
switch(c){case p.Si:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_BYTE,a);break;case p.Pp:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_BYTE,a);break;case p.Kt:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_4_4_4_4,a);break;case p.Jt:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_5_5_5_1,a);break;case p.Op:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_SHORT_5_6_5,a);break;case p.iy:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE_ALPHA,
d,e,0,g.LUMINANCE_ALPHA,g.UNSIGNED_BYTE,a);break;case p.Np:g.texImage2D(g.TEXTURE_2D,0,g.ALPHA,d,e,0,g.ALPHA,g.UNSIGNED_BYTE,a);break;case p.jy:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE,d,e,0,g.LUMINANCE,g.UNSIGNED_BYTE,a);break;default:throw"NSInternalInconsistencyException";}this.la.xa=f.width;this.la.ka=f.height;this.Jg=d;this.Ig=e;this.uf=c;this.Eg=f.width/d;this.Fg=f.height/e;this.Gl=this.Wn=!1;this.qg(p.ih.d().Oh(p.ML));return this.hc=!0},IQ:function(a){var c=[0,this.Fg,this.Eg,this.Fg,0,0,this.Eg,
0],d=this.Jg*this.Eg,e=this.Ig*this.Fg;a=[a.x,a.y,0,d+a.x,a.y,0,a.x,e+a.y,0,d+a.x,e+a.y,0];p.be(p.zg|p.fM);this.tc.Pe();this.tc.FJ();p.gg(this);d=p.O;d.vertexAttribPointer(p.qe,2,d.FLOAT,!1,0,a);d.vertexAttribPointer(p.Tp,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},KQ:function(a){var c=[0,this.Fg,this.Eg,this.Fg,0,0,this.Eg,0];a=[a.x,a.y,a.x+a.width,a.y,a.x,a.y+a.height,a.x+a.width,a.y+a.height];p.be(p.zg|p.fM);this.tc.Pe();this.tc.FJ();p.gg(this);var d=p.O;d.vertexAttribPointer(p.qe,2,
d.FLOAT,!1,0,a);d.vertexAttribPointer(p.Tp,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},VB:function(a){if(null==a)return p.log("cocos2d: cc.Texture2D. Can't create Texture. UIImage is nil"),!1;var c=a.Vr(),d=a.Pr(),e=p.oe.d().Qq;if(c>e||d>e)return p.log("cocos2d: WARNING: Image ("+c+" x "+d+") is bigger than the supported "+e+" x "+e),!1;this.hc=!0;return this.uN(a,c,d)},ef:function(a){a&&(this.Ah=p.O.createTexture(),this.sc=a)},iR:function(){return this.sc},kg:function(){return this.hc},
ge:function(){this.hc=!0;var a=p.O;p.gg(this);a.pixelStorei(a.UNPACK_ALIGNMENT,4);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,this.sc);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);this.qg(p.ih.d().Oh(p.ML));p.gg(null);a=this.sc.height;this.Jg=this.la.xa=this.sc.width;this.Ig=this.la.ka=
a;this.uf=p.Si;this.Fg=this.Eg=1;this.Gl=this.Wn=!1;this.Jd()},Jk:function(a,c,d,e,f,g){3==arguments.length&&(c=arguments[1],d=arguments[2],e=p.size(0,0),f=p.Ti,g=p.Vp);var h=new p.aL,k;if(p.Vp===g)k=p.Ti===f?p.SW:p.Qp===f?p.TW:p.UW;else if(p.Tt===g)k=p.Ti===f?p.PW:p.Qp===f?p.QW:p.RW;else if(p.Up===g)k=p.Ti===f?p.MW:p.Qp===f?p.NW:p.OW;else return p.log("Not supported alignment format!"),!1;return h.Jk(a,e.width,e.height,k,c,d)?this.VB(h):!1},lS:function(){return!1},PH:function(a){var c=!1,d=new p.tZ;
(c=d.B5(a))?(d.C$(!0),this.Mz=d.getName(),this.Fg=this.Eg=1,this.Jg=d.Vr(),this.Ig=d.Pr(),this.la.xa=this.Jg,this.la.ka=this.Ig,this.Wn=p.HL,this.uf=d.O2(),this.ZI()):p.log("cocos2d: Couldn't load PVR image "+a);return c},pS:function(){return p.oe.d().or?!0:(p.log("cocos2d: WARNING: PVRTC images is not supported."),!1)},SV:function(a){var c=p.O;p.Ms(this.Jg==p.ln(this.Jg)&&this.Ig==p.ln(this.Ig)||a.sK==c.CLAMP_TO_EDGE&&a.tK==c.CLAMP_TO_EDGE,"WebGLRenderingContext.CLAMP_TO_EDGE should be used in NPOT textures");
p.gg(this);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,a.XS);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,a.US);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,a.sK);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,a.tK)},ZI:function(){var a=p.O;p.gg(this);this.Gl?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},YI:function(){var a=p.O;p.gg(this);
this.Gl?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},generateMipmap:function(){p.Ms(this.Jg==p.ln(this.Jg)&&this.Ig==p.ln(this.Ig),"Mimpap texture only works in POT textures");p.gg(this);p.O.generateMipmap(p.O.TEXTURE_2D);this.Gl=!0},pW:function(){switch(this.uf){case p.Si:return"RGBA8888";case p.Pp:return"RGB888";case p.Op:return"RGB565";case p.Kt:return"RGBA4444";
case p.Jt:return"RGB5A1";case p.iy:return"AI88";case p.Np:return"A8";case p.jy:return"I8";case p.sE:return"PVRTC4";case p.rE:return"PVRTC2";default:p.log("stringForFormat: "+this.uf+", cannot give useful result, it's a unrecognized pixel format")}return""},HG:function(a){a=a||this.uf;switch(a){case p.Si:return 32;case p.Pp:return 32;case p.Op:return 16;case p.Np:return 8;case p.Kt:return 16;case p.Jt:return 16;case p.sE:return 4;case p.rE:return 2;case p.jy:return 8;case p.iy:return 16;default:return p.log("bitsPerPixelForFormat: "+
this.uf+", cannot give useful result, it's a illegal pixel format"),-1}},uN:function(a,c,d){var e=a.getData(),f=null,f=null,g=a.q5(),h=p.size(a.Vr(),a.Pr()),k=p.qE,l=a.X1();g||(8<=l?k=p.Pp:(p.log("cocos2d: cc.Texture2D: Using RGB565 texture since image has no alpha"),k=p.Op));var m=c*d;if(k==p.Op)if(g)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>2<<5|(f[l]>>16&255)>>3<<0;else for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]&255)>>3<<
11|(f[l]&255)>>2<<5|(f[l]&255)>>3<<0;else if(k==p.Kt)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>4<<12|(f[l]>>8&255)>>4<<8|(f[l]>>16&255)>>4<<4|(f[l]>>24&255)>>4<<0;else if(k==p.Jt)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>3<<6|(f[l]>>16&255)>>3<<1|(f[l]>>24&255)>>7<<0;else if(k==p.Np)for(e=new Uint8Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=f>>24&255;if(g&&k==p.Pp)for(f=a.getData(),e=new Uint8Array(c*d*3),l=0;l<m;++l)e[3*
l]=f>>0&255,e[3*l+1]=f>>8&255,e[3*l+2]=f>>16&255;this.mw(e,k,c,d,h);a.getData();this.Wn=a.k6();return!0},zf:function(a,c){this.qd.push({Dj:a,Eh:c})},nU:function(a){for(var c=this.qd,d=0;d<c.length;d++)c[d].Eh==a&&c.splice(d,1)},Jd:function(){for(var a=this.qd,c=0,d=a.length;c<d;c++){var e=a[c];e.Dj.call(e.Eh,this)}a.length=0}});
p.WL=p.sa.extend({la:null,hc:!1,sc:null,qd:null,ctor:function(){this.la=p.Vl();this.hc=!1;this.sc=null;this.qd=[]},So:function(){return this.la.xa},Ro:function(){return this.la.ka},e:function(){var a=p.md();return p.size(this.la.xa/a,this.la.ka/a)},eR:function(){return this.la},ef:function(a){a&&(this.sc=a)},iR:function(){return this.sc},kg:function(){return this.hc},ge:function(){this.hc=!0;var a=this.sc;this.la.xa=a.width;this.la.ka=a.height;this.Jd()},description:function(){return"\x3ccc.Texture2D | width \x3d "+
this.la.xa+" height "+this.la.ka+"\x3e"},mw:function(){return!1},VB:function(){return!1},Jk:function(){return!1},BC:function(){},getName:function(){return null},nR:function(){return 1},tV:function(){},oR:function(){return 1},uV:function(){},GB:function(){return null},qg:function(){},Yr:function(){return!1},bS:function(){return!1},eU:function(){},KS:function(a){return a},IQ:function(){},KQ:function(){},lS:function(){return!1},PH:function(){return!1},pS:function(){return!0},SV:function(){},ZI:function(){},
YI:function(){},generateMipmap:function(){},pW:function(){return""},HG:function(){return-1},zf:function(a,c){this.qd.push({Dj:a,Eh:c})},nU:function(a){for(var c=this.qd,d=0;d<c.length;d++)c[d].Eh==a&&c.splice(d,1)},Jd:function(){for(var a=this.qd,c=0,d=a.length;c<d;c++){var e=a[c];e.Dj.call(e.Eh,this)}a.length=0}});p.Pb=p.wa.Ac?p.XL:p.WL;p.Pb.q9=function(a){p.$y=a};p.Pb.wQ=function(){return p.$y};p.Pb.v2=function(){return p.$y};p.Mr=null;p.S6=function(a){if(p.mQ(a)==p.VK)p.log("unsupported format:"+a);else{var c=new Image;c.src=a;c.addEventListener("load",function(){p.La.d().TP(a,c);this.removeEventListener("load",arguments.callee,!1)},!1)}};p.mQ=function(a){return 0<a.toLowerCase().indexOf(".jpg")||0<a.toLowerCase().indexOf(".jpeg")?p.RX:0<a.toLowerCase().indexOf(".png")?p.SX:0<a.toLowerCase().indexOf(".webp")?p.UX:p.VK};
p.La=p.sa.extend({fb:null,pr:null,wv:null,HF:!1,Lu:null,Mu:null,ctor:function(){if(p.Mr)throw"Attempted to allocate a second instance of a singleton.";this.wv+=0|1E3*Math.random();this.fb={};this.pr={};p.kd===p.Xj&&(this.Lu={},this.Mu={})},Dy:function(a,c){if(a&&"string"===typeof c)a[c]();else a&&"function"===typeof c&&c.call(a)},CN:function(){this.HF=!0;var a,c=this.Lu,d=this.fb;for(a in c){var e=c[a],f=new p.Pb;f.ef(e);f.ge();d[a]=f}this.Lu={}},P_:function(){p.log("TextureCache:addPVRTCImage does not support on HTML5")},
K_:function(){p.log("TextureCache:addPVRTCImage does not support on HTML5")},description:function(){return"\x3cTextureCache | Number of textures \x3d "+this.fb.length+"\x3e"},jx:function(a){a=p.nd.d().Zd(a);return this.fb.hasOwnProperty(a)?this.fb[a]:null},kR:function(a){for(var c in this.fb)if(this.fb[c]==a)return c;return null},lN:function(){this.wv++;return"_textureKey_"+this.wv},yH:function(a){var c=this.kR(a);c||(c=a instanceof HTMLImageElement?a.src:this.lN());this.pr.hasOwnProperty(c)||(this.pr[c]=
p.Oo(a));return this.pr[c]},O_:function(a){if(!a)throw"cc.TextureCache.addPVRImage(): path should be non-null";a=p.nd.d().Zd(a);if(null!=this.fb[a])return this.fb[a];var c=new p.Pb;c.PH(a)?this.fb[a]=c:p.log("cocos2d: Couldn't add PVRImage:"+a+" in TextureCache");return c},A8:function(){var a=this.fb,c;for(c in a)a[c]&&a[c].BC();this.fb={}},P8:function(a){if(a){var c=this.fb,d;for(d in c)c[d]==a&&(c[d].BC(),delete c[d])}},rU:function(a){null!=a&&(a=p.nd.d().Zd(a),this.fb[a]&&delete this.fb[a])},L_:function(a,
c,d){if(!a)throw"cc.TextureCache.addImageAsync(): path should be non-null";a=p.nd.d().Zd(a);var e=this.fb[a],f,g;if(e)e.kg()?this.Dy(c,d):(g=this,f=e.sc,f.addEventListener("load",function(){e.ge();g.Dy(c,d);this.removeEventListener("load",arguments.callee,!1)}));else{f=new Image;f.crossOrigin="Anonymous";g=this;f.addEventListener("load",function(){g.fb.hasOwnProperty(a)&&g.fb[a].ge();g.Dy(c,d);this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});
f.addEventListener("error",function(){p.Ob.d().Fm(a);g.fb.hasOwnProperty(a)&&delete g.fb[a];this.removeEventListener("error",arguments.callee,!1)});f.src=a;var h=new p.Pb;h.ef(f);this.fb[a]=h}return this.fb[a]},vM:function(a){var c=new Image;c.crossOrigin="Anonymous";var d=this;c.addEventListener("load",function(){p.Ob.d().Nh();d.Lu[a]=c;delete d.Mu[a];this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});c.addEventListener("error",function(){p.Ob.d().Fm(a);
delete d.Mu[a];this.removeEventListener("error",arguments.callee,!1)});c.src=a;this.Mu[a]=c},Ab:function(a){if(!a)throw"cc.Texture.addImage(): path should be non-null";if(p.kd===p.Xj&&!this.HF)return this.vM(a);a=p.nd.d().Zd(a);var c=this.fb[a],d;if(c)c.kg()?p.Ob.d().Nh():(d=c.sc,d.addEventListener("load",function(){c.ge();p.Ob.d().Nh();this.removeEventListener("load",arguments.callee,!1)}));else{d=new Image;d.crossOrigin="Anonymous";var e=this;d.addEventListener("load",function(){p.Ob.d().Nh();e.fb.hasOwnProperty(a)&&
e.fb[a].ge();this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});d.addEventListener("error",function(){p.Ob.d().Fm(a);e.fb.hasOwnProperty(a)&&delete e.fb[a];this.removeEventListener("error",arguments.callee,!1)});d.src=a;var f=new p.Pb;f.ef(d);this.fb[a]=f}return this.fb[a]},TP:function(a,c){if(c instanceof p.Pb)this.fb[a]=c;else{var d=new p.Pb;d.ef(c);d.ge();this.fb[a]=d}},U_:function(a,c){if(!a)throw"cc.Texture.addUIImage(): image should be non-null";
if(c&&this.fb.hasOwnProperty(c)&&this.fb[c])return this.fb[c];var d=new p.Pb;d.VB(a);null!=c&&null!=d?this.fb[c]=d:p.log("cocos2d: Couldn't add UIImage in TextureCache");return d},f1:function(){var a=0,c=0,d=this.fb,e;for(e in d){var f=d[e];a++;f.sc instanceof HTMLImageElement?p.log("cocos2d: '"+e+"' id\x3d"+f.sc.src+" "+f.So()+" x "+f.Ro()):p.log("cocos2d: '"+e+"' id\x3d HTMLCanvasElement "+f.So()+" x "+f.Ro());c+=f.So()*f.Ro()*4}d=this.pr;for(e in d){var f=d[e],g;for(g in f){var h=f[g];a++;p.log("cocos2d: '"+
e+"' id\x3d HTMLCanvasElement "+h.width+" x "+h.height);c+=h.width*h.height*4}}p.log("cocos2d: TextureCache dumpDebugInfo: "+a+" textures, HTMLCanvasElement for "+c/1024+" KB ("+(c/1048576).toFixed(2)+" MB)")}});p.La.d=function(){p.Mr||(p.Mr=new p.La);return p.Mr};p.La.ST=function(){p.Mr=null};p.tn=p.sa.extend({bd:null,di:null,ya:!1,Qc:0,ta:null,ve:null,Yf:null,Yq:null,Zf:null,ctor:function(){this.di=[]},S4:function(){return this.Ha},f2:function(){return this.Qc},T:function(){return this.ta},aa:function(a){this.ta=a},pg:function(a){this.ya=a},YH:function(){return this.ya},c4:function(){return this.ve},t$:function(a){this.ve=a},XZ:function(a,c){if(a)for(var d=0;d<a.length;d++)this.kv(a[d],c+d)},kv:function(a,c){var d=this.ve;d[c]?(d[c].za=a.za,d[c].Ia=a.Ia,d[c].Ga=a.Ga,d[c].Ca=a.Ca):d[c]=
new p.Ub(a.Ga,a.za,a.Ca,a.Ia,this.Yf,c*p.Ub.BYTES_PER_ELEMENT)},description:function(){return"\x3ccc.TextureAtlas | totalQuads \x3d"+this.Ha+"\x3e"},UF:function(){if(0!==this.Qc)for(var a=this.bd,c=this.Qc,d=0;d<c;d++)p.tE?(a[6*d+0]=4*d+0,a[6*d+1]=4*d+0,a[6*d+2]=4*d+2,a[6*d+3]=4*d+1,a[6*d+4]=4*d+3,a[6*d+5]=4*d+3):(a[6*d+0]=4*d+0,a[6*d+1]=4*d+1,a[6*d+2]=4*d+2,a[6*d+3]=4*d+3,a[6*d+4]=4*d+2,a[6*d+5]=4*d+1)},ZO:function(){var a=p.O;this.di[0]=a.createBuffer();this.di[1]=a.createBuffer();this.Yq=a.createBuffer();
this.tF()},tF:function(){var a=p.O;a.bindBuffer(a.ARRAY_BUFFER,this.Yq);a.bufferData(a.ARRAY_BUFFER,this.Yf,a.DYNAMIC_DRAW);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.di[1]);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.bd,a.STATIC_DRAW)},Di:function(a,c){var d=p.La.d().Ab(a);if(d)return this.Ba(d,c);p.log("cocos2d: Could not open file: "+a);return!1},Ba:function(a,c){if(!a)throw"cc.TextureAtlas.initWithTexture():texture should be non-null";this.Qc=c|=0;this.Ha=0;this.ta=a;this.ve=[];this.bd=new Uint16Array(6*
c);var d=p.Ub.BYTES_PER_ELEMENT;this.Yf=new ArrayBuffer(d*c);this.Zf=new Uint8Array(this.Yf);if((!this.ve||!this.bd)&&0<c)return!1;for(var e=this.ve,f=0;f<c;f++)e[f]=new p.Ub(null,null,null,null,this.Yf,f*d);this.UF();this.ZO();return this.ya=!0},ox:function(a,c){if(!a)throw"cc.TextureAtlas.updateQuad(): quad should be non-null";if(0>c||c>=this.Qc)throw"cc.TextureAtlas.updateQuad(): Invalid index";this.Ha=Math.max(c+1,this.Ha);this.kv(a,c);this.ya=!0},aC:function(a,c){if(c>=this.Qc)throw"cc.TextureAtlas.insertQuad(): Invalid index";
this.Ha++;if(this.Ha>this.Qc)p.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");else{var d=p.Ub.BYTES_PER_ELEMENT,e=c*d,f=(this.Ha-1-c)*d;this.ve[this.Ha-1]=new p.Ub(null,null,null,null,this.Yf,(this.Ha-1)*d);this.Zf.set(this.Zf.subarray(e,e+f),e+d);this.kv(a,c);this.ya=!0}},H5:function(a,c,d){d=d||a.length;if(c+d>this.Qc)throw"cc.TextureAtlas.insertQuad(): Invalid index + amount";var e=p.Ub.BYTES_PER_ELEMENT;this.Ha+=d;if(this.Ha>this.Qc)p.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");
else{var f=c*e,g=(this.Ha-1-c-d)*e,h=this.Ha-1-d,k;for(k=0;k<d;k++)this.ve[h+k]=new p.Ub(null,null,null,null,this.Yf,(this.Ha-1)*e);this.Zf.set(this.Zf.subarray(f,f+g),f+e*d);for(k=0;k<d;k++)this.kv(a[k],c+k);this.ya=!0}},G5:function(a,c){if(a!==c){if(0>c&&c>=this.Ha)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid newIndex";if(0>a&&a>=this.Ha)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid fromIndex";var d=p.Ub.BYTES_PER_ELEMENT,e=this.Zf,f=e.subarray(a*d,d),g;a>c?(g=c*d,e.set(e.subarray(g,
g+(a-c)*d),g+d),e.set(f,g)):(g=(a+1)*d,e.set(e.subarray(g,g+(c-a)*d),g-d),e.set(f,c*d));this.ya=!0}},pU:function(a){if(a>=this.Ha)throw"cc.TextureAtlas.removeQuadAtIndex(): Invalid index";var c=p.Ub.BYTES_PER_ELEMENT;this.Ha--;this.ve.length=this.Ha;if(a!==this.Ha){var d=(a+1)*c;this.Zf.set(this.Zf.subarray(d,d+(this.Ha-a)*c),d-c)}this.ya=!0},H8:function(a,c){if(a+c>this.Ha)throw"cc.TextureAtlas.removeQuadsAtIndex(): index + amount out of bounds";this.Ha-=c;if(a!==this.Ha){var d=p.Ub.BYTES_PER_ELEMENT,
e=(a+c)*d;this.Zf.set(this.Zf.subarray(e,e+(this.Ha-a)*d),a*d)}this.ya=!0},jU:function(){this.Ha=this.ve.length=0},u_:function(a){this.ya=a},vU:function(a){if(a==this.Qc)return!0;var c=p.Ub.BYTES_PER_ELEMENT,d=this.Qc;this.Ha=Math.min(this.Ha,a);var e=this.Qc=0|a,f=this.Ha;if(null==this.ve)for(this.ve=[],this.Yf=new ArrayBuffer(c*e),this.Zf=new Uint8Array(this.Yf),a=0;a<e;a++)this.ve=new p.Ub(null,null,null,null,this.Yf,a*c);else{var g,h,k=this.ve;if(e>d){g=[];h=new ArrayBuffer(c*e);for(a=0;a<f;a++)g[a]=
new p.Ub(k[a].Ga,k[a].za,k[a].Ca,k[a].Ia,h,a*c);for(;a<e;a++)g[a]=new p.Ub(null,null,null,null,h,a*c)}else for(f=Math.max(f,e),g=[],h=new ArrayBuffer(c*e),a=0;a<f;a++)g[a]=new p.Ub(k[a].Ga,k[a].za,k[a].Ca,k[a].Ia,h,a*c);this.Zf=new Uint8Array(h);this.ve=g;this.Yf=h}null==this.bd?this.bd=new Uint16Array(6*e):e>d?(c=new Uint16Array(6*e),c.set(this.bd,0),this.bd=c):this.bd=this.bd.subarray(0,6*e);this.UF();this.tF();return this.ya=!0},y5:function(a){this.Ha+=a},d7:function(a,c,d){if(2==arguments.length){d=
c;c=this.Ha-a;if(d+(this.Ha-a)>this.Qc)throw"cc.TextureAtlas.moveQuadsFromIndex(): move is out of bounds";if(0===c)return}else{if(d+c>this.Ha)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid newIndex";if(a>=this.Ha)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid oldIndex";if(a==d)return}var e=p.Ub.BYTES_PER_ELEMENT,f=a*e,g=c*e,h=this.Zf,k=h.subarray(f,f+g),l=d*e,m;d<a?(m=d*e,h.set(h.subarray(m,m+(a-d)*e),m+g)):(m=(a+c)*e,h.set(h.subarray(m,m+(d-a)*e),f));h.set(k,l);this.ya=!0},D1:function(a,
c){for(var d=c*p.Ub.BYTES_PER_ELEMENT,e=new Uint8Array(this.Yf,a*p.Ub.BYTES_PER_ELEMENT,d),f=0;f<d;f++)e[f]=0},XG:function(a,c){c=c||0;if(0!==a&&this.ta&&this.ta.kg()){var d=p.O;p.gg(this.ta);p.be(p.St);d.bindBuffer(d.ARRAY_BUFFER,this.Yq);this.ya&&d.bufferData(d.ARRAY_BUFFER,this.Yf,d.DYNAMIC_DRAW);d.vertexAttribPointer(p.qe,3,d.FLOAT,!1,24,0);d.vertexAttribPointer(p.Sp,4,d.UNSIGNED_BYTE,!0,24,12);d.vertexAttribPointer(p.Tp,2,d.FLOAT,!1,24,16);this.ya&&(this.ya=!1);d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,
this.di[1]);p.tE?d.drawElements(d.TRIANGLE_STRIP,6*a,d.UNSIGNED_SHORT,6*c*this.bd.BYTES_PER_ELEMENT):d.drawElements(d.TRIANGLES,6*a,d.UNSIGNED_SHORT,6*c*this.bd.BYTES_PER_ELEMENT);p.Fh++}},LQ:function(){this.XG(this.Ha,0)},r_:function(){var a=p.O;this.di&&(this.di[0]&&a.deleteBuffer(this.di[0]),this.di[1]&&a.deleteBuffer(this.di[1]));this.Yq&&a.deleteBuffer(this.Yq)}});p.tn.create=function(a,c){var d=new p.tn;return d&&d.Di(a,c)?d:null};p.tn.wc=function(a,c){var d=new p.tn;return d&&d.Ba(a,c)?d:null};p.Lp=p.H.extend({ctor:function(){p.H.prototype.ctor.call(this);this.lk=!0;this.X(0.5,0.5);this.$(p.P.d().Hb)}});p.Lp.create=function(){return new p.Lp};p.ky=0;p.oZ=1;
p.Bc=p.H.extend({nk:!1,mk:!1,Yn:!1,Ak:0,xr:p.ky,Il:!1,io:0,ctor:function(){p.H.prototype.ctor.call(this);this.Yn=this.mk=this.nk=!1;this.Ak=0;this.xr=p.ky;this.Il=!1;this.io=0},tN:function(){this.X(0.5,0.5);this.lk=!0;var a=p.P.d();this.$(a.Hb)},r:function(){p.H.prototype.r.call(this);this.tN();return!0},Iw:function(){this.xr===p.ky?p.dU(this,this.Ak):p.zC(this.Ak,!0,this)},d6:function(){return this.Il},Tw:function(a){if(!p.Hd)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.Il!=
a&&(this.Il=a,this.ye&&(a?p.P.d().cf().zG(this,this.io):p.P.d().cf().MI(this)))},Z9:function(a){if(!p.Hd)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.io!==a&&(this.io=a,this.Il&&(this.Tw(!1),this.Tw(!0)))},u3:function(){return this.io},w6:function(){return this.nk},Tb:function(a){this.nk!==a&&(this.nk=a,this.ye&&(a?this.Iw():p.cK(this)))},W4:function(){return this.Ak},vp:function(a){this.Ak!==a&&(this.Ak=a,this.nk&&(this.Tb(!1),this.Tb(!0)))},V4:function(){return this.xr},
XC:function(a){this.xr!==a&&(this.xr=a,this.nk&&(this.Tb(!1),this.Tb(!0)))},M5:function(){return this.mk},Z8:function(a){if(!p.Rj)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";if(a!==this.mk&&(this.mk=a,this.ye)){var c=p.P.d();a?c.Po().ah(this):c.Po().ah(null)}},NU:function(a){this.mk&&p.Rj&&p.P.d().Po().NU(a)},u7:function(){p.log("onAccelerometer event should be handled.")},c6:function(){return this.Yn},Q9:function(a){if(!p.kn)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";
if(a!==this.Yn&&(this.Yn=a,this.ye)){var c=p.P.d();a?c.dw().CP(this):c.dw().lU(this)}},ng:function(){var a=p.P.d();this.nk&&this.Iw();p.H.prototype.ng.call(this);this.mk&&p.Rj&&a.Po().ah(this);this.Yn&&p.kn&&a.dw().CP(this);this.Il&&p.Hd&&a.cf().zG(this,this.io)},xd:function(){var a=p.P.d();this.nk&&p.cK(this);this.mk&&p.Rj&&a.Po().ah(null);this.Yn&&p.kn&&a.dw().lU(this);this.Il&&p.Hd&&a.cf().MI(this);p.H.prototype.xd.call(this)},Lh:function(){this.mk&&p.Rj&&p.P.d().Po().ah(this);p.H.prototype.Lh.call(this)},
vb:function(){p.log("onTouchBegan event should be handled.");return!0},Yc:function(){},gf:function(){},Ij:function(){},pI:function(){},sI:function(){},rI:function(){},qI:function(){},fT:function(){return!1},gT:function(){return!1},Mh:function(){return!1},jT:function(){return!1},nT:function(){return!1},oT:function(){return!1},pT:function(){return!1},kT:function(){return!1},lT:function(){return!1},mT:function(){return!1},qT:function(){return!1},hT:function(){return!1},iT:function(){return!1},kC:function(){},
Tk:function(){}});p.Bc.create=function(){var a=new p.Bc;return a&&a.r()?a:null};
p.gh=p.Bc.extend({Xa:!0,Nb:0,$f:0,rc:null,Qd:null,Kd:!1,$c:!1,ctor:function(){p.Bc.prototype.ctor.call(this);this.Xa=!0;this.$f=this.Nb=255;this.rc=p.mb();this.Qd=p.mb();this.$c=this.Kd=!1},r:function(){return p.Bc.prototype.r.call(this)?(this.dJ(!1),this.cJ(!1),!0):!1},Ai:function(){return this.$f},fR:function(){return this.Nb},Z:function(a){this.Nb=this.$f=a;a=255;var c=this.Y;c&&c.Xa&&c.Kd&&(a=c.Nb);this.Nc(a)},Nc:function(a){this.Nb=0|this.$f*a/255;if(this.Kd){a=this.p;for(var c=0;c<a.length;c++){var d=
a[c];d&&d.Xa&&d.Nc(this.Nb)}}},ES:function(){return this.Kd},dJ:function(a){this.Kd!==a&&((this.Kd=a)?this.uq():this.hz())},uq:function(){var a=255,c=this.Y;c&&c.Xa&&c.Kd&&(a=c.Nb);this.Nc(a)},hz:function(){this.Nb=this.$f;for(var a=this.p,c=0;c<a.length;c++){var d=a[c];d&&d.Xa&&d.Nc(255)}},fd:function(){var a=this.Qd;return p.i(a.h,a.g,a.f)},Or:function(){var a=this.rc;return p.i(a.h,a.g,a.f)},k:function(a){var c=this.rc,d=this.Qd;c.h=d.h=a.h;c.g=d.g=a.g;c.f=d.f=a.f;a=(a=this.Y)&&a.Xa&&a.$c?a.Or():
p.mb();this.Mc(a)},Mc:function(a){var c=this.rc,d=this.Qd;c.h=0|d.h*a.h/255;c.g=0|d.g*a.g/255;c.f=0|d.f*a.f/255;if(this.$c)for(a=this.p,d=0;d<a.length;d++){var e=a[d];e&&e.Xa&&e.Mc(c)}},DS:function(){return this.$c},cJ:function(a){this.$c!==a&&((this.$c=a)?this.tq():this.gz())},tq:function(){var a;a=(a=this.Y)&&a.Xa&&a.$c?a.Or():p.mb();this.Mc(a)},gz:function(){var a=this.rc,c=this.Qd;a.h=c.h;a.g=c.g;a.f=c.f;for(var a=this.p,c=p.mb(),d=0;d<a.length;d++){var e=a[d];e&&e.Xa&&e.Mc(c)}},m:function(a,
c,d){p.H.prototype.m.call(this,a,c,d);this.$c&&this.tq();this.Kd&&this.uq()},kf:function(){},Lk:function(){return!1}});
p.bb=p.gh.extend({W:null,Nr:function(){return this.W},F0:function(a,c){this.$(a,c)},IG:function(a){this.$(a,this.la.ka)},C0:function(a){this.$(this.la.xa,a)},kf:function(){},Lk:function(){return!1},k:function(a){p.gh.prototype.k.call(this,a);this.dd()},Z:function(a){p.gh.prototype.Z.call(this,a);this.dd()},Zn:!1,YF:null,AA:null,TA:null,Vy:null,CA:null,BA:null,kh:function(){p.gh.prototype.ctor.call(this);this.W=new p.ml(p.ne,p.me)},lh:function(){p.gh.prototype.ctor.call(this);this.W=new p.ml(p.ne,
p.me);this.CA=new ArrayBuffer(32);this.BA=new ArrayBuffer(64);var a=this.CA,c=this.BA,d=p.pb.BYTES_PER_ELEMENT,e=p.Fd.BYTES_PER_ELEMENT;this.YF=[new p.pb(0,0,a,0),new p.pb(0,0,a,d),new p.pb(0,0,a,2*d),new p.pb(0,0,a,3*d)];this.AA=[new p.Fd(0,0,0,1,c,0),new p.Fd(0,0,0,1,c,e),new p.Fd(0,0,0,1,c,2*e),new p.Fd(0,0,0,1,c,3*e)];this.TA=p.O.createBuffer();this.Vy=p.O.createBuffer()},Yk:function(a,c){this.W=1==arguments.length?a:{src:a,ub:c};p.kd===p.Mf&&(this.Zn=this.W&&1==this.W.src&&771==this.W.ub)},r:function(a,
c,d){if(!p.Bc.prototype.r.call(this))return!1;p.kd!==p.Mf&&this.qg(p.ih.d().Oh(p.LL));var e=p.P.d().Hb;a=a||new p.Fb(0,0,0,255);c=c||e.width;d=d||e.height;e=this.rc;e.h=a.h;e.g=a.g;e.f=a.f;e=this.Qd;e.h=a.h;e.g=a.g;e.f=a.f;this.$f=this.Nb=a.D;this.$(c,d);this.dd();return!0},$:null,EO:function(a,c){var d=this.YF;2===arguments.length?(d[1].x=a,d[2].y=c,d[3].x=a,d[3].y=c,this.PE(),p.Bc.prototype.$.call(this,a,c)):(d[1].x=a.width,d[2].y=a.height,d[3].x=a.width,d[3].y=a.height,this.PE(),p.Bc.prototype.$.call(this,
a))},dd:null,oP:function(){},pP:function(){for(var a=this.rc,c=this.Nb,d=this.AA,e=0;4>e;e++)d[e].h=a.h/255,d[e].g=a.g/255,d[e].f=a.f/255,d[e].D=c/255;this.OE()},Mc:function(a){p.gh.prototype.Mc.call(this,a);this.dd()},Nc:function(a){p.gh.prototype.Nc.call(this,a);this.dd()},PE:function(){var a=p.O;a.bindBuffer(a.ARRAY_BUFFER,this.TA);a.bufferData(a.ARRAY_BUFFER,this.CA,a.STATIC_DRAW)},OE:function(){var a=p.O;a.bindBuffer(a.ARRAY_BUFFER,this.Vy);a.bufferData(a.ARRAY_BUFFER,this.BA,a.STATIC_DRAW)},
Ja:null,Cl:function(a){a=a||p.O;var c=this.e(),d=p.ja.d(),e=this.rc;a.fillStyle="rgba("+(0|e.h)+","+(0|e.g)+","+(0|e.f)+","+this.Nb/255+")";a.fillRect(0,0,c.width*d.ma,-c.height*d.qa);p.Fh++},Vf:function(a){a=a||p.O;p.Tx(this);p.be(p.zg|p.eM);a.bindBuffer(a.ARRAY_BUFFER,this.TA);a.vertexAttribPointer(p.qe,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Vy);a.vertexAttribPointer(p.Sp,4,a.FLOAT,!1,0,0);p.Ej(this.W.src,this.W.ub);a.drawArrays(a.TRIANGLE_STRIP,0,4)}});
p.wa.Ac?(p.bb.prototype.ctor=p.bb.prototype.lh,p.bb.prototype.$=p.bb.prototype.EO,p.bb.prototype.dd=p.bb.prototype.pP,p.bb.prototype.Ja=p.bb.prototype.Vf):(p.bb.prototype.ctor=p.bb.prototype.kh,p.bb.prototype.$=p.gh.prototype.$,p.bb.prototype.dd=p.bb.prototype.oP,p.bb.prototype.Ja=p.bb.prototype.Cl);p.bb.create=function(a,c,d){var e=new p.bb;switch(arguments.length){case 0:e.r();break;case 1:e.r(a);break;case 3:e.r(a,c,d);break;default:e.r()}return e};
p.RD=p.bb.extend({ZF:null,Sn:null,ro:null,Tn:null,ul:null,lu:!1,Fq:null,Eq:null,ctor:function(){p.bb.prototype.ctor.call(this);this.ZF=new p.nc(0,0,0);this.Sn=new p.nc(0,0,0);this.ul=p.a(0,-1);this.Tn=this.ro=255;this.Fq=p.a(0,0);this.Eq=p.a(0,0)},$:function(a,c){2===arguments.length?p.bb.prototype.$.call(this,a,c):p.bb.prototype.$.call(this,a);this.dd()},A4:function(){return this.Qd},J$:function(a){this.k(a)},x9:function(a){this.Sn=a;this.dd()},E2:function(){return this.Sn},K$:function(a){this.ro=
a;this.dd()},B4:function(){return this.ro},y9:function(a){this.Tn=a;this.dd()},F2:function(){return this.Tn},baa:function(a){this.ul.x=a.x;this.ul.y=a.y;this.dd()},a5:function(){return p.a(this.ul.x,this.ul.y)},R5:function(){return this.lu},n9:function(a){this.lu=a;this.dd()},r:function(a,c,d){a=a||p.hB(0,0,0,255);c=c||p.hB(0,0,0,255);d=d||p.a(0,-1);var e=this.ZF,f=this.Sn;e.h=a.h;e.g=a.g;e.f=a.f;this.ro=a.D;f.h=c.h;f.g=c.g;f.f=c.f;this.Tn=c.D;this.ul=d;this.lu=!0;p.bb.prototype.r.call(this,p.F(a.h,
a.g,a.f,255));return!0},Ja:function(a){if(p.kd===p.Xj)p.bb.prototype.Ja.call(this,a);else{a=a||p.O;this.Zn&&(a.globalCompositeOperation="lighter");a.save();var c=p.ja.d(),d=this.Nb/255,e=this.e().width*c.ma,c=this.e().height*c.qa,f=a.createLinearGradient(this.Fq.x,this.Fq.y,this.Eq.x,this.Eq.y),g=this.rc,h=this.Sn;f.addColorStop(0,"rgba("+Math.round(g.h)+","+Math.round(g.g)+","+Math.round(g.f)+","+(this.ro/255*d).toFixed(4)+")");f.addColorStop(1,"rgba("+Math.round(h.h)+","+Math.round(h.g)+","+Math.round(h.f)+
","+(this.Tn/255*d).toFixed(4)+")");a.fillStyle=f;a.fillRect(0,0,e,-c);0!=this.vO&&a.rotate(this.s_);a.restore()}},dd:function(){var a=this.ul;if(p.kd===p.Mf){var c=0.5*this.e().width,d=0.5*this.e().height;this.Fq.x=c*-a.x+c;this.Fq.y=d*a.y-d;this.Eq.x=c*a.x+c;this.Eq.y=d*-a.y-d}else if(d=p.nC(a),0!==d){c=Math.sqrt(2);a=p.a(a.x/d,a.y/d);this.lu&&(a=p.Fi(a,1/(Math.abs(a.x)+Math.abs(a.y))*c));var e=this.Nb/255,f=this.rc,g=this.Sn,d=f.h/255,h=f.g/255,f=f.f/255,k=this.ro*e/255,l=g.h/255,m=g.g/255,g=g.f/
255,e=this.Tn*e/255,n=this.AA,s=n[0],q=n[1],v=n[2],n=n[3];s.h=l+(c+a.x+a.y)/(2*c)*(d-l);s.g=m+(c+a.x+a.y)/(2*c)*(h-m);s.f=g+(c+a.x+a.y)/(2*c)*(f-g);s.D=e+(c+a.x+a.y)/(2*c)*(k-e);q.h=l+(c-a.x+a.y)/(2*c)*(d-l);q.g=m+(c-a.x+a.y)/(2*c)*(h-m);q.f=g+(c-a.x+a.y)/(2*c)*(f-g);q.D=e+(c-a.x+a.y)/(2*c)*(k-e);v.h=l+(c+a.x-a.y)/(2*c)*(d-l);v.g=m+(c+a.x-a.y)/(2*c)*(h-m);v.f=g+(c+a.x-a.y)/(2*c)*(f-g);v.D=e+(c+a.x-a.y)/(2*c)*(k-e);n.h=l+(c-a.x-a.y)/(2*c)*(d-l);n.g=m+(c-a.x-a.y)/(2*c)*(h-m);n.f=g+(c-a.x-a.y)/(2*c)*
(f-g);n.D=e+(c-a.x-a.y)/(2*c)*(k-e);this.OE()}}});p.RD.create=function(a,c,d){var e=new p.RD;switch(arguments.length){case 2:if(e&&e.r(a,c))return e;break;case 3:if(e&&e.r(a,c,d))return e;break;case 0:if(e&&e.r())return e;break;default:throw"Arguments error ";}return null};
p.SD=p.Bc.extend({gk:0,Dg:null,D5:function(a){this.Dg=[];this.Dg.push(a);this.gk=0;this.m(a);return!0},nS:function(a){this.Dg=a;this.gk=0;this.m(this.Dg[this.gk]);return!0},Haa:function(a){a>=this.Dg.length?p.log("cc.LayerMultiplex.switchTo():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.Dg[this.gk],!0),this.gk=a,this.m(this.Dg[a]))},Iaa:function(a){a>=this.Dg.length?p.log("cc.LayerMultiplex.switchToAndReleaseMe():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.Dg[this.gk],
!0),this.Dg[this.gk]=null,this.gk=a,this.m(this.Dg[a]))},M_:function(a){a?this.Dg.push(a):p.log("cc.Layer.addLayer(): layer should be non-null")}});p.SD.create=function(){0<arguments.length&&null==arguments[arguments.length-1]&&p.log("parameters should not be ending with null in Javascript");var a=new p.SD;return a.nS(arguments)?a:null};p.ey=-1;
p.Oo=function(a){function c(){var c=p.Oo,e=a.width,h=a.height;d[0].width=e;d[0].height=h;d[1].width=e;d[1].height=h;d[2].width=e;d[2].height=h;d[3].width=e;d[3].height=h;c.canvas.width=e;c.canvas.height=h;var k=c.canvas.getContext("2d");k.drawImage(a,0,0);c.gD.width=e;c.gD.height=h;for(var k=k.getImageData(0,0,e,h).data,l=0;4>l;l++){var m=d[l].getContext("2d");m.getImageData(0,0,e,h).data;c.ZJ.drawImage(a,0,0);for(var n=c.ZJ.getImageData(0,0,e,h),s=n.data,q=0;q<k.length;q+=4)s[q]=0===l?k[q]:0,s[q+
1]=1===l?k[q+1]:0,s[q+2]=2===l?k[q+2]:0,s[q+3]=k[q+3];m.putImageData(n,0,0)}a.onload=null}if(a.hasOwnProperty("channelCache"))return a.gQ;var d=[document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas")];try{c()}catch(e){a.onload=c}return a.gQ=d};p.Oo.canvas=document.createElement("canvas");p.Oo.gD=document.createElement("canvas");p.Oo.ZJ=p.Oo.gD.getContext("2d");
p.M1=function(a,c,d){d||(d=p.rect(0,0,a.width,a.height),d=p.Jp(d));c=c instanceof p.Fd?p.F(255*c.h,255*c.g,255*c.f,255*c.D):p.F(c.h,c.g,c.f,50);var e=document.createElement("canvas"),f=e.getContext("2d");e.width!=d.width&&(e.width=d.width);e.height!=d.height&&(e.height=d.height);f.save();f.drawImage(a,d.x,d.y,d.width,d.height,0,0,d.width,d.height);f.globalCompositeOperation="source-in";f.globalAlpha=c.D/255;f.fillStyle="rgb("+c.h+","+c.g+","+c.f+")";f.fillRect(0,0,d.width,d.height);f.restore();return e};
p.wB=function(a,c,d,e,f){e||(e=p.rect(0,0,a.width,a.height));a=null==d.D?p.Ov(d.h/255,d.g/255,d.f/255,1):d;d=Math.min(e.width,c[0].width);var g=Math.min(e.height,c[0].height),h;f?(h=f.getContext("2d"),h.clearRect(0,0,d,g)):(f=document.createElement("canvas"),f.width=d,f.height=g,h=f.getContext("2d"));h.save();h.globalCompositeOperation="lighter";var k=h.globalAlpha;0<a.h&&(h.globalAlpha=a.h*k,h.drawImage(c[0],e.x,e.y,d,g,0,0,d,g));0<a.g&&(h.globalAlpha=a.g*k,h.drawImage(c[1],e.x,e.y,d,g,0,0,d,g));
0<a.f&&(h.globalAlpha=a.f*k,h.drawImage(c[2],e.x,e.y,d,g,0,0,d,g));1>a.h+a.g+a.f&&(h.globalAlpha=k,h.drawImage(c[3],e.x,e.y,d,g,0,0,d,g));h.restore();return f};p.OG=function(a,c){if(!a)return null;if(!c)return a;var d=document.createElement("canvas");d.width=c.width;d.height=c.height;var e=d.getContext("2d");e.translate(d.width/2,d.height/2);e.rotate(-1.5707963267948966);e.drawImage(a,c.x,c.y,c.height,c.width,-c.height/2,-c.width/2,c.height,c.width);return d};
p.wZ=function(a,c,d,e,f,g){this.scale=c;this.rotation=d;this.cl=e;this.visible=g};p.Of=function(a){return 0|a};p.OL&&(p.Of=function(a){return a});
p.w=p.nb.extend({Xa:!0,Fa:null,Hc:0,Ya:null,ya:!1,ph:null,ki:null,vk:!1,em:null,W:null,ta:null,oa:null,Ic:!1,Xb:null,xh:null,dc:!1,bc:!1,cc:!1,eb:!1,qd:null,AF:null,aK:function(){return this.eb},zf:function(a,c){this.qd.push({Dj:a,Eh:c})},Jd:function(){for(var a=this.qd,c=0,d=a.length;c<d;c++){var e=a[c];e.Dj.call(e.Eh,this)}a.length=0},YH:function(){return this.ya},pg:function(a){this.ya=a},u6:function(){return this.Ic},T1:function(){return this.Hc},ke:function(a){this.Hc=a},IB:function(){return p.rect(this.oa.x,
this.oa.y,this.oa.width,this.oa.height)},xH:function(){return this.Fa},tp:function(a){this.Fa=a},z4:function(){return this.Ya},I$:function(a){this.Ya=a},G3:function(){return this.Xb},Nr:function(){return this.W},he:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrame(): spriteFrame should be non-null";a.eb||(this.eb=!1,a.zf(this.yA,this));var c=this.Ba(a.T(),a.ae());this.op(a);return c},yA:null,dP:function(a){this.Ka();this.lb(a.ae(),a.Uc,a.Tc);this.Jd()},cP:function(a){this.Ka();this.lb(a.ae(),
a.Uc,a.Tc);a=this.fd();255===a.h&&255===a.g&&255===a.f||this.hu();this.Jd()},RH:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";a=p.Qf.d().Vg(a);return this.he(a)},hba:function(a){this.Fa=a.Fa;this.Ya=a},ZC:function(a){this.oa.x=a.x;this.oa.y=a.y;this.oa.width=a.width;this.oa.height=a.height},Ad:function(){if(this.Rd){for(var a,c,d=this.p,e,f=1;f<d.length;f++){c=d[f];a=f-1;for(e=d[a];0<=a&&(c.Ua<e.Ua||c.Ua==e.Ua&&c.tf<e.tf);)d[a+1]=e,a-=1,e=d[a];d[a+
1]=c}this.Ya&&this.Sf(d,p.H.of.Ad);this.Rd=!1}},os:function(a,c){if(!a)throw"cc.Sprite.reorderChild(): child should be non-null";-1===this.p.indexOf(a)?p.log("cc.Sprite.reorderChild(): this child is not in children list"):c!==a.Ua&&(this.Ya&&!this.Rd&&(this.tA(),this.Ya.NI(!0)),p.H.prototype.os.call(this,a,c))},removeChild:function(a,c){this.Ya&&this.Ya.Nm(a);p.H.prototype.removeChild.call(this,a,c)},Ie:function(a){var c=this.p,d=this.Ya;if(d&&null!=c)for(var e=0,f=c.length;e<f;e++)d.Nm(c[e]);p.H.prototype.Ie.call(this,
a);this.ki=!1},hJ:function(a){this.ph=a;this.pg(a);a=this.p;if(null!=a)for(var c=0;c<a.length;c++)a[c]instanceof p.w&&a[c].hJ(!0)},yg:function(){this.Ya&&!this.ph&&(this.ya=this.ph=!0,this.ki&&this.hJ(!0))},q:function(a,c){2<=arguments.length?p.H.prototype.q.call(this,a,arguments[1]):p.H.prototype.q.call(this,a);this.yg()},Yw:function(a){p.H.prototype.Yw.call(this,a);this.yg()},Zw:function(a){p.H.prototype.Zw.call(this,a);this.yg()},$w:function(a){p.H.prototype.$w.call(this,a);this.yg()},bx:function(a){p.H.prototype.bx.call(this,
a);this.yg()},cx:function(a){p.H.prototype.cx.call(this,a);this.yg()},rp:function(a){p.H.prototype.rp.call(this,a);this.yg()},Vm:function(a){p.H.prototype.Vm.call(this,a);this.yg()},Mj:function(a,c){p.H.prototype.Mj.call(this,a,c);this.yg()},GJ:function(a){p.H.prototype.GJ.call(this,a);this.yg()},X:function(a,c){2===arguments.length?p.H.prototype.X.call(this,a,c):p.H.prototype.X.call(this,a);this.yg()},v:function(a){p.H.prototype.v.call(this,a);this.yg()},Ci:function(a){this.Ya?p.log("cc.Sprite.ignoreAnchorPointForPosition(): it is invalid in cc.Sprite when using SpriteBatchNode"):
p.H.prototype.Ci.call(this,a)},iV:function(a){this.bc!=a&&(this.bc=a,this.lb(this.oa,this.Ic,this.la),this.Ka())},jV:function(a){this.cc!=a&&(this.cc=a,this.lb(this.oa,this.Ic,this.la),this.Ka())},X5:function(){return this.bc},Y5:function(){return this.cc},kf:null,MO:function(a){this.dc!==a&&(this.dc=a,this.Ds())},LO:function(a){this.dc!==a&&(this.dc=a,this.Ka())},Lk:function(){return this.dc},Nc:null,sP:function(a){p.nb.prototype.Nc.call(this,a);this.Ds()},kG:function(a){p.nb.prototype.Nc.call(this,
a);this.Tl()},u9:function(a,c){if(!a)throw"cc.Sprite.setDisplayFrameWithAnimationName(): animationName must be non-null";var d=p.jl.d().kH(a);d?(d=d.Nd[c])?this.op(d.Vg()):p.log("cc.Sprite.setDisplayFrameWithAnimationName(): Invalid frame index"):p.log("cc.Sprite.setDisplayFrameWithAnimationName(): Frame not found")},W1:function(){return this.Ya},tA:function(){if(!this.Rd){this.Rd=!0;for(var a=this.Y;a&&a!=this.Ya;)a.tA(),a=a.getParent()}},T:function(){return this.ta},yb:null,fv:null,Xe:!1,ku:!1,
Zn:!1,Wf:null,xo:null,jz:null,ctor:null,lh:function(a){p.nb.prototype.ctor.call(this);this.vk=!1;this.Xb=p.cd();this.xh=p.cd();this.W={src:p.ne,ub:p.me};this.oa=p.rect(0,0,0,0);this.yb=new p.Ub;this.fv=p.O.createBuffer();this.eb=this.Xe=!0;this.qd=[];if(a)if("string"===typeof a)a=p.Qf.d().Vg(a),this.he(a);else if("object"===typeof a)if(a instanceof p.od)this.he(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new p.Pb;c.ef(a);c.ge();this.Ba(c)}else a instanceof p.Pb&&
this.Ba(a)},kh:function(a){p.nb.prototype.ctor.call(this);this.vk=!1;this.Xb=p.cd();this.xh=p.cd();this.W={src:p.ne,ub:p.me};this.oa=p.rect(0,0,0,0);this.AF=!1;this.eb=!0;this.qd=[];this.xo={x:0,y:0,width:0,height:0,Gs:!1};this.jz=p.size(0,0);if(a)if("string"===typeof a)a=p.Qf.d().Vg(a),this.he(a);else if("object"===typeof a)if(a instanceof p.od)this.he(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new p.Pb;c.ef(a);c.ge();this.Ba(c)}else a instanceof p.Pb&&this.Ba(a)},
b4:function(){return this.yb},Yk:null,AO:function(a,c){var d=this.W;1===arguments.length?(d.src=a.src,d.ub=a.ub):(d.src=a,d.ub=c)},zO:function(a,c){var d=this.W;1===arguments.length?(d.src=a.src,d.ub=a.ub):(d.src=a,d.ub=c);this.Zn=d&&(770==d.src&&1==d.ub||1==d.src&&1==d.ub)},r:null,Dz:function(){if(0<arguments.length)return this.Di(arguments[0],arguments[1]);p.nb.prototype.r.call(this);this.ya=this.ph=!1;this.dc=!0;this.W.src=p.ne;this.W.ub=p.me;this.aa(null);this.eb=!0;this.bc=this.cc=!1;this.X(0.5,
0.5);this.Xb.C=0;this.Xb.I=0;this.ki=!1;var a={h:255,g:255,f:255,D:255};this.yb.za.G=a;this.yb.Ia.G=a;this.yb.Ga.G=a;this.yb.Ca.G=a;this.Xe=!0;this.lb(p.Pc(),!1,p.rl());return!0},Cz:function(){if(0<arguments.length)return this.Di(arguments[0],arguments[1]);p.nb.prototype.r.call(this);this.ya=this.ph=!1;this.dc=!0;this.W.src=p.ne;this.W.ub=p.me;this.aa(null);this.eb=!0;this.bc=this.cc=!1;this.X(0.5,0.5);this.Xb.C=0;this.Xb.I=0;this.ki=!1;this.lb(p.Pc(),!1,p.rl());return!0},Di:function(a,c){if(!a)throw"cc.Sprite.initWithFile(): filename should be non-null";
var d=p.La.d().jx(a);if(!d)d=p.La.d().Ab(a);else if(!c){var e=d.e();c=p.rect(0,0,e.width,e.height)}return this.Ba(d,c)},Ba:null,Jq:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";d=d||!1;if(!p.nb.prototype.r.call(this))return!1;this.Ya=null;this.ya=this.ph=!1;this.dc=!0;this.W.src=p.ne;this.W.ub=p.me;this.bc=this.cc=!1;this.X(0.5,0.5);this.Xb.C=0;this.Xb.I=0;this.ki=!1;var e=new p.Fb(255,255,255,255),f=this.yb;f.za.G=e;f.Ia.G=e;f.Ga.G=e;f.Ca.G=e;this.eb=
e=a.kg();if(!e)return this.Ic=d||!1,c&&(e=this.oa,e.x=c.x,e.y=c.y,e.width=c.width,e.height=c.height),a.zf(this.xv,this),!0;c||(e=a.e(),c=p.rect(0,0,e.width,e.height));this.aa(a);this.lb(c,d,c.Qa);this.le(null);return this.Xe=!0},Iq:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";d=d||!1;if(!p.nb.prototype.r.call(this))return!1;this.Ya=null;this.ya=this.ph=!1;this.dc=!0;this.W.src=p.ne;this.W.ub=p.me;this.bc=this.cc=!1;this.X(0.5,0.5);this.Xb.C=0;this.Xb.I=
0;this.ki=!1;var e=a.kg();this.eb=e;if(!e)return this.Ic=d||!1,c&&(this.oa.x=c.x,this.oa.y=c.y,this.oa.width=c.width,this.oa.height=c.height),a.zf(this.xv,this),!0;c||(e=a.e(),c=p.rect(0,0,e.width,e.height));this.Wf=a;this.aa(a);this.lb(c,d,c.Qa);this.le(null);return!0},xv:null,iP:function(a){if(!this.eb){this.eb=!0;var c=this.oa;if(!c)c=a.e(),c=p.rect(0,0,c.width,c.height);else if(p.Zq(c)){var d=a.e();c.width=d.width;c.height=d.height}this.aa(a);this.lb(c,this.Ic,c.Qa);this.le(null);this.Xe=!0;this.Jd()}},
hP:function(a){if(!this.eb){this.eb=!0;var c=this.oa;if(!c)c=a.e(),c=p.rect(0,0,c.width,c.height);else if(p.Zq(c)){var d=a.e();c.width=d.width;c.height=d.height}this.Wf=a;this.aa(a);this.lb(c,this.Ic,c.Qa);this.le(null);this.Jd()}},lb:null,SF:function(a,c,d){this.Ic=c||!1;d=d||a.Qa;this.$(d);this.ZC(a);this.RF(a);a=this.xh;this.bc&&(a.C=-a.C);this.cc&&(a.I=-a.I);var e=this.oa;this.Xb.C=a.C+(this.la.xa-e.width)/2;this.Xb.I=a.I+(this.la.ka-e.height)/2;if(this.Ya)this.ya=!0;else{a=0+this.Xb.C;c=0+this.Xb.I;
d=a+e.width;var e=c+e.height,f=this.yb;f.za.o={x:a,y:c,z:0};f.Ia.o={x:d,y:c,z:0};f.Ga.o={x:a,y:e,z:0};f.Ca.o={x:d,y:e,z:0};this.Xe=!0}},uA:function(a,c,d){this.Ic=c||!1;d=d||a.Qa;this.$(d);this.ZC(a);c=this.xo;d=p.md();c.x=0|a.x*d;c.y=0|a.y*d;c.width=0|a.width*d;c.height=0|a.height*d;c.Gs=!(0===c.width||0===c.height);a=this.xh;this.bc&&(a.C=-a.C);this.cc&&(a.I=-a.I);this.Xb.C=a.C+(this.la.xa-this.oa.width)/2;this.Xb.I=a.I+(this.la.ka-this.oa.height)/2;this.Ya&&(this.ya=!0)},Kf:null,AP:function(){if(this.ya){var a=
this.yb,c=this.Y;if(!this.pa||c&&c!=this.Ya&&c.vk)a.Ia.o={x:0,y:0,z:0},a.Ga.o={x:0,y:0,z:0},a.Ca.o={x:0,y:0,z:0},a.za.o={x:0,y:0,z:0},this.vk=!0;else{this.vk=!1;var d=this.em=c&&c!=this.Ya?p.il(this.Gf(),c.em):this.Gf(),e=this.oa.Qa,c=this.Xb.C,f=this.Xb.I,g=c+e.width,e=f+e.height,h=d.Ma,k=d.Na,l=d.D,m=d.f,n=d.Aa,d=-d.ra,s=this.Jv;a.za.o={x:p.Of(c*l-f*d+h),y:p.Of(c*m+f*n+k),z:s};a.Ia.o={x:p.Of(g*l-f*d+h),y:p.Of(g*m+f*n+k),z:s};a.Ga.o={x:p.Of(c*l-e*d+h),y:p.Of(c*m+e*n+k),z:s};a.Ca.o={x:p.Of(g*l-e*
d+h),y:p.Of(g*m+e*n+k),z:s}}this.Fa.ox(a,this.Hc);this.ph=!1;this.pg(!1)}this.ki&&this.Sf(this.p,p.H.of.Kf);p.Vj&&(a=[p.a(this.yb.za.o.x,this.yb.za.o.y),p.a(this.yb.Ia.o.x,this.yb.Ia.o.y),p.a(this.yb.Ca.o.x,this.yb.Ca.o.y),p.a(this.yb.Ga.o.x,this.yb.Ga.o.y)],p.Cf.Ud(a,4,!0))},zP:function(){if(this.ya){var a=this.Y;!this.pa||a&&a!=this.Ya&&a.vk?this.vk=!0:(this.vk=!1,this.em=a&&a!=this.Ya?p.il(this.Gf(),a.em):this.Gf());this.ya=this.ph=!1}this.ki&&this.Sf(this.p,p.H.of.Kf)},m:null,Cy:function(a,c,
d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.Ua);null==d&&(d=a.Wc);if(this.Ya){if(!(a instanceof p.w)){p.log("cc.Sprite.addChild(): cc.Sprite only supports cc.Sprites as children when using cc.SpriteBatchNode");return}a.T().Ah!==this.Fa.T().Ah&&p.log("cc.Sprite.addChild(): cc.Sprite only supports a sprite using same texture as children when using cc.SpriteBatchNode");this.Ya.appendChild(a);this.Rd||this.tA()}p.H.prototype.m.call(this,a,c,d);this.ki=!0},By:function(a,
c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.Ua);null==d&&(d=a.Wc);p.H.prototype.m.call(this,a,c,d);this.ki=!0},Ds:function(){var a=this.rc,c=this.Nb,a={h:a.h,g:a.g,f:a.f,D:c};this.dc&&(a.h*=c/255,a.g*=c/255,a.f*=c/255);c=this.yb;c.za.G=a;c.Ia.G=a;c.Ga.G=a;c.Ca.G=a;this.Ya&&(this.Hc!=p.ey?this.Fa.ox(c,this.Hc):this.ya=!0);this.Xe=!0},Z:null,sA:function(a){p.nb.prototype.Z.call(this,a);this.Ds()},dr:function(a){p.nb.prototype.Z.call(this,a);this.Tl()},k:null,pA:function(a){p.nb.prototype.k.call(this,
a);this.Ds()},br:function(a){var c=this.fd();if(c.h!==a.h||c.g!==a.g||c.f!==a.f)p.nb.prototype.k.call(this,a),this.hu(),this.Tl()},Mc:null,rP:function(a){p.nb.prototype.Mc.call(this,a);this.Ds()},MA:function(a){var c=this.fd();p.nb.prototype.Mc.call(this,a);a=this.rc;if(c.h!==a.h||c.g!==a.g||c.f!==a.f)this.hu(),this.Tl()},op:null,GO:function(a){this.Ka();var c=a.xb;this.xh.C=c.x;this.xh.I=c.y;c=a.T();a.eb||(this.eb=!1,a.zf(function(a){this.eb=!0;var c=a.T();c!=this.ta&&this.aa(c);this.lb(a.ae(),a.Uc,
a.Tc);this.Jd()},this));c!=this.ta&&this.aa(c);this.Ic=a.Uc;this.lb(a.ae(),this.Ic,a.Tc)},FO:function(a){this.Ka();var c=a.xb;this.xh.C=c.x;this.xh.I=c.y;this.Ic=a.Uc;var c=a.T(),d=a.eb;d||(this.eb=!1,a.zf(function(a){this.eb=!0;var c=a.T();c!=this.ta&&this.aa(c);this.lb(a.ae(),a.Uc,a.Tc);this.Jd()},this));c!=this.ta&&this.aa(c);this.Ic&&(this.Wf=c);this.lb(a.ae(),this.Ic,a.Tc);this.ku=!1;d&&(a=this.fd(),255===a.h&&255===a.g&&255===a.f||this.hu())},$H:null,HN:function(a){return p.HI(a.ae(),this.oa)&&
a.T().getName()==this.ta.getName()&&p.xI(a.xb,this.xh)},GN:function(a){return a.T()!=this.ta?!1:p.HI(a.ae(),this.oa)},GQ:function(){return p.od.wc(this.ta,p.mn(this.oa),this.Ic,p.CL(this.xh),p.dy(this.la))},le:null,yO:function(a){if(this.Ya=a)this.em={D:1,f:0,ra:0,Aa:1,Ma:0,Na:0},this.tp(this.Ya.Fa);else{this.Hc=p.ey;this.tp(null);this.ph=!1;this.pg(!1);a=this.Xb.C;var c=this.Xb.I,d=a+this.oa.width,e=c+this.oa.height,f=this.yb;f.za.o={x:a,y:c,z:0};f.Ia.o={x:d,y:c,z:0};f.Ga.o={x:a,y:e,z:0};f.Ca.o=
{x:d,y:e,z:0};this.Xe=!0}},xO:function(a){(this.Ya=a)?(this.em={D:1,f:0,ra:0,Aa:1,Ma:0,Na:0},this.tp(this.Ya.Fa)):(this.Hc=p.ey,this.tp(null),this.ph=!1,this.pg(!1))},aa:null,fr:function(a){if(a&&!(a instanceof p.Pb))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.Ya&&this.Ya.T()!=a?p.log("cc.Sprite.setTexture(): Batched sprites should use the same texture as the batchnode"):(a?this.qg(p.ih.d().Oh(p.cy)):this.qg(p.ih.d().Oh(p.LL)),this.Ya||this.ta==a||(this.ta=
a,this.fm()))},er:function(a){if(a&&!(a instanceof p.Pb))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.ta!=a&&(a&&a.sc instanceof HTMLImageElement&&(this.Wf=a),this.ta=a)},fm:function(){this.Ya?p.log("cc.Sprite._updateBlendFunc(): _updateBlendFunc doesn't work when the sprite is rendered using a cc.CCSpriteBatchNode"):this.ta&&this.ta.Yr()?(this.W.src=p.ne,this.W.ub=p.me,this.kf(!0)):(this.W.src=770,this.W.ub=771,this.kf(!1))},hu:function(){var a,c=this.ta,
d=this.xo;c&&d.Gs&&this.Wf&&(a=c.sc)&&(c=p.La.d().yH(this.Wf.sc))&&(this.ku=!0,a instanceof HTMLCanvasElement&&!this.Ic&&!this.AF?p.wB(a,c,this.rc,d,a):(a=p.wB(a,c,this.rc,d),c=new p.Pb,c.ef(a),c.ge(),this.aa(c)))},RF:function(a){a=p.mn(a);var c=this.Ya?this.Fa.T():this.ta;if(c){var d=c.So(),e=c.Ro(),f,g=this.yb;this.Ic?(p.kt?(c=(2*a.x+1)/(2*d),d=c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/d,f=a.y/e,a=(a.y+a.width)/e),this.bc&&(e=f,f=a,a=e),this.cc&&
(e=c,c=d,d=e),g.za.u.Da=c,g.za.u.da=f,g.Ia.u.Da=c,g.Ia.u.da=a,g.Ga.u.Da=d,g.Ga.u.da=f,g.Ca.u.Da=d,g.Ca.u.da=a):(p.kt?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+a.height)/e),this.bc&&(e=c,c=d,d=e),this.cc&&(e=f,f=a,a=e),g.za.u.Da=c,g.za.u.da=a,g.Ia.u.Da=d,g.Ia.u.da=a,g.Ga.u.Da=c,g.Ga.u.da=f,g.Ca.u.Da=d,g.Ca.u.da=f);this.Xe=!0}},Ja:null,Vf:function(){if(this.eb){var a=p.O,c=this.ta;c?c.hc&&(this.tc.Pe(),this.tc.rg(),
p.Ej(this.W.src,this.W.ub),p.n5(0,c),p.be(p.St),a.bindBuffer(a.ARRAY_BUFFER,this.fv),this.Xe&&(a.bufferData(a.ARRAY_BUFFER,this.yb.bB,a.DYNAMIC_DRAW),this.Xe=!1),a.vertexAttribPointer(0,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(1,4,a.UNSIGNED_BYTE,!0,24,12),a.vertexAttribPointer(2,2,a.FLOAT,!1,24,16),a.drawArrays(a.TRIANGLE_STRIP,0,4)):(this.tc.Pe(),this.tc.rg(),p.Ej(this.W.src,this.W.ub),p.gg(null),p.be(p.zg|p.eM),a.bindBuffer(a.ARRAY_BUFFER,this.fv),this.Xe&&(p.O.bufferData(p.O.ARRAY_BUFFER,this.yb.bB,
p.O.STATIC_DRAW),this.Xe=!1),a.vertexAttribPointer(p.qe,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(p.Sp,4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));p.Fh++;0!==p.Vj&&(1===p.Vj?(a=this.yb,a=[p.a(a.Ga.o.x,a.Ga.o.y),p.a(a.za.o.x,a.za.o.y),p.a(a.Ia.o.x,a.Ia.o.y),p.a(a.Ca.o.x,a.Ca.o.y)],p.Cf.Ud(a,4,!0)):2===p.Vj&&(a=this.IB().Qa,c=this.Xb,a=[p.a(c.x,c.y),p.a(c.x+a.width,c.y),p.a(c.x+a.width,c.y+a.height),p.a(c.x,c.y+a.height)],p.Cf.Ud(a,4,!0)))}},Cl:function(a){if(this.eb){a=a||p.O;this.Zn&&
(a.globalCompositeOperation="lighter");var c=p.ja.d().ma,d=p.ja.d().qa;a.globalAlpha=this.Nb/255;var e=this.oa,f=this.la,g=this.Xb,h=this.jz,k=0|g.C,l=-g.I-e.height,m=this.xo;h.width=e.width*c;h.height=e.height*d;if(this.bc||this.cc)a.save(),this.bc&&(k=-g.C-e.width,a.scale(-1,1)),this.cc&&(l=g.I,a.scale(1,-1));k*=c;l*=d;this.ta&&m.Gs?(f=this.ta.sc,this.ku?a.drawImage(f,0,0,m.width,m.height,k,l,h.width,h.height):a.drawImage(f,m.x,m.y,m.width,m.height,k,l,h.width,h.height)):0!==f.xa&&(h=this.fd(),
a.fillStyle="rgba("+h.h+","+h.g+","+h.f+",1)",a.fillRect(k,l,f.xa*c,f.ka*d));1===p.Vj?(a.strokeStyle="rgba(0,255,0,1)",k/=c,l=-(l/d),k=[p.a(k,l),p.a(k+e.width,l),p.a(k+e.width,l-e.height),p.a(k,l-e.height)],p.Cf.Ud(k,4,!0)):2===p.Vj&&(a.strokeStyle="rgba(0,255,0,1)",c=this.oa.Qa,l=-l,k=[p.a(k,l),p.a(k+c.width,l),p.a(k+c.width,l-c.height),p.a(k,l-c.height)],p.Cf.Ud(k,4,!0));(this.bc||this.cc)&&a.restore();p.Fh++}}});
p.wa.Ac?(b=p.w.prototype,b.yA=p.w.prototype.dP,b.kf=p.w.prototype.MO,b.Nc=p.w.prototype.sP,b.ctor=p.w.prototype.lh,b.Yk=p.w.prototype.AO,b.r=p.w.prototype.Dz,b.Ba=p.w.prototype.Jq,b.xv=p.w.prototype.iP,b.lb=p.w.prototype.SF,b.Kf=p.w.prototype.AP,b.m=p.w.prototype.Cy,b.Z=p.w.prototype.sA,b.k=p.w.prototype.pA,b.Mc=p.w.prototype.rP,b.op=p.w.prototype.GO,b.$H=p.w.prototype.HN,b.le=p.w.prototype.yO,b.aa=p.w.prototype.fr,b.Ja=p.w.prototype.Vf):(b=p.w.prototype,b.yA=p.w.prototype.cP,b.kf=p.w.prototype.LO,
b.Nc=p.w.prototype.kG,b.ctor=p.w.prototype.kh,b.Yk=p.w.prototype.zO,b.r=p.w.prototype.Cz,b.Ba=p.w.prototype.Iq,b.xv=p.w.prototype.hP,b.lb=p.w.prototype.uA,b.Kf=p.w.prototype.zP,b.m=p.w.prototype.By,b.Z=p.w.prototype.dr,b.k=p.w.prototype.br,b.Mc=p.w.prototype.MA,b.op=p.w.prototype.FO,b.$H=p.w.prototype.GN,b.le=p.w.prototype.xO,b.aa=p.w.prototype.er,b.Ja=p.w.prototype.Cl);
p.w.wc=function(a,c){var d=arguments.length,e=new p.w;switch(d){case 1:return e&&e.Ba(a)?e:null;case 2:return e&&e.Ba(a,c)?e:null;default:throw"Sprite.createWithTexture(): Argument must be non-nil ";}};p.w.create=function(a,c){var d=arguments.length,e=new p.w;if(0===d){if(e.r())return e}else if(e&&e.r(a,c))return e;return null};
p.w.NG=function(a){var c=null;if("string"==typeof a){if(c=p.Qf.d().Vg(a),!c)return p.log("Invalid spriteFrameName: "+a),null}else return p.log("Invalid argument. Expecting string."),null;return(a=new p.w)&&a.he(c)?a:null};p.w.MG=function(a){var c=new p.w;return c&&c.he(a)?c:null};p.Mi=p.sa.extend({ir:null,Ld:0,Br:null,ctor:function(){this.Ld=0},B:function(){var a=new p.Mi;a.he(this.ir.B(),this.Ld,this.Br);return a},Sv:function(){return p.B(this)},copy:function(){var a=new p.Mi;a.he(this.ir.B(),this.Ld,this.Br);return a},he:function(a,c,d){this.ir=a;this.Ld=c;this.Br=d;return!0},Vg:function(){return this.ir},lf:function(a){this.ir=a},x2:function(){return this.Ld},t9:function(a){this.Ld=a},Y4:function(){return this.Br},$$:function(a){this.Br=a}});
p.Li=p.sa.extend({Nd:null,lj:0,Ql:!1,na:0,Ld:0,cm:0,ctor:function(){this.Nd=[]},P2:function(){return this.Nd},mJ:function(a){this.Nd=a},$A:function(a){var c=new p.Mi;c.he(a,1,null);this.Nd.push(c);this.cm++},R_:function(a){a=p.La.d().Ab(a);var c=p.Pc();c.Qa=a.e();a=p.od.wc(a,c);this.$A(a)},S_:function(a,c){var d=p.od.wc(a,c);this.$A(d)},Zr:function(a,c,d){p.Ls(a,p.Mi);this.Ld=c;this.lj=d;this.mJ([]);for(c=0;c<a.length;c++)d=a[c],this.Nd.push(d),this.cm+=d.Ld;return!0},B:function(){var a=new p.Li;
a.Zr(this.WE(),this.Ld,this.lj);a.Xw(this.Ql);return a},Sv:function(){var a=new p.Li;a.Zr(this.WE(),this.Ld,this.lj);a.Xw(this.Ql);return a},WE:function(){for(var a=[],c=0;c<this.Nd.length;c++)a.push(this.Nd[c].B());return a},copy:function(){return this.Sv(null)},f3:function(){return this.lj},R9:function(a){this.lj=a},Xw:function(a){this.Ql=a},k4:function(){return this.Ql},bf:function(){return this.cm*this.Ld},w2:function(){return this.Ld},s9:function(a){this.Ld=a},Q4:function(){return this.cm},SH:function(a,
c){p.Ls(a,p.od);this.lj=1;this.Ld=c||0;this.mJ([]);if(a)for(var d=0;d<a.length;d++){var e=a[d],f=new p.Mi;f.he(e,1,null);this.Nd.push(f);this.cm++}return!0},SI:function(){},AC:function(){}});p.Li.create=function(a,c,d){var e=arguments.length,f=new p.Li;0==e?f.SH(null,0):2==e?f.SH(a,c||0):3==e&&f.Zr(a,c,d);return f};p.Li.LG=function(a,c,d){var e=new p.Li;e.Zr(a,c,d);return e};p.jl=p.sa.extend({vG:function(a,c){this.wl[c]=a},B8:function(a){a&&this.wl.hasOwnProperty(a)&&delete this.wl[a]},kH:function(a){return this.wl.hasOwnProperty(a)?this.wl[a]:null},uM:function(a,c){var d=a.animations;if(d){var e=1,f=a.properties;if(f)for(var e=null!=f.format?parseInt(f.format):e,f=f.spritesheets,g=p.Qf.d(),h=p.nd.d(),k,l=0;l<f.length;l++)k=h.jH(f[l],c),g.CG(k);switch(e){case 1:this.aO(d);break;case 2:this.bO(d);break;default:p.log("cc.AnimationCache. Invalid animation format")}}else p.log("cocos2d: cc.AnimationCache: No animations were found in provided dictionary.")},
H_:function(a){if(!a)throw"cc.AnimationCache.addAnimations(): Invalid texture file name";var c=p.nd.d(),d=c.Zd(a);(c=c.Uv(d))?this.uM(c,a):p.log("cc.AnimationCache.addAnimations(): File could not be found")},aO:function(a){var c=p.Qf.d(),d;for(d in a){var e=a[d],f=e.frames,e=parseFloat(e.delay)||0,g=null;if(f){for(var g=[],h=0;h<f.length;h++){var k=c.Vg(f[h]);if(k){var l=new p.Mi;l.he(k,1,null);g.push(l)}else p.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+f[h]+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}0===
g.length?p.log("cocos2d: cc.AnimationCache: None of the frames for animation '"+d+"' were found in the cc.SpriteFrameCache. Animation is not being added to the Animation Cache."):(g.length!=f.length&&p.log("cocos2d: cc.AnimationCache: An animation in your dictionary refers to a frame which is not in the cc.SpriteFrameCache. Some or all of the frames for the animation '"+d+"' may be missing."),g=p.Li.LG(g,e,1),p.jl.d().vG(g,d))}else p.log("cocos2d: cc.AnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},
bO:function(a){var c=p.Qf.d(),d;for(d in a){var e=a[d],f=parseInt(e.loops),f=e.loop?p.ql:isNaN(f)?1:f,g=e.restoreOriginalFrame&&!0==e.restoreOriginalFrame?!0:!1,h=e.frames;if(h){for(var k=[],l=0;l<h.length;l++){var m=h[l],n=m.spriteframe,s=c.Vg(n);if(s){var n=parseFloat(m.delayUnits)||0,m=m.notification,q=new p.Mi;q.he(s,n,m);k.push(q)}else p.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+n+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}e=
parseFloat(e.delayPerUnit)||0;h=new p.Li;h.Zr(k,e,f);h.Xw(g);p.jl.d().vG(h,d)}else p.log("cocos2d: CCAnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},r:function(){this.wl={};return!0},wl:null});p.jl.QT=function(){p.Qm&&(p.Qm.wl=null,p.Qm=null)};p.jl.d=function(){null===p.Qm&&(p.Qm=new p.jl,p.Qm.r());return p.Qm};p.Qm=null;p.od=p.sa.extend({xb:null,Tc:null,xe:null,Uc:!1,oa:null,sf:null,Ue:null,ta:null,wo:"",eb:!1,uu:null,ctor:function(){this.xb=p.cd();this.sf=p.cd();this.Tc=p.Vl();this.Uc=!1;this.Ue=p.Vl();this.wo="";this.ta=null;this.eb=!1},aK:function(){return this.eb},zf:function(a,c){null==this.uu&&(this.uu=[]);this.uu.push({Dj:a,Eh:c})},Jd:function(){var a=this.uu;if(a){for(var c=0,d=a.length;c<d;c++){var e=a[c];e.Dj.call(e.Eh,this)}a.length=0}},AR:function(){var a=this.xe;return p.rect(a.x,a.y,a.width,a.height)},
w$:function(a){this.xe||(this.xe=p.rect(0,0,0,0));this.xe.x=a.x;this.xe.y=a.y;this.xe.width=a.width;this.xe.height=a.height;this.oa=p.Jp(a)},o6:function(){return this.Uc},E$:function(a){this.Uc=a},ae:function(){var a=this.oa;return p.rect(a.x,a.y,a.width,a.height)},vJ:function(a){this.oa||(this.oa=p.rect(0,0,0,0));this.oa.x=a.x;this.oa.y=a.y;this.oa.width=a.width;this.oa.height=a.height;this.xe=p.mn(this.oa)},F3:function(){return this.sf},f$:function(a){this.sf.C=a.x;this.sf.I=a.y;p.Vt(this.sf,this.xb)},
M3:function(){return this.Ue},i$:function(a){this.Ue.xa=a.width;this.Ue.ka=a.height},uR:function(){return this.Tc},h$:function(a){this.Tc.xa=a.width;this.Tc.ka=a.height},T:function(){if(this.ta)return this.ta;if(""!==this.wo){var a=p.La.d().Ab(this.wo);a&&(this.eb=a.kg());return a}return null},aa:function(a){if(this.ta!=a){var c=a.kg();this.eb=c;this.ta=a;c||a.zf(function(a){this.eb=!0;if(this.Uc&&p.kd===p.Mf){var c=a.sc,c=p.OG(c,this.ae()),f=new p.Pb;f.ef(c);f.ge();this.aa(f);c=this.ae();this.vJ(p.rect(0,
0,c.width,c.height))}c=this.oa;0===c.width&&0===c.height&&(a=a.e(),this.oa.width=a.width,this.oa.height=a.height,this.xe=p.mn(this.oa),this.Ue.xa=this.xe.width,this.Ue.ka=this.xe.height,this.Tc.xa=a.width,this.Tc.ka=a.height);this.Jd()},this)}},E3:function(){return this.xb},e$:function(a){this.xb.C=a.x;this.xb.I=a.y},B:function(){var a=new p.od;a.pw(this.wo,this.xe,this.Uc,this.sf,this.Ue);a.aa(this.ta);return a},Sv:function(){var a=new p.od;a.pw(this.wo,this.xe,this.Uc,this.sf,this.Ue);a.aa(this.ta);
return a},copy:function(){return this.Sv()},Ba:function(a,c,d,e,f){2===arguments.length&&(c=p.mn(c));e=e||p.a(0,0);f=f||c.Qa;this.aa(a);this.xe=c;this.oa=p.Jp(c);this.sf.C=e.x;this.sf.I=e.y;p.Vt(e,this.xb);this.Ue.xa=f.width;this.Ue.ka=f.height;p.uy(f,this.Tc);this.Uc=d||!1;return!0},pw:function(a,c,d,e,f){2===arguments.length&&(c=p.mn(c));e=e||p.a(0,0);f=f||c.Qa;this.ta=null;this.wo=a;this.xe=c;this.oa=p.Jp(c);this.Uc=d||!1;this.sf.C=e.x;this.sf.I=e.y;p.Vt(e,this.xb);this.Ue.xa=f.width;this.Ue.ka=
f.height;p.uy(f,this.Tc);return!0}});p.od.create=function(a,c,d,e,f){var g=new p.od;switch(arguments.length){case 2:g.pw(a,c);break;case 5:g.pw(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};p.od.wc=function(a,c,d,e,f){var g=new p.od;switch(arguments.length){case 2:g.Ba(a,c);break;case 5:g.Ba(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};
p.od.a_=function(a,c,d,e,f){var g=new p.od;g.ta=a;g.xe=c;g.oa=p.Jp(c);g.sf.C=e.x;g.sf.I=e.y;p.Vt(g.sf,g.xb);g.Ue.xa=f.width;g.Ue.ka=f.height;p.uy(g.Ue,g.Tc);g.Uc=d;return g};p.Qf=p.sa.extend({ze:null,wk:null,Oq:null,ctor:function(){this.ze={};this.wk={};this.Oq=[]},Ey:function(a,c){var d=a.metadata||a.meta,e=a.frames,f=0;d&&(f=d.format,f=1>=f.length?parseInt(f):f);if(0>f||3<f)p.log("format is not supported for cc.SpriteFrameCache.addSpriteFramesWithDictionary");else for(var g in e)if(d=e[g]){var h=this.ze[g];if(!h){if(0==f){var h=parseFloat(d.x),k=parseFloat(d.y),l=parseFloat(d.width),m=parseFloat(d.height),n=parseFloat(d.offsetX),s=parseFloat(d.offsetY),q=parseInt(d.originalWidth),
d=parseInt(d.originalHeight);q&&d||p.log("cocos2d: WARNING: originalWidth/Height not found on the cc.SpriteFrame. AnchorPoint won't work as expected. Regenrate the .plist");q=Math.abs(q);d=Math.abs(d);h=p.od.wc(c,p.rect(h,k,l,m),!1,p.a(n,s),p.size(q,d))}else if(1==f||2==f)h=p.jE(d.frame),k=!1,2==f&&(k=d.rotated),l=p.iE(d.offset),d=p.gy(d.sourceSize),h=p.od.wc(c,h,k,l,d);else if(3==f){var h=p.gy(d.spriteSize),k=p.iE(d.spriteOffset),l=p.gy(d.spriteSourceSize),m=p.jE(d.textureRect),n=d.textureRotated,
s=d.aliases,q=g.toString(),v;for(v in s)this.wk.hasOwnProperty(s[v])&&p.log("cocos2d: WARNING: an alias with name "+v+" already exists"),this.wk[s[v]]=q;d.hasOwnProperty("spriteSize")&&(m=p.rect(m.x,m.y,h.width,h.height));h=p.od.wc(c,m,n,k,l)}else var z=d.filename,k=d.frame,h=d.sourceSize,k=p.rect(k.x,k.y,k.pK,k.fe),d=d.rotated,l=p.a(0,0),h=p.size(h.pK,h.fe),h=p.od.wc(c,k,d,l,h);p.kd===p.Mf&&h.Uc&&h.T().kg()&&(d=h.T().sc,d=p.OG(d,h.AR()),k=new p.Pb,k.ef(d),k.ge(),h.aa(k),d=h.oa,h.vJ(p.rect(0,0,d.width,
d.height)));this.ze[null!=z?z:g]=h}}},CG:function(a,c){if(!a)throw"cc.SpriteFrameCache.addSpriteFrames(): plist should be non-null";var d=p.nd.d(),e;"plist"==a.substr(a.lastIndexOf(".",a.length)+1,a.length)?(e=d.Zd(a),e=d.Uv(e)):e=JSON.parse(d.wH(a));switch(arguments.length){case 1:if(!p.ux(this.Oq,a)){var f="",g=e.metadata||e.meta;g&&(f=g.textureFileName||g.image);""!=f?f=d.jH(f,a):(f=a,f=f.substr(0,f.lastIndexOf(".",f.length)),f+=".png");(d=p.La.d().Ab(f))?this.Ey(e,d):p.log("cocos2d: cc.SpriteFrameCache: Couldn't load texture")}break;
case 2:if(c instanceof p.Pb)this.Ey(e,c);else{if(!c)throw"cc.SpriteFrameCache.addSpriteFrames(): texture name should not be null";(d=p.La.d().Ab(c))?this.Ey(e,d):p.log("cocos2d: cc.SpriteFrameCache: couldn't load texture file. File not found "+c)}break;default:throw"Argument must be non-nil ";}},$A:function(a,c){this.ze[c]=a},K8:function(){this.ze=[];this.wk=[];this.Oq={}},J8:function(a){a&&(this.wk.hasOwnProperty(a)&&delete this.wk[a],this.ze.hasOwnProperty(a)&&delete this.ze[a],this.Oq={})},L8:function(a){var c=
p.nd.d(),d=c.Zd(a),c=c.Uv(d);this.lO(c);p.ux(this.Oq,a)&&p.Dd(a)},lO:function(a){a=a.frames;for(var c in a)this.ze.hasOwnProperty(c)&&delete this.ze[c]},M8:function(a){for(var c in this.ze){var d=this.ze[c];d&&d.T()==a&&delete this.ze[c]}},Vg:function(a){var c;this.ze.hasOwnProperty(a)&&(c=this.ze[a]);if(!c){var d;this.wk.hasOwnProperty(a)&&(d=this.wk[a]);d&&(this.ze.hasOwnProperty(d.toString())&&(c=this.ze[d.toString()]),c||p.log("cocos2d: cc.SpriteFrameCahce: Frame "+a+" not found"))}return c}});
p.Nw=null;p.Qf.d=function(){p.Nw||(p.Nw=new p.Qf);return p.Nw};p.Qf.RT=function(){p.Nw=null};p.Hp=29;
p.hb=p.H.extend({Fa:null,W:null,ad:null,T_:function(a,c,d){if(!a)throw"cc.SpriteBatchNode.addQuadFromSprite(): child should be non-null";if(!(a instanceof p.w))return p.log("cc.SpriteBatchNode.addQuadFromSprite(): SpriteBatchNode only supports cc.Sprites as children"),null;a.ke(c);var e=0,f=this.ad;if(f&&0<f.length)for(var g=0;g<f.length;g++){var h=f[g];h&&h.Hc>=c&&++e}this.ad=p.kl(f,a,e);p.H.prototype.m.call(this,a,c,d);this.NI(!1);return this},xH:function(){return this.Fa},tp:function(a){a!=this.Fa&&
(this.Fa=a)},A2:function(){return this.ad},Di:function(a,c){var d=p.La.d().jx(a);d||(d=p.La.d().Ab(a));return this.Ba(d,c)},Tl:function(){this.SE=!0},r:function(a,c){var d=p.La.d().jx(a);d||(d=p.La.d().Ab(a));return this.Ba(d,c)},kw:function(){var a=this.Fa.Qc,c=Math.floor(4*(a+1)/3);p.log("cocos2d: CCSpriteBatchNode: resizing TextureAtlas capacity from "+a+" to "+c+".");this.Fa.vU(c)||p.log("cocos2d: WARNING: Not enough memory to resize the atlas")},D8:function(a,c){this.removeChild(this.p[a],c)},
GI:function(a,c){var d=a.p;if(d&&0<d.length)for(var e=0;e<d.length;e++){var f=d[e];f&&0>f.Ua&&(c=this.GI(f,c))}!a==this&&(a.ke(c),c++);if(d&&0<d.length)for(e=0;e<d.length;e++)(f=d[e])&&0<=f.Ua&&(c=this.GI(f,c));return c},SB:function(a){var c=a.p;return c&&0!=c.length?this.SB(c[c.length-1]):a.Hc},TS:function(a){var c=a.p;return c&&0!=c.length?this.TS(c[c.length-1]):a.Hc},PP:function(a,c){var d=a.getParent().p,e=p.wx(d,a),f=a.getParent()==this,g=null;0<e&&e<p.bM&&(g=d[e-1]);if(f)return 0==e?0:this.SB(g)+
1;if(0==e)return d=a.getParent(),0>c?d.Hc:d.Hc+1;if(0>g.Ua&&0>c||0<=g.Ua&&0<=c)return this.SB(g)+1;d=a.getParent();return d.Hc+1},NI:function(a){this.Rd=a},Yk:function(a,c){this.W=1==arguments.length?a:{src:a,ub:c}},Nr:function(){return this.W},os:function(a,c){if(!a)throw"cc.SpriteBatchNode.addChild():child should be non-null";-1===this.p.indexOf(a)?p.log("cc.SpriteBatchNode.addChild(): Child doesn't belong to Sprite"):c!==a.Ua&&(p.H.prototype.os.call(this,a,c),this.Ka())},removeChild:function(a,
c){null!=a&&(-1===this.p.indexOf(a)?p.log("cc.SpriteBatchNode.addChild(): sprite batch node should contain the child"):(this.Nm(a),p.H.prototype.removeChild.call(this,a,c)))},RN:null,am:null,D_:!1,Wf:null,ctor:null,kh:function(a){p.H.prototype.ctor.call(this);a&&this.r(a,p.Hp)},lh:function(a){p.H.prototype.ctor.call(this);this.RN=new p.Xg;a&&this.r(a,p.Hp)},lK:null,wP:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";a instanceof p.w?(a.le(this),a.ke(c),
a.pg(!0),a.Kf()):p.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},xP:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";if(a instanceof p.w){for(var d=this.Fa.Qc;c>=d||d==this.Fa.Ha;)this.kw();a.le(this);a.ke(c);a.pg(!0);a.Kf()}else p.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},tv:function(a,c){var d=this.ad,e=this.Fa,f=e.ve,g=d[a],
h=p.ry(f[a]);d[c].ke(a);d[a]=d[c];e.ox(f[c],a);d[c]=g;e.ox(h,c)},TH:null,EN:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";a instanceof p.w?(a.le(this),a.ke(c),a.pg(!0),a.Kf(),this.p=p.kl(this.p,a,c)):p.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},FN:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";if(a instanceof p.w){for(var d=this.Fa;c>=d.Qc||
d.Qc===d.Ha;)this.kw();a.le(this);a.ke(c);d.aC(a.yb,c);a.pg(!0);a.Kf()}else p.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},jG:function(a,c){var d=0,e=a.p;e&&(d=e.length);var f=0;if(0===d)f=a.Hc,a.ke(c),a.qp(0),f!=c&&this.tv(f,c),c++;else{f=!0;0<=e[0].Ua&&(f=a.Hc,a.ke(c),a.qp(0),f!=c&&this.tv(f,c),c++,f=!1);for(d=0;d<e.length;d++){var g=e[d];f&&0<=g.Ua&&(f=a.Hc,a.ke(c),a.qp(0),f!=c&&this.tv(f,c),c++,f=!1);c=this.jG(g,c)}f&&(f=a.Hc,a.ke(c),
a.qp(0),f!=c&&this.tv(f,c),c++)}return c},fm:function(){this.Fa.T().Yr()||(this.W.src=770,this.W.ub=771)},Ba:null,Iq:function(a){this.p=[];this.ad=[];this.W=new p.ml(p.ne,p.me);this.am=this.Wf=a;return!0},Jq:function(a,c){this.p=[];this.ad=[];this.W=new p.ml(p.ne,p.me);c=c||p.Hp;this.Fa=new p.tn;this.Fa.Ba(a,c);this.fm();this.qg(p.ih.d().Oh(p.cy));return!0},wS:function(a,c){a.le(this);a.ke(c);a.pg(!0);var d=this.Fa;d.Ha>=d.Qc&&this.kw();d.aC(a.yb,c);this.ad=p.kl(this.ad,a,c);var d=c+1,e=this.ad;if(e&&
0<e.length)for(;d<e.length;d++)e[d].ke(e[d].Hc+1);if((e=a.p)&&0<e.length)for(d=0;d<e.length;d++)if(e[d]){var f=this.PP(e[d],e[d].Ua);this.wS(e[d],f)}},appendChild:null,BM:function(a){this.Rd=!0;a.le(this);a.pg(!0);this.ad.push(a);a.ke(this.ad.length-1);a=a.p;for(var c=0;c<a.length;c++)this.appendChild(a[c])},CM:function(a){this.Rd=!0;a.le(this);a.pg(!0);this.ad.push(a);var c=this.ad.length-1;a.ke(c);var d=this.Fa;d.Ha==d.Qc&&this.kw();d.aC(a.yb,c);a=a.p;for(c=0;c<a.length;c++)this.appendChild(a[c])},
Nm:null,mO:function(a){a.le(null);var c=this.ad,d=p.wx(c,a);if(-1!=d){p.Cp(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.ke(f.Hc-1)}}if((a=a.p)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.Nm(a[c])},nO:function(a){this.Fa.pU(a.Hc);a.le(null);var c=this.ad,d=p.wx(c,a);if(-1!=d){p.Cp(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.ke(f.Hc-1)}}if((a=a.p)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.Nm(a[c])},T:null,xz:function(){return this.am},yz:function(){return this.Fa.T()},aa:null,er:function(a){this.am=
a;for(var c=this.p,d=0;d<c.length;d++)c[d].aa(a)},fr:function(a){this.Fa.aa(a);this.fm()},ia:null,gm:function(a){var c=a||p.O;if(this.pa){c.save();this.transform(a);var d=this.p;if(d)for(this.Ad(),a=0;a<d.length;a++)d[a]&&d[a].ia(c);c.restore()}},hm:function(a){a=a||p.O;if(this.pa){p.cp();var c=this.ik;c&&c.Zo()&&(c.eB(),this.mx());this.Ad();this.transform(a);this.Ja(a);c&&c.Zo()&&c.aB(this);p.bp();this.qp(0)}},m:null,By:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";
a instanceof p.w?(c=null==c?a.Ua:c,d=null==d?a.Wc:d,p.H.prototype.m.call(this,a,c,d),this.appendChild(a),this.Ka()):p.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},Cy:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";a instanceof p.w?a.T()!=this.Fa.T()?p.log("cc.SpriteBatchNode.addChild(): cc.Sprite is not using the same texture"):(c=null==c?a.Ua:c,d=null==d?a.Wc:d,p.H.prototype.m.call(this,a,c,d),this.appendChild(a),
this.Ka()):p.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},Ie:null,iO:function(a){var c=this.ad;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].le(null);p.H.prototype.Ie.call(this,a);this.ad=[]},jO:function(a){var c=this.ad;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].le(null);p.H.prototype.Ie.call(this,a);this.ad=[];this.Fa.jU()},Ad:null,aP:function(){if(this.Rd){var a,c=0,d=this.p,e=d.length,f;for(a=1;a<e;a++){var g=d[a],
c=a-1;for(f=d[c];0<=c&&(g.Ua<f.Ua||g.Ua==f.Ua&&g.tf<f.tf);)d[c+1]=f,c-=1,f=d[c];d[c+1]=g}0<d.length&&this.Sf(d,p.H.of.Ad);this.Rd=!1}},bP:function(){if(this.Rd){var a=this.p,c,d=0,e=a.length,f;for(c=1;c<e;c++){var g=a[c],d=c-1;for(f=a[d];0<=d&&(g.Ua<f.Ua||g.Ua==f.Ua&&g.tf<f.tf);)a[d+1]=f,d-=1,f=a[d];a[d+1]=g}if(0<a.length)for(this.Sf(a,p.H.of.Ad),c=d=0;c<a.length;c++)d=this.jG(a[c],d);this.Rd=!1}},Ja:null,Vf:function(){0!==this.Fa.Ha&&(this.tc.Pe(),this.tc.rg(),this.Sf(this.p,p.H.of.Kf),p.Ej(this.W.src,
this.W.ub),this.Fa.LQ())}});
p.wa.Ac?(b=p.hb.prototype,b.ctor=p.hb.prototype.lh,b.lK=p.hb.prototype.xP,b.TH=p.hb.prototype.FN,b.Ba=p.hb.prototype.Jq,b.appendChild=p.hb.prototype.CM,b.Nm=p.hb.prototype.nO,b.T=p.hb.prototype.yz,b.aa=p.hb.prototype.fr,b.ia=p.hb.prototype.hm,b.m=p.hb.prototype.Cy,b.Ie=p.hb.prototype.jO,b.Ad=p.hb.prototype.bP,b.Ja=p.hb.prototype.Vf):(b=p.hb.prototype,b.ctor=p.hb.prototype.kh,b.lK=p.hb.prototype.wP,b.TH=p.hb.prototype.EN,b.Ba=p.hb.prototype.Iq,b.appendChild=p.hb.prototype.BM,b.Nm=p.hb.prototype.mO,
b.T=p.hb.prototype.xz,b.aa=p.hb.prototype.er,b.ia=p.hb.prototype.gm,b.Ie=p.hb.prototype.iO,b.m=p.hb.prototype.By,b.Ad=p.hb.prototype.aP,b.Ja=p.H.prototype.Ja);p.hb.create=function(a,c){c=c||p.Hp;var d=new p.hb;d.r(a,c);return d};p.hb.wc=function(a,c){c=c||p.Hp;var d=new p.hb;d.Ba(a,c);return d};p.uX={rX:0,tX:1,sX:2,qX:3,pX:4};
p.oe=p.sa.extend({Qq:0,vF:0,or:!1,nr:!1,pv:!1,qv:!1,rv:!1,ON:0,Su:0,Wp:"",xj:null,ctor:function(){this.vF=this.Qq=0;this.rv=this.qv=this.pv=this.nr=this.or=!1;this.Su=this.ON=0;this.Wp="";this.xj={}},l3:function(){return this.Qq},k3:function(){return this.vF},m3:function(){return this.Su},Caa:function(){return this.nr},Daa:function(){return this.or},Aaa:function(){return this.pv},Baa:function(){return this.qv},Eaa:function(){return this.rv},Ho:function(a){return-1<this.Wp.indexOf(a)},r:function(){var a=
this.xj;a["cocos2d.x.version"]=p.Rs;a["cocos2d.x.compiled_with_profiler"]=!1;a["cocos2d.x.compiled_with_gl_state_cache"]=p.ND;return!0},d2:function(a,c){var d=this.xj;return d.hasOwnProperty(a)?d[a]:c},Y1:function(a,c){null==c&&(c=!1);var d=this.xj;return d.hasOwnProperty(a)?d[a]:c},w3:function(a,c){null==c&&(c=0);var d=this.xj;return d.hasOwnProperty(a)?d[a]:c},y3:function(a){var c=this.xj;return c.hasOwnProperty(a)?c[a]:null},zV:function(a,c){this.xj[a]=c},PQ:function(){0===p.ND&&(p.log(""),p.log("cocos2d: **** WARNING **** CC_ENABLE_PROFILERS is defined. Disable it when you finish profiling (from ccConfig.js)"),
p.log(""))},$Q:function(){if(p.kd!==p.Mf){var a=p.O,c=this.xj;c["gl.vendor"]=a.getParameter(a.VENDOR);c["gl.renderer"]=a.getParameter(a.RENDERER);c["gl.version"]=a.getParameter(a.VERSION);this.Wp="";for(var d=a.getSupportedExtensions(),e=0;e<d.length;e++)this.Wp+=d[e]+" ";this.Qq=a.getParameter(a.MAX_TEXTURE_SIZE);c["gl.max_texture_size"]=this.Qq;this.Su=a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS);c["gl.max_texture_units"]=this.Su;this.or=this.Ho("GL_IMG_texture_compression_pvrtc");c["gl.supports_PVRTC"]=
this.or;this.nr=!1;c["gl.supports_NPOT"]=this.nr;this.pv=this.Ho("GL_IMG_texture_format_BGRA888");c["gl.supports_BGRA8888"]=this.pv;this.qv=this.Ho("GL_EXT_discard_framebuffer");c["gl.supports_discard_framebuffer"]=this.qv;this.rv=this.Ho("vertex_array_object");c["gl.supports_vertex_array_object"]=this.rv;p.wD()}},Q6:function(a){var c=p.nd.d(),d=c.Zd(a),c=c.Uv(d);if(null!=c)if(c=c.data)for(var e in c)this.xj[e]=c[e];else p.log("Expected 'data' dict, but not found. Config file: "+a)}});p.oe.hr=null;
p.oe.d=function(){p.oe.hr||(p.oe.hr=new p.oe,p.oe.hr.r());return p.oe.hr};p.oe.h8=function(){p.oe.hr=null};p.Fh=0;p.KK=0;p.KD=1;p.LK=3;p.MK=p.KD;p.zX=0;p.xX=1;p.AX=2;p.yX=3;p.wX=2;p.DX=p.sa.extend({gba:function(){}});p.OD=function(a){var c=new p.Xg;p.LS(p.st,c);var d=new p.Xg;p.LS(p.rt,d);p.OS(a,c,d)};
p.P=p.sa.extend({m_:!1,Uq:!1,Ol:!1,ev:!1,Sl:!1,Bg:0,Oz:0,uk:0,wn:0,Bl:1,pq:!1,ek:0,xu:0,Yj:null,$j:null,fk:null,Hb:null,kj:null,ni:null,Xu:null,Hg:null,ui:null,$z:null,Vc:null,Nd:0,IA:0,oA:0,YZ:null,bg:null,Ag:null,De:null,Jz:null,$t:null,Sq:null,l_:!1,ctor:function(){this.kj=Date.now();if(!p.bC){var a=this;window.addEventListener("focus",function(){a.kj=Date.now()},!1)}},sO:function(){this.kj=Date.now()},r:function(){this.Oz=this.Bg=1/p.xQ;this.ui=[];this.uk=p.MK;this.$z=null;this.xu=this.wn=0;this.pq=
!1;this.IA=this.Nd=0;this.kj=Date.now();this.ev=this.Ol=!1;this.Hb=p.Vl();this.Hg=null;this.Bl=1;this.bg=new p.PL;this.Ag=new p.vK;this.bg.VI(this.Ag,p.vt,!1);p.ba&&(this.De=new p.ba,this.De.r());p.kn&&(this.Jz=p.kn.d());p.Rj&&(this.$t=new p.Rj);p.Hd&&(this.Sq=new p.Hd,this.Sq.r());return!0},UP:function(){var a=Date.now();this.Uq?(this.ek=0,this.Uq=!1):this.ek=(a-this.kj)/1E3;0<p.Os&&0.2<this.ek&&(this.ek=1/60);this.kj=a},pQ:function(a){var c=new p.Xg;p.OD(c);var d=new p.Xg;p.I6(d,c);var c=c.Yg[14]/
c.Yg[15],e=this.Hg.Qo();a=new p.dp(2*a.x/e.width-1,1-2*a.y/e.height,c);c=new p.dp;p.QS(c,a,d);return p.a(c.x,c.y)},rQ:function(a){var c=new p.Xg;p.OD(c);var d=new p.dp;a=new p.dp(a.x,a.y,0);p.QS(d,a,c);c=this.Hg.Qo();return p.a(c.width*(0.5*d.x+0.5),c.height*(0.5*-d.y+0.5))},MQ:function(){this.UP();this.Ol||this.bg.update(this.ek);this.UE();this.ni&&this.yV();this.Jy&&this.Jy();this.Vc&&this.Vc.ia();this.Xu&&this.Xu.ia();this.pq&&this.$O();this.Fy&&this.Fy();this.IA++;this.pq&&this.JM()},RM:function(){var a=
this.Hg.Fe;p.O.clearRect(-a.x,a.y,a.width,-a.height)},YM:function(){var a=p.O;a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},Jy:null,Fy:null,EM:function(){p.cp()},AM:function(){p.bp()},end:function(){this.ev=!0},p2:function(){return this.Bl},v3:function(){return this.Xu},i5:function(){return this.Hb},PR:function(){return p.size(this.Hb.width*this.Bl,this.Hb.height*this.Bl)},Ur:function(){return this.Hg?this.Hg.Ur():this.Hb},DH:function(){return this.Hg?this.Hg.DH():p.DL},Wr:function(){return this.Hb.height/
1.1566},pause:function(){this.Ol||(this.Oz=this.Bg,this.qs(0.25),this.Ol=!0)},b8:function(){if(!this.Vc)throw"running scene should not null";this.ui.pop();var a=this.ui.length;0==a?this.end():(this.Sl=!0,this.ni=this.ui[a-1])},vC:function(){p.Qx.vC()},PT:function(){this.df().Cs();this.De&&this.De.iU();this.Vc&&(this.Vc.Zg(),this.Vc.xd(),this.Vc.Bf());this.ni=this.Vc=null;this.ui=[];this.VJ();p.Qx.vC();p.jl.QT();p.Qf.RT();p.La.ST();p.wD()},TT:function(a){if(!a)throw"the scene should not null";this.Sl=
!1;this.ui.push(a);this.ni=a},OI:function(a){if(!this.Vc)throw"Use runWithScene: instead to start the director";if(!a)throw"the scene should not be null";var c=this.ui.length;0===c?(this.Sl=!0,this.ui[c]=a):(this.Sl=!0,this.ui[c-1]=a);this.ni=a},RI:function(){this.Ol&&(this.qs(this.Oz),(this.kj=Date.now())||p.log("cocos2d: Director: Error in gettimeofday"),this.Ol=!1,this.ek=0)},DU:function(a){if(!a)throw"This command can only be used to start the CCDirector. There is already a scene present.";if(this.Vc)throw"_runningScene should be null";
this.TT(a);this.TJ()},QU:function(a){a?p.Ej(p.ne,p.me):p.Ej(p.O.ONE,p.O.ZERO)},$U:function(a){a!=this.Bl&&(this.Bl=a,this.On())},dV:function(a){if(p.kd!==p.Mf){var c=p.O;a?(c.clearDepth(1),c.enable(c.DEPTH_TEST),c.depthFunc(c.LEQUAL)):c.disable(c.DEPTH_TEST)}},r9:function(){},nJ:function(){this.QU(!0);this.dV(!1);this.Ww(this.uk);p.O.clearColor(0,0,0,1)},a$:function(a){this.Uq=a},yV:function(){var a=!1,c=!1;p.zE&&(a=this.Vc?this.Vc instanceof p.zE:!1,c=this.ni?this.ni instanceof p.zE:!1);if(!c){if(c=
this.Vc)c.Zg(),c.xd();this.Sl&&c&&c.Bf()}this.Vc=this.ni;this.ni=null;a||null==this.Vc||(this.Vc.ng(),this.Vc.Lh())},b$:function(a){this.Xu=a},Zb:function(){return this.$z},ah:function(a){this.$z=a},EV:function(a){this.Hb.aD(p.canvas.width);this.Hb.PC(p.canvas.height);this.Hg=a||p.ja.d();p.kd!==p.Mf&&(a=p.oe.d(),a.$Q(),a.PQ(),this.On(),this.nJ(),this.De&&this.De.eV(!0))},IJ:function(){if(this.Hg){var a=this.Hb;this.Hg.XV(0,0,a.width,a.height)}},Ww:function(a){var c=this.Hb;if(p.kd===p.Xj){this.IJ();
switch(a){case p.KK:p.xm(p.st);p.eC();var d=new p.Xg;p.PS(d,0,c.width,0,c.height,-1024,1024);p.sw(d);p.xm(p.rt);p.eC();break;case p.KD:var e=this.Wr(),f=new p.Xg,d=new p.Xg;p.xm(p.st);p.eC();p.J6(f,60,c.width/c.height,0.1,2*e);p.sw(f);p.xm(p.rt);p.eC();e=p.ds(null,c.width/2,c.height/2,e);c=p.ds(null,c.width/2,c.height/2,0);f=p.ds(null,0,1,0);p.NS(d,e,c,f);p.sw(d);break;case p.LK:break;default:p.log("cocos2d: Director: unrecognized projection")}this.uk=a;p.s$()}else this.uk=a},$O:function(){this.Nd++;
this.wn+=this.ek;this.Yj&&this.$j&&this.fk?(this.wn>p.JK&&(this.$j.ha(this.oA.toFixed(3)),this.xu=this.Nd/this.wn,this.wn=this.Nd=0,this.Yj.ha(this.xu.toFixed(1)),this.fk.ha((0|p.Fh).toString())),this.Yj.ia(),this.$j.ia(),this.fk.ia()):this.On();p.Fh=0},r6:function(){return this.Sl},n4:function(){return this.Vc},S1:function(){return this.Bg},U5:function(){return this.pq},v9:function(a){this.pq=a},s4:function(){return this.oA},K3:function(){return this.Hg},e6:function(){return this.Uq},i6:function(){return this.Ol},
R4:function(){return this.IA},a4:function(){return this.uk},c8:function(){this.GT(1)},GT:function(a){if(!this.Vc)throw"A running Scene is needed";var c=this.ui,d=c.length;if(0==d)this.end();else if(!(a>d)){for(;d>a;){var e=c.pop();e.ye&&(e.Zg(),e.xd());e.Bf();d--}this.ni=c[c.length-1];this.Sl=!1}},df:function(){return this.bg},OV:function(a){this.bg!=a&&(this.bg=a)},fg:function(){return this.Ag},OU:function(a){this.Ag!=a&&(this.Ag=a)},T4:function(){return this.De},X$:function(a){this.De!=a&&(this.De=
a)},dw:function(){if(!p.kn)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";return this.Jz},P9:function(a){if(!p.kn)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";this.Jz=a},Po:function(){if(!p.Rj)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";return this.$t},Y8:function(a){if(!p.Rj)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";this.$t!=
a&&(this.$t=a)},z2:function(){return this.ek},cf:function(){if(!p.Hd)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";return this.Sq},Y9:function(a){if(!p.Hd)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.Sq!=a&&(this.Sq=a)},On:null,aN:function(){if(!p.Px)return this.XE();if(null!=p.P.cF&&!1!=p.P.cF){var a=new p.Pb;a.ef(p.P.pz);a.ge();var c=p.ja.d().Qo().height/320;0===c&&(c=this.Hb.height/320);var d=new p.Px;d.rA(!0);
d.Jk("00.0",a,12,32,".");d.Mj(c);this.Yj=d;d=new p.Px;d.rA(!0);d.Jk("0.000",a,12,32,".");d.Mj(c);this.$j=d;d=new p.Px;d.rA(!0);d.Jk("000",a,12,32,".");d.Mj(c);this.fk=d;a=p.LD;this.fk.q(p.Hf(p.a(0,34*c),a));this.$j.q(p.Hf(p.a(0,17*c),a));this.Yj.q(a)}},XE:function(){var a=0,a=this.Hb.width>this.Hb.height?0|this.Hb.height/320*24:0|this.Hb.width/320*24;this.Yj=p.U.create("000.0","Arial",a);this.$j=p.U.create("0.000","Arial",a);this.fk=p.U.create("0000","Arial",a);var a=p.LD,c=this.fk.e();this.fk.q(p.Hf(p.a(c.width/
2,5*c.height/2),a));c=this.$j.e();this.$j.q(p.Hf(p.a(c.width/2,3*c.height/2),a));c=this.Yj.e();this.Yj.q(p.Hf(p.a(c.width/2,c.height/2),a))},JM:function(){this.oA=(Date.now()-this.kj)/1E3}});p.wa.Ac?(p.P.prototype.UE=p.P.prototype.YM,p.P.prototype.Jy=p.P.prototype.EM,p.P.prototype.Fy=p.P.prototype.AM,p.P.prototype.On=p.P.prototype.aN):(p.P.prototype.UE=p.P.prototype.RM,p.P.prototype.On=p.P.prototype.XE);
p.NK=p.P.extend({qw:!1,TJ:function(){this.Uq=!0;this.qw=!1;p.Ni.d().qs(this.Bg)},kI:function(){this.ev?(this.ev=!1,this.PT()):this.qw||this.MQ()},VJ:function(){this.qw=!0},qs:function(a){this.Bg=a;this.qw||(this.VJ(),this.TJ())}});p.Mw=null;p.dH=!0;p.P.d=function(){p.dH&&(p.dH=!1,p.Mw=new p.NK,p.Mw.r(),p.Mw.EV(p.ja.d()));return p.Mw};Object.defineProperties(p,{tba:{get:function(){return p.EQ.Hb},enumerable:!0}});p.F1=!0;p.xQ=60;p.P.pz=new Image;
p.P.pz.addEventListener("load",function(){p.P.cF=!0;this.removeEventListener("load",arguments.callee,!1)});p.P.pz.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAAgCAYAAAD9qabkAAAKQ2lDQ1BJQ0MgcHJvZmlsZQAAeNqdU3dYk/cWPt/3ZQ9WQtjwsZdsgQAiI6wIyBBZohCSAGGEEBJAxYWIClYUFRGcSFXEgtUKSJ2I4qAouGdBiohai1VcOO4f3Ke1fXrv7e371/u855zn/M55zw+AERImkeaiagA5UoU8Otgfj09IxMm9gAIVSOAEIBDmy8JnBcUAAPADeXh+dLA//AGvbwACAHDVLiQSx+H/g7pQJlcAIJEA4CIS5wsBkFIAyC5UyBQAyBgAsFOzZAoAlAAAbHl8QiIAqg0A7PRJPgUA2KmT3BcA2KIcqQgAjQEAmShHJAJAuwBgVYFSLALAwgCgrEAiLgTArgGAWbYyRwKAvQUAdo5YkA9AYACAmUIszAAgOAIAQx4TzQMgTAOgMNK/4KlfcIW4SAEAwMuVzZdL0jMUuJXQGnfy8ODiIeLCbLFCYRcpEGYJ5CKcl5sjE0jnA0zODAAAGvnRwf44P5Dn5uTh5mbnbO/0xaL+a/BvIj4h8d/+vIwCBAAQTs/v2l/l5dYDcMcBsHW/a6lbANpWAGjf+V0z2wmgWgrQevmLeTj8QB6eoVDIPB0cCgsL7SViob0w44s+/zPhb+CLfvb8QB7+23rwAHGaQJmtwKOD/XFhbnauUo7nywRCMW735yP+x4V//Y4p0eI0sVwsFYrxWIm4UCJNx3m5UpFEIcmV4hLpfzLxH5b9CZN3DQCshk/ATrYHtctswH7uAQKLDljSdgBAfvMtjBoLkQAQZzQyefcAAJO/+Y9AKwEAzZek4wAAvOgYXKiUF0zGCAAARKCBKrBBBwzBFKzADpzBHbzAFwJhBkRADCTAPBBCBuSAHAqhGJZBGVTAOtgEtbADGqARmuEQtMExOA3n4BJcgetwFwZgGJ7CGLyGCQRByAgTYSE6iBFijtgizggXmY4EImFINJKApCDpiBRRIsXIcqQCqUJqkV1II/ItchQ5jVxA+pDbyCAyivyKvEcxlIGyUQPUAnVAuagfGorGoHPRdDQPXYCWomvRGrQePYC2oqfRS+h1dAB9io5jgNExDmaM2WFcjIdFYIlYGibHFmPlWDVWjzVjHVg3dhUbwJ5h7wgkAouAE+wIXoQQwmyCkJBHWExYQ6gl7CO0EroIVwmDhDHCJyKTqE+0JXoS+cR4YjqxkFhGrCbuIR4hniVeJw4TX5NIJA7JkuROCiElkDJJC0lrSNtILaRTpD7SEGmcTCbrkG3J3uQIsoCsIJeRt5APkE+S+8nD5LcUOsWI4kwJoiRSpJQSSjVlP+UEpZ8yQpmgqlHNqZ7UCKqIOp9aSW2gdlAvU4epEzR1miXNmxZDy6Qto9XQmmlnafdoL+l0ugndgx5Fl9CX0mvoB+nn6YP0dwwNhg2Dx0hiKBlrGXsZpxi3GS+ZTKYF05eZyFQw1zIbmWeYD5hvVVgq9ip8FZHKEpU6lVaVfpXnqlRVc1U/1XmqC1SrVQ+rXlZ9pkZVs1DjqQnUFqvVqR1Vu6k2rs5Sd1KPUM9RX6O+X/2C+mMNsoaFRqCGSKNUY7fGGY0hFsYyZfFYQtZyVgPrLGuYTWJbsvnsTHYF+xt2L3tMU0NzqmasZpFmneZxzQEOxrHg8DnZnErOIc4NznstAy0/LbHWaq1mrX6tN9p62r7aYu1y7Rbt69rvdXCdQJ0snfU6bTr3dQm6NrpRuoW623XP6j7TY+t56Qn1yvUO6d3RR/Vt9KP1F+rv1u/RHzcwNAg2kBlsMThj8MyQY+hrmGm40fCE4agRy2i6kcRoo9FJoye4Ju6HZ+M1eBc+ZqxvHGKsNN5l3Gs8YWJpMtukxKTF5L4pzZRrmma60bTTdMzMyCzcrNisyeyOOdWca55hvtm82/yNhaVFnMVKizaLx5balnzLBZZNlvesmFY+VnlW9VbXrEnWXOss623WV2xQG1ebDJs6m8u2qK2brcR2m23fFOIUjynSKfVTbtox7PzsCuya7AbtOfZh9iX2bfbPHcwcEh3WO3Q7fHJ0dcx2bHC866ThNMOpxKnD6VdnG2ehc53zNRemS5DLEpd2lxdTbaeKp26fesuV5RruutK10/Wjm7ub3K3ZbdTdzD3Ffav7TS6bG8ldwz3vQfTw91jicczjnaebp8LzkOcvXnZeWV77vR5Ps5wmntYwbcjbxFvgvct7YDo+PWX6zukDPsY+Ap96n4e+pr4i3z2+I37Wfpl+B/ye+zv6y/2P+L/hefIW8U4FYAHBAeUBvYEagbMDawMfBJkEpQc1BY0FuwYvDD4VQgwJDVkfcpNvwBfyG/ljM9xnLJrRFcoInRVaG/owzCZMHtYRjobPCN8Qfm+m+UzpzLYIiOBHbIi4H2kZmRf5fRQpKjKqLupRtFN0cXT3LNas5Fn7Z72O8Y+pjLk722q2cnZnrGpsUmxj7Ju4gLiquIF4h/hF8ZcSdBMkCe2J5MTYxD2J43MC52yaM5zkmlSWdGOu5dyiuRfm6c7Lnnc8WTVZkHw4hZgSl7I/5YMgQlAvGE/lp25NHRPyhJuFT0W+oo2iUbG3uEo8kuadVpX2ON07fUP6aIZPRnXGMwlPUit5kRmSuSPzTVZE1t6sz9lx2S05lJyUnKNSDWmWtCvXMLcot09mKyuTDeR55m3KG5OHyvfkI/lz89sVbIVM0aO0Uq5QDhZML6greFsYW3i4SL1IWtQz32b+6vkjC4IWfL2QsFC4sLPYuHhZ8eAiv0W7FiOLUxd3LjFdUrpkeGnw0n3LaMuylv1Q4lhSVfJqedzyjlKD0qWlQyuCVzSVqZTJy26u9Fq5YxVhlWRV72qX1VtWfyoXlV+scKyorviwRrjm4ldOX9V89Xlt2treSrfK7etI66Trbqz3Wb+vSr1qQdXQhvANrRvxjeUbX21K3nShemr1js20zcrNAzVhNe1bzLas2/KhNqP2ep1/XctW/a2rt77ZJtrWv913e/MOgx0VO97vlOy8tSt4V2u9RX31btLugt2PGmIbur/mft24R3dPxZ6Pe6V7B/ZF7+tqdG9s3K+/v7IJbVI2jR5IOnDlm4Bv2pvtmne1cFoqDsJB5cEn36Z8e+NQ6KHOw9zDzd+Zf7f1COtIeSvSOr91rC2jbaA9ob3v6IyjnR1eHUe+t/9+7zHjY3XHNY9XnqCdKD3x+eSCk+OnZKeenU4/PdSZ3Hn3TPyZa11RXb1nQ8+ePxd07ky3X/fJ897nj13wvHD0Ivdi2yW3S609rj1HfnD94UivW2/rZffL7Vc8rnT0Tes70e/Tf/pqwNVz1/jXLl2feb3vxuwbt24m3Ry4Jbr1+Hb27Rd3Cu5M3F16j3iv/L7a/eoH+g/qf7T+sWXAbeD4YMBgz8NZD+8OCYee/pT/04fh0kfMR9UjRiONj50fHxsNGr3yZM6T4aeypxPPyn5W/3nrc6vn3/3i+0vPWPzY8Av5i8+/rnmp83Lvq6mvOscjxx+8znk98ab8rc7bfe+477rfx70fmSj8QP5Q89H6Y8en0E/3Pud8/vwv94Tz+4A5JREAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfcAgcQLxxUBNp/AAAQZ0lEQVR42u2be3QVVZbGv1N17829eRLyIKAEOiISEtPhJTJAYuyBDmhWjAEx4iAGBhxA4wABbVAMWUAeykMCM+HRTcBRWkNH2l5moS0LCCrQTkYeQWBQSCAIgYRXEpKbW/XNH5zS4noR7faPEeu31l0h4dSpvc+t/Z199jkFWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhY/H9D/MR9qfKnLj/00U71aqfJn9+HCkCR/Wk36ddsgyJ/1wF4fkDfqqm9/gPsUeTnVr6a2xlQfnxdI7zs0W7irzD17Ytb2WT7EeNv/r4ox1O3Quf2QP2pgt9utwfout4FQE8AVBSlnaRmfvAURQkg2RlAbwB9AThlW5L0GaiKojhJhgOIBqDa7XaPrusdPtr5kQwF0BVAAoBIABRCKDd5aFUhRDAAw57eAOwAhKIoupft3zoqhB1AqLwuHIBut9uFt02qqvqRDJR2dAEQJj/BAOjn56dqmma+xiaECAEQAWAggLsB6A6HQ2iaZggBhBAqgEAAnQB0kzaEmT4hAITT6VQ8Ho/HJAKKECJQtr8LwD1y/A1/vcdfEUIEyfZ9AcQbYvZ942Px88L2UwlJR0dH0EMPPbRj5syZPUeNGrXR7Xb/641xIwJ1XY9NSUlZm52dfW+XLl1w8uRJzJ8//+OGhoYJqqqe1TSt1Wsm9NN1PSIqKmr12rVrR5WUlHy1bdu2AQCumWc3IYRD1/UwVVXnFRQUTIuNjUVzczN2797dWFJSkq8oymZd15sAGAEnFEUJ1nX9nzIzM1dnZmZGh4SE4OTJk5g5c+Zf29vbp9pstrMej6fVOyhIhgAYU1hY+B+hoaGoqKg4XVlZea+XTULTNFdCQsLGiRMnPuR2u3UhBOV9eeDAAWXTpk095DUe6WsoyRE5OTlr0tLSAux2O/bs2cO5c+e+pijKUpIXSHaQVAGkvPLKK++6XK4OksJLCFlXV2cvKSlJBFAjhU+x2WwhHo9nUHp6+urMzMy7wsLCUF9fjxdffPHjxsbGiTab7WuPx9NiEutOuq4PyMjI+M+srKyYqKgoHD58GDNmzNjq8XhyVFU9b/q+LH7hBAEYu3PnTlZVVRFAGgCX6f/tAHoOHDjwa0p27txp/JO9e/f+QM7cipw9nfL3kQBKt2zZQpJ87rnn6mQmoHilw2EACs+cOUOSrK+vZ1NTE0nyo48+IoBpxswoBcMJ4Ndjx471kOTFixe5d+9ekqTH42H//v13A4jyzpAURfEH0H/OnDnthu1z5sw558MmFUCPWbNmnaMP3nrrLZoyDmP8Hl68eDFJ8siRI9/Yc+zYMQKYKdtAztrTrl27xptRXV1NAKMAOAyBBBA/Y8aMdpLs6Ojgxx9//E37+++//29yvFXppwvAwMcee8xjtDHsuXLlCqOjo//ia3wsfpkoALqFhoZuIckJEyackimm3dQmEMDUmpoakmRISMhhAHOHDx/eQJIbN24kgKEyMAHAFRMTs2XXrl1saWkhSZ0kp0+ffhrAr3wEW/S8efOukORLL72kA1gKYMPWrVtJkk899dRJAHeYrgsEsIQkjx8/TgDvAPjd448/3kaSb7zxBmUa7vC6z53BwcFbSHL9+vU6Sc6aNes8gF5ewWAH0PfVV18lSQL4DMBGIcQ6AKtcLleBFC2jXtFt8ODBe0iyoqKCAJYByC8qKmJDQwOzsrK+MAmqo1OnTveHhoa+GRkZ+XZkZOSWiIiIvzgcjk9mzpypkWRmZuZpmbYbGV4AgPnNzc1sa2sjgN0A5iQmJtaSZHl5OQHcb/K3s81mW0uSTU1NBFAFYFbfvn1Pk+Tbb79NAA8IIVzW42/hByA+Pz/fLR/2ZXIda05NI/z9/TeR5J49ewhgqlxTrtI0jY2NjQQw3zTLuWJiYjaUlJToS5Ys6fjkk080kwDEeAmADcA9GzZsIElGRUW9CyAWwLApU6Y0kOSKFSsog9QICGdERMTGsrIyZmVlEcC9AB4IDw/fTpLbtm0jgN94CUAnAJmVlZVcs2aNZ/LkyRdJcvbs2b4EwAkgZfPmzTxw4AABFAN4BkC6vFeUSewcAO5duXIlSTIhIaEawGMAxgKYAmAGgCS73e5vrKVk/yGythANYEhCQsIhkly+fDkBpKqqGmL6DgIALDKN/3yZpVWQZGVlJQE8aPI3KiMjo5okV61aRQAjAPQBMPfIkSN0u90EUCBtsPiFEwpgbn19PdetW2fM5N4zQ9ekpKQqkty0aRMBpMjiWM6JEydIkoqirJUFJ6iq6pAPVy8A6cZMehMBUACEuVyuFwG8HBwcPEIWx367ZMkSjSQXLVrUJouTRorrkAHdA8BdQogsAOsKCwtJkmPGjDkvMw2bDDo/ADEjRoz4XylyFbm5uY0mAbjLyyZ/AOOrq6tZVlbWsWDBgo69e/eyoqKCgwcPPg4gSQaoIRbp27dvN7KF+tLSUr28vJwFBQXtMpvpYRIM7+wrAkDeqVOnePbsWQIoNKfzpiXPg8uXLydJJicnNwF4f+nSpW6STEtLq5fjYwhk1wkTJtSQ5Ouvv04AqTKj+N2xY8dIkgEBAW/Ie1v8wncRegwZMmQvSfbr12+3Ua33WqPfOWbMmP0kWVpaSgCDZAqcfejQIWNZsEGKgvnh9gfQb9myZd8nAEJVVZtMkUNk8CcNHTq0liR1XWdYWNhmH1mJIme80OnTp18x1rp5eXkEsNJms92Fb7e/IgEsvHz5Mp999tkmAI/l5uZeMC0B7vEqqAYAyL106RJJsra2lpWVld+sucePH38ZQG+5NncBeOrgwYMkqbe3t/Po0aOsra011wAWyl0H7x0JJ4DE+fPnu0kyPT29DsDdUrBuyNKEEAkAdpw/f/6GeoEM8GUmfwEgPCIiopwkGxsbabPZPgOw6L777vvm4p49e26VGYjFLxUhhD+ApLKyMp44ccIoVnXybgbgzkcfffRzklyzZg0BDJYCMMmoCwQFBXkLgLGWvvcWAgBToSsKwNPTp09vMR7UuLi4rwH0lgU8c/Db5ezbeeTIkRWzZ8++aMxu+fn5BPCADBwHgP4LFy701NXVEUAJgAnPP/98kyxMNgHo53A4zH77BQQETMvPz7+Um5vbBuAlAFMSExPPmdbVL0qh8Acw8fDhw5SCchVAEYAVb775JknyhRdeaJYztHfxMwLAaqNwCGC2FArv8x0hAHKNLGPKlCme5OTk/Zs3bzb7O0wKiiG8KXl5ed8IxenTp0mSR48e1UmyW7duWywBuD2xyQcgFECgoih+8H1gyJgZV5Lkyy+/3CbTRIePtl2HDBmyw1QBHyGDdXZdXR1JUghRKkXBjOMHCoBdpr0L3nvvPZLkF198wejo6O0A4lVVDTb74HQ6AwD8Wq7Jh8rgGgDgQ13XjVR8qaxJuADMbmlpYXl5uV5UVNRWUFDgfv/993Vj/ZydnU1c37eHXML4S3viAcQqitJD2l104cIFY8lTKsXSBWBMVVWVcd9yed2A1NTUQ6Zl00CvLMMOoHdubm6zFIlWOf5+PsY/Kj09vdrU11QAwwGsv3jxIk21m2DZr10I0RXAuAcffPBgaWkpV69eTYfDcdiwUxY0w6xw+flX8L1xApjevXv3lREREaW6rofB93aPDUDQpEmTMgHgtddeqwBwEd/utZvpqK6uPgEAcXFxkA94NwB9unfvjrNnz4LklwDcf08iIqv66Zs2bXrl4YcfxooVKxAbG7uqrq5uAYA2TdOEqqpGYIi2tjbl6aeffu/YsWPv5uTk7JaC1wHg4Pnz542MwoVvTx+21dbWYvjw4WLixIl+2dnZ9lGjRgmSTE1NRUpKCkwFTGiaxtTU1OXTpk3707Bhw/6g67pDipnT4biuj7qut+Lbk3Vf1tTUXI9qu91Pjq1QFEUBgJaWFgBo8yGOQ8eNGxcAAOvXr/8QwBUfYygAKL169eoCABcuXACAWtn2hOGv0+kMNO1KiPDw8F4A4rZv3/7R1KlTR0+bNu1ht9u9r1+/fqitrQXJgwDarRC6/QjPzs4+QJIffPCB9/aQmSAA43ft2mW0e1QGoi8CAPyLsZccExNTC2BlRkbGRdOyYJCP2csBIN6UAZzCd7cBbQCijYp/dXU1ExMTz6SmptaMHj36f9LS0vYlJCRsl6mxIWSdu3fv/g5J7t+/nwC2AShMTk6+SJKff/45AWRLYbD7+fndAeDf5BJnLoCCyZMnt5JkdnZ2C4B/F0KEm1Pu+Pj4rST55ZdfEsBWAK+mpaVdMo3raDn7KwDuSEpK+m+S3LBhAwG8DuCtHTt2UBbpjgC408vvcFVV15HkuXPnjMp+p5uMf0RcXNyHJNnQ0EBVVfcCWBQXF3fG+Jv0yxABPwB5LS0tRmFxN4BlTzzxxGWSXLx4sS5F3GGFy+1Hp5SUlJq6ujoWFxdTpsZ2H+0iIyMj/0iSWVlZX5mr5jfJFroPGzasxlhTnjp1iiTZ3NxMl8tlrCd9pfa9SkpKSJI5OTmnZOageLUZZqxvfVFWVkZcPwdgNwnSCKPqb17jkmR8fPzfZMDZ5CRsFBmNI7h95s2b1yhT7/MAYmStwCx4vy0uLqa3v5qmEcCfvSr1QQAeXb16NY3Cm3HQ55133iGAp+SxZTNhKSkpfzUddkrFjYevzAQCeGjp0qXfsYckY2NjTwD4leGDLCL2HTdunNtoY+zWSHFcIHdsFCtcfuZ1vO9Eqs3m7/F47sb1k2qX/f3997W2tl7BjWfpBYDOzzzzzIVJkyZh0KBBCwEsB3AJvl9AETabLcDj8dwRFRW1ctasWb8JCgpSzp07d62wsPC/Wltb8xRFadR1/ZqPXYbgAQMGbI2Pjw/+6quv9ldVVT0r01ezuPRJSUn5Y9euXXVd11WzDaqq6kePHm3+7LPPRgO4KlNuxWazhXo8nuTk5OSXMjIyEl0uFxoaGtqKior+dPXq1VdUVT0jj7r68ieoT58+vx8yZMjdx48fP1JVVTVF9m20VW02WyfZf97YsWPjXS4X6urqWvPy8jYCWCyEuEDS8FdVFKWzruv//OSTTy5OTk7uqWkaPv3007qysrJ8RVH+LI8ym8/rB3Tu3HnRI488knLo0KG2ffv2ZQI4C98vP6mqqoZqmpaclpa2cOTIkX39/f3R0NDQUVxc/G5TU9PLqqrWa5rWLH1QVFUN0TStX1JSUvH48eP7BwYG4uDBg1cKCgpeBbBe2u+2Qug2EwD5N5sMPuNtMe8XP4TT6Qxoa2sbIGeXvUKIK7d4IISiKC5d1wPljOfA9bPwzYqiXNV13dd6Uqiq6qdpml2mpe02m63d4/G4vcTF5fF47LJf71nJA6BZVVW3pmntuPHlmAD5wk6Q9NnbHp9vHaqq6tA0zU/64PZhk1FfCZB9G/23ALiqKEqzD39tpvbGUqoFwFUhRLP3yzpCCDtJpxyXDulfG27+pqRR3DXsUWVd4Yq0x/taVQjhIhksC8L+ABpM9ljBf5sKwI8pIBr75L5E4vvu+UNeG/a+hv+AL7yFH8qPtOfHjtOP6V/Bja8D6z/B2Nys/1u9Xv33tLf4GfF/LC4GCJwByWIAAAAASUVORK5CYII\x3d";p.Fp=p.sa.extend({zq:null,Aq:null,Bq:null,Jn:null,Kn:null,Ln:null,yr:null,zr:null,Ar:null,ya:null,Ou:null,ctor:function(){this.Ou=new p.Xg;this.restore()},description:function(){return"\x3cCCCamera | center \x3d("+this.Jn+","+this.Kn+","+this.Ln+")\x3e"},pg:function(a){this.ya=a},YH:function(){return this.ya},restore:function(){this.zq=this.Aq=0;this.Bq=p.Fp.Wr();this.yr=this.Jn=this.Kn=this.Ln=0;this.zr=1;this.Ar=0;p.H6(this.Ou);this.ya=!1},fI:function(){if(this.ya){var a=new p.dp,c=new p.dp,d=new p.dp;
p.ds(a,this.zq,this.Aq,this.Bq);p.ds(c,this.Jn,this.Kn,this.Ln);p.ds(d,this.yr,this.zr,this.Ar);p.NS(this.Ou,a,c,d);this.ya=!1}p.sw(this.Ou)},z9:function(a,c,d){this.kJ(a,c,d)},kJ:function(a,c,d){this.zq=a;this.Aq=c;this.Bq=d;this.ya=!0},i9:function(a,c,d){this.WU(a,c,d)},WU:function(a,c,d){this.Jn=a;this.Kn=c;this.Ln=d;this.ya=!0},Z$:function(a,c,d){this.WV(a,c,d)},WV:function(a,c,d){this.yr=a;this.zr=c;this.Ar=d;this.ya=!0},H2:function(){return{x:this.zq,y:this.Aq,z:this.Bq}},oH:function(){return{x:this.zq,
y:this.Aq,z:this.Bq}},g2:function(){return{x:this.Jn,y:this.Kn,z:this.Ln}},mH:function(){return{x:this.Jn,y:this.Kn,z:this.Ln}},X4:function(){return{x:this.yr,y:this.zr,z:this.Ar}},NR:function(){return{x:this.yr,y:this.zr,z:this.Ar}},IZ:function(){}});p.Fp.Wr=function(){return p.lt};p.vt=-2147483648;p.FY=p.vt+1;p.Ls=function(a,c){if(a&&0<a.length)for(var d=0;d<a.length;d++)if(!(a[d]instanceof c)){p.log("element type is wrong!");break}};p.Cp=function(a,c){a.splice(c,1)};p.Dd=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c){a.splice(d,1);break}};p.fX=function(a,c){for(var d=0,e=c.length;d<e;d++)p.Dd(a,c[d])};p.eX=function(a,c){return a.indexOf(c)};p.cX=function(a,c){a.push(c)};p.kl=function(a,c,d){a.splice(d,0,c);return a};
p.dX=function(a,c,d){a.splice.apply(a,[d,0].concat(c));return a};p.wx=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c)return d;return-1};p.ux=function(a,c){return-1!=a.indexOf(c)};p.YX=function(a,c){if(null==a)return null;for(var d=0;d<a.length;d++)if(a[d].target===c)return a[d];return null};p.TD=function(a,c,d){this.next=null;this.target=a;this.CI=c;this.paused=d;this.Rk=!1};p.PD=function(a,c,d){this.list=a;this.sm=c;this.target=d;this.RB=null};
p.$K=function(a,c){this.Jf=null;this.target=a;this.yp=0;this.Ir=this.Hr=null;this.paused=c;this.RB=null};
p.Mt=p.sa.extend({jj:0,vf:null,M:null,Wb:0,NF:!1,Iv:!1,yo:0,hA:0,qu:0,ctor:function(){},c3:function(){return this.jj},setInterval:function(){},t4:function(){return this.vf},jg:function(a,c,d,e,f){this.M=a;this.vf=c;this.Wb=-1;this.jj=d||0;this.qu=f||0;this.Iv=0<this.qu;this.hA=null==e?p.ql:e;this.NF=this.hA==p.ql;return!0},My:function(){if("string"==typeof this.vf)this.M[this.vf](this.Wb);else this.vf.call(this.M,this.Wb)},update:function(a){if(-1==this.Wb)this.yo=this.Wb=0;else{var c=this.M,d=this.vf;
this.NF&&!this.Iv?(this.Wb+=a,this.Wb>=this.jj&&(c&&d&&this.My(),this.Wb=0)):(this.Wb+=a,this.Iv?this.Wb>=this.qu&&(c&&d&&this.My(),this.Wb-=this.qu,this.yo+=1,this.Iv=!1):this.Wb>=this.jj&&(c&&d&&this.My(),this.Wb=0,this.yo+=1),this.yo>this.hA&&p.P.d().df().eK(c,d))}}});p.Mt.Uaa=function(a,c,d){if(2>arguments.length)throw Error("timerWithTarget'argument can't is null");var e=new p.Mt;e.jg(a,c,d||0,p.ql,0);return e};p.v_=null;
p.PL=p.sa.extend({rr:1,Qg:null,yh:null,dg:null,gj:null,bu:null,fj:null,UZ:null,Se:null,gi:!1,Fv:!1,ctor:function(){this.rr=1;this.Qg=[];this.yh=[];this.dg=[];this.gj={};this.bu=[];this.fj={};this.ak=[];this.Se=null;this.Fv=this.gi=!1},gA:function(a){delete this.fj[a.target.Vb];p.Dd(this.ak,a);a.Mt=null;a.target=null},$Z:function(a,c){for(var d=0;d<a.length;d++)if(a[d].target==c)return a[d];return null},gv:function(a){if(a=this.gj[a.target.Vb])p.Dd(a.list,a.sm),delete this.gj[a.target.Vb],p.Dd(this.bu,
a),a.sm=null,a.target=null},GF:function(a,c,d,e){e=new p.TD(c,d,e);if(a){for(var f=!1,g=0;g<a.length;g++)if(d<a[g].CI){a=p.kl(a,e,g);f=!0;break}f||a.push(e)}else a=[],a.push(e);d=new p.PD(a,e,c);this.bu.push(d);this.gj[c.Vb]=d;return a},DM:function(a,c,d){d=new p.TD(c,0,d);a.push(d);a=new p.PD(a,d,c);this.bu.push(a);this.gj[c.Vb]=a},S$:function(a){this.rr=a},M4:function(){return this.rr},update:function(a){this.Fv=!0;1!=this.rr&&(a*=this.rr);var c,d;for(d=0;d<this.Qg.length;d++)c=this.Qg[d],c.paused||
c.Rk||c.target.update(a);for(d=0;d<this.yh.length;d++)c=this.yh[d],c.paused||c.Rk||c.target.update(a);for(d=0;d<this.dg.length;d++)c=this.dg[d],c.paused||c.Rk||c.target.update(a);for(d=0;d<this.ak.length;d++){c=this.Se=this.ak[d];this.gi=!1;if(!this.Se.paused)for(c.yp=0;c.yp<c.Jf.length;c.yp++)c.Hr=c.Jf[c.yp],c.Ir=!1,c.Hr.update(a),c.Hr=null;this.gi&&0==this.Se.Jf.length&&this.gA(this.Se)}for(d=0;d<this.Qg.length;d++)this.Qg[d].Rk&&this.gv(this.Qg[d]);for(d=0;d<this.yh.length;d++)this.yh[d].Rk&&this.gv(this.yh[d]);
for(d=0;d<this.dg.length;d++)this.dg[d].Rk&&this.gv(this.dg[d]);this.Fv=!1;this.Se=null},FU:function(a,c,d,e,f,g){if(!c)throw"cc.scheduler.scheduleCallbackForTarget(): callback_fn should be non-null.";if(!a)throw"cc.scheduler.scheduleCallbackForTarget(): target should be non-null.";d=d||0;e=null==e?p.ql:e;f=f||0;g=g||!1;var h=this.fj[a.Vb];h||(h=new p.$K(a,g),this.ak.push(h),this.fj[a.Vb]=h);if(null==h.Jf)h.Jf=[];else for(var k=0;k<h.Jf.length;k++)if(g=h.Jf[k],c==g.vf){p.log("CCSheduler#scheduleCallback. Callback already scheduled. Updating interval from:"+
g.jj.toFixed(4)+" to "+d.toFixed(4));g.jj=d;return}g=new p.Mt;g.jg(a,c,d,e,f);h.Jf.push(g)},VI:function(a,c,d){var e=this.gj[a.Vb];e?e.sm.Rk=!1:0==c?this.DM(this.yh,a,d):0>c?this.Qg=this.GF(this.Qg,a,c,d):this.dg=this.GF(this.dg,a,c,d)},eK:function(a,c){if(null!=a&&null!=c){var d=this.fj[a.Vb];if(null!=d)for(var e=0;e<d.Jf.length;e++){var f=d.Jf[e];if(c==f.vf){f!=d.Hr||d.Ir||(d.Ir=!0);p.Cp(d.Jf,e);d.yp>=e&&d.yp--;0==d.Jf.length&&(this.Se==d?this.gi=!0:this.gA(d));break}}}},zp:function(a){null!=a&&
(a=this.gj[a.Vb],null!=a&&(this.Fv?a.sm.Rk=!0:this.gv(a.sm)))},dK:function(a){if(null!=a){var c=this.fj[a.Vb];c&&(!c.Ir&&p.ux(c.Jf,c.Hr)&&(c.Ir=!0),c.Jf.length=0,this.Se==c?this.gi=!0:this.gA(c));this.zp(a)}},Cs:function(){this.zW(p.vt)},zW:function(a){var c;for(c=0;c<this.ak.length;c++)this.dK(this.ak[c].target);if(0>a)for(c=0;c<this.Qg.length;c++)this.zp(this.Qg[c].target);if(0>=a)for(c=0;c<this.yh.length;c++)this.zp(this.yh[c].target);for(c=0;c<this.dg.length;c++)this.dg[c].CI>=a&&this.zp(this.dg[c].target)},
Z7:function(){return this.zT(p.vt)},zT:function(a){var c=[],d,e;for(d=0;d<this.ak.length;d++)if(e=this.ak[d])e.paused=!0,c.push(e.target);if(0>a)for(d=0;d<this.Qg.length;d++)if(e=this.Qg[d])e.paused=!0,c.push(e.target);if(0>=a)for(d=0;d<this.yh.length;d++)if(e=this.yh[d])e.paused=!0,c.push(e.target);for(d=0;d<this.dg.length;d++)if(e=this.dg[d])e.paused=!0,c.push(e.target);return c},zU:function(a){if(a)for(var c=0;c<a.length;c++)this.Om(a[c])},ms:function(a){if(!a)throw"cc.Scheduler.pauseTarget():target should be non-null";
var c=this.fj[a.Vb];c&&(c.paused=!0);if(a=this.gj[a.Vb])a.sm.paused=!0},Om:function(a){if(!a)throw"cc.Scheduler.resumeTarget():target should be non-null";var c=this.fj[a.Vb];c&&(c.paused=!1);if(a=this.gj[a.Vb])a.sm.paused=!1},t6:function(a){if(!a)throw"cc.Scheduler.isTargetPaused():target should be non-null";return(a=this.fj[a.Vb])?a.paused:!1}});p.$x={IMAGE:["png","jpg","bmp","jpeg","gif"],SOUND:["mp3","ogg","wav","mp4","m4a"],XML:["plist","xml","fnt","tmx","tsx"],BINARY:["ccbi"],FONT:"FONT",TEXT:["txt","vsh","fsh","json","ExportJson"],UNKNOW:[]};
p.Ob=p.sa.extend({Pn:0,ur:0,Pq:0,Pl:null,Bg:1/60,jj:null,nF:!1,ctor:function(){this.Pl=[]},ow:function(a,c,d){if(a){c&&(this.vf=c,this.M=d);if(a!=this.Pl||0==this.Pn){this.Pq=this.Pn=0;if(a[0]instanceof Array)for(c=0;c<a.length;c++)this.Pl=this.Pl.concat(a[c]);else this.Pl=a;this.ur=this.Pl.length}this.wO()}else console.log("resources should not null")},SU:function(a){this.nF=a},Fm:function(a){this.Pq++;p.log("cocos2d:Failed loading resource: "+a)},Nh:function(){this.Pq++},ew:function(){var a=0;return a=
0==this.ur?100:0|this.Pq/this.ur*100},fU:function(a){if(a&&0<a.length)for(var c=p.La.d(),d=p.eh?p.eh.d():null,e=p.Uj.d(),f=p.nd.d(),g,h=0;h<a.length;h++){g=a[h];var k=this.fF(g);switch(k){case "IMAGE":c.rU(g.src);break;case "SOUND":if(!d)throw"Can not find AudioEngine! Install it, please.";d.aba(g.src);break;case "XML":e.xW(g.src);break;case "BINARY":f.wW(g.src);break;case "TEXT":f.yW(g.src);break;case "FONT":break;default:throw"cocos2d:unknown filename extension: "+k;}}},cO:function(){this.Gv();
if(this.nF){var a=p.P.d().xu;if(null!=a&&20>a){p.log("cocos2d: frame rate less than 20 fps, skip frame.");return}}this.Pn<this.ur&&(this.LN(),this.Pn++)},LN:function(){var a=p.La.d(),c=p.eh?p.eh.d():null,d=p.Uj.d(),e=p.nd.d(),f=this.Pl[this.Pn],g=this.fF(f);switch(g){case "IMAGE":a.Ab(f.src);break;case "SOUND":if(!c)throw"Can not find AudioEngine! Install it, please.";c.f8(f.src);break;case "XML":d.LT(f.src);break;case "BINARY":e.KT(f.src);break;case "TEXT":e.MT(f.src);break;case "FONT":this.eO(f);
break;default:throw"cocos2d:unknown filename extension: "+g;}},wO:function(){var a=this;this.jj=setInterval(function(){a.cO()},1E3*this.Bg)},mP:function(){clearInterval(this.jj)},fF:function(a){if(null!=a.Lr)return p.$x.FONT;a=a.src;a=a.substring(a.lastIndexOf(".")+1,a.length);var c=a.indexOf("?");0<c&&(a=a.substring(0,c));for(var d in p.$x)if(-1!=p.$x[d].indexOf(a))return d;return a},Gv:function(){100<=this.ew()&&(this.mP(),this.ZM())},ZM:function(){if(this.M&&"string"==typeof this.vf)this.M[this.vf](this);
else this.M&&"function"==typeof this.vf?this.vf.call(this.M,this):this.vf(this);this.ur=this.Pq=this.Pn=0},eO:function(a){var c=a.src,d=p.nd.d();if(c&&0<c.length){var e=document.createElement("style");e.type="text/css";document.body.appendChild(e);for(var f="@font-face { font-family:"+a.Lr+"; src:",g=0;g<c.length;g++)f+="url('"+d.Zd(encodeURI(c[g].src))+"') format('"+c[g].type+"')",f+=g==c.length-1?";":",";e.textContent+=f+"};";c=document.createElement("div");c.style.fontFamily=a.Lr;c.innerHTML=".";
c.style.position="absolute";c.style.left="-100px";c.style.top="-100px";document.body.appendChild(c)}p.Ob.d().Nh()},B_:function(){}});p.Ob.uC=function(a,c,d){this.wb||(this.wb=new p.Ob);this.wb.ow(a,c,d);return this.wb};p.Ob.e8=function(a,c,d){this.wb||(this.wb=new p.Ob);this.wb.SU(!0);this.wb.ow(a,c,d);return this.wb};p.Ob.vC=function(a){this.wb&&this.wb.fU(a)};p.Ob.d=function(){this.wb||(this.wb=new p.Ob);return this.wb};p.Ob.wb=null;
p.Rx=p.Lp.extend({Nu:null,ho:null,vv:null,bq:null,eo:null,XA:null,ctor:function(){p.Lp.prototype.ctor.call(this);this.XA=p.P.d().Hb},r:function(){p.Lp.prototype.r.call(this);var a=p.a(this.XA.width/2,this.XA.height/2);this.ho=new Image;var c=this;this.ho.addEventListener("load",function(){c.vN(a);this.removeEventListener("load",arguments.callee,!1)});this.ho.src="";this.ho.width=160;this.ho.height=200;this.bq=p.bb.create(p.hB(32,32,32,255));this.bq.q(0,0);this.m(this.bq,0);this.eo=p.U.create("Loading... 0%",
"Arial",14);this.eo.k(p.Nv(180,180,180));this.eo.q(p.Hf(a,p.a(0,-110)));this.bq.m(this.eo,10)},vN:function(a){this.vv=new p.Pb;this.vv.ef(this.ho);this.vv.ge();this.Nu=p.w.wc(this.vv);this.Nu.Mj(p.md());this.Nu.q(a);this.bq.m(this.Nu,10)},ng:function(){p.H.prototype.ng.call(this);this.zc(this.$F,0.3)},xd:function(){p.H.prototype.xd.call(this);this.eo.ha("Loading... 0%")},ow:function(a,c,d){this.wU=a;this.KU=c;this.target=d},$F:function(){this.Cd(this.$F);p.Ob.uC(this.wU,this.KU,this.target);this.zc(this.Gv)},
Gv:function(){var a=p.Ob.d().ew();this.eo.ha("Loading... "+a+"%");100<=a&&this.Cd(this.Gv)}});p.Rx.uC=function(a,c,d){this.wb||(this.wb=new p.Rx,this.wb.r());this.wb.ow(a,c,d);a=p.P.d();a.Vc?a.OI(this.wb):a.DU(this.wb);return this.wb};p.Gx=p.sa.extend({ib:null,x$:function(a){this.ib=a},g4:function(){return this.ib},ctor:function(a){this.ib=a},sB:function(){p.log("DrawingPrimitive.drawPoint() not implement!")},YG:function(){p.log("DrawingPrimitive.drawPoints() not implement!")},Dh:function(){p.log("DrawingPrimitive.drawLine() not implement!")},$G:function(){p.log("DrawingPrimitive.drawRect() not implement!")},tB:function(){p.log("DrawingPrimitive.drawSolidRect() not implement!")},Ud:function(){p.log("DrawingPrimitive.drawPoly() not implement!")},
Wv:function(){p.log("DrawingPrimitive.drawSolidPoly() not implement!")},VG:function(){p.log("DrawingPrimitive.drawCircle() not implement!")},ZG:function(){p.log("DrawingPrimitive.drawQuadBezier() not implement!")},WG:function(){p.log("DrawingPrimitive.drawCubicBezier() not implement!")},UG:function(){p.log("DrawingPrimitive.drawCardinalSpline() not implement!")},Vv:function(){p.log("DrawingPrimitive.drawCardinalSpline() not implement!")}});
p.MD=p.Gx.extend({sB:function(a,c){c||(c=1);var d=p.ja.d().ma,e=p.ja.d().qa,e=p.a(a.x*d,a.y*e);this.ib.beginPath();this.ib.arc(e.x,-e.y,c*d,0,2*Math.PI,!1);this.ib.closePath();this.ib.fill()},YG:function(a,c,d){if(null!=a){d||(d=1);c=this.ib;var e=p.ja.d().ma,f=p.ja.d().qa;c.beginPath();for(var g=0,h=a.length;g<h;g++)c.arc(a[g].x*e,-a[g].y*f,d*e,0,2*Math.PI,!1);c.closePath();c.fill()}},Dh:function(a,c){var d=this.ib,e=p.ja.d().ma,f=p.ja.d().qa;d.beginPath();d.moveTo(a.x*e,-a.y*f);d.lineTo(c.x*e,-c.y*
f);d.closePath();d.stroke()},$G:function(a,c){this.Dh(p.a(a.x,a.y),p.a(c.x,a.y));this.Dh(p.a(c.x,a.y),p.a(c.x,c.y));this.Dh(p.a(c.x,c.y),p.a(a.x,c.y));this.Dh(p.a(a.x,c.y),p.a(a.x,a.y))},tB:function(a,c,d){a=[a,p.a(c.x,a.y),c,p.a(a.x,c.y)];this.Wv(a,4,d)},Ud:function(a,c,d,e){e=e||!1;if(null!=a){if(3>a.length)throw Error("Polygon's point must greater than 2");var f=a[0];c=this.ib;var g=p.ja.d().ma,h=p.ja.d().qa;c.beginPath();c.moveTo(f.x*g,-f.y*h);for(var f=1,k=a.length;f<k;f++)c.lineTo(a[f].x*g,
-a[f].y*h);d&&c.closePath();e?c.fill():c.stroke()}},Wv:function(a,c,d){this.jJ(d.h,d.g,d.f,d.D);this.Ud(a,c,!0,!0)},VG:function(a,c,d,e,f){f=f||!1;e=this.ib;var g=p.ja.d().ma,h=p.ja.d().qa;e.beginPath();e.arc(0|a.x*g,0|-(a.y*h),c*g,-d,-(d-2*Math.PI),!1);f&&e.lineTo(0|a.x*g,0|-(a.y*h));e.stroke()},ZG:function(a,c,d,e){for(var f=[],g=0,h=0;h<e;h++)f.push(p.a(Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y)),g+=1/e;f.push(p.a(d.x,d.y));this.Ud(f,e+1,!1,!1)},WG:function(a,
c,d,e,f){for(var g=[],h=0,k=0;k<f;k++)g.push(p.a(Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y)),h+=1/f;g.push(p.a(e.x,e.y));this.Ud(g,f+1,!1,!1)},UG:function(a,c){this.Vv(a,0.5,c)},Vv:function(a,c,d){p.O.strokeStyle="rgba(255,255,255,1)";for(var e=[],f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=p.Ax(p.Tg(a,f-1),p.Tg(a,f-0),p.Tg(a,f+1),p.Tg(a,f+2),c,g),e.push(f);this.Ud(e,
d+1,!1,!1)},drawImage:function(a,c,d,e,f){switch(arguments.length){case 2:this.ib.drawImage(a,c.x,-(c.y+a.height));break;case 3:this.ib.drawImage(a,c.x,-(c.y+d.height),d.width,d.height);break;case 5:this.ib.drawImage(a,c.x,c.y,d.width,d.height,e.x,-(e.y+f.height),f.width,f.height);break;default:throw Error("Argument must be non-nil");}},e1:function(a,c,d){a=a||this.ib;c*=p.ja.d().ma;d instanceof p.Fd&&(d=new p.nc(0|255*d.h,0|255*d.g,0|255*d.f));d="rgba("+d.h+","+d.g+","+d.f;a.fillStyle=d+",1)";var e=
c/10;a.beginPath();a.moveTo(-c,c);a.lineTo(0,e);a.lineTo(c,c);a.lineTo(e,0);a.lineTo(c,-c);a.lineTo(0,-e);a.lineTo(-c,-c);a.lineTo(-e,0);a.lineTo(-c,c);a.closePath();a.fill();var f=a.createRadialGradient(0,0,e,0,0,c);f.addColorStop(0,d+", 1)");f.addColorStop(0.3,d+", 0.8)");f.addColorStop(1,d+", 0.0)");a.fillStyle=f;a.beginPath();a.arc(0,0,c-e,0,p.XD,!1);a.closePath();a.fill()},c1:function(a,c,d){a=a||this.ib;c*=p.ja.d().ma;d instanceof p.Fd&&(d=new p.nc(0|255*d.h,0|255*d.g,0|255*d.f));d="rgba("+
d.h+","+d.g+","+d.f;var e=a.createRadialGradient(0,0,c/10,0,0,c);e.addColorStop(0,d+", 1)");e.addColorStop(0.3,d+", 0.8)");e.addColorStop(0.6,d+", 0.4)");e.addColorStop(1,d+", 0.0)");a.fillStyle=e;a.beginPath();a.arc(0,0,c,0,p.XD,!1);a.closePath();a.fill()},fillText:function(a,c,d){this.ib.fillText(a,c,-d)},fV:function(a,c,d,e){this.ib.fillStyle="rgba("+a+","+c+","+d+","+e/255+")";this.ib.strokeStyle="rgba("+a+","+c+","+d+","+e/255+")"},jJ:function(a,c,d,e){this.ib.fillStyle="rgba("+(0|255*a)+","+
(0|255*c)+","+(0|255*d)+","+e+")";this.ib.strokeStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+")"},IV:function(){},rV:function(a){this.ib.lineWidth=a*p.ja.d().ma}});
p.QK=p.Gx.extend({Kq:!1,zb:null,ei:-1,ac:null,Vz:-1,Uz:-1,ctor:function(a){null==a&&(a=p.O);if(!a instanceof WebGLRenderingContext)throw"Can't initialise DrawingPrimitiveWebGL. context need is WebGLRenderingContext";p.Gx.prototype.ctor.call(this,a);this.ac=new p.Fd(1,1,1,1)},Hj:function(){this.Kq||(this.zb=p.ih.d().Oh(p.eZ),this.ei=this.ib.getUniformLocation(this.zb.fw(),"u_color"),this.Vz=this.ib.getUniformLocation(this.zb.fw(),"u_pointSize"),this.Kq=!0)},d1:function(){this.Kq=!1},sB:function(a){this.Hj();
this.zb.Pe();this.zb.rg();p.be(p.zg);this.zb.al(this.ei,new Float32Array(this.ac.Gb,0,4),1);this.zb.EJ(this.Vz,this.Uz);var c=this.ib,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,new Float32Array([a.x,a.y]),c.STATIC_DRAW);c.vertexAttribPointer(p.qe,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,1);c.deleteBuffer(d);p.fh()},YG:function(a){if(a&&0!=a.length){this.Hj();this.zb.Pe();this.zb.rg();p.be(p.zg);this.zb.al(this.ei,new Float32Array(this.ac.Gb,0,4),1);this.zb.EJ(this.Vz,
this.Uz);var c=this.ib,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.bv(a),c.STATIC_DRAW);c.vertexAttribPointer(p.qe,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,a.length);c.deleteBuffer(d);p.fh()}},bv:function(a){for(var c=new Float32Array(2*a.length),d=0;d<a.length;d++)c[2*d]=a[d].x,c[2*d+1]=a[d].y;return c},Dh:function(a,c){this.Hj();this.zb.Pe();this.zb.rg();p.be(p.zg);this.zb.al(this.ei,new Float32Array(this.ac.Gb,0,4),1);var d=this.ib,e=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,
e);d.bufferData(d.ARRAY_BUFFER,this.bv([a,c]),d.STATIC_DRAW);d.vertexAttribPointer(p.qe,2,d.FLOAT,!1,0,0);d.drawArrays(d.LINES,0,2);d.deleteBuffer(e);p.fh()},$G:function(a,c){this.Dh(p.a(a.x,a.y),p.a(c.x,a.y));this.Dh(p.a(c.x,a.y),p.a(c.x,c.y));this.Dh(p.a(c.x,c.y),p.a(a.x,c.y));this.Dh(p.a(a.x,c.y),p.a(a.x,a.y))},tB:function(a,c,d){a=[a,p.a(c.x,a.y),c,p.a(a.x,c.y)];this.Wv(a,4,d)},Ud:function(a,c,d){this.Hj();this.zb.Pe();this.zb.rg();p.be(p.zg);this.zb.al(this.ei,new Float32Array(this.ac.Gb,0,4),
1);c=this.ib;var e=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,e);c.bufferData(c.ARRAY_BUFFER,this.bv(a),c.STATIC_DRAW);c.vertexAttribPointer(p.qe,2,c.FLOAT,!1,0,0);d?c.drawArrays(c.LINE_LOOP,0,a.length):c.drawArrays(c.LINE_STRIP,0,a.length);c.deleteBuffer(e);p.fh()},Wv:function(a,c,d){this.Hj();d||(d=this.ac);this.zb.Pe();this.zb.rg();p.be(p.zg);this.zb.al(this.ei,new Float32Array(d.Gb,0,4),1);c=this.ib;d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.bv(a),c.STATIC_DRAW);
c.vertexAttribPointer(p.qe,2,c.FLOAT,!1,0,0);c.drawArrays(c.TRIANGLE_FAN,0,a.length);c.deleteBuffer(d);p.fh()},VG:function(a,c,d,e,f){this.Hj();var g=1;f&&g++;var h=2*Math.PI/e;if(f=new Float32Array(2*(e+2))){for(var k=0;k<=e;k++){var l=k*h,m=c*Math.sin(l+d)+a.y;f[2*k]=c*Math.cos(l+d)+a.x;f[2*k+1]=m}f[2*(e+1)]=a.x;f[2*(e+1)+1]=a.y;this.zb.Pe();this.zb.rg();p.be(p.zg);this.zb.al(this.ei,new Float32Array(this.ac.Gb,0,4),1);a=this.ib;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(p.qe,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+g);a.deleteBuffer(c);p.fh()}},ZG:function(a,c,d,e){this.Hj();for(var f=new Float32Array(2*(e+1)),g=0,h=0;h<e;h++)f[2*h]=Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,f[2*h+1]=Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y,g+=1/e;f[2*e]=d.x;f[2*e+1]=d.y;this.zb.Pe();this.zb.rg();p.be(p.zg);this.zb.al(this.ei,new Float32Array(this.ac.Gb,0,4),1);a=this.ib;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(p.qe,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+1);a.deleteBuffer(c);p.fh()},WG:function(a,c,d,e,f){this.Hj();for(var g=new Float32Array(2*(f+1)),h=0,k=0;k<f;k++)g[2*k]=Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,g[2*k+1]=Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y,h+=1/f;g[2*f]=e.x;g[2*f+1]=e.y;this.zb.Pe();this.zb.rg();p.be(p.zg);this.zb.al(this.ei,new Float32Array(this.ac.Gb,0,4),1);a=this.ib;c=a.createBuffer();
a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,g,a.STATIC_DRAW);a.vertexAttribPointer(p.qe,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,f+1);a.deleteBuffer(c);p.fh()},UG:function(a,c){this.Vv(a,0.5,c)},Vv:function(a,c,d){this.Hj();for(var e=new Float32Array(2*(d+1)),f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=p.Ax(p.Tg(a,f-1),p.Tg(a,f),p.Tg(a,f+1),p.Tg(a,f+2),c,g),e[2*k]=f.x,e[2*k+1]=f.y;this.zb.Pe();this.zb.rg();p.be(p.zg);this.zb.al(this.ei,
new Float32Array(this.ac.Gb,0,4),1);a=this.ib;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,e,a.STATIC_DRAW);a.vertexAttribPointer(p.qe,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,d+1);a.deleteBuffer(c);p.fh()},fV:function(a,c,d,e){this.ac.h=a/255;this.ac.g=c/255;this.ac.f=d/255;this.ac.D=e/255},jJ:function(a,c,d,e){this.ac.h=a;this.ac.g=c;this.ac.f=d;this.ac.D=e},IV:function(a){this.Uz=a*p.md()},rV:function(a){this.ib.lineWidth&&this.ib.lineWidth(a)}});p.XD=2*Math.PI;p.pE={FZ:0,jY:1,kY:2,VW:3,cY:4,bY:5,hX:6,sY:7,NX:8,sL:100,BL:101};p.yY=0;p.zY=1;p.wY=2;p.xY=3;p.Mf=0;p.Xj=1;p.Cf=null;p.O=null;p.canvas=null;p.ZQ=null;p.kd=p.Mf;p.tT=p.size(0,0);window.EC=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;window.console||(window.console={},window.console.log=function(){},window.console.assert=function(){});p.bC=!1;
p.bl=function(a,c,d){function e(){if(p.eh){var a=p.eh.d();document[k]?(a.yT(),a.AT()):(p.P.d().sO(),a.xU(),a.yU())}}a=p.Eb(a)||p.Eb("#"+a);var f,g,h;"CANVAS"==a.tagName?(c=c||a.width,d=d||a.height,g=p.Aj=p.Qj("DIV"),h=g.style,f=p.canvas=a,f.parentNode.insertBefore(g,f),f.nm(g),h.width=(c||480)+"px",h.height=(d||320)+"px",g.setAttribute("id","Cocos2dGameContainer"),h.margin="0 auto",f.setAttribute("width",c||480),f.setAttribute("height",d||320)):("DIV"!=a.tagName&&p.log("Warning: target element is not a DIV or CANVAS"),
c=c||a.clientWidth,d=d||a.clientHeight,f=p.canvas=p.Qj("CANVAS"),f.xG("gameCanvas"),f.setAttribute("width",c||480),f.setAttribute("height",d||320),g=p.Aj=a,h=g.style,a.appendChild(f),h.width=(c||480)+"px",h.height=(d||320)+"px",h.margin="0 auto");h.position="relative";h.overflow="hidden";g.top="100%";if(!p.xy){p.wa.Ac&&(p.O=p.sba=p.KG(f,{stencil:!0,preserveDrawingBuffer:!0,antialias:!p.wa.Gj,alpha:!1}));p.O?(p.kd=p.Xj,window.gl=p.O,p.Cf=new p.QK(p.O),p.La.d().CN()):(p.O=f.getContext("2d"),p.VS=p.O,
p.kd=p.Mf,p.O.translate(0,f.height),p.Cf=p.MD?new p.MD(p.O):null);p.tT=p.size(f.width,f.height);p.ZQ=g;p.log(p.Rs);p.oe.d();p.bV();p.wa.Gj&&p.yM();var k,l;"undefined"!==typeof document.hidden?(k="hidden",l="visibilitychange"):"undefined"!==typeof document.mozHidden?(k="mozHidden",l="mozvisibilitychange"):"undefined"!==typeof document.msHidden?(k="msHidden",l="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(k="webkitHidden",l="webkitvisibilitychange");"undefined"===typeof document.addEventListener||
"undefined"===typeof k?(p.bC=!1,window.addEventListener("focus",function(){if(p.eh){var a=p.eh.d();a.xU();a.yU()}},!1),window.addEventListener("blur",function(){if(p.eh){var a=p.eh.d();a.yT();a.AT()}},!1)):(p.bC=!0,document.addEventListener(l,e,!1))}};p.yM=function(){var a=document.createElement("style");a.type="text/css";document.body.appendChild(a);a.textContent="body,canvas,div{ -moz-user-select: none;-webkit-user-select: none;-ms-user-select: none;-khtml-user-select: none;-webkit-tap-highlight-color:rgba(0,0,0,0);}"};
p.oF=!1;p.bV=function(){p.oF=!1;p.canvas.oncontextmenu=p.oF?function(){}:function(){return!1}};p.Ni=p.sa.extend({Bg:null,ctor:function(){this.Bg=0;if(p.vA)throw"Application has been initialized";p.vA=this},qs:function(a){this.Bg=a},waa:function(a){a&&p.rect(0,0,0,0)},I4:function(){return p.wa.Gj?p.pE.sL:p.pE.BL},BU:function(){if(!this.MP())return 0;var a,c=p.P.d(),d=window;p.EQ=c;d.EC&&this.Bg==1/60?(a=function(){c.kI();d.EC(a)},d.EC(a)):(a=function(){c.kI()},setInterval(a,1E3*this.Bg));return 0}});
p.Ni.d=function(){return p.vA};p.Ni.s2=function(){var a=p.gL,c=navigator.language;c||(c=navigator.browserLanguage||navigator.jba);if(!c)return a;c=c.toLowerCase();switch(c){case "zh-cn":a=p.fL;break;case "fr":a=p.hL;break;case "it":a=p.kL;break;case "de":a=p.iL;break;case "es":a=p.rL;break;case "ru":a=p.qL;break;case "ko":a=p.mL;break;case "ja":a=p.lL;break;case "hu":a=p.jL;break;case "pt":a=p.pL;break;case "ar":a=p.eL;break;case "no":a=p.nL;break;case "pl":a=p.oL}return a};p.vA=null;p.Uj=p.sa.extend({uba:null,EF:null,Eo:null,Hz:null,ctor:function(){this.Eo={};window.DOMParser?(this.Hz=!0,this.EF=new DOMParser):this.Hz=!1},parse:function(a){var c=a;a=this.pH(a);a=this.FF(a,c).documentElement;if("plist"!=a.tagName)throw"cocos2d: "+c+" is not a plist file or you forgot to preload the plist file";for(var c=null,d=0,e=a.childNodes.length;d<e&&(c=a.childNodes[d],1!=c.nodeType);d++);return this.Rz(c)},Vaa:function(a,c){if(null==c||!1===c)a=this.pH(a);return this.FF(a)},FF:function(a,
c){var d;this.Hz?d=this.EF.parseFromString(a,"text/xml"):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(a));null==d&&p.log("cocos2d:xml "+c+" not found!");return d},Rz:function(a){var c=null;switch(a.tagName){case "dict":c=this.$N(a);break;case "array":c=this.ZN(a);break;case "string":if(1==a.childNodes.length)c=a.firstChild.nodeValue;else for(var c="",d=0;d<a.childNodes.length;d++)c+=a.childNodes[d].nodeValue;break;case "false":c=!1;break;case "true":c=!0;break;case "real":c=
parseFloat(a.firstChild.nodeValue);break;case "integer":c=parseInt(a.firstChild.nodeValue,10)}return c},ZN:function(a){for(var c=[],d=0,e=a.childNodes.length;d<e;d++){var f=a.childNodes[d];1==f.nodeType&&c.push(this.Rz(f))}return c},$N:function(a){for(var c={},d=null,e=0,f=a.childNodes.length;e<f;e++){var g=a.childNodes[e];1==g.nodeType&&("key"==g.tagName?d=g.firstChild.nodeValue:c[d]=this.Rz(g))}return c},LT:function(a){a=p.nd.d().Zd(a);if(window.XMLHttpRequest){var c=new XMLHttpRequest;c.overrideMimeType&&
c.overrideMimeType("text/xml")}if(null!=c){var d=this;c.onreadystatechange=function(){4==c.readyState&&(c.responseText?(p.Ob.d().Nh(),d.Eo[a]=c.responseText,c=null):(p.Ob.d().Nh(),p.log("cocos2d:There was a problem retrieving the xml data:"+c.statusText)))};c.open("GET",a,!0);c.send(null)}else throw"cocos2d:Your browser does not support XMLHTTP.";},xW:function(a){this.Eo.hasOwnProperty(a)&&delete this.Eo[a]},getName:function(a){return a.substring(a.lastIndexOf("/",a.length)+1,a.lastIndexOf(".",a.length))},
G2:function(a){return a.substring(a.lastIndexOf(".",a.length)+1,a.length)},pH:function(a){return null!=this.Eo?this.Eo[a]:null}});p.Uj.d=function(){this.wb||(this.wb=new p.Uj);return this.wb};p.Uj.wb=null;p.tx=p.sa.extend({DQ:function(){p.Ni.d().BU();return!0},d0:function(){p.P.d().pause()},c0:function(){p.P.d().RI()},LP:function(){p.Ni.d().LP()},NP:function(){p.Ni.d().NP()},e0:function(){}});p.tx.dW=function(){null==p.dx&&(p.dx=new p.tx);if(!p.dx)throw"Application initialize failure";return p.dx};p.dx=null;p.U=p.w.extend({Md:null,jk:p.Ti,Ck:p.Up,Te:null,te:0,cg:"",Qz:null,$n:!1,cj:null,pj:!1,Ul:null,po:0,gr:0,mv:null,yk:!1,lr:null,uo:0,ov:null,vo:null,wu:null,FA:0,GA:0,Rc:!1,Ju:null,Ku:null,ctor:function(){p.w.prototype.ctor.call(this);this.Md=p.rl();this.jk=p.Qp;this.Ck=p.Up;this.dc=!1;this.cj="";this.Te="Arial";this.pj=this.$n=!1;this.Ul=p.rl();this.gr=this.po=0;this.mv="rgba(128, 128, 128, 0.5)";this.yk=!1;this.lr=p.mb();this.uo=0;this.ov="";this.vo=p.mb();this.wu="rgba(255,255,255,1)";this.GA=this.FA=
0;this.Rc=!1;this.uh()},r:function(){return this.Jk(" ",this.Te,this.te)},PN:function(){this.wz().font=this.cj},Rq:function(a){return this.wz().measureText(a).width},NM:function(a,c){var d=this.Rq(a),e=Math.floor(a.length*c/d),f=a.indexOf("\n");if(0.8*e>=f&&0<f)return f+1;if(d<c)return a.length;for(var d=!1,f=c+1,g=-1,h=e,k,l=p.U.OM,m=p.U.uO,n=p.U.MM,s=a.substr(e);k=l.exec(s);){h+=k[0].length;if("\n"==k[2]){d=!0;g=h;break}f=this.Rq(a.substr(0,h));if(f>c){-1!=g&&(d=!0);break}g=h;s=a.substr(h)}if(d)return g;
s=a.substr(0,e);for(g=e;k=m.exec(s);)if(g=k[1].length,s=k[1],f=this.Rq(s),f<c){n.test(k[2])&&g++;break}return g},description:function(){return"\x3ccc.LabelTTF | FontName \x3d"+this.Te+" FontSize \x3d "+this.te.toFixed(1)+"\x3e"},k:null,br:function(a){p.nb.prototype.k.call(this,a);this.OF()},uh:null,OF:function(){this.Rc=!0;var a=this.rc,c=this.Nb,d=this.lr,e=this.vo;this.mv="rgba("+(0|0.5*a.h)+","+(0|0.5*a.g)+","+(0|0.5*a.f)+","+this.po+")";this.wu="rgba("+(0|a.h/255*e.h)+","+(0|a.g/255*e.g)+","+
(0|a.f/255*e.f)+", "+c/255+")";this.ov="rgba("+(0|a.h/255*d.h)+","+(0|a.g/255*d.g)+","+(0|a.f/255*d.f)+", "+c/255+")"},DO:function(){this.Rc=!0;var a=this.lr,c=this.vo;this.mv="rgba(128,128,128,"+this.po+")";this.wu="rgba("+(0|c.h)+","+(0|c.g)+","+(0|c.f)+", 1)";this.ov="rgba("+(0|a.h)+","+(0|a.g)+","+(0|a.f)+", 1)"},Mc:null,MA:function(a){p.nb.prototype.Mc.call(this,a);this.uh()},Z:null,dr:function(a){this.pi!==a&&(p.w.prototype.Z.call(this,a),this.uh(),this.Rc=!0)},Nc:null,fba:function(a){p.nb.prototype.Nc.call(this,
a);this.uh()},HB:function(){return this.cg},S2:function(){return this.jk},c5:function(){return this.Ck},B2:function(){return p.size(this.Md.width,this.Md.height)},M2:function(){return this.te},L2:function(){return this.Te},Jk:function(a,c,d,e,f,g){a=a?a+"":"";d=d||16;e=e||p.size(0,d);f=f||p.Qp;g=g||p.Vp;return p.w.prototype.r.call(this)?(this.dc=!1,this.Md=p.size(e.width,e.height),this.Te=c||"Arial",this.jk=f,this.Ck=g,this.te=d,this.cj=this.te+"px '"+c+"'",this.bj=p.U.Xt(c,this.te),this.ha(a),this.uh(),
this.OA(),this.Rc=!1,!0):!1},YB:null,yN:function(a,c){if(!p.w.prototype.r.call(this))return!1;this.PA(c,!1);this.ha(a);return!0},zN:function(a,c){if(!p.w.prototype.r.call(this))return!1;this.qg(p.ih.d().Oh(p.U.iM));this.PA(c,!1);this.ha(a);return!0},Q$:function(a){a&&this.PA(a,!0)},J4:function(){return this.dO(!1)},SQ:function(a,c,d){c=c||0.5;!1===this.pj&&(this.pj=!0);var e=this.Ul;if(e&&e.width!=a.width||e.height!=a.height)e.width=a.width,e.height=a.height;this.po!=c&&(this.po=c);this.uh();this.gr!=
d&&(this.gr=d);this.Rc=!0},Z0:function(){this.pj&&(this.pj=!1,this.Rc=!0)},TQ:function(a,c){!1===this.yk&&(this.yk=!0);var d=this.lr;if(d.h!==a.h||d.g!==a.g||d.f!==a.f)d.h=a.h,d.g=a.g,d.f=a.f,this.uh();this.uo!==c&&(this.uo=c||0);this.Rc=!0},$0:function(){this.yk&&(this.yk=!1,this.Rc=!0)},OC:null,HO:function(a){var c=this.vo;if(c.h!=a.h||c.g!=a.g||c.f!=a.f)c.h=a.h,c.g=a.g,c.f=a.f,this.uh(),this.Rc=!0},IO:function(a){var c=this.vo;if(c.h!=a.h||c.g!=a.g||c.f!=a.f)c.h=a.h,c.g=a.g,c.f=a.f,this.uh(),this.Rc=
!0},PA:function(a,c){a.Kr?(this.Md.width=a.Kr.width,this.Md.height=a.Kr.height):(this.Md.width=0,this.Md.height=0);this.jk=a.eH;this.Ck=a.fH;this.Te=a.Lr;this.te=a.fontSize||12;this.cj=this.te+"px '"+this.Te+"'";this.bj=p.U.Xt(this.Te,this.te);a.NJ&&this.SQ(a.OJ,a.PJ,a.shadowBlur,!1);a.fD&&this.TQ(a.strokeColor,a.XJ,!1);this.OC(a.gH,!1);c&&this.OA()},dO:function(a){var c=new p.WK;a?(c.fontSize=this.te,c.Kr=p.dy(this.Md)):(c.fontSize=this.te,c.Kr=p.size(this.Md.width,this.Md.height));c.Lr=this.Te;
c.eH=this.jk;c.fH=this.Ck;if(this.yk){c.fD=!0;var d=this.lr;c.strokeColor=new p.nc(d.h,d.g,d.f);c.XJ=this.uo}else c.fD=!1;this.pj?(c.NJ=!0,c.shadowBlur=this.gr,c.PJ=this.po,c.OJ=a?p.dy(this.Ul):p.size(this.Ul.width,this.Ul.height)):c.pj=!1;a=this.vo;c.gH=new p.nc(a.h,a.g,a.f);return c},bj:18,ha:function(a){a=String(a);this.Qz!=a&&(this.Qz=a+"",this.nG(),this.Rc=!0)},nG:function(){this.cg=this.Qz},G9:function(a){a!==this.jk&&(this.jk=a,this.Rc=!0)},caa:function(a){a!=this.Ck&&(this.Ck=a,this.Rc=!0)},
Sw:function(a){if(a.width!=this.Md.width||a.height!=this.Md.height)this.Md=a,this.nG(),this.Rc=!0},lJ:function(a){this.te!==a&&(this.te=a,this.cj=a+"px '"+this.Te+"'",this.bj=p.U.Xt(this.Te,a),this.Rc=!0)},lV:function(a){this.Te&&this.Te!=a&&(this.Te=a,this.cj=this.te+"px '"+a+"'",this.bj=p.U.Xt(a,this.te),this.Rc=!0)},dN:function(a){if(a){var c=this.FA,d=this.GA,e=this.la.ka-d,f=this.Ck,g=this.jk,h=this.bj,k=this.uo;a.setTransform(1,0,0,1,0+0.5*c,e+0.5*d);a.font!=this.cj&&(a.font=this.cj);a.fillStyle=
this.wu;var l=d=0,m=this.yk;m&&(a.lineWidth=2*k,a.strokeStyle=this.ov);this.pj&&(k=this.Ul,a.shadowColor=this.mv,a.shadowOffsetX=k.width,a.shadowOffsetY=-k.height,a.shadowBlur=this.gr);a.textBaseline=p.U.gP[f];a.textAlign=p.U.fP[g];c=this.la.xa-c;d=g===p.VL?d+c:g===p.Ti?d+c/2:d+0;if(this.$n)for(g=this.rj.length,f===p.Up?l=h+e-h*g:f===p.Tt&&(l=h/2+(e-h*g)/2),f=0;f<g;f++)c=this.rj[f],k=-e+h*f+l,m&&a.strokeText(c,d,k),a.fillText(c,d,k);else f!==p.Up&&(l=f===p.Vp?l-e:l-0.5*e),m&&a.strokeText(this.cg,
d,l),a.fillText(this.cg,d,l)}},wz:function(){if(this.Ku)return this.Ku;if(!this.Ju){var a=document.createElement("canvas"),c=new p.Pb;c.ef(a);this.aa(c);this.Ju=a}return this.Ku=this.Ju.getContext("2d")},oG:function(){var a=this.Md.width,c,d;this.sF=[];this.$n=!1;this.PN();if(0!==a){var e=this.cg;this.rj=[];c=0;for(d=this.cg.length;c<d;){var f=this.NM(e.substr(c),a);this.rj.push(e.substr(c,f));c+=f}}else for(this.rj=this.cg.split("\n"),c=0,d=this.rj.length;c<d;c++)this.sF.push(this.Rq(this.rj[c]));
0<this.rj.length&&(this.$n=!0);d=c=0;this.yk&&(c=d=2*this.uo);this.pj&&(e=this.Ul,c+=2*Math.abs(e.width),d+=2*Math.abs(e.height));a=0===a?this.$n?p.size(0|Math.max.apply(Math,this.sF)+c,0|this.bj*this.rj.length+d):p.size(0|this.Rq(this.cg)+c,0|this.bj+d):0===this.Md.height?this.$n?p.size(0|a+c,0|this.bj*this.rj.length+d):p.size(0|a+c,0|this.bj+d):p.size(0|a+c,0|this.Md.height+d);this.$(a);this.FA=c;this.GA=d;e=this.jh;this.pd.C=0.5*c+(a.width-c)*e.C;this.pd.I=0.5*d+(a.height-d)*e.I},e:function(){this.Rc&&
this.oG();return p.w.prototype.e.call(this)},OA:function(){var a=this.wz(),c=this.Ju,d=this.la;if(0===this.cg.length)return c.width=1,c.height=d.ka,this.lb(p.rect(0,0,1,d.ka)),!0;a.font=this.cj;this.oG();var e=d.xa,d=d.ka,f=c.width==e&&c.height==d;c.width=e;c.height=d;f&&a.clearRect(0,0,e,d);this.dN(a);this.ta.ge();this.lb(p.rect(0,0,e,d));return!0},ia:function(a){this.cg&&""!=this.cg&&(this.Rc&&(this.Rc=!1,this.OA()),p.w.prototype.ia.call(this,a||p.O))},Ja:null,Vf:function(a){if(this.cg&&""!=this.cg){a=
a||p.O;var c=this.ta;c&&c.hc&&(this.tc.Pe(),this.tc.rg(),p.Ej(this.W.src,this.W.ub),p.gg(c),p.be(p.St),a.bindBuffer(a.ARRAY_BUFFER,this.fv),this.Xe&&(a.bufferData(a.ARRAY_BUFFER,this.yb.bB,a.STATIC_DRAW),this.Xe=!1),a.vertexAttribPointer(p.qe,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(p.Tp,2,a.FLOAT,!1,24,16),a.vertexAttribPointer(p.Sp,4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));1===p.Vj?(a=this.yb,a=[p.a(a.Ga.o.x,a.Ga.o.y),p.a(a.za.o.x,a.za.o.y),p.a(a.Ia.o.x,a.Ia.o.y),p.a(a.Ca.o.x,
a.Ca.o.y)],p.Cf.Ud(a,4,!0)):2===p.Vj&&(a=this.IB().Qa,c=this.Xb,a=[p.a(c.x,c.y),p.a(c.x+a.width,c.y),p.a(c.x+a.width,c.y+a.height),p.a(c.x,c.y+a.height)],p.Cf.Ud(a,4,!0));p.Fh++}},uA:function(a,c,d){this.Ic=c||!1;d=d||a.Qa;this.$(d);this.ZC(a);c=this.xo;c.x=a.x;c.y=a.y;c.width=a.width;c.height=a.height;c.Gs=!(0===c.width||0===c.height);a=this.xh;this.bc&&(a.C=-a.C);this.cc&&(a.I=-a.I);this.Xb.C=a.x+(this.la.xa-this.oa.width)/2;this.Xb.I=a.y+(this.la.ka-this.oa.height)/2;this.Ya&&(this.ya=!0)},RF:function(a){var c=
this.Ya?this.Fa.T():this.ta;if(c){var d=c.So(),e=c.Ro(),f,g=this.yb;this.Ic?(p.kt?(c=(2*a.x+1)/(2*d),d=c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/d,f=a.y/e,a=(a.y+a.width)/e),this.bc&&(e=f,f=a,a=e),this.cc&&(e=c,c=d,d=e),g.za.u.Da=c,g.za.u.da=f,g.Ia.u.Da=c,g.Ia.u.da=a,g.Ga.u.Da=d,g.Ga.u.da=f,g.Ca.u.Da=d,g.Ca.u.da=a):(p.kt?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+
a.height)/e),this.bc&&(e=c,c=d,d=e),this.cc&&(e=f,f=a,a=e),g.za.u.Da=c,g.za.u.da=a,g.Ia.u.Da=d,g.Ia.u.da=a,g.Ga.u.Da=c,g.Ga.u.da=f,g.Ca.u.Da=d,g.Ca.u.da=f);this.Xe=!0}}});
p.wa.Ac?(b=p.U.prototype,b.k=p.w.prototype.k,b.uh=p.U.prototype.DO,b.Mc=p.w.prototype.Mc,b.Z=p.w.prototype.Z,b.Nc=p.w.prototype.Nc,b.YB=p.U.prototype.zN,b.OC=p.U.prototype.IO,b.Ja=p.U.prototype.Vf,b.lb=p.w.prototype.SF):(b=p.U.prototype,b.k=p.U.prototype.br,b.uh=p.U.prototype.OF,b.Mc=p.U.prototype.MA,b.Z=p.U.prototype.dr,b.Nc=p.U.prototype.kG,b.YB=p.U.prototype.yN,b.OC=p.U.prototype.HO,b.Ja=p.w.prototype.Ja,b.lb=p.U.prototype.uA);p.U.fP=["left","center","right"];p.U.gP=["top","middle","bottom"];
p.U.OM=/(.+?)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;p.U.uO=/(.*)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;p.U.MM=/[\s\-\/\\\:]/;p.U.create=function(a,c,d,e,f,g){var h=new p.U;return h.Jk(a,c,d,e,f,g)?h:null};p.U.S0=function(a,c){var d=new p.U;return d&&d.YB(a,c)?d:null};p.U.iM=p.cM?p.cy:p.bZ;p.U.sl=document.createElement("div");p.U.sl.style.fontFamily="Arial";p.U.sl.style.position="absolute";p.U.sl.style.left="-100px";p.U.sl.style.top="-100px";p.U.sl.style.lineHeight="normal";
document.body.appendChild(p.U.sl);p.U.Xt=function(a,c){var d=p.U.FE[a+"."+c];if(0<d)return d;var e=p.U.sl;e.innerHTML="ajghl~!";e.style.fontFamily=a;e.style.fontSize=c+"px";d=e.clientHeight;p.U.FE[a+"."+c]=d;e.innerHTML="";return d};p.U.FE={};p.ZK=p.sa.extend({vc:null,target:null,lm:0,Sg:null,rm:!1,paused:!1,RB:null,ctor:function(){this.vc=[];this.M=null;this.lm=0;this.Sg=null;this.paused=this.rm=!1;this.RB=null}});
p.vK=p.sa.extend({mh:null,yn:null,Se:null,gi:!1,t_:function(a,c){for(var d=0;d<a.length;d++)if(c==a[d].target)return a[d];return null},ctor:function(){this.mh={};this.yn=[];this.Se=null;this.gi=!1},BP:function(a,c,d){if(!a)throw"cc.ActionManager.addAction(): action must be non-null";if(!c)throw"cc.ActionManager.addAction(): action must be non-null";var e=this.mh[c.Vb];e||(e=new p.ZK,e.paused=d,e.target=c,this.mh[c.Vb]=e,this.yn.push(e));this.sM(e);e.vc.push(a);a.S(c)},v8:function(){for(var a=this.yn,
c=0;c<a.length;c++){var d=a[c];d&&this.LI(d.target,!0)}},LI:function(a,c){if(null!=a){var d=this.mh[a.Vb];d&&(-1===d.vc.indexOf(d.Sg)||d.rm||(d.rm=!0),d.vc=[],this.Se!=d||c?this.az(d):this.gi=!0)}},KI:function(a){if(null!=a){var c=this.mh[a.Nl.Vb];if(c)for(var d=0;d<c.vc.length;d++){if(c.vc[d]==a){c.vc.splice(d,1);break}}else p.log("cocos2d: removeAction: Target not found")}},gU:function(a,c){a==p.en&&p.log("cc.ActionManager.removeActionByTag(): an invalid tag");if(!c)throw"cc.ActionManager.removeActionByTag(): target must be non-null";
var d=this.mh[c.Vb];if(d)for(var e=d.vc.length,f=0;f<e;++f){var g=d.vc[f];if(g&&g.Wc===a&&g.Nl==c){this.hO(f,d);break}}},xB:function(a,c){a==p.en&&p.log("cc.ActionManager.getActionByTag(): an invalid tag");var d=this.mh[c.Vb];if(d){if(null!=d.vc)for(var e=0;e<d.vc.length;++e){var f=d.vc[e];if(f&&f.Wc===a)return f}p.log("cocos2d : getActionByTag(tag \x3d"+a+"): Action not found")}return null},aT:function(a){return(a=this.mh[a.Vb])?a.vc?a.vc.length:0:0},ms:function(a){if(a=this.mh[a.Vb])a.paused=!0},
Om:function(a){if(a=this.mh[a.Vb])a.paused=!1},Y7:function(){for(var a=[],c=this.yn,d=0;d<c.length;d++){var e=c[d];e&&!e.paused&&(e.paused=!0,a.push(e.target))}return a},zU:function(a){if(a)for(var c=0;c<a.length;c++)a[c]&&this.Om(a[c])},i8:function(){p.P.d().df().zp(this)},hO:function(a,c){c.vc[a]!=c.Sg||c.rm||(c.rm=!0);p.Cp(c.vc,a);c.lm>=a&&c.lm--;0==c.vc.length&&(this.Se==c?this.gi=!0:this.az(c))},az:function(a){a&&(delete this.mh[a.target.Vb],p.Dd(this.yn,a),a.vc=null,a.target=null)},sM:function(a){null==
a.vc&&(a.vc=[])},update:function(a){for(var c=this.yn,d,e=0;e<c.length;e++){d=this.Se=c[e];if(!d.paused)for(d.lm=0;d.lm<d.vc.length;d.lm++)if(d.Sg=d.vc[d.lm],d.Sg){d.rm=!1;d.Sg.step(a);if(d.rm)d.Sg=null;else if(d.Sg.Ih()){d.Sg.stop();var f=d.Sg;d.Sg=null;this.KI(f)}d.Sg=null}this.gi&&0===d.vc.length&&this.az(d)}}});p.Re=p.sa.extend({Q:null,dv:p.Qi(),qf:0,ctor:function(a,c,d){this.Q=p.a(a||0,c||0);this.qf=d||0},e3:function(){return this.Q},xR:function(){return this.dv},y2:function(){return p.jd(this.Q,this.dv)},V2:function(){return this.qf},W2:function(){return this.qf},WC:function(a,c,d){this.dv=this.Q;this.Q=p.a(c||0,d||0);this.qf=a},wf:function(a,c){this.dv=p.a(a||0,c||0)}});
p.yE=p.sa.extend({ZZ:null,vb:function(){return!1},Yc:function(){},gf:function(){},Ij:function(){},pI:function(){},sI:function(){},rI:function(){},qI:function(){},Zaa:function(){},Yaa:function(){}});p.sZ=p.yE.extend({vb:function(){return!1},Yc:function(){},gf:function(){},Ij:function(){}});p.lZ=p.yE.extend({pI:function(){},sI:function(){},rI:function(){},qI:function(){}});p.un=p.sa.extend({Mb:null,We:0,Rn:0,Zb:function(){return this.Mb},ah:function(a){this.Mb=a},yR:function(){return this.We},ws:function(a){this.We=a},gR:function(){return this.Rn},gV:function(a){this.Rn=a},Fj:function(a,c){if(!a)throw"cc.TouchHandler.initWithDelegate(): touch delegate should not be null";this.Mb=a;this.We=c;this.Rn=0;return!0}});p.un.create=function(a,c){var d=new p.un;d&&d.Fj(a,c);return d};p.hy=p.un.extend({Fj:function(a,c){return p.un.prototype.Fj.call(this,a,c)}});
p.hy.create=function(a,c){var d=new p.hy;d&&d.Fj(a,c);return d};p.Lt=p.un.extend({sv:!1,Mn:null,s6:function(){return this.sv},N$:function(a){this.sv=a},j2:function(){return this.Mn},Fj:function(a,c,d){return p.un.prototype.Fj.call(this,a,c)?(this.Mn=[],this.sv=d,!0):!1}});p.Lt.create=function(a,c,d){var e=new p.Lt;e&&e.Fj(a,c,d);return e};p.YL=1;p.aM=2;p.$L=4;p.ZL=8;p.vZ=p.YL|p.aM|p.$L|p.ZL;p.ly=0;p.oy=1;p.ny=2;p.my=3;p.uZ=4;p.eI=function(a,c){return a.We>c.We};p.Pt=function(a){this.type=a};
p.ba=p.sa.extend({mj:!1,Be:null,Ae:null,Jl:!1,tr:!1,Dv:!1,kk:null,ej:null,Cv:!1,$i:!1,rN:[new p.Pt(p.ly),new p.Pt(p.oy),new p.Pt(p.ny),new p.Pt(p.my)],r:function(){this.$i=!0;this.Be=[];this.Ae=[];this.kk=[];this.ej=[];this.mj=this.Jl=this.Cv=this.tr=this.Dv=!1;p.ba.cU();return!0},cr:function(a){this.mj=a},mN:function(){return this.mj},T5:function(){return this.$i},eV:function(a){this.$i=a},wM:function(a,c){var d=p.hy.create(a,c||0);this.Jl?-1!=this.ej.indexOf(a)?p.Dd(this.ej,a):(this.kk.push(d),
this.tr=!0):this.Ae=this.No(d,this.Ae)},xM:function(a,c,d){c=p.Lt.create(a,c,d);this.Jl?-1!=this.ej.indexOf(a)?p.Dd(this.ej,a):(this.kk.push(c),this.tr=!0):this.Be=this.No(c,this.Be)},No:function(a,c){for(var d=0,e,f=0;f<c.length;f++)if(e=c[f])if(e.We<a.We&&++d,e.Zb()==a.Zb())return p.log("cc.TouchDispatcher.forceAddHandler(): The handler has been added."),c;return p.kl(c,a,d)},hH:function(){this.Ae.length=0;this.Be.length=0},kO:function(a){if(null!=a)if(this.Jl){var c=this.cH(this.kk,a);c?p.Dd(this.kk,
c):(this.ej.push(a),this.Dv=!0)}else this.iH(a)},iU:function(){this.Jl?this.Cv=!0:this.hH()},ws:function(a,c){if(!c)throw"cc.TouchDispatcher.setPriority(): delegate should be non-null.";var d=this.cH(c);d?d.We!=a&&(d.ws(a),this.FI(this.Be),this.FI(this.Ae)):p.log("cc.TouchDispatcher.setPriority(): Can't find TouchHandler.")},touches:function(a,c,d){if(0>d||4<=d)throw"cc.TouchDispatcher.touches(): invalid index";this.Jl=!0;var e=this.Be.length,f=this.Ae.length,g=e&&f,h=g?a.slice():a,k=this.rN[d];if(0<
e)for(var l,m,n=0;n<a.length;n++)for(var e=a[n],s=0;s<this.Be.length;s++){l=this.Be[s];if(!l)break;m=!1;if(d==p.ly)l.Zb().vb&&(m=l.Zb().vb(e,c))&&l.Mn.push(e);else if(0<l.Mn.length)switch(m=!0,k.type){case p.oy:p.wa.Gj?l.Zb().Yc&&l.Zb().Yc(e,c):this.mj&&l.Zb().Yc&&l.Zb().Yc(e,c);break;case p.ny:l.Zb().gf&&l.Zb().gf(e,c);l.Mn.length=0;break;case p.my:l.Zb().Ij&&l.Zb().Ij(e,c),l.Mn.length=0}if(m&&l.sv){g&&p.Dd(h,e);break}}if(0<f)for(n=0;n<this.Ae.length&&(l=this.Ae[n],l);n++);this.Jl=!1;if(this.Dv){this.Dv=
!1;for(n=0;n<this.ej.length;n++)this.iH(this.ej[n]);this.ej.length=0}if(this.tr){this.tr=!1;for(n=0;n<this.kk.length;n++){l=this.kk[n];if(!l)break;l instanceof p.Lt?this.Be=this.No(l,this.Be):this.Ae=this.No(l,this.Ae)}this.kk.length=0}this.Cv&&(this.Cv=!1,this.hH())},kx:function(a,c){this.$i&&this.touches(a,c,p.ly)},lx:function(a,c){this.$i&&this.touches(a,c,p.oy)},Bs:function(a,c){this.$i&&this.touches(a,c,p.ny)},hD:function(a,c){this.$i&&this.touches(a,c,p.my)},cH:function(a,c){switch(arguments.length){case 1:c=
arguments[0];if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(var d=0;d<this.Be.length;d++)if(this.Be[d].Zb()==c)return this.Be[d];for(d=0;d<this.Ae.length;d++)if(this.Ae[d].Zb()==c)return this.Ae[d];return null;case 2:if(!a)throw"cc.TouchDispatcher.findHandler(): array should be non-null.";if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(d=0;d<a.length;d++)if(a[d].Zb()==c)return a[d];return null;default:throw"Argument must be non-nil ";
}},iH:function(a){for(var c,d=0;d<this.Ae.length;d++)if((c=this.Ae[d])&&c.Zb()==a){p.Dd(this.Ae,c);break}for(d=0;d<this.Be.length;d++)if((c=this.Be[d])&&c.Zb()==a){p.Dd(this.Be,c);break}},FI:function(a){a.sort(p.eI)}});p.ba.gb=p.a(0,0);p.ba.bI=!1;
p.yi=function(a){var c=document.documentElement,d=window,e=null,e="function"===typeof a.getBoundingClientRect?a.getBoundingClientRect():a instanceof HTMLCanvasElement?{left:0,top:0,width:a.width,height:a.height}:{left:0,top:0,width:parseInt(a.style.width),height:parseInt(a.style.height)};return{left:e.left+d.pageXOffset-c.clientLeft,top:e.top+d.pageYOffset-c.clientTop,width:e.width,height:e.height}};
p.JL=function(a,c){var d=p.yi(a),e,f;null!=c.pageX?(e=c.pageX,f=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,e=c.clientX,f=c.clientY);e=p.ja.d().Bj(e,f,d);d=new p.Re(e.x,e.y);d.wf(p.ba.gb.x,p.ba.gb.y);p.ba.gb.x=e.x;p.ba.gb.y=e.y;e=[];e.push(d);p.ja.d().Bs(e,null)};
p.ba.cU=function(){var a=p.canvas;if(!p.ba.bI){if(p.wa.Gj)if(window.navigator.msPointerEnabled){var c={MSPointerDown:"touchesBegan",MSPointerMove:"touchesMoved",MSPointerUp:"touchesEnded",MSPointerCancel:"touchesCancelled"},d;for(d in c)(function(c,d){a.addEventListener(c,function(c){var e=p.yi(a);e.left-=document.body.scrollLeft;e.top-=document.body.scrollTop;var k,l;k=c.clientX;l=c.clientY;k=p.ja.d().Bj(k,l,e);e=new p.Re(k.x,k.y);e.wf(p.ba.gb.x,p.ba.gb.y);p.ba.gb.x=k.x;p.ba.gb.y=k.y;p.P.d().De[d]([e],
null);c.stopPropagation();c.preventDefault()},!1)})(d,c[d])}else a.addEventListener("touchstart",function(c){if(c.changedTouches){var d=[],g=p.yi(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=p.ja.d().Bj(k,l,g),h.hasOwnProperty("identifier")?(h=new p.Re(k.x,k.y,h.identifier),l=p.ba.zu(h).Q,h.wf(l.x,l.y),p.ba.PF(h)):(h=new p.Re(k.x,k.y),h.wf(p.ba.gb.x,p.ba.gb.y)),p.ba.gb.x=k.x,
p.ba.gb.y=k.y,d.push(h);p.ja.d().kx(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchmove",function(c){if(c.changedTouches){var d=[],g=p.yi(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=p.ja.d().Bj(k,l,g),h.hasOwnProperty("identifier")?(h=new p.Re(k.x,k.y,h.identifier),l=p.ba.zu(h).Q,h.wf(l.x,l.y),p.ba.PF(h)):(h=new p.Re(k.x,k.y),h.wf(p.ba.gb.x,p.ba.gb.y)),
p.ba.gb.x=k.x,p.ba.gb.y=k.y,d.push(h);p.ja.d().lx(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchend",function(c){if(c.changedTouches){var d=[],g=p.yi(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=p.ja.d().Bj(k,l,g),h.hasOwnProperty("identifier")?(h=new p.Re(k.x,k.y,h.identifier),l=p.ba.zu(h).Q,h.wf(l.x,l.y),p.ba.YE(h)):(h=new p.Re(k.x,k.y),h.wf(p.ba.gb.x,
p.ba.gb.y)),p.ba.gb.x=k.x,p.ba.gb.y=k.y,d.push(h);p.ja.d().Bs(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchcancel",function(c){if(c.changedTouches){var d=[],g=p.yi(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=p.ja.d().Bj(k,l,g),h.hasOwnProperty("identifier")?(h=new p.Re(k.x,k.y,h.identifier),l=p.ba.zu(h).Q,h.wf(l.x,l.y),p.ba.YE(h)):(h=new p.Re(k.x,
k.y),h.wf(p.ba.gb.x,p.ba.gb.y)),p.ba.gb.x=k.x,p.ba.gb.y=k.y,d.push(h);p.ja.d().hD(d,null);c.stopPropagation();c.preventDefault()}},!1);else window.addEventListener("mousedown",function(){p.P.d().De.cr(!0)}),window.addEventListener("mouseup",function(c){p.P.d().De.cr(!1);var d=p.yi(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);p.Cb(new p.Pf(d.left,d.top,d.width,d.height),p.a(g,c))||(g=p.ja.d().Bj(g,c,d),d=new p.Re(g.x,
g.y),d.wf(p.ba.gb.x,p.ba.gb.y),p.ba.gb.x=g.x,p.ba.gb.y=g.y,g=[],g.push(d),p.ja.d().Bs(g,null))}),a.addEventListener("mousedown",function(c){var d=p.yi(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=p.ja.d().Bj(g,c,d);d=new p.Re(g.x,g.y);d.wf(p.ba.gb.x,p.ba.gb.y);p.ba.gb.x=g.x;p.ba.gb.y=g.y;g=[];g.push(d);p.ja.d().kx(g,null)}),a.addEventListener("mouseup",function(c){p.JL(a,c)}),a.addEventListener("mousemove",function(c){var d=
p.yi(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=p.ja.d().Bj(g,c,d);d=new p.Re(g.x,g.y);d.wf(p.ba.gb.x,p.ba.gb.y);p.ba.gb.x=g.x;p.ba.gb.y=g.y;g=[];g.push(d);p.ja.d().lx(g,null)});p.ba.bI=!0}};p.ba.zu=function(a){for(var c=null,d=p.ba.Yz,e=a.qf,f=d.length-1;0<=f;f--)if(d[f].qf==e){c=d[f];break}c||(c=a);return c};
p.ba.PF=function(a){for(var c=!1,d=p.ba.Yz,e=a.qf,f=d.length-1;0<=f;f--)if(d[f].qf==e){d[f]=a;c=!0;break}c||(50>=d.length?d.push(a):(d[p.ba.Zz]=a,p.ba.Zz=(p.ba.Zz+1)%50))};p.ba.YE=function(a){var c,d=p.ba.Yz;c=a.qf;for(a=d.length-1;0<=a;a--)if(d[a].qf==c){c=d.pop();a!=d.length&&(d[a]=c);break}};p.ba.Yz=[];p.ba.Zz=0;p.zC=function(a,c,d){p.P.d().De.xM(d,a,c)};p.dU=function(a,c){p.P.d().De.wM(a,c)};p.cK=function(a){p.P.d().De.kO(a)};p.tL=1;p.UD=2;p.mY=4;p.xL=8;p.PY=16;p.QY=32;p.RY=64;p.BY=128;p.CY=256;p.DY=512;p.lE=1024;p.uL=2048;p.vL=4096;p.wL=0;p.nY=1;p.VD=2;p.qY=p.sa.extend({fT:function(){return!1},gT:function(){return!1},Mh:function(){return!1},jT:function(){return!1},nT:function(){return!1},oT:function(){return!1},pT:function(){return!1},kT:function(){return!1},lT:function(){return!1},mT:function(){return!1},qT:function(){return!1},hT:function(){return!1},iT:function(){return!1}});
p.yL=p.Re.extend({rG:0,QE:p.wL,h5:function(){return this.rG},JJ:function(a){this.rG=a},b2:function(){return this.QE},UU:function(a){this.QE=a}});p.Sx=p.sa.extend({Mb:null,We:0,Rn:0,Zb:function(){return this.Mb},ah:function(a){this.Mb=a},yR:function(){return this.We},ws:function(a){this.We=a},gR:function(){return this.Rn},gV:function(a){this.Rn=a},Fj:function(a,c){this.Mb=a;this.We=c}});p.Sx.create=function(a,c){var d=new p.Sx;d.Fj(a,c);return d};
p.Hd=p.sa.extend({mj:!1,hv:!1,rf:null,$i:!1,r:function(){this.$i=!0;this.rf=[];this.hv=this.mj=!1;p.Hd.fO();return!0},cr:function(a){this.mj=a},mN:function(){return this.mj},QF:function(a){this.hv=a},f_:function(){return this.hv},zG:function(a,c){var d=p.Sx.create(a,c);this.rf=this.No(d,this.rf)},No:function(a,c){for(var d=0,e=0;e<c.length;e++){var f=c[e];if(f&&(f.We<a.We&&++d,f.Zb()==a.Zb()))return p.log("cc.MouseDispatcher.forceAddHandler(): handler has been added."),c}return p.kl(c,a,d)},MI:function(a){if(null!=
a)for(var c=0;c<this.rf.length;c++){var d=this.rf[c];if(d&&d.Zb()==a){p.Dd(this.rf,d);break}}},kN:function(a){for(var c=0;c<this.rf.length;c++)if(this.rf[c]&&this.rf[c].Zb()==a)return this.rf[c];return null},ws:function(a,c){if(!c)throw"cc.MouseDispatcher.setPriority(): delegate should be non-null";var d=this.kN(c);d?d.We!=a&&(d.ws(a),this.rf.sort(p.eI)):p.log("cc.MouseDispatcher.setPriority(): Can't find MouseHandler in array")},y8:function(){this.rf.length=0},Am:function(a,c,d){for(c=0;c<this.rf.length;c++){var e=
this.rf[c];switch(d){case p.UD:this.mj||this.hv||!e.Zb().Mh||e.Zb().Mh(a)}}}});p.Hd.cv=p.a(0,0);p.Hd.IN=!1;
p.Hd.fO=function(){var a=p.canvas;function c(c){var e=p.yi(a),f=c.pageX,g=c.pageY,h=p.ja.d(),f=(f-e.left)/h.ma,e=(e.height-(g-e.top))/h.qa,g=new p.yL(f,e);g.wf(p.Hd.cv.x,p.Hd.cv.y);g.UU(c.button);p.Hd.cv.x=f;p.Hd.cv.y=e;return g}p.Hd.IN||(window.addEventListener("mousedown",function(a){a.button==p.VD?p.P.d().cf().QF(!0):p.P.d().cf().cr(!0)}),window.addEventListener("mouseup",function(a){a.button==p.VD?p.P.d().cf().QF(!1):p.P.d().cf().cr(!1)}),a.addEventListener("mousedown",function(a){p.P.d().cf().Am(c(a),
a,p.tL)}),a.addEventListener("mouseup",function(a){p.P.d().cf().Am(c(a),a,p.xL)}),a.addEventListener("mousemove",function(a){p.P.d().cf().Am(c(a),a,p.UD)}),a.addEventListener("mousewheel",function(a){var e=c(a);e.JJ(a.wheelDelta);p.P.d().cf().Am(e,a,p.lE)},!1),a.addEventListener("DOMMouseScroll",function(a){var e=c(a);e.JJ(-120*a.detail);p.P.d().cf().Am(e,a,p.lE)}),a.addEventListener("mouseout",function(a){p.P.d().cf().Am(c(a),a,p.vL)},!1),a.addEventListener("mouseover",function(a){p.P.d().cf().Am(c(a),
a,p.uL)},!1))};p.lba=function(){return{x:0,y:0}};p.fl=function(a,c){return{x:a,y:c}};p.sg=function(a,c){return p.fl(a.x+c.x,a.y+c.y)};p.Zc=function(a,c){return p.fl(a.x-c.x,a.y-c.y)};p.Lf=function(a,c){return p.fl(a.x*c,a.y*c)};p.qx=function(a){return p.fl(-a.y,a.x)};p.Ki=function(a){return p.fl(-a.x,-a.y)};p.EW=function(a,c){return a.x*c.x+a.y*c.y};p.kba=function(a){return p.fl(Math.cos(a),Math.sin(a))};p.nD=function(a){a=p.$g(p.a(a.x,a.y));return p.fl(a.x,a.y)};p.Zh=function(a){return p.fl(a.x,a.y)};
p.qb=function(a){return{Da:a.x,da:a.y}};
p.OK=p.H.extend({Ta:null,W:null,Nr:function(){return this.W},Yk:function(a){this.W=a},ctor:function(){p.H.prototype.ctor.call(this);this.Ta=[];this.W=new p.ml(p.ne,p.me)},Ja:function(a){a=a||p.O;var c=p.ja.d().ma;this.W&&770==this.W.src&&1==this.W.ub&&(a.globalCompositeOperation="lighter");for(var d=0;d<this.Ta.length;d++){var e=this.Ta[d];e.type===p.vg.uE&&(a.fillStyle="rgba("+(0|255*e.color.h)+","+(0|255*e.color.g)+","+(0|255*e.color.f)+","+e.color.D+")",p.Cf.sB(e.position,e.xC));e.type===p.vg.wE&&
(a.strokeStyle="rgba("+(0|255*e.color.h)+","+(0|255*e.color.g)+","+(0|255*e.color.f)+","+e.color.D+")",a.lineWidth=2*e.xC*c,a.lineCap="round",p.Cf.Dh(e.tm,e.dl));e.type===p.vg.vE&&(a.fillStyle="rgba("+(0|255*e.fillColor.h)+","+(0|255*e.fillColor.g)+","+(0|255*e.fillColor.f)+","+e.fillColor.D+")",p.Cf.Ud(e.pD,e.count,!1,!0),a.lineWidth=2*e.borderWidth*c,a.lineCap="round",a.strokeStyle="rgba("+(0|255*e.borderColor.h)+","+(0|255*e.borderColor.g)+","+(0|255*e.borderColor.f)+","+e.borderColor.D+")",p.Cf.Ud(e.pD,
e.count,!0,!1))}},JQ:function(a,c,d){var e=new p.ty(p.vg.uE);e.position=a;e.xC=c;e.color=d;this.Ta.push(e)},NQ:function(a,c,d,e){var f=new p.ty(p.vg.wE);f.tm=a;f.dl=c;f.xC=d;f.color=e;this.Ta.push(f)},Ud:function(a,c,d,e){var f=new p.ty(p.vg.vE);f.pD=a;f.count=a.length;f.fillColor=c;f.borderWidth=d;f.borderColor=e;this.Ta.push(f)},clear:function(){this.Ta.length=0}});
p.PK=p.H.extend({Dn:0,Ta:null,Bk:null,eG:null,dG:null,W:null,ya:!1,Nr:function(){return this.W},Yk:function(a){this.W=a},ctor:function(){p.H.prototype.ctor.call(this);this.Ta=[];this.W=new p.ml(p.ne,p.me)},r:function(){return p.H.prototype.r.call(this)?(this.qg(p.ih.d().Oh(p.aZ)),this.nz(512),this.eG=p.O.createBuffer(),this.ya=!0):!1},qO:function(){var a=p.O;p.be(p.St);a.bindBuffer(a.ARRAY_BUFFER,this.eG);this.ya&&(a.bufferData(a.ARRAY_BUFFER,this.Bk,a.STREAM_DRAW),this.ya=!1);var c=p.Kb.BYTES_PER_ELEMENT;
a.vertexAttribPointer(p.qe,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(p.Sp,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(p.Tp,2,a.FLOAT,!1,c,12);a.drawArrays(a.TRIANGLES,0,3*this.Ta.length);p.fh()},nz:function(a){if(this.Ta.length+a>this.Dn){var c=p.pc.BYTES_PER_ELEMENT;this.Dn+=Math.max(this.Dn,a);if(null==this.Ta||0===this.Ta.length)this.Ta=[],this.Bk=new ArrayBuffer(c*this.Dn),this.dG=new Uint8Array(this.Bk);else{a=[];for(var d=new ArrayBuffer(c*this.Dn),e=0;e<this.Ta.length;e++)a[e]=new p.pc(this.Ta[e].D,
this.Ta[e].f,this.Ta[e].ra,d,e*c);this.dG=new Uint8Array(d);this.Ta=a;this.Bk=d}}},Ja:function(){p.Ej(this.W.src,this.W.ub);this.tc.Pe();this.tc.FJ();this.qO()},JQ:function(a,c,d){d={h:0|255*d.h,g:0|255*d.g,f:0|255*d.f,D:0|255*d.D};var e={o:{x:a.x-c,y:a.y-c},G:d,u:{Da:-1,da:-1}},f={o:{x:a.x+c,y:a.y+c},G:d,u:{Da:1,da:1}},g={o:{x:a.x+c,y:a.y-c},G:d,u:{Da:1,da:-1}};this.Ta.push(new p.pc(e,{o:{x:a.x-c,y:a.y+c},G:d,u:{Da:-1,da:1}},f,this.Bk,this.Ta.length*p.pc.BYTES_PER_ELEMENT));this.Ta.push(new p.pc(e,
f,g,this.Bk,this.Ta.length*p.pc.BYTES_PER_ELEMENT));this.ya=!0},NQ:function(a,c,d,e){this.nz(18);e={h:0|255*e.h,g:0|255*e.g,f:0|255*e.f,D:0|255*e.D};var f=p.Zh(a);c=p.Zh(c);a=p.nD(p.qx(p.Zc(c,f)));var g=p.qx(a),h=p.Lf(a,d);d=p.Lf(g,d);var k=p.sg(c,p.Zc(h,d)),l=p.Zc(c,h),m=p.sg(c,h),n=p.Zc(f,h),s=p.sg(f,h),q=p.Zc(f,p.Zc(h,d)),f=p.sg(f,p.sg(h,d)),v=p.pc.BYTES_PER_ELEMENT,z=this.Bk;this.Ta.push(new p.pc({o:p.Zc(c,p.sg(h,d)),G:e,u:p.qb(p.Ki(p.sg(a,g)))},{o:k,G:e,u:p.qb(p.Zc(a,g))},{o:l,G:e,u:p.qb(p.Ki(a))},
z,this.Ta.length*v));this.Ta.push(new p.pc({o:m,G:e,u:p.qb(a)},{o:k,G:e,u:p.qb(p.Zc(a,g))},{o:l,G:e,u:p.qb(p.Ki(a))},z,this.Ta.length*v));this.Ta.push(new p.pc({o:m,G:e,u:p.qb(a)},{o:n,G:e,u:p.qb(p.Ki(a))},{o:l,G:e,u:p.qb(p.Ki(a))},z,this.Ta.length*v));this.Ta.push(new p.pc({o:m,G:e,u:p.qb(a)},{o:n,G:e,u:p.qb(p.Ki(a))},{o:s,G:e,u:p.qb(a)},z,this.Ta.length*v));this.Ta.push(new p.pc({o:q,G:e,u:p.qb(p.Zc(g,a))},{o:n,G:e,u:p.qb(p.Ki(a))},{o:s,G:e,u:p.qb(a)},z,this.Ta.length*v));this.Ta.push(new p.pc({o:q,
G:e,u:p.qb(p.Zc(g,a))},{o:f,G:e,u:p.qb(p.sg(a,g))},{o:s,G:e,u:p.qb(a)},z,this.Ta.length*v));this.ya=!0},Ud:function(a,c,d,e){c={h:0|255*c.h,g:0|255*c.g,f:0|255*c.f,D:0|255*c.D};e={h:0|255*e.h,g:0|255*e.g,f:0|255*e.f,D:0|255*e.D};var f=[],g,h,k,l,m=a.length;for(g=0;g<m;g++){h=p.Zh(a[(g-1+m)%m]);k=p.Zh(a[g]);l=p.Zh(a[(g+1)%m]);var n=p.nD(p.qx(p.Zc(k,h)));k=p.nD(p.qx(p.Zc(l,k)));f[g]={offset:p.Lf(p.sg(n,k),1/(p.EW(n,k)+1)),lI:k}}n=0<d;this.nz(3*(3*m-2));var s=p.pc.BYTES_PER_ELEMENT,q=this.Bk,v=this.Ta,
z=!1==n?0.5:0;for(g=0;g<m-2;g++)h=p.Zc(p.Zh(a[0]),p.Lf(f[0].offset,z)),k=p.Zc(p.Zh(a[g+1]),p.Lf(f[g+1].offset,z)),l=p.Zc(p.Zh(a[g+2]),p.Lf(f[g+2].offset,z)),v.push(new p.pc({o:h,G:c,u:p.qb({x:0,y:0})},{o:k,G:c,u:p.qb({x:0,y:0})},{o:l,G:c,u:p.qb({x:0,y:0})},q,v.length*s));for(g=0;g<m;g++){z=(g+1)%m;h=p.Zh(a[g]);k=p.Zh(a[z]);l=f[g].lI;var B=f[g].offset,E=f[z].offset,z=n?p.Zc(h,p.Lf(B,d)):p.Zc(h,p.Lf(B,0.5)),M=n?p.Zc(k,p.Lf(E,d)):p.Zc(k,p.Lf(E,0.5));h=n?p.sg(h,p.Lf(B,d)):p.sg(h,p.Lf(B,0.5));k=n?p.sg(k,
p.Lf(E,d)):p.sg(k,p.Lf(E,0.5));n?(v.push(new p.pc({o:z,G:e,u:p.qb(p.Ki(l))},{o:M,G:e,u:p.qb(p.Ki(l))},{o:k,G:e,u:p.qb(l)},q,v.length*s)),v.push(new p.pc({o:z,G:e,u:p.qb(p.Ki(l))},{o:h,G:e,u:p.qb(l)},{o:k,G:e,u:p.qb(l)},q,v.length*s))):(v.push(new p.pc({o:z,G:c,u:p.qb({x:0,y:0})},{o:M,G:c,u:p.qb({x:0,y:0})},{o:k,G:c,u:p.qb(l)},q,v.length*s)),v.push(new p.pc({o:z,G:c,u:p.qb({x:0,y:0})},{o:h,G:c,u:p.qb(l)},{o:k,G:c,u:p.qb(l)},q,v.length*s)))}this.ya=!0},clear:function(){this.Ta.length=0;this.ya=!0}});
p.vg=p.wa.Ac?p.PK:p.OK;p.vg.create=function(){var a=new p.vg;return a&&a.r()?a:null};p.ty=function(a){this.type=a};p.vg.uE=0;p.vg.wE=1;p.vg.vE=2;p.zs=-1;p.uJ=function(a,c){a.qg(c);var d=a.p;if(d)for(var e=0;e<d.length;e++)p.uJ(d[e],c)};
p.ab=p.H.extend({ec:null,vl:0,li:!1,gF:!1,ctor:function(){p.H.prototype.ctor.call(this);this.ec=null;this.vl=0;this.li=!1},r:null,Dz:function(a){this.ec=a;this.vl=1;this.li=!1;p.ab.Gz=!0;p.ab.Gz&&(p.zs=p.O.getParameter(p.O.STENCIL_BITS),0>=p.zs&&p.log("Stencil buffer is not enabled."),p.ab.Gz=!1);return!0},Cz:function(a){this.ec=a;this.vl=1;this.li=!1},ng:function(){p.H.prototype.ng.call(this);this.ec.ng()},Lh:function(){p.H.prototype.Lh.call(this);this.ec.Lh()},Zg:function(){this.ec.Zg();p.H.prototype.Zg.call(this)},
xd:function(){this.ec.xd();p.H.prototype.xd.call(this)},ia:null,hm:function(a){var c=a||p.O;if(1>p.zs)p.H.prototype.ia.call(this,a);else if(this.ec&&this.ec.pa)if(p.ab.Nq=-1,p.ab.Nq+1==p.zs)p.ab.WA=!0,p.ab.WA&&(p.log("Nesting more than "+p.zs+"stencils is not supported. Everything will be drawn without stencil for this node and its childs."),p.ab.WA=!1),p.H.prototype.ia.call(this,a);else{p.ab.Nq++;var d=1<<p.ab.Nq,e=d|d-1,f=c.isEnabled(c.STENCIL_TEST),g=c.getParameter(c.STENCIL_WRITEMASK),h=c.getParameter(c.STENCIL_FUNC),
k=c.getParameter(c.STENCIL_REF),l=c.getParameter(c.STENCIL_VALUE_MASK),m=c.getParameter(c.STENCIL_FAIL),n=c.getParameter(c.STENCIL_PASS_DEPTH_FAIL),s=c.getParameter(c.STENCIL_PASS_DEPTH_PASS);c.enable(c.STENCIL_TEST);c.stencilMask(d);var q=c.getParameter(c.DEPTH_WRITEMASK);c.depthMask(!1);c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.li?c.REPLACE:c.ZERO,c.KEEP,c.KEEP);p.Cf.tB(p.Qi(),p.uT(),p.Ov(1,1,1,1));c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.li?c.ZERO:c.REPLACE,c.KEEP,c.KEEP);if(1>this.vl){var d=
p.ih.d().Oh(p.cZ),v=c.getUniformLocation(d.fw(),p.xZ);p.o5(d.fw());d.EJ(v,this.vl);p.uJ(this.ec,d)}p.cp();this.transform();this.ec.ia();p.bp();c.depthMask(q);c.stencilFunc(c.EQUAL,e,e);c.stencilOp(c.KEEP,c.KEEP,c.KEEP);p.H.prototype.ia.call(this,a);c.stencilFunc(h,k,l);c.stencilOp(m,n,s);c.stencilMask(g);f||c.disable(c.STENCIL_TEST);p.ab.Nq--}else this.li&&p.H.prototype.ia.call(this,a)},gm:function(a){if(this.ec&&this.ec.pa){if(this.Ny()||this.ec instanceof p.w){a=a||p.O;var c=a.canvas,d=p.ab.pN();
d.width=c.width;d.height=c.height;d.getContext("2d").drawImage(c,0,0);a.save();this._super(a);a.globalCompositeOperation=this.li?"destination-out":"destination-in";this.transform(a);this.ec.ia();a.restore();a.save();a.setTransform(1,0,0,1,0,0);a.globalCompositeOperation="destination-over";a.drawImage(d,0,0)}else{a=a||p.O;var d=this.p,e;a.save();this.transform(a);this.ec.ia(a);a.clip();this.Ny(!0);var f=d.length;if(0<f){this.Ad();for(c=0;c<f;c++)if(e=d[c],0>e.Ua)e.ia(a);else break;for(this.Ja(a);c<
f;c++)d[c].ia(a)}else this.Ja(a);this.Ny(!1)}a.restore()}else this.li&&p.H.prototype.ia.call(this,a)},F4:function(){return this.ec},TC:null,VO:function(a){this.ec=a},UO:function(a){this.ec=a;var c=p.ja.d().ma,d=p.ja.d().qa,e=p.O;!(a instanceof p.w)&&a instanceof p.vg&&(a.Ja=function(){for(var f=0;f<a.Ta.length;f++){var g=a.Ta[f].pD,h=g[0];e.beginPath();e.moveTo(h.x*c,-h.y*d);for(var h=1,k=g.length;h<k;h++)e.lineTo(g[h].x*c,-g[h].y*d)}})},O1:function(){return this.vl},c9:function(a){this.vl=a},b6:function(){return this.li},
O9:function(a){this.li=a},Ny:function(a){if(!0===a||!1===a)p.ab.prototype.gF=a;return p.ab.prototype.gF}});p.wa.Ac?(p.ab.prototype.r=p.ab.prototype.Dz,p.ab.prototype.ia=p.ab.prototype.hm,p.ab.prototype.TC=p.ab.prototype.VO):(p.ab.prototype.r=p.ab.prototype.Cz,p.ab.prototype.ia=p.ab.prototype.gm,p.ab.prototype.TC=p.ab.prototype.UO);p.ab.Gz=null;p.ab.WA=null;p.ab.Nq=null;p.ab.WF=null;p.ab.pN=function(){return p.ab.WF||(p.ab.WF=document.createElement("canvas"))};
p.ab.create=function(a){var c=new p.ab;c.r(a);return c};p.ZX=0;p.$X=1;p.aY=2;p.ln=function(a){a-=1;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;return(a|a>>16)+1};
p.ob=p.H.extend({En:null,Fn:null,vu:0,oq:0,Zu:0,ta:null,qr:null,lP:null,uf:p.Si,cb:null,iu:0,Yi:null,Ty:0,Uy:0,$p:!1,Sy:null,ctor:null,kh:function(){p.H.prototype.ctor.call(this);this.Yi=p.Ov(1,1,1,1);this.Sy="rgba(255,255,255,1)";this.En=document.createElement("canvas");this.Fn=this.En.getContext("2d");this.X(0,0)},lh:function(){p.H.prototype.ctor.call(this);this.Yi=p.Ov(0,0,0,0)},Bf:null,PM:function(){p.H.prototype.xd.call(this);this.En=this.Fn=null},QM:function(){p.H.prototype.xd.call(this);this.qr=
null;var a=p.O;a.deleteFramebuffer(this.vu);this.oq&&a.deleteRenderbuffer(this.oq);this.lP=null},IR:function(){return this.cb},xs:function(a){this.cb=a},$B:null,AN:function(a,c){var d=this.En,e=p.md();d.width=0|a*e;d.height=0|c*e;this.Fn.translate(0,d.height);e=new p.Pb;e.ef(d);e.ge();this.cb=p.w.wc(e);return!0},BN:function(a,c,d,e){d==p.Np&&p.log("cc.RenderTexture._initWithWidthAndHeightForWebGL() : only RGB and RGBA formats are valid for a render texture;");var f=p.O,g=p.md();a=0|a*g;c=0|c*g;this.Zu=
f.getParameter(f.FRAMEBUFFER_BINDING);var h;p.oe.d().nr?(g=a,h=c):(g=p.ln(a),h=p.ln(c));for(var k=new Uint8Array(g*h*4),l=0;l<g*h*4;l++)k[l]=0;this.uf=d;this.ta=new p.Pb;if(!this.ta)return!1;l=this.ta;l.mw(k,this.uf,g,h,p.size(a,c));d=f.getParameter(f.RENDERBUFFER_BINDING);if(p.oe.d().Ho("GL_QCOM")){this.qr=new p.Pb;if(!this.qr)return!1;this.qr.mw(k,this.uf,g,h,p.size(a,c))}this.vu=f.createFramebuffer();f.bindFramebuffer(f.FRAMEBUFFER,this.vu);f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,
f.TEXTURE_2D,l.Ah,0);0!=e&&(this.oq=f.createRenderbuffer(),f.bindRenderbuffer(f.RENDERBUFFER,this.oq),f.renderbufferStorage(f.RENDERBUFFER,e,g,h),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,this.oq));f.checkFramebufferStatus(f.FRAMEBUFFER)!==f.FRAMEBUFFER_COMPLETE&&p.log("Could not attach texture to the framebuffer");l.YI();a=this.cb=p.w.wc(l);a.Vm(-1);a.Yk(f.ONE,f.ONE_MINUS_SRC_ALPHA);f.bindRenderbuffer(f.RENDERBUFFER,d);f.bindFramebuffer(f.FRAMEBUFFER,this.Zu);this.$p=
!1;this.m(a);return!0},yj:null,FM:function(){p.O=this.Fn;p.ja.d().RO()},GM:function(){p.xm(p.st);p.cp();p.xm(p.rt);p.cp();var a=p.P.d();a.Ww(a.uk);var c=this.ta.la,d=p.P.d().PR(),a=d.width/c.width,d=d.height/c.height,e=p.O;e.viewport(0,0,c.width,c.height);c=new p.Xg;p.PS(c,-1/a,1/a,-1/d,1/d,-1,1);p.sw(c);this.Zu=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,this.vu);p.oe.d().Ho("GL_QCOM")&&(e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.qr.Ah,0),
e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.ta.Ah,0))},fB:function(a,c,d,e,f,g){var h=p.O;f=f||h.COLOR_BUFFER_BIT;g=g||h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT;this.Ky(a,c,d,e,f,g,h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT|h.STENCIL_BUFFER_BIT)},Ky:null,HM:function(a,c,d,e){this.yj();a=a||0;c=c||0;d=d||0;e=isNaN(e)?1:e;var f=this.Fn,g=this.En;f.save();f.fillStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+")";f.clearRect(0,
0,g.width,-g.height);f.fillRect(0,0,g.width,-g.height);f.restore()},IM:function(a,c,d,e,f,g,h){this.yj();var k=p.O,l=[0,0,0,0],m=0,n=0;h&k.COLOR_BUFFER_BIT&&(l=k.getParameter(k.COLOR_CLEAR_VALUE),k.clearColor(a,c,d,e));h&k.DEPTH_BUFFER_BIT&&(m=k.getParameter(k.DEPTH_CLEAR_VALUE),k.clearDepth(f));h&k.STENCIL_BUFFER_BIT&&(n=k.getParameter(k.STENCIL_CLEAR_VALUE),k.clearStencil(g));k.clear(h);h&k.COLOR_BUFFER_BIT&&k.clearColor(l[0],l[1],l[2],l[3]);h&k.DEPTH_BUFFER_BIT&&k.clearDepth(m);h&k.STENCIL_BUFFER_BIT&&
k.clearStencil(n)},end:null,iN:function(){p.O=p.VS;p.ja.d().tO()},jN:function(){var a=p.O,c=p.P.d();a.bindFramebuffer(a.FRAMEBUFFER,this.Zu);c.IJ();p.xm(p.st);p.bp();p.xm(p.rt);p.bp()},clear:function(a,c,d,e){this.fB(a,c,d,e);this.end()},clearRect:null,UM:function(a,c,d,e){this.Fn.clearRect(a,c,d,-e)},VM:function(){},clearDepth:null,SM:function(){p.log("clearDepth isn't supported on Cocos2d-Html5")},TM:function(a){this.yj();var c=p.O,d=c.getParameter(c.DEPTH_CLEAR_VALUE);c.clearDepth(a);c.clear(c.DEPTH_BUFFER_BIT);
c.clearDepth(d);this.end()},clearStencil:null,WM:function(){p.log("clearDepth isn't supported on Cocos2d-Html5")},XM:function(a){var c=p.O,d=c.getParameter(c.STENCIL_CLEAR_VALUE);c.clearStencil(a);c.clear(c.STENCIL_BUFFER_BIT);c.clearStencil(d)},ia:null,gm:function(a){this.pa&&(a=a||p.O,a.save(),this.Ja(a),this.transform(a),this.cb.ia(),a.restore(),this.tf=0)},hm:function(a){if(this.pa){p.cp();var c=this.ik;c&&c.Zo()&&(c.eB(),this.mx());this.transform(a);this.cb.ia();this.Ja(a);c&&c.Zo()&&c.aB(this);
p.bp();this.tf=0}},Ja:null,Cl:function(a){a=a||p.O;if(this.$p){this.yj();if(this.iu){var c=this.En;a.save();a.fillStyle=this.Sy;a.clearRect(0,0,c.width,-c.height);a.fillRect(0,0,c.width,-c.height);a.restore()}this.Ad();a=this.p;for(var c=a.length,d=this.cb,e=0;e<c;e++){var f=a[e];f!=d&&f.ia()}this.end()}},Vf:function(){var a=p.O;if(this.$p){this.yj();var c=this.iu;if(c){var d=[0,0,0,0],e=0,f=0;c&a.COLOR_BUFFER_BIT&&(d=a.getParameter(a.COLOR_CLEAR_VALUE),a.clearColor(this.Yi.h,this.Yi.g,this.Yi.f,
this.Yi.D));c&a.DEPTH_BUFFER_BIT&&(e=a.getParameter(a.DEPTH_CLEAR_VALUE),a.clearDepth(this.Ty));c&a.STENCIL_BUFFER_BIT&&(f=a.getParameter(a.STENCIL_CLEAR_VALUE),a.clearStencil(this.Uy));a.clear(c);c&a.COLOR_BUFFER_BIT&&a.clearColor(d[0],d[1],d[2],d[3]);c&a.DEPTH_BUFFER_BIT&&a.clearDepth(e);c&a.STENCIL_BUFFER_BIT&&a.clearStencil(f)}this.Ad();a=this.p;for(c=0;c<a.length;c++)d=a[c],d!=this.cb&&d.ia();this.end()}},mI:null,SN:function(){p.log("saveToFile isn't supported on Cocos2d-Html5");return null},
TN:function(){p.log("saveToFile isn't supported on Cocos2d-Html5");p.Ms(this.uf==p.Si,"only RGBA8888 can be saved as image");if(!this.ta)return null;var a=this.ta.la,c=a.width,a=a.height,d=new p.aL,e=p.O,f=new Uint8Array(c*a*4);if(!f)return d;var g=new Uint8Array(c*a*4);if(!g)return null;this.yj();e.pixelStorei(e.PACK_ALIGNMENT,1);e.readPixels(0,0,c,a,e.RGBA,e.UNSIGNED_BYTE,g);this.end();for(e=0;e<a;++e)this.QN(f,e*c*4,g,(a-e-1)*c*4,4*c);d.C5(f,c*a*4,p.TX,c,a,8);return d},QN:function(a,c,d,e,f){for(var g=
0;g<f;g++)a[c+g]=d[e+g]},V8:function(){p.log("saveToFile isn't supported on Cocos2d-Html5")},O6:function(){p.log("listenToBackground isn't supported on Cocos2d-Html5")},P6:function(){p.log("listenToForeground isn't supported on Cocos2d-Html5")},m2:function(){return this.iu},k9:function(a){this.iu=a},k2:function(){return this.Yi},eJ:null,BO:function(a){var c=this.Yi;c.h=a.h;c.g=a.g;c.f=a.f;c.D=a.D;this.Sy="rgba("+(0|255*a.h)+","+(0|255*a.g)+","+(0|255*a.f)+","+a.D+")"},CO:function(a){var c=this.Yi;
c.h=a.h;c.g=a.g;c.f=a.f;c.D=a.D},l2:function(){return this.Ty},j9:function(a){this.Ty=a},n2:function(){return this.Uy},l9:function(a){this.Uy=a},N5:function(){return this.$p},e9:function(a){this.$p=a}});
p.wa.Ac?(b=p.ob.prototype,b.ctor=p.ob.prototype.lh,b.Bf=p.ob.prototype.QM,b.$B=p.ob.prototype.BN,b.yj=p.ob.prototype.GM,b.Ky=p.ob.prototype.IM,b.end=p.ob.prototype.jN,b.clearRect=p.ob.prototype.VM,b.clearDepth=p.ob.prototype.TM,b.clearStencil=p.ob.prototype.XM,b.ia=p.ob.prototype.hm,b.Ja=p.ob.prototype.Vf,b.mI=p.ob.prototype.TN,b.eJ=p.ob.prototype.CO):(b=p.ob.prototype,b.ctor=p.ob.prototype.kh,b.Bf=p.ob.prototype.PM,b.$B=p.ob.prototype.AN,b.yj=p.ob.prototype.FM,b.Ky=p.ob.prototype.HM,b.end=p.ob.prototype.iN,
b.clearRect=p.ob.prototype.UM,b.clearDepth=p.ob.prototype.SM,b.clearStencil=p.ob.prototype.WM,b.ia=p.ob.prototype.gm,b.Ja=p.ob.prototype.Cl,b.mI=p.ob.prototype.SN,b.eJ=p.ob.prototype.BO);p.ob.create=function(a,c,d,e){d=d||p.Si;e=e||0;var f=new p.ob;return f&&f.$B(a,c,d,e)?f:null};p.en=-1;
p.ld=p.sa.extend({Nl:null,M:null,Wc:p.en,ctor:function(){this.M=this.Nl=null;this.Wc=p.en},description:function(){return"\x3ccc.Action | Tag \x3d "+this.Wc+"\x3e"},copy:function(){return p.B(this)},B:function(){var a=new p.ld;a.Nl=null;a.M=null;a.Wc=this.Wc;return a},Ih:function(){return!0},S:function(a){this.M=this.Nl=a},stop:function(){this.M=null},step:function(){p.log("[Action step]. override me")},update:function(){p.log("[Action update]. override me")},LR:function(){return this.M},O$:function(a){this.M=a},
N3:function(){return this.Nl},j$:function(a){this.Nl=a},KR:function(){return this.Wc},CJ:function(a){this.Wc=a},SI:function(){},AC:function(){}});p.ld.create=function(){return new p.ld};p.Pi=p.ld.extend({na:0,ctor:function(){p.ld.prototype.ctor.call(this);this.na=0},bf:function(){return this.na},w9:function(a){this.na=a},reverse:function(){p.log("cocos2d: FiniteTimeAction#reverse: Implement me");return null},B:function(){return new p.Pi}});
p.It=p.ld.extend({Wl:0,rb:null,ctor:function(){p.ld.prototype.ctor.call(this);this.Wl=0;this.rb=null},y4:function(){return this.Wl},H$:function(a){this.Wl=a},ea:function(a,c){if(!a)throw"cc.Speed.initWithAction(): action must be non nil";this.rb=a;this.Wl=c;return!0},B:function(){var a=new p.It;a.ea(this.rb.B(),this.Wl);return a},S:function(a){p.ld.prototype.S.call(this,a);this.rb.S(a)},stop:function(){this.rb.stop();p.ld.prototype.stop.call(this)},step:function(a){this.rb.step(a*this.Wl)},Ih:function(){return this.rb.Ih()},
reverse:function(){return p.It.create(this.rb.reverse(),this.Wl)},pJ:function(a){this.rb!=a&&(this.rb=a)},AB:function(){return this.rb}});p.It.create=function(a,c){var d=new p.It;return d&&d.ea(a,c)?d:null};
p.Lx=p.ld.extend({Vn:null,Bn:!1,du:!1,Bu:null,Dq:null,ym:0,Pm:0,$m:0,om:0,YA:null,ctor:function(){p.ld.prototype.ctor.call(this);this.Vn=null;this.du=this.Bn=!1;this.Dq=this.Bu=null;this.om=this.$m=this.Pm=this.ym=0;this.YA=p.Pc()},B:function(){var a=new p.Lx,c=this.YA,c=new p.Pf(c.x,c.y,c.width,c.height);a.jg(this.Vn,c);return a},P5:function(){return this.Bn},g9:function(a){this.Bn=a},jg:function(a,c){if(!a)throw"cc.Follow.initWithAction(): followedNode must be non nil";c=c||p.Pc();this.Vn=a;this.YA=
c;this.Bn=!p.Zq(c);this.du=!1;var d=p.P.d().Hb;this.Dq=p.a(d.width,d.height);this.Bu=p.Fi(this.Dq,0.5);this.Bn&&(this.ym=-(c.x+c.width-this.Dq.x),this.Pm=-c.x,this.$m=-c.y,this.om=-(c.y+c.height-this.Dq.y),this.Pm<this.ym&&(this.Pm=this.ym=(this.ym+this.Pm)/2),this.$m<this.om&&(this.$m=this.om=(this.$m+this.om)/2),this.$m==this.om&&this.ym==this.Pm&&(this.du=!0));return!0},step:function(){var a=this.Vn.n.C,c=this.Vn.n.I,a=this.Bu.x-a,c=this.Bu.y-c;this.Bn?this.du||this.M.q(p.Gr(a,this.ym,this.Pm),
p.Gr(c,this.om,this.$m)):this.M.q(a,c)},Ih:function(){return!this.Vn.ye},stop:function(){this.M=null;p.ld.prototype.stop.call(this)}});p.Lx.create=function(a,c){c=c||new p.Pc;var d=new p.Lx;return null!=c&&d&&d.jg(a,c)||d&&d.jg(a)?d:null};p.L=p.Pi.extend({Wb:0,Cq:!1,ctor:function(){p.Pi.prototype.ctor.call(this);this.Wb=0;this.Cq=!1},D2:function(){return this.Wb},J:function(a){this.na=0===a?p.lt:a;this.Wb=0;return this.Cq=!0},Ih:function(){return this.Wb>=this.na},B:function(){var a=new p.L;a.J(this.na);return a},step:function(a){this.Cq?(this.Cq=!1,this.Wb=0):this.Wb+=a;a=this.Wb/(1.192092896E-7<this.na?this.na:1.192092896E-7);a=1>a?a:1;this.update(0<a?a:0)},S:function(a){p.ld.prototype.S.call(this,a);this.Wb=0;this.Cq=!0},reverse:function(){p.log("cc.IntervalAction: reverse not implemented.");
return null},d9:function(){p.log("cc.ActionInterval.setAmplitudeRate(): it should be overridden in subclass.")},P1:function(){p.log("cc.ActionInterval.getAmplitudeRate(): it should be overridden in subclass.")}});p.L.create=function(a){var c=new p.L;c.J(a);return c};
p.Ri=p.L.extend({$h:null,wA:null,fo:0,ctor:function(){p.L.prototype.ctor.call(this);this.$h=[];this.wA=null;this.fo=0},$r:function(a,c){if(!a||!c)throw"cc.Sequence.initWithTwoActions(): arguments must all be non nil";this.J(a.bf()+c.bf());this.$h[0]=a;this.$h[1]=c;return!0},B:function(){var a=new p.Ri;a.$r(this.$h[0].B(),this.$h[1].B());return a},S:function(a){p.L.prototype.S.call(this,a);this.wA=this.$h[0].bf()/this.na;this.fo=-1},stop:function(){-1!==this.fo&&this.$h[this.fo].stop();p.ld.prototype.stop.call(this)},
update:function(a){var c=0,d=this.wA,e=this.$h,f=this.fo;a<d?(a=0!==d?a/d:1,0===c&&1===f&&(e[1].update(0),e[1].stop())):(c=1,a=1===d?1:(a-d)/(1-d),-1===f&&(e[0].S(this.M),e[0].update(1),e[0].stop()),f||(e[0].update(1),e[0].stop()));f===c&&e[c].Ih()||(f!==c&&e[c].S(this.M),e[c].update(a),this.fo=c)},reverse:function(){return p.Ri.tl(this.$h[1].reverse(),this.$h[0].reverse())},copy:function(){return this.B()}});
p.Ri.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&p.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)c[e]&&(d=p.Ri.tl(d,c[e]));return d};p.Ri.tl=function(a,c){var d=new p.Ri;d.$r(a,c);return d};
p.zt=p.L.extend({xf:0,sj:0,Wu:0,IE:!1,rb:null,ctor:function(){p.L.prototype.ctor.call(this);this.Wu=this.sj=this.xf=0;this.IE=!1;this.rb=null},ea:function(a,c){return this.J(a.bf()*c)?(this.xf=c,this.rb=a,a instanceof p.Th&&(this.xf-=1),this.sj=0,!0):!1},B:function(){var a=new p.zt;a.ea(this.rb.B(),this.xf);return a},S:function(a){this.sj=0;this.Wu=this.rb.bf()/this.na;p.L.prototype.S.call(this,a);this.rb.S(a)},stop:function(){this.rb.stop();p.ld.prototype.stop.call(this)},update:function(a){var c=
this.rb,d=this.na,e=this.xf,f=this.Wu;if(a>=f){for(;a>f&&this.sj<e;)c.update(1),this.sj++,c.stop(),c.S(this.M),this.Wu=f+=c.bf()/d;1<=a&&this.sj<e&&this.sj++;this.IE&&(this.sj==e?(c.update(1),c.stop()):c.update(a-(f-c.bf()/d)))}else c.update(a*e%1)},Ih:function(){return this.sj==this.xf},reverse:function(){return p.zt.create(this.rb.reverse(),this.xf)},pJ:function(a){this.rb!=a&&(this.rb=a)},AB:function(){return this.rb}});p.zt.create=function(a,c){var d=new p.zt;d.ea(a,c);return d};
p.At=p.L.extend({rb:null,ctor:function(){p.L.prototype.ctor.call(this);this.rb=null},ea:function(a){if(!a)throw"cc.RepeatForever.initWithAction(): action must be non null";this.rb=a;return!0},B:function(){var a=new p.At;a.ea(this.rb.B());return a},S:function(a){p.L.prototype.S.call(this,a);this.rb.S(a)},step:function(a){var c=this.rb;c.step(a);c.Ih()&&(c.S(this.M),c.step(c.Wb-c.bf()))},Ih:function(){return!1},reverse:function(){return p.At.create(this.rb.reverse())},pJ:function(a){this.rb!=a&&(this.rb=
a)},AB:function(){return this.rb}});p.At.create=function(a){var c=new p.At;return c&&c.ea(a)?c:null};
p.Mp=p.L.extend({nj:null,wj:null,ctor:function(){p.L.prototype.ctor.call(this);this.wj=this.nj=null},$r:function(a,c){if(!a||!c)throw"cc.Spawn.initWithTwoActions(): arguments must all be non null";var d=!1,e=a.bf(),f=c.bf();this.J(Math.max(e,f))&&(this.nj=a,this.wj=c,e>f?this.wj=p.Ri.tl(c,p.gn.create(e-f)):e<f&&(this.nj=p.Ri.tl(a,p.gn.create(f-e))),d=!0);return d},B:function(){var a=new p.Mp;a.$r(this.nj.B(),this.wj.B());return a},S:function(a){p.L.prototype.S.call(this,a);this.nj.S(a);this.wj.S(a)},
stop:function(){this.nj.stop();this.wj.stop();p.ld.prototype.stop.call(this)},update:function(a){this.nj&&this.nj.update(a);this.wj&&this.wj.update(a)},reverse:function(){return p.Mp.tl(this.nj.reverse(),this.wj.reverse())}});p.Mp.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&p.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)null!=c[e]&&(d=this.tl(d,c[e]));return d};
p.Mp.tl=function(a,c){var d=new p.Mp;d.$r(a,c);return d};
p.by=p.L.extend({rq:0,Xl:0,ez:0,tu:0,xk:0,fz:0,ctor:function(){p.L.prototype.ctor.call(this);this.fz=this.xk=this.tu=this.ez=this.Xl=this.rq=0},J:function(a,c,d){return p.L.prototype.J.call(this,a)?(this.rq=c||0,this.tu=d||this.rq,!0):!1},B:function(){var a=new p.by;a.J(this.na,this.rq,this.tu);return a},S:function(a){p.L.prototype.S.call(this,a);var c=a.ag%360,d=this.rq-c;180<d&&(d-=360);-180>d&&(d+=360);this.Xl=c;this.ez=d;this.xk=a.sh%360;a=this.tu-this.xk;180<a&&(a-=360);-180>a&&(a+=360);this.fz=
a},reverse:function(){p.log("cc.RotateTo.reverse(): it should be overridden in subclass.")},update:function(a){this.M&&(this.M.Zw(this.Xl+this.ez*a),this.M.$w(this.xk+this.fz*a))}});p.by.create=function(a,c,d){var e=new p.by;e.J(a,c,d);return e};
p.Ct=p.L.extend({Rf:0,Xl:0,Zp:0,xk:0,ctor:function(){p.L.prototype.ctor.call(this);this.xk=this.Zp=this.Xl=this.Rf=0},J:function(a,c,d){return p.L.prototype.J.call(this,a)?(this.Rf=c||0,this.Zp=d||this.Rf,!0):!1},B:function(){var a=new p.Ct;a.J(this.na,this.Rf,this.Zp);return a},S:function(a){p.L.prototype.S.call(this,a);this.Xl=a.ag;this.xk=a.sh},update:function(a){this.M&&(this.M.Zw(this.Xl+this.Rf*a),this.M.$w(this.xk+this.Zp*a))},reverse:function(){return p.Ct.create(this.na,-this.Rf,-this.Zp)}});
p.Ct.create=function(a,c,d){var e=new p.Ct;e.J(a,c,d);return e};
p.Sj=p.L.extend({si:null,Dc:null,Cc:null,ctor:function(){p.L.prototype.ctor.call(this);this.si=p.a(0,0);this.Dc=p.a(0,0);this.Cc=p.a(0,0)},J:function(a,c){return p.L.prototype.J.call(this,a)?(this.si.x=c.x,this.si.y=c.y,!0):!1},B:function(){var a=new p.Sj;a.J(this.na,this.si);return a},S:function(a){p.L.prototype.S.call(this,a);var c=a.n.C;a=a.n.I;this.Cc.x=c;this.Cc.y=a;this.Dc.x=c;this.Dc.y=a},update:function(a){if(this.M){var c=this.si.x*a;a*=this.si.y;var d=this.Dc;if(p.Qs){var e=this.M.n.I,f=
this.Cc;d.x=d.x+this.M.n.C-f.x;d.y=d.y+e-f.y;c+=d.x;a+=d.y;this.M.q(c,a);f.x=c;f.y=a}else this.M.q(d.x+c,d.y+a)}},reverse:function(){return p.Sj.create(this.na,p.a(-this.si.x,-this.si.y))}});p.Sj.create=function(a,c){var d=new p.Sj;d.J(a,c);return d};
p.ut=p.Sj.extend({Un:null,ctor:function(){p.Sj.prototype.ctor.call(this);this.Un=p.a(0,0)},J:function(a,c){return p.Sj.prototype.J.call(this,a,c)?(this.Un.x=c.x,this.Un.y=c.y,!0):!1},B:function(){var a=new p.ut;a.J(this.na,this.Un);return a},S:function(a){p.Sj.prototype.S.call(this,a);this.si.x=this.Un.x-a.n.C;this.si.y=this.Un.y-a.n.I}});p.ut.create=function(a,c){var d=new p.ut;d.J(a,c);return d};
p.sn=p.L.extend({Sd:0,Td:0,jr:0,kr:0,wq:0,xq:0,re:0,se:0,ctor:function(){p.L.prototype.ctor.call(this);this.se=this.re=this.xq=this.wq=this.kr=this.jr=this.Td=this.Sd=0},J:function(a,c,d){var e=!1;p.L.prototype.J.call(this,a)&&(this.wq=c,this.xq=d,e=!0);return e},B:function(){var a=new p.sn;a.J(this.na,this.wq,this.xq);return a},S:function(a){p.L.prototype.S.call(this,a);this.jr=a.Sd%180;this.re=this.wq-this.jr;180<this.re&&(this.re-=360);-180>this.re&&(this.re+=360);this.kr=a.Td%360;this.se=this.xq-
this.kr;180<this.se&&(this.se-=360);-180>this.se&&(this.se+=360)},update:function(a){this.M.bx(this.jr+this.re*a);this.M.cx(this.kr+this.se*a)}});p.sn.create=function(a,c,d){var e=new p.sn;e&&e.J(a,c,d);return e};
p.Gt=p.sn.extend({J:function(a,c,d){var e=!1;p.sn.prototype.J.call(this,a,c,d)&&(this.Sd=c,this.Td=d,e=!0);return e},B:function(){var a=new p.Gt;a.J(this.na,this.Sd,this.Td);return a},S:function(a){p.sn.prototype.S.call(this,a);this.re=this.Sd;this.se=this.Td;this.wq=this.jr+this.re;this.xq=this.kr+this.se},reverse:function(){return p.Gt.create(this.na,-this.Sd,-this.Td)}});p.Gt.create=function(a,c,d){var e=new p.Gt;e&&e.J(a,c,d);return e};
p.jn=p.L.extend({Dc:null,Uf:null,ka:0,bo:0,Cc:null,ctor:function(){p.L.prototype.ctor.call(this);this.Dc=p.a(0,0);this.Cc=p.a(0,0);this.Uf=p.a(0,0);this.bo=this.ka=0},J:function(a,c,d,e){return p.L.prototype.J.call(this,a)?(this.Uf.x=c.x,this.Uf.y=c.y,this.ka=d,this.bo=e,!0):!1},B:function(){var a=new p.jn;a.J(this.na,this.Uf,this.ka,this.bo);return a},S:function(a){p.L.prototype.S.call(this,a);var c=a.n.C;a=a.n.I;this.Cc.x=c;this.Cc.y=a;this.Dc.x=c;this.Dc.y=a},update:function(a){if(this.M){var c=
a*this.bo%1,c=4*this.ka*c*(1-c),c=c+this.Uf.y*a;a*=this.Uf.x;var d=this.Dc;if(p.Qs){var e=this.M.n.I,f=this.Cc;d.x=d.x+this.M.n.C-f.x;d.y=d.y+e-f.y;a+=d.x;c+=d.y;this.M.q(a,c);f.x=a;f.y=c}else this.M.q(d.x+a,d.y+c)}},reverse:function(){return p.jn.create(this.na,p.a(-this.Uf.x,-this.Uf.y),this.ka,this.bo)}});p.jn.create=function(a,c,d,e){var f=new p.jn;f.J(a,c,d,e);return f};
p.Ox=p.jn.extend({S:function(a){p.jn.prototype.S.call(this,a);this.Uf.x-=this.Dc.x;this.Uf.y-=this.Dc.y},B:function(){var a=new p.Ox;a.J(this.na,this.Uf,this.ka,this.bo);return a}});p.Ox.create=function(a,c,d,e){var f=new p.Ox;f.J(a,c,d,e);return f};p.GG=function(a,c,d,e){return 0*Math.pow(1-e,3)+3*e*Math.pow(1-e,2)*a+3*Math.pow(e,2)*(1-e)*c+Math.pow(e,3)*d};
p.ll=p.L.extend({Al:null,Dc:null,Cc:null,ctor:function(){p.L.prototype.ctor.call(this);this.Al=[];this.Dc=p.a(0,0);this.Cc=p.a(0,0)},J:function(a,c){return p.L.prototype.J.call(this,a)?(this.Al=c,!0):!1},B:function(){for(var a=new p.ll,c=[],d=0;d<this.Al.length;d++){var e=this.Al[d];c.push(p.a(e.x,e.y))}a.J(this.na,c);return a},S:function(a){p.L.prototype.S.call(this,a);var c=a.n.C;a=a.n.I;this.Cc.x=c;this.Cc.y=a;this.Dc.x=c;this.Dc.y=a},update:function(a){if(this.M){var c=this.Al,d=p.GG(c[0].x,c[1].x,
c[2].x,a);a=p.GG(c[0].y,c[1].y,c[2].y,a);c=this.Dc;if(p.Qs){var e=this.M.n.I,f=this.Cc;c.x=c.x+this.M.n.C-f.x;c.y=c.y+e-f.y;d+=c.x;a+=c.y;this.M.q(d,a);f.x=d;f.y=a}else this.M.q(c.x+d,c.y+a)}},reverse:function(){var a=this.Al,a=[p.Hf(a[1],p.qC(a[2])),p.Hf(a[0],p.qC(a[2])),p.qC(a[2])];return p.ll.create(this.na,a)}});p.ll.create=function(a,c){var d=new p.ll;d.J(a,c);return d};
p.xx=p.ll.extend({Av:null,ctor:function(){p.ll.prototype.ctor.call(this);this.Av=[]},J:function(a,c){return p.L.prototype.J.call(this,a)?(this.Av=c,!0):!1},B:function(){var a=new p.xx;a.J(this.na,this.Av);return a},S:function(a){p.ll.prototype.S.call(this,a);a=this.Dc;var c=this.Av,d=this.Al;d[0]=p.jd(c[0],a);d[1]=p.jd(c[1],a);d[2]=p.jd(c[2],a)}});p.xx.create=function(a,c){var d=new p.xx;d.J(a,c);return d};
p.rn=p.L.extend({ma:1,qa:1,so:1,to:1,Dl:0,El:0,re:0,se:0,ctor:function(){p.L.prototype.ctor.call(this);this.to=this.so=this.qa=this.ma=1;this.se=this.re=this.El=this.Dl=0},J:function(a,c,d){return p.L.prototype.J.call(this,a)?(this.Dl=c,this.El=null!=d?d:c,!0):!1},B:function(){var a=new p.rn;a.J(this.na,this.Dl,this.El);return a},S:function(a){p.L.prototype.S.call(this,a);this.so=a.ma;this.to=a.qa;this.re=this.Dl-this.so;this.se=this.El-this.to},update:function(a){this.M&&this.M.Mj(this.so+this.re*
a,this.to+this.se*a)}});p.rn.create=function(a,c,d){var e=new p.rn;e.J(a,c,d);return e};p.Et=p.rn.extend({S:function(a){p.rn.prototype.S.call(this,a);this.re=this.so*this.Dl-this.so;this.se=this.to*this.El-this.to},reverse:function(){return p.Et.create(this.na,1/this.Dl,1/this.El)},B:function(){var a=new p.Et;a.J(this.na,this.Dl,this.El);return a}});p.Et.create=function(a,c,d){var e=new p.Et;e.J(a,c,d);return e};
p.Ns=p.L.extend({xf:0,Pz:!1,ctor:function(){p.L.prototype.ctor.call(this);this.xf=0;this.Pz=!1},J:function(a,c){return p.L.prototype.J.call(this,a)?(this.xf=c,!0):!1},B:function(){var a=new p.Ns;a.J(this.na,this.xf);return a},update:function(a){if(this.M&&!this.Ih()){var c=1/this.xf;this.M.v(a%c>c/2)}},S:function(a){p.L.prototype.S.call(this,a);this.Pz=a.pa},stop:function(){this.M.v(this.Pz);p.L.prototype.stop.call(this)},reverse:function(){return p.Ns.create(this.na,this.xf)}});
p.Ns.create=function(a,c){var d=new p.Ns;d.J(a,c);return d};p.mt=p.L.extend({update:function(a){this.M.Xa&&this.M.Z(255*a)},reverse:function(){return p.nt.create(this.na)},B:function(){var a=new p.mt;a.J(this.na);return a}});p.mt.create=function(a){var c=new p.mt;c.J(a);return c};p.nt=p.L.extend({update:function(a){this.M.Xa&&this.M.Z(255*(1-a))},reverse:function(){return p.mt.create(this.na)},B:function(){var a=new p.nt;a.J(this.na);return a}});p.nt.create=function(a){var c=new p.nt;c.J(a);return c};
p.Kx=p.L.extend({Bv:null,yu:null,ctor:function(){p.L.prototype.ctor.call(this);this.yu=this.Bv=0},J:function(a,c){return p.L.prototype.J.call(this,a)?(this.Bv=c,!0):!1},B:function(){var a=new p.Kx;a.J(this.na,this.Bv);return a},update:function(a){this.M.Xa&&this.M.Z(this.yu+(this.Bv-this.yu)*a)},S:function(a){p.L.prototype.S.call(this,a);this.M.Xa&&(this.yu=a.Ai())}});p.Kx.create=function(a,c){var d=new p.Kx;d.J(a,c);return d};
p.qy=p.L.extend({Ze:null,Od:null,ctor:function(){p.L.prototype.ctor.call(this);this.Ze=p.i(0,0,0);this.Od=p.i(0,0,0)},J:function(a,c,d,e){return p.L.prototype.J.call(this,a)?(this.Ze=p.i(c,d,e),!0):!1},B:function(){var a=new p.qy,c=this.Ze;a.J(this.na,c.h,c.g,c.f);return a},S:function(a){p.L.prototype.S.call(this,a);this.M.Xa&&(this.Od=this.M.fd())},update:function(a){var c=this.Od,d=this.Ze;this.M.Xa&&this.M.k(p.i(c.h+(d.h-c.h)*a,c.g+(d.g-c.g)*a,c.f+(d.f-c.f)*a))}});
p.qy.create=function(a,c,d,e){var f=new p.qy;f.J(a,c,d,e);return f};
p.Nt=p.L.extend({nq:0,mq:0,lq:0,tz:0,sz:0,rz:0,ctor:function(){p.L.prototype.ctor.call(this);this.rz=this.sz=this.tz=this.lq=this.mq=this.nq=0},J:function(a,c,d,e){return p.L.prototype.J.call(this,a)?(this.nq=c,this.mq=d,this.lq=e,!0):!1},B:function(){var a=new p.Nt;a.J(this.na,this.nq,this.mq,this.lq);return a},S:function(a){p.L.prototype.S.call(this,a);a.Xa&&(a=a.fd(),this.tz=a.h,this.sz=a.g,this.rz=a.f)},update:function(a){this.M.Xa&&this.M.k(p.i(this.tz+this.nq*a,this.sz+this.mq*a,this.rz+this.lq*
a))},reverse:function(){return p.Nt.create(this.na,-this.nq,-this.mq,-this.lq)}});p.Nt.create=function(a,c,d,e){var f=new p.Nt;f.J(a,c,d,e);return f};p.gn=p.L.extend({update:function(){},reverse:function(){return p.gn.create(this.na)},B:function(){var a=new p.gn;a.J(this.na);return a}});p.gn.create=function(a){var c=new p.gn;c.J(a);return c};
p.Bt=p.L.extend({oj:null,ctor:function(){p.L.prototype.ctor.call(this);this.oj=null},ea:function(a){if(!a)throw"cc.ReverseTime.initWithAction(): action must be non null";if(a==this.oj)throw"cc.ReverseTime.initWithAction(): the action was already passed in.";return p.L.prototype.J.call(this,a.bf())?(this.oj=a,!0):!1},B:function(){var a=new p.Bt;a.ea(this.oj.B());return a},S:function(a){p.L.prototype.S.call(this,a);this.oj.S(a)},update:function(a){this.oj&&this.oj.update(1-a)},reverse:function(){return this.oj.B()},
stop:function(){this.oj.stop();p.ld.prototype.stop.call(this)}});p.Bt.create=function(a){var c=new p.Bt;c.ea(a);return c};
p.Ks=p.L.extend({Vi:null,jo:0,$u:null,yq:0,xA:null,ctor:function(){p.L.prototype.ctor.call(this);this.Vi=null;this.jo=0;this.$u=null;this.yq=0;this.xA=null},kH:function(){return this.Vi},RU:function(a){this.Vi=a},LH:function(a){if(!a)throw"cc.Animate.initWithAnimation(): animation must be non-NULL";var c=a.bf();if(this.J(c*a.lj)){this.jo=0;this.RU(a);this.$u=null;this.yq=0;var d=[],e=0,f=c/a.cm;a=a.Nd;p.Ls(a,p.Mi);for(var g=0;g<a.length;g++){var h=e*f/c,e=e+a[g].Ld;d.push(h)}this.xA=d;return!0}return!1},
B:function(){var a=new p.Ks;a.LH(this.Vi.B());return a},S:function(a){p.L.prototype.S.call(this,a);this.Vi.Ql&&(this.$u=a.GQ());this.yq=this.jo=0},update:function(a){1>a&&(a*=this.Vi.lj,(0|a)>this.yq&&(this.jo=0,this.yq++),a%=1);for(var c=this.Vi.Nd,d=c.length,e=this.xA,f=this.jo;f<d;f++)if(e[f]<=a)this.M.op(c[f].Vg()),this.jo=f+1;else break},reverse:function(){var a=this.Vi,c=a.Nd,d=[];p.Ls(c,p.Mi);if(0<c.length)for(var e=c.length-1;0<=e;e--){var f=c[e];if(!f)break;d.push(f.B())}c=p.Li.LG(d,a.Ld,
a.lj);c.Xw(a.Ql);return p.Ks.create(c)},stop:function(){this.Vi.Ql&&this.M&&this.M.op(this.$u);p.ld.prototype.stop.call(this)}});p.Ks.create=function(a){var c=new p.Ks;c.LH(a);return c};
p.py=p.L.extend({pf:null,Fl:null,ctor:function(){p.L.prototype.ctor.call(this);this.Fl=this.pf=null},jg:function(a,c){return this.J(c.bf())?(this.Fl=a,this.pf=c,!0):!1},B:function(){var a=new p.py;a.jg(this.Fl,this.pf.B());return a},S:function(a){p.L.prototype.S.call(this,a);this.pf.S(this.Fl)},stop:function(){this.pf.stop()},update:function(a){this.pf.update(a)},N2:function(){return this.Fl},B9:function(a){this.Fl!=a&&(this.Fl=a)}});p.py.create=function(a,c){var d=new p.py;d.jg(a,c);return d};p.Th=p.Pi.extend({Ih:function(){return!0},step:function(){this.update(1)},update:function(){},reverse:function(){return this.B()},B:function(){return new p.Th}});p.Ft=p.Th.extend({update:function(){this.M.v(!0)},reverse:function(){return p.qt.create()},B:function(){return new p.Ft}});p.Ft.create=function(){return new p.Ft};p.qt=p.Th.extend({update:function(){this.M.v(!1)},reverse:function(){return p.Ft.create()},B:function(){return new p.qt}});p.qt.create=function(){return new p.qt};
p.Ot=p.Th.extend({update:function(){this.M.v(!this.M.pa)},reverse:function(){return new p.Ot},B:function(){return new p.Ot}});p.Ot.create=function(){return new p.Ot};p.yt=p.Th.extend({Lq:!0,ctor:function(){p.Pi.prototype.ctor.call(this);this.Lq=!0},update:function(){this.M.R(this.Lq)},r:function(a){this.Lq=a;return!0},reverse:function(){return new p.yt(this.Lq)},B:function(){return new p.yt(this.Lq)}});p.yt.create=function(a){null==a&&(a=!0);var c=new p.yt;c&&c.r(a);return c};
p.ot=p.Th.extend({bc:!1,ctor:function(){p.Pi.prototype.ctor.call(this);this.bc=!1},NH:function(a){this.bc=a;return!0},update:function(){this.M.iV(this.bc)},reverse:function(){return p.ot.create(!this.bc)},B:function(){var a=new p.ot;a.NH(this.bc);return a}});p.ot.create=function(a){var c=new p.ot;return c.NH(a)?c:null};
p.pt=p.Th.extend({cc:!1,ctor:function(){p.Pi.prototype.ctor.call(this);this.cc=!1},OH:function(a){this.cc=a;return!0},update:function(){this.M.jV(this.cc)},reverse:function(){return p.pt.create(!this.cc)},B:function(){var a=new p.pt;a.OH(this.cc);return a}});p.pt.create=function(a){var c=new p.pt;return c.OH(a)?c:null};
p.Xx=p.Th.extend({n:null,ctor:function(){p.Pi.prototype.ctor.call(this);this.n=p.a(0,0)},QH:function(a){this.n.x=a.x;this.n.y=a.y;return!0},update:function(){this.M.q(this.n)},B:function(){var a=new p.Xx;a.QH(this.n);return a}});p.Xx.create=function(a){var c=new p.Xx;c.QH(a);return c};
p.Ep=p.Th.extend({Lg:null,zl:null,hk:null,jq:null,ctor:function(){p.Pi.prototype.ctor.call(this);this.jq=this.hk=this.zl=this.Lg=null},jg:function(a,c,d){this.jq=d;this.zl=a;this.Lg=c;return!0},UB:function(a){this.hk=a;return!0},execute:function(){null!=this.zl?this.zl.call(this.Lg,this.M,this.jq):this.hk&&this.hk.call(null,this.M)},update:function(){this.execute()},H4:function(){return this.Lg},P$:function(a){a!=this.Lg&&(this.Lg&&(this.Lg=null),this.Lg=a)},copy:function(){var a=new p.Ep;this.Lg?
a.jg(this.zl,this.Lg,this.jq):this.hk&&a.UB(this.hk);return a},B:function(){var a=new p.Ep;this.Lg?a.jg(this.zl,this.Lg,this.jq):this.hk&&a.UB(this.hk);return a}});p.Ep.create=function(a,c,d){var e=new p.Ep;if(1==arguments.length){if(e&&e.UB(a))return e}else if(e&&e.jg(a,c,d))return e.zl=a,e;return null};p.rx=p.L.extend({Py:0,Qy:0,Ry:0,ZE:0,$E:0,aF:0,gG:0,hG:0,iG:0,ctor:function(){p.L.prototype.ctor.call(this);this.iG=this.hG=this.gG=this.aF=this.$E=this.ZE=this.Ry=this.Qy=this.Py=0},S:function(a){p.L.prototype.S.call(this,a);a=a.yB();var c=a.mH();this.Py=c.x;this.Qy=c.y;this.Ry=c.z;c=a.oH();this.ZE=c.x;this.$E=c.y;this.aF=c.z;a=a.NR();this.gG=a.x;this.hG=a.y;this.iG=a.z},B:function(){return new p.rx},reverse:function(){return p.Bt.create(this)}});
p.Vx=p.rx.extend({ti:0,ru:0,xn:0,cz:0,Rf:0,bz:0,fA:0,dA:0,eA:0,cA:0,ctor:function(){p.rx.prototype.ctor.call(this);this.cA=this.eA=this.dA=this.fA=this.bz=this.Rf=this.cz=this.xn=this.ru=this.ti=0},J:function(a,c,d,e,f,g,h){return p.L.prototype.J.call(this,a)?(this.ti=c,this.ru=d,this.xn=e,this.cz=f,this.Rf=g,this.bz=h,this.dA=p.Oi(f),this.cA=p.Oi(h),!0):!1},nW:function(){var a=this.M.yB(),c=a.oH(),d=a.mH(),a=c.x-d.x,e=c.y-d.y,c=c.z-d.z,d=Math.sqrt(Math.pow(a,2)+Math.pow(e,2)+Math.pow(c,2)),f=Math.sqrt(Math.pow(a,
2)+Math.pow(e,2));0===f&&(f=p.lt);0===d&&(d=p.lt);return{$S:d/p.Fp.Wr(),KW:Math.acos(c/d),azimuth:0>a?Math.PI-Math.asin(e/f):Math.asin(e/f)}},S:function(a){p.L.prototype.S.call(this,a);a=this.nW();isNaN(this.ti)&&(this.ti=a.$S);isNaN(this.xn)&&(this.xn=p.Zx(a.KW));isNaN(this.Rf)&&(this.Rf=p.Zx(a.azimuth));this.fA=p.Oi(this.xn);this.eA=p.Oi(this.Rf)},B:function(){var a=new p.Vx;a.J(this.na,this.ti,this.ru,this.xn,this.cz,this.Rf,this.bz);return a},update:function(a){var c=(this.ti+this.ru*a)*p.Fp.Wr(),
d=this.fA+this.dA*a,e=this.eA+this.cA*a;a=Math.sin(d)*Math.cos(e)*c+this.Py;e=Math.sin(d)*Math.sin(e)*c+this.Qy;c=Math.cos(d)*c+this.Ry;this.M.yB().kJ(a,e,c)}});p.Vx.create=function(a,c,d,e,f,g,h){var k=new p.Vx;return k.J(a,c,d,e,f,g,h)?k:null};p.Oc=p.L.extend({V:null,ctor:function(){p.L.prototype.ctor.call(this);this.V=null},ea:function(a){if(!a)throw"cc.ActionEase.initWithAction(): action must be non nil";return this.J(a.bf())?(this.V=a,!0):!1},B:function(){var a=new p.Oc;a.ea(this.V.B());return a},S:function(a){p.L.prototype.S.call(this,a);this.V.S(this.M)},stop:function(){this.V.stop();p.L.prototype.stop.call(this)},update:function(a){this.V.update(a)},reverse:function(){return p.Oc.create(this.V.reverse())},AB:function(){return this.V}});
p.Oc.create=function(a){var c=new p.Oc;c&&c.ea(a);return c};p.pl=p.Oc.extend({we:0,ctor:function(){p.Oc.prototype.ctor.call(this);this.we=0},v$:function(a){this.we=a},f4:function(){return this.we},ea:function(a,c){return p.Oc.prototype.ea.call(this,a)?(this.we=c,!0):!1},B:function(){var a=new p.pl;a.ea(this.V.B(),this.we);return a},reverse:function(){return p.pl.create(this.V.reverse(),1/this.we)}});p.pl.create=function(a,c){var d=new p.pl;d&&d.ea(a,c);return d};
p.et=p.pl.extend({update:function(a){this.V.update(Math.pow(a,this.we))},reverse:function(){return p.et.create(this.V.reverse(),1/this.we)},B:function(){var a=new p.et;a.ea(this.V.B(),this.we);return a}});p.et.create=function(a,c){var d=new p.et;d&&d.ea(a,c);return d};p.gt=p.pl.extend({update:function(a){this.V.update(Math.pow(a,1/this.we))},reverse:function(){return p.gt.create(this.V.reverse(),1/this.we)},B:function(){var a=new p.gt;a.ea(this.V.B(),this.we);return a}});
p.gt.create=function(a,c){var d=new p.gt;d&&d.ea(a,c);return d};p.ft=p.pl.extend({update:function(a){a*=2;1>a?this.V.update(0.5*Math.pow(a,this.we)):this.V.update(1-0.5*Math.pow(2-a,this.we))},B:function(){var a=new p.ft;a.ea(this.V.B(),this.we);return a},reverse:function(){return p.ft.create(this.V.reverse(),this.we)}});p.ft.create=function(a,c){var d=new p.ft;d&&d.ea(a,c);return d};
p.bt=p.Oc.extend({update:function(a){this.V.update(0===a?0:Math.pow(2,10*(a-1)))},reverse:function(){return p.dt.create(this.V.reverse())},B:function(){var a=new p.bt;a.ea(this.V.B());return a}});p.bt.create=function(a){var c=new p.bt;c&&c.ea(a);return c};p.dt=p.Oc.extend({update:function(a){this.V.update(1==a?1:-Math.pow(2,-10*a)+1)},reverse:function(){return p.bt.create(this.V.reverse())},B:function(){var a=new p.dt;a.ea(this.V.B());return a}});
p.dt.create=function(a){var c=new p.dt;c&&c.ea(a);return c};p.ct=p.Oc.extend({update:function(a){1!=a&&0!==a&&(a*=2,a=1>a?0.5*Math.pow(2,10*(a-1)):0.5*(-Math.pow(2,-10*(a-1))+2));this.V.update(a)},reverse:function(){return p.ct.create(this.V.reverse())},B:function(){var a=new p.ct;a.ea(this.V.B());return a}});p.ct.create=function(a){var c=new p.ct;c&&c.ea(a);return c};
p.ht=p.Oc.extend({update:function(a){a=0===a||1==a?a:-1*Math.cos(a*Math.PI/2)+1;this.V.update(a)},reverse:function(){return p.jt.create(this.V.reverse())},B:function(){var a=new p.ht;a.ea(this.V.B());return a}});p.ht.create=function(a){var c=new p.ht;c&&c.ea(a);return c};p.jt=p.Oc.extend({update:function(a){a=0===a||1==a?a:Math.sin(a*Math.PI/2);this.V.update(a)},reverse:function(){return p.ht.create(this.V.reverse())},B:function(){var a=new p.jt;a.ea(this.V.B());return a}});
p.jt.create=function(a){var c=new p.jt;c&&c.ea(a);return c};p.it=p.Oc.extend({update:function(a){a=0===a||1==a?a:-0.5*(Math.cos(Math.PI*a)-1);this.V.update(a)},B:function(){var a=new p.it;a.ea(this.V.B());return a},reverse:function(){return p.it.create(this.V.reverse())}});p.it.create=function(a){var c=new p.it;c&&c.ea(a);return c};
p.hn=p.Oc.extend({Pd:null,ctor:function(){p.Oc.prototype.ctor.call(this);this.Pd=0.3},P3:function(){return this.Pd},k$:function(a){this.Pd=a},ea:function(a,c){p.Oc.prototype.ea.call(this,a);this.Pd=null==c?0.3:c;return!0},reverse:function(){p.log("cc.EaseElastic.reverse(): it should be overridden in subclass.")},B:function(){var a=new p.hn;a.ea(this.V.B(),this.Pd);return a}});p.hn.create=function(a,c){var d=new p.hn;return d&&d.ea(a,c)?d:null};
p.Zs=p.hn.extend({update:function(a){var c=0;0===a||1===a?c=a:(c=this.Pd/4,a-=1,c=-Math.pow(2,10*a)*Math.sin((a-c)*Math.PI*2/this.Pd));this.V.update(c)},reverse:function(){return p.at.create(this.V.reverse(),this.Pd)},B:function(){var a=new p.Zs;a.ea(this.V.B(),this.Pd);return a}});p.Zs.create=function(a,c){var d=new p.Zs;return d&&d.ea(a,c)?d:null};
p.at=p.hn.extend({update:function(a){var c=0,c=0===a||1==a?a:Math.pow(2,-10*a)*Math.sin((a-this.Pd/4)*Math.PI*2/this.Pd)+1;this.V.update(c)},reverse:function(){return p.Zs.create(this.V.reverse(),this.Pd)},B:function(){var a=new p.at;a.ea(this.V.B(),this.Pd);return a}});p.at.create=function(a,c){var d=new p.at;d&&d.ea(a,c);return d};
p.$s=p.hn.extend({update:function(a){var c=0,c=this.Pd;if(0===a||1==a)c=a;else{c||(c=this.Pd=0.3*1.5);var d=c/4;a=2*a-1;c=0>a?-0.5*Math.pow(2,10*a)*Math.sin((a-d)*Math.PI*2/c):Math.pow(2,-10*a)*Math.sin((a-d)*Math.PI*2/c)*0.5+1}this.V.update(c)},reverse:function(){return p.$s.create(this.V.reverse(),this.Pd)},B:function(){var a=new p.$s;a.ea(this.V.B(),this.Pd);return a}});p.$s.create=function(a,c){var d=new p.$s;d&&d.ea(a,c);return d};
p.ol=p.Oc.extend({Mv:function(a){if(a<1/2.75)return 7.5625*a*a;if(a<2/2.75)return a-=1.5/2.75,7.5625*a*a+0.75;if(a<2.5/2.75)return a-=2.25/2.75,7.5625*a*a+0.9375;a-=2.625/2.75;return 7.5625*a*a+0.984375},B:function(){var a=new p.ol;a.ea(this.V.B());return a},reverse:function(){return p.ol.create(this.V.reverse())}});p.ol.create=function(a){var c=new p.ol;c&&c.ea(a);return c};
p.Ws=p.ol.extend({update:function(a){this.V.update(1-this.Mv(1-a))},reverse:function(){return p.Ys.create(this.V.reverse())},B:function(){var a=new p.Ws;a.ea(this.V.B());return a}});p.Ws.create=function(a){var c=new p.Ws;c&&c.ea(a);return c};p.Ys=p.ol.extend({update:function(a){this.V.update(this.Mv(a))},reverse:function(){return p.Ws.create(this.V.reverse())},B:function(){var a=new p.Ys;a.ea(this.V.B());return a}});p.Ys.create=function(a){var c=new p.Ys;c&&c.ea(a);return c};
p.Xs=p.ol.extend({update:function(a){var c=0,c=0.5>a?0.5*(1-this.Mv(1-2*a)):0.5*this.Mv(2*a-1)+0.5;this.V.update(c)},B:function(){var a=new p.Xs;a.ea(this.V.B());return a},reverse:function(){return p.Xs.create(this.V.reverse())}});p.Xs.create=function(a){var c=new p.Xs;c&&c.ea(a);return c};p.Ts=p.Oc.extend({update:function(a){this.V.update(0===a||1==a?a:a*a*(2.70158*a-1.70158))},reverse:function(){return p.Vs.create(this.V.reverse())},B:function(){var a=new p.Ts;a.ea(this.V.B());return a}});
p.Ts.create=function(a){var c=new p.Ts;c&&c.ea(a);return c};p.Vs=p.Oc.extend({update:function(a){a-=1;this.V.update(a*a*(2.70158*a+1.70158)+1)},reverse:function(){return p.Ts.create(this.V.reverse())},B:function(){var a=new p.Vs;a.ea(this.V.B());return a}});p.Vs.create=function(a){var c=new p.Vs;c&&c.ea(a);return c};
p.Us=p.Oc.extend({update:function(a){a*=2;1>a?this.V.update(a*a*(3.5949095*a-2.5949095)/2):(a-=2,this.V.update(a*a*(3.5949095*a+2.5949095)/2+1))},B:function(){var a=new p.Us;a.ea(this.V.B());return a},reverse:function(){return p.Us.create(this.V.reverse())}});p.Us.create=function(a){var c=new p.Us;c&&c.ea(a);return c};p.Ax=function(a,c,d,e,f,g){var h=g*g,k=h*g,l=(1-f)/2;f=l*(-k+2*h-g);var m=l*(-k+h)+(2*k-3*h+1);g=l*(k-2*h+g)+(-2*k+3*h);h=l*(k-h);return p.a(a.x*f+c.x*m+d.x*g+e.x*h,a.y*f+c.y*m+d.y*g+e.y*h)};p.TI=function(a){for(var c=[],d=a.length-1;0<=d;d--)c.push(p.a(a[d].x,a[d].y));return c};p.Rv=function(a){for(var c=[],d=0;d<a.length;d++)c.push(p.a(a[d].x,a[d].y));return c};p.Tg=function(a,c){var d=Math.min(a.length-1,Math.max(c,0));return a[d]};
p.U8=function(a){for(var c=a.length,d=0|c/2,e=0;e<d;++e){var f=a[e];a[e]=a[c-e-1];a[c-e-1]=f}};
p.Vh=p.L.extend({oh:null,dz:0,Zl:0,Cc:null,Ay:null,ctor:function(){p.L.prototype.ctor.call(this);this.oh=[];this.Zl=this.dz=0;this.Ay=this.Cc=null},J:function(a,c,d){if(!c||0==c.length)throw"Invalid configuration. It must at least have one control point";return p.L.prototype.J.call(this,a)?(this.JV(c),this.Zl=d,!0):!1},B:function(){var a=new p.Vh;a.J(this.na,p.Rv(this.oh),this.Zl);return a},S:function(a){p.L.prototype.S.call(this,a);this.dz=1/(this.oh.length-1);a=this.M.n;this.Cc=p.a(a.x,a.y);this.Ay=
p.a(0,0)},update:function(a){var c,d=this.oh;if(1==a)c=d.length-1,a=1;else{var e=this.dz;c=0|a/e;a=(a-e*c)/e}c=p.Ax(p.Tg(d,c-1),p.Tg(d,c-0),p.Tg(d,c+1),p.Tg(d,c+2),this.Zl,a);p.Qs&&(d=this.M.n.C-this.Cc.x,a=this.M.n.I-this.Cc.y,0!=d||0!=a)&&(e=this.Ay,d=e.x+d,a=e.y+a,e.x=d,e.y=a,c.x+=d,c.y+=a);this.kK(c)},reverse:function(){var a=p.TI(this.oh);return p.Vh.create(this.na,a,this.Zl)},kK:function(a){this.M.q(a);this.Cc=a},U3:function(){return this.oh},JV:function(a){this.oh=a}});
p.Vh.create=function(a,c,d){var e=new p.Vh;return e.J(a,c,d)?e:null};
p.Gp=p.Vh.extend({Dc:null,ctor:function(){p.Vh.prototype.ctor.call(this);this.Dc=p.a(0,0)},S:function(a){p.Vh.prototype.S.call(this,a);a=a.n;this.Dc.x=a.x;this.Dc.y=a.y},reverse:function(){for(var a=this.oh.slice(),c,d=a[0],e=1;e<a.length;++e)c=a[e],a[e]=p.jd(c,d),d=c;a=p.TI(a);d=a[a.length-1];a.pop();d.x=-d.x;d.y=-d.y;a.unshift(d);for(e=1;e<a.length;++e)c=a[e],c.x=-c.x,c.y=-c.y,c.x+=d.x,c.y+=d.y,d=a[e]=c;return p.Gp.create(this.na,a,this.Zl)},kK:function(a){var c=this.Dc,d=a.x+c.x;a=a.y+c.y;this.M.q(d,
a);this.Cc.x=d;this.Cc.y=a},B:function(){var a=new p.Gp;a.J(this.na,p.Rv(this.oh),this.Zl);return a}});p.Gp.create=function(a,c,d){var e=new p.Gp;return e.J(a,c,d)?e:null};p.Cx=p.Vh.extend({J:function(a,c){return p.Vh.prototype.J.call(this,a,c,0.5)},B:function(){var a=new p.Cx;a.J(this.na,p.Rv(this.oh));return a}});p.Cx.create=function(a,c){var d=new p.Cx;return d.J(a,c)?d:null};
p.Bx=p.Gp.extend({J:function(a,c){return p.Vh.prototype.J.call(this,a,c,0.5)},B:function(){var a=new p.Bx;a.J(this.na,p.Rv(this.oh));return a}});p.Bx.create=function(a,c){var d=new p.Bx;return d.J(a,c)?d:null};p.WW=p.sa.extend({lD:function(){}});
p.fn=p.L.extend({key:"",tm:0,dl:0,oB:0,ctor:function(){p.L.prototype.ctor.call(this);this.key="";this.oB=this.dl=this.tm=0},J:function(a,c,d,e){return p.L.prototype.J.call(this,a)?(this.key=c,this.dl=e,this.tm=d,!0):!1},S:function(a){if(!a||!a.lD)throw"cc.ActionTween.startWithTarget(): target must be non-null, and target must implement updateTweenAction function";p.L.prototype.S.call(this,a);this.oB=this.dl-this.tm},update:function(a){this.M.lD(this.dl-this.oB*(1-a),this.key)},reverse:function(){return p.fn.create(this.duration,
this.key,this.dl,this.tm)},B:function(){var a=new p.fn;a.J(this.na,this.key,this.tm,this.dl);return a}});p.fn.create=function(a,c,d,e){var f=new p.fn;return f.J(a,c,d,e)?f:null};p.Tj=0;p.Wx=1;p.gE=4;p.FL=75;
p.oc=p.nb.extend({$e:null,qi:0,cb:null,nh:null,yl:null,sd:!1,p3:function(){return p.a(this.nh.x,this.nh)},sJ:function(a){this.nh=p.tI(a)},V1:function(){return p.a(this.yl.x,this.yl.y)},aJ:function(a){this.yl=p.tI(a)},fc:function(){return this.$e},ew:function(){return this.qi},IR:function(){return this.cb},vs:function(a){this.qi!=a&&(this.qi=p.Gr(a,0,100),this.NA())},kf:function(){},Lk:function(){return!1},n6:function(){return this.sd},Ly:function(a){if(a<p.gE){var c=p.FL;return this.sd?p.a(c>>7-(a<<
1)&1,c>>7-((a<<1)+1)&1):p.a(c>>(a<<1)+1&1,c>>(a<<1)&1)}return p.Qi()},Sc:null,EA:270,mz:270,ti:0,Xy:!1,Iy:null,ed:0,uc:null,yf:null,qG:null,Dr:!1,ctor:null,kh:function(){p.nb.prototype.ctor.call(this);this.$e=p.Tj;this.qi=0;this.nh=p.a(0,0);this.yl=p.a(0,0);this.sd=!1;this.cb=null;this.Sc=p.Qi();this.mz=this.EA=270;this.ti=0;this.Xy=!1;this.Iy=p.Pc()},lh:function(){p.nb.prototype.ctor.call(this);this.$e=p.Tj;this.qi=0;this.nh=p.a(0,0);this.yl=p.a(0,0);this.sd=!1;this.cb=null;this.qG=p.O.createBuffer();
this.ed=0;this.yf=this.uc=null;this.Dr=!1},k:function(a){this.cb.k(a);this.dd()},Z:function(a){this.cb.Z(a);this.dd()},fd:function(){return this.cb.fd()},Ai:function(){return this.cb.Ai()},xJ:null,PO:function(a){this.sd!==a&&(this.sd=a)},QO:function(a){this.sd!==a&&(this.sd=a,this.yf=this.uc=null,this.ed=0)},xs:null,SO:function(a){this.cb!=a&&(this.cb=a,this.$(this.cb.e()))},TO:function(a){a&&this.cb!=a&&(this.cb=a,this.$(a.e()),this.uc&&(this.yf=this.uc=null,this.ed=0))},Ji:null,WO:function(a){a!==
this.$e&&(this.$e=a)},XO:function(a){a!==this.$e&&(this.uc&&(this.yf=this.uc=null,this.ed=0),this.$e=a)},wJ:null,NO:function(a){this.sd!==a&&(this.sd=a)},OO:function(a){this.sd!==a&&(this.sd=a,this.yf=this.uc=null,this.ed=0)},Ce:function(a){var c=this.cb;if(!c)return{Da:0,da:0};var d=c.yb,e=p.a(d.za.u.Da,d.za.u.da),d=p.a(d.Ca.u.Da,d.Ca.u.da);c.Ic&&(c=a.x,a.x=a.y,a.y=c);return{Da:e.x*(1-a.x)+d.x*a.x,da:e.y*(1-a.y)+d.y*a.y}},Ee:function(a){if(!this.cb)return{x:0,y:0};var c=this.cb.yb,d=p.a(c.za.o.x,
c.za.o.y),c=p.a(c.Ca.o.x,c.Ca.o.y);return{x:d.x*(1-a.x)+c.x*a.x,y:d.y*(1-a.y)+c.y*a.y}},XB:null,wN:function(a){this.vs(0);this.X(0.5,0.5);this.$e=p.Tj;this.sd=!1;this.sJ(p.a(0.5,0.5));this.aJ(p.a(1,1));this.xs(a);return!0},xN:function(a){this.vs(0);this.yf=this.uc=null;this.ed=0;this.X(0.5,0.5);this.$e=p.Tj;this.sd=!1;this.sJ(p.a(0.5,0.5));this.aJ(p.a(1,1));this.xs(a);this.qg(p.ih.d().Oh(p.cy));return!0},Ja:null,Cl:function(a){a=a||p.O;var c=this.cb;c.Zn&&(a.globalCompositeOperation="lighter");var d=
p.ja.d().ma,e=p.ja.d().qa;a.globalAlpha=c.Nb/255;var f=c.oa,g=c.la,h=c.Xb,k=c.jz,l=0|h.x,m=-h.y-f.height,n=c.xo;k.width=f.width*d;k.height=f.height*e;a.save();c.bc&&(l=-h.x-f.width,a.scale(-1,1));c.cc&&(m=h.y,a.scale(1,-1));l*=d;m*=e;this.$e==p.Wx?(f=this.Iy,a.beginPath(),a.rect(f.x*d,f.y*e,f.width*d,f.height*e),a.clip(),a.closePath()):this.$e==p.Tj&&(f=this.Sc.x*d,h=this.Sc.y*e,a.beginPath(),a.arc(f,h,this.ti*e,Math.PI/180*this.EA,Math.PI/180*this.mz,this.Xy),a.lineTo(f,h),a.clip(),a.closePath());
c.ta&&n.Gs?(d=c.ta.sc,this.ku?a.drawImage(d,0,0,n.width,n.height,l,m,k.width,k.height):a.drawImage(d,n.x,n.y,n.width,n.height,l,m,k.width,k.height)):0!==g.width&&(k=this.fd(),a.fillStyle="rgba("+k.h+","+k.g+","+k.f+",1)",a.fillRect(l,m,g.width*d,g.height*e));a.restore();p.fh()},Vf:function(a){a=a||p.O;if(this.uc&&this.cb){p.Tx(this);var c=this.cb.W;p.Ej(c.src,c.ub);p.be(p.St);this.cb.T()?p.gg(this.cb.T()):p.gg(null);a.bindBuffer(a.ARRAY_BUFFER,this.qG);this.Dr&&(a.bufferData(a.ARRAY_BUFFER,this.yf,
a.DYNAMIC_DRAW),this.Dr=!1);c=p.Kb.BYTES_PER_ELEMENT;a.vertexAttribPointer(p.qe,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(p.Sp,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(p.Tp,2,a.FLOAT,!1,c,12);this.$e===p.Tj?a.drawArrays(a.TRIANGLE_FAN,0,this.ed):this.$e==p.Wx&&(this.sd?(a.drawArrays(a.TRIANGLE_STRIP,0,this.ed/2),a.drawArrays(a.TRIANGLE_STRIP,4,this.ed/2),p.Fh++):a.drawArrays(a.TRIANGLE_STRIP,0,this.ed));p.Fh++}},yP:function(){if(this.cb){var a,c=this.nh;a=this.qi/100;var d=2*p.PI*(this.sd?a:
1-a),e=p.a(c.x,1),f=p.wT(e,c,d),d=0;if(0==a)f=e,d=0;else if(1==a)f=e,d=4;else{var g=p.UK,h=p.gE;for(a=0;a<=h;++a){var k=(a+(h-1))%h,l=this.Ly(a%h),k=this.Ly(k);0==a?k=p.vI(l,k,1-c.x):4==a&&(l=p.vI(l,k,1-c.x));var m=p.a(0,0);p.oC(l,k,c,f,m)&&(0!=a&&4!=a||0<=m.x&&1>=m.x)&&0<=m.y&&m.y<g&&(g=m.y,d=a)}f=p.Hf(c,p.Fi(p.jd(f,c),g))}g=!0;this.ed!=d+3&&(g=!1,this.yf=this.uc=null,this.ed=0);if(!this.uc){h=this.ed=d+3;l=p.Kb.BYTES_PER_ELEMENT;this.yf=new ArrayBuffer(h*l);k=[];for(a=0;a<h;a++)k[a]=new p.Kb(null,
null,null,this.yf,a*l);this.uc=k;if(!this.uc){p.log("cc.ProgressTimer._updateRadial() : Not enough memory");return}}this.dd();h=this.uc;if(!g)for(h[0].u=this.Ce(c),h[0].o=this.Ee(c),h[1].u=this.Ce(e),h[1].o=this.Ee(e),a=0;a<d;a++)c=this.Ly(a),h[a+2].u=this.Ce(c),h[a+2].o=this.Ee(c);h[this.ed-1].u=this.Ce(f);h[this.ed-1].o=this.Ee(f)}},nP:function(){if(this.cb){var a,c=this.qi/100,d=this.yl,d=p.Fi(p.a(1-d.x+c*d.x,1-d.y+c*d.y),0.5),c=p.jd(this.nh,d),d=p.Hf(this.nh,d);0>c.x&&(d.x+=-c.x,c.x=0);1<d.x&&
(c.x-=d.x-1,d.x=1);0>c.y&&(d.y+=-c.y,c.y=0);1<d.y&&(c.y-=d.y-1,d.y=1);if(this.sd){if(!this.uc){this.ed=8;var e=p.Kb.BYTES_PER_ELEMENT;this.yf=new ArrayBuffer(8*e);var f=[];for(a=0;8>a;a++)f[a]=new p.Kb(null,null,null,this.yf,a*e);f[0].u=this.Ce(p.a(0,1));f[0].o=this.Ee(p.a(0,1));f[1].u=this.Ce(p.a(0,0));f[1].o=this.Ee(p.a(0,0));f[6].u=this.Ce(p.a(1,1));f[6].o=this.Ee(p.a(1,1));f[7].u=this.Ce(p.a(1,0));f[7].o=this.Ee(p.a(1,0));this.uc=f}a=this.uc;a[2].u=this.Ce(p.a(c.x,d.y));a[2].o=this.Ee(p.a(c.x,
d.y));a[3].u=this.Ce(p.a(c.x,c.y));a[3].o=this.Ee(p.a(c.x,c.y));a[4].u=this.Ce(p.a(d.x,d.y));a[4].o=this.Ee(p.a(d.x,d.y));a[5].u=this.Ce(p.a(d.x,c.y));a[5].o=this.Ee(p.a(d.x,c.y))}else{if(!this.uc)for(this.ed=4,e=p.Kb.BYTES_PER_ELEMENT,this.yf=new ArrayBuffer(4*e),this.uc=[],a=0;4>a;a++)this.uc[a]=new p.Kb(null,null,null,this.yf,a*e);a=this.uc;a[0].u=this.Ce(p.a(c.x,d.y));a[0].o=this.Ee(p.a(c.x,d.y));a[1].u=this.Ce(p.a(c.x,c.y));a[1].o=this.Ee(p.a(c.x,c.y));a[2].u=this.Ce(p.a(d.x,d.y));a[2].o=this.Ee(p.a(d.x,
d.y));a[3].u=this.Ce(p.a(d.x,c.y));a[3].o=this.Ee(p.a(d.x,c.y))}this.dd()}},dd:function(){if(this.cb&&this.uc){for(var a=this.cb.yb.Ga.G,c=this.uc,d=0,e=this.ed;d<e;++d)c[d].G=a;this.Dr=!0}},NA:null,uP:function(){var a=this.cb,c=a.e(),d=this.nh;if(this.$e==p.Tj){this.ti=Math.round(Math.sqrt(c.width*c.width+c.height*c.height));var e,f=!1,g=this.Sc;g.x=c.width*d.x;g.y=-c.height*d.y;this.sd?(e=270,d=270-3.6*this.qi):(d=-90,e=-90+3.6*this.qi);a.bc&&(g.x-=2*c.width*this.nh.x,d=-d-180,e=-e-180,f=!f);a.cc&&
(g.y+=2*c.height*this.nh.y,f=!f,d=-d,e=-e);this.EA=d;this.mz=e;this.Xy=f}else{e=this.yl;g=this.qi/100;f=this.Iy;e=p.size(c.width*(1-e.x),c.height*(1-e.y));var g=p.size((c.width-e.width)*g,(c.height-e.height)*g),g=p.size(e.width+g.width,e.height+g.height),h=p.a(c.width*d.x,c.height*d.y),k=h.x-g.width/2;0.5<d.x&&g.width/2>=c.width-h.x&&(k=c.width-g.width);e=h.y-g.height/2;0.5<d.y&&g.height/2>=c.height-h.y&&(e=c.height-g.height);f.x=0;c=1;a.bc&&(f.x-=g.width,c=-1);0<k&&(f.x+=k*c);f.y=0;c=1;a.cc&&(f.y+=
g.height,c=-1);0<e&&(f.y-=e*c);f.width=g.width;f.height=-g.height}},vP:function(){var a=this.$e;a===p.Tj?this.yP():a===p.Wx&&this.nP();this.Dr=!0}});
p.wa.Ac?(b=p.oc.prototype,b.ctor=p.oc.prototype.lh,b.xJ=p.oc.prototype.QO,b.xs=p.oc.prototype.TO,b.Ji=p.oc.prototype.XO,b.wJ=p.oc.prototype.OO,b.XB=p.oc.prototype.xN,b.Ja=p.oc.prototype.Vf,b.NA=p.oc.prototype.vP):(b=p.oc.prototype,b.ctor=p.oc.prototype.kh,b.xJ=p.oc.prototype.PO,b.xs=p.oc.prototype.SO,b.Ji=p.oc.prototype.WO,b.wJ=p.oc.prototype.NO,b.XB=p.oc.prototype.wN,b.Ja=p.oc.prototype.Cl,b.NA=p.oc.prototype.uP);p.oc.create=function(a){var c=new p.oc;return c.XB(a)?c:null};p.Yx=p.L.extend({Ze:0,Od:0,ctor:function(){p.L.prototype.ctor.call(this);this.Od=this.Ze=0},J:function(a,c){return p.L.prototype.J.call(this,a)?(this.Ze=c,!0):!1},B:function(){var a=new p.Yx;a.J(this.na,this.Ze);return a},reverse:function(){p.log("cc.ProgressTo.reverse(): reverse hasn't been supported.");return null},S:function(a){p.L.prototype.S.call(this,a);this.Od=a.ew();100==this.Od&&(this.Od=0)},update:function(a){this.M instanceof p.oc&&this.M.vs(this.Od+(this.Ze-this.Od)*a)}});
p.Yx.create=function(a,c){var d=new p.Yx;d.J(a,c);return d};p.wt=p.L.extend({Ze:0,Od:0,ctor:function(){p.L.prototype.ctor.call(this);this.Od=this.Ze=0},J:function(a,c,d){return p.L.prototype.J.call(this,a)?(this.Ze=d,this.Od=c,!0):!1},B:function(){var a=new p.wt;a.J(this.na,this.Od,this.Ze);return a},reverse:function(){return p.wt.create(this.na,this.Ze,this.Od)},S:function(a){p.L.prototype.S.call(this,a)},update:function(a){this.M instanceof p.oc&&this.M.vs(this.Od+(this.Ze-this.Od)*a)}});
p.wt.create=function(a,c,d){var e=new p.wt;e.J(a,c,d);return e};p.yx=9;p.yK=1;p.BK=2;p.CK=4;p.zK=8;p.AK=16;p.yD=32;p.DK=64;p.xK=128;p.Uh=256;p.Nf=1;p.AD=2;p.zD=4;p.nX=8;p.mX=8;
p.Jb=p.gh.extend({pF:!1,i_:!1,Lk:function(){return this.pF},kf:function(a){this.pF=a;for(var c=this.p,d=0,e=c.length;d<e;d++){var f=c[d];f&&f.Xa&&f.kf(a)}},vi:p.Nf,E4:function(){return this.vi},vq:!1,oo:!1,hj:!1,su:null,jf:function(a){this.vi=(this.vq=a)?p.Nf:p.zD;this.Kc()},isEnabled:function(){return this.vq},sp:function(a){this.oo=a;this.Kc()},q6:function(){return this.oo},$k:function(a){this.hj=a;this.Kc()},Z5:function(){return this.hj},cS:function(){for(var a=this.getParent();null!=a;a=a.getParent())if(!a.pa)return!1;
return!0},ctor:function(){p.gh.prototype.ctor.call(this);this.su={};this.ac=p.mb()},r:function(){return p.gh.prototype.r.call(this)?(this.vi=p.Nf,this.vq=!0,this.hj=this.oo=!1,this.vp(1),!0):!1},Iw:function(){p.zC(this.Ak,!0,this)},Je:function(a){for(var c=0,d=p.yx;c<d;c++)if(a&1<<c)for(var e=this.iz(1<<c),f=0,g=e.length;f<g;f++)e[f].CS(this)},DG:function(a,c,d){for(var e=0,f=p.yx;e<f;e++)d&1<<e&&this.KE(a,c,1<<e)},O8:function(a,c,d){for(var e=0,f=p.yx;e<f;e++)d&1<<e&&this.oO(a,c,1<<e)},Bi:function(a){return this.Ra(a.Q)},
Jh:function(a){a=a.Q;a=this.getParent().Ra(a);return p.Cb(this.Sa(),a)},k_:function(){return null},iz:function(a){a=a.toString();this.su.hasOwnProperty(a)||(this.su[a]=[]);return this.su[a]},KE:function(a,c,d){a=new p.bL(a,c,d);this.iz(d).push(a)},oO:function(a,c,d){d=this.iz(d);if(a||c)for(var e=0;e<d.length;){var f=d[e],g=!0;a&&(g=a==f.M);c&&(g=g&&c==f.pf);g?p.Dd(d,f):e++}else d.length=0},Kc:function(){}});p.Jb.create=function(){var a=new p.Jb;return a&&a.r()?a:null};p.ED=3435855873;
p.nl=p.Jb.extend({qq:!1,Er:!1,Xf:null,Mq:null,iq:null,pu:null,bm:null,Id:null,pi:0,ao:!1,yv:null,sr:null,zv:null,xl:null,DF:!1,Qu:0,Pu:0,ctor:function(){p.Jb.prototype.ctor.call(this);this.Xf=new p.Wj(0,0);this.Mq=new p.wg(0,0);this.iq="";this.pu=p.mb();this.yv={};this.sr={};this.zv={};this.xl={}},r:function(){return this.nw(p.U.create("","Arial",12),p.Qe.create())},Kc:function(){if(this.DF){this.bm&&this.bm.v(!1);this.Id&&this.Id.v(!1);this.qV(this.Mq);var a=this.vi;this.iq=this.JB(a);this.pu=this.MR(a);
var c=this.bm=this.Tr(a);c&&c.ha&&c.ha(this.iq);c&&c.Xa&&c.k(this.pu);var d=this.e();c&&c.q(d.width/2,d.height/2);(a=this.Id=this.bR(a))&&a.q(d.width/2,d.height/2);d=c?c.Sa().Qa:p.size(0,0);if(this.qq)a&&a.$(d.width+2*this.Pu,d.height+2*this.Qu);else if(a){var e=a.Xf,e=p.size(e.width,e.height);0>=e.width&&(e.width=d.width);0>=e.height&&(e.height=d.height);a.$(e)}d=c?c.Sa():p.rect(0,0,0,0);e=a?a.Sa():p.rect(0,0,0,0);d=p.Hw(d,e);this.$(d.width,d.height);d=this.e();c&&(c.q(d.width/2,d.height/2),c.v(!0));
a&&(a.q(d.width/2,d.height/2),a.v(!0))}},nw:function(a,c){if(!a||!a.Xa)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): label should be non-null";if(!c)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): backgroundSprite should be non-null";return p.Jb.prototype.r.call(this,!0)?(this.DF=!0,this.yv={},this.sr={},this.zv={},this.xl={},this.Tb(!0),this.ao=!1,this.Er=!0,this.iq=null,this.PU(!0),this.Lj(p.size(0,0)),this.Er=!0,this.Ci(!1),this.X(0.5,0.5),this.bm=a,this.Id=c,this.Z(255),
this.kf(!0),this.VV(a.HB(),p.Nf),this.UV(a.fd(),p.Nf),this.VC(a,p.Nf),this.Rw(c,p.Nf),this.vi=p.Nf,this.Pu=24,this.Qu=12,this.Mq=new p.wg(0.5,0.5),this.Lj(p.rl()),this.Kc(),!0):!1},tS:function(a,c,d){a=p.U.create(a,c,d);return this.nw(a,p.Qe.create())},MH:function(a){var c=p.U.create("","Arial",30);return this.nw(c,a)},a1:function(){return this.qq},PU:function(a){this.qq=a;this.Kc()},m5:function(){return this.Er},ZV:function(a){return this.Er=a},wR:function(){return this.Xf},Lj:function(a){if(0===
a.width&&0===a.height)this.qq=!0;else{this.qq=!1;var c=this.xl,d;for(d in c)c[d].Lj(a)}this.Xf=a;this.Kc()},d3:function(){return this.Mq},qV:function(a){this.Mq=a;this.bm&&this.bm.X(a)},b_:function(){return this.iq},c_:function(){return this.pu},Ai:function(){return this.pi},Z:function(a){p.Jb.prototype.Z.call(this,a);var c=this.xl,d;for(d in c)c[d].Z(a)},k:function(a){p.Jb.prototype.k.call(this,a);var c=this.xl,d;for(d in c)c[d].k(a)},fd:function(){return this.Qd},m6:function(){return this.ao},g_:function(){return this.Qu},
e_:function(){return this.Pu},S9:function(a,c){this.Qu=c;this.Pu=a;this.Kc()},jf:function(a){p.Jb.prototype.jf.call(this,a);this.Kc()},sp:function(a){p.Jb.prototype.sp.call(this,a);this.Kc()},$k:function(a){this.vi=a?p.AD:p.Nf;p.Jb.prototype.$k.call(this,a);(a=this.xB(p.ED))&&this.oW(a);this.Kc();this.Er&&(a=p.rn.create(0.05,this.hj&&this.isEnabled()&&!this.oo?1.1:1),a.CJ(p.ED),this.Lw(a))},vb:function(a){if(!(this.Jh(a)&&this.isEnabled()&&this.pa&&this.cS()))return!1;this.ao=!0;this.$k(!0);this.Je(p.yK);
return!0},Yc:function(a){this.vq&&this.ao&&!this.oo?(a=this.Jh(a))&&!this.hj?(this.$k(!0),this.Je(p.zK)):a&&this.hj?this.Je(p.BK):!a&&this.hj?(this.$k(!1),this.Je(p.AK)):a||this.hj||this.Je(p.CK):this.hj&&this.$k(!1)},gf:function(a){this.ao=!1;this.$k(!1);this.Jh(a)?this.Je(p.yD):this.Je(p.DK)},Ij:function(){this.ao=!1;this.$k(!1);this.Je(p.xK)},JB:function(a){var c=this.yv;return c?c[a]?c[a]:c[p.Nf]:""},VV:function(a,c){this.yv[c]=a||"";this.vi==c&&this.Kc()},MR:function(a){return(a=this.sr[a])?
a:(a=this.sr[p.Nf])?a:p.mb()},UV:function(a,c){this.sr[c]=a;this.vi==c&&this.Kc()},Tr:function(a){var c=this.zv;return c.hasOwnProperty(a)&&c[a]?c[a]:c[p.Nf]},VC:function(a,c){var d=this.zv;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.v(!1);a.X(0.5,0.5);this.m(a,1);this.vi==c&&this.Kc()},U$:function(a,c){var d=this.JB(c);d||(d="");this.VC(p.U.create(d,a,12),c)},O4:function(a){a=this.Tr(a);return null!=a&&a instanceof p.U?a.Te:""},V$:function(a,c){var d=this.Tr(c);null!=d&&
d instanceof p.U&&d.lJ(a)},P4:function(a){a=this.Tr(a);return null!=a&&a instanceof p.U?a.te:0},T$:function(a,c){var d=this.JB(c);d||(d="");this.VC(p.Qx.create(d,a),c)},N4:function(a){a=this.Tr(a);return null!=a&&a instanceof p.Qx?a.K2():""},bR:function(a){var c=this.xl;return c.hasOwnProperty(a)&&c[a]?c[a]:c[p.Nf]},Rw:function(a,c){var d=this.xl;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.v(!1);a.X(0.5,0.5);this.m(a);d=this.Xf;0===d.width&&0===d.height||a.Lj(d);this.vi===
c&&this.Kc()},f9:function(a,c){var d=p.Qe.MG(a);this.Rw(d,c)}});p.nl.create=function(a,c){var d;if(0==arguments.length)return(d=new p.nl)&&d.r()?d:null;1==arguments.length?(d=new p.nl,d.MH(arguments[0])):2==arguments.length?(d=new p.nl,d.nw(a,c)):3==arguments.length&&(d=new p.nl,d.tS(arguments[0],arguments[1],arguments[2]));return d};p.RGBA=function(a,c,d,e){this.h=a;this.g=c;this.f=d;this.D=e};p.Mx=function(a,c,d){this.fe=a;this.Ph=c;this.da=d};p.Gd={};p.Gd.mm=function(a,c,d,e){a=p.w.NG(a);if(!a)return null;a.q(d);a.X(e);c.m(a);return a};p.Gd.YK=function(a){var c=new p.Mx,d,e;d=a.h<a.g?a.h:a.g;d=d<a.f?d:a.f;e=a.h>a.g?a.h:a.g;e=e>a.f?e:a.f;c.da=e;d=e-d;if(0<e)c.Ph=d/e;else return c.Ph=0,c.fe=-1,c;c.fe=a.h>=e?(a.g-a.f)/d:a.g>=e?2+(a.f-a.h)/d:4+(a.h-a.g)/d;c.fe*=60;0>c.fe&&(c.fe+=360);return c};
p.Gd.ay=function(a){var c,d,e,f,g=new p.RGBA;g.D=1;if(0>=a.Ph){if(!a.fe)return g.h=a.da,g.g=a.da,g.f=a.da,g;g.h=0;g.g=0;g.f=0;return g}c=a.fe;360<=c&&(c=0);c/=60;f=0|c;e=c-f;c=a.da*(1-a.Ph);d=a.da*(1-a.Ph*e);e=a.da*(1-a.Ph*(1-e));switch(f){case 0:g.h=a.da;g.g=e;g.f=c;break;case 1:g.h=d;g.g=a.da;g.f=c;break;case 2:g.h=c;g.g=a.da;g.f=e;break;case 3:g.h=c;g.g=d;g.f=a.da;break;case 4:g.h=e;g.g=c;g.f=a.da;break;default:g.h=a.da,g.g=c,g.f=d}return g};p.Gd.vD=function(a,c){return p.Hw(a,c)};p.bL=p.sa.extend({pf:null,M:null,ou:null,ctor:function(a,c,d){this.M=a;this.pf=c;this.ou=d},N1:function(){return this.pf},LR:function(){return this.M},r2:function(){return this.ou},CS:function(a){if(this.M&&this.pf)if("string"==typeof this.pf)this.M[this.pf](a,this.ou);else this.pf.call(this.M,a,this.ou)}});p.aE=0;p.dE=1;p.bE=2;p.cE=3;p.ZD=4;p.fE=5;p.eE=6;p.EL=7;p.$D=8;
p.Qe=p.nb.extend({Xa:!0,qo:null,TE:null,sk:!1,Ye:null,wh:null,vh:null,Ng:null,mi:null,Xi:null,rh:null,bi:null,ai:null,ci:null,Zi:null,dc:!1,Tc:null,Xf:null,pi:0,ac:null,Hn:null,Du:0,Fu:0,Eu:0,Cu:0,XF:!1,zA:!1,eb:!1,qd:null,aK:function(){return this.eb},zf:function(a,c){this.qd.push({Dj:a,Eh:c})},Jd:function(){this.eb=!0;for(var a=this.qd,c=0,d=a.length;c<d;c++){var e=a[c];e.Dj.call(e.Eh,this)}a.length=0},Ev:function(){var a;a=this.Du;var c=this.Fu,d=this.Eu,e=this.qo,f=this.Cu;a=0===a&&0===c&&0===
d&&0===f?p.Pc():this.zA?p.rect(f,a,e.width-d-a,e.height-c-f):p.rect(a,c,e.width-a-d,e.height-c-f);this.VU(a)},tP:function(){if(this.wh&&this.Ng&&this.ci&&this.bi&&this.Xi){var a=this.la,c=this.wh,d=this.Ng,e=this.ci,f=this.bi,g=this.Xi,h=this.Xi.e(),k=c.e(),l=f.e(),m=a.xa-k.width-d.e().width,a=a.ka-k.height-e.e().height,m=m/h.width,a=a/h.height,k=h.width*m,n=h.height*a,s=l.width,l=l.height;if(!p.wa.Ac){var q=Math.round(k);k!=q&&(k=q,m=k/h.width);q=Math.round(n);n!=q&&(n=q,a=n/h.height)}g.rp(m);g.Vm(a);
var h=this.mi,q=this.rh,v=this.vh,z=this.ai,B=p.a(0,0);f.X(B);e.X(B);c.X(B);d.X(B);h.X(B);q.X(B);v.X(B);z.X(B);g.X(B);f.q(0,0);e.q(s+k,0);c.q(0,l+n);d.q(s+k,l+n);h.q(0,l);h.Vm(a);q.q(s+k,l);q.Vm(a);z.q(s,0);z.rp(m);v.q(s,l+n);v.rp(m);g.q(s,l)}},ctor:function(){p.nb.prototype.ctor.call(this);this.qo=p.Pc();this.TE=p.Pc();this.Zi=p.mb();this.Tc=new p.Wj(0,0);this.Xf=new p.Wj(0,0);this.ac=p.mb();this.pi=255;this.Hn=p.Pc();this.qd=[]},uR:function(){return this.Tc},wR:function(){return this.Xf},Lj:function(a){this.$(a);
this.Xf=a},Ai:function(){return this.pi},Z:function(a){if(this.Ye){this.pi=a;for(var c=this.Ye.p,d=0;d<c.length;d++){var e=c[d];e&&e.Xa&&e.Z(a)}}},fd:function(){return this.ac},k:function(a){if(this.Ye){this.ac=a;for(var c=this.Ye.p,d=0;d<c.length;d++){var e=c[d];e&&e.Xa&&e.k(a)}}},e2:function(){return this.Hn},VU:function(a){if(this.Ye){var c=this.la,d=c.xa,c=c.ka;this.Ap(this.Ye,this.qo,this.zA,a);this.$(d,c)}},Z2:function(){return this.Du},L9:function(a){this.Du=a;this.Ev()},b3:function(){return this.Fu},
N9:function(a){this.Fu=a;this.Ev()},a3:function(){return this.Eu},M9:function(a){this.Eu=a;this.Ev()},Y2:function(){return this.Cu},K9:function(a){this.Cu=a;this.Ev()},$:function(a,c){2===arguments.length?p.H.prototype.$.call(this,a,c):p.H.prototype.$.call(this,a);this.sk=!0},ia:function(a){this.sk&&(this.tP(),this.sk=!1);p.nb.prototype.ia.call(this,a)},r:function(){return this.lw(null,p.Pc(),!1,p.Pc())},lw:function(a,c,d,e){3===arguments.length&&(e=d,d=!1);a&&this.Ap(a,c,d,e);this.X(0.5,0.5);return this.sk=
!0},Di:function(a,c,d){a instanceof p.Pf?(d=a=c,c=p.Pc()):(c=c||p.Pc(),d=d||p.Pc());if(!a)throw"cc.Scale9Sprite.initWithFile(): file should be non-null";var e=p.La.d().jx(a);if(!e){var e=p.La.d().Ab(a),f=e.kg();(this.eb=f)||e.zf(function(a){var c=this.Xf,c=p.size(c.width,c.height);a=a.e();this.Ap(this.Ye,p.rect(0,0,a.width,a.height),!1,this.Hn);this.Lj(c);this.sk=!0;this.Jd()},this)}a=p.hb.create(a,9);return this.lw(a,c,!1,d)},he:function(a,c){if(!a||!a.T())throw"cc.Scale9Sprite.initWithSpriteFrame(): spriteFrame should be non-null and its texture should be non-null";
c=c||p.Pc();var d=a.eb;(this.eb=d)||a.zf(function(a){var c=this.Xf,c=p.size(c.width,c.height);this.Ap(this.Ye,a.ae(),p.wa.Ac?a.Uc:!1,this.Hn);this.Lj(c);this.sk=!0;this.Jd()},this);d=p.hb.wc(a.T(),9);return this.lw(d,a.ae(),p.wa.Ac?a.Uc:!1,c)},RH:function(a,c){if(!a)throw"cc.Scale9Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";c=c||p.Pc();var d=p.Qf.d().Vg(a);return null==d?(p.log("cc.Scale9Sprite.initWithSpriteFrameName(): can't find the sprite frame by spriteFrameName"),!1):
this.he(d,c)},R8:function(a){var c=new p.Qe;return c&&c.lw(this.Ye,this.qo,!1,a)?c:null},kf:function(a){if(this.Ye){this.dc=a;var c=this.Ye.p;if(c)for(var d=0,e=c.length;d<e;d++)c[d].kf(a)}},Lk:function(){return this.dc},Ap:function(a,c,d,e){var f=this.Ai(),g=this.fd();c=p.rect(c.x,c.y,c.width,c.height);this.Ie(!0);this.Ye!=a&&(this.Ye=a);a=a.T();var h=a.kg();if(this.eb=h){a=this.Ye;a.Ie(!0);h=this.Hn;h.x=e.x;h.y=e.y;h.width=e.width;h.height=e.height;this.zA=d;h=a.T();p.Zq(c)&&(c=h.e(),c=p.rect(0,
0,c.width,c.height));var k=this.qo=c;k.x=c.x;k.y=c.y;k.width=c.width;k.height=c.height;var l=c.Qa;this.Tc.width=l.width;this.Tc.height=l.height;k=this.Xf;0===k.width&&0===k.height&&(k.width=l.width,k.height=l.height);k=this.TE;e&&(k.x=e.x,k.y=e.y,k.width=e.width,k.height=e.height);var m=l.width;e=l.height;p.Zq(k)&&(k.x=m/3,k.y=e/3,k.width=m/3,k.height=e/3);var n=k.x,s=k.width,q=m-(n+s),v=k.y,z=k.height,B=e-(v+z),E=0,M=0;e=p.rect(E,M,n,v);var E=E+n,k=p.rect(E,M,s,v),m=p.rect(E+s,M,q,v),E=0,M=0+v,l=
p.rect(E,M,n,z),E=E+n,aa=p.rect(E,M,s,z),E=E+s,J=p.rect(E,M,q,z),E=0,M=0+v+z,v=p.rect(E,M,n,B),E=E+n,n=p.rect(E,M,s,B),E=E+s,s=p.rect(E,M,q,B),q={D:1,f:0,ra:0,Aa:1,Ma:0,Na:0};if(d){d=aa;var B=s,E=v,M=m,z=e,O=J,N=l,ia=n,W=k,q=p.sx(q,c.height+c.x,c.y),q=p.wK(q),aa=p.xg(aa,q),s=p.xg(s,q),v=p.xg(v,q),m=p.xg(m,q);e=p.xg(e,q);J=p.xg(J,q);l=p.xg(l,q);n=p.xg(n,q);k=p.xg(k,q);d.x=aa.x;d.y=aa.y;B.x=s.x;B.y=s.y;E.x=v.x;E.y=v.y;M.x=m.x;M.y=m.y;z.x=e.x;z.y=e.y;O.x=J.x;O.y=J.y;N.x=l.x;N.y=l.y;ia.x=n.x;ia.y=n.y;
W.x=k.x;W.y=k.y;this.Xi=new p.w;this.Xi.Ba(h,d,!0);a.m(this.Xi,0,p.aE);this.vh=new p.w;this.vh.Ba(h,W,!0);a.m(this.vh,1,p.dE);this.ai=new p.w;this.ai.Ba(h,ia,!0);a.m(this.ai,1,p.ZD);this.mi=new p.w;this.mi.Ba(h,N,!0);a.m(this.mi,1,p.bE);this.rh=new p.w;this.rh.Ba(h,O,!0);a.m(this.rh,1,p.cE);this.wh=new p.w;this.wh.Ba(h,z,!0);a.m(this.wh,2,p.eE);this.Ng=new p.w;this.Ng.Ba(h,M,!0);a.m(this.Ng,2,p.fE);this.bi=new p.w;this.bi.Ba(h,E,!0);a.m(this.bi,2,p.$D);this.ci=new p.w;this.ci.Ba(h,B,!0)}else q=p.sx(q,
c.x,c.y),p.Xh(aa,q),p.Xh(s,q),p.Xh(v,q),p.Xh(m,q),p.Xh(e,q),p.Xh(J,q),p.Xh(l,q),p.Xh(n,q),p.Xh(k,q),this.Xi=new p.w,this.Xi.Ba(h,aa),a.m(this.Xi,0,p.aE),this.vh=new p.w,this.vh.Ba(h,k),a.m(this.vh,1,p.dE),this.ai=new p.w,this.ai.Ba(h,n),a.m(this.ai,1,p.ZD),this.mi=new p.w,this.mi.Ba(h,l),a.m(this.mi,1,p.bE),this.rh=new p.w,this.rh.Ba(h,J),a.m(this.rh,1,p.cE),this.wh=new p.w,this.wh.Ba(h,e),a.m(this.wh,2,p.eE),this.Ng=new p.w,this.Ng.Ba(h,m),a.m(this.Ng,2,p.fE),this.bi=new p.w,this.bi.Ba(h,v),a.m(this.bi,
2,p.$D),this.ci=new p.w,this.ci.Ba(h,s);a.m(this.ci,2,p.EL);this.$(c.Qa);this.m(a);this.XF&&(this.Z(f),255===g.h&&255===g.g&&255===g.f||this.k(g));return this.XF=!0}a.zf(function(){this.sk=!0;this.Jd()},this)},lf:function(a){var c=p.hb.wc(a.T(),9),d=a.eb;(this.eb=d)||a.zf(function(a){var c=this.Xf,c=p.size(c.width,c.height);this.Ap(this.Ye,a.ae(),p.wa.Ac?a.Uc:!1,this.Hn);this.Lj(c);this.sk=!0;this.Jd()},this);this.Ap(c,a.ae(),p.wa.Ac?a.Uc:!1,p.Pc());this.Cu=this.Eu=this.Fu=this.Du=0}});
p.Qe.create=function(a,c,d){var e;if(2===arguments.length)if("string"==typeof a){if((e=new p.Qe)&&e.Di(a,c))return e}else{if(a instanceof p.Pf&&(e=new p.Qe)&&e.Di(a,d))return e}else if(3===arguments.length){if((e=new p.Qe)&&e.Di(a,c,d))return e}else if(1===arguments.length){if((e=new p.Qe)&&e.Di(a))return e}else if(0===arguments.length&&(e=new p.Qe)&&e.r())return e;return null};p.Qe.MG=function(a,c){var d=new p.Qe;return d&&d.he(a,c)?d:null};
p.Qe.NG=function(a,c){if(!a)throw"cc.Scale9Sprite.createWithSpriteFrameName(): spriteFrameName should be non-null";var d=new p.Qe;return d&&d.RH(a,c)?d:null};p.Ht=p.Bc.extend({});p.Ht.pba=function(a){var c=new p.Ht;c.r();c.$(0,a);return c};p.Ht.u5=function(a){var c=new p.Ht;c.r();c.$(a,0);return c};
p.tt=p.Bc.extend({Xa:!0,ac:null,pi:0,ctor:function(){},fd:function(){return this.ac},k:function(a){this.ac=a;if(this.p&&0<this.p.length)for(var c=0;c<this.p.length;c++)this.p[c]&&this.p[c].Xa&&this.p[c].k(a)},Ai:function(){return this.pi},Z:function(a){this.pi=a;if(this.p&&0<this.p.length)for(var c=0;c<this.p.length;c++)this.p[c]&&this.p[c].Xa&&this.p[c].Z(a)},mS:function(a,c){if(this.r()){var d=p.P.d().Hb;this.Ci(!0);this.X(0.5,0.5);this.$(d);this.q(d.width/2,d.height/2);d=0;if(a){this.m(a,d);for(var e=
0;e<c.length;e++)c[e]&&(d++,this.m(c[e],d))}return!0}return!1},Z_:function(){this.IP(p.HK)},IP:function(a){var c=-a,d;if(this.p&&0<this.p.length)for(d=0;d<this.p.length;d++)this.p[d]&&(c+=this.p[d].e().height*this.p[d].qa+a);var e=0,f=c/2;if(this.p&&0<this.p.length)for(d=0;d<this.p.length;d++)this.p[d]&&(e=Math.max(e,this.p[d].e().width),this.p[d].q(0,f-this.p[d].e().height*this.p[d].qa/2),f-=this.p[d].e().height*this.p[d].qa+a);this.$(e,c)},W_:function(){this.HP(p.HK)},HP:function(a){var c=-a,d;
if(this.p&&0<this.p.length)for(d=0;d<this.p.length;d++)this.p[d]&&(c+=this.p[d].e().width*this.p[d].ma+a);var e=0,f=-c/2;if(this.p&&0<this.p.length)for(d=0;d<this.p.length;d++)this.p[d]&&(e=Math.max(e,this.p[d].e().height),this.p[d].q(f+this.p[d].e().width*this.p[d].ma/2,0),f+=this.p[d].e().width*this.p[d].ma+a);this.$(c,e)},X_:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=-5,f=0,g=0,h=0,k,l;if(this.p&&0<this.p.length)for(d=0;d<this.p.length;d++)this.p[d]&&(f>=c.length?
p.log("cc.MenuPassive.alignItemsInColumns(): invalid row index"):(k=c[f])?(l=this.p[d].e().height,g=0|(g>=l||null==l?g:l),++h,h>=k&&(e+=g+5,g=h=0,++f)):p.log("cc.MenuPassive.alignItemsInColumns(): can not have zero columns on a row"));var m=p.P.d().Hb,n=k=g=f=0,s=0,e=e/2;if(this.p&&0<this.p.length)for(d=0;d<this.p.length;d++)this.p[d]&&(0==k&&(k=c[f],s=n=m.width/(1+k)),l=this.p[d].e().height,g=0|(g>=l||null==l?g:l),this.p[d].q(s-m.width/2,e-this.p[d].e().height/2),s+=n,++h,h>=k&&(e-=g+5,g=k=h=0,++f))},
Y_:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=[],f=[],g=-10,h=-5,k=0,l=0,m=0,n,s;if(this.p&&0<this.p.length)for(d=0;d<this.p.length;d++)this.p[d]&&(k>=c.length?p.log("cc.MenuPassive.alignItemsInRows(): invalid row index"):(n=c[k])?(s=this.p[d].e().width,l=0|(l>=s||null==s?l:s),h+=0|this.p[d].e().height+5,++m,m>=n&&(e.push(l),f.push(h),g+=l+10,l=m=0,h=-5,++k)):p.log("cc.MenuPassive.alignItemsInColumns(): can't have zero rows on a column"));h=p.P.d().Hb;l=k=0;n=
null;var g=-g/2,q=0;if(this.p&&0<this.p.length)for(d=0;d<this.p.length;d++)this.p[d]&&(null==n&&(n=c[k],q=f[k]),s=this.p[d].e().width,l=0|(l>=s||null==s?l:s),this.p[d].q(g+e[k]/2,q-h.height/2),q-=this.p[d].e().height+10,++m,m>=n&&(g+=l+5,l=n=m=0,++k))},kf:function(){},Lk:function(){return!1}});p.tt.create=function(a){0==arguments.length&&(a=null);for(var c=[],d=1;d<arguments.length;d++)c.push(arguments[d]);return(d=new p.tt)&&d.mS(a,c)?d:null};p.tt.T0=function(a){return p.tt.create(a,null)};p.Ex=p.Jb.extend({mA:0,eu:0,qc:null,XN:null,VF:null,Mg:null,ic:null,Tf:0,Wi:0,o4:function(){return this.mA},a2:function(){return this.eu},lH:function(){return this.qc},O3:function(){return this.eu},u4:function(){return this.VF},HR:function(){return this.Mg},JR:function(){return this.ic},ZB:function(a,c){return p.Jb.prototype.r.call(this)?(this.Tb(!0),this.qc=p.Gd.mm("colourPickerBackground.png",a,c,p.a(0,0)),this.XN=p.Gd.mm("colourPickerOverlay.png",a,c,p.a(0,0)),this.VF=p.Gd.mm("colourPickerShadow.png",
a,c,p.a(0,0)),this.Mg=p.Gd.mm("colourPicker.png",a,c,p.a(0.5,0.5)),this.ic=c,this.Tf=35,this.Wi=this.qc.e().width/2,!0):!1},jf:function(a){p.Jb.prototype.jf.call(this,a);this.Mg&&this.Mg.Z(a?255:128)},nK:function(a){var c=new p.Mx;c.Ph=1;c.fe=a.fe;c.da=1;a=p.Gd.ay(c);this.qc.k(p.Nv(0|255*a.h,0|255*a.g,0|255*a.f))},AW:function(a){a=p.a(this.ic.x+this.Tf+this.Wi*(1-a.Ph),this.ic.y+this.Tf+this.Wi*a.da);this.Hv(a)},Hv:function(a){var c=this.ic.x+0.5*this.qc.Sa().width,d=this.ic.y+0.5*this.qc.Sa().height,
e=a.x-c,f=a.y-d,g=Math.sqrt(e*e+f*f),e=Math.atan2(f,e),f=0.5*this.qc.Sa().width;g>f&&(a.x=c+f*Math.cos(e),a.y=d+f*Math.sin(e));this.Mg.q(a);a.x<this.ic.x+this.Tf?a.x=this.ic.x+this.Tf:a.x>this.ic.x+this.Tf+this.Wi-1&&(a.x=this.ic.x+this.Tf+this.Wi-1);a.y<this.ic.y+this.Tf?a.y=this.ic.y+this.Tf:a.y>this.ic.y+this.Tf+this.Wi&&(a.y=this.ic.y+this.Tf+this.Wi);this.mA=1-Math.abs((this.ic.x+this.Tf-a.x)/this.Wi);this.eu=Math.abs((this.ic.y+this.Tf-a.y)/this.Wi)},eq:function(a){var c=this.ic.x+0.5*this.qc.Sa().width,
d=this.ic.y+0.5*this.qc.Sa().height,c=a.x-c,d=a.y-d;return Math.sqrt(c*c+d*d)<=0.5*this.qc.Sa().width?(this.Hv(a),this.Je(p.Uh),!0):!1},vb:function(a){if(!this.isEnabled()||!this.pa)return!1;a=this.Bi(a);return this.eq(a)},Yc:function(a){a=this.Bi(a);this.eq(a)}});p.Ex.create=function(a,c){var d=new p.Ex;d.ZB(a,c);return d};p.Dx=p.Jb.extend({Xn:0,Gq:0,qc:null,Mg:null,ic:null,T2:function(){return this.Xn},QC:function(a){this.Xn=a;this.mV(this.Xn/360)},U2:function(){return this.Gq},mV:function(a){this.Gq=a;this.Xn=360*this.Gq;a=this.qc.Sa();var c=0.5*a.width-15,d=p.Oi(360*this.Gq-180);this.Mg.q(this.ic.x+0.5*a.width+c*Math.cos(d),this.ic.y+0.5*a.height+c*Math.sin(d))},jf:function(a){p.Jb.prototype.jf.call(this,a);this.Mg&&this.Mg.Z(a?255:128)},lH:function(){return this.qc},HR:function(){return this.Mg},JR:function(){return this.ic},
ZB:function(a,c){return p.Jb.prototype.r.call(this)?(this.Tb(!0),this.qc=p.Gd.mm("huePickerBackground.png",a,c,p.a(0,0)),this.Mg=p.Gd.mm("colourPicker.png",a,c,p.a(0.5,0.5)),this.Mg.q(c.x,c.y+0.5*this.qc.Sa().height),this.ic=c,this.Gq=this.Xn=0,!0):!1},Hv:function(a){var c=this.qc.Sa();this.QC(p.Zx(Math.atan2(a.y-(this.ic.y+0.5*c.height),a.x-(this.ic.x+0.5*c.width)))+180);this.Je(p.Uh)},eq:function(a){var c=Math.sqrt(Math.pow(a.x+10,2)+Math.pow(a.y,2));return 80>c&&59<c?(this.Hv(a),!0):!1},vb:function(a){if(!this.isEnabled()||
!this.pa)return!1;a=this.Bi(a);return this.eq(a)},Yc:function(a){a=this.Bi(a);this.eq(a)}});p.Dx.create=function(a,c){var d=new p.Dx;d.ZB(a,c);return d};p.FD=p.Jb.extend({Cg:null,dk:null,Hl:null,qc:null,jS:function(a){this.Cg.fe=a.Xn;a=p.Gd.ay(this.Cg);p.Jb.prototype.k.call(this,p.Nv(0|255*a.h,0|255*a.g,0|255*a.f));this.Je(p.Uh);this.qP()},hQ:function(a){this.Cg.Ph=a.mA;this.Cg.da=a.eu;a=p.Gd.ay(this.Cg);p.Jb.prototype.k.call(this,p.Nv(0|255*a.h,0|255*a.g,0|255*a.f));this.Je(p.Uh)},k:function(a){p.Jb.prototype.k.call(this,a);var c=new p.RGBA;c.h=a.h/255;c.g=a.g/255;c.f=a.f/255;c.D=1;this.Cg=p.Gd.YK(c);this.lG()},lH:function(){return this.qc},r:function(){if(p.Jb.prototype.r.call(this)){this.Tb(!0);
p.Qf.d().CG(ca.tD);var a=p.hb.create(ca.uD);this.m(a);this.Cg=new p.Mx(0,0,0);this.qc=p.Gd.mm("menuColourPanelBackground.png",a,p.Qi(),p.a(0.5,0.5));var c=p.jd(this.qc.n,p.a(this.qc.e().width/2,this.qc.e().height/2));this.Hl=p.Dx.create(a,p.a(c.x+8,c.y+8));this.dk=p.Ex.create(a,p.a(c.x+28,c.y+28));this.Hl.DG(this,this.jS,p.Uh);this.dk.DG(this,this.hQ,p.Uh);this.lG();this.m(this.Hl);this.m(this.dk);this.$(this.qc.e());return!0}return!1},qP:function(){this.Hl.QC(this.Cg.fe);this.dk.nK(this.Cg)},lG:function(){this.Hl.QC(this.Cg.fe);
this.dk.nK(this.Cg);this.dk.AW(this.Cg)},jf:function(a){p.Jb.prototype.jf.call(this,a);null!=this.Hl&&this.Hl.jf(a);this.dk&&this.dk.jf(a)},vb:function(){return!1}});p.FD.create=function(){var a=new p.FD;a.r();return a};ca=ca||{};ca.tD=ca.tD||"res/extensions/CCControlColourPickerSpriteSheet.plist";ca.uD=ca.uD||"res/extensions/CCControlColourPickerSpriteSheet.png";p.mE=24;p.gZ=8;
p.HD=p.Jb.extend({Ec:0,Wa:0,sb:0,Vu:0,Tu:0,tb:null,tk:null,Id:null,CH:function(){return this.Ec},Ke:function(a){a=Math.max(a,this.Wa);this.Ec=a=Math.min(a,this.sb);this.Kc();this.Je(p.Uh)},qR:function(){return this.Wa},tJ:function(a){this.Vu=this.Wa=a;this.Wa>=this.sb&&(this.sb=this.Wa+1);this.Ke(this.Ec)},pR:function(){return this.sb},rJ:function(a){this.Tu=this.sb=a;this.sb<=this.Wa&&(this.Wa=this.sb-1);this.Ke(this.Ec)},Jh:function(a){a=a.Q;a=this.getParent().Ra(a);var c=this.Sa();c.Qa.width+=
this.tb.e().width;c.Sc.x-=this.tb.e().width/2;return p.Cb(c,a)},zm:function(a){a=a.Q;a=this.Ra(a);0>a.x?a.x=0:a.x>this.Id.e().width&&(a.x=this.Id.e().width);return a},r3:function(){return this.Vu},X9:function(a){this.Vu=a},o3:function(){return this.Tu},W9:function(a){this.Tu=a},zH:function(){return this.tb},Y3:function(){return this.tk},U1:function(){return this.Id},rS:function(a,c,d){return p.Jb.prototype.r.call(this)?(this.Ci(!1),this.Tb(!0),this.Id=a,this.tk=c,this.tb=d,a=p.Gd.vD(a.Sa(),d.Sa()),
this.$(a.width,a.height),this.Id.X(0.5,0.5),this.Id.q(a.width/2,a.height/2),this.m(this.Id),this.tk.X(0,0.5),this.tk.q(0,a.height/2),this.m(this.tk),this.tb.q(0,a.height/2),this.m(this.tb),this.Wa=0,this.sb=1,this.Ke(this.Wa),!0):!1},jf:function(a){p.Jb.prototype.jf.call(this,a);this.tb&&this.tb.Z(a?255:128)},kW:function(a){this.sp(!0);this.tb.k(p.Uo());this.Ke(this.oD(a))},mW:function(a){this.Ke(this.oD(a))},lW:function(){this.oo&&this.Ke(this.oD(this.tb.n));this.tb.k(p.mb());this.sp(!1)},U4:function(a){a=
a.Q;a=this.Ra(a);0>a.x?a.x=0:a.x>this.Id.e().width+p.mE&&(a.x=this.Id.e().width+p.mE);return a},vb:function(a){if(!this.Jh(a)||!this.isEnabled()||!this.pa)return!1;a=this.zm(a);this.kW(a);return!0},Yc:function(a){a=this.zm(a);this.mW(a)},gf:function(){this.lW(p.Qi())},Kc:function(){this.tb.Db((this.Ec-this.Wa)/(this.sb-this.Wa)*this.Id.e().width);var a=this.tk.IB(),a=p.rect(a.x,a.y,this.tb.n.C,a.height);this.tk.lb(a,this.tk.Ic,a.Qa)},oD:function(a){a=a.x/this.Id.e().width;return Math.max(Math.min(this.Wa+
a*(this.sb-this.Wa),this.Tu),this.Vu)}});p.HD.create=function(a,c,d){"string"==typeof a&&(a=p.w.create(a),c=p.w.create(c),d=p.w.create(d));var e=new p.HD;e.rS(a,c,d);return e};p.JD=p.Jb.extend({Jc:null,jF:0,Tq:!1,ko:!1,ctor:function(){p.Jb.prototype.ctor.call(this)},WB:function(a,c,d,e,f,g){if(!a)throw"cc.ControlSwitch.initWithMaskSprite(): maskSprite should be non-null.";if(!c)throw"cc.ControlSwitch.initWithMaskSprite(): onSprite should be non-null.";if(!d)throw"cc.ControlSwitch.initWithMaskSprite(): offSprite should be non-null.";if(!e)throw"cc.ControlSwitch.initWithMaskSprite(): thumbSprite should be non-null.";return this.r()?(this.Tb(!0),this.ko=!0,this.Jc=new p.GK,
this.Jc.WB(a,c,d,e,f,g),this.Jc.q(this.Jc.e().width/2,this.Jc.e().height/2),this.m(this.Jc),this.Ci(!1),this.X(0.5,0.5),this.$(this.Jc.e()),!0):!1},Vw:function(a,c){var d=(this.ko=a)?this.Jc.pk:this.Jc.Ll;c?this.Jc.Lw(p.fn.create(0.2,"sliderXPosition",this.Jc.qj,d)):this.Jc.SC(d);this.Je(p.Uh)},g6:function(){return this.ko},r5:function(){return this.Tq},jf:function(a){this.vq=a;this.Jc.Z(a?255:128)},zm:function(a){a=a.Q;return a=this.Ra(a)},vb:function(a){if(!this.Jh(a)||!this.isEnabled()||!this.pa)return!1;
this.Tq=!1;this.jF=this.zm(a).x-this.Jc.qj;this.Jc.tb.k(p.Uo());this.Jc.Kc();return!0},Yc:function(a){a=this.zm(a);a=p.a(a.x-this.jF,0);this.Tq=!0;this.Jc.SC(a.x)},gf:function(a){a=this.zm(a);this.Jc.tb.k(p.mb());this.Tq?this.Vw(!(a.x<this.Jc.e().width/2),!0):this.Vw(!this.ko,!0)},Ij:function(a){a=this.zm(a);this.Jc.tb.k(p.mb());this.Tq?this.Vw(!(a.x<this.Jc.e().width/2),!0):this.Vw(!this.ko,!0)}});p.JD.create=function(a,c,d,e,f,g){var h=new p.JD;return h&&h.WB(a,c,d,e,f,g)?h:null};
p.GK=p.w.extend({qj:0,pk:0,Ll:0,aG:0,Kz:0,Lz:null,Gg:null,oi:null,tb:null,Ml:null,Kl:null,Nn:null,ec:null,cu:null,ctor:function(){p.w.prototype.ctor.call(this);this.Kz=this.Ll=this.pk=this.qj=0;this.Lz=p.size(0,0);this.Kl=this.Ml=this.tb=this.oi=this.Gg=null},WB:function(a,c,d,e,f,g){return p.w.prototype.Ba.call(this,a.T())?(this.pk=0,this.Ll=-c.e().width+e.e().width/2,this.qj=this.pk,this.DV(c),this.BV(d),this.UC(e),this.CV(f),this.AV(g),this.ec=a,a=this.Lz=this.ec.e(),this.ec.q(0,0),this.Nn=p.ab.create(),
this.Nn.X(0.5,0.5),this.Nn.q(a.width/2,a.height/2),this.Nn.TC(this.ec),this.cu=p.ob.create(a.width,a.height),this.Nn.m(this.cu.cb),this.m(this.Nn),this.m(this.tb),this.Kc(),!0):!1},Kc:function(){this.Gg.q(this.Gg.e().width/2+this.qj,this.Gg.e().height/2);this.oi.q(this.Gg.e().width+this.oi.e().width/2+this.qj,this.oi.e().height/2);this.Ml&&this.Ml.q(this.Gg.n.x-this.tb.e().width/6,this.Gg.e().height/2);this.Kl&&this.Kl.q(this.oi.n.x+this.tb.e().width/6,this.oi.e().height/2);this.tb.q(this.Gg.e().width+
this.qj,this.Lz.height/2);this.cu.yj();this.Gg.ia();this.oi.ia();this.Ml&&this.Ml.ia();this.Kl&&this.Kl.ia();this.cu.end()},SC:function(a){a<=this.Ll?a=this.Ll:a>=this.pk&&(a=this.pk);this.qj=a;this.Kc()},x4:function(){return this.qj},v7:function(){return this.Gg.e().width},t7:function(){return this.oi.e().height},lD:function(a,c){p.log("key \x3d "+c+", value \x3d "+a);this.SC(a)},g$:function(a){this.pk=a},I3:function(){return this.pk},d$:function(a){this.Ll=a},C3:function(){return this.Ll},U9:function(a){this.ec.aa(a)},
i3:function(){return this.ec.T()},R$:function(a){this.aG=a},K4:function(){return this.aG},T9:function(a){this.Kz=a},h3:function(){return this.Kz},DV:function(a){this.Gg=a},J3:function(){return this.Gg},BV:function(a){this.oi=a},D3:function(){return this.oi},UC:function(a){this.tb=a},zH:function(){return this.tb},CV:function(a){this.Ml=a},H3:function(){return this.Ml},AV:function(a){this.Kl=a},B3:function(){return this.Kl}});p.CD=0;p.DD=1;p.Ps=2;p.Dp=p.i(55,55,55);p.zx=p.i(147,147,147);p.BD="CourierNewPSMT";p.rD=0.15;p.uK=12;
p.ID=p.Jb.extend({rd:null,Ve:null,ok:null,rk:null,Ec:0,hq:!1,zn:!1,im:!1,Wa:0,sb:0,Yl:0,vr:!1,dm:p.Ps,aq:0,ctor:function(){p.Jb.prototype.ctor.call(this);this.rk=this.ok=this.Ve=this.rd=null;this.Ec=0;this.im=this.zn=this.hq=!1;this.Yl=this.sb=this.Wa=0;this.vr=!1;this.dm=p.Ps;this.aq=0},oS:function(a,c){if(!a)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Minus sprite should be non-null.";if(!c)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Plus sprite should be non-null.";
if(this.r()){this.Tb(!0);this.hq=this.zn=!0;this.Wa=0;this.sb=100;this.Ec=0;this.Yl=1;this.im=!1;this.Ci(!1);this.wV(a);this.rd.q(a.e().width/2,a.e().height/2);this.m(this.rd);this.vV(p.U.create("-",p.BD,40,p.size(40,40),p.Ti,p.Tt));this.ok.k(p.zx);this.ok.q(this.rd.e().width/2,this.rd.e().height/2);this.rd.m(this.ok);this.HV(c);this.Ve.q(a.e().width+c.e().width/2,a.e().height/2);this.m(this.Ve);this.GV(p.U.create("+",p.BD,40,p.size(40,40),p.Ti,p.Tt));this.rk.k(p.Dp);this.rk.q(this.Ve.e().width/2,
this.Ve.e().height/2);this.Ve.m(this.rk);var d=p.Gd.vD(this.rd.Sa(),this.Ve.Sa());this.$(this.rd.e().width+this.Ve.e().height,d.Qa.height);return!0}return!1},gaa:function(a){if(this.im=a)this.ok.k(p.Dp),this.rk.k(p.Dp);this.Ke(this.Ec)},tJ:function(a){if(a>=this.sb)throw"cc.ControlStepper.setMinimumValue(): minimumValue should be numerically less than maximumValue.";this.Wa=a;this.Ke(this.Ec)},rJ:function(a){if(a<=this.Wa)throw"cc.ControlStepper.setMaximumValue(): maximumValue should be numerically less than maximumValue.";
this.sb=a;this.Ke(this.Ec)},Ke:function(a){this.YC(a,!0)},CH:function(){return this.Ec},L$:function(a){if(0>=a)throw"cc.ControlStepper.setMaximumValue(): stepValue should be numerically greater than 0.";this.Yl=a},S5:function(){return this.hq},YC:function(a,c){a<this.Wa?a=this.im?this.sb:this.Wa:a>this.sb&&(a=this.im?this.Wa:this.sb);this.Ec=a;this.im||(this.ok.k(a==this.Wa?p.zx:p.Dp),this.rk.k(a==this.sb?p.zx:p.Dp));c&&this.Je(p.Uh)},UJ:function(){this.aq=-1;this.zc(this.update,p.rD,p.ql,3*p.rD)},
WJ:function(){this.Cd(this.update)},update:function(){this.aq++;this.aq<p.uK&&0!=this.aq%3||(this.dm==p.CD?this.YC(this.Ec-this.Yl,this.hq):this.dm==p.DD&&this.YC(this.Ec+this.Yl,this.hq))},gK:function(a){a.x<this.rd.e().width&&this.Ec>this.Wa?(this.dm=p.CD,this.rd.k(p.Uo()),this.Ve.k(p.mb())):a.x>=this.rd.e().width&&this.Ec<this.sb?(this.dm=p.DD,this.rd.k(p.mb()),this.Ve.k(p.Uo())):(this.dm=p.Ps,this.rd.k(p.mb()),this.Ve.k(p.mb()))},vb:function(a){if(!this.Jh(a)||!this.isEnabled()||!this.pa)return!1;
a=this.Bi(a);this.gK(a);this.vr=!0;this.zn&&this.UJ();return!0},Yc:function(a){this.Jh(a)?(a=this.Bi(a),this.gK(a),this.vr||(this.vr=!0,this.zn&&this.UJ())):(this.vr=!1,this.dm=p.Ps,this.rd.k(p.mb()),this.Ve.k(p.mb()),this.zn&&this.WJ())},gf:function(a){this.rd.k(p.mb());this.Ve.k(p.mb());this.zn&&this.WJ();this.Jh(a)&&(a=this.Bi(a),this.Ke(this.Ec+(a.x<this.rd.e().width?0-this.Yl:this.Yl)))},wV:function(a){this.rd=a},t3:function(){return this.rd},HV:function(a){this.Ve=a},T3:function(){return this.Ve},
vV:function(a){this.ok=a},s3:function(){return this.ok},GV:function(a){this.rk=a},S3:function(){return this.rk}});p.ID.create=function(a,c){var d=new p.ID;return d&&d.oS(a,c)?d:null};p.GD=p.Jb.extend({tb:null,mo:null,lo:null,Ec:0,Wa:0,sb:1,uS:function(a,c,d){return this.r()?(this.Tb(!0),this.LV(c),this.UC(d),this.tb.q(c.n),this.m(d,2),this.m(c,1),this.m(a),this.$(a.e()),this.Wa=0,this.sb=1,this.Ke(this.Wa),!0):!1},jf:function(a){this.jf(a);this.tb!=NULL&&this.tb.Z(a?255:128)},Ke:function(a){a<this.Wa&&(a=this.Wa);a>this.sb&&(a=this.sb);this.Ec=a;a=(a-this.Wa)/(this.sb-this.Wa);this.mo.vs(100*a);this.tb.Yw(360*a);this.Je(p.Uh)},CH:function(){return this.Ec},tJ:function(a){this.Wa=
a;this.Wa>=this.sb&&(this.sb=this.Wa+1);this.Ke(this.sb)},qR:function(){return this.Wa},rJ:function(a){this.sb=a;this.sb<=this.Wa&&(this.Wa=this.sb-1);this.Ke(this.Wa)},pR:function(){return this.sb},Jh:function(a){a=this.Bi(a);return this.HQ(this.mo.n,a)<Math.min(this.e().width/2,this.e().height/2)},vb:function(a){if(!this.Jh(a)||!this.isEnabled()||!this.pa)return!1;this.lo=this.Bi(a);this.HT(this.lo);return!0},Yc:function(a){a=this.Bi(a);this.JT(a)},gf:function(){this.IT(p.a(0,0))},HQ:function(a,
c){var d=a.x-c.x,e=a.y-c.y;return Math.sqrt(d*d+e*e)},KP:function(a,c,d,e){return 180*(Math.atan2(c.x-a.x,c.y-a.y)-Math.atan2(e.x-d.x,e.y-d.y))/Math.PI},HT:function(){this.sp(!0);this.tb.k(p.Uo())},JT:function(a){var c=this.KP(this.mo.n,a,this.mo.n,this.lo);180<c?c-=360:-180>c&&(c+=360);this.Ke(this.Ec+c/360*(this.sb-this.Wa));this.lo=a},IT:function(){this.tb.k(p.mb());this.sp(!1)},UC:function(a){this.tb=a},zH:function(){return this.tb},LV:function(a){this.mo=a},Z3:function(){return this.mo},r$:function(a){this.lo=
a},xR:function(){return this.lo}});p.GD.create=function(a,c,d){var e=new p.GD;return e&&(a=p.w.create(a),d=p.w.create(d),c=p.oc.create(p.w.create(c)),e.uS(a,c,d))?e:null};p.kE=-1;p.qn=0;p.Kp=1;p.Dt=2;p.oQ=function(a){var c=p.ja.d();return(c.ma+c.qa)/2*a/160};p.QL=p.sa.extend({IU:function(){},JU:function(){}});
p.hh=p.Bc.extend({F_:0,p_:0,n_:0,Mb:null,hi:p.Dt,ji:!1,$M:null,Ea:null,Og:!1,Ru:null,Uu:null,cq:!1,fq:!1,ar:null,Ao:null,wr:0,Pg:null,zh:null,yF:0,wF:0,Vq:null,nA:!1,bG:null,ctor:function(){p.Bc.prototype.ctor.call(this);this.$M=new p.wg(0,0);this.Ru=new p.wg(0,0);this.Uu=new p.wg(0,0);this.ar=new p.wg(0,0);this.Ao=new p.wg(0,0);this.Pg=[];this.zh=new p.Wj(0,0);this.Vq=new p.Pf(0,0,0,0);this.bG=new p.Pf(0,0,0,0)},r:function(){return this.Yo(p.size(200,200),null)},Iw:function(){p.zC(this.Ak,!1,this)},
Yo:function(a,c){var d=p.a(0,0);return p.Bc.prototype.r.call(this)?(this.Ea=c,this.Ea||(this.Ea=p.Bc.create(),this.Ea.Ci(!1),this.Ea.X(d)),this.HJ(a),this.Tb(!0),this.Pg.length=0,this.Mb=null,this.fq=this.cq=!0,this.hi=p.Dt,this.Ea.q(d),this.wr=0,this.m(this.Ea),this.yF=this.wF=1,!0):!1},Zk:function(a,c){if(c)this.ZU(a,0.15);else{if(!this.cq){var d=this.Sk(),e=this.vw();a.x=Math.max(d.x,Math.min(e.x,a.x));a.y=Math.max(d.y,Math.min(e.y,a.y))}this.Ea.q(a)}},nH:function(){var a=this.Ea.n;return p.a(a.x,
a.y)},ZU:function(a,c){var d=p.ut.create(c,a),e=p.Ep.create(this.eP,this);this.Ea.Lw(p.Ri.create(d,e));this.zc(this.Sz)},MJ:function(a,c){if(c)this.$V(a,0.15);else{var d=this.Ea;if(d.FB()!=a){var e,f;0==this.wr?(f=this.zh,f=p.a(0.5*f.width,0.5*f.height),f=this.Ek(f)):f=this.Ao;e=d.Ra(f);d.Mj(Math.max(this.yF,Math.min(this.wF,a)));e=d.Ek(e);f=p.jd(f,e);this.Zk(p.Hf(d.n,f))}}},EH:function(){return this.Ea.FB()},$V:function(a,c){if(0<c){var d=this.Ea.FB();d!=a&&(d=p.fn.create(c,"zoomScale",d,a),this.Lw(d))}else this.MJ(a)},
Sk:function(){var a=this.Ea,c=a.e(),d=this.zh;return p.a(d.width-c.width*a.ma,d.height-c.height*a.qa)},vw:function(){return p.a(0,0)},f6:function(a){var c=this.nH(),d=this.zh,e=this.EH(),c=p.rect(-c.x/e,-c.y/e,d.width/e,d.height/e);return p.VT(c,a.Sa())},pause:function(){this.Ea.Aw();for(var a=this.Ea.p,c=0;c<a.length;c++)a[c].Aw()},RI:function(){for(var a=this.Ea.p,c=0,d=a.length;c<d;c++)a[c].Kw();this.Ea.Kw()},V5:function(){return this.ji},x6:function(){return this.Og},O5:function(){return this.cq},
TU:function(a){this.cq=a},g5:function(){return this.zh},HJ:function(a){this.zh=a;p.H.prototype.$.call(this,a)},o2:function(){return this.Ea},XU:function(a){a&&(this.Ie(!0),this.Ea=a,a.Ci(!1),a.X(0,0),this.m(a),this.HJ(this.zh))},C2:function(){return this.hi},gJ:function(a){this.hi=a},Zb:function(){return this.Mb},ah:function(a){this.Mb=a},vb:function(a){if(!this.pa)return!1;var c=this.zz(),d=this.Ea,e=d.Ek(d.Ch(a)),f=this.Pg;if(2<f.length||this.Og||!p.Cb(c,e))return!1;f.push(a);1===f.length?(this.Ao=
this.Ch(a),this.Og=!1,this.ji=!0,this.ar.x=0,this.wr=this.ar.y=0):2==f.length&&(this.Ao=p.pC(this.Ch(f[0]),this.Ch(f[1])),this.wr=p.mC(d.Ch(f[0]),d.Ch(f[1])),this.ji=!1);return!0},Yc:function(a){if(this.pa)if(1===this.Pg.length&&this.ji){this.Og=!0;var c=this.zz(),d=this.Ch(a);a=p.jd(d,this.Ao);var e=0,f=this.hi,e=f===p.Kp?a.y:f===p.qn?a.x:Math.sqrt(a.x*a.x+a.y*a.y);if(this.Og||!(0.04375>Math.abs(p.oQ(e))))if(this.Og||(a.x=0,a.y=0),this.Ao=d,this.Og=!0,p.Cb(c,this.Ek(d))){switch(f){case p.Kp:a.x=
0;break;case p.qn:a.y=0}d=this.Ea.n;c=d.x+a.x;d=d.y+a.y;this.ar=a;this.Zk(p.a(c,d))}}else 2!==this.Pg.length||this.ji||(a=p.mC(this.Ea.Ch(this.Pg[0]),this.Ea.Ch(this.Pg[1])),this.MJ(this.EH()*a/this.wr))},gf:function(){this.pa&&(1==this.Pg.length&&this.Og&&this.zc(this.Zy),this.Pg.length=0,this.Og=this.ji=!1)},Ij:function(){this.pa&&(this.Pg.length=0,this.Og=this.ji=!1)},$:function(a,c){null!=this.Ea&&(2===arguments.length?this.Ea.$(a,c):this.Ea.$(a),this.BW())},e:function(){return this.Ea.e()},BW:function(){if(null!=
this.Ea){var a=this.zh,c=this.vw();this.Ru.x=c.x+0.2*a.width;this.Ru.y=c.y+0.2*a.height;c=this.Sk();this.Uu.x=c.x-0.2*a.width;this.Uu.y=c.y-0.2*a.height}},Q5:function(){return this.fq},m9:function(a){this.fq=a},ia:function(a){if(this.pa){a=a||p.O;var c,d=this.p,e,f;if(p.kd===p.Mf){a.save();this.transform(a);this.NE(a);if(d&&0<d.length){f=d.length;this.Ad();for(c=0;c<f;c++)if((e=d[c])&&0>e.Ua)e.ia(a);else break;for(this.Ja(a);c<f;c++)d[c].ia(a)}else this.Ja(a);this.LE();a.restore()}else{p.cp();var g=
this.ik;g&&g.Zo()&&(g.eB(),this.mx());this.transform(a);this.NE(a);if(d&&0<d.length){f=d.length;for(c=0;c<f;c++)if((e=d[c])&&0>e.Ua)e.ia();else break;for(this.Ja(a);c<f;c++)d[c].ia()}else this.Ja(a);this.LE(a);g&&g.Zo()&&g.aB(this);p.bp()}}},m:function(a,c,d){if(!a)throw Error("child must not nil!");c=c||a.Ua;d=d||a.Wc;a.Ci(!1);a.X(0,0);this.Ea!=a?this.Ea.m(a,c,d):p.Bc.prototype.m.call(this,a,c,d)},Tb:function(a){this._super(a);a||(this.Og=this.ji=!1,this.Pg.length=0)},j_:function(){return null},
gO:function(a){var c=this.Sk(),d=this.vw(),e=this.hi,f=this.Ea.n,g=f.x,h=f.y;if(e===p.Dt||e===p.qn)g=Math.max(g,c.x),g=Math.min(g,d.x);if(e==p.Dt||e==p.Kp)h=Math.min(h,d.y),h=Math.max(h,c.y);h==f.y&&g==f.x||this.Zk(p.a(g,h),a)},Zy:function(){if(this.ji)this.Cd(this.Zy);else{var a,c;a=this.Ea.n;var d=this.ar;this.Ea.q(a.x+d.x,a.y+d.y);this.cq?(a=this.Ru,c=this.Uu):(a=this.vw(),c=this.Sk());var e=this.Ea.n.C,f=this.Ea.n.I;d.x*=0.95;d.y*=0.95;this.Zk(p.a(e,f));if(1>=Math.abs(d.x)&&1>=Math.abs(d.y)||
f>a.y||f<c.y||e>a.x||e<c.x||e==a.x||e==c.x||f==a.y||f==c.y)this.Cd(this.Zy),this.gO(!0)}},Sz:function(){this.ji&&this.Cd(this.Sz)},eP:function(){this.Cd(this.Sz)},NE:function(a){if(this.fq){this.nA=!1;var c=this.zz(),d=p.ja.d(),e=this.ma,f=this.qa;a=a||p.O;if(p.kd===p.Mf)c=this.zh.width*e*d.ma,d=this.zh.height*f*d.qa,a.beginPath(),a.rect(0,0,c,-d),a.clip(),a.closePath();else if(d=p.ja.d(),d.GS()){if(this.nA=!0,this.Vq=d.ER(),p.UT(c,this.Vq)){var g=this.Vq;a=Math.max(c.x,g.x);f=Math.max(c.y,g.y);e=
Math.min(c.x+c.width,g.x+g.width);c=Math.min(c.y+c.height,g.y+g.height);d.RC(a,f,e-a,c-f)}}else a.enable(a.SCISSOR_TEST),d.RC(c.x,c.y,c.width,c.height)}},LE:function(a){this.fq&&p.kd===p.Xj&&(this.nA?(a=this.Vq,p.ja.d().RC(a.x,a.y,a.width,a.height)):(a=a||p.O,a.disable(a.SCISSOR_TEST)))},h_:function(){},zz:function(){for(var a=this.Ek(p.Qi()),c=this.zh,d=this.ma,e=this.qa,f=this.Y;null!=f;f=f.getParent())d*=f.ma,e*=f.qa;0>d&&(a.x+=c.width*d,d=-d);0>e&&(a.y+=c.height*e,e=-e);f=this.bG;f.x=a.x;f.y=
a.y;f.width=c.width*d;f.height=c.height*e;return f}});p.hh.create=function(a,c){var d=new p.hh;if(2==arguments.length){if(d&&d.Yo(a,c))return d}else if(d&&d.r())return d;return null};p.RL=p.sa.extend({Uw:function(){},Gh:function(){return 0}});p.SL=p.RL.extend({Nz:0,ctor:function(){this.Nz=0},Uw:function(a){this.Nz=a},Gh:function(){return this.Nz}});function la(a,c){return a.Gh()-c.Gh()}
p.vx=p.sa.extend({Kg:null,ctor:function(){this.Kg=[]},UH:function(a){if(!a)throw"cc.ArrayForObjectSorting.insertSortedObject(): addObject should be non-null.";this.xS(a,this.Xo(a))},qU:function(a){if(0!=this.count()){var c=this.Xo(a);c<this.count()&&c!=p.Wh&&this.Cm(c).Gh()==a.Gh()&&this.DC(c)}},c$:function(a,c){var d=this.Xo(c);if(d<this.count()&&d!=p.Wh){var e=this.Cm(d);e.Gh()==c.Gh()&&(this.DC(d),e.Uw(a),this.UH(e))}},oI:function(a){if(0==this.count())return null;var c=new p.SL;c.Uw(a);var d=
this.Xo(c);d<this.count()&&d!=p.Wh&&(c=this.Cm(d),c.Gh()!=a&&(c=null));return c},A3:function(){return null},Xo:function(a){var c=0;if(a){var d=0;a=a.Gh();for(var e=this.Kg,f=0;f<e.length;f++){var g=e[f].Gh();if(a==g||a>=d&&a<g)break;d=g;c++}}else c=p.Wh;return c},count:function(){return this.Kg.length},L6:function(){var a=this.Kg;return 0==a.length?null:a[a.length-1]},Cm:function(a){return this.Kg[a]},BG:function(a){this.Kg.push(a);this.Kg.sort(la)},DC:function(a){p.Cp(this.Kg,a);this.Kg.sort(la)},
xS:function(a,c){this.Kg=p.kl(this.Kg,a,c);this.Kg.sort(la)}});p.oE=0;p.UL=1;p.pZ=p.H.extend({ij:0,X2:function(){return this.ij},oV:function(a){this.ij=a},reset:function(){this.ij=p.Wh},Uw:function(a){this.ij=a},Gh:function(){return this.ij}});p.rZ=p.QL.extend({Oaa:function(){},Naa:function(){},Paa:function(){},Qaa:function(){}});p.qZ=p.sa.extend({sW:function(a){return this.WP(a)},WP:function(){return p.NL},Maa:function(){return null},q7:function(){return 0}});
p.xE=p.hh.extend({Co:null,bd:null,In:null,Yy:null,HA:null,Yu:null,gu:null,tj:null,ctor:function(){p.hh.prototype.ctor.call(this);this.Yu=p.kE;this.gu=[]},mM:function(a){var c=0,d=-1;switch(this.hi){case p.qn:a=a.x;break;default:a=a.y}for(var e=this.gu;d>=c;){var f=0|c+(d-c)/2,g=e[f],h=e[f+1];if(a>=g&&a<=h)return f;a<g?d=f-1:c=f+1}return 0>=c?0:-1},sN:function(a){a={x:a.x,y:a.y};this.Co===p.oE&&(a.y=this.Ea.e().height-a.y);a=this.mM(a);-1!=a&&(a=Math.max(0,a),-1<a&&(a=p.Wh));return a},pM:function(a){switch(this.hi){case p.qn:a=
p.a(this.gu[a],0);break;default:a=p.a(0,this.gu[a])}return a},WN:function(a){var c=this.pM(a);a=this.Yy.sW(this,a);this.Co===p.oE&&(c.y=this.Ea.e().height-c.y-a.height);return c},C_:function(){},LA:function(){var a=p.rl();this.$(a);this.Yu!=this.hi&&(this.hi==p.qn?this.Zk(p.a(0,0)):this.Zk(p.a(0,this.Sk().y)),this.Yu=this.hi)},zF:function(a){this.In.BG(a);this.ck.qU(a);p.Dd(this.bd,a.ij);a.reset();a.getParent()==this.Ea&&this.Ea.removeChild(a,!0)},iv:function(a,c){c.X(0,0);c.q(this.WN(a));c.oV(a)},
JE:function(a){a.getParent()!=this.Ea&&this.Ea.m(a);this.ck.UH(a);var c=this.bd;a=a.ij;-1==c.indexOf(a)&&(c.push(a),c.sort(function(a,c){return a-c}))},u2:function(){return this.Yy},cV:function(a){this.Yy=a},Zb:function(){return this.HA},ah:function(a){this.HA=a},daa:function(a){this.Co!=a&&(this.Co=a,0<this.ck.count()&&this.CC())},d5:function(){return this.Co},Yo:function(a,c){return p.hh.prototype.Yo.call(this,a,c)?(this.ck=new p.vx,this.In=new p.vx,this.bd=[],this.HA=null,this.Co=p.UL,this.gJ(p.Kp),
p.hh.prototype.ah.call(this,this),!0):!1},eba:function(a){if(!(a==p.Wh||-1<a)){var c=this.iB(a);c&&this.zF(c);c=null;this.iv(a,c);this.JE(c)}},F5:function(a){if(!(a==p.Wh||-1<a)){var c,d=this.ck;if(c=d.oI(a))for(var e=c=d.Xo(c);e<d.count();e++)c=d.Cm(e),this.iv(c.ij+1,c);c=null;this.iv(a,c);this.JE(c);this.LA()}},C8:function(a){if(!(a==p.Wh||-1<a)){var c=this.iB(a);if(c){var d=this.ck,e=d.Xo(c);this.zF(c);p.Dd(this.bd,a);for(a=d.count()-1;a>e;a--)c=d.Cm(a),this.iv(c.ij-1,c)}}},CC:function(){this.Yu=
p.kE;for(var a=this.ck,c=this.In,d=this.Ea,e=0,f=a.count();e<f;e++){var g=a.Cm(e);c.BG(g);g.reset();g.getParent()==d&&d.removeChild(g,!0)}this.bd=[];this.ck=new p.vx;this.LA()},X0:function(){if(0===this.In.count())return null;var a=this.In.Cm(0);this.In.DC(0);return a},iB:function(a){return-1==this.bd.indexOf(a)?null:this.ck.oI(a)},IU:function(){},JU:function(){},gf:function(a,c){if(this.pa){if(this.tj){var d=this.Sa();d.Sc=this.Y.Ek(d.origin);this.tj=null}p.hh.prototype.gf.call(this,a,c)}},vb:function(a,
c){if(!this.pa)return!1;var d=p.hh.prototype.vb.call(this,a,c);if(1===this.Pg.length){var e;e=this.Ea.Ch(a);e=this.sN(e);this.tj=e===p.Wh?null:this.iB(e)}else this.tj&&(this.tj=null);return d},Yc:function(a,c){p.hh.prototype.Yc.call(this,a,c);this.tj&&this.Og&&(this.tj=null)},Ij:function(a,c){p.hh.prototype.Ij.call(this,a,c);this.tj&&(this.tj=null)}});p.xE.create=function(a,c,d){var e=new p.xE;e.Yo(c,d);e.cV(a);e.LA();return e};p.$b={};p.$b.yG=function(a){for(var c in p.$b.hC)a[c]=p.$b.hC[c]};
p.$b.hC={q:function(a,c){2==arguments.length?(this.n.C=a,this.n.I=c):(this.n.C=a.x,this.n.I=a.y);this.Ka();this.ca.iD(this.n.C,-this.n.I)},Rh:function(a){this.n.I=a;this.Ka();this.ca.iD(this.n.C,-this.n.I)},Db:function(a){this.n.C=a;this.Ka();this.ca.iD(this.n.C,-this.n.I)},Mj:function(a,c){this.ma=a;this.qa=c||a;this.Ka();this.ca.resize(this.ma,this.qa)},rp:function(a){this.ma=a;this.Ka();this.ca.resize(this.ma,this.qa)},Vm:function(a){this.qa=a;this.Ka();this.ca.resize(this.ma,this.qa)},X:function(a,
c){var d=this.jh;if(2===arguments.length){if(a===d.C&&c===d.I)return;d.C=a;d.I=c}else{if(a.x===d.C&&a.y===d.I)return;d.C=a.x;d.I=a.y}var e=this.pd,f=this.la;e.C=f.xa*d.C;e.I=f.ka*d.I;this.ca.style[p.Eb.lp+"TransformOrigin"]=""+e.C+"px "+-e.I+"px";this.lk?(this.ca.style.marginLeft=0,this.ca.style.marginBottom=0):(this.ca.style.marginLeft=this.v6?0:-e.C+"px",this.ca.style.marginBottom=-e.I+"px");this.Ka()},$:function(a,c){var d=this.la;if(2===arguments.length){if(a===d.xa&&c===d.ka)return;d.xa=a;d.ka=
c}else{if(a.width===d.xa&&a.height===d.ka)return;d.xa=a.width;d.ka=a.height}var e=this.pd,f=this.jh;e.C=d.xa*f.C;e.I=d.ka*f.I;this.ca.width=d.xa;this.ca.height=d.ka;this.X(this.jh);this.canvas&&(this.canvas.width=d.xa,this.canvas.height=d.ka);this.Ka();this.WT()},Yw:function(a){this.vO!=a&&(this.ag=this.sh=a,this.Rl=Math.PI/180*this.ag,this.$q=Math.PI/180*this.sh,this.Ka(),this.ca.rotate(a))},bx:function(a){this.Sd=a;this.Ka();this.ca.AJ(this.Sd,this.Td)},cx:function(a){this.Td=a;this.Ka();this.ca.AJ(this.Sd,
this.Td)},v:function(a){this.pa=a;this.Ka();this.ca&&(this.ca.style.display=a?"block":"none")},lv:function(a){this.Ua=a;this.Ka();this.ca&&(this.ca.zIndex=a)},us:function(a){this.Y=a;null!==a&&(a.X(a.jh),this.Ka(),p.$b.zw(this))},Kw:function(){this.df().Om(this);this.fg().Om(this);this.ca&&!this.ca.parentNode&&(this.getParent()?p.$b.zw(this):this.ca.nm(p.Aj));this.ca&&(this.ca.style.visibility="visible")},Aw:function(){this.df().ms(this);this.fg().ms(this);this.ca&&(this.ca.style.visibility="hidden")},
Bf:function(){this.dD();this.Cs();this.Sf(this.p,p.H.of.Bf);this.ca&&this.ca.remove()},mU:function(){this.ca.remove()},Z:function(a){this.pi=a;this.ca.style.opacity=a/255},WT:function(){if(this.rw){var a=this.p;this.p=[];p.w.prototype.ia.call(this,this.Ko);this.p=a}else p.w.prototype.ia.call(this,this.Ko)}};
p.$b.rO=function(){var a=p.Eb("#EGLViewDiv");if(a){var c=p.ja.d(),d=c.Qo(),e=c.Fe,f=c.cw(),g=d.width,h=d.height;0===d.width&&0===d.height&&(g=f.width,h=f.height);d=e.Qa.width;0===e.Qa.width&&0===e.Qa.height&&(d=f.width);a.style.position="absolute";a.style.width=g+"px";a.style.maxHeight=h+"px";a.style.margin=0;a.resize(c.ma,c.qa);a.style.left=(d-g)/2+"px";a.style.bottom="0px"}};
p.$b.zw=function(a){var c=a.getParent();if(c&&a.ca)if(c.ca||(p.$b.CT(c),c.us=p.$b.hC.us),a.ca.nm(c.ca),c.X(c.jh),c.getParent())p.$b.zw(c);else if(c.ye)if(a=p.Eb("#EGLViewDiv"))c.ca.nm(a);else{a=p.Qj("div");a.id="EGLViewDiv";var d=p.ja.d(),e=d.Qo(),f=d.Fe,g=d.cw(),h=e.width,k=e.height;0===e.width&&0===e.height&&(h=g.width,k=g.height);e=f.Qa.width;0===f.Qa.width&&0===f.Qa.height&&(e=g.width);a.style.position="absolute";a.style.width=h+"px";a.style.maxHeight=k+"px";a.style.margin=0;a.resize(d.ma,d.qa);
a.style.left=(e-h)/2+"px";a.style.bottom="0px";c.ca.nm(a);a.nm(p.Aj)}};p.$b.setTransform=function(a){if(a.Ko)if(a.Ko.translate(a.pd.x,a.pd.y),a.rw){var c=a.p;a.p=[];p.w.prototype.ia.call(a,a.Ko);a.p=c}else p.w.prototype.ia.call(a,a.Ko);a.ca&&(a.ca.position.x=a.n.x,a.ca.position.y=-a.n.y,a.ca.rotation=a.BR(),a.ca.scale={x:a.ma,y:a.qa},a.ca.cl={x:a.Sd,y:a.Td},a.X&&a.X(a.jh),a.ca.an())};
p.$b.YQ=function(a){a.ca=p.Qj("div");a.canvas=p.Qj("canvas");var c=a.e();a.canvas.width=c.width;a.canvas.height=c.height;a.ca.style.position="absolute";a.ca.style.bottom=0;a.Ko=a.canvas.getContext("2d");a.ca.appendChild(a.canvas);a.getParent()&&p.$b.zw(a);a.rw=!0};
p.$b.CT=function(a){a.ca=p.Qj("div");a.placeholder=!0;a.ca.style.position="absolute";a.ca.style.bottom=0;a.ca.style.width=(a.e().width||p.P.d().Hb.width)+"px";a.ca.style.maxHeight=(a.e().height||p.P.d().Hb.height)+"px";a.ca.style.margin=0;p.$b.setTransform(a);a.ca.an();p.$b.yG(a)};
p.$b.mB=function(a){if(1<arguments.length)p.$b.mB(arguments);else if(1!=arguments.length||arguments[0].length)for(var c=arguments[0],d=0;d<c.length;d++)c[d]instanceof p.w?c[d].ca||p.$b.YQ(c[d]):p.log("DOM converter only supports sprite and menuitems yet"),p.$b.yG(c[d]),c[d].ia=function(){},c[d].transform=function(){},p.$b.setTransform(c[d]),c[d].v(c[d].pa);else p.$b.mB([arguments[0]])};p.dL=0;p.dY=1;p.gY=2;p.fY=3;p.eY=4;p.TK=0;p.IX=1;p.JX=2;p.KX=3;p.MX=4;p.HX=5;p.LX=6;p.RK=0;p.SK=1;p.GX=2;p.FX=3;p.EX=4;p.PX=p.sa.extend({Xv:function(){},Yv:function(){},Zv:function(){},j1:function(){}});
p.Ip=p.nl.extend({ii:null,Mb:null,hN:p.TK,gN:p.SK,JN:p.dL,y_:"",ri:"",uv:null,Wq:null,uF:50,zM:18,Oa:null,sq:14,kz:"Arial",lz:!1,Tz:"",av:14,z_:!1,ctor:function(a,c){p.nl.prototype.ctor.call(this);this.lz=!1;this.uv=p.mb();this.Wq=p.Uo();this.$(a);this.ii=new p.w;this.ii.Ja=function(){};this.m(this.ii);var d=this;c?(this.Oa=document.createElement("textarea"),this.Oa.style.resize="none",this.lz=!0):this.Oa=document.createElement("input");this.Oa.type="text";this.Oa.style.fontSize=this.sq+"px";this.Oa.style.color=
"#000000";this.Oa.style.border=0;this.Oa.style.background="transparent";this.Oa.style.width="100%";this.Oa.style.height="100%";this.Oa.style.G_=0;this.Oa.style.outline="medium";this.Oa.addEventListener("input",function(){d.Mb&&d.Mb.Zv&&d.Mb.Zv(d,this.value)});this.Oa.addEventListener("keyup",function(a){a.keyCode===p.cL.UQ&&!1==d.lz&&(a.stopPropagation(),a.preventDefault(),p.canvas.focus())});this.Oa.addEventListener("focus",function(){this.value==d.ri&&(this.value="",this.style.fontSize=d.sq+"px",
this.style.color=p.Dk(d.uv));d.Mb&&d.Mb.Xv&&d.Mb.Xv(d)});this.Oa.addEventListener("blur",function(){""==this.value&&(this.value=d.ri,this.style.fontSize=d.av+"px",this.style.color=p.Dk(d.Wq));d.Mb&&d.Mb.Yv&&d.Mb.Yv(d)});p.$b.mB(this.ii);this.ii.ca.appendChild(this.Oa);this.ii.ca.kaa=!1;this.ii.ca.style.width=a.width-6+"px";this.ii.ca.style.height=a.height-6+"px";this.ii.canvas.remove()},A9:function(a,c){this.sq=c;this.kz=a;this.qA()},eaa:function(){},lV:function(a){this.kz=a;this.qA()},lJ:function(a){this.sq=
a;this.qA()},qA:function(){this.Oa.value!=this.ri&&(this.Oa.style.fontFamily=this.kz,this.Oa.style.fontSize=this.sq+"px")},bh:function(a){null!=a&&(""==a?(this.Oa.value=this.ri,this.Oa.style.color=p.Dk(this.Wq)):(this.Oa.value=a,this.Oa.style.color=p.Dk(this.uv)))},kV:function(a){this.uv=a;this.Oa.value!=this.ri&&(this.Oa.style.color=p.Dk(a))},V9:function(a){!isNaN(a)&&0<a&&(this.uF=a,this.Oa.maxLength=a)},j3:function(){return this.uF},l$:function(a){if(null!=a){var c=this.ri;this.ri=a;this.Oa.value==
c&&(this.Oa.value=a,this.Oa.style.color=p.Dk(this.Wq),this.jv())}},m$:function(a,c){this.Tz=a;this.av=c;this.jv()},o$:function(a){this.Tz=a;this.jv()},p$:function(a){this.av=a;this.jv()},jv:function(){this.Oa.value==this.ri&&(this.Oa.style.fontFamily=this.Tz,this.Oa.style.fontSize=this.av+"px")},n$:function(a){this.Wq=a;this.Oa.value==this.ri&&(this.Oa.style.color=p.Dk(a))},I9:function(a){this.gN=a;this.Oa.type=a==p.RK?"password":"text"},fa:function(){return this.Oa.value},qS:function(a,c){return this.MH(c)?
(this.ii.q(3,3),this.ZV(!1),this.Lj(a),this.q(0,0),this.KE(this,this.uW,p.yD),!0):!1},ah:function(a){this.Mb=a},R3:function(){return this.ri},J9:function(a){this.hN=a},D$:function(a){this.JN=a},F6:function(a){var c=p.Ip.ae(this);c.y-=4;c.J5(a.end)?this.zM=a.end.n3()-c.q3():p.log("needn't to adjust view layout.")},D6:function(){},E6:function(){},C6:function(){},uW:function(){},lB:function(a){a=a.toString(16);return 1==a.length?"0"+a:a},AU:function(a,c,d){return"#"+this.lB(a)+this.lB(c)+this.lB(d)},
$I:function(a){this.Oa.style.background=this.AU(a.h,a.g,a.f)},A5:function(a,c){this.fN=a.width;this.ca.style.width=this.fN.toString()+"px";this.eN=a.height;this.ca.style.height=this.eN.toString()+"px";this.ca.style.backgroundColor=p.Dk(c)}});p.Ip.ae=function(a){var c=a.e(),c=p.rect(0,0,c.width,c.height);return p.xg(c,a.js())};p.Ip.create=function(a,c,d,e,f){d=new p.Ip(a,d);c instanceof p.nc?d.$I(c):d.qS(a,c)&&(e&&d.Rw(e,p.AD),f&&d.Rw(f,p.zD));return d};var u=[],w=new XMLHttpRequest;w.open("GET","config.txt",!1);w.send(null);var ma=w.responseText,na=ma.split("\n")[0],oa=ma.split("\n")[1];oa&&(na+=":"+oa);var qa=io.connect(na,{"sync disconnect on unload":!0,"connect timeout":5E3,"reconnection delay ":100});qa.on("connect",function(){x.Fx();x.TL();console.log("Client has connected to the server!");if(y){var a=y.d().Xc;a?a.Wm(!0):u.push(JSON.stringify({connect:!0}))}else u.push(JSON.stringify({connect:!0}))});qa.on("message",function(a){reactToSocketMessage(a)});
reactToSocketMessage=function(a){a=JSON.parse(a);var c=!1,d;for(d in a){c=!0;break}if(!1!=c)if(console.log("Received a message from the server!",a),a.sync)a.mapdata&&x.hK(a.mapdata,a.maptime),a.warpdata&&x.mD(a.warpdata,a.warptime),a.itemdata&&x.Es(a.itemdata,a.itemtime),a.skillsdata&&x.kD(a.skillsdata,a.skillstime),a.signsdata&&x.px(a.signsdata,a.signstime),a.npcsdata&&x.iK(a.npcsdata,a.npcstime),a.questdata&&x.jD(a.questdata,a.queststime);else if(c=y.d().Xc)if(a.connect?c.Wm(!0):a.disconnect&&c.Wm(!1),
"Game"==c.gd())if(a.newPlayer)A.FP(a.newPlayer);else if(a.playerLeft)A.Hh(a.playerLeft).og==A.l.ga.og&&(MapMaster=!1),A.SG(a.playerLeft);else if(a.changemap){for(c=0;c<u.length;c++)d=JSON.parse(u[c]),d.moveTo&&d.id==a.id&&(console.log("REMOVIN"),u.splice(c,1),c--);A.Hh(a.id).og==A.l.ga.og&&(MapMaster=!1);A.$P(a.id,a.changemap);A.zI(a.id,a.setTo)}else a.setTo?!A.Hh(a.id)||A.Hh(a.id)&&!1==A.Hh(a.id).mg?A.zI(a.id,a.setTo):u.push(JSON.stringify(a)):a.moveTo?!A.Hh(a.id)||A.Hh(a.id)&&!1==A.Hh(a.id).mg?
A.ZS(a.id,a.moveTo):u.push(JSON.stringify(a)):a.chatMessage?D.Bb(a.chatMessage):a.coinflip?D.Bb(a.coinflip):a.diceroll?D.Bb(a.diceroll):a.dance?D.Bb(a.dance):a.afk?A.aQ(a.afk):a.savemap?(x.YP(a.savemap,a.mapdata,a.updatetime),F.bW(a.mapdata)):a.mapmaster?MapMaster=!0:a.savewarps?(x.fQ(parseInt(a.savewarps),a.warpdata,a.updatetime),ObjectLists.um()[parseInt(a.savewarps)]=a.warpdata,Warpeditor&&(Warpeditor.ud=ObjectLists.um(),Warpeditor.Pa())):a.savewarpswhole?(x.bU(a.savewarpswhole,a.updatetime),ObjectLists.YV(a.savewarpswhole)):
a.savequests?(x.bQ(parseInt(a.savequests),a.questdata,a.updatetime),ObjectLists.EB()[parseInt(a.savequests)]=a.questdata,Questeditor&&(Questeditor.ud=ObjectLists.EB(),Questeditor.Pa())):a.savequestswhole?(x.ZT(a.savequestswhole,a.updatetime),ObjectLists.MV(a.savequestswhole)):a.saveskills?(x.dQ(parseInt(a.saveskills),a.skillsdata,a.updatetime),ObjectLists.To()[parseInt(a.saveskills)]=a.skillsdata,Skillseditor&&(Skillseditor.ud=ObjectLists.To(),Skillseditor.Pa()),va.update(),Skills&&Skills.mf()):a.saveskillswhole?
(x.aU(a.saveskillswhole,a.updatetime),ObjectLists.QV(a.saveskillswhole),va.update(),Skills&&Skills.mf()):a.savesigns?(x.cQ(parseInt(a.savesigns),a.signsdata,a.updatetime),ObjectLists.Sr()[parseInt(a.savesigns)]=a.signsdata,Signeditor&&(Signeditor.ud=ObjectLists.Sr(),Signeditor.Pa())):a.moveNPC?(a.npcID=parseInt(a.npcID),!A.Rr(a.npcID)||A.Rr(a.npcID)&&!1==A.Rr(a.npcID).mg?A.YS(a.npcID,a.moveNPC,a.mapnumber):u.push(JSON.stringify(a))):a.changeNPCPosition?(a.npcID=parseInt(a.npcID),A.Rr(a.npcID)&&!1==
A.Rr(a.npcID).mg?A.tU(a.npcID,a.changeNPCPosition):u.push(JSON.stringify(a))):a.savesignswhole?(x.$T(a.savesignswhole,a.updatetime),ObjectLists.PV(a.savesignswhole)):a.savenpcs?(x.ZP(parseInt(a.savenpcs),a.npcsdata,a.updatetime),ObjectLists.Ik()[parseInt(a.savenpcs)]=a.npcsdata,F.jw(F.$d(),!0),NPCeditor&&(NPCeditor.ud=ObjectLists.Ik(),NPCeditor.Pa())):a.savenpcswhole?(x.YT(a.savenpcswhole,a.updatetime),ObjectLists.xV(a.savenpcswhole),F.jw(F.$d(),!0),NPCeditor&&(NPCeditor.ud=ObjectLists.Ik(),NPCeditor.Pa())):
a.saveitems?(x.XP(parseInt(a.saveitems),a.itemdata,a.updatetime),c=ObjectLists.zi()[parseInt(a.saveitems)].name,ObjectLists.zi()[parseInt(a.saveitems)]=a.itemdata,F.jw(F.$d()),Itemeditor&&(Itemeditor.ud=ObjectLists.zi(),Itemeditor.Pa()),Inventory&&Inventory.mf(),A.l.ga.Es(c,a.itemdata)):a.droppeditem?a.mapnumber==F.$d()&&!1==F.d().lg?(c=F.AH(a.index),c.DP(a.droppeditem),F.Fs()):u.push(JSON.stringify(a)):a.pickupitem?a.mapnumber==F.$d()&&(c=F.AH(a.pickupitem),c.rC(),F.Fs()):a.saveitemswhole&&(x.XT(a.saveitemswhole,
a.updatetime),ObjectLists.pV(a.saveitemswhole));else"Login"==c.gd()&&(a.login_success?c.eT():a.login_fail&&c.lC(a.login_fail));else u.push(JSON.stringify(a))};qa.on("disconnect",function(){console.log("The client has disconnected!");var a=y.d().Xc;a?a.Wm(!1):u.push(JSON.stringify({disconnect:!0}))});function H(a){qa.send(JSON.stringify(a))};var I=Object.freeze({xc:{PG:"C to popup/dismiss, enter for chat. Say /help for help.",BS:"Welcome to the Powder Engine! Enter /help for some help.",iS:"-------HELP------",hS:" - Press C to expand the chat, I for Inventory",gS:" - Space to grab Items and E for Equipment.",fS:" - Enter /commands for command list",eS:"-------------------",lQ:"Commands:  /editskill, /editsign, /editnpc,",kQ:" - /editmap, /editwarp, /edititem,",jQ:" - /dance, /coinflip, /diceroll, /afk",iQ:"--------------------",sC:" has joined the game!",
DT:" has left the game!",Bw:"Picked up ",OQ:"Dropped ",WH:"Your inventory is full"}});var wa={},xa=p.nd.d();p.Ni.d();xa.zJ(["res/Graphics"]);w=new XMLHttpRequest;w.open("GET","res/Graphics/tile_graphics.txt",!1);w.send(null);var ma=w.responseText,ya=ma.split(","),K=[],Ba;for(Ba in ya)K.push({name:ya[Ba],texture:p.La.d().Ab(ya[Ba])});w=new XMLHttpRequest;w.open("GET","res/Graphics/character_graphics.txt",!1);w.send(null);var ma=w.responseText,ya=ma.split(","),L=[];for(Ba in ya)L.push({name:ya[Ba],texture:p.La.d().Ab(ya[Ba])});
document.getElementById("gameCanvas").onkeydown=function(a){a.preventDefault();wa[a.keyCode]=!0};window.onbeforeunload=function(){H({disconnect:!0})};window.onfocus=function(){for(var a=[],c=u.length-1;0<=c;c--){var d=JSON.parse(u[c]);d.moveTo&&!a[d.id]?(a[d.id]=!0,d.setTo=d.moveTo,d.moveTo=null,u[c]=JSON.stringify(d)):d.moveTo&&a[d.id]&&u.splice(c,1)}};var P=p.F(255,255,255,255),Q=p.F(0,255,0,255),R=p.F(255,0,0,255);
document.getElementById("gameCanvas").onkeyup=function(a){wa[a.keyCode]=!1;if(null!=y.d().Xc){a.stopPropagation();var c=null;switch(a.keyCode){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";
break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a.keyCode&&58>a.keyCode||64<a.keyCode&&91>a.keyCode)&&(c=String.fromCharCode(a.keyCode));null!=c&&y.d().Xc.Tk(c)}};function S(a,c){return(a.cI&&a.pa||!a.cI)&&p.Cb(p.rect(a.n.C,a.n.I,a.e().width,a.e().height),c)}function Ca(a){var c={},d;for(d in a)c[d]=a[d]&&"object"==typeof a[d]?Ca(a[d]):a[d];return c}
isMobile=function(){var a=!1,c=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(c)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(c.substr(0,
4)))a=!0;return a};function Da(a,c){var d=c?a:a.hd();return Ea(d,"panels")}function Fa(){Ja.Lc(function(){})}
function Ea(a,c,d){c=d?d[c]:a[c];"undefined"!=typeof c.FS?d=Ka.Fx(c.tW):"undefined"!=typeof c.t?(d=c.size?c.size:p.size(100,100),d=p.bb.create(c.t,d.width,d.height)):d="undefined"!=typeof c.rw?p.w.create():"undefined"!=typeof c.va?p.w.wc(p.La.d().Ab(c.va)):"undefined"!=typeof c.label?p.U.create(c.label,c.font?c.I1:"Arial",c.fontSize?c.fontSize:14):p.H.create();"undefined"!=typeof c.size&&d.$(Math.floor(c.size.width),Math.floor(c.size.height));"undefined"!=typeof c.position&&d.q(p.a(Math.floor(c.position.x),
Math.floor(c.position.y)));"undefined"!=typeof c.visible&&d.v(c.visible);"undefined"!=typeof c.c&&d.X(c.c);"undefined"!=typeof c.opacity&&d.Z(c.opacity);"undefined"!=typeof c.color&&d.k(c.color);if("undefined"!=typeof c.children)for(var e in c.children)d[e]=Ea(a,e,c.children),d.m(d[e]);return d}p.size(960,640);var T=p.size(1600,1600),La=Math.floor(T.height/32),U=Math.floor(T.width/32);function V(a,c){return parseInt(U*(La-c))+parseInt(a)};var x=p.sa.extend({l:null,Qb:function(a){return(a=t.localStorage.getItem("last_"+a))?a:null},Um:function(a,c){return(c=t.localStorage.setItem("last_"+a,c))?c:null}});x.Fx=function(){this.l||(this.l=new x);return this.l};x.d=function(){return this.l};x.FV=function(a,c){var d=t.localStorage.getItem("panelStore");"null"==d||null==d?(console.log("NEW PANEL STORE"),d={}):d=JSON.parse(d);d[a]={x:c.x,y:c.y};t.localStorage.setItem("panelStore",JSON.stringify(d))};x.vR=function(){return t.localStorage.getItem("panelStore")};
x.lR=function(a){if(this.l.Qb("maps")){if(a){var c=JSON.parse(t.localStorage.getItem("map_data"));return c[a]?c[a]:null}}else return[]};x.hK=function(a,c){this.l.Um("maps",c);t.localStorage.setItem("map_data",JSON.stringify(a))};x.YP=function(a,c,d){var e=this.l.Qb("maps")?JSON.parse(t.localStorage.getItem("map_data")):[];e[a]=c;x.hK(e,d)};x.OR=function(){if(this.l.Qb("warps")){if(""!=t.localStorage.getItem("warps_data"))var a=JSON.parse(t.localStorage.getItem("warps_data"));return a?a:[]}return[]};
x.mD=function(a,c){this.l.Um("warps",c);t.localStorage.setItem("warps_data",JSON.stringify(a))};x.fQ=function(a,c,d){var e=this.l.Qb("warps")?""!=t.localStorage.getItem("warps_data")?JSON.parse(t.localStorage.getItem("warps_data")):[]:[];e[a]=c;x.mD(e,d)};x.bU=function(a,c){warparray=a;x.mD(warparray,c)};x.jR=function(){if(this.l.Qb("items")){if(""!=t.localStorage.getItem("items_data"))var a=JSON.parse(t.localStorage.getItem("items_data"));return a?a:[]}return[]};
x.Es=function(a,c){this.l.Um("items",c);t.localStorage.setItem("items_data",JSON.stringify(a))};x.XP=function(a,c,d){var e=this.l.Qb("items")?""!=t.localStorage.getItem("items_data")?JSON.parse(t.localStorage.getItem("items_data")):[]:[];e[a]=c;x.Es(e,d)};x.XT=function(a,c){itemsarray=a;x.Es(itemsarray,c)};x.GR=function(){if(this.l.Qb("skills")){if(""!=t.localStorage.getItem("skills_data"))var a=JSON.parse(t.localStorage.getItem("skills_data"));return a?a:[]}return[]};
x.kD=function(a,c){this.l.Um("skills",c);t.localStorage.setItem("skills_data",JSON.stringify(a))};x.dQ=function(a,c,d){var e=this.l.Qb("skills")?""!=t.localStorage.getItem("skills_data")?JSON.parse(t.localStorage.getItem("skills_data")):[]:[];e[a]=c;x.kD(e,d)};x.aU=function(a,c){skillarray=a;x.kD(skillarray,c)};x.FR=function(){if(this.l.Qb("signs")){if(""!=t.localStorage.getItem("signs_data"))var a=JSON.parse(t.localStorage.getItem("signs_data"));return a?a:[]}return[]};
x.px=function(a,c){this.l.Um("signs",c);t.localStorage.setItem("signs_data",JSON.stringify(a))};x.cQ=function(a,c,d){var e=this.l.Qb("signs")?""!=t.localStorage.getItem("signs_data")?JSON.parse(t.localStorage.getItem("signs_data")):[]:[];e[a]=c;x.px(e,d)};x.$T=function(a,c){signarray=a;x.px(signarray,c)};x.rR=function(){if(this.l.Qb("npcs")){if(""!=t.localStorage.getItem("npcs_data"))var a=JSON.parse(t.localStorage.getItem("npcs_data"));return a?a:[]}return[]};
x.iK=function(a,c){this.l.Um("npcs",c);t.localStorage.setItem("npcs_data",JSON.stringify(a))};x.ZP=function(a,c,d){var e=this.l.Qb("npcs")?""!=t.localStorage.getItem("npcs_data")?JSON.parse(t.localStorage.getItem("npcs_data")):[]:[];e[a]=c;x.iK(e,d)};x.YT=function(a,c){npcsarray=a;x.px(npcsarray,c)};x.zR=function(){if(this.l.Qb("quests")){if(""!=t.localStorage.getItem("quests_data"))var a=JSON.parse(t.localStorage.getItem("quests_data"));return a?a:[]}return[]};
x.jD=function(a,c){this.l.Um("quests",c);t.localStorage.setItem("quests_data",JSON.stringify(a))};x.bQ=function(a,c,d){var e=this.l.Qb("quests")?""!=t.localStorage.getItem("quests_data")?JSON.parse(t.localStorage.getItem("quests_data")):[]:[];e[a]=c;x.jD(e,d)};x.ZT=function(a,c){questsarray=a;x.jD(questsarray,c)};
x.oX=function(){t.localStorage.setItem("map_data",[]);t.localStorage.setItem("last_maps",0);t.localStorage.setItem("warps_data",[]);t.localStorage.setItem("last_warps",0);t.localStorage.setItem("items_data",[]);t.localStorage.setItem("last_items",0);t.localStorage.setItem("skills_data",[]);t.localStorage.setItem("last_skills",0);t.localStorage.setItem("signs_data",[]);t.localStorage.setItem("last_signs",0);t.localStorage.setItem("npcs_data",[]);t.localStorage.setItem("last_npcs",0);t.localStorage.setItem("quests_data",
[]);t.localStorage.setItem("last_quests",0);t.localStorage.setItem("panelStore",null)};
x.TL=function(){H({sync:!0,mapupdate:null!=this.l.Qb("maps")?this.l.Qb("maps"):2,warpupdate:null!=this.l.Qb("warps")?this.l.Qb("warps"):2,itemupdate:null!=this.l.Qb("items")?this.l.Qb("items"):2,skillsupdate:null!=this.l.Qb("skills")?this.l.Qb("skills"):2,signsupdate:null!=this.l.Qb("signs")?this.l.Qb("signs"):2,npcsupdate:null!=this.l.Qb("npcs")?this.l.Qb("npcs"):2,questsupdate:null!=this.l.Qb("quests")?this.l.Qb("quests"):2})};
x.sV=function(a){!0!=a&&!1!=a||t.localStorage.setItem("mapedit_saveonexit",a)};x.mR=function(){return null==t.localStorage.getItem("mapedit_saveonexit")?!1:t.localStorage.getItem("mapedit_saveonexit")};ListView=p.hh.extend({Mk:null,A:null,Pv:null,ww:!1,Qh:null,Rm:null,CC:function(){if(this.A){this.Rm&&(this.Rm.R(),this.Qh.R());var a=this.A.CB();a.height<this.A.e().height&&(a=this.A.e(),this.ww=!0);this.Mk=[];for(var c=0,d=0;d<this.A.BB();d++){console.log("THINGS CARL "+d);var e=this.A.vH(d),c=c+e.height;this.Mk[d]=p.H.create();this.Mk[d].$(e);this.Mk[d].q(p.a(0,a.height-c));this.Mk[d].X(p.a(0,1));this.m(this.Mk[d]);this.Mk[d].m(this.A.qH(d))}this.vp(-300);this.XC(0);!1==this.ww&&(this.Rm=p.bb.create(p.F(0,
0,0,255),1,this.A.e().height),this.Rm.q(p.a(this.A.e().width+20,0)),this.Qh=p.bb.create(p.F(90,90,255,255),20,this.A.e().height/5),this.Qh.q(p.a(this.A.e().width+10,this.A.e().height-this.A.e().height/5)),this.A.m(this.Rm),this.A.m(this.Qh),this.Zk(p.a(0,this.Sk().y),!1))}},r:function(a){this.A=a;this.Yo(this.A.e(),this.A);this.gJ(p.Kp);this.TU(!1);a=this.A.CB();var c=p.H.create();c.$(a);this.XU(c)},bJ:function(a){this.Pv=a},HC:!1,Qw:null,vb:function(a){for(var c=a.Q,d=0;d<this.A.BB();d++)for(var e in this.Pv[d]){var f=
this.Mk[d].Ra(c),g=S(this.A,this.A.Ra(c));if(S(this.Pv[d][e],f)&&!0==g)return this.A.UI(this.Pv[d][e].pm,d,a),this.HC=!0}if(!1==this.ww){c=this.A.Ra(c);if(S(this.Qh,c))return this.Qw=c.y-this.Qh.n.I,!0;console.log("TURNING OFF SCROLOL");this.Qw=null;return this._super(a)}},Yc:function(a){if(!0==this.HC)return this.HC=!1;if(!1==this.ww){var c=a.Q;if(null!=this.Qw&&(c=this.A.Ra(c),c.y-=this.Qw,0<=c.y&&c.y+this.Qh.e().height<=this.A.e().height))return a=c.y/(this.Rm.e().height-this.Qh.e().height),this.Zk(p.a(0,
this.Sk().y*a),!1),this.Qh.Rh(c.y),!0;c=this._super(a);a=this.nH().y/this.Sk().y;this.Qh.Rh((this.Rm.e().height-this.Qh.e().height)*a);return c}}});ListView.create=function(a){var c=new ListView;c.r(a);c.CC();return c};var Ka=p.H.extend({ce:null,de:null,ee:null,ie:null,je:null,wd:null,item:null,Vd:null,Wd:null,Yd:null,Xd:null,position:null,Le:null,type:null,Za:null,ctor:function(){this._super()},r:function(){this._super();this.Le=p.U.create("","Arial",16);this.Le.X(0.5,0.5);this.Le.q(16,-16);this.Le.Z(0);this.Le.k(p.i(0,0,0));this.m(this.Le,900);this.item=[];this.Za=[];this.Ji(0)},DP:function(a){this.Kj(a.sprite.texture,a.sprite.position,"item");for(var c=0;c<ObjectLists.zi().length;c++)if(a.name==ObjectLists.zi()[c].name){this.ax({id:c,
data:{amount:a.amount}},!0);break}this.Ji(4)},rC:function(){this.Za[this.Za.length-1].temp&&(this.item[this.item.length-1].R(),this.item.splice(this.item.length-1,1),this.FT())},Kj:function(a,c,d){a=p.w.wc(p.La.d().Ab(a));a.lb(p.rect(Math.floor(32*c.x),Math.floor(32*c.y),32,32));a.k(p.F(255,255,255,255));a.X(0,1);switch(d){case "ground1":null!=this.ce&&this.ce.R();this.ce=a;this.m(this.ce);break;case "ground2":null!=this.de&&this.de.R();this.de=a;this.m(this.de,1);break;case "groundShadow":null!=
this.ee&&this.ee.R();this.ee=a;this.m(this.ee,2);break;case "mask1":null!=this.ie&&this.ie.R();this.ie=a;this.m(this.ie,3);break;case "mask2":null!=this.je&&this.je.R();this.je=a;this.m(this.je,4);break;case "mask3":null!=this.wd&&this.wd.R();this.wd=a;this.m(this.wd,5);break;case "item":this.item.push(a);this.m(this.item[this.item.length-1],6);break;case "fringe1":null!=this.Vd&&this.Vd.R();this.Vd=a;this.m(this.Vd,7);break;case "fringe2":null!=this.Wd&&this.Wd.R();this.Wd=a;this.m(this.Wd,8);break;
case "fringeShadow":null!=this.Yd&&this.Yd.R();this.Yd=a;this.m(this.Yd,9);break;case "fringe3":null!=this.Xd&&this.Xd.R(),this.Xd=a,this.m(this.Xd,10)}},kg:function(){var a=!0;if(null!=this.ce&&this.ce.T()&&!1==this.ce.T().hc)a=!1;else if(null!=this.de&&this.de.T()&&!1==this.de.T().hc)a=!1;else if(null!=this.ee&&this.ee.T()&&!1==this.ee.L4)a=!1;else if(null!=this.ie&&this.ie.T()&&!1==this.ie.T().hc)a=!1;else if(null!=this.je&&this.je.T()&&!1==this.je.T().hc)a=!1;else if(null!=this.wd&&this.wd.T()&&
!1==this.wd.T().hc)a=!1;else if(0<this.item.length)for(var c in this.item)this.item[c].T()&&!1==this.item[c].T().hc&&(a=!1);else null!=this.Vd&&this.Vd.T()&&!1==this.Vd.T().hc?a=!1:null!=this.Wd&&this.Wd.T()&&!1==this.Wd.T().hc?a=!1:null!=this.Yd&&this.Yd.T()&&!1==this.Yd.T().hc?a=!1:null!=this.Xd&&this.Xd.T()&&!1==this.Xd.T().hc&&(a=!1);return a},td:function(){null!=this.ce&&this.ce.R();this.ce=null;null!=this.de&&this.de.R();this.de=null;null!=this.ee&&this.ee.R();this.ee=null;null!=this.ie&&this.ie.R();
this.ie=null;null!=this.je&&this.je.R();this.je=null;null!=this.wd&&this.wd.R();this.wd=null;for(var a=0;a<this.item.length;a++)this.item[a].R();this.item=[];this.wd=null;null!=this.Vd&&this.Vd.R();this.Vd=null;null!=this.Wd&&this.Wd.R();this.Wd=null;null!=this.Yd&&this.Yd.R();this.Yd=null;null!=this.Xd&&this.Xd.R();this.Xd=null;this.Ji(0);this.Za=[];this.item=[]},qB:function(a){switch(a){case "ground1":null!=this.ce&&this.ce.R();this.ce=null;break;case "ground2":null!=this.de&&this.de.R();this.de=
null;break;case "groundShadow":null!=this.ee&&this.ee.R();this.ee=null;break;case "mask1":null!=this.ie&&this.ie.R();this.ie=null;break;case "mask2":null!=this.je&&this.je.R();this.je=null;break;case "mask3":null!=this.wd&&this.wd.R();this.wd=null;break;case "item":for(a=0;a<this.item.length;a++)this.item[a].R(),this.item[a].splice(a,1),a--;this.item=[];break;case "fringe1":null!=this.Vd&&this.Vd.R();this.Vd=null;break;case "fringe2":null!=this.Wd&&this.Wd.R();this.Wd=null;break;case "fringeShadow":null!=
this.Yd&&this.Yd.R();this.Yd=null;break;case "fringe3":null!=this.Xd&&this.Xd.R(),this.Xd=null}},Ji:function(a){this.type=a;switch(this.type){case 0:this.Le.ha("");break;case 1:this.Le.ha("BLK");break;case 2:this.Le.ha("SPW");break;case 3:this.Le.ha("WRP");break;case 4:this.Le.ha("ITM");break;case 5:this.Le.ha("NPC");break;case 6:this.Le.ha("SKL");break;case 7:this.Le.ha("SGN")}},ax:function(a,c){c||(c=!1);this.Za.push({num:a.id,data:a.data,temp:c})},FT:function(){this.Za.splice(this.Za.length-1,
1);0==this.Za.length&&this.Ji(0)},hw:function(){return this.Za[this.Za.length-1]},gw:function(){switch(this.type){case 3:return ObjectLists.um()[this.Za[this.Za.length-1].num];case 4:var a=ObjectLists.zi()[this.Za[this.Za.length-1].num];a.amount=parseInt(this.Za[this.Za.length-1].data.amount);return a;case 7:return ObjectLists.Sr()[this.Za[this.Za.length-1].num];case 5:return ObjectLists.Ik()[this.Za[this.Za.length-1].num]}},Ug:function(){switch(this.type){case 3:return ObjectLists.um()[this.Za[this.Za.length-
1].num]?ObjectLists.um()[this.Za[this.Za.length-1].num]:null;case 4:return ObjectLists.zi()[this.Za[this.Za.length-1].num]?ObjectLists.zi()[this.Za[this.Za.length-1].num]:null;case 5:return ObjectLists.Ik()[this.Za[this.Za.length-1].num]?ObjectLists.Ik()[this.Za[this.Za.length-1].num]:null}},RV:function(a){this.Le.Z(!0==a?255:0)},fc:function(){return this.type}});Ka.Fx=function(a,c){var d=new Ka;d.r();d.position=p.a(a,c);return d};StatsController=p.w.extend({data:null,tw:null,A:null,r:function(a,c){this.data=a;this.A=c;this.GU()},update:function(){for(var a in this.data)this.tw&&(0==this.data[a].value&&0<this.tw[a]&&this.A.taa(a),this.data[a].yc>this.tw[a].yc&&this.A.vaa(a)),this.tw[a]=this.data[a]},D4:function(a){return this.data[a].value},C4:function(a){return this.data[a].yc},c7:function(a,c){this.data[a].value+=c;this.data[a].value>this.data[a].Ff&&(this.data[a].value=this.data[a].Ff);0>this.data[a].value&&(this.data[a].value=
0)},eQ:function(a,c){this.data[a].value=c;this.data[a].value>this.data[a].Ff&&(this.data[a].value=this.data[a].Ff);0>this.data[a].value&&(this.data[a].value=0)},b7:function(a,c){this.data[a].yc+=c;this.data[a].yc>this.data[a].Ef&&(this.data[a].yc=this.data[a].Ef);0>this.data[a].yc&&(this.data[a].yc=0)},eQ:function(a,c){this.data[a].yc=c;this.data[a].yc>this.data[a].Ef&&(this.data[a].yc=this.data[a].Ef);0>this.data[a].yc&&(this.data[a].yc=0)},D0:function(a,c){this.data[a].Ef=c},E0:function(a,c){this.data[a].Ff=
c}});ObjectLists=p.sa.extend({qD:null,dC:null,cD:null,bD:null,iC:null,wC:null});var X;ObjectLists.d=function(){X||(X=new ObjectLists,X.qD=x.OR(),X.dC=x.jR(),X.cD=x.GR(),X.bD=x.FR(),X.iC=x.rR(),X.wC=x.zR());return X};ObjectLists.um=function(){return X.qD};ObjectLists.YV=function(a){X.qD=a};ObjectLists.zi=function(){return X.dC};ObjectLists.pV=function(a){X.dC=a};ObjectLists.To=function(){return X.cD};ObjectLists.QV=function(a){X.cD=a};ObjectLists.Sr=function(){return X.bD};
ObjectLists.PV=function(a){X.bD=a};ObjectLists.Ik=function(){return X.iC};ObjectLists.xV=function(a){X.iC=a};ObjectLists.EB=function(){return X.wC};ObjectLists.MV=function(a){X.wC=a};gameMapInstance=null;
var F=p.Bc.extend({Bd:null,s:null,lg:!1,bn:null,Gm:null,tC:null,wm:null,Qk:null,Nk:null,Ok:null,Pk:null,K:p.a(0,0),Cj:1,vB:function(a,c){function d(a,c){return{IL:a,value:c.x+c.y*U,x:c.x,y:c.y,aw:0,g:0}}function e(a,c){var d=c-1,e=c+1,g=a+1,h=a-1,k=-1<d&&f.s["tile"+V(a,d)]&&1!=f.s["tile"+V(a,d)].fc()&&7!=f.s["tile"+V(a,d)].fc();myS=e<U&&f.s["tile"+V(a,e)]&&1!=f.s["tile"+V(a,e)].fc()&&7!=f.s["tile"+V(a,e)].fc();myE=g<U&&f.s["tile"+V(g,c)]&&1!=f.s["tile"+V(g,c)].fc()&&7!=f.s["tile"+V(g,c)].fc();myW=
-1<h&&f.s["tile"+V(h,c)]&&1!=f.s["tile"+V(h,c)].fc()&&7!=f.s["tile"+V(h,c)].fc();result=[];k&&result.push({x:a,y:d});myE&&result.push({x:g,y:c});myS&&result.push({x:a,y:e});myW&&result.push({x:h,y:c});return result}for(var f=this,g=d(null,c),h,k,l,m,n,s=[],q=[],v=[d(null,a)],z=Array(La*U);h=v.length;){k=La*U;l=-1;for(m=0;m<h;m++)v[m].aw<k&&(k=v[m].aw,l=m);k=v.splice(l,1)[0];if(k.value===g.value){l=q[q.push(k)-1];do s.push(p.a(l.x,l.y));while(l=l.IL);z=q=v=[];s.reverse()}else{h=e(k.x,k.y);m=0;for(n=
h.length;m<n;m++)l=d(k,h[m]),z[l.value]||(l.g=k.g+(Math.abs(h[m].x-k.x)+Math.abs(h[m].y-k.y)),l.aw=l.g+(Math.abs(h[m].x-g.x)+Math.abs(h[m].y-g.y)),v.push(l),z[l.value]=!0);q.push(k)}}return s},aW:function(a){this.Bd={};this.Bd.mapdata={};for(var c in this.s)"tile"==c.substring(0,4)&&(this.s[c].td(),this.Bd[c]={});if(a)for(c in this.Bd=a,a)if("tile"==c.substring(0,4))for(var d in a[c])"info"!=d?null!=a[c][d]&&this.s[c].Kj(a[c][d].texture,a[c][d].frame,d):(this.s[c].Ji(a[c][d].type),a[c][d].script&&
this.s[c].ax(a[c][d].script),4==a[c][d].type&&this.s[c].Ug()&&this.s[c].Kj(this.s[c].Ug().sprite.texture,this.s[c].Ug().sprite.position,"item"),5==a[c][d].type&&this.s[c].Ug()&&A.AG(this.s[c].Ug(),p.a(this.s[c].n.x/32,this.s[c].n.y/32),this.Cj));else"mapdata"==c&&(this.Qk=""!=a[c].mapConnectors.up&&null!=a[c].mapConnectors.up?a[c].mapConnectors.up:null,this.Nk=""!=a[c].mapConnectors.down&&null!=a[c].mapConnectors.down?a[c].mapConnectors.down:null,this.Ok=""!=a[c].mapConnectors.left&&null!=a[c].mapConnectors.left?
a[c].mapConnectors.left:null,this.Pk=""!=a[c].mapConnectors.right&&null!=a[c].mapConnectors.right?a[c].mapConnectors.right:null);this.zc(this.yC)},bl:function(a){A.d().v(!1);a=x.lR(a);this.Bd={};this.Bd.mapdata={};for(var c in this.s)"tile"==c.substring(0,4)&&(this.s[c].td(),this.Bd[c]={});if(a)for(c in this.Bd=a,a)if("tile"==c.substring(0,4))for(var d in a[c])"info"!=d?null!=a[c][d]&&this.s[c].Kj(a[c][d].texture,a[c][d].frame,d):(this.s[c].Ji(a[c][d].type),a[c][d].script&&this.s[c].ax(a[c][d].script),
4==a[c][d].type&&this.s[c].Ug()&&this.s[c].Kj(this.s[c].Ug().sprite.texture,this.s[c].Ug().sprite.position,"item"),5==a[c][d].type&&this.s[c].Ug()&&A.AG(this.s[c].Ug(),p.a(this.s[c].n.x/32,this.s[c].n.y/32),this.Cj));else"mapdata"==c&&(this.Qk=""!=a[c].mapConnectors.up&&null!=a[c].mapConnectors.up?a[c].mapConnectors.up:null,this.Nk=""!=a[c].mapConnectors.down&&null!=a[c].mapConnectors.down?a[c].mapConnectors.down:null,this.Ok=""!=a[c].mapConnectors.left&&null!=a[c].mapConnectors.left?a[c].mapConnectors.left:
null,this.Pk=""!=a[c].mapConnectors.right&&null!=a[c].mapConnectors.right?a[c].mapConnectors.right:null);this.zc(this.yC)},yC:function(){for(var a in this.s)if("tile"==a.substring(0,4)&&!1==this.s[a].kg())return;A.d().v(!0);A.Nj();this.Cd(this.yC);this.Gm.v(!0);this.bn.v(!0);this.lg=!0},hd:function(){for(var a={},c=0;c<U;c++)for(var d=0;d<La;d++)a["tile"+(c+d*U)]={size:p.size(32,32),c:p.a(0,0),position:p.a(32*c,32*(La-d)),FS:!0,tW:p.a(d,c),visible:!1};return{panels:{children:a}}},r:function(){this.Tb(!0);
this.XC(1)},vb:function(a){!this.wm||Mapeditor&&Mapeditor.Y||(this.wm=Mapeditor=null);if(this.wm)for(var c in this.s)"tile"==c.substring(0,4)&&p.Cb(this.s[c].Sa(),p.a(a.Q.x-this.K.x,a.Q.y+32-this.K.y))&&(this.wm.bK(this.s,c),F.Fs());else for(c in this.s)if("tile"==c.substring(0,4)&&p.Cb(this.s[c].Sa(),p.a(a.Q.x-this.K.x,a.Q.y+32-this.K.y)))if(4==this.s[c].fc())this.Y.m(DropDownList.Jo(this,this.IS,["Pick up "+this.s[c].Ug().name,"Walk To"],a.Q)),this.Bh=c;else if(7==this.s[c].fc())this.Y.m(DropDownList.Jo(this,
this.hW,["Read Sign"],a.Q)),this.Bh=c;else if(1!=this.s[c].fc()&&7!=this.s[c].fc()&&4!=this.s[c].fc()){var d=A.l.ga.Df();A.l.ga.$C(this.vB(p.a(Math.floor(d.x),Math.ceil(d.y)),p.a(this.s[c].n.x/32,this.s[c].n.y/32)))}return!0},Bh:null,IS:function(a){if(null!=this.A.Bh){var c=A.l.ga.Df(),d=p.a(gameMapInstance.s[gameMapInstance.Bh].n.x/32,gameMapInstance.s[gameMapInstance.Bh].n.y/32);switch(a){case 0:a=c.x>d.x?c.x-d.x:d.x-c.x;c=c.y>d.y?c.y-d.y:d.y-c.y;5>Math.sqrt(a*a+c*c)?A.l.ga.VH(gameMapInstance.s[gameMapInstance.Bh]):
D.Bb("The item is too far away!");break;case 1:A.l.ga.$C(gameMapInstance.vB(p.a(Math.floor(c.x),Math.ceil(c.y)),d)),this.A.Bh=null}}},hW:function(a){if(null!=this.A.Bh){var c=A.l.ga.Df(),d=p.a(gameMapInstance.s[gameMapInstance.Bh].n.x/32,gameMapInstance.s[gameMapInstance.Bh].n.y/32);switch(a){case 0:a=c.x>d.x?c.x-d.x:d.x-c.x,c=c.y>d.y?c.y-d.y:d.y-c.y,5>Math.sqrt(a*a+c*c)?A.l.ga.VH(gameMapInstance.s[gameMapInstance.Bh]):D.Bb("The sign is too far away to read!")}}},Yc:function(a){if(this.wm){for(var c in this.s)"tile"==
c.substring(0,4)&&p.Cb(this.s[c].Sa(),p.a(a.Q.x-this.K.x,a.Q.y+32-this.K.y))&&(this.wm.bK(this.s,c,"moved"),F.Fs());return!0}for(c in this.s)if("tile"==c.substring(0,4)&&1!=this.s[c].fc()&&7!=this.s[c].fc()&&4!=this.s[c].fc()&&p.Cb(this.s[c].Sa(),p.a(a.Q.x-this.K.x,a.Q.y+32-this.K.y))){var d=A.l.ga.Df();A.l.ga.$C(this.vB(p.a(Math.floor(d.x),Math.ceil(d.y)),p.a(this.s[c].n.x/32,this.s[c].n.y/32)))}},ia:function(){this._super();if(!0==this.lg){this.bn.fB(0,0,0,0);for(var a in this.s)"tile"==a.substring(0,
4)&&(this.s[a].v(!0),null!=this.s[a].Vd&&this.s[a].Vd.v(!1),null!=this.s[a].Wd&&this.s[a].Wd.v(!1),null!=this.s[a].Yd&&this.s[a].Yd.v(!1),null!=this.s[a].Xd&&this.s[a].Xd.v(!1),this.s[a].ia(),null!=this.s[a].Vd&&this.s[a].Vd.v(!0),null!=this.s[a].Wd&&this.s[a].Wd.v(!0),null!=this.s[a].Yd&&this.s[a].Yd.v(!0),null!=this.s[a].Xd&&this.s[a].Xd.v(!0),this.s[a].v(!1));this.bn.end();this.Gm.fB(0,0,0,0);for(a in this.s)if("tile"==a.substring(0,4)){this.s[a].v(!0);null!=this.s[a].ce&&this.s[a].ce.v(!1);null!=
this.s[a].de&&this.s[a].de.v(!1);null!=this.s[a].ee&&this.s[a].ee.v(!1);null!=this.s[a].ie&&this.s[a].ie.v(!1);null!=this.s[a].je&&this.s[a].je.v(!1);null!=this.s[a].wd&&this.s[a].wd.v(!1);for(var c=0;c<this.s[a].item.length;c++)this.s[a].item[c].v(!1);this.s[a].ia();null!=this.s[a].ce&&this.s[a].ce.v(!0);null!=this.s[a].de&&this.s[a].de.v(!0);null!=this.s[a].ee&&this.s[a].ee.v(!0);null!=this.s[a].ie&&this.s[a].ie.v(!0);null!=this.s[a].je&&this.s[a].je.v(!0);null!=this.s[a].wd&&this.s[a].wd.v(!0);
for(c=0;c<this.s[a].item.length;c++)this.s[a].item[c].v(!0);this.s[a].v(!1)}this.Gm.end();this.lg=!1}}});F.nx=function(a,c){0<=gameMapInstance.K.x+(T.width-Y.width/2)+a&&A.l.ga.n.x<T.width-Y.width/2&&0>=gameMapInstance.K.x+a&&A.l.ga.n.x>Y.width/2&&(gameMapInstance.K.x+=a);0<=gameMapInstance.K.y+(T.height-Y.height/2)+c&&A.l.ga.n.y<T.height-Y.height/2&&0>=gameMapInstance.K.y+c&&A.l.ga.n.y>Y.height/2&&(gameMapInstance.K.y+=c);gameMapInstance.q(gameMapInstance.K.x,gameMapInstance.K.y)};
F.LB=function(a,c){a=parseInt(a);c=parseInt(c);!0==gameMapInstance.lg?0==offsetFromPositionScheduledX&&0==offsetFromPositionScheduledY&&(offsetFromPositionScheduledX=a,offsetFromPositionScheduledY=c,gameMapInstance.zc(F.WI)):(gameMapInstance.K.x=a>T.width-Y.width/2?-(T.width-Y.width):a<Y.width/2?0:-(a-Y.width/2),gameMapInstance.K.y=c>T.height-Y.height/2?-(T.height-Y.height):c<Y.height/2?0:-(c-Y.height/2),offsetFromPositionScheduledY=offsetFromPositionScheduledX=0,gameMapInstance.Cd(F.WI),gameMapInstance.q(gameMapInstance.K.x,
gameMapInstance.K.y))};offsetFromPositionScheduledY=offsetFromPositionScheduledX=0;F.WI=function(){F.LB(offsetFromPositionScheduledX,offsetFromPositionScheduledY)};F.NB=function(){!0==gameMapInstance.lg?gameMapInstance.zc(F.NB):(gameMapInstance.Cd(F.NB),gameMapInstance.K.x=-(T.width-Y.width),gameMapInstance.q(gameMapInstance.K.x,gameMapInstance.K.y))};
F.MB=function(){!0==gameMapInstance.lg?gameMapInstance.zc(F.MB):(gameMapInstance.Cd(F.MB),gameMapInstance.K.x=0,gameMapInstance.q(gameMapInstance.K.x,gameMapInstance.K.y))};F.KB=function(){!0==gameMapInstance.lg?gameMapInstance.zc(F.KB):(gameMapInstance.Cd(F.KB),gameMapInstance.K.y=-(T.height-Y.height),gameMapInstance.q(gameMapInstance.K.x,gameMapInstance.K.y))};
F.OB=function(){!0==gameMapInstance.lg?gameMapInstance.zc(F.OB):(gameMapInstance.Cd(F.OB),gameMapInstance.K.y=0,gameMapInstance.q(gameMapInstance.K.x,gameMapInstance.K.y))};
F.create=function(){gameMapInstance||(gameMapInstance=new F,gameMapInstance.s=Da(gameMapInstance),gameMapInstance.m(gameMapInstance.s),gameMapInstance.bn=p.ob.create(T.width,T.height),gameMapInstance.bn.q(p.a(Math.floor(T.width/2),Math.floor(T.height/2))),gameMapInstance.m(gameMapInstance.bn),gameMapInstance.bn.v(!1),gameMapInstance.tC=p.H.create(),gameMapInstance.m(gameMapInstance.tC),gameMapInstance.Gm=p.ob.create(T.width,T.height),gameMapInstance.Gm.q(p.a(Math.floor(T.width/2),Math.floor(T.height/
2))),gameMapInstance.m(gameMapInstance.Gm),gameMapInstance.Gm.v(!1),gameMapInstance.vp(-15),gameMapInstance.r());return gameMapInstance};F.d=function(){return gameMapInstance};F.rs=function(){gameMapInstance.R();gameMapInstance=null};F.Fs=function(){gameMapInstance||(gameMapInstance=F.create());gameMapInstance.lg=!0};F.bW=function(a){gameMapInstance.aW(a)};F.d=function(){return gameMapInstance};F.Kj=function(a,c,d,e){gameMapInstance.s[a].Kj(c,d,e);gameMapInstance.Bd[a][e]={texture:c,frame:d}};
F.mK=function(){H({savemap:gameMapInstance.Cj,mapdata:gameMapInstance.Bd})};F.qB=function(a,c){gameMapInstance.Bd[a][c]=null;gameMapInstance.s[a].qB(c)};F.Ii=function(a,c,d,e){gameMapInstance.s[a].Ji(c);d?(gameMapInstance.s[a].ax(d,e),gameMapInstance.Bd[a].info={type:c,script:{id:d,data:e?e:null}}):gameMapInstance.Bd[a].info={type:c}};F.qJ=function(a){gameMapInstance.Bd.mapdata.mapConnectors=a;gameMapInstance.Qk=a.up;gameMapInstance.Nk=a.down;gameMapInstance.Ok=a.left;gameMapInstance.Pk=a.right};
F.WQ=function(a,c,d){for(var e in gameMapInstance.s)"tile"==e.substring(0,4)&&(gameMapInstance.s[e].Kj(a,c,d),gameMapInstance.Bd[e][d]={texture:a,frame:c})};F.BJ=function(a){for(var c in gameMapInstance.s)"tile"==c.substring(0,4)&&gameMapInstance.s[c].RV(a);gameMapInstance.lg=!0};F.M$=function(){for(var a in gameMapInstance.s)"tile"==a.substring(0,4)&&gameMapInstance.s[a].Le.ha(a.substring(4));gameMapInstance.lg=!0};F.HH=function(){return null!=gameMapInstance.Qk};F.FH=function(){return null!=gameMapInstance.Nk};
F.GH=function(){return null!=gameMapInstance.Ok};F.QB=function(){return null!=gameMapInstance.Pk};F.$d=function(){return gameMapInstance.Cj};F.tH=function(){return gameMapInstance.Qk};F.rH=function(){return gameMapInstance.Nk};F.sH=function(){return gameMapInstance.Ok};F.DB=function(){return gameMapInstance.Pk};F.jw=function(a,c){c||(MapMaster=!1);A.d().v(!1);A.CQ();F.td();gameMapInstance.Cj=a;A.l.ga.pp(a);A.Nj();gameMapInstance.bl(a)};
F.TR=function(){A.d().v(!1);F.td();gameMapInstance.Cj=gameMapInstance.Qk;A.l.ga.pp(gameMapInstance.Qk);A.Nj();gameMapInstance.bl(gameMapInstance.Qk)};F.QR=function(){A.d().v(!1);F.td();gameMapInstance.Cj=gameMapInstance.Nk;A.l.ga.pp(gameMapInstance.Nk);A.Nj();gameMapInstance.bl(gameMapInstance.Nk)};F.RR=function(){A.d().v(!1);F.td();gameMapInstance.Cj=gameMapInstance.Ok;A.l.ga.pp(gameMapInstance.Ok);A.Nj();gameMapInstance.bl(gameMapInstance.Ok)};
F.SR=function(){A.d().v(!1);F.td();gameMapInstance.Cj=gameMapInstance.Pk;A.l.ga.pp(gameMapInstance.Pk);A.Nj();gameMapInstance.bl(gameMapInstance.Pk)};F.ss=function(a){gameMapInstance.wm=a};F.iw=function(a,c){return a>U-1||0>a?void 0:gameMapInstance.s["tile"+(a+(La-c)*U)]};F.AH=function(a){return gameMapInstance.s["tile"+a]};F.GP=function(){var a=A.d();gameMapInstance.tC.m(a);F.LB(A.l.ga.n.C,A.l.ga.n.I)};
F.td=function(){gameMapInstance.Bd={};for(var a in gameMapInstance.s)"tile"==a.substring(0,4)&&(gameMapInstance.s[a].td(),gameMapInstance.Bd[a]={});gameMapInstance.Bd.mapdata={};gameMapInstance.lg=!0};var A=p.Bc.extend({l:null,Sb:[],ff:[],ga:null});A.d=function(){return this.l};A.rs=function(){this.l.R();this.l=null};A.create=function(a){this.l||(this.l=new A,this.l.ga=PlayerCharacter.create(a),this.l.ga.q(960,320),this.l.m(this.l.ga));return this.l};A.zL=function(){var a=F.$d(),c=[],d;for(d in this.l.ff)this.l.ff[d].og==a&&c.push(this.l.ff[d]);return c};A.Rr=function(a){return this.l.ff[a]};A.YS=function(a,c,d){this.l.ff[a]&&"default"!=c&&this.l.ga.og==d&&this.l.ff[a].qK(c)};
A.tU=function(a,c){this.l.ff[a]&&"default"!=c&&this.l.ff[a].q(p.a(c%U*32,32*Math.floor(c/U)))};A.CQ=function(){for(var a in this.l.ff)this.l.ff[a].R();this.l.ff=[]};A.AG=function(a,c,d){var e=parseInt(this.l.ff.length);this.l.ff.push(NonPlayerCharacter.create({name:a.name,Ym:{health:{yc:1,value:100,Ff:200,Ef:900},mana:{yc:1,value:100,Ff:200,Ef:99}},map:d,As:"sprites1.png",ys:2,Kk:e}));this.l.ff[e].q(32*c.x,32*c.y);this.l.m(this.l.ff[e])};A.k5=function(){return this.l.ga};A.Hh=function(a){return this.l.Sb[a]};
A.FP=function(a){this.l.Sb[a]=PlayerCharacter.create({name:a,Ym:{health:{yc:1,value:100,Ff:200,Ef:900},mana:{yc:1,value:100,Ff:200,Ef:99}},map:1,As:"sprites1.png",ys:1});this.l.Sb[a].q(960,320);A.Nj();this.l.m(this.l.Sb[a]);D.Bb(a+I.xc.sC)};A.SG=function(a){if(this.l.Sb[a]){this.l.Sb[a].R();this.l.Sb[a]=null;D.Bb(a+I.xc.DT);for(var c=0;c<u.length;c++){var d=JSON.parse(u[c]);d.id&&d.id==a&&(u.splice(c,1),c--)}}};
A.ZS=function(a,c){this.l.Sb[a]&&"default"!=c?this.l.Sb[a].qK(c):(this.l.Sb[a]=PlayerCharacter.create({name:a,Ym:{health:{yc:1,value:100,Ff:200,Ef:900},mana:{yc:1,value:100,Ff:200,Ef:99}},map:1,As:"sprites1.png",ys:1}),this.l.Sb[a].q(960,320),this.l.Sb[a].q(p.a(c%U*32,32*Math.floor(c/U))),A.Nj(),this.l.m(this.l.Sb[a]),D.Bb(a+I.xc.sC))};
A.zI=function(a,c){this.l.Sb[a]&&"default"!=c?this.l.Sb[a].q(p.a(c%U*32,32*Math.floor(c/U))):(this.l.Sb[a]=PlayerCharacter.create({name:a,Ym:{health:{yc:1,value:100,Ff:200,Ef:900},mana:{yc:1,value:100,Ff:200,Ef:99}},map:1,As:"sprites1.png",ys:1}),this.l.Sb[a].q(p.a(c%U*32,32*Math.floor(c/U))),A.Nj(),this.l.m(this.l.Sb[a]),D.Bb(a+I.xc.sC))};A.aQ=function(a){this.l.Sb[a]&&this.l.Sb[a].updateStatus("AFK")};
A.Nj=function(){var a=this.l.ga.og,c;for(c in this.l.Sb)null!=this.l.Sb[c]&&this.l.Sb[c].v(this.l.Sb[c].og==a)};A.td=function(){for(var a in this.l.Sb)null!=this.l.Sb[a]&&A.SG(a);this.l.ga.R();this.l.ga=null};A.$P=function(a,c){this.l.Sb[a].pp(c);this.l.Sb[a].v(this.l.ga.og==c)};Character=p.w.extend({name:null,Ym:null,$J:null,b0:null,Me:null,mg:!1,Bm:null,hx:null,Ei:!1,Kk:-1,status:null,og:null,path:null,uB:"DOWN",r:function(a){this.TV(a.As,a.ys);this.Ym=new StatsController(a.uaa,this);this.m(this.Ym);this.name=a.name;a.Ei&&(this.Ei=a.Ei);a.map&&(this.og=a.map);null!=a.Kk&&"undefined"!==a.Kk&&(console.log(this.Kk),this.Kk=a.Kk);this.X(0,1);this.Bm=p.U.create("","Arial",12);this.Bm.X(0.5,0);this.Bm.k(255,0,0);this.Bm.q(Math.floor(this.e().width/2),this.e().width+3);this.m(this.Bm);
this.jK()},I2:function(){return this.uB},pp:function(a){this.og=a},g3:function(){return this.og},updateStatus:function(a){this.status=a&&a!=this.status?a:null;this.jK()},jK:function(){null!=this.status?this.Bm.ha(this.name+"-"+this.status):this.Bm.ha(this.name)},getName:function(){return this.name},lf:function(a,c,d){this.lb(p.rect(32*a,128*this.$J.id+32*c,32,32));this.hx=p.a(a,c);this.uB=d},Vg:function(){return this.hx},TV:function(a,c){this.$J={name:a,id:c};this.aa(p.La.d().Ab(a));this.lf(1,0)},
Df:function(){return p.a(this.n.x/32,this.n.y/32)},Kv:0.24,FW:0.24,Fk:2,HW:function(a){var c=a.position%U,d=Math.floor(a.position/U);this.q(32*c,32*d);H({changemap:a.mapTo,setTo:a.position});F.jw(a.mapTo);F.LB(32*c,32*d)},AS:function(){if(!this.mg){var a=this.Df(),a=F.iw(a.x,a.y);switch(a.fc()){case 4:this.rC(a.gw())}}},VH:function(a){if(a&&!this.mg)switch(a.fc()){case 4:this.BT(a.gw(),a);break;case 7:Ja.SJ(a.gw())}},zS:function(){if(!this.mg){var a=this.Df();switch(this.uB){case "RIGHT":a.x+=1;break;
case "LEFT":a.x-=1;break;case "UP":a.y+=1;break;case "DOWN":a.y-=1}if(a=F.iw(a.x,a.y))switch(a.fc()){case 7:Ja.SJ(a.gw())}}},Is:function(a){this.Kv+=a;a=this.n;var c=this.Vg();this.Kv>this.FW&&(this.Kv=0,this.Me.x<a.x?this.lf((c.x+1)%3,1,"LEFT"):this.Me.x>a.x?this.lf((c.x+1)%3,2,"RIGHT"):this.Me.y<a.y?this.lf((c.x+1)%3,0,"DOWN"):this.Me.y>a.y&&this.lf((c.x+1)%3,3,"UP"));this.Me.x<a.x?(this.Db(a.x-this.Fk),this.Ei&&F.nx(+this.Fk,0)):this.Me.x>a.x?(this.Db(a.x+this.Fk),this.Ei&&F.nx(-this.Fk,0)):this.Me.y<
a.y?(this.Rh(a.y-this.Fk),this.Ei&&F.nx(0,this.Fk)):this.Me.y>a.y&&(this.Rh(a.y+this.Fk),this.Ei&&F.nx(0,-this.Fk));a.y==this.Me.y&&a.x==this.Me.x&&(this.mg=!1,this.Cd(this.Is),null!=this.path&&this.FG())},Bp:function(a,c){if(!1!=this.pa){var d=F.iw(a,c),e=this.hx,f=this.Df();f.x>a?this.lf(e.x,1,"LEFT"):f.x<a&&this.lf(e.x,2,"RIGHT");f.y>c?this.lf(e.x,0,"DOWN"):f.y<c&&this.lf(e.x,3,"UP");if(!d)this.Ei&&null==Mapeditor&&(f.x<a&&F.QB()?(this.q(0,32*c),H({changemap:parseInt(F.DB()),setTo:0+c*U}),F.SR(),
F.MB()):f.x>a&&F.GH()&&(this.q(32*(U-1),32*c),H({changemap:parseInt(F.sH()),setTo:U-1+c*U}),F.RR(),F.NB()),f.y<c&&F.HH()?(this.q(32*a,32),H({changemap:parseInt(F.tH()),setTo:a+1*U}),F.TR(),F.OB()):f.y>c&&F.FH()&&(H({changemap:parseInt(F.rH()),setTo:a+La*U}),F.QR(),this.q(32*a,32*La),F.KB()));else if(!1==this.mg&&d){switch(d.fc()){case 1:case 7:return;case 3:this.HW(d.Ug());return}this.Me=p.a(32*a,32*c);this.mg=!0;this.zc(this.Is);this.Is(0);this.Ei?H({moveTo:this.Me.x/32+this.Me.y/32*U}):-1<this.Kk&&
H({npcID:this.Kk+"",mapnumber:this.og,moveNPC:this.Me.x/32+this.Me.y/32*U})}}},FG:function(){0==this.path.length?this.path=null:(this.path.splice(0,1),0==this.path.length?this.path=null:this.Bp(this.path[0].x,this.path[0].y))},$C:function(a){if(null==this.path||0!=a.length)this.path=a,this.FG()},qK:function(a){if(!1!=this.pa){var c=a%U;a=Math.floor(a/U);if(!1==this.mg){var d=this.hx,e=this.Df();4<Math.abs(p.mC(p.a(c,a),e))?this.q(p.a(32*c,32*a)):(e.x>c?this.lf(d.x,1,"LEFT"):e.x<c?this.lf(d.x,2,"RIGHT"):
e.y>a?this.lf(d.x,0,"DOWN"):e.y<a&&this.lf(d.x,3,"UP"),this.Me=p.a(32*c,32*a),this.mg=!0,this.zc(this.Is),this.Is(0))}}}});
PlayerCharacter=Character.extend({items:null,r:function(a){this._super(a);this.items={stored:[],equipped:{}}},Es:function(a,c){for(var d=0;d<this.items.stored.length;d++)this.items.stored[d].name==a&&(this.items.stored[d]=c)},rC:function(a){var c=this.Df(),d=F.iw(c.x,c.y);if(!0==a.stackable)for(var e=0;40>e;e++)if(this.items.stored[e]&&this.items.stored[e].name==a.name){Inventory&&(this.items.stored[e].amount+=a.amount,Inventory.Xm(e,this.items.stored[e].amount));D.Bb(I.xc.Bw+a.name);d.hw().temp?
H({pickupitem:V(c.x,c.y),mapnumber:F.$d(),temp:!0}):H({pickupitem:V(c.x,c.y),mapnumber:F.$d()});return}for(var f=!1,e=0;40>e;e++)if(null==this.items.stored[e]){this.items.stored[e]=Ca(a);Inventory&&Inventory.Xm(e,this.items.stored[e].amount);D.Bb(I.xc.Bw+a.name);d.hw().temp?H({pickupitem:V(c.x,c.y),mapnumber:F.$d(),temp:!0}):H({pickupitem:V(c.x,c.y),mapnumber:F.$d()});f=!0;break}!1==f&&D.Bb(I.xc.WH)},BT:function(a,c){var d=p.a(c.n.C/32,c.n.I/32);if(!0==a.stackable)for(var e=0;40>e;e++)if(this.items.stored[e]&&
this.items.stored[e].name==a.name){Inventory&&(this.items.stored[e].amount+=a.amount,Inventory.Xm(e,this.items.stored[e].amount));D.Bb(I.xc.Bw+a.name);c.hw().temp?H({pickupitem:V(d.x,d.y),mapnumber:F.$d(),temp:!0}):H({pickupitem:V(d.x,d.y),mapnumber:F.$d()});return}for(var f=!1,e=0;40>e;e++)if(null==this.items.stored[e]){this.items.stored[e]=Ca(a);Inventory&&Inventory.Xm(e,this.items.stored[e].amount);D.Bb(I.xc.Bw+a.name);c.hw().temp?H({pickupitem:V(d.x,d.y),mapnumber:F.$d(),temp:!0}):H({pickupitem:V(d.x,
d.y),mapnumber:F.$d()});f=!0;break}!1==f&&D.Bb(I.xc.WH)},aH:function(a,c){var d=this.Df();D.Bb(I.xc.OQ+this.items[c][a].name);H({droppeditem:this.items[c][a],mapnumber:F.$d(),index:V(d.x,d.y)});!0==this.items[c][a].stackable&&1<this.items[c][a].amount&&Inventory.Xm(a,0);this.items[c][a]=null;Inventory&&Inventory.mf();Equipment&&Equipment.mf()},DW:function(a){switch(this.items.stored[a].itemType){case "book":Ja.eW(this.items.stored[a]);break;case "wearable":this.VQ(a)}},VQ:function(a){var c=null;this.items.equipped[this.items.stored[a].subType]&&
(c=Ca(this.items.equipped[this.items.stored[a].subType]));this.items.equipped[this.items.stored[a].subType]=Ca(this.items.stored[a]);this.items.stored[a]=c;Inventory&&Inventory.mf();Equipment&&Equipment.mf()},BQ:function(a){for(var c=0;40>c;c++)if(null==this.items.stored[c]){this.items.stored[c]=Ca(this.items.equipped[a]);this.items.equipped[a]=null;Inventory&&Inventory.mf();Equipment&&Equipment.mf();return}D.Bb("No space in inventory to dequip this item.")},Qr:function(){return this.items.stored},
zB:function(){return this.items.equipped}});PlayerCharacter.create=function(a){var c=new PlayerCharacter;c.r(a);return c};NonPlayerCharacter=Character.extend({W6:null,Cw:!1,KV:function(a,c){this.Cw=!0;this.Lc(function(){this.Bp(a.x,a.y);this.Cw=!1},c)},l6:function(){return this.Cw}});NonPlayerCharacter.create=function(a){var c=new NonPlayerCharacter;c.r(a);return c};var Ma=p.Bc.extend({JC:null,b:null,ctor:function(){this._super()},rK:function(){},Wm:function(){},Mh:function(){},Pa:function(){this.b&&this.b.R();this.b=Da(this);this.m(this.b)},kb:function(){},r:function(){this.XC(1);this.Tw(!0);this.Tb(!0);y.Tm(this);this._super()},kC:function(){p.log("Override onKeyDown in scene extended class to use keyboard")},Tk:function(){p.log("Override onKeyUp in scene extended class to use keyboard")},nV:function(a){this.JC=a},gd:function(){return this.JC}});DropDownList=Ma.extend({list:null,uQ:null,selected:null,b:null,A:null,RG:null,BI:null,ctor:function(){this._super();this.list=[];this.uQ=0},r:function(a,c,d,e){this._super();a&&(this.A=a,this.RG=c,d&&(this.list=d),e&&this.q(e),this.BI=y.aR(),y.Tm(this),this.vp(-1001),this.Tw(!0))},vb:function(a){a=this.b.control_menu.Ra(a.Q);for(var c=0;c<this.list.length;c++)p.Cb(p.rect(this.b.control_menu[c+""].n.C,this.b.control_menu[c+""].n.I,this.b.control_menu[c+""].e().width,this.b.control_menu[c+""].e().height),
a)&&this.RG(c);this.NT();return!0},NT:function(){y.Tm(this.BI);this.R();Fa()},uU:function(){this.Rh(this.n.I-24*this.list.length);for(var a=0,c=0;c<this.list.length;c++)this.b.control_menu[c+""].content.e().width>a&&(a=this.b.control_menu[c+""].content.e().width);for(c=0;c<this.list.length;c++)this.b.control_menu[c+""].IG(a+8);this.b.control_menu.IG(a+8)},hd:function(){for(var a={},c=0;c<this.list.length;c++)a[c+""]={position:p.a(0,24*(this.list.length-1)-24*c),size:p.size(96,24),c:p.a(0,0),t:p.F(200,
200,200,200),children:{content:{label:this.list[c],fontSize:20,color:p.i(0,0,0),c:p.a(0,0.5),position:p.a(4,12)}}};return{panels:{children:{control_menu:{position:p.a(0,0),t:p.F(200,200,200,0),size:p.size(96,48),children:a}}}}},Mh:function(a){a=this.b.control_menu.Ra(a.Q);for(var c=0;c<this.list.length;c++)this.b.control_menu[c+""].k(p.F(200,200,200,200)),p.Cb(p.rect(this.b.control_menu[c+""].n.C,this.b.control_menu[c+""].n.I,this.b.control_menu[c+""].e().width,this.b.control_menu[c+""].e().height),
a)&&this.b.control_menu[c+""].k(p.F(255,0,0,255))}});DropDownList.Jo=function(a,c,d,e){var f=new DropDownList;f.r(a,c,d,e);f.b=Da(f.hd(),!0);f.m(f.b);f.uU();return f};Popup=Ma.extend({hf:null,ig:!1,r:function(){this.JC=this.gd();this._super();y.Tm(this);this.cW();this.vp(-50)},o1:function(){this.R()},vb:function(a){var c=a.Q;y.Tm(this);c=this.b.control_panel.Ra(c);if(p.Cb(p.rect(this.b.control_panel.exitBtn.n.C,this.b.control_panel.exitBtn.n.I,this.b.control_panel.exitBtn.e().width,this.b.control_panel.exitBtn.e().height),c)){var d=this;this.Y.Lc(function(){!1==d.ig&&d.kb();d.R();d=null});return!0}return p.Cb(p.rect(this.b.n.x,this.b.n.y+this.b.control_panel.n.y,
this.b.control_panel.e().width,this.b.control_panel.e().height),a.Q)?(this.hf=this.b.Ch(a),!0):!1},Yc:function(a){return this.hf?(a=a.Q,this.b.q(p.a(a.x-this.hf.x,a.y-this.hf.y)),!0):!1},R:function(){x.FV(this.gd(),this.b.n);this._super()},cW:function(){p.log("Ovveride setupPopup")},gd:function(){p.log("No id given... using default 'Popup'");return"Popup"},gf:function(){},Pa:function(){this._super();var a=x.vR();if("null"!=a&&null!=a&&(a=JSON.parse(a)[this.gd()])){a=p.a(a.x,a.y);if(a.x>Y.width-10||
a.y>Y.height)a=p.a(8,100);this.b.q(a)}}});Book=null;
BookPanel=Popup.extend({data:null,He:null,gd:function(){return"Book"},hd:function(){return{panels:{position:p.a(100,20),children:{main_panel:{c:p.a(0,0),position:p.a(0,0),size:p.size(514,313),va:"GUI/book.png",children:{pageBackbtn:{position:p.a(2,1),size:p.size(36,36),va:"GUI/btnLeft.png",c:p.a(0,0)},pageForwardbtn:{position:p.a(475,1),size:p.size(36,36),va:"GUI/btnRight.png",c:p.a(0,0)},leftPage:{label:0<this.He.length?this.He[0]:this.He,c:p.a(0,1),position:p.a(4,308),color:p.i(0,0,0)},rightPage:{label:0<
this.He.length?this.He[1]:"",c:p.a(0,1),position:p.a(260,308),color:p.i(0,0,0)}}},control_panel:{c:p.a(0,0),position:p.a(0,313),size:p.size(514,32),children:{header:{label:this.data.name,fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(490,6),size:p.size(20,20),c:p.a(0,0),va:"GUI/close.png"}}}}}}},r:function(a){this._super();this.data=a;this.He=[];for(a=a.additionalData.Contents;a;)if(470>a.length){this.He.push(a);break}else this.He.push(a.substr(0,470)+"..."),a=a.substr(470);this.xT=
Math.floor(this.He.length/2)-1;this.wi=0},Pa:function(){this._super();this.b.main_panel.leftPage.Sw(p.size(248,0));this.b.main_panel.rightPage.Sw(p.size(248,0));this.b.main_panel.pageBackbtn.v(!1);2>this.He.length&&this.b.main_panel.pageForwardbtn.v(!1)},UR:function(){this.wi++;this.b.main_panel.pageBackbtn.v(!0);this.wi==this.xT&&this.b.main_panel.pageForwardbtn.v(!1);this.b.main_panel.leftPage.ha(this.He[2*this.wi]);this.He[2*this.wi+1]?this.b.main_panel.rightPage.ha(this.He[2*this.wi+1]):this.b.main_panel.rightPage.ha("")},
VR:function(){this.wi--;this.b.main_panel.pageForwardbtn.v(!0);0==this.wi&&this.b.main_panel.pageBackbtn.v(!1);this.b.main_panel.leftPage.ha(this.He[2*this.wi]);this.He[2*this.wi+1]&&this.b.main_panel.rightPage.ha(this.He[2*this.wi+1])},vb:function(a){if(this._super(a))return!0;this.hf=null;a=this.b.main_panel.Ra(a.Q);if(S(this.b.main_panel.pageForwardbtn,a))return this.UR(),!0;if(S(this.b.main_panel.pageBackbtn,a))return this.VR(),!0}});Equipment=null;
EquipmentPanel=Popup.extend({gd:function(){return"Equipment"},hd:function(){var a={};a.head={va:"GUI/defaultitem.png",position:p.a(88,162),size:p.size(32,32),c:p.a(0,1)};a.legs={va:"GUI/defaultitem.png",position:p.a(88,82),size:p.size(32,32),c:p.a(0,1)};a.feet={va:"GUI/defaultitem.png",position:p.a(88,40),size:p.size(32,32),c:p.a(0,1)};a.body={va:"GUI/defaultitem.png",position:p.a(88,122),size:p.size(32,32),c:p.a(0,1)};a.larm={va:"GUI/defaultitem.png",position:p.a(48,122),size:p.size(32,32),c:p.a(0,
1)};a.rarm={va:"GUI/defaultitem.png",position:p.a(128,122),size:p.size(32,32),c:p.a(0,1)};a.mod={va:"GUI/defaultitem.png",position:p.a(8,162),size:p.size(32,32),c:p.a(0,1)};return{panels:{position:p.a(100,300),children:{main_panel:{c:p.a(0,0),size:p.size(168,168),va:"GUI/equipment.png",children:a},control_panel:{c:p.a(0,0),position:p.a(0,168),size:p.size(168,32),children:{header:{label:"Equipment",fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(144,6),size:p.size(20,20),c:p.a(0,
0),va:"GUI/close.png"}}},item_name:{position:p.a(0,0),t:p.F(200,200,200,200),size:p.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:p.i(0,0,0),c:p.a(0.5,0.5),position:p.a(32,8)}}}}}}},mf:function(){var a=A.l.ga.zB();this.b.main_panel.head.aa(p.La.d().Ab("GUI/defaultitem.png"));this.b.main_panel.body.aa(p.La.d().Ab("GUI/defaultitem.png"));this.b.main_panel.legs.aa(p.La.d().Ab("GUI/defaultitem.png"));this.b.main_panel.feet.aa(p.La.d().Ab("GUI/defaultitem.png"));this.b.main_panel.larm.aa(p.La.d().Ab("GUI/defaultitem.png"));
this.b.main_panel.rarm.aa(p.La.d().Ab("GUI/defaultitem.png"));this.b.main_panel.mod.aa(p.La.d().Ab("GUI/defaultitem.png"));for(var c in a)if(a[c]){for(var d in K)if(K[d].name==a[c].sprite.texture)var e=K[d].texture;this.b.main_panel[a[c].subType].X(0,1);this.b.main_panel[a[c].subType].aa(e);this.b.main_panel[a[c].subType].lb(p.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,32,32))}},fC:function(a){switch(a){case 0:A.l.ga.BQ(this.A.ap);break;case 1:A.l.ga.aH(this.A.ap,"equipped")}},vb:function(a){if(this._super(a))return!0;
this.hf=null;var c=this.b.main_panel.Ra(a.Q),d=A.l.ga.zB(),e;for(e in d)if(d[e]&&S(this.b.main_panel[d[e].subType],p.a(c.x,c.y+32)))return this.ap=e,this.b.item_name.v(!1),this.m(DropDownList.Jo(this,this.fC,["Unequip","Drop"],a.Q)),!0},Mh:function(a){a=this.b.main_panel.Ra(a.Q);this.b.item_name.v(!1);var c=A.l.ga.zB(),d;for(d in c)if(c[d]&&S(this.b.main_panel[c[d].subType],p.a(a.x,a.y+t32)))return this.b.item_name.content.ha(c[d].name),this.b.item_name.v(!0),this.b.item_name.$(this.b.item_name.content.e()),
this.b.item_name.content.Db(this.b.item_name.content.e().width/2),this.b.item_name.q(p.a(this.b.main_panel[c[d].subType].n.C-this.b.item_name.content.e().width/2+16,this.b.main_panel[c[d].subType].n.I)),!0},Pa:function(){this._super();this.mf()}});Inventory=null;
InventoryPanel=Popup.extend({ap:null,gd:function(){return"Inventory"},hd:function(){for(var a={},c=0;5>c;c++)for(var d=0;8>d;d++)a[5*d+c+""]={size:p.size(32,32),position:p.a(40*c+8,40*(7-d)+40),va:"GUI/defaultitem.png",c:p.a(0,1),children:{stacklabelbg:{position:p.a(1,1),size:p.size(10,6),c:p.a(0,0),t:p.F(255,255,255,200),children:{stacklabel:{label:"",fontSize:10,color:p.i(0,0,0),c:p.a(0,0),position:p.a(0,0)}}}}};return{panels:{position:p.a(300,200),children:{main_panel:{c:p.a(0,0),va:"GUI/inventory.png",
size:p.size(208,328),children:a},control_panel:{c:p.a(0,0),position:p.a(0,328),size:p.size(208,32),children:{header:{label:"Inventory",fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(184,6),size:p.size(20,20),c:p.a(0,0),va:"GUI/close.png"}}},item_name:{position:p.a(0,0),t:p.F(200,200,200,200),size:p.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:p.i(0,0,0),c:p.a(0.5,0.5),position:p.a(32,8)}}}}}}},Xm:function(a,c){this.b.main_panel[a+""].stacklabelbg.v(!1);
1<c&&(this.b.main_panel[a+""].stacklabelbg.v(!0),this.b.main_panel[a+""].stacklabelbg.stacklabel.ha(c),this.b.main_panel[a+""].stacklabelbg.$(this.b.main_panel[a+""].stacklabelbg.stacklabel.e()))},mf:function(){for(var a=A.l.ga.Qr(),c=0;40>c;c++)if(a[c]){for(var d in K)if(K[d].name==a[c].sprite.texture)var e=K[d].texture;this.b.main_panel[c+""].X(0,1);this.b.main_panel[c+""].aa(e);this.b.main_panel[c+""].lb(p.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,32,32));this.Xm(c,a[c].amount)}else this.b.main_panel[c+
""].aa(p.La.d().Ab("GUI/defaultitem.png")),this.Xm(c,0)},Pa:function(){this._super();this.mf()},fC:function(a){switch(a){case 0:A.l.ga.DW(this.A.ap);break;case 1:A.l.ga.aH(this.A.ap,"stored")}},vb:function(a){if(this._super(a))return!0;this.hf=null;for(var c=this.b.main_panel.Ra(a.Q),d=0;40>d;d++)if(A.l.ga.Qr()[d]&&S(this.b.main_panel[d+""],p.a(c.x,c.y+32))){c="Use";switch(A.l.ga.Qr()[d].itemType){case "wearable":c="Equip";break;case "consumable":c="Consume";break;case "book":c="Read"}this.ap=d;this.b.item_name.v(!1);
this.m(DropDownList.Jo(this,this.fC,[c,"Drop"],a.Q));return!0}},Mh:function(a){a=this.b.main_panel.Ra(a.Q);for(var c=0;40>c;c++)if(A.l.ga.Qr()[c]&&S(this.b.main_panel[c+""],p.a(a.x,a.y+32)))return this.b.item_name.content.ha(A.l.ga.Qr()[c].name),this.b.item_name.v(!0),this.b.item_name.$(this.b.item_name.content.e()),this.b.item_name.content.Db(this.b.item_name.content.e().width/2),this.b.item_name.q(p.a(this.b.main_panel[c+""].n.C-this.b.item_name.content.e().width/2+16,this.b.main_panel[c+""].n.I)),
!0}});Sign=null;
SignPanel=Popup.extend({data:null,gd:function(){return"Sign"},hd:function(){return{panels:{position:p.a(100,300),children:{control_panel:{c:p.a(0,0),size:p.size(128,96),va:"GUI/signpost.png",children:{content:{label:this.data.label,fontSize:12,color:p.i(255,255,255),c:p.a(0,1),position:p.a(4,94)},exitBtn:{position:p.a(100,6),size:p.size(20,20),c:p.a(0,0),va:"GUI/close.png"}}}}}}},r:function(a){this._super();this.data=a},Pa:function(){this._super();this.b.control_panel.content.Sw(p.size(120,0))}});Skills=null;
SkillsPanel=Popup.extend({gd:function(){return"Skills"},hd:function(){for(var a={},c=ObjectLists.To(),d=0;d<c.length;d++)a[d+""]={c:p.a(0,0),position:p.a(0,40*c.length-40*(d+1)+2),children:{icon:{position:p.a(4,2),rw:!0,c:p.a(0,0)},name:{position:p.a(46,18),size:p.size(120,32),label:c[d].name,fontSize:16,color:p.i(255,255,255),c:p.a(0,0.5)},level:{position:p.a(210,18),size:p.size(86,32),c:p.a(0.5,0.5),label:"Level",fontSize:16,color:p.i(255,255,255)}}};return{panels:{position:p.a(100,300),children:{main_panel:{c:p.a(0,
0),size:p.size(256,40*c.length),va:"GUI/skills.png",children:a},control_panel:{c:p.a(0,0),position:p.a(0,40*c.length),size:p.size(256,32),children:{header:{label:"Skills",fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(232,6),size:p.size(20,20),c:p.a(0,0),va:"GUI/close.png"}}},item_name:{position:p.a(0,0),t:p.F(200,200,200,200),size:p.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:p.i(0,0,0),c:p.a(0.5,0.5),position:p.a(32,8)}}},control_menu:{position:p.a(0,
0),t:p.F(200,200,200,200),size:p.size(96,48),visible:!1,children:{dropbtn:{position:p.a(0,0),size:p.size(96,24),c:p.a(0,0),t:p.F(200,200,200,200),children:{content:{label:"Drop",fontSize:20,color:p.i(0,0,0),c:p.a(0,0.5),position:p.a(4,12)}}},unequipbtn:{position:p.a(0,24),size:p.size(96,24),c:p.a(0,0),t:p.F(200,200,200,200),children:{content:{label:"Unequip",fontSize:20,color:p.i(0,0,0),c:p.a(0,0.5),position:p.a(4,12)}}}}}}}}},mf:function(){console.log("Updating tile grid");for(var a=ObjectLists.To(),
c=0;c<a.length;c++)this.b.main_panel[c+""].icon.aa(null);for(c=0;c<a.length;c++)if(a[c]){for(var d in K)if(K[d].name==a[c].sprite.texture)var e=K[d].texture;this.b.main_panel[c+""].icon.aa(e);this.b.main_panel[c+""].icon.lb(p.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,32,32))}},Pa:function(){this._super();this.mf()}});
var va=p.Bc.extend({Lv:[],fK:function(){var a=ObjectLists.To(),c;for(c in this.Lv)this.Lv[c].R();this.Lv=[];var d=0;for(c=a.length-1;0<=c;c--)if(null!=a[c].healthbar&&""!=a[c].healthbar){var e=this.tQ(a[c].name,a[c].healthbar,d);this.m(e);this.Lv.push(e);d++}this.q(p.a(0,Y.height-32*d))},tQ:function(a,c,d){var e=255;c=c.replace("#","");8==c.length&&(e=c.substr(6,8));e=p.bb.create(p.F(parseInt(c.substring(0,2),16),parseInt(c.substring(2,4),16),parseInt(c.substring(4,6),16),parseInt(e,16)),300,23);
e.dB=p.w.wc(p.La.d().Ab("GUI/healthbar.png"));e.q(10,32*d- -5*d-10);e.X(p.a(0,0));e.dB.q(-5,-4);e.dB.X(p.a(0,0));e.m(e.dB);a=p.U.create(a,"Arial",16);a.q(10,11.5);a.X(p.a(0,0.5));e.m(a);return e}});SkillBarsInstance=null;va.create=function(){null==SkillBarsInstance&&(SkillBarsInstance=new va,SkillBarsInstance.fK());return SkillBarsInstance};va.update=function(){SkillBarsInstance.fK()};Itemeditor=null;
ItemEditor=Popup.extend({Ib:K[0].name,N:0,hd:function(){return{panels:{position:p.a(300,10),children:{main_panel:{c:p.a(0,0),position:p.a(0,0),size:p.size(420,396),t:p.F(0,0,100,120),children:{tab1:{children:{tiles:{c:p.a(0,1),position:p.a(16,320),va:K[0].name},textureleftbtn:{position:p.a(208,340),size:p.size(16,32),t:P,c:p.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.i(0,0,0)}}},texturerightbtn:{position:p.a(320,340),size:p.size(16,32),t:P,c:p.a(0,
0),children:{text:{label:"\x3e\x3e",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.i(0,0,0)}}},textureName:{position:p.a(224,340),size:p.size(96,32),t:p.F(255,255,255,170),c:p.a(0,0),children:{text:{label:K[0].name,fontSize:12,c:p.a(0.5,0.5),position:p.a(48,16),color:p.i(0,0,0)}}},leftbtn:{position:p.a(0,64),size:p.size(16,252),t:p.F(0,0,255,255),c:p.a(0,0),children:{text:{label:"\x3c",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,160),color:p.i(255,255,255)}}},rightbtn:{position:p.a(336,64),size:p.size(16,
252),t:p.F(0,0,255,255),c:p.a(0,0),children:{text:{label:"\x3e",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,160),color:p.i(255,255,255)}}},upbtn:{position:p.a(16,320),size:p.size(320,16),t:p.F(0,0,255,255),c:p.a(0,0),children:{text:{label:"^",fontSize:12,c:p.a(0.5,0.5),position:p.a(160,8),color:p.i(255,255,255)}}},downbtn:{position:p.a(16,48),size:p.size(320,16),t:p.F(0,0,255,255),c:p.a(0,0),children:{text:{label:"v",fontSize:12,c:p.a(0.5,0.5),position:p.a(160,8),color:p.i(255,255,255)}}},highlightnode:{c:p.a(0,
0),position:p.a(0,0),size:p.size(32,32),t:p.F(255,100,100,255)},selectednode:{c:p.a(0,0),position:p.a(0,0),size:p.size(32,32),t:p.F(100,255,100,255)}}},tab2:{children:{itemdetailsback:{position:p.a(144,0),size:p.size(250,366),t:p.F(0,0,255,100),c:p.a(0,0)},name_text:{label:"Item Name",fontSize:10,c:p.a(0,0),position:p.a(8,344)},name_entry:{size:p.size(136,32),position:p.a(4,312)},resourcetab:{visible:!1},consumabletab:{visible:!1},booktab:{visible:!1,children:{book_text:{label:"Book Contents",fontSize:10,
c:p.a(0,0),position:p.a(152,348)},book_entry:{size:p.size(240,340),position:p.a(-1E5,8)}}},wearabletab:{visible:!1,children:{head:{position:p.a(250,230),size:p.size(64,26),t:Q,c:p.a(0,0),children:{text:{label:"Head",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,13),color:p.i(0,0,0)}}},body:{position:p.a(250,200),size:p.size(64,26),t:Q,c:p.a(0,0),children:{text:{label:"Body",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,13),color:p.i(0,0,0)}}},legs:{position:p.a(250,170),size:p.size(64,26),t:Q,c:p.a(0,0),
children:{text:{label:"Legs",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,13),color:p.i(0,0,0)}}},feet:{position:p.a(250,140),size:p.size(64,26),t:Q,c:p.a(0,0),children:{text:{label:"Feet",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,13),color:p.i(0,0,0)}}},larm:{position:p.a(180,200),size:p.size(64,26),t:Q,c:p.a(0,0),children:{text:{label:"L Arm",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,13),color:p.i(0,0,0)}}},rarm:{position:p.a(320,200),size:p.size(64,26),t:Q,c:p.a(0,0),children:{text:{label:"R Arm",
fontSize:12,c:p.a(0.5,0.5),position:p.a(32,13),color:p.i(0,0,0)}}},mod:{position:p.a(150,230),size:p.size(64,26),t:Q,c:p.a(0,0),children:{text:{label:"Mod",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,13),color:p.i(0,0,0)}}}}},resourcebtn:{position:p.a(8,248),size:p.size(128,26),t:P,c:p.a(0,0),children:{text:{label:"Resource",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.i(0,0,0)}}},consumablebtn:{position:p.a(8,218),size:p.size(128,26),t:P,c:p.a(0,0),children:{text:{label:"Consumable",fontSize:12,
c:p.a(0.5,0.5),position:p.a(64,13),color:p.i(0,0,0)}}},bookbtn:{position:p.a(8,188),size:p.size(128,26),t:P,c:p.a(0,0),children:{text:{label:"Book",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.i(0,0,0)}}},wearablebtn:{position:p.a(8,158),size:p.size(128,26),t:P,c:p.a(0,0),children:{text:{label:"wearable",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.i(0,0,0)}}},tile:{c:p.a(0,1),position:p.a(55,130),va:K[0].name},stackbtn:{position:p.a(8,48),size:p.size(128,26),t:R,c:p.a(0,0),children:{text:{label:"NOT STACKABLE",
fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.i(0,0,0)}}}}},tab3:{children:{saveBack:{position:p.a(0,78),size:p.size(200,60),t:p.F(0,255,0,100),c:p.a(0,0)},deleteback:{position:p.a(0,138),size:p.size(200,60),t:p.F(255,0,0,100),c:p.a(0,0)},mapnumsback:{position:p.a(0,198),size:p.size(200,162),t:p.F(0,0,0,170),c:p.a(0,0)}}},tab1Clickable:{position:p.a(0,376),size:p.size(60,20),t:P,c:p.a(0,0),children:{text:{label:"Sprite",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.i(0,0,0)}}},tab2Clickable:{position:p.a(64,
376),size:p.size(60,20),t:P,c:p.a(0,0),children:{text:{label:"Details",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.i(0,0,0)}}},tab3Clickable:{position:p.a(128,376),size:p.size(60,20),t:P,c:p.a(0,0),children:{text:{label:"Modifier",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.i(0,0,0)}}},okbtn:{position:p.a(76,8),size:p.size(60,32),t:P,c:p.a(0,0),children:{text:{label:"OK",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.i(0,0,0)}}},cancelbtn:{position:p.a(8,8),size:p.size(60,
32),t:P,c:p.a(0,0),children:{text:{label:"Cancel",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.i(0,0,0)}}}}},control_panel:{c:p.a(0,0),position:p.a(0,396),size:p.size(420,32),t:p.F(255,0,0,200),children:{header:{label:"Item Editor",fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(391,3),size:p.size(26,26),c:p.a(0,0),t:p.F(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.i(0,0,0),c:p.a(0.5,0.5),position:p.a(13,13)}}}}}}}}},gd:function(){return"itemEditor"},
Va:null,Fc:null,Lb:0,A:null,data:null,r:function(a){this._super();this.data={itemType:"resource",subType:"",sprite:{texture:K[0].name,position:{x:0,y:0}},additionalData:{},stackable:!1,name:""};this.Ib=K[0].name;this.N=0;this.Fc=this.Va=null;this.Lb=0;this.A=null;this.K=p.a(0,0);this.Fc=[null,352,400,200];this.A=a.A;a&&a.data&&(this.data=a.data)},np:function(a){H({saveitems:a+"",itemdata:this.data})},Lo:function(a,c){H({saveitemswhole:c})},Pa:function(){this._super();this.b.main_panel.tab1.highlightnode.Z(0);
this.b.main_panel.tab1.selectednode.Z(127);for(var a in K)K[a].name==this.data.sprite.texture&&(this.N=a,this.Ib=K[a].name);this.b.main_panel.tab1.textureName.text.ha(this.Ib);this.b.main_panel.tab1.tiles.aa(K[this.N].texture);for(a=this.data.sprite.position.x;10<=a;)a--,this.K.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.K.y++;a=p.a(32*(this.data.sprite.position.x-this.K.x),32*(this.data.sprite.position.y-this.K.y));this.b.main_panel.tab1.selectednode.q(this.b.main_panel.tab1.tiles.n.x+a.x,
this.b.main_panel.tab1.tiles.n.y-(a.y+32));this.b.main_panel.tab2.tile.aa(K[this.N].texture);this.b.main_panel.tab2.tile.lb(p.rect(Math.floor(32*this.data.sprite.position.x),Math.floor(32*this.data.sprite.position.y),32,32));this.Va=new Z(this.b.main_panel.tab2.name_entry,p.size(this.b.main_panel.tab2.name_entry.e().width,this.b.main_panel.tab2.name_entry.e().height),p.a(0,this.b.main_panel.tab2.name_entry.e().height),this.data.name?this.data.name:"",p.F(100,100,100),p.i(255,255,255));this.Va.yd(!0);
this.gB=new Z(this.b.main_panel.tab2.booktab.book_entry,p.size(this.b.main_panel.tab2.booktab.book_entry.e().width,this.b.main_panel.tab2.booktab.book_entry.e().height),p.a(0,this.b.main_panel.tab2.booktab.book_entry.e().height),this.data.additionalData.Contents?this.data.additionalData.Contents:"",p.F(100,100,100),p.i(255,255,255),!0);this.gB.yd(!0);this.gB.iJ(!0);this.Oe(this.data.itemType);""!=this.data.subType&&this.Hi(this.data.subType);this.b.main_panel.tab2.stackbtn.k(R);this.b.main_panel.tab2.stackbtn.text.ha("NOT STACKABLE");
!0==this.data.stackable&&(this.b.main_panel.tab2.stackbtn.k(Q),this.b.main_panel.tab2.stackbtn.text.ha("IS STACKABLE"));this.zd(1);this.$a()},DJ:function(){},kb:function(a){this._super();if(this.A){var c=this.A;!0!=a&&this.A.Lc(function(){c.vd(null)})}},Mh:function(a){a=a.Q;if(1==this.Lb&&(this.b.main_panel.tab1.highlightnode.Z(0),a=this.b.main_panel.tab1.tiles.Ra(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.e().width&&a.y<=this.b.main_panel.tab1.tiles.e().height))return a.x=a.x-a.x%32+16,
a.y=a.y-a.y%32+64,this.b.main_panel.tab1.highlightnode.Z(127),this.b.main_panel.tab1.highlightnode.q(a),!0},zd:function(a){a!=this.Lb&&(this.b.main_panel.$(this.Fc[a],this.b.main_panel.e().height),this.b.control_panel.$(this.Fc[a],this.b.control_panel.e().height),this.b.main_panel.tab2.name_entry.Db(this.b.main_panel.tab2.name_entry.n.C-1E3),this.Lb=a,this.b.main_panel.tab1.v(!1),this.b.main_panel.tab2.v(!1),this.b.main_panel.tab3.v(!1),this.b.main_panel.tab1Clickable.k(P),this.b.main_panel.tab2Clickable.k(P),
this.b.main_panel.tab3Clickable.k(P),this.b.main_panel["tab"+a].v(!0),this.b.main_panel["tab"+a+"Clickable"].k(p.F(255,255,0,255)),2==a&&(this.b.main_panel.tab2.name_entry.Db(4),"book"==this.data.itemType?(this.b.main_panel.tab2.booktab.book_entry.Db(150),this.b.main_panel.tab2.booktab.book_text.v(!0)):(this.b.main_panel.tab2.booktab.book_entry.Db(-1E9),this.b.main_panel.tab2.booktab.book_text.v(!1))),this.b.control_panel.exitBtn.Db(this.Fc[a]-29))},$a:function(){this.zc(this.$a);this.b.main_panel.tab1.tiles.T()&&
!0==this.b.main_panel.tab1.tiles.T().hc&&(this.Cd(this.$a),this.b.main_panel.tab1.tiles.lb(p.rect(Math.floor(32*this.K.x),Math.floor(32*this.K.y),320>K[this.N].texture.e().width?K[this.N].texture.e().width:320,256>K[this.N].texture.e().height?K[this.N].texture.e().height:256)))},vb:function(a){if(this._super(a))return!0;this.hf=null;a=a.Q;var c=this.b.main_panel.Ra(a);if(S(this.b.main_panel.tab1Clickable,c))return this.zd(1),!0;if(S(this.b.main_panel.tab2Clickable,c))return this.zd(2),!0;if(S(this.b.main_panel.tab3Clickable,
c))return this.zd(3),!0;if(S(this.b.main_panel.okbtn,c)){if(null==this.Va.fa()||""==this.Va.fa())return!0;this.ig=!0;this.data.name=this.Va.fa();switch(this.data.itemType){case "book":this.data.additionalData={Contents:this.gB.fa()}}this.A.vd(this.data);return!0}if(S(this.b.main_panel.cancelbtn,c)){this.ig=!0;var d=this.A;this.A.Lc(function(){d.vd(null)});return!0}if(1==this.Lb){if(S(this.b.main_panel.tab1.leftbtn,c))return 264<K[this.N].texture.e().width&&0<this.K.x&&(this.K.x--,this.$a()),!0;if(S(this.b.main_panel.tab1.rightbtn,
c))return 320<K[this.N].texture.e().width&&this.K.x<(K[this.N].texture.e().width-320)/32&&(this.K.x++,this.$a()),!0;if(S(this.b.main_panel.tab1.upbtn,c))return 320<K[this.N].texture.e().height&&0<this.K.y&&(this.K.y--,this.$a()),!0;if(S(this.b.main_panel.tab1.downbtn,c))return 320<K[this.N].texture.e().height&&this.K.y<(K[this.N].texture.e().height-320)/32&&(this.K.y++,this.$a()),!0;if(S(this.b.main_panel.tab1.texturerightbtn,c))return this.cn(),!0;if(S(this.b.main_panel.tab1.textureleftbtn,c))return this.dn(),
!0;c=this.b.main_panel.tab1.tiles.Ra(a);if(S(this.b.main_panel.tab1.tiles,c)){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+64;this.b.main_panel.tab1.selectednode.Z(0);if(this.b.main_panel.tab1.selectednode.n.C!=c.x||this.b.main_panel.tab1.selectednode.n.I!=c.y)this.b.main_panel.tab1.selectednode.Z(127),this.b.main_panel.tab1.selectednode.q(c);a=p.a((this.b.main_panel.tab1.selectednode.n.C-16)/32+this.K.x,8-(this.b.main_panel.tab1.selectednode.n.I-64)/32+this.K.y-1);this.b.main_panel.tab2.tile.lb(p.rect(32*a.x,
32*a.y,32,32));this.data.sprite.position=a;return!0}}if(2==this.Lb){if(S(this.b.main_panel.tab2.stackbtn,c))return this.YJ(),!0;if(S(this.b.main_panel.tab2.resourcebtn,c))return this.Oe("resource"),!0;if(S(this.b.main_panel.tab2.consumablebtn,c))return this.Oe("consumable"),!0;if(S(this.b.main_panel.tab2.bookbtn,c))return this.Oe("book"),!0;if(S(this.b.main_panel.tab2.wearablebtn,c))return this.Oe("wearable"),this.Hi("body"),!0;if(S(this.b.main_panel.tab2.wearabletab.body,c))return this.Hi("body"),
!0;if(S(this.b.main_panel.tab2.wearabletab.head,c))return this.Hi("head"),!0;if(S(this.b.main_panel.tab2.wearabletab.legs,c))return this.Hi("legs"),!0;if(S(this.b.main_panel.tab2.wearabletab.feet,c))return this.Hi("feet"),!0;if(S(this.b.main_panel.tab2.wearabletab.larm,c))return this.Hi("larm"),!0;if(S(this.b.main_panel.tab2.wearabletab.rarm,c))return this.Hi("rarm"),!0;if(S(this.b.main_panel.tab2.wearabletab.mod,c))return this.Hi("mod"),!0}return!1},YJ:function(){this.data.stackable=!this.data.stackable;
this.b.main_panel.tab2.stackbtn.k(R);this.b.main_panel.tab2.stackbtn.text.ha("NOT STACKABLE");!0==this.data.stackable&&(this.b.main_panel.tab2.stackbtn.k(Q),this.b.main_panel.tab2.stackbtn.text.ha("IS STACKABLE"))},Oe:function(a){this.b.main_panel.tab2.booktab.book_entry.Db(-1E7);this.b.main_panel.tab2.booktab.book_text.v(!1);this.b.main_panel.tab2.resourcebtn.k(P);this.b.main_panel.tab2.consumablebtn.k(P);this.b.main_panel.tab2.bookbtn.k(P);this.b.main_panel.tab2.wearablebtn.k(P);this.b.main_panel.tab2.resourcetab.v(!1);
this.b.main_panel.tab2.consumabletab.v(!1);this.b.main_panel.tab2.booktab.v(!1);this.b.main_panel.tab2.wearabletab.v(!1);switch(a){case "book":this.b.main_panel.tab2.booktab.book_entry.Db(150),this.b.main_panel.tab2.booktab.book_text.v(!0)}this.data.itemType=a;this.b.main_panel.tab2[a+"btn"].k(Q);this.b.main_panel.tab2[a+"tab"].v(!0)},Hi:function(a){this.b.main_panel.tab2.wearabletab.head.k(P);this.b.main_panel.tab2.wearabletab.body.k(P);this.b.main_panel.tab2.wearabletab.legs.k(P);this.b.main_panel.tab2.wearabletab.feet.k(P);
this.b.main_panel.tab2.wearabletab.rarm.k(P);this.b.main_panel.tab2.wearabletab.larm.k(P);this.b.main_panel.tab2.wearabletab.mod.k(P);"wearable"==this.data.itemType&&this.b.main_panel.tab2.wearabletab[a]&&this.b.main_panel.tab2.wearabletab[a].k(R);this.data.subType=a},cn:function(){this.N>=K.length-1&&(this.N=-1);this.N++;this.b.main_panel.tab1.tiles.aa(K[this.N].texture);this.b.main_panel.tab2.tile.aa(K[this.N].texture);this.Ib=K[this.N].name;this.b.main_panel.tab1.textureName.text.ha(this.Ib);this.data.sprite.texture=
this.Ib;this.K=p.a(0,0);this.$a()},dn:function(){0>=this.N&&(this.N=K.length);this.N--;this.b.main_panel.tab1.tiles.aa(K[this.N].texture);this.b.main_panel.tab2.tile.aa(K[this.N].texture);this.Ib=K[this.N].name;this.b.main_panel.tab1.textureName.text.ha(this.Ib);this.K=p.a(0,0);this.$a()}});Questeditor=null;
QuestEditor=Popup.extend({data:null,Rb:null,A:null,af:null,gd:function(){return"Quest Editor"},kb:function(a){this._super();if(this.A){var c=this.A;!0!=a&&this.A.Lc(function(){c.vd(null)})}},r:function(a){this._super();this.data={name:"",objectiveList:["Initial Objective. Click edit to change this first objective. Click the '+' to add another object. You cannot delete every objective (you need at least one)"]};this.A=a.A;a&&a.data&&(this.data=a.data)},np:function(a){H({savequests:a+"",questdata:this.data})},
Lo:function(a,c){H({savequestswhole:c})},Pa:function(){this._super();this.Uk();this.Va=new Z(this.b.main_panel.nameBox,p.size(this.b.main_panel.nameBox.e().width,this.b.main_panel.nameBox.e().height),p.a(0,this.b.main_panel.nameBox.e().height),this.data.name?this.data.name:"",p.F(255,255,255,255),p.i(0,0,0));this.Va.yd(!0)},Uk:function(){this.Rb&&this.Rb.Ie();var a=[],c=[],d=p.La.d();this.QG={};for(var e in this.data.objectiveList)if(a[e]=p.H.create(),a[e].$(324,32),null==this.data.objectiveList[e])this.data.objectiveList.splice(e,
1);else{var f=p.bb.create(p.F(0,0,0,127),316,1);f.q(p.a(4,0));var g=p.w.wc(d.Ab("GUI/edit.png"));g.q(p.a(272,0));g.X(p.a(0,0));var h=p.w.wc(d.Ab("GUI/trash.png"));h.q(p.a(300,0));h.X(p.a(0,0));var k=p.U.create(this.data.objectiveList[e],"Arial",15);k.X(p.a(0,0));k.q(p.a(4,4));k.Sw(p.size(246,0));k.k(p.i(0,0,0));g.pm="Edit";var l=[];l.push(g);0!=e&&(h.pm="Delete",l.push(h));c.push(l);a[e].m(f);a[e].m(g);0!=e&&a[e].m(h);a[e].m(k);a[e].$(324,k.e().height+8);g.Rh((k.e().height+8)/2-10);h.Rh((k.e().height+
8)/2-10);null!=delegate&&a[e].m(useElement)}d=p.bb.create(p.F(70,200,70,255),90,26);e=p.U.create("+","Arial",20);e.q(45,13);e.X(p.a(0.5,0.5));d.q(p.a(120,0));d.pm="Add";d.m(e);c.push([d]);a.push(d);this.Rb=this.b.main_panel.list;var m=this;this.Rb.CB=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].e().height;return p.size(324,c)};this.Rb.BB=function(){return a.length};this.Rb.vH=function(c){return a[c].e()};this.Rb.qH=function(c){return a[c]};this.Rb.UI=function(a,c,d){m.Ra(d.Q);if(!0!=m.wp)switch(a){case "Delete":null!=
m.Yb&&(m.Yb.Ie(),m.Hk=null,m.Yb.R(),m.Yb=null,m.af=null);m.Y.m(DropDownList.Jo(m,m.nB,["Cancel","Delete"],d.Q));m.af=c;break;case "Edit":m.af=c;m.QQ(c);break;case "Add":m.EP()}};this.Rb.ep=ListView.create(this.Rb);this.Rb.ep.bJ(c);this.Rb.m(this.Rb.ep)},hd:function(){return{panels:{position:p.a(300,200),children:{background_image:{va:"GUI/list_panel.png",c:p.a(0,0)},main_panel:{c:p.a(0,0),size:p.size(365,328),children:{nameLabel:{label:"Quest Name",color:p.i(0,0,0),position:p.a(8,312),c:p.a(0,0)},
nameBox:{size:p.size(150,32),t:p.F(255,255,255,255),position:p.a(8,277),c:p.a(0,0)},savebtn:{size:p.size(64,32),t:p.F(0,255,0,255),position:p.a(175,277),c:p.a(0,0),children:{content:{label:"Save",color:p.i(0,0,0),position:p.a(32,16),c:p.a(0.5,0.5)}}},exitbtn:{size:p.size(64,32),t:p.F(255,0,0,255),position:p.a(253,277),c:p.a(0,0),children:{content:{label:"Exit",color:p.i(0,0,0),position:p.a(32,16),c:p.a(0.5,0.5)}}},objectivesLabel:{label:"Objectives",color:p.i(0,0,0),position:p.a(8,254),c:p.a(0,0)},
list:{size:p.size(324,250),t:p.F(0,200,200,200),position:p.a(0,0),c:p.a(0,0)}}},control_panel:{c:p.a(0,0),position:p.a(0,328),size:p.size(365,32),children:{header:{label:"Quest Editor",fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(337,6),size:p.size(20,20),c:p.a(0,0),va:"GUI/close.png"}}}}}}},nB:function(a){switch(a){case 1:this.A.af&&(this.A.data.objectiveList.splice(this.A.af,1),this.A.Uk(),this.A.af=null)}},EP:function(){this.data.objectiveList.push("Blank Objective");this.Uk()},
Hk:null,Yb:null,QQ:function(a){null!=this.Yb&&(this.Yb.Ie(),this.Hk=null,this.Yb.R(),this.af=this.Yb=null);this.Yb=p.bb.create(p.F(255,255,255,200),200,200);this.Yb.q(p.a((this.b.main_panel.e().width-200)/2,(this.b.main_panel.e().height-200)/2));this.Hk=new Z(this.Yb,p.size(190,150),p.a(0,this.Yb.e().height),this.data.objectiveList[a],p.F(100,100,100),p.i(255,255,255),!0);this.Hk.yd(!0);this.Hk.iJ(!0);a=p.bb.create(p.F(0,200,255,255),64,32);a.q(p.a(14,9));var c=p.U.create("OK","Arial",16);c.k(p.i(0,
0,0));c.q(32,16);c.X(p.a(0.5,0.5));a.m(c);c=p.bb.create(p.F(200,0,0,255),64,32);c.q(p.a(120,9));var d=p.U.create("Cancel","Arial",16);d.k(p.i(0,0,0));d.q(32,16);d.X(p.a(0.5,0.5));c.m(d);this.b.main_panel.m(this.Yb);this.Yb.m(a);this.Yb.cT=a;this.Yb.m(c);this.Yb.cancel=c},vb:function(a){if(this._super(a))return!0;this.hf=null;a=a.Q;if(null!=this.Yb){a=this.Yb.Ra(a);if(S(this.Yb.cT,a))return this.data.objectiveList[this.af]=this.Hk.fa(),this.Yb.Ie(),this.Hk=null,this.Yb.R(),this.af=this.Yb=null,this.Uk(),
!0;S(this.Yb.cancel,a)&&(this.Yb.Ie(),this.Hk=null,this.Yb.R(),this.af=this.Yb=null);return!0}a=this.b.main_panel.Ra(a);if(S(this.b.main_panel.savebtn,a)){if(null==this.Va.fa()||""==this.Va.fa())return!0;this.ig=!0;this.data.name=this.Va.fa();this.A.vd(this.data);return!0}if(S(this.b.main_panel.exitbtn,a)){this.ig=!0;var c=this.A;this.A.Lc(function(){c.vd(null)});return!0}return S(this.b.main_panel,a)?!0:!1}});Mapeditor=null;
MapEditor=Popup.extend({map:null,K:p.a(0,0),lc:"tiles",dI:null,Tv:"ground1",Ib:K[0].name,N:0,hd:function(){return{panels:{position:p.a(300,10),children:{main_panel:{c:p.a(0,0),position:p.a(0,0),size:p.size(420,380),t:p.F(0,0,100,120),children:{tab1:{children:{tiles:{c:p.a(0,1),position:p.a(16,336),va:K[0].name},textureleftbtn:{position:p.a(360,344),size:p.size(16,32),t:P,c:p.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.i(0,0,0)}}},texturerightbtn:{position:p.a(472,344),
size:p.size(16,32),t:P,c:p.a(0,0),children:{text:{label:"\x3e\x3e",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.i(0,0,0)}}},textureName:{position:p.a(376,344),size:p.size(96,32),t:p.F(255,255,255,170),c:p.a(0,0),children:{text:{label:K[0].name,fontSize:12,c:p.a(0.5,0.5),position:p.a(48,16),color:p.i(0,0,0)}}},deletebtn:{position:p.a(360,308),size:p.size(60,32),t:P,c:p.a(0,0),children:{text:{label:"Erase",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.i(0,0,0)}}},leftbtn:{position:p.a(0,
16),size:p.size(16,320),t:p.F(0,0,255,255),c:p.a(0,0),children:{text:{label:"\x3c",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,160),color:p.i(255,255,255)}}},rightbtn:{position:p.a(336,16),size:p.size(16,320),t:p.F(0,0,255,255),c:p.a(0,0),children:{text:{label:"\x3e",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,160),color:p.i(255,255,255)}}},upbtn:{position:p.a(16,336),size:p.size(320,16),t:p.F(0,0,255,255),c:p.a(0,0),children:{text:{label:"^",fontSize:12,c:p.a(0.5,0.5),position:p.a(160,8),color:p.i(255,
255,255)}}},downbtn:{position:p.a(16,0),size:p.size(320,16),t:p.F(0,0,255,255),c:p.a(0,0),children:{text:{label:"v",fontSize:12,c:p.a(0.5,0.5),position:p.a(160,8),color:p.i(255,255,255)}}},fillbtn:{position:p.a(428,308),size:p.size(60,32),t:P,c:p.a(0,0),children:{text:{label:"Fill",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.i(0,0,0)}}},ground1btn:{position:p.a(360,278),size:p.size(128,26),t:Q,c:p.a(0,0),children:{text:{label:"Ground 1",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.i(0,
0,0)}}},ground2btn:{position:p.a(360,248),size:p.size(128,26),t:P,c:p.a(0,0),children:{text:{label:"Ground 2",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.i(0,0,0)}}},groundShadowbtn:{position:p.a(360,218),size:p.size(128,26),t:P,c:p.a(0,0),children:{text:{label:"Ground Shadow",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.i(0,0,0)}}},mask1btn:{position:p.a(360,188),size:p.size(128,26),t:P,c:p.a(0,0),children:{text:{label:"Mask 1",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),
color:p.i(0,0,0)}}},mask2btn:{position:p.a(360,158),size:p.size(128,26),t:P,c:p.a(0,0),children:{text:{label:"Mask 2",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.i(0,0,0)}}},mask3btn:{position:p.a(360,128),size:p.size(128,26),t:P,c:p.a(0,0),children:{text:{label:"Mask 3",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.i(0,0,0)}}},fringe1btn:{position:p.a(360,98),size:p.size(128,26),t:P,c:p.a(0,0),children:{text:{label:"Fringe 1",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.i(0,
0,0)}}},fringe2btn:{position:p.a(360,68),size:p.size(128,26),t:P,c:p.a(0,0),children:{text:{label:"Fringe 2",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.i(0,0,0)}}},fringeShadowbtn:{position:p.a(360,38),size:p.size(128,26),t:P,c:p.a(0,0),children:{text:{label:"Fringe Shadow",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.i(0,0,0)}}},fringe3btn:{position:p.a(360,8),size:p.size(128,26),t:P,c:p.a(0,0),children:{text:{label:"Fringe 3",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),
color:p.i(0,0,0)}}},highlightnode:{c:p.a(0,0),position:p.a(0,0),size:p.size(32,32),t:p.F(255,100,100,255)},selectednode:{c:p.a(0,0),position:p.a(0,0),size:p.size(32,32),t:p.F(100,255,100,255)}}},tab2:{children:{blockbtn:{position:p.a(8,320),size:p.size(60,32),t:P,c:p.a(0,0),children:{text:{label:"Block",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.i(0,0,0)}}},warpbtn:{position:p.a(8,280),size:p.size(60,32),t:P,c:p.a(0,0),children:{text:{label:"Warp",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,
16),color:p.i(0,0,0)}}},itembtn:{position:p.a(8,240),size:p.size(60,32),t:P,c:p.a(0,0),children:{text:{label:"Item",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.i(0,0,0)}}},signbtn:{position:p.a(8,200),size:p.size(60,32),t:P,c:p.a(0,0),children:{text:{label:"Sign",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.i(0,0,0)}}},npcbtn:{position:p.a(8,160),size:p.size(60,32),t:P,c:p.a(0,0),children:{text:{label:"NPC",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.i(0,0,0)}}},amountLabelHead:{visible:!1,
label:"Item Amount",fontSize:12,c:p.a(0,0),position:p.a(100,342)},amountLabel:{size:p.size(60,32),position:p.a(98,-1E6)}}},tab3:{children:{saveBack:{position:p.a(0,78),size:p.size(200,60),t:p.F(0,255,0,100),c:p.a(0,0)},deleteback:{position:p.a(0,138),size:p.size(200,60),t:p.F(255,0,0,100),c:p.a(0,0)},mapnumsback:{position:p.a(0,198),size:p.size(200,162),t:p.F(0,0,0,170),c:p.a(0,0)},mapUp_text:{label:"Map Up",fontSize:10,c:p.a(0.5,0),position:p.a(100,344)},mapUp_entry:{size:p.size(60,32),position:p.a(70,
312)},mapDown_text:{label:"Map Down",fontSize:10,c:p.a(0.5,0),position:p.a(100,232)},mapDown_entry:{size:p.size(60,32),position:p.a(70,200)},mapLeft_text:{label:"Map Left",fontSize:10,c:p.a(0.5,0),position:p.a(38,290)},mapLeft_entry:{size:p.size(60,32),position:p.a(8,258)},mapRight_text:{label:"Map Right",fontSize:10,c:p.a(0.5,0),position:p.a(162,290)},mapRight_entry:{size:p.size(60,32),position:p.a(132,258)},this_map:{position:p.a(70,248),size:p.size(60,60),t:P,c:p.a(0,0),children:{text:{label:"THIS MAP\n#"+
F.$d(),fontSize:12,c:p.a(0.5,0.5),position:p.a(30,30),color:p.i(0,0,0)}}},clearbtn:{position:p.a(70,150),size:p.size(60,32),t:P,c:p.a(0,0),children:{text:{label:"Clear",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.i(0,0,0)}}},clear_text:{label:"Clear Map: You sure?",fontSize:14,c:p.a(0.5,0),position:p.a(100,182)},clearbtnNo:{position:p.a(10,150),size:p.size(60,32),t:P,c:p.a(0,0),children:{text:{label:"NO",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.i(0,0,0)}}},clearbtnYes:{position:p.a(130,
150),size:p.size(60,32),t:P,c:p.a(0,0),children:{text:{label:"YES",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.i(0,0,0)}}},savebtn:{position:p.a(70,90),size:p.size(60,32),t:P,c:p.a(0,0),children:{text:{label:"Save",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.i(0,0,0)}}},save_text:{label:"Save Map: You sure?",fontSize:14,c:p.a(0.5,0),position:p.a(100,122)},savebtnNo:{position:p.a(10,90),size:p.size(60,32),t:P,c:p.a(0,0),children:{text:{label:"NO",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,
16),color:p.i(0,0,0)}}},savebtnYes:{position:p.a(130,90),size:p.size(60,32),t:P,c:p.a(0,0),children:{text:{label:"YES",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.i(0,0,0)}}},saveOnExit:{position:p.a(40,30),size:p.size(120,32),t:P,c:p.a(0.5,0),children:{content:{label:"",fontSize:14,c:p.a(0.5,0.5),position:p.a(60,15),color:p.i(0,0,0)}}}}},tab1Clickable:{position:p.a(0,360),size:p.size(60,20),t:P,c:p.a(0,0),children:{text:{label:"Editor",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.i(0,
0,0)}}},tab2Clickable:{position:p.a(64,360),size:p.size(60,20),t:P,c:p.a(0,0),children:{text:{label:"Scripts",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.i(0,0,0)}}},tab3Clickable:{position:p.a(128,360),size:p.size(60,20),t:P,c:p.a(0,0),children:{text:{label:"Settings",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.i(0,0,0)}}}}},control_panel:{c:p.a(0,0),position:p.a(0,380),size:p.size(420,32),t:p.F(255,0,0,200),children:{header:{label:"Map Editor - Map #"+F.$d(),fontSize:20,c:p.a(0,
0.5),position:p.a(8,16)},exitBtn:{position:p.a(391,3),size:p.size(26,26),c:p.a(0,0),t:p.F(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.i(0,0,0),c:p.a(0.5,0.5),position:p.a(13,13)}}}}}}}}},gd:function(){return"MapEditor"},K:null,hs:null,es:null,fs:null,gs:null,cs:null,Fc:null,Lb:0,el:null,r:function(a){this._super();this.map=a;this.K=p.a(0,0);this.Fc=[null,496,200,200]},Pa:function(){this._super();this.b.main_panel.tab1.highlightnode.Z(0);this.b.main_panel.tab1.selectednode.Z(0);
this.hs=new Z(this.b.main_panel.tab3.mapUp_entry,p.size(this.b.main_panel.tab3.mapUp_entry.e().width,this.b.main_panel.tab3.mapUp_entry.e().height),p.a(0,this.b.main_panel.tab3.mapUp_entry.e().height),F.HH()?F.tH():"",p.F(100,100,100),p.i(255,255,255));this.hs.yd(!0);this.hs.ts(!0);this.es=new Z(this.b.main_panel.tab3.mapDown_entry,p.size(this.b.main_panel.tab3.mapDown_entry.e().width,this.b.main_panel.tab3.mapDown_entry.e().height),p.a(0,this.b.main_panel.tab3.mapDown_entry.e().height),F.FH()?F.rH():
"",p.F(100,100,100),p.i(255,255,255));this.es.yd(!0);this.es.ts(!0);this.fs=new Z(this.b.main_panel.tab3.mapLeft_entry,p.size(this.b.main_panel.tab3.mapLeft_entry.e().width,this.b.main_panel.tab3.mapLeft_entry.e().height),p.a(0,this.b.main_panel.tab3.mapLeft_entry.e().height),F.GH()?F.sH():"",p.F(100,100,100),p.i(255,255,255));this.fs.yd(!0);this.fs.ts(!0);this.gs=new Z(this.b.main_panel.tab3.mapRight_entry,p.size(this.b.main_panel.tab3.mapRight_entry.e().width,this.b.main_panel.tab3.mapRight_entry.e().height),
p.a(0,this.b.main_panel.tab3.mapRight_entry.e().height),F.QB()?F.DB():"",p.F(100,100,100),p.i(255,255,255));this.gs.yd(!0);this.gs.ts(!0);this.cs=new Z(this.b.main_panel.tab2.amountLabel,p.size(this.b.main_panel.tab2.amountLabel.e().width,this.b.main_panel.tab2.amountLabel.e().height),p.a(0,this.b.main_panel.tab2.amountLabel.e().height),F.QB()?F.DB():"1",p.F(100,100,100),p.i(255,255,255));this.cs.yd(!0);this.cs.ts(!0);this.ex(!1);this.fx(!1);this.Pw=x.mR();this.yJ(this.Pw);this.zd(1);this.$a();F.BJ(!0)},
Y$:function(a,c){Warpeditor&&(Warpeditor.kb(),this.Lc(function(){Warpeditor.R();Warpeditor=null}),this.el=a,this.Tb(!0));Signeditor&&(Signeditor.kb(),this.Lc(function(){Signeditor.R();Signeditor=null}),this.el=a,this.Tb(!0));Itemeditor&&(Itemeditor.kb(),this.Lc(function(){Itemeditor.R();Itemeditor=null}),this.el=a,this.Tb(!0),this.cs.mc.bh("1"),!0==c.stackable&&(this.b.main_panel.tab2.amountLabelHead.v(!0),this.b.main_panel.tab2.amountLabel.q(98,308)));NPCeditor&&(NPCeditor.kb(),this.Lc(function(){NPCeditor.R();
NPCeditor=null}),this.el=a,this.Tb(!0))},kb:function(){this._super();!0==this.Pw&&(F.qJ({up:this.hs.fa(),down:this.es.fa(),left:this.fs.fa(),right:this.gs.fa()}),F.mK());F.BJ(!1)},Mh:function(a){a=a.Q;if(1==this.Lb&&(this.b.main_panel.tab1.highlightnode.Z(0),a=this.b.main_panel.tab1.tiles.Ra(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.e().width&&a.y<=this.b.main_panel.tab1.tiles.e().height))return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+16,this.b.main_panel.tab1.highlightnode.Z(127),this.b.main_panel.tab1.highlightnode.q(a),
!0},zd:function(a){if(a!=this.Lb){this.b.main_panel.$(this.Fc[a],this.b.main_panel.e().height);this.b.control_panel.$(this.Fc[a],this.b.control_panel.e().height);if(3==this.Lb||0==this.Lb)this.b.main_panel.tab3.mapUp_entry.Db(this.b.main_panel.tab3.mapUp_entry.n.C-1E3),this.b.main_panel.tab3.mapLeft_entry.Db(this.b.main_panel.tab3.mapLeft_entry.n.C-1E3),this.b.main_panel.tab3.mapDown_entry.Db(this.b.main_panel.tab3.mapDown_entry.n.C-1E3),this.b.main_panel.tab3.mapRight_entry.Db(this.b.main_panel.tab3.mapRight_entry.n.C-
1E3);1!=this.Lb||"erasing"!=this.lc&&"tiles"!=this.lc||(this.lc="blocking");2==this.Lb&&"blocking"==this.lc&&(this.lc="tiles");this.Lb=a;this.b.main_panel.tab1.v(!1);this.b.main_panel.tab2.v(!1);this.b.main_panel.tab3.v(!1);this.b.main_panel.tab1Clickable.k(P);this.b.main_panel.tab2Clickable.k(P);this.b.main_panel.tab3Clickable.k(P);this.b.main_panel["tab"+a].v(!0);this.b.main_panel["tab"+a+"Clickable"].k(p.F(255,255,0,255));3==a&&(this.b.main_panel.tab3.mapUp_entry.Db(this.b.main_panel.tab3.mapUp_entry.n.C+
1E3),this.b.main_panel.tab3.mapLeft_entry.Db(this.b.main_panel.tab3.mapLeft_entry.n.C+1E3),this.b.main_panel.tab3.mapDown_entry.Db(this.b.main_panel.tab3.mapDown_entry.n.C+1E3),this.b.main_panel.tab3.mapRight_entry.Db(this.b.main_panel.tab3.mapRight_entry.n.C+1E3));this.b.control_panel.exitBtn.Db(this.Fc[a]-29)}},yJ:function(a){x.sV(a);this.Pw=a;this.b.main_panel.tab3.saveOnExit.k(p.i(255,0,0));this.b.main_panel.tab3.saveOnExit.content.ha("Save on exit: NO");if("true"==a||!0==a)this.b.main_panel.tab3.saveOnExit.k(p.i(0,
255,0)),this.b.main_panel.tab3.saveOnExit.content.ha("Save on exit: YES")},$a:function(){this.zc(this.$a);this.b.main_panel.tab1.tiles.T()&&!0==this.b.main_panel.tab1.tiles.T().hc&&(this.Cd(this.$a),this.b.main_panel.tab1.tiles.lb(p.rect(Math.floor(32*this.K.x),Math.floor(32*this.K.y),320>K[this.N].texture.e().width?K[this.N].texture.e().width:320,320>K[this.N].texture.e().height?K[this.N].texture.e().height:320)))},vb:function(a){if(this._super(a))return!0;this.hf=null;a=a.Q;var c=this.b.main_panel.Ra(a);
if(S(this.b.main_panel.tab1Clickable,c))return this.zd(1),!0;if(S(this.b.main_panel.tab2Clickable,c))return this.zd(2),!0;if(S(this.b.main_panel.tab3Clickable,c))return this.zd(3),!0;if(1==this.Lb){if(S(this.b.main_panel.tab1.leftbtn,c))return 320<K[this.N].texture.e().width&&0<this.K.x&&(this.K.x--,this.$a()),!0;if(S(this.b.main_panel.tab1.rightbtn,c))return 320<K[this.N].texture.e().width&&this.K.x<(K[this.N].texture.e().width-320)/32&&(this.K.x++,this.$a()),!0;if(S(this.b.main_panel.tab1.upbtn,
c))return 320<K[this.N].texture.e().height&&0<this.K.y&&(this.K.y--,this.$a()),!0;if(S(this.b.main_panel.tab1.downbtn,c))return 320<K[this.N].texture.e().height&&this.K.y<(K[this.N].texture.e().height-320)/32&&(this.K.y++,this.$a()),!0;if(S(this.b.main_panel.tab1.ground1btn,c))return this.Oe("ground1"),!0;if(S(this.b.main_panel.tab1.ground2btn,c))return this.Oe("ground2"),!0;if(S(this.b.main_panel.tab1.groundShadowbtn,c))return this.Oe("groundShadow"),!0;if(S(this.b.main_panel.tab1.mask1btn,c))return this.Oe("mask1"),
!0;if(S(this.b.main_panel.tab1.mask2btn,c))return this.Oe("mask2"),!0;if(S(this.b.main_panel.tab1.mask3btn,c))return this.Oe("mask3"),!0;if(S(this.b.main_panel.tab1.fringe1btn,c))return this.Oe("fringe1"),!0;if(S(this.b.main_panel.tab1.fringe2btn,c))return this.Oe("fringe2"),!0;if(S(this.b.main_panel.tab1.fringeShadowbtn,c))return this.Oe("fringeShadow"),!0;if(S(this.b.main_panel.tab1.fringe3btn,c))return this.Oe("fringe3"),!0;if(S(this.b.main_panel.tab1.texturerightbtn,c))return this.cn(),!0;if(S(this.b.main_panel.tab1.textureleftbtn,
c))return this.dn(),!0;if(S(this.b.main_panel.tab1.deletebtn,c))return this.lc="erasing"==this.lc?"tiles":"erasing",this.b.main_panel.tab1.deletebtn.k(P),"erasing"==this.lc&&this.b.main_panel.tab1.deletebtn.k(R),!0;if(S(this.b.main_panel.tab1.fillbtn,c))return 0!=this.b.main_panel.tab1.selectednode.Ai()&&(F.WQ(K[this.N].name,p.a((this.b.main_panel.tab1.selectednode.n.C-16)/32+this.K.x,9-(this.b.main_panel.tab1.selectednode.n.I-16)/32+this.K.y),this.Tv),F.Fs()),!0;c=this.b.main_panel.tab1.tiles.Ra(a);
if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.e().width&&c.y<=this.b.main_panel.tab1.tiles.e().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+16;this.b.main_panel.tab1.selectednode.Z(0);if(this.b.main_panel.tab1.selectednode.n.C!=c.x||this.b.main_panel.tab1.selectednode.n.I!=c.y)this.b.main_panel.tab1.selectednode.Z(127),this.b.main_panel.tab1.selectednode.q(c);return!0}}if(2==this.Lb){if(S(this.b.main_panel.tab2.blockbtn,c))return this.b.main_panel.tab2.warpbtn.k(P),this.b.main_panel.tab2.signbtn.k(P),
this.b.main_panel.tab2.npcbtn.k(P),this.b.main_panel.tab2.itembtn.k(P),this.b.main_panel.tab2.blockbtn.k(P),this.lc="blocking"==this.lc?"tiles":"blocking","blocking"==this.lc&&(this.b.main_panel.tab2.blockbtn.k(R),this.b.main_panel.tab2.amountLabelHead.v(!1),this.b.main_panel.tab2.amountLabel.q(68,-1E5)),!0;if(S(this.b.main_panel.tab2.warpbtn,c))return this.b.main_panel.tab2.warpbtn.k(P),this.b.main_panel.tab2.signbtn.k(P),this.b.main_panel.tab2.npcbtn.k(P),this.b.main_panel.tab2.itembtn.k(P),this.b.main_panel.tab2.blockbtn.k(P),
this.b.main_panel.tab2.amountLabelHead.v(!1),this.b.main_panel.tab2.amountLabel.q(68,-1E6),this.lc="warping"==this.lc?"tiles":"warping","warping"==this.lc&&(null==Warpeditor||Warpeditor.Y||(Warpeditor=null),Warpeditor&&(Warpeditor.kb(),Warpeditor.R(),Warpeditor=null),Warpeditor=new PopupList,Warpeditor.r({A:this,xi:new WarpEditor,list:ObjectLists.um(),name:"Warp List"}),Warpeditor.Pa(),this.Y.m(Warpeditor),this.Tb(!1),this.b.main_panel.tab2.warpbtn.k(R),this.b.main_panel.tab2.amountLabelHead.v(!1),
this.b.main_panel.tab2.amountLabel.q(68,-1E5)),!0;if(S(this.b.main_panel.tab2.signbtn,c))return this.b.main_panel.tab2.signbtn.k(P),this.b.main_panel.tab2.warpbtn.k(P),this.b.main_panel.tab2.npcbtn.k(P),this.b.main_panel.tab2.itembtn.k(P),this.b.main_panel.tab2.blockbtn.k(P),this.b.main_panel.tab2.amountLabelHead.v(!1),this.b.main_panel.tab2.amountLabel.q(68,-1E6),this.lc="signs"==this.lc?"tiles":"signs","signs"==this.lc&&(null==Signeditor||Signeditor.Y||(Signeditor=null),Signeditor&&(Signeditor.kb(),
Signeditor.R(),Signeditor=null),Signeditor=new PopupList,Signeditor.r({A:this,xi:new SignEditor,list:ObjectLists.Sr(),name:"Sign List"}),Signeditor.Pa(),this.Y.m(Signeditor),this.Tb(!1),this.b.main_panel.tab2.signbtn.k(R)),!0;if(S(this.b.main_panel.tab2.npcbtn,c))return this.b.main_panel.tab2.signbtn.k(P),this.b.main_panel.tab2.warpbtn.k(P),this.b.main_panel.tab2.npcbtn.k(P),this.b.main_panel.tab2.itembtn.k(P),this.b.main_panel.tab2.blockbtn.k(P),this.b.main_panel.tab2.amountLabelHead.v(!1),this.b.main_panel.tab2.amountLabel.q(68,
-1E6),this.lc="npcs"==this.lc?"tiles":"npcs","npcs"==this.lc&&(null==NPCeditor||NPCeditor.Y||(NPCeditor=null),NPCeditor&&(NPCeditor.kb(),NPCeditor.R(),NPCeditor=null),NPCeditor=new PopupList,NPCeditor.r({A:this,xi:new NPCEditor,list:ObjectLists.Ik(),name:"NPC List"}),NPCeditor.Pa(),this.Y.m(NPCeditor),this.Tb(!1),this.b.main_panel.tab2.npcbtn.k(R)),!0;if(S(this.b.main_panel.tab2.itembtn,c))return this.b.main_panel.tab2.warpbtn.k(P),this.b.main_panel.tab2.itembtn.k(P),this.b.main_panel.tab2.npcbtn.k(P),
this.b.main_panel.tab2.blockbtn.k(P),this.b.main_panel.tab2.amountLabelHead.v(!1),this.b.main_panel.tab2.amountLabel.q(68,-1E6),this.lc="items"==this.lc?"tiles":"items","items"==this.lc&&(null==Itemeditor||Itemeditor.Y||(Itemeditor=null),Itemeditor&&(Itemeditor.kb(),Itemeditor.R(),Itemeditor=null),Itemeditor=new PopupList,Itemeditor.r({A:this,xi:new ItemEditor,list:ObjectLists.zi(),name:"Item List"}),Itemeditor.Pa(),this.Y.m(Itemeditor),this.Tb(!1),this.b.main_panel.tab2.itembtn.k(R)),!0}if(3==this.Lb){if(S(this.b.main_panel.tab3.clearbtn,
c))return this.ex(!0),!0;if(S(this.b.main_panel.tab3.clearbtnNo,c))return this.ex(!1),!0;if(S(this.b.main_panel.tab3.clearbtnYes,c))return F.td(),this.ex(!1),!0;if(S(this.b.main_panel.tab3.savebtn,c))return this.fx(!0),!0;if(S(this.b.main_panel.tab3.savebtnNo,c))return this.fx(!1),!0;if(S(this.b.main_panel.tab3.savebtnYes,c))return F.qJ({up:this.hs.fa(),down:this.es.fa(),left:this.fs.fa(),right:this.gs.fa()}),F.mK(),this.fx(!1),!0;if(S(this.b.main_panel.tab3.saveOnExit,c))return this.yJ(!this.Pw),
!0}return!1},Oe:function(a){this.b.main_panel.tab1.ground1btn.k(P);this.b.main_panel.tab1.ground2btn.k(P);this.b.main_panel.tab1.groundShadowbtn.k(P);this.b.main_panel.tab1.mask1btn.k(P);this.b.main_panel.tab1.mask2btn.k(P);this.b.main_panel.tab1.mask3btn.k(P);this.b.main_panel.tab1.fringe1btn.k(P);this.b.main_panel.tab1.fringe2btn.k(P);this.b.main_panel.tab1.fringeShadowbtn.k(P);this.b.main_panel.tab1.fringe3btn.k(P);this.b.main_panel.tab1[a+"btn"].k(Q);this.Tv=a},cn:function(){this.N>=K.length-
1&&(this.N=-1);this.N++;this.b.main_panel.tab1.tiles.aa(K[this.N].texture);this.Ib=K[this.N].name;this.b.main_panel.tab1.textureName.text.ha(this.Ib);this.K=p.a(0,0);this.$a()},dn:function(){0>=this.N&&(this.N=K.length);this.N--;this.b.main_panel.tab1.tiles.aa(K[this.N].texture);this.Ib=K[this.N].name;this.b.main_panel.tab1.textureName.text.ha(this.Ib);this.K=p.a(0,0);this.$a()},ex:function(a){this.b.main_panel.tab3.clearbtnYes.v(a);this.b.main_panel.tab3.clearbtnNo.v(a);this.b.main_panel.tab3.clear_text.v(a);
this.b.main_panel.tab3.clearbtn.v(!a)},fx:function(a){this.b.main_panel.tab3.savebtnYes.v(a);this.b.main_panel.tab3.savebtnNo.v(a);this.b.main_panel.tab3.save_text.v(a);this.b.main_panel.tab3.savebtn.v(!a)},bK:function(a,c,d){if(a[c]==this.dI&&"moved"==d)return!1;this.dI=a[c];switch(this.lc){case "tiles":0!=this.b.main_panel.tab1.selectednode.Ai()&&F.Kj(c,K[this.N].name,p.a((this.b.main_panel.tab1.selectednode.n.C-16)/32+this.K.x,9-(this.b.main_panel.tab1.selectednode.n.I-16)/32+this.K.y),this.Tv);
break;case "blocking":if(1!=a[c].fc()){F.Ii(c,1);break}F.Ii(c,0);break;case "warping":if(null==Warpeditor||!Warpeditor.Y){if(3!=a[c].fc()){F.Ii(c,3,this.el);break}F.Ii(c,0,null)}break;case "signs":if(null==Signeditor||!Signeditor.Y){if(7!=a[c].fc()){F.Ii(c,7,this.el);break}F.Ii(c,0,null)}break;case "items":if(null==Itemeditor||!Itemeditor.Y){if(4!=a[c].fc()){F.Ii(c,4,this.el,{amount:this.cs.fa()});break}F.Ii(c,0,null)}break;case "npcs":if(null==NPCeditor||!NPCeditor.Y){if(5!=a[c].fc()){F.Ii(c,5,this.el);
break}F.Ii(c,0,null)}break;case "erasing":F.qB(c,this.Tv)}}});NPCeditor=null;
NPCEditor=Popup.extend({Ib:L[0].name,N:0,hd:function(){return{panels:{position:p.a(300,10),children:{main_panel:{c:p.a(0,0),position:p.a(0,0),size:p.size(420,396),t:p.F(0,0,100,120),children:{tab1:{children:{tiles:{c:p.a(0,1),position:p.a(48,320),va:L[0].name},textureleftbtn:{position:p.a(32,340),size:p.size(16,32),t:P,c:p.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.i(0,0,0)}}},texturerightbtn:{position:p.a(144,340),size:p.size(16,32),t:P,c:p.a(0,
0),children:{text:{label:"\x3e\x3e",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.i(0,0,0)}}},textureName:{position:p.a(48,340),size:p.size(96,32),t:p.F(255,255,255,170),c:p.a(0,0),children:{text:{label:L[0].name,fontSize:12,c:p.a(0.5,0.5),position:p.a(48,16),color:p.i(0,0,0)}}},upbtn:{position:p.a(48,320),size:p.size(96,16),t:p.F(0,0,255,255),c:p.a(0,0),children:{text:{label:"^",fontSize:12,c:p.a(0.5,0.5),position:p.a(48,8),color:p.i(255,255,255)}}},downbtn:{position:p.a(48,48),size:p.size(96,
16),t:p.F(0,0,255,255),c:p.a(0,0),children:{text:{label:"v",fontSize:12,c:p.a(0.5,0.5),position:p.a(48,8),color:p.i(255,255,255)}}},highlightnode:{c:p.a(0,0),position:p.a(0,0),size:p.size(96,128),t:p.F(255,100,100,255)},selectednode:{c:p.a(0,0),position:p.a(0,0),size:p.size(96,128),t:p.F(100,255,100,255)}}},tab2:{children:{itemdetailsback:{position:p.a(144,0),size:p.size(250,366),t:p.F(0,0,255,100),c:p.a(0,0)},name_text:{label:"Item Name",fontSize:10,c:p.a(0,0),position:p.a(8,344)},name_entry:{size:p.size(136,
32),position:p.a(4,312)}}},tab3:{},tab1Clickable:{position:p.a(0,376),size:p.size(60,20),t:P,c:p.a(0,0),children:{text:{label:"Sprite",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.i(0,0,0)}}},tab2Clickable:{position:p.a(64,376),size:p.size(60,20),t:P,c:p.a(0,0),children:{text:{label:"Details",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.i(0,0,0)}}},tab3Clickable:{position:p.a(128,376),size:p.size(60,20),t:P,c:p.a(0,0),children:{text:{label:"Modifier",fontSize:12,c:p.a(0.5,0.5),
position:p.a(32,10),color:p.i(0,0,0)}}},okbtn:{position:p.a(104,8),size:p.size(60,32),t:P,c:p.a(0,0),children:{text:{label:"OK",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.i(0,0,0)}}},cancelbtn:{position:p.a(32,8),size:p.size(60,32),t:P,c:p.a(0,0),children:{text:{label:"Cancel",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.i(0,0,0)}}}}},control_panel:{c:p.a(0,0),position:p.a(0,396),size:p.size(420,32),t:p.F(255,0,0,200),children:{header:{label:"Item Editor",fontSize:20,c:p.a(0,
0.5),position:p.a(8,16)},exitBtn:{position:p.a(391,3),size:p.size(26,26),c:p.a(0,0),t:p.F(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.i(0,0,0),c:p.a(0.5,0.5),position:p.a(13,13)}}}}}}}}},gd:function(){return"npcEditor"},Va:null,Fc:null,Lb:0,A:null,data:null,r:function(a){this._super();this.data={name:"",sprite:{texture:null,position:null}};this.Ib=L[0].name;this.N=0;this.Fc=this.Va=null;this.Lb=0;this.A=null;this.K=p.a(0,0);this.Fc=[null,190,400,200];this.A=a.A;a&&a.data&&(this.data=
a.data)},np:function(a){H({savenpcs:a+"",npcsdata:this.data})},Lo:function(a,c){H({savenpcswhole:c})},Pa:function(){this._super();this.b.main_panel.tab1.highlightnode.Z(0);this.b.main_panel.tab1.selectednode.Z(127);for(var a in L)L[a].name==this.data.sprite.texture&&(this.N=a,this.Ib=L[a].name);this.b.main_panel.tab1.textureName.text.ha(this.Ib);this.b.main_panel.tab1.tiles.aa(L[this.N].texture);this.Va=new Z(this.b.main_panel.tab2.name_entry,p.size(this.b.main_panel.tab2.name_entry.e().width,this.b.main_panel.tab2.name_entry.e().height),
p.a(0,this.b.main_panel.tab2.name_entry.e().height),this.data.name?this.data.name:"",p.F(100,100,100),p.i(255,255,255));this.Va.yd(!0);this.zd(1);this.$a()},DJ:function(){},kb:function(a){this._super();if(this.A){var c=this.A;!0!=a&&this.A.Lc(function(){c.vd(null)})}},Mh:function(a){a=a.Q;if(1==this.Lb&&(this.b.main_panel.tab1.highlightnode.Z(0),a=this.b.main_panel.tab1.tiles.Ra(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.e().width&&a.y<=this.b.main_panel.tab1.tiles.e().height))return a.x=
a.x-a.x%96+48,a.y=a.y-a.y%128+64,this.b.main_panel.tab1.highlightnode.Z(127),this.b.main_panel.tab1.highlightnode.q(a),!0},zd:function(a){a!=this.Lb&&(this.b.main_panel.$(this.Fc[a],this.b.main_panel.e().height),this.b.control_panel.$(this.Fc[a],this.b.control_panel.e().height),this.b.main_panel.tab2.name_entry.Db(this.b.main_panel.tab2.name_entry.n.C-1E3),this.Lb=a,this.b.main_panel.tab1.v(!1),this.b.main_panel.tab2.v(!1),this.b.main_panel.tab3.v(!1),this.b.main_panel.tab1Clickable.k(P),this.b.main_panel.tab2Clickable.k(P),
this.b.main_panel.tab3Clickable.k(P),this.b.main_panel["tab"+a].v(!0),this.b.main_panel["tab"+a+"Clickable"].k(p.F(255,255,0,255)),2==a&&this.b.main_panel.tab2.name_entry.Db(4),this.b.control_panel.exitBtn.Db(this.Fc[a]-29))},$a:function(){this.zc(this.$a);this.b.main_panel.tab1.tiles.T()&&!0==this.b.main_panel.tab1.tiles.T().hc&&(this.Cd(this.$a),this.b.main_panel.tab1.tiles.lb(p.rect(Math.floor(96*this.K.x),Math.floor(128*this.K.y),96>L[this.N].texture.e().width?L[this.N].texture.e().width:96,256>
L[this.N].texture.e().height?L[this.N].texture.e().height:256)))},vb:function(a){if(this._super(a))return!0;this.hf=null;a=a.Q;var c=this.b.main_panel.Ra(a);if(S(this.b.main_panel.tab1Clickable,c))return this.zd(1),!0;if(S(this.b.main_panel.tab2Clickable,c))return this.zd(2),!0;if(S(this.b.main_panel.tab3Clickable,c))return this.zd(3),!0;if(S(this.b.main_panel.okbtn,c)){if(null==this.Va.fa()||""==this.Va.fa())return!0;this.ig=!0;this.data.name=this.Va.fa();this.A.vd(this.data);return!0}if(S(this.b.main_panel.cancelbtn,
c)){this.ig=!0;var d=this.A;this.A.Lc(function(){d.vd(null)});return!0}if(1==this.Lb){if(S(this.b.main_panel.tab1.upbtn,c))return 320<L[this.N].texture.e().height&&0<this.K.y&&(this.K.y--,this.$a()),!0;if(S(this.b.main_panel.tab1.downbtn,c))return 320<L[this.N].texture.e().height&&this.K.y<(L[this.N].texture.e().height-320)/32&&(this.K.y++,this.$a()),!0;if(S(this.b.main_panel.tab1.texturerightbtn,c))return this.cn(),!0;if(S(this.b.main_panel.tab1.textureleftbtn,c))return this.dn(),!0;c=this.b.main_panel.tab1.tiles.Ra(a);
if(S(this.b.main_panel.tab1.tiles,c)){c.x=c.x-c.x%96+48;c.y=c.y-c.y%128+64;this.b.main_panel.tab1.selectednode.Z(0);if(this.b.main_panel.tab1.selectednode.n.C!=c.x||this.b.main_panel.tab1.selectednode.n.I!=c.y)this.b.main_panel.tab1.selectednode.Z(127),this.b.main_panel.tab1.selectednode.q(c);a=p.a((this.b.main_panel.tab1.selectednode.n.C-16)/96+this.K.x,8-(this.b.main_panel.tab1.selectednode.n.I-64)/128+this.K.y-1);this.data.sprite.position=a;return!0}}return!1},YJ:function(){this.data.stackable=
!this.data.stackable;this.b.main_panel.tab2.stackbtn.k(R);this.b.main_panel.tab2.stackbtn.text.ha("NOT STACKABLE");!0==this.data.stackable&&(this.b.main_panel.tab2.stackbtn.k(Q),this.b.main_panel.tab2.stackbtn.text.ha("IS STACKABLE"))},Hi:function(a){this.b.main_panel.tab2.wearabletab.head.k(P);this.b.main_panel.tab2.wearabletab.body.k(P);this.b.main_panel.tab2.wearabletab.legs.k(P);this.b.main_panel.tab2.wearabletab.feet.k(P);this.b.main_panel.tab2.wearabletab.rarm.k(P);this.b.main_panel.tab2.wearabletab.larm.k(P);
this.b.main_panel.tab2.wearabletab.mod.k(P);"wearable"==this.data.itemType&&this.b.main_panel.tab2.wearabletab[a]&&this.b.main_panel.tab2.wearabletab[a].k(R);this.data.subType=a},cn:function(){this.N>=L.length-1&&(this.N=-1);this.N++;this.b.main_panel.tab1.tiles.aa(L[this.N].texture);this.Ib=L[this.N].name;this.b.main_panel.tab1.textureName.text.ha(this.Ib);this.data.sprite.texture=this.Ib;this.K=p.a(0,0);this.$a()},dn:function(){0>=this.N&&(this.N=L.length);this.N--;this.b.main_panel.tab1.tiles.aa(L[this.N].texture);
this.Ib=L[this.N].name;this.b.main_panel.tab1.textureName.text.ha(this.Ib);this.K=p.a(0,0);this.$a()}});Skillseditor=null;
SkillsEditor=Popup.extend({Ib:K[0].name,N:0,hd:function(){return{panels:{position:p.a(300,10),children:{main_panel:{c:p.a(0,0),position:p.a(0,0),size:p.size(420,396),t:p.F(0,0,100,120),children:{tab1:{children:{tiles:{c:p.a(0,1),position:p.a(16,320),va:K[0].name},textureleftbtn:{position:p.a(208,340),size:p.size(16,32),t:P,c:p.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.i(0,0,0)}}},texturerightbtn:{position:p.a(320,340),size:p.size(16,32),t:P,c:p.a(0,
0),children:{text:{label:"\x3e\x3e",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.i(0,0,0)}}},textureName:{position:p.a(224,340),size:p.size(96,32),t:p.F(255,255,255,170),c:p.a(0,0),children:{text:{label:K[0].name,fontSize:12,c:p.a(0.5,0.5),position:p.a(48,16),color:p.i(0,0,0)}}},leftbtn:{position:p.a(0,64),size:p.size(16,252),t:p.F(0,0,255,255),c:p.a(0,0),children:{text:{label:"\x3c",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,160),color:p.i(255,255,255)}}},rightbtn:{position:p.a(336,64),size:p.size(16,
252),t:p.F(0,0,255,255),c:p.a(0,0),children:{text:{label:"\x3e",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,160),color:p.i(255,255,255)}}},upbtn:{position:p.a(16,320),size:p.size(320,16),t:p.F(0,0,255,255),c:p.a(0,0),children:{text:{label:"^",fontSize:12,c:p.a(0.5,0.5),position:p.a(160,8),color:p.i(255,255,255)}}},downbtn:{position:p.a(16,48),size:p.size(320,16),t:p.F(0,0,255,255),c:p.a(0,0),children:{text:{label:"v",fontSize:12,c:p.a(0.5,0.5),position:p.a(160,8),color:p.i(255,255,255)}}},highlightnode:{c:p.a(0,
0),position:p.a(0,0),size:p.size(32,32),t:p.F(255,100,100,255)},selectednode:{c:p.a(0,0),position:p.a(0,0),size:p.size(32,32),t:p.F(100,255,100,255)}}},tab2:{children:{name_text:{label:"Skill Name",fontSize:10,c:p.a(0,0),position:p.a(8,344)},name_entry:{size:p.size(136,32),position:p.a(4,312)},healthcolor_text:{label:"Healthbar Color",fontSize:10,c:p.a(0,0),position:p.a(8,250)},healthcolor_entry:{size:p.size(136,32),position:p.a(4,210)},tile:{c:p.a(0,1),position:p.a(55,150),va:K[0].name},healthbtn:{position:p.a(8,
265),size:p.size(128,26),t:R,c:p.a(0,0),children:{text:{label:"NOT HEALTHBAR",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.i(0,0,0)}}}}},tab1Clickable:{position:p.a(0,376),size:p.size(60,20),t:P,c:p.a(0,0),children:{text:{label:"Icon",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.i(0,0,0)}}},tab2Clickable:{position:p.a(64,376),size:p.size(60,20),t:P,c:p.a(0,0),children:{text:{label:"Details",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.i(0,0,0)}}},okbtn:{position:p.a(76,
8),size:p.size(60,32),t:P,c:p.a(0,0),children:{text:{label:"OK",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.i(0,0,0)}}},cancelbtn:{position:p.a(8,8),size:p.size(60,32),t:P,c:p.a(0,0),children:{text:{label:"Cancel",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.i(0,0,0)}}}}},control_panel:{c:p.a(0,0),position:p.a(0,396),size:p.size(420,32),t:p.F(255,0,0,200),children:{header:{label:"Skill Editor",fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(391,3),size:p.size(26,
26),c:p.a(0,0),t:p.F(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.i(0,0,0),c:p.a(0.5,0.5),position:p.a(13,13)}}}}}}}}},gd:function(){return"SkillsEditor"},Va:null,Wo:null,Fc:null,Lb:0,A:null,data:null,r:function(a){this._super();this.data={sprite:{texture:K[0].name,position:{x:0,y:0}},additionalData:{},healthbar:null,name:""};this.Ib=K[0].name;this.N=0;this.Fc=this.Va=null;this.Lb=0;this.A=null;this.K=p.a(0,0);this.Fc=[null,352,142];this.A=a.A;a&&a.data&&(this.data=a.data)},np:function(a){H({saveskills:a+
"",skillsdata:this.data})},Lo:function(a,c){H({saveskillswhole:c})},Pa:function(){this._super();this.b.main_panel.tab1.highlightnode.Z(0);this.b.main_panel.tab1.selectednode.Z(127);for(var a in K)K[a].name==this.data.sprite.texture&&(this.N=a,this.Ib=K[a].name);this.b.main_panel.tab1.textureName.text.ha(this.Ib);this.b.main_panel.tab1.tiles.aa(K[this.N].texture);for(a=this.data.sprite.position.x;10<=a;)a--,this.K.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.K.y++;a=p.a(32*(this.data.sprite.position.x-
this.K.x),32*(this.data.sprite.position.y-this.K.y));this.b.main_panel.tab1.selectednode.q(this.b.main_panel.tab1.tiles.n.x+a.x,this.b.main_panel.tab1.tiles.n.y-(a.y+32));this.b.main_panel.tab2.tile.aa(K[this.N].texture);this.b.main_panel.tab2.tile.lb(p.rect(Math.floor(32*this.data.sprite.position.x),Math.floor(32*this.data.sprite.position.y),32,32));this.Va=new Z(this.b.main_panel.tab2.name_entry,p.size(this.b.main_panel.tab2.name_entry.e().width,this.b.main_panel.tab2.name_entry.e().height),p.a(0,
this.b.main_panel.tab2.name_entry.e().height),this.data.name?this.data.name:"",p.F(100,100,100),p.i(255,255,255));this.Va.yd(!0);this.Wo=new Z(this.b.main_panel.tab2.healthcolor_entry,p.size(this.b.main_panel.tab2.healthcolor_entry.e().width,this.b.main_panel.tab2.healthcolor_entry.e().height),p.a(0,this.b.main_panel.tab2.healthcolor_entry.e().height),this.data.healthbar?this.data.healthbar:"",p.F(100,100,100),p.i(255,255,255));this.Wo.yd(!0);this.b.main_panel.tab2.healthbtn.k(R);this.b.main_panel.tab2.healthbtn.text.ha("NOT HEALTHBAR");
null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.k(Q),this.b.main_panel.tab2.healthbtn.text.ha("IS HEALTHBAR"));this.zd(1);this.$a()},DJ:function(){},kb:function(a){this._super();if(this.A){var c=this.A;!0!=a&&this.A.Lc(function(){c.vd(null)})}},Mh:function(a){a=a.Q;if(1==this.Lb&&(this.b.main_panel.tab1.highlightnode.Z(0),a=this.b.main_panel.tab1.tiles.Ra(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.e().width&&a.y<=this.b.main_panel.tab1.tiles.e().height))return a.x=
a.x-a.x%32+16,a.y=a.y-a.y%32+64,this.b.main_panel.tab1.highlightnode.Z(127),this.b.main_panel.tab1.highlightnode.q(a),!0},zd:function(a){a!=this.Lb&&(this.b.main_panel.$(this.Fc[a],this.b.main_panel.e().height),this.b.control_panel.$(this.Fc[a],this.b.control_panel.e().height),this.b.main_panel.tab2.name_entry.Db(this.b.main_panel.tab2.name_entry.n.C-1E3),this.b.main_panel.tab2.healthcolor_entry.Db(this.b.main_panel.tab2.healthcolor_entry.n.C-1E3),this.b.main_panel.tab2.healthcolor_text.v(!1),this.Lb=
a,this.b.main_panel.tab1.v(!1),this.b.main_panel.tab2.v(!1),this.b.main_panel.tab1Clickable.k(P),this.b.main_panel.tab2Clickable.k(P),this.b.main_panel["tab"+a].v(!0),this.b.main_panel["tab"+a+"Clickable"].k(p.F(255,255,0,255)),this.b.control_panel.exitBtn.Db(this.Fc[a]-29));2==a&&(this.b.main_panel.tab2.name_entry.Db(4),null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthcolor_entry.Db(4),this.b.main_panel.tab2.healthcolor_text.v(!0)))},$a:function(){this.zc(this.$a);
this.b.main_panel.tab1.tiles.T()&&!0==this.b.main_panel.tab1.tiles.T().hc&&(this.Cd(this.$a),this.b.main_panel.tab1.tiles.lb(p.rect(Math.floor(32*this.K.x),Math.floor(32*this.K.y),320>K[this.N].texture.e().width?K[this.N].texture.e().width:320,256>K[this.N].texture.e().height?K[this.N].texture.e().height:256)))},vb:function(a){if(this._super(a))return!0;this.hf=null;a=a.Q;var c=this.b.main_panel.Ra(a);if(S(this.b.main_panel.tab1Clickable,c))return this.zd(1),!0;if(S(this.b.main_panel.tab2Clickable,
c))return this.zd(2),!0;if(S(this.b.main_panel.okbtn,c)){if(null==this.Va.fa()||""==this.Va.fa())return!0;this.ig=!0;this.data.name=this.Va.fa();if(null!=this.Wo.fa()||""!=this.Wo.fa())this.data.healthbar=this.Wo.fa();this.A.vd(this.data);return!0}if(S(this.b.main_panel.cancelbtn,c)){this.ig=!0;var d=this.A;this.A.Lc(function(){d.vd(null)});return!0}if(1==this.Lb){if(S(this.b.main_panel.tab1.leftbtn,c))return 264<K[this.N].texture.e().width&&0<this.K.x&&(this.K.x--,this.$a()),!0;if(S(this.b.main_panel.tab1.rightbtn,
c))return 320<K[this.N].texture.e().width&&this.K.x<(K[this.N].texture.e().width-320)/32&&(this.K.x++,this.$a()),!0;if(S(this.b.main_panel.tab1.upbtn,c))return 320<K[this.N].texture.e().height&&0<this.K.y&&(this.K.y--,this.$a()),!0;if(S(this.b.main_panel.tab1.downbtn,c))return 320<K[this.N].texture.e().height&&this.K.y<(K[this.N].texture.e().height-320)/32&&(this.K.y++,this.$a()),!0;if(S(this.b.main_panel.tab1.texturerightbtn,c))return this.cn(),!0;if(S(this.b.main_panel.tab1.textureleftbtn,c))return this.dn(),
!0;c=this.b.main_panel.tab1.tiles.Ra(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.e().width&&c.y<=this.b.main_panel.tab1.tiles.e().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+64;this.b.main_panel.tab1.selectednode.Z(0);if(this.b.main_panel.tab1.selectednode.n.C!=c.x||this.b.main_panel.tab1.selectednode.n.I!=c.y)this.b.main_panel.tab1.selectednode.Z(127),this.b.main_panel.tab1.selectednode.q(c);a=p.a((this.b.main_panel.tab1.selectednode.n.C-16)/32+this.K.x,8-(this.b.main_panel.tab1.selectednode.n.I-
64)/32+this.K.y-1);this.b.main_panel.tab2.tile.lb(p.rect(32*a.x,32*a.y,32,32));this.data.sprite.position=a;console.log("TOUCHED");return!0}}return 2==this.Lb&&S(this.b.main_panel.tab2.healthbtn,c)?(this.qW(),!0):!1},qW:function(){this.b.main_panel.tab2.healthcolor_entry.Db(this.b.main_panel.tab2.healthcolor_entry.n.C-1E3);this.b.main_panel.tab2.healthcolor_text.v(!1);null!=this.data.healthbar&&""!=this.data.healthbar?(this.data.healthbar="",this.Wo.bh("")):(this.data.healthbar="FF0000",this.b.main_panel.tab2.healthcolor_entry.Db(4),
this.b.main_panel.tab2.healthcolor_text.v(!0));this.b.main_panel.tab2.healthbtn.k(R);this.b.main_panel.tab2.healthbtn.text.ha("NOT HEALTHBAR");null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.k(Q),this.b.main_panel.tab2.healthbtn.text.ha("IS HEALTHBAR"))},cn:function(){this.N>=K.length-1&&(this.N=-1);this.N++;this.b.main_panel.tab1.tiles.aa(K[this.N].texture);this.b.main_panel.tab2.tile.aa(K[this.N].texture);this.Ib=K[this.N].name;this.b.main_panel.tab1.textureName.text.ha(this.Ib);
this.data.sprite.texture=this.Ib;this.K=p.a(0,0);this.$a()},dn:function(){0>=this.N&&(this.N=K.length);this.N--;this.b.main_panel.tab1.tiles.aa(K[this.N].texture);this.b.main_panel.tab2.tile.aa(K[this.N].texture);this.Ib=K[this.N].name;this.b.main_panel.tab1.textureName.text.ha(this.Ib);this.K=p.a(0,0);this.$a()}});PopupList=Popup.extend({Af:null,ud:[],gC:null,wp:!1,Ow:-1,y6:0,QG:null,Rb:null,kb:function(){this._super();this.A&&this.A.Tb(!0)},r:function(a){this._super();this.Af=null;this.ud=[];this.gC=null;this.wp=!1;this.Ow=-1;this.Af=a.xi;a.list&&(this.ud=a.list);this.gC=a.name;delegate=a.A},Pa:function(){this._super();this.Uk()},Rb:null,Uk:function(){this.Rb&&this.Rb.ep.R();var a=[],c=[],d=p.La.d();this.QG={};for(var e in this.ud)if(a[e]=p.H.create(),a[e].$(324,32),null==this.ud[e])this.ud.splice(e,1);else{if(null!=
delegate){var f=p.w.wc(d.Ab("GUI/use.png"));f.q(p.a(244,6));f.X(p.a(0,0))}var g=p.bb.create(p.F(0,0,0,127),316,1);g.q(p.a(4,0));var h=p.U.create(this.ud[e].name,"Arial",20);h.X(p.a(0,0.5));h.q(p.a(0,16));var k=p.w.wc(d.Ab("GUI/edit.png"));k.q(p.a(272,6));k.X(p.a(0,0));var l=p.w.wc(d.Ab("GUI/trash.png"));l.q(p.a(300,6));l.X(p.a(0,0));k.pm="Edit";var m=[];m.push(k);l.pm="Delete";m.push(l);null!=delegate&&(f.pm="Use",m.push(f));c.push(m);a[e].m(g);a[e].m(h);a[e].m(k);a[e].m(l);null!=delegate&&a[e].m(f)}d=
p.bb.create(p.F(70,200,70,255),90,26);e=p.U.create("+","Arial",20);e.q(45,13);e.X(p.a(0.5,0.5));d.q(p.a(120,0));d.pm="Add";d.m(e);c.push([d]);a.push(d);this.Rb=this.b.main_panel.list;var n=this;this.Rb.CB=function(){return p.size(324,32*a.length)};this.Rb.BB=function(){return a.length};this.Rb.vH=function(c){return a[c].e()};this.Rb.qH=function(c){return a[c]};this.Rb.UI=function(a,c,d){n.Ra(d.Q);if(!0!=n.wp)switch(a){case "Delete":n.Y.m(DropDownList.Jo(n,n.nB,["Cancel","Delete"],d.Q));n.af=c;break;
case "Edit":n.Af.Y&&n.Af.R();n.wp=!0;n.Af.r({A:n,data:n.ud[c]});n.Y.m(n.Af);n.Tb(!1);n.Af.Pa();n.Ow=c+"";break;case "Add":n.EG=!0,n.wp=!0,n.Ow=n.ud.length,n.Af.r({A:n,data:null}),n.Tb(!1),n.Y.m(n.Af),n.Af.Pa()}};this.Rb.ep=ListView.create(this.Rb);this.Rb.ep.bJ(c);this.Rb.m(this.Rb.ep)},hd:function(){return{panels:{position:p.a(300,200),children:{background_image:{va:"GUI/list_panel.png",c:p.a(0,0)},main_panel:{c:p.a(0,0),size:p.size(365,328),children:{list:{size:p.size(324,328),position:p.a(0,0),
c:p.a(0,0)}}},control_panel:{c:p.a(0,0),position:p.a(0,328),size:p.size(365,32),children:{header:{label:this.gC,fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(337,6),size:p.size(20,20),c:p.a(0,0),va:"GUI/close.png"}}}}}}},af:null,nB:function(a){switch(a){case 1:this.A.af&&(this.A.AQ(this.A.af),this.A.af=null)}},vb:function(a){if(this._super(a))return!0;this.hf=null;a=this.b.main_panel.Ra(a.Q);return S(this.b.main_panel,a)?!0:!1},vd:function(a){a&&(this.Af.np(this.Ow),this.EG&&
(this.ud.push(a),this.Uk()));this.Tb(!0);this.wp=this.EG=!1;var c=this;this.Lc(function(){c.Af.kb(!0);c.Af.R()})},AQ:function(a){this.ud.splice(a,1);this.Af.Lo(a,this.ud);this.Uk()}});Warpeditor=null;
WarpEditor=Popup.extend({gd:function(){return"WarpEditor"},np:function(a){H({savewarps:a+"",warpdata:this.data})},Lo:function(a,c){H({savewarpswhole:c})},hd:function(){return{panels:{position:p.a(300,200),children:{main_panel:{c:p.a(0,0),size:p.size(180,160),t:p.F(100,255,100,200),children:{okbtn:{position:p.a(100,16),size:p.size(60,32),t:p.F(255,255,255,255),c:p.a(0,0),children:{text:{label:"OK",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.i(0,0,0)}}},cancelbtn:{position:p.a(20,16),size:p.size(60,
32),t:p.F(255,255,255,255),c:p.a(0,0),children:{text:{label:"Cancel",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.i(0,0,0)}}},namelbl:{label:"Name of warp.",fontSize:12,c:p.a(0,0),position:p.a(20,140),color:p.i(0,0,0)},nameEntry:{position:p.a(16,110),size:p.size(120,30)},mapnumlbl:{label:"Map #",fontSize:12,c:p.a(0,0),position:p.a(20,90),color:p.i(0,0,0)},mapNumEntry:{position:p.a(16,60),size:p.size(40,30)},mapxlbl:{label:"x",fontSize:12,c:p.a(0,0),position:p.a(80,90),color:p.i(0,0,0)},
mapXEntry:{position:p.a(76,60),size:p.size(36,30)},mapylbl:{label:"y",fontSize:12,c:p.a(0,0),position:p.a(130,90),color:p.i(0,0,0)},mapYEntry:{position:p.a(126,60),size:p.size(36,30)}}},control_panel:{c:p.a(0,0),position:p.a(0,160),size:p.size(180,32),t:p.F(255,0,0,200),children:{header:{label:"Warp Editor",fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(151,3),size:p.size(26,26),c:p.a(0,0),t:p.F(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.i(0,0,0),c:p.a(0.5,
0.5),position:p.a(13,13)}}}}}}}}},Va:null,fp:null,gp:null,hp:null,A:null,data:null,r:function(a){this._super();this.A=this.hp=this.gp=this.fp=this.Va=null;this.data={mapTo:0,position:0,name:""};a.data&&(this.data=a.data);this.A=a.A},Pa:function(){this._super();var a=this.data.position%U,c=Math.floor(this.data.position/U);this.Va=new Z(this.b.main_panel.nameEntry,p.size(this.b.main_panel.nameEntry.e().width,this.b.main_panel.nameEntry.e().height),p.a(0,this.b.main_panel.nameEntry.e().height),this.data.name,
p.F(100,100,100),p.i(255,255,255));this.Va.yd(!0);this.fp=new Z(this.b.main_panel.mapNumEntry,p.size(this.b.main_panel.mapNumEntry.e().width,this.b.main_panel.mapNumEntry.e().height),p.a(0,this.b.main_panel.mapNumEntry.e().height),""+this.data.mapTo,p.F(100,100,100),p.i(255,255,255));this.fp.yd(!0);this.gp=new Z(this.b.main_panel.mapXEntry,p.size(this.b.main_panel.mapXEntry.e().width,this.b.main_panel.mapXEntry.e().height),p.a(0,this.b.main_panel.mapXEntry.e().height),""+a,p.F(100,100,100),p.i(255,
255,255));this.gp.yd(!0);this.hp=new Z(this.b.main_panel.mapYEntry,p.size(this.b.main_panel.mapYEntry.e().width,this.b.main_panel.mapYEntry.e().height),p.a(0,this.b.main_panel.mapYEntry.e().height),""+c,p.F(100,100,100),p.i(255,255,255));this.hp.yd(!0)},vb:function(a){if(this._super(a))return!0;this.hf=null;a=this.b.main_panel.Ra(a.Q);if(S(this.b.main_panel.okbtn,a)){if(null==this.Va.fa()||""==this.Va.fa()||null==this.fp.fa()||""==this.fp.fa()||null==this.gp.fa()||""==this.gp.fa()||null==this.hp.fa()||
""==this.hp.fa())return!0;this.ig=!0;this.data.position=V(parseInt(this.gp.fa()),La-parseInt(this.hp.fa()));this.data.mapTo=parseInt(this.fp.fa());this.data.name=this.Va.fa();this.A.vd(this.data);return!0}if(S(this.b.main_panel.cancelbtn,a)){this.ig=!0;var c=this.A;this.A.Lc(function(){c.vd(null)});return!0}},kb:function(a){this._super();var c=this.A;a||this.A.Lc(function(){c.vd(null)})}});Signeditor=null;
SignEditor=Popup.extend({gd:function(){return"SignEditor"},np:function(a){H({savesigns:a+"",signsdata:this.data})},Lo:function(a,c){H({savesignswhole:c})},hd:function(){return{panels:{position:p.a(300,200),children:{main_panel:{c:p.a(0,0),size:p.size(142,256),t:p.F(100,255,100,200),children:{okbtn:{position:p.a(74,16),size:p.size(60,32),t:p.F(255,255,255,255),c:p.a(0,0),children:{text:{label:"OK",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.i(0,0,0)}}},cancelbtn:{position:p.a(8,16),size:p.size(60,
32),t:p.F(255,255,255,255),c:p.a(0,0),children:{text:{label:"Cancel",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.i(0,0,0)}}},namelbl:{label:"Name of sign.",fontSize:12,c:p.a(0,0),position:p.a(6,238),color:p.i(0,0,0)},nameEntry:{position:p.a(4,206),size:p.size(120,30)},signlbl:{label:"Contents",fontSize:12,c:p.a(0,0),position:p.a(6,190),color:p.i(0,0,0)},signEntry:{position:p.a(4,60),size:p.size(120,128)}}},control_panel:{c:p.a(0,0),position:p.a(0,256),size:p.size(142,32),t:p.F(255,0,0,
200),children:{header:{label:"Sign Editor",fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(112,3),size:p.size(26,26),c:p.a(0,0),t:p.F(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.i(0,0,0),c:p.a(0.5,0.5),position:p.a(13,13)}}}}}}}}},Va:null,xp:null,A:null,data:null,r:function(a){this._super();this.A=this.xp=this.Va=null;this.data={label:"",name:""};a.data&&(this.data=a.data);this.A=a.A},Pa:function(){this._super();this.Va=new Z(this.b.main_panel.nameEntry,p.size(this.b.main_panel.nameEntry.e().width,
this.b.main_panel.nameEntry.e().height),p.a(0,this.b.main_panel.nameEntry.e().height),this.data.name,p.F(100,100,100),p.i(255,255,255));this.Va.yd(!0);this.xp=new Z(this.b.main_panel.signEntry,p.size(this.b.main_panel.signEntry.e().width,this.b.main_panel.signEntry.e().height),p.a(0,this.b.main_panel.signEntry.e().height),""+this.data.label,p.F(100,100,100),p.i(255,255,255),!0);this.xp.yd(!0)},vb:function(a){if(this._super(a))return!0;this.hf=null;a=this.b.main_panel.Ra(a.Q);if(S(this.b.main_panel.okbtn,
a)){if(null==this.Va.fa()||""==this.Va.fa()||null==this.xp.fa()||""==this.xp.fa())return!0;this.ig=!0;this.data.label=this.xp.fa();this.data.name=this.Va.fa();this.A.vd(this.data);return!0}if(S(this.b.main_panel.cancelbtn,a)){this.ig=!0;var c=this.A;this.A.Lc(function(){c.vd(null)});return!0}},kb:function(a){this._super();var c=this.A;a||this.A.Lc(function(){c.vd(null)})}});var Ja=Ma.extend({ctor:function(){this._super()},rK:function(){this._super()},Pa:function(){this._super()},kb:function(){this._super()},vb:function(a){p.Cb(this.b.health_panel.Sa(),a.Q)&&y.d().vm("Game")},r:function(){var a=p.U.create("ITS WOKKIN!","Arial",16);a.k(p.i(0,0,0));a.q(p.a(200,200));this.m(a);this._super()}});var Na=new XMLHttpRequest;Na.open("GET","news.txt",!1);Na.send(null);var Oa=Na.responseText;
Login=Ma.extend({KC:!1,Hs:!1,r:function(a){this._super();y.Tm(this);this.is=new Z(this.b.name_entry,p.size(this.b.name_entry.e().width,this.b.name_entry.e().height),p.a(0,this.b.name_entry.e().height),"Enter Name",p.F(100,100,100),p.i(255,255,255));a&&(a.iI&&(u=[],H({logout:!0})),this.Wm(a.LC));this.zc(this.eD)},Tk:function(a){switch(a){case "ENTER":!1==this.Hs&&this.KC?(this.Hs=!0,H({login:!0,username:this.is.fa()})):this.lC("Server is offline!")}},Wm:function(a){this.KC=a;!0==a?(this.b.server_activity.ha("Server: Online"),
this.b.server_activity.k(p.i(0,255,0))):(this.b.server_activity.ha("Server: Offline"),this.b.server_activity.k(p.i(255,0,0)))},eD:function(){if(0<u.length)for(var a=u.length-1;0<=a;a--)reactToSocketMessage(u[a]),u.splice(a,1)},hd:function(){return{panels:{children:{background:{va:"GUI/splash.png",size:p.size(960,640),c:p.a(0,0),position:p.a(0,0)},name_entry:{size:p.size(300,30),position:p.a(325,300)},go_button:{position:p.a(420,220),size:p.size(120,40),t:p.F(0,0,0,255),children:{label:{label:"Play",
fontSize:20,color:p.i(255,255,255),c:p.a(0.5,0.5),position:p.a(60,20)}}},news_message:{label:Oa,fontSize:14,c:p.a(0,1),position:p.a(30,610)},server_message:{label:"",fontSize:16,color:p.i(127,0,0),c:p.a(0,0),position:p.a(327,325)},server_activity:{position:p.a(910,630),size:p.size(100,20),c:p.a(0.5,0.5),label:"Server: Offline",color:p.i(255,0,0)}}}}},vb:function(a){if(null!=this.is.fa()&&p.Cb(p.rect(this.b.go_button.n.C,this.b.go_button.n.I,this.b.go_button.e().width,this.b.go_button.e().height),
a.Q))return!1==this.Hs&&this.KC?(this.Hs=!0,H({login:!0,username:this.is.fa()})):this.lC("Server is offline!"),!0},eT:function(){y.d().vm("Game",{oK:this.is.fa(),map:1})},lC:function(a){this.b.server_message.ha(a);this.Hs=!1},Yc:function(){},gf:function(){},U6:function(){y.d().vm("Game",{oK:this.is.fa()})}});Ja=null;MapMaster=!1;
var Pa=Ma.extend({ctor:function(){this._super()},hd:function(){return{panels:{children:{logout_button:{position:p.a(Y.width-52,Y.height-52),c:p.a(0,0),size:p.size(48,48),va:"GUI/logout.png"},quicknav_button:{position:p.a(Y.width-30,Math.floor(Y.height/2)-24),c:p.a(0,0),size:p.size(48,48),va:"GUI/quickmenu_closed_icon.png"},inventory_button:{position:p.a(Y.width-52,Math.floor(Y.height/2)+60),c:p.a(0,0),size:p.size(48,48),va:"GUI/inventory_icon.png"},equipment_button:{position:p.a(Y.width-82,Math.floor(Y.height/
2)+4),c:p.a(0,0),size:p.size(48,48),va:"GUI/equipment_icon.png"},skill_button:{position:p.a(Y.width-82,Math.floor(Y.height/2)-52),c:p.a(0,0),size:p.size(48,48),va:"GUI/skills_icon.png"},chat_button:{position:p.a(Y.width-52,Math.floor(Y.height/2)-108),c:p.a(0,0),size:p.size(48,48),va:"GUI/chat_icon.png"},quickedit_button:{position:p.a(0,Math.floor(Y.height/2)-24),c:p.a(0,0),size:p.size(48,48),va:"GUI/quickedit_closed_icon.png"},mapedit_button:{position:p.a(4,Math.floor(Y.height/2)+116),c:p.a(0,0),
size:p.size(48,48),va:"GUI/mapeditor_icon.png"},npcedit_button:{position:p.a(34,Math.floor(Y.height/2)+60),c:p.a(0,0),size:p.size(48,48),va:"GUI/npceditor_icon.png"},itemedit_button:{position:p.a(64,Math.floor(Y.height/2)+4),c:p.a(0,0),size:p.size(48,48),va:"GUI/itemeditor_icon.png"},skilledit_button:{position:p.a(64,Math.floor(Y.height/2)-52),c:p.a(0,0),size:p.size(48,48),va:"GUI/skilleditor_icon.png"},signedit_button:{position:p.a(34,Math.floor(Y.height/2)-108),c:p.a(0,0),size:p.size(48,48),va:"GUI/signeditor_icon.png"},
warpedit_button:{position:p.a(4,Math.floor(Y.height/2)-164),c:p.a(0,0),size:p.size(48,48),va:"GUI/warpeditor_icon.png"},bankedit_button:{position:p.a(90,Math.floor(Y.height/2)+60),c:p.a(0,0),size:p.size(48,48),va:"GUI/bankeditor_icon.png"},shopedit_button:{position:p.a(120,Math.floor(Y.height/2)+4),c:p.a(0,0),size:p.size(48,48),va:"GUI/shopeditor_icon.png"},questedit_button:{position:p.a(120,Math.floor(Y.height/2)-52),c:p.a(0,0),size:p.size(48,48),va:"GUI/questeditor_icon.png"}}}}},aI:!1,ZH:!1,Wm:function(a){!1==
a&&(this.pB(),y.d().vm("Login",{LC:!1}))},pB:function(){F.td();F.rs();null!=Equipment&&(Equipment.kb(),Equipment.R(),Equipment=null);null!=Inventory&&(Inventory.kb(),Inventory.R(),Inventory=null);null!=Skills&&(Skills.kb(),Skills.R(),Skills=null);SkillBarsInstance.R();A.td();A.rs();D.td();D.rs()},vb:function(a){if(p.Cb(p.rect(this.b.logout_button.n.C,this.b.logout_button.n.I,this.b.logout_button.e().width,this.b.logout_button.e().height),a.Q))return this.pB(),y.d().vm("Login",{iI:!0,LC:!0}),!0;y.Tm(this);
if(p.Cb(this.b.chat_button.Sa(),a.Q)&&this.b.chat_button.pa)return this.Tk("C"),!0;if(p.Cb(this.b.inventory_button.Sa(),a.Q)&&this.b.inventory_button.pa)return this.Tk("I"),!0;if(p.Cb(this.b.equipment_button.Sa(),a.Q)&&this.b.equipment_button.pa)return this.Tk("E"),!0;if(p.Cb(this.b.skill_button.Sa(),a.Q)&&this.b.skill_button.pa)return this.Tk("S"),!0;if(p.Cb(this.b.quickedit_button.Sa(),a.Q)&&this.b.quickedit_button.pa)return this.QJ(!this.ZH),!0;if(p.Cb(this.b.quicknav_button.Sa(),a.Q)&&this.b.quicknav_button.pa)return this.RJ(!this.aI),
!0;if(p.Cb(this.b.mapedit_button.Sa(),a.Q)&&this.b.mapedit_button.pa)return this.Gi("/editmap"),!0;if(p.Cb(this.b.npcedit_button.Sa(),a.Q)&&this.b.npcedit_button.pa)return this.Gi("/editnpc"),!0;if(p.Cb(this.b.itemedit_button.Sa(),a.Q)&&this.b.itemedit_button.pa)return this.Gi("/edititem"),!0;if(p.Cb(this.b.skilledit_button.Sa(),a.Q)&&this.b.skilledit_button.pa)return this.Gi("/editskill"),!0;if(p.Cb(this.b.signedit_button.Sa(),a.Q)&&this.b.signedit_button.pa)return this.Gi("/editsign"),!0;if(p.Cb(this.b.warpedit_button.Sa(),
a.Q)&&this.b.warpedit_button.pa)return this.Gi("/editwarp"),!0;if(p.Cb(this.b.shopedit_button.Sa(),a.Q)&&this.b.shopedit_button.pa)return this.Gi("/editshop"),!0;if(p.Cb(this.b.questedit_button.Sa(),a.Q)&&this.b.questedit_button.pa)return this.Gi("/editquest"),!0;if(p.Cb(this.b.bankedit_button.Sa(),a.Q)&&this.b.bankedit_button.pa)return this.Gi("/editbank"),!0},SJ:function(a){null==Sign||Sign.Y||(Sign=null);Sign?(Sign.kb(),Sign.R(),Sign=null):(Sign=new SignPanel,Sign.r(a),Sign.Pa(),this.m(Sign))},
eW:function(a){null==Book||Book.Y||(Book=null);Book?(Book.kb(),Book.R(),Book=null):(Book=new BookPanel,Book.r(a),Book.Pa(),this.m(Book))},gf:function(){},Tk:function(a){switch(a){case "C":D.HS()?D.KH():D.show();break;case "ENTER":D.cC()||D.NC(!0);break;case "SPACE":A.l.ga.AS();Inventory&&Inventory.mf();break;case "CTRL":A.l.ga.zS();break;case "ESC":this.pB();y.d().vm("Login",{iI:!0,LC:!0});break;case "I":null==Inventory||Inventory.Y||(Inventory=null);Inventory?(Inventory.kb(),Inventory.R(),Inventory=
null):(Inventory=new InventoryPanel,Inventory.r(),Inventory.Pa(),this.m(Inventory));break;case "E":null==Equipment||Equipment.Y||(Equipment=null);Equipment?(Equipment.kb(),Equipment.R(),Equipment=null):(Equipment=new EquipmentPanel,Equipment.r(),Equipment.Pa(),this.m(Equipment));break;case "S":null==Skills||Skills.Y||(Skills=null),Skills?(Skills.kb(),Skills.R(),Skills=null):(Skills=new SkillsPanel,Skills.r(),Skills.Pa(),this.m(Skills))}},kC:function(a){var c=A.l.ga.Df();A.l.ga.path=null;if(0==c.x%
1&&0==c.y%1)switch(a){case "RIGHTARROW":A.l.ga.Bp(c.x+1,c.y);break;case "LEFTARROW":A.l.ga.Bp(c.x-1,c.y);break;case "UPARROW":A.l.ga.Bp(c.x,c.y+1);break;case "DOWNARROW":A.l.ga.Bp(c.x,c.y-1)}},RJ:function(a){this.aI=a;this.b.chat_button.v(a);this.b.inventory_button.v(a);this.b.equipment_button.v(a);this.b.skill_button.v(a);this.b.quicknav_button.aa(p.La.d().Ab(!0==a?"GUI/quickmenu_opened_icon.png":"GUI/quickmenu_closed_icon.png"))},QJ:function(a){this.ZH=a;this.b.mapedit_button.v(a);this.b.npcedit_button.v(a);
this.b.itemedit_button.v(a);this.b.skilledit_button.v(a);this.b.signedit_button.v(a);this.b.warpedit_button.v(a);this.b.shopedit_button.v(a);this.b.bankedit_button.v(a);this.b.questedit_button.v(a);this.b.quickedit_button.aa(p.La.d().Ab(!0==a?"GUI/quickedit_opened_icon.png":"GUI/quickedit_closed_icon.png"))},Gi:function(a){if(a)switch(p.log(a),a){case "/editmap":null==Mapeditor||Mapeditor.Y||(Mapeditor=null);Mapeditor?(Mapeditor.kb(),Mapeditor.R(),Mapeditor=null,F.ss(null)):(Mapeditor=new MapEditor,
Mapeditor.r(),Mapeditor.Pa(),this.m(Mapeditor),F.ss(Mapeditor));break;case "/editwarp":null==Warpeditor||Warpeditor.Y||(Warpeditor=null);Warpeditor?(Warpeditor.kb(),Warpeditor.R(),Warpeditor=null):(Warpeditor=new PopupList,Warpeditor.r({A:null,xi:new WarpEditor,list:ObjectLists.um(),name:"Warp List"}),Warpeditor.Pa(),this.m(Warpeditor));break;case "/editsign":null==Signeditor||Signeditor.Y||(Signeditor=null);Signeditor?(Signeditor.kb(),Signeditor.R(),Signeditor=null):(Signeditor=new PopupList,Signeditor.r({A:null,
xi:new SignEditor,list:ObjectLists.Sr(),name:"Sign List"}),Signeditor.Pa(),this.m(Signeditor));break;case "/editskill":null==Skillseditor||Skillseditor.Y||(Skillseditor=null);Skillseditor?(Skillseditor.kb(),Skillseditor.R(),Skillseditor=null):(Skillseditor=new PopupList,Skillseditor.r({A:null,xi:new SkillsEditor,list:ObjectLists.To(),name:"Skills List"}),Skillseditor.Pa(),this.m(Skillseditor));break;case "/edititem":null==Itemeditor||Itemeditor.Y||(Itemeditor=null);Itemeditor?(Itemeditor.kb(),Itemeditor.R(),
Itemeditor=null,F.ss(null)):(Itemeditor=new PopupList,Itemeditor.r({A:null,xi:new ItemEditor,list:ObjectLists.zi(),name:"Item List"}),Itemeditor.Pa(),this.m(Itemeditor));break;case "/editnpc":null==NPCeditor||NPCeditor.Y||(NPCeditor=null);NPCeditor?(NPCeditor.kb(),NPCeditor.R(),NPCeditor=null,F.ss(null)):(NPCeditor=new PopupList,NPCeditor.r({A:null,xi:new NPCEditor,list:ObjectLists.Ik(),name:"NPC List"}),NPCeditor.Pa(),this.m(NPCeditor));break;case "/editquest":null==Questeditor||Questeditor.Y||(Questeditor=
null);Questeditor?(Questeditor.kb(),Questeditor.R(),Questeditor=null,F.ss(null)):(Questeditor=new PopupList,Questeditor.r({A:null,xi:new QuestEditor,list:ObjectLists.EB(),name:"Quest List"}),Questeditor.Pa(),this.m(Questeditor));break;case "/help":D.showHelp();break;case "/commands":D.fW();break;case "/diceroll":a=Math.floor(6*Math.random()+1);a=A.l.ga.getName()+" threw a dice and got "+a+".";D.Bb(a);H({diceroll:a});break;case "/coinflip":a=1==Math.floor(3*Math.random()+1)?"Heads":"Tails";a=A.l.ga.getName()+
" flipped a coin and got "+a+".";D.Bb(a);H({coinflip:a});break;case "/dance":a=A.l.ga.getName()+" dances the dance of his people.";D.Bb(a);H({dance:a});break;case "/afk":A.l.ga.updateStatus("AFK"),H({afk:!0})}},r:function(a){this._super();this.m(F.create());ObjectLists.d();a={name:a.oK,Ei:!0,Ym:{health:{yc:1,value:100,Ff:200,Ef:900},mana:{yc:1,value:100,Ff:200,Ef:99}},map:1,As:"sprites1.png",ys:1};A.create(a);F.GP();this.b.R();this.vp(-20);this.Lc(function(){F.d().bl(a.map)});H({moveTo:A.l.ga.Df().x+
A.l.ga.Df().y*U});this.m(D.create());this.m(va.create());this.RJ(!1);this.QJ(!1);this.m(this.b);this.zc(this.eD);this.zc(this.LU);Ja=this},eD:function(){if(0<u.length)for(var a=0;a<u.length;a++){var c=JSON.parse(u[a]);c.moveTo&&(!A.Hh(c.id)||A.Hh(c.id)&&!1==A.Hh(c.id).mg)?(reactToSocketMessage(JSON.stringify(c)),u.splice(a,1)):c.moveTo||(reactToSocketMessage(JSON.stringify(c)),u.splice(a,1))}},LU:function(){if(!0==MapMaster){var a=A.zL(),c;for(c in a)if(!1==a[c].Cw){var d=10*Math.random()+1,e=a[c].Df();
switch(Math.floor(4*Math.random())+1){case 1:e.x++;break;case 2:e.y++;break;case 3:e.x--;break;case 4:e.y--}a[c].KV(e,d)}}}});var Qa=p.sa.extend({mc:null,H1:!1,NC:function(a){a?this.mc.Oa.focus():this.mc.Oa.blur()},cC:function(){return document.activeElement==this.mc.Oa},ha:function(a){this.mc.bh(a)},HB:function(){return this.mc.fa()},r:function(){p.log("Ovveride inputbox init call if necessary")},ctor:function(a,c,d,e,f,g,h){this.mc=p.Ip.create(p.size(c.width,c.height),p.Qe.create(),h);this.mc.bh(e);this.mc.zQ=e;this.mc.kV(p.i(g.h,g.g,g.f));this.mc.$I(p.i(f.h,f.g,f.f));this.mc.q(p.a(d.x,d.y));this.mc.X(0,1);this.mc.ah(this);
a.m(this.mc);this.r()}});var Ra=Qa.extend({Xv:function(a){a.bh("")},Yv:function(a,c){c||("/"==a.fa().substring(0,1)?this.CU(a.fa()):0<a.fa().length&&D.Bb(a.fa(),!0));a.bh(I.xc.PG)},CU:function(a){y.d().Xc.Gi(a)},Zv:function(a,c){a.bh(c);p.log("chatBox "+this.eF(a)+", TextChanged, text: "+c)},eF:function(){return"chatbox"}}),$=null,D=p.Bc.extend({zj:null,r:function(){this.zj=new Ra(this.b.chat_panel,p.size(this.b.chat_panel.e().width-4,25),p.a(2,this.b.chat_panel.e().height-2),I.xc.PG,p.i(255,255,255),p.i(0,0,0));this.zj.mc.Y.Rh(this.zj.mc.n.I+
59)},wG:function(a){for(var c=[],d=0;7>d;d++)c.push(this.b.chat_panel["label"+d].HB());this.b.chat_panel.label0.ha(a);for(d=1;8>d;d++)this.b.chat_panel["label"+d].ha(c[d-1])},hd:function(){return{panels:{children:{chat_panel:{size:p.size(400,150),va:"GUI/chat.png",c:p.a(0,0),opacity:200,position:p.a(0,-200),children:{label7:{label:"",position:p.a(5,0),c:p.a(0,0),color:p.i(0,0,0)},label6:{label:"",position:p.a(5,15),c:p.a(0,0),color:p.i(0,0,0)},label5:{label:"",position:p.a(5,30),c:p.a(0,0),color:p.i(0,
0,0)},label4:{label:"",position:p.a(5,45),c:p.a(0,0),color:p.i(0,0,0)},label3:{label:"",position:p.a(5,60),c:p.a(0,0),color:p.i(0,0,0)},label2:{label:"",position:p.a(5,75),c:p.a(0,0),color:p.i(0,0,0)},label1:{label:"",position:p.a(5,90),c:p.a(0,0),color:p.i(0,0,0)},label0:{label:"",position:p.a(5,105),c:p.a(0,0),color:p.i(0,0,0)}}}}}}}});D.create=function(){$||($=new D,$.b=Da($),$.m($.b),$.r(),D.KH(),D.gW());return $};D.d=function(){return $};
D.Bb=function(a,c){50<a.length&&(a=a.substring(0,50)+"...");c?(H({chatMessage:a}),$.wG(A.l.ga.getName()+": "+a)):$.wG(a)};D.show=function(){$.zj.mc.Y.Rh(0)};D.KH=function(){$.zj.mc.Y.Rh(-$.zj.mc.n.I+59)};D.HS=function(){return 0!=$.zj.mc.Y.n.I?!1:!0};D.NC=function(a){$.zj.NC(a)};D.cC=function(){return $.zj.cC()};D.showHelp=function(){D.Bb(I.xc.eS);D.Bb(I.xc.fS);D.Bb(I.xc.gS);D.Bb(I.xc.hS);D.Bb(I.xc.iS)};D.fW=function(){D.Bb(I.xc.iQ);D.Bb(I.xc.jQ);D.Bb(I.xc.kQ);D.Bb(I.xc.lQ)};D.gW=function(){D.Bb(I.xc.BS)};
D.td=function(){$.b.R();$.b=null};D.rs=function(){$.R();$=null};var Z=Qa.extend({Xr:!1,nI:!1,TG:!1,Xv:function(a){!1==this.TG&&a.bh("")},Yv:function(a){null==a.fa()||""==a.fa().length&&this.nI?this.Xr=!0:0<!a.fa().length?(a.bh(this.mc.zQ),this.Xr=!1):this.Xr=!0},Zv:function(a,c){a.bh(c);this.Xr=!0},eF:function(){return"name_entry"},fa:function(){return!0==this.Xr||!0==this.yQ?this.mc.fa():null},bh:function(a){this.mc.bh(a)},yd:function(a){this.yQ=a},ts:function(a){this.nI=a},iJ:function(a){this.TG=a},r:function(){}});var y=p.Bc.extend({l:null,cB:null,Xc:null,uG:null,r:function(){var a=p.ja.d().cw();this.cB=p.bb.create(p.F(255,255,255,255),parseInt(4*a.width),parseInt(4*a.height));this.cB.X(p.a(0,0));this.m(this.cB);this.vm("Login",{});this.zc(this.SP)},SP:function(){for(var a in wa)if(!0==wa[a]&&null!=this.Xc){var c=null;a=parseInt(a);switch(a){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c=
"CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a&&58>a||64<a&&91>a)&&(c=String.fromCharCode(a));null!=c&&this.Xc.kC(c)}},vm:function(a,c){null!=this.Xc&&(this.Xc.kb(),this.Xc.R(),this.Xc=null);switch(a){case "Login":this.Xc=new Login;break;case "Game":this.Xc=
new Pa}this.Xc.rK();this.m(this.Xc,1);this.Xc.nV(a);this.Xc.Pa();this.Xc.r(c)},t2:function(){return this.Xc.gd()}});y.d=function(){null==this.l&&(this.l=new y);return this.l};y.Tm=function(a){null==this.l&&(this.l=new y);this.l.uG=a};y.aR=function(){null==this.l&&(this.l=new y);return this.l.uG};var Y;
new (p.Ni.extend({Qv:document.ccConfig,ctor:function(){this._super();p.Os=this.Qv.COCOS2D_DEBUG;p.kS();p.bl(this.Qv.tag);p.tx.dW().DQ()},MP:function(){var a=this.Qv,c=p.P.d(),d=p.ja.d();Y=d.cw();p.size(Y.width,Y.height);var e=p.size(Y.width,Y.height),f=p.nd.d();p.Ni.d();f.zJ(["res/Graphics"]);p.eh&&p.eh.d().y$("res/Audio");c.$U(1);d.MC(e.width,e.height,p.nn.SHOW_ALL);c.qs(1/a.frameRate);a.test?p.test(a.test):(p.log("++++++++++++++++entry for game++++++++++++"),p.SS(function(a){p.Rx.uC(a,function(){document.getElementById("gameCanvas").setAttribute("tabindex","0");
document.getElementById("gameCanvas").focus();var a=y.d();p.P.d().OI(a);a.r()})}));return!0}}));
//@ sourceMappingURL=sourcemap