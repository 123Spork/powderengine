var b,aa={V_:"2D Circle Graphic/TOWNBOT2.bmp",W_:"2D Circle Graphic/TOWNBOT2.png",X_:"2D Circle Graphic/TOWNJNT2.bmp",p0:"2D Circle Graphic/_BACKUP_.bmp",o0:"40x40Tiles.png",L1:"GUI/bank.png",M1:"GUI/bankeditor_icon.png",O1:"GUI/book.png",R1:"GUI/btnDown.png",S1:"GUI/btnLeft.png",T1:"GUI/btnRight.png",U1:"GUI/btnUp.png",n2:"GUI/chat.png",m2:"GUI/chat_icon.png",o2:"GUI/checkbox_checked.png",p2:"GUI/checkbox_uncheck.png",q2:"GUI/close.png",x2:"GUI/copy.png",A2:"GUI/cross_icon.png",G2:"GUI/defaultitem.png",
X2:"GUI/edit.png",Y2:"GUI/editor-tab.png",b3:"GUI/equipment.png",a3:"GUI/equipment_icon.png",c3:"GUI/event_panel.png",c7:"GUI/healthbar.png",t7:"GUI/inventory.png",s7:"GUI/inventory_icon.png",i8:"GUI/itemeditor_bg.png",j8:"GUI/itemeditor_icon.png",k8:"GUI/itemeditor_tab1_bg.png",l8:"GUI/itemeditor_tab2_bg.png",m8:"GUI/itemeditor_tab3_bg.png",x8:"GUI/list_panel.png",E8:"GUI/logout.png",H8:"GUI/mapeditor_icon.png",M8:"GUI/npceditor_icon.png",N8:"GUI/npctalk.png",T9:"GUI/quest_panel.png",U9:"GUI/questeditor_icon.png",
V9:"GUI/quickedit_closed_icon.png",W9:"GUI/quickedit_opened_icon.png",X9:"GUI/quickmenu_closed_icon.png",Y9:"GUI/quickmenu_opened_icon.png",E$:"GUI/save_icon.png",F$:"GUI/scripteditor_icon.png",G$:"GUI/scripting_list.png",I$:"GUI/selected.png",Iba:"GUI/settings_icon.png",Jba:"GUI/shopeditor_icon.png",Kba:"GUI/signeditor_bg.png",Lba:"GUI/signeditor_icon.png",Mba:"GUI/signpost.png",Nba:"GUI/skilleditor_icon.png",Pba:"GUI/skills.png",Oba:"GUI/skills_icon.png",Tba:"GUI/splash.png",qca:"GUI/texture_change_left.png",
rca:"GUI/texture_change_middle.png",sca:"GUI/texture_change_right.png",tca:"GUI/tick_icon.png",Dca:"GUI/trash.png",Mca:"GUI/use.png",Wca:"GUI/warpeditor_bg.png",Xca:"GUI/warpeditor_icon.png",V1:"building1.png",l2:"character_graphics.txt",n8:"items1.png",Uba:"sprites1.png",uca:"tile_graphics.txt",vca:"tiles0.png",wca:"tiles1.png"};var q=q||{},ba={};q.qU=function(a){var c=q.AD[ba.MH.pF];if(c){for(var d=[],e=0;e<c.length;++e)d.push({src:c[e]});a(d)}else a([])};ba={MH:{pF:"_0"}};q.AD={};q.AD[ba.MH.pF]=[];q.AD.hR=[];q=q||{};function ca(){return arguments.callee.name||arguments.callee.toString().match(/^function ([^(]+)/)[1]}ca.id=0|998*Math.random();ca.WT=0|998*Math.random();
ca.NH=function(a,c,d){for(var e=a.toString(),f=e.substring(e.indexOf("(")+1,e.indexOf(")")),f=f.trim(),e=e.substring(e.indexOf("{")+1,e.lastIndexOf("}"));-1!=e.indexOf("this._super");)var g=e.indexOf("this._super"),h=e.indexOf("(",g),k=e.substring(h+1,e.indexOf(")",h)),k=(k=k.trim())?",":"",l=arguments.callee.dM(),e=e.substring(0,g)+l+"["+d+"]."+c+".call(this"+k+e.substring(h+1);return Function(f,e)};ca.NH.dM=ca;ca.MS=function(){return this.id++};ca.NS=function(){return this.WT++};
(function(){var a=/\b_super\b/,c=document.ccConfig&&document.ccConfig.CLASS_RELEASE_MODE?document.ccConfig.CLASS_RELEASE_MODE:null;c&&console.log("release Mode");q.Ma=function(){};q.Ma.extend=function(d){function e(){this.qc=ca.NS();this.ctor&&this.ctor.apply(this,arguments)}var f=this.prototype,g=Object.create(f),h=ca.MS();ca[h]=f;var k={writable:!0,enumerable:!1,configurable:!0},l;for(l in d)c&&"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=ca.NH(d[l],l,h),Object.defineProperty(g,
l,k)):"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=function(a,c){return function(){var d=this._super;this._super=f[a];var e=c.apply(this,arguments);this._super=d;return e}}(l,d[l]),Object.defineProperty(g,l,k)):"function"==typeof d[l]?(k.value=d[l],Object.defineProperty(g,l,k)):g[l]=d[l];g.qc=null;e.id=h;k.value=h;Object.defineProperty(g,"__pid",k);e.prototype=g;k.value=e;Object.defineProperty(e.prototype,"constructor",k);e.extend=arguments.callee;e.f7=function(a){for(var c in a)g[c]=
a[c]};return e};Function.prototype.bind=Function.prototype.bind||function(a){var c=this;return function(){var f=Array.prototype.slice.call(arguments);return c.apply(a||null,f)}}})();q.h7=function(a,c){function d(){}d.prototype=c.prototype;a.Vx=c.prototype;a.prototype=new d;a.prototype.constructor=a};
q.hR=function(a,c,d){var e=arguments.callee.caller;if(e.Vx)return ret=e.Vx.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var f=Array.prototype.slice.call(arguments,2),g=!1,h=a.constructor;h;h=h.Vx&&h.Vx.constructor)if(h.prototype[c]===e)g=!0;else if(g)return h.prototype[c].apply(a,f);if(a[c]===e)return a.constructor.prototype[c].apply(a,f);throw Error("cc.base called from a method of one name to a method of a different name");};
q.t2=function(a,c){a||(a={});for(var d in c)a[d]=c[d];return a};q.fh=function(a,c){this.x=a||0;this.y=c||0};q.CF=function(a,c){this.H=a||0;this.Q=c||0;this.iL=function(a){this.H=a};this.jL=function(a){this.Q=a}};q.Jd=function(){return new q.CF(0,0)};
Object.defineProperties(q.CF.prototype,{x:{get:function(){return this.H},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0},y:{get:function(){return this.Q},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0}});q.l_=function(a,c){q.log("cc.PointMake will be deprecated sooner or later. Use cc.p instead.");return new q.fh(a,c)};
q.a=function(a,c){return{x:a,y:c}};q.W0=q.a;q.Dj=function(){return q.a(0,0)};q.WJ=function(a,c){return a&&c?a.x===c.x&&a.y===c.y:!1};q.Ek=function(a,c){this.width=a||0;this.height=c||0};q.DF=function(a,c){this.Ha=a||0;this.xa=c||0;this.$D=function(a){this.Ha=a};this.OD=function(a){this.xa=a}};q.Km=function(){return new q.DF(0,0)};
Object.defineProperties(q.DF.prototype,{width:{get:function(){return this.Ha},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0},height:{get:function(){return this.xa},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0}});q.Q_=function(a,c){q.log("cc.SizeMake will be deprecated sooner or later. Use cc.size instead.");return q.size(a,c)};
q.size=function(a,c){return{width:a,height:c}};q.Va=q.size;q.fm=function(){return q.size(0,0)};q.sH={bV:q.Jd(),SX:q.Km()};Object.defineProperties(q,{$M:{get:function(){return q.sH.bV},configurable:!0},jN:{get:function(){return q.sH.SX},configurable:!0},q_:{get:function(){return q.rect(0,0,0,0)},configurable:!0}});q.RX=function(a,c){return a&&c?a.width==c.width&&a.height==c.height:!1};
q.vg=function(a,c,d,e){var f=arguments.length;if(4===f)this.cd=new q.fh(a||0,c||0),this.Va=new q.Ek(d||0,e||0);else if(1===f)this.cd=new q.fh(a.cd.x,a.cd.y),this.Va=new q.Ek(a.Va.width,a.Va.height);else if(0===f)this.cd=new q.fh(0,0),this.Va=new q.Ek(0,0);else if(2===f)this.cd=new q.fh(a.x,a.y),this.Va=new q.Ek(c.width,c.height);else throw"unknown argument type";};q.x_=function(a,c,d,e){q.log("cc.RectMake will be deprecated sooner or later. Use cc.rect instead.");return q.rect(a,c,d,e)};
q.rect=function(a,c,d,e){var f=arguments.length;if(0===f)return new q.vg(0,0,0,0);if(1===f)return new q.vg(a.x,a.y,a.width,a.height);if(2===f)return new q.vg(a.x,a.y,c.width,c.height);if(4===f)return new q.vg(a,c,d,e);throw"unknown argument type";};q.za=q.rect;q.vd=function(){return q.rect(0,0,0,0)};q.cK=function(a,c){return a&&c?q.WJ(a.cd,c.cd)&&q.RX(a.Va,c.Va):!1};q.Nr=function(a){return a?0===a.x&&0===a.y&&0===a.width&&0===a.height:!1};
q.Z9=function(a,c){return a&&c?!(a.x>=c.x||a.y>=c.y||a.x+a.width<=c.x+c.width||a.y+a.height<=c.y+c.height):!1};q.Dn=function(a){return a.x+a.width};q.a$=function(a){return a.x+a.width/2};q.Gl=function(a){return a.x};q.En=function(a){return a.y+a.height};q.b$=function(a){return a.y+a.height/2};q.Hl=function(a){return a.y};q.rb=function(a,c){return c.x>=q.Gl(a)&&c.x<=q.Dn(a)&&c.y>=q.Hl(a)&&c.y<=q.En(a)};q.uV=function(a,c){return!(q.Dn(a)<q.Gl(c)||q.Dn(c)<q.Gl(a)||q.En(a)<q.Hl(c)||q.En(c)<q.Hl(a))};
q.c$=function(a,c){return!(a.x+a.width<c.x||c.x+c.width<a.x||a.y+a.height<c.y||c.y+c.height<a.y)};q.tx=function(a,c){var d=q.rect(0,0,0,0);d.x=Math.min(a.x,c.x);d.y=Math.min(a.y,c.y);d.width=Math.max(a.x+a.width,c.x+c.width)-d.x;d.height=Math.max(a.y+a.height,c.y+c.height)-d.y;return d};q.tV=function(a,c){var d=q.rect(Math.max(q.Gl(a),q.Gl(c)),Math.max(q.Hl(a),q.Hl(c)),0,0);d.width=Math.min(q.Dn(a),q.Dn(c))-q.Gl(d);d.height=Math.min(q.En(a),q.En(c))-q.Hl(d);return d};b=q.vg.prototype;
b.iL=function(a){this.cd.x=a};b.jL=function(a){this.cd.y=a};b.Is=function(){return this.Va.width};b.$D=function(a){this.Va.width=a};b.Fs=function(){return this.Va.height};b.OD=function(a){this.Va.height=a};
Object.defineProperties(q.vg.prototype,{x:{get:function(){return this.cd.x},set:function(a){this.iL(a)},enumerable:!0,configurable:!0},y:{get:function(){return this.cd.y},set:function(a){this.jL(a)},enumerable:!0,configurable:!0},width:{get:function(){return this.Is()},set:function(a){this.$D(a)},enumerable:!0,configurable:!0},height:{get:function(){return this.Fs()},set:function(a){this.OD(a)},enumerable:!0,configurable:!0}});var r=r||{};try{r.localStorage=window.localStorage,window.localStorage.setItem("storage",""),window.localStorage.removeItem("storage")}catch(da){"SECURITY_ERR"!==da.name&&"QuotaExceededError"!==da.name||console.log("Warning: localStorage isn't enabled. Please confirm browser cookie or privacy option"),r.localStorage=function(){}}
Object.defineProperties(r,{c2:{get:function(){var a={canvas:!0};q.Ja.ad&&(a.opengl=!0);"ontouchstart"in document.documentElement||window.navigator.msPointerEnabled?a.touches=!0:"onmouseup"in document.documentElement&&(a.mouse=!0);"onkeyup"in document.documentElement&&(a.keyboard=!0);if(window.DeviceMotionEvent||window.DeviceOrientationEvent)a.accelerometer=!0;return a},enumerable:!0,configurable:!0},RJ:{get:function(){var a=navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?!0:!1,c=navigator.userAgent.match(/android/i)||
navigator.platform.match(/android/i)?!0:!1,d=navigator.appVersion;-1!=navigator.appVersion.indexOf("Win")?d="Windows":a?d="iOS":-1!=navigator.appVersion.indexOf("Mac")?d="OS X":-1!=navigator.appVersion.indexOf("X11")?d="UNIX":-1!=navigator.appVersion.indexOf("Linux")?d="Linux":c&&(d="Android");return d},enumerable:!0,configurable:!0},platform:{get:function(){return"browser"},enumerable:!0,configurable:!0},version:{get:function(){return q.Dt},enumerable:!0,configurable:!0}});r.y3=function(){};
r.U2=function(){};r.z$=function(){};q.Dt="Cocos2d-html5-v2.2.2";q.Xt=0;q.NE=q.a(0,0);q.jM=0.5;q.UY=1;q.kN=1;q.XM=0;q.vF=0;q.S_=0;q.T_=0;q.t_=1;q.s_="-hd";q.zN=1;q.Ej=0;q.N_=0;q.QZ=0;q.PZ=0;q.Iy=1;q.cZ=q.Dt+"-canvas";q.Fw={platform:r.platform};q.T2=function(){for(var a in r)q.log(a+" \x3d "+r[a])};q.Ct=1;q.PE=1;q.OH=function(a,c){for(var d=["webgl","experimental-webgl","webkit-3d","moz-webgl"],e=null,f=0;f<d.length;++f){try{e=a.getContext(d[f],c)}catch(g){}if(e)break}return e};q.Ja={};q.Ja.pY=["baidubrowser","opera","firefox","chrome","safari"];q.Ja.L8="baidubrowser opera firefox chrome safari ucbrowser qqbrowser mqqbrowser ie".split(" ");
(function(){q.Ja.ay=navigator.userAgent.toLowerCase();q.Ja.platform=navigator.platform.toLowerCase();q.Ja.nj=-1!=q.Ja.ay.indexOf("mobile")||-1!=q.Ja.ay.indexOf("android");q.Ja.type=function(){var a=q.Ja.ay.match(/micromessenger|qqbrowser|mqqbrowser|ucbrowser|360browser|baidubrowser|maxthon|ie|opera|firefox/)||q.Ja.ay.match(/chrome|safari/);return a&&0<a.length?(a=a[0],"micromessenger"==a?"wechat":a):"unknow"}();q.Ja.mode="ie"==q.Ja.type&&document.documentMode;document.ccConfig||(document.ccConfig=
{});q.KB=parseInt(document.ccConfig.renderMode)||0;var a=-1==q.Ja.pY.indexOf(q.Ja.type);1===q.KB||0===q.KB&&(q.Ja.nj||a)?q.Ja.ad=!1:(q.Ja.ad=null!=window.m0,a=document.createElement("Canvas"),a=q.OH(a,{stencil:!0,preserveDrawingBuffer:!0}),q.Ja.ad=null!=a);2!==q.KB||q.Ja.ad||(q.sz=!0);var a=q.Ja,c;try{c=new (window.AudioContext||window.webkitAudioContext||window.mozAudioContext)?!0:!1}catch(d){c=!1}a.$ba=c;q.Ja.f9=function(a){if(this.nj){var c=q.da.f().ac,d=c.width+"px",c=c.height+"px",h=q.zk("div");
h.style.backgroundColor="#ffffff";h.style.width=d;h.style.height=c;h.style.tY=1E3;h.style.position="absolute";h.style.top="0px";h.style.left="0px";h.id="cocos2d-browser";var k=q.zk("iframe");k.src=a;k.style.width=d;k.style.height=c;k.setAttribute("frameborder","no");k.setAttribute("scrolling","no");h.appendChild(k);k.onload=function(){var a=document.createElement("img");a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5OERBMEM3OUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5OERBMEM3QUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjk4REEwQzc3RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjk4REEwQzc4RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+NwBuoAAAA/tJREFUeNrEWF0sW3EUb6+28zFhbGadsBaNhazV+kpDYhFWKRGWbHvwFV5IvPiIFw9evElEPEiWSUgsIWoIglhmUomPxj6aKC0zKVJjtPU5o9j5J7dLdbf33jKc5Jfc3v+v5/+755x7/j1lMoiNBRDh4AO88HvO2m+ACbAC+AJQAyz2JCbBFyMBWQA/xv+3DUAXLuivudhcY4BMwCuAB+NqDPmNAnAAOsCZvQgk4BnjeiwEwAbM2YoQA14yrteQEANgDcML7gXjZgw9OAuJkADu3JAIb7Q/hr+GtCwuLs6LDq+iooLvhBAREhFEl11ZWRne0tIiIeNIpVKv4uJi4dTUVApNt0EY3ohILSIiwqO7u1sql8vD8vLyJJ2dnXH2HDabzczPz3/Y1taWzOfz78XExDxSq9Vyd3d3jMK9F2pWr6lEtLa2RmVnZ4tt7w0NDWlTU1OVtkK7urqSQ0NDzzW5hYWFjcTExAGDwXDkyD+VSkZ7e3tsWlpamP19mUwWplQqk9B1UlKST3NzczxE4K49D4mCiDwn24PyPMjIyHjs6urKIVpLSEgInp6eZsM6Kzw8nEvEMZvNBxC1BbI9KCMhkUgUy8vLRpL1QIFA4EcSyZmcnJzpS4mYnZ3dj46O7p2fn193xIGi/CeiFovlFIp5pqGhYZ5qD1qFiQxCjk1OTsqEQmEAFReloL+/X0sVAadFWE2n02VA+O+TcVZXV01QkO8ODw9P6fjEnO2zvb2936g4XC7XG4rWm65P2iL8/f05kN8nBQUFQkqnGMYcGBjIys3N5dLxjY7ydDrE6urqsNLSUqmbmxuH1tOBkMzMTIHRaNxSqVTmS4soKyvjFRUViTw9PV2dTR901WAOh7M/MjKyeeHCbGpqEhcWFkY5Wl9aWtpUKBRaONziSbsii/Xm5OTk7EIdU6/X7zpaW1xc/Al5HxkfH9/e2dk5rqmpeUrE6+vr06ADzpEIlI5kMjFwPhh5PB5DJBKdK7KDg4Oj2tpaVUdHxw/0eWxszIjyj8Jvy4N60FdVVX2Grnt4dkaowYJESAG3yaLR09Oz5uvrexwbGxuAR2erpKTkI6RqxW5DM6RnLT09PQQV5vDwsDYlJWUU+I4EIDMhEQLAA6q0DA4OrqMCg/c/qL6+XtXY2Kgn4sGJuavRaFbFYrFPeXn5FIj6ReFa64KnIpJOpaMK39vbM9XV1X13lF9kc3Nz+xMTEwZo89s03A4ycRE1N/RjF/WPKgyfDRU39Gu7w1qYyNYAtwDB1yhgGPDBfgzU4bMi7xoEjAI6iWZRdGMGH80Cr2goRlP5W8B7qwBHfw1YO6kEH4yC8EnJ5QKbnuDFh17nr4BPRP9P/BFgAHo7ZNgI9EbHAAAAAElFTkSuQmCC";
h.appendChild(a);a.style.tY=1E3;a.style.position="absolute";a.style.bottom="10px";a.style.right="10px";a.onclick=function(){h.remove()}};(a=document.getElementById(document.ccConfig.tag).parentNode)&&a.appendChild(h)}else window.open(a)}})();q.y_=function(){return"undefined"===q.sz?!1:q.sz};
q.Sb=function(a){var c=this==q?document:this;if(a=a instanceof HTMLElement?a:c.querySelector(a))a.find=a.find||q.Sb,a.KC=a.KC||function(a){return this.className.match(RegExp("(\\s|^)"+a+"(\\s|$)"))},a.yH=a.yH||function(a){this.KC(a)||(this.className&&(this.className+=" "),this.className+=a);return this},a.MV=a.MV||function(a){this.KC(a)&&(this.className=this.className.replace(a,""));return this},a.remove=a.remove||function(){this.parentNode&&this.parentNode.removeChild(this);return this},a.dn=a.dn||
function(a){a.appendChild(this);return this},a.nV=a.nV||function(a){a.childNodes[0]?a.insertBefore(this,a.childNodes[0]):a.appendChild(this);return this},a.Sn=a.Sn||function(){this.style[q.Sb.dY]=q.Sb.translate(this.position)+q.Sb.rotate(this.rotation)+q.Sb.scale(this.scale)+q.Sb.Ql(this.Ql);return this},a.position=a.position||{x:0,y:0},a.rotation=a.rotation||0,a.scale=a.scale||{x:1,y:1},a.Ql=a.Ql||{x:0,y:0},a.oE=function(a,c){this.position.x=a;this.position.y=c;this.Sn()},a.rotate=function(a){this.rotation=
a;this.Sn();return this},a.resize=function(a,c){this.scale.x=a;this.scale.y=c;this.Sn();return this},a.ZK=function(a,c){this.Ql.x=a;this.Ql.y=c;this.Sn()};return a};switch(q.Ja.type){case "firefox":q.Sb.zn="Moz";q.Sb.Rp=!0;break;case "chrome":case "safari":q.Sb.zn="webkit";q.Sb.Rp=!0;break;case "opera":q.Sb.zn="O";q.Sb.Rp=!1;break;case "ie":q.Sb.zn="ms";q.Sb.Rp=!1;break;default:q.Sb.zn="webkit",q.Sb.Rp=!0}q.Sb.dY=q.Sb.zn+"Transform";
q.Sb.translate=q.Sb.Rp?function(a){return"translate3d("+a.x+"px, "+a.y+"px, 0) "}:function(a){return"translate("+a.x+"px, "+a.y+"px) "};q.Sb.rotate=q.Sb.Rp?function(a){return"rotateZ("+a+"deg) "}:function(a){return"rotate("+a+"deg) "};q.Sb.scale=function(a){return"scale("+a.x+", "+a.y+") "};q.Sb.Ql=function(a){return"skewX("+-a.x+"deg) skewY("+a.y+"deg)"};q.zk=function(a){return q.Sb(document.createElement(a))};
q.Sb.s3=function(a){var c=0,d=0;do c+=a.offsetLeft,d+=a.offsetTop;while(a=a.offsetParent);return{x:c,y:d}};q.clone=function(a){var c=a.constructor?new a.constructor:{},d;for(d in a){var e=a[d];c[d]="object"!=typeof e||!e||e instanceof q.G||e instanceof HTMLElement?e:q.clone(e)}return c};q.J1=function(){};q.SE=q.SE||!1;
q.XO=function(a){var c=document.getElementById("logInfoList");if(!c){var d=document.createElement("Div");d.setAttribute("id","logInfoDiv");q.canvas.parentNode.appendChild(d);d.setAttribute("width","200");d.setAttribute("height",q.canvas.height);d.style.zIndex="99999";d.style.position="absolute";d.style.top="0";d.style.left="0";c=document.createElement("ul");d.appendChild(c);c.setAttribute("id","logInfoList");c.style.height=q.canvas.height+"px";c.style.color="#fff";c.style.textAlign="left";c.style.listStyle=
"disc outside";c.style.fontSize="12px";c.style.fontFamily="arial";c.style.padding="0 0 0 20px";c.style.margin="0";c.style.textShadow="0 0 3px #000";c.style.zIndex="99998";c.style.position="absolute";c.style.top="0";c.style.left="0";c.style.overflowY="hidden";var e=document.createElement("Div");d.appendChild(e);e.style.width="200px";e.style.height=q.canvas.height+"px";e.style.opacity="0.1";e.style.background="#fff";e.style.border="1px solid #dfdfdf";e.style.borderRadius="8px"}d=document.createElement("li");
d.innerHTML=a;0==c.childNodes.length?c.appendChild(d):c.insertBefore(d,c.childNodes[0])};q.log=function(a){document.ccConfig.dev&&!0==document.ccConfig.dev&&(q.SE?q.XO(a):console.log.apply(console,arguments))};q.WZ=function(a){console.log(a)};q.vt=function(a,c){console.assert?console.assert(a,c):a||c&&alert(c)};q.i7=function(){0==q.xt?(q.log=function(){},q.BJ=function(){},q.AJ=function(){},q.vt=function(){}):1==q.xt?(q.BJ=q.log,q.AJ=function(){}):1<q.xt&&(q.BJ=q.log,q.AJ=q.log)};q.CM=0;q.BM=1;
q.DM=2;q.GM=3;q.EM=4;q.OM=5;q.NM=6;q.IM=7;q.HM=8;q.FM=9;q.LM=10;q.AM=11;q.JM=12;q.KM=13;
q.tq={HH:8,jca:9,mC:13,shift:16,B2:17,alt:18,pause:19,d2:20,escape:27,E9:33,D9:34,end:35,home:36,left:37,Gca:38,right:39,O2:40,m7:45,jZ:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,N:65,k:66,La:67,d:68,V2:69,Mw:70,p:71,h:72,e7:73,o8:74,p8:75,u8:76,m:77,EJ:78,b9:79,a:80,S9:81,q:82,s:83,ica:84,Ta:85,ua:86,PL:87,x:88,y:89,z:90,O8:96,P8:97,Q8:98,R8:99,S8:100,T8:101,U8:102,V8:103,W8:104,X8:105,"*":106,"+":107,"-":109,numdel:110,"/":111,f3:112,j3:113,k3:114,l3:115,m3:116,n3:117,o3:118,p3:119,q3:120,
g3:121,h3:122,i3:123,a9:144,H$:145,K$:186,",":186,Z2:187,"\x3d":187,";":188,s2:188,D2:189,".":190,I9:190,w3:191,Z6:192,"[":219,g9:219,"]":221,r2:221,K1:220,quote:222,Rba:32};q.M2=function(a,c,d){if(a)if(c&&"string"==typeof a)c[a](d);else c&&"function"==typeof a?a.call(c,d):a(d)};q.Ei=-1;q.PI=Math.PI;q.rM=parseFloat("3.402823466e+38F");q.gN=q.PI/180;q.iM=180/q.PI;q.yN=4294967295;q.O_=function(a,c,d){if("object"==typeof d&&"undefined"!=typeof d.x&&"undefined"!=typeof d.y){var e=d[a];d[a]=d[c];d[c]=e}else q.log("cc.SWAP is being modified from original macro, please check usage")};q.w8=function(a,c,d){return a+(c-a)*d};q.p_=function(){return 2*(Math.random()-0.5)};q.o_=function(){return Math.random()};q.Bj=function(a){return a*q.gN};q.Vy=function(a){return a*q.iM};
q.em=Number.MAX_VALUE-1;q.Re=q.XM?1:770;q.Qe=771;q.Py=function(a){a.Wc&&(a.Wc.qf(),a.Wc.ah())};q.vZ=function(){};q.iZ=function(){};q.Ph=function(){q.Ch+=1};q.Yt=1.192092896E-7;q.bd=q.Iy?function(){return q.da.f().rm}:function(){return 1};q.ZM=function(a){var c=q.bd();return q.a(a.x*c,a.y*c)};q.s0=function(a,c){var d=q.bd();c.H=a.x*d;c.Q=a.y*d};q.$y=function(a){var c=q.bd();return q.size(a.width*c,a.height*c)};q.L_=function(a){var c=q.bd();return q.size(a.width/c,a.height/c)};
q.qz=function(a,c){var d=q.bd();c.Ha=a.width/d;c.xa=a.height/d};q.j_=function(a){var c=q.bd();return q.a(a.x/c,a.y/c)};q.Lu=function(a,c){var d=q.bd();c.H=a.x/d;c.Q=a.y/d};q.uq=q.Iy?function(a){var c=q.bd();return q.rect(a.x/c,a.y/c,a.width/c,a.height/c)}:function(a){return a};q.eo=q.Iy?function(a){var c=q.bd();return q.rect(a.x*c,a.y*c,a.width*c,a.height*c)}:function(a){return a};q.CE=function(){if(q.x$==q.Fk){var a=q.aa.getError();a&&q.log("WebGL error "+a)}};q.D_=0;q.C_=1;q.A_=2;q.B_=3;q.E_=4;q.F_=5;q.z_=6;var Uint8Array=Uint8Array||Array;
if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){var ea=document.createElement("script");ea.type="text/vbscript";ea.textContent='\x3c!-- IEBinaryToArray_ByteStr --\x3e\r\nFunction IEBinaryToArray_ByteStr(Binary)\r\n   IEBinaryToArray_ByteStr \x3d CStr(Binary)\r\nEnd Function\r\nFunction IEBinaryToArray_ByteStr_Last(Binary)\r\n   Dim lastIndex\r\n   lastIndex \x3d LenB(Binary)\r\n   if lastIndex mod 2 Then\r\n       IEBinaryToArray_ByteStr_Last \x3d Chr( AscB( MidB( Binary, lastIndex, 1 ) ) )\r\n   Else\r\n       IEBinaryToArray_ByteStr_Last \x3d ""\r\n   End If\r\nEnd Function\r\n';document.body.appendChild(ea);
q.TF=function(a){for(var c={},d=0;256>d;d++)for(var e=0;256>e;e++)c[String.fromCharCode(d+256*e)]=String.fromCharCode(d)+String.fromCharCode(e);d=IEBinaryToArray_ByteStr(a);a=IEBinaryToArray_ByteStr_Last(a);return d.replace(/[\s\S]/g,function(a){return c[a]})+a}}
q.Td=q.Ma.extend({Ri:null,il:null,rO:null,gA:null,fp:null,di:null,Uq:"",ctor:function(){this.Ri={};this.il={};this.di=[];this.di.push(this.Uq);this.fp=[];this.fp.push("")},P9:function(){this.di=[]},O3:function(a){a=this.Ee(a);return this.Ri.hasOwnProperty(a)?this.Ri[a]:this.UO(a)},pv:function(){return window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP")},eY:function(a){this.Ri.hasOwnProperty(a)&&delete this.Ri[a]},iV:function(a){a=this.Ee(a);var c=this,d=this.pv();d.open("GET",
a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","x-user-defined"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=q.TF(d.responseBody);e&&(c.Ri[a]=c.bw(e))}else q.Tb.f().Dl(a);q.Tb.f().ig()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dx-user-defined"),d.onload=function(){var e=d.responseText;e?c.Ri[a]=c.bw(e):q.Tb.f().Dl(a);q.Tb.f().ig()});d.send(null)},N9:function(a,c){this.Ri[c]=a;
q.Tb.f().ig()},UO:function(a){var c=this.pv();c.open("GET",a,!1);var d=null;if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){c.setRequestHeader("Accept-Charset","x-user-defined");c.send(null);if(200!=c.status)return null;if(c=q.TF(c.responseBody))d=this.bw(c),this.Ri[a]=d}else{c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dx-user-defined");c.send(null);if(!c.responseText||200!=c.status&&0!=c.status)return null;d="undefined"!==typeof VBArray?(new VBArray(c.responseBody)).toArray():
this.bw(c.responseText);this.Ri[a]=d}return d},bw:function(a){if(!a)return null;for(var c=new Uint8Array(a.length),d=0;d<a.length;d++)c[d]=a.charCodeAt(d)&255;return c},gY:function(a){a=this.Ee(a);this.il.hasOwnProperty(a)&&delete this.il[a]},kV:function(a){a=this.Ee(a);var c=this,d=this.pv();d.open("GET",a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","utf-8"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=
d.responseText;e&&(c.il[a]=e)}else q.Tb.f().Dl(a);q.Tb.f().ig()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dutf-8"),d.onload=function(){d.responseText?c.il[a]=d.responseText:q.Tb.f().Dl(a);q.Tb.f().ig()});d.send(null)},WO:function(a){var c=this.pv();c.open("GET",a,!1);var d=null;/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?c.setRequestHeader("Accept-Charset","utf-8"):c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dutf-8");c.send(null);
if(200!=c.status)return null;(d=c.responseText)&&(this.il[a]=d);return d},FI:function(a){a=this.Ee(a);return this.il.hasOwnProperty(a)?this.il[a]:this.WO(a)},w4:function(){},u$:function(){},XJ:!0,x3:function(a){return a},Ee:function(a){var c=!1;a=this.yO(a);for(var d,e=0;e<this.di.length;e++){for(var f=this.di[e],g=0;g<this.fp.length;g++)if(d=this.zO(a,this.fp[g],f)){c=!0;break}if(c)break}return c?d:a},B8:function(a){var c=this.Ee(a);if(0<c.length){var c=q.Dk.f().parse(c),d=parseInt(c.metadata.version);
1!=d?q.log("cocos2d: ERROR: Invalid filenameLookup dictionary version: "+d+". Filename: "+a):this.JW(c.filenames)}},JW:function(a){this.gA=a},nI:function(a,c){var d;if(a)return d=c.substring(0,c.lastIndexOf("/")+1),d+a;d=c.substring(0,c.lastIndexOf("."));return d+".png"},gba:function(a){this.fp=a},a6:function(){return this.fp},fba:function(a){this.di=a},Y5:function(){return this.di},Q5:function(){return this.rO},bba:function(){},I2:function(a){q.log("dictionaryWithContentsOfFile is deprecated. Use createDictionaryWithContentsOfFile instead");
return this.MR(a)},MR:function(a){return q.Dk.f().parse(a)},p6:function(a){return this.FI(a)},Jw:function(a){return q.Dk.f().parse(a)},T6:function(){return""},Uaa:function(a){q.XJ=a},S7:function(){return q.XJ},aB:"",R5:function(){return this.aB},cba:function(a){this.aB=a},yO:function(a){var c=null;(c=this.gA?this.gA[a]:null)&&0!==c.length?q.log("FOUND NEW FILE NAME: "+c):c=a;return c},zO:function(a,c,d){var e;e=this.aB;a&&0<a.length&&(0===a.indexOf("/")||0===a.indexOf("\\"))?e="":0<e.length&&"\\"!=
e[e.length-1]&&"/"!=e[e.length-1]&&(e+="/");var f=a,g="",h=a.lastIndexOf("/");-1!=h&&(g=a.substr(0,h+1),f=a.substr(h+1));a=d;0<a.length&&a.lastIndexOf("/")!==a.length-1&&(a+="/");a=a+g+c;0<a.length&&a.lastIndexOf("/")!==a.length-1&&(a+="/");a+=f;return e+=a},I0:function(){},YK:function(a){var c=!1;this.di=[];for(var d=0;d<a.length;d++){var e=a[d],f;this.hJ(e)||(f=this.Uq);e=f+e;0<e.length&&"/"!=e[e.length-1]&&(e+="/");c||e!=this.Uq||(c=!0);this.di.push(e)}c||this.di.push(this.Uq)},u1:function(a){var c;
this.hJ(a)||(c=this.Uq);a=c+a;0<a.length&&"/"!=a[a.length-1]&&(a+="/");this.di.push(a)},Z5:function(){},hJ:function(a){return"/"==a[0]}});q.CD=null;q.Td.f=function(){null==q.CD&&(q.CD=new q.Td);return q.CD};q.Ac=function(a,c,d){switch(arguments.length){case 0:this.k=this.p=this.q=0;break;case 1:a&&a instanceof q.Ac?(this.q=0|a.q||0,this.p=0|a.p||0,this.k=0|a.k||0):this.k=this.p=this.q=0;break;case 3:this.q=0|a||0;this.p=0|c||0;this.k=0|d||0;break;default:throw"unknown argument type";}};q.o=function(a,c,d){return new q.Ac(a,c,d)};q.q7=function(a){a=a||0;var c=new q.Ac;c.q=a&255;c.p=a>>8&255;c.k=a>>16&255;return c};q.YB=q.o;q.W1=function(a,c){return a.q===c.q&&a.p===c.p&&a.k===c.k};
Object.defineProperties(q,{k0:{get:function(){return q.o(255,255,255)},configurable:!0},n0:{get:function(){return q.o(255,255,0)},configurable:!0},RY:{get:function(){return q.o(0,0,255)},configurable:!0},EZ:{get:function(){return q.o(0,255,0)},configurable:!0},r_:{get:function(){return q.o(255,0,0)},configurable:!0},TZ:{get:function(){return q.o(255,0,255)},configurable:!0},PY:{get:function(){return q.o(0,0,0)},configurable:!0},a_:{get:function(){return q.o(255,127,0)},configurable:!0},DZ:{get:function(){return q.o(166,
166,166)},configurable:!0}});q.Db=function(){return new q.Ac(255,255,255)};q.ada=function(){return new q.Ac(255,255,0)};q.blue=function(){return new q.Ac(0,0,255)};q.green=function(){return new q.Ac(0,255,0)};q.red=function(){return new q.Ac(255,0,0)};q.G8=function(){return new q.Ac(255,0,255)};q.N1=function(){return new q.Ac(0,0,0)};q.h9=function(){return new q.Ac(255,127,0)};q.tl=function(){return new q.Ac(166,166,166)};q.Zb=function(a,c,d,e){this.q=0|a;this.p=0|c;this.k=0|d;this.N=0|e};
q.j=function(a,c,d,e){return new q.Zb(a,c,d,e)};q.ZB=q.j;q.ke=function(a,c,d,e){this.q=a;this.p=c;this.k=d;this.N=e};q.Cw=function(a,c,d,e){return new q.ke(a,c,d,e)};q.Z1=function(a){return new q.ke(a.q/255,a.p/255,a.k/255,1)};q.a2=function(a){return new q.ke(a.q/255,a.p/255,a.k/255,a.N/255)};q.X1=function(a){return new q.Zb(0|255*a.q,0|255*a.p,0|255*a.k,0|255*a.N)};q.Y1=function(a,c){return a.q==c.q&&a.p==c.p&&a.k==c.k&&a.N==c.N};q.Jb=function(a,c){this.x=a||0;this.y=c||0};
q.Ju=function(a,c){return new q.Jb(a,c)};q.hd=function(a,c,d){this.x=a||0;this.y=c||0;this.z=d||0};q.Sca=function(a,c,d){return new q.hd(a,c,d)};q.Hc=function(a,c){this.Ta=a||0;this.ua=c||0};q.pca=function(a,c){return new q.Hc(a,c)};q.m_=function(a,c,d){a||new q.Jb(0,0);this.color=c||new q.Zb(0,0,0,0);this.size=d||0};q.ju=function(a,c,d,e){this.Xa=a||new q.Jb(0,0);this.Ra=c||new q.Jb(0,0);this.Oa=d||new q.Jb(0,0);this.$a=e||new q.Jb(0,0)};
q.n_=function(a,c,d,e){this.Oa=a||new q.hd(0,0,0);this.$a=c||new q.hd(0,0,0);this.Xa=d||new q.hd(0,0,0);this.Ra=e||new q.hd(0,0,0)};q.uM=function(a,c){this.x=a;this.y=c};q.p=function(a,c){return new q.uM(a,c)};q.cc=function(a,c,d){this.A=a||new q.Jb(0,0);this.U=c||new q.Zb(0,0,0,0);this.F=d||new q.Hc(0,0)};q.Du=function(){this.A=new q.Jb(0,0);this.U=new q.ke(0,0,0,0);this.F=new q.Hc(0,0)};q.Bc=function(a,c,d){this.A=a||new q.hd(0,0,0);this.U=c||new q.Zb(0,0,0,0);this.F=d||new q.Hc(0,0)};
q.Uc=function(a,c,d){this.N=a||new q.cc;this.k=c||new q.cc;this.La=d||new q.cc};q.AN=function(){var a=new q.cc(new q.Jb(0,0),new q.Zb(0,0,0,255),new q.Hc(0,0)),c=new q.cc(new q.Jb(0,0),new q.Zb(0,0,0,255),new q.Hc(0,0)),d=new q.cc(new q.Jb(0,0),new q.Zb(0,0,0,255),new q.Hc(0,0)),e=new q.cc(new q.Jb(0,0),new q.Zb(0,0,0,255),new q.Hc(0,0));this.Oa=a||new q.cc;this.$a=c||new q.cc;this.Xa=d||new q.cc;this.Ra=e||new q.cc};q.h0=function(){return new q.AN};
q.pc=function(a,c,d,e){this.Xa=a||new q.Bc;this.Oa=c||new q.Bc;this.Ra=d||new q.Bc;this.$a=e||new q.Bc};q.pz=function(){return new q.pc(new q.Bc(new q.hd(0,0,0),new q.Zb(0,0,0,255),new q.Hc(0,0)),new q.Bc(new q.hd(0,0,0),new q.Zb(0,0,0,255),new q.Hc(0,0)),new q.Bc(new q.hd(0,0,0),new q.Zb(0,0,0,255),new q.Hc(0,0)),new q.Bc(new q.hd(0,0,0),new q.Zb(0,0,0,255),new q.Hc(0,0)))};
q.oz=function(a){return a?new q.pc(new q.Bc(new q.hd(a.Xa.A.x,a.Xa.A.y,a.Xa.A.z),new q.Zb(a.Xa.U.q,a.Xa.U.p,a.Xa.U.k,a.Xa.U.N),new q.Hc(a.Xa.F.Ta,a.Xa.F.ua)),new q.Bc(new q.hd(a.Oa.A.x,a.Oa.A.y,a.Oa.A.z),new q.Zb(a.Oa.U.q,a.Oa.U.p,a.Oa.U.k,a.Oa.U.N),new q.Hc(a.Oa.F.Ta,a.Oa.F.ua)),new q.Bc(new q.hd(a.Ra.A.x,a.Ra.A.y,a.Ra.A.z),new q.Zb(a.Ra.U.q,a.Ra.U.p,a.Ra.U.k,a.Ra.U.N),new q.Hc(a.Ra.F.Ta,a.Ra.F.ua)),new q.Bc(new q.hd(a.$a.A.x,a.$a.A.y,a.$a.A.z),new q.Zb(a.$a.U.q,a.$a.U.p,a.$a.U.k,a.$a.U.N),new q.Hc(a.$a.F.Ta,
a.$a.F.ua))):q.pz()};q.j0=function(a){if(!a)return[];for(var c=[],d=0;d<a.length;d++)c.push(q.oz(a[d]));return c};q.i0=function(a,c,d,e){this.Oa=a||new q.Du;this.$a=c||new q.Du;this.Xa=d||new q.Du;this.Ra=e||new q.Du};q.bm=function(a,c){this.src=a;this.Qb=c};q.SY=function(){return new q.bm(1,0)};q.Jc=function(a){var c=a.q.toString(16),d=a.p.toString(16),e=a.k.toString(16);return"#"+(16>a.q?"0"+c:c)+(16>a.p?"0"+d:d)+(16>a.k?"0"+e:e)};
q.Ja.ad&&(q.Zb=function(a,c,d,e,f,g){this.$b=f||new ArrayBuffer(q.Zb.BYTES_PER_ELEMENT);this._offset=g||0;f=this.$b;g=this._offset;var h=Uint8Array.BYTES_PER_ELEMENT;this.SA=new Uint8Array(f,g,1);this.nA=new Uint8Array(f,g+h,1);this.Cz=new Uint8Array(f,g+2*h,1);this.uz=new Uint8Array(f,g+3*h,1);this.SA[0]=a||0;this.nA[0]=c||0;this.Cz[0]=d||0;this.uz[0]=e||0},q.Zb.BYTES_PER_ELEMENT=4,Object.defineProperties(q.Zb.prototype,{q:{get:function(){return this.SA[0]},set:function(a){this.SA[0]=a},enumerable:!0},
p:{get:function(){return this.nA[0]},set:function(a){this.nA[0]=a},enumerable:!0},k:{get:function(){return this.Cz[0]},set:function(a){this.Cz[0]=a},enumerable:!0},N:{get:function(){return this.uz[0]},set:function(a){this.uz[0]=a},enumerable:!0}}),q.ke=function(a,c,d,e,f,g){this.$b=f||new ArrayBuffer(q.ke.BYTES_PER_ELEMENT);this._offset=g||0;f=this.$b;g=this._offset;var h=Float32Array.BYTES_PER_ELEMENT;this.RA=new Float32Array(f,g,1);this.RA[0]=a||0;this.mA=new Float32Array(f,g+h,1);this.mA[0]=c||
0;this.Bz=new Float32Array(f,g+2*h,1);this.Bz[0]=d||0;this.tz=new Float32Array(f,g+3*h,1);this.tz[0]=e||0},q.ke.BYTES_PER_ELEMENT=16,Object.defineProperties(q.ke.prototype,{q:{get:function(){return this.RA[0]},set:function(a){this.RA[0]=a},enumerable:!0},p:{get:function(){return this.mA[0]},set:function(a){this.mA[0]=a},enumerable:!0},k:{get:function(){return this.Bz[0]},set:function(a){this.Bz[0]=a},enumerable:!0},N:{get:function(){return this.tz[0]},set:function(a){this.tz[0]=a},enumerable:!0}}),
q.Jb=function(a,c,d,e){this.$b=d||new ArrayBuffer(q.Jb.BYTES_PER_ELEMENT);this._offset=e||0;this.$m=new Float32Array(this.$b,this._offset,1);this.an=new Float32Array(this.$b,this._offset+4,1);this.$m[0]=a||0;this.an[0]=c||0},q.Jb.BYTES_PER_ELEMENT=8,Object.defineProperties(q.Jb.prototype,{x:{get:function(){return this.$m[0]},set:function(a){this.$m[0]=a},enumerable:!0},y:{get:function(){return this.an[0]},set:function(a){this.an[0]=a},enumerable:!0}}),q.hd=function(a,c,d,e,f){this.$b=e||new ArrayBuffer(q.hd.BYTES_PER_ELEMENT);
this._offset=f||0;e=this.$b;f=this._offset;this.$m=new Float32Array(e,f,1);this.$m[0]=a||0;this.an=new Float32Array(e,f+Float32Array.BYTES_PER_ELEMENT,1);this.an[0]=c||0;this.RB=new Float32Array(e,f+2*Float32Array.BYTES_PER_ELEMENT,1);this.RB[0]=d||0},q.hd.BYTES_PER_ELEMENT=12,Object.defineProperties(q.hd.prototype,{x:{get:function(){return this.$m[0]},set:function(a){this.$m[0]=a},enumerable:!0},y:{get:function(){return this.an[0]},set:function(a){this.an[0]=a},enumerable:!0},z:{get:function(){return this.RB[0]},
set:function(a){this.RB[0]=a},enumerable:!0}}),q.Hc=function(a,c,d,e){this.$b=d||new ArrayBuffer(q.Hc.BYTES_PER_ELEMENT);this._offset=e||0;this.DB=new Float32Array(this.$b,this._offset,1);this.LB=new Float32Array(this.$b,this._offset+4,1);this.DB[0]=a||0;this.LB[0]=c||0},q.Hc.BYTES_PER_ELEMENT=8,Object.defineProperties(q.Hc.prototype,{Ta:{get:function(){return this.DB[0]},set:function(a){this.DB[0]=a},enumerable:!0},ua:{get:function(){return this.LB[0]},set:function(a){this.LB[0]=a},enumerable:!0}}),
q.ju=function(a,c,d,e,f,g){this.$b=f||new ArrayBuffer(q.ju.BYTES_PER_ELEMENT);this._offset=g||0;f=this.$b;g=q.Jb.BYTES_PER_ELEMENT;this.rp=a?new q.Jb(a.x,a.y,f,0):new q.Jb(0,0,f,0);this.tp=c?new q.Jb(c.x,c.y,f,g):new q.Jb(0,0,f,g);this.so=d?new q.Jb(d.x,d.y,f,2*g):new q.Jb(0,0,f,2*g);this.uo=e?new q.Jb(e.x,e.y,f,3*g):new q.Jb(0,0,f,3*g)},q.ju.BYTES_PER_ELEMENT=32,Object.defineProperties(q.ju.prototype,{Xa:{get:function(){return this.rp},set:function(a){this.rp.x=a.x;this.rp.y=a.y},enumerable:!0},
Ra:{get:function(){return this.tp},set:function(a){this.tp.x=a.x;this.tp.y=a.y},enumerable:!0},Oa:{get:function(){return this.so},set:function(a){this.so.x=a.x;this.so.y=a.y},enumerable:!0},$a:{get:function(){return this.uo},set:function(a){this.uo.x=a.x;this.uo.y=a.y},enumerable:!0}}),q.Bc=function(a,c,d,e,f){this.$b=e||new ArrayBuffer(q.Bc.BYTES_PER_ELEMENT);this._offset=f||0;e=this.$b;f=this._offset;var g=q.hd.BYTES_PER_ELEMENT;this.wp=a?new q.hd(a.x,a.y,a.z,e,f):new q.hd(0,0,0,e,f);this.Qq=c?
new q.Zb(c.q,c.p,c.k,c.N,e,f+g):new q.Zb(0,0,0,0,e,f+g);this.Pm=d?new q.Hc(d.Ta,d.ua,e,f+g+q.Zb.BYTES_PER_ELEMENT):new q.Hc(0,0,e,f+g+q.Zb.BYTES_PER_ELEMENT)},q.Bc.BYTES_PER_ELEMENT=24,Object.defineProperties(q.Bc.prototype,{A:{get:function(){return this.wp},set:function(a){var c=this.wp;c.x=a.x;c.y=a.y;c.z=a.z},enumerable:!0},U:{get:function(){return this.Qq},set:function(a){var c=this.Qq;c.q=a.q;c.p=a.p;c.k=a.k;c.N=a.N},enumerable:!0},F:{get:function(){return this.Pm},set:function(a){this.Pm.Ta=
a.Ta;this.Pm.ua=a.ua},enumerable:!0}}),q.pc=function(a,c,d,e,f,g){this.$b=f||new ArrayBuffer(q.pc.BYTES_PER_ELEMENT);this._offset=g||0;f=this.$b;g=this._offset;var h=q.Bc.BYTES_PER_ELEMENT;this.rp=a?new q.Bc(a.A,a.U,a.F,f,g):new q.Bc(null,null,null,f,g);this.so=c?new q.Bc(c.A,c.U,c.F,f,g+h):new q.Bc(null,null,null,f,g+h);this.tp=d?new q.Bc(d.A,d.U,d.F,f,g+2*h):new q.Bc(null,null,null,f,g+2*h);this.uo=e?new q.Bc(e.A,e.U,e.F,f,g+3*h):new q.Bc(null,null,null,f,g+3*h)},q.pc.BYTES_PER_ELEMENT=96,Object.defineProperties(q.pc.prototype,
{Xa:{get:function(){return this.rp},set:function(a){var c=this.rp;c.A=a.A;c.U=a.U;c.F=a.F},enumerable:!0},Oa:{get:function(){return this.so},set:function(a){var c=this.so;c.A=a.A;c.U=a.U;c.F=a.F},enumerable:!0},Ra:{get:function(){return this.tp},set:function(a){var c=this.tp;c.A=a.A;c.U=a.U;c.F=a.F},enumerable:!0},$a:{get:function(){return this.uo},set:function(a){var c=this.uo;c.A=a.A;c.U=a.U;c.F=a.F},enumerable:!0},UB:{get:function(){return this.$b},enumerable:!0}}),q.pz=function(){return new q.pc},
q.oz=function(a){if(!a)return q.pz();var c=a.Xa,d=a.Oa,e=a.Ra;a=a.$a;return{Xa:{A:{x:c.A.x,y:c.A.y,z:c.A.z},U:{q:c.U.q,p:c.U.p,k:c.U.k,N:c.U.N},F:{Ta:c.F.Ta,ua:c.F.ua}},Oa:{A:{x:d.A.x,y:d.A.y,z:d.A.z},U:{q:d.U.q,p:d.U.p,k:d.U.k,N:d.U.N},F:{Ta:d.F.Ta,ua:d.F.ua}},Ra:{A:{x:e.A.x,y:e.A.y,z:e.A.z},U:{q:e.U.q,p:e.U.p,k:e.U.k,N:e.U.N},F:{Ta:e.F.Ta,ua:e.F.ua}},$a:{A:{x:a.A.x,y:a.A.y,z:a.A.z},U:{q:a.U.q,p:a.U.p,k:a.U.k,N:a.U.N},F:{Ta:a.F.Ta,ua:a.F.ua}}}},q.cc=function(a,c,d,e,f){this.$b=e||new ArrayBuffer(q.cc.BYTES_PER_ELEMENT);
this._offset=f||0;e=this.$b;f=this._offset;var g=q.Jb.BYTES_PER_ELEMENT;this.wp=a?new q.Jb(a.x,a.y,e,f):new q.Jb(0,0,e,f);this.Qq=c?new q.Zb(c.q,c.p,c.k,c.N,e,f+g):new q.Zb(0,0,0,0,e,f+g);this.Pm=d?new q.Hc(d.Ta,d.ua,e,f+g+q.Zb.BYTES_PER_ELEMENT):new q.Hc(0,0,e,f+g+q.Zb.BYTES_PER_ELEMENT)},q.cc.BYTES_PER_ELEMENT=20,Object.defineProperties(q.cc.prototype,{A:{get:function(){return this.wp},set:function(a){this.wp.x=a.x;this.wp.y=a.y},enumerable:!0},U:{get:function(){return this.Qq},set:function(a){var c=
this.Qq;c.q=a.q;c.p=a.p;c.k=a.k;c.N=a.N},enumerable:!0},F:{get:function(){return this.Pm},set:function(a){this.Pm.Ta=a.Ta;this.Pm.ua=a.ua},enumerable:!0}}),q.Uc=function(a,c,d,e,f){this.$b=e||new ArrayBuffer(q.Uc.BYTES_PER_ELEMENT);this._offset=f||0;e=this.$b;f=this._offset;var g=q.cc.BYTES_PER_ELEMENT;this.FF=a?new q.cc(a.A,a.U,a.F,e,f):new q.cc(null,null,null,e,f);this.KF=c?new q.cc(c.A,c.U,c.F,e,f+g):new q.cc(null,null,null,e,f+g);this.PF=d?new q.cc(d.A,d.U,d.F,e,f+2*g):new q.cc(null,null,null,
e,f+2*g)},q.Uc.BYTES_PER_ELEMENT=60,Object.defineProperties(q.Uc.prototype,{N:{get:function(){return this.FF},set:function(a){var c=this.FF;c.A=a.A;c.U=a.U;c.F=a.F},enumerable:!0},k:{get:function(){return this.KF},set:function(a){var c=this.KF;c.A=a.A;c.U=a.U;c.F=a.F},enumerable:!0},La:{get:function(){return this.PF},set:function(a){var c=this.PF;c.A=a.A;c.U=a.U;c.F=a.F},enumerable:!0}}));
q.u2=function(a){a=a.substr(1).split("");return new q.Ac(parseInt("0x"+a[0]+a[1]),parseInt("0x"+a[2]+a[3]),parseInt("0x"+a[4]+a[5]))};q.Bq=0;q.Hj=1;q.rN=2;q.Iu=0;q.Hu=1;q.Gu=2;q.Fu=3;
q.r0=q.Ma.extend({Wo:null,rs:null,rz:0,ctor:function(){this.Wo={};this.rs={};this.rz=2<<(0|10*Math.random())},EN:function(){this.rz++;return"key_"+this.rz},ZW:function(a,c){if(null!=c){var d=this.EN();this.Wo[d]=c;this.rs[d]=a}},BU:function(a){if(null==a)return null;var c=this.Wo,d;for(d in c)if(c[d]===a)return this.rs[d];return null},Rca:function(a){return this.BU(a)},QV:function(a){if(null!=a){var c=this.Wo,d;for(d in c)if(c[d]===a){delete this.rs[d];delete c[d];break}}},o$:function(a){if(null!=
a)for(var c=0;c<a.length;c++)this.QV(a[c])},$Q:function(){var a=[],c=this.Wo,d;for(d in c)a.push(c[d]);return a},h$:function(){this.Wo={};this.rs={}},count:function(){return this.$Q().length}});q.tM=function(){this.Bs="Arial";this.fontSize=12;this.iI=q.Hj;this.jI=q.Iu;this.kI=q.Db();this.As=q.size(0,0);this.hE=!1;this.strokeColor=q.Db();this.xL=1;this.lL=!1;this.mL=q.size(0,0);this.shadowBlur=0;this.nL=1};q.fo={Cy:0,Qy:1,SHOW_ALL:2,Dy:3,Ey:4,g0:5};q.Cu=[];q.Cq={};
q.qa=q.Ma.extend({Da:null,Hd:null,Io:null,cp:null,gf:null,xw:null,Zq:1,NB:"",ZA:null,va:1,zG:1,Ca:1,AG:1,vr:0,vG:5,ai:null,GG:null,KG:null,JG:null,HG:null,IG:null,yr:!1,z0:!1,k1:null,fG:null,gG:null,HN:null,e1:!1,Rz:null,U0:null,Qk:null,iA:1,Nu:!1,lG:!0,ctor:function(){this.Qk=q.lk.parentNode===document.body?document.documentElement:q.lk.parentNode;this.Hd=q.size(0,0);this.hG();var a=q.canvas.width,c=q.canvas.height;this.Io=q.size(a,c);this.cp=q.size(a,c);this.gf=q.rect(0,0,a,c);this.xw=q.rect(0,
0,a,c);this.Da=q.da.f().ef;this.Rz={left:0,top:0};this.NB="Cocos2dHTML5";q.BF.w(this.Io);this.GG=new q.ho(q.eh.Et,q.Te.Cy);this.KG=new q.ho(q.eh.cN,q.Te.SHOW_ALL);this.JG=new q.ho(q.eh.Et,q.Te.Qy);this.HG=new q.ho(q.eh.Et,q.Te.Dy);this.IG=new q.ho(q.eh.Et,q.Te.Ey);this.fG=q.canvas;this.gG=q.aa},$A:function(){this.ctor();this.ZA&&this.ZA.call();var a=this.Hd.width,c=this.Hd.height;0<a&&this.ID(a,c,this.ai)},XV:function(a){a?this.Nu||(this.Nu=!0,a=this.$A.bind(this),window.addEventListener("resize",
a,!1)):this.Nu&&(this.Nu=!0,a=this.$A.bind(this),window.removeEventListener("resize",a,!1))},nX:function(a){if("function"==typeof a||null==a)this.ZA=a},hG:function(){var a=this.Hd;a.width=this.Qk.clientWidth;a.height=this.Qk.clientHeight;this.Hd=a},w0:function(){var a=this.cp.width,c=this.cp.height;0<a&&this.ID(a,c,this.ai)},hQ:function(){if(this.lG){var a={"user-scalable":"no","maximum-scale":"1.0","initial-scale":"1.0"},c=document.getElementsByName("viewport"),d;0==c.length?(c=document.createElement("meta"),
c.name="viewport",c.content="",document.head.appendChild(c)):c=c[0];if(q.Ja.nj&&"firefox"==q.Ja.type)c.content="initial-scale:1";else{d=c.content;for(var e in a)RegExp(e).test(d)||(d+=(""==d?"":",")+e+"\x3d"+a[e]);c.content=d}}},aQ:function(){var a=q.bd();this.Ca=this.va=a},DP:function(){this.va=this.zG;this.Ca=this.AG},BO:function(){var a,c=this.vr;for(a=0;a<this.vG;a++){if(!(c&1))return this.vr|=1<<a,a;c>>=1}return-1},zP:function(a){0>a||a>=this.vG||(a=~(1<<a),this.vr&=a)},x0:function(){},TT:function(){this.yr=
!0},z1:function(a){this.lG=a},end:function(){},Q7:function(){return null!=this.fG&&null!=this.gG},naa:function(a){this.iA=a;q.da.f().Fx(q.da.f().cl)},fca:function(){},raa:function(){},$$:function(a,c){this.Rz={left:a,top:c}},c4:function(){return this.Rz},jn:function(){return q.size(this.Hd.width,this.Hd.height)},maa:function(a,c){this.Hd.width=a;this.Hd.height=c;this.Qk.style.width=a+"px";this.Qk.style.height=c+"px";this.$A();q.da.f().Fx(q.da.f().cl)},f2:function(){},N$:function(a){this.HN=a},Hs:function(){return this.xw.Va},
LI:function(){return this.xw.cd},b2:function(){return!0},P5:function(){return this.ai},oX:function(a){if(a instanceof q.ho)this.ai=a;else switch(a){case q.fo.Cy:this.ai=this.GG;break;case q.fo.SHOW_ALL:this.ai=this.KG;break;case q.fo.Qy:this.ai=this.JG;break;case q.fo.Dy:this.ai=this.HG;break;case q.fo.Ey:this.ai=this.IG}},ID:function(a,c,d){if(isNaN(a)||0==a||isNaN(c)||0==c)q.log("Resolution not valid");else{this.oX(d);var e=this.ai;if(e){e.Cn(this);var f=this.Hd.width,g=this.Hd.height;q.Ja.nj&&
this.hQ(this.Hd.width,this.Hd.height);this.hG();if(d!=this.ai||a!=this.cp.width||c!=this.cp.height||f!=this.Hd.width||g!=this.Hd.height)this.Io=q.size(a,c),this.cp=q.size(a,c),a=e.apply(this,this.Io),a.scale&&2==a.scale.length&&(this.va=a.scale[0],this.Ca=a.scale[1]),a.viewport instanceof q.vg&&(a=this.gf=a.viewport,c=this.xw,c.Va.width=q.canvas.width/this.va,c.Va.height=q.canvas.height/this.Ca,c.cd.x=-a.x/this.va,c.cd.y=-a.y/this.Ca),a=q.da.f(),a.ac=this.Jp(),e.Bn(this),q.Qd==q.Fk&&(a.Go(),a.FK()),
this.zG=this.va,this.AG=this.Ca,q.mc&&q.mc.BP(),q.BF.w(this.Hs())}else q.log("should set resolutionPolicy")}},Jp:function(){return q.size(this.Io.width,this.Io.height)},xba:function(a){this.Da=a},DX:function(a,c,d,e){var f=this.iA,g=this.va,h=this.Ca;q.aa.viewport(a*g*f+this.gf.x*f,c*h*f+this.gf.y*f,d*g*f,e*h*f)},QD:function(a,c,d,e){var f=this.iA,g=this.va,h=this.Ca;q.aa.scissor(a*g*f+this.gf.x*f,c*h*f+this.gf.y*f,d*g*f,e*h*f)},eU:function(){var a=q.aa;return a.isEnabled(a.SCISSOR_TEST)},XS:function(){var a=
q.aa,c=this.va,d=this.Ca,a=a.getParameter(a.SCISSOR_BOX);return q.rect((a[0]-this.gf.x)/c,(a[1]-this.gf.y)/d,a[2]/c,a[3]/d)},Fba:function(a){null!=a&&0<a.length&&(this.NB=a)},O6:function(){return this.NB},P6:function(){return this.gf},VS:function(){return this.va},WS:function(){return this.Ca},n4:function(){return this.Zq},mk:function(a,c,d){return{x:this.Zq*(a-d.left),y:this.Zq*(d.top+d.height-c)}},uT:function(a,c,d,e){for(var f=[],g=this.gf,h=this.va,k=this.Ca,l=0;l<a;++l){var m=c[l],p=d[l],t=e[l],
u=0;if(null==q.Cq[m])if(u=this.BO(),-1==u)q.log("The touches is more than MAX_TOUCHES, nUnusedIndex \x3d "+u);else{var w=q.Cu[u]=new q.rf;w.WD(u,(p-g.x)/h,(t-g.y)/k);q.Cq[m]=0|u;f.push(w)}}0!==f.length&&this.Da.Yx(f,null)},xT:function(a,c,d,e){for(var f=[],g=this.va,h=this.Ca,k=this.gf.x,l=this.gf.y,m=0;m<a;++m){var p=d[m],t=e[m],u=q.Cq[c[m]];if(null!=u){var w=q.Cu[u];if(w)w.WD(u,(p-k)/g,(t-l)/h),f.push(w);else return}}0!=f.length&&this.Da.Zx(f,null)},wT:function(a,c,d,e){var f=[];this.DI(f,a,c,d,
e);this.Da.mt(f,null)},vT:function(a,c,d,e){var f=[];this.DI(f,a,c,d,e);this.Da.nE(f,null)},DI:function(a,c,d,e,f){for(var g=this.va,h=this.Ca,k=this.gf,l=0;l<c;++l){var m=d[l],p=e[l],t=f[l],u=q.Cq[m];if(null!=u){var w=q.Cu[u];if(w)w.WD(u,(p-k.x)/g,(t-k.y)/h),a.push(w),q.Cu[u]=null,this.zP(u),delete q.Cq[m];else break}}},Yx:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Qf||h,d[f]=g.R.x,e[f]=g.R.y,++f;this.uT(f,c,d,e)},Zx:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=
a[h],c[f]=g.Qf||h,d[f]=g.R.x,e[f]=g.R.y,++f;this.xT(f,c,d,e)},mt:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Qf||h,d[f]=g.R.x,e[f]=g.R.y,++f;this.wT(f,c,d,e)},nE:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Qf||h,d[f]=g.R.x,e[f]=g.R.y,++f;this.vT(f,c,d,e)}});q.qa.f=function(){this.Mb||(q.da.f(),this.Mb=this.Mb||new q.qa,this.Mb.TT());return this.Mb};
q.eh=q.Ma.extend({IF:!1,Cn:function(){if("iOS"==r.RJ||"OS X"==r.RJ)this.IF=!0},apply:function(){},Bn:function(){},kB:function(a,c,d){var e=a.Qk;q.Ja.nj&&e==document.documentElement&&q.bz.f().fR(e);var e=q.canvas,f=q.lk;f.style.width=e.style.width=c+"px";f.style.height=e.style.height=d+"px";f=a.Zq=1;this.IF&&(f=a.Zq=window.devicePixelRatio||1);e.width=c*f;e.height=d*f;a=document.body;var g;a&&(g=a.style)&&(g.paddingTop=g.paddingTop||"0px",g.paddingRight=g.paddingRight||"0px",g.paddingBottom=g.paddingBottom||
"0px",g.paddingLeft=g.paddingLeft||"0px",g.borderTop=g.borderTop||"0px",g.borderRight=g.borderRight||"0px",g.borderBottom=g.borderBottom||"0px",g.borderLeft=g.borderLeft||"0px",g.marginTop=g.marginTop||"0px",g.marginRight=g.marginRight||"0px",g.marginBottom=g.marginBottom||"0px",g.marginLeft=g.marginLeft||"0px")},$F:function(){document.body.insertBefore(q.lk,document.body.firstChild);var a=document.body.style;a.width=window.innerWidth+"px";a.height=window.innerHeight+"px";a.overflow="hidden";a=q.lk.style;
a.position="fixed";a.left=a.top="0px";document.body.scrollTop=0}});q.Te=q.Ma.extend({bB:{scale:[1,1],viewport:null},Mq:function(a,c,d,e,f,g){2>Math.abs(a-d)&&(d=a);2>Math.abs(c-e)&&(e=c);a=q.rect(Math.round((a-d)/2),Math.round((c-e)/2),d,e);q.Qd==q.rg&&q.aa.translate(a.x,a.y+e);this.bB.scale=[f,g];this.bB.viewport=a;return this.bB},Cn:function(){},apply:function(){return{scale:[1,1]}},Bn:function(){}});
(function(){var a=q.eh.extend({apply:function(a){this.kB(a,a.Hd.width,a.Hd.height)}}),c=q.eh.extend({apply:function(a,c){var d=a.Hd.width,e=a.Hd.height,f=q.lk.style,p=c.width,t=c.height,u=d/p,w=e/t,B,E;u<w?(B=d,E=t*u):(B=p*w,E=e);p=Math.round((d-B)/2);E=Math.round((e-E)/2);this.kB(a,d-2*p,e-2*E);f.marginLeft=p+"px";f.marginRight=p+"px";f.marginTop=E+"px";f.marginBottom=E+"px"}});a.extend({Cn:function(a){this._super(a);a.Qk=document.documentElement},apply:function(a){this._super(a);this.$F()}});c.extend({Cn:function(a){this._super(a);
a.Qk=document.documentElement},apply:function(a,c){this._super(a,c);this.$F()}});var d=q.eh.extend({apply:function(a){this.kB(a,q.canvas.width,q.canvas.height)}});q.eh.Et=new a;q.eh.cN=new c;q.eh.f_=new d;var a=q.Te.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height;return this.Mq(d,e,d,e,d/c.width,e/c.height)}}),c=q.Te.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=c.width,p=c.height,t=d/f,u=e/p,w=0,B,E;t<u?(w=t,B=d,E=p*w):(w=u,B=f*w,E=e);return this.Mq(d,e,
B,E,w,w)}}),d=q.Te.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=c.width,p=c.height,t=d/f,u=e/p,w,B,E;t<u?(w=u,B=f*w,E=e):(w=t,B=d,E=p*w);return this.Mq(d,e,B,E,w,w)}}),e=q.Te.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=e/c.height;return this.Mq(d,e,d,e,f,f)},Bn:function(a){q.da.f().ac=a.Hs()}}),f=q.Te.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=d/c.width;return this.Mq(d,e,d,e,f,f)},Bn:function(a){q.da.f().ac=a.Hs()}});q.Te.Cy=
new a;q.Te.SHOW_ALL=new c;q.Te.Qy=new d;q.Te.Dy=new e;q.Te.Ey=new f})();q.ho=q.Ma.extend({bv:null,cv:null,ctor:function(a,c){this.yW(a);this.BW(c)},Cn:function(a){this.bv.Cn(a);this.cv.Cn(a)},apply:function(a,c){this.bv.apply(a,c);return this.cv.apply(a,c)},Bn:function(a){this.bv.Bn(a);this.cv.Bn(a)},yW:function(a){a instanceof q.eh&&(this.bv=a)},BW:function(a){a instanceof q.Te&&(this.cv=a)}});q.bz=q.Ma.extend({bs:!1,Kk:"",MA:null,NA:null,CB:"",w:function(){var a=["webkit","moz","o","ms","khtml"],c=document.body;if(c.requestFullScreen)this.bs=!0;else for(var d=0,e=a.length,f;d<e;d++)if(f=a[d],c[f+"RequestFullScreen"]){this.bs=!0;this.Kk=f;break}this.CB="ontouchstart"in window?"touchstart":"mousedown"},fullScreen:function(){var a=document;if(this.bs)switch(this.Kk){case "":return a.fullScreen;case "webkit":return a.webkitIsFullScreen;default:return a[this.Kk+"FullScreen"]}return!1},kK:function(a,
c){if(this.bs&&!this.fullScreen()){if(c){var d=this.Kk+"fullscreenchange";this.MA&&this.NA&&this.MA.removeEventListener(d,this.NA);this.MA=a;this.NA=c;a.addEventListener(d,c,!1)}return""===this.Kk?a.requestFullScreen():a[this.Kk+"RequestFullScreen"]()}},e3:function(){if(this.bs&&this.fullScreen())return""===this.Kk?document.body.cancelFullScreen():document.body[this.Kk+"CancelFullScreen"]()},fR:function(a,c){function d(){e.kK(a,c);a.removeEventListener(e.CB,d)}var e=this;this.kK(a,c);a.addEventListener(this.CB,
d)}});q.bz.f=function(){if(!this.Mb){var a=new q.bz;a.w();this.Mb=a}return this.Mb};q.BF={hi:q.Jd(),wh:q.Jd(),gi:q.Jd(),Ji:q.Jd(),Ki:q.Jd(),Ii:q.Jd(),Jz:q.Jd(),Ui:q.Jd(),bi:q.Jd(),Ha:0,xa:0,w:function(a){this.Ha=a.width;this.xa=a.height;a=this.Ha;var c=this.xa;this.hi.Q=c;this.wh.H=a;this.wh.Q=c;this.gi.H=a/2;this.gi.Q=c;this.Ki.H=a;this.Ii.H=a/2;this.Jz.H=a/2;this.Jz.Q=c/2;this.Ui.Q=c/2;this.bi.H=a;this.bi.Q=c/2},Is:function(){return this.Ha},Fs:function(){return this.xa},zca:function(){return this.hi},Aca:function(){return this.wh},top:function(){return this.gi},P1:function(){return this.Ji},
Q1:function(){return this.Ki},bottom:function(){return this.Ii},e2:function(){return this.Jz},left:function(){return this.Ui},right:function(){return this.bi}};q.Tx=function(a){var c;if(a&&0!=a.length){var d=a.indexOf("{"),e=a.indexOf("}");-1==d||-1==e||d>e||(a=a.substr(d+1,e-d-1),0!=a.length&&(d=a.indexOf("}"),-1==a.indexOf("{")&&-1==d&&(c=a.split(","))))}return c};q.lF=function(a){var c=q.vd();if(a){var d=a.indexOf("{")+1,e=a.lastIndexOf("}",a.length);-1!=d&&-1!=e&&(a=a.substring(d,e),d=a.indexOf("}"),-1!=d&&(d=a.indexOf(",",d),-1!=d&&(c=q.Tx(a.substr(0,d)),a=q.Tx(a.substr(d+1,a.length-d)),c=q.rect(parseFloat(c[0]),parseFloat(c[1]),parseFloat(a[0]),parseFloat(a[1])))))}return c};
q.kF=function(a){var c=q.Dj();try{if(""==a)return c;var d=q.Tx(a),c=q.a(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};q.cz=function(a){var c=q.fm();try{if(""==a)return c;var d=q.Tx(a),c=q.size(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};q.FY=function(a,c,d,e,f,g){this.N=a;this.k=c;this.La=d;this.d=e;this.gb=f;this.hb=g};q.t0=function(a,c,d,e,f,g){return{N:a,k:c,La:d,d:e,gb:f,hb:g}};q.IY=function(a,c,d,e,f,g){return{N:a,k:c,La:d,d:e,gb:f,hb:g}};q.u0=function(a,c){return{x:c.N*a.x+c.La*a.y+c.gb,y:c.k*a.x+c.d*a.y+c.hb}};q.jF=function(a,c){return{x:c.N*a.x+c.La*a.y+c.gb,y:c.k*a.x+c.d*a.y+c.hb}};q.Hk=function(a,c,d){return{x:d.N*a+d.La*c+d.gb,y:d.k*a+d.d*c+d.hb}};
q.v0=function(a,c){return{width:c.N*a.width+c.La*a.height,height:c.k*a.width+c.d*a.height}};q.P_=function(a,c){return{width:c.N*a.width+c.La*a.height,height:c.k*a.width+c.d*a.height}};q.JY=function(){return{N:1,k:0,La:0,d:1,gb:0,hb:0}};q.HY=function(){return{N:1,k:0,La:0,d:1,gb:0,hb:0}};
q.Nf=function(a,c){var d=q.Hl(a),e=q.Gl(a),f=q.Dn(a),g=q.En(a),h=q.Hk(e,d,c),d=q.Hk(f,d,c),e=q.Hk(e,g,c),k=q.Hk(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);return q.rect(f,l,g-f,h-l)};
q.Fi=function(a,c){var d=q.Hl(a),e=q.Gl(a),f=q.Dn(a),g=q.En(a),h=q.Hk(e,d,c),d=q.Hk(f,d,c),e=q.Hk(e,g,c),k=q.Hk(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);a.x=f;a.y=l;a.width=g-f;a.height=h-l;return a};q.jy=function(a,c,d){return{N:a.N,k:a.k,La:a.La,d:a.d,gb:a.gb+a.N*c+a.La*d,hb:a.hb+a.k*c+a.d*d}};q.KY=function(a,c,d){return{N:a.N*c,k:a.k*c,La:a.La*d,d:a.d*d,gb:a.gb,hb:a.hb}};
q.WL=function(a){var c=Math.sin(1.57079633),d=Math.cos(1.57079633);return{N:a.N*d+a.La*c,k:a.k*d+a.d*c,La:a.La*d-a.N*c,d:a.d*d-a.k*c,gb:a.gb,hb:a.hb}};q.Yl=function(a,c){return{N:a.N*c.N+a.k*c.La,k:a.N*c.k+a.k*c.d,La:a.La*c.N+a.d*c.La,d:a.La*c.k+a.d*c.d,gb:a.gb*c.N+a.hb*c.La+c.gb,hb:a.gb*c.k+a.hb*c.d+c.hb}};q.GY=function(a,c){return a.N===c.N&&a.k===c.k&&a.La===c.La&&a.d===c.d&&a.gb===c.gb&&a.hb===c.hb};
q.yE=function(a){var c=1/(a.N*a.d-a.k*a.La);return{N:c*a.d,k:-c*a.k,La:-c*a.La,d:c*a.N,gb:c*(a.La*a.hb-a.d*a.gb),hb:c*(a.k*a.gb-a.N*a.hb)}};q.$E=parseFloat("1.192092896e-07F");q.lD=function(a){return q.a(-a.x,-a.y)};q.Xg=function(a,c){return q.a(a.x+c.x,a.y+c.y)};q.Pd=function(a,c){return q.a(a.x-c.x,a.y-c.y)};q.qj=function(a,c){return q.a(a.x*c,a.y*c)};q.kD=function(a,c){return q.qj(q.Xg(a,c),0.5)};q.$p=function(a,c){return a.x*c.x+a.y*c.y};q.n9=function(a,c){return a.x*c.y-a.y*c.x};q.nx=function(a){return q.a(-a.y,a.x)};q.v9=function(a){return q.a(a.y,-a.x)};q.u9=function(a,c){return q.qj(c,q.$p(a,c)/q.$p(c,c))};
q.w9=function(a,c){return q.a(a.x*c.x-a.y*c.y,a.x*c.y+a.y*c.x)};q.B9=function(a,c){return q.a(a.x*c.x+a.y*c.y,a.y*c.x-a.x*c.y)};q.TJ=function(a){return q.$p(a,a)};q.o9=function(a,c){return q.TJ(q.Pd(a,c))};q.iD=function(a){return Math.sqrt(q.TJ(a))};q.hD=function(a,c){return q.iD(q.Pd(a,c))};q.Kh=function(a){return q.qj(a,1/q.iD(a))};q.p9=function(a){return q.a(Math.cos(a),Math.sin(a))};q.A9=function(a){return Math.atan2(a.y,a.x)};q.us=function(a,c,d){if(c>d){var e=c;c=d;d=e}return a<c?c:a<d?a:d};
q.SJ=function(a){var c=q.a(0,0),d=q.a(1,1);return q.a(q.us(a.x,c.x,d.x),q.us(a.y,c.y,d.y))};q.RU=function(){var a=q.da.f().ac;return q.a(a.width,a.height)};q.m9=function(a,c){return q.a(c(a.x),c(a.y))};q.UJ=function(a,c,d){return q.Xg(q.qj(a,1-d),q.qj(c,d))};q.q9=function(a,c,d){return a.x-d<=c.x&&c.x<=a.x+d&&a.y-d<=c.y&&c.y<=a.y+d?!0:!1};q.l9=function(a,c){return q.a(a.x*c.x,a.y*c.y)};q.k9=function(a,c){var d=q.Kh(a),e=q.Kh(c),d=Math.atan2(d.x*e.y-d.y*e.x,q.$p(d,e));return Math.abs(d)<q.$E?0:d};
q.j9=function(a,c){var d=Math.acos(q.$p(q.Kh(a),q.Kh(c)));return Math.abs(d)<q.$E?0:d};q.TU=function(a,c,d){a=q.Pd(a,c);var e=Math.cos(d);d=Math.sin(d);var f=a.x;a.x=f*e-a.y*d+c.x;a.y=f*d+a.y*e+c.y;return a};q.jD=function(a,c,d,e,f){if(a.x==c.x&&a.y==c.y||d.x==e.x&&d.y==e.y)return!1;var g=c.x-a.x;c=c.y-a.y;var h=e.x-d.x;e=e.y-d.y;var k=a.x-d.x;a=a.y-d.y;d=e*g-h*c;f.x=h*a-e*k;f.y=g*a-c*k;if(0==d)return 0==f.x||0==f.y?!0:!1;f.x/=d;f.y/=d;return!0};
q.y9=function(a,c,d,e){var f=q.a(0,0);return q.jD(a,c,d,e,f)&&0<=f.x&&1>=f.x&&0<=f.y&&1>=f.y?!0:!1};q.s9=function(a,c,d,e){var f=q.a(0,0);return q.jD(a,c,d,e,f)?(d=q.a(0,0),d.x=a.x+f.x*(c.x-a.x),d.y=a.y+f.x*(c.y-a.y),d):q.Dj()};q.x9=function(a,c){return null!=a&&null!=c?a.x==c.x&&a.y==c.y:!1};q.C9=function(a){a.x=0;a.y=0};q.r9=function(a,c){a.x=c.x;a.y=c.y};q.SU=function(a,c){a.x*=c;a.y*=c};q.z9=function(a,c){a.x-=c.x;a.y-=c.y};q.i9=function(a,c){a.x+=c.x;a.y+=c.y};
q.t9=function(a){q.SU(a,1/Math.sqrt(a.x*a.x+a.y*a.y))};q.Tca=function(a,c,d,e,f){f+=e;if(!(1>=f)){c*=0.5;for(var g,h=f-1,k=e;k<f;k++){g=2*k;var l=q.a(a[2*k],a[2*k+1]),m;if(0===k)m=q.nx(q.Kh(q.Pd(l,q.a(a[2*(k+1)],a[2*(k+1)+1]))));else if(k===h)m=q.nx(q.Kh(q.Pd(q.a(a[2*(k-1)],a[2*(k-1)+1]),l)));else{m=q.a(a[2*(k-1)],a[2*(k-1)+1]);var p=q.a(a[2*(k+1)],a[2*(k+1)+1]),t=q.Kh(q.Pd(p,l)),u=q.Kh(q.Pd(m,l)),w=Math.acos(q.$p(t,u));m=w<q.Bj(70)?q.nx(q.Kh(q.kD(t,u))):w<q.Bj(170)?q.Kh(q.kD(t,u)):q.nx(q.Kh(q.Pd(p,m)))}m=q.qj(m,c);d[2*g]=l.x+m.x;d[2*g+1]=l.y+m.y;d[2*
(g+1)]=l.x-m.x;d[2*(g+1)+1]=l.y-m.y}for(k=0==e?0:e-1;k<h;k++)g=2*k,a=g+2,c=q.Ju(d[2*g],d[2*g+1]),f=q.Ju(d[2*(g+1)],d[2*(g+1)+1]),g=q.Ju(d[2*a],d[2*a]),e=q.Ju(d[2*(a+1)],d[2*(a+1)+1]),c=!q.oY(c.x,c.y,e.x,e.y,f.x,f.y,g.x,g.y),!c.Qs&&(0>c.value||1<c.value)&&(c.Qs=!0),c.Qs&&(d[2*a]=e.x,d[2*a+1]=e.y,d[2*(a+1)]=g.x,d[2*(a+1)+1]=g.y)}};
q.oY=function(a,c,d,e,f,g,h,k){if(a==d&&c==e||f==h&&g==k)return{Qs:!1,value:0};d-=a;e-=c;f-=a;g-=c;h-=a;k-=c;a=Math.sqrt(d*d+e*e);d/=a;e/=a;c=f*d+g*e;g=g*d-f*e;f=c;c=h*d+k*e;k=k*d-h*e;h=c;return g==k?{Qs:!1,value:0}:{Qs:!0,value:(h+(f-h)*k/(k-g))/a}};q.TY=function(a,c){c[2]=c[3]=c[6]=c[7]=c[8]=c[9]=c[11]=c[14]=0;c[10]=c[15]=1;c[0]=a.N;c[4]=a.La;c[12]=a.gb;c[1]=a.k;c[5]=a.d;c[13]=a.hb};q.CZ=function(a,c){c.N=a[0];c.La=a[4];c.gb=a[12];c.k=a[1];c.d=a[5];c.hb=a[13]};q.YE=-1;q.ZZ=null;q.$Z=null;q.eW=1;
q.G=q.Ma.extend({kb:0,ww:0,Hg:0,ci:0,va:1,Ca:1,u:null,ye:0,ze:0,B:null,ya:!0,km:null,Ed:null,Ba:null,$e:!1,ea:null,Wj:!1,Bd:q.YE,pH:null,JB:null,hk:!0,vv:!0,QF:!0,g1:null,gk:null,kG:null,xe:!1,Wc:null,Tf:0,jh:null,Ig:null,jG:!1,Gq:!1,Qu:null,Ni:null,zA:!1,Hm:0,Or:0,wA:function(){this.km=q.Jd();this.Ed=q.Jd();this.Ba=q.Km();this.u=q.Jd();this.B=[];this.gk={N:1,k:0,La:0,d:1,gb:0,hb:0};var a=q.da.f();this.jh=a.dg();this.Ig=a.Gf();this.jG=!0;this.Qu={N:1,k:0,La:0,d:1,gb:0,hb:0};q.fM&&(this.Ni=new q.fM(this))},
w:function(){!1===this.jG&&this.wA();return!0},yg:function(a,c){if(a&&0!==a.length){var d,e=a.length,f;d=q.G.Of;switch(c){case d.Vg:for(d=0;d<e;d++)(f=a[d])&&f.Vg();break;case d.ee:for(d=0;d<e;d++)(f=a[d])&&f.ee();break;case d.xi:for(d=0;d<e;d++)(f=a[d])&&f.xi();break;case d.cg:for(d=0;d<e;d++)(f=a[d])&&f.cg();break;case d.pg:for(d=0;d<e;d++)(f=a[d])&&f.pg();break;case d.Jh:for(d=0;d<e;d++)(f=a[d])&&f.Jh();break;case d.he:for(d=0;d<e;d++)(f=a[d])&&f.he();break;default:throw"Unknown callback function";
}}},bb:null,TP:function(){this.Jm();!1===this.hk&&(this.hk=this.vv=!0)},UP:function(){!1===this.hk&&(this.hk=this.vv=!0)},e6:function(){return this.ye},Kx:function(a){this.ye=a;this.bb()},f6:function(){return this.ze},Lx:function(a){this.ze=a;this.bb()},V6:function(){return this.kb},$v:function(a){this.kb=a},Hba:function(a){this.$v(a);this.ea&&this.ea.Vs(this,a)},L6:function(){return this.ww},eL:function(a){this.ww=a},US:function(){this.Hg!==this.ci&&q.log("cc.Node.rotation(): RotationX !\x3d RotationY. Don't know which one to return");
return this.Hg},Hx:function(a){this.Hg=this.ci=a;this.Hm=0.017453292519943295*this.Hg;this.Or=0.017453292519943295*this.ci;this.bb()},T5:function(){return this.Hg},Ix:function(a){this.Hg=a;this.Hm=0.017453292519943295*this.Hg;this.bb()},U5:function(){return this.ci},Jx:function(a){this.ci=a;this.Or=0.017453292519943295*this.ci;this.bb()},yC:function(){this.va!==this.Ca&&q.log("cc.Node.getScale(): ScaleX !\x3d ScaleY. Don't know which one to return");return this.va},vk:function(a,c){this.va=a;this.Ca=
c||0===c?c:a;this.bb()},VS:function(){return this.va},eq:function(a){this.va=a;this.bb()},WS:function(){return this.Ca},Ln:function(a){this.Ca=a;this.bb()},n:function(a,c){var d=this.u;2==arguments.length?(d.H=a,d.Q=c):1==arguments.length&&(d.H=a.x,d.Q=a.y);this.bb()},E5:function(){return this.u},F5:function(){return this.u.H},eb:function(a){this.u.H=a;this.bb()},G5:function(){return this.u.Q},uc:function(a){this.u.Q=a;this.bb()},U3:function(){return this.B.length},T3:function(){return this.B},rJ:function(){return this.ya},
D:function(a){this.ya=a;this.bb()},C3:function(){return this.km},C:function(a,c){var d=this.km;if(2===arguments.length){if(a===d.H&&c===d.Q)return;d.H=a;d.Q=c}else{if(a.x===d.H&&a.y===d.Q)return;d.H=a.x;d.Q=a.y}var e=this.Ed,f=this.Ba;e.H=f.Ha*d.H;e.Q=f.xa*d.Q;this.bb()},D3:function(){return this.Ed},c:function(){return this.Ba},T:function(a,c){var d=this.Ba;if(2===arguments.length){if(a===d.Ha&&c===d.xa)return;d.Ha=a;d.xa=c}else{if(a.width===d.Ha&&a.height===d.xa)return;d.Ha=a.width;d.xa=a.height}var e=
this.Ed,f=this.km;e.H=d.Ha*f.H;e.Q=d.xa*f.Q;this.bb()},Y7:function(){return this.$e},getParent:function(){return this.ea},bt:function(a){this.ea=a},J7:function(){return this.Wj},lj:function(a){a!=this.Wj&&(this.Wj=a,this.bb())},gT:function(){return this.Bd},aL:function(a){this.Bd=a},getUserData:function(){return this.pH},setUserData:function(a){this.pH=a},J6:function(){return this.JB},Bba:function(a){this.JB!=a&&(this.JB=a)},v5:function(){return this.Tf},dq:function(a){this.Tf=a},dg:function(){this.jh||
(this.jh=q.da.f().dg());return this.jh},oW:function(a){this.jh!=a&&(this.fE(),this.jh=a)},Gf:function(){this.Ig||(this.Ig=q.da.f().Gf());return this.Ig},qX:function(a){this.Ig!=a&&(this.nt(),this.Ig=a)},lb:function(){var a=q.rect(0,0,this.Ba.Ha,this.Ba.xa);return q.Fi(a,this.gg())},cg:function(){this.fE();this.nt();this.yg(this.B,q.G.Of.cg)},description:function(){return"\x3ccc.Node | Tag \x3d"+this.Bd+"\x3e"},zS:function(a){var c=this.B;if(null!=c)for(var d=0;d<c.length;d++){var e=c[d];if(e&&e.Bd==
a)return e}return null},g:function(a,c,d){if(!a)throw"cc.Node.addChild(): child must be non-null";a===this?q.log("cc.Node.addChild(): An Node can't be added as a child of itself."):null!==a.ea?q.log("cc.Node.addChild(): child already added. It can't be added again"):(c=null!=c?c:a.kb,a.Bd=null!=d?d:a.Bd,this.OO(a,c),a.ea=this,this.$e&&(a.Vg(),this.zA&&a.xi()))},O:function(a){this.ea&&(null==a&&(a=!0),this.ea.removeChild(this,a))},OV:function(a){q.log("removeFromParentAndCleanup is deprecated. Use removeFromParent instead");
this.O(a)},removeChild:function(a,c){0!==this.B.length&&(null==c&&(c=!0),-1<this.B.indexOf(a)&&this.qO(a,c),this.bb())},m$:function(a,c){a===q.YE&&q.log("cc.Node.removeChildByTag(): argument tag is an invalid tag");var d=this.zS(a);null==d?q.log("cocos2d: removeChildByTag(tag \x3d "+a+"): child not found!"):this.removeChild(d,c)},e$:function(a){q.log("removeAllChildrenWithCleanup is deprecated. Use removeAllChildren instead");this.lc(a)},lc:function(a){var c=this.B;if(null!=c){null==a&&(a=!0);for(var d=
0;d<c.length;d++){var e=c[d];e&&(this.$e&&(e.Jh(),e.ee()),a&&e.cg(),e.bt(null))}this.B.length=0}},qO:function(a,c){this.$e&&(a.Jh(),a.ee());c&&a.cg();a.bt(null);q.ie(this.B,a)},OO:function(a,c){this.xe=!0;this.B.push(a);a.$v(c)},Vs:function(a,c){if(!a)throw"cc.Node.reorderChild(): child must be non-null";this.xe=!0;a.dq(q.eW++);a.$v(c);this.bb()},he:function(){if(this.xe){var a=this.B,c,d,e=a.length,f;for(c=0;c<e;c++){var g=a[c];d=c-1;for(f=a[d];0<=d&&(g.kb<f.kb||g.kb==f.kb&&g.Tf<f.Tf);)a[d+1]=f,
d-=1,f=a[d];a[d+1]=g}this.xe=!1}},Wa:function(){},$x:function(){null!=this.ea&&(this.ea.$x(),this.ea.transform())},Vg:function(){this.zA=!1;this.$e=!0;this.yg(this.B,q.G.Of.Vg);this.wx()},xi:function(){this.zA=!0;this.yg(this.B,q.G.Of.xi)},Jh:function(){this.yg(this.B,q.G.Of.Jh)},ee:function(){this.$e=!1;this.px();this.yg(this.B,q.G.Of.ee);this.Ni&&this.Ni.JV()},xx:function(a){if(!a)throw"cc.Node.runAction(): action must be non-null";this.dg().LQ(a,this,!this.$e);return a},fE:function(){this.dg().gK(this)},
XX:function(a){this.dg().fK(a)},Zba:function(a){a===q.Wn?q.log("cc.Node.stopActionBy(): argument tag an invalid tag"):this.dg().IV(a,this)},qC:function(a){return a===q.Wn?(q.log("cc.Node.getActionByTag(): argument tag is an invalid tag"),null):this.dg().qC(a,this)},i5:function(){return this.dg().JJ(this)},Z8:function(){return this.dg().JJ(this)},hW:function(){this.iW(0)},iW:function(a){this.Gf().oK(this,a,!this.$e)},Fca:function(){this.Gf().jq(this)},ec:function(a,c,d,e){c=c||0;if(!a)throw"cc.Node.schedule(): callback function must be non-null";
if(0>c)throw"cc.Node.schedule(): interval must be positive";d=null==d?q.em:d;e=e||0;this.Gf().gW(this,a,c,d,e,!this.$e)},Rd:function(a,c){this.ec(a,0,0,c)},Rc:function(a){a&&this.Gf().EL(this,a)},nt:function(){this.Gf().DL(this)},wx:function(){this.Gf().Gn(this);this.dg().Gn(this)},px:function(){this.Gf().Us(this);this.dg().Us(this)},O$:function(a){this.Qu=a;this.Gq=this.hk=!0},F9:function(){this.vv&&(this.kG=q.yE(this.gg()),this.vv=!1);return this.kG},wn:function(){for(var a=this.gg(),c=this.ea;null!=
c;c=c.getParent())a=q.Yl(a,c.gg());return a},rY:function(){return q.yE(this.wn())},Ka:function(a){return q.jF(a,this.rY())},ml:function(a){return q.jF(a,this.wn())},JR:function(a){return q.Pd(this.Ka(a),this.Ed)},v2:function(a){a=q.Xg(a,this.Ed);return this.ml(a)},A0:function(a){a=this.ml(a);return q.da.f().KR(a)},mi:function(a){return this.Ka(a.R)},w2:function(a){a=a.R;a=q.da.f().IR(a);return this.JR(a)},update:function(a){this.Ni&&!this.Ni.F7()&&this.Ni.Aa(a)},pg:function(){this.yg(this.B,q.G.Of.pg)},
mK:function(){},eK:function(){},AS:function(a){return this.Ni.AS(a)},n1:function(a){this.Ni.add(a)},n$:function(a){return this.Ni.remove(a)},f$:function(){this.Ni.JV()},cH:null,wB:null,sA:null,yo:null,Sk:null,ctor:null,Th:function(){this.wA()},Uh:function(){this.wA();var a=new q.Hh;a.Ih[2]=a.Ih[3]=a.Ih[6]=a.Ih[7]=a.Ih[8]=a.Ih[9]=a.Ih[11]=a.Ih[14]=0;a.Ih[10]=a.Ih[15]=1;this.cH=a;this.sA=0;this.wB=new q.Hh},Aa:null,Xm:function(a){if(this.ya){a=a||q.aa;var c,d=this.B,e;a.save();this.transform(a);var f=
d.length;if(0<f){this.he();for(c=0;c<f;c++)if(e=d[c],0>e.kb)e.Aa(a);else break;for(this.Wa(a);c<f;c++)d[c].Aa(a)}else this.Wa(a);this.Tf=0;a.restore()}},Ym:function(){if(this.ya){var a=q.aa,c,d=q.PR;d.stack.push(d.top);q.q8(this.wB,d.top);d.top=this.wB;var e=this.Sk;e&&e.JN&&e.WB();this.transform();var f=this.B;if(f&&0<f.length){var g=f.length;this.he();for(c=0;c<g;c++)if(f[c]&&0>f[c].kb)f[c].Aa();else break;for(this.Wa(a);c<g;c++)f[c]&&f[c].Aa()}else this.Wa(a);this.Tf=0;e&&e.JN&&e.TB(this);d.top=
d.stack.pop()}},transform:null,tQ:function(a){a=a||q.aa;var c=q.qa.f(),d=this.gg();a.transform(d.N,d.La,d.k,d.d,d.gb*c.va,-d.hb*c.Ca)},uQ:function(){var a=this.cH,c=q.PR.top,d=this.gg(),e=a.Ih;e[0]=d.N;e[4]=d.La;e[12]=d.gb;e[1]=d.k;e[5]=d.d;e[13]=d.hb;e[14]=this.ww;q.nU(c,c,a);null==this.yo||null!=this.Sk&&this.Sk.Vp()||(a=this.Ed.H,c=this.Ed.Q,0!==a||0!==c?(q.lU(q.ug(a),q.ug(c),0),this.yo.zJ(),q.lU(q.ug(-a),q.ug(-c),0)):this.yo.zJ())},gg:null,dP:function(){this.gk||(this.gk={N:1,k:0,La:0,d:1,gb:0,
hb:0});if(this.hk){var a=this.gk;a.gb=this.u.H;a.hb=this.u.Q;var c=1,d=0;this.Hg&&(c=Math.cos(this.Hm),d=Math.sin(this.Hm));a.N=a.d=c;a.k=-d;a.La=d;var e=this.va,f=this.Ca,g=this.Ed.H,h=this.Ed.Q,k=1E-6>e&&-1E-6<e?1E-6:e,l=1E-6>f&&-1E-6<f?1E-6:f;if(this.ye||this.ze){var m=Math.tan(-this.ye*Math.PI/180),p=Math.tan(-this.ze*Math.PI/180),t=h*m*k,u=g*p*l;a.N=c+-d*p;a.k=c*m+-d;a.La=d+c*p;a.d=d*m+c;a.gb+=c*t+-d*u;a.hb+=d*t+c*u}if(1!==e||1!==f)a.N*=k,a.La*=k,a.k*=l,a.d*=l;a.gb+=c*-g*k+-d*h*l;a.hb-=d*-g*
k+c*h*l;this.Wj&&(a.gb+=g,a.hb+=h);this.Gq&&(this.gk=q.Yl(this.gk,this.Qu),this.Gq=!1);this.hk=!1}return this.gk},eP:function(){if(this.hk){var a=this.u.H,c=this.u.Q,d=this.Ed.H,e=-d,f=this.Ed.Q,g=-f,h=this.va,k=this.Ca;this.Wj&&(a+=d,c+=f);var l=1,m=0,p=1,t=0;if(0!==this.Hg||0!==this.ci)l=Math.cos(-this.Hm),m=Math.sin(-this.Hm),p=Math.cos(-this.Or),t=Math.sin(-this.Or);var u=this.ye||this.ze;u||0===d&&0===f||(a+=p*e*h+-m*g*k,c+=t*e*h+l*g*k);a={N:p*h,k:t*h,La:-m*k,d:l*k,gb:a,hb:c};u&&(a=q.Yl({N:1,
k:Math.tan(q.Bj(this.ze)),La:Math.tan(q.Bj(this.ye)),d:1,gb:0,hb:0},a),0!==d||0!==f)&&(a=q.jy(a,e,g));this.Gq&&(a=q.Yl(a,this.Qu),this.Gq=!1);this.gk=a;this.hk=!1}return this.gk},Jm:function(){this.QF=!0;this.ea&&this.ea.Jm()},rC:function(){this.yo||(this.yo=new q.qq);return this.yo},E4:function(){return this.Sk},paa:function(a){this.Sk=a},AC:function(){return this.Wc},$g:function(a){this.Wc=a},D4:function(){return this.sA},oaa:function(a){this.sA=a},L3:function(){var a=q.rect(0,0,this.Ba.Ha,this.Ba.xa),
c=this.wn(),a=q.Nf(a,this.wn());if(!this.B)return a;for(var d=this.B,e=0;e<d.length;e++){var f=d[e];f&&f.ya&&(f=f.bG(c))&&(a=q.tx(a,f))}return a},bG:function(a){var c=q.rect(0,0,this.Ba.Ha,this.Ba.xa);a=null==a?this.gg():q.Yl(this.gg(),a);c=q.Nf(c,a);if(!this.B)return c;for(var d=this.B,e=0;e<d.length;e++){var f=d[e];f&&f.ya&&(f=f.bG(a))&&(c=q.tx(c,f))}return c}});
q.Ja.ad?(b=q.G.prototype,b.ctor=q.G.prototype.Uh,b.bb=q.G.prototype.UP,b.Aa=q.G.prototype.Ym,b.transform=q.G.prototype.uQ,b.gg=q.G.prototype.eP):(b=q.G.prototype,b.ctor=q.G.prototype.Th,b.bb=q.G.prototype.TP,b.Aa=q.G.prototype.Xm,b.transform=q.G.prototype.tQ,b.gg=q.G.prototype.dP);q.G.create=function(){return new q.G};q.G.Of={Vg:1,ee:2,cg:3,xi:4,pg:5,Jh:6,he:7};
q.Ib=q.G.extend({sb:!0,dc:255,Gg:255,Cc:null,we:null,Fd:!1,pe:!1,ctor:function(){q.G.prototype.ctor.call(this);this.Gg=this.dc=255;this.Cc=q.Db();this.we=q.Db();this.pe=this.Fd=!1},jj:function(){return this.Gg},CS:function(){return this.dc},ta:function(a){this.dc=this.Gg=a;a=255;var c=this.ea;c&&c.sb&&c.pe&&(a=c.dc);this.td(a)},td:function(a){this.dc=this.Gg*a/255;if(this.pe){a=this.B;for(var c=0;c<a.length;c++){var d=a[c];d&&d.sb&&d.td(this.dc)}}},bU:function(){return this.pe},wK:function(a){this.pe!==
a&&((this.pe=a)?this.ir():this.cA())},ir:function(){var a=255,c=this.ea;c&&c.sb&&c.pe&&(a=c.dc);this.td(a)},cA:function(){this.dc=this.Gg;for(var a=this.B,c=0;c<a.length;c++){var d=a[c];d&&d.sb&&d.td(255)}},Cd:function(){var a=this.we;return new q.Ac(a.q,a.p,a.k)},Es:function(){return this.Cc},t:function(a){var c=this.Cc,d=this.we;c.q=d.q=a.q;c.p=d.p=a.p;c.k=d.k=a.k;a=(a=this.ea)&&a.sb&&a.Fd?a.Es():q.Db();this.sd(a)},sd:function(a){var c=this.Cc,d=this.we;c.q=0|d.q*a.q/255;c.p=0|d.p*a.p/255;c.k=0|
d.k*a.k/255;if(this.Fd)for(a=this.B,d=0;d<a.length;d++){var e=a[d];e&&e.sb&&e.sd(c)}},aU:function(){return this.Fd},vK:function(a){this.Fd!==a&&((this.Fd=a)?this.hr():this.bA())},hr:function(){var a;a=(a=this.ea)&&a.sb&&a.Fd?a.Es():q.Db();this.sd(a)},bA:function(){var a=this.Cc,c=this.we;a.q=c.q;a.p=c.p;a.k=c.k;for(var a=this.B,c=q.Db(),d=0;d<a.length;d++){var e=a[d];e&&e.sb&&e.sd(c)}},g:function(a,c,d){q.G.prototype.g.call(this,a,c,d);this.Fd&&this.hr();this.pe&&this.ir()},Jf:function(){},vl:function(){return!1}});
q.Ib.create=function(){var a=new q.Ib;a.w();return a};q.je=q.Ib.extend({sb:!0,qG:0,pG:0,xv:0,wv:0,Mj:null,Sa:null,xc:!1,oa:null,Lr:0,tA:!1,ctor:function(){q.Ib.prototype.ctor.call(this);this.Mj=q.Db();this.oa={src:q.Re,Qb:q.Qe};this.tA=!1},Hca:function(){q.log("cc.AtlasNode.updateAtlasValues(): Shall be overridden in subclasses")},Cd:function(){return this.xc?this.Mj:q.Ib.prototype.Cd.call(this)},Jf:function(a){var c=this.Cd();this.xc=a;this.t(c)},vl:function(){return this.xc},Ds:function(){return this.oa},Kl:function(a,c){this.oa=1==arguments.length?
a:{src:a,Qb:c}},gq:function(a){this.Sa=a},GI:function(){return this.Sa},M5:function(){return this.Lr},Yaa:function(a){this.Lr=a},Qm:null,Uf:null,fH:null,$u:null,QT:function(a,c,d,e){if(!a)throw"cc.AtlasNode.initWithTileFile(): title should not be null";a=q.ja.f().na(a);return this.Qa(a,c,d,e)},Qa:null,wr:function(a,c,d,e){this.xv=c;this.wv=d;this.xc=!0;this.Uf=a;if(!this.Uf)return q.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.Qm=this.Uf;this.Wu();this.Lr=e;return!0},
xr:function(a,c,d,e){this.xv=c;this.wv=d;this.Mj=q.Db();this.xc=!0;this.oa.src=q.Re;this.oa.Qb=q.Qe;c=this.we;this.$u=new Float32Array([c.q/255,c.p/255,c.k/255,this.Gg/255]);this.Sa=new q.lo;this.Sa.Qa(a,e);if(!this.Sa)return q.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.Wm();this.mH();this.Wu();this.Lr=e;this.$g(q.Sh.f().zi(q.J_));this.fH=q.aa.getUniformLocation(this.AC().Rw(),"u_color");return!0},Wa:null,Bg:function(a){a=a||q.aa;q.Py(this);q.pk(this.oa.src,this.oa.Qb);
a.uniform4fv(this.fH,this.$u);this.Sa.aI(this.Lr,0)},t:null,Qr:function(a){var c=this.we;if(c.q!=a.q||c.p!=a.p||c.k!=a.k){c=new q.Ac(a.q,a.p,a.k);this.Mj=a;if(this.xc){var d=this.dc;c.q=c.q*d/255;c.p=c.p*d/255;c.k=c.k*d/255}q.Ib.prototype.t.call(this,a);this.ia()&&(a=this.Uf.wc)&&(c=q.ja.f().HI(a))&&(d=q.rect(0,0,a.width,a.height),a=q.pC(a,c,this.we,d),c=new q.gc,c.kf(a),c.ce(),this.ka(c))}},fB:function(a){var c=q.Ac(a.q,a.p,a.k);this.Mj=a;var d=this.dc;this.xc&&(c.q=c.q*d/255,c.p=c.p*d/255,c.k=c.k*
d/255);q.Ib.prototype.t.call(this,a);a=this.Cc;this.$u=new Float32Array([a.q/255,a.p/255,a.k/255,d/255])},ta:null,Sr:function(a){q.Ib.prototype.ta.call(this,a);this.xc&&this.t(this.Mj)},hB:function(a){q.Ib.prototype.ta.call(this,a);this.xc?this.t(this.Mj):(a=this.Cc,this.$u=new Float32Array([a.q/255,a.p/255,a.k/255,this.dc/255]))},ia:null,pA:function(){return this.Qm},qA:function(){return this.Sa.ia()},ka:null,Tr:function(a){this.Qm=a},Ur:function(a){this.Sa.ka(a);this.Wm();this.mH()},Wu:null,ZN:function(){var a=
this.ia().c();this.pG=0|a.height/this.wv;this.qG=0|a.width/this.xv},$N:function(){var a=this.ia(),c=a.c();this.tA&&(c=a.Ba);this.pG=0|c.height/this.wv;this.qG=0|c.width/this.xv},Wm:function(){this.Sa.ia().Ms()||(this.oa.src=770,this.oa.Qb=771)},mH:function(){this.xc=this.Sa.ia().Ms()},gB:function(a){this.tA=a}});
q.Ja.ad?(b=q.je.prototype,b.Qa=q.je.prototype.xr,b.Wa=q.je.prototype.Bg,b.t=q.je.prototype.fB,b.ta=q.je.prototype.hB,b.ia=q.je.prototype.qA,b.ka=q.je.prototype.Ur,b.Wu=q.je.prototype.$N):(b=q.je.prototype,b.Qa=q.je.prototype.wr,b.Wa=q.G.prototype.Wa,b.t=q.je.prototype.Qr,b.ta=q.je.prototype.Sr,b.ia=q.je.prototype.pA,b.ka=q.je.prototype.Tr,b.Wu=q.je.prototype.ZN);q.je.create=function(a,c,d,e){var f=new q.je;return f.QT(a,c,d,e)?f:null};q.Gj=0;q.Aq=1;q.zq=2;q.yq=3;q.fz=4;q.ez=5;q.wu=6;q.vu=7;q.uF=8;q.tF=9;q.sF=q.Gj;q.Vz=q.sF;q.dN=!1;q.f1=function(a,c,d,e){this.uU=a||0;this.sU=c||0;this.SL=d||0;this.TL=e||0};
q.tN=q.Ma.extend({hP:null,Vf:null,sh:null,rh:null,DA:null,Ba:null,nh:null,oh:null,Qo:null,vm:!1,Wc:null,Ic:!1,wc:null,li:null,Zd:null,ctor:function(){this.rh=this.sh=0;this.DA="";this.oh=this.nh=0;this.Qo=!1;this.Ba=q.Km();this.vm=!1;this.hP=!0;this.Vf=q.gc.QR();this.Wc=null;this.Ic=!1;this.li=this.wc=null;this.Zd=[]},vD:function(){this.li&&q.aa.deleteTexture(this.li)},A5:function(){return this.Vf},Op:function(){return this.sh},Np:function(){return this.rh},getName:function(){return this.li},c:function(){return q.size(this.Ba.width/
q.bd(),this.Ba.height/q.bd())},BS:function(){return this.Ba},HS:function(){return this.nh},TW:function(a){this.nh=a},IS:function(){return this.oh},UW:function(a){this.oh=a},AC:function(){return this.Wc},$g:function(a){this.Wc=a},Ms:function(){return this.Qo},zT:function(){return this.vm},description:function(){return"\x3ccc.Texture2D | Name \x3d "+this.DA+" | Dimensions \x3d "+this.sh+" x "+this.rh+" | Coordinates \x3d ("+this.nh+", "+this.oh+")\x3e"},GV:function(){},jU:function(a){return a},Ww:function(a,
c,d,e,f){var g=q.aa,h=0,h=c===q.Gj?24:this.KH(c),h=d*h/8;0===h%8?g.pixelStorei(g.UNPACK_ALIGNMENT,8):0===h%4?g.pixelStorei(g.UNPACK_ALIGNMENT,4):0===h%2?g.pixelStorei(g.UNPACK_ALIGNMENT,2):g.pixelStorei(g.UNPACK_ALIGNMENT,1);this.li=g.createTexture();q.Ng(this);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE);
switch(c){case q.Gj:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_BYTE,a);break;case q.Aq:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_BYTE,a);break;case q.wu:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_4_4_4_4,a);break;case q.vu:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_5_5_5_1,a);break;case q.zq:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_SHORT_5_6_5,a);break;case q.ez:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE_ALPHA,
d,e,0,g.LUMINANCE_ALPHA,g.UNSIGNED_BYTE,a);break;case q.yq:g.texImage2D(g.TEXTURE_2D,0,g.ALPHA,d,e,0,g.ALPHA,g.UNSIGNED_BYTE,a);break;case q.fz:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE,d,e,0,g.LUMINANCE,g.UNSIGNED_BYTE,a);break;default:throw"NSInternalInconsistencyException";}this.Ba.Ha=f.width;this.Ba.xa=f.height;this.sh=d;this.rh=e;this.Vf=c;this.nh=f.width/d;this.oh=f.height/e;this.vm=this.Qo=!1;this.$g(q.Sh.f().zi(q.iN));return this.Ic=!0},eS:function(a){var c=[0,this.oh,this.nh,this.oh,0,0,this.nh,
0],d=this.sh*this.nh,e=this.rh*this.oh;a=[a.x,a.y,0,d+a.x,a.y,0,a.x,e+a.y,0,d+a.x,e+a.y,0];q.He(q.ih|q.CN);this.Wc.qf();this.Wc.dL();q.Ng(this);d=q.aa;d.vertexAttribPointer(q.Ue,2,d.FLOAT,!1,0,a);d.vertexAttribPointer(q.Eq,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},gS:function(a){var c=[0,this.oh,this.nh,this.oh,0,0,this.nh,0];a=[a.x,a.y,a.x+a.width,a.y,a.x,a.y+a.height,a.x+a.width,a.y+a.height];q.He(q.ih|q.CN);this.Wc.qf();this.Wc.dL();q.Ng(this);var d=q.aa;d.vertexAttribPointer(q.Ue,
2,d.FLOAT,!1,0,a);d.vertexAttribPointer(q.Eq,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},OC:function(a){if(null==a)return q.log("cocos2d: cc.Texture2D. Can't create Texture. UIImage is nil"),!1;var c=a.Is(),d=a.Fs(),e=q.Se.f().Fr;if(c>e||d>e)return q.log("cocos2d: WARNING: Image ("+c+" x "+d+") is bigger than the supported "+e+" x "+e),!1;this.Ic=!0;return this.FO(a,c,d)},kf:function(a){a&&(this.li=q.aa.createTexture(),this.wc=a)},ES:function(){return this.wc},Rg:function(){return this.Ic},
ce:function(){this.Ic=!0;var a=q.aa;q.Ng(this);a.pixelStorei(a.UNPACK_ALIGNMENT,4);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,this.wc);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);this.$g(q.Sh.f().zi(q.iN));q.Ng(null);a=this.wc.height;this.sh=this.Ba.Ha=this.wc.width;this.rh=this.Ba.xa=
a;this.Vf=q.Gj;this.oh=this.nh=1;this.vm=this.Qo=!1;this.oe()},ul:function(a,c,d,e,f,g){3==arguments.length&&(c=arguments[1],d=arguments[2],e=q.size(0,0),f=q.Hj,g=q.Iu);var h=new q.yM,k;if(q.Iu===g)k=q.Hj===f?q.AY:q.Bq===f?q.BY:q.CY;else if(q.Hu===g)k=q.Hj===f?q.xY:q.Bq===f?q.yY:q.zY;else if(q.Gu===g)k=q.Hj===f?q.uY:q.Bq===f?q.vY:q.wY;else return q.log("Not supported alignment format!"),!1;return h.ul(a,e.width,e.height,k,c,d)?this.OC(h):!1},JT:function(){return!1},ZI:function(a){var c=!1,d=new q.b0;
(c=d.j7(a))?(d.dba(!0),this.DA=d.getName(),this.oh=this.nh=1,this.sh=d.Is(),this.rh=d.Fs(),this.Ba.Ha=this.sh,this.Ba.xa=this.rh,this.Qo=q.dN,this.Vf=d.B4(),this.rK()):q.log("cocos2d: Couldn't load PVR image "+a);return c},OT:function(){return q.Se.f().ds?!0:(q.log("cocos2d: WARNING: PVRTC images is not supported."),!1)},wX:function(a){var c=q.aa;q.vt(this.sh==q.co(this.sh)&&this.rh==q.co(this.rh)||a.SL==c.CLAMP_TO_EDGE&&a.TL==c.CLAMP_TO_EDGE,"WebGLRenderingContext.CLAMP_TO_EDGE should be used in NPOT textures");
q.Ng(this);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,a.uU);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,a.sU);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,a.SL);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,a.TL)},rK:function(){var a=q.aa;q.Ng(this);this.vm?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},qK:function(){var a=q.aa;q.Ng(this);
this.vm?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},generateMipmap:function(){q.vt(this.sh==q.co(this.sh)&&this.rh==q.co(this.rh),"Mimpap texture only works in POT textures");q.Ng(this);q.aa.generateMipmap(q.aa.TEXTURE_2D);this.vm=!0},YX:function(){switch(this.Vf){case q.Gj:return"RGBA8888";case q.Aq:return"RGB888";case q.zq:return"RGB565";case q.wu:return"RGBA4444";
case q.vu:return"RGB5A1";case q.ez:return"AI88";case q.yq:return"A8";case q.fz:return"I8";case q.uF:return"PVRTC4";case q.tF:return"PVRTC2";default:q.log("stringForFormat: "+this.Vf+", cannot give useful result, it's a unrecognized pixel format")}return""},KH:function(a){a=a||this.Vf;switch(a){case q.Gj:return 32;case q.Aq:return 32;case q.zq:return 16;case q.yq:return 8;case q.wu:return 16;case q.vu:return 16;case q.uF:return 4;case q.tF:return 2;case q.fz:return 8;case q.ez:return 16;default:return q.log("bitsPerPixelForFormat: "+
this.Vf+", cannot give useful result, it's a illegal pixel format"),-1}},FO:function(a,c,d){var e=a.getData(),f=null,f=null,g=a.a7(),h=q.size(a.Is(),a.Fs()),k=q.sF,l=a.J3();g||(8<=l?k=q.Aq:(q.log("cocos2d: cc.Texture2D: Using RGB565 texture since image has no alpha"),k=q.zq));var m=c*d;if(k==q.zq)if(g)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>2<<5|(f[l]>>16&255)>>3<<0;else for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]&255)>>3<<
11|(f[l]&255)>>2<<5|(f[l]&255)>>3<<0;else if(k==q.wu)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>4<<12|(f[l]>>8&255)>>4<<8|(f[l]>>16&255)>>4<<4|(f[l]>>24&255)>>4<<0;else if(k==q.vu)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>3<<6|(f[l]>>16&255)>>3<<1|(f[l]>>24&255)>>7<<0;else if(k==q.yq)for(e=new Uint8Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=f>>24&255;if(g&&k==q.Aq)for(f=a.getData(),e=new Uint8Array(c*d*3),l=0;l<m;++l)e[3*
l]=f>>0&255,e[3*l+1]=f>>8&255,e[3*l+2]=f>>16&255;this.Ww(e,k,c,d,h);a.getData();this.Qo=a.T7();return!0},bg:function(a,c){this.Zd.push({eventCallback:a,pi:c})},PV:function(a){for(var c=this.Zd,d=0;d<c.length;d++)c[d].pi==a&&c.splice(d,1)},oe:function(){for(var a=this.Zd,c=0,d=a.length;c<d;c++){var e=a[c];e.eventCallback.call(e.pi,this)}a.length=0}});
q.sN=q.Ma.extend({Ba:null,Ic:!1,wc:null,Zd:null,ctor:function(){this.Ba=q.Km();this.Ic=!1;this.wc=null;this.Zd=[]},Op:function(){return this.Ba.Ha},Np:function(){return this.Ba.xa},c:function(){var a=q.bd();return q.size(this.Ba.Ha/a,this.Ba.xa/a)},BS:function(){return this.Ba},kf:function(a){a&&(this.wc=a)},ES:function(){return this.wc},Rg:function(){return this.Ic},ce:function(){this.Ic=!0;var a=this.wc;this.Ba.Ha=a.width;this.Ba.xa=a.height;this.oe()},description:function(){return"\x3ccc.Texture2D | width \x3d "+
this.Ba.Ha+" height "+this.Ba.xa+"\x3e"},Ww:function(){return!1},OC:function(){return!1},ul:function(){return!1},vD:function(){},getName:function(){return null},HS:function(){return 1},TW:function(){},IS:function(){return 1},UW:function(){},AC:function(){return null},$g:function(){},Ms:function(){return!1},zT:function(){return!1},GV:function(){},jU:function(a){return a},eS:function(){},gS:function(){},JT:function(){return!1},ZI:function(){return!1},OT:function(){return!0},wX:function(){},rK:function(){},
qK:function(){},generateMipmap:function(){},YX:function(){return""},KH:function(){return-1},bg:function(a,c){this.Zd.push({eventCallback:a,pi:c})},PV:function(a){for(var c=this.Zd,d=0;d<c.length;d++)c[d].pi==a&&c.splice(d,1)},oe:function(){for(var a=this.Zd,c=0,d=a.length;c<d;c++){var e=a[c];e.eventCallback.call(e.pi,this)}a.length=0}});q.gc=q.Ja.ad?q.tN:q.sN;q.gc.aaa=function(a){q.Vz=a};q.gc.QR=function(){return q.Vz};q.gc.h4=function(){return q.Vz};q.Cs=null;q.C8=function(a){if(q.GR(a)==q.sM)q.log("unsupported format:"+a);else{var c=new Image;c.src=a;c.addEventListener("load",function(){q.ja.f().iR(a,c);this.removeEventListener("load",arguments.callee,!1)},!1)}};q.GR=function(a){return 0<a.toLowerCase().indexOf(".jpg")||0<a.toLowerCase().indexOf(".jpeg")?q.xZ:0<a.toLowerCase().indexOf(".png")?q.yZ:0<a.toLowerCase().indexOf(".webp")?q.AZ:q.sM};
q.ja=q.Ma.extend({Ya:null,es:null,jw:null,FG:!1,Bv:null,Cv:null,ctor:function(){if(q.Cs)throw"Attempted to allocate a second instance of a singleton.";this.jw+=0|1E3*Math.random();this.Ya={};this.es={};q.Qd===q.Fk&&(this.Bv={},this.Cv={})},yz:function(a,c){if(a&&"string"===typeof c)a[c]();else a&&"function"===typeof c&&c.call(a)},NO:function(){this.FG=!0;var a,c=this.Bv,d=this.Ya;for(a in c){var e=c[a],f=new q.gc;f.kf(e);f.ce();d[a]=f}this.Bv={}},t1:function(){q.log("TextureCache:addPVRTCImage does not support on HTML5")},
o1:function(){q.log("TextureCache:addPVRTCImage does not support on HTML5")},description:function(){return"\x3cTextureCache | Number of textures \x3d "+this.Ya.length+"\x3e"},Wx:function(a,c){var d=c?a:q.Td.f().Ee(a);return this.Ya.hasOwnProperty(d)?this.Ya[d]:null},GS:function(a){for(var c in this.Ya)if(this.Ya[c]==a)return c;return null},wO:function(){this.jw++;return"_textureKey_"+this.jw},HI:function(a){var c=this.GS(a);c||(c=a instanceof HTMLImageElement?a.src:this.wO());this.es.hasOwnProperty(c)||
(this.es[c]=q.Gp(a));return this.es[c]},s1:function(a){if(!a)throw"cc.TextureCache.addPVRImage(): path should be non-null";a=q.Td.f().Ee(a);if(null!=this.Ya[a])return this.Ya[a];var c=new q.gc;c.ZI(a)?this.Ya[a]=c:q.log("cocos2d: Couldn't add PVRImage:"+a+" in TextureCache");return c},i$:function(){var a=this.Ya,c;for(c in a)a[c]&&a[c].vD();this.Ya={}},w$:function(a){if(a){var c=this.Ya,d;for(d in c)c[d]==a&&(c[d].vD(),delete c[d])}},TV:function(a){null!=a&&(a=q.Td.f().Ee(a),this.Ya[a]&&delete this.Ya[a])},
p1:function(a,c,d){if(!a)throw"cc.TextureCache.addImageAsync(): path should be non-null";a=q.Td.f().Ee(a);var e=this.Ya[a],f,g;if(e)e.Rg()?this.yz(c,d):(g=this,f=e.wc,f.addEventListener("load",function(){e.ce();g.yz(c,d);this.removeEventListener("load",arguments.callee,!1)}));else{f=new Image;f.crossOrigin="Anonymous";g=this;f.addEventListener("load",function(){g.Ya.hasOwnProperty(a)&&g.Ya[a].ce();g.yz(c,d);this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,
!1)});f.addEventListener("error",function(){q.Tb.f().Dl(a);g.Ya.hasOwnProperty(a)&&delete g.Ya[a];this.removeEventListener("error",arguments.callee,!1)});f.src=a;var h=new q.gc;h.kf(f);this.Ya[a]=h}return this.Ya[a]},LN:function(a){var c=new Image;c.crossOrigin="Anonymous";var d=this;c.addEventListener("load",function(){q.Tb.f().ig();d.Bv[a]=c;delete d.Cv[a];this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});c.addEventListener("error",function(){q.Tb.f().Dl(a);
delete d.Cv[a];this.removeEventListener("error",arguments.callee,!1)});c.src=a;this.Cv[a]=c},na:function(a,c){if(!a)throw"cc.Texture.addImage(): path should be non-null";if(q.Qd===q.Fk&&!this.FG)return this.LN(a);c||(a=q.Td.f().Ee(a));var d=this.Ya[a],e;if(d)d.Rg()?q.Tb.f().ig():(e=d.wc,e.addEventListener("load",function(){d.ce();q.Tb.f().ig();this.removeEventListener("load",arguments.callee,!1)}));else{e=new Image;e.crossOrigin="Anonymous";var f=this;e.addEventListener("load",function(){q.Tb.f().ig();
f.Ya.hasOwnProperty(a)&&f.Ya[a].ce();this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});e.addEventListener("error",function(){q.Tb.f().Dl(a);f.Ya.hasOwnProperty(a)&&delete f.Ya[a];this.removeEventListener("error",arguments.callee,!1)});e.src=a;var g=new q.gc;g.kf(e);this.Ya[a]=g}return this.Ya[a]},q1:function(a,c,d){if(!a)throw"cc.Texture.addImageFromBase64(): data should be non-null";var e=this,f=new Image;f.src="data:image/"+d+";base64,"+
a;f.addEventListener("load",function(){q.Tb.f().ig();e.Ya.hasOwnProperty(c)&&e.Ya[c].ce();this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});f.addEventListener("error",function(){q.Tb.f().Dl(c);e.Ya.hasOwnProperty(c)&&delete e.Ya[c];this.removeEventListener("error",arguments.callee,!1)});a=new q.gc;a.kf(f);this.Ya[c]=a;return this.Ya[c]},iR:function(a,c){if(c instanceof q.gc)this.Ya[a]=c;else{var d=new q.gc;d.kf(c);d.ce();this.Ya[a]=d;q.log(a);
q.log(this.Ya[a])}},y1:function(a,c){if(!a)throw"cc.Texture.addUIImage(): image should be non-null";if(c&&this.Ya.hasOwnProperty(c)&&this.Ya[c])return this.Ya[c];var d=new q.gc;d.OC(a);null!=c&&null!=d?this.Ya[c]=d:q.log("cocos2d: Couldn't add UIImage in TextureCache");return d},S2:function(){var a=0,c=0,d=this.Ya,e;for(e in d){var f=d[e];a++;f.wc instanceof HTMLImageElement?q.log("cocos2d: '"+e+"' id\x3d"+f.wc.src+" "+f.Op()+" x "+f.Np()):q.log("cocos2d: '"+e+"' id\x3d HTMLCanvasElement "+f.Op()+
" x "+f.Np());c+=f.Op()*f.Np()*4}d=this.es;for(e in d){var f=d[e],g;for(g in f){var h=f[g];a++;q.log("cocos2d: '"+e+"' id\x3d HTMLCanvasElement "+h.width+" x "+h.height);c+=h.width*h.height*4}}q.log("cocos2d: TextureCache dumpDebugInfo: "+a+" textures, HTMLCanvasElement for "+c/1024+" KB ("+(c/1048576).toFixed(2)+" MB)")}});q.ja.f=function(){q.Cs||(q.Cs=new q.ja);return q.Cs};q.ja.rV=function(){q.Cs=null};q.lo=q.Ma.extend({Id:null,Li:null,Na:!1,wd:0,Ga:null,Xe:null,Eg:null,Mr:null,Fg:null,ctor:function(){this.Li=[]},B6:function(){return this.Za},R3:function(){return this.wd},ia:function(){return this.Ga},ka:function(a){this.Ga=a},Zg:function(a){this.Na=a},jJ:function(){return this.Na},L5:function(){return this.Xe},Xaa:function(a){this.Xe=a},B0:function(a,c){if(a)for(var d=0;d<a.length;d++)this.Zv(a[d],c+d)},Zv:function(a,c){var d=this.Xe;d[c]?(d[c].Oa=a.Oa,d[c].$a=a.$a,d[c].Xa=a.Xa,d[c].Ra=a.Ra):d[c]=
new q.pc(a.Xa,a.Oa,a.Ra,a.$a,this.Eg,c*q.pc.BYTES_PER_ELEMENT)},description:function(){return"\x3ccc.TextureAtlas | totalQuads \x3d"+this.Za+"\x3e"},SG:function(){if(0!==this.wd)for(var a=this.Id,c=this.wd,d=0;d<c;d++)q.vF?(a[6*d+0]=4*d+0,a[6*d+1]=4*d+0,a[6*d+2]=4*d+2,a[6*d+3]=4*d+1,a[6*d+4]=4*d+3,a[6*d+5]=4*d+3):(a[6*d+0]=4*d+0,a[6*d+1]=4*d+1,a[6*d+2]=4*d+2,a[6*d+3]=4*d+3,a[6*d+4]=4*d+2,a[6*d+5]=4*d+1)},iQ:function(){var a=q.aa;this.Li[0]=a.createBuffer();this.Li[1]=a.createBuffer();this.Mr=a.createBuffer();
this.sG()},sG:function(){var a=q.aa;a.bindBuffer(a.ARRAY_BUFFER,this.Mr);a.bufferData(a.ARRAY_BUFFER,this.Eg,a.DYNAMIC_DRAW);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Li[1]);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.Id,a.STATIC_DRAW)},mj:function(a,c){var d=q.ja.f().na(a);if(d)return this.Qa(d,c);q.log("cocos2d: Could not open file: "+a);return!1},Qa:function(a,c){if(!a)throw"cc.TextureAtlas.initWithTexture():texture should be non-null";this.wd=c|=0;this.Za=0;this.Ga=a;this.Xe=[];this.Id=new Uint16Array(6*
c);var d=q.pc.BYTES_PER_ELEMENT;this.Eg=new ArrayBuffer(d*c);this.Fg=new Uint8Array(this.Eg);if((!this.Xe||!this.Id)&&0<c)return!1;for(var e=this.Xe,f=0;f<c;f++)e[f]=new q.pc(null,null,null,null,this.Eg,f*d);this.SG();this.iQ();return this.Na=!0},by:function(a,c){if(!a)throw"cc.TextureAtlas.updateQuad(): quad should be non-null";if(0>c||c>=this.wd)throw"cc.TextureAtlas.updateQuad(): Invalid index";this.Za=Math.max(c+1,this.Za);this.Zv(a,c);this.Na=!0},UC:function(a,c){if(c>=this.wd)throw"cc.TextureAtlas.insertQuad(): Invalid index";
this.Za++;if(this.Za>this.wd)q.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");else{var d=q.pc.BYTES_PER_ELEMENT,e=c*d,f=(this.Za-1-c)*d;this.Xe[this.Za-1]=new q.pc(null,null,null,null,this.Eg,(this.Za-1)*d);this.Fg.set(this.Fg.subarray(e,e+f),e+d);this.Zv(a,c);this.Na=!0}},p7:function(a,c,d){d=d||a.length;if(c+d>this.wd)throw"cc.TextureAtlas.insertQuad(): Invalid index + amount";var e=q.pc.BYTES_PER_ELEMENT;this.Za+=d;if(this.Za>this.wd)q.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");
else{var f=c*e,g=(this.Za-1-c-d)*e,h=this.Za-1-d,k;for(k=0;k<d;k++)this.Xe[h+k]=new q.pc(null,null,null,null,this.Eg,(this.Za-1)*e);this.Fg.set(this.Fg.subarray(f,f+g),f+e*d);for(k=0;k<d;k++)this.Zv(a[k],c+k);this.Na=!0}},o7:function(a,c){if(a!==c){if(0>c&&c>=this.Za)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid newIndex";if(0>a&&a>=this.Za)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid fromIndex";var d=q.pc.BYTES_PER_ELEMENT,e=this.Fg,f=e.subarray(a*d,d),g;a>c?(g=c*d,e.set(e.subarray(g,
g+(a-c)*d),g+d),e.set(f,g)):(g=(a+1)*d,e.set(e.subarray(g,g+(c-a)*d),g-d),e.set(f,c*d));this.Na=!0}},RV:function(a){if(a>=this.Za)throw"cc.TextureAtlas.removeQuadAtIndex(): Invalid index";var c=q.pc.BYTES_PER_ELEMENT;this.Za--;this.Xe.length=this.Za;if(a!==this.Za){var d=(a+1)*c;this.Fg.set(this.Fg.subarray(d,d+(this.Za-a)*c),d-c)}this.Na=!0},p$:function(a,c){if(a+c>this.Za)throw"cc.TextureAtlas.removeQuadsAtIndex(): index + amount out of bounds";this.Za-=c;if(a!==this.Za){var d=q.pc.BYTES_PER_ELEMENT,
e=(a+c)*d;this.Fg.set(this.Fg.subarray(e,e+(this.Za-a)*d),a*d)}this.Na=!0},LV:function(){this.Za=this.Xe.length=0},a1:function(a){this.Na=a},WV:function(a){if(a==this.wd)return!0;var c=q.pc.BYTES_PER_ELEMENT,d=this.wd;this.Za=Math.min(this.Za,a);var e=this.wd=0|a,f=this.Za;if(null==this.Xe)for(this.Xe=[],this.Eg=new ArrayBuffer(c*e),this.Fg=new Uint8Array(this.Eg),a=0;a<e;a++)this.Xe=new q.pc(null,null,null,null,this.Eg,a*c);else{var g,h,k=this.Xe;if(e>d){g=[];h=new ArrayBuffer(c*e);for(a=0;a<f;a++)g[a]=
new q.pc(k[a].Xa,k[a].Oa,k[a].Ra,k[a].$a,h,a*c);for(;a<e;a++)g[a]=new q.pc(null,null,null,null,h,a*c)}else for(f=Math.max(f,e),g=[],h=new ArrayBuffer(c*e),a=0;a<f;a++)g[a]=new q.pc(k[a].Xa,k[a].Oa,k[a].Ra,k[a].$a,h,a*c);this.Fg=new Uint8Array(h);this.Xe=g;this.Eg=h}null==this.Id?this.Id=new Uint16Array(6*e):e>d?(c=new Uint16Array(6*e),c.set(this.Id,0),this.Id=c):this.Id=this.Id.subarray(0,6*e);this.SG();this.sG();return this.Na=!0},g7:function(a){this.Za+=a},K8:function(a,c,d){if(2==arguments.length){d=
c;c=this.Za-a;if(d+(this.Za-a)>this.wd)throw"cc.TextureAtlas.moveQuadsFromIndex(): move is out of bounds";if(0===c)return}else{if(d+c>this.Za)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid newIndex";if(a>=this.Za)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid oldIndex";if(a==d)return}var e=q.pc.BYTES_PER_ELEMENT,f=a*e,g=c*e,h=this.Fg,k=h.subarray(f,f+g),l=d*e,m;d<a?(m=d*e,h.set(h.subarray(m,m+(a-d)*e),m+g)):(m=(a+c)*e,h.set(h.subarray(m,m+(d-a)*e),f));h.set(k,l);this.Na=!0},r3:function(a,
c){for(var d=c*q.pc.BYTES_PER_ELEMENT,e=new Uint8Array(this.Eg,a*q.pc.BYTES_PER_ELEMENT,d),f=0;f<d;f++)e[f]=0},aI:function(a,c){c=c||0;if(0!==a&&this.Ga&&this.Ga.Rg()){var d=q.aa;q.Ng(this.Ga);q.He(q.Eu);d.bindBuffer(d.ARRAY_BUFFER,this.Mr);this.Na&&d.bufferData(d.ARRAY_BUFFER,this.Eg,d.DYNAMIC_DRAW);d.vertexAttribPointer(q.Ue,3,d.FLOAT,!1,24,0);d.vertexAttribPointer(q.Dq,4,d.UNSIGNED_BYTE,!0,24,12);d.vertexAttribPointer(q.Eq,2,d.FLOAT,!1,24,16);this.Na&&(this.Na=!1);d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,
this.Li[1]);q.vF?d.drawElements(d.TRIANGLE_STRIP,6*a,d.UNSIGNED_SHORT,6*c*this.Id.BYTES_PER_ELEMENT):d.drawElements(d.TRIANGLES,6*a,d.UNSIGNED_SHORT,6*c*this.Id.BYTES_PER_ELEMENT);q.Ch++}},hS:function(){this.aI(this.Za,0)},Y0:function(){var a=q.aa;this.Li&&(this.Li[0]&&a.deleteBuffer(this.Li[0]),this.Li[1]&&a.deleteBuffer(this.Li[1]));this.Mr&&a.deleteBuffer(this.Mr)}});q.lo.create=function(a,c){var d=new q.lo;return d&&d.mj(a,c)?d:null};
q.lo.Pa=function(a,c){var d=new q.lo;return d&&d.Qa(a,c)?d:null};q.wq=q.G.extend({ctor:function(){q.G.prototype.ctor.call(this);this.Wj=!0;this.C(0.5,0.5);this.T(q.da.f().ac)}});q.wq.create=function(){return new q.wq};q.gz=0;q.U_=1;
q.Sc=q.G.extend({Wk:!1,Vk:!1,So:!1,jl:0,ms:q.gz,ym:!1,$o:0,ctor:function(){q.G.prototype.ctor.call(this);this.So=this.Vk=this.Wk=!1;this.jl=0;this.ms=q.gz;this.ym=!1;this.$o=0},EO:function(){this.C(0.5,0.5);this.Wj=!0;var a=q.da.f();this.T(a.ac)},w:function(){q.G.prototype.w.call(this);this.EO();return!0},ux:function(){this.ms===q.gz?q.FV(this,this.jl):q.sD(this.jl,!0,this)},M7:function(){return this.ym},Cx:function(a){if(!q.me)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.ym!=
a&&(this.ym=a,this.$e&&(a?q.da.f().Ff().BH(this,this.$o):q.da.f().Ff().hK(this)))},Iaa:function(a){if(!q.me)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.$o!==a&&(this.$o=a,this.ym&&(this.Cx(!1),this.Cx(!0)))},f5:function(){return this.$o},f8:function(){return this.Wk},fc:function(a){this.Wk!==a&&(this.Wk=a,this.$e&&(a?this.ux():q.CL(this)))},F6:function(){return this.jl},hq:function(a){this.jl!==a&&(this.jl=a,this.Wk&&(this.fc(!1),this.fc(!0)))},E6:function(){return this.ms},
XD:function(a){this.ms!==a&&(this.ms=a,this.Wk&&(this.fc(!1),this.fc(!0)))},u7:function(){return this.Vk},M$:function(a){if(!q.Ak)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";if(a!==this.Vk&&(this.Vk=a,this.$e)){var c=q.da.f();a?c.Hp().lg(this):c.Hp().lg(null)}},nW:function(a){this.Vk&&q.Ak&&q.da.f().Hp().nW(a)},d9:function(){q.log("onAccelerometer event should be handled.")},L7:function(){return this.So},yaa:function(a){if(!q.bo)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";
if(a!==this.So&&(this.So=a,this.$e)){var c=q.da.f();a?c.Pw().MQ(this):c.Pw().NV(this)}},Vg:function(){var a=q.da.f();this.Wk&&this.ux();q.G.prototype.Vg.call(this);this.Vk&&q.Ak&&a.Hp().lg(this);this.So&&q.bo&&a.Pw().MQ(this);this.ym&&q.me&&a.Ff().BH(this,this.$o)},ee:function(){var a=q.da.f();this.Wk&&q.CL(this);this.Vk&&q.Ak&&a.Hp().lg(null);this.So&&q.bo&&a.Pw().NV(this);this.ym&&q.me&&a.Ff().hK(this);q.G.prototype.ee.call(this)},xi:function(){this.Vk&&q.Ak&&q.da.f().Hp().lg(this);q.G.prototype.xi.call(this)},
wb:function(){q.log("onTouchBegan event should be handled.");return!0},Od:function(){},Wg:function(){},tk:function(){},NJ:function(){},QJ:function(){},PJ:function(){},OJ:function(){},DU:function(){return!1},EU:function(){return!1},yi:function(){return!1},HU:function(){return!1},LU:function(){return!1},MU:function(){return!1},NU:function(){return!1},IU:function(){return!1},JU:function(){return!1},KU:function(){return!1},OU:function(){return!1},FU:function(){return!1},GU:function(){return!1},fD:function(){},
Cl:function(){}});q.Sc.create=function(){var a=new q.Sc;return a&&a.w()?a:null};
q.Qh=q.Sc.extend({sb:!0,dc:0,Gg:0,Cc:null,we:null,pe:!1,Fd:!1,ctor:function(){q.Sc.prototype.ctor.call(this);this.sb=!0;this.Gg=this.dc=255;this.Cc=q.Db();this.we=q.Db();this.Fd=this.pe=!1},w:function(){return q.Sc.prototype.w.call(this)?(this.wK(!1),this.vK(!1),!0):!1},jj:function(){return this.Gg},CS:function(){return this.dc},ta:function(a){this.dc=this.Gg=a;a=255;var c=this.ea;c&&c.sb&&c.pe&&(a=c.dc);this.td(a)},td:function(a){this.dc=0|this.Gg*a/255;if(this.pe){a=this.B;for(var c=0;c<a.length;c++){var d=
a[c];d&&d.sb&&d.td(this.dc)}}},bU:function(){return this.pe},wK:function(a){this.pe!==a&&((this.pe=a)?this.ir():this.cA())},ir:function(){var a=255,c=this.ea;c&&c.sb&&c.pe&&(a=c.dc);this.td(a)},cA:function(){this.dc=this.Gg;for(var a=this.B,c=0;c<a.length;c++){var d=a[c];d&&d.sb&&d.td(255)}},Cd:function(){var a=this.we;return q.o(a.q,a.p,a.k)},Es:function(){var a=this.Cc;return q.o(a.q,a.p,a.k)},t:function(a){var c=this.Cc,d=this.we;c.q=d.q=a.q;c.p=d.p=a.p;c.k=d.k=a.k;a=(a=this.ea)&&a.sb&&a.Fd?a.Es():
q.Db();this.sd(a)},sd:function(a){var c=this.Cc,d=this.we;c.q=0|d.q*a.q/255;c.p=0|d.p*a.p/255;c.k=0|d.k*a.k/255;if(this.Fd)for(a=this.B,d=0;d<a.length;d++){var e=a[d];e&&e.sb&&e.sd(c)}},aU:function(){return this.Fd},vK:function(a){this.Fd!==a&&((this.Fd=a)?this.hr():this.bA())},hr:function(){var a;a=(a=this.ea)&&a.sb&&a.Fd?a.Es():q.Db();this.sd(a)},bA:function(){var a=this.Cc,c=this.we;a.q=c.q;a.p=c.p;a.k=c.k;for(var a=this.B,c=q.Db(),d=0;d<a.length;d++){var e=a[d];e&&e.sb&&e.sd(c)}},g:function(a,
c,d){q.G.prototype.g.call(this,a,c,d);this.Fd&&this.hr();this.pe&&this.ir()},Jf:function(){},vl:function(){return!1}});
q.fa=q.Qh.extend({oa:null,Ds:function(){return this.oa},k2:function(a,c){this.T(a,c)},j2:function(a){this.T(a,this.Ba.xa)},g2:function(a){this.T(this.Ba.Ha,a)},Jf:function(){},vl:function(){return!1},t:function(a){q.Qh.prototype.t.call(this,a);this.Kd()},ta:function(a){q.Qh.prototype.ta.call(this,a);this.Kd()},xm:!1,WG:null,tB:null,MB:null,Qz:null,vB:null,uB:null,Th:function(){q.Qh.prototype.ctor.call(this);this.oa=new q.bm(q.Re,q.Qe)},Uh:function(){q.Qh.prototype.ctor.call(this);this.oa=new q.bm(q.Re,
q.Qe);this.vB=new ArrayBuffer(32);this.uB=new ArrayBuffer(64);var a=this.vB,c=this.uB,d=q.Jb.BYTES_PER_ELEMENT,e=q.ke.BYTES_PER_ELEMENT;this.WG=[new q.Jb(0,0,a,0),new q.Jb(0,0,a,d),new q.Jb(0,0,a,2*d),new q.Jb(0,0,a,3*d)];this.tB=[new q.ke(0,0,0,1,c,0),new q.ke(0,0,0,1,c,e),new q.ke(0,0,0,1,c,2*e),new q.ke(0,0,0,1,c,3*e)];this.MB=q.aa.createBuffer();this.Qz=q.aa.createBuffer()},Kl:function(a,c){this.oa=1==arguments.length?a:{src:a,Qb:c};q.Qd===q.rg&&(this.xm=this.oa&&1==this.oa.src&&771==this.oa.Qb)},
w:function(a,c,d){if(!q.Sc.prototype.w.call(this))return!1;q.Qd!==q.rg&&this.$g(q.Sh.f().zi(q.hN));var e=q.da.f().ac;a=a||new q.Zb(0,0,0,255);c=c||e.width;d=d||e.height;e=this.Cc;e.q=a.q;e.p=a.p;e.k=a.k;e=this.we;e.q=a.q;e.p=a.p;e.k=a.k;this.Gg=this.dc=a.N;this.T(c,d);this.Kd();return!0},T:null,OP:function(a,c){var d=this.WG;2===arguments.length?(d[1].x=a,d[2].y=c,d[3].x=a,d[3].y=c,this.NF(),q.Sc.prototype.T.call(this,a,c)):(d[1].x=a.width,d[2].y=a.height,d[3].x=a.width,d[3].y=a.height,this.NF(),
q.Sc.prototype.T.call(this,a))},Kd:null,yQ:function(){},zQ:function(){for(var a=this.Cc,c=this.dc,d=this.tB,e=0;4>e;e++)d[e].q=a.q/255,d[e].p=a.p/255,d[e].k=a.k/255,d[e].N=c/255;this.MF()},sd:function(a){q.Qh.prototype.sd.call(this,a);this.Kd()},td:function(a){q.Qh.prototype.td.call(this,a);this.Kd()},NF:function(){var a=q.aa;a.bindBuffer(a.ARRAY_BUFFER,this.MB);a.bufferData(a.ARRAY_BUFFER,this.vB,a.STATIC_DRAW)},MF:function(){var a=q.aa;a.bindBuffer(a.ARRAY_BUFFER,this.Qz);a.bufferData(a.ARRAY_BUFFER,
this.uB,a.STATIC_DRAW)},Wa:null,Oj:function(a){a=a||q.aa;var c=this.c(),d=q.qa.f(),e=this.Cc;a.fillStyle="rgba("+(0|e.q)+","+(0|e.p)+","+(0|e.k)+","+this.dc/255+")";a.fillRect(0,0,c.width*d.va,-c.height*d.Ca);q.Ch++},Bg:function(a){a=a||q.aa;q.Py(this);q.He(q.ih|q.BN);a.bindBuffer(a.ARRAY_BUFFER,this.MB);a.vertexAttribPointer(q.Ue,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Qz);a.vertexAttribPointer(q.Dq,4,a.FLOAT,!1,0,0);q.pk(this.oa.src,this.oa.Qb);a.drawArrays(a.TRIANGLE_STRIP,0,4)}});
q.Ja.ad?(q.fa.prototype.ctor=q.fa.prototype.Uh,q.fa.prototype.T=q.fa.prototype.OP,q.fa.prototype.Kd=q.fa.prototype.zQ,q.fa.prototype.Wa=q.fa.prototype.Bg):(q.fa.prototype.ctor=q.fa.prototype.Th,q.fa.prototype.T=q.Qh.prototype.T,q.fa.prototype.Kd=q.fa.prototype.yQ,q.fa.prototype.Wa=q.fa.prototype.Oj);q.fa.create=function(a,c,d){var e=new q.fa;switch(arguments.length){case 0:e.w();break;case 1:e.w(a);break;case 3:e.w(a,c,d);break;default:e.w()}return e};
q.TE=q.fa.extend({XG:null,Mo:null,kp:null,No:null,im:null,av:!1,tr:null,sr:null,ctor:function(){q.fa.prototype.ctor.call(this);this.XG=new q.Ac(0,0,0);this.Mo=new q.Ac(0,0,0);this.im=q.a(0,-1);this.No=this.kp=255;this.tr=q.a(0,0);this.sr=q.a(0,0)},T:function(a,c){2===arguments.length?q.fa.prototype.T.call(this,a,c):q.fa.prototype.T.call(this,a);this.Kd()},j6:function(){return this.we},jba:function(a){this.t(a)},iaa:function(a){this.Mo=a;this.Kd()},r4:function(){return this.Mo},kba:function(a){this.kp=
a;this.Kd()},k6:function(){return this.kp},jaa:function(a){this.No=a;this.Kd()},s4:function(){return this.No},Cba:function(a){this.im.x=a.x;this.im.y=a.y;this.Kd()},K6:function(){return q.a(this.im.x,this.im.y)},z7:function(){return this.av},Z$:function(a){this.av=a;this.Kd()},w:function(a,c,d){a=a||q.ZB(0,0,0,255);c=c||q.ZB(0,0,0,255);d=d||q.a(0,-1);var e=this.XG,f=this.Mo;e.q=a.q;e.p=a.p;e.k=a.k;this.kp=a.N;f.q=c.q;f.p=c.p;f.k=c.k;this.No=c.N;this.im=d;this.av=!0;q.fa.prototype.w.call(this,q.j(a.q,
a.p,a.k,255));return!0},Wa:function(a){if(q.Qd===q.Fk)q.fa.prototype.Wa.call(this,a);else{a=a||q.aa;this.xm&&(a.globalCompositeOperation="lighter");a.save();var c=q.qa.f(),d=this.dc/255,e=this.c().width*c.va,c=this.c().height*c.Ca,f=a.createLinearGradient(this.tr.x,this.tr.y,this.sr.x,this.sr.y),g=this.Cc,h=this.Mo;f.addColorStop(0,"rgba("+Math.round(g.q)+","+Math.round(g.p)+","+Math.round(g.k)+","+(this.kp/255*d).toFixed(4)+")");f.addColorStop(1,"rgba("+Math.round(h.q)+","+Math.round(h.p)+","+Math.round(h.k)+
","+(this.No/255*d).toFixed(4)+")");a.fillStyle=f;a.fillRect(0,0,e,-c);0!=this.FP&&a.rotate(this.Z0);a.restore()}},Kd:function(){var a=this.im;if(q.Qd===q.rg){var c=0.5*this.c().width,d=0.5*this.c().height;this.tr.x=c*-a.x+c;this.tr.y=d*a.y-d;this.sr.x=c*a.x+c;this.sr.y=d*-a.y-d}else if(d=q.iD(a),0!==d){c=Math.sqrt(2);a=q.a(a.x/d,a.y/d);this.av&&(a=q.qj(a,1/(Math.abs(a.x)+Math.abs(a.y))*c));var e=this.dc/255,f=this.Cc,g=this.Mo,d=f.q/255,h=f.p/255,f=f.k/255,k=this.kp*e/255,l=g.q/255,m=g.p/255,g=g.k/
255,e=this.No*e/255,p=this.tB,t=p[0],u=p[1],w=p[2],p=p[3];t.q=l+(c+a.x+a.y)/(2*c)*(d-l);t.p=m+(c+a.x+a.y)/(2*c)*(h-m);t.k=g+(c+a.x+a.y)/(2*c)*(f-g);t.N=e+(c+a.x+a.y)/(2*c)*(k-e);u.q=l+(c-a.x+a.y)/(2*c)*(d-l);u.p=m+(c-a.x+a.y)/(2*c)*(h-m);u.k=g+(c-a.x+a.y)/(2*c)*(f-g);u.N=e+(c-a.x+a.y)/(2*c)*(k-e);w.q=l+(c+a.x-a.y)/(2*c)*(d-l);w.p=m+(c+a.x-a.y)/(2*c)*(h-m);w.k=g+(c+a.x-a.y)/(2*c)*(f-g);w.N=e+(c+a.x-a.y)/(2*c)*(k-e);p.q=l+(c-a.x-a.y)/(2*c)*(d-l);p.p=m+(c-a.x-a.y)/(2*c)*(h-m);p.k=g+(c-a.x-a.y)/(2*c)*
(f-g);p.N=e+(c-a.x-a.y)/(2*c)*(k-e);this.MF()}}});q.TE.create=function(a,c,d){var e=new q.TE;switch(arguments.length){case 2:if(e&&e.w(a,c))return e;break;case 3:if(e&&e.w(a,c,d))return e;break;case 0:if(e&&e.w())return e;break;default:throw"Arguments error ";}return null};
q.UE=q.Sc.extend({Pk:0,mh:null,l7:function(a){this.mh=[];this.mh.push(a);this.Pk=0;this.g(a);return!0},MT:function(a){this.mh=a;this.Pk=0;this.g(this.mh[this.Pk]);return!0},gca:function(a){a>=this.mh.length?q.log("cc.LayerMultiplex.switchTo():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.mh[this.Pk],!0),this.Pk=a,this.g(this.mh[a]))},hca:function(a){a>=this.mh.length?q.log("cc.LayerMultiplex.switchToAndReleaseMe():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.mh[this.Pk],
!0),this.mh[this.Pk]=null,this.Pk=a,this.g(this.mh[a]))},r1:function(a){a?this.mh.push(a):q.log("cc.Layer.addLayer(): layer should be non-null")}});q.UE.create=function(){0<arguments.length&&null==arguments[arguments.length-1]&&q.log("parameters should not be ending with null in Javascript");var a=new q.UE;return a.MT(arguments)?a:null};function ha(a,c,d,e,f){var g=10;e<2*g&&(g=e/2);f<2*g&&(g=f/2);a.beginPath();a.moveTo(c+g,d);a.arcTo(c+e,d,c+e,d+f,g);a.arcTo(c+e,d+f,c,d+f,g);a.arcTo(c,d+f,c,d,g);a.arcTo(c,d,c+e,d,g);a.closePath()}q.az=-1;
q.Gp=function(a){function c(){var c=q.Gp,e=a.width,h=a.height;d[0].width=e;d[0].height=h;d[1].width=e;d[1].height=h;d[2].width=e;d[2].height=h;d[3].width=e;d[3].height=h;c.canvas.width=e;c.canvas.height=h;var k=c.canvas.getContext("2d");k.drawImage(a,0,0);c.mE.width=e;c.mE.height=h;for(var k=k.getImageData(0,0,e,h).data,l=0;4>l;l++){var m=d[l].getContext("2d");m.getImageData(0,0,e,h).data;c.yL.drawImage(a,0,0);for(var p=c.yL.getImageData(0,0,e,h),t=p.data,u=0;u<k.length;u+=4)t[u]=0===l?k[u]:0,t[u+
1]=1===l?k[u+1]:0,t[u+2]=2===l?k[u+2]:0,t[u+3]=k[u+3];m.putImageData(p,0,0)}a.onload=null}if(a.hasOwnProperty("channelCache"))return a.xR;var d=[document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas")];try{c()}catch(e){a.onload=c}return a.xR=d};q.Gp.canvas=document.createElement("canvas");q.Gp.mE=document.createElement("canvas");q.Gp.yL=q.Gp.mE.getContext("2d");
q.oI=function(a,c,d,e){d||(d=q.rect(0,0,a.width,a.height),d=q.uq(d));c=c instanceof q.ke?q.j(255*c.q,255*c.p,255*c.k,255*c.N):q.j(c.q,c.p,c.k,255);e=e||document.createElement("canvas");var f=e.getContext("2d");e.width!=d.width&&(e.width=d.width);e.height!=d.height&&(e.height=d.height);f.clearRect(0,0,d.width,d.height);f.save();f.globalCompositeOperation="destination-atop";f.globalAlpha=c.N/255;if(254>c.q||254>c.p||254>c.k)f.fillStyle="rgb("+c.q+","+c.p+","+c.k+")",f.fillRect(0,0,d.width,d.height);
f.drawImage(a,d.x,d.y,d.width,d.height,0,0,d.width,d.height);f.restore();return e};
q.pC=function(a,c,d,e,f){e||(e=q.rect(0,0,a.width,a.height));a=null==d.N?q.Cw(d.q/255,d.p/255,d.k/255,1):d;d=Math.min(e.width,c[0].width);var g=Math.min(e.height,c[0].height),h;f?(h=f.getContext("2d"),h.clearRect(0,0,d,g)):(f=document.createElement("canvas"),f.width=d,f.height=g,h=f.getContext("2d"));h.save();h.globalCompositeOperation="lighter";var k=h.globalAlpha;0<a.q&&(h.globalAlpha=a.q*k,h.drawImage(c[0],e.x,e.y,d,g,0,0,d,g));0<a.p&&(h.globalAlpha=a.p*k,h.drawImage(c[1],e.x,e.y,d,g,0,0,d,g));
0<a.k&&(h.globalAlpha=a.k*k,h.drawImage(c[2],e.x,e.y,d,g,0,0,d,g));1>a.q+a.p+a.k&&(h.globalAlpha=k,h.drawImage(c[3],e.x,e.y,d,g,0,0,d,g));h.restore();return f};q.SH=function(a,c){if(!a)return null;if(!c)return a;var d=document.createElement("canvas");d.width=c.width;d.height=c.height;var e=d.getContext("2d");e.translate(d.width/2,d.height/2);e.rotate(-1.5707963267948966);e.drawImage(a,c.x,c.y,c.height,c.width,-c.height/2,-c.width/2,c.height,c.width);return d};
q.e0=function(a,c,d,e,f,g){this.scale=c;this.rotation=d;this.Ql=e;this.visible=g};q.ug=function(a){return 0|a};q.kN&&(q.ug=function(a){return a});
q.v=q.Ib.extend({sb:!0,Sa:null,jd:0,pb:null,Na:!1,$h:null,Si:null,dl:!1,Vm:null,oa:null,Ga:null,za:null,kd:!1,nc:null,ii:null,xc:!1,hc:!1,ic:!1,ub:!1,Zd:null,yG:null,ip:null,oo:null,Xr:!1,Jg:null,mB:null,lB:null,oB:!1,AL:function(){return this.ub},bg:function(a,c){this.Zd.push({eventCallback:a,pi:c})},oe:function(){for(var a=this.Zd,c=0,d=a.length;c<d;c++){var e=a[c];e.eventCallback.call(e.pi,this)}a.length=0},jJ:function(){return this.Na},Zg:function(a){this.Na=a},e8:function(){return this.kd},F3:function(){return this.jd},
Oe:function(a){this.jd=a},DC:function(){return q.rect(this.za.x,this.za.y,this.za.width,this.za.height)},GI:function(){return this.Sa},gq:function(a){this.Sa=a},i6:function(){return this.pb},iba:function(a){this.pb=a},q5:function(){return this.nc},Ds:function(){return this.oa},Ke:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrame(): spriteFrame should be non-null";a.ub||(this.ub=!1,a.bg(this.rB,this));var c=this.Qa(a.ia(),a.od());this.aq(a);return c},rB:null,nQ:function(a){this.bb();this.fb(a.od(),
a.zd,a.yd);this.oe()},mQ:function(a){this.bb();this.fb(a.od(),a.zd,a.yd);a=this.Cd();255===a.q&&255===a.p&&255===a.k||this.Yu();this.oe()},aJ:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";a=q.wg.f().Gh(a);return this.Ke(a)},Lca:function(a){this.Sa=a.Sa;this.pb=a},ZD:function(a){this.za.x=a.x;this.za.y=a.y;this.za.width=a.width;this.za.height=a.height},he:function(){if(this.xe){for(var a,c,d=this.B,e,f=1;f<d.length;f++){c=d[f];a=f-1;for(e=d[a];0<=
a&&(c.kb<e.kb||c.kb==e.kb&&c.Tf<e.Tf);)d[a+1]=e,a-=1,e=d[a];d[a+1]=c}this.pb&&this.yg(d,q.G.Of.he);this.xe=!1}},Vs:function(a,c){if(!a)throw"cc.Sprite.reorderChild(): child should be non-null";-1===this.B.indexOf(a)?q.log("cc.Sprite.reorderChild(): this child is not in children list"):c!==a.kb&&(this.pb&&!this.xe&&(this.iB(),this.pb.iK(!0)),q.G.prototype.Vs.call(this,a,c))},removeChild:function(a,c){this.pb&&this.pb.Fn(a);q.G.prototype.removeChild.call(this,a,c)},lc:function(a){var c=this.B,d=this.pb;
if(d&&null!=c)for(var e=0,f=c.length;e<f;e++)d.Fn(c[e]);q.G.prototype.lc.call(this,a);this.Si=!1},zK:function(a){this.$h=a;this.Zg(a);a=this.B;if(null!=a)for(var c=0;c<a.length;c++)a[c]instanceof q.v&&a[c].zK(!0)},gh:function(){this.pb&&!this.$h&&(this.Na=this.$h=!0,this.Si&&this.zK(!0))},n:function(a,c){2<=arguments.length?q.G.prototype.n.call(this,a,arguments[1]):q.G.prototype.n.call(this,a);this.gh()},Hx:function(a){q.G.prototype.Hx.call(this,a);this.gh()},Ix:function(a){q.G.prototype.Ix.call(this,
a);this.gh()},Jx:function(a){q.G.prototype.Jx.call(this,a);this.gh()},Kx:function(a){q.G.prototype.Kx.call(this,a);this.gh()},Lx:function(a){q.G.prototype.Lx.call(this,a);this.gh()},eq:function(a){q.G.prototype.eq.call(this,a);this.gh()},Ln:function(a){q.G.prototype.Ln.call(this,a);this.gh()},vk:function(a,c){q.G.prototype.vk.call(this,a,c);this.gh()},eL:function(a){q.G.prototype.eL.call(this,a);this.gh()},C:function(a,c){2===arguments.length?q.G.prototype.C.call(this,a,c):q.G.prototype.C.call(this,
a);this.gh()},D:function(a){q.G.prototype.D.call(this,a);this.gh()},lj:function(a){this.pb?q.log("cc.Sprite.ignoreAnchorPointForPosition(): it is invalid in cc.Sprite when using SpriteBatchNode"):q.G.prototype.lj.call(this,a)},KW:function(a){this.hc!=a&&(this.hc=a,this.fb(this.za,this.kd,this.Ba),this.bb())},LW:function(a){this.ic!=a&&(this.ic=a,this.fb(this.za,this.kd,this.Ba),this.bb())},G7:function(){return this.hc},H7:function(){return this.ic},Jf:null,WP:function(a){this.xc!==a&&(this.xc=a,this.ot())},
VP:function(a){this.xc!==a&&(this.xc=a,this.bb())},vl:function(){return this.xc},td:null,CQ:function(a){q.Ib.prototype.td.call(this,a);this.ot()},kH:function(a){q.Ib.prototype.td.call(this,a);this.Jm()},eaa:function(a,c){if(!a)throw"cc.Sprite.setDisplayFrameWithAnimationName(): animationName must be non-null";var d=q.Zl.f().pI(a);d?(d=d.se[c])?this.aq(d.Gh()):q.log("cc.Sprite.setDisplayFrameWithAnimationName(): Invalid frame index"):q.log("cc.Sprite.setDisplayFrameWithAnimationName(): Frame not found")},
I3:function(){return this.pb},iB:function(){if(!this.xe){this.xe=!0;for(var a=this.ea;a&&a!=this.pb;)a.iB(),a=a.getParent()}},ia:function(){return this.Ga},Vb:null,Vv:null,xf:!1,Pq:!1,xm:!1,Uf:null,Rm:null,Ko:null,ctor:null,Uh:function(a){q.Ib.prototype.ctor.call(this);this.dl=!1;this.nc=q.Jd();this.ii=q.Jd();this.oa={src:q.Re,Qb:q.Qe};this.za=q.rect(0,0,0,0);this.Vb=new q.pc;this.Vv=q.aa.createBuffer();this.ub=this.xf=!0;this.Zd=[];this.ip=!0;this.oo=!1;if(a)if("string"===typeof a)a=q.wg.f().Gh(a),
this.Ke(a);else if("object"===typeof a)if(a instanceof q.Vd)this.Ke(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new q.gc;c.kf(a);c.ce();this.Qa(c)}else a instanceof q.gc&&this.Qa(a)},Th:function(a){q.Ib.prototype.ctor.call(this);this.dl=!1;this.nc=q.Jd();this.ii=q.Jd();this.oa={src:q.Re,Qb:q.Qe};this.za=q.rect(0,0,0,0);this.yG=!1;this.ub=!0;this.Zd=[];this.Rm={x:0,y:0,width:0,height:0,Wl:!1};this.Ko=q.size(0,0);this.ip=!0;this.oo=!1;if(a)if("string"===typeof a)a=
q.wg.f().Gh(a),this.Ke(a);else if("object"===typeof a)if(a instanceof q.Vd)this.Ke(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new q.gc;c.kf(a);c.ce();this.Qa(c)}else a instanceof q.gc&&this.Qa(a)},K5:function(){return this.Vb},Kl:null,KP:function(a,c){var d=this.oa;1===arguments.length?(d.src=a.src,d.Qb=a.Qb):(d.src=a,d.Qb=c)},JP:function(a,c){var d=this.oa;1===arguments.length?(d.src=a.src,d.Qb=a.Qb):(d.src=a,d.Qb=c);this.xm=d&&(770==d.src&&1==d.Qb||1==d.src&&
1==d.Qb)},w:null,vA:function(){if(0<arguments.length)return this.mj(arguments[0],arguments[1]);q.Ib.prototype.w.call(this);this.Na=this.$h=!1;this.xc=!0;this.oa.src=q.Re;this.oa.Qb=q.Qe;this.ka(null);this.ub=!0;this.hc=this.ic=!1;this.C(0.5,0.5);this.nc.H=0;this.nc.Q=0;this.Si=!1;var a={q:255,p:255,k:255,N:255};this.Vb.Oa.U=a;this.Vb.$a.U=a;this.Vb.Xa.U=a;this.Vb.Ra.U=a;this.xf=!0;this.fb(q.vd(),!1,q.fm());return!0},uA:function(){if(0<arguments.length)return this.mj(arguments[0],arguments[1]);q.Ib.prototype.w.call(this);
this.Na=this.$h=!1;this.xc=!0;this.oa.src=q.Re;this.oa.Qb=q.Qe;this.ka(null);this.ub=!0;this.hc=this.ic=!1;this.C(0.5,0.5);this.nc.H=0;this.nc.Q=0;this.Si=!1;this.fb(q.vd(),!1,q.fm());return!0},mj:function(a,c){if(!a)throw"cc.Sprite.initWithFile(): filename should be non-null";var d=q.ja.f().Wx(a);if(!d)d=q.ja.f().na(a);else if(!c){var e=d.c();c=q.rect(0,0,e.width,e.height)}return this.Qa(d,c)},Qa:null,xr:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";
d=d||!1;if(!q.Ib.prototype.w.call(this))return!1;this.pb=null;this.Na=this.$h=!1;this.xc=!0;this.oa.src=q.Re;this.oa.Qb=q.Qe;this.hc=this.ic=!1;this.C(0.5,0.5);this.nc.H=0;this.nc.Q=0;this.Si=!1;var e=new q.Zb(255,255,255,255),f=this.Vb;f.Oa.U=e;f.$a.U=e;f.Xa.U=e;f.Ra.U=e;this.ub=e=a.Rg();if(!e)return this.kd=d||!1,c&&(e=this.za,e.x=c.x,e.y=c.y,e.width=c.width,e.height=c.height),a.bg(this.kw,this),!0;c||(e=a.c(),c=q.rect(0,0,e.width,e.height));this.ka(a);this.fb(c,d,c.Va);this.Pe(null);return this.xf=
!0},wr:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";d=d||!1;if(!q.Ib.prototype.w.call(this))return!1;this.pb=null;this.Na=this.$h=!1;this.xc=!0;this.oa.src=q.Re;this.oa.Qb=q.Qe;this.hc=this.ic=!1;this.C(0.5,0.5);this.nc.H=0;this.nc.Q=0;this.Si=!1;var e=a.Rg();this.ub=e;if(!e)return this.kd=d||!1,c&&(this.za.x=c.x,this.za.y=c.y,this.za.width=c.width,this.za.height=c.height),a.bg(this.kw,this),!0;c||(e=a.c(),c=q.rect(0,0,e.width,e.height));this.Uf=
a;this.ka(a);this.fb(c,d,c.Va);this.Pe(null);return!0},kw:null,sQ:function(a){if(!this.ub){this.ub=!0;var c=this.za;if(!c)c=a.c(),c=q.rect(0,0,c.width,c.height);else if(q.Nr(c)){var d=a.c();c.width=d.width;c.height=d.height}this.ka(a);this.fb(c,this.kd,c.Va);this.Pe(null);this.xf=!0;this.oe()}},rQ:function(a){if(!this.ub){this.ub=!0;var c=this.za;if(!c)c=a.c(),c=q.rect(0,0,c.width,c.height);else if(q.Nr(c)){var d=a.c();c.width=d.width;c.height=d.height}this.Uf=a;this.ka(a);this.fb(c,this.kd,c.Va);
this.Pe(null);this.oe()}},fb:null,RG:function(a,c,d){this.kd=c||!1;d=d||a.Va;this.T(d);this.ZD(a);this.QG(a);c=this.ii;this.hc&&(c.H=-c.H);this.ic&&(c.Q=-c.Q);a=this.za;if(this.rL){d=q.qa.f().va;var e=q.qa.f().Ca;a.width/=d;a.height/=e}this.nc.H=c.H+(this.Ba.Ha-a.width)/2;this.nc.Q=c.Q+(this.Ba.xa-a.height)/2;if(this.pb)this.Na=!0;else{c=0+this.nc.H;d=0+this.nc.Q;e=c+a.width;a=d+a.height;var f=this.Vb;f.Oa.A={x:c,y:d,z:0};f.$a.A={x:e,y:d,z:0};f.Xa.A={x:c,y:a,z:0};f.Ra.A={x:e,y:a,z:0};this.xf=!0}},
jB:function(a,c,d){this.kd=c||!1;d=d||a.Va;this.T(d);this.ZD(a);c=this.Rm;var e=q.bd();c.x=0|a.x*e;c.y=0|a.y*e;var f=this.Ko,g=(this.pb&&this.Sa?this.Sa.ia():this.Ga)?this.ia().c():q.size(d.width,d.height);a.width>g.width||a.height>g.height?(c.width=0|g.width*e,c.height=0|g.height*e,f.width=0|d.width*e,f.height=0|d.height*e):(c.width=0|a.width*e,c.height=0|a.height*e,f.width=c.width,f.height=c.height);c.Wl=!(0===c.width||0===c.height);f.Wl=!(0===f.width||0===f.height);a=this.ii;this.hc&&(a.H=-a.H);
this.ic&&(a.Q=-a.Q);this.nc.H=a.H+(this.Ba.Ha-this.za.width)/2;this.nc.Q=a.Q+(this.Ba.xa-this.za.height)/2;this.pb&&(this.Na=!0)},pg:null,KQ:function(){if(this.Na){var a=this.Vb,c=this.ea;if(!this.ya||c&&c!=this.pb&&c.dl)a.$a.A={x:0,y:0,z:0},a.Xa.A={x:0,y:0,z:0},a.Ra.A={x:0,y:0,z:0},a.Oa.A={x:0,y:0,z:0},this.dl=!0;else{this.dl=!1;var d=this.Vm=c&&c!=this.pb?q.Yl(this.gg(),c.Vm):this.gg(),e=this.za.Va,c=this.nc.H,f=this.nc.Q,g=c+e.width,e=f+e.height,h=d.gb,k=d.hb,l=d.N,m=d.k,p=d.d,d=-d.La,t=this.ww;
a.Oa.A={x:q.ug(c*l-f*d+h),y:q.ug(c*m+f*p+k),z:t};a.$a.A={x:q.ug(g*l-f*d+h),y:q.ug(g*m+f*p+k),z:t};a.Xa.A={x:q.ug(c*l-e*d+h),y:q.ug(c*m+e*p+k),z:t};a.Ra.A={x:q.ug(g*l-e*d+h),y:q.ug(g*m+e*p+k),z:t}}this.Sa.by(a,this.jd);this.$h=!1;this.Zg(!1)}this.Si&&this.yg(this.B,q.G.Of.pg);q.Ej&&(a=[q.a(this.Vb.Oa.A.x,this.Vb.Oa.A.y),q.a(this.Vb.$a.A.x,this.Vb.$a.A.y),q.a(this.Vb.Ra.A.x,this.Vb.Ra.A.y),q.a(this.Vb.Xa.A.x,this.Vb.Xa.A.y)],q.Ae.be(a,4,!0))},JQ:function(){if(this.Na){var a=this.ea;!this.ya||a&&a!=
this.pb&&a.dl?this.dl=!0:(this.dl=!1,this.Vm=a&&a!=this.pb?q.Yl(this.gg(),a.Vm):this.gg());this.Na=this.$h=!1}this.Si&&this.yg(this.B,q.G.Of.pg)},g:null,xz:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.kb);null==d&&(d=a.Bd);if(this.pb){if(!(a instanceof q.v)){q.log("cc.Sprite.addChild(): cc.Sprite only supports cc.Sprites as children when using cc.SpriteBatchNode");return}a.ia().li!==this.Sa.ia().li&&q.log("cc.Sprite.addChild(): cc.Sprite only supports a sprite using same texture as children when using cc.SpriteBatchNode");
this.pb.appendChild(a);this.xe||this.iB()}q.G.prototype.g.call(this,a,c,d);this.Si=!0},wz:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.kb);null==d&&(d=a.Bd);q.G.prototype.g.call(this,a,c,d);this.Si=!0},ot:function(){var a=this.Cc,c=this.dc,a={q:a.q,p:a.p,k:a.k,N:c};this.xc&&(a.q*=c/255,a.p*=c/255,a.k*=c/255);c=this.Vb;c.Oa.U=a;c.$a.U=a;c.Xa.U=a;c.Ra.U=a;this.pb&&(this.jd!=q.az?this.Sa.by(c,this.jd):this.Na=!0);this.xf=!0},ta:null,hB:function(a){q.Ib.prototype.ta.call(this,
a);this.ot()},Sr:function(a){q.Ib.prototype.ta.call(this,a);this.Jm()},t:null,fB:function(a){q.Ib.prototype.t.call(this,a);this.ot()},Qr:function(a){var c=this.Cd();if(c.q!==a.q||c.p!==a.p||c.k!==a.k)q.Ib.prototype.t.call(this,a),this.Yu(),this.Jm()},sd:null,BQ:function(a){q.Ib.prototype.sd.call(this,a);this.ot()},FB:function(a){var c=this.Cd();q.Ib.prototype.sd.call(this,a);a=this.Cc;if(c.q!==a.q||c.p!==a.p||c.k!==a.k)this.Yu(),this.Jm()},aq:null,QP:function(a){this.bb();var c=a._offset;this.ii.H=
c.x;this.ii.Q=c.y;c=a.ia();a.ub||(this.ub=!1,a.bg(function(a){this.ub=!0;var c=a.ia();c!=this.Ga&&this.ka(c);this.fb(a.od(),a.zd,a.yd);this.oe()},this));c!=this.Ga&&this.ka(c);this.kd=a.zd;this.fb(a.od(),this.kd,a.yd)},PP:function(a){this.bb();var c=a._offset;this.ii.H=c.x;this.ii.Q=c.y;this.kd=a.zd;var c=a.ia(),d=a.ub;d||(this.ub=!1,a.bg(function(a){this.ub=!0;var c=a.ia();c!=this.Ga&&this.ka(c);this.fb(a.od(),a.zd,a.yd);this.oe()},this));c!=this.Ga&&this.ka(c);this.kd&&(this.Uf=c);this.fb(a.od(),
this.kd,a.yd);this.Pq=!1;d&&(a=this.Cd(),255===a.q&&255===a.p&&255===a.k||this.Yu())},lJ:null,SO:function(a){return q.cK(a.od(),this.za)&&a.ia().getName()==this.Ga.getName()&&q.WJ(a._offset,this.ii)},RO:function(a){return a.ia()!=this.Ga?!1:q.cK(a.od(),this.za)},cS:function(){return q.Vd.Pa(this.Ga,q.eo(this.za),this.kd,q.ZM(this.ii),q.$y(this.Ba))},Pe:null,IP:function(a){if(this.pb=a)this.Vm={N:1,k:0,La:0,d:1,gb:0,hb:0},this.gq(this.pb.Sa);else{this.jd=q.az;this.gq(null);this.$h=!1;this.Zg(!1);a=
this.nc.H;var c=this.nc.Q,d=a+this.za.width,e=c+this.za.height,f=this.Vb;f.Oa.A={x:a,y:c,z:0};f.$a.A={x:d,y:c,z:0};f.Xa.A={x:a,y:e,z:0};f.Ra.A={x:d,y:e,z:0};this.xf=!0}},HP:function(a){(this.pb=a)?(this.Vm={N:1,k:0,La:0,d:1,gb:0,hb:0},this.gq(this.pb.Sa)):(this.jd=q.az,this.gq(null),this.$h=!1,this.Zg(!1))},ka:null,Ur:function(a){if(a&&!(a instanceof q.gc))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.pb&&this.pb.ia()!=a?q.log("cc.Sprite.setTexture(): Batched sprites should use the same texture as the batchnode"):
(a?this.$g(q.Sh.f().zi(q.Zy)):this.$g(q.Sh.f().zi(q.hN)),this.pb||this.Ga==a||(this.Ga=a,this.Wm()))},Tr:function(a){if(a&&!(a instanceof q.gc))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.Ga!=a&&(a&&a.wc instanceof HTMLImageElement&&(this.Uf=a),this.Ga=a)},Wm:function(){this.pb?q.log("cc.Sprite._updateBlendFunc(): _updateBlendFunc doesn't work when the sprite is rendered using a cc.CCSpriteBatchNode"):this.Ga&&this.Ga.Ms()?(this.oa.src=q.Re,this.oa.Qb=q.Qe,
this.Jf(!0)):(this.oa.src=770,this.oa.Qb=771,this.Jf(!1))},Yu:function(){var a,c=this.Ga,d=this.Rm;if(c&&d.Wl&&this.Uf&&(a=c.wc)){var e=q.ja.f().HI(this.Uf.wc);e&&(this.Pq=!0,a instanceof HTMLCanvasElement&&!this.kd&&!this.yG?this.oo?q.oI(this.Uf.wc,this.Cc,d,c.wc):q.pC(a,e,this.Cc,d,a):(a=this.oo?q.oI(a,this.Cc,d):q.pC(a,e,this.Cc,d),c=new q.gc,c.kf(a),c.ce(),this.ka(c)))}},QG:function(a){a=q.eo(a);var c=this.pb?this.Sa.ia():this.Ga;if(c){var d=c.Op(),e=c.Np(),f,g=this.Vb;this.kd?(q.Xt?(c=(2*a.x+
1)/(2*d),d=c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/d,f=a.y/e,a=(a.y+a.width)/e),this.hc&&(e=f,f=a,a=e),this.ic&&(e=c,c=d,d=e),g.Oa.F.Ta=c,g.Oa.F.ua=f,g.$a.F.Ta=c,g.$a.F.ua=a,g.Xa.F.Ta=d,g.Xa.F.ua=f,g.Ra.F.Ta=d,g.Ra.F.ua=a):(q.Xt?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+a.height)/e),this.hc&&(e=c,c=d,d=e),this.ic&&(e=f,f=a,a=e),g.Oa.F.Ta=c,g.Oa.F.ua=a,g.$a.F.Ta=
d,g.$a.F.ua=a,g.Xa.F.Ta=c,g.Xa.F.ua=f,g.Ra.F.Ta=d,g.Ra.F.ua=f);this.xf=!0}},Wa:null,Bg:function(){if(this.ub){var a=q.aa,c=this.Ga;c?c.Ic&&(this.Wc.qf(),this.Wc.ah(),q.pk(this.oa.src,this.oa.Qb),q.X6(0,c),q.He(q.Eu),a.bindBuffer(a.ARRAY_BUFFER,this.Vv),this.xf&&(a.bufferData(a.ARRAY_BUFFER,this.Vb.UB,a.DYNAMIC_DRAW),this.xf=!1),a.vertexAttribPointer(0,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(1,4,a.UNSIGNED_BYTE,!0,24,12),a.vertexAttribPointer(2,2,a.FLOAT,!1,24,16),a.drawArrays(a.TRIANGLE_STRIP,0,
4)):(this.Wc.qf(),this.Wc.ah(),q.pk(this.oa.src,this.oa.Qb),q.Ng(null),q.He(q.ih|q.BN),a.bindBuffer(a.ARRAY_BUFFER,this.Vv),this.xf&&(q.aa.bufferData(q.aa.ARRAY_BUFFER,this.Vb.UB,q.aa.STATIC_DRAW),this.xf=!1),a.vertexAttribPointer(q.Ue,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(q.Dq,4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));q.Ch++;0!==q.Ej&&(1===q.Ej?(a=this.Vb,a=[q.a(a.Xa.A.x,a.Xa.A.y),q.a(a.Oa.A.x,a.Oa.A.y),q.a(a.$a.A.x,a.$a.A.y),q.a(a.Ra.A.x,a.Ra.A.y)],q.Ae.be(a,4,!0)):2===
q.Ej&&(a=this.DC().Va,c=this.nc,a=[q.a(c.x,c.y),q.a(c.x+a.width,c.y),q.a(c.x+a.width,c.y+a.height),q.a(c.x,c.y+a.height)],q.Ae.be(a,4,!0)))}},c1:function(a,c,d,e){this.mB=c;this.Jg=d;this.lB=e;this.Xr=a},b1:function(a){this.oB=a},Oj:function(a){if(this.ub){a=a||q.aa;this.xm&&(a.globalCompositeOperation="lighter");a.IT=this.ip;var c=q.qa.f().va,d=q.qa.f().Ca;a.globalAlpha=this.dc/255;var e=this.za,f=this.Ba,g=this.nc,h=this.Ko,k=0|g.H,l=-g.Q-e.height,m=this.Rm;!0==this.Xr&&(a.shadowBlur=this.mB?this.mB:
30,a.shadowColor=this.lB?this.lB:"black",a.shadowOffsetX=this.Jg?this.Jg.x:5,a.shadowOffsetY=this.Jg?this.Jg.y:5);if(this.hc||this.ic)a.save(),this.hc&&(k=-g.H-e.width,a.scale(-1,1)),this.ic&&(l=g.Q,a.scale(1,-1));k*=c;l*=d;if(this.Ga&&m.Wl)g=this.Ga.wc,this.Pq?a.drawImage(g,0,0,m.width,m.height,k,l,h.width,h.height):a.drawImage(g,m.x,m.y,m.width,m.height,k,l,h.width,h.height);else if(0!==f.Ha){var p=this.Cd();a.fillStyle="rgba("+p.q+","+p.p+","+p.k+",1)";a.fillRect(k,l,f.Ha*c,f.xa*d)}!0==this.Xr&&
(a.shadowBlur=0,a.shadowOffsetX=0,a.shadowOffsetY=0);!0==this.oB&&(a.globalAlpha=1,a.beginPath(),a.strokeStyle="rgba("+p.q+","+p.p+","+p.k+",1)",a.lineWidth="1",ha(a,k,l,f.Ha*c,f.xa*d),a.stroke());1===q.Ej?(a.strokeStyle="rgba(0,255,0,1)",k/=c,l=-(l/d),k=[q.a(k,l),q.a(k+e.width,l),q.a(k+e.width,l-e.height),q.a(k,l-e.height)],q.Ae.be(k,4,!0)):2===q.Ej&&(a.strokeStyle="rgba(0,255,0,1)",p=this.za.Va,l=-l,k=[q.a(k,l),q.a(k+p.width,l),q.a(k+p.width,l-p.height),q.a(k,l-p.height)],q.Ae.be(k,4,!0));(this.hc||
this.ic)&&a.restore();q.Ch++}}});
q.Ja.ad?(b=q.v.prototype,b.rB=q.v.prototype.nQ,b.Jf=q.v.prototype.WP,b.td=q.v.prototype.CQ,b.ctor=q.v.prototype.Uh,b.Kl=q.v.prototype.KP,b.w=q.v.prototype.vA,b.Qa=q.v.prototype.xr,b.kw=q.v.prototype.sQ,b.fb=q.v.prototype.RG,b.pg=q.v.prototype.KQ,b.g=q.v.prototype.xz,b.ta=q.v.prototype.hB,b.t=q.v.prototype.fB,b.sd=q.v.prototype.BQ,b.aq=q.v.prototype.QP,b.lJ=q.v.prototype.SO,b.Pe=q.v.prototype.IP,b.ka=q.v.prototype.Ur,b.Wa=q.v.prototype.Bg):(b=q.v.prototype,b.rB=q.v.prototype.mQ,b.Jf=q.v.prototype.VP,
b.td=q.v.prototype.kH,b.ctor=q.v.prototype.Th,b.Kl=q.v.prototype.JP,b.w=q.v.prototype.uA,b.Qa=q.v.prototype.wr,b.kw=q.v.prototype.rQ,b.fb=q.v.prototype.jB,b.pg=q.v.prototype.JQ,b.g=q.v.prototype.wz,b.ta=q.v.prototype.Sr,b.t=q.v.prototype.Qr,b.sd=q.v.prototype.FB,b.aq=q.v.prototype.PP,b.lJ=q.v.prototype.RO,b.Pe=q.v.prototype.HP,b.ka=q.v.prototype.Tr,b.Wa=q.v.prototype.Oj);
q.v.Pa=function(a,c){var d=arguments.length,e=new q.v;switch(d){case 1:return e&&e.Qa(a)?e:null;case 2:return e&&e.Qa(a,c)?e:null;default:throw"Sprite.createWithTexture(): Argument must be non-nil ";}};q.v.create=function(a,c){var d=arguments.length,e=new q.v;if(0===d){if(e.w())return e}else if(e&&e.w(a,c))return e;return null};
q.v.RH=function(a){var c=null;if("string"==typeof a){if(c=q.wg.f().Gh(a),!c)return q.log("Invalid spriteFrameName: "+a),null}else return q.log("Invalid argument. Expecting string."),null;return(a=new q.v)&&a.Ke(c)?a:null};q.v.QH=function(a){var c=new q.v;return c&&c.Ke(a)?c:null};Object.defineProperties(q.v.prototype,{Qba:{get:function(){return this.ip},set:function(a){this.ip=a},enumerable:!0},E1:{get:function(){return this.oo},set:function(a){this.oo=a},enumerable:!0}});q.zj=q.Ma.extend({Yr:null,qe:0,qs:null,ctor:function(){this.qe=0},clone:function(){var a=new q.zj;a.Ke(this.Yr.clone(),this.qe,this.qs);return a},Hw:function(){return q.clone(this)},copy:function(){var a=new q.zj;a.Ke(this.Yr.clone(),this.qe,this.qs);return a},Ke:function(a,c,d){this.Yr=a;this.qe=c;this.qs=d;return!0},Gh:function(){return this.Yr},Kf:function(a){this.Yr=a},j4:function(){return this.qe},daa:function(a){this.qe=a},I6:function(){return this.qs},Aba:function(a){this.qs=a}});
q.yj=q.Ma.extend({se:null,Zj:0,Gm:!1,Fa:0,qe:0,Tm:0,ctor:function(){this.se=[]},C4:function(){return this.se},EK:function(a){this.se=a},SB:function(a){var c=new q.zj;c.Ke(a,1,null);this.se.push(c);this.Tm++},v1:function(a){a=q.ja.f().na(a);var c=q.vd();c.Va=a.c();a=q.Vd.Pa(a,c);this.SB(a)},w1:function(a,c){var d=q.Vd.Pa(a,c);this.SB(d)},Ns:function(a,c,d){q.ut(a,q.zj);this.qe=c;this.Zj=d;this.EK([]);for(c=0;c<a.length;c++)d=a[c],this.se.push(d),this.Tm+=d.qe;return!0},clone:function(){var a=new q.yj;
a.Ns(this.UF(),this.qe,this.Zj);a.Gx(this.Gm);return a},Hw:function(){var a=new q.yj;a.Ns(this.UF(),this.qe,this.Zj);a.Gx(this.Gm);return a},UF:function(){for(var a=[],c=0;c<this.se.length;c++)a.push(this.se[c].clone());return a},copy:function(){return this.Hw(null)},S4:function(){return this.Zj},Aaa:function(a){this.Zj=a},Gx:function(a){this.Gm=a},S5:function(){return this.Gm},Df:function(){return this.Tm*this.qe},i4:function(){return this.qe},caa:function(a){this.qe=a},z6:function(){return this.Tm},
bJ:function(a,c){q.ut(a,q.Vd);this.Zj=1;this.qe=c||0;this.EK([]);if(a)for(var d=0;d<a.length;d++){var e=a[d],f=new q.zj;f.Ke(e,1,null);this.se.push(f);this.Tm++}return!0},mK:function(){},eK:function(){}});q.yj.create=function(a,c,d){var e=arguments.length,f=new q.yj;0==e?f.bJ(null,0):2==e?f.bJ(a,c||0):3==e&&f.Ns(a,c,d);return f};q.yj.PH=function(a,c,d){var e=new q.yj;e.Ns(a,c,d);return e};q.Zl=q.Ma.extend({wH:function(a,c){this.lm[c]=a},j$:function(a){a&&this.lm.hasOwnProperty(a)&&delete this.lm[a]},pI:function(a){return this.lm.hasOwnProperty(a)?this.lm[a]:null},KN:function(a,c){var d=a.animations;if(d){var e=1,f=a.properties;if(f)for(var e=null!=f.format?parseInt(f.format):e,f=f.spritesheets,g=q.wg.f(),h=q.Td.f(),k,l=0;l<f.length;l++)k=h.nI(f[l],c),g.DH(k);switch(e){case 1:this.kP(d);break;case 2:this.lP(d);break;default:q.log("cc.AnimationCache. Invalid animation format")}}else q.log("cocos2d: cc.AnimationCache: No animations were found in provided dictionary.")},
m1:function(a){if(!a)throw"cc.AnimationCache.addAnimations(): Invalid texture file name";var c=q.Td.f(),d=c.Ee(a);(c=c.Jw(d))?this.KN(c,a):q.log("cc.AnimationCache.addAnimations(): File could not be found")},kP:function(a){var c=q.wg.f(),d;for(d in a){var e=a[d],f=e.frames,e=parseFloat(e.delay)||0,g=null;if(f){for(var g=[],h=0;h<f.length;h++){var k=c.Gh(f[h]);if(k){var l=new q.zj;l.Ke(k,1,null);g.push(l)}else q.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+f[h]+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}0===
g.length?q.log("cocos2d: cc.AnimationCache: None of the frames for animation '"+d+"' were found in the cc.SpriteFrameCache. Animation is not being added to the Animation Cache."):(g.length!=f.length&&q.log("cocos2d: cc.AnimationCache: An animation in your dictionary refers to a frame which is not in the cc.SpriteFrameCache. Some or all of the frames for the animation '"+d+"' may be missing."),g=q.yj.PH(g,e,1),q.Zl.f().wH(g,d))}else q.log("cocos2d: cc.AnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},
lP:function(a){var c=q.wg.f(),d;for(d in a){var e=a[d],f=parseInt(e.loops),f=e.loop?q.em:isNaN(f)?1:f,g=e.restoreOriginalFrame&&!0==e.restoreOriginalFrame?!0:!1,h=e.frames;if(h){for(var k=[],l=0;l<h.length;l++){var m=h[l],p=m.spriteframe,t=c.Gh(p);if(t){var p=parseFloat(m.delayUnits)||0,m=m.notification,u=new q.zj;u.Ke(t,p,m);k.push(u)}else q.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+p+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}e=
parseFloat(e.delayPerUnit)||0;h=new q.yj;h.Ns(k,e,f);h.Gx(g);q.Zl.f().wH(h,d)}else q.log("cocos2d: CCAnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},w:function(){this.lm={};return!0},lm:null});q.Zl.pV=function(){q.In&&(q.In.lm=null,q.In=null)};q.Zl.f=function(){null===q.In&&(q.In=new q.Zl,q.In.w());return q.In};q.In=null;q.Vd=q.Ma.extend({_offset:null,yd:null,Ze:null,zd:!1,za:null,Sf:null,uf:null,Ga:null,pp:"",ub:!1,jv:null,ctor:function(){this._offset=q.Jd();this.Sf=q.Jd();this.yd=q.Km();this.zd=!1;this.uf=q.Km();this.pp="";this.Ga=null;this.ub=!1},AL:function(){return this.ub},bg:function(a,c){null==this.jv&&(this.jv=[]);this.jv.push({eventCallback:a,pi:c})},oe:function(){var a=this.jv;if(a){for(var c=0,d=a.length;c<d;c++){var e=a[c];e.eventCallback.call(e.pi,this)}a.length=0}},TS:function(){var a=this.Ze;return q.rect(a.x,
a.y,a.width,a.height)},$aa:function(a){this.Ze||(this.Ze=q.rect(0,0,0,0));this.Ze.x=a.x;this.Ze.y=a.y;this.Ze.width=a.width;this.Ze.height=a.height;this.za=q.uq(a)},X7:function(){return this.zd},eba:function(a){this.zd=a},od:function(){var a=this.za;return q.rect(a.x,a.y,a.width,a.height)},TK:function(a){this.za||(this.za=q.rect(0,0,0,0));this.za.x=a.x;this.za.y=a.y;this.za.width=a.width;this.za.height=a.height;this.Ze=q.eo(this.za)},p5:function(){return this.Sf},Oaa:function(a){this.Sf.H=a.x;this.Sf.Q=
a.y;q.Lu(this.Sf,this._offset)},w5:function(){return this.uf},Raa:function(a){this.uf.Ha=a.width;this.uf.xa=a.height},OS:function(){return this.yd},Qaa:function(a){this.yd.Ha=a.width;this.yd.xa=a.height},ia:function(){if(this.Ga)return this.Ga;if(""!==this.pp){var a=q.ja.f().na(this.pp);a&&(this.ub=a.Rg());return a}return null},ka:function(a){if(this.Ga!=a){var c=a.Rg();this.ub=c;this.Ga=a;c||a.bg(function(a){this.ub=!0;if(this.zd&&q.Qd===q.rg){var c=a.wc,c=q.SH(c,this.od()),f=new q.gc;f.kf(c);f.ce();
this.ka(f);c=this.od();this.TK(q.rect(0,0,c.width,c.height))}c=this.za;0===c.width&&0===c.height&&(a=a.c(),this.za.width=a.width,this.za.height=a.height,this.Ze=q.eo(this.za),this.uf.Ha=this.Ze.width,this.uf.xa=this.Ze.height,this.yd.Ha=a.width,this.yd.xa=a.height);this.oe()},this)}},o5:function(){return this._offset},Naa:function(a){this._offset.H=a.x;this._offset.Q=a.y},clone:function(){var a=new q.Vd;a.Zw(this.pp,this.Ze,this.zd,this.Sf,this.uf);a.ka(this.Ga);return a},Hw:function(){var a=new q.Vd;
a.Zw(this.pp,this.Ze,this.zd,this.Sf,this.uf);a.ka(this.Ga);return a},copy:function(){return this.Hw()},Qa:function(a,c,d,e,f){2===arguments.length&&(c=q.eo(c));e=e||q.a(0,0);f=f||c.Va;this.ka(a);this.Ze=c;this.za=q.uq(c);this.Sf.H=e.x;this.Sf.Q=e.y;q.Lu(e,this._offset);this.uf.Ha=f.width;this.uf.xa=f.height;q.qz(f,this.yd);this.zd=d||!1;return!0},Zw:function(a,c,d,e,f){2===arguments.length&&(c=q.eo(c));e=e||q.a(0,0);f=f||c.Va;this.Ga=null;this.pp=a;this.Ze=c;this.za=q.uq(c);this.zd=d||!1;this.Sf.H=
e.x;this.Sf.Q=e.y;q.Lu(e,this._offset);this.uf.Ha=f.width;this.uf.xa=f.height;q.qz(f,this.yd);return!0}});q.Vd.create=function(a,c,d,e,f){var g=new q.Vd;switch(arguments.length){case 2:g.Zw(a,c);break;case 5:g.Zw(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};q.Vd.Pa=function(a,c,d,e,f){var g=new q.Vd;switch(arguments.length){case 2:g.Qa(a,c);break;case 5:g.Qa(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};
q.Vd.F0=function(a,c,d,e,f){var g=new q.Vd;g.Ga=a;g.Ze=c;g.za=q.uq(c);g.Sf.H=e.x;g.Sf.Q=e.y;q.Lu(g.Sf,g._offset);g.uf.Ha=f.width;g.uf.xa=f.height;q.qz(g.uf,g.yd);g.zd=d;return g};q.wg=q.Ma.extend({af:null,el:null,Dr:null,ctor:function(){this.af={};this.el={};this.Dr=[]},zz:function(a,c){var d=a.metadata||a.meta,e=a.frames,f=0;d&&(f=d.format,f=1>=f.length?parseInt(f):f);if(0>f||3<f)q.log("format is not supported for cc.SpriteFrameCache.addSpriteFramesWithDictionary");else for(var g in e)if(d=e[g]){var h=this.af[g];if(!h){if(0==f){var h=parseFloat(d.x),k=parseFloat(d.y),l=parseFloat(d.width),m=parseFloat(d.height),p=parseFloat(d.offsetX),t=parseFloat(d.offsetY),u=parseInt(d.originalWidth),
d=parseInt(d.originalHeight);u&&d||q.log("cocos2d: WARNING: originalWidth/Height not found on the cc.SpriteFrame. AnchorPoint won't work as expected. Regenrate the .plist");u=Math.abs(u);d=Math.abs(d);h=q.Vd.Pa(c,q.rect(h,k,l,m),!1,q.a(p,t),q.size(u,d))}else if(1==f||2==f)h=q.lF(d.frame),k=!1,2==f&&(k=d.rotated),l=q.kF(d.offset),d=q.cz(d.sourceSize),h=q.Vd.Pa(c,h,k,l,d);else if(3==f){var h=q.cz(d.spriteSize),k=q.kF(d.spriteOffset),l=q.cz(d.spriteSourceSize),m=q.lF(d.textureRect),p=d.textureRotated,
t=d.aliases,u=g.toString(),w;for(w in t)this.el.hasOwnProperty(t[w])&&q.log("cocos2d: WARNING: an alias with name "+w+" already exists"),this.el[t[w]]=u;d.hasOwnProperty("spriteSize")&&(m=q.rect(m.x,m.y,h.width,h.height));h=q.Vd.Pa(c,m,p,k,l)}else var B=d.filename,k=d.frame,h=d.sourceSize,k=q.rect(k.x,k.y,k.PL,k.h),d=d.rotated,l=q.a(0,0),h=q.size(h.PL,h.h),h=q.Vd.Pa(c,k,d,l,h);q.Qd===q.rg&&h.zd&&h.ia().Rg()&&(d=h.ia().wc,d=q.SH(d,h.TS()),k=new q.gc,k.kf(d),k.ce(),h.ka(k),d=h.za,h.TK(q.rect(0,0,d.width,
d.height)));this.af[null!=B?B:g]=h}}},DH:function(a,c){if(!a)throw"cc.SpriteFrameCache.addSpriteFrames(): plist should be non-null";var d=q.Td.f(),e;"plist"==a.substr(a.lastIndexOf(".",a.length)+1,a.length)?(e=d.Ee(a),e=d.Jw(e)):e=JSON.parse(d.FI(a));switch(arguments.length){case 1:if(!q.ly(this.Dr,a)){var f="",g=e.metadata||e.meta;g&&(f=g.textureFileName||g.image);""!=f?f=d.nI(f,a):(f=a,f=f.substr(0,f.lastIndexOf(".",f.length)),f+=".png");(d=q.ja.f().na(f))?this.zz(e,d):q.log("cocos2d: cc.SpriteFrameCache: Couldn't load texture")}break;
case 2:if(c instanceof q.gc)this.zz(e,c);else{if(!c)throw"cc.SpriteFrameCache.addSpriteFrames(): texture name should not be null";(d=q.ja.f().na(c))?this.zz(e,d):q.log("cocos2d: cc.SpriteFrameCache: couldn't load texture file. File not found "+c)}break;default:throw"Argument must be non-nil ";}},SB:function(a,c){this.af[c]=a},r$:function(){this.af=[];this.el=[];this.Dr={}},q$:function(a){a&&(this.el.hasOwnProperty(a)&&delete this.el[a],this.af.hasOwnProperty(a)&&delete this.af[a],this.Dr={})},s$:function(a){var c=
q.Td.f(),d=c.Ee(a),c=c.Jw(d);this.vP(c);q.ly(this.Dr,a)&&q.ie(a)},vP:function(a){a=a.frames;for(var c in a)this.af.hasOwnProperty(c)&&delete this.af[c]},t$:function(a){for(var c in this.af){var d=this.af[c];d&&d.ia()==a&&delete this.af[c]}},Gh:function(a){var c;this.af.hasOwnProperty(a)&&(c=this.af[a]);if(!c){var d;this.el.hasOwnProperty(a)&&(d=this.el[a]);d&&(this.af.hasOwnProperty(d.toString())&&(c=this.af[d.toString()]),c||q.log("cocos2d: cc.SpriteFrameCahce: Frame "+a+" not found"))}return c}});
q.zx=null;q.wg.f=function(){q.zx||(q.zx=new q.wg);return q.zx};q.wg.qV=function(){q.zx=null};q.sq=29;
q.Eb=q.G.extend({Sa:null,oa:null,Gd:null,x1:function(a,c,d){if(!a)throw"cc.SpriteBatchNode.addQuadFromSprite(): child should be non-null";if(!(a instanceof q.v))return q.log("cc.SpriteBatchNode.addQuadFromSprite(): SpriteBatchNode only supports cc.Sprites as children"),null;a.Oe(c);var e=0,f=this.Gd;if(f&&0<f.length)for(var g=0;g<f.length;g++){var h=f[g];h&&h.jd>=c&&++e}this.Gd=q.$l(f,a,e);q.G.prototype.g.call(this,a,c,d);this.iK(!1);return this},GI:function(){return this.Sa},gq:function(a){a!=this.Sa&&
(this.Sa=a)},m4:function(){return this.Gd},mj:function(a,c){var d=q.ja.f().Wx(a);d||(d=q.ja.f().na(a));return this.Qa(d,c)},Jm:function(){this.QF=!0},w:function(a,c){var d=q.ja.f().Wx(a);d||(d=q.ja.f().na(a));return this.Qa(d,c)},Tw:function(){var a=this.Sa.wd,c=Math.floor(4*(a+1)/3);q.log("cocos2d: CCSpriteBatchNode: resizing TextureAtlas capacity from "+a+" to "+c+".");this.Sa.WV(c)||q.log("cocos2d: WARNING: Not enough memory to resize the atlas")},l$:function(a,c){this.removeChild(this.B[a],c)},
bK:function(a,c){var d=a.B;if(d&&0<d.length)for(var e=0;e<d.length;e++){var f=d[e];f&&0>f.kb&&(c=this.bK(f,c))}!a==this&&(a.Oe(c),c++);if(d&&0<d.length)for(e=0;e<d.length;e++)(f=d[e])&&0<=f.kb&&(c=this.bK(f,c));return c},MC:function(a){var c=a.B;return c&&0!=c.length?this.MC(c[c.length-1]):a.jd},rU:function(a){var c=a.B;return c&&0!=c.length?this.rU(c[c.length-1]):a.jd},eR:function(a,c){var d=a.getParent().B,e=q.ny(d,a),f=a.getParent()==this,g=null;0<e&&e<q.yN&&(g=d[e-1]);if(f)return 0==e?0:this.MC(g)+
1;if(0==e)return d=a.getParent(),0>c?d.jd:d.jd+1;if(0>g.kb&&0>c||0<=g.kb&&0<=c)return this.MC(g)+1;d=a.getParent();return d.jd+1},iK:function(a){this.xe=a},Kl:function(a,c){this.oa=1==arguments.length?a:{src:a,Qb:c}},Ds:function(){return this.oa},Vs:function(a,c){if(!a)throw"cc.SpriteBatchNode.addChild():child should be non-null";-1===this.B.indexOf(a)?q.log("cc.SpriteBatchNode.addChild(): Child doesn't belong to Sprite"):c!==a.kb&&(q.G.prototype.Vs.call(this,a,c),this.bb())},removeChild:function(a,
c){null!=a&&(-1===this.B.indexOf(a)?q.log("cc.SpriteBatchNode.addChild(): sprite batch node should contain the child"):(this.Fn(a),q.G.prototype.removeChild.call(this,a,c)))},aP:null,Qm:null,j1:!1,Uf:null,ctor:null,Th:function(a){q.G.prototype.ctor.call(this);a&&this.w(a,q.sq)},Uh:function(a){q.G.prototype.ctor.call(this);this.aP=new q.Hh;a&&this.w(a,q.sq)},KL:null,GQ:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";a instanceof q.v?(a.Pe(this),a.Oe(c),
a.Zg(!0),a.pg()):q.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},HQ:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";if(a instanceof q.v){for(var d=this.Sa.wd;c>=d||d==this.Sa.Za;)this.Tw();a.Pe(this);a.Oe(c);a.Zg(!0);a.pg()}else q.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},hw:function(a,c){var d=this.Gd,e=this.Sa,f=e.Xe,g=d[a],
h=q.oz(f[a]);d[c].Oe(a);d[a]=d[c];e.by(f[c],a);d[c]=g;e.by(h,c)},cJ:null,PO:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";a instanceof q.v?(a.Pe(this),a.Oe(c),a.Zg(!0),a.pg(),this.B=q.$l(this.B,a,c)):q.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},QO:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";if(a instanceof q.v){for(var d=this.Sa;c>=d.wd||
d.wd===d.Za;)this.Tw();a.Pe(this);a.Oe(c);d.UC(a.Vb,c);a.Zg(!0);a.pg()}else q.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},jH:function(a,c){var d=0,e=a.B;e&&(d=e.length);var f=0;if(0===d)f=a.jd,a.Oe(c),a.dq(0),f!=c&&this.hw(f,c),c++;else{f=!0;0<=e[0].kb&&(f=a.jd,a.Oe(c),a.dq(0),f!=c&&this.hw(f,c),c++,f=!1);for(d=0;d<e.length;d++){var g=e[d];f&&0<=g.kb&&(f=a.jd,a.Oe(c),a.dq(0),f!=c&&this.hw(f,c),c++,f=!1);c=this.jH(g,c)}f&&(f=a.jd,a.Oe(c),
a.dq(0),f!=c&&this.hw(f,c),c++)}return c},Wm:function(){this.Sa.ia().Ms()||(this.oa.src=770,this.oa.Qb=771)},Qa:null,wr:function(a){this.B=[];this.Gd=[];this.oa=new q.bm(q.Re,q.Qe);this.Qm=this.Uf=a;return!0},xr:function(a,c){this.B=[];this.Gd=[];this.oa=new q.bm(q.Re,q.Qe);c=c||q.sq;this.Sa=new q.lo;this.Sa.Qa(a,c);this.Wm();this.$g(q.Sh.f().zi(q.Zy));return!0},UT:function(a,c){a.Pe(this);a.Oe(c);a.Zg(!0);var d=this.Sa;d.Za>=d.wd&&this.Tw();d.UC(a.Vb,c);this.Gd=q.$l(this.Gd,a,c);var d=c+1,e=this.Gd;
if(e&&0<e.length)for(;d<e.length;d++)e[d].Oe(e[d].jd+1);if((e=a.B)&&0<e.length)for(d=0;d<e.length;d++)if(e[d]){var f=this.eR(e[d],e[d].kb);this.UT(e[d],f)}},appendChild:null,QN:function(a){this.xe=!0;a.Pe(this);a.Zg(!0);this.Gd.push(a);a.Oe(this.Gd.length-1);a=a.B;for(var c=0;c<a.length;c++)this.appendChild(a[c])},RN:function(a){this.xe=!0;a.Pe(this);a.Zg(!0);this.Gd.push(a);var c=this.Gd.length-1;a.Oe(c);var d=this.Sa;d.Za==d.wd&&this.Tw();d.UC(a.Vb,c);a=a.B;for(c=0;c<a.length;c++)this.appendChild(a[c])},
Fn:null,wP:function(a){a.Pe(null);var c=this.Gd,d=q.ny(c,a);if(-1!=d){q.nq(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.Oe(f.jd-1)}}if((a=a.B)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.Fn(a[c])},xP:function(a){this.Sa.RV(a.jd);a.Pe(null);var c=this.Gd,d=q.ny(c,a);if(-1!=d){q.nq(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.Oe(f.jd-1)}}if((a=a.B)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.Fn(a[c])},ia:null,pA:function(){return this.Qm},qA:function(){return this.Sa.ia()},ka:null,Tr:function(a){this.Qm=
a;for(var c=this.B,d=0;d<c.length;d++)c[d].ka(a)},Ur:function(a){this.Sa.ka(a);this.Wm()},Aa:null,Xm:function(a){var c=a||q.aa;if(this.ya){c.save();this.transform(a);var d=this.B;if(d)for(this.he(),a=0;a<d.length;a++)d[a]&&d[a].Aa(c);c.restore()}},Ym:function(a){a=a||q.aa;if(this.ya){q.Yp();var c=this.Sk;c&&c.Vp()&&(c.WB(),this.$x());this.he();this.transform(a);this.Wa(a);c&&c.Vp()&&c.TB(this);q.Xp();this.dq(0)}},g:null,wz:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";
a instanceof q.v?(c=null==c?a.kb:c,d=null==d?a.Bd:d,q.G.prototype.g.call(this,a,c,d),this.appendChild(a),this.bb()):q.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},xz:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";a instanceof q.v?a.ia()!=this.Sa.ia()?q.log("cc.SpriteBatchNode.addChild(): cc.Sprite is not using the same texture"):(c=null==c?a.kb:c,d=null==d?a.Bd:d,q.G.prototype.g.call(this,a,c,d),this.appendChild(a),
this.bb()):q.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},lc:null,sP:function(a){var c=this.Gd;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].Pe(null);q.G.prototype.lc.call(this,a);this.Gd=[]},tP:function(a){var c=this.Gd;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].Pe(null);q.G.prototype.lc.call(this,a);this.Gd=[];this.Sa.LV()},he:null,kQ:function(){if(this.xe){var a,c=0,d=this.B,e=d.length,f;for(a=1;a<e;a++){var g=d[a],
c=a-1;for(f=d[c];0<=c&&(g.kb<f.kb||g.kb==f.kb&&g.Tf<f.Tf);)d[c+1]=f,c-=1,f=d[c];d[c+1]=g}0<d.length&&this.yg(d,q.G.Of.he);this.xe=!1}},lQ:function(){if(this.xe){var a=this.B,c,d=0,e=a.length,f;for(c=1;c<e;c++){var g=a[c],d=c-1;for(f=a[d];0<=d&&(g.kb<f.kb||g.kb==f.kb&&g.Tf<f.Tf);)a[d+1]=f,d-=1,f=a[d];a[d+1]=g}if(0<a.length)for(this.yg(a,q.G.Of.he),c=d=0;c<a.length;c++)d=this.jH(a[c],d);this.xe=!1}},Wa:null,Bg:function(){0!==this.Sa.Za&&(this.Wc.qf(),this.Wc.ah(),this.yg(this.B,q.G.Of.pg),q.pk(this.oa.src,
this.oa.Qb),this.Sa.hS())}});
q.Ja.ad?(b=q.Eb.prototype,b.ctor=q.Eb.prototype.Uh,b.KL=q.Eb.prototype.HQ,b.cJ=q.Eb.prototype.QO,b.Qa=q.Eb.prototype.xr,b.appendChild=q.Eb.prototype.RN,b.Fn=q.Eb.prototype.xP,b.ia=q.Eb.prototype.qA,b.ka=q.Eb.prototype.Ur,b.Aa=q.Eb.prototype.Ym,b.g=q.Eb.prototype.xz,b.lc=q.Eb.prototype.tP,b.he=q.Eb.prototype.lQ,b.Wa=q.Eb.prototype.Bg):(b=q.Eb.prototype,b.ctor=q.Eb.prototype.Th,b.KL=q.Eb.prototype.GQ,b.cJ=q.Eb.prototype.PO,b.Qa=q.Eb.prototype.wr,b.appendChild=q.Eb.prototype.QN,b.Fn=q.Eb.prototype.wP,
b.ia=q.Eb.prototype.pA,b.ka=q.Eb.prototype.Tr,b.Aa=q.Eb.prototype.Xm,b.lc=q.Eb.prototype.sP,b.g=q.Eb.prototype.wz,b.he=q.Eb.prototype.kQ,b.Wa=q.G.prototype.Wa);q.Eb.create=function(a,c){c=c||q.sq;var d=new q.Eb;d.w(a,c);return d};q.Eb.Pa=function(a,c){c=c||q.sq;var d=new q.Eb;d.Qa(a,c);return d};q.bZ={ZY:0,aZ:1,$Y:2,YY:3,XY:4};
q.Se=q.Ma.extend({Fr:0,tG:0,ds:!1,cs:!1,dw:!1,ew:!1,fw:!1,YO:0,Iv:0,Fq:"",jk:null,ctor:function(){this.tG=this.Fr=0;this.fw=this.ew=this.dw=this.cs=this.ds=!1;this.Iv=this.YO=0;this.Fq="";this.jk={}},Y4:function(){return this.Fr},X4:function(){return this.tG},Z4:function(){return this.Iv},cca:function(){return this.cs},dca:function(){return this.ds},aca:function(){return this.dw},bca:function(){return this.ew},eca:function(){return this.fw},Dp:function(a){return-1<this.Fq.indexOf(a)},w:function(){var a=
this.jk;a["cocos2d.x.version"]=q.Dt;a["cocos2d.x.compiled_with_profiler"]=!1;a["cocos2d.x.compiled_with_gl_state_cache"]=q.PE;return!0},P3:function(a,c){var d=this.jk;return d.hasOwnProperty(a)?d[a]:c},K3:function(a,c){null==c&&(c=!1);var d=this.jk;return d.hasOwnProperty(a)?d[a]:c},h5:function(a,c){null==c&&(c=0);var d=this.jk;return d.hasOwnProperty(a)?d[a]:c},j5:function(a){var c=this.jk;return c.hasOwnProperty(a)?c[a]:null},ZW:function(a,c){this.jk[a]=c},lS:function(){0===q.PE&&(q.log(""),q.log("cocos2d: **** WARNING **** CC_ENABLE_PROFILERS is defined. Disable it when you finish profiling (from ccConfig.js)"),
q.log(""))},wS:function(){if(q.Qd!==q.rg){var a=q.aa,c=this.jk;c["gl.vendor"]=a.getParameter(a.VENDOR);c["gl.renderer"]=a.getParameter(a.RENDERER);c["gl.version"]=a.getParameter(a.VERSION);this.Fq="";for(var d=a.getSupportedExtensions(),e=0;e<d.length;e++)this.Fq+=d[e]+" ";this.Fr=a.getParameter(a.MAX_TEXTURE_SIZE);c["gl.max_texture_size"]=this.Fr;this.Iv=a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS);c["gl.max_texture_units"]=this.Iv;this.ds=this.Dp("GL_IMG_texture_compression_pvrtc");c["gl.supports_PVRTC"]=
this.ds;this.cs=!1;c["gl.supports_NPOT"]=this.cs;this.dw=this.Dp("GL_IMG_texture_format_BGRA888");c["gl.supports_BGRA8888"]=this.dw;this.ew=this.Dp("GL_EXT_discard_framebuffer");c["gl.supports_discard_framebuffer"]=this.ew;this.fw=this.Dp("vertex_array_object");c["gl.supports_vertex_array_object"]=this.fw;q.CE()}},A8:function(a){var c=q.Td.f(),d=c.Ee(a),c=c.Jw(d);if(null!=c)if(c=c.data)for(var e in c)this.jk[e]=c[e];else q.log("Expected 'data' dict, but not found. Config file: "+a)}});q.Se.Wr=null;
q.Se.f=function(){q.Se.Wr||(q.Se.Wr=new q.Se,q.Se.Wr.w());return q.Se.Wr};q.Se.Q9=function(){q.Se.Wr=null};q.Ch=0;q.kM=0;q.ME=1;q.lM=3;q.mM=q.ME;q.gZ=0;q.eZ=1;q.hZ=2;q.fZ=3;q.dZ=2;q.kZ=q.Ma.extend({Kca:function(){}});q.QE=function(a){var c=new q.Hh;q.kU(q.eu,c);var d=new q.Hh;q.kU(q.du,d);q.nU(a,c,d)};
q.da=q.Ma.extend({R0:!1,Jr:!1,Em:!1,Uv:!1,Im:!1,kh:0,FA:0,cl:0,no:0,rm:1,$q:!1,Nk:0,mv:0,Gk:null,Ik:null,Ok:null,ac:null,Yj:null,Vi:null,Nv:null,qh:null,aj:null,QA:null,Ad:null,se:0,BB:0,eB:0,C0:null,Ig:null,jh:null,ef:null,AA:null,Ou:null,Hr:null,Q0:!1,ctor:function(){this.Yj=Date.now();if(!q.VC){var a=this;window.addEventListener("focus",function(){a.Yj=Date.now()},!1)}},CP:function(){this.Yj=Date.now()},w:function(){this.FA=this.kh=1/q.RR;this.aj=[];this.cl=q.mM;this.QA=null;this.mv=this.no=0;
this.$q=!1;this.BB=this.se=0;this.Yj=Date.now();this.Uv=this.Em=!1;this.ac=q.Km();this.qh=null;this.rm=1;this.Ig=new q.lN;this.jh=new q.VL;this.Ig.oK(this.jh,q.hu,!1);q.ra&&(this.ef=new q.ra,this.ef.w());q.bo&&(this.AA=q.bo.f());q.Ak&&(this.Ou=new q.Ak);q.me&&(this.Hr=new q.me,this.Hr.w());return!0},jR:function(){var a=Date.now();this.Jr?(this.Nk=0,this.Jr=!1):this.Nk=(a-this.Yj)/1E3;0<q.xt&&0.2<this.Nk&&(this.Nk=1/60);this.Yj=a},IR:function(a){var c=new q.Hh;q.QE(c);var d=new q.Hh;q.s8(d,c);var c=
c.Ih[14]/c.Ih[15],e=this.qh.Jp();a=new q.Zp(2*a.x/e.width-1,1-2*a.y/e.height,c);c=new q.Zp;q.pU(c,a,d);return q.a(c.x,c.y)},KR:function(a){var c=new q.Hh;q.QE(c);var d=new q.Zp;a=new q.Zp(a.x,a.y,0);q.pU(d,a,c);c=this.qh.Jp();return q.a(c.width*(0.5*d.x+0.5),c.height*(0.5*-d.y+0.5))},iS:function(){this.jR();this.Em||this.Ig.update(this.Nk);this.SF();this.Vi&&this.YW();this.Ez&&this.Ez();this.Ad&&this.Ad.Aa();this.Nv&&this.Nv.Aa();this.$q&&this.jQ();this.Az&&this.Az();this.BB++;this.$q&&this.YN()},
fO:function(){var a=this.qh.gf;q.aa.clearRect(-a.x,a.y,a.width,-a.height)},mO:function(){var a=q.aa;a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},Ez:null,Az:null,TN:function(){q.Yp()},PN:function(){q.Xp()},end:function(){this.Uv=!0},b4:function(){return this.rm},g5:function(){return this.Nv},S6:function(){return this.ac},mT:function(){return q.size(this.ac.width*this.rm,this.ac.height*this.rm)},Hs:function(){return this.qh?this.qh.Hs():this.ac},LI:function(){return this.qh?this.qh.LI():q.$M},Js:function(){return this.ac.height/
1.1566},pause:function(){this.Em||(this.FA=this.kh,this.Xs(0.25),this.Em=!0)},K9:function(){if(!this.Ad)throw"running scene should not null";this.aj.pop();var a=this.aj.length;0==a?this.end():(this.Im=!0,this.Vi=this.aj[a-1])},oD:function(){q.My.oD()},oV:function(){this.Gf().nt();this.ef&&this.ef.KV();this.Ad&&(this.Ad.Jh(),this.Ad.ee(),this.Ad.cg());this.Vi=this.Ad=null;this.aj=[];this.uL();q.My.oD();q.Zl.pV();q.wg.qV();q.ja.rV();q.CE()},sV:function(a){if(!a)throw"the scene should not null";this.Im=
!1;this.aj.push(a);this.Vi=a},jK:function(a){if(!this.Ad)throw"Use runWithScene: instead to start the director";if(!a)throw"the scene should not be null";var c=this.aj.length;0===c?(this.Im=!0,this.aj[c]=a):(this.Im=!0,this.aj[c-1]=a);this.Vi=a},lK:function(){this.Em&&(this.Xs(this.FA),(this.Yj=Date.now())||q.log("cocos2d: Director: Error in gettimeofday"),this.Em=!1,this.Nk=0)},dW:function(a){if(!a)throw"This command can only be used to start the CCDirector. There is already a scene present.";if(this.Ad)throw"_runningScene should be null";
this.sV(a);this.sL()},qW:function(a){a?q.pk(q.Re,q.Qe):q.pk(q.aa.ONE,q.aa.ZERO)},AW:function(a){a!=this.rm&&(this.rm=a,this.Go())},FW:function(a){if(q.Qd!==q.rg){var c=q.aa;a?(c.clearDepth(1),c.enable(c.DEPTH_TEST),c.depthFunc(c.LEQUAL)):c.disable(c.DEPTH_TEST)}},baa:function(){},FK:function(){this.qW(!0);this.FW(!1);this.Fx(this.cl);q.aa.clearColor(0,0,0,1)},Jaa:function(a){this.Jr=a},YW:function(){var a=!1,c=!1;q.AF&&(a=this.Ad?this.Ad instanceof q.AF:!1,c=this.Vi?this.Vi instanceof q.AF:!1);if(!c){if(c=
this.Ad)c.Jh(),c.ee();this.Im&&c&&c.cg()}this.Ad=this.Vi;this.Vi=null;a||null==this.Ad||(this.Ad.Vg(),this.Ad.xi())},Kaa:function(a){this.Nv=a},sc:function(){return this.QA},lg:function(a){this.QA=a},dX:function(a){this.ac.$D(q.canvas.width);this.ac.OD(q.canvas.height);this.qh=a||q.qa.f();q.Qd!==q.rg&&(a=q.Se.f(),a.wS(),a.lS(),this.Go(),this.FK(),this.ef&&this.ef.GW(!0))},gL:function(){if(this.qh){var a=this.ac;this.qh.DX(0,0,a.width,a.height)}},Fx:function(a){var c=this.ac;if(q.Qd===q.Fk){this.gL();
switch(a){case q.kM:q.pn(q.eu);q.$C();var d=new q.Hh;q.oU(d,0,c.width,0,c.height,-1024,1024);q.cx(d);q.pn(q.du);q.$C();break;case q.ME:var e=this.Js(),f=new q.Hh,d=new q.Hh;q.pn(q.eu);q.$C();q.t8(f,60,c.width/c.height,0.1,2*e);q.cx(f);q.pn(q.du);q.$C();e=q.Ss(null,c.width/2,c.height/2,e);c=q.Ss(null,c.width/2,c.height/2,0);f=q.Ss(null,0,1,0);q.mU(d,e,c,f);q.cx(d);break;case q.lM:break;default:q.log("cocos2d: Director: unrecognized projection")}this.cl=a;q.Waa()}else this.cl=a},jQ:function(){this.se++;
this.no+=this.Nk;this.Gk&&this.Ik&&this.Ok?(this.no>q.jM&&(this.Ik.pa(this.eB.toFixed(3)),this.mv=this.se/this.no,this.no=this.se=0,this.Gk.pa(this.mv.toFixed(1)),this.Ok.pa((0|q.Ch).toString())),this.Gk.Aa(),this.Ik.Aa(),this.Ok.Aa()):this.Go();q.Ch=0},a8:function(){return this.Im},V5:function(){return this.Ad},E3:function(){return this.kh},C7:function(){return this.$q},faa:function(a){this.$q=a},b6:function(){return this.eB},u5:function(){return this.qh},N7:function(){return this.Jr},R7:function(){return this.Em},
A6:function(){return this.BB},J5:function(){return this.cl},L9:function(){this.cV(1)},cV:function(a){if(!this.Ad)throw"A running Scene is needed";var c=this.aj,d=c.length;if(0==d)this.end();else if(!(a>d)){for(;d>a;){var e=c.pop();e.$e&&(e.Jh(),e.ee());e.cg();d--}this.Vi=c[c.length-1];this.Im=!1}},Gf:function(){return this.Ig},qX:function(a){this.Ig!=a&&(this.Ig=a)},dg:function(){return this.jh},oW:function(a){this.jh!=a&&(this.jh=a)},C6:function(){return this.ef},yba:function(a){this.ef!=a&&(this.ef=
a)},Pw:function(){if(!q.bo)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";return this.AA},xaa:function(a){if(!q.bo)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";this.AA=a},Hp:function(){if(!q.Ak)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";return this.Ou},L$:function(a){if(!q.Ak)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";this.Ou!=
a&&(this.Ou=a)},l4:function(){return this.Nk},Ff:function(){if(!q.me)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";return this.Hr},Haa:function(a){if(!q.me)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.Hr!=a&&(this.Hr=a)},Go:null,pO:function(){if(!q.Ly)return this.VF();if(null!=q.da.aG&&!1!=q.da.aG){var a=new q.gc;a.kf(q.da.hA);a.ce();var c=q.qa.f().Jp().height/320;0===c&&(c=this.ac.height/320);var d=new q.Ly;
d.gB(!0);d.ul("00.0",a,12,32,".");d.vk(c);this.Gk=d;d=new q.Ly;d.gB(!0);d.ul("0.000",a,12,32,".");d.vk(c);this.Ik=d;d=new q.Ly;d.gB(!0);d.ul("000",a,12,32,".");d.vk(c);this.Ok=d;a=q.NE;this.Ok.n(q.Xg(q.a(0,34*c),a));this.Ik.n(q.Xg(q.a(0,17*c),a));this.Gk.n(a)}},VF:function(){var a=0,a=this.ac.width>this.ac.height?0|this.ac.height/320*24:0|this.ac.width/320*24;this.Gk=q.V.create("000.0","Arial",a);this.Ik=q.V.create("0.000","Arial",a);this.Ok=q.V.create("0000","Arial",a);var a=q.NE,c=this.Ok.c();this.Ok.n(q.Xg(q.a(c.width/
2,5*c.height/2),a));c=this.Ik.c();this.Ik.n(q.Xg(q.a(c.width/2,3*c.height/2),a));c=this.Gk.c();this.Gk.n(q.Xg(q.a(c.width/2,c.height/2),a))},YN:function(){this.eB=(Date.now()-this.Yj)/1E3}});q.Ja.ad?(q.da.prototype.SF=q.da.prototype.mO,q.da.prototype.Ez=q.da.prototype.TN,q.da.prototype.Az=q.da.prototype.PN,q.da.prototype.Go=q.da.prototype.pO):(q.da.prototype.SF=q.da.prototype.fO,q.da.prototype.Go=q.da.prototype.VF);
q.nM=q.da.extend({invalid:!1,sL:function(){this.Jr=!0;this.invalid=!1;q.Aj.f().Xs(this.kh)},DJ:function(){this.Uv?(this.Uv=!1,this.oV()):this.invalid||this.iS()},uL:function(){this.invalid=!0},Xs:function(a){this.kh=a;this.invalid||(this.uL(),this.sL())}});q.yx=null;q.hI=!0;q.da.f=function(){q.hI&&(q.hI=!1,q.yx=new q.nM,q.yx.w(),q.yx.dX(q.qa.f()));return q.yx};Object.defineProperties(q,{Zca:{get:function(){return q.bS.ac},enumerable:!0,configurable:!0}});q.t3=!0;q.RR=60;q.da.hA=new Image;
q.da.hA.addEventListener("load",function(){q.da.aG=!0;this.removeEventListener("load",arguments.callee,!1)});q.da.hA.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAAgCAYAAAD9qabkAAAKQ2lDQ1BJQ0MgcHJvZmlsZQAAeNqdU3dYk/cWPt/3ZQ9WQtjwsZdsgQAiI6wIyBBZohCSAGGEEBJAxYWIClYUFRGcSFXEgtUKSJ2I4qAouGdBiohai1VcOO4f3Ke1fXrv7e371/u855zn/M55zw+AERImkeaiagA5UoU8Otgfj09IxMm9gAIVSOAEIBDmy8JnBcUAAPADeXh+dLA//AGvbwACAHDVLiQSx+H/g7pQJlcAIJEA4CIS5wsBkFIAyC5UyBQAyBgAsFOzZAoAlAAAbHl8QiIAqg0A7PRJPgUA2KmT3BcA2KIcqQgAjQEAmShHJAJAuwBgVYFSLALAwgCgrEAiLgTArgGAWbYyRwKAvQUAdo5YkA9AYACAmUIszAAgOAIAQx4TzQMgTAOgMNK/4KlfcIW4SAEAwMuVzZdL0jMUuJXQGnfy8ODiIeLCbLFCYRcpEGYJ5CKcl5sjE0jnA0zODAAAGvnRwf44P5Dn5uTh5mbnbO/0xaL+a/BvIj4h8d/+vIwCBAAQTs/v2l/l5dYDcMcBsHW/a6lbANpWAGjf+V0z2wmgWgrQevmLeTj8QB6eoVDIPB0cCgsL7SViob0w44s+/zPhb+CLfvb8QB7+23rwAHGaQJmtwKOD/XFhbnauUo7nywRCMW735yP+x4V//Y4p0eI0sVwsFYrxWIm4UCJNx3m5UpFEIcmV4hLpfzLxH5b9CZN3DQCshk/ATrYHtctswH7uAQKLDljSdgBAfvMtjBoLkQAQZzQyefcAAJO/+Y9AKwEAzZek4wAAvOgYXKiUF0zGCAAARKCBKrBBBwzBFKzADpzBHbzAFwJhBkRADCTAPBBCBuSAHAqhGJZBGVTAOtgEtbADGqARmuEQtMExOA3n4BJcgetwFwZgGJ7CGLyGCQRByAgTYSE6iBFijtgizggXmY4EImFINJKApCDpiBRRIsXIcqQCqUJqkV1II/ItchQ5jVxA+pDbyCAyivyKvEcxlIGyUQPUAnVAuagfGorGoHPRdDQPXYCWomvRGrQePYC2oqfRS+h1dAB9io5jgNExDmaM2WFcjIdFYIlYGibHFmPlWDVWjzVjHVg3dhUbwJ5h7wgkAouAE+wIXoQQwmyCkJBHWExYQ6gl7CO0EroIVwmDhDHCJyKTqE+0JXoS+cR4YjqxkFhGrCbuIR4hniVeJw4TX5NIJA7JkuROCiElkDJJC0lrSNtILaRTpD7SEGmcTCbrkG3J3uQIsoCsIJeRt5APkE+S+8nD5LcUOsWI4kwJoiRSpJQSSjVlP+UEpZ8yQpmgqlHNqZ7UCKqIOp9aSW2gdlAvU4epEzR1miXNmxZDy6Qto9XQmmlnafdoL+l0ugndgx5Fl9CX0mvoB+nn6YP0dwwNhg2Dx0hiKBlrGXsZpxi3GS+ZTKYF05eZyFQw1zIbmWeYD5hvVVgq9ip8FZHKEpU6lVaVfpXnqlRVc1U/1XmqC1SrVQ+rXlZ9pkZVs1DjqQnUFqvVqR1Vu6k2rs5Sd1KPUM9RX6O+X/2C+mMNsoaFRqCGSKNUY7fGGY0hFsYyZfFYQtZyVgPrLGuYTWJbsvnsTHYF+xt2L3tMU0NzqmasZpFmneZxzQEOxrHg8DnZnErOIc4NznstAy0/LbHWaq1mrX6tN9p62r7aYu1y7Rbt69rvdXCdQJ0snfU6bTr3dQm6NrpRuoW623XP6j7TY+t56Qn1yvUO6d3RR/Vt9KP1F+rv1u/RHzcwNAg2kBlsMThj8MyQY+hrmGm40fCE4agRy2i6kcRoo9FJoye4Ju6HZ+M1eBc+ZqxvHGKsNN5l3Gs8YWJpMtukxKTF5L4pzZRrmma60bTTdMzMyCzcrNisyeyOOdWca55hvtm82/yNhaVFnMVKizaLx5balnzLBZZNlvesmFY+VnlW9VbXrEnWXOss623WV2xQG1ebDJs6m8u2qK2brcR2m23fFOIUjynSKfVTbtox7PzsCuya7AbtOfZh9iX2bfbPHcwcEh3WO3Q7fHJ0dcx2bHC866ThNMOpxKnD6VdnG2ehc53zNRemS5DLEpd2lxdTbaeKp26fesuV5RruutK10/Wjm7ub3K3ZbdTdzD3Ffav7TS6bG8ldwz3vQfTw91jicczjnaebp8LzkOcvXnZeWV77vR5Ps5wmntYwbcjbxFvgvct7YDo+PWX6zukDPsY+Ap96n4e+pr4i3z2+I37Wfpl+B/ye+zv6y/2P+L/hefIW8U4FYAHBAeUBvYEagbMDawMfBJkEpQc1BY0FuwYvDD4VQgwJDVkfcpNvwBfyG/ljM9xnLJrRFcoInRVaG/owzCZMHtYRjobPCN8Qfm+m+UzpzLYIiOBHbIi4H2kZmRf5fRQpKjKqLupRtFN0cXT3LNas5Fn7Z72O8Y+pjLk722q2cnZnrGpsUmxj7Ju4gLiquIF4h/hF8ZcSdBMkCe2J5MTYxD2J43MC52yaM5zkmlSWdGOu5dyiuRfm6c7Lnnc8WTVZkHw4hZgSl7I/5YMgQlAvGE/lp25NHRPyhJuFT0W+oo2iUbG3uEo8kuadVpX2ON07fUP6aIZPRnXGMwlPUit5kRmSuSPzTVZE1t6sz9lx2S05lJyUnKNSDWmWtCvXMLcot09mKyuTDeR55m3KG5OHyvfkI/lz89sVbIVM0aO0Uq5QDhZML6greFsYW3i4SL1IWtQz32b+6vkjC4IWfL2QsFC4sLPYuHhZ8eAiv0W7FiOLUxd3LjFdUrpkeGnw0n3LaMuylv1Q4lhSVfJqedzyjlKD0qWlQyuCVzSVqZTJy26u9Fq5YxVhlWRV72qX1VtWfyoXlV+scKyorviwRrjm4ldOX9V89Xlt2treSrfK7etI66Trbqz3Wb+vSr1qQdXQhvANrRvxjeUbX21K3nShemr1js20zcrNAzVhNe1bzLas2/KhNqP2ep1/XctW/a2rt77ZJtrWv913e/MOgx0VO97vlOy8tSt4V2u9RX31btLugt2PGmIbur/mft24R3dPxZ6Pe6V7B/ZF7+tqdG9s3K+/v7IJbVI2jR5IOnDlm4Bv2pvtmne1cFoqDsJB5cEn36Z8e+NQ6KHOw9zDzd+Zf7f1COtIeSvSOr91rC2jbaA9ob3v6IyjnR1eHUe+t/9+7zHjY3XHNY9XnqCdKD3x+eSCk+OnZKeenU4/PdSZ3Hn3TPyZa11RXb1nQ8+ePxd07ky3X/fJ897nj13wvHD0Ivdi2yW3S609rj1HfnD94UivW2/rZffL7Vc8rnT0Tes70e/Tf/pqwNVz1/jXLl2feb3vxuwbt24m3Ry4Jbr1+Hb27Rd3Cu5M3F16j3iv/L7a/eoH+g/qf7T+sWXAbeD4YMBgz8NZD+8OCYee/pT/04fh0kfMR9UjRiONj50fHxsNGr3yZM6T4aeypxPPyn5W/3nrc6vn3/3i+0vPWPzY8Av5i8+/rnmp83Lvq6mvOscjxx+8znk98ab8rc7bfe+477rfx70fmSj8QP5Q89H6Y8en0E/3Pud8/vwv94Tz+4A5JREAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfcAgcQLxxUBNp/AAAQZ0lEQVR42u2be3QVVZbGv1N17829eRLyIKAEOiISEtPhJTJAYuyBDmhWjAEx4iAGBhxA4wABbVAMWUAeykMCM+HRTcBRWkNH2l5moS0LCCrQTkYeQWBQSCAIgYRXEpKbW/XNH5zS4noR7faPEeu31l0h4dSpvc+t/Z199jkFWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhY/H9D/MR9qfKnLj/00U71aqfJn9+HCkCR/Wk36ddsgyJ/1wF4fkDfqqm9/gPsUeTnVr6a2xlQfnxdI7zs0W7irzD17Ytb2WT7EeNv/r4ox1O3Quf2QP2pgt9utwfout4FQE8AVBSlnaRmfvAURQkg2RlAbwB9AThlW5L0GaiKojhJhgOIBqDa7XaPrusdPtr5kQwF0BVAAoBIABRCKDd5aFUhRDAAw57eAOwAhKIoupft3zoqhB1AqLwuHIBut9uFt02qqvqRDJR2dAEQJj/BAOjn56dqmma+xiaECAEQAWAggLsB6A6HQ2iaZggBhBAqgEAAnQB0kzaEmT4hAITT6VQ8Ho/HJAKKECJQtr8LwD1y/A1/vcdfEUIEyfZ9AcQbYvZ942Px88L2UwlJR0dH0EMPPbRj5syZPUeNGrXR7Xb/641xIwJ1XY9NSUlZm52dfW+XLl1w8uRJzJ8//+OGhoYJqqqe1TSt1Wsm9NN1PSIqKmr12rVrR5WUlHy1bdu2AQCumWc3IYRD1/UwVVXnFRQUTIuNjUVzczN2797dWFJSkq8oymZd15sAGAEnFEUJ1nX9nzIzM1dnZmZGh4SE4OTJk5g5c+Zf29vbp9pstrMej6fVOyhIhgAYU1hY+B+hoaGoqKg4XVlZea+XTULTNFdCQsLGiRMnPuR2u3UhBOV9eeDAAWXTpk095DUe6WsoyRE5OTlr0tLSAux2O/bs2cO5c+e+pijKUpIXSHaQVAGkvPLKK++6XK4OksJLCFlXV2cvKSlJBFAjhU+x2WwhHo9nUHp6+urMzMy7wsLCUF9fjxdffPHjxsbGiTab7WuPx9NiEutOuq4PyMjI+M+srKyYqKgoHD58GDNmzNjq8XhyVFU9b/q+LH7hBAEYu3PnTlZVVRFAGgCX6f/tAHoOHDjwa0p27txp/JO9e/f+QM7cipw9nfL3kQBKt2zZQpJ87rnn6mQmoHilw2EACs+cOUOSrK+vZ1NTE0nyo48+IoBpxswoBcMJ4Ndjx471kOTFixe5d+9ekqTH42H//v13A4jyzpAURfEH0H/OnDnthu1z5sw558MmFUCPWbNmnaMP3nrrLZoyDmP8Hl68eDFJ8siRI9/Yc+zYMQKYKdtAztrTrl27xptRXV1NAKMAOAyBBBA/Y8aMdpLs6Ojgxx9//E37+++//29yvFXppwvAwMcee8xjtDHsuXLlCqOjo//ia3wsfpkoALqFhoZuIckJEyackimm3dQmEMDUmpoakmRISMhhAHOHDx/eQJIbN24kgKEyMAHAFRMTs2XXrl1saWkhSZ0kp0+ffhrAr3wEW/S8efOukORLL72kA1gKYMPWrVtJkk899dRJAHeYrgsEsIQkjx8/TgDvAPjd448/3kaSb7zxBmUa7vC6z53BwcFbSHL9+vU6Sc6aNes8gF5ewWAH0PfVV18lSQL4DMBGIcQ6AKtcLleBFC2jXtFt8ODBe0iyoqKCAJYByC8qKmJDQwOzsrK+MAmqo1OnTveHhoa+GRkZ+XZkZOSWiIiIvzgcjk9mzpypkWRmZuZpmbYbGV4AgPnNzc1sa2sjgN0A5iQmJtaSZHl5OQHcb/K3s81mW0uSTU1NBFAFYFbfvn1Pk+Tbb79NAA8IIVzW42/hByA+Pz/fLR/2ZXIda05NI/z9/TeR5J49ewhgqlxTrtI0jY2NjQQw3zTLuWJiYjaUlJToS5Ys6fjkk080kwDEeAmADcA9GzZsIElGRUW9CyAWwLApU6Y0kOSKFSsog9QICGdERMTGsrIyZmVlEcC9AB4IDw/fTpLbtm0jgN94CUAnAJmVlZVcs2aNZ/LkyRdJcvbs2b4EwAkgZfPmzTxw4AABFAN4BkC6vFeUSewcAO5duXIlSTIhIaEawGMAxgKYAmAGgCS73e5vrKVk/yGythANYEhCQsIhkly+fDkBpKqqGmL6DgIALDKN/3yZpVWQZGVlJQE8aPI3KiMjo5okV61aRQAjAPQBMPfIkSN0u90EUCBtsPiFEwpgbn19PdetW2fM5N4zQ9ekpKQqkty0aRMBpMjiWM6JEydIkoqirJUFJ6iq6pAPVy8A6cZMehMBUACEuVyuFwG8HBwcPEIWx367ZMkSjSQXLVrUJouTRorrkAHdA8BdQogsAOsKCwtJkmPGjDkvMw2bDDo/ADEjRoz4XylyFbm5uY0mAbjLyyZ/AOOrq6tZVlbWsWDBgo69e/eyoqKCgwcPPg4gSQaoIRbp27dvN7KF+tLSUr28vJwFBQXtMpvpYRIM7+wrAkDeqVOnePbsWQIoNKfzpiXPg8uXLydJJicnNwF4f+nSpW6STEtLq5fjYwhk1wkTJtSQ5Ouvv04AqTKj+N2xY8dIkgEBAW/Ie1v8wncRegwZMmQvSfbr12+3Ua33WqPfOWbMmP0kWVpaSgCDZAqcfejQIWNZsEGKgvnh9gfQb9myZd8nAEJVVZtMkUNk8CcNHTq0liR1XWdYWNhmH1mJIme80OnTp18x1rp5eXkEsNJms92Fb7e/IgEsvHz5Mp999tkmAI/l5uZeMC0B7vEqqAYAyL106RJJsra2lpWVld+sucePH38ZQG+5NncBeOrgwYMkqbe3t/Po0aOsra011wAWyl0H7x0JJ4DE+fPnu0kyPT29DsDdUrBuyNKEEAkAdpw/f/6GeoEM8GUmfwEgPCIiopwkGxsbabPZPgOw6L777vvm4p49e26VGYjFLxUhhD+ApLKyMp44ccIoVnXybgbgzkcfffRzklyzZg0BDJYCMMmoCwQFBXkLgLGWvvcWAgBToSsKwNPTp09vMR7UuLi4rwH0lgU8c/Db5ezbeeTIkRWzZ8++aMxu+fn5BPCADBwHgP4LFy701NXVEUAJgAnPP/98kyxMNgHo53A4zH77BQQETMvPz7+Um5vbBuAlAFMSExPPmdbVL0qh8Acw8fDhw5SCchVAEYAVb775JknyhRdeaJYztHfxMwLAaqNwCGC2FArv8x0hAHKNLGPKlCme5OTk/Zs3bzb7O0wKiiG8KXl5ed8IxenTp0mSR48e1UmyW7duWywBuD2xyQcgFECgoih+8H1gyJgZV5Lkyy+/3CbTRIePtl2HDBmyw1QBHyGDdXZdXR1JUghRKkXBjOMHCoBdpr0L3nvvPZLkF198wejo6O0A4lVVDTb74HQ6AwD8Wq7Jh8rgGgDgQ13XjVR8qaxJuADMbmlpYXl5uV5UVNRWUFDgfv/993Vj/ZydnU1c37eHXML4S3viAcQqitJD2l104cIFY8lTKsXSBWBMVVWVcd9yed2A1NTUQ6Zl00CvLMMOoHdubm6zFIlWOf5+PsY/Kj09vdrU11QAwwGsv3jxIk21m2DZr10I0RXAuAcffPBgaWkpV69eTYfDcdiwUxY0w6xw+flX8L1xApjevXv3lREREaW6rofB93aPDUDQpEmTMgHgtddeqwBwEd/utZvpqK6uPgEAcXFxkA94NwB9unfvjrNnz4LklwDcf08iIqv66Zs2bXrl4YcfxooVKxAbG7uqrq5uAYA2TdOEqqpGYIi2tjbl6aeffu/YsWPv5uTk7JaC1wHg4Pnz542MwoVvTx+21dbWYvjw4WLixIl+2dnZ9lGjRgmSTE1NRUpKCkwFTGiaxtTU1OXTpk3707Bhw/6g67pDipnT4biuj7qut+Lbk3Vf1tTUXI9qu91Pjq1QFEUBgJaWFgBo8yGOQ8eNGxcAAOvXr/8QwBUfYygAKL169eoCABcuXACAWtn2hOGv0+kMNO1KiPDw8F4A4rZv3/7R1KlTR0+bNu1ht9u9r1+/fqitrQXJgwDarRC6/QjPzs4+QJIffPCB9/aQmSAA43ft2mW0e1QGoi8CAPyLsZccExNTC2BlRkbGRdOyYJCP2csBIN6UAZzCd7cBbQCijYp/dXU1ExMTz6SmptaMHj36f9LS0vYlJCRsl6mxIWSdu3fv/g5J7t+/nwC2AShMTk6+SJKff/45AWRLYbD7+fndAeDf5BJnLoCCyZMnt5JkdnZ2C4B/F0KEm1Pu+Pj4rST55ZdfEsBWAK+mpaVdMo3raDn7KwDuSEpK+m+S3LBhAwG8DuCtHTt2UBbpjgC408vvcFVV15HkuXPnjMp+p5uMf0RcXNyHJNnQ0EBVVfcCWBQXF3fG+Jv0yxABPwB5LS0tRmFxN4BlTzzxxGWSXLx4sS5F3GGFy+1Hp5SUlJq6ujoWFxdTpsZ2H+0iIyMj/0iSWVlZX5mr5jfJFroPGzasxlhTnjp1iiTZ3NxMl8tlrCd9pfa9SkpKSJI5OTmnZOageLUZZqxvfVFWVkZcPwdgNwnSCKPqb17jkmR8fPzfZMDZ5CRsFBmNI7h95s2b1yhT7/MAYmStwCx4vy0uLqa3v5qmEcCfvSr1QQAeXb16NY3Cm3HQ55133iGAp+SxZTNhKSkpfzUddkrFjYevzAQCeGjp0qXfsYckY2NjTwD4leGDLCL2HTdunNtoY+zWSHFcIHdsFCtcfuZ1vO9Eqs3m7/F47sb1k2qX/f3997W2tl7BjWfpBYDOzzzzzIVJkyZh0KBBCwEsB3AJvl9AETabLcDj8dwRFRW1ctasWb8JCgpSzp07d62wsPC/Wltb8xRFadR1/ZqPXYbgAQMGbI2Pjw/+6quv9ldVVT0r01ezuPRJSUn5Y9euXXVd11WzDaqq6kePHm3+7LPPRgO4KlNuxWazhXo8nuTk5OSXMjIyEl0uFxoaGtqKior+dPXq1VdUVT0jj7r68ieoT58+vx8yZMjdx48fP1JVVTVF9m20VW02WyfZf97YsWPjXS4X6urqWvPy8jYCWCyEuEDS8FdVFKWzruv//OSTTy5OTk7uqWkaPv3007qysrJ8RVH+LI8ym8/rB3Tu3HnRI488knLo0KG2ffv2ZQI4C98vP6mqqoZqmpaclpa2cOTIkX39/f3R0NDQUVxc/G5TU9PLqqrWa5rWLH1QVFUN0TStX1JSUvH48eP7BwYG4uDBg1cKCgpeBbBe2u+2Qug2EwD5N5sMPuNtMe8XP4TT6Qxoa2sbIGeXvUKIK7d4IISiKC5d1wPljOfA9bPwzYqiXNV13dd6Uqiq6qdpml2mpe02m63d4/G4vcTF5fF47LJf71nJA6BZVVW3pmntuPHlmAD5wk6Q9NnbHp9vHaqq6tA0zU/64PZhk1FfCZB9G/23ALiqKEqzD39tpvbGUqoFwFUhRLP3yzpCCDtJpxyXDulfG27+pqRR3DXsUWVd4Yq0x/taVQjhIhksC8L+ABpM9ljBf5sKwI8pIBr75L5E4vvu+UNeG/a+hv+AL7yFH8qPtOfHjtOP6V/Bja8D6z/B2Nys/1u9Xv33tLf4GfF/LC4GCJwByWIAAAAASUVORK5CYII\x3d";q.qq=q.Ma.extend({nr:null,or:null,pr:null,Bo:null,Co:null,Do:null,ns:null,os:null,ps:null,Na:null,Ev:null,ctor:function(){this.Ev=new q.Hh;this.restore()},description:function(){return"\x3cCCCamera | center \x3d("+this.Bo+","+this.Co+","+this.Do+")\x3e"},Zg:function(a){this.Na=a},jJ:function(){return this.Na},restore:function(){this.nr=this.or=0;this.pr=q.qq.Js();this.ns=this.Bo=this.Co=this.Do=0;this.os=1;this.ps=0;q.r8(this.Ev);this.Na=!1},zJ:function(){if(this.Na){var a=new q.Zp,c=new q.Zp,d=new q.Zp;
q.Ss(a,this.nr,this.or,this.pr);q.Ss(c,this.Bo,this.Co,this.Do);q.Ss(d,this.ns,this.os,this.ps);q.mU(this.Ev,a,c,d);this.Na=!1}q.cx(this.Ev)},kaa:function(a,c,d){this.CK(a,c,d)},CK:function(a,c,d){this.nr=a;this.or=c;this.pr=d;this.Na=!0},U$:function(a,c,d){this.wW(a,c,d)},wW:function(a,c,d){this.Bo=a;this.Co=c;this.Do=d;this.Na=!0},zba:function(a,c,d){this.BX(a,c,d)},BX:function(a,c,d){this.ns=a;this.os=c;this.ps=d;this.Na=!0},u4:function(){return{x:this.nr,y:this.or,z:this.pr}},tI:function(){return{x:this.nr,
y:this.or,z:this.pr}},S3:function(){return{x:this.Bo,y:this.Co,z:this.Do}},rI:function(){return{x:this.Bo,y:this.Co,z:this.Do}},H6:function(){return{x:this.ns,y:this.os,z:this.ps}},kT:function(){return{x:this.ns,y:this.os,z:this.ps}},q0:function(){}});q.qq.Js=function(){return q.Yt};q.hu=-2147483648;q.k_=q.hu+1;q.ut=function(a,c){if(a&&0<a.length)for(var d=0;d<a.length;d++)if(!(a[d]instanceof c)){q.log("element type is wrong!");break}};q.nq=function(a,c){a.splice(c,1)};q.ie=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c){a.splice(d,1);break}};q.OY=function(a,c){for(var d=0,e=c.length;d<e;d++)q.ie(a,c[d])};q.NY=function(a,c){return a.indexOf(c)};q.LY=function(a,c){a.push(c)};q.$l=function(a,c,d){a.splice(d,0,c);return a};
q.MY=function(a,c,d){a.splice.apply(a,[d,0].concat(c));return a};q.ny=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c)return d;return-1};q.ly=function(a,c){return-1!=a.indexOf(c)};q.FZ=function(a,c){if(null==a)return null;for(var d=0;d<a.length;d++)if(a[d].target===c)return a[d];return null};q.VE=function(a,c,d){this.next=null;this.target=a;this.ZJ=c;this.paused=d;this.Bl=!1};q.RE=function(a,c,d){this.list=a;this.hn=c;this.target=d;this.hh=null};
q.xM=function(a,c){this.og=null;this.target=a;this.iq=0;this.xs=this.ws=null;this.paused=c;this.hh=null};
q.yu=q.Ma.extend({Xj:0,Xf:null,Y:null,rc:0,LG:!1,vw:!1,qp:0,YA:0,fv:0,ctor:function(){},P4:function(){return this.Xj},setInterval:function(){},c6:function(){return this.Xf},Qg:function(a,c,d,e,f){this.Y=a;this.Xf=c;this.rc=-1;this.Xj=d||0;this.fv=f||0;this.vw=0<this.fv;this.YA=null==e?q.em:e;this.LG=this.YA==q.em;return!0},Hz:function(){if("string"==typeof this.Xf)this.Y[this.Xf](this.rc);else this.Xf.call(this.Y,this.rc)},update:function(a){if(-1==this.rc)this.qp=this.rc=0;else{var c=this.Y,d=this.Xf;
this.LG&&!this.vw?(this.rc+=a,this.rc>=this.Xj&&(c&&d&&this.Hz(),this.rc=0)):(this.rc+=a,this.vw?this.rc>=this.fv&&(c&&d&&this.Hz(),this.rc-=this.fv,this.qp+=1,this.vw=!1):this.rc>=this.Xj&&(c&&d&&this.Hz(),this.rc=0,this.qp+=1),this.qp>this.YA&&q.da.f().Gf().EL(c,d))}}});q.yu.xca=function(a,c,d){if(2>arguments.length)throw Error("timerWithTarget'argument can't is null");var e=new q.yu;e.Qg(a,c,d||0,q.em,0);return e};q.d1=null;
q.lN=q.Ma.extend({gs:1,zh:null,ji:null,Lg:null,Tj:null,Ru:null,Sj:null,y0:null,sf:null,Oi:!1,sw:!1,ctor:function(){this.gs=1;this.zh=[];this.ji=[];this.Lg=[];this.Tj={};this.Ru=[];this.Sj={};this.Jk=[];this.sf=null;this.sw=this.Oi=!1},XA:function(a){delete this.Sj[a.target.qc];q.ie(this.Jk,a);a.yu=null;a.target=null},E0:function(a,c){for(var d=0;d<a.length;d++)if(a[d].target==c)return a[d];return null},Wv:function(a){if(a=this.Tj[a.target.qc])q.ie(a.list,a.hn),delete this.Tj[a.target.qc],q.ie(this.Ru,
a),a.hn=null,a.target=null},EG:function(a,c,d,e){e=new q.VE(c,d,e);if(a){for(var f=!1,g=0;g<a.length;g++)if(d<a[g].ZJ){a=q.$l(a,e,g);f=!0;break}f||a.push(e)}else a=[],a.push(e);d=new q.RE(a,e,c);this.Ru.push(d);this.Tj[c.qc]=d;return a},SN:function(a,c,d){d=new q.VE(c,0,d);a.push(d);a=new q.RE(a,d,c);this.Ru.push(a);this.Tj[c.qc]=a},tba:function(a){this.gs=a},v6:function(){return this.gs},update:function(a){this.sw=!0;1!=this.gs&&(a*=this.gs);var c,d;for(d=0;d<this.zh.length;d++)c=this.zh[d],c.paused||
c.Bl||c.target.update(a);for(d=0;d<this.ji.length;d++)c=this.ji[d],c.paused||c.Bl||c.target.update(a);for(d=0;d<this.Lg.length;d++)c=this.Lg[d],c.paused||c.Bl||c.target.update(a);for(d=0;d<this.Jk.length;d++){c=this.sf=this.Jk[d];this.Oi=!1;if(!this.sf.paused)for(c.iq=0;c.iq<c.og.length;c.iq++)c.ws=c.og[c.iq],c.xs=!1,c.ws.update(a),c.ws=null;this.Oi&&0==this.sf.og.length&&this.XA(this.sf)}for(d=0;d<this.zh.length;d++)this.zh[d].Bl&&this.Wv(this.zh[d]);for(d=0;d<this.ji.length;d++)this.ji[d].Bl&&this.Wv(this.ji[d]);
for(d=0;d<this.Lg.length;d++)this.Lg[d].Bl&&this.Wv(this.Lg[d]);this.sw=!1;this.sf=null},gW:function(a,c,d,e,f,g){if(!c)throw"cc.scheduler.scheduleCallbackForTarget(): callback_fn should be non-null.";if(!a)throw"cc.scheduler.scheduleCallbackForTarget(): target should be non-null.";d=d||0;e=null==e?q.em:e;f=f||0;g=g||!1;var h=this.Sj[a.qc];h||(h=new q.xM(a,g),this.Jk.push(h),this.Sj[a.qc]=h);if(null==h.og)h.og=[];else for(var k=0;k<h.og.length;k++)if(g=h.og[k],c==g.Xf){q.log("CCSheduler#scheduleCallback. Callback already scheduled. Updating interval from:"+
g.Xj.toFixed(4)+" to "+d.toFixed(4));g.Xj=d;return}g=new q.yu;g.Qg(a,c,d,e,f);h.og.push(g)},oK:function(a,c,d){var e=this.Tj[a.qc];e?e.hn.Bl=!1:0==c?this.SN(this.ji,a,d):0>c?this.zh=this.EG(this.zh,a,c,d):this.Lg=this.EG(this.Lg,a,c,d)},EL:function(a,c){if(null!=a&&null!=c){var d=this.Sj[a.qc];if(null!=d)for(var e=0;e<d.og.length;e++){var f=d.og[e];if(c==f.Xf){f!=d.ws||d.xs||(d.xs=!0);q.nq(d.og,e);d.iq>=e&&d.iq--;0==d.og.length&&(this.sf==d?this.Oi=!0:this.XA(d));break}}}},jq:function(a){null!=a&&
(a=this.Tj[a.qc],null!=a&&(this.sw?a.hn.Bl=!0:this.Wv(a.hn)))},DL:function(a){if(null!=a){var c=this.Sj[a.qc];c&&(!c.xs&&q.ly(c.og,c.ws)&&(c.xs=!0),c.og.length=0,this.sf==c?this.Oi=!0:this.XA(c));this.jq(a)}},nt:function(){this.hY(q.hu)},hY:function(a){var c;for(c=0;c<this.Jk.length;c++)this.DL(this.Jk[c].target);if(0>a)for(c=0;c<this.zh.length;c++)this.jq(this.zh[c].target);if(0>=a)for(c=0;c<this.ji.length;c++)this.jq(this.ji[c].target);for(c=0;c<this.Lg.length;c++)this.Lg[c].ZJ>=a&&this.jq(this.Lg[c].target)},
H9:function(){return this.WU(q.hu)},WU:function(a){var c=[],d,e;for(d=0;d<this.Jk.length;d++)if(e=this.Jk[d])e.paused=!0,c.push(e.target);if(0>a)for(d=0;d<this.zh.length;d++)if(e=this.zh[d])e.paused=!0,c.push(e.target);if(0>=a)for(d=0;d<this.ji.length;d++)if(e=this.ji[d])e.paused=!0,c.push(e.target);for(d=0;d<this.Lg.length;d++)if(e=this.Lg[d])e.paused=!0,c.push(e.target);return c},aW:function(a){if(a)for(var c=0;c<a.length;c++)this.Gn(a[c])},Us:function(a){if(!a)throw"cc.Scheduler.pauseTarget():target should be non-null";
var c=this.Sj[a.qc];c&&(c.paused=!0);if(a=this.Tj[a.qc])a.hn.paused=!0},Gn:function(a){if(!a)throw"cc.Scheduler.resumeTarget():target should be non-null";var c=this.Sj[a.qc];c&&(c.paused=!1);if(a=this.Tj[a.qc])a.hn.paused=!1},d8:function(a){if(!a)throw"cc.Scheduler.isTargetPaused():target should be non-null";return(a=this.Sj[a.qc])?a.paused:!1}});q.Wy={IMAGE:["png","jpg","bmp","jpeg","gif"],SOUND:["mp3","ogg","wav","mp4","m4a"],XML:["plist","xml","fnt","tmx","tsx"],BINARY:["ccbi"],FONT:"FONT",TEXT:["txt","vsh","fsh","json","ExportJson"],UNKNOW:[]};
q.Tb=q.Ma.extend({Ho:0,js:0,Er:0,Fm:null,kh:1/60,Xj:null,mG:!1,ctor:function(){this.Fm=[]},Yw:function(a,c,d){if(a){c&&(this.Xf=c,this.Y=d);if(a!=this.Fm||0==this.Ho){this.Er=this.Ho=0;if(a[0]instanceof Array)for(c=0;c<a.length;c++)this.Fm=this.Fm.concat(a[c]);else this.Fm=a;this.js=this.Fm.length}this.GP()}else console.log("resources should not null")},sW:function(a){this.mG=a},Dl:function(a){this.Er++;q.log("cocos2d:Failed loading resource: "+a)},ig:function(){this.Er++},Qw:function(){var a=0;return a=
0==this.js?100:0|this.Er/this.js*100},HV:function(a){if(a&&0<a.length)for(var c=q.ja.f(),d=q.Nh?q.Nh.f():null,e=q.Dk.f(),f=q.Td.f(),g,h=0;h<a.length;h++){g=a[h];var k=this.dG(g);switch(k){case "IMAGE":c.TV(g.src);break;case "SOUND":if(!d)throw"Can not find AudioEngine! Install it, please.";d.Eca(g.src);break;case "XML":e.fY(g.src);break;case "BINARY":f.eY(g.src);break;case "TEXT":f.gY(g.src);break;case "FONT":break;default:throw"cocos2d:unknown filename extension: "+k;}}},mP:function(){this.tw();
if(this.mG){var a=q.da.f().mv;if(null!=a&&20>a){q.log("cocos2d: frame rate less than 20 fps, skip frame.");return}}this.Ho<this.js&&(this.VO(),this.Ho++)},VO:function(){var a=q.ja.f(),c=q.Nh?q.Nh.f():null,d=q.Dk.f(),e=q.Td.f(),f=this.Fm[this.Ho],g=this.dG(f);switch(g){case "IMAGE":a.na(f.src);break;case "SOUND":if(!c)throw"Can not find AudioEngine! Install it, please.";c.O9(f.src);break;case "XML":d.jV(f.src);break;case "BINARY":e.iV(f.src);break;case "TEXT":e.kV(f.src);break;case "FONT":this.oP(f);
break;default:throw"cocos2d:unknown filename extension: "+g;}},GP:function(){var a=this;this.Xj=setInterval(function(){a.mP()},1E3*this.kh)},wQ:function(){clearInterval(this.Xj)},dG:function(a){if(null!=a.Bs)return q.Wy.FONT;a=a.src;a=a.substring(a.lastIndexOf(".")+1,a.length);var c=a.indexOf("?");0<c&&(a=a.substring(0,c));for(var d in q.Wy)if(-1!=q.Wy[d].indexOf(a))return d;return a},tw:function(){100<=this.Qw()&&(this.wQ(),this.nO())},nO:function(){if(this.Y&&"string"==typeof this.Xf)this.Y[this.Xf](this);
else this.Y&&"function"==typeof this.Xf?this.Xf.call(this.Y,this):this.Xf(this);this.js=this.Er=this.Ho=0},oP:function(a){var c=a.src,d=q.Td.f();if(c&&0<c.length){var e=document.createElement("style");e.type="text/css";document.body.appendChild(e);for(var f="@font-face { font-family:"+a.Bs+"; src:",g=0;g<c.length;g++)f+="url('"+d.Ee(encodeURI(c[g].src))+"') format('"+c[g].type+"')",f+=g==c.length-1?";":",";e.textContent+=f+"};";c=document.createElement("div");c.style.fontFamily=a.Bs;c.innerHTML=".";
c.style.position="absolute";c.style.left="-100px";c.style.top="-100px";document.body.appendChild(c)}q.Tb.f().ig()},X0:function(a,c){var d=document.createElement("style");d.type="text/css";document.body.appendChild(d);d.textContent+="@font-face {font-family:"+a+";src: url(data:font/ttf;base64,"+c+") format('truetype');};";d=document.createElement("div");d.style.fontFamily=a;d.innerHTML="ajghl~!";d.style.position="absolute";d.style.left="-100px";d.style.top="-100px";document.body.appendChild(d);q.Tb.f().ig()},
h1:function(){}});q.Tb.mD=function(a,c,d){this.Mb||(this.Mb=new q.Tb);this.Mb.Yw(a,c,d);return this.Mb};q.Tb.M9=function(a,c,d){this.Mb||(this.Mb=new q.Tb);this.Mb.sW(!0);this.Mb.Yw(a,c,d);return this.Mb};q.Tb.oD=function(a){this.Mb&&this.Mb.HV(a)};q.Tb.f=function(){this.Mb||(this.Mb=new q.Tb);return this.Mb};q.Tb.Mb=null;
q.Ny=q.wq.extend({Dv:null,Zo:null,iw:null,Tu:null,yv:null,PB:null,ctor:function(){q.wq.prototype.ctor.call(this);this.PB=q.da.f().ac},w:function(){q.wq.prototype.w.call(this);var a=q.a(this.PB.width/2,this.PB.height/2);this.Zo=new Image;var c=this;this.Zo.addEventListener("load",function(){c.GO(a);this.removeEventListener("load",arguments.callee,!1)});this.Zo.src="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAAlAAD/4QMpaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjAtYzA2MCA2MS4xMzQ3NzcsIDIwMTAvMDIvMTItMTc6MzI6MDAgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjM4MDBEMDY2QTU1MjExRTFBQTAzQjEzMUNFNzMxRkQwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjM4MDBEMDY1QTU1MjExRTFBQTAzQjEzMUNFNzMxRkQwIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzUgV2luZG93cyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU2RTk0OEM4OERCNDExRTE5NEUyRkE3M0M3QkE1NTlEIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU2RTk0OEM5OERCNDExRTE5NEUyRkE3M0M3QkE1NTlEIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+/+4ADkFkb2JlAGTAAAAAAf/bAIQADQkJCQoJDQoKDRMMCwwTFhENDREWGhUVFhUVGhkUFhUVFhQZGR0fIB8dGScnKionJzk4ODg5QEBAQEBAQEBAQAEODAwOEA4RDw8RFA4RDhQVERISERUfFRUXFRUfKB0ZGRkZHSgjJiAgICYjLCwoKCwsNzc1NzdAQEBAQEBAQEBA/8AAEQgAyACgAwEiAAIRAQMRAf/EALAAAAEFAQEAAAAAAAAAAAAAAAQAAgMFBgcBAQEAAwEBAAAAAAAAAAAAAAAAAQMEAgUQAAIBAgIEBwoLBgQGAwAAAAECAwAEEQUhMRIGQVFxsTITFGGBwdEiQlKSMzWRoeFicqKyI1NzFYJjJDQWB9KjVCbxwkNkJWXik3QRAAIBAgMFBQcDBQEAAAAAAAABAhEDIRIEMUFRcTJhwVIUBZGhsSJyEzOB0ULhYpIjUxX/2gAMAwEAAhEDEQA/AMJSpUqAVKlXuFAeUq9wpUB5XuFe4V6ooDzZHDox0CnGMinzwl7Z8NajaHeoO3vmTBZBtp9YUIqTEV5ROxHKnWRnaU8VRMhFBUjpV7hSoSeUq9pUB5Sr2lhQHlKvcK8oBV7hSFSRrtaKAZs07YNPM1pG2xJIAw1jSeandry/8X4m8VCKkWwaWwam7Xl/4v1W8VLtmX/i/VbxUoKkWwakSM407tmX/i/VbxUmzGwjQsjdY41IARie/U0IbZO0kNtCXnOCkEBeFu4KI3Bs7DNb27ya+jDx3kJeEnpJJEcQVbWDsk17u5urd591ucZkWhym2Vnd9RkCDEpFxDRpbw0bunu5mlp2De2FMLYXOD2wB2xbOeraUcYGJ72mlSUiqzzdzMd3Z3mixltA2yzcK/NlHM1DQyRXce1HocdNOEfJXZ88y9ZojOqhiBszIRiHQ8Y4cK5TvHuzLljHNMqxNoDjLFraHHnjPxcNCGVbxEUzYNTx5jZSxhpW6qTzlwJ+DCvO2Zf+L9VvFSgqyHYNLYNTdssPxfibxUu15f8Ai/VPiqCakOwa82DU/a8v/F+JvFTDdWPBL8R8VKCvYRYV5UzoMAy6QdIIqI0B4KJtxiRQwou16QoGUkntH5Tz0RbZbmF2hktraSVBo2lUkY8tDye0flPPXTslVUyiyVRsjqUOA4yMT8dW2ram2m6UVTNq9S7EIyUVJydMTn/6DnP+im9Wl+g5z/opvVrpteEhQWY4AaSTwAVf5WPiZh/9S5/zj7zltzlmYWkfWXNvJDGTgGcYDHirR7i7mSbwXParsFMrgb7w6jKw/wCmnc9I14kF3vpvCljbMyWMOJL4aEiB8qU/ObUK7HYWVrl1pFZWiCOCBQqKOLjPGTrNZZqKbUXVHq2nNwTuJRk1VpbgXN8s7Rk5ym0UQQzhIG2NAjhxHWbI+gCBVjBBFbwxwQqEiiUJGg1BVGAFe7dV28WYLYZFmF2Th1UD7JGjymGyn1iK5OyzIBGB1HgrLZhamzumQAGJwSqnSCh1q3GOCodxt4cxurdcpzuN4cyhiWaF5Bg09udUmnWw1H/jV9nFuJ7Quo+8h8peThFA+047vduyMtk7fYqTl07YFdfUufMPzT5p71UdtlmYXaGS2t3mQHAsgxANdadYJopLe4QS2867EsZ4QfCNYrCFbjdDPmgkYyWFxgVf04ifJf6ScNdRUW1XBb6FU5TjF5EpSSrGu/s5lN+g5z/opvVpfoOc/wCim9WtdHnatvObJXDW7xLGhB8nrPaY9/HCr+tEdPCVaSeDoYLnqF63lzW4/PFSW3ecxbI84VSzWUwUaSdg0DXXK5nvAipnd6qgKvWnQO7pri9ZUEmm3Vl2j1kr8pRlFRyquBNZjGxQ/S56Y1S2fu9OVueon11Szahoou06QoQUXadIVCD2FJJ7R+U89dMydv8Axdn+TH9muZye0flPPXQstlK5Tbka1gUjlC1q0vVLkeb6r+O3Tx9xcY1nt8c0NrZCyiOE1108NYjGv1joo7Js1jzKyScYLIvkzL6LDwHXVJksH9Sb49dKNq0tj1jA6uriOCL+02FWX7iVtZX1/AzaHTyeoauKn2MX9W79zebiZCuR5MjSrhfXuEtwTrUeZH+yNfdrRNcxI6IzhXlJEak6WIGJ2Rw4ChWnChndtlVBLMdQA0k1gbXNMzzDfDLs6mjaPKppJbWwJ1bOwwxw43OnHh71YT3DpfWUJmFlb5jHHDdeXBHIsrRea5TSqvxqG04cNN62vetoCS4tre5mgnkGE9q+3DKOkuI2WX6LDQRRHWDh1UCtwj7QRg2wdl8Djgw1qe7XvW0BQ3kfZ7mSLgU+T9E6RVbnuVrnWVSWqj+Lt8ZbRuHEdKPkYVcZ2MJY5fSGyeVar45+rkWQHAqccalPE5km1htWK5nK4Wnt5FuUBUwOMG4nGkA/BXUrW4S6torlOjMgcd/xVn7rLo7zKs0uEjCNeSvdwoBhgsZxX1l2j36k3Lu+uyprdj5Vs5A+i/lD48a0aaVJOPi7jB6lbzWozpjB48pf1NDXNN4vfl7+Z4BXS65pvF78vfzPAK71XTHmZ/S/yT+jvJ7L3fHytz1E+upbL+Qj5W56jfXWRnsIYKLtekKEFGWvSFQgyjk9o/Keet3YthlMP/5x9msJJ7R+U89biyb/AMXEv7gD6tadL1T+kwepRrC39ZkLDMbiwMvUHRPG0bjlGg8ore/23sxBldxfMPLupNhT8yL/AORNZbdzJ484scytxgLqJY5LZj6Q2sV5G1Vud1mjjyG0ij0NEGSZToKyhjtqw4waztuiXA3qKTbSxltfGhbZlE95ZtZqxVbgiOZhrER9ph3Svk9+pJILZ4Y4DGBFCUMKjRsGPobPFhUfW0NJmljE2xJcIrcI2vFUEln1lRXd6lrazXT9GCNpD+yNqoI7mOVduNw6nzlOIoPOUa6yye1XXcbMR5GdQ3xY0BSbj31/FcTQZirJ+q431q7anbHCTZ72Bw7lbPrKBMcBWNNgbMBBh+bsjBdni0VJ1lARZs6yWiupxCuMDy6KpS2IwOo6DTr3Mre3e5tZZVUM4ZBjqOOJoWO4jkXajcOOMHGgDISvWIrdAkKR80+TzVl908bPPL3LzxOuHdifxVfiTAg92qI/w+/8gGgSyN/mR7XPVlp0lF/3L3mbVKtu5Hjbk/8AHE2Fc03i9+Xv5ngFdKNc13i9+Xv5ngFaNV0x5nn+l/kn9HeEWXu+PlbnqJ9dS2Xu9OVueon11kZ7CGCjLXpCgxRlr0hUIPYUcntH5Tz1s8vb+Bt1/dqPirGSe0flPPWusG/g4Py15q06XqlyMWvVYQ+ruI9xJOqzO9hOto/sP8tbGOFIrmWeM7IuMDMnAXXQJOUjQeOsJk0nY96ip0CYunrjaHx1t+srPJUbXBm2LrFPikwTOb+T+VhbZxGMrDXp83x1QSy2tucJpUjPETp+Cn5/ftaRvKvtp3Kx48HG3erHMzOxZiWZtLMdJNQSbbL71Vk6yynViOkqnEEfOWtPbXi3EQkGg6mXiNckjeSJxJGxR10qw0GtxuxmvbImD4CZMFlA4fRfv0BqesqqzTMZNMEDbIHtHH2QeCiZJSqMQdOGiue53mz3czQwsRbIcNHnkec3c4qAMuriz68gTIToxwOOnlp0MjxMJYW741Gs3RVldtbygE/dMcHX/moDaxTiWNZB53B3arb8/wC+4SOF4sf/AKxU9kcBsfOGHfoUHtG/RbzY5Die5HHhXdvavqiZ9Q8Jdlq4/gbKua7xe/L38zwCuhpf2Uk/Zo50kmwJKIdogDjw1VzzeL35e/meAVp1LTgqY4nn+mRauzqmqwrjzCLL3fHytz1E+upLL+Qj5W56jfXWRnroYKLtekKEFF2vSFQg9hSSe0flPPWosm/hIfoLzVl5PaPynnrRWb/w0X0F5q06XqlyM2sVYx5gmbFre/t71NY2T+0h8VbSO5SWNJUOKSAMp7jDGspmMPaLRlXS6eWve1/FRO7WYdbZm1Y/eW/R7qHxHRXGojlm3ulid6aVbaW+OALvgCLq2Hm9WxHKWqjhj6xsK1e8dm15l4niG1LZkswGsxtrPeOmsvayBJA1VItlWjptLuTdPMo7LtjRDq9naK4+WF9IrUW7BaHOljGqVHB7w2hzVoZt87d8vaNYSLl02CcRsDEbJbj71Uu7UBkvJ7/D7q2QoDxySaAO8MTXdxRVMpRp5XZOWdF/ms7R5XdyKfKWJsO/5PhrG5XlNxmEywW6bTnTxAAcJNbGSMXkM1pjgbiNo1PziPJ+Os7u7m/6ReM00ZOgxSpqYYHT3wRXMKN4ll9zUG4bQfNshu8sZVuEA2hirA4qe/VOwwrVbzbww5mI44UKRRYkbWG0S3JWctbd7u5WFfOOLHiUdJqmaipfLsIsObhWe001lMkMVvJNjhghIALMcBxCs7fxXQmkupx1bXDswGPlaTidVaEyKNXkoo4eBV+Sq7L7Vs9zcBgeyQ4GQ/MB1crmoim2orezqcowTuSeEY48jQ7oZX2PLzdyLhNd6RjrEY6I7+uspvH78vfzPAK6UAAAFGAGgAcArmu8Xvy9/M8ArTfio24RW5nnaG67uou3H/KPuqT2X8hHytz1G+upLL3enK3PUb66ys9RDBRdr0hQgou06QqEGUkntH5Tz1e238vF9BeaqKT2j8p56vbb+Xi+gvNWjTdUuRn1XTHmTh8KrJTJlt8t1CPIY44cGnpJVjTJYkmjaN9Ib4u7V923njTethRauZJV3PaW1rfLIiXEDYg6R4VYc9CXW7thfOZbKdbGZtLW8uPVY/u3GrkNUkM9zlcxUjbhfWOA90cRq4gv4LhdqN+VToNYWmnRm9NNVWNTyHc6VWBv8wt4YeHqm6xyPmroq1Z7WGFLSxTq7WLSuPSdjrkfumq5yHXDUeA92oO2SKpVumNAaoJLMXH3myp0rpJ4uKhc3tbDM5BMri1zAj79j7KTiY8TcdBpcsith0286o+sPCagEX9Pzg4zXUCp6QYse8oouCG3tk6m1BYv05W6T+IdyolxbHDAAa2OgDlNCz3ryN2WxBd5PJMg1t81eId2ukqnLlTBbfcuY+9uJLiRcvtPvHdsHK+cfRHcHDWsyawjyy0WBcDI3lTP6TeIcFV+S5OmXx9bJg1048o8Cj0V8Jq2DVu09nL80up7OxHi+oal3P8AXB/IsZS8T/YOV65zvCcc7vfzPAK3ivWCz445zeH954BXOr6I8yfSfyz+jvCLP3fHytz1G+upLP3fHytz1E+usbPaQ0UXadIUIKLtekKhB7Ckk9o/Keer22/l4/oLzVRSe0flPPV7b/y8X0F5q0abqlyM+q6Y8yQsBTDMor1o8aiaE1pbluMqS3sbLLHIhSRQyngqukhaJ9uBjo+H5aOa3ao2t34qouRlLajTalGP8v0IY8ylXQ+PKPFU/bYXOLPge6CKia0LaxTOxHu1Q7cuBd9yPEJ7TbjXKO8CajbMIF6CNIeNvJHjqIWJ7tSpYkalqVblwIdyG+RGXur0hXYJFxal+Dhq5y3slkv3Y2pD0pTr+QUClpJRUdo9XW4OLrTHtM16cZLLWkeC7y4jvlNEpcRtw1Ux27Ci448NZrTFy3nn3IQWxlgGrDZ3pza7/M8ArZo+ArF5171uvp+CqdV0R5l/psUrs2vB3hdl7vTlbnqJ9dS2Xu+PlbnqJ9dY2eshooq16QoQUXa9IVCD2FLJ7RuU89WNtmUSQqkgYMgw0accKrpPaPynnrZWG4Vi+VWmY5tnMWXG+XrIYnA0rhj0mdcTgdNdwnKDqjmduM1SRR/qlr8/4KX6pa8T/BVzDuLZXudRZblmbxXcPUNPc3KqCIwrbOzgrHEnHjoyD+3eSXkht7DeKG4umDGOJVUklfouThXfmbnZ7Cvy1vt9pmv1W1+d8FL9VteJvgq5yrcOGfLmzHN80iyyETPbptAEFo2ZG8pmUa1OFNn3Ky6W/sbDKM5hv5bx2WTZA+7RF2y52WOPJTzE+z2Dy1vt9pT/AKpacTerS/U7Tib1a04/t7kDXPY03jhN0W6sQ7K7W3q2dnrMccaDy/8At80kuZfqWYxWNtlcvUPPhiGYhWDeUy7IwYU8xPs9g8tb7faUn6pacTerTxm9oOBvVq3v9z927aynuId44LiWKNnjhAXF2UYhRg516qpsryjLr21665zFLSTaK9U2GOA87SwqY37knRU+BzOzags0s1Oyr+BKM6sxwP6tSDPLMen6vy0rvdm3Sxlu7K/S7WDDrFUDUTxgnTU826eXW7KlxmqQuwDBXUKcD+1Xee/wXuKX5XDGWLapSVcOyhEM/seJ/V+WnjeGx4pPV+Wkm6kKZlFay3Jlt7iFpYZY8ASVK6DjtDDA0f8A0Tl340/1f8Ndx8xJVWXB0KbktFFpNzdVXAC/qOwA0CQni2flrO3Vwbm5lnI2TKxbDirX/wBE5d+NcfV/wVR7xZPa5U9utvI8nWhmbbw0YEAYYAVxfhfy5rlKR4Fulu6X7mW1mzT8S4Yis/5CPlbnqJ9dSWfu9OVueon11mZvQ2i7XpChKKtekKhBlNJ7R+U89bDfGTb3a3ZX0Lcj6kdY+T2j8p560288m1kWQr6MJ+ylSAr+2cnV5renjs3H1loX+3j9XvbbtxLN9lqW4UnV5jdnjtXHxihtyZNjeSBu5J9k1BJe7xy7W5CJ/wCzuD/mTVTf2+fq97LJuLrPsNRueS7W6aJ/38x+vLVXuY+xvHaNxbf2GoCezf8A36j/APsSf8w1sLnqczTefJluYoLm5uo5F61sBshItP1cNFYe1f8A3ir/APfE/wCZUe9bB94r5jwuPsrQFhmG4l/Z2M17HdW90tuu3IkTHaCjWdIw0VVZdks9/C06yJFEp2dp+E1bbqybGTZ8vpQD7L1XRv8A7blT96Oda7tpNuuNE37Cq9KSisjyuUoxrStKllHbLlWTXsMs8chuSuwEPDqwoLe5y+YRE/gLzmqRekvKKtd4327yM/ulHxmrHJStySWVRyrjxKI2XC/CTlnlPPKTpTdFbP0L1bgrf5Lp0G3dPhQHwV0S1lzBsns3sESR8Crh9WAJGjSOKuU3E+zdZQ3oJh8IArdZXFDmOTpHa3i2+YrI2KtKy4ricBsBuHHgFXSo440+Wa2qqxjvM9uMoy+WvzWpLCWWWE28HxL6e43ojgkeSCBY1Ri5BGIUDT51cl3vm276BBqSEH4WbxV0tlkyXJcxTMb+OW6uY9mGHrCzDQwwAbTp2uKuTZ9N1uYsfRRR8WPhrm419mSSjRyiqxVK7y23B/ftuTm2oSdJyzNVw3BFn7vTlbnqF9dS2fu9OVueon11lZuQ2iLdsGFD05H2dNQGV0ntG5Tz1dWm9N1b2kVq8EVwsI2UaQaQOKhmitZGLOmk68DhSFvY+gfWNSAg7z3Qvo7yKCKIohiaNR5LKxx8qpxvjcqS0VpbxvwOAcRQPZ7D0G9Y0uz2HoH1jUCpLY7zXlpbm3eKO5QuzjrBqZji3x17PvNcyT288VvDBJbMWUovS2hslW7mFQ9nsPQPrGl2ew9A+saCod/WNxtbYsrfb17WBxx5ddD2281xC88klvDcSXEnWuzrqOGGC9zRUPZ7D0G9Y0uzWHoH1jQVCLreq6ntZbaO3it1mGy7RjTs1X2mYy20ZiCq8ZOODcdEdmsPQb1jS7PYegfWNdJuLqnQiSUlRqpFLmryxtH1Ma7Qw2gNNPOdSt0oI27p007s9h6B9Y0uz2HoH1jXX3Z+I4+1b8IJdX89xLHKQFMXQUahpxoiPN5P+onfU+A0/s9h6DesaXZ7D0D6xpG7OLbUtu0StW5JJx2bBsmbtiSiEk+cxoCWWSaVpZOk2vDVo0VYdnsPQb1jSNvZcCH1jSd2c+p1XAmFqEOmOPEfaH+BQd1ueo211IzrgFUYKNAAqI1WztCpUqVCRUqVKgFSpUqAVKlSoBUqVKgFSpUqAVKlSoBUqVKgFSpUqAVKlSoD/9k\x3d";
this.Zo.width=160;this.Zo.height=200;this.Tu=q.fa.create(q.ZB(32,32,32,255));this.Tu.n(0,0);this.g(this.Tu,0)},GO:function(a){this.iw=new q.gc;this.iw.kf(this.Zo);this.iw.ce();this.Dv=q.v.Pa(this.iw);this.Dv.vk(q.bd());this.Dv.n(a);this.Tu.g(this.Dv,10)},Vg:function(){q.G.prototype.Vg.call(this);this.ec(this.YG,0.3)},ee:function(){q.G.prototype.ee.call(this);this.yv&&this.yv.pa("Loading... 0%")},Yw:function(a,c,d){this.YV=a;this.lW=c;this.target=d},YG:function(){this.Rc(this.YG);q.Tb.mD(this.YV,this.lW,
this.target);this.ec(this.tw)},tw:function(){if(this.yv){var a=q.Tb.f().Qw();this.yv.pa("Loading... "+a+"%")}100<=a&&this.Rc(this.tw)}});q.Ny.mD=function(a,c,d){this.Mb||(this.Mb=new q.Ny,this.Mb.w());this.Mb.Yw(a,c,d);a=q.da.f();a.Ad?a.jK(this.Mb):a.dW(this.Mb);return this.Mb};q.xy=q.Ma.extend({Gb:null,UK:function(a){this.Gb=a},O5:function(){return this.Gb},ctor:function(a){this.Gb=a},hC:function(){q.log("DrawingPrimitive.drawPoint() not implement!")},bI:function(){q.log("DrawingPrimitive.drawPoints() not implement!")},ni:function(){q.log("DrawingPrimitive.drawLine() not implement!")},cI:function(){q.log("DrawingPrimitive.drawRect() not implement!")},jC:function(){q.log("DrawingPrimitive.drawSolidRect() not implement!")},be:function(){q.log("DrawingPrimitive.drawPoly() not implement!")},
Lw:function(){q.log("DrawingPrimitive.drawSolidPoly() not implement!")},ZH:function(){q.log("DrawingPrimitive.drawCircle() not implement!")},iC:function(){q.log("DrawingPrimitive.drawQuadBezier() not implement!")},$H:function(){q.log("DrawingPrimitive.drawCubicBezier() not implement!")},YH:function(){q.log("DrawingPrimitive.drawCardinalSpline() not implement!")},Kw:function(){q.log("DrawingPrimitive.drawCardinalSpline() not implement!")}});
q.OE=q.xy.extend({hC:function(a,c){c||(c=1);var d=q.qa.f().va,e=q.qa.f().Ca,e=q.a(a.x*d,a.y*e);this.Gb.beginPath();this.Gb.arc(e.x,-e.y,c*d,0,2*Math.PI,!1);this.Gb.closePath();this.Gb.fill()},bI:function(a,c,d){if(null!=a){d||(d=1);c=this.Gb;var e=q.qa.f().va,f=q.qa.f().Ca;c.beginPath();for(var g=0,h=a.length;g<h;g++)c.arc(a[g].x*e,-a[g].y*f,d*e,0,2*Math.PI,!1);c.closePath();c.fill()}},ni:function(a,c){var d=this.Gb,e=q.qa.f().va,f=q.qa.f().Ca;d.beginPath();d.moveTo(a.x*e,-a.y*f);d.lineTo(c.x*e,-c.y*
f);d.closePath();d.stroke()},cI:function(a,c){this.ni(q.a(a.x,a.y),q.a(c.x,a.y));this.ni(q.a(c.x,a.y),q.a(c.x,c.y));this.ni(q.a(c.x,c.y),q.a(a.x,c.y));this.ni(q.a(a.x,c.y),q.a(a.x,a.y))},jC:function(a,c,d){a=[a,q.a(c.x,a.y),c,q.a(a.x,c.y)];this.Lw(a,4,d)},be:function(a,c,d,e){e=e||!1;if(null!=a){if(3>a.length)throw Error("Polygon's point must greater than 2");var f=a[0];c=this.Gb;var g=q.qa.f().va,h=q.qa.f().Ca;c.beginPath();c.moveTo(f.x*g,-f.y*h);for(var f=1,k=a.length;f<k;f++)c.lineTo(a[f].x*g,
-a[f].y*h);d&&c.closePath();e?c.fill():c.stroke()}},Lw:function(a,c,d){this.BK(d.q,d.p,d.k,d.N);this.be(a,c,!0,!0)},ZH:function(a,c,d,e,f){f=f||!1;e=this.Gb;var g=q.qa.f().va,h=q.qa.f().Ca;e.beginPath();e.arc(0|a.x*g,0|-(a.y*h),c*g,-d,-(d-2*Math.PI),!1);f&&e.lineTo(0|a.x*g,0|-(a.y*h));e.stroke()},iC:function(a,c,d,e){for(var f=[],g=0,h=0;h<e;h++)f.push(q.a(Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y)),g+=1/e;f.push(q.a(d.x,d.y));this.be(f,e+1,!1,!1)},$H:function(a,
c,d,e,f){for(var g=[],h=0,k=0;k<f;k++)g.push(q.a(Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y)),h+=1/f;g.push(q.a(e.x,e.y));this.be(g,f+1,!1,!1)},YH:function(a,c){this.Kw(a,0.5,c)},Kw:function(a,c,d){q.aa.strokeStyle="rgba(255,255,255,1)";for(var e=[],f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=q.ry(q.Dh(a,f-1),q.Dh(a,f-0),q.Dh(a,f+1),q.Dh(a,f+2),c,g),e.push(f);this.be(e,
d+1,!1,!1)},drawImage:function(a,c,d,e,f){switch(arguments.length){case 2:this.Gb.drawImage(a,c.x,-(c.y+a.height));break;case 3:this.Gb.drawImage(a,c.x,-(c.y+d.height),d.width,d.height);break;case 5:this.Gb.drawImage(a,c.x,c.y,d.width,d.height,e.x,-(e.y+f.height),f.width,f.height);break;default:throw Error("Argument must be non-nil");}},R2:function(a,c,d){a=a||this.Gb;c*=q.qa.f().va;d instanceof q.ke&&(d=new q.Ac(0|255*d.q,0|255*d.p,0|255*d.k));d="rgba("+d.q+","+d.p+","+d.k;a.fillStyle=d+",1)";var e=
c/10;a.beginPath();a.moveTo(-c,c);a.lineTo(0,e);a.lineTo(c,c);a.lineTo(e,0);a.lineTo(c,-c);a.lineTo(0,-e);a.lineTo(-c,-c);a.lineTo(-e,0);a.lineTo(-c,c);a.closePath();a.fill();var f=a.createRadialGradient(0,0,e,0,0,c);f.addColorStop(0,d+", 1)");f.addColorStop(0.3,d+", 0.8)");f.addColorStop(1,d+", 0.0)");a.fillStyle=f;a.beginPath();a.arc(0,0,c-e,0,q.ZE,!1);a.closePath();a.fill()},P2:function(a,c,d){a=a||this.Gb;c*=q.qa.f().va;d instanceof q.ke&&(d=new q.Ac(0|255*d.q,0|255*d.p,0|255*d.k));d="rgba("+
d.q+","+d.p+","+d.k;var e=a.createRadialGradient(0,0,c/10,0,0,c);e.addColorStop(0,d+", 1)");e.addColorStop(0.3,d+", 0.8)");e.addColorStop(0.6,d+", 0.4)");e.addColorStop(1,d+", 0.0)");a.fillStyle=e;a.beginPath();a.arc(0,0,c,0,q.ZE,!1);a.closePath();a.fill()},fillText:function(a,c,d){this.Gb.fillText(a,c,-d)},HW:function(a,c,d,e){this.Gb.fillStyle="rgba("+a+","+c+","+d+","+e/255+")";this.Gb.strokeStyle="rgba("+a+","+c+","+d+","+e/255+")"},BK:function(a,c,d,e){this.Gb.fillStyle="rgba("+(0|255*a)+","+
(0|255*c)+","+(0|255*d)+","+e+")";this.Gb.strokeStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+")"},hX:function(){},RW:function(a){this.Gb.lineWidth=a*q.qa.f().va}});
q.qM=q.xy.extend({yr:!1,Wb:null,Mi:-1,vc:null,LA:-1,KA:-1,ctor:function(a){null==a&&(a=q.aa);if(!a instanceof WebGLRenderingContext)throw"Can't initialise DrawingPrimitiveWebGL. context need is WebGLRenderingContext";q.xy.prototype.ctor.call(this,a);this.vc=new q.ke(1,1,1,1)},rk:function(){this.yr||(this.Wb=q.Sh.f().zi(q.K_),this.Mi=this.Gb.getUniformLocation(this.Wb.Rw(),"u_color"),this.LA=this.Gb.getUniformLocation(this.Wb.Rw(),"u_pointSize"),this.yr=!0)},Q2:function(){this.yr=!1},hC:function(a){this.rk();
this.Wb.qf();this.Wb.ah();q.He(q.ih);this.Wb.Ol(this.Mi,new Float32Array(this.vc.$b,0,4),1);this.Wb.cL(this.LA,this.KA);var c=this.Gb,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,new Float32Array([a.x,a.y]),c.STATIC_DRAW);c.vertexAttribPointer(q.Ue,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,1);c.deleteBuffer(d);q.Ph()},bI:function(a){if(a&&0!=a.length){this.rk();this.Wb.qf();this.Wb.ah();q.He(q.ih);this.Wb.Ol(this.Mi,new Float32Array(this.vc.$b,0,4),1);this.Wb.cL(this.LA,
this.KA);var c=this.Gb,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.Rv(a),c.STATIC_DRAW);c.vertexAttribPointer(q.Ue,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,a.length);c.deleteBuffer(d);q.Ph()}},Rv:function(a){for(var c=new Float32Array(2*a.length),d=0;d<a.length;d++)c[2*d]=a[d].x,c[2*d+1]=a[d].y;return c},ni:function(a,c){this.rk();this.Wb.qf();this.Wb.ah();q.He(q.ih);this.Wb.Ol(this.Mi,new Float32Array(this.vc.$b,0,4),1);var d=this.Gb,e=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,
e);d.bufferData(d.ARRAY_BUFFER,this.Rv([a,c]),d.STATIC_DRAW);d.vertexAttribPointer(q.Ue,2,d.FLOAT,!1,0,0);d.drawArrays(d.LINES,0,2);d.deleteBuffer(e);q.Ph()},cI:function(a,c){this.ni(q.a(a.x,a.y),q.a(c.x,a.y));this.ni(q.a(c.x,a.y),q.a(c.x,c.y));this.ni(q.a(c.x,c.y),q.a(a.x,c.y));this.ni(q.a(a.x,c.y),q.a(a.x,a.y))},jC:function(a,c,d){a=[a,q.a(c.x,a.y),c,q.a(a.x,c.y)];this.Lw(a,4,d)},be:function(a,c,d){this.rk();this.Wb.qf();this.Wb.ah();q.He(q.ih);this.Wb.Ol(this.Mi,new Float32Array(this.vc.$b,0,4),
1);c=this.Gb;var e=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,e);c.bufferData(c.ARRAY_BUFFER,this.Rv(a),c.STATIC_DRAW);c.vertexAttribPointer(q.Ue,2,c.FLOAT,!1,0,0);d?c.drawArrays(c.LINE_LOOP,0,a.length):c.drawArrays(c.LINE_STRIP,0,a.length);c.deleteBuffer(e);q.Ph()},Lw:function(a,c,d){this.rk();d||(d=this.vc);this.Wb.qf();this.Wb.ah();q.He(q.ih);this.Wb.Ol(this.Mi,new Float32Array(d.$b,0,4),1);c=this.Gb;d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.Rv(a),c.STATIC_DRAW);
c.vertexAttribPointer(q.Ue,2,c.FLOAT,!1,0,0);c.drawArrays(c.TRIANGLE_FAN,0,a.length);c.deleteBuffer(d);q.Ph()},ZH:function(a,c,d,e,f){this.rk();var g=1;f&&g++;var h=2*Math.PI/e;if(f=new Float32Array(2*(e+2))){for(var k=0;k<=e;k++){var l=k*h,m=c*Math.sin(l+d)+a.y;f[2*k]=c*Math.cos(l+d)+a.x;f[2*k+1]=m}f[2*(e+1)]=a.x;f[2*(e+1)+1]=a.y;this.Wb.qf();this.Wb.ah();q.He(q.ih);this.Wb.Ol(this.Mi,new Float32Array(this.vc.$b,0,4),1);a=this.Gb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(q.Ue,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+g);a.deleteBuffer(c);q.Ph()}},iC:function(a,c,d,e){this.rk();for(var f=new Float32Array(2*(e+1)),g=0,h=0;h<e;h++)f[2*h]=Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,f[2*h+1]=Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y,g+=1/e;f[2*e]=d.x;f[2*e+1]=d.y;this.Wb.qf();this.Wb.ah();q.He(q.ih);this.Wb.Ol(this.Mi,new Float32Array(this.vc.$b,0,4),1);a=this.Gb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(q.Ue,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+1);a.deleteBuffer(c);q.Ph()},$H:function(a,c,d,e,f){this.rk();for(var g=new Float32Array(2*(f+1)),h=0,k=0;k<f;k++)g[2*k]=Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,g[2*k+1]=Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y,h+=1/f;g[2*f]=e.x;g[2*f+1]=e.y;this.Wb.qf();this.Wb.ah();q.He(q.ih);this.Wb.Ol(this.Mi,new Float32Array(this.vc.$b,0,4),1);a=this.Gb;c=a.createBuffer();
a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,g,a.STATIC_DRAW);a.vertexAttribPointer(q.Ue,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,f+1);a.deleteBuffer(c);q.Ph()},YH:function(a,c){this.Kw(a,0.5,c)},Kw:function(a,c,d){this.rk();for(var e=new Float32Array(2*(d+1)),f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=q.ry(q.Dh(a,f-1),q.Dh(a,f),q.Dh(a,f+1),q.Dh(a,f+2),c,g),e[2*k]=f.x,e[2*k+1]=f.y;this.Wb.qf();this.Wb.ah();q.He(q.ih);this.Wb.Ol(this.Mi,
new Float32Array(this.vc.$b,0,4),1);a=this.Gb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,e,a.STATIC_DRAW);a.vertexAttribPointer(q.Ue,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,d+1);a.deleteBuffer(c);q.Ph()},HW:function(a,c,d,e){this.vc.q=a/255;this.vc.p=c/255;this.vc.k=d/255;this.vc.N=e/255},BK:function(a,c,d,e){this.vc.q=a;this.vc.p=c;this.vc.k=d;this.vc.N=e},hX:function(a){this.KA=a*q.bd()},RW:function(a){this.Gb.lineWidth&&this.Gb.lineWidth(a)}});q.ZE=2*Math.PI;q.rF={l0:0,RZ:1,SZ:2,DY:3,KZ:4,JZ:5,QY:6,YZ:7,uZ:8,PM:100,YM:101};q.d_=0;q.e_=1;q.b_=2;q.c_=3;q.rg=0;q.Fk=1;q.Ae=null;q.aa=null;q.canvas=null;q.uS=null;q.Qd=q.rg;q.QU=q.size(0,0);window.zD=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;window.console||(window.console={},window.console.log=function(){},window.console.assert=function(){});q.VC=!1;
q.Pl=function(a,c,d){function e(){if(q.Nh){var a=q.Nh.f();document[k]?(a.VU(),a.XU()):(q.da.f().CP(),a.ZV(),a.$V())}}a=q.Sb(a)||q.Sb("#"+a);var f,g,h;"CANVAS"==a.tagName?(c=c||a.width,d=d||a.height,g=q.lk=q.zk("DIV"),h=g.style,f=q.canvas=a,f.parentNode.insertBefore(g,f),f.dn(g),h.width=(c||480)+"px",h.height=(d||320)+"px",g.setAttribute("id","Cocos2dGameContainer")):("DIV"!=a.tagName&&q.log("Warning: target element is not a DIV or CANVAS"),c=c||a.clientWidth,d=d||a.clientHeight,f=q.canvas=q.zk("CANVAS"),
f.yH("gameCanvas"),f.setAttribute("width",c||480),f.setAttribute("height",d||320),g=q.lk=a,h=g.style,a.appendChild(f),h.width=(c||480)+"px",h.height=(d||320)+"px");h.margin="0 auto";h.position="relative";h.overflow="hidden";g.top="100%";if(!q.sz){q.Ja.ad&&(q.aa=q.Yca=q.OH(f,{stencil:!0,preserveDrawingBuffer:!0,antialias:!q.Ja.nj,alpha:!1}));q.aa?(q.Qd=q.Fk,window.gl=q.aa,q.Ae=new q.qM(q.aa),q.ja.f().NO()):(q.aa=f.getContext("2d"),q.tU=q.aa,q.Qd=q.rg,q.aa.translate(0,f.height),q.Ae=q.OE?new q.OE(q.aa):
null);q.QU=q.size(f.width,f.height);q.uS=g;q.log(q.Dt);q.Se.f();q.DW();q.Ja.nj&&q.ON();var k,l;"undefined"!==typeof document.hidden?(k="hidden",l="visibilitychange"):"undefined"!==typeof document.mozHidden?(k="mozHidden",l="mozvisibilitychange"):"undefined"!==typeof document.msHidden?(k="msHidden",l="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(k="webkitHidden",l="webkitvisibilitychange");"undefined"===typeof document.addEventListener||"undefined"===typeof k?(q.VC=!1,window.addEventListener("focus",
function(){if(q.Nh){var a=q.Nh.f();a.ZV();a.$V()}},!1),window.addEventListener("blur",function(){if(q.Nh){var a=q.Nh.f();a.VU();a.XU()}},!1)):(q.VC=!0,document.addEventListener(l,e,!1))}};q.ON=function(){var a=document.createElement("style");a.type="text/css";document.body.appendChild(a);a.textContent="body,canvas,div{ -moz-user-select: none;-webkit-user-select: none;-ms-user-select: none;-khtml-user-select: none;-webkit-tap-highlight-color:rgba(0,0,0,0);}"};q.nG=!1;
q.DW=function(){q.nG=!1;q.canvas.oncontextmenu=q.nG?function(){}:function(){return!1}};q.Aj=q.Ma.extend({kh:null,ctor:function(){this.kh=0;if(q.nB)throw"Application has been initialized";q.nB=this},Xs:function(a){this.kh=a},Yba:function(a){a&&q.rect(0,0,0,0)},r6:function(){return q.Ja.nj?q.rF.PM:q.rF.YM},bW:function(){if(!this.cR())return 0;var a,c=q.da.f(),d=window;q.bS=c;d.zD&&this.kh==1/60?(a=function(){c.DJ();d.zD(a)},d.zD(a)):(a=function(){c.DJ()},setInterval(a,1E3*this.kh));return 0}});
q.Aj.f=function(){return q.nB};q.Aj.e4=function(){var a=q.CM,c=navigator.language;c||(c=navigator.browserLanguage||navigator.Nca);if(!c)return a;c=c.toLowerCase();switch(c){case "zh-cn":a=q.BM;break;case "fr":a=q.DM;break;case "it":a=q.GM;break;case "de":a=q.EM;break;case "es":a=q.OM;break;case "ru":a=q.NM;break;case "ko":a=q.IM;break;case "ja":a=q.HM;break;case "hu":a=q.FM;break;case "pt":a=q.LM;break;case "ar":a=q.AM;break;case "no":a=q.JM;break;case "pl":a=q.KM}return a};q.nB=null;q.Dk=q.Ma.extend({$ca:null,CG:null,yp:null,yA:null,ctor:function(){this.yp={};window.DOMParser?(this.yA=!0,this.CG=new DOMParser):this.yA=!1},parse:function(a){var c=a;a=this.vI(a);a=this.DG(a,c).documentElement;if("plist"!=a.tagName)throw"cocos2d: "+c+" is not a plist file or you forgot to preload the plist file";for(var c=null,d=0,e=a.childNodes.length;d<e&&(c=a.childNodes[d],1!=c.nodeType);d++);return this.IA(c)},yca:function(a,c){if(null==c||!1===c)a=this.vI(a);return this.DG(a)},DG:function(a,
c){var d;this.yA?d=this.CG.parseFromString(a,"text/xml"):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(a));null==d&&q.log("cocos2d:xml "+c+" not found!");return d},IA:function(a){var c=null;switch(a.tagName){case "dict":c=this.jP(a);break;case "array":c=this.iP(a);break;case "string":if(1==a.childNodes.length)c=a.firstChild.nodeValue;else for(var c="",d=0;d<a.childNodes.length;d++)c+=a.childNodes[d].nodeValue;break;case "false":c=!1;break;case "true":c=!0;break;case "real":c=
parseFloat(a.firstChild.nodeValue);break;case "integer":c=parseInt(a.firstChild.nodeValue,10)}return c},iP:function(a){for(var c=[],d=0,e=a.childNodes.length;d<e;d++){var f=a.childNodes[d];1==f.nodeType&&c.push(this.IA(f))}return c},jP:function(a){for(var c={},d=null,e=0,f=a.childNodes.length;e<f;e++){var g=a.childNodes[e];1==g.nodeType&&("key"==g.tagName?d=g.firstChild.nodeValue:c[d]=this.IA(g))}return c},jV:function(a){a=q.Td.f().Ee(a);if(window.XMLHttpRequest){var c=new XMLHttpRequest;c.overrideMimeType&&
c.overrideMimeType("text/xml")}if(null!=c){var d=this;c.onreadystatechange=function(){4==c.readyState&&(c.responseText?(q.Tb.f().ig(),d.yp[a]=c.responseText,c=null):(q.Tb.f().ig(),q.log("cocos2d:There was a problem retrieving the xml data:"+c.statusText)))};c.open("GET",a,!0);c.send(null)}else throw"cocos2d:Your browser does not support XMLHTTP.";},fY:function(a){this.yp.hasOwnProperty(a)&&delete this.yp[a]},getName:function(a){return a.substring(a.lastIndexOf("/",a.length)+1,a.lastIndexOf(".",a.length))},
t4:function(a){return a.substring(a.lastIndexOf(".",a.length)+1,a.length)},vI:function(a){return null!=this.yp?this.yp[a]:null}});q.Dk.f=function(){this.Mb||(this.Mb=new q.Dk);return this.Mb};q.Dk.Mb=null;q.ky=q.Ma.extend({aS:function(){q.Aj.f().bW();return!0},H1:function(){q.da.f().pause()},G1:function(){q.da.f().lK()},bR:function(){q.Aj.f().bR()},dR:function(){q.Aj.f().dR()},I1:function(){}});q.ky.JX=function(){null==q.Mx&&(q.Mx=new q.ky);if(!q.Mx)throw"Application initialize failure";return q.Mx};q.Mx=null;q.V=q.v.extend({Wd:null,Tk:q.Hj,ll:q.Fu,tf:null,Xd:0,Kg:"",HA:null,To:!1,Qj:null,ck:!1,Jg:null,hp:0,Vr:0,aw:null,hl:!1,as:null,np:0,cw:null,op:null,lv:null,yB:0,zB:0,xd:!1,zv:null,Av:null,ctor:function(){q.v.prototype.ctor.call(this);this.Wd=q.fm();this.Tk=q.Bq;this.ll=q.Fu;this.xc=!1;this.Qj="";this.tf="Arial";this.ck=this.To=!1;this.Jg=q.fm();this.Vr=this.hp=0;this.aw="rgba(128, 128, 128, 0.5)";this.hl=!1;this.as=q.Db();this.np=0;this.cw="";this.op=q.Db();this.lv="rgba(255,255,255,1)";this.zB=this.yB=
0;this.xd=!1;this.ei()},w:function(){return this.ul(" ",this.tf,this.Xd)},ZO:function(){this.oA().font=this.Qj},Gr:function(a){return this.oA().measureText(a).width},bO:function(a,c){var d=this.Gr(a),e=Math.floor(a.length*c/d),f=a.indexOf("\n");if(0.8*e>=f&&0<f)return f+1;if(d<c)return a.length;for(var d=!1,f=c+1,g=-1,h=e,k,l=q.V.cO,m=q.V.EP,p=q.V.aO,t=a.substr(e);k=l.exec(t);){h+=k[0].length;if("\n"==k[2]){d=!0;g=h;break}f=this.Gr(a.substr(0,h));if(f>c){-1!=g&&(d=!0);break}g=h;t=a.substr(h)}if(d)return g;
t=a.substr(0,e);for(g=e;k=m.exec(t);)if(g=k[1].length,t=k[1],f=this.Gr(t),f<c){p.test(k[2])&&g++;break}return g},description:function(){return"\x3ccc.LabelTTF | FontName \x3d"+this.tf+" FontSize \x3d "+this.Xd.toFixed(1)+"\x3e"},t:null,Qr:function(a){q.Ib.prototype.t.call(this,a);this.NG()},ei:null,NG:function(){this.xd=!0;var a=this.Cc,c=this.dc,d=this.as,e=this.op;this.aw="rgba("+(0|0.5*a.q)+","+(0|0.5*a.p)+","+(0|0.5*a.k)+","+this.hp+")";this.lv="rgba("+(0|a.q/255*e.q)+","+(0|a.p/255*e.p)+","+
(0|a.k/255*e.k)+", "+c/255+")";this.cw="rgba("+(0|a.q/255*d.q)+","+(0|a.p/255*d.p)+","+(0|a.k/255*d.k)+", "+c/255+")"},NP:function(){this.xd=!0;var a=this.as,c=this.op;this.aw="rgba(128,128,128,"+this.hp+")";this.lv="rgba("+(0|c.q)+","+(0|c.p)+","+(0|c.k)+", 1)";this.cw="rgba("+(0|a.q)+","+(0|a.p)+","+(0|a.k)+", 1)"},sd:null,FB:function(a){q.Ib.prototype.sd.call(this,a);this.ei()},ta:null,Sr:function(a){this.Xi!==a&&(q.v.prototype.ta.call(this,a),this.ei(),this.xd=!0)},td:null,Jca:function(a){q.Ib.prototype.td.call(this,
a);this.ei()},CC:function(){return this.Kg},F4:function(){return this.Tk},M6:function(){return this.ll},o4:function(){return q.size(this.Wd.width,this.Wd.height)},z4:function(){return this.Xd},y4:function(){return this.tf},ul:function(a,c,d,e,f,g){a=a?a+"":"";d=d||16;e=e||q.size(0,d);f=f||q.Bq;g=g||q.Gu;return q.v.prototype.w.call(this)?(this.xc=!1,this.Wd=q.size(e.width,e.height),this.tf=c||"Arial",this.Tk=f,this.ll=g,this.Xd=d*q.bd(),this.Qj=this.Xd+"px '"+c+"'",this.Pj=q.V.Mu(c,this.Xd),this.pa(a),
this.ei(),this.HB(),this.xd=!1,!0):!1},RC:null,JO:function(a,c){if(!q.v.prototype.w.call(this))return!1;this.IB(c,!1);this.pa(a);return!0},KO:function(a,c){if(!q.v.prototype.w.call(this))return!1;this.$g(q.Sh.f().zi(q.V.DN));this.IB(c,!1);this.pa(a);return!0},qba:function(a){a&&this.IB(a,!0)},s6:function(){return this.nP(!1)},nS:function(a,c,d){c=c||0.5;!1===this.ck&&(this.ck=!0);var e=this.Jg;if(e&&e.width!=a.width||e.height!=a.height)e.width=a.width,e.height=a.height;this.hp!=c&&(this.hp=c);this.ei();
this.Vr!=d&&(this.Vr=d);this.xd=!0},J2:function(){this.ck&&(this.ck=!1,this.xd=!0)},oS:function(a,c){!1===this.hl&&(this.hl=!0);var d=this.as;if(d.q!==a.q||d.p!==a.p||d.k!==a.k)d.q=a.q,d.p=a.p,d.k=a.k,this.ei();this.np!==c&&(this.np=c||0);this.xd=!0},K2:function(){this.hl&&(this.hl=!1,this.xd=!0)},MD:null,RP:function(a){var c=this.op;if(c.q!=a.q||c.p!=a.p||c.k!=a.k)c.q=a.q,c.p=a.p,c.k=a.k,this.ei(),this.xd=!0},SP:function(a){var c=this.op;if(c.q!=a.q||c.p!=a.p||c.k!=a.k)c.q=a.q,c.p=a.p,c.k=a.k,this.ei(),
this.xd=!0},IB:function(a,c){a.As?(this.Wd.width=a.As.width,this.Wd.height=a.As.height):(this.Wd.width=0,this.Wd.height=0);this.Tk=a.iI;this.ll=a.jI;this.tf=a.Bs;this.Xd=a.fontSize||12;this.Qj=this.Xd+"px '"+this.tf+"'";this.Pj=q.V.Mu(this.tf,this.Xd);a.lL&&this.nS(a.mL,a.nL,a.shadowBlur,!1);a.hE&&this.oS(a.strokeColor,a.xL,!1);this.MD(a.kI,!1);c&&this.HB()},nP:function(a){var c=new q.tM;a?(c.fontSize=this.Xd,c.As=q.$y(this.Wd)):(c.fontSize=this.Xd,c.As=q.size(this.Wd.width,this.Wd.height));c.Bs=
this.tf;c.iI=this.Tk;c.jI=this.ll;if(this.hl){c.hE=!0;var d=this.as;c.strokeColor=new q.Ac(d.q,d.p,d.k);c.xL=this.np}else c.hE=!1;this.ck?(c.lL=!0,c.shadowBlur=this.Vr,c.nL=this.hp,c.mL=a?q.$y(this.Jg):q.size(this.Jg.width,this.Jg.height)):c.ck=!1;a=this.op;c.kI=new q.Ac(a.q,a.p,a.k);return c},Pj:18,pa:function(a){a&&(a=String(a),a=a.replace("\x3cCOPYRIGHT\x3e","\u00a9"));this.HA!=a&&(this.HA=a+"",this.nH(),this.xd=!0)},nH:function(){this.Kg=this.HA},qaa:function(a){a!==this.Tk&&(this.Tk=a,this.xd=
!0)},Dba:function(a){a!=this.ll&&(this.ll=a,this.xd=!0)},yb:function(a){if(a.width!=this.Wd.width||a.height!=this.Wd.height)this.Wd=a,this.nH(),this.xd=!0},Bx:function(a){this.Xd!==a&&(this.Xd=a*q.bd(),this.Qj=this.Xd+"px '"+this.tf+"'",this.Pj=q.V.Mu(this.tf,this.Xd),this.xd=!0)},ND:function(a){this.tf&&this.tf!=a&&(this.tf=a,this.Qj=this.Xd+"px '"+a+"'",this.Pj=q.V.Mu(a,this.Xd),this.xd=!0)},sO:function(a){if(a){var c=this.yB,d=this.zB,e=this.Ba.xa-d,f=this.ll,g=this.Tk,h=this.Pj,k=this.np;a.setTransform(1,
0,0,1,0+0.5*c,e+0.5*d);a.font!=this.Qj&&(a.font=this.Qj);a.fillStyle=this.lv;var l=d=0,m=this.hl;m&&(a.lineWidth=2*k,a.strokeStyle=this.cw);this.ck&&(k=this.Jg,a.shadowColor=this.aw,a.shadowOffsetX=k.width,a.shadowOffsetY=-k.height,a.shadowBlur=this.Vr);a.textBaseline=q.V.qQ[f];a.textAlign=q.V.pQ[g];c=this.Ba.Ha-c;d=g===q.rN?d+c:g===q.Hj?d+Math.floor(c/2):d+0;a.lineHeight=this.Wd.height/this.cj.length;if(this.To)for(g=this.cj.length,f===q.Gu||f===q.Fu?l=h+e-h*g:f===q.Hu&&(l=h/2+(e-h*g)/2),f=0;f<g;f++)c=
this.cj[f],k=-e+h*f+l,m&&a.strokeText(c,d,k),a.fillText(c,d,k);else f!==q.Gu&&(l=f===q.Iu?l-e:f===q.Fu?l+e:l-0.5*e),m&&a.strokeText(this.Kg,d,l),a.fillText(this.Kg,d,l)}},oA:function(){if(this.Av)return this.Av;if(!this.zv){var a=document.createElement("canvas"),c=new q.gc;c.kf(a);this.ka(c);this.zv=a}return this.Av=this.zv.getContext("2d")},oH:function(){var a=this.Wd.width,c,d;this.rG=[];this.To=!1;this.ZO();if(0!==a){var e=this.Kg;this.cj=[];c=0;for(d=this.Kg.length;c<d;){var f=this.bO(e.substr(c),
a);this.cj.push(e.substr(c,f));c+=f}}else for(this.cj=this.Kg.split("\n"),c=0,d=this.cj.length;c<d;c++)this.rG.push(this.Gr(this.cj[c]));0<this.cj.length&&(this.To=!0);d=c=0;this.hl&&(c=d=2*this.np);this.ck&&(e=this.Jg,c+=2*Math.abs(e.width),d+=2*Math.abs(e.height));a=0===a?this.To?q.size(0|Math.max.apply(Math,this.rG)+c,0|this.Pj*this.cj.length+d):q.size(0|this.Gr(this.Kg)+c,0|this.Pj+d):0===this.Wd.height?this.To?q.size(0|a+c,0|this.Pj*this.cj.length+d):q.size(0|a+c,0|this.Pj+d):q.size(0|a+c,0|
this.Wd.height+d);this.T(a);this.yB=c;this.zB=d;e=this.km;this.Ed.H=0.5*c+Math.round((a.width-c)*e.H);this.Ed.Q=0.5*d+Math.round((a.height-d)*e.Q)},c:function(){this.xd&&this.oH();return q.v.prototype.c.call(this)},HB:function(){var a=this.oA(),c=this.zv,d=this.Ba;if(0===this.Kg.length)return c.width=1,c.height=d.xa,this.fb(q.rect(0,0,1,d.xa)),!0;a.font=this.Qj;this.oH();var e=d.Ha,d=d.xa,f=c.width==e&&c.height==d;c.width=e;c.height=d;f&&a.clearRect(0,0,e,d);this.sO(a);this.Ga.ce();this.rL=!0;this.fb(q.rect(0,
0,e,d));return!0},Aa:function(a){this.Kg&&""!=this.Kg&&(this.xd&&(this.xd=!1,this.HB()),q.v.prototype.Aa.call(this,a||q.aa))},Wa:null,Bg:function(a){if(this.Kg&&""!=this.Kg){a=a||q.aa;var c=this.Ga;c&&c.Ic&&(this.Wc.qf(),this.Wc.ah(),q.pk(this.oa.src,this.oa.Qb),q.Ng(c),q.He(q.Eu),a.bindBuffer(a.ARRAY_BUFFER,this.Vv),this.xf&&(a.bufferData(a.ARRAY_BUFFER,this.Vb.UB,a.STATIC_DRAW),this.xf=!1),a.vertexAttribPointer(q.Ue,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(q.Eq,2,a.FLOAT,!1,24,16),a.vertexAttribPointer(q.Dq,
4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));1===q.Ej?(a=this.Vb,a=[q.a(a.Xa.A.x,a.Xa.A.y),q.a(a.Oa.A.x,a.Oa.A.y),q.a(a.$a.A.x,a.$a.A.y),q.a(a.Ra.A.x,a.Ra.A.y)],q.Ae.be(a,4,!0)):2===q.Ej&&(a=this.DC().Va,c=this.nc,a=[q.a(c.x,c.y),q.a(c.x+a.width,c.y),q.a(c.x+a.width,c.y+a.height),q.a(c.x,c.y+a.height)],q.Ae.be(a,4,!0));q.Ch++}},jB:function(a,c,d){this.kd=c||!1;d=d||q.size(a.width/q.bd(),a.height/q.bd());this.T(d);this.ZD(a);this.rL&&(c=q.qa.f().va,d=q.qa.f().Ca,this.za.width/=c,
this.za.height/=d);c=this.Rm;d=this.Ko;c.x=a.x;c.y=a.y;c.width=a.width;c.height=a.height;c.Wl=!(0===c.width||0===c.height);d.width=c.width;d.height=c.height;d.Wl=!(0===d.width||0===d.height);a=this.ii;this.hc&&(a.H=-a.H);this.ic&&(a.Q=-a.Q);this.nc.H=a.x+(this.Ba.Ha-this.za.width)/2;this.nc.Q=a.y+(this.Ba.xa-this.za.height)/2;this.pb&&(this.Na=!0)},Oj:function(a){if(this.ub){a=a||q.aa;this.xm&&(a.globalCompositeOperation="lighter");a.IT=this.ip;var c=q.qa.f().va,d=q.qa.f().Ca;a.globalAlpha=this.dc/
255;var e=this.za,f=this.Ba,g=this.nc,h=this.Ko,k=0|g.H,l=-g.Q-e.height,m=this.Rm;!0==this.Xr&&(a.shadowBlur=30,a.shadowColor="black");if(this.hc||this.ic)a.save(),this.hc&&(k=-g.H-e.width,a.scale(-1,1)),this.ic&&(l=g.Q,a.scale(1,-1));k*=c;l*=d;if(this.Ga&&m.Wl)e=this.Ga.wc,this.Pq?a.drawImage(e,0,0,m.width,m.height,k,l,h.width,h.height):a.drawImage(e,m.x,m.y,m.width,m.height,k,l,h.width,h.height);else if(0!==f.Ha){var p=this.Cd();a.fillStyle="rgba("+p.q+","+p.p+","+p.k+",1)";a.fillRect(k,l,f.Ha*
c,f.xa*d)}!0==this.Xr&&(a.shadowBlur=0);!0==this.oB&&(a.globalAlpha=1,a.beginPath(),a.strokeStyle="rgba("+p.q+","+p.p+","+p.k+",1)",a.lineWidth="1",ha(a,k,l,f.Ha*c,f.xa*d),a.stroke());2===q.Ej&&(a.strokeStyle="rgba(0,255,0,1)",p=this.za.Va,l=-l,k=[q.a(k,l),q.a(k+p.width,l),q.a(k+p.width,l-p.height),q.a(k,l-p.height)],q.Ae.be(k,4,!0));(this.hc||this.ic)&&a.restore();q.Ch++}},QG:function(a){var c=this.pb?this.Sa.ia():this.Ga;if(c){var d=c.Op(),e=c.Np(),f,g=this.Vb;this.kd?(q.Xt?(c=(2*a.x+1)/(2*d),d=
c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/d,f=a.y/e,a=(a.y+a.width)/e),this.hc&&(e=f,f=a,a=e),this.ic&&(e=c,c=d,d=e),g.Oa.F.Ta=c,g.Oa.F.ua=f,g.$a.F.Ta=c,g.$a.F.ua=a,g.Xa.F.Ta=d,g.Xa.F.ua=f,g.Ra.F.Ta=d,g.Ra.F.ua=a):(q.Xt?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+a.height)/e),this.hc&&(e=c,c=d,d=e),this.ic&&(e=f,f=a,a=e),g.Oa.F.Ta=c,g.Oa.F.ua=a,g.$a.F.Ta=d,g.$a.F.ua=
a,g.Xa.F.Ta=c,g.Xa.F.ua=f,g.Ra.F.Ta=d,g.Ra.F.ua=f);this.xf=!0}}});q.Ja.ad?(b=q.V.prototype,b.t=q.v.prototype.t,b.ei=q.V.prototype.NP,b.sd=q.v.prototype.sd,b.ta=q.v.prototype.ta,b.td=q.v.prototype.td,b.RC=q.V.prototype.KO,b.MD=q.V.prototype.SP,b.Wa=q.V.prototype.Bg,b.fb=q.v.prototype.RG):(b=q.V.prototype,b.t=q.V.prototype.Qr,b.ei=q.V.prototype.NG,b.sd=q.V.prototype.FB,b.ta=q.V.prototype.Sr,b.td=q.V.prototype.kH,b.RC=q.V.prototype.JO,b.MD=q.V.prototype.RP,b.Wa=q.V.prototype.Oj,b.fb=q.V.prototype.jB);
q.V.pQ=["left","center","right"];q.V.qQ=["top","middle","bottom","alphabetic"];q.V.cO=/(.+?)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;q.V.EP=/(.*)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;q.V.aO=/[\s\-\/\\\:]/;q.V.create=function(a,c,d,e,f,g){var h=new q.V;return h.ul(a,c,d,e,f,g)?h:null};q.V.y2=function(a,c){var d=new q.V;return d&&d.RC(a,c)?d:null};q.V.DN=q.zN?q.Zy:q.H_;q.V.gm=document.createElement("div");q.V.gm.style.fontFamily="Arial";q.V.gm.style.position="absolute";
q.V.gm.style.left="-100px";q.V.gm.style.top="-100px";q.V.gm.style.lineHeight="normal";document.body.appendChild(q.V.gm);q.V.Mu=function(a,c){var d=q.V.EF[a+"."+c];if(0<d)return d;var e=q.V.gm;e.innerHTML="ajghl~!";e.style.fontFamily=a;e.style.fontSize=c+"px";d=e.clientHeight;q.V.EF[a+"."+c]=d;e.innerHTML="";return d};q.V.EF={};q.wM=q.Ma.extend({Yc:null,target:null,bn:0,Ah:null,gn:!1,paused:!1,hh:null,ctor:function(){this.Yc=[];this.Y=null;this.bn=0;this.Ah=null;this.paused=this.gn=!1;this.hh=null}});
q.VL=q.Ma.extend({Wh:null,qo:null,sf:null,Oi:!1,$0:function(a,c){for(var d=0;d<a.length;d++)if(c==a[d].target)return a[d];return null},ctor:function(){this.Wh={};this.qo=[];this.sf=null;this.Oi=!1},LQ:function(a,c,d){if(!a)throw"cc.ActionManager.addAction(): action must be non-null";if(!c)throw"cc.ActionManager.addAction(): action must be non-null";var e=this.Wh[c.qc];e||(e=new q.wM,e.paused=d,e.target=c,this.Wh[c.qc]=e,this.qo.push(e));this.IN(e);e.Yc.push(a);a.ha(c)},d$:function(){for(var a=this.qo,
c=0;c<a.length;c++){var d=a[c];d&&this.gK(d.target,!0)}},gK:function(a,c){if(null!=a){var d=this.Wh[a.qc];d&&(-1===d.Yc.indexOf(d.Ah)||d.gn||(d.gn=!0),d.Yc=[],this.sf!=d||c?this.Wz(d):this.Oi=!0)}},fK:function(a){if(null!=a){var c=this.Wh[a.Dm.qc];if(c)for(var d=0;d<c.Yc.length;d++){if(c.Yc[d]==a){c.Yc.splice(d,1);break}}else q.log("cocos2d: removeAction: Target not found")}},IV:function(a,c){a==q.Wn&&q.log("cc.ActionManager.removeActionByTag(): an invalid tag");if(!c)throw"cc.ActionManager.removeActionByTag(): target must be non-null";
var d=this.Wh[c.qc];if(d)for(var e=d.Yc.length,f=0;f<e;++f){var g=d.Yc[f];if(g&&g.Bd===a&&g.Dm==c){this.rP(f,d);break}}},qC:function(a,c){a==q.Wn&&q.log("cc.ActionManager.getActionByTag(): an invalid tag");var d=this.Wh[c.qc];if(d){if(null!=d.Yc)for(var e=0;e<d.Yc.length;++e){var f=d.Yc[e];if(f&&f.Bd===a)return f}q.log("cocos2d : getActionByTag(tag \x3d"+a+"): Action not found")}return null},JJ:function(a){return(a=this.Wh[a.qc])?a.Yc?a.Yc.length:0:0},Us:function(a){if(a=this.Wh[a.qc])a.paused=!0},
Gn:function(a){if(a=this.Wh[a.qc])a.paused=!1},G9:function(){for(var a=[],c=this.qo,d=0;d<c.length;d++){var e=c[d];e&&!e.paused&&(e.paused=!0,a.push(e.target))}return a},aW:function(a){if(a)for(var c=0;c<a.length;c++)a[c]&&this.Gn(a[c])},R9:function(){q.da.f().Gf().jq(this)},rP:function(a,c){c.Yc[a]!=c.Ah||c.gn||(c.gn=!0);q.nq(c.Yc,a);c.bn>=a&&c.bn--;0==c.Yc.length&&(this.sf==c?this.Oi=!0:this.Wz(c))},Wz:function(a){a&&(delete this.Wh[a.target.qc],q.ie(this.qo,a),a.Yc=null,a.target=null)},IN:function(a){null==
a.Yc&&(a.Yc=[])},update:function(a){for(var c=this.qo,d,e=0;e<c.length;e++){d=this.sf=c[e];if(!d.paused)for(d.bn=0;d.bn<d.Yc.length;d.bn++)if(d.Ah=d.Yc[d.bn],d.Ah){d.gn=!1;d.Ah.step(a);if(d.gn)d.Ah=null;else if(d.Ah.ti()){d.Ah.stop();var f=d.Ah;d.Ah=null;this.fK(f)}d.Ah=null}this.Oi&&0===d.Yc.length&&this.Wz(d)}}});q.rf=q.Ma.extend({R:null,Tv:q.Dj(),Qf:0,ctor:function(a,c,d){this.R=q.a(a||0,c||0);this.Qf=d||0},R4:function(){return this.R},RS:function(){return this.Tv},k4:function(){return q.Pd(this.R,this.Tv)},I4:function(){return this.Qf},J4:function(){return this.Qf},WD:function(a,c,d){this.Tv=this.R;this.R=q.a(c||0,d||0);this.Qf=a},Yf:function(a,c){this.Tv=q.a(a||0,c||0)}});
q.zF=q.Ma.extend({D0:null,wb:function(){return!1},Od:function(){},Wg:function(){},tk:function(){},NJ:function(){},QJ:function(){},PJ:function(){},OJ:function(){},Cca:function(){},Bca:function(){}});q.a0=q.zF.extend({wb:function(){return!1},Od:function(){},Wg:function(){},tk:function(){}});q.R_=q.zF.extend({NJ:function(){},QJ:function(){},PJ:function(){},OJ:function(){}});q.mo=q.Ma.extend({Da:null,wf:0,Lo:0,sc:function(){return this.Da},lg:function(a){this.Da=a},SS:function(){return this.wf},dt:function(a){this.wf=a},DS:function(){return this.Lo},IW:function(a){this.Lo=a},qk:function(a,c){if(!a)throw"cc.TouchHandler.initWithDelegate(): touch delegate should not be null";this.Da=a;this.wf=c;this.Lo=0;return!0}});q.mo.create=function(a,c){var d=new q.mo;d&&d.qk(a,c);return d};q.dz=q.mo.extend({qk:function(a,c){return q.mo.prototype.qk.call(this,a,c)}});
q.dz.create=function(a,c){var d=new q.dz;d&&d.qk(a,c);return d};q.xu=q.mo.extend({gw:!1,Eo:null,c8:function(){return this.gw},nba:function(a){this.gw=a},V3:function(){return this.Eo},qk:function(a,c,d){return q.mo.prototype.qk.call(this,a,c)?(this.Eo=[],this.gw=d,!0):!1}});q.xu.create=function(a,c,d){var e=new q.xu;e&&e.qk(a,c,d);return e};q.uN=1;q.xN=2;q.wN=4;q.vN=8;q.d0=q.uN|q.xN|q.wN|q.vN;q.hz=0;q.kz=1;q.jz=2;q.iz=3;q.c0=4;q.yJ=function(a,c){return a.wf>c.wf};q.Bu=function(a){this.type=a};
q.ra=q.Ma.extend({$j:!1,cf:null,bf:null,zm:!1,is:!1,qw:!1,Uk:null,Rj:null,pw:!1,Nj:!1,CO:[new q.Bu(q.hz),new q.Bu(q.kz),new q.Bu(q.jz),new q.Bu(q.iz)],w:function(){this.Nj=!0;this.cf=[];this.bf=[];this.Uk=[];this.Rj=[];this.$j=this.zm=this.pw=this.is=this.qw=!1;q.ra.EV();return!0},Rr:function(a){this.$j=a},xO:function(){return this.$j},B7:function(){return this.Nj},GW:function(a){this.Nj=a},MN:function(a,c){var d=q.dz.create(a,c||0);this.zm?-1!=this.Rj.indexOf(a)?q.ie(this.Rj,a):(this.Uk.push(d),
this.is=!0):this.bf=this.Fp(d,this.bf)},NN:function(a,c,d){c=q.xu.create(a,c,d);this.zm?-1!=this.Rj.indexOf(a)?q.ie(this.Rj,a):(this.Uk.push(c),this.is=!0):this.cf=this.Fp(c,this.cf)},Fp:function(a,c){for(var d=0,e,f=0;f<c.length;f++)if(e=c[f])if(e.wf<a.wf&&++d,e.sc()==a.sc())return q.log("cc.TouchDispatcher.forceAddHandler(): The handler has been added."),c;return q.$l(c,a,d)},lI:function(){this.bf.length=0;this.cf.length=0},uP:function(a){if(null!=a)if(this.zm){var c=this.gI(this.Uk,a);c?q.ie(this.Uk,
c):(this.Rj.push(a),this.qw=!0)}else this.mI(a)},KV:function(){this.zm?this.pw=!0:this.lI()},dt:function(a,c){if(!c)throw"cc.TouchDispatcher.setPriority(): delegate should be non-null.";var d=this.gI(c);d?d.wf!=a&&(d.dt(a),this.aK(this.cf),this.aK(this.bf)):q.log("cc.TouchDispatcher.setPriority(): Can't find TouchHandler.")},touches:function(a,c,d){if(0>d||4<=d)throw"cc.TouchDispatcher.touches(): invalid index";this.zm=!0;var e=this.cf.length,f=this.bf.length,g=e&&f,h=g?a.slice():a,k=this.CO[d];if(0<
e)for(var l,m,p=0;p<a.length;p++)for(var e=a[p],t=0;t<this.cf.length;t++){l=this.cf[t];if(!l)break;m=!1;if(d==q.hz)l.sc().wb&&(m=l.sc().wb(e,c))&&l.Eo.push(e);else if(0<l.Eo.length)switch(m=!0,k.type){case q.kz:q.Ja.nj?l.sc().Od&&l.sc().Od(e,c):this.$j&&l.sc().Od&&l.sc().Od(e,c);break;case q.jz:l.sc().Wg&&l.sc().Wg(e,c);l.Eo.length=0;break;case q.iz:l.sc().tk&&l.sc().tk(e,c),l.Eo.length=0}if(m&&l.gw){g&&q.ie(h,e);break}}if(0<f)for(p=0;p<this.bf.length&&(l=this.bf[p],l);p++);this.zm=!1;if(this.qw){this.qw=
!1;for(p=0;p<this.Rj.length;p++)this.mI(this.Rj[p]);this.Rj.length=0}if(this.is){this.is=!1;for(p=0;p<this.Uk.length;p++){l=this.Uk[p];if(!l)break;l instanceof q.xu?this.cf=this.Fp(l,this.cf):this.bf=this.Fp(l,this.bf)}this.Uk.length=0}this.pw&&(this.pw=!1,this.lI())},Yx:function(a,c){this.Nj&&this.touches(a,c,q.hz)},Zx:function(a,c){this.Nj&&this.touches(a,c,q.kz)},mt:function(a,c){this.Nj&&this.touches(a,c,q.jz)},nE:function(a,c){this.Nj&&this.touches(a,c,q.iz)},gI:function(a,c){switch(arguments.length){case 1:c=
arguments[0];if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(var d=0;d<this.cf.length;d++)if(this.cf[d].sc()==c)return this.cf[d];for(d=0;d<this.bf.length;d++)if(this.bf[d].sc()==c)return this.bf[d];return null;case 2:if(!a)throw"cc.TouchDispatcher.findHandler(): array should be non-null.";if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(d=0;d<a.length;d++)if(a[d].sc()==c)return a[d];return null;default:throw"Argument must be non-nil ";
}},mI:function(a){for(var c,d=0;d<this.bf.length;d++)if((c=this.bf[d])&&c.sc()==a){q.ie(this.bf,c);break}for(d=0;d<this.cf.length;d++)if((c=this.cf[d])&&c.sc()==a){q.ie(this.cf,c);break}},aK:function(a){a.sort(q.yJ)}});q.ra.Cb=q.a(0,0);q.ra.nJ=!1;
q.hj=function(a){var c=document.documentElement,d=window,e=null,e="function"===typeof a.getBoundingClientRect?a.getBoundingClientRect():a instanceof HTMLCanvasElement?{left:0,top:0,width:a.width,height:a.height}:{left:0,top:0,width:parseInt(a.style.width),height:parseInt(a.style.height)};return{left:e.left+d.pageXOffset-c.clientLeft,top:e.top+d.pageYOffset-c.clientTop,width:e.width,height:e.height}};
q.fN=function(a,c){var d=q.hj(a),e,f;null!=c.pageX?(e=c.pageX,f=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,e=c.clientX,f=c.clientY);e=q.qa.f().mk(e,f,d);d=new q.rf(e.x,e.y);d.Yf(q.ra.Cb.x,q.ra.Cb.y);q.ra.Cb.x=e.x;q.ra.Cb.y=e.y;e=[];e.push(d);q.qa.f().mt(e,null)};
q.ra.EV=function(){var a=q.canvas;if(!q.ra.nJ){if(q.Ja.nj)if(window.navigator.msPointerEnabled){var c={MSPointerDown:"touchesBegan",MSPointerMove:"touchesMoved",MSPointerUp:"touchesEnded",MSPointerCancel:"touchesCancelled"},d;for(d in c)(function(c,d){a.addEventListener(c,function(c){var e=q.hj(a);e.left-=document.body.scrollLeft;e.top-=document.body.scrollTop;var k,l;k=c.clientX;l=c.clientY;k=q.qa.f().mk(k,l,e);e=new q.rf(k.x,k.y);e.Yf(q.ra.Cb.x,q.ra.Cb.y);q.ra.Cb.x=k.x;q.ra.Cb.y=k.y;q.da.f().ef[d]([e],
null);c.stopPropagation();c.preventDefault()},!1)})(d,c[d])}else a.addEventListener("touchstart",function(c){if(c.changedTouches){var d=[],g=q.hj(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,p=0;p<m;p++)if(h=c.changedTouches[p])k=h.clientX,l=h.clientY,k=q.qa.f().mk(k,l,g),h.hasOwnProperty("identifier")?(h=new q.rf(k.x,k.y,h.identifier),l=q.ra.ov(h).R,h.Yf(l.x,l.y),q.ra.OG(h)):(h=new q.rf(k.x,k.y),h.Yf(q.ra.Cb.x,q.ra.Cb.y)),q.ra.Cb.x=k.x,
q.ra.Cb.y=k.y,d.push(h);q.qa.f().Yx(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchmove",function(c){if(c.changedTouches){var d=[],g=q.hj(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,p=0;p<m;p++)if(h=c.changedTouches[p])k=h.clientX,l=h.clientY,k=q.qa.f().mk(k,l,g),h.hasOwnProperty("identifier")?(h=new q.rf(k.x,k.y,h.identifier),l=q.ra.ov(h).R,h.Yf(l.x,l.y),q.ra.OG(h)):(h=new q.rf(k.x,k.y),h.Yf(q.ra.Cb.x,q.ra.Cb.y)),
q.ra.Cb.x=k.x,q.ra.Cb.y=k.y,d.push(h);q.qa.f().Zx(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchend",function(c){if(c.changedTouches){var d=[],g=q.hj(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,p=0;p<m;p++)if(h=c.changedTouches[p])k=h.clientX,l=h.clientY,k=q.qa.f().mk(k,l,g),h.hasOwnProperty("identifier")?(h=new q.rf(k.x,k.y,h.identifier),l=q.ra.ov(h).R,h.Yf(l.x,l.y),q.ra.WF(h)):(h=new q.rf(k.x,k.y),h.Yf(q.ra.Cb.x,
q.ra.Cb.y)),q.ra.Cb.x=k.x,q.ra.Cb.y=k.y,d.push(h);q.qa.f().mt(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchcancel",function(c){if(c.changedTouches){var d=[],g=q.hj(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,p=0;p<m;p++)if(h=c.changedTouches[p])k=h.clientX,l=h.clientY,k=q.qa.f().mk(k,l,g),h.hasOwnProperty("identifier")?(h=new q.rf(k.x,k.y,h.identifier),l=q.ra.ov(h).R,h.Yf(l.x,l.y),q.ra.WF(h)):(h=new q.rf(k.x,
k.y),h.Yf(q.ra.Cb.x,q.ra.Cb.y)),q.ra.Cb.x=k.x,q.ra.Cb.y=k.y,d.push(h);q.qa.f().nE(d,null);c.stopPropagation();c.preventDefault()}},!1);else window.addEventListener("mousedown",function(){q.da.f().ef.Rr(!0)}),window.addEventListener("mouseup",function(c){q.da.f().ef.Rr(!1);var d=q.hj(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);q.rb(new q.vg(d.left,d.top,d.width,d.height),q.a(g,c))||(g=q.qa.f().mk(g,c,d),d=new q.rf(g.x,
g.y),d.Yf(q.ra.Cb.x,q.ra.Cb.y),q.ra.Cb.x=g.x,q.ra.Cb.y=g.y,g=[],g.push(d),q.qa.f().mt(g,null))}),a.addEventListener("mousedown",function(c){var d=q.hj(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=q.qa.f().mk(g,c,d);d=new q.rf(g.x,g.y);d.Yf(q.ra.Cb.x,q.ra.Cb.y);q.ra.Cb.x=g.x;q.ra.Cb.y=g.y;g=[];g.push(d);q.qa.f().Yx(g,null)}),a.addEventListener("mouseup",function(c){q.fN(a,c)}),a.addEventListener("mousemove",function(c){var d=
q.hj(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=q.qa.f().mk(g,c,d);d=new q.rf(g.x,g.y);d.Yf(q.ra.Cb.x,q.ra.Cb.y);q.ra.Cb.x=g.x;q.ra.Cb.y=g.y;g=[];g.push(d);q.qa.f().Zx(g,null)});q.ra.nJ=!0}};q.ra.ov=function(a){for(var c=null,d=q.ra.OA,e=a.Qf,f=d.length-1;0<=f;f--)if(d[f].Qf==e){c=d[f];break}c||(c=a);return c};
q.ra.OG=function(a){for(var c=!1,d=q.ra.OA,e=a.Qf,f=d.length-1;0<=f;f--)if(d[f].Qf==e){d[f]=a;c=!0;break}c||(50>=d.length?d.push(a):(d[q.ra.PA]=a,q.ra.PA=(q.ra.PA+1)%50))};q.ra.WF=function(a){var c,d=q.ra.OA;c=a.Qf;for(a=d.length-1;0<=a;a--)if(d[a].Qf==c){c=d.pop();a!=d.length&&(d[a]=c);break}};q.ra.OA=[];q.ra.PA=0;q.sD=function(a,c,d){q.da.f().ef.NN(d,a,c)};q.FV=function(a,c){q.da.f().ef.MN(a,c)};q.CL=function(a){q.da.f().ef.uP(a)};q.QM=1;q.WE=2;q.UZ=4;q.UM=8;q.u_=16;q.v_=32;q.w_=64;q.g_=128;q.h_=256;q.i_=512;q.nF=1024;q.RM=2048;q.SM=4096;q.TM=0;q.VZ=1;q.XE=2;q.XZ=q.Ma.extend({DU:function(){return!1},EU:function(){return!1},yi:function(){return!1},HU:function(){return!1},LU:function(){return!1},MU:function(){return!1},NU:function(){return!1},IU:function(){return!1},JU:function(){return!1},KU:function(){return!1},OU:function(){return!1},FU:function(){return!1},GU:function(){return!1}});
q.VM=q.rf.extend({rH:0,OF:q.TM,R6:function(){return this.rH},hL:function(a){this.rH=a},N3:function(){return this.OF},uW:function(a){this.OF=a}});q.Oy=q.Ma.extend({Da:null,wf:0,Lo:0,sc:function(){return this.Da},lg:function(a){this.Da=a},SS:function(){return this.wf},dt:function(a){this.wf=a},DS:function(){return this.Lo},IW:function(a){this.Lo=a},qk:function(a,c){this.Da=a;this.wf=c}});q.Oy.create=function(a,c){var d=new q.Oy;d.qk(a,c);return d};
q.me=q.Ma.extend({$j:!1,Xv:!1,Rf:null,Nj:!1,w:function(){this.Nj=!0;this.Rf=[];this.Xv=this.$j=!1;q.me.pP();return!0},Rr:function(a){this.$j=a},xO:function(){return this.$j},PG:function(a){this.Xv=a},K0:function(){return this.Xv},BH:function(a,c){var d=q.Oy.create(a,c);this.Rf=this.Fp(d,this.Rf)},Fp:function(a,c){for(var d=0,e=0;e<c.length;e++){var f=c[e];if(f&&(f.wf<a.wf&&++d,f.sc()==a.sc()))return q.log("cc.MouseDispatcher.forceAddHandler(): handler has been added."),c}return q.$l(c,a,d)},hK:function(a){if(null!=
a)for(var c=0;c<this.Rf.length;c++){var d=this.Rf[c];if(d&&d.sc()==a){q.ie(this.Rf,d);break}}},vO:function(a){for(var c=0;c<this.Rf.length;c++)if(this.Rf[c]&&this.Rf[c].sc()==a)return this.Rf[c];return null},dt:function(a,c){if(!c)throw"cc.MouseDispatcher.setPriority(): delegate should be non-null";var d=this.vO(c);d?d.wf!=a&&(d.dt(a),this.Rf.sort(q.yJ)):q.log("cc.MouseDispatcher.setPriority(): Can't find MouseHandler in array")},g$:function(){this.Rf.length=0},un:function(a,c,d){for(c=0;c<this.Rf.length;c++){var e=
this.Rf[c];switch(d){case q.WE:this.$j||this.Xv||!e.sc().yi||e.sc().yi(a)}}}});q.me.Sv=q.a(0,0);q.me.TO=!1;
q.me.pP=function(){var a=q.canvas;function c(c){var e=q.hj(a),f=c.pageX,g=c.pageY,h=q.qa.f(),f=(f-e.left)/h.va,e=(e.height-(g-e.top))/h.Ca,g=new q.VM(f,e);g.Yf(q.me.Sv.x,q.me.Sv.y);g.uW(c.button);q.me.Sv.x=f;q.me.Sv.y=e;return g}q.me.TO||(window.addEventListener("mousedown",function(a){a.button==q.XE?q.da.f().Ff().PG(!0):q.da.f().Ff().Rr(!0)}),window.addEventListener("mouseup",function(a){a.button==q.XE?q.da.f().Ff().PG(!1):q.da.f().Ff().Rr(!1)}),a.addEventListener("mousedown",function(a){q.da.f().Ff().un(c(a),
a,q.QM)}),a.addEventListener("mouseup",function(a){q.da.f().Ff().un(c(a),a,q.UM)}),a.addEventListener("mousemove",function(a){q.da.f().Ff().un(c(a),a,q.WE)}),a.addEventListener("mousewheel",function(a){var e=c(a);e.hL(a.wheelDelta);q.da.f().Ff().un(e,a,q.nF)},!1),a.addEventListener("DOMMouseScroll",function(a){var e=c(a);e.hL(-120*a.detail);q.da.f().Ff().un(e,a,q.nF)}),a.addEventListener("mouseout",function(a){q.da.f().Ff().un(c(a),a,q.SM)},!1),a.addEventListener("mouseover",function(a){q.da.f().Ff().un(c(a),
a,q.RM)},!1))};q.Qca=function(){return{x:0,y:0}};q.Vl=function(a,c){return{x:a,y:c}};q.dh=function(a,c){return q.Vl(a.x+c.x,a.y+c.y)};q.Dd=function(a,c){return q.Vl(a.x-c.x,a.y-c.y)};q.qg=function(a,c){return q.Vl(a.x*c,a.y*c)};q.fy=function(a){return q.Vl(-a.y,a.x)};q.xj=function(a){return q.Vl(-a.x,-a.y)};q.mY=function(a,c){return a.x*c.x+a.y*c.y};q.Pca=function(a){return q.Vl(Math.cos(a),Math.sin(a))};q.sE=function(a){a=q.Kh(q.a(a.x,a.y));return q.Vl(a.x,a.y)};q.Gi=function(a){return q.Vl(a.x,a.y)};
q.Kb=function(a){return{Ta:a.x,ua:a.y}};
q.oM=q.G.extend({jb:null,oa:null,Jo:null,Yo:null,Ds:function(){return this.oa},Kl:function(a){this.oa=a},gaa:function(a){this.Jo=q.j(a.q,a.p,a.k,a.N)},zaa:function(a){this.Yo=null==a?null:q.j(a.q,a.p,a.k,a.N)},Nw:function(){return q.j(this.Jo.q,this.Jo.p,this.Jo.k,this.Jo.N)},uI:function(){return this.Yo?q.j(this.Yo.q,this.Yo.p,this.Yo.k,this.Yo.N):null},ctor:function(){q.G.prototype.ctor.call(this);this.jb=[];this.Jo=q.j(0,0,0,255);this.oa=new q.bm(q.Re,q.Qe)},Wa:function(a){a=a||q.aa;var c=q.qa.f().va;
this.oa&&770==this.oa.src&&1==this.oa.Qb&&(a.globalCompositeOperation="lighter");for(var d=0;d<this.jb.length;d++){var e=this.jb[d];e.type===q.tg.wF&&(a.fillStyle="rgba("+(0|e.color.q)+","+(0|e.color.p)+","+(0|e.color.k)+","+e.color.N/255+")",q.Ae.hC(e.position,e.qD));e.type===q.tg.xF&&(a.strokeStyle="rgba("+(0|e.color.q)+","+(0|e.color.p)+","+(0|e.color.k)+","+e.color.N/255+")",a.lineWidth=2*e.qD*c,a.lineCap="round",q.Ae.ni(e.from,e.Ul));e.type===q.tg.lz&&(a.fillStyle="rgba("+(0|e.fillColor.q)+","+
(0|e.fillColor.p)+","+(0|e.fillColor.k)+","+e.fillColor.N/255+")",q.Ae.be(e.gy,e.count,!1,!0),a.lineWidth=2*e.borderWidth*c,a.lineCap="round",a.strokeStyle="rgba("+(0|e.borderColor.q)+","+(0|e.borderColor.p)+","+(0|e.borderColor.k)+","+e.borderColor.N/255+")",q.Ae.be(e.gy,e.count,!0,!1))}},iC:function(a,c,d,e,f,g){f=f||this.S0;g=g||this.Nw();null==g.N&&(g.N=255);for(var h=[],k=0,l=0;l<e;l++)h.push(q.a(Math.pow(1-k,2)*a.x+2*(1-k)*k*c.x+k*k*d.x,Math.pow(1-k,2)*a.y+2*(1-k)*k*c.y+k*k*d.y)),k+=1/e;h.push(q.a(d.x,
d.y));a=new q.Ku(q.tg.lz);a.gy=h;a.lineWidth=f;a.fillColor=g;a.borderColor=g;a.b8=!0;a.lineCap="round";this.jb.push(a)},fS:function(a,c,d){var e=new q.Ku(q.tg.wF);e.position=q.a(a.x,a.y);e.qD=c;e.color=d;this.jb.push(e)},jS:function(a,c,d,e){var f=new q.Ku(q.tg.xF);f.from=q.a(a.x,a.y);f.Ul=q.a(c.x,c.y);f.qD=d?d:1;f.color=e?e:this.Nw();this.jb.push(f)},be:function(a,c,d,e){var f=new q.Ku(q.tg.lz);f.gy=a;f.count=a.length;f.fillColor=c?c:this.Nw();f.borderWidth=d?d:1;f.borderColor=e?e:this.uI()?this.uI():
this.Nw();this.jb.push(f)},clear:function(){this.jb.length=0}});
q.pM=q.G.extend({vo:0,jb:null,kl:null,eH:null,dH:null,oa:null,Na:!1,Ds:function(){return this.oa},Kl:function(a){this.oa=a},ctor:function(){q.G.prototype.ctor.call(this);this.jb=[];this.oa=new q.bm(q.Re,q.Qe)},w:function(){return q.G.prototype.w.call(this)?(this.$g(q.Sh.f().zi(q.G_)),this.fA(512),this.eH=q.aa.createBuffer(),this.Na=!0):!1},AP:function(){var a=q.aa;q.He(q.Eu);a.bindBuffer(a.ARRAY_BUFFER,this.eH);this.Na&&(a.bufferData(a.ARRAY_BUFFER,this.kl,a.STREAM_DRAW),this.Na=!1);var c=q.cc.BYTES_PER_ELEMENT;
a.vertexAttribPointer(q.Ue,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(q.Dq,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(q.Eq,2,a.FLOAT,!1,c,12);a.drawArrays(a.TRIANGLES,0,3*this.jb.length);q.Ph()},fA:function(a){if(this.jb.length+a>this.vo){var c=q.Uc.BYTES_PER_ELEMENT;this.vo+=Math.max(this.vo,a);if(null==this.jb||0===this.jb.length)this.jb=[],this.kl=new ArrayBuffer(c*this.vo),this.dH=new Uint8Array(this.kl);else{a=[];for(var d=new ArrayBuffer(c*this.vo),e=0;e<this.jb.length;e++)a[e]=new q.Uc(this.jb[e].N,
this.jb[e].k,this.jb[e].La,d,e*c);this.dH=new Uint8Array(d);this.jb=a;this.kl=d}}},Wa:function(){q.pk(this.oa.src,this.oa.Qb);this.Wc.qf();this.Wc.dL();this.AP()},fS:function(a,c,d){d={q:0|255*d.q,p:0|255*d.p,k:0|255*d.k,N:0|255*d.N};var e={A:{x:a.x-c,y:a.y-c},U:d,F:{Ta:-1,ua:-1}},f={A:{x:a.x+c,y:a.y+c},U:d,F:{Ta:1,ua:1}},g={A:{x:a.x+c,y:a.y-c},U:d,F:{Ta:1,ua:-1}};this.jb.push(new q.Uc(e,{A:{x:a.x-c,y:a.y+c},U:d,F:{Ta:-1,ua:1}},f,this.kl,this.jb.length*q.Uc.BYTES_PER_ELEMENT));this.jb.push(new q.Uc(e,
f,g,this.kl,this.jb.length*q.Uc.BYTES_PER_ELEMENT));this.Na=!0},jS:function(a,c,d,e){this.fA(18);e={q:0|255*e.q,p:0|255*e.p,k:0|255*e.k,N:0|255*e.N};var f=q.Gi(a);c=q.Gi(c);a=q.sE(q.fy(q.Dd(c,f)));var g=q.fy(a),h=q.qg(a,d);d=q.qg(g,d);var k=q.dh(c,q.Dd(h,d)),l=q.Dd(c,h),m=q.dh(c,h),p=q.Dd(f,h),t=q.dh(f,h),u=q.Dd(f,q.Dd(h,d)),f=q.dh(f,q.dh(h,d)),w=q.Uc.BYTES_PER_ELEMENT,B=this.kl;this.jb.push(new q.Uc({A:q.Dd(c,q.dh(h,d)),U:e,F:q.Kb(q.xj(q.dh(a,g)))},{A:k,U:e,F:q.Kb(q.Dd(a,g))},{A:l,U:e,F:q.Kb(q.xj(a))},
B,this.jb.length*w));this.jb.push(new q.Uc({A:m,U:e,F:q.Kb(a)},{A:k,U:e,F:q.Kb(q.Dd(a,g))},{A:l,U:e,F:q.Kb(q.xj(a))},B,this.jb.length*w));this.jb.push(new q.Uc({A:m,U:e,F:q.Kb(a)},{A:p,U:e,F:q.Kb(q.xj(a))},{A:l,U:e,F:q.Kb(q.xj(a))},B,this.jb.length*w));this.jb.push(new q.Uc({A:m,U:e,F:q.Kb(a)},{A:p,U:e,F:q.Kb(q.xj(a))},{A:t,U:e,F:q.Kb(a)},B,this.jb.length*w));this.jb.push(new q.Uc({A:u,U:e,F:q.Kb(q.Dd(g,a))},{A:p,U:e,F:q.Kb(q.xj(a))},{A:t,U:e,F:q.Kb(a)},B,this.jb.length*w));this.jb.push(new q.Uc({A:u,
U:e,F:q.Kb(q.Dd(g,a))},{A:f,U:e,F:q.Kb(q.dh(a,g))},{A:t,U:e,F:q.Kb(a)},B,this.jb.length*w));this.Na=!0},be:function(a,c,d,e){c={q:0|255*c.q,p:0|255*c.p,k:0|255*c.k,N:0|255*c.N};e={q:0|255*e.q,p:0|255*e.p,k:0|255*e.k,N:0|255*e.N};var f=[],g,h,k,l,m=a.length;for(g=0;g<m;g++){h=q.Gi(a[(g-1+m)%m]);k=q.Gi(a[g]);l=q.Gi(a[(g+1)%m]);var p=q.sE(q.fy(q.Dd(k,h)));k=q.sE(q.fy(q.Dd(l,k)));f[g]={offset:q.qg(q.dh(p,k),1/(q.mY(p,k)+1)),EJ:k}}p=0<d;this.fA(3*(3*m-2));var t=q.Uc.BYTES_PER_ELEMENT,u=this.kl,w=this.jb,
B=!1==p?0.5:0;for(g=0;g<m-2;g++)h=q.Dd(q.Gi(a[0]),q.qg(f[0].offset,B)),k=q.Dd(q.Gi(a[g+1]),q.qg(f[g+1].offset,B)),l=q.Dd(q.Gi(a[g+2]),q.qg(f[g+2].offset,B)),w.push(new q.Uc({A:h,U:c,F:q.Kb({x:0,y:0})},{A:k,U:c,F:q.Kb({x:0,y:0})},{A:l,U:c,F:q.Kb({x:0,y:0})},u,w.length*t));for(g=0;g<m;g++){B=(g+1)%m;h=q.Gi(a[g]);k=q.Gi(a[B]);l=f[g].EJ;var E=f[g].offset,I=f[B].offset,B=p?q.Dd(h,q.qg(E,d)):q.Dd(h,q.qg(E,0.5)),D=p?q.Dd(k,q.qg(I,d)):q.Dd(k,q.qg(I,0.5));h=p?q.dh(h,q.qg(E,d)):q.dh(h,q.qg(E,0.5));k=p?q.dh(k,
q.qg(I,d)):q.dh(k,q.qg(I,0.5));p?(w.push(new q.Uc({A:B,U:e,F:q.Kb(q.xj(l))},{A:D,U:e,F:q.Kb(q.xj(l))},{A:k,U:e,F:q.Kb(l)},u,w.length*t)),w.push(new q.Uc({A:B,U:e,F:q.Kb(q.xj(l))},{A:h,U:e,F:q.Kb(l)},{A:k,U:e,F:q.Kb(l)},u,w.length*t))):(w.push(new q.Uc({A:B,U:c,F:q.Kb({x:0,y:0})},{A:D,U:c,F:q.Kb({x:0,y:0})},{A:k,U:c,F:q.Kb(l)},u,w.length*t)),w.push(new q.Uc({A:B,U:c,F:q.Kb({x:0,y:0})},{A:h,U:c,F:q.Kb(l)},{A:k,U:c,F:q.Kb(l)},u,w.length*t)))}this.Na=!0},clear:function(){this.jb.length=0;this.Na=!0}});
q.tg=q.Ja.ad?q.pM:q.oM;q.tg.create=function(){var a=new q.tg;return a&&a.w()?a:null};q.Ku=function(a){this.type=a};q.tg.wF=0;q.tg.xF=1;q.tg.lz=2;q.jt=-1;q.SK=function(a,c){a.$g(c);var d=a.B;if(d)for(var e=0;e<d.length;e++)q.SK(d[e],c)};
q.Ab=q.G.extend({yc:null,jm:0,Ti:!1,eG:!1,ctor:function(){q.G.prototype.ctor.call(this);this.yc=null;this.jm=0;this.Ti=!1},w:null,vA:function(a){this.yc=a;this.jm=1;this.Ti=!1;q.Ab.xA=!0;q.Ab.xA&&(q.jt=q.aa.getParameter(q.aa.STENCIL_BITS),0>=q.jt&&q.log("Stencil buffer is not enabled."),q.Ab.xA=!1);return!0},uA:function(a){this.yc=a;this.jm=1;this.Ti=!1},Vg:function(){q.G.prototype.Vg.call(this);this.yc.Vg()},xi:function(){q.G.prototype.xi.call(this);this.yc.xi()},Jh:function(){this.yc.Jh();q.G.prototype.Jh.call(this)},
ee:function(){this.yc.ee();q.G.prototype.ee.call(this)},Aa:null,Ym:function(a){var c=a||q.aa;if(1>q.jt)q.G.prototype.Aa.call(this,a);else if(this.yc&&this.yc.ya)if(q.Ab.Cr=-1,q.Ab.Cr+1==q.jt)q.Ab.OB=!0,q.Ab.OB&&(q.log("Nesting more than "+q.jt+"stencils is not supported. Everything will be drawn without stencil for this node and its childs."),q.Ab.OB=!1),q.G.prototype.Aa.call(this,a);else{q.Ab.Cr++;var d=1<<q.Ab.Cr,e=d|d-1,f=c.isEnabled(c.STENCIL_TEST),g=c.getParameter(c.STENCIL_WRITEMASK),h=c.getParameter(c.STENCIL_FUNC),
k=c.getParameter(c.STENCIL_REF),l=c.getParameter(c.STENCIL_VALUE_MASK),m=c.getParameter(c.STENCIL_FAIL),p=c.getParameter(c.STENCIL_PASS_DEPTH_FAIL),t=c.getParameter(c.STENCIL_PASS_DEPTH_PASS);c.enable(c.STENCIL_TEST);c.stencilMask(d);var u=c.getParameter(c.DEPTH_WRITEMASK);c.depthMask(!1);c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.Ti?c.REPLACE:c.ZERO,c.KEEP,c.KEEP);q.Ae.jC(q.Dj(),q.RU(),q.Cw(1,1,1,1));c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.Ti?c.ZERO:c.REPLACE,c.KEEP,c.KEEP);if(1>this.jm){var d=
q.Sh.f().zi(q.I_),w=c.getUniformLocation(d.Rw(),q.f0);q.Y6(d.Rw());d.cL(w,this.jm);q.SK(this.yc,d)}q.Yp();this.transform();this.yc.Aa();q.Xp();c.depthMask(u);c.stencilFunc(c.EQUAL,e,e);c.stencilOp(c.KEEP,c.KEEP,c.KEEP);q.G.prototype.Aa.call(this,a);c.stencilFunc(h,k,l);c.stencilOp(m,p,t);c.stencilMask(g);f||c.disable(c.STENCIL_TEST);q.Ab.Cr--}else this.Ti&&q.G.prototype.Aa.call(this,a)},Xm:function(a){if(this.yc&&this.yc.ya){if(this.Iz()||this.yc instanceof q.v){a=a||q.aa;var c=a.canvas,d=q.Ab.AO();
d.width=c.width;d.height=c.height;d.getContext("2d").drawImage(c,0,0);a.save();this._super(a);a.globalCompositeOperation=this.Ti?"destination-out":"destination-in";this.transform(a);this.yc.Aa();a.restore();a.save();a.setTransform(1,0,0,1,0,0);a.globalCompositeOperation="destination-over";a.drawImage(d,0,0)}else{a=a||q.aa;var d=this.B,e;a.save();this.transform(a);this.yc.Aa(a);a.clip();this.Iz(!0);var f=d.length;if(0<f){this.he();for(c=0;c<f;c++)if(e=d[c],0>e.kb)e.Aa(a);else break;for(this.Wa(a);c<
f;c++)d[c].Aa(a)}else this.Wa(a);this.Iz(!1)}a.restore()}else this.Ti&&q.G.prototype.Aa.call(this,a)},o6:function(){return this.yc},TD:null,eQ:function(a){this.yc=a},dQ:function(a){this.yc=a;var c=q.qa.f().va,d=q.qa.f().Ca,e=q.aa;!(a instanceof q.v)&&a instanceof q.tg&&(a.Wa=function(){for(var f=0;f<a.jb.length;f++){var g=a.jb[f].gy,h=g[0];e.beginPath();e.moveTo(h.x*c,-h.y*d);for(var h=1,k=g.length;h<k;h++)e.lineTo(g[h].x*c,-g[h].y*d)}})},A3:function(){return this.jm},P$:function(a){this.jm=a},K7:function(){return this.Ti},
waa:function(a){this.Ti=a},Iz:function(a){if(!0===a||!1===a)q.Ab.prototype.eG=a;return q.Ab.prototype.eG}});q.Ja.ad?(q.Ab.prototype.w=q.Ab.prototype.vA,q.Ab.prototype.Aa=q.Ab.prototype.Ym,q.Ab.prototype.TD=q.Ab.prototype.eQ):(q.Ab.prototype.w=q.Ab.prototype.uA,q.Ab.prototype.Aa=q.Ab.prototype.Xm,q.Ab.prototype.TD=q.Ab.prototype.dQ);q.Ab.xA=null;q.Ab.OB=null;q.Ab.Cr=null;q.Ab.UG=null;q.Ab.AO=function(){return q.Ab.UG||(q.Ab.UG=document.createElement("canvas"))};
q.Ab.create=function(a){var c=new q.Ab;c.w(a);return c};q.GZ=0;q.HZ=1;q.IZ=2;q.co=function(a){a-=1;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;return(a|a>>16)+1};
q.tb=q.G.extend({wo:null,xo:null,kv:0,Yq:0,Pv:0,Ga:null,fs:null,vQ:null,Vf:q.Gj,Bb:null,Zu:0,Lj:null,Oz:0,Pz:0,Jq:!1,Nz:null,ctor:null,Th:function(){q.G.prototype.ctor.call(this);this.Lj=q.Cw(1,1,1,1);this.Nz="rgba(255,255,255,1)";this.wo=document.createElement("canvas");this.xo=this.wo.getContext("2d");this.C(0,0)},Uh:function(){q.G.prototype.ctor.call(this);this.Lj=q.Cw(0,0,0,0)},cg:null,dO:function(){q.G.prototype.ee.call(this);this.wo=this.xo=null},eO:function(){q.G.prototype.ee.call(this);this.fs=
null;var a=q.aa;a.deleteFramebuffer(this.kv);this.Yq&&a.deleteRenderbuffer(this.Yq);this.vQ=null},dT:function(){return this.Bb},et:function(a){this.Bb=a},TC:null,LO:function(a,c){var d=this.wo,e=q.bd();d.width=0|a*e;d.height=0|c*e;this.xo.translate(0,d.height);e=new q.gc;e.kf(d);e.ce();this.Bb=q.v.Pa(e);return!0},MO:function(a,c,d,e){d==q.yq&&q.log("cc.RenderTexture._initWithWidthAndHeightForWebGL() : only RGB and RGBA formats are valid for a render texture;");var f=q.aa,g=q.bd();a=0|a*g;c=0|c*g;
this.Pv=f.getParameter(f.FRAMEBUFFER_BINDING);var h;q.Se.f().cs?(g=a,h=c):(g=q.co(a),h=q.co(c));for(var k=new Uint8Array(g*h*4),l=0;l<g*h*4;l++)k[l]=0;this.Vf=d;this.Ga=new q.gc;if(!this.Ga)return!1;l=this.Ga;l.Ww(k,this.Vf,g,h,q.size(a,c));d=f.getParameter(f.RENDERBUFFER_BINDING);if(q.Se.f().Dp("GL_QCOM")){this.fs=new q.gc;if(!this.fs)return!1;this.fs.Ww(k,this.Vf,g,h,q.size(a,c))}this.kv=f.createFramebuffer();f.bindFramebuffer(f.FRAMEBUFFER,this.kv);f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,
f.TEXTURE_2D,l.li,0);0!=e&&(this.Yq=f.createRenderbuffer(),f.bindRenderbuffer(f.RENDERBUFFER,this.Yq),f.renderbufferStorage(f.RENDERBUFFER,e,g,h),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,this.Yq));f.checkFramebufferStatus(f.FRAMEBUFFER)!==f.FRAMEBUFFER_COMPLETE&&q.log("Could not attach texture to the framebuffer");l.qK();a=this.Bb=q.v.Pa(l);a.Ln(-1);a.Kl(f.ONE,f.ONE_MINUS_SRC_ALPHA);f.bindRenderbuffer(f.RENDERBUFFER,d);f.bindFramebuffer(f.FRAMEBUFFER,this.Pv);this.Jq=
!1;this.g(a);return!0},kk:null,UN:function(){q.aa=this.xo;q.Ae.UK(q.aa);q.qa.f().aQ()},VN:function(){q.pn(q.eu);q.Yp();q.pn(q.du);q.Yp();var a=q.da.f();a.Fx(a.cl);var c=this.Ga.Ba,d=q.da.f().mT(),a=d.width/c.width,d=d.height/c.height,e=q.aa;e.viewport(0,0,c.width,c.height);c=new q.Hh;q.oU(c,-1/a,1/a,-1/d,1/d,-1,1);q.cx(c);this.Pv=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,this.kv);q.Se.f().Dp("GL_QCOM")&&(e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,
this.fs.li,0),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.Ga.li,0))},XB:function(a,c,d,e,f,g){var h=q.aa;f=f||h.COLOR_BUFFER_BIT;g=g||h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT;this.Fz(a,c,d,e,f,g,h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT|h.STENCIL_BUFFER_BIT)},Fz:null,WN:function(a,c,d,e){this.kk();a=a||0;c=c||0;d=d||0;e=isNaN(e)?1:e;var f=this.xo,g=this.wo;f.save();f.fillStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+
e+")";f.clearRect(0,0,g.width,-g.height);f.fillRect(0,0,g.width,-g.height);f.restore()},XN:function(a,c,d,e,f,g,h){this.kk();var k=q.aa,l=[0,0,0,0],m=0,p=0;h&k.COLOR_BUFFER_BIT&&(l=k.getParameter(k.COLOR_CLEAR_VALUE),k.clearColor(a,c,d,e));h&k.DEPTH_BUFFER_BIT&&(m=k.getParameter(k.DEPTH_CLEAR_VALUE),k.clearDepth(f));h&k.STENCIL_BUFFER_BIT&&(p=k.getParameter(k.STENCIL_CLEAR_VALUE),k.clearStencil(g));k.clear(h);h&k.COLOR_BUFFER_BIT&&k.clearColor(l[0],l[1],l[2],l[3]);h&k.DEPTH_BUFFER_BIT&&k.clearDepth(m);
h&k.STENCIL_BUFFER_BIT&&k.clearStencil(p)},end:null,tO:function(){q.aa=q.tU;q.Ae.UK(q.aa);q.qa.f().DP()},uO:function(){var a=q.aa,c=q.da.f();a.bindFramebuffer(a.FRAMEBUFFER,this.Pv);c.gL();q.pn(q.eu);q.Xp();q.pn(q.du);q.Xp()},clear:function(a,c,d,e){this.XB(a,c,d,e);this.end()},clearRect:null,iO:function(a,c,d,e){this.xo.clearRect(a,c,d,-e)},jO:function(){},clearDepth:null,gO:function(){q.log("clearDepth isn't supported on Cocos2d-Html5")},hO:function(a){this.kk();var c=q.aa,d=c.getParameter(c.DEPTH_CLEAR_VALUE);
c.clearDepth(a);c.clear(c.DEPTH_BUFFER_BIT);c.clearDepth(d);this.end()},clearStencil:null,kO:function(){q.log("clearDepth isn't supported on Cocos2d-Html5")},lO:function(a){var c=q.aa,d=c.getParameter(c.STENCIL_CLEAR_VALUE);c.clearStencil(a);c.clear(c.STENCIL_BUFFER_BIT);c.clearStencil(d)},Aa:null,Xm:function(a){this.ya&&(a=a||q.aa,a.save(),this.Wa(a),this.transform(a),this.Bb.Aa(),a.restore(),this.Tf=0)},Ym:function(a){if(this.ya){q.Yp();var c=this.Sk;c&&c.Vp()&&(c.WB(),this.$x());this.transform(a);
this.Bb.Aa();this.Wa(a);c&&c.Vp()&&c.TB(this);q.Xp();this.Tf=0}},Wa:null,Oj:function(a){a=a||q.aa;if(this.Jq){this.kk();if(this.Zu){var c=this.wo;a.save();a.fillStyle=this.Nz;a.clearRect(0,0,c.width,-c.height);a.fillRect(0,0,c.width,-c.height);a.restore()}this.he();a=this.B;for(var c=a.length,d=this.Bb,e=0;e<c;e++){var f=a[e];f!=d&&f.Aa()}this.end()}},Bg:function(){var a=q.aa;if(this.Jq){this.kk();var c=this.Zu;if(c){var d=[0,0,0,0],e=0,f=0;c&a.COLOR_BUFFER_BIT&&(d=a.getParameter(a.COLOR_CLEAR_VALUE),
a.clearColor(this.Lj.q,this.Lj.p,this.Lj.k,this.Lj.N));c&a.DEPTH_BUFFER_BIT&&(e=a.getParameter(a.DEPTH_CLEAR_VALUE),a.clearDepth(this.Oz));c&a.STENCIL_BUFFER_BIT&&(f=a.getParameter(a.STENCIL_CLEAR_VALUE),a.clearStencil(this.Pz));a.clear(c);c&a.COLOR_BUFFER_BIT&&a.clearColor(d[0],d[1],d[2],d[3]);c&a.DEPTH_BUFFER_BIT&&a.clearDepth(e);c&a.STENCIL_BUFFER_BIT&&a.clearStencil(f)}this.he();a=this.B;for(c=0;c<a.length;c++)d=a[c],d!=this.Bb&&d.Aa();this.end()}},FJ:null,bP:function(){q.log("saveToFile isn't supported on Cocos2d-Html5");
return null},cP:function(){q.log("saveToFile isn't supported on Cocos2d-Html5");q.vt(this.Vf==q.Gj,"only RGBA8888 can be saved as image");if(!this.Ga)return null;var a=this.Ga.Ba,c=a.width,a=a.height,d=new q.yM,e=q.aa,f=new Uint8Array(c*a*4);if(!f)return d;var g=new Uint8Array(c*a*4);if(!g)return null;this.kk();e.pixelStorei(e.PACK_ALIGNMENT,1);e.readPixels(0,0,c,a,e.RGBA,e.UNSIGNED_BYTE,g);this.end();for(e=0;e<a;++e)this.$O(f,e*c*4,g,(a-e-1)*c*4,4*c);d.k7(f,c*a*4,q.zZ,c,a,8);return d},$O:function(a,
c,d,e,f){for(var g=0;g<f;g++)a[c+g]=d[e+g]},D$:function(){q.log("saveToFile isn't supported on Cocos2d-Html5")},y8:function(){q.log("listenToBackground isn't supported on Cocos2d-Html5")},z8:function(){q.log("listenToForeground isn't supported on Cocos2d-Html5")},Y3:function(){return this.Zu},W$:function(a){this.Zu=a},W3:function(){return this.Lj},xK:null,LP:function(a){var c=this.Lj;c.q=a.q;c.p=a.p;c.k=a.k;c.N=a.N;this.Nz="rgba("+(0|255*a.q)+","+(0|255*a.p)+","+(0|255*a.k)+","+a.N+")"},MP:function(a){var c=
this.Lj;c.q=a.q;c.p=a.p;c.k=a.k;c.N=a.N},X3:function(){return this.Oz},V$:function(a){this.Oz=a},Z3:function(){return this.Pz},X$:function(a){this.Pz=a},v7:function(){return this.Jq},R$:function(a){this.Jq=a}});
q.Ja.ad?(b=q.tb.prototype,b.ctor=q.tb.prototype.Uh,b.cg=q.tb.prototype.eO,b.TC=q.tb.prototype.MO,b.kk=q.tb.prototype.VN,b.Fz=q.tb.prototype.XN,b.end=q.tb.prototype.uO,b.clearRect=q.tb.prototype.jO,b.clearDepth=q.tb.prototype.hO,b.clearStencil=q.tb.prototype.lO,b.Aa=q.tb.prototype.Ym,b.Wa=q.tb.prototype.Bg,b.FJ=q.tb.prototype.cP,b.xK=q.tb.prototype.MP):(b=q.tb.prototype,b.ctor=q.tb.prototype.Th,b.cg=q.tb.prototype.dO,b.TC=q.tb.prototype.LO,b.kk=q.tb.prototype.UN,b.Fz=q.tb.prototype.WN,b.end=q.tb.prototype.tO,
b.clearRect=q.tb.prototype.iO,b.clearDepth=q.tb.prototype.gO,b.clearStencil=q.tb.prototype.kO,b.Aa=q.tb.prototype.Xm,b.Wa=q.tb.prototype.Oj,b.FJ=q.tb.prototype.bP,b.xK=q.tb.prototype.LP);q.tb.create=function(a,c,d,e){d=d||q.Gj;e=e||0;var f=new q.tb;return f&&f.TC(a,c,d,e)?f:null};q.Wn=-1;
q.Sd=q.Ma.extend({Dm:null,Y:null,Bd:q.Wn,ctor:function(){this.Y=this.Dm=null;this.Bd=q.Wn},description:function(){return"\x3ccc.Action | Tag \x3d "+this.Bd+"\x3e"},copy:function(){return q.clone(this)},clone:function(){var a=new q.Sd;a.Dm=null;a.Y=null;a.Bd=this.Bd;return a},ti:function(){return!0},ha:function(a){this.Y=this.Dm=a},stop:function(){this.Y=null},step:function(){q.log("[Action step]. override me")},update:function(){q.log("[Action update]. override me")},hT:function(){return this.Y},oba:function(a){this.Y=
a},x5:function(){return this.Dm},Saa:function(a){this.Dm=a},gT:function(){return this.Bd},aL:function(a){this.Bd=a},mK:function(){},eK:function(){}});q.Sd.create=function(){return new q.Sd};q.Cj=q.Sd.extend({Fa:0,ctor:function(){q.Sd.prototype.ctor.call(this);this.Fa=0},Df:function(){return this.Fa},haa:function(a){this.Fa=a},reverse:function(){q.log("cocos2d: FiniteTimeAction#reverse: Implement me");return null},clone:function(){return new q.Cj}});
q.uu=q.Sd.extend({Lm:0,Lb:null,ctor:function(){q.Sd.prototype.ctor.call(this);this.Lm=0;this.Lb=null},h6:function(){return this.Lm},hba:function(a){this.Lm=a},wa:function(a,c){if(!a)throw"cc.Speed.initWithAction(): action must be non nil";this.Lb=a;this.Lm=c;return!0},clone:function(){var a=new q.uu;a.wa(this.Lb.clone(),this.Lm);return a},ha:function(a){q.Sd.prototype.ha.call(this,a);this.Lb.ha(a)},stop:function(){this.Lb.stop();q.Sd.prototype.stop.call(this)},step:function(a){this.Lb.step(a*this.Lm)},
ti:function(){return this.Lb.ti()},reverse:function(){return q.uu.create(this.Lb.reverse(),this.Lm)},GK:function(a){this.Lb!=a&&(this.Lb=a)},sC:function(){return this.Lb}});q.uu.create=function(a,c){var d=new q.uu;return d&&d.wa(a,c)?d:null};
q.Gy=q.Sd.extend({Po:null,to:!1,Uu:!1,qv:null,rr:null,qn:0,Hn:0,Rn:0,en:0,QB:null,ctor:function(){q.Sd.prototype.ctor.call(this);this.Po=null;this.Uu=this.to=!1;this.rr=this.qv=null;this.en=this.Rn=this.Hn=this.qn=0;this.QB=q.vd()},clone:function(){var a=new q.Gy,c=this.QB,c=new q.vg(c.x,c.y,c.width,c.height);a.Qg(this.Po,c);return a},x7:function(){return this.to},T$:function(a){this.to=a},Qg:function(a,c){if(!a)throw"cc.Follow.initWithAction(): followedNode must be non nil";c=c||q.vd();this.Po=a;
this.QB=c;this.to=!q.Nr(c);this.Uu=!1;var d=q.da.f().ac;this.rr=q.a(d.width,d.height);this.qv=q.qj(this.rr,0.5);this.to&&(this.qn=-(c.x+c.width-this.rr.x),this.Hn=-c.x,this.Rn=-c.y,this.en=-(c.y+c.height-this.rr.y),this.Hn<this.qn&&(this.Hn=this.qn=(this.qn+this.Hn)/2),this.Rn<this.en&&(this.Rn=this.en=(this.Rn+this.en)/2),this.Rn==this.en&&this.qn==this.Hn&&(this.Uu=!0));return!0},step:function(){var a=this.Po.u.H,c=this.Po.u.Q,a=this.qv.x-a,c=this.qv.y-c;this.to?this.Uu||this.Y.n(q.us(a,this.qn,
this.Hn),q.us(c,this.en,this.Rn)):this.Y.n(a,c)},ti:function(){return!this.Po.$e},stop:function(){this.Y=null;q.Sd.prototype.stop.call(this)}});q.Gy.create=function(a,c){c=c||new q.vd;var d=new q.Gy;return null!=c&&d&&d.Qg(a,c)||d&&d.Qg(a)?d:null};q.X=q.Cj.extend({rc:0,qr:!1,ctor:function(){q.Cj.prototype.ctor.call(this);this.rc=0;this.qr=!1},q4:function(){return this.rc},W:function(a){this.Fa=0===a?q.Yt:a;this.rc=0;return this.qr=!0},ti:function(){return this.rc>=this.Fa},clone:function(){var a=new q.X;a.W(this.Fa);return a},step:function(a){this.qr?(this.qr=!1,this.rc=0):this.rc+=a;a=this.rc/(1.192092896E-7<this.Fa?this.Fa:1.192092896E-7);a=1>a?a:1;this.update(0<a?a:0)},ha:function(a){q.Sd.prototype.ha.call(this,a);this.rc=0;this.qr=!0},
reverse:function(){q.log("cc.IntervalAction: reverse not implemented.");return null},Q$:function(){q.log("cc.ActionInterval.setAmplitudeRate(): it should be overridden in subclass.")},B3:function(){q.log("cc.ActionInterval.getAmplitudeRate(): it should be overridden in subclass.")}});q.X.create=function(a){var c=new q.X;c.W(a);return c};
q.Fj=q.X.extend({Hi:null,pB:null,Xo:0,ctor:function(){q.X.prototype.ctor.call(this);this.Hi=[];this.pB=null;this.Xo=0},Ps:function(a,c){if(!a||!c)throw"cc.Sequence.initWithTwoActions(): arguments must all be non nil";this.W(a.Df()+c.Df());this.Hi[0]=a;this.Hi[1]=c;return!0},clone:function(){var a=new q.Fj;a.Ps(this.Hi[0].clone(),this.Hi[1].clone());return a},ha:function(a){q.X.prototype.ha.call(this,a);this.pB=this.Hi[0].Df()/this.Fa;this.Xo=-1},stop:function(){-1!==this.Xo&&this.Hi[this.Xo].stop();
q.Sd.prototype.stop.call(this)},update:function(a){var c=0,d=this.pB,e=this.Hi,f=this.Xo;a<d?(a=0!==d?a/d:1,0===c&&1===f&&(e[1].update(0),e[1].stop())):(c=1,a=1===d?1:(a-d)/(1-d),-1===f&&(e[0].ha(this.Y),e[0].update(1),e[0].stop()),f||(e[0].update(1),e[0].stop()));f===c&&e[c].ti()||(f!==c&&e[c].ha(this.Y),e[c].update(a),this.Xo=c)},reverse:function(){return q.Fj.hm(this.Hi[1].reverse(),this.Hi[0].reverse())},copy:function(){return this.clone()}});
q.Fj.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&q.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)c[e]&&(d=q.Fj.hm(d,c[e]));return d};q.Fj.hm=function(a,c){var d=new q.Fj;d.Ps(a,c);return d};
q.lu=q.X.extend({$f:0,ek:0,Mv:0,GF:!1,Lb:null,ctor:function(){q.X.prototype.ctor.call(this);this.Mv=this.ek=this.$f=0;this.GF=!1;this.Lb=null},wa:function(a,c){return this.W(a.Df()*c)?(this.$f=c,this.Lb=a,a instanceof q.Bi&&(this.$f-=1),this.ek=0,!0):!1},clone:function(){var a=new q.lu;a.wa(this.Lb.clone(),this.$f);return a},ha:function(a){this.ek=0;this.Mv=this.Lb.Df()/this.Fa;q.X.prototype.ha.call(this,a);this.Lb.ha(a)},stop:function(){this.Lb.stop();q.Sd.prototype.stop.call(this)},update:function(a){var c=
this.Lb,d=this.Fa,e=this.$f,f=this.Mv;if(a>=f){for(;a>f&&this.ek<e;)c.update(1),this.ek++,c.stop(),c.ha(this.Y),this.Mv=f+=c.Df()/d;1<=a&&this.ek<e&&this.ek++;this.GF&&(this.ek==e?(c.update(1),c.stop()):c.update(a-(f-c.Df()/d)))}else c.update(a*e%1)},ti:function(){return this.ek==this.$f},reverse:function(){return q.lu.create(this.Lb.reverse(),this.$f)},GK:function(a){this.Lb!=a&&(this.Lb=a)},sC:function(){return this.Lb}});q.lu.create=function(a,c){var d=new q.lu;d.wa(a,c);return d};
q.mu=q.X.extend({Lb:null,ctor:function(){q.X.prototype.ctor.call(this);this.Lb=null},wa:function(a){if(!a)throw"cc.RepeatForever.initWithAction(): action must be non null";this.Lb=a;return!0},clone:function(){var a=new q.mu;a.wa(this.Lb.clone());return a},ha:function(a){q.X.prototype.ha.call(this,a);this.Lb.ha(a)},step:function(a){var c=this.Lb;c.step(a);c.ti()&&(c.ha(this.Y),c.step(c.rc-c.Df()))},ti:function(){return!1},reverse:function(){return q.mu.create(this.Lb.reverse())},GK:function(a){this.Lb!=
a&&(this.Lb=a)},sC:function(){return this.Lb}});q.mu.create=function(a){var c=new q.mu;return c&&c.wa(a)?c:null};
q.xq=q.X.extend({ak:null,ik:null,ctor:function(){q.X.prototype.ctor.call(this);this.ik=this.ak=null},Ps:function(a,c){if(!a||!c)throw"cc.Spawn.initWithTwoActions(): arguments must all be non null";var d=!1,e=a.Df(),f=c.Df();this.W(Math.max(e,f))&&(this.ak=a,this.ik=c,e>f?this.ik=q.Fj.hm(c,q.Yn.create(e-f)):e<f&&(this.ak=q.Fj.hm(a,q.Yn.create(f-e))),d=!0);return d},clone:function(){var a=new q.xq;a.Ps(this.ak.clone(),this.ik.clone());return a},ha:function(a){q.X.prototype.ha.call(this,a);this.ak.ha(a);
this.ik.ha(a)},stop:function(){this.ak.stop();this.ik.stop();q.Sd.prototype.stop.call(this)},update:function(a){this.ak&&this.ak.update(a);this.ik&&this.ik.update(a)},reverse:function(){return q.xq.hm(this.ak.reverse(),this.ik.reverse())}});q.xq.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&q.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)null!=c[e]&&(d=this.hm(d,c[e]));return d};
q.xq.hm=function(a,c){var d=new q.xq;d.Ps(a,c);return d};
q.Yy=q.X.extend({br:0,Mm:0,$z:0,iv:0,fl:0,aA:0,ctor:function(){q.X.prototype.ctor.call(this);this.aA=this.fl=this.iv=this.$z=this.Mm=this.br=0},W:function(a,c,d){return q.X.prototype.W.call(this,a)?(this.br=c||0,this.iv=d||this.br,!0):!1},clone:function(){var a=new q.Yy;a.W(this.Fa,this.br,this.iv);return a},ha:function(a){q.X.prototype.ha.call(this,a);var c=a.Hg%360,d=this.br-c;180<d&&(d-=360);-180>d&&(d+=360);this.Mm=c;this.$z=d;this.fl=a.ci%360;a=this.iv-this.fl;180<a&&(a-=360);-180>a&&(a+=360);
this.aA=a},reverse:function(){q.log("cc.RotateTo.reverse(): it should be overridden in subclass.")},update:function(a){this.Y&&(this.Y.Ix(this.Mm+this.$z*a),this.Y.Jx(this.fl+this.aA*a))}});q.Yy.create=function(a,c,d){var e=new q.Yy;e.W(a,c,d);return e};
q.ou=q.X.extend({xg:0,Mm:0,Iq:0,fl:0,ctor:function(){q.X.prototype.ctor.call(this);this.fl=this.Iq=this.Mm=this.xg=0},W:function(a,c,d){return q.X.prototype.W.call(this,a)?(this.xg=c||0,this.Iq=d||this.xg,!0):!1},clone:function(){var a=new q.ou;a.W(this.Fa,this.xg,this.Iq);return a},ha:function(a){q.X.prototype.ha.call(this,a);this.Mm=a.Hg;this.fl=a.ci},update:function(a){this.Y&&(this.Y.Ix(this.Mm+this.xg*a),this.Y.Jx(this.fl+this.Iq*a))},reverse:function(){return q.ou.create(this.Fa,-this.xg,-this.Iq)}});
q.ou.create=function(a,c,d){var e=new q.ou;e.W(a,c,d);return e};
q.Bk=q.X.extend({Zi:null,fd:null,ed:null,ctor:function(){q.X.prototype.ctor.call(this);this.Zi=q.a(0,0);this.fd=q.a(0,0);this.ed=q.a(0,0)},W:function(a,c){return q.X.prototype.W.call(this,a)?(this.Zi.x=c.x,this.Zi.y=c.y,!0):!1},clone:function(){var a=new q.Bk;a.W(this.Fa,this.Zi);return a},ha:function(a){q.X.prototype.ha.call(this,a);var c=a.u.H;a=a.u.Q;this.ed.x=c;this.ed.y=a;this.fd.x=c;this.fd.y=a},update:function(a){if(this.Y){var c=this.Zi.x*a;a*=this.Zi.y;var d=this.fd;if(q.Ct){var e=this.Y.u.Q,
f=this.ed;d.x=d.x+this.Y.u.H-f.x;d.y=d.y+e-f.y;c+=d.x;a+=d.y;this.Y.n(c,a);f.x=c;f.y=a}else this.Y.n(d.x+c,d.y+a)}},reverse:function(){return q.Bk.create(this.Fa,q.a(-this.Zi.x,-this.Zi.y))}});q.Bk.create=function(a,c){var d=new q.Bk;d.W(a,c);return d};
q.gu=q.Bk.extend({Oo:null,ctor:function(){q.Bk.prototype.ctor.call(this);this.Oo=q.a(0,0)},W:function(a,c){return q.Bk.prototype.W.call(this,a,c)?(this.Oo.x=c.x,this.Oo.y=c.y,!0):!1},clone:function(){var a=new q.gu;a.W(this.Fa,this.Oo);return a},ha:function(a){q.Bk.prototype.ha.call(this,a);this.Zi.x=this.Oo.x-a.u.H;this.Zi.y=this.Oo.y-a.u.Q}});q.gu.create=function(a,c){var d=new q.gu;d.W(a,c);return d};
q.ko=q.X.extend({ye:0,ze:0,Zr:0,$r:0,kr:0,lr:0,Ve:0,We:0,ctor:function(){q.X.prototype.ctor.call(this);this.We=this.Ve=this.lr=this.kr=this.$r=this.Zr=this.ze=this.ye=0},W:function(a,c,d){var e=!1;q.X.prototype.W.call(this,a)&&(this.kr=c,this.lr=d,e=!0);return e},clone:function(){var a=new q.ko;a.W(this.Fa,this.kr,this.lr);return a},ha:function(a){q.X.prototype.ha.call(this,a);this.Zr=a.ye%180;this.Ve=this.kr-this.Zr;180<this.Ve&&(this.Ve-=360);-180>this.Ve&&(this.Ve+=360);this.$r=a.ze%360;this.We=
this.lr-this.$r;180<this.We&&(this.We-=360);-180>this.We&&(this.We+=360)},update:function(a){this.Y.Kx(this.Zr+this.Ve*a);this.Y.Lx(this.$r+this.We*a)}});q.ko.create=function(a,c,d){var e=new q.ko;e&&e.W(a,c,d);return e};
q.su=q.ko.extend({W:function(a,c,d){var e=!1;q.ko.prototype.W.call(this,a,c,d)&&(this.ye=c,this.ze=d,e=!0);return e},clone:function(){var a=new q.su;a.W(this.Fa,this.ye,this.ze);return a},ha:function(a){q.ko.prototype.ha.call(this,a);this.Ve=this.ye;this.We=this.ze;this.kr=this.Zr+this.Ve;this.lr=this.$r+this.We},reverse:function(){return q.su.create(this.Fa,-this.ye,-this.ze)}});q.su.create=function(a,c,d){var e=new q.su;e&&e.W(a,c,d);return e};
q.ao=q.X.extend({fd:null,Ag:null,xa:0,Vo:0,ed:null,ctor:function(){q.X.prototype.ctor.call(this);this.fd=q.a(0,0);this.ed=q.a(0,0);this.Ag=q.a(0,0);this.Vo=this.xa=0},W:function(a,c,d,e){return q.X.prototype.W.call(this,a)?(this.Ag.x=c.x,this.Ag.y=c.y,this.xa=d,this.Vo=e,!0):!1},clone:function(){var a=new q.ao;a.W(this.Fa,this.Ag,this.xa,this.Vo);return a},ha:function(a){q.X.prototype.ha.call(this,a);var c=a.u.H;a=a.u.Q;this.ed.x=c;this.ed.y=a;this.fd.x=c;this.fd.y=a},update:function(a){if(this.Y){var c=
a*this.Vo%1,c=4*this.xa*c*(1-c),c=c+this.Ag.y*a;a*=this.Ag.x;var d=this.fd;if(q.Ct){var e=this.Y.u.Q,f=this.ed;d.x=d.x+this.Y.u.H-f.x;d.y=d.y+e-f.y;a+=d.x;c+=d.y;this.Y.n(a,c);f.x=a;f.y=c}else this.Y.n(d.x+a,d.y+c)}},reverse:function(){return q.ao.create(this.Fa,q.a(-this.Ag.x,-this.Ag.y),this.xa,this.Vo)}});q.ao.create=function(a,c,d,e){var f=new q.ao;f.W(a,c,d,e);return f};
q.Jy=q.ao.extend({ha:function(a){q.ao.prototype.ha.call(this,a);this.Ag.x-=this.fd.x;this.Ag.y-=this.fd.y},clone:function(){var a=new q.Jy;a.W(this.Fa,this.Ag,this.xa,this.Vo);return a}});q.Jy.create=function(a,c,d,e){var f=new q.Jy;f.W(a,c,d,e);return f};q.JH=function(a,c,d,e){return 0*Math.pow(1-e,3)+3*e*Math.pow(1-e,2)*a+3*Math.pow(e,2)*(1-e)*c+Math.pow(e,3)*d};
q.am=q.X.extend({qm:null,fd:null,ed:null,ctor:function(){q.X.prototype.ctor.call(this);this.qm=[];this.fd=q.a(0,0);this.ed=q.a(0,0)},W:function(a,c){return q.X.prototype.W.call(this,a)?(this.qm=c,!0):!1},clone:function(){for(var a=new q.am,c=[],d=0;d<this.qm.length;d++){var e=this.qm[d];c.push(q.a(e.x,e.y))}a.W(this.Fa,c);return a},ha:function(a){q.X.prototype.ha.call(this,a);var c=a.u.H;a=a.u.Q;this.ed.x=c;this.ed.y=a;this.fd.x=c;this.fd.y=a},update:function(a){if(this.Y){var c=this.qm,d=q.JH(c[0].x,
c[1].x,c[2].x,a);a=q.JH(c[0].y,c[1].y,c[2].y,a);c=this.fd;if(q.Ct){var e=this.Y.u.Q,f=this.ed;c.x=c.x+this.Y.u.H-f.x;c.y=c.y+e-f.y;d+=c.x;a+=c.y;this.Y.n(d,a);f.x=d;f.y=a}else this.Y.n(c.x+d,c.y+a)}},reverse:function(){var a=this.qm,a=[q.Xg(a[1],q.lD(a[2])),q.Xg(a[0],q.lD(a[2])),q.lD(a[2])];return q.am.create(this.Fa,a)}});q.am.create=function(a,c){var d=new q.am;d.W(a,c);return d};
q.oy=q.am.extend({nw:null,ctor:function(){q.am.prototype.ctor.call(this);this.nw=[]},W:function(a,c){return q.X.prototype.W.call(this,a)?(this.nw=c,!0):!1},clone:function(){var a=new q.oy;a.W(this.Fa,this.nw);return a},ha:function(a){q.am.prototype.ha.call(this,a);a=this.fd;var c=this.nw,d=this.qm;d[0]=q.Pd(c[0],a);d[1]=q.Pd(c[1],a);d[2]=q.Pd(c[2],a)}});q.oy.create=function(a,c){var d=new q.oy;d.W(a,c);return d};
q.jo=q.X.extend({va:1,Ca:1,lp:1,mp:1,sm:0,tm:0,Ve:0,We:0,ctor:function(){q.X.prototype.ctor.call(this);this.mp=this.lp=this.Ca=this.va=1;this.We=this.Ve=this.tm=this.sm=0},W:function(a,c,d){return q.X.prototype.W.call(this,a)?(this.sm=c,this.tm=null!=d?d:c,!0):!1},clone:function(){var a=new q.jo;a.W(this.Fa,this.sm,this.tm);return a},ha:function(a){q.X.prototype.ha.call(this,a);this.lp=a.va;this.mp=a.Ca;this.Ve=this.sm-this.lp;this.We=this.tm-this.mp},update:function(a){this.Y&&this.Y.vk(this.lp+
this.Ve*a,this.mp+this.We*a)}});q.jo.create=function(a,c,d){var e=new q.jo;e.W(a,c,d);return e};q.qu=q.jo.extend({ha:function(a){q.jo.prototype.ha.call(this,a);this.Ve=this.lp*this.sm-this.lp;this.We=this.mp*this.tm-this.mp},reverse:function(){return q.qu.create(this.Fa,1/this.sm,1/this.tm)},clone:function(){var a=new q.qu;a.W(this.Fa,this.sm,this.tm);return a}});q.qu.create=function(a,c,d){var e=new q.qu;e.W(a,c,d);return e};
q.wt=q.X.extend({$f:0,GA:!1,ctor:function(){q.X.prototype.ctor.call(this);this.$f=0;this.GA=!1},W:function(a,c){return q.X.prototype.W.call(this,a)?(this.$f=c,!0):!1},clone:function(){var a=new q.wt;a.W(this.Fa,this.$f);return a},update:function(a){if(this.Y&&!this.ti()){var c=1/this.$f;this.Y.D(a%c>c/2)}},ha:function(a){q.X.prototype.ha.call(this,a);this.GA=a.ya},stop:function(){this.Y.D(this.GA);q.X.prototype.stop.call(this)},reverse:function(){return q.wt.create(this.Fa,this.$f)}});
q.wt.create=function(a,c){var d=new q.wt;d.W(a,c);return d};q.Zt=q.X.extend({update:function(a){this.Y.sb&&this.Y.ta(255*a)},reverse:function(){return q.$t.create(this.Fa)},clone:function(){var a=new q.Zt;a.W(this.Fa);return a}});q.Zt.create=function(a){var c=new q.Zt;c.W(a);return c};q.$t=q.X.extend({update:function(a){this.Y.sb&&this.Y.ta(255*(1-a))},reverse:function(){return q.Zt.create(this.Fa)},clone:function(){var a=new q.$t;a.W(this.Fa);return a}});
q.$t.create=function(a){var c=new q.$t;c.W(a);return c};q.Fy=q.X.extend({ow:null,nv:null,ctor:function(){q.X.prototype.ctor.call(this);this.nv=this.ow=0},W:function(a,c){return q.X.prototype.W.call(this,a)?(this.ow=c,!0):!1},clone:function(){var a=new q.Fy;a.W(this.Fa,this.ow);return a},update:function(a){this.Y.sb&&this.Y.ta(this.nv+(this.ow-this.nv)*a)},ha:function(a){q.X.prototype.ha.call(this,a);this.Y.sb&&(this.nv=a.jj())}});q.Fy.create=function(a,c){var d=new q.Fy;d.W(a,c);return d};
q.nz=q.X.extend({Af:null,te:null,ctor:function(){q.X.prototype.ctor.call(this);this.Af=q.o(0,0,0);this.te=q.o(0,0,0)},W:function(a,c,d,e){return q.X.prototype.W.call(this,a)?(this.Af=q.o(c,d,e),!0):!1},clone:function(){var a=new q.nz,c=this.Af;a.W(this.Fa,c.q,c.p,c.k);return a},ha:function(a){q.X.prototype.ha.call(this,a);this.Y.sb&&(this.te=this.Y.Cd())},update:function(a){var c=this.te,d=this.Af;this.Y.sb&&this.Y.t(q.o(c.q+(d.q-c.q)*a,c.p+(d.p-c.p)*a,c.k+(d.k-c.k)*a))}});
q.nz.create=function(a,c,d,e){var f=new q.nz;f.W(a,c,d,e);return f};
q.zu=q.X.extend({Xq:0,Wq:0,Vq:0,lA:0,kA:0,jA:0,ctor:function(){q.X.prototype.ctor.call(this);this.jA=this.kA=this.lA=this.Vq=this.Wq=this.Xq=0},W:function(a,c,d,e){return q.X.prototype.W.call(this,a)?(this.Xq=c,this.Wq=d,this.Vq=e,!0):!1},clone:function(){var a=new q.zu;a.W(this.Fa,this.Xq,this.Wq,this.Vq);return a},ha:function(a){q.X.prototype.ha.call(this,a);a.sb&&(a=a.Cd(),this.lA=a.q,this.kA=a.p,this.jA=a.k)},update:function(a){this.Y.sb&&this.Y.t(q.o(this.lA+this.Xq*a,this.kA+this.Wq*a,this.jA+
this.Vq*a))},reverse:function(){return q.zu.create(this.Fa,-this.Xq,-this.Wq,-this.Vq)}});q.zu.create=function(a,c,d,e){var f=new q.zu;f.W(a,c,d,e);return f};q.Yn=q.X.extend({update:function(){},reverse:function(){return q.Yn.create(this.Fa)},clone:function(){var a=new q.Yn;a.W(this.Fa);return a}});q.Yn.create=function(a){var c=new q.Yn;c.W(a);return c};
q.nu=q.X.extend({bk:null,ctor:function(){q.X.prototype.ctor.call(this);this.bk=null},wa:function(a){if(!a)throw"cc.ReverseTime.initWithAction(): action must be non null";if(a==this.bk)throw"cc.ReverseTime.initWithAction(): the action was already passed in.";return q.X.prototype.W.call(this,a.Df())?(this.bk=a,!0):!1},clone:function(){var a=new q.nu;a.wa(this.bk.clone());return a},ha:function(a){q.X.prototype.ha.call(this,a);this.bk.ha(a)},update:function(a){this.bk&&this.bk.update(1-a)},reverse:function(){return this.bk.clone()},
stop:function(){this.bk.stop();q.Sd.prototype.stop.call(this)}});q.nu.create=function(a){var c=new q.nu;c.wa(a);return c};
q.tt=q.X.extend({Ij:null,ap:0,Qv:null,mr:0,qB:null,ctor:function(){q.X.prototype.ctor.call(this);this.Ij=null;this.ap=0;this.Qv=null;this.mr=0;this.qB=null},pI:function(){return this.Ij},rW:function(a){this.Ij=a},VI:function(a){if(!a)throw"cc.Animate.initWithAnimation(): animation must be non-NULL";var c=a.Df();if(this.W(c*a.Zj)){this.ap=0;this.rW(a);this.Qv=null;this.mr=0;var d=[],e=0,f=c/a.Tm;a=a.se;q.ut(a,q.zj);for(var g=0;g<a.length;g++){var h=e*f/c,e=e+a[g].qe;d.push(h)}this.qB=d;return!0}return!1},
clone:function(){var a=new q.tt;a.VI(this.Ij.clone());return a},ha:function(a){q.X.prototype.ha.call(this,a);this.Ij.Gm&&(this.Qv=a.cS());this.mr=this.ap=0},update:function(a){1>a&&(a*=this.Ij.Zj,(0|a)>this.mr&&(this.ap=0,this.mr++),a%=1);for(var c=this.Ij.se,d=c.length,e=this.qB,f=this.ap;f<d;f++)if(e[f]<=a)this.Y.aq(c[f].Gh()),this.ap=f+1;else break},reverse:function(){var a=this.Ij,c=a.se,d=[];q.ut(c,q.zj);if(0<c.length)for(var e=c.length-1;0<=e;e--){var f=c[e];if(!f)break;d.push(f.clone())}c=
q.yj.PH(d,a.qe,a.Zj);c.Gx(a.Gm);return q.tt.create(c)},stop:function(){this.Ij.Gm&&this.Y&&this.Y.aq(this.Qv);q.Sd.prototype.stop.call(this)}});q.tt.create=function(a){var c=new q.tt;c.VI(a);return c};
q.mz=q.X.extend({Pf:null,um:null,ctor:function(){q.X.prototype.ctor.call(this);this.um=this.Pf=null},Qg:function(a,c){return this.W(c.Df())?(this.um=a,this.Pf=c,!0):!1},clone:function(){var a=new q.mz;a.Qg(this.um,this.Pf.clone());return a},ha:function(a){q.X.prototype.ha.call(this,a);this.Pf.ha(this.um)},stop:function(){this.Pf.stop()},update:function(a){this.Pf.update(a)},A4:function(){return this.um},laa:function(a){this.um!=a&&(this.um=a)}});
q.mz.create=function(a,c){var d=new q.mz;d.Qg(a,c);return d};q.Bi=q.Cj.extend({ti:function(){return!0},step:function(){this.update(1)},update:function(){},reverse:function(){return this.clone()},clone:function(){return new q.Bi}});q.ru=q.Bi.extend({update:function(){this.Y.D(!0)},reverse:function(){return q.cu.create()},clone:function(){return new q.ru}});q.ru.create=function(){return new q.ru};q.cu=q.Bi.extend({update:function(){this.Y.D(!1)},reverse:function(){return q.ru.create()},clone:function(){return new q.cu}});q.cu.create=function(){return new q.cu};
q.Au=q.Bi.extend({update:function(){this.Y.D(!this.Y.ya)},reverse:function(){return new q.Au},clone:function(){return new q.Au}});q.Au.create=function(){return new q.Au};q.ku=q.Bi.extend({zr:!0,ctor:function(){q.Cj.prototype.ctor.call(this);this.zr=!0},update:function(){this.Y.O(this.zr)},w:function(a){this.zr=a;return!0},reverse:function(){return new q.ku(this.zr)},clone:function(){return new q.ku(this.zr)}});q.ku.create=function(a){null==a&&(a=!0);var c=new q.ku;c&&c.w(a);return c};
q.au=q.Bi.extend({hc:!1,ctor:function(){q.Cj.prototype.ctor.call(this);this.hc=!1},XI:function(a){this.hc=a;return!0},update:function(){this.Y.KW(this.hc)},reverse:function(){return q.au.create(!this.hc)},clone:function(){var a=new q.au;a.XI(this.hc);return a}});q.au.create=function(a){var c=new q.au;return c.XI(a)?c:null};
q.bu=q.Bi.extend({ic:!1,ctor:function(){q.Cj.prototype.ctor.call(this);this.ic=!1},YI:function(a){this.ic=a;return!0},update:function(){this.Y.LW(this.ic)},reverse:function(){return q.bu.create(!this.ic)},clone:function(){var a=new q.bu;a.YI(this.ic);return a}});q.bu.create=function(a){var c=new q.bu;return c.YI(a)?c:null};
q.Ty=q.Bi.extend({u:null,ctor:function(){q.Cj.prototype.ctor.call(this);this.u=q.a(0,0)},$I:function(a){this.u.x=a.x;this.u.y=a.y;return!0},update:function(){this.Y.n(this.u)},clone:function(){var a=new q.Ty;a.$I(this.u);return a}});q.Ty.create=function(a){var c=new q.Ty;c.$I(a);return c};
q.pq=q.Bi.extend({uh:null,pm:null,Rk:null,Tq:null,ctor:function(){q.Cj.prototype.ctor.call(this);this.Tq=this.Rk=this.pm=this.uh=null},Qg:function(a,c,d){this.Tq=d;this.pm=a;this.uh=c;return!0},NC:function(a){this.Rk=a;return!0},execute:function(){null!=this.pm?this.pm.call(this.uh,this.Y,this.Tq):this.Rk&&this.Rk.call(null,this.Y)},update:function(){this.execute()},q6:function(){return this.uh},pba:function(a){a!=this.uh&&(this.uh&&(this.uh=null),this.uh=a)},copy:function(){var a=new q.pq;this.uh?
a.Qg(this.pm,this.uh,this.Tq):this.Rk&&a.NC(this.Rk);return a},clone:function(){var a=new q.pq;this.uh?a.Qg(this.pm,this.uh,this.Tq):this.Rk&&a.NC(this.Rk);return a}});q.pq.create=function(a,c,d){var e=new q.pq;if(1==arguments.length){if(e&&e.NC(a))return e}else if(e&&e.Qg(a,c,d))return e.pm=a,e;return null};q.iy=q.X.extend({Kz:0,Lz:0,Mz:0,XF:0,YF:0,ZF:0,gH:0,hH:0,iH:0,ctor:function(){q.X.prototype.ctor.call(this);this.iH=this.hH=this.gH=this.ZF=this.YF=this.XF=this.Mz=this.Lz=this.Kz=0},ha:function(a){q.X.prototype.ha.call(this,a);a=a.rC();var c=a.rI();this.Kz=c.x;this.Lz=c.y;this.Mz=c.z;c=a.tI();this.XF=c.x;this.YF=c.y;this.ZF=c.z;a=a.kT();this.gH=a.x;this.hH=a.y;this.iH=a.z},clone:function(){return new q.iy},reverse:function(){return q.nu.create(this)}});
q.Ry=q.iy.extend({$i:0,gv:0,po:0,Yz:0,xg:0,Xz:0,WA:0,UA:0,VA:0,TA:0,ctor:function(){q.iy.prototype.ctor.call(this);this.TA=this.VA=this.UA=this.WA=this.Xz=this.xg=this.Yz=this.po=this.gv=this.$i=0},W:function(a,c,d,e,f,g,h){return q.X.prototype.W.call(this,a)?(this.$i=c,this.gv=d,this.po=e,this.Yz=f,this.xg=g,this.Xz=h,this.UA=q.Bj(f),this.TA=q.Bj(h),!0):!1},WX:function(){var a=this.Y.rC(),c=a.tI(),d=a.rI(),a=c.x-d.x,e=c.y-d.y,c=c.z-d.z,d=Math.sqrt(Math.pow(a,2)+Math.pow(e,2)+Math.pow(c,2)),f=Math.sqrt(Math.pow(a,
2)+Math.pow(e,2));0===f&&(f=q.Yt);0===d&&(d=q.Yt);return{AU:d/q.qq.Js(),sY:Math.acos(c/d),azimuth:0>a?Math.PI-Math.asin(e/f):Math.asin(e/f)}},ha:function(a){q.X.prototype.ha.call(this,a);a=this.WX();isNaN(this.$i)&&(this.$i=a.AU);isNaN(this.po)&&(this.po=q.Vy(a.sY));isNaN(this.xg)&&(this.xg=q.Vy(a.azimuth));this.WA=q.Bj(this.po);this.VA=q.Bj(this.xg)},clone:function(){var a=new q.Ry;a.W(this.Fa,this.$i,this.gv,this.po,this.Yz,this.xg,this.Xz);return a},update:function(a){var c=(this.$i+this.gv*a)*
q.qq.Js(),d=this.WA+this.UA*a,e=this.VA+this.TA*a;a=Math.sin(d)*Math.cos(e)*c+this.Kz;e=Math.sin(d)*Math.sin(e)*c+this.Lz;c=Math.cos(d)*c+this.Mz;this.Y.rC().CK(a,e,c)}});q.Ry.create=function(a,c,d,e,f,g,h){var k=new q.Ry;return k.W(a,c,d,e,f,g,h)?k:null};q.ud=q.X.extend({ma:null,ctor:function(){q.X.prototype.ctor.call(this);this.ma=null},wa:function(a){if(!a)throw"cc.ActionEase.initWithAction(): action must be non nil";return this.W(a.Df())?(this.ma=a,!0):!1},clone:function(){var a=new q.ud;a.wa(this.ma.clone());return a},ha:function(a){q.X.prototype.ha.call(this,a);this.ma.ha(this.Y)},stop:function(){this.ma.stop();q.X.prototype.stop.call(this)},update:function(a){this.ma.update(a)},reverse:function(){return q.ud.create(this.ma.reverse())},sC:function(){return this.ma}});
q.ud.create=function(a){var c=new q.ud;c&&c.wa(a);return c};q.dm=q.ud.extend({Ye:0,ctor:function(){q.ud.prototype.ctor.call(this);this.Ye=0},Zaa:function(a){this.Ye=a},N5:function(){return this.Ye},wa:function(a,c){return q.ud.prototype.wa.call(this,a)?(this.Ye=c,!0):!1},clone:function(){var a=new q.dm;a.wa(this.ma.clone(),this.Ye);return a},reverse:function(){return q.dm.create(this.ma.reverse(),1/this.Ye)}});q.dm.create=function(a,c){var d=new q.dm;d&&d.wa(a,c);return d};
q.Rt=q.dm.extend({update:function(a){this.ma.update(Math.pow(a,this.Ye))},reverse:function(){return q.Rt.create(this.ma.reverse(),1/this.Ye)},clone:function(){var a=new q.Rt;a.wa(this.ma.clone(),this.Ye);return a}});q.Rt.create=function(a,c){var d=new q.Rt;d&&d.wa(a,c);return d};q.Tt=q.dm.extend({update:function(a){this.ma.update(Math.pow(a,1/this.Ye))},reverse:function(){return q.Tt.create(this.ma.reverse(),1/this.Ye)},clone:function(){var a=new q.Tt;a.wa(this.ma.clone(),this.Ye);return a}});
q.Tt.create=function(a,c){var d=new q.Tt;d&&d.wa(a,c);return d};q.St=q.dm.extend({update:function(a){a*=2;1>a?this.ma.update(0.5*Math.pow(a,this.Ye)):this.ma.update(1-0.5*Math.pow(2-a,this.Ye))},clone:function(){var a=new q.St;a.wa(this.ma.clone(),this.Ye);return a},reverse:function(){return q.St.create(this.ma.reverse(),this.Ye)}});q.St.create=function(a,c){var d=new q.St;d&&d.wa(a,c);return d};
q.Ot=q.ud.extend({update:function(a){this.ma.update(0===a?0:Math.pow(2,10*(a-1)))},reverse:function(){return q.Qt.create(this.ma.reverse())},clone:function(){var a=new q.Ot;a.wa(this.ma.clone());return a}});q.Ot.create=function(a){var c=new q.Ot;c&&c.wa(a);return c};q.Qt=q.ud.extend({update:function(a){this.ma.update(1==a?1:-Math.pow(2,-10*a)+1)},reverse:function(){return q.Ot.create(this.ma.reverse())},clone:function(){var a=new q.Qt;a.wa(this.ma.clone());return a}});
q.Qt.create=function(a){var c=new q.Qt;c&&c.wa(a);return c};q.Pt=q.ud.extend({update:function(a){1!=a&&0!==a&&(a*=2,a=1>a?0.5*Math.pow(2,10*(a-1)):0.5*(-Math.pow(2,-10*(a-1))+2));this.ma.update(a)},reverse:function(){return q.Pt.create(this.ma.reverse())},clone:function(){var a=new q.Pt;a.wa(this.ma.clone());return a}});q.Pt.create=function(a){var c=new q.Pt;c&&c.wa(a);return c};
q.Ut=q.ud.extend({update:function(a){a=0===a||1==a?a:-1*Math.cos(a*Math.PI/2)+1;this.ma.update(a)},reverse:function(){return q.Wt.create(this.ma.reverse())},clone:function(){var a=new q.Ut;a.wa(this.ma.clone());return a}});q.Ut.create=function(a){var c=new q.Ut;c&&c.wa(a);return c};q.Wt=q.ud.extend({update:function(a){a=0===a||1==a?a:Math.sin(a*Math.PI/2);this.ma.update(a)},reverse:function(){return q.Ut.create(this.ma.reverse())},clone:function(){var a=new q.Wt;a.wa(this.ma.clone());return a}});
q.Wt.create=function(a){var c=new q.Wt;c&&c.wa(a);return c};q.Vt=q.ud.extend({update:function(a){a=0===a||1==a?a:-0.5*(Math.cos(Math.PI*a)-1);this.ma.update(a)},clone:function(){var a=new q.Vt;a.wa(this.ma.clone());return a},reverse:function(){return q.Vt.create(this.ma.reverse())}});q.Vt.create=function(a){var c=new q.Vt;c&&c.wa(a);return c};
q.Zn=q.ud.extend({ue:null,ctor:function(){q.ud.prototype.ctor.call(this);this.ue=0.3},z5:function(){return this.ue},Taa:function(a){this.ue=a},wa:function(a,c){q.ud.prototype.wa.call(this,a);this.ue=null==c?0.3:c;return!0},reverse:function(){q.log("cc.EaseElastic.reverse(): it should be overridden in subclass.")},clone:function(){var a=new q.Zn;a.wa(this.ma.clone(),this.ue);return a}});q.Zn.create=function(a,c){var d=new q.Zn;return d&&d.wa(a,c)?d:null};
q.Lt=q.Zn.extend({update:function(a){var c=0;0===a||1===a?c=a:(c=this.ue/4,a-=1,c=-Math.pow(2,10*a)*Math.sin((a-c)*Math.PI*2/this.ue));this.ma.update(c)},reverse:function(){return q.Nt.create(this.ma.reverse(),this.ue)},clone:function(){var a=new q.Lt;a.wa(this.ma.clone(),this.ue);return a}});q.Lt.create=function(a,c){var d=new q.Lt;return d&&d.wa(a,c)?d:null};
q.Nt=q.Zn.extend({update:function(a){var c=0,c=0===a||1==a?a:Math.pow(2,-10*a)*Math.sin((a-this.ue/4)*Math.PI*2/this.ue)+1;this.ma.update(c)},reverse:function(){return q.Lt.create(this.ma.reverse(),this.ue)},clone:function(){var a=new q.Nt;a.wa(this.ma.clone(),this.ue);return a}});q.Nt.create=function(a,c){var d=new q.Nt;d&&d.wa(a,c);return d};
q.Mt=q.Zn.extend({update:function(a){var c=0,c=this.ue;if(0===a||1==a)c=a;else{c||(c=this.ue=0.3*1.5);var d=c/4;a=2*a-1;c=0>a?-0.5*Math.pow(2,10*a)*Math.sin((a-d)*Math.PI*2/c):Math.pow(2,-10*a)*Math.sin((a-d)*Math.PI*2/c)*0.5+1}this.ma.update(c)},reverse:function(){return q.Mt.create(this.ma.reverse(),this.ue)},clone:function(){var a=new q.Mt;a.wa(this.ma.clone(),this.ue);return a}});q.Mt.create=function(a,c){var d=new q.Mt;d&&d.wa(a,c);return d};
q.cm=q.ud.extend({Bw:function(a){if(a<1/2.75)return 7.5625*a*a;if(a<2/2.75)return a-=1.5/2.75,7.5625*a*a+0.75;if(a<2.5/2.75)return a-=2.25/2.75,7.5625*a*a+0.9375;a-=2.625/2.75;return 7.5625*a*a+0.984375},clone:function(){var a=new q.cm;a.wa(this.ma.clone());return a},reverse:function(){return q.cm.create(this.ma.reverse())}});q.cm.create=function(a){var c=new q.cm;c&&c.wa(a);return c};
q.It=q.cm.extend({update:function(a){this.ma.update(1-this.Bw(1-a))},reverse:function(){return q.Kt.create(this.ma.reverse())},clone:function(){var a=new q.It;a.wa(this.ma.clone());return a}});q.It.create=function(a){var c=new q.It;c&&c.wa(a);return c};q.Kt=q.cm.extend({update:function(a){this.ma.update(this.Bw(a))},reverse:function(){return q.It.create(this.ma.reverse())},clone:function(){var a=new q.Kt;a.wa(this.ma.clone());return a}});q.Kt.create=function(a){var c=new q.Kt;c&&c.wa(a);return c};
q.Jt=q.cm.extend({update:function(a){var c=0,c=0.5>a?0.5*(1-this.Bw(1-2*a)):0.5*this.Bw(2*a-1)+0.5;this.ma.update(c)},clone:function(){var a=new q.Jt;a.wa(this.ma.clone());return a},reverse:function(){return q.Jt.create(this.ma.reverse())}});q.Jt.create=function(a){var c=new q.Jt;c&&c.wa(a);return c};
q.Ft=q.ud.extend({update:function(a){this.ma.update(0===a||1==a?a:a*a*(2.70158*a-1.70158))},reverse:function(){return q.Ht.create(this.ma.reverse())},clone:function(){var a=new q.Ft;a.wa(this.ma.clone());return a}});q.Ft.create=function(a){var c=new q.Ft;c&&c.wa(a);return c};q.Ht=q.ud.extend({update:function(a){a-=1;this.ma.update(a*a*(2.70158*a+1.70158)+1)},reverse:function(){return q.Ft.create(this.ma.reverse())},clone:function(){var a=new q.Ht;a.wa(this.ma.clone());return a}});
q.Ht.create=function(a){var c=new q.Ht;c&&c.wa(a);return c};q.Gt=q.ud.extend({update:function(a){a*=2;1>a?this.ma.update(a*a*(3.5949095*a-2.5949095)/2):(a-=2,this.ma.update(a*a*(3.5949095*a+2.5949095)/2+1))},clone:function(){var a=new q.Gt;a.wa(this.ma.clone());return a},reverse:function(){return q.Gt.create(this.ma.reverse())}});q.Gt.create=function(a){var c=new q.Gt;c&&c.wa(a);return c};q.ry=function(a,c,d,e,f,g){var h=g*g,k=h*g,l=(1-f)/2;f=l*(-k+2*h-g);var m=l*(-k+h)+(2*k-3*h+1);g=l*(k-2*h+g)+(-2*k+3*h);h=l*(k-h);return q.a(a.x*f+c.x*m+d.x*g+e.x*h,a.y*f+c.y*m+d.y*g+e.y*h)};q.nK=function(a){for(var c=[],d=a.length-1;0<=d;d--)c.push(q.a(a[d].x,a[d].y));return c};q.Gw=function(a){for(var c=[],d=0;d<a.length;d++)c.push(q.a(a[d].x,a[d].y));return c};q.Dh=function(a,c){var d=Math.min(a.length-1,Math.max(c,0));return a[d]};
q.C$=function(a){for(var c=a.length,d=0|c/2,e=0;e<d;++e){var f=a[e];a[e]=a[c-e-1];a[c-e-1]=f}};
q.Di=q.X.extend({Zh:null,Zz:0,Om:0,ed:null,vz:null,ctor:function(){q.X.prototype.ctor.call(this);this.Zh=[];this.Om=this.Zz=0;this.vz=this.ed=null},W:function(a,c,d){if(!c||0==c.length)throw"Invalid configuration. It must at least have one control point";return q.X.prototype.W.call(this,a)?(this.iX(c),this.Om=d,!0):!1},clone:function(){var a=new q.Di;a.W(this.Fa,q.Gw(this.Zh),this.Om);return a},ha:function(a){q.X.prototype.ha.call(this,a);this.Zz=1/(this.Zh.length-1);a=this.Y.u;this.ed=q.a(a.x,a.y);
this.vz=q.a(0,0)},update:function(a){var c,d=this.Zh;if(1==a)c=d.length-1,a=1;else{var e=this.Zz;c=0|a/e;a=(a-e*c)/e}c=q.ry(q.Dh(d,c-1),q.Dh(d,c-0),q.Dh(d,c+1),q.Dh(d,c+2),this.Om,a);q.Ct&&(d=this.Y.u.H-this.ed.x,a=this.Y.u.Q-this.ed.y,0!=d||0!=a)&&(e=this.vz,d=e.x+d,a=e.y+a,e.x=d,e.y=a,c.x+=d,c.y+=a);this.JL(c)},reverse:function(){var a=q.nK(this.Zh);return q.Di.create(this.Fa,a,this.Om)},JL:function(a){this.Y.n(a);this.ed=a},D5:function(){return this.Zh},iX:function(a){this.Zh=a}});
q.Di.create=function(a,c,d){var e=new q.Di;return e.W(a,c,d)?e:null};
q.rq=q.Di.extend({fd:null,ctor:function(){q.Di.prototype.ctor.call(this);this.fd=q.a(0,0)},ha:function(a){q.Di.prototype.ha.call(this,a);a=a.u;this.fd.x=a.x;this.fd.y=a.y},reverse:function(){for(var a=this.Zh.slice(),c,d=a[0],e=1;e<a.length;++e)c=a[e],a[e]=q.Pd(c,d),d=c;a=q.nK(a);d=a[a.length-1];a.pop();d.x=-d.x;d.y=-d.y;a.unshift(d);for(e=1;e<a.length;++e)c=a[e],c.x=-c.x,c.y=-c.y,c.x+=d.x,c.y+=d.y,d=a[e]=c;return q.rq.create(this.Fa,a,this.Om)},JL:function(a){var c=this.fd,d=a.x+c.x;a=a.y+c.y;this.Y.n(d,
a);this.ed.x=d;this.ed.y=a},clone:function(){var a=new q.rq;a.W(this.Fa,q.Gw(this.Zh),this.Om);return a}});q.rq.create=function(a,c,d){var e=new q.rq;return e.W(a,c,d)?e:null};q.ty=q.Di.extend({W:function(a,c){return q.Di.prototype.W.call(this,a,c,0.5)},clone:function(){var a=new q.ty;a.W(this.Fa,q.Gw(this.Zh));return a}});q.ty.create=function(a,c){var d=new q.ty;return d.W(a,c)?d:null};
q.sy=q.rq.extend({W:function(a,c){return q.Di.prototype.W.call(this,a,c,0.5)},clone:function(){var a=new q.sy;a.W(this.Fa,q.Gw(this.Zh));return a}});q.sy.create=function(a,c){var d=new q.sy;return d.W(a,c)?d:null};q.EY=q.Ma.extend({rE:function(){}});
q.Xn=q.X.extend({key:"",from:0,Ul:0,dC:0,ctor:function(){q.X.prototype.ctor.call(this);this.key="";this.dC=this.Ul=this.from=0},W:function(a,c,d,e){return q.X.prototype.W.call(this,a)?(this.key=c,this.Ul=e,this.from=d,!0):!1},ha:function(a){if(!a||!a.rE)throw"cc.ActionTween.startWithTarget(): target must be non-null, and target must implement updateTweenAction function";q.X.prototype.ha.call(this,a);this.dC=this.Ul-this.from},update:function(a){this.Y.rE(this.Ul-this.dC*(1-a),this.key)},reverse:function(){return q.Xn.create(this.duration,
this.key,this.Ul,this.from)},clone:function(){var a=new q.Xn;a.W(this.Fa,this.key,this.from,this.Ul);return a}});q.Xn.create=function(a,c,d,e){var f=new q.Xn;return f.W(a,c,d,e)?f:null};q.Ck=0;q.Sy=1;q.iF=4;q.bN=75;
q.Tc=q.Ib.extend({Bf:null,Yi:0,Bb:null,Xh:null,om:null,ae:!1,b5:function(){return q.a(this.Xh.x,this.Xh)},LK:function(a){this.Xh=q.SJ(a)},H3:function(){return q.a(this.om.x,this.om.y)},uK:function(a){this.om=q.SJ(a)},G6:function(){return this.Bf},Qw:function(){return this.Yi},dT:function(){return this.Bb},ct:function(a){this.Yi!=a&&(this.Yi=q.us(a,0,100),this.GB())},Jf:function(){},vl:function(){return!1},W7:function(){return this.ae},Gz:function(a){if(a<q.iF){var c=q.bN;return this.ae?q.a(c>>7-(a<<
1)&1,c>>7-((a<<1)+1)&1):q.a(c>>(a<<1)+1&1,c>>(a<<1)&1)}return q.Dj()},cd:null,xB:270,eA:270,$i:0,Sz:!1,Dz:null,Ld:0,Xc:null,ag:null,qH:null,ss:!1,ctor:null,Th:function(){q.Ib.prototype.ctor.call(this);this.Bf=q.Ck;this.Yi=0;this.Xh=q.a(0,0);this.om=q.a(0,0);this.ae=!1;this.Bb=null;this.cd=q.Dj();this.eA=this.xB=270;this.$i=0;this.Sz=!1;this.Dz=q.vd()},Uh:function(){q.Ib.prototype.ctor.call(this);this.Bf=q.Ck;this.Yi=0;this.Xh=q.a(0,0);this.om=q.a(0,0);this.ae=!1;this.Bb=null;this.qH=q.aa.createBuffer();
this.Ld=0;this.ag=this.Xc=null;this.ss=!1},t:function(a){this.Bb.t(a);this.Kd()},ta:function(a){this.Bb.ta(a);this.Kd()},Cd:function(){return this.Bb.Cd()},jj:function(){return this.Bb.jj()},XK:null,ZP:function(a){this.ae!==a&&(this.ae=a)},$P:function(a){this.ae!==a&&(this.ae=a,this.ag=this.Xc=null,this.Ld=0)},et:null,bQ:function(a){this.Bb!=a&&(this.Bb=a,this.T(this.Bb.c()))},cQ:function(a){a&&this.Bb!=a&&(this.Bb=a,this.T(a.c()),this.Xc&&(this.ag=this.Xc=null,this.Ld=0))},bL:null,fQ:function(a){a!==
this.Bf&&(this.Bf=a)},gQ:function(a){a!==this.Bf&&(this.Xc&&(this.ag=this.Xc=null,this.Ld=0),this.Bf=a)},WK:null,XP:function(a){this.ae!==a&&(this.ae=a)},YP:function(a){this.ae!==a&&(this.ae=a,this.ag=this.Xc=null,this.Ld=0)},df:function(a){var c=this.Bb;if(!c)return{Ta:0,ua:0};var d=c.Vb,e=q.a(d.Oa.F.Ta,d.Oa.F.ua),d=q.a(d.Ra.F.Ta,d.Ra.F.ua);c.kd&&(c=a.x,a.x=a.y,a.y=c);return{Ta:e.x*(1-a.x)+d.x*a.x,ua:e.y*(1-a.y)+d.y*a.y}},ff:function(a){if(!this.Bb)return{x:0,y:0};var c=this.Bb.Vb,d=q.a(c.Oa.A.x,
c.Oa.A.y),c=q.a(c.Ra.A.x,c.Ra.A.y);return{x:d.x*(1-a.x)+c.x*a.x,y:d.y*(1-a.y)+c.y*a.y}},QC:null,HO:function(a){this.ct(0);this.C(0.5,0.5);this.Bf=q.Ck;this.ae=!1;this.LK(q.a(0.5,0.5));this.uK(q.a(1,1));this.et(a);return!0},IO:function(a){this.ct(0);this.ag=this.Xc=null;this.Ld=0;this.C(0.5,0.5);this.Bf=q.Ck;this.ae=!1;this.LK(q.a(0.5,0.5));this.uK(q.a(1,1));this.et(a);this.$g(q.Sh.f().zi(q.Zy));return!0},Wa:null,Oj:function(a){a=a||q.aa;var c=this.Bb;c.xm&&(a.globalCompositeOperation="lighter");var d=
q.qa.f().va,e=q.qa.f().Ca;a.globalAlpha=c.dc/255;var f=c.za,g=c.Ba,h=c.nc,k=c.Ko,l=0|h.x,m=-h.y-f.height,p=c.Rm;k.width=f.width*d;k.height=f.height*e;a.save();c.hc&&(l=-h.x-f.width,a.scale(-1,1));c.ic&&(m=h.y,a.scale(1,-1));l*=d;m*=e;this.Bf==q.Sy?(f=this.Dz,a.beginPath(),a.rect(f.x*d,f.y*e,f.width*d,f.height*e),a.clip(),a.closePath()):this.Bf==q.Ck&&(f=this.cd.x*d,h=this.cd.y*e,a.beginPath(),a.arc(f,h,this.$i*e,Math.PI/180*this.xB,Math.PI/180*this.eA,this.Sz),a.lineTo(f,h),a.clip(),a.closePath());
c.Ga&&p.Wl?(d=c.Ga.wc,this.Pq?a.drawImage(d,0,0,p.width,p.height,l,m,k.width,k.height):a.drawImage(d,p.x,p.y,p.width,p.height,l,m,k.width,k.height)):0!==g.width&&(k=this.Cd(),a.fillStyle="rgba("+k.q+","+k.p+","+k.k+",1)",a.fillRect(l,m,g.width*d,g.height*e));a.restore();q.Ph()},Bg:function(a){a=a||q.aa;if(this.Xc&&this.Bb){q.Py(this);var c=this.Bb.oa;q.pk(c.src,c.Qb);q.He(q.Eu);this.Bb.ia()?q.Ng(this.Bb.ia()):q.Ng(null);a.bindBuffer(a.ARRAY_BUFFER,this.qH);this.ss&&(a.bufferData(a.ARRAY_BUFFER,this.ag,
a.DYNAMIC_DRAW),this.ss=!1);c=q.cc.BYTES_PER_ELEMENT;a.vertexAttribPointer(q.Ue,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(q.Dq,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(q.Eq,2,a.FLOAT,!1,c,12);this.Bf===q.Ck?a.drawArrays(a.TRIANGLE_FAN,0,this.Ld):this.Bf==q.Sy&&(this.ae?(a.drawArrays(a.TRIANGLE_STRIP,0,this.Ld/2),a.drawArrays(a.TRIANGLE_STRIP,4,this.Ld/2),q.Ch++):a.drawArrays(a.TRIANGLE_STRIP,0,this.Ld));q.Ch++}},IQ:function(){if(this.Bb){var a,c=this.Xh;a=this.Yi/100;var d=2*q.PI*(this.ae?a:
1-a),e=q.a(c.x,1),f=q.TU(e,c,d),d=0;if(0==a)f=e,d=0;else if(1==a)f=e,d=4;else{var g=q.rM,h=q.iF;for(a=0;a<=h;++a){var k=(a+(h-1))%h,l=this.Gz(a%h),k=this.Gz(k);0==a?k=q.UJ(l,k,1-c.x):4==a&&(l=q.UJ(l,k,1-c.x));var m=q.a(0,0);q.jD(l,k,c,f,m)&&(0!=a&&4!=a||0<=m.x&&1>=m.x)&&0<=m.y&&m.y<g&&(g=m.y,d=a)}f=q.Xg(c,q.qj(q.Pd(f,c),g))}g=!0;this.Ld!=d+3&&(g=!1,this.ag=this.Xc=null,this.Ld=0);if(!this.Xc){h=this.Ld=d+3;l=q.cc.BYTES_PER_ELEMENT;this.ag=new ArrayBuffer(h*l);k=[];for(a=0;a<h;a++)k[a]=new q.cc(null,
null,null,this.ag,a*l);this.Xc=k;if(!this.Xc){q.log("cc.ProgressTimer._updateRadial() : Not enough memory");return}}this.Kd();h=this.Xc;if(!g)for(h[0].F=this.df(c),h[0].A=this.ff(c),h[1].F=this.df(e),h[1].A=this.ff(e),a=0;a<d;a++)c=this.Gz(a),h[a+2].F=this.df(c),h[a+2].A=this.ff(c);h[this.Ld-1].F=this.df(f);h[this.Ld-1].A=this.ff(f)}},xQ:function(){if(this.Bb){var a,c=this.Yi/100,d=this.om,d=q.qj(q.a(1-d.x+c*d.x,1-d.y+c*d.y),0.5),c=q.Pd(this.Xh,d),d=q.Xg(this.Xh,d);0>c.x&&(d.x+=-c.x,c.x=0);1<d.x&&
(c.x-=d.x-1,d.x=1);0>c.y&&(d.y+=-c.y,c.y=0);1<d.y&&(c.y-=d.y-1,d.y=1);if(this.ae){if(!this.Xc){this.Ld=8;var e=q.cc.BYTES_PER_ELEMENT;this.ag=new ArrayBuffer(8*e);var f=[];for(a=0;8>a;a++)f[a]=new q.cc(null,null,null,this.ag,a*e);f[0].F=this.df(q.a(0,1));f[0].A=this.ff(q.a(0,1));f[1].F=this.df(q.a(0,0));f[1].A=this.ff(q.a(0,0));f[6].F=this.df(q.a(1,1));f[6].A=this.ff(q.a(1,1));f[7].F=this.df(q.a(1,0));f[7].A=this.ff(q.a(1,0));this.Xc=f}a=this.Xc;a[2].F=this.df(q.a(c.x,d.y));a[2].A=this.ff(q.a(c.x,
d.y));a[3].F=this.df(q.a(c.x,c.y));a[3].A=this.ff(q.a(c.x,c.y));a[4].F=this.df(q.a(d.x,d.y));a[4].A=this.ff(q.a(d.x,d.y));a[5].F=this.df(q.a(d.x,c.y));a[5].A=this.ff(q.a(d.x,c.y))}else{if(!this.Xc)for(this.Ld=4,e=q.cc.BYTES_PER_ELEMENT,this.ag=new ArrayBuffer(4*e),this.Xc=[],a=0;4>a;a++)this.Xc[a]=new q.cc(null,null,null,this.ag,a*e);a=this.Xc;a[0].F=this.df(q.a(c.x,d.y));a[0].A=this.ff(q.a(c.x,d.y));a[1].F=this.df(q.a(c.x,c.y));a[1].A=this.ff(q.a(c.x,c.y));a[2].F=this.df(q.a(d.x,d.y));a[2].A=this.ff(q.a(d.x,
d.y));a[3].F=this.df(q.a(d.x,c.y));a[3].A=this.ff(q.a(d.x,c.y))}this.Kd()}},Kd:function(){if(this.Bb&&this.Xc){for(var a=this.Bb.Vb.Xa.U,c=this.Xc,d=0,e=this.Ld;d<e;++d)c[d].U=a;this.ss=!0}},GB:null,EQ:function(){var a=this.Bb,c=a.c(),d=this.Xh;if(this.Bf==q.Ck){this.$i=Math.round(Math.sqrt(c.width*c.width+c.height*c.height));var e,f=!1,g=this.cd;g.x=c.width*d.x;g.y=-c.height*d.y;this.ae?(e=270,d=270-3.6*this.Yi):(d=-90,e=-90+3.6*this.Yi);a.hc&&(g.x-=2*c.width*this.Xh.x,d=-d-180,e=-e-180,f=!f);a.ic&&
(g.y+=2*c.height*this.Xh.y,f=!f,d=-d,e=-e);this.xB=d;this.eA=e;this.Sz=f}else{e=this.om;g=this.Yi/100;f=this.Dz;e=q.size(c.width*(1-e.x),c.height*(1-e.y));var g=q.size((c.width-e.width)*g,(c.height-e.height)*g),g=q.size(e.width+g.width,e.height+g.height),h=q.a(c.width*d.x,c.height*d.y),k=h.x-g.width/2;0.5<d.x&&g.width/2>=c.width-h.x&&(k=c.width-g.width);e=h.y-g.height/2;0.5<d.y&&g.height/2>=c.height-h.y&&(e=c.height-g.height);f.x=0;c=1;a.hc&&(f.x-=g.width,c=-1);0<k&&(f.x+=k*c);f.y=0;c=1;a.ic&&(f.y+=
g.height,c=-1);0<e&&(f.y-=e*c);f.width=g.width;f.height=-g.height}},FQ:function(){var a=this.Bf;a===q.Ck?this.IQ():a===q.Sy&&this.xQ();this.ss=!0}});
q.Ja.ad?(b=q.Tc.prototype,b.ctor=q.Tc.prototype.Uh,b.XK=q.Tc.prototype.$P,b.et=q.Tc.prototype.cQ,b.bL=q.Tc.prototype.gQ,b.WK=q.Tc.prototype.YP,b.QC=q.Tc.prototype.IO,b.Wa=q.Tc.prototype.Bg,b.GB=q.Tc.prototype.FQ):(b=q.Tc.prototype,b.ctor=q.Tc.prototype.Th,b.XK=q.Tc.prototype.ZP,b.et=q.Tc.prototype.bQ,b.bL=q.Tc.prototype.fQ,b.WK=q.Tc.prototype.XP,b.QC=q.Tc.prototype.HO,b.Wa=q.Tc.prototype.Oj,b.GB=q.Tc.prototype.EQ);q.Tc.create=function(a){var c=new q.Tc;return c.QC(a)?c:null};q.Uy=q.X.extend({Af:0,te:0,ctor:function(){q.X.prototype.ctor.call(this);this.te=this.Af=0},W:function(a,c){return q.X.prototype.W.call(this,a)?(this.Af=c,!0):!1},clone:function(){var a=new q.Uy;a.W(this.Fa,this.Af);return a},reverse:function(){q.log("cc.ProgressTo.reverse(): reverse hasn't been supported.");return null},ha:function(a){q.X.prototype.ha.call(this,a);this.te=a.Qw();100==this.te&&(this.te=0)},update:function(a){this.Y instanceof q.Tc&&this.Y.ct(this.te+(this.Af-this.te)*a)}});
q.Uy.create=function(a,c){var d=new q.Uy;d.W(a,c);return d};q.iu=q.X.extend({Af:0,te:0,ctor:function(){q.X.prototype.ctor.call(this);this.te=this.Af=0},W:function(a,c,d){return q.X.prototype.W.call(this,a)?(this.Af=d,this.te=c,!0):!1},clone:function(){var a=new q.iu;a.W(this.Fa,this.te,this.Af);return a},reverse:function(){return q.iu.create(this.Fa,this.Af,this.te)},ha:function(a){q.X.prototype.ha.call(this,a)},update:function(a){this.Y instanceof q.Tc&&this.Y.ct(this.te+(this.Af-this.te)*a)}});
q.iu.create=function(a,c,d){var e=new q.iu;e.W(a,c,d);return e};q.py=9;q.YL=1;q.aM=2;q.bM=4;q.ZL=8;q.$L=16;q.yt=32;q.cM=64;q.XL=128;q.Ci=256;q.sg=1;q.At=2;q.zt=4;q.WY=8;q.VY=8;
q.bc=q.Qh.extend({oG:!1,N0:!1,vl:function(){return this.oG},Jf:function(a){this.oG=a;for(var c=this.B,d=0,e=c.length;d<e;d++){var f=c[d];f&&f.sb&&f.Jf(a)}},bj:q.sg,n6:function(){return this.bj},jr:!1,gp:!1,Uj:!1,hv:null,If:function(a){this.bj=(this.jr=a)?q.sg:q.zt;this.rd()},isEnabled:function(){return this.jr},fq:function(a){this.gp=a;this.rd()},Z7:function(){return this.gp},Ml:function(a){this.Uj=a;this.rd()},I7:function(){return this.Uj},AT:function(){for(var a=this.getParent();null!=a;a=a.getParent())if(!a.ya)return!1;
return!0},ctor:function(){q.Qh.prototype.ctor.call(this);this.hv={};this.vc=q.Db()},w:function(){return q.Qh.prototype.w.call(this)?(this.bj=q.sg,this.jr=!0,this.Uj=this.gp=!1,this.hq(1),!0):!1},ux:function(){q.sD(this.jl,!0,this)},nf:function(a){for(var c=0,d=q.py;c<d;c++)if(a&1<<c)for(var e=this.dA(1<<c),f=0,g=e.length;f<g;f++)e[f].$T(this)},EH:function(a,c,d){for(var e=0,f=q.py;e<f;e++)d&1<<e&&this.Pu(a,c,1<<e)},v$:function(a,c,d){for(var e=0,f=q.py;e<f;e++)d&1<<e&&this.yP(a,c,1<<e)},kj:function(a){return this.Ka(a.R)},
ui:function(a){a=a.R;a=this.getParent().Ka(a);return q.rb(this.lb(),a)},P0:function(){return null},dA:function(a){a=a.toString();this.hv.hasOwnProperty(a)||(this.hv[a]=[]);return this.hv[a]},Pu:function(a,c,d){a=new q.zM(a,c,d);this.dA(d).push(a)},yP:function(a,c,d){d=this.dA(d);if(a||c)for(var e=0;e<d.length;){var f=d[e],g=!0;a&&(g=a==f.Y);c&&(g=g&&c==f.Pf);g?q.ie(d,f):e++}else d.length=0},rd:function(){}});q.bc.create=function(){var a=new q.bc;return a&&a.w()?a:null};q.GE=3435855873;
q.Oh=q.bc.extend({ar:!1,ts:!1,Dg:null,Br:null,Sq:null,ev:null,Sm:null,ne:null,Xi:0,Uo:!1,lw:null,hs:null,mw:null,nm:null,BG:!1,Gv:0,Fv:0,ctor:function(){q.bc.prototype.ctor.call(this);this.Dg=new q.Ek(0,0);this.Br=new q.fh(0,0);this.Sq="";this.ev=q.Db();this.lw={};this.hs={};this.mw={};this.nm={}},w:function(){return this.Xw(q.V.create("","Arial",12),q.Ud.create())},rd:function(){if(this.BG){this.Sm&&this.Sm.D(!1);this.ne&&this.ne.D(!1);this.QW(this.Br);var a=this.bj;this.Sq=this.EC(a);this.ev=this.jT(a);
var c=this.Sm=this.Gs(a);c&&c.pa&&c.pa(this.Sq);c&&c.sb&&c.t(this.ev);var d=this.c();c&&c.n(d.width/2,d.height/2);(a=this.ne=this.yS(a))&&a.n(d.width/2,d.height/2);d=c?c.lb().Va:q.size(0,0);if(this.ar)a&&a.T(d.width+2*this.Fv,d.height+2*this.Gv);else if(a){var e=a.Dg,e=q.size(e.width,e.height);0>=e.width&&(e.width=d.width);0>=e.height&&(e.height=d.height);a.T(e)}d=c?c.lb():q.rect(0,0,0,0);e=a?a.lb():q.rect(0,0,0,0);d=q.tx(d,e);this.T(d.width,d.height);d=this.c();c&&(c.n(d.width/2,d.height/2),c.D(!0));
a&&(a.n(d.width/2,d.height/2),a.D(!0))}},Xw:function(a,c){if(!a||!a.sb)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): label should be non-null";if(!c)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): backgroundSprite should be non-null";return q.bc.prototype.w.call(this,!0)?(this.BG=!0,this.lw={},this.hs={},this.mw={},this.nm={},this.fc(!0),this.Uo=!1,this.ts=!0,this.Sq=null,this.pW(!0),this.Ai(q.size(0,0)),this.ts=!0,this.lj(!1),this.C(0.5,0.5),this.Sm=a,this.ne=c,this.ta(255),
this.Jf(!0),this.AX(a.CC(),q.sg),this.zX(a.Cd(),q.sg),this.VD(a,q.sg),this.Jl(c,q.sg),this.bj=q.sg,this.Fv=24,this.Gv=12,this.Br=new q.fh(0.5,0.5),this.Ai(q.fm()),this.rd(),!0):!1},RT:function(a,c,d){a=q.V.create(a,c,d);return this.Xw(a,q.Ud.create())},Uw:function(a){var c=q.V.create("","Arial",30);return this.Xw(c,a)},N2:function(){return this.ar},pW:function(a){this.ar=a;this.rd()},W6:function(){return this.ts},aE:function(a){return this.ts=a},QS:function(){return this.Dg},Ai:function(a){if(0===
a.width&&0===a.height)this.ar=!0;else{this.ar=!1;var c=this.nm,d;for(d in c)c[d].Ai(a)}this.Dg=a;this.rd()},Q4:function(){return this.Br},QW:function(a){this.Br=a;this.Sm&&this.Sm.C(a)},G0:function(){return this.Sq},H0:function(){return this.ev},jj:function(){return this.Xi},ta:function(a){q.bc.prototype.ta.call(this,a);var c=this.nm,d;for(d in c)c[d].ta(a)},t:function(a){q.bc.prototype.t.call(this,a);var c=this.nm,d;for(d in c)c[d].t(a)},Cd:function(){return this.we},V7:function(){return this.Uo},
L0:function(){return this.Gv},J0:function(){return this.Fv},Caa:function(a,c){this.Gv=c;this.Fv=a;this.rd()},If:function(a){q.bc.prototype.If.call(this,a);this.rd()},fq:function(a){q.bc.prototype.fq.call(this,a);this.rd()},Ml:function(a){this.bj=a?q.At:q.sg;q.bc.prototype.Ml.call(this,a);(a=this.qC(q.GE))&&this.XX(a);this.rd();this.ts&&(a=q.jo.create(0.05,this.Uj&&this.isEnabled()&&!this.gp?1.1:1),a.aL(q.GE),this.xx(a))},wb:function(a){if(!(this.ui(a)&&this.isEnabled()&&this.ya&&this.AT()))return!1;
this.Uo=!0;this.Ml(!0);this.nf(q.YL);return!0},Od:function(a){this.jr&&this.Uo&&!this.gp?(a=this.ui(a))&&!this.Uj?(this.Ml(!0),this.nf(q.ZL)):a&&this.Uj?this.nf(q.aM):!a&&this.Uj?(this.Ml(!1),this.nf(q.$L)):a||this.Uj||this.nf(q.bM):this.Uj&&this.Ml(!1)},Wg:function(a){this.Uo=!1;this.Ml(!1);this.ui(a)?this.nf(q.yt):this.nf(q.cM)},tk:function(){this.Uo=!1;this.Ml(!1);this.nf(q.XL)},EC:function(a){var c=this.lw;return c?c[a]?c[a]:c[q.sg]:""},AX:function(a,c){this.lw[c]=a||"";this.bj==c&&this.rd()},
jT:function(a){return(a=this.hs[a])?a:(a=this.hs[q.sg])?a:q.Db()},zX:function(a,c){this.hs[c]=a;this.bj==c&&this.rd()},Gs:function(a){var c=this.mw;return c.hasOwnProperty(a)&&c[a]?c[a]:c[q.sg]},VD:function(a,c){var d=this.mw;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.D(!1);a.C(0.5,0.5);this.g(a,1);this.bj==c&&this.rd()},vba:function(a,c){var d=this.EC(c);d||(d="");this.VD(q.V.create(d,a,12),c)},x6:function(a){a=this.Gs(a);return null!=a&&a instanceof q.V?a.tf:""},wba:function(a,
c){var d=this.Gs(c);null!=d&&d instanceof q.V&&d.Bx(a)},y6:function(a){a=this.Gs(a);return null!=a&&a instanceof q.V?a.Xd:0},uba:function(a,c){var d=this.EC(c);d||(d="");this.VD(q.My.create(d,a),c)},w6:function(a){a=this.Gs(a);return null!=a&&a instanceof q.My?a.x4():""},yS:function(a){var c=this.nm;return c.hasOwnProperty(a)&&c[a]?c[a]:c[q.sg]},Jl:function(a,c){var d=this.nm;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.D(!1);a.C(0.5,0.5);this.g(a);d=this.Dg;0===d.width&&
0===d.height||a.Ai(d);this.bj===c&&this.rd()},S$:function(a,c){var d=q.Ud.QH(a);this.Jl(d,c)}});q.Oh.create=function(a,c){var d;if(0==arguments.length)return(d=new q.Oh)&&d.w()?d:null;1==arguments.length?(d=new q.Oh,d.Uw(arguments[0])):2==arguments.length?(d=new q.Oh,d.Xw(a,c)):3==arguments.length&&(d=new q.Oh,d.RT(arguments[0],arguments[1],arguments[2]));return d};q.RGBA=function(a,c,d,e){this.q=a;this.p=c;this.k=d;this.N=e};q.Hy=function(a,c,d){this.h=a;this.s=c;this.ua=d};q.le={};q.le.cn=function(a,c,d,e){a=q.v.RH(a);if(!a)return null;a.n(d);a.C(e);c.g(a);return a};q.le.vM=function(a){var c=new q.Hy,d,e;d=a.q<a.p?a.q:a.p;d=d<a.k?d:a.k;e=a.q>a.p?a.q:a.p;e=e>a.k?e:a.k;c.ua=e;d=e-d;if(0<e)c.s=d/e;else return c.s=0,c.h=-1,c;c.h=a.q>=e?(a.p-a.k)/d:a.p>=e?2+(a.k-a.q)/d:4+(a.q-a.p)/d;c.h*=60;0>c.h&&(c.h+=360);return c};
q.le.Xy=function(a){var c,d,e,f,g=new q.RGBA;g.N=1;if(0>=a.s){if(!a.h)return g.q=a.ua,g.p=a.ua,g.k=a.ua,g;g.q=0;g.p=0;g.k=0;return g}c=a.h;360<=c&&(c=0);c/=60;f=0|c;e=c-f;c=a.ua*(1-a.s);d=a.ua*(1-a.s*e);e=a.ua*(1-a.s*(1-e));switch(f){case 0:g.q=a.ua;g.p=e;g.k=c;break;case 1:g.q=d;g.p=a.ua;g.k=c;break;case 2:g.q=c;g.p=a.ua;g.k=e;break;case 3:g.q=c;g.p=d;g.k=a.ua;break;case 4:g.q=e;g.p=c;g.k=a.ua;break;default:g.q=a.ua,g.p=c,g.k=d}return g};q.le.BE=function(a,c){return q.tx(a,c)};q.zM=q.Ma.extend({Pf:null,Y:null,dv:null,ctor:function(a,c,d){this.Y=a;this.Pf=c;this.dv=d},z3:function(){return this.Pf},hT:function(){return this.Y},d4:function(){return this.dv},$T:function(a){if(this.Y&&this.Pf)if("string"==typeof this.Pf)this.Y[this.Pf](a,this.dv);else this.Pf.call(this.Y,a,this.dv)}});q.cF=0;q.fF=1;q.dF=2;q.eF=3;q.aF=4;q.hF=5;q.gF=6;q.aN=7;q.bF=8;
q.Ud=q.Ib.extend({sb:!0,jp:null,RF:null,al:!1,yf:null,hi:null,gi:null,wh:null,Ui:null,Kj:null,bi:null,Ji:null,Ii:null,Ki:null,Mj:null,xc:!1,yd:null,Dg:null,Xi:0,vc:null,zo:null,sv:0,uv:0,tv:0,rv:0,VG:!1,sB:!1,ub:!1,Zd:null,AL:function(){return this.ub},bg:function(a,c){this.Zd.push({eventCallback:a,pi:c})},oe:function(){this.ub=!0;for(var a=this.Zd,c=0,d=a.length;c<d;c++){var e=a[c];e.eventCallback.call(e.pi,this)}a.length=0},rw:function(){var a;a=this.sv;var c=this.uv,d=this.tv,e=this.jp,f=this.rv;
a=0===a&&0===c&&0===d&&0===f?q.vd():this.sB?q.rect(f,a,e.width-d-a,e.height-c-f):q.rect(a,c,e.width-a-d,e.height-c-f);this.vW(a)},DQ:function(){if(this.hi&&this.wh&&this.Ki&&this.Ji&&this.Kj){var a=this.Ba,c=this.hi,d=this.wh,e=this.Ki,f=this.Ji,g=this.Kj,h=this.Kj.c(),k=c.c(),l=f.c(),m=a.Ha-k.width-d.c().width,a=a.xa-k.height-e.c().height,m=m/h.width,a=a/h.height,k=h.width*m,p=h.height*a,t=l.width,l=l.height;if(!q.Ja.ad){var u=Math.round(k);k!=u&&(k=u,m=k/h.width);u=Math.round(p);p!=u&&(p=u,a=p/
h.height)}g.eq(m);g.Ln(a);var h=this.Ui,u=this.bi,w=this.gi,B=this.Ii,E=q.a(0,0);f.C(E);e.C(E);c.C(E);d.C(E);h.C(E);u.C(E);w.C(E);B.C(E);g.C(E);f.n(0,0);e.n(t+k,0);c.n(0,l+p);d.n(t+k,l+p);h.n(0,l);h.Ln(a);u.n(t+k,l);u.Ln(a);B.n(t,0);B.eq(m);w.n(t,l+p);w.eq(m);g.n(t,l)}},ctor:function(){q.Ib.prototype.ctor.call(this);this.jp=q.vd();this.RF=q.vd();this.Mj=q.Db();this.yd=new q.Ek(0,0);this.Dg=new q.Ek(0,0);this.vc=q.Db();this.Xi=255;this.zo=q.vd();this.Zd=[]},OS:function(){return this.yd},QS:function(){return this.Dg},
Ai:function(a){this.T(a);this.Dg=a},jj:function(){return this.Xi},ta:function(a){if(this.yf){this.Xi=a;for(var c=this.yf.B,d=0;d<c.length;d++){var e=c[d];e&&e.sb&&e.ta(a)}}},Cd:function(){return this.vc},t:function(a){if(this.yf){this.vc=a;for(var c=this.yf.B,d=0;d<c.length;d++){var e=c[d];e&&e.sb&&e.t(a)}}},Q3:function(){return this.zo},vW:function(a){if(this.yf){var c=this.Ba,d=c.Ha,c=c.xa;this.lq(this.yf,this.jp,this.sB,a);this.T(d,c)}},M4:function(){return this.sv},taa:function(a){this.sv=a;this.rw()},
O4:function(){return this.uv},vaa:function(a){this.uv=a;this.rw()},N4:function(){return this.tv},uaa:function(a){this.tv=a;this.rw()},L4:function(){return this.rv},saa:function(a){this.rv=a;this.rw()},T:function(a,c){2===arguments.length?q.G.prototype.T.call(this,a,c):q.G.prototype.T.call(this,a);this.al=!0},Aa:function(a){this.al&&(this.DQ(),this.al=!1);q.Ib.prototype.Aa.call(this,a)},w:function(){return this.Vw(null,q.vd(),!1,q.vd())},Vw:function(a,c,d,e){3===arguments.length&&(e=d,d=!1);a&&this.lq(a,
c,d,e);this.C(0.5,0.5);return this.al=!0},mj:function(a,c,d){a instanceof q.vg?(d=a=c,c=q.vd()):(c=c||q.vd(),d=d||q.vd());if(!a)throw"cc.Scale9Sprite.initWithFile(): file should be non-null";var e=q.ja.f().Wx(a);if(!e){var e=q.ja.f().na(a),f=e.Rg();(this.ub=f)||e.bg(function(a){var c=this.Dg,c=q.size(c.width,c.height);a=a.c();this.lq(this.yf,q.rect(0,0,a.width,a.height),!1,this.zo);this.Ai(c);this.al=!0;this.oe()},this)}a=q.Eb.create(a,9);return this.Vw(a,c,!1,d)},Ke:function(a,c){if(!a||!a.ia())throw"cc.Scale9Sprite.initWithSpriteFrame(): spriteFrame should be non-null and its texture should be non-null";
c=c||q.vd();var d=a.ub;(this.ub=d)||a.bg(function(a){var c=this.Dg,c=q.size(c.width,c.height);this.lq(this.yf,a.od(),q.Ja.ad?a.zd:!1,this.zo);this.Ai(c);this.al=!0;this.oe()},this);d=q.Eb.Pa(a.ia(),9);return this.Vw(d,a.od(),q.Ja.ad?a.zd:!1,c)},aJ:function(a,c){if(!a)throw"cc.Scale9Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";c=c||q.vd();var d=q.wg.f().Gh(a);return null==d?(q.log("cc.Scale9Sprite.initWithSpriteFrameName(): can't find the sprite frame by spriteFrameName"),
!1):this.Ke(d,c)},y$:function(a){var c=new q.Ud;return c&&c.Vw(this.yf,this.jp,!1,a)?c:null},Jf:function(a){if(this.yf){this.xc=a;var c=this.yf.B;if(c)for(var d=0,e=c.length;d<e;d++)c[d].Jf(a)}},vl:function(){return this.xc},lq:function(a,c,d,e){var f=this.jj(),g=this.Cd();c=q.rect(c.x,c.y,c.width,c.height);this.lc(!0);this.yf!=a&&(this.yf=a);a=a.ia();var h=a.Rg();if(this.ub=h){a=this.yf;a.lc(!0);h=this.zo;h.x=e.x;h.y=e.y;h.width=e.width;h.height=e.height;this.sB=d;h=a.ia();q.Nr(c)&&(c=h.c(),c=q.rect(0,
0,c.width,c.height));var k=this.jp=c;k.x=c.x;k.y=c.y;k.width=c.width;k.height=c.height;var l=c.Va;this.yd.width=l.width;this.yd.height=l.height;k=this.Dg;0===k.width&&0===k.height&&(k.width=l.width,k.height=l.height);k=this.RF;e&&(k.x=e.x,k.y=e.y,k.width=e.width,k.height=e.height);var m=l.width;e=l.height;q.Nr(k)&&(k.x=m/3,k.y=e/3,k.width=m/3,k.height=e/3);var p=k.x,t=k.width,u=m-(p+t),w=k.y,B=k.height,E=e-(w+B),I=0,D=0;e=q.rect(I,D,p,w);var I=I+p,k=q.rect(I,D,t,w),m=q.rect(I+t,D,u,w),I=0,D=0+w,l=
q.rect(I,D,p,B),I=I+p,fa=q.rect(I,D,t,B),I=I+t,ga=q.rect(I,D,u,B),I=0,D=0+w+B,w=q.rect(I,D,p,E),I=I+p,p=q.rect(I,D,t,E),I=I+t,t=q.rect(I,D,u,E),u={N:1,k:0,La:0,d:1,gb:0,hb:0};if(d){d=fa;var E=t,I=w,D=m,B=e,ta=ga,ja=l,ua=p,va=k,u=q.jy(u,c.height+c.x,c.y),u=q.WL(u),fa=q.Nf(fa,u),t=q.Nf(t,u),w=q.Nf(w,u),m=q.Nf(m,u);e=q.Nf(e,u);ga=q.Nf(ga,u);l=q.Nf(l,u);p=q.Nf(p,u);k=q.Nf(k,u);d.x=fa.x;d.y=fa.y;E.x=t.x;E.y=t.y;I.x=w.x;I.y=w.y;D.x=m.x;D.y=m.y;B.x=e.x;B.y=e.y;ta.x=ga.x;ta.y=ga.y;ja.x=l.x;ja.y=l.y;ua.x=
p.x;ua.y=p.y;va.x=k.x;va.y=k.y;this.Kj=new q.v;this.Kj.Qa(h,d,!0);a.g(this.Kj,0,q.cF);this.gi=new q.v;this.gi.Qa(h,va,!0);a.g(this.gi,1,q.fF);this.Ii=new q.v;this.Ii.Qa(h,ua,!0);a.g(this.Ii,1,q.aF);this.Ui=new q.v;this.Ui.Qa(h,ja,!0);a.g(this.Ui,1,q.dF);this.bi=new q.v;this.bi.Qa(h,ta,!0);a.g(this.bi,1,q.eF);this.hi=new q.v;this.hi.Qa(h,B,!0);a.g(this.hi,2,q.gF);this.wh=new q.v;this.wh.Qa(h,D,!0);a.g(this.wh,2,q.hF);this.Ji=new q.v;this.Ji.Qa(h,I,!0);a.g(this.Ji,2,q.bF);this.Ki=new q.v;this.Ki.Qa(h,
E,!0)}else u=q.jy(u,c.x,c.y),q.Fi(fa,u),q.Fi(t,u),q.Fi(w,u),q.Fi(m,u),q.Fi(e,u),q.Fi(ga,u),q.Fi(l,u),q.Fi(p,u),q.Fi(k,u),this.Kj=new q.v,this.Kj.Qa(h,fa),a.g(this.Kj,0,q.cF),this.gi=new q.v,this.gi.Qa(h,k),a.g(this.gi,1,q.fF),this.Ii=new q.v,this.Ii.Qa(h,p),a.g(this.Ii,1,q.aF),this.Ui=new q.v,this.Ui.Qa(h,l),a.g(this.Ui,1,q.dF),this.bi=new q.v,this.bi.Qa(h,ga),a.g(this.bi,1,q.eF),this.hi=new q.v,this.hi.Qa(h,e),a.g(this.hi,2,q.gF),this.wh=new q.v,this.wh.Qa(h,m),a.g(this.wh,2,q.hF),this.Ji=new q.v,
this.Ji.Qa(h,w),a.g(this.Ji,2,q.bF),this.Ki=new q.v,this.Ki.Qa(h,t);a.g(this.Ki,2,q.aN);this.T(c.Va);this.g(a);this.VG&&(this.ta(f),255===g.q&&255===g.p&&255===g.k||this.t(g));return this.VG=!0}a.bg(function(){this.al=!0;this.oe()},this)},Kf:function(a){var c=q.Eb.Pa(a.ia(),9),d=a.ub;(this.ub=d)||a.bg(function(a){var c=this.Dg,c=q.size(c.width,c.height);this.lq(this.yf,a.od(),q.Ja.ad?a.zd:!1,this.zo);this.Ai(c);this.al=!0;this.oe()},this);this.lq(c,a.od(),q.Ja.ad?a.zd:!1,q.vd());this.rv=this.tv=this.uv=
this.sv=0}});q.Ud.create=function(a,c,d){var e;if(2===arguments.length)if("string"==typeof a){if((e=new q.Ud)&&e.mj(a,c))return e}else{if(a instanceof q.vg&&(e=new q.Ud)&&e.mj(a,d))return e}else if(3===arguments.length){if((e=new q.Ud)&&e.mj(a,c,d))return e}else if(1===arguments.length){if((e=new q.Ud)&&e.mj(a))return e}else if(0===arguments.length&&(e=new q.Ud)&&e.w())return e;return null};q.Ud.QH=function(a,c){var d=new q.Ud;return d&&d.Ke(a,c)?d:null};
q.Ud.RH=function(a,c){if(!a)throw"cc.Scale9Sprite.createWithSpriteFrameName(): spriteFrameName should be non-null";var d=new q.Ud;return d&&d.aJ(a,c)?d:null};q.tu=q.Sc.extend({});q.tu.Uca=function(a){var c=new q.tu;c.w();c.T(0,a);return c};q.tu.d7=function(a){var c=new q.tu;c.w();c.T(a,0);return c};
q.fu=q.Sc.extend({sb:!0,vc:null,Xi:0,ctor:function(){},Cd:function(){return this.vc},t:function(a){this.vc=a;if(this.B&&0<this.B.length)for(var c=0;c<this.B.length;c++)this.B[c]&&this.B[c].sb&&this.B[c].t(a)},jj:function(){return this.Xi},ta:function(a){this.Xi=a;if(this.B&&0<this.B.length)for(var c=0;c<this.B.length;c++)this.B[c]&&this.B[c].sb&&this.B[c].ta(a)},KT:function(a,c){if(this.w()){var d=q.da.f().ac;this.lj(!0);this.C(0.5,0.5);this.T(d);this.n(d.width/2,d.height/2);d=0;if(a){this.g(a,d);
for(var e=0;e<c.length;e++)c[e]&&(d++,this.g(c[e],d))}return!0}return!1},D1:function(){this.ZQ(q.hM)},ZQ:function(a){var c=-a,d;if(this.B&&0<this.B.length)for(d=0;d<this.B.length;d++)this.B[d]&&(c+=this.B[d].c().height*this.B[d].Ca+a);var e=0,f=c/2;if(this.B&&0<this.B.length)for(d=0;d<this.B.length;d++)this.B[d]&&(e=Math.max(e,this.B[d].c().width),this.B[d].n(0,f-this.B[d].c().height*this.B[d].Ca/2),f-=this.B[d].c().height*this.B[d].Ca+a);this.T(e,c)},A1:function(){this.YQ(q.hM)},YQ:function(a){var c=
-a,d;if(this.B&&0<this.B.length)for(d=0;d<this.B.length;d++)this.B[d]&&(c+=this.B[d].c().width*this.B[d].va+a);var e=0,f=-c/2;if(this.B&&0<this.B.length)for(d=0;d<this.B.length;d++)this.B[d]&&(e=Math.max(e,this.B[d].c().height),this.B[d].n(f+this.B[d].c().width*this.B[d].va/2,0),f+=this.B[d].c().width*this.B[d].va+a);this.T(c,e)},B1:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=-5,f=0,g=0,h=0,k,l;if(this.B&&0<this.B.length)for(d=0;d<this.B.length;d++)this.B[d]&&
(f>=c.length?q.log("cc.MenuPassive.alignItemsInColumns(): invalid row index"):(k=c[f])?(l=this.B[d].c().height,g=0|(g>=l||null==l?g:l),++h,h>=k&&(e+=g+5,g=h=0,++f)):q.log("cc.MenuPassive.alignItemsInColumns(): can not have zero columns on a row"));var m=q.da.f().ac,p=k=g=f=0,t=0,e=e/2;if(this.B&&0<this.B.length)for(d=0;d<this.B.length;d++)this.B[d]&&(0==k&&(k=c[f],t=p=m.width/(1+k)),l=this.B[d].c().height,g=0|(g>=l||null==l?g:l),this.B[d].n(t-m.width/2,e-this.B[d].c().height/2),t+=p,++h,h>=k&&(e-=
g+5,g=k=h=0,++f))},C1:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=[],f=[],g=-10,h=-5,k=0,l=0,m=0,p,t;if(this.B&&0<this.B.length)for(d=0;d<this.B.length;d++)this.B[d]&&(k>=c.length?q.log("cc.MenuPassive.alignItemsInRows(): invalid row index"):(p=c[k])?(t=this.B[d].c().width,l=0|(l>=t||null==t?l:t),h+=0|this.B[d].c().height+5,++m,m>=p&&(e.push(l),f.push(h),g+=l+10,l=m=0,h=-5,++k)):q.log("cc.MenuPassive.alignItemsInColumns(): can't have zero rows on a column"));h=
q.da.f().ac;l=k=0;p=null;var g=-g/2,u=0;if(this.B&&0<this.B.length)for(d=0;d<this.B.length;d++)this.B[d]&&(null==p&&(p=c[k],u=f[k]),t=this.B[d].c().width,l=0|(l>=t||null==t?l:t),this.B[d].n(g+e[k]/2,u-h.height/2),u-=this.B[d].c().height+10,++m,m>=p&&(g+=l+5,l=p=m=0,++k))},Jf:function(){},vl:function(){return!1}});q.fu.create=function(a){0==arguments.length&&(a=null);for(var c=[],d=1;d<arguments.length;d++)c.push(arguments[d]);return(d=new q.fu)&&d.KT(a,c)?d:null};
q.fu.z2=function(a){return q.fu.create(a,null)};q.vy=q.bc.extend({cB:0,Vu:0,Vc:null,gP:null,TG:null,vh:null,Dc:null,zg:0,Jj:0,W5:function(){return this.cB},M3:function(){return this.Vu},qI:function(){return this.Vc},y5:function(){return this.Vu},d6:function(){return this.TG},cT:function(){return this.vh},eT:function(){return this.Dc},SC:function(a,c){return q.bc.prototype.w.call(this)?(this.fc(!0),this.Vc=q.le.cn("colourPickerBackground.png",a,c,q.a(0,0)),this.gP=q.le.cn("colourPickerOverlay.png",a,c,q.a(0,0)),this.TG=q.le.cn("colourPickerShadow.png",
a,c,q.a(0,0)),this.vh=q.le.cn("colourPicker.png",a,c,q.a(0.5,0.5)),this.Dc=c,this.zg=35,this.Jj=this.Vc.c().width/2,!0):!1},If:function(a){q.bc.prototype.If.call(this,a);this.vh&&this.vh.ta(a?255:128)},OL:function(a){var c=new q.Hy;c.s=1;c.h=a.h;c.ua=1;a=q.le.Xy(c);this.Vc.t(q.YB(0|255*a.q,0|255*a.p,0|255*a.k))},iY:function(a){a=q.a(this.Dc.x+this.zg+this.Jj*(1-a.s),this.Dc.y+this.zg+this.Jj*a.ua);this.uw(a)},uw:function(a){var c=this.Dc.x+0.5*this.Vc.lb().width,d=this.Dc.y+0.5*this.Vc.lb().height,
e=a.x-c,f=a.y-d,g=Math.sqrt(e*e+f*f),e=Math.atan2(f,e),f=0.5*this.Vc.lb().width;g>f&&(a.x=c+f*Math.cos(e),a.y=d+f*Math.sin(e));this.vh.n(a);a.x<this.Dc.x+this.zg?a.x=this.Dc.x+this.zg:a.x>this.Dc.x+this.zg+this.Jj-1&&(a.x=this.Dc.x+this.zg+this.Jj-1);a.y<this.Dc.y+this.zg?a.y=this.Dc.y+this.zg:a.y>this.Dc.y+this.zg+this.Jj&&(a.y=this.Dc.y+this.zg+this.Jj);this.cB=1-Math.abs((this.Dc.x+this.zg-a.x)/this.Jj);this.Vu=Math.abs((this.Dc.y+this.zg-a.y)/this.Jj)},Nq:function(a){var c=this.Dc.x+0.5*this.Vc.lb().width,
d=this.Dc.y+0.5*this.Vc.lb().height,c=a.x-c,d=a.y-d;return Math.sqrt(c*c+d*d)<=0.5*this.Vc.lb().width?(this.uw(a),this.nf(q.Ci),!0):!1},wb:function(a){if(!this.isEnabled()||!this.ya)return!1;a=this.kj(a);return this.Nq(a)},Od:function(a){a=this.kj(a);this.Nq(a)}});q.vy.create=function(a,c){var d=new q.vy;d.SC(a,c);return d};q.uy=q.bc.extend({Ro:0,ur:0,Vc:null,vh:null,Dc:null,G4:function(){return this.Ro},PD:function(a){this.Ro=a;this.MW(this.Ro/360)},H4:function(){return this.ur},MW:function(a){this.ur=a;this.Ro=360*this.ur;a=this.Vc.lb();var c=0.5*a.width-15,d=q.Bj(360*this.ur-180);this.vh.n(this.Dc.x+0.5*a.width+c*Math.cos(d),this.Dc.y+0.5*a.height+c*Math.sin(d))},If:function(a){q.bc.prototype.If.call(this,a);this.vh&&this.vh.ta(a?255:128)},qI:function(){return this.Vc},cT:function(){return this.vh},eT:function(){return this.Dc},
SC:function(a,c){return q.bc.prototype.w.call(this)?(this.fc(!0),this.Vc=q.le.cn("huePickerBackground.png",a,c,q.a(0,0)),this.vh=q.le.cn("colourPicker.png",a,c,q.a(0.5,0.5)),this.vh.n(c.x,c.y+0.5*this.Vc.lb().height),this.Dc=c,this.ur=this.Ro=0,!0):!1},uw:function(a){var c=this.Vc.lb();this.PD(q.Vy(Math.atan2(a.y-(this.Dc.y+0.5*c.height),a.x-(this.Dc.x+0.5*c.width)))+180);this.nf(q.Ci)},Nq:function(a){var c=Math.sqrt(Math.pow(a.x+10,2)+Math.pow(a.y,2));return 80>c&&59<c?(this.uw(a),!0):!1},wb:function(a){if(!this.isEnabled()||
!this.ya)return!1;a=this.kj(a);return this.Nq(a)},Od:function(a){a=this.kj(a);this.Nq(a)}});q.uy.create=function(a,c){var d=new q.uy;d.SC(a,c);return d};q.HE=q.bc.extend({lh:null,Mk:null,wm:null,Vc:null,HT:function(a){this.lh.h=a.Ro;a=q.le.Xy(this.lh);q.bc.prototype.t.call(this,q.YB(0|255*a.q,0|255*a.p,0|255*a.k));this.nf(q.Ci);this.AQ()},AR:function(a){this.lh.s=a.cB;this.lh.ua=a.Vu;a=q.le.Xy(this.lh);q.bc.prototype.t.call(this,q.YB(0|255*a.q,0|255*a.p,0|255*a.k));this.nf(q.Ci)},t:function(a){q.bc.prototype.t.call(this,a);var c=new q.RGBA;c.q=a.q/255;c.p=a.p/255;c.k=a.k/255;c.N=1;this.lh=q.le.vM(c);this.lH()},qI:function(){return this.Vc},w:function(){if(q.bc.prototype.w.call(this)){this.fc(!0);
q.wg.f().DH(aa.zE);var a=q.Eb.create(aa.AE);this.g(a);this.lh=new q.Hy(0,0,0);this.Vc=q.le.cn("menuColourPanelBackground.png",a,q.Dj(),q.a(0.5,0.5));var c=q.Pd(this.Vc.u,q.a(this.Vc.c().width/2,this.Vc.c().height/2));this.wm=q.uy.create(a,q.a(c.x+8,c.y+8));this.Mk=q.vy.create(a,q.a(c.x+28,c.y+28));this.wm.EH(this,this.HT,q.Ci);this.Mk.EH(this,this.AR,q.Ci);this.lH();this.g(this.wm);this.g(this.Mk);this.T(this.Vc.c());return!0}return!1},AQ:function(){this.wm.PD(this.lh.h);this.Mk.OL(this.lh)},lH:function(){this.wm.PD(this.lh.h);
this.Mk.OL(this.lh);this.Mk.iY(this.lh)},If:function(a){q.bc.prototype.If.call(this,a);null!=this.wm&&this.wm.If(a);this.Mk&&this.Mk.If(a)},wb:function(){return!1}});q.HE.create=function(){var a=new q.HE;a.w();return a};aa=aa||{};aa.zE=aa.zE||"res/extensions/CCControlColourPickerSpriteSheet.plist";aa.AE=aa.AE||"res/extensions/CCControlColourPickerSpriteSheet.png";q.oF=24;q.M_=8;
q.JE=q.bc.extend({gd:0,qb:0,Nb:0,Lv:0,Jv:0,Ob:null,bl:null,ne:null,KI:function(){return this.gd},of:function(a){a=Math.max(a,this.qb);this.gd=a=Math.min(a,this.Nb);this.rd();this.nf(q.Ci)},KS:function(){return this.qb},MK:function(a){this.Lv=this.qb=a;this.qb>=this.Nb&&(this.Nb=this.qb+1);this.of(this.gd)},JS:function(){return this.Nb},KK:function(a){this.Jv=this.Nb=a;this.Nb<=this.qb&&(this.qb=this.Nb-1);this.of(this.gd)},ui:function(a){a=a.R;a=this.getParent().Ka(a);var c=this.lb();c.Va.width+=
this.Ob.c().width;c.cd.x-=this.Ob.c().width/2;return q.rb(c,a)},sn:function(a){a=a.R;a=this.Ka(a);0>a.x?a.x=0:a.x>this.ne.c().width&&(a.x=this.ne.c().width);return a},c5:function(){return this.Lv},Gaa:function(a){this.Lv=a},a5:function(){return this.Jv},Faa:function(a){this.Jv=a},II:function(){return this.Ob},H5:function(){return this.bl},G3:function(){return this.ne},PT:function(a,c,d){return q.bc.prototype.w.call(this)?(this.lj(!1),this.fc(!0),this.ne=a,this.bl=c,this.Ob=d,a=q.le.BE(a.lb(),d.lb()),
this.T(a.width,a.height),this.ne.C(0.5,0.5),this.ne.n(a.width/2,a.height/2),this.g(this.ne),this.bl.C(0,0.5),this.bl.n(0,a.height/2),this.g(this.bl),this.Ob.n(0,a.height/2),this.g(this.Ob),this.qb=0,this.Nb=1,this.of(this.qb),!0):!1},If:function(a){q.bc.prototype.If.call(this,a);this.Ob&&this.Ob.ta(a?255:128)},TX:function(a){this.fq(!0);this.Ob.t(q.tl());this.of(this.tE(a))},VX:function(a){this.of(this.tE(a))},UX:function(){this.gp&&this.of(this.tE(this.Ob.u));this.Ob.t(q.Db());this.fq(!1)},D6:function(a){a=
a.R;a=this.Ka(a);0>a.x?a.x=0:a.x>this.ne.c().width+q.oF&&(a.x=this.ne.c().width+q.oF);return a},wb:function(a){if(!this.ui(a)||!this.isEnabled()||!this.ya)return!1;a=this.sn(a);this.TX(a);return!0},Od:function(a){a=this.sn(a);this.VX(a)},Wg:function(){this.UX(q.Dj())},rd:function(){this.Ob.eb((this.gd-this.qb)/(this.Nb-this.qb)*this.ne.c().width);var a=this.bl.DC(),a=q.rect(a.x,a.y,this.Ob.u.H,a.height);this.bl.fb(a,this.bl.kd,a.Va)},tE:function(a){a=a.x/this.ne.c().width;return Math.max(Math.min(this.qb+
a*(this.Nb-this.qb),this.Jv),this.Lv)}});q.JE.create=function(a,c,d){"string"==typeof a&&(a=q.v.create(a),c=q.v.create(c),d=q.v.create(d));var e=new q.JE;e.PT(a,c,d);return e};q.LE=q.bc.extend({ld:null,iG:0,Ir:!1,bp:!1,ctor:function(){q.bc.prototype.ctor.call(this)},PC:function(a,c,d,e,f,g){if(!a)throw"cc.ControlSwitch.initWithMaskSprite(): maskSprite should be non-null.";if(!c)throw"cc.ControlSwitch.initWithMaskSprite(): onSprite should be non-null.";if(!d)throw"cc.ControlSwitch.initWithMaskSprite(): offSprite should be non-null.";if(!e)throw"cc.ControlSwitch.initWithMaskSprite(): thumbSprite should be non-null.";return this.w()?(this.fc(!0),this.bp=!0,this.ld=new q.gM,
this.ld.PC(a,c,d,e,f,g),this.ld.n(this.ld.c().width/2,this.ld.c().height/2),this.g(this.ld),this.lj(!1),this.C(0.5,0.5),this.T(this.ld.c()),!0):!1},Ex:function(a,c){var d=(this.bp=a)?this.ld.Zk:this.ld.Bm;c?this.ld.xx(q.Xn.create(0.2,"sliderXPosition",this.ld.dk,d)):this.ld.SD(d);this.nf(q.Ci)},P7:function(){return this.bp},b7:function(){return this.Ir},If:function(a){this.jr=a;this.ld.ta(a?255:128)},sn:function(a){a=a.R;return a=this.Ka(a)},wb:function(a){if(!this.ui(a)||!this.isEnabled()||!this.ya)return!1;
this.Ir=!1;this.iG=this.sn(a).x-this.ld.dk;this.ld.Ob.t(q.tl());this.ld.rd();return!0},Od:function(a){a=this.sn(a);a=q.a(a.x-this.iG,0);this.Ir=!0;this.ld.SD(a.x)},Wg:function(a){a=this.sn(a);this.ld.Ob.t(q.Db());this.Ir?this.Ex(!(a.x<this.ld.c().width/2),!0):this.Ex(!this.bp,!0)},tk:function(a){a=this.sn(a);this.ld.Ob.t(q.Db());this.Ir?this.Ex(!(a.x<this.ld.c().width/2),!0):this.Ex(!this.bp,!0)}});q.LE.create=function(a,c,d,e,f,g){var h=new q.LE;return h&&h.PC(a,c,d,e,f,g)?h:null};
q.gM=q.v.extend({dk:0,Zk:0,Bm:0,$G:0,BA:0,CA:null,ph:null,Wi:null,Ob:null,Cm:null,Am:null,Fo:null,yc:null,Su:null,ctor:function(){q.v.prototype.ctor.call(this);this.BA=this.Bm=this.Zk=this.dk=0;this.CA=q.size(0,0);this.Am=this.Cm=this.Ob=this.Wi=this.ph=null},PC:function(a,c,d,e,f,g){return q.v.prototype.Qa.call(this,a.ia())?(this.Zk=0,this.Bm=-c.c().width+e.c().width/2,this.dk=this.Zk,this.cX(c),this.aX(d),this.UD(e),this.bX(f),this.$W(g),this.yc=a,a=this.CA=this.yc.c(),this.yc.n(0,0),this.Fo=q.Ab.create(),
this.Fo.C(0.5,0.5),this.Fo.n(a.width/2,a.height/2),this.Fo.TD(this.yc),this.Su=q.tb.create(a.width,a.height),this.Fo.g(this.Su.Bb),this.g(this.Fo),this.g(this.Ob),this.rd(),!0):!1},rd:function(){this.ph.n(this.ph.c().width/2+this.dk,this.ph.c().height/2);this.Wi.n(this.ph.c().width+this.Wi.c().width/2+this.dk,this.Wi.c().height/2);this.Cm&&this.Cm.n(this.ph.u.x-this.Ob.c().width/6,this.ph.c().height/2);this.Am&&this.Am.n(this.Wi.u.x+this.Ob.c().width/6,this.Wi.c().height/2);this.Ob.n(this.ph.c().width+
this.dk,this.CA.height/2);this.Su.kk();this.ph.Aa();this.Wi.Aa();this.Cm&&this.Cm.Aa();this.Am&&this.Am.Aa();this.Su.end()},SD:function(a){a<=this.Bm?a=this.Bm:a>=this.Zk&&(a=this.Zk);this.dk=a;this.rd()},g6:function(){return this.dk},e9:function(){return this.ph.c().width},c9:function(){return this.Wi.c().height},rE:function(a,c){q.log("key \x3d "+c+", value \x3d "+a);this.SD(a)},Paa:function(a){this.Zk=a},s5:function(){return this.Zk},Maa:function(a){this.Bm=a},m5:function(){return this.Bm},Eaa:function(a){this.yc.ka(a)},
W4:function(){return this.yc.ia()},sba:function(a){this.$G=a},t6:function(){return this.$G},Daa:function(a){this.BA=a},V4:function(){return this.BA},cX:function(a){this.ph=a},t5:function(){return this.ph},aX:function(a){this.Wi=a},n5:function(){return this.Wi},UD:function(a){this.Ob=a},II:function(){return this.Ob},bX:function(a){this.Cm=a},r5:function(){return this.Cm},$W:function(a){this.Am=a},l5:function(){return this.Am}});q.EE=0;q.FE=1;q.Bt=2;q.oq=q.o(55,55,55);q.qy=q.o(147,147,147);q.DE="CourierNewPSMT";q.xE=0.15;q.UL=12;
q.KE=q.bc.extend({$d:null,vf:null,Yk:null,$k:null,gd:0,Rq:!1,ro:!1,Zm:!1,qb:0,Nb:0,Nm:0,ks:!1,Um:q.Bt,Kq:0,ctor:function(){q.bc.prototype.ctor.call(this);this.$k=this.Yk=this.vf=this.$d=null;this.gd=0;this.Zm=this.ro=this.Rq=!1;this.Nm=this.Nb=this.qb=0;this.ks=!1;this.Um=q.Bt;this.Kq=0},NT:function(a,c){if(!a)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Minus sprite should be non-null.";if(!c)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Plus sprite should be non-null.";
if(this.w()){this.fc(!0);this.Rq=this.ro=!0;this.qb=0;this.Nb=100;this.gd=0;this.Nm=1;this.Zm=!1;this.lj(!1);this.WW(a);this.$d.n(a.c().width/2,a.c().height/2);this.g(this.$d);this.VW(q.V.create("-",q.DE,40,q.size(40,40),q.Hj,q.Hu));this.Yk.t(q.qy);this.Yk.n(this.$d.c().width/2,this.$d.c().height/2);this.$d.g(this.Yk);this.gX(c);this.vf.n(a.c().width+c.c().width/2,a.c().height/2);this.g(this.vf);this.fX(q.V.create("+",q.DE,40,q.size(40,40),q.Hj,q.Hu));this.$k.t(q.oq);this.$k.n(this.vf.c().width/2,
this.vf.c().height/2);this.vf.g(this.$k);var d=q.le.BE(this.$d.lb(),this.vf.lb());this.T(this.$d.c().width+this.vf.c().height,d.Va.height);return!0}return!1},Gba:function(a){if(this.Zm=a)this.Yk.t(q.oq),this.$k.t(q.oq);this.of(this.gd)},MK:function(a){if(a>=this.Nb)throw"cc.ControlStepper.setMinimumValue(): minimumValue should be numerically less than maximumValue.";this.qb=a;this.of(this.gd)},KK:function(a){if(a<=this.qb)throw"cc.ControlStepper.setMaximumValue(): maximumValue should be numerically less than maximumValue.";
this.Nb=a;this.of(this.gd)},of:function(a){this.YD(a,!0)},KI:function(){return this.gd},lba:function(a){if(0>=a)throw"cc.ControlStepper.setMaximumValue(): stepValue should be numerically greater than 0.";this.Nm=a},A7:function(){return this.Rq},YD:function(a,c){a<this.qb?a=this.Zm?this.Nb:this.qb:a>this.Nb&&(a=this.Zm?this.qb:this.Nb);this.gd=a;this.Zm||(this.Yk.t(a==this.qb?q.qy:q.oq),this.$k.t(a==this.Nb?q.qy:q.oq));c&&this.nf(q.Ci)},tL:function(){this.Kq=-1;this.ec(this.update,q.xE,q.em,3*q.xE)},
vL:function(){this.Rc(this.update)},update:function(){this.Kq++;this.Kq<q.UL&&0!=this.Kq%3||(this.Um==q.EE?this.YD(this.gd-this.Nm,this.Rq):this.Um==q.FE&&this.YD(this.gd+this.Nm,this.Rq))},FL:function(a){a.x<this.$d.c().width&&this.gd>this.qb?(this.Um=q.EE,this.$d.t(q.tl()),this.vf.t(q.Db())):a.x>=this.$d.c().width&&this.gd<this.Nb?(this.Um=q.FE,this.$d.t(q.Db()),this.vf.t(q.tl())):(this.Um=q.Bt,this.$d.t(q.Db()),this.vf.t(q.Db()))},wb:function(a){if(!this.ui(a)||!this.isEnabled()||!this.ya)return!1;
a=this.kj(a);this.FL(a);this.ks=!0;this.ro&&this.tL();return!0},Od:function(a){this.ui(a)?(a=this.kj(a),this.FL(a),this.ks||(this.ks=!0,this.ro&&this.tL())):(this.ks=!1,this.Um=q.Bt,this.$d.t(q.Db()),this.vf.t(q.Db()),this.ro&&this.vL())},Wg:function(a){this.$d.t(q.Db());this.vf.t(q.Db());this.ro&&this.vL();this.ui(a)&&(a=this.kj(a),this.of(this.gd+(a.x<this.$d.c().width?0-this.Nm:this.Nm)))},WW:function(a){this.$d=a},e5:function(){return this.$d},gX:function(a){this.vf=a},C5:function(){return this.vf},
VW:function(a){this.Yk=a},d5:function(){return this.Yk},fX:function(a){this.$k=a},B5:function(){return this.$k}});q.KE.create=function(a,c){var d=new q.KE;return d&&d.NT(a,c)?d:null};q.IE=q.bc.extend({Ob:null,ep:null,dp:null,gd:0,qb:0,Nb:1,ST:function(a,c,d){return this.w()?(this.fc(!0),this.kX(c),this.UD(d),this.Ob.n(c.u),this.g(d,2),this.g(c,1),this.g(a),this.T(a.c()),this.qb=0,this.Nb=1,this.of(this.qb),!0):!1},If:function(a){this.If(a);this.Ob!=NULL&&this.Ob.ta(a?255:128)},of:function(a){a<this.qb&&(a=this.qb);a>this.Nb&&(a=this.Nb);this.gd=a;a=(a-this.qb)/(this.Nb-this.qb);this.ep.ct(100*a);this.Ob.Hx(360*a);this.nf(q.Ci)},KI:function(){return this.gd},MK:function(a){this.qb=
a;this.qb>=this.Nb&&(this.Nb=this.qb+1);this.of(this.Nb)},KS:function(){return this.qb},KK:function(a){this.Nb=a;this.Nb<=this.qb&&(this.qb=this.Nb-1);this.of(this.qb)},JS:function(){return this.Nb},ui:function(a){a=this.kj(a);return this.dS(this.ep.u,a)<Math.min(this.c().width/2,this.c().height/2)},wb:function(a){if(!this.ui(a)||!this.isEnabled()||!this.ya)return!1;this.dp=this.kj(a);this.eV(this.dp);return!0},Od:function(a){a=this.kj(a);this.gV(a)},Wg:function(){this.fV(q.a(0,0))},dS:function(a,
c){var d=a.x-c.x,e=a.y-c.y;return Math.sqrt(d*d+e*e)},aR:function(a,c,d,e){return 180*(Math.atan2(c.x-a.x,c.y-a.y)-Math.atan2(e.x-d.x,e.y-d.y))/Math.PI},eV:function(){this.fq(!0);this.Ob.t(q.tl())},gV:function(a){var c=this.aR(this.ep.u,a,this.ep.u,this.dp);180<c?c-=360:-180>c&&(c+=360);this.of(this.gd+c/360*(this.Nb-this.qb));this.dp=a},fV:function(){this.Ob.t(q.Db());this.fq(!1)},UD:function(a){this.Ob=a},II:function(){return this.Ob},kX:function(a){this.ep=a},I5:function(){return this.ep},Vaa:function(a){this.dp=
a},RS:function(){return this.dp}});q.IE.create=function(a,c,d){var e=new q.IE;return e&&(a=q.v.create(a),d=q.v.create(d),c=q.Tc.create(q.v.create(c)),e.ST(a,c,d))?e:null};q.mF=-1;q.io=0;q.vq=1;q.pu=2;q.HR=function(a){var c=q.qa.f();return(c.va+c.Ca)/2*a/160};q.mN=q.Ma.extend({jW:function(){},kW:function(){}});
q.Rh=q.Sc.extend({l1:0,V0:0,T0:0,Da:null,Pi:q.pu,Qi:!1,oO:null,Ua:null,xh:!1,Hv:null,Kv:null,Lq:!1,Oq:!1,Pr:null,sp:null,ls:0,yh:null,ki:null,wG:0,uG:0,Kr:null,dB:!1,aH:null,ctor:function(){q.Sc.prototype.ctor.call(this);this.oO=new q.fh(0,0);this.Hv=new q.fh(0,0);this.Kv=new q.fh(0,0);this.Pr=new q.fh(0,0);this.sp=new q.fh(0,0);this.yh=[];this.ki=new q.Ek(0,0);this.Kr=new q.vg(0,0,0,0);this.aH=new q.vg(0,0,0,0)},w:function(){return this.Up(q.size(200,200),null)},ux:function(){q.sD(this.jl,!1,this)},
Up:function(a,c){var d=q.a(0,0);return q.Sc.prototype.w.call(this)?(this.Ua=c,this.Ua||(this.Ua=q.Sc.create(),this.Ua.lj(!1),this.Ua.C(d)),this.fL(a),this.fc(!0),this.yh.length=0,this.Da=null,this.Oq=this.Lq=!0,this.Pi=q.pu,this.Ua.n(d),this.ls=0,this.g(this.Ua),this.wG=this.uG=1,!0):!1},Ll:function(a,c){if(c)this.zW(a,0.15);else{if(!this.Lq){var d=this.tn(),e=this.Ts();a.x=Math.max(d.x,Math.min(e.x,a.x));a.y=Math.max(d.y,Math.min(e.y,a.y))}this.Ua.n(a)}},sI:function(){var a=this.Ua.u;return q.a(a.x,
a.y)},zW:function(a,c){var d=q.gu.create(c,a),e=q.pq.create(this.oQ,this);this.Ua.xx(q.Fj.create(d,e));this.ec(this.JA)},kL:function(a,c){if(c)this.FX(a,0.15);else{var d=this.Ua;if(d.yC()!=a){var e,f;0==this.ls?(f=this.ki,f=q.a(0.5*f.width,0.5*f.height),f=this.ml(f)):f=this.sp;e=d.Ka(f);d.vk(Math.max(this.wG,Math.min(this.uG,a)));e=d.ml(e);f=q.Pd(f,e);this.Ll(q.Xg(d.u,f))}}},NI:function(){return this.Ua.yC()},FX:function(a,c){if(0<c){var d=this.Ua.yC();d!=a&&(d=q.Xn.create(c,"zoomScale",d,a),this.xx(d))}else this.kL(a)},
tn:function(){var a=this.Ua,c=a.c(),d=this.ki;return q.a(d.width-c.width*a.va,d.height-c.height*a.Ca)},Ts:function(){return q.a(0,0)},O7:function(a){var c=this.sI(),d=this.ki,e=this.NI(),c=q.rect(-c.x/e,-c.y/e,d.width/e,d.height/e);return q.uV(c,a.lb())},pause:function(){this.Ua.px();for(var a=this.Ua.B,c=0;c<a.length;c++)a[c].px()},lK:function(){for(var a=this.Ua.B,c=0,d=a.length;c<d;c++)a[c].wx();this.Ua.wx()},D7:function(){return this.Qi},g8:function(){return this.xh},w7:function(){return this.Lq},
tW:function(a){this.Lq=a},Q6:function(){return this.ki},fL:function(a){this.ki=a;q.G.prototype.T.call(this,a)},a4:function(){return this.Ua},xW:function(a){a&&(this.lc(!0),this.Ua=a,a.lj(!1),a.C(0,0),this.g(a),this.fL(this.ki))},p4:function(){return this.Pi},yK:function(a){this.Pi=a},sc:function(){return this.Da},lg:function(a){this.Da=a},wb:function(a){if(!this.ya)return!1;var c=this.rA(),d=this.Ua,e=d.ml(d.mi(a)),f=this.yh;if(2<f.length||this.xh||!q.rb(c,e))return!1;f.push(a);1===f.length?(this.sp=
this.mi(a),this.xh=!1,this.Qi=!0,this.Pr.x=0,this.ls=this.Pr.y=0):2==f.length&&(this.sp=q.kD(this.mi(f[0]),this.mi(f[1])),this.ls=q.hD(d.mi(f[0]),d.mi(f[1])),this.Qi=!1);return!0},Od:function(a){if(this.ya)if(1===this.yh.length&&this.Qi){this.xh=!0;var c=this.rA(),d=this.mi(a);a=q.Pd(d,this.sp);var e=0,f=this.Pi,e=f===q.vq?a.y:f===q.io?a.x:Math.sqrt(a.x*a.x+a.y*a.y);if(this.xh||!(0.04375>Math.abs(q.HR(e))))if(this.xh||(a.x=0,a.y=0),this.sp=d,this.xh=!0,q.rb(c,this.ml(d))){switch(f){case q.vq:a.x=
0;break;case q.io:a.y=0}d=this.Ua.u;c=d.x+a.x;d=d.y+a.y;this.Pr=a;this.Ll(q.a(c,d))}}else 2!==this.yh.length||this.Qi||(a=q.hD(this.Ua.mi(this.yh[0]),this.Ua.mi(this.yh[1])),this.kL(this.NI()*a/this.ls))},Wg:function(){this.ya&&(1==this.yh.length&&this.xh&&this.ec(this.Uz),this.yh.length=0,this.xh=this.Qi=!1)},tk:function(){this.ya&&(this.yh.length=0,this.xh=this.Qi=!1)},T:function(a,c){null!=this.Ua&&(2===arguments.length?this.Ua.T(a,c):this.Ua.T(a),this.jY())},c:function(){return this.Ua.c()},jY:function(){if(null!=
this.Ua){var a=this.ki,c=this.Ts();this.Hv.x=c.x+0.2*a.width;this.Hv.y=c.y+0.2*a.height;c=this.tn();this.Kv.x=c.x-0.2*a.width;this.Kv.y=c.y-0.2*a.height}},y7:function(){return this.Oq},Y$:function(a){this.Oq=a},Aa:function(a){if(this.ya){a=a||q.aa;var c,d=this.B,e,f;if(q.Qd===q.rg){a.save();this.transform(a);this.LF(a);if(d&&0<d.length){f=d.length;this.he();for(c=0;c<f;c++)if((e=d[c])&&0>e.kb)e.Aa(a);else break;for(this.Wa(a);c<f;c++)d[c].Aa(a)}else this.Wa(a);this.JF();a.restore()}else{q.Yp();var g=
this.Sk;g&&g.Vp()&&(g.WB(),this.$x());this.transform(a);this.LF(a);if(d&&0<d.length){f=d.length;for(c=0;c<f;c++)if((e=d[c])&&0>e.kb)e.Aa();else break;for(this.Wa(a);c<f;c++)d[c].Aa()}else this.Wa(a);this.JF(a);g&&g.Vp()&&g.TB(this);q.Xp()}}},g:function(a,c,d){if(!a)throw Error("child must not nil!");c=c||a.kb;d=d||a.Bd;a.lj(!1);a.C(0,0);this.Ua!=a?this.Ua.g(a,c,d):q.Sc.prototype.g.call(this,a,c,d)},fc:function(a){q.Sc.prototype.fc.call(this,a);a||(this.xh=this.Qi=!1,this.yh.length=0)},O0:function(){return null},
qP:function(a){var c=this.tn(),d=this.Ts(),e=this.Pi,f=this.Ua.u,g=f.x,h=f.y;if(e===q.pu||e===q.io)g=Math.max(g,c.x),g=Math.min(g,d.x);if(e==q.pu||e==q.vq)h=Math.min(h,d.y),h=Math.max(h,c.y);h==f.y&&g==f.x||this.Ll(q.a(g,h),a)},Uz:function(){if(this.Qi)this.Rc(this.Uz);else{var a,c;a=this.Ua.u;var d=this.Pr;this.Ua.n(a.x+d.x,a.y+d.y);this.Lq?(a=this.Hv,c=this.Kv):(a=this.Ts(),c=this.tn());var e=this.Ua.u.H,f=this.Ua.u.Q;d.x*=0.95;d.y*=0.95;this.Ll(q.a(e,f));if(1>=Math.abs(d.x)&&1>=Math.abs(d.y)||
f>a.y||f<c.y||e>a.x||e<c.x||e==a.x||e==c.x||f==a.y||f==c.y)this.Rc(this.Uz),this.qP(!0)}},JA:function(){this.Qi&&this.Rc(this.JA)},oQ:function(){this.Rc(this.JA)},LF:function(a){if(this.Oq){this.dB=!1;var c=this.rA(),d=q.qa.f(),e=this.va,f=this.Ca;a=a||q.aa;if(q.Qd===q.rg)c=this.ki.width*e*d.va,d=this.ki.height*f*d.Ca,a.beginPath(),a.rect(0,0,c,-d),a.clip(),a.closePath();else if(d=q.qa.f(),d.eU()){if(this.dB=!0,this.Kr=d.XS(),q.tV(c,this.Kr)){var g=this.Kr;a=Math.max(c.x,g.x);f=Math.max(c.y,g.y);
e=Math.min(c.x+c.width,g.x+g.width);c=Math.min(c.y+c.height,g.y+g.height);d.QD(a,f,e-a,c-f)}}else a.enable(a.SCISSOR_TEST),d.QD(c.x,c.y,c.width,c.height)}},JF:function(a){this.Oq&&q.Qd===q.Fk&&(this.dB?(a=this.Kr,q.qa.f().QD(a.x,a.y,a.width,a.height)):(a=a||q.aa,a.disable(a.SCISSOR_TEST)))},M0:function(){},rA:function(){for(var a=this.ml(q.Dj()),c=this.ki,d=this.va,e=this.Ca,f=this.ea;null!=f;f=f.getParent())d*=f.va,e*=f.Ca;0>d&&(a.x+=c.width*d,d=-d);0>e&&(a.y+=c.height*e,e=-e);f=this.aH;f.x=a.x;
f.y=a.y;f.width=c.width*d;f.height=c.height*e;return f}});q.Rh.create=function(a,c){var d=new q.Rh;if(2==arguments.length){if(d&&d.Up(a,c))return d}else if(d&&d.w())return d;return null};q.nN=q.Ma.extend({Dx:function(){},ri:function(){return 0}});q.oN=q.nN.extend({EA:0,ctor:function(){this.EA=0},Dx:function(a){this.EA=a},ri:function(){return this.EA}});function ia(a,c){return a.ri()-c.ri()}
q.my=q.Ma.extend({th:null,ctor:function(){this.th=[]},dJ:function(a){if(!a)throw"cc.ArrayForObjectSorting.insertSortedObject(): addObject should be non-null.";this.VT(a,this.Tp(a))},SV:function(a){if(0!=this.count()){var c=this.Tp(a);c<this.count()&&c!=q.Ei&&this.yn(c).ri()==a.ri()&&this.xD(c)}},Laa:function(a,c){var d=this.Tp(c);if(d<this.count()&&d!=q.Ei){var e=this.yn(d);e.ri()==c.ri()&&(this.xD(d),e.Dx(a),this.dJ(e))}},LJ:function(a){if(0==this.count())return null;var c=new q.oN;c.Dx(a);var d=
this.Tp(c);d<this.count()&&d!=q.Ei&&(c=this.yn(d),c.ri()!=a&&(c=null));return c},k5:function(){return null},Tp:function(a){var c=0;if(a){var d=0;a=a.ri();for(var e=this.th,f=0;f<e.length;f++){var g=e[f].ri();if(a==g||a>=d&&a<g)break;d=g;c++}}else c=q.Ei;return c},count:function(){return this.th.length},v8:function(){var a=this.th;return 0==a.length?null:a[a.length-1]},yn:function(a){return this.th[a]},CH:function(a){this.th.push(a);this.th.sort(ia)},xD:function(a){q.nq(this.th,a);this.th.sort(ia)},
VT:function(a,c){this.th=q.$l(this.th,a,c);this.th.sort(ia)}});q.qF=0;q.qN=1;q.Y_=q.G.extend({Vj:0,K4:function(){return this.Vj},OW:function(a){this.Vj=a},reset:function(){this.Vj=q.Ei},Dx:function(a){this.Vj=a},ri:function(){return this.Vj}});q.$_=q.mN.extend({mca:function(){},lca:function(){},nca:function(){},oca:function(){}});q.Z_=q.Ma.extend({bY:function(a){return this.kR(a)},kR:function(){return q.jN},kca:function(){return null},Y8:function(){return 0}});
q.yF=q.Rh.extend({vp:null,Id:null,Ao:null,Tz:null,AB:null,Ov:null,Xu:null,fk:null,ctor:function(){q.Rh.prototype.ctor.call(this);this.Ov=q.mF;this.Xu=[]},FN:function(a){var c=0,d=-1;switch(this.Pi){case q.io:a=a.x;break;default:a=a.y}for(var e=this.Xu;d>=c;){var f=0|c+(d-c)/2,g=e[f],h=e[f+1];if(a>=g&&a<=h)return f;a<g?d=f-1:c=f+1}return 0>=c?0:-1},DO:function(a){a={x:a.x,y:a.y};this.vp===q.qF&&(a.y=this.Ua.c().height-a.y);a=this.FN(a);-1!=a&&(a=Math.max(0,a),-1<a&&(a=q.Ei));return a},GN:function(a){switch(this.Pi){case q.io:a=
q.a(this.Xu[a],0);break;default:a=q.a(0,this.Xu[a])}return a},fP:function(a){var c=this.GN(a);a=this.Tz.bY(this,a);this.vp===q.qF&&(c.y=this.Ua.c().height-c.y-a.height);return c},i1:function(){},EB:function(){var a=q.fm();this.T(a);this.Ov!=this.Pi&&(this.Pi==q.io?this.Ll(q.a(0,0)):this.Ll(q.a(0,this.tn().y)),this.Ov=this.Pi)},xG:function(a){this.Ao.CH(a);this.Lk.SV(a);q.ie(this.Id,a.Vj);a.reset();a.getParent()==this.Ua&&this.Ua.removeChild(a,!0)},Yv:function(a,c){c.C(0,0);c.n(this.fP(a));c.OW(a)},
HF:function(a){a.getParent()!=this.Ua&&this.Ua.g(a);this.Lk.dJ(a);var c=this.Id;a=a.Vj;-1==c.indexOf(a)&&(c.push(a),c.sort(function(a,c){return a-c}))},g4:function(){return this.Tz},EW:function(a){this.Tz=a},sc:function(){return this.AB},lg:function(a){this.AB=a},Eba:function(a){this.vp!=a&&(this.vp=a,0<this.Lk.count()&&this.wD())},N6:function(){return this.vp},Up:function(a,c){return q.Rh.prototype.Up.call(this,a,c)?(this.Lk=new q.my,this.Ao=new q.my,this.Id=[],this.AB=null,this.vp=q.qN,this.yK(q.vq),
q.Rh.prototype.lg.call(this,this),!0):!1},Ica:function(a){if(!(a==q.Ei||-1<a)){var c=this.$B(a);c&&this.xG(c);c=null;this.Yv(a,c);this.HF(c)}},n7:function(a){if(!(a==q.Ei||-1<a)){var c,d=this.Lk;if(c=d.LJ(a))for(var e=c=d.Tp(c);e<d.count();e++)c=d.yn(e),this.Yv(c.Vj+1,c);c=null;this.Yv(a,c);this.HF(c);this.EB()}},k$:function(a){if(!(a==q.Ei||-1<a)){var c=this.$B(a);if(c){var d=this.Lk,e=d.Tp(c);this.xG(c);q.ie(this.Id,a);for(a=d.count()-1;a>e;a--)c=d.yn(a),this.Yv(c.Vj-1,c)}}},wD:function(){this.Ov=
q.mF;for(var a=this.Lk,c=this.Ao,d=this.Ua,e=0,f=a.count();e<f;e++){var g=a.yn(e);c.CH(g);g.reset();g.getParent()==d&&d.removeChild(g,!0)}this.Id=[];this.Lk=new q.my;this.EB()},H2:function(){if(0===this.Ao.count())return null;var a=this.Ao.yn(0);this.Ao.xD(0);return a},$B:function(a){return-1==this.Id.indexOf(a)?null:this.Lk.LJ(a)},jW:function(){},kW:function(){},Wg:function(a,c){if(this.ya){if(this.fk){var d=this.lb();d.cd=this.ea.ml(d.origin);this.fk=null}q.Rh.prototype.Wg.call(this,a,c)}},wb:function(a,
c){if(!this.ya)return!1;var d=q.Rh.prototype.wb.call(this,a,c);if(1===this.yh.length){var e;e=this.Ua.mi(a);e=this.DO(e);this.fk=e===q.Ei?null:this.$B(e)}else this.fk&&(this.fk=null);return d},Od:function(a,c){q.Rh.prototype.Od.call(this,a,c);this.fk&&this.xh&&(this.fk=null)},tk:function(a,c){q.Rh.prototype.tk.call(this,a,c);this.fk&&(this.fk=null)}});q.yF.create=function(a,c,d){var e=new q.yF;e.Up(c,d);e.EW(a);e.EB();return e};q.mc={};q.mc.AH=function(a){for(var c in q.mc.cD)a[c]=q.mc.cD[c]};
q.mc.cD={n:function(a,c){2==arguments.length?(this.u.H=a,this.u.Q=c):(this.u.H=a.x,this.u.Q=a.y);this.bb();this.ga.oE(this.u.H,-this.u.Q)},uc:function(a){this.u.Q=a;this.bb();this.ga.oE(this.u.H,-this.u.Q)},eb:function(a){this.u.H=a;this.bb();this.ga.oE(this.u.H,-this.u.Q)},vk:function(a,c){this.va=a;this.Ca=c||a;this.bb();this.ga.resize(this.va,this.Ca)},eq:function(a){this.va=a;this.bb();this.ga.resize(this.va,this.Ca)},Ln:function(a){this.Ca=a;this.bb();this.ga.resize(this.va,this.Ca)},C:function(a,
c){var d=this.km;if(2===arguments.length){if(a===d.H&&c===d.Q)return;d.H=a;d.Q=c}else{if(a.x===d.H&&a.y===d.Q)return;d.H=a.x;d.Q=a.y}var e=this.Ed,f=this.Ba;e.H=f.Ha*d.H;e.Q=f.xa*d.Q;this.ga.style[q.Sb.zn+"TransformOrigin"]=""+e.H+"px "+-e.Q+"px";this.Wj?(this.ga.style.marginLeft=0,this.ga.style.marginBottom=0):(this.ga.style.marginLeft=this.hU?0:-e.H+"px",this.ga.style.marginBottom=-e.Q+"px");this.bb()},rt:function(){var a=this.Ed;this.ga.style[q.Sb.zn+"TransformOrigin"]=""+a.H+"px "+-a.Q+"px";this.Wj?
(this.ga.style.marginLeft=0,this.ga.style.marginBottom=0):(this.ga.style.marginLeft=this.hU?0:-a.H+"px",this.ga.style.marginBottom=-a.Q+"px")},T:function(a,c){var d=this.Ba;if(2===arguments.length){if(a===d.Ha&&c===d.xa)return;d.Ha=a;d.xa=c}else{if(a.width===d.Ha&&a.height===d.xa)return;d.Ha=a.width;d.xa=a.height}var e=this.Ed,f=this.km;e.H=d.Ha*f.H;e.Q=d.xa*f.Q;this.ga.width=d.Ha;this.ga.height=d.xa;this.rt();this.canvas&&(this.canvas.width=d.Ha,this.canvas.height=d.xa);this.bb();this.vV()},Hx:function(a){this.FP!=
a&&(this.Hg=this.ci=a,this.Hm=Math.PI/180*this.Hg,this.Or=Math.PI/180*this.ci,this.bb(),this.ga.rotate(a))},Kx:function(a){this.ye=a;this.bb();this.ga.ZK(this.ye,this.ze)},Lx:function(a){this.ze=a;this.bb();this.ga.ZK(this.ye,this.ze)},D:function(a){this.ya=a;this.bb();this.ga&&(this.ga.style.display=a?"block":"none")},$v:function(a){this.kb=a;this.bb();this.ga&&(this.ga.zIndex=a)},bt:function(a){this.ea=a;null!==a&&(a.rt(),this.bb(),q.mc.ox(this))},wx:function(){this.Gf().Gn(this);this.dg().Gn(this);
this.ga&&!this.ga.parentNode&&(this.getParent()?q.mc.ox(this):this.ga.dn(q.lk));this.ga&&(this.ga.style.visibility="visible")},px:function(){this.Gf().Us(this);this.dg().Us(this);this.ga&&(this.ga.style.visibility="hidden")},cg:function(){this.fE();this.nt();this.yg(this.B,q.G.Of.cg);this.ga&&this.ga.remove()},OV:function(){this.ga.remove()},ta:function(a){this.Xi=a;this.ga.style.opacity=a/255},vV:function(){if(this.qJ){var a=this.B;this.B=[];q.v.prototype.Aa.call(this,this.Ep);this.B=a}else q.v.prototype.Aa.call(this,
this.Ep)}};q.mc.BP=function(){var a=q.Sb("#EGLViewDiv");if(a){var c=q.qa.f(),d=c.Jp(),e=c.gf,f=c.jn(),g=d.width,h=d.height;0===d.width&&0===d.height&&(g=f.width,h=f.height);var d=e.Va.width,k=e.Va.height;0===e.Va.width&&0===e.Va.height&&(d=f.width,k=f.height);a.style.position="absolute";a.style.width=g+"px";a.style.maxHeight=h+"px";a.style.margin=0;a.resize(c.va,c.Ca);a.style.left=d<f.width?(d-g)/2+(f.width-d)/2+"px":(d-g)/2+"px";a.style.bottom=k<f.height?(f.height-k)/2+"px":"0px"}};
q.mc.ox=function(a){var c=a.getParent();if(c&&a.ga)if(c.ga||(q.mc.$U(c),c.bt=q.mc.cD.bt),a.ga.dn(c.ga),c.rt(),c.getParent())q.mc.ox(c);else if(c.$e)if(a=q.Sb("#EGLViewDiv"))c.ga.dn(a);else{a=q.zk("div");a.id="EGLViewDiv";var d=q.qa.f(),e=d.Jp(),f=d.gf,g=d.jn(),h=e.width,k=e.height;0===e.width&&0===e.height&&(h=g.width,k=g.height);var e=f.Va.width,l=f.Va.height;0===f.Va.width&&0===f.Va.height&&(e=g.width,l=g.height);a.style.position="absolute";a.style.width=h+"px";a.style.maxHeight=k+"px";a.style.margin=
0;a.resize(d.va,d.Ca);a.style.left=e<g.width?(e-h)/2+(g.width-e)/2+"px":(e-h)/2+"px";a.style.bottom=l<g.height?(g.height-l)/2+"px":"0px";c.ga.dn(a);a.dn(q.lk)}};q.mc.setTransform=function(a){if(a.Ep)if(a.Ep.translate(a.Ed.x,a.Ed.y),a.qJ){var c=a.B;a.B=[];q.v.prototype.Aa.call(a,a.Ep);a.B=c}else q.v.prototype.Aa.call(a,a.Ep);a.ga&&(a.ga.position.x=a.u.x,a.ga.position.y=-a.u.y,a.ga.rotation=a.US(),a.ga.scale={x:a.va,y:a.Ca},a.ga.Ql={x:a.ye,y:a.ze},a.rt&&a.rt(),a.ga.Sn())};
q.mc.tS=function(a){a.ga=q.zk("div");a.canvas=q.zk("canvas");var c=a.c();a.canvas.width=c.width;a.canvas.height=c.height;a.ga.style.position="absolute";a.ga.style.bottom=0;a.Ep=a.canvas.getContext("2d");a.ga.appendChild(a.canvas);a.getParent()&&q.mc.ox(a);a.qJ=!0};
q.mc.$U=function(a){a.ga=q.zk("div");a.placeholder=!0;a.ga.style.position="absolute";a.ga.style.bottom=0;a.ga.style.width=(a.c().width||q.da.f().ac.width)+"px";a.ga.style.maxHeight=(a.c().height||q.da.f().ac.height)+"px";a.ga.style.margin=0;q.mc.setTransform(a);a.ga.Sn();q.mc.AH(a)};
q.mc.vs=function(a){if(1<arguments.length)q.mc.vs(arguments);else if(1!=arguments.length||arguments[0].length)for(var c=arguments[0],d=0;d<c.length;d++)c[d]instanceof q.v?c[d].ga||q.mc.tS(c[d]):q.log("DOM converter only supports sprite and menuitems yet"),q.mc.AH(c[d]),c[d].Aa=function(){},c[d].transform=function(){},q.mc.setTransform(c[d]),c[d].D(c[d].ya);else q.mc.vs([arguments[0]])};q.Ky=0;q.LZ=1;q.OZ=2;q.NZ=3;q.MZ=4;q.By=0;q.pZ=1;q.qZ=2;q.rZ=3;q.tZ=4;q.oZ=5;q.sZ=6;q.zy=0;q.Ay=1;q.nZ=2;q.mZ=3;q.lZ=4;q.wZ=q.Ma.extend({pl:function(){},ql:function(){},oi:function(){},W2:function(){}});
q.$n=q.Oh.extend({Ub:null,Da:null,fr:q.By,er:q.Ay,Ar:q.Ky,ZG:"",Fb:"",Zf:null,ve:null,Xk:50,Hq:18,K:null,re:14,Vh:"Arial",Yh:"",Wf:14,Yd:"",Cg:!0,bH:!1,MG:0,ctor:function(a){function c(){this.focus()}function d(){e.Da&&e.Da.oi&&(e.Cg?e.Da.oi(e,this.value):(e.Da.oi(e,e.Yd),this.value=" "))}q.Oh.prototype.ctor.call(this);this.Zf=q.Db();this.ve=q.tl();this.T(a);this.Ub=new q.v;this.Ub.Wa=function(){};this.g(this.Ub);var e=this;this.K=document.createElement("input");this.K.type="text";this.K.style.fontSize=
this.re+"px";this.K.style.color="#000000";this.K.style.border=0;this.K["vertical-align"]="middle";this.K.style.background="transparent";this.K.style.width="100%";this.K.style.height="100%";this.K.style.uH=0;this.K.style.outline="medium";this.K.attachEvent?(this.K.attachEvent("oninput",d),this.K.attachEvent("onclick",c)):(this.K.addEventListener("input",d),this.K.addEventListener("click",c,!1));this.K.addEventListener("keypress",function(a){var c="number"==typeof a.which?a.which:a.keyCode;a.stopPropagation();
c===q.tq.mC?(a.preventDefault(),q.canvas.focus()):e.Cg||c===q.tq.HH||(e.Yd+=String.fromCharCode(c),e.Da.oi(e,e.Yd))});this.K.addEventListener("keydown",function(a){a.stopPropagation();!e.Cg&&("number"==typeof a.which?a.which:a.keyCode)===q.tq.HH&&0<e.Yd.length&&(e.Yd=e.Yd.substring(0,e.Yd.length-1),e.Da.oi(e,e.Yd))});this.K.addEventListener("focus",function(){e.Cg?this.value==e.Fb&&(this.value="",this.style.fontSize=e.re+"px",this.style.color=q.Jc(e.Zf)):(this.style.position="absolute",this.MG=this.style.top,
this.style.top="-1000000px",e.Yd==e.Fb&&(e.Yd="",this.value="                                                 "));e.Da&&e.Da.pl&&e.Da.pl(e)});this.K.addEventListener("blur",function(){e.Cg?""==this.value&&(this.value=e.Fb,this.style.fontSize=e.Wf+"px",this.style.color=q.Jc(e.ve)):(this.style.position="relative",this.style.top=this.MG,""==e.Yd&&(this.value=" ",e.Yd=e.Fb));e.Da&&e.Da.ql&&e.Da.ql(e)});q.mc.vs(this.Ub);this.Ub.ga.appendChild(this.K);this.Ub.ga.qL=!1;this.Ub.ga.style.width=a.width-6+"px";
this.Ub.ga.style.height=a.height-6+"px";this.Ub.canvas.remove()},DK:function(a,c){this.re=c;this.Vh=a;this.fi()},ND:function(a){this.Vh=a;this.fi()},Bx:function(a){this.re=a;this.fi()},fi:function(){this.Cg&&this.K.value!=this.Fb&&(this.K.style.fontFamily=this.Vh,this.K.style.fontSize=this.re+"px")},ge:function(a){null!=a&&(""==a?this.Cg?(this.K.value=this.Fb,this.K.style.color=q.Jc(this.ve)):(this.K.value=" ",this.Yd=this.Fb):this.Cg?(this.K.value=a,this.K.style.color=q.Jc(this.Zf)):this.Yd=a)},
LD:function(a){this.Cg&&(this.Zf=a,this.K.value!=this.Fb&&(this.K.style.color=q.Jc(a)))},JK:function(a){!isNaN(a)&&0<a&&(this.Xk=a,this.K.maxLength=a)},yI:function(){return this.Xk},NK:function(a){if(null!=a){var c=this.Fb;this.Fb=a;this.Cg?this.K.value==c&&(this.K.value=a,this.K.style.color=q.Jc(this.ve),this.zf()):this.Yd==c&&(this.Yd=a,this.K.value=" ",this.zf())}},OK:function(a,c){this.Yh=a;this.Wf=c;this.zf()},QK:function(a){this.Yh=a;this.zf()},RK:function(a){this.Wf=a;this.zf()},zf:function(){this.Cg&&
this.K.value==this.Fb&&(this.K.style.fontFamily=this.Yh,this.K.style.fontSize=this.Wf+"px")},PK:function(a){this.Cg&&(this.ve=a,this.K.value==this.Fb&&(this.K.style.color=q.Jc(a)))},bq:function(a){this.er=a;this.K.type=a==q.zy?"password":"text"},ba:function(){return this.Cg?this.K.value:this.Yd},Os:function(a,c){return this.Uw(c)?(this.Ub.n(3,3),this.aE(!1),this.Ai(a),this.n(0,0),this.Pu(this,this.lt,q.yt),!0):!1},lg:function(a){this.Da=a},CI:function(){return this.Fb},HK:function(a){this.fr=a},VK:function(a){this.Ar=
a},wJ:function(a){var c=q.$n.od(this);c.y-=4;c.eJ(a.end)?this.Hq=a.end.zI()-c.AI():q.log("needn't to adjust view layout.")},uJ:function(){},vJ:function(){},tJ:function(){},lt:function(){},WI:function(a,c){this.dr=a.width;this.ga.style.width=this.dr.toString()+"px";this.cr=a.height;this.ga.style.height=this.cr.toString()+"px";this.ga.style.backgroundColor=q.Jc(c)}});q.$n.od=function(a){var c=a.c(),c=q.rect(0,0,c.width,c.height);return q.Nf(c,a.wn())};
q.$n.create=function(a,c,d,e){var f=new q.$n(a);c instanceof q.Ac?f.Ys(c):f.Os(a,c)&&(d&&f.Jl(d,q.At),e&&f.Jl(e,q.zt));return f};SingleLineBox=q.Oh.extend({Ub:null,Da:null,fr:q.By,er:q.Ay,Ar:q.Ky,ZG:"",Fb:"",Zf:null,ve:null,Xk:50,Hq:18,K:null,re:14,Vh:"Arial",gr:!1,Yh:"",Wf:14,bH:!1,ctor:function(a){q.Oh.prototype.ctor.call(this);this.gr=!1;this.Zf=q.Db();this.ve=q.tl();this.T(a);this.Ub=new q.v;this.Ub.Wa=function(){};this.g(this.Ub);var c=this;this.K=document.createElement("input");this.K.type="text";this.K.style.fontSize=this.re+"px";this.K.style.color="#000000";this.K.style.border=0;this.K.style.background="transparent";
this.K.style.width="100%";this.K.style.height="100%";this.K.style.uH=0;this.K.style.outline="medium";this.K.addEventListener("input",function(){c.Da&&c.Da.oi&&c.Da.oi(c,this.value)});this.K.addEventListener("keyup",function(a){a.keyCode===q.tq.mC&&!1==c.gr&&(a.stopPropagation(),a.preventDefault(),q.canvas.focus())});this.K.addEventListener("focus",function(){this.value==c.Fb&&(this.value="",this.style.fontSize=c.re+"px",this.style.color=q.Jc(c.Zf));c.Da&&c.Da.pl&&c.Da.pl(c)});this.K.addEventListener("blur",
function(){""==this.value&&(this.value=c.Fb,this.style.fontSize=c.Wf+"px",this.style.color=q.Jc(c.ve));c.Da&&c.Da.ql&&c.Da.ql(c)});q.mc.vs(this.Ub);this.Ub.ga.appendChild(this.K);this.Ub.ga.qL=!1;this.Ub.ga.style.width=a.width-6+"px";this.Ub.ga.style.height=a.height-6+"px";this.Ub.canvas.remove()},DK:function(a,c){this.re=c;this.Vh=a;this.fi()},CX:function(){},ND:function(a){this.Vh=a;this.fi()},Bx:function(a){this.re=a;this.fi()},fi:function(){this.K.value!=this.Fb&&(this.K.style.fontFamily=this.Vh,
this.K.style.fontSize=this.re+"px")},ge:function(a){null!=a&&(""==a?(this.K.value=this.Fb,this.K.style.color=q.Jc(this.ve)):(this.K.value=a,this.K.style.color=q.Jc(this.Zf)))},LD:function(a){this.Zf=a;this.K.value!=this.Fb&&(this.K.style.color=q.Jc(a))},JK:function(a){!isNaN(a)&&0<a&&(this.Xk=a,this.K.maxLength=a)},yI:function(){return this.Xk},NK:function(a){if(null!=a){var c=this.Fb;this.Fb=a;this.K.value==c&&(this.K.value=a,this.K.style.color=q.Jc(this.ve),this.zf())}},OK:function(a,c){this.Yh=
a;this.Wf=c;this.zf()},QK:function(a){this.Yh=a;this.zf()},RK:function(a){this.Wf=a;this.zf()},zf:function(){this.K.value==this.Fb&&(this.K.style.fontFamily=this.Yh,this.K.style.fontSize=this.Wf+"px")},PK:function(a){this.ve=a;this.K.value==this.Fb&&(this.K.style.color=q.Jc(a))},bq:function(a){this.er=a;this.K.type=a==q.zy?"password":"text"},ba:function(){return this.K.value},Os:function(a,c){return this.Uw(c)?(this.Ub.n(3,3),this.aE(!1),this.Ai(a),this.n(0,0),this.Pu(this,this.lt,q.yt),!0):!1},lg:function(a){this.Da=
a},CI:function(){return this.Fb},HK:function(a){this.fr=a},VK:function(a){this.Ar=a},wJ:function(a){var c=q.$n.od(this);c.y-=4;c.eJ(a.end)?this.Hq=a.end.zI()-c.AI():q.log("needn't to adjust view layout.")},uJ:function(){},vJ:function(){},tJ:function(){},lt:function(){},Ys:function(a){a=ka(a.q,a.p,a.k);this.K.style.background=a},WI:function(a,c){this.dr=a.width;this.ga.style.width=this.dr.toString()+"px";this.cr=a.height;this.ga.style.height=this.cr.toString()+"px";this.ga.style.backgroundColor=q.Jc(c)}});
SingleLineBox.od=function(a){var c=a.c(),c=q.rect(0,0,c.width,c.height);return q.Nf(c,a.wn())};SingleLineBox.create=function(a,c,d,e){var f=new SingleLineBox(a);c instanceof q.Ac?f.Ys(c):f.Os(a,c)&&(d&&f.Jl(d,q.At),e&&f.Jl(e,q.zt));return f};MultiLineBox=q.Oh.extend({Ub:null,Da:null,fr:q.By,er:q.Ay,Ar:q.Ky,ZG:"",Fb:"",Zf:null,ve:null,Xk:50,Hq:18,K:null,re:14,Vh:"Arial",gr:!1,Yh:"",Wf:14,bH:!1,ctor:function(a){q.Oh.prototype.ctor.call(this);this.gr=!1;this.Zf=q.Db();this.ve=q.tl();this.T(a);this.Ub=new q.v;this.Ub.Wa=function(){};this.g(this.Ub);var c=this;this.K=document.createElement("TEXTAREA");this.K.type="text";this.K.style.fontSize=this.re+"px";this.K.style.color="#000000";this.K.style.border=0;this.K.style.background="transparent";
this.K.style.width="100%";this.K.style.height="100%";this.K.style.uH=0;this.K.style.outline="medium";this.K.addEventListener("input",function(){c.Da&&c.Da.oi&&c.Da.oi(c,this.value)});this.K.addEventListener("keyup",function(a){a.keyCode===q.tq.mC&&!1==c.gr&&(a.stopPropagation(),a.preventDefault(),q.canvas.focus())});this.K.addEventListener("focus",function(){this.value==c.Fb&&(this.value="",this.style.fontSize=c.re+"px",this.style.color=q.Jc(c.Zf));c.Da&&c.Da.pl&&c.Da.pl(c)});this.K.addEventListener("blur",
function(){""==this.value&&(this.value=c.Fb,this.style.fontSize=c.Wf+"px",this.style.color=q.Jc(c.ve));c.Da&&c.Da.ql&&c.Da.ql(c)});q.mc.vs(this.Ub);this.Ub.ga.appendChild(this.K);this.Ub.ga.qL=!1;this.Ub.ga.style.width=a.width-6+"px";this.Ub.ga.style.height=a.height-6+"px";this.Ub.canvas.remove()},DK:function(a,c){this.re=c;this.Vh=a;this.fi()},CX:function(){},ND:function(a){this.Vh=a;this.fi()},Bx:function(a){this.re=a;this.fi()},fi:function(){this.K.value!=this.Fb&&(this.K.style.fontFamily=this.Vh,
this.K.style.fontSize=this.re+"px")},ge:function(a){null!=a&&(""==a?(this.K.value=this.Fb,this.K.style.color=q.Jc(this.ve)):(this.K.value=a,this.K.style.color=q.Jc(this.Zf)))},LD:function(a){this.Zf=a;this.K.value!=this.Fb&&(this.K.style.color=q.Jc(a))},JK:function(a){!isNaN(a)&&0<a&&(this.Xk=a,this.K.maxLength=a)},yI:function(){return this.Xk},NK:function(a){if(null!=a){var c=this.Fb;this.Fb=a;this.K.value==c&&(this.K.value=a,this.K.style.color=q.Jc(this.ve),this.zf())}},OK:function(a,c){this.Yh=
a;this.Wf=c;this.zf()},QK:function(a){this.Yh=a;this.zf()},RK:function(a){this.Wf=a;this.zf()},zf:function(){this.K.value==this.Fb&&(this.K.style.fontFamily=this.Yh,this.K.style.fontSize=this.Wf+"px")},PK:function(a){this.ve=a;this.K.value==this.Fb&&(this.K.style.color=q.Jc(a))},bq:function(a){this.er=a;this.K.type=a==q.zy?"password":"text"},ba:function(){return this.K.value},Os:function(a,c){return this.Uw(c)?(this.Ub.n(3,3),this.aE(!1),this.Ai(a),this.n(0,0),this.Pu(this,this.lt,q.yt),!0):!1},lg:function(a){this.Da=
a},CI:function(){return this.Fb},HK:function(a){this.fr=a},VK:function(a){this.Ar=a},wJ:function(a){var c=q.$n.od(this);c.y-=4;c.eJ(a.end)?this.Hq=a.end.zI()-c.AI():q.log("needn't to adjust view layout.")},uJ:function(){},vJ:function(){},tJ:function(){},lt:function(){},Ys:function(a){a=ka(a.q,a.p,a.k);this.K.style.background=a},WI:function(a,c){this.dr=a.width;this.ga.style.width=this.dr.toString()+"px";this.cr=a.height;this.ga.style.height=this.cr.toString()+"px";this.ga.style.backgroundColor=q.Jc(c)}});
MultiLineBox.od=function(a){var c=a.c(),c=q.rect(0,0,c.width,c.height);return q.Nf(c,a.wn())};MultiLineBox.create=function(a,c,d,e){var f=new MultiLineBox(a);c instanceof q.Ac?f.Ys(c):f.Os(a,c)&&(d&&f.Jl(d,q.At),e&&f.Jl(e,q.zt));return f};var s=Object.freeze({Fe:{E2:"C to popup/dismiss, enter for chat. Say /help for help.",r7:"Welcome to the Powder Engine! Enter /help for some help.",FT:"-------HELP------",ET:" - Press C to expand the chat, I for Inventory",DT:" - Space to grab Items and E for Equipment.",CT:" - Enter /commands for command list",BT:"-------------------",ER:"Commands:  /editskill, /editsign, /editnpc,",DR:" - /editmap, /editwarp, /edititem,",CR:" - /dance, /coinflip, /diceroll, /afk",BR:"--------------------",aV:" has joined the game!",
J9:" has left the game!",qx:"Picked up ",kS:"Dropped ",gJ:"Your inventory is full"}});var la=eval("gameConfig();"),ma={},na=q.Td.f();q.Aj.f();na.YK(["res/Graphics"]);var oa=new XMLHttpRequest;oa.open("GET","res/Graphics/tile_graphics.txt",!1);oa.send(null);var pa=oa.responseText,qa=pa.split(","),v=[],ra;for(ra in qa)v.push({name:qa[ra],texture:q.ja.f().na(qa[ra])});var sa=!1,oa=new XMLHttpRequest;oa.open("GET","res/Graphics/character_graphics.txt",!1);oa.send(null);var pa=oa.responseText,qa=pa.split(","),x=[];for(ra in qa)x.push({name:qa[ra],texture:q.ja.f().na(qa[ra])});
document.getElementById("gameCanvas").onkeydown=function(a){a.preventDefault();ma[a.keyCode]=!0};window.onbeforeunload=function(){y({disconnect:!0})};window.onfocus=function(){for(var a=[],c=z.length-1;0<=c;c--){var d=JSON.parse(z[c]);d.moveTo&&!a[d.id]?(a[d.id]=!0,d.setTo=1,d.moveTo=null,z[c]=JSON.stringify(d)):d.moveTo&&a[d.id]&&z.splice(c,1)}};var A=q.j(255,255,255,255),wa=q.j(0,255,0,255),C=q.j(255,0,0,255);
document.getElementById("gameCanvas").onkeyup=function(a){ma[a.keyCode]=!1;if(null!=F.f().nd){a.stopPropagation();var c=null;switch(a.keyCode){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";
break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a.keyCode&&58>a.keyCode||64<a.keyCode&&91>a.keyCode)&&(c=String.fromCharCode(a.keyCode));null!=c&&F.f().nd.Cl(c)}};rememberLoginNextTime=autoLoginNextTime=!1;
var G={GENERAL:"ISSECTION","Project Name":"Powder Engine Testbed","Version Number":"0.705",CHATBAR:"ISSECTION","Welcome Message":"Welcome to the Powder Engine! Enter /help for some help.","Join Message":"\x3cPLAYER\x3e has joined the game!","Leave Message":"\x3cPLAYER\x3e has left the game!","Default ChatBar Message":"C to popup/dismiss, enter for chat. Say /help for help.",ITEMS:"ISSECTION","Item Dropdown Pick Up":"Pick up \x3cITEM\x3e","Item Dropdown Walk To":"Walk to \x3cITEM\x3e","Item Pick Up":"Picked up \x3cITEM\x3e.",
"Item Dropped":"Dropped \x3cITEM\x3e.","Item Out-of-range":"\x3cITEM\x3e is too far away to pick up!","Item Dropdown Examine":"Examine \x3cITEM\x3e","Item Dropdown Equip":"Equip \x3cITEM\x3e","Item Dropdown Read":"Read \x3cITEM\x3e","Item Dropdown Eat":"Eat \x3cITEM\x3e","Item Dropdown Use":"Use \x3cITEM\x3e","Item Dropdown Unequip":"Unequip \x3cITEM\x3e","Item Dropdown Drop":"Drop \x3cITEM\x3e",NPCS:"ISSECTION","NPC Dropdown Examine":"Examine","NPC Dropdown Attack":"Attack","NPC Dropdown Talk":"Talk To \x3cNPC\x3e",
"NPC Dropdown Walk To":"Walk To \x3cNPC\x3e","NPC Dropdown Follow":"Follow","NPC Dropdown Trade":"Trade","NPC Dropdown Bank":"Open Bank","NPC Out-of-range":"\x3cNPC\x3e is too far away!",SIGNS:"ISSECTION","Sign Dropdown list Read":"Read sign \x3cSIGN\x3e","Sign Out-of-range":"\x3cSIGN\x3e is too far away to read!",PANELS:"ISSECTION","Equipment Header":"Equipment","Bank Header":"Bank","Inventory Header":"Inventory","Skills Header":"Skills List","Quest Header":"Quest Log",COMMANDS:"ISSECTION","/dance":"\x3cPLAYER\x3e danced the dance of his people.",
"/diceroll":"\x3cPLAYER\x3e threw a dice and got \x3cVALUE\x3e","/coinflip":"\x3cPLAYER\x3e flipped a coin and got \x3cVALUE\x3e"};function H(a,c){return a?(a.rJ&&a.ya||!a.rJ)&&q.rb(q.rect(a.u.H,a.u.Q,a.c().width,a.c().height),c):!1}function J(a){if(!a)return null;var c=null;"object"==typeof a&&(c={});a instanceof Array&&(c=[]);for(var d in a)c[d]=a[d]&&("object"==typeof a[d]||a[d]instanceof Array)?J(a[d]):a[d];return c}
isMobile=function(){var a=!1,c=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(c)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(c.substr(0,
4)))a=!0;return a};function xa(){K.Rd(function(){})}function ya(a,c){var d=c?a:a.oc();return za(d,"panels")}
function za(a,c,d){if(c=d?d[c]:a[c]){"undefined"!=typeof c.cU?d=Aa.wy(c.cY):"undefined"!=typeof c.$?d=q.v.Pa(q.ja.f().na(c.$)):"undefined"!=typeof c.label?d=q.V.create(c.label,c.font?c.v3:"Arial",c.fontSize?c.fontSize:14):"undefined"!=typeof c.color&&"undefined"!=typeof c.size?(d=q.v.create(),d.fb(q.rect(0,0,c.size.width,c.size.height)),d.C(q.a(0,0))):d=q.G.create();"undefined"!=typeof c.size&&d.T(Math.floor(c.size.width),Math.floor(c.size.height));"undefined"!=typeof c.position&&d.n(q.a(Math.floor(c.position.x),
Math.floor(c.position.y)));"undefined"!=typeof c.visible&&d.D(c.visible);"undefined"!=typeof c.e&&d.C(c.e);"undefined"!=typeof c.color&&d.t&&(d.t(c.color),c.color.N&&d.ta(c.color.N));"undefined"!=typeof c.opacity&&d.ta(c.opacity);if("undefined"!=typeof c.children)for(var e in c.children)d[e]=za(a,e,c.children),d[e]&&d.g(d[e]);return d}}
function Ba(a,c,d){a=a[c];"undefined"!=typeof a.size&&d.T(Math.floor(a.size.width),Math.floor(a.size.height));"undefined"!=typeof a.position&&d.n(q.a(Math.floor(a.position.x),Math.floor(a.position.y)));"undefined"!=typeof a.visible&&d.D(a.visible);"undefined"!=typeof a.e&&d.C(a.e);"undefined"!=typeof a.opacity&&d.ta(a.opacity);"undefined"!=typeof a.color&&d.t(a.color);if("undefined"!=typeof a.children)for(var e in a.children)Ba(a.children,e,d[e])}
function Ca(a){a=a.toString(16);return 1==a.length?"0"+a:a}function ka(a,c,d){return"#"+Ca(a)+Ca(c)+Ca(d)}var L=null,M=la.tileSize,Da=la.characterSize,N=Math.floor(36),O=Math.floor(36);function Ea(){P=q.qa.f().jn();q.size(P.width,P.height);L=q.size(O*M,N*M)}function Q(a,c){return parseInt(O*(N-c))+parseInt(a)}function Fa(a,c){var d={},e;for(e in a)d[e]=a[e]+"";for(e in c)d[e]&&(d[e]=c[e]+"");return d}
function Ga(a,c,d){if(0==a.length)return!0;for(var e=0;e<a.length;e++)switch(a[e].type){case "Is Quest Point":var f=R.r.P.nk(a[e].data.quest);f||(f=0);if(f!=a[e].data.objective)return!1;break;case "Script Requirement":if("Tile"==c)var g=J(R.r.P.Kp(d.Nc));else"NPC"==c?g=J(R.r.P.Kp(d.Nc)):"Item"==c&&(g=J(R.r.P.Kp(d.script)));g||(g={});try{var h=a[e].data.functionContent.replace(/,/g,"").split(":"),f="{",k;for(k in h)f=0==k%2?f+('"'+h[k]+'":'):k!=h.length-1?f+('"'+h[k]+'",'):f+('"'+h[k]+'"');var f=f+
"}",l=JSON.parse(f);for(k in l)if(g[k]||(g[k]="null"),g[k]!=l[k])return!1}catch(m){return S.Hb("your custom require script failed"),!1}break;case "Is Panel Visibility":f=1==a[e].data.visible?!0:!1;switch(a[e].data.panel){case 0:null==Inventory||Inventory.ea||(Inventory=null);if(Inventory&&!f||!Inventory&&f)return!1;break;case 1:null==Equipment||Equipment.ea||(Equipment=null);if(Equipment&&!f||!Equipment&&f)return!1;break;case 2:if(null==Skills||Skills.ea||(Skills=null),Skills&&!f||!Skills&&f)return!1}break;
case "Is Player Inventory Space":for(var p=a[e].data.space?a[e].data.space:0,t=f=0;40>t;t++)userItems.stored[t]||f++;if(f<p)return!1;break;case "Has Player Item":if(a[e].data.item){p=a[e].data.amount?a[e].data.amount:0;f=0;t=ObjectLists.Fc()[a[e].data.item].name;for(k in userItems.stored)userItems.stored[k]&&userItems.stored[k].name==t&&f++;if(f<p)return!1}break;case "Is Player Statistics":f=ObjectLists.ok()[a[e].data.skill].name;a[e].data.levelUpper||(a[e].data.levelUpper=0);a[e].data.levelLower||
(a[e].data.levelLower=0);a[e].data.healthUpper||(a[e].data.healthUpper=0);a[e].data.healthLower||(a[e].data.healthLower=0);a[e].data.xpUpper||(a[e].data.xpUpper=0);a[e].data.xpLower||(a[e].data.xpLower=0);if(0!=a[e].data.levelUpper||0!=a[e].data.levelLower)if(p=SkillBarsInstance.Qc[f].level+1,p>a[e].data.levelUpper||p<a[e].data.levelLower)return!1;if(0!=a[e].data.healthUpper||0!=a[e].data.healthLower)if(p=SkillBarsInstance.Qc[f].currenthealth,p>a[e].data.healthUpper||p<a[e].data.healthLower)return!1;
if(0!=a[e].data.xpUpper||0!=a[e].data.xpLower)if(p=SkillBarsInstance.Qc[f].experience,p>a[e].data.xpUpper||p<a[e].data.xpLower)return!1}return!0}
function Ha(a,c,d,e,f,g){var h=[];if(!(1>a.length)){for(var k=R.r.P.items,l=0;l<a.length;l++)e&&e[a[l].type]||h.push([l,function(){switch(a[l].type){case "Spawn NPC":return function(c){null!=a[c].data.npc&&"undefined"!==a[c].data.npc&&R.OQ(ObjectLists.Mp()[a[c].data.npc],q.a(d.u.x/M,d.u.y/M))};case "Equip Item":return function(c){c=a[c].data.equip;"bothArms"==c&&(c="lArm",k.equipped.rArm||(c="rArm"));var e=null;k.equipped[c]&&(e=J(k.equipped[c]),T("On Dequip",e,"Item"));var f=ObjectLists.Fc(),g;for(g in f)if(f[g].name==
d.name){k.equipped[c]={number:g,amount:d.amount};break}k.stored[d.sJ]=e;Inventory&&Inventory.ib();Equipment&&Equipment.ib()};case "Read Item":return function(c){K.KX(d.name,a[c].data.say)};case "Spawn Item":return function(c){d.zH(a[c].data.item,a[c].data.amount)};case "Talk":return function(c){K.MX(d,f,g,d.name,a[c].data.say,a[c].data.options)};case "Script Response":return function(e){if("Tile"==c)var f=J(R.r.P.Kp(d.Nc));else"NPC"==c?f=J(R.r.P.Kp(d.Nc)):"Item"==c&&(f=J(R.r.P.Kp(d.script)));f||(f=
{});try{var g=a[e].data.functionContent.replace(/,/g,"").split(":");e="{";for(var h in g)e=0==h%2?e+('"'+g[h]+'":'):h!=g.length-1?e+('"'+g[h]+'",'):e+('"'+g[h]+'"');var k=JSON.parse(e+"}"),g=f;h={};for(var l in g)h[l]=g[l];for(l in k)h[l]=k[l];f=h;"Tile"==c?R.r.P.JD(d.Nc,J(f)):"NPC"==c?R.r.P.JD(d.Nc,J(f)):"Item"==c&&R.r.P.JD(d.script,J(f))}catch(E){S.Hb("Your custom response script failed")}};case "Give /Take Item":return function(c){var d=ObjectLists.Fc()[a[c].data.item];if(0<a[c].data.amount){var e=
a[c].data.amount;if(!0==d.stackable){for(var f=0;40>f;f++)k.stored[f]&&k.stored[f].name==d.name&&(e=0);0!=g&&(e=1)}else for(var g=0,f=0;40>f;f++)k.stored[f]||g++;if(g<e)return;if(!0==d.stackable){g=!1;for(f=0;40>f;f++)if(k.stored[f]&&k.stored[f].name==d.name){k.stored[f].amount+=a[c].data.amount;Inventory&&Inventory.wk(f,k.stored[f].amount);g=!0;break}if(!1==g)for(f=0;40>f;f++)if(!k.stored[f]){k.stored[f]=J(d);k.stored[f].amount=a[c].data.amount;Inventory&&Inventory.wk(f,k.stored[f].amount);break}}else for(g=
0;g<a[c].data.amount;g++)for(f=0;40>f;f++)if(!k.stored[f]){k.stored[f]=J(d);break}}else if(0>a[c].data.amount){e=Math.abs(a[c].data.amount);g=0;d=d.name;for(f in k.stored)k.stored[f]&&k.stored[f].name==d&&g++;if(g<e)return;for(g=0;g<Math.abs(a[c].data.amount);g++)for(f in k.stored)if(k.stored[f]&&k.stored[f].name==d){console.log("gettin rid"+g);user.stored[f]=null;break}}Inventory&&Inventory.ib();Equipment&&Equipment.ib()};case "Modify Player Stats":return function(c){if(ObjectLists.ok()[a[c].data.skill]){var d=
ObjectLists.ok()[a[c].data.skill].name;U.wU(d,a[c].data.level);U.vU(d,a[c].data.health);U.xU(d,a[c].data.xp)}};case "Show Sign":return function(c){K.OX(a[c].data.title,a[c].data.content)};case "Set Quest Point":return function(c){R.r.P.lX(a[c].data.quest,a[c].data.objective)};case "Warp Player":return function(c){var d=a[c].data.index%O,e=Math.floor(a[c].data.index/O)+1;R.r.P.n(d*M,e*M);y({changemap:""+a[c].data.mapnum,setTo:a[c].data.index});V.Ks(a[c].data.mapnum);V.rl(d*M,e*M)};case "Open/Close Panel":return function(c){var d=
1==a[c].data.visible?!0:!1;switch(a[c].data.panel){case 0:null==Inventory||Inventory.ea||(Inventory=null);!0==d?Inventory?Inventory.ib():(Inventory=new InventoryPanel,Inventory.w(),Inventory.sa(),K.g(Inventory)):Inventory&&(Inventory.Ia(),Inventory.O(),Inventory=null);break;case 1:null==Equipment||Equipment.ea||(Equipment=null);!0==d?Equipment?Equipment.ib():(Equipment=new EquipmentPanel,Equipment.w(),Equipment.sa(),K.g(Equipment)):Equipment&&(Equipment.Ia(),Equipment.O(),Equipment=null);break;case 2:null==
Skills||Skills.ea||(Skills=null);!0==d?Skills?Skills.ib():(Skills=new SkillsPanel,Skills.w(),Skills.sa(),K.g(Skills)):Skills&&(Skills.Ia(),Skills.O(),Skills=null);break;case 3:null==Quests||Quests.ea||(Quests=null);!0==d?Quests?Quests.ib():(Quests=new QuestsPanel,Quests.w(),Quests.sa(),K.g(Quests)):Quests&&(Quests.Ia(),Quests.O(),Quests=null);break;case 4:null==Inventory||Inventory.ea||(Inventory=null),Inventory&&(Inventory.Ia(),Inventory.O(),Inventory=null),null==Bank||Bank.ea||(Bank=null),!0==d?
Bank?Bank.ib():(Bank=new BankPanel,Bank.w(),Bank.sa(),K.g(Bank)):Bank&&(Bank.Ia(),Bank.O(),Bank=null)}};case "Destroy":item=null,Inventory&&Inventory.ib(),l=a.length}}()]);for(e=0;e<h.length;e++)h[e][1](h[e][0]),h.splice(e,1),e--}}
function T(a,c,d,e,f){K.Rd(function(){var g=[];c&&("Item"==d?c.script&&ObjectLists.Ge()[c.script]&&(f&&(c.sJ=f),g=ObjectLists.Ge()[c.script].data):"Tile"==d?c.Fh()&&(g=c.Fh().data):"NPC"==d&&c.Nc&&(g=ObjectLists.Ge()[c.Nc].data));for(var h=0;h<g.length;h++)g[h].type==a&&Ga(g[h].requirements,d,e)&&Ha(g[h].responses,d,c,e,g,h);f&&(c.sJ=null)})};var W=q.Ma.extend({r:null,mb:function(a){return(a=r.localStorage.getItem("last_"+a))?a:null},vj:function(a,c){return(c=r.localStorage.setItem("last_"+a,c))?c:null}}),X=null;W.wy=function(){X||(X=new W);return X};W.f=function(){return X};W.eX=function(a,c){var d=r.localStorage.getItem("panelStore");"null"==d||null==d?(console.log("NEW PANEL STORE"),d={}):d=JSON.parse(d);d[a]={x:c.x,y:c.y};r.localStorage.setItem("panelStore",JSON.stringify(d))};W.PS=function(){return r.localStorage.getItem("panelStore")};
W.tC=function(a){if(X.mb("maps")){if(a){var c=JSON.parse(r.localStorage.getItem("map_data"));return c[a]?c[a]:null}}else return[]};W.GL=function(a,c){X.vj("maps",c);r.localStorage.setItem("map_data",JSON.stringify(a))};W.mR=function(a,c,d){var e=X.mb("maps")?JSON.parse(r.localStorage.getItem("map_data")):[];e[a]=c;W.GL(e,d)};W.YS=function(){if(X.mb("scripts")){if(""!=r.localStorage.getItem("scripts_data"))var a=JSON.parse(r.localStorage.getItem("scripts_data"));return a?a:[]}return[]};
W.ML=function(a,c){X.vj("scripts",c);r.localStorage.setItem("scripts_data",JSON.stringify(a))};W.rR=function(a,c,d){var e=X.mb("scripts")?""!=r.localStorage.getItem("scripts_data")?JSON.parse(r.localStorage.getItem("scripts_data")):[]:[];e[a]=c;W.ML(e,d)};W.zV=function(a,c){scriptarray=a;W.ey(scriptarray,c)};W.lT=function(){if(X.mb("warps")){if(""!=r.localStorage.getItem("warps_data"))var a=JSON.parse(r.localStorage.getItem("warps_data"));return a?a:[]}return[]};
W.ey=function(a,c){X.vj("warps",c);r.localStorage.setItem("warps_data",JSON.stringify(a))};W.wR=function(a,c,d){var e=X.mb("warps")?""!=r.localStorage.getItem("warps_data")?JSON.parse(r.localStorage.getItem("warps_data")):[]:[];e[a]=c;W.ey(e,d)};W.DV=function(a,c){warparray=a;W.ey(warparray,c)};W.FS=function(){if(X.mb("items")){if(""!=r.localStorage.getItem("items_data"))var a=JSON.parse(r.localStorage.getItem("items_data"));return a?a:[]}return[]};
W.pt=function(a,c){X.vj("items",c);r.localStorage.setItem("items_data",JSON.stringify(a))};W.lR=function(a,c,d){var e=X.mb("items")?""!=r.localStorage.getItem("items_data")?JSON.parse(r.localStorage.getItem("items_data")):[]:[];e[a]=c;W.pt(e,d)};W.wV=function(a,c){itemsarray=a;W.pt(itemsarray,c)};W.bT=function(){if(X.mb("skills")){if(""!=r.localStorage.getItem("skills_data"))var a=JSON.parse(r.localStorage.getItem("skills_data"));return a?a:[]}return[]};
W.qE=function(a,c){X.vj("skills",c);r.localStorage.setItem("skills_data",JSON.stringify(a))};W.uR=function(a,c,d){var e=X.mb("skills")?""!=r.localStorage.getItem("skills_data")?JSON.parse(r.localStorage.getItem("skills_data")):[]:[];e[a]=c;W.qE(e,d)};W.CV=function(a,c){skillarray=a;W.qE(skillarray,c)};W.$S=function(){if(X.mb("signs")){if(""!=r.localStorage.getItem("signs_data"))var a=JSON.parse(r.localStorage.getItem("signs_data"));return a?a:[]}return[]};
W.dy=function(a,c){X.vj("signs",c);r.localStorage.setItem("signs_data",JSON.stringify(a))};W.tR=function(a,c,d){var e=X.mb("signs")?""!=r.localStorage.getItem("signs_data")?JSON.parse(r.localStorage.getItem("signs_data")):[]:[];e[a]=c;W.dy(e,d)};W.BV=function(a,c){signarray=a;W.dy(signarray,c)};W.LS=function(){if(X.mb("npcs")){if(""!=r.localStorage.getItem("npcs_data"))var a=JSON.parse(r.localStorage.getItem("npcs_data"));return a?a:[]}return[]};
W.HL=function(a,c){X.vj("npcs",c);r.localStorage.setItem("npcs_data",JSON.stringify(a))};W.nR=function(a,c,d){var e=X.mb("npcs")?""!=r.localStorage.getItem("npcs_data")?JSON.parse(r.localStorage.getItem("npcs_data")):[]:[];e[a]=c;W.HL(e,d)};W.xV=function(a,c){npcsarray=a;W.dy(npcsarray,c)};W.nk=function(){if(X.mb("quests")){if(""!=r.localStorage.getItem("quests_data"))var a=JSON.parse(r.localStorage.getItem("quests_data"));return a?a:[]}return[]};
W.cy=function(a,c){X.vj("quests",c);r.localStorage.setItem("quests_data",JSON.stringify(a))};W.qR=function(a,c,d){var e=X.mb("quests")?""!=r.localStorage.getItem("quests_data")?JSON.parse(r.localStorage.getItem("quests_data")):[]:[];e[a]=c;W.cy(e,d)};W.yV=function(a,c){questsarray=a;W.cy(questsarray,c)};W.ZS=function(){if(X.mb("shops")){if(""!=r.localStorage.getItem("shops_data"))var a=JSON.parse(r.localStorage.getItem("shops_data"));return a?a:[]}return[]};
W.NL=function(a,c){X.vj("shops",c);r.localStorage.setItem("shops_data",JSON.stringify(a))};W.sR=function(a,c,d){var e=X.mb("shops")?""!=r.localStorage.getItem("shops_data")?JSON.parse(r.localStorage.getItem("shops_data")):[]:[];e[a]=c;W.cy(e,d)};W.AV=function(a,c){shopsarray=a;W.NL(shopsarray,c)};W.zC=function(){if(X.mb("settings")){if(""!=r.localStorage.getItem("settings_data"))var a=JSON.parse(r.localStorage.getItem("settings_data"));return a?a:[]}return[]};
W.pE=function(a,c){X.vj("settings",c);r.localStorage.setItem("settings_data",JSON.stringify(a))};
W.eM=function(){r.localStorage.setItem("map_data",[]);r.localStorage.setItem("last_maps",2);r.localStorage.setItem("warps_data",[]);r.localStorage.setItem("last_warps",2);r.localStorage.setItem("items_data",[]);r.localStorage.setItem("last_items",2);r.localStorage.setItem("skills_data",[]);r.localStorage.setItem("last_skills",2);r.localStorage.setItem("signs_data",[]);r.localStorage.setItem("last_signs",2);r.localStorage.setItem("npcs_data",[]);r.localStorage.setItem("last_npcs",2);r.localStorage.setItem("quests_data",
[]);r.localStorage.setItem("last_quests",2);r.localStorage.setItem("shops_data",[]);r.localStorage.setItem("last_shops",2);r.localStorage.setItem("settings_data",[]);r.localStorage.setItem("last_settings",2);r.localStorage.setItem("scripts_data",[]);r.localStorage.setItem("last_scripts",2);r.localStorage.setItem("panelStore",null)};
W.pN=function(){y({sync:!0,mapupdate:null!=X.mb("maps")?X.mb("maps"):2,warpupdate:null!=X.mb("warps")?X.mb("warps"):2,itemupdate:null!=X.mb("items")?X.mb("items"):2,skillsupdate:null!=X.mb("skills")?X.mb("skills"):2,signsupdate:null!=X.mb("signs")?X.mb("signs"):2,npcsupdate:null!=X.mb("npcs")?X.mb("npcs"):2,questsupdate:null!=X.mb("quests")?X.mb("quests"):2,shopsupdate:null!=X.mb("shops")?X.mb("shops"):2,settingsupdate:null!=X.mb("settings")?X.mb("settings"):2,scriptsupdate:null!=X.mb("scripts")?
X.mb("scripts"):2})};W.Baa=function(a){!0!=a&&!1!=a||r.localStorage.setItem("mapedit_saveonexit",a)};W.U4=function(){return null==r.localStorage.getItem("mapedit_saveonexit")?!1:r.localStorage.getItem("mapedit_saveonexit")};W.pX=function(a,c){r.localStorage.setItem("savedcredentials",JSON.stringify({user:a,pass:c}))};W.sK=function(a){r.localStorage.setItem("autologin",JSON.stringify(a))};W.iJ=function(){var a=r.localStorage.getItem("autologin");return null!=a?JSON.parse(a):!1};
W.oJ=function(){return r.localStorage.getItem("savedcredentials")?!0:!1};W.fT=function(){var a=r.localStorage.getItem("savedcredentials");return a?JSON.parse(a):!1};ListView=q.Rh.extend({wl:null,l:null,Dw:null,kx:!1,kg:null,uj:null,wL:null,wD:function(){if(this.l){this.uj&&(this.uj.O(),this.kg.O());var a=this.l.Gc();a.height<this.l.c().height&&(a=this.l.c(),this.kx=!0);this.wl=[];for(var c=0,d=0;d<this.l.zc();d++){var e=this.l.Mc(d),c=c+e.height;this.wl[d]=q.G.create();this.wl[d].T(e);this.wl[d].n(q.a(0,a.height-c));this.wl[d].C(q.a(0,1));this.g(this.wl[d]);this.wl[d].g(this.l.Lc(d))}this.hq(-300);this.XD(0);!1==this.kx&&(this.uj=q.v.create(),this.uj.fb(q.rect(0,
0,1,this.l.c().height)),this.uj.t(q.j(0,0,0,255)),this.uj.C(q.a(0,0)),this.uj.n(q.a(this.l.c().width+20,0)),this.kg=q.v.create(),this.kg.C(q.a(0,0)),this.kg.fb(q.rect(0,0,20,this.l.c().height/5)),this.kg.t(q.j(90,90,255,255)),this.kg.n(q.a(this.l.c().width+10,0)),this.l.g(this.uj),this.l.g(this.kg),this.Ll(q.a(0,this.Ts().y),!1));this.l.n(this.wL)}},w:function(a){this.l=a;this.C(q.a(0,0));this.wL=q.a(a.u.H,a.u.Q);this.Up(this.l.c(),this.l);this.yK(q.vq);this.tW(!1);a=this.l.Gc();var c=q.G.create();
c.T(a);this.xW(c)},Oc:function(a){this.Dw=a},BD:!1,Ax:null,kc:function(a){if(!this.l.Eh)return!1;for(var c=0;c<this.l.zc();c++)this.l.Eh(c).t(q.j(255,255,255,255));this.l.Eh(a).t(q.j(255,0,0,255))},wb:function(a){for(var c=a.R,d=0;d<this.l.zc();d++)for(var e in this.Dw[d]){var f=this.wl[d].Ka(c),g=this.l.Ka(c);g.x+=this.l.u.H;H(this.l,g);if(H(this.Dw[d][e],f))return this.l.Rb(this.Dw[d][e].vb,d,a),this.BD=!0}if(!1==this.kx){a=this.l.Ka(c);if(H(this.kg,a))return this.Ax=a.y-this.kg.u.Q,!0;this.Ax=
null}},Od:function(a){if(!0==this.BD)return this.BD=!1;if(!1==this.kx){var c=a.R;if(null!=this.Ax&&(c=this.l.Ka(c),c.y-=this.Ax,0<=c.y&&c.y+this.kg.c().height<=this.l.c().height))return a=c.y/(this.uj.c().height-this.kg.c().height),this.Ll(q.a(0,this.tn().y*a),!1),this.kg.uc(c.y),!0;c=this._super(a);a=this.sI().y/this.tn().y;this.kg.uc((this.uj.c().height-this.kg.c().height)*a);return c}}});ListView.create=function(a){var c=new ListView;c.w(a);c.wD();return c};var Aa=q.G.extend({Ie:null,Je:null,Og:null,Le:null,Me:null,Ne:null,item:null,Ug:null,Be:null,Ce:null,De:null,position:null,string:null,type:null,Nc:null,ctor:function(){this._super()},w:function(){this._super();this.string=q.V.create("","Arial",16);this.string.C(0.5,0.5);this.string.n(16,-16);this.string.ta(0);this.string.t(q.o(0,0,0));this.g(this.string,900);this.Ug=[]},zH:function(a,c){c||(c=1);var d=ObjectLists.Fc()[a];d&&(this.Nl(d.sprite.texture,d.sprite.position,"item"),this.Ug.push({xn:a,Bp:c}))},
removeItem:function(){0<this.Ug.length&&this.Ug.splice(this.Ug.length-1,1);if(0<this.Ug.length){var a=ObjectLists.Fc()[this.Ug[this.Ug.length-1].xn];this.Nl(a.sprite.texture,a.sprite.position,"item")}else this.item.O(),this.item=null},ln:function(){return 0==this.Ug.length?null:this.Ug[this.Ug.length-1]},Nl:function(a,c,d){a=q.v.Pa(q.ja.f().na(a));a.fb(q.rect(Math.floor(M*c.x),Math.floor(M*c.y),M,M));a.t(q.j(255,255,255,255));a.C(0,1);switch(d){case "ground1":null!=this.Ie&&this.Ie.O();this.Ie=a;
this.g(this.Ie);break;case "ground2":null!=this.Je&&this.Je.O();this.Je=a;this.g(this.Je,1);break;case "ground3":null!=this.Og&&this.Og.O();this.Og=a;this.g(this.Og,2);break;case "mask1":null!=this.Le&&this.Le.O();this.Le=a;this.g(this.Le,3);break;case "mask2":null!=this.Me&&this.Me.O();this.Me=a;this.g(this.Me,4);break;case "mask3":null!=this.Ne&&this.Ne.O();this.Ne=a;this.g(this.Ne,5);break;case "item":null!=this.item&&this.item.O();this.item=a;this.g(this.item,6);break;case "fringe1":null!=this.Be&&
this.Be.O();this.Be=a;this.g(this.Be,7);break;case "fringe2":null!=this.Ce&&this.Ce.O();this.Ce=a;this.g(this.Ce,8);break;case "fringe3":null!=this.De&&this.De.O(),this.De=a,this.g(this.De,10)}},Rg:function(){var a=!0;null!=this.Ie&&this.Ie.ia()&&!1==this.Ie.ia().Ic?a=!1:null!=this.Je&&this.Je.ia()&&!1==this.Je.ia().Ic?a=!1:null!=this.Og&&this.Og.ia()&&!1==this.Og.u6?a=!1:null!=this.Le&&this.Le.ia()&&!1==this.Le.ia().Ic?a=!1:null!=this.Me&&this.Me.ia()&&!1==this.Me.ia().Ic?a=!1:null!=this.Ne&&this.Ne.ia()&&
!1==this.Ne.ia().Ic?a=!1:null!=this.item&&this.item.ia()&&!1==this.item.ia().Ic?a=!1:null!=this.Be&&this.Be.ia()&&!1==this.Be.ia().Ic?a=!1:null!=this.Ce&&this.Ce.ia()&&!1==this.Ce.ia().Ic?a=!1:null!=this.De&&this.De.ia()&&!1==this.De.ia().Ic&&(a=!1);return a},hf:function(){null!=this.Ie&&this.Ie.O();this.Ie=null;null!=this.Je&&this.Je.O();this.Je=null;null!=this.Og&&this.Og.O();this.Og=null;null!=this.Le&&this.Le.O();this.Le=null;null!=this.Me&&this.Me.O();this.Me=null;null!=this.Ne&&this.Ne.O();
this.Ne=null;null!=this.item&&this.item.O();this.item=null;this.Ug=[];null!=this.Be&&this.Be.O();this.Be=null;null!=this.Ce&&this.Ce.O();this.Ce=null;null!=this.De&&this.De.O();this.Nc=this.De=null},fC:function(a){switch(a){case "ground1":null!=this.Ie&&this.Ie.O();this.Ie=null;break;case "ground2":null!=this.Je&&this.Je.O();this.Je=null;break;case "ground3":null!=this.Og&&this.Og.O();this.Og=null;break;case "mask1":null!=this.Le&&this.Le.O();this.Le=null;break;case "mask2":null!=this.Me&&this.Me.O();
this.Me=null;break;case "mask3":null!=this.Ne&&this.Ne.O();this.Ne=null;break;case "item":null!=this.item&&this.item.O();this.item=null;this.Ug=[];break;case "fringe1":null!=this.Be&&this.Be.O();this.Be=null;break;case "fringe2":null!=this.Ce&&this.Ce.O();this.Ce=null;break;case "fringe3":null!=this.De&&this.De.O(),this.De=null}},RD:function(a){if(!c)var c=!1;this.Nc=a;ObjectLists.Ge()[a]?this.string.pa(ObjectLists.Ge()[a].abbr):this.string.pa("_")},ZR:function(){this.Nc=null;this.string.pa("")},
Fh:function(){return ObjectLists.Ge()[this.Nc]},X5:function(){return this.Nc},vX:function(a){this.string.ta(!0==a?255:0)}});Aa.wy=function(a){var c=new Aa;c.w();c.position=q.a(a.x,a.y);return c};StatsController=q.v.extend({data:null,dx:null,l:null,w:function(a,c){this.data=a;this.l=c;this.hW()},update:function(){for(var a in this.data)this.dx&&(0==this.data[a].value&&0<this.dx[a]&&this.l.Vba(a),this.data[a].Zc>this.dx[a].Zc&&this.l.Xba(a)),this.dx[a]=this.data[a]},m6:function(a){return this.data[a].value},l6:function(a){return this.data[a].Zc},J8:function(a,c){this.data[a].value+=c;this.data[a].value>this.data[a].fg&&(this.data[a].value=this.data[a].fg);0>this.data[a].value&&(this.data[a].value=
0)},vR:function(a,c){this.data[a].value=c;this.data[a].value>this.data[a].fg&&(this.data[a].value=this.data[a].fg);0>this.data[a].value&&(this.data[a].value=0)},I8:function(a,c){this.data[a].Zc+=c;this.data[a].Zc>this.data[a].eg&&(this.data[a].Zc=this.data[a].eg);0>this.data[a].Zc&&(this.data[a].Zc=0)},vR:function(a,c){this.data[a].Zc=c;this.data[a].Zc>this.data[a].eg&&(this.data[a].Zc=this.data[a].eg);0>this.data[a].Zc&&(this.data[a].Zc=0)},h2:function(a,c){this.data[a].eg=c},i2:function(a,c){this.data[a].fg=
c}});ObjectLists=q.Ma.extend({wE:null,ZC:null,eE:null,dE:null,dD:null,pD:null,FD:null,bE:null});var Y;ObjectLists.f=function(){Y||(Y=new ObjectLists,Y.wE=W.lT(),Y.ZC=W.FS(),Y.eE=W.bT(),Y.dE=W.$S(),Y.dD=W.LS(),Y.pD=W.nk(),Y.FD=W.YS(),Y.bE=W.ZS());return Y};ObjectLists.MI=function(){return Y.wE};ObjectLists.EX=function(a){Y.wE=a};ObjectLists.Fc=function(){return Y.ZC};ObjectLists.PW=function(a){Y.ZC=a};ObjectLists.ok=function(){return Y.eE};ObjectLists.uX=function(a){Y.eE=a};ObjectLists.EI=function(){return Y.dE};
ObjectLists.tX=function(a){Y.dE=a};ObjectLists.Mp=function(){return Y.dD};ObjectLists.XW=function(a){Y.dD=a};ObjectLists.Pp=function(){return Y.pD};ObjectLists.mX=function(a){Y.pD=a};ObjectLists.Ge=function(){return Y.FD};ObjectLists.rX=function(a){Y.FD=a};ObjectLists.BC=function(){return Y.bE};ObjectLists.sX=function(a){Y.bE=a};gameMapInstance=null;
var V=q.Sc.extend({Yb:null,I:null,Sg:!1,Mf:null,Hf:null,An:null,mn:null,Al:null,xl:null,yl:null,zl:null,wi:null,vi:null,S:q.a(0,0),nl:1,Rs:function(a){if("string"===typeof a){if(0==this.I[a].Nc)return!0;a=this.I[a].Fh()}else{if(0==a.Nc)return!0;a=a.Fh()}if(a)for(var c=["Will Enter","On Enter"],d=0;d<a.data.length;d++)if(-1<c.indexOf(a.data[d].type)&&Ga(a.data[d].requirements))for(var e=a.data[d].responses,f=0;f<e.length;f++)if("Block Entry"==e[f].type)return!0;return!1},gU:function(a){if("string"===typeof a){if(0==
this.I[a].Nc)return!1;a=this.I[a].Fh()}else{if(0==a.Nc)return!1;a=a.Fh()}if(a)for(var c=["Interact On","Interact Facing"],d=0;d<a.data.length;d++)if(-1<c.indexOf(a.data[d].type)&&Ga(a.data[d].requirements))for(var e=a.data[d].responses,f=0;f<e.length;f++)if("Show Sign"==e[f].type)return!0;return!1},dU:function(a){if(a=ObjectLists.Ge()[a.Nc])for(var c=["Default Event"],d=0;d<a.data.length;d++)if(-1<c.indexOf(a.data[d].type)&&Ga(a.data[d].requirements))for(var e=a.data[d].responses,f=0;f<e.length;f++)if("Talk"==
e[f].type)return!0;return!1},zs:function(a,c){function d(a,c){return{eN:a,value:c.x+c.y*O,x:c.x,y:c.y,Mw:0,p:0}}function e(a,c){var d=c-1,e=c+1,g=a+1,h=a-1,k=-1<d&&f.I["tile"+Q(a,d)]&&!f.Rs("tile"+Q(a,d));myS=e<O&&f.I["tile"+Q(a,e)]&&!f.Rs("tile"+Q(a,e));myE=g<O&&f.I["tile"+Q(g,c)]&&!f.Rs("tile"+Q(g,c));myW=-1<h&&f.I["tile"+Q(h,c)]&&!f.Rs("tile"+Q(h,c));result=[];k&&result.push({x:a,y:d});myE&&result.push({x:g,y:c});myS&&result.push({x:a,y:e});myW&&result.push({x:h,y:c});return result}for(var f=this,
g=d(null,c),h,k,l,m,p,t=[],u=[],w=[d(null,a)],B=Array(N*O);h=w.length;){k=N*O;l=-1;for(m=0;m<h;m++)w[m].Mw<k&&(k=w[m].Mw,l=m);k=w.splice(l,1)[0];if(k.value===g.value){l=u[u.push(k)-1];do t.push(q.a(l.x,l.y));while(l=l.eN);B=u=w=[];t.reverse()}else{h=e(k.x,k.y);m=0;for(p=h.length;m<p;m++)l=d(k,h[m]),B[l.value]||(l.p=k.p+(Math.abs(h[m].x-k.x)+Math.abs(h[m].y-k.y)),l.Mw=l.p+(Math.abs(h[m].x-g.x)+Math.abs(h[m].y-g.y)),w.push(l),B[l.value]=!0);u.push(k)}}return t},HX:function(a){this.Yb={};this.Yb.mapdata=
{};for(var c in this.I)"tile"==c.substring(0,4)&&(this.I[c].hf(),this.Yb[c]={});if(a){if(a.mapdata){this.Al=""!=a.mapdata.mapConnectors.up&&null!=a.mapdata.mapConnectors.up?a.mapdata.mapConnectors.up:null;this.xl=""!=a.mapdata.mapConnectors.down&&null!=a.mapdata.mapConnectors.down?a.mapdata.mapConnectors.down:null;this.yl=""!=a.mapdata.mapConnectors.left&&null!=a.mapdata.mapConnectors.left?a.mapdata.mapConnectors.left:null;this.zl=""!=a.mapdata.mapConnectors.right&&null!=a.mapdata.mapConnectors.right?
a.mapdata.mapConnectors.right:null;if(gameMapInstance.wi!=a.mapdata.mapConnectors.width||gameMapInstance.vi!=a.mapdata.mapConnectors.height){O=a.mapdata.mapConnectors.width;N=a.mapdata.mapConnectors.height;Ea();gameMapInstance.I.O();var d=0;for(c in gameMapInstance.Yb)"mapdata"!=c&&d++;if(d>O*N)for(c=O*N;c<d;c++)delete gameMapInstance.Yb["tile"+c];for(c=0;c<O*N;c++)gameMapInstance.Yb["tile"+c]||(gameMapInstance.Yb["tile"+c]={})}this.wi=""!=a.mapdata.mapConnectors.width&&null!=a.mapdata.mapConnectors.width?
a.mapdata.mapConnectors.width:36;this.vi=""!=a.mapdata.mapConnectors.height&&null!=a.mapdata.mapConnectors.height?a.mapdata.mapConnectors.height:36;R&&R.r.P&&(d=R.r.P.jc(),d.y>this.vi&&R.r.P.uc(M*this.vi),d.x>this.wi-1&&R.r.P.eb(M*(this.wi-1)));this.I.O();this.Mf.O();this.Hf.O();this.An.O();this.I=ya(this);this.g(this.I);this.Mf=q.tb.create(L.width,L.height);this.Mf.n(q.a(Math.floor(L.width/2),Math.floor(L.height/2)));this.g(this.Mf);this.g(this.An);this.Hf=q.tb.create(L.width,L.height);this.Hf.n(q.a(Math.floor(L.width/
2),Math.floor(L.height/2)));this.g(this.Hf)}this.Yb=a;for(c in a)if("tile"==c.substring(0,4))for(var e in a[c])"info"!=e?null!=a[c][e]&&this.I[c]&&this.I[c].Nl(a[c][e].texture,a[c][e].frame,e):null!=a[c][e].script&&"undefined"!==a[c][e].script&&this.I[c]&&(this.I[c].RD(a[c][e].script),T("On Game load",this.I[c],"Tile"))}R&&R.r.P&&(a=R.r.P.jc(),V.rl(a.x*M,a.y*M),this.ec(this.rD))},Pl:function(a){a=W.tC(a);this.Yb={};this.Yb.mapdata={};for(var c in this.I)"tile"==c.substring(0,4)&&(this.I[c].hf(),this.Yb[c]=
{});if(a){if(a.mapdata){this.Al=""!=a.mapdata.mapConnectors.up&&null!=a.mapdata.mapConnectors.up?a.mapdata.mapConnectors.up:null;this.xl=""!=a.mapdata.mapConnectors.down&&null!=a.mapdata.mapConnectors.down?a.mapdata.mapConnectors.down:null;this.yl=""!=a.mapdata.mapConnectors.left&&null!=a.mapdata.mapConnectors.left?a.mapdata.mapConnectors.left:null;this.zl=""!=a.mapdata.mapConnectors.right&&null!=a.mapdata.mapConnectors.right?a.mapdata.mapConnectors.right:null;if(gameMapInstance.wi!=a.mapdata.mapConnectors.width||
gameMapInstance.vi!=a.mapdata.mapConnectors.height){O=a.mapdata.mapConnectors.width;N=a.mapdata.mapConnectors.height;Ea();gameMapInstance.I.O();var d=0;for(c in gameMapInstance.Yb)"mapdata"!=c&&d++;if(d>O*N)for(c=O*N;c<d;c++)delete gameMapInstance.Yb["tile"+c];for(c=0;c<O*N;c++)gameMapInstance.Yb["tile"+c]||(gameMapInstance.Yb["tile"+c]={})}this.wi=""!=a.mapdata.mapConnectors.width&&null!=a.mapdata.mapConnectors.width?a.mapdata.mapConnectors.width:36;this.vi=""!=a.mapdata.mapConnectors.height&&null!=
a.mapdata.mapConnectors.height?a.mapdata.mapConnectors.height:36;R&&R.r.P&&(d=R.r.P.jc(),d.y>this.vi&&R.r.P.uc(M*this.vi),d.x>this.wi-1&&R.r.P.eb(M*(this.wi-1)));this.I.O();this.Mf.O();this.Hf.O();this.An.O();this.I=ya(this);this.g(this.I);this.Mf=q.tb.create(L.width,L.height);this.Mf.n(q.a(Math.floor(L.width/2),Math.floor(L.height/2)));this.g(this.Mf);this.g(this.An);this.Hf=q.tb.create(L.width,L.height);this.Hf.n(q.a(Math.floor(L.width/2),Math.floor(L.height/2)));this.g(this.Hf)}this.Yb=a;for(c in a)if("tile"==
c.substring(0,4))for(var e in a[c])"info"!=e?null!=a[c][e]&&this.I[c]&&this.I[c].Nl(a[c][e].texture,a[c][e].frame,e):null!=a[c][e].script&&"undefined"!==a[c][e].script&&this.I[c]&&(this.I[c].RD(a[c][e].script),T("On Game load",this.I[c],"Tile"))}R&&R.r.P&&(c=R.r.P.jc(),V.rl(c.x*M,c.y*M),this.ec(this.rD))},rD:function(){for(var a in this.I)if("tile"==a.substring(0,4)&&!1==this.I[a].Rg())return;R.f().D(!0);R.xk();this.Rc(this.rD);this.Hf.D(!0);this.Mf.D(!0);this.Sg=!0},oc:function(){for(var a={},c=
0;c<O;c++)for(var d=0;d<N;d++)a["tile"+(c+d*O)]={size:q.size(M,M),e:q.a(0,0),position:q.a(c*M,(N-d)*M),cU:!0,cY:q.a(d,c),visible:!1};return{panels:{children:a}}},w:function(){this.fc(!0);this.XD(1)},wb:function(a){!this.mn||Mapeditor&&Mapeditor.ea||(this.mn=Mapeditor=null);if(this.mn)for(var c in this.I)"tile"==c.substring(0,4)&&q.rb(this.I[c].lb(),q.a(a.R.x-this.S.x,a.R.y+M-this.S.y))&&(this.mn.BL(this.I,c),V.qt());else for(c in this.I)if("tile"==c.substring(0,4)&&q.rb(this.I[c].lb(),q.a(a.R.x-this.S.x,
a.R.y+M-this.S.y))){var d=V.BI(this.I[c].u.H/M,this.I[c].u.Q/M),e=this.gU(c);if(this.I[c].ln()){var d=ObjectLists.Fc()[this.I[c].ln().number],f=G["Item Dropdown Pick Up"]+"",e=G["Item Dropdown Walk To"]+"",f=f.replace("\x3cITEM\x3e",d.name),e=e.replace("\x3cITEM\x3e",d.name);this.ea.g(DropDownList.md(this,this.iU,[f,e],a.R));this.Md=c}else if(d){if(this.dU(d))var g=G["NPC Dropdown Talk"]+"",g=g.replace("\x3cNPC\x3e",d.name);e=G["NPC Dropdown Walk To"]+"";e=e.replace("\x3cNPC\x3e",d.name);g?this.ea.g(DropDownList.md(this,
this.GJ,[g,e],a.R,null,{lx:d})):this.ea.g(DropDownList.md(this,this.GJ,[e],a.R));this.Md=c}else e?(e=G["Sign Dropdown list Read"]+"",e=e.replace("\x3cSIGN\x3e",this.I[c].Fh().name),this.ea.g(DropDownList.md(this,this.QX,[e],a.R)),this.Md=c):(e=R.r.P.jc(),R.r.P.ft(this.zs(q.a(Math.floor(e.x),Math.ceil(e.y)),q.a(this.I[c].u.x/M,this.I[c].u.y/M))))}return!0},Md:null,iU:function(a){if(null!=this.l.Md){var c=ObjectLists.Fc()[this.l.I[gameMapInstance.Md].ln().number],d=R.r.P.jc(),e=q.a(gameMapInstance.I[gameMapInstance.Md].u.x/
M,gameMapInstance.I[gameMapInstance.Md].u.y/M);switch(a){case 0:a=d.x>e.x?d.x-e.x:e.x-d.x;d=d.y>e.y?d.y-e.y:e.y-d.y;5>Math.sqrt(a*a+d*d)?R.r.P.YT(gameMapInstance.I[gameMapInstance.Md]):(d=G["Item Out-of-range"]+"",d=d.replace("\x3cITEM\x3e",c.name),S.Hb(d));break;case 1:R.r.P.ft(gameMapInstance.zs(q.a(Math.floor(d.x),Math.ceil(d.y)),e)),this.l.Md=null}}},GJ:function(a,c,d,e){if(null!=this.l.Md)if(c=R.r.P.jc(),1==d.length)R.r.P.ft(gameMapInstance.zs(q.a(Math.floor(c.x),Math.ceil(c.y)),itemPosition)),
this.l.Md=null;else switch(d=q.a(e.lx.u.x/M,e.lx.u.y/M),a){case 0:a=c.x>d.x?c.x-d.x:d.x-c.x;c=c.y>d.y?c.y-d.y:d.y-c.y;5>Math.sqrt(a*a+c*c)?(T("Default Event",e.lx,"NPC"),this.l.Md=null):(a=G["NPC Out-of-range"]+"",a=a.replace("\x3cNPC\x3e",e.lx.name),S.Hb(a));break;case 1:R.r.P.ft(gameMapInstance.zs(q.a(Math.floor(c.x),Math.ceil(c.y)),itemPosition)),this.l.Md=null}},QX:function(a){if(null!=this.l.Md){var c=R.r.P.jc(),d=q.a(gameMapInstance.I[gameMapInstance.Md].u.x/M,gameMapInstance.I[gameMapInstance.Md].u.y/
M);switch(a){case 0:a=c.x>d.x?c.x-d.x:d.x-c.x,c=c.y>d.y?c.y-d.y:d.y-c.y,5>Math.sqrt(a*a+c*c)?(T("Interact Facing",this.l.I[gameMapInstance.Md],"Tile"),this.l.Md=null):(c=G["Sign Out-of-range"]+"",c=c.replace("\x3cSIGN\x3e",this.l.I[gameMapInstance.Md].Fh().name),S.Hb(c))}}},Od:function(a){if(this.mn){for(var c in this.I)"tile"==c.substring(0,4)&&q.rb(this.I[c].lb(),q.a(a.R.x-this.S.x,a.R.y+M-this.S.y))&&(this.mn.BL(this.I,c,"moved"),V.qt());return!0}for(c in this.I)if("tile"==c.substring(0,4)&&q.rb(this.I[c].lb(),
q.a(a.R.x-this.S.x,a.R.y+M-this.S.y))){var d=R.r.P.jc();R.r.P.ft(this.zs(q.a(Math.floor(d.x),Math.ceil(d.y)),q.a(this.I[c].u.x/M,this.I[c].u.y/M)))}},Aa:function(){this._super();if(!0==this.Sg){this.Mf.XB(0,0,0,0);for(var a in this.I)"tile"==a.substring(0,4)&&(this.I[a].D(!0),null!=this.I[a].Be&&this.I[a].Be.D(!1),null!=this.I[a].Ce&&this.I[a].Ce.D(!1),null!=this.I[a].oC&&this.I[a].oC.D(!1),null!=this.I[a].De&&this.I[a].De.D(!1),this.I[a].Aa(),null!=this.I[a].Be&&this.I[a].Be.D(!0),null!=this.I[a].Ce&&
this.I[a].Ce.D(!0),null!=this.I[a].oC&&this.I[a].oC.D(!0),null!=this.I[a].De&&this.I[a].De.D(!0),this.I[a].D(!1));this.Mf.end();this.Hf.XB(0,0,0,0);for(a in this.I)"tile"==a.substring(0,4)&&(this.I[a].D(!0),null!=this.I[a].Ie&&this.I[a].Ie.D(!1),null!=this.I[a].Je&&this.I[a].Je.D(!1),null!=this.I[a].JC&&this.I[a].JC.D(!1),null!=this.I[a].Le&&this.I[a].Le.D(!1),null!=this.I[a].Me&&this.I[a].Me.D(!1),null!=this.I[a].Ne&&this.I[a].Ne.D(!1),null!=this.I[a].item&&this.I[a].item.D(!1),this.I[a].Aa(),null!=
this.I[a].Ie&&this.I[a].Ie.D(!0),null!=this.I[a].Je&&this.I[a].Je.D(!0),null!=this.I[a].JC&&this.I[a].JC.D(!0),null!=this.I[a].Le&&this.I[a].Le.D(!0),null!=this.I[a].Me&&this.I[a].Me.D(!0),null!=this.I[a].Ne&&this.I[a].Ne.D(!0),null!=this.I[a].item&&this.I[a].item.D(!0),this.I[a].D(!1));this.Hf.end();this.Sg=!1}}});
V.updateOffset=function(a,c){0<=gameMapInstance.S.x+(L.width-P.width/2)+a&&R.r.P.u.x<L.width-P.width/2&&0>=gameMapInstance.S.x+a&&R.r.P.u.x>P.width/2&&(gameMapInstance.S.x+=a);0<=gameMapInstance.S.y+(L.height-P.height/2)+c&&R.r.P.u.y<L.height-P.height/2&&0>=gameMapInstance.S.y+c&&R.r.P.u.y>P.height/2&&(gameMapInstance.S.y+=c);L.height<P.height&&(gameMapInstance.S.y=(P.height-L.height)/2);L.width<P.width&&(gameMapInstance.S.x=(P.width-L.width)/2);gameMapInstance.n(gameMapInstance.S.x,gameMapInstance.S.y)};
V.rl=function(a,c){a=parseInt(a);c=parseInt(c);!0==gameMapInstance.Sg?0==offsetFromPositionScheduledX&&0==offsetFromPositionScheduledY&&(offsetFromPositionScheduledX=a,offsetFromPositionScheduledY=c,gameMapInstance.ec(V.pK)):(gameMapInstance.S.x=a>L.width-P.width/2?-(L.width-P.width):a<P.width/2?0:-(a-P.width/2),gameMapInstance.S.y=c>L.height-P.height/2?-(L.height-P.height):c<P.height/2?0:-(c-P.height/2),offsetFromPositionScheduledY=offsetFromPositionScheduledX=0,gameMapInstance.Rc(V.pK),L.height<
P.height&&(gameMapInstance.S.y=(P.height-L.height)/2),L.width<P.width&&(gameMapInstance.S.x=(P.width-L.width)/2),gameMapInstance.n(gameMapInstance.S.x,gameMapInstance.S.y))};offsetFromPositionScheduledY=offsetFromPositionScheduledX=0;V.pK=function(){V.rl(offsetFromPositionScheduledX,offsetFromPositionScheduledY)};
V.HC=function(){!0==gameMapInstance.Sg?gameMapInstance.ec(V.HC):(gameMapInstance.Rc(V.HC),gameMapInstance.S.x=-(L.width-P.width),L.height<P.height&&(gameMapInstance.S.y=(P.height-L.height)/2),L.width<P.width&&(gameMapInstance.S.x=(P.width-L.width)/2),gameMapInstance.n(gameMapInstance.S.x,gameMapInstance.S.y))};
V.GC=function(){!0==gameMapInstance.Sg?gameMapInstance.ec(V.GC):(gameMapInstance.Rc(V.GC),gameMapInstance.S.x=0,L.height<P.height&&(gameMapInstance.S.y=(P.height-L.height)/2),L.width<P.width&&(gameMapInstance.S.x=(P.width-L.width)/2),gameMapInstance.n(gameMapInstance.S.x,gameMapInstance.S.y))};
V.FC=function(){!0==gameMapInstance.Sg?gameMapInstance.ec(V.FC):(gameMapInstance.Rc(V.FC),gameMapInstance.S.y=-(L.height-P.height),L.height<P.height&&(gameMapInstance.S.y=(P.height-L.height)/2),L.width<P.width&&(gameMapInstance.S.x=(P.width-L.width)/2),gameMapInstance.n(gameMapInstance.S.x,gameMapInstance.S.y))};
V.IC=function(){!0==gameMapInstance.Sg?gameMapInstance.ec(V.IC):(gameMapInstance.Rc(V.IC),gameMapInstance.S.y=0,L.height<P.height&&(gameMapInstance.S.y=(P.height-L.height)/2),L.width<P.width&&(gameMapInstance.S.x=(P.width-L.width)/2),gameMapInstance.n(gameMapInstance.S.x,gameMapInstance.S.y))};
V.create=function(){gameMapInstance||(gameMapInstance=new V,gameMapInstance.I=ya(gameMapInstance),gameMapInstance.g(gameMapInstance.I),gameMapInstance.Mf=q.tb.create(L.width,L.height),gameMapInstance.Mf.n(q.a(Math.floor(L.width/2),Math.floor(L.height/2))),gameMapInstance.g(gameMapInstance.Mf),gameMapInstance.Mf.D(!1),gameMapInstance.An=q.G.create(),gameMapInstance.g(gameMapInstance.An),gameMapInstance.Hf=q.tb.create(L.width,L.height),gameMapInstance.Hf.n(q.a(Math.floor(L.width/2),Math.floor(L.height/
2))),gameMapInstance.g(gameMapInstance.Hf),gameMapInstance.Hf.D(!1),gameMapInstance.hq(-15),gameMapInstance.w());return gameMapInstance};V.f=function(){return gameMapInstance};V.Zs=function(){gameMapInstance.O();gameMapInstance=null};V.qt=function(){gameMapInstance||(gameMapInstance=V.create());gameMapInstance.Sg=!0};V.IX=function(a){gameMapInstance.HX(a)};V.f=function(){return gameMapInstance};
V.Nl=function(a,c,d,e){gameMapInstance.Yb[a]&&(gameMapInstance.I[a].Nl(c,d,e),gameMapInstance.Yb[a][e]={texture:c,frame:d})};V.kY=function(){R.gC();y({savemap:gameMapInstance.nl,mapdata:gameMapInstance.Yb})};V.fC=function(a,c){gameMapInstance.Yb[a][c]=null;gameMapInstance.I[a].fC(c)};V.yX=function(a,c){null!=c&&"undefined"!==c&&(gameMapInstance.I[a].RD(c),gameMapInstance.Yb[a].info={script:c})};V.iT=function(a){return gameMapInstance.I[a].Fh()};
V.$R=function(a){gameMapInstance.I[a].ZR();gameMapInstance.Yb[a].info={script:null}};
V.SW=function(a){gameMapInstance.Yb.mapdata.mapConnectors=a;gameMapInstance.Al=a.up;gameMapInstance.xl=a.down;gameMapInstance.yl=a.left;gameMapInstance.zl=a.right;if(gameMapInstance.wi!=a.width||gameMapInstance.vi!=a.height){O=a.width;N=a.height;Ea();gameMapInstance.I.O();var c=0,d;for(d in gameMapInstance.Yb)"mapdata"!=d&&c++;if(c>O*N)for(d=O*N;d<c;d++)delete gameMapInstance.Yb["tile"+d];for(d=0;d<O*N;d++)gameMapInstance.Yb["tile"+d]||(gameMapInstance.Yb["tile"+d]={})}gameMapInstance.wi=a.width;
gameMapInstance.vi=a.height};V.sS=function(a,c,d){for(var e in gameMapInstance.I)"tile"==e.substring(0,4)&&gameMapInstance.Yb[e]&&(gameMapInstance.I[e].Nl(a,c,d),gameMapInstance.Yb[e][d]={texture:a,frame:c})};V.$K=function(a){for(var c in gameMapInstance.I)"tile"==c.substring(0,4)&&gameMapInstance.I[c].vX(a);SkillBarsInstance.D(!a);Z.D(!a);gameMapInstance.Sg=!0};
V.mba=function(){for(var a in gameMapInstance.I)"tile"==a.substring(0,4)&&gameMapInstance.I[a].string.pa(a.substring(4));gameMapInstance.Sg=!0};V.SI=function(){return null!=gameMapInstance.Al};V.OI=function(){return null!=gameMapInstance.xl};V.QI=function(){return null!=gameMapInstance.yl};V.RI=function(){return null!=gameMapInstance.zl};V.Ef=function(){return gameMapInstance.nl};V.xC=function(){return gameMapInstance.Al};V.uC=function(){return gameMapInstance.xl};V.vC=function(){return gameMapInstance.yl};
V.wC=function(){return gameMapInstance.zl};V.xI=function(){return gameMapInstance.wi};V.wI=function(){return gameMapInstance.vi};V.Ks=function(a,c){c||(MapMaster=!1);R.f().D(!1);R.gC();V.hf();gameMapInstance.nl=a;R.r.P.cq(a);R.xk();gameMapInstance.Pl(a)};V.rT=function(a){R.gC();V.hf();gameMapInstance.nl=a;gameMapInstance.Pl(a)};V.qT=function(){R.f().D(!1);V.hf();gameMapInstance.nl=gameMapInstance.Al;R.r.P.cq(gameMapInstance.Al);R.xk();gameMapInstance.Pl(gameMapInstance.Al)};
V.nT=function(){R.f().D(!1);V.hf();gameMapInstance.nl=gameMapInstance.xl;R.r.P.cq(gameMapInstance.xl);R.xk();gameMapInstance.Pl(gameMapInstance.xl)};V.oT=function(){R.f().D(!1);V.hf();gameMapInstance.nl=gameMapInstance.yl;R.r.P.cq(gameMapInstance.yl);R.xk();gameMapInstance.Pl(gameMapInstance.yl)};V.ij=function(a){if(!W.tC(a))return q.size(36,36);a=W.tC(a).mapdata.mapConnectors;return q.size(a.width,a.height)};
V.pT=function(){R.f().D(!1);V.hf();gameMapInstance.nl=gameMapInstance.zl;R.r.P.cq(gameMapInstance.zl);R.xk();gameMapInstance.Pl(gameMapInstance.zl)};V.$s=function(a){gameMapInstance.mn=a};V.kn=function(a,c){return a>O-1||0>a?void 0:gameMapInstance.I["tile"+(a+(N-c)*O)]};V.BI=function(a,c){for(var d in R.f().de){var e=R.f().de[d].jc();if(e.x==a&&e.y==c)return R.f().de[d]}return null};V.JI=function(a){return gameMapInstance.I["tile"+a]};
V.RQ=function(){var a=R.f();gameMapInstance.An.g(a);V.rl(R.r.P.u.H,R.r.P.u.Q)};V.hf=function(){gameMapInstance.Yb={};for(var a in gameMapInstance.I)"tile"==a.substring(0,4)&&(gameMapInstance.I[a].hf(),gameMapInstance.Yb[a]={});gameMapInstance.Yb.mapdata={};gameMapInstance.Sg=!0};var R=q.Sc.extend({r:null,tc:[],de:[],P:null});R.f=function(){return this.r};R.Zs=function(){this.r.O();this.r=null};R.create=function(a){this.r||(this.r=new R,this.r.P=PlayerCharacter.create(a),this.r.g(this.r.P));return this.r};R.WM=function(){var a=V.Ef(),c=[],d;for(d in this.r.de)this.r.de[d].hg==a&&c.push(this.r.de[d]);return c};R.Lp=function(a){return this.r.de[a]};R.yU=function(a,c,d){this.r.de[a]&&"default"!=c&&this.r.P.hg==d&&this.r.de[a].QL(c)};
R.UV=function(a,c){this.r.de[a]&&"default"!=c&&this.r.de[a].n(q.a(c%O*M,Math.floor(c/O)*M))};R.gC=function(){for(var a in this.r.de)this.r.de[a].O();this.r.de=[]};R.OQ=function(a,c){var d=V.Ef();if(a&&a.sprite){var e=parseInt(this.r.de.length);this.r.de.push(NonPlayerCharacter.create({name:a.name,Pn:{health:{Zc:1,value:100,fg:200,eg:900},mana:{Zc:1,value:100,fg:200,eg:99}},map:d,kt:"sprites1.png",it:a.sprite.number,nn:e,Nc:a.script}));this.r.de[e].n(c.x*M,c.y*M);this.r.g(this.r.de[e])}};R.U6=function(){return this.r.P};
R.si=function(a){return this.r.tc[a]};R.QQ=function(a){this.r.tc[a.id]=PlayerCharacter.create({name:a.id,Pn:{health:{Zc:1,value:100,fg:200,eg:900},mana:{Zc:1,value:100,fg:200,eg:99}},map:a.location.mapnumber,kt:"sprites1.png",it:1});var c=a.location.position,d=V.ij(a.location.mapnumber);this.r.tc[a.id].n(c%d.width*M,Math.floor(c/d.width)*M);R.xk();this.r.g(this.r.tc[a.id]);c=G["Join Message"]+"";c=c.replace("\x3cPLAYER\x3e",a.id);S.Hb(c)};
R.WH=function(a){if(this.r.tc[a]){this.r.tc[a].O();this.r.tc[a]=null;var c=G["Leave Message"]+"",c=c.replace("\x3cPLAYER\x3e",a);S.Hb(c);for(c=0;c<z.length;c++){var d=JSON.parse(z[c]);d.id&&d.id==a&&(z.splice(c,1),c--)}}};
R.zU=function(a){console.log(a.location.position);if(this.r.tc[a.id])this.r.tc[a.id].QL(a.location.position);else{this.r.tc[id]=PlayerCharacter.create({name:a.id,Pn:{health:{Zc:1,value:100,fg:200,eg:900},mana:{Zc:1,value:100,fg:200,eg:99}},map:a.location.mapnumber,kt:"sprites1.png",it:1});var c=a.location.position,d=V.ij(a.location.mapnumber);this.r.tc[id].n(q.a(c%d.width*M,Math.floor(c/d.width)*M));R.xk();this.r.g(this.r.tc[a.id]);c=G["Join Message"]+"";c=c.replace("\x3cPLAYER\x3e",a.id);S.Hb(c)}};
R.dV=function(a){if(this.r.tc[a.id])this.r.tc[a.id].n(q.a(a.location.position%O*M,Math.floor(a.location.position/O)*M));else{this.r.tc[a.id]=PlayerCharacter.create({name:a.id,Pn:{health:{Zc:1,value:100,fg:200,eg:900},mana:{Zc:1,value:100,fg:200,eg:99}},map:a.location.mapnumber,kt:"sprites1.png",it:1});var c=a.location.position,d=V.ij(a.location.mapnumber);this.r.tc[id].n(q.a(c%d.width*M,Math.floor(c/d.width)*M));R.xk();this.r.g(this.r.tc[a.id]);S.Hb(a.id+s.Fe.aV)}};
R.pR=function(a){this.r.tc[a]&&this.r.tc[a].updateStatus("AFK")};R.xk=function(){var a=this.r.P.hg,c;for(c in this.r.tc)null!=this.r.tc[c]&&this.r.tc[c].D(this.r.tc[c].hg==a)};R.hf=function(){for(var a in this.r.tc)null!=this.r.tc[a]&&R.WH(a);this.r.P.O();this.r.P=null};R.oR=function(a,c){this.r.tc[a].cq(c);this.r.tc[a].D(this.r.P.hg==c)};Character=q.v.extend({name:null,Pn:null,zL:null,F1:null,pf:null,Tg:!1,vn:null,Ux:null,oj:!1,nn:-1,status:null,hg:null,path:null,nC:"DOWN",w:function(a){this.xX(a.kt,a.it);this.Pn=new StatsController(a.Wba,this);this.g(this.Pn);this.name=a.name;a.Nc&&(this.Nc=a.Nc);a.oj&&(this.oj=a.oj);a.map&&(this.hg=a.map);null!=a.nn&&"undefined"!==a.nn&&(this.nn=a.nn);this.C(0,1);this.vn=q.V.create("","Arial",12);this.vn.C(0.5,0);this.vn.t(255,0,0);this.vn.n(Math.floor(this.c().width/2),this.c().width+3);this.g(this.vn);
this.IL()},v4:function(){return this.nC},cq:function(a){this.hg=a},T4:function(){return this.hg},updateStatus:function(a){this.status=a&&a!=this.status?a:null;this.IL()},IL:function(){null!=this.status?this.vn.pa(this.name+"-"+this.status):this.vn.pa(this.name)},getName:function(){return this.name},Kf:function(a,c,d){this.fb(q.rect(a*Da,4*this.zL.id*Da+c*Da,Da,Da));this.Ux=q.a(a,c);this.nC=d},Gh:function(){return this.Ux},xX:function(a,c){this.zL={name:a,id:c};this.ka(q.ja.f().na(a));this.Kf(1,0)},
jc:function(){return q.a(this.u.x/M,this.u.y/M)},zw:0.24,nY:0.24,ol:2,Vca:function(a){var c=a.position%O,d=Math.floor(a.position/O);this.n(c*M,d*M);y({changemap:a.mapTo,setTo:a.position});V.Ks(a.mapTo);V.rl(c*M,d*M)},ZT:function(){if(!this.Tg){var a=this.jc();if(a=V.kn(a.x,a.y))a.ln()&&this.YU(a.ln()),a.Fh()&&T("Interact On",a,"Tile")}},YT:function(a){a&&(this.Tg||a&&(a.ln()?this.ZU(a.ln(),a):a.Fh()&&T("Interact On",a,"Tile")))},XT:function(){if(!this.Tg){var a=this.jc();switch(this.nC){case "RIGHT":a.x+=
1;break;case "LEFT":a.x-=1;break;case "UP":a.y+=1;break;case "DOWN":a.y-=1}var c=V.BI(a.x,a.y);c?T("Default Event",c,"NPC"):(a=V.kn(a.x,a.y))&&a.Fh()&&T("Interact Facing",a,"Tile")}},st:function(a){this.zw+=a;a=this.u;var c=this.Gh();this.zw>this.nY&&(this.zw=0,this.pf.x<a.x?this.Kf((c.x+1)%3,1,"LEFT"):this.pf.x>a.x?this.Kf((c.x+1)%3,2,"RIGHT"):this.pf.y<a.y?this.Kf((c.x+1)%3,0,"DOWN"):this.pf.y>a.y&&this.Kf((c.x+1)%3,3,"UP"));this.pf.x<a.x?(this.eb(a.x-this.ol),this.oj&&V.updateOffset(+this.ol,0)):
this.pf.x>a.x?(this.eb(a.x+this.ol),this.oj&&V.updateOffset(-this.ol,0)):this.pf.y<a.y?(this.uc(a.y-this.ol),this.oj&&V.updateOffset(0,this.ol)):this.pf.y>a.y&&(this.uc(a.y+this.ol),this.oj&&V.updateOffset(0,-this.ol));a.y==this.pf.y&&a.x==this.pf.x&&(this.Tg=!1,this.ex&&T("On Leave",V.kn(this.ex.x,this.ex.y),"Tile"),this.ex=null,T("On Enter",V.kn(this.jc().x,this.jc().y),"Tile"),this.Rc(this.st),null!=this.path&&this.IH())},mq:function(a,c){if(!1!=this.ya){var d=V.kn(a,c),e=this.Ux,f=this.jc();f.x>
a?this.Kf(e.x,1,"LEFT"):f.x<a&&this.Kf(e.x,2,"RIGHT");f.y>c?this.Kf(e.x,0,"DOWN"):f.y<c&&this.Kf(e.x,3,"UP");d?!1==this.Tg&&d&&!gameMapInstance.Rs(d)&&(T("Will Leave",V.kn(this.jc().x,this.jc().y),"Tile"),this.ex=q.a(this.jc().x,this.jc().y),this.pf=q.a(M*a,M*c),this.Tg=!0,T("Will Enter",V.kn(a,c),"Tile"),this.ec(this.st),this.st(0),this.oj?y({moveTo:this.pf.x/M+this.pf.y/M*O}):-1<this.nn&&y({npcID:this.nn+"",mapnumber:this.hg,moveNPC:this.pf.x/M+this.pf.y/M*O})):(null==Mapeditor||Mapeditor.ea||(Mapeditor=
null),this.oj&&null==Mapeditor&&(f.x<a&&V.RI()?(d=V.ij(V.wC()),this.n(0,M*c),y({changemap:parseInt(V.wC()),setTo:0+c*d.width}),V.pT(),V.GC()):f.x>a&&V.QI()&&(d=V.ij(V.vC()),this.n(M*(d.width-1),M*c),y({changemap:parseInt(V.vC()),setTo:d.width-1+c*d.width}),V.oT(),V.HC()),f.y<c&&V.SI()?(d=V.ij(V.xC()),this.n(M*a,M),y({changemap:parseInt(V.xC()),setTo:a+1*d.width}),V.qT(),V.IC()):f.y>c&&V.OI()&&(d=V.ij(V.uC()),y({changemap:parseInt(V.uC()),setTo:a+d.height*d.width}),this.n(M*a,M*d.height),V.nT(),V.FC())))}},
IH:function(){0==this.path.length?this.path=null:(this.path.splice(0,1),0==this.path.length?this.path=null:this.mq(this.path[0].x,this.path[0].y))},ft:function(a){if(null==this.path||0!=a.length)this.path=a,this.IH()},QL:function(a){if(!1!=this.ya){var c=a%O;a=Math.floor(a/O);if(!1==this.Tg){var d=this.Ux,e=this.jc();4<Math.abs(q.hD(q.a(c,a),e))?this.n(q.a(M*c,M*a)):(e.x>c?this.Kf(d.x,1,"LEFT"):e.x<c?this.Kf(d.x,2,"RIGHT"):e.y>a?this.Kf(d.x,0,"DOWN"):e.y<a&&this.Kf(d.x,3,"UP"),this.pf=q.a(M*c,M*a),
this.Tg=!0,this.ec(this.st),this.st(0))}}}});
PlayerCharacter=Character.extend({items:null,zp:3,qi:null,Fl:null,w:function(a){this._super(a);this.qi=[];this.Fl=[];a.zp&&(this.zp=a.zp);this.items={stored:[],equipped:{},bank:[]};if(a.position){var c=V.ij(a.map),d=a.position%c.width,c=Math.floor(a.position/c.width);this.n(d*M,c*M);V.rT(a.map);V.rl(d*M,c*M);this.hg=a.map}a.fJ&&(this.items.stored=a.fJ);a.gR&&(this.items.bank=a.gR);a.qi&&(this.qi=a.qi);a.Fl&&(this.Fl=a.Fl);if(a.eI){this.items.equipped=a.eI;for(var e in this.items.equipped)T("Default Event",
this.items.equipped[e],"Item",{"Equip Item":!0,"Give /Take Item":!0,"Warp Player":!0,"Read Item":!0,"Open/Close Panel":!0,Destroy:!0})}this.zR()},zR:function(){this.qi=[];y({saveUserExtra:[],name:this.getName()})},JD:function(a,c){this.qi[a]=c;y({saveUserExtra:this.qi,name:this.getName()})},Kp:function(a){return this.qi[a]?this.qi[a]:null},lX:function(a,c){this.Fl[a]=c},nk:function(a){return this.Fl[a]},pt:function(){Inventory&&Inventory.ib();Equipment&&Equipment.ib()},WQ:function(a){for(var c=0,
d=0;d<this.items.bank.length;d++)if(!this.items.bank[d]){c=d;break}this.items.bank[c]=a},XQ:function(a){for(var c=0,d=0;d<this.items.stored.length;d++)if(!this.items.stored[d]){c=d;break}this.items.stored[c]=a},YU:function(a){item=ObjectLists.Fc()[a.xn];var c=this.jc();T("On Pickup",item,"Item");if(!0==item.stackable)for(var d=0;40>d;d++)if(this.items.stored[d]&&this.items.stored[d].number==a.xn){Inventory&&(this.items.stored[d].amount+=a.Bp,Inventory.wk(d,this.items.stored[d].amount));S.Hb(s.Fe.qx+
item.name);y({pickupitem:Q(c.x,c.y),mapnumber:V.Ef()});return}for(var e=!1,d=0;40>d;d++)if(null==this.items.stored[d]){this.items.stored[d]={number:a.xn,amount:a.Bp};Inventory&&Inventory.wk(d,a.Bp);S.Hb(s.Fe.qx+item.name);y({pickupitem:Q(c.x,c.y),mapnumber:V.Ef()});e=!0;break}!1==e&&S.Hb(s.Fe.gJ);Inventory&&Inventory.ib();Equipment&&Equipment.ib()},ZU:function(a,c){item=ObjectLists.Fc()[a.xn];var d=q.a(c.u.H/M,c.u.Q/M);T("On Pickup",item,"Item");if(!0==item.stackable)for(var e=0;40>e;e++)if(this.items.stored[e]&&
this.items.stored[e].number==a.xn){Inventory&&(this.items.stored[e].amount+=a.Bp,Inventory.wk(e,this.items.stored[e].amount));S.Hb(s.Fe.qx+item.name);y({pickupitem:Q(d.x,d.y),mapnumber:V.Ef()});return}for(var f=!1,e=0;40>e;e++)if(null==this.items.stored[e]){this.items.stored[e]={number:a.xn,amount:a.Bp};Inventory&&Inventory.wk(e,a.Bp);S.Hb(s.Fe.qx+item.name);y({pickupitem:Q(d.x,d.y),mapnumber:V.Ef()});f=!0;break}!1==f&&S.Hb(s.Fe.gJ);Inventory&&Inventory.ib();Equipment&&Equipment.ib()},kC:function(a,
c){var d=this.jc(),e=this.items[c][a],f=ObjectLists.Fc()[e.number];T("On Drop",f,"Item");this.items[c][a]&&(S.Hb(s.Fe.kS+f.name),y({droppeditem:e.number,mapnumber:V.Ef(),index:Q(d.x,d.y),amount:e.amount}),!0==f.stackable&&1<e.amount&&Inventory.wk(a,0),this.items[c][a]=null);Inventory&&Inventory.ib();Equipment&&Equipment.ib()},lY:function(a){T("Default Event",ObjectLists.Fc()[this.items.stored[a].number],"Item",{},a)},YR:function(a){for(var c=0;40>c;c++)if(null==this.items.stored[c]){this.items.stored[c]=
J(this.items.equipped[a]);this.items.equipped[a]=null;Inventory&&Inventory.ib();Equipment&&Equipment.ib();T("On Dequip",this.items.stored[c],"Item");return}S.Hb("No space in inventory to dequip this item.")},Mg:function(){return this.items.stored},Ip:function(){return this.items.bank},Ow:function(){return this.items.equipped}});PlayerCharacter.create=function(a){var c=new PlayerCharacter;c.w(a);return c};
NonPlayerCharacter=Character.extend({F8:null,sx:!1,jX:function(a,c){this.sx=!0;this.Rd(function(){this.mq(a.x,a.y);this.sx=!1},c)},U7:function(){return this.sx}});NonPlayerCharacter.create=function(a){var c=new NonPlayerCharacter;c.w(a);return c};var Ia=q.Sc.extend({DD:null,b:null,gD:function(){},ctor:function(){this._super()},RL:function(){},Mn:function(){},yi:function(){},sa:function(){this.b&&this.b.O();this.b=ya(this);this.g(this.b)},Ia:function(){},w:function(){this.XD(1);this.Cx(!0);this.fc(!0);F.Kn(this);this._super()},fD:function(){q.log("Override onKeyDown in scene extended class to use keyboard")},Cl:function(){q.log("Override onKeyUp in scene extended class to use keyboard")},NW:function(a){this.DD=a},Ec:function(){return this.DD}});DropDownList=Ia.extend({list:null,OR:null,selected:null,b:null,l:null,UH:null,YJ:null,gt:null,ctor:function(){this._super();this.list=[];this.OR=0},w:function(a,c,d,e,f){this._super();a&&(this.l=a,this.UH=c,d&&(this.list=d),e&&this.n(e),this.qS=f?f:{},this.YJ=F.xS(),F.Kn(this),this.hq(-1001),this.Cx(!0))},wb:function(a){for(var c=this.b.control_menu.Ka(a.R),d=0;d<this.list.length;d++)this.gt&&!0!=this.gt[d].enabled||q.rb(q.rect(this.b.control_menu[d+""].u.H,this.b.control_menu[d+""].u.Q,this.b.control_menu[d+
""].c().width,this.b.control_menu[d+""].c().height),c)&&this.UH(d,a,this.list,this.qS);this.lV();return!0},lV:function(){F.Kn(this.YJ);this.O();xa()},VV:function(){this.uc(this.u.Q-24*this.list.length);for(var a=0,c=0;c<this.list.length;c++)this.b.control_menu[c+""].content.c().width>a&&(a=this.b.control_menu[c+""].content.c().width);for(c=0;c<this.list.length;c++)this.b.control_menu[c+""].T(a+8,this.b.control_menu[c+""].c().height);this.b.control_menu.T(a+8,this.b.control_menu.c().height)},oc:function(){for(var a=
{},c=0;c<this.list.length;c++)a[c+""]={position:q.a(0,24*(this.list.length-1)-24*c),size:q.size(96,24),e:q.a(0,0),color:q.j(200,200,200,200),children:{content:{label:this.list[c],fontSize:20,color:q.o(0,0,0),e:q.a(0,0.5),position:q.a(4,12)}}};return{panels:{children:{control_menu:{position:q.a(0,0),color:q.j(200,200,200,0),size:q.size(96,24),children:a}}}}},yi:function(a){a=this.b.control_menu.Ka(a.R);for(var c=0;c<this.list.length;c++)this.b.control_menu[c+""].t(q.j(200,200,200,200)),this.gt&&!0!=
this.gt[c].enabled||q.rb(q.rect(this.b.control_menu[c+""].u.H,this.b.control_menu[c+""].u.Q,this.b.control_menu[c+""].c().width,this.b.control_menu[c+""].c().height),a)&&this.b.control_menu[c+""].t(q.j(255,0,0,255))}});DropDownList.md=function(a,c,d,e,f,g){var h=new DropDownList;h.w(a,c,d,e,g);h.b=ya(h.oc(),!0);if(f){for(a=0;a<h.list.length;a++)!1==f[a].enabled&&h.b.control_menu[a+""].content.t(q.j(127,127,127,200));h.gt=f}h.g(h.b);h.VV();return h};Popup=Ia.extend({fe:null,Pg:!1,w:function(){this.DD=this.Ec();this._super();F.Kn(this);this.hq(-300)},d3:function(){this.O()},wb:function(a){var c=a.R;F.Kn(this);c=this.b.control_panel.Ka(c);if(q.rb(q.rect(this.b.control_panel.exitBtn.u.H,this.b.control_panel.exitBtn.u.Q,this.b.control_panel.exitBtn.c().width,this.b.control_panel.exitBtn.c().height),c)){var d=this;this.ea.Rd(function(){!1==d.Pg&&d.Ia();d.O();d=null});return!0}return q.rb(q.rect(this.b.u.x,this.b.u.y+this.b.control_panel.u.y,this.b.control_panel.c().width,
this.b.control_panel.c().height),a.R)?(this.fe=this.b.mi(a),!0):!1},Od:function(a){return this.fe?(a=a.R,this.b.n(a.x-this.fe.x,a.y-this.fe.y),!0):!1},Wg:function(){this.fe&&(this.fe=null);W.eX(this.Ec(),this.b.u)},Ec:function(){q.log("No id given... using default 'Popup'");return"Popup"},sa:function(){this._super();var a=W.PS();if("null"!=a&&null!=a&&(a=JSON.parse(a)[this.Ec()])){a=q.a(a.x,a.y);if(a.x>P.width-10||a.y>P.height)a=q.a(8,100);this.b.n(a)}}});Book=null;
BookPanel=Popup.extend({name:null,content:null,jg:null,Ec:function(){return"Book"},oc:function(){return{panels:{position:q.a(100,20),children:{main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(514,313),$:"GUI/book.png",children:{pageBackbtn:{position:q.a(2,1),size:q.size(36,36),$:"GUI/btnLeft.png",e:q.a(0,0)},pageForwardbtn:{position:q.a(475,1),size:q.size(36,36),$:"GUI/btnRight.png",e:q.a(0,0)},leftPage:{label:this.jg[0],e:q.a(0,1),position:q.a(4,308),color:q.o(0,0,0)},rightPage:{label:1<this.jg.length?
this.jg[1]:"",e:q.a(0,1),position:q.a(260,308),color:q.o(0,0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,313),size:q.size(514,32),children:{header:{label:this.name,fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(490,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},w:function(a,c){this._super();this.name=a;this.content=c;this.jg=[];for(var d=c;d;)if(470>d.length){this.jg.push(d);break}else this.jg.push(d.substr(0,470)+"..."),d=d.substr(470);this.UU=Math.floor(this.jg.length/
2)-1;this.dj=0},sa:function(){this._super();this.b.main_panel.leftPage.yb(q.size(248,0));this.b.main_panel.rightPage.yb(q.size(248,0));this.b.main_panel.pageBackbtn.D(!1);2>this.jg.length&&this.b.main_panel.pageForwardbtn.D(!1)},sT:function(){this.dj++;this.b.main_panel.pageBackbtn.D(!0);this.dj==this.UU&&this.b.main_panel.pageForwardbtn.D(!1);this.b.main_panel.leftPage.pa(this.jg[2*this.dj]);this.jg[2*this.dj+1]?this.b.main_panel.rightPage.pa(this.jg[2*this.dj+1]):this.b.main_panel.rightPage.pa("")},
tT:function(){this.dj--;this.b.main_panel.pageForwardbtn.D(!0);0==this.dj&&this.b.main_panel.pageBackbtn.D(!1);this.b.main_panel.leftPage.pa(this.jg[2*this.dj]);this.jg[2*this.dj+1]&&this.b.main_panel.rightPage.pa(this.jg[2*this.dj+1])},wb:function(a){if(this._super(a))return!0;this.fe=null;a=this.b.main_panel.Ka(a.R);if(H(this.b.main_panel.pageForwardbtn,a))return this.sT(),!0;if(H(this.b.main_panel.pageBackbtn,a))return this.tT(),!0}});NpcChat=null;
NpcChatPanel=Popup.extend({name:null,content:null,Ew:null,Nc:null,fI:null,HJ:null,J:null,Ec:function(){return"Book"},oc:function(){return{panels:{position:q.a(100,20),children:{main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(512,138),$:"GUI/npctalk.png",children:{chatText:{label:this.content?this.content:"",e:q.a(0,1),position:q.a(138,134),color:q.o(0,0,0)},list:{size:q.size(320,80),position:q.a(154,4),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,138),size:q.size(512,32),children:{header:{label:this.name?
this.name:"",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(488,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},xb:function(){this.J&&this.J.lc();var a=[],c=[];q.ja.f();for(var d in this.Ew){a[d]=q.G.create();a[d].T(324,32);var e=q.fa.create(q.j(200,200,200,200),300,10);e.n(q.a(12,1));var f=q.V.create("\x3e"+this.Ew[d],"Arial",14);f.C(q.a(0,0));f.n(q.a(4,2));f.yb(q.size(300,0));f.t(q.o(100,0,0));a[d].g(e);e.g(f);a[d].T(324,f.c().height+8);e.T(300,f.c().height+4);e.vb=
"Use";c.push([e])}this.J=this.b.main_panel.list;var g=this;this.J.Gc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(324,c)};this.J.zc=function(){return a.length};this.J.Mc=function(c){return a[c].c()};this.J.Lc=function(c){return a[c]};this.J.Rb=function(a,c){switch(a){case "Use":K.GT(),T("On Talk Option Selected for event:"+g.fI+", option:"+c,g.HJ,"NPC")}};this.J.ca=ListView.create(this.J);this.J.ca.Oc(c);this.J.g(this.J.ca)},w:function(a,c,d,e,f,g){this._super();this.name=
e;this.content=f;this.Nc=c;this.fI=d;this.HJ=a;g&&(this.Ew=g)},sa:function(){this._super();this.b.main_panel.chatText.yb(q.size(350,0));this.Ew&&this.xb()},wb:function(a){if(this._super(a))return!0}});Equipment=null;
EquipmentPanel=Popup.extend({Ec:function(){return"Equipment"},oc:function(){var a={};a.head={$:"GUI/defaultitem.png",position:q.a(88,162),size:q.size(32,32),e:q.a(0,1)};a.legs={$:"GUI/defaultitem.png",position:q.a(88,82),size:q.size(32,32),e:q.a(0,1)};a.feet={$:"GUI/defaultitem.png",position:q.a(88,40),size:q.size(32,32),e:q.a(0,1)};a.body={$:"GUI/defaultitem.png",position:q.a(88,122),size:q.size(32,32),e:q.a(0,1)};a.lArm={$:"GUI/defaultitem.png",position:q.a(48,122),size:q.size(32,32),e:q.a(0,1)};
a.rArm={$:"GUI/defaultitem.png",position:q.a(128,122),size:q.size(32,32),e:q.a(0,1)};a.mod={$:"GUI/defaultitem.png",position:q.a(8,162),size:q.size(32,32),e:q.a(0,1)};return{panels:{position:q.a(100,300),children:{main_panel:{e:q.a(0,0),size:q.size(168,168),$:"GUI/equipment.png",children:a},control_panel:{e:q.a(0,0),position:q.a(0,168),size:q.size(168,32),children:{header:{label:G["Equipment Header"],fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(144,6),size:q.size(20,20),e:q.a(0,
0),$:"GUI/close.png"}}},item_name:{position:q.a(0,0),color:q.j(200,200,200,200),size:q.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:q.o(0,0,0),e:q.a(0.5,0.5),position:q.a(32,8)}}}}}}},ib:function(){var a=R.r.P.Ow();this.b.main_panel.head.ka(q.ja.f().na("GUI/defaultitem.png"));this.b.main_panel.body.ka(q.ja.f().na("GUI/defaultitem.png"));this.b.main_panel.legs.ka(q.ja.f().na("GUI/defaultitem.png"));this.b.main_panel.feet.ka(q.ja.f().na("GUI/defaultitem.png"));this.b.main_panel.lArm.ka(q.ja.f().na("GUI/defaultitem.png"));
this.b.main_panel.rArm.ka(q.ja.f().na("GUI/defaultitem.png"));this.b.main_panel.mod.ka(q.ja.f().na("GUI/defaultitem.png"));for(var c in a)if(a[c]){var d=ObjectLists.Fc()[a[c].number],e;for(e in v)if(v[e].name==d.sprite.texture)var f=v[e].texture;this.b.main_panel[c]&&(this.b.main_panel[c].C(0,1),this.b.main_panel[c].ka(f),this.b.main_panel[c].fb(q.rect(32*d.sprite.position.x,32*d.sprite.position.y,32,32)))}},fx:function(a){switch(a){case 0:R.r.P.YR(this.l.qd);break;case 1:R.r.P.kC(this.l.qd,"equipped")}},
wb:function(a){if(this._super(a))return!0;this.fe=null;var c=this.b.main_panel.Ka(a.R),d=R.r.P.Ow(),e;for(e in d)if(d[e]){var f=ObjectLists.Fc()[d[e].number];if(H(this.b.main_panel[e],q.a(c.x,c.y+32)))return this.qd=e,this.b.item_name.D(!1),c=G["Item Dropdown Unequip"]+"",c=c.replace("\x3cITEM\x3e",f.name),d=G["Item Dropdown Drop"]+"",d=d.replace("\x3cITEM\x3e",f.name),this.g(DropDownList.md(this,this.fx,[c,d],a.R)),!0}},yi:function(a){a=this.b.main_panel.Ka(a.R);this.b.item_name.D(!1);var c=R.r.P.Ow(),
d;for(d in c)if(c[d]){var e=ObjectLists.Fc()[c[d].number];if(H(this.b.main_panel[d],q.a(a.x,a.y+32)))return this.b.item_name.content.pa(e.name),this.b.item_name.D(!0),this.b.item_name.T(this.b.item_name.content.c()),this.b.item_name.content.eb(this.b.item_name.content.c().width/2),this.b.item_name.n(q.a(this.b.main_panel[d].u.H-this.b.item_name.content.c().width/2+16,this.b.main_panel[d].u.Q)),!0}},Il:function(){this.b.main_panel.head.ia()&&(this.Rc(this.Il),this.ib())},sa:function(){this._super();
this.b.main_panel.head.ia()?this.ib():this.ec(this.Il)}});Inventory=null;
InventoryPanel=Popup.extend({qd:null,bx:!1,Ec:function(){return"Inventory"},oc:function(){for(var a={},c=0;5>c;c++)for(var d=0;8>d;d++)a[5*d+c+""]={size:q.size(32,32),position:q.a(40*c+8,40*(7-d)+40),$:"GUI/defaultitem.png",e:q.a(0,1),children:{stacklabelbg:{position:q.a(1,1),size:q.size(10,6),e:q.a(0,0),color:q.j(255,255,255,200),children:{stacklabel:{label:"",fontSize:10,color:q.o(0,0,0),e:q.a(0,0),position:q.a(0,0)}}}}};return{panels:{position:q.a(300,200),children:{main_panel:{e:q.a(0,0),$:"GUI/inventory.png",
size:q.size(208,328),children:a},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(208,32),children:{header:{label:G["Inventory Header"],fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(184,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}},item_name:{position:q.a(0,0),color:q.j(200,200,200,200),size:q.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:q.o(0,0,0),e:q.a(0.5,0.5),position:q.a(32,8)}}}}}}},wk:function(a,c){this.b.main_panel[a+""].stacklabelbg.D(!1);
1<c&&(this.b.main_panel[a+""].stacklabelbg.D(!0),this.b.main_panel[a+""].stacklabelbg.stacklabel.pa(c),this.b.main_panel[a+""].stacklabelbg.T(this.b.main_panel[a+""].stacklabelbg.stacklabel.c()))},ib:function(){for(var a=R.r.P.Mg(),c=0;40>c;c++)if(a[c]){var d=ObjectLists.Fc()[a[c].number],e;for(e in v)if(v[e].name==d.sprite.texture)var f=v[e].texture;this.b.main_panel[c+""].C(0,1);this.b.main_panel[c+""].ka(f);this.b.main_panel[c+""].fb(q.rect(32*d.sprite.position.x,32*d.sprite.position.y,32,32));
this.wk(c,a[c].amount)}else this.b.main_panel[c+""].ka(q.ja.f().na("GUI/defaultitem.png")),this.wk(c,0)},Il:function(){this.b.main_panel[ra+""].ia()&&(this.Rc(this.Il),this.ib())},sa:function(){this._super();this.b.main_panel[ra+""].ia()?this.ib():this.ec(this.Il)},fx:function(a){switch(a){case 0:!0==this.l.bx?R.r.P.lY(this.l.qd):R.r.P.kC(this.l.qd,"stored");break;case 1:R.r.P.kC(this.l.qd,"stored")}this.l.bx=!1},wb:function(a){if(this._super(a))return!0;this.fe=null;for(var c=this.b.main_panel.Ka(a.R),
d=0;40>d;d++)if(R.r.P.Mg()[d]&&H(this.b.main_panel[d+""],q.a(c.x,c.y+32))){var e=ObjectLists.Fc()[R.r.P.Mg()[d].number],f=[];e.script&&ObjectLists.Ge()[e.script]&&(f=ObjectLists.Ge()[e.script].data);if(f){for(c=0;c<f.length;c++)if("Default Event"==f[c].type)for(var g="Use Item",h=f[c].responses,k=0;k<h.length;k++)switch(console.log(h[k].type),h[k].type){case "Equip Item":g=G["Item Dropdown Equip"]+"";break;case "Read Item":g=G["Item Dropdown Read"]+""}f=G["Item Dropdown Drop"]+"";f=f.replace("\x3cITEM\x3e",
e.name);g?(this.bx=!0,g=g.replace("\x3cITEM\x3e",e.name),this.g(DropDownList.md(this,this.fx,[g,f],a.R))):this.g(DropDownList.md(this,this.fx,[f],a.R));this.qd=d;this.b.item_name.D(!1);return!0}}},yi:function(a){a=this.b.main_panel.Ka(a.R);for(var c=0;40>c;c++)if(R.r.P.Mg()[c]&&H(this.b.main_panel[c+""],q.a(a.x,a.y+32)))return this.b.item_name.content.pa(ObjectLists.Fc()[R.r.P.Mg()[c].number].name),this.b.item_name.D(!0),this.b.item_name.T(this.b.item_name.content.c()),this.b.item_name.content.eb(this.b.item_name.content.c().width/
2),this.b.item_name.n(q.a(this.b.main_panel[c+""].u.H-this.b.item_name.content.c().width/2+16,this.b.main_panel[c+""].u.Q)),!0}});Bank=null;
BankPanel=Popup.extend({qd:null,bx:!1,Ec:function(){return"Bank"},oc:function(){for(var a={},c={},d=0;5>d;d++)for(var e=0;8>e;e++)a[5*e+d+""]={size:q.size(32,32),position:q.a(40*d+8,40*(7-e)+40),$:"GUI/defaultitem.png",e:q.a(0,1),children:{stacklabelbg:{position:q.a(1,1),size:q.size(10,6),e:q.a(0,0),color:q.j(255,255,255,200),children:{stacklabel:{label:"",fontSize:10,color:q.o(0,0,0),e:q.a(0,0),position:q.a(0,0)}}}}};for(d=0;9>d;d++)for(e=0;8>e;e++)c[9*e+d+""]={size:q.size(32,32),position:q.a(220+(40*
d+8),40*(7-e)+40),$:"GUI/defaultitem.png",e:q.a(0,1),children:{stacklabelbg:{position:q.a(1,1),size:q.size(10,6),e:q.a(0,0),color:q.j(255,255,255,200),children:{stacklabel:{label:"",fontSize:10,color:q.o(0,0,0),e:q.a(0,0),position:q.a(0,0)}}}}};return{panels:{position:q.a(300,200),children:{main_panel:{e:q.a(0,0),$:"GUI/bank.png",size:q.size(590,348),children:{inventory:{children:a},inventory_label:{label:"Inventory",color:q.o(255,255,255),position:q.a(8,324),fontSize:16,e:q.a(0,0)},bank:{children:c},
bank_label:{label:"Stored",color:q.o(255,255,255),position:q.a(228,324),fontSize:16,e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,348),size:q.size(590,32),children:{header:{label:G["Bank Header"],fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(566,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}},item_name:{position:q.a(0,0),color:q.j(200,200,200,200),size:q.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:q.o(0,0,0),e:q.a(0.5,0.5),position:q.a(32,
8)}}}}}}},IK:function(a,c){this.b.main_panel.inventory[a+""].stacklabelbg.D(!1);1<c&&(this.b.main_panel.inventory[a+""].stacklabelbg.D(!0),this.b.main_panel.inventory[a+""].stacklabelbg.stacklabel.pa(c),this.b.main_panel.inventory[a+""].stacklabelbg.T(this.b.main_panel.inventory[a+""].stacklabelbg.stacklabel.c()))},tK:function(a,c){this.b.main_panel.bank[a+""].stacklabelbg.D(!1);1<c&&(this.b.main_panel.bank[a+""].stacklabelbg.D(!0),this.b.main_panel.bank[a+""].stacklabelbg.stacklabel.pa(c),this.b.main_panel.bank[a+
""].stacklabelbg.T(this.b.main_panel.inventory[a+""].stacklabelbg.stacklabel.c()))},ib:function(){for(var a=R.r.P.Mg(),c=R.r.P.Ip(),d=0;40>d;d++)if(a[d]){var e=ObjectLists.Fc()[a[d].number],f;for(f in v)if(v[f].name==e.sprite.texture)var g=v[f].texture;this.b.main_panel.inventory[d+""].C(0,1);this.b.main_panel.inventory[d+""].ka(g);this.b.main_panel.inventory[d+""].fb(q.rect(32*e.sprite.position.x,32*e.sprite.position.y,32,32));this.IK(d,a[d].amount)}else this.b.main_panel.inventory[d+""].ka(q.ja.f().na("GUI/defaultitem.png")),
this.IK(d,0);for(d=0;72>d;d++)if(c[d]){e=ObjectLists.Fc()[c[d].number];for(f in v)v[f].name==e.sprite.texture&&(g=v[f].texture);this.b.main_panel.bank[d+""].C(0,1);this.b.main_panel.bank[d+""].ka(g);this.b.main_panel.bank[d+""].fb(q.rect(32*e.sprite.position.x,32*e.sprite.position.y,32,32));this.tK(d,c[d].amount)}else this.b.main_panel.bank[d+""].ka(q.ja.f().na("GUI/defaultitem.png")),this.tK(d,0)},Il:function(){this.b.main_panel.inventory[ra+""].ia()&&(this.Rc(this.Il),this.ib())},sa:function(){this._super();
this.b.main_panel.inventory[ra+""].ia()?this.ib():this.ec(this.Il)},qY:function(a){0==a&&(a=R.r.P.Ip()[this.l.qd],R.r.P.XQ({number:a.number,amount:a.amount}),R.r.P.Ip().splice(this.l.qd,1),Inventory&&Inventory.ib(),Equipment&&Equipment.ib(),this.l.ib());this.l.qd=null},XR:function(a){0==a&&(a=R.r.P.Mg()[this.l.qd],R.r.P.WQ({number:a.number,amount:a.amount}),R.r.P.Mg().splice(this.l.qd,1),Inventory&&Inventory.ib(),Equipment&&Equipment.ib(),this.l.ib());this.l.qd=null},wb:function(a){if(this._super(a))return!0;
this.fe=null;for(var c=this.b.main_panel.inventory.Ka(a.R),d=!1,e=!1,f=0;40>f;f++)if(!R.r.P.Mg()[f]){d=!0;break}for(f=0;72>f;f++)if(!R.r.P.Ip()[f]){e=!0;break}for(f=0;40>f;f++)if(R.r.P.Mg()[f]){var g=32;if(H(this.b.main_panel.inventory[f+""],q.a(c.x,c.y+g)))return this.g(DropDownList.md(this,this.XR,["Deposit","Cancel"],a.R,[{enabled:d},{enabled:!0}])),this.qd=f,this.b.item_name.D(!1),!0}for(f=0;72>f;f++)if(R.r.P.Ip()[f]&&(g=32,H(this.b.main_panel.bank[f+""],q.a(c.x,c.y+g))))return this.g(DropDownList.md(this,
this.qY,["Withdraw","Cancel"],a.R,[{enabled:e},{enabled:!0}])),this.qd=f,this.b.item_name.D(!1),!0},yi:function(a){a=this.b.main_panel.inventory.Ka(a.R);for(var c=0;40>c;c++)if(R.r.P.Mg()[c]&&H(this.b.main_panel.inventory[c+""],q.a(a.x,a.y+32)))return this.b.item_name.content.pa(ObjectLists.Fc()[R.r.P.Mg()[c].number].name),this.b.item_name.D(!0),this.b.item_name.T(this.b.item_name.content.c()),this.b.item_name.content.eb(this.b.item_name.content.c().width/2),this.b.item_name.n(q.a(this.b.main_panel.inventory[c+
""].u.H-this.b.item_name.content.c().width/2+16,this.b.main_panel.inventory[c+""].u.Q)),!0}});Sign=null;
SignPanel=Popup.extend({title:null,content:null,Ec:function(){return"Sign"},oc:function(){return{panels:{position:q.a(100,300),children:{control_panel:{e:q.a(0,0),size:q.size(128,96),$:"GUI/signpost.png",children:{content:{label:this.content,fontSize:12,color:q.o(255,255,255),e:q.a(0,1),position:q.a(4,94)},exitBtn:{position:q.a(100,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},w:function(a,c){this._super();this.content=c},sa:function(){this._super();this.b.control_panel.content.yb(q.size(120,0))}});Quests=null;
QuestsPanel=Popup.extend({J:null,bh:null,GD:null,Ec:function(){return"Quests"},xb:function(){this.J&&this.J.lc();for(var a=[],c=[],d=q.ja.f(),e=0;e<this.data.length;e++)if(!(null==R.r.P.nk(e)||"undefined"===R.r.P.nk(e)&&1>R.r.P.nk(e))){a[e]=q.fa.create(q.j(0,0,0,0),420,32);var f=q.fa.create(q.j(0,0,0,127),212,1);f.n(q.a(4,0));var g=q.V.create(this.data[e].name,"Arial",15);g.t(q.o(0,0,0));g.C(q.a(0,0));g.n(q.a(4,4));g.yb(q.size(216,0));a[e].T(216,g.c().height+8);if(null!=this.GD&&this.GD==e){a[e]=
q.fa.create(q.j(100,0,0,255),216,g.c().height+8);var h=q.v.Pa(d.na("GUI/selected.png"));h.n(q.a(192,(g.c().height+8-20)/2));h.C(q.a(0,0));a[e].g(h);g.t(q.o(255,255,255))}a[e].g(f);a[e].g(g);a[e].vb="Use";c.push([a[e]])}1>a.length&&(a[0]=q.fa.create(q.j(0,0,0,0),420,32),f=q.fa.create(q.j(0,0,0,127),212,1),f.n(q.a(4,0)),g=q.V.create("THERES NO QUESTS!","Arial",15),g.t(q.o(0,0,0)),g.C(q.a(0,0)),g.n(q.a(4,4)),g.yb(q.size(216,0)),a[0].T(216,g.c().height+8),a[0].g(g),c.push([]));this.J=this.b.main_panel.list;
var k=this;this.J.Gc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(216,c)};this.J.zc=function(){return a.length};this.J.Mc=function(c){return a[c].c()};this.J.Lc=function(c){return a[c]};this.J.Rb=function(a,c){"Use"==a&&(k.GD=c,k.mV(c),k.xb())};this.J.ca=ListView.create(this.J);this.J.ca.Oc(c);this.J.g(this.J.ca)},mV:function(a){this.bh&&this.bh.lc();var c=this.data[a].objectiveList,d=[],e=[];q.ja.f();if(0<R.r.P.nk(a))for(var f=0;f<c.length;f++)if(!(R.r.P.nk(a)<f)){if(0==
f)d[f]=q.fa.create(q.j(0,0,0,0),1,1);else if(f==c.length)d[f]=q.fa.create(q.j(0,0,0,0),1,1);else{d[f]=q.fa.create(q.j(0,0,0,0),208,32);var g=q.fa.create(q.j(0,0,0,127),208,1);g.n(q.a(4,0));var h=q.V.create(c[f],"Arial",15);h.t(q.o(0,0,0));h.C(q.a(0,0));h.n(q.a(4,4));h.yb(q.size(208,0));d[f].T(208,h.c().height+8);R.r.P.nk(a)>f&&h.ta(200);d[f].g(g);d[f].g(h)}e.push([])}this.bh=this.b.main_panel.sublist;this.bh.Gc=function(){for(var a=0,c=0;c<d.length;c++)a+=d[c].c().height;return q.size(212,a)};this.bh.zc=
function(){return d.length};this.bh.Mc=function(a){return d[a].c()};this.bh.Lc=function(a){return d[a]};this.bh.Rb=function(){};this.bh.ca=ListView.create(this.bh);this.bh.ca.Oc(e);this.bh.g(this.bh.ca)},oc:function(){return{panels:{position:q.a(300,200),children:{background_image:{$:"GUI/quest_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(512,328),children:{list:{size:q.size(216,328),color:q.j(0,200,200,0),position:q.a(0,0),e:q.a(0,0)},sublist:{size:q.size(212,328),color:q.j(0,200,200,
0),position:q.a(258,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Quest Log",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(484,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},ib:function(){},sa:function(){this._super();this.ib();this.data=ObjectLists.Pp();this.xb()}});Skills=null;
SkillsPanel=Popup.extend({J:null,Ec:function(){return"Skills"},xb:function(){this.J&&this.J.lc();var a=[],c=[];q.ja.f();var d=0,e=0,f;for(f in this.data){e+=this.data[f].level+1;a[d]=q.G.create();a[d].T(420,32);var g=q.fa.create(q.j(0,0,0,127),316,1);g.n(q.a(4,0));var h=q.V.create("Lvl "+(this.data[f].level+1+this.data[f].modifier)+"/"+(this.data[f].level+1),"Arial",15);h.t(q.o(0,0,0));h.C(q.a(0,0));h.n(q.a(4,4));var k=q.V.create(f,"Arial",15);k.t(q.o(0,0,0));k.C(q.a(0.5,0));k.n(q.a(h.c().width+65,
4));var l=q.fa.create(q.j(255,255,255,255),144,k.c().height),m=q.fa.create(q.j(100,120,200,255),this.data[f].experience/this.data[f].requirement*144,k.c().height);l.g(m);m.C(q.a(0,0));m=q.V.create(this.data[f].experience+"/"+this.data[f].requirement,"Arial",14);m.C(q.a(0,0));m.t(q.o(0,0,0));l.g(m);m.uc(1);l.C(q.a(0,0));l.n(q.a(172,4));c.push([]);a[d].g(g);a[d].g(k);a[d].g(h);a[d].g(l);a[d].T(324,k.c().height+8);d++}this.J=this.b.main_panel.list;this.J.Gc=function(){for(var c=0,d=0;d<a.length;d++)c+=
a[d].c().height;return q.size(324,c)};this.J.zc=function(){return a.length};this.J.Mc=function(c){return a[c].c()};this.J.Lc=function(c){return a[c]};this.J.Rb=function(){};this.J.ca=ListView.create(this.J);this.J.ca.Oc(c);this.J.g(this.J.ca);this.b.main_panel.character_level.pa("LEVEL: "+e);this.b.main_panel.character_level.eb(306);this.b.main_panel.character_level.C(q.a(1,0))},oc:function(){return{panels:{position:q.a(300,200),children:{background_image:{$:"GUI/list_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,
0),size:q.size(365,328),children:{character_level:{label:"",position:q.a(2,310),e:q.a(0,0),color:q.o(0,0,0)},list:{size:q.size(324,308),color:q.j(0,200,200,200),position:q.a(0,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Skills",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},ib:function(){},sa:function(){this._super();this.ib();this.data=U.aT();this.xb()}});
var U=q.Sc.extend({Aw:[],Qc:null,kq:function(){var a=ObjectLists.ok(),c;for(c in this.Aw)this.Aw[c].O();this.Aw=[];var d=0;for(c=a.length-1;0<=c;c--)if(null!=a[c].healthbar&&""!=a[c].healthbar){var e=this.NR(a[c].name,a[c].healthbar,d);this.g(e);this.Aw.push(e);d++}this.n(q.a(0,P.height-32*d))},NR:function(a,c,d){var e=255;c=c.replace("#","");8==c.length&&(e=c.substr(6,8));e=q.fa.create(q.j(parseInt(c.substring(0,2),16),parseInt(c.substring(2,4),16),parseInt(c.substring(4,6),16),parseInt(e,16)),0<
this.Qc[a].currenthealth?this.Qc[a].currenthealth/this.Qc[a].maxhealth*300:1,23);e.VB=q.v.Pa(q.ja.f().na("GUI/healthbar.png"));e.n(10,32*d- -5*d-10);e.C(q.a(0,0));e.VB.n(-5,-4);e.VB.C(q.a(0,0));e.g(e.VB);a=q.V.create(a,"Arial",16);a.n(10,11.5);a.C(q.a(0,0.5));e.g(a);return e}});SkillBarsInstance=null;U.create=function(a){null==SkillBarsInstance&&(SkillBarsInstance=new U,SkillBarsInstance.Qc=a,SkillBarsInstance.kq());return SkillBarsInstance};
U.vU=function(a,c){SkillBarsInstance.Qc[a].currenthealth+=c;0>SkillBarsInstance.Qc[a].currenthealth&&(SkillBarsInstance.Qc[a].currenthealth=0);SkillBarsInstance.Qc[a].currenthealth>SkillBarsInstance.Qc[a].maxhealth&&(SkillBarsInstance.Qc[a].currenthealth=SkillBarsInstance.Qc[a].maxhealth);SkillBarsInstance.kq();Skills&&Skills.xb()};U.xU=function(a,c){SkillBarsInstance.Qc[a].experience+=c;0>SkillBarsInstance.Qc[a].experience&&(SkillBarsInstance.Qc[a].experience=0);SkillBarsInstance.kq();Skills&&Skills.xb()};
U.wU=function(a,c){SkillBarsInstance.Qc[a].modifier+=c;0>SkillBarsInstance.Qc[a].modifier&&(SkillBarsInstance.Qc[a].modifier=0);SkillBarsInstance.kq();Skills&&Skills.xb()};U.aT=function(){return SkillBarsInstance.Qc};U.update=function(){SkillBarsInstance.kq()};Scripteditor=null;
ScriptEditor=Popup.extend({data:null,J:null,ab:null,pj:null,lf:null,mf:null,C2:null,l:null,nb:null,Sba:null,F2:null,la:null,i:null,Qn:null,sj:function(a){y({savescripts:a+"",scriptsdata:this.data})},ej:function(a,c){y({savescriptswhole:c})},Ec:function(){return"Scripts"},Ia:function(a){this._super();if(this.l){var c=this.l;!0!=a&&this.l.Rd(function(){c.Nd(null)})}},w:function(a){this._super();this.data={data:[],name:null};this.nb=null;a.data&&(this.data=a.data);a.ED&&(this.data.specifier=a.ED);this.l=
a.l},sa:function(){this._super();this.nb=new $(this.b.main_panel.nameEntry,q.size(this.b.main_panel.nameEntry.c().width,this.b.main_panel.nameEntry.c().height),q.a(0,this.b.main_panel.nameEntry.c().height),this.data.name,q.j(255,255,255),q.o(0,0,0));this.nb.ob(!0);this.b.main_panel.abbrEntry&&(this.yw=new $(this.b.main_panel.abbrEntry,q.size(this.b.main_panel.abbrEntry.c().width,this.b.main_panel.abbrEntry.c().height),q.a(0,this.b.main_panel.abbrEntry.c().height),this.data.abbr,q.j(255,255,255),q.o(0,
0,0)),this.yw.ob(!0));this.xb()},xb:function(){this.J&&this.J.lc();for(var a in this.lf)this.lf[a].lc(),this.lf[a].O();for(a in this.mf)this.mf[a].lc(),this.mf[a].O();var c=[],d=[],e=[],f=[],g=[],h=[],k=q.ja.f();this.lf=[];this.mf=[];for(a=0;a<this.data.data.length;a++){g[a]=[];h[a]=[];d[a]=[];e[a]=[];c[a]=q.G.create();c[a].T(758,100);var l=q.fa.create(q.j(0,0,0,127),750,1);l.n(q.a(4,0));var m=q.fa.create(q.j(0,0,0,127),1,92);m.n(q.a(152,4));var p=q.fa.create(q.j(0,0,0,127),1,92);p.n(q.a(451,4));
var t=this.data.data[a].type;"On Talk Close"==t&&(t+=" ("+this.data.data[a].data.attachedEvent+":"+this.data.data[this.data.data[a].data.attachedEvent].type+")");t=q.V.create(a+": "+t,"Arial",15);t.t(q.o(0,0,0));t.C(q.a(0,1));t.n(q.a(4,96));t.yb(q.size(100,0));var u=q.fa.create(q.j(0,255,0,60),259,100);u.T(q.size(259,100));u.eb(451);u.C(q.a(0,0));c[a].g(u);var w=q.fa.create(q.j(0,255,0,60),259,100);w.T(q.size(259,100));w.eb(152);w.C(q.a(0,0));c[a].g(w);var B=q.v.Pa(k.na("GUI/trash.png"));B.n(q.a(120,
4));B.C(q.a(0,0));B.vb="Delete";c[a].g(B);var E=q.v.Pa(k.na("GUI/edit.png"));E.n(q.a(96,4));E.C(q.a(0,0));E.vb="Edit";c[a].g(E);f.push([B,E]);for(B=0;B<this.data.data[a].responses.length;B++){d[a].push(q.G.create());d[a][B].T(259,32);var E=!0,I=q.V.create(B+1+": "+this.data.data[a].responses[B].type,"Arial",15);I.t(q.o(0,0,0));I.C(q.a(0,0));I.n(q.a(4,4));I.yb(q.size(180,0));d[a][B].T(259,I.c().height+8);d[a][B].g(I);I=q.v.Pa(k.na("GUI/trash.png"));I.n(q.a(229,0));I.C(q.a(0,0));I.vb="Delete";d[a][B].g(I);
switch(this.data.data[a].responses[B].type){case "Destroy":case "Attack":case "Run Away":E=!1}E?(E=q.v.Pa(k.na("GUI/edit.png")),E.n(q.a(205,0)),E.C(q.a(0,0)),E.vb="Edit",d[a][B].g(E),g[a].push([I,E])):g[a].push([I])}B=q.fa.create(q.j(70,200,70,255),90,26);E=q.V.create("+","Arial",20);E.n(45,13);E.C(q.a(0.5,0.5));B.n(q.a(84.5,0));B.vb="Add";B.g(E);g[a].push([B]);d[a].push(B);this.mf[a]=w;this.mf[a].identifier=a;var D=this;this.mf[a].Gc=function(){for(var a=0,c=0;c<d[this.identifier].length;c++)a+=
d[this.identifier][c].c().height;return q.size(259,a)};this.mf[a].zc=function(){return d[this.identifier].length};this.mf[a].Mc=function(a){return d[this.identifier][a].c()};this.mf[a].Lc=function(a){return d[this.identifier][a]};this.mf[a].Rb=function(a,c,d){D.Ka(d.R);if(null==D.i)switch(a){case "Delete":D.ea.g(DropDownList.md(D,D.WR,["Cancel","Delete"],d.R));D.ab=c;D.pj=this.identifier;break;case "Edit":D.dI(this.identifier,"responses",c);break;case "Add":a="Talk;Destroy;Give/ Take Item;Set Quest Point;Warp Player;Wait;Repeat Responses;Open/Close Panel;Modify Player Stats;Script Response".split(";");
c=[{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0}];for(var e=0;e<D.data.data[this.identifier].responses.length;e++)"Repeat Responses"==D.data.data[this.identifier].responses[e].type&&(c[7].enabled=!1);switch(D.data.specifier){case "NPC":a.push("Attack","Run Away","Defend","Modify NPC Stats");c.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0});break;case "Item":a.push("Equip Item","Read Item");c.push({enabled:!0},
{enabled:!0});break;case "Tile":a.push("Block Entry","Add Layer Graphic","Show Sign","Spawn NPC","Spawn Item"),c.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0})}D.ea.g(DropDownList.md(D,D.TQ,a,d.R,c));D.pj=this.identifier;break;case "Use":D.l.On(c,D.cb[c])}};this.mf[a].ca=ListView.create(this.mf[a]);this.mf[a].ca.Oc(g[a]);this.mf[a].g(this.mf[a].ca);for(B=0;B<this.data.data[a].requirements.length;B++)e[a].push(q.G.create()),e[a][B].T(259,32),w=q.V.create(B+1+": "+this.data.data[a].requirements[B].type,
"Arial",15),w.t(q.o(0,0,0)),w.C(q.a(0,0)),w.n(q.a(4,4)),w.yb(q.size(180,0)),e[a][B].T(259,w.c().height+8),e[a][B].g(w),I=q.v.Pa(k.na("GUI/trash.png")),I.n(q.a(229,0)),I.C(q.a(0,0)),I.vb="Delete",e[a][B].g(I),E=q.v.Pa(k.na("GUI/edit.png")),E.n(q.a(205,0)),E.C(q.a(0,0)),E.vb="Edit",e[a][B].g(E),h[a].push([I,E]);w=q.fa.create(q.j(70,200,70,255),90,26);B=q.V.create("+","Arial",20);B.n(45,13);B.C(q.a(0.5,0.5));w.n(q.a(84.5,0));w.vb="Add";w.g(B);h[a].push([w]);e[a].push(w);this.lf[a]=u;this.lf[a].identifier=
a;D=this;this.lf[a].Gc=function(){for(var a=0,c=0;c<e[this.identifier].length;c++)a+=e[this.identifier][c].c().height;return q.size(259,a)};this.lf[a].zc=function(){return e[this.identifier].length};this.lf[a].Mc=function(a){return e[this.identifier][a].c()};this.lf[a].Lc=function(a){return e[this.identifier][a]};this.lf[a].Rb=function(a,c,d){D.Ka(d.R);if(null==D.i)switch(a){case "Delete":D.ea.g(DropDownList.md(D,D.VR,["Cancel","Delete"],d.R));D.ab=c;D.pj=this.identifier;break;case "Edit":D.dI(this.identifier,
"requirements",c);break;case "Add":a="Has Player Item;Is Player Statistics;Is Quest Point;Is Panel Visibility;Is Player Inventory Space;Script Requirement".split(";");switch(D.data.specifier){case "Tile":a.push("Is Event Fired By");break;case "NPC":a.push("Is NPC Statistics","Is NPC Actioning")}D.ea.g(DropDownList.md(D,D.SQ,a,d.R));D.pj=this.identifier;break;case "Use":D.l.On(c,D.cb[c])}};this.lf[a].ca=ListView.create(this.lf[a]);this.lf[a].ca.Oc(h[a]);this.lf[a].g(this.lf[a].ca);c[a].g(t);c[a].g(l);
c[a].g(m);c[a].g(p)}a=q.fa.create(q.j(70,200,70,255),90,26);g=q.V.create("+","Arial",20);g.n(45,13);g.C(q.a(0.5,0.5));a.n(q.a(334,0));a.vb="Add";a.g(g);f.push([a]);c.push(a);this.J=this.b.main_panel.list;D=this;this.J.Gc=function(){for(var a=0,d=0;d<c.length;d++)a+=c[d].c().height;return q.size(758,a)};this.J.zc=function(){return c.length};this.J.Mc=function(a){return c[a].c()};this.J.Lc=function(a){return c[a]};this.J.Rb=function(a,c,d){D.Ka(d.R);if(null==D.i)switch(a){case "Delete":var e="Delete";
D.yT(c)&&(e="Delete (Will destroy all child events)");D.ea.g(DropDownList.md(D,D.UR,["Cancel",e],d.R));D.ab=c;break;case "Add":a=["Default Interaction","On Examine","On Talk Close","On Talk Option Selected","On Game Load"];var f=[{enabled:!0},{enabled:!1},{enabled:!1},{enabled:!1},{enabled:!0}];for(e in D.data.data)if(D.data.data[e])for(var g=0;g<D.data.data[e].responses.length;g++)if("Talk"==D.data.data[e].responses[g].type){f[2].enabled=!0;break}0==D.data.data.length&&(f[1].enabled=!1);D.pS()&&
(f[3].enabled=!0);switch(D.data.specifier){case "Item":a.push("On Pickup","On Drop","On Dequip","On Trade");f.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0});break;case "Tile":a.push("Interact On","Interact Facing","Will Enter","On Enter","Will Leave","On Leave","On Come Near"),f.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0}),f[0].enabled=!1}D.ea.g(DropDownList.md(D,D.NQ,a,d.R,f));D.ab=c;break;case "Use":D.l.On(c,D.cb[c])}};this.J.ca=ListView.create(this.J);
this.J.ca.Oc(f);this.J.g(this.J.ca)},VH:function(a){for(var c=0;c<this.data.data.length;c++)"On Talk Close"==this.data.data[c].type&&this.data.data[c].data.attachedEvent==a&&(this.VH(c),this.data.data.splice(c,1))},yT:function(a){for(var c=0;c<this.data.data.length;c++)if("On Talk Close"==this.data.data[c].type&&this.data.data[c].data.attachedEvent==a)return!0;return!1},pS:function(){for(var a=0;a<this.data.data.length;a++)for(var c=0;c<this.data.data[a].responses.length;c++)if("Talk"==this.data.data[a].responses[c].type)return!0;
return!1},UR:function(a){switch(a){case 1:null!=this.l.ab&&(this.l.VH(this.l.ab),this.l.data.data.splice(this.l.ab,1),this.l.xb(),this.l.ab=null)}},WR:function(a){switch(a){case 1:null!=this.l.ab&&(this.l.data.data[this.l.pj].responses.splice(this.l.ab,1),this.l.xb(),this.l.ab=null,this.l.pj=null)}},VR:function(a){switch(a){case 1:null!=this.l.ab&&(this.l.data.data[this.l.pj].requirements.splice(this.l.ab,1),this.l.xb(),this.l.ab=null,this.l.pj=null)}},UQ:function(a){this.l.data.data.push({type:"On Talk Close",
responses:[],requirements:[],data:{attachedEvent:a}});this.l.xb()},VQ:function(a,c){this.l.lE=a;for(var d=[],e=0;e<this.l.data.data[a].responses.length;e++)if("Talk"==this.l.data.data[a].responses[e].type)for(var f in this.l.data.data[a].responses[e].data.options)d.push(f+": "+this.l.data.data[a].responses[e].data.options[f]);this.ea.g(DropDownList.md(this.l,this.l.yR,d,c.R))},yR:function(a){this.l.data.data.push({type:"On Talk Option Selected for event:"+this.l.lE+", option:"+a,responses:[],requirements:[],
data:{attachedEvent:this.l.lE,attachedOption:a}});this.l.xb();this.l.lE=null},NQ:function(a,c){var d="";switch(a){case 0:d="Default Event";break;case 1:d="On Examine";break;case 2:var d=[],e;for(e in this.l.data.data)if(this.l.data.data[e])for(var f=0;f<this.l.data.data[e].responses.length;f++)"Talk"==this.l.data.data[e].responses[f].type&&d.push(e+": "+this.l.data.data[e].type);this.ea.g(DropDownList.md(this.l,this.l.UQ,d,c.R));return;case 3:d=[];for(e in this.l.data.data)if(this.l.data.data[e])for(f=
0;f<this.l.data.data[e].responses.length;f++)"Talk"==this.l.data.data[e].responses[f].type&&this.l.data.data[e].responses[f].data.options&&0<this.l.data.data[e].responses[f].data.options.length&&d.push(e+": "+this.l.data.data[e].type);this.ea.g(DropDownList.md(this.l,this.l.VQ,d,c.R));return;case 4:d="On Game load"}if(""==d)switch(this.l.data.specifier){case "Item":switch(a){case 5:d="On Pickup";break;case 6:d="On Drop";break;case 7:d="On Dequip";break;case 8:d="On Trade"}break;case "Tile":switch(a){case 5:d=
"Interact On";break;case 6:d="Interact Facing";break;case 7:d="Will Enter";break;case 8:d="On Enter";break;case 9:d="Will Leave";break;case 10:d="On Leave";break;case 11:d="On Come Near"}}this.l.data.data.push({type:d,responses:[],requirements:[],data:{}});this.l.xb()},TQ:function(a){var c="";switch(a){case 0:c="Talk";break;case 1:c="Destroy";break;case 2:c="Give /Take Item";break;case 3:c="Set Quest Point";break;case 4:c="Warp Player";break;case 5:c="Wait";break;case 6:c="Repeat Responses";break;
case 7:c="Open/Close Panel";break;case 8:c="Modify Player Stats";break;case 9:c="Script Response"}if(""==c)switch(this.l.data.specifier){case "NPC":switch(a){case 10:c="Attack";break;case 11:c="Run Away";break;case 12:c="Defend";break;case 13:c="Modify NPC Stats"}break;case "Item":switch(a){case 10:c="Equip Item";break;case 11:c="Read Item"}break;case "Tile":switch(a){case 10:c="Block Entry";break;case 11:c="Add Layer Graphic";break;case 12:c="Show Sign";break;case 13:c="Spawn NPC";break;case 14:c=
"Spawn Item"}}this.l.data.data[this.l.pj].responses.push({type:c,data:{}});this.l.xb()},SQ:function(a){var c="";switch(a){case 0:c="Has Player Item";break;case 1:c="Is Player Statistics";break;case 2:c="Is Quest Point";break;case 3:c="Is Panel Visibility";break;case 4:c="Is Player Inventory Space";break;case 5:c="Script Requirement"}if(""==c)switch(this.l.data.specifier){case "Tile":switch(a){case 6:c="Is Event Fired By"}break;case "NPC":switch(a){case 6:c="Is NPC Statistics";break;case 7:c="Is NPC Actioning"}}this.l.data.data[this.l.pj].requirements.push({type:c,
data:{}});this.l.xb()},oc:function(){return{panels:{children:{background_image:{$:"GUI/event_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(1E3,400),children:{list:{size:q.size(758,360),color:q.j(0,200,200,200),position:q.a(0,0),e:q.a(0,0)},okbtn:{position:q.a(4,364),size:q.size(32,32),$:"GUI/tick_icon.png",e:q.a(0,0)},cancelbtn:{position:q.a(46,364),size:q.size(32,32),$:"GUI/cross_icon.png",e:q.a(0,0)},abbrlbl:"Tile"==this.data.specifier?{label:"Abbr",fontSize:20,e:q.a(0,0),position:q.a(550,
368),size:q.size(36,32),color:q.o(0,0,0)}:null,abbrEntry:"Tile"==this.data.specifier?{position:q.a(595,364),size:q.size(36,32),color:q.o(255,255,255)}:null,namelbl:{label:"Name:",fontSize:20,e:q.a(0,0),position:q.a(110,368),color:q.o(0,0,0)},nameEntry:{position:q.a(180,364),size:q.size(340,32),color:q.j(255,255,255,255)}}},control_panel:{e:q.a(0,0),position:q.a(0,400),size:q.size(1E3,32),children:{header:{label:"Script Editor",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(976,
6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}},subEditorOver:{visible:!1,color:q.j(0,0,0,127),position:q.a(0,0),size:q.size(800,400)},mainEditorOver:{color:q.j(0,0,0,127),position:q.a(800,0),size:q.size(200,400)}}}}},dI:function(a,c,d){this.la={event:a,listtype:c,id:d};this.Qn=this.data.data[a][c][d].type;this.hV=J(this.data.data[this.la.event][this.la.listtype][this.la.id].data);this.ht()},B$:function(a){this.data.data[this.la.event][this.la.listtype][this.la.id].data=J(a);this.Sw();this.la=
null;this.xb()},A$:function(){this.Sw();this.la=null},L2:function(){},hy:null,uE:null,vE:null,$c:null,$J:null,MJ:null,ax:null,qd:null,Px:null,Sl:null,Tl:null,Rl:null,Rx:null,Sx:null,Qx:null,VJ:null,Vn:0,KJ:null,tH:null,$w:null,Kc:null,Xx:null,mS:function(a,c){var d={panels:{children:{editArea:{color:q.j(127,127,127,255),e:q.a(0,0),position:q.a(0,0),size:q.size(200,250)},editBox:{size:q.size(178,196),e:q.a(0,0),position:q.a(8,12)},okbtn:{position:q.a(62,210),size:q.size(32,32),$:"GUI/tick_icon.png",
e:q.a(0,0)},cancelbtn:{position:q.a(106,210),size:q.size(32,32),$:"GUI/cross_icon.png",e:q.a(0,0)}}}};this.ng=ya(d,!0);this.i.g(this.ng);this.iE=new $(this.ng.editBox,q.size(this.ng.editBox.c().width,this.ng.editBox.c().height),q.a(0,this.ng.editBox.c().height),c?c:"\x3cEnter text\x3e",q.j(255,255,255),q.o(0,0,0),!0);this.iE.ob(!0);this.iE.Pc(!1);this.jE=a},ht:function(){this.i&&(this.i.O(),this.i=null);this.b.subEditorOver.D(!0);this.b.mainEditorOver.D(!1);var a={panels:{position:q.a(802,0),children:{}}},
c=this.data.data[this.la.event][this.la.listtype][this.la.id].data;switch(this.Qn){case "Warp Player":a.panels.children={mapNumberLabel:{label:"Map ID",e:q.a(0,0),position:q.a(12,374)},mapNumberText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,340),size:q.size(100,32)},mapXLabel:{label:"Map X",e:q.a(0,0),position:q.a(12,310)},mapXText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,276),size:q.size(80,32)},mapYLabel:{label:"Map Y",e:q.a(0,0),position:q.a(100,310)},mapYText:{color:q.j(255,
255,255,255),e:q.a(0,0),position:q.a(100,276),size:q.size(80,32)}};break;case "Script Response":a.panels.children={sayLabelPre:{label:"Script:\n\nfunction resp(data){\n//data is { }",e:q.a(0,1),position:q.a(12,374),color:q.o(255,0,0)},sayLabelPost:{label:"};",e:q.a(0,1),position:q.a(12,95),color:q.o(255,0,0)},sayText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,100),size:q.size(174,200)}};break;case "Script Requirement":a.panels.children={sayLabelPre:{label:"Script:\n\nfunction req(data,isAllow){\n//data is { }\n//isAllow defaults false",
e:q.a(0,1),position:q.a(12,374),color:q.o(255,0,0)},sayLabelPost:{label:"return isAllow;\n};",e:q.a(0,1),position:q.a(12,95),color:q.o(255,0,0)},sayText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,100),size:q.size(174,190)}};break;case "Read Item":a.panels.children={sayLabel:{label:"Say:",e:q.a(0,0),position:q.a(12,374)},sayText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,50),size:q.size(174,322)}};break;case "Show Sign":a.panels.children={signLabel:{label:"Sign Title:",e:q.a(0,
0),position:q.a(12,376)},signText:{color:q.o(255,255,255),e:q.a(0,0),position:q.a(12,340),size:q.size(174,32)},sayLabel:{label:"Sign Content:",e:q.a(0,0),position:q.a(12,318)},sayText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,50),size:q.size(174,258)}};break;case "Talk":a.panels.children={sayLabel:{label:"Say:",e:q.a(0,0),position:q.a(12,374)},sayText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,274),size:q.size(174,100)},optionLabel:{label:"Options:",e:q.a(0,0),position:q.a(12,
235)},optionList:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,50),size:q.size(154,185)}};break;case "Is Quest Point":case "Set Quest Point":a.panels.children={questLabel:{label:"Quest:",e:q.a(0,0),position:q.a(12,374)},questList:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},objectiveLabel:{label:"Objective:",e:q.a(0,0),position:q.a(12,189)},objectiveList:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,50),size:q.size(154,135)}};break;case "Give /Take Item":case "Has Player Item":case "Spawn Item":a.panels.children=
{itemsLabel:{label:"Item:",e:q.a(0,0),position:q.a(12,374)},itemList:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},amountLabel:{label:"Amount:",e:q.a(0,0),position:q.a(12,189)},amountText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,153),size:q.size(154,32)},amountNote:{label:"Has Player Item"==this.Qn?"":"Use negative item amounts to take away. Use positive amounts to give.",e:q.a(0,1),position:q.a(12,145)}};break;case "Spawn NPC":a.panels.children={npcLabel:{label:"NPC:",
e:q.a(0,0),position:q.a(12,374)},npcList:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)}};break;case "Modify Player Stats":case "Modify NPC Stats":a.panels.children={skillsLabel:{label:"Skill:",e:q.a(0,0),position:q.a(12,374)},skillList:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},levelLabel:{label:"Level Modify",e:q.a(0,0),position:q.a(12,205)},levelText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,169),size:q.size(154,
32)},expLabel:{label:"XP Modify: (% allowed)",e:q.a(0,0),position:q.a(12,145)},expText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,109),size:q.size(154,32)},healthLabel:{label:"Health Modify: (% allowed)",e:q.a(0,0),position:q.a(12,85)},healthText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,49),size:q.size(154,32)}};break;case "Is Panel Visibility":case "Open/Close Panel":a.panels.children={panelsLabel:{label:"Panel:",e:q.a(0,0),position:q.a(12,374)},panelList:{color:q.j(255,
255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},visibleLabel:{label:"Visibility:",e:q.a(0,0),position:q.a(12,205)},visibleButton:{color:q.j(255,0,0,255),e:q.a(0,0),position:q.a(12,169),size:q.size(154,32),children:{content:{position:q.a(77,16),e:q.a(0.5,0.5),label:"Invisible",color:q.o(0,0,0)}}}};break;case "Is Event Fired By":a.panels.children={objectLabel:{label:"Possible Types:",e:q.a(0,0),position:q.a(12,374)},objectList:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,
230),size:q.size(154,135)}};break;case "Is NPC Actioning":a.panels.children={actionLabel:{label:"Actions:",e:q.a(0,0),position:q.a(12,374)},actionList:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)}};break;case "Is Player Inventory Space":a.panels.children={spaceLabel:{label:"Inventory Space",e:q.a(0,0),position:q.a(12,374)},spaceText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,340),size:q.size(100,32)}};break;case "Wait":a.panels.children={timeLabel:{label:"Time (Seconds)",
e:q.a(0,0),position:q.a(12,374)},timeText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,340),size:q.size(100,32)}};break;case "Repeat Responses":a.panels.children={amountLabel:{label:"Repeat Amount",e:q.a(0,0),position:q.a(12,374)},amountText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,340),size:q.size(100,32)},amountNote:{label:"Use 0 for infinite amount of repeats.",e:q.a(0,1),position:q.a(12,300)}};break;case "Is Player Statistics":case "Is NPC Statistics":a.panels.children=
{skillsLabel:{label:"Skill:",e:q.a(0,0),position:q.a(12,374)},skillList:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},levelLabel:{label:"Level Range",e:q.a(0,0),position:q.a(12,205)},levelDash:{label:"-",e:q.a(0,0),position:q.a(91,174)},levelTextLower:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,169),size:q.size(75,32)},levelTextUpper:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(100,169),size:q.size(75,32)},expLabel:{label:"XP Range: (% allowed)",
e:q.a(0,0),position:q.a(12,145)},expDash:{label:"-",e:q.a(0,0),position:q.a(91,114)},expTextLower:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,109),size:q.size(75,32)},expTextUpper:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(100,109),size:q.size(75,32)},healthLabel:{label:"Health Range: (% allowed)",e:q.a(0,0),position:q.a(12,85)},healthDash:{label:"-",e:q.a(0,0),position:q.a(91,54)},healthTextLower:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,49),size:q.size(75,32)},healthTextUpper:{color:q.j(255,
255,255,255),e:q.a(0,0),position:q.a(100,49),size:q.size(75,32)}};break;case "Equip Item":a.panels.children={equipLabel:{label:"Equips To:",e:q.a(0,0),position:q.a(12,374)},headButton:{color:q.j(255,0,0,255),e:q.a(0,0),position:q.a(69,320),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(0.5,0.5),label:"Head",color:q.o(0,0,0)}}},bodyButton:{color:q.j(255,0,0,255),e:q.a(0,0),position:q.a(69,280),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(0.5,0.5),label:"Body",color:q.o(0,
0,0)}}},legButton:{color:q.j(255,0,0,255),e:q.a(0,0),position:q.a(69,240),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(0.5,0.5),label:"Legs",color:q.o(0,0,0)}}},feetButton:{color:q.j(255,0,0,255),e:q.a(0,0),position:q.a(69,200),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(0.5,0.5),label:"Feet",color:q.o(0,0,0)}}},lArmButton:{color:q.j(255,0,0,255),e:q.a(0,0),position:q.a(10,280),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(0.5,0.5),label:"L Arm",
color:q.o(0,0,0)}}},rArmButton:{color:q.j(255,0,0,255),e:q.a(0,0),position:q.a(128,280),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(0.5,0.5),label:"R Arm",color:q.o(0,0,0)}}},modButton:{color:q.j(255,0,0,255),e:q.a(0,0),position:q.a(10,160),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(0.5,0.5),label:"Mod",color:q.o(0,0,0)}}}}}a.panels.children.okbtn={position:q.a(62,8),size:q.size(32,32),$:"GUI/tick_icon.png",e:q.a(0,0)};a.panels.children.cancelbtn={position:q.a(106,
8),size:q.size(32,32),$:"GUI/cross_icon.png",e:q.a(0,0)};this.i=ya(a,!0);this.b.g(this.i);switch(this.Qn){case "Warp Player":var d=a=1;c.index&&(d=V.ij(c.mapnum),a=c.index%d.width,d=Math.floor(c.index/d.width));this.hy=new $(this.i.mapNumberText,q.size(this.i.mapNumberText.c().width,this.i.mapNumberText.c().height),q.a(0,this.i.mapNumberText.c().height),null!=c.mapnum&&"undefined"!==c.mapnum?c.mapnum:"0",q.j(255,255,255),q.o(0,0,0));this.hy.ob(!0);this.uE=new $(this.i.mapXText,q.size(this.i.mapXText.c().width,
this.i.mapXText.c().height),q.a(0,this.i.mapXText.c().height),a,q.j(255,255,255),q.o(0,0,0));this.uE.ob(!0);this.vE=new $(this.i.mapYText,q.size(this.i.mapYText.c().width,this.i.mapYText.c().height),q.a(0,this.i.mapYText.c().height),d,q.j(255,255,255),q.o(0,0,0));this.vE.ob(!0);break;case "Show Sign":this.$c=new $(this.i.sayText,q.size(this.i.sayText.c().width,this.i.sayText.c().height),q.a(0,this.i.sayText.c().height),c.content?c.content:"\x3cEnter text\x3e",q.j(255,255,255),q.o(0,0,0),!0);this.$c.ob(!0);
this.$c.Pc(!1);this.cE=new $(this.i.signText,q.size(this.i.signText.c().width,this.i.signText.c().height),q.a(0,this.i.signText.c().height),c.title?c.title:"\x3cEnter text\x3e",q.j(255,255,255),q.o(0,0,0),!0);this.cE.ob(!0);this.cE.Pc(!1);break;case "Read Item":this.$c=new $(this.i.sayText,q.size(this.i.sayText.c().width,this.i.sayText.c().height),q.a(0,this.i.sayText.c().height),c.say?c.say:"\x3cEnter text\x3e",q.j(255,255,255),q.o(0,0,0),!0);this.$c.ob(!0);this.$c.Pc(!1);break;case "Script Response":this.$c=
new $(this.i.sayText,q.size(this.i.sayText.c().width,this.i.sayText.c().height),q.a(0,this.i.sayText.c().height),c.functionContent?c.functionContent:"\x3cEnter text\x3e",q.j(255,255,255),q.o(0,0,0),!0);this.$c.ob(!0);this.$c.Pc(!1);break;case "Script Requirement":this.$c=new $(this.i.sayText,q.size(this.i.sayText.c().width,this.i.sayText.c().height),q.a(0,this.i.sayText.c().height),c.functionContent?c.functionContent:"\x3cEnter text\x3e",q.j(255,255,255),q.o(0,0,0),!0);this.$c.ob(!0);this.$c.Pc(!1);
break;case "Talk":this.$c=new $(this.i.sayText,q.size(this.i.sayText.c().width,this.i.sayText.c().height),q.a(0,this.i.sayText.c().height),c.say?c.say:"\x3cEnter text\x3e",q.j(255,255,255),q.o(0,0,0),!0);this.$c.ob(!0);this.$c.Pc(!1);var e=[],a=[],f=c.options?c.options:[];console.log(f);for(d=0;d<f.length;d++){e[d]=q.G.create();var g=q.fa.create(q.j(0,0,0,127),154,1),h=q.V.create(f[d],"Arial",15);h.t(q.o(0,0,0));h.C(q.a(0,0));h.n(q.a(4,4));h.yb(q.size(104,0));e[d].T(154,h.c().height+8);var k=q.v.Pa(q.ja.f().na("GUI/edit.png"));
k.n(q.a(130,0));k.C(q.a(0,0));k.vb="Edit";k.uc((h.c().height+8)/2-10);var l=q.v.Pa(q.ja.f().na("GUI/trash.png"));l.n(q.a(108,0));l.C(q.a(0,0));l.vb="Delete";l.uc((h.c().height+8)/2-10);a.push([k,l]);var m=q.fa.create(q.j(255,255,255,255),154,h.c().height+8);e[d].g(m);e[d].kc=m;e[d].g(g);e[d].g(h);e[d].g(k);e[d].g(l)}d=q.fa.create(q.j(70,200,70,255),90,26);g=q.V.create("+","Arial",20);g.n(45,13);g.C(q.a(0.5,0.5));d.n(q.a(34,0));d.vb="Add";d.g(g);a.push([d]);e.push(d);var p=this;this.i.optionList.Gc=
function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.i.optionList.zc=function(){return e.length};this.i.optionList.Mc=function(a){return e[a].c()};this.i.optionList.Lc=function(a){return e[a]};this.i.optionList.Eh=function(a){return e[a].kc};this.i.optionList.Rb=function(a,d){if(!p.ng)switch(a){case "Add":c.options||(c.options=[]);c.options.push("\x3cEnter Text\x3e");c.say=p.$c.ba();p.i.optionList.ca.O();p.i.optionList.ca=null;p.ht();break;case "Delete":c.options.splice(d,
1);c.say=p.$c.ba();p.i.O();p.i=null;p.ht();break;case "Edit":c.say=p.$c.ba(),p.mS(d,c.options[d]),p.i.optionList.ca.O(),p.i.optionList.ca=null}};this.i.optionList.ca=ListView.create(this.i.optionList);this.i.optionList.ca.Oc(a);this.i.optionList.g(this.i.optionList.ca);break;case "Is Quest Point":case "Set Quest Point":e=[];a=[];f=ObjectLists.Pp();for(d=0;d<f.length;d++)e[d]=q.G.create(),g=q.fa.create(q.j(0,0,0,127),154,1),h=q.V.create(f[d].name,"Arial",15),h.t(q.o(0,0,0)),h.C(q.a(0,0)),h.n(q.a(4,
4)),h.yb(q.size(126,0)),k=q.v.Pa(q.ja.f().na("GUI/use.png")),k.n(q.a(130,0)),k.C(q.a(0,0)),k.vb="Use",e[d].T(154,h.c().height+8),k.uc((h.c().height+8)/2-10),a.push([k]),m=q.fa.create(q.j(255,255,255,255),154,h.c().height+8),e[d].g(m),e[d].kc=m,e[d].g(g),e[d].g(h),e[d].g(k);p=this;this.i.questList.Gc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.i.questList.zc=function(){return e.length};this.i.questList.Mc=function(a){return e[a].c()};this.i.questList.Lc=
function(a){return e[a]};this.i.questList.Eh=function(a){return e[a].kc};this.i.questList.Rb=function(a,c){if("Use"==a){p.i.objectiveList.ca&&p.i.objectiveList.ca.O();this.ca.kc(c);p.$J=c;for(var d=[],e=[],f=q.ja.f(),g=ObjectLists.Pp()[c].objectiveList,h=0;h<g.length;h++){d[h]=q.G.create();var k=q.fa.create(q.j(0,0,0,127),154,1);k.n(q.a(0,0));var l=q.V.create(g[h],"Arial",15);l.t(q.o(0,0,0));l.C(q.a(0,0));l.n(q.a(4,4));l.yb(q.size(126,0));var m=q.v.Pa(f.na("GUI/use.png"));m.n(q.a(130,0));m.C(q.a(0,
0));m.vb="Use";e.push([m]);d[h].T(126,l.c().height+8);m.uc((l.c().height+8)/2-10);var ja=q.fa.create(q.j(255,255,255,255),154,l.c().height+8);d[h].g(ja);d[h].kc=ja;d[h].g(k);d[h].g(l);d[h].g(m)}p.i.objectiveList.Gc=function(){for(var a=0,c=0;c<d.length;c++)a+=d[c].c().height;return q.size(154,a)};p.i.objectiveList.zc=function(){return d.length};p.i.objectiveList.Eh=function(a){return d[a].kc};p.i.objectiveList.Mc=function(a){return d[a].c()};p.i.objectiveList.Lc=function(a){return d[a]};p.i.objectiveList.Rb=
function(a,c){this.ca.kc(c);p.MJ=c};p.i.objectiveList.ca=ListView.create(p.i.objectiveList);p.i.objectiveList.ca.Oc(e);p.i.objectiveList.g(p.i.objectiveList.ca)}};this.i.questList.ca=ListView.create(this.i.questList);this.i.questList.ca.Oc(a);this.i.questList.g(this.i.questList.ca);null!=c.quest&&"undefined"!==c.quest&&(this.i.questList.Rb("Use",c.quest),null!=c.objective&&"undefined"!==c.objective&&this.i.objectiveList.Rb("Use",c.objective));break;case "Spawn NPC":e=[];a=[];f=ObjectLists.Mp();for(d=
0;d<f.length;d++)e[d]=q.G.create(),g=q.fa.create(q.j(0,0,0,127),154,1),h=q.V.create(f[d].name,"Arial",15),h.t(q.o(0,0,0)),h.C(q.a(0,0)),h.n(q.a(4,4)),h.yb(q.size(126,0)),k=q.v.Pa(q.ja.f().na("GUI/use.png")),k.n(q.a(130,0)),k.C(q.a(0,0)),k.vb="Use",e[d].T(154,h.c().height+8),k.uc((h.c().height+8)/2-10),a.push([k]),m=q.fa.create(q.j(255,255,255,255),154,h.c().height+8),e[d].g(m),e[d].kc=m,e[d].g(g),e[d].g(h),e[d].g(k);p=this;this.i.npcList.Gc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;
return q.size(154,a)};this.i.npcList.zc=function(){return e.length};this.i.npcList.Mc=function(a){return e[a].c()};this.i.npcList.Lc=function(a){return e[a]};this.i.npcList.Eh=function(a){return e[a].kc};this.i.npcList.Rb=function(a,c){"Use"==a&&(this.ca.kc(c),p.qd=c)};this.i.npcList.ca=ListView.create(this.i.npcList);this.i.npcList.ca.Oc(a);this.i.npcList.g(this.i.npcList.ca);null!=c.npc&&"undefined"!==c.npc&&this.i.npcList.Rb("Use",c.npc);break;case "Give /Take Item":case "Has Player Item":case "Spawn Item":this.i.amountNote.yb(q.size(180,
0));e=[];a=[];f=ObjectLists.Fc();for(d=0;d<f.length;d++)e[d]=q.G.create(),g=q.fa.create(q.j(0,0,0,127),154,1),h=q.V.create(f[d].name,"Arial",15),h.t(q.o(0,0,0)),h.C(q.a(0,0)),h.n(q.a(4,4)),h.yb(q.size(126,0)),k=q.v.Pa(q.ja.f().na("GUI/use.png")),k.n(q.a(130,0)),k.C(q.a(0,0)),k.vb="Use",e[d].T(154,h.c().height+8),k.uc((h.c().height+8)/2-10),a.push([k]),m=q.fa.create(q.j(255,255,255,255),154,h.c().height+8),e[d].g(m),e[d].kc=m,e[d].g(g),e[d].g(h),e[d].g(k);p=this;this.i.itemList.Gc=function(){for(var a=
0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.i.itemList.zc=function(){return e.length};this.i.itemList.Mc=function(a){return e[a].c()};this.i.itemList.Lc=function(a){return e[a]};this.i.itemList.Eh=function(a){return e[a].kc};this.i.itemList.Rb=function(a,c){"Use"==a&&(this.ca.kc(c),p.qd=c)};this.i.itemList.ca=ListView.create(this.i.itemList);this.i.itemList.ca.Oc(a);this.i.itemList.g(this.i.itemList.ca);null!=c.item&&"undefined"!==c.item&&this.i.itemList.Rb("Use",c.item);this.ax=
new $(this.i.amountText,q.size(this.i.amountText.c().width,this.i.amountText.c().height),q.a(0,this.i.amountText.c().height),c.amount?c.amount:"0",q.j(255,255,255),q.o(0,0,0));this.ax.ob(!0);this.ax.Pc(!1);break;case "Modify Player Stats":case "Modify NPC Stats":e=[];a=[];f=ObjectLists.ok();for(d=0;d<f.length;d++)e[d]=q.G.create(),g=q.fa.create(q.j(0,0,0,127),154,1),h=q.V.create(f[d].name,"Arial",15),h.t(q.o(0,0,0)),h.C(q.a(0,0)),h.n(q.a(4,4)),h.yb(q.size(126,0)),k=q.v.Pa(q.ja.f().na("GUI/use.png")),
k.n(q.a(130,0)),k.C(q.a(0,0)),k.vb="Use",e[d].T(154,h.c().height+8),k.uc((h.c().height+8)/2-10),a.push([k]),m=q.fa.create(q.j(255,255,255,255),154,h.c().height+8),e[d].g(m),e[d].kc=m,e[d].g(g),e[d].g(h),e[d].g(k);p=this;this.i.skillList.Gc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.i.skillList.zc=function(){return e.length};this.i.skillList.Mc=function(a){return e[a].c()};this.i.skillList.Lc=function(a){return e[a]};this.i.skillList.Eh=function(a){return e[a].kc};
this.i.skillList.Rb=function(a,c){"Use"==a&&(this.ca.kc(c),p.Px=c)};this.i.skillList.ca=ListView.create(this.i.skillList);this.i.skillList.ca.Oc(a);this.i.skillList.g(this.i.skillList.ca);null!=c.skill&&"undefined"!==c.skill&&this.i.skillList.Rb("Use",c.skill);this.Sl=new $(this.i.levelText,q.size(this.i.levelText.c().width,this.i.levelText.c().height),q.a(0,this.i.levelText.c().height),c.level?c.level:"0",q.j(255,255,255),q.o(0,0,0));this.Sl.ob(!0);this.Sl.Pc(!1);this.Tl=new $(this.i.expText,q.size(this.i.expText.c().width,
this.i.expText.c().height),q.a(0,this.i.expText.c().height),c.xp?c.xp:"0",q.j(255,255,255),q.o(0,0,0));this.Tl.ob(!0);this.Tl.Pc(!1);this.Rl=new $(this.i.healthText,q.size(this.i.healthText.c().width,this.i.healthText.c().height),q.a(0,this.i.healthText.c().height),c.health?c.health:"0",q.j(255,255,255),q.o(0,0,0));this.Rl.ob(!0);this.Rl.Pc(!1);break;case "Is Panel Visibility":case "Open/Close Panel":e=[];a=[];f=["Inventory","Equipment","Skills","QuestLog","Bank"];for(d=0;d<f.length;d++)e[d]=q.G.create(),
g=q.fa.create(q.j(0,0,0,127),154,1),h=q.V.create(f[d],"Arial",15),h.t(q.o(0,0,0)),h.C(q.a(0,0)),h.n(q.a(4,4)),h.yb(q.size(126,0)),k=q.v.Pa(q.ja.f().na("GUI/use.png")),k.n(q.a(130,0)),k.C(q.a(0,0)),k.vb="Use",e[d].T(154,h.c().height+8),k.uc((h.c().height+8)/2-10),a.push([k]),m=q.fa.create(q.j(255,255,255,255),154,h.c().height+8),e[d].g(m),e[d].kc=m,e[d].g(g),e[d].g(h),e[d].g(k);p=this;this.i.panelList.Gc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.i.panelList.zc=
function(){return e.length};this.i.panelList.Mc=function(a){return e[a].c()};this.i.panelList.Lc=function(a){return e[a]};this.i.panelList.Eh=function(a){return e[a].kc};this.i.panelList.Rb=function(a,c){"Use"==a&&(this.ca.kc(c),p.VJ=c)};this.i.panelList.ca=ListView.create(this.i.panelList);this.i.panelList.ca.Oc(a);this.i.panelList.g(this.i.panelList.ca);null!=c.panel&&"undefined"!==c.panel&&this.i.panelList.Rb("Use",c.panel);this.Vn=1==c.visible?1:0;1==this.Vn&&(this.i.visibleButton.t(q.j(0,255,
0,255)),this.i.visibleButton.content.pa("Visible"));break;case "Is Event Fired By":e=[];a=[];f=["Player","NPC"];for(d=0;d<f.length;d++)e[d]=q.G.create(),g=q.fa.create(q.j(0,0,0,127),154,1),h=q.V.create(f[d],"Arial",15),h.t(q.o(0,0,0)),h.C(q.a(0,0)),h.n(q.a(4,4)),h.yb(q.size(126,0)),k=q.v.Pa(q.ja.f().na("GUI/use.png")),k.n(q.a(130,0)),k.C(q.a(0,0)),k.vb="Use",e[d].T(154,h.c().height+8),k.uc((h.c().height+8)/2-10),a.push([k]),m=q.fa.create(q.j(255,255,255,255),154,h.c().height+8),e[d].g(m),e[d].kc=
m,e[d].g(g),e[d].g(h),e[d].g(k);p=this;this.i.objectList.Gc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.i.objectList.zc=function(){return e.length};this.i.objectList.Mc=function(a){return e[a].c()};this.i.objectList.Lc=function(a){return e[a]};this.i.objectList.Eh=function(a){return e[a].kc};this.i.objectList.Rb=function(a,c){"Use"==a&&(this.ca.kc(c),p.KJ=c)};this.i.objectList.ca=ListView.create(this.i.objectList);this.i.objectList.ca.Oc(a);this.i.objectList.g(this.i.objectList.ca);
null!=c.object&&"undefined"!==c.object&&this.i.objectList.Rb("Use",c.object);break;case "Is NPC Actioning":e=[];a=[];f=["Attacking","Defending","Fleeing"];for(d=0;d<f.length;d++)e[d]=q.G.create(),g=q.fa.create(q.j(0,0,0,127),154,1),h=q.V.create(f[d],"Arial",15),h.t(q.o(0,0,0)),h.C(q.a(0,0)),h.n(q.a(4,4)),h.yb(q.size(126,0)),k=q.v.Pa(q.ja.f().na("GUI/use.png")),k.n(q.a(130,0)),k.C(q.a(0,0)),k.vb="Use",e[d].T(154,h.c().height+8),k.uc((h.c().height+8)/2-10),a.push([k]),m=q.fa.create(q.j(255,255,255,
255),154,h.c().height+8),e[d].g(m),e[d].kc=m,e[d].g(g),e[d].g(h),e[d].g(k);p=this;this.i.actionList.Gc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.i.actionList.zc=function(){return e.length};this.i.actionList.Mc=function(a){return e[a].c()};this.i.actionList.Lc=function(a){return e[a]};this.i.actionList.Eh=function(a){return e[a].kc};this.i.actionList.Rb=function(a,c){"Use"==a&&(this.ca.kc(c),p.tH=c)};this.i.actionList.ca=ListView.create(this.i.actionList);
this.i.actionList.ca.Oc(a);this.i.actionList.g(this.i.actionList.ca);null!=c.action&&"undefined"!==c.action&&this.i.actionList.Rb("Use",c.action);break;case "Is Player Inventory Space":this.$w=new $(this.i.spaceText,q.size(this.i.spaceText.c().width,this.i.spaceText.c().height),q.a(0,this.i.spaceText.c().height),null!=c.space&&"undefined"!==c.space?c.space:"0",q.j(255,255,255),q.o(0,0,0));this.$w.ob(!0);this.$w.Pc(!1);break;case "Wait":this.Xx=new $(this.i.timeText,q.size(this.i.timeText.c().width,
this.i.timeText.c().height),q.a(0,this.i.timeText.c().height),null!=c.time&&"undefined"!==c.time?c.time:"0",q.j(255,255,255),q.o(0,0,0));this.Xx.ob(!0);this.Xx.Pc(!1);break;case "Repeat Responses":this.i.amountNote.yb(q.size(180,0));this.yD=new $(this.i.amountText,q.size(this.i.amountText.c().width,this.i.amountText.c().height),q.a(0,this.i.amountText.c().height),null!=c.amount&&"undefined"!==c.amount?c.amount:"1",q.j(255,255,255),q.o(0,0,0));this.yD.ob(!0);this.yD.Pc(!1);break;case "Is Player Statistics":case "Is NPC Statistics":e=
[];a=[];f=ObjectLists.ok();for(d=0;d<f.length;d++)e[d]=q.G.create(),g=q.fa.create(q.j(0,0,0,127),154,1),h=q.V.create(f[d].name,"Arial",15),h.t(q.o(0,0,0)),h.C(q.a(0,0)),h.n(q.a(4,4)),h.yb(q.size(126,0)),k=q.v.Pa(q.ja.f().na("GUI/use.png")),k.n(q.a(130,0)),k.C(q.a(0,0)),k.vb="Use",e[d].T(154,h.c().height+8),k.uc((h.c().height+8)/2-10),a.push([k]),m=q.fa.create(q.j(255,255,255,255),154,h.c().height+8),e[d].g(m),e[d].kc=m,e[d].g(g),e[d].g(h),e[d].g(k);p=this;this.i.skillList.Gc=function(){for(var a=
0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.i.skillList.zc=function(){return e.length};this.i.skillList.Mc=function(a){return e[a].c()};this.i.skillList.Lc=function(a){return e[a]};this.i.skillList.Eh=function(a){return e[a].kc};this.i.skillList.Rb=function(a,c){"Use"==a&&(this.ca.kc(c),p.Px=c)};this.i.skillList.ca=ListView.create(this.i.skillList);this.i.skillList.ca.Oc(a);this.i.skillList.g(this.i.skillList.ca);null!=c.skill&&"undefined"!==c.skill&&this.i.skillList.Rb("Use",
c.skill);this.Sl=new $(this.i.levelTextLower,q.size(this.i.levelTextLower.c().width,this.i.levelTextLower.c().height),q.a(0,this.i.levelTextLower.c().height),null!=c.levelLower&&"undefined"!==c.levelLower&&""!=c.levelLower?c.levelLower:"0",q.j(255,255,255),q.o(0,0,0));this.Sl.ob(!0);this.Sl.Pc(!1);this.Tl=new $(this.i.expTextLower,q.size(this.i.expTextLower.c().width,this.i.expTextLower.c().height),q.a(0,this.i.expTextLower.c().height),null!=c.xpLower&&"undefined"!==c.xpLower&&""!=c.xpLower?c.xpLower:
"0",q.j(255,255,255),q.o(0,0,0));this.Tl.ob(!0);this.Tl.Pc(!1);this.Rl=new $(this.i.healthTextLower,q.size(this.i.healthTextLower.c().width,this.i.healthTextLower.c().height),q.a(0,this.i.healthTextLower.c().height),null!=c.healthLower&&"undefined"!==c.healthLower&&""!=c.healthLower?c.healthLower:"0",q.j(255,255,255),q.o(0,0,0));this.Rl.ob(!0);this.Rl.Pc(!1);this.Rx=new $(this.i.levelTextUpper,q.size(this.i.levelTextUpper.c().width,this.i.levelTextUpper.c().height),q.a(0,this.i.levelTextUpper.c().height),
null!=c.levelUpper&&"undefined"!==c.levelUpper&&""!=c.levelUpper?c.levelUpper:"0",q.j(255,255,255),q.o(0,0,0));this.Rx.ob(!0);this.Rx.Pc(!1);this.Sx=new $(this.i.expTextUpper,q.size(this.i.expTextUpper.c().width,this.i.expTextUpper.c().height),q.a(0,this.i.expTextUpper.c().height),null!=c.xpUpper&&"undefined"!==c.xpUpper&&""!=c.xpUpper?c.xpUpper:"0",q.j(255,255,255),q.o(0,0,0));this.Sx.ob(!0);this.Sx.Pc(!1);this.Qx=new $(this.i.healthTextUpper,q.size(this.i.healthTextUpper.c().width,this.i.healthTextUpper.c().height),
q.a(0,this.i.healthTextUpper.c().height),null!=c.healthUpper&&"undefined"!==c.healthUpper&&""!=c.healthUpper?c.healthUpper:"0",q.j(255,255,255),q.o(0,0,0));this.Qx.ob(!0);this.Qx.Pc(!1);break;case "Equip Item":null!=c.equip&&"undefined"!==c.equip?(this.Kc="head",this.uk(c.equip)):this.uk("head")}},Sw:function(){this.b.subEditorOver.D(!1);this.b.mainEditorOver.D(!0);this.Qn=null;this.i.O();this.i=null},uk:function(a){this.i.headButton.t(q.j(255,255,255,255));this.i.bodyButton.t(q.j(255,255,255,255));
this.i.legButton.t(q.j(255,255,255,255));this.i.feetButton.t(q.j(255,255,255,255));this.i.lArmButton.t(q.j(255,255,255,255));this.i.rArmButton.t(q.j(255,255,255,255));this.i.modButton.t(q.j(255,255,255,255));switch(a){case "head":this.Kc=a;this.i.headButton.t(q.j(255,0,0,255));return;case "body":this.Kc=a;this.i.bodyButton.t(q.j(255,0,0,255));return;case "legs":this.Kc=a;this.i.legButton.t(q.j(255,0,0,255));return;case "feet":this.Kc=a;this.i.feetButton.t(q.j(255,0,0,255));return;case "mod":this.Kc=
a;this.i.modButton.t(q.j(255,0,0,255));return;case "bothArms":this.Kc=a;this.i.lArmButton.t(q.j(255,0,0,255));this.i.rArmButton.t(q.j(255,0,0,255));return}"bothArms"!=this.Kc&&"lArm"!=this.Kc&&"rArm"!=this.Kc&&"lArm"==a?(this.i.lArmButton.t(q.j(255,0,0,255)),this.Kc="lArm"):"bothArms"!=this.Kc&&"lArm"!=this.Kc&&"rArm"!=this.Kc&&"rArm"==a?(this.i.rArmButton.t(q.j(255,0,0,255)),this.Kc="rArm"):"rArm"==this.Kc&&"lArm"==a?(this.i.lArmButton.t(q.j(255,0,0,255)),this.i.rArmButton.t(q.j(255,0,0,255)),this.Kc=
"bothArms"):"lArm"==this.Kc&&"rArm"==a?(this.i.lArmButton.t(q.j(255,0,0,255)),this.i.rArmButton.t(q.j(255,0,0,255)),this.Kc="bothArms"):"bothArms"==this.Kc&&"rArm"==a?(this.i.lArmButton.t(q.j(255,0,0,255)),this.Kc="lArm"):"bothArms"==this.Kc&&"lArm"==a&&(this.i.rArmButton.t(q.j(255,0,0,255)),this.Kc="rArm")},wb:function(a){if(this._super(a))return!0;a=q.a(a.R.x,a.R.y);if(this.ng){var c=this.ng.Ka(a);if(H(this.ng.okbtn,c)){switch(this.Qn){case "Talk":this.data.data[this.la.event][this.la.listtype][this.la.id].data.options[this.jE]=
this.iE.ba(),this.data.data[this.la.event][this.la.listtype][this.la.id].data.say=this.$c.ba()}this.ng.O();this.jE=this.ng=null;this.ht();return}if(H(this.ng.cancelbtn,c)){this.ng.O();this.jE=this.ng=null;this.ht();return}}if(this.i)if(c=this.i.Ka(a),H(this.i.okbtn,c)){switch(this.Qn){case "Warp Player":a=V.ij(this.hy.ba());this.data.data[this.la.event][this.la.listtype][this.la.id].data={mapnum:parseInt(this.hy.ba()),index:Q(parseInt(this.uE.ba()),a.width-parseInt(this.vE.ba()))};break;case "Show Sign":this.data.data[this.la.event][this.la.listtype][this.la.id].data=
{content:this.$c.ba(),title:this.cE.ba()};break;case "Read Item":this.data.data[this.la.event][this.la.listtype][this.la.id].data={say:this.$c.ba()};break;case "Script Response":case "Script Requirement":this.data.data[this.la.event][this.la.listtype][this.la.id].data.functionContent=this.$c.ba();break;case "Talk":this.data.data[this.la.event][this.la.listtype][this.la.id].data.say=this.$c.ba();break;case "Is Quest Point":case "Set Quest Point":this.data.data[this.la.event][this.la.listtype][this.la.id].data=
{quest:this.$J,objective:this.MJ};break;case "Spawn NPC":this.data.data[this.la.event][this.la.listtype][this.la.id].data={npc:this.qd};break;case "Give /Take Item":case "Has Player Item":case "Spawn Item":this.data.data[this.la.event][this.la.listtype][this.la.id].data={item:this.qd,amount:parseInt(this.ax.ba())};break;case "Modify Player Stats":case "Modify NPC Stats":this.data.data[this.la.event][this.la.listtype][this.la.id].data={skill:this.Px,level:parseInt(this.Sl.ba()),xp:parseInt(this.Tl.ba()),
health:parseInt(this.Rl.ba())};break;case "Is Panel Visibility":case "Open/Close Panel":this.data.data[this.la.event][this.la.listtype][this.la.id].data={panel:this.VJ,visible:this.Vn};break;case "Is Event Fired By":this.data.data[this.la.event][this.la.listtype][this.la.id].data={object:this.KJ};break;case "Is NPC Actioning":this.data.data[this.la.event][this.la.listtype][this.la.id].data={action:this.tH};break;case "Is Player Inventory Space":this.data.data[this.la.event][this.la.listtype][this.la.id].data=
{space:parseInt(this.$w.ba())};break;case "Wait":this.data.data[this.la.event][this.la.listtype][this.la.id].data={time:parseInt(this.Xx.ba())};break;case "Repeat Responses":this.data.data[this.la.event][this.la.listtype][this.la.id].data={amount:parseInt(this.yD.ba())};break;case "Is Player Statistics":case "Is NPC Statistics":this.data.data[this.la.event][this.la.listtype][this.la.id].data={skill:this.Px,levelLower:parseInt(this.Sl.ba()),xpLower:parseInt(this.Tl.ba()),healthLower:parseInt(this.Rl.ba()),
levelUpper:parseInt(this.Rx.ba()),xpUpper:parseInt(this.Sx.ba()),healthUpper:parseInt(this.Qx.ba())};break;case "Equip Item":this.data.data[this.la.event][this.la.listtype][this.la.id].data={equip:this.Kc}}this.Sw()}else this.i.headButton&&H(this.i.headButton,c)?this.uk("head"):this.i.bodyButton&&H(this.i.bodyButton,c)?this.uk("body"):this.i.legButton&&H(this.i.legButton,c)?this.uk("legs"):this.i.feetButton&&H(this.i.feetButton,c)?this.uk("feet"):this.i.lArmButton&&H(this.i.lArmButton,c)?this.uk("lArm"):
this.i.rArmButton&&H(this.i.rArmButton,c)?this.uk("rArm"):this.i.modButton&&H(this.i.modButton,c)?this.uk("mod"):this.i.visibleButton&&H(this.i.visibleButton,c)?(this.Vn=0==this.Vn?1:0,this.i.visibleButton.t(0==this.Vn?q.j(255,0,0,255):q.j(0,255,0,255)),this.i.visibleButton.content.pa(0==this.Vn?"Invisible":"Visible")):H(this.i.cancelbtn,c)&&(this.data.data[this.la.event][this.la.listtype][this.la.id].data=J(this.hV),this.Sw());else if(c=this.b.main_panel.Ka(a),H(this.b.main_panel.okbtn,c))this.b.main_panel.abbrEntry&&
(null==this.yw.ba()||""==this.yw.ba())||null==this.nb.ba()||""==this.nb.ba()||(this.data.name=this.nb.ba(),this.b.main_panel.abbrEntry&&(this.data.abbr=this.yw.ba()),this.Pg=!0,this.l.Nd(this.data));else if(H(this.b.main_panel.cancelbtn,c)){this.Pg=!0;var d=this.l;this.l.Rd(function(){d.Nd(null)})}else H(this.b.main_panel,c)}});Itemeditor=null;
ItemEditor=Popup.extend({Pb:v[0].name,Z:0,On:function(a,c){Scripteditor&&(Scripteditor.Ia(),Scripteditor.O(),this.Mh=a,this.fc(!0),this.b.main_panel.scriptbtn.text.pa(c.name),this.b.main_panel.scriptbtn.t(q.j(0,255,0,255)))},at:function(){this.b.main_panel.scriptbtn.text.pa("None");this.b.main_panel.scriptbtn.t(q.j(255,0,0,255))},oc:function(){return{panels:{position:q.a(300,10),children:{background:{$:"GUI/itemeditor_bg.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(500,330),
children:{namelbl:{label:"Name:",fontSize:20,e:q.a(0,0),position:q.a(4,292),color:q.o(0,0,0)},name_entry:{position:q.a(74,292),size:q.size(266,32),color:q.j(255,255,255,255)},tiles:{e:q.a(0,1),position:q.a(16,272),$:v[0].name},textureleftbtn:{position:q.a(362,292),size:q.size(16,32),$:"GUI/texture_change_left.png",e:q.a(0,0)},texturerightbtn:{position:q.a(471,292),size:q.size(16,32),$:"GUI/texture_change_right.png",e:q.a(0,0)},textureName:{position:q.a(375,292),size:q.size(96,32),$:"GUI/texture_change_middle.png",
e:q.a(0,0),children:{text:{label:v[0].name,fontSize:12,e:q.a(0.5,0.5),position:q.a(48,16),color:q.o(0,0,0)}}},leftbtn:{position:q.a(0,16),size:q.size(16,256),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"\x3c",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,160),color:q.o(255,255,255)}}},rightbtn:{position:q.a(336,16),size:q.size(16,256),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"\x3e",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,160),color:q.o(255,255,255)}}},upbtn:{position:q.a(16,
272),size:q.size(320,16),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"^",fontSize:12,e:q.a(0.5,0.5),position:q.a(160,8),color:q.o(255,255,255)}}},downbtn:{position:q.a(16,0),size:q.size(320,16),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"v",fontSize:12,e:q.a(0.5,0.5),position:q.a(160,8),color:q.o(255,255,255)}}},stacklbl:{label:"Stackable:",fontSize:12,e:q.a(0,0),position:q.a(360,206),color:q.o(0,0,0)},stackbtn:{position:q.a(360,176),size:q.size(128,26),color:C,e:q.a(0,0),
children:{text:{label:"No",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.o(0,0,0)}}},scriptlbl:{label:"Script:",fontSize:12,e:q.a(0,0),position:q.a(360,262),color:q.o(0,0,0)},scriptbtn:{position:q.a(360,232),size:q.size(128,26),color:C,e:q.a(0,0),children:{text:{label:"None",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.o(0,0,0)}}},highlightnode:{e:q.a(0,0),position:q.a(0,0),size:q.size(32,32),color:q.j(255,100,100,255)},selectednode:{e:q.a(0,0),position:q.a(0,0),size:q.size(32,
32),color:q.j(100,255,100,255)},okbtn:{position:q.a(434,16),size:q.size(32,32),$:"GUI/tick_icon.png",e:q.a(0,0)},cancelbtn:{position:q.a(384,16),size:q.size(32,32),$:"GUI/cross_icon.png",e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,330),size:q.size(500,32),children:{header:{label:"Item Editor",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(476,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},Ec:function(){return"itemEditor"},nb:null,l:null,data:null,Mh:null,
w:function(a){this._super();this.data={sprite:{texture:v[0].name,position:{x:0,y:0}},script:null,stackable:!1,name:""};this.Pb=v[0].name;this.Z=0;this.Mh=this.l=this.nb=null;this.S=q.a(0,0);this.l=a.l;a&&a.data&&(this.data=a.data,this.data.script&&(this.Mh=this.data.script))},sj:function(a){y({saveitems:a+"",itemdata:this.data})},ej:function(a,c){y({saveitemswhole:c})},sa:function(){this._super();this.b.main_panel.highlightnode.ta(0);this.b.main_panel.selectednode.ta(127);for(var a in v)v[a].name==
this.data.sprite.texture&&(this.Z=a,this.Pb=v[a].name);this.b.main_panel.textureName.text.pa(this.Pb);this.b.main_panel.tiles.ka(v[this.Z].texture);null!=this.data.script&&(this.b.main_panel.scriptbtn.t(q.j(0,255,0,255)),this.b.main_panel.scriptbtn.text.pa(ObjectLists.Ge()[this.data.script].name),this.Mh=this.data.script);for(a=this.data.sprite.position.x;10<=a;)a--,this.S.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.S.y++;a=q.a(32*(this.data.sprite.position.x-this.S.x),32*(this.data.sprite.position.y-
this.S.y));this.b.main_panel.selectednode.n(this.b.main_panel.tiles.u.x+a.x,this.b.main_panel.tiles.u.y-(a.y+32));this.nb=new $(this.b.main_panel.name_entry,q.size(this.b.main_panel.name_entry.c().width,this.b.main_panel.name_entry.c().height),q.a(0,this.b.main_panel.name_entry.c().height),this.data.name?this.data.name:"",q.j(255,255,255),q.o(0,0,0));this.nb.ob(!0);this.b.main_panel.stackbtn.t(C);this.b.main_panel.stackbtn.text.pa("No");!0==this.data.stackable&&(this.b.main_panel.stackbtn.t(wa),this.b.main_panel.stackbtn.text.pa("Yes"));
this.zb()},Ia:function(a){this._super();if(this.l){var c=this.l;!0!=a&&this.l.Rd(function(){c.Nd(null)})}},yi:function(a){a=a.R;this.b.main_panel.highlightnode.ta(0);a=this.b.main_panel.tiles.Ka(a);if(0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tiles.c().width&&a.y<=this.b.main_panel.tiles.c().height)return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+16,this.b.main_panel.highlightnode.ta(127),this.b.main_panel.highlightnode.n(a),!0},zb:function(){this.ec(this.zb);this.b.main_panel.tiles.ia()&&!0==this.b.main_panel.tiles.ia().Ic&&
(this.Rc(this.zb),this.b.main_panel.tiles.fb(q.rect(Math.floor(32*this.S.x),Math.floor(32*this.S.y),320>v[this.Z].texture.c().width?v[this.Z].texture.c().width:320,256>v[this.Z].texture.c().height?v[this.Z].texture.c().height:256)))},wb:function(a){if(this._super(a))return!0;this.fe=null;a=a.R;var c=this.b.main_panel.Ka(q.a(a.x,a.y));if(H(this.b.main_panel.okbtn,c)){if(null==this.nb.ba()||""==this.nb.ba())return!0;this.Pg=!0;this.data.name=this.nb.ba();this.data.script=this.Mh;this.l.Nd(this.data);
return!0}H(this.b.main_panel.scriptbtn,c)&&(Scripteditor?(Scripteditor.Ia(),Scripteditor.O(),Scripteditor=null):(Scripteditor=new PopupList,Scripteditor.w({l:this,gj:new ScriptEditor,list:ObjectLists.Ge(),name:"Script List"}),Scripteditor.sa(),this.g(Scripteditor)));if(H(this.b.main_panel.cancelbtn,c)){this.Pg=!0;var d=this.l;this.l.Rd(function(){d.Nd(null)});return!0}if(H(this.b.main_panel.leftbtn,c))return 264<v[this.Z].texture.c().width&&0<this.S.x&&(this.S.x--,this.zb()),!0;if(H(this.b.main_panel.rightbtn,
c))return 320<v[this.Z].texture.c().width&&this.S.x<(v[this.Z].texture.c().width-320)/32&&(this.S.x++,this.zb()),!0;if(H(this.b.main_panel.upbtn,c))return 320<v[this.Z].texture.c().height&&0<this.S.y&&(this.S.y--,this.zb()),!0;if(H(this.b.main_panel.downbtn,c))return 320<v[this.Z].texture.c().height&&this.S.y<(v[this.Z].texture.c().height-320)/32&&(this.S.y++,this.zb()),!0;if(H(this.b.main_panel.texturerightbtn,c))return this.Tn(),!0;if(H(this.b.main_panel.textureleftbtn,c))return this.Un(),!0;if(H(this.b.main_panel.stackbtn,
c))return this.kE(),!0;c=this.b.main_panel.tiles.Ka(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tiles.c().width&&c.y<=this.b.main_panel.tiles.c().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+16;this.b.main_panel.selectednode.ta(0);if(this.b.main_panel.selectednode.u.H!=c.x||this.b.main_panel.selectednode.u.Q!=c.y)this.b.main_panel.selectednode.ta(127),this.b.main_panel.selectednode.n(c);a=q.a((this.b.main_panel.selectednode.u.H-16)/32+this.S.x,8-(this.b.main_panel.selectednode.u.Q-16)/32+this.S.y-1);
this.data.sprite.position=a;return!0}return!1},kE:function(){this.data.stackable=!this.data.stackable;this.b.main_panel.stackbtn.t(C);this.b.main_panel.stackbtn.text.pa("No");!0==this.data.stackable&&(this.b.main_panel.stackbtn.t(wa),this.b.main_panel.stackbtn.text.pa("Yes"))},Tn:function(){this.Z>=v.length-1&&(this.Z=-1);this.Z++;this.b.main_panel.tiles.ka(v[this.Z].texture);this.Pb=v[this.Z].name;this.b.main_panel.textureName.text.pa(this.Pb);this.data.sprite.texture=this.Pb;this.S=q.a(0,0);this.zb()},
Un:function(){0>=this.Z&&(this.Z=v.length);this.Z--;this.b.main_panel.tiles.ka(v[this.Z].texture);this.Pb=v[this.Z].name;this.b.main_panel.textureName.text.pa(this.Pb);this.S=q.a(0,0);this.zb()}});Settingseditor=null;
SettingsEditor=Popup.extend({data:null,J:null,ab:null,Ec:function(){return"Settings Editor"},Ia:function(){this._super()},w:function(){this._super();this.data=J(G)},sj:function(a){y({savequests:a+"",questdata:this.data})},ej:function(a,c){y({savequestswhole:c})},sa:function(){this._super();this.xb()},xb:function(){this.J&&this.J.lc();var a=[],c=[],d=q.ja.f(),e=0,f;for(f in this.data){if("ISSECTION"!=this.data[f]){a[e]=q.G.create();a[e].T(324,32);var g=q.V.create(f,"Arial",18);g.C(q.a(0,0));g.n(q.a(4,
0));g.yb(q.size(246,0));g.t(q.o(100,0,0));a[e].g(g);a[e].T(324,g.c().height+4);g=[];c.push(g);e++}a[e]=q.G.create();a[e].T(324,32);var h=q.fa.create(q.j(0,0,0,127),316,1);h.n(q.a(4,0));if("ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]){var k=q.v.Pa(d.na("GUI/edit.png"));k.n(q.a(300,0));k.C(q.a(0,0))}if("ISSECTION"==this.data[f]){var l=q.V.create(f,"Arial",22);l.t(q.o(255,0,0))}else l=q.V.create(this.data[f],"Arial",15),l.t(q.o(0,0,0));l.C(q.a(0,0));l.n(q.a(4,4));l.yb(q.size(246,0));g=[];"ISSECTION"!=
this.data[f]&&"ISYESNO"!=this.data[f]&&(k.vb="Edit",g=[],g.push(k));c.push(g);a[e].g(h);"ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]&&a[e].g(k);a[e].g(l);"ISSECTION"==this.data[f]?a[e].T(324,l.c().height+12):a[e].T(324,l.c().height+8);"ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]&&k.uc((l.c().height+8)/2-10);e++}this.J=this.b.main_panel.list;var m=this;this.J.Gc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(324,c)};this.J.zc=function(){return a.length};this.J.Mc=
function(c){return a[c].c()};this.J.Lc=function(c){return a[c]};this.J.Rb=function(a,c,d){m.Ka(d.R);if(!0!=m.Lf)switch(a){case "Edit":a=0;d="";for(var e in m.data){if(a==c){d=e;break}a++;if("ISSECTION"!=m.data[e]){if(a==c){d=e;break}a++}}m.ab=d;m.lC(d)}};this.J.ca=ListView.create(this.J);this.J.ca.Oc(c);this.J.g(this.J.ca)},oc:function(){return{panels:{position:q.a(300,200),children:{background_image:{$:"GUI/list_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(365,328),children:{savebtn:{size:q.size(64,
32),color:q.j(0,255,0,255),position:q.a(241,292),e:q.a(0,0),children:{content:{label:"Save",color:q.o(0,0,0),position:q.a(32,16),e:q.a(0.5,0.5)}}},list:{size:q.size(324,284),color:q.j(0,200,200,200),position:q.a(0,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Settings Editor",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},jf:null,Ea:null,lC:function(a){null!=
this.Ea&&(this.Ea.lc(),this.jf=null,this.Ea.O(),this.ab=this.Ea=null);this.Ea=q.fa.create(q.j(255,255,255,200),200,200);this.Ea.n(q.a((this.b.main_panel.c().width-200)/2,(this.b.main_panel.c().height-200)/2));this.jf=new $(this.Ea,q.size(190,150),q.a(0,this.Ea.c().height),this.data[a],q.j(100,100,100),q.o(255,255,255),!0);this.jf.ob(!0);this.jf.AK(!0);a=q.fa.create(q.j(0,200,255,255),64,32);a.n(q.a(14,9));var c=q.V.create("OK","Arial",16);c.t(q.o(0,0,0));c.n(32,16);c.C(q.a(0.5,0.5));a.g(c);c=q.fa.create(q.j(200,
0,0,255),64,32);c.n(q.a(120,9));var d=q.V.create("Cancel","Arial",16);d.t(q.o(0,0,0));d.n(32,16);d.C(q.a(0.5,0.5));c.g(d);this.b.main_panel.g(this.Ea);this.Ea.g(a);this.Ea.eD=a;this.Ea.g(c);this.Ea.cancel=c},wb:function(a){if(this._super(a))return!0;this.fe=null;a=a.R;if(null!=this.Ea){a=this.Ea.Ka(a);if(H(this.Ea.eD,a))return this.data[this.ab]=this.jf.ba(),this.Ea.lc(),this.jf=null,this.Ea.O(),this.ab=this.Ea=null,this.xb(),!0;H(this.Ea.cancel,a)&&(this.Ea.lc(),this.jf=null,this.Ea.O(),this.ab=
this.Ea=null);return!0}a=this.b.main_panel.Ka(a);return H(this.b.main_panel.savebtn,a)?(G=J(this.data),console.log(G),console.log(this.data),y({savesettings:this.data}),W.pE(this.data,Date.now()),!0):H(this.b.main_panel,a)?!0:!1}});Questeditor=null;
QuestEditor=Popup.extend({data:null,J:null,l:null,ab:null,Ec:function(){return"Quest Editor"},Ia:function(a){this._super();if(this.l){var c=this.l;!0!=a&&this.l.Rd(function(){c.Nd(null)})}},w:function(a){this._super();this.data={name:"",objectiveList:["Unstarted","Initial Objective. Click edit to change this first objective. Click the '+' to add another object. You cannot delete every objective (you need at least one)","Finished"]};this.l=a.l;a&&a.data&&(this.data=a.data)},sj:function(a){y({savequests:a+"",
questdata:this.data})},ej:function(a,c){y({savequestswhole:c})},sa:function(){this._super();this.xb();this.nb=new $(this.b.main_panel.nameBox,q.size(this.b.main_panel.nameBox.c().width,this.b.main_panel.nameBox.c().height),q.a(0,this.b.main_panel.nameBox.c().height),this.data.name?this.data.name:"",q.j(255,255,255,255),q.o(0,0,0));this.nb.ob(!0)},xb:function(){this.J&&this.J.lc();var a=[],c=[],d=q.ja.f();this.TH={};var e;console.log(this.data.objectiveList);for(e=0;e<this.data.objectiveList.length-
1;e++)if(a[e]=q.G.create(),a[e].T(324,32),null==this.data.objectiveList[e])this.data.objectiveList.splice(e,1);else{var f=q.v.create();f.fb(q.rect(0,0,316,1));f.t(q.j(0,0,0,127));f.C(q.a(0,0));f.n(q.a(4,0));var g=q.v.Pa(d.na("GUI/edit.png"));g.n(q.a(272,0));g.C(q.a(0,0));var h=q.v.Pa(d.na("GUI/trash.png"));h.n(q.a(300,0));h.C(q.a(0,0));var k=q.V.create(this.data.objectiveList[e],"Arial",15);k.C(q.a(0,0));k.n(q.a(4,4));k.yb(q.size(246,0));k.t(q.o(0,0,0));if(0<e){g.vb="Edit";var l=[];l.push(g)}1<e&&
(h.vb="Delete",l.push(h));c.push(l);a[e].g(f);0<e&&a[e].g(g);1<e&&a[e].g(h);a[e].g(k);a[e].T(324,k.c().height+8);g.uc((k.c().height+8)/2-10);h.uc((k.c().height+8)/2-10)}d=q.v.create();d.fb(q.rect(0,0,90,26));d.t(q.j(70,200,70,255));d.C(q.a(0,0));f=q.V.create("+","Arial",20);f.n(45,13);f.C(q.a(0.5,0.5));d.n(q.a(120,0));d.vb="Add";d.g(f);c.push([d]);a.push(d);a[e+1]=q.G.create();a[e+1].T(324,32);f=q.v.create();f.fb(q.rect(0,0,316,1));f.t(q.j(0,0,0,127));f.C(q.a(0,0));f.n(q.a(4,0));k=q.V.create(this.data.objectiveList[e],
"Arial",15);k.C(q.a(0,0));k.n(q.a(4,4));k.yb(q.size(246,0));k.t(q.o(0,0,0));c.push([]);a[e+1].g(f);a[e+1].g(k);a[e+1].T(324,k.c().height+8);g.uc((k.c().height+8)/2-10);h.uc((k.c().height+8)/2-10);delete e;this.J=this.b.main_panel.list;var m=this;this.J.Gc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(324,c)};this.J.zc=function(){return a.length};this.J.Mc=function(c){return a[c].c()};this.J.Lc=function(c){return a[c]};this.J.Rb=function(a,c,d){m.Ka(d.R);if(!0!=m.Lf)switch(a){case "Delete":null!=
m.Ea&&(m.Ea.lc(),m.jf=null,m.Ea.O(),m.Ea=null,m.ab=null);m.ea.g(DropDownList.md(m,m.ys,["Cancel","Delete"],d.R));m.ab=c;break;case "Edit":m.ab=c;m.lC(c);break;case "Add":m.PQ()}};this.J.ca=ListView.create(this.J);this.J.ca.Oc(c);this.J.g(this.J.ca)},oc:function(){return{panels:{position:q.a(300,200),children:{background_image:{$:"GUI/list_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(365,328),children:{nameLabel:{label:"Quest Name",color:q.o(0,0,0),position:q.a(8,312),e:q.a(0,0)},nameBox:{size:q.size(150,
32),color:q.j(255,255,255,255),position:q.a(8,277),e:q.a(0,0)},savebtn:{size:q.size(64,32),color:q.j(0,255,0,255),position:q.a(175,277),e:q.a(0,0),children:{content:{label:"Save",color:q.o(0,0,0),position:q.a(32,16),e:q.a(0.5,0.5)}}},exitbtn:{size:q.size(64,32),color:q.j(255,0,0,255),position:q.a(253,277),e:q.a(0,0),children:{content:{label:"Exit",color:q.o(0,0,0),position:q.a(32,16),e:q.a(0.5,0.5)}}},objectivesLabel:{label:"Objectives",color:q.o(0,0,0),position:q.a(8,254),e:q.a(0,0)},list:{size:q.size(324,
250),color:q.j(0,200,200,200),position:q.a(0,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Quest Editor",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},ys:function(a){switch(a){case 1:this.l.ab&&(this.l.data.objectiveList.splice(this.l.ab,1),this.l.xb(),this.l.ab=null)}},PQ:function(){this.data.objectiveList.splice(this.data.objectiveList.length-1,0,"Blank Objective");
this.xb()},jf:null,Ea:null,lC:function(a){null!=this.Ea&&(this.Ea.lc(),this.jf=null,this.Ea.O(),this.ab=this.Ea=null);this.Ea=q.v.create();this.Ea.fb(q.rect(0,0,200,200));this.Ea.t(q.j(255,255,255,200));this.Ea.C(q.a(0,0));this.Ea.n(q.a((this.b.main_panel.c().width-200)/2,(this.b.main_panel.c().height-200)/2));this.jf=new $(this.Ea,q.size(190,150),q.a(0,this.Ea.c().height),this.data.objectiveList[a],q.j(100,100,100),q.o(255,255,255),!0);this.jf.ob(!0);this.jf.AK(!0);a=q.fa.create(q.j(0,200,255,255),
64,32);a.n(q.a(14,9));var c=q.V.create("OK","Arial",16);c.t(q.o(0,0,0));c.n(32,16);c.C(q.a(0.5,0.5));a.g(c);c=q.fa.create(q.j(200,0,0,255),64,32);c.n(q.a(120,9));var d=q.V.create("Cancel","Arial",16);d.t(q.o(0,0,0));d.n(32,16);d.C(q.a(0.5,0.5));c.g(d);this.b.main_panel.g(this.Ea);this.Ea.g(a);this.Ea.eD=a;this.Ea.g(c);this.Ea.cancel=c},wb:function(a){if(this._super(a))return!0;a=q.a(a.R.x,a.R.y);if(null!=this.Ea){a=this.Ea.Ka(a);if(H(this.Ea.eD,a))return this.data.objectiveList[this.ab]=this.jf.ba(),
this.Ea.lc(),this.jf=null,this.Ea.O(),this.ab=this.Ea=null,this.xb(),!0;H(this.Ea.cancel,a)&&(this.Ea.lc(),this.jf=null,this.Ea.O(),this.ab=this.Ea=null);return!0}a=this.b.main_panel.Ka(a);if(H(this.b.main_panel.savebtn,a)){if(null==this.nb.ba()||""==this.nb.ba())return!0;this.Pg=!0;this.data.name=this.nb.ba();this.l.Nd(this.data);return!0}if(H(this.b.main_panel.exitbtn,a)){this.Pg=!0;var c=this.l;this.l.Rd(function(){c.Nd(null)});return!0}return H(this.b.main_panel,a)?!0:!1}});Mapeditor=null;
MapEditor=Popup.extend({map:null,S:q.a(0,0),fj:"tiles",xJ:null,Iw:"ground1",Pb:v[0].name,Z:0,oc:function(){return{panels:{position:q.a(300,10),children:{main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(420,400),color:q.j(0,0,100,120),children:{tab1:{children:{tiles:{e:q.a(0,1),position:q.a(16,336),$:v[0].name},scriptbtn:{position:q.a(360,360),size:q.size(128,26),color:A,e:q.a(0,0),children:{text:{label:"Script",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.o(0,0,0)}}},textureleftbtn:{position:q.a(200,
360),size:q.size(16,32),$:"GUI/texture_change_left.png",e:q.a(0,0)},texturerightbtn:{position:q.a(310,360),size:q.size(16,32),$:"GUI/texture_change_right.png",e:q.a(0,0)},textureName:{position:q.a(214,360),size:q.size(96,32),$:"GUI/texture_change_middle.png",e:q.a(0,0),children:{text:{label:v[0].name,fontSize:12,e:q.a(0.5,0.5),position:q.a(48,16),color:q.o(0,0,0)}}},deletebtn:{position:q.a(360,308),size:q.size(60,32),color:A,e:q.a(0,0),children:{text:{label:"Erase",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,
16),color:q.o(0,0,0)}}},leftbtn:{position:q.a(0,16),size:q.size(16,320),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"\x3c",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,160),color:q.o(255,255,255)}}},rightbtn:{position:q.a(336,16),size:q.size(16,320),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"\x3e",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,160),color:q.o(255,255,255)}}},upbtn:{position:q.a(16,336),size:q.size(320,16),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"^",
fontSize:12,e:q.a(0.5,0.5),position:q.a(160,8),color:q.o(255,255,255)}}},downbtn:{position:q.a(16,0),size:q.size(320,16),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"v",fontSize:12,e:q.a(0.5,0.5),position:q.a(160,8),color:q.o(255,255,255)}}},fillbtn:{position:q.a(428,308),size:q.size(60,32),color:A,e:q.a(0,0),children:{text:{label:"Fill",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,16),color:q.o(0,0,0)}}},ground1btn:{position:q.a(360,278),size:q.size(128,26),color:wa,e:q.a(0,0),children:{text:{label:"Ground 1",
fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.o(0,0,0)}}},ground2btn:{position:q.a(360,248),size:q.size(128,26),color:A,e:q.a(0,0),children:{text:{label:"Ground 2",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.o(0,0,0)}}},ground3btn:{position:q.a(360,218),size:q.size(128,26),color:A,e:q.a(0,0),children:{text:{label:"Ground 3",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.o(0,0,0)}}},mask1btn:{position:q.a(360,188),size:q.size(128,26),color:A,e:q.a(0,0),children:{text:{label:"Mask 1",
fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.o(0,0,0)}}},mask2btn:{position:q.a(360,158),size:q.size(128,26),color:A,e:q.a(0,0),children:{text:{label:"Mask 2",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.o(0,0,0)}}},mask3btn:{position:q.a(360,128),size:q.size(128,26),color:A,e:q.a(0,0),children:{text:{label:"Mask 3",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.o(0,0,0)}}},fringe1btn:{position:q.a(360,98),size:q.size(128,26),color:A,e:q.a(0,0),children:{text:{label:"Fringe 1",
fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.o(0,0,0)}}},fringe2btn:{position:q.a(360,68),size:q.size(128,26),color:A,e:q.a(0,0),children:{text:{label:"Fringe 2",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.o(0,0,0)}}},fringe3btn:{position:q.a(360,8),size:q.size(128,26),color:A,e:q.a(0,0),children:{text:{label:"Fringe 3",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.o(0,0,0)}}},highlightnode:{e:q.a(0,0),position:q.a(0,0),size:q.size(M,M),color:q.j(255,100,100,255)},selectednode:{e:q.a(0,
0),position:q.a(0,0),size:q.size(M,M),color:q.j(100,255,100,255)}}},tab2:{children:{saveBack:{position:q.a(0,78),size:q.size(200,60),color:q.j(0,255,0,100),e:q.a(0,0)},deleteback:{position:q.a(0,138),size:q.size(200,60),color:q.j(255,0,0,100),e:q.a(0,0)},mapnumsback:{position:q.a(0,198),size:q.size(200,162),color:q.j(0,0,0,170),e:q.a(0,0)},mapUp_text:{label:"Map Up",fontSize:10,e:q.a(0.5,0),position:q.a(100,344)},mapUp_entry:{size:q.size(60,32),position:q.a(70,312)},mapDown_text:{label:"Map Down",
fontSize:10,e:q.a(0.5,0),position:q.a(100,232)},mapDown_entry:{size:q.size(60,32),position:q.a(70,200)},mapLeft_text:{label:"Map Left",fontSize:10,e:q.a(0.5,0),position:q.a(38,290)},mapLeft_entry:{size:q.size(60,32),position:q.a(8,258)},mapRight_text:{label:"Map Right",fontSize:10,e:q.a(0.5,0),position:q.a(162,290)},mapRight_entry:{size:q.size(60,32),position:q.a(132,258)},mapHeight_text:{label:"Map Height",fontSize:10,e:q.a(0.5,0),position:q.a(162,122)},mapHeight_entry:{size:q.size(60,32),position:q.a(128,
90),color:q.o(255,255,255)},mapWidth_text:{label:"Map Width",fontSize:10,e:q.a(0,0),position:q.a(10,122)},mapWidth_entry:{size:q.size(60,32),position:q.a(10,90),color:q.o(255,255,255)},this_map:{position:q.a(70,248),size:q.size(60,60),color:A,e:q.a(0,0),children:{text:{label:"THIS MAP\n#"+V.Ef(),fontSize:12,e:q.a(0.5,0.5),position:q.a(30,30),color:q.o(0,0,0)}}},clearbtn:{position:q.a(70,150),size:q.size(60,32),color:A,e:q.a(0,0),children:{text:{label:"Clear",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,
16),color:q.o(0,0,0)}}},clear_text:{label:"Clear Map: You sure?",fontSize:14,e:q.a(0.5,0),position:q.a(100,182)},clearbtnNo:{position:q.a(10,150),size:q.size(60,32),color:A,e:q.a(0,0),children:{text:{label:"NO",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,16),color:q.o(0,0,0)}}},clearbtnYes:{position:q.a(130,150),size:q.size(60,32),color:A,e:q.a(0,0),children:{text:{label:"YES",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,16),color:q.o(0,0,0)}}},savebtn:{position:q.a(70,16),size:q.size(60,32),color:A,
e:q.a(0,0),children:{text:{label:"Save",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,16),color:q.o(0,0,0)}}},save_text:{label:"Save Map: You sure?",fontSize:14,e:q.a(0.5,0),position:q.a(100,52)},savebtnNo:{position:q.a(10,16),size:q.size(60,32),color:A,e:q.a(0,0),children:{text:{label:"NO",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,16),color:q.o(0,0,0)}}},savebtnYes:{position:q.a(130,16),size:q.size(60,32),color:A,e:q.a(0,0),children:{text:{label:"YES",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,16),
color:q.o(0,0,0)}}}}},tab1Clickable:{position:q.a(0,380),size:q.size(60,20),color:A,e:q.a(0,0),children:{text:{label:"Editor",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,10),color:q.o(0,0,0)}}},tab2Clickable:{position:q.a(62,380),size:q.size(60,20),color:A,e:q.a(0,0),children:{text:{label:"Settings",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,10),color:q.o(0,0,0)}}}}},control_panel:{e:q.a(0,0),position:q.a(0,400),size:q.size(420,32),color:q.j(255,0,0,200),children:{header:{label:"Map Editor - Map #"+
V.Ef(),fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(391,3),size:q.size(26,26),e:q.a(0,0),color:q.j(255,255,255,200),children:{content:{label:"X",fontSize:20,color:q.o(0,0,0),e:q.a(0.5,0.5),position:q.a(13,13)}}}}}}}}},Ec:function(){return"MapEditor"},S:null,jx:null,gx:null,hx:null,ix:null,bD:null,aD:null,wj:null,Cf:0,Mh:null,w:function(a){this._super();this.map=a;this.S=q.a(0,0);this.wj=[null,496,200]},sa:function(){this._super();this.b.main_panel.tab1.highlightnode.ta(0);this.b.main_panel.tab1.selectednode.ta(0);
this.jx=new $(this.b.main_panel.tab2.mapUp_entry,q.size(this.b.main_panel.tab2.mapUp_entry.c().width,this.b.main_panel.tab2.mapUp_entry.c().height),q.a(0,this.b.main_panel.tab2.mapUp_entry.c().height),V.SI()?V.xC():"",q.j(100,100,100),q.o(255,255,255));this.jx.ob(!0);this.jx.Pc(!0);this.gx=new $(this.b.main_panel.tab2.mapDown_entry,q.size(this.b.main_panel.tab2.mapDown_entry.c().width,this.b.main_panel.tab2.mapDown_entry.c().height),q.a(0,this.b.main_panel.tab2.mapDown_entry.c().height),V.OI()?V.uC():
"",q.j(100,100,100),q.o(255,255,255));this.gx.ob(!0);this.gx.Pc(!0);this.hx=new $(this.b.main_panel.tab2.mapLeft_entry,q.size(this.b.main_panel.tab2.mapLeft_entry.c().width,this.b.main_panel.tab2.mapLeft_entry.c().height),q.a(0,this.b.main_panel.tab2.mapLeft_entry.c().height),V.QI()?V.vC():"",q.j(100,100,100),q.o(255,255,255));this.hx.ob(!0);this.hx.Pc(!0);this.ix=new $(this.b.main_panel.tab2.mapRight_entry,q.size(this.b.main_panel.tab2.mapRight_entry.c().width,this.b.main_panel.tab2.mapRight_entry.c().height),
q.a(0,this.b.main_panel.tab2.mapRight_entry.c().height),V.RI()?V.wC():"",q.j(100,100,100),q.o(255,255,255));this.ix.ob(!0);this.ix.Pc(!0);this.bD=new $(this.b.main_panel.tab2.mapWidth_entry,q.size(this.b.main_panel.tab2.mapWidth_entry.c().width,this.b.main_panel.tab2.mapWidth_entry.c().height),q.a(0,this.b.main_panel.tab2.mapWidth_entry.c().height),V.xI()?V.xI():36,q.j(255,255,255),q.o(0,0,0));this.bD.ob(!0);this.aD=new $(this.b.main_panel.tab2.mapHeight_entry,q.size(this.b.main_panel.tab2.mapHeight_entry.c().width,
this.b.main_panel.tab2.mapHeight_entry.c().height),q.a(0,this.b.main_panel.tab2.mapHeight_entry.c().height),V.wI()?V.wI():36,q.j(255,255,255),q.o(0,0,0));this.aD.ob(!0);this.Nx(!1);this.Ox(!1);this.Nn(1);this.zb();V.$K(!0)},On:function(a){Scripteditor&&(Scripteditor.Ia(),this.Rd(function(){Scripteditor.O();Scripteditor=null}),this.Mh=a,this.fc(!0))},Ia:function(){this._super();V.$K(!1)},yi:function(a){a=a.R;if(1==this.Cf&&(this.b.main_panel.tab1.highlightnode.ta(0),a=this.b.main_panel.tab1.tiles.Ka(a),
0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.c().width&&a.y<=this.b.main_panel.tab1.tiles.c().height))return a.x=a.x-a.x%M+16,a.y=a.y-a.y%M+16,this.b.main_panel.tab1.highlightnode.ta(127),this.b.main_panel.tab1.highlightnode.n(a),!0},Nn:function(a){if(a!=this.Cf){this.b.main_panel.T(this.wj[a],this.b.main_panel.c().height);this.b.control_panel.T(this.wj[a],this.b.control_panel.c().height);if(2==this.Cf||0==this.Cf)this.b.main_panel.tab2.mapUp_entry.eb(this.b.main_panel.tab2.mapUp_entry.u.H-1E3),
this.b.main_panel.tab2.mapLeft_entry.eb(this.b.main_panel.tab2.mapLeft_entry.u.H-1E3),this.b.main_panel.tab2.mapDown_entry.eb(this.b.main_panel.tab2.mapDown_entry.u.H-1E3),this.b.main_panel.tab2.mapRight_entry.eb(this.b.main_panel.tab2.mapRight_entry.u.H-1E3),this.b.main_panel.tab2.mapWidth_entry.eb(this.b.main_panel.tab2.mapWidth_entry.u.H-1E3),this.b.main_panel.tab2.mapHeight_entry.eb(this.b.main_panel.tab2.mapHeight_entry.u.H-1E3);1!=this.Cf||"erasing"!=this.fj&&"tiles"!=this.fj||(this.fj="blocking");
this.Cf=a;this.b.main_panel.tab1.D(!1);this.b.main_panel.tab2.D(!1);this.b.main_panel.tab1Clickable.t(A);this.b.main_panel.tab2Clickable.t(A);this.b.main_panel["tab"+a].D(!0);this.b.main_panel["tab"+a+"Clickable"].t(q.j(255,255,0,255));2==a&&(this.b.main_panel.tab2.mapUp_entry.eb(this.b.main_panel.tab2.mapUp_entry.u.H+1E3),this.b.main_panel.tab2.mapLeft_entry.eb(this.b.main_panel.tab2.mapLeft_entry.u.H+1E3),this.b.main_panel.tab2.mapDown_entry.eb(this.b.main_panel.tab2.mapDown_entry.u.H+1E3),this.b.main_panel.tab2.mapRight_entry.eb(this.b.main_panel.tab2.mapRight_entry.u.H+
1E3),this.b.main_panel.tab2.mapWidth_entry.eb(this.b.main_panel.tab2.mapWidth_entry.u.H+1E3),this.b.main_panel.tab2.mapHeight_entry.eb(this.b.main_panel.tab2.mapHeight_entry.u.H+1E3));this.b.control_panel.exitBtn.eb(this.wj[a]-29)}},zb:function(){this.ec(this.zb);this.b.main_panel.tab1.tiles.ia()&&!0==this.b.main_panel.tab1.tiles.ia().Ic&&(this.Rc(this.zb),this.b.main_panel.tab1.tiles.fb(q.rect(Math.floor(M*this.S.x),Math.floor(M*this.S.y),320>v[this.Z].texture.c().width?v[this.Z].texture.c().width:
320,320>v[this.Z].texture.c().height?v[this.Z].texture.c().height:320)))},wb:function(a){if(this._super(a))return!0;this.fe=null;a=a.R;var c=this.b.main_panel.Ka(a);if(H(this.b.main_panel.tab1Clickable,c))return this.Nn(1),!0;if(H(this.b.main_panel.tab2Clickable,c))return this.Nn(2),!0;if(1==this.Cf){if(H(this.b.main_panel.tab1.scriptbtn,c))return this.fj="script"==this.fj?"tiles":"script","script"==this.fj&&(null==Scripteditor||Scripteditor.ea||(Scripteditor=null),Scripteditor&&(Scripteditor.Ia(),
Scripteditor.O(),Scripteditor=null),Scripteditor=new ScriptingList,Scripteditor.w({l:this,gj:new ScriptEditor,list:ObjectLists.Ge(),name:"Script List"}),Scripteditor.sa(),this.ea.g(Scripteditor),this.fc(!1),this.b.main_panel.tab1.scriptbtn.t(C)),!0;if(H(this.b.main_panel.tab1.leftbtn,c))return 320<v[this.Z].texture.c().width&&0<this.S.x&&(this.S.x--,this.zb()),!0;if(H(this.b.main_panel.tab1.rightbtn,c))return 320<v[this.Z].texture.c().width&&this.S.x<(v[this.Z].texture.c().width-320)/M&&(this.S.x++,
this.zb()),!0;if(H(this.b.main_panel.tab1.upbtn,c))return 320<v[this.Z].texture.c().height&&0<this.S.y&&(this.S.y--,this.zb()),!0;if(H(this.b.main_panel.tab1.downbtn,c))return 320<v[this.Z].texture.c().height&&this.S.y<(v[this.Z].texture.c().height-320)/M&&(this.S.y++,this.zb()),!0;if(H(this.b.main_panel.tab1.ground1btn,c))return this.yk("ground1"),!0;if(H(this.b.main_panel.tab1.ground2btn,c))return this.yk("ground2"),!0;if(H(this.b.main_panel.tab1.ground3btn,c))return this.yk("ground3"),!0;if(H(this.b.main_panel.tab1.mask1btn,
c))return this.yk("mask1"),!0;if(H(this.b.main_panel.tab1.mask2btn,c))return this.yk("mask2"),!0;if(H(this.b.main_panel.tab1.mask3btn,c))return this.yk("mask3"),!0;if(H(this.b.main_panel.tab1.fringe1btn,c))return this.yk("fringe1"),!0;if(H(this.b.main_panel.tab1.fringe2btn,c))return this.yk("fringe2"),!0;if(H(this.b.main_panel.tab1.fringe3btn,c))return this.yk("fringe3"),!0;if(H(this.b.main_panel.tab1.texturerightbtn,c))return this.Tn(),!0;if(H(this.b.main_panel.tab1.textureleftbtn,c))return this.Un(),
!0;if(H(this.b.main_panel.tab1.deletebtn,c))return this.fj="erasing"==this.fj?"tiles":"erasing",this.b.main_panel.tab1.deletebtn.t(A),"erasing"==this.fj&&this.b.main_panel.tab1.deletebtn.t(C),!0;if(H(this.b.main_panel.tab1.fillbtn,c))return 0!=this.b.main_panel.tab1.selectednode.jj()&&(V.sS(v[this.Z].name,q.a((this.b.main_panel.tab1.selectednode.u.H-16)/M+this.S.x,Math.floor(320/M)-1-(this.b.main_panel.tab1.selectednode.u.Q-16)/M+this.S.y),this.Iw),V.qt()),!0;c=this.b.main_panel.tab1.tiles.Ka(a);
if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.c().width&&c.y<=this.b.main_panel.tab1.tiles.c().height){c.x=c.x-c.x%M+16;c.y=c.y-c.y%M+16;this.b.main_panel.tab1.selectednode.ta(0);if(this.b.main_panel.tab1.selectednode.u.H!=c.x||this.b.main_panel.tab1.selectednode.u.Q!=c.y)this.b.main_panel.tab1.selectednode.ta(127),this.b.main_panel.tab1.selectednode.n(c);return!0}}if(2==this.Cf){if(H(this.b.main_panel.tab2.clearbtn,c))return this.Nx(!0),!0;if(H(this.b.main_panel.tab2.clearbtnNo,c))return this.Nx(!1),
!0;if(H(this.b.main_panel.tab2.clearbtnYes,c))return V.hf(),this.Nx(!1),!0;if(H(this.b.main_panel.tab2.savebtn,c))return this.Ox(!0),!0;if(H(this.b.main_panel.tab2.savebtnNo,c))return this.Ox(!1),!0;if(H(this.b.main_panel.tab2.savebtnYes,c))return V.SW({up:this.jx.ba(),down:this.gx.ba(),left:this.hx.ba(),right:this.ix.ba(),width:this.bD.ba(),height:this.aD.ba()}),V.kY(),this.Ox(!1),!0}return!1},yk:function(a){this.b.main_panel.tab1.ground1btn.t(A);this.b.main_panel.tab1.ground2btn.t(A);this.b.main_panel.tab1.ground3btn.t(A);
this.b.main_panel.tab1.mask1btn.t(A);this.b.main_panel.tab1.mask2btn.t(A);this.b.main_panel.tab1.mask3btn.t(A);this.b.main_panel.tab1.fringe1btn.t(A);this.b.main_panel.tab1.fringe2btn.t(A);this.b.main_panel.tab1.fringe3btn.t(A);this.b.main_panel.tab1[a+"btn"].t(wa);this.Iw=a},Tn:function(){this.Z>=v.length-1&&(this.Z=-1);this.Z++;this.b.main_panel.tab1.tiles.ka(v[this.Z].texture);this.Pb=v[this.Z].name;this.b.main_panel.tab1.textureName.text.pa(this.Pb);this.S=q.a(0,0);this.zb()},Un:function(){0>=
this.Z&&(this.Z=v.length);this.Z--;this.b.main_panel.tab1.tiles.ka(v[this.Z].texture);this.Pb=v[this.Z].name;this.b.main_panel.tab1.textureName.text.pa(this.Pb);this.S=q.a(0,0);this.zb()},Nx:function(a){this.b.main_panel.tab2.clearbtnYes.D(a);this.b.main_panel.tab2.clearbtnNo.D(a);this.b.main_panel.tab2.clear_text.D(a);this.b.main_panel.tab2.clearbtn.D(!a)},Ox:function(a){this.b.main_panel.tab2.savebtnYes.D(a);this.b.main_panel.tab2.savebtnNo.D(a);this.b.main_panel.tab2.save_text.D(a);this.b.main_panel.tab2.savebtn.D(!a)},
BL:function(a,c,d){if(a[c]==this.xJ&&"moved"==d)return!1;this.xJ=a[c];switch(this.fj){case "tiles":0!=this.b.main_panel.tab1.selectednode.jj()&&V.Nl(c,v[this.Z].name,q.a((this.b.main_panel.tab1.selectednode.u.H-16)/M+this.S.x,Math.floor(320/M)-1-(this.b.main_panel.tab1.selectednode.u.Q-16)/M+this.S.y),this.Iw);break;case "script":V.iT(c)?V.$R(c):V.yX(c,this.Mh);break;case "erasing":V.fC(c,this.Iw)}}});NPCeditor=null;
NPCEditor=Popup.extend({Pb:x[0].name,Z:0,On:function(a,c){Scripteditor&&(Scripteditor.Ia(),Scripteditor.O(),this.Mh=a,this.fc(!0),this.b.main_panel.scriptbtn.text.pa(c.name),this.b.main_panel.scriptbtn.t(q.j(0,255,0,255)))},at:function(){this.b.main_panel.scriptbtn.text.pa("None");this.b.main_panel.scriptbtn.t(q.j(255,0,0,255))},oc:function(){return{panels:{position:q.a(300,10),children:{background:{$:"GUI/itemeditor_bg.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(500,330),
children:{namelbl:{label:"Name:",fontSize:20,e:q.a(0,0),position:q.a(4,292),color:q.o(0,0,0)},name_entry:{position:q.a(74,292),size:q.size(266,32),color:q.j(255,255,255,255)},tiles:{e:q.a(0,1),position:q.a(374,232),$:x[0].name},textureleftbtn:{position:q.a(362,292),size:q.size(16,32),$:"GUI/texture_change_left.png",e:q.a(0,0)},texturerightbtn:{position:q.a(471,292),size:q.size(16,32),$:"GUI/texture_change_right.png",e:q.a(0,0)},textureName:{position:q.a(375,292),size:q.size(96,32),$:"GUI/texture_change_middle.png",
e:q.a(0,0),children:{text:{label:v[0].name,fontSize:12,e:q.a(0.5,0.5),position:q.a(48,16),color:q.o(0,0,0)}}},upbtn:{position:q.a(374,236),size:q.size(96,16),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"^",fontSize:12,e:q.a(0.5,0.5),position:q.a(48,8),color:q.o(255,255,255)}}},downbtn:{position:q.a(374,86),size:q.size(96,16),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"v",fontSize:12,e:q.a(0.5,0.5),position:q.a(48,8),color:q.o(255,255,255)}}},scriptlbl:{label:"Script:",fontSize:12,
e:q.a(0,0),position:q.a(8,262),color:q.o(0,0,0)},scriptbtn:{position:q.a(8,232),size:q.size(128,26),color:C,e:q.a(0,0),children:{text:{label:"None",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.o(0,0,0)}}},okbtn:{position:q.a(434,16),size:q.size(32,32),$:"GUI/tick_icon.png",e:q.a(0,0)},cancelbtn:{position:q.a(384,16),size:q.size(32,32),$:"GUI/cross_icon.png",e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,330),size:q.size(500,32),children:{header:{label:"Item Editor",fontSize:20,e:q.a(0,
0.5),position:q.a(8,16)},exitBtn:{position:q.a(476,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},Ec:function(){return"npcEditor"},nb:null,l:null,data:null,w:function(a){this._super();this.data={name:"",sprite:{texture:null,number:null},script:null};this.Pb=x[0].name;this.Z=0;this.l=this.nb=null;this.S=q.a(0,0);this.l=a.l;a&&a.data&&(this.data=a.data,this.data.sprite.number&&(this.S.y=this.data.sprite.number),this.data.script&&(this.Mh=this.data.script))},sj:function(a){y({savenpcs:a+"",
npcsdata:this.data})},ej:function(a,c){y({savenpcswhole:c})},sa:function(){this._super();for(var a in x)x[a].name==this.data.sprite.texture&&(this.Z=a,this.Pb=x[a].name);this.b.main_panel.textureName.text.pa(this.Pb);this.b.main_panel.tiles.ka(x[this.Z].texture);null!=this.data.script&&(this.b.main_panel.scriptbtn.t(q.j(0,255,0,255)),this.b.main_panel.scriptbtn.text.pa(ObjectLists.Ge()[this.data.script].name),this.Mh=this.data.script);this.nb=new $(this.b.main_panel.name_entry,q.size(this.b.main_panel.name_entry.c().width,
this.b.main_panel.name_entry.c().height),q.a(0,this.b.main_panel.name_entry.c().height),this.data.name?this.data.name:"",q.j(100,100,100),q.o(255,255,255));this.nb.ob(!0);this.zb()},Ia:function(a){this._super();if(this.l){var c=this.l;!0!=a&&this.l.Rd(function(){c.Nd(null)})}},zb:function(){this.ec(this.zb);this.b.main_panel.tiles.ia()&&!0==this.b.main_panel.tiles.ia().Ic&&(this.Rc(this.zb),this.b.main_panel.tiles.fb(q.rect(Math.floor(96*this.S.x),Math.floor(128*this.S.y),96>x[this.Z].texture.c().width?
x[this.Z].texture.c().width:96,128>x[this.Z].texture.c().height?x[this.Z].texture.c().height:128)))},wb:function(a){if(this._super(a))return!0;this.fe=null;a=this.b.main_panel.Ka(a.R);if(H(this.b.main_panel.okbtn,a)){if(null==this.nb.ba()||""==this.nb.ba())return!0;this.Pg=!0;this.data.name=this.nb.ba();this.data.sprite.number=this.S.y;this.data.script=this.Mh;this.l.Nd(this.data);return!0}if(H(this.b.main_panel.cancelbtn,a)){this.Pg=!0;var c=this.l;this.l.Rd(function(){c.Nd(null)});return!0}H(this.b.main_panel.scriptbtn,
a)&&(Scripteditor?(Scripteditor.Ia(),Scripteditor.O(),Scripteditor=null):(Scripteditor=new PopupList,Scripteditor.w({l:this,gj:new ScriptEditor,list:ObjectLists.Ge(),name:"Script List"}),Scripteditor.sa(),this.g(Scripteditor)));return H(this.b.main_panel.upbtn,a)?(320<x[this.Z].texture.c().height&&0<this.S.y&&(this.S.y--,this.zb()),!0):H(this.b.main_panel.downbtn,a)?(320<x[this.Z].texture.c().height&&this.S.y<(x[this.Z].texture.c().height-320)/32&&(this.S.y++,this.zb()),!0):H(this.b.main_panel.texturerightbtn,
a)?(this.Tn(),!0):H(this.b.main_panel.textureleftbtn,a)?(this.Un(),!0):!1},kE:function(){this.data.stackable=!this.data.stackable;this.b.main_panel.stackbtn.t(C);this.b.main_panel.stackbtn.text.pa("NOT STACKABLE");!0==this.data.stackable&&(this.b.main_panel.stackbtn.t(wa),this.b.main_panel.stackbtn.text.pa("IS STACKABLE"))},Tn:function(){this.Z>=x.length-1&&(this.Z=-1);this.Z++;this.b.main_panel.tiles.ka(x[this.Z].texture);this.Pb=x[this.Z].name;this.b.main_panel.textureName.text.pa(this.Pb);this.data.sprite.texture=
this.Pb;this.S=q.a(0,0);this.zb()},Un:function(){0>=this.Z&&(this.Z=x.length);this.Z--;this.b.main_panel.tiles.ka(x[this.Z].texture);this.Pb=x[this.Z].name;this.b.main_panel.textureName.text.pa(this.Pb);this.S=q.a(0,0);this.zb()}});Shopeditor=null;
ShopEditor=Popup.extend({Pb:x[0].name,Z:0,oc:function(){return{panels:{position:q.a(300,10),children:{background:{$:"GUI/itemeditor_bg.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(500,330),children:{namelbl:{label:"Name:",fontSize:20,e:q.a(0,0),position:q.a(4,292),color:q.o(0,0,0)},name_entry:{position:q.a(74,292),size:q.size(266,32),color:q.j(255,255,255,255)},okbtn:{position:q.a(434,16),size:q.size(32,32),$:"GUI/tick_icon.png",e:q.a(0,0)},cancelbtn:{position:q.a(384,16),
size:q.size(32,32),$:"GUI/cross_icon.png",e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,330),size:q.size(500,32),children:{header:{label:"Item Editor",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(476,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},Ec:function(){return"shopEditor"},nb:null,l:null,data:null,w:function(a){this._super();this.data={name:""};this.Pb=x[0].name;this.Z=0;this.l=this.nb=null;this.l=a.l;a&&a.data&&(this.data=a.data)},sj:function(a){y({saveshops:a+
"",shopsdata:this.data})},ej:function(a,c){y({saveshopswhole:c})},sa:function(){this._super();this.nb=new $(this.b.main_panel.name_entry,q.size(this.b.main_panel.name_entry.c().width,this.b.main_panel.name_entry.c().height),q.a(0,this.b.main_panel.name_entry.c().height),this.data.name?this.data.name:"",q.j(100,100,100),q.o(255,255,255));this.nb.ob(!0)},Ia:function(a){this._super();if(this.l){var c=this.l;!0!=a&&this.l.Rd(function(){c.Nd(null)})}},wb:function(a){if(this._super(a))return!0;this.fe=
null;a=this.b.main_panel.Ka(a.R);if(H(this.b.main_panel.okbtn,a)){if(null==this.nb.ba()||""==this.nb.ba())return!0;this.Pg=!0;this.data.name=this.nb.ba();this.l.Nd(this.data);return!0}if(H(this.b.main_panel.cancelbtn,a)){this.Pg=!0;var c=this.l;this.l.Rd(function(){c.Nd(null)});return!0}return!1},kE:function(){this.data.stackable=!this.data.stackable;this.b.main_panel.stackbtn.t(C);this.b.main_panel.stackbtn.text.pa("NOT STACKABLE");!0==this.data.stackable&&(this.b.main_panel.stackbtn.t(wa),this.b.main_panel.stackbtn.text.pa("IS STACKABLE"))}});Skillseditor=null;
SkillsEditor=Popup.extend({Pb:v[0].name,Z:0,oc:function(){return{panels:{position:q.a(300,10),children:{main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(420,396),color:q.j(0,0,100,120),children:{tab1:{children:{tiles:{e:q.a(0,1),position:q.a(16,320),$:v[0].name},textureleftbtn:{position:q.a(208,340),size:q.size(16,32),color:A,e:q.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,16),color:q.o(0,0,0)}}},texturerightbtn:{position:q.a(320,340),size:q.size(16,32),color:A,
e:q.a(0,0),children:{text:{label:"\x3e\x3e",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,16),color:q.o(0,0,0)}}},textureName:{position:q.a(224,340),size:q.size(96,32),color:q.j(255,255,255,170),e:q.a(0,0),children:{text:{label:v[0].name,fontSize:12,e:q.a(0.5,0.5),position:q.a(48,16),color:q.o(0,0,0)}}},leftbtn:{position:q.a(0,64),size:q.size(16,252),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"\x3c",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,160),color:q.o(255,255,255)}}},rightbtn:{position:q.a(336,
64),size:q.size(16,252),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"\x3e",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,160),color:q.o(255,255,255)}}},upbtn:{position:q.a(16,320),size:q.size(320,16),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"^",fontSize:12,e:q.a(0.5,0.5),position:q.a(160,8),color:q.o(255,255,255)}}},downbtn:{position:q.a(16,48),size:q.size(320,16),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"v",fontSize:12,e:q.a(0.5,0.5),position:q.a(160,8),color:q.o(255,
255,255)}}},highlightnode:{e:q.a(0,0),position:q.a(0,0),size:q.size(32,32),color:q.j(255,100,100,255)},selectednode:{e:q.a(0,0),position:q.a(0,0),size:q.size(32,32),color:q.j(100,255,100,255)}}},tab2:{children:{name_text:{label:"Skill Name",fontSize:10,e:q.a(0,0),position:q.a(8,344)},name_entry:{size:q.size(136,32),position:q.a(4,312)},healthcolor_text:{label:"Healthbar Color",fontSize:10,e:q.a(0,0),position:q.a(8,250)},healthcolor_entry:{size:q.size(136,32),position:q.a(4,210)},tile:{e:q.a(0,1),
position:q.a(55,150),$:v[0].name},healthbtn:{position:q.a(8,265),size:q.size(128,26),color:C,e:q.a(0,0),children:{text:{label:"NOT HEALTHBAR",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.o(0,0,0)}}}}},tab1Clickable:{position:q.a(0,376),size:q.size(60,20),color:A,e:q.a(0,0),children:{text:{label:"Icon",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,10),color:q.o(0,0,0)}}},tab2Clickable:{position:q.a(64,376),size:q.size(60,20),color:A,e:q.a(0,0),children:{text:{label:"Details",fontSize:12,e:q.a(0.5,
0.5),position:q.a(32,10),color:q.o(0,0,0)}}},okbtn:{position:q.a(76,8),size:q.size(60,32),color:A,e:q.a(0,0),children:{text:{label:"OK",fontSize:12,e:q.a(0.5,0.5),position:q.a(30,16),color:q.o(0,0,0)}}},cancelbtn:{position:q.a(8,8),size:q.size(60,32),color:A,e:q.a(0,0),children:{text:{label:"Cancel",fontSize:12,e:q.a(0.5,0.5),position:q.a(30,16),color:q.o(0,0,0)}}}}},control_panel:{e:q.a(0,0),position:q.a(0,396),size:q.size(420,32),color:q.j(255,0,0,200),children:{header:{label:"Skill Editor",fontSize:20,
e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(391,3),size:q.size(26,26),e:q.a(0,0),color:q.j(255,255,255,200),children:{content:{label:"X",fontSize:20,color:q.o(0,0,0),e:q.a(0.5,0.5),position:q.a(13,13)}}}}}}}}},Ec:function(){return"SkillsEditor"},nb:null,Sp:null,wj:null,Cf:0,l:null,data:null,w:function(a){this._super();this.data={sprite:{texture:v[0].name,position:{x:0,y:0}},additionalData:{},healthbar:null,name:""};this.Pb=v[0].name;this.Z=0;this.wj=this.nb=null;this.Cf=0;this.l=null;this.S=
q.a(0,0);this.wj=[null,352,142];this.l=a.l;a&&a.data&&(this.data=a.data)},sj:function(a){y({saveskills:a+"",skillsdata:this.data})},ej:function(a,c){y({saveskillswhole:c})},sa:function(){this._super();this.b.main_panel.tab1.highlightnode.ta(0);this.b.main_panel.tab1.selectednode.ta(127);for(var a in v)v[a].name==this.data.sprite.texture&&(this.Z=a,this.Pb=v[a].name);this.b.main_panel.tab1.textureName.text.pa(this.Pb);this.b.main_panel.tab1.tiles.ka(v[this.Z].texture);for(a=this.data.sprite.position.x;10<=
a;)a--,this.S.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.S.y++;a=q.a(32*(this.data.sprite.position.x-this.S.x),32*(this.data.sprite.position.y-this.S.y));this.b.main_panel.tab1.selectednode.n(this.b.main_panel.tab1.tiles.u.x+a.x,this.b.main_panel.tab1.tiles.u.y-(a.y+32));this.b.main_panel.tab2.tile.ka(v[this.Z].texture);this.b.main_panel.tab2.tile.fb(q.rect(Math.floor(32*this.data.sprite.position.x),Math.floor(32*this.data.sprite.position.y),32,32));this.nb=new $(this.b.main_panel.tab2.name_entry,
q.size(this.b.main_panel.tab2.name_entry.c().width,this.b.main_panel.tab2.name_entry.c().height),q.a(0,this.b.main_panel.tab2.name_entry.c().height),this.data.name?this.data.name:"",q.j(100,100,100),q.o(255,255,255));this.nb.ob(!0);this.Sp=new $(this.b.main_panel.tab2.healthcolor_entry,q.size(this.b.main_panel.tab2.healthcolor_entry.c().width,this.b.main_panel.tab2.healthcolor_entry.c().height),q.a(0,this.b.main_panel.tab2.healthcolor_entry.c().height),this.data.healthbar?this.data.healthbar:"",q.j(100,
100,100),q.o(255,255,255));this.Sp.ob(!0);this.b.main_panel.tab2.healthbtn.t(C);this.b.main_panel.tab2.healthbtn.text.pa("NOT HEALTHBAR");null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.t(wa),this.b.main_panel.tab2.healthbtn.text.pa("IS HEALTHBAR"));this.Nn(1);this.zb()},rba:function(){},Ia:function(a){this._super();if(this.l){var c=this.l;!0!=a&&this.l.Rd(function(){c.Nd(null)})}},yi:function(a){a=a.R;if(1==this.Cf&&(this.b.main_panel.tab1.highlightnode.ta(0),
a=this.b.main_panel.tab1.tiles.Ka(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.c().width&&a.y<=this.b.main_panel.tab1.tiles.c().height))return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+64,this.b.main_panel.tab1.highlightnode.ta(127),this.b.main_panel.tab1.highlightnode.n(a),!0},Nn:function(a){a!=this.Cf&&(this.b.main_panel.T(this.wj[a],this.b.main_panel.c().height),this.b.control_panel.T(this.wj[a],this.b.control_panel.c().height),this.b.main_panel.tab2.name_entry.eb(this.b.main_panel.tab2.name_entry.u.H-
1E3),this.b.main_panel.tab2.healthcolor_entry.eb(this.b.main_panel.tab2.healthcolor_entry.u.H-1E3),this.b.main_panel.tab2.healthcolor_text.D(!1),this.Cf=a,this.b.main_panel.tab1.D(!1),this.b.main_panel.tab2.D(!1),this.b.main_panel.tab1Clickable.t(A),this.b.main_panel.tab2Clickable.t(A),this.b.main_panel["tab"+a].D(!0),this.b.main_panel["tab"+a+"Clickable"].t(q.j(255,255,0,255)),this.b.control_panel.exitBtn.eb(this.wj[a]-29));2==a&&(this.b.main_panel.tab2.name_entry.eb(4),null!=this.data.healthbar&&
""!=this.data.healthbar&&(this.b.main_panel.tab2.healthcolor_entry.eb(4),this.b.main_panel.tab2.healthcolor_text.D(!0)))},zb:function(){this.ec(this.zb);this.b.main_panel.tab1.tiles.ia()&&!0==this.b.main_panel.tab1.tiles.ia().Ic&&(this.Rc(this.zb),this.b.main_panel.tab1.tiles.fb(q.rect(Math.floor(32*this.S.x),Math.floor(32*this.S.y),320>v[this.Z].texture.c().width?v[this.Z].texture.c().width:320,256>v[this.Z].texture.c().height?v[this.Z].texture.c().height:256)))},wb:function(a){if(this._super(a))return!0;
this.fe=null;a=a.R;var c=this.b.main_panel.Ka(a);if(H(this.b.main_panel.tab1Clickable,c))return this.Nn(1),!0;if(H(this.b.main_panel.tab2Clickable,c))return this.Nn(2),!0;if(H(this.b.main_panel.okbtn,c)){if(null==this.nb.ba()||""==this.nb.ba())return!0;this.Pg=!0;this.data.name=this.nb.ba();if(null!=this.Sp.ba()||""!=this.Sp.ba())this.data.healthbar=this.Sp.ba();this.l.Nd(this.data);return!0}if(H(this.b.main_panel.cancelbtn,c)){this.Pg=!0;var d=this.l;this.l.Rd(function(){d.Nd(null)});return!0}if(1==
this.Cf){if(H(this.b.main_panel.tab1.leftbtn,c))return 264<v[this.Z].texture.c().width&&0<this.S.x&&(this.S.x--,this.zb()),!0;if(H(this.b.main_panel.tab1.rightbtn,c))return 320<v[this.Z].texture.c().width&&this.S.x<(v[this.Z].texture.c().width-320)/32&&(this.S.x++,this.zb()),!0;if(H(this.b.main_panel.tab1.upbtn,c))return 320<v[this.Z].texture.c().height&&0<this.S.y&&(this.S.y--,this.zb()),!0;if(H(this.b.main_panel.tab1.downbtn,c))return 320<v[this.Z].texture.c().height&&this.S.y<(v[this.Z].texture.c().height-
320)/32&&(this.S.y++,this.zb()),!0;if(H(this.b.main_panel.tab1.texturerightbtn,c))return this.Tn(),!0;if(H(this.b.main_panel.tab1.textureleftbtn,c))return this.Un(),!0;c=this.b.main_panel.tab1.tiles.Ka(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.c().width&&c.y<=this.b.main_panel.tab1.tiles.c().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+64;this.b.main_panel.tab1.selectednode.ta(0);if(this.b.main_panel.tab1.selectednode.u.H!=c.x||this.b.main_panel.tab1.selectednode.u.Q!=c.y)this.b.main_panel.tab1.selectednode.ta(127),
this.b.main_panel.tab1.selectednode.n(c);a=q.a((this.b.main_panel.tab1.selectednode.u.H-16)/32+this.S.x,8-(this.b.main_panel.tab1.selectednode.u.Q-64)/32+this.S.y-1);this.b.main_panel.tab2.tile.fb(q.rect(32*a.x,32*a.y,32,32));this.data.sprite.position=a;console.log("TOUCHED");return!0}}return 2==this.Cf&&H(this.b.main_panel.tab2.healthbtn,c)?(this.ZX(),!0):!1},ZX:function(){this.b.main_panel.tab2.healthcolor_entry.eb(this.b.main_panel.tab2.healthcolor_entry.u.H-1E3);this.b.main_panel.tab2.healthcolor_text.D(!1);
null!=this.data.healthbar&&""!=this.data.healthbar?(this.data.healthbar="",this.Sp.ge("")):(this.data.healthbar="FF0000",this.b.main_panel.tab2.healthcolor_entry.eb(4),this.b.main_panel.tab2.healthcolor_text.D(!0));this.b.main_panel.tab2.healthbtn.t(C);this.b.main_panel.tab2.healthbtn.text.pa("NOT HEALTHBAR");null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.t(wa),this.b.main_panel.tab2.healthbtn.text.pa("IS HEALTHBAR"))},Tn:function(){this.Z>=v.length-1&&(this.Z=
-1);this.Z++;this.b.main_panel.tab1.tiles.ka(v[this.Z].texture);this.b.main_panel.tab2.tile.ka(v[this.Z].texture);this.Pb=v[this.Z].name;this.b.main_panel.tab1.textureName.text.pa(this.Pb);this.data.sprite.texture=this.Pb;this.S=q.a(0,0);this.zb()},Un:function(){0>=this.Z&&(this.Z=v.length);this.Z--;this.b.main_panel.tab1.tiles.ka(v[this.Z].texture);this.b.main_panel.tab2.tile.ka(v[this.Z].texture);this.Pb=v[this.Z].name;this.b.main_panel.tab1.textureName.text.pa(this.Pb);this.S=q.a(0,0);this.zb()}});PopupList=Popup.extend({Xb:null,cb:[],rn:null,Lf:!1,tj:-1,h8:0,TH:null,J:null,Ls:!1,Ia:function(){this._super();this.l&&(this.l.fc(!0),!this.Ls&&this.l.at&&this.l.at(null,null))},w:function(a){this._super();this.Xb=null;this.cb=[];this.rn=null;this.Lf=!1;this.tj=-1;this.Xb=a.gj;a.list&&(this.cb=a.list);this.rn=a.name;this.l=a.l},sa:function(){this._super();this.xb()},J:null,xb:function(){this.J&&this.J.ca.O();var a=[],c=[],d=q.ja.f();this.TH={};for(var e in this.cb)if(a[e]=q.G.create(),a[e].T(324,
32),null==this.cb[e])this.cb.splice(e,1);else if(this.cb[e]!={}){if(null!=this.l){var f=q.v.Pa(d.na("GUI/use.png"));f.n(q.a(244,6));f.C(q.a(0,0))}var g=q.fa.create(q.j(0,0,0,127),316,1);g.n(q.a(4,0));var h=q.V.create(this.cb[e].name,"Arial",20);h.C(q.a(0,0.5));h.n(q.a(0,16));var k=q.v.Pa(d.na("GUI/edit.png"));k.n(q.a(272,6));k.C(q.a(0,0));var l=q.v.Pa(d.na("GUI/trash.png"));l.n(q.a(300,6));l.C(q.a(0,0));k.vb="Edit";var m=[];m.push(k);l.vb="Delete";m.push(l);null!=this.l&&(f.vb="Use",m.push(f));c.push(m);
a[e].g(g);a[e].g(h);a[e].g(k);a[e].g(l);null!=this.l&&a[e].g(f)}d=q.fa.create(q.j(70,200,70,255),90,26);e=q.V.create("+","Arial",20);e.n(45,13);e.C(q.a(0.5,0.5));d.n(q.a(120,0));d.vb="Add";d.g(e);c.push([d]);a.push(d);this.J=this.b.main_panel.list;var p=this;this.J.Gc=function(){return q.size(324,32*a.length)};this.J.zc=function(){return a.length};this.J.Mc=function(c){return a[c].c()};this.J.Lc=function(c){return a[c]};this.J.Rb=function(a,c,d){p.Ka(d.R);if(!0!=p.Lf)switch(a){case "Delete":p.ea.g(DropDownList.md(p,
p.ys,["Cancel","Delete"],d.R));p.ab=c;break;case "Edit":p.Xb.ea&&p.Xb.O();p.Lf=!0;p.Xb.w({l:p,data:p.cb[c]});p.ea.g(p.Xb);p.fc(!1);p.Xb.sa();p.tj=c+"";break;case "Add":p.Ap=!0;p.Lf=!0;p.tj=p.cb.length;p.Xb.w({l:p,data:null});p.fc(!1);p.ea.g(p.Xb);p.Xb.sa();break;case "Use":p.l.On(c,p.cb[c]),p.Ls=!0}};this.J.ca=ListView.create(this.J);this.J.ca.Oc(c);this.J.g(this.J.ca)},oc:function(){return{panels:{position:q.a(300,200),children:{background_image:{$:"GUI/list_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,
0),size:q.size(365,328),children:{list:{size:q.size(324,328),position:q.a(0,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:this.rn,fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},ab:null,ys:function(a){switch(a){case 1:null!=this.l.ab&&(this.l.cC(this.l.ab),this.l.ab=null)}},Nd:function(a){a&&(this.Xb.sj(this.tj),this.Ap&&(this.cb.push(a),this.xb()));this.fc(!0);
this.Lf=this.Ap=!1;var c=this;this.Rd(function(){c.Xb.Ia(!0);c.Xb.O()})},cC:function(a){this.cb[a]={};this.Xb.ej(a,this.cb);this.xb()}});ScriptingList=Popup.extend({Xb:null,cb:[],rn:null,Lf:!1,tj:-1,J$:null,Yg:null,Ls:!1,Jn:null,Ia:function(){this._super();this.l&&(this.l.fc(!0),!this.Ls&&this.l.at&&this.l.at(null,null))},w:function(a){this._super();this.Xb=null;this.cb=[];this.rn=null;this.Lf=!1;this.tj=-1;this.Xb=a.gj;a.list&&(this.cb=a.list);this.rn=a.name;this.l=a.l},sa:function(){this._super();this.rx()},rx:function(){this.Bh&&this.Bh.ca.O();var a=[],c=[],d=q.ja.f(),e=["Default Scripts","NPC Scripts","Item Scripts","Tile Scripts"],
f;for(f in e){a[f]=q.G.create();a[f].T(220,32);var g=q.fa.create(q.j(0,0,0,127),220,1);g.n(q.a(0,0));var h=q.V.create(e[f],"Arial",20);h.C(q.a(0,0));h.n(q.a(4,4));h.yb(q.size(192,0));a[f].T(220,h.c().height+8);if(null!=this.Jn&&this.Jn==f){a[f]=q.fa.create(q.j(100,0,0,255),220,h.c().height+8);var k=q.v.Pa(d.na("GUI/selected.png"));k.n(q.a(196,(h.c().height+8-20)/2));k.C(q.a(0,0));a[f].g(k);h.t(q.o(255,255,255))}a[f].vb="Use";c.push([a[f]]);a[f].g(g);a[f].g(h)}this.Bh=this.b.main_panel.mainlist;var l=
this;this.Bh.Gc=function(){return q.size(324,32*a.length)};this.Bh.zc=function(){return a.length};this.Bh.Mc=function(c){return a[c].c()};this.Bh.Lc=function(c){return a[c]};this.Bh.Rb=function(a,c,d){l.Ka(d.R);if(!0!=l.Lf)switch(a){case "Use":l.Jn=c,l.nD(c),l.rx()}};this.Bh.ca=ListView.create(this.Bh);this.Bh.ca.Oc(c);this.Bh.g(this.Bh.ca)},nD:function(a){var c="";switch(a){case 0:c="Default";break;case 1:c="NPC";break;case 2:c="Item";break;case 3:c="Tile"}this.Yg&&this.Yg.ca.O();var d=[];a=[];for(var e=
q.ja.f(),f=0;f<this.cb.length;f++)if(d[f]=q.G.create(),this.cb[f]!={}&&this.cb[f].specifier==c){d[f].T(286,32);var g=q.fa.create(q.j(0,0,0,127),286,1);g.n(q.a(0,0));var h=q.V.create(this.cb[f].name,"Arial",20);h.C(q.a(0,0));h.n(q.a(2,4));h.yb(q.size(208,0));d[f].T(286,h.c().height+8);if(null!=this.l&&!this.cb[f].isTemplate){var k=q.v.Pa(e.na("GUI/use.png"));k.n(q.a(212,(d[f].c().height-20)/2));k.C(q.a(0,0))}var l=[];if("Default"!=c){var m=q.v.Pa(e.na("GUI/edit.png"));m.n(q.a(236,(d[f].c().height-
20)/2));m.C(q.a(0,0));var p=q.v.Pa(e.na("GUI/trash.png"));p.n(q.a(260,(d[f].c().height-20)/2));p.C(q.a(0,0));l.push(m);p.vb="Delete";m.vb="Edit";l.push(p);d[f].g(m);d[f].g(p)}null==this.l||this.cb[f].isTemplate||(k.vb="Use",l.push(k));m=q.v.Pa(e.na("GUI/copy.png"));m.n(q.a(188,(d[f].c().height-20)/2));m.C(q.a(0,0));m.vb="Copy";l.push(m);d[f].g(m);a.push(l);d[f].g(g);d[f].g(h);null!=this.l&&d[f].g(k)}else d[f].T(q.size(0,0)),a.push([]);"Default"!=c&&(k=q.fa.create(q.j(70,200,70,255),90,26),e=q.V.create("+",
"Arial",20),e.n(45,13),e.C(q.a(0.5,0.5)),k.n(q.a(100,0)),k.vb="Add",k.g(e),a.push([k]),d.push(k));this.Yg=this.b.main_panel.sublist;var t=this;this.Yg.Gc=function(){return q.size(324,32*d.length)};this.Yg.zc=function(){return d.length};this.Yg.Mc=function(a){return d[a].c()};this.Yg.Lc=function(a){return d[a]};this.Yg.Rb=function(a,d,e){t.Ka(e.R);if(!0!=t.Lf)switch(a){case "Delete":t.ea.g(DropDownList.md(t,t.ys,["Cancel","Delete"],e.R));t.ab=d;break;case "Edit":t.Xb.ea&&t.Xb.O();t.Lf=!0;t.Xb.w({l:t,
data:t.cb[d]});t.ea.g(t.Xb);t.fc(!1);t.Xb.sa();t.tj=d+"";break;case "Add":t.Ap=!0;t.Lf=!0;t.tj=t.cb.length+"";t.Xb.w({l:t,data:null,ED:c});t.fc(!1);t.ea.g(t.Xb);t.Xb.sa();break;case "Use":t.l.On(d,t.cb[d]);t.Ls=!0;break;case "Copy":t.LR(d)}};this.Yg.ca=ListView.create(this.Yg);this.Yg.ca.Oc(a);this.Yg.g(this.Yg.ca)},oc:function(){return{panels:{position:q.a(20,20),children:{background_image:{$:"GUI/scripting_list.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(584,408),children:{mainlist:{size:q.size(220,
408),position:q.a(0,0),e:q.a(0,0)},sublist:{size:q.size(280,408),position:q.a(261,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,408),size:q.size(584,32),children:{header:{label:this.rn,fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(560,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},ab:null,ys:function(a){switch(a){case 1:null!=this.l.ab&&(this.l.cC(this.l.ab),this.l.ab=null)}},Nd:function(a){a&&(this.Xb.sj(this.tj),this.Ap&&(this.cb.push(a),this.rx(),this.Jn&&
this.nD(this.Jn)));this.fc(!0);this.Lf=this.Ap=!1;var c=this;this.Rd(function(){c.Xb.Ia(!0);c.Xb.O()})},cC:function(a){this.cb[a]={};this.Xb.ej(a,this.cb);this.rx();this.Jn&&this.nD(this.Jn)},LR:function(a){console.log("DUPLICATING");this.Lf=this.Ap=!0;this.tj=this.cb.length+"";a=J(this.cb[a]);a.implementsAs&&(a.specifier=a.implementsAs,a.implementsAs=null);a.isTemplate&&(a.isTemplate=null);this.Xb.w({l:this,data:a,ED:a.specifier});this.fc(!1);this.ea.g(this.Xb);this.Xb.sa()}});var K=Ia.extend({ctor:function(){this._super()},RL:function(){this._super()},sa:function(){this._super()},Ia:function(){this._super()},wb:function(a){q.rb(this.b.health_panel.lb(),a.R)&&F.f().sl("Game")}});NewsPanel=null;
News=Popup.extend({data:null,J:null,ab:null,Ec:function(){return"Credits"},Ia:function(){this._super()},w:function(){this._super();this.data={"17th December 2014: (v0.75)":["Added banking panel and implemented banking storage into player profile data.","Added map width and height specifiers to map editor for custom map sizes.","Added shop editor for custom shop type generation.","Compressed script logic into single straightforward functions with a type specifier.","Fixed a couple of bugs"],"14th December 2014: (v0.75)":["Fixed multiplayer login movement crash."],
"24th November 2014: (v0.75)":["Re-introduced dependancies so that I can added orientation change logic to the project. Clicking and dragging a client window now correctly resizes the game."],"16th November 2014: (v0.75)":["Cleaned up project dependancies, removed dependancy on socket.io and cocos-utils changes."],"11th November 2014: (v0.74)":["Added quest log (hotkey Q).","Implemented quest response logic. Added 2 additional 'quest unstarted' and 'quest finished' parameters"],"10th November 2014: (v0.735)":["Added user extradata content for subscripting. Allows for developers to code in specific scripting logic if needed.",
"Extradata updates with user login data and is purposefully not localstorage based."],"9th November 2014: (v0.733)":["Added talking and talk with option callback to the npc scripts contexts."],"8th November 2014: (v0.731)":["Fixed NPC editor.","Added talk graphic and basic logic for npc interaction","Abstracted Item script logic to a utils function...wiped a lot of duplicate code."],"25th October 2014: (v0.729)":["Added scripting response logic for giving/taking items.","Added scripting requirements logic for if a panel is visible and inventory has a certain amount of slots."],
"25th October 2014: (v0.727)":["Fixed a bunch of persistant bugs. Game is now much much more stable than it was.","Added scripts for on pickup and on drop. Added some additional response logic for warping the player. Added requirement logic for check if player has items and if player stats are within certain ranges."],"24th October 2014: (v0.724)":["Added functionality to more scripts. Items can now use the destroy and open/close panel scripts.","Fixed equip script to use the equip position defined within the scripting system instead of previously defined sub-item types from previous versions."],
"23rd October 2014: (v0.722)":["Added functionality to some item scripts. Game now modifies inventory drop down behaviour based on responses type (read/equip).","Items can now influence player stats on equip, dequip, swapped and on read."],"30th September 2014: (v0.72)":["Added user saving and loading for player position, items and equipment. Picked up and equipped items are now stored and saved regardless of session.","Edited the skills panel to utilise the list view logic. Skills menu now shows level and experience progression and uses data from the user account",
"Added health manipulation functionality utilising new skill logic as noted in the previous point."],"27th September 2014: (v0.72)":["Added registration and logging in system. Users can now have automatic login setup for their accounts and player data is starting to be saved from an actual account.","Server now has a new folder where user data is stored.","Added the beginnings of a user ranking system, game editors can now only be accessed if the player rank is above 1. Rank 1 is now the default registration rank."],
"25th August 2014: (v0.718)":["Added 90% of subeditors needed for the scripting system. Go into the script editor and press the pencil icon on the responses and requirements to edit their core data.","Updated script panel texture to utilize inpanel submenu editors.","Abstracted out the script editor so that its not dependant on certain types.","Added/removed requirements responses based on logical conclusions on what is actually needed. Consume as an item response, for example, is unecessary because it would work identically to destroy."],
"17th August 2014: (v0.714)":["Added basic template logic of new scripting editor system. Scripts can be saved and loaded like other list systems. This editor currently does not allow you to apply scripts to anything (it is simply the GUI interface template logic that's in there). The item editor has been changed to utilize the new saved scripts list.","Fixed localstorage issue caused by settings implementation. Game now does not now load until the game is fully in sync. The issue was causing an error on some game-loads because the localstorage was not yet available (requiring a refresh)."],
"11th August 2014: (v0.708)":["Added settings menu for various game controls. Settings menu only currently controls a load of in game string settings. Also added the additional required admin panel graphic for settings access. The new chatbox command is /editsettings.","Added scrolling credits button to login page and populated it.","Added this scrolling news feed to login page and obviously populated it as well."],"11th August 2014 (v0.7)":["Added some additional custom gui for some of the editors.",
"Fixed a lot of bugs (and I mean a lot).","Added 0.7 download to site."],"10th August 2014 (v0.695)":["Added quest objective editor. New button now made usable in menu.","Objective editor utilizes abstract scrolling list from 0.69."]}},sj:function(a){y({savequests:a+"",questdata:this.data})},ej:function(a,c){y({savequestswhole:c})},sa:function(){this._super();this.xb()},xb:function(){this.J&&this.J.lc();var a=[],c=[];q.ja.f();var d=0,e;for(e in this.data){a[d]=q.G.create();a[d].T(324,32);var f=q.V.create(e,
"Arial",18);f.C(q.a(0,0));f.n(q.a(4,0));f.yb(q.size(246,0));f.t(q.o(100,0,0));a[d].g(f);a[d].T(324,f.c().height+4);f=[];c.push(f);d++;for(var g in this.data[e]){a[d]=q.G.create();a[d].T(324,32);var h=q.fa.create(q.j(0,0,0,127),316,1);h.n(q.a(4,0));var k=q.V.create(this.data[e][g],"Arial",15);k.t(q.o(0,0,0));k.C(q.a(0,0));k.n(q.a(4,4));k.yb(q.size(246,0));f=[];c.push(f);a[d].g(h);a[d].g(k);a[d].T(324,k.c().height+8);d++}}this.J=this.b.main_panel.list;this.J.Gc=function(){for(var c=0,d=0;d<a.length;d++)c+=
a[d].c().height;return q.size(324,c)};this.J.zc=function(){return a.length};this.J.Mc=function(c){return a[c].c()};this.J.Lc=function(c){return a[c]};this.J.Rb=function(){};this.J.ca=ListView.create(this.J);this.J.ca.Oc(c);this.J.g(this.J.ca)},oc:function(){return{panels:{position:q.a(300,200),children:{background_image:{$:"GUI/list_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(365,328),children:{list:{size:q.size(324,328),color:q.j(0,200,200,200),position:q.a(0,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,
0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"News",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},wb:function(a){if(this._super(a))return!0;this.fe=null;a=this.b.main_panel.Ka(a.R);return H(this.b.main_panel,a)?!0:!1}});CreditsPanel=null;
Credits=Popup.extend({data:null,J:null,ab:null,Ec:function(){return"Credits"},Ia:function(){this._super()},w:function(){this._super();this.data={"Programmed and designed by:":"Alan Tuckwood","Special thanks:":"Claire, for putting up with all the non-talking hours.","Special thanks 2:":"IndieRising dev community for all their wonderful support.","Special thanks 3:":"Finblade, for all the skills I was able to pass into this engine.","Special thanks 4:":"All of you players, who's positive response keep me motivated.","Powder Engine is Copywritten":"Contact the developer in-site regarding questions."}},
sj:function(a){y({savequests:a+"",questdata:this.data})},ej:function(a,c){y({savequestswhole:c})},sa:function(){this._super();this.xb()},xb:function(){this.J&&this.J.lc();var a=[],c=[];q.ja.f();var d=0,e;for(e in this.data){if("ISSECTION"!=this.data[e]){a[d]=q.G.create();a[d].T(324,32);var f=q.V.create(e,"Arial",18);f.C(q.a(0,0));f.n(q.a(4,0));f.yb(q.size(246,0));f.t(q.o(100,0,0));a[d].g(f);a[d].T(324,f.c().height+4);f=[];c.push(f);d++}a[d]=q.G.create();a[d].T(324,32);var g=q.fa.create(q.j(0,0,0,
127),316,1);g.n(q.a(4,0));if("ISSECTION"==this.data[e]){var h=q.V.create(e,"Arial",22);h.t(q.o(255,0,0))}else h=q.V.create(this.data[e],"Arial",15),h.t(q.o(0,0,0));h.C(q.a(0,0));h.n(q.a(4,4));h.yb(q.size(246,0));f=[];c.push(f);a[d].g(g);a[d].g(h);"ISSECTION"==this.data[e]?a[d].T(324,h.c().height+12):a[d].T(324,h.c().height+8);d++}this.J=this.b.main_panel.list;this.J.Gc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(324,c)};this.J.zc=function(){return a.length};this.J.Mc=
function(c){return a[c].c()};this.J.Lc=function(c){return a[c]};this.J.Rb=function(){};this.J.ca=ListView.create(this.J);this.J.ca.Oc(c);this.J.g(this.J.ca)},oc:function(){return{panels:{position:q.a(300,200),children:{background_image:{$:"GUI/list_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(365,328),children:{list:{size:q.size(324,328),color:q.j(0,200,200,200),position:q.a(0,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Credits",
fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},wb:function(a){if(this._super(a))return!0;this.fe=null;a=this.b.main_panel.Ka(a.R);return H(this.b.main_panel,a)?!0:!1}});Login=Ia.extend({Ws:!1,Xl:!1,gD:function(){var a=this.oc();Ba(a,"panels",this.b)},w:function(a){G=Fa(G,W.zC());this._super();F.Kn(this);this.Wp=this.YC=!1;this.sk=new $(this.b.name_entry,q.size(this.b.name_entry.c().width,this.b.name_entry.c().height),q.a(0,this.b.name_entry.c().height),"Username",q.j(100,100,100),q.o(255,255,255));this.El=new $(this.b.password_entry,q.size(this.b.password_entry.c().width,this.b.password_entry.c().height),q.a(0,this.b.password_entry.c().height),"Password",q.j(100,
100,100),q.o(255,255,255));this.El.bq(0);this.uD=new $(this.b.new_user_name,q.size(this.b.new_user_name.c().width,this.b.new_user_name.c().height),q.a(0,this.b.new_user_name.c().height),"Username",q.j(100,100,100),q.o(255,255,255));this.vx=new $(this.b.new_user_pass,q.size(this.b.new_user_pass.c().width,this.b.new_user_pass.c().height),q.a(0,this.b.new_user_pass.c().height),"Password",q.j(100,100,100),q.o(255,255,255));this.vx.bq(0);this.tD=new $(this.b.new_user_email,q.size(this.b.new_user_email.c().width,
this.b.new_user_email.c().height),q.a(0,this.b.new_user_email.c().height),"Email Address",q.j(100,100,100),q.o(255,255,255));this.GH=!1;a&&(a.CJ?(z=[],y({logout:!0})):this.GH=!0,this.Mn(a.HD));this.ec(this.bC);this.FH=!1;this.ec(this.gE);this.LC();this.b.rem_login_text.yb(q.size(80,0));this.b.auto_login_text.yb(q.size(80,0));this.b.server_message.yb(q.size(300,0));this.b.server_message2.yb(q.size(150,0))},Cl:function(a){switch(a){case "ENTER":if(this.YC){a=this.uD.ba();var c=this.vx.ba(),d=this.tD.ba();
""!=a&&null!=a&&""!=c&&null!=c&&""!=d&&null!=d?!1==/\S+@\S+\.\S+/.test(d)?this.mg("Please use a correct email address."):(this.Wp=!0,this.mg("Registering please wait..."),this.dK({name:a,password:c,email:d})):this.mg("Please fill all fields.")}else!1==this.Xl&&this.Ws?(a=this.sk.ba(),c=this.El.ba(),""!=a&&null!=a&&""!=c&&null!=c?(this.Xl=!0,this.mg("Logging In"),y({login:!0,username:this.sk.ba(),password:this.El.ba()})):this.mg("Please enter a User and Password")):this.mx("Server is offline!")}},
Mn:function(a){this.Ws=a;!0==a?(this.b.server_activity.pa("Server: Online"),this.b.server_activity.t(q.o(0,255,0))):(this.b.server_activity.pa("Server: Offline"),this.b.server_activity.t(q.o(255,0,0)))},bC:function(){var a=W.fT();a&&!1==this.FH&&(this.sk.ge(a.user),this.FH=!0,this.El.ge(a.pass));!0==this.GH&&autoLoginNextTime&&!1==this.Xl&&this.Ws&&(!1==this.Xl&&this.Ws?(this.Xl=!0,this.mg("Logging In"),y({login:!0,username:this.sk.ba(),password:this.El.ba()})):this.mx("Server is offline!"))},gE:function(){if(0<
z.length)for(var a=z.length-1;0<=a;a--)reactToSocketMessage(z[a]),z.splice(a,1);autoLoginNextTime?(W.sK(!0),this.b.auto_login.ka(q.ja.f().na("GUI/checkbox_checked.png"))):(W.sK(!1),this.b.auto_login.ka(q.ja.f().na("GUI/checkbox_uncheck.png")));rememberLoginNextTime?this.b.remember_login.ka(q.ja.f().na("GUI/checkbox_checked.png")):this.b.remember_login.ka(q.ja.f().na("GUI/checkbox_uncheck.png"))},oc:function(){return{panels:{children:{background:{$:"GUI/splash.png",size:q.size(960,640),e:q.a(0,0),
position:q.a(0,0)},name_entry:{size:q.size(300,30),position:q.a(325,325)},password_entry:{size:q.size(300,30),position:q.a(325,290)},new_user_name:{size:q.size(300,30),position:q.a(325,360)},new_user_pass:{size:q.size(300,30),position:q.a(325,325)},new_user_email:{size:q.size(300,30),position:q.a(325,290)},remember_login:{size:q.size(20,20),position:q.a(630,295),$:"GUI/checkbox_uncheck.png",e:q.a(0,0)},rem_login_text:{label:"Remember login.",fontSize:16,color:q.o(255,255,255),e:q.a(0,1),position:q.a(665,
315)},auto_login:{size:q.size(20,20),position:q.a(630,330),$:"GUI/checkbox_uncheck.png",e:q.a(0,0)},auto_login_text:{label:"Auto login next time.",fontSize:16,color:q.o(255,255,255),e:q.a(0,0),position:q.a(665,330)},go_button:{position:q.a(325,240),size:q.size(120,40),color:q.j(0,0,0,255),children:{label:{label:"Play",fontSize:20,color:q.o(255,255,255),e:q.a(0.5,0.5),position:q.a(60,20)}}},register_button:{position:q.a(505,240),size:q.size(120,40),color:q.j(0,0,0,255),children:{label:{label:"Register",
fontSize:20,color:q.o(255,255,255),e:q.a(0.5,0.5),position:q.a(60,20)}}},new_user_back:{position:q.a(325,240),size:q.size(120,40),color:q.j(0,0,0,255),children:{label:{label:"Go Back",fontSize:20,color:q.o(255,255,255),e:q.a(0.5,0.5),position:q.a(60,20)}}},new_user_confirm:{position:q.a(505,240),size:q.size(120,40),color:q.j(0,0,0,255),children:{label:{label:"Confirm",fontSize:20,color:q.o(255,255,255),e:q.a(0.5,0.5),position:q.a(60,20)}}},credits_button:{position:q.a(30,400),size:q.size(120,40),
color:q.j(0,0,0,255),children:{label:{label:"Credits",fontSize:20,color:q.o(255,255,255),e:q.a(0.5,0.5),position:q.a(60,20)}}},news_button:{position:q.a(30,340),size:q.size(120,40),color:q.j(0,0,0,255),e:q.a(0,1),children:{label:{label:"News",fontSize:20,color:q.o(255,255,255),e:q.a(0.5,0.5),position:q.a(60,20)}}},server_message:{label:"",fontSize:16,color:q.o(255,255,255),e:q.a(0,1),position:q.a(325,220)},server_message2:{label:"This game saves data automatically.",fontSize:16,color:q.o(255,255,
255),e:q.a(0,1),position:q.a(175,355)},version_number:{label:G["Version Number"],fontSize:34,color:q.o(255,255,255),e:q.a(1,1),position:q.a(710,55)},server_activity:{position:q.a(910,630),size:q.size(100,20),e:q.a(0.5,0.5),label:"Server: Offline",color:q.o(255,0,0)}}}}},$X:function(){autoLoginNextTime?(autoLoginNextTime=!1,this.b.auto_login.ka(q.ja.f().na("GUI/checkbox_uncheck.png"))):(autoLoginNextTime=!0,this.b.auto_login.ka(q.ja.f().na("GUI/checkbox_checked.png")),rememberLoginNextTime=!0,this.b.remember_login.ka(q.ja.f().na("GUI/checkbox_checked.png")))},
aY:function(){rememberLoginNextTime?(rememberLoginNextTime=!1,this.b.remember_login.ka(q.ja.f().na("GUI/checkbox_uncheck.png")),autoLoginNextTime=!1,this.b.auto_login.ka(q.ja.f().na("GUI/checkbox_uncheck.png"))):(rememberLoginNextTime=!0,this.b.remember_login.ka(q.ja.f().na("GUI/checkbox_checked.png")))},wb:function(a){if(null!=this.sk.ba()&&this.b.go_button.ya&&q.rb(q.rect(this.b.go_button.u.H,this.b.go_button.u.Q,this.b.go_button.c().width,this.b.go_button.c().height),a.R)){if(!1==this.Xl&&this.Ws){a=
this.sk.ba();var c=this.El.ba();""!=a&&null!=a&&""!=c&&null!=c?(this.Xl=!0,this.mg("Logging In"),y({login:!0,username:this.sk.ba(),password:this.El.ba()})):this.mg("Please enter a User and Password")}else this.mx("Server is offline!");return!0}this.b.credits_button.ya&&q.rb(q.rect(this.b.credits_button.u.H,this.b.credits_button.u.Q,this.b.credits_button.c().width,this.b.credits_button.c().height),a.R)&&this.Lh("/openCredits");this.b.news_button.ya&&q.rb(q.rect(this.b.news_button.u.H,this.b.news_button.u.Q,
this.b.news_button.c().width,this.b.news_button.c().height),a.R)&&this.Lh("/openNews");if(this.b.register_button.ya&&q.rb(q.rect(this.b.register_button.u.H,this.b.register_button.u.Q,this.b.register_button.c().width,this.b.register_button.c().height),a.R))return this.NX(),!1;if(this.b.auto_login.ya&&q.rb(q.rect(this.b.auto_login.u.H,this.b.auto_login.u.Q,this.b.auto_login.c().width,this.b.auto_login.c().height),a.R))return this.$X(),!1;if(this.b.remember_login.ya&&q.rb(q.rect(this.b.remember_login.u.H,
this.b.remember_login.u.Q,this.b.remember_login.c().width,this.b.remember_login.c().height),a.R))return this.aY(),!1;if(this.b.new_user_back.ya&&!1==this.Wp&&q.rb(q.rect(this.b.new_user_back.u.H,this.b.new_user_back.u.Q,this.b.new_user_back.c().width,this.b.new_user_back.c().height),a.R))return this.LC(),this.mg(""),!1;if(this.b.new_user_confirm.ya&&!1==this.Wp&&q.rb(q.rect(this.b.new_user_confirm.u.H,this.b.new_user_confirm.u.Q,this.b.new_user_confirm.c().width,this.b.new_user_confirm.c().height),
a.R)){a=this.uD.ba();var c=this.vx.ba(),d=this.tD.ba();""!=a&&null!=a&&""!=c&&null!=c&&""!=d&&null!=d?!1==/\S+@\S+\.\S+/.test(d)?this.mg("Please use a correct email address."):(this.Wp=!0,this.mg("Registering please wait..."),this.dK({name:a,password:c,email:d})):this.mg("Please fill all fields.");return!1}},dK:function(a){a.newUser=1;y(a)},FR:function(){this.mg("Registration successful.");this.uD.ge("Username");this.vx.ge("Password");this.tD.ge("Email Address");this.Wp=!1;this.LC()},rS:function(a){this.Wp=
!1;switch(a){case "UserTaken":this.mg("Registration failed, user already exists.")}},NX:function(){this.b.new_user_name.D(!0);this.b.new_user_pass.D(!0);this.b.new_user_email.D(!0);this.b.new_user_confirm.D(!0);this.b.new_user_back.D(!0);this.b.register_button.D(!1);this.b.go_button.D(!1);this.b.name_entry.eb(-1E5);this.b.password_entry.eb(-1E5);this.b.new_user_name.eb(325);this.b.new_user_pass.eb(325);this.b.new_user_email.eb(325);this.b.rem_login_text.D(!1);this.b.auto_login_text.D(!1);this.b.auto_login.D(!1);
this.b.remember_login.D(!1);this.YC=!0},LC:function(){this.b.new_user_name.D(!1);this.b.new_user_pass.D(!1);this.b.new_user_email.D(!1);this.b.new_user_confirm.D(!1);this.b.new_user_back.D(!1);this.b.register_button.D(!0);this.b.go_button.D(!0);this.b.name_entry.eb(325);this.b.password_entry.eb(325);this.b.new_user_name.eb(-1E5);this.b.new_user_pass.eb(1E5);this.b.new_user_email.eb(1E5);this.b.rem_login_text.D(!0);this.b.auto_login_text.D(!0);this.b.auto_login.D(!0);this.b.remember_login.D(!0);this.YC=
!1},Lh:function(a){switch(a){case "/openCredits":null==CreditsPanel||CreditsPanel.ea||(CreditsPanel=null);CreditsPanel?(CreditsPanel.Ia(),CreditsPanel.O(),CreditsPanel=null):(CreditsPanel=new Credits,CreditsPanel.w(),CreditsPanel.sa(),this.g(CreditsPanel));break;case "/openNews":null==NewsPanel||NewsPanel.ea||(NewsPanel=null),NewsPanel?(NewsPanel.Ia(),NewsPanel.O(),NewsPanel=null):(NewsPanel=new News,NewsPanel.w(),NewsPanel.sa(),this.g(NewsPanel))}},CU:function(a){rememberLoginNextTime&&W.pX(this.sk.ba(),
this.El.ba());this.Rc(this.bC);F.f().sl("Game",{rj:a,map:1})},mx:function(a){this.Rc(this.bC);this.b.server_message.pa(a);this.Xl=!1},mg:function(a){this.b.server_message.pa(a)},D8:function(){F.f().sl("Game",{Oca:this.sk.ba()})}});K=null;MapMaster=!1;
var Ja=Ia.extend({pJ:!1,ctor:function(){this._super()},gD:function(){var a=R.r.P.jc();V.rl(a.x*M,a.y*M);a=this.oc();Ba(a,"panels",this.b);SkillBarsInstance.kq()},oc:function(){return{panels:{children:{saving_icon:{visible:!1,position:q.a(P.width-52,4),e:q.a(0,0),size:q.size(48,48),$:"GUI/save_icon.png"},logout_button:{position:q.a(P.width-52,P.height-52),e:q.a(0,0),size:q.size(48,48),$:"GUI/logout.png"},quicknav_button:{position:q.a(P.width-30,Math.floor(P.height/2)-24),e:q.a(0,0),size:q.size(48,
48),$:"GUI/quickmenu_closed_icon.png"},inventory_button:{position:q.a(P.width-52,Math.floor(P.height/2)+60),e:q.a(0,0),size:q.size(48,48),$:"GUI/inventory_icon.png"},equipment_button:{position:q.a(P.width-82,Math.floor(P.height/2)+4),e:q.a(0,0),size:q.size(48,48),$:"GUI/equipment_icon.png"},skill_button:{position:q.a(P.width-82,Math.floor(P.height/2)-52),e:q.a(0,0),size:q.size(48,48),$:"GUI/skills_icon.png"},chat_button:{position:q.a(P.width-52,Math.floor(P.height/2)-108),e:q.a(0,0),size:q.size(48,
48),$:"GUI/chat_icon.png"},quickedit_button:{position:q.a(0,Math.floor(P.height/2)-24),e:q.a(0,0),size:q.size(48,48),$:"GUI/quickedit_closed_icon.png"},mapedit_button:{position:q.a(4,Math.floor(P.height/2)+116),e:q.a(0,0),size:q.size(48,48),$:"GUI/mapeditor_icon.png"},npcedit_button:{position:q.a(34,Math.floor(P.height/2)+60),e:q.a(0,0),size:q.size(48,48),$:"GUI/npceditor_icon.png"},itemedit_button:{position:q.a(64,Math.floor(P.height/2)+4),e:q.a(0,0),size:q.size(48,48),$:"GUI/itemeditor_icon.png"},
skilledit_button:{position:q.a(64,Math.floor(P.height/2)-52),e:q.a(0,0),size:q.size(48,48),$:"GUI/skilleditor_icon.png"},scriptedit_button:{position:q.a(34,Math.floor(P.height/2)-108),e:q.a(0,0),size:q.size(48,48),$:"GUI/scripteditor_icon.png"},settings_button:{position:q.a(4,Math.floor(P.height/2)-164),e:q.a(0,0),size:q.size(48,48),$:"GUI/settings_icon.png"},shopedit_button:{position:q.a(120,Math.floor(P.height/2)+4),e:q.a(0,0),size:q.size(48,48),$:"GUI/shopeditor_icon.png"},questedit_button:{position:q.a(120,
Math.floor(P.height/2)-52),e:q.a(0,0),size:q.size(48,48),$:"GUI/questeditor_icon.png"}}}}},mJ:!1,kJ:!1,Mn:function(a){!1==a&&(this.eC(),F.f().sl("Login",{HD:!1}))},eC:function(){V.hf();V.Zs();null!=Equipment&&(Equipment.Ia(),Equipment.O(),Equipment=null);null!=Inventory&&(Inventory.Ia(),Inventory.O(),Inventory=null);null!=Bank&&(Bank.Ia(),Bank.BZ(),Bank=null);null!=Skills&&(Skills.Ia(),Skills.O(),Skills=null);null!=Quests&&(Quests.Ia(),Quests.O(),Quests=null);SkillBarsInstance.O();R.hf();R.Zs();S.hf();
S.Zs()},wb:function(a){if(q.rb(q.rect(this.b.logout_button.u.H,this.b.logout_button.u.Q,this.b.logout_button.c().width,this.b.logout_button.c().height),a.R))return this.eC(),F.f().sl("Login",{CJ:!0,HD:!0}),!0;F.Kn(this);if(q.rb(this.b.chat_button.lb(),a.R)&&this.b.chat_button.ya)return this.Cl("C"),!0;if(q.rb(this.b.inventory_button.lb(),a.R)&&this.b.inventory_button.ya)return this.Cl("I"),!0;if(q.rb(this.b.equipment_button.lb(),a.R)&&this.b.equipment_button.ya)return this.Cl("E"),!0;if(q.rb(this.b.skill_button.lb(),
a.R)&&this.b.skill_button.ya)return this.Cl("S"),!0;if(this.b.quickedit_button.ya&&q.rb(this.b.quickedit_button.lb(),a.R)&&this.b.quickedit_button.ya)return this.oL(!this.kJ),!0;if(q.rb(this.b.quicknav_button.lb(),a.R)&&this.b.quicknav_button.ya)return this.pL(!this.mJ),!0;if(q.rb(this.b.mapedit_button.lb(),a.R)&&this.b.mapedit_button.ya)return this.Lh("/editmap"),!0;if(q.rb(this.b.npcedit_button.lb(),a.R)&&this.b.npcedit_button.ya)return this.Lh("/editnpc"),!0;if(q.rb(this.b.itemedit_button.lb(),
a.R)&&this.b.itemedit_button.ya)return this.Lh("/edititem"),!0;if(q.rb(this.b.skilledit_button.lb(),a.R)&&this.b.skilledit_button.ya)return this.Lh("/editskill"),!0;if(q.rb(this.b.scriptedit_button.lb(),a.R)&&this.b.scriptedit_button.ya)return this.Lh("/editscript"),!0;if(q.rb(this.b.settings_button.lb(),a.R)&&this.b.settings_button.ya)return this.Lh("/editsettings"),!0;if(q.rb(this.b.shopedit_button.lb(),a.R)&&this.b.shopedit_button.ya)return this.Lh("/editshop"),!0;if(q.rb(this.b.questedit_button.lb(),
a.R)&&this.b.questedit_button.ya)return this.Lh("/editquest"),!0},OX:function(a,c){null==Sign||Sign.ea||(Sign=null);Sign?(Sign.Ia(),Sign.O(),Sign=null):(Sign=new SignPanel,Sign.w(a,c),Sign.sa(),this.g(Sign))},KX:function(a,c){null==Book||Book.ea||(Book=null);Book?(Book.Ia(),Book.O(),Book=null):(Book=new BookPanel,Book.w(a,c),Book.sa(),this.g(Book))},MX:function(a,c,d,e,f,g){null==NpcChat||NpcChat.ea||(NpcChat=null);NpcChat&&(NpcChat.Ia(),NpcChat.O(),NpcChat=null);NpcChat=new NpcChatPanel;NpcChat.w(a,
c,d,e,f,g);NpcChat.sa();this.g(NpcChat)},GT:function(){null==NpcChat||NpcChat.ea||(NpcChat=null);NpcChat&&(NpcChat.Ia(),NpcChat.O(),NpcChat=null)},Cl:function(a){switch(a){case "C":S.fU()?S.TI():S.show();break;case "ENTER":S.KD(!S.XC());break;case "SPACE":R.r.P.ZT();Inventory&&Inventory.ib();break;case "CTRL":R.r.P.XT();break;case "ESC":this.eC();F.f().sl("Login",{CJ:!0,HD:!0});break;case "I":null==Inventory||Inventory.ea||(Inventory=null);Inventory?(Inventory.Ia(),Inventory.O(),Inventory=null):(null==
Bank||Bank.ea||(Bank=null),Bank||(Inventory=new InventoryPanel,Inventory.w(),Inventory.sa(),this.g(Inventory)));break;case "E":null==Equipment||Equipment.ea||(Equipment=null);Equipment?(Equipment.Ia(),Equipment.O(),Equipment=null):(Equipment=new EquipmentPanel,Equipment.w(),Equipment.sa(),this.g(Equipment));break;case "S":null==Skills||Skills.ea||(Skills=null);Skills?(Skills.Ia(),Skills.O(),Skills=null):(Skills=new SkillsPanel,Skills.w(),Skills.sa(),this.g(Skills));break;case "Q":null==Quests||Quests.ea||
(Quests=null),Quests?(Quests.Ia(),Quests.O(),Quests=null):(Quests=new QuestsPanel,Quests.w(),Quests.sa(),this.g(Quests))}},fD:function(a){var c=R.r.P.jc();R.r.P.path=null;if(0==c.x%1&&0==c.y%1)switch(a){case "RIGHTARROW":R.r.P.mq(c.x+1,c.y);break;case "LEFTARROW":R.r.P.mq(c.x-1,c.y);break;case "UPARROW":R.r.P.mq(c.x,c.y+1);break;case "DOWNARROW":R.r.P.mq(c.x,c.y-1)}},pL:function(a){this.mJ=a;this.b.chat_button.D(a);this.b.inventory_button.D(a);this.b.equipment_button.D(a);this.b.skill_button.D(a);
this.b.quicknav_button.ka(q.ja.f().na(!0==a?"GUI/quickmenu_opened_icon.png":"GUI/quickmenu_closed_icon.png"))},oL:function(a){this.kJ=a;this.b.mapedit_button.D(a);this.b.npcedit_button.D(a);this.b.itemedit_button.D(a);this.b.skilledit_button.D(a);this.b.scriptedit_button.D(a);this.b.settings_button.D(a);this.b.shopedit_button.D(a);this.b.questedit_button.D(a);this.b.quickedit_button.ka(q.ja.f().na(!0==a?"GUI/quickedit_opened_icon.png":"GUI/quickedit_closed_icon.png"))},Lh:function(a){if(a){if(1<R.r.P.zp)switch(a){case "/editscript":null==
Scripteditor||Scripteditor.ea||(Scripteditor=null);Scripteditor?(Scripteditor.Ia(),Scripteditor.O(),Scripteditor=null):(Scripteditor=new ScriptingList,Scripteditor.w({l:null,gj:new ScriptEditor,list:ObjectLists.Ge(),name:"Script List"}),Scripteditor.sa(),this.g(Scripteditor));break;case "/editshop":null==Shopeditor||Shopeditor.ea||(Shopeditor=null);Shopeditor?(Shopeditor.Ia(),Shopeditor.O(),Shopeditor=null):(Shopeditor=new PopupList,Shopeditor.w({l:null,gj:new ShopEditor,list:ObjectLists.BC(),name:"Shop List"}),
Shopeditor.sa(),this.g(Shopeditor));break;case "/editmap":null==Mapeditor||Mapeditor.ea||(Mapeditor=null);Mapeditor?(Mapeditor.Ia(),Mapeditor.O(),Mapeditor=null,V.$s(null)):(Mapeditor=new MapEditor,Mapeditor.w(),Mapeditor.sa(),this.g(Mapeditor),V.$s(Mapeditor));break;case "/editsettings":null==Settingseditor||Settingseditor.ea||(Settingseditor=null);Settingseditor?(Settingseditor.Ia(),Settingseditor.O(),Settingseditor=null):(Settingseditor=new SettingsEditor,Settingseditor.w(),Settingseditor.sa(),
this.g(Settingseditor));break;case "/editskill":null==Skillseditor||Skillseditor.ea||(Skillseditor=null);Skillseditor?(Skillseditor.Ia(),Skillseditor.O(),Skillseditor=null):(Skillseditor=new PopupList,Skillseditor.w({l:null,gj:new SkillsEditor,list:ObjectLists.ok(),name:"Skills List"}),Skillseditor.sa(),this.g(Skillseditor));break;case "/edititem":null==Itemeditor||Itemeditor.ea||(Itemeditor=null);Itemeditor?(Itemeditor.Ia(),Itemeditor.O(),Itemeditor=null,V.$s(null)):(Itemeditor=new PopupList,Itemeditor.w({l:null,
gj:new ItemEditor,list:ObjectLists.Fc(),name:"Item List"}),Itemeditor.sa(),this.g(Itemeditor));break;case "/editnpc":null==NPCeditor||NPCeditor.ea||(NPCeditor=null);NPCeditor?(NPCeditor.Ia(),NPCeditor.O(),NPCeditor=null,V.$s(null)):(NPCeditor=new PopupList,NPCeditor.w({l:null,gj:new NPCEditor,list:ObjectLists.Mp(),name:"NPC List"}),NPCeditor.sa(),this.g(NPCeditor));break;case "/editquest":null==Questeditor||Questeditor.ea||(Questeditor=null),Questeditor?(Questeditor.Ia(),Questeditor.O(),Questeditor=
null,V.$s(null)):(Questeditor=new PopupList,Questeditor.w({l:null,gj:new QuestEditor,list:ObjectLists.Pp(),name:"Quest List"}),Questeditor.sa(),this.g(Questeditor))}switch(a){case "/help":S.showHelp();break;case "/commands":S.LX();break;case "/diceroll":a=Math.floor(6*Math.random()+1);var c=G["/diceroll"],c=c.replace("\x3cPLAYER\x3e",R.r.P.getName()),c=c.replace("\x3cVALUE\x3e",a);S.Hb(c);y({diceroll:c});break;case "/coinflip":a=1==Math.floor(3*Math.random()+1)?"Heads":"Tails";c=G["/coinflip"];c=
c.replace("\x3cPLAYER\x3e",R.r.P.getName());c=c.replace("\x3cVALUE\x3e",a);S.Hb(c);y({coinflip:c});break;case "/dance":a=G["/dance"];a=a.replace("\x3cPLAYER\x3e",R.r.P.getName());S.Hb(a);y({dance:a});break;case "/afk":R.r.P.updateStatus("AFK"),y({afk:!0})}}},w:function(a){this._super();K=this;this.g(V.create());ObjectLists.f();R.create({name:a.rj.name,oj:!0,Pn:{health:{Zc:1,value:100,fg:200,eg:900},mana:{Zc:1,value:100,fg:200,eg:99}},map:a.rj.location.mapnumber?a.rj.location.mapnumber:1,position:a.rj.location.position,
kt:"sprites1.png",it:1,zp:a.rj.rank,fJ:a.rj.inventory,eI:a.rj.equipment,Fl:a.rj.quests,qi:a.rj.extraData});V.RQ();this.b.O();this.hq(-20);y({moveTo:R.r.P.jc().x+R.r.P.jc().y*O});this.g(S.create());this.g(U.create(a.rj.skills));this.pL(!1);this.oL(!1);this.GX();this.g(this.b);this.ec(this.gE);this.ec(this.mW);this.ec(this.fW,120)},fW:function(){var a={saveUser:!0,name:R.r.P.getName(),location:{mapnumber:V.Ef(),position:R.r.P.jc().x+R.r.P.jc().y*O},inventory:R.r.P.Mg(),equipment:R.r.P.Ow(),skills:[],
clan:"",guilds:[],quests:R.r.P.Fl,friends:[],bank:R.r.P.Ip(),pets:[],pmessages:[],lastchats:[],health:100,extraData:R.r.P.qi};this.b.saving_icon.D(!0);this.pJ=!0;y(a);console.log("SAVING NOW!")},vS:function(){this.b.saving_icon.D(!1);this.pJ=!1},GX:function(){1==R.r.P.zp&&this.b.quickedit_button.D(!1)},gE:function(){if(0<z.length)for(var a=0;a<z.length;a++){var c=JSON.parse(z[a]);c.moveTo&&(!R.si(c.id)||R.si(c.id)&&!1==R.si(c.id).Tg)?(reactToSocketMessage(JSON.stringify(c)),z.splice(a,1)):c.moveTo||
(reactToSocketMessage(JSON.stringify(c)),z.splice(a,1))}},mW:function(){if(!0==MapMaster){var a=R.WM(),c;for(c in a)if(!1==a[c].sx){var d=10*Math.random()+1,e=a[c].jc();switch(Math.floor(4*Math.random())+1){case 1:e.x++;break;case 2:e.y++;break;case 3:e.x--;break;case 4:e.y--}a[c].jX(e,d)}}}});var Ka=q.Ma.extend({pd:null,u3:!1,KD:function(a){console.log("setting focused: "+a);a&&!0==a?this.pd.K.focus():(console.log("blurrin"),this.pd.K.blur())},XC:function(){console.log("isfocused\x3d"+document.activeElement==this.pd.K);return document.activeElement==this.pd.K},pa:function(a){this.pd.ge(a)},CC:function(){return this.pd.ba()},w:function(){q.log("Ovveride inputbox init call if necessary")},ctor:function(a,c,d,e,f,g,h,k){h&&!1!=h?(this.pd=MultiLineBox.create(q.size(c.width,c.height),k?q.Ud.create(k):
q.Ud.create()),this.pd.Ys(q.o(f.q,f.p,f.k))):(this.pd=SingleLineBox.create(q.size(c.width,c.height),k?q.Ud.create(k):q.Ud.create()),c=ka(f.q,f.p,f.k),this.pd.K.style.background=c);this.pd.ge(e);this.pd.TR=e;this.pd.LD(q.o(g.q,g.p,g.k));this.pd.n(d.x,d.y);this.pd.C(q.a(0,1));this.pd.lg(this);a.g(this.pd);this.w()}});var La=Ka.extend({pl:function(a){a.ge("")},ql:function(a,c){c||("/"==a.ba().substring(0,1)?this.cW(a.ba()):0<a.ba().length&&S.Hb(a.ba(),!0));a.ge(G["Default ChatBar Message"])},cW:function(a){F.f().nd.Lh(a)},oi:function(a,c){a.ge(c);q.log("chatBox "+this.cG(a)+", TextChanged, text: "+c)},cG:function(){return"chatbox"}}),Z=null,S=q.Sc.extend({aC:null,xH:function(a){for(var c=[],d=0;7>d;d++)c.push(this.b.chat_panel["label"+d].CC());this.b.chat_panel.label0.pa(a);for(d=1;8>d;d++)this.b.chat_panel["label"+
d].pa(c[d-1])},oc:function(){return{panels:{children:{chat_panel:{size:q.size(400,150),$:"GUI/chat.png",e:q.a(0,0),opacity:200,position:q.a(0,0),children:{chatbar:{size:q.size(390,22),position:q.a(5,124),color:q.j(255,255,255,255)},label7:{label:"",position:q.a(5,0),e:q.a(0,0),color:q.o(0,0,0)},label6:{label:"",position:q.a(5,15),e:q.a(0,0),color:q.o(0,0,0)},label5:{label:"",position:q.a(5,30),e:q.a(0,0),color:q.o(0,0,0)},label4:{label:"",position:q.a(5,45),e:q.a(0,0),color:q.o(0,0,0)},label3:{label:"",
position:q.a(5,60),e:q.a(0,0),color:q.o(0,0,0)},label2:{label:"",position:q.a(5,75),e:q.a(0,0),color:q.o(0,0,0)},label1:{label:"",position:q.a(5,90),e:q.a(0,0),color:q.o(0,0,0)},label0:{label:"",position:q.a(5,105),e:q.a(0,0),color:q.o(0,0,0)}}}}}}}});
S.create=function(){Z||(Z=new S,Z.b=ya(Z),Z.g(Z.b),Z.aC=new La(Z.b.chat_panel.chatbar,q.size(Z.b.chat_panel.chatbar.c().width-4,Z.b.chat_panel.chatbar.c().height),q.a(2,Z.b.chat_panel.chatbar.c().height),G["Default ChatBar Message"],q.o(255,255,255),q.o(0,0,0)),S.TI(),S.PX());return Z};S.f=function(){return Z};S.Hb=function(a,c){50<a.length&&(a=a.substring(0,50)+"...");c?(y({chatMessage:a}),Z.xH(R.r.P.getName()+": "+a)):Z.xH(a)};S.show=function(){Z.b.uc(0)};S.TI=function(){Z.b.uc(-76)};
S.fU=function(){return 0!=Z.b.u.Q?!1:!0};S.KD=function(a){Z.aC.KD(a)};S.XC=function(){return Z.aC.XC()};S.showHelp=function(){S.Hb(s.Fe.BT);S.Hb(s.Fe.CT);S.Hb(s.Fe.DT);S.Hb(s.Fe.ET);S.Hb(s.Fe.FT)};S.LX=function(){S.Hb(s.Fe.BR);S.Hb(s.Fe.CR);S.Hb(s.Fe.DR);S.Hb(s.Fe.ER)};S.PX=function(){S.Hb(G["Welcome Message"])};S.hf=function(){Z.b.O();Z.b=null};S.Zs=function(){Z.O();Z=null};var $=Ka.extend({Qp:!1,IJ:!1,XH:!1,WC:!1,pl:function(a){!1==this.XH&&a.ge("");this.WC=!0},bq:function(a){this.pd.bq(a)},E7:function(){return this.WC},ql:function(a){this.WC=!1;null==a.ba()||""==a.ba().length&&this.IJ?this.Qp=!0:0<!a.ba().length?(a.ge(this.pd.TR),this.Qp=!1):this.Qp=!0},oi:function(a,c){a.ge(c);this.Qp=!0},cG:function(){return"name_entry"},ba:function(){return!0==this.Qp||!0==this.SR?this.pd.ba():null},ge:function(a){this.pd.ge(a);this.Qp=!0},ob:function(a){this.SR=a},Pc:function(a){this.IJ=
a},AK:function(a){this.XH=a},w:function(){}});var z=[],Ma=io.connect(la["SERVER:PORT"],{"sync disconnect on unload":!0,"connect timeout":5E3,"reconnection delay ":100});Ma.on("connect",function(){W.wy();W.eM();W.pN();console.log("Client has connected to the server!");if(F){var a=F.f().nd;a?a.Mn(!0):z.push(JSON.stringify({connect:!0}))}else z.push(JSON.stringify({connect:!0}))});Ma.on("message",function(a){reactToSocketMessage(a)});
reactToSocketMessage=function(a){a=JSON.parse(a);var c=!1,d;for(d in a){c=!0;break}if(!1!=c)if(console.log("Received a message from the server!",a),a.sync)a.mapdata&&W.GL(a.mapdata,a.maptime),a.warpdata&&W.ey(a.warpdata,a.warptime),a.itemdata&&W.pt(a.itemdata,a.itemtime),a.skillsdata&&W.qE(a.skillsdata,a.skillstime),a.signsdata&&W.dy(a.signsdata,a.signstime),a.npcsdata&&W.HL(a.npcsdata,a.npcstime),a.questdata&&W.cy(a.questdata,a.queststime),a.shopsdata&&W.NL(a.shopsdata,a.shopstime),a.settingsdata&&
(W.pE(a.settingsdata,a.settingstime),G=Fa(G,a.settingsdata)),a.scriptsdata&&W.ML(a.scriptsdata,a.scriptstime),sa=!0;else if(c=F.f().nd)if(a.connect?c.Mn(!0):a.disconnect&&c.Mn(!1),"Game"==c.Ec())if(a.newPlayer)R.QQ({id:a.id,location:{position:a.position,mapnumber:a.mapnumber}});else if(a.playerLeft)R.si(a.playerLeft).hg==R.r.P.hg&&(MapMaster=!1),R.WH(a.playerLeft);else if(a.setTo)if(!R.si(a.id)||R.si(a.id)&&!1==R.si(a.id).Tg){for(c=0;c<z.length;c++)d=JSON.parse(z[c]),d.moveTo&&null!=d.moveTo&&d.id==
a.id&&(z.splice(c,1),c--);R.dV({id:a.id,location:{position:a.position,mapnumber:a.mapnumber}});R.si(a.id).hg==R.r.P.hg&&(MapMaster=!1);R.oR(a.id,a.mapnumber)}else z.push(JSON.stringify(a));else a.moveTo?!R.si(a.id)||R.si(a.id)&&!1==R.si(a.id).Tg?R.zU({id:a.id,location:{position:a.position,mapnumber:a.mapnumber}}):z.push(JSON.stringify(a)):a.chatMessage?S.Hb(a.chatMessage):a.coinflip?S.Hb(a.coinflip):a.diceroll?S.Hb(a.diceroll):a.dance?S.Hb(a.dance):a.afk?R.pR(a.afk):a.savemap?(W.mR(a.savemap,a.mapdata,
a.updatetime),V.IX(a.mapdata)):a.mapmaster?MapMaster=!0:a.savewarps?(W.wR(parseInt(a.savewarps),a.warpdata,a.updatetime),ObjectLists.MI()[parseInt(a.savewarps)]=a.warpdata,Warpeditor&&(Warpeditor.cb=ObjectLists.MI(),Warpeditor.sa())):a.savewarpswhole?(W.DV(a.savewarpswhole,a.updatetime),ObjectLists.EX(a.savewarpswhole)):a.savescripts?(W.rR(parseInt(a.savescripts),a.scriptsdata,a.updatetime),ObjectLists.Ge()[parseInt(a.savescripts)]=a.scriptsdata,Scripteditor&&(Scripteditor.cb=ObjectLists.Ge(),Scripteditor.sa())):
a.savescriptswhole?(W.zV(a.savescriptswhole,a.updatetime),ObjectLists.rX(a.savescriptswhole)):a.savesettings?(W.pE(a.savesettings,a.updatetime),G=Fa(G,a.savesettings),Settingseditor&&(Settingseditor.data=J(G),Settingseditor.xb())):a.savequests?(W.qR(parseInt(a.savequests),a.questdata,a.updatetime),ObjectLists.Pp()[parseInt(a.savequests)]=a.questdata,Questeditor&&(Questeditor.cb=ObjectLists.Pp(),Questeditor.sa())):a.savequestswhole?(n,W.yV(a.savequestswhole,a.updatetime),ObjectLists.mX(a.savequestswhole)):
a.saveshops?(W.sR(parseInt(a.saveshops),a.shopsdata,a.updatetime),ObjectLists.BC()[parseInt(a.saveshops)]=a.shopsdata,Shopeditor&&(Shopeditor.cb=ObjectLists.BC(),Shopeditor.sa())):a.saveshopswhole?(W.AV(a.saveshopswhole,a.updatetime),ObjectLists.sX(a.saveshopswhole)):a.saveskills?(W.uR(parseInt(a.saveskills),a.skillsdata,a.updatetime),ObjectLists.ok()[parseInt(a.saveskills)]=a.skillsdata,Skillseditor&&(Skillseditor.cb=ObjectLists.ok(),Skillseditor.sa()),U.update(),Skills&&Skills.ib()):a.saveskillswhole?
(W.CV(a.saveskillswhole,a.updatetime),ObjectLists.uX(a.saveskillswhole),U.update(),Skills&&Skills.ib()):a.savesigns?(W.tR(parseInt(a.savesigns),a.signsdata,a.updatetime),ObjectLists.EI()[parseInt(a.savesigns)]=a.signsdata,Signeditor&&(Signeditor.cb=ObjectLists.EI(),Signeditor.sa())):a.moveNPC?(a.npcID=parseInt(a.npcID),!R.Lp(a.npcID)||R.Lp(a.npcID)&&!1==R.Lp(a.npcID).Tg?R.yU(a.npcID,a.moveNPC,a.mapnumber):z.push(JSON.stringify(a))):a.changeNPCPosition?R.Lp(a.npcID)&&(a.npcID=parseInt(a.npcID),R.Lp(a.npcID)&&
!1==R.Lp(a.npcID).Tg?R.UV(a.npcID,a.changeNPCPosition):z.push(JSON.stringify(a))):a.savesignswhole?(W.BV(a.savesignswhole,a.updatetime),ObjectLists.tX(a.savesignswhole)):a.savenpcs?(W.nR(parseInt(a.savenpcs),a.npcsdata,a.updatetime),ObjectLists.Mp()[parseInt(a.savenpcs)]=a.npcsdata,V.Ks(V.Ef(),!0),NPCeditor&&(NPCeditor.cb=ObjectLists.Mp(),NPCeditor.sa())):a.savenpcswhole?(W.xV(a.savenpcswhole,a.updatetime),ObjectLists.XW(a.savenpcswhole),V.Ks(V.Ef(),!0),NPCeditor&&(NPCeditor.cb=ObjectLists.Mp(),NPCeditor.sa())):
a.saveitems?(W.lR(parseInt(a.saveitems),a.itemdata,a.updatetime),c=ObjectLists.Fc()[parseInt(a.saveitems)].name,ObjectLists.Fc()[parseInt(a.saveitems)]=a.itemdata,V.Ks(V.Ef()),Itemeditor&&(Itemeditor.cb=ObjectLists.Fc(),Itemeditor.sa()),Inventory&&Inventory.ib(),R.r.P.pt(c,a.itemdata)):a.droppeditem?a.mapnumber==V.Ef()&&!1==V.f().Sg?(c=V.JI(a.index),c.zH(a.droppeditem,a.amount),V.qt()):z.push(JSON.stringify(a)):a.pickupitem?a.mapnumber==V.Ef()&&(c=V.JI(a.pickupitem),c.removeItem(),V.qt()):a.saveitemswhole?
(W.wV(a.saveitemswhole,a.updatetime),ObjectLists.PW(a.saveitemswhole)):a.savesuccess&&c.vS();else"Login"==c.Ec()&&(a.login_success?c.CU(a.login_success):a.login_fail?c.mx(a.login_fail):a.registrationsuccess?c.FR():a.registrationfailed&&c.rS(a.registrationfailed));else z.push(JSON.stringify(a))};Ma.on("disconnect",function(){console.log("The client has disconnected!");var a=F.f().nd;a?a.Mn(!1):z.push(JSON.stringify({disconnect:!0}))});function y(a){Ma.send(JSON.stringify(a))};var F=q.Sc.extend({r:null,Cp:null,nd:null,vH:null,w:function(){Ea();q.qa.f().nX(this.PU);var a=q.qa.f().jn();this.Cp=q.v.create();this.Cp.t(q.o(0,0,0));this.Cp.fb(q.rect(0,0,a.width,a.height));this.Cp.C(q.a(0,0));this.g(this.Cp);W.f()&&sa?(G=Fa(G,W.zC()),this.sl("Login",{}),this.ec(this.LH),autoLoginNextTime=W.iJ(),rememberLoginNextTime=W.oJ()):this.ec(this.UI)},PU:function(){var a=q.qa.f();P=q.size(a.jn().width,a.jn().height);F.f().Cp.fb(q.rect(0,0,P.width,P.height));F.f().nd.gD()},UI:function(){W.f()&&
sa&&(this.Rc(this.UI),G=Fa(G,W.zC()),this.sl("Login",{}),this.ec(this.LH),autoLoginNextTime=W.iJ(),rememberLoginNextTime=W.oJ())},LH:function(){for(var a in ma)if(!0==ma[a]&&null!=this.nd){var c=null;a=parseInt(a);switch(a){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";
break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a&&58>a||64<a&&91>a)&&(c=String.fromCharCode(a));null!=c&&this.nd.fD(c)}},sl:function(a,c){null!=this.nd&&(this.nd.Ia(),this.nd.O(),this.nd=null);switch(a){case "Login":this.nd=new Login;break;case "Game":this.nd=new Ja}this.nd.RL();this.g(this.nd,1);this.nd.NW(a);this.nd.sa();this.nd.w(c)},f4:function(){return this.nd.Ec()}});
F.f=function(){null==this.r&&(this.r=new F);return this.r};F.Kn=function(a){null==this.r&&(this.r=new F);this.r.vH=a};F.xS=function(){null==this.r&&(this.r=new F);return this.r.vH};var P;
new (q.Aj.extend({Fw:document.ccConfig,ctor:function(){this._super();q.xt=this.Fw.COCOS2D_DEBUG;q.Pl(this.Fw.tag);q.ky.JX().aS()},cR:function(){var a=this.Fw,c=q.da.f(),d=q.qa.f();d.XV(!0);P=d.jn();q.size(P.width,P.height);var e=q.size(P.width,P.height),f=q.Td.f();q.Aj.f();f.YK(["res/Graphics"]);q.Nh&&q.Nh.f().aba("res/Audio");c.AW(1);d.ID(e.width,e.height,q.fo.SHOW_ALL);c.Xs(1/a.frameRate);a.test?q.test(a.test):q.qU(function(a){q.Ny.mD(a,function(){document.getElementById("gameCanvas").setAttribute("tabindex","0");
document.getElementById("gameCanvas").focus();var a=F.f();q.da.f().jK(a);a.w()})});return!0}}));
//@ sourceMappingURL=sourcemap