var b,p={j_:"2D Circle Graphic/TOWNBOT2.bmp",k_:"2D Circle Graphic/TOWNBOT2.png",l_:"2D Circle Graphic/TOWNJNT2.bmp",E_:"2D Circle Graphic/_BACKUP_.bmp",D_:"40x40Tiles.png",a1:"GUI/bankeditor_icon.png",c1:"GUI/book.png",f1:"GUI/btnDown.png",g1:"GUI/btnLeft.png",h1:"GUI/btnRight.png",i1:"GUI/btnUp.png",B1:"GUI/chat.png",A1:"GUI/chat_icon.png",C1:"GUI/checkbox_checked.png",D1:"GUI/checkbox_uncheck.png",E1:"GUI/close.png",N1:"GUI/cross_icon.png",S1:"GUI/defaultitem.png",j2:"GUI/edit.png",k2:"GUI/editor-tab.png",
n2:"GUI/equipment.png",m2:"GUI/equipment_icon.png",o2:"GUI/event_panel.png",l6:"GUI/healthbar.png",C6:"GUI/inventory.png",B6:"GUI/inventory_icon.png",s7:"GUI/itemeditor_bg.png",t7:"GUI/itemeditor_icon.png",u7:"GUI/itemeditor_tab1_bg.png",v7:"GUI/itemeditor_tab2_bg.png",w7:"GUI/itemeditor_tab3_bg.png",H7:"GUI/list_panel.png",O7:"GUI/logout.png",R7:"GUI/mapeditor_icon.png",W7:"GUI/npceditor_icon.png",X7:"GUI/npctalk.png",d9:"GUI/quest_panel.png",e9:"GUI/questeditor_icon.png",f9:"GUI/quickedit_closed_icon.png",
g9:"GUI/quickedit_opened_icon.png",h9:"GUI/quickmenu_closed_icon.png",i9:"GUI/quickmenu_opened_icon.png",O9:"GUI/save_icon.png",P9:"GUI/scripteditor_icon.png",S9:"GUI/selected.png",Raa:"GUI/settings_icon.png",Saa:"GUI/shopeditor_icon.png",Taa:"GUI/signeditor_bg.png",Uaa:"GUI/signeditor_icon.png",Vaa:"GUI/signpost.png",Waa:"GUI/skilleditor_icon.png",Yaa:"GUI/skills.png",Xaa:"GUI/skills_icon.png",aba:"GUI/splash.png",yba:"GUI/texture_change_left.png",zba:"GUI/texture_change_middle.png",Aba:"GUI/texture_change_right.png",
Bba:"GUI/tick_icon.png",Lba:"GUI/trash.png",Uba:"GUI/use.png",cca:"GUI/warpeditor_bg.png",dca:"GUI/warpeditor_icon.png",j1:"building1.png",z1:"character_graphics.txt",x7:"items1.png",bba:"sprites1.png",Cba:"tile_graphics.txt",Dba:"tiles0.png",Eba:"tiles1.png"};var q=q||{},aa={};q.PT=function(a){var c=q.eD[aa.mH.RE];if(c){for(var d=[],e=0;e<c.length;++e)d.push({src:c[e]});a(d)}else a([])};aa={mH:{RE:"_0"}};q.eD={};q.eD[aa.mH.RE]=[];q.eD.NQ=[];q=q||{};function r(){return arguments.callee.name||arguments.callee.toString().match(/^function ([^(]+)/)[1]}r.id=0|998*Math.random();r.xT=0|998*Math.random();
r.nH=function(a,c,d){for(var e=a.toString(),f=e.substring(e.indexOf("(")+1,e.indexOf(")")),f=f.trim(),e=e.substring(e.indexOf("{")+1,e.lastIndexOf("}"));-1!=e.indexOf("this._super");)var g=e.indexOf("this._super"),h=e.indexOf("(",g),k=e.substring(h+1,e.indexOf(")",h)),k=(k=k.trim())?",":"",l=arguments.callee.ML(),e=e.substring(0,g)+l+"["+d+"]."+c+".call(this"+k+e.substring(h+1);return Function(f,e)};r.nH.ML=r;r.rS=function(){return this.id++};r.sS=function(){return this.xT++};
(function(){var a=/\b_super\b/,c=document.ccConfig&&document.ccConfig.CLASS_RELEASE_MODE?document.ccConfig.CLASS_RELEASE_MODE:null;c&&console.log("release Mode");q.La=function(){};q.La.extend=function(d){function e(){this.lc=r.sS();this.ctor&&this.ctor.apply(this,arguments)}var f=this.prototype,g=Object.create(f),h=r.rS();r[h]=f;var k={writable:!0,enumerable:!1,configurable:!0},l;for(l in d)c&&"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=r.nH(d[l],l,h),Object.defineProperty(g,
l,k)):"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=function(a,c){return function(){var d=this._super;this._super=f[a];var e=c.apply(this,arguments);this._super=d;return e}}(l,d[l]),Object.defineProperty(g,l,k)):"function"==typeof d[l]?(k.value=d[l],Object.defineProperty(g,l,k)):g[l]=d[l];g.lc=null;e.id=h;k.value=h;Object.defineProperty(g,"__pid",k);e.prototype=g;k.value=e;Object.defineProperty(e.prototype,"constructor",k);e.extend=arguments.callee;e.o6=function(a){for(var c in a)g[c]=
a[c]};return e};Function.prototype.bind=Function.prototype.bind||function(a){var c=this;return function(){var f=Array.prototype.slice.call(arguments);return c.apply(a||null,f)}}})();q.q6=function(a,c){function d(){}d.prototype=c.prototype;a.Ex=c.prototype;a.prototype=new d;a.prototype.constructor=a};
q.NQ=function(a,c,d){var e=arguments.callee.caller;if(e.Ex)return ret=e.Ex.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var f=Array.prototype.slice.call(arguments,2),g=!1,h=a.constructor;h;h=h.Ex&&h.Ex.constructor)if(h.prototype[c]===e)g=!0;else if(g)return h.prototype[c].apply(a,f);if(a[c]===e)return a.constructor.prototype[c].apply(a,f);throw Error("cc.base called from a method of one name to a method of a different name");};
q.H1=function(a,c){a||(a={});for(var d in c)a[d]=c[d];return a};q.ah=function(a,c){this.x=a||0;this.y=c||0};q.dF=function(a,c){this.J=a||0;this.P=c||0;this.OK=function(a){this.J=a};this.PK=function(a){this.P=a}};q.Gd=function(){return new q.dF(0,0)};
Object.defineProperties(q.dF.prototype,{x:{get:function(){return this.J},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0},y:{get:function(){return this.P},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0}});q.AZ=function(a,c){q.log("cc.PointMake will be deprecated sooner or later. Use cc.p instead.");return new q.ah(a,c)};
q.a=function(a,c){return{x:a,y:c}};q.k0=q.a;q.vj=function(){return q.a(0,0)};q.xJ=function(a,c){return a&&c?a.x===c.x&&a.y===c.y:!1};q.wk=function(a,c){this.width=a||0;this.height=c||0};q.eF=function(a,c){this.Ha=a||0;this.xa=c||0;this.CD=function(a){this.Ha=a};this.qD=function(a){this.xa=a}};q.Em=function(){return new q.eF(0,0)};
Object.defineProperties(q.eF.prototype,{width:{get:function(){return this.Ha},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0},height:{get:function(){return this.xa},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0}});q.e_=function(a,c){q.log("cc.SizeMake will be deprecated sooner or later. Use cc.size instead.");return q.size(a,c)};
q.size=function(a,c){return{width:a,height:c}};q.Ua=q.size;q.am=function(){return q.size(0,0)};q.TG={wU:q.Gd(),hX:q.Em()};Object.defineProperties(q,{HM:{get:function(){return q.TG.wU},configurable:!0},SM:{get:function(){return q.TG.hX},configurable:!0},FZ:{get:function(){return q.rect(0,0,0,0)},configurable:!0}});q.gX=function(a,c){return a&&c?a.width==c.width&&a.height==c.height:!1};
q.vg=function(a,c,d,e){var f=arguments.length;if(4===f)this.Vc=new q.ah(a||0,c||0),this.Ua=new q.wk(d||0,e||0);else if(1===f)this.Vc=new q.ah(a.Vc.x,a.Vc.y),this.Ua=new q.wk(a.Ua.width,a.Ua.height);else if(0===f)this.Vc=new q.ah(0,0),this.Ua=new q.wk(0,0);else if(2===f)this.Vc=new q.ah(a.x,a.y),this.Ua=new q.wk(c.width,c.height);else throw"unknown argument type";};q.MZ=function(a,c,d,e){q.log("cc.RectMake will be deprecated sooner or later. Use cc.rect instead.");return q.rect(a,c,d,e)};
q.rect=function(a,c,d,e){var f=arguments.length;if(0===f)return new q.vg(0,0,0,0);if(1===f)return new q.vg(a.x,a.y,a.width,a.height);if(2===f)return new q.vg(a.x,a.y,c.width,c.height);if(4===f)return new q.vg(a,c,d,e);throw"unknown argument type";};q.za=q.rect;q.rd=function(){return q.rect(0,0,0,0)};q.FJ=function(a,c){return a&&c?q.xJ(a.Vc,c.Vc)&&q.gX(a.Ua,c.Ua):!1};q.Br=function(a){return a?0===a.x&&0===a.y&&0===a.width&&0===a.height:!1};
q.j9=function(a,c){return a&&c?!(a.x>=c.x||a.y>=c.y||a.x+a.width<=c.x+c.width||a.y+a.height<=c.y+c.height):!1};q.sn=function(a){return a.x+a.width};q.k9=function(a){return a.x+a.width/2};q.Bl=function(a){return a.x};q.tn=function(a){return a.y+a.height};q.l9=function(a){return a.y+a.height/2};q.Cl=function(a){return a.y};q.hb=function(a,c){return c.x>=q.Bl(a)&&c.x<=q.sn(a)&&c.y>=q.Cl(a)&&c.y<=q.tn(a)};q.PU=function(a,c){return!(q.sn(a)<q.Bl(c)||q.sn(c)<q.Bl(a)||q.tn(a)<q.Cl(c)||q.tn(c)<q.Cl(a))};
q.m9=function(a,c){return!(a.x+a.width<c.x||c.x+c.width<a.x||a.y+a.height<c.y||c.y+c.height<a.y)};q.Zw=function(a,c){var d=q.rect(0,0,0,0);d.x=Math.min(a.x,c.x);d.y=Math.min(a.y,c.y);d.width=Math.max(a.x+a.width,c.x+c.width)-d.x;d.height=Math.max(a.y+a.height,c.y+c.height)-d.y;return d};q.OU=function(a,c){var d=q.rect(Math.max(q.Bl(a),q.Bl(c)),Math.max(q.Cl(a),q.Cl(c)),0,0);d.width=Math.min(q.sn(a),q.sn(c))-q.Bl(d);d.height=Math.min(q.tn(a),q.tn(c))-q.Cl(d);return d};b=q.vg.prototype;
b.OK=function(a){this.Vc.x=a};b.PK=function(a){this.Vc.y=a};b.ws=function(){return this.Ua.width};b.CD=function(a){this.Ua.width=a};b.rs=function(){return this.Ua.height};b.qD=function(a){this.Ua.height=a};
Object.defineProperties(q.vg.prototype,{x:{get:function(){return this.Vc.x},set:function(a){this.OK(a)},enumerable:!0,configurable:!0},y:{get:function(){return this.Vc.y},set:function(a){this.PK(a)},enumerable:!0,configurable:!0},width:{get:function(){return this.ws()},set:function(a){this.CD(a)},enumerable:!0,configurable:!0},height:{get:function(){return this.rs()},set:function(a){this.qD(a)},enumerable:!0,configurable:!0}});var v=v||{};try{v.localStorage=window.localStorage,window.localStorage.setItem("storage",""),window.localStorage.removeItem("storage")}catch(da){"SECURITY_ERR"!==da.name&&"QuotaExceededError"!==da.name||console.log("Warning: localStorage isn't enabled. Please confirm browser cookie or privacy option"),v.localStorage=function(){}}
Object.defineProperties(v,{q1:{get:function(){var a={canvas:!0};q.Ia.Sc&&(a.opengl=!0);"ontouchstart"in document.documentElement||window.navigator.msPointerEnabled?a.touches=!0:"onmouseup"in document.documentElement&&(a.mouse=!0);"onkeyup"in document.documentElement&&(a.keyboard=!0);if(window.DeviceMotionEvent||window.DeviceOrientationEvent)a.accelerometer=!0;return a},enumerable:!0,configurable:!0},sJ:{get:function(){var a=navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?!0:!1,c=navigator.userAgent.match(/android/i)||
navigator.platform.match(/android/i)?!0:!1,d=navigator.appVersion;-1!=navigator.appVersion.indexOf("Win")?d="Windows":a?d="iOS":-1!=navigator.appVersion.indexOf("Mac")?d="OS X":-1!=navigator.appVersion.indexOf("X11")?d="UNIX":-1!=navigator.appVersion.indexOf("Linux")?d="Linux":c&&(d="Android");return d},enumerable:!0,configurable:!0},platform:{get:function(){return"browser"},enumerable:!0,configurable:!0},version:{get:function(){return q.qt},enumerable:!0,configurable:!0}});v.K2=function(){};
v.g2=function(){};v.J9=function(){};q.qt="Cocos2d-html5-v2.2.2";q.Kt=0;q.oE=q.a(0,0);q.SL=0.5;q.jY=1;q.TM=1;q.EM=0;q.XE=0;q.g_=0;q.h_=0;q.IZ=1;q.HZ="-hd";q.hN=1;q.wj=0;q.b_=0;q.eZ=0;q.dZ=0;q.oy=1;q.sY=q.qt+"-canvas";q.rw={platform:v.platform};q.f2=function(){for(var a in v)q.log(a+" \x3d "+v[a])};q.pt=1;q.qE=1;q.oH=function(a,c){for(var d=["webgl","experimental-webgl","webkit-3d","moz-webgl"],e=null,f=0;f<d.length;++f){try{e=a.getContext(d[f],c)}catch(g){}if(e)break}return e};q.Ia={};q.Ia.GX=["baidubrowser","opera","firefox","chrome","safari"];q.Ia.V7="baidubrowser opera firefox chrome safari ucbrowser qqbrowser mqqbrowser ie".split(" ");
(function(){q.Ia.Kx=navigator.userAgent.toLowerCase();q.Ia.platform=navigator.platform.toLowerCase();q.Ia.ej=-1!=q.Ia.Kx.indexOf("mobile")||-1!=q.Ia.Kx.indexOf("android");q.Ia.type=function(){var a=q.Ia.Kx.match(/micromessenger|qqbrowser|mqqbrowser|ucbrowser|360browser|baidubrowser|maxthon|ie|opera|firefox/)||q.Ia.Kx.match(/chrome|safari/);return a&&0<a.length?(a=a[0],"micromessenger"==a?"wechat":a):"unknow"}();q.Ia.mode="ie"==q.Ia.type&&document.documentMode;document.ccConfig||(document.ccConfig=
{});q.sB=parseInt(document.ccConfig.renderMode)||0;var a=-1==q.Ia.GX.indexOf(q.Ia.type);1===q.sB||0===q.sB&&(q.Ia.ej||a)?q.Ia.Sc=!1:(q.Ia.Sc=null!=window.B_,a=document.createElement("Canvas"),a=q.oH(a,{stencil:!0,preserveDrawingBuffer:!0}),q.Ia.Sc=null!=a);2!==q.sB||q.Ia.Sc||(q.az=!0);var a=q.Ia,c;try{c=new (window.AudioContext||window.webkitAudioContext||window.mozAudioContext)?!0:!1}catch(d){c=!1}a.hba=c;q.Ia.p8=function(a){if(this.ej){var c=q.da.f().Wb,d=c.width+"px",c=c.height+"px",h=q.rk("div");
h.style.backgroundColor="#ffffff";h.style.width=d;h.style.height=c;h.style.JX=1E3;h.style.position="absolute";h.style.top="0px";h.style.left="0px";h.id="cocos2d-browser";var k=q.rk("iframe");k.src=a;k.style.width=d;k.style.height=c;k.setAttribute("frameborder","no");k.setAttribute("scrolling","no");h.appendChild(k);k.onload=function(){var a=document.createElement("img");a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5OERBMEM3OUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5OERBMEM3QUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjk4REEwQzc3RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjk4REEwQzc4RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+NwBuoAAAA/tJREFUeNrEWF0sW3EUb6+28zFhbGadsBaNhazV+kpDYhFWKRGWbHvwFV5IvPiIFw9evElEPEiWSUgsIWoIglhmUomPxj6aKC0zKVJjtPU5o9j5J7dLdbf33jKc5Jfc3v+v5/+755x7/j1lMoiNBRDh4AO88HvO2m+ACbAC+AJQAyz2JCbBFyMBWQA/xv+3DUAXLuivudhcY4BMwCuAB+NqDPmNAnAAOsCZvQgk4BnjeiwEwAbM2YoQA14yrteQEANgDcML7gXjZgw9OAuJkADu3JAIb7Q/hr+GtCwuLs6LDq+iooLvhBAREhFEl11ZWRne0tIiIeNIpVKv4uJi4dTUVApNt0EY3ohILSIiwqO7u1sql8vD8vLyJJ2dnXH2HDabzczPz3/Y1taWzOfz78XExDxSq9Vyd3d3jMK9F2pWr6lEtLa2RmVnZ4tt7w0NDWlTU1OVtkK7urqSQ0NDzzW5hYWFjcTExAGDwXDkyD+VSkZ7e3tsWlpamP19mUwWplQqk9B1UlKST3NzczxE4K49D4mCiDwn24PyPMjIyHjs6urKIVpLSEgInp6eZsM6Kzw8nEvEMZvNBxC1BbI9KCMhkUgUy8vLRpL1QIFA4EcSyZmcnJzpS4mYnZ3dj46O7p2fn193xIGi/CeiFovlFIp5pqGhYZ5qD1qFiQxCjk1OTsqEQmEAFReloL+/X0sVAadFWE2n02VA+O+TcVZXV01QkO8ODw9P6fjEnO2zvb2936g4XC7XG4rWm65P2iL8/f05kN8nBQUFQkqnGMYcGBjIys3N5dLxjY7ydDrE6urqsNLSUqmbmxuH1tOBkMzMTIHRaNxSqVTmS4soKyvjFRUViTw9PV2dTR901WAOh7M/MjKyeeHCbGpqEhcWFkY5Wl9aWtpUKBRaONziSbsii/Xm5OTk7EIdU6/X7zpaW1xc/Al5HxkfH9/e2dk5rqmpeUrE6+vr06ADzpEIlI5kMjFwPhh5PB5DJBKdK7KDg4Oj2tpaVUdHxw/0eWxszIjyj8Jvy4N60FdVVX2Grnt4dkaowYJESAG3yaLR09Oz5uvrexwbGxuAR2erpKTkI6RqxW5DM6RnLT09PQQV5vDwsDYlJWUU+I4EIDMhEQLAA6q0DA4OrqMCg/c/qL6+XtXY2Kgn4sGJuavRaFbFYrFPeXn5FIj6ReFa64KnIpJOpaMK39vbM9XV1X13lF9kc3Nz+xMTEwZo89s03A4ycRE1N/RjF/WPKgyfDRU39Gu7w1qYyNYAtwDB1yhgGPDBfgzU4bMi7xoEjAI6iWZRdGMGH80Cr2goRlP5W8B7qwBHfw1YO6kEH4yC8EnJ5QKbnuDFh17nr4BPRP9P/BFgAHo7ZNgI9EbHAAAAAElFTkSuQmCC";
h.appendChild(a);a.style.JX=1E3;a.style.position="absolute";a.style.bottom="10px";a.style.right="10px";a.onclick=function(){h.remove()}};(a=document.getElementById(document.ccConfig.tag).parentNode)&&a.appendChild(h)}else window.open(a)}})();q.NZ=function(){return"undefined"===q.az?!1:q.az};
q.Tb=function(a){var c=this==q?document:this;if(a=a instanceof HTMLElement?a:c.querySelector(a))a.find=a.find||q.Tb,a.mC=a.mC||function(a){return this.className.match(RegExp("(\\s|^)"+a+"(\\s|$)"))},a.ZG=a.ZG||function(a){this.mC(a)||(this.className&&(this.className+=" "),this.className+=a);return this},a.fV=a.fV||function(a){this.mC(a)&&(this.className=this.className.replace(a,""));return this},a.remove=a.remove||function(){this.parentNode&&this.parentNode.removeChild(this);return this},a.Ym=a.Ym||
function(a){a.appendChild(this);return this},a.IU=a.IU||function(a){a.childNodes[0]?a.insertBefore(this,a.childNodes[0]):a.appendChild(this);return this},a.Gn=a.Gn||function(){this.style[q.Tb.uX]=q.Tb.translate(this.position)+q.Tb.rotate(this.rotation)+q.Tb.scale(this.scale)+q.Tb.Ll(this.Ll);return this},a.position=a.position||{x:0,y:0},a.rotation=a.rotation||0,a.scale=a.scale||{x:1,y:1},a.Ll=a.Ll||{x:0,y:0},a.OD=function(a,c){this.position.x=a;this.position.y=c;this.Gn()},a.rotate=function(a){this.rotation=
a;this.Gn();return this},a.resize=function(a,c){this.scale.x=a;this.scale.y=c;this.Gn();return this},a.EK=function(a,c){this.Ll.x=a;this.Ll.y=c;this.Gn()};return a};switch(q.Ia.type){case "firefox":q.Tb.Op="Moz";q.Tb.Ep=!0;break;case "chrome":case "safari":q.Tb.Op="webkit";q.Tb.Ep=!0;break;case "opera":q.Tb.Op="O";q.Tb.Ep=!1;break;case "ie":q.Tb.Op="ms";q.Tb.Ep=!1;break;default:q.Tb.Op="webkit",q.Tb.Ep=!0}q.Tb.uX=q.Tb.Op+"Transform";
q.Tb.translate=q.Tb.Ep?function(a){return"translate3d("+a.x+"px, "+a.y+"px, 0) "}:function(a){return"translate("+a.x+"px, "+a.y+"px) "};q.Tb.rotate=q.Tb.Ep?function(a){return"rotateZ("+a+"deg) "}:function(a){return"rotate("+a+"deg) "};q.Tb.scale=function(a){return"scale("+a.x+", "+a.y+") "};q.Tb.Ll=function(a){return"skewX("+-a.x+"deg) skewY("+a.y+"deg)"};q.rk=function(a){return q.Tb(document.createElement(a))};
q.Tb.E2=function(a){var c=0,d=0;do c+=a.offsetLeft,d+=a.offsetTop;while(a=a.offsetParent);return{x:c,y:d}};q.clone=function(a){var c=a.constructor?new a.constructor:{},d;for(d in a){var e=a[d];c[d]="object"!=typeof e||!e||e instanceof q.H||e instanceof HTMLElement?e:q.clone(e)}return c};q.Y0=function(){};q.tE=q.tE||!1;
q.FO=function(a){var c=document.getElementById("logInfoList");if(!c){var d=document.createElement("Div");d.setAttribute("id","logInfoDiv");q.canvas.parentNode.appendChild(d);d.setAttribute("width","200");d.setAttribute("height",q.canvas.height);d.style.zIndex="99999";d.style.position="absolute";d.style.top="0";d.style.left="0";c=document.createElement("ul");d.appendChild(c);c.setAttribute("id","logInfoList");c.style.height=q.canvas.height+"px";c.style.color="#fff";c.style.textAlign="left";c.style.listStyle=
"disc outside";c.style.fontSize="12px";c.style.fontFamily="arial";c.style.padding="0 0 0 20px";c.style.margin="0";c.style.textShadow="0 0 3px #000";c.style.zIndex="99998";c.style.position="absolute";c.style.top="0";c.style.left="0";c.style.overflowY="hidden";var e=document.createElement("Div");d.appendChild(e);e.style.width="200px";e.style.height=q.canvas.height+"px";e.style.opacity="0.1";e.style.background="#fff";e.style.border="1px solid #dfdfdf";e.style.borderRadius="8px"}d=document.createElement("li");
d.innerHTML=a;0==c.childNodes.length?c.appendChild(d):c.insertBefore(d,c.childNodes[0])};q.log=function(a){document.ccConfig.dev&&!0==document.ccConfig.dev&&(q.tE?q.FO(a):console.log.apply(console,arguments))};q.kZ=function(a){console.log(a)};q.it=function(a,c){console.assert?console.assert(a,c):a||c&&alert(c)};q.r6=function(){0==q.kt?(q.log=function(){},q.aJ=function(){},q.$I=function(){},q.it=function(){}):1==q.kt?(q.aJ=q.log,q.$I=function(){}):1<q.kt&&(q.aJ=q.log,q.$I=q.log)};q.kM=0;q.jM=1;
q.lM=2;q.oM=3;q.mM=4;q.vM=5;q.uM=6;q.qM=7;q.pM=8;q.nM=9;q.tM=10;q.iM=11;q.rM=12;q.sM=13;
q.qy={$0:8,rba:9,VB:13,shift:16,O1:17,alt:18,pause:19,r1:20,escape:27,O8:33,N8:34,end:35,home:36,left:37,Oba:38,right:39,a2:40,v6:45,zY:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,K:65,k:66,Ka:67,d:68,h2:69,yw:70,p:71,h:72,n6:73,y7:74,z7:75,E7:76,m:77,gJ:78,l8:79,a:80,c9:81,r:82,s:83,qba:84,Sa:85,sa:86,wL:87,x:88,y:89,z:90,Y7:96,Z7:97,a8:98,b8:99,c8:100,d8:101,e8:102,f8:103,g8:104,h8:105,"*":106,"+":107,"-":109,numdel:110,"/":111,r2:112,v2:113,w2:114,x2:115,y2:116,z2:117,A2:118,B2:119,C2:120,
s2:121,t2:122,u2:123,k8:144,Q9:145,T9:186,",":186,l2:187,"\x3d":187,";":188,G1:188,Q1:189,".":190,S8:190,I2:191,i6:192,"[":219,q8:219,"]":221,F1:221,Z0:220,quote:222,$aa:32};q.Y1=function(a,c,d){if(a)if(c&&"string"==typeof a)c[a](d);else c&&"function"==typeof a?a.call(c,d):a(d)};q.wi=-1;q.PI=Math.PI;q.$L=parseFloat("3.402823466e+38F");q.PM=q.PI/180;q.RL=180/q.PI;q.gN=4294967295;q.c_=function(a,c,d){if("object"==typeof d&&"undefined"!=typeof d.x&&"undefined"!=typeof d.y){var e=d[a];d[a]=d[c];d[c]=e}else q.log("cc.SWAP is being modified from original macro, please check usage")};q.G7=function(a,c,d){return a+(c-a)*d};q.EZ=function(){return 2*(Math.random()-0.5)};q.DZ=function(){return Math.random()};q.tj=function(a){return a*q.PM};q.Dy=function(a){return a*q.RL};
q.$l=Number.MAX_VALUE-1;q.Qe=q.EM?1:770;q.Pe=771;q.wy=function(a){a.Lc&&(a.Lc.sf(),a.Lc.Xg())};q.LY=function(){};q.yY=function(){};q.Hh=function(){q.xh+=1};q.Lt=1.192092896E-7;q.Uc=q.oy?function(){return q.da.f().km}:function(){return 1};q.GM=function(a){var c=q.Uc();return q.a(a.x*c,a.y*c)};q.H_=function(a,c){var d=q.Uc();c.J=a.x*d;c.P=a.y*d};q.Iy=function(a){var c=q.Uc();return q.size(a.width*c,a.height*c)};q.$Z=function(a){var c=q.Uc();return q.size(a.width/c,a.height/c)};
q.Zy=function(a,c){var d=q.Uc();c.Ha=a.width/d;c.xa=a.height/d};q.yZ=function(a){var c=q.Uc();return q.a(a.x/c,a.y/c)};q.yu=function(a,c){var d=q.Uc();c.J=a.x/d;c.P=a.y/d};q.iq=q.oy?function(a){var c=q.Uc();return q.rect(a.x/c,a.y/c,a.width/c,a.height/c)}:function(a){return a};q.Tn=q.oy?function(a){var c=q.Uc();return q.rect(a.x*c,a.y*c,a.width*c,a.height*c)}:function(a){return a};q.dE=function(){if(q.H9==q.xk){var a=q.Z.getError();a&&q.log("WebGL error "+a)}};q.SZ=0;q.RZ=1;q.PZ=2;q.QZ=3;q.TZ=4;q.UZ=5;q.OZ=6;var Uint8Array=Uint8Array||Array;
if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){var ea=document.createElement("script");ea.type="text/vbscript";ea.textContent='\x3c!-- IEBinaryToArray_ByteStr --\x3e\r\nFunction IEBinaryToArray_ByteStr(Binary)\r\n   IEBinaryToArray_ByteStr \x3d CStr(Binary)\r\nEnd Function\r\nFunction IEBinaryToArray_ByteStr_Last(Binary)\r\n   Dim lastIndex\r\n   lastIndex \x3d LenB(Binary)\r\n   if lastIndex mod 2 Then\r\n       IEBinaryToArray_ByteStr_Last \x3d Chr( AscB( MidB( Binary, lastIndex, 1 ) ) )\r\n   Else\r\n       IEBinaryToArray_ByteStr_Last \x3d ""\r\n   End If\r\nEnd Function\r\n';document.body.appendChild(ea);
q.uF=function(a){for(var c={},d=0;256>d;d++)for(var e=0;256>e;e++)c[String.fromCharCode(d+256*e)]=String.fromCharCode(d)+String.fromCharCode(e);d=IEBinaryToArray_ByteStr(a);a=IEBinaryToArray_ByteStr_Last(a);return d.replace(/[\s\S]/g,function(a){return c[a]})+a}}
q.Od=q.La.extend({Ji:null,al:null,$N:null,Pz:null,Vo:null,Xh:null,Iq:"",ctor:function(){this.Ji={};this.al={};this.Xh=[];this.Xh.push(this.Iq);this.Vo=[];this.Vo.push("")},Z8:function(){this.Xh=[]},a3:function(a){a=this.De(a);return this.Ji.hasOwnProperty(a)?this.Ji[a]:this.CO(a)},cv:function(){return window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP")},vX:function(a){this.Ji.hasOwnProperty(a)&&delete this.Ji[a]},DU:function(a){a=this.De(a);var c=this,d=this.cv();d.open("GET",
a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","x-user-defined"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=q.uF(d.responseBody);e&&(c.Ji[a]=c.Pv(e))}else q.Ob.f().yl(a);q.Ob.f().hg()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dx-user-defined"),d.onload=function(){var e=d.responseText;e?c.Ji[a]=c.Pv(e):q.Ob.f().yl(a);q.Ob.f().hg()});d.send(null)},X8:function(a,c){this.Ji[c]=a;
q.Ob.f().hg()},CO:function(a){var c=this.cv();c.open("GET",a,!1);var d=null;if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){c.setRequestHeader("Accept-Charset","x-user-defined");c.send(null);if(200!=c.status)return null;if(c=q.uF(c.responseBody))d=this.Pv(c),this.Ji[a]=d}else{c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dx-user-defined");c.send(null);if(!c.responseText||200!=c.status&&0!=c.status)return null;d="undefined"!==typeof VBArray?(new VBArray(c.responseBody)).toArray():
this.Pv(c.responseText);this.Ji[a]=d}return d},Pv:function(a){if(!a)return null;for(var c=new Uint8Array(a.length),d=0;d<a.length;d++)c[d]=a.charCodeAt(d)&255;return c},xX:function(a){a=this.De(a);this.al.hasOwnProperty(a)&&delete this.al[a]},FU:function(a){a=this.De(a);var c=this,d=this.cv();d.open("GET",a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","utf-8"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=
d.responseText;e&&(c.al[a]=e)}else q.Ob.f().yl(a);q.Ob.f().hg()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dutf-8"),d.onload=function(){d.responseText?c.al[a]=d.responseText:q.Ob.f().yl(a);q.Ob.f().hg()});d.send(null)},EO:function(a){var c=this.cv();c.open("GET",a,!1);var d=null;/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?c.setRequestHeader("Accept-Charset","utf-8"):c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dutf-8");c.send(null);
if(200!=c.status)return null;(d=c.responseText)&&(this.al[a]=d);return d},fI:function(a){a=this.De(a);return this.al.hasOwnProperty(a)?this.al[a]:this.EO(a)},I3:function(){},E9:function(){},yJ:!0,J2:function(a){return a},De:function(a){var c=!1;a=this.gO(a);for(var d,e=0;e<this.Xh.length;e++){for(var f=this.Xh[e],g=0;g<this.Vo.length;g++)if(d=this.hO(a,this.Vo[g],f)){c=!0;break}if(c)break}return c?d:a},L7:function(a){var c=this.De(a);if(0<c.length){var c=q.vk.f().parse(c),d=parseInt(c.metadata.version);
1!=d?q.log("cocos2d: ERROR: Invalid filenameLookup dictionary version: "+d+". Filename: "+a):this.bW(c.filenames)}},bW:function(a){this.Pz=a},PH:function(a,c){var d;if(a)return d=c.substring(0,c.lastIndexOf("/")+1),d+a;d=c.substring(0,c.lastIndexOf("."));return d+".png"},paa:function(a){this.Vo=a},k5:function(){return this.Vo},oaa:function(a){this.Xh=a},i5:function(){return this.Xh},b5:function(){return this.$N},kaa:function(){},U1:function(a){q.log("dictionaryWithContentsOfFile is deprecated. Use createDictionaryWithContentsOfFile instead");
return this.pR(a)},pR:function(a){return q.vk.f().parse(a)},z5:function(a){return this.fI(a)},vw:function(a){return q.vk.f().parse(a)},c6:function(){return""},caa:function(a){q.yJ=a},b7:function(){return q.yJ},JA:"",c5:function(){return this.JA},laa:function(a){this.JA=a},gO:function(a){var c=null;(c=this.Pz?this.Pz[a]:null)&&0!==c.length?q.log("FOUND NEW FILE NAME: "+c):c=a;return c},hO:function(a,c,d){var e;e=this.JA;a&&0<a.length&&(0===a.indexOf("/")||0===a.indexOf("\\"))?e="":0<e.length&&"\\"!=
e[e.length-1]&&"/"!=e[e.length-1]&&(e+="/");var f=a,g="",h=a.lastIndexOf("/");-1!=h&&(g=a.substr(0,h+1),f=a.substr(h+1));a=d;0<a.length&&a.lastIndexOf("/")!==a.length-1&&(a+="/");a=a+g+c;0<a.length&&a.lastIndexOf("/")!==a.length-1&&(a+="/");a+=f;return e+=a},X_:function(){},DK:function(a){var c=!1;this.Xh=[];for(var d=0;d<a.length;d++){var e=a[d],f;this.HI(e)||(f=this.Iq);e=f+e;0<e.length&&"/"!=e[e.length-1]&&(e+="/");c||e!=this.Iq||(c=!0);this.Xh.push(e)}c||this.Xh.push(this.Iq)},J0:function(a){var c;
this.HI(a)||(c=this.Iq);a=c+a;0<a.length&&"/"!=a[a.length-1]&&(a+="/");this.Xh.push(a)},j5:function(){},HI:function(a){return"/"==a[0]}});q.gD=null;q.Od.f=function(){null==q.gD&&(q.gD=new q.Od);return q.gD};q.wc=function(a,c,d){switch(arguments.length){case 0:this.k=this.p=this.r=0;break;case 1:a&&a instanceof q.wc?(this.r=0|a.r||0,this.p=0|a.p||0,this.k=0|a.k||0):this.k=this.p=this.r=0;break;case 3:this.r=0|a||0;this.p=0|c||0;this.k=0|d||0;break;default:throw"unknown argument type";}};q.l=function(a,c,d){return new q.wc(a,c,d)};q.z6=function(a){a=a||0;var c=new q.wc;c.r=a&255;c.p=a>>8&255;c.k=a>>16&255;return c};q.GB=q.l;q.k1=function(a,c){return a.r===c.r&&a.p===c.p&&a.k===c.k};
Object.defineProperties(q,{z_:{get:function(){return q.l(255,255,255)},configurable:!0},C_:{get:function(){return q.l(255,255,0)},configurable:!0},gY:{get:function(){return q.l(0,0,255)},configurable:!0},TY:{get:function(){return q.l(0,255,0)},configurable:!0},GZ:{get:function(){return q.l(255,0,0)},configurable:!0},hZ:{get:function(){return q.l(255,0,255)},configurable:!0},eY:{get:function(){return q.l(0,0,0)},configurable:!0},pZ:{get:function(){return q.l(255,127,0)},configurable:!0},SY:{get:function(){return q.l(166,
166,166)},configurable:!0}});q.zb=function(){return new q.wc(255,255,255)};q.hca=function(){return new q.wc(255,255,0)};q.blue=function(){return new q.wc(0,0,255)};q.green=function(){return new q.wc(0,255,0)};q.red=function(){return new q.wc(255,0,0)};q.Q7=function(){return new q.wc(255,0,255)};q.b1=function(){return new q.wc(0,0,0)};q.r8=function(){return new q.wc(255,127,0)};q.nl=function(){return new q.wc(166,166,166)};q.Ub=function(a,c,d,e){this.r=0|a;this.p=0|c;this.k=0|d;this.K=0|e};
q.j=function(a,c,d,e){return new q.Ub(a,c,d,e)};q.HB=q.j;q.he=function(a,c,d,e){this.r=a;this.p=c;this.k=d;this.K=e};q.ow=function(a,c,d,e){return new q.he(a,c,d,e)};q.n1=function(a){return new q.he(a.r/255,a.p/255,a.k/255,1)};q.o1=function(a){return new q.he(a.r/255,a.p/255,a.k/255,a.K/255)};q.l1=function(a){return new q.Ub(0|255*a.r,0|255*a.p,0|255*a.k,0|255*a.K)};q.m1=function(a,c){return a.r==c.r&&a.p==c.p&&a.k==c.k&&a.K==c.K};q.Hb=function(a,c){this.x=a||0;this.y=c||0};
q.wu=function(a,c){return new q.Hb(a,c)};q.ad=function(a,c,d){this.x=a||0;this.y=c||0;this.z=d||0};q.$ba=function(a,c,d){return new q.ad(a,c,d)};q.Cc=function(a,c){this.Sa=a||0;this.sa=c||0};q.xba=function(a,c){return new q.Cc(a,c)};q.BZ=function(a,c,d){a||new q.Hb(0,0);this.color=c||new q.Ub(0,0,0,0);this.size=d||0};q.Xt=function(a,c,d,e){this.Wa=a||new q.Hb(0,0);this.Qa=c||new q.Hb(0,0);this.Na=d||new q.Hb(0,0);this.Za=e||new q.Hb(0,0)};
q.CZ=function(a,c,d,e){this.Na=a||new q.ad(0,0,0);this.Za=c||new q.ad(0,0,0);this.Wa=d||new q.ad(0,0,0);this.Qa=e||new q.ad(0,0,0)};q.cM=function(a,c){this.x=a;this.y=c};q.p=function(a,c){return new q.cM(a,c)};q.Zb=function(a,c,d){this.w=a||new q.Hb(0,0);this.Q=c||new q.Ub(0,0,0,0);this.F=d||new q.Cc(0,0)};q.qu=function(){this.w=new q.Hb(0,0);this.Q=new q.he(0,0,0,0);this.F=new q.Cc(0,0)};q.xc=function(a,c,d){this.w=a||new q.ad(0,0,0);this.Q=c||new q.Ub(0,0,0,0);this.F=d||new q.Cc(0,0)};
q.Jc=function(a,c,d){this.K=a||new q.Zb;this.k=c||new q.Zb;this.Ka=d||new q.Zb};q.iN=function(){var a=new q.Zb(new q.Hb(0,0),new q.Ub(0,0,0,255),new q.Cc(0,0)),c=new q.Zb(new q.Hb(0,0),new q.Ub(0,0,0,255),new q.Cc(0,0)),d=new q.Zb(new q.Hb(0,0),new q.Ub(0,0,0,255),new q.Cc(0,0)),e=new q.Zb(new q.Hb(0,0),new q.Ub(0,0,0,255),new q.Cc(0,0));this.Na=a||new q.Zb;this.Za=c||new q.Zb;this.Wa=d||new q.Zb;this.Qa=e||new q.Zb};q.w_=function(){return new q.iN};
q.kc=function(a,c,d,e){this.Wa=a||new q.xc;this.Na=c||new q.xc;this.Qa=d||new q.xc;this.Za=e||new q.xc};q.Yy=function(){return new q.kc(new q.xc(new q.ad(0,0,0),new q.Ub(0,0,0,255),new q.Cc(0,0)),new q.xc(new q.ad(0,0,0),new q.Ub(0,0,0,255),new q.Cc(0,0)),new q.xc(new q.ad(0,0,0),new q.Ub(0,0,0,255),new q.Cc(0,0)),new q.xc(new q.ad(0,0,0),new q.Ub(0,0,0,255),new q.Cc(0,0)))};
q.Xy=function(a){return a?new q.kc(new q.xc(new q.ad(a.Wa.w.x,a.Wa.w.y,a.Wa.w.z),new q.Ub(a.Wa.Q.r,a.Wa.Q.p,a.Wa.Q.k,a.Wa.Q.K),new q.Cc(a.Wa.F.Sa,a.Wa.F.sa)),new q.xc(new q.ad(a.Na.w.x,a.Na.w.y,a.Na.w.z),new q.Ub(a.Na.Q.r,a.Na.Q.p,a.Na.Q.k,a.Na.Q.K),new q.Cc(a.Na.F.Sa,a.Na.F.sa)),new q.xc(new q.ad(a.Qa.w.x,a.Qa.w.y,a.Qa.w.z),new q.Ub(a.Qa.Q.r,a.Qa.Q.p,a.Qa.Q.k,a.Qa.Q.K),new q.Cc(a.Qa.F.Sa,a.Qa.F.sa)),new q.xc(new q.ad(a.Za.w.x,a.Za.w.y,a.Za.w.z),new q.Ub(a.Za.Q.r,a.Za.Q.p,a.Za.Q.k,a.Za.Q.K),new q.Cc(a.Za.F.Sa,
a.Za.F.sa))):q.Yy()};q.y_=function(a){if(!a)return[];for(var c=[],d=0;d<a.length;d++)c.push(q.Xy(a[d]));return c};q.x_=function(a,c,d,e){this.Na=a||new q.qu;this.Za=c||new q.qu;this.Wa=d||new q.qu;this.Qa=e||new q.qu};q.Xl=function(a,c){this.src=a;this.Nb=c};q.hY=function(){return new q.Xl(1,0)};q.Dc=function(a){var c=a.r.toString(16),d=a.p.toString(16),e=a.k.toString(16);return"#"+(16>a.r?"0"+c:c)+(16>a.p?"0"+d:d)+(16>a.k?"0"+e:e)};
q.Ia.Sc&&(q.Ub=function(a,c,d,e,f,g){this.Vb=f||new ArrayBuffer(q.Ub.BYTES_PER_ELEMENT);this._offset=g||0;f=this.Vb;g=this._offset;var h=Uint8Array.BYTES_PER_ELEMENT;this.AA=new Uint8Array(f,g,1);this.Wz=new Uint8Array(f,g+h,1);this.kz=new Uint8Array(f,g+2*h,1);this.cz=new Uint8Array(f,g+3*h,1);this.AA[0]=a||0;this.Wz[0]=c||0;this.kz[0]=d||0;this.cz[0]=e||0},q.Ub.BYTES_PER_ELEMENT=4,Object.defineProperties(q.Ub.prototype,{r:{get:function(){return this.AA[0]},set:function(a){this.AA[0]=a},enumerable:!0},
p:{get:function(){return this.Wz[0]},set:function(a){this.Wz[0]=a},enumerable:!0},k:{get:function(){return this.kz[0]},set:function(a){this.kz[0]=a},enumerable:!0},K:{get:function(){return this.cz[0]},set:function(a){this.cz[0]=a},enumerable:!0}}),q.he=function(a,c,d,e,f,g){this.Vb=f||new ArrayBuffer(q.he.BYTES_PER_ELEMENT);this._offset=g||0;f=this.Vb;g=this._offset;var h=Float32Array.BYTES_PER_ELEMENT;this.zA=new Float32Array(f,g,1);this.zA[0]=a||0;this.Vz=new Float32Array(f,g+h,1);this.Vz[0]=c||
0;this.jz=new Float32Array(f,g+2*h,1);this.jz[0]=d||0;this.bz=new Float32Array(f,g+3*h,1);this.bz[0]=e||0},q.he.BYTES_PER_ELEMENT=16,Object.defineProperties(q.he.prototype,{r:{get:function(){return this.zA[0]},set:function(a){this.zA[0]=a},enumerable:!0},p:{get:function(){return this.Vz[0]},set:function(a){this.Vz[0]=a},enumerable:!0},k:{get:function(){return this.jz[0]},set:function(a){this.jz[0]=a},enumerable:!0},K:{get:function(){return this.bz[0]},set:function(a){this.bz[0]=a},enumerable:!0}}),
q.Hb=function(a,c,d,e){this.Vb=d||new ArrayBuffer(q.Hb.BYTES_PER_ELEMENT);this._offset=e||0;this.Um=new Float32Array(this.Vb,this._offset,1);this.Vm=new Float32Array(this.Vb,this._offset+4,1);this.Um[0]=a||0;this.Vm[0]=c||0},q.Hb.BYTES_PER_ELEMENT=8,Object.defineProperties(q.Hb.prototype,{x:{get:function(){return this.Um[0]},set:function(a){this.Um[0]=a},enumerable:!0},y:{get:function(){return this.Vm[0]},set:function(a){this.Vm[0]=a},enumerable:!0}}),q.ad=function(a,c,d,e,f){this.Vb=e||new ArrayBuffer(q.ad.BYTES_PER_ELEMENT);
this._offset=f||0;e=this.Vb;f=this._offset;this.Um=new Float32Array(e,f,1);this.Um[0]=a||0;this.Vm=new Float32Array(e,f+Float32Array.BYTES_PER_ELEMENT,1);this.Vm[0]=c||0;this.zB=new Float32Array(e,f+2*Float32Array.BYTES_PER_ELEMENT,1);this.zB[0]=d||0},q.ad.BYTES_PER_ELEMENT=12,Object.defineProperties(q.ad.prototype,{x:{get:function(){return this.Um[0]},set:function(a){this.Um[0]=a},enumerable:!0},y:{get:function(){return this.Vm[0]},set:function(a){this.Vm[0]=a},enumerable:!0},z:{get:function(){return this.zB[0]},
set:function(a){this.zB[0]=a},enumerable:!0}}),q.Cc=function(a,c,d,e){this.Vb=d||new ArrayBuffer(q.Cc.BYTES_PER_ELEMENT);this._offset=e||0;this.lB=new Float32Array(this.Vb,this._offset,1);this.tB=new Float32Array(this.Vb,this._offset+4,1);this.lB[0]=a||0;this.tB[0]=c||0},q.Cc.BYTES_PER_ELEMENT=8,Object.defineProperties(q.Cc.prototype,{Sa:{get:function(){return this.lB[0]},set:function(a){this.lB[0]=a},enumerable:!0},sa:{get:function(){return this.tB[0]},set:function(a){this.tB[0]=a},enumerable:!0}}),
q.Xt=function(a,c,d,e,f,g){this.Vb=f||new ArrayBuffer(q.Xt.BYTES_PER_ELEMENT);this._offset=g||0;f=this.Vb;g=q.Hb.BYTES_PER_ELEMENT;this.gp=a?new q.Hb(a.x,a.y,f,0):new q.Hb(0,0,f,0);this.ip=c?new q.Hb(c.x,c.y,f,g):new q.Hb(0,0,f,g);this.ho=d?new q.Hb(d.x,d.y,f,2*g):new q.Hb(0,0,f,2*g);this.jo=e?new q.Hb(e.x,e.y,f,3*g):new q.Hb(0,0,f,3*g)},q.Xt.BYTES_PER_ELEMENT=32,Object.defineProperties(q.Xt.prototype,{Wa:{get:function(){return this.gp},set:function(a){this.gp.x=a.x;this.gp.y=a.y},enumerable:!0},
Qa:{get:function(){return this.ip},set:function(a){this.ip.x=a.x;this.ip.y=a.y},enumerable:!0},Na:{get:function(){return this.ho},set:function(a){this.ho.x=a.x;this.ho.y=a.y},enumerable:!0},Za:{get:function(){return this.jo},set:function(a){this.jo.x=a.x;this.jo.y=a.y},enumerable:!0}}),q.xc=function(a,c,d,e,f){this.Vb=e||new ArrayBuffer(q.xc.BYTES_PER_ELEMENT);this._offset=f||0;e=this.Vb;f=this._offset;var g=q.ad.BYTES_PER_ELEMENT;this.kp=a?new q.ad(a.x,a.y,a.z,e,f):new q.ad(0,0,0,e,f);this.Eq=c?
new q.Ub(c.r,c.p,c.k,c.K,e,f+g):new q.Ub(0,0,0,0,e,f+g);this.Jm=d?new q.Cc(d.Sa,d.sa,e,f+g+q.Ub.BYTES_PER_ELEMENT):new q.Cc(0,0,e,f+g+q.Ub.BYTES_PER_ELEMENT)},q.xc.BYTES_PER_ELEMENT=24,Object.defineProperties(q.xc.prototype,{w:{get:function(){return this.kp},set:function(a){var c=this.kp;c.x=a.x;c.y=a.y;c.z=a.z},enumerable:!0},Q:{get:function(){return this.Eq},set:function(a){var c=this.Eq;c.r=a.r;c.p=a.p;c.k=a.k;c.K=a.K},enumerable:!0},F:{get:function(){return this.Jm},set:function(a){this.Jm.Sa=
a.Sa;this.Jm.sa=a.sa},enumerable:!0}}),q.kc=function(a,c,d,e,f,g){this.Vb=f||new ArrayBuffer(q.kc.BYTES_PER_ELEMENT);this._offset=g||0;f=this.Vb;g=this._offset;var h=q.xc.BYTES_PER_ELEMENT;this.gp=a?new q.xc(a.w,a.Q,a.F,f,g):new q.xc(null,null,null,f,g);this.ho=c?new q.xc(c.w,c.Q,c.F,f,g+h):new q.xc(null,null,null,f,g+h);this.ip=d?new q.xc(d.w,d.Q,d.F,f,g+2*h):new q.xc(null,null,null,f,g+2*h);this.jo=e?new q.xc(e.w,e.Q,e.F,f,g+3*h):new q.xc(null,null,null,f,g+3*h)},q.kc.BYTES_PER_ELEMENT=96,Object.defineProperties(q.kc.prototype,
{Wa:{get:function(){return this.gp},set:function(a){var c=this.gp;c.w=a.w;c.Q=a.Q;c.F=a.F},enumerable:!0},Na:{get:function(){return this.ho},set:function(a){var c=this.ho;c.w=a.w;c.Q=a.Q;c.F=a.F},enumerable:!0},Qa:{get:function(){return this.ip},set:function(a){var c=this.ip;c.w=a.w;c.Q=a.Q;c.F=a.F},enumerable:!0},Za:{get:function(){return this.jo},set:function(a){var c=this.jo;c.w=a.w;c.Q=a.Q;c.F=a.F},enumerable:!0},CB:{get:function(){return this.Vb},enumerable:!0}}),q.Yy=function(){return new q.kc},
q.Xy=function(a){if(!a)return q.Yy();var c=a.Wa,d=a.Na,e=a.Qa;a=a.Za;return{Wa:{w:{x:c.w.x,y:c.w.y,z:c.w.z},Q:{r:c.Q.r,p:c.Q.p,k:c.Q.k,K:c.Q.K},F:{Sa:c.F.Sa,sa:c.F.sa}},Na:{w:{x:d.w.x,y:d.w.y,z:d.w.z},Q:{r:d.Q.r,p:d.Q.p,k:d.Q.k,K:d.Q.K},F:{Sa:d.F.Sa,sa:d.F.sa}},Qa:{w:{x:e.w.x,y:e.w.y,z:e.w.z},Q:{r:e.Q.r,p:e.Q.p,k:e.Q.k,K:e.Q.K},F:{Sa:e.F.Sa,sa:e.F.sa}},Za:{w:{x:a.w.x,y:a.w.y,z:a.w.z},Q:{r:a.Q.r,p:a.Q.p,k:a.Q.k,K:a.Q.K},F:{Sa:a.F.Sa,sa:a.F.sa}}}},q.Zb=function(a,c,d,e,f){this.Vb=e||new ArrayBuffer(q.Zb.BYTES_PER_ELEMENT);
this._offset=f||0;e=this.Vb;f=this._offset;var g=q.Hb.BYTES_PER_ELEMENT;this.kp=a?new q.Hb(a.x,a.y,e,f):new q.Hb(0,0,e,f);this.Eq=c?new q.Ub(c.r,c.p,c.k,c.K,e,f+g):new q.Ub(0,0,0,0,e,f+g);this.Jm=d?new q.Cc(d.Sa,d.sa,e,f+g+q.Ub.BYTES_PER_ELEMENT):new q.Cc(0,0,e,f+g+q.Ub.BYTES_PER_ELEMENT)},q.Zb.BYTES_PER_ELEMENT=20,Object.defineProperties(q.Zb.prototype,{w:{get:function(){return this.kp},set:function(a){this.kp.x=a.x;this.kp.y=a.y},enumerable:!0},Q:{get:function(){return this.Eq},set:function(a){var c=
this.Eq;c.r=a.r;c.p=a.p;c.k=a.k;c.K=a.K},enumerable:!0},F:{get:function(){return this.Jm},set:function(a){this.Jm.Sa=a.Sa;this.Jm.sa=a.sa},enumerable:!0}}),q.Jc=function(a,c,d,e,f){this.Vb=e||new ArrayBuffer(q.Jc.BYTES_PER_ELEMENT);this._offset=f||0;e=this.Vb;f=this._offset;var g=q.Zb.BYTES_PER_ELEMENT;this.gF=a?new q.Zb(a.w,a.Q,a.F,e,f):new q.Zb(null,null,null,e,f);this.lF=c?new q.Zb(c.w,c.Q,c.F,e,f+g):new q.Zb(null,null,null,e,f+g);this.qF=d?new q.Zb(d.w,d.Q,d.F,e,f+2*g):new q.Zb(null,null,null,
e,f+2*g)},q.Jc.BYTES_PER_ELEMENT=60,Object.defineProperties(q.Jc.prototype,{K:{get:function(){return this.gF},set:function(a){var c=this.gF;c.w=a.w;c.Q=a.Q;c.F=a.F},enumerable:!0},k:{get:function(){return this.lF},set:function(a){var c=this.lF;c.w=a.w;c.Q=a.Q;c.F=a.F},enumerable:!0},Ka:{get:function(){return this.qF},set:function(a){var c=this.qF;c.w=a.w;c.Q=a.Q;c.F=a.F},enumerable:!0}}));
q.I1=function(a){a=a.substr(1).split("");return new q.wc(parseInt("0x"+a[0]+a[1]),parseInt("0x"+a[2]+a[3]),parseInt("0x"+a[4]+a[5]))};q.pq=0;q.zj=1;q.$M=2;q.vu=0;q.uu=1;q.tu=2;q.su=3;
q.G_=q.La.extend({Lo:null,fs:null,$y:0,ctor:function(){this.Lo={};this.fs={};this.$y=2<<(0|10*Math.random())},mN:function(){this.$y++;return"key_"+this.$y},rW:function(a,c){if(null!=c){var d=this.mN();this.Lo[d]=c;this.fs[d]=a}},XT:function(a){if(null==a)return null;var c=this.Lo,d;for(d in c)if(c[d]===a)return this.fs[d];return null},Zba:function(a){return this.XT(a)},jV:function(a){if(null!=a){var c=this.Lo,d;for(d in c)if(c[d]===a){delete this.fs[d];delete c[d];break}}},y9:function(a){if(null!=
a)for(var c=0;c<a.length;c++)this.jV(a[c])},GQ:function(){var a=[],c=this.Lo,d;for(d in c)a.push(c[d]);return a},r9:function(){this.Lo={};this.fs={}},count:function(){return this.GQ().length}});q.bM=function(){this.ns="Arial";this.fontSize=12;this.KH=q.zj;this.LH=q.vu;this.MH=q.zb();this.ms=q.size(0,0);this.ID=!1;this.strokeColor=q.zb();this.eL=1;this.RK=!1;this.SK=q.size(0,0);this.shadowBlur=0;this.TK=1};q.Un={iy:0,xy:1,SHOW_ALL:2,jy:3,ky:4,v_:5};q.pu=[];q.qq={};
q.pa=q.La.extend({Ja:null,Ed:null,xo:null,So:null,gf:null,kw:null,Nq:1,vB:"",HA:null,ua:1,aG:1,Ca:1,bG:1,jr:0,XF:5,Uh:null,hG:null,lG:null,kG:null,iG:null,jG:null,mr:!1,O_:!1,z0:null,HF:null,IF:null,pN:null,t0:!1,zz:null,i0:null,Ik:null,Rz:1,Au:!1,NF:!0,ctor:function(){this.Ik=q.ck.parentNode===document.body?document.documentElement:q.ck.parentNode;this.Ed=q.size(0,0);this.JF();var a=q.canvas.width,c=q.canvas.height;this.xo=q.size(a,c);this.So=q.size(a,c);this.gf=q.rect(0,0,a,c);this.kw=q.rect(0,
0,a,c);this.Ja=q.da.f().ef;this.zz={left:0,top:0};this.vB="Cocos2dHTML5";q.cF.v(this.xo);this.hG=new q.Vn(q.$g.rt,q.Se.iy);this.lG=new q.Vn(q.$g.KM,q.Se.SHOW_ALL);this.kG=new q.Vn(q.$g.rt,q.Se.xy);this.iG=new q.Vn(q.$g.rt,q.Se.jy);this.jG=new q.Vn(q.$g.rt,q.Se.ky);this.HF=q.canvas;this.IF=q.Z},IA:function(){this.ctor();this.HA&&this.HA.call();var a=this.Ed.width,c=this.Ed.height;0<a&&this.lD(a,c,this.Uh)},qV:function(a){a?this.Au||(this.Au=!0,a=this.IA.bind(this),window.addEventListener("resize",
a,!1)):this.Au&&(this.Au=!0,a=this.IA.bind(this),window.removeEventListener("resize",a,!1))},GW:function(a){if("function"==typeof a||null==a)this.HA=a},JF:function(){var a=this.Ed;a.width=this.Ik.clientWidth;a.height=this.Ik.clientHeight;this.Ed=a},L_:function(){var a=this.So.width,c=this.So.height;0<a&&this.lD(a,c,this.Uh)},QP:function(){if(this.NF){var a={"user-scalable":"no","maximum-scale":"1.0","initial-scale":"1.0"},c=document.getElementsByName("viewport"),d;0==c.length?(c=document.createElement("meta"),
c.name="viewport",c.content="",document.head.appendChild(c)):c=c[0];if(q.Ia.ej&&"firefox"==q.Ia.type)c.content="initial-scale:1";else{d=c.content;for(var e in a)RegExp(e).test(d)||(d+=(""==d?"":",")+e+"\x3d"+a[e]);c.content=d}}},JP:function(){var a=q.Uc();this.Ca=this.ua=a},lP:function(){this.ua=this.aG;this.Ca=this.bG},jO:function(){var a,c=this.jr;for(a=0;a<this.XF;a++){if(!(c&1))return this.jr|=1<<a,a;c>>=1}return-1},hP:function(a){0>a||a>=this.XF||(a=~(1<<a),this.jr&=a)},M_:function(){},uT:function(){this.mr=
!0},O0:function(a){this.NF=a},end:function(){},Z6:function(){return null!=this.HF&&null!=this.IF},x$:function(a){this.Rz=a;q.da.f().mx(q.da.f().Wk)},nba:function(){},B$:function(){},j$:function(a,c){this.zz={left:a,top:c}},o3:function(){return this.zz},bn:function(){return q.size(this.Ed.width,this.Ed.height)},w$:function(a,c){this.Ed.width=a;this.Ed.height=c;this.Ik.style.width=a+"px";this.Ik.style.height=c+"px";this.IA();q.da.f().mx(q.da.f().Wk)},t1:function(){},W9:function(a){this.pN=a},us:function(){return this.kw.Ua},
lI:function(){return this.kw.Vc},p1:function(){return!0},a5:function(){return this.Uh},HW:function(a){if(a instanceof q.Vn)this.Uh=a;else switch(a){case q.Un.iy:this.Uh=this.hG;break;case q.Un.SHOW_ALL:this.Uh=this.lG;break;case q.Un.xy:this.Uh=this.kG;break;case q.Un.jy:this.Uh=this.iG;break;case q.Un.ky:this.Uh=this.jG}},lD:function(a,c,d){if(isNaN(a)||0==a||isNaN(c)||0==c)q.log("Resolution not valid");else{this.HW(d);var e=this.Uh;if(e){e.rn(this);var f=this.Ed.width,g=this.Ed.height;q.Ia.ej&&
this.QP(this.Ed.width,this.Ed.height);this.JF();if(d!=this.Uh||a!=this.So.width||c!=this.So.height||f!=this.Ed.width||g!=this.Ed.height)this.xo=q.size(a,c),this.So=q.size(a,c),a=e.apply(this,this.xo),a.scale&&2==a.scale.length&&(this.ua=a.scale[0],this.Ca=a.scale[1]),a.viewport instanceof q.vg&&(a=this.gf=a.viewport,c=this.kw,c.Ua.width=q.canvas.width/this.ua,c.Ua.height=q.canvas.height/this.Ca,c.Vc.x=-a.x/this.ua,c.Vc.y=-a.y/this.Ca),a=q.da.f(),a.Wb=this.tp(),e.qn(this),q.Kd==q.xk&&(a.vo(),a.iK()),
this.aG=this.ua,this.bG=this.Ca,q.ic&&q.ic.jP(),q.cF.v(this.us())}else q.log("should set resolutionPolicy")}},tp:function(){return q.size(this.xo.width,this.xo.height)},Gaa:function(a){this.Ja=a},UW:function(a,c,d,e){var f=this.Rz,g=this.ua,h=this.Ca;q.Z.viewport(a*g*f+this.gf.x*f,c*h*f+this.gf.y*f,d*g*f,e*h*f)},tD:function(a,c,d,e){var f=this.Rz,g=this.ua,h=this.Ca;q.Z.scissor(a*g*f+this.gf.x*f,c*h*f+this.gf.y*f,d*g*f,e*h*f)},ET:function(){var a=q.Z;return a.isEnabled(a.SCISSOR_TEST)},CS:function(){var a=
q.Z,c=this.ua,d=this.Ca,a=a.getParameter(a.SCISSOR_BOX);return q.rect((a[0]-this.gf.x)/c,(a[1]-this.gf.y)/d,a[2]/c,a[3]/d)},Oaa:function(a){null!=a&&0<a.length&&(this.vB=a)},X5:function(){return this.vB},Y5:function(){return this.gf},AS:function(){return this.ua},BS:function(){return this.Ca},z3:function(){return this.Nq},dk:function(a,c,d){return{x:this.Nq*(a-d.left),y:this.Nq*(d.top+d.height-c)}},XS:function(a,c,d,e){for(var f=[],g=this.gf,h=this.ua,k=this.Ca,l=0;l<a;++l){var m=c[l],n=d[l],t=e[l],
s=0;if(null==q.qq[m])if(s=this.jO(),-1==s)q.log("The touches is more than MAX_TOUCHES, nUnusedIndex \x3d "+s);else{var u=q.pu[s]=new q.tf;u.yD(s,(n-g.x)/h,(t-g.y)/k);q.qq[m]=0|s;f.push(u)}}0!==f.length&&this.Ja.Hx(f,null)},$S:function(a,c,d,e){for(var f=[],g=this.ua,h=this.Ca,k=this.gf.x,l=this.gf.y,m=0;m<a;++m){var n=d[m],t=e[m],s=q.qq[c[m]];if(null!=s){var u=q.pu[s];if(u)u.yD(s,(n-k)/g,(t-l)/h),f.push(u);else return}}0!=f.length&&this.Ja.Ix(f,null)},ZS:function(a,c,d,e){var f=[];this.eI(f,a,c,d,
e);this.Ja.at(f,null)},YS:function(a,c,d,e){var f=[];this.eI(f,a,c,d,e);this.Ja.ND(f,null)},eI:function(a,c,d,e,f){for(var g=this.ua,h=this.Ca,k=this.gf,l=0;l<c;++l){var m=d[l],n=e[l],t=f[l],s=q.qq[m];if(null!=s){var u=q.pu[s];if(u)u.yD(s,(n-k.x)/g,(t-k.y)/h),a.push(u),q.pu[s]=null,this.hP(s),delete q.qq[m];else break}}},Hx:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Nf||h,d[f]=g.S.x,e[f]=g.S.y,++f;this.XS(f,c,d,e)},Ix:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=
a[h],c[f]=g.Nf||h,d[f]=g.S.x,e[f]=g.S.y,++f;this.$S(f,c,d,e)},at:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Nf||h,d[f]=g.S.x,e[f]=g.S.y,++f;this.ZS(f,c,d,e)},ND:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Nf||h,d[f]=g.S.x,e[f]=g.S.y,++f;this.YS(f,c,d,e)}});q.pa.f=function(){this.Kb||(q.da.f(),this.Kb=this.Kb||new q.pa,this.Kb.uT());return this.Kb};
q.$g=q.La.extend({jF:!1,rn:function(){if("iOS"==v.sJ||"OS X"==v.sJ)this.jF=!0},apply:function(){},qn:function(){},TA:function(a,c,d){var e=a.Ik;q.Ia.ej&&e==document.documentElement&&q.Ky.f().MQ(e);var e=q.canvas,f=q.ck;f.style.width=e.style.width=c+"px";f.style.height=e.style.height=d+"px";f=a.Nq=1;this.jF&&(f=a.Nq=window.devicePixelRatio||1);e.width=c*f;e.height=d*f;a=document.body;var g;a&&(g=a.style)&&(g.paddingTop=g.paddingTop||"0px",g.paddingRight=g.paddingRight||"0px",g.paddingBottom=g.paddingBottom||
"0px",g.paddingLeft=g.paddingLeft||"0px",g.borderTop=g.borderTop||"0px",g.borderRight=g.borderRight||"0px",g.borderBottom=g.borderBottom||"0px",g.borderLeft=g.borderLeft||"0px",g.marginTop=g.marginTop||"0px",g.marginRight=g.marginRight||"0px",g.marginBottom=g.marginBottom||"0px",g.marginLeft=g.marginLeft||"0px")},BF:function(){document.body.insertBefore(q.ck,document.body.firstChild);var a=document.body.style;a.width=window.innerWidth+"px";a.height=window.innerHeight+"px";a.overflow="hidden";a=q.ck.style;
a.position="fixed";a.left=a.top="0px";document.body.scrollTop=0}});q.Se=q.La.extend({KA:{scale:[1,1],viewport:null},Aq:function(a,c,d,e,f,g){2>Math.abs(a-d)&&(d=a);2>Math.abs(c-e)&&(e=c);a=q.rect(Math.round((a-d)/2),Math.round((c-e)/2),d,e);q.Kd==q.rg&&q.Z.translate(a.x,a.y+e);this.KA.scale=[f,g];this.KA.viewport=a;return this.KA},rn:function(){},apply:function(){return{scale:[1,1]}},qn:function(){}});
(function(){var a=q.$g.extend({apply:function(a){this.TA(a,a.Ed.width,a.Ed.height)}}),c=q.$g.extend({apply:function(a,c){var d=a.Ed.width,e=a.Ed.height,f=q.ck.style,n=c.width,t=c.height,s=d/n,u=e/t,w,D;s<u?(w=d,D=t*s):(w=n*u,D=e);n=Math.round((d-w)/2);D=Math.round((e-D)/2);this.TA(a,d-2*n,e-2*D);f.marginLeft=n+"px";f.marginRight=n+"px";f.marginTop=D+"px";f.marginBottom=D+"px"}});a.extend({rn:function(a){this._super(a);a.Ik=document.documentElement},apply:function(a){this._super(a);this.BF()}});c.extend({rn:function(a){this._super(a);
a.Ik=document.documentElement},apply:function(a,c){this._super(a,c);this.BF()}});var d=q.$g.extend({apply:function(a){this.TA(a,q.canvas.width,q.canvas.height)}});q.$g.rt=new a;q.$g.KM=new c;q.$g.uZ=new d;var a=q.Se.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height;return this.Aq(d,e,d,e,d/c.width,e/c.height)}}),c=q.Se.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=c.width,n=c.height,t=d/f,s=e/n,u=0,w,D;t<s?(u=t,w=d,D=n*u):(u=s,w=f*u,D=e);return this.Aq(d,e,
w,D,u,u)}}),d=q.Se.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=c.width,n=c.height,t=d/f,s=e/n,u,w,D;t<s?(u=s,w=f*u,D=e):(u=t,w=d,D=n*u);return this.Aq(d,e,w,D,u,u)}}),e=q.Se.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=e/c.height;return this.Aq(d,e,d,e,f,f)},qn:function(a){q.da.f().Wb=a.us()}}),f=q.Se.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=d/c.width;return this.Aq(d,e,d,e,f,f)},qn:function(a){q.da.f().Wb=a.us()}});q.Se.iy=
new a;q.Se.SHOW_ALL=new c;q.Se.xy=new d;q.Se.jy=new e;q.Se.ky=new f})();q.Vn=q.La.extend({Pu:null,Qu:null,ctor:function(a,c){this.SV(a);this.VV(c)},rn:function(a){this.Pu.rn(a);this.Qu.rn(a)},apply:function(a,c){this.Pu.apply(a,c);return this.Qu.apply(a,c)},qn:function(a){this.Pu.qn(a);this.Qu.qn(a)},SV:function(a){a instanceof q.$g&&(this.Pu=a)},VV:function(a){a instanceof q.Se&&(this.Qu=a)}});q.Ky=q.La.extend({Qr:!1,Ck:"",uA:null,vA:null,kB:"",v:function(){var a=["webkit","moz","o","ms","khtml"],c=document.body;if(c.requestFullScreen)this.Qr=!0;else for(var d=0,e=a.length,f;d<e;d++)if(f=a[d],c[f+"RequestFullScreen"]){this.Qr=!0;this.Ck=f;break}this.kB="ontouchstart"in window?"touchstart":"mousedown"},fullScreen:function(){var a=document;if(this.Qr)switch(this.Ck){case "":return a.fullScreen;case "webkit":return a.webkitIsFullScreen;default:return a[this.Ck+"FullScreen"]}return!1},NJ:function(a,
c){if(this.Qr&&!this.fullScreen()){if(c){var d=this.Ck+"fullscreenchange";this.uA&&this.vA&&this.uA.removeEventListener(d,this.vA);this.uA=a;this.vA=c;a.addEventListener(d,c,!1)}return""===this.Ck?a.requestFullScreen():a[this.Ck+"RequestFullScreen"]()}},q2:function(){if(this.Qr&&this.fullScreen())return""===this.Ck?document.body.cancelFullScreen():document.body[this.Ck+"CancelFullScreen"]()},MQ:function(a,c){function d(){e.NJ(a,c);a.removeEventListener(e.kB,d)}var e=this;this.NJ(a,c);a.addEventListener(this.kB,
d)}});q.Ky.f=function(){if(!this.Kb){var a=new q.Ky;a.v();this.Kb=a}return this.Kb};q.cF={ai:q.Gd(),sh:q.Gd(),$h:q.Gd(),Bi:q.Gd(),Ci:q.Gd(),Ai:q.Gd(),rz:q.Gd(),Mi:q.Gd(),Vh:q.Gd(),Ha:0,xa:0,v:function(a){this.Ha=a.width;this.xa=a.height;a=this.Ha;var c=this.xa;this.ai.P=c;this.sh.J=a;this.sh.P=c;this.$h.J=a/2;this.$h.P=c;this.Ci.J=a;this.Ai.J=a/2;this.rz.J=a/2;this.rz.P=c/2;this.Mi.P=c/2;this.Vh.J=a;this.Vh.P=c/2},ws:function(){return this.Ha},rs:function(){return this.xa},Hba:function(){return this.ai},Iba:function(){return this.sh},top:function(){return this.$h},d1:function(){return this.Bi},
e1:function(){return this.Ci},bottom:function(){return this.Ai},s1:function(){return this.rz},left:function(){return this.Mi},right:function(){return this.Vh}};q.Cx=function(a){var c;if(a&&0!=a.length){var d=a.indexOf("{"),e=a.indexOf("}");-1==d||-1==e||d>e||(a=a.substr(d+1,e-d-1),0!=a.length&&(d=a.indexOf("}"),-1==a.indexOf("{")&&-1==d&&(c=a.split(","))))}return c};q.NE=function(a){var c=q.rd();if(a){var d=a.indexOf("{")+1,e=a.lastIndexOf("}",a.length);-1!=d&&-1!=e&&(a=a.substring(d,e),d=a.indexOf("}"),-1!=d&&(d=a.indexOf(",",d),-1!=d&&(c=q.Cx(a.substr(0,d)),a=q.Cx(a.substr(d+1,a.length-d)),c=q.rect(parseFloat(c[0]),parseFloat(c[1]),parseFloat(a[0]),parseFloat(a[1])))))}return c};
q.ME=function(a){var c=q.vj();try{if(""==a)return c;var d=q.Cx(a),c=q.a(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};q.Ly=function(a){var c=q.am();try{if(""==a)return c;var d=q.Cx(a),c=q.size(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};q.VX=function(a,c,d,e,f,g){this.K=a;this.k=c;this.Ka=d;this.d=e;this.bb=f;this.cb=g};q.I_=function(a,c,d,e,f,g){return{K:a,k:c,Ka:d,d:e,bb:f,cb:g}};q.YX=function(a,c,d,e,f,g){return{K:a,k:c,Ka:d,d:e,bb:f,cb:g}};q.J_=function(a,c){return{x:c.K*a.x+c.Ka*a.y+c.bb,y:c.k*a.x+c.d*a.y+c.cb}};q.LE=function(a,c){return{x:c.K*a.x+c.Ka*a.y+c.bb,y:c.k*a.x+c.d*a.y+c.cb}};q.zk=function(a,c,d){return{x:d.K*a+d.Ka*c+d.bb,y:d.k*a+d.d*c+d.cb}};
q.K_=function(a,c){return{width:c.K*a.width+c.Ka*a.height,height:c.k*a.width+c.d*a.height}};q.d_=function(a,c){return{width:c.K*a.width+c.Ka*a.height,height:c.k*a.width+c.d*a.height}};q.ZX=function(){return{K:1,k:0,Ka:0,d:1,bb:0,cb:0}};q.XX=function(){return{K:1,k:0,Ka:0,d:1,bb:0,cb:0}};
q.Kf=function(a,c){var d=q.Cl(a),e=q.Bl(a),f=q.sn(a),g=q.tn(a),h=q.zk(e,d,c),d=q.zk(f,d,c),e=q.zk(e,g,c),k=q.zk(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);return q.rect(f,l,g-f,h-l)};
q.xi=function(a,c){var d=q.Cl(a),e=q.Bl(a),f=q.sn(a),g=q.tn(a),h=q.zk(e,d,c),d=q.zk(f,d,c),e=q.zk(e,g,c),k=q.zk(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);a.x=f;a.y=l;a.width=g-f;a.height=h-l;return a};q.Rx=function(a,c,d){return{K:a.K,k:a.k,Ka:a.Ka,d:a.d,bb:a.bb+a.K*c+a.Ka*d,cb:a.cb+a.k*c+a.d*d}};q.$X=function(a,c,d){return{K:a.K*c,k:a.k*c,Ka:a.Ka*d,d:a.d*d,bb:a.bb,cb:a.cb}};
q.DL=function(a){var c=Math.sin(1.57079633),d=Math.cos(1.57079633);return{K:a.K*d+a.Ka*c,k:a.k*d+a.d*c,Ka:a.Ka*d-a.K*c,d:a.d*d-a.k*c,bb:a.bb,cb:a.cb}};q.Tl=function(a,c){return{K:a.K*c.K+a.k*c.Ka,k:a.K*c.k+a.k*c.d,Ka:a.Ka*c.K+a.d*c.Ka,d:a.Ka*c.k+a.d*c.d,bb:a.bb*c.K+a.cb*c.Ka+c.bb,cb:a.bb*c.k+a.cb*c.d+c.cb}};q.WX=function(a,c){return a.K===c.K&&a.k===c.k&&a.Ka===c.Ka&&a.d===c.d&&a.bb===c.bb&&a.cb===c.cb};
q.$D=function(a){var c=1/(a.K*a.d-a.k*a.Ka);return{K:c*a.d,k:-c*a.k,Ka:-c*a.Ka,d:c*a.K,bb:c*(a.Ka*a.cb-a.d*a.bb),cb:c*(a.k*a.bb-a.K*a.cb)}};q.BE=parseFloat("1.192092896e-07F");q.PC=function(a){return q.a(-a.x,-a.y)};q.Ug=function(a,c){return q.a(a.x+c.x,a.y+c.y)};q.Jd=function(a,c){return q.a(a.x-c.x,a.y-c.y)};q.kj=function(a,c){return q.a(a.x*c,a.y*c)};q.OC=function(a,c){return q.kj(q.Ug(a,c),0.5)};q.Np=function(a,c){return a.x*c.x+a.y*c.y};q.x8=function(a,c){return a.x*c.y-a.y*c.x};q.Uw=function(a){return q.a(-a.y,a.x)};q.F8=function(a){return q.a(a.y,-a.x)};q.E8=function(a,c){return q.kj(c,q.Np(a,c)/q.Np(c,c))};
q.G8=function(a,c){return q.a(a.x*c.x-a.y*c.y,a.x*c.y+a.y*c.x)};q.L8=function(a,c){return q.a(a.x*c.x+a.y*c.y,a.y*c.x-a.x*c.y)};q.uJ=function(a){return q.Np(a,a)};q.y8=function(a,c){return q.uJ(q.Jd(a,c))};q.MC=function(a){return Math.sqrt(q.uJ(a))};q.LC=function(a,c){return q.MC(q.Jd(a,c))};q.Eh=function(a){return q.kj(a,1/q.MC(a))};q.z8=function(a){return q.a(Math.cos(a),Math.sin(a))};q.K8=function(a){return Math.atan2(a.y,a.x)};q.is=function(a,c,d){if(c>d){var e=c;c=d;d=e}return a<c?c:a<d?a:d};
q.tJ=function(a){var c=q.a(0,0),d=q.a(1,1);return q.a(q.is(a.x,c.x,d.x),q.is(a.y,c.y,d.y))};q.mU=function(){var a=q.da.f().Wb;return q.a(a.width,a.height)};q.w8=function(a,c){return q.a(c(a.x),c(a.y))};q.vJ=function(a,c,d){return q.Ug(q.kj(a,1-d),q.kj(c,d))};q.A8=function(a,c,d){return a.x-d<=c.x&&c.x<=a.x+d&&a.y-d<=c.y&&c.y<=a.y+d?!0:!1};q.v8=function(a,c){return q.a(a.x*c.x,a.y*c.y)};q.u8=function(a,c){var d=q.Eh(a),e=q.Eh(c),d=Math.atan2(d.x*e.y-d.y*e.x,q.Np(d,e));return Math.abs(d)<q.BE?0:d};
q.t8=function(a,c){var d=Math.acos(q.Np(q.Eh(a),q.Eh(c)));return Math.abs(d)<q.BE?0:d};q.oU=function(a,c,d){a=q.Jd(a,c);var e=Math.cos(d);d=Math.sin(d);var f=a.x;a.x=f*e-a.y*d+c.x;a.y=f*d+a.y*e+c.y;return a};q.NC=function(a,c,d,e,f){if(a.x==c.x&&a.y==c.y||d.x==e.x&&d.y==e.y)return!1;var g=c.x-a.x;c=c.y-a.y;var h=e.x-d.x;e=e.y-d.y;var k=a.x-d.x;a=a.y-d.y;d=e*g-h*c;f.x=h*a-e*k;f.y=g*a-c*k;if(0==d)return 0==f.x||0==f.y?!0:!1;f.x/=d;f.y/=d;return!0};
q.I8=function(a,c,d,e){var f=q.a(0,0);return q.NC(a,c,d,e,f)&&0<=f.x&&1>=f.x&&0<=f.y&&1>=f.y?!0:!1};q.C8=function(a,c,d,e){var f=q.a(0,0);return q.NC(a,c,d,e,f)?(d=q.a(0,0),d.x=a.x+f.x*(c.x-a.x),d.y=a.y+f.x*(c.y-a.y),d):q.vj()};q.H8=function(a,c){return null!=a&&null!=c?a.x==c.x&&a.y==c.y:!1};q.M8=function(a){a.x=0;a.y=0};q.B8=function(a,c){a.x=c.x;a.y=c.y};q.nU=function(a,c){a.x*=c;a.y*=c};q.J8=function(a,c){a.x-=c.x;a.y-=c.y};q.s8=function(a,c){a.x+=c.x;a.y+=c.y};
q.D8=function(a){q.nU(a,1/Math.sqrt(a.x*a.x+a.y*a.y))};q.aca=function(a,c,d,e,f){f+=e;if(!(1>=f)){c*=0.5;for(var g,h=f-1,k=e;k<f;k++){g=2*k;var l=q.a(a[2*k],a[2*k+1]),m;if(0===k)m=q.Uw(q.Eh(q.Jd(l,q.a(a[2*(k+1)],a[2*(k+1)+1]))));else if(k===h)m=q.Uw(q.Eh(q.Jd(q.a(a[2*(k-1)],a[2*(k-1)+1]),l)));else{m=q.a(a[2*(k-1)],a[2*(k-1)+1]);var n=q.a(a[2*(k+1)],a[2*(k+1)+1]),t=q.Eh(q.Jd(n,l)),s=q.Eh(q.Jd(m,l)),u=Math.acos(q.Np(t,s));m=u<q.tj(70)?q.Uw(q.Eh(q.OC(t,s))):u<q.tj(170)?q.Eh(q.OC(t,s)):q.Uw(q.Eh(q.Jd(n,m)))}m=q.kj(m,c);d[2*g]=l.x+m.x;d[2*g+1]=l.y+m.y;d[2*
(g+1)]=l.x-m.x;d[2*(g+1)+1]=l.y-m.y}for(k=0==e?0:e-1;k<h;k++)g=2*k,a=g+2,c=q.wu(d[2*g],d[2*g+1]),f=q.wu(d[2*(g+1)],d[2*(g+1)+1]),g=q.wu(d[2*a],d[2*a]),e=q.wu(d[2*(a+1)],d[2*(a+1)+1]),c=!q.EX(c.x,c.y,e.x,e.y,f.x,f.y,g.x,g.y),!c.Cs&&(0>c.value||1<c.value)&&(c.Cs=!0),c.Cs&&(d[2*a]=e.x,d[2*a+1]=e.y,d[2*(a+1)]=g.x,d[2*(a+1)+1]=g.y)}};
q.EX=function(a,c,d,e,f,g,h,k){if(a==d&&c==e||f==h&&g==k)return{Cs:!1,value:0};d-=a;e-=c;f-=a;g-=c;h-=a;k-=c;a=Math.sqrt(d*d+e*e);d/=a;e/=a;c=f*d+g*e;g=g*d-f*e;f=c;c=h*d+k*e;k=k*d-h*e;h=c;return g==k?{Cs:!1,value:0}:{Cs:!0,value:(h+(f-h)*k/(k-g))/a}};q.iY=function(a,c){c[2]=c[3]=c[6]=c[7]=c[8]=c[9]=c[11]=c[14]=0;c[10]=c[15]=1;c[0]=a.K;c[4]=a.Ka;c[12]=a.bb;c[1]=a.k;c[5]=a.d;c[13]=a.cb};q.RY=function(a,c){c.K=a[0];c.Ka=a[4];c.bb=a[12];c.k=a[1];c.d=a[5];c.cb=a[13]};q.zE=-1;q.nZ=null;q.oZ=null;q.yV=1;
q.H=q.La.extend({jb:0,jw:0,Gg:0,Wh:0,ua:1,Ca:1,t:null,ve:0,we:0,B:null,ta:!0,Lh:null,Qd:null,Ba:null,$e:!1,ba:null,Nk:!1,xd:q.zE,QG:null,rB:null,Zj:!0,iv:!0,rF:!0,v0:null,Yj:null,MF:null,ue:!1,Lc:null,Qf:0,eh:null,Hg:null,LF:!1,uq:!1,Du:null,Fi:null,hA:!1,Bm:0,Cr:0,eA:function(){this.Lh=q.Gd();this.Qd=q.Gd();this.Ba=q.Em();this.t=q.Gd();this.B=[];this.Yj={K:1,k:0,Ka:0,d:1,bb:0,cb:0};var a=q.da.f();this.eh=a.cg();this.Hg=a.Gf();this.LF=!0;this.Du={K:1,k:0,Ka:0,d:1,bb:0,cb:0};q.OL&&(this.Fi=new q.OL(this))},
v:function(){!1===this.LF&&this.eA();return!0},yg:function(a,c){if(a&&0!==a.length){var d,e=a.length,f;d=q.H.Lf;switch(c){case d.Sg:for(d=0;d<e;d++)(f=a[d])&&f.Sg();break;case d.ce:for(d=0;d<e;d++)(f=a[d])&&f.ce();break;case d.pi:for(d=0;d<e;d++)(f=a[d])&&f.pi();break;case d.bg:for(d=0;d<e;d++)(f=a[d])&&f.bg();break;case d.pg:for(d=0;d<e;d++)(f=a[d])&&f.pg();break;case d.Dh:for(d=0;d<e;d++)(f=a[d])&&f.Dh();break;case d.de:for(d=0;d<e;d++)(f=a[d])&&f.de();break;default:throw"Unknown callback function";
}}},ab:null,BP:function(){this.Dm();!1===this.Zj&&(this.Zj=this.iv=!0)},CP:function(){!1===this.Zj&&(this.Zj=this.iv=!0)},o5:function(){return this.ve},sx:function(a){this.ve=a;this.ab()},p5:function(){return this.we},tx:function(a){this.we=a;this.ab()},e6:function(){return this.jb},Nv:function(a){this.jb=a},Qaa:function(a){this.Nv(a);this.ba&&this.ba.Ks(this,a)},U5:function(){return this.jw},KK:function(a){this.jw=a},zS:function(){this.Gg!==this.Wh&&q.log("cc.Node.rotation(): RotationX !\x3d RotationY. Don't know which one to return");
return this.Gg},ox:function(a){this.Gg=this.Wh=a;this.Bm=0.017453292519943295*this.Gg;this.Cr=0.017453292519943295*this.Wh;this.ab()},e5:function(){return this.Gg},px:function(a){this.Gg=a;this.Bm=0.017453292519943295*this.Gg;this.ab()},f5:function(){return this.Wh},qx:function(a){this.Wh=a;this.Cr=0.017453292519943295*this.Wh;this.ab()},cC:function(){this.ua!==this.Ca&&q.log("cc.Node.getScale(): ScaleX !\x3d ScaleY. Don't know which one to return");return this.ua},pk:function(a,c){this.ua=a;this.Ca=
c||0===c?c:a;this.ab()},AS:function(){return this.ua},Tp:function(a){this.ua=a;this.ab()},BS:function(){return this.Ca},zn:function(a){this.Ca=a;this.ab()},o:function(a,c){var d=this.t;2==arguments.length?(d.J=a,d.P=c):1==arguments.length&&(d.J=a.x,d.P=a.y);this.ab()},P4:function(){return this.t},Q4:function(){return this.t.J},Db:function(a){this.t.J=a;this.ab()},R4:function(){return this.t.P},Gc:function(a){this.t.P=a;this.ab()},g3:function(){return this.B.length},f3:function(){return this.B},SI:function(){return this.ta},
D:function(a){this.ta=a;this.ab()},O2:function(){return this.Lh},G:function(a,c){var d=this.Lh;if(2===arguments.length){if(a===d.J&&c===d.P)return;d.J=a;d.P=c}else{if(a.x===d.J&&a.y===d.P)return;d.J=a.x;d.P=a.y}var e=this.Qd,f=this.Ba;e.J=f.Ha*d.J;e.P=f.xa*d.P;this.ab()},P2:function(){return this.Qd},c:function(){return this.Ba},U:function(a,c){var d=this.Ba;if(2===arguments.length){if(a===d.Ha&&c===d.xa)return;d.Ha=a;d.xa=c}else{if(a.width===d.Ha&&a.height===d.xa)return;d.Ha=a.width;d.xa=a.height}var e=
this.Qd,f=this.Lh;e.J=d.Ha*f.J;e.P=d.xa*f.P;this.ab()},h7:function(){return this.$e},getParent:function(){return this.ba},Rs:function(a){this.ba=a},S6:function(){return this.Nk},cj:function(a){a!=this.Nk&&(this.Nk=a,this.ab())},KS:function(){return this.xd},GK:function(a){this.xd=a},getUserData:function(){return this.QG},setUserData:function(a){this.QG=a},S5:function(){return this.rB},Kaa:function(a){this.rB!=a&&(this.rB=a)},G4:function(){return this.Qf},Sp:function(a){this.Qf=a},cg:function(){this.eh||
(this.eh=q.da.f().cg());return this.eh},IV:function(a){this.eh!=a&&(this.GD(),this.eh=a)},Gf:function(){this.Hg||(this.Hg=q.da.f().Gf());return this.Hg},JW:function(a){this.Hg!=a&&(this.bt(),this.Hg=a)},fb:function(){var a=q.rect(0,0,this.Ba.Ha,this.Ba.xa);return q.xi(a,this.fg())},bg:function(){this.GD();this.bt();this.yg(this.B,q.H.Lf.bg)},description:function(){return"\x3ccc.Node | Tag \x3d"+this.xd+"\x3e"},bS:function(a){var c=this.B;if(null!=c)for(var d=0;d<c.length;d++){var e=c[d];if(e&&e.xd==
a)return e}return null},g:function(a,c,d){if(!a)throw"cc.Node.addChild(): child must be non-null";a===this?q.log("cc.Node.addChild(): An Node can't be added as a child of itself."):null!==a.ba?q.log("cc.Node.addChild(): child already added. It can't be added again"):(c=null!=c?c:a.jb,a.xd=null!=d?d:a.xd,this.wO(a,c),a.ba=this,this.$e&&(a.Sg(),this.hA&&a.pi()))},R:function(a){this.ba&&(null==a&&(a=!0),this.ba.removeChild(this,a))},hV:function(a){q.log("removeFromParentAndCleanup is deprecated. Use removeFromParent instead");
this.R(a)},removeChild:function(a,c){0!==this.B.length&&(null==c&&(c=!0),-1<this.B.indexOf(a)&&this.ZN(a,c),this.ab())},w9:function(a,c){a===q.zE&&q.log("cc.Node.removeChildByTag(): argument tag is an invalid tag");var d=this.bS(a);null==d?q.log("cocos2d: removeChildByTag(tag \x3d "+a+"): child not found!"):this.removeChild(d,c)},o9:function(a){q.log("removeAllChildrenWithCleanup is deprecated. Use removeAllChildren instead");this.fc(a)},fc:function(a){var c=this.B;if(null!=c){null==a&&(a=!0);for(var d=
0;d<c.length;d++){var e=c[d];e&&(this.$e&&(e.Dh(),e.ce()),a&&e.bg(),e.Rs(null))}this.B.length=0}},ZN:function(a,c){this.$e&&(a.Dh(),a.ce());c&&a.bg();a.Rs(null);q.fe(this.B,a)},wO:function(a,c){this.ue=!0;this.B.push(a);a.Nv(c)},Ks:function(a,c){if(!a)throw"cc.Node.reorderChild(): child must be non-null";this.ue=!0;a.Sp(q.yV++);a.Nv(c);this.ab()},de:function(){if(this.ue){var a=this.B,c,d,e=a.length,f;for(c=0;c<e;c++){var g=a[c];d=c-1;for(f=a[d];0<=d&&(g.jb<f.jb||g.jb==f.jb&&g.Qf<f.Qf);)a[d+1]=f,
d-=1,f=a[d];a[d+1]=g}this.ue=!1}},Va:function(){},Jx:function(){null!=this.ba&&(this.ba.Jx(),this.ba.transform())},Sg:function(){this.hA=!1;this.$e=!0;this.yg(this.B,q.H.Lf.Sg);this.bx()},pi:function(){this.hA=!0;this.yg(this.B,q.H.Lf.pi)},Dh:function(){this.yg(this.B,q.H.Lf.Dh)},ce:function(){this.$e=!1;this.Ww();this.yg(this.B,q.H.Lf.ce);this.Fi&&this.Fi.cV()},cx:function(a){if(!a)throw"cc.Node.runAction(): action must be non-null";this.cg().tQ(a,this,!this.$e);return a},GD:function(){this.cg().JJ(this)},
nX:function(a){this.cg().IJ(a)},gba:function(a){a===q.Ln?q.log("cc.Node.stopActionBy(): argument tag an invalid tag"):this.cg().bV(a,this)},ZB:function(a){return a===q.Ln?(q.log("cc.Node.getActionByTag(): argument tag is an invalid tag"),null):this.cg().ZB(a,this)},t4:function(){return this.cg().kJ(this)},j8:function(){return this.cg().kJ(this)},BV:function(){this.CV(0)},CV:function(a){this.Gf().RJ(this,a,!this.$e)},Nba:function(){this.Gf().Zp(this)},hc:function(a,c,d,e){c=c||0;if(!a)throw"cc.Node.schedule(): callback function must be non-null";
if(0>c)throw"cc.Node.schedule(): interval must be positive";d=null==d?q.$l:d;e=e||0;this.Gf().AV(this,a,c,d,e,!this.$e)},md:function(a,c){this.hc(a,0,0,c)},Tc:function(a){a&&this.Gf().mL(this,a)},bt:function(){this.Gf().lL(this)},bx:function(){this.Gf().vn(this);this.cg().vn(this)},Ww:function(){this.Gf().Js(this);this.cg().Js(this)},X9:function(a){this.Du=a;this.uq=this.Zj=!0},P8:function(){this.iv&&(this.MF=q.$D(this.fg()),this.iv=!1);return this.MF},mn:function(){for(var a=this.fg(),c=this.ba;null!=
c;c=c.getParent())a=q.Tl(a,c.fg());return a},HX:function(){return q.$D(this.mn())},Oa:function(a){return q.LE(a,this.HX())},el:function(a){return q.LE(a,this.mn())},nR:function(a){return q.Jd(this.Oa(a),this.Qd)},J1:function(a){a=q.Ug(a,this.Qd);return this.el(a)},P_:function(a){a=this.el(a);return q.da.f().oR(a)},fi:function(a){return this.Oa(a.S)},K1:function(a){a=a.S;a=q.da.f().mR(a);return this.nR(a)},update:function(a){this.Fi&&!this.Fi.O6()&&this.Fi.Aa(a)},pg:function(){this.yg(this.B,q.H.Lf.pg)},
PJ:function(){},HJ:function(){},cS:function(a){return this.Fi.cS(a)},C0:function(a){this.Fi.add(a)},x9:function(a){return this.Fi.remove(a)},p9:function(){this.Fi.cV()},DG:null,eB:null,aA:null,no:null,Kk:null,ctor:null,Mh:function(){this.eA()},Nh:function(){this.eA();var a=new q.Bh;a.Ch[2]=a.Ch[3]=a.Ch[6]=a.Ch[7]=a.Ch[8]=a.Ch[9]=a.Ch[11]=a.Ch[14]=0;a.Ch[10]=a.Ch[15]=1;this.DG=a;this.aA=0;this.eB=new q.Bh},Aa:null,Rm:function(a){if(this.ta){a=a||q.Z;var c,d=this.B,e;a.save();this.transform(a);var f=
d.length;if(0<f){this.de();for(c=0;c<f;c++)if(e=d[c],0>e.jb)e.Aa(a);else break;for(this.Va(a);c<f;c++)d[c].Aa(a)}else this.Va(a);this.Qf=0;a.restore()}},Sm:function(){if(this.ta){var a=q.Z,c,d=q.sR;d.stack.push(d.top);q.A7(this.eB,d.top);d.top=this.eB;var e=this.Kk;e&&e.rN&&e.EB();this.transform();var f=this.B;if(f&&0<f.length){var g=f.length;this.de();for(c=0;c<g;c++)if(f[c]&&0>f[c].jb)f[c].Aa();else break;for(this.Va(a);c<g;c++)f[c]&&f[c].Aa()}else this.Va(a);this.Qf=0;e&&e.rN&&e.BB(this);d.top=
d.stack.pop()}},transform:null,bQ:function(a){a=a||q.Z;var c=q.pa.f(),d=this.fg();a.transform(d.K,d.Ka,d.k,d.d,d.bb*c.ua,-d.cb*c.Ca)},cQ:function(){var a=this.DG,c=q.sR.top,d=this.fg(),e=a.Ch;e[0]=d.K;e[4]=d.Ka;e[12]=d.bb;e[1]=d.k;e[5]=d.d;e[13]=d.cb;e[14]=this.jw;q.MT(c,c,a);null==this.no||null!=this.Kk&&this.Kk.Ip()||(a=this.Qd.J,c=this.Qd.P,0!==a||0!==c?(q.JT(q.ug(a),q.ug(c),0),this.no.ZI(),q.JT(q.ug(-a),q.ug(-c),0)):this.no.ZI())},fg:null,MO:function(){this.Yj||(this.Yj={K:1,k:0,Ka:0,d:1,bb:0,
cb:0});if(this.Zj){var a=this.Yj;a.bb=this.t.J;a.cb=this.t.P;var c=1,d=0;this.Gg&&(c=Math.cos(this.Bm),d=Math.sin(this.Bm));a.K=a.d=c;a.k=-d;a.Ka=d;var e=this.ua,f=this.Ca,g=this.Qd.J,h=this.Qd.P,k=1E-6>e&&-1E-6<e?1E-6:e,l=1E-6>f&&-1E-6<f?1E-6:f;if(this.ve||this.we){var m=Math.tan(-this.ve*Math.PI/180),n=Math.tan(-this.we*Math.PI/180),t=h*m*k,s=g*n*l;a.K=c+-d*n;a.k=c*m+-d;a.Ka=d+c*n;a.d=d*m+c;a.bb+=c*t+-d*s;a.cb+=d*t+c*s}if(1!==e||1!==f)a.K*=k,a.Ka*=k,a.k*=l,a.d*=l;a.bb+=c*-g*k+-d*h*l;a.cb-=d*-g*
k+c*h*l;this.Nk&&(a.bb+=g,a.cb+=h);this.uq&&(this.Yj=q.Tl(this.Yj,this.Du),this.uq=!1);this.Zj=!1}return this.Yj},NO:function(){if(this.Zj){var a=this.t.J,c=this.t.P,d=this.Qd.J,e=-d,f=this.Qd.P,g=-f,h=this.ua,k=this.Ca;this.Nk&&(a+=d,c+=f);var l=1,m=0,n=1,t=0;if(0!==this.Gg||0!==this.Wh)l=Math.cos(-this.Bm),m=Math.sin(-this.Bm),n=Math.cos(-this.Cr),t=Math.sin(-this.Cr);var s=this.ve||this.we;s||0===d&&0===f||(a+=n*e*h+-m*g*k,c+=t*e*h+l*g*k);a={K:n*h,k:t*h,Ka:-m*k,d:l*k,bb:a,cb:c};s&&(a=q.Tl({K:1,
k:Math.tan(q.tj(this.we)),Ka:Math.tan(q.tj(this.ve)),d:1,bb:0,cb:0},a),0!==d||0!==f)&&(a=q.Rx(a,e,g));this.uq&&(a=q.Tl(a,this.Du),this.uq=!1);this.Yj=a;this.Zj=!1}return this.Yj},Dm:function(){this.rF=!0;this.ba&&this.ba.Dm()},$B:function(){this.no||(this.no=new q.fq);return this.no},Q3:function(){return this.Kk},z$:function(a){this.Kk=a},eC:function(){return this.Lc},Wg:function(a){this.Lc=a},P3:function(){return this.aA},y$:function(a){this.aA=a},X2:function(){var a=q.rect(0,0,this.Ba.Ha,this.Ba.xa),
c=this.mn(),a=q.Kf(a,this.mn());if(!this.B)return a;for(var d=this.B,e=0;e<d.length;e++){var f=d[e];f&&f.ta&&(f=f.DF(c))&&(a=q.Zw(a,f))}return a},DF:function(a){var c=q.rect(0,0,this.Ba.Ha,this.Ba.xa);a=null==a?this.fg():q.Tl(this.fg(),a);c=q.Kf(c,a);if(!this.B)return c;for(var d=this.B,e=0;e<d.length;e++){var f=d[e];f&&f.ta&&(f=f.DF(a))&&(c=q.Zw(c,f))}return c}});
q.Ia.Sc?(b=q.H.prototype,b.ctor=q.H.prototype.Nh,b.ab=q.H.prototype.CP,b.Aa=q.H.prototype.Sm,b.transform=q.H.prototype.cQ,b.fg=q.H.prototype.NO):(b=q.H.prototype,b.ctor=q.H.prototype.Mh,b.ab=q.H.prototype.BP,b.Aa=q.H.prototype.Rm,b.transform=q.H.prototype.bQ,b.fg=q.H.prototype.MO);q.H.create=function(){return new q.H};q.H.Lf={Sg:1,ce:2,bg:3,pi:4,pg:5,Dh:6,de:7};
q.Fb=q.H.extend({pb:!0,$b:255,Fg:255,yc:null,te:null,Cd:!1,me:!1,ctor:function(){q.H.prototype.ctor.call(this);this.Fg=this.$b=255;this.yc=q.zb();this.te=q.zb();this.me=this.Cd=!1},Zi:function(){return this.Fg},eS:function(){return this.$b},ra:function(a){this.$b=this.Fg=a;a=255;var c=this.ba;c&&c.pb&&c.me&&(a=c.$b);this.pd(a)},pd:function(a){this.$b=this.Fg*a/255;if(this.me){a=this.B;for(var c=0;c<a.length;c++){var d=a[c];d&&d.pb&&d.pd(this.$b)}}},CT:function(){return this.me},YJ:function(a){this.me!==
a&&((this.me=a)?this.Xq():this.Lz())},Xq:function(){var a=255,c=this.ba;c&&c.pb&&c.me&&(a=c.$b);this.pd(a)},Lz:function(){this.$b=this.Fg;for(var a=this.B,c=0;c<a.length;c++){var d=a[c];d&&d.pb&&d.pd(255)}},zd:function(){var a=this.te;return new q.wc(a.r,a.p,a.k)},qs:function(){return this.yc},q:function(a){var c=this.yc,d=this.te;c.r=d.r=a.r;c.p=d.p=a.p;c.k=d.k=a.k;a=(a=this.ba)&&a.pb&&a.Cd?a.qs():q.zb();this.od(a)},od:function(a){var c=this.yc,d=this.te;c.r=0|d.r*a.r/255;c.p=0|d.p*a.p/255;c.k=0|
d.k*a.k/255;if(this.Cd)for(a=this.B,d=0;d<a.length;d++){var e=a[d];e&&e.pb&&e.od(c)}},BT:function(){return this.Cd},XJ:function(a){this.Cd!==a&&((this.Cd=a)?this.Wq():this.Kz())},Wq:function(){var a;a=(a=this.ba)&&a.pb&&a.Cd?a.qs():q.zb();this.od(a)},Kz:function(){var a=this.yc,c=this.te;a.r=c.r;a.p=c.p;a.k=c.k;for(var a=this.B,c=q.zb(),d=0;d<a.length;d++){var e=a[d];e&&e.pb&&e.od(c)}},g:function(a,c,d){q.H.prototype.g.call(this,a,c,d);this.Cd&&this.Wq();this.me&&this.Xq()},If:function(){},ql:function(){return!1}});
q.Fb.create=function(){var a=new q.Fb;a.v();return a};q.ge=q.Fb.extend({pb:!0,SF:0,RF:0,kv:0,jv:0,Ej:null,Ra:null,sc:!1,na:null,zr:0,bA:!1,ctor:function(){q.Fb.prototype.ctor.call(this);this.Ej=q.zb();this.na={src:q.Qe,Nb:q.Pe};this.bA=!1},Pba:function(){q.log("cc.AtlasNode.updateAtlasValues(): Shall be overridden in subclasses")},zd:function(){return this.sc?this.Ej:q.Fb.prototype.zd.call(this)},If:function(a){var c=this.zd();this.sc=a;this.q(c)},ql:function(){return this.sc},ps:function(){return this.na},El:function(a,c){this.na=1==arguments.length?
a:{src:a,Nb:c}},Vp:function(a){this.Ra=a},gI:function(){return this.Ra},X4:function(){return this.zr},gaa:function(a){this.zr=a},Km:null,Rf:null,GG:null,Nu:null,rT:function(a,c,d,e){if(!a)throw"cc.AtlasNode.initWithTileFile(): title should not be null";a=q.ka.f().va(a);return this.Pa(a,c,d,e)},Pa:null,kr:function(a,c,d,e){this.kv=c;this.jv=d;this.sc=!0;this.Rf=a;if(!this.Rf)return q.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.Km=this.Rf;this.Ju();this.zr=e;return!0},
lr:function(a,c,d,e){this.kv=c;this.jv=d;this.Ej=q.zb();this.sc=!0;this.na.src=q.Qe;this.na.Nb=q.Pe;c=this.te;this.Nu=new Float32Array([c.r/255,c.p/255,c.k/255,this.Fg/255]);this.Ra=new q.Zn;this.Ra.Pa(a,e);if(!this.Ra)return q.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.Qm();this.NG();this.Ju();this.zr=e;this.Wg(q.Kh.f().qi(q.YZ));this.GG=q.Z.getUniformLocation(this.eC().Dw(),"u_color");return!0},Va:null,Bg:function(a){a=a||q.Z;q.wy(this);q.fk(this.na.src,this.na.Nb);
a.uniform4fv(this.GG,this.Nu);this.Ra.CH(this.zr,0)},q:null,Er:function(a){var c=this.te;if(c.r!=a.r||c.p!=a.p||c.k!=a.k){c=new q.wc(a.r,a.p,a.k);this.Ej=a;if(this.sc){var d=this.$b;c.r=c.r*d/255;c.p=c.p*d/255;c.k=c.k*d/255}q.Fb.prototype.q.call(this,a);this.fa()&&(a=this.Rf.rc)&&(c=q.ka.f().hI(a))&&(d=q.rect(0,0,a.width,a.height),a=q.YB(a,c,this.te,d),c=new q.cc,c.lf(a),c.$d(),this.ma(c))}},OA:function(a){var c=q.wc(a.r,a.p,a.k);this.Ej=a;var d=this.$b;this.sc&&(c.r=c.r*d/255,c.p=c.p*d/255,c.k=c.k*
d/255);q.Fb.prototype.q.call(this,a);a=this.yc;this.Nu=new Float32Array([a.r/255,a.p/255,a.k/255,d/255])},ra:null,Gr:function(a){q.Fb.prototype.ra.call(this,a);this.sc&&this.q(this.Ej)},QA:function(a){q.Fb.prototype.ra.call(this,a);this.sc?this.q(this.Ej):(a=this.yc,this.Nu=new Float32Array([a.r/255,a.p/255,a.k/255,this.$b/255]))},fa:null,Yz:function(){return this.Km},Zz:function(){return this.Ra.fa()},ma:null,Hr:function(a){this.Km=a},Ir:function(a){this.Ra.ma(a);this.Qm();this.NG()},Ju:null,HN:function(){var a=
this.fa().c();this.RF=0|a.height/this.jv;this.SF=0|a.width/this.kv},IN:function(){var a=this.fa(),c=a.c();this.bA&&(c=a.Ba);this.RF=0|c.height/this.jv;this.SF=0|c.width/this.kv},Qm:function(){this.Ra.fa().ys()||(this.na.src=770,this.na.Nb=771)},NG:function(){this.sc=this.Ra.fa().ys()},PA:function(a){this.bA=a}});
q.Ia.Sc?(b=q.ge.prototype,b.Pa=q.ge.prototype.lr,b.Va=q.ge.prototype.Bg,b.q=q.ge.prototype.OA,b.ra=q.ge.prototype.QA,b.fa=q.ge.prototype.Zz,b.ma=q.ge.prototype.Ir,b.Ju=q.ge.prototype.IN):(b=q.ge.prototype,b.Pa=q.ge.prototype.kr,b.Va=q.H.prototype.Va,b.q=q.ge.prototype.Er,b.ra=q.ge.prototype.Gr,b.fa=q.ge.prototype.Yz,b.ma=q.ge.prototype.Hr,b.Ju=q.ge.prototype.HN);q.ge.create=function(a,c,d,e){var f=new q.ge;return f.rT(a,c,d,e)?f:null};q.yj=0;q.oq=1;q.nq=2;q.mq=3;q.Oy=4;q.Ny=5;q.ju=6;q.iu=7;q.WE=8;q.VE=9;q.UE=q.yj;q.Dz=q.UE;q.LM=!1;q.u0=function(a,c,d,e){this.TT=a||0;this.RT=c||0;this.zL=d||0;this.AL=e||0};
q.bN=q.La.extend({QO:null,Sf:null,oh:null,nh:null,lA:null,Ba:null,jh:null,kh:null,Fo:null,pm:!1,Lc:null,zc:!1,rc:null,ei:null,Td:null,ctor:function(){this.nh=this.oh=0;this.lA="";this.kh=this.jh=0;this.Fo=!1;this.Ba=q.Em();this.pm=!1;this.QO=!0;this.Sf=q.cc.tR();this.Lc=null;this.zc=!1;this.ei=this.rc=null;this.Td=[]},$C:function(){this.ei&&q.Z.deleteTexture(this.ei)},L4:function(){return this.Sf},zp:function(){return this.oh},yp:function(){return this.nh},getName:function(){return this.ei},c:function(){return q.size(this.Ba.width/
q.Uc(),this.Ba.height/q.Uc())},dS:function(){return this.Ba},lS:function(){return this.jh},lW:function(a){this.jh=a},mS:function(){return this.kh},mW:function(a){this.kh=a},eC:function(){return this.Lc},Wg:function(a){this.Lc=a},ys:function(){return this.Fo},bT:function(){return this.pm},description:function(){return"\x3ccc.Texture2D | Name \x3d "+this.lA+" | Dimensions \x3d "+this.oh+" x "+this.nh+" | Coordinates \x3d ("+this.jh+", "+this.kh+")\x3e"},$U:function(){},HT:function(a){return a},Kw:function(a,
c,d,e,f){var g=q.Z,h=0,h=c===q.yj?24:this.kH(c),h=d*h/8;0===h%8?g.pixelStorei(g.UNPACK_ALIGNMENT,8):0===h%4?g.pixelStorei(g.UNPACK_ALIGNMENT,4):0===h%2?g.pixelStorei(g.UNPACK_ALIGNMENT,2):g.pixelStorei(g.UNPACK_ALIGNMENT,1);this.ei=g.createTexture();q.Mg(this);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE);
switch(c){case q.yj:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_BYTE,a);break;case q.oq:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_BYTE,a);break;case q.ju:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_4_4_4_4,a);break;case q.iu:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_5_5_5_1,a);break;case q.nq:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_SHORT_5_6_5,a);break;case q.Ny:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE_ALPHA,
d,e,0,g.LUMINANCE_ALPHA,g.UNSIGNED_BYTE,a);break;case q.mq:g.texImage2D(g.TEXTURE_2D,0,g.ALPHA,d,e,0,g.ALPHA,g.UNSIGNED_BYTE,a);break;case q.Oy:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE,d,e,0,g.LUMINANCE,g.UNSIGNED_BYTE,a);break;default:throw"NSInternalInconsistencyException";}this.Ba.Ha=f.width;this.Ba.xa=f.height;this.oh=d;this.nh=e;this.Sf=c;this.jh=f.width/d;this.kh=f.height/e;this.pm=this.Fo=!1;this.Wg(q.Kh.f().qi(q.RM));return this.zc=!0},IR:function(a){var c=[0,this.kh,this.jh,this.kh,0,0,this.jh,
0],d=this.oh*this.jh,e=this.nh*this.kh;a=[a.x,a.y,0,d+a.x,a.y,0,a.x,e+a.y,0,d+a.x,e+a.y,0];q.Fe(q.dh|q.kN);this.Lc.sf();this.Lc.JK();q.Mg(this);d=q.Z;d.vertexAttribPointer(q.Ue,2,d.FLOAT,!1,0,a);d.vertexAttribPointer(q.sq,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},KR:function(a){var c=[0,this.kh,this.jh,this.kh,0,0,this.jh,0];a=[a.x,a.y,a.x+a.width,a.y,a.x,a.y+a.height,a.x+a.width,a.y+a.height];q.Fe(q.dh|q.kN);this.Lc.sf();this.Lc.JK();q.Mg(this);var d=q.Z;d.vertexAttribPointer(q.Ue,2,
d.FLOAT,!1,0,a);d.vertexAttribPointer(q.sq,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},rC:function(a){if(null==a)return q.log("cocos2d: cc.Texture2D. Can't create Texture. UIImage is nil"),!1;var c=a.ws(),d=a.rs(),e=q.Re.f().tr;if(c>e||d>e)return q.log("cocos2d: WARNING: Image ("+c+" x "+d+") is bigger than the supported "+e+" x "+e),!1;this.zc=!0;return this.nO(a,c,d)},lf:function(a){a&&(this.ei=q.Z.createTexture(),this.rc=a)},gS:function(){return this.rc},Pg:function(){return this.zc},
$d:function(){this.zc=!0;var a=q.Z;q.Mg(this);a.pixelStorei(a.UNPACK_ALIGNMENT,4);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,this.rc);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);this.Wg(q.Kh.f().qi(q.RM));q.Mg(null);a=this.rc.height;this.oh=this.Ba.Ha=this.rc.width;this.nh=this.Ba.xa=
a;this.Sf=q.yj;this.kh=this.jh=1;this.pm=this.Fo=!1;this.le()},ol:function(a,c,d,e,f,g){3==arguments.length&&(c=arguments[1],d=arguments[2],e=q.size(0,0),f=q.zj,g=q.vu);var h=new q.gM,k;if(q.vu===g)k=q.zj===f?q.QX:q.pq===f?q.RX:q.SX;else if(q.uu===g)k=q.zj===f?q.NX:q.pq===f?q.OX:q.PX;else if(q.tu===g)k=q.zj===f?q.KX:q.pq===f?q.LX:q.MX;else return q.log("Not supported alignment format!"),!1;return h.ol(a,e.width,e.height,k,c,d)?this.rC(h):!1},lT:function(){return!1},xI:function(a){var c=!1,d=new q.q_;
(c=d.s6(a))?(d.maa(!0),this.lA=d.getName(),this.kh=this.jh=1,this.oh=d.ws(),this.nh=d.rs(),this.Ba.Ha=this.oh,this.Ba.xa=this.nh,this.Fo=q.LM,this.Sf=d.N3(),this.UJ()):q.log("cocos2d: Couldn't load PVR image "+a);return c},pT:function(){return q.Re.f().Sr?!0:(q.log("cocos2d: WARNING: PVRTC images is not supported."),!1)},OW:function(a){var c=q.Z;q.it(this.oh==q.Sn(this.oh)&&this.nh==q.Sn(this.nh)||a.zL==c.CLAMP_TO_EDGE&&a.AL==c.CLAMP_TO_EDGE,"WebGLRenderingContext.CLAMP_TO_EDGE should be used in NPOT textures");
q.Mg(this);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,a.TT);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,a.RT);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,a.zL);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,a.AL)},UJ:function(){var a=q.Z;q.Mg(this);this.pm?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},TJ:function(){var a=q.Z;q.Mg(this);
this.pm?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},generateMipmap:function(){q.it(this.oh==q.Sn(this.oh)&&this.nh==q.Sn(this.nh),"Mimpap texture only works in POT textures");q.Mg(this);q.Z.generateMipmap(q.Z.TEXTURE_2D);this.pm=!0},oX:function(){switch(this.Sf){case q.yj:return"RGBA8888";case q.oq:return"RGB888";case q.nq:return"RGB565";case q.ju:return"RGBA4444";
case q.iu:return"RGB5A1";case q.Ny:return"AI88";case q.mq:return"A8";case q.Oy:return"I8";case q.WE:return"PVRTC4";case q.VE:return"PVRTC2";default:q.log("stringForFormat: "+this.Sf+", cannot give useful result, it's a unrecognized pixel format")}return""},kH:function(a){a=a||this.Sf;switch(a){case q.yj:return 32;case q.oq:return 32;case q.nq:return 16;case q.mq:return 8;case q.ju:return 16;case q.iu:return 16;case q.WE:return 4;case q.VE:return 2;case q.Oy:return 8;case q.Ny:return 16;default:return q.log("bitsPerPixelForFormat: "+
this.Sf+", cannot give useful result, it's a illegal pixel format"),-1}},nO:function(a,c,d){var e=a.getData(),f=null,f=null,g=a.j6(),h=q.size(a.ws(),a.rs()),k=q.UE,l=a.V2();g||(8<=l?k=q.oq:(q.log("cocos2d: cc.Texture2D: Using RGB565 texture since image has no alpha"),k=q.nq));var m=c*d;if(k==q.nq)if(g)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>2<<5|(f[l]>>16&255)>>3<<0;else for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]&255)>>3<<
11|(f[l]&255)>>2<<5|(f[l]&255)>>3<<0;else if(k==q.ju)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>4<<12|(f[l]>>8&255)>>4<<8|(f[l]>>16&255)>>4<<4|(f[l]>>24&255)>>4<<0;else if(k==q.iu)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>3<<6|(f[l]>>16&255)>>3<<1|(f[l]>>24&255)>>7<<0;else if(k==q.mq)for(e=new Uint8Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=f>>24&255;if(g&&k==q.oq)for(f=a.getData(),e=new Uint8Array(c*d*3),l=0;l<m;++l)e[3*
l]=f>>0&255,e[3*l+1]=f>>8&255,e[3*l+2]=f>>16&255;this.Kw(e,k,c,d,h);a.getData();this.Fo=a.c7();return!0},$f:function(a,c){this.Td.push({eventCallback:a,ii:c})},iV:function(a){for(var c=this.Td,d=0;d<c.length;d++)c[d].ii==a&&c.splice(d,1)},le:function(){for(var a=this.Td,c=0,d=a.length;c<d;c++){var e=a[c];e.eventCallback.call(e.ii,this)}a.length=0}});
q.aN=q.La.extend({Ba:null,zc:!1,rc:null,Td:null,ctor:function(){this.Ba=q.Em();this.zc=!1;this.rc=null;this.Td=[]},zp:function(){return this.Ba.Ha},yp:function(){return this.Ba.xa},c:function(){var a=q.Uc();return q.size(this.Ba.Ha/a,this.Ba.xa/a)},dS:function(){return this.Ba},lf:function(a){a&&(this.rc=a)},gS:function(){return this.rc},Pg:function(){return this.zc},$d:function(){this.zc=!0;var a=this.rc;this.Ba.Ha=a.width;this.Ba.xa=a.height;this.le()},description:function(){return"\x3ccc.Texture2D | width \x3d "+
this.Ba.Ha+" height "+this.Ba.xa+"\x3e"},Kw:function(){return!1},rC:function(){return!1},ol:function(){return!1},$C:function(){},getName:function(){return null},lS:function(){return 1},lW:function(){},mS:function(){return 1},mW:function(){},eC:function(){return null},Wg:function(){},ys:function(){return!1},bT:function(){return!1},$U:function(){},HT:function(a){return a},IR:function(){},KR:function(){},lT:function(){return!1},xI:function(){return!1},pT:function(){return!0},OW:function(){},UJ:function(){},
TJ:function(){},generateMipmap:function(){},oX:function(){return""},kH:function(){return-1},$f:function(a,c){this.Td.push({eventCallback:a,ii:c})},iV:function(a){for(var c=this.Td,d=0;d<c.length;d++)c[d].ii==a&&c.splice(d,1)},le:function(){for(var a=this.Td,c=0,d=a.length;c<d;c++){var e=a[c];e.eventCallback.call(e.ii,this)}a.length=0}});q.cc=q.Ia.Sc?q.bN:q.aN;q.cc.k$=function(a){q.Dz=a};q.cc.tR=function(){return q.Dz};q.cc.t3=function(){return q.Dz};q.os=null;q.M7=function(a){if(q.kR(a)==q.aM)q.log("unsupported format:"+a);else{var c=new Image;c.src=a;c.addEventListener("load",function(){q.ka.f().OQ(a,c);this.removeEventListener("load",arguments.callee,!1)},!1)}};q.kR=function(a){return 0<a.toLowerCase().indexOf(".jpg")||0<a.toLowerCase().indexOf(".jpeg")?q.NY:0<a.toLowerCase().indexOf(".png")?q.OY:0<a.toLowerCase().indexOf(".webp")?q.QY:q.aM};
q.ka=q.La.extend({Xa:null,Tr:null,Xv:null,gG:!1,ov:null,pv:null,ctor:function(){if(q.os)throw"Attempted to allocate a second instance of a singleton.";this.Xv+=0|1E3*Math.random();this.Xa={};this.Tr={};q.Kd===q.xk&&(this.ov={},this.pv={})},gz:function(a,c){if(a&&"string"===typeof c)a[c]();else a&&"function"===typeof c&&c.call(a)},vO:function(){this.gG=!0;var a,c=this.ov,d=this.Xa;for(a in c){var e=c[a],f=new q.cc;f.lf(e);f.$d();d[a]=f}this.ov={}},I0:function(){q.log("TextureCache:addPVRTCImage does not support on HTML5")},
D0:function(){q.log("TextureCache:addPVRTCImage does not support on HTML5")},description:function(){return"\x3cTextureCache | Number of textures \x3d "+this.Xa.length+"\x3e"},Fx:function(a,c){var d=c?a:q.Od.f().De(a);return this.Xa.hasOwnProperty(d)?this.Xa[d]:null},iS:function(a){for(var c in this.Xa)if(this.Xa[c]==a)return c;return null},eO:function(){this.Xv++;return"_textureKey_"+this.Xv},hI:function(a){var c=this.iS(a);c||(c=a instanceof HTMLImageElement?a.src:this.eO());this.Tr.hasOwnProperty(c)||
(this.Tr[c]=q.rp(a));return this.Tr[c]},H0:function(a){if(!a)throw"cc.TextureCache.addPVRImage(): path should be non-null";a=q.Od.f().De(a);if(null!=this.Xa[a])return this.Xa[a];var c=new q.cc;c.xI(a)?this.Xa[a]=c:q.log("cocos2d: Couldn't add PVRImage:"+a+" in TextureCache");return c},s9:function(){var a=this.Xa,c;for(c in a)a[c]&&a[c].$C();this.Xa={}},G9:function(a){if(a){var c=this.Xa,d;for(d in c)c[d]==a&&(c[d].$C(),delete c[d])}},mV:function(a){null!=a&&(a=q.Od.f().De(a),this.Xa[a]&&delete this.Xa[a])},
E0:function(a,c,d){if(!a)throw"cc.TextureCache.addImageAsync(): path should be non-null";a=q.Od.f().De(a);var e=this.Xa[a],f,g;if(e)e.Pg()?this.gz(c,d):(g=this,f=e.rc,f.addEventListener("load",function(){e.$d();g.gz(c,d);this.removeEventListener("load",arguments.callee,!1)}));else{f=new Image;f.crossOrigin="Anonymous";g=this;f.addEventListener("load",function(){g.Xa.hasOwnProperty(a)&&g.Xa[a].$d();g.gz(c,d);this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,
!1)});f.addEventListener("error",function(){q.Ob.f().yl(a);g.Xa.hasOwnProperty(a)&&delete g.Xa[a];this.removeEventListener("error",arguments.callee,!1)});f.src=a;var h=new q.cc;h.lf(f);this.Xa[a]=h}return this.Xa[a]},tN:function(a){var c=new Image;c.crossOrigin="Anonymous";var d=this;c.addEventListener("load",function(){q.Ob.f().hg();d.ov[a]=c;delete d.pv[a];this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});c.addEventListener("error",function(){q.Ob.f().yl(a);
delete d.pv[a];this.removeEventListener("error",arguments.callee,!1)});c.src=a;this.pv[a]=c},va:function(a,c){if(!a)throw"cc.Texture.addImage(): path should be non-null";if(q.Kd===q.xk&&!this.gG)return this.tN(a);c||(a=q.Od.f().De(a));var d=this.Xa[a],e;if(d)d.Pg()?q.Ob.f().hg():(e=d.rc,e.addEventListener("load",function(){d.$d();q.Ob.f().hg();this.removeEventListener("load",arguments.callee,!1)}));else{e=new Image;e.crossOrigin="Anonymous";var f=this;e.addEventListener("load",function(){q.Ob.f().hg();
f.Xa.hasOwnProperty(a)&&f.Xa[a].$d();this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});e.addEventListener("error",function(){q.Ob.f().yl(a);f.Xa.hasOwnProperty(a)&&delete f.Xa[a];this.removeEventListener("error",arguments.callee,!1)});e.src=a;var g=new q.cc;g.lf(e);this.Xa[a]=g}return this.Xa[a]},F0:function(a,c,d){if(!a)throw"cc.Texture.addImageFromBase64(): data should be non-null";var e=this,f=new Image;f.src="data:image/"+d+";base64,"+
a;f.addEventListener("load",function(){q.Ob.f().hg();e.Xa.hasOwnProperty(c)&&e.Xa[c].$d();this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});f.addEventListener("error",function(){q.Ob.f().yl(c);e.Xa.hasOwnProperty(c)&&delete e.Xa[c];this.removeEventListener("error",arguments.callee,!1)});a=new q.cc;a.lf(f);this.Xa[c]=a;return this.Xa[c]},OQ:function(a,c){if(c instanceof q.cc)this.Xa[a]=c;else{var d=new q.cc;d.lf(c);d.$d();this.Xa[a]=d;q.log(a);
q.log(this.Xa[a])}},N0:function(a,c){if(!a)throw"cc.Texture.addUIImage(): image should be non-null";if(c&&this.Xa.hasOwnProperty(c)&&this.Xa[c])return this.Xa[c];var d=new q.cc;d.rC(a);null!=c&&null!=d?this.Xa[c]=d:q.log("cocos2d: Couldn't add UIImage in TextureCache");return d},e2:function(){var a=0,c=0,d=this.Xa,e;for(e in d){var f=d[e];a++;f.rc instanceof HTMLImageElement?q.log("cocos2d: '"+e+"' id\x3d"+f.rc.src+" "+f.zp()+" x "+f.yp()):q.log("cocos2d: '"+e+"' id\x3d HTMLCanvasElement "+f.zp()+
" x "+f.yp());c+=f.zp()*f.yp()*4}d=this.Tr;for(e in d){var f=d[e],g;for(g in f){var h=f[g];a++;q.log("cocos2d: '"+e+"' id\x3d HTMLCanvasElement "+h.width+" x "+h.height);c+=h.width*h.height*4}}q.log("cocos2d: TextureCache dumpDebugInfo: "+a+" textures, HTMLCanvasElement for "+c/1024+" KB ("+(c/1048576).toFixed(2)+" MB)")}});q.ka.f=function(){q.os||(q.os=new q.ka);return q.os};q.ka.MU=function(){q.os=null};q.Zn=q.La.extend({Fd:null,Di:null,Ma:!1,sd:0,Ga:null,Xe:null,Dg:null,Ar:null,Eg:null,ctor:function(){this.Di=[]},L5:function(){return this.Ya},d3:function(){return this.sd},fa:function(){return this.Ga},ma:function(a){this.Ga=a},Vg:function(a){this.Ma=a},JI:function(){return this.Ma},W4:function(){return this.Xe},faa:function(a){this.Xe=a},Q_:function(a,c){if(a)for(var d=0;d<a.length;d++)this.Mv(a[d],c+d)},Mv:function(a,c){var d=this.Xe;d[c]?(d[c].Na=a.Na,d[c].Za=a.Za,d[c].Wa=a.Wa,d[c].Qa=a.Qa):d[c]=
new q.kc(a.Wa,a.Na,a.Qa,a.Za,this.Dg,c*q.kc.BYTES_PER_ELEMENT)},description:function(){return"\x3ccc.TextureAtlas | totalQuads \x3d"+this.Ya+"\x3e"},sG:function(){if(0!==this.sd)for(var a=this.Fd,c=this.sd,d=0;d<c;d++)q.XE?(a[6*d+0]=4*d+0,a[6*d+1]=4*d+0,a[6*d+2]=4*d+2,a[6*d+3]=4*d+1,a[6*d+4]=4*d+3,a[6*d+5]=4*d+3):(a[6*d+0]=4*d+0,a[6*d+1]=4*d+1,a[6*d+2]=4*d+2,a[6*d+3]=4*d+3,a[6*d+4]=4*d+2,a[6*d+5]=4*d+1)},RP:function(){var a=q.Z;this.Di[0]=a.createBuffer();this.Di[1]=a.createBuffer();this.Ar=a.createBuffer();
this.UF()},UF:function(){var a=q.Z;a.bindBuffer(a.ARRAY_BUFFER,this.Ar);a.bufferData(a.ARRAY_BUFFER,this.Dg,a.DYNAMIC_DRAW);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Di[1]);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.Fd,a.STATIC_DRAW)},dj:function(a,c){var d=q.ka.f().va(a);if(d)return this.Pa(d,c);q.log("cocos2d: Could not open file: "+a);return!1},Pa:function(a,c){if(!a)throw"cc.TextureAtlas.initWithTexture():texture should be non-null";this.sd=c|=0;this.Ya=0;this.Ga=a;this.Xe=[];this.Fd=new Uint16Array(6*
c);var d=q.kc.BYTES_PER_ELEMENT;this.Dg=new ArrayBuffer(d*c);this.Eg=new Uint8Array(this.Dg);if((!this.Xe||!this.Fd)&&0<c)return!1;for(var e=this.Xe,f=0;f<c;f++)e[f]=new q.kc(null,null,null,null,this.Dg,f*d);this.sG();this.RP();return this.Ma=!0},Lx:function(a,c){if(!a)throw"cc.TextureAtlas.updateQuad(): quad should be non-null";if(0>c||c>=this.sd)throw"cc.TextureAtlas.updateQuad(): Invalid index";this.Ya=Math.max(c+1,this.Ya);this.Mv(a,c);this.Ma=!0},xC:function(a,c){if(c>=this.sd)throw"cc.TextureAtlas.insertQuad(): Invalid index";
this.Ya++;if(this.Ya>this.sd)q.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");else{var d=q.kc.BYTES_PER_ELEMENT,e=c*d,f=(this.Ya-1-c)*d;this.Xe[this.Ya-1]=new q.kc(null,null,null,null,this.Dg,(this.Ya-1)*d);this.Eg.set(this.Eg.subarray(e,e+f),e+d);this.Mv(a,c);this.Ma=!0}},y6:function(a,c,d){d=d||a.length;if(c+d>this.sd)throw"cc.TextureAtlas.insertQuad(): Invalid index + amount";var e=q.kc.BYTES_PER_ELEMENT;this.Ya+=d;if(this.Ya>this.sd)q.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");
else{var f=c*e,g=(this.Ya-1-c-d)*e,h=this.Ya-1-d,k;for(k=0;k<d;k++)this.Xe[h+k]=new q.kc(null,null,null,null,this.Dg,(this.Ya-1)*e);this.Eg.set(this.Eg.subarray(f,f+g),f+e*d);for(k=0;k<d;k++)this.Mv(a[k],c+k);this.Ma=!0}},x6:function(a,c){if(a!==c){if(0>c&&c>=this.Ya)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid newIndex";if(0>a&&a>=this.Ya)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid fromIndex";var d=q.kc.BYTES_PER_ELEMENT,e=this.Eg,f=e.subarray(a*d,d),g;a>c?(g=c*d,e.set(e.subarray(g,
g+(a-c)*d),g+d),e.set(f,g)):(g=(a+1)*d,e.set(e.subarray(g,g+(c-a)*d),g-d),e.set(f,c*d));this.Ma=!0}},kV:function(a){if(a>=this.Ya)throw"cc.TextureAtlas.removeQuadAtIndex(): Invalid index";var c=q.kc.BYTES_PER_ELEMENT;this.Ya--;this.Xe.length=this.Ya;if(a!==this.Ya){var d=(a+1)*c;this.Eg.set(this.Eg.subarray(d,d+(this.Ya-a)*c),d-c)}this.Ma=!0},z9:function(a,c){if(a+c>this.Ya)throw"cc.TextureAtlas.removeQuadsAtIndex(): index + amount out of bounds";this.Ya-=c;if(a!==this.Ya){var d=q.kc.BYTES_PER_ELEMENT,
e=(a+c)*d;this.Eg.set(this.Eg.subarray(e,e+(this.Ya-a)*d),a*d)}this.Ma=!0},eV:function(){this.Ya=this.Xe.length=0},p0:function(a){this.Ma=a},pV:function(a){if(a==this.sd)return!0;var c=q.kc.BYTES_PER_ELEMENT,d=this.sd;this.Ya=Math.min(this.Ya,a);var e=this.sd=0|a,f=this.Ya;if(null==this.Xe)for(this.Xe=[],this.Dg=new ArrayBuffer(c*e),this.Eg=new Uint8Array(this.Dg),a=0;a<e;a++)this.Xe=new q.kc(null,null,null,null,this.Dg,a*c);else{var g,h,k=this.Xe;if(e>d){g=[];h=new ArrayBuffer(c*e);for(a=0;a<f;a++)g[a]=
new q.kc(k[a].Wa,k[a].Na,k[a].Qa,k[a].Za,h,a*c);for(;a<e;a++)g[a]=new q.kc(null,null,null,null,h,a*c)}else for(f=Math.max(f,e),g=[],h=new ArrayBuffer(c*e),a=0;a<f;a++)g[a]=new q.kc(k[a].Wa,k[a].Na,k[a].Qa,k[a].Za,h,a*c);this.Eg=new Uint8Array(h);this.Xe=g;this.Dg=h}null==this.Fd?this.Fd=new Uint16Array(6*e):e>d?(c=new Uint16Array(6*e),c.set(this.Fd,0),this.Fd=c):this.Fd=this.Fd.subarray(0,6*e);this.sG();this.UF();return this.Ma=!0},p6:function(a){this.Ya+=a},U7:function(a,c,d){if(2==arguments.length){d=
c;c=this.Ya-a;if(d+(this.Ya-a)>this.sd)throw"cc.TextureAtlas.moveQuadsFromIndex(): move is out of bounds";if(0===c)return}else{if(d+c>this.Ya)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid newIndex";if(a>=this.Ya)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid oldIndex";if(a==d)return}var e=q.kc.BYTES_PER_ELEMENT,f=a*e,g=c*e,h=this.Eg,k=h.subarray(f,f+g),l=d*e,m;d<a?(m=d*e,h.set(h.subarray(m,m+(a-d)*e),m+g)):(m=(a+c)*e,h.set(h.subarray(m,m+(d-a)*e),f));h.set(k,l);this.Ma=!0},D2:function(a,
c){for(var d=c*q.kc.BYTES_PER_ELEMENT,e=new Uint8Array(this.Dg,a*q.kc.BYTES_PER_ELEMENT,d),f=0;f<d;f++)e[f]=0},CH:function(a,c){c=c||0;if(0!==a&&this.Ga&&this.Ga.Pg()){var d=q.Z;q.Mg(this.Ga);q.Fe(q.ru);d.bindBuffer(d.ARRAY_BUFFER,this.Ar);this.Ma&&d.bufferData(d.ARRAY_BUFFER,this.Dg,d.DYNAMIC_DRAW);d.vertexAttribPointer(q.Ue,3,d.FLOAT,!1,24,0);d.vertexAttribPointer(q.rq,4,d.UNSIGNED_BYTE,!0,24,12);d.vertexAttribPointer(q.sq,2,d.FLOAT,!1,24,16);this.Ma&&(this.Ma=!1);d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,
this.Di[1]);q.XE?d.drawElements(d.TRIANGLE_STRIP,6*a,d.UNSIGNED_SHORT,6*c*this.Fd.BYTES_PER_ELEMENT):d.drawElements(d.TRIANGLES,6*a,d.UNSIGNED_SHORT,6*c*this.Fd.BYTES_PER_ELEMENT);q.xh++}},LR:function(){this.CH(this.Ya,0)},m0:function(){var a=q.Z;this.Di&&(this.Di[0]&&a.deleteBuffer(this.Di[0]),this.Di[1]&&a.deleteBuffer(this.Di[1]));this.Ar&&a.deleteBuffer(this.Ar)}});q.Zn.create=function(a,c){var d=new q.Zn;return d&&d.dj(a,c)?d:null};q.Zn.eb=function(a,c){var d=new q.Zn;return d&&d.Pa(a,c)?d:null};q.kq=q.H.extend({ctor:function(){q.H.prototype.ctor.call(this);this.Nk=!0;this.G(0.5,0.5);this.U(q.da.f().Wb)}});q.kq.create=function(){return new q.kq};q.Py=0;q.i_=1;
q.Hc=q.H.extend({Pk:!1,Ok:!1,Ho:!1,bl:0,as:q.Py,sm:!1,Po:0,ctor:function(){q.H.prototype.ctor.call(this);this.Ho=this.Ok=this.Pk=!1;this.bl=0;this.as=q.Py;this.sm=!1;this.Po=0},mO:function(){this.G(0.5,0.5);this.Nk=!0;var a=q.da.f();this.U(a.Wb)},v:function(){q.H.prototype.v.call(this);this.mO();return!0},$w:function(){this.as===q.Py?q.ZU(this,this.bl):q.XC(this.bl,!0,this)},V6:function(){return this.sm},jx:function(a){if(!q.je)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.sm!=
a&&(this.sm=a,this.$e&&(a?q.da.f().Ff().aH(this,this.Po):q.da.f().Ff().KJ(this)))},R$:function(a){if(!q.je)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.Po!==a&&(this.Po=a,this.sm&&(this.jx(!1),this.jx(!0)))},q4:function(){return this.Po},p7:function(){return this.Pk},bc:function(a){this.Pk!==a&&(this.Pk=a,this.$e&&(a?this.$w():q.kL(this)))},P5:function(){return this.bl},ux:function(a){this.bl!==a&&(this.bl=a,this.Pk&&(this.bc(!1),this.bc(!0)))},O5:function(){return this.as},
HK:function(a){this.as!==a&&(this.as=a,this.Pk&&(this.bc(!1),this.bc(!0)))},D6:function(){return this.Ok},V9:function(a){if(!q.sk)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";if(a!==this.Ok&&(this.Ok=a,this.$e)){var c=q.da.f();a?c.sp().lg(this):c.sp().lg(null)}},HV:function(a){this.Ok&&q.sk&&q.da.f().sp().HV(a)},n8:function(){q.log("onAccelerometer event should be handled.")},U6:function(){return this.Ho},I$:function(a){if(!q.Rn)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";
if(a!==this.Ho&&(this.Ho=a,this.$e)){var c=q.da.f();a?c.Bw().uQ(this):c.Bw().gV(this)}},Sg:function(){var a=q.da.f();this.Pk&&this.$w();q.H.prototype.Sg.call(this);this.Ok&&q.sk&&a.sp().lg(this);this.Ho&&q.Rn&&a.Bw().uQ(this);this.sm&&q.je&&a.Ff().aH(this,this.Po)},ce:function(){var a=q.da.f();this.Pk&&q.kL(this);this.Ok&&q.sk&&a.sp().lg(null);this.Ho&&q.Rn&&a.Bw().gV(this);this.sm&&q.je&&a.Ff().KJ(this);q.H.prototype.ce.call(this)},pi:function(){this.Ok&&q.sk&&q.da.f().sp().lg(this);q.H.prototype.pi.call(this)},
vb:function(){q.log("onTouchBegan event should be handled.");return!0},Ad:function(){},Tg:function(){},jk:function(){},oJ:function(){},rJ:function(){},qJ:function(){},pJ:function(){},ZT:function(){return!1},$T:function(){return!1},jj:function(){return!1},cU:function(){return!1},gU:function(){return!1},hU:function(){return!1},iU:function(){return!1},dU:function(){return!1},eU:function(){return!1},fU:function(){return!1},jU:function(){return!1},aU:function(){return!1},bU:function(){return!1},JC:function(){},
xl:function(){}});q.Hc.create=function(){var a=new q.Hc;return a&&a.v()?a:null};
q.Ih=q.Hc.extend({pb:!0,$b:0,Fg:0,yc:null,te:null,me:!1,Cd:!1,ctor:function(){q.Hc.prototype.ctor.call(this);this.pb=!0;this.Fg=this.$b=255;this.yc=q.zb();this.te=q.zb();this.Cd=this.me=!1},v:function(){return q.Hc.prototype.v.call(this)?(this.YJ(!1),this.XJ(!1),!0):!1},Zi:function(){return this.Fg},eS:function(){return this.$b},ra:function(a){this.$b=this.Fg=a;a=255;var c=this.ba;c&&c.pb&&c.me&&(a=c.$b);this.pd(a)},pd:function(a){this.$b=0|this.Fg*a/255;if(this.me){a=this.B;for(var c=0;c<a.length;c++){var d=
a[c];d&&d.pb&&d.pd(this.$b)}}},CT:function(){return this.me},YJ:function(a){this.me!==a&&((this.me=a)?this.Xq():this.Lz())},Xq:function(){var a=255,c=this.ba;c&&c.pb&&c.me&&(a=c.$b);this.pd(a)},Lz:function(){this.$b=this.Fg;for(var a=this.B,c=0;c<a.length;c++){var d=a[c];d&&d.pb&&d.pd(255)}},zd:function(){var a=this.te;return q.l(a.r,a.p,a.k)},qs:function(){var a=this.yc;return q.l(a.r,a.p,a.k)},q:function(a){var c=this.yc,d=this.te;c.r=d.r=a.r;c.p=d.p=a.p;c.k=d.k=a.k;a=(a=this.ba)&&a.pb&&a.Cd?a.qs():
q.zb();this.od(a)},od:function(a){var c=this.yc,d=this.te;c.r=0|d.r*a.r/255;c.p=0|d.p*a.p/255;c.k=0|d.k*a.k/255;if(this.Cd)for(a=this.B,d=0;d<a.length;d++){var e=a[d];e&&e.pb&&e.od(c)}},BT:function(){return this.Cd},XJ:function(a){this.Cd!==a&&((this.Cd=a)?this.Wq():this.Kz())},Wq:function(){var a;a=(a=this.ba)&&a.pb&&a.Cd?a.qs():q.zb();this.od(a)},Kz:function(){var a=this.yc,c=this.te;a.r=c.r;a.p=c.p;a.k=c.k;for(var a=this.B,c=q.zb(),d=0;d<a.length;d++){var e=a[d];e&&e.pb&&e.od(c)}},g:function(a,
c,d){q.H.prototype.g.call(this,a,c,d);this.Cd&&this.Wq();this.me&&this.Xq()},If:function(){},ql:function(){return!1}});
q.ia=q.Ih.extend({na:null,ps:function(){return this.na},y1:function(a,c){this.U(a,c)},x1:function(a){this.U(a,this.Ba.xa)},u1:function(a){this.U(this.Ba.Ha,a)},If:function(){},ql:function(){return!1},q:function(a){q.Ih.prototype.q.call(this,a);this.Hd()},ra:function(a){q.Ih.prototype.ra.call(this,a);this.Hd()},rm:!1,wG:null,bB:null,uB:null,yz:null,dB:null,cB:null,Mh:function(){q.Ih.prototype.ctor.call(this);this.na=new q.Xl(q.Qe,q.Pe)},Nh:function(){q.Ih.prototype.ctor.call(this);this.na=new q.Xl(q.Qe,
q.Pe);this.dB=new ArrayBuffer(32);this.cB=new ArrayBuffer(64);var a=this.dB,c=this.cB,d=q.Hb.BYTES_PER_ELEMENT,e=q.he.BYTES_PER_ELEMENT;this.wG=[new q.Hb(0,0,a,0),new q.Hb(0,0,a,d),new q.Hb(0,0,a,2*d),new q.Hb(0,0,a,3*d)];this.bB=[new q.he(0,0,0,1,c,0),new q.he(0,0,0,1,c,e),new q.he(0,0,0,1,c,2*e),new q.he(0,0,0,1,c,3*e)];this.uB=q.Z.createBuffer();this.yz=q.Z.createBuffer()},El:function(a,c){this.na=1==arguments.length?a:{src:a,Nb:c};q.Kd===q.rg&&(this.rm=this.na&&1==this.na.src&&771==this.na.Nb)},
v:function(a,c,d){if(!q.Hc.prototype.v.call(this))return!1;q.Kd!==q.rg&&this.Wg(q.Kh.f().qi(q.QM));var e=q.da.f().Wb;a=a||new q.Ub(0,0,0,255);c=c||e.width;d=d||e.height;e=this.yc;e.r=a.r;e.p=a.p;e.k=a.k;e=this.te;e.r=a.r;e.p=a.p;e.k=a.k;this.Fg=this.$b=a.K;this.U(c,d);this.Hd();return!0},U:null,wP:function(a,c){var d=this.wG;2===arguments.length?(d[1].x=a,d[2].y=c,d[3].x=a,d[3].y=c,this.oF(),q.Hc.prototype.U.call(this,a,c)):(d[1].x=a.width,d[2].y=a.height,d[3].x=a.width,d[3].y=a.height,this.oF(),
q.Hc.prototype.U.call(this,a))},Hd:null,gQ:function(){},hQ:function(){for(var a=this.yc,c=this.$b,d=this.bB,e=0;4>e;e++)d[e].r=a.r/255,d[e].p=a.p/255,d[e].k=a.k/255,d[e].K=c/255;this.nF()},od:function(a){q.Ih.prototype.od.call(this,a);this.Hd()},pd:function(a){q.Ih.prototype.pd.call(this,a);this.Hd()},oF:function(){var a=q.Z;a.bindBuffer(a.ARRAY_BUFFER,this.uB);a.bufferData(a.ARRAY_BUFFER,this.dB,a.STATIC_DRAW)},nF:function(){var a=q.Z;a.bindBuffer(a.ARRAY_BUFFER,this.yz);a.bufferData(a.ARRAY_BUFFER,
this.cB,a.STATIC_DRAW)},Va:null,Gj:function(a){a=a||q.Z;var c=this.c(),d=q.pa.f(),e=this.yc;a.fillStyle="rgba("+(0|e.r)+","+(0|e.p)+","+(0|e.k)+","+this.$b/255+")";a.fillRect(0,0,c.width*d.ua,-c.height*d.Ca);q.xh++},Bg:function(a){a=a||q.Z;q.wy(this);q.Fe(q.dh|q.jN);a.bindBuffer(a.ARRAY_BUFFER,this.uB);a.vertexAttribPointer(q.Ue,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.yz);a.vertexAttribPointer(q.rq,4,a.FLOAT,!1,0,0);q.fk(this.na.src,this.na.Nb);a.drawArrays(a.TRIANGLE_STRIP,0,4)}});
q.Ia.Sc?(q.ia.prototype.ctor=q.ia.prototype.Nh,q.ia.prototype.U=q.ia.prototype.wP,q.ia.prototype.Hd=q.ia.prototype.hQ,q.ia.prototype.Va=q.ia.prototype.Bg):(q.ia.prototype.ctor=q.ia.prototype.Mh,q.ia.prototype.U=q.Ih.prototype.U,q.ia.prototype.Hd=q.ia.prototype.gQ,q.ia.prototype.Va=q.ia.prototype.Gj);q.ia.create=function(a,c,d){var e=new q.ia;switch(arguments.length){case 0:e.v();break;case 1:e.v(a);break;case 3:e.v(a,c,d);break;default:e.v()}return e};
q.uE=q.ia.extend({xG:null,Bo:null,$o:null,Co:null,dm:null,Ou:!1,hr:null,gr:null,ctor:function(){q.ia.prototype.ctor.call(this);this.xG=new q.wc(0,0,0);this.Bo=new q.wc(0,0,0);this.dm=q.a(0,-1);this.Co=this.$o=255;this.hr=q.a(0,0);this.gr=q.a(0,0)},U:function(a,c){2===arguments.length?q.ia.prototype.U.call(this,a,c):q.ia.prototype.U.call(this,a);this.Hd()},t5:function(){return this.te},saa:function(a){this.q(a)},s$:function(a){this.Bo=a;this.Hd()},D3:function(){return this.Bo},taa:function(a){this.$o=
a;this.Hd()},u5:function(){return this.$o},t$:function(a){this.Co=a;this.Hd()},E3:function(){return this.Co},Laa:function(a){this.dm.x=a.x;this.dm.y=a.y;this.Hd()},T5:function(){return q.a(this.dm.x,this.dm.y)},I6:function(){return this.Ou},i$:function(a){this.Ou=a;this.Hd()},v:function(a,c,d){a=a||q.HB(0,0,0,255);c=c||q.HB(0,0,0,255);d=d||q.a(0,-1);var e=this.xG,f=this.Bo;e.r=a.r;e.p=a.p;e.k=a.k;this.$o=a.K;f.r=c.r;f.p=c.p;f.k=c.k;this.Co=c.K;this.dm=d;this.Ou=!0;q.ia.prototype.v.call(this,q.j(a.r,
a.p,a.k,255));return!0},Va:function(a){if(q.Kd===q.xk)q.ia.prototype.Va.call(this,a);else{a=a||q.Z;this.rm&&(a.globalCompositeOperation="lighter");a.save();var c=q.pa.f(),d=this.$b/255,e=this.c().width*c.ua,c=this.c().height*c.Ca,f=a.createLinearGradient(this.hr.x,this.hr.y,this.gr.x,this.gr.y),g=this.yc,h=this.Bo;f.addColorStop(0,"rgba("+Math.round(g.r)+","+Math.round(g.p)+","+Math.round(g.k)+","+(this.$o/255*d).toFixed(4)+")");f.addColorStop(1,"rgba("+Math.round(h.r)+","+Math.round(h.p)+","+Math.round(h.k)+
","+(this.Co/255*d).toFixed(4)+")");a.fillStyle=f;a.fillRect(0,0,e,-c);0!=this.nP&&a.rotate(this.n0);a.restore()}},Hd:function(){var a=this.dm;if(q.Kd===q.rg){var c=0.5*this.c().width,d=0.5*this.c().height;this.hr.x=c*-a.x+c;this.hr.y=d*a.y-d;this.gr.x=c*a.x+c;this.gr.y=d*-a.y-d}else if(d=q.MC(a),0!==d){c=Math.sqrt(2);a=q.a(a.x/d,a.y/d);this.Ou&&(a=q.kj(a,1/(Math.abs(a.x)+Math.abs(a.y))*c));var e=this.$b/255,f=this.yc,g=this.Bo,d=f.r/255,h=f.p/255,f=f.k/255,k=this.$o*e/255,l=g.r/255,m=g.p/255,g=g.k/
255,e=this.Co*e/255,n=this.bB,t=n[0],s=n[1],u=n[2],n=n[3];t.r=l+(c+a.x+a.y)/(2*c)*(d-l);t.p=m+(c+a.x+a.y)/(2*c)*(h-m);t.k=g+(c+a.x+a.y)/(2*c)*(f-g);t.K=e+(c+a.x+a.y)/(2*c)*(k-e);s.r=l+(c-a.x+a.y)/(2*c)*(d-l);s.p=m+(c-a.x+a.y)/(2*c)*(h-m);s.k=g+(c-a.x+a.y)/(2*c)*(f-g);s.K=e+(c-a.x+a.y)/(2*c)*(k-e);u.r=l+(c+a.x-a.y)/(2*c)*(d-l);u.p=m+(c+a.x-a.y)/(2*c)*(h-m);u.k=g+(c+a.x-a.y)/(2*c)*(f-g);u.K=e+(c+a.x-a.y)/(2*c)*(k-e);n.r=l+(c-a.x-a.y)/(2*c)*(d-l);n.p=m+(c-a.x-a.y)/(2*c)*(h-m);n.k=g+(c-a.x-a.y)/(2*c)*
(f-g);n.K=e+(c-a.x-a.y)/(2*c)*(k-e);this.nF()}}});q.uE.create=function(a,c,d){var e=new q.uE;switch(arguments.length){case 2:if(e&&e.v(a,c))return e;break;case 3:if(e&&e.v(a,c,d))return e;break;case 0:if(e&&e.v())return e;break;default:throw"Arguments error ";}return null};
q.vE=q.Hc.extend({Hk:0,ih:null,u6:function(a){this.ih=[];this.ih.push(a);this.Hk=0;this.g(a);return!0},nT:function(a){this.ih=a;this.Hk=0;this.g(this.ih[this.Hk]);return!0},oba:function(a){a>=this.ih.length?q.log("cc.LayerMultiplex.switchTo():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.ih[this.Hk],!0),this.Hk=a,this.g(this.ih[a]))},pba:function(a){a>=this.ih.length?q.log("cc.LayerMultiplex.switchToAndReleaseMe():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.ih[this.Hk],
!0),this.ih[this.Hk]=null,this.Hk=a,this.g(this.ih[a]))},G0:function(a){a?this.ih.push(a):q.log("cc.Layer.addLayer(): layer should be non-null")}});q.vE.create=function(){0<arguments.length&&null==arguments[arguments.length-1]&&q.log("parameters should not be ending with null in Javascript");var a=new q.vE;return a.nT(arguments)?a:null};function fa(a,c,d,e,f){var g=10;e<2*g&&(g=e/2);f<2*g&&(g=f/2);a.beginPath();a.moveTo(c+g,d);a.arcTo(c+e,d,c+e,d+f,g);a.arcTo(c+e,d+f,c,d+f,g);a.arcTo(c,d+f,c,d,g);a.arcTo(c,d,c+e,d,g);a.closePath()}q.Jy=-1;
q.rp=function(a){function c(){var c=q.rp,e=a.width,h=a.height;d[0].width=e;d[0].height=h;d[1].width=e;d[1].height=h;d[2].width=e;d[2].height=h;d[3].width=e;d[3].height=h;c.canvas.width=e;c.canvas.height=h;var k=c.canvas.getContext("2d");k.drawImage(a,0,0);c.MD.width=e;c.MD.height=h;for(var k=k.getImageData(0,0,e,h).data,l=0;4>l;l++){var m=d[l].getContext("2d");m.getImageData(0,0,e,h).data;c.gL.drawImage(a,0,0);for(var n=c.gL.getImageData(0,0,e,h),t=n.data,s=0;s<k.length;s+=4)t[s]=0===l?k[s]:0,t[s+
1]=1===l?k[s+1]:0,t[s+2]=2===l?k[s+2]:0,t[s+3]=k[s+3];m.putImageData(n,0,0)}a.onload=null}if(a.hasOwnProperty("channelCache"))return a.bR;var d=[document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas")];try{c()}catch(e){a.onload=c}return a.bR=d};q.rp.canvas=document.createElement("canvas");q.rp.MD=document.createElement("canvas");q.rp.gL=q.rp.MD.getContext("2d");
q.QH=function(a,c,d,e){d||(d=q.rect(0,0,a.width,a.height),d=q.iq(d));c=c instanceof q.he?q.j(255*c.r,255*c.p,255*c.k,255*c.K):q.j(c.r,c.p,c.k,255);e=e||document.createElement("canvas");var f=e.getContext("2d");e.width!=d.width&&(e.width=d.width);e.height!=d.height&&(e.height=d.height);f.clearRect(0,0,d.width,d.height);f.save();f.globalCompositeOperation="destination-atop";f.globalAlpha=c.K/255;if(254>c.r||254>c.p||254>c.k)f.fillStyle="rgb("+c.r+","+c.p+","+c.k+")",f.fillRect(0,0,d.width,d.height);
f.drawImage(a,d.x,d.y,d.width,d.height,0,0,d.width,d.height);f.restore();return e};
q.YB=function(a,c,d,e,f){e||(e=q.rect(0,0,a.width,a.height));a=null==d.K?q.ow(d.r/255,d.p/255,d.k/255,1):d;d=Math.min(e.width,c[0].width);var g=Math.min(e.height,c[0].height),h;f?(h=f.getContext("2d"),h.clearRect(0,0,d,g)):(f=document.createElement("canvas"),f.width=d,f.height=g,h=f.getContext("2d"));h.save();h.globalCompositeOperation="lighter";var k=h.globalAlpha;0<a.r&&(h.globalAlpha=a.r*k,h.drawImage(c[0],e.x,e.y,d,g,0,0,d,g));0<a.p&&(h.globalAlpha=a.p*k,h.drawImage(c[1],e.x,e.y,d,g,0,0,d,g));
0<a.k&&(h.globalAlpha=a.k*k,h.drawImage(c[2],e.x,e.y,d,g,0,0,d,g));1>a.r+a.p+a.k&&(h.globalAlpha=k,h.drawImage(c[3],e.x,e.y,d,g,0,0,d,g));h.restore();return f};q.sH=function(a,c){if(!a)return null;if(!c)return a;var d=document.createElement("canvas");d.width=c.width;d.height=c.height;var e=d.getContext("2d");e.translate(d.width/2,d.height/2);e.rotate(-1.5707963267948966);e.drawImage(a,c.x,c.y,c.height,c.width,-c.height/2,-c.width/2,c.height,c.width);return d};
q.t_=function(a,c,d,e,f,g){this.scale=c;this.rotation=d;this.Ll=e;this.visible=g};q.ug=function(a){return 0|a};q.TM&&(q.ug=function(a){return a});
q.A=q.Fb.extend({pb:!0,Ra:null,bd:0,mb:null,Ma:!1,Th:null,Ki:null,Xk:!1,Pm:null,na:null,Ga:null,za:null,cd:!1,jc:null,bi:null,sc:!1,dc:!1,ec:!1,qb:!1,Td:null,$F:null,Yo:null,bo:null,Lr:!1,Ig:null,VA:null,UA:null,XA:!1,iL:function(){return this.qb},$f:function(a,c){this.Td.push({eventCallback:a,ii:c})},le:function(){for(var a=this.Td,c=0,d=a.length;c<d;c++){var e=a[c];e.eventCallback.call(e.ii,this)}a.length=0},JI:function(){return this.Ma},Vg:function(a){this.Ma=a},n7:function(){return this.cd},R2:function(){return this.bd},
Ne:function(a){this.bd=a},gC:function(){return q.rect(this.za.x,this.za.y,this.za.width,this.za.height)},gI:function(){return this.Ra},Vp:function(a){this.Ra=a},s5:function(){return this.mb},raa:function(a){this.mb=a},B4:function(){return this.jc},ps:function(){return this.na},Je:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrame(): spriteFrame should be non-null";a.qb||(this.qb=!1,a.$f(this.$A,this));var c=this.Pa(a.fa(),a.jd());this.Pp(a);return c},$A:null,WP:function(a){this.ab();this.ib(a.jd(),
a.vd,a.ud);this.le()},VP:function(a){this.ab();this.ib(a.jd(),a.vd,a.ud);a=this.zd();255===a.r&&255===a.p&&255===a.k||this.Lu();this.le()},zI:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";a=q.wg.f().Ah(a);return this.Je(a)},Tba:function(a){this.Ra=a.Ra;this.mb=a},AD:function(a){this.za.x=a.x;this.za.y=a.y;this.za.width=a.width;this.za.height=a.height},de:function(){if(this.ue){for(var a,c,d=this.B,e,f=1;f<d.length;f++){c=d[f];a=f-1;for(e=d[a];0<=
a&&(c.jb<e.jb||c.jb==e.jb&&c.Qf<e.Qf);)d[a+1]=e,a-=1,e=d[a];d[a+1]=c}this.mb&&this.yg(d,q.H.Lf.de);this.ue=!1}},Ks:function(a,c){if(!a)throw"cc.Sprite.reorderChild(): child should be non-null";-1===this.B.indexOf(a)?q.log("cc.Sprite.reorderChild(): this child is not in children list"):c!==a.jb&&(this.mb&&!this.ue&&(this.RA(),this.mb.LJ(!0)),q.H.prototype.Ks.call(this,a,c))},removeChild:function(a,c){this.mb&&this.mb.un(a);q.H.prototype.removeChild.call(this,a,c)},fc:function(a){var c=this.B,d=this.mb;
if(d&&null!=c)for(var e=0,f=c.length;e<f;e++)d.un(c[e]);q.H.prototype.fc.call(this,a);this.Ki=!1},bK:function(a){this.Th=a;this.Vg(a);a=this.B;if(null!=a)for(var c=0;c<a.length;c++)a[c]instanceof q.A&&a[c].bK(!0)},bh:function(){this.mb&&!this.Th&&(this.Ma=this.Th=!0,this.Ki&&this.bK(!0))},o:function(a,c){2<=arguments.length?q.H.prototype.o.call(this,a,arguments[1]):q.H.prototype.o.call(this,a);this.bh()},ox:function(a){q.H.prototype.ox.call(this,a);this.bh()},px:function(a){q.H.prototype.px.call(this,
a);this.bh()},qx:function(a){q.H.prototype.qx.call(this,a);this.bh()},sx:function(a){q.H.prototype.sx.call(this,a);this.bh()},tx:function(a){q.H.prototype.tx.call(this,a);this.bh()},Tp:function(a){q.H.prototype.Tp.call(this,a);this.bh()},zn:function(a){q.H.prototype.zn.call(this,a);this.bh()},pk:function(a,c){q.H.prototype.pk.call(this,a,c);this.bh()},KK:function(a){q.H.prototype.KK.call(this,a);this.bh()},G:function(a,c){2===arguments.length?q.H.prototype.G.call(this,a,c):q.H.prototype.G.call(this,
a);this.bh()},D:function(a){q.H.prototype.D.call(this,a);this.bh()},cj:function(a){this.mb?q.log("cc.Sprite.ignoreAnchorPointForPosition(): it is invalid in cc.Sprite when using SpriteBatchNode"):q.H.prototype.cj.call(this,a)},cW:function(a){this.dc!=a&&(this.dc=a,this.ib(this.za,this.cd,this.Ba),this.ab())},dW:function(a){this.ec!=a&&(this.ec=a,this.ib(this.za,this.cd,this.Ba),this.ab())},P6:function(){return this.dc},Q6:function(){return this.ec},If:null,EP:function(a){this.sc!==a&&(this.sc=a,this.ct())},
DP:function(a){this.sc!==a&&(this.sc=a,this.ab())},ql:function(){return this.sc},pd:null,kQ:function(a){q.Fb.prototype.pd.call(this,a);this.ct()},LG:function(a){q.Fb.prototype.pd.call(this,a);this.Dm()},o$:function(a,c){if(!a)throw"cc.Sprite.setDisplayFrameWithAnimationName(): animationName must be non-null";var d=q.Ul.f().RH(a);d?(d=d.pe[c])?this.Pp(d.Ah()):q.log("cc.Sprite.setDisplayFrameWithAnimationName(): Invalid frame index"):q.log("cc.Sprite.setDisplayFrameWithAnimationName(): Frame not found")},
U2:function(){return this.mb},RA:function(){if(!this.ue){this.ue=!0;for(var a=this.ba;a&&a!=this.mb;)a.RA(),a=a.getParent()}},fa:function(){return this.Ga},Rb:null,Iv:null,zf:!1,Dq:!1,rm:!1,Rf:null,Lm:null,zo:null,ctor:null,Nh:function(a){q.Fb.prototype.ctor.call(this);this.Xk=!1;this.jc=q.Gd();this.bi=q.Gd();this.na={src:q.Qe,Nb:q.Pe};this.za=q.rect(0,0,0,0);this.Rb=new q.kc;this.Iv=q.Z.createBuffer();this.qb=this.zf=!0;this.Td=[];this.Yo=!0;this.bo=!1;if(a)if("string"===typeof a)a=q.wg.f().Ah(a),
this.Je(a);else if("object"===typeof a)if(a instanceof q.Pd)this.Je(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new q.cc;c.lf(a);c.$d();this.Pa(c)}else a instanceof q.cc&&this.Pa(a)},Mh:function(a){q.Fb.prototype.ctor.call(this);this.Xk=!1;this.jc=q.Gd();this.bi=q.Gd();this.na={src:q.Qe,Nb:q.Pe};this.za=q.rect(0,0,0,0);this.$F=!1;this.qb=!0;this.Td=[];this.Lm={x:0,y:0,width:0,height:0,Rl:!1};this.zo=q.size(0,0);this.Yo=!0;this.bo=!1;if(a)if("string"===typeof a)a=
q.wg.f().Ah(a),this.Je(a);else if("object"===typeof a)if(a instanceof q.Pd)this.Je(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new q.cc;c.lf(a);c.$d();this.Pa(c)}else a instanceof q.cc&&this.Pa(a)},V4:function(){return this.Rb},El:null,sP:function(a,c){var d=this.na;1===arguments.length?(d.src=a.src,d.Nb=a.Nb):(d.src=a,d.Nb=c)},rP:function(a,c){var d=this.na;1===arguments.length?(d.src=a.src,d.Nb=a.Nb):(d.src=a,d.Nb=c);this.rm=d&&(770==d.src&&1==d.Nb||1==d.src&&
1==d.Nb)},v:null,dA:function(){if(0<arguments.length)return this.dj(arguments[0],arguments[1]);q.Fb.prototype.v.call(this);this.Ma=this.Th=!1;this.sc=!0;this.na.src=q.Qe;this.na.Nb=q.Pe;this.ma(null);this.qb=!0;this.dc=this.ec=!1;this.G(0.5,0.5);this.jc.J=0;this.jc.P=0;this.Ki=!1;var a={r:255,p:255,k:255,K:255};this.Rb.Na.Q=a;this.Rb.Za.Q=a;this.Rb.Wa.Q=a;this.Rb.Qa.Q=a;this.zf=!0;this.ib(q.rd(),!1,q.am());return!0},cA:function(){if(0<arguments.length)return this.dj(arguments[0],arguments[1]);q.Fb.prototype.v.call(this);
this.Ma=this.Th=!1;this.sc=!0;this.na.src=q.Qe;this.na.Nb=q.Pe;this.ma(null);this.qb=!0;this.dc=this.ec=!1;this.G(0.5,0.5);this.jc.J=0;this.jc.P=0;this.Ki=!1;this.ib(q.rd(),!1,q.am());return!0},dj:function(a,c){if(!a)throw"cc.Sprite.initWithFile(): filename should be non-null";var d=q.ka.f().Fx(a);if(!d)d=q.ka.f().va(a);else if(!c){var e=d.c();c=q.rect(0,0,e.width,e.height)}return this.Pa(d,c)},Pa:null,lr:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";
d=d||!1;if(!q.Fb.prototype.v.call(this))return!1;this.mb=null;this.Ma=this.Th=!1;this.sc=!0;this.na.src=q.Qe;this.na.Nb=q.Pe;this.dc=this.ec=!1;this.G(0.5,0.5);this.jc.J=0;this.jc.P=0;this.Ki=!1;var e=new q.Ub(255,255,255,255),f=this.Rb;f.Na.Q=e;f.Za.Q=e;f.Wa.Q=e;f.Qa.Q=e;this.qb=e=a.Pg();if(!e)return this.cd=d||!1,c&&(e=this.za,e.x=c.x,e.y=c.y,e.width=c.width,e.height=c.height),a.$f(this.Yv,this),!0;c||(e=a.c(),c=q.rect(0,0,e.width,e.height));this.ma(a);this.ib(c,d,c.Ua);this.Oe(null);return this.zf=
!0},kr:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";d=d||!1;if(!q.Fb.prototype.v.call(this))return!1;this.mb=null;this.Ma=this.Th=!1;this.sc=!0;this.na.src=q.Qe;this.na.Nb=q.Pe;this.dc=this.ec=!1;this.G(0.5,0.5);this.jc.J=0;this.jc.P=0;this.Ki=!1;var e=a.Pg();this.qb=e;if(!e)return this.cd=d||!1,c&&(this.za.x=c.x,this.za.y=c.y,this.za.width=c.width,this.za.height=c.height),a.$f(this.Yv,this),!0;c||(e=a.c(),c=q.rect(0,0,e.width,e.height));this.Rf=
a;this.ma(a);this.ib(c,d,c.Ua);this.Oe(null);return!0},Yv:null,aQ:function(a){if(!this.qb){this.qb=!0;var c=this.za;if(!c)c=a.c(),c=q.rect(0,0,c.width,c.height);else if(q.Br(c)){var d=a.c();c.width=d.width;c.height=d.height}this.ma(a);this.ib(c,this.cd,c.Ua);this.Oe(null);this.zf=!0;this.le()}},$P:function(a){if(!this.qb){this.qb=!0;var c=this.za;if(!c)c=a.c(),c=q.rect(0,0,c.width,c.height);else if(q.Br(c)){var d=a.c();c.width=d.width;c.height=d.height}this.Rf=a;this.ma(a);this.ib(c,this.cd,c.Ua);
this.Oe(null);this.le()}},ib:null,rG:function(a,c,d){this.cd=c||!1;d=d||a.Ua;this.U(d);this.AD(a);this.qG(a);c=this.bi;this.dc&&(c.J=-c.J);this.ec&&(c.P=-c.P);a=this.za;if(this.YK){d=q.pa.f().ua;var e=q.pa.f().Ca;a.width/=d;a.height/=e}this.jc.J=c.J+(this.Ba.Ha-a.width)/2;this.jc.P=c.P+(this.Ba.xa-a.height)/2;if(this.mb)this.Ma=!0;else{c=0+this.jc.J;d=0+this.jc.P;e=c+a.width;a=d+a.height;var f=this.Rb;f.Na.w={x:c,y:d,z:0};f.Za.w={x:e,y:d,z:0};f.Wa.w={x:c,y:a,z:0};f.Qa.w={x:e,y:a,z:0};this.zf=!0}},
SA:function(a,c,d){this.cd=c||!1;d=d||a.Ua;this.U(d);this.AD(a);c=this.Lm;var e=q.Uc();c.x=0|a.x*e;c.y=0|a.y*e;var f=this.zo,g=(this.mb&&this.Ra?this.Ra.fa():this.Ga)?this.fa().c():q.size(d.width,d.height);a.width>g.width||a.height>g.height?(c.width=0|g.width*e,c.height=0|g.height*e,f.width=0|d.width*e,f.height=0|d.height*e):(c.width=0|a.width*e,c.height=0|a.height*e,f.width=c.width,f.height=c.height);c.Rl=!(0===c.width||0===c.height);f.Rl=!(0===f.width||0===f.height);a=this.bi;this.dc&&(a.J=-a.J);
this.ec&&(a.P=-a.P);this.jc.J=a.J+(this.Ba.Ha-this.za.width)/2;this.jc.P=a.P+(this.Ba.xa-this.za.height)/2;this.mb&&(this.Ma=!0)},pg:null,sQ:function(){if(this.Ma){var a=this.Rb,c=this.ba;if(!this.ta||c&&c!=this.mb&&c.Xk)a.Za.w={x:0,y:0,z:0},a.Wa.w={x:0,y:0,z:0},a.Qa.w={x:0,y:0,z:0},a.Na.w={x:0,y:0,z:0},this.Xk=!0;else{this.Xk=!1;var d=this.Pm=c&&c!=this.mb?q.Tl(this.fg(),c.Pm):this.fg(),e=this.za.Ua,c=this.jc.J,f=this.jc.P,g=c+e.width,e=f+e.height,h=d.bb,k=d.cb,l=d.K,m=d.k,n=d.d,d=-d.Ka,t=this.jw;
a.Na.w={x:q.ug(c*l-f*d+h),y:q.ug(c*m+f*n+k),z:t};a.Za.w={x:q.ug(g*l-f*d+h),y:q.ug(g*m+f*n+k),z:t};a.Wa.w={x:q.ug(c*l-e*d+h),y:q.ug(c*m+e*n+k),z:t};a.Qa.w={x:q.ug(g*l-e*d+h),y:q.ug(g*m+e*n+k),z:t}}this.Ra.Lx(a,this.bd);this.Th=!1;this.Vg(!1)}this.Ki&&this.yg(this.B,q.H.Lf.pg);q.wj&&(a=[q.a(this.Rb.Na.w.x,this.Rb.Na.w.y),q.a(this.Rb.Za.w.x,this.Rb.Za.w.y),q.a(this.Rb.Qa.w.x,this.Rb.Qa.w.y),q.a(this.Rb.Wa.w.x,this.Rb.Wa.w.y)],q.ye.Wd(a,4,!0))},rQ:function(){if(this.Ma){var a=this.ba;!this.ta||a&&a!=
this.mb&&a.Xk?this.Xk=!0:(this.Xk=!1,this.Pm=a&&a!=this.mb?q.Tl(this.fg(),a.Pm):this.fg());this.Ma=this.Th=!1}this.Ki&&this.yg(this.B,q.H.Lf.pg)},g:null,fz:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.jb);null==d&&(d=a.xd);if(this.mb){if(!(a instanceof q.A)){q.log("cc.Sprite.addChild(): cc.Sprite only supports cc.Sprites as children when using cc.SpriteBatchNode");return}a.fa().ei!==this.Ra.fa().ei&&q.log("cc.Sprite.addChild(): cc.Sprite only supports a sprite using same texture as children when using cc.SpriteBatchNode");
this.mb.appendChild(a);this.ue||this.RA()}q.H.prototype.g.call(this,a,c,d);this.Ki=!0},ez:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.jb);null==d&&(d=a.xd);q.H.prototype.g.call(this,a,c,d);this.Ki=!0},ct:function(){var a=this.yc,c=this.$b,a={r:a.r,p:a.p,k:a.k,K:c};this.sc&&(a.r*=c/255,a.p*=c/255,a.k*=c/255);c=this.Rb;c.Na.Q=a;c.Za.Q=a;c.Wa.Q=a;c.Qa.Q=a;this.mb&&(this.bd!=q.Jy?this.Ra.Lx(c,this.bd):this.Ma=!0);this.zf=!0},ra:null,QA:function(a){q.Fb.prototype.ra.call(this,
a);this.ct()},Gr:function(a){q.Fb.prototype.ra.call(this,a);this.Dm()},q:null,OA:function(a){q.Fb.prototype.q.call(this,a);this.ct()},Er:function(a){var c=this.zd();if(c.r!==a.r||c.p!==a.p||c.k!==a.k)q.Fb.prototype.q.call(this,a),this.Lu(),this.Dm()},od:null,jQ:function(a){q.Fb.prototype.od.call(this,a);this.ct()},nB:function(a){var c=this.zd();q.Fb.prototype.od.call(this,a);a=this.yc;if(c.r!==a.r||c.p!==a.p||c.k!==a.k)this.Lu(),this.Dm()},Pp:null,yP:function(a){this.ab();var c=a._offset;this.bi.J=
c.x;this.bi.P=c.y;c=a.fa();a.qb||(this.qb=!1,a.$f(function(a){this.qb=!0;var c=a.fa();c!=this.Ga&&this.ma(c);this.ib(a.jd(),a.vd,a.ud);this.le()},this));c!=this.Ga&&this.ma(c);this.cd=a.vd;this.ib(a.jd(),this.cd,a.ud)},xP:function(a){this.ab();var c=a._offset;this.bi.J=c.x;this.bi.P=c.y;this.cd=a.vd;var c=a.fa(),d=a.qb;d||(this.qb=!1,a.$f(function(a){this.qb=!0;var c=a.fa();c!=this.Ga&&this.ma(c);this.ib(a.jd(),a.vd,a.ud);this.le()},this));c!=this.Ga&&this.ma(c);this.cd&&(this.Rf=c);this.ib(a.jd(),
this.cd,a.ud);this.Dq=!1;d&&(a=this.zd(),255===a.r&&255===a.p&&255===a.k||this.Lu())},LI:null,AO:function(a){return q.FJ(a.jd(),this.za)&&a.fa().getName()==this.Ga.getName()&&q.xJ(a._offset,this.bi)},zO:function(a){return a.fa()!=this.Ga?!1:q.FJ(a.jd(),this.za)},GR:function(){return q.Pd.eb(this.Ga,q.Tn(this.za),this.cd,q.GM(this.bi),q.Iy(this.Ba))},Oe:null,qP:function(a){if(this.mb=a)this.Pm={K:1,k:0,Ka:0,d:1,bb:0,cb:0},this.Vp(this.mb.Ra);else{this.bd=q.Jy;this.Vp(null);this.Th=!1;this.Vg(!1);a=
this.jc.J;var c=this.jc.P,d=a+this.za.width,e=c+this.za.height,f=this.Rb;f.Na.w={x:a,y:c,z:0};f.Za.w={x:d,y:c,z:0};f.Wa.w={x:a,y:e,z:0};f.Qa.w={x:d,y:e,z:0};this.zf=!0}},pP:function(a){(this.mb=a)?(this.Pm={K:1,k:0,Ka:0,d:1,bb:0,cb:0},this.Vp(this.mb.Ra)):(this.bd=q.Jy,this.Vp(null),this.Th=!1,this.Vg(!1))},ma:null,Ir:function(a){if(a&&!(a instanceof q.cc))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.mb&&this.mb.fa()!=a?q.log("cc.Sprite.setTexture(): Batched sprites should use the same texture as the batchnode"):
(a?this.Wg(q.Kh.f().qi(q.Hy)):this.Wg(q.Kh.f().qi(q.QM)),this.mb||this.Ga==a||(this.Ga=a,this.Qm()))},Hr:function(a){if(a&&!(a instanceof q.cc))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.Ga!=a&&(a&&a.rc instanceof HTMLImageElement&&(this.Rf=a),this.Ga=a)},Qm:function(){this.mb?q.log("cc.Sprite._updateBlendFunc(): _updateBlendFunc doesn't work when the sprite is rendered using a cc.CCSpriteBatchNode"):this.Ga&&this.Ga.ys()?(this.na.src=q.Qe,this.na.Nb=q.Pe,
this.If(!0)):(this.na.src=770,this.na.Nb=771,this.If(!1))},Lu:function(){var a,c=this.Ga,d=this.Lm;if(c&&d.Rl&&this.Rf&&(a=c.rc)){var e=q.ka.f().hI(this.Rf.rc);e&&(this.Dq=!0,a instanceof HTMLCanvasElement&&!this.cd&&!this.$F?this.bo?q.QH(this.Rf.rc,this.yc,d,c.rc):q.YB(a,e,this.yc,d,a):(a=this.bo?q.QH(a,this.yc,d):q.YB(a,e,this.yc,d),c=new q.cc,c.lf(a),c.$d(),this.ma(c)))}},qG:function(a){a=q.Tn(a);var c=this.mb?this.Ra.fa():this.Ga;if(c){var d=c.zp(),e=c.yp(),f,g=this.Rb;this.cd?(q.Kt?(c=(2*a.x+
1)/(2*d),d=c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/d,f=a.y/e,a=(a.y+a.width)/e),this.dc&&(e=f,f=a,a=e),this.ec&&(e=c,c=d,d=e),g.Na.F.Sa=c,g.Na.F.sa=f,g.Za.F.Sa=c,g.Za.F.sa=a,g.Wa.F.Sa=d,g.Wa.F.sa=f,g.Qa.F.Sa=d,g.Qa.F.sa=a):(q.Kt?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+a.height)/e),this.dc&&(e=c,c=d,d=e),this.ec&&(e=f,f=a,a=e),g.Na.F.Sa=c,g.Na.F.sa=a,g.Za.F.Sa=
d,g.Za.F.sa=a,g.Wa.F.Sa=c,g.Wa.F.sa=f,g.Qa.F.Sa=d,g.Qa.F.sa=f);this.zf=!0}},Va:null,Bg:function(){if(this.qb){var a=q.Z,c=this.Ga;c?c.zc&&(this.Lc.sf(),this.Lc.Xg(),q.fk(this.na.src,this.na.Nb),q.g6(0,c),q.Fe(q.ru),a.bindBuffer(a.ARRAY_BUFFER,this.Iv),this.zf&&(a.bufferData(a.ARRAY_BUFFER,this.Rb.CB,a.DYNAMIC_DRAW),this.zf=!1),a.vertexAttribPointer(0,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(1,4,a.UNSIGNED_BYTE,!0,24,12),a.vertexAttribPointer(2,2,a.FLOAT,!1,24,16),a.drawArrays(a.TRIANGLE_STRIP,0,4)):
(this.Lc.sf(),this.Lc.Xg(),q.fk(this.na.src,this.na.Nb),q.Mg(null),q.Fe(q.dh|q.jN),a.bindBuffer(a.ARRAY_BUFFER,this.Iv),this.zf&&(q.Z.bufferData(q.Z.ARRAY_BUFFER,this.Rb.CB,q.Z.STATIC_DRAW),this.zf=!1),a.vertexAttribPointer(q.Ue,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(q.rq,4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));q.xh++;0!==q.wj&&(1===q.wj?(a=this.Rb,a=[q.a(a.Wa.w.x,a.Wa.w.y),q.a(a.Na.w.x,a.Na.w.y),q.a(a.Za.w.x,a.Za.w.y),q.a(a.Qa.w.x,a.Qa.w.y)],q.ye.Wd(a,4,!0)):2===q.wj&&(a=
this.gC().Ua,c=this.jc,a=[q.a(c.x,c.y),q.a(c.x+a.width,c.y),q.a(c.x+a.width,c.y+a.height),q.a(c.x,c.y+a.height)],q.ye.Wd(a,4,!0)))}},r0:function(a,c,d,e){this.VA=c;this.Ig=d;this.UA=e;this.Lr=a},q0:function(a){this.XA=a},Gj:function(a){if(this.qb){a=a||q.Z;this.rm&&(a.globalCompositeOperation="lighter");a.kT=this.Yo;var c=q.pa.f().ua,d=q.pa.f().Ca;a.globalAlpha=this.$b/255;var e=this.za,f=this.Ba,g=this.jc,h=this.zo,k=0|g.J,l=-g.P-e.height,m=this.Lm;!0==this.Lr&&(a.shadowBlur=this.VA?this.VA:30,a.shadowColor=
this.UA?this.UA:"black",a.shadowOffsetX=this.Ig?this.Ig.x:5,a.shadowOffsetY=this.Ig?this.Ig.y:5);if(this.dc||this.ec)a.save(),this.dc&&(k=-g.J-e.width,a.scale(-1,1)),this.ec&&(l=g.P,a.scale(1,-1));k*=c;l*=d;if(this.Ga&&m.Rl)g=this.Ga.rc,this.Dq?a.drawImage(g,0,0,m.width,m.height,k,l,h.width,h.height):a.drawImage(g,m.x,m.y,m.width,m.height,k,l,h.width,h.height);else if(0!==f.Ha){var n=this.zd();a.fillStyle="rgba("+n.r+","+n.p+","+n.k+",1)";a.fillRect(k,l,f.Ha*c,f.xa*d)}!0==this.Lr&&(a.shadowBlur=0,
a.shadowOffsetX=0,a.shadowOffsetY=0);!0==this.XA&&(a.globalAlpha=1,a.beginPath(),a.strokeStyle="rgba("+n.r+","+n.p+","+n.k+",1)",a.lineWidth="1",fa(a,k,l,f.Ha*c,f.xa*d),a.stroke());1===q.wj?(a.strokeStyle="rgba(0,255,0,1)",k/=c,l=-(l/d),k=[q.a(k,l),q.a(k+e.width,l),q.a(k+e.width,l-e.height),q.a(k,l-e.height)],q.ye.Wd(k,4,!0)):2===q.wj&&(a.strokeStyle="rgba(0,255,0,1)",n=this.za.Ua,l=-l,k=[q.a(k,l),q.a(k+n.width,l),q.a(k+n.width,l-n.height),q.a(k,l-n.height)],q.ye.Wd(k,4,!0));(this.dc||this.ec)&&a.restore();
q.xh++}}});
q.Ia.Sc?(b=q.A.prototype,b.$A=q.A.prototype.WP,b.If=q.A.prototype.EP,b.pd=q.A.prototype.kQ,b.ctor=q.A.prototype.Nh,b.El=q.A.prototype.sP,b.v=q.A.prototype.dA,b.Pa=q.A.prototype.lr,b.Yv=q.A.prototype.aQ,b.ib=q.A.prototype.rG,b.pg=q.A.prototype.sQ,b.g=q.A.prototype.fz,b.ra=q.A.prototype.QA,b.q=q.A.prototype.OA,b.od=q.A.prototype.jQ,b.Pp=q.A.prototype.yP,b.LI=q.A.prototype.AO,b.Oe=q.A.prototype.qP,b.ma=q.A.prototype.Ir,b.Va=q.A.prototype.Bg):(b=q.A.prototype,b.$A=q.A.prototype.VP,b.If=q.A.prototype.DP,b.pd=
q.A.prototype.LG,b.ctor=q.A.prototype.Mh,b.El=q.A.prototype.rP,b.v=q.A.prototype.cA,b.Pa=q.A.prototype.kr,b.Yv=q.A.prototype.$P,b.ib=q.A.prototype.SA,b.pg=q.A.prototype.rQ,b.g=q.A.prototype.ez,b.ra=q.A.prototype.Gr,b.q=q.A.prototype.Er,b.od=q.A.prototype.nB,b.Pp=q.A.prototype.xP,b.LI=q.A.prototype.zO,b.Oe=q.A.prototype.pP,b.ma=q.A.prototype.Hr,b.Va=q.A.prototype.Gj);
q.A.eb=function(a,c){var d=arguments.length,e=new q.A;switch(d){case 1:return e&&e.Pa(a)?e:null;case 2:return e&&e.Pa(a,c)?e:null;default:throw"Sprite.createWithTexture(): Argument must be non-nil ";}};q.A.create=function(a,c){var d=arguments.length,e=new q.A;if(0===d){if(e.v())return e}else if(e&&e.v(a,c))return e;return null};
q.A.rH=function(a){var c=null;if("string"==typeof a){if(c=q.wg.f().Ah(a),!c)return q.log("Invalid spriteFrameName: "+a),null}else return q.log("Invalid argument. Expecting string."),null;return(a=new q.A)&&a.Je(c)?a:null};q.A.qH=function(a){var c=new q.A;return c&&c.Je(a)?c:null};Object.defineProperties(q.A.prototype,{Zaa:{get:function(){return this.Yo},set:function(a){this.Yo=a},enumerable:!0},T0:{get:function(){return this.bo},set:function(a){this.bo=a},enumerable:!0}});q.rj=q.La.extend({Mr:null,ne:0,es:null,ctor:function(){this.ne=0},clone:function(){var a=new q.rj;a.Je(this.Mr.clone(),this.ne,this.es);return a},tw:function(){return q.clone(this)},copy:function(){var a=new q.rj;a.Je(this.Mr.clone(),this.ne,this.es);return a},Je:function(a,c,d){this.Mr=a;this.ne=c;this.es=d;return!0},Ah:function(){return this.Mr},Jf:function(a){this.Mr=a},v3:function(){return this.ne},n$:function(a){this.ne=a},R5:function(){return this.es},Jaa:function(a){this.es=a}});
q.qj=q.La.extend({pe:null,Qj:0,Am:!1,Ea:0,ne:0,Nm:0,ctor:function(){this.pe=[]},O3:function(){return this.pe},hK:function(a){this.pe=a},AB:function(a){var c=new q.rj;c.Je(a,1,null);this.pe.push(c);this.Nm++},K0:function(a){a=q.ka.f().va(a);var c=q.rd();c.Ua=a.c();a=q.Pd.eb(a,c);this.AB(a)},L0:function(a,c){var d=q.Pd.eb(a,c);this.AB(d)},zs:function(a,c,d){q.ht(a,q.rj);this.ne=c;this.Qj=d;this.hK([]);for(c=0;c<a.length;c++)d=a[c],this.pe.push(d),this.Nm+=d.ne;return!0},clone:function(){var a=new q.qj;
a.zs(this.vF(),this.ne,this.Qj);a.nx(this.Am);return a},tw:function(){var a=new q.qj;a.zs(this.vF(),this.ne,this.Qj);a.nx(this.Am);return a},vF:function(){for(var a=[],c=0;c<this.pe.length;c++)a.push(this.pe[c].clone());return a},copy:function(){return this.tw(null)},e4:function(){return this.Qj},K$:function(a){this.Qj=a},nx:function(a){this.Am=a},d5:function(){return this.Am},Df:function(){return this.Nm*this.ne},u3:function(){return this.ne},m$:function(a){this.ne=a},J5:function(){return this.Nm},
AI:function(a,c){q.ht(a,q.Pd);this.Qj=1;this.ne=c||0;this.hK([]);if(a)for(var d=0;d<a.length;d++){var e=a[d],f=new q.rj;f.Je(e,1,null);this.pe.push(f);this.Nm++}return!0},PJ:function(){},HJ:function(){}});q.qj.create=function(a,c,d){var e=arguments.length,f=new q.qj;0==e?f.AI(null,0):2==e?f.AI(a,c||0):3==e&&f.zs(a,c,d);return f};q.qj.pH=function(a,c,d){var e=new q.qj;e.zs(a,c,d);return e};q.Ul=q.La.extend({XG:function(a,c){this.fm[c]=a},t9:function(a){a&&this.fm.hasOwnProperty(a)&&delete this.fm[a]},RH:function(a){return this.fm.hasOwnProperty(a)?this.fm[a]:null},sN:function(a,c){var d=a.animations;if(d){var e=1,f=a.properties;if(f)for(var e=null!=f.format?parseInt(f.format):e,f=f.spritesheets,g=q.wg.f(),h=q.Od.f(),k,l=0;l<f.length;l++)k=h.PH(f[l],c),g.dH(k);switch(e){case 1:this.TO(d);break;case 2:this.UO(d);break;default:q.log("cc.AnimationCache. Invalid animation format")}}else q.log("cocos2d: cc.AnimationCache: No animations were found in provided dictionary.")},
B0:function(a){if(!a)throw"cc.AnimationCache.addAnimations(): Invalid texture file name";var c=q.Od.f(),d=c.De(a);(c=c.vw(d))?this.sN(c,a):q.log("cc.AnimationCache.addAnimations(): File could not be found")},TO:function(a){var c=q.wg.f(),d;for(d in a){var e=a[d],f=e.frames,e=parseFloat(e.delay)||0,g=null;if(f){for(var g=[],h=0;h<f.length;h++){var k=c.Ah(f[h]);if(k){var l=new q.rj;l.Je(k,1,null);g.push(l)}else q.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+f[h]+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}0===
g.length?q.log("cocos2d: cc.AnimationCache: None of the frames for animation '"+d+"' were found in the cc.SpriteFrameCache. Animation is not being added to the Animation Cache."):(g.length!=f.length&&q.log("cocos2d: cc.AnimationCache: An animation in your dictionary refers to a frame which is not in the cc.SpriteFrameCache. Some or all of the frames for the animation '"+d+"' may be missing."),g=q.qj.pH(g,e,1),q.Ul.f().XG(g,d))}else q.log("cocos2d: cc.AnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},
UO:function(a){var c=q.wg.f(),d;for(d in a){var e=a[d],f=parseInt(e.loops),f=e.loop?q.$l:isNaN(f)?1:f,g=e.restoreOriginalFrame&&!0==e.restoreOriginalFrame?!0:!1,h=e.frames;if(h){for(var k=[],l=0;l<h.length;l++){var m=h[l],n=m.spriteframe,t=c.Ah(n);if(t){var n=parseFloat(m.delayUnits)||0,m=m.notification,s=new q.rj;s.Je(t,n,m);k.push(s)}else q.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+n+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}e=
parseFloat(e.delayPerUnit)||0;h=new q.qj;h.zs(k,e,f);h.nx(g);q.Ul.f().XG(h,d)}else q.log("cocos2d: CCAnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},v:function(){this.fm={};return!0},fm:null});q.Ul.KU=function(){q.xn&&(q.xn.fm=null,q.xn=null)};q.Ul.f=function(){null===q.xn&&(q.xn=new q.Ul,q.xn.v());return q.xn};q.xn=null;q.Pd=q.La.extend({_offset:null,ud:null,Ze:null,vd:!1,za:null,Pf:null,wf:null,Ga:null,ep:"",qb:!1,Xu:null,ctor:function(){this._offset=q.Gd();this.Pf=q.Gd();this.ud=q.Em();this.vd=!1;this.wf=q.Em();this.ep="";this.Ga=null;this.qb=!1},iL:function(){return this.qb},$f:function(a,c){null==this.Xu&&(this.Xu=[]);this.Xu.push({eventCallback:a,ii:c})},le:function(){var a=this.Xu;if(a){for(var c=0,d=a.length;c<d;c++){var e=a[c];e.eventCallback.call(e.ii,this)}a.length=0}},yS:function(){var a=this.Ze;return q.rect(a.x,
a.y,a.width,a.height)},iaa:function(a){this.Ze||(this.Ze=q.rect(0,0,0,0));this.Ze.x=a.x;this.Ze.y=a.y;this.Ze.width=a.width;this.Ze.height=a.height;this.za=q.iq(a)},g7:function(){return this.vd},naa:function(a){this.vd=a},jd:function(){var a=this.za;return q.rect(a.x,a.y,a.width,a.height)},xK:function(a){this.za||(this.za=q.rect(0,0,0,0));this.za.x=a.x;this.za.y=a.y;this.za.width=a.width;this.za.height=a.height;this.Ze=q.Tn(this.za)},A4:function(){return this.Pf},X$:function(a){this.Pf.J=a.x;this.Pf.P=
a.y;q.yu(this.Pf,this._offset)},H4:function(){return this.wf},$$:function(a){this.wf.Ha=a.width;this.wf.xa=a.height},tS:function(){return this.ud},Z$:function(a){this.ud.Ha=a.width;this.ud.xa=a.height},fa:function(){if(this.Ga)return this.Ga;if(""!==this.ep){var a=q.ka.f().va(this.ep);a&&(this.qb=a.Pg());return a}return null},ma:function(a){if(this.Ga!=a){var c=a.Pg();this.qb=c;this.Ga=a;c||a.$f(function(a){this.qb=!0;if(this.vd&&q.Kd===q.rg){var c=a.rc,c=q.sH(c,this.jd()),f=new q.cc;f.lf(c);f.$d();
this.ma(f);c=this.jd();this.xK(q.rect(0,0,c.width,c.height))}c=this.za;0===c.width&&0===c.height&&(a=a.c(),this.za.width=a.width,this.za.height=a.height,this.Ze=q.Tn(this.za),this.wf.Ha=this.Ze.width,this.wf.xa=this.Ze.height,this.ud.Ha=a.width,this.ud.xa=a.height);this.le()},this)}},z4:function(){return this._offset},W$:function(a){this._offset.J=a.x;this._offset.P=a.y},clone:function(){var a=new q.Pd;a.Nw(this.ep,this.Ze,this.vd,this.Pf,this.wf);a.ma(this.Ga);return a},tw:function(){var a=new q.Pd;
a.Nw(this.ep,this.Ze,this.vd,this.Pf,this.wf);a.ma(this.Ga);return a},copy:function(){return this.tw()},Pa:function(a,c,d,e,f){2===arguments.length&&(c=q.Tn(c));e=e||q.a(0,0);f=f||c.Ua;this.ma(a);this.Ze=c;this.za=q.iq(c);this.Pf.J=e.x;this.Pf.P=e.y;q.yu(e,this._offset);this.wf.Ha=f.width;this.wf.xa=f.height;q.Zy(f,this.ud);this.vd=d||!1;return!0},Nw:function(a,c,d,e,f){2===arguments.length&&(c=q.Tn(c));e=e||q.a(0,0);f=f||c.Ua;this.Ga=null;this.ep=a;this.Ze=c;this.za=q.iq(c);this.vd=d||!1;this.Pf.J=
e.x;this.Pf.P=e.y;q.yu(e,this._offset);this.wf.Ha=f.width;this.wf.xa=f.height;q.Zy(f,this.ud);return!0}});q.Pd.create=function(a,c,d,e,f){var g=new q.Pd;switch(arguments.length){case 2:g.Nw(a,c);break;case 5:g.Nw(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};q.Pd.eb=function(a,c,d,e,f){var g=new q.Pd;switch(arguments.length){case 2:g.Pa(a,c);break;case 5:g.Pa(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};
q.Pd.U_=function(a,c,d,e,f){var g=new q.Pd;g.Ga=a;g.Ze=c;g.za=q.iq(c);g.Pf.J=e.x;g.Pf.P=e.y;q.yu(g.Pf,g._offset);g.wf.Ha=f.width;g.wf.xa=f.height;q.Zy(g.wf,g.ud);g.vd=d;return g};q.wg=q.La.extend({af:null,Yk:null,rr:null,ctor:function(){this.af={};this.Yk={};this.rr=[]},hz:function(a,c){var d=a.metadata||a.meta,e=a.frames,f=0;d&&(f=d.format,f=1>=f.length?parseInt(f):f);if(0>f||3<f)q.log("format is not supported for cc.SpriteFrameCache.addSpriteFramesWithDictionary");else for(var g in e)if(d=e[g]){var h=this.af[g];if(!h){if(0==f){var h=parseFloat(d.x),k=parseFloat(d.y),l=parseFloat(d.width),m=parseFloat(d.height),n=parseFloat(d.offsetX),t=parseFloat(d.offsetY),s=parseInt(d.originalWidth),
d=parseInt(d.originalHeight);s&&d||q.log("cocos2d: WARNING: originalWidth/Height not found on the cc.SpriteFrame. AnchorPoint won't work as expected. Regenrate the .plist");s=Math.abs(s);d=Math.abs(d);h=q.Pd.eb(c,q.rect(h,k,l,m),!1,q.a(n,t),q.size(s,d))}else if(1==f||2==f)h=q.NE(d.frame),k=!1,2==f&&(k=d.rotated),l=q.ME(d.offset),d=q.Ly(d.sourceSize),h=q.Pd.eb(c,h,k,l,d);else if(3==f){var h=q.Ly(d.spriteSize),k=q.ME(d.spriteOffset),l=q.Ly(d.spriteSourceSize),m=q.NE(d.textureRect),n=d.textureRotated,
t=d.aliases,s=g.toString(),u;for(u in t)this.Yk.hasOwnProperty(t[u])&&q.log("cocos2d: WARNING: an alias with name "+u+" already exists"),this.Yk[t[u]]=s;d.hasOwnProperty("spriteSize")&&(m=q.rect(m.x,m.y,h.width,h.height));h=q.Pd.eb(c,m,n,k,l)}else var w=d.filename,k=d.frame,h=d.sourceSize,k=q.rect(k.x,k.y,k.wL,k.h),d=d.rotated,l=q.a(0,0),h=q.size(h.wL,h.h),h=q.Pd.eb(c,k,d,l,h);q.Kd===q.rg&&h.vd&&h.fa().Pg()&&(d=h.fa().rc,d=q.sH(d,h.yS()),k=new q.cc,k.lf(d),k.$d(),h.ma(k),d=h.za,h.xK(q.rect(0,0,d.width,
d.height)));this.af[null!=w?w:g]=h}}},dH:function(a,c){if(!a)throw"cc.SpriteFrameCache.addSpriteFrames(): plist should be non-null";var d=q.Od.f(),e;"plist"==a.substr(a.lastIndexOf(".",a.length)+1,a.length)?(e=d.De(a),e=d.vw(e)):e=JSON.parse(d.fI(a));switch(arguments.length){case 1:if(!q.Tx(this.rr,a)){var f="",g=e.metadata||e.meta;g&&(f=g.textureFileName||g.image);""!=f?f=d.PH(f,a):(f=a,f=f.substr(0,f.lastIndexOf(".",f.length)),f+=".png");(d=q.ka.f().va(f))?this.hz(e,d):q.log("cocos2d: cc.SpriteFrameCache: Couldn't load texture")}break;
case 2:if(c instanceof q.cc)this.hz(e,c);else{if(!c)throw"cc.SpriteFrameCache.addSpriteFrames(): texture name should not be null";(d=q.ka.f().va(c))?this.hz(e,d):q.log("cocos2d: cc.SpriteFrameCache: couldn't load texture file. File not found "+c)}break;default:throw"Argument must be non-nil ";}},AB:function(a,c){this.af[c]=a},B9:function(){this.af=[];this.Yk=[];this.rr={}},A9:function(a){a&&(this.Yk.hasOwnProperty(a)&&delete this.Yk[a],this.af.hasOwnProperty(a)&&delete this.af[a],this.rr={})},C9:function(a){var c=
q.Od.f(),d=c.De(a),c=c.vw(d);this.dP(c);q.Tx(this.rr,a)&&q.fe(a)},dP:function(a){a=a.frames;for(var c in a)this.af.hasOwnProperty(c)&&delete this.af[c]},D9:function(a){for(var c in this.af){var d=this.af[c];d&&d.fa()==a&&delete this.af[c]}},Ah:function(a){var c;this.af.hasOwnProperty(a)&&(c=this.af[a]);if(!c){var d;this.Yk.hasOwnProperty(a)&&(d=this.Yk[a]);d&&(this.af.hasOwnProperty(d.toString())&&(c=this.af[d.toString()]),c||q.log("cocos2d: cc.SpriteFrameCahce: Frame "+a+" not found"))}return c}});
q.ex=null;q.wg.f=function(){q.ex||(q.ex=new q.wg);return q.ex};q.wg.LU=function(){q.ex=null};q.hq=29;
q.Ab=q.H.extend({Ra:null,na:null,Dd:null,M0:function(a,c,d){if(!a)throw"cc.SpriteBatchNode.addQuadFromSprite(): child should be non-null";if(!(a instanceof q.A))return q.log("cc.SpriteBatchNode.addQuadFromSprite(): SpriteBatchNode only supports cc.Sprites as children"),null;a.Ne(c);var e=0,f=this.Dd;if(f&&0<f.length)for(var g=0;g<f.length;g++){var h=f[g];h&&h.bd>=c&&++e}this.Dd=q.Vl(f,a,e);q.H.prototype.g.call(this,a,c,d);this.LJ(!1);return this},gI:function(){return this.Ra},Vp:function(a){a!=this.Ra&&
(this.Ra=a)},y3:function(){return this.Dd},dj:function(a,c){var d=q.ka.f().Fx(a);d||(d=q.ka.f().va(a));return this.Pa(d,c)},Dm:function(){this.rF=!0},v:function(a,c){var d=q.ka.f().Fx(a);d||(d=q.ka.f().va(a));return this.Pa(d,c)},Hw:function(){var a=this.Ra.sd,c=Math.floor(4*(a+1)/3);q.log("cocos2d: CCSpriteBatchNode: resizing TextureAtlas capacity from "+a+" to "+c+".");this.Ra.pV(c)||q.log("cocos2d: WARNING: Not enough memory to resize the atlas")},v9:function(a,c){this.removeChild(this.B[a],c)},
EJ:function(a,c){var d=a.B;if(d&&0<d.length)for(var e=0;e<d.length;e++){var f=d[e];f&&0>f.jb&&(c=this.EJ(f,c))}!a==this&&(a.Ne(c),c++);if(d&&0<d.length)for(e=0;e<d.length;e++)(f=d[e])&&0<=f.jb&&(c=this.EJ(f,c));return c},pC:function(a){var c=a.B;return c&&0!=c.length?this.pC(c[c.length-1]):a.bd},QT:function(a){var c=a.B;return c&&0!=c.length?this.QT(c[c.length-1]):a.bd},LQ:function(a,c){var d=a.getParent().B,e=q.Vx(d,a),f=a.getParent()==this,g=null;0<e&&e<q.gN&&(g=d[e-1]);if(f)return 0==e?0:this.pC(g)+
1;if(0==e)return d=a.getParent(),0>c?d.bd:d.bd+1;if(0>g.jb&&0>c||0<=g.jb&&0<=c)return this.pC(g)+1;d=a.getParent();return d.bd+1},LJ:function(a){this.ue=a},El:function(a,c){this.na=1==arguments.length?a:{src:a,Nb:c}},ps:function(){return this.na},Ks:function(a,c){if(!a)throw"cc.SpriteBatchNode.addChild():child should be non-null";-1===this.B.indexOf(a)?q.log("cc.SpriteBatchNode.addChild(): Child doesn't belong to Sprite"):c!==a.jb&&(q.H.prototype.Ks.call(this,a,c),this.ab())},removeChild:function(a,
c){null!=a&&(-1===this.B.indexOf(a)?q.log("cc.SpriteBatchNode.addChild(): sprite batch node should contain the child"):(this.un(a),q.H.prototype.removeChild.call(this,a,c)))},JO:null,Km:null,y0:!1,Rf:null,ctor:null,Mh:function(a){q.H.prototype.ctor.call(this);a&&this.v(a,q.hq)},Nh:function(a){q.H.prototype.ctor.call(this);this.JO=new q.Bh;a&&this.v(a,q.hq)},sL:null,oQ:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";a instanceof q.A?(a.Oe(this),a.Ne(c),
a.Vg(!0),a.pg()):q.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},pQ:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";if(a instanceof q.A){for(var d=this.Ra.sd;c>=d||d==this.Ra.Ya;)this.Hw();a.Oe(this);a.Ne(c);a.Vg(!0);a.pg()}else q.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},Vv:function(a,c){var d=this.Dd,e=this.Ra,f=e.Xe,g=d[a],
h=q.Xy(f[a]);d[c].Ne(a);d[a]=d[c];e.Lx(f[c],a);d[c]=g;e.Lx(h,c)},BI:null,xO:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";a instanceof q.A?(a.Oe(this),a.Ne(c),a.Vg(!0),a.pg(),this.B=q.Vl(this.B,a,c)):q.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},yO:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";if(a instanceof q.A){for(var d=this.Ra;c>=d.sd||
d.sd===d.Ya;)this.Hw();a.Oe(this);a.Ne(c);d.xC(a.Rb,c);a.Vg(!0);a.pg()}else q.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},KG:function(a,c){var d=0,e=a.B;e&&(d=e.length);var f=0;if(0===d)f=a.bd,a.Ne(c),a.Sp(0),f!=c&&this.Vv(f,c),c++;else{f=!0;0<=e[0].jb&&(f=a.bd,a.Ne(c),a.Sp(0),f!=c&&this.Vv(f,c),c++,f=!1);for(d=0;d<e.length;d++){var g=e[d];f&&0<=g.jb&&(f=a.bd,a.Ne(c),a.Sp(0),f!=c&&this.Vv(f,c),c++,f=!1);c=this.KG(g,c)}f&&(f=a.bd,a.Ne(c),
a.Sp(0),f!=c&&this.Vv(f,c),c++)}return c},Qm:function(){this.Ra.fa().ys()||(this.na.src=770,this.na.Nb=771)},Pa:null,kr:function(a){this.B=[];this.Dd=[];this.na=new q.Xl(q.Qe,q.Pe);this.Km=this.Rf=a;return!0},lr:function(a,c){this.B=[];this.Dd=[];this.na=new q.Xl(q.Qe,q.Pe);c=c||q.hq;this.Ra=new q.Zn;this.Ra.Pa(a,c);this.Qm();this.Wg(q.Kh.f().qi(q.Hy));return!0},vT:function(a,c){a.Oe(this);a.Ne(c);a.Vg(!0);var d=this.Ra;d.Ya>=d.sd&&this.Hw();d.xC(a.Rb,c);this.Dd=q.Vl(this.Dd,a,c);var d=c+1,e=this.Dd;
if(e&&0<e.length)for(;d<e.length;d++)e[d].Ne(e[d].bd+1);if((e=a.B)&&0<e.length)for(d=0;d<e.length;d++)if(e[d]){var f=this.LQ(e[d],e[d].jb);this.vT(e[d],f)}},appendChild:null,yN:function(a){this.ue=!0;a.Oe(this);a.Vg(!0);this.Dd.push(a);a.Ne(this.Dd.length-1);a=a.B;for(var c=0;c<a.length;c++)this.appendChild(a[c])},zN:function(a){this.ue=!0;a.Oe(this);a.Vg(!0);this.Dd.push(a);var c=this.Dd.length-1;a.Ne(c);var d=this.Ra;d.Ya==d.sd&&this.Hw();d.xC(a.Rb,c);a=a.B;for(c=0;c<a.length;c++)this.appendChild(a[c])},
un:null,eP:function(a){a.Oe(null);var c=this.Dd,d=q.Vx(c,a);if(-1!=d){q.cq(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.Ne(f.bd-1)}}if((a=a.B)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.un(a[c])},fP:function(a){this.Ra.kV(a.bd);a.Oe(null);var c=this.Dd,d=q.Vx(c,a);if(-1!=d){q.cq(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.Ne(f.bd-1)}}if((a=a.B)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.un(a[c])},fa:null,Yz:function(){return this.Km},Zz:function(){return this.Ra.fa()},ma:null,Hr:function(a){this.Km=
a;for(var c=this.B,d=0;d<c.length;d++)c[d].ma(a)},Ir:function(a){this.Ra.ma(a);this.Qm()},Aa:null,Rm:function(a){var c=a||q.Z;if(this.ta){c.save();this.transform(a);var d=this.B;if(d)for(this.de(),a=0;a<d.length;a++)d[a]&&d[a].Aa(c);c.restore()}},Sm:function(a){a=a||q.Z;if(this.ta){q.Lp();var c=this.Kk;c&&c.Ip()&&(c.EB(),this.Jx());this.de();this.transform(a);this.Va(a);c&&c.Ip()&&c.BB(this);q.Kp();this.Sp(0)}},g:null,ez:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";
a instanceof q.A?(c=null==c?a.jb:c,d=null==d?a.xd:d,q.H.prototype.g.call(this,a,c,d),this.appendChild(a),this.ab()):q.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},fz:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";a instanceof q.A?a.fa()!=this.Ra.fa()?q.log("cc.SpriteBatchNode.addChild(): cc.Sprite is not using the same texture"):(c=null==c?a.jb:c,d=null==d?a.xd:d,q.H.prototype.g.call(this,a,c,d),this.appendChild(a),
this.ab()):q.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},fc:null,aP:function(a){var c=this.Dd;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].Oe(null);q.H.prototype.fc.call(this,a);this.Dd=[]},bP:function(a){var c=this.Dd;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].Oe(null);q.H.prototype.fc.call(this,a);this.Dd=[];this.Ra.eV()},de:null,TP:function(){if(this.ue){var a,c=0,d=this.B,e=d.length,f;for(a=1;a<e;a++){var g=d[a],
c=a-1;for(f=d[c];0<=c&&(g.jb<f.jb||g.jb==f.jb&&g.Qf<f.Qf);)d[c+1]=f,c-=1,f=d[c];d[c+1]=g}0<d.length&&this.yg(d,q.H.Lf.de);this.ue=!1}},UP:function(){if(this.ue){var a=this.B,c,d=0,e=a.length,f;for(c=1;c<e;c++){var g=a[c],d=c-1;for(f=a[d];0<=d&&(g.jb<f.jb||g.jb==f.jb&&g.Qf<f.Qf);)a[d+1]=f,d-=1,f=a[d];a[d+1]=g}if(0<a.length)for(this.yg(a,q.H.Lf.de),c=d=0;c<a.length;c++)d=this.KG(a[c],d);this.ue=!1}},Va:null,Bg:function(){0!==this.Ra.Ya&&(this.Lc.sf(),this.Lc.Xg(),this.yg(this.B,q.H.Lf.pg),q.fk(this.na.src,
this.na.Nb),this.Ra.LR())}});
q.Ia.Sc?(b=q.Ab.prototype,b.ctor=q.Ab.prototype.Nh,b.sL=q.Ab.prototype.pQ,b.BI=q.Ab.prototype.yO,b.Pa=q.Ab.prototype.lr,b.appendChild=q.Ab.prototype.zN,b.un=q.Ab.prototype.fP,b.fa=q.Ab.prototype.Zz,b.ma=q.Ab.prototype.Ir,b.Aa=q.Ab.prototype.Sm,b.g=q.Ab.prototype.fz,b.fc=q.Ab.prototype.bP,b.de=q.Ab.prototype.UP,b.Va=q.Ab.prototype.Bg):(b=q.Ab.prototype,b.ctor=q.Ab.prototype.Mh,b.sL=q.Ab.prototype.oQ,b.BI=q.Ab.prototype.xO,b.Pa=q.Ab.prototype.kr,b.appendChild=q.Ab.prototype.yN,b.un=q.Ab.prototype.eP,
b.fa=q.Ab.prototype.Yz,b.ma=q.Ab.prototype.Hr,b.Aa=q.Ab.prototype.Rm,b.fc=q.Ab.prototype.aP,b.g=q.Ab.prototype.ez,b.de=q.Ab.prototype.TP,b.Va=q.H.prototype.Va);q.Ab.create=function(a,c){c=c||q.hq;var d=new q.Ab;d.v(a,c);return d};q.Ab.eb=function(a,c){c=c||q.hq;var d=new q.Ab;d.Pa(a,c);return d};q.rY={oY:0,qY:1,pY:2,nY:3,mY:4};
q.Re=q.La.extend({tr:0,VF:0,Sr:!1,Rr:!1,Rv:!1,Sv:!1,Tv:!1,GO:0,vv:0,tq:"",ak:null,ctor:function(){this.VF=this.tr=0;this.Tv=this.Sv=this.Rv=this.Rr=this.Sr=!1;this.vv=this.GO=0;this.tq="";this.ak={}},j4:function(){return this.tr},i4:function(){return this.VF},k4:function(){return this.vv},kba:function(){return this.Rr},lba:function(){return this.Sr},iba:function(){return this.Rv},jba:function(){return this.Sv},mba:function(){return this.Tv},op:function(a){return-1<this.tq.indexOf(a)},v:function(){var a=
this.ak;a["cocos2d.x.version"]=q.qt;a["cocos2d.x.compiled_with_profiler"]=!1;a["cocos2d.x.compiled_with_gl_state_cache"]=q.qE;return!0},b3:function(a,c){var d=this.ak;return d.hasOwnProperty(a)?d[a]:c},W2:function(a,c){null==c&&(c=!1);var d=this.ak;return d.hasOwnProperty(a)?d[a]:c},s4:function(a,c){null==c&&(c=0);var d=this.ak;return d.hasOwnProperty(a)?d[a]:c},u4:function(a){var c=this.ak;return c.hasOwnProperty(a)?c[a]:null},rW:function(a,c){this.ak[a]=c},PR:function(){0===q.qE&&(q.log(""),q.log("cocos2d: **** WARNING **** CC_ENABLE_PROFILERS is defined. Disable it when you finish profiling (from ccConfig.js)"),
q.log(""))},ZR:function(){if(q.Kd!==q.rg){var a=q.Z,c=this.ak;c["gl.vendor"]=a.getParameter(a.VENDOR);c["gl.renderer"]=a.getParameter(a.RENDERER);c["gl.version"]=a.getParameter(a.VERSION);this.tq="";for(var d=a.getSupportedExtensions(),e=0;e<d.length;e++)this.tq+=d[e]+" ";this.tr=a.getParameter(a.MAX_TEXTURE_SIZE);c["gl.max_texture_size"]=this.tr;this.vv=a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS);c["gl.max_texture_units"]=this.vv;this.Sr=this.op("GL_IMG_texture_compression_pvrtc");c["gl.supports_PVRTC"]=
this.Sr;this.Rr=!1;c["gl.supports_NPOT"]=this.Rr;this.Rv=this.op("GL_IMG_texture_format_BGRA888");c["gl.supports_BGRA8888"]=this.Rv;this.Sv=this.op("GL_EXT_discard_framebuffer");c["gl.supports_discard_framebuffer"]=this.Sv;this.Tv=this.op("vertex_array_object");c["gl.supports_vertex_array_object"]=this.Tv;q.dE()}},K7:function(a){var c=q.Od.f(),d=c.De(a),c=c.vw(d);if(null!=c)if(c=c.data)for(var e in c)this.ak[e]=c[e];else q.log("Expected 'data' dict, but not found. Config file: "+a)}});q.Re.Kr=null;
q.Re.f=function(){q.Re.Kr||(q.Re.Kr=new q.Re,q.Re.Kr.v());return q.Re.Kr};q.Re.a9=function(){q.Re.Kr=null};q.xh=0;q.TL=0;q.nE=1;q.UL=3;q.VL=q.nE;q.wY=0;q.uY=1;q.xY=2;q.vY=3;q.tY=2;q.AY=q.La.extend({Sba:function(){}});q.rE=function(a){var c=new q.Bh;q.IT(q.St,c);var d=new q.Bh;q.IT(q.Rt,d);q.MT(a,c,d)};
q.da=q.La.extend({f0:!1,xr:!1,ym:!1,Hv:!1,Cm:!1,fh:0,nA:0,Wk:0,ao:0,km:1,Oq:!1,Fk:0,$u:0,yk:null,Ak:null,Gk:null,Wb:null,Pj:null,Ni:null,Av:null,mh:null,Ti:null,yA:null,wd:null,pe:0,jB:0,NA:0,R_:null,Hg:null,eh:null,ef:null,iA:null,Bu:null,vr:null,e0:!1,ctor:function(){this.Pj=Date.now();if(!q.yC){var a=this;window.addEventListener("focus",function(){a.Pj=Date.now()},!1)}},kP:function(){this.Pj=Date.now()},v:function(){this.nA=this.fh=1/q.uR;this.Ti=[];this.Wk=q.VL;this.yA=null;this.$u=this.ao=0;
this.Oq=!1;this.jB=this.pe=0;this.Pj=Date.now();this.Hv=this.ym=!1;this.Wb=q.Em();this.mh=null;this.km=1;this.Hg=new q.UM;this.eh=new q.CL;this.Hg.RJ(this.eh,q.Vt,!1);q.qa&&(this.ef=new q.qa,this.ef.v());q.Rn&&(this.iA=q.Rn.f());q.sk&&(this.Bu=new q.sk);q.je&&(this.vr=new q.je,this.vr.v());return!0},PQ:function(){var a=Date.now();this.xr?(this.Fk=0,this.xr=!1):this.Fk=(a-this.Pj)/1E3;0<q.kt&&0.2<this.Fk&&(this.Fk=1/60);this.Pj=a},mR:function(a){var c=new q.Bh;q.rE(c);var d=new q.Bh;q.C7(d,c);var c=
c.Ch[14]/c.Ch[15],e=this.mh.tp();a=new q.Mp(2*a.x/e.width-1,1-2*a.y/e.height,c);c=new q.Mp;q.OT(c,a,d);return q.a(c.x,c.y)},oR:function(a){var c=new q.Bh;q.rE(c);var d=new q.Mp;a=new q.Mp(a.x,a.y,0);q.OT(d,a,c);c=this.mh.tp();return q.a(c.width*(0.5*d.x+0.5),c.height*(0.5*-d.y+0.5))},MR:function(){this.PQ();this.ym||this.Hg.update(this.Fk);this.tF();this.Ni&&this.qW();this.mz&&this.mz();this.wd&&this.wd.Aa();this.Av&&this.Av.Aa();this.Oq&&this.SP();this.iz&&this.iz();this.jB++;this.Oq&&this.GN()},
ON:function(){var a=this.mh.gf;q.Z.clearRect(-a.x,a.y,a.width,-a.height)},VN:function(){var a=q.Z;a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},mz:null,iz:null,BN:function(){q.Lp()},xN:function(){q.Kp()},end:function(){this.Hv=!0},n3:function(){return this.km},r4:function(){return this.Av},b6:function(){return this.Wb},PS:function(){return q.size(this.Wb.width*this.km,this.Wb.height*this.km)},us:function(){return this.mh?this.mh.us():this.Wb},lI:function(){return this.mh?this.mh.lI():q.HM},xs:function(){return this.Wb.height/
1.1566},pause:function(){this.ym||(this.nA=this.fh,this.Ns(0.25),this.ym=!0)},U8:function(){if(!this.wd)throw"running scene should not null";this.Ti.pop();var a=this.Ti.length;0==a?this.end():(this.Cm=!0,this.Ni=this.Ti[a-1])},TC:function(){q.ty.TC()},JU:function(){this.Gf().bt();this.ef&&this.ef.dV();this.wd&&(this.wd.Dh(),this.wd.ce(),this.wd.bg());this.Ni=this.wd=null;this.Ti=[];this.bL();q.ty.TC();q.Ul.KU();q.wg.LU();q.ka.MU();q.dE()},NU:function(a){if(!a)throw"the scene should not null";this.Cm=
!1;this.Ti.push(a);this.Ni=a},MJ:function(a){if(!this.wd)throw"Use runWithScene: instead to start the director";if(!a)throw"the scene should not be null";var c=this.Ti.length;0===c?(this.Cm=!0,this.Ti[c]=a):(this.Cm=!0,this.Ti[c-1]=a);this.Ni=a},OJ:function(){this.ym&&(this.Ns(this.nA),(this.Pj=Date.now())||q.log("cocos2d: Director: Error in gettimeofday"),this.ym=!1,this.Fk=0)},xV:function(a){if(!a)throw"This command can only be used to start the CCDirector. There is already a scene present.";if(this.wd)throw"_runningScene should be null";
this.NU(a);this.$K()},KV:function(a){a?q.fk(q.Qe,q.Pe):q.fk(q.Z.ONE,q.Z.ZERO)},UV:function(a){a!=this.km&&(this.km=a,this.vo())},YV:function(a){if(q.Kd!==q.rg){var c=q.Z;a?(c.clearDepth(1),c.enable(c.DEPTH_TEST),c.depthFunc(c.LEQUAL)):c.disable(c.DEPTH_TEST)}},l$:function(){},iK:function(){this.KV(!0);this.YV(!1);this.mx(this.Wk);q.Z.clearColor(0,0,0,1)},S$:function(a){this.xr=a},qW:function(){var a=!1,c=!1;q.bF&&(a=this.wd?this.wd instanceof q.bF:!1,c=this.Ni?this.Ni instanceof q.bF:!1);if(!c){if(c=
this.wd)c.Dh(),c.ce();this.Cm&&c&&c.bg()}this.wd=this.Ni;this.Ni=null;a||null==this.wd||(this.wd.Sg(),this.wd.pi())},T$:function(a){this.Av=a},nc:function(){return this.yA},lg:function(a){this.yA=a},wW:function(a){this.Wb.CD(q.canvas.width);this.Wb.qD(q.canvas.height);this.mh=a||q.pa.f();q.Kd!==q.rg&&(a=q.Re.f(),a.ZR(),a.PR(),this.vo(),this.iK(),this.ef&&this.ef.ZV(!0))},MK:function(){if(this.mh){var a=this.Wb;this.mh.UW(0,0,a.width,a.height)}},mx:function(a){var c=this.Wb;if(q.Kd===q.xk){this.MK();
switch(a){case q.TL:q.en(q.St);q.EC();var d=new q.Bh;q.NT(d,0,c.width,0,c.height,-1024,1024);q.Pw(d);q.en(q.Rt);q.EC();break;case q.nE:var e=this.xs(),f=new q.Bh,d=new q.Bh;q.en(q.St);q.EC();q.D7(f,60,c.width/c.height,0.1,2*e);q.Pw(f);q.en(q.Rt);q.EC();e=q.Ds(null,c.width/2,c.height/2,e);c=q.Ds(null,c.width/2,c.height/2,0);f=q.Ds(null,0,1,0);q.KT(d,e,c,f);q.Pw(d);break;case q.UL:break;default:q.log("cocos2d: Director: unrecognized projection")}this.Wk=a;q.eaa()}else this.Wk=a},SP:function(){this.pe++;
this.ao+=this.Fk;this.yk&&this.Ak&&this.Gk?(this.ao>q.SL&&(this.Ak.ja(this.NA.toFixed(3)),this.$u=this.pe/this.ao,this.ao=this.pe=0,this.yk.ja(this.$u.toFixed(1)),this.Gk.ja((0|q.xh).toString())),this.yk.Aa(),this.Ak.Aa(),this.Gk.Aa()):this.vo();q.xh=0},j7:function(){return this.Cm},g5:function(){return this.wd},Q2:function(){return this.fh},L6:function(){return this.Oq},p$:function(a){this.Oq=a},l5:function(){return this.NA},F4:function(){return this.mh},W6:function(){return this.xr},a7:function(){return this.ym},
K5:function(){return this.jB},U4:function(){return this.Wk},V8:function(){this.yU(1)},yU:function(a){if(!this.wd)throw"A running Scene is needed";var c=this.Ti,d=c.length;if(0==d)this.end();else if(!(a>d)){for(;d>a;){var e=c.pop();e.$e&&(e.Dh(),e.ce());e.bg();d--}this.Ni=c[c.length-1];this.Cm=!1}},Gf:function(){return this.Hg},JW:function(a){this.Hg!=a&&(this.Hg=a)},cg:function(){return this.eh},IV:function(a){this.eh!=a&&(this.eh=a)},M5:function(){return this.ef},Haa:function(a){this.ef!=a&&(this.ef=
a)},Bw:function(){if(!q.Rn)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";return this.iA},H$:function(a){if(!q.Rn)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";this.iA=a},sp:function(){if(!q.sk)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";return this.Bu},U9:function(a){if(!q.sk)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";this.Bu!=
a&&(this.Bu=a)},x3:function(){return this.Fk},Ff:function(){if(!q.je)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";return this.vr},Q$:function(a){if(!q.je)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.vr!=a&&(this.vr=a)},vo:null,YN:function(){if(!q.sy)return this.wF();if(null!=q.da.CF&&!1!=q.da.CF){var a=new q.cc;a.lf(q.da.Qz);a.$d();var c=q.pa.f().tp().height/320;0===c&&(c=this.Wb.height/320);var d=new q.sy;
d.PA(!0);d.ol("00.0",a,12,32,".");d.pk(c);this.yk=d;d=new q.sy;d.PA(!0);d.ol("0.000",a,12,32,".");d.pk(c);this.Ak=d;d=new q.sy;d.PA(!0);d.ol("000",a,12,32,".");d.pk(c);this.Gk=d;a=q.oE;this.Gk.o(q.Ug(q.a(0,34*c),a));this.Ak.o(q.Ug(q.a(0,17*c),a));this.yk.o(a)}},wF:function(){var a=0,a=this.Wb.width>this.Wb.height?0|this.Wb.height/320*24:0|this.Wb.width/320*24;this.yk=q.V.create("000.0","Arial",a);this.Ak=q.V.create("0.000","Arial",a);this.Gk=q.V.create("0000","Arial",a);var a=q.oE,c=this.Gk.c();this.Gk.o(q.Ug(q.a(c.width/
2,5*c.height/2),a));c=this.Ak.c();this.Ak.o(q.Ug(q.a(c.width/2,3*c.height/2),a));c=this.yk.c();this.yk.o(q.Ug(q.a(c.width/2,c.height/2),a))},GN:function(){this.NA=(Date.now()-this.Pj)/1E3}});q.Ia.Sc?(q.da.prototype.tF=q.da.prototype.VN,q.da.prototype.mz=q.da.prototype.BN,q.da.prototype.iz=q.da.prototype.xN,q.da.prototype.vo=q.da.prototype.YN):(q.da.prototype.tF=q.da.prototype.ON,q.da.prototype.vo=q.da.prototype.wF);
q.WL=q.da.extend({invalid:!1,$K:function(){this.xr=!0;this.invalid=!1;q.sj.f().Ns(this.fh)},cJ:function(){this.Hv?(this.Hv=!1,this.JU()):this.invalid||this.MR()},bL:function(){this.invalid=!0},Ns:function(a){this.fh=a;this.invalid||(this.bL(),this.$K())}});q.dx=null;q.JH=!0;q.da.f=function(){q.JH&&(q.JH=!1,q.dx=new q.WL,q.dx.v(),q.dx.wW(q.pa.f()));return q.dx};Object.defineProperties(q,{fca:{get:function(){return q.FR.Wb},enumerable:!0,configurable:!0}});q.F2=!0;q.uR=60;q.da.Qz=new Image;
q.da.Qz.addEventListener("load",function(){q.da.CF=!0;this.removeEventListener("load",arguments.callee,!1)});q.da.Qz.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAAgCAYAAAD9qabkAAAKQ2lDQ1BJQ0MgcHJvZmlsZQAAeNqdU3dYk/cWPt/3ZQ9WQtjwsZdsgQAiI6wIyBBZohCSAGGEEBJAxYWIClYUFRGcSFXEgtUKSJ2I4qAouGdBiohai1VcOO4f3Ke1fXrv7e371/u855zn/M55zw+AERImkeaiagA5UoU8Otgfj09IxMm9gAIVSOAEIBDmy8JnBcUAAPADeXh+dLA//AGvbwACAHDVLiQSx+H/g7pQJlcAIJEA4CIS5wsBkFIAyC5UyBQAyBgAsFOzZAoAlAAAbHl8QiIAqg0A7PRJPgUA2KmT3BcA2KIcqQgAjQEAmShHJAJAuwBgVYFSLALAwgCgrEAiLgTArgGAWbYyRwKAvQUAdo5YkA9AYACAmUIszAAgOAIAQx4TzQMgTAOgMNK/4KlfcIW4SAEAwMuVzZdL0jMUuJXQGnfy8ODiIeLCbLFCYRcpEGYJ5CKcl5sjE0jnA0zODAAAGvnRwf44P5Dn5uTh5mbnbO/0xaL+a/BvIj4h8d/+vIwCBAAQTs/v2l/l5dYDcMcBsHW/a6lbANpWAGjf+V0z2wmgWgrQevmLeTj8QB6eoVDIPB0cCgsL7SViob0w44s+/zPhb+CLfvb8QB7+23rwAHGaQJmtwKOD/XFhbnauUo7nywRCMW735yP+x4V//Y4p0eI0sVwsFYrxWIm4UCJNx3m5UpFEIcmV4hLpfzLxH5b9CZN3DQCshk/ATrYHtctswH7uAQKLDljSdgBAfvMtjBoLkQAQZzQyefcAAJO/+Y9AKwEAzZek4wAAvOgYXKiUF0zGCAAARKCBKrBBBwzBFKzADpzBHbzAFwJhBkRADCTAPBBCBuSAHAqhGJZBGVTAOtgEtbADGqARmuEQtMExOA3n4BJcgetwFwZgGJ7CGLyGCQRByAgTYSE6iBFijtgizggXmY4EImFINJKApCDpiBRRIsXIcqQCqUJqkV1II/ItchQ5jVxA+pDbyCAyivyKvEcxlIGyUQPUAnVAuagfGorGoHPRdDQPXYCWomvRGrQePYC2oqfRS+h1dAB9io5jgNExDmaM2WFcjIdFYIlYGibHFmPlWDVWjzVjHVg3dhUbwJ5h7wgkAouAE+wIXoQQwmyCkJBHWExYQ6gl7CO0EroIVwmDhDHCJyKTqE+0JXoS+cR4YjqxkFhGrCbuIR4hniVeJw4TX5NIJA7JkuROCiElkDJJC0lrSNtILaRTpD7SEGmcTCbrkG3J3uQIsoCsIJeRt5APkE+S+8nD5LcUOsWI4kwJoiRSpJQSSjVlP+UEpZ8yQpmgqlHNqZ7UCKqIOp9aSW2gdlAvU4epEzR1miXNmxZDy6Qto9XQmmlnafdoL+l0ugndgx5Fl9CX0mvoB+nn6YP0dwwNhg2Dx0hiKBlrGXsZpxi3GS+ZTKYF05eZyFQw1zIbmWeYD5hvVVgq9ip8FZHKEpU6lVaVfpXnqlRVc1U/1XmqC1SrVQ+rXlZ9pkZVs1DjqQnUFqvVqR1Vu6k2rs5Sd1KPUM9RX6O+X/2C+mMNsoaFRqCGSKNUY7fGGY0hFsYyZfFYQtZyVgPrLGuYTWJbsvnsTHYF+xt2L3tMU0NzqmasZpFmneZxzQEOxrHg8DnZnErOIc4NznstAy0/LbHWaq1mrX6tN9p62r7aYu1y7Rbt69rvdXCdQJ0snfU6bTr3dQm6NrpRuoW623XP6j7TY+t56Qn1yvUO6d3RR/Vt9KP1F+rv1u/RHzcwNAg2kBlsMThj8MyQY+hrmGm40fCE4agRy2i6kcRoo9FJoye4Ju6HZ+M1eBc+ZqxvHGKsNN5l3Gs8YWJpMtukxKTF5L4pzZRrmma60bTTdMzMyCzcrNisyeyOOdWca55hvtm82/yNhaVFnMVKizaLx5balnzLBZZNlvesmFY+VnlW9VbXrEnWXOss623WV2xQG1ebDJs6m8u2qK2brcR2m23fFOIUjynSKfVTbtox7PzsCuya7AbtOfZh9iX2bfbPHcwcEh3WO3Q7fHJ0dcx2bHC866ThNMOpxKnD6VdnG2ehc53zNRemS5DLEpd2lxdTbaeKp26fesuV5RruutK10/Wjm7ub3K3ZbdTdzD3Ffav7TS6bG8ldwz3vQfTw91jicczjnaebp8LzkOcvXnZeWV77vR5Ps5wmntYwbcjbxFvgvct7YDo+PWX6zukDPsY+Ap96n4e+pr4i3z2+I37Wfpl+B/ye+zv6y/2P+L/hefIW8U4FYAHBAeUBvYEagbMDawMfBJkEpQc1BY0FuwYvDD4VQgwJDVkfcpNvwBfyG/ljM9xnLJrRFcoInRVaG/owzCZMHtYRjobPCN8Qfm+m+UzpzLYIiOBHbIi4H2kZmRf5fRQpKjKqLupRtFN0cXT3LNas5Fn7Z72O8Y+pjLk722q2cnZnrGpsUmxj7Ju4gLiquIF4h/hF8ZcSdBMkCe2J5MTYxD2J43MC52yaM5zkmlSWdGOu5dyiuRfm6c7Lnnc8WTVZkHw4hZgSl7I/5YMgQlAvGE/lp25NHRPyhJuFT0W+oo2iUbG3uEo8kuadVpX2ON07fUP6aIZPRnXGMwlPUit5kRmSuSPzTVZE1t6sz9lx2S05lJyUnKNSDWmWtCvXMLcot09mKyuTDeR55m3KG5OHyvfkI/lz89sVbIVM0aO0Uq5QDhZML6greFsYW3i4SL1IWtQz32b+6vkjC4IWfL2QsFC4sLPYuHhZ8eAiv0W7FiOLUxd3LjFdUrpkeGnw0n3LaMuylv1Q4lhSVfJqedzyjlKD0qWlQyuCVzSVqZTJy26u9Fq5YxVhlWRV72qX1VtWfyoXlV+scKyorviwRrjm4ldOX9V89Xlt2treSrfK7etI66Trbqz3Wb+vSr1qQdXQhvANrRvxjeUbX21K3nShemr1js20zcrNAzVhNe1bzLas2/KhNqP2ep1/XctW/a2rt77ZJtrWv913e/MOgx0VO97vlOy8tSt4V2u9RX31btLugt2PGmIbur/mft24R3dPxZ6Pe6V7B/ZF7+tqdG9s3K+/v7IJbVI2jR5IOnDlm4Bv2pvtmne1cFoqDsJB5cEn36Z8e+NQ6KHOw9zDzd+Zf7f1COtIeSvSOr91rC2jbaA9ob3v6IyjnR1eHUe+t/9+7zHjY3XHNY9XnqCdKD3x+eSCk+OnZKeenU4/PdSZ3Hn3TPyZa11RXb1nQ8+ePxd07ky3X/fJ897nj13wvHD0Ivdi2yW3S609rj1HfnD94UivW2/rZffL7Vc8rnT0Tes70e/Tf/pqwNVz1/jXLl2feb3vxuwbt24m3Ry4Jbr1+Hb27Rd3Cu5M3F16j3iv/L7a/eoH+g/qf7T+sWXAbeD4YMBgz8NZD+8OCYee/pT/04fh0kfMR9UjRiONj50fHxsNGr3yZM6T4aeypxPPyn5W/3nrc6vn3/3i+0vPWPzY8Av5i8+/rnmp83Lvq6mvOscjxx+8znk98ab8rc7bfe+477rfx70fmSj8QP5Q89H6Y8en0E/3Pud8/vwv94Tz+4A5JREAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfcAgcQLxxUBNp/AAAQZ0lEQVR42u2be3QVVZbGv1N17829eRLyIKAEOiISEtPhJTJAYuyBDmhWjAEx4iAGBhxA4wABbVAMWUAeykMCM+HRTcBRWkNH2l5moS0LCCrQTkYeQWBQSCAIgYRXEpKbW/XNH5zS4noR7faPEeu31l0h4dSpvc+t/Z199jkFWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhY/H9D/MR9qfKnLj/00U71aqfJn9+HCkCR/Wk36ddsgyJ/1wF4fkDfqqm9/gPsUeTnVr6a2xlQfnxdI7zs0W7irzD17Ytb2WT7EeNv/r4ox1O3Quf2QP2pgt9utwfout4FQE8AVBSlnaRmfvAURQkg2RlAbwB9AThlW5L0GaiKojhJhgOIBqDa7XaPrusdPtr5kQwF0BVAAoBIABRCKDd5aFUhRDAAw57eAOwAhKIoupft3zoqhB1AqLwuHIBut9uFt02qqvqRDJR2dAEQJj/BAOjn56dqmma+xiaECAEQAWAggLsB6A6HQ2iaZggBhBAqgEAAnQB0kzaEmT4hAITT6VQ8Ho/HJAKKECJQtr8LwD1y/A1/vcdfEUIEyfZ9AcQbYvZ942Px88L2UwlJR0dH0EMPPbRj5syZPUeNGrXR7Xb/641xIwJ1XY9NSUlZm52dfW+XLl1w8uRJzJ8//+OGhoYJqqqe1TSt1Wsm9NN1PSIqKmr12rVrR5WUlHy1bdu2AQCumWc3IYRD1/UwVVXnFRQUTIuNjUVzczN2797dWFJSkq8oymZd15sAGAEnFEUJ1nX9nzIzM1dnZmZGh4SE4OTJk5g5c+Zf29vbp9pstrMej6fVOyhIhgAYU1hY+B+hoaGoqKg4XVlZea+XTULTNFdCQsLGiRMnPuR2u3UhBOV9eeDAAWXTpk095DUe6WsoyRE5OTlr0tLSAux2O/bs2cO5c+e+pijKUpIXSHaQVAGkvPLKK++6XK4OksJLCFlXV2cvKSlJBFAjhU+x2WwhHo9nUHp6+urMzMy7wsLCUF9fjxdffPHjxsbGiTab7WuPx9NiEutOuq4PyMjI+M+srKyYqKgoHD58GDNmzNjq8XhyVFU9b/q+LH7hBAEYu3PnTlZVVRFAGgCX6f/tAHoOHDjwa0p27txp/JO9e/f+QM7cipw9nfL3kQBKt2zZQpJ87rnn6mQmoHilw2EACs+cOUOSrK+vZ1NTE0nyo48+IoBpxswoBcMJ4Ndjx471kOTFixe5d+9ekqTH42H//v13A4jyzpAURfEH0H/OnDnthu1z5sw558MmFUCPWbNmnaMP3nrrLZoyDmP8Hl68eDFJ8siRI9/Yc+zYMQKYKdtAztrTrl27xptRXV1NAKMAOAyBBBA/Y8aMdpLs6Ojgxx9//E37+++//29yvFXppwvAwMcee8xjtDHsuXLlCqOjo//ia3wsfpkoALqFhoZuIckJEyackimm3dQmEMDUmpoakmRISMhhAHOHDx/eQJIbN24kgKEyMAHAFRMTs2XXrl1saWkhSZ0kp0+ffhrAr3wEW/S8efOukORLL72kA1gKYMPWrVtJkk899dRJAHeYrgsEsIQkjx8/TgDvAPjd448/3kaSb7zxBmUa7vC6z53BwcFbSHL9+vU6Sc6aNes8gF5ewWAH0PfVV18lSQL4DMBGIcQ6AKtcLleBFC2jXtFt8ODBe0iyoqKCAJYByC8qKmJDQwOzsrK+MAmqo1OnTveHhoa+GRkZ+XZkZOSWiIiIvzgcjk9mzpypkWRmZuZpmbYbGV4AgPnNzc1sa2sjgN0A5iQmJtaSZHl5OQHcb/K3s81mW0uSTU1NBFAFYFbfvn1Pk+Tbb79NAA8IIVzW42/hByA+Pz/fLR/2ZXIda05NI/z9/TeR5J49ewhgqlxTrtI0jY2NjQQw3zTLuWJiYjaUlJToS5Ys6fjkk080kwDEeAmADcA9GzZsIElGRUW9CyAWwLApU6Y0kOSKFSsog9QICGdERMTGsrIyZmVlEcC9AB4IDw/fTpLbtm0jgN94CUAnAJmVlZVcs2aNZ/LkyRdJcvbs2b4EwAkgZfPmzTxw4AABFAN4BkC6vFeUSewcAO5duXIlSTIhIaEawGMAxgKYAmAGgCS73e5vrKVk/yGythANYEhCQsIhkly+fDkBpKqqGmL6DgIALDKN/3yZpVWQZGVlJQE8aPI3KiMjo5okV61aRQAjAPQBMPfIkSN0u90EUCBtsPiFEwpgbn19PdetW2fM5N4zQ9ekpKQqkty0aRMBpMjiWM6JEydIkoqirJUFJ6iq6pAPVy8A6cZMehMBUACEuVyuFwG8HBwcPEIWx367ZMkSjSQXLVrUJouTRorrkAHdA8BdQogsAOsKCwtJkmPGjDkvMw2bDDo/ADEjRoz4XylyFbm5uY0mAbjLyyZ/AOOrq6tZVlbWsWDBgo69e/eyoqKCgwcPPg4gSQaoIRbp27dvN7KF+tLSUr28vJwFBQXtMpvpYRIM7+wrAkDeqVOnePbsWQIoNKfzpiXPg8uXLydJJicnNwF4f+nSpW6STEtLq5fjYwhk1wkTJtSQ5Ouvv04AqTKj+N2xY8dIkgEBAW/Ie1v8wncRegwZMmQvSfbr12+3Ua33WqPfOWbMmP0kWVpaSgCDZAqcfejQIWNZsEGKgvnh9gfQb9myZd8nAEJVVZtMkUNk8CcNHTq0liR1XWdYWNhmH1mJIme80OnTp18x1rp5eXkEsNJms92Fb7e/IgEsvHz5Mp999tkmAI/l5uZeMC0B7vEqqAYAyL106RJJsra2lpWVld+sucePH38ZQG+5NncBeOrgwYMkqbe3t/Po0aOsra011wAWyl0H7x0JJ4DE+fPnu0kyPT29DsDdUrBuyNKEEAkAdpw/f/6GeoEM8GUmfwEgPCIiopwkGxsbabPZPgOw6L777vvm4p49e26VGYjFLxUhhD+ApLKyMp44ccIoVnXybgbgzkcfffRzklyzZg0BDJYCMMmoCwQFBXkLgLGWvvcWAgBToSsKwNPTp09vMR7UuLi4rwH0lgU8c/Db5ezbeeTIkRWzZ8++aMxu+fn5BPCADBwHgP4LFy701NXVEUAJgAnPP/98kyxMNgHo53A4zH77BQQETMvPz7+Um5vbBuAlAFMSExPPmdbVL0qh8Acw8fDhw5SCchVAEYAVb775JknyhRdeaJYztHfxMwLAaqNwCGC2FArv8x0hAHKNLGPKlCme5OTk/Zs3bzb7O0wKiiG8KXl5ed8IxenTp0mSR48e1UmyW7duWywBuD2xyQcgFECgoih+8H1gyJgZV5Lkyy+/3CbTRIePtl2HDBmyw1QBHyGDdXZdXR1JUghRKkXBjOMHCoBdpr0L3nvvPZLkF198wejo6O0A4lVVDTb74HQ6AwD8Wq7Jh8rgGgDgQ13XjVR8qaxJuADMbmlpYXl5uV5UVNRWUFDgfv/993Vj/ZydnU1c37eHXML4S3viAcQqitJD2l104cIFY8lTKsXSBWBMVVWVcd9yed2A1NTUQ6Zl00CvLMMOoHdubm6zFIlWOf5+PsY/Kj09vdrU11QAwwGsv3jxIk21m2DZr10I0RXAuAcffPBgaWkpV69eTYfDcdiwUxY0w6xw+flX8L1xApjevXv3lREREaW6rofB93aPDUDQpEmTMgHgtddeqwBwEd/utZvpqK6uPgEAcXFxkA94NwB9unfvjrNnz4LklwDcf08iIqv66Zs2bXrl4YcfxooVKxAbG7uqrq5uAYA2TdOEqqpGYIi2tjbl6aeffu/YsWPv5uTk7JaC1wHg4Pnz542MwoVvTx+21dbWYvjw4WLixIl+2dnZ9lGjRgmSTE1NRUpKCkwFTGiaxtTU1OXTpk3707Bhw/6g67pDipnT4biuj7qut+Lbk3Vf1tTUXI9qu91Pjq1QFEUBgJaWFgBo8yGOQ8eNGxcAAOvXr/8QwBUfYygAKL169eoCABcuXACAWtn2hOGv0+kMNO1KiPDw8F4A4rZv3/7R1KlTR0+bNu1ht9u9r1+/fqitrQXJgwDarRC6/QjPzs4+QJIffPCB9/aQmSAA43ft2mW0e1QGoi8CAPyLsZccExNTC2BlRkbGRdOyYJCP2csBIN6UAZzCd7cBbQCijYp/dXU1ExMTz6SmptaMHj36f9LS0vYlJCRsl6mxIWSdu3fv/g5J7t+/nwC2AShMTk6+SJKff/45AWRLYbD7+fndAeDf5BJnLoCCyZMnt5JkdnZ2C4B/F0KEm1Pu+Pj4rST55ZdfEsBWAK+mpaVdMo3raDn7KwDuSEpK+m+S3LBhAwG8DuCtHTt2UBbpjgC408vvcFVV15HkuXPnjMp+p5uMf0RcXNyHJNnQ0EBVVfcCWBQXF3fG+Jv0yxABPwB5LS0tRmFxN4BlTzzxxGWSXLx4sS5F3GGFy+1Hp5SUlJq6ujoWFxdTpsZ2H+0iIyMj/0iSWVlZX5mr5jfJFroPGzasxlhTnjp1iiTZ3NxMl8tlrCd9pfa9SkpKSJI5OTmnZOageLUZZqxvfVFWVkZcPwdgNwnSCKPqb17jkmR8fPzfZMDZ5CRsFBmNI7h95s2b1yhT7/MAYmStwCx4vy0uLqa3v5qmEcCfvSr1QQAeXb16NY3Cm3HQ55133iGAp+SxZTNhKSkpfzUddkrFjYevzAQCeGjp0qXfsYckY2NjTwD4leGDLCL2HTdunNtoY+zWSHFcIHdsFCtcfuZ1vO9Eqs3m7/F47sb1k2qX/f3997W2tl7BjWfpBYDOzzzzzIVJkyZh0KBBCwEsB3AJvl9AETabLcDj8dwRFRW1ctasWb8JCgpSzp07d62wsPC/Wltb8xRFadR1/ZqPXYbgAQMGbI2Pjw/+6quv9ldVVT0r01ezuPRJSUn5Y9euXXVd11WzDaqq6kePHm3+7LPPRgO4KlNuxWazhXo8nuTk5OSXMjIyEl0uFxoaGtqKior+dPXq1VdUVT0jj7r68ieoT58+vx8yZMjdx48fP1JVVTVF9m20VW02WyfZf97YsWPjXS4X6urqWvPy8jYCWCyEuEDS8FdVFKWzruv//OSTTy5OTk7uqWkaPv3007qysrJ8RVH+LI8ym8/rB3Tu3HnRI488knLo0KG2ffv2ZQI4C98vP6mqqoZqmpaclpa2cOTIkX39/f3R0NDQUVxc/G5TU9PLqqrWa5rWLH1QVFUN0TStX1JSUvH48eP7BwYG4uDBg1cKCgpeBbBe2u+2Qug2EwD5N5sMPuNtMe8XP4TT6Qxoa2sbIGeXvUKIK7d4IISiKC5d1wPljOfA9bPwzYqiXNV13dd6Uqiq6qdpml2mpe02m63d4/G4vcTF5fF47LJf71nJA6BZVVW3pmntuPHlmAD5wk6Q9NnbHp9vHaqq6tA0zU/64PZhk1FfCZB9G/23ALiqKEqzD39tpvbGUqoFwFUhRLP3yzpCCDtJpxyXDulfG27+pqRR3DXsUWVd4Yq0x/taVQjhIhksC8L+ABpM9ljBf5sKwI8pIBr75L5E4vvu+UNeG/a+hv+AL7yFH8qPtOfHjtOP6V/Bja8D6z/B2Nys/1u9Xv33tLf4GfF/LC4GCJwByWIAAAAASUVORK5CYII\x3d";q.fq=q.La.extend({br:null,cr:null,dr:null,qo:null,ro:null,so:null,bs:null,cs:null,ds:null,Ma:null,rv:null,ctor:function(){this.rv=new q.Bh;this.restore()},description:function(){return"\x3cCCCamera | center \x3d("+this.qo+","+this.ro+","+this.so+")\x3e"},Vg:function(a){this.Ma=a},JI:function(){return this.Ma},restore:function(){this.br=this.cr=0;this.dr=q.fq.xs();this.bs=this.qo=this.ro=this.so=0;this.cs=1;this.ds=0;q.B7(this.rv);this.Ma=!1},ZI:function(){if(this.Ma){var a=new q.Mp,c=new q.Mp,d=new q.Mp;
q.Ds(a,this.br,this.cr,this.dr);q.Ds(c,this.qo,this.ro,this.so);q.Ds(d,this.bs,this.cs,this.ds);q.KT(this.rv,a,c,d);this.Ma=!1}q.Pw(this.rv)},u$:function(a,c,d){this.fK(a,c,d)},fK:function(a,c,d){this.br=a;this.cr=c;this.dr=d;this.Ma=!0},d$:function(a,c,d){this.QV(a,c,d)},QV:function(a,c,d){this.qo=a;this.ro=c;this.so=d;this.Ma=!0},Iaa:function(a,c,d){this.SW(a,c,d)},SW:function(a,c,d){this.bs=a;this.cs=c;this.ds=d;this.Ma=!0},G3:function(){return{x:this.br,y:this.cr,z:this.dr}},VH:function(){return{x:this.br,
y:this.cr,z:this.dr}},e3:function(){return{x:this.qo,y:this.ro,z:this.so}},TH:function(){return{x:this.qo,y:this.ro,z:this.so}},Q5:function(){return{x:this.bs,y:this.cs,z:this.ds}},NS:function(){return{x:this.bs,y:this.cs,z:this.ds}},F_:function(){}});q.fq.xs=function(){return q.Lt};q.Vt=-2147483648;q.zZ=q.Vt+1;q.ht=function(a,c){if(a&&0<a.length)for(var d=0;d<a.length;d++)if(!(a[d]instanceof c)){q.log("element type is wrong!");break}};q.cq=function(a,c){a.splice(c,1)};q.fe=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c){a.splice(d,1);break}};q.dY=function(a,c){for(var d=0,e=c.length;d<e;d++)q.fe(a,c[d])};q.cY=function(a,c){return a.indexOf(c)};q.aY=function(a,c){a.push(c)};q.Vl=function(a,c,d){a.splice(d,0,c);return a};
q.bY=function(a,c,d){a.splice.apply(a,[d,0].concat(c));return a};q.Vx=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c)return d;return-1};q.Tx=function(a,c){return-1!=a.indexOf(c)};q.UY=function(a,c){if(null==a)return null;for(var d=0;d<a.length;d++)if(a[d].target===c)return a[d];return null};q.wE=function(a,c,d){this.next=null;this.target=a;this.BJ=c;this.paused=d;this.wl=!1};q.sE=function(a,c,d){this.list=a;this.an=c;this.target=d;this.hh=null};
q.fM=function(a,c){this.og=null;this.target=a;this.Yp=0;this.ls=this.ks=null;this.paused=c;this.hh=null};
q.lu=q.La.extend({Oj:0,Uf:null,X:null,mc:0,mG:!1,iw:!1,fp:0,GA:0,Tu:0,ctor:function(){},b4:function(){return this.Oj},setInterval:function(){},m5:function(){return this.Uf},Og:function(a,c,d,e,f){this.X=a;this.Uf=c;this.mc=-1;this.Oj=d||0;this.Tu=f||0;this.iw=0<this.Tu;this.GA=null==e?q.$l:e;this.mG=this.GA==q.$l;return!0},pz:function(){if("string"==typeof this.Uf)this.X[this.Uf](this.mc);else this.Uf.call(this.X,this.mc)},update:function(a){if(-1==this.mc)this.fp=this.mc=0;else{var c=this.X,d=this.Uf;
this.mG&&!this.iw?(this.mc+=a,this.mc>=this.Oj&&(c&&d&&this.pz(),this.mc=0)):(this.mc+=a,this.iw?this.mc>=this.Tu&&(c&&d&&this.pz(),this.mc-=this.Tu,this.fp+=1,this.iw=!1):this.mc>=this.Oj&&(c&&d&&this.pz(),this.mc=0,this.fp+=1),this.fp>this.GA&&q.da.f().Gf().mL(c,d))}}});q.lu.Fba=function(a,c,d){if(2>arguments.length)throw Error("timerWithTarget'argument can't is null");var e=new q.lu;e.Og(a,c,d||0,q.$l,0);return e};q.s0=null;
q.UM=q.La.extend({Vr:1,vh:null,ci:null,Kg:null,Lj:null,Eu:null,Kj:null,N_:null,uf:null,Gi:!1,fw:!1,ctor:function(){this.Vr=1;this.vh=[];this.ci=[];this.Kg=[];this.Lj={};this.Eu=[];this.Kj={};this.Bk=[];this.uf=null;this.fw=this.Gi=!1},FA:function(a){delete this.Kj[a.target.lc];q.fe(this.Bk,a);a.lu=null;a.target=null},T_:function(a,c){for(var d=0;d<a.length;d++)if(a[d].target==c)return a[d];return null},Jv:function(a){if(a=this.Lj[a.target.lc])q.fe(a.list,a.an),delete this.Lj[a.target.lc],q.fe(this.Eu,
a),a.an=null,a.target=null},fG:function(a,c,d,e){e=new q.wE(c,d,e);if(a){for(var f=!1,g=0;g<a.length;g++)if(d<a[g].BJ){a=q.Vl(a,e,g);f=!0;break}f||a.push(e)}else a=[],a.push(e);d=new q.sE(a,e,c);this.Eu.push(d);this.Lj[c.lc]=d;return a},AN:function(a,c,d){d=new q.wE(c,0,d);a.push(d);a=new q.sE(a,d,c);this.Eu.push(a);this.Lj[c.lc]=a},Caa:function(a){this.Vr=a},F5:function(){return this.Vr},update:function(a){this.fw=!0;1!=this.Vr&&(a*=this.Vr);var c,d;for(d=0;d<this.vh.length;d++)c=this.vh[d],c.paused||
c.wl||c.target.update(a);for(d=0;d<this.ci.length;d++)c=this.ci[d],c.paused||c.wl||c.target.update(a);for(d=0;d<this.Kg.length;d++)c=this.Kg[d],c.paused||c.wl||c.target.update(a);for(d=0;d<this.Bk.length;d++){c=this.uf=this.Bk[d];this.Gi=!1;if(!this.uf.paused)for(c.Yp=0;c.Yp<c.og.length;c.Yp++)c.ks=c.og[c.Yp],c.ls=!1,c.ks.update(a),c.ks=null;this.Gi&&0==this.uf.og.length&&this.FA(this.uf)}for(d=0;d<this.vh.length;d++)this.vh[d].wl&&this.Jv(this.vh[d]);for(d=0;d<this.ci.length;d++)this.ci[d].wl&&this.Jv(this.ci[d]);
for(d=0;d<this.Kg.length;d++)this.Kg[d].wl&&this.Jv(this.Kg[d]);this.fw=!1;this.uf=null},AV:function(a,c,d,e,f,g){if(!c)throw"cc.scheduler.scheduleCallbackForTarget(): callback_fn should be non-null.";if(!a)throw"cc.scheduler.scheduleCallbackForTarget(): target should be non-null.";d=d||0;e=null==e?q.$l:e;f=f||0;g=g||!1;var h=this.Kj[a.lc];h||(h=new q.fM(a,g),this.Bk.push(h),this.Kj[a.lc]=h);if(null==h.og)h.og=[];else for(var k=0;k<h.og.length;k++)if(g=h.og[k],c==g.Uf){q.log("CCSheduler#scheduleCallback. Callback already scheduled. Updating interval from:"+
g.Oj.toFixed(4)+" to "+d.toFixed(4));g.Oj=d;return}g=new q.lu;g.Og(a,c,d,e,f);h.og.push(g)},RJ:function(a,c,d){var e=this.Lj[a.lc];e?e.an.wl=!1:0==c?this.AN(this.ci,a,d):0>c?this.vh=this.fG(this.vh,a,c,d):this.Kg=this.fG(this.Kg,a,c,d)},mL:function(a,c){if(null!=a&&null!=c){var d=this.Kj[a.lc];if(null!=d)for(var e=0;e<d.og.length;e++){var f=d.og[e];if(c==f.Uf){f!=d.ks||d.ls||(d.ls=!0);q.cq(d.og,e);d.Yp>=e&&d.Yp--;0==d.og.length&&(this.uf==d?this.Gi=!0:this.FA(d));break}}}},Zp:function(a){null!=a&&
(a=this.Lj[a.lc],null!=a&&(this.fw?a.an.wl=!0:this.Jv(a.an)))},lL:function(a){if(null!=a){var c=this.Kj[a.lc];c&&(!c.ls&&q.Tx(c.og,c.ks)&&(c.ls=!0),c.og.length=0,this.uf==c?this.Gi=!0:this.FA(c));this.Zp(a)}},bt:function(){this.yX(q.Vt)},yX:function(a){var c;for(c=0;c<this.Bk.length;c++)this.lL(this.Bk[c].target);if(0>a)for(c=0;c<this.vh.length;c++)this.Zp(this.vh[c].target);if(0>=a)for(c=0;c<this.ci.length;c++)this.Zp(this.ci[c].target);for(c=0;c<this.Kg.length;c++)this.Kg[c].BJ>=a&&this.Zp(this.Kg[c].target)},
R8:function(){return this.rU(q.Vt)},rU:function(a){var c=[],d,e;for(d=0;d<this.Bk.length;d++)if(e=this.Bk[d])e.paused=!0,c.push(e.target);if(0>a)for(d=0;d<this.vh.length;d++)if(e=this.vh[d])e.paused=!0,c.push(e.target);if(0>=a)for(d=0;d<this.ci.length;d++)if(e=this.ci[d])e.paused=!0,c.push(e.target);for(d=0;d<this.Kg.length;d++)if(e=this.Kg[d])e.paused=!0,c.push(e.target);return c},uV:function(a){if(a)for(var c=0;c<a.length;c++)this.vn(a[c])},Js:function(a){if(!a)throw"cc.Scheduler.pauseTarget():target should be non-null";
var c=this.Kj[a.lc];c&&(c.paused=!0);if(a=this.Lj[a.lc])a.an.paused=!0},vn:function(a){if(!a)throw"cc.Scheduler.resumeTarget():target should be non-null";var c=this.Kj[a.lc];c&&(c.paused=!1);if(a=this.Lj[a.lc])a.an.paused=!1},m7:function(a){if(!a)throw"cc.Scheduler.isTargetPaused():target should be non-null";return(a=this.Kj[a.lc])?a.paused:!1}});q.Ey={IMAGE:["png","jpg","bmp","jpeg","gif"],SOUND:["mp3","ogg","wav","mp4","m4a"],XML:["plist","xml","fnt","tmx","tsx"],BINARY:["ccbi"],FONT:"FONT",TEXT:["txt","vsh","fsh","json","ExportJson"],UNKNOW:[]};
q.Ob=q.La.extend({wo:0,Yr:0,sr:0,zm:null,fh:1/60,Oj:null,OF:!1,ctor:function(){this.zm=[]},Mw:function(a,c,d){if(a){c&&(this.Uf=c,this.X=d);if(a!=this.zm||0==this.wo){this.sr=this.wo=0;if(a[0]instanceof Array)for(c=0;c<a.length;c++)this.zm=this.zm.concat(a[c]);else this.zm=a;this.Yr=this.zm.length}this.oP()}else console.log("resources should not null")},MV:function(a){this.OF=a},yl:function(a){this.sr++;q.log("cocos2d:Failed loading resource: "+a)},hg:function(){this.sr++},Cw:function(){var a=0;return a=
0==this.Yr?100:0|this.sr/this.Yr*100},aV:function(a){if(a&&0<a.length)for(var c=q.ka.f(),d=q.Fh?q.Fh.f():null,e=q.vk.f(),f=q.Od.f(),g,h=0;h<a.length;h++){g=a[h];var k=this.FF(g);switch(k){case "IMAGE":c.mV(g.src);break;case "SOUND":if(!d)throw"Can not find AudioEngine! Install it, please.";d.Mba(g.src);break;case "XML":e.wX(g.src);break;case "BINARY":f.vX(g.src);break;case "TEXT":f.xX(g.src);break;case "FONT":break;default:throw"cocos2d:unknown filename extension: "+k;}}},VO:function(){this.gw();
if(this.OF){var a=q.da.f().$u;if(null!=a&&20>a){q.log("cocos2d: frame rate less than 20 fps, skip frame.");return}}this.wo<this.Yr&&(this.DO(),this.wo++)},DO:function(){var a=q.ka.f(),c=q.Fh?q.Fh.f():null,d=q.vk.f(),e=q.Od.f(),f=this.zm[this.wo],g=this.FF(f);switch(g){case "IMAGE":a.va(f.src);break;case "SOUND":if(!c)throw"Can not find AudioEngine! Install it, please.";c.Y8(f.src);break;case "XML":d.EU(f.src);break;case "BINARY":e.DU(f.src);break;case "TEXT":e.FU(f.src);break;case "FONT":this.XO(f);
break;default:throw"cocos2d:unknown filename extension: "+g;}},oP:function(){var a=this;this.Oj=setInterval(function(){a.VO()},1E3*this.fh)},eQ:function(){clearInterval(this.Oj)},FF:function(a){if(null!=a.ns)return q.Ey.FONT;a=a.src;a=a.substring(a.lastIndexOf(".")+1,a.length);var c=a.indexOf("?");0<c&&(a=a.substring(0,c));for(var d in q.Ey)if(-1!=q.Ey[d].indexOf(a))return d;return a},gw:function(){100<=this.Cw()&&(this.eQ(),this.WN())},WN:function(){if(this.X&&"string"==typeof this.Uf)this.X[this.Uf](this);
else this.X&&"function"==typeof this.Uf?this.Uf.call(this.X,this):this.Uf(this);this.Yr=this.sr=this.wo=0},XO:function(a){var c=a.src,d=q.Od.f();if(c&&0<c.length){var e=document.createElement("style");e.type="text/css";document.body.appendChild(e);for(var f="@font-face { font-family:"+a.ns+"; src:",g=0;g<c.length;g++)f+="url('"+d.De(encodeURI(c[g].src))+"') format('"+c[g].type+"')",f+=g==c.length-1?";":",";e.textContent+=f+"};";c=document.createElement("div");c.style.fontFamily=a.ns;c.innerHTML=".";
c.style.position="absolute";c.style.left="-100px";c.style.top="-100px";document.body.appendChild(c)}q.Ob.f().hg()},l0:function(a,c){var d=document.createElement("style");d.type="text/css";document.body.appendChild(d);d.textContent+="@font-face {font-family:"+a+";src: url(data:font/ttf;base64,"+c+") format('truetype');};";d=document.createElement("div");d.style.fontFamily=a;d.innerHTML="ajghl~!";d.style.position="absolute";d.style.left="-100px";d.style.top="-100px";document.body.appendChild(d);q.Ob.f().hg()},
w0:function(){}});q.Ob.SC=function(a,c,d){this.Kb||(this.Kb=new q.Ob);this.Kb.Mw(a,c,d);return this.Kb};q.Ob.W8=function(a,c,d){this.Kb||(this.Kb=new q.Ob);this.Kb.MV(!0);this.Kb.Mw(a,c,d);return this.Kb};q.Ob.TC=function(a){this.Kb&&this.Kb.aV(a)};q.Ob.f=function(){this.Kb||(this.Kb=new q.Ob);return this.Kb};q.Ob.Kb=null;
q.uy=q.kq.extend({qv:null,Oo:null,Wv:null,Gu:null,lv:null,xB:null,ctor:function(){q.kq.prototype.ctor.call(this);this.xB=q.da.f().Wb},v:function(){q.kq.prototype.v.call(this);var a=q.a(this.xB.width/2,this.xB.height/2);this.Oo=new Image;var c=this;this.Oo.addEventListener("load",function(){c.oO(a);this.removeEventListener("load",arguments.callee,!1)});this.Oo.src="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAAlAAD/4QMpaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjAtYzA2MCA2MS4xMzQ3NzcsIDIwMTAvMDIvMTItMTc6MzI6MDAgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjM4MDBEMDY2QTU1MjExRTFBQTAzQjEzMUNFNzMxRkQwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjM4MDBEMDY1QTU1MjExRTFBQTAzQjEzMUNFNzMxRkQwIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzUgV2luZG93cyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU2RTk0OEM4OERCNDExRTE5NEUyRkE3M0M3QkE1NTlEIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU2RTk0OEM5OERCNDExRTE5NEUyRkE3M0M3QkE1NTlEIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+/+4ADkFkb2JlAGTAAAAAAf/bAIQADQkJCQoJDQoKDRMMCwwTFhENDREWGhUVFhUVGhkUFhUVFhQZGR0fIB8dGScnKionJzk4ODg5QEBAQEBAQEBAQAEODAwOEA4RDw8RFA4RDhQVERISERUfFRUXFRUfKB0ZGRkZHSgjJiAgICYjLCwoKCwsNzc1NzdAQEBAQEBAQEBA/8AAEQgAyACgAwEiAAIRAQMRAf/EALAAAAEFAQEAAAAAAAAAAAAAAAQAAgMFBgcBAQEAAwEBAAAAAAAAAAAAAAAAAQMEAgUQAAIBAgIEBwoLBgQGAwAAAAECAwAEEQUhMRIGQVFxsTITFGGBwdEiQlKSMzWRoeFicqKyI1NzFYJjJDQWB9KjVCbxwkNkJWXik3QRAAIBAgMFBQcDBQEAAAAAAAABAhEDIRIEMUFRcTJhwVIUBZGhsSJyEzOB0ULhYpIjUxX/2gAMAwEAAhEDEQA/AMJSpUqAVKlXuFAeUq9wpUB5XuFe4V6ooDzZHDox0CnGMinzwl7Z8NajaHeoO3vmTBZBtp9YUIqTEV5ROxHKnWRnaU8VRMhFBUjpV7hSoSeUq9pUB5Sr2lhQHlKvcK8oBV7hSFSRrtaKAZs07YNPM1pG2xJIAw1jSeandry/8X4m8VCKkWwaWwam7Xl/4v1W8VLtmX/i/VbxUoKkWwakSM407tmX/i/VbxUmzGwjQsjdY41IARie/U0IbZO0kNtCXnOCkEBeFu4KI3Bs7DNb27ya+jDx3kJeEnpJJEcQVbWDsk17u5urd591ucZkWhym2Vnd9RkCDEpFxDRpbw0bunu5mlp2De2FMLYXOD2wB2xbOeraUcYGJ72mlSUiqzzdzMd3Z3mixltA2yzcK/NlHM1DQyRXce1HocdNOEfJXZ88y9ZojOqhiBszIRiHQ8Y4cK5TvHuzLljHNMqxNoDjLFraHHnjPxcNCGVbxEUzYNTx5jZSxhpW6qTzlwJ+DCvO2Zf+L9VvFSgqyHYNLYNTdssPxfibxUu15f8Ai/VPiqCakOwa82DU/a8v/F+JvFTDdWPBL8R8VKCvYRYV5UzoMAy6QdIIqI0B4KJtxiRQwou16QoGUkntH5Tz0RbZbmF2hktraSVBo2lUkY8tDye0flPPXTslVUyiyVRsjqUOA4yMT8dW2ram2m6UVTNq9S7EIyUVJydMTn/6DnP+im9Wl+g5z/opvVrpteEhQWY4AaSTwAVf5WPiZh/9S5/zj7zltzlmYWkfWXNvJDGTgGcYDHirR7i7mSbwXParsFMrgb7w6jKw/wCmnc9I14kF3vpvCljbMyWMOJL4aEiB8qU/ObUK7HYWVrl1pFZWiCOCBQqKOLjPGTrNZZqKbUXVHq2nNwTuJRk1VpbgXN8s7Rk5ym0UQQzhIG2NAjhxHWbI+gCBVjBBFbwxwQqEiiUJGg1BVGAFe7dV28WYLYZFmF2Th1UD7JGjymGyn1iK5OyzIBGB1HgrLZhamzumQAGJwSqnSCh1q3GOCodxt4cxurdcpzuN4cyhiWaF5Bg09udUmnWw1H/jV9nFuJ7Quo+8h8peThFA+047vduyMtk7fYqTl07YFdfUufMPzT5p71UdtlmYXaGS2t3mQHAsgxANdadYJopLe4QS2867EsZ4QfCNYrCFbjdDPmgkYyWFxgVf04ifJf6ScNdRUW1XBb6FU5TjF5EpSSrGu/s5lN+g5z/opvVpfoOc/wCim9WtdHnatvObJXDW7xLGhB8nrPaY9/HCr+tEdPCVaSeDoYLnqF63lzW4/PFSW3ecxbI84VSzWUwUaSdg0DXXK5nvAipnd6qgKvWnQO7pri9ZUEmm3Vl2j1kr8pRlFRyquBNZjGxQ/S56Y1S2fu9OVueon11Szahoou06QoQUXadIVCD2FJJ7R+U89dMydv8Axdn+TH9muZye0flPPXQstlK5Tbka1gUjlC1q0vVLkeb6r+O3Tx9xcY1nt8c0NrZCyiOE1108NYjGv1joo7Js1jzKyScYLIvkzL6LDwHXVJksH9Sb49dKNq0tj1jA6uriOCL+02FWX7iVtZX1/AzaHTyeoauKn2MX9W79zebiZCuR5MjSrhfXuEtwTrUeZH+yNfdrRNcxI6IzhXlJEak6WIGJ2Rw4ChWnChndtlVBLMdQA0k1gbXNMzzDfDLs6mjaPKppJbWwJ1bOwwxw43OnHh71YT3DpfWUJmFlb5jHHDdeXBHIsrRea5TSqvxqG04cNN62vetoCS4tre5mgnkGE9q+3DKOkuI2WX6LDQRRHWDh1UCtwj7QRg2wdl8Djgw1qe7XvW0BQ3kfZ7mSLgU+T9E6RVbnuVrnWVSWqj+Lt8ZbRuHEdKPkYVcZ2MJY5fSGyeVar45+rkWQHAqccalPE5km1htWK5nK4Wnt5FuUBUwOMG4nGkA/BXUrW4S6torlOjMgcd/xVn7rLo7zKs0uEjCNeSvdwoBhgsZxX1l2j36k3Lu+uyprdj5Vs5A+i/lD48a0aaVJOPi7jB6lbzWozpjB48pf1NDXNN4vfl7+Z4BXS65pvF78vfzPAK71XTHmZ/S/yT+jvJ7L3fHytz1E+upbL+Qj5W56jfXWRnsIYKLtekKEFGWvSFQgyjk9o/Keet3YthlMP/5x9msJJ7R+U89biyb/AMXEv7gD6tadL1T+kwepRrC39ZkLDMbiwMvUHRPG0bjlGg8ore/23sxBldxfMPLupNhT8yL/AORNZbdzJ484scytxgLqJY5LZj6Q2sV5G1Vud1mjjyG0ij0NEGSZToKyhjtqw4waztuiXA3qKTbSxltfGhbZlE95ZtZqxVbgiOZhrER9ph3Svk9+pJILZ4Y4DGBFCUMKjRsGPobPFhUfW0NJmljE2xJcIrcI2vFUEln1lRXd6lrazXT9GCNpD+yNqoI7mOVduNw6nzlOIoPOUa6yye1XXcbMR5GdQ3xY0BSbj31/FcTQZirJ+q431q7anbHCTZ72Bw7lbPrKBMcBWNNgbMBBh+bsjBdni0VJ1lARZs6yWiupxCuMDy6KpS2IwOo6DTr3Mre3e5tZZVUM4ZBjqOOJoWO4jkXajcOOMHGgDISvWIrdAkKR80+TzVl908bPPL3LzxOuHdifxVfiTAg92qI/w+/8gGgSyN/mR7XPVlp0lF/3L3mbVKtu5Hjbk/8AHE2Fc03i9+Xv5ngFdKNc13i9+Xv5ngFaNV0x5nn+l/kn9HeEWXu+PlbnqJ9dS2Xu9OVueon11kZ7CGCjLXpCgxRlr0hUIPYUcntH5Tz1s8vb+Bt1/dqPirGSe0flPPWusG/g4Py15q06XqlyMWvVYQ+ruI9xJOqzO9hOto/sP8tbGOFIrmWeM7IuMDMnAXXQJOUjQeOsJk0nY96ip0CYunrjaHx1t+srPJUbXBm2LrFPikwTOb+T+VhbZxGMrDXp83x1QSy2tucJpUjPETp+Cn5/ftaRvKvtp3Kx48HG3erHMzOxZiWZtLMdJNQSbbL71Vk6yynViOkqnEEfOWtPbXi3EQkGg6mXiNckjeSJxJGxR10qw0GtxuxmvbImD4CZMFlA4fRfv0BqesqqzTMZNMEDbIHtHH2QeCiZJSqMQdOGiue53mz3czQwsRbIcNHnkec3c4qAMuriz68gTIToxwOOnlp0MjxMJYW741Gs3RVldtbygE/dMcHX/moDaxTiWNZB53B3arb8/wC+4SOF4sf/AKxU9kcBsfOGHfoUHtG/RbzY5Die5HHhXdvavqiZ9Q8Jdlq4/gbKua7xe/L38zwCuhpf2Uk/Zo50kmwJKIdogDjw1VzzeL35e/meAVp1LTgqY4nn+mRauzqmqwrjzCLL3fHytz1E+upLL+Qj5W56jfXWRnroYKLtekKEFF2vSFQg9hSSe0flPPWosm/hIfoLzVl5PaPynnrRWb/w0X0F5q06XqlyM2sVYx5gmbFre/t71NY2T+0h8VbSO5SWNJUOKSAMp7jDGspmMPaLRlXS6eWve1/FRO7WYdbZm1Y/eW/R7qHxHRXGojlm3ulid6aVbaW+OALvgCLq2Hm9WxHKWqjhj6xsK1e8dm15l4niG1LZkswGsxtrPeOmsvayBJA1VItlWjptLuTdPMo7LtjRDq9naK4+WF9IrUW7BaHOljGqVHB7w2hzVoZt87d8vaNYSLl02CcRsDEbJbj71Uu7UBkvJ7/D7q2QoDxySaAO8MTXdxRVMpRp5XZOWdF/ms7R5XdyKfKWJsO/5PhrG5XlNxmEywW6bTnTxAAcJNbGSMXkM1pjgbiNo1PziPJ+Os7u7m/6ReM00ZOgxSpqYYHT3wRXMKN4ll9zUG4bQfNshu8sZVuEA2hirA4qe/VOwwrVbzbww5mI44UKRRYkbWG0S3JWctbd7u5WFfOOLHiUdJqmaipfLsIsObhWe001lMkMVvJNjhghIALMcBxCs7fxXQmkupx1bXDswGPlaTidVaEyKNXkoo4eBV+Sq7L7Vs9zcBgeyQ4GQ/MB1crmoim2orezqcowTuSeEY48jQ7oZX2PLzdyLhNd6RjrEY6I7+uspvH78vfzPAK6UAAAFGAGgAcArmu8Xvy9/M8ArTfio24RW5nnaG67uou3H/KPuqT2X8hHytz1G+upLL3enK3PUb66ys9RDBRdr0hQgou06QqEGUkntH5Tz1e238vF9BeaqKT2j8p56vbb+Xi+gvNWjTdUuRn1XTHmTh8KrJTJlt8t1CPIY44cGnpJVjTJYkmjaN9Ib4u7V923njTethRauZJV3PaW1rfLIiXEDYg6R4VYc9CXW7thfOZbKdbGZtLW8uPVY/u3GrkNUkM9zlcxUjbhfWOA90cRq4gv4LhdqN+VToNYWmnRm9NNVWNTyHc6VWBv8wt4YeHqm6xyPmroq1Z7WGFLSxTq7WLSuPSdjrkfumq5yHXDUeA92oO2SKpVumNAaoJLMXH3myp0rpJ4uKhc3tbDM5BMri1zAj79j7KTiY8TcdBpcsith0286o+sPCagEX9Pzg4zXUCp6QYse8oouCG3tk6m1BYv05W6T+IdyolxbHDAAa2OgDlNCz3ryN2WxBd5PJMg1t81eId2ukqnLlTBbfcuY+9uJLiRcvtPvHdsHK+cfRHcHDWsyawjyy0WBcDI3lTP6TeIcFV+S5OmXx9bJg1048o8Cj0V8Jq2DVu09nL80up7OxHi+oal3P8AXB/IsZS8T/YOV65zvCcc7vfzPAK3ivWCz445zeH954BXOr6I8yfSfyz+jvCLP3fHytz1G+upLP3fHytz1E+usbPaQ0UXadIUIKLtekKhB7Ckk9o/Keer22/l4/oLzVRSe0flPPV7b/y8X0F5q0abqlyM+q6Y8yQsBTDMor1o8aiaE1pbluMqS3sbLLHIhSRQyngqukhaJ9uBjo+H5aOa3ao2t34qouRlLajTalGP8v0IY8ylXQ+PKPFU/bYXOLPge6CKia0LaxTOxHu1Q7cuBd9yPEJ7TbjXKO8CajbMIF6CNIeNvJHjqIWJ7tSpYkalqVblwIdyG+RGXur0hXYJFxal+Dhq5y3slkv3Y2pD0pTr+QUClpJRUdo9XW4OLrTHtM16cZLLWkeC7y4jvlNEpcRtw1Ux27Ci448NZrTFy3nn3IQWxlgGrDZ3pza7/M8ArZo+ArF5171uvp+CqdV0R5l/psUrs2vB3hdl7vTlbnqJ9dS2Xu+PlbnqJ9dY2eshooq16QoQUXa9IVCD2FLJ7RuU89WNtmUSQqkgYMgw0accKrpPaPynnrZWG4Vi+VWmY5tnMWXG+XrIYnA0rhj0mdcTgdNdwnKDqjmduM1SRR/qlr8/4KX6pa8T/BVzDuLZXudRZblmbxXcPUNPc3KqCIwrbOzgrHEnHjoyD+3eSXkht7DeKG4umDGOJVUklfouThXfmbnZ7Cvy1vt9pmv1W1+d8FL9VteJvgq5yrcOGfLmzHN80iyyETPbptAEFo2ZG8pmUa1OFNn3Ky6W/sbDKM5hv5bx2WTZA+7RF2y52WOPJTzE+z2Dy1vt9pT/AKpacTerS/U7Tib1a04/t7kDXPY03jhN0W6sQ7K7W3q2dnrMccaDy/8At80kuZfqWYxWNtlcvUPPhiGYhWDeUy7IwYU8xPs9g8tb7faUn6pacTerTxm9oOBvVq3v9z927aynuId44LiWKNnjhAXF2UYhRg516qpsryjLr21665zFLSTaK9U2GOA87SwqY37knRU+BzOzags0s1Oyr+BKM6sxwP6tSDPLMen6vy0rvdm3Sxlu7K/S7WDDrFUDUTxgnTU826eXW7KlxmqQuwDBXUKcD+1Xee/wXuKX5XDGWLapSVcOyhEM/seJ/V+WnjeGx4pPV+Wkm6kKZlFay3Jlt7iFpYZY8ASVK6DjtDDA0f8A0Tl340/1f8Ndx8xJVWXB0KbktFFpNzdVXAC/qOwA0CQni2flrO3Vwbm5lnI2TKxbDirX/wBE5d+NcfV/wVR7xZPa5U9utvI8nWhmbbw0YEAYYAVxfhfy5rlKR4Fulu6X7mW1mzT8S4Yis/5CPlbnqJ9dSWfu9OVueon11mZvQ2i7XpChKKtekKhBlNJ7R+U89bDfGTb3a3ZX0Lcj6kdY+T2j8p560288m1kWQr6MJ+ylSAr+2cnV5renjs3H1loX+3j9XvbbtxLN9lqW4UnV5jdnjtXHxihtyZNjeSBu5J9k1BJe7xy7W5CJ/wCzuD/mTVTf2+fq97LJuLrPsNRueS7W6aJ/38x+vLVXuY+xvHaNxbf2GoCezf8A36j/APsSf8w1sLnqczTefJluYoLm5uo5F61sBshItP1cNFYe1f8A3ir/APfE/wCZUe9bB94r5jwuPsrQFhmG4l/Z2M17HdW90tuu3IkTHaCjWdIw0VVZdks9/C06yJFEp2dp+E1bbqybGTZ8vpQD7L1XRv8A7blT96Oda7tpNuuNE37Cq9KSisjyuUoxrStKllHbLlWTXsMs8chuSuwEPDqwoLe5y+YRE/gLzmqRekvKKtd4327yM/ulHxmrHJStySWVRyrjxKI2XC/CTlnlPPKTpTdFbP0L1bgrf5Lp0G3dPhQHwV0S1lzBsns3sESR8Crh9WAJGjSOKuU3E+zdZQ3oJh8IArdZXFDmOTpHa3i2+YrI2KtKy4ricBsBuHHgFXSo440+Wa2qqxjvM9uMoy+WvzWpLCWWWE28HxL6e43ojgkeSCBY1Ri5BGIUDT51cl3vm276BBqSEH4WbxV0tlkyXJcxTMb+OW6uY9mGHrCzDQwwAbTp2uKuTZ9N1uYsfRRR8WPhrm419mSSjRyiqxVK7y23B/ftuTm2oSdJyzNVw3BFn7vTlbnqF9dS2fu9OVueon11lZuQ2iLdsGFD05H2dNQGV0ntG5Tz1dWm9N1b2kVq8EVwsI2UaQaQOKhmitZGLOmk68DhSFvY+gfWNSAg7z3Qvo7yKCKIohiaNR5LKxx8qpxvjcqS0VpbxvwOAcRQPZ7D0G9Y0uz2HoH1jUCpLY7zXlpbm3eKO5QuzjrBqZji3x17PvNcyT288VvDBJbMWUovS2hslW7mFQ9nsPQPrGl2ew9A+saCod/WNxtbYsrfb17WBxx5ddD2281xC88klvDcSXEnWuzrqOGGC9zRUPZ7D0G9Y0uzWHoH1jQVCLreq6ntZbaO3it1mGy7RjTs1X2mYy20ZiCq8ZOODcdEdmsPQb1jS7PYegfWNdJuLqnQiSUlRqpFLmryxtH1Ma7Qw2gNNPOdSt0oI27p007s9h6B9Y0uz2HoH1jXX3Z+I4+1b8IJdX89xLHKQFMXQUahpxoiPN5P+onfU+A0/s9h6DesaXZ7D0D6xpG7OLbUtu0StW5JJx2bBsmbtiSiEk+cxoCWWSaVpZOk2vDVo0VYdnsPQb1jSNvZcCH1jSd2c+p1XAmFqEOmOPEfaH+BQd1ueo211IzrgFUYKNAAqI1WztCpUqVCRUqVKgFSpUqAVKlSoBUqVKgFSpUqAVKlSoBUqVKgFSpUqAVKlSoD/9k\x3d";
this.Oo.width=160;this.Oo.height=200;this.Gu=q.ia.create(q.HB(32,32,32,255));this.Gu.o(0,0);this.g(this.Gu,0)},oO:function(a){this.Wv=new q.cc;this.Wv.lf(this.Oo);this.Wv.$d();this.qv=q.A.eb(this.Wv);this.qv.pk(q.Uc());this.qv.o(a);this.Gu.g(this.qv,10)},Sg:function(){q.H.prototype.Sg.call(this);this.hc(this.yG,0.3)},ce:function(){q.H.prototype.ce.call(this);this.lv&&this.lv.ja("Loading... 0%")},Mw:function(a,c,d){this.rV=a;this.FV=c;this.target=d},yG:function(){this.Tc(this.yG);q.Ob.SC(this.rV,this.FV,
this.target);this.hc(this.gw)},gw:function(){if(this.lv){var a=q.Ob.f().Cw();this.lv.ja("Loading... "+a+"%")}100<=a&&this.Tc(this.gw)}});q.uy.SC=function(a,c,d){this.Kb||(this.Kb=new q.uy,this.Kb.v());this.Kb.Mw(a,c,d);a=q.da.f();a.wd?a.MJ(this.Kb):a.xV(this.Kb);return this.Kb};q.ey=q.La.extend({Bb:null,yK:function(a){this.Bb=a},Z4:function(){return this.Bb},ctor:function(a){this.Bb=a},QB:function(){q.log("DrawingPrimitive.drawPoint() not implement!")},DH:function(){q.log("DrawingPrimitive.drawPoints() not implement!")},gi:function(){q.log("DrawingPrimitive.drawLine() not implement!")},EH:function(){q.log("DrawingPrimitive.drawRect() not implement!")},SB:function(){q.log("DrawingPrimitive.drawSolidRect() not implement!")},Wd:function(){q.log("DrawingPrimitive.drawPoly() not implement!")},
xw:function(){q.log("DrawingPrimitive.drawSolidPoly() not implement!")},AH:function(){q.log("DrawingPrimitive.drawCircle() not implement!")},RB:function(){q.log("DrawingPrimitive.drawQuadBezier() not implement!")},BH:function(){q.log("DrawingPrimitive.drawCubicBezier() not implement!")},zH:function(){q.log("DrawingPrimitive.drawCardinalSpline() not implement!")},ww:function(){q.log("DrawingPrimitive.drawCardinalSpline() not implement!")}});
q.pE=q.ey.extend({QB:function(a,c){c||(c=1);var d=q.pa.f().ua,e=q.pa.f().Ca,e=q.a(a.x*d,a.y*e);this.Bb.beginPath();this.Bb.arc(e.x,-e.y,c*d,0,2*Math.PI,!1);this.Bb.closePath();this.Bb.fill()},DH:function(a,c,d){if(null!=a){d||(d=1);c=this.Bb;var e=q.pa.f().ua,f=q.pa.f().Ca;c.beginPath();for(var g=0,h=a.length;g<h;g++)c.arc(a[g].x*e,-a[g].y*f,d*e,0,2*Math.PI,!1);c.closePath();c.fill()}},gi:function(a,c){var d=this.Bb,e=q.pa.f().ua,f=q.pa.f().Ca;d.beginPath();d.moveTo(a.x*e,-a.y*f);d.lineTo(c.x*e,-c.y*
f);d.closePath();d.stroke()},EH:function(a,c){this.gi(q.a(a.x,a.y),q.a(c.x,a.y));this.gi(q.a(c.x,a.y),q.a(c.x,c.y));this.gi(q.a(c.x,c.y),q.a(a.x,c.y));this.gi(q.a(a.x,c.y),q.a(a.x,a.y))},SB:function(a,c,d){a=[a,q.a(c.x,a.y),c,q.a(a.x,c.y)];this.xw(a,4,d)},Wd:function(a,c,d,e){e=e||!1;if(null!=a){if(3>a.length)throw Error("Polygon's point must greater than 2");var f=a[0];c=this.Bb;var g=q.pa.f().ua,h=q.pa.f().Ca;c.beginPath();c.moveTo(f.x*g,-f.y*h);for(var f=1,k=a.length;f<k;f++)c.lineTo(a[f].x*g,
-a[f].y*h);d&&c.closePath();e?c.fill():c.stroke()}},xw:function(a,c,d){this.dK(d.r,d.p,d.k,d.K);this.Wd(a,c,!0,!0)},AH:function(a,c,d,e,f){f=f||!1;e=this.Bb;var g=q.pa.f().ua,h=q.pa.f().Ca;e.beginPath();e.arc(0|a.x*g,0|-(a.y*h),c*g,-d,-(d-2*Math.PI),!1);f&&e.lineTo(0|a.x*g,0|-(a.y*h));e.stroke()},RB:function(a,c,d,e){for(var f=[],g=0,h=0;h<e;h++)f.push(q.a(Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y)),g+=1/e;f.push(q.a(d.x,d.y));this.Wd(f,e+1,!1,!1)},BH:function(a,
c,d,e,f){for(var g=[],h=0,k=0;k<f;k++)g.push(q.a(Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y)),h+=1/f;g.push(q.a(e.x,e.y));this.Wd(g,f+1,!1,!1)},zH:function(a,c){this.ww(a,0.5,c)},ww:function(a,c,d){q.Z.strokeStyle="rgba(255,255,255,1)";for(var e=[],f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=q.Zx(q.yh(a,f-1),q.yh(a,f-0),q.yh(a,f+1),q.yh(a,f+2),c,g),e.push(f);this.Wd(e,
d+1,!1,!1)},drawImage:function(a,c,d,e,f){switch(arguments.length){case 2:this.Bb.drawImage(a,c.x,-(c.y+a.height));break;case 3:this.Bb.drawImage(a,c.x,-(c.y+d.height),d.width,d.height);break;case 5:this.Bb.drawImage(a,c.x,c.y,d.width,d.height,e.x,-(e.y+f.height),f.width,f.height);break;default:throw Error("Argument must be non-nil");}},d2:function(a,c,d){a=a||this.Bb;c*=q.pa.f().ua;d instanceof q.he&&(d=new q.wc(0|255*d.r,0|255*d.p,0|255*d.k));d="rgba("+d.r+","+d.p+","+d.k;a.fillStyle=d+",1)";var e=
c/10;a.beginPath();a.moveTo(-c,c);a.lineTo(0,e);a.lineTo(c,c);a.lineTo(e,0);a.lineTo(c,-c);a.lineTo(0,-e);a.lineTo(-c,-c);a.lineTo(-e,0);a.lineTo(-c,c);a.closePath();a.fill();var f=a.createRadialGradient(0,0,e,0,0,c);f.addColorStop(0,d+", 1)");f.addColorStop(0.3,d+", 0.8)");f.addColorStop(1,d+", 0.0)");a.fillStyle=f;a.beginPath();a.arc(0,0,c-e,0,q.AE,!1);a.closePath();a.fill()},b2:function(a,c,d){a=a||this.Bb;c*=q.pa.f().ua;d instanceof q.he&&(d=new q.wc(0|255*d.r,0|255*d.p,0|255*d.k));d="rgba("+
d.r+","+d.p+","+d.k;var e=a.createRadialGradient(0,0,c/10,0,0,c);e.addColorStop(0,d+", 1)");e.addColorStop(0.3,d+", 0.8)");e.addColorStop(0.6,d+", 0.4)");e.addColorStop(1,d+", 0.0)");a.fillStyle=e;a.beginPath();a.arc(0,0,c,0,q.AE,!1);a.closePath();a.fill()},fillText:function(a,c,d){this.Bb.fillText(a,c,-d)},$V:function(a,c,d,e){this.Bb.fillStyle="rgba("+a+","+c+","+d+","+e/255+")";this.Bb.strokeStyle="rgba("+a+","+c+","+d+","+e/255+")"},dK:function(a,c,d,e){this.Bb.fillStyle="rgba("+(0|255*a)+","+
(0|255*c)+","+(0|255*d)+","+e+")";this.Bb.strokeStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+")"},AW:function(){},jW:function(a){this.Bb.lineWidth=a*q.pa.f().ua}});
q.ZL=q.ey.extend({mr:!1,Sb:null,Ei:-1,qc:null,tA:-1,sA:-1,ctor:function(a){null==a&&(a=q.Z);if(!a instanceof WebGLRenderingContext)throw"Can't initialise DrawingPrimitiveWebGL. context need is WebGLRenderingContext";q.ey.prototype.ctor.call(this,a);this.qc=new q.he(1,1,1,1)},hk:function(){this.mr||(this.Sb=q.Kh.f().qi(q.ZZ),this.Ei=this.Bb.getUniformLocation(this.Sb.Dw(),"u_color"),this.tA=this.Bb.getUniformLocation(this.Sb.Dw(),"u_pointSize"),this.mr=!0)},c2:function(){this.mr=!1},QB:function(a){this.hk();
this.Sb.sf();this.Sb.Xg();q.Fe(q.dh);this.Sb.Jl(this.Ei,new Float32Array(this.qc.Vb,0,4),1);this.Sb.IK(this.tA,this.sA);var c=this.Bb,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,new Float32Array([a.x,a.y]),c.STATIC_DRAW);c.vertexAttribPointer(q.Ue,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,1);c.deleteBuffer(d);q.Hh()},DH:function(a){if(a&&0!=a.length){this.hk();this.Sb.sf();this.Sb.Xg();q.Fe(q.dh);this.Sb.Jl(this.Ei,new Float32Array(this.qc.Vb,0,4),1);this.Sb.IK(this.tA,
this.sA);var c=this.Bb,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.Ev(a),c.STATIC_DRAW);c.vertexAttribPointer(q.Ue,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,a.length);c.deleteBuffer(d);q.Hh()}},Ev:function(a){for(var c=new Float32Array(2*a.length),d=0;d<a.length;d++)c[2*d]=a[d].x,c[2*d+1]=a[d].y;return c},gi:function(a,c){this.hk();this.Sb.sf();this.Sb.Xg();q.Fe(q.dh);this.Sb.Jl(this.Ei,new Float32Array(this.qc.Vb,0,4),1);var d=this.Bb,e=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,
e);d.bufferData(d.ARRAY_BUFFER,this.Ev([a,c]),d.STATIC_DRAW);d.vertexAttribPointer(q.Ue,2,d.FLOAT,!1,0,0);d.drawArrays(d.LINES,0,2);d.deleteBuffer(e);q.Hh()},EH:function(a,c){this.gi(q.a(a.x,a.y),q.a(c.x,a.y));this.gi(q.a(c.x,a.y),q.a(c.x,c.y));this.gi(q.a(c.x,c.y),q.a(a.x,c.y));this.gi(q.a(a.x,c.y),q.a(a.x,a.y))},SB:function(a,c,d){a=[a,q.a(c.x,a.y),c,q.a(a.x,c.y)];this.xw(a,4,d)},Wd:function(a,c,d){this.hk();this.Sb.sf();this.Sb.Xg();q.Fe(q.dh);this.Sb.Jl(this.Ei,new Float32Array(this.qc.Vb,0,4),
1);c=this.Bb;var e=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,e);c.bufferData(c.ARRAY_BUFFER,this.Ev(a),c.STATIC_DRAW);c.vertexAttribPointer(q.Ue,2,c.FLOAT,!1,0,0);d?c.drawArrays(c.LINE_LOOP,0,a.length):c.drawArrays(c.LINE_STRIP,0,a.length);c.deleteBuffer(e);q.Hh()},xw:function(a,c,d){this.hk();d||(d=this.qc);this.Sb.sf();this.Sb.Xg();q.Fe(q.dh);this.Sb.Jl(this.Ei,new Float32Array(d.Vb,0,4),1);c=this.Bb;d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.Ev(a),c.STATIC_DRAW);
c.vertexAttribPointer(q.Ue,2,c.FLOAT,!1,0,0);c.drawArrays(c.TRIANGLE_FAN,0,a.length);c.deleteBuffer(d);q.Hh()},AH:function(a,c,d,e,f){this.hk();var g=1;f&&g++;var h=2*Math.PI/e;if(f=new Float32Array(2*(e+2))){for(var k=0;k<=e;k++){var l=k*h,m=c*Math.sin(l+d)+a.y;f[2*k]=c*Math.cos(l+d)+a.x;f[2*k+1]=m}f[2*(e+1)]=a.x;f[2*(e+1)+1]=a.y;this.Sb.sf();this.Sb.Xg();q.Fe(q.dh);this.Sb.Jl(this.Ei,new Float32Array(this.qc.Vb,0,4),1);a=this.Bb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(q.Ue,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+g);a.deleteBuffer(c);q.Hh()}},RB:function(a,c,d,e){this.hk();for(var f=new Float32Array(2*(e+1)),g=0,h=0;h<e;h++)f[2*h]=Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,f[2*h+1]=Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y,g+=1/e;f[2*e]=d.x;f[2*e+1]=d.y;this.Sb.sf();this.Sb.Xg();q.Fe(q.dh);this.Sb.Jl(this.Ei,new Float32Array(this.qc.Vb,0,4),1);a=this.Bb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(q.Ue,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+1);a.deleteBuffer(c);q.Hh()},BH:function(a,c,d,e,f){this.hk();for(var g=new Float32Array(2*(f+1)),h=0,k=0;k<f;k++)g[2*k]=Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,g[2*k+1]=Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y,h+=1/f;g[2*f]=e.x;g[2*f+1]=e.y;this.Sb.sf();this.Sb.Xg();q.Fe(q.dh);this.Sb.Jl(this.Ei,new Float32Array(this.qc.Vb,0,4),1);a=this.Bb;c=a.createBuffer();
a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,g,a.STATIC_DRAW);a.vertexAttribPointer(q.Ue,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,f+1);a.deleteBuffer(c);q.Hh()},zH:function(a,c){this.ww(a,0.5,c)},ww:function(a,c,d){this.hk();for(var e=new Float32Array(2*(d+1)),f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=q.Zx(q.yh(a,f-1),q.yh(a,f),q.yh(a,f+1),q.yh(a,f+2),c,g),e[2*k]=f.x,e[2*k+1]=f.y;this.Sb.sf();this.Sb.Xg();q.Fe(q.dh);this.Sb.Jl(this.Ei,
new Float32Array(this.qc.Vb,0,4),1);a=this.Bb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,e,a.STATIC_DRAW);a.vertexAttribPointer(q.Ue,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,d+1);a.deleteBuffer(c);q.Hh()},$V:function(a,c,d,e){this.qc.r=a/255;this.qc.p=c/255;this.qc.k=d/255;this.qc.K=e/255},dK:function(a,c,d,e){this.qc.r=a;this.qc.p=c;this.qc.k=d;this.qc.K=e},AW:function(a){this.sA=a*q.Uc()},jW:function(a){this.Bb.lineWidth&&this.Bb.lineWidth(a)}});q.AE=2*Math.PI;q.TE={A_:0,fZ:1,gZ:2,TX:3,ZY:4,YY:5,fY:6,mZ:7,KY:8,wM:100,FM:101};q.sZ=0;q.tZ=1;q.qZ=2;q.rZ=3;q.rg=0;q.xk=1;q.ye=null;q.Z=null;q.canvas=null;q.XR=null;q.Kd=q.rg;q.lU=q.size(0,0);window.dD=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;window.console||(window.console={},window.console.log=function(){},window.console.assert=function(){});q.yC=!1;
q.Kl=function(a,c,d){function e(){if(q.Fh){var a=q.Fh.f();document[k]?(a.qU(),a.sU()):(q.da.f().kP(),a.sV(),a.tV())}}a=q.Tb(a)||q.Tb("#"+a);var f,g,h;"CANVAS"==a.tagName?(c=c||a.width,d=d||a.height,g=q.ck=q.rk("DIV"),h=g.style,f=q.canvas=a,f.parentNode.insertBefore(g,f),f.Ym(g),h.width=(c||480)+"px",h.height=(d||320)+"px",g.setAttribute("id","Cocos2dGameContainer")):("DIV"!=a.tagName&&q.log("Warning: target element is not a DIV or CANVAS"),c=c||a.clientWidth,d=d||a.clientHeight,f=q.canvas=q.rk("CANVAS"),
f.ZG("gameCanvas"),f.setAttribute("width",c||480),f.setAttribute("height",d||320),g=q.ck=a,h=g.style,a.appendChild(f),h.width=(c||480)+"px",h.height=(d||320)+"px");h.margin="0 auto";h.position="relative";h.overflow="hidden";g.top="100%";if(!q.az){q.Ia.Sc&&(q.Z=q.eca=q.oH(f,{stencil:!0,preserveDrawingBuffer:!0,antialias:!q.Ia.ej,alpha:!1}));q.Z?(q.Kd=q.xk,window.gl=q.Z,q.ye=new q.ZL(q.Z),q.ka.f().vO()):(q.Z=f.getContext("2d"),q.ST=q.Z,q.Kd=q.rg,q.Z.translate(0,f.height),q.ye=q.pE?new q.pE(q.Z):null);
q.lU=q.size(f.width,f.height);q.XR=g;q.log(q.qt);q.Re.f();q.WV();q.Ia.ej&&q.wN();var k,l;"undefined"!==typeof document.hidden?(k="hidden",l="visibilitychange"):"undefined"!==typeof document.mozHidden?(k="mozHidden",l="mozvisibilitychange"):"undefined"!==typeof document.msHidden?(k="msHidden",l="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(k="webkitHidden",l="webkitvisibilitychange");"undefined"===typeof document.addEventListener||"undefined"===typeof k?(q.yC=!1,window.addEventListener("focus",
function(){if(q.Fh){var a=q.Fh.f();a.sV();a.tV()}},!1),window.addEventListener("blur",function(){if(q.Fh){var a=q.Fh.f();a.qU();a.sU()}},!1)):(q.yC=!0,document.addEventListener(l,e,!1))}};q.wN=function(){var a=document.createElement("style");a.type="text/css";document.body.appendChild(a);a.textContent="body,canvas,div{ -moz-user-select: none;-webkit-user-select: none;-ms-user-select: none;-khtml-user-select: none;-webkit-tap-highlight-color:rgba(0,0,0,0);}"};q.PF=!1;
q.WV=function(){q.PF=!1;q.canvas.oncontextmenu=q.PF?function(){}:function(){return!1}};q.sj=q.La.extend({fh:null,ctor:function(){this.fh=0;if(q.WA)throw"Application has been initialized";q.WA=this},Ns:function(a){this.fh=a},fba:function(a){a&&q.rect(0,0,0,0)},B5:function(){return q.Ia.ej?q.TE.wM:q.TE.FM},vV:function(){if(!this.JQ())return 0;var a,c=q.da.f(),d=window;q.FR=c;d.dD&&this.fh==1/60?(a=function(){c.cJ();d.dD(a)},d.dD(a)):(a=function(){c.cJ()},setInterval(a,1E3*this.fh));return 0}});
q.sj.f=function(){return q.WA};q.sj.q3=function(){var a=q.kM,c=navigator.language;c||(c=navigator.browserLanguage||navigator.Vba);if(!c)return a;c=c.toLowerCase();switch(c){case "zh-cn":a=q.jM;break;case "fr":a=q.lM;break;case "it":a=q.oM;break;case "de":a=q.mM;break;case "es":a=q.vM;break;case "ru":a=q.uM;break;case "ko":a=q.qM;break;case "ja":a=q.pM;break;case "hu":a=q.nM;break;case "pt":a=q.tM;break;case "ar":a=q.iM;break;case "no":a=q.rM;break;case "pl":a=q.sM}return a};q.WA=null;q.vk=q.La.extend({gca:null,dG:null,lp:null,gA:null,ctor:function(){this.lp={};window.DOMParser?(this.gA=!0,this.dG=new DOMParser):this.gA=!1},parse:function(a){var c=a;a=this.XH(a);a=this.eG(a,c).documentElement;if("plist"!=a.tagName)throw"cocos2d: "+c+" is not a plist file or you forgot to preload the plist file";for(var c=null,d=0,e=a.childNodes.length;d<e&&(c=a.childNodes[d],1!=c.nodeType);d++);return this.qA(c)},Gba:function(a,c){if(null==c||!1===c)a=this.XH(a);return this.eG(a)},eG:function(a,
c){var d;this.gA?d=this.dG.parseFromString(a,"text/xml"):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(a));null==d&&q.log("cocos2d:xml "+c+" not found!");return d},qA:function(a){var c=null;switch(a.tagName){case "dict":c=this.SO(a);break;case "array":c=this.RO(a);break;case "string":if(1==a.childNodes.length)c=a.firstChild.nodeValue;else for(var c="",d=0;d<a.childNodes.length;d++)c+=a.childNodes[d].nodeValue;break;case "false":c=!1;break;case "true":c=!0;break;case "real":c=
parseFloat(a.firstChild.nodeValue);break;case "integer":c=parseInt(a.firstChild.nodeValue,10)}return c},RO:function(a){for(var c=[],d=0,e=a.childNodes.length;d<e;d++){var f=a.childNodes[d];1==f.nodeType&&c.push(this.qA(f))}return c},SO:function(a){for(var c={},d=null,e=0,f=a.childNodes.length;e<f;e++){var g=a.childNodes[e];1==g.nodeType&&("key"==g.tagName?d=g.firstChild.nodeValue:c[d]=this.qA(g))}return c},EU:function(a){a=q.Od.f().De(a);if(window.XMLHttpRequest){var c=new XMLHttpRequest;c.overrideMimeType&&
c.overrideMimeType("text/xml")}if(null!=c){var d=this;c.onreadystatechange=function(){4==c.readyState&&(c.responseText?(q.Ob.f().hg(),d.lp[a]=c.responseText,c=null):(q.Ob.f().hg(),q.log("cocos2d:There was a problem retrieving the xml data:"+c.statusText)))};c.open("GET",a,!0);c.send(null)}else throw"cocos2d:Your browser does not support XMLHTTP.";},wX:function(a){this.lp.hasOwnProperty(a)&&delete this.lp[a]},getName:function(a){return a.substring(a.lastIndexOf("/",a.length)+1,a.lastIndexOf(".",a.length))},
F3:function(a){return a.substring(a.lastIndexOf(".",a.length)+1,a.length)},XH:function(a){return null!=this.lp?this.lp[a]:null}});q.vk.f=function(){this.Kb||(this.Kb=new q.vk);return this.Kb};q.vk.Kb=null;q.Sx=q.La.extend({ER:function(){q.sj.f().vV();return!0},W0:function(){q.da.f().pause()},V0:function(){q.da.f().OJ()},IQ:function(){q.sj.f().IQ()},KQ:function(){q.sj.f().KQ()},X0:function(){}});q.Sx.$W=function(){null==q.vx&&(q.vx=new q.Sx);if(!q.vx)throw"Application initialize failure";return q.vx};q.vx=null;q.V=q.A.extend({Rd:null,Lk:q.zj,dl:q.su,vf:null,Sd:0,Jg:"",pA:null,Io:!1,Ij:null,Uj:!1,Ig:null,Xo:0,Jr:0,Ov:null,$k:!1,Pr:null,cp:0,Qv:null,dp:null,Zu:null,gB:0,hB:0,td:!1,mv:null,nv:null,ctor:function(){q.A.prototype.ctor.call(this);this.Rd=q.am();this.Lk=q.pq;this.dl=q.su;this.sc=!1;this.Ij="";this.vf="Arial";this.Uj=this.Io=!1;this.Ig=q.am();this.Jr=this.Xo=0;this.Ov="rgba(128, 128, 128, 0.5)";this.$k=!1;this.Pr=q.zb();this.cp=0;this.Qv="";this.dp=q.zb();this.Zu="rgba(255,255,255,1)";this.hB=this.gB=
0;this.td=!1;this.Yh()},v:function(){return this.ol(" ",this.vf,this.Sd)},HO:function(){this.Xz().font=this.Ij},ur:function(a){return this.Xz().measureText(a).width},KN:function(a,c){var d=this.ur(a),e=Math.floor(a.length*c/d),f=a.indexOf("\n");if(0.8*e>=f&&0<f)return f+1;if(d<c)return a.length;for(var d=!1,f=c+1,g=-1,h=e,k,l=q.V.LN,m=q.V.mP,n=q.V.JN,t=a.substr(e);k=l.exec(t);){h+=k[0].length;if("\n"==k[2]){d=!0;g=h;break}f=this.ur(a.substr(0,h));if(f>c){-1!=g&&(d=!0);break}g=h;t=a.substr(h)}if(d)return g;
t=a.substr(0,e);for(g=e;k=m.exec(t);)if(g=k[1].length,t=k[1],f=this.ur(t),f<c){n.test(k[2])&&g++;break}return g},description:function(){return"\x3ccc.LabelTTF | FontName \x3d"+this.vf+" FontSize \x3d "+this.Sd.toFixed(1)+"\x3e"},q:null,Er:function(a){q.Fb.prototype.q.call(this,a);this.nG()},Yh:null,nG:function(){this.td=!0;var a=this.yc,c=this.$b,d=this.Pr,e=this.dp;this.Ov="rgba("+(0|0.5*a.r)+","+(0|0.5*a.p)+","+(0|0.5*a.k)+","+this.Xo+")";this.Zu="rgba("+(0|a.r/255*e.r)+","+(0|a.p/255*e.p)+","+
(0|a.k/255*e.k)+", "+c/255+")";this.Qv="rgba("+(0|a.r/255*d.r)+","+(0|a.p/255*d.p)+","+(0|a.k/255*d.k)+", "+c/255+")"},vP:function(){this.td=!0;var a=this.Pr,c=this.dp;this.Ov="rgba(128,128,128,"+this.Xo+")";this.Zu="rgba("+(0|c.r)+","+(0|c.p)+","+(0|c.k)+", 1)";this.Qv="rgba("+(0|a.r)+","+(0|a.p)+","+(0|a.k)+", 1)"},od:null,nB:function(a){q.Fb.prototype.od.call(this,a);this.Yh()},ra:null,Gr:function(a){this.Pi!==a&&(q.A.prototype.ra.call(this,a),this.Yh(),this.td=!0)},pd:null,Rba:function(a){q.Fb.prototype.pd.call(this,
a);this.Yh()},fC:function(){return this.Jg},R3:function(){return this.Lk},V5:function(){return this.dl},A3:function(){return q.size(this.Rd.width,this.Rd.height)},L3:function(){return this.Sd},K3:function(){return this.vf},ol:function(a,c,d,e,f,g){a=a?a+"":"";d=d||16;e=e||q.size(0,d);f=f||q.pq;g=g||q.tu;return q.A.prototype.v.call(this)?(this.sc=!1,this.Rd=q.size(e.width,e.height),this.vf=c||"Arial",this.Lk=f,this.dl=g,this.Sd=d*q.Uc(),this.Ij=this.Sd+"px '"+c+"'",this.Hj=q.V.zu(c,this.Sd),this.ja(a),
this.Yh(),this.pB(),this.td=!1,!0):!1},uC:null,rO:function(a,c){if(!q.A.prototype.v.call(this))return!1;this.qB(c,!1);this.ja(a);return!0},sO:function(a,c){if(!q.A.prototype.v.call(this))return!1;this.Wg(q.Kh.f().qi(q.V.lN));this.qB(c,!1);this.ja(a);return!0},zaa:function(a){a&&this.qB(a,!0)},C5:function(){return this.WO(!1)},RR:function(a,c,d){c=c||0.5;!1===this.Uj&&(this.Uj=!0);var e=this.Ig;if(e&&e.width!=a.width||e.height!=a.height)e.width=a.width,e.height=a.height;this.Xo!=c&&(this.Xo=c);this.Yh();
this.Jr!=d&&(this.Jr=d);this.td=!0},V1:function(){this.Uj&&(this.Uj=!1,this.td=!0)},SR:function(a,c){!1===this.$k&&(this.$k=!0);var d=this.Pr;if(d.r!==a.r||d.p!==a.p||d.k!==a.k)d.r=a.r,d.p=a.p,d.k=a.k,this.Yh();this.cp!==c&&(this.cp=c||0);this.td=!0},W1:function(){this.$k&&(this.$k=!1,this.td=!0)},oD:null,zP:function(a){var c=this.dp;if(c.r!=a.r||c.p!=a.p||c.k!=a.k)c.r=a.r,c.p=a.p,c.k=a.k,this.Yh(),this.td=!0},AP:function(a){var c=this.dp;if(c.r!=a.r||c.p!=a.p||c.k!=a.k)c.r=a.r,c.p=a.p,c.k=a.k,this.Yh(),
this.td=!0},qB:function(a,c){a.ms?(this.Rd.width=a.ms.width,this.Rd.height=a.ms.height):(this.Rd.width=0,this.Rd.height=0);this.Lk=a.KH;this.dl=a.LH;this.vf=a.ns;this.Sd=a.fontSize||12;this.Ij=this.Sd+"px '"+this.vf+"'";this.Hj=q.V.zu(this.vf,this.Sd);a.RK&&this.RR(a.SK,a.TK,a.shadowBlur,!1);a.ID&&this.SR(a.strokeColor,a.eL,!1);this.oD(a.MH,!1);c&&this.pB()},WO:function(a){var c=new q.bM;a?(c.fontSize=this.Sd,c.ms=q.Iy(this.Rd)):(c.fontSize=this.Sd,c.ms=q.size(this.Rd.width,this.Rd.height));c.ns=
this.vf;c.KH=this.Lk;c.LH=this.dl;if(this.$k){c.ID=!0;var d=this.Pr;c.strokeColor=new q.wc(d.r,d.p,d.k);c.eL=this.cp}else c.ID=!1;this.Uj?(c.RK=!0,c.shadowBlur=this.Jr,c.TK=this.Xo,c.SK=a?q.Iy(this.Ig):q.size(this.Ig.width,this.Ig.height)):c.Uj=!1;a=this.dp;c.MH=new q.wc(a.r,a.p,a.k);return c},Hj:18,ja:function(a){a&&(a=String(a),a=a.replace("\x3cCOPYRIGHT\x3e","\u00a9"));this.pA!=a&&(this.pA=a+"",this.OG(),this.td=!0)},OG:function(){this.Jg=this.pA},A$:function(a){a!==this.Lk&&(this.Lk=a,this.td=
!0)},Maa:function(a){a!=this.dl&&(this.dl=a,this.td=!0)},Eb:function(a){if(a.width!=this.Rd.width||a.height!=this.Rd.height)this.Rd=a,this.OG(),this.td=!0},ix:function(a){this.Sd!==a&&(this.Sd=a*q.Uc(),this.Ij=this.Sd+"px '"+this.vf+"'",this.Hj=q.V.zu(this.vf,this.Sd),this.td=!0)},pD:function(a){this.vf&&this.vf!=a&&(this.vf=a,this.Ij=this.Sd+"px '"+a+"'",this.Hj=q.V.zu(a,this.Sd),this.td=!0)},aO:function(a){if(a){var c=this.gB,d=this.hB,e=this.Ba.xa-d,f=this.dl,g=this.Lk,h=this.Hj,k=this.cp;a.setTransform(1,
0,0,1,0+0.5*c,e+0.5*d);a.font!=this.Ij&&(a.font=this.Ij);a.fillStyle=this.Zu;var l=d=0,m=this.$k;m&&(a.lineWidth=2*k,a.strokeStyle=this.Qv);this.Uj&&(k=this.Ig,a.shadowColor=this.Ov,a.shadowOffsetX=k.width,a.shadowOffsetY=-k.height,a.shadowBlur=this.Jr);a.textBaseline=q.V.ZP[f];a.textAlign=q.V.YP[g];c=this.Ba.Ha-c;d=g===q.$M?d+c:g===q.zj?d+Math.floor(c/2):d+0;a.lineHeight=this.Rd.height/this.Vi.length;if(this.Io)for(g=this.Vi.length,f===q.tu||f===q.su?l=h+e-h*g:f===q.uu&&(l=h/2+(e-h*g)/2),f=0;f<g;f++)c=
this.Vi[f],k=-e+h*f+l,m&&a.strokeText(c,d,k),a.fillText(c,d,k);else f!==q.tu&&(l=f===q.vu?l-e:f===q.su?l+e:l-0.5*e),m&&a.strokeText(this.Jg,d,l),a.fillText(this.Jg,d,l)}},Xz:function(){if(this.nv)return this.nv;if(!this.mv){var a=document.createElement("canvas"),c=new q.cc;c.lf(a);this.ma(c);this.mv=a}return this.nv=this.mv.getContext("2d")},PG:function(){var a=this.Rd.width,c,d;this.TF=[];this.Io=!1;this.HO();if(0!==a){var e=this.Jg;this.Vi=[];c=0;for(d=this.Jg.length;c<d;){var f=this.KN(e.substr(c),
a);this.Vi.push(e.substr(c,f));c+=f}}else for(this.Vi=this.Jg.split("\n"),c=0,d=this.Vi.length;c<d;c++)this.TF.push(this.ur(this.Vi[c]));0<this.Vi.length&&(this.Io=!0);d=c=0;this.$k&&(c=d=2*this.cp);this.Uj&&(e=this.Ig,c+=2*Math.abs(e.width),d+=2*Math.abs(e.height));a=0===a?this.Io?q.size(0|Math.max.apply(Math,this.TF)+c,0|this.Hj*this.Vi.length+d):q.size(0|this.ur(this.Jg)+c,0|this.Hj+d):0===this.Rd.height?this.Io?q.size(0|a+c,0|this.Hj*this.Vi.length+d):q.size(0|a+c,0|this.Hj+d):q.size(0|a+c,0|
this.Rd.height+d);this.U(a);this.gB=c;this.hB=d;e=this.Lh;this.Qd.J=0.5*c+Math.round((a.width-c)*e.J);this.Qd.P=0.5*d+Math.round((a.height-d)*e.P)},c:function(){this.td&&this.PG();return q.A.prototype.c.call(this)},pB:function(){var a=this.Xz(),c=this.mv,d=this.Ba;if(0===this.Jg.length)return c.width=1,c.height=d.xa,this.ib(q.rect(0,0,1,d.xa)),!0;a.font=this.Ij;this.PG();var e=d.Ha,d=d.xa,f=c.width==e&&c.height==d;c.width=e;c.height=d;f&&a.clearRect(0,0,e,d);this.aO(a);this.Ga.$d();this.YK=!0;this.ib(q.rect(0,
0,e,d));return!0},Aa:function(a){this.Jg&&""!=this.Jg&&(this.td&&(this.td=!1,this.pB()),q.A.prototype.Aa.call(this,a||q.Z))},Va:null,Bg:function(a){if(this.Jg&&""!=this.Jg){a=a||q.Z;var c=this.Ga;c&&c.zc&&(this.Lc.sf(),this.Lc.Xg(),q.fk(this.na.src,this.na.Nb),q.Mg(c),q.Fe(q.ru),a.bindBuffer(a.ARRAY_BUFFER,this.Iv),this.zf&&(a.bufferData(a.ARRAY_BUFFER,this.Rb.CB,a.STATIC_DRAW),this.zf=!1),a.vertexAttribPointer(q.Ue,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(q.sq,2,a.FLOAT,!1,24,16),a.vertexAttribPointer(q.rq,
4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));1===q.wj?(a=this.Rb,a=[q.a(a.Wa.w.x,a.Wa.w.y),q.a(a.Na.w.x,a.Na.w.y),q.a(a.Za.w.x,a.Za.w.y),q.a(a.Qa.w.x,a.Qa.w.y)],q.ye.Wd(a,4,!0)):2===q.wj&&(a=this.gC().Ua,c=this.jc,a=[q.a(c.x,c.y),q.a(c.x+a.width,c.y),q.a(c.x+a.width,c.y+a.height),q.a(c.x,c.y+a.height)],q.ye.Wd(a,4,!0));q.xh++}},SA:function(a,c,d){this.cd=c||!1;d=d||q.size(a.width/q.Uc(),a.height/q.Uc());this.U(d);this.AD(a);this.YK&&(c=q.pa.f().ua,d=q.pa.f().Ca,this.za.width/=c,
this.za.height/=d);c=this.Lm;d=this.zo;c.x=a.x;c.y=a.y;c.width=a.width;c.height=a.height;c.Rl=!(0===c.width||0===c.height);d.width=c.width;d.height=c.height;d.Rl=!(0===d.width||0===d.height);a=this.bi;this.dc&&(a.J=-a.J);this.ec&&(a.P=-a.P);this.jc.J=a.x+(this.Ba.Ha-this.za.width)/2;this.jc.P=a.y+(this.Ba.xa-this.za.height)/2;this.mb&&(this.Ma=!0)},Gj:function(a){if(this.qb){a=a||q.Z;this.rm&&(a.globalCompositeOperation="lighter");a.kT=this.Yo;var c=q.pa.f().ua,d=q.pa.f().Ca;a.globalAlpha=this.$b/
255;var e=this.za,f=this.Ba,g=this.jc,h=this.zo,k=0|g.J,l=-g.P-e.height,m=this.Lm;!0==this.Lr&&(a.shadowBlur=30,a.shadowColor="black");if(this.dc||this.ec)a.save(),this.dc&&(k=-g.J-e.width,a.scale(-1,1)),this.ec&&(l=g.P,a.scale(1,-1));k*=c;l*=d;if(this.Ga&&m.Rl)e=this.Ga.rc,this.Dq?a.drawImage(e,0,0,m.width,m.height,k,l,h.width,h.height):a.drawImage(e,m.x,m.y,m.width,m.height,k,l,h.width,h.height);else if(0!==f.Ha){var n=this.zd();a.fillStyle="rgba("+n.r+","+n.p+","+n.k+",1)";a.fillRect(k,l,f.Ha*
c,f.xa*d)}!0==this.Lr&&(a.shadowBlur=0);!0==this.XA&&(a.globalAlpha=1,a.beginPath(),a.strokeStyle="rgba("+n.r+","+n.p+","+n.k+",1)",a.lineWidth="1",fa(a,k,l,f.Ha*c,f.xa*d),a.stroke());2===q.wj&&(a.strokeStyle="rgba(0,255,0,1)",n=this.za.Ua,l=-l,k=[q.a(k,l),q.a(k+n.width,l),q.a(k+n.width,l-n.height),q.a(k,l-n.height)],q.ye.Wd(k,4,!0));(this.dc||this.ec)&&a.restore();q.xh++}},qG:function(a){var c=this.mb?this.Ra.fa():this.Ga;if(c){var d=c.zp(),e=c.yp(),f,g=this.Rb;this.cd?(q.Kt?(c=(2*a.x+1)/(2*d),d=
c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/d,f=a.y/e,a=(a.y+a.width)/e),this.dc&&(e=f,f=a,a=e),this.ec&&(e=c,c=d,d=e),g.Na.F.Sa=c,g.Na.F.sa=f,g.Za.F.Sa=c,g.Za.F.sa=a,g.Wa.F.Sa=d,g.Wa.F.sa=f,g.Qa.F.Sa=d,g.Qa.F.sa=a):(q.Kt?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+a.height)/e),this.dc&&(e=c,c=d,d=e),this.ec&&(e=f,f=a,a=e),g.Na.F.Sa=c,g.Na.F.sa=a,g.Za.F.Sa=d,g.Za.F.sa=
a,g.Wa.F.Sa=c,g.Wa.F.sa=f,g.Qa.F.Sa=d,g.Qa.F.sa=f);this.zf=!0}}});q.Ia.Sc?(b=q.V.prototype,b.q=q.A.prototype.q,b.Yh=q.V.prototype.vP,b.od=q.A.prototype.od,b.ra=q.A.prototype.ra,b.pd=q.A.prototype.pd,b.uC=q.V.prototype.sO,b.oD=q.V.prototype.AP,b.Va=q.V.prototype.Bg,b.ib=q.A.prototype.rG):(b=q.V.prototype,b.q=q.V.prototype.Er,b.Yh=q.V.prototype.nG,b.od=q.V.prototype.nB,b.ra=q.V.prototype.Gr,b.pd=q.V.prototype.LG,b.uC=q.V.prototype.rO,b.oD=q.V.prototype.zP,b.Va=q.V.prototype.Gj,b.ib=q.V.prototype.SA);
q.V.YP=["left","center","right"];q.V.ZP=["top","middle","bottom","alphabetic"];q.V.LN=/(.+?)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;q.V.mP=/(.*)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;q.V.JN=/[\s\-\/\\\:]/;q.V.create=function(a,c,d,e,f,g){var h=new q.V;return h.ol(a,c,d,e,f,g)?h:null};q.V.L1=function(a,c){var d=new q.V;return d&&d.uC(a,c)?d:null};q.V.lN=q.hN?q.Hy:q.WZ;q.V.bm=document.createElement("div");q.V.bm.style.fontFamily="Arial";q.V.bm.style.position="absolute";
q.V.bm.style.left="-100px";q.V.bm.style.top="-100px";q.V.bm.style.lineHeight="normal";document.body.appendChild(q.V.bm);q.V.zu=function(a,c){var d=q.V.fF[a+"."+c];if(0<d)return d;var e=q.V.bm;e.innerHTML="ajghl~!";e.style.fontFamily=a;e.style.fontSize=c+"px";d=e.clientHeight;q.V.fF[a+"."+c]=d;e.innerHTML="";return d};q.V.fF={};q.eM=q.La.extend({Nc:null,target:null,Wm:0,wh:null,$m:!1,paused:!1,hh:null,ctor:function(){this.Nc=[];this.X=null;this.Wm=0;this.wh=null;this.paused=this.$m=!1;this.hh=null}});
q.CL=q.La.extend({Ph:null,eo:null,uf:null,Gi:!1,o0:function(a,c){for(var d=0;d<a.length;d++)if(c==a[d].target)return a[d];return null},ctor:function(){this.Ph={};this.eo=[];this.uf=null;this.Gi=!1},tQ:function(a,c,d){if(!a)throw"cc.ActionManager.addAction(): action must be non-null";if(!c)throw"cc.ActionManager.addAction(): action must be non-null";var e=this.Ph[c.lc];e||(e=new q.eM,e.paused=d,e.target=c,this.Ph[c.lc]=e,this.eo.push(e));this.qN(e);e.Nc.push(a);a.ea(c)},n9:function(){for(var a=this.eo,
c=0;c<a.length;c++){var d=a[c];d&&this.JJ(d.target,!0)}},JJ:function(a,c){if(null!=a){var d=this.Ph[a.lc];d&&(-1===d.Nc.indexOf(d.wh)||d.$m||(d.$m=!0),d.Nc=[],this.uf!=d||c?this.Ez(d):this.Gi=!0)}},IJ:function(a){if(null!=a){var c=this.Ph[a.xm.lc];if(c)for(var d=0;d<c.Nc.length;d++){if(c.Nc[d]==a){c.Nc.splice(d,1);break}}else q.log("cocos2d: removeAction: Target not found")}},bV:function(a,c){a==q.Ln&&q.log("cc.ActionManager.removeActionByTag(): an invalid tag");if(!c)throw"cc.ActionManager.removeActionByTag(): target must be non-null";
var d=this.Ph[c.lc];if(d)for(var e=d.Nc.length,f=0;f<e;++f){var g=d.Nc[f];if(g&&g.xd===a&&g.xm==c){this.$O(f,d);break}}},ZB:function(a,c){a==q.Ln&&q.log("cc.ActionManager.getActionByTag(): an invalid tag");var d=this.Ph[c.lc];if(d){if(null!=d.Nc)for(var e=0;e<d.Nc.length;++e){var f=d.Nc[e];if(f&&f.xd===a)return f}q.log("cocos2d : getActionByTag(tag \x3d"+a+"): Action not found")}return null},kJ:function(a){return(a=this.Ph[a.lc])?a.Nc?a.Nc.length:0:0},Js:function(a){if(a=this.Ph[a.lc])a.paused=!0},
vn:function(a){if(a=this.Ph[a.lc])a.paused=!1},Q8:function(){for(var a=[],c=this.eo,d=0;d<c.length;d++){var e=c[d];e&&!e.paused&&(e.paused=!0,a.push(e.target))}return a},uV:function(a){if(a)for(var c=0;c<a.length;c++)a[c]&&this.vn(a[c])},b9:function(){q.da.f().Gf().Zp(this)},$O:function(a,c){c.Nc[a]!=c.wh||c.$m||(c.$m=!0);q.cq(c.Nc,a);c.Wm>=a&&c.Wm--;0==c.Nc.length&&(this.uf==c?this.Gi=!0:this.Ez(c))},Ez:function(a){a&&(delete this.Ph[a.target.lc],q.fe(this.eo,a),a.Nc=null,a.target=null)},qN:function(a){null==
a.Nc&&(a.Nc=[])},update:function(a){for(var c=this.eo,d,e=0;e<c.length;e++){d=this.uf=c[e];if(!d.paused)for(d.Wm=0;d.Wm<d.Nc.length;d.Wm++)if(d.wh=d.Nc[d.Wm],d.wh){d.$m=!1;d.wh.step(a);if(d.$m)d.wh=null;else if(d.wh.ni()){d.wh.stop();var f=d.wh;d.wh=null;this.IJ(f)}d.wh=null}this.Gi&&0===d.Nc.length&&this.Ez(d)}}});q.tf=q.La.extend({S:null,Gv:q.vj(),Nf:0,ctor:function(a,c,d){this.S=q.a(a||0,c||0);this.Nf=d||0},d4:function(){return this.S},wS:function(){return this.Gv},w3:function(){return q.Jd(this.S,this.Gv)},U3:function(){return this.Nf},V3:function(){return this.Nf},yD:function(a,c,d){this.Gv=this.S;this.S=q.a(c||0,d||0);this.Nf=a},Wf:function(a,c){this.Gv=q.a(a||0,c||0)}});
q.aF=q.La.extend({S_:null,vb:function(){return!1},Ad:function(){},Tg:function(){},jk:function(){},oJ:function(){},rJ:function(){},qJ:function(){},pJ:function(){},Kba:function(){},Jba:function(){}});q.p_=q.aF.extend({vb:function(){return!1},Ad:function(){},Tg:function(){},jk:function(){}});q.f_=q.aF.extend({oJ:function(){},rJ:function(){},qJ:function(){},pJ:function(){}});q.$n=q.La.extend({Ja:null,yf:0,Ao:0,nc:function(){return this.Ja},lg:function(a){this.Ja=a},xS:function(){return this.yf},Ts:function(a){this.yf=a},fS:function(){return this.Ao},aW:function(a){this.Ao=a},gk:function(a,c){if(!a)throw"cc.TouchHandler.initWithDelegate(): touch delegate should not be null";this.Ja=a;this.yf=c;this.Ao=0;return!0}});q.$n.create=function(a,c){var d=new q.$n;d&&d.gk(a,c);return d};q.My=q.$n.extend({gk:function(a,c){return q.$n.prototype.gk.call(this,a,c)}});
q.My.create=function(a,c){var d=new q.My;d&&d.gk(a,c);return d};q.ku=q.$n.extend({Uv:!1,to:null,l7:function(){return this.Uv},waa:function(a){this.Uv=a},h3:function(){return this.to},gk:function(a,c,d){return q.$n.prototype.gk.call(this,a,c)?(this.to=[],this.Uv=d,!0):!1}});q.ku.create=function(a,c,d){var e=new q.ku;e&&e.gk(a,c,d);return e};q.cN=1;q.fN=2;q.eN=4;q.dN=8;q.s_=q.cN|q.fN|q.eN|q.dN;q.Qy=0;q.Ty=1;q.Sy=2;q.Ry=3;q.r_=4;q.YI=function(a,c){return a.yf>c.yf};q.ou=function(a){this.type=a};
q.qa=q.La.extend({Rj:!1,cf:null,bf:null,tm:!1,Xr:!1,dw:!1,Mk:null,Jj:null,cw:!1,Fj:!1,kO:[new q.ou(q.Qy),new q.ou(q.Ty),new q.ou(q.Sy),new q.ou(q.Ry)],v:function(){this.Fj=!0;this.cf=[];this.bf=[];this.Mk=[];this.Jj=[];this.Rj=this.tm=this.cw=this.Xr=this.dw=!1;q.qa.YU();return!0},Fr:function(a){this.Rj=a},fO:function(){return this.Rj},K6:function(){return this.Fj},ZV:function(a){this.Fj=a},uN:function(a,c){var d=q.My.create(a,c||0);this.tm?-1!=this.Jj.indexOf(a)?q.fe(this.Jj,a):(this.Mk.push(d),
this.Xr=!0):this.bf=this.qp(d,this.bf)},vN:function(a,c,d){c=q.ku.create(a,c,d);this.tm?-1!=this.Jj.indexOf(a)?q.fe(this.Jj,a):(this.Mk.push(c),this.Xr=!0):this.cf=this.qp(c,this.cf)},qp:function(a,c){for(var d=0,e,f=0;f<c.length;f++)if(e=c[f])if(e.yf<a.yf&&++d,e.nc()==a.nc())return q.log("cc.TouchDispatcher.forceAddHandler(): The handler has been added."),c;return q.Vl(c,a,d)},NH:function(){this.bf.length=0;this.cf.length=0},cP:function(a){if(null!=a)if(this.tm){var c=this.IH(this.Mk,a);c?q.fe(this.Mk,
c):(this.Jj.push(a),this.dw=!0)}else this.OH(a)},dV:function(){this.tm?this.cw=!0:this.NH()},Ts:function(a,c){if(!c)throw"cc.TouchDispatcher.setPriority(): delegate should be non-null.";var d=this.IH(c);d?d.yf!=a&&(d.Ts(a),this.DJ(this.cf),this.DJ(this.bf)):q.log("cc.TouchDispatcher.setPriority(): Can't find TouchHandler.")},touches:function(a,c,d){if(0>d||4<=d)throw"cc.TouchDispatcher.touches(): invalid index";this.tm=!0;var e=this.cf.length,f=this.bf.length,g=e&&f,h=g?a.slice():a,k=this.kO[d];if(0<
e)for(var l,m,n=0;n<a.length;n++)for(var e=a[n],t=0;t<this.cf.length;t++){l=this.cf[t];if(!l)break;m=!1;if(d==q.Qy)l.nc().vb&&(m=l.nc().vb(e,c))&&l.to.push(e);else if(0<l.to.length)switch(m=!0,k.type){case q.Ty:q.Ia.ej?l.nc().Ad&&l.nc().Ad(e,c):this.Rj&&l.nc().Ad&&l.nc().Ad(e,c);break;case q.Sy:l.nc().Tg&&l.nc().Tg(e,c);l.to.length=0;break;case q.Ry:l.nc().jk&&l.nc().jk(e,c),l.to.length=0}if(m&&l.Uv){g&&q.fe(h,e);break}}if(0<f)for(n=0;n<this.bf.length&&(l=this.bf[n],l);n++);this.tm=!1;if(this.dw){this.dw=
!1;for(n=0;n<this.Jj.length;n++)this.OH(this.Jj[n]);this.Jj.length=0}if(this.Xr){this.Xr=!1;for(n=0;n<this.Mk.length;n++){l=this.Mk[n];if(!l)break;l instanceof q.ku?this.cf=this.qp(l,this.cf):this.bf=this.qp(l,this.bf)}this.Mk.length=0}this.cw&&(this.cw=!1,this.NH())},Hx:function(a,c){this.Fj&&this.touches(a,c,q.Qy)},Ix:function(a,c){this.Fj&&this.touches(a,c,q.Ty)},at:function(a,c){this.Fj&&this.touches(a,c,q.Sy)},ND:function(a,c){this.Fj&&this.touches(a,c,q.Ry)},IH:function(a,c){switch(arguments.length){case 1:c=
arguments[0];if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(var d=0;d<this.cf.length;d++)if(this.cf[d].nc()==c)return this.cf[d];for(d=0;d<this.bf.length;d++)if(this.bf[d].nc()==c)return this.bf[d];return null;case 2:if(!a)throw"cc.TouchDispatcher.findHandler(): array should be non-null.";if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(d=0;d<a.length;d++)if(a[d].nc()==c)return a[d];return null;default:throw"Argument must be non-nil ";
}},OH:function(a){for(var c,d=0;d<this.bf.length;d++)if((c=this.bf[d])&&c.nc()==a){q.fe(this.bf,c);break}for(d=0;d<this.cf.length;d++)if((c=this.cf[d])&&c.nc()==a){q.fe(this.cf,c);break}},DJ:function(a){a.sort(q.YI)}});q.qa.wb=q.a(0,0);q.qa.NI=!1;
q.Yi=function(a){var c=document.documentElement,d=window,e=null,e="function"===typeof a.getBoundingClientRect?a.getBoundingClientRect():a instanceof HTMLCanvasElement?{left:0,top:0,width:a.width,height:a.height}:{left:0,top:0,width:parseInt(a.style.width),height:parseInt(a.style.height)};return{left:e.left+d.pageXOffset-c.clientLeft,top:e.top+d.pageYOffset-c.clientTop,width:e.width,height:e.height}};
q.OM=function(a,c){var d=q.Yi(a),e,f;null!=c.pageX?(e=c.pageX,f=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,e=c.clientX,f=c.clientY);e=q.pa.f().dk(e,f,d);d=new q.tf(e.x,e.y);d.Wf(q.qa.wb.x,q.qa.wb.y);q.qa.wb.x=e.x;q.qa.wb.y=e.y;e=[];e.push(d);q.pa.f().at(e,null)};
q.qa.YU=function(){var a=q.canvas;if(!q.qa.NI){if(q.Ia.ej)if(window.navigator.msPointerEnabled){var c={MSPointerDown:"touchesBegan",MSPointerMove:"touchesMoved",MSPointerUp:"touchesEnded",MSPointerCancel:"touchesCancelled"},d;for(d in c)(function(c,d){a.addEventListener(c,function(c){var e=q.Yi(a);e.left-=document.body.scrollLeft;e.top-=document.body.scrollTop;var k,l;k=c.clientX;l=c.clientY;k=q.pa.f().dk(k,l,e);e=new q.tf(k.x,k.y);e.Wf(q.qa.wb.x,q.qa.wb.y);q.qa.wb.x=k.x;q.qa.wb.y=k.y;q.da.f().ef[d]([e],
null);c.stopPropagation();c.preventDefault()},!1)})(d,c[d])}else a.addEventListener("touchstart",function(c){if(c.changedTouches){var d=[],g=q.Yi(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=q.pa.f().dk(k,l,g),h.hasOwnProperty("identifier")?(h=new q.tf(k.x,k.y,h.identifier),l=q.qa.bv(h).S,h.Wf(l.x,l.y),q.qa.oG(h)):(h=new q.tf(k.x,k.y),h.Wf(q.qa.wb.x,q.qa.wb.y)),q.qa.wb.x=k.x,
q.qa.wb.y=k.y,d.push(h);q.pa.f().Hx(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchmove",function(c){if(c.changedTouches){var d=[],g=q.Yi(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=q.pa.f().dk(k,l,g),h.hasOwnProperty("identifier")?(h=new q.tf(k.x,k.y,h.identifier),l=q.qa.bv(h).S,h.Wf(l.x,l.y),q.qa.oG(h)):(h=new q.tf(k.x,k.y),h.Wf(q.qa.wb.x,q.qa.wb.y)),
q.qa.wb.x=k.x,q.qa.wb.y=k.y,d.push(h);q.pa.f().Ix(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchend",function(c){if(c.changedTouches){var d=[],g=q.Yi(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=q.pa.f().dk(k,l,g),h.hasOwnProperty("identifier")?(h=new q.tf(k.x,k.y,h.identifier),l=q.qa.bv(h).S,h.Wf(l.x,l.y),q.qa.xF(h)):(h=new q.tf(k.x,k.y),h.Wf(q.qa.wb.x,
q.qa.wb.y)),q.qa.wb.x=k.x,q.qa.wb.y=k.y,d.push(h);q.pa.f().at(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchcancel",function(c){if(c.changedTouches){var d=[],g=q.Yi(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=q.pa.f().dk(k,l,g),h.hasOwnProperty("identifier")?(h=new q.tf(k.x,k.y,h.identifier),l=q.qa.bv(h).S,h.Wf(l.x,l.y),q.qa.xF(h)):(h=new q.tf(k.x,
k.y),h.Wf(q.qa.wb.x,q.qa.wb.y)),q.qa.wb.x=k.x,q.qa.wb.y=k.y,d.push(h);q.pa.f().ND(d,null);c.stopPropagation();c.preventDefault()}},!1);else window.addEventListener("mousedown",function(){q.da.f().ef.Fr(!0)}),window.addEventListener("mouseup",function(c){q.da.f().ef.Fr(!1);var d=q.Yi(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);q.hb(new q.vg(d.left,d.top,d.width,d.height),q.a(g,c))||(g=q.pa.f().dk(g,c,d),d=new q.tf(g.x,
g.y),d.Wf(q.qa.wb.x,q.qa.wb.y),q.qa.wb.x=g.x,q.qa.wb.y=g.y,g=[],g.push(d),q.pa.f().at(g,null))}),a.addEventListener("mousedown",function(c){var d=q.Yi(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=q.pa.f().dk(g,c,d);d=new q.tf(g.x,g.y);d.Wf(q.qa.wb.x,q.qa.wb.y);q.qa.wb.x=g.x;q.qa.wb.y=g.y;g=[];g.push(d);q.pa.f().Hx(g,null)}),a.addEventListener("mouseup",function(c){q.OM(a,c)}),a.addEventListener("mousemove",function(c){var d=
q.Yi(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=q.pa.f().dk(g,c,d);d=new q.tf(g.x,g.y);d.Wf(q.qa.wb.x,q.qa.wb.y);q.qa.wb.x=g.x;q.qa.wb.y=g.y;g=[];g.push(d);q.pa.f().Ix(g,null)});q.qa.NI=!0}};q.qa.bv=function(a){for(var c=null,d=q.qa.wA,e=a.Nf,f=d.length-1;0<=f;f--)if(d[f].Nf==e){c=d[f];break}c||(c=a);return c};
q.qa.oG=function(a){for(var c=!1,d=q.qa.wA,e=a.Nf,f=d.length-1;0<=f;f--)if(d[f].Nf==e){d[f]=a;c=!0;break}c||(50>=d.length?d.push(a):(d[q.qa.xA]=a,q.qa.xA=(q.qa.xA+1)%50))};q.qa.xF=function(a){var c,d=q.qa.wA;c=a.Nf;for(a=d.length-1;0<=a;a--)if(d[a].Nf==c){c=d.pop();a!=d.length&&(d[a]=c);break}};q.qa.wA=[];q.qa.xA=0;q.XC=function(a,c,d){q.da.f().ef.vN(d,a,c)};q.ZU=function(a,c){q.da.f().ef.uN(a,c)};q.kL=function(a){q.da.f().ef.cP(a)};q.xM=1;q.xE=2;q.iZ=4;q.BM=8;q.JZ=16;q.KZ=32;q.LZ=64;q.vZ=128;q.wZ=256;q.xZ=512;q.PE=1024;q.yM=2048;q.zM=4096;q.AM=0;q.jZ=1;q.yE=2;q.lZ=q.La.extend({ZT:function(){return!1},$T:function(){return!1},jj:function(){return!1},cU:function(){return!1},gU:function(){return!1},hU:function(){return!1},iU:function(){return!1},dU:function(){return!1},eU:function(){return!1},fU:function(){return!1},jU:function(){return!1},aU:function(){return!1},bU:function(){return!1}});
q.CM=q.tf.extend({SG:0,pF:q.AM,a6:function(){return this.SG},NK:function(a){this.SG=a},Z2:function(){return this.pF},OV:function(a){this.pF=a}});q.vy=q.La.extend({Ja:null,yf:0,Ao:0,nc:function(){return this.Ja},lg:function(a){this.Ja=a},xS:function(){return this.yf},Ts:function(a){this.yf=a},fS:function(){return this.Ao},aW:function(a){this.Ao=a},gk:function(a,c){this.Ja=a;this.yf=c}});q.vy.create=function(a,c){var d=new q.vy;d.gk(a,c);return d};
q.je=q.La.extend({Rj:!1,Kv:!1,Of:null,Fj:!1,v:function(){this.Fj=!0;this.Of=[];this.Kv=this.Rj=!1;q.je.YO();return!0},Fr:function(a){this.Rj=a},fO:function(){return this.Rj},pG:function(a){this.Kv=a},Z_:function(){return this.Kv},aH:function(a,c){var d=q.vy.create(a,c);this.Of=this.qp(d,this.Of)},qp:function(a,c){for(var d=0,e=0;e<c.length;e++){var f=c[e];if(f&&(f.yf<a.yf&&++d,f.nc()==a.nc()))return q.log("cc.MouseDispatcher.forceAddHandler(): handler has been added."),c}return q.Vl(c,a,d)},KJ:function(a){if(null!=
a)for(var c=0;c<this.Of.length;c++){var d=this.Of[c];if(d&&d.nc()==a){q.fe(this.Of,d);break}}},dO:function(a){for(var c=0;c<this.Of.length;c++)if(this.Of[c]&&this.Of[c].nc()==a)return this.Of[c];return null},Ts:function(a,c){if(!c)throw"cc.MouseDispatcher.setPriority(): delegate should be non-null";var d=this.dO(c);d?d.yf!=a&&(d.Ts(a),this.Of.sort(q.YI)):q.log("cc.MouseDispatcher.setPriority(): Can't find MouseHandler in array")},q9:function(){this.Of.length=0},kn:function(a,c,d){for(c=0;c<this.Of.length;c++){var e=
this.Of[c];switch(d){case q.xE:this.Rj||this.Kv||!e.nc().jj||e.nc().jj(a)}}}});q.je.Fv=q.a(0,0);q.je.BO=!1;
q.je.YO=function(){var a=q.canvas;function c(c){var e=q.Yi(a),f=c.pageX,g=c.pageY,h=q.pa.f(),f=(f-e.left)/h.ua,e=(e.height-(g-e.top))/h.Ca,g=new q.CM(f,e);g.Wf(q.je.Fv.x,q.je.Fv.y);g.OV(c.button);q.je.Fv.x=f;q.je.Fv.y=e;return g}q.je.BO||(window.addEventListener("mousedown",function(a){a.button==q.yE?q.da.f().Ff().pG(!0):q.da.f().Ff().Fr(!0)}),window.addEventListener("mouseup",function(a){a.button==q.yE?q.da.f().Ff().pG(!1):q.da.f().Ff().Fr(!1)}),a.addEventListener("mousedown",function(a){q.da.f().Ff().kn(c(a),
a,q.xM)}),a.addEventListener("mouseup",function(a){q.da.f().Ff().kn(c(a),a,q.BM)}),a.addEventListener("mousemove",function(a){q.da.f().Ff().kn(c(a),a,q.xE)}),a.addEventListener("mousewheel",function(a){var e=c(a);e.NK(a.wheelDelta);q.da.f().Ff().kn(e,a,q.PE)},!1),a.addEventListener("DOMMouseScroll",function(a){var e=c(a);e.NK(-120*a.detail);q.da.f().Ff().kn(e,a,q.PE)}),a.addEventListener("mouseout",function(a){q.da.f().Ff().kn(c(a),a,q.zM)},!1),a.addEventListener("mouseover",function(a){q.da.f().Ff().kn(c(a),
a,q.yM)},!1))};q.Yba=function(){return{x:0,y:0}};q.Ql=function(a,c){return{x:a,y:c}};q.Zg=function(a,c){return q.Ql(a.x+c.x,a.y+c.y)};q.Bd=function(a,c){return q.Ql(a.x-c.x,a.y-c.y)};q.qg=function(a,c){return q.Ql(a.x*c,a.y*c)};q.Ox=function(a){return q.Ql(-a.y,a.x)};q.pj=function(a){return q.Ql(-a.x,-a.y)};q.CX=function(a,c){return a.x*c.x+a.y*c.y};q.Xba=function(a){return q.Ql(Math.cos(a),Math.sin(a))};q.TD=function(a){a=q.Eh(q.a(a.x,a.y));return q.Ql(a.x,a.y)};q.yi=function(a){return q.Ql(a.x,a.y)};
q.Ib=function(a){return{Sa:a.x,sa:a.y}};
q.XL=q.H.extend({gb:null,na:null,yo:null,No:null,ps:function(){return this.na},El:function(a){this.na=a},q$:function(a){this.yo=q.j(a.r,a.p,a.k,a.K)},J$:function(a){this.No=null==a?null:q.j(a.r,a.p,a.k,a.K)},zw:function(){return q.j(this.yo.r,this.yo.p,this.yo.k,this.yo.K)},WH:function(){return this.No?q.j(this.No.r,this.No.p,this.No.k,this.No.K):null},ctor:function(){q.H.prototype.ctor.call(this);this.gb=[];this.yo=q.j(0,0,0,255);this.na=new q.Xl(q.Qe,q.Pe)},Va:function(a){a=a||q.Z;var c=q.pa.f().ua;
this.na&&770==this.na.src&&1==this.na.Nb&&(a.globalCompositeOperation="lighter");for(var d=0;d<this.gb.length;d++){var e=this.gb[d];e.type===q.tg.YE&&(a.fillStyle="rgba("+(0|e.color.r)+","+(0|e.color.p)+","+(0|e.color.k)+","+e.color.K/255+")",q.ye.QB(e.position,e.VC));e.type===q.tg.ZE&&(a.strokeStyle="rgba("+(0|e.color.r)+","+(0|e.color.p)+","+(0|e.color.k)+","+e.color.K/255+")",a.lineWidth=2*e.VC*c,a.lineCap="round",q.ye.gi(e.from,e.Pl));e.type===q.tg.Uy&&(a.fillStyle="rgba("+(0|e.fillColor.r)+","+
(0|e.fillColor.p)+","+(0|e.fillColor.k)+","+e.fillColor.K/255+")",q.ye.Wd(e.Px,e.count,!1,!0),a.lineWidth=2*e.borderWidth*c,a.lineCap="round",a.strokeStyle="rgba("+(0|e.borderColor.r)+","+(0|e.borderColor.p)+","+(0|e.borderColor.k)+","+e.borderColor.K/255+")",q.ye.Wd(e.Px,e.count,!0,!1))}},RB:function(a,c,d,e,f,g){f=f||this.g0;g=g||this.zw();null==g.K&&(g.K=255);for(var h=[],k=0,l=0;l<e;l++)h.push(q.a(Math.pow(1-k,2)*a.x+2*(1-k)*k*c.x+k*k*d.x,Math.pow(1-k,2)*a.y+2*(1-k)*k*c.y+k*k*d.y)),k+=1/e;h.push(q.a(d.x,
d.y));a=new q.xu(q.tg.Uy);a.Px=h;a.lineWidth=f;a.fillColor=g;a.borderColor=g;a.k7=!0;a.lineCap="round";this.gb.push(a)},JR:function(a,c,d){var e=new q.xu(q.tg.YE);e.position=q.a(a.x,a.y);e.VC=c;e.color=d;this.gb.push(e)},NR:function(a,c,d,e){var f=new q.xu(q.tg.ZE);f.from=q.a(a.x,a.y);f.Pl=q.a(c.x,c.y);f.VC=d?d:1;f.color=e?e:this.zw();this.gb.push(f)},Wd:function(a,c,d,e){var f=new q.xu(q.tg.Uy);f.Px=a;f.count=a.length;f.fillColor=c?c:this.zw();f.borderWidth=d?d:1;f.borderColor=e?e:this.WH()?this.WH():
this.zw();this.gb.push(f)},clear:function(){this.gb.length=0}});
q.YL=q.H.extend({ko:0,gb:null,cl:null,FG:null,EG:null,na:null,Ma:!1,ps:function(){return this.na},El:function(a){this.na=a},ctor:function(){q.H.prototype.ctor.call(this);this.gb=[];this.na=new q.Xl(q.Qe,q.Pe)},v:function(){return q.H.prototype.v.call(this)?(this.Wg(q.Kh.f().qi(q.VZ)),this.Oz(512),this.FG=q.Z.createBuffer(),this.Ma=!0):!1},iP:function(){var a=q.Z;q.Fe(q.ru);a.bindBuffer(a.ARRAY_BUFFER,this.FG);this.Ma&&(a.bufferData(a.ARRAY_BUFFER,this.cl,a.STREAM_DRAW),this.Ma=!1);var c=q.Zb.BYTES_PER_ELEMENT;
a.vertexAttribPointer(q.Ue,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(q.rq,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(q.sq,2,a.FLOAT,!1,c,12);a.drawArrays(a.TRIANGLES,0,3*this.gb.length);q.Hh()},Oz:function(a){if(this.gb.length+a>this.ko){var c=q.Jc.BYTES_PER_ELEMENT;this.ko+=Math.max(this.ko,a);if(null==this.gb||0===this.gb.length)this.gb=[],this.cl=new ArrayBuffer(c*this.ko),this.EG=new Uint8Array(this.cl);else{a=[];for(var d=new ArrayBuffer(c*this.ko),e=0;e<this.gb.length;e++)a[e]=new q.Jc(this.gb[e].K,
this.gb[e].k,this.gb[e].Ka,d,e*c);this.EG=new Uint8Array(d);this.gb=a;this.cl=d}}},Va:function(){q.fk(this.na.src,this.na.Nb);this.Lc.sf();this.Lc.JK();this.iP()},JR:function(a,c,d){d={r:0|255*d.r,p:0|255*d.p,k:0|255*d.k,K:0|255*d.K};var e={w:{x:a.x-c,y:a.y-c},Q:d,F:{Sa:-1,sa:-1}},f={w:{x:a.x+c,y:a.y+c},Q:d,F:{Sa:1,sa:1}},g={w:{x:a.x+c,y:a.y-c},Q:d,F:{Sa:1,sa:-1}};this.gb.push(new q.Jc(e,{w:{x:a.x-c,y:a.y+c},Q:d,F:{Sa:-1,sa:1}},f,this.cl,this.gb.length*q.Jc.BYTES_PER_ELEMENT));this.gb.push(new q.Jc(e,
f,g,this.cl,this.gb.length*q.Jc.BYTES_PER_ELEMENT));this.Ma=!0},NR:function(a,c,d,e){this.Oz(18);e={r:0|255*e.r,p:0|255*e.p,k:0|255*e.k,K:0|255*e.K};var f=q.yi(a);c=q.yi(c);a=q.TD(q.Ox(q.Bd(c,f)));var g=q.Ox(a),h=q.qg(a,d);d=q.qg(g,d);var k=q.Zg(c,q.Bd(h,d)),l=q.Bd(c,h),m=q.Zg(c,h),n=q.Bd(f,h),t=q.Zg(f,h),s=q.Bd(f,q.Bd(h,d)),f=q.Zg(f,q.Zg(h,d)),u=q.Jc.BYTES_PER_ELEMENT,w=this.cl;this.gb.push(new q.Jc({w:q.Bd(c,q.Zg(h,d)),Q:e,F:q.Ib(q.pj(q.Zg(a,g)))},{w:k,Q:e,F:q.Ib(q.Bd(a,g))},{w:l,Q:e,F:q.Ib(q.pj(a))},
w,this.gb.length*u));this.gb.push(new q.Jc({w:m,Q:e,F:q.Ib(a)},{w:k,Q:e,F:q.Ib(q.Bd(a,g))},{w:l,Q:e,F:q.Ib(q.pj(a))},w,this.gb.length*u));this.gb.push(new q.Jc({w:m,Q:e,F:q.Ib(a)},{w:n,Q:e,F:q.Ib(q.pj(a))},{w:l,Q:e,F:q.Ib(q.pj(a))},w,this.gb.length*u));this.gb.push(new q.Jc({w:m,Q:e,F:q.Ib(a)},{w:n,Q:e,F:q.Ib(q.pj(a))},{w:t,Q:e,F:q.Ib(a)},w,this.gb.length*u));this.gb.push(new q.Jc({w:s,Q:e,F:q.Ib(q.Bd(g,a))},{w:n,Q:e,F:q.Ib(q.pj(a))},{w:t,Q:e,F:q.Ib(a)},w,this.gb.length*u));this.gb.push(new q.Jc({w:s,
Q:e,F:q.Ib(q.Bd(g,a))},{w:f,Q:e,F:q.Ib(q.Zg(a,g))},{w:t,Q:e,F:q.Ib(a)},w,this.gb.length*u));this.Ma=!0},Wd:function(a,c,d,e){c={r:0|255*c.r,p:0|255*c.p,k:0|255*c.k,K:0|255*c.K};e={r:0|255*e.r,p:0|255*e.p,k:0|255*e.k,K:0|255*e.K};var f=[],g,h,k,l,m=a.length;for(g=0;g<m;g++){h=q.yi(a[(g-1+m)%m]);k=q.yi(a[g]);l=q.yi(a[(g+1)%m]);var n=q.TD(q.Ox(q.Bd(k,h)));k=q.TD(q.Ox(q.Bd(l,k)));f[g]={offset:q.qg(q.Zg(n,k),1/(q.CX(n,k)+1)),gJ:k}}n=0<d;this.Oz(3*(3*m-2));var t=q.Jc.BYTES_PER_ELEMENT,s=this.cl,u=this.gb,
w=!1==n?0.5:0;for(g=0;g<m-2;g++)h=q.Bd(q.yi(a[0]),q.qg(f[0].offset,w)),k=q.Bd(q.yi(a[g+1]),q.qg(f[g+1].offset,w)),l=q.Bd(q.yi(a[g+2]),q.qg(f[g+2].offset,w)),u.push(new q.Jc({w:h,Q:c,F:q.Ib({x:0,y:0})},{w:k,Q:c,F:q.Ib({x:0,y:0})},{w:l,Q:c,F:q.Ib({x:0,y:0})},s,u.length*t));for(g=0;g<m;g++){w=(g+1)%m;h=q.yi(a[g]);k=q.yi(a[w]);l=f[g].gJ;var D=f[g].offset,H=f[w].offset,w=n?q.Bd(h,q.qg(D,d)):q.Bd(h,q.qg(D,0.5)),B=n?q.Bd(k,q.qg(H,d)):q.Bd(k,q.qg(H,0.5));h=n?q.Zg(h,q.qg(D,d)):q.Zg(h,q.qg(D,0.5));k=n?q.Zg(k,
q.qg(H,d)):q.Zg(k,q.qg(H,0.5));n?(u.push(new q.Jc({w:w,Q:e,F:q.Ib(q.pj(l))},{w:B,Q:e,F:q.Ib(q.pj(l))},{w:k,Q:e,F:q.Ib(l)},s,u.length*t)),u.push(new q.Jc({w:w,Q:e,F:q.Ib(q.pj(l))},{w:h,Q:e,F:q.Ib(l)},{w:k,Q:e,F:q.Ib(l)},s,u.length*t))):(u.push(new q.Jc({w:w,Q:c,F:q.Ib({x:0,y:0})},{w:B,Q:c,F:q.Ib({x:0,y:0})},{w:k,Q:c,F:q.Ib(l)},s,u.length*t)),u.push(new q.Jc({w:w,Q:c,F:q.Ib({x:0,y:0})},{w:h,Q:c,F:q.Ib(l)},{w:k,Q:c,F:q.Ib(l)},s,u.length*t)))}this.Ma=!0},clear:function(){this.gb.length=0;this.Ma=!0}});
q.tg=q.Ia.Sc?q.YL:q.XL;q.tg.create=function(){var a=new q.tg;return a&&a.v()?a:null};q.xu=function(a){this.type=a};q.tg.YE=0;q.tg.ZE=1;q.tg.Uy=2;q.Ys=-1;q.vK=function(a,c){a.Wg(c);var d=a.B;if(d)for(var e=0;e<d.length;e++)q.vK(d[e],c)};
q.sb=q.H.extend({tc:null,em:0,Li:!1,GF:!1,ctor:function(){q.H.prototype.ctor.call(this);this.tc=null;this.em=0;this.Li=!1},v:null,dA:function(a){this.tc=a;this.em=1;this.Li=!1;q.sb.fA=!0;q.sb.fA&&(q.Ys=q.Z.getParameter(q.Z.STENCIL_BITS),0>=q.Ys&&q.log("Stencil buffer is not enabled."),q.sb.fA=!1);return!0},cA:function(a){this.tc=a;this.em=1;this.Li=!1},Sg:function(){q.H.prototype.Sg.call(this);this.tc.Sg()},pi:function(){q.H.prototype.pi.call(this);this.tc.pi()},Dh:function(){this.tc.Dh();q.H.prototype.Dh.call(this)},
ce:function(){this.tc.ce();q.H.prototype.ce.call(this)},Aa:null,Sm:function(a){var c=a||q.Z;if(1>q.Ys)q.H.prototype.Aa.call(this,a);else if(this.tc&&this.tc.ta)if(q.sb.qr=-1,q.sb.qr+1==q.Ys)q.sb.wB=!0,q.sb.wB&&(q.log("Nesting more than "+q.Ys+"stencils is not supported. Everything will be drawn without stencil for this node and its childs."),q.sb.wB=!1),q.H.prototype.Aa.call(this,a);else{q.sb.qr++;var d=1<<q.sb.qr,e=d|d-1,f=c.isEnabled(c.STENCIL_TEST),g=c.getParameter(c.STENCIL_WRITEMASK),h=c.getParameter(c.STENCIL_FUNC),
k=c.getParameter(c.STENCIL_REF),l=c.getParameter(c.STENCIL_VALUE_MASK),m=c.getParameter(c.STENCIL_FAIL),n=c.getParameter(c.STENCIL_PASS_DEPTH_FAIL),t=c.getParameter(c.STENCIL_PASS_DEPTH_PASS);c.enable(c.STENCIL_TEST);c.stencilMask(d);var s=c.getParameter(c.DEPTH_WRITEMASK);c.depthMask(!1);c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.Li?c.REPLACE:c.ZERO,c.KEEP,c.KEEP);q.ye.SB(q.vj(),q.mU(),q.ow(1,1,1,1));c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.Li?c.ZERO:c.REPLACE,c.KEEP,c.KEEP);if(1>this.em){var d=
q.Kh.f().qi(q.XZ),u=c.getUniformLocation(d.Dw(),q.u_);q.h6(d.Dw());d.IK(u,this.em);q.vK(this.tc,d)}q.Lp();this.transform();this.tc.Aa();q.Kp();c.depthMask(s);c.stencilFunc(c.EQUAL,e,e);c.stencilOp(c.KEEP,c.KEEP,c.KEEP);q.H.prototype.Aa.call(this,a);c.stencilFunc(h,k,l);c.stencilOp(m,n,t);c.stencilMask(g);f||c.disable(c.STENCIL_TEST);q.sb.qr--}else this.Li&&q.H.prototype.Aa.call(this,a)},Rm:function(a){if(this.tc&&this.tc.ta){if(this.qz()||this.tc instanceof q.A){a=a||q.Z;var c=a.canvas,d=q.sb.iO();
d.width=c.width;d.height=c.height;d.getContext("2d").drawImage(c,0,0);a.save();this._super(a);a.globalCompositeOperation=this.Li?"destination-out":"destination-in";this.transform(a);this.tc.Aa();a.restore();a.save();a.setTransform(1,0,0,1,0,0);a.globalCompositeOperation="destination-over";a.drawImage(d,0,0)}else{a=a||q.Z;var d=this.B,e;a.save();this.transform(a);this.tc.Aa(a);a.clip();this.qz(!0);var f=d.length;if(0<f){this.de();for(c=0;c<f;c++)if(e=d[c],0>e.jb)e.Aa(a);else break;for(this.Va(a);c<
f;c++)d[c].Aa(a)}else this.Va(a);this.qz(!1)}a.restore()}else this.Li&&q.H.prototype.Aa.call(this,a)},y5:function(){return this.tc},vD:null,NP:function(a){this.tc=a},MP:function(a){this.tc=a;var c=q.pa.f().ua,d=q.pa.f().Ca,e=q.Z;!(a instanceof q.A)&&a instanceof q.tg&&(a.Va=function(){for(var f=0;f<a.gb.length;f++){var g=a.gb[f].Px,h=g[0];e.beginPath();e.moveTo(h.x*c,-h.y*d);for(var h=1,k=g.length;h<k;h++)e.lineTo(g[h].x*c,-g[h].y*d)}})},M2:function(){return this.em},Y9:function(a){this.em=a},T6:function(){return this.Li},
G$:function(a){this.Li=a},qz:function(a){if(!0===a||!1===a)q.sb.prototype.GF=a;return q.sb.prototype.GF}});q.Ia.Sc?(q.sb.prototype.v=q.sb.prototype.dA,q.sb.prototype.Aa=q.sb.prototype.Sm,q.sb.prototype.vD=q.sb.prototype.NP):(q.sb.prototype.v=q.sb.prototype.cA,q.sb.prototype.Aa=q.sb.prototype.Rm,q.sb.prototype.vD=q.sb.prototype.MP);q.sb.fA=null;q.sb.wB=null;q.sb.qr=null;q.sb.uG=null;q.sb.iO=function(){return q.sb.uG||(q.sb.uG=document.createElement("canvas"))};
q.sb.create=function(a){var c=new q.sb;c.v(a);return c};q.VY=0;q.WY=1;q.XY=2;q.Sn=function(a){a-=1;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;return(a|a>>16)+1};
q.Gb=q.H.extend({lo:null,mo:null,Yu:0,Mq:0,Cv:0,Ga:null,Ur:null,dQ:null,Sf:q.yj,tb:null,Mu:0,Dj:null,wz:0,xz:0,xq:!1,vz:null,ctor:null,Mh:function(){q.H.prototype.ctor.call(this);this.Dj=q.ow(1,1,1,1);this.vz="rgba(255,255,255,1)";this.lo=document.createElement("canvas");this.mo=this.lo.getContext("2d");this.G(0,0)},Nh:function(){q.H.prototype.ctor.call(this);this.Dj=q.ow(0,0,0,0)},bg:null,MN:function(){q.H.prototype.ce.call(this);this.lo=this.mo=null},NN:function(){q.H.prototype.ce.call(this);this.Ur=
null;var a=q.Z;a.deleteFramebuffer(this.Yu);this.Mq&&a.deleteRenderbuffer(this.Mq);this.dQ=null},HS:function(){return this.tb},Us:function(a){this.tb=a},wC:null,tO:function(a,c){var d=this.lo,e=q.Uc();d.width=0|a*e;d.height=0|c*e;this.mo.translate(0,d.height);e=new q.cc;e.lf(d);e.$d();this.tb=q.A.eb(e);return!0},uO:function(a,c,d,e){d==q.mq&&q.log("cc.RenderTexture._initWithWidthAndHeightForWebGL() : only RGB and RGBA formats are valid for a render texture;");var f=q.Z,g=q.Uc();a=0|a*g;c=0|c*g;this.Cv=
f.getParameter(f.FRAMEBUFFER_BINDING);var h;q.Re.f().Rr?(g=a,h=c):(g=q.Sn(a),h=q.Sn(c));for(var k=new Uint8Array(g*h*4),l=0;l<g*h*4;l++)k[l]=0;this.Sf=d;this.Ga=new q.cc;if(!this.Ga)return!1;l=this.Ga;l.Kw(k,this.Sf,g,h,q.size(a,c));d=f.getParameter(f.RENDERBUFFER_BINDING);if(q.Re.f().op("GL_QCOM")){this.Ur=new q.cc;if(!this.Ur)return!1;this.Ur.Kw(k,this.Sf,g,h,q.size(a,c))}this.Yu=f.createFramebuffer();f.bindFramebuffer(f.FRAMEBUFFER,this.Yu);f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,
f.TEXTURE_2D,l.ei,0);0!=e&&(this.Mq=f.createRenderbuffer(),f.bindRenderbuffer(f.RENDERBUFFER,this.Mq),f.renderbufferStorage(f.RENDERBUFFER,e,g,h),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,this.Mq));f.checkFramebufferStatus(f.FRAMEBUFFER)!==f.FRAMEBUFFER_COMPLETE&&q.log("Could not attach texture to the framebuffer");l.TJ();a=this.tb=q.A.eb(l);a.zn(-1);a.El(f.ONE,f.ONE_MINUS_SRC_ALPHA);f.bindRenderbuffer(f.RENDERBUFFER,d);f.bindFramebuffer(f.FRAMEBUFFER,this.Cv);this.xq=
!1;this.g(a);return!0},bk:null,CN:function(){q.Z=this.mo;q.ye.yK(q.Z);q.pa.f().JP()},DN:function(){q.en(q.St);q.Lp();q.en(q.Rt);q.Lp();var a=q.da.f();a.mx(a.Wk);var c=this.Ga.Ba,d=q.da.f().PS(),a=d.width/c.width,d=d.height/c.height,e=q.Z;e.viewport(0,0,c.width,c.height);c=new q.Bh;q.NT(c,-1/a,1/a,-1/d,1/d,-1,1);q.Pw(c);this.Cv=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,this.Yu);q.Re.f().op("GL_QCOM")&&(e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,
this.Ur.ei,0),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.Ga.ei,0))},FB:function(a,c,d,e,f,g){var h=q.Z;f=f||h.COLOR_BUFFER_BIT;g=g||h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT;this.nz(a,c,d,e,f,g,h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT|h.STENCIL_BUFFER_BIT)},nz:null,EN:function(a,c,d,e){this.bk();a=a||0;c=c||0;d=d||0;e=isNaN(e)?1:e;var f=this.mo,g=this.lo;f.save();f.fillStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+
")";f.clearRect(0,0,g.width,-g.height);f.fillRect(0,0,g.width,-g.height);f.restore()},FN:function(a,c,d,e,f,g,h){this.bk();var k=q.Z,l=[0,0,0,0],m=0,n=0;h&k.COLOR_BUFFER_BIT&&(l=k.getParameter(k.COLOR_CLEAR_VALUE),k.clearColor(a,c,d,e));h&k.DEPTH_BUFFER_BIT&&(m=k.getParameter(k.DEPTH_CLEAR_VALUE),k.clearDepth(f));h&k.STENCIL_BUFFER_BIT&&(n=k.getParameter(k.STENCIL_CLEAR_VALUE),k.clearStencil(g));k.clear(h);h&k.COLOR_BUFFER_BIT&&k.clearColor(l[0],l[1],l[2],l[3]);h&k.DEPTH_BUFFER_BIT&&k.clearDepth(m);
h&k.STENCIL_BUFFER_BIT&&k.clearStencil(n)},end:null,bO:function(){q.Z=q.ST;q.ye.yK(q.Z);q.pa.f().lP()},cO:function(){var a=q.Z,c=q.da.f();a.bindFramebuffer(a.FRAMEBUFFER,this.Cv);c.MK();q.en(q.St);q.Kp();q.en(q.Rt);q.Kp()},clear:function(a,c,d,e){this.FB(a,c,d,e);this.end()},clearRect:null,RN:function(a,c,d,e){this.mo.clearRect(a,c,d,-e)},SN:function(){},clearDepth:null,PN:function(){q.log("clearDepth isn't supported on Cocos2d-Html5")},QN:function(a){this.bk();var c=q.Z,d=c.getParameter(c.DEPTH_CLEAR_VALUE);
c.clearDepth(a);c.clear(c.DEPTH_BUFFER_BIT);c.clearDepth(d);this.end()},clearStencil:null,TN:function(){q.log("clearDepth isn't supported on Cocos2d-Html5")},UN:function(a){var c=q.Z,d=c.getParameter(c.STENCIL_CLEAR_VALUE);c.clearStencil(a);c.clear(c.STENCIL_BUFFER_BIT);c.clearStencil(d)},Aa:null,Rm:function(a){this.ta&&(a=a||q.Z,a.save(),this.Va(a),this.transform(a),this.tb.Aa(),a.restore(),this.Qf=0)},Sm:function(a){if(this.ta){q.Lp();var c=this.Kk;c&&c.Ip()&&(c.EB(),this.Jx());this.transform(a);
this.tb.Aa();this.Va(a);c&&c.Ip()&&c.BB(this);q.Kp();this.Qf=0}},Va:null,Gj:function(a){a=a||q.Z;if(this.xq){this.bk();if(this.Mu){var c=this.lo;a.save();a.fillStyle=this.vz;a.clearRect(0,0,c.width,-c.height);a.fillRect(0,0,c.width,-c.height);a.restore()}this.de();a=this.B;for(var c=a.length,d=this.tb,e=0;e<c;e++){var f=a[e];f!=d&&f.Aa()}this.end()}},Bg:function(){var a=q.Z;if(this.xq){this.bk();var c=this.Mu;if(c){var d=[0,0,0,0],e=0,f=0;c&a.COLOR_BUFFER_BIT&&(d=a.getParameter(a.COLOR_CLEAR_VALUE),
a.clearColor(this.Dj.r,this.Dj.p,this.Dj.k,this.Dj.K));c&a.DEPTH_BUFFER_BIT&&(e=a.getParameter(a.DEPTH_CLEAR_VALUE),a.clearDepth(this.wz));c&a.STENCIL_BUFFER_BIT&&(f=a.getParameter(a.STENCIL_CLEAR_VALUE),a.clearStencil(this.xz));a.clear(c);c&a.COLOR_BUFFER_BIT&&a.clearColor(d[0],d[1],d[2],d[3]);c&a.DEPTH_BUFFER_BIT&&a.clearDepth(e);c&a.STENCIL_BUFFER_BIT&&a.clearStencil(f)}this.de();a=this.B;for(c=0;c<a.length;c++)d=a[c],d!=this.tb&&d.Aa();this.end()}},hJ:null,KO:function(){q.log("saveToFile isn't supported on Cocos2d-Html5");
return null},LO:function(){q.log("saveToFile isn't supported on Cocos2d-Html5");q.it(this.Sf==q.yj,"only RGBA8888 can be saved as image");if(!this.Ga)return null;var a=this.Ga.Ba,c=a.width,a=a.height,d=new q.gM,e=q.Z,f=new Uint8Array(c*a*4);if(!f)return d;var g=new Uint8Array(c*a*4);if(!g)return null;this.bk();e.pixelStorei(e.PACK_ALIGNMENT,1);e.readPixels(0,0,c,a,e.RGBA,e.UNSIGNED_BYTE,g);this.end();for(e=0;e<a;++e)this.IO(f,e*c*4,g,(a-e-1)*c*4,4*c);d.t6(f,c*a*4,q.PY,c,a,8);return d},IO:function(a,
c,d,e,f){for(var g=0;g<f;g++)a[c+g]=d[e+g]},N9:function(){q.log("saveToFile isn't supported on Cocos2d-Html5")},I7:function(){q.log("listenToBackground isn't supported on Cocos2d-Html5")},J7:function(){q.log("listenToForeground isn't supported on Cocos2d-Html5")},k3:function(){return this.Mu},f$:function(a){this.Mu=a},i3:function(){return this.Dj},ZJ:null,tP:function(a){var c=this.Dj;c.r=a.r;c.p=a.p;c.k=a.k;c.K=a.K;this.vz="rgba("+(0|255*a.r)+","+(0|255*a.p)+","+(0|255*a.k)+","+a.K+")"},uP:function(a){var c=
this.Dj;c.r=a.r;c.p=a.p;c.k=a.k;c.K=a.K},j3:function(){return this.wz},e$:function(a){this.wz=a},l3:function(){return this.xz},g$:function(a){this.xz=a},E6:function(){return this.xq},a$:function(a){this.xq=a}});
q.Ia.Sc?(b=q.Gb.prototype,b.ctor=q.Gb.prototype.Nh,b.bg=q.Gb.prototype.NN,b.wC=q.Gb.prototype.uO,b.bk=q.Gb.prototype.DN,b.nz=q.Gb.prototype.FN,b.end=q.Gb.prototype.cO,b.clearRect=q.Gb.prototype.SN,b.clearDepth=q.Gb.prototype.QN,b.clearStencil=q.Gb.prototype.UN,b.Aa=q.Gb.prototype.Sm,b.Va=q.Gb.prototype.Bg,b.hJ=q.Gb.prototype.LO,b.ZJ=q.Gb.prototype.uP):(b=q.Gb.prototype,b.ctor=q.Gb.prototype.Mh,b.bg=q.Gb.prototype.MN,b.wC=q.Gb.prototype.tO,b.bk=q.Gb.prototype.CN,b.nz=q.Gb.prototype.EN,b.end=q.Gb.prototype.bO,
b.clearRect=q.Gb.prototype.RN,b.clearDepth=q.Gb.prototype.PN,b.clearStencil=q.Gb.prototype.TN,b.Aa=q.Gb.prototype.Rm,b.Va=q.Gb.prototype.Gj,b.hJ=q.Gb.prototype.KO,b.ZJ=q.Gb.prototype.tP);q.Gb.create=function(a,c,d,e){d=d||q.yj;e=e||0;var f=new q.Gb;return f&&f.wC(a,c,d,e)?f:null};q.Ln=-1;
q.Nd=q.La.extend({xm:null,X:null,xd:q.Ln,ctor:function(){this.X=this.xm=null;this.xd=q.Ln},description:function(){return"\x3ccc.Action | Tag \x3d "+this.xd+"\x3e"},copy:function(){return q.clone(this)},clone:function(){var a=new q.Nd;a.xm=null;a.X=null;a.xd=this.xd;return a},ni:function(){return!0},ea:function(a){this.X=this.xm=a},stop:function(){this.X=null},step:function(){q.log("[Action step]. override me")},update:function(){q.log("[Action update]. override me")},LS:function(){return this.X},xaa:function(a){this.X=
a},I4:function(){return this.xm},aaa:function(a){this.xm=a},KS:function(){return this.xd},GK:function(a){this.xd=a},PJ:function(){},HJ:function(){}});q.Nd.create=function(){return new q.Nd};q.uj=q.Nd.extend({Ea:0,ctor:function(){q.Nd.prototype.ctor.call(this);this.Ea=0},Df:function(){return this.Ea},r$:function(a){this.Ea=a},reverse:function(){q.log("cocos2d: FiniteTimeAction#reverse: Implement me");return null},clone:function(){return new q.uj}});
q.hu=q.Nd.extend({Fm:0,Jb:null,ctor:function(){q.Nd.prototype.ctor.call(this);this.Fm=0;this.Jb=null},r5:function(){return this.Fm},qaa:function(a){this.Fm=a},wa:function(a,c){if(!a)throw"cc.Speed.initWithAction(): action must be non nil";this.Jb=a;this.Fm=c;return!0},clone:function(){var a=new q.hu;a.wa(this.Jb.clone(),this.Fm);return a},ea:function(a){q.Nd.prototype.ea.call(this,a);this.Jb.ea(a)},stop:function(){this.Jb.stop();q.Nd.prototype.stop.call(this)},step:function(a){this.Jb.step(a*this.Fm)},
ni:function(){return this.Jb.ni()},reverse:function(){return q.hu.create(this.Jb.reverse(),this.Fm)},jK:function(a){this.Jb!=a&&(this.Jb=a)},aC:function(){return this.Jb}});q.hu.create=function(a,c){var d=new q.hu;return d&&d.wa(a,c)?d:null};
q.my=q.Nd.extend({Eo:null,io:!1,Hu:!1,dv:null,fr:null,gn:0,wn:0,Fn:0,Zm:0,yB:null,ctor:function(){q.Nd.prototype.ctor.call(this);this.Eo=null;this.Hu=this.io=!1;this.fr=this.dv=null;this.Zm=this.Fn=this.wn=this.gn=0;this.yB=q.rd()},clone:function(){var a=new q.my,c=this.yB,c=new q.vg(c.x,c.y,c.width,c.height);a.Og(this.Eo,c);return a},G6:function(){return this.io},c$:function(a){this.io=a},Og:function(a,c){if(!a)throw"cc.Follow.initWithAction(): followedNode must be non nil";c=c||q.rd();this.Eo=a;
this.yB=c;this.io=!q.Br(c);this.Hu=!1;var d=q.da.f().Wb;this.fr=q.a(d.width,d.height);this.dv=q.kj(this.fr,0.5);this.io&&(this.gn=-(c.x+c.width-this.fr.x),this.wn=-c.x,this.Fn=-c.y,this.Zm=-(c.y+c.height-this.fr.y),this.wn<this.gn&&(this.wn=this.gn=(this.gn+this.wn)/2),this.Fn<this.Zm&&(this.Fn=this.Zm=(this.Fn+this.Zm)/2),this.Fn==this.Zm&&this.gn==this.wn&&(this.Hu=!0));return!0},step:function(){var a=this.Eo.t.J,c=this.Eo.t.P,a=this.dv.x-a,c=this.dv.y-c;this.io?this.Hu||this.X.o(q.is(a,this.gn,
this.wn),q.is(c,this.Zm,this.Fn)):this.X.o(a,c)},ni:function(){return!this.Eo.$e},stop:function(){this.X=null;q.Nd.prototype.stop.call(this)}});q.my.create=function(a,c){c=c||new q.rd;var d=new q.my;return null!=c&&d&&d.Og(a,c)||d&&d.Og(a)?d:null};q.W=q.uj.extend({mc:0,er:!1,ctor:function(){q.uj.prototype.ctor.call(this);this.mc=0;this.er=!1},C3:function(){return this.mc},T:function(a){this.Ea=0===a?q.Lt:a;this.mc=0;return this.er=!0},ni:function(){return this.mc>=this.Ea},clone:function(){var a=new q.W;a.T(this.Ea);return a},step:function(a){this.er?(this.er=!1,this.mc=0):this.mc+=a;a=this.mc/(1.192092896E-7<this.Ea?this.Ea:1.192092896E-7);a=1>a?a:1;this.update(0<a?a:0)},ea:function(a){q.Nd.prototype.ea.call(this,a);this.mc=0;this.er=!0},
reverse:function(){q.log("cc.IntervalAction: reverse not implemented.");return null},Z9:function(){q.log("cc.ActionInterval.setAmplitudeRate(): it should be overridden in subclass.")},N2:function(){q.log("cc.ActionInterval.getAmplitudeRate(): it should be overridden in subclass.")}});q.W.create=function(a){var c=new q.W;c.T(a);return c};
q.xj=q.W.extend({zi:null,YA:null,Mo:0,ctor:function(){q.W.prototype.ctor.call(this);this.zi=[];this.YA=null;this.Mo=0},Bs:function(a,c){if(!a||!c)throw"cc.Sequence.initWithTwoActions(): arguments must all be non nil";this.T(a.Df()+c.Df());this.zi[0]=a;this.zi[1]=c;return!0},clone:function(){var a=new q.xj;a.Bs(this.zi[0].clone(),this.zi[1].clone());return a},ea:function(a){q.W.prototype.ea.call(this,a);this.YA=this.zi[0].Df()/this.Ea;this.Mo=-1},stop:function(){-1!==this.Mo&&this.zi[this.Mo].stop();
q.Nd.prototype.stop.call(this)},update:function(a){var c=0,d=this.YA,e=this.zi,f=this.Mo;a<d?(a=0!==d?a/d:1,0===c&&1===f&&(e[1].update(0),e[1].stop())):(c=1,a=1===d?1:(a-d)/(1-d),-1===f&&(e[0].ea(this.X),e[0].update(1),e[0].stop()),f||(e[0].update(1),e[0].stop()));f===c&&e[c].ni()||(f!==c&&e[c].ea(this.X),e[c].update(a),this.Mo=c)},reverse:function(){return q.xj.cm(this.zi[1].reverse(),this.zi[0].reverse())},copy:function(){return this.clone()}});
q.xj.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&q.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)c[e]&&(d=q.xj.cm(d,c[e]));return d};q.xj.cm=function(a,c){var d=new q.xj;d.Bs(a,c);return d};
q.Zt=q.W.extend({Yf:0,Wj:0,zv:0,hF:!1,Jb:null,ctor:function(){q.W.prototype.ctor.call(this);this.zv=this.Wj=this.Yf=0;this.hF=!1;this.Jb=null},wa:function(a,c){return this.T(a.Df()*c)?(this.Yf=c,this.Jb=a,a instanceof q.ti&&(this.Yf-=1),this.Wj=0,!0):!1},clone:function(){var a=new q.Zt;a.wa(this.Jb.clone(),this.Yf);return a},ea:function(a){this.Wj=0;this.zv=this.Jb.Df()/this.Ea;q.W.prototype.ea.call(this,a);this.Jb.ea(a)},stop:function(){this.Jb.stop();q.Nd.prototype.stop.call(this)},update:function(a){var c=
this.Jb,d=this.Ea,e=this.Yf,f=this.zv;if(a>=f){for(;a>f&&this.Wj<e;)c.update(1),this.Wj++,c.stop(),c.ea(this.X),this.zv=f+=c.Df()/d;1<=a&&this.Wj<e&&this.Wj++;this.hF&&(this.Wj==e?(c.update(1),c.stop()):c.update(a-(f-c.Df()/d)))}else c.update(a*e%1)},ni:function(){return this.Wj==this.Yf},reverse:function(){return q.Zt.create(this.Jb.reverse(),this.Yf)},jK:function(a){this.Jb!=a&&(this.Jb=a)},aC:function(){return this.Jb}});q.Zt.create=function(a,c){var d=new q.Zt;d.wa(a,c);return d};
q.$t=q.W.extend({Jb:null,ctor:function(){q.W.prototype.ctor.call(this);this.Jb=null},wa:function(a){if(!a)throw"cc.RepeatForever.initWithAction(): action must be non null";this.Jb=a;return!0},clone:function(){var a=new q.$t;a.wa(this.Jb.clone());return a},ea:function(a){q.W.prototype.ea.call(this,a);this.Jb.ea(a)},step:function(a){var c=this.Jb;c.step(a);c.ni()&&(c.ea(this.X),c.step(c.mc-c.Df()))},ni:function(){return!1},reverse:function(){return q.$t.create(this.Jb.reverse())},jK:function(a){this.Jb!=
a&&(this.Jb=a)},aC:function(){return this.Jb}});q.$t.create=function(a){var c=new q.$t;return c&&c.wa(a)?c:null};
q.lq=q.W.extend({Sj:null,$j:null,ctor:function(){q.W.prototype.ctor.call(this);this.$j=this.Sj=null},Bs:function(a,c){if(!a||!c)throw"cc.Spawn.initWithTwoActions(): arguments must all be non null";var d=!1,e=a.Df(),f=c.Df();this.T(Math.max(e,f))&&(this.Sj=a,this.$j=c,e>f?this.$j=q.xj.cm(c,q.Nn.create(e-f)):e<f&&(this.Sj=q.xj.cm(a,q.Nn.create(f-e))),d=!0);return d},clone:function(){var a=new q.lq;a.Bs(this.Sj.clone(),this.$j.clone());return a},ea:function(a){q.W.prototype.ea.call(this,a);this.Sj.ea(a);
this.$j.ea(a)},stop:function(){this.Sj.stop();this.$j.stop();q.Nd.prototype.stop.call(this)},update:function(a){this.Sj&&this.Sj.update(a);this.$j&&this.$j.update(a)},reverse:function(){return q.lq.cm(this.Sj.reverse(),this.$j.reverse())}});q.lq.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&q.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)null!=c[e]&&(d=this.cm(d,c[e]));return d};
q.lq.cm=function(a,c){var d=new q.lq;d.Bs(a,c);return d};
q.Gy=q.W.extend({Qq:0,Gm:0,Iz:0,Wu:0,Zk:0,Jz:0,ctor:function(){q.W.prototype.ctor.call(this);this.Jz=this.Zk=this.Wu=this.Iz=this.Gm=this.Qq=0},T:function(a,c,d){return q.W.prototype.T.call(this,a)?(this.Qq=c||0,this.Wu=d||this.Qq,!0):!1},clone:function(){var a=new q.Gy;a.T(this.Ea,this.Qq,this.Wu);return a},ea:function(a){q.W.prototype.ea.call(this,a);var c=a.Gg%360,d=this.Qq-c;180<d&&(d-=360);-180>d&&(d+=360);this.Gm=c;this.Iz=d;this.Zk=a.Wh%360;a=this.Wu-this.Zk;180<a&&(a-=360);-180>a&&(a+=360);
this.Jz=a},reverse:function(){q.log("cc.RotateTo.reverse(): it should be overridden in subclass.")},update:function(a){this.X&&(this.X.px(this.Gm+this.Iz*a),this.X.qx(this.Zk+this.Jz*a))}});q.Gy.create=function(a,c,d){var e=new q.Gy;e.T(a,c,d);return e};
q.bu=q.W.extend({xg:0,Gm:0,wq:0,Zk:0,ctor:function(){q.W.prototype.ctor.call(this);this.Zk=this.wq=this.Gm=this.xg=0},T:function(a,c,d){return q.W.prototype.T.call(this,a)?(this.xg=c||0,this.wq=d||this.xg,!0):!1},clone:function(){var a=new q.bu;a.T(this.Ea,this.xg,this.wq);return a},ea:function(a){q.W.prototype.ea.call(this,a);this.Gm=a.Gg;this.Zk=a.Wh},update:function(a){this.X&&(this.X.px(this.Gm+this.xg*a),this.X.qx(this.Zk+this.wq*a))},reverse:function(){return q.bu.create(this.Ea,-this.xg,-this.wq)}});
q.bu.create=function(a,c,d){var e=new q.bu;e.T(a,c,d);return e};
q.tk=q.W.extend({Ri:null,Xc:null,Wc:null,ctor:function(){q.W.prototype.ctor.call(this);this.Ri=q.a(0,0);this.Xc=q.a(0,0);this.Wc=q.a(0,0)},T:function(a,c){return q.W.prototype.T.call(this,a)?(this.Ri.x=c.x,this.Ri.y=c.y,!0):!1},clone:function(){var a=new q.tk;a.T(this.Ea,this.Ri);return a},ea:function(a){q.W.prototype.ea.call(this,a);var c=a.t.J;a=a.t.P;this.Wc.x=c;this.Wc.y=a;this.Xc.x=c;this.Xc.y=a},update:function(a){if(this.X){var c=this.Ri.x*a;a*=this.Ri.y;var d=this.Xc;if(q.pt){var e=this.X.t.P,
f=this.Wc;d.x=d.x+this.X.t.J-f.x;d.y=d.y+e-f.y;c+=d.x;a+=d.y;this.X.o(c,a);f.x=c;f.y=a}else this.X.o(d.x+c,d.y+a)}},reverse:function(){return q.tk.create(this.Ea,q.a(-this.Ri.x,-this.Ri.y))}});q.tk.create=function(a,c){var d=new q.tk;d.T(a,c);return d};
q.Ut=q.tk.extend({Do:null,ctor:function(){q.tk.prototype.ctor.call(this);this.Do=q.a(0,0)},T:function(a,c){return q.tk.prototype.T.call(this,a,c)?(this.Do.x=c.x,this.Do.y=c.y,!0):!1},clone:function(){var a=new q.Ut;a.T(this.Ea,this.Do);return a},ea:function(a){q.tk.prototype.ea.call(this,a);this.Ri.x=this.Do.x-a.t.J;this.Ri.y=this.Do.y-a.t.P}});q.Ut.create=function(a,c){var d=new q.Ut;d.T(a,c);return d};
q.Yn=q.W.extend({ve:0,we:0,Nr:0,Or:0,Zq:0,$q:0,Ve:0,We:0,ctor:function(){q.W.prototype.ctor.call(this);this.We=this.Ve=this.$q=this.Zq=this.Or=this.Nr=this.we=this.ve=0},T:function(a,c,d){var e=!1;q.W.prototype.T.call(this,a)&&(this.Zq=c,this.$q=d,e=!0);return e},clone:function(){var a=new q.Yn;a.T(this.Ea,this.Zq,this.$q);return a},ea:function(a){q.W.prototype.ea.call(this,a);this.Nr=a.ve%180;this.Ve=this.Zq-this.Nr;180<this.Ve&&(this.Ve-=360);-180>this.Ve&&(this.Ve+=360);this.Or=a.we%360;this.We=
this.$q-this.Or;180<this.We&&(this.We-=360);-180>this.We&&(this.We+=360)},update:function(a){this.X.sx(this.Nr+this.Ve*a);this.X.tx(this.Or+this.We*a)}});q.Yn.create=function(a,c,d){var e=new q.Yn;e&&e.T(a,c,d);return e};
q.fu=q.Yn.extend({T:function(a,c,d){var e=!1;q.Yn.prototype.T.call(this,a,c,d)&&(this.ve=c,this.we=d,e=!0);return e},clone:function(){var a=new q.fu;a.T(this.Ea,this.ve,this.we);return a},ea:function(a){q.Yn.prototype.ea.call(this,a);this.Ve=this.ve;this.We=this.we;this.Zq=this.Nr+this.Ve;this.$q=this.Or+this.We},reverse:function(){return q.fu.create(this.Ea,-this.ve,-this.we)}});q.fu.create=function(a,c,d){var e=new q.fu;e&&e.T(a,c,d);return e};
q.Qn=q.W.extend({Xc:null,Ag:null,xa:0,Ko:0,Wc:null,ctor:function(){q.W.prototype.ctor.call(this);this.Xc=q.a(0,0);this.Wc=q.a(0,0);this.Ag=q.a(0,0);this.Ko=this.xa=0},T:function(a,c,d,e){return q.W.prototype.T.call(this,a)?(this.Ag.x=c.x,this.Ag.y=c.y,this.xa=d,this.Ko=e,!0):!1},clone:function(){var a=new q.Qn;a.T(this.Ea,this.Ag,this.xa,this.Ko);return a},ea:function(a){q.W.prototype.ea.call(this,a);var c=a.t.J;a=a.t.P;this.Wc.x=c;this.Wc.y=a;this.Xc.x=c;this.Xc.y=a},update:function(a){if(this.X){var c=
a*this.Ko%1,c=4*this.xa*c*(1-c),c=c+this.Ag.y*a;a*=this.Ag.x;var d=this.Xc;if(q.pt){var e=this.X.t.P,f=this.Wc;d.x=d.x+this.X.t.J-f.x;d.y=d.y+e-f.y;a+=d.x;c+=d.y;this.X.o(a,c);f.x=a;f.y=c}else this.X.o(d.x+a,d.y+c)}},reverse:function(){return q.Qn.create(this.Ea,q.a(-this.Ag.x,-this.Ag.y),this.xa,this.Ko)}});q.Qn.create=function(a,c,d,e){var f=new q.Qn;f.T(a,c,d,e);return f};
q.py=q.Qn.extend({ea:function(a){q.Qn.prototype.ea.call(this,a);this.Ag.x-=this.Xc.x;this.Ag.y-=this.Xc.y},clone:function(){var a=new q.py;a.T(this.Ea,this.Ag,this.xa,this.Ko);return a}});q.py.create=function(a,c,d,e){var f=new q.py;f.T(a,c,d,e);return f};q.jH=function(a,c,d,e){return 0*Math.pow(1-e,3)+3*e*Math.pow(1-e,2)*a+3*Math.pow(e,2)*(1-e)*c+Math.pow(e,3)*d};
q.Wl=q.W.extend({jm:null,Xc:null,Wc:null,ctor:function(){q.W.prototype.ctor.call(this);this.jm=[];this.Xc=q.a(0,0);this.Wc=q.a(0,0)},T:function(a,c){return q.W.prototype.T.call(this,a)?(this.jm=c,!0):!1},clone:function(){for(var a=new q.Wl,c=[],d=0;d<this.jm.length;d++){var e=this.jm[d];c.push(q.a(e.x,e.y))}a.T(this.Ea,c);return a},ea:function(a){q.W.prototype.ea.call(this,a);var c=a.t.J;a=a.t.P;this.Wc.x=c;this.Wc.y=a;this.Xc.x=c;this.Xc.y=a},update:function(a){if(this.X){var c=this.jm,d=q.jH(c[0].x,
c[1].x,c[2].x,a);a=q.jH(c[0].y,c[1].y,c[2].y,a);c=this.Xc;if(q.pt){var e=this.X.t.P,f=this.Wc;c.x=c.x+this.X.t.J-f.x;c.y=c.y+e-f.y;d+=c.x;a+=c.y;this.X.o(d,a);f.x=d;f.y=a}else this.X.o(c.x+d,c.y+a)}},reverse:function(){var a=this.jm,a=[q.Ug(a[1],q.PC(a[2])),q.Ug(a[0],q.PC(a[2])),q.PC(a[2])];return q.Wl.create(this.Ea,a)}});q.Wl.create=function(a,c){var d=new q.Wl;d.T(a,c);return d};
q.Wx=q.Wl.extend({aw:null,ctor:function(){q.Wl.prototype.ctor.call(this);this.aw=[]},T:function(a,c){return q.W.prototype.T.call(this,a)?(this.aw=c,!0):!1},clone:function(){var a=new q.Wx;a.T(this.Ea,this.aw);return a},ea:function(a){q.Wl.prototype.ea.call(this,a);a=this.Xc;var c=this.aw,d=this.jm;d[0]=q.Jd(c[0],a);d[1]=q.Jd(c[1],a);d[2]=q.Jd(c[2],a)}});q.Wx.create=function(a,c){var d=new q.Wx;d.T(a,c);return d};
q.Xn=q.W.extend({ua:1,Ca:1,ap:1,bp:1,lm:0,nm:0,Ve:0,We:0,ctor:function(){q.W.prototype.ctor.call(this);this.bp=this.ap=this.Ca=this.ua=1;this.We=this.Ve=this.nm=this.lm=0},T:function(a,c,d){return q.W.prototype.T.call(this,a)?(this.lm=c,this.nm=null!=d?d:c,!0):!1},clone:function(){var a=new q.Xn;a.T(this.Ea,this.lm,this.nm);return a},ea:function(a){q.W.prototype.ea.call(this,a);this.ap=a.ua;this.bp=a.Ca;this.Ve=this.lm-this.ap;this.We=this.nm-this.bp},update:function(a){this.X&&this.X.pk(this.ap+
this.Ve*a,this.bp+this.We*a)}});q.Xn.create=function(a,c,d){var e=new q.Xn;e.T(a,c,d);return e};q.du=q.Xn.extend({ea:function(a){q.Xn.prototype.ea.call(this,a);this.Ve=this.ap*this.lm-this.ap;this.We=this.bp*this.nm-this.bp},reverse:function(){return q.du.create(this.Ea,1/this.lm,1/this.nm)},clone:function(){var a=new q.du;a.T(this.Ea,this.lm,this.nm);return a}});q.du.create=function(a,c,d){var e=new q.du;e.T(a,c,d);return e};
q.jt=q.W.extend({Yf:0,oA:!1,ctor:function(){q.W.prototype.ctor.call(this);this.Yf=0;this.oA=!1},T:function(a,c){return q.W.prototype.T.call(this,a)?(this.Yf=c,!0):!1},clone:function(){var a=new q.jt;a.T(this.Ea,this.Yf);return a},update:function(a){if(this.X&&!this.ni()){var c=1/this.Yf;this.X.D(a%c>c/2)}},ea:function(a){q.W.prototype.ea.call(this,a);this.oA=a.ta},stop:function(){this.X.D(this.oA);q.W.prototype.stop.call(this)},reverse:function(){return q.jt.create(this.Ea,this.Yf)}});
q.jt.create=function(a,c){var d=new q.jt;d.T(a,c);return d};q.Mt=q.W.extend({update:function(a){this.X.pb&&this.X.ra(255*a)},reverse:function(){return q.Nt.create(this.Ea)},clone:function(){var a=new q.Mt;a.T(this.Ea);return a}});q.Mt.create=function(a){var c=new q.Mt;c.T(a);return c};q.Nt=q.W.extend({update:function(a){this.X.pb&&this.X.ra(255*(1-a))},reverse:function(){return q.Mt.create(this.Ea)},clone:function(){var a=new q.Nt;a.T(this.Ea);return a}});
q.Nt.create=function(a){var c=new q.Nt;c.T(a);return c};q.ly=q.W.extend({bw:null,av:null,ctor:function(){q.W.prototype.ctor.call(this);this.av=this.bw=0},T:function(a,c){return q.W.prototype.T.call(this,a)?(this.bw=c,!0):!1},clone:function(){var a=new q.ly;a.T(this.Ea,this.bw);return a},update:function(a){this.X.pb&&this.X.ra(this.av+(this.bw-this.av)*a)},ea:function(a){q.W.prototype.ea.call(this,a);this.X.pb&&(this.av=a.Zi())}});q.ly.create=function(a,c){var d=new q.ly;d.T(a,c);return d};
q.Wy=q.W.extend({Bf:null,qe:null,ctor:function(){q.W.prototype.ctor.call(this);this.Bf=q.l(0,0,0);this.qe=q.l(0,0,0)},T:function(a,c,d,e){return q.W.prototype.T.call(this,a)?(this.Bf=q.l(c,d,e),!0):!1},clone:function(){var a=new q.Wy,c=this.Bf;a.T(this.Ea,c.r,c.p,c.k);return a},ea:function(a){q.W.prototype.ea.call(this,a);this.X.pb&&(this.qe=this.X.zd())},update:function(a){var c=this.qe,d=this.Bf;this.X.pb&&this.X.q(q.l(c.r+(d.r-c.r)*a,c.p+(d.p-c.p)*a,c.k+(d.k-c.k)*a))}});
q.Wy.create=function(a,c,d,e){var f=new q.Wy;f.T(a,c,d,e);return f};
q.mu=q.W.extend({Lq:0,Kq:0,Jq:0,Uz:0,Tz:0,Sz:0,ctor:function(){q.W.prototype.ctor.call(this);this.Sz=this.Tz=this.Uz=this.Jq=this.Kq=this.Lq=0},T:function(a,c,d,e){return q.W.prototype.T.call(this,a)?(this.Lq=c,this.Kq=d,this.Jq=e,!0):!1},clone:function(){var a=new q.mu;a.T(this.Ea,this.Lq,this.Kq,this.Jq);return a},ea:function(a){q.W.prototype.ea.call(this,a);a.pb&&(a=a.zd(),this.Uz=a.r,this.Tz=a.p,this.Sz=a.k)},update:function(a){this.X.pb&&this.X.q(q.l(this.Uz+this.Lq*a,this.Tz+this.Kq*a,this.Sz+
this.Jq*a))},reverse:function(){return q.mu.create(this.Ea,-this.Lq,-this.Kq,-this.Jq)}});q.mu.create=function(a,c,d,e){var f=new q.mu;f.T(a,c,d,e);return f};q.Nn=q.W.extend({update:function(){},reverse:function(){return q.Nn.create(this.Ea)},clone:function(){var a=new q.Nn;a.T(this.Ea);return a}});q.Nn.create=function(a){var c=new q.Nn;c.T(a);return c};
q.au=q.W.extend({Tj:null,ctor:function(){q.W.prototype.ctor.call(this);this.Tj=null},wa:function(a){if(!a)throw"cc.ReverseTime.initWithAction(): action must be non null";if(a==this.Tj)throw"cc.ReverseTime.initWithAction(): the action was already passed in.";return q.W.prototype.T.call(this,a.Df())?(this.Tj=a,!0):!1},clone:function(){var a=new q.au;a.wa(this.Tj.clone());return a},ea:function(a){q.W.prototype.ea.call(this,a);this.Tj.ea(a)},update:function(a){this.Tj&&this.Tj.update(1-a)},reverse:function(){return this.Tj.clone()},
stop:function(){this.Tj.stop();q.Nd.prototype.stop.call(this)}});q.au.create=function(a){var c=new q.au;c.wa(a);return c};
q.gt=q.W.extend({Aj:null,Qo:0,Dv:null,ar:0,ZA:null,ctor:function(){q.W.prototype.ctor.call(this);this.Aj=null;this.Qo=0;this.Dv=null;this.ar=0;this.ZA=null},RH:function(){return this.Aj},LV:function(a){this.Aj=a},tI:function(a){if(!a)throw"cc.Animate.initWithAnimation(): animation must be non-NULL";var c=a.Df();if(this.T(c*a.Qj)){this.Qo=0;this.LV(a);this.Dv=null;this.ar=0;var d=[],e=0,f=c/a.Nm;a=a.pe;q.ht(a,q.rj);for(var g=0;g<a.length;g++){var h=e*f/c,e=e+a[g].ne;d.push(h)}this.ZA=d;return!0}return!1},
clone:function(){var a=new q.gt;a.tI(this.Aj.clone());return a},ea:function(a){q.W.prototype.ea.call(this,a);this.Aj.Am&&(this.Dv=a.GR());this.ar=this.Qo=0},update:function(a){1>a&&(a*=this.Aj.Qj,(0|a)>this.ar&&(this.Qo=0,this.ar++),a%=1);for(var c=this.Aj.pe,d=c.length,e=this.ZA,f=this.Qo;f<d;f++)if(e[f]<=a)this.X.Pp(c[f].Ah()),this.Qo=f+1;else break},reverse:function(){var a=this.Aj,c=a.pe,d=[];q.ht(c,q.rj);if(0<c.length)for(var e=c.length-1;0<=e;e--){var f=c[e];if(!f)break;d.push(f.clone())}c=
q.qj.pH(d,a.ne,a.Qj);c.nx(a.Am);return q.gt.create(c)},stop:function(){this.Aj.Am&&this.X&&this.X.Pp(this.Dv);q.Nd.prototype.stop.call(this)}});q.gt.create=function(a){var c=new q.gt;c.tI(a);return c};
q.Vy=q.W.extend({Mf:null,om:null,ctor:function(){q.W.prototype.ctor.call(this);this.om=this.Mf=null},Og:function(a,c){return this.T(c.Df())?(this.om=a,this.Mf=c,!0):!1},clone:function(){var a=new q.Vy;a.Og(this.om,this.Mf.clone());return a},ea:function(a){q.W.prototype.ea.call(this,a);this.Mf.ea(this.om)},stop:function(){this.Mf.stop()},update:function(a){this.Mf.update(a)},M3:function(){return this.om},v$:function(a){this.om!=a&&(this.om=a)}});q.Vy.create=function(a,c){var d=new q.Vy;d.Og(a,c);return d};q.ti=q.uj.extend({ni:function(){return!0},step:function(){this.update(1)},update:function(){},reverse:function(){return this.clone()},clone:function(){return new q.ti}});q.eu=q.ti.extend({update:function(){this.X.D(!0)},reverse:function(){return q.Qt.create()},clone:function(){return new q.eu}});q.eu.create=function(){return new q.eu};q.Qt=q.ti.extend({update:function(){this.X.D(!1)},reverse:function(){return q.eu.create()},clone:function(){return new q.Qt}});q.Qt.create=function(){return new q.Qt};
q.nu=q.ti.extend({update:function(){this.X.D(!this.X.ta)},reverse:function(){return new q.nu},clone:function(){return new q.nu}});q.nu.create=function(){return new q.nu};q.Yt=q.ti.extend({nr:!0,ctor:function(){q.uj.prototype.ctor.call(this);this.nr=!0},update:function(){this.X.R(this.nr)},v:function(a){this.nr=a;return!0},reverse:function(){return new q.Yt(this.nr)},clone:function(){return new q.Yt(this.nr)}});q.Yt.create=function(a){null==a&&(a=!0);var c=new q.Yt;c&&c.v(a);return c};
q.Ot=q.ti.extend({dc:!1,ctor:function(){q.uj.prototype.ctor.call(this);this.dc=!1},vI:function(a){this.dc=a;return!0},update:function(){this.X.cW(this.dc)},reverse:function(){return q.Ot.create(!this.dc)},clone:function(){var a=new q.Ot;a.vI(this.dc);return a}});q.Ot.create=function(a){var c=new q.Ot;return c.vI(a)?c:null};
q.Pt=q.ti.extend({ec:!1,ctor:function(){q.uj.prototype.ctor.call(this);this.ec=!1},wI:function(a){this.ec=a;return!0},update:function(){this.X.dW(this.ec)},reverse:function(){return q.Pt.create(!this.ec)},clone:function(){var a=new q.Pt;a.wI(this.ec);return a}});q.Pt.create=function(a){var c=new q.Pt;return c.wI(a)?c:null};
q.By=q.ti.extend({t:null,ctor:function(){q.uj.prototype.ctor.call(this);this.t=q.a(0,0)},yI:function(a){this.t.x=a.x;this.t.y=a.y;return!0},update:function(){this.X.o(this.t)},clone:function(){var a=new q.By;a.yI(this.t);return a}});q.By.create=function(a){var c=new q.By;c.yI(a);return c};
q.eq=q.ti.extend({qh:null,im:null,Jk:null,Hq:null,ctor:function(){q.uj.prototype.ctor.call(this);this.Hq=this.Jk=this.im=this.qh=null},Og:function(a,c,d){this.Hq=d;this.im=a;this.qh=c;return!0},qC:function(a){this.Jk=a;return!0},execute:function(){null!=this.im?this.im.call(this.qh,this.X,this.Hq):this.Jk&&this.Jk.call(null,this.X)},update:function(){this.execute()},A5:function(){return this.qh},yaa:function(a){a!=this.qh&&(this.qh&&(this.qh=null),this.qh=a)},copy:function(){var a=new q.eq;this.qh?
a.Og(this.im,this.qh,this.Hq):this.Jk&&a.qC(this.Jk);return a},clone:function(){var a=new q.eq;this.qh?a.Og(this.im,this.qh,this.Hq):this.Jk&&a.qC(this.Jk);return a}});q.eq.create=function(a,c,d){var e=new q.eq;if(1==arguments.length){if(e&&e.qC(a))return e}else if(e&&e.Og(a,c,d))return e.im=a,e;return null};q.Qx=q.W.extend({sz:0,tz:0,uz:0,yF:0,zF:0,AF:0,HG:0,IG:0,JG:0,ctor:function(){q.W.prototype.ctor.call(this);this.JG=this.IG=this.HG=this.AF=this.zF=this.yF=this.uz=this.tz=this.sz=0},ea:function(a){q.W.prototype.ea.call(this,a);a=a.$B();var c=a.TH();this.sz=c.x;this.tz=c.y;this.uz=c.z;c=a.VH();this.yF=c.x;this.zF=c.y;this.AF=c.z;a=a.NS();this.HG=a.x;this.IG=a.y;this.JG=a.z},clone:function(){return new q.Qx},reverse:function(){return q.au.create(this)}});
q.zy=q.Qx.extend({Si:0,Uu:0,co:0,Gz:0,xg:0,Fz:0,EA:0,CA:0,DA:0,BA:0,ctor:function(){q.Qx.prototype.ctor.call(this);this.BA=this.DA=this.CA=this.EA=this.Fz=this.xg=this.Gz=this.co=this.Uu=this.Si=0},T:function(a,c,d,e,f,g,h){return q.W.prototype.T.call(this,a)?(this.Si=c,this.Uu=d,this.co=e,this.Gz=f,this.xg=g,this.Fz=h,this.CA=q.tj(f),this.BA=q.tj(h),!0):!1},mX:function(){var a=this.X.$B(),c=a.VH(),d=a.TH(),a=c.x-d.x,e=c.y-d.y,c=c.z-d.z,d=Math.sqrt(Math.pow(a,2)+Math.pow(e,2)+Math.pow(c,2)),f=Math.sqrt(Math.pow(a,
2)+Math.pow(e,2));0===f&&(f=q.Lt);0===d&&(d=q.Lt);return{WT:d/q.fq.xs(),IX:Math.acos(c/d),azimuth:0>a?Math.PI-Math.asin(e/f):Math.asin(e/f)}},ea:function(a){q.W.prototype.ea.call(this,a);a=this.mX();isNaN(this.Si)&&(this.Si=a.WT);isNaN(this.co)&&(this.co=q.Dy(a.IX));isNaN(this.xg)&&(this.xg=q.Dy(a.azimuth));this.EA=q.tj(this.co);this.DA=q.tj(this.xg)},clone:function(){var a=new q.zy;a.T(this.Ea,this.Si,this.Uu,this.co,this.Gz,this.xg,this.Fz);return a},update:function(a){var c=(this.Si+this.Uu*a)*
q.fq.xs(),d=this.EA+this.CA*a,e=this.DA+this.BA*a;a=Math.sin(d)*Math.cos(e)*c+this.sz;e=Math.sin(d)*Math.sin(e)*c+this.tz;c=Math.cos(d)*c+this.uz;this.X.$B().fK(a,e,c)}});q.zy.create=function(a,c,d,e,f,g,h){var k=new q.zy;return k.T(a,c,d,e,f,g,h)?k:null};q.qd=q.W.extend({la:null,ctor:function(){q.W.prototype.ctor.call(this);this.la=null},wa:function(a){if(!a)throw"cc.ActionEase.initWithAction(): action must be non nil";return this.T(a.Df())?(this.la=a,!0):!1},clone:function(){var a=new q.qd;a.wa(this.la.clone());return a},ea:function(a){q.W.prototype.ea.call(this,a);this.la.ea(this.X)},stop:function(){this.la.stop();q.W.prototype.stop.call(this)},update:function(a){this.la.update(a)},reverse:function(){return q.qd.create(this.la.reverse())},aC:function(){return this.la}});
q.qd.create=function(a){var c=new q.qd;c&&c.wa(a);return c};q.Zl=q.qd.extend({Ye:0,ctor:function(){q.qd.prototype.ctor.call(this);this.Ye=0},haa:function(a){this.Ye=a},Y4:function(){return this.Ye},wa:function(a,c){return q.qd.prototype.wa.call(this,a)?(this.Ye=c,!0):!1},clone:function(){var a=new q.Zl;a.wa(this.la.clone(),this.Ye);return a},reverse:function(){return q.Zl.create(this.la.reverse(),1/this.Ye)}});q.Zl.create=function(a,c){var d=new q.Zl;d&&d.wa(a,c);return d};
q.Et=q.Zl.extend({update:function(a){this.la.update(Math.pow(a,this.Ye))},reverse:function(){return q.Et.create(this.la.reverse(),1/this.Ye)},clone:function(){var a=new q.Et;a.wa(this.la.clone(),this.Ye);return a}});q.Et.create=function(a,c){var d=new q.Et;d&&d.wa(a,c);return d};q.Gt=q.Zl.extend({update:function(a){this.la.update(Math.pow(a,1/this.Ye))},reverse:function(){return q.Gt.create(this.la.reverse(),1/this.Ye)},clone:function(){var a=new q.Gt;a.wa(this.la.clone(),this.Ye);return a}});
q.Gt.create=function(a,c){var d=new q.Gt;d&&d.wa(a,c);return d};q.Ft=q.Zl.extend({update:function(a){a*=2;1>a?this.la.update(0.5*Math.pow(a,this.Ye)):this.la.update(1-0.5*Math.pow(2-a,this.Ye))},clone:function(){var a=new q.Ft;a.wa(this.la.clone(),this.Ye);return a},reverse:function(){return q.Ft.create(this.la.reverse(),this.Ye)}});q.Ft.create=function(a,c){var d=new q.Ft;d&&d.wa(a,c);return d};
q.Bt=q.qd.extend({update:function(a){this.la.update(0===a?0:Math.pow(2,10*(a-1)))},reverse:function(){return q.Dt.create(this.la.reverse())},clone:function(){var a=new q.Bt;a.wa(this.la.clone());return a}});q.Bt.create=function(a){var c=new q.Bt;c&&c.wa(a);return c};q.Dt=q.qd.extend({update:function(a){this.la.update(1==a?1:-Math.pow(2,-10*a)+1)},reverse:function(){return q.Bt.create(this.la.reverse())},clone:function(){var a=new q.Dt;a.wa(this.la.clone());return a}});
q.Dt.create=function(a){var c=new q.Dt;c&&c.wa(a);return c};q.Ct=q.qd.extend({update:function(a){1!=a&&0!==a&&(a*=2,a=1>a?0.5*Math.pow(2,10*(a-1)):0.5*(-Math.pow(2,-10*(a-1))+2));this.la.update(a)},reverse:function(){return q.Ct.create(this.la.reverse())},clone:function(){var a=new q.Ct;a.wa(this.la.clone());return a}});q.Ct.create=function(a){var c=new q.Ct;c&&c.wa(a);return c};
q.Ht=q.qd.extend({update:function(a){a=0===a||1==a?a:-1*Math.cos(a*Math.PI/2)+1;this.la.update(a)},reverse:function(){return q.Jt.create(this.la.reverse())},clone:function(){var a=new q.Ht;a.wa(this.la.clone());return a}});q.Ht.create=function(a){var c=new q.Ht;c&&c.wa(a);return c};q.Jt=q.qd.extend({update:function(a){a=0===a||1==a?a:Math.sin(a*Math.PI/2);this.la.update(a)},reverse:function(){return q.Ht.create(this.la.reverse())},clone:function(){var a=new q.Jt;a.wa(this.la.clone());return a}});
q.Jt.create=function(a){var c=new q.Jt;c&&c.wa(a);return c};q.It=q.qd.extend({update:function(a){a=0===a||1==a?a:-0.5*(Math.cos(Math.PI*a)-1);this.la.update(a)},clone:function(){var a=new q.It;a.wa(this.la.clone());return a},reverse:function(){return q.It.create(this.la.reverse())}});q.It.create=function(a){var c=new q.It;c&&c.wa(a);return c};
q.On=q.qd.extend({re:null,ctor:function(){q.qd.prototype.ctor.call(this);this.re=0.3},K4:function(){return this.re},baa:function(a){this.re=a},wa:function(a,c){q.qd.prototype.wa.call(this,a);this.re=null==c?0.3:c;return!0},reverse:function(){q.log("cc.EaseElastic.reverse(): it should be overridden in subclass.")},clone:function(){var a=new q.On;a.wa(this.la.clone(),this.re);return a}});q.On.create=function(a,c){var d=new q.On;return d&&d.wa(a,c)?d:null};
q.yt=q.On.extend({update:function(a){var c=0;0===a||1===a?c=a:(c=this.re/4,a-=1,c=-Math.pow(2,10*a)*Math.sin((a-c)*Math.PI*2/this.re));this.la.update(c)},reverse:function(){return q.At.create(this.la.reverse(),this.re)},clone:function(){var a=new q.yt;a.wa(this.la.clone(),this.re);return a}});q.yt.create=function(a,c){var d=new q.yt;return d&&d.wa(a,c)?d:null};
q.At=q.On.extend({update:function(a){var c=0,c=0===a||1==a?a:Math.pow(2,-10*a)*Math.sin((a-this.re/4)*Math.PI*2/this.re)+1;this.la.update(c)},reverse:function(){return q.yt.create(this.la.reverse(),this.re)},clone:function(){var a=new q.At;a.wa(this.la.clone(),this.re);return a}});q.At.create=function(a,c){var d=new q.At;d&&d.wa(a,c);return d};
q.zt=q.On.extend({update:function(a){var c=0,c=this.re;if(0===a||1==a)c=a;else{c||(c=this.re=0.3*1.5);var d=c/4;a=2*a-1;c=0>a?-0.5*Math.pow(2,10*a)*Math.sin((a-d)*Math.PI*2/c):Math.pow(2,-10*a)*Math.sin((a-d)*Math.PI*2/c)*0.5+1}this.la.update(c)},reverse:function(){return q.zt.create(this.la.reverse(),this.re)},clone:function(){var a=new q.zt;a.wa(this.la.clone(),this.re);return a}});q.zt.create=function(a,c){var d=new q.zt;d&&d.wa(a,c);return d};
q.Yl=q.qd.extend({nw:function(a){if(a<1/2.75)return 7.5625*a*a;if(a<2/2.75)return a-=1.5/2.75,7.5625*a*a+0.75;if(a<2.5/2.75)return a-=2.25/2.75,7.5625*a*a+0.9375;a-=2.625/2.75;return 7.5625*a*a+0.984375},clone:function(){var a=new q.Yl;a.wa(this.la.clone());return a},reverse:function(){return q.Yl.create(this.la.reverse())}});q.Yl.create=function(a){var c=new q.Yl;c&&c.wa(a);return c};
q.vt=q.Yl.extend({update:function(a){this.la.update(1-this.nw(1-a))},reverse:function(){return q.xt.create(this.la.reverse())},clone:function(){var a=new q.vt;a.wa(this.la.clone());return a}});q.vt.create=function(a){var c=new q.vt;c&&c.wa(a);return c};q.xt=q.Yl.extend({update:function(a){this.la.update(this.nw(a))},reverse:function(){return q.vt.create(this.la.reverse())},clone:function(){var a=new q.xt;a.wa(this.la.clone());return a}});q.xt.create=function(a){var c=new q.xt;c&&c.wa(a);return c};
q.wt=q.Yl.extend({update:function(a){var c=0,c=0.5>a?0.5*(1-this.nw(1-2*a)):0.5*this.nw(2*a-1)+0.5;this.la.update(c)},clone:function(){var a=new q.wt;a.wa(this.la.clone());return a},reverse:function(){return q.wt.create(this.la.reverse())}});q.wt.create=function(a){var c=new q.wt;c&&c.wa(a);return c};
q.st=q.qd.extend({update:function(a){this.la.update(0===a||1==a?a:a*a*(2.70158*a-1.70158))},reverse:function(){return q.ut.create(this.la.reverse())},clone:function(){var a=new q.st;a.wa(this.la.clone());return a}});q.st.create=function(a){var c=new q.st;c&&c.wa(a);return c};q.ut=q.qd.extend({update:function(a){a-=1;this.la.update(a*a*(2.70158*a+1.70158)+1)},reverse:function(){return q.st.create(this.la.reverse())},clone:function(){var a=new q.ut;a.wa(this.la.clone());return a}});
q.ut.create=function(a){var c=new q.ut;c&&c.wa(a);return c};q.tt=q.qd.extend({update:function(a){a*=2;1>a?this.la.update(a*a*(3.5949095*a-2.5949095)/2):(a-=2,this.la.update(a*a*(3.5949095*a+2.5949095)/2+1))},clone:function(){var a=new q.tt;a.wa(this.la.clone());return a},reverse:function(){return q.tt.create(this.la.reverse())}});q.tt.create=function(a){var c=new q.tt;c&&c.wa(a);return c};q.Zx=function(a,c,d,e,f,g){var h=g*g,k=h*g,l=(1-f)/2;f=l*(-k+2*h-g);var m=l*(-k+h)+(2*k-3*h+1);g=l*(k-2*h+g)+(-2*k+3*h);h=l*(k-h);return q.a(a.x*f+c.x*m+d.x*g+e.x*h,a.y*f+c.y*m+d.y*g+e.y*h)};q.QJ=function(a){for(var c=[],d=a.length-1;0<=d;d--)c.push(q.a(a[d].x,a[d].y));return c};q.sw=function(a){for(var c=[],d=0;d<a.length;d++)c.push(q.a(a[d].x,a[d].y));return c};q.yh=function(a,c){var d=Math.min(a.length-1,Math.max(c,0));return a[d]};
q.M9=function(a){for(var c=a.length,d=0|c/2,e=0;e<d;++e){var f=a[e];a[e]=a[c-e-1];a[c-e-1]=f}};
q.vi=q.W.extend({Sh:null,Hz:0,Im:0,Wc:null,dz:null,ctor:function(){q.W.prototype.ctor.call(this);this.Sh=[];this.Im=this.Hz=0;this.dz=this.Wc=null},T:function(a,c,d){if(!c||0==c.length)throw"Invalid configuration. It must at least have one control point";return q.W.prototype.T.call(this,a)?(this.BW(c),this.Im=d,!0):!1},clone:function(){var a=new q.vi;a.T(this.Ea,q.sw(this.Sh),this.Im);return a},ea:function(a){q.W.prototype.ea.call(this,a);this.Hz=1/(this.Sh.length-1);a=this.X.t;this.Wc=q.a(a.x,a.y);
this.dz=q.a(0,0)},update:function(a){var c,d=this.Sh;if(1==a)c=d.length-1,a=1;else{var e=this.Hz;c=0|a/e;a=(a-e*c)/e}c=q.Zx(q.yh(d,c-1),q.yh(d,c-0),q.yh(d,c+1),q.yh(d,c+2),this.Im,a);q.pt&&(d=this.X.t.J-this.Wc.x,a=this.X.t.P-this.Wc.y,0!=d||0!=a)&&(e=this.dz,d=e.x+d,a=e.y+a,e.x=d,e.y=a,c.x+=d,c.y+=a);this.rL(c)},reverse:function(){var a=q.QJ(this.Sh);return q.vi.create(this.Ea,a,this.Im)},rL:function(a){this.X.o(a);this.Wc=a},O4:function(){return this.Sh},BW:function(a){this.Sh=a}});
q.vi.create=function(a,c,d){var e=new q.vi;return e.T(a,c,d)?e:null};
q.gq=q.vi.extend({Xc:null,ctor:function(){q.vi.prototype.ctor.call(this);this.Xc=q.a(0,0)},ea:function(a){q.vi.prototype.ea.call(this,a);a=a.t;this.Xc.x=a.x;this.Xc.y=a.y},reverse:function(){for(var a=this.Sh.slice(),c,d=a[0],e=1;e<a.length;++e)c=a[e],a[e]=q.Jd(c,d),d=c;a=q.QJ(a);d=a[a.length-1];a.pop();d.x=-d.x;d.y=-d.y;a.unshift(d);for(e=1;e<a.length;++e)c=a[e],c.x=-c.x,c.y=-c.y,c.x+=d.x,c.y+=d.y,d=a[e]=c;return q.gq.create(this.Ea,a,this.Im)},rL:function(a){var c=this.Xc,d=a.x+c.x;a=a.y+c.y;this.X.o(d,
a);this.Wc.x=d;this.Wc.y=a},clone:function(){var a=new q.gq;a.T(this.Ea,q.sw(this.Sh),this.Im);return a}});q.gq.create=function(a,c,d){var e=new q.gq;return e.T(a,c,d)?e:null};q.ay=q.vi.extend({T:function(a,c){return q.vi.prototype.T.call(this,a,c,0.5)},clone:function(){var a=new q.ay;a.T(this.Ea,q.sw(this.Sh));return a}});q.ay.create=function(a,c){var d=new q.ay;return d.T(a,c)?d:null};
q.$x=q.gq.extend({T:function(a,c){return q.vi.prototype.T.call(this,a,c,0.5)},clone:function(){var a=new q.$x;a.T(this.Ea,q.sw(this.Sh));return a}});q.$x.create=function(a,c){var d=new q.$x;return d.T(a,c)?d:null};q.UX=q.La.extend({SD:function(){}});
q.Mn=q.W.extend({key:"",from:0,Pl:0,MB:0,ctor:function(){q.W.prototype.ctor.call(this);this.key="";this.MB=this.Pl=this.from=0},T:function(a,c,d,e){return q.W.prototype.T.call(this,a)?(this.key=c,this.Pl=e,this.from=d,!0):!1},ea:function(a){if(!a||!a.SD)throw"cc.ActionTween.startWithTarget(): target must be non-null, and target must implement updateTweenAction function";q.W.prototype.ea.call(this,a);this.MB=this.Pl-this.from},update:function(a){this.X.SD(this.Pl-this.MB*(1-a),this.key)},reverse:function(){return q.Mn.create(this.duration,
this.key,this.Pl,this.from)},clone:function(){var a=new q.Mn;a.T(this.Ea,this.key,this.from,this.Pl);return a}});q.Mn.create=function(a,c,d,e){var f=new q.Mn;return f.T(a,c,d,e)?f:null};q.uk=0;q.Ay=1;q.KE=4;q.JM=75;
q.Ic=q.Fb.extend({Cf:null,Qi:0,tb:null,Qh:null,hm:null,Vd:!1,m4:function(){return q.a(this.Qh.x,this.Qh)},oK:function(a){this.Qh=q.tJ(a)},T2:function(){return q.a(this.hm.x,this.hm.y)},WJ:function(a){this.hm=q.tJ(a)},Bc:function(){return this.Cf},Cw:function(){return this.Qi},HS:function(){return this.tb},Ss:function(a){this.Qi!=a&&(this.Qi=q.is(a,0,100),this.oB())},If:function(){},ql:function(){return!1},f7:function(){return this.Vd},oz:function(a){if(a<q.KE){var c=q.JM;return this.Vd?q.a(c>>7-(a<<
1)&1,c>>7-((a<<1)+1)&1):q.a(c>>(a<<1)+1&1,c>>(a<<1)&1)}return q.vj()},Vc:null,fB:270,Nz:270,Si:0,Az:!1,lz:null,Id:0,Mc:null,Zf:null,RG:null,gs:!1,ctor:null,Mh:function(){q.Fb.prototype.ctor.call(this);this.Cf=q.uk;this.Qi=0;this.Qh=q.a(0,0);this.hm=q.a(0,0);this.Vd=!1;this.tb=null;this.Vc=q.vj();this.Nz=this.fB=270;this.Si=0;this.Az=!1;this.lz=q.rd()},Nh:function(){q.Fb.prototype.ctor.call(this);this.Cf=q.uk;this.Qi=0;this.Qh=q.a(0,0);this.hm=q.a(0,0);this.Vd=!1;this.tb=null;this.RG=q.Z.createBuffer();
this.Id=0;this.Zf=this.Mc=null;this.gs=!1},q:function(a){this.tb.q(a);this.Hd()},ra:function(a){this.tb.ra(a);this.Hd()},zd:function(){return this.tb.zd()},Zi:function(){return this.tb.Zi()},BK:null,HP:function(a){this.Vd!==a&&(this.Vd=a)},IP:function(a){this.Vd!==a&&(this.Vd=a,this.Zf=this.Mc=null,this.Id=0)},Us:null,KP:function(a){this.tb!=a&&(this.tb=a,this.U(this.tb.c()))},LP:function(a){a&&this.tb!=a&&(this.tb=a,this.U(a.c()),this.Mc&&(this.Zf=this.Mc=null,this.Id=0))},mj:null,OP:function(a){a!==
this.Cf&&(this.Cf=a)},PP:function(a){a!==this.Cf&&(this.Mc&&(this.Zf=this.Mc=null,this.Id=0),this.Cf=a)},AK:null,FP:function(a){this.Vd!==a&&(this.Vd=a)},GP:function(a){this.Vd!==a&&(this.Vd=a,this.Zf=this.Mc=null,this.Id=0)},df:function(a){var c=this.tb;if(!c)return{Sa:0,sa:0};var d=c.Rb,e=q.a(d.Na.F.Sa,d.Na.F.sa),d=q.a(d.Qa.F.Sa,d.Qa.F.sa);c.cd&&(c=a.x,a.x=a.y,a.y=c);return{Sa:e.x*(1-a.x)+d.x*a.x,sa:e.y*(1-a.y)+d.y*a.y}},ff:function(a){if(!this.tb)return{x:0,y:0};var c=this.tb.Rb,d=q.a(c.Na.w.x,
c.Na.w.y),c=q.a(c.Qa.w.x,c.Qa.w.y);return{x:d.x*(1-a.x)+c.x*a.x,y:d.y*(1-a.y)+c.y*a.y}},tC:null,pO:function(a){this.Ss(0);this.G(0.5,0.5);this.Cf=q.uk;this.Vd=!1;this.oK(q.a(0.5,0.5));this.WJ(q.a(1,1));this.Us(a);return!0},qO:function(a){this.Ss(0);this.Zf=this.Mc=null;this.Id=0;this.G(0.5,0.5);this.Cf=q.uk;this.Vd=!1;this.oK(q.a(0.5,0.5));this.WJ(q.a(1,1));this.Us(a);this.Wg(q.Kh.f().qi(q.Hy));return!0},Va:null,Gj:function(a){a=a||q.Z;var c=this.tb;c.rm&&(a.globalCompositeOperation="lighter");var d=
q.pa.f().ua,e=q.pa.f().Ca;a.globalAlpha=c.$b/255;var f=c.za,g=c.Ba,h=c.jc,k=c.zo,l=0|h.x,m=-h.y-f.height,n=c.Lm;k.width=f.width*d;k.height=f.height*e;a.save();c.dc&&(l=-h.x-f.width,a.scale(-1,1));c.ec&&(m=h.y,a.scale(1,-1));l*=d;m*=e;this.Cf==q.Ay?(f=this.lz,a.beginPath(),a.rect(f.x*d,f.y*e,f.width*d,f.height*e),a.clip(),a.closePath()):this.Cf==q.uk&&(f=this.Vc.x*d,h=this.Vc.y*e,a.beginPath(),a.arc(f,h,this.Si*e,Math.PI/180*this.fB,Math.PI/180*this.Nz,this.Az),a.lineTo(f,h),a.clip(),a.closePath());
c.Ga&&n.Rl?(d=c.Ga.rc,this.Dq?a.drawImage(d,0,0,n.width,n.height,l,m,k.width,k.height):a.drawImage(d,n.x,n.y,n.width,n.height,l,m,k.width,k.height)):0!==g.width&&(k=this.zd(),a.fillStyle="rgba("+k.r+","+k.p+","+k.k+",1)",a.fillRect(l,m,g.width*d,g.height*e));a.restore();q.Hh()},Bg:function(a){a=a||q.Z;if(this.Mc&&this.tb){q.wy(this);var c=this.tb.na;q.fk(c.src,c.Nb);q.Fe(q.ru);this.tb.fa()?q.Mg(this.tb.fa()):q.Mg(null);a.bindBuffer(a.ARRAY_BUFFER,this.RG);this.gs&&(a.bufferData(a.ARRAY_BUFFER,this.Zf,
a.DYNAMIC_DRAW),this.gs=!1);c=q.Zb.BYTES_PER_ELEMENT;a.vertexAttribPointer(q.Ue,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(q.rq,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(q.sq,2,a.FLOAT,!1,c,12);this.Cf===q.uk?a.drawArrays(a.TRIANGLE_FAN,0,this.Id):this.Cf==q.Ay&&(this.Vd?(a.drawArrays(a.TRIANGLE_STRIP,0,this.Id/2),a.drawArrays(a.TRIANGLE_STRIP,4,this.Id/2),q.xh++):a.drawArrays(a.TRIANGLE_STRIP,0,this.Id));q.xh++}},qQ:function(){if(this.tb){var a,c=this.Qh;a=this.Qi/100;var d=2*q.PI*(this.Vd?a:
1-a),e=q.a(c.x,1),f=q.oU(e,c,d),d=0;if(0==a)f=e,d=0;else if(1==a)f=e,d=4;else{var g=q.$L,h=q.KE;for(a=0;a<=h;++a){var k=(a+(h-1))%h,l=this.oz(a%h),k=this.oz(k);0==a?k=q.vJ(l,k,1-c.x):4==a&&(l=q.vJ(l,k,1-c.x));var m=q.a(0,0);q.NC(l,k,c,f,m)&&(0!=a&&4!=a||0<=m.x&&1>=m.x)&&0<=m.y&&m.y<g&&(g=m.y,d=a)}f=q.Ug(c,q.kj(q.Jd(f,c),g))}g=!0;this.Id!=d+3&&(g=!1,this.Zf=this.Mc=null,this.Id=0);if(!this.Mc){h=this.Id=d+3;l=q.Zb.BYTES_PER_ELEMENT;this.Zf=new ArrayBuffer(h*l);k=[];for(a=0;a<h;a++)k[a]=new q.Zb(null,
null,null,this.Zf,a*l);this.Mc=k;if(!this.Mc){q.log("cc.ProgressTimer._updateRadial() : Not enough memory");return}}this.Hd();h=this.Mc;if(!g)for(h[0].F=this.df(c),h[0].w=this.ff(c),h[1].F=this.df(e),h[1].w=this.ff(e),a=0;a<d;a++)c=this.oz(a),h[a+2].F=this.df(c),h[a+2].w=this.ff(c);h[this.Id-1].F=this.df(f);h[this.Id-1].w=this.ff(f)}},fQ:function(){if(this.tb){var a,c=this.Qi/100,d=this.hm,d=q.kj(q.a(1-d.x+c*d.x,1-d.y+c*d.y),0.5),c=q.Jd(this.Qh,d),d=q.Ug(this.Qh,d);0>c.x&&(d.x+=-c.x,c.x=0);1<d.x&&
(c.x-=d.x-1,d.x=1);0>c.y&&(d.y+=-c.y,c.y=0);1<d.y&&(c.y-=d.y-1,d.y=1);if(this.Vd){if(!this.Mc){this.Id=8;var e=q.Zb.BYTES_PER_ELEMENT;this.Zf=new ArrayBuffer(8*e);var f=[];for(a=0;8>a;a++)f[a]=new q.Zb(null,null,null,this.Zf,a*e);f[0].F=this.df(q.a(0,1));f[0].w=this.ff(q.a(0,1));f[1].F=this.df(q.a(0,0));f[1].w=this.ff(q.a(0,0));f[6].F=this.df(q.a(1,1));f[6].w=this.ff(q.a(1,1));f[7].F=this.df(q.a(1,0));f[7].w=this.ff(q.a(1,0));this.Mc=f}a=this.Mc;a[2].F=this.df(q.a(c.x,d.y));a[2].w=this.ff(q.a(c.x,
d.y));a[3].F=this.df(q.a(c.x,c.y));a[3].w=this.ff(q.a(c.x,c.y));a[4].F=this.df(q.a(d.x,d.y));a[4].w=this.ff(q.a(d.x,d.y));a[5].F=this.df(q.a(d.x,c.y));a[5].w=this.ff(q.a(d.x,c.y))}else{if(!this.Mc)for(this.Id=4,e=q.Zb.BYTES_PER_ELEMENT,this.Zf=new ArrayBuffer(4*e),this.Mc=[],a=0;4>a;a++)this.Mc[a]=new q.Zb(null,null,null,this.Zf,a*e);a=this.Mc;a[0].F=this.df(q.a(c.x,d.y));a[0].w=this.ff(q.a(c.x,d.y));a[1].F=this.df(q.a(c.x,c.y));a[1].w=this.ff(q.a(c.x,c.y));a[2].F=this.df(q.a(d.x,d.y));a[2].w=this.ff(q.a(d.x,
d.y));a[3].F=this.df(q.a(d.x,c.y));a[3].w=this.ff(q.a(d.x,c.y))}this.Hd()}},Hd:function(){if(this.tb&&this.Mc){for(var a=this.tb.Rb.Wa.Q,c=this.Mc,d=0,e=this.Id;d<e;++d)c[d].Q=a;this.gs=!0}},oB:null,mQ:function(){var a=this.tb,c=a.c(),d=this.Qh;if(this.Cf==q.uk){this.Si=Math.round(Math.sqrt(c.width*c.width+c.height*c.height));var e,f=!1,g=this.Vc;g.x=c.width*d.x;g.y=-c.height*d.y;this.Vd?(e=270,d=270-3.6*this.Qi):(d=-90,e=-90+3.6*this.Qi);a.dc&&(g.x-=2*c.width*this.Qh.x,d=-d-180,e=-e-180,f=!f);a.ec&&
(g.y+=2*c.height*this.Qh.y,f=!f,d=-d,e=-e);this.fB=d;this.Nz=e;this.Az=f}else{e=this.hm;g=this.Qi/100;f=this.lz;e=q.size(c.width*(1-e.x),c.height*(1-e.y));var g=q.size((c.width-e.width)*g,(c.height-e.height)*g),g=q.size(e.width+g.width,e.height+g.height),h=q.a(c.width*d.x,c.height*d.y),k=h.x-g.width/2;0.5<d.x&&g.width/2>=c.width-h.x&&(k=c.width-g.width);e=h.y-g.height/2;0.5<d.y&&g.height/2>=c.height-h.y&&(e=c.height-g.height);f.x=0;c=1;a.dc&&(f.x-=g.width,c=-1);0<k&&(f.x+=k*c);f.y=0;c=1;a.ec&&(f.y+=
g.height,c=-1);0<e&&(f.y-=e*c);f.width=g.width;f.height=-g.height}},nQ:function(){var a=this.Cf;a===q.uk?this.qQ():a===q.Ay&&this.fQ();this.gs=!0}});
q.Ia.Sc?(b=q.Ic.prototype,b.ctor=q.Ic.prototype.Nh,b.BK=q.Ic.prototype.IP,b.Us=q.Ic.prototype.LP,b.mj=q.Ic.prototype.PP,b.AK=q.Ic.prototype.GP,b.tC=q.Ic.prototype.qO,b.Va=q.Ic.prototype.Bg,b.oB=q.Ic.prototype.nQ):(b=q.Ic.prototype,b.ctor=q.Ic.prototype.Mh,b.BK=q.Ic.prototype.HP,b.Us=q.Ic.prototype.KP,b.mj=q.Ic.prototype.OP,b.AK=q.Ic.prototype.FP,b.tC=q.Ic.prototype.pO,b.Va=q.Ic.prototype.Gj,b.oB=q.Ic.prototype.mQ);q.Ic.create=function(a){var c=new q.Ic;return c.tC(a)?c:null};q.Cy=q.W.extend({Bf:0,qe:0,ctor:function(){q.W.prototype.ctor.call(this);this.qe=this.Bf=0},T:function(a,c){return q.W.prototype.T.call(this,a)?(this.Bf=c,!0):!1},clone:function(){var a=new q.Cy;a.T(this.Ea,this.Bf);return a},reverse:function(){q.log("cc.ProgressTo.reverse(): reverse hasn't been supported.");return null},ea:function(a){q.W.prototype.ea.call(this,a);this.qe=a.Cw();100==this.qe&&(this.qe=0)},update:function(a){this.X instanceof q.Ic&&this.X.Ss(this.qe+(this.Bf-this.qe)*a)}});
q.Cy.create=function(a,c){var d=new q.Cy;d.T(a,c);return d};q.Wt=q.W.extend({Bf:0,qe:0,ctor:function(){q.W.prototype.ctor.call(this);this.qe=this.Bf=0},T:function(a,c,d){return q.W.prototype.T.call(this,a)?(this.Bf=d,this.qe=c,!0):!1},clone:function(){var a=new q.Wt;a.T(this.Ea,this.qe,this.Bf);return a},reverse:function(){return q.Wt.create(this.Ea,this.Bf,this.qe)},ea:function(a){q.W.prototype.ea.call(this,a)},update:function(a){this.X instanceof q.Ic&&this.X.Ss(this.qe+(this.Bf-this.qe)*a)}});
q.Wt.create=function(a,c,d){var e=new q.Wt;e.T(a,c,d);return e};q.Xx=9;q.FL=1;q.IL=2;q.JL=4;q.GL=8;q.HL=16;q.lt=32;q.KL=64;q.EL=128;q.ui=256;q.sg=1;q.nt=2;q.mt=4;q.lY=8;q.kY=8;
q.Yb=q.Ih.extend({QF:!1,b0:!1,ql:function(){return this.QF},If:function(a){this.QF=a;for(var c=this.B,d=0,e=c.length;d<e;d++){var f=c[d];f&&f.pb&&f.If(a)}},Ui:q.sg,x5:function(){return this.Ui},Yq:!1,Wo:!1,Mj:!1,Vu:null,Hf:function(a){this.Ui=(this.Yq=a)?q.sg:q.mt;this.ld()},isEnabled:function(){return this.Yq},Up:function(a){this.Wo=a;this.ld()},i7:function(){return this.Wo},Gl:function(a){this.Mj=a;this.ld()},R6:function(){return this.Mj},cT:function(){for(var a=this.getParent();null!=a;a=a.getParent())if(!a.ta)return!1;
return!0},ctor:function(){q.Ih.prototype.ctor.call(this);this.Vu={};this.qc=q.zb()},v:function(){return q.Ih.prototype.v.call(this)?(this.Ui=q.sg,this.Yq=!0,this.Mj=this.Wo=!1,this.ux(1),!0):!1},$w:function(){q.XC(this.bl,!0,this)},of:function(a){for(var c=0,d=q.Xx;c<d;c++)if(a&1<<c)for(var e=this.Mz(1<<c),f=0,g=e.length;f<g;f++)e[f].AT(this)},eH:function(a,c,d){for(var e=0,f=q.Xx;e<f;e++)d&1<<e&&this.Cu(a,c,1<<e)},F9:function(a,c,d){for(var e=0,f=q.Xx;e<f;e++)d&1<<e&&this.gP(a,c,1<<e)},bj:function(a){return this.Oa(a.S)},
oi:function(a){a=a.S;a=this.getParent().Oa(a);return q.hb(this.fb(),a)},d0:function(){return null},Mz:function(a){a=a.toString();this.Vu.hasOwnProperty(a)||(this.Vu[a]=[]);return this.Vu[a]},Cu:function(a,c,d){a=new q.hM(a,c,d);this.Mz(d).push(a)},gP:function(a,c,d){d=this.Mz(d);if(a||c)for(var e=0;e<d.length;){var f=d[e],g=!0;a&&(g=a==f.X);c&&(g=g&&c==f.Mf);g?q.fe(d,f):e++}else d.length=0},ld:function(){}});q.Yb.create=function(){var a=new q.Yb;return a&&a.v()?a:null};q.hE=3435855873;
q.Gh=q.Yb.extend({Pq:!1,hs:!1,Cg:null,pr:null,Gq:null,Su:null,Mm:null,ke:null,Pi:0,Jo:!1,Zv:null,Wr:null,$v:null,gm:null,cG:!1,tv:0,sv:0,ctor:function(){q.Yb.prototype.ctor.call(this);this.Cg=new q.wk(0,0);this.pr=new q.ah(0,0);this.Gq="";this.Su=q.zb();this.Zv={};this.Wr={};this.$v={};this.gm={}},v:function(){return this.Lw(q.V.create("","Arial",12),q.Te.create())},ld:function(){if(this.cG){this.Mm&&this.Mm.D(!1);this.ke&&this.ke.D(!1);this.iW(this.pr);var a=this.Ui;this.Gq=this.hC(a);this.Su=this.MS(a);
var c=this.Mm=this.ts(a);c&&c.ja&&c.ja(this.Gq);c&&c.pb&&c.q(this.Su);var d=this.c();c&&c.o(d.width/2,d.height/2);(a=this.ke=this.aS(a))&&a.o(d.width/2,d.height/2);d=c?c.fb().Ua:q.size(0,0);if(this.Pq)a&&a.U(d.width+2*this.sv,d.height+2*this.tv);else if(a){var e=a.Cg,e=q.size(e.width,e.height);0>=e.width&&(e.width=d.width);0>=e.height&&(e.height=d.height);a.U(e)}d=c?c.fb():q.rect(0,0,0,0);e=a?a.fb():q.rect(0,0,0,0);d=q.Zw(d,e);this.U(d.width,d.height);d=this.c();c&&(c.o(d.width/2,d.height/2),c.D(!0));
a&&(a.o(d.width/2,d.height/2),a.D(!0))}},Lw:function(a,c){if(!a||!a.pb)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): label should be non-null";if(!c)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): backgroundSprite should be non-null";return q.Yb.prototype.v.call(this,!0)?(this.cG=!0,this.Zv={},this.Wr={},this.$v={},this.gm={},this.bc(!0),this.Jo=!1,this.hs=!0,this.Gq=null,this.JV(!0),this.ri(q.size(0,0)),this.hs=!0,this.cj(!1),this.G(0.5,0.5),this.Mm=a,this.ke=c,this.ra(255),
this.If(!0),this.RW(a.fC(),q.sg),this.QW(a.zd(),q.sg),this.xD(a,q.sg),this.Dl(c,q.sg),this.Ui=q.sg,this.sv=24,this.tv=12,this.pr=new q.ah(0.5,0.5),this.ri(q.am()),this.ld(),!0):!1},sT:function(a,c,d){a=q.V.create(a,c,d);return this.Lw(a,q.Te.create())},Iw:function(a){var c=q.V.create("","Arial",30);return this.Lw(c,a)},Z1:function(){return this.Pq},JV:function(a){this.Pq=a;this.ld()},f6:function(){return this.hs},DD:function(a){return this.hs=a},vS:function(){return this.Cg},ri:function(a){if(0===
a.width&&0===a.height)this.Pq=!0;else{this.Pq=!1;var c=this.gm,d;for(d in c)c[d].ri(a)}this.Cg=a;this.ld()},c4:function(){return this.pr},iW:function(a){this.pr=a;this.Mm&&this.Mm.G(a)},V_:function(){return this.Gq},W_:function(){return this.Su},Zi:function(){return this.Pi},ra:function(a){q.Yb.prototype.ra.call(this,a);var c=this.gm,d;for(d in c)c[d].ra(a)},q:function(a){q.Yb.prototype.q.call(this,a);var c=this.gm,d;for(d in c)c[d].q(a)},zd:function(){return this.te},e7:function(){return this.Jo},
$_:function(){return this.tv},Y_:function(){return this.sv},L$:function(a,c){this.tv=c;this.sv=a;this.ld()},Hf:function(a){q.Yb.prototype.Hf.call(this,a);this.ld()},Up:function(a){q.Yb.prototype.Up.call(this,a);this.ld()},Gl:function(a){this.Ui=a?q.nt:q.sg;q.Yb.prototype.Gl.call(this,a);(a=this.ZB(q.hE))&&this.nX(a);this.ld();this.hs&&(a=q.Xn.create(0.05,this.Mj&&this.isEnabled()&&!this.Wo?1.1:1),a.GK(q.hE),this.cx(a))},vb:function(a){if(!(this.oi(a)&&this.isEnabled()&&this.ta&&this.cT()))return!1;
this.Jo=!0;this.Gl(!0);this.of(q.FL);return!0},Ad:function(a){this.Yq&&this.Jo&&!this.Wo?(a=this.oi(a))&&!this.Mj?(this.Gl(!0),this.of(q.GL)):a&&this.Mj?this.of(q.IL):!a&&this.Mj?(this.Gl(!1),this.of(q.HL)):a||this.Mj||this.of(q.JL):this.Mj&&this.Gl(!1)},Tg:function(a){this.Jo=!1;this.Gl(!1);this.oi(a)?this.of(q.lt):this.of(q.KL)},jk:function(){this.Jo=!1;this.Gl(!1);this.of(q.EL)},hC:function(a){var c=this.Zv;return c?c[a]?c[a]:c[q.sg]:""},RW:function(a,c){this.Zv[c]=a||"";this.Ui==c&&this.ld()},
MS:function(a){return(a=this.Wr[a])?a:(a=this.Wr[q.sg])?a:q.zb()},QW:function(a,c){this.Wr[c]=a;this.Ui==c&&this.ld()},ts:function(a){var c=this.$v;return c.hasOwnProperty(a)&&c[a]?c[a]:c[q.sg]},xD:function(a,c){var d=this.$v;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.D(!1);a.G(0.5,0.5);this.g(a,1);this.Ui==c&&this.ld()},Eaa:function(a,c){var d=this.hC(c);d||(d="");this.xD(q.V.create(d,a,12),c)},H5:function(a){a=this.ts(a);return null!=a&&a instanceof q.V?a.vf:""},Faa:function(a,
c){var d=this.ts(c);null!=d&&d instanceof q.V&&d.ix(a)},I5:function(a){a=this.ts(a);return null!=a&&a instanceof q.V?a.Sd:0},Daa:function(a,c){var d=this.hC(c);d||(d="");this.xD(q.ty.create(d,a),c)},G5:function(a){a=this.ts(a);return null!=a&&a instanceof q.ty?a.J3():""},aS:function(a){var c=this.gm;return c.hasOwnProperty(a)&&c[a]?c[a]:c[q.sg]},Dl:function(a,c){var d=this.gm;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.D(!1);a.G(0.5,0.5);this.g(a);d=this.Cg;0===d.width&&
0===d.height||a.ri(d);this.Ui===c&&this.ld()},b$:function(a,c){var d=q.Te.qH(a);this.Dl(d,c)}});q.Gh.create=function(a,c){var d;if(0==arguments.length)return(d=new q.Gh)&&d.v()?d:null;1==arguments.length?(d=new q.Gh,d.Iw(arguments[0])):2==arguments.length?(d=new q.Gh,d.Lw(a,c)):3==arguments.length&&(d=new q.Gh,d.sT(arguments[0],arguments[1],arguments[2]));return d};q.RGBA=function(a,c,d,e){this.r=a;this.p=c;this.k=d;this.K=e};q.ny=function(a,c,d){this.h=a;this.s=c;this.sa=d};q.ie={};q.ie.Xm=function(a,c,d,e){a=q.A.rH(a);if(!a)return null;a.o(d);a.G(e);c.g(a);return a};q.ie.dM=function(a){var c=new q.ny,d,e;d=a.r<a.p?a.r:a.p;d=d<a.k?d:a.k;e=a.r>a.p?a.r:a.p;e=e>a.k?e:a.k;c.sa=e;d=e-d;if(0<e)c.s=d/e;else return c.s=0,c.h=-1,c;c.h=a.r>=e?(a.p-a.k)/d:a.p>=e?2+(a.k-a.r)/d:4+(a.r-a.p)/d;c.h*=60;0>c.h&&(c.h+=360);return c};
q.ie.Fy=function(a){var c,d,e,f,g=new q.RGBA;g.K=1;if(0>=a.s){if(!a.h)return g.r=a.sa,g.p=a.sa,g.k=a.sa,g;g.r=0;g.p=0;g.k=0;return g}c=a.h;360<=c&&(c=0);c/=60;f=0|c;e=c-f;c=a.sa*(1-a.s);d=a.sa*(1-a.s*e);e=a.sa*(1-a.s*(1-e));switch(f){case 0:g.r=a.sa;g.p=e;g.k=c;break;case 1:g.r=d;g.p=a.sa;g.k=c;break;case 2:g.r=c;g.p=a.sa;g.k=e;break;case 3:g.r=c;g.p=d;g.k=a.sa;break;case 4:g.r=e;g.p=c;g.k=a.sa;break;default:g.r=a.sa,g.p=c,g.k=d}return g};q.ie.cE=function(a,c){return q.Zw(a,c)};q.hM=q.La.extend({Mf:null,X:null,Ru:null,ctor:function(a,c,d){this.X=a;this.Mf=c;this.Ru=d},L2:function(){return this.Mf},LS:function(){return this.X},p3:function(){return this.Ru},AT:function(a){if(this.X&&this.Mf)if("string"==typeof this.Mf)this.X[this.Mf](a,this.Ru);else this.Mf.call(this.X,a,this.Ru)}});q.EE=0;q.HE=1;q.FE=2;q.GE=3;q.CE=4;q.JE=5;q.IE=6;q.IM=7;q.DE=8;
q.Te=q.Fb.extend({pb:!0,Zo:null,sF:null,Uk:!1,Af:null,ai:null,$h:null,sh:null,Mi:null,Cj:null,Vh:null,Bi:null,Ai:null,Ci:null,Ej:null,sc:!1,ud:null,Cg:null,Pi:0,qc:null,oo:null,fv:0,hv:0,gv:0,ev:0,vG:!1,aB:!1,qb:!1,Td:null,iL:function(){return this.qb},$f:function(a,c){this.Td.push({eventCallback:a,ii:c})},le:function(){this.qb=!0;for(var a=this.Td,c=0,d=a.length;c<d;c++){var e=a[c];e.eventCallback.call(e.ii,this)}a.length=0},ew:function(){var a;a=this.fv;var c=this.hv,d=this.gv,e=this.Zo,f=this.ev;
a=0===a&&0===c&&0===d&&0===f?q.rd():this.aB?q.rect(f,a,e.width-d-a,e.height-c-f):q.rect(a,c,e.width-a-d,e.height-c-f);this.PV(a)},lQ:function(){if(this.ai&&this.sh&&this.Ci&&this.Bi&&this.Cj){var a=this.Ba,c=this.ai,d=this.sh,e=this.Ci,f=this.Bi,g=this.Cj,h=this.Cj.c(),k=c.c(),l=f.c(),m=a.Ha-k.width-d.c().width,a=a.xa-k.height-e.c().height,m=m/h.width,a=a/h.height,k=h.width*m,n=h.height*a,t=l.width,l=l.height;if(!q.Ia.Sc){var s=Math.round(k);k!=s&&(k=s,m=k/h.width);s=Math.round(n);n!=s&&(n=s,a=n/
h.height)}g.Tp(m);g.zn(a);var h=this.Mi,s=this.Vh,u=this.$h,w=this.Ai,D=q.a(0,0);f.G(D);e.G(D);c.G(D);d.G(D);h.G(D);s.G(D);u.G(D);w.G(D);g.G(D);f.o(0,0);e.o(t+k,0);c.o(0,l+n);d.o(t+k,l+n);h.o(0,l);h.zn(a);s.o(t+k,l);s.zn(a);w.o(t,0);w.Tp(m);u.o(t,l+n);u.Tp(m);g.o(t,l)}},ctor:function(){q.Fb.prototype.ctor.call(this);this.Zo=q.rd();this.sF=q.rd();this.Ej=q.zb();this.ud=new q.wk(0,0);this.Cg=new q.wk(0,0);this.qc=q.zb();this.Pi=255;this.oo=q.rd();this.Td=[]},tS:function(){return this.ud},vS:function(){return this.Cg},
ri:function(a){this.U(a);this.Cg=a},Zi:function(){return this.Pi},ra:function(a){if(this.Af){this.Pi=a;for(var c=this.Af.B,d=0;d<c.length;d++){var e=c[d];e&&e.pb&&e.ra(a)}}},zd:function(){return this.qc},q:function(a){if(this.Af){this.qc=a;for(var c=this.Af.B,d=0;d<c.length;d++){var e=c[d];e&&e.pb&&e.q(a)}}},c3:function(){return this.oo},PV:function(a){if(this.Af){var c=this.Ba,d=c.Ha,c=c.xa;this.aq(this.Af,this.Zo,this.aB,a);this.U(d,c)}},Y3:function(){return this.fv},D$:function(a){this.fv=a;this.ew()},
a4:function(){return this.hv},F$:function(a){this.hv=a;this.ew()},Z3:function(){return this.gv},E$:function(a){this.gv=a;this.ew()},X3:function(){return this.ev},C$:function(a){this.ev=a;this.ew()},U:function(a,c){2===arguments.length?q.H.prototype.U.call(this,a,c):q.H.prototype.U.call(this,a);this.Uk=!0},Aa:function(a){this.Uk&&(this.lQ(),this.Uk=!1);q.Fb.prototype.Aa.call(this,a)},v:function(){return this.Jw(null,q.rd(),!1,q.rd())},Jw:function(a,c,d,e){3===arguments.length&&(e=d,d=!1);a&&this.aq(a,
c,d,e);this.G(0.5,0.5);return this.Uk=!0},dj:function(a,c,d){a instanceof q.vg?(d=a=c,c=q.rd()):(c=c||q.rd(),d=d||q.rd());if(!a)throw"cc.Scale9Sprite.initWithFile(): file should be non-null";var e=q.ka.f().Fx(a);if(!e){var e=q.ka.f().va(a),f=e.Pg();(this.qb=f)||e.$f(function(a){var c=this.Cg,c=q.size(c.width,c.height);a=a.c();this.aq(this.Af,q.rect(0,0,a.width,a.height),!1,this.oo);this.ri(c);this.Uk=!0;this.le()},this)}a=q.Ab.create(a,9);return this.Jw(a,c,!1,d)},Je:function(a,c){if(!a||!a.fa())throw"cc.Scale9Sprite.initWithSpriteFrame(): spriteFrame should be non-null and its texture should be non-null";
c=c||q.rd();var d=a.qb;(this.qb=d)||a.$f(function(a){var c=this.Cg,c=q.size(c.width,c.height);this.aq(this.Af,a.jd(),q.Ia.Sc?a.vd:!1,this.oo);this.ri(c);this.Uk=!0;this.le()},this);d=q.Ab.eb(a.fa(),9);return this.Jw(d,a.jd(),q.Ia.Sc?a.vd:!1,c)},zI:function(a,c){if(!a)throw"cc.Scale9Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";c=c||q.rd();var d=q.wg.f().Ah(a);return null==d?(q.log("cc.Scale9Sprite.initWithSpriteFrameName(): can't find the sprite frame by spriteFrameName"),
!1):this.Je(d,c)},I9:function(a){var c=new q.Te;return c&&c.Jw(this.Af,this.Zo,!1,a)?c:null},If:function(a){if(this.Af){this.sc=a;var c=this.Af.B;if(c)for(var d=0,e=c.length;d<e;d++)c[d].If(a)}},ql:function(){return this.sc},aq:function(a,c,d,e){var f=this.Zi(),g=this.zd();c=q.rect(c.x,c.y,c.width,c.height);this.fc(!0);this.Af!=a&&(this.Af=a);a=a.fa();var h=a.Pg();if(this.qb=h){a=this.Af;a.fc(!0);h=this.oo;h.x=e.x;h.y=e.y;h.width=e.width;h.height=e.height;this.aB=d;h=a.fa();q.Br(c)&&(c=h.c(),c=q.rect(0,
0,c.width,c.height));var k=this.Zo=c;k.x=c.x;k.y=c.y;k.width=c.width;k.height=c.height;var l=c.Ua;this.ud.width=l.width;this.ud.height=l.height;k=this.Cg;0===k.width&&0===k.height&&(k.width=l.width,k.height=l.height);k=this.sF;e&&(k.x=e.x,k.y=e.y,k.width=e.width,k.height=e.height);var m=l.width;e=l.height;q.Br(k)&&(k.x=m/3,k.y=e/3,k.width=m/3,k.height=e/3);var n=k.x,t=k.width,s=m-(n+t),u=k.y,w=k.height,D=e-(u+w),H=0,B=0;e=q.rect(H,B,n,u);var H=H+n,k=q.rect(H,B,t,u),m=q.rect(H+t,B,s,u),H=0,B=0+u,l=
q.rect(H,B,n,w),H=H+n,ba=q.rect(H,B,t,w),H=H+t,ca=q.rect(H,B,s,w),H=0,B=0+u+w,u=q.rect(H,B,n,D),H=H+n,n=q.rect(H,B,t,D),H=H+t,t=q.rect(H,B,s,D),s={K:1,k:0,Ka:0,d:1,bb:0,cb:0};if(d){d=ba;var D=t,H=u,B=m,w=e,qa=ca,ha=l,ra=n,sa=k,s=q.Rx(s,c.height+c.x,c.y),s=q.DL(s),ba=q.Kf(ba,s),t=q.Kf(t,s),u=q.Kf(u,s),m=q.Kf(m,s);e=q.Kf(e,s);ca=q.Kf(ca,s);l=q.Kf(l,s);n=q.Kf(n,s);k=q.Kf(k,s);d.x=ba.x;d.y=ba.y;D.x=t.x;D.y=t.y;H.x=u.x;H.y=u.y;B.x=m.x;B.y=m.y;w.x=e.x;w.y=e.y;qa.x=ca.x;qa.y=ca.y;ha.x=l.x;ha.y=l.y;ra.x=
n.x;ra.y=n.y;sa.x=k.x;sa.y=k.y;this.Cj=new q.A;this.Cj.Pa(h,d,!0);a.g(this.Cj,0,q.EE);this.$h=new q.A;this.$h.Pa(h,sa,!0);a.g(this.$h,1,q.HE);this.Ai=new q.A;this.Ai.Pa(h,ra,!0);a.g(this.Ai,1,q.CE);this.Mi=new q.A;this.Mi.Pa(h,ha,!0);a.g(this.Mi,1,q.FE);this.Vh=new q.A;this.Vh.Pa(h,qa,!0);a.g(this.Vh,1,q.GE);this.ai=new q.A;this.ai.Pa(h,w,!0);a.g(this.ai,2,q.IE);this.sh=new q.A;this.sh.Pa(h,B,!0);a.g(this.sh,2,q.JE);this.Bi=new q.A;this.Bi.Pa(h,H,!0);a.g(this.Bi,2,q.DE);this.Ci=new q.A;this.Ci.Pa(h,
D,!0)}else s=q.Rx(s,c.x,c.y),q.xi(ba,s),q.xi(t,s),q.xi(u,s),q.xi(m,s),q.xi(e,s),q.xi(ca,s),q.xi(l,s),q.xi(n,s),q.xi(k,s),this.Cj=new q.A,this.Cj.Pa(h,ba),a.g(this.Cj,0,q.EE),this.$h=new q.A,this.$h.Pa(h,k),a.g(this.$h,1,q.HE),this.Ai=new q.A,this.Ai.Pa(h,n),a.g(this.Ai,1,q.CE),this.Mi=new q.A,this.Mi.Pa(h,l),a.g(this.Mi,1,q.FE),this.Vh=new q.A,this.Vh.Pa(h,ca),a.g(this.Vh,1,q.GE),this.ai=new q.A,this.ai.Pa(h,e),a.g(this.ai,2,q.IE),this.sh=new q.A,this.sh.Pa(h,m),a.g(this.sh,2,q.JE),this.Bi=new q.A,
this.Bi.Pa(h,u),a.g(this.Bi,2,q.DE),this.Ci=new q.A,this.Ci.Pa(h,t);a.g(this.Ci,2,q.IM);this.U(c.Ua);this.g(a);this.vG&&(this.ra(f),255===g.r&&255===g.p&&255===g.k||this.q(g));return this.vG=!0}a.$f(function(){this.Uk=!0;this.le()},this)},Jf:function(a){var c=q.Ab.eb(a.fa(),9),d=a.qb;(this.qb=d)||a.$f(function(a){var c=this.Cg,c=q.size(c.width,c.height);this.aq(this.Af,a.jd(),q.Ia.Sc?a.vd:!1,this.oo);this.ri(c);this.Uk=!0;this.le()},this);this.aq(c,a.jd(),q.Ia.Sc?a.vd:!1,q.rd());this.ev=this.gv=this.hv=
this.fv=0}});q.Te.create=function(a,c,d){var e;if(2===arguments.length)if("string"==typeof a){if((e=new q.Te)&&e.dj(a,c))return e}else{if(a instanceof q.vg&&(e=new q.Te)&&e.dj(a,d))return e}else if(3===arguments.length){if((e=new q.Te)&&e.dj(a,c,d))return e}else if(1===arguments.length){if((e=new q.Te)&&e.dj(a))return e}else if(0===arguments.length&&(e=new q.Te)&&e.v())return e;return null};q.Te.qH=function(a,c){var d=new q.Te;return d&&d.Je(a,c)?d:null};
q.Te.rH=function(a,c){if(!a)throw"cc.Scale9Sprite.createWithSpriteFrameName(): spriteFrameName should be non-null";var d=new q.Te;return d&&d.zI(a,c)?d:null};q.gu=q.Hc.extend({});q.gu.bca=function(a){var c=new q.gu;c.v();c.U(0,a);return c};q.gu.m6=function(a){var c=new q.gu;c.v();c.U(a,0);return c};
q.Tt=q.Hc.extend({pb:!0,qc:null,Pi:0,ctor:function(){},zd:function(){return this.qc},q:function(a){this.qc=a;if(this.B&&0<this.B.length)for(var c=0;c<this.B.length;c++)this.B[c]&&this.B[c].pb&&this.B[c].q(a)},Zi:function(){return this.Pi},ra:function(a){this.Pi=a;if(this.B&&0<this.B.length)for(var c=0;c<this.B.length;c++)this.B[c]&&this.B[c].pb&&this.B[c].ra(a)},mT:function(a,c){if(this.v()){var d=q.da.f().Wb;this.cj(!0);this.G(0.5,0.5);this.U(d);this.o(d.width/2,d.height/2);d=0;if(a){this.g(a,d);
for(var e=0;e<c.length;e++)c[e]&&(d++,this.g(c[e],d))}return!0}return!1},S0:function(){this.FQ(q.QL)},FQ:function(a){var c=-a,d;if(this.B&&0<this.B.length)for(d=0;d<this.B.length;d++)this.B[d]&&(c+=this.B[d].c().height*this.B[d].Ca+a);var e=0,f=c/2;if(this.B&&0<this.B.length)for(d=0;d<this.B.length;d++)this.B[d]&&(e=Math.max(e,this.B[d].c().width),this.B[d].o(0,f-this.B[d].c().height*this.B[d].Ca/2),f-=this.B[d].c().height*this.B[d].Ca+a);this.U(e,c)},P0:function(){this.EQ(q.QL)},EQ:function(a){var c=
-a,d;if(this.B&&0<this.B.length)for(d=0;d<this.B.length;d++)this.B[d]&&(c+=this.B[d].c().width*this.B[d].ua+a);var e=0,f=-c/2;if(this.B&&0<this.B.length)for(d=0;d<this.B.length;d++)this.B[d]&&(e=Math.max(e,this.B[d].c().height),this.B[d].o(f+this.B[d].c().width*this.B[d].ua/2,0),f+=this.B[d].c().width*this.B[d].ua+a);this.U(c,e)},Q0:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=-5,f=0,g=0,h=0,k,l;if(this.B&&0<this.B.length)for(d=0;d<this.B.length;d++)this.B[d]&&
(f>=c.length?q.log("cc.MenuPassive.alignItemsInColumns(): invalid row index"):(k=c[f])?(l=this.B[d].c().height,g=0|(g>=l||null==l?g:l),++h,h>=k&&(e+=g+5,g=h=0,++f)):q.log("cc.MenuPassive.alignItemsInColumns(): can not have zero columns on a row"));var m=q.da.f().Wb,n=k=g=f=0,t=0,e=e/2;if(this.B&&0<this.B.length)for(d=0;d<this.B.length;d++)this.B[d]&&(0==k&&(k=c[f],t=n=m.width/(1+k)),l=this.B[d].c().height,g=0|(g>=l||null==l?g:l),this.B[d].o(t-m.width/2,e-this.B[d].c().height/2),t+=n,++h,h>=k&&(e-=
g+5,g=k=h=0,++f))},R0:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=[],f=[],g=-10,h=-5,k=0,l=0,m=0,n,t;if(this.B&&0<this.B.length)for(d=0;d<this.B.length;d++)this.B[d]&&(k>=c.length?q.log("cc.MenuPassive.alignItemsInRows(): invalid row index"):(n=c[k])?(t=this.B[d].c().width,l=0|(l>=t||null==t?l:t),h+=0|this.B[d].c().height+5,++m,m>=n&&(e.push(l),f.push(h),g+=l+10,l=m=0,h=-5,++k)):q.log("cc.MenuPassive.alignItemsInColumns(): can't have zero rows on a column"));h=
q.da.f().Wb;l=k=0;n=null;var g=-g/2,s=0;if(this.B&&0<this.B.length)for(d=0;d<this.B.length;d++)this.B[d]&&(null==n&&(n=c[k],s=f[k]),t=this.B[d].c().width,l=0|(l>=t||null==t?l:t),this.B[d].o(g+e[k]/2,s-h.height/2),s-=this.B[d].c().height+10,++m,m>=n&&(g+=l+5,l=n=m=0,++k))},If:function(){},ql:function(){return!1}});q.Tt.create=function(a){0==arguments.length&&(a=null);for(var c=[],d=1;d<arguments.length;d++)c.push(arguments[d]);return(d=new q.Tt)&&d.mT(a,c)?d:null};
q.Tt.M1=function(a){return q.Tt.create(a,null)};q.cy=q.Yb.extend({LA:0,Iu:0,Kc:null,PO:null,tG:null,rh:null,Ac:null,zg:0,Bj:0,h5:function(){return this.LA},Y2:function(){return this.Iu},SH:function(){return this.Kc},J4:function(){return this.Iu},n5:function(){return this.tG},GS:function(){return this.rh},IS:function(){return this.Ac},vC:function(a,c){return q.Yb.prototype.v.call(this)?(this.bc(!0),this.Kc=q.ie.Xm("colourPickerBackground.png",a,c,q.a(0,0)),this.PO=q.ie.Xm("colourPickerOverlay.png",a,c,q.a(0,0)),this.tG=q.ie.Xm("colourPickerShadow.png",
a,c,q.a(0,0)),this.rh=q.ie.Xm("colourPicker.png",a,c,q.a(0.5,0.5)),this.Ac=c,this.zg=35,this.Bj=this.Kc.c().width/2,!0):!1},Hf:function(a){q.Yb.prototype.Hf.call(this,a);this.rh&&this.rh.ra(a?255:128)},vL:function(a){var c=new q.ny;c.s=1;c.h=a.h;c.sa=1;a=q.ie.Fy(c);this.Kc.q(q.GB(0|255*a.r,0|255*a.p,0|255*a.k))},zX:function(a){a=q.a(this.Ac.x+this.zg+this.Bj*(1-a.s),this.Ac.y+this.zg+this.Bj*a.sa);this.hw(a)},hw:function(a){var c=this.Ac.x+0.5*this.Kc.fb().width,d=this.Ac.y+0.5*this.Kc.fb().height,
e=a.x-c,f=a.y-d,g=Math.sqrt(e*e+f*f),e=Math.atan2(f,e),f=0.5*this.Kc.fb().width;g>f&&(a.x=c+f*Math.cos(e),a.y=d+f*Math.sin(e));this.rh.o(a);a.x<this.Ac.x+this.zg?a.x=this.Ac.x+this.zg:a.x>this.Ac.x+this.zg+this.Bj-1&&(a.x=this.Ac.x+this.zg+this.Bj-1);a.y<this.Ac.y+this.zg?a.y=this.Ac.y+this.zg:a.y>this.Ac.y+this.zg+this.Bj&&(a.y=this.Ac.y+this.zg+this.Bj);this.LA=1-Math.abs((this.Ac.x+this.zg-a.x)/this.Bj);this.Iu=Math.abs((this.Ac.y+this.zg-a.y)/this.Bj)},Bq:function(a){var c=this.Ac.x+0.5*this.Kc.fb().width,
d=this.Ac.y+0.5*this.Kc.fb().height,c=a.x-c,d=a.y-d;return Math.sqrt(c*c+d*d)<=0.5*this.Kc.fb().width?(this.hw(a),this.of(q.ui),!0):!1},vb:function(a){if(!this.isEnabled()||!this.ta)return!1;a=this.bj(a);return this.Bq(a)},Ad:function(a){a=this.bj(a);this.Bq(a)}});q.cy.create=function(a,c){var d=new q.cy;d.vC(a,c);return d};q.by=q.Yb.extend({Go:0,ir:0,Kc:null,rh:null,Ac:null,S3:function(){return this.Go},rD:function(a){this.Go=a;this.eW(this.Go/360)},T3:function(){return this.ir},eW:function(a){this.ir=a;this.Go=360*this.ir;a=this.Kc.fb();var c=0.5*a.width-15,d=q.tj(360*this.ir-180);this.rh.o(this.Ac.x+0.5*a.width+c*Math.cos(d),this.Ac.y+0.5*a.height+c*Math.sin(d))},Hf:function(a){q.Yb.prototype.Hf.call(this,a);this.rh&&this.rh.ra(a?255:128)},SH:function(){return this.Kc},GS:function(){return this.rh},IS:function(){return this.Ac},
vC:function(a,c){return q.Yb.prototype.v.call(this)?(this.bc(!0),this.Kc=q.ie.Xm("huePickerBackground.png",a,c,q.a(0,0)),this.rh=q.ie.Xm("colourPicker.png",a,c,q.a(0.5,0.5)),this.rh.o(c.x,c.y+0.5*this.Kc.fb().height),this.Ac=c,this.ir=this.Go=0,!0):!1},hw:function(a){var c=this.Kc.fb();this.rD(q.Dy(Math.atan2(a.y-(this.Ac.y+0.5*c.height),a.x-(this.Ac.x+0.5*c.width)))+180);this.of(q.ui)},Bq:function(a){var c=Math.sqrt(Math.pow(a.x+10,2)+Math.pow(a.y,2));return 80>c&&59<c?(this.hw(a),!0):!1},vb:function(a){if(!this.isEnabled()||
!this.ta)return!1;a=this.bj(a);return this.Bq(a)},Ad:function(a){a=this.bj(a);this.Bq(a)}});q.by.create=function(a,c){var d=new q.by;d.vC(a,c);return d};q.iE=q.Yb.extend({gh:null,Ek:null,qm:null,Kc:null,jT:function(a){this.gh.h=a.Go;a=q.ie.Fy(this.gh);q.Yb.prototype.q.call(this,q.GB(0|255*a.r,0|255*a.p,0|255*a.k));this.of(q.ui);this.iQ()},eR:function(a){this.gh.s=a.LA;this.gh.sa=a.Iu;a=q.ie.Fy(this.gh);q.Yb.prototype.q.call(this,q.GB(0|255*a.r,0|255*a.p,0|255*a.k));this.of(q.ui)},q:function(a){q.Yb.prototype.q.call(this,a);var c=new q.RGBA;c.r=a.r/255;c.p=a.p/255;c.k=a.k/255;c.K=1;this.gh=q.ie.dM(c);this.MG()},SH:function(){return this.Kc},v:function(){if(q.Yb.prototype.v.call(this)){this.bc(!0);
q.wg.f().dH(p.aE);var a=q.Ab.create(p.bE);this.g(a);this.gh=new q.ny(0,0,0);this.Kc=q.ie.Xm("menuColourPanelBackground.png",a,q.vj(),q.a(0.5,0.5));var c=q.Jd(this.Kc.t,q.a(this.Kc.c().width/2,this.Kc.c().height/2));this.qm=q.by.create(a,q.a(c.x+8,c.y+8));this.Ek=q.cy.create(a,q.a(c.x+28,c.y+28));this.qm.eH(this,this.jT,q.ui);this.Ek.eH(this,this.eR,q.ui);this.MG();this.g(this.qm);this.g(this.Ek);this.U(this.Kc.c());return!0}return!1},iQ:function(){this.qm.rD(this.gh.h);this.Ek.vL(this.gh)},MG:function(){this.qm.rD(this.gh.h);
this.Ek.vL(this.gh);this.Ek.zX(this.gh)},Hf:function(a){q.Yb.prototype.Hf.call(this,a);null!=this.qm&&this.qm.Hf(a);this.Ek&&this.Ek.Hf(a)},vb:function(){return!1}});q.iE.create=function(){var a=new q.iE;a.v();return a};p=p||{};p.aE=p.aE||"res/extensions/CCControlColourPickerSpriteSheet.plist";p.bE=p.bE||"res/extensions/CCControlColourPickerSpriteSheet.png";q.QE=24;q.a_=8;
q.kE=q.Yb.extend({Yc:0,nb:0,Lb:0,yv:0,wv:0,Mb:null,Vk:null,ke:null,kI:function(){return this.Yc},pf:function(a){a=Math.max(a,this.nb);this.Yc=a=Math.min(a,this.Lb);this.ld();this.of(q.ui)},oS:function(){return this.nb},pK:function(a){this.yv=this.nb=a;this.nb>=this.Lb&&(this.Lb=this.nb+1);this.pf(this.Yc)},nS:function(){return this.Lb},nK:function(a){this.wv=this.Lb=a;this.Lb<=this.nb&&(this.nb=this.Lb-1);this.pf(this.Yc)},oi:function(a){a=a.S;a=this.getParent().Oa(a);var c=this.fb();c.Ua.width+=
this.Mb.c().width;c.Vc.x-=this.Mb.c().width/2;return q.hb(c,a)},hn:function(a){a=a.S;a=this.Oa(a);0>a.x?a.x=0:a.x>this.ke.c().width&&(a.x=this.ke.c().width);return a},n4:function(){return this.yv},P$:function(a){this.yv=a},l4:function(){return this.wv},O$:function(a){this.wv=a},iI:function(){return this.Mb},S4:function(){return this.Vk},S2:function(){return this.ke},qT:function(a,c,d){return q.Yb.prototype.v.call(this)?(this.cj(!1),this.bc(!0),this.ke=a,this.Vk=c,this.Mb=d,a=q.ie.cE(a.fb(),d.fb()),
this.U(a.width,a.height),this.ke.G(0.5,0.5),this.ke.o(a.width/2,a.height/2),this.g(this.ke),this.Vk.G(0,0.5),this.Vk.o(0,a.height/2),this.g(this.Vk),this.Mb.o(0,a.height/2),this.g(this.Mb),this.nb=0,this.Lb=1,this.pf(this.nb),!0):!1},Hf:function(a){q.Yb.prototype.Hf.call(this,a);this.Mb&&this.Mb.ra(a?255:128)},iX:function(a){this.Up(!0);this.Mb.q(q.nl());this.pf(this.UD(a))},kX:function(a){this.pf(this.UD(a))},jX:function(){this.Wo&&this.pf(this.UD(this.Mb.t));this.Mb.q(q.zb());this.Up(!1)},N5:function(a){a=
a.S;a=this.Oa(a);0>a.x?a.x=0:a.x>this.ke.c().width+q.QE&&(a.x=this.ke.c().width+q.QE);return a},vb:function(a){if(!this.oi(a)||!this.isEnabled()||!this.ta)return!1;a=this.hn(a);this.iX(a);return!0},Ad:function(a){a=this.hn(a);this.kX(a)},Tg:function(){this.jX(q.vj())},ld:function(){this.Mb.Db((this.Yc-this.nb)/(this.Lb-this.nb)*this.ke.c().width);var a=this.Vk.gC(),a=q.rect(a.x,a.y,this.Mb.t.J,a.height);this.Vk.ib(a,this.Vk.cd,a.Ua)},UD:function(a){a=a.x/this.ke.c().width;return Math.max(Math.min(this.nb+
a*(this.Lb-this.nb),this.wv),this.yv)}});q.kE.create=function(a,c,d){"string"==typeof a&&(a=q.A.create(a),c=q.A.create(c),d=q.A.create(d));var e=new q.kE;e.qT(a,c,d);return e};q.mE=q.Yb.extend({ed:null,KF:0,wr:!1,Ro:!1,ctor:function(){q.Yb.prototype.ctor.call(this)},sC:function(a,c,d,e,f,g){if(!a)throw"cc.ControlSwitch.initWithMaskSprite(): maskSprite should be non-null.";if(!c)throw"cc.ControlSwitch.initWithMaskSprite(): onSprite should be non-null.";if(!d)throw"cc.ControlSwitch.initWithMaskSprite(): offSprite should be non-null.";if(!e)throw"cc.ControlSwitch.initWithMaskSprite(): thumbSprite should be non-null.";return this.v()?(this.bc(!0),this.Ro=!0,this.ed=new q.PL,
this.ed.sC(a,c,d,e,f,g),this.ed.o(this.ed.c().width/2,this.ed.c().height/2),this.g(this.ed),this.cj(!1),this.G(0.5,0.5),this.U(this.ed.c()),!0):!1},lx:function(a,c){var d=(this.Ro=a)?this.ed.Sk:this.ed.vm;c?this.ed.cx(q.Mn.create(0.2,"sliderXPosition",this.ed.Vj,d)):this.ed.uD(d);this.of(q.ui)},Y6:function(){return this.Ro},k6:function(){return this.wr},Hf:function(a){this.Yq=a;this.ed.ra(a?255:128)},hn:function(a){a=a.S;return a=this.Oa(a)},vb:function(a){if(!this.oi(a)||!this.isEnabled()||!this.ta)return!1;
this.wr=!1;this.KF=this.hn(a).x-this.ed.Vj;this.ed.Mb.q(q.nl());this.ed.ld();return!0},Ad:function(a){a=this.hn(a);a=q.a(a.x-this.KF,0);this.wr=!0;this.ed.uD(a.x)},Tg:function(a){a=this.hn(a);this.ed.Mb.q(q.zb());this.wr?this.lx(!(a.x<this.ed.c().width/2),!0):this.lx(!this.Ro,!0)},jk:function(a){a=this.hn(a);this.ed.Mb.q(q.zb());this.wr?this.lx(!(a.x<this.ed.c().width/2),!0):this.lx(!this.Ro,!0)}});q.mE.create=function(a,c,d,e,f,g){var h=new q.mE;return h&&h.sC(a,c,d,e,f,g)?h:null};
q.PL=q.A.extend({Vj:0,Sk:0,vm:0,AG:0,jA:0,kA:null,lh:null,Oi:null,Mb:null,wm:null,um:null,uo:null,tc:null,Fu:null,ctor:function(){q.A.prototype.ctor.call(this);this.jA=this.vm=this.Sk=this.Vj=0;this.kA=q.size(0,0);this.um=this.wm=this.Mb=this.Oi=this.lh=null},sC:function(a,c,d,e,f,g){return q.A.prototype.Pa.call(this,a.fa())?(this.Sk=0,this.vm=-c.c().width+e.c().width/2,this.Vj=this.Sk,this.vW(c),this.tW(d),this.wD(e),this.uW(f),this.sW(g),this.tc=a,a=this.kA=this.tc.c(),this.tc.o(0,0),this.uo=q.sb.create(),
this.uo.G(0.5,0.5),this.uo.o(a.width/2,a.height/2),this.uo.vD(this.tc),this.Fu=q.Gb.create(a.width,a.height),this.uo.g(this.Fu.tb),this.g(this.uo),this.g(this.Mb),this.ld(),!0):!1},ld:function(){this.lh.o(this.lh.c().width/2+this.Vj,this.lh.c().height/2);this.Oi.o(this.lh.c().width+this.Oi.c().width/2+this.Vj,this.Oi.c().height/2);this.wm&&this.wm.o(this.lh.t.x-this.Mb.c().width/6,this.lh.c().height/2);this.um&&this.um.o(this.Oi.t.x+this.Mb.c().width/6,this.Oi.c().height/2);this.Mb.o(this.lh.c().width+
this.Vj,this.kA.height/2);this.Fu.bk();this.lh.Aa();this.Oi.Aa();this.wm&&this.wm.Aa();this.um&&this.um.Aa();this.Fu.end()},uD:function(a){a<=this.vm?a=this.vm:a>=this.Sk&&(a=this.Sk);this.Vj=a;this.ld()},q5:function(){return this.Vj},o8:function(){return this.lh.c().width},m8:function(){return this.Oi.c().height},SD:function(a,c){q.log("key \x3d "+c+", value \x3d "+a);this.uD(a)},Y$:function(a){this.Sk=a},D4:function(){return this.Sk},V$:function(a){this.vm=a},x4:function(){return this.vm},N$:function(a){this.tc.ma(a)},
h4:function(){return this.tc.fa()},Baa:function(a){this.AG=a},D5:function(){return this.AG},M$:function(a){this.jA=a},g4:function(){return this.jA},vW:function(a){this.lh=a},E4:function(){return this.lh},tW:function(a){this.Oi=a},y4:function(){return this.Oi},wD:function(a){this.Mb=a},iI:function(){return this.Mb},uW:function(a){this.wm=a},C4:function(){return this.wm},sW:function(a){this.um=a},w4:function(){return this.um}});q.fE=0;q.gE=1;q.ot=2;q.dq=q.l(55,55,55);q.Yx=q.l(147,147,147);q.eE="CourierNewPSMT";q.ZD=0.15;q.BL=12;
q.lE=q.Yb.extend({Ud:null,xf:null,Rk:null,Tk:null,Yc:0,Fq:!1,fo:!1,Tm:!1,nb:0,Lb:0,Hm:0,Zr:!1,Om:q.ot,yq:0,ctor:function(){q.Yb.prototype.ctor.call(this);this.Tk=this.Rk=this.xf=this.Ud=null;this.Yc=0;this.Tm=this.fo=this.Fq=!1;this.Hm=this.Lb=this.nb=0;this.Zr=!1;this.Om=q.ot;this.yq=0},oT:function(a,c){if(!a)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Minus sprite should be non-null.";if(!c)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Plus sprite should be non-null.";
if(this.v()){this.bc(!0);this.Fq=this.fo=!0;this.nb=0;this.Lb=100;this.Yc=0;this.Hm=1;this.Tm=!1;this.cj(!1);this.oW(a);this.Ud.o(a.c().width/2,a.c().height/2);this.g(this.Ud);this.nW(q.V.create("-",q.eE,40,q.size(40,40),q.zj,q.uu));this.Rk.q(q.Yx);this.Rk.o(this.Ud.c().width/2,this.Ud.c().height/2);this.Ud.g(this.Rk);this.zW(c);this.xf.o(a.c().width+c.c().width/2,a.c().height/2);this.g(this.xf);this.yW(q.V.create("+",q.eE,40,q.size(40,40),q.zj,q.uu));this.Tk.q(q.dq);this.Tk.o(this.xf.c().width/2,
this.xf.c().height/2);this.xf.g(this.Tk);var d=q.ie.cE(this.Ud.fb(),this.xf.fb());this.U(this.Ud.c().width+this.xf.c().height,d.Ua.height);return!0}return!1},Paa:function(a){if(this.Tm=a)this.Rk.q(q.dq),this.Tk.q(q.dq);this.pf(this.Yc)},pK:function(a){if(a>=this.Lb)throw"cc.ControlStepper.setMinimumValue(): minimumValue should be numerically less than maximumValue.";this.nb=a;this.pf(this.Yc)},nK:function(a){if(a<=this.nb)throw"cc.ControlStepper.setMaximumValue(): maximumValue should be numerically less than maximumValue.";
this.Lb=a;this.pf(this.Yc)},pf:function(a){this.zD(a,!0)},kI:function(){return this.Yc},uaa:function(a){if(0>=a)throw"cc.ControlStepper.setMaximumValue(): stepValue should be numerically greater than 0.";this.Hm=a},J6:function(){return this.Fq},zD:function(a,c){a<this.nb?a=this.Tm?this.Lb:this.nb:a>this.Lb&&(a=this.Tm?this.nb:this.Lb);this.Yc=a;this.Tm||(this.Rk.q(a==this.nb?q.Yx:q.dq),this.Tk.q(a==this.Lb?q.Yx:q.dq));c&&this.of(q.ui)},aL:function(){this.yq=-1;this.hc(this.update,q.ZD,q.$l,3*q.ZD)},
cL:function(){this.Tc(this.update)},update:function(){this.yq++;this.yq<q.BL&&0!=this.yq%3||(this.Om==q.fE?this.zD(this.Yc-this.Hm,this.Fq):this.Om==q.gE&&this.zD(this.Yc+this.Hm,this.Fq))},nL:function(a){a.x<this.Ud.c().width&&this.Yc>this.nb?(this.Om=q.fE,this.Ud.q(q.nl()),this.xf.q(q.zb())):a.x>=this.Ud.c().width&&this.Yc<this.Lb?(this.Om=q.gE,this.Ud.q(q.zb()),this.xf.q(q.nl())):(this.Om=q.ot,this.Ud.q(q.zb()),this.xf.q(q.zb()))},vb:function(a){if(!this.oi(a)||!this.isEnabled()||!this.ta)return!1;
a=this.bj(a);this.nL(a);this.Zr=!0;this.fo&&this.aL();return!0},Ad:function(a){this.oi(a)?(a=this.bj(a),this.nL(a),this.Zr||(this.Zr=!0,this.fo&&this.aL())):(this.Zr=!1,this.Om=q.ot,this.Ud.q(q.zb()),this.xf.q(q.zb()),this.fo&&this.cL())},Tg:function(a){this.Ud.q(q.zb());this.xf.q(q.zb());this.fo&&this.cL();this.oi(a)&&(a=this.bj(a),this.pf(this.Yc+(a.x<this.Ud.c().width?0-this.Hm:this.Hm)))},oW:function(a){this.Ud=a},p4:function(){return this.Ud},zW:function(a){this.xf=a},N4:function(){return this.xf},
nW:function(a){this.Rk=a},o4:function(){return this.Rk},yW:function(a){this.Tk=a},M4:function(){return this.Tk}});q.lE.create=function(a,c){var d=new q.lE;return d&&d.oT(a,c)?d:null};q.jE=q.Yb.extend({Mb:null,Uo:null,To:null,Yc:0,nb:0,Lb:1,tT:function(a,c,d){return this.v()?(this.bc(!0),this.EW(c),this.wD(d),this.Mb.o(c.t),this.g(d,2),this.g(c,1),this.g(a),this.U(a.c()),this.nb=0,this.Lb=1,this.pf(this.nb),!0):!1},Hf:function(a){this.Hf(a);this.Mb!=NULL&&this.Mb.ra(a?255:128)},pf:function(a){a<this.nb&&(a=this.nb);a>this.Lb&&(a=this.Lb);this.Yc=a;a=(a-this.nb)/(this.Lb-this.nb);this.Uo.Ss(100*a);this.Mb.ox(360*a);this.of(q.ui)},kI:function(){return this.Yc},pK:function(a){this.nb=
a;this.nb>=this.Lb&&(this.Lb=this.nb+1);this.pf(this.Lb)},oS:function(){return this.nb},nK:function(a){this.Lb=a;this.Lb<=this.nb&&(this.nb=this.Lb-1);this.pf(this.nb)},nS:function(){return this.Lb},oi:function(a){a=this.bj(a);return this.HR(this.Uo.t,a)<Math.min(this.c().width/2,this.c().height/2)},vb:function(a){if(!this.oi(a)||!this.isEnabled()||!this.ta)return!1;this.To=this.bj(a);this.AU(this.To);return!0},Ad:function(a){a=this.bj(a);this.CU(a)},Tg:function(){this.BU(q.a(0,0))},HR:function(a,
c){var d=a.x-c.x,e=a.y-c.y;return Math.sqrt(d*d+e*e)},HQ:function(a,c,d,e){return 180*(Math.atan2(c.x-a.x,c.y-a.y)-Math.atan2(e.x-d.x,e.y-d.y))/Math.PI},AU:function(){this.Up(!0);this.Mb.q(q.nl())},CU:function(a){var c=this.HQ(this.Uo.t,a,this.Uo.t,this.To);180<c?c-=360:-180>c&&(c+=360);this.pf(this.Yc+c/360*(this.Lb-this.nb));this.To=a},BU:function(){this.Mb.q(q.zb());this.Up(!1)},wD:function(a){this.Mb=a},iI:function(){return this.Mb},EW:function(a){this.Uo=a},T4:function(){return this.Uo},daa:function(a){this.To=
a},wS:function(){return this.To}});q.jE.create=function(a,c,d){var e=new q.jE;return e&&(a=q.A.create(a),d=q.A.create(d),c=q.Ic.create(q.A.create(c)),e.tT(a,c,d))?e:null};q.OE=-1;q.Wn=0;q.jq=1;q.cu=2;q.lR=function(a){var c=q.pa.f();return(c.ua+c.Ca)/2*a/160};q.VM=q.La.extend({DV:function(){},EV:function(){}});
q.Jh=q.Hc.extend({A0:0,j0:0,h0:0,Ja:null,Hi:q.cu,Ii:!1,XN:null,Ta:null,th:!1,uv:null,xv:null,zq:!1,Cq:!1,Dr:null,hp:null,$r:0,uh:null,di:null,YF:0,WF:0,yr:null,MA:!1,BG:null,ctor:function(){q.Hc.prototype.ctor.call(this);this.XN=new q.ah(0,0);this.uv=new q.ah(0,0);this.xv=new q.ah(0,0);this.Dr=new q.ah(0,0);this.hp=new q.ah(0,0);this.uh=[];this.di=new q.wk(0,0);this.yr=new q.vg(0,0,0,0);this.BG=new q.vg(0,0,0,0)},v:function(){return this.Hp(q.size(200,200),null)},$w:function(){q.XC(this.bl,!1,this)},
Hp:function(a,c){var d=q.a(0,0);return q.Hc.prototype.v.call(this)?(this.Ta=c,this.Ta||(this.Ta=q.Hc.create(),this.Ta.cj(!1),this.Ta.G(d)),this.LK(a),this.bc(!0),this.uh.length=0,this.Ja=null,this.Cq=this.zq=!0,this.Hi=q.cu,this.Ta.o(d),this.$r=0,this.g(this.Ta),this.YF=this.WF=1,!0):!1},Fl:function(a,c){if(c)this.TV(a,0.15);else{if(!this.zq){var d=this.jn(),e=this.Is();a.x=Math.max(d.x,Math.min(e.x,a.x));a.y=Math.max(d.y,Math.min(e.y,a.y))}this.Ta.o(a)}},UH:function(){var a=this.Ta.t;return q.a(a.x,
a.y)},TV:function(a,c){var d=q.Ut.create(c,a),e=q.eq.create(this.XP,this);this.Ta.cx(q.xj.create(d,e));this.hc(this.rA)},QK:function(a,c){if(c)this.WW(a,0.15);else{var d=this.Ta;if(d.cC()!=a){var e,f;0==this.$r?(f=this.di,f=q.a(0.5*f.width,0.5*f.height),f=this.el(f)):f=this.hp;e=d.Oa(f);d.pk(Math.max(this.YF,Math.min(this.WF,a)));e=d.el(e);f=q.Jd(f,e);this.Fl(q.Ug(d.t,f))}}},mI:function(){return this.Ta.cC()},WW:function(a,c){if(0<c){var d=this.Ta.cC();d!=a&&(d=q.Mn.create(c,"zoomScale",d,a),this.cx(d))}else this.QK(a)},
jn:function(){var a=this.Ta,c=a.c(),d=this.di;return q.a(d.width-c.width*a.ua,d.height-c.height*a.Ca)},Is:function(){return q.a(0,0)},X6:function(a){var c=this.UH(),d=this.di,e=this.mI(),c=q.rect(-c.x/e,-c.y/e,d.width/e,d.height/e);return q.PU(c,a.fb())},pause:function(){this.Ta.Ww();for(var a=this.Ta.B,c=0;c<a.length;c++)a[c].Ww()},OJ:function(){for(var a=this.Ta.B,c=0,d=a.length;c<d;c++)a[c].bx();this.Ta.bx()},M6:function(){return this.Ii},q7:function(){return this.th},F6:function(){return this.zq},
NV:function(a){this.zq=a},Z5:function(){return this.di},LK:function(a){this.di=a;q.H.prototype.U.call(this,a)},m3:function(){return this.Ta},RV:function(a){a&&(this.fc(!0),this.Ta=a,a.cj(!1),a.G(0,0),this.g(a),this.LK(this.di))},B3:function(){return this.Hi},aK:function(a){this.Hi=a},nc:function(){return this.Ja},lg:function(a){this.Ja=a},vb:function(a){if(!this.ta)return!1;var c=this.$z(),d=this.Ta,e=d.el(d.fi(a)),f=this.uh;if(2<f.length||this.th||!q.hb(c,e))return!1;f.push(a);1===f.length?(this.hp=
this.fi(a),this.th=!1,this.Ii=!0,this.Dr.x=0,this.$r=this.Dr.y=0):2==f.length&&(this.hp=q.OC(this.fi(f[0]),this.fi(f[1])),this.$r=q.LC(d.fi(f[0]),d.fi(f[1])),this.Ii=!1);return!0},Ad:function(a){if(this.ta)if(1===this.uh.length&&this.Ii){this.th=!0;var c=this.$z(),d=this.fi(a);a=q.Jd(d,this.hp);var e=0,f=this.Hi,e=f===q.jq?a.y:f===q.Wn?a.x:Math.sqrt(a.x*a.x+a.y*a.y);if(this.th||!(0.04375>Math.abs(q.lR(e))))if(this.th||(a.x=0,a.y=0),this.hp=d,this.th=!0,q.hb(c,this.el(d))){switch(f){case q.jq:a.x=
0;break;case q.Wn:a.y=0}d=this.Ta.t;c=d.x+a.x;d=d.y+a.y;this.Dr=a;this.Fl(q.a(c,d))}}else 2!==this.uh.length||this.Ii||(a=q.LC(this.Ta.fi(this.uh[0]),this.Ta.fi(this.uh[1])),this.QK(this.mI()*a/this.$r))},Tg:function(){this.ta&&(1==this.uh.length&&this.th&&this.hc(this.Cz),this.uh.length=0,this.th=this.Ii=!1)},jk:function(){this.ta&&(this.uh.length=0,this.th=this.Ii=!1)},U:function(a,c){null!=this.Ta&&(2===arguments.length?this.Ta.U(a,c):this.Ta.U(a),this.AX())},c:function(){return this.Ta.c()},AX:function(){if(null!=
this.Ta){var a=this.di,c=this.Is();this.uv.x=c.x+0.2*a.width;this.uv.y=c.y+0.2*a.height;c=this.jn();this.xv.x=c.x-0.2*a.width;this.xv.y=c.y-0.2*a.height}},H6:function(){return this.Cq},h$:function(a){this.Cq=a},Aa:function(a){if(this.ta){a=a||q.Z;var c,d=this.B,e,f;if(q.Kd===q.rg){a.save();this.transform(a);this.mF(a);if(d&&0<d.length){f=d.length;this.de();for(c=0;c<f;c++)if((e=d[c])&&0>e.jb)e.Aa(a);else break;for(this.Va(a);c<f;c++)d[c].Aa(a)}else this.Va(a);this.kF();a.restore()}else{q.Lp();var g=
this.Kk;g&&g.Ip()&&(g.EB(),this.Jx());this.transform(a);this.mF(a);if(d&&0<d.length){f=d.length;for(c=0;c<f;c++)if((e=d[c])&&0>e.jb)e.Aa();else break;for(this.Va(a);c<f;c++)d[c].Aa()}else this.Va(a);this.kF(a);g&&g.Ip()&&g.BB(this);q.Kp()}}},g:function(a,c,d){if(!a)throw Error("child must not nil!");c=c||a.jb;d=d||a.xd;a.cj(!1);a.G(0,0);this.Ta!=a?this.Ta.g(a,c,d):q.Hc.prototype.g.call(this,a,c,d)},bc:function(a){q.Hc.prototype.bc.call(this,a);a||(this.th=this.Ii=!1,this.uh.length=0)},c0:function(){return null},
ZO:function(a){var c=this.jn(),d=this.Is(),e=this.Hi,f=this.Ta.t,g=f.x,h=f.y;if(e===q.cu||e===q.Wn)g=Math.max(g,c.x),g=Math.min(g,d.x);if(e==q.cu||e==q.jq)h=Math.min(h,d.y),h=Math.max(h,c.y);h==f.y&&g==f.x||this.Fl(q.a(g,h),a)},Cz:function(){if(this.Ii)this.Tc(this.Cz);else{var a,c;a=this.Ta.t;var d=this.Dr;this.Ta.o(a.x+d.x,a.y+d.y);this.zq?(a=this.uv,c=this.xv):(a=this.Is(),c=this.jn());var e=this.Ta.t.J,f=this.Ta.t.P;d.x*=0.95;d.y*=0.95;this.Fl(q.a(e,f));if(1>=Math.abs(d.x)&&1>=Math.abs(d.y)||
f>a.y||f<c.y||e>a.x||e<c.x||e==a.x||e==c.x||f==a.y||f==c.y)this.Tc(this.Cz),this.ZO(!0)}},rA:function(){this.Ii&&this.Tc(this.rA)},XP:function(){this.Tc(this.rA)},mF:function(a){if(this.Cq){this.MA=!1;var c=this.$z(),d=q.pa.f(),e=this.ua,f=this.Ca;a=a||q.Z;if(q.Kd===q.rg)c=this.di.width*e*d.ua,d=this.di.height*f*d.Ca,a.beginPath(),a.rect(0,0,c,-d),a.clip(),a.closePath();else if(d=q.pa.f(),d.ET()){if(this.MA=!0,this.yr=d.CS(),q.OU(c,this.yr)){var g=this.yr;a=Math.max(c.x,g.x);f=Math.max(c.y,g.y);e=
Math.min(c.x+c.width,g.x+g.width);c=Math.min(c.y+c.height,g.y+g.height);d.tD(a,f,e-a,c-f)}}else a.enable(a.SCISSOR_TEST),d.tD(c.x,c.y,c.width,c.height)}},kF:function(a){this.Cq&&q.Kd===q.xk&&(this.MA?(a=this.yr,q.pa.f().tD(a.x,a.y,a.width,a.height)):(a=a||q.Z,a.disable(a.SCISSOR_TEST)))},a0:function(){},$z:function(){for(var a=this.el(q.vj()),c=this.di,d=this.ua,e=this.Ca,f=this.ba;null!=f;f=f.getParent())d*=f.ua,e*=f.Ca;0>d&&(a.x+=c.width*d,d=-d);0>e&&(a.y+=c.height*e,e=-e);f=this.BG;f.x=a.x;f.y=
a.y;f.width=c.width*d;f.height=c.height*e;return f}});q.Jh.create=function(a,c){var d=new q.Jh;if(2==arguments.length){if(d&&d.Hp(a,c))return d}else if(d&&d.v())return d;return null};q.WM=q.La.extend({kx:function(){},li:function(){return 0}});q.XM=q.WM.extend({mA:0,ctor:function(){this.mA=0},kx:function(a){this.mA=a},li:function(){return this.mA}});function ga(a,c){return a.li()-c.li()}
q.Ux=q.La.extend({ph:null,ctor:function(){this.ph=[]},CI:function(a){if(!a)throw"cc.ArrayForObjectSorting.insertSortedObject(): addObject should be non-null.";this.wT(a,this.Gp(a))},lV:function(a){if(0!=this.count()){var c=this.Gp(a);c<this.count()&&c!=q.wi&&this.nn(c).li()==a.li()&&this.bD(c)}},U$:function(a,c){var d=this.Gp(c);if(d<this.count()&&d!=q.wi){var e=this.nn(d);e.li()==c.li()&&(this.bD(d),e.kx(a),this.CI(e))}},mJ:function(a){if(0==this.count())return null;var c=new q.XM;c.kx(a);var d=
this.Gp(c);d<this.count()&&d!=q.wi&&(c=this.nn(d),c.li()!=a&&(c=null));return c},v4:function(){return null},Gp:function(a){var c=0;if(a){var d=0;a=a.li();for(var e=this.ph,f=0;f<e.length;f++){var g=e[f].li();if(a==g||a>=d&&a<g)break;d=g;c++}}else c=q.wi;return c},count:function(){return this.ph.length},F7:function(){var a=this.ph;return 0==a.length?null:a[a.length-1]},nn:function(a){return this.ph[a]},cH:function(a){this.ph.push(a);this.ph.sort(ga)},bD:function(a){q.cq(this.ph,a);this.ph.sort(ga)},
wT:function(a,c){this.ph=q.Vl(this.ph,a,c);this.ph.sort(ga)}});q.SE=0;q.ZM=1;q.m_=q.H.extend({Nj:0,W3:function(){return this.Nj},gW:function(a){this.Nj=a},reset:function(){this.Nj=q.wi},kx:function(a){this.Nj=a},li:function(){return this.Nj}});q.o_=q.VM.extend({uba:function(){},tba:function(){},vba:function(){},wba:function(){}});q.n_=q.La.extend({sX:function(a){return this.QQ(a)},QQ:function(){return q.SM},sba:function(){return null},i8:function(){return 0}});
q.$E=q.Jh.extend({jp:null,Fd:null,po:null,Bz:null,iB:null,Bv:null,Ku:null,Xj:null,ctor:function(){q.Jh.prototype.ctor.call(this);this.Bv=q.OE;this.Ku=[]},nN:function(a){var c=0,d=-1;switch(this.Hi){case q.Wn:a=a.x;break;default:a=a.y}for(var e=this.Ku;d>=c;){var f=0|c+(d-c)/2,g=e[f],h=e[f+1];if(a>=g&&a<=h)return f;a<g?d=f-1:c=f+1}return 0>=c?0:-1},lO:function(a){a={x:a.x,y:a.y};this.jp===q.SE&&(a.y=this.Ta.c().height-a.y);a=this.nN(a);-1!=a&&(a=Math.max(0,a),-1<a&&(a=q.wi));return a},oN:function(a){switch(this.Hi){case q.Wn:a=
q.a(this.Ku[a],0);break;default:a=q.a(0,this.Ku[a])}return a},OO:function(a){var c=this.oN(a);a=this.Bz.sX(this,a);this.jp===q.SE&&(c.y=this.Ta.c().height-c.y-a.height);return c},x0:function(){},mB:function(){var a=q.am();this.U(a);this.Bv!=this.Hi&&(this.Hi==q.Wn?this.Fl(q.a(0,0)):this.Fl(q.a(0,this.jn().y)),this.Bv=this.Hi)},ZF:function(a){this.po.cH(a);this.Dk.lV(a);q.fe(this.Fd,a.Nj);a.reset();a.getParent()==this.Ta&&this.Ta.removeChild(a,!0)},Lv:function(a,c){c.G(0,0);c.o(this.OO(a));c.gW(a)},
iF:function(a){a.getParent()!=this.Ta&&this.Ta.g(a);this.Dk.CI(a);var c=this.Fd;a=a.Nj;-1==c.indexOf(a)&&(c.push(a),c.sort(function(a,c){return a-c}))},s3:function(){return this.Bz},XV:function(a){this.Bz=a},nc:function(){return this.iB},lg:function(a){this.iB=a},Naa:function(a){this.jp!=a&&(this.jp=a,0<this.Dk.count()&&this.aD())},W5:function(){return this.jp},Hp:function(a,c){return q.Jh.prototype.Hp.call(this,a,c)?(this.Dk=new q.Ux,this.po=new q.Ux,this.Fd=[],this.iB=null,this.jp=q.ZM,this.aK(q.jq),
q.Jh.prototype.lg.call(this,this),!0):!1},Qba:function(a){if(!(a==q.wi||-1<a)){var c=this.IB(a);c&&this.ZF(c);c=null;this.Lv(a,c);this.iF(c)}},w6:function(a){if(!(a==q.wi||-1<a)){var c,d=this.Dk;if(c=d.mJ(a))for(var e=c=d.Gp(c);e<d.count();e++)c=d.nn(e),this.Lv(c.Nj+1,c);c=null;this.Lv(a,c);this.iF(c);this.mB()}},u9:function(a){if(!(a==q.wi||-1<a)){var c=this.IB(a);if(c){var d=this.Dk,e=d.Gp(c);this.ZF(c);q.fe(this.Fd,a);for(a=d.count()-1;a>e;a--)c=d.nn(a),this.Lv(c.Nj-1,c)}}},aD:function(){this.Bv=
q.OE;for(var a=this.Dk,c=this.po,d=this.Ta,e=0,f=a.count();e<f;e++){var g=a.nn(e);c.cH(g);g.reset();g.getParent()==d&&d.removeChild(g,!0)}this.Fd=[];this.Dk=new q.Ux;this.mB()},T1:function(){if(0===this.po.count())return null;var a=this.po.nn(0);this.po.bD(0);return a},IB:function(a){return-1==this.Fd.indexOf(a)?null:this.Dk.mJ(a)},DV:function(){},EV:function(){},Tg:function(a,c){if(this.ta){if(this.Xj){var d=this.fb();d.Vc=this.ba.el(d.origin);this.Xj=null}q.Jh.prototype.Tg.call(this,a,c)}},vb:function(a,
c){if(!this.ta)return!1;var d=q.Jh.prototype.vb.call(this,a,c);if(1===this.uh.length){var e;e=this.Ta.fi(a);e=this.lO(e);this.Xj=e===q.wi?null:this.IB(e)}else this.Xj&&(this.Xj=null);return d},Ad:function(a,c){q.Jh.prototype.Ad.call(this,a,c);this.Xj&&this.th&&(this.Xj=null)},jk:function(a,c){q.Jh.prototype.jk.call(this,a,c);this.Xj&&(this.Xj=null)}});q.$E.create=function(a,c,d){var e=new q.$E;e.Hp(c,d);e.XV(a);e.mB();return e};q.ic={};q.ic.$G=function(a){for(var c in q.ic.GC)a[c]=q.ic.GC[c]};
q.ic.GC={o:function(a,c){2==arguments.length?(this.t.J=a,this.t.P=c):this.t=a;this.ab();this.ha.OD(this.t.J,-this.t.P)},Gc:function(a){this.t.P=a;this.ab();this.ha.OD(this.t.J,-this.t.P)},Db:function(a){this.t.J=a;this.ab();this.ha.OD(this.t.J,-this.t.P)},pk:function(a,c){this.ua=a;this.Ca=c||a;this.ab();this.ha.resize(this.ua,this.Ca)},Tp:function(a){this.ua=a;this.ab();this.ha.resize(this.ua,this.Ca)},zn:function(a){this.Ca=a;this.ab();this.ha.resize(this.ua,this.Ca)},G:function(a,c){var d=this.Lh;
if(2===arguments.length){if(a===d.J&&c===d.P)return;d.J=a;d.P=c}else{if(a.x===d.J&&a.y===d.P)return;d.J=a.x;d.P=a.y}var e=this.Qd,f=this.Ba;e.J=f.Ha*d.J;e.P=f.xa*d.P;this.ha.style[q.Tb.Op+"TransformOrigin"]=""+e.J+"px "+-e.P+"px";this.Nk?(this.ha.style.marginLeft=0,this.ha.style.marginBottom=0):(this.ha.style.marginLeft=this.o7?0:-e.J+"px",this.ha.style.marginBottom=-e.P+"px");this.ab()},U:function(a,c){var d=this.Ba;if(2===arguments.length){if(a===d.Ha&&c===d.xa)return;d.Ha=a;d.xa=c}else{if(a.width===
d.Ha&&a.height===d.xa)return;d.Ha=a.width;d.xa=a.height}var e=this.Qd,f=this.Lh;e.J=d.Ha*f.J;e.P=d.xa*f.P;this.ha.width=d.Ha;this.ha.height=d.xa;this.G(this.Lh);this.canvas&&(this.canvas.width=d.Ha,this.canvas.height=d.xa);this.ab();this.QU()},ox:function(a){this.nP!=a&&(this.Gg=this.Wh=a,this.Bm=Math.PI/180*this.Gg,this.Cr=Math.PI/180*this.Wh,this.ab(),this.ha.rotate(a))},sx:function(a){this.ve=a;this.ab();this.ha.EK(this.ve,this.we)},tx:function(a){this.we=a;this.ab();this.ha.EK(this.ve,this.we)},
D:function(a){this.ta=a;this.ab();this.ha&&(this.ha.style.display=a?"block":"none")},Nv:function(a){this.jb=a;this.ab();this.ha&&(this.ha.zIndex=a)},Rs:function(a){this.ba=a;null!==a&&(a.G(a.Lh),this.ab(),q.ic.Vw(this))},bx:function(){this.Gf().vn(this);this.cg().vn(this);this.ha&&!this.ha.parentNode&&(this.getParent()?q.ic.Vw(this):this.ha.Ym(q.ck));this.ha&&(this.ha.style.visibility="visible")},Ww:function(){this.Gf().Js(this);this.cg().Js(this);this.ha&&(this.ha.style.visibility="hidden")},bg:function(){this.GD();
this.bt();this.yg(this.B,q.H.Lf.bg);this.ha&&this.ha.remove()},hV:function(){this.ha.remove()},ra:function(a){this.Pi=a;this.ha.style.opacity=a/255},QU:function(){if(this.RI){var a=this.B;this.B=[];q.A.prototype.Aa.call(this,this.pp);this.B=a}else q.A.prototype.Aa.call(this,this.pp)}};
q.ic.jP=function(){var a=q.Tb("#EGLViewDiv");if(a){var c=q.pa.f(),d=c.tp(),e=c.gf,f=c.bn(),g=d.width,h=d.height;0===d.width&&0===d.height&&(g=f.width,h=f.height);var d=e.Ua.width,k=e.Ua.height;0===e.Ua.width&&0===e.Ua.height&&(d=f.width,k=f.height);a.style.position="absolute";a.style.width=g+"px";a.style.maxHeight=h+"px";a.style.margin=0;a.resize(c.ua,c.Ca);a.style.left=d<f.width?(d-g)/2+(f.width-d)/2+"px":(d-g)/2+"px";a.style.bottom=k<f.height?(f.height-k)/2+"px":"0px"}};
q.ic.Vw=function(a){var c=a.getParent();if(c&&a.ha)if(c.ha||(q.ic.uU(c),c.Rs=q.ic.GC.Rs),a.ha.Ym(c.ha),c.G(c.Lh),c.getParent())q.ic.Vw(c);else if(c.$e)if(a=q.Tb("#EGLViewDiv"))c.ha.Ym(a);else{a=q.rk("div");a.id="EGLViewDiv";var d=q.pa.f(),e=d.tp(),f=d.gf,g=d.bn(),h=e.width,k=e.height;0===e.width&&0===e.height&&(h=g.width,k=g.height);var e=f.Ua.width,l=f.Ua.height;0===f.Ua.width&&0===f.Ua.height&&(e=g.width,l=g.height);a.style.position="absolute";a.style.width=h+"px";a.style.maxHeight=k+"px";a.style.margin=
0;a.resize(d.ua,d.Ca);a.style.left=e<g.width?(e-h)/2+(g.width-e)/2+"px":(e-h)/2+"px";a.style.bottom=l<g.height?(g.height-l)/2+"px":"0px";c.ha.Ym(a);a.Ym(q.ck)}};q.ic.setTransform=function(a){if(a.pp)if(a.pp.translate(a.Qd.x,a.Qd.y),a.RI){var c=a.B;a.B=[];q.A.prototype.Aa.call(a,a.pp);a.B=c}else q.A.prototype.Aa.call(a,a.pp);a.ha&&(a.ha.position.x=a.t.x,a.ha.position.y=-a.t.y,a.ha.rotation=a.zS(),a.ha.scale={x:a.ua,y:a.Ca},a.ha.Ll={x:a.ve,y:a.we},a.G&&a.G(a.Lh),a.ha.Gn())};
q.ic.WR=function(a){a.ha=q.rk("div");a.canvas=q.rk("canvas");var c=a.c();a.canvas.width=c.width;a.canvas.height=c.height;a.ha.style.position="absolute";a.ha.style.bottom=0;a.pp=a.canvas.getContext("2d");a.ha.appendChild(a.canvas);a.getParent()&&q.ic.Vw(a);a.RI=!0};
q.ic.uU=function(a){a.ha=q.rk("div");a.placeholder=!0;a.ha.style.position="absolute";a.ha.style.bottom=0;a.ha.style.width=(a.c().width||q.da.f().Wb.width)+"px";a.ha.style.maxHeight=(a.c().height||q.da.f().Wb.height)+"px";a.ha.style.margin=0;q.ic.setTransform(a);a.ha.Gn();q.ic.$G(a)};
q.ic.js=function(a){if(1<arguments.length)q.ic.js(arguments);else if(1!=arguments.length||arguments[0].length)for(var c=arguments[0],d=0;d<c.length;d++)c[d]instanceof q.A?c[d].ha||q.ic.WR(c[d]):q.log("DOM converter only supports sprite and menuitems yet"),q.ic.$G(c[d]),c[d].Aa=function(){},c[d].transform=function(){},q.ic.setTransform(c[d]),c[d].D(c[d].ta);else q.ic.js([arguments[0]])};q.ry=0;q.$Y=1;q.cZ=2;q.bZ=3;q.aZ=4;q.hy=0;q.FY=1;q.GY=2;q.HY=3;q.JY=4;q.EY=5;q.IY=6;q.fy=0;q.gy=1;q.DY=2;q.CY=3;q.BY=4;q.MY=q.La.extend({hl:function(){},il:function(){},jl:function(){},i2:function(){}});
q.Pn=q.Gh.extend({Pb:null,Ja:null,Uq:q.hy,Tq:q.gy,or:q.ry,zG:"",Qb:"",Xf:null,se:null,Qk:50,vq:18,N:null,oe:14,Oh:"Arial",Rh:"",Tf:14,CG:!1,ctor:function(a){q.Gh.prototype.ctor.call(this);this.Xf=q.zb();this.se=q.nl();this.U(a);this.Pb=new q.A;this.Pb.Va=function(){};this.g(this.Pb);var c=this;this.N=document.createElement("input");this.N.type="text";this.N.style.fontSize=this.oe+"px";this.N.style.color="#000000";this.N.style.border=0;this.N.style.background="transparent";this.N.style.width="100%";
this.N.style.height="100%";this.N.style.VG=0;this.N.style.outline="medium";this.N.addEventListener("input",function(){c.Ja&&c.Ja.jl&&c.Ja.jl(c,this.value)});this.N.addEventListener("keypress",function(a){a.keyCode===q.qy.VB&&(a.stopPropagation(),a.preventDefault(),q.canvas.focus())});this.N.addEventListener("focus",function(){this.value==c.Qb&&(this.value="",this.style.fontSize=c.oe+"px",this.style.color=q.Dc(c.Xf));c.Ja&&c.Ja.hl&&c.Ja.hl(c)});this.N.addEventListener("blur",function(){""==this.value&&
(this.value=c.Qb,this.style.fontSize=c.Tf+"px",this.style.color=q.Dc(c.se));c.Ja&&c.Ja.il&&c.Ja.il(c)});q.ic.js(this.Pb);this.Pb.ha.appendChild(this.N);this.Pb.ha.XK=!1;this.Pb.ha.style.width=a.width-6+"px";this.Pb.ha.style.height=a.height-6+"px";this.Pb.canvas.remove()},gK:function(a,c){this.oe=c;this.Oh=a;this.Zh()},pD:function(a){this.Oh=a;this.Zh()},ix:function(a){this.oe=a;this.Zh()},Zh:function(){this.N.value!=this.Qb&&(this.N.style.fontFamily=this.Oh,this.N.style.fontSize=this.oe+"px")},Md:function(a){null!=
a&&(""==a?(this.N.value=this.Qb,this.N.style.color=q.Dc(this.se)):(this.N.value=a,this.N.style.color=q.Dc(this.Xf)))},nD:function(a){this.Xf=a;this.N.value!=this.Qb&&(this.N.style.color=q.Dc(a))},mK:function(a){!isNaN(a)&&0<a&&(this.Qk=a,this.N.maxLength=a)},aI:function(){return this.Qk},qK:function(a){if(null!=a){var c=this.Qb;this.Qb=a;this.N.value==c&&(this.N.value=a,this.N.style.color=q.Dc(this.se),this.Vf())}},rK:function(a,c){this.Rh=a;this.Tf=c;this.Vf()},tK:function(a){this.Rh=a;this.Vf()},
uK:function(a){this.Tf=a;this.Vf()},Vf:function(){this.N.value==this.Qb&&(this.N.style.fontFamily=this.Rh,this.N.style.fontSize=this.Tf+"px")},sK:function(a){this.se=a;this.N.value==this.Qb&&(this.N.style.color=q.Dc(a))},Qp:function(a){this.Tq=a;this.N.type=a==q.fy?"password":"text"},aa:function(){return this.N.value},As:function(a,c){return this.Iw(c)?(this.Pb.o(3,3),this.DD(!1),this.ri(a),this.o(0,0),this.Cu(this,this.$s,q.lt),!0):!1},lg:function(a){this.Ja=a},dI:function(){return this.Qb},kK:function(a){this.Uq=
a},zK:function(a){this.or=a},WI:function(a){var c=q.Pn.jd(this);c.y-=4;c.EI(a.end)?this.vq=a.end.bI()-c.cI():q.log("needn't to adjust view layout.")},UI:function(){},VI:function(){},TI:function(){},$s:function(){},uI:function(a,c){this.Sq=a.width;this.ha.style.width=this.Sq.toString()+"px";this.Rq=a.height;this.ha.style.height=this.Rq.toString()+"px";this.ha.style.backgroundColor=q.Dc(c)}});q.Pn.jd=function(a){var c=a.c(),c=q.rect(0,0,c.width,c.height);return q.Kf(c,a.mn())};
q.Pn.create=function(a,c,d,e){var f=new q.Pn(a);c instanceof q.wc?f.Os(c):f.As(a,c)&&(d&&f.Dl(d,q.nt),e&&f.Dl(e,q.mt));return f};SingleLineBox=q.Gh.extend({Pb:null,Ja:null,Uq:q.hy,Tq:q.gy,or:q.ry,zG:"",Qb:"",Xf:null,se:null,Qk:50,vq:18,N:null,oe:14,Oh:"Arial",Vq:!1,Rh:"",Tf:14,CG:!1,ctor:function(a){q.Gh.prototype.ctor.call(this);this.Vq=!1;this.Xf=q.zb();this.se=q.nl();this.U(a);this.Pb=new q.A;this.Pb.Va=function(){};this.g(this.Pb);var c=this;this.N=document.createElement("input");this.N.type="text";this.N.style.fontSize=this.oe+"px";this.N.style.color="#000000";this.N.style.border=0;this.N.style.background="transparent";
this.N.style.width="100%";this.N.style.height="100%";this.N.style.VG=0;this.N.style.outline="medium";this.N.addEventListener("input",function(){c.Ja&&c.Ja.jl&&c.Ja.jl(c,this.value)});this.N.addEventListener("keyup",function(a){a.keyCode===q.qy.VB&&!1==c.Vq&&(a.stopPropagation(),a.preventDefault(),q.canvas.focus())});this.N.addEventListener("focus",function(){this.value==c.Qb&&(this.value="",this.style.fontSize=c.oe+"px",this.style.color=q.Dc(c.Xf));c.Ja&&c.Ja.hl&&c.Ja.hl(c)});this.N.addEventListener("blur",
function(){""==this.value&&(this.value=c.Qb,this.style.fontSize=c.Tf+"px",this.style.color=q.Dc(c.se));c.Ja&&c.Ja.il&&c.Ja.il(c)});q.ic.js(this.Pb);this.Pb.ha.appendChild(this.N);this.Pb.ha.XK=!1;this.Pb.ha.style.width=a.width-6+"px";this.Pb.ha.style.height=a.height-6+"px";this.Pb.canvas.remove()},gK:function(a,c){this.oe=c;this.Oh=a;this.Zh()},TW:function(){},pD:function(a){this.Oh=a;this.Zh()},ix:function(a){this.oe=a;this.Zh()},Zh:function(){this.N.value!=this.Qb&&(this.N.style.fontFamily=this.Oh,
this.N.style.fontSize=this.oe+"px")},Md:function(a){null!=a&&(""==a?(this.N.value=this.Qb,this.N.style.color=q.Dc(this.se)):(this.N.value=a,this.N.style.color=q.Dc(this.Xf)))},nD:function(a){this.Xf=a;this.N.value!=this.Qb&&(this.N.style.color=q.Dc(a))},mK:function(a){!isNaN(a)&&0<a&&(this.Qk=a,this.N.maxLength=a)},aI:function(){return this.Qk},qK:function(a){if(null!=a){var c=this.Qb;this.Qb=a;this.N.value==c&&(this.N.value=a,this.N.style.color=q.Dc(this.se),this.Vf())}},rK:function(a,c){this.Rh=
a;this.Tf=c;this.Vf()},tK:function(a){this.Rh=a;this.Vf()},uK:function(a){this.Tf=a;this.Vf()},Vf:function(){this.N.value==this.Qb&&(this.N.style.fontFamily=this.Rh,this.N.style.fontSize=this.Tf+"px")},sK:function(a){this.se=a;this.N.value==this.Qb&&(this.N.style.color=q.Dc(a))},Qp:function(a){this.Tq=a;this.N.type=a==q.fy?"password":"text"},aa:function(){return this.N.value},As:function(a,c){return this.Iw(c)?(this.Pb.o(3,3),this.DD(!1),this.ri(a),this.o(0,0),this.Cu(this,this.$s,q.lt),!0):!1},lg:function(a){this.Ja=
a},dI:function(){return this.Qb},kK:function(a){this.Uq=a},zK:function(a){this.or=a},WI:function(a){var c=q.Pn.jd(this);c.y-=4;c.EI(a.end)?this.vq=a.end.bI()-c.cI():q.log("needn't to adjust view layout.")},UI:function(){},VI:function(){},TI:function(){},$s:function(){},Os:function(a){a=ia(a.r,a.p,a.k);this.N.style.background=a},uI:function(a,c){this.Sq=a.width;this.ha.style.width=this.Sq.toString()+"px";this.Rq=a.height;this.ha.style.height=this.Rq.toString()+"px";this.ha.style.backgroundColor=q.Dc(c)}});
SingleLineBox.jd=function(a){var c=a.c(),c=q.rect(0,0,c.width,c.height);return q.Kf(c,a.mn())};SingleLineBox.create=function(a,c,d,e){var f=new SingleLineBox(a);c instanceof q.wc?f.Os(c):f.As(a,c)&&(d&&f.Dl(d,q.nt),e&&f.Dl(e,q.mt));return f};MultiLineBox=q.Gh.extend({Pb:null,Ja:null,Uq:q.hy,Tq:q.gy,or:q.ry,zG:"",Qb:"",Xf:null,se:null,Qk:50,vq:18,N:null,oe:14,Oh:"Arial",Vq:!1,Rh:"",Tf:14,CG:!1,ctor:function(a){q.Gh.prototype.ctor.call(this);this.Vq=!1;this.Xf=q.zb();this.se=q.nl();this.U(a);this.Pb=new q.A;this.Pb.Va=function(){};this.g(this.Pb);var c=this;this.N=document.createElement("TEXTAREA");this.N.type="text";this.N.style.fontSize=this.oe+"px";this.N.style.color="#000000";this.N.style.border=0;this.N.style.background="transparent";
this.N.style.width="100%";this.N.style.height="100%";this.N.style.VG=0;this.N.style.outline="medium";this.N.addEventListener("input",function(){c.Ja&&c.Ja.jl&&c.Ja.jl(c,this.value)});this.N.addEventListener("keyup",function(a){a.keyCode===q.qy.VB&&!1==c.Vq&&(a.stopPropagation(),a.preventDefault(),q.canvas.focus())});this.N.addEventListener("focus",function(){this.value==c.Qb&&(this.value="",this.style.fontSize=c.oe+"px",this.style.color=q.Dc(c.Xf));c.Ja&&c.Ja.hl&&c.Ja.hl(c)});this.N.addEventListener("blur",
function(){""==this.value&&(this.value=c.Qb,this.style.fontSize=c.Tf+"px",this.style.color=q.Dc(c.se));c.Ja&&c.Ja.il&&c.Ja.il(c)});q.ic.js(this.Pb);this.Pb.ha.appendChild(this.N);this.Pb.ha.XK=!1;this.Pb.ha.style.width=a.width-6+"px";this.Pb.ha.style.height=a.height-6+"px";this.Pb.canvas.remove()},gK:function(a,c){this.oe=c;this.Oh=a;this.Zh()},TW:function(){},pD:function(a){this.Oh=a;this.Zh()},ix:function(a){this.oe=a;this.Zh()},Zh:function(){this.N.value!=this.Qb&&(this.N.style.fontFamily=this.Oh,
this.N.style.fontSize=this.oe+"px")},Md:function(a){null!=a&&(""==a?(this.N.value=this.Qb,this.N.style.color=q.Dc(this.se)):(this.N.value=a,this.N.style.color=q.Dc(this.Xf)))},nD:function(a){this.Xf=a;this.N.value!=this.Qb&&(this.N.style.color=q.Dc(a))},mK:function(a){!isNaN(a)&&0<a&&(this.Qk=a,this.N.maxLength=a)},aI:function(){return this.Qk},qK:function(a){if(null!=a){var c=this.Qb;this.Qb=a;this.N.value==c&&(this.N.value=a,this.N.style.color=q.Dc(this.se),this.Vf())}},rK:function(a,c){this.Rh=
a;this.Tf=c;this.Vf()},tK:function(a){this.Rh=a;this.Vf()},uK:function(a){this.Tf=a;this.Vf()},Vf:function(){this.N.value==this.Qb&&(this.N.style.fontFamily=this.Rh,this.N.style.fontSize=this.Tf+"px")},sK:function(a){this.se=a;this.N.value==this.Qb&&(this.N.style.color=q.Dc(a))},Qp:function(a){this.Tq=a;this.N.type=a==q.fy?"password":"text"},aa:function(){return this.N.value},As:function(a,c){return this.Iw(c)?(this.Pb.o(3,3),this.DD(!1),this.ri(a),this.o(0,0),this.Cu(this,this.$s,q.lt),!0):!1},lg:function(a){this.Ja=
a},dI:function(){return this.Qb},kK:function(a){this.Uq=a},zK:function(a){this.or=a},WI:function(a){var c=q.Pn.jd(this);c.y-=4;c.EI(a.end)?this.vq=a.end.bI()-c.cI():q.log("needn't to adjust view layout.")},UI:function(){},VI:function(){},TI:function(){},$s:function(){},Os:function(a){a=ia(a.r,a.p,a.k);this.N.style.background=a},uI:function(a,c){this.Sq=a.width;this.ha.style.width=this.Sq.toString()+"px";this.Rq=a.height;this.ha.style.height=this.Rq.toString()+"px";this.ha.style.backgroundColor=q.Dc(c)}});
MultiLineBox.jd=function(a){var c=a.c(),c=q.rect(0,0,c.width,c.height);return q.Kf(c,a.mn())};MultiLineBox.create=function(a,c,d,e){var f=new MultiLineBox(a);c instanceof q.wc?f.Os(c):f.As(a,c)&&(d&&f.Dl(d,q.nt),e&&f.Dl(e,q.mt));return f};var x=Object.freeze({Ee:{R1:"C to popup/dismiss, enter for chat. Say /help for help.",A6:"Welcome to the Powder Engine! Enter /help for some help.",hT:"-------HELP------",gT:" - Press C to expand the chat, I for Inventory",fT:" - Space to grab Items and E for Equipment.",eT:" - Enter /commands for command list",dT:"-------------------",iR:"Commands:  /editskill, /editsign, /editnpc,",hR:" - /editmap, /editwarp, /edititem,",gR:" - /dance, /coinflip, /diceroll, /afk",fR:"--------------------",vU:" has joined the game!",
T8:" has left the game!",Xw:"Picked up ",OR:"Dropped ",GI:"Your inventory is full"}});var ja=eval("gameConfig();"),ka={},la=q.Od.f();q.sj.f();la.DK(["res/Graphics"]);var ma=new XMLHttpRequest;ma.open("GET","res/Graphics/tile_graphics.txt",!1);ma.send(null);var na=ma.responseText,oa=na.split(","),y=[],pa;for(pa in oa)y.push({name:oa[pa],texture:q.ka.f().va(oa[pa])});var ta=!1,ma=new XMLHttpRequest;ma.open("GET","res/Graphics/character_graphics.txt",!1);ma.send(null);var na=ma.responseText,oa=na.split(","),z=[];for(pa in oa)z.push({name:oa[pa],texture:q.ka.f().va(oa[pa])});
document.getElementById("gameCanvas").onkeydown=function(a){a.preventDefault();ka[a.keyCode]=!0};window.onbeforeunload=function(){A({disconnect:!0})};window.onfocus=function(){for(var a=[],c=C.length-1;0<=c;c--){var d=JSON.parse(C[c]);d.moveTo&&!a[d.id]?(a[d.id]=!0,d.setTo=1,d.moveTo=null,C[c]=JSON.stringify(d)):d.moveTo&&a[d.id]&&C.splice(c,1)}};var E=q.j(255,255,255,255),ua=q.j(0,255,0,255),F=q.j(255,0,0,255);
document.getElementById("gameCanvas").onkeyup=function(a){ka[a.keyCode]=!1;if(null!=G.f().fd){a.stopPropagation();var c=null;switch(a.keyCode){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";
break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a.keyCode&&58>a.keyCode||64<a.keyCode&&91>a.keyCode)&&(c=String.fromCharCode(a.keyCode));null!=c&&G.f().fd.xl(c)}};rememberLoginNextTime=autoLoginNextTime=!1;
var I={GENERAL:"ISSECTION","Project Name":"Powder Engine Testbed","Version Number":"0.705",CHATBAR:"ISSECTION","Welcome Message":"Welcome to the Powder Engine! Enter /help for some help.","Join Message":"\x3cPLAYER\x3e has joined the game!","Leave Message":"\x3cPLAYER\x3e has left the game!","Default ChatBar Message":"C to popup/dismiss, enter for chat. Say /help for help.",ITEMS:"ISSECTION","Item Dropdown Pick Up":"Pick up \x3cITEM\x3e","Item Dropdown Walk To":"Walk to \x3cITEM\x3e","Item Pick Up":"Picked up \x3cITEM\x3e.",
"Item Dropped":"Dropped \x3cITEM\x3e.","Item Out-of-range":"\x3cITEM\x3e is too far away to pick up!","Item Dropdown Examine":"Examine \x3cITEM\x3e","Item Dropdown Equip":"Equip \x3cITEM\x3e","Item Dropdown Read":"Read \x3cITEM\x3e","Item Dropdown Eat":"Eat \x3cITEM\x3e","Item Dropdown Use":"Use \x3cITEM\x3e","Item Dropdown Unequip":"Unequip \x3cITEM\x3e","Item Dropdown Drop":"Drop \x3cITEM\x3e",NPCS:"ISSECTION","NPC Dropdown Examine":"Examine","NPC Dropdown Attack":"Attack","NPC Dropdown Talk":"Talk To",
"NPC Dropdown Follow":"Follow","NPC Dropdown Trade":"Trade","NPC Dropdown Bank":"Open Bank",SIGNS:"ISSECTION","Sign Dropdown list Read":"Read sign \x3cSIGN\x3e","Sign Out-of-range":"\x3cSIGN\x3e is too far away to read!",PANELS:"ISSECTION","Equipment Header":"Equipment","Inventory Header":"Inventory","Skills Header":"Skills List","Quest Header":"Quest Log",COMMANDS:"ISSECTION","/dance":"\x3cPLAYER\x3e danced the dance of his people.","/diceroll":"\x3cPLAYER\x3e threw a dice and got \x3cVALUE\x3e",
"/coinflip":"\x3cPLAYER\x3e flipped a coin and got \x3cVALUE\x3e"};function J(a,c){return(a.SI&&a.ta||!a.SI)&&q.hb(q.rect(a.t.J,a.t.P,a.c().width,a.c().height),c)}function K(a){if(!a)return null;var c=null;"object"==typeof a&&(c={});a instanceof Array&&(c=[]);for(var d in a)c[d]=a[d]&&("object"==typeof a[d]||a[d]instanceof Array)?K(a[d]):a[d];return c}
isMobile=function(){var a=!1,c=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(c)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(c.substr(0,
4)))a=!0;return a};function va(){L.md(function(){})}function wa(a,c){var d=c?a:a.uc();return xa(d,"panels")}
function xa(a,c,d){c=d?d[c]:a[c];if("undefined"!=typeof c.DT)d=ya.dy(c.tX);else if("undefined"!=typeof c.ca)d=q.A.eb(q.ka.f().va(c.ca));else if("undefined"!=typeof c.label)d=q.V.create(c.label,c.font?c.H2:"Arial",c.fontSize?c.fontSize:14);else if("undefined"!=typeof c.color){var e=!0;d=q.A.create()}else d=q.H.create();"undefined"!=typeof c.size&&(d.U(Math.floor(c.size.width),Math.floor(c.size.height)),!0==e&&(d.G(q.a(0,0)),d.ib(q.rect(0,0,c.size.width,c.size.height))));"undefined"!=typeof c.position&&
d.o(q.a(Math.floor(c.position.x),Math.floor(c.position.y)));"undefined"!=typeof c.visible&&d.D(c.visible);"undefined"!=typeof c.e&&d.G(c.e);"undefined"!=typeof c.opacity&&d.ra(c.opacity);"undefined"!=typeof c.color&&(d.q(c.color),c.color.K&&d.ra(c.color.K));if("undefined"!=typeof c.children)for(var f in c.children)d[f]=xa(a,f,c.children),d.g(d[f]);return d}
function za(a,c,d){a=a[c];"undefined"!=typeof a.size&&d.U(Math.floor(a.size.width),Math.floor(a.size.height));"undefined"!=typeof a.position&&d.o(q.a(Math.floor(a.position.x),Math.floor(a.position.y)));"undefined"!=typeof a.visible&&d.D(a.visible);"undefined"!=typeof a.e&&d.G(a.e);"undefined"!=typeof a.opacity&&d.ra(a.opacity);"undefined"!=typeof a.color&&(node.q||console.log(a),d.q(a.color));if("undefined"!=typeof a.children)for(var e in a.children)za(a.children,e,d[e])}
function Aa(a){a=a.toString(16);return 1==a.length?"0"+a:a}function ia(a,c,d){return"#"+Aa(a)+Aa(c)+Aa(d)}var M=null,N=ja.tileSize,Ba=ja.characterSize,O=Math.floor(36),P=Math.floor(36);function Q(a,c){return parseInt(P*(O-c))+parseInt(a)}function Ca(a,c){var d={},e;for(e in a)d[e]=a[e];for(e in c)d[e]=c[e];return d}function Da(a,c){var d={},e;for(e in a)d[e]=a[e]+"";for(e in c)d[e]&&(d[e]=c[e]+"");return d}
function Ea(a,c,d){var e=[];L.md(function(){var f=[],g=R.u.$.items;c&&(c.script&&(f=ObjectLists.aj()[c.script].data),c.storedobj&&(storedobj=c.storedobj));for(var h=0;h<f.length;h++)if(f[h].type==a){for(var k=f[h].requirements,l=!0,m=0;m<k.length;m++)switch(k[m].type){case "Is Quest Point":var n=R.u.$.$i(k[m].data.quest);n||(n=0);if(n!=k[m].data.objective){l=!1;break}break;case "Script Requirement":var n=K(R.u.$.Aw(c.script)),t=!0;n||(n={});try{var s=k[m].data.functionContent.replace(/,/g,"").split(":"),
u="{",w;for(w in s)u=0==w%2?u+('"'+s[w]+'":'):w!=s.length-1?u+('"'+s[w]+'",'):u+('"'+s[w]+'"');var u=u+"}",D=JSON.parse(u);for(w in D)n[w]||(n[w]="null"),n[w]!=D[w]&&(t=!1);if(!1==t){l=!1;break}}catch(H){S.ub("your custom require script failed");l=!1;break}break;case "Is Panel Visibility":if(d&&d["Is Panel Visibility"])break;n=1==k[m].data.visible?!0:!1;switch(k[m].data.panel){case 0:null==Inventory||Inventory.ba||(Inventory=null);if(Inventory&&!n){l=!1;break}if(!Inventory&&n){l=!1;break}break;case 1:null==
Equipment||Equipment.ba||(Equipment=null);if(Equipment&&!n){l=!1;break}if(!Equipment&&n){l=!1;break}break;case 2:null==Skills||Skills.ba||(Skills=null);if(Skills&&!n){l=!1;break}!Skills&&n&&(l=!1)}break;case "Is Player Inventory Space":if(d&&d["Is Player Inventory Space"])break;t=k[m].data.space?k[m].data.space:0;for(u=n=0;40>u;u++)g.stored[u]||n++;if(n<t){l=!1;break}break;case "Has Player Item":if(d&&d["Has Player Item"])break;if(k[m].data.item){t=k[m].data.amount?k[m].data.amount:0;n=0;u=ObjectLists.Ef()[k[m].data.item].name;
for(w in g.stored)g.stored[w]&&g.stored[w].name==u&&n++;if(n<t){l=!1;break}}break;case "Is Player Statistics":if(d&&d["Is Player Statistics"])break;n=ObjectLists.zh()[k[m].data.skill].name;k[m].data.levelUpper||(k[m].data.levelUpper=0);k[m].data.levelLower||(k[m].data.levelLower=0);k[m].data.healthUpper||(k[m].data.healthUpper=0);k[m].data.healthLowe||(k[m].data.healthLower=0);k[m].data.xpUpper||(k[m].data.xpUpper=0);k[m].data.xpLower||(k[m].data.xpLower=0);if(0!=k[m].data.levelUpper||0!=k[m].data.levelLower)if(t=
SkillBarsInstance.pc[n].level+1,t>k[m].data.levelUpper||t<k[m].data.levelLower){l=!1;break}if(0!=k[m].data.healthUpper||0!=k[m].data.healthLower)if(t=SkillBarsInstance.pc[n].currenthealth,t>k[m].data.healthUpper||t<k[m].data.healthLower){l=!1;break}if(0!=k[m].data.xpUpper||0!=k[m].data.xpLower)if(t=SkillBarsInstance.pc[n].experience,t>k[m].data.xpUpper||t<k[m].data.xpLower)l=!1}if(l)for(k=f[h].responses,m=0;m<k.length;m++)switch(k[m].type){case "Script Response":l=h,n=m,e.push([function(a,d){var e=
K(R.u.$.Aw(c.script));e||(e={});try{var g=f[a].responses[d].data.functionContent.replace(/,/g,"").split(":"),h="{",k;for(k in g)h=0==k%2?h+('"'+g[k]+'":'):k!=g.length-1?h+('"'+g[k]+'",'):h+('"'+g[k]+'"');var l=JSON.parse(h+"}"),e=Ca(e,l);R.u.$.eK(c.script,K(e))}catch(m){S.ub("Your custom response script failed")}},l,n]);case "Equip Item":if(d&&d["Equip Item"])break;l=h;n=m;e.push([function(a,d){var e=f[a].responses[d].data.equip;"bothArms"==e&&(e="lArm",g.equipped.rArm||(e="rArm"));var h=null;g.equipped[e]&&
(h=K(g.equipped[e]),Ea("On Dequip",h));g.equipped[e]=K(c);c=h;Inventory&&Inventory.yb();Equipment&&Equipment.yb()},l,n]);break;case "Give /Take Item":if(d&&d["Give /Take Item"])break;if(!k[m].data.amount||null==k[m].data.item||"undefined"==k[m].data.item)break;l=h;n=m;e.push([function(a,c){var d=f[a].responses[c],e=ObjectLists.Ef()[d.data.item];if(0<d.data.amount){var h=d.data.amount;if(!0==e.stackable){for(var k=0;40>k;k++)g.stored[k]&&g.stored[k].name==e.name&&(h=0);0!=l&&(h=1)}else for(var l=0,
k=0;40>k;k++)g.stored[k]||l++;if(l<h)return;if(!0==e.stackable){l=!1;for(k=0;40>k;k++)if(g.stored[k]&&g.stored[k].name==e.name){g.stored[k].amount+=d.data.amount;Inventory&&Inventory.si(k,g.stored[k].amount);l=!0;break}if(!1==l)for(k=0;40>k;k++)if(!g.stored[k]){g.stored[k]=K(e);g.stored[k].amount=d.data.amount;Inventory&&Inventory.si(k,g.stored[k].amount);break}}else for(l=0;l<d.data.amount;l++)for(k=0;40>k;k++)if(!g.stored[k]){g.stored[k]=K(e);break}}else if(0>d.data.amount){h=Math.abs(d.data.amount);
l=0;e=e.name;for(k in g.stored)g.stored[k]&&g.stored[k].name==e&&l++;if(l<h)return;for(l=0;l<Math.abs(d.data.amount);l++)for(k in g.stored)if(g.stored[k]&&g.stored[k].name==e){console.log("gettin rid"+l);user.stored[k]=null;break}}Inventory&&Inventory.yb();Equipment&&Equipment.yb()},l,n]);break;case "Modify Player Stats":if(d&&d["Modify Player Stats"])break;l=h;n=m;e.push([function(a,c){var d=f[a].responses[c];if(ObjectLists.zh()[d.data.skill]){var e=ObjectLists.zh()[d.data.skill].name;T.eJ(e,d.data.level);
T.dJ(e,d.data.health);T.fJ(e,d.data.xp)}},l,n]);break;case "Set Quest Point":if(d&&d["Set Quest Point"])break;l=h;n=m;e.push([function(a,c){var d=f[a].responses[c];R.u.$.wK(d.data.quest,d.data.objective)},l,n]);break;case "Warp Player":if(d&&d["Warp Player"])break;l=h;n=m;e.push([function(a,c){var d=f[a].responses[c],e=d.data.index%P,g=Math.floor(d.data.index/P);R.u.$.o(32*e,32*g);A({changemap:d.data.mapnum,setTo:d.data.index});U.Cp(d.data.mapnum);U.cn(32*e,32*g)},l,n]);break;case "Read Item":if(d&&
d["Read Item"])break;l=h;n=m;e.push([function(a,d){L.aX(c.name,f[a].responses[d].data.say)},l,n]);break;case "Open/Close Panel":if(d&&d["Open/Close Panel"])break;l=h;n=m;e.push([function(a,c){var d=f[a].responses[c],e=1==d.data.visible?!0:!1;switch(d.data.panel){case 0:null==Inventory||Inventory.ba||(Inventory=null);!0==e?Inventory?Inventory.yb():(Inventory=new InventoryPanel,Inventory.v(),Inventory.ya(),L.g(Inventory)):Inventory&&(Inventory.Fa(),Inventory.R(),Inventory=null);break;case 1:null==Equipment||
Equipment.ba||(Equipment=null);!0==e?Equipment?Equipment.yb():(Equipment=new EquipmentPanel,Equipment.v(),Equipment.ya(),L.g(Equipment)):Equipment&&(Equipment.Fa(),Equipment.R(),Equipment=null);break;case 2:null==Skills||Skills.ba||(Skills=null),!0==e?Skills?Skills.yb():(Skills=new SkillsPanel,Skills.v(),Skills.ya(),L.g(Skills)):Skills&&(Skills.Fa(),Skills.R(),Skills=null)}},l,n]);break;case "Destroy":if(d&&d.Destroy)break;l=h;n=m;c=null;Inventory&&Inventory.yb();m=k.length}}for(w=0;w<e.length;w++)e[w][0](e[w][1],
e[w][2]),e.splice(w,1),w--})}
function Fa(a,c){var d=[];L.md(function(){var e=[],f=R.u.$.items;c&&c.$a&&(e=ObjectLists.aj()[c.$a].data);console.log(a);for(var g=0;g<e.length;g++)if(e[g].type==a){for(var h=e[g].requirements,k=!0,l=0;l<h.length;l++)switch(h[l].type){case "Is Quest Point":console.log("Is Quest Point");var m=R.u.$.$i(h[l].data.quest);m||(m=0);if(m!=h[l].data.objective){k=!1;break}break;case "Script Requirement":console.log("SCRIPT REQUIRE);");var m=K(R.u.$.Aw(c.$a)),n=!0;m||(m={});try{var t=h[l].data.functionContent.replace(/,/g,
"").split(":"),s="{",u;for(u in t)s=0==u%2?s+('"'+t[u]+'":'):u!=t.length-1?s+('"'+t[u]+'",'):s+('"'+t[u]+'"');var s=s+"}",w=JSON.parse(s);for(u in w)m[u]||(m[u]="null"),m[u]!=w[u]&&(n=!1);if(!1==n){k=!1;break}}catch(D){S.ub("your custom require script failed");k=!1;break}break;case "Is Panel Visibility":m=1==h[l].data.visible?!0:!1;switch(h[l].data.panel){case 0:null==Inventory||Inventory.ba||(Inventory=null);if(Inventory&&!m){k=!1;break}if(!Inventory&&m){k=!1;break}break;case 1:null==Equipment||
Equipment.ba||(Equipment=null);if(Equipment&&!m){k=!1;break}if(!Equipment&&m){k=!1;break}break;case 2:null==Skills||Skills.ba||(Skills=null);if(Skills&&!m){k=!1;break}!Skills&&m&&(k=!1)}break;case "Is Player Inventory Space":n=h[l].data.space?h[l].data.space:0;for(s=m=0;40>s;s++)f.stored[s]||m++;if(m<n){k=!1;break}break;case "Has Player Item":if(h[l].data.item){n=h[l].data.amount?h[l].data.amount:0;m=0;s=ObjectLists.Ef()[h[l].data.item].name;for(u in f.stored)f.stored[u]&&f.stored[u].name==s&&m++;
if(m<n){k=!1;break}}break;case "Is Player Statistics":m=ObjectLists.zh()[h[l].data.skill].name;h[l].data.levelUpper||(h[l].data.levelUpper=0);h[l].data.levelLower||(h[l].data.levelLower=0);h[l].data.healthUpper||(h[l].data.healthUpper=0);h[l].data.healthLowe||(h[l].data.healthLower=0);h[l].data.xpUpper||(h[l].data.xpUpper=0);h[l].data.xpLower||(h[l].data.xpLower=0);if(0!=h[l].data.levelUpper||0!=h[l].data.levelLower)if(n=SkillBarsInstance.pc[m].level+1,n>h[l].data.levelUpper||n<h[l].data.levelLower){k=
!1;break}if(0!=h[l].data.healthUpper||0!=h[l].data.healthLower)if(n=SkillBarsInstance.pc[m].currenthealth,n>h[l].data.healthUpper||n<h[l].data.healthLower){k=!1;break}if(0!=h[l].data.xpUpper||0!=h[l].data.xpLower)if(n=SkillBarsInstance.pc[m].experience,n>h[l].data.xpUpper||n<h[l].data.xpLower)k=!1}if(!0==k)for(h=e[g].responses,l=0;l<h.length;l++)switch(h[l].type){case "Script Response":k=g;m=l;d.push([function(a,d){var f=K(R.u.$.Aw(c.$a));f||(f={});try{var g=e[d].responses[a].data.functionContent.replace(/,/g,
"").split(":"),h="{",k;for(k in g)h=0==k%2?h+('"'+g[k]+'":'):k!=g.length-1?h+('"'+g[k]+'",'):h+('"'+g[k]+'"');var l=JSON.parse(h+"}"),f=Ca(f,l);R.u.$.eK(c.$a,K(f))}catch(m){S.ub("Your custom response script failed")}},k,m]);break;case "Talk":k=g;m=l;d.push([function(a,d){var f=e[a].responses[d];L.cX(c,e,a,c.name,f.data.say,f.data.options)},k,m]);break;case "Give /Take Item":if(!h[l].data.amount||null==h[l].data.item||"undefined"==h[l].data.item)break;k=g;m=l;d.push([function(a,c){var d=e[a].responses[c],
g=ObjectLists.Ef()[d.data.item];if(0<d.data.amount){var h=d.data.amount;if(!0==g.stackable){for(var k=0;40>k;k++)f.stored[k]&&f.stored[k].name==g.name&&(h=0);0!=l&&(h=1)}else for(var l=0,k=0;40>k;k++)f.stored[k]||l++;if(l<h)return;if(!0==g.stackable){l=!1;for(k=0;40>k;k++)if(f.stored[k]&&f.stored[k].name==g.name){f.stored[k].amount+=d.data.amount;Inventory&&Inventory.si(k,f.stored[k].amount);l=!0;break}if(!1==l)for(k=0;40>k;k++)if(!f.stored[k]){f.stored[k]=K(g);f.stored[k].amount=d.data.amount;Inventory&&
Inventory.si(k,f.stored[k].amount);break}}else for(l=0;l<d.data.amount;l++)for(k=0;40>k;k++)if(!f.stored[k]){f.stored[k]=K(g);break}}else if(0>d.data.amount){h=Math.abs(d.data.amount);l=0;g=g.name;for(k in f.stored)f.stored[k]&&f.stored[k].name==g&&l++;if(l<h)return;for(l=0;l<Math.abs(d.data.amount);l++)for(k in f.stored)if(f.stored[k]&&f.stored[k].name==g){console.log("gettin rid"+l);user.stored[k]=null;break}}Inventory&&Inventory.yb();Equipment&&Equipment.yb()},k,m]);break;case "Modify Player Stats":k=
g;m=l;d.push([function(a,c){var d=e[a].responses[c];if(ObjectLists.zh()[d.data.skill]){var f=ObjectLists.zh()[d.data.skill].name;T.eJ(f,d.data.level);T.dJ(f,d.data.health);T.fJ(f,d.data.xp)}},k,m]);break;case "Set Quest Point":k=g;m=l;d.push([function(a,c){var d=e[a].responses[c];R.u.$.wK(d.data.quest,d.data.objective)},k,m]);break;case "Warp Player":k=g;m=l;d.push([function(a,c){var d=e[a].responses[c],f=d.data.index%P,g=Math.floor(d.data.index/P);R.u.$.o(32*f,32*g);A({changemap:d.data.mapnum,setTo:d.data.index});
U.Cp(d.data.mapnum);U.cn(32*f,32*g)},k,m]);break;case "Open/Close Panel":k=g,m=l,d.push([function(a,c){var d=e[a].responses[c],f=1==d.data.visible?!0:!1;switch(d.data.panel){case 0:null==Inventory||Inventory.ba||(Inventory=null);!0==f?Inventory?Inventory.yb():(Inventory=new InventoryPanel,Inventory.v(),Inventory.ya(),L.g(Inventory)):Inventory&&(Inventory.Fa(),Inventory.R(),Inventory=null);break;case 1:null==Equipment||Equipment.ba||(Equipment=null);!0==f?Equipment?Equipment.yb():(Equipment=new EquipmentPanel,
Equipment.v(),Equipment.ya(),L.g(Equipment)):Equipment&&(Equipment.Fa(),Equipment.R(),Equipment=null);break;case 2:null==Skills||Skills.ba||(Skills=null),!0==f?Skills?Skills.yb():(Skills=new SkillsPanel,Skills.v(),Skills.ya(),L.g(Skills)):Skills&&(Skills.Fa(),Skills.R(),Skills=null)}},k,m])}}for(u=0;u<d.length;u++)d[u][0](d[u][1],d[u][2]),d.splice(u,1),u--})};var V=q.La.extend({u:null,Cb:function(a){return(a=v.localStorage.getItem("last_"+a))?a:null},nk:function(a,c){return(c=v.localStorage.setItem("last_"+a,c))?c:null}}),W=null;V.dy=function(){W||(W=new V);return W};V.f=function(){return W};V.xW=function(a,c){var d=v.localStorage.getItem("panelStore");"null"==d||null==d?(console.log("NEW PANEL STORE"),d={}):d=JSON.parse(d);d[a]={x:c.x,y:c.y};v.localStorage.setItem("panelStore",JSON.stringify(d))};V.uS=function(){return v.localStorage.getItem("panelStore")};
V.jS=function(a){if(W.Cb("maps")){if(a){var c=JSON.parse(v.localStorage.getItem("map_data"));return c[a]?c[a]:null}}else return[]};V.oL=function(a,c){W.nk("maps",c);v.localStorage.setItem("map_data",JSON.stringify(a))};V.SQ=function(a,c,d){var e=W.Cb("maps")?JSON.parse(v.localStorage.getItem("map_data")):[];e[a]=c;V.oL(e,d)};V.kf=function(){if(W.Cb("scripts")){if(""!=v.localStorage.getItem("scripts_data"))var a=JSON.parse(v.localStorage.getItem("scripts_data"));return a?a:[]}return[]};
V.tL=function(a,c){W.nk("scripts",c);v.localStorage.setItem("scripts_data",JSON.stringify(a))};V.XQ=function(a,c,d){var e=W.Cb("scripts")?""!=v.localStorage.getItem("scripts_data")?JSON.parse(v.localStorage.getItem("scripts_data")):[]:[];e[a]=c;V.tL(e,d)};V.UU=function(a,c){scriptarray=a;V.Nx(scriptarray,c)};V.OS=function(){if(W.Cb("warps")){if(""!=v.localStorage.getItem("warps_data"))var a=JSON.parse(v.localStorage.getItem("warps_data"));return a?a:[]}return[]};
V.Nx=function(a,c){W.nk("warps",c);v.localStorage.setItem("warps_data",JSON.stringify(a))};V.aR=function(a,c,d){var e=W.Cb("warps")?""!=v.localStorage.getItem("warps_data")?JSON.parse(v.localStorage.getItem("warps_data")):[]:[];e[a]=c;V.Nx(e,d)};V.XU=function(a,c){warparray=a;V.Nx(warparray,c)};V.hS=function(){if(W.Cb("items")){if(""!=v.localStorage.getItem("items_data"))var a=JSON.parse(v.localStorage.getItem("items_data"));return a?a:[]}return[]};
V.dt=function(a,c){W.nk("items",c);v.localStorage.setItem("items_data",JSON.stringify(a))};V.RQ=function(a,c,d){var e=W.Cb("items")?""!=v.localStorage.getItem("items_data")?JSON.parse(v.localStorage.getItem("items_data")):[]:[];e[a]=c;V.dt(e,d)};V.RU=function(a,c){itemsarray=a;V.dt(itemsarray,c)};V.FS=function(){if(W.Cb("skills")){if(""!=v.localStorage.getItem("skills_data"))var a=JSON.parse(v.localStorage.getItem("skills_data"));return a?a:[]}return[]};
V.RD=function(a,c){W.nk("skills",c);v.localStorage.setItem("skills_data",JSON.stringify(a))};V.ZQ=function(a,c,d){var e=W.Cb("skills")?""!=v.localStorage.getItem("skills_data")?JSON.parse(v.localStorage.getItem("skills_data")):[]:[];e[a]=c;V.RD(e,d)};V.WU=function(a,c){skillarray=a;V.RD(skillarray,c)};V.DS=function(){if(W.Cb("signs")){if(""!=v.localStorage.getItem("signs_data"))var a=JSON.parse(v.localStorage.getItem("signs_data"));return a?a:[]}return[]};
V.Mx=function(a,c){W.nk("signs",c);v.localStorage.setItem("signs_data",JSON.stringify(a))};V.YQ=function(a,c,d){var e=W.Cb("signs")?""!=v.localStorage.getItem("signs_data")?JSON.parse(v.localStorage.getItem("signs_data")):[]:[];e[a]=c;V.Mx(e,d)};V.VU=function(a,c){signarray=a;V.Mx(signarray,c)};V.pS=function(){if(W.Cb("npcs")){if(""!=v.localStorage.getItem("npcs_data"))var a=JSON.parse(v.localStorage.getItem("npcs_data"));return a?a:[]}return[]};
V.pL=function(a,c){W.nk("npcs",c);v.localStorage.setItem("npcs_data",JSON.stringify(a))};V.TQ=function(a,c,d){var e=W.Cb("npcs")?""!=v.localStorage.getItem("npcs_data")?JSON.parse(v.localStorage.getItem("npcs_data")):[]:[];e[a]=c;V.pL(e,d)};V.SU=function(a,c){npcsarray=a;V.Mx(npcsarray,c)};V.$i=function(){if(W.Cb("quests")){if(""!=v.localStorage.getItem("quests_data"))var a=JSON.parse(v.localStorage.getItem("quests_data"));return a?a:[]}return[]};
V.PD=function(a,c){W.nk("quests",c);v.localStorage.setItem("quests_data",JSON.stringify(a))};V.WQ=function(a,c,d){var e=W.Cb("quests")?""!=v.localStorage.getItem("quests_data")?JSON.parse(v.localStorage.getItem("quests_data")):[]:[];e[a]=c;V.PD(e,d)};V.TU=function(a,c){questsarray=a;V.PD(questsarray,c)};V.dC=function(){if(W.Cb("settings")){if(""!=v.localStorage.getItem("settings_data"))var a=JSON.parse(v.localStorage.getItem("settings_data"));return a?a:[]}return[]};
V.QD=function(a,c){W.nk("settings",c);v.localStorage.setItem("settings_data",JSON.stringify(a))};
V.NL=function(){v.localStorage.setItem("map_data",[]);v.localStorage.setItem("last_maps",0);v.localStorage.setItem("warps_data",[]);v.localStorage.setItem("last_warps",0);v.localStorage.setItem("items_data",[]);v.localStorage.setItem("last_items",0);v.localStorage.setItem("skills_data",[]);v.localStorage.setItem("last_skills",0);v.localStorage.setItem("signs_data",[]);v.localStorage.setItem("last_signs",0);v.localStorage.setItem("npcs_data",[]);v.localStorage.setItem("last_npcs",0);v.localStorage.setItem("quests_data",
[]);v.localStorage.setItem("last_quests",0);v.localStorage.setItem("settings_data",[]);v.localStorage.setItem("last_settings",0);v.localStorage.setItem("scripts_data",[]);v.localStorage.setItem("last_scripts",0);v.localStorage.setItem("panelStore",null)};
V.YM=function(){A({sync:!0,mapupdate:null!=W.Cb("maps")?W.Cb("maps"):2,warpupdate:null!=W.Cb("warps")?W.Cb("warps"):2,itemupdate:null!=W.Cb("items")?W.Cb("items"):2,skillsupdate:null!=W.Cb("skills")?W.Cb("skills"):2,signsupdate:null!=W.Cb("signs")?W.Cb("signs"):2,npcsupdate:null!=W.Cb("npcs")?W.Cb("npcs"):2,questsupdate:null!=W.Cb("quests")?W.Cb("quests"):2,settingsupdate:null!=W.Cb("settings")?W.Cb("settings"):2,scriptsupdate:null!=W.Cb("scripts")?W.Cb("scripts"):2})};
V.kW=function(a){!0!=a&&!1!=a||v.localStorage.setItem("mapedit_saveonexit",a)};V.kS=function(){return null==v.localStorage.getItem("mapedit_saveonexit")?!1:v.localStorage.getItem("mapedit_saveonexit")};V.IW=function(a,c){v.localStorage.setItem("savedcredentials",JSON.stringify({user:a,pass:c}))};V.VJ=function(a){v.localStorage.setItem("autologin",JSON.stringify(a))};V.II=function(){var a=v.localStorage.getItem("autologin");return null!=a?JSON.parse(a):!1};
V.OI=function(){return v.localStorage.getItem("savedcredentials")?!0:!1};V.JS=function(){var a=v.localStorage.getItem("savedcredentials");return a?JSON.parse(a):!1};ListView=q.Jh.extend({rl:null,n:null,pw:null,Sw:!1,kg:null,lj:null,dL:null,aD:function(){if(this.n){this.lj&&(this.lj.R(),this.kg.R());var a=this.n.Zc();a.height<this.n.c().height&&(a=this.n.c(),this.Sw=!0);this.rl=[];for(var c=0,d=0;d<this.n.Pc();d++){var e=this.n.kd(d),c=c+e.height;this.rl[d]=q.H.create();this.rl[d].U(e);this.rl[d].o(q.a(0,a.height-c));this.rl[d].G(q.a(0,1));this.g(this.rl[d]);this.rl[d].g(this.n.hd(d))}this.bc(!1);!1==this.Sw&&(this.lj=q.A.create(),this.lj.ib(q.rect(1,this.n.c().height)),
this.lj.q(q.j(0,0,0,255)),this.lj.G(q.a(0,0)),this.lj.o(q.a(this.n.c().width+20,0)),this.kg=q.A.create(),this.kg.G(q.a(0,0)),this.kg.ib(q.rect(0,0,20,this.n.c().height/5)),this.kg.q(q.j(90,90,255,255)),this.kg.o(q.a(this.n.c().width+10,0)),this.n.g(this.lj),this.n.g(this.kg),this.Fl(q.a(0,this.Is().y),!1));this.n.o(this.dL)}},v:function(a){this.n=a;this.G(q.a(0,0));this.dL=q.a(a.t.J,a.t.P);this.Hp(this.n.c(),this.n);this.aK(q.jq);this.NV(!1);a=this.n.Zc();var c=q.H.create();c.U(a);this.RV(c)},nd:function(a){this.pw=
a},fD:!1,hx:null,vc:function(a){if(!this.n.ki)return!1;for(var c=0;c<this.n.Pc();c++)this.n.ki(c).q(q.j(255,255,255,255));this.n.ki(a).q(q.j(255,0,0,255))},vb:function(a){for(var c=a.S,d=0;d<this.n.Pc();d++)for(var e in this.pw[d]){var f=this.rl[d].Oa(c),g=this.n.Oa(c);g.x+=this.n.t.J;J(this.n,g);if(J(this.pw[d][e],f))return this.n.gc(this.pw[d][e].ac,d,a),this.fD=!0}if(!1==this.Sw){a=this.n.Oa(c);if(J(this.kg,a))return this.hx=a.y-this.kg.t.P,!0;console.log("TURNING OFF SCROLOL");this.hx=null}},
Ad:function(a){if(!0==this.fD)return this.fD=!1;if(!1==this.Sw){var c=a.S;if(null!=this.hx&&(c=this.n.Oa(c),c.y-=this.hx,0<=c.y&&c.y+this.kg.c().height<=this.n.c().height))return a=c.y/(this.lj.c().height-this.kg.c().height),this.Fl(q.a(0,this.jn().y*a),!1),this.kg.Gc(c.y),!0;c=this._super(a);a=this.UH().y/this.jn().y;this.kg.Gc((this.lj.c().height-this.kg.c().height)*a);return c}}});ListView.create=function(a){var c=new ListView;c.v(a);c.aD();return c};var ya=q.H.extend({Ge:null,He:null,Ie:null,Ke:null,Le:null,ae:null,item:null,ze:null,Ae:null,Ce:null,Be:null,position:null,string:null,type:null,$a:null,ctor:function(){this._super()},v:function(){this._super();this.string=q.V.create("","Arial",16);this.string.G(0.5,0.5);this.string.o(16,-16);this.string.ra(0);this.string.q(q.l(0,0,0));this.g(this.string,900);this.item=[];this.$a=[];this.mj(0)},vQ:function(a){this.ok(a.sprite.texture,a.sprite.position,"item");for(var c=0;c<ObjectLists.Ef().length;c++)if(a.name==
ObjectLists.Ef()[c].name){this.rx({id:c,data:{amount:a.amount}},!0);break}this.mj(4)},QC:function(){this.$a[this.$a.length-1].temp&&(this.item[this.item.length-1].R(),this.item.splice(this.item.length-1,1),this.xU())},ok:function(a,c,d){a=q.A.eb(q.ka.f().va(a));a.ib(q.rect(Math.floor(N*c.x),Math.floor(N*c.y),N,N));a.q(q.j(255,255,255,255));a.G(0,1);switch(d){case "ground1":null!=this.Ge&&this.Ge.R();this.Ge=a;this.g(this.Ge);break;case "ground2":null!=this.He&&this.He.R();this.He=a;this.g(this.He,
1);break;case "groundShadow":null!=this.Ie&&this.Ie.R();this.Ie=a;this.g(this.Ie,2);break;case "mask1":null!=this.Ke&&this.Ke.R();this.Ke=a;this.g(this.Ke,3);break;case "mask2":null!=this.Le&&this.Le.R();this.Le=a;this.g(this.Le,4);break;case "mask3":null!=this.ae&&this.ae.R();this.ae=a;this.g(this.ae,5);break;case "item":this.item.push(a);this.g(this.item[this.item.length-1],6);break;case "fringe1":null!=this.ze&&this.ze.R();this.ze=a;this.g(this.ze,7);break;case "fringe2":null!=this.Ae&&this.Ae.R();
this.Ae=a;this.g(this.Ae,8);break;case "fringeShadow":null!=this.Ce&&this.Ce.R();this.Ce=a;this.g(this.Ce,9);break;case "fringe3":null!=this.Be&&this.Be.R(),this.Be=a,this.g(this.Be,10)}},Pg:function(){var a=!0;if(null!=this.Ge&&this.Ge.fa()&&!1==this.Ge.fa().zc)a=!1;else if(null!=this.He&&this.He.fa()&&!1==this.He.fa().zc)a=!1;else if(null!=this.Ie&&this.Ie.fa()&&!1==this.Ie.E5)a=!1;else if(null!=this.Ke&&this.Ke.fa()&&!1==this.Ke.fa().zc)a=!1;else if(null!=this.Le&&this.Le.fa()&&!1==this.Le.fa().zc)a=
!1;else if(null!=this.ae&&this.ae.fa()&&!1==this.ae.fa().zc)a=!1;else if(0<this.item.length)for(var c in this.item)this.item[c].fa()&&!1==this.item[c].fa().zc&&(a=!1);else null!=this.ze&&this.ze.fa()&&!1==this.ze.fa().zc?a=!1:null!=this.Ae&&this.Ae.fa()&&!1==this.Ae.fa().zc?a=!1:null!=this.Ce&&this.Ce.fa()&&!1==this.Ce.fa().zc?a=!1:null!=this.Be&&this.Be.fa()&&!1==this.Be.fa().zc&&(a=!1);return a},hf:function(){null!=this.Ge&&this.Ge.R();this.Ge=null;null!=this.He&&this.He.R();this.He=null;null!=
this.Ie&&this.Ie.R();this.Ie=null;null!=this.Ke&&this.Ke.R();this.Ke=null;null!=this.Le&&this.Le.R();this.Le=null;null!=this.ae&&this.ae.R();this.ae=null;for(var a=0;a<this.item.length;a++)this.item[a].R();this.item=[];this.ae=null;null!=this.ze&&this.ze.R();this.ze=null;null!=this.Ae&&this.Ae.R();this.Ae=null;null!=this.Ce&&this.Ce.R();this.Ce=null;null!=this.Be&&this.Be.R();this.Be=null;this.mj(0);this.$a=[];this.item=[]},OB:function(a){switch(a){case "ground1":null!=this.Ge&&this.Ge.R();this.Ge=
null;break;case "ground2":null!=this.He&&this.He.R();this.He=null;break;case "groundShadow":null!=this.Ie&&this.Ie.R();this.Ie=null;break;case "mask1":null!=this.Ke&&this.Ke.R();this.Ke=null;break;case "mask2":null!=this.Le&&this.Le.R();this.Le=null;break;case "mask3":null!=this.ae&&this.ae.R();this.ae=null;break;case "item":for(a=0;a<this.item.length;a++)this.item[a].R(),this.item[a].splice(a,1),a--;this.item=[];break;case "fringe1":null!=this.ze&&this.ze.R();this.ze=null;break;case "fringe2":null!=
this.Ae&&this.Ae.R();this.Ae=null;break;case "fringeShadow":null!=this.Ce&&this.Ce.R();this.Ce=null;break;case "fringe3":null!=this.Be&&this.Be.R(),this.Be=null}},mj:function(a){this.type=a;switch(this.type){case 0:this.string.ja("");break;case 1:this.string.ja("BLK");break;case 2:this.string.ja("SPW");break;case 3:this.string.ja("WRP");break;case 4:this.string.ja("ITM");break;case 5:this.string.ja("NPC");break;case 6:this.string.ja("SKL");break;case 7:this.string.ja("SGN")}},rx:function(a,c){c||
(c=!1);this.$a.push({num:parseInt(a.id),data:a.data,temp:c})},xU:function(){this.$a.splice(this.$a.length-1,1);0==this.$a.length&&this.mj(0)},Ew:function(){return this.$a[this.$a.length-1]},Bp:function(){switch(this.type){case 3:return ObjectLists.vs()[this.$a[this.$a.length-1].num];case 4:var a=ObjectLists.Ef()[this.$a[this.$a.length-1].num];a.amount=parseInt(this.$a[this.$a.length-1].data.amount);return a;case 7:return ObjectLists.ss()[this.$a[this.$a.length-1].num];case 5:return ObjectLists.ll()[this.$a[this.$a.length-
1].num]}},kf:function(){switch(this.type){case 3:return ObjectLists.vs()[this.$a[this.$a.length-1].num]?ObjectLists.vs()[this.$a[this.$a.length-1].num]:null;case 4:return ObjectLists.Ef()[this.$a[this.$a.length-1].num]?ObjectLists.Ef()[this.$a[this.$a.length-1].num]:null;case 5:return ObjectLists.ll()[this.$a[this.$a.length-1].num]?ObjectLists.ll()[this.$a[this.$a.length-1].num]:null}},NW:function(a){this.string.ra(!0==a?255:0)},Bc:function(){return this.type}});
ya.dy=function(a,c){var d=new ya;d.v();d.position=q.a(a,c);return d};StatsController=q.A.extend({data:null,Qw:null,n:null,v:function(a,c){this.data=a;this.n=c;this.BV()},update:function(){for(var a in this.data)this.Qw&&(0==this.data[a].value&&0<this.Qw[a]&&this.n.cba(a),this.data[a].Qc>this.Qw[a].Qc&&this.n.eba(a)),this.Qw[a]=this.data[a]},w5:function(a){return this.data[a].value},v5:function(a){return this.data[a].Qc},T7:function(a,c){this.data[a].value+=c;this.data[a].value>this.data[a].eg&&(this.data[a].value=this.data[a].eg);0>this.data[a].value&&(this.data[a].value=
0)},$Q:function(a,c){this.data[a].value=c;this.data[a].value>this.data[a].eg&&(this.data[a].value=this.data[a].eg);0>this.data[a].value&&(this.data[a].value=0)},S7:function(a,c){this.data[a].Qc+=c;this.data[a].Qc>this.data[a].dg&&(this.data[a].Qc=this.data[a].dg);0>this.data[a].Qc&&(this.data[a].Qc=0)},$Q:function(a,c){this.data[a].Qc=c;this.data[a].Qc>this.data[a].dg&&(this.data[a].Qc=this.data[a].dg);0>this.data[a].Qc&&(this.data[a].Qc=0)},v1:function(a,c){this.data[a].dg=c},w1:function(a,c){this.data[a].eg=
c}});ObjectLists=q.La.extend({YD:null,DC:null,FD:null,ED:null,HC:null,UC:null,iD:null});var X;ObjectLists.f=function(){X||(X=new ObjectLists,X.YD=V.OS(),X.DC=V.hS(),X.FD=V.FS(),X.ED=V.DS(),X.HC=V.pS(),X.UC=V.$i(),X.iD=V.kf());return X};ObjectLists.vs=function(){return X.YD};ObjectLists.VW=function(a){X.YD=a};ObjectLists.Ef=function(){return X.DC};ObjectLists.hW=function(a){X.DC=a};ObjectLists.zh=function(){return X.FD};ObjectLists.MW=function(a){X.FD=a};ObjectLists.ss=function(){return X.ED};
ObjectLists.LW=function(a){X.ED=a};ObjectLists.ll=function(){return X.HC};ObjectLists.pW=function(a){X.HC=a};ObjectLists.Ap=function(){return X.UC};ObjectLists.FW=function(a){X.UC=a};ObjectLists.aj=function(){return X.iD};ObjectLists.KW=function(a){X.iD=a};gameMapInstance=null;
var U=q.Hc.extend({ee:null,C:null,Qg:!1,Hn:null,pn:null,RC:null,dn:null,vl:null,sl:null,tl:null,ul:null,O:q.a(0,0),Wi:1,XB:function(a,c){function d(a,c){return{NM:a,value:c.x+c.y*P,x:c.x,y:c.y,yw:0,p:0}}function e(a,c){var d=c-1,e=c+1,g=a+1,h=a-1,k=-1<d&&f.C["tile"+Q(a,d)]&&1!=f.C["tile"+Q(a,d)].Bc()&&7!=f.C["tile"+Q(a,d)].Bc();myS=e<P&&f.C["tile"+Q(a,e)]&&1!=f.C["tile"+Q(a,e)].Bc()&&7!=f.C["tile"+Q(a,e)].Bc();myE=g<P&&f.C["tile"+Q(g,c)]&&1!=f.C["tile"+Q(g,c)].Bc()&&7!=f.C["tile"+Q(g,c)].Bc();myW=
-1<h&&f.C["tile"+Q(h,c)]&&1!=f.C["tile"+Q(h,c)].Bc()&&7!=f.C["tile"+Q(h,c)].Bc();result=[];k&&result.push({x:a,y:d});myE&&result.push({x:g,y:c});myS&&result.push({x:a,y:e});myW&&result.push({x:h,y:c});return result}for(var f=this,g=d(null,c),h,k,l,m,n,t=[],s=[],u=[d(null,a)],w=Array(O*P);h=u.length;){k=O*P;l=-1;for(m=0;m<h;m++)u[m].yw<k&&(k=u[m].yw,l=m);k=u.splice(l,1)[0];if(k.value===g.value){l=s[s.push(k)-1];do t.push(q.a(l.x,l.y));while(l=l.NM);w=s=u=[];t.reverse()}else{h=e(k.x,k.y);m=0;for(n=
h.length;m<n;m++)l=d(k,h[m]),w[l.value]||(l.p=k.p+(Math.abs(h[m].x-k.x)+Math.abs(h[m].y-k.y)),l.yw=l.p+(Math.abs(h[m].x-g.x)+Math.abs(h[m].y-g.y)),u.push(l),w[l.value]=!0);s.push(k)}}return t},YW:function(a){this.ee={};this.ee.mapdata={};for(var c in this.C)"tile"==c.substring(0,4)&&(this.C[c].hf(),this.ee[c]={});if(a)for(c in this.ee=a,a)if("tile"==c.substring(0,4))for(var d in a[c])"info"!=d?null!=a[c][d]&&this.C[c].ok(a[c][d].texture,a[c][d].frame,d):(this.C[c].mj(a[c][d].type),a[c][d].script&&
this.C[c].rx(a[c][d].script),4==a[c][d].type&&this.C[c].kf()&&this.C[c].ok(this.C[c].kf().sprite.texture,this.C[c].kf().sprite.position,"item"),5==a[c][d].type&&this.C[c].kf()&&R.bH(this.C[c].kf(),q.a(this.C[c].t.x/N,this.C[c].t.y/N),this.Wi));else"mapdata"==c&&(this.vl=""!=a[c].mapConnectors.up&&null!=a[c].mapConnectors.up?a[c].mapConnectors.up:null,this.sl=""!=a[c].mapConnectors.down&&null!=a[c].mapConnectors.down?a[c].mapConnectors.down:null,this.tl=""!=a[c].mapConnectors.left&&null!=a[c].mapConnectors.left?
a[c].mapConnectors.left:null,this.ul=""!=a[c].mapConnectors.right&&null!=a[c].mapConnectors.right?a[c].mapConnectors.right:null);this.hc(this.WC)},Kl:function(a){R.f().D(!1);a=V.jS(a);this.ee={};this.ee.mapdata={};for(var c in this.C)"tile"==c.substring(0,4)&&(this.C[c].hf(),this.ee[c]={});if(a)for(c in this.ee=a,a)if("tile"==c.substring(0,4))for(var d in a[c])"info"!=d?null!=a[c][d]&&this.C[c].ok(a[c][d].texture,a[c][d].frame,d):(this.C[c].mj(a[c][d].type),a[c][d].script&&this.C[c].rx(a[c][d].script),
4==a[c][d].type&&this.C[c].kf()&&this.C[c].ok(this.C[c].kf().sprite.texture,this.C[c].kf().sprite.position,"item"),5==a[c][d].type&&this.C[c].kf()&&R.bH(this.C[c].kf(),q.a(this.C[c].t.x/N,this.C[c].t.y/N),this.Wi));else"mapdata"==c&&(this.vl=""!=a[c].mapConnectors.up&&null!=a[c].mapConnectors.up?a[c].mapConnectors.up:null,this.sl=""!=a[c].mapConnectors.down&&null!=a[c].mapConnectors.down?a[c].mapConnectors.down:null,this.tl=""!=a[c].mapConnectors.left&&null!=a[c].mapConnectors.left?a[c].mapConnectors.left:
null,this.ul=""!=a[c].mapConnectors.right&&null!=a[c].mapConnectors.right?a[c].mapConnectors.right:null);this.hc(this.WC)},WC:function(){for(var a in this.C)if("tile"==a.substring(0,4)&&!1==this.C[a].Pg())return;R.f().D(!0);R.qk();this.Tc(this.WC);this.pn.D(!0);this.Hn.D(!0);this.Qg=!0},uc:function(){for(var a={},c=0;c<P;c++)for(var d=0;d<O;d++)a["tile"+(c+d*P)]={size:q.size(N,N),e:q.a(0,0),position:q.a(c*N,(O-d)*N),DT:!0,tX:q.a(d,c),visible:!1};return{panels:{children:a}}},v:function(){this.bc(!0);
this.HK(0)},vb:function(a){!this.dn||Mapeditor&&Mapeditor.ba||(this.dn=Mapeditor=null);if(this.dn)for(var c in this.C)"tile"==c.substring(0,4)&&q.hb(this.C[c].fb(),q.a(a.S.x-this.O.x,a.S.y+N-this.O.y))&&(this.dn.jL(this.C,c),U.et());else for(c in this.C)if("tile"==c.substring(0,4)&&q.hb(this.C[c].fb(),q.a(a.S.x-this.O.x,a.S.y+N-this.O.y)))if(4==this.C[c].Bc()){var d=I["Item Dropdown Pick Up"]+"",e=I["Item Dropdown Walk To"]+"",d=d.replace("\x3cITEM\x3e",this.C[c].kf().name),e=e.replace("\x3cITEM\x3e",
this.C[c].kf().name);this.ba.g(DropDownList.yd(this,this.GT,[d,e],a.S));this.Lg=c}else 7==this.C[c].Bc()?(d=I["Sign Dropdown list Read"]+"",d=d.replace("\x3cSIGN\x3e",this.C[c].Bp().name),this.ba.g(DropDownList.yd(this,this.fX,[d],a.S)),this.Lg=c):1!=this.C[c].Bc()&&7!=this.C[c].Bc()&&4!=this.C[c].Bc()&&(d=R.u.$.Yd(),R.u.$.BD(this.XB(q.a(Math.floor(d.x),Math.ceil(d.y)),q.a(this.C[c].t.x/N,this.C[c].t.y/N))));return!0},Lg:null,GT:function(a){if(null!=this.n.Lg){var c=R.u.$.Yd(),d=q.a(gameMapInstance.C[gameMapInstance.Lg].t.x/
N,gameMapInstance.C[gameMapInstance.Lg].t.y/N);switch(a){case 0:a=c.x>d.x?c.x-d.x:d.x-c.x;c=c.y>d.y?c.y-d.y:d.y-c.y;5>Math.sqrt(a*a+c*c)?R.u.$.DI(gameMapInstance.C[gameMapInstance.Lg]):(c=I["Item Out-of-range"]+"",c=c.replace("\x3cITEM\x3e",this.n.C[gameMapInstance.Lg].kf().name),S.ub(c));break;case 1:R.u.$.BD(gameMapInstance.XB(q.a(Math.floor(c.x),Math.ceil(c.y)),d)),this.n.Lg=null}}},fX:function(a){if(null!=this.n.Lg){var c=R.u.$.Yd(),d=q.a(gameMapInstance.C[gameMapInstance.Lg].t.x/N,gameMapInstance.C[gameMapInstance.Lg].t.y/
N);switch(a){case 0:a=c.x>d.x?c.x-d.x:d.x-c.x,c=c.y>d.y?c.y-d.y:d.y-c.y,5>Math.sqrt(a*a+c*c)?R.u.$.DI(gameMapInstance.C[gameMapInstance.Lg]):(c=I["Sign Out-of-range"]+"",c=c.replace("\x3cSIGN\x3e",this.n.C[gameMapInstance.Lg].Bp().name),S.ub(c))}}},Ad:function(a){if(this.dn){for(var c in this.C)"tile"==c.substring(0,4)&&q.hb(this.C[c].fb(),q.a(a.S.x-this.O.x,a.S.y+N-this.O.y))&&(this.dn.jL(this.C,c,"moved"),U.et());return!0}for(c in this.C)if("tile"==c.substring(0,4)&&1!=this.C[c].Bc()&&7!=this.C[c].Bc()&&
4!=this.C[c].Bc()&&q.hb(this.C[c].fb(),q.a(a.S.x-this.O.x,a.S.y+N-this.O.y))){var d=R.u.$.Yd();R.u.$.BD(this.XB(q.a(Math.floor(d.x),Math.ceil(d.y)),q.a(this.C[c].t.x/N,this.C[c].t.y/N)))}},Aa:function(){this._super();if(!0==this.Qg){this.Hn.FB(0,0,0,0);for(var a in this.C)"tile"==a.substring(0,4)&&(this.C[a].D(!0),null!=this.C[a].ze&&this.C[a].ze.D(!1),null!=this.C[a].Ae&&this.C[a].Ae.D(!1),null!=this.C[a].Ce&&this.C[a].Ce.D(!1),null!=this.C[a].Be&&this.C[a].Be.D(!1),this.C[a].Aa(),null!=this.C[a].ze&&
this.C[a].ze.D(!0),null!=this.C[a].Ae&&this.C[a].Ae.D(!0),null!=this.C[a].Ce&&this.C[a].Ce.D(!0),null!=this.C[a].Be&&this.C[a].Be.D(!0),this.C[a].D(!1));this.Hn.end();this.pn.FB(0,0,0,0);for(a in this.C)if("tile"==a.substring(0,4)){this.C[a].D(!0);null!=this.C[a].Ge&&this.C[a].Ge.D(!1);null!=this.C[a].He&&this.C[a].He.D(!1);null!=this.C[a].Ie&&this.C[a].Ie.D(!1);null!=this.C[a].Ke&&this.C[a].Ke.D(!1);null!=this.C[a].Le&&this.C[a].Le.D(!1);null!=this.C[a].ae&&this.C[a].ae.D(!1);for(var c=0;c<this.C[a].item.length;c++)this.C[a].item[c].D(!1);
this.C[a].Aa();null!=this.C[a].Ge&&this.C[a].Ge.D(!0);null!=this.C[a].He&&this.C[a].He.D(!0);null!=this.C[a].Ie&&this.C[a].Ie.D(!0);null!=this.C[a].Ke&&this.C[a].Ke.D(!0);null!=this.C[a].Le&&this.C[a].Le.D(!0);null!=this.C[a].ae&&this.C[a].ae.D(!0);for(c=0;c<this.C[a].item.length;c++)this.C[a].item[c].D(!0);this.C[a].D(!1)}this.pn.end();this.Qg=!1}}});
U.updateOffset=function(a,c){0<=gameMapInstance.O.x+(M.width-Y.width/2)+a&&R.u.$.t.x<M.width-Y.width/2&&0>=gameMapInstance.O.x+a&&R.u.$.t.x>Y.width/2&&(gameMapInstance.O.x+=a);0<=gameMapInstance.O.y+(M.height-Y.height/2)+c&&R.u.$.t.y<M.height-Y.height/2&&0>=gameMapInstance.O.y+c&&R.u.$.t.y>Y.height/2&&(gameMapInstance.O.y+=c);M.height<Y.height&&(gameMapInstance.O.y=(Y.height-M.height)/2);M.width<Y.width&&(gameMapInstance.O.x=(Y.width-M.width)/2);gameMapInstance.o(gameMapInstance.O.x,gameMapInstance.O.y)};
U.cn=function(a,c){a=parseInt(a);c=parseInt(c);!0==gameMapInstance.Qg?0==offsetFromPositionScheduledX&&0==offsetFromPositionScheduledY&&(offsetFromPositionScheduledX=a,offsetFromPositionScheduledY=c,gameMapInstance.hc(U.SJ)):(gameMapInstance.O.x=a>M.width-Y.width/2?-(M.width-Y.width):a<Y.width/2?0:-(a-Y.width/2),gameMapInstance.O.y=c>M.height-Y.height/2?-(M.height-Y.height):c<Y.height/2?0:-(c-Y.height/2),offsetFromPositionScheduledY=offsetFromPositionScheduledX=0,gameMapInstance.Tc(U.SJ),M.height<
Y.height&&(gameMapInstance.O.y=(Y.height-M.height)/2),M.width<Y.width&&(gameMapInstance.O.x=(Y.width-M.width)/2),gameMapInstance.o(gameMapInstance.O.x,gameMapInstance.O.y))};offsetFromPositionScheduledY=offsetFromPositionScheduledX=0;U.SJ=function(){U.cn(offsetFromPositionScheduledX,offsetFromPositionScheduledY)};
U.kC=function(){!0==gameMapInstance.Qg?gameMapInstance.hc(U.kC):(gameMapInstance.Tc(U.kC),gameMapInstance.O.x=-(M.width-Y.width),M.height<Y.height&&(gameMapInstance.O.y=(Y.height-M.height)/2),M.width<Y.width&&(gameMapInstance.O.x=(Y.width-M.width)/2),gameMapInstance.o(gameMapInstance.O.x,gameMapInstance.O.y))};
U.jC=function(){!0==gameMapInstance.Qg?gameMapInstance.hc(U.jC):(gameMapInstance.Tc(U.jC),gameMapInstance.O.x=0,M.height<Y.height&&(gameMapInstance.O.y=(Y.height-M.height)/2),M.width<Y.width&&(gameMapInstance.O.x=(Y.width-M.width)/2),gameMapInstance.o(gameMapInstance.O.x,gameMapInstance.O.y))};
U.iC=function(){!0==gameMapInstance.Qg?gameMapInstance.hc(U.iC):(gameMapInstance.Tc(U.iC),gameMapInstance.O.y=-(M.height-Y.height),M.height<Y.height&&(gameMapInstance.O.y=(Y.height-M.height)/2),M.width<Y.width&&(gameMapInstance.O.x=(Y.width-M.width)/2),gameMapInstance.o(gameMapInstance.O.x,gameMapInstance.O.y))};
U.lC=function(){!0==gameMapInstance.Qg?gameMapInstance.hc(U.lC):(gameMapInstance.Tc(U.lC),gameMapInstance.O.y=0,M.height<Y.height&&(gameMapInstance.O.y=(Y.height-M.height)/2),M.width<Y.width&&(gameMapInstance.O.x=(Y.width-M.width)/2),gameMapInstance.o(gameMapInstance.O.x,gameMapInstance.O.y))};
U.create=function(){gameMapInstance||(gameMapInstance=new U,gameMapInstance.C=wa(gameMapInstance),gameMapInstance.g(gameMapInstance.C),gameMapInstance.Hn=q.Gb.create(M.width,M.height),gameMapInstance.Hn.o(q.a(Math.floor(M.width/2),Math.floor(M.height/2))),gameMapInstance.g(gameMapInstance.Hn),gameMapInstance.Hn.D(!1),gameMapInstance.RC=q.H.create(),gameMapInstance.g(gameMapInstance.RC),gameMapInstance.pn=q.Gb.create(M.width,M.height),gameMapInstance.pn.o(q.a(Math.floor(M.width/2),Math.floor(M.height/
2))),gameMapInstance.g(gameMapInstance.pn),gameMapInstance.pn.D(!1),gameMapInstance.ux(-15),gameMapInstance.v());return gameMapInstance};U.f=function(){return gameMapInstance};U.Ps=function(){gameMapInstance.R();gameMapInstance=null};U.et=function(){gameMapInstance||(gameMapInstance=U.create());gameMapInstance.Qg=!0};U.ZW=function(a){gameMapInstance.YW(a)};U.f=function(){return gameMapInstance};U.ok=function(a,c,d,e){gameMapInstance.C[a].ok(c,d,e);gameMapInstance.ee[a][e]={texture:c,frame:d}};
U.uL=function(){R.PB();A({savemap:gameMapInstance.Wi,mapdata:gameMapInstance.ee})};U.OB=function(a,c){gameMapInstance.ee[a][c]=null;gameMapInstance.C[a].OB(c)};U.Il=function(a,c,d,e){gameMapInstance.C[a].mj(c);null!=d&&"undefined"!==d?(gameMapInstance.C[a].rx(d,e),gameMapInstance.ee[a].info={type:c,script:{id:d+"",data:null!=e&&"undefined"!==e?e:null}}):gameMapInstance.ee[a].info={type:c}};
U.lK=function(a){gameMapInstance.ee.mapdata.mapConnectors=a;gameMapInstance.vl=a.up;gameMapInstance.sl=a.down;gameMapInstance.tl=a.left;gameMapInstance.ul=a.right};U.VR=function(a,c,d){for(var e in gameMapInstance.C)"tile"==e.substring(0,4)&&(gameMapInstance.C[e].ok(a,c,d),gameMapInstance.ee[e][d]={texture:a,frame:c})};U.FK=function(a){for(var c in gameMapInstance.C)"tile"==c.substring(0,4)&&gameMapInstance.C[c].NW(a);SkillBarsInstance.D(!a);Z.D(!a);gameMapInstance.Qg=!0};
U.vaa=function(){for(var a in gameMapInstance.C)"tile"==a.substring(0,4)&&gameMapInstance.C[a].string.ja(a.substring(4));gameMapInstance.Qg=!0};U.qI=function(){return null!=gameMapInstance.vl};U.oI=function(){return null!=gameMapInstance.sl};U.pI=function(){return null!=gameMapInstance.tl};U.nC=function(){return null!=gameMapInstance.ul};U.Zd=function(){return gameMapInstance.Wi};U.$H=function(){return gameMapInstance.vl};U.YH=function(){return gameMapInstance.sl};U.ZH=function(){return gameMapInstance.tl};
U.bC=function(){return gameMapInstance.ul};U.Cp=function(a,c){c||(MapMaster=!1);R.f().D(!1);R.PB();U.hf();gameMapInstance.Wi=a;R.u.$.Rp(a);R.qk();gameMapInstance.Kl(a)};U.US=function(a){R.PB();U.hf();gameMapInstance.Wi=a;gameMapInstance.Kl(a)};U.TS=function(){R.f().D(!1);U.hf();gameMapInstance.Wi=gameMapInstance.vl;R.u.$.Rp(gameMapInstance.vl);R.qk();gameMapInstance.Kl(gameMapInstance.vl)};
U.QS=function(){R.f().D(!1);U.hf();gameMapInstance.Wi=gameMapInstance.sl;R.u.$.Rp(gameMapInstance.sl);R.qk();gameMapInstance.Kl(gameMapInstance.sl)};U.RS=function(){R.f().D(!1);U.hf();gameMapInstance.Wi=gameMapInstance.tl;R.u.$.Rp(gameMapInstance.tl);R.qk();gameMapInstance.Kl(gameMapInstance.tl)};U.SS=function(){R.f().D(!1);U.hf();gameMapInstance.Wi=gameMapInstance.ul;R.u.$.Rp(gameMapInstance.ul);R.qk();gameMapInstance.Kl(gameMapInstance.ul)};U.Qs=function(a){gameMapInstance.dn=a};
U.Fw=function(a,c){return a>P-1||0>a?void 0:gameMapInstance.C["tile"+(a+(O-c)*P)]};U.qS=function(a,c){for(var d in R.f().be){var e=R.f().be[d].Yd();if(e.x==a&&e.y==c)return R.f().be[d]}return null};U.jI=function(a){return gameMapInstance.C["tile"+a]};U.zQ=function(){var a=R.f();gameMapInstance.RC.g(a);U.cn(R.u.$.t.J,R.u.$.t.P)};
U.hf=function(){gameMapInstance.ee={};for(var a in gameMapInstance.C)"tile"==a.substring(0,4)&&(gameMapInstance.C[a].hf(),gameMapInstance.ee[a]={});gameMapInstance.ee.mapdata={};gameMapInstance.Qg=!0};var R=q.Hc.extend({u:null,oc:[],be:[],$:null});R.f=function(){return this.u};R.Ps=function(){this.u.R();this.u=null};R.create=function(a){this.u||(this.u=new R,this.u.$=PlayerCharacter.create(a),this.u.g(this.u.$));return this.u};R.DM=function(){var a=U.Zd(),c=[],d;for(d in this.u.be)this.u.be[d].gg==a&&c.push(this.u.be[d]);return c};R.wp=function(a){return this.u.be[a]};R.UT=function(a,c,d){this.u.be[a]&&"default"!=c&&this.u.$.gg==d&&this.u.be[a].xL(c)};
R.nV=function(a,c){this.u.be[a]&&"default"!=c&&this.u.be[a].o(q.a(c%P*32,32*Math.floor(c/P)))};R.PB=function(){for(var a in this.u.be)this.u.be[a].R();this.u.be=[]};R.bH=function(a,c,d){var e=parseInt(this.u.be.length);this.u.be.push(NonPlayerCharacter.create({name:a.name,Dn:{health:{Qc:1,value:100,eg:200,dg:900},mana:{Qc:1,value:100,eg:200,dg:99}},map:d,Zs:"sprites1.png",Xs:a.sprite.number,pl:e,$a:a.script}));this.u.be[e].o(32*c.x,32*c.y);this.u.g(this.u.be[e])};R.d6=function(){return this.u.$};
R.mi=function(a){return this.u.oc[a]};R.yQ=function(a){this.u.oc[a.id]=PlayerCharacter.create({name:a.id,Dn:{health:{Qc:1,value:100,eg:200,dg:900},mana:{Qc:1,value:100,eg:200,dg:99}},map:a.location.mapnumber,Zs:"sprites1.png",Xs:1});var c=a.location.position;this.u.oc[a.id].o(c%P*32,32*Math.floor(c/P));R.qk();this.u.g(this.u.oc[a.id]);c=I["Join Message"]+"";c=c.replace("\x3cPLAYER\x3e",a.id);S.ub(c)};
R.xH=function(a){if(this.u.oc[a]){this.u.oc[a].R();this.u.oc[a]=null;var c=I["Leave Message"]+"",c=c.replace("\x3cPLAYER\x3e",a);S.ub(c);for(c=0;c<C.length;c++){var d=JSON.parse(C[c]);d.id&&d.id==a&&(C.splice(c,1),c--)}}};
R.VT=function(a){console.log(a.location.position);if(this.u.oc[a.id])this.u.oc[a.id].xL(a.location.position);else{this.u.oc[id]=PlayerCharacter.create({name:a.id,Dn:{health:{Qc:1,value:100,eg:200,dg:900},mana:{Qc:1,value:100,eg:200,dg:99}},map:a.location.mapnumber,Zs:"sprites1.png",Xs:1});var c=a.location.position;this.u.oc[id].o(q.a(c%P*32,32*Math.floor(c/P)));R.qk();this.u.g(this.u.oc[a.id]);c=I["Join Message"]+"";c=c.replace("\x3cPLAYER\x3e",a.id);S.ub(c)}};
R.zU=function(a){if(this.u.oc[a.id])this.u.oc[a.id].o(q.a(a.location.position%P*32,32*Math.floor(a.location.position/P)));else{this.u.oc[a.id]=PlayerCharacter.create({name:a.id,Dn:{health:{Qc:1,value:100,eg:200,dg:900},mana:{Qc:1,value:100,eg:200,dg:99}},map:a.location.mapnumber,Zs:"sprites1.png",Xs:1});var c=a.location.position;this.u.oc[a.id].o(q.a(c%P*32,32*Math.floor(c/P)));R.qk();this.u.g(this.u.oc[a.id]);S.ub(a.id+x.Ee.vU)}};R.VQ=function(a){this.u.oc[a]&&this.u.oc[a].updateStatus("AFK")};
R.qk=function(){var a=this.u.$.gg,c;for(c in this.u.oc)null!=this.u.oc[c]&&this.u.oc[c].D(this.u.oc[c].gg==a)};R.hf=function(){for(var a in this.u.oc)null!=this.u.oc[a]&&R.xH(a);this.u.$.R();this.u.$=null};R.UQ=function(a,c){this.u.oc[a].Rp(c);this.u.oc[a].D(this.u.$.gg==c)};Character=q.A.extend({name:null,Dn:null,hL:null,U0:null,qf:null,Rg:!1,ln:null,Dx:null,fj:!1,pl:-1,status:null,gg:null,path:null,WB:"DOWN",v:function(a){this.PW(a.Zs,a.Xs);this.Dn=new StatsController(a.dba,this);this.g(this.Dn);this.name=a.name;a.$a&&(this.$a=a.$a);a.fj&&(this.fj=a.fj);a.map&&(this.gg=a.map);null!=a.pl&&"undefined"!==a.pl&&(console.log(this.pl),this.pl=a.pl);this.G(0,1);this.ln=q.V.create("","Arial",12);this.ln.G(0.5,0);this.ln.q(255,0,0);this.ln.o(Math.floor(this.c().width/2),this.c().width+
3);this.g(this.ln);this.qL()},H3:function(){return this.WB},Rp:function(a){this.gg=a},f4:function(){return this.gg},updateStatus:function(a){this.status=a&&a!=this.status?a:null;this.qL()},qL:function(){null!=this.status?this.ln.ja(this.name+"-"+this.status):this.ln.ja(this.name)},getName:function(){return this.name},Jf:function(a,c,d){this.ib(q.rect(a*Ba,4*this.hL.id*Ba+c*Ba,Ba,Ba));this.Dx=q.a(a,c);this.WB=d},Ah:function(){return this.Dx},PW:function(a,c){this.hL={name:a,id:c};this.ma(q.ka.f().va(a));
this.Jf(1,0)},Yd:function(){return q.a(this.t.x/N,this.t.y/N)},lw:0.24,DX:0.24,fl:2,FX:function(a){var c=a.position%P,d=Math.floor(a.position/P);this.o(c*N,d*N);A({changemap:a.mapTo,setTo:a.position});U.Cp(a.mapTo);U.cn(c*N,d*N)},zT:function(){if(!this.Rg){var a=this.Yd(),a=U.Fw(a.x,a.y);switch(a.Bc()){case 4:this.QC(a.Bp())}}},DI:function(a){if(a&&!this.Rg)switch(a.Bc()){case 4:this.tU(a.Bp(),a);break;case 7:L.WK(a.Bp())}},yT:function(){if(!this.Rg){var a=this.Yd();switch(this.WB){case "RIGHT":a.x+=
1;break;case "LEFT":a.x-=1;break;case "UP":a.y+=1;break;case "DOWN":a.y-=1}var c=U.qS(a.x,a.y);if(c)Fa("Default Event",c);else if(a=U.Fw(a.x,a.y))switch(a.Bc()){case 7:L.WK(a.Bp())}}},ft:function(a){this.lw+=a;a=this.t;var c=this.Ah();this.lw>this.DX&&(this.lw=0,this.qf.x<a.x?this.Jf((c.x+1)%3,1,"LEFT"):this.qf.x>a.x?this.Jf((c.x+1)%3,2,"RIGHT"):this.qf.y<a.y?this.Jf((c.x+1)%3,0,"DOWN"):this.qf.y>a.y&&this.Jf((c.x+1)%3,3,"UP"));this.qf.x<a.x?(this.Db(a.x-this.fl),this.fj&&U.updateOffset(+this.fl,
0)):this.qf.x>a.x?(this.Db(a.x+this.fl),this.fj&&U.updateOffset(-this.fl,0)):this.qf.y<a.y?(this.Gc(a.y-this.fl),this.fj&&U.updateOffset(0,this.fl)):this.qf.y>a.y&&(this.Gc(a.y+this.fl),this.fj&&U.updateOffset(0,-this.fl));a.y==this.qf.y&&a.x==this.qf.x&&(this.Rg=!1,this.Tc(this.ft),null!=this.path&&this.iH())},bq:function(a,c){if(!1!=this.ta){var d=U.Fw(a,c),e=this.Dx,f=this.Yd();f.x>a?this.Jf(e.x,1,"LEFT"):f.x<a&&this.Jf(e.x,2,"RIGHT");f.y>c?this.Jf(e.x,0,"DOWN"):f.y<c&&this.Jf(e.x,3,"UP");if(!d)this.fj&&
null==Mapeditor&&(f.x<a&&U.nC()?(this.o(0,N*c),A({changemap:parseInt(U.bC()),setTo:0+c*P}),U.SS(),U.jC()):f.x>a&&U.pI()&&(this.o(N*(P-1),N*c),A({changemap:parseInt(U.ZH()),setTo:P-1+c*P}),U.RS(),U.kC()),f.y<c&&U.qI()?(this.o(N*a,N),A({changemap:parseInt(U.$H()),setTo:a+1*P}),U.TS(),U.lC()):f.y>c&&U.oI()&&(A({changemap:parseInt(U.YH()),setTo:a+O*P}),U.QS(),this.o(N*a,N*O),U.iC()));else if(!1==this.Rg&&d){switch(d.Bc()){case 1:case 7:return;case 3:this.FX(d.kf());return}this.qf=q.a(N*a,N*c);this.Rg=
!0;this.hc(this.ft);this.ft(0);this.fj?A({moveTo:this.qf.x/N+this.qf.y/N*P}):-1<this.pl&&A({npcID:this.pl+"",mapnumber:this.gg,moveNPC:this.qf.x/N+this.qf.y/N*P})}}},iH:function(){0==this.path.length?this.path=null:(this.path.splice(0,1),0==this.path.length?this.path=null:this.bq(this.path[0].x,this.path[0].y))},BD:function(a){if(null==this.path||0!=a.length)this.path=a,this.iH()},xL:function(a){if(!1!=this.ta){var c=a%P;a=Math.floor(a/P);if(!1==this.Rg){var d=this.Dx,e=this.Yd();4<Math.abs(q.LC(q.a(c,
a),e))?this.o(q.a(N*c,N*a)):(e.x>c?this.Jf(d.x,1,"LEFT"):e.x<c?this.Jf(d.x,2,"RIGHT"):e.y>a?this.Jf(d.x,0,"DOWN"):e.y<a&&this.Jf(d.x,3,"UP"),this.qf=q.a(N*c,N*a),this.Rg=!0,this.hc(this.ft),this.ft(0))}}}});
PlayerCharacter=Character.extend({items:null,mp:3,ji:null,Al:null,v:function(a){this._super(a);this.ji=[];this.Al=[];a.mp&&(this.mp=a.mp);this.items={stored:[],equipped:{}};if(a.position){var c=a.position%P,d=Math.floor(a.position/P);this.o(c*N,d*N);U.US(a.map);U.cn(c*N,d*N);this.gg=a.map}a.FI&&(this.items.stored=a.FI);a.ji&&(this.ji=a.ji);a.Al&&(this.Al=a.Al);if(a.GH){this.items.equipped=a.GH;for(var e in this.items.equipped)Ea("Default Event",this.items.equipped[e],{"Equip Item":!0,"Give /Take Item":!0,
"Warp Player":!0,"Read Item":!0,"Open/Close Panel":!0,Destroy:!0})}this.dR()},dR:function(){this.ji=[];A({saveUserExtra:[],name:this.getName()})},eK:function(a,c){this.ji[a]=c;A({saveUserExtra:this.ji,name:this.getName()})},Aw:function(a){return this.ji[a]?this.ji[a]:null},wK:function(a,c){this.Al[a]=c},$i:function(a){return this.Al[a]},dt:function(a,c){for(var d=0;d<this.items.stored.length;d++)this.items.stored[d]&&this.items.stored[d].name==a&&(this.items.stored[d]=c);console.log(this.items)},
QC:function(a){var c=this.Yd(),d=U.Fw(c.x,c.y);Ea("On Pickup",a);if(a){if(!0==a.stackable)for(var e=0;40>e;e++)if(this.items.stored[e]&&this.items.stored[e].name==a.name){Inventory&&(this.items.stored[e].amount+=a.amount,Inventory.si(e,this.items.stored[e].amount));S.ub(x.Ee.Xw+a.name);d.Ew().temp?A({pickupitem:Q(c.x,c.y),mapnumber:U.Zd(),temp:!0}):A({pickupitem:Q(c.x,c.y),mapnumber:U.Zd()});console.log(this.items);return}for(var f=!1,e=0;40>e;e++)if(null==this.items.stored[e]){this.items.stored[e]=
K(a);Inventory&&Inventory.si(e,this.items.stored[e].amount);S.ub(x.Ee.Xw+a.name);d.Ew().temp?A({pickupitem:Q(c.x,c.y),mapnumber:U.Zd(),temp:!0}):A({pickupitem:Q(c.x,c.y),mapnumber:U.Zd()});f=!0;break}!1==f&&S.ub(x.Ee.GI)}Inventory&&Inventory.yb();Equipment&&Equipment.yb()},tU:function(a,c){var d=q.a(c.t.J/N,c.t.P/N);Ea("On Pickup",c);if(a){if(!0==a.stackable)for(var e=0;40>e;e++)if(this.items.stored[e]&&this.items.stored[e].name==a.name){Inventory&&(this.items.stored[e].amount+=a.amount,Inventory.si(e,
this.items.stored[e].amount));S.ub(x.Ee.Xw+a.name);c.Ew().temp?A({pickupitem:Q(d.x,d.y),mapnumber:U.Zd(),temp:!0}):A({pickupitem:Q(d.x,d.y),mapnumber:U.Zd()});return}for(var f=!1,e=0;40>e;e++)if(null==this.items.stored[e]){this.items.stored[e]=K(a);Inventory&&Inventory.si(e,this.items.stored[e].amount);S.ub(x.Ee.Xw+a.name);c.Ew().temp?A({pickupitem:Q(d.x,d.y),mapnumber:U.Zd(),temp:!0}):A({pickupitem:Q(d.x,d.y),mapnumber:U.Zd()});f=!0;break}!1==f&&S.ub(x.Ee.GI)}Inventory&&Inventory.yb();Equipment&&
Equipment.yb()},TB:function(a,c){var d=this.Yd();Ea("On Drop",this.items[c][a]);this.items[c][a]&&(S.ub(x.Ee.OR+this.items[c][a].name),A({droppeditem:this.items[c][a],mapnumber:U.Zd(),index:Q(d.x,d.y)}),!0==this.items[c][a].stackable&&1<this.items[c][a].amount&&Inventory.si(a,0),this.items[c][a]=null);Inventory&&Inventory.yb();Equipment&&Equipment.yb()},BX:function(a){Ea("Default Event",this.items.stored[a]);Inventory&&Inventory.yb();Equipment&&Equipment.yb()},BR:function(a){for(var c=0;40>c;c++)if(null==
this.items.stored[c]){this.items.stored[c]=K(this.items.equipped[a]);this.items.equipped[a]=null;Inventory&&Inventory.yb();Equipment&&Equipment.yb();Ea("On Dequip",this.items.stored[c]);return}S.ub("No space in inventory to dequip this item.")},kl:function(){return this.items.stored},vp:function(){return this.items.equipped}});PlayerCharacter.create=function(a){var c=new PlayerCharacter;c.v(a);return c};
NonPlayerCharacter=Character.extend({P7:null,Yw:!1,DW:function(a,c){this.Yw=!0;this.md(function(){this.bq(a.x,a.y);this.Yw=!1},c)},d7:function(){return this.Yw}});NonPlayerCharacter.create=function(a){var c=new NonPlayerCharacter;c.v(a);return c};var Ga=q.Hc.extend({hD:null,b:null,KC:function(){},ctor:function(){this._super()},yL:function(){},An:function(){},jj:function(){},ya:function(){this.b&&this.b.R();this.b=wa(this);this.g(this.b)},Fa:function(){},v:function(){this.HK(1);this.jx(!0);this.bc(!0);G.yn(this);this._super()},JC:function(){q.log("Override onKeyDown in scene extended class to use keyboard")},xl:function(){q.log("Override onKeyUp in scene extended class to use keyboard")},fW:function(a){this.hD=a},Fc:function(){return this.hD}});DropDownList=Ga.extend({list:null,rR:null,selected:null,b:null,n:null,vH:null,AJ:null,Vs:null,ctor:function(){this._super();this.list=[];this.rR=0},v:function(a,c,d,e){this._super();a&&(this.n=a,this.vH=c,d&&(this.list=d),e&&this.o(e),this.AJ=G.$R(),G.yn(this),this.ux(-1001),this.jx(!0))},vb:function(a){for(var c=this.b.control_menu.Oa(a.S),d=0;d<this.list.length;d++)this.Vs&&!0!=this.Vs[d].enabled||q.hb(q.rect(this.b.control_menu[d+""].t.J,this.b.control_menu[d+""].t.P,this.b.control_menu[d+""].c().width,
this.b.control_menu[d+""].c().height),c)&&this.vH(d,a);this.GU();return!0},GU:function(){G.yn(this.AJ);this.R();va()},oV:function(){this.Gc(this.t.P-24*this.list.length);for(var a=0,c=0;c<this.list.length;c++)this.b.control_menu[c+""].content.c().width>a&&(a=this.b.control_menu[c+""].content.c().width);for(c=0;c<this.list.length;c++)this.b.control_menu[c+""].U(a+8,this.b.control_menu[c+""].c().height);this.b.control_menu.U(a+8,this.b.control_menu.c().height)},uc:function(){for(var a={},c=0;c<this.list.length;c++)a[c+
""]={position:q.a(0,24*(this.list.length-1)-24*c),size:q.size(96,24),e:q.a(0,0),color:q.j(200,200,200,200),children:{content:{label:this.list[c],fontSize:20,color:q.l(0,0,0),e:q.a(0,0.5),position:q.a(4,12)}}};return{panels:{children:{control_menu:{position:q.a(0,0),color:q.j(200,200,200,0),size:q.size(96,48),children:a}}}}},jj:function(a){a=this.b.control_menu.Oa(a.S);for(var c=0;c<this.list.length;c++)this.b.control_menu[c+""].q(q.j(200,200,200,200)),this.Vs&&!0!=this.Vs[c].enabled||q.hb(q.rect(this.b.control_menu[c+
""].t.J,this.b.control_menu[c+""].t.P,this.b.control_menu[c+""].c().width,this.b.control_menu[c+""].c().height),a)&&this.b.control_menu[c+""].q(q.j(255,0,0,255))}});DropDownList.yd=function(a,c,d,e,f){var g=new DropDownList;g.v(a,c,d,e);g.b=wa(g.uc(),!0);if(f){for(a=0;a<g.list.length;a++)!1==f[a].enabled&&g.b.control_menu[a+""].content.q(q.j(127,127,127,200));g.Vs=f}g.g(g.b);g.oV();return g};Popup=Ga.extend({Me:null,Ng:!1,v:function(){this.hD=this.Fc();this._super();G.yn(this)},p2:function(){this.R()},vb:function(a){var c=a.S;G.yn(this);c=this.b.control_panel.Oa(c);if(q.hb(q.rect(this.b.control_panel.exitBtn.t.J,this.b.control_panel.exitBtn.t.P,this.b.control_panel.exitBtn.c().width,this.b.control_panel.exitBtn.c().height),c)){var d=this;this.ba.md(function(){!1==d.Ng&&d.Fa();d.R();d=null});return!0}q.hb(q.rect(this.b.t.x,this.b.t.y+this.b.control_panel.t.y,this.b.control_panel.c().width,
this.b.control_panel.c().height),a.S)&&(this.Me=this.b.fi(a));return!0},Ad:function(a){return this.Me?(a=a.S,this.b.o(q.a(a.x-this.Me.x,a.y-this.Me.y)),!0):!1},R:function(){V.xW(this.Fc(),this.b.t);this._super()},Fc:function(){q.log("No id given... using default 'Popup'");return"Popup"},ya:function(){this._super();var a=V.uS();if("null"!=a&&null!=a&&(a=JSON.parse(a)[this.Fc()])){a=q.a(a.x,a.y);if(a.x>Y.width-10||a.y>Y.height)a=q.a(8,100);this.b.o(a)}}});Book=null;
BookPanel=Popup.extend({name:null,content:null,ig:null,Fc:function(){return"Book"},uc:function(){return{panels:{position:q.a(100,20),children:{main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(514,313),ca:"GUI/book.png",children:{pageBackbtn:{position:q.a(2,1),size:q.size(36,36),ca:"GUI/btnLeft.png",e:q.a(0,0)},pageForwardbtn:{position:q.a(475,1),size:q.size(36,36),ca:"GUI/btnRight.png",e:q.a(0,0)},leftPage:{label:this.ig[0],e:q.a(0,1),position:q.a(4,308),color:q.l(0,0,0)},rightPage:{label:1<this.ig.length?
this.ig[1]:"",e:q.a(0,1),position:q.a(260,308),color:q.l(0,0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,313),size:q.size(514,32),children:{header:{label:this.name,fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(490,6),size:q.size(20,20),e:q.a(0,0),ca:"GUI/close.png"}}}}}}},v:function(a,c){this._super();this.name=a;this.content=c;this.ig=[];for(var d=c;d;)if(470>d.length){this.ig.push(d);break}else this.ig.push(d.substr(0,470)+"..."),d=d.substr(470);this.pU=Math.floor(this.ig.length/
2)-1;this.Xi=0},ya:function(){this._super();this.b.main_panel.leftPage.Eb(q.size(248,0));this.b.main_panel.rightPage.Eb(q.size(248,0));this.b.main_panel.pageBackbtn.D(!1);2>this.ig.length&&this.b.main_panel.pageForwardbtn.D(!1)},VS:function(){this.Xi++;this.b.main_panel.pageBackbtn.D(!0);this.Xi==this.pU&&this.b.main_panel.pageForwardbtn.D(!1);this.b.main_panel.leftPage.ja(this.ig[2*this.Xi]);this.ig[2*this.Xi+1]?this.b.main_panel.rightPage.ja(this.ig[2*this.Xi+1]):this.b.main_panel.rightPage.ja("")},
WS:function(){this.Xi--;this.b.main_panel.pageForwardbtn.D(!0);0==this.Xi&&this.b.main_panel.pageBackbtn.D(!1);this.b.main_panel.leftPage.ja(this.ig[2*this.Xi]);this.ig[2*this.Xi+1]&&this.b.main_panel.rightPage.ja(this.ig[2*this.Xi+1])},vb:function(a){if(this._super(a))return!0;this.Me=null;a=this.b.main_panel.Oa(a.S);if(J(this.b.main_panel.pageForwardbtn,a))return this.VS(),!0;if(J(this.b.main_panel.pageBackbtn,a))return this.WS(),!0}});NpcChat=null;
NpcChatPanel=Popup.extend({name:null,content:null,qw:null,$a:null,HH:null,iJ:null,I:null,Fc:function(){return"Book"},uc:function(){return{panels:{position:q.a(100,20),children:{main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(512,138),ca:"GUI/npctalk.png",children:{chatText:{label:this.content?this.content:"",e:q.a(0,1),position:q.a(138,134),color:q.l(0,0,0)},list:{size:q.size(320,80),position:q.a(154,4),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,138),size:q.size(512,32),children:{header:{label:this.name?
this.name:"",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(488,6),size:q.size(20,20),e:q.a(0,0),ca:"GUI/close.png"}}}}}}},lb:function(){this.I&&this.I.fc();var a=[],c=[];q.ka.f();for(var d in this.qw){a[d]=q.H.create();a[d].U(324,32);var e=q.ia.create(q.j(200,200,200,200),300,10);e.o(q.a(12,1));var f=q.V.create("\x3e"+this.qw[d],"Arial",14);f.G(q.a(0,0));f.o(q.a(4,2));f.Eb(q.size(300,0));f.q(q.l(100,0,0));a[d].g(e);e.g(f);a[d].U(324,f.c().height+8);e.U(300,f.c().height+4);e.ac=
"Use";c.push([e])}this.I=this.b.main_panel.list;var g=this;this.I.Zc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(324,c)};this.I.Pc=function(){return a.length};this.I.kd=function(c){return a[c].c()};this.I.hd=function(c){return a[c]};this.I.gc=function(a,c){switch(a){case "Use":L.iT(),Fa("On Talk Option Selected for event:"+g.HH+", option:"+c,g.iJ)}};this.I.ga=ListView.create(this.I);this.I.ga.nd(c);this.I.g(this.I.ga)},v:function(a,c,d,e,f,g){this._super();this.name=
e;this.content=f;this.$a=c;this.HH=d;this.iJ=a;g&&(this.qw=g)},ya:function(){this._super();this.b.main_panel.chatText.Eb(q.size(350,0));this.qw&&this.lb()},vb:function(a){if(this._super(a))return!0}});Equipment=null;
EquipmentPanel=Popup.extend({Fc:function(){return"Equipment"},uc:function(){var a={};a.head={ca:"GUI/defaultitem.png",position:q.a(88,162),size:q.size(32,32),e:q.a(0,1)};a.legs={ca:"GUI/defaultitem.png",position:q.a(88,82),size:q.size(32,32),e:q.a(0,1)};a.feet={ca:"GUI/defaultitem.png",position:q.a(88,40),size:q.size(32,32),e:q.a(0,1)};a.body={ca:"GUI/defaultitem.png",position:q.a(88,122),size:q.size(32,32),e:q.a(0,1)};a.lArm={ca:"GUI/defaultitem.png",position:q.a(48,122),size:q.size(32,32),e:q.a(0,
1)};a.rArm={ca:"GUI/defaultitem.png",position:q.a(128,122),size:q.size(32,32),e:q.a(0,1)};a.mod={ca:"GUI/defaultitem.png",position:q.a(8,162),size:q.size(32,32),e:q.a(0,1)};return{panels:{position:q.a(100,300),children:{main_panel:{e:q.a(0,0),size:q.size(168,168),ca:"GUI/equipment.png",children:a},control_panel:{e:q.a(0,0),position:q.a(0,168),size:q.size(168,32),children:{header:{label:I["Equipment Header"],fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(144,6),size:q.size(20,20),
e:q.a(0,0),ca:"GUI/close.png"}}},item_name:{position:q.a(0,0),color:q.j(200,200,200,200),size:q.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:q.l(0,0,0),e:q.a(0.5,0.5),position:q.a(32,8)}}}}}}},yb:function(){var a=R.u.$.vp();this.b.main_panel.head.ma(q.ka.f().va("GUI/defaultitem.png"));this.b.main_panel.body.ma(q.ka.f().va("GUI/defaultitem.png"));this.b.main_panel.legs.ma(q.ka.f().va("GUI/defaultitem.png"));this.b.main_panel.feet.ma(q.ka.f().va("GUI/defaultitem.png"));this.b.main_panel.lArm.ma(q.ka.f().va("GUI/defaultitem.png"));
this.b.main_panel.rArm.ma(q.ka.f().va("GUI/defaultitem.png"));this.b.main_panel.mod.ma(q.ka.f().va("GUI/defaultitem.png"));for(var c in a)if(a[c]){for(var d in y)if(y[d].name==a[c].sprite.texture)var e=y[d].texture;this.b.main_panel[c].G(0,1);this.b.main_panel[c].ma(e);this.b.main_panel[c].ib(q.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,32,32))}},Rw:function(a){switch(a){case 0:R.u.$.BR(this.n.hj);break;case 1:R.u.$.TB(this.n.hj,"equipped")}},vb:function(a){if(this._super(a))return!0;
this.Me=null;var c=this.b.main_panel.Oa(a.S),d=R.u.$.vp(),e;for(e in d)if(d[e]&&J(this.b.main_panel[e],q.a(c.x,c.y+32)))return this.hj=e,this.b.item_name.D(!1),c=I["Item Dropdown Unequip"]+"",c=c.replace("\x3cITEM\x3e",R.u.$.vp()[e].name),d=I["Item Dropdown Drop"]+"",d=d.replace("\x3cITEM\x3e",R.u.$.vp()[e].name),this.g(DropDownList.yd(this,this.Rw,[c,d],a.S)),!0},jj:function(a){a=this.b.main_panel.Oa(a.S);this.b.item_name.D(!1);var c=R.u.$.vp(),d;for(d in c)if(c[d]&&J(this.b.main_panel[d],q.a(a.x,
a.y+32)))return this.b.item_name.content.ja(c[d].name),this.b.item_name.D(!0),this.b.item_name.U(this.b.item_name.content.c()),this.b.item_name.content.Db(this.b.item_name.content.c().width/2),this.b.item_name.o(q.a(this.b.main_panel[d].t.J-this.b.item_name.content.c().width/2+16,this.b.main_panel[d].t.P)),!0},Ls:function(){this.b.main_panel.head.fa()&&(this.Tc(this.Ls),this.yb())},ya:function(){this._super();this.b.main_panel.head.fa()?this.yb():this.hc(this.Ls)}});Inventory=null;
InventoryPanel=Popup.extend({hj:null,CC:!1,Fc:function(){return"Inventory"},uc:function(){for(var a={},c=0;5>c;c++)for(var d=0;8>d;d++)a[5*d+c+""]={size:q.size(32,32),position:q.a(40*c+8,40*(7-d)+40),ca:"GUI/defaultitem.png",e:q.a(0,1),children:{stacklabelbg:{position:q.a(1,1),size:q.size(10,6),e:q.a(0,0),color:q.j(255,255,255,200),children:{stacklabel:{label:"",fontSize:10,color:q.l(0,0,0),e:q.a(0,0),position:q.a(0,0)}}}}};return{panels:{position:q.a(300,200),children:{main_panel:{e:q.a(0,0),ca:"GUI/inventory.png",
size:q.size(208,328),children:a},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(208,32),children:{header:{label:I["Inventory Header"],fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(184,6),size:q.size(20,20),e:q.a(0,0),ca:"GUI/close.png"}}},item_name:{position:q.a(0,0),color:q.j(200,200,200,200),size:q.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:q.l(0,0,0),e:q.a(0.5,0.5),position:q.a(32,8)}}}}}}},si:function(a,c){this.b.main_panel[a+""].stacklabelbg.D(!1);
1<c&&(this.b.main_panel[a+""].stacklabelbg.D(!0),this.b.main_panel[a+""].stacklabelbg.stacklabel.ja(c),this.b.main_panel[a+""].stacklabelbg.U(this.b.main_panel[a+""].stacklabelbg.stacklabel.c()))},yb:function(){for(var a=R.u.$.kl(),c=0;40>c;c++)if(a[c]){for(var d in y)if(y[d].name==a[c].sprite.texture)var e=y[d].texture;this.b.main_panel[c+""].G(0,1);this.b.main_panel[c+""].ma(e);this.b.main_panel[c+""].ib(q.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,32,32));this.si(c,a[c].amount)}else this.b.main_panel[c+
""].ma(q.ka.f().va("GUI/defaultitem.png")),this.si(c,0)},Ls:function(){this.b.main_panel[pa+""].fa()&&(this.Tc(this.Ls),this.yb())},ya:function(){this._super();this.b.main_panel[pa+""].fa()?this.yb():this.hc(this.Ls)},Rw:function(a){switch(a){case 0:!0==this.n.CC?R.u.$.BX(this.n.hj):R.u.$.TB(this.n.hj,"stored");break;case 1:R.u.$.TB(this.n.hj,"stored")}this.n.CC=!1},vb:function(a){if(this._super(a))return!0;this.Me=null;for(var c=this.b.main_panel.Oa(a.S),d=0;40>d;d++)if(R.u.$.kl()[d]&&J(this.b.main_panel[d+
""],q.a(c.x,c.y+32))){var e=R.u.$.kl()[d],c=[];e.script&&(c=ObjectLists.aj()[e.script].data);for(var e=null,f=0;f<c.length;f++)if("Default Event"==c[f].type)for(var e="Use Item",g=c[f].responses,h=0;h<g.length;h++)switch(console.log(g[h].type),g[h].type){case "Equip Item":e=I["Item Dropdown Equip"]+"";break;case "Read Item":e=I["Item Dropdown Read"]+""}c=I["Item Dropdown Drop"]+"";c=c.replace("\x3cITEM\x3e",R.u.$.kl()[d].name);e?(this.CC=!0,e=e.replace("\x3cITEM\x3e",R.u.$.kl()[d].name),this.g(DropDownList.yd(this,
this.Rw,[e,c],a.S))):this.g(DropDownList.yd(this,this.Rw,[c],a.S));this.hj=d;this.b.item_name.D(!1);return!0}},jj:function(a){a=this.b.main_panel.Oa(a.S);for(var c=0;40>c;c++)if(R.u.$.kl()[c]&&J(this.b.main_panel[c+""],q.a(a.x,a.y+32)))return this.b.item_name.content.ja(R.u.$.kl()[c].name),this.b.item_name.D(!0),this.b.item_name.U(this.b.item_name.content.c()),this.b.item_name.content.Db(this.b.item_name.content.c().width/2),this.b.item_name.o(q.a(this.b.main_panel[c+""].t.J-this.b.item_name.content.c().width/
2+16,this.b.main_panel[c+""].t.P)),!0}});Sign=null;
SignPanel=Popup.extend({data:null,Fc:function(){return"Sign"},uc:function(){return{panels:{position:q.a(100,300),children:{control_panel:{e:q.a(0,0),size:q.size(128,96),ca:"GUI/signpost.png",children:{content:{label:this.data.label,fontSize:12,color:q.l(255,255,255),e:q.a(0,1),position:q.a(4,94)},exitBtn:{position:q.a(100,6),size:q.size(20,20),e:q.a(0,0),ca:"GUI/close.png"}}}}}}},v:function(a){this._super();this.data=a},ya:function(){this._super();this.b.control_panel.content.Eb(q.size(120,0))}});Quests=null;
QuestsPanel=Popup.extend({I:null,Yg:null,jD:null,Fc:function(){return"Quests"},lb:function(){this.I&&this.I.fc();for(var a=[],c=[],d=q.ka.f(),e=0;e<this.data.length;e++)if(!(null==R.u.$.$i(e)||"undefined"===R.u.$.$i(e)&&1>R.u.$.$i(e))){a[e]=q.ia.create(q.j(0,0,0,0),420,32);var f=q.ia.create(q.j(0,0,0,127),212,1);f.o(q.a(4,0));var g=q.V.create(this.data[e].name,"Arial",15);g.q(q.l(0,0,0));g.G(q.a(0,0));g.o(q.a(4,4));g.Eb(q.size(216,0));a[e].U(216,g.c().height+8);if(null!=this.jD&&this.jD==e){a[e]=
q.ia.create(q.j(100,0,0,255),216,g.c().height+8);var h=q.A.eb(d.va("GUI/selected.png"));h.o(q.a(192,(g.c().height+8-20)/2));h.G(q.a(0,0));a[e].g(h);g.q(q.l(255,255,255))}a[e].g(f);a[e].g(g);a[e].ac="Use";c.push([a[e]])}1>a.length&&(a[0]=q.ia.create(q.j(0,0,0,0),420,32),f=q.ia.create(q.j(0,0,0,127),212,1),f.o(q.a(4,0)),g=q.V.create("THERES NO QUESTS!","Arial",15),g.q(q.l(0,0,0)),g.G(q.a(0,0)),g.o(q.a(4,4)),g.Eb(q.size(216,0)),a[0].U(216,g.c().height+8),a[0].g(g),c.push([]));this.I=this.b.main_panel.list;
var k=this;this.I.Zc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(216,c)};this.I.Pc=function(){return a.length};this.I.kd=function(c){return a[c].c()};this.I.hd=function(c){return a[c]};this.I.gc=function(a,c){"Use"==a&&(k.jD=c,k.HU(c),k.lb())};this.I.ga=ListView.create(this.I);this.I.ga.nd(c);this.I.g(this.I.ga)},HU:function(a){this.Yg&&this.Yg.fc();var c=this.data[a].objectiveList,d=[],e=[];q.ka.f();if(0<R.u.$.$i(a))for(var f=0;f<c.length;f++)if(!(R.u.$.$i(a)<f)){if(0==
f)d[f]=q.ia.create(q.j(0,0,0,0),1,1);else if(f==c.length)d[f]=q.ia.create(q.j(0,0,0,0),1,1);else{d[f]=q.ia.create(q.j(0,0,0,0),208,32);var g=q.ia.create(q.j(0,0,0,127),208,1);g.o(q.a(4,0));var h=q.V.create(c[f],"Arial",15);h.q(q.l(0,0,0));h.G(q.a(0,0));h.o(q.a(4,4));h.Eb(q.size(208,0));d[f].U(208,h.c().height+8);R.u.$.$i(a)>f&&h.ra(200);d[f].g(g);d[f].g(h)}e.push([])}this.Yg=this.b.main_panel.sublist;this.Yg.Zc=function(){for(var a=0,c=0;c<d.length;c++)a+=d[c].c().height;return q.size(212,a)};this.Yg.Pc=
function(){return d.length};this.Yg.kd=function(a){return d[a].c()};this.Yg.hd=function(a){return d[a]};this.Yg.gc=function(){};this.Yg.ga=ListView.create(this.Yg);this.Yg.ga.nd(e);this.Yg.g(this.Yg.ga)},uc:function(){return{panels:{position:q.a(300,200),children:{background_image:{ca:"GUI/quest_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(512,328),children:{list:{size:q.size(216,328),color:q.j(0,200,200,0),position:q.a(0,0),e:q.a(0,0)},sublist:{size:q.size(212,328),color:q.j(0,200,200,
0),position:q.a(258,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Quest Log",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(484,6),size:q.size(20,20),e:q.a(0,0),ca:"GUI/close.png"}}}}}}},yb:function(){},ya:function(){this._super();this.yb();this.data=ObjectLists.Ap();this.lb()}});Skills=null;
SkillsPanel=Popup.extend({I:null,Fc:function(){return"Skills"},lb:function(){this.I&&this.I.fc();var a=[],c=[];q.ka.f();var d=0,e=0,f;for(f in this.data){e+=this.data[f].level+1;a[d]=q.H.create();a[d].U(420,32);var g=q.ia.create(q.j(0,0,0,127),316,1);g.o(q.a(4,0));var h=q.V.create("Lvl "+(this.data[f].level+1+this.data[f].modifier)+"/"+(this.data[f].level+1),"Arial",15);h.q(q.l(0,0,0));h.G(q.a(0,0));h.o(q.a(4,4));var k=q.V.create(f,"Arial",15);k.q(q.l(0,0,0));k.G(q.a(0.5,0));k.o(q.a(h.c().width+65,
4));var l=q.ia.create(q.j(255,255,255,255),144,k.c().height),m=q.ia.create(q.j(100,120,200,255),this.data[f].experience/this.data[f].requirement*144,k.c().height);l.g(m);m.G(q.a(0,0));m=q.V.create(this.data[f].experience+"/"+this.data[f].requirement,"Arial",14);m.G(q.a(0,0));m.q(q.l(0,0,0));l.g(m);m.Gc(1);l.G(q.a(0,0));l.o(q.a(172,4));c.push([]);a[d].g(g);a[d].g(k);a[d].g(h);a[d].g(l);a[d].U(324,k.c().height+8);d++}this.I=this.b.main_panel.list;this.I.Zc=function(){for(var c=0,d=0;d<a.length;d++)c+=
a[d].c().height;return q.size(324,c)};this.I.Pc=function(){return a.length};this.I.kd=function(c){return a[c].c()};this.I.hd=function(c){return a[c]};this.I.gc=function(){};this.I.ga=ListView.create(this.I);this.I.ga.nd(c);this.I.g(this.I.ga);this.b.main_panel.character_level.ja("LEVEL: "+e);this.b.main_panel.character_level.Db(306);this.b.main_panel.character_level.G(q.a(1,0))},uc:function(){return{panels:{position:q.a(300,200),children:{background_image:{ca:"GUI/list_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,
0),size:q.size(365,328),children:{character_level:{label:"",position:q.a(2,310),e:q.a(0,0),color:q.l(0,0,0)},list:{size:q.size(324,308),color:q.j(0,200,200,200),position:q.a(0,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Skills",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),e:q.a(0,0),ca:"GUI/close.png"}}}}}}},yb:function(){},ya:function(){this._super();this.yb();this.data=T.ES();this.lb()}});
var T=q.Hc.extend({mw:[],pc:null,$p:function(){var a=ObjectLists.zh(),c;for(c in this.mw)this.mw[c].R();this.mw=[];var d=0;for(c=a.length-1;0<=c;c--)if(null!=a[c].healthbar&&""!=a[c].healthbar){var e=this.qR(a[c].name,a[c].healthbar,d);this.g(e);this.mw.push(e);d++}this.o(q.a(0,Y.height-32*d))},qR:function(a,c,d){var e=255;c=c.replace("#","");8==c.length&&(e=c.substr(6,8));e=q.ia.create(q.j(parseInt(c.substring(0,2),16),parseInt(c.substring(2,4),16),parseInt(c.substring(4,6),16),parseInt(e,16)),0<
this.pc[a].currenthealth?this.pc[a].currenthealth/this.pc[a].maxhealth*300:1,23);e.DB=q.A.eb(q.ka.f().va("GUI/healthbar.png"));e.o(10,32*d- -5*d-10);e.G(q.a(0,0));e.DB.o(-5,-4);e.DB.G(q.a(0,0));e.g(e.DB);a=q.V.create(a,"Arial",16);a.o(10,11.5);a.G(q.a(0,0.5));e.g(a);return e}});SkillBarsInstance=null;T.create=function(a){null==SkillBarsInstance&&(SkillBarsInstance=new T,SkillBarsInstance.pc=a,SkillBarsInstance.$p());return SkillBarsInstance};
T.dJ=function(a,c){SkillBarsInstance.pc[a].currenthealth+=c;0>SkillBarsInstance.pc[a].currenthealth&&(SkillBarsInstance.pc[a].currenthealth=0);SkillBarsInstance.pc[a].currenthealth>SkillBarsInstance.pc[a].maxhealth&&(SkillBarsInstance.pc[a].currenthealth=SkillBarsInstance.pc[a].maxhealth);SkillBarsInstance.$p();Skills&&Skills.lb()};T.fJ=function(a,c){SkillBarsInstance.pc[a].experience+=c;0>SkillBarsInstance.pc[a].experience&&(SkillBarsInstance.pc[a].experience=0);SkillBarsInstance.$p();Skills&&Skills.lb()};
T.eJ=function(a,c){SkillBarsInstance.pc[a].modifier+=c;0>SkillBarsInstance.pc[a].modifier&&(SkillBarsInstance.pc[a].modifier=0);SkillBarsInstance.$p();Skills&&Skills.lb()};T.ES=function(){return SkillBarsInstance.pc};T.update=function(){SkillBarsInstance.$p()};Scripteditor=null;
ScriptEditor=Popup.extend({data:null,I:null,ob:null,ij:null,mf:null,nf:null,P1:null,n:null,kb:null,ZK:null,tH:null,oa:null,i:null,En:null,lk:function(a){A({savescripts:a+"",scriptsdata:this.data})},ek:function(a,c){A({savescriptswhole:c})},Fc:function(){return"Scripts"},Fa:function(a){this._super();if(this.n){var c=this.n;!0!=a&&this.n.md(function(){c.Xd(null)})}},v:function(a){this._super();this.data={data:[],name:null};this.kb=null;a.data&&(this.data=a.data);this.n=a.n},ya:function(){this._super();this.kb=
new $(this.b.main_panel.nameEntry,q.size(this.b.main_panel.nameEntry.c().width,this.b.main_panel.nameEntry.c().height),q.a(0,this.b.main_panel.nameEntry.c().height),this.data.name,q.j(255,255,255),q.l(0,0,0));this.kb.xb(!0);this.lb()},lb:function(){this.I&&this.I.fc();for(var a in this.mf)this.mf[a].fc(),this.mf[a].R();for(a in this.nf)this.nf[a].fc(),this.nf[a].R();var c=[],d=[],e=[],f=[],g=[],h=[],k=q.ka.f();this.mf=[];this.nf=[];for(a=0;a<this.data.data.length;a++){g[a]=[];h[a]=[];d[a]=[];e[a]=
[];c[a]=q.H.create();c[a].U(758,100);var l=q.ia.create(q.j(0,0,0,127),750,1);l.o(q.a(4,0));var m=q.ia.create(q.j(0,0,0,127),1,92);m.o(q.a(152,4));var n=q.ia.create(q.j(0,0,0,127),1,92);n.o(q.a(451,4));var t=this.data.data[a].type;"On Talk Close"==t&&(t+=" ("+this.data.data[a].data.attachedEvent+":"+this.data.data[this.data.data[a].data.attachedEvent].type+")");t=q.V.create(a+": "+t,"Arial",15);t.q(q.l(0,0,0));t.G(q.a(0,1));t.o(q.a(4,96));t.Eb(q.size(100,0));var s=q.ia.create(q.j(0,255,0,60),259,100);
s.U(q.size(259,100));s.Db(451);s.G(q.a(0,0));c[a].g(s);var u=q.ia.create(q.j(0,255,0,60),259,100);u.U(q.size(259,100));u.Db(152);u.G(q.a(0,0));c[a].g(u);var w=q.A.eb(k.va("GUI/trash.png"));w.o(q.a(120,4));w.G(q.a(0,0));w.ac="Delete";c[a].g(w);var D=q.A.eb(k.va("GUI/edit.png"));D.o(q.a(96,4));D.G(q.a(0,0));D.ac="Edit";c[a].g(D);f.push([w,D]);for(w=0;w<this.data.data[a].responses.length;w++){d[a].push(q.H.create());d[a][w].U(259,32);var D=!0,H=q.V.create(w+1+": "+this.data.data[a].responses[w].type,
"Arial",15);H.q(q.l(0,0,0));H.G(q.a(0,0));H.o(q.a(4,4));H.Eb(q.size(180,0));d[a][w].U(259,H.c().height+8);d[a][w].g(H);H=q.A.eb(k.va("GUI/trash.png"));H.o(q.a(229,0));H.G(q.a(0,0));H.ac="Delete";d[a][w].g(H);switch(this.data.data[a].responses[w].type){case "Destroy":case "Attack":case "Run Away":D=!1}D?(D=q.A.eb(k.va("GUI/edit.png")),D.o(q.a(205,0)),D.G(q.a(0,0)),D.ac="Edit",d[a][w].g(D),g[a].push([H,D])):g[a].push([H])}w=q.ia.create(q.j(70,200,70,255),90,26);D=q.V.create("+","Arial",20);D.o(45,13);
D.G(q.a(0.5,0.5));w.o(q.a(84.5,0));w.ac="Add";w.g(D);g[a].push([w]);d[a].push(w);this.nf[a]=u;this.nf[a].identifier=a;var B=this;this.nf[a].Zc=function(){for(var a=0,c=0;c<d[this.identifier].length;c++)a+=d[this.identifier][c].c().height;return q.size(259,a)};this.nf[a].Pc=function(){return d[this.identifier].length};this.nf[a].kd=function(a){return d[this.identifier][a].c()};this.nf[a].hd=function(a){return d[this.identifier][a]};this.nf[a].gc=function(a,c,d){B.Oa(d.S);if(null==B.i)switch(a){case "Delete":B.ba.g(DropDownList.yd(B,
B.AR,["Cancel","Delete"],d.S));B.ob=c;B.ij=this.identifier;break;case "Edit":B.FH(this.identifier,"responses",c);break;case "Add":a="Talk;Destroy;Give/ Take Item;Set Quest Point;Warp Player;Wait;Repeat Responses;Open/Close Panel;Modify Player Stats;Script Response".split(";");c=[{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0}];for(var e=0;e<B.data.data[this.identifier].responses.length;e++)"Repeat Responses"==B.data.data[this.identifier].responses[e].type&&
(c[7].enabled=!1);switch(B.data.specifier){case "NPC":a.push("Attack","Run Away","Defend","Modify NPC Stats");c.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0});break;case "Item":a.push("Equip Item","Read Item");c.push({enabled:!0},{enabled:!0});break;case "Tile":a.push("Block Entry","Add Layer Graphic"),c.push({enabled:!0},{enabled:!0})}B.ba.g(DropDownList.yd(B,B.BQ,a,d.S,c));B.ij=this.identifier;break;case "Use":B.n.Wp(c,B.Oc[c])}};this.nf[a].ga=ListView.create(this.nf[a]);this.nf[a].ga.nd(g[a]);
this.nf[a].g(this.nf[a].ga);for(w=0;w<this.data.data[a].requirements.length;w++)e[a].push(q.H.create()),e[a][w].U(259,32),u=q.V.create(w+1+": "+this.data.data[a].requirements[w].type,"Arial",15),u.q(q.l(0,0,0)),u.G(q.a(0,0)),u.o(q.a(4,4)),u.Eb(q.size(180,0)),e[a][w].U(259,u.c().height+8),e[a][w].g(u),H=q.A.eb(k.va("GUI/trash.png")),H.o(q.a(229,0)),H.G(q.a(0,0)),H.ac="Delete",e[a][w].g(H),D=q.A.eb(k.va("GUI/edit.png")),D.o(q.a(205,0)),D.G(q.a(0,0)),D.ac="Edit",e[a][w].g(D),h[a].push([H,D]);u=q.ia.create(q.j(70,
200,70,255),90,26);w=q.V.create("+","Arial",20);w.o(45,13);w.G(q.a(0.5,0.5));u.o(q.a(84.5,0));u.ac="Add";u.g(w);h[a].push([u]);e[a].push(u);this.mf[a]=s;this.mf[a].identifier=a;B=this;this.mf[a].Zc=function(){for(var a=0,c=0;c<e[this.identifier].length;c++)a+=e[this.identifier][c].c().height;return q.size(259,a)};this.mf[a].Pc=function(){return e[this.identifier].length};this.mf[a].kd=function(a){return e[this.identifier][a].c()};this.mf[a].hd=function(a){return e[this.identifier][a]};this.mf[a].gc=
function(a,c,d){B.Oa(d.S);if(null==B.i)switch(a){case "Delete":B.ba.g(DropDownList.yd(B,B.zR,["Cancel","Delete"],d.S));B.ob=c;B.ij=this.identifier;break;case "Edit":B.FH(this.identifier,"requirements",c);break;case "Add":a="Has Player Item;Is Player Statistics;Is Quest Point;Is Panel Visibility;Is Player Inventory Space;Script Requirement".split(";");switch(B.data.specifier){case "Tile":a.push("Is Event Fired By");break;case "NPC":a.push("Is NPC Statistics","Is NPC Actioning")}B.ba.g(DropDownList.yd(B,
B.AQ,a,d.S));B.ij=this.identifier;break;case "Use":B.n.Wp(c,B.Oc[c])}};this.mf[a].ga=ListView.create(this.mf[a]);this.mf[a].ga.nd(h[a]);this.mf[a].g(this.mf[a].ga);c[a].g(t);c[a].g(l);c[a].g(m);c[a].g(n)}a=q.ia.create(q.j(70,200,70,255),90,26);g=q.V.create("+","Arial",20);g.o(45,13);g.G(q.a(0.5,0.5));a.o(q.a(334,0));a.ac="Add";a.g(g);f.push([a]);c.push(a);this.I=this.b.main_panel.list;B=this;this.I.Zc=function(){for(var a=0,d=0;d<c.length;d++)a+=c[d].c().height;return q.size(758,a)};this.I.Pc=function(){return c.length};
this.I.kd=function(a){return c[a].c()};this.I.hd=function(a){return c[a]};this.I.gc=function(a,c,d){B.Oa(d.S);if(null==B.i)switch(a){case "Delete":var e="Delete";B.aT(c)&&(e="Delete (Will destroy all child events)");B.ba.g(DropDownList.yd(B,B.yR,["Cancel",e],d.S));B.ob=c;break;case "Add":a=["Default Interaction","On Examine","On Talk Close","On Talk Option Selected"];var f=[{enabled:!0},{enabled:!1},{enabled:!1},{enabled:!1}];for(e in B.data.data)if(B.data.data[e])for(var g=0;g<B.data.data[e].responses.length;g++)if("Talk"==
B.data.data[e].responses[g].type){f[2].enabled=!0;break}0==B.data.data.length&&(f[1].enabled=!1);B.TR()&&(f[3].enabled=!0);switch(B.data.specifier){case "Item":a.push("On Pickup","On Drop","On Dequip","On Trade");f.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0});break;case "Tile":a.push("Interact On","Interact Facing","Will Enter","On Enter","Will Leave","On Leave","On Come Near"),f.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0}),f[0].enabled=
!1}B.ba.g(DropDownList.yd(B,B.wQ,a,d.S,f));B.ob=c;break;case "Use":B.n.Wp(c,B.Oc[c])}};this.I.ga=ListView.create(this.I);this.I.ga.nd(f);this.I.g(this.I.ga)},wH:function(a){for(var c=0;c<this.data.data.length;c++)"On Talk Close"==this.data.data[c].type&&this.data.data[c].data.attachedEvent==a&&(this.wH(c),this.data.data.splice(c,1))},aT:function(a){for(var c=0;c<this.data.data.length;c++)if("On Talk Close"==this.data.data[c].type&&this.data.data[c].data.attachedEvent==a)return!0;return!1},TR:function(){for(var a=
0;a<this.data.data.length;a++)for(var c=0;c<this.data.data[a].responses.length;c++)if("Talk"==this.data.data[a].responses[c].type)return!0;return!1},yR:function(a){switch(a){case 1:null!=this.n.ob&&(this.n.wH(this.n.ob),this.n.data.data.splice(this.n.ob,1),this.n.lb(),this.n.ob=null)}},AR:function(a){switch(a){case 1:null!=this.n.ob&&(this.n.data.data[this.n.ij].responses.splice(this.n.ob,1),this.n.lb(),this.n.ob=null,this.n.ij=null)}},zR:function(a){switch(a){case 1:null!=this.n.ob&&(this.n.data.data[this.n.ij].requirements.splice(this.n.ob,
1),this.n.lb(),this.n.ob=null,this.n.ij=null)}},CQ:function(a){this.n.data.data.push({type:"On Talk Close",responses:[],requirements:[],data:{attachedEvent:a}});this.n.lb()},DQ:function(a,c){this.n.LD=a;for(var d=[],e=0;e<this.n.data.data[a].responses.length;e++)if("Talk"==this.n.data.data[a].responses[e].type)for(var f in this.n.data.data[a].responses[e].data.options)d.push(f+": "+this.n.data.data[a].responses[e].data.options[f]);this.ba.g(DropDownList.yd(this.n,this.n.cR,d,c.S))},cR:function(a){this.n.data.data.push({type:"On Talk Option Selected for event:"+
this.n.LD+", option:"+a,responses:[],requirements:[],data:{attachedEvent:this.n.LD,attachedOption:a}});this.n.lb();this.n.LD=null},wQ:function(a,c){var d="";switch(a){case 0:d="Default Event";break;case 1:d="On Examine";break;case 2:var d=[],e;for(e in this.n.data.data)if(this.n.data.data[e])for(var f=0;f<this.n.data.data[e].responses.length;f++)"Talk"==this.n.data.data[e].responses[f].type&&d.push(e+": "+this.n.data.data[e].type);this.ba.g(DropDownList.yd(this.n,this.n.CQ,d,c.S));return;case 3:d=
[];for(e in this.n.data.data)if(this.n.data.data[e])for(f=0;f<this.n.data.data[e].responses.length;f++)"Talk"==this.n.data.data[e].responses[f].type&&this.n.data.data[e].responses[f].data.options&&0<this.n.data.data[e].responses[f].data.options.length&&d.push(e+": "+this.n.data.data[e].type);this.ba.g(DropDownList.yd(this.n,this.n.DQ,d,c.S));return}if(""==d)switch(this.n.data.specifier){case "Item":switch(a){case 4:d="On Pickup";break;case 5:d="On Drop";break;case 6:d="On Dequip";break;case 7:d="On Trade"}break;
case "Tile":switch(a){case 4:d="Interact On";break;case 5:d="Interact Facing";break;case 6:d="Will Enter";break;case 7:d="On Enter";break;case 8:d="Will Leave";break;case 9:d="On Leave";break;case 10:d="On Come Near"}}this.n.data.data.push({type:d,responses:[],requirements:[],data:{}});this.n.lb()},BQ:function(a){var c="";switch(a){case 0:c="Talk";break;case 1:c="Destroy";break;case 2:c="Give /Take Item";break;case 3:c="Set Quest Point";break;case 4:c="Warp Player";break;case 5:c="Wait";break;case 6:c=
"Repeat Responses";break;case 7:c="Open/Close Panel";break;case 8:c="Modify Player Stats";break;case 9:c="Script Response"}if(""==c)switch(this.n.data.specifier){case "NPC":switch(a){case 10:c="Attack";break;case 11:c="Run Away";break;case 12:c="Defend";break;case 13:c="Modify NPC Stats"}break;case "Item":switch(a){case 10:c="Equip Item";break;case 11:c="Read Item"}break;case "Tile":switch(a){case 10:c="Block Entry";break;case 11:c="Add Layer Graphic"}}this.n.data.data[this.n.ij].responses.push({type:c,
data:{}});this.n.lb()},AQ:function(a){var c="";switch(a){case 0:c="Has Player Item";break;case 1:c="Is Player Statistics";break;case 2:c="Is Quest Point";break;case 3:c="Is Panel Visibility";break;case 4:c="Is Player Inventory Space";break;case 5:c="Script Requirement"}if(""==c)switch(this.n.data.specifier){case "Tile":switch(a){case 6:c="Is Event Fired By"}break;case "NPC":switch(a){case 6:c="Is NPC Statistics";break;case 7:c="Is NPC Actioning"}}this.n.data.data[this.n.ij].requirements.push({type:c,
data:{}});this.n.lb()},uc:function(){return{panels:{position:q.a(0,60),children:{background_image:{ca:"GUI/event_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(1E3,400),children:{list:{size:q.size(758,360),color:q.j(0,200,200,200),position:q.a(0,0),e:q.a(0,0)},okbtn:{position:q.a(4,364),size:q.size(32,32),ca:"GUI/tick_icon.png",e:q.a(0,0)},cancelbtn:{position:q.a(46,364),size:q.size(32,32),ca:"GUI/cross_icon.png",e:q.a(0,0)},defaultsbtn:{position:q.a(542,364),size:q.size(64,32),color:q.j(0,
255,0,255),e:q.a(0,0),children:{contents:{label:"Defaults",position:q.a(32,16),e:q.a(0.5,0.5),color:q.l(0,0,0)}}},specifier:{position:q.a(620,364),size:q.size(128,32),color:q.j(0,255,0,255),e:q.a(0,0),children:{contents:{label:"Includes: None",position:q.a(64,16),e:q.a(0.5,0.5),color:q.l(0,0,0)}}},namelbl:{label:"Name:",fontSize:20,e:q.a(0,0),position:q.a(110,368),color:q.l(0,0,0)},nameEntry:{position:q.a(180,364),size:q.size(340,32),color:q.j(255,255,255,255)}}},control_panel:{e:q.a(0,0),position:q.a(0,
400),size:q.size(1E3,32),children:{header:{label:"Script Editor",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(976,6),size:q.size(20,20),e:q.a(0,0),ca:"GUI/close.png"}}},subEditorOver:{visible:!1,color:q.j(0,0,0,127),position:q.a(0,0),size:q.size(800,400)},mainEditorOver:{color:q.j(0,0,0,127),position:q.a(800,0),size:q.size(200,400)}}}}},FH:function(a,c,d){this.oa={event:a,listtype:c,id:d};this.En=this.data.data[a][c][d].type;this.zJ=K(this.data.data[this.oa.event][this.oa.listtype][this.oa.id].data);
this.Ws()},L9:function(a){this.data.data[this.oa.event][this.oa.listtype][this.oa.id].data=K(a);this.Gw();this.oa=null;this.lb()},K9:function(){this.Gw();this.oa=null},defaultSelected:function(a,c){0<this.n.data.data.length?(this.n.tH=a,this.ba.g(DropDownList.yd(this.n,this.n.CR,["Cancel","Clear Script (Required)"],c.S))):this.n.$J(a)},X1:function(){},VD:null,WD:null,XD:null,Ld:null,CJ:null,nJ:null,gj:null,hj:null,yx:null,Nl:null,Ol:null,Ml:null,Ax:null,Bx:null,zx:null,wJ:null,Kn:0,lJ:null,UG:null,
Ow:null,Ec:null,Gx:null,QR:function(a,c){var d={panels:{children:{editArea:{color:q.j(127,127,127,255),e:q.a(0,0),position:q.a(0,0),size:q.size(200,250)},editBox:{size:q.size(178,196),e:q.a(0,0),position:q.a(8,12)},okbtn:{position:q.a(62,210),size:q.size(32,32),ca:"GUI/tick_icon.png",e:q.a(0,0)},cancelbtn:{position:q.a(106,210),size:q.size(32,32),ca:"GUI/cross_icon.png",e:q.a(0,0)}}}};this.ng=wa(d,!0);this.i.g(this.ng);this.JD=new $(this.ng.editBox,q.size(this.ng.editBox.c().width,this.ng.editBox.c().height),
q.a(0,this.ng.editBox.c().height),c?c:"\x3cEnter text\x3e",q.j(255,255,255),q.l(0,0,0),!0);this.JD.xb(!0);this.JD.Rc(!1);this.KD=a},Ws:function(){this.i&&(this.i.R(),this.i=null);this.b.subEditorOver.D(!0);this.b.mainEditorOver.D(!1);var a={panels:{position:q.a(802,0),children:{}}},c=this.data.data[this.oa.event][this.oa.listtype][this.oa.id].data;switch(this.En){case "Warp Player":a.panels.children={mapNumberLabel:{label:"Map ID",e:q.a(0,0),position:q.a(12,374)},mapNumberText:{color:q.j(255,255,
255,255),e:q.a(0,0),position:q.a(12,340),size:q.size(100,32)},mapXLabel:{label:"Map X",e:q.a(0,0),position:q.a(12,310)},mapXText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,276),size:q.size(80,32)},mapYLabel:{label:"Map Y",e:q.a(0,0),position:q.a(100,310)},mapYText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(100,276),size:q.size(80,32)}};break;case "Script Response":a.panels.children={sayLabelPre:{label:"Script:\n\nfunction resp(data){\n//data is { }",e:q.a(0,1),position:q.a(12,
374),color:q.l(255,0,0)},sayLabelPost:{label:"};",e:q.a(0,1),position:q.a(12,95),color:q.l(255,0,0)},sayText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,100),size:q.size(174,200)}};break;case "Script Requirement":a.panels.children={sayLabelPre:{label:"Script:\n\nfunction req(data,isAllow){\n//data is { }\n//isAllow defaults false",e:q.a(0,1),position:q.a(12,374),color:q.l(255,0,0)},sayLabelPost:{label:"return isAllow;\n};",e:q.a(0,1),position:q.a(12,95),color:q.l(255,0,0)},sayText:{color:q.j(255,
255,255,255),e:q.a(0,0),position:q.a(12,100),size:q.size(174,190)}};break;case "Read Item":a.panels.children={sayLabel:{label:"Say:",e:q.a(0,0),position:q.a(12,374)},sayText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,50),size:q.size(174,322)}};break;case "Talk":a.panels.children={sayLabel:{label:"Say:",e:q.a(0,0),position:q.a(12,374)},sayText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,274),size:q.size(174,100)},optionLabel:{label:"Options:",e:q.a(0,0),position:q.a(12,235)},
optionList:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,50),size:q.size(154,185)}};break;case "Is Quest Point":case "Set Quest Point":a.panels.children={questLabel:{label:"Quest:",e:q.a(0,0),position:q.a(12,374)},questList:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},objectiveLabel:{label:"Objective:",e:q.a(0,0),position:q.a(12,189)},objectiveList:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,50),size:q.size(154,135)}};break;case "Give /Take Item":case "Has Player Item":a.panels.children=
{itemsLabel:{label:"Item:",e:q.a(0,0),position:q.a(12,374)},itemList:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},amountLabel:{label:"Amount:",e:q.a(0,0),position:q.a(12,189)},amountText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,153),size:q.size(154,32)},amountNote:{label:"Has Player Item"==this.En?"":"Use negative item amounts to take away. Use positive amounts to give.",e:q.a(0,1),position:q.a(12,145)}};break;case "Modify Player Stats":case "Modify NPC Stats":a.panels.children=
{skillsLabel:{label:"Skill:",e:q.a(0,0),position:q.a(12,374)},skillList:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},levelLabel:{label:"Level Modify",e:q.a(0,0),position:q.a(12,205)},levelText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,169),size:q.size(154,32)},expLabel:{label:"XP Modify: (% allowed)",e:q.a(0,0),position:q.a(12,145)},expText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,109),size:q.size(154,32)},healthLabel:{label:"Health Modify: (% allowed)",
e:q.a(0,0),position:q.a(12,85)},healthText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,49),size:q.size(154,32)}};break;case "Is Panel Visibility":case "Open/Close Panel":a.panels.children={panelsLabel:{label:"Panel:",e:q.a(0,0),position:q.a(12,374)},panelList:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},visibleLabel:{label:"Visibility:",e:q.a(0,0),position:q.a(12,205)},visibleButton:{color:q.j(255,0,0,255),e:q.a(0,0),position:q.a(12,169),size:q.size(154,
32),children:{content:{position:q.a(77,16),e:q.a(0.5,0.5),label:"Invisible",color:q.l(0,0,0)}}}};break;case "Is Event Fired By":a.panels.children={objectLabel:{label:"Possible Types:",e:q.a(0,0),position:q.a(12,374)},objectList:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)}};break;case "Is NPC Actioning":a.panels.children={actionLabel:{label:"Actions:",e:q.a(0,0),position:q.a(12,374)},actionList:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,
135)}};break;case "Is Player Inventory Space":a.panels.children={spaceLabel:{label:"Inventory Space",e:q.a(0,0),position:q.a(12,374)},spaceText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,340),size:q.size(100,32)}};break;case "Wait":a.panels.children={timeLabel:{label:"Time (Seconds)",e:q.a(0,0),position:q.a(12,374)},timeText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,340),size:q.size(100,32)}};break;case "Repeat Responses":a.panels.children={amountLabel:{label:"Repeat Amount",
e:q.a(0,0),position:q.a(12,374)},amountText:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,340),size:q.size(100,32)},amountNote:{label:"Use 0 for infinite amount of repeats.",e:q.a(0,1),position:q.a(12,300)}};break;case "Is Player Statistics":case "Is NPC Statistics":a.panels.children={skillsLabel:{label:"Skill:",e:q.a(0,0),position:q.a(12,374)},skillList:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},levelLabel:{label:"Level Range",e:q.a(0,0),position:q.a(12,
205)},levelDash:{label:"-",e:q.a(0,0),position:q.a(91,174)},levelTextLower:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,169),size:q.size(75,32)},levelTextUpper:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(100,169),size:q.size(75,32)},expLabel:{label:"XP Range: (% allowed)",e:q.a(0,0),position:q.a(12,145)},expDash:{label:"-",e:q.a(0,0),position:q.a(91,114)},expTextLower:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,109),size:q.size(75,32)},expTextUpper:{color:q.j(255,255,
255,255),e:q.a(0,0),position:q.a(100,109),size:q.size(75,32)},healthLabel:{label:"Health Range: (% allowed)",e:q.a(0,0),position:q.a(12,85)},healthDash:{label:"-",e:q.a(0,0),position:q.a(91,54)},healthTextLower:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(12,49),size:q.size(75,32)},healthTextUpper:{color:q.j(255,255,255,255),e:q.a(0,0),position:q.a(100,49),size:q.size(75,32)}};break;case "Equip Item":a.panels.children={equipLabel:{label:"Equips To:",e:q.a(0,0),position:q.a(12,374)},headButton:{color:q.j(255,
0,0,255),e:q.a(0,0),position:q.a(69,320),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(0.5,0.5),label:"Head",color:q.l(0,0,0)}}},bodyButton:{color:q.j(255,0,0,255),e:q.a(0,0),position:q.a(69,280),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(0.5,0.5),label:"Body",color:q.l(0,0,0)}}},legButton:{color:q.j(255,0,0,255),e:q.a(0,0),position:q.a(69,240),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(0.5,0.5),label:"Legs",color:q.l(0,0,0)}}},feetButton:{color:q.j(255,
0,0,255),e:q.a(0,0),position:q.a(69,200),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(0.5,0.5),label:"Feet",color:q.l(0,0,0)}}},lArmButton:{color:q.j(255,0,0,255),e:q.a(0,0),position:q.a(10,280),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(0.5,0.5),label:"L Arm",color:q.l(0,0,0)}}},rArmButton:{color:q.j(255,0,0,255),e:q.a(0,0),position:q.a(128,280),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(0.5,0.5),label:"R Arm",color:q.l(0,0,0)}}},modButton:{color:q.j(255,
0,0,255),e:q.a(0,0),position:q.a(10,160),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(0.5,0.5),label:"Mod",color:q.l(0,0,0)}}}}}a.panels.children.okbtn={position:q.a(62,8),size:q.size(32,32),ca:"GUI/tick_icon.png",e:q.a(0,0)};a.panels.children.cancelbtn={position:q.a(106,8),size:q.size(32,32),ca:"GUI/cross_icon.png",e:q.a(0,0)};this.i=wa(a,!0);this.b.g(this.i);switch(this.En){case "Warp Player":var d=a=1;c.index&&(a=c.index%P,d=Math.floor(c.index/P));this.VD=new $(this.i.mapNumberText,
q.size(this.i.mapNumberText.c().width,this.i.mapNumberText.c().height),q.a(0,this.i.mapNumberText.c().height),null!=c.mapnum&&"undefined"!==c.mapnum?c.mapnum:"0",q.j(255,255,255),q.l(0,0,0));this.VD.xb(!0);this.WD=new $(this.i.mapXText,q.size(this.i.mapXText.c().width,this.i.mapXText.c().height),q.a(0,this.i.mapXText.c().height),a,q.j(255,255,255),q.l(0,0,0));this.WD.xb(!0);this.XD=new $(this.i.mapYText,q.size(this.i.mapYText.c().width,this.i.mapYText.c().height),q.a(0,this.i.mapYText.c().height),
d,q.j(255,255,255),q.l(0,0,0));this.XD.xb(!0);break;case "Read Item":this.Ld=new $(this.i.sayText,q.size(this.i.sayText.c().width,this.i.sayText.c().height),q.a(0,this.i.sayText.c().height),c.say?c.say:"\x3cEnter text\x3e",q.j(255,255,255),q.l(0,0,0),!0);this.Ld.xb(!0);this.Ld.Rc(!1);break;case "Script Response":this.Ld=new $(this.i.sayText,q.size(this.i.sayText.c().width,this.i.sayText.c().height),q.a(0,this.i.sayText.c().height),c.functionContent?c.functionContent:"\x3cEnter text\x3e",q.j(255,255,
255),q.l(0,0,0),!0);this.Ld.xb(!0);this.Ld.Rc(!1);break;case "Script Requirement":this.Ld=new $(this.i.sayText,q.size(this.i.sayText.c().width,this.i.sayText.c().height),q.a(0,this.i.sayText.c().height),c.functionContent?c.functionContent:"\x3cEnter text\x3e",q.j(255,255,255),q.l(0,0,0),!0);this.Ld.xb(!0);this.Ld.Rc(!1);break;case "Talk":this.Ld=new $(this.i.sayText,q.size(this.i.sayText.c().width,this.i.sayText.c().height),q.a(0,this.i.sayText.c().height),c.say?c.say:"\x3cEnter text\x3e",q.j(255,
255,255),q.l(0,0,0),!0);this.Ld.xb(!0);this.Ld.Rc(!1);var e=[],a=[],f=c.options?c.options:[];console.log(f);for(d=0;d<f.length;d++){e[d]=q.H.create();var g=q.ia.create(q.j(0,0,0,127),154,1),h=q.V.create(f[d],"Arial",15);h.q(q.l(0,0,0));h.G(q.a(0,0));h.o(q.a(4,4));h.Eb(q.size(104,0));e[d].U(154,h.c().height+8);var k=q.A.eb(q.ka.f().va("GUI/edit.png"));k.o(q.a(130,0));k.G(q.a(0,0));k.ac="Edit";k.Gc((h.c().height+8)/2-10);var l=q.A.eb(q.ka.f().va("GUI/trash.png"));l.o(q.a(108,0));l.G(q.a(0,0));l.ac=
"Delete";l.Gc((h.c().height+8)/2-10);a.push([k,l]);var m=q.ia.create(q.j(255,255,255,255),154,h.c().height+8);e[d].g(m);e[d].vc=m;e[d].g(g);e[d].g(h);e[d].g(k);e[d].g(l)}d=q.ia.create(q.j(70,200,70,255),90,26);g=q.V.create("+","Arial",20);g.o(45,13);g.G(q.a(0.5,0.5));d.o(q.a(34,0));d.ac="Add";d.g(g);a.push([d]);e.push(d);var n=this;this.i.optionList.Zc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.i.optionList.Pc=function(){return e.length};this.i.optionList.kd=
function(a){return e[a].c()};this.i.optionList.hd=function(a){return e[a]};this.i.optionList.ki=function(a){return e[a].vc};this.i.optionList.gc=function(a,d){if(!n.ng)switch(a){case "Add":c.options||(c.options=[]);c.options.push("\x3cEnter Text\x3e");c.say=n.Ld.aa();n.i.optionList.ga.R();n.i.optionList.ga=null;n.Ws();break;case "Delete":c.options.splice(d,1);c.say=n.Ld.aa();n.i.R();n.i=null;n.Ws();break;case "Edit":c.say=n.Ld.aa(),n.QR(d,c.options[d]),n.i.optionList.ga.R(),n.i.optionList.ga=null}};
this.i.optionList.ga=ListView.create(this.i.optionList);this.i.optionList.ga.nd(a);this.i.optionList.g(this.i.optionList.ga);break;case "Is Quest Point":case "Set Quest Point":e=[];a=[];f=ObjectLists.Ap();for(d=0;d<f.length;d++)e[d]=q.H.create(),g=q.ia.create(q.j(0,0,0,127),154,1),h=q.V.create(f[d].name,"Arial",15),h.q(q.l(0,0,0)),h.G(q.a(0,0)),h.o(q.a(4,4)),h.Eb(q.size(126,0)),k=q.A.eb(q.ka.f().va("GUI/use.png")),k.o(q.a(130,0)),k.G(q.a(0,0)),k.ac="Use",e[d].U(154,h.c().height+8),k.Gc((h.c().height+
8)/2-10),a.push([k]),m=q.ia.create(q.j(255,255,255,255),154,h.c().height+8),e[d].g(m),e[d].vc=m,e[d].g(g),e[d].g(h),e[d].g(k);n=this;this.i.questList.Zc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.i.questList.Pc=function(){return e.length};this.i.questList.kd=function(a){return e[a].c()};this.i.questList.hd=function(a){return e[a]};this.i.questList.ki=function(a){return e[a].vc};this.i.questList.gc=function(a,c){if("Use"==a){n.i.objectiveList.ga&&n.i.objectiveList.ga.R();
this.ga.vc(c);n.CJ=c;for(var d=[],e=[],f=q.ka.f(),g=ObjectLists.Ap()[c].objectiveList,h=0;h<g.length;h++){d[h]=q.H.create();var k=q.ia.create(q.j(0,0,0,127),154,1);k.o(q.a(0,0));var l=q.V.create(g[h],"Arial",15);l.q(q.l(0,0,0));l.G(q.a(0,0));l.o(q.a(4,4));l.Eb(q.size(126,0));var m=q.A.eb(f.va("GUI/use.png"));m.o(q.a(130,0));m.G(q.a(0,0));m.ac="Use";e.push([m]);d[h].U(126,l.c().height+8);m.Gc((l.c().height+8)/2-10);var ha=q.ia.create(q.j(255,255,255,255),154,l.c().height+8);d[h].g(ha);d[h].vc=ha;d[h].g(k);
d[h].g(l);d[h].g(m)}n.i.objectiveList.Zc=function(){for(var a=0,c=0;c<d.length;c++)a+=d[c].c().height;return q.size(154,a)};n.i.objectiveList.Pc=function(){return d.length};n.i.objectiveList.ki=function(a){return d[a].vc};n.i.objectiveList.kd=function(a){return d[a].c()};n.i.objectiveList.hd=function(a){return d[a]};n.i.objectiveList.gc=function(a,c){this.ga.vc(c);n.nJ=c};n.i.objectiveList.ga=ListView.create(n.i.objectiveList);n.i.objectiveList.ga.nd(e);n.i.objectiveList.g(n.i.objectiveList.ga)}};
this.i.questList.ga=ListView.create(this.i.questList);this.i.questList.ga.nd(a);this.i.questList.g(this.i.questList.ga);null!=c.quest&&"undefined"!==c.quest&&(this.i.questList.gc("Use",c.quest),null!=c.objective&&"undefined"!==c.objective&&this.i.objectiveList.gc("Use",c.objective));break;case "Give /Take Item":case "Has Player Item":this.i.amountNote.Eb(q.size(180,0));e=[];a=[];f=ObjectLists.Ef();for(d=0;d<f.length;d++)e[d]=q.H.create(),g=q.ia.create(q.j(0,0,0,127),154,1),h=q.V.create(f[d].name,
"Arial",15),h.q(q.l(0,0,0)),h.G(q.a(0,0)),h.o(q.a(4,4)),h.Eb(q.size(126,0)),k=q.A.eb(q.ka.f().va("GUI/use.png")),k.o(q.a(130,0)),k.G(q.a(0,0)),k.ac="Use",e[d].U(154,h.c().height+8),k.Gc((h.c().height+8)/2-10),a.push([k]),m=q.ia.create(q.j(255,255,255,255),154,h.c().height+8),e[d].g(m),e[d].vc=m,e[d].g(g),e[d].g(h),e[d].g(k);n=this;this.i.itemList.Zc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.i.itemList.Pc=function(){return e.length};this.i.itemList.kd=
function(a){return e[a].c()};this.i.itemList.hd=function(a){return e[a]};this.i.itemList.ki=function(a){return e[a].vc};this.i.itemList.gc=function(a,c){"Use"==a&&(this.ga.vc(c),n.hj=c)};this.i.itemList.ga=ListView.create(this.i.itemList);this.i.itemList.ga.nd(a);this.i.itemList.g(this.i.itemList.ga);null!=c.item&&"undefined"!==c.item&&this.i.itemList.gc("Use",c.item);this.gj=new $(this.i.amountText,q.size(this.i.amountText.c().width,this.i.amountText.c().height),q.a(0,this.i.amountText.c().height),
c.amount?c.amount:"0",q.j(255,255,255),q.l(0,0,0));this.gj.xb(!0);this.gj.Rc(!1);break;case "Modify Player Stats":case "Modify NPC Stats":e=[];a=[];f=ObjectLists.zh();for(d=0;d<f.length;d++)e[d]=q.H.create(),g=q.ia.create(q.j(0,0,0,127),154,1),h=q.V.create(f[d].name,"Arial",15),h.q(q.l(0,0,0)),h.G(q.a(0,0)),h.o(q.a(4,4)),h.Eb(q.size(126,0)),k=q.A.eb(q.ka.f().va("GUI/use.png")),k.o(q.a(130,0)),k.G(q.a(0,0)),k.ac="Use",e[d].U(154,h.c().height+8),k.Gc((h.c().height+8)/2-10),a.push([k]),m=q.ia.create(q.j(255,
255,255,255),154,h.c().height+8),e[d].g(m),e[d].vc=m,e[d].g(g),e[d].g(h),e[d].g(k);n=this;this.i.skillList.Zc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.i.skillList.Pc=function(){return e.length};this.i.skillList.kd=function(a){return e[a].c()};this.i.skillList.hd=function(a){return e[a]};this.i.skillList.ki=function(a){return e[a].vc};this.i.skillList.gc=function(a,c){"Use"==a&&(this.ga.vc(c),n.yx=c)};this.i.skillList.ga=ListView.create(this.i.skillList);
this.i.skillList.ga.nd(a);this.i.skillList.g(this.i.skillList.ga);null!=c.skill&&"undefined"!==c.skill&&this.i.skillList.gc("Use",c.skill);this.Nl=new $(this.i.levelText,q.size(this.i.levelText.c().width,this.i.levelText.c().height),q.a(0,this.i.levelText.c().height),c.level?c.level:"0",q.j(255,255,255),q.l(0,0,0));this.Nl.xb(!0);this.Nl.Rc(!1);this.Ol=new $(this.i.expText,q.size(this.i.expText.c().width,this.i.expText.c().height),q.a(0,this.i.expText.c().height),c.xp?c.xp:"0",q.j(255,255,255),q.l(0,
0,0));this.Ol.xb(!0);this.Ol.Rc(!1);this.Ml=new $(this.i.healthText,q.size(this.i.healthText.c().width,this.i.healthText.c().height),q.a(0,this.i.healthText.c().height),c.health?c.health:"0",q.j(255,255,255),q.l(0,0,0));this.Ml.xb(!0);this.Ml.Rc(!1);break;case "Is Panel Visibility":case "Open/Close Panel":e=[];a=[];f=["Inventory","Equipment","Skills","QuestLog"];for(d=0;d<f.length;d++)e[d]=q.H.create(),g=q.ia.create(q.j(0,0,0,127),154,1),h=q.V.create(f[d],"Arial",15),h.q(q.l(0,0,0)),h.G(q.a(0,0)),
h.o(q.a(4,4)),h.Eb(q.size(126,0)),k=q.A.eb(q.ka.f().va("GUI/use.png")),k.o(q.a(130,0)),k.G(q.a(0,0)),k.ac="Use",e[d].U(154,h.c().height+8),k.Gc((h.c().height+8)/2-10),a.push([k]),m=q.ia.create(q.j(255,255,255,255),154,h.c().height+8),e[d].g(m),e[d].vc=m,e[d].g(g),e[d].g(h),e[d].g(k);n=this;this.i.panelList.Zc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.i.panelList.Pc=function(){return e.length};this.i.panelList.kd=function(a){return e[a].c()};this.i.panelList.hd=
function(a){return e[a]};this.i.panelList.ki=function(a){return e[a].vc};this.i.panelList.gc=function(a,c){"Use"==a&&(this.ga.vc(c),n.wJ=c)};this.i.panelList.ga=ListView.create(this.i.panelList);this.i.panelList.ga.nd(a);this.i.panelList.g(this.i.panelList.ga);null!=c.panel&&"undefined"!==c.panel&&this.i.panelList.gc("Use",c.panel);this.Kn=1==c.visible?1:0;1==this.Kn&&(this.i.visibleButton.q(q.j(0,255,0,255)),this.i.visibleButton.content.ja("Visible"));break;case "Is Event Fired By":e=[];a=[];f=["Player",
"NPC"];for(d=0;d<f.length;d++)e[d]=q.H.create(),g=q.ia.create(q.j(0,0,0,127),154,1),h=q.V.create(f[d],"Arial",15),h.q(q.l(0,0,0)),h.G(q.a(0,0)),h.o(q.a(4,4)),h.Eb(q.size(126,0)),k=q.A.eb(q.ka.f().va("GUI/use.png")),k.o(q.a(130,0)),k.G(q.a(0,0)),k.ac="Use",e[d].U(154,h.c().height+8),k.Gc((h.c().height+8)/2-10),a.push([k]),m=q.ia.create(q.j(255,255,255,255),154,h.c().height+8),e[d].g(m),e[d].vc=m,e[d].g(g),e[d].g(h),e[d].g(k);n=this;this.i.objectList.Zc=function(){for(var a=0,c=0;c<e.length;c++)a+=
e[c].c().height;return q.size(154,a)};this.i.objectList.Pc=function(){return e.length};this.i.objectList.kd=function(a){return e[a].c()};this.i.objectList.hd=function(a){return e[a]};this.i.objectList.ki=function(a){return e[a].vc};this.i.objectList.gc=function(a,c){"Use"==a&&(this.ga.vc(c),n.lJ=c)};this.i.objectList.ga=ListView.create(this.i.objectList);this.i.objectList.ga.nd(a);this.i.objectList.g(this.i.objectList.ga);null!=c.object&&"undefined"!==c.object&&this.i.objectList.gc("Use",c.object);
break;case "Is NPC Actioning":e=[];a=[];f=["Attacking","Defending","Fleeing"];for(d=0;d<f.length;d++)e[d]=q.H.create(),g=q.ia.create(q.j(0,0,0,127),154,1),h=q.V.create(f[d],"Arial",15),h.q(q.l(0,0,0)),h.G(q.a(0,0)),h.o(q.a(4,4)),h.Eb(q.size(126,0)),k=q.A.eb(q.ka.f().va("GUI/use.png")),k.o(q.a(130,0)),k.G(q.a(0,0)),k.ac="Use",e[d].U(154,h.c().height+8),k.Gc((h.c().height+8)/2-10),a.push([k]),m=q.ia.create(q.j(255,255,255,255),154,h.c().height+8),e[d].g(m),e[d].vc=m,e[d].g(g),e[d].g(h),e[d].g(k);n=
this;this.i.actionList.Zc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.i.actionList.Pc=function(){return e.length};this.i.actionList.kd=function(a){return e[a].c()};this.i.actionList.hd=function(a){return e[a]};this.i.actionList.ki=function(a){return e[a].vc};this.i.actionList.gc=function(a,c){"Use"==a&&(this.ga.vc(c),n.UG=c)};this.i.actionList.ga=ListView.create(this.i.actionList);this.i.actionList.ga.nd(a);this.i.actionList.g(this.i.actionList.ga);null!=
c.action&&"undefined"!==c.action&&this.i.actionList.gc("Use",c.action);break;case "Is Player Inventory Space":this.Ow=new $(this.i.spaceText,q.size(this.i.spaceText.c().width,this.i.spaceText.c().height),q.a(0,this.i.spaceText.c().height),null!=c.space&&"undefined"!==c.space?c.space:"0",q.j(255,255,255),q.l(0,0,0));this.Ow.xb(!0);this.Ow.Rc(!1);break;case "Wait":this.Gx=new $(this.i.timeText,q.size(this.i.timeText.c().width,this.i.timeText.c().height),q.a(0,this.i.timeText.c().height),null!=c.time&&
"undefined"!==c.time?c.time:"0",q.j(255,255,255),q.l(0,0,0));this.Gx.xb(!0);this.Gx.Rc(!1);break;case "Repeat Responses":this.i.amountNote.Eb(q.size(180,0));this.cD=new $(this.i.amountText,q.size(this.i.amountText.c().width,this.i.amountText.c().height),q.a(0,this.i.amountText.c().height),null!=c.amount&&"undefined"!==c.amount?c.amount:"1",q.j(255,255,255),q.l(0,0,0));this.cD.xb(!0);this.cD.Rc(!1);break;case "Is Player Statistics":case "Is NPC Statistics":e=[];a=[];f=ObjectLists.zh();for(d=0;d<f.length;d++)e[d]=
q.H.create(),g=q.ia.create(q.j(0,0,0,127),154,1),h=q.V.create(f[d].name,"Arial",15),h.q(q.l(0,0,0)),h.G(q.a(0,0)),h.o(q.a(4,4)),h.Eb(q.size(126,0)),k=q.A.eb(q.ka.f().va("GUI/use.png")),k.o(q.a(130,0)),k.G(q.a(0,0)),k.ac="Use",e[d].U(154,h.c().height+8),k.Gc((h.c().height+8)/2-10),a.push([k]),m=q.ia.create(q.j(255,255,255,255),154,h.c().height+8),e[d].g(m),e[d].vc=m,e[d].g(g),e[d].g(h),e[d].g(k);n=this;this.i.skillList.Zc=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,
a)};this.i.skillList.Pc=function(){return e.length};this.i.skillList.kd=function(a){return e[a].c()};this.i.skillList.hd=function(a){return e[a]};this.i.skillList.ki=function(a){return e[a].vc};this.i.skillList.gc=function(a,c){"Use"==a&&(this.ga.vc(c),n.yx=c)};this.i.skillList.ga=ListView.create(this.i.skillList);this.i.skillList.ga.nd(a);this.i.skillList.g(this.i.skillList.ga);null!=c.skill&&"undefined"!==c.skill&&this.i.skillList.gc("Use",c.skill);this.Nl=new $(this.i.levelTextLower,q.size(this.i.levelTextLower.c().width,
this.i.levelTextLower.c().height),q.a(0,this.i.levelTextLower.c().height),null!=c.levelLower&&"undefined"!==c.levelLower&&""!=c.levelLower?c.levelLower:"0",q.j(255,255,255),q.l(0,0,0));this.Nl.xb(!0);this.Nl.Rc(!1);this.Ol=new $(this.i.expTextLower,q.size(this.i.expTextLower.c().width,this.i.expTextLower.c().height),q.a(0,this.i.expTextLower.c().height),null!=c.xpLower&&"undefined"!==c.xpLower&&""!=c.xpLower?c.xpLower:"0",q.j(255,255,255),q.l(0,0,0));this.Ol.xb(!0);this.Ol.Rc(!1);this.Ml=new $(this.i.healthTextLower,
q.size(this.i.healthTextLower.c().width,this.i.healthTextLower.c().height),q.a(0,this.i.healthTextLower.c().height),null!=c.healthLower&&"undefined"!==c.healthLower&&""!=c.healthLower?c.healthLower:"0",q.j(255,255,255),q.l(0,0,0));this.Ml.xb(!0);this.Ml.Rc(!1);this.Ax=new $(this.i.levelTextUpper,q.size(this.i.levelTextUpper.c().width,this.i.levelTextUpper.c().height),q.a(0,this.i.levelTextUpper.c().height),null!=c.levelUpper&&"undefined"!==c.levelUpper&&""!=c.levelUpper?c.levelUpper:"0",q.j(255,255,
255),q.l(0,0,0));this.Ax.xb(!0);this.Ax.Rc(!1);this.Bx=new $(this.i.expTextUpper,q.size(this.i.expTextUpper.c().width,this.i.expTextUpper.c().height),q.a(0,this.i.expTextUpper.c().height),null!=c.xpUpper&&"undefined"!==c.xpUpper&&""!=c.xpUpper?c.xpUpper:"0",q.j(255,255,255),q.l(0,0,0));this.Bx.xb(!0);this.Bx.Rc(!1);this.zx=new $(this.i.healthTextUpper,q.size(this.i.healthTextUpper.c().width,this.i.healthTextUpper.c().height),q.a(0,this.i.healthTextUpper.c().height),null!=c.healthUpper&&"undefined"!==
c.healthUpper&&""!=c.healthUpper?c.healthUpper:"0",q.j(255,255,255),q.l(0,0,0));this.zx.xb(!0);this.zx.Rc(!1);break;case "Equip Item":null!=c.equip&&"undefined"!==c.equip?(this.Ec="head",this.mk(c.equip)):this.mk("head")}},Gw:function(){this.b.subEditorOver.D(!1);this.b.mainEditorOver.D(!0);this.En=null;this.i.R();this.i=null},$J:function(a){switch(a){case 0:this.Bn(1,!0);this.data.data=[{type:"Will Enter",responses:[{type:"Block Entry",data:{}}],requirements:[],data:{}}];break;case 1:this.Bn(1,!0);
this.data.data=[{type:"On Enter",responses:[{type:"Warp Player",data:{}}],requirements:[],data:{}}];break;case 2:this.Bn(1,!0);this.data.data=[{type:"Default Event",responses:[{type:"Show Sign",data:{}}],requirements:[],data:{}}];break;case 3:this.Bn(1,!0);this.data.data=[{type:"Will Enter",responses:[{type:"Block Entry",data:{}}],requirements:[{objectType:"NPC"}],data:{}}];break;case 4:this.Bn(1,!0),this.data.data=[{type:"On Enter",responses:[{type:"Allow PVP",data:{}}],requirements:[],data:{}}]}this.lb()},
Bn:function(a,c){switch(a){case 0:this.data.specifier="Item";this.b.main_panel.specifier.contents.ja("Includes: Item");break;case 1:this.data.specifier="Tile";this.b.main_panel.specifier.contents.ja("Includes: Tile");break;case 2:this.data.specifier="NPC";this.b.main_panel.specifier.contents.ja("Includes: NPC");break;case 3:this.data.specifier="None",this.b.main_panel.specifier.contents.ja("Includes: None")}this.data.data=[];c||this.lb()},DR:function(a){1==a&&this.n.Bn(this.n.ZK)},CR:function(a){1==
a&&this.n.$J(this.n.tH)},mk:function(a){this.i.headButton.q(q.j(255,255,255,255));this.i.bodyButton.q(q.j(255,255,255,255));this.i.legButton.q(q.j(255,255,255,255));this.i.feetButton.q(q.j(255,255,255,255));this.i.lArmButton.q(q.j(255,255,255,255));this.i.rArmButton.q(q.j(255,255,255,255));this.i.modButton.q(q.j(255,255,255,255));switch(a){case "head":this.Ec=a;this.i.headButton.q(q.j(255,0,0,255));return;case "body":this.Ec=a;this.i.bodyButton.q(q.j(255,0,0,255));return;case "legs":this.Ec=a;this.i.legButton.q(q.j(255,
0,0,255));return;case "feet":this.Ec=a;this.i.feetButton.q(q.j(255,0,0,255));return;case "mod":this.Ec=a;this.i.modButton.q(q.j(255,0,0,255));return;case "bothArms":this.Ec=a;this.i.lArmButton.q(q.j(255,0,0,255));this.i.rArmButton.q(q.j(255,0,0,255));return}"bothArms"!=this.Ec&&"lArm"!=this.Ec&&"rArm"!=this.Ec&&"lArm"==a?(this.i.lArmButton.q(q.j(255,0,0,255)),this.Ec="lArm"):"bothArms"!=this.Ec&&"lArm"!=this.Ec&&"rArm"!=this.Ec&&"rArm"==a?(this.i.rArmButton.q(q.j(255,0,0,255)),this.Ec="rArm"):"rArm"==
this.Ec&&"lArm"==a?(this.i.lArmButton.q(q.j(255,0,0,255)),this.i.rArmButton.q(q.j(255,0,0,255)),this.Ec="bothArms"):"lArm"==this.Ec&&"rArm"==a?(this.i.lArmButton.q(q.j(255,0,0,255)),this.i.rArmButton.q(q.j(255,0,0,255)),this.Ec="bothArms"):"bothArms"==this.Ec&&"rArm"==a?(this.i.lArmButton.q(q.j(255,0,0,255)),this.Ec="lArm"):"bothArms"==this.Ec&&"lArm"==a&&(this.i.rArmButton.q(q.j(255,0,0,255)),this.Ec="rArm")},lX:function(a,c){if(0<this.n.data.data.length)return this.n.ZK=a,this.ba.g(DropDownList.yd(this.n,
this.n.DR,["Cancel","Clear Script (Required)"],c.S)),!1;this.n.Bn(a)},vb:function(a){if(this._super(a))return!0;this.Me=null;var c=a.S;if(this.ng){var d=this.ng.Oa(c);if(J(this.ng.okbtn,d)){switch(this.En){case "Talk":this.data.data[this.oa.event][this.oa.listtype][this.oa.id].data.options[this.KD]=this.JD.aa(),this.data.data[this.oa.event][this.oa.listtype][this.oa.id].data.say=this.Ld.aa()}this.ng.R();this.KD=this.ng=null;this.Ws();return}if(J(this.ng.cancelbtn,d)){this.ng.R();this.KD=this.ng=null;
this.Ws();return}}if(this.i){d=this.i.Oa(c);if(J(this.i.okbtn,d)){switch(this.En){case "Warp Player":this.data.data[this.oa.event][this.oa.listtype][this.oa.id].data={mapnum:parseInt(this.VD.aa()),index:Q(parseInt(this.WD.aa()),O-parseInt(this.XD.aa()))};break;case "Read Item":this.data.data[this.oa.event][this.oa.listtype][this.oa.id].data={say:this.Ld.aa()};break;case "Script Response":case "Script Requirement":this.data.data[this.oa.event][this.oa.listtype][this.oa.id].data.functionContent=this.Ld.aa();
break;case "Talk":this.data.data[this.oa.event][this.oa.listtype][this.oa.id].data.say=this.Ld.aa();break;case "Is Quest Point":case "Set Quest Point":this.data.data[this.oa.event][this.oa.listtype][this.oa.id].data={quest:this.CJ,objective:this.nJ};break;case "Give /Take Item":case "Has Player Item":this.data.data[this.oa.event][this.oa.listtype][this.oa.id].data={item:this.hj,amount:parseInt(this.gj.aa())};break;case "Modify Player Stats":case "Modify NPC Stats":this.data.data[this.oa.event][this.oa.listtype][this.oa.id].data=
{skill:this.yx,level:parseInt(this.Nl.aa()),xp:parseInt(this.Ol.aa()),health:parseInt(this.Ml.aa())};break;case "Is Panel Visibility":case "Open/Close Panel":this.data.data[this.oa.event][this.oa.listtype][this.oa.id].data={panel:this.wJ,visible:this.Kn};break;case "Is Event Fired By":this.data.data[this.oa.event][this.oa.listtype][this.oa.id].data={object:this.lJ};break;case "Is NPC Actioning":this.data.data[this.oa.event][this.oa.listtype][this.oa.id].data={action:this.UG};break;case "Is Player Inventory Space":this.data.data[this.oa.event][this.oa.listtype][this.oa.id].data=
{space:parseInt(this.Ow.aa())};break;case "Wait":this.data.data[this.oa.event][this.oa.listtype][this.oa.id].data={time:parseInt(this.Gx.aa())};break;case "Repeat Responses":this.data.data[this.oa.event][this.oa.listtype][this.oa.id].data={amount:parseInt(this.cD.aa())};break;case "Is Player Statistics":case "Is NPC Statistics":this.data.data[this.oa.event][this.oa.listtype][this.oa.id].data={skill:this.yx,levelLower:parseInt(this.Nl.aa()),xpLower:parseInt(this.Ol.aa()),healthLower:parseInt(this.Ml.aa()),
levelUpper:parseInt(this.Ax.aa()),xpUpper:parseInt(this.Bx.aa()),healthUpper:parseInt(this.zx.aa())};break;case "Equip Item":this.data.data[this.oa.event][this.oa.listtype][this.oa.id].data={equip:this.Ec}}this.Gw();return!0}if(this.i.headButton&&J(this.i.headButton,d))return this.mk("head"),!0;if(this.i.bodyButton&&J(this.i.bodyButton,d))return this.mk("body"),!0;if(this.i.legButton&&J(this.i.legButton,d))return this.mk("legs"),!0;if(this.i.feetButton&&J(this.i.feetButton,d))return this.mk("feet"),
!0;if(this.i.lArmButton&&J(this.i.lArmButton,d))return this.mk("lArm"),!0;if(this.i.rArmButton&&J(this.i.rArmButton,d))return this.mk("rArm"),!0;if(this.i.modButton&&J(this.i.modButton,d))return this.mk("mod"),!0;if(this.i.visibleButton&&J(this.i.visibleButton,d))return this.Kn=0==this.Kn?1:0,this.i.visibleButton.q(0==this.Kn?q.j(255,0,0,255):q.j(0,255,0,255)),this.i.visibleButton.content.ja(0==this.Kn?"Invisible":"Visible"),!0;if(J(this.i.cancelbtn,d))return console.log(this.zJ),this.data.data[this.oa.event][this.oa.listtype][this.oa.id].data=
K(this.zJ),this.Gw(),!0}else{d=this.b.main_panel.Oa(c);if(J(this.b.main_panel.defaultsbtn,d))return this.ba.g(DropDownList.yd(this,this.defaultSelected,"Block Player;Warp Player;Show Sign;Spawn NPC;Spawn Item;Block NPC;PVP Area".split(";"),a.S)),!0;if(J(this.b.main_panel.specifier,d))return this.ba.g(DropDownList.yd(this,this.lX,["Item","Tile","NPC","None"],a.S)),!0;if(J(this.b.main_panel.okbtn,d)){if(null==this.kb.aa()||""==this.kb.aa())return!0;this.data.name=this.kb.aa();this.Ng=!0;this.n.Xd(this.data);
return!0}if(J(this.b.main_panel.cancelbtn,d)){this.Ng=!0;var e=this.n;this.n.md(function(){e.Xd(null)});return!0}return J(this.b.main_panel,d)?!0:!1}}});Itemeditor=null;
ItemEditor=Popup.extend({Xb:y[0].name,Y:0,Wp:function(a,c){Scripteditor&&(Scripteditor.Fa(),Scripteditor.R(),this.rf=a,this.bc(!0),this.b.main_panel.scriptbtn.text.ja(c.name),this.b.main_panel.scriptbtn.q(q.j(0,255,0,255)))},sD:function(){this.b.main_panel.scriptbtn.text.ja("None");this.b.main_panel.scriptbtn.q(q.j(255,0,0,255))},uc:function(){return{panels:{position:q.a(300,10),children:{background:{ca:"GUI/itemeditor_bg.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(500,330),
children:{namelbl:{label:"Name:",fontSize:20,e:q.a(0,0),position:q.a(4,292),color:q.l(0,0,0)},name_entry:{position:q.a(74,292),size:q.size(266,32),color:q.j(255,255,255,255)},tiles:{e:q.a(0,1),position:q.a(16,272),ca:y[0].name},textureleftbtn:{position:q.a(362,292),size:q.size(16,32),ca:"GUI/texture_change_left.png",e:q.a(0,0)},texturerightbtn:{position:q.a(471,292),size:q.size(16,32),ca:"GUI/texture_change_right.png",e:q.a(0,0)},textureName:{position:q.a(375,292),size:q.size(96,32),ca:"GUI/texture_change_middle.png",
e:q.a(0,0),children:{text:{label:y[0].name,fontSize:12,e:q.a(0.5,0.5),position:q.a(48,16),color:q.l(0,0,0)}}},leftbtn:{position:q.a(0,16),size:q.size(16,256),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"\x3c",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,160),color:q.l(255,255,255)}}},rightbtn:{position:q.a(336,16),size:q.size(16,256),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"\x3e",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,160),color:q.l(255,255,255)}}},upbtn:{position:q.a(16,
272),size:q.size(320,16),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"^",fontSize:12,e:q.a(0.5,0.5),position:q.a(160,8),color:q.l(255,255,255)}}},downbtn:{position:q.a(16,0),size:q.size(320,16),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"v",fontSize:12,e:q.a(0.5,0.5),position:q.a(160,8),color:q.l(255,255,255)}}},stacklbl:{label:"Stackable:",fontSize:12,e:q.a(0,0),position:q.a(360,206),color:q.l(0,0,0)},stackbtn:{position:q.a(360,176),size:q.size(128,26),color:F,e:q.a(0,0),
children:{text:{label:"No",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.l(0,0,0)}}},scriptlbl:{label:"Script:",fontSize:12,e:q.a(0,0),position:q.a(360,262),color:q.l(0,0,0)},scriptbtn:{position:q.a(360,232),size:q.size(128,26),color:F,e:q.a(0,0),children:{text:{label:"None",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.l(0,0,0)}}},highlightnode:{e:q.a(0,0),position:q.a(0,0),size:q.size(32,32),color:q.j(255,100,100,255)},selectednode:{e:q.a(0,0),position:q.a(0,0),size:q.size(32,
32),color:q.j(100,255,100,255)},okbtn:{position:q.a(434,16),size:q.size(32,32),ca:"GUI/tick_icon.png",e:q.a(0,0)},cancelbtn:{position:q.a(384,16),size:q.size(32,32),ca:"GUI/cross_icon.png",e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,330),size:q.size(500,32),children:{header:{label:"Item Editor",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(476,6),size:q.size(20,20),e:q.a(0,0),ca:"GUI/close.png"}}}}}}},Fc:function(){return"itemEditor"},kb:null,n:null,data:null,rf:null,
v:function(a){this._super();this.data={sprite:{texture:y[0].name,position:{x:0,y:0}},script:null,stackable:!1,name:""};this.Xb=y[0].name;this.Y=0;this.rf=this.n=this.kb=null;this.O=q.a(0,0);this.n=a.n;a&&a.data&&(this.data=a.data,this.data.script&&(this.rf=this.data.script))},lk:function(a){A({saveitems:a+"",itemdata:this.data})},ek:function(a,c){A({saveitemswhole:c})},ya:function(){this._super();this.b.main_panel.highlightnode.ra(0);this.b.main_panel.selectednode.ra(127);for(var a in y)y[a].name==
this.data.sprite.texture&&(this.Y=a,this.Xb=y[a].name);this.b.main_panel.textureName.text.ja(this.Xb);this.b.main_panel.tiles.ma(y[this.Y].texture);null!=this.data.script&&(this.b.main_panel.scriptbtn.q(q.j(0,255,0,255)),this.b.main_panel.scriptbtn.text.ja(ObjectLists.aj()[this.data.script].name),this.rf=this.data.script);for(a=this.data.sprite.position.x;10<=a;)a--,this.O.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.O.y++;a=q.a(32*(this.data.sprite.position.x-this.O.x),32*(this.data.sprite.position.y-
this.O.y));this.b.main_panel.selectednode.o(this.b.main_panel.tiles.t.x+a.x,this.b.main_panel.tiles.t.y-(a.y+32));this.kb=new $(this.b.main_panel.name_entry,q.size(this.b.main_panel.name_entry.c().width,this.b.main_panel.name_entry.c().height),q.a(0,this.b.main_panel.name_entry.c().height),this.data.name?this.data.name:"",q.j(255,255,255),q.l(0,0,0));this.kb.xb(!0);this.b.main_panel.stackbtn.q(F);this.b.main_panel.stackbtn.text.ja("No");!0==this.data.stackable&&(this.b.main_panel.stackbtn.q(ua),this.b.main_panel.stackbtn.text.ja("Yes"));
this.rb()},Fa:function(a){this._super();if(this.n){var c=this.n;!0!=a&&this.n.md(function(){c.Xd(null)})}},jj:function(a){a=a.S;this.b.main_panel.highlightnode.ra(0);a=this.b.main_panel.tiles.Oa(a);if(0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tiles.c().width&&a.y<=this.b.main_panel.tiles.c().height)return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+16,this.b.main_panel.highlightnode.ra(127),this.b.main_panel.highlightnode.o(a),!0},rb:function(){this.hc(this.rb);this.b.main_panel.tiles.fa()&&!0==this.b.main_panel.tiles.fa().zc&&
(this.Tc(this.rb),this.b.main_panel.tiles.ib(q.rect(Math.floor(32*this.O.x),Math.floor(32*this.O.y),320>y[this.Y].texture.c().width?y[this.Y].texture.c().width:320,256>y[this.Y].texture.c().height?y[this.Y].texture.c().height:256)))},vb:function(a){if(this._super(a))return!0;this.Me=null;a=a.S;var c=this.b.main_panel.Oa(q.a(a.x,a.y));if(J(this.b.main_panel.okbtn,c)){if(null==this.kb.aa()||""==this.kb.aa())return!0;this.Ng=!0;this.data.name=this.kb.aa();this.data.script=this.rf;this.n.Xd(this.data);
return!0}J(this.b.main_panel.scriptbtn,c)&&(Scripteditor?(Scripteditor.Fa(),Scripteditor.R(),Scripteditor=null):(Scripteditor=new PopupList,Scripteditor.v({n:this,hi:new ScriptEditor,list:ObjectLists.aj(),name:"Script List"}),Scripteditor.ya(),this.g(Scripteditor)));if(J(this.b.main_panel.cancelbtn,c)){this.Ng=!0;var d=this.n;this.n.md(function(){d.Xd(null)});return!0}if(J(this.b.main_panel.leftbtn,c))return 264<y[this.Y].texture.c().width&&0<this.O.x&&(this.O.x--,this.rb()),!0;if(J(this.b.main_panel.rightbtn,
c))return 320<y[this.Y].texture.c().width&&this.O.x<(y[this.Y].texture.c().width-320)/32&&(this.O.x++,this.rb()),!0;if(J(this.b.main_panel.upbtn,c))return 320<y[this.Y].texture.c().height&&0<this.O.y&&(this.O.y--,this.rb()),!0;if(J(this.b.main_panel.downbtn,c))return 320<y[this.Y].texture.c().height&&this.O.y<(y[this.Y].texture.c().height-320)/32&&(this.O.y++,this.rb()),!0;if(J(this.b.main_panel.texturerightbtn,c))return this.In(),!0;if(J(this.b.main_panel.textureleftbtn,c))return this.Jn(),!0;if(J(this.b.main_panel.stackbtn,
c))return this.fL(),!0;if(J(this.b.main_panel.scriptbtn,c))return this.R9(),!0;c=this.b.main_panel.tiles.Oa(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tiles.c().width&&c.y<=this.b.main_panel.tiles.c().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+16;this.b.main_panel.selectednode.ra(0);if(this.b.main_panel.selectednode.t.J!=c.x||this.b.main_panel.selectednode.t.P!=c.y)this.b.main_panel.selectednode.ra(127),this.b.main_panel.selectednode.o(c);a=q.a((this.b.main_panel.selectednode.t.J-16)/32+this.O.x,
8-(this.b.main_panel.selectednode.t.P-16)/32+this.O.y-1);this.data.sprite.position=a;return!0}return!1},fL:function(){this.data.stackable=!this.data.stackable;this.b.main_panel.stackbtn.q(F);this.b.main_panel.stackbtn.text.ja("No");!0==this.data.stackable&&(this.b.main_panel.stackbtn.q(ua),this.b.main_panel.stackbtn.text.ja("Yes"))},In:function(){this.Y>=y.length-1&&(this.Y=-1);this.Y++;this.b.main_panel.tiles.ma(y[this.Y].texture);this.Xb=y[this.Y].name;this.b.main_panel.textureName.text.ja(this.Xb);
this.data.sprite.texture=this.Xb;this.O=q.a(0,0);this.rb()},Jn:function(){0>=this.Y&&(this.Y=y.length);this.Y--;this.b.main_panel.tiles.ma(y[this.Y].texture);this.Xb=y[this.Y].name;this.b.main_panel.textureName.text.ja(this.Xb);this.O=q.a(0,0);this.rb()}});Settingseditor=null;
SettingsEditor=Popup.extend({data:null,I:null,ob:null,Fc:function(){return"Settings Editor"},Fa:function(){this._super()},v:function(){this._super();this.data=K(I)},lk:function(a){A({savequests:a+"",questdata:this.data})},ek:function(a,c){A({savequestswhole:c})},ya:function(){this._super();this.lb()},lb:function(){this.I&&this.I.fc();var a=[],c=[],d=q.ka.f(),e=0,f;for(f in this.data){if("ISSECTION"!=this.data[f]){a[e]=q.H.create();a[e].U(324,32);var g=q.V.create(f,"Arial",18);g.G(q.a(0,0));g.o(q.a(4,
0));g.Eb(q.size(246,0));g.q(q.l(100,0,0));a[e].g(g);a[e].U(324,g.c().height+4);g=[];c.push(g);e++}a[e]=q.H.create();a[e].U(324,32);var h=q.ia.create(q.j(0,0,0,127),316,1);h.o(q.a(4,0));if("ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]){var k=q.A.eb(d.va("GUI/edit.png"));k.o(q.a(300,0));k.G(q.a(0,0))}if("ISSECTION"==this.data[f]){var l=q.V.create(f,"Arial",22);l.q(q.l(255,0,0))}else l=q.V.create(this.data[f],"Arial",15),l.q(q.l(0,0,0));l.G(q.a(0,0));l.o(q.a(4,4));l.Eb(q.size(246,0));g=[];"ISSECTION"!=
this.data[f]&&"ISYESNO"!=this.data[f]&&(k.ac="Edit",g=[],g.push(k));c.push(g);a[e].g(h);"ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]&&a[e].g(k);a[e].g(l);"ISSECTION"==this.data[f]?a[e].U(324,l.c().height+12):a[e].U(324,l.c().height+8);"ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]&&k.Gc((l.c().height+8)/2-10);e++}this.I=this.b.main_panel.list;var m=this;this.I.Zc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(324,c)};this.I.Pc=function(){return a.length};this.I.kd=
function(c){return a[c].c()};this.I.hd=function(c){return a[c]};this.I.gc=function(a,c,d){m.Oa(d.S);if(!0!=m.Cn)switch(a){case "Edit":a=0;d="";for(var e in m.data){if(a==c){d=e;break}a++;if("ISSECTION"!=m.data[e]){if(a==c){d=e;break}a++}}m.ob=d;m.UB(d)}};this.I.ga=ListView.create(this.I);this.I.ga.nd(c);this.I.g(this.I.ga)},uc:function(){return{panels:{position:q.a(300,200),children:{background_image:{ca:"GUI/list_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(365,328),children:{savebtn:{size:q.size(64,
32),color:q.j(0,255,0,255),position:q.a(241,292),e:q.a(0,0),children:{content:{label:"Save",color:q.l(0,0,0),position:q.a(32,16),e:q.a(0.5,0.5)}}},list:{size:q.size(324,284),color:q.j(0,200,200,200),position:q.a(0,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Settings Editor",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),e:q.a(0,0),ca:"GUI/close.png"}}}}}}},jf:null,Da:null,UB:function(a){null!=
this.Da&&(this.Da.fc(),this.jf=null,this.Da.R(),this.ob=this.Da=null);this.Da=q.ia.create(q.j(255,255,255,200),200,200);this.Da.o(q.a((this.b.main_panel.c().width-200)/2,(this.b.main_panel.c().height-200)/2));this.jf=new $(this.Da,q.size(190,150),q.a(0,this.Da.c().height),this.data[a],q.j(100,100,100),q.l(255,255,255),!0);this.jf.xb(!0);this.jf.cK(!0);a=q.ia.create(q.j(0,200,255,255),64,32);a.o(q.a(14,9));var c=q.V.create("OK","Arial",16);c.q(q.l(0,0,0));c.o(32,16);c.G(q.a(0.5,0.5));a.g(c);c=q.ia.create(q.j(200,
0,0,255),64,32);c.o(q.a(120,9));var d=q.V.create("Cancel","Arial",16);d.q(q.l(0,0,0));d.o(32,16);d.G(q.a(0.5,0.5));c.g(d);this.b.main_panel.g(this.Da);this.Da.g(a);this.Da.IC=a;this.Da.g(c);this.Da.cancel=c},vb:function(a){if(this._super(a))return!0;this.Me=null;a=a.S;if(null!=this.Da){a=this.Da.Oa(a);if(J(this.Da.IC,a))return this.data[this.ob]=this.jf.aa(),this.Da.fc(),this.jf=null,this.Da.R(),this.ob=this.Da=null,this.lb(),!0;J(this.Da.cancel,a)&&(this.Da.fc(),this.jf=null,this.Da.R(),this.ob=
this.Da=null);return!0}a=this.b.main_panel.Oa(a);return J(this.b.main_panel.savebtn,a)?(I=K(this.data),console.log(I),console.log(this.data),A({savesettings:this.data}),V.QD(this.data,Date.now()),!0):J(this.b.main_panel,a)?!0:!1}});Questeditor=null;
QuestEditor=Popup.extend({data:null,I:null,n:null,ob:null,Fc:function(){return"Quest Editor"},Fa:function(a){this._super();if(this.n){var c=this.n;!0!=a&&this.n.md(function(){c.Xd(null)})}},v:function(a){this._super();this.data={name:"",objectiveList:["Unstarted","Initial Objective. Click edit to change this first objective. Click the '+' to add another object. You cannot delete every objective (you need at least one)","Finished"]};this.n=a.n;a&&a.data&&(this.data=a.data)},lk:function(a){A({savequests:a+"",
questdata:this.data})},ek:function(a,c){A({savequestswhole:c})},ya:function(){this._super();this.lb();this.kb=new $(this.b.main_panel.nameBox,q.size(this.b.main_panel.nameBox.c().width,this.b.main_panel.nameBox.c().height),q.a(0,this.b.main_panel.nameBox.c().height),this.data.name?this.data.name:"",q.j(255,255,255,255),q.l(0,0,0));this.kb.xb(!0)},lb:function(){this.I&&this.I.fc();var a=[],c=[],d=q.ka.f();this.uH={};var e;console.log(this.data.objectiveList);for(e=0;e<this.data.objectiveList.length-
1;e++)if(a[e]=q.H.create(),a[e].U(324,32),null==this.data.objectiveList[e])this.data.objectiveList.splice(e,1);else{var f=q.A.create();f.ib(q.rect(0,0,316,1));f.q(q.j(0,0,0,127));f.G(q.a(0,0));f.o(q.a(4,0));var g=q.A.eb(d.va("GUI/edit.png"));g.o(q.a(272,0));g.G(q.a(0,0));var h=q.A.eb(d.va("GUI/trash.png"));h.o(q.a(300,0));h.G(q.a(0,0));var k=q.V.create(this.data.objectiveList[e],"Arial",15);k.G(q.a(0,0));k.o(q.a(4,4));k.Eb(q.size(246,0));k.q(q.l(0,0,0));if(0<e){g.ac="Edit";var l=[];l.push(g)}1<e&&
(h.ac="Delete",l.push(h));c.push(l);a[e].g(f);0<e&&a[e].g(g);1<e&&a[e].g(h);a[e].g(k);a[e].U(324,k.c().height+8);g.Gc((k.c().height+8)/2-10);h.Gc((k.c().height+8)/2-10)}d=q.A.create();d.ib(q.rect(0,0,90,26));d.q(q.j(70,200,70,255));d.G(q.a(0,0));f=q.V.create("+","Arial",20);f.o(45,13);f.G(q.a(0.5,0.5));d.o(q.a(120,0));d.ac="Add";d.g(f);c.push([d]);a.push(d);a[e+1]=q.H.create();a[e+1].U(324,32);f=q.A.create();f.ib(q.rect(0,0,316,1));f.q(q.j(0,0,0,127));f.G(q.a(0,0));f.o(q.a(4,0));k=q.V.create(this.data.objectiveList[e],
"Arial",15);k.G(q.a(0,0));k.o(q.a(4,4));k.Eb(q.size(246,0));k.q(q.l(0,0,0));c.push([]);a[e+1].g(f);a[e+1].g(k);a[e+1].U(324,k.c().height+8);g.Gc((k.c().height+8)/2-10);h.Gc((k.c().height+8)/2-10);delete e;this.I=this.b.main_panel.list;var m=this;this.I.Zc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(324,c)};this.I.Pc=function(){return a.length};this.I.kd=function(c){return a[c].c()};this.I.hd=function(c){return a[c]};this.I.gc=function(a,c,d){m.Oa(d.S);if(!0!=m.Cn)switch(a){case "Delete":null!=
m.Da&&(m.Da.fc(),m.jf=null,m.Da.R(),m.Da=null,m.ob=null);m.ba.g(DropDownList.yd(m,m.LB,["Cancel","Delete"],d.S));m.ob=c;break;case "Edit":m.ob=c;m.UB(c);break;case "Add":m.xQ()}};this.I.ga=ListView.create(this.I);this.I.ga.nd(c);this.I.g(this.I.ga)},uc:function(){return{panels:{position:q.a(300,200),children:{background_image:{ca:"GUI/list_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(365,328),children:{nameLabel:{label:"Quest Name",color:q.l(0,0,0),position:q.a(8,312),e:q.a(0,0)},nameBox:{size:q.size(150,
32),color:q.j(255,255,255,255),position:q.a(8,277),e:q.a(0,0)},savebtn:{size:q.size(64,32),color:q.j(0,255,0,255),position:q.a(175,277),e:q.a(0,0),children:{content:{label:"Save",color:q.l(0,0,0),position:q.a(32,16),e:q.a(0.5,0.5)}}},exitbtn:{size:q.size(64,32),color:q.j(255,0,0,255),position:q.a(253,277),e:q.a(0,0),children:{content:{label:"Exit",color:q.l(0,0,0),position:q.a(32,16),e:q.a(0.5,0.5)}}},objectivesLabel:{label:"Objectives",color:q.l(0,0,0),position:q.a(8,254),e:q.a(0,0)},list:{size:q.size(324,
250),color:q.j(0,200,200,200),position:q.a(0,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Quest Editor",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),e:q.a(0,0),ca:"GUI/close.png"}}}}}}},LB:function(a){switch(a){case 1:this.n.ob&&(this.n.data.objectiveList.splice(this.n.ob,1),this.n.lb(),this.n.ob=null)}},xQ:function(){this.data.objectiveList.splice(this.data.objectiveList.length-1,0,"Blank Objective");
this.lb()},jf:null,Da:null,UB:function(a){null!=this.Da&&(this.Da.fc(),this.jf=null,this.Da.R(),this.ob=this.Da=null);this.Da=q.A.create();this.Da.ib(q.rect(0,0,200,200));this.Da.q(q.j(255,255,255,200));this.Da.G(q.a(0,0));this.Da.o(q.a((this.b.main_panel.c().width-200)/2,(this.b.main_panel.c().height-200)/2));this.jf=new $(this.Da,q.size(190,150),q.a(0,this.Da.c().height),this.data.objectiveList[a],q.j(100,100,100),q.l(255,255,255),!0);this.jf.xb(!0);this.jf.cK(!0);a=q.ia.create(q.j(0,200,255,255),
64,32);a.o(q.a(14,9));var c=q.V.create("OK","Arial",16);c.q(q.l(0,0,0));c.o(32,16);c.G(q.a(0.5,0.5));a.g(c);c=q.ia.create(q.j(200,0,0,255),64,32);c.o(q.a(120,9));var d=q.V.create("Cancel","Arial",16);d.q(q.l(0,0,0));d.o(32,16);d.G(q.a(0.5,0.5));c.g(d);this.b.main_panel.g(this.Da);this.Da.g(a);this.Da.IC=a;this.Da.g(c);this.Da.cancel=c},vb:function(a){if(this._super(a))return!0;this.Me=null;a=a.S;if(null!=this.Da){a=this.Da.Oa(a);if(J(this.Da.IC,a))return this.data.objectiveList[this.ob]=this.jf.aa(),
this.Da.fc(),this.jf=null,this.Da.R(),this.ob=this.Da=null,this.lb(),!0;J(this.Da.cancel,a)&&(this.Da.fc(),this.jf=null,this.Da.R(),this.ob=this.Da=null);return!0}a=this.b.main_panel.Oa(a);if(J(this.b.main_panel.savebtn,a)){if(null==this.kb.aa()||""==this.kb.aa())return!0;this.Ng=!0;this.data.name=this.kb.aa();this.n.Xd(this.data);return!0}if(J(this.b.main_panel.exitbtn,a)){this.Ng=!0;var c=this.n;this.n.md(function(){c.Xd(null)});return!0}return J(this.b.main_panel,a)?!0:!1}});Mapeditor=null;
MapEditor=Popup.extend({map:null,O:q.a(0,0),gd:"tiles",XI:null,uw:"ground1",Xb:y[0].name,Y:0,uc:function(){return{panels:{position:q.a(300,10),children:{main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(420,380),color:q.j(0,0,100,120),children:{tab1:{children:{tiles:{e:q.a(0,1),position:q.a(16,336),ca:y[0].name},textureleftbtn:{position:q.a(360,344),size:q.size(16,32),color:E,e:q.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,16),color:q.l(0,0,0)}}},texturerightbtn:{position:q.a(472,
344),size:q.size(16,32),color:E,e:q.a(0,0),children:{text:{label:"\x3e\x3e",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,16),color:q.l(0,0,0)}}},textureName:{position:q.a(376,344),size:q.size(96,32),color:q.j(255,255,255,170),e:q.a(0,0),children:{text:{label:y[0].name,fontSize:12,e:q.a(0.5,0.5),position:q.a(48,16),color:q.l(0,0,0)}}},deletebtn:{position:q.a(360,308),size:q.size(60,32),color:E,e:q.a(0,0),children:{text:{label:"Erase",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,16),color:q.l(0,0,0)}}},
leftbtn:{position:q.a(0,16),size:q.size(16,320),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"\x3c",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,160),color:q.l(255,255,255)}}},rightbtn:{position:q.a(336,16),size:q.size(16,320),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"\x3e",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,160),color:q.l(255,255,255)}}},upbtn:{position:q.a(16,336),size:q.size(320,16),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"^",fontSize:12,e:q.a(0.5,
0.5),position:q.a(160,8),color:q.l(255,255,255)}}},downbtn:{position:q.a(16,0),size:q.size(320,16),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"v",fontSize:12,e:q.a(0.5,0.5),position:q.a(160,8),color:q.l(255,255,255)}}},fillbtn:{position:q.a(428,308),size:q.size(60,32),color:E,e:q.a(0,0),children:{text:{label:"Fill",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,16),color:q.l(0,0,0)}}},ground1btn:{position:q.a(360,278),size:q.size(128,26),color:ua,e:q.a(0,0),children:{text:{label:"Ground 1",
fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.l(0,0,0)}}},ground2btn:{position:q.a(360,248),size:q.size(128,26),color:E,e:q.a(0,0),children:{text:{label:"Ground 2",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.l(0,0,0)}}},groundShadowbtn:{position:q.a(360,218),size:q.size(128,26),color:E,e:q.a(0,0),children:{text:{label:"Ground Shadow",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.l(0,0,0)}}},mask1btn:{position:q.a(360,188),size:q.size(128,26),color:E,e:q.a(0,0),children:{text:{label:"Mask 1",
fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.l(0,0,0)}}},mask2btn:{position:q.a(360,158),size:q.size(128,26),color:E,e:q.a(0,0),children:{text:{label:"Mask 2",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.l(0,0,0)}}},mask3btn:{position:q.a(360,128),size:q.size(128,26),color:E,e:q.a(0,0),children:{text:{label:"Mask 3",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.l(0,0,0)}}},fringe1btn:{position:q.a(360,98),size:q.size(128,26),color:E,e:q.a(0,0),children:{text:{label:"Fringe 1",
fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.l(0,0,0)}}},fringe2btn:{position:q.a(360,68),size:q.size(128,26),color:E,e:q.a(0,0),children:{text:{label:"Fringe 2",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.l(0,0,0)}}},fringeShadowbtn:{position:q.a(360,38),size:q.size(128,26),color:E,e:q.a(0,0),children:{text:{label:"Fringe Shadow",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.l(0,0,0)}}},fringe3btn:{position:q.a(360,8),size:q.size(128,26),color:E,e:q.a(0,0),children:{text:{label:"Fringe 3",
fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.l(0,0,0)}}},highlightnode:{e:q.a(0,0),position:q.a(0,0),size:q.size(N,N),color:q.j(255,100,100,255)},selectednode:{e:q.a(0,0),position:q.a(0,0),size:q.size(N,N),color:q.j(100,255,100,255)}}},tab2:{children:{blockbtn:{position:q.a(8,320),size:q.size(60,32),color:E,e:q.a(0,0),children:{text:{label:"Block",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,16),color:q.l(0,0,0)}}},itembtn:{position:q.a(8,240),size:q.size(60,32),color:E,e:q.a(0,0),children:{text:{label:"Item",
fontSize:12,e:q.a(0.5,0.5),position:q.a(32,16),color:q.l(0,0,0)}}},signbtn:{position:q.a(8,200),size:q.size(60,32),color:E,e:q.a(0,0),children:{text:{label:"Sign",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,16),color:q.l(0,0,0)}}},npcbtn:{position:q.a(8,160),size:q.size(60,32),color:E,e:q.a(0,0),children:{text:{label:"NPC",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,16),color:q.l(0,0,0)}}},amountLabelHead:{visible:!1,label:"Item Amount",fontSize:12,e:q.a(0,0),position:q.a(100,342)},amountLabel:{size:q.size(60,
32),position:q.a(98,-1E6)}}},tab3:{children:{saveBack:{position:q.a(0,78),size:q.size(200,60),color:q.j(0,255,0,100),e:q.a(0,0)},deleteback:{position:q.a(0,138),size:q.size(200,60),color:q.j(255,0,0,100),e:q.a(0,0)},mapnumsback:{position:q.a(0,198),size:q.size(200,162),color:q.j(0,0,0,170),e:q.a(0,0)},mapUp_text:{label:"Map Up",fontSize:10,e:q.a(0.5,0),position:q.a(100,344)},mapUp_entry:{size:q.size(60,32),position:q.a(70,312)},mapDown_text:{label:"Map Down",fontSize:10,e:q.a(0.5,0),position:q.a(100,
232)},mapDown_entry:{size:q.size(60,32),position:q.a(70,200)},mapLeft_text:{label:"Map Left",fontSize:10,e:q.a(0.5,0),position:q.a(38,290)},mapLeft_entry:{size:q.size(60,32),position:q.a(8,258)},mapRight_text:{label:"Map Right",fontSize:10,e:q.a(0.5,0),position:q.a(162,290)},mapRight_entry:{size:q.size(60,32),position:q.a(132,258)},this_map:{position:q.a(70,248),size:q.size(60,60),color:E,e:q.a(0,0),children:{text:{label:"THIS MAP\n#"+U.Zd(),fontSize:12,e:q.a(0.5,0.5),position:q.a(30,30),color:q.l(0,
0,0)}}},clearbtn:{position:q.a(70,150),size:q.size(60,32),color:E,e:q.a(0,0),children:{text:{label:"Clear",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,16),color:q.l(0,0,0)}}},clear_text:{label:"Clear Map: You sure?",fontSize:14,e:q.a(0.5,0),position:q.a(100,182)},clearbtnNo:{position:q.a(10,150),size:q.size(60,32),color:E,e:q.a(0,0),children:{text:{label:"NO",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,16),color:q.l(0,0,0)}}},clearbtnYes:{position:q.a(130,150),size:q.size(60,32),color:E,e:q.a(0,0),
children:{text:{label:"YES",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,16),color:q.l(0,0,0)}}},savebtn:{position:q.a(70,90),size:q.size(60,32),color:E,e:q.a(0,0),children:{text:{label:"Save",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,16),color:q.l(0,0,0)}}},save_text:{label:"Save Map: You sure?",fontSize:14,e:q.a(0.5,0),position:q.a(100,122)},savebtnNo:{position:q.a(10,90),size:q.size(60,32),color:E,e:q.a(0,0),children:{text:{label:"NO",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,16),color:q.l(0,0,
0)}}},savebtnYes:{position:q.a(130,90),size:q.size(60,32),color:E,e:q.a(0,0),children:{text:{label:"YES",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,16),color:q.l(0,0,0)}}},saveOnExit:{position:q.a(40,30),size:q.size(120,32),color:E,e:q.a(0.5,0),children:{content:{label:"",fontSize:14,e:q.a(0.5,0.5),position:q.a(60,15),color:q.l(0,0,0)}}}}},tab1Clickable:{position:q.a(0,360),size:q.size(60,20),color:E,e:q.a(0,0),children:{text:{label:"Editor",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,10),color:q.l(0,
0,0)}}},tab2Clickable:{position:q.a(64,360),size:q.size(60,20),color:E,e:q.a(0,0),children:{text:{label:"Scripts",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,10),color:q.l(0,0,0)}}},tab3Clickable:{position:q.a(128,360),size:q.size(60,20),color:E,e:q.a(0,0),children:{text:{label:"Settings",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,10),color:q.l(0,0,0)}}}}},control_panel:{e:q.a(0,0),position:q.a(0,380),size:q.size(420,32),color:q.j(255,0,0,200),children:{header:{label:"Map Editor - Map #"+U.Zd(),fontSize:20,
e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(391,3),size:q.size(26,26),e:q.a(0,0),color:q.j(255,255,255,200),children:{content:{label:"X",fontSize:20,color:q.l(0,0,0),e:q.a(0.5,0.5),position:q.a(13,13)}}}}}}}}},Fc:function(){return"MapEditor"},O:null,Hs:null,Es:null,Fs:null,Gs:null,gj:null,nj:null,xe:0,rf:null,v:function(a){this._super();this.map=a;this.O=q.a(0,0);this.nj=[null,496,200,200]},ya:function(){this._super();this.b.main_panel.tab1.highlightnode.ra(0);this.b.main_panel.tab1.selectednode.ra(0);
this.Hs=new $(this.b.main_panel.tab3.mapUp_entry,q.size(this.b.main_panel.tab3.mapUp_entry.c().width,this.b.main_panel.tab3.mapUp_entry.c().height),q.a(0,this.b.main_panel.tab3.mapUp_entry.c().height),U.qI()?U.$H():"",q.j(100,100,100),q.l(255,255,255));this.Hs.xb(!0);this.Hs.Rc(!0);this.Es=new $(this.b.main_panel.tab3.mapDown_entry,q.size(this.b.main_panel.tab3.mapDown_entry.c().width,this.b.main_panel.tab3.mapDown_entry.c().height),q.a(0,this.b.main_panel.tab3.mapDown_entry.c().height),U.oI()?U.YH():
"",q.j(100,100,100),q.l(255,255,255));this.Es.xb(!0);this.Es.Rc(!0);this.Fs=new $(this.b.main_panel.tab3.mapLeft_entry,q.size(this.b.main_panel.tab3.mapLeft_entry.c().width,this.b.main_panel.tab3.mapLeft_entry.c().height),q.a(0,this.b.main_panel.tab3.mapLeft_entry.c().height),U.pI()?U.ZH():"",q.j(100,100,100),q.l(255,255,255));this.Fs.xb(!0);this.Fs.Rc(!0);this.Gs=new $(this.b.main_panel.tab3.mapRight_entry,q.size(this.b.main_panel.tab3.mapRight_entry.c().width,this.b.main_panel.tab3.mapRight_entry.c().height),
q.a(0,this.b.main_panel.tab3.mapRight_entry.c().height),U.nC()?U.bC():"",q.j(100,100,100),q.l(255,255,255));this.Gs.xb(!0);this.Gs.Rc(!0);this.gj=new $(this.b.main_panel.tab2.amountLabel,q.size(this.b.main_panel.tab2.amountLabel.c().width,this.b.main_panel.tab2.amountLabel.c().height),q.a(0,this.b.main_panel.tab2.amountLabel.c().height),U.nC()?U.bC():"1",q.j(100,100,100),q.l(255,255,255));this.gj.xb(!0);this.gj.Rc(!0);this.wx(!1);this.xx(!1);this.gx=V.kS();this.CK(this.gx);this.Hl(1);this.rb();U.FK(!0)},
Wp:function(a,c){Signeditor&&(Signeditor.Fa(),this.md(function(){Signeditor.R();Signeditor=null}),this.rf=a,this.bc(!0));Itemeditor&&(Itemeditor.Fa(),this.md(function(){Itemeditor.R();Itemeditor=null}),this.rf=a,this.bc(!0),this.gj.$c.Md("1"),!0==c.stackable&&(this.b.main_panel.tab2.amountLabelHead.D(!0),this.b.main_panel.tab2.amountLabel.o(98,308)));NPCeditor&&(NPCeditor.Fa(),this.md(function(){NPCeditor.R();NPCeditor=null}),this.rf=a,this.bc(!0))},Fa:function(){this._super();!0==this.gx&&(U.lK({up:this.Hs.aa(),
down:this.Es.aa(),left:this.Fs.aa(),right:this.Gs.aa()}),U.uL());U.FK(!1)},jj:function(a){a=a.S;if(1==this.xe&&(this.b.main_panel.tab1.highlightnode.ra(0),a=this.b.main_panel.tab1.tiles.Oa(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.c().width&&a.y<=this.b.main_panel.tab1.tiles.c().height))return a.x=a.x-a.x%N+16,a.y=a.y-a.y%N+16,this.b.main_panel.tab1.highlightnode.ra(127),this.b.main_panel.tab1.highlightnode.o(a),!0},Hl:function(a){if(a!=this.xe){this.b.main_panel.U(this.nj[a],this.b.main_panel.c().height);
this.b.control_panel.U(this.nj[a],this.b.control_panel.c().height);if(3==this.xe||0==this.xe)this.b.main_panel.tab3.mapUp_entry.Db(this.b.main_panel.tab3.mapUp_entry.t.J-1E3),this.b.main_panel.tab3.mapLeft_entry.Db(this.b.main_panel.tab3.mapLeft_entry.t.J-1E3),this.b.main_panel.tab3.mapDown_entry.Db(this.b.main_panel.tab3.mapDown_entry.t.J-1E3),this.b.main_panel.tab3.mapRight_entry.Db(this.b.main_panel.tab3.mapRight_entry.t.J-1E3);1!=this.xe||"erasing"!=this.gd&&"tiles"!=this.gd||(this.gd="blocking");
2==this.xe&&"blocking"==this.gd&&(this.gd="tiles");this.xe=a;this.b.main_panel.tab1.D(!1);this.b.main_panel.tab2.D(!1);this.b.main_panel.tab3.D(!1);this.b.main_panel.tab1Clickable.q(E);this.b.main_panel.tab2Clickable.q(E);this.b.main_panel.tab3Clickable.q(E);this.b.main_panel["tab"+a].D(!0);this.b.main_panel["tab"+a+"Clickable"].q(q.j(255,255,0,255));3==a&&(this.b.main_panel.tab3.mapUp_entry.Db(this.b.main_panel.tab3.mapUp_entry.t.J+1E3),this.b.main_panel.tab3.mapLeft_entry.Db(this.b.main_panel.tab3.mapLeft_entry.t.J+
1E3),this.b.main_panel.tab3.mapDown_entry.Db(this.b.main_panel.tab3.mapDown_entry.t.J+1E3),this.b.main_panel.tab3.mapRight_entry.Db(this.b.main_panel.tab3.mapRight_entry.t.J+1E3));this.b.control_panel.exitBtn.Db(this.nj[a]-29)}},CK:function(a){V.kW(a);this.gx=a;this.b.main_panel.tab3.saveOnExit.q(q.l(255,0,0));this.b.main_panel.tab3.saveOnExit.content.ja("Save on exit: NO");if("true"==a||!0==a)this.b.main_panel.tab3.saveOnExit.q(q.l(0,255,0)),this.b.main_panel.tab3.saveOnExit.content.ja("Save on exit: YES")},
rb:function(){this.hc(this.rb);this.b.main_panel.tab1.tiles.fa()&&!0==this.b.main_panel.tab1.tiles.fa().zc&&(this.Tc(this.rb),this.b.main_panel.tab1.tiles.ib(q.rect(Math.floor(N*this.O.x),Math.floor(N*this.O.y),320>y[this.Y].texture.c().width?y[this.Y].texture.c().width:320,320>y[this.Y].texture.c().height?y[this.Y].texture.c().height:320)))},vb:function(a){if(this._super(a))return!0;this.Me=null;a=a.S;var c=this.b.main_panel.Oa(a);if(J(this.b.main_panel.tab1Clickable,c))return this.Hl(1),!0;if(J(this.b.main_panel.tab2Clickable,
c))return this.Hl(2),!0;if(J(this.b.main_panel.tab3Clickable,c))return this.Hl(3),!0;if(1==this.xe){if(J(this.b.main_panel.tab1.leftbtn,c))return 320<y[this.Y].texture.c().width&&0<this.O.x&&(this.O.x--,this.rb()),!0;if(J(this.b.main_panel.tab1.rightbtn,c))return 320<y[this.Y].texture.c().width&&this.O.x<(y[this.Y].texture.c().width-320)/N&&(this.O.x++,this.rb()),!0;if(J(this.b.main_panel.tab1.upbtn,c))return 320<y[this.Y].texture.c().height&&0<this.O.y&&(this.O.y--,this.rb()),!0;if(J(this.b.main_panel.tab1.downbtn,
c))return 320<y[this.Y].texture.c().height&&this.O.y<(y[this.Y].texture.c().height-320)/N&&(this.O.y++,this.rb()),!0;if(J(this.b.main_panel.tab1.ground1btn,c))return this.oj("ground1"),!0;if(J(this.b.main_panel.tab1.ground2btn,c))return this.oj("ground2"),!0;if(J(this.b.main_panel.tab1.groundShadowbtn,c))return this.oj("groundShadow"),!0;if(J(this.b.main_panel.tab1.mask1btn,c))return this.oj("mask1"),!0;if(J(this.b.main_panel.tab1.mask2btn,c))return this.oj("mask2"),!0;if(J(this.b.main_panel.tab1.mask3btn,
c))return this.oj("mask3"),!0;if(J(this.b.main_panel.tab1.fringe1btn,c))return this.oj("fringe1"),!0;if(J(this.b.main_panel.tab1.fringe2btn,c))return this.oj("fringe2"),!0;if(J(this.b.main_panel.tab1.fringeShadowbtn,c))return this.oj("fringeShadow"),!0;if(J(this.b.main_panel.tab1.fringe3btn,c))return this.oj("fringe3"),!0;if(J(this.b.main_panel.tab1.texturerightbtn,c))return this.In(),!0;if(J(this.b.main_panel.tab1.textureleftbtn,c))return this.Jn(),!0;if(J(this.b.main_panel.tab1.deletebtn,c))return this.gd=
"erasing"==this.gd?"tiles":"erasing",this.b.main_panel.tab1.deletebtn.q(E),"erasing"==this.gd&&this.b.main_panel.tab1.deletebtn.q(F),!0;if(J(this.b.main_panel.tab1.fillbtn,c))return 0!=this.b.main_panel.tab1.selectednode.Zi()&&(U.VR(y[this.Y].name,q.a((this.b.main_panel.tab1.selectednode.t.J-16)/N+this.O.x,Math.floor(320/N)-1-(this.b.main_panel.tab1.selectednode.t.P-16)/N+this.O.y),this.uw),U.et()),!0;c=this.b.main_panel.tab1.tiles.Oa(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.c().width&&
c.y<=this.b.main_panel.tab1.tiles.c().height){c.x=c.x-c.x%N+16;c.y=c.y-c.y%N+16;this.b.main_panel.tab1.selectednode.ra(0);if(this.b.main_panel.tab1.selectednode.t.J!=c.x||this.b.main_panel.tab1.selectednode.t.P!=c.y)this.b.main_panel.tab1.selectednode.ra(127),this.b.main_panel.tab1.selectednode.o(c);return!0}}if(2==this.xe){if(J(this.b.main_panel.tab2.blockbtn,c))return this.b.main_panel.tab2.signbtn.q(E),this.b.main_panel.tab2.npcbtn.q(E),this.b.main_panel.tab2.itembtn.q(E),this.b.main_panel.tab2.blockbtn.q(E),
this.gd="blocking"==this.gd?"tiles":"blocking","blocking"==this.gd&&(this.b.main_panel.tab2.blockbtn.q(F),this.b.main_panel.tab2.amountLabelHead.D(!1),this.b.main_panel.tab2.amountLabel.o(68,-1E5)),!0;if(J(this.b.main_panel.tab2.signbtn,c))return this.b.main_panel.tab2.signbtn.q(E),this.b.main_panel.tab2.npcbtn.q(E),this.b.main_panel.tab2.itembtn.q(E),this.b.main_panel.tab2.blockbtn.q(E),this.b.main_panel.tab2.amountLabelHead.D(!1),this.b.main_panel.tab2.amountLabel.o(68,-1E6),this.gd="signs"==this.gd?
"tiles":"signs","signs"==this.gd&&(null==Signeditor||Signeditor.ba||(Signeditor=null),Signeditor&&(Signeditor.Fa(),Signeditor.R(),Signeditor=null),Signeditor=new PopupList,Signeditor.v({n:this,hi:new SignEditor,list:ObjectLists.ss(),name:"Sign List"}),Signeditor.ya(),this.ba.g(Signeditor),this.bc(!1),this.b.main_panel.tab2.signbtn.q(F)),!0;if(J(this.b.main_panel.tab2.npcbtn,c))return this.b.main_panel.tab2.signbtn.q(E),this.b.main_panel.tab2.npcbtn.q(E),this.b.main_panel.tab2.itembtn.q(E),this.b.main_panel.tab2.blockbtn.q(E),
this.b.main_panel.tab2.amountLabelHead.D(!1),this.b.main_panel.tab2.amountLabel.o(68,-1E6),this.gd="npcs"==this.gd?"tiles":"npcs","npcs"==this.gd&&(null==NPCeditor||NPCeditor.ba||(NPCeditor=null),NPCeditor&&(NPCeditor.Fa(),NPCeditor.R(),NPCeditor=null),NPCeditor=new PopupList,NPCeditor.v({n:this,hi:new NPCEditor,list:ObjectLists.ll(),name:"NPC List"}),NPCeditor.ya(),this.ba.g(NPCeditor),this.bc(!1),this.b.main_panel.tab2.npcbtn.q(F)),!0;if(J(this.b.main_panel.tab2.itembtn,c))return this.b.main_panel.tab2.itembtn.q(E),
this.b.main_panel.tab2.npcbtn.q(E),this.b.main_panel.tab2.blockbtn.q(E),this.b.main_panel.tab2.amountLabelHead.D(!1),this.b.main_panel.tab2.amountLabel.o(68,-1E6),this.gd="items"==this.gd?"tiles":"items","items"==this.gd&&(null==Itemeditor||Itemeditor.ba||(Itemeditor=null),Itemeditor&&(Itemeditor.Fa(),Itemeditor.R(),Itemeditor=null),Itemeditor=new PopupList,Itemeditor.v({n:this,hi:new ItemEditor,list:ObjectLists.Ef(),name:"Item List"}),Itemeditor.ya(),this.ba.g(Itemeditor),this.bc(!1),this.b.main_panel.tab2.itembtn.q(F)),
!0}if(3==this.xe){if(J(this.b.main_panel.tab3.clearbtn,c))return this.wx(!0),!0;if(J(this.b.main_panel.tab3.clearbtnNo,c))return this.wx(!1),!0;if(J(this.b.main_panel.tab3.clearbtnYes,c))return U.hf(),this.wx(!1),!0;if(J(this.b.main_panel.tab3.savebtn,c))return this.xx(!0),!0;if(J(this.b.main_panel.tab3.savebtnNo,c))return this.xx(!1),!0;if(J(this.b.main_panel.tab3.savebtnYes,c))return U.lK({up:this.Hs.aa(),down:this.Es.aa(),left:this.Fs.aa(),right:this.Gs.aa()}),U.uL(),this.xx(!1),!0;if(J(this.b.main_panel.tab3.saveOnExit,
c))return this.CK(!this.gx),!0}return!1},oj:function(a){this.b.main_panel.tab1.ground1btn.q(E);this.b.main_panel.tab1.ground2btn.q(E);this.b.main_panel.tab1.groundShadowbtn.q(E);this.b.main_panel.tab1.mask1btn.q(E);this.b.main_panel.tab1.mask2btn.q(E);this.b.main_panel.tab1.mask3btn.q(E);this.b.main_panel.tab1.fringe1btn.q(E);this.b.main_panel.tab1.fringe2btn.q(E);this.b.main_panel.tab1.fringeShadowbtn.q(E);this.b.main_panel.tab1.fringe3btn.q(E);this.b.main_panel.tab1[a+"btn"].q(ua);this.uw=a},In:function(){this.Y>=
y.length-1&&(this.Y=-1);this.Y++;this.b.main_panel.tab1.tiles.ma(y[this.Y].texture);this.Xb=y[this.Y].name;this.b.main_panel.tab1.textureName.text.ja(this.Xb);this.O=q.a(0,0);this.rb()},Jn:function(){0>=this.Y&&(this.Y=y.length);this.Y--;this.b.main_panel.tab1.tiles.ma(y[this.Y].texture);this.Xb=y[this.Y].name;this.b.main_panel.tab1.textureName.text.ja(this.Xb);this.O=q.a(0,0);this.rb()},wx:function(a){this.b.main_panel.tab3.clearbtnYes.D(a);this.b.main_panel.tab3.clearbtnNo.D(a);this.b.main_panel.tab3.clear_text.D(a);
this.b.main_panel.tab3.clearbtn.D(!a)},xx:function(a){this.b.main_panel.tab3.savebtnYes.D(a);this.b.main_panel.tab3.savebtnNo.D(a);this.b.main_panel.tab3.save_text.D(a);this.b.main_panel.tab3.savebtn.D(!a)},jL:function(a,c,d){if(a[c]==this.XI&&"moved"==d)return!1;this.XI=a[c];switch(this.gd){case "tiles":0!=this.b.main_panel.tab1.selectednode.Zi()&&U.ok(c,y[this.Y].name,q.a((this.b.main_panel.tab1.selectednode.t.J-16)/N+this.O.x,Math.floor(320/N)-1-(this.b.main_panel.tab1.selectednode.t.P-16)/N+this.O.y),
this.uw);break;case "blocking":if(1!=a[c].Bc()){U.Il(c,1);break}U.Il(c,0);break;case "signs":if(null==Signeditor||!Signeditor.ba){if(7!=a[c].Bc()){U.Il(c,7,this.rf);break}U.Il(c,0,null)}break;case "items":if(null==Itemeditor||!Itemeditor.ba){if(4!=a[c].Bc()){U.Il(c,4,this.rf,{amount:this.gj.aa()});break}U.Il(c,0,null)}break;case "npcs":if(null==NPCeditor||!NPCeditor.ba){if(5!=a[c].Bc()){U.Il(c,5,this.rf);break}U.Il(c,0,null)}break;case "erasing":U.OB(c,this.uw)}}});NPCeditor=null;
NPCEditor=Popup.extend({Xb:z[0].name,Y:0,Wp:function(a,c){Scripteditor&&(Scripteditor.Fa(),Scripteditor.R(),this.rf=a,this.bc(!0),this.b.main_panel.scriptbtn.text.ja(c.name),this.b.main_panel.scriptbtn.q(q.j(0,255,0,255)))},sD:function(){this.b.main_panel.scriptbtn.text.ja("None");this.b.main_panel.scriptbtn.q(q.j(255,0,0,255))},uc:function(){return{panels:{position:q.a(300,10),children:{background:{ca:"GUI/itemeditor_bg.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(500,330),
children:{namelbl:{label:"Name:",fontSize:20,e:q.a(0,0),position:q.a(4,292),color:q.l(0,0,0)},name_entry:{position:q.a(74,292),size:q.size(266,32),color:q.j(255,255,255,255)},tiles:{e:q.a(0,1),position:q.a(374,232),ca:z[0].name},textureleftbtn:{position:q.a(362,292),size:q.size(16,32),ca:"GUI/texture_change_left.png",e:q.a(0,0)},texturerightbtn:{position:q.a(471,292),size:q.size(16,32),ca:"GUI/texture_change_right.png",e:q.a(0,0)},textureName:{position:q.a(375,292),size:q.size(96,32),ca:"GUI/texture_change_middle.png",
e:q.a(0,0),children:{text:{label:y[0].name,fontSize:12,e:q.a(0.5,0.5),position:q.a(48,16),color:q.l(0,0,0)}}},upbtn:{position:q.a(374,236),size:q.size(96,16),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"^",fontSize:12,e:q.a(0.5,0.5),position:q.a(48,8),color:q.l(255,255,255)}}},downbtn:{position:q.a(374,86),size:q.size(96,16),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"v",fontSize:12,e:q.a(0.5,0.5),position:q.a(48,8),color:q.l(255,255,255)}}},scriptlbl:{label:"Script:",fontSize:12,
e:q.a(0,0),position:q.a(8,262),color:q.l(0,0,0)},scriptbtn:{position:q.a(8,232),size:q.size(128,26),color:F,e:q.a(0,0),children:{text:{label:"None",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.l(0,0,0)}}},okbtn:{position:q.a(434,16),size:q.size(32,32),ca:"GUI/tick_icon.png",e:q.a(0,0)},cancelbtn:{position:q.a(384,16),size:q.size(32,32),ca:"GUI/cross_icon.png",e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,330),size:q.size(500,32),children:{header:{label:"Item Editor",fontSize:20,
e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(476,6),size:q.size(20,20),e:q.a(0,0),ca:"GUI/close.png"}}}}}}},Fc:function(){return"npcEditor"},kb:null,n:null,data:null,v:function(a){this._super();this.data={name:"",sprite:{texture:null,number:null},script:null};this.Xb=z[0].name;this.Y=0;this.n=this.kb=null;this.O=q.a(0,0);this.n=a.n;a&&a.data&&(this.data=a.data,this.data.sprite.number&&(this.O.y=this.data.sprite.number),this.data.script&&(this.rf=this.data.script))},lk:function(a){A({savenpcs:a+
"",npcsdata:this.data})},ek:function(a,c){A({savenpcswhole:c})},ya:function(){this._super();for(var a in z)z[a].name==this.data.sprite.texture&&(this.Y=a,this.Xb=z[a].name);this.b.main_panel.textureName.text.ja(this.Xb);this.b.main_panel.tiles.ma(z[this.Y].texture);null!=this.data.script&&(this.b.main_panel.scriptbtn.q(q.j(0,255,0,255)),this.b.main_panel.scriptbtn.text.ja(ObjectLists.aj()[this.data.script].name),this.rf=this.data.script);this.kb=new $(this.b.main_panel.name_entry,q.size(this.b.main_panel.name_entry.c().width,
this.b.main_panel.name_entry.c().height),q.a(0,this.b.main_panel.name_entry.c().height),this.data.name?this.data.name:"",q.j(100,100,100),q.l(255,255,255));this.kb.xb(!0);this.rb()},Fa:function(a){this._super();if(this.n){var c=this.n;!0!=a&&this.n.md(function(){c.Xd(null)})}},rb:function(){this.hc(this.rb);this.b.main_panel.tiles.fa()&&!0==this.b.main_panel.tiles.fa().zc&&(this.Tc(this.rb),this.b.main_panel.tiles.ib(q.rect(Math.floor(96*this.O.x),Math.floor(128*this.O.y),96>z[this.Y].texture.c().width?
z[this.Y].texture.c().width:96,128>z[this.Y].texture.c().height?z[this.Y].texture.c().height:128)))},vb:function(a){if(this._super(a))return!0;this.Me=null;a=this.b.main_panel.Oa(a.S);if(J(this.b.main_panel.okbtn,a)){if(null==this.kb.aa()||""==this.kb.aa())return!0;this.Ng=!0;this.data.name=this.kb.aa();this.data.sprite.number=this.O.y;this.data.script=this.rf;this.n.Xd(this.data);return!0}if(J(this.b.main_panel.cancelbtn,a)){this.Ng=!0;var c=this.n;this.n.md(function(){c.Xd(null)});return!0}J(this.b.main_panel.scriptbtn,
a)&&(Scripteditor?(Scripteditor.Fa(),Scripteditor.R(),Scripteditor=null):(Scripteditor=new PopupList,Scripteditor.v({n:this,hi:new ScriptEditor,list:ObjectLists.aj(),name:"Script List"}),Scripteditor.ya(),this.g(Scripteditor)));return J(this.b.main_panel.upbtn,a)?(320<z[this.Y].texture.c().height&&0<this.O.y&&(this.O.y--,this.rb()),!0):J(this.b.main_panel.downbtn,a)?(320<z[this.Y].texture.c().height&&this.O.y<(z[this.Y].texture.c().height-320)/32&&(this.O.y++,this.rb()),!0):J(this.b.main_panel.texturerightbtn,
a)?(this.In(),!0):J(this.b.main_panel.textureleftbtn,a)?(this.Jn(),!0):!1},fL:function(){this.data.stackable=!this.data.stackable;this.b.main_panel.stackbtn.q(F);this.b.main_panel.stackbtn.text.ja("NOT STACKABLE");!0==this.data.stackable&&(this.b.main_panel.stackbtn.q(ua),this.b.main_panel.stackbtn.text.ja("IS STACKABLE"))},In:function(){this.Y>=z.length-1&&(this.Y=-1);this.Y++;this.b.main_panel.tiles.ma(z[this.Y].texture);this.Xb=z[this.Y].name;this.b.main_panel.textureName.text.ja(this.Xb);this.data.sprite.texture=
this.Xb;this.O=q.a(0,0);this.rb()},Jn:function(){0>=this.Y&&(this.Y=z.length);this.Y--;this.b.main_panel.tiles.ma(z[this.Y].texture);this.Xb=z[this.Y].name;this.b.main_panel.textureName.text.ja(this.Xb);this.O=q.a(0,0);this.rb()}});Skillseditor=null;
SkillsEditor=Popup.extend({Xb:y[0].name,Y:0,uc:function(){return{panels:{position:q.a(300,10),children:{main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(420,396),color:q.j(0,0,100,120),children:{tab1:{children:{tiles:{e:q.a(0,1),position:q.a(16,320),ca:y[0].name},textureleftbtn:{position:q.a(208,340),size:q.size(16,32),color:E,e:q.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,16),color:q.l(0,0,0)}}},texturerightbtn:{position:q.a(320,340),size:q.size(16,32),
color:E,e:q.a(0,0),children:{text:{label:"\x3e\x3e",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,16),color:q.l(0,0,0)}}},textureName:{position:q.a(224,340),size:q.size(96,32),color:q.j(255,255,255,170),e:q.a(0,0),children:{text:{label:y[0].name,fontSize:12,e:q.a(0.5,0.5),position:q.a(48,16),color:q.l(0,0,0)}}},leftbtn:{position:q.a(0,64),size:q.size(16,252),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"\x3c",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,160),color:q.l(255,255,255)}}},rightbtn:{position:q.a(336,
64),size:q.size(16,252),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"\x3e",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,160),color:q.l(255,255,255)}}},upbtn:{position:q.a(16,320),size:q.size(320,16),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"^",fontSize:12,e:q.a(0.5,0.5),position:q.a(160,8),color:q.l(255,255,255)}}},downbtn:{position:q.a(16,48),size:q.size(320,16),color:q.j(0,0,255,255),e:q.a(0,0),children:{text:{label:"v",fontSize:12,e:q.a(0.5,0.5),position:q.a(160,8),color:q.l(255,
255,255)}}},highlightnode:{e:q.a(0,0),position:q.a(0,0),size:q.size(32,32),color:q.j(255,100,100,255)},selectednode:{e:q.a(0,0),position:q.a(0,0),size:q.size(32,32),color:q.j(100,255,100,255)}}},tab2:{children:{name_text:{label:"Skill Name",fontSize:10,e:q.a(0,0),position:q.a(8,344)},name_entry:{size:q.size(136,32),position:q.a(4,312)},healthcolor_text:{label:"Healthbar Color",fontSize:10,e:q.a(0,0),position:q.a(8,250)},healthcolor_entry:{size:q.size(136,32),position:q.a(4,210)},tile:{e:q.a(0,1),
position:q.a(55,150),ca:y[0].name},healthbtn:{position:q.a(8,265),size:q.size(128,26),color:F,e:q.a(0,0),children:{text:{label:"NOT HEALTHBAR",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.l(0,0,0)}}}}},tab1Clickable:{position:q.a(0,376),size:q.size(60,20),color:E,e:q.a(0,0),children:{text:{label:"Icon",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,10),color:q.l(0,0,0)}}},tab2Clickable:{position:q.a(64,376),size:q.size(60,20),color:E,e:q.a(0,0),children:{text:{label:"Details",fontSize:12,e:q.a(0.5,
0.5),position:q.a(32,10),color:q.l(0,0,0)}}},okbtn:{position:q.a(76,8),size:q.size(60,32),color:E,e:q.a(0,0),children:{text:{label:"OK",fontSize:12,e:q.a(0.5,0.5),position:q.a(30,16),color:q.l(0,0,0)}}},cancelbtn:{position:q.a(8,8),size:q.size(60,32),color:E,e:q.a(0,0),children:{text:{label:"Cancel",fontSize:12,e:q.a(0.5,0.5),position:q.a(30,16),color:q.l(0,0,0)}}}}},control_panel:{e:q.a(0,0),position:q.a(0,396),size:q.size(420,32),color:q.j(255,0,0,200),children:{header:{label:"Skill Editor",fontSize:20,
e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(391,3),size:q.size(26,26),e:q.a(0,0),color:q.j(255,255,255,200),children:{content:{label:"X",fontSize:20,color:q.l(0,0,0),e:q.a(0.5,0.5),position:q.a(13,13)}}}}}}}}},Fc:function(){return"SkillsEditor"},kb:null,Fp:null,nj:null,xe:0,n:null,data:null,v:function(a){this._super();this.data={sprite:{texture:y[0].name,position:{x:0,y:0}},additionalData:{},healthbar:null,name:""};this.Xb=y[0].name;this.Y=0;this.nj=this.kb=null;this.xe=0;this.n=null;this.O=
q.a(0,0);this.nj=[null,352,142];this.n=a.n;a&&a.data&&(this.data=a.data)},lk:function(a){A({saveskills:a+"",skillsdata:this.data})},ek:function(a,c){A({saveskillswhole:c})},ya:function(){this._super();this.b.main_panel.tab1.highlightnode.ra(0);this.b.main_panel.tab1.selectednode.ra(127);for(var a in y)y[a].name==this.data.sprite.texture&&(this.Y=a,this.Xb=y[a].name);this.b.main_panel.tab1.textureName.text.ja(this.Xb);this.b.main_panel.tab1.tiles.ma(y[this.Y].texture);for(a=this.data.sprite.position.x;10<=
a;)a--,this.O.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.O.y++;a=q.a(32*(this.data.sprite.position.x-this.O.x),32*(this.data.sprite.position.y-this.O.y));this.b.main_panel.tab1.selectednode.o(this.b.main_panel.tab1.tiles.t.x+a.x,this.b.main_panel.tab1.tiles.t.y-(a.y+32));this.b.main_panel.tab2.tile.ma(y[this.Y].texture);this.b.main_panel.tab2.tile.ib(q.rect(Math.floor(32*this.data.sprite.position.x),Math.floor(32*this.data.sprite.position.y),32,32));this.kb=new $(this.b.main_panel.tab2.name_entry,
q.size(this.b.main_panel.tab2.name_entry.c().width,this.b.main_panel.tab2.name_entry.c().height),q.a(0,this.b.main_panel.tab2.name_entry.c().height),this.data.name?this.data.name:"",q.j(100,100,100),q.l(255,255,255));this.kb.xb(!0);this.Fp=new $(this.b.main_panel.tab2.healthcolor_entry,q.size(this.b.main_panel.tab2.healthcolor_entry.c().width,this.b.main_panel.tab2.healthcolor_entry.c().height),q.a(0,this.b.main_panel.tab2.healthcolor_entry.c().height),this.data.healthbar?this.data.healthbar:"",q.j(100,
100,100),q.l(255,255,255));this.Fp.xb(!0);this.b.main_panel.tab2.healthbtn.q(F);this.b.main_panel.tab2.healthbtn.text.ja("NOT HEALTHBAR");null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.q(ua),this.b.main_panel.tab2.healthbtn.text.ja("IS HEALTHBAR"));this.Hl(1);this.rb()},Aaa:function(){},Fa:function(a){this._super();if(this.n){var c=this.n;!0!=a&&this.n.md(function(){c.Xd(null)})}},jj:function(a){a=a.S;if(1==this.xe&&(this.b.main_panel.tab1.highlightnode.ra(0),
a=this.b.main_panel.tab1.tiles.Oa(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.c().width&&a.y<=this.b.main_panel.tab1.tiles.c().height))return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+64,this.b.main_panel.tab1.highlightnode.ra(127),this.b.main_panel.tab1.highlightnode.o(a),!0},Hl:function(a){a!=this.xe&&(this.b.main_panel.U(this.nj[a],this.b.main_panel.c().height),this.b.control_panel.U(this.nj[a],this.b.control_panel.c().height),this.b.main_panel.tab2.name_entry.Db(this.b.main_panel.tab2.name_entry.t.J-
1E3),this.b.main_panel.tab2.healthcolor_entry.Db(this.b.main_panel.tab2.healthcolor_entry.t.J-1E3),this.b.main_panel.tab2.healthcolor_text.D(!1),this.xe=a,this.b.main_panel.tab1.D(!1),this.b.main_panel.tab2.D(!1),this.b.main_panel.tab1Clickable.q(E),this.b.main_panel.tab2Clickable.q(E),this.b.main_panel["tab"+a].D(!0),this.b.main_panel["tab"+a+"Clickable"].q(q.j(255,255,0,255)),this.b.control_panel.exitBtn.Db(this.nj[a]-29));2==a&&(this.b.main_panel.tab2.name_entry.Db(4),null!=this.data.healthbar&&
""!=this.data.healthbar&&(this.b.main_panel.tab2.healthcolor_entry.Db(4),this.b.main_panel.tab2.healthcolor_text.D(!0)))},rb:function(){this.hc(this.rb);this.b.main_panel.tab1.tiles.fa()&&!0==this.b.main_panel.tab1.tiles.fa().zc&&(this.Tc(this.rb),this.b.main_panel.tab1.tiles.ib(q.rect(Math.floor(32*this.O.x),Math.floor(32*this.O.y),320>y[this.Y].texture.c().width?y[this.Y].texture.c().width:320,256>y[this.Y].texture.c().height?y[this.Y].texture.c().height:256)))},vb:function(a){if(this._super(a))return!0;
this.Me=null;a=a.S;var c=this.b.main_panel.Oa(a);if(J(this.b.main_panel.tab1Clickable,c))return this.Hl(1),!0;if(J(this.b.main_panel.tab2Clickable,c))return this.Hl(2),!0;if(J(this.b.main_panel.okbtn,c)){if(null==this.kb.aa()||""==this.kb.aa())return!0;this.Ng=!0;this.data.name=this.kb.aa();if(null!=this.Fp.aa()||""!=this.Fp.aa())this.data.healthbar=this.Fp.aa();this.n.Xd(this.data);return!0}if(J(this.b.main_panel.cancelbtn,c)){this.Ng=!0;var d=this.n;this.n.md(function(){d.Xd(null)});return!0}if(1==
this.xe){if(J(this.b.main_panel.tab1.leftbtn,c))return 264<y[this.Y].texture.c().width&&0<this.O.x&&(this.O.x--,this.rb()),!0;if(J(this.b.main_panel.tab1.rightbtn,c))return 320<y[this.Y].texture.c().width&&this.O.x<(y[this.Y].texture.c().width-320)/32&&(this.O.x++,this.rb()),!0;if(J(this.b.main_panel.tab1.upbtn,c))return 320<y[this.Y].texture.c().height&&0<this.O.y&&(this.O.y--,this.rb()),!0;if(J(this.b.main_panel.tab1.downbtn,c))return 320<y[this.Y].texture.c().height&&this.O.y<(y[this.Y].texture.c().height-
320)/32&&(this.O.y++,this.rb()),!0;if(J(this.b.main_panel.tab1.texturerightbtn,c))return this.In(),!0;if(J(this.b.main_panel.tab1.textureleftbtn,c))return this.Jn(),!0;c=this.b.main_panel.tab1.tiles.Oa(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.c().width&&c.y<=this.b.main_panel.tab1.tiles.c().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+64;this.b.main_panel.tab1.selectednode.ra(0);if(this.b.main_panel.tab1.selectednode.t.J!=c.x||this.b.main_panel.tab1.selectednode.t.P!=c.y)this.b.main_panel.tab1.selectednode.ra(127),
this.b.main_panel.tab1.selectednode.o(c);a=q.a((this.b.main_panel.tab1.selectednode.t.J-16)/32+this.O.x,8-(this.b.main_panel.tab1.selectednode.t.P-64)/32+this.O.y-1);this.b.main_panel.tab2.tile.ib(q.rect(32*a.x,32*a.y,32,32));this.data.sprite.position=a;console.log("TOUCHED");return!0}}return 2==this.xe&&J(this.b.main_panel.tab2.healthbtn,c)?(this.pX(),!0):!1},pX:function(){this.b.main_panel.tab2.healthcolor_entry.Db(this.b.main_panel.tab2.healthcolor_entry.t.J-1E3);this.b.main_panel.tab2.healthcolor_text.D(!1);
null!=this.data.healthbar&&""!=this.data.healthbar?(this.data.healthbar="",this.Fp.Md("")):(this.data.healthbar="FF0000",this.b.main_panel.tab2.healthcolor_entry.Db(4),this.b.main_panel.tab2.healthcolor_text.D(!0));this.b.main_panel.tab2.healthbtn.q(F);this.b.main_panel.tab2.healthbtn.text.ja("NOT HEALTHBAR");null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.q(ua),this.b.main_panel.tab2.healthbtn.text.ja("IS HEALTHBAR"))},In:function(){this.Y>=y.length-1&&(this.Y=
-1);this.Y++;this.b.main_panel.tab1.tiles.ma(y[this.Y].texture);this.b.main_panel.tab2.tile.ma(y[this.Y].texture);this.Xb=y[this.Y].name;this.b.main_panel.tab1.textureName.text.ja(this.Xb);this.data.sprite.texture=this.Xb;this.O=q.a(0,0);this.rb()},Jn:function(){0>=this.Y&&(this.Y=y.length);this.Y--;this.b.main_panel.tab1.tiles.ma(y[this.Y].texture);this.b.main_panel.tab2.tile.ma(y[this.Y].texture);this.Xb=y[this.Y].name;this.b.main_panel.tab1.textureName.text.ja(this.Xb);this.O=q.a(0,0);this.rb()}});PopupList=Popup.extend({ag:null,Oc:[],FC:null,Cn:!1,fx:-1,r7:0,uH:null,I:null,nI:!1,Fa:function(){this._super();this.n&&(this.n.bc(!0),!this.nI&&this.n.sD&&this.n.sD(null,null))},v:function(a){this._super();this.ag=null;this.Oc=[];this.FC=null;this.Cn=!1;this.fx=-1;this.ag=a.hi;a.list&&(this.Oc=a.list);this.FC=a.name;this.n=a.n},ya:function(){this._super();this.lb()},I:null,lb:function(){this.I&&this.I.ga.R();var a=[],c=[],d=q.ka.f();this.uH={};for(var e in this.Oc)if(a[e]=q.H.create(),a[e].U(324,
32),null==this.Oc[e])this.Oc.splice(e,1);else{if(null!=this.n){var f=q.A.eb(d.va("GUI/use.png"));f.o(q.a(244,6));f.G(q.a(0,0))}var g=q.ia.create(q.j(0,0,0,127),316,1);g.o(q.a(4,0));var h=q.V.create(this.Oc[e].name,"Arial",20);h.G(q.a(0,0.5));h.o(q.a(0,16));var k=q.A.eb(d.va("GUI/edit.png"));k.o(q.a(272,6));k.G(q.a(0,0));var l=q.A.eb(d.va("GUI/trash.png"));l.o(q.a(300,6));l.G(q.a(0,0));k.ac="Edit";var m=[];m.push(k);l.ac="Delete";m.push(l);null!=this.n&&(f.ac="Use",m.push(f));c.push(m);a[e].g(g);a[e].g(h);
a[e].g(k);a[e].g(l);null!=this.n&&a[e].g(f)}d=q.ia.create(q.j(70,200,70,255),90,26);e=q.V.create("+","Arial",20);e.o(45,13);e.G(q.a(0.5,0.5));d.o(q.a(120,0));d.ac="Add";d.g(e);c.push([d]);a.push(d);this.I=this.b.main_panel.list;var n=this;this.I.Zc=function(){return q.size(324,32*a.length)};this.I.Pc=function(){return a.length};this.I.kd=function(c){return a[c].c()};this.I.hd=function(c){return a[c]};this.I.gc=function(a,c,d){n.Oa(d.S);if(!0!=n.Cn)switch(a){case "Delete":n.ba.g(DropDownList.yd(n,
n.LB,["Cancel","Delete"],d.S));n.ob=c;break;case "Edit":n.ag.ba&&n.ag.R();n.Cn=!0;n.ag.v({n:n,data:n.Oc[c]});n.ba.g(n.ag);n.bc(!1);n.ag.ya();n.fx=c+"";break;case "Add":n.fH=!0;n.Cn=!0;n.fx=n.Oc.length;n.ag.v({n:n,data:null});n.bc(!1);n.ba.g(n.ag);n.ag.ya();break;case "Use":n.n.Wp(c,n.Oc[c]),n.nI=!0}};this.I.ga=ListView.create(this.I);this.I.ga.nd(c);this.I.g(this.I.ga)},uc:function(){return{panels:{position:q.a(300,200),children:{background_image:{ca:"GUI/list_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,
0),size:q.size(365,328),children:{list:{size:q.size(324,328),position:q.a(0,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:this.FC,fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),e:q.a(0,0),ca:"GUI/close.png"}}}}}}},ob:null,LB:function(a){switch(a){case 1:null!=this.n.ob&&(this.n.xR(this.n.ob),this.n.ob=null)}},Xd:function(a){a&&(this.ag.lk(this.fx),this.fH&&(this.Oc.push(a),this.lb()));this.bc(!0);
this.Cn=this.fH=!1;var c=this;this.md(function(){c.ag.Fa(!0);c.ag.R()})},xR:function(a){this.Oc.splice(a,1);this.ag.ek(a,this.Oc);this.lb()}});Signeditor=null;
SignEditor=Popup.extend({Fc:function(){return"SignEditor"},lk:function(a){A({savesigns:a+"",signsdata:this.data})},ek:function(a,c){A({savesignswhole:c})},uc:function(){return{panels:{position:q.a(300,200),children:{background:{ca:"GUI/signeditor_bg.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(142,256),children:{okbtn:{position:q.a(88,16),size:q.size(32,32),ca:"GUI/tick_icon.png",e:q.a(0,0)},cancelbtn:{position:q.a(22,16),size:q.size(32,32),ca:"GUI/cross_icon.png",e:q.a(0,0)},namelbl:{label:"Name of sign.",
fontSize:12,e:q.a(0,0),position:q.a(6,238),color:q.l(0,0,0)},nameEntry:{position:q.a(4,206),size:q.size(120,30)},signlbl:{label:"Contents",fontSize:12,e:q.a(0,0),position:q.a(6,190),color:q.l(0,0,0)},signEntry:{position:q.a(4,60),size:q.size(120,128)}}},control_panel:{e:q.a(0,0),position:q.a(0,256),size:q.size(142,32),children:{header:{label:"Sign Editor",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(118,6),size:q.size(20,20),e:q.a(0,0),ca:"GUI/close.png"}}}}}}},kb:null,Xp:null,
n:null,data:null,v:function(a){this._super();this.n=this.Xp=this.kb=null;this.data={label:"",name:""};a.data&&(this.data=a.data);this.n=a.n},ya:function(){this._super();this.kb=new $(this.b.main_panel.nameEntry,q.size(this.b.main_panel.nameEntry.c().width,this.b.main_panel.nameEntry.c().height),q.a(0,this.b.main_panel.nameEntry.c().height),this.data.name,q.j(100,100,100),q.l(255,255,255));this.kb.xb(!0);this.Xp=new $(this.b.main_panel.signEntry,q.size(this.b.main_panel.signEntry.c().width,this.b.main_panel.signEntry.c().height),
q.a(0,this.b.main_panel.signEntry.c().height),""+this.data.label,q.j(100,100,100),q.l(255,255,255),!0);this.Xp.xb(!0)},vb:function(a){if(this._super(a))return!0;this.Me=null;a=this.b.main_panel.Oa(a.S);if(J(this.b.main_panel.okbtn,a)){if(null==this.kb.aa()||""==this.kb.aa()||null==this.Xp.aa()||""==this.Xp.aa())return!0;this.Ng=!0;this.data.label=this.Xp.aa();this.data.name=this.kb.aa();this.n.Xd(this.data);return!0}if(J(this.b.main_panel.cancelbtn,a)){this.Ng=!0;var c=this.n;this.n.md(function(){c.Xd(null)});
return!0}},Fa:function(a){this._super();var c=this.n;a||this.n.md(function(){c.Xd(null)})}});var L=Ga.extend({ctor:function(){this._super()},yL:function(){this._super()},ya:function(){this._super()},Fa:function(){this._super()},vb:function(a){q.hb(this.b.health_panel.fb(),a.S)&&G.f().ml("Game")}});NewsPanel=null;
News=Popup.extend({data:null,I:null,ob:null,Fc:function(){return"Credits"},Fa:function(){this._super()},v:function(){this._super();this.data={"24th November 2014: (v0.75)":["Re-introduced dependancies so that I can added orientation change logic to the project. Clicking and dragging a client window now correctly resizes the game."],"16th November 2014: (v0.75)":["Cleaned up project dependancies, removed dependancy on socket.io and cocos-utils changes."],"11th November 2014: (v0.74)":["Added quest log (hotkey Q).","Implemented quest response logic. Added 2 additional 'quest unstarted' and 'quest finished' parameters"],
"10th November 2014: (v0.735)":["Added user extradata content for subscripting. Allows for developers to code in specific scripting logic if needed.","Extradata updates with user login data and is purposefully not localstorage based."],"9th November 2014: (v0.733)":["Added talking and talk with option callback to the npc scripts contexts."],"8th November 2014: (v0.731)":["Fixed NPC editor.","Added talk graphic and basic logic for npc interaction","Abstracted Item script logic to a utils function...wiped a lot of duplicate code."],
"25th October 2014: (v0.729)":["Added scripting response logic for giving/taking items.","Added scripting requirements logic for if a panel is visible and inventory has a certain amount of slots."],"25th October 2014: (v0.727)":["Fixed a bunch of persistant bugs. Game is now much much more stable than it was.","Added scripts for on pickup and on drop. Added some additional response logic for warping the player. Added requirement logic for check if player has items and if player stats are within certain ranges."],
"24th October 2014: (v0.724)":["Added functionality to more scripts. Items can now use the destroy and open/close panel scripts.","Fixed equip script to use the equip position defined within the scripting system instead of previously defined sub-item types from previous versions."],"23rd October 2014: (v0.722)":["Added functionality to some item scripts. Game now modifies inventory drop down behaviour based on responses type (read/equip).","Items can now influence player stats on equip, dequip, swapped and on read."],
"30th September 2014: (v0.72)":["Added user saving and loading for player position, items and equipment. Picked up and equipped items are now stored and saved regardless of session.","Edited the skills panel to utilise the list view logic. Skills menu now shows level and experience progression and uses data from the user account","Added health manipulation functionality utilising new skill logic as noted in the previous point."],"27th September 2014: (v0.72)":["Added registration and logging in system. Users can now have automatic login setup for their accounts and player data is starting to be saved from an actual account.",
"Server now has a new folder where user data is stored.","Added the beginnings of a user ranking system, game editors can now only be accessed if the player rank is above 1. Rank 1 is now the default registration rank."],"25th August 2014: (v0.718)":["Added 90% of subeditors needed for the scripting system. Go into the script editor and press the pencil icon on the responses and requirements to edit their core data.","Updated script panel texture to utilize inpanel submenu editors.","Abstracted out the script editor so that its not dependant on certain types.",
"Added/removed requirements responses based on logical conclusions on what is actually needed. Consume as an item response, for example, is unecessary because it would work identically to destroy."],"17th August 2014: (v0.714)":["Added basic template logic of new scripting editor system. Scripts can be saved and loaded like other list systems. This editor currently does not allow you to apply scripts to anything (it is simply the GUI interface template logic that's in there). The item editor has been changed to utilize the new saved scripts list.",
"Fixed localstorage issue caused by settings implementation. Game now does not now load until the game is fully in sync. The issue was causing an error on some game-loads because the localstorage was not yet available (requiring a refresh)."],"11th August 2014: (v0.708)":["Added settings menu for various game controls. Settings menu only currently controls a load of in game string settings. Also added the additional required admin panel graphic for settings access. The new chatbox command is /editsettings.",
"Added scrolling credits button to login page and populated it.","Added this scrolling news feed to login page and obviously populated it as well."],"11th August 2014 (v0.7)":["Added some additional custom gui for some of the editors.","Fixed a lot of bugs (and I mean a lot).","Added 0.7 download to site."],"10th August 2014 (v0.695)":["Added quest objective editor. New button now made usable in menu.","Objective editor utilizes abstract scrolling list from 0.69."]}},lk:function(a){A({savequests:a+
"",questdata:this.data})},ek:function(a,c){A({savequestswhole:c})},ya:function(){this._super();this.lb()},lb:function(){this.I&&this.I.fc();var a=[],c=[];q.ka.f();var d=0,e;for(e in this.data){a[d]=q.H.create();a[d].U(324,32);var f=q.V.create(e,"Arial",18);f.G(q.a(0,0));f.o(q.a(4,0));f.Eb(q.size(246,0));f.q(q.l(100,0,0));a[d].g(f);a[d].U(324,f.c().height+4);f=[];c.push(f);d++;for(var g in this.data[e]){a[d]=q.H.create();a[d].U(324,32);var h=q.ia.create(q.j(0,0,0,127),316,1);h.o(q.a(4,0));var k=q.V.create(this.data[e][g],
"Arial",15);k.q(q.l(0,0,0));k.G(q.a(0,0));k.o(q.a(4,4));k.Eb(q.size(246,0));f=[];c.push(f);a[d].g(h);a[d].g(k);a[d].U(324,k.c().height+8);d++}}this.I=this.b.main_panel.list;this.I.Zc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(324,c)};this.I.Pc=function(){return a.length};this.I.kd=function(c){return a[c].c()};this.I.hd=function(c){return a[c]};this.I.gc=function(){};this.I.ga=ListView.create(this.I);this.I.ga.nd(c);this.I.g(this.I.ga)},uc:function(){return{panels:{position:q.a(300,
200),children:{background_image:{ca:"GUI/list_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(365,328),children:{list:{size:q.size(324,328),color:q.j(0,200,200,200),position:q.a(0,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"News",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),e:q.a(0,0),ca:"GUI/close.png"}}}}}}},vb:function(a){if(this._super(a))return!0;this.Me=null;a=this.b.main_panel.Oa(a.S);
return J(this.b.main_panel,a)?!0:!1}});CreditsPanel=null;
Credits=Popup.extend({data:null,I:null,ob:null,Fc:function(){return"Credits"},Fa:function(){this._super()},v:function(){this._super();this.data={"Programmed and designed by:":"Alan Tuckwood","Special thanks:":"Claire, for putting up with all the non-talking hours.","Special thanks 2:":"IndieRising dev community for all their wonderful support.","Special thanks 3:":"Finblade, for all the skills I was able to pass into this engine.","Special thanks 4:":"All of you players, who's positive response keep me motivated.","Powder Engine is Copywritten":"Contact the developer in-site regarding questions."}},
lk:function(a){A({savequests:a+"",questdata:this.data})},ek:function(a,c){A({savequestswhole:c})},ya:function(){this._super();this.lb()},lb:function(){this.I&&this.I.fc();var a=[],c=[];q.ka.f();var d=0,e;for(e in this.data){if("ISSECTION"!=this.data[e]){a[d]=q.H.create();a[d].U(324,32);var f=q.V.create(e,"Arial",18);f.G(q.a(0,0));f.o(q.a(4,0));f.Eb(q.size(246,0));f.q(q.l(100,0,0));a[d].g(f);a[d].U(324,f.c().height+4);f=[];c.push(f);d++}a[d]=q.H.create();a[d].U(324,32);var g=q.ia.create(q.j(0,0,0,
127),316,1);g.o(q.a(4,0));if("ISSECTION"==this.data[e]){var h=q.V.create(e,"Arial",22);h.q(q.l(255,0,0))}else h=q.V.create(this.data[e],"Arial",15),h.q(q.l(0,0,0));h.G(q.a(0,0));h.o(q.a(4,4));h.Eb(q.size(246,0));f=[];c.push(f);a[d].g(g);a[d].g(h);"ISSECTION"==this.data[e]?a[d].U(324,h.c().height+12):a[d].U(324,h.c().height+8);d++}this.I=this.b.main_panel.list;this.I.Zc=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(324,c)};this.I.Pc=function(){return a.length};this.I.kd=
function(c){return a[c].c()};this.I.hd=function(c){return a[c]};this.I.gc=function(){};this.I.ga=ListView.create(this.I);this.I.ga.nd(c);this.I.g(this.I.ga)},uc:function(){return{panels:{position:q.a(300,200),children:{background_image:{ca:"GUI/list_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(365,328),children:{list:{size:q.size(324,328),color:q.j(0,200,200,200),position:q.a(0,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Credits",
fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),e:q.a(0,0),ca:"GUI/close.png"}}}}}}},vb:function(a){if(this._super(a))return!0;this.Me=null;a=this.b.main_panel.Oa(a.S);return J(this.b.main_panel,a)?!0:!1}});Login=Ga.extend({Ms:!1,Sl:!1,KC:function(){var a=this.uc();za(a,"panels",this.b)},v:function(a){I=Da(I,V.dC());this._super();G.yn(this);this.Jp=this.BC=!1;this.ik=new $(this.b.name_entry,q.size(this.b.name_entry.c().width,this.b.name_entry.c().height),q.a(0,this.b.name_entry.c().height),"Username",q.j(100,100,100),q.l(255,255,255));this.zl=new $(this.b.password_entry,q.size(this.b.password_entry.c().width,this.b.password_entry.c().height),q.a(0,this.b.password_entry.c().height),"Password",q.j(100,
100,100),q.l(255,255,255));this.zl.Qp(0);this.ZC=new $(this.b.new_user_name,q.size(this.b.new_user_name.c().width,this.b.new_user_name.c().height),q.a(0,this.b.new_user_name.c().height),"Username",q.j(100,100,100),q.l(255,255,255));this.ax=new $(this.b.new_user_pass,q.size(this.b.new_user_pass.c().width,this.b.new_user_pass.c().height),q.a(0,this.b.new_user_pass.c().height),"Password",q.j(100,100,100),q.l(255,255,255));this.ax.Qp(0);this.YC=new $(this.b.new_user_email,q.size(this.b.new_user_email.c().width,
this.b.new_user_email.c().height),q.a(0,this.b.new_user_email.c().height),"Email Address",q.j(100,100,100),q.l(255,255,255));this.hH=!1;a&&(a.bJ?(C=[],A({logout:!0})):this.hH=!0,this.An(a.kD));this.hc(this.KB);this.gH=!1;this.hc(this.HD);this.oC();this.b.rem_login_text.Eb(q.size(80,0));this.b.auto_login_text.Eb(q.size(80,0));this.b.server_message.Eb(q.size(300,0));this.b.server_message2.Eb(q.size(150,0))},xl:function(a){switch(a){case "ENTER":if(this.BC){a=this.ZC.aa();var c=this.ax.aa(),d=this.YC.aa();
""!=a&&null!=a&&""!=c&&null!=c&&""!=d&&null!=d?!1==/\S+@\S+\.\S+/.test(d)?this.mg("Please use a correct email address."):(this.Jp=!0,this.mg("Registering please wait..."),this.GJ({name:a,password:c,email:d})):this.mg("Please fill all fields.")}else!1==this.Sl&&this.Ms?(a=this.ik.aa(),c=this.zl.aa(),""!=a&&null!=a&&""!=c&&null!=c?(this.Sl=!0,this.mg("Logging In"),A({login:!0,username:this.ik.aa(),password:this.zl.aa()})):this.mg("Please enter a User and Password")):this.Tw("Server is offline!")}},
An:function(a){this.Ms=a;!0==a?(this.b.server_activity.ja("Server: Online"),this.b.server_activity.q(q.l(0,255,0))):(this.b.server_activity.ja("Server: Offline"),this.b.server_activity.q(q.l(255,0,0)))},KB:function(){var a=V.JS();a&&!1==this.gH&&(this.ik.Md(a.user),this.gH=!0,this.zl.Md(a.pass));!0==this.hH&&autoLoginNextTime&&!1==this.Sl&&this.Ms&&(!1==this.Sl&&this.Ms?(this.Sl=!0,this.mg("Logging In"),A({login:!0,username:this.ik.aa(),password:this.zl.aa()})):this.Tw("Server is offline!"))},HD:function(){if(0<
C.length)for(var a=C.length-1;0<=a;a--)reactToSocketMessage(C[a]),C.splice(a,1);autoLoginNextTime?(V.VJ(!0),this.b.auto_login.ma(q.ka.f().va("GUI/checkbox_checked.png"))):(V.VJ(!1),this.b.auto_login.ma(q.ka.f().va("GUI/checkbox_uncheck.png")));rememberLoginNextTime?this.b.remember_login.ma(q.ka.f().va("GUI/checkbox_checked.png")):this.b.remember_login.ma(q.ka.f().va("GUI/checkbox_uncheck.png"))},uc:function(){return{panels:{children:{background:{ca:"GUI/splash.png",size:q.size(960,640),e:q.a(0,0),
position:q.a(0,0)},name_entry:{size:q.size(300,30),position:q.a(325,325)},password_entry:{size:q.size(300,30),position:q.a(325,290)},new_user_name:{size:q.size(300,30),position:q.a(325,360)},new_user_pass:{size:q.size(300,30),position:q.a(325,325)},new_user_email:{size:q.size(300,30),position:q.a(325,290)},remember_login:{size:q.size(20,20),position:q.a(630,295),ca:"GUI/checkbox_uncheck.png",e:q.a(0,0)},rem_login_text:{label:"Remember login.",fontSize:16,color:q.l(255,255,255),e:q.a(0,1),position:q.a(665,
315)},auto_login:{size:q.size(20,20),position:q.a(630,330),ca:"GUI/checkbox_uncheck.png",e:q.a(0,0)},auto_login_text:{label:"Auto login next time.",fontSize:16,color:q.l(255,255,255),e:q.a(0,0),position:q.a(665,330)},go_button:{position:q.a(325,240),size:q.size(120,40),color:q.j(0,0,0,255),children:{label:{label:"Play",fontSize:20,color:q.l(255,255,255),e:q.a(0.5,0.5),position:q.a(60,20)}}},register_button:{position:q.a(505,240),size:q.size(120,40),color:q.j(0,0,0,255),children:{label:{label:"Register",
fontSize:20,color:q.l(255,255,255),e:q.a(0.5,0.5),position:q.a(60,20)}}},new_user_back:{position:q.a(325,240),size:q.size(120,40),color:q.j(0,0,0,255),children:{label:{label:"Go Back",fontSize:20,color:q.l(255,255,255),e:q.a(0.5,0.5),position:q.a(60,20)}}},new_user_confirm:{position:q.a(505,240),size:q.size(120,40),color:q.j(0,0,0,255),e:q.a(0,1),children:{label:{label:"Confirm",fontSize:20,color:q.l(255,255,255),e:q.a(0.5,0.5),position:q.a(60,20)}}},credits_button:{position:q.a(30,400),size:q.size(120,
40),color:q.j(0,0,0,255),children:{label:{label:"Credits",fontSize:20,color:q.l(255,255,255),e:q.a(0.5,0.5),position:q.a(60,20)}}},news_button:{position:q.a(30,340),size:q.size(120,40),color:q.j(0,0,0,255),e:q.a(0,1),children:{label:{label:"News",fontSize:20,color:q.l(255,255,255),e:q.a(0.5,0.5),position:q.a(60,20)}}},server_message:{label:"",fontSize:16,color:q.l(255,255,255),e:q.a(0,1),position:q.a(325,220)},server_message2:{label:"This game saves data automatically.",fontSize:16,color:q.l(255,
255,255),e:q.a(0,1),position:q.a(175,355)},version_number:{label:I["Version Number"],fontSize:34,color:q.l(255,255,255),e:q.a(1,1),position:q.a(710,55)},server_activity:{position:q.a(910,630),size:q.size(100,20),e:q.a(0.5,0.5),label:"Server: Offline",color:q.l(255,0,0)}}}}},qX:function(){autoLoginNextTime?(autoLoginNextTime=!1,this.b.auto_login.ma(q.ka.f().va("GUI/checkbox_uncheck.png"))):(autoLoginNextTime=!0,this.b.auto_login.ma(q.ka.f().va("GUI/checkbox_checked.png")),rememberLoginNextTime=!0,
this.b.remember_login.ma(q.ka.f().va("GUI/checkbox_checked.png")))},rX:function(){rememberLoginNextTime?(rememberLoginNextTime=!1,this.b.remember_login.ma(q.ka.f().va("GUI/checkbox_uncheck.png")),autoLoginNextTime=!1,this.b.auto_login.ma(q.ka.f().va("GUI/checkbox_uncheck.png"))):(rememberLoginNextTime=!0,this.b.remember_login.ma(q.ka.f().va("GUI/checkbox_checked.png")))},vb:function(a){if(null!=this.ik.aa()&&this.b.go_button.ta&&q.hb(q.rect(this.b.go_button.t.J,this.b.go_button.t.P,this.b.go_button.c().width,
this.b.go_button.c().height),a.S)){if(!1==this.Sl&&this.Ms){a=this.ik.aa();var c=this.zl.aa();""!=a&&null!=a&&""!=c&&null!=c?(this.Sl=!0,this.mg("Logging In"),A({login:!0,username:this.ik.aa(),password:this.zl.aa()})):this.mg("Please enter a User and Password")}else this.Tw("Server is offline!");return!0}this.b.credits_button.ta&&q.hb(q.rect(this.b.credits_button.t.J,this.b.credits_button.t.P,this.b.credits_button.c().width,this.b.credits_button.c().height),a.S)&&this.jg("/openCredits");this.b.news_button.ta&&
q.hb(q.rect(this.b.news_button.t.J,this.b.news_button.t.P,this.b.news_button.c().width,this.b.news_button.c().height),a.S)&&this.jg("/openNews");if(this.b.register_button.ta&&q.hb(q.rect(this.b.register_button.t.J,this.b.register_button.t.P,this.b.register_button.c().width,this.b.register_button.c().height),a.S))return this.dX(),!1;if(this.b.auto_login.ta&&q.hb(q.rect(this.b.auto_login.t.J,this.b.auto_login.t.P,this.b.auto_login.c().width,this.b.auto_login.c().height),a.S))return this.qX(),!1;if(this.b.remember_login.ta&&
q.hb(q.rect(this.b.remember_login.t.J,this.b.remember_login.t.P,this.b.remember_login.c().width,this.b.remember_login.c().height),a.S))return this.rX(),!1;if(this.b.new_user_back.ta&&!1==this.Jp&&q.hb(q.rect(this.b.new_user_back.t.J,this.b.new_user_back.t.P,this.b.new_user_back.c().width,this.b.new_user_back.c().height),a.S))return this.oC(),this.mg(""),!1;if(this.b.new_user_confirm.ta&&!1==this.Jp&&q.hb(q.rect(this.b.new_user_confirm.t.J,this.b.new_user_confirm.t.P,this.b.new_user_confirm.c().width,
this.b.new_user_confirm.c().height),a.S)){a=this.ZC.aa();var c=this.ax.aa(),d=this.YC.aa();""!=a&&null!=a&&""!=c&&null!=c&&""!=d&&null!=d?!1==/\S+@\S+\.\S+/.test(d)?this.mg("Please use a correct email address."):(this.Jp=!0,this.mg("Registering please wait..."),this.GJ({name:a,password:c,email:d})):this.mg("Please fill all fields.");return!1}},GJ:function(a){a.newUser=1;A(a)},jR:function(){this.mg("Registration successful.");this.ZC.Md("Username");this.ax.Md("Password");this.YC.Md("Email Address");
this.Jp=!1;this.oC()},UR:function(a){this.Jp=!1;switch(a){case "UserTaken":this.mg("Registration failed, user already exists.")}},dX:function(){this.b.new_user_name.D(!0);this.b.new_user_pass.D(!0);this.b.new_user_email.D(!0);this.b.new_user_confirm.D(!0);this.b.new_user_back.D(!0);this.b.register_button.D(!1);this.b.go_button.D(!1);this.b.name_entry.Db(-1E5);this.b.password_entry.Db(-1E5);this.b.new_user_name.Db(325);this.b.new_user_pass.Db(325);this.b.new_user_email.Db(325);this.b.rem_login_text.D(!1);
this.b.auto_login_text.D(!1);this.b.auto_login.D(!1);this.b.remember_login.D(!1);this.BC=!0},oC:function(){this.b.new_user_name.D(!1);this.b.new_user_pass.D(!1);this.b.new_user_email.D(!1);this.b.new_user_confirm.D(!1);this.b.new_user_back.D(!1);this.b.register_button.D(!0);this.b.go_button.D(!0);this.b.name_entry.Db(325);this.b.password_entry.Db(325);this.b.new_user_name.Db(-1E5);this.b.new_user_pass.Db(1E5);this.b.new_user_email.Db(1E5);this.b.rem_login_text.D(!0);this.b.auto_login_text.D(!0);this.b.auto_login.D(!0);
this.b.remember_login.D(!0);this.BC=!1},jg:function(a){switch(a){case "/openCredits":null==CreditsPanel||CreditsPanel.ba||(CreditsPanel=null);CreditsPanel?(CreditsPanel.Fa(),CreditsPanel.R(),CreditsPanel=null):(CreditsPanel=new Credits,CreditsPanel.v(),CreditsPanel.ya(),this.g(CreditsPanel));break;case "/openNews":null==NewsPanel||NewsPanel.ba||(NewsPanel=null),NewsPanel?(NewsPanel.Fa(),NewsPanel.R(),NewsPanel=null):(NewsPanel=new News,NewsPanel.v(),NewsPanel.ya(),this.g(NewsPanel))}},YT:function(a){rememberLoginNextTime&&
V.IW(this.ik.aa(),this.zl.aa());this.Tc(this.KB);G.f().ml("Game",{kk:a,map:1})},Tw:function(a){this.Tc(this.KB);this.b.server_message.ja(a);this.Sl=!1},mg:function(a){this.b.server_message.ja(a)},Ad:function(){},Tg:function(){},N7:function(){G.f().ml("Game",{Wba:this.ik.aa()})}});L=null;MapMaster=!1;
var Ha=Ga.extend({QI:!1,ctor:function(){this._super()},KC:function(){var a=R.u.$.Yd();U.cn(32*a.x,32*a.y);a=this.uc();za(a,"panels",this.b);SkillBarsInstance.$p()},uc:function(){return{panels:{children:{saving_icon:{visible:!1,position:q.a(Y.width-52,4),e:q.a(0,0),size:q.size(48,48),ca:"GUI/save_icon.png"},logout_button:{position:q.a(Y.width-52,Y.height-52),e:q.a(0,0),size:q.size(48,48),ca:"GUI/logout.png"},quicknav_button:{position:q.a(Y.width-30,Math.floor(Y.height/2)-24),e:q.a(0,0),size:q.size(48,
48),ca:"GUI/quickmenu_closed_icon.png"},inventory_button:{position:q.a(Y.width-52,Math.floor(Y.height/2)+60),e:q.a(0,0),size:q.size(48,48),ca:"GUI/inventory_icon.png"},equipment_button:{position:q.a(Y.width-82,Math.floor(Y.height/2)+4),e:q.a(0,0),size:q.size(48,48),ca:"GUI/equipment_icon.png"},skill_button:{position:q.a(Y.width-82,Math.floor(Y.height/2)-52),e:q.a(0,0),size:q.size(48,48),ca:"GUI/skills_icon.png"},chat_button:{position:q.a(Y.width-52,Math.floor(Y.height/2)-108),e:q.a(0,0),size:q.size(48,
48),ca:"GUI/chat_icon.png"},quickedit_button:{position:q.a(0,Math.floor(Y.height/2)-24),e:q.a(0,0),size:q.size(48,48),ca:"GUI/quickedit_closed_icon.png"},mapedit_button:{position:q.a(4,Math.floor(Y.height/2)+116),e:q.a(0,0),size:q.size(48,48),ca:"GUI/mapeditor_icon.png"},npcedit_button:{position:q.a(34,Math.floor(Y.height/2)+60),e:q.a(0,0),size:q.size(48,48),ca:"GUI/npceditor_icon.png"},itemedit_button:{position:q.a(64,Math.floor(Y.height/2)+4),e:q.a(0,0),size:q.size(48,48),ca:"GUI/itemeditor_icon.png"},
skilledit_button:{position:q.a(64,Math.floor(Y.height/2)-52),e:q.a(0,0),size:q.size(48,48),ca:"GUI/skilleditor_icon.png"},signedit_button:{position:q.a(34,Math.floor(Y.height/2)-108),e:q.a(0,0),size:q.size(48,48),ca:"GUI/signeditor_icon.png"},scriptedit_button:{position:q.a(90,Math.floor(Y.height/2)-108),e:q.a(0,0),size:q.size(48,48),ca:"GUI/scripteditor_icon.png"},settings_button:{position:q.a(4,Math.floor(Y.height/2)-220),e:q.a(0,0),size:q.size(48,48),ca:"GUI/settings_icon.png"},bankedit_button:{position:q.a(90,
Math.floor(Y.height/2)+60),e:q.a(0,0),size:q.size(48,48),ca:"GUI/bankeditor_icon.png"},shopedit_button:{position:q.a(120,Math.floor(Y.height/2)+4),e:q.a(0,0),size:q.size(48,48),ca:"GUI/shopeditor_icon.png"},questedit_button:{position:q.a(120,Math.floor(Y.height/2)-52),e:q.a(0,0),size:q.size(48,48),ca:"GUI/questeditor_icon.png"}}}}},MI:!1,KI:!1,An:function(a){!1==a&&(this.NB(),G.f().ml("Login",{kD:!1}))},NB:function(){U.hf();U.Ps();null!=Equipment&&(Equipment.Fa(),Equipment.R(),Equipment=null);null!=
Inventory&&(Inventory.Fa(),Inventory.R(),Inventory=null);null!=Skills&&(Skills.Fa(),Skills.R(),Skills=null);null!=Quests&&(Quests.Fa(),Quests.R(),Quests=null);SkillBarsInstance.R();R.hf();R.Ps();S.hf();S.Ps()},vb:function(a){if(q.hb(q.rect(this.b.logout_button.t.J,this.b.logout_button.t.P,this.b.logout_button.c().width,this.b.logout_button.c().height),a.S))return this.NB(),G.f().ml("Login",{bJ:!0,kD:!0}),!0;G.yn(this);if(q.hb(this.b.chat_button.fb(),a.S)&&this.b.chat_button.ta)return this.xl("C"),
!0;if(q.hb(this.b.inventory_button.fb(),a.S)&&this.b.inventory_button.ta)return this.xl("I"),!0;if(q.hb(this.b.equipment_button.fb(),a.S)&&this.b.equipment_button.ta)return this.xl("E"),!0;if(q.hb(this.b.skill_button.fb(),a.S)&&this.b.skill_button.ta)return this.xl("S"),!0;if(this.b.quickedit_button.ta&&q.hb(this.b.quickedit_button.fb(),a.S)&&this.b.quickedit_button.ta)return this.UK(!this.KI),!0;if(q.hb(this.b.quicknav_button.fb(),a.S)&&this.b.quicknav_button.ta)return this.VK(!this.MI),!0;if(q.hb(this.b.mapedit_button.fb(),
a.S)&&this.b.mapedit_button.ta)return this.jg("/editmap"),!0;if(q.hb(this.b.npcedit_button.fb(),a.S)&&this.b.npcedit_button.ta)return this.jg("/editnpc"),!0;if(q.hb(this.b.itemedit_button.fb(),a.S)&&this.b.itemedit_button.ta)return this.jg("/edititem"),!0;if(q.hb(this.b.skilledit_button.fb(),a.S)&&this.b.skilledit_button.ta)return this.jg("/editskill"),!0;if(q.hb(this.b.signedit_button.fb(),a.S)&&this.b.signedit_button.ta)return this.jg("/editsign"),!0;if(q.hb(this.b.scriptedit_button.fb(),a.S)&&
this.b.scriptedit_button.ta)return this.jg("/editscript"),!0;if(q.hb(this.b.settings_button.fb(),a.S)&&this.b.settings_button.ta)return this.jg("/editsettings"),!0;if(q.hb(this.b.shopedit_button.fb(),a.S)&&this.b.shopedit_button.ta)return this.jg("/editshop"),!0;if(q.hb(this.b.questedit_button.fb(),a.S)&&this.b.questedit_button.ta)return this.jg("/editquest"),!0;if(q.hb(this.b.bankedit_button.fb(),a.S)&&this.b.bankedit_button.ta)return this.jg("/editbank"),!0},WK:function(a){null==Sign||Sign.ba||
(Sign=null);Sign?(Sign.Fa(),Sign.R(),Sign=null):(Sign=new SignPanel,Sign.v(a),Sign.ya(),this.g(Sign))},aX:function(a,c){null==Book||Book.ba||(Book=null);Book?(Book.Fa(),Book.R(),Book=null):(Book=new BookPanel,Book.v(a,c),Book.ya(),this.g(Book))},cX:function(a,c,d,e,f,g){null==NpcChat||NpcChat.ba||(NpcChat=null);NpcChat&&(NpcChat.Fa(),NpcChat.R(),NpcChat=null);NpcChat=new NpcChatPanel;NpcChat.v(a,c,d,e,f,g);NpcChat.ya();this.g(NpcChat)},iT:function(){null==NpcChat||NpcChat.ba||(NpcChat=null);NpcChat&&
(NpcChat.Fa(),NpcChat.R(),NpcChat=null)},xl:function(a){switch(a){case "C":S.FT()?S.rI():S.show();break;case "ENTER":S.mD(!S.AC());break;case "SPACE":R.u.$.zT();Inventory&&Inventory.yb();break;case "CTRL":R.u.$.yT();break;case "ESC":this.NB();G.f().ml("Login",{bJ:!0,kD:!0});break;case "I":null==Inventory||Inventory.ba||(Inventory=null);Inventory?(Inventory.Fa(),Inventory.R(),Inventory=null):(Inventory=new InventoryPanel,Inventory.v(),Inventory.ya(),this.g(Inventory));break;case "E":null==Equipment||
Equipment.ba||(Equipment=null);Equipment?(Equipment.Fa(),Equipment.R(),Equipment=null):(Equipment=new EquipmentPanel,Equipment.v(),Equipment.ya(),this.g(Equipment));break;case "S":null==Skills||Skills.ba||(Skills=null);Skills?(Skills.Fa(),Skills.R(),Skills=null):(Skills=new SkillsPanel,Skills.v(),Skills.ya(),this.g(Skills));break;case "Q":null==Quests||Quests.ba||(Quests=null),Quests?(Quests.Fa(),Quests.R(),Quests=null):(Quests=new QuestsPanel,Quests.v(),Quests.ya(),this.g(Quests))}},JC:function(a){var c=
R.u.$.Yd();R.u.$.path=null;if(0==c.x%1&&0==c.y%1)switch(a){case "RIGHTARROW":R.u.$.bq(c.x+1,c.y);break;case "LEFTARROW":R.u.$.bq(c.x-1,c.y);break;case "UPARROW":R.u.$.bq(c.x,c.y+1);break;case "DOWNARROW":R.u.$.bq(c.x,c.y-1)}},VK:function(a){this.MI=a;this.b.chat_button.D(a);this.b.inventory_button.D(a);this.b.equipment_button.D(a);this.b.skill_button.D(a);this.b.quicknav_button.ma(q.ka.f().va(!0==a?"GUI/quickmenu_opened_icon.png":"GUI/quickmenu_closed_icon.png"))},UK:function(a){this.KI=a;this.b.mapedit_button.D(a);
this.b.npcedit_button.D(a);this.b.itemedit_button.D(a);this.b.skilledit_button.D(a);this.b.signedit_button.D(a);this.b.scriptedit_button.D(a);this.b.settings_button.D(a);this.b.shopedit_button.D(a);this.b.bankedit_button.D(a);this.b.questedit_button.D(a);this.b.quickedit_button.ma(q.ka.f().va(!0==a?"GUI/quickedit_opened_icon.png":"GUI/quickedit_closed_icon.png"))},jg:function(a){if(a){if(1<R.u.$.mp)switch(a){case "/editscript":null==Scripteditor||Scripteditor.ba||(Scripteditor=null);Scripteditor?
(Scripteditor.Fa(),Scripteditor.R(),Scripteditor=null):(Scripteditor=new PopupList,Scripteditor.v({n:null,hi:new ScriptEditor,list:ObjectLists.aj(),name:"Script List"}),Scripteditor.ya(),this.g(Scripteditor));break;case "/editmap":null==Mapeditor||Mapeditor.ba||(Mapeditor=null);Mapeditor?(Mapeditor.Fa(),Mapeditor.R(),Mapeditor=null,U.Qs(null)):(Mapeditor=new MapEditor,Mapeditor.v(),Mapeditor.ya(),this.g(Mapeditor),U.Qs(Mapeditor));break;case "/editsettings":null==Settingseditor||Settingseditor.ba||
(Settingseditor=null);Settingseditor?(Settingseditor.Fa(),Settingseditor.R(),Settingseditor=null):(Settingseditor=new SettingsEditor,Settingseditor.v(),Settingseditor.ya(),this.g(Settingseditor));break;case "/editsign":null==Signeditor||Signeditor.ba||(Signeditor=null);Signeditor?(Signeditor.Fa(),Signeditor.R(),Signeditor=null):(Signeditor=new PopupList,Signeditor.v({n:null,hi:new SignEditor,list:ObjectLists.ss(),name:"Sign List"}),Signeditor.ya(),this.g(Signeditor));break;case "/editskill":null==
Skillseditor||Skillseditor.ba||(Skillseditor=null);Skillseditor?(Skillseditor.Fa(),Skillseditor.R(),Skillseditor=null):(Skillseditor=new PopupList,Skillseditor.v({n:null,hi:new SkillsEditor,list:ObjectLists.zh(),name:"Skills List"}),Skillseditor.ya(),this.g(Skillseditor));break;case "/edititem":null==Itemeditor||Itemeditor.ba||(Itemeditor=null);Itemeditor?(Itemeditor.Fa(),Itemeditor.R(),Itemeditor=null,U.Qs(null)):(Itemeditor=new PopupList,Itemeditor.v({n:null,hi:new ItemEditor,list:ObjectLists.Ef(),
name:"Item List"}),Itemeditor.ya(),this.g(Itemeditor));break;case "/editnpc":null==NPCeditor||NPCeditor.ba||(NPCeditor=null);NPCeditor?(NPCeditor.Fa(),NPCeditor.R(),NPCeditor=null,U.Qs(null)):(NPCeditor=new PopupList,NPCeditor.v({n:null,hi:new NPCEditor,list:ObjectLists.ll(),name:"NPC List"}),NPCeditor.ya(),this.g(NPCeditor));break;case "/editquest":null==Questeditor||Questeditor.ba||(Questeditor=null),Questeditor?(Questeditor.Fa(),Questeditor.R(),Questeditor=null,U.Qs(null)):(Questeditor=new PopupList,
Questeditor.v({n:null,hi:new QuestEditor,list:ObjectLists.Ap(),name:"Quest List"}),Questeditor.ya(),this.g(Questeditor))}switch(a){case "/help":S.showHelp();break;case "/commands":S.bX();break;case "/diceroll":a=Math.floor(6*Math.random()+1);var c=I["/diceroll"],c=c.replace("\x3cPLAYER\x3e",R.u.$.getName()),c=c.replace("\x3cVALUE\x3e",a);S.ub(c);A({diceroll:c});break;case "/coinflip":a=1==Math.floor(3*Math.random()+1)?"Heads":"Tails";c=I["/coinflip"];c=c.replace("\x3cPLAYER\x3e",R.u.$.getName());
c=c.replace("\x3cVALUE\x3e",a);S.ub(c);A({coinflip:c});break;case "/dance":a=I["/dance"];a=a.replace("\x3cPLAYER\x3e",R.u.$.getName());S.ub(a);A({dance:a});break;case "/afk":R.u.$.updateStatus("AFK"),A({afk:!0})}}},v:function(a){this._super();L=this;this.g(U.create());ObjectLists.f();R.create({name:a.kk.name,fj:!0,Dn:{health:{Qc:1,value:100,eg:200,dg:900},mana:{Qc:1,value:100,eg:200,dg:99}},map:a.kk.location.mapnumber,position:a.kk.location.position,Zs:"sprites1.png",Xs:1,mp:a.kk.rank,FI:a.kk.inventory,
GH:a.kk.equipment,Al:a.kk.quests,ji:a.kk.extraData});U.zQ();this.b.R();this.ux(-20);A({moveTo:R.u.$.Yd().x+R.u.$.Yd().y*P});this.g(S.create());this.g(T.create(a.kk.skills));this.VK(!1);this.UK(!1);this.XW();this.g(this.b);this.hc(this.HD);this.hc(this.GV);this.hc(this.zV,120)},zV:function(){var a={saveUser:!0,name:R.u.$.getName(),location:{mapnumber:U.Zd(),position:R.u.$.Yd().x+R.u.$.Yd().y*P},inventory:R.u.$.kl(),equipment:R.u.$.vp(),skills:[],clan:"",guilds:[],quests:R.u.$.Al,friends:[],pets:[],
pmessages:[],lastchats:[],health:100,extraData:R.u.$.ji};this.b.saving_icon.D(!0);this.QI=!0;A(a);console.log("SAVING NOW!")},YR:function(){this.b.saving_icon.D(!1);this.QI=!1},XW:function(){1==R.u.$.mp&&this.b.quickedit_button.D(!1)},HD:function(){if(0<C.length)for(var a=0;a<C.length;a++){var c=JSON.parse(C[a]);c.moveTo&&(!R.mi(c.id)||R.mi(c.id)&&!1==R.mi(c.id).Rg)?(reactToSocketMessage(JSON.stringify(c)),C.splice(a,1)):c.moveTo||(reactToSocketMessage(JSON.stringify(c)),C.splice(a,1))}},GV:function(){if(!0==
MapMaster){var a=R.DM(),c;for(c in a)if(!1==a[c].Yw){var d=10*Math.random()+1,e=a[c].Yd();switch(Math.floor(4*Math.random())+1){case 1:e.x++;break;case 2:e.y++;break;case 3:e.x--;break;case 4:e.y--}a[c].DW(e,d)}}}});var Ia=q.La.extend({$c:null,G2:!1,mD:function(a){console.log("setting focused: "+a);a&&!0==a?this.$c.N.focus():(console.log("blurrin"),this.$c.N.blur())},AC:function(){console.log("isfocused\x3d"+document.activeElement==this.$c.N);return document.activeElement==this.$c.N},ja:function(a){this.$c.Md(a)},fC:function(){return this.$c.aa()},v:function(){q.log("Ovveride inputbox init call if necessary")},ctor:function(a,c,d,e,f,g,h){h&&!1!=h?(this.$c=MultiLineBox.create(q.size(c.width,c.height),q.Te.create()),
this.$c.Os(q.l(f.r,f.p,f.k))):(this.$c=SingleLineBox.create(q.size(c.width,c.height),q.Te.create()),c=ia(f.r,f.p,f.k),this.$c.N.style.background=c);this.$c.Md(e);this.$c.wR=e;this.$c.nD(q.l(g.r,g.p,g.k));this.$c.o(q.a(d.x,d.y));this.$c.G(0,0);this.$c.lg(this);a.g(this.$c);this.v()}});var Ja=Ia.extend({hl:function(a){a.Md("")},il:function(a,c){c||("/"==a.aa().substring(0,1)?this.wV(a.aa()):0<a.aa().length&&S.ub(a.aa(),!0));a.Md(I["Default ChatBar Message"])},wV:function(a){G.f().fd.jg(a)},jl:function(a,c){a.Md(c);q.log("chatBox "+this.EF(a)+", TextChanged, text: "+c)},EF:function(){return"chatbox"}}),Z=null,S=q.Hc.extend({JB:null,YG:function(a){for(var c=[],d=0;7>d;d++)c.push(this.b.chat_panel["label"+d].fC());this.b.chat_panel.label0.ja(a);for(d=1;8>d;d++)this.b.chat_panel["label"+
d].ja(c[d-1])},uc:function(){return{panels:{children:{chat_panel:{size:q.size(400,150),ca:"GUI/chat.png",e:q.a(0,0),opacity:200,position:q.a(0,0),children:{chatbar:{size:q.size(390,22),position:q.a(5,124),color:q.j(255,255,255,255)},label7:{label:"",position:q.a(5,0),e:q.a(0,0),color:q.l(0,0,0)},label6:{label:"",position:q.a(5,15),e:q.a(0,0),color:q.l(0,0,0)},label5:{label:"",position:q.a(5,30),e:q.a(0,0),color:q.l(0,0,0)},label4:{label:"",position:q.a(5,45),e:q.a(0,0),color:q.l(0,0,0)},label3:{label:"",
position:q.a(5,60),e:q.a(0,0),color:q.l(0,0,0)},label2:{label:"",position:q.a(5,75),e:q.a(0,0),color:q.l(0,0,0)},label1:{label:"",position:q.a(5,90),e:q.a(0,0),color:q.l(0,0,0)},label0:{label:"",position:q.a(5,105),e:q.a(0,0),color:q.l(0,0,0)}}}}}}}});
S.create=function(){Z||(Z=new S,Z.b=wa(Z),Z.g(Z.b),Z.JB=new Ja(Z.b.chat_panel.chatbar,q.size(Z.b.chat_panel.chatbar.c().width-4,Z.b.chat_panel.chatbar.c().height-2),q.a(Z.b.chat_panel.chatbar.t.J+2,Z.b.chat_panel.chatbar.t.P),I["Default ChatBar Message"],q.l(255,255,255),q.l(0,0,0)),S.rI(),S.eX());return Z};S.f=function(){return Z};S.ub=function(a,c){50<a.length&&(a=a.substring(0,50)+"...");c?(A({chatMessage:a}),Z.YG(R.u.$.getName()+": "+a)):Z.YG(a)};S.show=function(){Z.b.Gc(0)};S.rI=function(){Z.b.Gc(-76)};
S.FT=function(){return 0!=Z.b.t.P?!1:!0};S.mD=function(a){Z.JB.mD(a)};S.AC=function(){return Z.JB.AC()};S.showHelp=function(){S.ub(x.Ee.dT);S.ub(x.Ee.eT);S.ub(x.Ee.fT);S.ub(x.Ee.gT);S.ub(x.Ee.hT)};S.bX=function(){S.ub(x.Ee.fR);S.ub(x.Ee.gR);S.ub(x.Ee.hR);S.ub(x.Ee.iR)};S.eX=function(){S.ub(I["Welcome Message"])};S.hf=function(){Z.b.R();Z.b=null};S.Ps=function(){Z.R();Z=null};var $=Ia.extend({Dp:!1,jJ:!1,yH:!1,zC:!1,hl:function(a){!1==this.yH&&a.Md("");this.zC=!0},Qp:function(a){this.$c.Qp(a)},N6:function(){return this.zC},il:function(a){this.zC=!1;null==a.aa()||""==a.aa().length&&this.jJ?this.Dp=!0:0<!a.aa().length?(a.Md(this.$c.wR),this.Dp=!1):this.Dp=!0},jl:function(a,c){a.Md(c);this.Dp=!0},EF:function(){return"name_entry"},aa:function(){return!0==this.Dp||!0==this.vR?this.$c.aa():null},Md:function(a){this.$c.Md(a);this.Dp=!0},xb:function(a){this.vR=a},Rc:function(a){this.jJ=
a},cK:function(a){this.yH=a},v:function(){}});var C=[],Ka=io.connect(ja["SERVER:PORT"],{"sync disconnect on unload":!0,"connect timeout":5E3,"reconnection delay ":100});Ka.on("connect",function(){V.dy();V.NL();V.YM();console.log("Client has connected to the server!");if(G){var a=G.f().fd;a?a.An(!0):C.push(JSON.stringify({connect:!0}))}else C.push(JSON.stringify({connect:!0}))});Ka.on("message",function(a){reactToSocketMessage(a)});
reactToSocketMessage=function(a){a=JSON.parse(a);var c=!1,d;for(d in a){c=!0;break}if(!1!=c)if(console.log("Received a message from the server!",a),a.sync)a.mapdata&&V.oL(a.mapdata,a.maptime),a.warpdata&&V.Nx(a.warpdata,a.warptime),a.itemdata&&V.dt(a.itemdata,a.itemtime),a.skillsdata&&V.RD(a.skillsdata,a.skillstime),a.signsdata&&V.Mx(a.signsdata,a.signstime),a.npcsdata&&V.pL(a.npcsdata,a.npcstime),a.questdata&&V.PD(a.questdata,a.queststime),a.settingsdata&&(V.QD(a.settingsdata,a.settingstime),I=Da(I,
a.settingsdata)),a.scriptsdata&&V.tL(a.scriptsdata,a.scriptstime),ta=!0;else if(c=G.f().fd)if(a.connect?c.An(!0):a.disconnect&&c.An(!1),"Game"==c.Fc())if(a.newPlayer)R.yQ({id:a.id,location:{position:a.position,mapnumber:a.mapnumber}});else if(a.playerLeft)R.mi(a.playerLeft).gg==R.u.$.gg&&(MapMaster=!1),R.xH(a.playerLeft);else if(a.setTo)if(!R.mi(a.id)||R.mi(a.id)&&!1==R.mi(a.id).Rg){for(c=0;c<C.length;c++)d=JSON.parse(C[c]),d.moveTo&&null!=d.moveTo&&d.id==a.id&&(C.splice(c,1),c--);R.zU({id:a.id,location:{position:a.position,
mapnumber:a.mapnumber}});R.mi(a.id).gg==R.u.$.gg&&(MapMaster=!1);R.UQ(a.id,a.mapnumber)}else C.push(JSON.stringify(a));else a.moveTo?!R.mi(a.id)||R.mi(a.id)&&!1==R.mi(a.id).Rg?R.VT({id:a.id,location:{position:a.position,mapnumber:a.mapnumber}}):C.push(JSON.stringify(a)):a.chatMessage?S.ub(a.chatMessage):a.coinflip?S.ub(a.coinflip):a.diceroll?S.ub(a.diceroll):a.dance?S.ub(a.dance):a.afk?R.VQ(a.afk):a.savemap?(V.SQ(a.savemap,a.mapdata,a.updatetime),U.ZW(a.mapdata)):a.mapmaster?MapMaster=!0:a.savewarps?
(V.aR(parseInt(a.savewarps),a.warpdata,a.updatetime),ObjectLists.vs()[parseInt(a.savewarps)]=a.warpdata,Warpeditor&&(Warpeditor.Oc=ObjectLists.vs(),Warpeditor.ya())):a.savewarpswhole?(V.XU(a.savewarpswhole,a.updatetime),ObjectLists.VW(a.savewarpswhole)):a.savescripts?(V.XQ(parseInt(a.savescripts),a.scriptsdata,a.updatetime),ObjectLists.aj()[parseInt(a.savescripts)]=a.scriptsdata,Scripteditor&&(Scripteditor.Oc=ObjectLists.aj(),Scripteditor.ya())):a.savescriptswhole?(V.UU(a.savescriptswhole,a.updatetime),
ObjectLists.KW(a.savescriptswhole)):a.savesettings?(V.QD(a.savesettings,a.updatetime),I=Da(I,a.savesettings),Settingseditor&&(Settingseditor.data=K(I),Settingseditor.lb())):a.savequests?(V.WQ(parseInt(a.savequests),a.questdata,a.updatetime),ObjectLists.Ap()[parseInt(a.savequests)]=a.questdata,Questeditor&&(Questeditor.Oc=ObjectLists.Ap(),Questeditor.ya())):a.savequestswhole?(V.TU(a.savequestswhole,a.updatetime),ObjectLists.FW(a.savequestswhole)):a.saveskills?(V.ZQ(parseInt(a.saveskills),a.skillsdata,
a.updatetime),ObjectLists.zh()[parseInt(a.saveskills)]=a.skillsdata,Skillseditor&&(Skillseditor.Oc=ObjectLists.zh(),Skillseditor.ya()),T.update(),Skills&&Skills.yb()):a.saveskillswhole?(V.WU(a.saveskillswhole,a.updatetime),ObjectLists.MW(a.saveskillswhole),T.update(),Skills&&Skills.yb()):a.savesigns?(V.YQ(parseInt(a.savesigns),a.signsdata,a.updatetime),ObjectLists.ss()[parseInt(a.savesigns)]=a.signsdata,Signeditor&&(Signeditor.Oc=ObjectLists.ss(),Signeditor.ya())):a.moveNPC?(a.npcID=parseInt(a.npcID),
!R.wp(a.npcID)||R.wp(a.npcID)&&!1==R.wp(a.npcID).Rg?R.UT(a.npcID,a.moveNPC,a.mapnumber):C.push(JSON.stringify(a))):a.changeNPCPosition?R.wp(a.npcID)&&(a.npcID=parseInt(a.npcID),R.wp(a.npcID)&&!1==R.wp(a.npcID).Rg?R.nV(a.npcID,a.changeNPCPosition):C.push(JSON.stringify(a))):a.savesignswhole?(V.VU(a.savesignswhole,a.updatetime),ObjectLists.LW(a.savesignswhole)):a.savenpcs?(V.TQ(parseInt(a.savenpcs),a.npcsdata,a.updatetime),ObjectLists.ll()[parseInt(a.savenpcs)]=a.npcsdata,U.Cp(U.Zd(),!0),NPCeditor&&
(NPCeditor.Oc=ObjectLists.ll(),NPCeditor.ya())):a.savenpcswhole?(V.SU(a.savenpcswhole,a.updatetime),ObjectLists.pW(a.savenpcswhole),U.Cp(U.Zd(),!0),NPCeditor&&(NPCeditor.Oc=ObjectLists.ll(),NPCeditor.ya())):a.saveitems?(V.RQ(parseInt(a.saveitems),a.itemdata,a.updatetime),c=ObjectLists.Ef()[parseInt(a.saveitems)].name,ObjectLists.Ef()[parseInt(a.saveitems)]=a.itemdata,U.Cp(U.Zd()),Itemeditor&&(Itemeditor.Oc=ObjectLists.Ef(),Itemeditor.ya()),Inventory&&Inventory.yb(),R.u.$.dt(c,a.itemdata)):a.droppeditem?
a.mapnumber==U.Zd()&&!1==U.f().Qg?(c=U.jI(a.index),c.vQ(a.droppeditem),U.et()):C.push(JSON.stringify(a)):a.pickupitem?a.mapnumber==U.Zd()&&(c=U.jI(a.pickupitem),c.QC(),U.et()):a.saveitemswhole?(V.RU(a.saveitemswhole,a.updatetime),ObjectLists.hW(a.saveitemswhole)):a.savesuccess&&c.YR();else"Login"==c.Fc()&&(a.login_success?c.YT(a.login_success):a.login_fail?c.Tw(a.login_fail):a.registrationsuccess?c.jR():a.registrationfailed&&c.UR(a.registrationfailed));else C.push(JSON.stringify(a))};
Ka.on("disconnect",function(){console.log("The client has disconnected!");var a=G.f().fd;a?a.An(!1):C.push(JSON.stringify({disconnect:!0}))});function A(a){Ka.send(JSON.stringify(a))};var G=q.Hc.extend({u:null,np:null,fd:null,WG:null,v:function(){Y=q.pa.f().bn();q.size(Y.width,Y.height);M=q.size(P*N,O*N);q.pa.f().GW(this.kU);var a=q.pa.f().bn();this.np=q.A.create();this.np.q(q.l(0,0,0));this.np.ib(q.rect(0,0,a.width,a.height));this.np.G(q.a(0,0));this.g(this.np);V.f()&&ta?(I=Da(I,V.dC()),this.ml("Login",{}),this.hc(this.lH),autoLoginNextTime=V.II(),rememberLoginNextTime=V.OI()):this.hc(this.sI)},kU:function(){var a=q.pa.f();Y=q.size(a.bn().width,a.bn().height);G.f().np.ib(q.rect(0,
0,Y.width,Y.height));G.f().fd.KC()},sI:function(){V.f()&&ta&&(this.Tc(this.sI),I=Da(I,V.dC()),this.ml("Login",{}),this.hc(this.lH),autoLoginNextTime=V.II(),rememberLoginNextTime=V.OI())},lH:function(){for(var a in ka)if(!0==ka[a]&&null!=this.fd){var c=null;a=parseInt(a);switch(a){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c=
"SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a&&58>a||64<a&&91>a)&&(c=String.fromCharCode(a));null!=c&&this.fd.JC(c)}},ml:function(a,c){null!=this.fd&&(this.fd.Fa(),this.fd.R(),this.fd=null);switch(a){case "Login":this.fd=new Login;break;case "Game":this.fd=new Ha}this.fd.yL();this.g(this.fd,
1);this.fd.fW(a);this.fd.ya();this.fd.v(c)},r3:function(){return this.fd.Fc()}});G.f=function(){null==this.u&&(this.u=new G);return this.u};G.yn=function(a){null==this.u&&(this.u=new G);this.u.WG=a};G.$R=function(){null==this.u&&(this.u=new G);return this.u.WG};var Y;
new (q.sj.extend({rw:document.ccConfig,ctor:function(){this._super();q.kt=this.rw.COCOS2D_DEBUG;q.Kl(this.rw.tag);q.Sx.$W().ER()},JQ:function(){var a=this.rw,c=q.da.f(),d=q.pa.f();d.qV(!0);Y=d.bn();q.size(Y.width,Y.height);var e=q.size(Y.width,Y.height),f=q.Od.f();q.sj.f();f.DK(["res/Graphics"]);q.Fh&&q.Fh.f().jaa("res/Audio");c.UV(1);d.lD(e.width,e.height,q.Un.SHOW_ALL);c.Ns(1/a.frameRate);a.test?q.test(a.test):(q.log("++++++++++++++++entry for game++++++++++++"),q.PT(function(a){q.uy.SC(a,function(){document.getElementById("gameCanvas").setAttribute("tabindex",
"0");document.getElementById("gameCanvas").focus();var a=G.f();q.da.f().MJ(a);a.v()})}));return!0}}));
//@ sourceMappingURL=sourcemap