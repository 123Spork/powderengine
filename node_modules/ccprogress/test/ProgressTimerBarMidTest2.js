
var ProgressTimerBarMid2 = cc.Layer.extend({
   init:function(){
       this._super();
       var winSize = cc.Director.getInstance().getWinSize();
       var to1 = cc.ProgressTo.create(5, 100);
       var to2 = cc.ProgressTo.create(5, 100);
       var to3 = cc.ProgressTo.create(5, 100);

       var tint = cc.Sequence.create(cc.TintTo.create(1, 255, 0, 0),cc.TintTo.create(1, 0, 255, 0),cc.TintTo.create(1, 0, 0, 255));
       var fade = cc.Sequence.create(cc.FadeTo.create(1.0, 0), cc.FadeTo.create(1.0, 255));

       var left = cc.ProgressTimer.create(cc.Sprite.create(res.powered_png));
       left.setType(cc.PROGRESS_TIMER_TYPE_BAR);
       left.setPosition(100, winSize.height / 2);
       left.runAction(cc.RepeatForever.create(to1));
       //    Setup for a bar starting from the bottom since the midpoint is 0 for the y
       left.setMidpoint(cc.p(0.5, 0.5));
       //    Setup for a vertical bar since the bar change rate is 0 for x meaning no horizontal change
       left.setBarChangeRate(cc.p(1, 0));
       left.runAction(cc.RepeatForever.create(tint.clone()));
       this.addChild(left);

       var middle = cc.ProgressTimer.create(cc.Sprite.create(res.powered_png));
       middle.setType(cc.PROGRESS_TIMER_TYPE_BAR);
       middle.setPosition(winSize.width/2, winSize.height / 2);
       middle.setMidpoint(cc.p(0.25, 0.25));
       //    Setup for a bar starting from the bottom since the midpoint is 0 for the y
       middle.setMidpoint(cc.p(0.5, 0.5));
       //    Setup for a vertical bar since the bar change rate is 0 for x meaning no horizontal change
       middle.setBarChangeRate(cc.p(1, 1));
       middle.runAction(cc.RepeatForever.create(to3));
       middle.runAction(cc.RepeatForever.create(fade.clone()));
       this.addChild(middle);

       var right = cc.ProgressTimer.create(cc.Sprite.create(res.powered_png));
       right.setType(cc.PROGRESS_TIMER_TYPE_BAR);
       right.setReverseDirection(true);
       right.setPosition(winSize.width - 100, winSize.height / 2);
       right.runAction(cc.RepeatForever.create(to2));
       //    Setup for a bar starting from the bottom since the midpoint is 0 for the y
       right.setMidpoint(cc.p(0.5, 0.5));
       //    Setup for a vertical bar since the bar change rate is 0 for x meaning no horizontal change
       right.setBarChangeRate(cc.p(0, 1));
       right.runAction(cc.RepeatForever.create(tint.clone()));
       right.runAction(cc.RepeatForever.create(fade.clone()));
       this.addChild(right);
       return true;
   }
});
ProgressTimerBarMid2.create = function(args){
    var layer = new ProgressTimerBarMid2();
    return layer.init() ? layer : null;
}